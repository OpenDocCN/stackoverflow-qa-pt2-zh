# StackOverflow 问答 14785000-14785999

# jquery - 如何访问 Google Maps InfoBox 中的 div

> ID：14785004
> 
> 赞同：1
> 
> 时间：2013-02-09T04:37:27.353
> 
> 标签：jquery, google-maps

有没有办法访问 InfoBox 中的 div？以下代码适用于标准 InfoWindow：

```
content = '<div id="#map_wrapper">THIS IS A CONTENT</div>';
infowindow.setContent(content);
infowindow.setPosition(cluster.getCenter());
infowindow.open(map);
console.log($('#map_wrapper').html()); 
```

但是，使用 InfoBox，`$('#map_wrapper').html()`返回`null`. 有没有办法访问`#map_wrapper`？

谢谢！

[西蒙.cpu]

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-17T02:34:14.477

您可以使用

```
$(infowindow.getContent()).find('#map_wrapper') 
```

# php - 我应该把 WHERE 子句放在哪里

> ID：14785005
> 
> 赞同：-2
> 
> 时间：2013-02-09T04:37:27.557
> 
> 标签：php, mysql, phpmyadmin

我应该把`WHERE`条款放在哪里。

```
$sql=("SELECT * FROM students  LIMIT $startResults, $resultsPerPage"); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-09T04:40:21.810

应该是这样的：

```
$sql=("SELECT * FROM students WHERE (condition) LIMIT $startResults, $resultsPerPage"); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-09T04:40:35.803

...您的问题有点模糊，但是....

通常人们会查询一个字符串，如果我猜你的要求是正确的：

```
$sql="SELECT * FROM students WHERE `mysql_field`='$somevalue' LIMIT $number_of_results_you_want_returned"; 
```

请记住，上面的查询并不能防止 sql 注入攻击......

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-09T04:41:23.470

```
SELECT * FROM students WHERE character='willing to learn' AND Age < 35 LIMIT $startResults, $resultsPerPage 
```

`WHERE`和（如有必要）`AND`插入

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-09T04:39:31.003

尝试，

```
$sql=("SELECT * FROM students WHERE <where_condition> LIMIT $startResults, $resultsPerPage"); 
```

# opengl - 我可以使用 OpenGL 进行离屏渲染吗？

> ID：14785007
> 
> 赞同：4
> 
> 时间：2013-02-09T04:37:42.850
> 
> 标签：opengl, 3d, rendering, render, off-screen

我想尝试制作一个简单的程序，该程序采用 3D 模型并将其渲染为图像。有什么方法可以使用 OpenGL 渲染图像并将其放入保存图像而不是显示图像的变量中？我不想看到我正在渲染的内容，我只想保存它。有没有办法用 OpenGL 做到这一点？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-10T09:50:36.603

我假设您知道如何使用 OpenGL 将内容绘制到屏幕上，并且您编写了一个诸如**drawStuff 之**类的函数来执行此操作。

首先，您必须决定最终渲染的大小；我在这里选择一个正方形，大小为 512x512。您也可以使用不是 2 的幂的大小，但为了简单起见，我们暂时使用这种格式。有时 OpenGL 对这个问题很挑剔。

```
const int width = 512;
const int height = 512; 
```

然后你需要三个对象来创建一个离屏绘图区域；正如 user1118321 所说，这称为*帧缓冲区对象。*

```
GLuint color;
GLuint depth;
GLuint fbo; 
```

FBO存储一个颜色缓冲区和一个深度缓冲区；您的屏幕渲染区域也有这两个缓冲区，但您不想使用它们，因为您不想绘制到屏幕上。要创建 FBO，您只需执行*一次*类似以下操作，例如在启动时：

```
glGenTextures(1, &color);
glBindTexture(GL_TEXTURE_2D, color);
glTexParameterf(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_NEAREST);
glTexParameterf(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_NEAREST);
glTexImage2D(GL_TEXTURE_2D, 0, GL_RGBA, width, height, 0, GL_BGRA, GL_UNSIGNED_BYTE, NULL);
glBindTexture(GL_TEXTURE_2D, 0);

glGenRenderbuffers(1, &depth);
glBindRenderbuffer(GL_RENDERBUFFER, depth);
glRenderbufferStorage(GL_RENDERBUFFER, GL_DEPTH_COMPONENT, width, height);
glBindRenderbuffer(GL_RENDERBUFFER, 0);

glGenFramebuffers(1, &fbo);
glBindFramebuffer(GL_FRAMEBUFFER, fbo);
glFramebufferTexture2D(GL_FRAMEBUFFER, GL_COLOR_ATTACHMENT0, GL_TEXTURE_2D, color, 0);
glFramebufferRenderbuffer(GL_FRAMEBUFFER, GL_DEPTH_ATTACHMENT, GL_RENDERBUFFER, depth);
glBindFramebuffer(GL_FRAMEBUFFER, 0); 
```

首先，创建一个存储像素颜色的内存区域，然后创建一个存储像素深度（在计算机图形学中用于删除隐藏表面），最后将它们连接到 FBO，它基本上包含对两者的引用。以第一个块为例，有 6 个调用：

*   **glGenTextures**为纹理创建一个名称；OpenGL 中的名称只是一个整数，因为字符串效率太低。
*   **glBindTexture将纹理** *绑定*到目标，即**GL_TEXTURE_2D**；指定相同目标的后续调用将对该纹理进行操作。
*   第 3 次、第 4 次和第 5 次调用特定于被操作的目标，您应该参考 OpenGL 文档以获取更多信息。
*   最后一次调用**glBindTexture** 将纹理与目标*解除绑定。*由于在某些时候您会将控制权交给您的**drawStuff**函数，而该函数又会进行大量的 OpenGL 调用，因此您现在需要清除工作区，以避免干扰您创建的对象。

要从屏幕渲染切换到屏幕外渲染，您可以在程序的某处使用布尔变量：

```
if (offscreen)
    glBindFramebuffer(GL_FRAMEBUFFER, fbo);
else
    glBindFramebuffer(GL_FRAMEBUFFER, 0);

drawStuff();

if (offscreen)
    saveToFile(); 
```

因此，如果**offscreen**为**真**，您实际上希望**drawStuff**干扰**fbo**，因为您希望它在其上渲染场景。

函数 saveToFile 负责加载渲染结果并将其转换为文件。这在很大程度上取决于您使用的操作系统和语言。例如，在带有 C 的 Mac OS X 上，它将类似于以下内容：

```
void saveImage()
{
    void *imageData = malloc(width * height * 4);

    glBindTexture(GL_TEXTURE_2D, color);
    glGetTexImage(GL_TEXTURE_2D, 0, GL_BGRA, GL_UNSIGNED_BYTE, imageData);

    CGContextRef contextRef = CGBitmapContextCreate(imageData, width, height, 8, 4 * width, CGColorSpaceCreateWithName(kCGColorSpaceGenericRGB), kCGImageAlphaPremultipliedLast);
    CGImageRef imageRef = CGBitmapContextCreateImage(contextRef);
    CFURLRef urlRef = (CFURLRef)[NSURL fileURLWithPath:@"/Users/JohnDoe/Documents/Output.png"];
    CGImageDestinationRef destRef = CGImageDestinationCreateWithURL(urlRef, kUTTypePNG, 1, NULL);
    CGImageDestinationAddImage(destRef, imageRef, nil);        
    CFRelease(destRef);

    glBindTexture(GL_TEXTURE_2D, 0);

    free(imageData);
} 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-02-09T07:00:28.590

是的，你可以这么做。您要做的是创建一个由纹理支持的[帧缓冲区对象 (FBO) 。](http://www.opengl.org/wiki/Framebuffer_Object)一旦你创建了一个并绘制它，你就可以[将纹理下载](http://www.opengl.org/sdk/docs/man/xhtml/glReadPixels.xml)到主内存并像处理任何位图一样保存它。

# c# - 如何使用条件在水晶报表中显示数据

> ID：14785008
> 
> 赞同：1
> 
> 时间：2013-02-09T04:38:05.927
> 
> 标签：c#, crystal-reports

在我的应用程序中，我在水晶报告中显示医院数据。它包括患者姓名，注册。编号、账单金额、医生姓名等。

现在我想要的是，当医生姓名发生变化时，记录应该在下一页，即每个医生都在新页面上记录。没有必要总是让所有医生都出现在记录中。

希望这个问题很清楚。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-09T04:44:31.270

在水晶报表中创建一个医生组，然后强制一个新的页面。这将看到每页一名医生。

[组图链接](http://www.codeproject.com/KB/aspnet/Crstalreportusingvs2010/Figure_14.jpg)

# c# - 在 C# 中将不规则字符串转换为 TimeSpan

> ID：14785012
> 
> 赞同：1
> 
> 时间：2013-02-09T04:38:51.893
> 
> 标签：c#, string, parsing, timespan

我有以下格式的几个字符串：

> “1:15”
> “:45”
> “1:30:45”

我需要将它们转换为 TimeSpan，但是当我 TimeSpan.Parse 其中一些（例如第一个）时，它会将其返回为 1 小时 15 分钟，而我希望它为 1 分 15 秒。

任何建议将不胜感激！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-09T04:56:57.727

您可以使用允许您指定精确[格式说明符](http://msdn.microsoft.com/en-us/library/ee372287.aspx)[`TimeSpan.ParseExact`](http://msdn.microsoft.com/en-us/library/dd783407.aspx)数组的重载。

```
var formats = new string[] {@"m\:s", @"\:s", ...};
var timeSpace = TimeSpan.ParseExact(input, formats, CultureInfo.CurrentCulture); 
```

请注意，`ParseExact`在 .Net 4 中引入

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-09T04:53:56.987

参数字符串需要采用下面指定的特定格式：

```
[ws][-]{ d | [d.]hh:mm[:ss[.ff]] }[ws] 
```

所以“1:15”将被视为hh:mm。如果您超过 1 分 15 秒，则需要将参数字符串重新格式化为`"00:01:15"`. 您可以简单地将字符串拆分为相应的天、小时、分钟、ss 变量，并使用这些变量来分配您的 TimeSpan 对象。

MSDN 在这里有很好的文档：

[http://msdn.microsoft.com/en-us/library/se73z7b9.aspx](http://msdn.microsoft.com/en-us/library/se73z7b9.aspx)

# c# - Windows Phone 存储键值对

> ID：14785021
> 
> 赞同：0
> 
> 时间：2013-02-09T04:39:59.160
> 
> 标签：c#, windows-phone, isolatedstorage

我正在制作一个应用程序，我认为存储应用程序状态的最佳方式是拥有键和值对。

我不确定是将这些数据保存在隔离存储中的文件中，还是将其保存为应用程序设置，因为它已经设置为键值对。

解决此问题的最佳方法是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-09T05:45:09.587

对于简单的键值对数据，使用`IsolatedStorageSettings`. 对于复杂数据，您应该考虑其他方式。

您可以包装使用的`IsolatedStorageSettings`方式，即不是每次都从文件中读取值，而是在第一次读取时缓存。例如，如果您还想从后台代理访问设置，您可能还希望使其成为线程安全的。

# hadoop - Amazon EMR 的输出文件夹

> ID：14785026
> 
> 赞同：1
> 
> 时间：2013-02-09T04:40:33.390
> 
> 标签：hadoop, amazon-web-services, amazon-s3, elastic-map-reduce, amazon-emr

我想 jun 一个自定义 jar，其主类是一系列 map reduce 作业，第一个作业的输出作为第二个 jar 的输入，依此类推。

我在 FileOutputFormat.setOutputPath("what path should be here?"); 中设置什么

如果我在参数中指定 -outputdir，则会收到错误 FileAlraedy 存在。如果我不指定，那么我不知道输出将落在哪里。我希望能够看到链式 mapreduce 作业的每个作业的输出。

谢谢你的建议。请帮忙！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-10-18T17:35:08.343

好的做法是从命令行获取输出，因为它会增加代码的灵活性并且您只需编译一次 jar，前提是更改与您的路径相关。如果您启动集群并编译您的 jar，则适用于 EMR

例如。

```
dfs_ip_folder=HDFS_IP_DIR
dfs_op_folder=HDFS_OP_DIR
hadoop jar hadoop-examples-*.jar wordcount ${dfs_ip_folder} ${dfs_op_folder} 
```

注意：您必须创建 dfs_ip_folder 并将输入数据存储在其中。dfs_op_folder 将在 HDFS 而不是本地文件系统上自动创建 要访问 HDFS op 文件夹，您可以将其复制到本地文件系统，也可以执行 cat。例如。

```
hadoop fs -cat ${dfs_op_folder}/<file_name>
hadoop fs -copyToLocal ${dfs_op_folder} ${your_local_input_dir_path} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-04T19:36:22.077

您可能会收到“FileAlraedy 存在”错误，因为该输出目录在您运行的作业之前存在。确保删除您指定为 Hadoop 作业输出的目录；否则您将无法运行这些作业。

# windows - 如何在 Windows 中使用批处理命令拆分字符串？

> ID：14785029
> 
> 赞同：0
> 
> 时间：2013-02-09T04:40:39.130
> 
> 标签：windows, batch-file

我在 Windows 计算机上设置了一个 LED 标志，并试图让它显示我的 Linux 计算机的温度：

acpitz-虚拟-0

适配器：虚拟设备

temp1：+97.7°F（临界 = +183.2°F）

现在，这是我电脑上的批处理文件

```
wget 192.168.1.58/sensor1.txt 
```

我在文件夹中有一个 Windows 版本的 wget。

```
type sensor1.txt | findstr /v acpitz-virtual-0 | findstr /v Adapter: > msg.txt
set /p msg= < msg.txt

prismcom.exe usb {HOLD} %msg% 
```

现在我的标志闪烁相当于

temp1：+97.7°F（临界 = +183.2°F）

我需要它来闪烁

+97.7°F,

甚至更好，

+97.7 华氏度

我一直在尝试使用 FIND 和 FOR 以及类似的命令，但没有运气。如何修改我的字符串以使其正常工作？

谢谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-09T05:57:09.210

假设存储温度的变量称为“temp”，其值为“temp1: +97.7°F (crit = +183.2°F)”。这个小片段应该会产生奇迹......

```
setlocal enabledelayedexpansion
set dis=!temp:~7,5! F
set check=!temp:~10,1!
if %check% neq . set dis=!temp:~7,6! F 
```

这是语法：

```
set variable=!variable_to_be_constrained:~offset,amount_of_characters! 
```

我应该提到的一件事是变量“TEMP”（或“temp”，大小写通常与 .bat 文件无关紧要）是预定义的命令行变量，通常不应该覆盖这些变量。但是，在这种情况下，它纯粹是出于审美目的，您可以将其更改为您想要的任何内容。

--EDIT-- 添加了两行以允许超过 100 华氏度的温度。也`temp`改为`dis`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-09T05:04:48.517

如果你有 Windows 版本的 wget，那么你还不如有一个特殊的命令来解析温度。在 C 中，您可以轻松地做您想做的事：

```
#include <stdio.h>

int main(void) {
    char buf[1000];
    scanf("temp1: %[+0-9.]", buf);
    printf("%sF", buf);
    return 0;
} 
```

用任何 C 编译器编译它。[从MinGW](http://www.mingw.org)（首选，因为编译后的代码不需要任何额外的 DLL）或[Cygwin](http://www.cygwin.com)（它确实需要额外的 DLL）获得一个免费的。你也可以试试[Microsoft Visual Studio Express](http://www.microsoft.com/visualstudio/eng#products/visual-studio-express-products)，不过比较麻烦。

如果上面的代码在 中`filter.c`，那么 MinGW 或 Cygwin 的命令将是

```
gcc filter.c -o filter 
```

这将生成一个名为 的文件`filter.exe`，您可以在管道中使用它

```
type sensor1.txt | findstr /v acpitz-virtual-0 | findstr /v Adapter: | filter > msg.txt 
```

道德是有限的工具（如`cmd.exe`）通常不值得麻烦。

# wpf - 如何在编辑单元格时更改 WPF DataGrid 单元格背景？

> ID：14785038
> 
> 赞同：4
> 
> 时间：2013-02-09T04:42:18.863
> 
> 标签：wpf, datagrid

以下是选择单元格时如何设置背景的示例，但是当我实际单击单元格内部进行编辑时，颜色会发生变化。编辑单元格时是否有触发属性？我希望背景不要改变。

```
<DataGrid Name="DG1" ItemsSource="{Binding}" SelectionUnit="Cell" >
    <DataGrid.CellStyle>
        <Style TargetType="DataGridCell" >
            <Style.Triggers>
                <Trigger Property="IsSelected" Value="True">
                    <Setter Property="Background" Value="SeaGreen"/>
                </Trigger>
            </Style.Triggers>
        </Style>
    </DataGrid.CellStyle>
</DataGrid> 
```

回答我自己的问题，看起来单元格背景颜色是基于`SystemColors.WindowBrushKey`. 像这样覆盖该资源`<SolidColorBrush x:Key="{x:Static SystemColors.WindowBrushKey}" Color="Red" />`就可以了。`

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-02-09T06:35:16.453

您可以将另一个触发器添加到您现有的`IsEditing`状态样式中。然后你可以为触发器`ControlTemplate`的内部设置。`DataGridCell`

```
<Trigger Property="IsEditing" Value="True">
    <Setter Property="Template">
        <Setter.Value>
            <ControlTemplate TargetType="DataGridCell">
                <TextBox Text="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=Content.Text, Mode=TwoWay, UpdateSourceTrigger=Default}"
                         HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Padding="0" BorderThickness="0" Background="SeaGreen"/>
            </ControlTemplate>
        </Setter.Value>
    </Setter>
</Trigger> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-09-27T13:37:30.143

这适用于 DataGridTemplateColumn 以及其他类型，如 DataGridTextColumn、DataGridCheckboxColumn 等：

```
<Style TargetType="{x:Type DataGridCell}">
    <Setter Property="Padding" Value="0" />
    <Setter Property="Margin" Value="0" />
    <Setter Property="BorderBrush" Value="Transparent" />
    <Setter Property="BorderThickness" Value="0" />
    <Setter Property="FocusVisualStyle" Value="{x:Null}"/>
    <Setter Property="Template">
        <Setter.Value>
            <ControlTemplate TargetType="{x:Type DataGridCell}">
                <Border x:Name="CellBorder"
                        BorderBrush="{TemplateBinding BorderBrush}" 
                        BorderThickness="{TemplateBinding BorderThickness}" 
                        Background="{TemplateBinding Background}"
                        SnapsToDevicePixels="True">
                            <ContentPresenter HorizontalAlignment="Stretch" VerticalAlignment="Center" />
                </Border>
                <ControlTemplate.Triggers>                                            
                    <Trigger Property="IsEditing" Value="True">
                        <Setter TargetName="CellBorder" Property="BorderBrush" Value="Green" />
                        <Setter TargetName="CellBorder" Property="Background" Value="yellow" />
                        <Setter TargetName="CellBorder" Property="BorderThickness" Value="1" />
                        <Setter Property="Foreground" Value="Black" />
                    </Trigger>
                </ControlTemplate.Triggers>
             </ControlTemplate>
         </Setter.Value>
     </Setter>
</Style> 
```

# c++ - c++ 到 python 的转换问题

> ID：14785040
> 
> 赞同：0
> 
> 时间：2013-02-09T04:42:30.013
> 
> 标签：c++, python, linux

在我之前的[问题](https://stackoverflow.com/questions/14784164/python-csv-parsing)之后：这就是我想出的：perf_data 是一个向量。

```
void read_data() {
    long val;
    ifstream infile1("/foo/other");

    infile1 >> val;
    perf_data[1].first = val;
    infile1.close();

    ifstream infile2("/foo/core_0");

    infile2 >> val;
    perf_data[0].first = val;
    infile2.close();
} 
```

据我了解，在 python 中，这不能针对文件完成，或者可以吗？

# windows-phone - Windows Phone 和网站请求

> ID：14785041
> 
> 赞同：0
> 
> 时间：2013-02-09T04:42:40.233
> 
> 标签：windows-phone

我希望向网站（服务器）发送请求以更新潜在的记分牌，拥有该应用程序的每个人都可以看到该记分牌。这个网站当然不仅限于应用程序用户 - 但任何人都可以访问它。

是否可以从 Windows Phone 应用程序调用 WCF，例如 WCF 可以在其中更新数据库。因此，每当有人访问网站时，都会看到更新的更改。

这是可能吗？如果是，这会是最明智/最优化的做事方式吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-09T07:28:27.857

我在 ViewModel 中使用 BsckgroundWorker 来防止 UI 挂起。这样，您可以“设置并忘记它”。像这样的东西：

```
private void UpdateScoreboard()
{ 
  var scoreboardWorker = new BackgroundWorker();
  scoreboardWorker.DoWork += (s,dwe)=>{
       //call some WCF service compleate async
  };
  scoreboardWorker.RunWorkerCompleted += (s,rwe)=>{
       // check whether rwe.Error is not null, indicating an exception. Show an alert maybe
  };
  scoreboardWorker.RunWorkerAsync();
} 
```

# algorithm - 范围最小查询 方法（查询）

> ID：14785042
> 
> 赞同：4
> 
> 时间：2013-02-09T04:42:40.063
> 
> 标签：algorithm, rmq

继续我的最后两个问题，“[最小范围查询方法（从树到受限 RMQ）](https://stackoverflow.com/questions/14777743/range-minimum-query-on-o1-approach-from-tree-to-restricted-rmq) ”和“[最小范围查询方法（最后步骤）](https://stackoverflow.com/questions/14784638/range-minimum-query-on-o1-approach-last-steps) ”

我在 TopCoder 上遵循[了本教程](http://community.topcoder.com/tc?module=Static&d1=tutorials&d2=lowestCommonAncestor#Another%20easy%20solution%20in%20O%28N%20logN,%20O%28logN%29)，该方法在最后一节中介绍。

现在假设我已经完成了所有工作，并且准备好进行查询。根据教程，这是我应该做的：

> i 和 j 在同一个块中，所以我们使用在 P 和 T 中计算的值

例如，如果有这样的块：

```
000111 
```

最小值当然在第三个 0 中，但如果 i 和 j 像 4 和 6，则第三个 0 不会在查询条件中。我的理解错了吗？

> i 和 j 位于不同的块中，因此我们计算三个值：使用 P 和 T 计算从 i 到 i 块末尾的最小值，使用对 A' 的预计算查询，计算 i 和 j 块之间的所有块的最小值，以及来自j的块开始到j，再次使用T和P；最后返回使用您刚刚计算的三个值的总体最小值的位置。

为什么要计算从 i 到 i 块末尾的最小值以及从 j 块开始到 j 的最小值？两者的答案不都在 i...j 之外吗？另外，如果它不像最后一个问题那样完全合适，该怎么做。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-09T04:51:35.120

> 最小值当然在第三个 0 中，但如果 i 和 j 像 4 和 6，则第三个 0 不会在查询条件中。我的理解错了吗？

*这个想法是为每个可能的块中的所有索引对*预先计算 RMQ 。因此，无论您在该块中查询什么索引，您都应该始终能够在 O(1) 时间内读取块内两个值的 RMQ。在您在问题中列出的情况下，索引 4 和 6 不包含块最小值这一事实是正确的，但无关紧要。您已经为索引 4 和 6 预先计算了 RMQ。

> 为什么要计算从 i 到 i 块末尾的最小值以及从 j 块开始到 j 的最小值？两者的答案不都在 i...j 之外吗？另外，如果它不像最后一个问题那样完全合适，该怎么做。

考虑这张图片：

```
+------+------+------+------+------+------+
| ?i?? | ???? | ???? | ???? | ??j? | ???? |
+------+------+------+------+------+------+
   ^                            ^
   i                            j 
```

如果要求解 RMQ(i, j)，则最小值可能位于以下三个位置之一：

*   在与 i 相同的块中，在从 i 在其块内的位置到其块末尾的索引处，
*   在与 j 相同的块中，在从 0 到 j 在其块内的位置的索引处，或
*   在中间三个街区之一的某个地方。

该算法通过使用预先计算的表来解决前两种情况的问题，然后使用另一种算法来解决第三种情况。这三个中的最小值应该是您的答案。

希望这可以帮助！这绝不是一个简单的算法，所以如果您需要帮助，请随时在这里提出更多问题！

# php - 如何在另一个网站的 iframe 中显示需要 POST 变量的一个网页的内容？

> ID：14785043
> 
> 赞同：0
> 
> 时间：2013-02-09T04:42:45.310
> 
> 标签：php, mysql, forms, post, iframe

使用 PHP 和 MySQL。我有 2 个网站，并且想在第二个网站的 iframe 中显示第一个网站的页面上的内容。在第一个网站的页面中，它需要通过表单提交的 POST 变量。如何将 POST 变量发送到 iframe？

我在第二个网站页面中的概念是这样的：

```
<html>
<body>
<form method="post" action="iframe1">
<select name="choice">
  <option value="1">1</option>
  <option value="2">2</option>
  <option value="3">3</option>
</select>
</form>
<iframe name="iframe1" src="first_website.com/page1.php?????????></iframe>
</body>
</html> 
```

如何使用选择变量使 iframe 显示页面内容？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-09T04:47:39.187

这就是`GET`创建的原因，以便您可以在 URL 中传递参数：

```
<iframe name="iframe1" src="first_website.com/page1.php?choice=1"></iframe> 
```

然后更改 PHP 代码，使所有`$_POST[]`变量都是`$_GET[]`变量。

**另外的选择：**

使用 AJAX 请求 POST 到 PHP 脚本，然后使用 javascript 将 AJAX 响应 HTML/文本插入 iframe：

[如何使用 javascript 更改 iframe HTML](https://stackoverflow.com/questions/139118/javascript-iframe-innerhtml)

# android - 付款后Android应用内购买崩溃

> ID：14785048
> 
> 赞同：6
> 
> 时间：2013-02-09T04:43:37.393
> 
> 标签：android, in-app-purchase, google-play, in-app-billing

我已经在我的应用程序中实现了应用程序购买我已经使用“TrivialDrive”示例进行第 3 版应用程序内计费，我已经使用静态响应测试了应用程序，所有工作都按预期工作。

但是当我从市场下载应用程序时，应用程序在成功购买时崩溃，

我的代码购买成功

```
IabHelper.OnIabPurchaseFinishedListener mPurchaseFinishedListener = new IabHelper.OnIabPurchaseFinishedListener() {
public void onIabPurchaseFinished(IabResult result, Purchase purchase) {

    Log.d(TAG, "Purchase finished: " + result + ", purchase: " + purchase);
    if (result.isFailure()) {
    complain("Error purchasing: " + result);
    }

    if (purchase != null) {
    if (purchase.getSku().equals(Constants.IN_APP_PURCHASE_PRODUCT_ID)) {
        // bought the premium upgrade!
        String message = getResources().getString(R.string.app_purchase_successful_msg);
        mIsPremium = true;
        updateUi(mIsPremium);
        successAlert(message);
    }
    }
}
}; 
```

我已经设置了成功购买的消息，但我看不到这条消息，（意味着那些 linse 没有执行）当我从它成功购买时，成功付款后应用程序崩溃。

当重新启动应用程序并尝试购买项目时，它说已经购买。

我从开发者控制台收到了崩溃报告。

```
02-09 02:01:13.181: E/AndroidRuntime(11530): java.lang.RuntimeException: Failure delivering result ResultInfo{who=null, request=10001, result=-1, data=Intent { (has extras) }} to activity {com.eknathkadam.grammaruplite/com.webrich.base.ui.GoogleInAppPurchaseActivity}: java.lang.NullPointerException
02-09 02:01:13.181: E/AndroidRuntime(11530):    at android.app.ActivityThread.deliverResults(ActivityThread.java:3141)
02-09 02:01:13.181: E/AndroidRuntime(11530):    at android.app.ActivityThread.handleSendResult(ActivityThread.java:3184)
02-09 02:01:13.181: E/AndroidRuntime(11530):    at android.app.ActivityThread.access$1100(ActivityThread.java:130)
02-09 02:01:13.181: E/AndroidRuntime(11530):    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1243)
02-09 02:01:13.181: E/AndroidRuntime(11530):    at android.os.Handler.dispatchMessage(Handler.java:99)
02-09 02:01:13.181: E/AndroidRuntime(11530):    at android.os.Looper.loop(Looper.java:137)
02-09 02:01:13.181: E/AndroidRuntime(11530):    at android.app.ActivityThread.main(ActivityThread.java:4745)
02-09 02:01:13.181: E/AndroidRuntime(11530):    at java.lang.reflect.Method.invokeNative(Native Method)
02-09 02:01:13.181: E/AndroidRuntime(11530):    at java.lang.reflect.Method.invoke(Method.java:511)
02-09 02:01:13.181: E/AndroidRuntime(11530):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:786)
02-09 02:01:13.181: E/AndroidRuntime(11530):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:553)
02-09 02:01:13.181: E/AndroidRuntime(11530):    at dalvik.system.NativeStart.main(Native Method)
**02-09 02:01:13.181: E/AndroidRuntime(11530): Caused by: java.lang.NullPointerException
02-09 02:01:13.181: E/AndroidRuntime(11530):    at com.google.billing.Base64.decode(Base64.java:434)**
02-09 02:01:13.181: E/AndroidRuntime(11530):    at com.google.billing.Security.generatePublicKey(Security.java:87)
02-09 02:01:13.181: E/AndroidRuntime(11530):    at com.google.billing.Security.verifyPurchase(Security.java:66)
02-09 02:01:13.181: E/AndroidRuntime(11530):    at com.google.billing.IabHelper.handleActivityResult(IabHelper.java:437)
02-09 02:01:13.181: E/AndroidRuntime(11530):    at com.webrich.base.ui.GoogleInAppPurchaseActivity.onActivityResult(GoogleInAppPurchaseActivity.java:238)
02-09 02:01:13.181: E/AndroidRuntime(11530):    at android.app.Activity.dispatchActivityResult(Activity.java:5192)
02-09 02:01:13.181: E/AndroidRuntime(11530):    at android.app.ActivityThread.deliverResults(ActivityThread.java:3137)
02-09 02:01:13.181: E/AndroidRuntime(11530):    ... 11 more
02-09 02:02:20.610: E/JavaBinder(250): !!! FAILED BINDER TRANSACTION !!!
02-09 02:02:20.638: E/MountService(250): Listener dead
02-09 02:02:20.638: E/MountService(250): Listener dead
02-09 02:02:22.028: E/InputDispatcher(250): channel '41f313f0 com.android.vending/com.android.vending.AssetBrowserActivity (server)' ~ Channel is unrecoverably broken and will be disposed!
02-09 02:03:59.884: E/PowerManagerService(250): Excessive delay setting brightness: 198ms, mask=2 
```

它在这一行的 onActivityResult() 方法中抛出空指针异常

```
if (!mHelper.handleActivityResult(requestCode, resultCode, data)) 
```

方法是这样的

```
 @Override
protected void onActivityResult(int requestCode, int resultCode, Intent data) {
Log.d(TAG, "onActivityResult(" + requestCode + "," + resultCode + "," + data);

// Pass on the activity result to the helper for handling
if (!mHelper.handleActivityResult(requestCode, resultCode, data)) {
    // not handled, so handle it ourselves (here's where you'd
    // perform any handling of activity results not related to in-app
    // billing...
    super.onActivityResult(requestCode, resultCode, data);
} else {
    Log.d(TAG, "onActivityResult handled by IABUtil.");
}
} 
```

它在静态响应上工作得很好，但是当我从市场上购买时崩溃。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-11-14T16:51:07.240

**我通过简单地使我的 IabHelper 成员变量（mHelper）静态**解决了这个问题

 *** * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T11:50:51.757

我面临着完全相同的问题。然后，我意识到整个活动有时会在购买过程中重新创建（无缘无故）。我没有单独测试 Trivia 示例以检查它是否也发生在该应用程序中，但我希望它发生，因为它似乎与计费过程有关（或与我在自己的应用程序中使用的该示例的辅助方法有关也）。

我自己的代码的计费部分和 Trivia 示例之间的唯一区别是，我是从针对某个事件启动的方法实例化 mHelper，而在 Trivia 示例中是从 onCreate 实例化的。所以我做了那个改变（我现在从 onCreate 创建了新的 mHelper 实例），一切都开始正常工作了。问题是，当重新创建活动时，mHelper 会在 onCreate 中再次实例化，因此在以下对 onActivityResult 的调用中，它不能为空。

老实说，我不知道为什么要重新创建 Activity 以及为什么要调用 Activity 的新实例的 onActivityResult 方法，但现在一切似乎都正常了。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-01-16T11:54:43.173

我有同样的问题。我发现当显示应用内购买框时，在我的应用程序活动中执行 onPause 方法，当框关闭时，执行 onResume 方法。这是这些方法的代码：

```
@Override
public void onPause()
{
   mWakeLock.release();
   super.onPause();
}

@Override
public void onResume()
{
   super.onResume();
   mWakeLock.acquire();
} 
```

最后，我删除了执行 mWaveLock 的行。

```
@Override
public void onPause()
{
   super.onPause();
}

@Override
public void onResume()
{
   super.onResume();
} 
```

它工作正常。我希望它会帮助某人。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-06-26T12:04:53.567

我知道这个线程很旧，但我可能只是遇到了同样的问题。你的方法是什么

```
complain("Error purchasing: " + result); 
```

做？

我打了电话

```
Toast.makeText(getParent(), "Premium purchased successfully", Toast.LENGTH_LONG)
                    .show(); 
```

在完全相同的地方，这对我造成了以下错误：

```
06-26 14:02:54.229: E/AndroidRuntime(25681): java.lang.RuntimeException: Failure delivering result ResultInfo{who=null, request=10001, result=0, data=Intent { (has extras) }} to activity {sf.com.flightBook/sf.com.flightBook.ui.configuration.ConfigurationMain}: java.lang.NullPointerException 
```

如果这仍然与您相关，您应该检查您的“complain()”方法。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2016-10-12T12:14:35.113

当我遇到这个问题时，我发现我的应用程序中的公钥与 google play 为我的应用程序生成的许可证密钥不对应**

# windows - 部署 Rails 应用 Capistrano 大量错误

> ID：14785049
> 
> 赞同：0
> 
> 时间：2013-02-09T04:44:10.153
> 
> 标签：windows, git, ruby-on-rails-3.1, github, capistrano

我第一次尝试在 vexxhost 上部署我的 rails 应用程序。我使用 github 作为我的源代码管理和 capistrano。

这是我的部署文件

```
 require 'bundler/capistrano'
   require 'capistrano'
   require 'bundler'
   require 'capistrano-vexxhost'

   # Account Settings

   ssh_options[:forward_agent] = true
   set :scm_command, "/home/user/opt/bin/git"
   set :local_scm_command,"git"
   set :user, "xxxxxxxx"
   set :password, "xxxxxxxxx"
   set :domain, "domain.com"
   set :mount_path,"/home/xxxxxxxx/xxxxxxx"
   set :application,"app name"
   set :scm, :git
   set :deploy_via, :copy
   set :repository, "git@github.com:xxxxx/xxxxxxx.git"
   default_run_options[:pty] = true 
```

问题 1)

一旦我安装了 gem 'capistrano' gem 'capistrano-vexxhost'，我在尝试在本地运行我的应用程序时遇到以下错误（它在安装 capistrano 之前工作）。

```
 C:/Ruby193/lib/ruby/gems/1.9.1/gems/capistrano-2.14.1/lib/capistrano/configuration/loading.rb:18:in `instance': Please require this file from within a Capistrano recipe (LoadError)
    from C:/Ruby193/lib/ruby/gems/1.9.1/gems/capistrano-vexxhost-1.0.3/lib/capistrano-vexxhost/capistrano_integration.rb:6:in `<top (required)>'
    from C:/Ruby193/lib/ruby/gems/1.9.1/gems/capistrano-vexxhost-1.0.3/lib/capistrano-vexxhost.rb:2:in `require'
    from C:/Ruby193/lib/ruby/gems/1.9.1/gems/capistrano-vexxhost-1.0.3/lib/capistrano-vexxhost.rb:2:in `<top (required)>'
    from C:/Ruby193/lib/ruby/gems/1.9.1/gems/bundler-1.2.3/lib/bundler/runtime.rb:68:in `require'
    from C:/Ruby193/lib/ruby/gems/1.9.1/gems/bundler-1.2.3/lib/bundler/runtime.rb:68:in `block (2 levels) in require'
    from C:/Ruby193/lib/ruby/gems/1.9.1/gems/bundler-1.2.3/lib/bundler/runtime.rb:66:in `each'
    from C:/Ruby193/lib/ruby/gems/1.9.1/gems/bundler-1.2.3/lib/bundler/runtime.rb:66:in `block in require'
    from C:/Ruby193/lib/ruby/gems/1.9.1/gems/bundler-1.2.3/lib/bundler/runtime.rb:55:in `each'
    from C:/Ruby193/lib/ruby/gems/1.9.1/gems/bundler-1.2.3/lib/bundler/runtime.rb:55:in `require'
    from C:/Ruby193/lib/ruby/gems/1.9.1/gems/bundler-1.2.3/lib/bundler.rb:128:in `require'
    from C:/Users/mummy/LagoAds/config/application.rb:9:in `<top (required)>'
    from C:/Ruby193/lib/ruby/gems/1.9.1/gems/railties-3.2.6/lib/rails/commands.rb:53:in     `require'
    from C:/Ruby193/lib/ruby/gems/1.9.1/gems/railties-3.2.6/lib/rails/commands.rb:53:in `block in <top (required)>'
    from C:/Ruby193/lib/ruby/gems/1.9.1/gems/railties-3.2.6/lib/rails/commands.rb:50:in `tap'
    from C:/Ruby193/lib/ruby/gems/1.9.1/gems/railties-3.2.6/lib/rails/commands.rb:50:in `<top (required)>'
    from script/rails:6:in `require'
    from script/rails:6:in `<main>' 
```

**注意**但是，当我从 application.rb 文件中的以下代码中注释**Bundler.require**行时，它会成功运行但无法识别 gem

```
 if defined?(Bundler)
  # If you precompile assets before deploying to production, use this line
  Bundler.require(*Rails.groups(:assets => %w(development test)))
  # If you want your assets lazily compiled in production, use this line
  # Bundler.require(:default, :assets, Rails.env)
  end 
```

问题 2）何时在我的 ruby​​ 命令提示符下键入“cap deploy：check”时出现以下错误。 ![在此处输入图像描述](../Images/bd9f2519167a7c489fb5dca7a1ce067e.png)

问题 3）何时在我的 ruby​​ 命令提示符下键入“cap deploy:cold”我收到以下错误

![在此处输入图像描述](../Images/068352494d3592ebbab08b75c0ff48e5.png)

我的 deploy.rb 中是否缺少任何东西，或者我没有做任何事情。

**请我需要帮助，我已经解决这个问题很长时间了。我是部署 Web 应用程序的新手，Rails 对我来说非常困难**

请帮忙

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T20:51:34.883

**问题 2 和 3** 您的第二个和第三个问题是 git 和 tar 不在您的路径中的结果。要么根本没有安装它们，要么你的路径不完整。请参阅我在下面引用的错误。

**问题 2**

```
 'git' could not be found on the local host
 'tar' could not be found on the local host 
```

**问题 3**

```
 no such file or directory git ls-remote... 
```

**问题 1**

不幸的是，我对#1 没有答案。猜测是您需要添加`capistrano`和/或`capistrano-vexxhost`到您的`deploy.rb`.

# android - 如何在循环中正确读取精灵位置；我能看到其他图像的边缘：\

> ID：14785050
> 
> 赞同：0
> 
> 时间：2013-02-09T04:44:23.837
> 
> 标签：android, sprite, sprite-sheet

我已经搜索并尝试了几种方法来做到这一点，但无法做到这一点。以下代码会产生丑陋的结果；创建的位图包含来自多个图标的边缘，例如 10% 的顶部和 10% 的左侧来自其他图标以及 80% 来自目标图标。但是第一个位图（在 x=0，y=0 上创建的位图）是完美的，但其余的则不是。

请让我知道我在这里做错了什么。干杯!

```
private Bitmap[][]  createIcons(Bitmap sprite_sheet, int rows, int cols)
{
    Bitmap[][] iconBox_TMP = new Bitmap[20][20];
    int width   = sprite_sheet.getWidth()   / cols;
    int height  = sprite_sheet.getHeight()  / rows;

    try{

        for (int i=0; i<rows; i += 1) 
        {

            for (int j=0; j<cols; j += 1) 
            {

                /*
                            //same result with matrix
                Matrix matrix = new Matrix();
                matrix.postScale(1.0f, 1.0f);
                    iconBox_TMP[i][j] = Bitmap.createBitmap(
                            sprite_sheet, 
                            j*width, 
                            i*height, 
                            width, 
                            height, 
                            matrix, 
                            true);
                    matrix.reset();
                    matrix = null;
                    */

                    iconBox_TMP[i][j] = Bitmap.createBitmap(sprite_sheet,
                    width * j, 
                    height * i, 
                    width, 
                    height);

                    Log.d("createIcons()", "(" + i + "," + j + ") X: " + j*width + ", Y: " + (i*height) + ", W: " + width + ", H: " + height);

            }

        }   

    }catch(Exception e){}

    return iconBox_TMP;
} 
```

编辑：

这是 LogCat 输出：

```
02-10 04:41:01.281: D/createIcons()(4961): (0,0) X: 0, Y: 0, W: 79, H: 79
02-10 04:41:01.281: D/createIcons()(4961): (0,1) X: 79, Y: 0, W: 79, H: 79
02-10 04:41:01.281: D/createIcons()(4961): (0,2) X: 158, Y: 0, W: 79, H: 79
02-10 04:41:01.281: D/createIcons()(4961): (0,3) X: 237, Y: 0, W: 79, H: 79
02-10 04:41:01.281: D/createIcons()(4961): (0,4) X: 316, Y: 0, W: 79, H: 79
02-10 04:41:01.285: D/createIcons()(4961): (0,5) X: 395, Y: 0, W: 79, H: 79
02-10 04:41:01.285: D/createIcons()(4961): (0,6) X: 474, Y: 0, W: 79, H: 79
02-10 04:41:01.285: D/createIcons()(4961): (0,7) X: 553, Y: 0, W: 79, H: 79
02-10 04:41:01.285: D/createIcons()(4961): (0,8) X: 632, Y: 0, W: 79, H: 79
02-10 04:41:01.285: D/createIcons()(4961): (0,9) X: 711, Y: 0, W: 79, H: 79
02-10 04:41:01.285: D/createIcons()(4961): (1,0) X: 0, Y: 79, W: 79, H: 79
02-10 04:41:01.285: D/createIcons()(4961): (1,1) X: 79, Y: 79, W: 79, H: 79
02-10 04:41:01.289: D/createIcons()(4961): (1,2) X: 158, Y: 79, W: 79, H: 79
02-10 04:41:01.289: D/createIcons()(4961): (1,3) X: 237, Y: 79, W: 79, H: 79
02-10 04:41:01.289: D/createIcons()(4961): (1,4) X: 316, Y: 79, W: 79, H: 79
02-10 04:41:01.289: D/createIcons()(4961): (1,5) X: 395, Y: 79, W: 79, H: 79
02-10 04:41:01.289: D/createIcons()(4961): (1,6) X: 474, Y: 79, W: 79, H: 79
02-10 04:41:01.289: D/createIcons()(4961): (1,7) X: 553, Y: 79, W: 79, H: 79
02-10 04:41:01.289: D/createIcons()(4961): (1,8) X: 632, Y: 79, W: 79, H: 79
02-10 04:41:01.289: D/createIcons()(4961): (1,9) X: 711, Y: 79, W: 79, H: 79
02-10 04:41:01.292: D/createIcons()(4961): (2,0) X: 0, Y: 158, W: 79, H: 79
02-10 04:41:01.292: D/createIcons()(4961): (2,1) X: 79, Y: 158, W: 79, H: 79
02-10 04:41:01.292: D/createIcons()(4961): (2,2) X: 158, Y: 158, W: 79, H: 79
02-10 04:41:01.292: D/createIcons()(4961): (2,3) X: 237, Y: 158, W: 79, H: 79
02-10 04:41:01.292: D/createIcons()(4961): (2,4) X: 316, Y: 158, W: 79, H: 79
02-10 04:41:01.292: D/createIcons()(4961): (2,5) X: 395, Y: 158, W: 79, H: 79
02-10 04:41:01.292: D/createIcons()(4961): (2,6) X: 474, Y: 158, W: 79, H: 79
02-10 04:41:01.292: D/createIcons()(4961): (2,7) X: 553, Y: 158, W: 79, H: 79
02-10 04:41:01.292: D/createIcons()(4961): (2,8) X: 632, Y: 158, W: 79, H: 79
02-10 04:41:01.296: D/createIcons()(4961): (2,9) X: 711, Y: 158, W: 79, H: 79
02-10 04:41:01.296: D/createIcons()(4961): (3,0) X: 0, Y: 237, W: 79, H: 79
02-10 04:41:01.296: D/createIcons()(4961): (3,1) X: 79, Y: 237, W: 79, H: 79
02-10 04:41:01.296: D/createIcons()(4961): (3,2) X: 158, Y: 237, W: 79, H: 79
02-10 04:41:01.296: D/createIcons()(4961): (3,3) X: 237, Y: 237, W: 79, H: 79
02-10 04:41:01.296: D/createIcons()(4961): (3,4) X: 316, Y: 237, W: 79, H: 79
02-10 04:41:01.296: D/createIcons()(4961): (3,5) X: 395, Y: 237, W: 79, H: 79
02-10 04:41:01.296: D/createIcons()(4961): (3,6) X: 474, Y: 237, W: 79, H: 79
02-10 04:41:01.300: D/createIcons()(4961): (3,7) X: 553, Y: 237, W: 79, H: 79
02-10 04:41:01.324: D/createIcons()(4961): (3,8) X: 632, Y: 237, W: 79, H: 79
02-10 04:41:01.324: D/createIcons()(4961): (3,9) X: 711, Y: 237, W: 79, H: 79
02-10 04:41:01.324: D/createIcons()(4961): (4,0) X: 0, Y: 316, W: 79, H: 79
02-10 04:41:01.324: D/createIcons()(4961): (4,1) X: 79, Y: 316, W: 79, H: 79
02-10 04:41:01.328: D/createIcons()(4961): (4,2) X: 158, Y: 316, W: 79, H: 79
02-10 04:41:01.328: D/createIcons()(4961): (4,3) X: 237, Y: 316, W: 79, H: 79
02-10 04:41:01.328: D/createIcons()(4961): (4,4) X: 316, Y: 316, W: 79, H: 79
02-10 04:41:01.328: D/createIcons()(4961): (4,5) X: 395, Y: 316, W: 79, H: 79
02-10 04:41:01.328: D/createIcons()(4961): (4,6) X: 474, Y: 316, W: 79, H: 79
02-10 04:41:01.328: D/createIcons()(4961): (4,7) X: 553, Y: 316, W: 79, H: 79
02-10 04:41:01.328: D/createIcons()(4961): (4,8) X: 632, Y: 316, W: 79, H: 79
02-10 04:41:01.328: D/createIcons()(4961): (4,9) X: 711, Y: 316, W: 79, H: 79
02-10 04:41:01.332: D/createIcons()(4961): (5,0) X: 0, Y: 395, W: 79, H: 79
02-10 04:41:01.332: D/createIcons()(4961): (5,1) X: 79, Y: 395, W: 79, H: 79
02-10 04:41:01.332: D/createIcons()(4961): (5,2) X: 158, Y: 395, W: 79, H: 79
02-10 04:41:01.332: D/createIcons()(4961): (5,3) X: 237, Y: 395, W: 79, H: 79
02-10 04:41:01.332: D/createIcons()(4961): (5,4) X: 316, Y: 395, W: 79, H: 79
02-10 04:41:01.332: D/createIcons()(4961): (5,5) X: 395, Y: 395, W: 79, H: 79
02-10 04:41:01.332: D/createIcons()(4961): (5,6) X: 474, Y: 395, W: 79, H: 79
02-10 04:41:01.332: D/createIcons()(4961): (5,7) X: 553, Y: 395, W: 79, H: 79
02-10 04:41:01.335: D/createIcons()(4961): (5,8) X: 632, Y: 395, W: 79, H: 79
02-10 04:41:01.335: D/createIcons()(4961): (5,9) X: 711, Y: 395, W: 79, H: 79
02-10 04:41:01.335: D/createIcons()(4961): (6,0) X: 0, Y: 474, W: 79, H: 79
02-10 04:41:01.335: D/createIcons()(4961): (6,1) X: 79, Y: 474, W: 79, H: 79
02-10 04:41:01.335: D/createIcons()(4961): (6,2) X: 158, Y: 474, W: 79, H: 79
02-10 04:41:01.335: D/createIcons()(4961): (6,3) X: 237, Y: 474, W: 79, H: 79
02-10 04:41:01.335: D/createIcons()(4961): (6,4) X: 316, Y: 474, W: 79, H: 79
02-10 04:41:01.335: D/createIcons()(4961): (6,5) X: 395, Y: 474, W: 79, H: 79
02-10 04:41:01.339: D/createIcons()(4961): (6,6) X: 474, Y: 474, W: 79, H: 79
02-10 04:41:01.339: D/createIcons()(4961): (6,7) X: 553, Y: 474, W: 79, H: 79
02-10 04:41:01.339: D/createIcons()(4961): (6,8) X: 632, Y: 474, W: 79, H: 79
02-10 04:41:01.339: D/createIcons()(4961): (6,9) X: 711, Y: 474, W: 79, H: 79
02-10 04:41:01.339: D/createIcons()(4961): (7,0) X: 0, Y: 553, W: 79, H: 79
02-10 04:41:01.339: D/createIcons()(4961): (7,1) X: 79, Y: 553, W: 79, H: 79
02-10 04:41:01.339: D/createIcons()(4961): (7,2) X: 158, Y: 553, W: 79, H: 79
02-10 04:41:01.339: D/createIcons()(4961): (7,3) X: 237, Y: 553, W: 79, H: 79
02-10 04:41:01.343: D/createIcons()(4961): (7,4) X: 316, Y: 553, W: 79, H: 79
02-10 04:41:01.343: D/createIcons()(4961): (7,5) X: 395, Y: 553, W: 79, H: 79
02-10 04:41:01.343: D/createIcons()(4961): (7,6) X: 474, Y: 553, W: 79, H: 79
02-10 04:41:01.343: D/createIcons()(4961): (7,7) X: 553, Y: 553, W: 79, H: 79
02-10 04:41:01.343: D/createIcons()(4961): (7,8) X: 632, Y: 553, W: 79, H: 79
02-10 04:41:01.343: D/createIcons()(4961): (7,9) X: 711, Y: 553, W: 79, H: 79 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-10T20:37:47.673

这是一个舍入错误，因为在您的原始精灵表上，每个单元格应该是 53x53。但是，当您加载位图时，它会使其成为更大的位图以适应设备的分辨率 (hdpi)

通过从 mdpi 转换为 hdpi，您的位图将增长 50%，并且单元格应为 79.5 像素宽。但当然，这个数字向下舍入到 79 像素，因此某些精灵的偏移误差。

如果您的精灵表是一个资源，那么您应该提供一个 hdpi 版本，它将是 735x636 像素。这样，您将能够自己控制转换（您会发现 735 不是 10 的倍数，因此您可能需要稍微更改这些尺寸）。

# flash-builder - 为什么 XMLListCollection 会被 Flash Builder 4.6 中的 addItamat 函数破坏

> ID：14785052
> 
> 赞同：0
> 
> 时间：2013-02-09T04:44:41.353
> 
> 标签：flash-builder

有问题的 XMLListCollection 被称为 studentsAll 并且在创建后看起来像这样......

```
<details>
   <name>Baughman,  John D (@hawaii.rr.com at Pearl City H. S.)</name>
   <id>2693</id>
   <emailpw>johnbdh@hawaii.rr.com</emailpw>
   <pw/>
 </details>
 <details>
    <name>Benoit, Sandra (@gmail.com at Pearl City H. S.)</name>
    <id>2694</id>
    <emailpw>sandra@gmail.com</emailpw>
    <pw/>
 </details> 
```

然后我在跑步...

```
studentsList = new XMLListCollection;
studentsIDs = new XMLListCollection;

for (var _index:int=0; _index < studentsAll.length; _index++) {
    studentsList.addItemAt(studentsAll[_index].name, studentsList.length);
    studentsIDs.addItemAt(studentsAll[_index].id, studentsIDs.length);

} 
```

完成 XMLListCollection studentsAll 的 Wehn 看起来像这样......

```
<details>
    <name>Baughman,  John D (@hawaii.rr.com at Pearl City H. S.)</name>
    <name>Benoit, Sandra (@gmail.com at Pearl City H. S.)</name>
    <id>2693</id>
    <id>2694</id>
    <emailpw>johnbdh@hawaii.rr.com</emailpw>
    <pw/>
</details>
<details>
     <name>Benoit, Sandra (@gmail.com at Pearl City H. S.)</name>
     <id>2694</id>
     <emailpw>sandra@gmail.com</emailpw>
     <pw/>
</details> 
```

注意第二个索引中的标签在第一个索引中是如何重复的。

这是一个错误吗？

谢谢，

约翰

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-11-20T03:56:49.650

恕我直言，这是由 SDK 错误引起的：[https ://issues.apache.org/jira/browse/FLEX-33913](https://issues.apache.org/jira/browse/FLEX-33913)

一个非常讨厌的错误；就个人而言，我现在根本不信任 XMLListCollection。

**解决方法：** 使用 XMLList、Array 或 ArrayCollection 而不是 XMLListCollection 或`for`在克隆的集合上运行循环 - 使用`.copy()`

# scala - 从参数集合构造案例类

> ID：14785054
> 
> 赞同：2
> 
> 时间：2013-02-09T04:45:17.400
> 
> 标签：scala, case-class

鉴于：

```
case class Thing(a:Int, b:String, c:Double)

val v = Vector(1, "str", 7.3) 
```

我想要一些能神奇地创造的东西：

```
Thing(1, "str", 7.3) 
```

这样的东西是否存在（对于任意大小的东西）？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-09T06:24:26.270

我第一次涉足 2.10 实验反射设施。所以主要遵循这个大纲[http://docs.scala-lang.org/overviews/reflection/overview.html](http://docs.scala-lang.org/overviews/reflection/overview.html)，我想出了这个：

```
import scala.reflect.runtime.{universe=>ru}

case class Thing(a: Int, b: String, c: Double)

object Test {
  def main(args: Array[String]) {
    val v = Vector(1, "str", 7.3)
    val thing: Thing = Ref.runtimeCtor[Thing](v)
    println(thing) // prints: Thing(1,str,7.3)
  }
}

object Ref {
  def runtimeCtor[T: ru.TypeTag](args: Seq[Any]): T = {
    val typeTag = ru.typeTag[T]
    val runtimeMirror = ru.runtimeMirror(getClass.getClassLoader)

    val classSymbol = typeTag.tpe.typeSymbol.asClass
    val classMirror = runtimeMirror.reflectClass(classSymbol)

    val constructorSymbol = typeTag.tpe.declaration(ru.nme.CONSTRUCTOR).asMethod
    val constructorMirrror = classMirror.reflectConstructor(constructorSymbol)
    constructorMirrror(args: _*).asInstanceOf[T]
  }
} 
```

请注意，当我在 main 方法中有 case 类时，它没有编译。我不知道是否只能为非内部案例类生成类型标记。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-09T08:25:45.607

我不知道是否可以获得带有编译时错误的工作解决方案，但这是我使用匹配的解决方案：

```
case class Thing(a: Int, b: String, c: Double)
def printThing(t: Thing) {
  println(t.toString)
}

implicit def vectToThing(v: Vector[Any]) = v match {
  case (Vector(a: Int, b: String, c: Double)) => new Thing(a, b, c)
}

val v = Vector(1, "str", 7.3) // this is of type Vector[Any]
printThing(v) // prints Thing(1,str,7.3)
printThing(Vector(2.0, 1.0)) // this is actually a MatchError 
```

这种“事物”转换是否有实际目的，还是您宁愿使用 Tuple3[Int,String,Double] 而不是 Vector[Any]？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-09T12:25:52.380

从您的问题来看，尚不清楚您将使用它来做什么。您所说的事物实际上可能是 HList 或 KList。HList 代表*异构列表*，它是一个“任意长度的元组”。

我不确定添加“unnapply”或“unapplySeq”方法以使其表现得更像一个案例类有多难。

我对他们没有什么经验，但可以在这里找到一个很好的解释：http: [//apocalisp.wordpress.com/2010/06/08/type-level-programming-in-scala/](http://apocalisp.wordpress.com/2010/06/08/type-level-programming-in-scala/)

如果这不是您所需要的，最好告诉我们您想要实现的目标。

# javascript - 将空格替换为逗号

> ID：14785056
> 
> 赞同：0
> 
> 时间：2013-02-09T04:46:12.897
> 
> 标签：javascript, jquery, regex

好吧，我正在使用正则表达式将所有空格替换为逗号，但最后有一个空格，我不知道如何使正则表达式不替换他

我有的

```
25DEL 38DEL A73G 
```

JS

```
 var valor = $("#mapaArquivos option:selected").val().replace(/\s+/g, ", "); 
```

输出

```
25DEL, 38DEL, A73G, 
```

右输出

```
25DEL, 38DEL, A73G 
```

无论如何感谢您的帮助！

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-09T04:47:54.420

在应用正则表达式之前修剪值。这样就不会有尾随或前导空格

```
var valor = jQuery.trim($("#mapaArquivos option:selected").val())
                  .replace(/\s+/g, ", "); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-09T15:07:58.403

你可以修剪末端或者你可以使用

```
replace( /(?!\s+$)\s+/g, ", " ); 
```

负前瞻可防止尾随空格被替换。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-09T04:50:32.057

应该这样做（它首先修剪初始值的空白）

```
var valor = $("#mapaArquivos option:selected").val().replace(/^\s+|\s+$/g,"").replace(/\s+/g, ", "); 
```

如果没有，您可能想尝试`replace(/\s+$/,"")`（仅在最后修剪

# c# - 如何从另一个类引用在 MainWindow 中创建的类实例

> ID：14785057
> 
> 赞同：1
> 
> 时间：2013-02-09T04:46:31.863
> 
> 标签：c#, mvvm, scope

我有一个关于 Scope 的初学者问题。在 MainWindow 类中，我创建了用于数据绑定的 ModelView 类的实例，以及具有要显示的 Leaves 属性的 Cabbage 类的实例。我的问题是如何从 updateCabbageLeaves 方法中引用 myCabbage.Leaves ？

```
namespace TestScope
{

public partial class MainWindow : Window
{
    public MainWindow()
    {
        InitializeComponent();

        ModelView myModelView = new ModelView();
        Cabbage myCabbage = new Cabbage();
        myCabbage.Leaves = 99;
        myModelView.updateCabbageLeaves();
    }
}

class ModelView
{
    public int CabbageLeaves { get; set; }

    public void updateCabbageLeaves()
    {
        //CabbageLeaves = myCabbage.Leaves;
    }
}

class Cabbage
{
    public int Leaves { get; set; }
}

} 
```

我想这不是设置 MVVM 的方法。我的理由是：对于 MVVM，我需要一个用于模型的类和一个用于模型视图的类。应用程序从 MainWindow 类开始，所以我在那里创建了模型和模型视图类的实例。

我对 C# 很陌生。谢谢你的帮助。

詹姆士

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-09T05:03:04.907

你对这段关系的看法不太正确。您真正想要做的是在您的视图模型中创建 Cabbage 模型本身的实例，将其传入，并在那里进行映射和操作。

注意：您的课程也应该是公开的。您必须指定这一点。

```
namespace TestScope
{

    public partial class MainWindow : Window
    {
        public MainWindow()
        {
            InitializeComponent();

            ModelView myModelView = new ModelView();
            Cabbage myCabbage = new Cabbage();
            myCabbage.Leaves = 99;
            myModelView.updateCabbageLeaves(myCabbage);
        }
    }

    public class ModelView
    {
        public Cabbage Cabbage { get; set; }

        public void updateCabbageLeaves(Cabbage myCabbage)
        {
            Cabbage = myCabbage.Leaves;
        }
    }

    public class Cabbage
    {
         public int Leaves { get; set; }
    }
} 
```

但是，老实说，我根本不关心在您的主要方法中对 Cabbage 的操作。您可以改为在构造函数中传入所需的叶子数量，并允许视图模型自行处理。

在主要...

```
var myModelView = new ModelView(99); 
```

在你的视图模型中

```
public class ModelView
{
    public ModelView(int numberOfLeaves)
    {
        Cabbage = new Cabbage(){ Leaves = numberOfLeaves }
    }

    public Cabbage Cabbage { get; set; }
} 
```

这有点干净，不会在您的主要方法中强制操作 Cabbage

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-09T05:00:40.257

您可以将 cabbage 对象作为参数传递：

```
public void updateCabbageLeaves(Cabbage myCabbage)
    {
        this.CabbageLeaves = myCabbage.Leaves;
    }

 public MainWindow()
    {
        InitializeComponent();

        ModelView myModelView = new ModelView();
        Cabbage myCabbage = new Cabbage();
        myCabbage.Leaves = 99;
        myModelView.updateCabbageLeaves(myCabbage);
    } 
```

# android - Android Canvas 和硬件加速？

> ID：14785060
> 
> 赞同：7
> 
> 时间：2013-02-09T04:46:39.723
> 
> 标签：android, ondraw, hardware-acceleration

大家好，我想知道是否可以绘制到屏幕外的画布/位图并利用硬件加速，或者我是否必须`onDraw()`在`View`

例如，我通过执行以下操作绘制到屏幕外位图：

```
Bitmap.Config config = Bitmap.Config.ARGB_8888;
Bitmap buffer = Bitmap.createBitmap(200, 200, config);
Canvas canvas = new Canvas(buffer);
Paint paint = new Paint();
paint.setColor(Color.RED);
canvas.drawLine(0, 0, 100, 100, paint); 
```

然而`canvas.isHardwareAccelerated()`，与以下相比，返回 false 并且绘图缓慢：

```
protected void onDraw(Canvas canvas) {

    Paint paint = new Paint();
    paint.setColor(Color.RED);

    canvas.drawLine(0, 0, 100, 100, paint);
} 
```

哪里`canvas.isHardwareAccelerated()`返回真。有没有办法在利用硬件加速的同时绘制位图？还是我必须在 onDraw 方法中直接绘制到屏幕上？

谢谢你的帮助:)我知道在Java中我可以画到屏幕外的BufferedImage，它会被硬件加速，但在手机上可能不一样......

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-09T05:37:07.917

因为在第一种情况下，您创建了画布，它没有硬件层支持。此外，到目前为止，您不能在任何 Canvas 上启用 HWA，它必须属于 HWA 视图。

另一方面，视图可以访问系统的硬件功能。`setLayerType( LAYER_TYPE_HARDWARE)`您可以按照文档中的说明调用来使用它：

> 表示视图有硬件层。硬件层由特定于硬件的纹理（通常是帧缓冲区对象或 OpenGL 硬件上的 FBO）支持，并导致使用 Android 的硬件渲染管道渲染视图，但前提是为视图层次结构打开硬件加速。关闭硬件加速后，硬件层的行为与软件层完全相同。

此外，性能问题更多地应用于渲染部分，而不是绘图。所有绘制操作都记录为一个图片对象。它是 HWA 发挥重要作用的渲染操作。

# jquery - $.ajax 帖子、淘汰赛和 Web api

> ID：14785062
> 
> 赞同：3
> 
> 时间：2013-02-09T04:46:43.057
> 
> 标签：jquery, ajax, knockout.js

我在 web api 控制器中有一个方法，它是从 javascript (knockout) 函数调用的。

```
 public void SaveEmailTempage(EmailTemplateModel template)
    {
        var x = template.ToString();
    ... 
```

上面的 x 变量只在那里，所以我可以在控制器中设置一个断点，然后它就会被命中。传入的模板变量的所有属性始终设置为 null，这就是问题 - 为什么？我不确定在 $.ajax 调用中传递什么数据参数。

在javascript中我有这个（下）。在 data 属性中，我尝试了 self、this、ko.JS、ko.JSON - 每个都以 self、this、$data、$root 作为输入，我放在那里似乎没有传递值。在 aspx 中，我有一个带有 data-bind="value: ko.toJSON($root)" 的文本区域，它确实包含我想发送到服务器的 json。

```
 function emailViewModel() {
    var self = this;
    //data
     ...   
    //operations
    ...
    self.saveTemplate = function () {
        $.ajax({
            url: '/api/emailtemplate/',
            type: 'POST',
            data: ko.toJSON({template: self}),
            contentType: 'application/json',
            success: function (result) {
                alert('success');//debug
            },
            error: function () { alert('fail');}//debug

        });
    }
    return self;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-09T06:27:52.160

我相信您需要将 dataType 指定为 json。以下对我有用（使用 node/express 作为 POST 处理程序）：

```
...
this.saveTemplate = function() {
   $.ajax({
      url: "/api/emailtemplate",
      type: "POST",
      data: ko.toJSON({ template: this }),
      contentType: "application/json",
      dataType: "json",
      success: function(result) {
        alert("success");
      },
      error: function() {
        alert("fail");
      }
    }
... 
```

# ios - 捕获 UIView 的屏幕截图 - 性能缓慢

> ID：14785066
> 
> 赞同：4
> 
> 时间：2013-02-09T04:47:01.327
> 
> 标签：ios, xcode, uiimage, thumbnails

我有一个绘图应用程序，我想创建 Canvas UIView 的快照（在屏幕上和屏幕外），然后按比例缩小。我在 iPad 3 上执行此操作的代码永远是血腥的。模拟器没有延迟。画布为 2048x2048。

我应该这样做吗？还是我在代码中遗漏了什么？

谢谢！

```
-(UIImage *) createScreenShotThumbnailWithWidth:(CGFloat)width{
        // Size of our View
    CGSize size = editorContentView.bounds.size;

        //First Grab our Screen Shot at Full Resolution
    UIGraphicsBeginImageContext(size);
    [editorContentView.layer renderInContext:UIGraphicsGetCurrentContext()];
    UIImage *screenShot = UIGraphicsGetImageFromCurrentImageContext();
    UIGraphicsEndImageContext();

        //Calculate the scal ratio of the image with the width supplied.
    CGFloat ratio = 0;
    if (size.width > size.height) {
        ratio = width / size.width;
    } else {
         ratio = width / size.height;
    }

        //Setup our rect to draw the Screen shot into 
    CGSize newSize = CGSizeMake(ratio * size.width, ratio * size.height);

        //Send back our screen shot
    return [self imageWithImage:screenShot scaledToSize:newSize];

} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-09T11:48:27.027

您是否使用**“时间分析器”工具**（“产品”菜单 ->“配置文件”）来检查您在代码中花费最多时间的位置？（当然，将它与您的设备一起使用，而不是模拟器，以获得真实的配置文件）。我猜它不在您在问题中引用的图像捕获部分中，而是在您的重新缩放`imageWithImage:scaledToSize:`方法中。

与其在上下文中以整个大小渲染图像，然后将图像重新缩放到最终大小，**不如通过对上下文应用一些仿射变换直接以预期大小在上下文中渲染层**。

所以只需在你的 line 之后使用**`CGContextConcatCTM(someScalingAffineTransform);`**on ，应用缩放仿射变换，使图层以不同的比例/大小呈现。`UIGraphicsGetCurrentContext()``UIGraphicsBeginImageContext(size);`

*这样，它将直接渲染为预期大小，这将更快，而不是以 100% 渲染，然后让您以耗时的方式重新调整它*

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-12T18:58:01.373

谢谢[AliSoftware](https://stackoverflow.com/users/803787/alisoftware)，这是我最终使用的代码：

```
 -(UIImage *) createScreenShotThumbnailWithWidth:(CGFloat)width{
        if (IoUIDebug & IoUIDebugSelectorNames) {
            NSLog(@"%@ - %@", INTERFACENAME, NSStringFromSelector(_cmd) );
        }
            // Size of our View
        CGSize size = editorContentView.bounds.size;

            //Calculate the scal ratio of the image with the width supplied.
        CGFloat ratio = 0;
        if (size.width > size.height) {
            ratio = width / size.width;
        } else {
            ratio = width / size.height;
        }
        CGSize newSize = CGSizeMake(ratio * size.width, ratio * size.height);

            //Create GraphicsContext with our new size
        UIGraphicsBeginImageContext(newSize);

            //Create Transform to scale down the Context
        CGAffineTransform transform = CGAffineTransformIdentity;
        transform = CGAffineTransformScale(transform, ratio, ratio);

            //Apply the Transform to the Context
        CGContextConcatCTM(UIGraphicsGetCurrentContext(),transform);

            //Render our Image into the the Scaled Graphic Context
        [editorContentView.layer renderInContext:UIGraphicsGetCurrentContext()];

            //Save a copy of the Image of the Graphic Context
        UIImage* screenShot = UIGraphicsGetImageFromCurrentImageContext();
        UIGraphicsEndImageContext();

        return screenShot;

    } 
```

# objective-c - 使用格式和 va_list/NSArray 创建的 NSPredicate 失败但字符串成功

> ID：14785079
> 
> 赞同：1
> 
> 时间：2013-02-09T04:48:33.407
> 
> 标签：objective-c, nspredicate, nsmanagedobject, objective-c-category

我创建了 NSManagedObject 的类别，例如**create**、**count**等。除了以下之外，所有这些都可以找到

```
@interface NSManagedObject(ManagedObjectExtension) 
+ (id)findWithPredicate:(id)stringOrPredicate, ...;
@end

@implementation NSManagedObject(ManagedObjectUtilities)

+ (id)findWithPredicate:(id)stringOrPredicate, ... {
    NSFetchRequest *fetchRequest = [self allFetchRequest];
    if (stringOrPredicate) {
        NSPredicate *predicate;
        if ([stringOrPredicate isKindOfClass:[NSString class]]) {
            va_list variadicArguments;
            va_start(variadicArguments, stringOrPredicate);
            predicate = [NSPredicate predicateWithFormat:stringOrPredicate arguments:variadicArguments];
            va_end(variadicArguments);
        } else {
            predicate = (NSPredicate *)stringOrPredicate;
        }
        [fetchRequest setPredicate:predicate];
    }

    NSError *error;
    NSArray *results = [[self managedObjectContext] executeFetchRequest:fetchRequest error:&error];

    if (error) {
        NSLog(@"%@", [error description]);
    }

    if ([results count] == 0) {
        return nil;
    } else if ([results count] == 1) {
        return [results objectAtIndex:0];
    } else {
        return results;
    }
}

@end 
```

这些是结果

```
NSString *email = [NSString stringWithString:someTextField.text];
NSLog(@"%@", [User findWithPredicate:@"email == "%@", email]);
==> (null)
NSLog(@"%@", [User findWithPredicate:[NSString stringWithFormat:@"email == "%@", email]]);
==> "<User: 0x1d827e10> ..." 
```

基本上，此方法仅在我发送字符串而不是格式化字符串和参数时才有效。如果我打印在此方法中创建的谓词，这些是结果

```
[User findWithPredicate:@"email == "%@", email];
==> email == "%@"
[User findWithPredicate:[NSString stringWithFormat:@"email == "%@", email]];
==> email == "tar.tw45@gmail.com" 
```

你知道是什么原因造成的吗？欢迎任何意见或建议:)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-09T10:05:07.267

我假设您忘记了问题代码中的引号（正如@kitschmaster 在他的评论中所说），并且代码实际上如下所示：

```
NSString *email = @"tar.tw45@gmail.com";
// Case 1:
NSLog(@"%@", [User findWithPredicate:@"email == '%@'", email]);
// Case 2:
NSLog(@"%@", [User findWithPredicate:[NSString stringWithFormat:@"email == '%@'", email]]); 
```

***在情况 (1)***中，您的实用程序方法会创建以下谓词

```
[NSPredicate predicateWithFormat:@"email == '%@'", email]; 
```

由于引号，此谓词搜索*逐字字符串。* `"%@"`如果删除引号：

```
NSLog(@"%@", [User findWithPredicate:@"email == %@", email]); 
```

然后它可以正常工作。

***在情况 (2) 中，***您的实用程序方法创建谓词

```
[NSPredicate predicateWithFormat:@"email == 'tar.tw45@gmail.com'"]; 
```

因为它是使用已经格式化的查询字符串调用的。这在这种特殊情况下有效。但如果查询本身包含任何引号，它将失败。例如：

```
[User findWithPredicate:@"name == %@", @"a'b"] 
```

工作正常，但

```
[User findWithPredicate:[NSString stringWithFormat:@"name == '%@'", @"a'b"]] 
```

崩溃。*创建谓词时，通常应避免**使用。`stringWithFormat`*

***总结：***如果你在格式字符串中省略引号，第一个版本可以正常工作。不应使用第二个版本。

# c - PhotoShop、Word 等程序如何永远运行并对鼠标做出反应？

> ID：14785083
> 
> 赞同：1
> 
> 时间：2013-02-09T04:49:05.603
> 
> 标签：c

这是一个普遍的问题，我还没有找到一个好的解决方案。

首先，一些借口。我是编程新手，我所做的（主要是）都是 C 中的顺序程序。

这让我想知道大型程序（如 word、photoshop、visual studio 等）是如何工作的。

为了不那么模糊，他们如何保持对一个人的开放？我写的所有程序都是从上到下，代码运行然后程序终止。还有什么总是用户说单击保存和文件写入或单击字体并更改字体。显然，这些操作可以按任何顺序执行，无限多次。

一般来说，从我有限的经验来看，我没有看到现实世界的应用程序是如何制作的。我想尝试做一些“真正的”或有用的东西，但学校还没有开始教我从哪里开始。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-09T04:55:36.790

大多数桌面应用程序都使用一种称为[事件驱动编程的风格进行编程](http://en.wikipedia.org/wiki/Event-driven_programming)。在此设置中，程序通常看起来（在非常高的级别）如下所示：

```
while (true) {
    wait for an event to occur.
    react to that event.
} 
```

这些“事件”往往是鼠标点击、键盘事件、窗口大小调整等。通常，事件驱动程序会设置窗口并将代码片段附加到窗口，以便当事件发生时，给定的代码片段可以运行. 附加的每一段代码看起来都和你看到的完全一样——它以正常的方式从上到下执行。不同的事件可以以不同的顺序发生的事实只是意味着它们会在用户要求它们时运行。

每种语言和框架都有自己处理事件的方式，因此我建议您查阅您最喜欢的语言/系统的文档以获取更多详细信息。

希望这可以帮助！

# linux - HDFS start-all.sh 由 root 或非 root 用户

> ID：14785084
> 
> 赞同：0
> 
> 时间：2013-02-09T04:49:05.997
> 
> 标签：linux, shell, hadoop, mapreduce, hdfs

我正在学习Hadoop，想试试伪分布式操作

当我尝试使用`start-all.sh`启动 Hadoop 守护程序时，我应该使用非 root 用户，如 foo-user 还是使用 root。

使用root没有问题，但是我有点担心。

使用非 root 用户 foo-user，它抱怨它没有文件权限

```
/var/run/hadoop/hadoop-foo-user-namenode.pid: permission denied
/var/run/hadoop/hadoop-foo-user-tasktracker-foohost.pid: permission denied 
```

它试图在目录中创建这两个文件`/var/run/hadoop`

我试过了`vim /var/run/hadoop/testfile`，无法保存。结果发现 foo-user 没有权限在`/var/run/hadoop`

我检查了许可`/var/run/hadoop`

```
drwxrwxr-x root hadoop 4096 Feb 8 23:42 hadoop 
```

foo-user 在组 hadoop 中，所以应该对`/var/run/hadoop`. 实际上，那里还创建了其他几个 id 文件，例如 ...jobtracker.pid

那么我应该使用 root`start-all.sh`还是权限有问题（我真的很困惑）？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-10T17:54:47.067

不建议以 root 启动 Hadoop，以下引自 Yahoo 的 Hadoop 教程：

> 拥有 Hadoop 实例的用户需要对这些目录中的每一个具有读写访问权限。并非所有用户都有权访问这些目录。根据需要使用 chmod 设置权限。在大规模环境中，建议您在每个节点上创建一个名为“hadoop”的用户，以明确拥有和运行 Hadoop 任务的目的。对于单个人的机器，使用自己的用户名运行 Hadoop 是完全可以接受的。不建议您以 root 身份运行 Hadoop。

即使在 Linux 文件系统`foo-user`中的组`hadoop`中，您仍然需要确保它`foo-user`也是 HDFS 中的组成员（默认情况下，该组称为`supergroup`），当您这样做时，您会看到该组是什么`hadoop fs -ls path_to_your_data`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-09T12:36:59.317

group as well as user needs to be hadoop. Here you have:

```
drwxrwxr-x root hadoop 4096 Feb 8 23:42 hadoop 
```

so change the root into hadoop (curently i don't have access to any linux machine so I can't say exact commands), then make yourself sure that hadoop user is able to create filies and directories within `/var/run/hadoop`. I strongly recommend to run it s non-root user.

# html - 限制文本区域中的中断或过多空格？

> ID：14785085
> 
> 赞同：0
> 
> 时间：2013-02-09T04:49:32.787
> 
> 标签：html, textarea

有人可以帮我吗，我有一个文本区域，并且我限制了其中的字符数，以便文本区域适合其中的内容而不会溢出。

字符长度有效，但这不会阻止用户当前使用空格键来创建中断或过多的间距，即多个空格。有没有办法让文本区域停止用户多次间隔字符并禁止换行？

抱歉，如果这是一个非常明显的问题，但我到处都在寻找答案，却无法在任何地方找到答案。

```
<form action="includes/change_status.php" id="form2" method="post" name="form2">
    <div class="status-border-top"></div>

    <div class="status-border">
        <textarea data-id="status" id="status" maxlength="80" name="status" style="width: 187px; margin-top:-4px; text-align:left; padding-left:5px; padding-top:3px; padding-bottom:2px; padding-right:3px; margin-left:-4px; height: 54px; font-size:12px; resize: none; border: hidden; -moz-border-radius: 6px; -webkit-border-radius: 6px; border-radius: 6px; position:relative; z-index:100;"><?php echo htmlspecialchars ($profile['status']); ?></textarea>
        <input class="status-submit" id="submit" name="submit" src="../PTB1/assets/img/icons/save-status.png" type="image" value="submit">
    </div>
</form> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-09T05:38:07.660

这是您可以删除用户输入到`textarea`.

您需要使用最新版本的 jQuery 才能正常工作。

[jsFiddle 上的工作示例](http://jsfiddle.net/htmled/TsJWw/)。

HTML：

```
<form action="/" method="post">
    <textarea cols="33" rows="12" id="message"></textarea>
</form> 
```

JavaScript：

```
var $message = $("#message");

$message.on("keydown keypress", function() {    
    var $this = $(this),
        val = $(this).val()
                     .replace(/(\r\n|\n|\r)/gm," ") // replace line breaks with a space
                     .replace(/ +(?= )/g,''); // replace extra spaces with a single space

    $this.val(val);
}); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-09T05:50:37.460

没有 jQuery 的另一个选项是将当前分配的键与前一个键进行比较。如果它们相同，并且都在非法键集中，则拒绝按键动作。无论间距如何，这种方法都不会以任何方式更改起始文本。

HTML：

```
<form action="includes/change_status.php" id="form2" method="post" name="form2">
    <div class="status-border-top"></div>

    <div class="status-border">
        <!-- notice the onkeypress attribute -->
        <textarea data-id="status" id="status" maxlength="80" name="status" style="width: 187px; margin-top:-4px; text-align:left; padding-left:5px; padding-top:3px; padding-bottom:2px; padding-right:3px; margin-left:-4px; height: 54px; font-size:12px; resize: none; border: hidden; -moz-border-radius: 6px; -webkit-border-radius: 6px; border-radius: 6px; position:relative; z-index:100;" onkeypress="return ignoreSpaces(event);"><?php echo htmlspecialchars ($profile['status']); ?></textarea>
        <input class="status-submit" id="submit" name="submit" src="../PTB1/assets/img/icons/save-status.png" type="image" value="submit">
    </div>
</form> 
```

Javascript：

```
var lastkey;
var ignoreChars = ' \r\n'+String.fromCharCode(0);
function ignoreSpaces(e){
    e = e || window.event;
    var char = String.fromCharCode(e.charCode);
    if(ignoreChars.indexOf(char) >= 0 && ignoreChars.indexOf(lastkey) >= 0){
        lastkey = char;
        return false;
    }else{
        lastkey = char;
        return true;
    }
} 
```

工作 JFiddle：http: [//jsfiddle.net/mLYgD/1/](http://jsfiddle.net/mLYgD/1/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-09T07:38:25.687

如果没有客户端脚本，您将无法施加此类限制。

`input type=text`由于您希望最多允许 80 个字符并禁止换行符，因此使用元素似乎比使用`textarea`.

此外，对于，您可以使用 HTML5属性`input type=text`施加限制。`pattern`尽管旧浏览器不支持，但即使客户端脚本被禁用，它也可以在现代浏览器中使用。你可以使用这样的代码：

```
<input type="text" data-id="status" id="status" maxlength="80" size="80"
  name="status" pattern="\s?(\S+\s?)*"> 
```

该`size`属性以（平均宽度）字符指定字段的可见宽度。输入框中的默认字体和字体大小取决于浏览器，但通常字体不是等宽字体，这与`textarea`. 因此，如果需要等宽字体，请在 CSS 中设置。

该`pattern`属性的值与 JavaScript 正则表达式具有相同的语法，除了匹配的是整个输入字符串（因此隐含了前导`^`和尾随）。`$`该符号`\s`表示任何空白字符（在此上下文中，这实际上表示空格），并`\S`表示任何非空白字符，因此表达式允许空格但不能连续。前导部分`\s`允许单个前导空格；如果您不想允许，请将其删除。

您可以使用 JavaScript`pattern`在本身不支持该属性但启用了脚本的浏览器中实现该属性。或者你可以让 JavaScript 使用相同的表达式（添加`^`和`$`添加）。

# css - css @font-face 不适用于 Firefox

> ID：14785088
> 
> 赞同：0
> 
> 时间：2013-02-09T04:49:46.880
> 
> 标签：css, firefox, font-face

以下代码适用于 Google Chrome beta 和 IE 7，但不适用于 Firefox。

```
@font-face {
font-family: 'open_sans_semiboldregular';
src: url('../fonts/opensans-semibold-webfont.eot');
src: url('../fonts/opensans-semibold-webfont.eot?#iefix') format('embedded-opentype'),
     url('../fonts/opensans-semibold-webfont.woff') format('woff'),
     url('../fonts/opensans-semibold-webfont.ttf') format('truetype'),
     url('../fonts/opensans-semibold-webfont.svg#open_sans_semiboldregular') format('svg'); 
```

}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-09T04:53:30.103

要获得更简单的解决方案，请尝试使用 Google Web 字体： [http ://www.google.com/webfonts](http://www.google.com/webfonts)

包含 Open Sans 半粗体的特定标头代码是：

`<link href='http://fonts.googleapis.com/css?family=Open+Sans:600' rel='stylesheet' type='text/css'>`

然后在 CSS 中它将是：

`body {font-family: 'Open Sans', sans-serif;}`

这不仅会解决跨浏览器的兼容性问题，而且由于托管在 Google 的服务器上，因此会加快您的页面加载速度。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-09T05:00:22.600

试试这个

```
@font-face
{
    font-family: 'SegoeUI';
    src: url('Fonts/segoeui.eot');
    src: url('Fonts/segoeui.eot?#iefix') format('embedded-opentype'), url('fonts/segoeui.ttf') format('truetype');
}

@font-face
{
    font-family: 'SegoeLight';
    src: url('Fonts/segoeuil.eot');
    src: url('Fonts/segoeuil.eot?#iefix') format('embedded-opentype'), url('fonts/segoeuil.ttf') format('truetype');
} 
```

# java - 用于从 Map.Entry 中提取密钥的 Google Guava 函数

> ID：14785089
> 
> 赞同：0
> 
> 时间：2013-02-09T04:50:12.530
> 
> 标签：java, casting

我想要这样的东西（Java）：

```
class MapEntries {

    private static final Function<Map.Entry<Object, Object>, Object> EXTRACT_KEY =
        new Function<Map.Entry<Object, Object>, Object>() {
          @Override
          public Object apply(Map.Entry<Object, Object> input) {
              return input.getKey();
          }
    }

    public static <K, V> Function<Map.Entry<K, V>, K> extractKey() {
        return EXTRACT_KEY;
    }
} 
```

请注意，这`EXTRACT_KEY`是一个单例，并`extractKey()`使用泛型来保证类型安全。

不幸的是，javac 在我写`return EXTRACT_KEY;`. 我尝试了许多变体，但似乎没有任何效果。必须有办法做到这一点。任何人？

**编辑：**

我忘了提到我想做的代码中的其他地方：

```
void foo(Iterable<? extends Entry<K, V>> entries) {                
    Iterable<T> keys = Iterables.<Entry<K, V>, K>transform(entries,
                             MapEntries.extractKey());
    // more code follows...
} 
```

使用`(Function) EXTRACT_KEY`强制转换解决了 MapEntries 中的编译错误。然而 javac 仍然抱怨 foo()：

> 参数化方法`<Map.Entry<K,V>, T>transform(Iterable<Map.Entry<K,V>>, Function<? super Map.Entry<K,V>,? extends K>) of type Iterables is not applicable for the arguments (Iterable<capture#13-of ? extends Map.Entry<K,V>>,`Function,Object>)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-09T04:53:01.103

您必须停止将`EXTRACT_KEY`其视为单例 -`Function`每次都分配一个新的 - 或者接受不安全演员表的需要，这可以通过`return (Function) EXTRACT_KEY`.

# python - 在 Python 中对来自 MySQLdb 的位进行 JSON 化

> ID：14785091
> 
> 赞同：1
> 
> 时间：2013-02-09T04:50:54.397
> 
> 标签：python, mysql-python

我正在使用`MySQLdb`Python 读取 MySQL 记录。其中一列有点。当我将其转换为 JSON（它显示为转换前）并将其发送到浏览器时，它显示为 Python 控制台中的任何一个`\\u0000`或`\\u0001`在 Python 控制台上，浏览器什么也不显示。我假设这是因为它不知道 Unicode 的字符。`json.dumps``\x00`

有没有办法让我通过在客户端或服务器上进行操作来获取 Javascript`True`或这些值？`False`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-09T07:57:52.500

在服务器端操作它很简单：

```
import json

def convert_to_bool(bstring):
    return True if bstring == b'\x00' else False 
```

示例用法：

```
your_byte_string = b'\x00'
# you can write also
# your_byte_string = u'\u0000'

print(json.dumps(convert_to_bool(your_byte_string))) 

# >>> true

your_byte_string = b'\x01'
# you can write also
# your_byte_string = u'\u0001'

print(json.dumps(convert_to_bool(your_byte_string)))

# >>> false 
```

然后，如果该字段为真，最终您可能希望添加一些代码来显示图像。这可以在服务器端或客户端完成。

**服务器端**

如果您不打算在 javascript 代码中使用布尔变量，您可以直接发送预期的 HTML：

```
if convert_to_bool(your_byte_string):
    # here I'm just printing it but you should use the dumped string as a json response
    print(json.dumps('The field is <b>true</b>!'))
else:
    print(json.dumps('Unfortunately the field is <b>false</b>.')) 
```

**客户端**

如果您使用的是 json，我想您知道该怎么做，它是基本的 javascript，但是为了完整起见，这里是代码：

```
// javascript code
// yourdata is the field value, retrieved by the ajax call 

if (yourdata) {
    alert('The field is true!');    
} else {
    alert('The field is false!');
} 
```

# c# - 从数据库中检索图像并将它们注入列表视图

> ID：14785096
> 
> 赞同：0
> 
> 时间：2013-02-09T04:51:35.720
> 
> 标签：c#, asp.net, database, image, listview

我有一个表 BIKETYPE { BIKETYPEID, NAME, DESCRIPTION, IMAGE}。

IMAGE 的数据类型为`image`. 我正在尝试通过列表视图显示表格。我可以看到除图像列之外的所有内容。

我的代码如下

```
<ItemTemplate>
    <tr>
        <td><%# DataBinder.Eval(Container.DataItem,"BikeTypeId") %></td>
        <td><%# DataBinder.Eval(Container.DataItem,"Name") %></td>
        <td><%# DataBinder.Eval(Container.DataItem,"Description") %></td>
        <td><asp:Image ImageUrl='<%# "Handler.ashx?BikeTypeId="+ Eval("image") %>' ID="Image" runat="server" /></td>
        <td><asp:Button ID="Select" runat="server" Text="Select" CommandName="Select" /></td>
    </tr>
</ItemTemplate> 
```

在后面的代码中，我使用了简单的绑定方法如下

```
protected void bind()
{
        adp = new SqlDataAdapter("Select * From BikeType", str);
        ds = new DataSet();
        adp.Fill(ds);
        ListView1.DataSource = ds;
        ListView1.DataBind();
        ds.Clear();
        adp.Dispose();
} 
```

有什么建议么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-26T10:37:49.073

可以使用 Genric Handler 将图像显示到列表视图或任何其他控件中。通过添加新项目 > 通用处理程序来添加通用处理程序，然后参考下面的代码

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;
using System.Data;
using System.Data.SqlClient;
using System.Configuration;
namespace letsride
{
    /// <summary>
    /// Summary description for Handler1
    /// </summary>
    public class Handler1 : IHttpHandler
    {

        public void ProcessRequest(HttpContext context)
        {
            int id = int.Parse(context.Request.QueryString["b_id"]);
            string constr = ConfigurationManager.ConnectionStrings["bikewebConnectionString"].ConnectionString;
            SqlConnection con = new SqlConnection(constr);
            con.Open();
            SqlCommand cmd = new SqlCommand();
            cmd.Connection = con;
            cmd.CommandText = "Select image from Biketype where BikeTypeId=@id";
            cmd.Parameters.AddWithValue("id", id);

            object img = cmd.ExecuteScalar();

            try
            {
                context.Response.BinaryWrite((byte[])img);
            }
            catch (Exception ex)
            {
                context.Response.Write(ex.Message);

            }
        }

        public bool IsReusable
        {
            get
            {
                return false;
            }
        }
    }
} 
```

在您的 Web 表单中使用图像作为

```
<asp:Image ID="i" runat="server"   ImageUrl='<%# "Handler.ashx?b_id=" + Eval("BikeTypeId") %> ' /></td> 
```

BikeTypeID 是数据库中表的 ID 也可以参考[http://makhaai.blogspot.com.au/2010/11/image-handling-in-aspnet-part-1.html](http://makhaai.blogspot.com.au/2010/11/image-handling-in-aspnet-part-1.html)

# android - XML 解析在 Asynctask 中给出 NullPointerException 错误

> ID：14785097
> 
> 赞同：1
> 
> 时间：2013-02-09T04:51:48.407
> 
> 标签：android, xml, xml-parsing, android-asynctask

我正在使用 XML 解析器从网站中提取一些东西，并且我在 Asynctask 中有代码。出于某种原因，我不断收到 NullPointerException，为什么？

**导致错误的原因是什么，您如何解决？** 我很感激你的时间。

**这是 LogCat**

```
02-08 23:34:08.835: E/AndroidRuntime(28103): FATAL EXCEPTION: main
02-08 23:34:08.835: E/AndroidRuntime(28103): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.thenewlistivew/com.thenewlistivew.MainActivity}: java.lang.NullPointerException
02-08 23:34:08.835: E/AndroidRuntime(28103):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1967)
02-08 23:34:08.835: E/AndroidRuntime(28103):    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1992)
02-08 23:34:08.835: E/AndroidRuntime(28103):    at android.app.ActivityThread.access$600(ActivityThread.java:127)
02-08 23:34:08.835: E/AndroidRuntime(28103):    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1158)
02-08 23:34:08.835: E/AndroidRuntime(28103):    at android.os.Handler.dispatchMessage(Handler.java:99)
02-08 23:34:08.835: E/AndroidRuntime(28103):    at android.os.Looper.loop(Looper.java:137)
02-08 23:34:08.835: E/AndroidRuntime(28103):    at android.app.ActivityThread.main(ActivityThread.java:4511)
02-08 23:34:08.835: E/AndroidRuntime(28103):    at java.lang.reflect.Method.invokeNative(Native Method)
02-08 23:34:08.835: E/AndroidRuntime(28103):    at java.lang.reflect.Method.invoke(Method.java:511)
02-08 23:34:08.835: E/AndroidRuntime(28103):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:976)
02-08 23:34:08.835: E/AndroidRuntime(28103):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:743)
02-08 23:34:08.835: E/AndroidRuntime(28103):    at dalvik.system.NativeStart.main(Native Method)
02-08 23:34:08.835: E/AndroidRuntime(28103): Caused by: java.lang.NullPointerException
02-08 23:34:08.835: E/AndroidRuntime(28103):    at com.thenewlistivew.MainActivity.onCreate(MainActivity.java:40)
02-08 23:34:08.835: E/AndroidRuntime(28103):    at android.app.Activity.performCreate(Activity.java:4486)
02-08 23:34:08.835: E/AndroidRuntime(28103):    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1052)
02-08 23:34:08.835: E/AndroidRuntime(28103):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1931)
02-08 23:34:08.835: E/AndroidRuntime(28103):    ... 11 more 
```

**我的异步任务代码：**

```
private class ShowDialogAsyncTask extends AsyncTask<Void, Integer, Void> {
        ArrayList<HashMap<String, String>> songsList = new ArrayList<HashMap<String, String>>();

        @Override
        protected void onPreExecute() {
            // update the UI immediately after the task is executed
            super.onPreExecute();
        }

        @Override
        protected Void doInBackground(Void... params) {

            XMLParser parser = new XMLParser();
            String xml = parser.getXmlFromUrl(URL); // getting XML from URL
            Document doc = parser.getDomElement(xml); // getting DOM element

            NodeList nl = doc.getElementsByTagName(KEY_SONG);
            // looping through all song nodes <song>
            for (int i = 0; i < nl.getLength(); i++) {
                // creating new HashMap
                HashMap<String, String> map = new HashMap<String, String>();
                Element e = (Element) nl.item(i);
                // adding each child node to HashMap key => value
                map.put(KEY_ID, parser.getValue(e, KEY_ID));
                map.put(KEY_TITLE, parser.getValue(e, KEY_TITLE));
                map.put(KEY_ARTIST, parser.getValue(e, KEY_ARTIST));
                map.put(KEY_DURATION, parser.getValue(e, KEY_DURATION));
                map.put(KEY_THUMB_URL, parser.getValue(e, KEY_THUMB_URL));

                // adding HashList to ArrayList
                songsList.add(map);
            }

            return null;
        }

        @Override
        protected void onProgressUpdate(Integer... values) {
            super.onProgressUpdate(values);

        }

        @Override
        protected void onPostExecute(Void result) {
            super.onPostExecute(result);

            list = (ListView) findViewById(R.id.list);

            // Getting adapter by passing xml data ArrayList
            adapter = new LazyAdapter(MainActivity.this, songsList);
            list.setAdapter(adapter);
        }
    } 
```

**OnCreate 方法代码**

```
ListView list;
LazyAdapter adapter;
@Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        new ShowDialogAsyncTask().execute();

        // Click event for single list row
        list.setOnItemClickListener(new OnItemClickListener() {

            @Override
            public void onItemClick(AdapterView<?> parent, View view,
                    int position, long id) {

            }
        });
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-09T05:01:39.823

你有 -

`list.setOnItemClickListener(new OnItemClickListener()`

但你从不初始化`list`

将此行移至您的`onCreate()`--

```
list = (ListView) findViewById(R.id.list); 
```

# jquery - chrome 扩展 popup.js 不起作用

> ID：14785101
> 
> 赞同：0
> 
> 时间：2013-02-09T04:52:15.070
> 
> 标签：jquery, google-chrome, google-chrome-extension

我有一个看起来像这样的 popup.html

```
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
    <link type="text/css" rel="stylesheet" href="css/fbh-ui.css" />
    <script type="text/javascript" src="js/jq.js"></script>
    <script type="text/javascript" src="js/fbh-popup.js"></script>
</head>

<body style="width: 200px">
    <div id="fbh-main">
        <div id="fbh-popup-enabled"></div>
    </div>
</body> 
```

fbh-popup.js 看起来像这样

```
$('#fbh-popup-enabled').html('test'); 
```

JS 应该改变 div 的内容，但不会。我什至在 JS 文件中尝试了一个简单的 console.log('test') 并没有触发。我很茫然。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-10T20:48:13.447

您必须在[就绪事件回调中编写代码](http://api.jquery.com/ready/)

```
$(document).ready(function() {
  $('#fbh-popup-enabled').html('test');
}); 
```

# iphone - 在 iPhone 主屏幕上模拟动画的最佳方式是什么？

> ID：14785110
> 
> 赞同：0
> 
> 时间：2013-02-09T04:54:08.280
> 
> 标签：iphone, objective-c, view, controllers

我有两个视图控制器，我可以通过自定义 segue 管理它们之间的从右到左动画，但是让传入的 VC 用手指动画的最佳方式是什么，有点像 iphone 上的主屏幕是如何工作的？

如果这令人困惑，我的意思是当您在 iPhone 主屏幕上从右向左拖动手指时，在您用手指拖动时，您可以看到第一个视图的右半部分和左半部分在第二个视图中，将第二个视图“拖动”到屏幕上的自然动作。

提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-10T17:17:22.793

我已经看到它描述了类似于跳板（iphone 主屏幕）的功能并不是真正独立的视图控制器，而是一个单一的宽视图。

因此，对于您想要实现的功能，您可能需要考虑以不同的方式处理它，使用单个视图控制器在两者之​​间滑动。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-09T05:21:07.057

您可以尝试使用 Page Control，这里有一些您可能喜欢看的教程： - [Cocoa with Love](http://www.cocoawithlove.com/2009/01/multiple-virtual-pages-in-uiscrollview.html) - [Page Control](http://www.edumobile.org/iphone/iphone-programming-tutorials/pagecontrol-example-in-iphone/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-10T18:22:33.163

如果我理解正确，您可以通过将表视图添加到启用分页的**UIScrollView**轻松实现此效果。查看本教程，[教程](http://www.iosdevnotes.com/2011/03/uiscrollview-paging/)

# sql-server - 重命名计算机后 WIndowsAuthentication 不起作用

> ID：14785113
> 
> 赞同：0
> 
> 时间：2013-02-09T04:54:38.283
> 
> 标签：sql-server

重命名计算机后，SQL server windows认证失败，提示`OldPC\user1` 无法认证。相反，它应该寻找`NewPC\user1`. 如何解决问题？

我读了这个[SO 任务。](https://stackoverflow.com/questions/9495759/cant-log-into-sql-server-after-changing-computer-name)[此处建议](http://v-consult.be/2011/05/26/recover-sa-password-microsoft-sql-server-2008-r2/)的已接受解决方案，例如停止 SQL 服务器实例，如下所示 -

![在此处输入图像描述](../Images/a4488d44370e4c81d3876852d50a3fa6.png)

但对我来说 Sql server Configuration 显示此错误 -

![在此处输入图像描述](../Images/6208b4a0503b895cb6d06679a09dc341.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-09T05:05:23.157

不需要重新启动服务、以单用户模式启动等的替代方法是使用[来自 SysInternals 的 PSExec](http://technet.microsoft.com/en-us/sysinternals/bb897553.aspx)（嗯，现在是 Microsoft）。您可以运行它来启动 SSMS：

```
PsExec -s -i "C:\Program Files (x86)\...\ssms.exe"
--------^ s = "system" 
```

系统将提示您连接。身份验证方法将是 Windows 身份验证，并且用户名将被硬编码为`NT AUTHORITY\SYSTEM`. 连接后，您将能够进入安全性并修复`sa`密码，将自己添加为管理员，添加其他管理员等。

以下文章有更多详细信息和一些注意事项，您应该在尝试之前阅读。您可能还想查看底部的评论：

*   [恢复对 SQL Server 实例的访问](http://www.mssqltips.com/sqlservertip/2682/recover-access-to-a-sql-server-instance/?utm_source=AaronBertrand)

当然，在您更改了底层服务器名称之后，您可能还是希望在发出以下命令后重新启动：

```
EXEC sp_dropserver N'OldPC';
GO
EXEC sp_addserver N'NewPC', LOCAL;
GO 
```

此外，如果您已将 SQL Server 服务硬编码为以本地用户身份*启动*，例如`OldPC\user1`，并且您已重命名服务器，您还需要在服务的属性中修复该问题。在 SQL Server 配置管理器中右键单击，点击属性，移动到登录选项卡，修复用户名/密码，点击应用，对有关重新启动服务的提示说是，然后重新启动服务。

![在此处输入图像描述](../Images/74ad22a27677caa81ff779f8b53b9178.png)

但是您不需要使用单用户模式，这实际上需要您重新启动两次。

* * *

避免此问题的一种方法：将您的机器名称保留为`OldPC`. 或者在安装 SQL Server 和其他所有内容*之前*决定服务器的最终名称......

# mysql-workbench - MySQL Workbench 正向工程师

> ID：14785119
> 
> 赞同：1
> 
> 时间：2013-02-09T04:55:28.620
> 
> 标签：mysql-workbench

我的 EERD 设置完全符合我的要求，我使用正向工程将 EERD 上传到数据库。然后我对该数据库进行了逆向工程，以查看两个 EERD 是否匹配。我发现表之间的许多关系是不同的。

您认为 MySQL 工作台在正向/逆向工程方面的准确性如何？这是我第一次使用 MySQL 工作台创建数据库，所以我想仔细检查它的可靠性。

# iphone - UICollectionViewCell 对齐到每一行的顶部

> ID：14785122
> 
> 赞同：1
> 
> 时间：2013-02-09T04:55:44.890
> 
> 标签：iphone, ios, uicollectionview, uicollectionviewcell

我有一个包含各种大小单元格的集合视图。我正在尝试实现一个通用布局，使所有单元格对齐到每行的顶部（内置的流布局将所有单元格对齐到行的中心）。

具有最大高度的单元格会将所有单元格向下推到下一行。

有没有一种简单的方法来子类化布局并实现它？

提前感谢您的任何提示。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-23T21:40:22.183

我破解了 UICollectionViewFlowLayout。

[https://github.com/sonsongithub/IntroduceCollectionView](https://github.com/sonsongithub/IntroduceCollectionView)

# windows-phone-7 - 将图像转换为 wp7 的文本

> ID：14785125
> 
> 赞同：1
> 
> 时间：2013-02-09T04:56:22.210
> 
> 标签：windows-phone-7

我正在为 wp7 开发应用程序，并且对这些东西很陌生。我想**将图像转换为文本，**例如选择现有图像或捕获新图像，如果该图像中存在文本，它应该在**TextBox**上显示这些文本。有人可以帮我吗？提前致谢！！！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-09T10:38:12.860

如果您不想花费数年时间开发自己的解决方案，您可以尝试以下方法：

[http://code.google.com/p/tesseractdotnet/](http://code.google.com/p/tesseractdotnet/)

[http://research.microsoft.com/en-us/projects/hawaii/default.aspx](http://research.microsoft.com/en-us/projects/hawaii/default.aspx)

顺便说一句，您要查找的搜索词是“光学字符识别”或“OCR”。

# asp.net-mvc-4 - 最小和最大字符串长度的单独错误消息 - MVC4 数据注释

> ID：14785130
> 
> 赞同：11
> 
> 时间：2013-02-09T04:57:01.927
> 
> 标签：asp.net-mvc-4, validation, data-annotations

有人可以分享他们使用 MVC 中的数据注释为最小和最大字符串长度设置单独的错误消息的实现吗？

似乎`StringLength`只允许单个错误消息`MinLength`/`MaxLength`不生成不显眼的验证标记，因为它们不是`IClientValidatable`

尽管这似乎是一个非常普遍的要求，但我在网上找不到实现。

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2013-02-10T20:20:07.863

您可以使用`RegularExpression`数据注释进行最小检查并使用`StringLength`属性进行最大检查。Javascript 将在客户端执行正则表达式，因此它们很好且不显眼！每个属性只能使用一个`RegularExpression`属性，否则您可以使用正则表达式同时执行最大值和最小值。

最少 5 个字符

```
[RegularExpression(@"^.{5,}$", ErrorMessage = "Minimum 5 characters required")] 
```

最多 50 个字符

```
[StringLength(50, ErrorMessage = "Maximum {2} characters exceeded")] 
```

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2013-08-28T20:58:39.497

虽然它不是单独的消息，但这就是我所做的：

```
[StringLength(30, ErrorMessage = "Must be between {2} and {1} characters long.", MinimumLength = 6)] 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-02-03T14:45:55.567

```
[StringLength(800, ErrorMessage = "<img src='/images/icon-info.png' /><p>The {0} must be between {2} and {1} characters long.</p>", MinimumLength = 6)] 
```

这将显示图像以及最小和最大长度。

# python - 我的遗传算法出了什么问题

> ID：14785134
> 
> 赞同：0
> 
> 时间：2013-02-09T04:57:39.977
> 
> 标签：python, algorithm, genetic-algorithm, genetic

我试图了解遗传算法是如何工作的。就像我通过尝试在我的 on 上写一些东西来学习的所有东西一样；但是，我的知识非常有限，我不确定我是否做对了。

该算法的目的是查看如果一半的人口已经被感染，那么半数牛群感染疾病需要多长时间。这只是我脑海中想到的一个例子，所以我不确定这是否是一个可行的例子。

关于如何提高我的知识的一些反馈会很好。

这是代码：

```
import random

def disease():
    herd = []
    generations = 0
    pos = 0
    for x in range(100):
        herd.append(random.choice('01'))
    print herd
    same = all(x == herd[0] for x in herd)
    while same == False:
        same = all(x == herd[0] for x in herd)
        for animal in herd:
            try:
                if pos != 0:
                    after = herd[pos+1]
                    before = herd[pos-1]
                    if after == before and after == '1' and before == '1' and animal == '0':
                        print "infection at", pos
                        herd[pos] = '1'
            #print herd
                pos += 1
            except IndexError:
                pass
        pos = 0
        generations += 1
        random.shuffle(herd)
        #print herd
    print "Took",generations,"generations to infect all members of herd."
if __name__ == "__main__":
    disease() 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-09T05:49:19.067

您的代码没有实现`GeneticAlgorithm`. 我建议您首先从一个开源库开始了解它是如何工作的，然后再实现自己的（如果需要）

要拥有遗传算法，您将需要以下内容：

1-您试图最小化的目标函数

2- 对目标函数中的决策变量进行建模的染色体表示（例如实际值）。你的目标是找到最小化目标函数的最佳染色体

3- 开始搜索的初始染色体群（可以是随机的）

4- 遗传算子，即选择、交叉和变异，您将其应用于当前种群以获得下一代

5- 迭代直到达到停止标准，例如最大生成数或所需的适应度值

这只是对遗传算法实现应该具有的内容的简要描述。

# c - sys open不能使用c中的指针

> ID：14785135
> 
> 赞同：1
> 
> 时间：2013-02-09T04:57:50.230
> 
> 标签：c, pointers

我有： 现在如果不是`input`in `sys_open()`，如果我要传递 a.txt，它可以工作。但我需要获取命令行的用户名，因此我必须将其复制到`input`. 当我传递我的指针变量时，它不起作用。为什么？

```
int main()
{
    char *name;

    char input[1024];
    strcpy(input, argv[1]);

    name = input;

    sys_open(input, "O_RDWR", 00700);

} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-09T05:40:23.677

的标志`open`（我不确定您为什么将其称为`sys_open`）作为符号常量而不是字符串传递。

```
open(input, O_RDWR, 00777); 
```

您几乎肯定需要在某处分配返回值来做任何有用的事情。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-09T05:05:19.880

你可以试试`sys_open(input, O_RDWR, 00777);`。我已按如下方式修改了此代码，它对我有用

```
#include <fcntl.h>
#include <sys/stat.h>
#include <unistd.h>

int main(int argc, char* argv[])
{
char *name;
int   fd;
int   data = 0;

char input[1024];
strcpy(input, argv[1]);

//name = input;
fd = open((const char *)(input), O_RDWR, 00700);
printf("file descriptor: %x\n", fd);

read(fd, &data, 2);
printf("Data: %d\n", data);

return 0;
} 
```

# c - 将 Bash 函数转换为计算 n! 到 C?

> ID：14785136
> 
> 赞同：1
> 
> 时间：2013-02-09T04:57:52.250
> 
> 标签：c, bash, loops, factorial

我正在尝试用 C 重写这个 bash 函数，但是有点不确定如何将这个函数转换为 C 循环。

在这里，我设置了变量。这个我已经有了

```
n=10
r=4 
```

这是我对如何重新编写它有点迷茫的地方。这似乎是用自己的函数调用函数，我很确定 C 不会那样做（至少安全）而且它根本不需要是一个函数，我只需要插入相同的变量并让它来出同样的结果。

```
factorial() {
if (($1)); then
    echo $(($1 * $(factorial $(($1-1)))))
else
    echo 1
fi
} 
```

最后一点，用 C 语言表达以下代码的最佳方式是什么？bash 中的括号会延续吗？

```
result=$(($(factorial $n)/($(factorial $r)*$(factorial $(($n-$r)))))) 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-09T05:02:13.960

C 函数调用自己是完全合法的——这称为*[递归](http://en.wikipedia.org/wiki/Recursion)*。在 C 中，它看起来像这样：

```
int factorial(int n) {
    if (n == 0) return 1;
    return n * factorial(n - 1);
} 
```

您也可以直接将其编写为循环：

```
int factorial(int n) {
    int result = 1;
    for (int i = 1; i <= n; i++) {
        result *= i;
    }
    return result;
} 
```

希望这可以帮助！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-09T05:01:45.770

```
 int factorial(int i)
 {
    if(i)
       return factorial(i - 1) * i;
    return 1;
 }

 int main()
 {
     printf("%d", factorial(5));
     return 0;
 } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-09T05:35:26.890

由于它涉及的函数调用开销要少得多，我更喜欢 non_recursive 版本，但它们都应该工作。我不知道 bash 如何处理大量数字，不幸的是，在 C 中 long double 是您在不使用外部库的情况下可以获得的最大范围。

```
long double recursive (int n) {
  if (n <= 1)
    return 1.0;
  else return (n * recursive (n-1));
}

long double non_recursive (int n) {
  long double value = 1.0;

  while (n > 1)
    value *= n--;

  return value;
} 
```

要回答您的第二个问题，我建议在计算之前进行以下数学转换，以避免不必要的计算开销：

```
 n!               (M+1) * (M+2) * ... * n
-----------    =   ------------------------  
r! * (n-r)!             (n-m) !

                  with M = max (r, n-r), m = min (r, n-r); 
```

鉴于这种转换，相应的 C 代码将如下所示：

```
long double over (int n, int r) {

  int M;
  int m;

  if  (r > n-r) {
    M = r+1;
    m = n-r;
  }
  else {
    M = n-r + 1;
    m = r;
  }

  long double value = 1.0;

  while (M <= n)
    value *= M++;

  while (m > 1)
    value /= m--;

  return value;
} 
```

# c++ - 将 EnumDisplaySettings 与非标准设备名称一起使用

> ID：14785138
> 
> 赞同：1
> 
> 时间：2013-02-09T04:58:18.983
> 
> 标签：c++, winapi

我通过检查值找到了监视器的**设备名称**`DEV_BROADCAST_DEVICEINTERFACE.dbcc_name`，并且我试图在函数中使用该设备名称`EnumDisplaySettings()`（设备名称是该函数的第一个参数）。

**我的问题：**函数`EnumDisplaySettings()`总是返回 0，即失败。我相信它失败了，因为 MSDN 说的第一个参数`EnumDisplaySettings()`应该是 a`DISPLAY_DEVICE.DeviceName returned from EnumDisplayDevices`而我的设备名称是 from `DEV_BROADCAST_DEVICEINTERFACE.dbcc_name`。

使用`DEV_BROADCAST_DEVICEINTERFACE.dbcc_name`我获得`\\?\DISPLAY#GSM3AD7#5&20a3f50d&0&UID513#{866519b5-3f07-4c97-b7df-24 c5d8a8ccb8}`第二台显示器的设备名称，而`EnumDisplayDevices()`给我设备名称`\\.\DISPLAYV1`。

是否可以使用 EnumDisplaySettings()，其中第一个参数是从函数 DEV_BROADCAST_DEVICEINTERFACE.dbcc_name 检索的设备名称？

**我问的原因是：**当第二台显示器连接到计算机时，我想更改该显示器的显示设置。但是在监视器连接时，我会收到它的设备名称通知，通过`DEV_BROADCAST_DEVICEINTERFACE.dbcc_name`它（如上所述）与 EnumDisplayDevices() 为完全相同的设备返回的名称不同。而且我不知道如何通过枚举所有使用 EnumDisplayDevices() 的显示设备来识别第二台显示器？任何想法如何使用 EnumDisplayDevices() 枚举所有显示设备并识别刚刚连接到计算机的正确监视器/设备？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-09T05:32:39.873

我不能保证，但我*猜*只要显示设备保持连接状态，它就会保留它的名称。

基于这个假设，我会`EnumDisplayDevices`在您的程序启动时运行。连接新显示器后，`EnumDisplayDevices`再次使用，并将设备列表与之前的列表进行比较，然后`EnumDisplaySettings`在新添加到列表中的任何设备上进行比较。

完成后，将旧列表替换为新列表，您就可以在用户下次插入另一台显示器时做好准备。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-10T06:05:32.527

查看这些先前的答案以获取帮助您将`DEV_BROADCAST_DEVICEINTERFACE.dbcc_name`值转换为合适`DISPLAY_DEVICE.DeviceName`值的线索：

[从 DEV_BROADCAST_DEVICEINTERFACE win32 编程访问 dbcc_name](https://stackoverflow.com/a/1075173/65863)

[如何从 DEV_BROADCAST_DEVICEINTERFACE 和设备实例 ID 中获取友好的设备名称](https://stackoverflow.com/a/2223452/65863)

# ios - 在 UITableViewController 中加载 GADBannerView

> ID：14785139
> 
> 赞同：2
> 
> 时间：2013-02-09T04:58:28.470
> 
> 标签：ios, xcode, admob

我正在使用 AdMob 并将 GADBannerView 加载到 UITableViewController 而不是一般的 UIView 中。谁能告诉我如何加载横幅并显示在表格视图的顶部？下面是代码：

在 nameViewController.h 文件中：

```
@interface nameViewController : UITableViewController {
    GADBannerView *AbMob;
} 
```

在 (void)viewDidLoad 上的 nameViewController.m 文件中：

```
//AdMob block
AbMob = [[GADBannerView alloc]
         initWithFrame:CGRectMake(0.0,
                                  self.view.frame.size.height -
                                  GAD_SIZE_320x50.height,
                                  GAD_SIZE_320x50.width,
                                  GAD_SIZE_320x50.height)];

AbMob.adUnitID = AdMob_ID;
AbMob.rootViewController = self;
[self.view addSubview:AbMob];

GADRequest *r = [[GADRequest alloc] init];
r.testing = YES;
[AbMob loadRequest:r]; 
```

任何想法都将不胜感激，现在它只是漂浮在那里。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T23:36:31.547

[这](https://code.google.com/p/google-mobile-dev/source/browse/AdCatalog/Classes/AdvancedLayoutUseCases/TableViewExample/TableViewExampleController.m?repo=adcatalog-ios)是一个完整的示例，说明如何在表格视图的顶部和底部嵌入广告。可以进行轻微修改以仅在顶部显示一个。

请注意，根据 AdMob 条款和条件，即使在长表格视图中也最多只能有 2 个广告，并且一次展示的广告不得超过 1 个。仅在顶部显示 1 个广告也可以。

# java - 复杂度等级

> ID：14785150
> 
> 赞同：1
> 
> 时间：2013-02-09T05:00:28.027
> 
> 标签：java, time-complexity

这个问题的大 O 表示法是什么？为什么？我认为这是 O(N)，因为我们这里有一个循环，但我不确定。

```
public static void mystery(List<String> list){

    for(int i = 0; i< list.size()-1; i+=2){

        String first = list.remove(i);

        list.add(i + 1, first);

    }

} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-09T05:19:29.823

时间复杂度为 O(n^2)。

循环将执行 floor(n/2) 次。List.add(int i) 和 list.remove(int i) 平均都是 O(n) （请参阅下面的注释）。这导致 O(n*n/2)，即 O(n^2)。

**关于内置 List 实现的一些说明**

在 ArrayList 上调用 List.add(int i, element) 或 List.remove(int i) 时，必须移动列表中的元素以插入或删除元素（当不在列表末尾时）必要的班次是 n。因此添加和删除操作都是 O(n)。

List.add(int i, element) 和 List.remove(int i) 在 LinkedList 上调用时也是 O(n)。这是由于需要遍历给定索引才能删除/添加元素。

当我们知道对给定列表的添加/删除将是连续的时，我们可以做得更好。使用 LinkedList 的 ListIterator 可用于将时间复杂度降低到 O(n)。在 LinkedLists ListIterator 上调用 add 和 remove 方法是 O(1)，因为不需要遍历给定的索引。

> 使用 ListIterator 的 askers 方法的示例实现

```
public static void mystery(List<String> list){
    ListIterator<String> iterator = list.listIterator();
    int i = 0;
    while (i < list.size()-1) {
        String first = iterator.next();
        // Remove first
        iterator.remove();
        // Skip an element
        iterator.next();
        // insert at i+1
        iterator.add(first);
        i+=2;
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-09T05:04:45.723

看起来它是O（n ^ 2）。它遍历一个列表，并且对于每次迭代，它调用`list.remove()`也运行在 O(n) 中。因此这个函数的时间复杂度应该是 O(n^2)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-09T05:19:51.047

运行此方法时，它将执行：

```
remove 0
append 1
remove 1
append 2
... 
```

假设列表是数组列表：

假设最后总是删除所有元素所以：n/2 * (2*n + n) = 3 * n^2 /2 => O(n^2)

假设所有删除元素总是在顶部。所以：n/2 * (n + n) => O(n^2)

所以。因为最坏情况和最好情况总是 O(n^2)，所以，不仅是 Big-O，而且复杂度也会是 o(n^2)。

# sql - UPSERT 功能的存储过程

> ID：14785155
> 
> 赞同：2
> 
> 时间：2013-02-09T05:01:19.403
> 
> 标签：sql, database, stored-procedures, plsql

下面是我的表，其中`ID column is Primary Key`. 其他两列是字符串。

我正在使用一个名为`XpressMP`.

```
Column Name                
-------
ID             PrimaryKey                 
SEARCHES       String
ACCOUNT        String 
```

我正在尝试实现这里的功能`UPSERT`-

```
If ID doesn't exists here then insert a new record.
And ID exists then update the record. 
```

我知道如果我正在使用 Oracle，那么我可以使用`MERGE`sql 命令，但`MERGE`该数据库不支持该命令，并且到目前为止还没有其他命令。但我相信我可以用`Stored Procedure`.

谁能提供一些建议我如何用存储过程做同样的事情？因为存储过程将在那里工作。

**更新：-**

```
public final static String INSERT = "BEGIN"
+" INSERT INTO TABLE (ID, SEARCHES, ACCOUNT) VALUES (?, ?, ?)"
+" EXCEPTION"
+" WHEN DUP_VAL_ON_INDEX THEN"
+" UPDATE TABLE"
+" SET SEARCHES = ?, ACCOUNT = ?"
+" WHERE ID = ?"
+" END"; 
```

每当我尝试像这样执行上述存储过程时

```
preparedStatement = dbConnection.prepareStatement(INSERT);

preparedStatement.setString(1, String.valueOf(userId));
preparedStatement.setString(2, Constants.getaAccount(userId));
preparedStatement.setString(3, Constants.getaAdvertising(userId));
preparedStatement.executeUpdate(); 
```

我得到例外？这是执行它的正确方法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-09T05:14:07.380

好吧，我认为您必须以传统方式进行操作。

如果行不存在插入其他更新

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-09T22:32:14.950

我在这里同意@tabish。你必须用传统的方式来做。您建议的方式我认为您会造成更大的伤害-您对源表中的每一行（到目标表或 ERR 表）执行插入，然后执行额外的更新。在最坏的情况下，当您必须更新所有行时，**您将执行两倍的 dml 操作。** 在我的书中，这不是一个好主意。祝你好运。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-09T05:25:31.697

您可以使用`DUP_VAL_ON_INDEX`异常处理它。
您可以在程序中添加以下代码，这应该符合您的要求。

```
CREATE OR REPLACE PROCEDURE TABLE_UPSERT (v_id IN NUMBER,
                                          v_searches IN VARCHAR2(20),
                                          v_account IN VARCHAR2(20)) AS
BEGIN
  INSERT INTO table (id, searches, account) VALUES (v_id, v_searches, v_account) ;
EXCEPTION
  WHEN DUP_VAL_ON_INDEX THEN
    UPDATE TABLE
    SET searches = v_searches, account = v_account
    WHERE id = v_id;
END;
/ 
```

[您可以在此处](http://www.oraclecity.com/oracle-faq/what-is-ora-00001-dup_val_on_index-error/)和[此处](http://psoug.org/definition/DUP_VAL_ON_INDEX.htm)阅读有关 DUP_VAL_ON_INDEX 异常的更多信息。

* * *

另一种选择是在检查计数后插入或更新数据。

```
DECLARE
  l_count number;
BEGIN
  SELECT count(*) 
  INTO l_count
  FROM table 
  WHERE id = (value);

  IF l_count = 0 THEN
    INSERT into table VALUES ....;
  ELSE
    UPDATE table SET searches = .., account = ..;
  END IF;
END; 
```

# java - 如何将两个 Jtable 合并到第三个 Jtable 中？

> ID：14785156
> 
> 赞同：0
> 
> 时间：2013-02-09T05:01:20.217
> 
> 标签：java, swing, jtable, tablemodel

我有两个具有相同标题名称和列数的 JTable。现在，当我单击合并按钮时，我想创建第三个 JTable，其中包含这两个 JTable 的所有值。请建议我任何答案。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-09T05:09:20.047

您可以创建一个代理模型，允许您向其附加 1 个或多个表模型。

然后，您将覆盖所需的方法以通过代理模型将请求从表传递到其他表。

主要问题是在模型之间映射行索引。

**更新了示例**

![在此处输入图像描述](../Images/0a49c4378828b4c9c8e8472e258876a2.png)

这是一个非常基本的例子......

```
public class ProxyTableModelTest {

    public static void main(String[] args) {
        new ProxyTableModelTest();
    }

    public ProxyTableModelTest() {
        EventQueue.invokeLater(new Runnable() {
            @Override
            public void run() {
                try {
                    UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());
                } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {
                }

                final PersonTableModel modelA = new PersonTableModel();
                modelA.add(new Person("Guy", "Eichler", getDateOfBirth()));
                modelA.add(new Person("Jamie", "Weishaar", getDateOfBirth()));
                modelA.add(new Person("Jamie", "Sinkler", getDateOfBirth()));
                modelA.add(new Person("Lorrie", "Collelo", getDateOfBirth()));
                modelA.add(new Person("Hugh", "Rolls", getDateOfBirth()));
                modelA.add(new Person("Tyrone", "Bogen", getDateOfBirth()));
                modelA.add(new Person("Jamie", "Vandine", getDateOfBirth()));
                modelA.add(new Person("Max", "Flippin", getDateOfBirth()));
                modelA.add(new Person("Christian", "Folson", getDateOfBirth()));
                modelA.add(new Person("Neil", "Ralphs", getDateOfBirth()));

                final PersonTableModel modelB = new PersonTableModel();
                modelB.add(new Person("Jamie", "Santillanes", getDateOfBirth()));
                modelB.add(new Person("Carmella", "Leverich", getDateOfBirth()));
                modelB.add(new Person("Mathew", "Valade", getDateOfBirth()));
                modelB.add(new Person("Louisa", "Smead", getDateOfBirth()));
                modelB.add(new Person("Nelson", "Vails", getDateOfBirth()));
                modelB.add(new Person("Harriett", "Tengan", getDateOfBirth()));
                modelB.add(new Person("Liza", "Uhler", getDateOfBirth()));
                modelB.add(new Person("Ashlee", "Forbush", getDateOfBirth()));
                modelB.add(new Person("Guy", "Kluender", getDateOfBirth()));
                modelB.add(new Person("Eve", "Cooter", getDateOfBirth()));

                JFrame frame = new JFrame("Test");
                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
                frame.setLayout(new GridBagLayout());

                JPanel controlsA = new JPanel();
                JButton addA = new JButton("Add");
                addA.addActionListener(new ActionListener() {
                    @Override
                    public void actionPerformed(ActionEvent e) {
                        modelA.add(new Person("A", "A", getDateOfBirth()));
                    }
                });
                controlsA.add(addA);

                JPanel controlsB = new JPanel();
                JButton addB = new JButton("Add");
                addB.addActionListener(new ActionListener() {
                    @Override
                    public void actionPerformed(ActionEvent e) {
                        modelB.add(new Person("B", "B", getDateOfBirth()));
                    }
                });
                controlsB.add(addB);

                JPanel groupA = new JPanel(new BorderLayout());
                groupA.add(new JScrollPane(new JTable(modelA)));
                groupA.add(controlsA, BorderLayout.SOUTH);

                JPanel groupB = new JPanel(new BorderLayout());
                groupB.add(new JScrollPane(new JTable(modelB)));
                groupB.add(controlsB, BorderLayout.SOUTH);

                GridBagConstraints gbc = new GridBagConstraints();
                gbc.fill = GridBagConstraints.BOTH;
                gbc.weightx = 1;
                gbc.weighty = 1;
                gbc.gridy = 0;
                gbc.gridx = 0;
                frame.add(groupA, gbc);
                gbc.gridx++;
                frame.add(groupB, gbc);

                gbc.gridx = 0;
                gbc.gridy++;
                gbc.gridwidth = GridBagConstraints.REMAINDER;
                frame.add(new JScrollPane(new JTable(new ProxyTableModel(modelA, modelB))), gbc);
                frame.setSize(400, 400);
                frame.setLocationRelativeTo(null);
                frame.setVisible(true);
            }

        });
    }

    public class ProxyTableModel extends AbstractTableModel implements TableModelListener {

        private List<TableModel> models;
        private int rowCount;

        public ProxyTableModel() {
            models = new ArrayList<>(3);
        }

        public ProxyTableModel(TableModel... models) {
            this();
            for (TableModel model : models) {
                add(model);
            }
            System.out.println("rowCount = " + rowCount);
        }

        protected int getRowOffset(TableModel model) {
            int rowOffset = 0;
            for (TableModel proxy : models) {
                if (proxy.equals(model)) {
                    break;
                } else {
                    rowOffset += proxy.getRowCount();
                }
            }
            return rowOffset;
        }

        protected TableModel getModelForRow(int row) {            
            TableModel model = null;
            int rowOffset = 0;
            for (TableModel proxy : models) {
                if (row >= rowOffset && row < (rowOffset + proxy.getRowCount())) {
                    model = proxy;
                    break;
                }
                rowOffset += proxy.getRowCount();
            }
            return model;
        }

        protected void updateRowCount() {
            rowCount = 0;
            for (TableModel proxy : models) {
                rowCount += proxy.getRowCount();
            }
        }

        public void add(TableModel model) {
            int firstRow = getRowCount();
            int lastRow = firstRow + model.getRowCount() - 1;

            models.add(model);
            model.addTableModelListener(this);
            updateRowCount();
            fireTableRowsInserted(firstRow, lastRow);
        }

        public void remove(TableModel model) {
            if (models.contains(model)) {
                int firstRow = getRowOffset(model);
                int lastRow = firstRow + model.getRowCount() - 1;

                model.removeTableModelListener(this);
                models.remove(model);
                updateRowCount();
                fireTableRowsDeleted(firstRow, lastRow);
            }
        }

        @Override
        public int getRowCount() {
            return rowCount;
        }

        @Override
        public int getColumnCount() {
            int columnCount = 0;
            if (models.size() > 0) {
                columnCount = models.get(0).getColumnCount();
            }
            return columnCount;
        }

        @Override
        public Object getValueAt(int rowIndex, int columnIndex) {
            TableModel model = getModelForRow(rowIndex);
            if (model == null) {
                System.out.println("rowIndex = " + rowIndex);
                System.out.println("rowCount = " + rowCount);
                TableModel test = getModelForRow(rowIndex);
            }
            int rowOffset = getRowOffset(model);
            rowIndex -= rowOffset;
            return model.getValueAt(rowIndex, columnIndex);
        }

        @Override
        public Class<?> getColumnClass(int columnIndex) {
            Class clazz = String.class;
            if (models.size() > 0) {
                clazz = models.get(0).getColumnClass(columnIndex);
            }
            return clazz;
        }

        @Override
        public String getColumnName(int column) {
            String name = null;
            if (models.size() > 0) {
                name = models.get(0).getColumnName(column);
            }
            return name;
        }

        @Override
        public void tableChanged(TableModelEvent e) {
            int type = e.getType();
            if (type == TableModelEvent.INSERT || type == TableModelEvent.DELETE || type == TableModelEvent.UPDATE) {                
                int firstRow = e.getFirstRow();
                int lastRow = e.getLastRow();

                TableModel model = getModelForRow(firstRow);
                int rowOffset = getRowOffset(model);

                firstRow += rowOffset;
                lastRow += rowOffset;

                updateRowCount();

                TableModelEvent proxy = new TableModelEvent(this, firstRow, lastRow, e.getColumn(), type);        
                fireTableChanged(e);
            } else {
                updateRowCount();

                TableModelEvent proxy = new TableModelEvent(this, e.getFirstRow(), e.getLastRow(), e.getColumn(), type);                
                fireTableChanged(e);
            }
        }

    }

    protected Date getDateOfBirth() {
        Calendar cal = Calendar.getInstance();
        cal.set(Calendar.MONTH, random(0, 11));
        cal.set(Calendar.DATE, random(1, 31));
        cal.set(Calendar.YEAR, random(1900, 2012));
        return cal.getTime();
    }

    protected int random(int min, int max) {

        return min + ((int) Math.round(Math.random() * (max - min)));

    }

    public class PersonTableModel extends AbstractTableModel {

        private List<Person> people;

        public PersonTableModel() {
            people = new ArrayList<>(25);
        }

        public void add(Person person) {
            people.add(person);
            int index = people.size() - 1;
            fireTableRowsInserted(index, index);
        }

        public void remove(Person person) {
            int index = people.indexOf(person);
            if (index > -1) {
                people.remove(index);
                fireTableRowsDeleted(index, index);
            }
        }

        @Override
        public int getRowCount() {
            return people.size();
        }

        @Override
        public int getColumnCount() {
            return 3;
        }

        @Override
        public Object getValueAt(int rowIndex, int columnIndex) {
            Object value = null;
            Person person = people.get(rowIndex);
            switch (columnIndex) {
                case 0:
                    value = person.getFirstName();
                    break;
                case 1:
                    value = person.getLastName();
                    break;
                case 2:
                    value = person.getDateOfBirth();
            }
            return value;
        }

        @Override
        public String getColumnName(int column) {
            String value = null;
            switch (column) {
                case 0:
                    value = "First name";
                    break;
                case 1:
                    value = "Last name";
                    break;
                case 2:
                    value = "Date of birth";
            }
            return value;
        }

        @Override
        public Class<?> getColumnClass(int columnIndex) {
            Class value = null;
            switch (columnIndex) {
                case 0:
                case 1:
                    value = String.class;
                    break;
                case 2:
                    value = Date.class;
                    break;
            }
            return value;
        }

    }

    public class Person {

        private String firstName;
        private String lastName;
        private Date dateOfBirth;

        public Person(String firstName, String lastName, Date dateOfBirth) {
            this.firstName = firstName;
            this.lastName = lastName;
            this.dateOfBirth = dateOfBirth;
        }

        public Date getDateOfBirth() {
            return dateOfBirth;
        }

        public String getFirstName() {
            return firstName;
        }

        public String getLastName() {
            return lastName;
        }

    }

} 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-02-09T05:02:48.587

您将希望将两个 JTable 的 TableModel 中保存的数据组合起来，并将它们添加到您的第三个 JTable 保存的第三个 TableModel 中。如果表结构都相同，您可以遍历模型的行，将每一行添加到新的 TableModel。

[您可以在Swing JTable 教程](http://docs.oracle.com/javase/tutorial/uiswing/components/table.html)中阅读 JTables 和 TableModels 。

# android - Android - 在任务管理器中看不到正在运行的后台应用程序

> ID：14785163
> 
> 赞同：3
> 
> 时间：2013-02-09T05:02:54.187
> 
> 标签：android, taskmanager, background-application

我开发了一个音乐播放器来处理播放音乐。当我在后台运行音乐播放器时，我在任务管理器中看不到它。如何使后台运行的应用程序在任务管理器中可见？谢谢~

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-09T05:10:42.703

所有正在运行的服务都显示在应用程序下的正在运行的服务列表中。我真的希望你不能隐藏它们。

图标不需要出现在主应用程序菜单上。您可以通过不在清单中定义图标/标签来删除此菜单上出现的图标。

你的要求听起来粗略/阴暗。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-09T05:14:52.670

大多数音乐播放器应用程序都会在通知面板中提供持续通知。您可以拥有它，以便当用户点击通知时，它会打开您的音乐播放器，以便他们可以停止它。

使用 JellyBean 中的新通知 API，您可以拥有一个带有按钮的通知，这样他们就可以在不打开应用程序的情况下对其进行控制。

在这里阅读它们：http: [//developer.android.com/design/patterns/notifications.html](http://developer.android.com/design/patterns/notifications.html)

# textbox - Selenium IDE - 验证文本框中的自动填充文本

> ID：14785168
> 
> 赞同：1
> 
> 时间：2013-02-09T05:03:47.173
> 
> 标签：textbox, selenium-ide, autofill

我有一个文本框，一些数据会自动填充到该文本框中，我需要知道使用 Selenium IDE 显示的文本是正确的。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-09T09:11:25.293

有很多方法可以实现这一点，您必须使用哪一种取决于您的应用程序的行为方式。除非我们看到实际应用，否则没有直接的方法来回答。

有许多命令可以帮助您。verifyValue ![验证值示例](../Images/786a5a19a0bc580ccd78b6085a273b70.png), verifyText, & verifyTextPresent, & assertTextPreset 等

右键单击具有预填充值的字段...您将在上下文菜单中找到一个 ShowAvailableCommands 选项，进入该选项，您会发现各种方法可以实现您想要的。希望能帮助到你... ![在此处输入图像描述](../Images/f7ebc482fb8eadad4c688c6a694cbc4b.png)

# php - 如何停止传播 eval(gzinflate(base64_decode())); 在服务器？

> ID：14785171
> 
> 赞同：-1
> 
> 时间：2013-02-09T05:04:37.457
> 
> 标签：php

在我的服务器中，许多文件在文件中添加了以下行...

```
eval(gzinflate(base64_decode('some code'))); 
```

我已经清除了一次，它仍然会再次出现。任何人都可以帮助我阻止这种情况并且不再传播吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-09T05:19:27.113

你的服务器被入侵了！如果您一开始没有找到它是如何到达那里的，并堵住*了那个*安全漏洞，那么删除文件中的那个 php 片段也无济于事。理想情况下，您甚至希望让您的服务器离线，直到您想好下一步。不言而喻，需要更改凭据，需要通知用户更改他们的密码，并且需要对您的服务器进行一般审计（检查数据一致性等）

仅供参考：在某些情况下，您在上面写的“一些代码”可以是带有数据库管理器的完整服务器管理界面！

至于在哪里寻找漏洞的来源，可以看一下常见的嫌疑人：

*   您的任何代码都写入文件吗？如果有，是哪一个？您是否根据用户输入计算文件名？消毒了吗？
*   有文件上传功能吗？如果是，上传的文件是否可以直接由网络服务器提供？它们是否在可以作为 php 文件执行的目录中？注意：如果您使用的是 CMS，很可能您*确实*有文件上传！
*   谁可以通过 ssh/ftp 访问您的服务器？你能检查访问日志吗？
*   如果您使用的 CMS 有权访问管理面板、审核日志、更改所有人的凭据

现在处于你的位置很糟糕，但祝你好运。

# javascript - 如何重用 JQuery 事件？

> ID：14785186
> 
> 赞同：1
> 
> 时间：2013-02-09T05:07:41.257
> 
> 标签：javascript, jquery, html, performance, browser

我有一堆具有以下结构的div：

```
<div id="content">
  <span class="highlight">Hello1<span> 
  <span class="highlight">Hello2<span> 
  <span class="highlight">Hello1<span> 
  <span class="highlight">Hello2<span> 
  <span class="highlight">Hello1<span> 
  <span class="highlight">Hello2<span> 
</div> 
```

我`highlight` 在小函数中添加鼠标 3 事件，并在 div 上添加一些操作，我正在更改 div 内容一些其他跨度标签，因此早期的鼠标事件无用仍然存在于内存中，当跨度标签在 1000 左右时它会增加 MB 时，浏览器内存会成倍增加。

有什么办法可以让我可以将 span 标签的早期鼠标事件重用到新的 div 内容 span 标签？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-09T05:43:19.683

`$(document.body)`例如，您需要从父容器委派您的事件

见[http://api.jquery.com/on/](http://api.jquery.com/on/)

```
$(document.body).on('events list','selector',function(e) {
       //do stuff
       })
                .on('event list2','selector2',function(e) {
       //do stuff
       })
        //etc... 
```

无论绑定到这些事件的对象数量如何，它都不会消耗更多内存

# iphone - 在 iOS 中绘制矩形

> ID：14785188
> 
> 赞同：10
> 
> 时间：2013-02-09T05:08:04.877
> 
> 标签：iphone, objective-c, draw, rectangles

我的应用程序的目标是让用户能够通过在 iPhone 屏幕的左右滑动来对不同的调度选项进行排序。当用户对这些不同的调度选项进行排序时，我将如何绘制和删除矩形？

我有一个 UIViewController.h、UIViewController.m 和 UIViewController.xib 文件来操作。我需要一个单独的 UIView 类吗？如果是这样，我如何将该 UIView 类连接到我的 .xib 文件中的视图？

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2014-08-01T00:09:00.183

哇...这么多复杂的解决方案，这就是您需要的：

```
UIView *myBox  = [[UIView alloc] initWithFrame:CGRectMake(180, 35, 10, 10)];
myBox.backgroundColor = [UIColor lightGrayColor];
[self.view addSubview:myBox]; 
```

没有别的......不需要在实施上发疯。

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2013-11-22T22:35:37.087

```
// 1st Add QuartzCore.framework to your project's "Link Binary with Libraries".

// 2nd Import the header in your .m file (of targeted view controller):

#import <QuartzCore/QuartzCore.h>

// 3rd Inside - (void)viewDidLoad method:
// Create a UIBezierPath (replace the coordinates with whatever you want):
UIBezierPath *path = [UIBezierPath bezierPath];
[path moveToPoint:CGPointMake(10.0, 10.0)];
// # Entry Point with 10px white frame
[path moveToPoint:CGPointMake(10.0, 10.0)];
// # Keeping 10px frame with iPhone's 450 on y-axis
[path addLineToPoint:CGPointMake(10.0, 450.0)];
// # Substracting 10px for frame on x-axis, and moving 450 in y-axis
[path addLineToPoint:CGPointMake(310.0, 450.0)];
// # Moving up to 1st step 10px line, 310px on the x-axis
[path addLineToPoint:CGPointMake(310.0, 10.0)];
// # Back to entry point
[path addLineToPoint:CGPointMake(10.0, 10.0)];

// 4th Create a CAShapeLayer that uses that UIBezierPath:
CAShapeLayer *shapeLayer = [CAShapeLayer layer];
shapeLayer.path = [path CGPath];
shapeLayer.strokeColor = [[UIColor blueColor] CGColor];
shapeLayer.lineWidth = 3.0;
shapeLayer.fillColor = [[UIColor clearColor] CGColor];
Add that CAShapeLayer to your view's layer:

// 5th add shapeLayer as sublayer inside layer view
[self.view.layer addSublayer:shapeLayer]; 
```

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2015-02-28T02:50:26.777

您可以使用以下方法绘制一个矩形：

```
 UIBezierPath* rectanglePath = [UIBezierPath bezierPathWithRect: CGRectMake(68, 38, 81, 40)];
 [UIColor.grayColor setFill];
 [rectanglePath fill]; 
```

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2013-02-09T05:36:01.303

首先制作一个CustomView。

```
#import <UIKit/UIKit.h>

@interface MyView : UIView

@end 
```

* * *

```
#import "MyView.h"

@implementation MyView

- (id)initWithFrame:(CGRect)frame
{
    self = [super initWithFrame:frame];
    if (self) {
        // Initialization code
    }
    return self;
}

// Only override drawRect: if you perform custom drawing.
// An empty implementation adversely affects performance during animation.
- (void)drawRect:(CGRect)rect
{
    // Drawing Rect
    [[UIColor redColor] setFill];　　　　　　　　　　　　　  // red
    UIRectFill(CGRectInset(self.bounds, 100, 100));
}

@end 
```

你测试。链接到您的 AppDelegate 或 ViewController

```
- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions 
{    
    MyView* view = [[MyView alloc]initWithFrame:CGRectMake(10, 30, 300, 400)];
    view.backgroundColor = [UIColor blackColor];
    [window addSubview:view];

    [self.window makeKeyAndVisible];

    return YES;
} 
```

* * *

```
- (void)viewDidLoad
{
    MyView* view = [[MyView alloc]initWithFrame:CGRectMake(10, 30, 300, 400)];
    view.backgroundColor = [UIColor blackColor];
    [self.view addSubview:view];

    [super viewDidLoad];
} 
```

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2013-02-09T05:42:25.590

A`UIView`恰好以矩形的形状绘制，因此如果您只需要更改矩形的颜色，请将`backgroundColor`UIView 的属性设置为您想要的颜色。

一个空的 UIView 会做：

```
UIView *view = [[UIView alloc] initWithFrame:CGRectMake(x, y, width, height)];
view.backgroundColor = [UIColor redColor]; 
```

如果您是从界面生成器执行此操作，请将新视图从库中拖到画布上，并在视图的属性中设置背景颜色。

对于简单案例，您可能不需要自定义视图。您还可以在“矩形”视图中添加其他项目，例如用于显示文本的 UILabel。

# ruby-on-rails - Ruby/rails 数组填充空项

> ID：14785189
> 
> 赞同：4
> 
> 时间：2013-02-09T05:08:19.243
> 
> 标签：ruby-on-rails, ruby, arrays

想象一下我有一个像这样的数组：

```
[["abc","zxy","fgh"], ["fgj","xxy"], ["eee", "aaa", "bbb", "hhh"]] 
```

我想要一个包含每个子数组的所有元素的数组，加上附加的空（或默认）项，直到最大子数组的长度。

例如，这将是：

```
[["abc","zxy","fgh", ""], ["fgj","xxy", "", ""], ["eee", "aaa", "bbb", "hhh"]] 
```

有任何想法吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-09T05:22:29.563

将每个数组映射到一个新数组，其初始大小为所有数组的最大值，当没有值时回退到默认值。

```
array = [["abc","zxy","fgh"], ["fgj","xxy"], ["eee", "aaa", "bbb", "hhh"]]
max_size = array.map(&:size).max
array.map { |a| Array.new(max_size) { |i| a[i] || '' } }
#=> [["abc", "zxy", "fgh", ""],
#    ["fgj", "xxy", "", ""],
#    ["eee", "aaa", "bbb", "hhh"]] 
```

请注意，如果您的初始（子）数组中有一个`nil`，这将用一个空字符串替换它`''`。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-09T05:26:00.700

简单地：

```
array=[["abc","zxy","fgh"], ["fgj","xxy"], ["eee", "aaa", "bbb", "hhh"]]
array.map {|sub_array| sub_array.in_groups_of(4, "").flatten }

#=> [["abc", "zxy", "fgh", ""],
#    ["fgj", "xxy", "", ""],
#    ["eee", "aaa", "bbb", "hhh"]] 
```

# javascript - 从输入字段中获取值并提取 ID

> ID：14785190
> 
> 赞同：0
> 
> 时间：2013-02-09T05:08:26.763
> 
> 标签：javascript, jquery

我目前正在通过 javascript 使用正则表达式来提取 YT 视频 ID。我有一个工作示例。但不是使用`var exaxmpleYoutubeURLs`. 有没有办法创建一个输入字段，可以将链接复制到其中，然后`ID`通过 ajax 显示十一位数？这是我的[JSFIDDLE](http://jsfiddle.net/DJSwc/15/)

```
var youtubePattern = /https?:\/\/(?:[0-9A-Z-]+\.)?(?:youtu\.be\/|youtube\.com(?:\/embed\/|\/v\/|\/watch\?v=|\/ytscreeningroom\?v=|\/feeds\/api\/videos\/|\/user\S*[^\w\-\s]|\S*[^\w\-\s]))([\w\-]{11})[?=&+%\w-]*/ig;

var exmpleYouTubeURLs = [
    "http://www.youtube.com/embed/NLqAF9hrVbY",
];

// Extract the YouTube ID 
function linkifyYouTubeURLs(text) {
    return text.replace(youtubePattern, '$1');
}

for(i=0; i < exmpleYouTubeURLs.length; i++) {
    document.writeln(i + ". " + linkifyYouTubeURLs(exmpleYouTubeURLs[i]) + "<br>");
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-09T05:30:06.657

你想要这个吗？

```
<textarea id="links"></textarea>
<input type="button" onclick="extractLinks()" value="Extract" />
<div id="outputDiv"></div>

<script>
    function extractLinks() {

        var youtubePattern = /https?:\/\/(?:[0-9A-Z-]+\.)?(?:youtu\.be\/|youtube\.com(?:\/embed\/|\/v\/|\/watch\?v=|\/ytscreeningroom\?v=|\/feeds\/api\/videos\/|\/user\S*[^\w\-\s]|\S*[^\w\-\s]))([\w\-]{11})[?=&+%\w-]*/ig;

        var exmpleYouTubeURLs = document.getElementById('links').value.split('\n');
        var output = document.getElementById('outputDiv');

        function linkifyYouTubeURLs(text) {
            return text.replace(youtubePattern, '$1');
        }

        output.innerHTML = '';
        for(i=0; i < exmpleYouTubeURLs.length; i++) {
             output.innerHTML += i + ". " + linkifyYouTubeURLs(exmpleYouTubeURLs[i]) + "<br >";
        }
    }
</script> 
```

# html - Firefox中的全尺寸IFrame？

> ID：14785192
> 
> 赞同：5
> 
> 时间：2013-02-09T05:08:31.283
> 
> 标签：html, css, google-chrome, firefox, iframe

我在使用 iframe 和 Firefox 时遇到问题。基本上，我将一个 IFrame 嵌入到一个站点中，因为它占据了整个身体区域。如您在此处所见，它与 Google chrome 完美配合。I-frame 占据了所有的正文区域，导航 iframe 不需要滚动条。

铬：http: [//i.stack.imgur.com/muo3U.png](http://i.stack.imgur.com/muo3U.png)

但是在 Firefox 中它不能正常工作。正如您在此处看到的，只有 iframe 的一部分是可见的，并且滚动条（它们是不可见的，但滚动有效）必须用于导航 iframe。对于我的网站而言，这非常没有吸引力。

火狐：http: [//i.stack.imgur.com/6Vm1O.png](http://i.stack.imgur.com/6Vm1O.png)

所以我想知道我怎样才能让它工作？我已经搜索和搜索，我尝试的所有解决方案最终都不起作用。

这是我的代码和我尝试过的其他代码。

[http://pastebin.com/rmdcnLuw](http://pastebin.com/rmdcnLuw)

谢谢你的帮助！

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-09T05:41:25.817

**您需要将您的`body`和`html`元素设置为`height: 100%`**

尝试这样的事情：

```
<html style="height: 100%">
<body style="height: 100%">
    <div style="width:100%; height:100%; background-color:transparent;">
    <iframe src="http://www.google.com/" width="100%" height="100%" frameborder="0" scrolling="no"></iframe>
  </div>
</body>
</html> 
```

更好的是，将这些规则添加到您的 CSS 文件中，如下所示：

```
body, html { height: 100%; } 
```

* * *

**你也可以试试这个：**

CSS：

```
html, body { height: 100%; }
iframe { width: 100%; height: 100%; } 
```

HTML：

```
<html>
<body>
      <iframe src="http://www.google.com" frameborder="0" scrolling="no"></iframe>
</body>
</html> 
```

* * *

**将 frameborder 和滚动到 CSS 的替代方法**

`border: none;`删除 iframe 上的边框，同时`overflow: hidden;`禁用滚动并隐藏切断页面的任何内容（如您的原始代码）。

CSS：

```
html, body { height: 100%; overflow: hidden; }
iframe { width: 100%; height: 100%; border: none; overflow: hidden; } 
```

HTML：

```
<html>
<body>
      <iframe src="http://en.wikipedia.org"></iframe>
</body>
</html> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-09T05:36:15.203

在你的 CSS 中试试这个：

```
iframe { display:block; width:100%; border:none;} 
```

# c# - XNA 如何创建单独的 ContentManager？

> ID：14785199
> 
> 赞同：3
> 
> 时间：2013-02-09T05:09:50.160
> 
> 标签：c#, windows-phone-7, xna

使用 XNA 4.0，我尝试通过以下方式为不同的游戏屏幕创建多个内容管理器：

```
ContentManager myManager = new ContentManager(Content.ServiceProvider, Content.RootDirectory); 
```

Content 是系统为我提供的原始 ContentManager。

然而，它并没有像我预期的那样成功。如果我调用 myManager.Unload() ，那么使用原始 ContentManager 加载的所有内容也会被卸载。就好像两人拥有相同的数据一样。

我怎样才能将它们分开并使卸载一个管理器不会影响另一个管理器？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-10T09:18:55.350

您发布的代码没有任何问题。我个人使用`Game.Services`- 但`Content.ServiceProvider`也很好 - 它们都指向*完全相同的对象*。

该错误必须在您的代码中的其他位置。您*确定*在每种情况下都使用正确的内容管理器吗？

您是否尝试过在调试器中单步执行您的代码？并利用“制作对象 ID”功能？（在监视变量或鼠标悬停的变量的上下文菜单中。）

# ios - Objective-c 多播委托

> ID：14785201
> 
> 赞同：3
> 
> 时间：2013-02-09T05:10:29.780
> 
> 标签：ios, objective-c, protocols

我在 xcode 中创建了新的选项卡式视图项目，在 appdelegate 中我创建了一个协议

.h 文件

```
@protocol myProtocol <NSObject>
-(void)myProtocolMethodOne;
@end
.
.
.
@property (weak) id<myProtocol> mypDelegate; 
```

.m 文件

```
@synthesize mypDelegate;
.
.
.
//Inside didFinishLaunchingWithOptions
[mypDelegate myProtocolMethodOne]; 
```

在 firstViewController 和 secondViewController （都显示为两个不同的选项卡）我在这两个

```
AppDelegate *ad = (AppDelegate*)[[UIApplication sharedApplication]delegate];
    [ad setMypDelegate:self];
.
.
.
-(void)myProtocolMethodOne
{
    NSLog(@"1st VC");
    [[self tabBarItem]setBadgeValue:@"ok"];
} 
```

代码运行良好，但只有 secondViewController 响应。

我正在寻找一种使用委托而不是通知的广播和侦听器机制。

我进行了很多搜索，但确实找到了除此之外的任何解决方案[，](https://github.com/robbiehanson/XMPPFramework/wiki/MulticastDelegate)但代码对于我来说是提前理解的，所以我正在通过一个简单的项目开始逐步理解这一点。请帮助我解决这个问题。两个视图控制器如何同时响应委托，我该怎么办？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-09T06:09:18.080

您可能会考虑类似于访问者模式的东西，而不是委托。

```
@interface MyVisitor : NSObject < myProtocol >

-(void)addAcceptor:(id < myProtocol >)acceptor

@end

@implementation

-(void)myProtocolMethodOne {
    [_acceptors enumerateObjectsUsingBlock:^(id obj, NSUInteger idx, BOOL *break){ 
        [obj performSelector:_sel];
    }];
}

// etc etc ... obviously you have to handle return values if you're getting these

@end 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-02-09T23:20:50.963

由于委托是一个简单的变量，分配给它会覆盖值而不是添加它。您可以将其转换为数组，但由于 NSArray 保持对其中对象的强引用，您需要处理潜在的循环引用。（在这种情况下，循环引用是两个对象相互拥有。由于它们都由某人拥有，因此两者都不会被释放。即使它们只拥有彼此。[维基百科有更多](http://en.wikipedia.org/wiki/Circular_reference)。但 Objective-C 中的典型模式是出于这个原因，使所有代表变得虚弱。）

您可能希望考虑使用`NSNotificationCenter`通知，而不是委托。

它们不是 1:1，而是 1:any（包括 0 没有特殊考虑）。这个想法是一个对象*发布*一个通知，对它感兴趣的对象会*观察*它。每个对象都可以选择他们感兴趣的事件。

您需要执行几个步骤：

1.  删除您编写的所有委托代码。
2.  同意通知名称。
3.  注册将响应通知的对象。（这是您设置委托的地方。）
4.  处理通知。
5.  发布通知（您之前调用代理的位置）。
6.  对象被销毁时取消注册。

你要做的就是在一个键上达成一致，可能是一个常数。

键.h：

```
extern NSString *MethodOneNotification; 
```

键.m：

```
NSString *MethodOneNotification = @"MethodOneNotification"; 
```

然后注册`firstViewController`并`secondViewController`喜欢这样的地方`viewDidLoad`：

```
[[NSNotificationCenter defaultCenter] addObserver:self
      selector:@selector(methodOneNotification:) object:nil]; 
```

`firstViewController`为选择器提供一个处理程序`secondViewController`：

```
- (void)methodOneNotification:(NSNotification *)notification {
    NSLog(@"%@ got the notification!", [self class]);
} 
```

在您之前调用代理的位置调用通知：

```
[[NSNotificationCenter defaultCenter] postNotificationName:MethodOneNotification
     object:nil]; 
```

在`firstViewController`and中`secondViewController`，您需要删除通知注册（当然是在 dealloc 中）：

```
- (void)dealloc {
    [[NSNotification defaultCenter] removeObserver:self name:MethodOneNotification
     object:nil];
    // [super dealloc] if you're not using ARC, but you should be
} 
```

在通知处理程序中，您可以将通知的发送者作为`notification.object`. 如果您需要与通知一起传递信息，您可以使用`postNotification:`接受 a的不同变体`NSDictionary`，然后您可以访问字典作为`notification.userInfo`.

如果您需要将值返回给发布消息的对象，则必须通过向发布者发送消息（您可以访问 as `notification.object`）将它们发回。例如：

```
- (void)methodOneNotification:(NSNotification *)notification {
    AppDelegate *appDelegate = notification.object;
    [appDelegate returningValue:1];
} 
```

在这里，显然 AppDelegate 需要定义和处理`-(void)returningValue:(int)value`.

您需要保留类实例的返回值。当然，如果您可能有多个返回，则需要将它们收集到`returningValue:`一个数组中。但至少你已经跳过了循环引用。

解决这个问题的另一种方法是使用块。不过，这会使这个答案的大小增加一倍。:) 底线，虽然：委托模式是这个问题的错误模式。幸运的是，其他人很容易上手。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-02-09T23:02:47.100

在您的情况下，通过持有一个委托数组（可能作为私有属性）并允许添加/删除委托，足以保存一个包含所有委托的数组：

```
@interface AppDelegate() // .h file

@property (nonatomic,strong,readwrite) NSMutableArray* delegates;

@end 

// .m file

- (void) addDelegate: (id<MyProtocol>) delegate // By convention the first letter should be capital.
{
    // Optional code you may need to execute before adding it.
    [delegates addObject: delegate];
} 
```

我把 removeDelegate 方法留给你，它实现起来非常简单。

**如何调用委托方法**

在每个对象上调用选择器就足够了：

```
[delegates makeObjectsPerformSelector: myProtocolMethodOne]; 
```

如果您需要获取返回值，最好这样做：

```
NSMutableArray* returnValues= [NSMutableArray new];
for(id<MyProtocol> delegate in delegates)
{
    id result= [delegate myProtocolMethodTwo]; // Method returning a value
    [returnValues addObject: result];
} 
```

**如何添加代表**

在每个控制器（最多 N 次）中，您应该能够添加它：

```
AppDelegate *ad = (AppDelegate*)[[UIApplication sharedApplication]delegate];
[ad addDelegate:self]; 
```

**附加问题**：您可能希望拥有弱委托，但 NSArray 拥有强引用。在这里你可以找到一个很好的解决方案：

[对 ARC 下对象的弱引用 (__unsafe_unretained) 的 NSArray](https://stackoverflow.com/questions/9336288/nsarray-of-weak-references-to-objects-under-arc)

它基本上说使用 NSValue 使用 valueWithNonretainedObject 方法来存储弱引用。

# google-maps - 谷歌地图 api 在控制台中不断加载

> ID：14785208
> 
> 赞同：1
> 
> 时间：2013-02-09T05:11:40.060
> 
> 标签：google-maps, google-api, firebug

我正在使用谷歌地图 API 并包含在下面的链接

```
<script type="text/javascript" src="http://maps.googleapis.com/maps/api/js?sensor=true"></script> 
```

下面的链接在 Firebug 的 Net 选项卡下的控制台中不断加载，因此我的浏览器选项卡不会停止显示加载图标。

[http://mt1.googleapis.com/vt?lyrs=m@207000000&src=apiv3&hl=en-US&x=49&y=97&z=8&s=Gali&style=api|smartmaps](http://mt1.googleapis.com/vt?lyrs=m@207000000&src=apiv3&hl=en-US&x=49&y=97&z=8&s=Gali&style=api|smartmaps)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-09T14:45:39.487

这通常仅在您在窗口完成加载之前初始化地图时才会发生。

所以我的第一个建议`window.onload`
是在你的实现中不是这种情况并且你已经初始化地图 onload 时初始化地图，你可以调用

```
window.stop() 
```

...就在您初始化地图之前。

**但请注意：**这将停止任何资源的所有活动加载过程，这与您按下浏览器停止按钮或`ESC`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-09T15:06:29.117

奇怪的！我在 Firefox 中尝试过，效果很好，它完成了加载。它可能与加载缓存副本有关，请尝试清除缓存然后再次加载。

我暂时不建议`window.stop()`，将其用作最后的手段。

# ios - 关于 iOS 开发的自动完成功能有什么想法吗？

> ID：14785209
> 
> 赞同：0
> 
> 时间：2013-02-09T05:11:58.193
> 
> 标签：ios, xcode, uitextfield, autosuggest

任何人都可以指出任何示例项目或有关如何创建自动完成文本字段的提示，其中用户键入一个通用名称，例如“美国航空公司”，它具有另一个值，例如“AA”（对于美国航空公司）并且当用户键入它时根据文本字段中的内容建议结果？

像这样的东西：![例子](../Images/7e5cbcca85154db6937a0d047e0d5889.png)

任何提示都会很棒！

感谢大家。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-09T05:26:32.787

[首先得到这个源代码](https://github.com/hoteltonight/HTAutocompleteTextField)

根据我的经验，在 IB 中添加一个搜索显示控制器。然后我将代码添加到 RootViewController.m 如下：

```
- (BOOL)searchDisplayController:(UISearchDisplayController *)controller shouldReloadTableForSearchString:(NSString *)searchString {
 NSInteger searchOption = controller.searchBar.selectedScopeButtonIndex;
 return [self searchDisplayController:controller shouldReloadTableForSearchString:searchString searchScope:searchOption];
}

- (BOOL)searchDisplayController:(UISearchDisplayController *)controller shouldReloadTableForSearchScope:(NSInteger)searchOption {
 NSString* searchString = controller.searchBar.text;
 return [self searchDisplayController:controller shouldReloadTableForSearchString:searchString searchScope:searchOption];
}

- (BOOL)searchDisplayController:(UISearchDisplayController *)controller shouldReloadTableForSearchString:(NSString*)searchString searchScope:(NSInteger)searchOption {

 NSPredicate *predicate = nil;
 if ([searchString length])
  if (searchOption == 0) // full text, in my implementation.  Other scope button titles are "Author", "Title"
   predicate = [NSPredicate predicateWithFormat:@"title contains[cd] %@ OR author contains[cd] %@", searchString, searchString];
  else
   // docs say keys are case insensitive, but apparently not so.
   predicate = [NSPredicate predicateWithFormat:@"%K contains[cd] %@", [[controller.searchBar.scopeButtonTitles objectAtIndex:searchOption] lowercaseString], searchString];
 [fetchedResultsController.fetchRequest setPredicate:predicate];

    NSError *error = nil;
    if (![[self fetchedResultsController] performFetch:&error]) {
  NSLog(@"Unresolved error %@, %@", error, [error userInfo]);
  abort();
    }           

 return YES;
} 
```

[这是帮助你的教程。](http://www.raywenderlich.com/336/how-to-auto-complete-with-custom-values)

[并获得演示项目。](http://developer.apple.com/library/ios/#samplecode/TableSearch/Introduction/Intro.html#//apple_ref/doc/uid/DTS40007848)

**谢谢。:)**

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-05-08T19:44:51.193

看看我的实现，[MLPAutoCompleteTextField](https://www.cocoacontrols.com/controls/mlpautocompletetextfield)。它是开源的。

它会自动完成类似于谷歌的即时搜索。它使用[Levenshtein 距离](http://en.wikipedia.org/wiki/Levenshtein_distance)算法对条目进行排序。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-17T18:49:34.767

查看我的演示项目：

[http://olegh.cc.st/autocomplete.html](http://olegh.cc.st/autocomplete.html)

尝试在“City”字段中搜索“York”，或在“Domains”字段中搜索“book”

这是你要找的吗？

# android - 更新联系人中的多个电话号码

> ID：14785210
> 
> 赞同：2
> 
> 时间：2013-02-09T05:12:01.917
> 
> 标签：android, contacts, android-contacts

我尝试使用以下代码更新特定联系人的多个电话号码：

```
for(int j=0;j<allPhoneNumbersLength;j++)
{
PhoneInfo phoneInfo = (PhoneInfo) allPhoneNumbers.elementAt(j);
String phoneValue = phoneInfo.getValue();
int phoneType = phoneInfo.getIndex(); // phoneType = Phone.TYPE_HOME,  Phone.TYPE_WORK, etc
ContentProviderOperation.Builder builderPhone = ContentProviderOperation.newUpdate(Data.CONTENT_URI)
.withSelection(ContactsContract.Data.CONTACT_ID + "=?"+" AND "+ContactsContract.Data.MIMETYPE + "=?" + " AND "+Phone.TYPE+"=?",  new String[]{String.valueOf(contactID), Phone.CONTENT_ITEM_TYPE, String.valueOf(phoneType)});
if(phoneType == Phone.TYPE_HOME)
{
builderPhone.withValue(Phone.NUMBER, phoneValue)
.withValue(Phone.TYPE, Phone.TYPE_HOME);
}
else if(phoneType == Phone.TYPE_WORK)
{
builderPhone.withValue(Phone.NUMBER, phoneValue)
.withValue(Phone.TYPE, Phone.TYPE_WORK);
}
else if(phoneType == Phone.TYPE_FAX_HOME)
{
builderPhone.withValue(Phone.NUMBER, phoneValue)
.withValue(Phone.TYPE, Phone.TYPE_FAX_HOME);
}
op_list.add(builderPhone.build());

}
getContentResolver().applyBatch(ContactsContract.AUTHORITY, op_list); 
```

使用此代码我试图更新三个号码，但只有“TYPE_FAX_HOME”号码被更新，其他两个号码被从联系人中删除。

请帮我。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-09T05:52:55.077

我从您的代码中了解到，您对所有 3 种类型使用**相同**的电话号码值。因此，在显示时，android 将只为联系人显示其中的**1**个。但是，如果您实际**编辑**联系人，您会看到，所有 3 种类型都填充了相同的号码。

PS：我假设您尝试对其进行编辑的联系人已经为所有 3 种类型填充了一些号码。如果没有，请创建它们，然后尝试运行您的代码。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-12T04:27:59.140

Android 模拟器的问题。代码在真实设备中运行良好。感谢你的帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-09T06:21:11.270

我不是 Android 程序员，但我认为问题出在最后一行代码中，循环更新每个步骤中的联系信息但不应用它，在循环的最后一步应用更新并且最后的更改应该应用，如果您像这样更改代码，我认为它应该可以工作，这意味着对于每个循环的步骤，联系信息都会更新：

```
for(int j=0;j<allPhoneNumbersLength;j++)
{
    PhoneInfo phoneInfo = (PhoneInfo) allPhoneNumbers.elementAt(j);
    int phoneType = phoneInfo.getIndex(); // phoneType = Phone.TYPE_HOME,  Phone.TYPE_WORK, etc
    ContentProviderOperation.Builder builderPhone = ContentProviderOperation.newUpdate(Data.CONTENT_URI)
        .withSelection(ContactsContract.Data.CONTACT_ID + "=?"+" AND "+ContactsContract.Data.MIMETYPE + "=?" + " AND "+Phone.TYPE+"=?",  new String[]{String.valueOf(contactID), Phone.CONTENT_ITEM_TYPE, String.valueOf(phoneType)});
    builderPhone.withValue(Phone.NUMBER, phoneValue)
        .withValue(Phone.TYPE, phoneType);
    op_list.add(builderPhone.build());
    getContentResolver().applyBatch(ContactsContract.AUTHORITY, op_list);
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-09T05:43:13.957

哇 ... ！为什么你使用“if”语句？！你的代码可能是这样的：

```
for(int j=0;j<allPhoneNumbersLength;j++)
{
    PhoneInfo phoneInfo = (PhoneInfo) allPhoneNumbers.elementAt(j);
    int phoneType = phoneInfo.getIndex(); // phoneType = Phone.TYPE_HOME,  Phone.TYPE_WORK, etc
    ContentProviderOperation.Builder builderPhone = ContentProviderOperation.newUpdate(Data.CONTENT_URI)
        .withSelection(ContactsContract.Data.CONTACT_ID + "=?"+" AND "+ContactsContract.Data.MIMETYPE + "=?" + " AND "+Phone.TYPE+"=?",  new String[]{String.valueOf(contactID), Phone.CONTENT_ITEM_TYPE, String.valueOf(phoneType)});
    builderPhone.withValue(Phone.NUMBER, phoneValue)
        .withValue(Phone.TYPE, phoneType);
    op_list.add(builderPhone.build());
}
getContentResolver().applyBatch(ContactsContract.AUTHORITY, op_list); 
```

# c++ - __int 和有什么区别 和“char，short，int，long long int”？

> ID：14785211
> 
> 赞同：3
> 
> 时间：2013-02-09T05:12:29.547
> 
> 标签：c++, visual-c++, definition

我很惊讶地看到我的 C++ 编译器也支持`__int8`、`__int16`、`__int32`和`__int64`; 但我只是看到它们等同于`char`, `short`,`int`和`long long`。它们之间有什么区别？

```
sizeof(__int8) == sizeof(char) == 1
sizeof(__int16) == sizeof(short) == 2
sizeof(__int32) == sizeof(int) == 4
sizeof(__int64) == sizeof(long long) == 8 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-09T05:18:25.070

原始类型`int`、`char`、`short`、`long`等的大小是实现定义的，并且可能因系统而异。你所保证的只是

*   `sizeof(char) == 1`， 和
*   `sizeof(char) <= sizeof(short) <= sizeof(int) <= sizeof(long)`.

因此，许多平台都提供了自己的自定义、不可移植的类型，这些类型保证为给定的大小。例如，我相当有信心微软保证`__int8`始终是 8 位、`__int16`始终是 16 位等。

希望这可以帮助！

# javascript - 同步相同的 html 表单

> ID：14785212
> 
> 赞同：1
> 
> 时间：2013-02-09T05:12:48.640
> 
> 标签：javascript, html, forms, dom

我想在我的网站上有两个（甚至更多）相同的 html 表单。
例如，一个 - 在顶部，另一个 - 在页面底部。
我想要的是让他们在任何给定时间都拥有完全相同的内容。如果用户更改其中一个值，则其余所有值都会更新。
有没有更好的同步javascript `onchange`/`onkeyup`事件的方法？
`onchange`仅在元素失去焦点后触发。
`onkeyup`也不完美。`onkeydown`它在长文本复制上浪费了大量的 CPU，并且如果元素在和`onkeyup`事件之间失去焦点，则不会触发。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-09T05:58:29.617

更新：我刚刚了解到 HTML5 对此有更合适的事件`oninput`，但当然它在旧浏览器中不起作用。`oninput`将检测任何类型的文本更改，包括`Paste`、`Cut`和`Delete`从右键单击菜单。所以最好的选择可能是检查浏览器是否支持`oninput`（例如通过使用[这里](http://perfectionkills.com/detecting-event-support-without-browser-sniffing/)推荐的功能），如果不支持则回退到下面的方法。在旧版本的 IE 上，`onpropertychange`可以用来模拟`oninput`.

* * *

我决定根据 KnockoutJS 的实现方式来改变我的答案。从Knockout 文档中的[此页面：](http://knockoutjs.com/documentation/value-binding.html)

> “afterkeydown” - 一旦用户开始输入字符，就会更新您的视图模型。这是通过捕获浏览器的 keydown 事件并异步处理事件来实现的。
> 
> 在这些选项中，如果您想实时更新视图模型，“afterkeydown”是最佳选择。

它通过使用`setTimeout`零时间值来完成异步行为。除此之外，它看起来就像一个常规的`keydown`事件处理程序。

这是一个使用 jQuery 的简单示例，我相信它的行为等同于 Knockout 的“afterkeydown”事件：

```
$('#email').keydown(function() {
    setTimeout( $.proxy(handler, this), 0);
});

function handler() {
    console.log( this.value );
} 
```

注意：这不会捕获右键单击粘贴事件和拖放事件。如果您也想更新这些事件的文本，只需以与 keydown 相同的方式监听它们，例如：

```
$('#email').on('keydown paste drop', function() {
    setTimeout( $.proxy(handler, this), 0);
}); 
```

Like `keydown`,`paste`并且`drop`还需要`setTimeout`以使用文本的最新值进行更新。

*原答案：*

`onkeyup`可能是要走的路，但如果元素在 keydown 和 keyup 之间失去焦点，你会提出一个很好的观点，即它不会触发。基于[这个答案](https://stackoverflow.com/a/4762812/560114)，我很确定解决方案是监听容器元素（或主体上的 keyup 事件，尽管在这种情况下将它绑定到`<form>`元素可能最有意义）。

至于粘贴时的 CPU 使用率，您可以尝试取消该事件，除非经过一定时间（比如 50 毫秒）......希望这已经足够了。如果没有，你可以看看一些流行的 2 路数据绑定框架是如何处理这个问题的……我见过的大多数都使用`onkeyup`.

# email - 在 servlet 中使用 smtp 时出错

> ID：14785214
> 
> 赞同：0
> 
> 时间：2013-02-09T05:13:18.300
> 
> 标签：email, servlets, smtp

# ****我收到错误，甚至我的服务器也没有在 eclipse 中启动。但是如果我从 eclipse 项目中删除 smtp servlet，则服务器启动，否则它会给出异常，甚至不启动。异常是：****

```
`java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/RobotProject]]
at java.util.concurrent.FutureTask$Sync.innerGet(Unknown Source)
at java.util.concurrent.FutureTask.get(Unknown Source)
at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:1123)
at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:800)
at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)
at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)
at java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source)
at java.util.concurrent.FutureTask.run(Unknown Source)
at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source)
at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
at java.lang.Thread.run(Unknown Source)
Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/RobotProject]]
at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)
... 7 more
Caused by: java.lang.NoClassDefFoundError: javax/mail/internet/AddressException
at java.lang.Class.getDeclaredFields0(Native Method)
at java.lang.Class.privateGetDeclaredFields(Unknown Source)
at java.lang.Class.getDeclaredFields(Unknown Source)
at org.apache.catalina.util.Introspection.getDeclaredFields(Introspection.java:87)` 
```

 *** * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-09T05:37:37.183

您需要使用`war`您部署的文件导出您的 jar，在编译期间拥有它们并不意味着它们将在服务器上可用。只需将所需的 jar 复制到`WEB-INF/lib`文件夹即可**

# algorithm - 什么是正确的算法......呃，我不知道它叫什么

> ID：14785215
> 
> 赞同：2
> 
> 时间：2013-02-09T05:13:30.073
> 
> 标签：algorithm, optimization, signal-processing, wavelet

假设我有一个长且不规则的数字信号，由在不同时间出现（并且相互重叠）的较小但不规则的信号组成。我们将这些较短的信号称为构成较大信号的“片段”。“不规则”是指它不是特定的频率或模式。

鉴于长信号，我需要找到产生（尽可能接近）较大信号的部件的最佳排列。我知道这些片段是什么样子，但我不知道它们中有多少存在于完整信号中（或者任何片段存在于完整信号中的多少次）。你会用什么软件算法来做这个优化？我在网上搜索什么来获得解决此问题的帮助？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-09T09:04:31.073

这是一个尝试。

这实际上是反卷积问题中*更容易的一个。*它更容易，因为您可能能够有一个独特的答案。*更难*的问题是你也不知道这些碎片是什么样子的。这种情况称为盲反卷积。这是一个更难的问题，通常是迭代和统计的（ML 或 MAP），并且解决方案可能不正确。

幸运的是，您的情况更容易，但仍然不是那么容易，因为您有多个部分：p

我认为它可能通常称为混合反卷积？

所以让 f[t] for t=1,...N 成为你的长信号。让 h1[t]...hn[t] for t=0,1,2,...M 成为您的短信号。显然这里，N>>M。

所以你的假设是：

```
(1) f[t] = h1[t+a1[1]]+h1[t+a1[2]] + ...
       +h2[t+a2[1]]+h2[t+a2[2]] + ...
       +....
       +hn[t+an[1]]+h2[t+an[2]] + ... 
```

观察该方程的每一行实际上是 hj * uj 其中 uj 是移位的[Kronecker delta](http://en.wikipedia.org/wiki/Kronecker_delta)的总和。这里的 * 是卷积。

那么现在怎么办？

[让 Hj 是由 hj 生成的Toeplitz 矩阵](http://en.wikipedia.org/wiki/Toeplitz_matrix)（可能取决于你如何看待它），那么上面的等式变为：

```
 (2) F = H1 U1 + H2 U2 + ... Hn Un

subject to the constraint that uj[k] must be either 0 or 1\. 
```

其中 F 是向量 [f[0],...F[N]]，Uj 是向量 [uj[0],...uj[N]]。

因此，您可以将其重写为：

```
 (3) F = H * U 
```

其中 H = [H1 ... Hn]（水平串联）和 U = [U1; ... ;Un]（垂直串联）。

H 是一个 Nx(nN) 矩阵。U 是一个 nN 向量。

好的，所以解空间是有限的。它的大小为 2^(nN)。因此，您可以尝试所有可能的组合，看看哪个组合给您的 ||F - H*U|| 最低，但这将花费太长时间。

你可以做的是使用[伪逆](http://en.wikipedia.org/wiki/Generalized_inverse)解方程（3） ，多元线性回归（使用最小二乘，得出伪逆）或类似的东西

[是否可以使用 Accelerate/LAPACK 求解非方形欠/过约束矩阵？](https://stackoverflow.com/questions/4319246/is-it-possible-to-solve-a-non-square-under-over-constrained-matrix-using-acceler)

然后在 H 的零空间内移动该解，以得到一个受 uj[k] 必须为 0 或 1 约束的解。

或者，您可以使用[Nelder-Mead](http://www.scholarpedia.org/article/Nelder-Mead_algorithm)或[Levenberg-Marquardt](http://en.wikipedia.org/wiki/Levenberg%E2%80%93Marquardt_algorithm)之类的方法来找到以下各项的最小值：

```
 ||F - H U|| + lambda g(U) 
```

其中 g 是一个正则化函数，定义为：

```
 g(U) = ||U - U*|| 
```

如果 |U[j]|<|U[j]-1|，则 U*[j] = 0，否则为 1

好的，所以我不知道这是否会收敛。如果没有，你必须想出自己的正则化器。当您有一组线性方程时，使用广义非线性优化器有点愚蠢。

实际上，您会遇到噪音等等，因此使用[MAP](http://en.wikipedia.org/wiki/Maximum_a_posteriori_estimation)之类的东西并像以前一样应用小块实际上可能不是一个坏主意。

# scheme - 字符串与符号

> ID：14785219
> 
> 赞同：2
> 
> 时间：2013-02-09T05:15:11.310
> 
> 标签：scheme, racket

所以我只是在球拍中，正在考虑使用按键与计算机交互，按键被球拍解释为字符串。我正在寻找我的代码的优化，并且想知道字符串或符号是否可以更快地操作。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-02-09T05:45:27.163

如果可能的键集定义明确，请使用符号。否则，使用字符串。

字符串和符号之间的主要区别在于符号（默认情况下）是[interned](http://en.wikipedia.org/wiki/String_interning)。使用字符串，您可以拥有多个具有相同内容但是不同对象的字符串（它们不比较为`eq?`）。使用符号，可以保证两个具有相同内容的符号是同一个对象。

这样做的好处是您可以使用 进行符号比较`eq?`，而对于字符串，您必须使用`string=?`or `equal?`。

然而，为了让这种魔法发生，在幕后，Scheme 实现维护了一个实习池，基本上就像一个字符串到符号的哈希表。如果您调用`string->symbol`并且字符串尚未在实习生表中，它会将字符串（及其相应的符号）添加到表中，因此如果您的可能键集未明确定义，您可以将实习生表垃圾迅速地。

* * *

编辑：当您说“键”时，您是指键盘字符吗？这绝对是一个定义明确的集合，因此您可以使用符号。

# c - 函数名“localeconv()”中的“conv”是什么意思？

> ID：14785220
> 
> 赞同：3
> 
> 时间：2013-02-09T05:15:15.507
> 
> 标签：c, localization, locale

header`conv`中函数名中的“”是什么意思？`localeconv()``<locale.h>`

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-09T06:19:29.133

[HP-UX 手册页](http://h20000.www2.hp.com/bc/docs/support/SupportManual/c02259853/c02259853.pdf)总结了以下目的`localeconv()`：

> localeconv() - 查询当前语言环境的数字格式约定

[IBM z/VM C 库手册](http://publib.boulder.ibm.com/infocenter/zvm/v6r1/index.jsp?topic=/com.ibm.zvm.v610.edclv/locale.htm)对其进行了类似的描述：

> localeconv() — 查询数字约定

我不确定这个措辞的确切来源，但许多消息来源似乎确实同意它代表“约定”。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-09T05:16:03.587

我相信（但不是 100% 肯定）它代表“约定”，就像您在当前语言环境中用于表达金钱、数字等的约定一样。

希望这可以帮助！

# c - 将 sprintf 中的信息保存到变量中

> ID：14785225
> 
> 赞同：0
> 
> 时间：2013-02-09T05:16:36.297
> 
> 标签：c, command-line, filenames, printf, inode

是否可以将从 sprintf 收集的信息保存到变量中？下面的代码行是更好地说明我的问题的示例。

```
char fileName;
fileName = sprintf(command, "find -inum %i -type f", iNode); 
```

目的是找到与 inode 号关联的文件名，然后对该文件名运行“stat”。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-09T05:28:16.290

我想你想要这样的东西：

```
FILE *fp;
char cmd[1024];
char filename[1024];

sprintf(cmd, "find -inum %i -type f", iNode);
fp = popen(cmd);
fgets(filename, sizeof filename, fp);
pclose(fp); 
```

在此代码的末尾，`filename`将包含由`cmd`.

# joomla - Jomsocial 专业组件可以在本地系统上工作吗？

> ID：14785231
> 
> 赞同：-1
> 
> 时间：2013-02-09T05:19:04.413
> 
> 标签：joomla, jomsocial

我想在我的网站中集成社交网络功能，我从 jomsocial 网站购买了 jomsocial 专业组件，我在功能列表中有一个问题，其中定义了 1 个域支持单一安装

所以我不确定安装在我的本地系统中。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-09T15:01:16.013

输入您将在实时站点上使用的域。您仍然可以在 localhost 上安装，因为它是出于测试目的。首次安装后，该扩展程序不会停用；）

# javascript - jstree select_limit 不起作用。我想设置选择限制以仅选择 3 个节点

> ID：14785236
> 
> 赞同：8
> 
> 时间：2013-02-09T05:19:47.693
> 
> 标签：javascript, jstree

我的 jstree 函数在这里。
我已设置`'select_limit' : 3`，但无法正常工作。当我运行时，我可以选择超过 3 个节点，但我需要选择不超过 3 个节点。

```
 var j1 = jQuery.noConflict();
     j1("#utree_activity").jstree({
        "plugins": ["themes", "html_data", "ui", "crrm", "checkbox"],
        "html_data": {
            "ajax": {
                "url": urlGlobal + "jstrees/activitytree/",
                "asynchronous": "false",
                "data": function (n) {

                    return {
                        id: n.attr ? n.attr("id") : 0,
                        default_activities: default_activities
                    };
                },
                "success": function (gb) {

                },

            }
        },
        "ui": {
            "select_limit": 3,
        },

        "cookies": {
            cookie_options: {
                path: "/"
            }
        },

        "checkbox": {
            two_state: true,
            real_checkboxes: false
        }
    }); 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-10T13:42:04.600

`select_limit`不处理复选框，您必须滚动自己的`before.jstree`方法。

```
j1.bind("before.jstree", function (e, data) {
    if (data.func === "check_node") {
        if (j1.jstree('get_checked').length >= 1) {
            e.preventDefault();
            return false;                
        }
    }
}); 
```

请注意，此代码仅作为示例，并且不处理子节点

工作小提琴：http: [//jsfiddle.net/cfb9J/1/](http://jsfiddle.net/cfb9J/1/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-09T05:33:06.243

缺少另一个选项，可能需要添加 ui 模块，试试这个：

```
j1("#utree_activity").jstree({ 
"plugins" : ["html_data","ui"],

 //the rest of your code
}); 
```

# svd - 使用 svd 进行平面拟合的残差

> ID：14785240
> 
> 赞同：0
> 
> 时间：2013-02-09T05:20:01.697
> 
> 标签：svd

我正在使用奇异值分解为一组点（X、Y、Z 坐标）拟合最佳拟合平面。所以我用

```
M = [x y z 1]
[u s v] = svd(M)
p = v(:,4) 
```

现在我想要点的残差。我知道我可以计算平面方程来获得残差，但我想问是否有一些直接的方法可以从 u,s,v 矩阵中获取残差？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-08-14T20:53:50.670

*是的，我们可以使用数据向量b*和 U [N] （余域矩阵的零空间部分）计算超定最小二乘问题的最小二乘残差。答案是*b* ^T U [N] U [N] ^T *b*。推导位于被 stackoverflow 阻止显示的图像文件中，可通过电子邮件获得。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-08-22T01:03:28.737

残差是 v 矩阵中的 (4,4) 元素。

# objective-c - 如何将 UIImages 作为一个组添加和移动

> ID：14785243
> 
> 赞同：0
> 
> 时间：2013-02-09T05:20:44.630
> 
> 标签：objective-c, model, uiimageview, uiimage

我正在制作一个棋盘游戏，并且有一个关于在 Xcode 中设置它的最佳方法的问题。

我希望能够在棋盘上动态放置棋子（每个棋子都是一个新图像）并且让用户仍然能够移动棋盘。所以所有的棋子都需要随着棋盘移动。

在情节提要中，我设置了一个 UIImageView 作为游戏板图像，并为该板提供了一个自定义类（扩展 UIImageView）。我想我可以通过这个类将部分添加到板上，并且它们将按照与板相同的视图进行分组，但最终这不起作用。

所以我的问题更具理论性：设置它的最佳方法是什么？我应该通过主视图控制器还是通过游戏模型（NSObject）添加片段？有没有办法将新的部分（UIImages）分组到板上，以便它们可以一起移动？

提前感谢您的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-09T07:24:38.737

由于`UIImageView`是 的子类`UIView`，因此您可以像这样将这些部分添加到板上：

```
[boardImageView addSubview:piece1]; 
```

然后，当你移动板子时，板子的所有子视图都会随之移动。

注意：默认情况下，您将无法与图像视图交互，因此请确保修复该问题：

```
[boardImageView setUserInteractionEnabled:YES]; // Or set it in the storyboard/xib if you are using it. 
```

# html - 空白：预包装在 IE 中不起作用

> ID：14785247
> 
> 赞同：2
> 
> 时间：2013-02-09T05:22:14.490
> 
> 标签：html, css, whitespace

我正在使用`white-space: pre-wrap`. 内容未在 Quirk 模式下包装在 IE 中。

有什么解决方案可以让它在怪癖模式下工作吗？

**注意：**它在 IE8 和 IE9 的严格模式下工作正常。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-09T05:32:49.993

Quirks 模式是为了向后兼容 IE5 等非常旧的浏览器，这些浏览器不符合标准（也称为严格）模式。IE8 及更高版本支持该`pre-wrap`属性，但 IE 5-7 不支持：

[http://www.quirksmode.org/css/whitespace.html](http://www.quirksmode.org/css/whitespace.html)

在这种情况下，有两种选择：

*   不支持不符合 w3 标准的浏览器
*   [使用IE 条件](http://www.quirksmode.org/css/condcom.html)向不兼容的 IE 版本发送不同的样式表

# ruby-on-rails - 应该从 Ruby on Rails 中的公共源代码控制中删除哪些内容？

> ID：14785257
> 
> 赞同：24
> 
> 时间：2013-02-09T05:24:18.297
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3, security

我一直在网上搜索，但我找不到任何好的/最近的例子来说明从新的公共 Rails 应用程序中排除的内容。我希望在 GitHub 上开源我的应用程序，并且想知道应该从源代码管理中删除哪些类型的数据。

据我所知，应该有一个`config/config.yml`包含私人信息的文件。我一直在查看其他文件，它看起来像`config/database.yml`，`config/intializers/secret_token.rb`也`config/initializers/session_store.rb`应该被排除在外吗？

单独排除所有这些文件是最佳做法吗？或者有没有办法`config/config.yml`在每个文件中定义并调用所有信息？此外，哪些文件和数据应该保密和隐藏？这就是他们的全部吗？

我只是想知道我应该采取什么方法以及最佳做法是什么。谢谢你的帮助！

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2013-02-09T12:44:25.450

我最近也一直在研究这个；我想在将开源代码推送到 Github、然后自动推送到[Travis CI](https://travis-ci.org/)进行测试、然后从 Travis 自动部署到[Heroku](http://www.heroku.com/)的整个过程中隐藏敏感信息。以下是迄今为止我在查看各种 StackOverflow 问答、博客等时发现的所有详细信息，希望它们可以作为您的参考，即使仅用于 Rails 应用程序中的配置（省略`{{ ... }}`您看到的任何内容）

*免责声明：我绝不是这里的专家，所以请记住，可能有比我正在尝试的更好的方法来做到这一点。我很想能够在这个问答线程中学习一些新技巧。*

* * *

## Rails 应用程序内部

我目前使用[Figaro gem](https://github.com/laserlemon/figaro)来隐藏`ENV`环境变量中的敏感信息。在我的 ( `.gitignore`d) **config/application.yml**中，我保留了以下信息：

```
# App keys
SECRET_TOKEN: # your rake secret generated token

development:
  DB_NAME: # your dev db name here
  DB_USER: # your dev db username here
  DB_PASSWORD: # your dev db password here

test:
  DB_NAME: # your test db name here
  DB_USER: # your test db username here
  DB_PASSWORD: # your test db password here

production:
  DB_NAME: # your prod db name here
  DB_USER: # your prod db username here
  DB_PASSWORD: # your prod db password here

# Third Party keys that you will reference in their relevant files
THIRD_PARTY_API_OR_LICENSE_KEY: # list of whatever api/license keys you use 
```

（`DB_NAME`,`DB_USER`和`DB_PASSWORD`将根据您的应用程序运行的环境动态使用）。

上述文件（**config/application.example.yml**）的一个空版本被推送到 Github，其中包含一些关于如何填写它的说明。

推送到 Github 并引用这些变量的文件如下所示：

**config/database.yml**
（这里使用 Postgresql，但您应该能够更改您使用的任何数据库的设置）

```
postgresql: &postgresql
  adapter: postgresql
  database: <%= ENV['DB_NAME'] %>
  username: <%= ENV['DB_USER'] %>
  password: <%= ENV['DB_PASSWORD'] %>
  min_messages: ERROR

defaults: &defaults
  pool: 5
  timeout: 5000
  host: localhost
  <<: *<%= ENV['DB'] || "postgresql" %>

development:
  <<: *defaults

test:
  <<: *defaults

production:
  <<: *defaults 
```

**配置/初始化程序/secret_token.rb**

```
if Rails.env.production? && ENV['SECRET_TOKEN'].blank?
  raise 'SECRET_TOKEN environment variable must be set!'
end

YourApp::Application.config.secret_token = 
  ENV['SECRET_TOKEN'] || {{WHATEVER_SECRET_TOKEN_RAILS_GENERATED_BY_DEFAULT}} 
```

（另外，任何文件都会引用`THIRD_PARTY_API_OR_LICENSE_KEY`-type 键。）

## 在 Travis CI 上进行测试

[使用Travis gem](https://github.com/travis-ci/travis)创建加密的 travis 变量。如果您从 Travis 工作人员直接部署到 Heroku，则需要 Heroku API 密钥和 Heroku Git URL（有关详细信息，请参阅[此 StackOverflow Q&A](https://stackoverflow.com/q/10235026/567863)），否则如果您仅将其用于测试，则可以省略它们：

```
$ gem install travis
$ travis encrypt your_username/your_repo HEROKU_API_KEY={{YOUR_HEROKU_API_KEY}}
$ travis encrypt HEROKU_GIT_URL={{YOUR_HEROKU_GIT_URL}} # eg git@heroku.com:your_app.git
$ travis encrypt DB_NAME={{YOUR_DB_NAME_UNDER_TEST}} # eg your_app_test
$ travis encrypt DB_USER={{YOUR_DB_USER_UNDER_TEST}}
$ travis encrypt DB_PASSWORD={{YOUR_DB_PASSWORD_UNDER_TEST}} 
```

（另外，加密您在测试期间可能需要的任何其他密钥，如果有的话......）

然后将它们添加到**.travis.yml**
（再次以 Postgresql 为重点，但您应该能够更改您使用的任何数据库的设置）

```
env:
  global:
    - secure: {{YOUR_ENCRYPTED_HEROKU_API_KEY}}
    - secure: {{YOUR_ENCRYPTED_HEROKU_GIT_URL}}
    - secure: {{YOUR_ENCRYPTED_DB_NAME}}
    - secure: {{YOUR_ENCRYPTED_DB_USER}}
    - secure: {{YOUR_ENCRYPTED_DB_PASSWORD}}
  matrix:
    - DB: postgresql
before_script:
  - psql -c "create database $DB_NAME;" -U $DB_USER
  - RAILS_ENV=test bundle exec rake db:migrate
script:
  - bundle exec rspec spec/
after_success:
  - gem install heroku
  - git remote add heroku $HEROKU_GIT_URL
  # ... see link above for the rest of the config content 
```

多个同名的变量`secure`都可以；它们将显示在配置中，`HEROKU_API_KEY=[secure] HEROKU_GIT_URL=[secure]`等等。

## 部署到 Heroku

使用 Figaro 的 Heroku rake 任务自动设置 Heroku 在生产中需要查看的环境变量：

```
$ rake figaro:heroku 
```

或者，手动设置它们：

```
$ heroku config:set SECRET_TOKEN={{YOUR_SECRET_TOKEN}}
$ heroku config:set DB_NAME={{YOUR_DB_NAME_UNDER_PRODUCTION}} # eg your_app_production
$ heroku config:set DB_USER={{YOUR_DB_USER_UNDER_PRODUCTION}}
$ heroku config:set DB_PASSWORD={{YOUR_DB_PASSWORD_UNDER_PRODUCTION}}
$ heroku config:set THIRD_PARTY_API_OR_LICENSE_KEY={{YOUR_THIRD_PARTY_API_OR_LICENSE_KEY}} 
```

然后，尝试部署。

* * *

这就是我现在所拥有的。目前不确定我是否应该隐藏更多信息，或者我是否隐藏得不够好，但这是一项正在进行的工作。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-09T09:05:06.757

你会得到不同的意见。恕我直言，最好的做法是包含这些文件，但忽略其中的秘密内容。记录您正在做的事情，以便对您的项目不熟悉的开发人员知道他们需要填写什么。

Phusion 有一篇很好的博客文章，介绍了如何处理 Rails 会话机密，以及您可以在包含或排除信息方面做出的权衡：

[http://blog.phusion.nl/2013/01/04/securing-the-rails-session-secret/#.URYPXekTMak](http://blog.phusion.nl/2013/01/04/securing-the-rails-session-secret/#.URYPXekTMak)

我最喜欢的记录方式是使用“rake setup”任务。您可以让任务打印开发人员需要做的事情——换句话说，您不需要全部自动化（尽管如果您能够做到，那就太好了）。

如果您想花哨，请让您的文件从 shared/ 目录中读取秘密设置，这也可以启用部署符号链接。Phusion 博客中也对此进行了描述。这就是我构建需要经常部署的应用程序的方式。

# software-design - 软件设计过程之间的主要区别

> ID：14785259
> 
> 赞同：1
> 
> 时间：2013-02-09T05:24:47.440
> 
> 标签：software-design, waterfall, rational-unified-process

我想比较以下软件设计过程。

*   [瀑布模型](http://en.wikipedia.org/wiki/Waterfall_model)
*   [V型](http://en.wikipedia.org/wiki/V-Model_%28software_development%29)
*   [统一流程](http://en.wikipedia.org/wiki/Unified_Process)

每个`V-Model`规范阶段都有测试阶段，`waterfall model`没有。
是迭代和增量的`Unified Process`，其他的不是。

这些是主要区别吗？有什么要补充的吗？
我只需要主要区别，不要太详细。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-09T05:52:13.167

1.  瀑布模型不是迭代的。

2.  V-Model 在某种意义上是迭代的

    一种。它使用单元测试来验证程序设计

    湾。它使用集成测试来验证架构（系统）设计

    C。它使用验收测试来验证需求

    d。如果在验证和验证过程中发现问题，可以重新执行V的左侧，然后重新执行右侧的测试

3.  统一过程模型是迭代的

    一种。系统分批交付。

    湾。允许生产系统和开发系统并行运行。

    C。降低开发中的风险和不确定性

# php - 在 PHP foreach 循环中生成 JQuery 代码

> ID：14785260
> 
> 赞同：0
> 
> 时间：2013-02-09T05:24:50.777
> 
> 标签：php, jquery, foreach, increment

**JLRiche** 的更新

html结构如下（这里是整个div id=content_body_right的结构）：

```
 <div id="content_body_right">
        <p class="user_text">Tim Flanagan</p><p class="date_text">02-06-2013 @ 12:00PM</p>
                <p class="message_text">Playin Augusta today. What a beautiful course!</p>
                <div id="activity_image">
                    <img src="images/activities/1/actimg.jpg" width="435" />
                </div>
                <div id="tips">
                    <div id="tip_cap_left">
                        <a href="dashboard.php?captip=tipyourcap" title="Tip Your Cap" ></a>
                    </div>
                    <div id="tip_cap_right">
                        <p class="tips_right">12 Tips of the Cap</p>
                    </div>
                </div>
                <p class="comments_label">
                    4 Comments&nbsp;&nbsp;&nbsp;
                    <a href="#" class="see_all" style="display:inline-block" title="See All Comments">see all</a>
                    <a href="#" class="collapse" style="display:none" title="Collapse Comments">collapse</a>
                </p>
                <div id="comment1">
                    <div id="comment_user_img">
                        <img src="images/defaultuserimg.jpg" width="30" height="30" />
                    </div>
                    <div id="comment_user">
                        <p class="user_text_comment">Tim Flanagan</p><p class="date_text_comment">02-06-2013 @ 12:00PM</p>
                        <p class="message_text_comment">Nice jealous of you bro.</p>
                    </div>
                </div>
                <div class="comment2" style="display:none; clear:both; margin:0px; overflow:auto">
                    <div id="comment2_sub">
                        <div id="comment_user_img">
                            <img src="images/defaultuserimg.jpg" width="30" height="30" />
                        </div>
                        <div id="comment_user">
                            <p class="user_text_comment">Tim Flanagan</p><p class="date_text_comment">02-06-2013 @ 12:00PM</p>
                            <p class="message_text_comment">Nice jealous of you bro.</p>
                        </div>
                    </div>
                    <div id="comment2_sub"> 
                        <div id="comment_user_img">
                            <img src="images/defaultuserimg.jpg" width="30" height="30" />
                        </div>
                        <div id="comment_user">
                            <p class="user_text_comment">Tim Flanagan</p><p class="date_text_comment">02-06-2013 @ 12:00PM</p>
                            <p class="message_text_comment">Nice jealous of you bro.</p>
                        </div>
                    </div>
                    <div id="comment2_sub">                  
                        <div id="comment_user_img">
                            <img src="images/defaultuserimg.jpg" width="30" height="30" />
                        </div>
                        <div id="comment_user">
                            <p class="user_text_comment">Tim Flanagan</p><p class="date_text_comment">02-06-2013 @ 12:00PM</p>
                            <p class="message_text_comment">Nice jealous of you bro.</p>
                        </div>
                    </div>
                </div>
    </div> 
```

如果您需要更多结构，请告诉我，因为它上面和下面有很多。希望这可以帮助。我真的很感谢你的帮助！

**结束更新**

大家晚上好，

我需要为 X 个数据库结果中的每个动态创建 X 个 jquery 脚本。X 表示数字会有所不同。这是一种论坛类型的东西，您可以在其中看到原始帖子并显示一个回复，然后单击“查看全部”或“全部折叠”以查看或折叠其余内容。我正在使用典型的 $i 变量在 foreach 循环中增加我的 html 元素，因此我还需要为每个循环输出 jquery click 函数。

我需要 PHP 创建的代码如下：

```
$jquery .= "$('#see_all$i').click(function () {
    $('#comment2_$i').slideDown('fast');
    $('#collapse$i').css('display', 'inline-block');
    $('#see_all$i').css('display', 'none');
    return false;
});

$('#collapse$i').click(function () {
    $('#comment2_$i').slideUp('fast');
    $('#collapse$i').css('display', 'none');
    $('#see_all$i').css('display', 'inline-block');
    return false;
})"; 
```

任何帮助将永远将不胜感激！

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-09T05:39:27.907

恕我直言，为相同的 jQuery 代码生成多个略有不同的副本并不是一个很好的设计。您应该以一种只需要在您的页面中出现一次的方式编写您的 jQuery 代码，例如：

```
$('.see_all').click(function(){
     var thisItem = $(this);
     thisItem.parent().find('.comment').slideDown('fast');
     thisItem.parent().find('.collapse').css('display','inline-block');
     thisItem.css('display','none');
     return false;
}); 

$('.collapse').click(function(){
     var thisItem = $(this);
     thisItem.parent().find('.comment').slideUp('fast');
     thisItem.css('display','none');
     thisItem.parent().find('.see_all').css('display','inline-block');
     return false;
})"; 
```

当然，这也涉及向相关的 HTML 元素添加`collapse`、`see_all`和类。`comment`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-09T05:35:43.333

html：

```
<div class="seeall" data-elid="1">...</div>
...
<div class="collapse" data-elid="1">...</div>
... 
```

js：

```
var $bdy=$(document.body)
$bdy.on("click",".seeall",function(e) {
      var el=$(this).css('display','none').data("elid");
      $('#comment2_'+el).slideDown('fast');
      $('.collapse[data-elid="'+el+'"]').css('display','inline-block');
     })
     .on("click",".collapse", function(e) {
               //same same
     }); 
```

# json - JSON 数据格式标准

> ID：14785261
> 
> 赞同：0
> 
> 时间：2013-02-09T05:25:03.507
> 
> 标签：json

我正在将外语词典从 XML 文档转换为 JSON。我将不得不查找这些单词以供以后使用，并且我想到了两种格式化的可能性。

首先：

```
{
    "grammar": {
        "verb": {
            "type": {
                "irregular": {
                    "word": "etre" , ...
                }
            }
        }
    }
} 
```

第二：

```
{
    "grammar": {
        "verb": {
            "type": {
                "irregular": {
                    "et": {
                        "re": {
                            "word": "etre"
                        } , ...
                    } , ...
                }
            }
        }
    }
} 
```

哪个解析更快？

我想如果我把这个词分成两个字母块，我可以告诉解析器确切的位置，而不是告诉它要搜索哪个字段。

我正在使用 Javascript，我将从用户那里获取一个词。在这种情况下，“成为”的法语动词。然后我在我的数据库中找到该词，并返回与在其字段中找到的该词相关的任何信息。对于动词，它将是一个共轭表。对于名词，变格...等等。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-09T07:13:44.987

第一个解析起来会更快，因为元素会更少。我认为您应该考虑优化内存数据结构，而不是使数据存储格式复杂化。构建您的 json，使其最有意义，并且最容易使用。

在过度设计解决方案之前，对不同的数据结构进行一些分析和测试。您可能希望使用 sqlite 之类的数据库来帮助您快速搜索大量数据。

听起来您可能想使用[Trie](http://en.wikipedia.org/wiki/Trie)来查找单词。我不知道 json 是否是像 trie 一样构建数据的最佳位置。

# c# - 在 wpf 数据网格中对所有行进行排序后触发哪个事件。

> ID：14785264
> 
> 赞同：2
> 
> 时间：2013-02-09T05:25:35.473
> 
> 标签：c#, wpf, datagrid

在我的 WPF DataGrid 中，我在对行进行排序时遇到问题。

我正在从后面的代码中设置新样式，而 datagrid 加载了事件名称。

但是，当我单击标题进行排序时，我的 DataGrid 样式更改为默认值。

![在此处输入图像描述](../Images/b6fea72d632835a5ea924e6d70d0987e.png)

我的 DataGrid 代码：-

```
 <DataGrid x:Name="dtstandardview" BorderThickness="0" Height="429"  Width="688" BorderBrush="Aqua" MouseLeftButtonDown="dtstandardview_MouseRightButtonUp_1"
                     GridLinesVisibility="None" MouseRightButtonUp="dtstandardview_MouseRightButtonUp_1" 
                     VerticalScrollBarVisibility="Visible" AutoGenerateColumns="False" IsReadOnly="True" 
                      CanUserDeleteRows="False"  AlternationCount="2" CanUserResizeRows="False" Sorting="dtstandardview_Sorting_1"
                     Background="#DCDCDC" HeadersVisibility="Column" CanUserResizeColumns="False"
                      RowHeight="27" SelectionUnit="FullRow" CanUserAddRows="False" MinRowHeight="27" LoadingRow="dtstandardview_LoadingRow" LoadingRowDetails="dtstandardview_LoadingRowDetails" Loaded="dtstandardview_Loaded" Initialized="dtstandardview_Initialized" CellEditEnding="dtstandardview_CellEditEnding" AutoGeneratingColumn="dtstandardview_AutoGeneratingColumn" UnloadingRow="dtstandardview_UnloadingRow" UnloadingRowDetails="dtstandardview_UnloadingRowDetails"    >

                <DataGrid.CellStyle>
                    <Style TargetType="{x:Type DataGridCell}">
                        <Setter Property="Background" Value="Transparent"/>
                        <Setter Property="Effect">
                            <Setter.Value>
                                <DropShadowEffect BlurRadius="0" Color="#FF000000" Direction="-60" Opacity="0.32" ShadowDepth="1"/>
                            </Setter.Value>
                        </Setter>
                        <Setter Property="Margin" Value="10,5" />
                        <Setter Property="VerticalContentAlignment" Value="Bottom"/>
                    </Style>
                </DataGrid.CellStyle>
                <DataGrid.RowStyle>
                    <Style TargetType="{x:Type DataGridRow}">
                        <Setter Property="FontSize" Value="12"/>
                        <Setter Property="FontFamily" Value="Arial"/>
                        <Setter Property="Foreground" Value="#404040"/>
                        <Setter Property="Background" Value="Transparent"/>
                        <Setter Property="DataContext">
                            <Setter.Value>
                                <TextBlock Margin="10,0,0,0" TextWrapping="Wrap" Text="{Binding}">
                                    <TextBlock.Effect>
                                        <DropShadowEffect BlurRadius="0" Color="#FF000000" Direction="-60" Opacity="0.32" ShadowDepth="1"/>
                                    </TextBlock.Effect>
                                </TextBlock>
                            </Setter.Value>
                        </Setter>

                    </Style>
                </DataGrid.RowStyle>
                <DataGrid.RowBackground >
                    <ImageBrush ImageSource="/ClientApplication;component/Images/second_row_bg.png"/>
                </DataGrid.RowBackground>
                <DataGrid.AlternatingRowBackground>
                    <ImageBrush ImageSource="/ClientApplication;component/Images/bonus_progress_bg.png"/>
                </DataGrid.AlternatingRowBackground>

                <DataGrid.ColumnHeaderStyle>
                    <Style TargetType="{x:Type DataGridColumnHeader}">
                        <Setter Property="VerticalContentAlignment" Value="Center" />
                        <Setter Property="ContentTemplate" >
                            <Setter.Value>
                                <DataTemplate>
                                    <TextBlock Foreground="#404040" FontWeight="Bold" Margin="10,0,0,0" TextWrapping="Wrap" Text="{Binding}" TextOptions.TextFormattingMode="Display">
                                        <TextBlock.Effect>
                                            <DropShadowEffect BlurRadius="0" Color="#FFFFFF" Direction="-90" Opacity="0.40" ShadowDepth="1"  RenderOptions.ClearTypeHint="Auto" />
                                        </TextBlock.Effect>
                                    </TextBlock>

                                </DataTemplate>
                            </Setter.Value>
                        </Setter>

                        <Setter Property="Background">
                            <Setter.Value>
                                <ImageBrush ImageSource="/ClientApplication;component/Images/table_bg_header.png"/>
                            </Setter.Value>
                        </Setter>
                        <Setter Property="BorderBrush">
                            <Setter.Value>
                                <ImageBrush   ImageSource="/ClientApplication;component/Images/titel_bg.png"/>
                            </Setter.Value>
                        </Setter>

                        <Setter Property="Foreground" Value="#404040" />
                        <Setter Property="BorderThickness" Value="0, 0, 1, 0"/>
                        <Setter Property="Height" Value="26" />
                        <Setter Property="FontSize" Value="14"/>
                        <Setter Property="FontFamily" Value="Arial"/>

                    </Style>
                </DataGrid.ColumnHeaderStyle>

                <DataGrid.Columns>

                    <DataGridTextColumn  Width="125" Header="Table" Binding="{Binding Path=Table}"> 
                    </DataGridTextColumn>

                    <DataGridTextColumn  Width="101"   Header="Stakes" Binding="{Binding Path=Stakes}"  />
                    <DataGridTextColumn  Width="95" Header="Game" Binding="{Binding Path=Game}" />
                    <DataGridTemplateColumn Header="Type" Width="86">
                        <DataGridTemplateColumn.CellTemplate>
                            <DataTemplate x:Name="typedatatempl">
                                <StackPanel Orientation="Horizontal" Name="stackpaneltype">
                                    <TextBlock Name="typedate"  Text="{Binding Path=Type}" Margin="2,0,0,2" />

                                    <TextBlock Name="txtblocknumber" Text="{Binding Path=number}" Margin="2, 0, 0, 2" Background="Gray" TextAlignment="Center" FontFamily="Arial" FontWeight="Bold" FontSize="10" Foreground="White" Height="13" Width="13" VerticalAlignment="Center" HorizontalAlignment="Center" />
                                    <TextBlock Name="txtblockalpha"  Text="{Binding Path=alphabate}" Margin="5,0,0,2" Background="Yellow" FontFamily="Arial" TextAlignment="Center" FontWeight="Bold" FontSize="10" Foreground="White" Height="13" Width="13" VerticalAlignment="Center"  HorizontalAlignment="Center"/>
                                </StackPanel>
                            </DataTemplate>
                        </DataGridTemplateColumn.CellTemplate>
                    </DataGridTemplateColumn>
                    <DataGridTextColumn  Width="83" Header="Players" Binding="{Binding Path=Players}"  />
                    <DataGridTextColumn  Width="117" Header="Average Pot" Binding="{Binding Path=Average}"   />
                    <DataGridTextColumn  Width="63" Header="H/Hr" Binding="{Binding Path=hhr}"  />
                </DataGrid.Columns>

            </DataGrid> 
```

数据网格.xaml.cs

```
 int i = e.Row.GetIndex();
            // SetDatGrid();
            // to get the all the row one by one.
            DataGridRow objrow = new DataGridRow();
            DataGridCell objcell = new DataGridCell();
         //   objrow = ExtensionMethods.GetRow(dtstandardview, i);
            objcell = ExtensionMethods.GetCell(dtstandardview, e.Row, 3);

            ContentPresenter objcontent = new ContentPresenter();
            if (objcell != null)
            {
                objcontent = (ContentPresenter)objcell.Content;

                GameClassTemp objGameClassTemp = new GameClassTemp();
                objGameClassTemp = (GameClassTemp)objcontent.Content;

                ContentPresenter cp = dtstandardview.ItemContainerGenerator.ContainerFromItem(objcell) as ContentPresenter;
                StackPanel objstackpanel = ExtensionMethods.FindVisualChild<StackPanel>((ContentPresenter)objcell.Content);
                TextBlock objtypedate = (TextBlock)objstackpanel.FindName("typedate");
                TextBlock objtxtblocknumber = (TextBlock)objstackpanel.FindName("txtblocknumber");
                TextBlock objtxtblockalpha = (TextBlock)objstackpanel.FindName("txtblockalpha");
                if (objGameClassTemp != null)
                {
                    if (objGameClassTemp.alphabate != null && objGameClassTemp.alphabate.Trim().Length > 0)
                    {

                        var bc = new BrushConverter();
                        switch (objGameClassTemp.number)
                        {
                            case "1":
                                objtxtblockalpha.Background = Brushes.Green;
                                break;
                            case "2":
                                objtxtblockalpha.Background = Brushes.Yellow;
                                break;
                            case "3":
                                objtxtblockalpha.Background = Brushes.Red;
                                break;
                            case "4":

                                objtxtblockalpha.Background = (Brush)bc.ConvertFrom("#85ab33");
                                break;
                            case "5":
                                //objtxtblockalpha.Background = Brushes.Pink;

                                objtxtblockalpha.Background = (Brush)bc.ConvertFrom("#f9572a");
                                break;

                            case "6":

                                objtxtblockalpha.Background = (Brush)bc.ConvertFrom("#e0d921");
                                break;

                            default:
                                objtxtblockalpha.Background = Brushes.YellowGreen;
                                break;
                        }

                    }
                    else
                    {
                        objtxtblockalpha.Background = Brushes.Transparent;
                    }
                }
            } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-09T08:42:47.217

您需要使用 LoadingDataRow 事件

```
dataGrid.LoadingRow += dataGrid_LoadingRow;
void dataGrid_LoadingRow(object sender, DataGridRowEventArgs e)
{
   var dataContext = e.Row.DataContext;
} 
```

# php - jQuery 幻灯片中的 HTML 文本错误

> ID：14785269
> 
> 赞同：0
> 
> 时间：2013-02-09T05:26:25.687
> 
> 标签：php, jquery, html, css

我一直在为我的学校网站制作幻灯片，你可以在这里看到。虽然出现在照片下面的文字，但是这两行是两条闭合在一起的，我用的css也没用。

CSS是：

```
#slider {
width: 1047px; /* important to be same as image width */
height: 350px; /* important to be same as image height */
max-height: 350px;
position: relative; /* important */
overflow: hidden; /* important */
}
#sliderContent {
width: 1047px; /* important to be same as image width or wider */
position: absolute;
top: 0;
margin-left: 0;
}
.sliderImage {
float: left;
position: relative;
display: none;
}
.sliderImage span {
position: absolute;
font: 16px/16px Arial, Helvetica, sans-serif;
padding: 10px 13px;
width: 1047px;
background-color: #000;
filter: alpha(opacity=70);
-moz-opacity: 0.7;
-khtml-opacity: 0.7;
opacity: 0.7;
color: #fff;
display: none;
}
.clear {
clear: both;
}
.sliderImage span strong {
font-size: 20px;
}

p.sliderDesc{
padding-top: 5px;
}

.top {
top: 0;
left: 0;
}
.bottom {
bottom: 0;
left: 0;
}
ul { list-style-type: none;} 
```

滑块的 HTML 是：

```
<div id="slider">
    <ul id="sliderContent">
        <li class="sliderImage">
            <a href=""><img src="slider_images/image1-5.jpg" alt="1" /></a><!--Image     Courtesy Of Wikipedia |     http://upload.wikimedia.org/wikipedia/commons/e/e1/Little_Rock_Central_High_School.jpg-->
            <span class="bottom"><strong>Welcome to Beautiful Little Rock Central High!    </strong><br />Content text...</span>
        </li>
        <li class="sliderImage">
            <a href=""><img src="slider_images/image2.jpg" alt="2" /></a>
            <span class="bottom"><strong>National Historic Site & Museum</strong><br            /BLAH!!!</span>
        </li>
        <li class="sliderImage">
            <img src="slider_images/image3-5.jpg" alt="3" />
            <span class="bottom"><strong>No state shall make or enforce any law which shall abridge the privileges or immunities of citizens of the United States.</strong><br />Fourteenth Amendment </span>
        </li>
        <li class="sliderImage">
            <img src="slider_images/image4-5.jpg" alt="4" />
            <span class="bottom"><strong>Title text 2</strong>
                <br />
                <p class="sliderDesc">Content text...</p>
            </span>
        </li>
        <!--<li class="sliderImage">
            <img src="slider_images/410/5.jpg" alt="5" />
            <span class="bottom"><strong>Title text 2</strong><br />Content text...</span>
        </li>-->
        <div class="clear sliderImage"></div>
    </ul>
</div>
<!-- // slider --> 
```

谢谢！我希望这是一个简单的修复。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-09T05:56:12.693

好的，我找到了解决这个问题的方法，显然快速简单的解决方案是创建一个我称之为“sliderDesc”的类，并以这种方式使用它：

```
 <span class="bottom"><strong>National Historic Site & Museum</strong><br /><p class="sliderDesc">Content text...</p></span> 
```

这导致了这个：lrch.harrisonbh.com

# c# - 将安全绑定从配置文件转换为编码

> ID：14785270
> 
> 赞同：2
> 
> 时间：2013-02-09T05:26:28.390
> 
> 标签：c#, .net, wcf, wcf-binding

想调用 HTTPS WCF 服务。当我们这样调用时：

```
SmartPayments2SoapClient client = new SmartPayments2SoapClient(); 
```

它工作正常。

但在我的场景中，我不想使用默认绑定。它必须以编程方式创建，但在此，我的服务是安全的，意味着它在 HTTPS 上运行。

请建议我可以在其中以编程方式创建绑定的代码。

这是带有自定义绑定的 App.config：

```
<customBinding>
    <binding name="SmartPayments2Soap12">
        <textMessageEncoding maxReadPoolSize="64" maxWritePoolSize="16" messageVersion="Soap12" writeEncoding="utf-8">
            <readerQuotas maxDepth="32" maxStringContentLength="8192" maxArrayLength="16384" maxBytesPerRead="4096" maxNameTableCharCount="16384" />
        </textMessageEncoding>
        <httpsTransport manualAddressing="false" maxBufferPoolSize="524288" maxReceivedMessageSize="65536" allowCookies="false" authenticationScheme="Anonymous" bypassProxyOnLocal="false" hostNameComparisonMode="StrongWildcard" keepAliveEnabled="true" maxBufferSize="65536" proxyAuthenticationScheme="Anonymous" realm="" transferMode="Buffered" unsafeConnectionNtlmAuthentication="false" useDefaultWebProxy="true" requireClientCertificate="false" />
    </binding>
</customBinding> 
```

我希望将其转换为 C# 程序。我试过这个：

```
SecurityBindingElement securityElement = SecurityBindingElement.CreateSslNegotiationBindingElement(false);
HttpsTransportBindingElement httpsTransport = new HttpsTransportBindingElement();
httpsTransport.AllowCookies = false;
httpsTransport.BypassProxyOnLocal = false;
httpsTransport.HostNameComparisonMode = HostNameComparisonMode.StrongWildcard;
httpsTransport.MaxBufferSize = 65536;
httpsTransport.MaxBufferPoolSize = 524288;
httpsTransport.MaxReceivedMessageSize = 65536;
httpsTransport.TransferMode = TransferMode.Buffered;
httpsTransport.UseDefaultWebProxy = true;
httpsTransport.AuthenticationScheme = System.Net.AuthenticationSchemes.Anonymous;
httpsTransport.ManualAddressing = false;
httpsTransport.AllowCookies = false;
httpsTransport.BypassProxyOnLocal = false;
//httpsTransport.DecompressionEnabled = true;
httpsTransport.HostNameComparisonMode = HostNameComparisonMode.StrongWildcard;
httpsTransport.KeepAliveEnabled = true;
httpsTransport.ProxyAuthenticationScheme = System.Net.AuthenticationSchemes.Anonymous;
httpsTransport.Realm = "";
httpsTransport.TransferMode = TransferMode.Buffered;
httpsTransport.UnsafeConnectionNtlmAuthentication = false;
httpsTransport.UseDefaultWebProxy = true;

CustomBinding binding = new CustomBinding(securityElement, httpsTransport);

EndpointAddress remoteAddress = new EndpointAddress("https://example.com/Payments/Transact2.asmx");

SmartPayments2SoapClient client = new SmartPayments2SoapClient(binding, remoteAddress); 
```

# objective-c - 如何在各种 UITableView 中重用我的自定义 UITableViewCell？

> ID：14785271
> 
> 赞同：0
> 
> 时间：2013-02-09T05:26:32.383
> 
> 标签：objective-c, uitableview

我的应用程序中有三个单独的“UIViewControllers”。每个都有 UITableView 附加到它。

*   第一个 UITableView 只显示一个数据行表（新闻项目）。
*   第二个 UITableView 显示一个搜索视图，其中有几个部分，用户在其中键入不同的搜索条件。
*   第三个 UITableView 显示文章详细信息。

在每个 UITableView 中，都有一个按钮。

*   第一个 UITableView 有“加载更多文章”按钮。
*   第二个 UITableView 有“搜索”按钮
*   第三个 UITableView 有“访问文章页面”按钮。

由于所有三个视图都是 UITables，我创建了一个自定义 UITableCellView 并添加到每个 UITableViews。这是我在第二个 UITableView 中的“ButtonCell”示例

```
ButtonCell *cell = [tableView dequeueReusableCellWithIdentifier:@"ButtonCell"];
NSString *cellText = @"Search";
[[cell buttonLabel] setText:cellText];
return cell; 
```

这很好用——正是我想要的。

现在我在第一个和第三个 UITableView 中添加了相同的“ButtonCell”，但是发生了一些奇怪的事情。

1.  ButtonCell 的背景颜色不正确 - 在 ButtonCell“.xib”文件中，我将其设置为蓝色。这适用于第二个 UITableView，但对其他人来说，它只是“白色”。

2.  ButtonCell 不再有“圆角”。

关于如何在任何 UITableViews 中正确“重用”我的自定义按钮单元格的任何想法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-09T06:02:31.620

听起来你的第二张桌子是分组的，而另外两张是普通的（你会得到带有分组表格视图样式的圆角）。在 IB 中为普通表格设置自定义单元格的颜色不起作用。您应该在 tableView:willDisplayCell:forRowAtIndexPath: 委托方法中设置单元格的颜色：

```
- (void)tableView:(UITableView *)tableView willDisplayCell:(UITableViewCell *)cell forRowAtIndexPath:(NSIndexPath *)indexPath {
    cell.backgroundColor = [UIColor colorWithRed:.67 green:.93 blue:1 alpha:1];
} 
```

# angularjs - 在 angularjs 中使用复选框来管理对象数组

> ID：14785273
> 
> 赞同：11
> 
> 时间：2013-02-09T05:26:44.910
> 
> 标签：angularjs

我曾问过一个关于 [如何使用 angularjs 中的 ng-options 将对象关联为模型的问题](https://stackoverflow.com/questions/14751674/how-can-i-associate-objects-as-models-using-ng-options-in-angularjs/14753629)。

我很快就得到了一个很棒的答案。我的后续问题是响应用于`<select mutiple>`处理子对象数组。

`<select>`您可以在[http://plnkr.co/edit/FQQxrSE89iY1BnfumK0A?p=preview](http://plnkr.co/edit/FQQxrSE89iY1BnfumK0A?p=preview)看到我想要的工作示例

我如何使用`<input type='checkbox'>`（而不是`<select>`）来处理该对象数组，即`ng:model="shirt.colors"`在重复`colors`对象数组中的项目时。

原因，这对我来说似乎很复杂，因为我必须管理一个对象数组而不是值数组......例如，如果你看一下小提琴，就会有`color`对象和`shirt`具有多种颜色的对象。

如果`color`对象发生变化，则应更改`color`对象中的相应`shirt`对象。

先感谢您。

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2013-02-09T07:41:53.797

您只需要在您的范围内有一些中间值，并将复选框绑定到它。在您的控制器中 - 注意它的变化，并根据它的值手动重建 shirt.colors。

```
<div ng-repeat='shirt in shirts'>
  <h3>Shirt.</h3>
  <label>Size: <input ng-model='shirt.size'></label><br/>
  <label>Colors:</label>
  <label ng-repeat="color in colors">
    {{color.label}} <input ng-model="selection[$parent.$index][$index]" type="checkbox"/>
  </label>

    </label>
</div> 
```

在你的控制器中：

```
$scope.selection = [[],[]];
$scope.$watch('selection', function () {
  console.log('change', $scope.selection);
  angular.forEach($scope.selection, function (shirtSelection, index) {
    $scope.shirts[index].colors = [];
    angular.forEach(shirtSelection, function (value, index2) {
      if (value) $scope.shirts[index].colors.push($scope.colors[index2]);
    });
  });
}, true); 
```

你可以在这里测试它：http: [//plnkr.co/edit/lh9hTa9wM5fkh3nT09RJ ?p=preview](http://plnkr.co/edit/lh9hTa9wM5fkh3nT09RJ?p=preview)

# javascript - 如何将javascript动态添加到HTML并正确加载？

> ID：14785274
> 
> 赞同：3
> 
> 时间：2013-02-09T05:26:58.810
> 
> 标签：javascript, jquery, html, json

我正在尝试这个：如果 jQuery 不存在，动态添加 jQuery 并使用警报对其进行测试。但这不起作用，¿我做错了什么？

HMTL：

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">               
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:og="http://ogp.me/ns#" xmlns:fb="http://www.facebook.com/2008/fbml" id="crishk">

<head>
</head>

<body>
    Welcome to Javascript Loader</a>
    <div id="alertme">Alert me!</div>
<script type="text/javascript" language="javascript" src="dynamic.js"></script>
</body>

</html> 
```

文件动态.js

```
if (typeof jQuery == 'undefined') {
    alert('You need to install jQuery to proceed.!');

    var oHead = document.getElementsByTagName('head').item(0);
    var oScript = document.createElement("script");
    oScript.type = "text/javascript";
    oScript.src = "http://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js";
    oHead.appendChild(oScript);

} else {
    alert('jQuery is present...');
}
$(document).ready(function () {
    alert($('#alertme').html());
}); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-09T05:41:22.507

在第一个 if 条件下加载 jquery 时，使用 onload 事件触发函数。将需要 jquery 的所有其他函数包装在一个函数中，并将其称为 jquery 的 onload。

这对你有用。

```
if (typeof jQuery == 'undefined') {
      alert( 'You need to install jQuery to proceed.!');

      var oHead = document.getElementsByTagName('head').item(0);
      var oScript= document.createElement("script");
      oScript.type = "text/javascript";
      oScript.src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js";
      oHead.appendChild( oScript);
        oScript.onload=onload; //on load handler
}
else {
  alert( 'jQuery is present...' );
  onload();
}
function onload(){

alert( $('#alertme').html() );    
}; 
```

检查[http://jsfiddle.net/WVtt9/](http://jsfiddle.net/WVtt9/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T07:22:36.400

```
class OutputManager {

    public $output;
    public $dom;
    private $matches;

    function __construct( &$output )
    {
        $this->output = $output;        
        $this->dom = new DOMDocument();
        $this->dom->loadHTML( $this->output );
        $this->dom->normalizeDocument();
        $this->matches = array();
    }

    /**
    * put your comment there...
    * 
    * @param mixed $attr
    * @param mixed $val
    */
    public function elementExists( $tagName, $attr=NULL, $attr_val=NULL )
    {                
        if (count( $this->matches[$tagName] ) == 0) {
            $this->matches[$tagName] = $this->dom->getElementsByTagName( $tagName );
        }

        if ($attr == NULL && $attr_val == NULL) {            
            return $this->matches->length > 0;
        }
        else
        if ($attr != NULL && $attr_val == NULL) {            
            foreach ($this->matches[$tagName] as $match) {
                if ($this->match->hasAttribute($attr))
                    return true;
            }
        }
        else
        if ($attr != NULL && $attr_val != NULL) {
            foreach ($this->matches[$tagName] as $match) {
                if (trim( $match->getAttribute($attr), "/" ) == trim( $attr_val, "/" ))
                    return true;
            }
        }
        return false;
    }

    public function addScript( $src, $at="head" )
    {
        if (!$this->elementExists( "script", "src", $src )) {        

            $result = $this->dom->getElementsByTagName($at);

            $new_script = $this->dom->createElement( "script" );
            $attribute_src = $this->dom->createAttribute( "src" );
            $attribute_src->value = $src;
            $new_script->appendChild( $attribute_src );

            $attribute_type = $this->dom->createAttribute( "type" );
            $attribute_type->value = "text/javascript";
            $new_script->appendChild( $attribute_type );

            $result->item(0)->appendChild( $new_script );

        }
    }

    public function addStylesheet( $href )
    {
        if (!$this->elementExists( "link", "href", $href )) {
            $result = $this->dom->getElementsByTagName($at);

            $new_stylesheet = $this->dom->createElement( "link" );
            $attribute_href = $this->dom->createAttribute( "href" );
            $attribute_href->value = $href;
            $new_stylesheet->appendChild( $attribute_href );

            $attribute_type = $this->dom->createAttribute( "type" );
            $attribute_type->value = "text/css";
            $new_stylesheet->appendChild( $attribute_type );

            $attribute_rel = $this->dom->createAttribute( "rel" );
            $attribute_rel->value = "stylesheet";
            $new_stylesheet->appendChild( $attribute_rel );

            $result->item(0)->appendChild( $new_stylesheet );
        }
    }

    /**
    * Returns the final output.
    * 
    */
    public function getOutput()
    {
        return $this->dom->saveHTML();
    }

    public function getStyles()
    {
        return $matches['link'];
    }

} 
```

# git - 如何使用 'git filter-branch' 更新子模块的 SHA？

> ID：14785287
> 
> 赞同：6
> 
> 时间：2013-02-09T05:29:17.077
> 
> 标签：git, git-submodules, git-filter-branch

假设我有两个 Git 存储库，A 和 B。B 是 A 的子模块。

为简单起见，我们还假设我有一个魔术函数，`get_sha_B`即给定来自 A 的 SHA 提交，返回 B 的所需 SHA 提交。

如何在 repo A 上运行 filter-branch，以便 repo A 的每个提交都被重写以指向 repo B 的所需提交，如返回的`get_sha_B`？

谢谢！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-09T06:47:38.117

弄清楚了！我将在这里回答我自己的问题：

我可以`git update-index`与`git filter-branch --index-filter`.

以下是如何调用 update-index 来修改子模块的提交 SHA：

```
git update-index --cacheinfo 160000 88e6a302c42840440f9faac73f27efc6a3e0c1a6 pathto/mysubmodule 
```

据我了解，160000 是 Git 中用于标识子模块的幻数。

# css - Simple way to style an Google Maps Infowindow without using Infobox

> ID：14785298
> 
> 赞同：0
> 
> 时间：2013-02-09T05:32:48.673
> 
> 标签：css, google-maps

Is there a simple way of styling an Infowindow without using Infobox? I just need to reduce its margins/padding.

Thanks,

[ simon.cpu ]

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-09T14:48:53.243

Its simple, set the margin of your content. In chrome developer console you can inspect the div and set the margin as needed and mark it as important. Like so,

```
 <div id="INFOWINDOW" style="margin-bottom:-1% !important;">Info Window Content</div> 
```

If you want to reduce the margin from all sides the simply replace **margin-bottom** with **margin** with will reduce the margin from all sides by the value you have set.

Hope this helps.

# android - Android：为不同的用户打开多个聊天窗口

> ID：14785301
> 
> 赞同：4
> 
> 时间：2013-02-09T05:33:33.630
> 
> 标签：android, notifications, android-activity

我想通过为不同的聊天用户多次调用单个活动来打开多个聊天窗口。我曾尝试使用通知来打开不同的聊天用户活动窗口，但它失败了。只打开一个聊天窗口。

谁能给我建议怎么做。？或任何想法或替代方式来打开多个聊天窗口..？

帮助将不胜感激！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-09T05:43:16.483

据我所知，您需要使用 Android 片段。

[http://developer.android.com/guide/components/fragments.html](http://developer.android.com/guide/components/fragments.html)

每个聊天窗口应该是它自己的片段，但只有一个活动。

# android - 如何格式化通知上显示的时间？

> ID：14785310
> 
> 赞同：0
> 
> 时间：2013-02-09T05:35:52.570
> 
> 标签：android, notifications

我在修改警报应用程序的通知时遇到问题，我想使用以下代码更改通知显示的时间：

```
 .......
   Calendar cal = Calendar.getInstance();
   cal.add(Calendar.MINUTE, addMinute);
   notification.when = cal.getTimeInMillis();
   notificationManager.notify(NOTIF_ID, notification); 
```

但问题是通知时间的格式不正确，它显示 mm/dd/yy，而不是 hh:mm，是否可以更改格式？我找不到合适的方法来改变它们。

我确实搜索过，但我找不到任何方法来做到这一点。任何建议如何格式化通知中的时间？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-03T02:19:59.173

我已经解决了。我不知道如何删除或格式化标准通知上的时间，但我可以使用[NotificationBuilder](http://developer.android.com/reference/android/app/Notification.Builder.html)创建自定义通知，并将格式化的字符串时间传递给自定义通知而不是 Time。

# excel - Excel表格公式返回空白

> ID：14785313
> 
> 赞同：0
> 
> 时间：2013-02-09T05:36:07.770
> 
> 标签：excel, formula

我在 excel 中有一个包含 2 列的表，E 列是运行总计，D 列是输入值，所以通常它是 = E15+D16 但是，如果没有输入任何内容，我希望 E 列返回空白D列-我需要什么公式？

```
1   Nov-23  Nov-30  1,230   1,230
2   Dec-01  Dec-07  130     1,360
3   Dec-08  Dec-14  416     1,776
4   Dec-15  Dec-21  124     1,900
5   Dec-22  Dec-28  102     2,002
6   Dec-29  Jan-04  83      2,085
7   Jan-05  Jan-11  95      2,180
8   Jan-12  Jan-18  88      2,268
9   Jan-19  Jan-25  102     2,370
10  Jan-26  Feb-01  130     2,500
11  Feb-02  Feb-08  311     2,811
12  Feb-09  Feb-15      
13              
14              
15              
16              
17              
18              
19              
20              
21              
22 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-09T05:43:44.330

```
=if(D16="","",E15+D16) 
```

您甚至不需要 ISBLANK，只需使用空引号即可。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-09T05:40:49.790

`ISBLANK`就是你要找的。

在 E16`=IF(ISBLANK(D16), "", E15+D16)`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-09T05:41:47.640

`If`和并用`IsBlank`。

检查单元格是否为空白，然后根据结果求和或返回空白。我的atm面前没有excel，但它应该是这样的：

> =if(ISBLANK(D16), "", E15+D16)

您可以从该运行总计所在列中的*第二个*单元格开始向下拖动。第一个显然只是来自相邻单元格的值。

# php - 如何将 POSTed JSON 值转换为 PHP？

> ID：14785317
> 
> 赞同：0
> 
> 时间：2013-02-09T05:36:38.310
> 
> 标签：php, json, api, post, get

作为测试，此 JSON 数据正在发布到我的网站：

```
{
    "order": {
        "id": null,
        "created_at": null,
        "status": "new",
        "total_btc": {
            "cents": 100000000,
            "currency_iso": "BTC"
        },
        "total_native": {
            "cents": 2263,
            "currency_iso": "USD"
        },
        "custom": "123456789",
        "button": {
            "type": "buy_now",
            "name": "Test Item",
            "description": null,
            "id": null
        },
        "transaction": {
            "hash": "4a5e1e4baab89f3a32518a88c31bc87f618f76673e2cc77ab2127b7afdeda33b",
            "confirmations": 0
        }
    }
} 
```

由于它是从服务器到服务器发送的，因此我看不到数据。我尝试将 $_POST 数组发送到文本文件，但它出现空白。我认为我需要做的是：

```
$data = json_decode($jsonData); 
```

但是如何设置变量 $jsonData？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-09T05:46:30.757

您可以尝试使用[包装器](http://php.net/manual/en/wrappers.php.php)来读取原始 POST 查询。

```
$data = file_get_contents("php://input"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-09T05:43:17.037

您是否尝试过，将获得的字符串存储到变量中然后对其进行解码？

```
$postedJsonData= '{"order":{"id":null,"created_at":null,"status":"new","total_btc":
{"cents":100000000,"currency_iso":"BTC"},"total_native":
{"cents":2263,"currency_iso":"USD"},"custom":"123456789","button":
{"type":"buy_now","name":"Test Item","description":null,"id":null},"transaction":
{"hash":"4a5e1e4baab89f3a32518a88c31bc87f618f76673e2cc77ab2127b7afdeda33b","confirmations":0}}}';

var_dump(json_decode($postedJsonData, true)); 
```

true 参数将返回一个关联数组

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-09T05:43:52.957

$data = json_decode($jsonData, True);

# xamarin.ios - 单点触控中的 UITableView 导航

> ID：14785320
> 
> 赞同：0
> 
> 时间：2013-02-09T05:37:22.877
> 
> 标签：xamarin.ios, monodevelop

我正在使用 mono develop 3.1.1 来构建 IOS 应用程序。我从我没有正确声明的导航控制器的引用中收到一个对象引用错误（请参阅 >>>）。

我的问题是声明和实例化控制器的最佳方式是什么，以便我能够从选择表格单元格的点显示另一个视图。

有人可以帮我正确的语法吗？

```
public class TableHelper : UITableViewSource {
    protected string[] tableItems;
    protected string cellIdentifier = "TableCell";

    public TableHelper (string[] items)
    {
        tableItems = items;
    }

    public override int RowsInSection (UITableView tableview, int section)
    {
        return tableItems.Length;
    }

    public override void RowSelected (UITableView tableView, NSIndexPath indexPath)
    {
        switch (tableItems[indexPath.Row])
        {
        case "one": 
            var DetailViewController = new SupportContactsDetailsScreen ();
            UINavigationController controller = new UINavigationController();
            // Pass the selected object to the new view controller.
            >>>controller.NavigationController.PushViewController(DetailViewController, true);
            break;
        default:
            //Console.WriteLine("Default case");
            break;
        }
    }

    public override UITableViewCell GetCell (UITableView tableView, MonoTouch.Foundation.NSIndexPath indexPath)
    {

        UITableViewCell cell = tableView.DequeueReusableCell (cellIdentifier);

        if (cell == null)
            cell = new UITableViewCell (UITableViewCellStyle.Default, cellIdentifier);

        cell.TextLabel.Text = tableItems[indexPath.Row];

        return cell;
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-09T07:11:57.850

我通常这样做的方法是保留对特定视图集的主 UIViewController（保存 UITableView 的视图控制器）的引用，并通过 NavigationController 属性访问该导航控制器。（Xamarin 在下面链接的代码示例中采用的另一种技术是直接传递 UINavigationController。）

所以我会通过添加来改变你的班级：

```
UIViewController parentViewController;
public TableHelper(string[] items, UIViewController vc)
{
    tableItems = items;
    parentViewController vc;
}

public override void RowSelected (UITableView tableView, NSIndexPath indexPath)
{
    switch (tableItems[indexPath.Row])
    {
    case "one": 
        var DetailViewController = new SupportContactsDetailsScreen ();
        UINavigationController controller = new UINavigationController();
        // Pass the selected object to the new view controller.
        parentViewController.NavigationController.PushViewController(DetailViewController, true);
        break;
    default:
        //Console.WriteLine("Default case");
        break;
    }
} 
```

Xamarin在他们的文档网站上有一个[文档](http://docs.xamarin.com/ios/Guides/User_Interface/Tables)，在他们的[Github上](https://github.com/xamarin/monotouch-samples)[有一些代码](https://github.com/xamarin/monotouch-samples/blob/master/TableAndCellStyles/TableAndCellStyles/Code/NavigationTable/NavItemTableSource.cs)进一步讨论了这个问题。另一个重要的注意事项是视图控制器的类型是什么（常规的 UIViewController、UITableViewController 等）。

# ruby - 在 ruby 中进行供电和修改的有效方法

> ID：14785329
> 
> 赞同：8
> 
> 时间：2013-02-09T05:38:24.930
> 
> 标签：ruby

我需要知道 3 个值的幂和 mod 的值，例如：

```
print 1_299_709 ** 1_300_751 % 104_729 
```

有没有任何红宝石宝石或更快的方法来使用红宝石计算这个？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-02-09T07:48:34.190

这称为[模幂运算](http://en.wikipedia.org/wiki/Modular_exponentiation)，并在密码学中大量使用。编写模幂算法相当容易，上面列出的维基百科文章中有一个演示。

您可以使用标准库 openssl 来实现您的目标：

```
require 'openssl'
1_299_709.to_bn.mod_exp(1_300_751, 104_729) # => 90827 
```

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2019-04-18T22:45:17.177

由于 Ruby 2.5 模幂运算是内置的：

```
print 1_299_709.pow(1_300_751, 104_729) 
```

# django - Haystack UnicodeDecodeError

> ID：14785331
> 
> 赞同：1
> 
> 时间：2013-02-09T05:38:46.647
> 
> 标签：django, django-haystack, pysolr

我在 Django 上使用 haystack 和 solr。我得到 UnicodeDecodeError ，我认为原因是数据库中的 unicode 数据要么转换为 str ，要么解码为 utf-8 ，这在通过 httplib 发送或打印到控制台时会产生更高的 UnicodeDecodeError 。
我认为问题应该在 haystack full_prepare 函数之前，因为我后来检查数据已经被破坏了。
有什么想法吗？
我 setup.pyed install (haystack, pysolr, django) 并使用了来自[http://www.lfd.uci.edu/~gohlke/pythonlibs/的 lxml 二进制文件](http://www.lfd.uci.edu/~gohlke/pythonlibs/)

```
Microsoft Windows [Version 6.1.7601]
Copyright (c) 2009 Microsoft Corporation.  All rights reserved.

C:\Users\Pouria\Desktop\conference\conference>python manage.py rebuild_index

WARNING: This will irreparably remove EVERYTHING from your search index in connection 'default'.
Your choices after this are to restore from backups or rebuild via the `rebuild_index` command.
Are you sure you wish to continue? [y/N] y

Removing all documents from your index because you said so.
Failed to clear Solr index: [Reason: Error 404 Not Found]
All documents removed.
C:\Python27\lib\site-packages\django\db\models\fields\__init__.py:808: RuntimeWarning: DateTimeField
 received a naive datetime (2013-02-09 08:47:27.110000) while time zone support is active.
  RuntimeWarning)
Indexing 2 conferences.
ERROR:root:Error updating conferences using default
Traceback (most recent call last):
  File "C:\Users\Pouria\Desktop\conference\conference\haystack\management\commands\update_index.py",
 line 210, in handle_label
    self.update_backend(label, using)
  File "C:\Users\Pouria\Desktop\conference\conference\haystack\management\commands\update_index.py",
 line 256, in update_backend
    do_update(backend, index, qs, start, end, total, self.verbosity)
  File "C:\Users\Pouria\Desktop\conference\conference\haystack\management\commands\update_index.py",
 line 78, in do_update
    backend.update(index, current_qs)
  File "C:\Users\Pouria\Desktop\conference\conference\haystack\backends\solr_backend.py", line 72, i
n update
    self.conn.add(docs, commit=commit, boost=index.get_field_weights())
  File "C:\Python27\lib\site-packages\pysolr.py", line 786, in add
    return self._update(m, commit=commit, waitFlush=waitFlush, waitSearcher=waitSearcher)
  File "C:\Python27\lib\site-packages\pysolr.py", line 379, in _update
    return self._send_request('post', path, message, {'Content-type': 'text/xml; charset=utf-8'})
  File "C:\Python27\lib\site-packages\pysolr.py", line 291, in _send_request
    timeout=self.timeout)
  File "C:\Python27\lib\site-packages\requests\api.py", line 87, in post
    return request('post', url, data=data, **kwargs)
  File "C:\Python27\lib\site-packages\requests\api.py", line 44, in request
    return session.request(method=method, url=url, **kwargs)
  File "C:\Python27\lib\site-packages\requests\sessions.py", line 279, in request
    resp = self.send(prep, stream=stream, timeout=timeout, verify=verify, cert=cert, proxies=proxies
)
  File "C:\Python27\lib\site-packages\requests\sessions.py", line 373, in send
    r = adapter.send(request, **kwargs)
  File "C:\Python27\lib\site-packages\requests\adapters.py", line 171, in send
    timeout=timeout
  File "C:\Python27\lib\site-packages\requests\packages\urllib3\connectionpool.py", line 421, in url
open
    body=body, headers=headers)
  File "C:\Python27\lib\site-packages\requests\packages\urllib3\connectionpool.py", line 273, in _ma
ke_request
    conn.request(method, url, **httplib_request_kw)
  File "C:\Python27\lib\httplib.py", line 949, in request
    self._send_request(method, url, body, headers)
  File "C:\Python27\lib\httplib.py", line 990, in _send_request
    self.endheaders(body)
  File "C:\Python27\lib\httplib.py", line 943, in endheaders
    self._send_output(message_body)
  File "C:\Python27\lib\httplib.py", line 810, in _send_output
    self.send(message_body)
  File "C:\Python27\lib\httplib.py", line 775, in send
    self.sock.sendall(str)
  File "C:\Python27\lib\socket.py", line 222, in meth
    return getattr(self._sock,name)(*args)
UnicodeEncodeError: 'ascii' codec can't encode characters in position 143-149: ordinal not in range(
128)
Traceback (most recent call last):
  File "manage.py", line 10, in <module>
    execute_from_command_line(sys.argv)
  File "C:\Python27\lib\site-packages\django\core\management\__init__.py", line 443, in execute_from
_command_line
    utility.execute()
  File "C:\Python27\lib\site-packages\django\core\management\__init__.py", line 382, in execute
    self.fetch_command(subcommand).run_from_argv(self.argv)
  File "C:\Python27\lib\site-packages\django\core\management\base.py", line 196, in run_from_argv
    self.execute(*args, **options.__dict__)
  File "C:\Python27\lib\site-packages\django\core\management\base.py", line 232, in execute
    output = self.handle(*args, **options)
  File "C:\Users\Pouria\Desktop\conference\conference\haystack\management\commands\rebuild_index.py"
, line 15, in handle
    call_command('update_index', **options)
  File "C:\Python27\lib\site-packages\django\core\management\__init__.py", line 150, in call_command

    return klass.execute(*args, **defaults)
  File "C:\Python27\lib\site-packages\django\core\management\base.py", line 232, in execute
    output = self.handle(*args, **options)
  File "C:\Users\Pouria\Desktop\conference\conference\haystack\management\commands\update_index.py",
 line 184, in handle
    return super(Command, self).handle(*items, **options)
  File "C:\Python27\lib\site-packages\django\core\management\base.py", line 341, in handle
    label_output = self.handle_label(label, **options)
  File "C:\Users\Pouria\Desktop\conference\conference\haystack\management\commands\update_index.py",
 line 210, in handle_label
    self.update_backend(label, using)
  File "C:\Users\Pouria\Desktop\conference\conference\haystack\management\commands\update_index.py",
 line 256, in update_backend
    do_update(backend, index, qs, start, end, total, self.verbosity)
  File "C:\Users\Pouria\Desktop\conference\conference\haystack\management\commands\update_index.py",
 line 78, in do_update
    backend.update(index, current_qs)
  File "C:\Users\Pouria\Desktop\conference\conference\haystack\backends\solr_backend.py", line 72, i
n update
    self.conn.add(docs, commit=commit, boost=index.get_field_weights())
  File "C:\Python27\lib\site-packages\pysolr.py", line 786, in add
    return self._update(m, commit=commit, waitFlush=waitFlush, waitSearcher=waitSearcher)
  File "C:\Python27\lib\site-packages\pysolr.py", line 379, in _update
    return self._send_request('post', path, message, {'Content-type': 'text/xml; charset=utf-8'})
  File "C:\Python27\lib\site-packages\pysolr.py", line 291, in _send_request
    timeout=self.timeout)
  File "C:\Python27\lib\site-packages\requests\api.py", line 87, in post
    return request('post', url, data=data, **kwargs)
  File "C:\Python27\lib\site-packages\requests\api.py", line 44, in request
    return session.request(method=method, url=url, **kwargs)
  File "C:\Python27\lib\site-packages\requests\sessions.py", line 279, in request
    resp = self.send(prep, stream=stream, timeout=timeout, verify=verify, cert=cert, proxies=proxies
)
  File "C:\Python27\lib\site-packages\requests\sessions.py", line 373, in send
    r = adapter.send(request, **kwargs)
  File "C:\Python27\lib\site-packages\requests\adapters.py", line 171, in send
    timeout=timeout
  File "C:\Python27\lib\site-packages\requests\packages\urllib3\connectionpool.py", line 421, in url
open
    body=body, headers=headers)
  File "C:\Python27\lib\site-packages\requests\packages\urllib3\connectionpool.py", line 273, in _ma
ke_request
    conn.request(method, url, **httplib_request_kw)
  File "C:\Python27\lib\httplib.py", line 949, in request
    self._send_request(method, url, body, headers)
  File "C:\Python27\lib\httplib.py", line 990, in _send_request
    self.endheaders(body)
  File "C:\Python27\lib\httplib.py", line 943, in endheaders
    self._send_output(message_body)
  File "C:\Python27\lib\httplib.py", line 810, in _send_output
    self.send(message_body)
  File "C:\Python27\lib\httplib.py", line 775, in send
    self.sock.sendall(str)
  File "C:\Python27\lib\socket.py", line 222, in meth
    return getattr(self._sock,name)(*args)
UnicodeEncodeError: 'ascii' codec can't encode characters in position 143-149: ordinal not in range(
128) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-26T14:08:16.557

我有同样的错误。它的接缝要固定在主[https://github.com/toastdriven/django-haystack](https://github.com/toastdriven/django-haystack)上。所以你应该使用 haystack 2.0 alpha/beta。

# c# - 试图在远程机器的事件日志中执行未经授权的操作

> ID：14785338
> 
> 赞同：0
> 
> 时间：2013-02-09T05:41:02.763
> 
> 标签：c#, .net, windows, authorization, event-log

当我在本地机器上执行以下代码时，它工作正常：

```
string eventLogName = "Security";
string sourceName = "BTHUSB";
string machineName = "Venus";
EventLog eventLog;
eventLog = new EventLog();
eventLog.Log = eventLogName;
eventLog.Source = sourceName;
eventLog.MachineName = machineName;

foreach (EventLogEntry e in eventLog.Entries)
{
    Console.WriteLine("Entry type :{0}",e.EntryType);
} 
```

当我执行上面的代码时，它不执行它会给出一个错误：

> 试图执行未经授权的操作

如何解决？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-09T05:50:02.000

在远程计算机上具有本地管理员权限的用户下运行代码。

# ios - 如何将 UIBezierPath 编码为 SVG？

> ID：14785344
> 
> 赞同：2
> 
> 时间：2013-02-09T05:41:45.733
> 
> 标签：ios, svg, core-graphics, uibezierpath

我对手指绘画/绘图有一个简单的看法。我将图纸作为`UIBezierPath`s 存储在 a 中`NSMutableArray`。现在我想将图纸传输到网络服务，以便在浏览器中显示它们。因此我需要`UIBezierPath`在 SVG 文件中编码我的 s - 因为这是 web 服务的格式。

我现在发现的是[SVGKit](https://github.com/SVGKit/SVGKit/tree/2013base/Source/UIKit%20additions)，它只解码 SVG。有人知道用于编码 SVG 的示例代码、片段或框架吗？

谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-09T06:04:16.250

我还测试过。但使用以下步骤：这不可能吗？

1.UIBezierPath 到 CGPathRef。[UIBezierPath 到 CGPathRef](https://stackoverflow.com/questions/14466313/crash-using-uibezierpath-cgpath-with-cashapelayer-under-arc)

2.使用[MROGeometry](https://github.com/mro/MROGeometry) CGPathRef 到 SVG。

# c++ - 为什么四个大于 63000 个元素的局部数组会导致堆栈溢出？

> ID：14785350
> 
> 赞同：0
> 
> 时间：2013-02-09T05:41:58.817
> 
> 标签：c++, visual-c++

```
#include<stdio.h>
#include<conio.h>
#define DATA_SIZE 65000

int main()
{
     int a[DATA_SIZE],b[DATA_SIZE],c[DATA_SIZE],d[DATA_SIZE];
     for(int i=0;i<DATA_SIZE;i++)
     {
         a[i]=i;
         b[i]=i;
         c[i]=i;
      }
     for(int j=0;j<DATA_SIZE;j++)
     {
         d[i]=a[i]+b[i]+c[i];

     }
     return 0;
} 
```

这个程序给出了堆栈溢出错误，如果我将值增加到`DATA_SIZE`超过 63000。为什么会在这个程序中发生？

如果我想使用`i`超过 20 万的变量值，我该如何实现呢？

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-09T05:46:36.643

您可能正在本地创建那些巨大的数组，因此由于堆栈空间有限，因此会耗尽堆栈空间。

有几个选项可供选择：

*   使用`std::vector`或
*   将它们声明为全局或静态或
*   使用`new`和使用动态内存分配`delete`。

如果您使用最后一个选项，请确保您通过智能指针而不是原始指针使用 RAII。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-10T06:27:55.090

在大多数系统上， An`int`的大小为 4 个字节。四个数组中的每一个都是 65000 个`int`元素，因此使用`65000 * sizeof(int) = 260000`字节。这四个数组总共使用了`260000 * 4 = 1040000`堆栈空间的字节数。这非常接近许多链接器使用的 1MB 默认堆栈大小（您可以在项目配置中更改默认堆栈大小）。这就是为什么如果您尝试增加数组的大小会导致溢出 - 您确实超出了在链接时配置的堆栈大小。

如果要使用大量内存，请使用堆而不是堆栈：

```
#include <stdio.h>
#include <conio.h>
#define DATA_SIZE 65000

int main()
{
     int *a = new int[DATA_SIZE];
     int *b = new int[DATA_SIZE];
     int *c = new int[DATA_SIZE];
     int *d = new int[DATA_SIZE];

     for(int i=0;i<DATA_SIZE;i++)
     {
         a[i]=i;
         b[i]=i;
         c[i]=i;
     }

     for(int j=0;j<DATA_SIZE;j++)
     {
         d[i]=a[i]+b[i]+c[i];
     }

     delete[] a;
     delete[] b;
     delete[] c;
     delete[] d;

     return 0;
} 
```

然后可以将其更改为使用`std::vector`该类为您管理堆内存：

```
#include <stdio.h>
#include <conio.h>
#include <vector>
#define DATA_SIZE 65000

int main()
{
     std::vector<int> a(DATA_SIZE);
     std::vector<int> b(DATA_SIZE);
     std::vector<int> c(DATA_SIZE);
     std::vector<int> d(DATA_SIZE);

     for(int i=0;i<DATA_SIZE;i++)
     {
         a[i]=i;
         b[i]=i;
         c[i]=i;
     }

     for(int j=0;j<DATA_SIZE;j++)
     {
         d[i]=a[i]+b[i]+c[i];
     }

     return 0;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-09T05:52:06.680

在我看来，您为调用堆栈分配了太多变量。如果您打算拥有这样的巨大数组，我建议分配给堆。

您可以使用指针来执行此操作。

# css - 使用 CodeMirror 时，CSS 位置固定不会保持固定

> ID：14785353
> 
> 赞同：0
> 
> 时间：2013-02-09T05:42:26.243
> 
> 标签：css, codemirror

我有一个标题栏，其css如下：

```
header {position: fixed; top: 0; left: 0; z-index: 10; width: 99.9%;} 
```

我正在使用 CodeMirror，有时在编辑时，上面的标题栏会暂时跳转到光标所在的位置，如下图所示。我对 css position:fixed 有什么误解吗，或者 CodeMirror 的一个已知问题，或者其他什么？

![标题栏不固定](../Images/63c135def519dfbc9a987aeea1fb9d34.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-10T21:04:39.237

您可以参考 BootStrap 以获得固定定位以锁定标题的一个很好的示例（不适用于移动设备）

[http://twitter.github.com/bootstrap/](http://twitter.github.com/bootstrap/)

# facebook - Implementing Oauth within a Chrome extension

> ID：14785361
> 
> 赞同：4
> 
> 时间：2013-02-09T05:43:37.457
> 
> 标签：facebook, google-chrome, twitter, oauth

I'm looking to implement OAuth through Google, Twitter, Yahoo and Facebook.

I've seen the Chrome tutorial ([http://smus.com/oauth2-chrome-extensions/](http://smus.com/oauth2-chrome-extensions/)) as well as Boris Smus's library ([http://smus.com/oauth2-chrome-extensions/](http://smus.com/oauth2-chrome-extensions/)), but they don't seem very extensive and each provider has implemented oauth differently. Does anyone know of a better/easier way to do this?

Thanks for any suggestions.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-08-27T16:15:44.810

Chrome introduced the Identity API for OAuth, available in Chrome 29 and later:

[https://developer.chrome.com/apps/app_identity](https://developer.chrome.com/apps/app_identity)

[https://developer.chrome.com/apps/identity](https://developer.chrome.com/apps/identity)

# php - 使用下拉菜单中的值搜索 sql 数据库

> ID：14785374
> 
> 赞同：1
> 
> 时间：2013-02-09T05:45:51.800
> 
> 标签：php, sql, drop-down-menu, search-engine

我是 php 新手，想问一下这段代码。我有一个下拉菜单和一个按钮。我想在 sql 数据库中搜索我在那些下拉菜单中选择的内容。搜索项的 sql 语法是什么使用下拉菜单在 sql 数据库中。默认情况下，我写 --> `SELECT * FROM helpline`。

它应该是 --> `SELECT * FROM helpline WHERE MISC = %**item in drop down menu**%`。

这是我的数据库 = 帮助台

```
Table = helpline

NAME  |    DATE    |  MISC  |
John  | 02/01/2011 | Item 1 |
Mark  | 03/01/2011 | Item 2 | 
```

这是我的代码

```
<form id="form1" name="form1" method="post" action="<?php echo $_SERVER['PHP_SELF']; ?>" >
<label for="namelist"></label>
<select name="namelist" id="namelist">
<option selected="selected" disabled="disabled">PLEASE CHOOSE ONE ITEM:-</option>
<option>Item 1</option>
<option>Item 2</option>
</select>
<input type="submit" name="show" id="show" value="Submit" />
<?php
mysql_select_db("helpdesk",mysql_connect("localhost","root",""))or die (mysql_error());
$query = "SELECT * FROM helpline"; */ This line should select what I choose in drop down menu  /*
$result = mysql_query($query);
while ($row = mysql_fetch_array($result)){
?>
<table border="0" cellpadding="6" cellspacing="6" class="curve">
<thead>
<tr>
<th> <div align="right"><span class="font">NAME</span></div></th>
<th> <div align="right"><span class="font">DATE</span></div></th>
</tr>
</thead>
<tbody>   
<tr>
<th><div align="left"><span class="font"><?php echo $row['name']; ?></span></div></th>
<td><div align="left"><span class="font"><?php echo $row['date']; ?></strong></span></div></td>   
</tr>
</tbody>
&nbsp;
<?php
}
?>
</table>
</form> 
```

因此，当我单击按钮时，它应该根据我在下拉菜单中选择的内容显示 sql 数据库中的所有项目。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-09T07:01:17.997

没有页面刷新你可以这样做

```
<script>
    $(document).ready(function(){
        $("#namelist").change(function(){
            var data = $(this).val();
            $.ajax({
                type:'POST',
                data:'search_value='+data,
                url:'search_process.php',
                success:function(data){
                    $("#result").html(data);
                }               
            });         
        }); 

    });

</script> 
```

HTML 部分

```
<select name="namelist" id="namelist">
<option selected="selected" disabled="disabled">PLEASE CHOOSE ONE ITEM:-</option>
<option>Item 1</option>
<option>Item 2</option>
</select>
<input type="button" name="show" id="show" value="Submit" />

<div id="result"></div> 
```

search_process.php 页面

```
<?php

 // DATABASE CONNECTIVITY

 if(isset($_POST['search_value'])) {
    $val = $_POST['search_value'];

    $query = mysql_query("SELECT * FROM helpline WHERE MISC LIKE %$val%");

    // NOW RUN YOUR QUERY

    $result = '<table border="0" cellpadding="6" cellspacing="6" class="curve">';
    $result .= '<thead>';
    $result .= '<tr>';
    $result .= '<th> <div align="right"><span class="font">NAME</span></div></th>';
    $result .= '<th> <div align="right"><span class="font">DATE</span></div></th>';
    $result .= '</tr>';
    $result .= '</thead>';
while($row = mysql_fetch_array($query)){

    $result .= '<tr>';
    $result .= '<th><div align="left"><span class="font">'.$row['name'].'</span></div></th>';
    $result .= '<td><div align="left"><span class="font">'.$row['date'].'</strong></span></div></td>'; 
    $result .= '</tr>';

}
    $result .= '</table>';
    echo $result;
 }
?> 
```

希望这给出一个想法

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-09T05:56:55.740

您可以通过 php 关联数组访问您发布的表单数据`$_POST[]`，如[PHP 在线手册](http://php.net/manual/en/reserved.variables.post.php)中所述。您可以从中选择`namelist`并将值传递给您的 SQL。

* * *

```
$query = "SELECT * FROM helpline";
if(isset($_POST['namelist'])){
   $dropdown_val = $_POST['namelist'];
   $query .= " WHERE MISC = '$dropdown_val'"; 
} 
```

* * *

但是你真的应该为此使用 ajax，而[jQuery](http://jquery.com/)将是一个很棒的 JavaScript 框架来帮助你完成这个。此外，从 PHP 5.5.0 开始不推荐使用 mysql_* 函数，并将在将来删除。相反，应该使用 MySQLi 或 PDO_MySQL 扩展。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-01-10T12:12:56.483

您的选择选项没有 value 属性

```
your dropdown
<select name="namelist" id="namelist">
<option selected="selected" disabled="disabled">PLEASE CHOOSE ONE ITEM:-</option>
<option>Item 1</option>
<option>Item 2</option>
</select>

change it :
<select name="namelist" id="namelist">
<option selected="selected" disabled="disabled" value="">PLEASE CHOOSE ONE ITEM:-</option>
<option value="Item 1">Item 1</option>
<option value="Item 2">Item 2</option>
</select> 
```

提交后从 $_post["namelist"]

# php - Put results from .load() php file into Var

> ID：14785376
> 
> 赞同：0
> 
> 时间：2013-02-09T05:46:24.260
> 
> 标签：php, jquery, get

I have a page that loads in "get-results.php" which loads the results into a div. This works great. However, I also need to grab a variable from the php file that is being loaded, so that I can re-include it in the .load() url, this way I can have the php file have the previous result for comparison.

```
$(".results").load("get-results.php" + "?userClicked=" + var1 + var2 + "&prevresult=" + theResults); 
```

In the "get-results.php" file, I have set

```
var theResults = "<?php echo $result; ?>"; 
```

Is there a way for me to access "var theResults" from the page that is loading it (outer page, not inner)? How can I get the Var from the file and put it into a Var in the outer file? Any pointers would be great thanks.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-09T05:50:30.133

```
 var theresults;
    $(".results").load("get-results.php" + "?userClicked=" + var1 + var2 + "&prevresult=" + theResults,function() {
        theresults=$(".results").html();
       })); 
```

obviously you have to wait the load is complete to get the new value for theresults. otherwise, you can use `$.get` which seems more appropriate here :

```
 $.get("get-results.php" + "?userClicked=" + var1 + var2 + "&prevresult=" + theResults,function(data) {
         theresults=data;
         $(".results").html(data);
   })) 
```

edit : if you are indeed sending more than this php var, you should send back a json (with your variables to be sent in an array then you `echo json_encode($arrayofvar)` then in the js you'll retrieve a json object of your var in the getJSOn callback

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-09T05:54:43.350

No you can not, i.e if you are sending other things with the variable.

If you are sending only that variable ( which I think you are not), then use the above answer.

Else

try this one:

in php file:

```
var theResults = "<?php echo $result; ?>";
echo "<input type='hidden' value='".$theResults ."' id='theResults'/>"; 
```

in javascript file:

```
$(".results").load("get-results.php" + "?userClicked=" + var1 + var2 + "&prevresult=" + theResults,function() {
        theresults=$("#theResults").val(); alert(theresults);
       })); 
```

# xml - 多 我使用这些代码将我的方法隐藏在我的 XML(WSDL) 文件中： <xsl:template match="wsdl:operation[@name = 'GetCityWeatherByZIP']"><xsl:template match="wsdl:message[@name
问问题
问问题 2013-02-09T05:47:23.757
429 次
This question shows research effort; it is useful and clear
0
This question does not show any research effort; it is unclear or not useful
Bookmark this question.
Show activity on this post.
我使用这些代码将我的方法隐藏在我的 XML(WSDL) 文件中：
<xsl:template match=" wsdl:operation[@name="GetCityWeatherByZIP" ]"=""><xsl:template match="wsdl:message[@name = 'GetCityWeatherByZIPSoapIn']"><xsl:template match="wsdl:message[@name = 'GetCityWeatherByZIPSoapOut']"><xsl:template match="wsdl:message[@name = 'GetCityWeatherByZIPHttpGetIn']"><xsl:template match="wsdl:message[@name = 'GetCityWeatherByZIPHttpGetOut']"><xsl:template match="wsdl:message[@name = 'GetCityWeatherByZIPHttpPostIn']"><xsl:template match="wsdl:message[@name = 'GetCityWeatherByZIPHttpPostOut']"><xsl:template match="s:element[@name = 'GetCityWeatherByZIP']"><xsl:template match="s:element[@name = 'GetCityWeatherByZIPResponse']">现在我只想使用一个条件来隐藏所有这些，而不是多个 if。实际上，我在我的 .xslt 文件中使用了这几行来隐藏我的方法从一个特殊的 IP 地址： <xsl:template match="wsdl:operation[@name = 'GetCityWeatherByZIP']"><xsl:variable name="rcaTrimmed" select="substring-before(substring-after($remoteClientAddress, '/'), ':')"><xsl:if test="not($rcaTrimmed = '192.168.3.74')"><xsl:copy><xsl:apply-templates select="@* | node()"></xsl:apply-templates></xsl:copy></xsl:if></xsl:variable></xsl:template>我想将我** <xsl:template match**的所有内容添加到一行中，然后将它们全部隐藏在一个特殊的="" ip="" 地址中，我不想为我的所有方法一一编写这些代码。我怎样才能达到这个目的？="" 您是否只想隐藏@name以“getcityweatherbyzip”开头的所有内容？如果是这样，您可以只使用这个模板：="" <xsl:template="" match="*[starts-with(@name, 'GetCityWeatherByZIP')]"><xsl:variable name="rcaTrimmed" select="substring-before(substring-after($remoteClientAddress, '/'), ':')"><xsl:if test="not($rcaTrimmed = '192.168.3.74')"><xsl:copy><xsl:apply-templates select="@* | node()"></xsl:apply-templates></xsl:copy></xsl:if></xsl:variable></xsl:template>我还建议将rcaTrimmed变量的定义移到模板之外，因此只需要计算一次： <xsl:variable name="rcaTrimmed" select="substring-before(substring-after($remoteClientAddress, '/'), ':')"><xsl:template match="*[starts-with(@name, 'GetCityWeatherByZIP')]"><xsl:if test="not($rcaTrimmed = '192.168.3.74')"><xsl:copy><xsl:apply-templates select="@* | node()"></xsl:apply-templates></xsl:copy></xsl:if></xsl:template>xmlxsltxsdwsdlmule 4 1 回答 1 This answer is useful 1 您是否只想隐藏@name以“GetCityWeatherByZIP”开头的所有内容？如果是这样，您可以只使用这个模板： <xsl:template match="*[starts-with(@name, 'GetCityWeatherByZIP')]"><xsl:variable name="rcaTrimmed" select="substring-before(substring-after($remoteClientAddress, '/'), ':')"><xsl:if test="not($rcaTrimmed = '192.168.3.74')"><xsl:copy><xsl:apply-templates select="@* | node()"></xsl:apply-templates></xsl:copy></xsl:if></xsl:variable></xsl:template>我还建议将rcaTrimmed变量的定义移到模板之外，因此只需要计算一次： <xsl:variable name="rcaTrimmed" select="substring-before(substring-after($remoteClientAddress, '/'), ':')"><xsl:template match="*[starts-with(@name, 'GetCityWeatherByZIP')]"><xsl:if test="not($rcaTrimmed = '192.168.3.74')"><xsl:copy><xsl:apply-templates select="@* | node()"></xsl:apply-templates></xsl:copy></xsl:if></xsl:template>于 2013-02-09T05:53:38.767 回答 Related 1 search - 如何在 Google 自定义搜索中将开始参数更改为第 12 页及以上 2 parsing - 左结合运算符的 BNF 文法 1 vba - 在 Word 中更新部分超链接 2 sql - 参数化语句是否实际上更改了存储在数据库中的数据以防止 SQL 注入？ 1 javascript - 在 Javascript 中，是否可以在仅取消隐藏 div 而不是加载新页面时为选项卡提供活动样式？ 1 r - 如何处理 R 或 ArcGIS 中多边形 shapefile 中的“孤立洞”？ 1 magento - 重写发票模型 1 java - 将 JSON 对象反序列化为 List 不在 HTTPHandler 中工作 2 c - 为什么小于表达式转换为小于或等于 gcc 中的表达式 2 jquery - 运行 AJAX 调用时 GIF 停止工作 Reference php × 1429865 c/c++ × 756500 nginx × 49975 mongodb × 159057 mybatis × 3233 anaconda × 13410 pycharm × 14671 python × 1902243 vscode × 56040 docker × 110988 github × 49000 flask × 49129 ffmpeg × 24037 jmeter × 16910 matplotlib × 63493 bootstrap × 54641</xsl:variable></xsl:variable></xsl:template></xsl:template></xsl:template></xsl:template></xsl:template></xsl:template></xsl:template></xsl:template></xsl:template></xsl:template>

> ID：14785382
> 
> 赞同：0
> 
> 时间：
> 
> 标签：xml, xslt, xsd, wsdl, mule

我使用这些代码将我的方法隐藏在我的 XML(WSDL) 文件中：

```
 <xsl:template match="wsdl:operation[@name = 'GetCityWeatherByZIP']" />  
<xsl:template match="wsdl:message[@name = 'GetCityWeatherByZIPSoapIn']" /> 
<xsl:template match="wsdl:message[@name = 'GetCityWeatherByZIPSoapOut']" /> 

<xsl:template match="wsdl:message[@name = 'GetCityWeatherByZIPHttpGetIn']" /> 
<xsl:template match="wsdl:message[@name = 'GetCityWeatherByZIPHttpGetOut']" /> 

<xsl:template match="wsdl:message[@name = 'GetCityWeatherByZIPHttpPostIn']" /> 
<xsl:template match="wsdl:message[@name = 'GetCityWeatherByZIPHttpPostOut']" /> 

<xsl:template match="s:element[@name = 'GetCityWeatherByZIP']" /> 
<xsl:template match="s:element[@name = 'GetCityWeatherByZIPResponse']" /> 
```

现在我只想使用一个条件来隐藏所有这些，而不是多个 if。实际上，我在我的 .xslt 文件中使用了这几行来隐藏我的方法从一个特殊的 IP 地址：

```
 <xsl:template match="wsdl:operation[@name = 'GetCityWeatherByZIP']">
   <xsl:variable name="rcaTrimmed" 
          select="substring-before(substring-after($remoteClientAddress, '/'), ':')" />
   <xsl:if test="not($rcaTrimmed = '192.168.3.74')">
      <xsl:copy>
         <xsl:apply-templates select="@* | node()" />
      </xsl:copy>
   </xsl:if>
</xsl:template> 
```

我想将我`**<xsl:template match**`的所有内容添加**到一行**中，然后将它们全部隐藏在一个特殊的 IP 地址中，我不想为我的所有方法一一编写这些代码。我怎样才能达到这个目的？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-09T05:53:38.767

您是否只想隐藏`@name`以“GetCityWeatherByZIP”开头的所有内容？如果是这样，您可以只使用这个模板：

```
<xsl:template match="*[starts-with(@name, 'GetCityWeatherByZIP')]">
   <xsl:variable name="rcaTrimmed" 
          select="substring-before(substring-after($remoteClientAddress, '/'), ':')" />
   <xsl:if test="not($rcaTrimmed = '192.168.3.74')">
      <xsl:copy>
         <xsl:apply-templates select="@* | node()" />
      </xsl:copy>
   </xsl:if>
</xsl:template> 
```

我还建议将`rcaTrimmed`变量的定义移到模板之外，因此只需要计算一次：

```
<xsl:variable name="rcaTrimmed" 
          select="substring-before(substring-after($remoteClientAddress, '/'), ':')" />

<xsl:template match="*[starts-with(@name, 'GetCityWeatherByZIP')]">
   <xsl:if test="not($rcaTrimmed = '192.168.3.74')">
      <xsl:copy>
         <xsl:apply-templates select="@* | node()" />
      </xsl:copy>
   </xsl:if>
</xsl:template> 
```

# java - 使用 Hibernate 调用 MySQL 存储过程时分页不起作用

> ID：14785384
> 
> 赞同：1
> 
> 时间：2013-02-09T05:47:36.740
> 
> 标签：java, spring, hibernate, hibernate-mapping

我有一个 MySQL 存储过程[单击此处获取存储过程](https://stackoverflow.com/questions/14352987/how-to-write-hibernate-mapping-file-for-a-stored-procedure)并使用 Hibernate 调用该过程

休眠代码：

```
int ps=5;

    SQLQuery query=session2.createSQLQuery("CALL AbsentReportproc(:_fromdate,:_todate)");
            query.setParameter("_fromdate", fromdate);
            query.setParameter("_todate", todate);
            query.setFirstResult(ps*(pno-1));
            query.setMaxResults(ps);
             List<Object[]> empList=query.list(); 
```

当我执行上面的代码时，我会显示以下错误消息：

```
org.hibernate.exception.SQLGrammarException: could not execute query
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'limit 5' at line 1 
```

**注意：如果我从代码中删除以下语句，我将在单个 jsp 页面中显示所有记录**

**query.setMaxResults(ps);**

任何人都可以给我解决方案是什么问题？

谢谢...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-09T06:58:58.427

It is clearly a jdbc driver error that you are using;

Also try this with `setFetchSize` , and if this doesn't work also then,

I would suggest not to get the details out of the query in chunks if you want to display them all and there is not much data and you should rather store all the data without calling this method `query.setMaxResults(ps);` into a collection.

And when you want to display that data in pages, then get `subList` in case you are using `List`, to break the data at the application level and then display it on your view that is `jsp` in this case.

# c - 在 c 中读取 jpeg 文件时遇到问题

> ID：14785385
> 
> 赞同：1
> 
> 时间：2013-02-09T05:47:57.043
> 
> 标签：c

我目前坚持能够准备一个 jpeg 文件。看起来我很接近，但无论出于何种原因，该文件没有读取 jpeg 文件的不同签名。当然，我不确定我是否做错了什么或笨拙或什么。这是我目前拥有的代码：

```
int main (void)
{
    typedef unsigned char BYTE ;
    char image_name[8]; 
    int counter=1;
    FILE* fp = fopen("card.raw", "r");
    FILE *outfile=NULL;
    int size=512;
    BYTE buffer[size];
    while (feof(fp) == false) 
    {
        fread(buffer,size,sizeof(unsigned char),fp);
        if (fp== NULL)
        {
            printf("Could not open file \n");
            return 1;
        }
        if(buffer[0]==255 && buffer[1]== && || buffer[2]==255 && (buffer [3]==224 && buffer[3]==225))
        {  
            for(int i=0; i<51; ++i){        
                sprintf(image_name, "%.3d.jpg", counter);        
                outfile= fopen(image_name, "w");
                fwrite(buffer,sizeof(buffer),1,outfile); 
                counter=counter+1;
                if (outfile == NULL)              
                {                   
                    printf("could not create jpeg file\n");                   
                    return 2;              
                }      
            } 
        }
        fclose(fp);
        fclose(&outfile);
        return 0;
    } 
```

现在，目前我只是完成这项任务的一部分。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-09T05:53:50.867

的语法`if(buffer[0]==255 && buffer[1]== && ||`不正确。

`buffer[1]==`在而不是之后应该有一些价值`&&`。

是帖子里的错别字吗？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-09T05:53:14.083

您以*文本模式*打开文件，但您应该以*二进制模式*打开它：

```
fopen("card.raw", "rb");  /* Notice the `b` for binary mode */ 
```

打开写作时也是如此。

* * *

您也只读取一个*字符*，然后检查多个：

```
/* This reads a single byte (`sizeof(unsigned char)` == 1) */
fread(buffer,size,sizeof(unsigned char),fp);

/* Here you check multiple bytes in the buffer,
 * even though you only have read a single byte
 */
if(buffer[0]==255 && buffer[1]== && || buffer[2]==255 && (buffer [3]==224 && buffer[3]==225)) 
```

另请注意，表达式`buffer [3]==224 && buffer[3]==225`永远*不会*为真。

# java - 如何从java中的字符串中提取子字符串

> ID：14785388
> 
> 赞同：1
> 
> 时间：2013-02-09T05:49:32.457
> 
> 标签：java, regex, stanford-nlp

我对 Java 不太有信心，所以我需要一些帮助来从字符串中提取多个子字符串。字符串如下所示。

我有一个文本文件，其中可能包含数千个类似的带有 POS 标记的行，我需要从中提取原始文本。我尝试使用标记器，但并没有真正得到我想要的结果。我尝试使用模式匹配器，我有正则表达式的问题。

```
String="I_PRP recently_RB purchased_VBD this_DT camera_NN"; 
```

我想得到输出=我最近购买了这台相机。

我用

正则表达式：`[\/](.*?)\s\b`

但它不起作用。请帮助我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-09T06:22:40.330

如果此后缀始终为大写字母，您似乎附加了一个标签来指示单词类型（例如名词、动词或代词），那么在您的`replaceAll`

```
s = s.replaceAll("_[A-Z]+(?=(\\s|$))", ""); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-09T05:56:12.193

尝试

```
 String s= "I_PRP recently_RB purchased_VBD this_DT camera_NN";
    s = s.replaceAll("_\\w+(?=(\\s|$))", "");
    System.out.println(s); 
```

印刷

```
I recently purchased this camera 
```

# objective-c - 将 UITextField、UITextView 中的键盘作为 UIScrollView 的子视图解散？

> ID：14785395
> 
> 赞同：3
> 
> 时间：2013-02-09T05:50:21.350
> 
> 标签：objective-c, xcode, uiscrollview

我有一个`UIScrollView`添加为子视图的应用程序`UIView`。我已经添加了`UITextField`，`UITextview`作为`UIScrollView`.I 的子视图。当我在滚动视图中点击时，我想关闭键盘。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-02-09T13:06:44.380

只需添加`UITapGestureRecognizer`

```
- (void)viewDidLoad
{
    [super viewDidLoad];
    UITapGestureRecognizer *singleTap = [[UITapGestureRecognizer alloc] initWithTarget:self action:@selector(singleTapGestureCaptured:)];
    [scr addGestureRecognizer:singleTap];
}

- (void)singleTapGestureCaptured:(UITapGestureRecognizer *)gesture
{
    //Get touch point
    CGPoint touchPoint=[gesture locationInView:scr];

    //Hide keyBoard
    [self.view endEditing:YES];
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-02-11T16:34:32.723

在 iOS 7 中，您可以轻松实现这一点。

```
scrollView.keyboardDismissMode = UIScrollViewKeyboardDismissModeInteractive; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-09T05:50:21.350

试试这个，

```
- (void)viewDidLoad
{
   [super viewDidLoad];

      UITapGestureRecognizer *tapGesture = [[UITapGestureRecognizer alloc] initWithTarget:self action:@selector(dismissKeyboard)];
      tapGesture.cancelsTouchesInView = NO;
      [scrollView addGestureRecognizer:tapGesture];
      [tapGesture release];
}
-(void)dismissKeyboard
{
    [txtNotes resignFirstResponder];
    [textView resignFirstResponder];
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-11-01T19:59:26.710

当我将手势添加到 的子类时`UIScrollView`，我遇到了视图树中的各种手势相互干扰的问题，例如能够单击子视图、滚动视图以及在所有情况下都关闭键盘。我想出了这个解决方案，它可以从超类`UIScrollView`或`UIViewController`.

该类`DismissKeyboardTapGesture`使用 ARC，适用于视图下的任何文本字段，并且不会接管来自按钮等子视图的任何点击。还利用 iOS7 滚动效果来关闭键盘。

从 UISScrollView 超类设置：

```
 _dismissKeyboard = [[DismissKeyboardTapGesture alloc] initWithView:self]; 
```

或来自 UIViewController：

```
 _dismissKeyboard = [[DismissKeyboardTapGesture alloc] initWithView:self.view]; 
```

这是课程：

```
@interface DismissKeyboardTapGesture : NSObject <UIGestureRecognizerDelegate>

@end

@implementation DismissKeyboardTapGesture

- (id)initWithView:(UIView *)view
{
    self = [super init];
    if (self) {
        UITapGestureRecognizer *singleTap = [[UITapGestureRecognizer alloc] initWithTarget:self action:@selector(singleTap:)];
        singleTap.cancelsTouchesInView = NO;
        singleTap.delegate = self;
        [view addGestureRecognizer:singleTap];

        if ([view respondsToSelector:@selector(setKeyboardDismissMode:)]) {
            // Bonus effect to dismiss keyboard by scrolling
            ((UIScrollView *)view).keyboardDismissMode = UIScrollViewKeyboardDismissModeInteractive;
        }
    }
    return self;
}

- (BOOL)gestureRecognizer:(UIGestureRecognizer *)gestureRecognizer shouldRecognizeSimultaneouslyWithGestureRecognizer:(UIGestureRecognizer *)otherGestureRecognizer
{
    // Don't stop any existing gestures in our view from working
    if (otherGestureRecognizer.view == gestureRecognizer.view) {
        return YES;
    }
    return NO;
}

- (void)singleTap:(UIGestureRecognizer*)gestureRecognizer
{
    // Close keyboard for any text edit views that are children of the main view
    [gestureRecognizer.view endEditing:YES];
}

@end 
```

# android - 在 Visual C++ 2010 中使用 vs-android 运行 Cocos2d-x

> ID：14785397
> 
> 赞同：2
> 
> 时间：2013-02-09T05:50:28.840
> 
> 标签：android, cocos2d-x, vs-android

我已经用我的 Visual C++ 2010 Express 设置了我的 vs-android。我现在可以在我的 android 设备上运行 vs-android 的示例项目。

我按照`user1201239`这个问题[在 Windows 上安装 Cocos-2dx](https://stackoverflow.com/questions/11588955/installing-cocos-2dx-on-windows/12643567#12643567)以设置 vs-android/Visual C++ 2010 中的答案。

这是我的问题。在此设置中集成 cocos2d-x 的下一步是什么？

# c# - XAP 文件如何包含多种语言

> ID：14785402
> 
> 赞同：3
> 
> 时间：2013-02-09T05:51:28.177
> 
> 标签：c#, windows-phone-7

众所周知，当我们向 WP Dev Center 提交 .XAP 时，一个 WP 应用程序可以包含多种语言。

现在，我找到了 MSDN 和其他文档，但从未找到 .XAP 可以包含多种语言的方式。

`Supported Cultures`我通过VS2012构建了WP应用，并在页面中选择了多种语言`Properties`，但是当我将其提交给WP Dev Center时发现这里只有英语文化。

如何为我的 WP 应用程序添加多语言支持？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-06-11T12:45:26.763

您是否尝试过使用多语言应用工具包？

看看[这个](http://developer.nokia.com/community/wiki/Adding_multilingual_support_to_your_Windows_Phone_application_using_the_Multilingual_App_Toolkit)！

希望能帮助到你

# iphone - xcode中的不完整实现警告

> ID：14785405
> 
> 赞同：-3
> 
> 时间：2013-02-09T05:52:07.587
> 
> 标签：iphone, xcode, uiviewcontroller

我每个都有四到五个视图控制器，它显示不完整的实现下面是一个视图控制器

```
#import <UIKit/UIKit.h>
#import <QuartzCore/QuartzCore.h>
#import "CereniaAppDelegate.h"

@interface MainViewController : UIViewController  <UITextFieldDelegate, UITableViewDelegate, UITableViewDataSource>{
    IBOutlet UIButton*homeButton;
    IBOutlet UIButton*economicDataButton;
    IBOutlet UIButton*riskButton;
    IBOutlet UIButton*financialImpactButton;
    IBOutlet UIButton*probabilitiesButton;
    IBOutlet UIButton*enterButton;
}

-(IBAction)enterButtonAction;
-(IBAction)homeButtonAction;
-(IBAction)economicDataButtonAction;
-(IBAction)riskButtonAction;
-(IBAction)financialImpactButtonAction;
-(IBAction)probabilitiesButtonAction;

@end 
```

实施

```
#import "MainViewController.h"
#import "EconomicDataViewController.h"
#import "ProbabilitiesViewController.h"
#import "RiskViewController.h"
#import "FinancialImpactViewController.h"

@implementation MainViewController

-(IBAction)homeButtonAction{

}

-(IBAction)enterButtonAction{   
    EconomicDataViewController*targetContrlloer=[[EconomicDataViewController alloc] init];
    [self.navigationController pushViewController:targetContrlloer animated:YES];
}

-(IBAction)economicDataButtonAction{
    EconomicDataViewController*targetContrlloer=[[EconomicDataViewController alloc] init];
    [self.navigationController pushViewController:targetContrlloer animated:YES];
}

-(IBAction)riskButtonAction{
    RiskViewController*targetContrlloer=[[RiskViewController alloc] init];
    [self.navigationController pushViewController:targetContrlloer animated:YES];
}

-(IBAction)financialImpactButtonAction{
    FinancialImpactViewController*targetContrlloer=[[FinancialImpactViewController alloc] init];
    [self.navigationController pushViewController:targetContrlloer animated:YES];
}

-(IBAction)probabilitiesButtonAction{
    ProbabilitiesViewController*targetContrlloer=[[ProbabilitiesViewController alloc] init];
    [self.navigationController pushViewController:targetContrlloer animated:YES];
}

- (BOOL)textFieldShouldReturn:(UITextField *)textField {
    return YES;
}

// Implement viewDidLoad to do additional setup after loading the view, typically from a nib.
- (void)viewDidLoad {
    [super viewDidLoad];
}

- (BOOL)shouldAutorotateToInterfaceOrientation(UIInterfaceOrientation)interfaceOrientation {       
    // return YES;
    return UIInterfaceOrientationIsLandscape(interfaceOrientation); 
}

- (void)didReceiveMemoryWarning {
   [super didReceiveMemoryWarning];
}

- (void)viewDidUnload {
    [super viewDidUnload];
}

- (void)dealloc {   
    [super dealloc];

    [homeButton release];
    [economicDataButton release];
    [riskButton release];
    [probabilitiesButton release];
    [enterButton release];
}

@end 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-09T05:56:29.913

这是因为您没有实现 UITextFieldDelegate、UITableViewDelegate、UITableViewDataSource 的委托方法。这样做，错误应该消失。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-09T06:13:18.820

创建所有 UIButtons 的属性并在 .m 文件中 @synthesize 。

像：

```
MainViewController.h

@interface MainViewController : UIViewController  <UITextFieldDelegate, UITableViewDelegate, UITableViewDataSource>{
    UIButton*homeButton;

}

@property(nonatomic,retain) IBOutlet UIButton *homeButton; 
```

```
MainViewController.m

@synthesize homeButton; 
```

# maven - 无法正确配置 Maven 依赖项

> ID：14785409
> 
> 赞同：1
> 
> 时间：2013-02-09T05:53:34.490
> 
> 标签：maven, maven-2, maven-3

我在 pom 中有一个具有以下依赖项的网络应用程序：

```
<dependency>
    <groupId>javax</groupId>
    <artifactId>javaee-web-api</artifactId>
    <version>6.0</version>
    <scope>provided</scope>
</dependency>
<dependency>
    <groupId>junit</groupId>
    <artifactId>junit</artifactId>
    <version>4.11</version>
    <scope>test</scope>
</dependency>
<dependency>
    <groupId>org.apache.derby</groupId>
    <artifactId>derby</artifactId>
    <version>10.9.1.0</version>
    <scope>test</scope>
</dependency>
<dependency>
    <groupId>org.hibernate</groupId>
    <artifactId>hibernate-entitymanager</artifactId>
    <version>4.1.9.Final</version>
    <scope>test</scope>
</dependency> 
```

使用此配置，我在 junit 测试中收到以下错误：

> java.lang.ClassFormatError：类文件 javax/persistence/Persistence 中非本机或抽象方法中的缺失代码属性

[我在这里](http://www.mkyong.com/hibernate/java-lang-classformaterror-absent-code-attribute-in-method-that-is-not-native-or-abstract-in-class-file/)找到了有关此错误的一些信息。因此，我删除了“javaee-web-api”依赖项。

之后我得到编译错误'包 javax.persistence 不存在'，等等。

因此，我将“hibernate-entitymanager”的范围更改为默认（编译）。

工作 pom（依赖项）如下所示：

```
<dependency>
    <groupId>junit</groupId>
    <artifactId>junit</artifactId>
    <version>4.11</version>
    <scope>test</scope>
</dependency>
<dependency>
    <groupId>org.apache.derby</groupId>
    <artifactId>derby</artifactId>
    <version>10.9.1.0</version>
    <scope>test</scope>
</dependency>
<dependency>
    <groupId>org.hibernate</groupId>
    <artifactId>hibernate-entitymanager</artifactId>
    <version>4.1.9.Final</version>
</dependency> 
```

现在一切正常，除了生成的战争包含我不想要的休眠 jar。

任何建议如何解决这个问题，正确的maven pom？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-09T05:58:34.283

如果您正在使用应用程序服务器，则可以使用（仍然是特定于供应商的）JPA API 替换休眠依赖项，该 API 具有提供的范围，如下所示（示例是带有休眠的 JBoss）：

```
<dependency>
    <groupId>org.hibernate.javax.persistence</groupId>
    <artifactId>hibernate-jpa-2.0-api</artifactId>
    <scope>provided</scope>
</dependency> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-10T07:22:09.103

最后，我使用配置文件使用相同的依赖项集完成了这项工作。这是pom的相关部分：

```
<profiles>
    <profile>
        <id>test</id>
        <dependencies>
            <dependency>
                <groupId>org.hibernate</groupId>
                <artifactId>hibernate-entitymanager</artifactId>
                <version>4.1.9.Final</version>
            </dependency>
        </dependencies>
    </profile>
    <profile>
        <id>package</id>
        <dependencies>
            <dependency>
                <groupId>javax</groupId>
                <artifactId>javaee-web-api</artifactId>
                <version>6.0</version>
                <scope>provided</scope>
            </dependency>
            <dependency>
                <groupId>org.hibernate</groupId>
                <artifactId>hibernate-entitymanager</artifactId>
                <version>4.1.9.Final</version>
                <scope>test</scope>
            </dependency>
        </dependencies>
    </profile>
</profiles>
<dependencies>
    <dependency>
        <groupId>junit</groupId>
        <artifactId>junit</artifactId>
        <version>4.11</version>
        <scope>test</scope>
    </dependency>
    <dependency>
        <groupId>org.apache.derby</groupId>
        <artifactId>derby</artifactId>
        <version>10.9.1.0</version>
        <scope>test</scope>
    </dependency>
</dependencies> 
```

现在，我使用以下命令进行打包和测试，

> mvn -Ptest 测试
> 
> mvn -Ppackage package -DskipTests

**-DskipTests**是必需的，否则，包目标会触发“测试”，导致与我开始时相同的错误，因为它使用为“包”配置的相同依赖项集。

> java.lang.ClassFormatError：类文件 javax/persistence/Persistence 中非本机或抽象方法中的缺失代码属性

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-12-27T19:42:56.987

我遇到了同样的问题，并且能够通过向 Maven pom.xml 文件添加几个依赖项来解决它。 [有关更多详细信息，请参阅此答案](https://stackoverflow.com/a/41350852/1565374)。

# java - java将句子拆分为单词

> ID：14785412
> 
> 赞同：2
> 
> 时间：2013-02-09T05:54:17.360
> 
> 标签：java

如何将一个`array`句子拆分成一个`array of array`单词？如果我可以使用 .. 拆分句子`split()`，但它只使用单个数组。但我需要做多个数组..

例如：

```
sentences[0]="one sentence"
sentences[1]=" one sen...." 
```

我需要像这样分开...

```
word[0][0]="one word" //first row first word
word[0][1]="second word"
word[0][2]="third word"
word[1][0]="..."//second row first word** 
```

任何人都可以帮助我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-09T06:05:16.803

试试这样的..

```
for(i=0;i<someLength;i++){
word[i] = sentence[i].split("yourDelimiter");
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-09T06:15:42.160

```
String[] sentences = ...
String[][] words = new String[sentences.length][];

for(int i = 0; i < sentences.length; i++)
{
    words[i] = sentences[i].split("\\s+");
} 
```

# algorithm - 我们可以将 Bellman-Ford 算法应用于无向图吗？

> ID：14785413
> 
> 赞同：21
> 
> 时间：2013-02-09T05:54:28.063
> 
> 标签：algorithm, data-structures, graph, graph-algorithm, bellman-ford

我知道贝尔曼-福特算法适用于有向图。它适用于无向图吗？似乎对于无向图，它将无法检测循环，因为平行边将被视为循环。这是真的还是假的？可以应用算法吗？

* * *

## 回答 #1

> 赞同：55
> 
> 时间：2013-02-11T00:59:27.047

事实上，任何无向图也是有向图。

您只需指定任何边 {u, v} 两次 (u, v) 和 (v, u)。

但是不要忘记，这也意味着任何具有负权重的边都将被视为一个循环。由于 Bellman-Ford 算法仅适用于不包含任何具有负权重的循环的图，这实际上意味着您的无向图不得包含任何具有负权重的边。

如果使用 Bellmann-Ford 不是很好。

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2018-04-25T12:41:53.730

Bellman-Ford不适用于在包含负循环的图上找到最短路径，但它在图上找到最短路径并且可以检测图是否包含负循环，尽管它不会找到最短路径，因为不存在这样的路径.

# javascript - 使用 javascript 注销 Github

> ID：14785415
> 
> 赞同：1
> 
> 时间：2013-02-09T05:54:44.350
> 
> 标签：javascript, authentication, github, google-chrome-extension

我正在开发一个 chrome 扩展，它总是有一个登录到 GitHub 的当前用户。为了切换用户，我想在我的扩展程序中有一个注销按钮，用于注销当前用户。

我试过简单

```
chrome.windows.create({'url':'https://github.com/logout'}) 
```

这将我带到 GitHub 注销页面，但仍然确认用户必须单击才能成功注销。我希望能够在后台或至少让用户注销，而无需他们点击额外的确认。

有什么想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-09T22:02:09.603

您可以检查此处提到的两种技术之一是否适合您：

*   “[如何自动点击确认框？](https://stackoverflow.com/a/11575047/6309) ”：重写`window.confirm`函数
*   “[自动单击 JavaScript 确认对话框](https://stackoverflow.com/a/1287685/6309)”：在覆盖/抑制原始函数`showConfirm()`的标题顶部插入虚拟函数。`Browser.Document``showConfirm()`

即使在 Github 确认页面中方法的名称不同，这个想法仍然存在：如果您可以以某种方式覆盖/静音确认方法，您可以跳过该步骤。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-09T22:48:24.970

工作解决方案

当我从外部页面调用[https://github.com/logout时，它显示了一个带有提交/确认按钮的表单以注销。](https://github.com/logout)该表单没有 id 或类，但我设法使用

```
 document.getElementsByTagName('form')[1].submit(); 
```

Of course, this isn't ideal since it will break if github changes the layout of their logout page. Also, there is a delay between when the page is loaded and the form is submitted which isn't very user friendly. I'll update here if I find a better solution

# scikit-learn - sklearn LogisticRegression 不接受 csr_matrix

> ID：14785417
> 
> 赞同：3
> 
> 时间：2013-02-09T05:55:07.080
> 
> 标签：scikit-learn, scipy, logistic-regression

我是新手，我必须根据 De Pauw 和 Wagacha (1998) 方法（基本上是 char n-gram 上的 maxent）对词典中的单词进行分类。数据非常大（500 000 个条目和数百万个 n-gram）。所以我必须将样本加载为稀疏矩阵。但是我遇到了一个问题。

`sklearn.linear_model.LogisticRegression().fit(X,y)`说它不接受 scipy.sparse.csr.csr_matrix 训练向量。我收到了这个错误

> ```
> Traceback (most recent call last):
>   File "test-LR-4.py", line 8, in <module>
>     clf.fit(X,y)
>   File "/usr/lib/pymodules/python2.7/sklearn/svm/base.py", line 441, in fit
>     % type(X))
> ValueError: Training vectors should be array-like, not <class 'scipy.sparse.csr.csr_matrix'> 
> ```

对于以下脚本：

```
from sklearn.linear_model import LogisticRegression
import numpy as np
import scipy.sparse as sp
X = sp.csr_matrix([[0, 1, 2],[1, 2, 3],[3, 2, 1]])
y = np.array(range(3))
clf=LogisticRegression(dual=True)
clf.fit(X,y) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2019-07-05T11:21:23.797

正如@Andreas 和@Fred Foo 在评论中提到的，升级`sklearn`版本（> 0.13）将解决问题。

# objective-c - 如何允许我的 NSTableView 委托/数据源句柄复制/粘贴/等

> ID：14785418
> 
> 赞同：1
> 
> 时间：2013-02-09T05:55:28.360
> 
> 标签：objective-c, nstableview, nspasteboard

我有一个`NSTableView`我希望能够突出显示 1 行或更多行的地方，然后点击`delete`键删除它们，或者点击`⌘</kbd>+`C` to copy them to the pasteboard.`

我找到了一个将 NSTableView 子类化的建议，然后编写一个方法

`-(void)copy:(id)sender`

文档说`NSTableView`很少需要子类化。相反，使用 dataSource 或委托，或子类化子组件。委托和数据源协议不处理菜单命令或键盘快捷键。如果我尝试子类化，我会遇到一个问题，即子类需要向委托发送消息，但我的自定义方法不是协议的一部分，因此编译器会抱怨。与其对抗设计模式，我更愿意知道解决这个问题的“正确”方法是什么。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-09T19:11:52.303

我通过将`NSTableView`' 父窗口的委托声明为`NSTableView`' 控制器（也是它的`dataSource`and `delegate`）解决了我的问题。现在它接收菜单操作作为响应者链的一部分。

# javascript - 使用一个正则表达式匹配字符串中的内容

> ID：14785425
> 
> 赞同：0
> 
> 时间：2013-02-09T05:56:22.567
> 
> 标签：javascript, regex

我正在寻找一种正则表达式匹配字符串的方法（双引号后跟一个或多个字母、数字或空格，后跟另一个双引号）。例如，如果输入是`var s = "\"this is a string\""`，我想创建一个正则表达式来匹配这个字符串并产生 [""this is a string""] 的结果。

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-09T05:58:24.960

使用[`RegExp`构造函数](https://developer.mozilla.org/en-US/docs/JavaScript/Guide/Regular_Expressions#Creating_a_Regular_Expression)。

```
var s = "this is a string";
var re = new RegExp(s); 
```

请注意，您可能需要[引用输入字符串](https://stackoverflow.com/a/2593661/139010)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-09T06:01:57.187

这应该做你需要的。

```
s =~ /"[^"]*"/ 
```

正则表达式匹配一个双引号，后跟一些非引号，然后是一个引号。如果您的字符串中有引号，您将遇到问题，如下所示：

```
var s = "\"I love you,\" she said" 
```

然后你需要一些像这样更复杂的东西：

```
s =~ /"([^"]|\\")*"/ 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-09T16:22:56.773

我只需要一个模式来匹配一个双引号，后跟一个或多个字符（字母、数字、空格），然后是另一个双引号，所以这对我来说是这样的：

`/"[^"]*"/`

# android - 删除数据库后如何更新列表视图？

> ID：14785432
> 
> 赞同：-2
> 
> 时间：2013-02-09T05:57:45.357
> 
> 标签：android

```
ListView lv = (ListView) findViewById(R.id.list);

lv.refreshDrawableState(); 
```

不管用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-09T06:02:23.113

从您传入适配器的列表/字符串 [] 等中清除其所有数据，并通知您的适配器类对象的调用 notifyDataSetChange()。

```
youlist.clear();
yourAdapter.notifyDataSetChanged(); 
```

# android - Android NDK 不支持头文件？

> ID：14785434
> 
> 赞同：2
> 
> 时间：2013-02-09T05:58:15.047
> 
> 标签：android, c, android-ndk

此页面有为 Android 编译 iwlist 和其他命令的说明： [https ://code.google.com/p/haggle/wiki/WirelessTools](https://code.google.com/p/haggle/wiki/WirelessTools)

不幸的是，我遇到了与该页面上的评论者相同类型的错误：

```
Android NDK: WARNING: Unsupported source file extensions in /home/simon/Android-SDK/wireless_tools.29/Android.mk for module iwlist Android NDK: iwlib.h 
```

当我从 Android.mk 的 LOCAL_SRC_FILES 中删除 iwlib.h 时，它没有显示该警告，但它仍然失败并出现相同的错误：

```
./iwlist.c:633:7: error: 'IW_EV_LCP_PK2_LEN' undeclared (first use in this function) 
```

这是未声明的，因为它位于警告的 iwlib.h 文件中。

那么为什么 Android NDK 不能识别头 .h 文件呢？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-09T06:06:47.557

您通常不编译头文件。您将它们包含在您编译的 .c 或 .cpp 文件中。但是您不会将它们作为源文件传递给编译器。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-09T06:53:22.683

要构建库，您解压缩 gz 文件并运行`make`，不是吗？还是你干脆改名了`wireless.22.h`？无论如何，在你运行之前`ndk-build`，你在包目录中有一个`wireless.h`文件。将以下两行添加到此文件的末尾：

```
#undef IW_EV_LCP_PK_LEN
#undef IW_EV_POINT_PK_LEN 
```

并从 Android.mk 的 LOCAL_SRC_FILES 中删除 iwlib.h。@Gabe 是对的，头文件不应该单独编译。在 iwlist.c 你会发现第 14 行：

```
#include "iwlib.h" 
```

# azure - Azure 项目位置

> ID：14785438
> 
> 赞同：0
> 
> 时间：2013-02-09T05:58:31.573
> 
> 标签：azure

如果有人将他的项目位置从 F:siteroot/example 文件夹更改为 C://example ，因为在 siteroot 文件夹中运行项目的空间较小。

那么可能会产生什么类型的问题。？是否有任何与安全相关的问题？

感谢和问候 Alok dixit。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-09T09:44:01.607

正如 Lescai lonel 在他的评论中所说 - 假设您询问一旦部署在 Azure 上对解决方案的任何影响 - 不会有任何影响 - 解决方案被编译并打包在一个有效的 zip 文件中，然后它被上传到Azure 并在 VM 上部署到固定位置，无论它在您的开发环境中的什么位置。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-09T09:45:49.843

如果文件放在 c: 或 f: 上，我对项目无关紧要，但要注意是否设置了源代码控制，因为这将创建一个与项目关联的工作区（至少假设 tfs）。

# c# - 从注册表中卸载字符串总是一样的？

> ID：14785440
> 
> 赞同：1
> 
> 时间：2013-02-09T05:58:47.870
> 
> 标签：c#, command-line, registry, uninstallation, uninstallstring

我在这里只需要一点保证。我正在创建一个基本的 C# 程序，除其他外，它将卸载并重新安装程序的最新版本（我无法将此功能构建到程序本身中）。我这样做的方式是：

```
MsiExec.exe /X{[UninstallString]} /passive 
```

在命令提示符过程中。我有一些问题：

1.  显然您不知道该程序的历史（我也不告诉您真相），但是对于每个版本，卸载字符串通常每次都相同吗？它会改变吗？
2.  是否有任何可能的方式使卸载字符串意外成为另一台计算机上不同程序的字符串？我不想卸载其他任何东西。

基本上我只想知道这是否安全。如果没有，或者如果有更好的方式以编程方式执行此操作，请告诉我！谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-09T10:06:54.833

请参阅[“卸载产品”](http://technet.microsoft.com/en-us/library/cc759262%28v=ws.10%29.aspx#BKMK_Uninstall)；您可以指定一个 ProductCode，它根据定义是全局唯一的。因此，您不会卸载任何其他产品。您也可以指定 msi 文件名，但您必须更加小心，因为不同的产品可能会获得相同的文件名。所以使用 ProductCode 是最好的方法。

另请参阅[升级、产品和包代码的用途是什么？](http://blogs.msdn.com/b/pusu/archive/2009/06/10/understanding-msi.aspx)

# c - 将字符数组输入到 const char *

> ID：14785442
> 
> 赞同：6
> 
> 时间：2013-02-09T05:59:14.957
> 
> 标签：c, pointers, constants

我有一个字符数组m char Input[200];

到目前为止，输入具有字符串“abc.txt”。

我有一个严格需要 const char * 的方法，如何将输入数组转换为 const char *。

我尝试强制转换它并传递它，但是在使用 GDB 时，我觉得由于输入中剩余的 192 个插槽充满了垃圾（或为空），因此函数不接受它。当我将字符串文字“a.txt”传递给它工作的函数时。所以此时我想从输入数组中提取填充的元素并将其转换为 const char *。

我将输入作为用户的文件名，所以我使用 char 数组来存储输入。

```
 int main()
    {
    char *name;

    char input[1024];
    strcpy(input, argv[1]);

    name = input;

    sys_open(input, "O_RDWR", 00700);

    } 
```

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-02-09T06:06:56.030

您应该可以直接通过它。char[] 可以转换为 const char *，但反之则不行。

您在 gdb 中看到所有垃圾的原因是因为数组未预先​​初始化以包含任何内容，因此您只是看到之前存在的任何垃圾。只要你的字符串是空终止的，它应该没问题。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-09T06:08:38.373

数组自然会衰减为指针，所以这不是问题。

“垃圾”的问题是因为这就是数组所在的内存中的内容。需要注意的重要一点是字符串由`'\0'`字符终止。

所以字符串`"abc.txt"`看起来像这样

```
'a', 'b', 'c', '.', 't', 'x', 't', '\0' 
```

这之后发生的事情并不重要，因为所有字符串函数都停在`'\0'`.

如果您使用包含字符串的数组，重要的是使用`strlen`获取长度，而不是`sizeof`，因为`sizeof`运算符给出整个数组的长度而不是包含的字符串。

# c++ - 是否有使用模数进行反向环绕（“反向溢出”）的表达式？

> ID：14785443
> 
> 赞同：29
> 
> 时间：2013-02-09T05:59:26.487
> 
> 标签：c++, modulo, algebra

对于任何受范围*R* = [ *x* , *y* ] 限制的整数输入*W*，由于没有更好的术语，*W*超过*R*的“溢出”是。*如果W*超过*y*，这将导致它回绕。*****`W % (y-x+1) + x`*****

 ***作为这个原则的一个例子，假设我们遍历一个日历的月份：

```
int this_month = 5;
int next_month = (this_month + 1) % 12; 
```

其中两个整数都在 0 到 11 之间，包括 0 和 11。因此，上面的表达式将整数“钳制”在*R* = [0,11] 的范围内。这种使用表达式的方法简单、优雅且有利，因为它***省略了分支***。

现在，如果我们想做同样的事情，但反过来呢？以下表达式有效：

```
int last_month = ((this_month - 1) % 12 + 12) % 12; 
```

但它很深奥。怎样才能美化？

* * *

**tl;dr** - 表达式`((x-1) % k + k) % k`可以进一步简化吗？

*注意：指定 C++ 标记是因为其他语言以不同方式处理模运算符的负操作数。*

* * *

## 回答 #1

> 赞同：37
> 
> 时间：2016-09-28T06:51:55.527

你的表情应该是`((x-1) + k) % k`。这将正确地将 x=0 环绕到 11。通常，如果您想后退超过 1，则需要确保添加足够多的内容，以使模运算的第一个操作数 >= 0。

这是 C++ 中的一个实现：

```
int wrapAround(int v, int delta, int minval, int maxval)
{
  const int mod = maxval + 1 - minval;
  if (delta >= 0) {return  (v + delta                - minval) % mod + minval;}
  else            {return ((v + delta) - delta * mod - minval) % mod + minval;}
} 
```

这也允许使用标记为从 0 到 11 或从 1 到 12 的月份，`min_val`并`max_val`相应地进行设置。

由于这个答案非常受欢迎，这里有一个没有分支的改进版本，它也处理初始值`v`小于的情况`minval`。我保留另一个示例，因为它更容易理解：

```
int wrapAround(int v, int delta, int minval, int maxval)
{
  const int mod = maxval + 1 - minval;
  v += delta - minval;
  v += (1 - v / mod) * mod;
  return v % mod + minval;
} 
```

剩下的唯一问题是 if`minval`大于`maxval`。如果需要，请随意添加断言。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-02-09T06:09:03.087

*k % k*将始终为 0。我不是 100% 确定您要做什么，但似乎您希望将上个月限制在 0 到 11 之间（含）。

```
(this_month + 11) % 12 
```

应该够了。

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2013-02-09T06:16:02.480

一般的解决方案是编写一个函数来计算你想要的值：

```
//Returns floor(a/n) (with the division done exactly).
//Let ÷ be mathematical division, and / be C++ division.
//We know
//    a÷b = a/b + f (f is the remainder, not all 
//                   divisions have exact Integral results)
//and
//    (a/b)*b + a%b == a (from the standard).
//Together, these imply (through algebraic manipulation):
//    sign(f) == sign(a%b)*sign(b)
//We want the remainder (f) to always be >=0 (by definition of flooredDivision),
//so when sign(f) < 0, we subtract 1 from a/n to make f > 0.
template<typename Integral>
Integral flooredDivision(Integral a, Integral n) {
    Integral q(a/n);
    if ((a%n < 0 && n > 0) || (a%n > 0 && n < 0)) --q;
    return q;
}

//flooredModulo: Modulo function for use in the construction
//looping topologies. The result will always be between 0 and the
//denominator, and will loop in a natural fashion (rather than swapping
//the looping direction over the zero point (as in C++11),
//or being unspecified (as in earlier C++)).
//Returns x such that:
//
//Real a = Real(numerator)
//Real n = Real(denominator)
//Real r = a - n*floor(n/d)
//x = Integral(r)
template<typename Integral>
Integral flooredModulo(Integral a, Integral n) {
    return a - n * flooredDivision(a, n);
} 
```

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2017-10-11T13:53:02.653

Easy Peasy，不要使用第一个模块运算符，它是多余的：

```
 int last_month = (this_month - 1 + 12) % 12; 
```

这是一般情况

在这种情况下，您可以编写`11`，但我仍然会这样做，`-1 + 11`因为它更清楚地说明了您想要实现的目标。

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2020-02-14T00:42:24.567

请注意，普通 mod 会导致模式`0...11`在 , 等处重复`12...23`，`24...35`但不会在`-11...-1`. 换句话说，它有两组行为。一个来自`-infinity...-1`，一组不同的行为来自`0...infinity`。

该表达式`((x-1) % k + k) % k`修复`-11...-1`但与普通 mod 具有相同的问题`-23...-12`。即，虽然它修复了 12 个额外的数字，但它不会无限循环。它仍然具有来自 的一组行为`-infinity...-12`和来自 的不同行为`-11...+infinity`。

这意味着如果您使用该函数进行偏移，它可能会导致错误的代码。

如果你想要一个真正的环绕式模组，它应该`-infinity...infinity`以完全相同的方式处理整个范围。

可能有更好的方法来实现这一点，但这里有一个易于理解的实现：

```
// n must be greater than 0
func wrapAroundMod(a: Int, n: Int) -> Int {
    var offsetTimes: Int = 0

    if a < 0 {
        offsetTimes = (-a / n) + 1
    }

    return (a + n * offsetTimes) % n
} 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2016-07-26T14:53:50.353

不确定你是否和我有同样的问题，但我的问题本质上是我想将所有数字限制在一定范围内。假设范围是 0-6，因此使用 %7 意味着任何高于 6 的数字都将回绕到 0 或更高。实际的问题是小于零的数字没有回到 6。我有一个解决方案（其中 X 是数字范围的上限，0 是最小值）：

```
if(inputNumber <0)//If this is a negative number
{
(X-(inputNumber*-1))%X; 
}
else
{
inputNumber%X;
} 
```***

# android - 如何将自定义 ListAdapter 设置为 appwidget 中的列表视图？

> ID：14785446
> 
> 赞同：3
> 
> 时间：2013-02-09T05:59:40.340
> 
> 标签：android, android-listview, android-adapter, remoteview

我有一个列表视图。我需要为每个列表项创建一个自定义视图，因此我创建了一个自定义 ListAdapter，它提供了视图，其布局如下所示。但是如何使用 RemoteViews 将此 listAdapter 设置为小部件中的 ListView ？

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:orientation="vertical"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:background="@android:color/background_light"
    android:layout_margin="1sp"
    android:padding="10sp"
    >

    <TextView
        android:id="@+id/widgetInfo1"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:text="@string/listItemDummy"
        android:textColor="@android:color/black"
        />

    <TextView
        android:id="@+id/widgetInfo2"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:text="@string/listItemDummy"
        android:textColor="@android:color/black"
        />

</LinearLayout> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-09T06:11:29.783

而不是常见的`Adapter`，因为`RemoteViews`你需要执行[`RemoteViewsFactory`](http://developer.android.com/reference/android/widget/RemoteViewsService.RemoteViewsFactory.html)。要返回自定义`RemoteView`的（是的，`RemoteView`对于每个项目而不是`View`），您将需要覆盖其[`getViewAt(int position)`](http://developer.android.com/reference/android/widget/RemoteViewsService.RemoteViewsFactory.html#getViewAt%28int%29)方法。

此外，一个只是不`setAdapter()`用于`RemoteView`s，您需要提供一个[`RemoteViewsService`](http://developer.android.com/reference/android/widget/RemoteViewsService.html)将返回`RemoteViewsFactory`给其客户的上面。

最后，向将要显示`RemoteView`s 的客户端传递`Intent`此服务的一个。

The Service and its Intent you will need to declare in your manifest file. This will make your App a provider of remote List like views to other apps or any remote process.

# c# - Windows Phone 8 应用程序上的流量数据，如何？使用条款呢？

> ID：14785449
> 
> 赞同：3
> 
> 时间：2013-02-09T05:59:59.803
> 
> 标签：c#, windows-phone-8, bing-maps, here-api

可以在**Windows Phone 8**上使用微软/诺基亚的流量数据吗？如何？[对于Windows 应用商店](http://code.msdn.microsoft.com/windowsapps/Bing-Maps-Traffic-Sample-4d355479#content)应用程序来说，这似乎很容易..

所以..我探索了`Microsoft.Phone.Maps.Controls.Map`，没有运气。
我找不到任何关于如何在 C# 中为 Windows Phone 8 获取流量数据的代码或帖子。我担心有些事情我应该知道。

有一个 RESTful [Traffic API](http://msdn.microsoft.com/en-us/library/hh441725.aspx)，但我对使用条款有些困惑。我想我会适合带广告的免费应用模型。在这种情况下，交易是否可计费？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-15T08:28:19.970

**对于必应地图：**

您可以轻松地使用 Traffic REST 服务来提供有关您的控件上的流量的信息，但实际上，可能存在与使用条款有关的问题，因为它可能无权在网页之外的其他场景中使用它（无论协议如何） . 见 8.2.i（另见关于移动应用程序的第 9 点）：

[http://www.microsoft.com/maps/product/terms.html](http://www.microsoft.com/maps/product/terms.html)

在这种情况下，您将与 GPS 设备（Garmin 等）竞争，这可能是您可能遇到问题的主要原因。如果您有特定的用例并希望确保能够以您想要的方式创建应用程序，您可以联系 maplic@microsoft.com。

无论如何，如果它是用于概念证明类型的应用程序，您可以使用 REST 服务来获取沿路线或特定区域的信息，请参阅此处的 MSDN：

[http://msdn.microsoft.com/en-us/library/hh441728.aspx](http://msdn.microsoft.com/en-us/library/hh441728.aspx)

这是一个在 .Net 应用程序中使用它的示例（因此在您的 WP 客户端应用程序中）：

[http://msdn.microsoft.com/en-us/library/jj819168.aspx](http://msdn.microsoft.com/en-us/library/jj819168.aspx)

**对于诺基亚地图：**

诺基亚的产品集成了一个专用流量 API，该 API 不是公共 API 的一部分，而是来自他们的诺基亚定位平台（也称为 Here 企业平台），使用此 API，您可以检索特定区域的信息并获取精确信息，如 Bing 的 REST服务。

如果需要有关此服务的更多信息，您应该联系您的诺基亚代表以获取更多信息。

如果您有任何进一步的问题，请告诉我们。

# javascript - 如何在没有 Flash 的情况下制作交互式城市地图

> ID：14785450
> 
> 赞同：3
> 
> 时间：2013-02-09T06:00:12.930
> 
> 标签：javascript, jquery, google-maps, dreamweaver, user-interaction

因此，我查看了之前提出的所有问题，发现没有回答到大多数人都在问的问题，我想重新表述有关制作可点击地图的问题。

这个想法 - 有一张美国单一城市的地图，我可以使用 jquery 来勾勒出该城市内的城镇。然后，我希望能够更详细地介绍该城镇，显示购物中心、公园、街道名称、可用住房等。

我可以使用从城市收到的地图细节从我拥有的矢量文件中绘制/勾勒出所有这些小部分。

这不一定必须保持在同一页面上，但如果这样做会很好。

如果雇用某人太昂贵或一个人坐下来编写代码的时间太长，那么我的下一个选择是使用谷歌地图。现在我知道 Google 地图没有最新的视觉效果，所以我想知道是否可以设置我自己的所有标记，如果 Google 上不存在位置图片，是否可以设置它们？

结果 - 一个自定义地图有点让人想起谷歌地图，只是没有谷歌地图本身的麻烦，如果有一个使用谷歌地图作为最后手段的地图搜索选项，我不希望搜索结果显示任何内容但地点在市区范围内。

或者我应该只使用 DreamWeaver 来热点地图，每个链接到各自的位置详细信息？

这些是我发现的类似示例，但大多数只是悬停并单击，仅此而已。[http://davidlynch.org/projects/maphilight/docs/demo_usa.html](http://davidlynch.org/projects/maphilight/docs/demo_usa.html)

[http://exploregooglemaps.blogspot.com.br/p/resources.html](http://exploregooglemaps.blogspot.com.br/p/resources.html)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-09T06:19:42.953

有一个很棒的插件，它是 jvectormap ：

[http://jvectormap.com/](http://jvectormap.com/)

它非常轻量级和跨浏览器（vml 用于非 svg 支持）并且**非常容易扩展**（imo 比拥有一个完整的插件更好，你不需要，这里它有最小值然后你添加你需要的东西）通过点击，鼠标悬停回调以开始 & 这对于大多数情况来说已经足够了。

如果您正确转换地图，则轻量级（将详细信息级别限制为最大）。现在，插件使用的矢量图的转换可能很棘手，但有一个关于它的 wiki：

[https://github.com/datag/jvectormap/wiki/Map-converter-notes](https://github.com/datag/jvectormap/wiki/Map-converter-notes)

我已经编辑了关于在 ubuntu 上使用 GIS 软件的 wiki 部分。使用 SAGA-GIS 确实是一个救星，也是一件好事，可以立即学习为插件发布任何地图。

我要补充一点，我已经测试了来自 anychart 的 anymap 和来自 fusioncharts 的 fusionmap，并且 imo jvector 是没有任何跨浏览器/定制易用性/灵活性/带宽/执行效率竞赛的赢家......最后但并非最不重要的是自由 ！

# javascript - 带有开放式构造函数参数的参数属性声明

> ID：14785453
> 
> 赞同：0
> 
> 时间：2013-02-09T06:00:31.590
> 
> 标签：javascript, typescript

这可能吗 ？

我目前拥有的和有效的：

```
module app.typescriptdemoview {
    export class InitializeAutoComplete {
        constructor(... _inputIds: string[]) {
        // Initialize _inputIds as a member variable ..
        }
    }
} 
```

我想达到的目标：

```
module app.typescriptdemoview {
    export class InitializeAutoComplete {
        constructor(private ... _inputIds: string[]) { // Automatic member var. initialization
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T00:08:07.313

目前不可能，因此您只能手动分配它。编译器需要进行更改才能自动执行此操作。

```
class Test {
    private _args: string[];
    constructor (...args: string[]) {
        this._args = args;
    }
} 
```

# ssas - 在 SSAS 中如何删除不同计数度量中的空值

> ID：14785454
> 
> 赞同：0
> 
> 时间：2013-02-09T06:00:35.033
> 
> 标签：ssas, mdx

我有列`fact table`。某行中的列有值。我`'Null'`有基于此列的度量，`aggregate function`设置为`DistinctCount`

这个度`null`量值也很重要。但我不想计算`null`价值我该怎么办？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-11T09:35:33.657

最有效的方法是在数据源视图中过滤掉 NULL 值（例如使用命名查询）。这不会对性能产生太大影响，因为无论如何都会在单独的度量值组中计算不同的计数度量值。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-05-03T19:59:29.873

一种流行的有效解决方案是从过滤掉空值的表视图中计数。这行得通，但我敢打赌，它需要对事实表进行另一次扫描。

另一种解决方案就像以火攻毒。
添加一个计算列，如果它为 null，则为 0，如果不是，则为 1：

```
CASE WHEN _DollarsLY IS NULL THEN 0 ELSE 1 END AS _DistinctCountHackLY 
```

然后你可以在立方体计算中做这样的事情：

```
iif(_DistinctCountHackLY=2 or _DollarsLY=null,_DistinctUPCLY-1,_DistinctUPCLY) 
```

# jsf - JSF - 如何重置 价值清单

> ID：14785457
> 
> 赞同：-1
> 
> 时间：2013-02-09T06:01:26.673
> 
> 标签：jsf, icefaces

几天前，我用 Iceface 开始了 JSF。我有一个数据表，当我删除一行时，它会从后端删除特定的列表条目。数据表也删除了一行，但不是我删除的那一行。（这不是关于完整的行。它只是一列。）我对每一行都使用了一个建议框。问题仅发生在该建议框字段上。但是没有那个建议框，它工作得很好。

我想如果我可以在渲染它之前使用它的 bean 属性再次刷新/同步数据表，可能会解决问题。（从后端它维护我想要在我的数据表中填充的确切数据集。）

目前我想知道的是，在呈现响应之前，我们如何将 dataTable 与它的新值重新同步。

如果您有任何其他想法，请与我分享。

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-10T10:08:15.170

我犯了一个错误:(我没有添加`value="#{o.itemId}"`属性。这是我的意见箱。谢谢！

```
<ice:selectInputText id="sugestBox" rows="10" width="290"
    listVar="item"
    valueChangeListener="#{o.itemAutoCompleteBean.updateList}"
    actionListener="#{o.lst}"
    listValue="#{o.itemAutoCompleteBean.matchesList}"
    value="#{o.itemId}">

<f:facet name="selectInputText">
    <ice:panelGrid columns="3" style="margin-bottom:20px; "
                columnClasses="sgstItemDropCol,sgstItemDescCol,sgstItemCatCol" >
        <ice:outputText value="#{item.itemId}"/>
        <ice:outputText value="#{item.description}"/>
        <ice:outputText value="#{item.category}"/>
    </ice:panelGrid>
</f:facet> 
```

# android - GCM 发件人 ID/项目编号

> ID：14785464
> 
> 赞同：3
> 
> 时间：2013-02-09T06:02:36.330
> 
> 标签：android, push-notification, google-cloud-messaging, sender-id

要发送 GCM，我们有一个来自 Google API 控制台的 SENDER ID，保护该 SENDER ID 重要吗？我的意思是，如果他们知道那个ID，他们会做坏事吗？我犯了一个错误，我认为那个 ID 在我的一个项目中......我能以某种方式改变它吗？通过查看 Google API 控制台，我无论如何都找不到更改它！我应该为此担心吗？或者可以吗？

可以更改服务器和浏览器 API 密钥，但不能更改 SENDER ID、PROJECT NUMBER...

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-09T06:30:11.870

是的，您应该保护`project number`（`Sender Id`对于 GCM 也是如此）；否则任何人都可以使用它，它将计入*您*对 API 的使用。它类似于任何其他服务（例如 Google 地图）的 API 密钥。

除了创建一个新的 Google 帐户之外，我不知道有任何更改它的方法，但是在 Google API 控制台的仪表板中有一个注册/生成的选项，`Project ID`但我不确定 GCM 是否会接受它作为`Sender Id`. 你可以试一试。

**编辑：**

`project number`如果您被暴露（在旧 API 中，发件人 id 是您的电子邮件）可能不会那么危险，因为您仍然需要`API key`能够通过 GCM 发送通知

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-09T12:04:44.577

我想补充一点，虽然`project ID`单独不能用于通过 GCM 发送通知，但它可以被另一个 Android 应用程序用于注册到 GCM 并从您的服务器接收通知。当然，为了从您的服务器接收通知，该应用程序必须首先联系您的服务器以发送它的`Registration Id`，因此根据服务器实现，您可以阻止这种情况发生。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-02-23T06:30:50.073

据我了解：

1）SenderID == ProjectID（如 iTech 注释）

2) SenderID/ProjectID在构建时通过“googleservices.json”*嵌入到您的应用程序中*

3）您的应用程序使用＆要求您的 SenderID（通过*R.string.gcm_defaultSenderId*）使用以下代码向 GCM 注册：

```
String token = instanceID.getToken(getString(R.string.gcm_defaultSenderId), GoogleCloudMessaging.INSTANCE_ID_SCOPE, null); 
```

4) Thus, as per my understanding, it is by design that SenderID should be included in your GCM app, and is not protected.

# xcode - Apple LLVM 编译器 4.2（Clang 代码 1 失败）

> ID：14785470
> 
> 赞同：2
> 
> 时间：2013-02-09T06:03:55.937
> 
> 标签：xcode, llvm

我对 xcode 项目有疑问，

我是 xcoding 的新手。我正在尝试在我的 xcode 中导入并运行这个项目以测试它的工作方式[https://github.com/pkyeck/socket.IO-objc](https://github.com/pkyeck/socket.IO-objc)，但是一旦我运行该项目我就去以下错误

我正在使用 IOS SDK 6.1 和 Apple LLVM 编译器 4.2。

错误

```
ProcessPCH /Users/nikunjpatel/Library/Developer/Xcode/DerivedData/SocketTesterARC-hbuecoaldjcdawhaiejruwwnvccu/Build/Intermediates/PrecompiledHeaders/SocketTesterARC-Prefix-eaouggsjdwbakedoogkslkipaiwy/SocketTesterARC-Prefix.pch.pth SocketTesterARC/SocketTesterARC-Prefix.pch normal i386 c com.apple.compilers.llvm.clang.1_0.compiler
    cd /Users/nikunjpatel/Desktop/socket.IO-objc-master
    setenv LANG en_US.US-ASCII
    setenv PATH "/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/usr/bin:/Applications/Xcode.app/Contents/Developer/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin"
    /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/clang -x c-header -arch i386 -fmessage-length=0 -std=gnu99 -Wno-trigraphs -fpascal-strings -O0 -Wno-missing-field-initializers -Wno-missing-prototypes -Wreturn-type -Wformat -Wno-missing-braces -Wparentheses -Wswitch -Wno-unused-function -Wno-unused-label -Wno-unused-parameter -Wunused-variable -Wunused-value -Wno-empty-body -Wuninitialized -Wno-unknown-pragmas -Wno-shadow -Wno-four-char-constants -Wno-conversion -Wno-constant-conversion -Wno-int-conversion -Wno-enum-conversion -Wno-shorten-64-to-32 -Wpointer-sign -Wno-newline-eof -DDEBUG=1 -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator6.1.sdk -fexceptions -fasm-blocks -fstrict-aliasing -Wdeprecated-declarations -g -Wno-sign-conversion -mios-simulator-version-min=4.0 -iquote /Users/nikunjpatel/Library/Developer/Xcode/DerivedData/SocketTesterARC-hbuecoaldjcdawhaiejruwwnvccu/Build/Intermediates/SocketTesterARC.build/Debug-iphonesimulator/SocketTesterARC.build/SocketTesterARC-generated-files.hmap -I/Users/nikunjpatel/Library/Developer/Xcode/DerivedData/SocketTesterARC-hbuecoaldjcdawhaiejruwwnvccu/Build/Intermediates/SocketTesterARC.build/Debug-iphonesimulator/SocketTesterARC.build/SocketTesterARC-own-target-headers.hmap -I/Users/nikunjpatel/Library/Developer/Xcode/DerivedData/SocketTesterARC-hbuecoaldjcdawhaiejruwwnvccu/Build/Intermediates/SocketTesterARC.build/Debug-iphonesimulator/SocketTesterARC.build/SocketTesterARC-all-target-headers.hmap -iquote /Users/nikunjpatel/Library/Developer/Xcode/DerivedData/SocketTesterARC-hbuecoaldjcdawhaiejruwwnvccu/Build/Intermediates/SocketTesterARC.build/Debug-iphonesimulator/SocketTesterARC.build/SocketTesterARC-project-headers.hmap -I/Users/nikunjpatel/Library/Developer/Xcode/DerivedData/SocketTesterARC-hbuecoaldjcdawhaiejruwwnvccu/Build/Products/Debug-iphonesimulator/include -I/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/include -I/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/include -I/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/include -I/Users/nikunjpatel/Library/Developer/Xcode/DerivedData/SocketTesterARC-hbuecoaldjcdawhaiejruwwnvccu/Build/Intermediates/SocketTesterARC.build/Debug-iphonesimulator/SocketTesterARC.build/DerivedSources/i386 -I/Users/nikunjpatel/Library/Developer/Xcode/DerivedData/SocketTesterARC-hbuecoaldjcdawhaiejruwwnvccu/Build/Intermediates/SocketTesterARC.build/Debug-iphonesimulator/SocketTesterARC.build/DerivedSources -F/Users/nikunjpatel/Library/Developer/Xcode/DerivedData/SocketTesterARC-hbuecoaldjcdawhaiejruwwnvccu/Build/Products/Debug-iphonesimulator --serialize-diagnostics /Users/nikunjpatel/Library/Developer/Xcode/DerivedData/SocketTesterARC-hbuecoaldjcdawhaiejruwwnvccu/Build/Intermediates/PrecompiledHeaders/SocketTesterARC-Prefix-eaouggsjdwbakedoogkslkipaiwy/SocketTesterARC-Prefix.pch.dia -c /Users/nikunjpatel/Desktop/socket.IO-objc-master/SocketTesterARC/SocketTesterARC-Prefix.pch -o /Users/nikunjpatel/Library/Developer/Xcode/DerivedData/SocketTesterARC-hbuecoaldjcdawhaiejruwwnvccu/Build/Intermediates/PrecompiledHeaders/SocketTesterARC-Prefix-eaouggsjdwbakedoogkslkipaiwy/SocketTesterARC-Prefix.pch.pth -MMD -MT dependencies -MF /Users/nikunjpatel/Library/Developer/Xcode/DerivedData/SocketTesterARC-hbuecoaldjcdawhaiejruwwnvccu/Build/Intermediates/PrecompiledHeaders/SocketTesterARC-Prefix-eaouggsjdwbakedoogkslkipaiwy/SocketTesterARC-Prefix.pch.d

clang: error: no such file or directory: '/Users/nikunjpatel/Desktop/socket.IO-objc-master/SocketTesterARC/SocketTesterARC-Prefix.pch'
clang: error: no input files
Command /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/clang failed with exit code 1 
```

请帮我

# python - 使用 eyed3 设置“专辑艺术家”？

> ID：14785475
> 
> 赞同：6
> 
> 时间：2013-02-09T06:05:26.460
> 
> 标签：python, eyed3

我正在尝试使用 eyed3 作为 Python 库，以便更改大量 .MP3 文件的艺术家名称。我尝试使用该项目网页的示例代码（[http://eyed3.nicfit.net/](http://eyed3.nicfit.net/)），并且 setsaudiofile.tag.artist 更改了“特约艺术家”。根据文档（位于[http://eyed3.nicfit.net/api/eyed3.html](http://eyed3.nicfit.net/api/eyed3.html)），标签对象没有其他艺术家字段。

是否可以使用 eyed3 来实际更改专辑艺术家？如果是这样，你能提供清晰、简洁的 Python 代码吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2015-02-22T22:51:43.483

这是我前段时间写下的用于更改该字段的命令：

```
eyeD3 --set-text-frame=TPE2:"Various Artists" filename.mp3 
```

其中“Various Artists”是您在“专辑艺术家”字段中想要的值。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-09-20T15:21:57.707

对于大量 MP3，您可以将一位艺术家的所有歌曲放在一个特定文件夹中。例如：- 所有“Coldplay”歌曲都在“Coldplay”文件夹中

如果您在 Linux 上，您可以执行以下操作：-

```
import os
import eyed3
folder = raw_input('Please enter the folder of music')
files = os.listdir(folder) # This will give us a list of all of the MP3s in that folder
artist = folder.split('/')[-1]

for x in files:
    mp3 = eyed3.load(folder + '/' + x) # Loads each and every MP3
    mp3.tag.artist = unicode(artist, "UTF-8") # Sets the "artist" tag to the artist name 
    mp3.tag.save() # Saves tag 
```

如果您在 Windows 上，只需通过将所有斜杠“/”变为反斜杠“\”来编辑代码

上面的代码对我来说效果很好。很高兴我能帮忙:)

# prolog - 是 Prolog 中的否，如果不是（是/否），则显示无效命令（输入）

> ID：14785477
> 
> 赞同：0
> 
> 时间：2013-02-09T06:05:47.543
> 
> 标签：prolog

我正在为手机维修创建一个专家系统。

答案必须只是 [yes or no]，否则将显示“无效输入”。我怎样才能在我的代码中捕获它？

```
ask(Question) :-  write('Question: '),
      write(Question),
      write('? '),
      write('(yes or no) : '),
      read(Response),
      nl,
      ((Response == yes ; Response == y) -> assert(yes(Question)) ; 
       (Response==no ; Response ==n) -> assert(no(Question)) ;
        write('\nInvalid Input!!!\n'),fail). 
```

如果输入任何拼写错误，我仍然无法实现我想要显示的内容。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-09T09:30:28.213

嗯......你的代码肯定有效。只要确保`assert`使用gprolog`asserta`或`assertz`使用 gprolog 进行更改。

```
| ?- [expert].
compiling *** for byte code...
*** compiled, 7 lines read - 2111 bytes written, 14 ms
(1 ms) yes
| ?- ask(man).
Question: man? (yes or no): y.
yes
| ?- ask(woman).
Question: woman? (yes or no): no.
(1 ms) yes
| ?- ask(silly).
Question: silly? (yes or no): dunno.
Invalid Input!!!
no
| ?- yes(man).
yes
| ?- no(man).
no
| ?- yes(woman).
no
| ?- no(woman).
(1 ms) yes 
```

# css - 各种 webkit 版本的 CSS 兼容性表

> ID：14785479
> 
> 赞同：1
> 
> 时间：2013-02-09T06:06:31.693
> 
> 标签：css, webkit

我想知道是否无论如何我可以看到对 webkit 浏览器的 css 支持？我看过 Caniuse 和 PPK 的网站。我真的很喜欢[微软为 IE 所做的事情](http://msdn.microsoft.com/en-au/library/hh781508(v=vs.85).aspx)。

如果那里有什么可以发布吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-09T09:17:13.450

WebKit 的文档似乎很差，没有发布官方总结或参考。以下是一些资源：

*   [Apple 的Safari CSS 参考](http://developer.apple.com/library/safari/#documentation/AppleApplications/Reference/SafariCSSRef/Introduction.html)；不是很详细
*   [MDN CSS 参考](https://developer.mozilla.org/en-US/docs/CSS/CSS_Reference)，对不同浏览器中 CSS 支持的广泛但不完整的总结，包括[WebKit 扩展的单独页面](https://developer.mozilla.org/en-US/docs/CSS/CSS_Reference/Webkit_Extensions)
*   [CSS666](http://www.css666.com/)，浏览器中 CSS 支持的摘要，紧凑，但有一些信息在 MDN 中不存在
*   [Sitepoint CSS 参考](http://reference.sitepoint.com/css)，CSS 支持的另一个总结
*   [Webkit CSS 属性](http://css-infos.net/properties/webkit),`-webkit-`属性汇编

# iphone - 应用程序运行时出现 RootviewController 错误 - 应用程序应在应用程序启动结束时具有根视图控制器

> ID：14785484
> 
> 赞同：0
> 
> 时间：2013-02-09T06:07:33.137
> 
> 标签：iphone, xcode

```
- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions
{
    self.window = [[UIWindow alloc] initWithFrame:[[UIScreen mainScreen] bounds]];
    // Override point for customization after application launch.
    self.viewController = [[ViewController alloc] initWithNibName:@"ViewController" bundle:nil];
    self.window.rootViewController = self.viewController;
    [self.window makeKeyAndVisible];
    return YES;
} 
```

我不知道这种方法有什么问题。我刚刚创建了一个新项目并运行它。它显示应用程序应该在应用程序启动结束时有一个根视图控制器

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-09T06:41:43.253

如果你有一个 MainWindow.xib。

删除下面的行。不要删除 MainWindow.xib

```
self.window = [[UIWindow alloc] initWithFrame:[[UIScreen mainScreen] bounds]]; 
```

* * *

```
- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions
{
    self.viewController = [[ViewController alloc] initWithNibName:@"ViewController" bundle:nil];
    self.window.rootViewController = self.viewController;
    [self.window makeKeyAndVisible];
    return YES;
} 
```

![在此处输入图像描述](../Images/5d53ce3ac045e46265fd37a0d71a30a5.png)

或者

不要删除上面的行。删除 MainWindow.xib 和项目摘要主界面设置为空。

```
- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions
{
    self.window = [[UIWindow alloc] initWithFrame:[[UIScreen mainScreen] bounds]];
    self.viewController = [[ViewController alloc] initWithNibName:@"ViewController" bundle:nil];
    self.window.rootViewController = self.viewController;
    [self.window makeKeyAndVisible];
    return YES;
} 
```

![在此处输入图像描述](../Images/4176b5d90be382a411eb01b1cccf67c5.png)

# vb.net - 不获取更新数据

> ID：14785485
> 
> 赞同：1
> 
> 时间：2013-02-09T06:07:34.353
> 
> 标签：vb.net, webforms, reportviewer, rdlc

我有一个`Dataset`绑定`Reportviewer`，我`dataset`有两个参数，在报告中通常会显示响亮的数据，问题是当我以新值传递参数时`reportviewer`，我单击搜索`Button`之前的数据`reportviewer`是否有任何变化。表示不会显示更新的搜索数据！

这是我的代码：

```
Protected Sub Page_Load(ByVal sender As Object, ByVal e As System.EventArgs) Handles Me.Load 
            mysession() 
            ReportViewer1.ProcessingMode = ProcessingMode.Local 
            Dim rep As LocalReport = ReportViewer1.LocalReport 
            rep.ReportPath = "Leaving Report.rdlc" 
            Dim ds1 As DataSet = GetData() 

            Dim EMpReplt As New ReportDataSource() 
            EMpReplt.Name = "ProlDataSet_Lrepoert" 
            EMpReplt.Value = ds1.Tables("EMPData") 
            rep.DataSources.Add(EMpReplt) 
End sub 

 Private Function GetSalesData() 
        Dim ds As New DataSet 
        Dim sql As String = "select * from laeve where Status='" & DropDownList1.SelectedValue & "' and Agent='" & Session("Agence") & "'" 
            Dim command As New SqlCommand(sql,con) 
            Dim mysqlAdapter As New SqlDataAdapter(command) 
            mysqlAdapter.Fill(ds, "EMPData") 
            mysqlAdapter.Dispose() 
            command.Dispose() 
        End Using 
        Return ds 
    End Function 
 End Sub 

Protected Sub Search_Click(ByVal sender As Object, ByVal e As EventArgs) Handles Button2.Click 
    ReportViewer1.LocalReport.Refresh() 
End Sub 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-09T06:51:58.097

Try to place the `.IsPostBack` [Using the WebForms ReportViewer Control](http://msdn.microsoft.com/en-us/library/aa337091.aspx)

```
Protected Sub Page_Load(ByVal sender As Object, ByVal e As System.EventArgs) Handles Me.Load 
            mysession() 
   If Not Page.IsPostBack Then
            ReportViewer1.ProcessingMode = ProcessingMode.Local 
            Dim rep As LocalReport = ReportViewer1.LocalReport 
            rep.ReportPath = "Leaving Report.rdlc" 
            Dim ds1 As DataSet = GetData() 

            Dim EMpReplt As New ReportDataSource() 
            EMpReplt.Name = "ProlDataSet_Lrepoert" 
            EMpReplt.Value = ds1.Tables("EMPData") 
            rep.DataSources.Add(EMpReplt) 
     End if
End sub 
```

# python - 如何更改for循环的索引？

> ID：14785495
> 
> 赞同：82
> 
> 时间：2013-02-09T06:09:09.820
> 
> 标签：python, for-loop

假设我有一个 for 循环：

```
for i in range(1,10):
    if i is 5:
        i = 7 
```

`i`如果满足某些条件，我想更改。我试过这个但没有用。我该怎么做？

* * *

## 回答 #1

> 赞同：128
> 
> 时间：2013-02-09T06:12:55.967

对于您的特定示例，这将起作用：

```
for i in range(1, 10):
    if i in (5, 6):
        continue 
```

`while`但是，使用循环可能会更好：

```
i = 1
while i < 10:
    if i == 5:
        i = 7
    # other code
    i += 1 
```

循环在每次迭代开始时将变量（在这种情况下）分配给列表/可迭代中的下一个元素`for`。`i`这意味着无论你在循环内做什么，`i`都会成为下一个元素。`while`循环没有这样的限制。

* * *

## 回答 #2

> 赞同：31
> 
> 时间：2017-11-28T13:12:08.180

关于为什么问题中的循环不能按预期工作的更多背景知识。

一个循环

```
for i in iterable: 
    # some code with i 
```

基本上*是*一个简写

```
iterator = iter(iterable)
while True:
    try:
        i = next(iterator)            
    except StopIteration:
        break
    # some code with i 
```

因此，`for`循环从一个由可迭代对象构造的迭代器中提取值，并自动识别该迭代器何时耗尽并停止。

如您所见，在循环的每次迭代中`while`i**被重新分配**，因此`i`无论您在部件中发出任何其他重新分配，都将覆盖的值`# some code with i`。

出于这个原因，`for`Python 中的循环不适合对循环变量进行永久更改，您应该`while`改用循环，正如 Volatility 的回答中已经证明的那样。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2015-09-16T21:30:24.967

这个概念在 C 世界中并不罕见，但应尽可能避免。尽管如此，这就是我实现它的方式，以一种我觉得很清楚发生了什么的方式。然后，您可以将向前跳过的逻辑放在循环内的任何位置的索引中，读者会知道要注意跳过变量，而在某个深处嵌入 i=7 很容易被遗漏：

```
skip = 0
for i in range(1,10):
   if skip:
      skip -= 1
      continue

   if i=5:
      skip = 2

   <other stuff> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2020-08-15T16:04:52.977

简单的想法是 i 在每次迭代后获取一个值，而不管它在循环内分配给什么，因为循环在迭代结束时递增迭代变量，并且由于 i 的值在循环内声明，它只是被覆盖. 您可能想将 i 分配给另一个变量并对其进行更改。例如，

```
for i in range(1,10):
    if i == 5:
        u = 7 
```

然后您可以继续使用循环内的“break”来中断循环，以防止进一步的迭代，因为它满足了所需的条件。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2021-02-13T18:10:27.540

正如[timgeb](https://stackoverflow.com/a/47532461/15204628)解释的那样，您使用的索引每次都在 for 循环开始时分配一个新值，我发现工作的方式是使用另一个索引。

例如，这是您的原始代码：

```
for i in range(1,10):
    if i is 5:
        i = 7 
```

您可以改用这个：

```
i = 1
j = i
for i in range(1,10):
    i = j
    j += 1
    if i == 5:
        j = 7 
```

此外，如果您在 for 循环中修改列表中的元素，则可能还需要在每个循环结束时将范围更新为 range(len(list)) 如果您在其中添加或删除了元素。我这样做的方式就像分配另一个索引来跟踪它。

```
list1 = [5,10,15,20,25,30,35,40,45,50]

i = 0
j = i
k = range(len(list1))
for i in k:
    i = j
    j += 1
    if i == 5:
        j = 7
    if list1[i] == 20:
        list1.append(int(100))
    # suppose you remove or add some elements in the list at here, 
    # so now the length of the list has changed

    k = range(len(list1))
    # we use the range function to update the length of the list again at here
    # and save it in the variable k 
```

但是，使用 while 循环代替会更方便。无论如何，我希望这会有所帮助。

# javascript - 无需排队的 jQuery 动画

> ID：14785501
> 
> 赞同：0
> 
> 时间：2013-02-09T06:10:22.673
> 
> 标签：javascript, jquery, jquery-animate

我试图弄清楚 .stop() 和 clearQueue() 是如何工作的。这是我在 jsfiddle 中的示例代码：http: [//jsfiddle.net/PsTQv/1/](http://jsfiddle.net/PsTQv/1/)如果将鼠标悬停 在几个块上，您将看到动画正在排队。为了解决这个问题，我尝试使用 stop() 和 clearQueue.Simple add stop after hide() 或 show() 或两者都不起作用。行为如下：

```
1\. .stop().hide() : text disappears at last;
2\. .stop.show(): text is alway there, won't be hidden any more
3\. add both: Same as only add to show()
4\. add .clearQueue().stop() in the beginning: text disappears at last, like .stop().hide() 
```

我想了解clearQueue和stop之间的区别来解释上面的行为。另外我想弄清楚在这个例子中如何实现不排队的动画，即悬停在块上并且文本显示在幻灯片效果中.

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-09T06:24:27.480

您需要在幻灯片动画完成时执行的回调函数中[清除动画队列：](http://api.jquery.com/clearQueue/)

```
$('.block').hover(function(){
    $('section').hide('fast');
    //$('section').stop().show('slide',{direction:'left'},1000);
    $('section').show('slide',{direction:'left'},1000,function(){$(this).clearQueue()});
},function(){}); 
```

[jsFiddle](http://jsfiddle.net/PsTQv/2/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-01-16T12:48:01.733

```
var inAnimation = new Array();

$("div").hover(function(){
    if (!inAnimation[$("div").index(this)] ) {
        $(this).animate({ width: "200px" });
    }
}, function() {
    inAnimation[$("div").index(this)] = true;
    $(this).animate({ width: "100px" }, "normal", "linear", function() {
        inAnimation[$("div").index(this)] = false; 
    })
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-01-16T12:53:07.463

```
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>clearQueue demo</title>
  <style>
  div {
    margin: 3px;
    width: 40px;
    height: 40px;
    position: absolute;
    left: 0px;
    top: 30px;
    background: green;
    display: none;
  }
  div.newcolor {
    background: blue;
  }
  </style>
  <script src="//code.jquery.com/jquery-1.10.2.js"></script>
</head>
<body>

<button id="start">Start</button>
<button id="stop">Stop</button>
<div></div>

<script>
$( "#start" ).click(function() {
  var myDiv = $( "div" );
  myDiv.show( "slow" );
  myDiv.animate({
    left:"+=200"
  }, 5000 );

  myDiv.queue(function() {
    var that = $( this );
    that.addClass( "newcolor" );
    that.dequeue();
  });

  myDiv.animate({
    left:"-=200"
  }, 1500 );
  myDiv.queue(function() {
    var that = $( this );
    that.removeClass( "newcolor" );
    that.dequeue();
  });
  myDiv.slideUp();
});

$( "#stop" ).click(function() {
  var myDiv = $( "div" );
  myDiv.clearQueue();
  myDiv.stop();
});
</script>

</body>
</html> 
```

# wcf - 通过 WCF 服务公开的对象是否应该只是 DTO？

> ID：14785503
> 
> 赞同：0
> 
> 时间：2013-02-09T06:10:42.003
> 
> 标签：wcf, dto

我有一个 WCF 应用程序，它有一堆域实体（由 NHibernate 映射）和服务合同。目前，我通过服务合同直接向 WCF 客户端公开实体。但这使我遇到了 WCF 数据协定的许多限制，特别是与序列化相关的限制。例如圆形图限制、KnownTypes 等。

似乎更好的方法是在服务器端使用实体并使用 DTO 在 WCF 服务器和客户端之间传输对象。我对吗？是必须的吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-09T07:33:49.400

WCF 是一个**基于消息的**系统——它基本上通过 XML 序列化数据消息连接客户端和服务器。因此，WCF**只能**来回发送静态数据——它不是一个“远程过程调用”或“远程对象”系统，您可以在其中将功能从客户端传输到服务器并返回。

由于任何 WCF 传输都必须是 XML 可序列化的，因此它实际上只是关于数据 - 所以是的 - WCF 最适合仅发送来回 DTO 样式数据对象。

# android - 按下切换按钮 3 次后，闪光灯 Android 应用程序崩溃，并且 LED 永远不会亮起

> ID：14785504
> 
> 赞同：1
> 
> 时间：2013-02-09T06:11:08.070
> 
> 标签：android, flash, crash, light

我正在尝试制作一个在 Galaxy Nexus 上运行的闪光灯应用程序。我知道您需要实现 SurfaceHolder.Callback。但是当我这样做时，应用程序正在编译和运行，没有错误。但是 LED 根本没有打开，并且应用程序在按下切换按钮 3 次后崩溃。

```
public class MainActivity extends Activity implements SurfaceHolder.Callback {
Camera cam;
public static SurfaceHolder mHolder;
public static SurfaceView preview;

@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);

    preview = (SurfaceView) findViewById(R.id.PREVIEW);
    mHolder = preview.getHolder();
    cam = Camera.open();
    try {
        cam.setPreviewDisplay(mHolder);
    } catch (IOException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    }

    ToggleButton toggle = (ToggleButton) findViewById(R.id.toggleButton1);
    final TextView text = (TextView) findViewById(R.id.textView1);
    text.setText("Flash Light");

    toggle.setOnCheckedChangeListener(new OnCheckedChangeListener() {

        @Override
        public void onCheckedChanged(CompoundButton buttonView,
                boolean isChecked) {
            // TODO Auto-generated method stub

            if(isChecked) {

                text.setText("Flash Light is ON");
                Parameters p = cam.getParameters();
                p.setFlashMode(Parameters.FLASH_MODE_TORCH);
                cam.setParameters(p);
                cam.startPreview();

            } else {

                text.setText("Flash Light is OFF");
                Parameters p = cam.getParameters();
                p.setFlashMode(Parameters.FLASH_MODE_OFF);
                cam.setParameters(p);
                cam.stopPreview();
                cam.release();

            }

        }

    });

}

@Override
public boolean onCreateOptionsMenu(Menu menu) {
    // Inflate the menu; this adds items to the action bar if it is present.
    getMenuInflater().inflate(R.menu.activity_main, menu);
    return true;
}

@Override
public void surfaceChanged(SurfaceHolder arg0, int arg1, int arg2, int arg3) {
    // TODO Auto-generated method stub

}

@Override
public void surfaceCreated(SurfaceHolder holder) {
    // TODO Auto-generated method stub
    mHolder = holder;
    try {
        cam.setPreviewDisplay(mHolder);
    } catch (IOException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    }

}

@Override
public void surfaceDestroyed(SurfaceHolder arg0) {
    // TODO Auto-generated method stub
    cam.stopPreview();
    mHolder = null;

}
} 
```

编辑：清单

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.example.flashlight"
    android:versionCode="1"
    android:versionName="1.0" >

    <uses-sdk
        android:minSdkVersion="14"
        android:targetSdkVersion="17" />

    <uses-permission android:name="android.permission.CAMERA" /> 
    <uses-permission android:name="android.permission.FLASHLIGHT"/> 
    <uses-feature android:name="android.hardware.camera" /> 
    <uses-feature android:name="android.hardware.camera.flash" />
    <uses-feature android:name="android.hardware.camera.Parameters" />

    <application
        android:allowBackup="true"
        android:icon="@drawable/ic_launcher"
        android:label="@string/app_name"
        android:theme="@style/AppTheme" android:debuggable="true">
        <activity
            android:name="com.example.flashlight.MainActivity"
            android:label="@string/app_name" >
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />

                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
    </application>

</manifest> 
```

**回答**：

我发现在我需要在我的 SurfaceView 下添加的 activity_main.xml 中的最后一行：

activity_main.xml

```
<SurfaceView
android:id="@+id/PREVIEW"
android:layout_width="1dip"
android:layout_height="1dip"
android:visibility="visible" /> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-04-14T12:59:38.267

检查 flashModes 是否可用。并且还会使您`Camera mCamera static`在方向更改时失去相机实例。

```
public static void FlashOn(Camera mCamera)
    {
        //Get Camera Params for customisation
        Camera.Parameters parameters = mCamera.getParameters();

        //Check Whether device supports AutoFlash, If you YES then set AutoFlash
        List<String> flashModes = parameters.getSupportedFlashModes();
        if (flashModes.contains(android.hardware.Camera.Parameters.FLASH_MODE_TORCH))
        {
             parameters.setFlashMode(Parameters.FLASH_MODE_TORCH);
        }
        else if(flashModes.contains(Parameters.FLASH_MODE_ON))
        {
             parameters.setFlashMode(Parameters.FLASH_MODE_ON);
        }
        mCamera.setParameters(parameters);
        mCamera.startPreview();
    }

    public static void FlashOff(Camera mCamera)
    {
        //Get Camera Params for customisation
        Camera.Parameters parameters = mCamera.getParameters();

        //Check Whether device supports AutoFlash, If you YES then set AutoFlash
        List<String> flashModes = parameters.getSupportedFlashModes();
        if (flashModes.contains(android.hardware.Camera.Parameters.FLASH_MODE_OFF))
        {
             parameters.setFlashMode(Parameters.FLASH_MODE_OFF);
        }
        mCamera.setParameters(parameters);
        mCamera.startPreview();
    } 
```

# sqlite - 为 Windows Phone 8 编译 SQLite

> ID：14785506
> 
> 赞同：5
> 
> 时间：2013-02-09T06:11:47.137
> 
> 标签：sqlite, windows-phone-8

参考问题[Build SQLite for Windows Phone 8](https://stackoverflow.com/questions/14074821/build-sqlite-for-windows-phone-8)

我在为 Windows Phone 8 编译 SQLite 时也遇到了同样的问题。我试过了

nmake -f Makefile.msc sqlite3.dll FOR_WINRT=1

我正在使用 VS 2012 X86 电话工具命令提示符进行编译。而且我还注意到它正在选择正确的 cl.exe。但它抱怨缺少“winreg.h”头文件。我没有看到此头文件在 Windows Phone 工具包文件夹下可用。

*vs控制台日志：*

```
 sqlite3.c
    C:\Program Files (x86)\Windows Phone Kits\8.0\include\windows.h(182) : fatal err
    or C1083: Cannot open include file: 'winreg.h': No such file or directory
    NMAKE : fatal error U1077: '"C:\Program Files (x86)\Microsoft Visual Studio 11.0
    \VC\WPSDK\WP80\BIN\cl.EXE"' : return code '0x2'
     Stop. 
```

而且，我检查了 Makefile.msc，我没有找到任何可用于 WP8 的特定编译器选项。我已经按照 Tim Heuer [Note](https://skydrive.live.com/view.aspx?resid=A737583042956228!1940&cid=a737583042956228)成功为 WIN RT 编译。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-09-18T10:09:14.840

看看这是否可以帮助您解决问题。

***右键单击***您遇到问题中提到的错误的项目。

检查***构建***并在条件编译符号中粘贴 SILVERLIGHT;WINDOWS_PHONE;USE_WP8_NATIVE_SQLITE

希望这可以帮助

![在此处输入图像描述](../Images/a0c045640051490b9bb7505ad5762f0e.png)

# xaml - 在多个 GridView 控件之间共享样式

> ID：14785508
> 
> 赞同：1
> 
> 时间：2013-02-09T06:12:25.963
> 
> 标签：xaml, gridview, windows-8, winrt-xaml

我需要在`GridView`整个应用程序中使用相同的视觉样式设置多个样式。此样式包括自定义`ItemsPanel`属性以及`GroupStyle`属性。

我的问题是`GroupStyle`属性`GridView`不是依赖属性。所以我想写的代码（见下文）不起作用。

您知道`GroupStyle`在几个`GridView`s 之间共享样式（包括 ）的干净方法吗？

我唯一能想到的是使用 a`GroupStyleSelector`但它有点愚蠢，因为没有选择：它总是`GroupStyle`被使用的相同。此外，我怀疑它不会在设计时反映在 VS & Blend 中。

我想使用的代码：

```
<GridView 
     ItemsSource="..."
     ItemTemplate="..."
     Style="{StaticResource MainMenuStyle}"/>

<Style TargetType="GridView" x:Key="MainMenuStyle">
    <Setter Property="ItemsPanel">
        <Setter.Value>
            ...
        </Setter.Value>
    </Setter>
    <Setter Property="GroupStyle">
        <Setter.Value>
            <GroupStyle>
                ...
            </GroupStyle>
        </Setter.Value>
    </Setter>
</Style> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-21T01:55:27.710

我有一个神奇的快乐解决方案。

您可以创建在样式中设置的自定义附加属性，并在内部设置后设置 GridView 上的 GroupStyle 属性。

附加属性：

```
// Workaround for lack of generics in XAML
public class GroupStyleCollection : Collection<GroupStyle>
{
}

public class GroupStyleHelper
{
    public static ICollection<GroupStyle> GetGroupStyle(ItemsControl obj)
    {
        return (ICollection<GroupStyle>)obj.GetValue(GroupStyleProperty);
    }

    public static void SetGroupStyle(ItemsControl obj, ICollection<GroupStyle> value)
    {
        obj.SetValue(GroupStyleProperty, value);
    }

    public static readonly DependencyProperty GroupStyleProperty =
        DependencyProperty.RegisterAttached(
            "GroupStyle",
            typeof(ICollection<GroupStyle>),
            typeof(GroupStyleHelper),
            new PropertyMetadata(null, OnGroupStyleChanged));

    private static void OnGroupStyleChanged(DependencyObject d, DependencyPropertyChangedEventArgs e)
    {
        ItemsControl itemsControl = d as ItemsControl;
        if (itemsControl == null)
            return;

        RefreshGroupStyle(itemsControl, GetGroupStyle(itemsControl));
    }

    private static void RefreshGroupStyle(ItemsControl itemsControl, IEnumerable<GroupStyle> groupStyle)
    {
        itemsControl.GroupStyle.Clear();

        if (groupStyle == null)
            return;

        foreach (var item in groupStyle)
        {
            itemsControl.GroupStyle.Add(item);
        }
    }
} 
```

XAML 样式：

```
 <Style TargetType="ItemsControl">
        <Setter Property="GroupStyleTest:GroupStyleHelper.GroupStyle">
            <Setter.Value>
                <GroupStyleTest:GroupStyleCollection>
                    <GroupStyle>
                        <GroupStyle.HeaderTemplate>
                            <DataTemplate>
                                <TextBlock FontWeight="Bold" FontSize="15" Text="{Binding Path=Name}" Foreground="HotPink"/>
                            </DataTemplate>
                        </GroupStyle.HeaderTemplate>
                    </GroupStyle>
                </GroupStyleTest:GroupStyleCollection>
            </Setter.Value>
        </Setter>
    </Style> 
```

免责声明：我在 WPF 而不是 WinRT 中对此进行测试，但据我所知，它应该可以正常工作。这也是我使用 ItemsControl 而不是 GridView 的原因，但无论如何属性都是 ItemsControl.GroupStyle。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-20T08:58:22.843

我有一个解决方案，这肯定会根据您的问题起作用，但是您应该决定是否在您的情况下使用它。

> *   如果您必须在整个项目中制作相同样式的控件，那么您应该创建一个公共文件夹，并在该文件夹中创建一个“自定义用户控件”并应用您的所有样式并根据需要自定义它。
>     
>     
> *   之后，当您需要在同一控件（任何网格控件）上应用相同类型的样式时，只需添加该自定义用户
>     控件而不是预定义控件

**通过这样做，您还将实现 MVC 架构和模块化。**

我正在使用 XAML 在 C# 中开发 Windows 8 Metro 应用程序，并且每当我想要这种方法时，我总是使用这个解决方案并且它总是有效的......

要创建自定义用户控件，您应该使用**Visual Studio** & 在该**项目中右键单击 -> 添加 -> 新项目 -> 用户控件**

（抱歉，如果您在这里找不到解决方案，但我认为这可能会有所帮助......）

# android - 与 sim 通信

> ID：14785511
> 
> 赞同：2
> 
> 时间：2013-02-09T06:12:43.797
> 
> 标签：android, sim-card

我是 android 硬件操作开发的新手。我将只与连接到硬件设备的 SIM 卡进行通信。当我在 android 应用程序的帮助下给出指令时，它会转到硬件连接的 SIM 卡执行特定操作。可以任何人都为我提供开发此任务的指导。

[任何人都可以为我提供 .net 中可用](http://www.codeproject.com/Articles/16653/A-Smart-Card-Framework-for-NET)的 android 的 simcard 名作和文档吗

先感谢您。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-09-16T17:33:22.067

您可以将 APDU（命令）发送到通用小程序或标准（SIM/USIM/UICC）小程序以自行处理卡（更新文件、安装/删除/禁用小程序等....）。我建议您阅读本[文档](http://miun.diva-portal.org/smash/get/diva2:423013/FULLTEXT02.pdf#page=18&zoom=auto,69,355)，它可能会有所帮助（对 SIM 卡环境的非常好的概述）。

在开始开发之前，您至少需要了解卡片的基本知识，这个视频也可以帮助[https://www.youtube.com/watch?v=31D94QOo2gY](https://www.youtube.com/watch?v=31D94QOo2gY)

# java - Selenium Grid 2 并行测试用例执行

> ID：14785516
> 
> 赞同：0
> 
> 时间：2013-02-09T06:13:59.893
> 
> 标签：java, selenium, grid

我想使用 Selenium Grid 进行测试，因为我已经成功启动了 Grid 并启动了 HUB 和 NODE .. 我也完美地设置了 RemoteWebdriver Capability .. 但是当我尝试运行测试时，所有的浏览器都被完美地打开了但我面临的问题是一些浏览器停在中间

一些打开网页并停止
一些进入登录页面并停止一些登录并停止并给我错误为

*   未找到元素
*   无法单击元素
*   在缓存中找不到元素

任何人都可以帮助我...在此先感谢。

我的示例代码是

```
public class GmailMail{
  private WebDriver driver;
  private String baseUrl;
  private boolean acceptNextAlert = true;
  private StringBuffer verificationErrors = new StringBuffer();

  @BeforeClass
public void setup(String browser) throws InterruptedException, IOException {
    DesiredCapabilities capability=null;

    if(browser.equalsIgnoreCase("googlechrome")){ 

        /*ChromeDriverService chromeDriverService = new ChromeDriverService.Builder()
        .usingDriverExecutable(
                new File("D:\\downloaded setup\\zip file\\chromedriver_win_26.0.1383.0\\chromedriver.exe"))
        .usingAnyFreePort().build();
chromeDriverService.start();
driver = new ChromeDriver(chromeDriverService);*/

  System.out.println("googlechrome"); 
  capability= DesiredCapabilities.chrome(); 
  capability.setBrowserName("chrome"); 
  capability.setPlatform(org.openqa.selenium.Platform.WINDOWS); 
  //capability.setVersion(""); 

  System.setProperty("webdriver.chrome.driver",
        "D:\\downloaded setup\\zip file\\chromedriver_win_26.0.1383.0\\chromedriver.exe");
        driver = new ChromeDriver();
    }

    if(browser.equalsIgnoreCase("firefox")){
        System.out.println("firefox");
        capability= DesiredCapabilities.firefox();
        capability.setBrowserName("firefox"); 
        capability.setPlatform(org.openqa.selenium.Platform.ANY);
        //capability.setVersion("");
    }

    if(browser.equalsIgnoreCase("iexplore")){
        System.out.println("iexplore");
        capability= DesiredCapabilities.internetExplorer();
        capability.setBrowserName("iexplore"); 
        capability.setPlatform(org.openqa.selenium.Platform.WINDOWS);
        //capability.setVersion("");*/
        System.setProperty("webdriver.ie.driver", "D:\\downloaded setup\\zip file\\IEDriverServer_Win32_2.29.0\\IEDriverServer.exe");
        driver = new InternetExplorerDriver();
    }

    driver = new RemoteWebDriver(new URL("http://localhost:4444/wd/hub"), capability);
    driver.navigate().to(baseUrl);
    long ss = Thread.currentThread().getId();
    System.out.println("ss: "+ss);

}

  @Test
  public void testUntitled() throws Exception {
    driver.get(baseUrl + "/ServiceLogin?service=mail&passive=true&rm=false&continue=http://mail.google.com/mail/&scc=1&ltmpl=default&ltmplcache=2");
    driver.findElement(By.id("Email")).clear();
    driver.findElement(By.id("Email")).sendKeys("YourUserName");
    driver.findElement(By.id("Passwd")).clear();
    driver.findElement(By.id("Passwd")).sendKeys("YourPassowrd");
    driver.findElement(By.id("signIn")).click();

  }

  @AfterClass
  public void tearDown() throws Exception {
    driver.quit();
    String verificationErrorString = verificationErrors.toString();
    if (!"".equals(verificationErrorString)) {
      fail(verificationErrorString);
    }
  }

  private boolean isElementPresent(By by) {
    try {
      driver.findElement(by);
      return true;
    } catch (NoSuchElementException e) {
      return false;
    }
  }

  private String closeAlertAndGetItsText() {
    try {
      Alert alert = driver.switchTo().alert();
      if (acceptNextAlert) {
        alert.accept();
      } else {
        alert.dismiss();
      }
      return alert.getText();
    } finally {
      acceptNextAlert = true;
    }
  }
} 
```

我的 Testng.xml 是

```
<suite name="Same TestCases on Different Browser" verbose="3"  parallel="tests" thread-count="2">   
  <test name="Run on Internet Explorer">
    <parameter name="browser"  value="firefox"/>
    <classes>
      <class name="TestPAck1.GmailMail"/>
    </classes>
 </test>  
  <test name="Run on Internet Explorer1">
    <classes>
    <parameter name="browser"  value="googlechrome"/>
      <class name="TestPAck1.GmailMail"/>
    </classes>
 </test>

 </suite> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-10T12:39:33.070

乍一看，这似乎是一个同步问题。如果您可以共享代码的适当部分，则可能更容易识别问题。

# iphone - 是否有必要在 deal loc 方法中释放任何控件或 var

> ID：14785522
> 
> 赞同：1
> 
> 时间：2013-02-09T06:15:02.147
> 
> 标签：iphone, objective-c, dealloc

我有五个按钮的视图控制我在那里设置属性也有必要在 dealloc 中释放它们谢谢

```
@interface MainViewController : UIViewController{
    IBOutlet UIButton*homeButton;
    IBOutlet UIButton*economicDataButton;
    IBOutlet UIButton*riskButton;
    IBOutlet UIButton*financialImpactButton;
    IBOutlet UIButton*probabilitiesButton;
    IBOutlet UIButton*enterButton;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-09T06:32:47.187

在 ARC 中，您不必这样做。系统会为您完成。但如果你不使用弧，那么你可以这样做。即使我只为几门课使用弧或部分弧，我仍然这样做。我想我是一个偏执的编码员。:)

编辑：

好吧，如果它是您的项目并且您启动了它，那么您必须在开始时选中该框以使用自动引用计数或不选中它。如果您正在使用其他人的示例项目，请转到项目的目标级别。然后你去构建阶段并扩展它，看看这句话是否出现在任何人面前。-fobjc-弧。那是针对没有弧开始的项目，然后弧被添加到某些类中。另一方面，如果整个项目启用了弧，只需声明一个 iboutlet 并尝试合成它，项目会给您一个错误，要求您提供强引用或弱引用。这就是您知道整个项目已启用弧的方式。快乐编码我的朋友

# php - 如何在codeigniter的不同页面上显示多个视图

> ID：14785523
> 
> 赞同：3
> 
> 时间：2013-02-09T06:15:18.097
> 
> 标签：php, javascript, mysql, codeigniter

我是codeigniter的新手。我想在不同的页面上显示多视图。我创建了一个页面，在该页面上创建了一个编辑按钮。我希望当我点击编辑按钮时，我会在另一个页面上进行重定向。我怎样才能做到这一点？

这是我的代码：

```
class Edit extends CI_Controller
{
    function __construct()
    {
            parent::__construct();
    }
    function edit()
    {
        $this->load->helper('url');
        if($this->input->post('edit') == True)
        {
            redirect('edit');
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-09T06:51:24.183

该按钮将显示在视图中，这意味着单击视图中的按钮应重定向到其他页面（视​​图）：

在视图上使用锚点：

```
 <?php echo anchor('controller_name/function_name', 'acnchor_name'); ?>

 <?php echo anchor('Edit/edit', 'edit'); ?> 
```

其中 edit 必须是 function 和 view 的名称。

现在点击它会有一个视图链接，它将重定向到编辑视图。

希望能帮到你！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-09T07:06:22.523

视图 1：（您的链接所在的位置）

```
<?php echo anchor('Edit/edit', 'Edit Value'); // Here Edit is your controller and edit is the function name. ?> 
```

并在编辑控制器中像这样修改它：

```
class Edit extends CI_Controller
{
    function __construct()
    {
            parent::__construct();
    }

    function edit()
    {
        $this->load->helper('url');
        if($this->input->post('edit') == True)
        {
            //redirect('edit'); //Do not use this as this line will call the same function again.
            $this->load->view('edit_view'); // where edit_view.php is present in your views directory. 
        }
    }
} 
```

希望这可以帮助。

# opengl - 为什么相机必须留在opengl中的原点

> ID：14785525
> 
> 赞同：2
> 
> 时间：2013-02-09T06:15:29.187
> 
> 标签：opengl, graphics, directx, render

所以我正在学习openGL，我觉得很奇怪的一件事是相机停留在原点并朝同一个方向看。要实现相机移动和旋转，您必须移动和旋转整个世界而不是相机。

我的问题是，你为什么不能移动相机？directx 是否允许您移动相机？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-09T07:26:03.430

这是个有趣的问题。我认为答案取决于您在谈论固定相机时的实际意思。

事实上，与其说openGL有一个固定的摄像头，我更愿意说openGL中根本没有任何摄像头。

另一方面，我不同意您对 openGL API 移动或旋转世界的解释。

相反，我会说 openGL API 根本不会移动或旋转世界。

我认为 openGL API 中没有任何相机概念的原因是，它并不是一个高级抽象层，而是与显示计算机图形的计算需求相关联。

正如我建议您主要讨论的是显示 3 维场景，这意味着将 3D 顶点数据转换为 2D 光栅图像。

对于渲染的每一帧，这涉及将场景中每个顶点的 3-D 坐标转换为它们在屏幕上对应的 2D 位置的变换。

由于每个顶点都必须放置在屏幕上的正确位置，因此如果您在概念上移动相机之类的东西或只是移动整个世界，则根本不会产生任何计算差异，尽管如此，您仍必须进行相同的转换。

计算屏幕上顶点的“正确”位置所涉及的数学可以通过称为矩阵的数学对象来描述，当应用于 3-D 数据时（用于此应用的数学术语是矩阵乘法）将导致所需的 2D 屏幕坐标。

所以本质上，在渲染 3-D 场景时发生的事情——不管是否有任何相机——每个顶点都由某个变换矩阵处理，而顶点的原始 3-D 数据保持不变。

由于 3-D 顶点数据根本没有改变，我会说 openGL 根本不会移动或旋转世界，但这种“观察”可能取决于观察者的观点。

事实上，保持 3-D 顶点数据完整而不更改它对于防止 3-D 场景由于累积的舍入误差而变形至关重要。

我希望我可以通过在 openGL API 中表达我对谁或什么移动谁或为什么移动谁的意见来提供帮助。

即使我不能说服你在使用 openGL API 时不涉及文字移动，也不要忘记它根本不加权任何东西的事实，所以移动它不应该太痛苦。

顺便提一句。不要费心调查您的问题中提到的专有库并继续依赖开放标准。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-09T07:24:18.543

移动世界和移动相机有什么区别？数学上……没有；无论哪种方式，它都是相同的数字。这都是一个观点问题。只要您正确编码相机抽象，如果您不想这样做，您就不必将其视为移动世界。

# c# - SendMessage() 复制/剪切/粘贴 WM_COPYDATA 0x004A

> ID：14785526
> 
> 赞同：-4
> 
> 时间：2013-02-09T06:15:33.407
> 
> 标签：c#

我一直在浏览，我不清楚**如何简单地发送 Ctrl+x 或 Ctrl+c 命令** *来复制/剪切 data(strings)*，但我很确定这是所需的 pInvoke。快手，有人吗？

```
[DllImport("user32.dll")]
private static extern IntPtr SendMessage(IntPtr hWnd, int Msg, IntPtr wParam, IntPtr lParam); 
```

可能与此一起： [DllImport("user32.dll")] static extern IntPtr SetClipboardData(uint uFormat, IntPtr hMem);

不知道如何正确使用其中任何一个，请帮助。

```
IntPtr nextClipboardAppWindow;
public frmMain()
{
        nextClipboardAppWindow = (IntPtr)SetClipboardViewer((int)this.Handle);
}

    protected override void WndProc(ref System.Windows.Forms.Message m)
    {
        // defined in winuser.h
        const int WM_DRAWCLIPBOARD = 0x308;
        const int WM_CHANGECBCHAIN = 0x030D;
        switch (m.Msg)
        {
            case WM_DRAWCLIPBOARD:
                //DisplayClipboardData();
                SendMessage(nextClipboardAppWindow, m.Msg, m.WParam,
                            m.LParam);
                break;

            case WM_CHANGECBCHAIN:
                if (m.WParam == nextClipboardAppWindow)
                    nextClipboardAppWindow = m.LParam;
                else
                    SendMessage(nextClipboardAppWindow, m.Msg, m.WParam,
                                m.LParam);
                break;

            default:
                base.WndProc(ref m);
                break;
        }
    } 
```

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-02-09T06:24:15.020

如果您使用的是 .Net 并且可以访问，`System.Windows.Forms`那么您可以使用`Clipboard`类`Set`或`Get`剪贴板数据。这是 MSDN 的链接，其中包含示例。

[http://msdn.microsoft.com/en-us/library/system.windows.forms.clipboard.aspx](http://msdn.microsoft.com/en-us/library/system.windows.forms.clipboard.aspx)

`Clipboard`类实际上将数据发布到系统剪贴板。它不受应用程序的约束。这很简单

`System.Windows.Forms.Clipboard.SetText("This will be available across all applications");`

# r - ggplot：多列值的箱线图

> ID：14785530
> 
> 赞同：12
> 
> 时间：2013-02-09T06:16:29.733
> 
> 标签：r, ggplot2

这是我作为 csv 文件导入的数据类型：

```
RPID    mm  ID  Time    Freq    Freq.1  Freq.2
RPO483  1   B6AC    5   23301   30512   
RPO483  1   B6AC    25  19      17  
RPO244  1   B6C     5   14889   20461   
RPO244  1   B6C     25  81      86  
RPO876  1   G3G3A   5   106760  59950   103745
RPO876  1   G3G3A   25  4578    38119   37201
RPO876  7   F3G3A   5   205803  148469  173580
RPO876  7   F3G3A   25  28648   30321   26454
RPO939  7   F3E324A 5   242285      
RPO939  7   F3E324A 25  42837       
RPO934  7   F3E325A 5   242001  129272  112371
RPO934  7   F3E325A 25  73057   58685   66582 
```

对于每个“ID”，我想为“Freq”、“Freq.1”和“Freq.2”列中的值生成一个箱线图。但是，目前我只能成功绘制一个 Y 值——例如：

```
dataset <- read.csv("~/R/dataset.csv")
library(ggplot2)
p <- ggplot(dataset) 
p + geom_boxplot(aes(x=ID, y=Freq, color=mm)) 
```

我尝试过类似 y=c(Freq,Freq.1,Freq.2) 的方法，但这会导致以下结果：

```
Error: Aesthetics must either be length one, or the same length as the dataProblems:ID 
```

我确信有一个简单的解决方案，但由于我对 R 很陌生，我无法判断这是否是错误的数据格式、错误的语法、错误的包或完全其他问题。

任何帮助将不胜感激 ！

* * *

## 回答 #1

> 赞同：29
> 
> 时间：2013-02-09T06:31:21.713

您需要重塑数据才能进行绘图。

首先，我阅读了您的数据。请注意，您有一些***NA***值。

```
dat <- read.table(text = '
RPID    mm  ID  Time    Freq    Freq.1  Freq.2
RPO483  1   B6AC    5   23301   30512   
RPO483  1   B6AC    25  19      17  
RPO244  1   B6C     5   14889   20461   
RPO244  1   B6C     25  81      86  
RPO876  1   G3G3A   5   106760  59950   103745
RPO876  1   G3G3A   25  4578    38119   37201
RPO876  7   F3G3A   5   205803  148469  173580
RPO876  7   F3G3A   25  28648   30321   26454
RPO939  7   F3E324A 5   242285      
RPO939  7   F3E324A 25  42837       
RPO934  7   F3E325A 5   242001  129272  112371
RPO934  7   F3E325A 25  73057   58685   66582',head=T, fill=T) 
```

使用`reshape2`例如

```
library(reshape2)
dat.m <- melt(dat,id.vars='ID', measure.vars=c('Freq','Freq.1','Freq.2'))
library(ggplot2)
p <- ggplot(dat.m) +
      geom_boxplot(aes(x=ID, y=value, color=variable)) 
```

![在此处输入图像描述](../Images/34ce05f7887282da7096290c789d68cc.png)

# asp.net - 如何在创建用户向导按钮中添加目标页面 URL？

> ID：14785532
> 
> 赞同：2
> 
> 时间：2013-02-09T06:17:09.160
> 
> 标签：asp.net, .net, createuserwizard

我正在尝试在 asp 中自定义创建用户向导控件。它的作用是在创建用户后将我重定向到继续页面，但我希望在创建页面后显示自定义页面......我该怎么办？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-09T06:19:43.913

处理[CreatedUser](http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.createuserwizard.createduser.aspx)事件，然后`Response.Redirect()`

或使用控件的[属性](http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.createuserwizard_properties.aspx)：

> ContinueDestinationPageUrl 获取或设置用户单击成功页面上的继续按钮后将看到的页面的 URL。
> 
> FinishDestinationPageUrl 获取或设置用户单击“完成”按钮时重定向到的 URL。

# c++ - 使用 C++ Chrono 处理更新循环？

> ID：14785533
> 
> 赞同：8
> 
> 时间：2013-02-09T06:17:09.707
> 
> 标签：c++, milliseconds, chrono

我肯定对新的 C++ chrono 库有点迷失了。

这里我有一个更新循环。它运行两个操作：

```
engine.Update()
engine.Render() 
```

这些都是长时间的操作，很难说它们有多长。

因此，我们测量它们花费了多长时间，然后进行一些计算并找出在调用渲染之前逐渐调用更新的最佳方法。

为此，我使用了 C++11 的 Chrono 功能。我选择它是因为它听起来很划算：更准确，更依赖于平台。我发现我遇到的问题比现在更多。

以下是我的代码，也是我的主要问题。非常需要有关问题或进行操作的正确方法的任何帮助！

我在有问题的行旁边的评论中直接标记了我的问题，我将在下面重复。

头文件：

```
class MyClass
{
private:
    typedef std::chrono::high_resolution_clock Clock;
    Clock::time_point mLastEndTime;
    milliseconds mDeltaTime;
} 
```

简化的更新循环

```
// time it took last loop
milliseconds frameTime;
// The highest we'll let that time go. 60 fps = 1/60, and in milliseconds, * 1000
const milliseconds kMaxDeltatime((int)((1.0f / 60.0f) * 1000.0f)); // It's hard to tell, but this seems to come out to some tiny number, not what I expected!
while (true)
{
    // How long did the last update take?
    frameTime = duration_cast<milliseconds>(Clock::now() - mLastEndTime); // Is this the best way to get the delta time, with a duration cast?
    // Mark the last update time
    mLastEndTime = Clock::now();

    // Don't update everything with the frameTime, keep it below our maximum fps.
    while (frameTime.count() > 0) // Is this the best way to measure greater than 0 milliseconds?
    {
        // Determine the minimum time. Our frametime, or the max delta time?
        mDeltaTime = min(frameTime, kMaxDeltatime);

        // Update our engine.
        engine->Update((long)mDeltaTime.count()); // From here, it's so much easier to deal with code in longs. Is this the best way to shove a long through my code?

        // Subtract the delta time out of the total update time 
        frameTime -= mDeltaTime;
    }
    engine->Render();
} 
```

主要问题是：我的 mDeltaTime 总是很小。它基本上陷入了一个几乎无限的循环。这是因为 kMaxDeltatime 非常小，但如果我的目标是每秒 60 帧，我计算的不是正确的毫秒数吗？

以下是上面列出的所有问题：

```
const milliseconds kMaxDeltatime((int)((1.0f / 60.0f) * 1000.0f)); // It's hard to tell, but this seems to come out to some tiny number, not what I expected!

frameTime = duration_cast<milliseconds>(Clock::now() - mLastEndTime); // Is this the best way to get the delta time, with a duration cast?

while (frameTime.count() > 0) // Is this the best way to measure greater than 0 milliseconds?

engine->Update((long)mDeltaTime.count()); // From here, it's so much easier to deal with code in longs. Is this the best way to shove a long through my code? 
```

我很抱歉混淆了伙计们。我觉得这个 chrono 库是个白痴。大多数帮助站点、参考资料，甚至直接代码本身都很难阅读和理解我所应用的内容。非常欢迎指出我应该如何搜索解决方案或代码！

编辑：Joachim 指出 std::min/max 可以在几毫秒内正常工作！更新了代码以反映更改。

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2013-04-05T17:24:28.020

使用时，`std::chrono`您应尽可能避免将持续时间转换为原始整数值或将持续时间转换为原始整数值。相反，您应该坚持自然持续时间并利用持续时间类型提供的类型安全性。

以下是一系列具体建议。对于每条建议，我都会引用您的原始代码行，然后展示我将如何重写这些行。

* * *

> ```
> const milliseconds kMaxDeltatime((int)((1.0f / 60.0f) * 1000.0f)); // It's hard to tell, but this seems to come out to some tiny number, not what I expected! 
> ```

没有理由使用手动转换常量进行这种计算。相反，您可以这样做：

```
typedef duration<long,std::ratio<1,60>> sixtieths_of_a_sec;
constexpr auto kMaxDeltatime = sixtieths_of_a_sec{1}; 
```

* * *

> ```
> frameTime = duration_cast<milliseconds>(Clock::now() - mLastEndTime); // Is this the best way to get the delta time, with a duration cast? 
> ```

您可以将值保留为其本机类型：

```
auto newEndTime = Clock::now();
auto frameTime = newEndTime - mLastEndTime;
mLastEndTime = newEndTime; 
```

* * *

> ```
> while (frameTime.count() > 0) // Is this the best way to measure greater than 0 milliseconds? 
> ```

而是使用：

```
while (frameTime > milliseconds(0)) 
```

* * *

> ```
> engine->Update((long)mDeltaTime.count()); // From here, it's so much easier to deal with code in longs. Is this the best way to shove a long through my code? 
> ```

最好编写`chrono::duration`始终使用类型的代码，而不是完全使用泛型整数类型，但是如果您确实需要获取泛型整数类型（例如，如果您必须将 a 传递`long`给第三方 API），那么您可以这样做就像是：

```
auto mDeltaTime = ... // some duration type

long milliseconds = std::chrono::duration_cast<std::duration<long,std::milli>>(mDeltaTime).count();
third_party_api(milliseconds); 
```

或者：

```
auto milliseconds = mDeltaTime/milliseconds(1); 
```

要获得增量，您应该执行以下操作：

```
typedef std::common_type<decltype(frameTime),decltype(kMaxDeltatime)>::type common_duration;
auto mDeltaTime = std::min<common_duration>(frameTime, kMaxDeltatime); 
```

# javascript - 用jquery将文章从英语翻译成印地语

> ID：14785538
> 
> 赞同：0
> 
> 时间：2013-02-09T06:19:23.603
> 
> 标签：javascript, jquery, google-translate

实际上，我正在开发一个将文章从英语转换为印地语的应用程序。所以我想知道是否可以在 jquery 中将字符串从英语转换为印地语。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-09T06:23:43.650

我不这么认为。您可以尝试使用[http://translate.google.com/](http://translate.google.com/) 印地语不是一种很常见的语言，大多数人甚至没有阅读所需的字体！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-09T06:23:56.943

你可以把这行文字放在你的标题中，它会在你的页面上嵌入谷歌翻译

```
 <a href="http://translate.google.com/translate?u=%lookup~url:current%">Translation</a> 
```

那会为你翻译

# excel - Excel 中是否有使用 TEXT 函数屏蔽字符串的字符？

> ID：14785546
> 
> 赞同：0
> 
> 时间：2013-02-09T06:20:44.547
> 
> 标签：excel, excel-formula

Excel TEXT 函数中是否有用于屏蔽 STRING 值的字符？

尝试使用掩码`"0000-000000-00000-0000"`似乎会将字符串转换为数字。我只是想在特定数量的字符之间添加连字符。

我也尝试过`"@@@@-@@@@@@-@@@@@-@@@@"`，`"####-######-#####-####"`但无济于事。

* * *

背景：

[在上一个问题](https://stackoverflow.com/questions/14755672/string-conversion-with-text-formula-character-limit/14756265#comment20664893_14756265)中，由于 Excel 中的 15 位有效数字限制，确定无法将特定的自定义数字掩码应用于字符串。

目标是使用以下公式将 TEXT 值转换为`5145350002005000080`：`5145-350002-00500-0080`

```
=text(A1,"0000-000000-00000-0000") 
```

产生的输出是：

`5145-350002-00500-0000`

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-09T06:38:51.397

您将需要使用 Excel 字符串函数。

这可行，尽管它不是完成工作的常用方法：

```
 =REPLACE(REPLACE(REPLACE(A1,16,0,"-"),11,0,"-"),5,0,"-") 
```

比较典型的方法：

```
 =LEFT(A1,4)&"-"&MID(A1,5,6)&"-"&MID(A1,10,5)&"-"&RIGHT(A1,4) 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-09T11:24:37.123

不幸的是，不可能使用- 根据[TEXT 函数描述对任何](http://office.microsoft.com/en-001/excel-help/text-function-HP010062580.aspx)**字符串**值应用标记，它可能只对数字进行：`TEXT`

> TEXT 函数将**数值**转换为文本，并允许您使用特殊格式字符串指定显示格式。
> 
> 句法
> 
> `TEXT(value, format_text)`
> 
> TEXT 函数语法具有以下参数：
> 
> `value` 必需的。**数值**、计算结果为数值的公式或对包含数值的单元格的引用。

所以看起来你实现你想要的唯一方法 - 是应用推荐的字符串转换。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-07-07T12:18:37.280

选择单元格->按Ctrl+1->从“单元格格式”对话框的“数字”选项卡中选择“自定义”并粘贴到下面的类型编辑框中。

“盒子”；“盒子”；“盒子”；“盒子”

[![在此处输入图像描述](../Images/4031ec2b95d2f196af7db5c2c04565c7.png)](https://i.stack.imgur.com/BMl6J.jpg)

来源：[这里](https://social.technet.microsoft.com/Forums/ie/en-US/5494bd09-564f-4b0b-80ab-c877ca3f9dc4/mask-values-as-text-show-text-in-place-of-values-while-keeping-the-values?forum=excel)

# android - 实现无尽的适配器

> ID：14785547
> 
> 赞同：4
> 
> 时间：2013-02-09T06:20:52.237
> 
> 标签：android, cwac-endless, endlessadapter

我使用 doInBackground() 方法从服务器获取全部数据，如下所示。

```
class DataLoader extends Activity{

    public void onCreate()
    {
         ...............................
          new AsyncTask1().execute();
    }

    class AsyncTask1 extends AsyncTask<String, String, String> {

            @Override
            protected void onPreExecute() {
                super.onPreExecute();
                progressDialog = new ProgressDialog(DataLoader.this);
                progressDialog.setMessage("Loading...");
                progressDialog.setCancelable(false);
                progressDialog.show();
            }

            protected String doInBackground(String... args) {

                JSONObject json;

                List<NameValuePair> params = new ArrayList<NameValuePair>();

                    params.add(new BasicNameValuePair("param1",datafield1));
                    params.add(new BasicNameValuePair("param2",datafield2));
                    json = jsonParser.makeHttpRequest(url, "POST", params);

                try {

                    int success = json.getInt(SUCCESS);

                    if (success == 1) {

                        products = json.getJSONArray(PRODUCTS);

                        // looping through All Products
                        for (int i = 0; i < products.length(); i++) {
                            JSONObject c = products.getJSONObject(i);

                            // Storing each json item in variable
                            String id = c.getString(ID);
                            String price = c.getString(PRICE);
                            String name = c.getString(NAME);

                            // creating new HashMap
                            HashMap<String, String> map = new HashMap<String, String>();

                            // adding each child node to HashMap key => value
                            map.put(PID, id);
                            map.put(PRICE, price);
                            map.put(NAME, name);

                           ..................

                            // adding HashList to ArrayList
                            productsList.add(map);

                        }
                        return "success";
                    }
                    else {
                        // no materials found for this section

                    }
                } catch (JSONException e) {
                    e.printStackTrace();
                }

                return null;
            }

            protected void onPostExecute(String msg) {

                if( msg != null && msg.equals("success"))
                {

                progressDialog.dismiss();
                // updating UI from Background Thread
                runOnUiThread(new Runnable() {
                    public void run() {
                        /**
                         * Updating parsed JSON data into ListView
                         * */

                        customadapter=new CustomAdapterList(DataLoader.this, productsList);        
                        listView.setAdapter(adapter);

                    }
                });

                }
            }
        } 
```

根据上面的代码，我仅在加载整个数据后才将数据设置为方法`listview`中的。`onPostExecute()`但是现在我想`CW Endless Adapter`用当前的代码来实现，但由于我是新手，我无法从这里开始。我在 libs 文件夹中包含了 CWAdapter jar 文件。参考[了这个](http://droidista.blogspot.co.il/2011/04/using-cwacs-endlessadapter-with-custom.html)并搜索了很多，但没有用。有人可以帮我为我得到的数据实现无尽的功能吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-09T06:37:43.793

基本思想是在`AsyncTask`需要更多数据时运行，即当使用滚动到列表底部时。这是一个[快速演示项目](https://gist.github.com/anonymous/b4d3597e913327afadd5)。

# f# - 是否有库函数或运算符来创建元组？

> ID：14785550
> 
> 赞同：11
> 
> 时间：2013-02-09T06:21:20.203
> 
> 标签：f#

给定一串数字，我想要一个元组序列，将非零字符与它们在字符串中的位置进行映射。例子：

```
IN: "000140201"
OUT: { (3, '1'); (4, '4'); (6, '2'); (8, '1') } 
```

解决方案：

```
let tuples = source
             |> Seq.mapi (fun i -> fun c -> (i, c))
             |> Seq.filter (snd >> (<>) '0') 
```

对于这样一个简单且可能很常见的操作，似乎`(fun i -> fun c -> (i, c))`输入的内容比应有的要多得多。声明必要的函数很容易：

```
let makeTuple a b = (a, b)
let tuples2 = source
              |> Seq.mapi makeTuple
              |> Seq.filter (snd >> (<>) '0') 
```

但在我看来，如果库提供了`snd`函数，它也应该提供`makeTuple`函数（并且可能使用更短的名称），或者至少它应该相对容易编写。我找不到它；我错过了什么吗？我尝试使用框架的 Tuple.Create 构建一些东西，但除了单参数重载之外，我不知道如何获得任何东西。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-02-09T08:01:21.883

> 但在我看来，如果库提供了 snd 函数，它也应该提供 makeTuple 函数。

F# 假设您分解元组（使用`fst`, `snd`）比组合它们更频繁。函数库设计通常遵循*最小*原则。只提供常见用例的功能，其他功能应该易于定义。

> 我找不到它；我错过了什么吗？

不，你不是。这与[FSharpPlus](http://fsprojects.github.io/FSharpPlus/)定义`tuple2`,`tuple3`等的原因相同。以下是直接来自[Operators](https://github.com/fsprojects/FSharpPlus/blob/600f538b4caef97f3159094cb0e34b2215871fef/src/FSharpPlus/Operators.fs#L35-35)的实用函数：

```
/// Creates a pair
let inline tuple2 a b = a,b
/// Creates a 3-tuple
let inline tuple3 a b c = a,b,c
/// Creates a 4-tuple
let inline tuple4 a b c d = a,b,c,d
/// Creates a 5-tuple
let inline tuple5 a b c d e = a,b,c,d,e
/// Creates a 6-tuple
let inline tuple6 a b c d e f = a,b,c,d,e,f 
```

> 我尝试使用框架的 Tuple.Create 构建一些东西，但除了单参数重载之外，我不知道如何获得任何东西。

F# 编译器隐藏 的属性`System.Tuple<'T1, 'T2>`以对元组强制执行模式匹配习语。有关更多详细信息，请参阅[F# 元组的扩展方法。](https://stackoverflow.com/questions/14115260/extension-methods-for-f-tuples)

*也就是说，F# 中并不总是推荐使用无点样式。如果您喜欢无积分，则必须自己做一些繁重的工作。*

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-12-31T04:27:27.027

@pad 的答案很棒，只是为了增加我的 2 美分：我正在使用类似的运算符

```
let inline (-&-) a b = (a, b) 
```

而且看起来写起来很方便`let x = a -&- b`

也许你会发现这个运算符也很有用

# javascript - 向 Highstock 点添加附加信息

> ID：14785559
> 
> 赞同：0
> 
> 时间：2013-02-09T06:23:12.093
> 
> 标签：javascript, highstock

我正在使用***Highstock***库（不是*Highcharts*）并且遇到了一个我确信可以解决的问题。

我需要为系列中的每个点添加一些动态信息。*Highstock*有一个内置功能，`tooltip`可以显示关于某个点的有限信息`onHover`。

我尝试在创建时添加一个新属性；但是，此新属性在`tooltip`.

有趣的是*Highcharts*库中提供了这个确切的功能，但如果可能的话，我想坚持使用*Highstock*。

*这是在Highcharts*中显示所需结果[的小提琴](http://jsfiddle.net/japanick/dWDE6/)。

我已经开始在[*Highstock* javascript 文件](http://code.highcharts.com/stock/highstock.src.js)中四处寻找一种方法来扩展实际添加到系列中的点的属性，但*我取得了一些有限的成功*。

我已将该属性添加到从 line 开始`8319`并再次在`ll320`. 这似乎确实有效，但只有当图表放大时......非常奇怪。

**有没有人尝试过这个，或者对我可能忽略的内容有所了解？**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T14:31:41.257

您可以简单地添加自己的自定义属性，然后在工具提示中您可以通过以下方式访问它们：

```
this.points[x].point.options.your_property; 
```

见：http: [//jsfiddle.net/dWDE6/199/](http://jsfiddle.net/dWDE6/199/)

您应该注意的只有一个限制：当 dataGrouping 受到影响时，所有点都会被创建为新点，因此您无权访问该自定义属性。

# iphone - iOS应用程序中的用户配置文件？

> ID：14785562
> 
> 赞同：2
> 
> 时间：2013-02-09T06:23:43.950
> 
> 标签：iphone, xcode, user-profile, storing-data

我正在开发一个 iOS 应用程序，并且我计划拥有一个系统，应用程序将通过该系统存储“用户配置文件”。这将是有关用户的信息，例如姓名、性别和年龄，应用程序的其余部分将不得不使用和响应这些数据。即如果性别是女性，则使用女性代词。

我考虑使用 NSUserDefaults 类，但我希望应用程序能够存储多个配置文件，然后在启动时选择其中一个配置文件并反映在整个应用程序中。

最好的方法是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-09T06:29:23.697

如果 NSUserDefaults 通常适合您的需求，那么您可以使用一个简单的技巧来为不同的用户分离数据。

只需使用在密钥开头具有用户名或其他标识符的密钥，并使用该密钥为该用户存储数据。

像这样一个简单的辅助方法将为您提供使用密钥：

```
- (NSString *)generateKey:(NSString *)key forUsername:(NSString *)username {
    return [NSString stringWithFormat:@"%@:%@", username, key];
} 
```

您可能会变得更复杂，并将所有数据存储在 NSDictionary 中，其中用户名（或 id）作为键，该用户的设置作为值，但您现在可能不需要或不希望这种复杂性。

# android - Android - 针对电子邮件服务器验证登录

> ID：14785564
> 
> 赞同：0
> 
> 时间：2013-02-09T06:24:07.707
> 
> 标签：android, email, login, smtp

我正在尝试针对电子邮件服务器（ smtp ）验证用户的登录信息（用户名和密码）。我使用 JavaMail API 使其在纯 Java 中工作，但我猜 JavaMail 与 Android 不兼容。有没有人有什么建议？

感谢所有帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-09T06:29:05.047

试试[Apache commons net](http://commons.apache.org/net/)，它支持：

*   SMTP(S)
*   POP3(小)
*   IMAP(S)

还有一些客户端示例：[IMAP](http://commons.apache.org/net/examples/mail/IMAPMail.java)、[POP3](http://commons.apache.org/net/examples/mail/POP3Mail.java)和[SMTP](http://commons.apache.org/net/examples/mail/SMTPMail.java)。

# android - Achart 引擎条形图 如果它有单个系列，则条形很细

> ID：14785572
> 
> 赞同：2
> 
> 时间：2013-02-09T06:24:57.740
> 
> 标签：android, bar-chart, achartengine

我在我的项目中使用**Achart 引擎**，它工作正常。但是，我看到当我只有一个系列时，条形变细并且不好，但是如果我们有多个系列就可以了，我查看了源代码，我看到了

```
drawSeries method they are calling getHalfDiffX(points, length, seriesNr); 
```

该方法实现是这样的：

```
protected float getHalfDiffX(List<Float> points, int length, int seriesNr) {
    int div = length;
    if (length > 2) {
      div = length - 2;
    }

    float halfDiffX= (points.get(length - 2) - points.get(0)) / div;
    if (halfDiffX == 0) {
      halfDiffX = 10;
    }

    if (mType != Type.STACKED) {
      halfDiffX /= seriesNr;
    }
    return (float) (halfDiffX / (getCoeficient() * (1 + mRenderer.getBarSpacing())));
  } 
```

正是因为这样的说法：

```
if (halfDiffX == 0) {
          halfDiffX = 10;
        } 
```

如何解决这个问题？我试图在[这里](http://code.google.com/p/achartengine/issues/)发布我的问题。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-09T10:48:35.677

我添加了一个新`setBarWidth()`的，`XYMultipleSeriesRenderer`例如您现在可以为条形设置一个恒定的像素宽度。

```
renderer.setBarWidth(100); 
```

[您可以在此处](https://repository-achartengine.forge.cloudbees.com/snapshot/org/achartengine/achartengine/1.1.0/)下载包含此功能的版本。

# javascript - 如何在多个页面上使用一个 javascript 对象？

> ID：14785575
> 
> 赞同：-1
> 
> 时间：2013-02-09T06:25:44.953
> 
> 标签：javascript, object, global

我想向一个对象添加属性并将该对象传递给另一个页面。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-09T07:08:57.460

一些东西：

1.  我会将函数组合在一个命名空间中；
2.  你不需要 Base64 编码，因为`encodeURIComponent()`就足够了；
3.  这不适合大型物体，您需`localStorage`要这样做；
4.  您的代码有一些陷阱，例如当一个 href 已经包含一个`?`;

我已经像这样重新设计了它：

```
DataTransferService = {
  sendToUrl: function(obj, url, name) {
    var value = JSON.stringify(obj);

    name = name || 'data';

    return url + (url.indexOf('?') === -1 ? '?' : '&') + name + '=' + encodeURIComponent(value);
  },
  receiveFromCurrentUrl: function(name) {
    return receiveFromUrl(window.location.href, name);
  },
  receiveFromUrl: function(url, name) {
    var value;

    name = name || 'data';
    url = url || window.location.href;

    if ((value = this.getUrlParameter(name, url)) !== null) {
      return JSON.parse(value);
    }
  },
  getUrlParameter:function(name, url) {
    var p, qs;

    if ((p = url.indexOf('?')) === -1) {
      return null;
    }

    qs = url.substr(p + 1).split('&');
    for (var i = 0, len = qs.length; i != len; ++i) {
      var pair = qs[i].split('=');
      if (pair[0] === name) {
        return decodeURIComponent(pair[1]);
      }
    }

    return null;
  }
}; 
```

要使用：

```
var obj = {
    a: 123,
    b: 456,
    c: [1, 3, 5]
};

var url = DataTransferService.sendToUrl(obj, '/path/to/page');
// "/path/to/page?data=..."
location = url; 
```

在接收页面上：

```
var obj = DataTransferService.receiveFromCurrentUrl();
// work with obj here 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-09T06:25:44.953

放入全局 js 文件的函数..

```
function GotoPage(relUrl) {
  var json = JSON.stringify({param1:val1, param2:val2});
  window.location.href = relUrl.concat('?data=').concat(Base64.encode(json));
}

function GetUrlVars() {
    var vars = [], hash;
    var hashes = window.location.href.slice(window.location.href.indexOf('?') + 1).split('&');
    for (var i = 0; i < hashes.length; i++) {
        hash = hashes[i].split('=');
        vars.push(hash[0]);
        vars[hash[0]] = hash[1];
    }
    return vars;
} 
```

假设我们正在从 page1 导航到 page2.. 在 page2 的 .js 文件中，您将编写：

```
var base64data = GetUrlVars()['data']
var jsondata = Base64.decode(base64data)
var data = JSON.parse(data);
var param1 = data.param1;
//do something with the objects properties 
```

有关`Base64`实现，请参阅：[如何在 JavaScript 中将字符串编码为 Base64？](https://stackoverflow.com/questions/246801/how-can-you-encode-to-base64-using-javascript)

# google-apps-script - UiApp 加载后调用函数（Javascript onLoad 等效）

> ID：14785576
> 
> 赞同：2
> 
> 时间：2013-02-09T06:25:44.820
> 
> 标签：google-apps-script

我有一个需要一些电子表格数据的 UiApp 表单（检索缓慢）。我想要实现的是像往常一样加载视图，并在它显示后执行类似调用服务器处理程序的操作，该处理程序获取数据并在完成后更新我的视图。那可能吗？

我环顾四周，但什么也没找到。

据此[，](https://sites.google.com/site/scriptsexamples/learn-by-example/other-examples/stock-watcher-reloaded/create-a-uiapp-script) “函数doGet（e）是onLoad的GWT等价物”，但在我的情况下不是这样，因为我想显示页面，*然后才*做缓慢的部分......

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-09T16:52:56.877

[偶然发现了这个](http://productforums.google.com/forum/#!topic/apps-script/2pqhh_eTIvQ)，我们可以用它来实现一个伪 onLoad 事件。

`setValue`复选框上的函数有[一个可选参数](https://developers.google.com/apps-script/class_checkbox?hl=en#setValue)来触发 valueChanged 处理程序。因此，您可以以编程方式触发 valueChanged 处理程序，该处理程序允许您在同时调用处理程序时返回应用程序（最初加载它）。

```
function doGet() {
  var app = UiApp.createApplication();

  var label = app.createLabel('Loading the data from the spreadsheet.')
                 .setId('statusLabel')
  app.add(label);

  var handler = app.createServerHandler('loadData');
  var chk = app.createCheckBox('test').addValueChangeHandler(handler).setVisible(false).setValue(true,true).setId('chk');
  app.add(chk);

  return app;
}

function loadData(e) {
  var app = UiApp.getActiveApplication();

  Utilities.sleep(3000); //placeholder for some function that takes a long time.

  var label = app.getElementById('statusLabel');
  label.setText("Loaded the data from the spreadsheet");

  return app;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-08-08T10:43:24.613

其他几个小部件有`setValue(value, fireEvents)`方法，例如。`TextBox`等等。在实现这种技术时，小部件`PasswordTextBox`似乎没有什么独特之处。`CheckBox`

# windows-phone-7 - Windows Phone 后退键按下事件？

> ID：14785585
> 
> 赞同：0
> 
> 时间：2013-02-09T06:27:56.027
> 
> 标签：windows-phone-7

我正在开发一个 Windows Phone 应用程序。

我注意到，在我在页面 A 的列表框中选择特定项目并导航到页面 B 后，如果我按“后退”键，则在页面 B 上，列表框中的页面 A 上的项目仍处于选中状态。

但是我希望在“返回”键按下时转到页面 A 时刷新或重新加载页面 A 项目。

我试图实现页面的 BackKeyPressed 事件处理程序，但它似乎对我不起作用。

有人对此有什么好主意吗？谢谢你

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-09T08:04:36.060

处理完 selecteditemchanged 后，将选定的索引设置为 -1。这将重置选择。它还将避免烦人的“选择相同的项目并且什么也没有发生”的行为。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-09T07:49:59.273

您需要覆盖`Page.OnNavigatedTo`page-A 的方法并检查其`NavigationEventArgs`-typed`e`参数的`NavigationMode`字段，以查看页面是否正在使用“返回”按钮导航到。

```
protected override void OnNavigatedTo(NavigationEventArgs e)
{
  if (e.NavigationMode == NavigationMode.Back)
  {
    this.DoVeryUsefulStuff();
  }
} 
```

# sql - Access 2010 中正确的 CASE SELECT 语句是什么？

> ID：14785586
> 
> 赞同：13
> 
> 时间：2013-02-09T06:28:54.923
> 
> 标签：sql, vb.net, ms-access, case

我使用 vb.net 和 Access 2010 作为数据库 (.accdb)

这适用于 MySQL：

```
SELECT user_id, username, first_name, middle_name, last_name,
CASE is_enable WHEN 1 THEN 'Yes' ELSE 'No' END 
FROM tbl_user_accounts ORDER BY user_id 
```

但是当将相同的查询传递给 Access 时，我收到以下错误：

```
Unrecognized keyword WHEN. 
```

所以我假设 CASE 语句在访问上是不同的，或者访问是否有这个功能？

PS
is_enable 是布尔值

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2013-02-09T07:06:03.553

想通了：
Access 2010 没有 CASE 功能，我们使用 SWITCH 代替。

`SELECT user_id, username, first_name, middle_name, last_name, SWITCH(is_enable=True,'Yes',is_enable=False,'No') FROM tbl_user_accounts ORDER BY user_id`

感谢chuff和JW。

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2013-02-09T06:29:57.540

或者，[您可以使用`IIF`](http://www.techonthenet.com/access/functions/advanced/iif.php)

```
IIF(is_enable = 1 , 'YES', 'NO') 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-09T20:47:49.177

选择是查询中可用的另一个 Access（实际上是 VBA）函数，类似于 Switch，但返回答案列表的索引。例如，如果 Choice 为 2，Choose([Choice], "A","B","C") 将返回 "B"。我发现它在过去很有用。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-09T12:08:41.497

This is really a display issue, and would possibly be best done somewhere other than SQL. `is_enabled` is clearly a Boolean/YesNo data type, so you can just format it:

```
 SELECT Format(AYesNo,'Yes/No') As ATextYN FROM table1 
```

Or

```
 Format(AYesNo,'True/False')
 Format(AYesNo,'On/Off') 
```

All work in VB.Net and return text, not boolean.

See [http://msdn.microsoft.com/en-us/library/office/gg251755.aspx](http://msdn.microsoft.com/en-us/library/office/gg251755.aspx)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-09T06:35:46.193

尝试这个

```
yourColumnName=case when is_enable=1 then 'Yes' ELSE 'No' END 
```

# php - 请帮我在我的 css 中找到所需的元素

> ID：14785589
> 
> 赞同：-2
> 
> 时间：2013-02-09T06:29:29.810
> 
> 标签：php, html, css

我的网站上有一些文本的可见性不是很好，我想更改它的文本颜色或背景颜色，但我无法在我的 css 文件中找到它。

![截屏](../Images/df45d864d9b6dffe76d0cf631b92f605.png)

以红色突出显示的部分是我要更改其颜色的部分。您可以在 AnHits.com 上亲自查看，只需使用此演示帐户登录 - 用户名 - 演示密码 - 演示并将鼠标悬停在右上角的 Earn Coins 上。这是我的主要 css 文件 - [http://www.anhits.com/css/style.css](http://www.anhits.com/css/style.css)

这是在我的网站上显示测试的源代码部分 -

```
 <div class="cont soft-blue fixed">
         <div class="menu">
            <div class="menu-wrap">
               <ul id="main_menu">
                  <li><a href="index.php">Home</a></li>
    <li><a href="blog/index.php">Blog</a></li> 
               </ul>
                  <li>
                     <a href="index.php">Earn Coins</a>
                      <ul>              
    <li><a href="surf.php" target="_blank">Traffic Exchange</a></li>
.
.
.
. 
```

提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-09T06:36:04.033

您可以使用位于 Chrome 的 Inspector 和 Mozilla Firefox 的 Firebug Inspector 中的 Inspect Element 选项。获取相关样式以及它们在 CSS 中的位置。

现在@Kolink 和@PraveenKumar 已经回答了。如果你只是想支持这种情况，你可以参考它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-09T06:35:25.853

试试这个：

```
.cont.soft-blue.fixed .menu .menu-wrap #main_menu li ul {background: #fff;} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-09T06:37:52.827

```
#main_menu>li>ul>li>a {
    color:white;
    background:black;
} 
```

尝试使用值，但这就是您需要的选择器。

请注意，您可以通过使用组合器来限制浏览器必须执行的搜索量，从而使您的***CSS***更高效（是的，强调三个级别） 。`>`

# javascript - 从服务器获取 javascript 资源时出错

> ID：14785593
> 
> 赞同：0
> 
> 时间：2013-02-09T06:30:07.657
> 
> 标签：javascript, wordpress, apache, .htaccess, webserver

我为wordpress写了一个插件。它工作正常，但在某些主机上，我在 Firebug 中收到以下错误

“网络错误：404 未找到 - [http://exampledomain.com/wp-content/plugins/myplugin/templates/js/lib/jquery.cookie.js?ver=3.5.1](http://exampledomain.com/wp-content/plugins/myplugin/templates/js/lib/jquery.cookie.js?ver=3.5.1) ”

（上面的url不是实际的，我把实际的域名换成了exampledomain.com）

正如你所看到的，当我请求 .js 文件时，服务器回答我：404 Not Found

我在其他电脑和浏览器上复制并粘贴了整个 url，但我仍然从服务器（Apache）得到相同的答案。

lib 文件夹（查看 url 中的最后一个文件夹）包含其他 .js 文件，例如 jquery.scrollTo.js，我可以正确访问该文件。唯一无法访问此文件夹的文件是 jquery.cookie.js

一个错误的.htaccess 规则？该文件在 Apache 上没有读取权限？有任何想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-09T08:58:16.670

尝试将文件名更改为晦涩的名称，然后您可以查看该名称是否存在错误规则。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-10T07:23:29.180

我自己解决了。我将 jquery.cookie.js 文件名更改为 jquery-cookie.js 也许，Web 服务器 (Apache) 拥有任何安全规则，拒绝访问包含“.cookie”字符串的任何资源（即文件）。

# android - 无法连接以使用设备测试我的应用

> ID：14785595
> 
> 赞同：0
> 
> 时间：2013-02-09T06:30:15.673
> 
> 标签：android

我在使用连接到我的计算机的设备测试我的应用程序时遇到问题。我已将我的 android 手机连接到机器，当我尝试运行应用程序时出现此错误。我可以连接到我的生产服务器和模拟器，但不能通过我的设备。

```
http://10.0.0.20:8080/gate/action.do
I/System.out(2244): data.get(0)  username=almasi
No route to host
 java.net.SocketException: No route to host
 at org.apache.harmony.luni.platform.OSNetworkSystem.connect(Native Method)
 at dalvik.system.BlockGuard$WrappedNetworkSystem.connect(BlockGuard.java:357) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-09T06:39:08.183

您的手机和 PC 似乎不在同一个网络上，请确保您的 android 的 IP 与您的 PC 在同一个网络上，例如 10.0.0.XXX。

当您从模拟器或生产服务器连接时，它工作是有道理的。

[检查这个问题](https://stackoverflow.com/questions/7832425/encountered-no-route-to-host-error-when-trying-to-communicated-to-a-webservice)它与你的问题有关

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-09T06:38:41.847

根据您收到的错误，您似乎正在使用网络操作来连接到本地服务器并从服务器获取所需的数据。您提供的上述地址`(http://10.0.0.20:8080......)`可能不适用于设备，但它可以完美地用于模拟器。因此，尝试使用`(http://Your.IP.Adress......)`而不是`(http://10.0.0.20:8080......)`可以解决您的问题。如果不使用一些代码重新发布您的问题，那么就有机会编辑我的答案。此外，至少在测试时确保您的设备具有 Wifi/高速互联网。希望这可以帮助。

# visual-c++ - 将char数组指针传递给C中的函数时出错

> ID：14785598
> 
> 赞同：-1
> 
> 时间：2013-02-09T06:30:54.087
> 
> 标签：visual-c++

将 char 数组指针传递给 C 中的函数时出错。我正在使用 VC++ 编辑器来构建它。

错误 C3861：“DecodeData”：未找到标识符

解码器.h

```
int DecodeAudioBytes();

int DecodeData(int argc, char* argv[]); 
```

解码器.c

```
int DecodeAudioBytes()
{
char* argv[] = { "test", "test1" };

return DecodeData(2, argv);

}
int DecodeData( int argc, char* argv[] )
{
   char      speechOutFileName[ 150 ], bitInFileName[ 150 ];

   int args = 0;
   strcpy( bitInFileName, argv[ args ] );
   args++;
   strcpy( speechOutFileName, argv[ args ] );
   args++;

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-09T06:35:55.650

我同意福哈德。

你也可以只把声明放在前面：

```
static int DecodeData(int argc, char* argv[])

int DecodeAudioBytes()
{
    char* argv[] = { "test", "test1" };

    return DecodeData(2, argv);

}
int DecodeData( int argc, char* argv[] )
{
} 
```

当编译器发现标识符`DecodeData`对它一无所知时，它会在之后声明。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-09T06:32:06.797

把`DecodeData`之前的定义`DecodeAudioBytes`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-09T07:20:43.137

这个问题解决了。我忘了在“C”文件中包含头文件。

谢谢！

# vb.net - vb.net中获取夜班总时间差的逻辑方法

> ID：14785599
> 
> 赞同：0
> 
> 时间：2013-02-09T06:31:10.953
> 
> 标签：vb.net, vb.net-2010, timespan, time-and-attendance

需要帮忙...

我有情景..

注意：我想要一种合乎逻辑的方法来解决并获得夜间时间表的时差。用于考勤监控。

首先，夜间差异时间表（10:00:00PM - 06:00:00AM）其次，我的常规出勤班次时间表是：

[下午 3 点 - 下午 6 点]

[休息时间：6pm - 7pm]

[07PM - 11PM]

由于差异..从晚上 10 点到早上 6 点.. 我晚上 10 点到晚上 11 点的夜班差异总计（1 小时）

有人可以告诉我使用什么代码可以得到 1 小时的答案。

我使用时间跨度和计算时间..但我不知道逻辑或方法。

谢谢你

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T03:18:38.013

```
Sub TimeIN_TimeOut()

    Dim timeIn(4), timeOut(4) As DateTime

    Dim days As String() = {"Monday", "Tuesday", "Wednesday", "Thursday", "Friday"}
    Dim totalHours, subTotal(4) As Double

    For x As Integer = 0 To 4
        WriteLine()

        Write("Enter Time-In for {0}:", days(x))
        timeIn(x) = ReadLine()

        Write("Enter Time-Out for {0}:", days(x))
        timeOut(x) = ReadLine()

        subTotal(x) += timeOut(x).Subtract(timeIn(x)).TotalHours

        totalHours += subTotal(x)

    Next
    WriteLine()
    WriteLine()
    WriteLine("__________________________________________________")
    WriteLine("Total work Hours from {0} to {1}:{2}", days(0), days(4), totalHours)

End Sub 
```

# mysql - 基于 SELECT 结果的更新

> ID：14785600
> 
> 赞同：1
> 
> 时间：2013-02-09T06:31:20.083
> 
> 标签：mysql, sql, sql-update

我正在尝试根据自身的子查询更新表。所以我需要子查询的结果作为 UPDATE 语句中的参数。

我在下面尝试但没有成功：

```
UPDATE xx
INNER JOIN (
    SELECT r.id as id, w.state as state
    ...
) yy
SET xx.state = yy.state WHERE xx.id = yy.id; 
```

**编辑：** 完整查询：

```
UPDATE dpcio_request xx
INNER JOIN (
    SELECT r.id as id, w.state as state
    FROM dpcio_request r
    JOIN dpcio_request_wf w
    ON (w.dpcio_request_id = r.id)
    WHERE w.id IN ( SELECT MAX(id)
            FROM `dpcio_request_wf`
            GROUP BY dpcio_request_id )
    ) r2 ON r1.id = r2.id
) yy ON yy.id = xx.id
SET xx.state = yy.state; 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-09T06:35:01.507

如果您对子查询没有特殊计算并假设它来自不同的表，您可以直接连接表，

```
UPDATE table1 a
       INNER JOIN table2 b
          ON a.id = b.id
SET    a.colName = b.value 
```

**更新 1**

这是查询的简化版本，

```
UPDATE  dpcio_request a
        INNER JOIN dpcio_request_wf b
            ON a.id = b.dpcio_request_wf
        INNER JOIN
        (
            SELECT  dpcio_request_id, MAX(id) max_ID
            FROM    dpcio_request_wf
            GROUP   BY dpcio_request_id
        ) c ON  b.id = c.max_ID AND
                b.dpcio_request_id = c.dpcio_request_id
SET     a.state = b.state 
```

# c - 不在 C 中打印 Inode 文件名或标头信息

> ID：14785603
> 
> 赞同：0
> 
> 时间：2013-02-09T06:31:59.827
> 
> 标签：c, project, printf, inode

运行以下代码行并遇到我不确定的问题。主要思想是让用户输入要搜索的inode。一旦找到，打印与该 inode 关联的文件名，然后在该文件名上运行命令“stat”以生成有关该文件的信息。

```
#define COMMAND_LEN 1024
#define DATA_SIZE 1024

int main(int argc, char **argv) {
    FILE *pf;
    char command[COMMAND_LEN];
    char data[DATA_SIZE];
    char inode_data[DATA_SIZE];
    int iNode;

    printf("Enter inode: ");
    scanf(argv[0], iNode);

    sprintf(command, "find -inum %i -type f", iNode);
    pf = popen(command, "r");

    if(!pf){
        fprintf(stderr, "Could not open pipe for outlet.\n");
        return;
    }

    fgets(data, DATA_SIZE, pf);
    fprintf(stdout, "%s\n", data);

    sprintf(command, "stat %s", data);
    pf = popen(command, "r");
    fgets(inode_data, DATA_SIZE, pf);
    fprintf(stdout, "%s\n", inode_data);

    if (pclose(pf) != 0)
        fprintf(stderr, "Error: Failed to close command stream!\n");

    Return 0;
} 
```

编译、运行并输入 inode 编号后，我会得到以下信息：

```
Enter inode: 148869

stat: missing operand
Try 'stat --help' for more information.

Error: Failed to close command stream! 
```

[从 sprintf 中的保存信息到变量中](https://stackoverflow.com/questions/14785225/save-information-from-sprintf-to-a-variable#14785279)获得有用的帮助

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-09T06:34:18.557

除非您在命令行参数中传递了格式字符串，否则不应`scanf`与参数一起使用。`argv[0]`此外，scanf 应该传递一个 int* 作为第二个参数，所以它确实是`scanf("%d", &iNode);`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-09T06:34:09.087

如果您阅读[`find`手册页](http://pubs.opengroup.org/onlinepubs/9699919799/utilities/find.html)，您会发现它需要一个搜索*路径*。您的`find`命令行中没有它。

您也没有正确读取用户的输入。`argv[0]`是您的程序的名称。您应该传递一个正确的格式字符串，例如

```
scanf("%s", iNode); 
```

如果您使用调试器，甚至在 之后打印出输入`scanf`，您应该很快就看到了。

# rss - 如何从维基百科获取文章修订历史

> ID：14785604
> 
> 赞同：0
> 
> 时间：2013-02-09T06:32:05.543
> 
> 标签：rss, wikipedia

我正在尝试从 Wikipedia 文章中获取修订历史记录，以便我可以获得参考该文章发生的最新更改或事件。

[http://en.wikipedia.org/wiki/Wikipedia:Syndication](http://en.wikipedia.org/wiki/Wikipedia:Syndication)提到了可以通过这个 RSS URL [http://en.wikipedia.org/w/index.php?title=获取到文章的 RSS 提要文章名称&action=history&feed=rss](http://en.wikipedia.org/w/index.php?title=ARTICLENAME&action=history&feed=rss)。

但是上面的 URL 没有用于控制修订历史日期的参数。我想知道是否有更好的方法可以通过计算机程序或任何方法来调整给定的 RSS URL 来获取文章修订历史记录。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-09T11:01:42.070

您可以为此使用[MediaWiki API](https://www.mediawiki.org/wiki/API)。具体来说[，`revisions`模块](https://www.mediawiki.org/wiki/API%3aProperties#revisions_.2F_rv).

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-27T23:58:05.770

您也可以尝试使用[pywikipediabot](https://www.mediawiki.org/wiki/Manual%3aPywikipediabot)，尝试快照：

```
import wikipedia

site= wikipedia.Site("pt", "wikipedia")

wpage = wikipedia.Page(site, u"Portugal")

for i in wpage.getVersionHistory():
    print i 
```

# java - 为什么Java中没有静态类

> ID：14785607
> 
> 赞同：3
> 
> 时间：2013-02-09T06:32:20.837
> 
> 标签：java

我是java新手。当我浏览语言规范时，我发现无法声明静态类，但我们可以拥有静态内部类。我有点困惑为什么我们不能有一个顶级的静态类。如果我想创建一个只包含实用方法的类，我可以选择静态类。Java 开发人员限制此功能的任何原因？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-09T06:35:31.147

根据定义，顶级类已经是顶级的，因此将其声明为静态没有意义；这样做是错误的。

**[静态类声明](http://www.javaworld.com/javaqa/1999-08/01-qa-static2.html)**

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-02-09T06:47:26.947

这不是限制，您*不需要*`static class`定义实用程序类，您只需要`static methods`. 例如`Math`java中的类充满了静态方法，但类本身*并不是*静态的。

当您定义`inner class`要使用的类而不创建封闭类的实例时，您可能只需要静态类，这在 Java 中是允许的。

您可以按如下方式定义实用程序类：

```
class Util {
  public static void method(){
     // your utility method
  }
} 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-02-09T09:31:55.710

`static`是一个相对术语。

`static`意思是“独立于包含的实例”。因此，静态字段具有相同的值，与类的实例无关。静态内部类对父类的每个实例都有效。

但是`static`顶级类“独立于包含的实例”是什么？顶级类没有包含实例。这就是为什么它不能是`static`（或者，它总是是`static`，取决于你的观点 - 但无论哪种方式，都不需要指定它）。

在实现方面，非`static`内部类**包含对包含外部类的引用**。显然，这种差异对于顶级课程也是不可能的。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-09T09:20:25.673

因为它没有增加任何意义。“静态”在应用于嵌套类时具有意义。它对外部类没有任何意义。所以你不能指定它。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-09T08:41:41.147

AFAIK，如果它允许将顶级类声明为静态类，那么**即使您不使用它**，它也会一直将引用保存在堆内存中。这就是所谓的**内存泄漏**。所以这就是它的原因被限制这样做。

# c++ - 以“并行”方式运行语句

> ID：14785612
> 
> 赞同：8
> 
> 时间：2013-02-09T06:33:14.140
> 
> 标签：c++, python

在 python 中，我必须交换 2 个变量的值，你需要做的就是

```
x,y=y,x 
```

可以将其视为两个语句-(x=y) 和 (y=x) 是并行执行的，而不是一个接一个地执行。

有没有办法在c++中达到同样的效果？

**注意/编辑：**

我希望将这种“平行效应”（如果存在）扩展到更复杂的表达式，例如
`ones,twos= (ones ^ n) ^ ~twos, (ones & n) | (twos & ~n);`

这在python中是可能的，在c ++中可能吗？

**结论：**

所以根据**leemes**给出的答案以及对他答案的评论：

1.你可以在C++03中使用boost库或者

2.可以使用C++11

访问`std::tie`并`std::tuple`实现这种“并行”效果。至于目前，我将**leemes**的答案标记为已接受，但我仍将寻找在 C++03 中实现这一酷炫功能的方法。

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2013-02-09T06:35:12.380

**特例：交换两个变量的值**

[（对于一般解决方案，请参见下文。）]

要在 C++ 中交换两个变量的值，您应该始终使用[`swap`](http://en.cppreference.com/w/cpp/algorithm/swap)：

```
using std::swap;
swap(x, y);      // Do NOT say:  std::swap(x, y)    -- Read about Koenig lookup! 
```

不要打扰它会*怎么*做；它会做得*非常快*。如果处理器支持，C++ 标准库的实现将尽最大努力将其优化为一条**指令**（但标准并没有告诉实现这样做）。对于仅寄存器变量，例如 x86 指令[`xchg`](https://en.wikibooks.org/wiki/X86_Assembly/Data_Transfer#Data_Swap)将尽可能快地执行此操作。不要试图用一些“三异或操作”来调整它，它不会更快。如果你不走运，它不会被优化为类似`xchg`.

C++03 中的泛型`swap`操作引入了一个临时变量并执行三个复制构造。在 C++11 中有移动语义，对象被移动而不是复制。对于您**自己的类型**，假设某些数据结构仅包含指向实际数据的指针，您应该优化此过程以使其在恒定时间内执行：

*   **在 C++03**中，您可以在命名空间中专门化`std::swap`或实现自己的`swap`函数[（请参阅此问题的两个最佳答案）](https://stackoverflow.com/questions/11562/how-to-overload-stdswap)以优化交换：只需交换类中的每个成员即可交换它们的数据。对于仅包含指针的数据结构示例，只需交换指针即可。

*   **在 C++11**中，有新的*移动语义*，它允许您实现数据从一个对象到另一个对象的移动，这将导致非常相似的行为。（移动语义已被引入用于更一般的问题，例如交换两个对象：如果一个对象不再需要，但另一个对象必须是第一个对象的“副本”，则可以简单地移动它。）阅读移动语义和移动构造函数以获取详细信息。

*   对于**C++03 和 C++11**，还有另一种方法：您可以实现*隐式共享数据*和*写时复制，*用于重类（如数据结构）。在上面的示例中，您的数据结构包含指向实际数据的指针，请实现引用计数。复制数据结构时，只需将引用计数器加一即可。修改数据时，确保它没有被共享（ref count = 1），否则只有在那时才复制它来“分离”它。这会导致恒定时间的复制和交换操作。

* * *

**一般情况：多个任意表达式**

对于*不*依赖于输入/输出的其他语句，例如`(a, b) = (x, y)`，只需“按原样”编写它们，并且它将至少完美地以流水线方式运行，因为它们没有任何依赖关系：

```
a = x;
b = y; 
```

如果它们*依赖*于输入/输出，例如您在编辑中的示例，您可以将其拆分并引入临时对象。尝试使用一些花哨的表达技巧（例如 xor-ing）来解决这些问题，您不会帮自己一个忙。编译器知道很多汇编程序的技巧（比如`xchg`），你只知道用普通 C++ 表达这些技巧（比如 xor）。

在 C++11 中，`std::tuple`允许[`std::tie`](http://en.cppreference.com/w/cpp/utility/tuple/tie)您在不引入临时变量的情况下分配多个表达式（它们将在幕后引入以保存存储在元组中的值，并尝试完全优化它们或至少只使用寄存器来保存如果可能的话）：

```
using std::tie;
using std::make_tuple;
tie(ones, twos) = make_tuple((ones ^ n) ^ ~twos, (ones & n) | (twos & ~n)); 
```

请注意，右侧对/元组的类型必须与左侧的目标值匹配，因为此处不隐含转换。如果遇到问题，请`static_cast`在右侧执行 a，告诉`std::make_tuple`显式类型或仅使用构造函数来`std::tuple`要求显式类型，例如：

```
using std::tie;
using std::tuple;
tie(ones, twos) = tuple<int,int>((ones ^ n) ^ ~twos, (ones & n) | (twos & ~n)); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-09T06:37:42.903

如果`x`和`y`是纯整数，有多种快速技巧可以在一行中交换它们：

[http://cpptruths.blogspot.com/2006/04/swapping-two-integers-in-one-liner.html](http://cpptruths.blogspot.com/2006/04/swapping-two-integers-in-one-liner.html)

# git - git 在清理之前怎么可能知道 SHA-1？

> ID：14785613
> 
> 赞同：1
> 
> 时间：2013-02-09T06:33:32.777
> 
> 标签：git

在应用过滤器**之前**怎么`git`可能知道提交的 SHA-1 ？**`clean`**

 **下面的过滤器只打印`Hello!`到`stderr`：

```
$ cat filter.sh
#!/bin/bash

echo "Hello!" >&2
cat 
```

创建一个新的 Git 存储库，配置`myfilter`、暂存`foo`并提交更改：

```
$ git init
Initialized empty Git repository in /tmp/git/.git/
$
$ echo -e '[filter "myfilter"]\n\tclean = "./filter.sh"\n\tsmudge = "./filter.sh"' >>.git/config
$
$ cat .gitattributes
foo filter=myfilter
$
$ echo 1234 >foo
$
$ git add foo
Hello!
$
$ git commit -m "First commit"
[master (root-commit) 637d6c1] First commit
Hello!
 1 files changed, 1 insertions(+), 0 deletions(-)
  create mode 100644 foo 
```

据说提交的 SHA-1 是`637d6c1...`在运行`clean`过滤器之前。但是，`clean`过滤器可能会`foo`在提交之前更改内容，对吧？所以`git`事先无法知道SHA-1。我在这里想念什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-09T06:43:48.583

你被输出缓冲愚弄了。

在过滤器中添加`sleep 10`之前或之后。`echo`您会看到 git 在 10 秒暂停之前未显示提交。**

# android - PlayN Tripleplay 不适用于 Android Nexus 7

> ID：14785615
> 
> 赞同：3
> 
> 时间：2013-02-09T06:33:53.123
> 
> 标签：android, playn

我已经使用 PlayN 的 Tripleplay 框架定义了我的游戏的主菜单。不幸的是，我无法让它显示在我的 Nexus 7 上。

真正奇怪的是——如果我运行 Java 版本，一切正常——但每当我运行 Android 版本时，什么都没有显示——日志表明整个 UI 都已构建

有没有人在 Android 上使用 Tripleplay 框架时遇到任何问题 - Java 工作正常。

这是代码：

```
public class MainMenuStateImpl extends AbstractState implements MenuState {

  private Interface ui;
  private GroupLayer groupLayer;

  @Inject
  public MainMenuStateImpl(StateManager stateManager) {
    super(stateManager);
  }

  @Override
  public void initialize() {
    PlayN.log().debug("initializing main menu");
    groupLayer = graphics().createGroupLayer();
    graphics().rootLayer().add(groupLayer);
    ui = new Interface();

    final Root root = ui.createRoot(AxisLayout.vertical().gap(15), SimpleStyles.newSheet());
    PlayN.log().debug("setting root to size " + graphics().width() + ", " + graphics().height());
    root.setSize(graphics().width(), graphics().height());
    stateManager.getImageCache().cache("img/menu_background.png", new Callback.Default<Image>() {

      @Override
      public void onSuccess(Image image) {
        // groupLayer.add(graphics().createImageLayer(image));
        root.addStyles(Style.BACKGROUND.is(Background.image(image)));
        groupLayer.add(root.layer);
        // graphics().rootLayer().add(root.layer);

        final Group buttons = new Group(AxisLayout.vertical().offStretch());
        root.add(new Label("RunRun:"), buttons);

        PlayN.log().debug("adding level groups to menu");
        final LevelGroupMetadataCache cache = (LevelGroupMetadataCache) stateManager.getContext()
        .get(ContextKeys.LEVEL_GROUP_METADATA_CACHE);
        for (final LevelGroupMetadata levelGroup : cache) {
          final Button button = new Button(levelGroup.getName());
          buttons.add(button);
          button.clicked().connect(new UnitSlot() {

            @Override
            public void onEmit() {
              stateManager.getContext().set(ContextKeys.LEVEL_GROUP,
              cache.get(levelGroup.getName()));
              stateManager.goTo(stateManager.getLevelGroupMenuState());
            }
          });
        }
        PlayN.log().debug("finished creating ui for main menu");
        PlayN.log().debug("ui = " + ui);
      }
    });
  }

  @Override
  public void destroy() {
    groupLayer.destroy();
  }

  @Override
  public void update(float delta) {
    ui.update(delta);
  }

  @Override
  public void paint(float alpha) {
    ui.paint(alpha);
  }
} 
```

所有日志语句都出现在我的 logcat 中 - 但没有渲染 - 仅在 Android 中 - 当我运行 java 版本时一切正常......

我完全不知道如何解决这个问题或做什么。

任何帮助将不胜感激

# sql - ms 访问计数不同的列

> ID：14785616
> 
> 赞同：0
> 
> 时间：2013-02-09T06:33:56.887
> 
> 标签：sql, ms-access, count, distinct

以下代码给出了计数不同值的语法错误。

```
SELECT SUM(house_thanas.target)               AS target, 
       SUM(reports_db.ach_total)              AS Total, 
       Count(DISTINCT reports_db.report_date) AS WorkingDays 
FROM   ((areas 
         INNER JOIN distribution_houses 
                 ON areas.area_id = distribution_houses.area_id) 
        INNER JOIN house_thanas 
                ON distribution_houses.distribution_house_id = 
                   house_thanas.distribution_house_id) 
       INNER JOIN reports_db 
               ON house_thanas.thana_id = reports_db.thanaid 
WHERE  reports_db.report_date BETWEEN 
       #2012/02/10 12:00:00 am# AND #2013/02/09 11:59:59 pm# 
```

如何在 microsoft access 数据库中找到不同的计数值？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-09T12:20:59.973

我认为您没有看到建议的内容，即：

```
 SELECT SUM(house_thanas.target)               AS target, 
   SUM(reports_db.ach_total)              AS Total, 
   (SELECT Count(*) As JustOnce
    FROM (SELECT DISTINCT report_date FROM reports_db)) AS WorkingDays 

 <...> 
```

在查询设计窗口，设计视图中，子查询应设置为表达式。

# django - Django表2：列中的超链接项目

> ID：14785617
> 
> 赞同：3
> 
> 时间：2013-02-09T06:34:00.947
> 
> 标签：django

我的应用程序显示一个包含许多列的表格。我使用 Django tables 2 应用程序来呈现表格。我正在尝试使一列中的项目超链接，以便用户可以单击。url 模式很简单：`/contact/pk/`，例如`/contact/2/`。这就是我的模型中的内容：

```
#models.py

class Contact(models.Model):
    name = models.CharField(max_length=200)
    . . .

class ContactTable(tables.Table):

    name = tables.LinkColumn('contact_detail', args=[A('pk')])
    class Meta:
        model = Contact
        attrs = {"class": "paleblue"}

#urls.py

url(r'^contact/(?P<item_id>\d+)/$', 'app.views.contact_view', name='contact_detail'), 
```

但是，这些项目不会获得超链接。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-02-09T08:59:55.990

这解决了它：

```
class ContactTable(tables.Table):
    edit_entries = tables.TemplateColumn('<a href="/contact/{{record.id}}">Edit</a>')

    class Meta:
        model = Contact
        attrs = {"class": "paleblue"} 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2014-08-09T05:35:08.563

nixnotwin 的解决方案使用硬编码的 URL。要使用反向查找 url：

```
class ContactTable(tables.Table):
    edit_entries = tables.TemplateColumn('<a href="{% url \'contact_detail\' record.id %}">Edit</a>') 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-09T07:23:52.653

`render_table`你在你的模板中传递什么？只是一个普通的`QuerySet`？我的猜测是您忘记在视图中实例化和配置表。这是文档中提供的示例：

```
# tutorial/views.py
from django.shortcuts import render
from django_tables2   import RequestConfig
from tutorial.models  import Person
from tutorial.tables  import PersonTable

def people(request):
    table = PersonTable(Person.objects.all())
    RequestConfig(request).configure(table)
    return render(request, 'people.html', {'table': table}) 
```

如果你这样做，它应该可以正常工作。

**更新：**

我知道问题已经解决了，但是我注意到这`name = tables.LinkColumn('contact_detail', args=[A('pk')])`行代码在`ContactTable`类的内部`Meta`类中。它应该在内部`Meta`类之外。

# wordpress - WordPress: register_activation_hook()

> ID：14785622
> 
> 赞同：0
> 
> 时间：2013-02-09T06:35:04.517
> 
> 标签：wordpress

嗨，我正在尝试使用 wordpress register_activation_hook() 函数创建插件激活时不存在的表。

当我将代码放在插件主文件（我们在其中定义插件元）中时，代码运行良好，但是当我尝试在子目录中的其他文件中使用它时，它不起作用。我已尝试更改`register_activation_hook(__FILE__, 'my_medias_db');`为`register_activation_hook(to_plugin_root_path, 'my_medias_db');`插件根路径，但仍然无法正常工作。任何想法？

**这是代码**

```
function my_medias_db() {
    require_once( ABSPATH . '/wp-admin/includes/upgrade.php' );
    global $wpdb;
    $db_table_name = $wpdb->prefix . 'my_medias';
    if( $wpdb->get_var( "SHOW TABLES LIKE '$db_table_name'" ) != $db_table_name ) {
        if ( ! empty( $wpdb->charset ) )
            $charset_collate = "DEFAULT CHARACTER SET $wpdb->charset";
        if ( ! empty( $wpdb->collate ) )
            $charset_collate .= " COLLATE $wpdb->collate";

        $sql = "CREATE TABLE " . $db_table_name . " (
            `id` int(11) NOT NULL AUTO_INCREMENT,
            `post_id` int(11) NOT NULL,
            `image_name` text NOT NULL,
            `status` tinyint(1) DEFAULT NULL,
            PRIMARY KEY (`id`)
        ) $charset_collate;";
        dbDelta( $sql );
    }
}
register_activation_hook(__FILE__, 'my_medias_db'); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-10-30T14:48:34.297

上面的代码在主插件索引文件中吗？

如果不是，那是你的问题。如果你看一下 wp 代码，activation_hook 调用依赖于 $file 参数作为插件索引文件，所以如果你从另一个文件调用 register_activation_hook 尝试这样的事情（这是一个 OO 示例）

……剪……

```
 $strPluginFilename = $this->getMainPluginFilename();
    // rcarver - the activation hook calls rely on the file name being the plugin index!
    register_activation_hook($strPluginFilename, array($this, 'baseActivate') );
    register_deactivation_hook($strPluginFilename, array($this, 'baseDeactivate') ); 
```

……剪……

```
protected function getMainPluginFilename() {
    // eg. /some/place/wp-content/plugins/my_cool_plugin/pluginbase.php will
    // result in the base file name of  "my_cool_plugin.php"
    // NOTE: THIS ONLY WORKS IF THE CURRENT FILE IS IN THE SAME DIRECTORY
    //       AS THE MAIN PLUGIN FILE!
    return dirname(__FILE__) . '/' . basename(dirname(__FILE__)) . '.php';
} 
```

……剪……

# php - 如何使用 cCurl 发送自定义用户代理和推荐人？

> ID：14785623
> 
> 赞同：0
> 
> 时间：2013-02-09T06:35:07.560
> 
> 标签：php, curl

我想在使用 ccurl 时接收移动版页面。有没有办法在进行 ccurl 调用时发送定制的用户代理和定制的推荐人？如果答案是肯定的怎么办？

```
function get_data($url) {
  $ch = curl_init();
  $timeout = 5;
  curl_setopt($ch, CURLOPT_URL, $url);
  curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
  curl_setopt($ch, CURLOPT_CONNECTTIMEOUT, $timeout);
  $data = curl_exec($ch);
  curl_close($ch);
  return $data;
}

$page="http://www.somesite.com";
$input = get_data($page); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-09T06:37:49.423

阅读文档： http: [//php.net/manual/en/function.curl-setopt.php](http://php.net/manual/en/function.curl-setopt.php)

```
curl_setopt($ch, CURLOPT_REFERER, 'SomeReferrer');
curl_setopt($ch, CURLOPT_USERAGENT, 'SomeUA'); 
```

# jquery-jscrollpane - 命名函数调用 jScrollPane ScrollTo

> ID：14785631
> 
> 赞同：0
> 
> 时间：2013-02-09T06:35:44.457
> 
> 标签：jquery-jscrollpane

我正在尝试使用如下代码中的 jScrollPane ScrollTo 函数，但不是单击 div，而是我想要一个命名函数来触发 jScrollPane ScrollTo。我正在使用 ExternalInterface.call 从我的动作脚本代码中启动 ScrollTo。这就是为什么我在这里需要一个命名函数。谁能帮我这个？提前致谢

```
$(function()
        {
            var pane = $('.scroll-pane');
            pane.jScrollPane(
                {
                    showArrows: true,
                    animateScroll: true
                }
            );

                var api = pane.data('jsp');

            $('#scroll-to').bind(
                'click',
                function()
                {
                    api.scrollTo(100, 100);
                    return false;
                }
            ); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-09T06:41:18.627

```
Instead of writing this:

$('#scroll-to').bind(
                    'click',
                    function()
                    {
                        api.scrollTo(100, 100);
                        return false;
                    }
                ); 
```

你可以使用这个：

```
function scrollToDiv(){

var pane = $('.scroll-pane');
var api = pane.data('jsp');
api.scrollTo(100, 100);
return false;
} 
```

如果你想要一个变量滚动：

```
 function scrollToDiv(x,y){

    var pane = $('.scroll-pane');
    var api = pane.data('jsp');

    api.scrollTo(x, y);
    return false;
    } 
```

和：scrollToDiv(100,100);

# python - python嵌套括号

> ID：14785635
> 
> 赞同：0
> 
> 时间：2013-02-09T06:35:59.103
> 
> 标签：python

PHP 使用括号来嵌套函数、循环、if 语句等，例如

```
function somefunction(){
    for($i = 0; $i < somenumber; ++$i){
    }
} 
```

Python 使用缩进来嵌套。在 Python 中有没有缩进嵌套的替代方法？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-09T06:37:38.410

不，这就是 python 的工作原理。您使用缩进来指定块级别。

# c# - 如何在 WPF 中阻止 UI 更新

> ID：14785637
> 
> 赞同：0
> 
> 时间：2013-02-09T06:36:08.007
> 
> 标签：c#, .net, wpf, user-interface

如何暂停所有 UI 元素的更新，然后更改我想要的任何内容并打开多个窗口并...，然后恢复 UI 并让它立即更新？

我需要它，因为我想一次打开多个包含内容的选项卡，但不喜欢向用户显示闪烁和多次刷新。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-09T06:49:41.530

您不必暂停 UI。如果您使用数据绑定，您可以在数据上下文中更新您想要的内容。除非您不在 DataContext 上调用 PropertyChanged 事件，否则不会更新任何内容。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-09T08:30:26.273

使用 Win32 API 函数 LockwindowUpdate 和 UnLockWindowUpdate

有关更多详细信息，请参阅下面的文章。 [http://weblogs.asp.net/jdanforth/archive/2004/03/12/88458.aspx](http://weblogs.asp.net/jdanforth/archive/2004/03/12/88458.aspx)

# mongodb - Tornado - 替换从 mongodb 检索到的原始数据

> ID：14785638
> 
> 赞同：0
> 
> 时间：2013-02-09T06:37:05.057
> 
> 标签：mongodb, tornado, database

有一些数据存储在 中`mongodb`，并通过以下方式检索到变量`student`中`student = coll.find_one({"name":"Cammy"})`：

`{ "_id" : ObjectId("511367bebb8027582a953cce"), "name" : "Cammy", "desc" : "does well in Math" }`

我想更改一些属性`student`并执行：`student['desc'] = "does well in Physics"`. 为了替换原始文件，我使用了`coll.save(student)`. 但不是替换，而是出现了一个相同但不同的`name`新`desc`记录`_id`。我应该怎么做才能替换原始文件？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-09T07:25:40.367

```
use 

db.coll.findAndModify( {
       query: { name: "cami"},
       update: { $set: { desc: 'does well in physics' } }
} ); 
```

# c++ - 可以重新排序对挥发物的访问吗？

> ID：14785639
> 
> 赞同：14
> 
> 时间：2013-02-09T06:37:16.147
> 
> 标签：c++, c++11, volatile

考虑以下写入`volatile`内存的序列，我摘自[David Chisnall 在 InformIT 的文章](http://www.informit.com/articles/article.aspx?p=1832575)“了解 C11 和 C++11 原子”：

```
volatile int a = 1;
volatile int b = 2;
             a = 3; 
```

我对 C++98 的理解是，根据 C++98 1.9，这些操作无法重新排序：

> 需要符合要求的实现来模拟（仅）抽象机的可观察行为，如下所述......抽象机的可观察行为是其对易失性数据的读取和写入序列以及对库 I/O 函数的调用

Chisnall 说，对订单保留的约束仅适用于单个变量，并写道，符合要求的实现可以生成执行此操作的代码：

```
a = 1;
a = 3;
b = 2; 
```

或这个：

```
b = 2;
a = 1;
a = 3; 
```

C++11 重复了 C++98 的措辞

> 需要符合要求的实现来模拟（仅）抽象机的可观察行为，如下所述。

但这是关于`volatile`s (1.9/8) 的：

> 对 volatile 对象的访问严格按照抽象机的规则进行评估。

1.9/12 表示访问`volatile`泛左值（包括变量`a`、`b`和`c`以上）是一种副作用，而 1.9/14 表示一个完整表达式（例如，语句）中的副作用必须先于后面的副作用在同一个线程中的完整表达。这使我得出结论，Chisnall 显示的两个重新排序是无效的，因为它们不符合抽象机器规定的排序。

是我忽略了什么，还是 Chisnall 弄错了？

（请注意，这不是线程问题。问题是是否允许编译器重新排序对`volatile`单个线程中不同变量的访问。）

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-09T11:45:51.217

IMO Chisnalls 的解释（由你提出）显然是错误的。更简单的情况是 C++98。`sequence of reads and writes to volatile data`需要保留，这适用于任何易失性数据的有序读写序列，而不是单个变量。

如果您考虑 volatile 的原始动机，这将变得很明显：内存映射 I/O。在 mmio 中，您通常在不同的内存位置有几个相关的寄存器，并且 I/O 设备的协议需要对其寄存器集进行特定的读取和写入序列 - 寄存器之间的顺序很重要。

C++11 的措辞避免谈论 absolute `sequence of reads and writes`，因为在多线程环境中，跨线程的此类事件没有一个单一的明确定义的序列 - 如果这些访问转到独立的内存位置，那不是问题。但我相信其意图是，对于具有明确定义的顺序的任何易失性数据访问序列，规则与 C++98 的规则保持相同——无论在该序列中访问多少不同的位置，都必须保留顺序。

对于实施而言，这是一个完全独立的问题。如何（甚至**是否**）从程序外部观察到易失性数据访问以及程序的访问顺序如何映射到外部可观察事件是未指定的。一个实现可能应该给你一个合理的解释和合理的保证，但什么是合理的取决于上下文。

C++11 标准为不同步的易失性访问之间的数据竞争留出了空间，因此没有什么需要用完整的内存栅栏或类似的结构来包围这些。如果内存的某些部分真正用作外部接口 - 用于内存映射 I/O 或 DMA - 那么实现为您提供对这些部分的易失性访问如何暴露给消费设备的保证可能是合理的。

可以从标准中推断出一个保证（参见 [into.execution]）：类型`volatile std::sigatomic_t`的值必须具有与写入它们的顺序兼容的值，即使在信号处理程序中 - 至少在单线程程序中也是如此。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-09T15:03:19.243

你是对的，他是错的。对不同 volatile 变量的访问不能由编译器重新排序，只要它们出现在单独的完整表达式中，即由 C++98 所谓的序列点分隔，或者在 C++11 术语中，一个访问在另一个之前排序。

Chisnall 似乎试图解释为什么`volatile`编写线程安全代码无用，通过展示一个简单的互斥实现依赖于`volatile`它会被编译器重新排序破坏。他是对的，这`volatile`对线程安全毫无用处，但不是因为他给出的原因。这不是因为编译器可能会重新排序对`volatile`对象的访问，而是因为 CPU 可能会重新排序它们。原子操作和内存屏障可防止编译器*和*CPU 根据线程安全的需要跨屏障重新排序。

[请参阅 Sutter 的信息volatile 与 volatile](http://www.drdobbs.com/parallel/volatile-vs-volatile/212701484)文章中表 1 的右下角单元格。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-09T06:57:38.550

目前，我将假设您`a=3`的 s 只是复制和粘贴中的一个错误，而您的本意是`c=3`.

这里真正的问题是评估之间的区别之一，以及事物如何对另一个处理器可见。标准描述了评估的顺序。从这个角度来看，你是完全正确的——给定分配给`a`，`b`并按`c`该顺序，分配必须按该顺序进行评估。

不过，这可能与这些值对其他处理器可见的顺序*不*对应。在典型的（当前）CPU 上，该评估只会将值写入缓存。但是，硬件可以从那里重新排序，因此（例如）写入主存储器的顺序完全不同。同样，如果另一个处理器尝试使用这些值，它可能会看到它们以不同的顺序发生变化。

是的，这是完全允许的——CPU 仍在按照标准规定的顺序评估分配，因此满足要求。该标准根本没有对评估后发生的事情提出任何要求，这就是这里发生的事情。

我应该补充一点：在某些硬件上它就足够了。例如，x86 使用缓存侦听，因此如果另一个处理器尝试读取一个已由一个处理器更新的值（但仍仅在缓存中），则具有当前值的处理器将暂停另一个处理器的读取处理器，直到可以写出当前值，以便其他处理器将看到当前值。

但并非所有硬件都如此。虽然保持这种严格的模型使事情变得简单，但在确保一致性的额外硬件和当/如果你有很多处理器时的简单速度方面，它也相当昂贵。

编辑：如果我们暂时忽略线程，问题会变得更简单——但不多。根据 C++11，§1.9/12：

> 当对库 I/O 函数的调用返回或对 volatile 对象的访问被评估时，副作用被认为是完整的，即使调用（例如 I/O 本身）或 volatile 访问隐含的一些外部操作可能还没有完成。

因此，对 volatile 对象的访问必须按顺序*启动*，但不一定按顺序*完成*。不幸的是，它通常是外部可见的完成。因此，我们几乎回到了通常的 as-if 规则：编译器可以根据需要重新排列事物，只要它不会产生外部可见的变化。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-09T06:39:36.113

看起来它可能会发生。

这个页面上有一个讨论：

[http://gcc.gnu.org/ml/gcc/2003-11/msg01419.html](http://gcc.gnu.org/ml/gcc/2003-11/msg01419.html)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-09T06:56:23.413

这取决于你的编译器。例如，从 Visual Studio 2005 开始，MSVC++ 保证* volatile 不会被重新排序（实际上，微软所做的是放弃并假设程序员将永远滥用`volatile`- MSVC++ 现在围绕某些用法添加了内存屏障`volatile`）。其他版本和其他编译器可能没有这样的保证。

长话短说：不要赌它。正确设计代码，不要滥用 volatile。必要时使用内存屏障或成熟的互斥锁。C++11 的`atomic`类型会有所帮助。

* * *

## 回答 #6

> 赞同：-2
> 
> 时间：2013-02-09T06:52:38.017

C++98 并没有说指令不能重新排序。

> 抽象机的可观察行为是它对易失性数据的读取和写入顺序以及对库 I/O 函数的调用

这表示这是读取和写入本身的实际顺序，而不是生成它们的指令。任何说指令必须反映程序顺序的读取和写入的论点都可以同样认为对 RAM 本身的读取和写入必须按照程序顺序发生，显然这是对要求的荒谬解释。

简单地说，这并不意味着什么。没有“一个正确的地方”来观察读取和写入的顺序（RAM 总线？CPU 总线？L1 和 L2 缓存之间？来自另一个线程？来自另一个内核？），所以这个要求本质上是没有意义的。

在对线程的任何引用之前的 C++ 版本显然没有指定从另一个线程看到的 volatile 变量的行为。C++11（明智地，IMO）[并没有改变这一点](https://stackoverflow.com/a/12878500/721269)，而是引入了具有明确定义的线程间语义的合理原子操作。

至于内存映射硬件，这总​​是特定于平台的。C++ 标准甚至没有假装解决如何正确完成。例如，该平台可能只有一部分内存操作在该上下文中是合法的，比如绕过可以重新排序的写发布缓冲区，C++ 标准当然不会强制编译器发出正确的指令那个特定的硬件设备——它怎么可能呢？

**更新**：我看到一些反对票，因为人们不喜欢这个事实。不幸的是，这是真的。

如果 C++ 标准禁止编译器重新排序对不同 volatile 的访问，理论上这种访问的顺序是程序可观察行为的一部分，那么它还要求编译器发出禁止 CPU 这样做的代码。该标准没有区分编译器做什么和编译器生成的代码使 CPU 做什么。

由于没有人认为标准要求编译器发出指令来阻止 CPU 重新排序对 volatile 变量的访问，而现代编译器不这样做，所以没有人应该相信 C++ 标准禁止编译器重新排序对不同 volatile 的访问。

# python - 用于字符串比较的内置 Python 函数，如 N-gram

> ID：14785640
> 
> 赞同：-1
> 
> 时间：2013-02-09T06:37:30.910
> 
> 标签：python

Python 中是否有任何内置函数，其执行类似于`Ngram.Compare('text','text2')`字符串比较。我不想安装 N-gram 模块。我尝试了我通过做的所有公共和私有函数`dir('text')`

我想在比较两个字符串时获得百分比匹配。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-09T07:11:47.923

您想要通过以下方式实现的 Levenshtein 距离

[http://pypi.python.org/pypi/python-Levenshtein/](http://pypi.python.org/pypi/python-Levenshtein/)

不想安装某些东西意味着：您必须自己编写代码。

[http://en.wikipedia.org/wiki/Levenshtein_distance](http://en.wikipedia.org/wiki/Levenshtein_distance)

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-02-09T07:17:07.423

[标准库中的difflib](http://docs.python.org/2/library/difflib.html)。

您还可以进行 Levenshtein 距离：

```
def lev(seq1, seq2):
    oneago = None
    thisrow = range(1, len(seq2) + 1) + [0]
    for x in xrange(len(seq1)):
        twoago, oneago, thisrow = oneago, thisrow, [0] * len(seq2) + [x + 1]
        for y in xrange(len(seq2)):
            delcost = oneago[y] + 1
            addcost = thisrow[y - 1] + 1
            subcost = oneago[y - 1] + (seq1[x] != seq2[y])
            thisrow[y] = min(delcost, addcost, subcost)
    return thisrow[len(seq2) - 1]

def di(seq1,seq2):
    return float(lev(seq1,seq2))/min(len(seq1),len(seq2))

print lev('spa','spam')
print di('spa','spam') 
```

# html - 具有 3 个提交按钮的提交按钮作为下拉列表

> ID：14785646
> 
> 赞同：0
> 
> 时间：2013-02-09T06:37:48.917
> 
> 标签：html

我又需要你的帮助了。我正在尝试使用提交按钮制作一个下拉列表。例如，我有一个值 = CAR 的提交按钮，
然后如果我单击提交按钮 CAR
，则其他 2 个提交按钮显示在 CAR 的提交按钮下。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-09T07:10:15.473

看到这个链接我希望这对你有帮助 jsfiddle.net/2KEVg/2/

# titanium - 错误：在 -[TiUITableViewProxy insertRowBefore:] 中找不到行

> ID：14785648
> 
> 赞同：0
> 
> 时间：2013-02-09T06:37:53.560
> 
> 标签：titanium, tableview, appcelerator-mobile

我有一个表视图，其中包含从 sqlite 获取的数据。我可以通过将编辑设置为 true 来删除记录。

我想在删除行之前检查一些条件。如果条件为真，则删除该行，但是当条件为假时，我收到以下错误：

> 没有找到索引的行。在 -[TiUITableViewProxy insertRowBefore:] (TiUITableViewProxy.m:500)

# 控制器

```
table.addEventListener('delete', function(e) {
    if(some condition){
        db.execute("DELETE FROM tbltest WHERE rowid ='" + e.source.rowid + "'");
    } else {
        alert('Deletion is not possible');
        table.insertRowBefore(e.index, e.row);
    }
} 
```

有任何想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-10T22:25:18.620

我感觉表索引没有刷新。因此，当您在旧行索引下查找一行时，它认为那里什么都没有。

试试这个：

```
table.addEventListener('delete', function(e) {
    table.setData(table.data);
    if(some condition){
        db.execute("DELETE FROM tbltest WHERE rowid ='" + e.source.rowid + "'");
    } else {            
        alert('Deletion is not possible');
        table.insertRowBefore(e.index, e.row);
        table.setData(table.data);
    }
} 
```

尽管我不确定您在执行 setData 后是否会丢失 e.row。另一个注意事项是，如果您要删除最后一行，这将不起作用。所以检查行的索引，比较行的长度，如果它更大，只需附加行。所以代码变成了

```
table.addEventListener('delete', function(e) {
    table.setData(table.data);
    if(some condition){
        db.execute("DELETE FROM tbltest WHERE rowid ='" + e.source.rowid + "'");
    } else {            
         // below will only work if you have 1 or no explicit sections in the table if you have more, you'll need to iterate through them
        if (e.index >= table.data[0].rows.length) {
            table.appendRow(e.row);
        } else {
            table.insertRowBefore(e.index, e.row);
        }
        table.setData(table.data);
    } 
```

我还没有测试过这个，如果它不起作用，希望它至少能让你走上正确的轨道:)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-11T05:20:37.570

```
 table.addEventListener('delete', function(e) {
     try{
       db.execute("DELETE FROM tbltest WHERE rowid ='" + e.source.rowid + "'");

        } 
      catch(e) {            
        alert('Deletion error' + e);
         table.insertRowBefore(e.index, e.row);
          }
   } 
```

# ruby-on-rails - Rails Nokogiri xpath().each 只存储第一个节点

> ID：14785651
> 
> 赞同：1
> 
> 时间：2013-02-09T06:38:07.107
> 
> 标签：ruby-on-rails, ruby, xml, xml-parsing, nokogiri

我正在尝试通过数据库种子将大约 10K 的 XML 节点作为记录导入我的 Rails DB。这是我导入 XML 代码的代码：

```
doc = Nokogiri::XML(File.read("./db/seed/recipes.xml"))

doc.xpath('//Item').each do |i|
  Recipe.find_or_create_by_title(title: i.xpath('title').inner_text)
end 
```

和示例 XML 数据：

```
<Item>
  <title>Fried Eggs and Collard Greens Over Polenta</title>
</Item> 
```

然而，当我尝试播种时，它只会播种第一个节点（即使有 15k）。我是一个完全的 XML 菜鸟。关于为什么会发生这种情况的任何想法？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-09T14:57:00.290

XML 文档必须包含一个元素，该元素是所有其他元素的父元素。例如，

```
<Items>
  <Item>
    <title>Fried Eggs and Collard Greens Over Polenta</title>
  </Item>
  <Item>
    <title>Fried Eggs and Collard Greens Over Polenta</title>
  </Item>
</Items> 
```

# javascript - Object.innerHTML 未设置值

> ID：14785654
> 
> 赞同：0
> 
> 时间：2013-02-09T06:38:48.910
> 
> 标签：javascript

我正在使用 object.innertHTML 来设置 HTML 结构。但它没有设置初始 TR 和 TD 元素。下面是代码

```
 var previousInnerHTML = new String();
 previousInnerHTML = previousInnerHTML.concat("<TR class='evenrow ' __eventAdded='true' isSubTotalRow='false' usable='false' index='40'><TD><INPUT id=check_table1 onclick=WebForm.markRowForSelection(event) type=checkbox xformstype='checkbox' doEBIValidate='false' __cID='c514' transactional='true' model='null' freemodel='false' databound='true' freeform='false' _initialized='true' originalTitle dataBoundElement='true' selectnotifier='true' trueValue='null' falseValue='null'></INPUT></TD><TD><DIV id=xfe2 class=fieldsbox><INPUT id=output2 class=input title='Provide value for Output2' type=text xformstype='input' doEBIValidate='false' __parent='table1' __cID='c515' transactional='true' model='null' freemodel='false' databound='true' freeform='false' _initialized='true' originalTitle='Provide value for Output2' xql='.//ID' ref='.//ID' _inTable='true' dataBoundElement='true'></DIV></TD><TD><DIV id=xfe4 class=fieldsbox><INPUT id=output4 class='input output' title='Value for Output4' readOnly xformstype='output' doEBIValidate='false' __parent='table1' __cID='c516' transactional='true' model='null' freemodel='false' databound='true' freeform='false' _initialized='true' originalTitle='Value for Output4' xql='EMPID' isOutputControl='true' ref='EMPID' _inTable='true' dataBoundElement='true'></DIV></TD><TD><DIV id=xfe6 class=fieldsbox><INPUT id=output5 class='input output' title='Value for Output5' readOnly xformstype='output' doEBIValidate='false' __parent='table1' __cID='c517' transactional='true' model='null' freemodel='false' databound='true' freeform='false' _initialized='true' originalTitle='Value for Output5' xql='ROLEID' isOutputControl='true' ref='ROLEID' _inTable='true' dataBoundElement='true'></DIV></TD><TD><DIV id=xfe8 class=fieldsbox><INPUT id=output3 class='input output' title='Value for Output3' readOnly xformstype='output' doEBIValidate='false' __parent='table1' __cID='c518' transactional='true' model='null' freemodel='false' databound='true' freeform='false' _initialized='true' originalTitle='Value for Output3' xql='num1' isOutputControl='true' ref='num1' _inTable='true' dataBoundElement='true'></DIV></TD><TD><DIV id=xfe10 class=fieldsbox><INPUT id=output1 class='input output' title='Value for Output1' readOnly xformstype='output' doEBIValidate='false' __parent='table1' __cID='c519' transactional='true' model='null' freemodel='false' databound='true' freeform='false' _initialized='true' originalTitle='Value for Output1' xql='num2' isOutputControl='true' ref='num2' _inTable='true' dataBoundElement='true'></DIV></TD></TR>");

 var buttonObject = document.createElement("");
 buttonObject.innerHTML = previousInnerHTML; 
```

但是输出是

```
"<INPUT id=check_table1 onclick=WebForm.markRowForSelection(event) type=checkbox xformstype="checkbox" doEBIValidate="false" __cID="c514" transactional="true" model="null" freemodel="false" databound="true" freeform="false" _initialized="true" originalTitle dataBoundElement="true" selectnotifier="true" trueValue="null" falseValue="null"></INPUT></TD><TD>
<DIV id=xfe2 class=fieldsbox><INPUT id=output2 class=input title="Provide value for Output2" type=text xformstype="input" doEBIValidate="false" __parent="table1" __cID="c515" transactional="true" model="null" freemodel="false" databound="true" freeform="false" _initialized="true" originalTitle="Provide value for Output2" xql=".//ID" ref=".//ID" _inTable="true" dataBoundElement="true"></DIV></TD><TD>
<DIV id=xfe4 class=fieldsbox><INPUT id=output4 class="input output" title="Value for Output4" readOnly xformstype="output" doEBIValidate="false" __parent="table1" __cID="c516" transactional="true" model="null" freemodel="false" databound="true" freeform="false" _initialized="true" originalTitle="Value for Output4" xql="EMPID" isOutputControl="true" ref="EMPID" _inTable="true" dataBoundElement="true"></DIV></TD><TD>
<DIV id=xfe6 class=fieldsbox><INPUT id=output5 class="input output" title="Value for Output5" readOnly xformstype="output" doEBIValidate="false" __parent="table1" __cID="c517" transactional="true" model="null" freemodel="false" databound="true" freeform="false" _initialized="true" originalTitle="Value for Output5" xql="ROLEID" isOutputControl="true" ref="ROLEID" _inTable="true" dataBoundElement="true"></DIV></TD><TD>
<DIV id=xfe8 class=fieldsbox><INPUT id=output3 class="input output" title="Value for Output3" readOnly xformstype="output" doEBIValidate="false" __parent="table1" __cID="c518" transactional="true" model="null" freemodel="false" databound="true" freeform="false" _initialized="true" originalTitle="Value for Output3" xql="num1" isOutputControl="true" ref="num1" _inTable="true" dataBoundElement="true"></DIV></TD><TD>
<DIV id=xfe10 class=fieldsbox><INPUT id=output1 class="input output" title="Value for Output1" readOnly xformstype="output" doEBIValidate="false" __parent="table1" __cID="c519" transactional="true" model="null" freemodel="false" databound="true" freeform="false" _initialized="true" originalTitle="Value for Output1" xql="num2" isOutputControl="true" ref="num2" _inTable="true" dataBoundElement="true"></DIV></TD></TR>" 
```

初始 TR 和 TD 元素丢失。可能是什么原因

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-09T07:37:50.350

如果您想插入大量 HTML，并且不想替换整个`.innerHTML`父对象（您的表格），请使用`.insertAdjacentHTML()`.

**演示：** [[[[![jsFiddle](../Images/827f57786617d886d70c0bce0ccca6b6.png)](http://jsfiddle.net/ThinkingStiff/VtKYU/)]]]

### 脚本：

```
var containerObject = document.getElementById("table1"); 
containerObject.insertAdjacentHTML( 'beforeEnd', "<TR class='evenrow ' __eventAdded='true' isSubTotalRow='false' usable='false' index='40'><TD><INPUT id=check_table1 onclick=WebForm.markRowForSelection(event) type=checkbox xformstype='checkbox' doEBIValidate='false' __cID='c514' transactional='true' model='null' freemodel='false' databound='true' freeform='false' _initialized='true' originalTitle dataBoundElement='true' selectnotifier='true' trueValue='null' falseValue='null'></INPUT></TD><TD><DIV id=xfe2 class=fieldsbox><INPUT id=output2 class=input title='Provide value for Output2' type=text xformstype='input' doEBIValidate='false' __parent='table1' __cID='c515' transactional='true' model='null' freemodel='false' databound='true' freeform='false' _initialized='true' originalTitle='Provide value for Output2' xql='.//ID' ref='.//ID' _inTable='true' dataBoundElement='true'></DIV></TD><TD><DIV id=xfe4 class=fieldsbox><INPUT id=output4 class='input output' title='Value for Output4' readOnly xformstype='output' doEBIValidate='false' __parent='table1' __cID='c516' transactional='true' model='null' freemodel='false' databound='true' freeform='false' _initialized='true' originalTitle='Value for Output4' xql='EMPID' isOutputControl='true' ref='EMPID' _inTable='true' dataBoundElement='true'></DIV></TD><TD><DIV id=xfe6 class=fieldsbox><INPUT id=output5 class='input output' title='Value for Output5' readOnly xformstype='output' doEBIValidate='false' __parent='table1' __cID='c517' transactional='true' model='null' freemodel='false' databound='true' freeform='false' _initialized='true' originalTitle='Value for Output5' xql='ROLEID' isOutputControl='true' ref='ROLEID' _inTable='true' dataBoundElement='true'></DIV></TD><TD><DIV id=xfe8 class=fieldsbox><INPUT id=output3 class='input output' title='Value for Output3' readOnly xformstype='output' doEBIValidate='false' __parent='table1' __cID='c518' transactional='true' model='null' freemodel='false' databound='true' freeform='false' _initialized='true' originalTitle='Value for Output3' xql='num1' isOutputControl='true' ref='num1' _inTable='true' dataBoundElement='true'></DIV></TD><TD><DIV id=xfe10 class=fieldsbox><INPUT id=output1 class='input output' title='Value for Output1' readOnly xformstype='output' doEBIValidate='false' __parent='table1' __cID='c519' transactional='true' model='null' freemodel='false' databound='true' freeform='false' _initialized='true' originalTitle='Value for Output1' xql='num2' isOutputControl='true' ref='num2' _inTable='true' dataBoundElement='true'></DIV></TD></TR>") 
```

### HTML：

```
<table id="table1">
</table> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-09T07:16:54.987

尝试创建“空白”DOM 元素时，javascript 控制台出现错误。你不能做`document.createElement("")`。看起来你正在尝试创建一个表，所以试试这个：

```
 var buttonObject = document.createElement("table"); 
```

[http://jsfiddle.net/fCBne/](http://jsfiddle.net/fCBne/)

# perl - 如何从 Perl 中的路径中提取目录名称

> ID：14785663
> 
> 赞同：1
> 
> 时间：2013-02-09T06:40:13.810
> 
> 标签：perl

我有这样的路径

```
/home/user/doc/loc 
```

我想分别提取 home、user、doc、loc。我试过了`split (////)`，`split("/")` 但它们都没有奏效。请给我示例脚本：

```
while (<EXPORT>) {
if (/^di/) { 
    ($key, $curdir) = split(/\t/); 
    printf "the current dir is %s\n", $curdir;
    printf("---------------------------------\n");
    ($home_dir, $user_dir, $doc_dir, $loc_dir) = split("/");    
  }
 } 
```

但它没有用；因此请帮助我。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-09T06:54:52.570

鉴于`$curdir`包含路径，您可能会使用：

```
my(@names) = split m%/%, $curdir; 
```

在 Unix-ish 系统上。或者你会使用[`File::Spec`](http://perldoc.perl.org/File/Spec.html)and `splitdir`。例如：

```
#!/usr/bin/env perl
use strict;
use warnings;
use File::Spec;

my $curdir = "/home/user/doc/loc";
my(@names) = split m%/%, $curdir;

foreach my $part (@names)
{
    print "$part\n";
}

print "File::Spec->splitdir()\n";
my(@dirs) = File::Spec->splitdir($curdir);

foreach my $part (@dirs)
{
    print "$part\n";
} 
```

输出（包括前导空行）：

> `home`
> `user`
> `doc`
> `loc`
> `File::Spec->splitdir()`
>  
> `home`
> `user`
> `doc`
> `loc`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-09T06:53:34.177

`split`的第一个结果将是传递给它的正则表达式的第一个实例之前的字符串。因为你有一个前导的“/”，你会得到一个空字符串 in `$home_dir`， 'user' in`$user_dir`等等。添加`undef`到列表分配的第一个位置，或者先修剪前导斜杠。

另外我不确定你是否可以在不通过它`$curdir`的情况下调用 split 。尝试：

```
(undef, $home_dir, $user_dir, $doc_dir, $loc_dir) = split("/", $curdir); 
```

# playframework - 更新表单在数据库中创建新对象

> ID：14785665
> 
> 赞同：0
> 
> 时间：2013-02-09T06:40:34.043
> 
> 标签：playframework, playframework-1.x

我对 play framework-1.2.5 的工作比较新鲜，我已经创建了表单并将其保存在数据库中。直到这很好，现在当我尝试更新任何对象时，将在数据库中创建新的对象（行）。这不应该发生。有什么解决办法吗？

```
ID  Name       
===========
1   EMP1.0          
2   EMP1.1      
3   EMP1.2      
4   EMP1.3 
```

这是数据库结构的示例。在更新和保存时将相同的对象作为新对象添加到数据库中。

我的型号代码：

```
@OneToOne(cascade=CascadeType.ALL)
public SupplierTypeModel supplierTypeModel; 
```

控制器代码：

```
supplier.edit("supplier",params.all());
validation.valid(supplier);
supplier.save(); 
```

先谢谢了。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-09T08:31:48.267

[编辑](http://www.playframework.com/documentation/api/1.2.5/index.html)已弃用。改用[模型对象绑定](http://www.playframework.com/documentation/1.2.5/controllers#objectbinding)。请记住，如果参数有 model.id，那么它将从 db 中检索模型，因此您可以对其进行编辑。

# joomla2.5 - Joomla 2.5 文章菜单分配

> ID：14785668
> 
> 赞同：0
> 
> 时间：2013-02-09T06:42:52.600
> 
> 标签：joomla2.5

我正在尝试分配具有类别博客类型的菜单。文章类别是自定义创建的，它位于第 2 级。意味着我有一个根文章类别，例如“rootcategory”。如果我将菜单分配给这个类别，那很好。但我在“根类别”下有一个子类别，比如 child- 1。如果我将其分配给菜单，则会显示错误。找不到喜欢的类别。

请帮我 。提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-10T01:22:02.977

您是否将“child- 1”与有效的文章/类别博客 /... 没有“已注册”或“特殊”状态相关联？

你能提供一个网址吗？

# java - 显示匹配行时出现 ArrayIndexOutOfBoundException

> ID：14785672
> 
> 赞同：-1
> 
> 时间：2013-02-09T06:43:26.437
> 
> 标签：java

我的 android 代码有问题。我的这段代码的目标是读取文本文件的每一行以匹配静态字符串，我还需要显示所有匹配的问题。我的静态输入字符串是“你的出生日期是什么”，并且还有一个文本（fms.txt）文件，其中包含资产文件夹中的所有问题。然后我编译了这段代码。我得到了错误的输出。

我的代码

```
try {
    ins = this.getAssets().open("fms.txt");
    reader = new BufferedReader(new InputStreamReader(ins));
    line = reader.readLine();
    message = "What is your DOB";
    messages = message.split(" ");
    int i = 0, j = 0, inc = 1, oldin = 0;
    while (line != null) {
        lines = line.split("#");
        words = lines[0].split(" ");
        if (words[0].trim().equals(messages[0].trim())) {
            for(i = 1; messages[i].trim() != null; i++) {
                Log.e(TAG, "----------::::"+messages[i].trim());
                oldin = inc;
            }
        }
        line = reader.readLine();
    }
    ins.close();
    Log.e(TAG, "---------FMSG : "+finalmsg);
} catch(IOException e1) {
    e.printStackTrace();
} 
```

![在此处输入图像描述](../Images/570c64ad71fcbbb332c02363332dcb84.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-09T06:55:13.827

You are facing here ArrayIndexOutOfBoundsException because you still have somewhere white space in your comparision

replace

```
for(i=1; messages[i] != null, i++) 
```

with

```
for(i = 1; i < messages.length && messages[i] != null && !messages[i].trim().isEmpty(); i++) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-09T06:50:03.997

看起来问题出在您身上，`for(i=1; messages[i].trim() ...`因为`i`有时会大于或等于`messages`数组的长度。为了解决，您应该将代码更改为：

```
for (i = 1; i < messages.length && messages[i] != null &&
            !messages[i].trim().isEmpty(); i++) {
    //your business logic...
} 
```

解释变化：

*   `i < messages.length`: 这一定是第一条规则。请注意，Java 从左到右计算。对数组进行迭代时，**必须首先**检查索引是否小于数组大小。

*   `messages[i] != null`: 其次，检查数组元素是否不同于`null`. 如果你`messages[i].trim()`在一个`null`实例上做，你会得到一个`NullPointerException`.

*   `!messages[i].trim().isEmpty()`: 最后，在你知道你可以访问元素并且这个元素不是`null`之后，你可以修剪前导空格并检查是否`String`不为空。

请注意，此错误不是 android 应用程序错误，而是 Java 错误编码。

进一步修改，你不用担心`messages[i]`被`null`，甚至是空的。你的代码应该只是

```
for (i = 1; i < messages.length; i++) {
    //your business logic...
} 
```

* * *

顺便说一句，下次请不要发布您的代码图像，而是将其写在您的问题上。如果您不了解如何格式化代码，请不要担心，其他人会编辑问题并帮助您。对堆栈跟踪的相同建议。

# android - 即使在android中的设备关闭期间如何运行我的线程

> ID：14785673
> 
> 赞同：0
> 
> 时间：2013-02-09T06:43:27.320
> 
> 标签：android, multithreading, date, utc, runnable

我开发了一个每天运行一次的应用程序。在那我想在一个文件中更新一个日期（所以它需要每天完成）。
我在 Handler 的帮助下使它成为可能：

```
final Runnable mUpdateResults = new Runnable() {
        public void run() {

            try{

                FileInputStream fia = openFileInput("ActualDate");
                StringBuffer actualContent = new StringBuffer("");
                byte[] buffer = new byte[1024];
                try {
                    while ((fia.read(buffer)) != -1) {
                        actualContent.append(new String(buffer));
                    }
                } catch (IOException e1) {
                    // TODO Auto-generated catch block
                    e1.printStackTrace();
                }
                actualDate = actualContent.toString().trim();

                SimpleDateFormat sdf = new SimpleDateFormat("dd-MM-yyyy");
                Calendar c = Calendar.getInstance();
                try {
                    c.setTime(sdf.parse(actualDate));
                } catch (Exception e) {
                    e.printStackTrace();
                }
                c.add(Calendar.DATE, 1);  
                actualDate = sdf.format(c.getTime()); 
                FileOutputStream foa = openFileOutput("ActualDate", Context.MODE_PRIVATE);
                foa.write(actualDate.getBytes());
                foa.close();

            }catch (Exception e) {
                // TODO: handle exception
                startupFunction();
            }

        }
    };

    long delay = 24*60*60*1000; // first run after a day

    long period = 24*60*60*1000; // repeat every day.

    Timer timer = new Timer();

    timer.scheduleAtFixedRate(new TimerTask() {

    public void run() {

        mHandler.post(mUpdateResults);
    }

    }, delay, period); 
```

这背后的实际想法是，我希望我的应用程序有一个用户无法更改的设备独立日期。我将第一次出现的日期存储在 UTC 日期的**ActualDate**文件中。

**问题：**代码工作正常，除非设备关闭，因此线程在那个时候停止。我该如何克服这个问题。

各种建议都非常感谢。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-09T06:55:52.890

尝试遵循以下逻辑。它只是一个想法，这可能会有所帮助。

您的应用程序今天运行 - 因此您在文件中添加了一个条目，例如**myTodayDate**。这是您的应用程序特定日期。

除此之外，还要输入系统当前日期，该日期将存储为**lastUpdatedDate**。

假设手机在接下来的 2 天内保持关闭状态。稍后，当您的应用程序运行时，您可以执行此操作。

从文件中获取**lastUpdatedDate**并从当前系统日期中减去它。您将获得的差异将是**noOfDays=2**。

将此添加到文件中的**myTodayDate**中。

现在，存储这个新日期，以及之前所说的当前系统。这可以帮助您克服日期同步问题。

其实只是一个想法！让我知道，如果它有帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-09T07:01:30.573

使用[AlarmManager](http://developer.android.com/reference/android/app/AlarmManager.html)让您的应用程序定期运行，而不是一直运行。在代码中使用延迟会浪费周期，并且由于内存管理，您的应用程序可能会被 Android 操作系统本身杀死。

# sass - 指南针精灵未在浏览器中显示

> ID：14785674
> 
> 赞同：0
> 
> 时间：2013-02-09T06:43:31.440
> 
> 标签：sass, compass-sass, sprite, zurb-foundation

我正在使用基于 Sass 构建的 Zurb Foundation 3，我已设法导入精灵和显示所有生成的精灵的图像文件夹，但它们都没有出现在浏览器中。

HTML

```
<div class="six columns">
    <a href="#"><h2>Al Umrah</h2></a>
</div> 
```

SCSS

```
$siteImages-layout:smart;
@import "siteImages/*.png";
@include all-siteImages-sprites;

h2{@include siteImages-sprite(al-umrah-logo);height:261px;} 
```

生成的 CSS

```
.siteImg-sprite, .siteImg-al-umrah-logo, .siteImg-hajj, .siteImg-home, .siteImg-umrah,     h2 {
background:url('/images/siteImg-sf72f1f5d54.png') no-repeat
}
.siteImg-al-umrah-logo {
background-position:0 -384px
}
.siteImg-hajj {
background-position:0 -128px
}
.siteImg-home {
background-position:0 -256px
}
.siteImg-umrah {
background-position:0 0
}
h2 {
background-position:0 -384px;
height:261px
} 
```

RB配置

```
http_path = "/"
css_dir = "stylesheets"
sass_dir = "sass"
images_dir = "images"
javascripts_dir = "javascripts"

# relative_assets = true 
```

PS：我在桌面上有这个文件夹

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-10T16:34:19.140

CSS 文档请求的文件在您的测试机器上不存在。由于您是从桌面查看文档，因此图像的绝对路径可能类似于`C:\Users\username\desktop\path\to\images\siteImg-sf72f1f5d54.png`，而不是`/images/siteImg-sf72f1f5d54.png`。

启用`relative_assets`应该将路径更改为类似的路径`../images/siteImg-sf72f1f5d54.png`，这对您的测试机器和生产服务器都有效。

# c# - 使用三元运算符无法确定条件表达式错误

> ID：14785678
> 
> 赞同：0
> 
> 时间：2013-02-09T06:44:28.970
> 
> 标签：c#, .net

出现以下错误`ternary operator`。

> 错误：无法确定条件表达式的类型，因为 '' 和 'int' 之间没有隐式转换

即使我已指定结果，为什么还会出现此`(int)(result)`错误`ExecuteScalar`？我们怎样才能纠正它？

**代码**

```
 public int? GetWINFromAssociateID(int associateID)
    {
        int? WIN =null;
        using (SqlConnection connection = new SqlConnection(connectionString))
        {
            connection.Open();
            string commandText = DataLayerConstants.GetWINFromAssociateIDCommand;
            using (SqlCommand command = new SqlCommand(commandText, connection))
            {
                command.CommandType = System.Data.CommandType.Text;
                command.Parameters.AddWithValue("@payroll_svc_assoc_id", associateID);

                var result = command.ExecuteScalar();
                WIN = result == DBNull.Value ? null : (int)(result);
            }
        }
        return WIN;
    } 
```

**更新的参考文献**

1.  [条件运算符不能隐式转换？](https://stackoverflow.com/questions/2215745/conditional-operator-cannot-cast-implicitly/2215959#2215959)
2.  [类型推理的麻烦，第一部分 - Eric Lippert](http://blogs.msdn.com/b/ericlippert/archive/2006/05/24/type-inference-woes-part-one.aspx)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-09T06:51:06.233

您应该将三元运算符中的 null 转换为 int?：

```
Win=result==DBNull.Value?(int?)null:(int?)result; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-09T07:42:51.833

这是因为有`Command.ExecuteScalar`返回类型的实例`object`；而且您可能不会返回整数。

您需要使用`int.Parse`或更好的 int.TryParse;

```
int.Parse(result.ToString()); 
```

或者

```
int temp = -1;
int.TryParse(result.ToString(), out temp); 
```

# css - 使用 CSS 隐藏 wordpress 消息

> ID：14785679
> 
> 赞同：2
> 
> 时间：2013-02-09T06:44:38.553
> 
> 标签：css, wordpress, wordpress-theming

我想从仪表板隐藏 wordpress“请通知站点管理员”消息。 ![在此处输入图像描述](../Images/844e5dfbc60341d85100c410795ec931.png) 消息是：

```
WordPress 3.5.1 is available! Please notify the site administrator. 
```

HTML 代码：

```
<div class="update-nag"><a href="http://codex.wordpress.org/Version_3.5.1">WordPress 3.5.1</a> is available! Please notify the site administrator.</div> 
```

所以，我添加了一个这样的 CSS 来隐藏消息，但这不起作用！
这是CSS：

```
.update-nag{
display: none;} 
```

任何想法？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T11:37:19.773

您可以起诉从[Prijm](http://www.prijm.com/)找到的这个模块启用该模块，将完成这项工作：
[隐藏更新提醒消息](http://wordpress.org/extend/plugins/hide-update-reminder-message/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-09T06:47:23.990

将以下代码放在您的主题 functions.php 文件中。

只需将这个简单的代码放在您的functions.php 中，更新消息就会被隐藏。

```
function hideUpdateNag() {
    remove_action( 'admin_notices', 'update_nag', 3 );
}
add_action('admin_menu','hideUpdateNag'); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-09T06:47:52.037

尝试：

```
#update-nag, .update-nag{
    display: none;
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-09T07:35:20.457

add_action('admin_menu','wphidenag'); 2 函数 wphidenag() { 3 remove_action('admin_notices', 'update_nag', 3); 4 }

尝试这个

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-09T07:38:40.623

只需将这个简单的代码放在您的functions.php 中，更新消息就会被隐藏。

```
function hideUpdateNag() {
    remove_action( 'admin_notices', 'update_nag', 3 );
}
add_action('admin_menu','hideUpdateNag'); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2015-01-03T15:52:22.000

作为管理员，我想查看该消息，但我希望它对其他用户隐藏。我这样做了：

```
function hideUpdateNag() {
    // if not an administrator
    if ( !current_user_can('update_core') ) {
        remove_action( 'admin_notices', 'update_nag', 3 );
    }

}
add_action('admin_menu','hideUpdateNag'); 
```

# libgdx - 导入 libgdx 测试项目错误

> ID：14785680
> 
> 赞同：1
> 
> 时间：2013-02-09T06:44:39.317
> 
> 标签：libgdx, android-library

## 问题

我下载了 libgdx-master.zip 库并将其解压缩，然后尝试在 Eclipse 中导入 android 测试项目，这样做会给出一个感叹号，这不是一个独特的错误，但我面临的问题如下。

## 我做了以下整理，但没有为我工作

1.  在项目中创建 libs 文件夹并复制其中的所有 jar
2.  在项目属性中，我添加了 libgdx-master.zip libray 附带的 jar 文件
3.  清理项目
4.  当我的项目中出现资源冲突或感叹号时，这就是我所做的

## 错误

1.  在导入中：该测试项目使用的类来自 libgdx-master libray
2.  在Project Properties->Java build->Project->出现一些缺失的项目
3.  我搜索了很多关于导入这个库中存在的测试项目，但是，只能找到创建新项目来使用这个库

## 我对社区的看法

1.  从库 libgdx-master 导入测试项目，您自己使用的任何教程链接/指南，我尝试了很多。
2.  任何使用此库的人都可以更正确地回答
3.  使用这个库进行安卓棋盘游戏开发，你会给什么评级/排名
4.  我知道如何导入项目和链接资源，但是，在这种特定情况下，它对我不起作用，如果你能具体回答，我将不胜感激。

最后，我要感谢耐心阅读本文的人。

# php - substr 不适用于 utf8

> ID：14785682
> 
> 赞同：6
> 
> 时间：2013-02-09T06:45:36.630
> 
> 标签：php, mysql, utf-8, right-to-left, substr

我正在使用 substr 方法来访问字符串的前 20 个字符。它在正常情况下工作正常，但是在使用 rtl 语言（utf8）时它给了我错误的结果（显示了大约 10 个字符）。我在网上搜索过，但发现对解决这个问题很有用。这是我的代码行：

```
substr($article['CBody'],0,20); 
```

提前致谢。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-02-09T06:50:20.397

> 如果您使用的是编码为 UTF-8 的字符串，当您尝试使用 PHP substr 函数获取其中的一部分时，您可能会丢失字符。发生这种情况是因为 UTF-8 字符不限于一个字节，它们具有可变长度以匹配 Unicode 字符，介于 1 到 4 个字节之间。

您可以使用**[mb_substr()](http://php.net/manual/en/function.mb-substr.php)**，它的工作方式几乎与 substr 相同，但不同之处在于您可以添加一个新参数来指定编码类型，无论是`UTF-8`编码还是不同的编码。

尝试这个：

```
$str = mb_substr($article['CBody'], 0, 20, 'UTF-8');

echo utf8_decode($str); 
```

希望这可以帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-09T06:48:27.710

改用这个，这里有额外的文本来使正文足够长。这将处理多字节字符。 [http://php.net/manual/en/function.mb-substr.php](http://php.net/manual/en/function.mb-substr.php)

# java - 销毁SurfaceView后如何返回主Activity？

> ID：14785686
> 
> 赞同：0
> 
> 时间：2013-02-09T06:46:21.813
> 
> 标签：java, android

我的活动

```
protected void onDestroy(){
    super.onDestroy();
    finish();
}
public void onPause(){
    super.onPause();
    gv.gameLoopThread.setRunning(false);
    finish();
}
public void redirectHome(){

    onDestroy();
    Intent intent=new Intent(PlayActivity.this, MainActivity.class);
    startActivity(intent);
} 
```

我的视图点击。

```
if(gameover){
              //My Restart Button.
          if(x>(getWidth()*.39375) && x<(getWidth()*.625) &&
                  y>(getHeight()*.583333333) && y<(getHeight()*.654166667)){                  
              gameover=false;
              createSprites();
              destroyed=0;
          }
              //My Exit Button.
          if(x>(getWidth()*.39375) && x<(getWidth()*.625) &&
                  y>(getHeight()*.729166667) && y<(getHeight()*.791666667)){
              gameLoopThread.setRunning(false);
              new PlayActivity().redirectHome();
          }

      } 
```

我的重新启动按钮有效，但我的退出按钮导致我的应用程序崩溃，并将错误指向 'Intent intent=new Intent(PlayActivity.this, MainActivity.class);' 和'新的 PlayActivity().redirectHome();

任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-09T08:33:42.913

不能直接调用“OnDestroy()”回调，也不能调用`finish()`方法`onDestroy()`。

在您的情况下，最好将您的代码更改为如下所示：

```
protected void onDestroy(){
  super.onDestroy();
}
public void onPause(){
  super.onPause();
  gv.gameLoopThread.setRunning(false);

}
public void redirectHome(){
 Intent intent=new Intent(PlayActivity.this, MainActivity.class);
 startActivity(intent);
 finish();
} 
```

还有一个问题：这件事真的以某种方式起作用吗？我问这个是因为回调调用应该`finish()`在`onPause()`你的活动出现在屏幕上之前关闭你的活动。

无论如何，请检查我的代码并评论结果）

编辑：你也不能真正创建活动实例并调用它的方法，`new PlayActivity().redirectHome();`所以你需要一个`context`来`Аctivity`执行新活动的开始或完成这个活动。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-09T08:31:11.277

似乎因为您可以`onDestroy`将活动引用`PlayActivity.this`变为无效或为空

您可以使用应用程序上下文而不是`PlayActivity.this`to 并开始您的活动`FLAG_ACTIVITY_NEW_TASK`

# java - GWT 上传文件

> ID：14785687
> 
> 赞同：0
> 
> 时间：2013-02-09T06:47:09.367
> 
> 标签：java, tomcat

我使用此[http://code.google.com/p/gwtupload/](http://code.google.com/p/gwtupload/)将文件上传到我的应用程序。但是当我想将文件从我的应用程序中保存到 Tomcat 的其他文件夹中时，我遇到了问题。（例如，我的应用程序的名称是 MyApp，但我想将文件保存在同一 Tomcat 服务器上的文件夹 Data 中）。有人可以知道为什么我不能这样做吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-09T12:41:43.727

Is it what you are looking for ??

Tomcat home directory or Catalina directory is stored at the Java System Property environment. If the Java web application is deployed into Tomcat web server, we can get the Tomcat directory with the following command

```
System.getProperty("catalina.base"); 
```

# java - JPanel 上的元素未出现

> ID：14785692
> 
> 赞同：2
> 
> 时间：2013-02-09T06:47:44.300
> 
> 标签：java, swing

我对使用 swing 进行 GUI 编程还很陌生，并且我确信这是一个菜鸟问题。

我创建了一个 JFrame，里面有一个 JPanel。然后我尝试为数组中的每个元素添加一个 JLabel。问题是元素没有出现在面板上。我已经检查以确保数组元素正在使用 println 语句进行注册，所以这不是问题。我猜我在某处遗漏了一个声明......请告知。

这是我的代码：

```
public class MazeFrame extends javax.swing.JFrame {
    Maze m;
    /**
     * Creates new form MazeFrame
     */
    public MazeFrame(Maze m) {
        this.m = m;
        setSize(new Dimension(800, 600));
        JPanel pan = new JPanel();
        add(pan);
        setVisible(true);
        // pan.setBackground(Color.yellow);
        pan.setLayout(new GridLayout(m.width, m.height));

        for (int curr = 0; curr < m.height; curr++){
            for (Cell c: m.maze[curr]){
                JLabel lab = new JLabel();
                switch (c.state){
                    case border:
                        lab.setBackground(Color.black);
                        System.out.println("addedborder");
                        break;
                    case wall:
                        lab.setBackground(Color.DARK_GRAY);
                        System.out.println("addedwall");
                        break;
                    case open: 
                        lab.setBackground(Color.LIGHT_GRAY);
                        System.out.println("addedopen");
                        break;
                    case travelled: 
                        lab.setBackground(Color.RED);             
                }
                lab.setSize(new Dimension(50, 50));
                lab.setVisible(true);               
                pan.add(lab);
                //   System.out.println("added");
            }
        }
        pan.revalidate();
        pan.repaint();
    }
} 
```

这是迷宫类：

```
package robots;

import java.util.Random;

public class Maze {
    public Cell[][] maze;
    final int width;
    final int height;  

    public Maze(){
        width = 20;
        height = 20;
        maze = new Cell[width][height];
        for (int row = 0; row < height; row++){
            for (int col = 0; col < width; col++){
                maze[row][col] = new Cell(row, col);
            }
        }

        // set borders
        for (int curr = 0; curr < height; curr++) {
            maze[0][curr].setState("border");
            maze[curr][0].setState("border");
            maze[height - 1][curr].setState("border");
            maze[curr][width - 1].setState("border");
        }

        // initially mark all cells as walls
        for (int row = 1; row < height - 1; row++) {
            for (int col = 1; col < width - 1; col++) {
                maze[row][col].setState("wall");
            }
        }

    }

    private boolean isValidTurn(int row, int col) {
        if (row >= 0 && col < width && col > 0 && 
                    row < 20 && (!this.maze[row][col].getState().matches("open"))) {
            return true;
        }
        return false;
    }

    public void makeRoute() {
        Random r = new Random();
        int row = 0;
        int col = r.nextInt(width);
        maze[row][col].setState("open");
        row = row+1;
        maze[row][col].setState("open");

        // System.out.println(this);
        while (row < (this.height - 1)) {
            // Assuming the mouse moves in only 3 directions left right or down
            // in the maze. 0 indicates left turn 1 indicates right turn and
            // 2 indicates down movement in the maze.
            int nextDir = r.nextInt(3);
            switch (nextDir) {
                case 0: // left turn
                    if (this.isValidTurn(row, (col - 1))) {
                        --col;
                        this.maze[row][col].setState("open");
                    }
                    break;
                case 1: // right turn
                    if (this.isValidTurn(row, (col + 1))) {
                        ++col;
                        this.maze[row][col].setState("open");
                    }
                    break;
                case 2: // down movement
                    ++row;
                    this.maze[row][col].setState("open");
                    break;
            }
            System.out.println("turn : " + nextDir);
            // System.out.println(this);
        }
        System.out.println(this);
    }
}

class Cell {
    int row;
    int col;
    int above, below, toLeft, toRight;
    enum state {border, wall, open, travelled};
    state state;

    public Cell(int row, int col){
        this.row = row;
        this.col = col;
        above = row + 1;
        below = row -1;
        toLeft = col -1;
        toRight = col +1;
    }

    @Override
    public String toString(){
        String out = new String();
        if (state == state.border) {
            out = "0";
        }
        if (state == state.wall) {
            out = "#";
        }
        if (state == state.open) {
            out = ".";
        }
        if (state == state.open) {
            out = "-";
        }     
        return out;
    }

    public void setState(String toSet){
        switch (toSet){
            case "border":
                state = state.border;
                break;
            case "wall": 
                state = state.wall;
                break;
            case "open": 
                state = state.open;
                break;
            case "travelled": 
                state = state.travelled;
                break;
        }
    }

    public String getState() {
        return state.toString();
    }
} 
```

但是，正如我所说，我知道迷宫类工作正常，因为它在我运行时完美地输出到控制台。此外，MazeFrame 类中的 println 语句显示每个单元格都在注册其各自的状态。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-09T08:09:00.930

我能够得到一些工作（至于它是否正确是另一回事）

![在此处输入图像描述](../Images/9f556adfd85eb1aaab786d51eddd4488.png)

基本上我所做的一切（除了移动`setVisible`到构造函数的末尾）就是使`lab`不透明......

```
public TestMaze(Maze m) {
    this.m = m;
    setSize(new Dimension(800, 600));
    JPanel pan = new JPanel();
    add(pan);
    pan.setLayout(new GridLayout(m.width, m.height));

    for (int curr = 0; curr < m.height; curr++) {
        for (Cell c : m.maze[curr]) {
            JLabel lab = new JLabel();
            lab.setOpaque(true); // <-- Add me...
            switch (c.state) {
                case border:
                    lab.setBackground(Color.black);
                    break;
                case wall:
                    lab.setBackground(Color.DARK_GRAY);
                    break;
                case open:
                    lab.setBackground(Color.LIGHT_GRAY);
                    break;
                case travelled:
                    lab.setBackground(Color.RED);
            }
            lab.setSize(new Dimension(50, 50));
            lab.setVisible(true);
            pan.add(lab);
            //   System.out.println("added");
        }
    }
    setVisible(true);
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-09T07:32:19.713

据我所知，当您将组件添加到任何可见容器时，您应该调用 revalidate/repaint，这样您就可以将 setVisible 和添加面板移动到最后一个语句的框架：

```
// update panel
pan.revalidate();
pan.repaint();

// adding panel to frame
this.add(pan);
this.pack();
this.setVisible(true); 
```

您不需要调用 JLabel.setVisible(true) 的另一件事，因为它是默认设置，也可以更改您需要添加的 JLabel 的背景（因为默认情况下它是透明的）：

```
lab.setOpaque(true); 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-02-09T16:22:34.717

查看代码中的注释：

```
public class MazeFrame extends javax.swing.JFrame {
    Maze m;
    /**
     * Creates new form MazeFrame
     */
    public MazeFrame(Maze m) {
        this.m = m;
//  Don't manually set the size of a frame. Let the preferred size of you components determine the size. 
// This is done by invoking pack() after all components have been added to the frame.
//        setSize(new Dimension(800, 600)); 
        JPanel pan = new JPanel();
        add(pan);
//        setVisible(true); // do after all components added.
        // pan.setBackground(Color.yellow);
        pan.setLayout(new GridLayout(m.width, m.height));

        for (int curr = 0; curr < m.height; curr++){
            for (Cell c: m.maze[curr]){
                JLabel lab = new JLabel();
                lab.setOpaque(true); // as suggested by MadProgrammer
                switch (c.state){
                    case border:
                        lab.setBackground(Color.black);
                        System.out.println("addedborder");
                        break;
                    case wall:
                        lab.setBackground(Color.DARK_GRAY);
                        System.out.println("addedwall");
                        break;
                    case open: 
                        lab.setBackground(Color.LIGHT_GRAY);
                        System.out.println("addedopen");
                        break;
                    case travelled: 
                        lab.setBackground(Color.RED);             
                }
// Set the preferred size so layout managers can do there job
//                lab.setSize(new Dimension(50, 50));
                lab.setPreferredSize(new Dimension(50, 50));
// Not required. This is the default for all components except top level containers like JFrame, JDialog
//                lab.setVisible(true);               
                pan.add(lab);
                //   System.out.println("added");
            }
        }
//  No neeed to revalidate or repaint because the frame is not visible yet
//        pan.revalidate();
//        pan.repaint();
        pack(); // let the layout manager determine the size of the frame
        setVisible(); // show the frame
    }
} 
```

注意：通常您甚至不需要设置组件的首选大小，因为每个组件都有一个首选大小。但是在这种情况下，您没有向标签添加文本或图标，因此它不会有首选大小。

# android - 如何使用警报管理器区分上午和下午的警报？

> ID：14785695
> 
> 赞同：3
> 
> 时间：2013-02-09T06:47:56.977
> 
> 标签：android

我正在为约会提醒创建警报警报，因为我正在使用以下代码。代码运行良好，它向我显示警报警报，但唯一的问题是，它不能区分上午和下午之间的警报，假设我将警报设置为**上午 7 点**和目前**晚上 7 点**在设备中，然后我的警报对话框也会显示。我该如何管理上午和下午？我将此链接用于参考

[http://wptrafficanalyzer.in/blog/setting-up-alarm-using-alarmmanager-and-waking-up-screen-and-unlocking-keypad-on-alarm-goes-off-in-android/](http://wptrafficanalyzer.in/blog/setting-up-alarm-using-alarmmanager-and-waking-up-screen-and-unlocking-keypad-on-alarm-goes-off-in-android/)

AlertDemo.class

```
 import android.app.AlertDialog;
 import android.app.Dialog;
 import android.content.DialogInterface;
 import android.content.DialogInterface.OnClickListener;
 import android.os.Bundle;
 import android.support.v4.app.DialogFragment;
 import android.view.WindowManager.LayoutParams;

public class AlertDemo extends DialogFragment {

@Override
public Dialog onCreateDialog(Bundle savedInstanceState) {

    /** Turn Screen On and Unlock the keypad when this alert dialog is     displayed */
    getActivity().getWindow().addFlags(LayoutParams.FLAG_TURN_SCREEN_ON |   LayoutParams.FLAG_DISMISS_KEYGUARD);

    /** Creating a alert dialog builder */
    AlertDialog.Builder builder = new AlertDialog.Builder(getActivity());

    /** Setting title for the alert dialog */
    builder.setTitle("Alarm");

    /** Setting the content for the alert dialog */
    builder.setMessage("An Alarm by AlarmManager");

    /** Defining an OK button event listener */
    builder.setPositiveButton("OK", new OnClickListener() {
        @Override
        public void onClick(DialogInterface dialog, int which) {
            /** Exit application on click OK */
            getActivity().finish();
        }                       
    });

    /** Creating the alert dialog window */
    return builder.create();
 }

 /** The application should be exit, if the user presses the back button */ 
 @Override
 public void onDestroy() {      
    super.onDestroy();
    getActivity().finish();
 } 
```

}

约会.class

```
 import java.text.DateFormatSymbols;
  import java.text.SimpleDateFormat;
  import java.util.Calendar;
  import java.util.GregorianCalendar;

  import android.app.Activity;
  import android.app.AlarmManager;
  import android.app.DatePickerDialog;
  import android.app.Dialog;
  import android.app.Notification;
  import android.app.NotificationManager;
  import android.app.PendingIntent;
  import android.app.TimePickerDialog;
  import android.app.TimePickerDialog.OnTimeSetListener;
  import android.content.Intent;
  import android.os.Bundle;
  import android.util.Log;
  import android.view.Menu;
  import android.view.View;
  import android.view.View.OnClickListener;
  import android.widget.Button;
  import android.widget.DatePicker;
  import android.widget.TimePicker;
  import android.widget.Toast;

 public class Appointment extends Activity {

Button date, time, save;

private static final int DIALOG_DATE = 1;
private static final int DIALOG_TIME = 2;
private int year;
private int month;
private int day;
int i;
String strmonth, strday, stryear;

String months[] = { "January", "February", "March", "April", "May", "June",
        "July", "August", "September", "October", "November", "December" };

int intmonth, intday, intyear, inthour, intminutes;
Calendar c = Calendar.getInstance();
private SimpleDateFormat timeFormatter;

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.doctor_appointment);

    year = c.get(Calendar.YEAR);
    month = c.get(Calendar.MONTH);
    day = c.get(Calendar.DAY_OF_MONTH);

    date = (Button) findViewById(R.id.btnsetdate);
    time = (Button) findViewById(R.id.btnsettime);
    save = (Button) findViewById(R.id.btnsave);
    timeFormatter = new SimpleDateFormat("hh:mm a");
    // c.set(Calendar.MONTH, 4);

    date.setOnClickListener(new OnClickListener() {

        @Override
        public void onClick(View v) {
            // TODO Auto-generated method stub
            showDialog(DIALOG_DATE);
        }
    });
    time.setOnClickListener(new OnClickListener() {

        @Override
        public void onClick(View v) {
            // TODO Auto-generated method stub
            showDialog(DIALOG_TIME);
        }
    });

    save.setOnClickListener(new OnClickListener() {

        @Override
        public void onClick(View v) {
            Intent i = new Intent("com.example.healthmanager.DemoActivity");
            /** Creating a Pending Intent */
            PendingIntent operation = PendingIntent.getActivity(
                    getBaseContext(), 0, i, Intent.FLAG_ACTIVITY_NEW_TASK);

            /** Getting a reference to the System Service ALARM_SERVICE */
            AlarmManager alarmManager = (AlarmManager) getBaseContext()
                    .getSystemService(ALARM_SERVICE);

            String strtime = time.getText().toString();

            Log.v("str btntime", strtime);

            String[] splitstrtime = strtime.split(":");

            Log.v("timestr1", splitstrtime[0]);
            Log.v("timestr2", splitstrtime[1]);

            int splithour = Integer.parseInt(splitstrtime[0]);
            String[] splitsecond = splitstrtime[1].split(" ");

            Log.v("split str second", splitsecond[0]);
            int splitmin = Integer.parseInt(splitsecond[0]);

            /**
             * Creating a calendar object corresponding to the date and time
             * set by the user
             */
            // GregorianCalendar calendar = new
            // GregorianCalendar(year,month,day, hour, minute);
            GregorianCalendar calendar = new GregorianCalendar(intyear,
                    intmonth, intday, splithour, splitmin);

            /**
             * Converting the date and time in to milliseconds elapsed since
             * epoch
             */
            long alarm_time = calendar.getTimeInMillis();

            /** Setting an alarm, which invokes the operation at alart_time */
            alarmManager
                    .set(AlarmManager.RTC_WAKEUP, alarm_time, operation);

            /** Alert is set successfully */
            Toast.makeText(getBaseContext(), "Alarm is set successfully",
                    Toast.LENGTH_SHORT).show();

        }
    });

}

// For date dialog
@Override
protected Dialog onCreateDialog(int id) {
    switch (id) {
    case DIALOG_DATE:
        return new DatePickerDialog(this, datePickerListener, year, month,
                day);
    case DIALOG_TIME:
        return new TimePickerDialog(this, new OnTimeSetListener() {

            @Override
            public void onTimeSet(TimePicker view, int hourOfDay, int minute) {
                c.set(Calendar.HOUR_OF_DAY, hourOfDay);
                c.set(Calendar.MINUTE, minute);
                time.setText(timeFormatter.format(c.getTime()));

            }
        }, c.get(Calendar.HOUR_OF_DAY), c.get(Calendar.MINUTE), false);
    }

    return null;
}

// For date
private DatePickerDialog.OnDateSetListener datePickerListener = new DatePickerDialog.OnDateSetListener() {
    public void onDateSet(DatePicker view, int year1, int monthOfYear,
            int dayOfMonth) {
        year = year1;
        month = monthOfYear;
        day = dayOfMonth;
        // date.setText(dateFormatter.format(dateTime.getTime()));
        updateDisplay();
    }
};

public String getMonthForInt(int m) {
    String month = "invalid";
    DateFormatSymbols dfs = new DateFormatSymbols();
    String[] months = dfs.getMonths();
    if (m >= 0 && m <= 11) {
        month = months[m];
    }
    return month;
}

private void updateDisplay() {
    // String strDOB = month + 1 + "/" + day + "/" + year;
    // Log.v("strDOB : ", strDOB);

    intmonth = month;
    intday = day;
    intyear = year;

    strmonth = Integer.toString(intmonth);
    strday = Integer.toString(intday);
    stryear = Integer.toString(intyear);
    Log.v("month value", strmonth);
    Log.v("day value", strday);
    Log.v("year value", stryear);
    // int one=7;
    // Log.v("string limit",one.length());
    for (i = 0; i < intmonth; i++) {
        String strone = Integer.toString(intmonth);
        strone = months[i];
        // String intmonth=Integer.toString(months);
    }
    Log.v("month value", months[i].toString());
    date.setText(months[i] + "  " + day + "," + year);
}

 } 
```

DemoActivity.class

```
public class DemoActivity extends FragmentActivity {
@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);

    /** Creating an Alert Dialog Window */
    AlertDemo alert = new AlertDemo();

    /** Opening the Alert Dialog Window */
    alert.show(getSupportFragmentManager(), "AlertDemo");
}
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-11T10:56:05.787

您没有处理 AM/PM。只需输入这些代码行...

```
int timeDifference=0; 
String ampm=splitampmtime[1]; 
if(ampm.matches("PM")){ 
timeDifference=12; 
} 

int splithour = timeDifference+Integer.parseInt(splitstrtime[0]); 
String[] splitsecond = splitstrtime[1].split(" "); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-09T09:09:33.160

好吧，您可以在您的中添加 AM 和 PM 的检查，`save.setOnClickListener()`并相应地更改小时的值：

```
save.setOnClickListener(new OnClickListener() {
    @Override
    public void onClick(View v) {
        .....

        int splithour = Integer.parseInt(splitstrtime[0]); //10
        String[] splitsecond = splitstrtime[1].split(" "); //40, am

        Log.v("split str second", splitsecond[0]);
        int splitmin = Integer.parseInt(splitsecond[0]); //40

        if(splitsecond[1].equalsIgnoreCase("pm")) {
            splithour += 12;
        } else if(splitsecond[1].equalsIgnoreCase("am") && splithour == 12) {
            splithour = 0;
        }

        ....
    }
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-11T06:03:15.833

请用：-

```
alarmManager.set(AlarmManager.ELAPSED_REALTIME_WAKEUP,
                                SystemClock.elapsedRealtime() + alarm_time,
                                operation); 
```

代替

```
alarmManager.set(AlarmManager.RTC_WAKEUP, alarm_time, operation); 
```

读：-

```
SystemClock.elapsedRealtime() is the current time in millis add the total time to skip from now to alarm in millis. 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-07-03T05:40:59.073

我曾经使用这种方法设置警报：

```
 /**
     * Set the Alarm
     *
     * @param context  the activity context
     * @param id       the alarm ID for this app
     * @param hour     the alarm hour
     * @param minute   the alarm minute
     * @param timeZone the timezone am = Calendar.AM or pm = Calendar.PM
     */
    public static void setAlarm(Context context, int id, int hour, int minute, int timeZone) {
        AlarmManager alarm = (AlarmManager) context.getSystemService(Context.ALARM_SERVICE);

        Calendar calendar = Calendar.getInstance();
        calendar.setTimeInMillis(System.currentTimeMillis());
        calendar.set(Calendar.HOUR, hour);
        calendar.set(Calendar.MINUTE, minute);
        calendar.set(Calendar.AM_PM, timeZone);

        Intent intent = new Intent(context, PopupActivity.class);
        PendingIntent pIntent = PendingIntent.getActivity(context, id, intent, 0);
        alarm.setInexactRepeating(AlarmManager.RTC_WAKEUP, calendar.getTimeInMillis(), 1000 * 60 * 10, pIntent);
    } 
```

# actionscript-3 - AS3 - 被另一个物体击中后移除物体

> ID：14785698
> 
> 赞同：0
> 
> 时间：2013-02-09T06:48:32.620
> 
> 标签：actionscript-3, flash-cs4

我正在创建一个简单的游戏，当物体撞到硬币时，分数会增加，硬币会消失......

我有这个代码，food1是被击中后会消失的那个，scoreOutput是动态文本的实例名称。

```
if(player.hitTestObject(food1)){
    removeChild(food1);
    score += 10;
    scoreOutput.text = String(score);
} 
```

我收到了这个错误

```
ArgumentError: Error #2025: The supplied DisplayObject must be a child of the caller.
at flash.display::DisplayObjectContainer/removeChild()
at game_fla::MainTimeline/moveObject() 
```

也许是因为我使用了删除子，但我真的不知道如何从舞台上删除该对象，因为我不熟悉动作脚本......

关于我该怎么做的任何建议？提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-09T07:11:46.293

我想，你如果阻止多个呼叫。任何原因。

因此，更改此代码。

```
if(player.hitTestObject(food1))
{
    if(stage.contains(food1))
        removeChild(food1);

    score += 10;
    scoreOutput.text = String(score);
} 
```

并查看完整的代码。

# android - 场景坐标在设备右上角未显示 0,0

> ID：14785700
> 
> 赞同：0
> 
> 时间：2013-02-09T06:48:51.590
> 
> 标签：android, andengine

我正在用 AndEngine 开发我的第一款游戏。我想获得场景（精灵）上滑块的确切坐标，以便我的播放器移动。

问题是，当我在设备上测试我的游戏时，我在左上角得到 (6,6) 坐标，而在模拟器上我在左上角看到 (0,0)。为什么我的设备会出现这种偏移？

因此，此偏移量会影响我所有的精灵位置。

急需答复

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T18:55:44.673

我相当肯定某些设备会遮盖挡板下方的某些屏幕，这就是为什么您在设备的左上角看到非 0 场景坐标的原因。我在我的设备上体验过同样的效果。另一种方法是将您的解决策略更改为固定比率的解决策略。这样你就可以在屏幕边缘创建一个缓冲区来解决错误。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-19T09:52:39.430

在andengine GLES 2.0中，坐标0,0位于左下角而不是上角

# c# - 在 Windows 8 Metro 风格应用程序中放置链接

> ID：14785701
> 
> 赞同：0
> 
> 时间：2013-02-09T06:48:59.390
> 
> 标签：c#, xaml, windows-store-apps

如何将我的网址 www.facebook.com 链接到我的超链接按钮。它应该加载到我的应用页面中。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-09T06:52:39.937

Process.Start("[http://facebook.com](http://facebook.com)"); that will load the default browser at facebook.com is this what you require ?

how about the launcher class ? You can use the Launcher class to launch a document in the default handler, i.e load a website with the default browser, from what i understand you cant just create a process.

```
async void DefaultLaunch()
{
   // Path to the file in the app package to launch
   string imageFile = @"images\test.png";

   var file = wait Windows.ApplicationModel.Package.Current.InstalledLocation.GetFileAsync(imageFile);

   if (file != null)
   {
      // Launch the retrieved file
      var success = await Windows.System.Launcher.LaunchFileAsync(file);

      if (success)
      {
         // File launched
      }
      else
      {
         // File launch failed
      }
   }
   else
   {
      // Could not find file
   }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-09T07:52:58.813

`WebView`您只能在控件内加载网页。首先将其放在页面上的某个位置：

```
<WebView x:Name="MyWebView" /> 
```

在您`Hyperlink`将页面加载到此的 click 事件处理程序中`WebView`：

```
private void Hyperlink_OnClick(object sender, RoutedEventArgs e)
{
    MyWebView.Navigate(new Uri("http://www.facebook.com"));
} 
```

# jsf-2 - 数据表的jsf验证

> ID：14785704
> 
> 赞同：1
> 
> 时间：2013-02-09T06:49:41.117
> 
> 标签：jsf-2, datatable

仅当用户未在给定的 p:inputText 字段中输入任何值时，我才想验证以下数据表

```
<p:dataTable id="depositDataTable" value="#{pc_intimationDeposit.pendingRep.depositeBeans}" var="deposit">
    <p:column style="text-align:right">
        <h:outputText value="#{deposit.depParticulars}" />
    </p:column>
   <p:column id="value">
        <h:inputText id="depositDetails" class="right_input" value="#{deposit.amnt}" tabindex="2"                                       converterMessage="Please Enter Numbner's Only" validatorMessage="please"> 
           <f:convertNumber  pattern="##,####,##0.00" for="depositDetails" type="currency" />
        </h:inputText>
<p:message id="errMsgDepositDetails" for="depositDetails" display="text"></p:message>   
    </p:column>
</p:dataTable> 
```

pc_intimationDeposit.pendingRep.depositeBeans----> 是 depositBeans 的列表（大小 3）

我使用 f:convertNumber 输入的值符合我们的要求

但是如果用户没有输入一个单一的值，那么我需要验证空检查，即用户必须输入任何一个字段

我需要在使用的数据表顶部显示错误消息

请帮助我提前谢谢你

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-09T11:32:58.513

*   如果您想填充每个 depositDetail[输入](http://www.jsftoolbox.com/documentation/help/12-TagReference/html/h_inputText.html)，请用 标记它们`required=true`。
*   如果您只想填充其中一个，请在您的操作方法上迭代您的模型以确保至少有一个不为空（**此处不应有空值**）：

    ```
    boolean filled = false;
    for (DepositeBean dep : depositeBeans){
    if (!dep.getAmnt.equals("")){
        filled = true;
    }
    }
    if (!filled){
       FacesContext.getCurrentInstance().addMessage(null, 
         new FacesMessage(FacesMessage.SEVERITY_ERROR, "You have to fill at least one deposit detail field", null));
    } 
    ```

要显示消息，请添加[`h:message`](http://www.jsftoolbox.com/documentation/help/12-TagReference/html/h_message.html)标签并将其指向您的表格：

`<h:message for="depositDataTable" style="color:red" />`

# javascript - 剑道 UI 股票图表导航器坏了

> ID：14785708
> 
> 赞同：5
> 
> 时间：2013-02-09T06:50:04.240
> 
> 标签：javascript, css, html, kendo-ui

不久前，我制作了一张剑道股票图表，效果很好。然后我的同事检查并打磨了前端的所有样式，我认为这可能就是为什么我的股票图表导航器显示如下的原因： ![](../Images/394355a9171c35f50084fee3bb62a46c.png) 我在我们称之为 .kendoStockChart 的 div 上的样式是：

```
color: #2E2E2E;
display: block;
font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
font-size: 12px;
height: 513.328125px;
line-height: normal;
position: relative;
width: 805.640625px; 
```

我真的希望我遗漏了一些明显的东西，感谢任何提示或尝试答案！

**编辑：**很抱歉所有一直试图帮助我的人，自从我打开它以来已经离开办公室了几个星期，当我很快回去时会告诉你它是否得到修复。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-23T20:42:55.613

这看起来可能是缺少 css 文件的问题。你确定你已经正确地包含了所有的剑道文件吗？

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-10T06:39:48.310

检查`<a>`标签上的 CSS 样式，我认为这可能会干扰您的导航器选择器。

您可能只想对 CSS 样式表进行“二进制”搜索：注释掉一半，看看它是否能解决问题。如果没有，请尝试另一半。如果其中任何一个解决了问题，则尝试注释掉该部分的每一半，依此类推，直到找到您的违规样式。（假设 CSS 是这里的问题）

# python - 如何更改变量在函数中指向的位置？

> ID：14785711
> 
> 赞同：1
> 
> 时间：2013-02-09T06:50:25.140
> 
> 标签：python

我有一个 python 函数，它接受一个对象并修改它或替换它。

```
def maybe_replace_corgi(corgi):
  # If corgi is cute enough, modify it to keep it.
  if corgi.cuteness > threshold:
    corgi.will_keep = True
  else:
    # Corgi not cute enough! Instantiate new corgi.
    corgi = Corgi(name="Woofus") 
```

我知道对象是通过引用传递给 python 函数的。但是，如果我想完全替换函数中的对象怎么办？正如我想在我的 else 声明中做的那样？如何在我的程序中使所有对 corgi 对象的引用都指向这个新的 corgi 对象？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-09T09:15:27.157

标准方法是退回新柯基或旧柯基：

```
def maybe_replace_corgi(corgi):
    if corgi.cuteness > threshold:
        corgi.will_keep = True
        return corgi
    else:
        return Corgi(name="Woofus")

my_corgi = Corgi(name="Rudolf")
my_corgi = maybe_replace_corgi(my_corgi) 
```

正如其他人所提到的，这样做的缺点是：它不会替换所有引用，它只会替换`my_corgi`. 但是，*不可能替换所有引用*。

* * *

无需替换对对象的所有引用，您只需编辑对象以使其看起来像一个新对象。只需替换它的所有属性值。为此，您可以在`Corgi`类中创建一个新方法，该方法会重置所有属性。

在大多数情况下，您不需要*新*方法，您已经有了一个：如果您的`__init__`方法没有做任何太花哨的事情（例如增加`Corgi.count`变量等），则可以再次调用它来重新初始化对象的所有属性。

```
def maybe_replace_corgi(corgi):
    if corgi.cuteness > treshold:
        corgi.will_keep = true
    else:
        corgi.__init__(name="Woofus") 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-09T06:53:04.780

你不能。您唯一能做的就是改变该对象，使其具有您想要的新值（就像您在`if`语句的第一部分中所做的那样），或者返回它，或者将它存储在其他代码会在需要时查找它的地方价值。

例如，如果您在课堂上工作，并且始终将柯基犬设置/访问为`self.corgi`，那么 doing`self.corgi = Corgi(name="Woofus")`将起作用，因为后续读取的`self.corgi`将读取新值。`corgi = maybe_replace_corgi(corgi)`通过让调用者执行并`maybe_replace_corgi`返回旧的柯基犬或新的柯基犬，可以实现类似的效果。

通常，您不能执行“更改程序中所有位置的所有引用”之类的操作。如果您明智地不创建对同一对象的大量引用，而是仅在特定上下文中创建有限数量的引用，那么在时机成熟时更改*这些*引用将毫无问题。

# c# - 反序列化 XML 文件

> ID：14785714
> 
> 赞同：2
> 
> 时间：2013-02-09T06:51:06.113
> 
> 标签：c#, xml, deserialization

我是这样开始的：

```
System.Xml.Serialization.XmlRootAttribute xRoot = new System.Xml.Serialization.XmlRootAttribute();
xRoot.IsNullable = true;
xRoot.Namespace = "urn:schemas-microsoft-com:rowset";
System.Xml.Serialization.XmlSerializer serializer = new System.Xml.Serialization.XmlSerializer(typeof(ProductSalesList), xRoot);
System.Xml.XmlReader reader = new System.Xml.XmlTextReader(path + "\\" + file);
eltOnly e = (eltOnly)serializer.Deserialize(reader); 
```

但我不知道如何继续。这是xml文件：

```
<xml xmlns:s='uuid:00000000-6DA3-11d1-A2A3-00AA00C14882'
xmlns:dt='uuid:C2F41010-0000-11d1-A29F-00AA00C14882'
xmlns:rs='urn:schemas-microsoft-com:rowset'
xmlns:z='#RowsetSchema'>
<s:Schema id='RowsetSchema'>
<s:ElementType name='row' content='eltOnly'>
    <s:AttributeType name='Art' rs:number='1' rs:nullable='true' rs:maydefer='true' rs:writeunknown='true'>
        <s:datatype dt:type='string' dt:maxLength='255'/>
    </s:AttributeType>
    <s:AttributeType name='Name' rs:number='2' rs:nullable='true' rs:maydefer='true' rs:writeunknown='true'>
        <s:datatype dt:type='string' dt:maxLength='255'/>
    </s:AttributeType>
    <s:AttributeType name='Sum' rs:number='3' rs:nullable='true' rs:maydefer='true' rs:writeunknown='true'>
        <s:datatype dt:type='float' dt:maxLength='8' rs:precision='15' rs:fixedlength='true'/>
    </s:AttributeType>
    <s:AttributeType name='Cost' rs:number='4' rs:nullable='true' rs:maydefer='true' rs:writeunknown='true'>
        <s:datatype dt:type='float' dt:maxLength='8' rs:precision='15' rs:fixedlength='true'/>
    </s:AttributeType>
    <s:extends type='rs:rowbase'/>
    </s:ElementType>
</s:Schema>
<rs:data>
    <z:row Art='0000000001' Name='Brand pils 0,2' Sum='153' Cost='304'/>
    <z:row Art='0000000002' Name='Brand pils 0,25' Sum='11' Cost='25.300000000000004'/>
    <z:row Art='0000000003' Name='Brand pils 0,5' Sum='3' Cost='13.799999999999999'/>
</rs:data>
</xml> 
```

如何继续？我应该如何调用具有反序列化属性的类？

这是我所做的：

```
[Serializable()]
public class Elt
{
    [System.Xml.Serialization.XmlElement]
    public string Art { get; set; }
    [System.Xml.Serialization.XmlElement]
    public string Name { get; set; }
    [System.Xml.Serialization.XmlElement]
    public float? Sum { get; set; }
    [System.Xml.Serialization.XmlElement]
    public float? Cost { get; set; }
}

[Serializable, System.Xml.Serialization.XmlRoot("eltOnly")]
public class eltOnly
{
    [System.Xml.Serialization.XmlElement]
    public List<Elt> Elt { get; set; }
} 
```

我得到错误：XML 文档 (1, 2) 中存在错误。“没想到。”

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-09T08:32:49.777

这`linq2xml`应该做你想要的......

```
XDocument doc=XDocument.Load(yourXml);
XNamespace rs="urn:schemas-microsoft-com:rowset";
XNamespace z="#RowsetSchema";
var lstRows=doc.Descendants(rs+"data").Elements(z+"row").Select(x=>
    new
    {
         art=x.Attribute("Art").Value,
         name=x.Attribute("Name").Value,
         sum=(float?)x.Attribute("Sum"),
         cost=(float?)x.Attribute("Cost")
    }
   ); 
```

* * *

您现在可以迭代 lstRows

```
foreach(var row in lstRows)
{
    row.art;//string
    row.name;//string
    row.sum;//float?
    row.cost;//float?
} 
```

# javascript - Web App中进度条的解决方案

> ID：14785717
> 
> 赞同：0
> 
> 时间：2013-02-09T06:51:31.323
> 
> 标签：javascript, jquery, html, css

我有一个使用 html/css/js 制作的简单待办事项列表应用程序。您输入一个任务，添加它，然后它显示在 li 元素中的页面上的任务。如果我选择一个任务，它会突出显示，我会被带到另一个页面。此页面上只有一个“完成”按钮。按下此按钮后，我会看到一个弹出窗口，询问我当前正在处理的任务完成了多少，范围从 1 到 10，我可以使用滑块进行选择。10 代表 100% 的任务完成。这是我需要帮助的地方。我想要一个进度条来表示我使用滑块选择的数字，仅用于我在上一页中选择的特定任务。因此，如果我有 10 个任务，我选择一个，当我使用滑块选择从 1 到 10 的范围内完成了多少任务时，我选择的特定任务将显示一个进度条，表示我使用滑块选择的内容，而其他任务也显示相同。我在想也许当我添加一个任务时，一个新生成的类可以附加到那个特定的 li 元素上？这就是滑块如何只能应用代表我为该特定任务选择的数字的进度？对不起，如果我没有意义。我累了。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-09T06:56:09.233

[http://t.wits.sg/misc/jQueryProgressBar/demo.php](http://t.wits.sg/misc/jQueryProgressBar/demo.php) 嗨试试这个应该可以解决问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-01-16T06:50:02.437

使用 Html5 标签 Progress Tag [http://www.w3schools.com/tags/tag_progress.asp](http://www.w3schools.com/tags/tag_progress.asp) 示例

```
<progress value="22" max="100">
</progress> 
```

# android - 哪个 xml 文件用于哪个 android 活动？

> ID：14785718
> 
> 赞同：0
> 
> 时间：2013-02-09T06:51:33.170
> 
> 标签：android

我有一个 android 应用程序。我正在尝试制作一个返回活动名称和相应 XML 文件的函数。
（XML 由 设置`setContentView(R.layout.abc)`）。假设我在应用程序中有 5 个活动和 5 个 XML 文件，如何找出哪个活动正在使用哪个 XML 文件？有没有办法在不进入活动代码的情况下找出“XML 名称”对应的“活动”。我想要这样的输出，

1.  Main_Activity 有 activity_main.XML

2.  `abc_Activity`有`xyz.XML`

3.  `pqr_Activity`有`efg.XML`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-09T07:15:44.480

你的问题有两点：-

1.  获取**所有活动的列表**，可以按如下方式完成：-

    ```
    private void getActivityList() throws NameNotFoundException {
            Intent i = new Intent(Intent.ACTION_MAIN);
            i.addCategory(Intent.CATEGORY_LAUNCHER);
            PackageManager pm = this.getPackageManager();
            PackageInfo info = pm.getPackageInfo("com.packagename",
                            PackageManager.GET_ACTIVITIES);
            ApplicationInfo test = info.applicationInfo;
            ActivityInfo[] list = info.activities;
    } 
    ```

2.  获取与它们关联的**XML（布局）**。我认为这是不可能的。

# android - 我收到错误“没有属性的源标识符”

> ID：14785719
> 
> 赞同：0
> 
> 时间：2013-02-09T06:51:54.070
> 
> 标签：android, android-layout

```
No source identifier for the attribute "validatorRegexp" 
```

我最近开始研究 android 应用程序，我想在我的应用程序中访问库（这是一个项目），但上面的错误显示

```
 <ScrollView
                    xmlns:android="http://schemas.android.com/apk/res/android"
                    xmlns:wiget="http://schemas.android.com/apk/res/com.extend.example"
                    android:id="@+id/scroll" android:layout_width="fill_parent"
                    android:layout_height="wrap_content">

                  <com.extend.wiget.ExtEditText
                            wiget:validate="regexp|numeric|alpha|alphaNumeric|email|creditCard|phone|domainName|ipAddress|webUrl"
                            wiget:validatorRegexp="regexp|empty"
                            wiget:errorString="Custom error message!"
                            wiget:emptyErrorString="Custom empty error message!"
                            wiget:auto="true"
                            android:id="@+id/extEditText11"
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:hint="Custom validations"
                            android:text="">
                        </com.extend.wiget.ExtEditText>

                </ScrollView>

                Please help me out on this and sorry for the bad english 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-09T06:56:05.413

Is it your incorrect spelling of the word `widget` throughout your XML? If you don't get the right namespace and use elements from this incorrect namespace, you will get errors.

Also, it's hard to help without know what library you're using/extending.

# assembly - 将存储在 FAT 表（FAT12 文件系统）中的簇号转换为从软盘读取

> ID：14785723
> 
> 赞同：2
> 
> 时间：2013-02-09T06:52:27.393
> 
> 标签：assembly, filesystems, bootloader, fat

我正在为 FAT12 文件系统编写一个两阶段引导加载程序。引导加载程序的 stage1 从 FAT12 文件系统中的软盘加载 stage2。现在我在将簇号（我从 FAT 表中获得）转换为包含磁道、磁头和扇区号的格式时遇到问题。我正在按照教程[http://www.brokenthorn.com/Resources/OSDev6.html](http://www.brokenthorn.com/Resources/OSDev6.html)制作引导加载程序。

我的困惑是，在教程中，从 FAT 获得的簇号首先转换为 LBA（线性块地址）格式，然后转换为 CHS（气缸盖扇区）格式，然后再将扇区读入内存。

为什么不能直接将Cluster Number转换成CHS格式？？FAT表不是线性存储簇号吗？我想确切地知道我在这里缺少什么？

[教程中使用的引导加载程序的源代码链接位于链接http://www.brokenthorn.com/Resources/OSDev6.html](http://www.brokenthorn.com/Resources/OSDev6.html)的页面末尾。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-09T16:29:52.890

簇编号是线性的，但 - 如前所述 - 与数据区域相关，簇 2 是数据区域的第一个簇。然而，从磁盘读取的数据是根据*磁盘扇区*进行的，每个 FAT 簇可能包含多个扇区——这就是转换为 LBA 的目的——从簇号转换为扇区号（因此，从所需簇数 - 考虑簇 2 是数据区的第一个簇，然后乘以每个簇的磁盘扇区数，然后在数据区之前加上正在使用的磁盘扇区数，得出绝对值存储我们数据的磁盘扇区。

较旧的 BIOS int 0x13 函数并没有从磁盘中读取绝对扇区 - 它们通过特定磁头在特定柱面上读取特定扇区（[http://en.wikipedia.org/wiki/Cylinder-头部](http://en.wikipedia.org/wiki/Cylinder-head-sector)）。因此，如果您使用这些功能，您需要采取额外的步骤来确定哪个柱面/磁头/扇区对应于您要读取的绝对扇区。另一种方法是 - 如果可用 - 使用*扩展读取*int 0x13 函数，该函数直接采用绝对扇区 (LBA) 地址。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-09T07:05:49.907

`LBA`并`CHS`用于唯一标识磁盘上的所有物理扇区。

簇号 OTOH 仅在分区内有意义，它与分区的开头（其数据区域）相关，并且可以唯一标识分区内多个扇区的块。

因此，尽管它们的功能相似，但两者之间还是有很大区别的。

并且硬件（或 BIOS）不知道也不应该知道关于集群的任何事情。因此，您必须将簇号转换为`LBAs`（然后可能转换为`CHS`）才能访问存储设备上的数据。

# emacs - how to change buffer-local variable for a major mode in Emacs?

> ID：14785724
> 
> 赞同：3
> 
> 时间：2013-02-09T06:52:29.497
> 
> 标签：emacs

Generally, how can I customize the value of a buffer-local variable in Emacs? For example, the variable `w3m-lnum-mode` is buffer-local, if I set `(setq w3m-lnum-mode t)` in `.emacs`, its value in a w3m mode buffer is still nil. How could I set it to `t` in w3m major mode?

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-09T08:24:34.903

主要模式对这类事情有一个钩子变量。寻找`w3m-mode-hook`。

```
(defun my-w3m-hook nil
  (setq w3m-lnum-mode t))
(add-hook 'w3m-mode-hook #'my-w3m-hook) 
```

间接挂钩一个单独的函数不是绝对必要的，但简化了挂钩功能的管理（否则你必须重新启动 Emacs 或跳过几个循环来向现有挂钩添加一些东西；现在你需要做的就是评估从钩子调用的新`defun`函数）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-09T11:30:20.787

您可以像这样设置默认值：

```
(setq-default w3m-lnum-mode t) 
```

对于细粒度控制，请使用 RNAer 建议的钩子。据我所知，这不是一个普通的局部变量，而是一个次要模式变量。你实际上可能想要这样做`(w3m-lnum-mode 1)`。

# php - php domain validation

> ID：14785729
> 
> 赞同：1
> 
> 时间：2013-02-09T06:52:51.650
> 
> 标签：php, url-shortener

I need bit help as I am facing two issues.

1.  Links without domain extension (.com, .net, ect) will be stored in database as single words

2.  Script allows for self shortening the shortner url which is a major issue.

How can I

1.  Check for domain extension else fail submit

    and

2.  Check if user is trying to shorten my own link and fail as well.

My code:

```
function remove_http($url) 
{
  $disallowed = array('http://', 'https://', 'http//', 'https//');
  foreach($disallowed as $d) {
    if(strpos($url, $d) === 0) {
     return str_replace($d, '', $url);
     }
  }
  return $url;
}

$url_to_shorten = get_magic_quotes_gpc() ? stripslashes(trim($_REQUEST['url'])) : trim($_REQUEST['url']);

if(!empty($url_to_shorten) || parse_url($url_to_shorten, PHP_URL_SCHEME) )
{
    require('framework/core/config.xml.php');

    // check if the URL has already been shortened
    $already_shortened = mysql_result(mysql_query('SELECT id FROM ' . DB_TABLE. ' WHERE long_url="' . mysql_real_escape_string(remove_http($url_to_shorten)) . '"'), 0);
    if(!empty($already_shortened))
    {
        // URL has already been shortened
        $shortened_url = getShortenedURLFromID($already_shortened);
    }
    else
    {
        // URL not in database, insert
        mysql_query('LOCK TABLES ' . DB_TABLE . ' WRITE;');
        mysql_query('INSERT INTO ' . DB_TABLE . ' (long_url, created, creator) VALUES ("' . mysql_real_escape_string(remove_http($url_to_shorten)) . '", "' . time() . '", "' . mysql_real_escape_string($_SERVER['REMOTE_ADDR']) . '")');
        $shortened_url = getShortenedURLFromID(mysql_insert_id());
        mysql_query('UNLOCK TABLES');
    }
    echo BASE_HREF . $shortened_url;
}

function getShortenedURLFromID ($integer, $base = ALLOWED_CHARS)
{
   $length = strlen($base);
   while($integer > $length - 1)
   {
    $out = $base[fmod($integer, $length)] . $out;
    $integer = floor( $integer / $length );
   }
   return $base[$integer] . $out;
} 
```

# php - need equivalent PHP (HttpWebRequest and Stream or curl) code for this .net code

> ID：14785735
> 
> 赞同：-3
> 
> 时间：2013-02-09T06:53:28.253
> 
> 标签：php

i got a problem in PHP. i want to get all the bus stations in india. so i have made an xml request and post that xml data to given API URL. but i did not get the result. below is the .net code which is working fine. even i have used the "HttpRequest" method in php, but it gives me an error like "Fatal error: Class 'HttpRequest' not found".

can anybody help me to give me the equivalent code in php or possible ways to get the data..?

thanks in advance.

# .net code (working fine)

```
protected void getBusServices(string journeydate)
{

        XmlDocument doc = new XmlDocument();
        StringReader stream;
        StreamReader reader;
        XmlTextReader textreader;
        HttpWebRequest req;
        HttpWebResponse response;
        try
        {

            string password = "password";
            DateTime dt = Convert.ToDateTime(journeydate);
            string strJrneyDate = dt.ToString("MM-dd-yyyy");
            string strRtDate = dt.AddDays(3).ToString("MM-dd-yyyy");
            string url = Bus_Api_Url;

             string RequestCommand = "<Command>GET_STATIONS</Command> <Username>username</Username> <Password>password</Password>";
            req = (HttpWebRequest)WebRequest.Create(url);
            string RequestData = "RequestXML=<?xml version='1.0' encoding='utf-8' ?><BusRequest  xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xmlns:xsd='http://www.w3.org/2001/XMLSchema'>" + RequestCommand + "</BusRequest>";
            req.Method = WebRequestMethods.Http.Post;
            req.ContentLength = RequestData.Length;
            req.ContentType = "application/x-www-form-urlencoded";
            using (StreamWriter writer = new StreamWriter(req.GetRequestStream()))
            {
                writer.Write(RequestData);
            }
            response = (HttpWebResponse)req.GetResponse();
            Stream responsestream = response.GetResponseStream();
            reader = new StreamReader(responsestream);
            string xmlresponse = reader.ReadToEnd();
            stream = new StringReader(xmlresponse);
            textreader = new XmlTextReader(stream);
            doc.LoadXml(xmlresponse);
            DataSet ds = new DataSet();
            ds.ReadXml(textreader);

        }

        catch (Exception ex)
        {
            EBUtils.Logger.LogError.Publish(ex);
        }
        finally
        {
            reader = null;
            // stream = null;
            reader = null;
            response = null;
            doc = null;
        }
    }

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-09T07:00:09.613

它非常简单，请查看 [http://php.net/manual/en/simplexml.examples-basic.php](http://php.net/manual/en/simplexml.examples-basic.php)

我已经多次使用相同的方法，这是我的一个活动 php 项目中的一个小片段。

```
$file = "http://the_address_of_the_xml_file.com";
if(!$xml = simplexml_load_file($file)) {
return 0;
} else {     //open
$status = $xml->attributes()->statu
if($status=='ok') {//open
$bio = $xml->artist->bio;

//closed
for ($i = 0; $i < 1; $i++) { 
```

file_get_content 怎么样？

```
$post_data = array('xml' => $xml_str);
$stream_options = array(
    'http' => array(
        'method'  => 'POST',
        'header'  => 'Content-type: application/x-www-form-urlencoded' . "\r\n",
        'content' =>  http_build_query($post_data)));

$context  = stream_context_create($stream_options);
$response = file_get_contents($url, null, $context); 
```

哈哈，我今天状态不佳，在床上真的不舒服；）

# java - java.lang.nullpointerexception

> ID：14785737
> 
> 赞同：-3
> 
> 时间：2013-02-09T06:53:34.027
> 
> 标签：java, pointers, arraylist, null

I have this problem with my code. Its called java.lang.nullpointerexception. and I cant seem to fix it. please help me take a look at it. Thank you. I didnt include the class name and import. class name is called CHORD. I didnt make public static since my assginemnt say dont use global variable.

```
private ArrayList<Integer> nodeList;

public static void main(String[] args){

    CHORD obj = new CHORD();
    obj.nodeList = new ArrayList<Integer>();

    String filename ="";

    if(args.length ==1){
    filename = args[0];
    obj.read(filename);
    }

}

public void read(String file){
    CHORD obj = new CHORD();
    obj = null;

    Scanner loadFile = null;
    try{
    loadFile = new Scanner(new File(file));
    String inputLine;

    while(loadFile.hasNextLine()){
        inputLine = loadFile.nextLine();

        String[] inputArray = inputLine.split(" ",3);

        if(inputArray[0].equalsIgnoreCase("init")){

            int size = Integer.parseInt(inputArray[1]);
            setSizeFT(init(size));  
        }
        else if(inputArray[0].equalsIgnoreCase("addpeer")){
            System.out.println("adding");
            nodeList.add(Integer.parseInt(inputArray[1]));

        }
    }
    }
    catch(FileNotFoundException x){

    }
    finally{
        System.out.println(getFT());
        loadFile.close();
    }
    System.out.println(getFT());
}

public void print(){
    CHORD obj = new CHORD();
    for(int x =0; x< obj.nodeList.size(); x++){
        System.out.println(obj.nodeList.get(x));
    }
}

public int init(int num){
    int n = 23;
    double k = Math.ceil(Math.log(n)/Math.log(2));
    int size = (int)k;
    return size;
}

public void setSizeFT(int size){
    sizeFT = size;
}

public int getFT(){
    return sizeFT;
} 
```

}

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-09T06:57:35.477

Here's an explanation of what NullPointerException's are: [http://antwerkz.com/dealing-with-nullpointerexceptions/](http://antwerkz.com/dealing-with-nullpointerexceptions/) From the article:

> The most common (and obvious to the seasoned developer) is that you didn't initialize a variable.

Looking at that line, it looks like `obj.nodeList` may be null. Here's how I deduced that:

1.  I can see that `obj` is not null, because the first line is `CHORD obj = new CHORD();`. That means you didn't set `obj` to null.
2.  I can tell that `Integer` is not null. That's a class and you're calling a static method. That can't be null because there's nothing to be assigned there.
3.  `inputArray[1]` *may* return null, but if that were happening, your stack trace would not end on this line, it would probably end on some line inside `Integer.parseInt`. I'd need to see a full stack trace to be sure though. But looking at the [javadoc of Integer.parseInt](http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/Integer.html#parseInt%28java.lang.String%29), it doesn't say it'll throw a NPE so that's even more evidence to rule it out.
4.  If `inputArray` was null, you'd probably get the error on the first if statement so I can rule that out.

Somewhere your code needs to do a `obj.nodeList = new NodeList()` or something like that. I can't say for sure without seeing what the CHORD class looks like.

# html - How do I make HTML or CSS tables work inside my paragraph tags?

> ID：14785738
> 
> 赞同：-1
> 
> 时间：2013-02-09T06:53:57.320
> 
> 标签：html, css

I am making a simple table on my website that needs to be within `<p>` tags. The table can be CSS or HTML, but the problem is that it always breaks my paragraph and ends the style. using `display:block;` and `display:inline;` did not do anything.

Why won't this work?
And if it can't, what should I do instead?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-09T08:26:46.600

CSS 声明的三种类型：

1.  内部 CSS - 在当前网页的 HEAD 部分下定义。
2.  内联 CSS - 在特定元素内的给定下定义。
3.  外部 CSS - 在外部样式表中定义并链接到网页。

避免使用内联 CSS，因为它将特定于给定元素，您将无法继续使用其他元素。

最好有外部 CSS，一旦定义了给定标签的属性，它将自动在每个相应的标签中实现。

内部 CSS 也可以，但它只会增加 html 的可下载大小。

# c++ - The output window closes after entering the input in C

> ID：14785744
> 
> 赞同：0
> 
> 时间：2013-02-09T06:55:10.040
> 
> 标签：c++, c

I wrote program in C , but after compiling and running it the output console does not stay on after I enter anything. My program requires to enter distance and time.

My code is here:

```
#include <stdio.h>

int spd(int x , int y);
int main() {
       int x,y;
       printf("enter the distance first then time in their SI units  :\n");
       scanf("%d",&x);
       scanf("%d",&y);
       printf("the speed required is ",spd(x,y));
       getch();
       return 0;
 }
 int spd(int x , int y) {
       return x/y;
 } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-09T07:02:24.703

似乎 getch 以您的输入缓冲区为食。当您在 中输入您的值时`scanf()`，'\n' 仍然存在。

尝试放在`flush(stdin)`你的`scanf()`或现在放`getch ()`两次之后。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-09T07:00:07.890

如果要运行控制台程序，则应从控制台运行它。您已经编写了一个控制台程序——从控制台运行它。

`getch`此外，您需要在调用之前刷新标准或写一个换行符。否则，您在实际编写任何内容之前都在等待按键。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-23T14:39:09.033

尝试包括这个头文件： -

```
#include conio.h 
```

# android - how to call jquery-mobile from android activity

> ID：14785747
> 
> 赞同：0
> 
> 时间：2013-02-09T06:55:30.037
> 
> 标签：android, jquery-mobile

i am developing an android app.. in between i want to add mobile jquery..

There is already a jquery project developed by somebody else. i want to call that html page in my activity..

whether i need to create an webview and call that one?? or can i directly call that html page directly form activity?

And one more thing.. how to add the jquery project in to my project, i mean... in which folder can i place that?? please me help out...

here is my xml code

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:tools="http://schemas.android.com/tools"
android:layout_width="match_parent"
android:layout_height="match_parent"
tools:context=".MainActivity" >

<WebView
    android:id="@+id/webView1"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:layout_alignParentRight="true"
    android:layout_centerVertical="true" /> </RelativeLayout> 
```

thanks in advance.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-09T08:41:33.067

您必须将 Jquery-Mobile 页面（+css/scripts）放在`assets/www`文件夹中。然后您可以`webView.loadUrl("file:///android_asset/www/index.html");`在任何 WebView 中调用 ,。不要忘记打电话`webView.getSettings().setJavaScriptEnabled(true);`确保您有`INTERNET`权限`Manifest`以防万一。

# windows - 选择命令中的代码是什么

> ID：14785751
> 
> 赞同：0
> 
> 时间：2013-02-09T06:56:12.997
> 
> 标签：windows, batch-file

这个标题可能有点混乱，所以让我详细说明。我想知道选择命令背后的代码是什么。除了好奇和有一天它可能对我有帮助的事实之外，没有太多的理由。我到处搜索，但找不到。

我对开源项目之类的了解不多，但可能是因为 Windows 不希望人们知道（或者它易于访问）？

任何信息将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-09T06:59:31.360

Windows 不是开源的。*任何*Windows 命令行实用程序的代码都不会定期发布。这与微软无关，尤其是不想让你知道`choice`具体是如何实现的！

也就是说，[它看起来非常简单](http://en.wikipedia.org/wiki/Choice_%28command%29)。实施最多只有十几行。它的哪一部分给你带来了麻烦？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-09T22:10:49.777

正如 Mahmoud Al-Qudsi 指出的，Windows 不是开源的。然而，FreeDOS 是，并且选择命令在[此处](http://www.freedos.org/software/?prog=choice)可用。

# php - How to link table column from another table column?

> ID：14785752
> 
> 赞同：1
> 
> 时间：2013-02-09T06:56:22.427
> 
> 标签：php, mysql, sql, join

I hope I can make it clear here.

I have a tableA

```
id foo             bar
1  This is white   This is black 
```

And I have another tableB, which foobar is a boolean. 1 for foo, 0 for bar in tableA

```
id foobar
1  1 
```

Then how can I link to the tableA foo and bar columns when I query tableB foobar column to list out which data 1 is belongs to?

This is can be done in mysql or php?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-09T06:59:14.367

```
SELECT  a.*, IF(a.foobar = 1, b.foo, b.bar) result
FROM    tableB a
        LEFT JOIN tableA b
            ON a.id = b.id 
```

*   [SQLFiddle 演示](http://www.sqlfiddle.com/#!2/7efad/4)
*   [SQLFiddle 演示*示例 #2*](http://www.sqlfiddle.com/#!2/afa40/2)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-09T07:18:50.980

试试这个查询：

```
 select * from tableB b left join tableA a On (b.foobar=a.id) 
```

# sqlite - Whether sencha touch2 supports SQLite database?

> ID：14785754
> 
> 赞同：2
> 
> 时间：2013-02-09T06:56:30.783
> 
> 标签：sqlite, sencha-touch-2

I am a newbie to Sencha Touch2, and I have started developing some sample applications.I was just wandering that database like SQLite is supported in this? I googled a lot on it but I ended up in searching with Sencha touch2 proxy which is quite like local database.

Any help on this would be appreciated a lot.

Thank you

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-09T20:28:17.813

好吧，这取决于您如何实现数据库。例如，[CouchDB 提供了一个 REST](http://www.sencha.com/forum/showthread.php?128819-ExtJS-4-MVC-Associations-and-CouchDB...-oh-my!)接口，因此您可以使用 REST 代理。或者，如果您想尝试一下，也可以使用[WebSQL 界面。](http://druckit.wordpress.com/2012/11/16/using-the-sencha-touch-2-1-sql-proxy/)如果您只需要客户端存储，也只需要使用[本地存储代理](http://docs.sencha.com/touch/2-1/#!/api/Ext.data.proxy.LocalStorage)（这非常简单）。

我还没有看到 SQLlite 实现，但它肯定是可能的。如果您对为其中之一实施代理有具体问题，可以用您遇到的一些具体问题或问题更新您的帖子。

# javascript - js，通过原型调用父函数

> ID：14785755
> 
> 赞同：0
> 
> 时间：2013-02-09T06:56:34.323
> 
> 标签：javascript, function, prototype

请问在以下情况下如何调用函数c？非常感谢您的建议。

```
 var Foo = function(el){}

    Foo.prototype.d = function(){ 
        // I want to call function c here, how can I do??
    };

    $.fn.a = function(){
        return { 
            b: new Foo(this)
       };
   };

   $.fn.a.prototype.c = function(){ alert(1); };  //function c

   $(el).a().b.d()   <-reach c... 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-09T07:29:06.617

您没有`a`使用 new 关键字构造的实例。所以你将不得不使用`call`or `apply`。

```
Foo.prototype.d = function(){ 
    $.fn.a.prototype.c.apply(this, arguments);
}; 
```

这将`c`在`Foo`实例上运行 - 这是你想要的吗？如果您只想在没有特定执行上下文的情况下调用该函数，您可以使用`$.fn.a.prototype.c()`.

这可能不是构建它的最佳方法 - 如果您想将其称为 Foo 的成员函数，请不要将其添加为`$.fn.a`.

# html - Web Worker 的局限性

> ID：14785761
> 
> 赞同：11
> 
> 时间：2013-02-09T06:58:24.153
> 
> 标签：html, web-worker

请记住，我以前从未使用过 Web Workers，而且我在理解它们时遇到了一些麻烦。

这是我正在做的简化版本的解释。

我的页面有各种文件的链接——有些是文本，有些是图像等。每个文件都有一个显示通用文件图标的图像。

我希望脚本用文件内容的预览替换每个通用图标。

该脚本将从服务器请求文件（从而将其添加到缓存中，如预加载器），然后创建画布并在其上绘制预览（图像缩略图，文本文件的文本摘录，更具体的图标对于媒体文件...），最后使用数据 URL 将通用图标的源替换为画布。

我可以很容易地做到这一点。但是，我更愿意将它放在后台，这样它在工作时就不会干扰 UI。

在我深入研究之前，我需要知道：Workers 可以使用画布，如果可以，我将如何创建一个？我认为`document.createElement('canvas')`这行不通，因为工人无法访问 DOM，或者当我找到的所有引用都说他们“无法访问 DOM”时我误解了？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-02-09T07:00:16.353

您无法从 Web Worker 访问 DOM。您无法加载图像。您不能创建画布元素并从网络工作者那里绘制它们。目前，网络工作者几乎仅限于进行 ajax 调用和计算密集型的事情。请参阅有关网络工作者和画布对象的相关问题/答案：[网络工作者和画布](https://stackoverflow.com/questions/1864756/web-workers-and-canvas)以及有关使用网络工作者加速图像处理的文章：http: [//blogs.msdn.com/b/eternalcoding/archive/2012/09/20 /using-web-workers-to-improve-performance-of-image-manipulation.aspx](http://blogs.msdn.com/b/eternalcoding/archive/2012/09/20/using-web-workers-to-improve-performance-of-image-manipulation.aspx)

你最简单的选择是将你的工作分成小块（没有网络工作者），一次做一个块，做一个`setTimeout()`，然后处理下一个工作块。这将允许 UI 在完成工作的同时做出响应。如果要完成任何消耗 CPU 的计算（例如进行图像分析），则可以将其外包给 Web Worker，并且可以通过消息将结果发送回主线程以放入 DOM，但如果没有，然后只需将您的工作分成较小的块来保持 UI 的活力。

部分任务，如加载图像、从服务器获取数据等......也可以异步完成，因此如果正确完成，它不会干扰 UI 的响应性。

以下是分块的一般概念：

```
function doMyWork() {
    // state variables
    // initialize state
    var x, y, z;

    function doChunk() {
        // do a chunk of work
        // updating state variables to represent how much you've done or what remains

        if (more work to do) {
            // schedule the next chunk
            setTimeout(doChunk, 1);
        }

    }
    // start the whole process
    doChunk();
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2017-03-26T03:39:31.723

Web Workers 的另一个（令人沮丧的）限制是它无法在 Chrome 上访问地理位置。只是我的两分钱。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2019-03-28T19:28:37.983

因此，正如其他人所说，您无法访问 DOM，也无法从 Web Worker 对 DOM 进行任何操作。但是，您可以在 web worker 上外包一些更完整的计算。然后，一旦您从主 JS 线程内的 web worker 获得返回消息，您就可以提取所需的值并在那里的 DOM 上使用它们。

这可能与您的问题无关，但您提到了画布，所以我将与您分享。

如果您需要提高绘制到画布的性能，我强烈建议您使用两个画布对象。一个渲染到 UI，另一个隐藏。这样您就可以在隐藏的画布上构建所有内容，然后在显示的画布上绘制隐藏的画布。听起来可能没什么用，但它会显着提高性能。

有关提高画布性能的更多详细信息，请参阅此[链接](https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API/Tutorial/Optimizing_canvas#Pre-render_similar_primitives_or_repeating_objects_on_an_offscreen_canvas)。

# ajax - 由异步 HTTPS 请求设置的 Cookie 未显示

> ID：14785762
> 
> 赞同：1
> 
> 时间：2013-02-09T06:58:30.737
> 
> 标签：ajax, asp.net-mvc, http, cookies, https

我有一个使用异步 http 请求（ajax，使用常见的误称）来执行登录和注册的网站。身份验证 cookie 由异步请求设置，一切正常。

我最近锁定了需要 https 的注册和登录操作。一切*似乎*都正常，除了返回的身份验证 cookie 无法正常运行并且用户实际上没有登录。

在 Chrome 中，在开发工具的资源下，它没有显示任何已创建的 cookie。如果我转到 Chrome 设置并查看所有 cookie，我可以看到已经创建了一个*cookie*。也许它是加密的并且不可读？

所以，总结一下：

*   初始页面使用普通 HTTP 加载
*   登录操作是一个异步 HTTPS 请求
*   HTTPS 请求返回的身份验证 cookie 似乎不起作用

我怎样才能让它工作？

我应该注意几点：

*   这不是 CORS 问题。
*   我知道潜在的中间人攻击。本网站不包含敏感数据。我正在尝试做一些与 reddit 所做的非常相似（如果不完全相同）的事情。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-09T19:06:25.793

我设法弄清楚了这一点。事实证明，在 Http 响应中，您需要将`Access-Control-Allow-Credentials`标头设置为`true`. 此外，您必须在客户端 http 请求上设置`withCredentials`为。`true`

# php - How to get all text nodes value between span nodes

> ID：14785763
> 
> 赞同：0
> 
> 时间：2013-02-09T06:58:37.537
> 
> 标签：php, dom, xpath

I have following html structure

```
<span class="x">a</span>
<br>
• first
<br>
• Second
<br>
• second
<br>
• third
<br>
<br>
<span class="x">b</span> 
```

I need to get all the text value(comma separated) that occur between span nodes i.e first,second,second,third

How can this be done using xpath,dom

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-09T09:09:43.207

您可以使用 XPath 查询这些元素，但需要在 PHP 中“清理”这些要点，因为 SimpleXML 仅支持 XPath 1.0，没有扩展的字符串编辑功能。

最重要的是 XPath 表达式，我将详细解释：

*   `//span[text()='a']/following::text()`：获取内容为“a”的跨度*之后*的所有文本节点
*   `[. = //span[text()='b']/preceding::text()]`将它们中的每一个与内容“b”的跨度*之前*的文本节点集进行比较

这是完整的代码，您可能需要花费更多的精力来删除项目符号。确保 PHP 将其评估为 UTF-8，否则您将得到[Mojibake](http://en.wikipedia.org/wiki/Mojibake)而不是要点。

```
<?php
  $html = '
<span class="x">a</span>
<br>
• first
<br>
• Second
<br>
• second
<br>
• third
<br>
<br>
<span class="x">b</span></wrap>
';

  libxml_use_internal_errors(true);
  $dom = new DOMDocument();
  $dom->preserveWhiteSpace = false;
  $dom->strictErrorChecking = false;
  $dom->recover = true;
  $dom->loadHTML($html);

  $xpath = new DOMXPath($dom);
  $results = $xpath->query("//span[text()='a']/following::text()[. = //span[text()='b']/preceding::text()]");

  foreach ($results as $result) {
    $token = trim(str_replace('•', '', $result->nodeValue));
    if ($token) $tokens[] = $token;
  }

  echo implode(',', $tokens);
?> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-09T08:03:11.547

您的 html 结构`<br>`后跟项目符号可以轻松转换为无序列表`<ul></ul>`，而无需更改页面布局。

然后您可以选择所有列表项的文本`<li></li>`并用逗号分隔它们。我[在这个 jsFiddle 中](http://jsfiddle.net/uM9rK/3/)包含了一个示例。

要获取此文本，您可以使用以下命令：

```
var nodes = $('ul > li').map(function() {
return $(this).text();
}).toArray().join(","); 
```

`nodes`字符串在哪里`'first,Second,second,third'`。

# batch-file - 变量批次中的变量

> ID：14785765
> 
> 赞同：0
> 
> 时间：2013-02-09T06:59:10.577
> 
> 标签：batch-file

好的，我在这里需要帮助。在你有变量1（假设它是eat1=apple）、变量2（这是eat2=orange）和variable3（appaleorange=apple 和orange）之前，我已经这样做了。我需要它来做到这一点：

```
 echo Apple:%eat1%
    echo Orange:%eat2%
    echo Apple & Orange:%eat1%%eat2% 
```

现在，你可以看到我的问题了。上面的脚本不会显示这个词，只有苹果橙。那不是我的脚本，我需要它的原因是因为我有多个变量，其中包含数字。我以前做过这个，但我忘记了如何......我知道你可以打一个电话，然后打多个 %'s。

在这种情况下，我希望 fterm 变量是 fterm （不知道如何将它放在那里而不是变量）和 stermnum 作为一个在脚本的其他部分经常更改的数字。

我的代码：

```
 set stermnum=1
    call set exsternum=%%fterm%%stermnum%%%
    echo Selected term:%stermnum% ^(%exsternum%^) 
```

有谁知道该怎么做？谢谢，对不起，它很长：P

~编辑：我发现了...如果它对我所做的任何人有帮助：调用 set exsternum=%%fterm%stermnum%%

很抱歉发布了这个，即使我这么快就想通了

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-09T13:23:41.100

OP 为问题附加了解决方案，但它与原始问题场景无关，并且仍然存在错误。

这是原始场景中OP的解决方案：

```
set "eat1=apple"
set "eat2=orange"
set "appleorange=apple and orange"
call echo %%%eat1%%eat2%%% 
```

对于实际代码，我相信 OP 想要访问一个名为 fterm1、fterm2、fterm3 等的变量数组。数字后缀在一个名为 stermnum 的变量中。

```
call set exsternum=%%fterm%stermnum%%% 
```

如果 fterm 本身是一个包含数组基本名称的变量，则解决方案变为：

```
call set exsternum=%%%fterm%%stermnum%%% 
```

但是 CALL 效率低下 - 单个 CALL 可能不会引起注意，但如果在循环中执行数千次，它会变得非常缓慢。

使用延迟扩展有一个更快的解决方案。延迟扩展必须在使用前启用。

原始场景：

```
setlocal enableDelayedExpansion
set "eat1=apple"
set "eat2=orange"
set "appleorange=apple and orange"
echo !%eat1%%eat2%! 
```

实际代码，解释1：

```
setlocal enableDelayedExpansion
REM additonal code ...
set exsternum=!fterm%stermnum%! 
```

实际代码，解释2：

```
setlocal enableDelayedExpansion
REM additonal code ...
set exsternum=!%fterm%%stermnum%! 
```

# database - general situation in web app?

> ID：14785766
> 
> 赞同：0
> 
> 时间：2013-02-09T06:59:10.870
> 
> 标签：database, database-design

I have 5 messages and below the messages there is a combobox for the user to post a new message in my browser. now the user posted a new message so as i dont want to refresh the entire page i have intiated an ajax call. so i am sending the message to the server via ajax and on the server my web app stores the message into the database. up to here i am clear.

now after saving it into the database without any additional hit to the database can i send the message back to the client?

what i am doing is, after storing the message into the database i am fetching it back again from the database and sending it to the client.

what is the right approach? how to do it?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-09T07:05:29.813

这取决于您使用的技术堆栈。在 JSF 中，您会告诉显示先前消息的表格组件在发布新消息时自行刷新。这样，您可以部分刷新受 AJAX 调用影响的页面元素。

# android - 在 Android 4 及更高版本中调用 Web 服务时出错

> ID：14785768
> 
> 赞同：0
> 
> 时间：2013-02-09T06:59:18.640
> 
> 标签：android

我使用以下代码在 android 中调用 web 服务。

```
if( requestType.equals( "GET" ) )
{
    try
    {
         // GET
        HttpGet request = new HttpGet( );       
        request.setURI( new URI( requestURL ) );        
        HttpResponse response = client.execute( request );      
        if( response == null )
        {
            Log.d( APP_NAME, "Get Response returned null" );
        }
        else
        {
            HttpEntity entity = response.getEntity( );
            String encoding = EntityUtils.getContentCharSet( entity );
            responseString = EntityUtils.toString( entity, encoding == null ? "UTF-8" : encoding );
        }
    }
    catch( Exception e )
    {
            Log.e( APP_NAME, "Error Get : " + e.getMessage( ) );
    }
} 
```

此代码最高支持 3.0。但不支持 android 4.0 及以上版本。请只做那些需要的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-09T07:15:37.180

我想问题是`NetworkonMainThreadException`。

这是因为您要么在不允许的 android 版本 >= 3.0 的主线程上执行网络操作。

[使用 AsyncTask 从http://developer.android.com/reference/android/os/AsyncTask.html](http://developer.android.com/reference/android/os/AsyncTask.html)读取

# c# - 我们如何将 javascript var 初始化为 c# var Asp.net MVC Razor View

> ID：14785777
> 
> 赞同：0
> 
> 时间：2013-02-09T07:00:10.050
> 
> 标签：c#, javascript, asp.net-mvc, asp.net-mvc-3

我想将用户名保存到 valC#

```
@{
var valC#;
}

<script>
    $(document).ready(function () {
        var UserName = $(".dir span").text();
        UserName.trim().replace("\n", "");

        alert(UserName);
    }); 
```

请告诉如何将值从 java-script 变量保存到 C# 的变量中

```
</script> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-09T07:19:30.100

如果您需要将值从客户端 (JavaScript) 推送到服务器端（您的 C# 代码在服务器上执行），您需要以某种方式将其发送到服务器。

```
$(document).ready(function () {
    var UserName = $(".dir span").text();
    UserName.trim().replace("\n", "");

    $.post("@Url.Action("SaveUserName")", { username: UserName });
}); 
```

这会将输入的用户名发布到激活当前视图的同一控制器上的 Action SaveUserName。因此，在您的控制器上，您将需要以下操作

```
public ActionResult SaveUserName(string username)
{
    // This is where you would save the username on the serverside
} 
```

# .net - 检测链接点击转到外部网址并显示“警告”

> ID：14785785
> 
> 赞同：0
> 
> 时间：2013-02-09T07:01:49.780
> 
> 标签：.net, asp.net-mvc-3

我正在使用带有剃刀视图的 MVC 3，并且很好奇是否有一种方法可以使用 global.asax、web.config 或其他一些全局覆盖来检测用户何时离开域。我需要放置一个警报、模式窗口或其他解释我们不对下一个站点上的内容负责的东西（等等，等等 Bob Boblaw）。

我知道 jquery 有一些方法，我可以弹出一个警告框，但希望有一种方法可以用 .NET 做到这一点。这是我第一个使用 MVC3 的站点，看起来路由或框架中强大的东西可以做到这一点。谷歌搜索中没有类似的东西出现。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-09T07:03:34.323

您需要将所有外部链接更改为通过本地 URL 和中间页面。

或者

你用Javascript来做。但是你说你不想要那样，你想用 .NET 来做，因此你需要用一个中间页面来做。

理想情况下，你应该*两者都*做，这样如果你没有启用 JS，你会得到一个中间页面。

# php - 在函数中使用定义的安全变量

> ID：14785792
> 
> 赞同：1
> 
> 时间：2013-02-09T07:03:28.247
> 
> 标签：php, mcrypt

我发现我不应该使用像`global $auth_key`敏感数据这样的全局变量（如果这不是真的，请纠正我。）所以我想使用定义的变量来存储安全密钥。

定义了内部`config.php`盐键。

```
define('AUTH_KEY','::~K~UC*[tlu4Eq/]Lm|h');

define('SECURE_AUTH_KEY', 'QsTMvbV+tuU{K26!]J2'); 
```

In`encryption.php`包含加密函数 where`AUTH_KEY`和`SECURE_AUTH_KEY`will 在里面使用。

```
function encrypt_text($value) {
   if(!$value) return false;
   $crypttext = mcrypt_encrypt(MCRYPT_RIJNDAEL_256, **AUTH_KEY_HERE**, $value, MCRYPT_MODE_ECB, **SECURE_AUTH_KEY_HERE**);
   return trim(base64_encode($crypttext));
}

function decrypt_text($value) {
   if(!$value) return false;
   $crypttext = base64_decode($value);
   $decrypttext = mcrypt_decrypt(MCRYPT_RIJNDAEL_256, **AUTH_KEY_HERE**, $crypttext, MCRYPT_MODE_ECB, **SECURE_AUTH_KEY_HERE**);
   return trim($decrypttext);
} 
```

有没有办法做到这一点？或您可以推荐的任何其他解决方案？请注意，这些密钥对于敏感信息的加密非常重要。

另外，另一个问题，在 mcrypt 上使用的密钥的最大长度是多少？

谢谢您，期待您的回复。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-09T07:13:06.180

作为一项规则：记录器的密钥，更强的加密。其次，除非你的数据很短，否则不要使用ECB，你应该使用CBC或更强的东西。第三：使用盐或初始化向量。最后阅读：[https ://www.owasp.org/index.php/Cryptographic_Storage_Cheat_Sheet](https://www.owasp.org/index.php/Cryptographic_Storage_Cheat_Sheet)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-09T07:10:00.360

使用[常量](http://php.net/manual/en/language.constants.php)就像使用变量一样，只是没有美元符号。

```
$crypttext = mcrypt_encrypt(MCRYPT_RIJNDAEL_256, AUTH_KEY, $value, MCRYPT_MODE_ECB, SECURE_AUTH); 
```

在这种方法中，没有什么比使用`global`关键字更安全了。虽然这种方法是首选。通过使用常量，您说这是我将在整个应用程序中使用的静态值。`global`另一方面，不得不使用通常只是糟糕的设计或懒惰的结果。它导致代码难以遵循，滥用范围界定试图完成的任务。

密钥长度取决于使用的加密算法。即时通讯。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-09T07:10:19.467

是的，您可以`define`像现在一样使用变量，请参见示例

```
 define('AUTH_KEY','::~K~UC*[tlu4Eq/]Lm|h');

 function abc()
 {
  echo AUTH_KEY;
 }

 abc();  // ::~K~UC*[tlu4Eq/]Lm|h 
```

[http://codepad.viper-7.com/tUAg6D](http://codepad.viper-7.com/tUAg6D)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-09T07:18:01.590

尽管选择常量比普通变量更可取，但这种信息最好存储在配置文件中而不是您的代码中。

此外，为了更好地重用并避免将这些全局值放在它周围，封装功能是一个更好的主意：

```
class MyCrypto
{
    private $key;
    private $cipher;
    private $mode;

    public function __construct($key, $cipher, $mode = "cbc")
    {
       $this->key = $key;
       $this->cipher = $cipher;
       $this->mode = $mode;
    }

    public function generate_salt()
    {
        return mcrypt_create_iv(
            mcrypt_get_iv_size($this->cipher, $this->mode), 
            MCRYPT_DEV_URANDOM
        );
    }

    public function encrypt($data) { ... }

    public function decrypt($data) { ... }
} 
```

我添加了用于每个加密操作的盐生成器功能；

最后，我建议使用 CBC 模式 - `MCRYPT_MODE_CBC`.

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-09T07:21:54.697

## 更新（27/09/17）：

由于[mcrypt_encrypt自](http://php.net/manual/en/function.mcrypt-encrypt.php)**PHP 7.1.0**起已弃用。[我已经使用openssl](http://php.net/manual/en/ref.openssl.php)添加了一个简单的加密/解密。

```
function encrypt($string, $key = 'PrivateKey', $secret = 'SecretKey', $method = 'AES-256-CBC') {
    // hash
    $key = hash('sha256', $key);
    // create iv - encrypt method AES-256-CBC expects 16 bytes
    $iv = substr(hash('sha256', $secret), 0, 16);
    // encrypt
    $output = openssl_encrypt($string, $method, $key, 0, $iv);
    // encode
    return base64_encode($output);
}

function decrypt($string, $key = 'PrivateKey', $secret = 'SecretKey', $method = 'AES-256-CBC') {
    // hash
    $key = hash('sha256', $key);
    // create iv - encrypt method AES-256-CBC expects 16 bytes
    $iv = substr(hash('sha256', $secret), 0, 16);
    // decode
    $string = base64_decode($string);
    // decrypt
    return openssl_decrypt($string, $method, $key, 0, $iv);
}

$str = 'Encrypt this text';
echo "Plain: " .$str. "\n";

// encrypt
$encrypted_str = encrypt($str);
echo "Encrypted: " .$encrypted_str. "\n";

// decrypt
$decrypted_str = decrypt($encrypted_str);
echo "Decrypted: " .$decrypted_str. "\n"; 
```

* * *

在您的示例中，当您可以允许 PHP 以这种方式为您创建 iv 时，您使用的是相同的初始化向量`**SECURE_AUTH_KEY_HERE**`，您只需要定义 1 个 SECURE_KEY。

```
<?php 
define('SECURE_KEY',md5('your secret key'));
/**
* Encrypt a value
*/
function encrypt($str){
    $iv_size = mcrypt_get_iv_size(MCRYPT_RIJNDAEL_256, MCRYPT_MODE_ECB);
    $iv = mcrypt_create_iv($iv_size, MCRYPT_RAND);
    return mcrypt_encrypt(MCRYPT_RIJNDAEL_256, SECURE_KEY, $str, MCRYPT_MODE_ECB, $iv);
}
/**
* Decrypt a value
*/
function decrypt($str){
    $iv_size = mcrypt_get_iv_size(MCRYPT_RIJNDAEL_256, MCRYPT_MODE_ECB);
    $iv = mcrypt_create_iv($iv_size, MCRYPT_RAND);
    return trim(mcrypt_decrypt(MCRYPT_RIJNDAEL_256, SECURE_KEY, $str, MCRYPT_MODE_ECB, $iv));
}

//32
$iv_size = mcrypt_get_iv_size(MCRYPT_RIJNDAEL_256, MCRYPT_MODE_ECB);

//Create an initialization vector (IV) from a random source 
$iv = mcrypt_create_iv($iv_size, MCRYPT_RAND);

echo decrypt(encrypt('Encrypt me'));
?> 
```

# php - Facebook sdk 获取居住城市

> ID：14785793
> 
> 赞同：0
> 
> 时间：2013-02-09T07:03:34.310
> 
> 标签：php, facebook-graph-api

我正在尝试将 facebook 登录集成到我的网站中，我需要使用图形或 FQL 获取该用户的居住城市。如果它不存在，那很好。我在文档中找不到它...

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-09T07:08:34.473

这是查询：

```
SELECT hometown_location from user where uid =me() or whomsoever you need 
```

上面的 json 响应包含很多东西。:)

希望能帮助到你。

**编辑：**

确保您提供“user_location”和“friends_location”权限以获取您/朋友的位置。

# javascript - 如何不重复随机函数的结果

> ID：14785803
> 
> 赞同：0
> 
> 时间：2013-02-09T07:05:43.477
> 
> 标签：javascript, random, repeat

我有这个功能可以为我一直在做的测验随机生成一个国家名称，但我不希望同一个名字出现多次。我怎么能那样做？这是我正在使用的代码。

```
<div style="float:left">
<h1> <span id="questionnum"></span>. Can you locate <span id="countryquestion"></span> on the map?</h1>
</div>

<script type="text/javascript">   

generateCountry();

function generateCountry(){

    filenames = [ "Albania", "Andorra", "Armenia", "Austria", "Azerbaijan", "Belarus", "Belgium", "Bosnia and Herzegovina", "Bulgaria", "Croatia", "Cyprus", "Czech Republic", "Denmark", "Estonia", "Finland", "France", "Georgia", "Germany", "Greece", "Hungary", "Iceland", "Ireland", "Italy", "Latvia", "Liechtenstein", "Lithuania", "Luxembourg", "Macedonia", "Malta", "Moldova", "Monaco", "Montenegro", "The Netherlands", "Norway", "Poland", "Portugal", "Romania", "Russia", "San Marino", "Serbia", "Slovakia", "Slovenia", "Spain", "Sweden", "Switzerland", "Ukraine", "United Kingdom" ];

    filename = filenames[Math.floor(Math.random()*filenames.length)];

    document.getElementById('countryquestion').textContent = filename;
    }

</script> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-09T07:27:53.223

```
filename = filenames.splice(Math.floor(Math.random()*filenames.length), 1);

document.getElementById('countryquestion').textContent = filename[0]; 
```

数组拼接将添加或删除数组中的项目。第一个参数是要使用的索引。第二个参数是从该索引中删除多少元素（如果只添加到数组中，则为 0）。任何其他参数都是要添加到该位置的数组的项目。在这种情况下，我们指定一个随机索引并删除一项。返回值是一个已删除元素的数组，在本例中是一个数组，其中包含从文件名中删除的一个元素。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-09T07:22:39.670

您是否希望它们真正随机且真正独特？你只能有可能。

您必须将每一个都存储在数据库中以确保没有重复项。如果您生成副本，则需要重新生成或只是增加数字并重试。如果这是您要查找的内容，最好尝试从 1 开始递增该值。

# android - Android：如何使活动返回结果给调用它的活动？

> ID：14785806
> 
> 赞同：150
> 
> 时间：2013-02-09T07:05:59.577
> 
> 标签：android, android-activity, onactivityresult

我有一个`Location`可以从许多活动中调用的活动，例如`Sign up`和`Order`。在`Location`活动中，用户输入他的位置，因此活动`Location`会将这个新位置返回给调用它的活动。

所以当`Sign up`activity调用`Location`activity时，它必须将数据返回给`Sign up`activity。另一次`Order`活动将做同样的事情。

### 笔记

我知道你会告诉我我应该发布代码，但我并不是要你给我代码；我只想要一些提示、链接或好的线程。

* * *

## 回答 #1

> 赞同：283
> 
> 时间：2013-02-09T07:24:37.467

为了启动应该将结果返回给调用活动的活动，您应该执行以下操作。您应该传递如下所示的请求代码，以识别您从开始的活动中获得了结果。

```
startActivityForResult(new Intent(“YourFullyQualifiedClassName”),requestCode); 
```

在活动中，您可以使用`setData()`返回结果。

```
Intent data = new Intent();
String text = "Result to be returned...."
//---set the data to pass back---
data.setData(Uri.parse(text));
setResult(RESULT_OK, data);
//---close the activity---
finish(); 
```

那么再次在第一个活动中，您在 onActivityResult() 中编写以下代码

```
public void onActivityResult(int requestCode, int resultCode, Intent data) {
    if (requestCode == request_Code) {
        if (resultCode == RESULT_OK) {
            String returnedResult = data.getData().toString();
            // OR
            // String returnedResult = data.getDataString();
        }
    }
} 
```

**根据您的评论进行编辑：** 如果您想返回三个字符串，请通过使用键/值对而不是使用 Uri 来遵循此操作。

```
Intent data = new Intent();
data.putExtra("streetkey","streetname");
data.putExtra("citykey","cityname");
data.putExtra("homekey","homename");
setResult(RESULT_OK,data);
finish(); 
```

将它们放入**onActivityResult**中，如下所示：

```
public void onActivityResult(int requestCode, int resultCode, Intent data) {
    if (requestCode == request_Code) {
        if (resultCode == RESULT_OK) {
            String street = data.getStringExtra("streetkey");
            String city = data.getStringExtra("citykey");
            String home = data.getStringExtra("homekey");
        }
    }
} 
```

* * *

## 回答 #2

> 赞同：18
> 
> 时间：2021-02-23T13:34:02.873

**2021 年 2 月更新**

与[Activity v1.2.0](https://developer.android.com/jetpack/androidx/releases/activity#1.2.0)和[Fragment v1.3.0](https://developer.android.com/jetpack/androidx/releases/fragment#version_130_3)`Activity Result APIs`一样，已经引入了新功能。

> 活动结果 API 提供了用于注册结果、启动结果以及在系统分派结果后处理结果的组件。

所以没有必要再使用`startActivityForResult`and`onActivityResult`了。

为了使用新的 API，您需要在源 Activity 中创建一个 ActivityResultLauncher，指定目标 Activity 完成并返回所需数据时将运行的回调：

```
private val intentLauncher =
    registerForActivityResult(ActivityResultContracts.StartActivityForResult()) { result ->

        if (result.resultCode == Activity.RESULT_OK) {
            result.data?.getStringExtra("streetkey")
            result.data?.getStringExtra("citykey")
            result.data?.getStringExtra("homekey")
        }
    } 
```

然后，在您需要时启动您的意图：

```
intentLauncher.launch(Intent(this, YourActivity::class.java)) 
```

要从目标 Activity 返回数据，您只需添加一个带有返回值的意图即可`setResult()`：

```
val data = Intent()
data.putExtra("streetkey", "streetname")
data.putExtra("citykey", "cityname")
data.putExtra("homekey", "homename")

setResult(Activity.RESULT_OK, data)
finish() 
```

有关任何其他信息，请参阅[Android 文档](https://developer.android.com/training/basics/intents/result)

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2017-08-01T12:13:50.410

如果您想完成并仅添加一个`resultCode`（不包含数据），您可以调用`setResult(int resultCode)`before `finish()`。

例如：

```
...
if (everything_OK) {
    setResult(Activity.RESULT_OK); // OK! (use whatever code you want)
    finish();
}
else {
   setResult(Activity.RESULT_CANCELED); // some error ...
   finish();
}
... 
```

然后在您的呼叫活动中，检查`resultCode`, 以查看我们是否正常。

```
@Override
public void onActivityResult(int requestCode, int resultCode, Intent data) {
    if (requestCode == someCustomRequestCode) {
        if (resultCode == Activity.RESULT_OK) {
            // OK!
        }
        else if (resultCode = Activity.RESULT_CANCELED) {
            // something went wrong :-(
        }
    }
} 
```

不要忘记使用 调用活动`startActivityForResult(intent, someCustomRequestCode)`。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2020-12-03T15:47:51.677

你的错误在`resultCode = Activity.RESULT_CANCELED`，你应该像`resultCode == Activity.RESULT_CANCELED`==

# javascript - 从 2 个数据集绘制路径

> ID：14785814
> 
> 赞同：0
> 
> 时间：2013-02-09T07:07:01.507
> 
> 标签：javascript, d3.js

我一直在尝试使用循环来准备数据集以使用 d3 进行可视化，但是从循环中获取数据时遇到了一些问题。

假设我有 2 个数据集，

> setX = [1,2 ,3, 4, 5] 和 setY = [10, 20, 30, 40, 50]

我创建 for 循环以从 2 个数据集中获取坐标 x 和 y 的数组。

```
var point = new Object();
var coordinate = new Array();
for(var i=0; i < setX.length;i++){
    point.x = setX[i];
    point.y = setY[i];
    coordinate.push(point);
} 
```

并从数组中拉回数据以绘制

```
var d3line = d3.svg.line()
       .x(function(d){return d.x;})
       .y(function(d){return d.y;})
        .interpolate("linear"); 
```

但是 d3line(coordinate) 的 x 和 y 数据的值始终是 5 和 50。有没有正确的方法来解决这个问题？

这是代码示例

```
<div id="path"></div>
<script>
var divElem = d3.select("#path");
    canvas = divElem.append("svg:svg")
        .attr("width", 200)
        .attr("height", 200)

var setX = [1,2 ,3, 4, 5];
var setY = [10, 20, 30, 40, 50];

var point = new Object();
var coordinate = new Array();
for(var i=0; i < setX.length;i++){
    point.x = setX[i];
    point.y = setY[i];
    coordinate.push(point);
}

 var d3line = d3.svg.line()
       .x(function(d){return d.x;})
       .y(function(d){return d.y;})
        .interpolate("linear"); 

canvas.append("svg:path")
    .attr("d", d3line(coordinate))
    .style("stroke-width", 2)
    .style("stroke", "steelblue")
    .style("fill", "none");
</script> 
```

[您还可以在http://jsfiddle.net/agadoo/JDtqf/](http://jsfiddle.net/agadoo/JDtqf/)上看到我的此代码示例

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-09T11:41:59.747

您的代码有两个问题。首先（这会导致您看到的行为），您正在覆盖创建点的循环中的同一对象。因此，您最终会在数组中多次获得完全相同的对象，并且循环的每次迭代都会更改它。您在循环内生成的输出会打印正确的值，因为您是在下一次迭代覆盖对象之前打印的。这很容易通过移动`point`循环内的声明来解决。

第二个问题并不是真正的问题，而是风格问题。您当然可以通过简单地将数据传递到您需要的地方来以您使用它的方式使用 d3。更好的方法是使用 d3s 选择，但是在您传入数据的位置，然后告诉它如何处理它。

我已经用所做的这些更改更新了[你的 js fiddle。](http://jsfiddle.net/JDtqf/1/)

# regex - 在 $group 的 mongodb 聚合框架中使用 $regex

> ID：14785815
> 
> 赞同：11
> 
> 时间：2013-02-09T07:07:26.550
> 
> 标签：regex, mongodb, aggregation-framework

考虑以下示例：

```
db.article.aggregate(
  { $group : {
      _id : "$author",
      docsPerAuthor : { $sum : 1 },
      viewsPerAuthor : { $sum : "$pageViews" }
  }}
); 
```

这按作者字段分组并计算两个字段。

我有 $author = FirstName_LastName 的值。现在，我不想按 $author 分组，而是按共享相同姓氏的所有作者分组。

我尝试 $regex 按“_”之后的所有匹配字符串进行分组

```
$author.match(/_[a-zA-Z0-9]+$/)

db.article.aggregate(
  { $group : {
      _id : "$author".match(/_[a-zA-Z0-9]+$/),
      docsPerAuthor : { $sum : 1 },
      viewsPerAuthor : { $sum : "$pageViews" }
  }}
);

also tried the following:

 db.article.aggregate(
  { $group : {
      _id : {$author: {$regex: /_[a-zA-Z0-9]+$/}},
      docsPerAuthor : { $sum : 1 },
      viewsPerAuthor : { $sum : "$pageViews" }
  }}
); 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-09T11:16:44.583

实际上没有提供这种功能的这种方法，或者我找不到包含它的适当版本。我认为这不适用于 $regexp：http: [//docs.mongodb.org/manual/reference/operator/regex/](http://docs.mongodb.org/manual/reference/operator/regex/)它只是用于模式匹配。

jira 中有一个改进请求：[https ://jira.mongodb.org/browse/SERVER-6773](https://jira.mongodb.org/browse/SERVER-6773)

它处于打开未解决状态。但

在 github 我发现了这个讨论：[https ://github.com/mongodb/mongo/pull/336](https://github.com/mongodb/mongo/pull/336)

如果你检查这个提交：[https ://github.com/nleite/mongo/commit/2dd175a5acda86aaad61f5eb9dab83ee19915709](https://github.com/nleite/mongo/commit/2dd175a5acda86aaad61f5eb9dab83ee19915709)

它或多或少包含您可能拥有的方法。我并没有真正理解这种改进的状态：在 2.2.3 中它不起作用。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-07-05T17:07:20.347

使用mapReduce：它是聚合的一般形式。这是如何在 mongo shell 中进行的：定义映射函数

```
var mapFunction = function() {
  var key = this.author.match(/_[a-zA-Z0-9]+$/)[0];
  var nb_match_bar2 = 0;
  if( this.bar.match(/bar2/g) ){
    nb_match_bar2 = 1;
  }
  var value = {
    docsPerAuthor: 1,
    viewsPerAuthor: Array.sum(this.pageViews)
  };

  emit( key, value );
}; 
```

和reduce函数

```
var reduceFunction = function(key, values) {

  var reducedObject = {
    _id: key,
    docsPerAuthor: 0,
    viewsPerAuthor: 0
  };

  values.forEach( function(value) {
    reducedObject.docsPerAuthor += value.docsPerAuthor;
    reducedObject.viewsPerAuthor += value.viewsPerAuthor;
  }
  );
  return reducedObject;
}; 
```

运行 mapReduce 并将结果保存在 map_reduce_result

```
>db.st.mapReduce(mapFunction, reduceFunction, {out:'map_reduce_result'}) 
```

查询 map_reduce_result 以获得结果

```
>db.map_reduce_result.find() 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2014-02-12T14:03:32.950

聚合框架的一种可能解决方法是使用 $project 来计算作者姓名。但是，它很脏，因为您需要手动遍历不同的名字大小：

在这里，我们将字段名称计算为 '_' 字符之后的子字符串，尝试其每个可能的位置（这就是为什么存在 $cond 链的原因），如果名字也是后备，则返回整个 $author长：

[http://mongotry.herokuapp.com/#?bookmarkId=52fb5f24a0378802003b4c68](http://mongotry.herokuapp.com/#?bookmarkId=52fb5f24a0378802003b4c68)

```
[
{
    "$project": {
        "author": 1,
        "pageViews": 1,
        "name": {
            "$cond": [
                {
                    "$eq": [
                        {
                            "$substr": [
                                "$author",
                                0,
                                1
                            ]
                        },
                        "_"
                    ]
                },
                {
                    "$substr": [
                        "$author",
                        1,
                        999
                    ]
                },
                {
                    "$cond": [
                        {
                            "$eq": [
                                {
                                    "$substr": [
                                        "$author",
                                        1,
                                        1
                                    ]
                                },
                                "_"
                            ]
                        },
                        {
                            "$substr": [
                                "$author",
                                2,
                                999
                            ]
                        },
                        {
                            "$cond": [
                                {
                                    "$eq": [
                                        {
                                            "$substr": [
                                                "$author",
                                                2,
                                                1
                                            ]
                                        },
                                        "_"
                                    ]
                                },
                                {
                                    "$substr": [
                                        "$author",
                                        3,
                                        999
                                    ]
                                },
                                {
                                    "$cond": [
                                        {
                                            "$eq": [
                                                {
                                                    "$substr": [
                                                        "$author",
                                                        3,
                                                        1
                                                    ]
                                                },
                                                "_"
                                            ]
                                        },
                                        {
                                            "$substr": [
                                                "$author",
                                                4,
                                                999
                                            ]
                                        },
                                        {
                                            "$cond": [
                                                {
                                                    "$eq": [
                                                        {
                                                            "$substr": [
                                                                "$author",
                                                                4,
                                                                1
                                                            ]
                                                        },
                                                        "_"
                                                    ]
                                                },
                                                {
                                                    "$substr": [
                                                        "$author",
                                                        5,
                                                        999
                                                    ]
                                                },
                                                "$author"
                                            ]
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                }
            ]
        }
    }
},
{
    "$group": {
        "_id": "$name",
        "viewsPerAuthor": {
            "$sum": "$pageViews"
        }
    }
}
] 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2020-06-02T01:32:22.517

`$group`结合`$addFields`并`$arrayElemAt`为我工作（版本≥ 3.4）。

假设我们在 collection`faculty`和 database中有以下数据`school`：

```
{ "_id" : ObjectId("5ed5a59b1febc4c796a88e80"), "name" : "Harry_Potter" }
{ "_id" : ObjectId("5ed5a60e1febc4c796a88e81"), "name" : "Edison_Potter" }
{ "_id" : ObjectId("5ed5a6231febc4c796a88e82"), "name" : "Jack_Potter" }
{ "_id" : ObjectId("5ed5a62f1febc4c796a88e83"), "name" : "Alice_Walker" }
{ "_id" : ObjectId("5ed5a65f1febc4c796a88e84"), "name" : "Bob_Walker" }
{ "_id" : ObjectId("5ed5a6731febc4c796a88e85"), "name" : "Will_Smith" } 
```

以下可以按姓氏对每个文档进行分组：

```
db.faculty.aggregate([
  {
    $addFields: {
      lastName: {
        $arrayElemAt: [ { $split: ["$name", "_"] }, 1 ]
      }
    }
  },
  {
    $group: {
      _id: "$lastName",
      count: {$sum: 1}
    }
  }
]) 
```

运行结果是：

```
{ "_id" : "Potter", "count" : 3 }
{ "_id" : "Walker", "count" : 2 }
{ "_id" : "Smith", "count" : 1 } 
```

我使用的技巧是添加一个名为`lastName`. 根据您对该`name`字段的了解，可以将其拆分为一个数组`_`。姓氏在索引 1 处，名字在索引 0 处。

参考

[$addFields（聚合）](https://docs.mongodb.com/manual/reference/operator/aggregation/addFields/)

[$arrayElemAt（聚合）](https://docs.mongodb.com/manual/reference/operator/aggregation/arrayElemAt/)

# ruby - 为什么 Ruby 案例不适用于类？

> ID：14785817
> 
> 赞同：4
> 
> 时间：2013-02-09T07:07:39.513
> 
> 标签：ruby, string, class, switch-statement

```
case "Hello".class
  when Integer
      print "A"
  when String
      print "B"
  else
      print "C"
end 
```

为什么我得到“C”？期待“B”，因为如果你评估`"String".class`你确实得到`String`。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-09T07:26:22.333

令人困惑的是，Ruby 的`case`语句用于[`===`](http://ruby-doc.org/core-1.9.3/Module.html#method-i-3D-3D-3D)将每个案例与主题进行比较。 [`Class#===`](http://ruby-doc.org/core-1.9.3/Module.html#method-i-3D-3D-3D)测试该类的实例，但不测试该类本身：

```
> Fixnum === Integer
false
> Fixnum === 1
true 
```

Ruby 试图促进的`case`行为是：

```
case "Hello"
  when Integer
    puts "A"
  when String
    puts "B"
  else
    puts "C"
end 
```

# php - 类中的 List()

> ID：14785818
> 
> 赞同：1
> 
> 时间：2013-02-09T07:08:31.003
> 
> 标签：php, arrays, class

我的脚本不想工作，如果它没有 list()：

```
list($contact->contact) = $contact->contactArray(); 
```

我想将 list() 插入到类中，因为我不想使用它我必须使用我的数组，但是当我将此代码写入类时，我得到信息：

> 解析错误：语法错误，意外的 T_LIST，需要 T_VARIABLE

我的课：

```
 public $contact;
  list($contact) = $this->contactArray();

  public function contactArray()
  {

    $query = mysql_query("SELECT `contact_id`, `contact_name`, `contact_surname`, `group_id`, `contact_telephone`, `contact_email` FROM `contact` ORDER BY `contact_surname` ASC") or die(mysql_error());

    while($row = mysql_fetch_array($query))
    {
      $contact[$row["contact_id"]] = array(
        "name" => $row["contact_name"],
        "surname" => $row["contact_surname"],
        "group_id" => $row["group_id"],
        "telephone" => $row["contact_telephone"],
        "email" => $row["contact_email"]
      );
    }

    return array($contact);

  } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-09T07:10:59.487

在类声明中只允许使用常量、变量和方法。您可以将此代码放在构造函数中：

```
 // ...

  public $contact;

  public function __construct()
  {
      list($this->contact) = $this->contactArray();
  } 
```

# javascript - 提交价值

> ID：14785823
> 
> 赞同：0
> 
> 时间：2013-02-09T07:09:17.407
> 
> 标签：javascript, url

我使用常规`<a href="javascript:document.form.submit()">`从表单提交数据，我猜这相当于一个匿名按钮：`<input type=submit>`

虽然这对于默认行为很好，但我还有一个特殊的按钮`<input type=submit name=special value="special behaviour">`来设置变量`$_REQUEST['special']`。

如何将此按钮转换为`javascript:`提交表单并设置`$_REQUEST['special']`变量的 URL？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-09T07:20:40.500

你可以这样做

```
<form name="myform">
    <input name="special" type="hidden"/>
</form>

<a href="javascript:document.forms['myform'].special.value='<value goes here>';document.forms['myform'].submit()">dd</a> 
```

演示：[小提琴 1](http://jsfiddle.net/arunpjohny/2AwWx/1/)，[小提琴 2](http://jsfiddle.net/arunpjohny/2AwWx/2/)

# python - Python Pyramid 中的文件响应相互“取消”？

> ID：14785824
> 
> 赞同：-1
> 
> 时间：2013-02-09T07:09:30.160
> 
> 标签：python, httpresponse, pyramid

这是三个 Pyramid view_callables，它们设置了一个包含数据和两个图像文件的页面。麻烦的是，只返回一张图像（文件响应）。看来我一次只能返回一张图像。如果我拿走其中一个文件响应 vc，则返回其他图像。但是，如果我有两个文件响应 vc，则只返回第二个图像。我用第二个 vc 覆盖的第一个 vc 中是否有一些对象？

有没有更好的方法来返回两个图像（文件），即使在第一个`# title`vc 中？就像现在一样，即使它有效，我也必须为一个模板从数据库中检索相同的文档 3 次。任何建议或线索将不胜感激。

```
# title
@view_config(
        route_name='title',
        renderer='templates/titles/title.jinja2')
def title(request):
    title = Title().find_one({'_id':ObjectId(request.matchdict['_id'])})
    result = dict(
            user = request.user,
            title = title)
    return result

# view title image
@view_config(route_name="view_title_image")
def jpg(request):
    fd = Title().find_one({'_id':ObjectId(request.matchdict['title_id'])}).TitleImage
    response = Response(content_type='application/jpg')
    response.app_iter = fd.File
    print fd
    return response

# view trailer thumbnail
@view_config(route_name="view_trailer_thumbnail")
def jpg(request):
    fd = Title().find_one({'_id':ObjectId(request.matchdict['title_id'])}).TrailerThumbnail
    response = Response(content_type='application/jpg')
    response.app_iter = fd.File
    print fd
    return response 
```

以下是来自的路线配置`__init__`：

```
# title
config.add_route('title', '/title/{_id}')

# view title image
config.add_route('view_title_image', '/view/title_image/{title_id}')

# view title image
config.add_route('view_trailer_thumbnail', '/view/trailer_thumbnail/{title_id}') 
```

这是它在 Jinja2 模板中的使用方式：

```
<img src="/view/title_image/{{ title._id }}">

<img src="/view/trailer_thumbnail/{{ title._id }}"> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T00:35:08.570

我认为你的问题是两个视图都有名为 jpg 的函数。

虽然覆盖这样的函数不是一个好主意，但我认为这对于 view_config 装饰器来说完全没有问题。我唯一能想到的是，与其记录对函数的引用，view_config 会计算出虚线路径并记录下来。

无论如何，给视图函数起不同的名字，你应该没问题。

# python - 当我使用 Django 泛型时，我如何带两个模型

> ID：14785839
> 
> 赞同：0
> 
> 时间：2013-02-09T07:11:11.233
> 
> 标签：python, django

我有两个模型：广告和横幅

当我使用“通用视图”时我如何才能同时汇集下面的代码只带来一个广告

```
urlpatterns = patterns('',

    url(r'^(?P<pk>\d+)/$', DetailView.as_view(
        model               = Advertisment,
        context_object_name = 'advertisment',
    ), name='cars-advertisment-detail'),

    url(r'^$', SearchView.as_view(), name='cars-advertisment-search'),
) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-09T07:59:00.207

如果您只想为单个视图执行此操作，Aidan 的回答很好，但如果您想在每个页面上自动显示横幅，您有两个主要选择。

一种是创建一个呈现横幅的[模板标签](https://docs.djangoproject.com/en/dev/howto/custom-template-tags/)，然后将此标签添加到您希望显示横幅的模板中。

您的标签可能如下所示：

```
@register.inclusion_tag('banner.html')
def banner_display():
    random_banner = Banner.objects.order_by('?')[0]
    return {'the_banner': random_banner} 
```

然后，您将创建一个显示横幅的模板：

```
<a href="{{ the_banner.url }}"><img src="{{ the_banner.url|safe }}" /></a> 
```

在您需要横幅的模板中，您只需说`{% banner_display %}`

您拥有的另一个选项是创建自定义[模板上下文处理器](https://docs.djangoproject.com/en/dev/ref/templates/api/#subclassing-context-requestcontext)。这会将您的横幅作为所有请求中的普通变量注入。这可能更简单：

```
def banner_display(request):
    random_banner = Banner.objects.order_by('?')[0]
    return {'the_banner': random_banner} 
```

您应该将其保存在文件中，然后将其添加到您的`TEMPLATE_CONTEXT_PROCESSORS`设置中。现在在每个模板中都有一个变量`{{ the_banner }}`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-09T07:20:02.333

您需要覆盖`get_context_data()`基于类的视图的方法（如[文档](https://docs.djangoproject.com/en/1.4/topics/class-based-views/#adding-extra-context)中所述）。

```
from django.views.generic import DetailView

class YourDetailView(DetailView):

    model = Advertisment
    context_object_name = 'advertisment'

    def get_context_data(self, *args, **kwargs):
        context = super(YourDetailView, self).get_context_data(*args, **kwargs)
        if 'banner_id' in self.kwargs:
            context['banner'] = get_object_or_404(Banner, pk=self.kwargs['banner_id']
        return context 
```

我想您还需要更新您的 url conf 以包含 Banner 模型的主键。

```
from your_app.views import YourDetailView

  url(r'^(?P<ad_pk>\d+)/(?P<banner_pk>\d+)/$', YourDetailView.as_view(), name='cars-advertisment-detail'), 
```

# actionscript-3 - 我需要有关 sound.extract() 的更多信息

> ID：14785842
> 
> 赞同：0
> 
> 时间：2013-02-09T07:11:34.797
> 
> 标签：actionscript-3, audio

我需要做一些混音工作。我在 Adob​​e 帮助中找到了示例：

```
var sourceSnd:Sound = new Sound();
var outputSnd:Sound = new Sound();
var urlReq:URLRequest = new URLRequest("test.mp3");

sourceSnd.load(urlReq);
sourceSnd.addEventListener(Event.COMPLETE, loaded);

function loaded(event:Event):void
{
    outputSnd.addEventListener(SampleDataEvent.SAMPLE_DATA, processSound);
    outputSnd.play();
}

function processSound(event:SampleDataEvent):void
{
    var bytes:ByteArray = new ByteArray();
    sourceSnd.extract(bytes, 4096);
    event.data.writeBytes(upOctave(bytes));
}

function upOctave(bytes:ByteArray):ByteArray
{
    var returnBytes:ByteArray = new ByteArray();
    bytes.position = 0;
    while(bytes.bytesAvailable > 0)
    {
        returnBytes.writeFloat(bytes.readFloat());
        returnBytes.writeFloat(bytes.readFloat());
        if (bytes.bytesAvailable > 0)
        {
            bytes.position += 8;
        }
    }
    return returnBytes;
} 
```

它说：

```
target:ByteArray — A ByteArray object in which the extracted sound samples are placed.

length:Number — The number of sound samples to extract. A sample contains both the left and right channels — that is, two 32-bit floating-point values. 
```

我建议

```
 returnBytes.writeFloat(bytes.readFloat());
    returnBytes.writeFloat(bytes.readFloat()); 
```

必须写leftchannel值和rightchannel值。

```
bytes.position += 8 
```

减少样本，使声音播放得更快。我尝试将值修改为4。速度变慢，为2，我只听到噪音，为什么？其他值，如 16 或更高，没有声音输出。为什么？如何仅通过一个浮点值制作各种音效？

我需要更多信息来了解我的工作，请帮助。

**更新**：我稍微改变了 upOctave() 函数，现在可以调整速度了。

```
 function upOctave(bytes:ByteArray):ByteArray
        {
            var returnBytes:ByteArray = new ByteArray();
            bytes.position = 0;
            var position:int = 0;
            var speed:Number = 0.75;
            while(bytes.bytesAvailable > 0)
            {
                if (bytes.bytesAvailable > 0)
                {
                    bytes.position = int(speed*position)*8;
                }
                position++;
                if(bytes.bytesAvailable>0){
                    returnBytes.writeFloat(bytes.readFloat());
                    returnBytes.writeFloat(bytes.readFloat());
                }
            }
            return returnBytes;
        } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-09T07:40:44.530

简而言之，`bytes.position += 8;`不意味着播放率。

每个浮点数 4 个字节和两个通道。移动，如下图所示。

8 byteArray 为 1 组。换句话说，抽样。

```
 4byte  4byte
[  L  ][  R  ] [  L  ][  R  ] [  L  ][  R  ] [  L  ][  R  ] ...

       1              2              3              4 
```

L,R 32 浮动。-1 和 1 之间的连续数据。如 Sin 函数。

创建一个波形，可以控制声音。直波、锯齿波、三角波、正弦波、噪声波……最终声音取决于波形。

如果您想调整播放速率，请阅读这篇文章：[http ://www.kelvinluck.com/2008/11/first-steps-with-flash-10-audio-programming/](http://www.kelvinluck.com/2008/11/first-steps-with-flash-10-audio-programming/)

# android - 当 textIsSelectable 设置为 true 时，Android TextView 不会更新其文本

> ID：14785848
> 
> 赞同：5
> 
> 时间：2013-02-09T07:12:20.213
> 
> 标签：android, textview

我遇到了这个奇怪的问题，给我带来了很多头痛和麻烦。

我发布了一个包含几本书的存储库的应用程序，我决定使用 TextView 来显示每章的文本，因为它符合要求并且使用起来快速且易于使用。

用户要求他可以选择一个文本并复制它，我使用 textIsSelectable = true 一切都很好，第二天他打电话给我报告文本没有改变，你打开一个章节然后你切换到另一个章节但是文本保持不变。

我认为这可能是我这边的一些逻辑问题，但是经过一些调试后，问题出在 TextView 中，当我设置 textIsSelectable = false; 一切都很好。

为了确保我使用了每次显示文本时都会增加的静态 int，文本保持不变。

那么问题是什么？我以错误的方式使用 TextView 吗？或者它是 TextView 本身的一些错误？

这是我的布局（txtBody 是导致问题的 TextView）

```
 <?xml version="1.0" encoding="utf-8"?>

<FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
             android:layout_width="match_parent"
             android:layout_height="match_parent"
             android:background="@android:color/white">

    <ScrollView
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            android:id="@+id/scrollView"
            android:fillViewport="true"
            >

        <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"

                android:orientation="vertical"
                android:gravity="right">

            <TextView
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="Title Text"
                    android:id="@+id/txtTitle"
                    android:textSize="24sp"
                    android:padding="5dp"
                    android:gravity="right"/>

            <TextView
                    android:layout_width="fill_parent"
                    android:layout_height="wrap_content"
                    android:text="Detail Text"
                    android:id="@+id/txtBody"
                    android:background="@android:color/white"
                    android:gravity="right"
                    android:textColor="@android:color/black"
                    android:textSize="16sp"
                    android:padding="5dp"
                    android:enabled="true"
                    android:textIsSelectable="true"
                    android:selectAllOnFocus="false"
                    android:soundEffectsEnabled="true"/>

        </LinearLayout>

    </ScrollView>

</FrameLayout> 
```

我使用此代码来设置文本：

```
String body = MainDataManager.getInstance().getChapterBody(book.getTable(), chapter.getId());
    updateTextStyle();
    txtTitle.setText(chapter.getTitle());
    txtBody.setText(body, TextView.BufferType.SPANNABLE); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-09T07:48:18.537

在更改 textview 的文本之前使用 invalidate() 方法。

```
 String body = MainDataManager.getInstance().getChapterBody(book.getTable(), chapter.getId());
    updateTextStyle();
    txtTitle.invalidate();
    txtTitle.setText(chapter.getTitle());
    txtBody.invalidate();
    txtBody.setText(body, TextView.BufferType.SPANNABLE); 
```

# objective-c - Objective-C 中的 Widthstep 问题

> ID：14785851
> 
> 赞同：0
> 
> 时间：2013-02-09T07:12:31.693
> 
> 标签：objective-c, xcode, image-processing, uiimage, pixel

在 Objective-C 中使用 UI 图像进行图像处理时，我遇到了一些图像不寻常的图像倾斜问题。图像严重失真。当我采用宽度而不是宽度步长时，Open-CV 中会出现此问题。我知道这个问题是为宽度不是 4 倍数的图像创建的（不正确的行对齐），我的问题是如何在 Objective-C 中解决这个问题？

我的示例代码：-

```
 unsigned char *output_image1 = (unsigned char *)malloc(height2*width2*4);
   int i,j;

   for(i=0;i<height2;i++){
     for(j=0;j<4*width2;j=j+4){
         output_image[i*4*width2+4*(j/4)]   = 46;
         output_image[i*4*width2+4*(j/4)+1] = 100;
        output_image[i*4*width2+4*(j/4)+2] = 150;
         output_image[i*4*width2+4*(j/4)+3] = 255;
   }
  } 
```

# jquery - 使用类似于数组名的类名获取键数组的值

> ID：14785852
> 
> 赞同：0
> 
> 时间：2013-02-09T07:12:33.293
> 
> 标签：jquery, html

我有一个名为“type”的键数组。数组的名称是“th”标签的类名。我想通过使用“th”标签的类名来获取这个数组值。有没有可能做到这一点......

```
<script>
 var type= [{sym :"1" ,desc: "one"}, {sym:"2" ,desc:"two"},{sym: "3" ,desc:"three"}];
</script>

<html>
<body>
<table>
<th class="type">
</table>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-09T07:16:10.667

您可以将数组（或多个数组）存储在一个对象中，使用类名作为键：

```
var arrays = {
    type: [{sym: "1", desc: "one"}, {sym: "2", desc: "two"}, {sym: "3", desc: "three"}]
}; 
```

然后您可以稍后简单地使用类名来获取数组：

```
var typeArray = arrays[$("th").attr("class")]; 
```

# css - 使用 CSS3 动画和线性渐变，日出和日落不平滑

> ID：14785853
> 
> 赞同：5
> 
> 时间：2013-02-09T07:12:44.673
> 
> 标签：css, css-transitions, css-animations, linear-gradients

我正在使用 CSS3 开发日出和日落动画，请检查运行时[jsFiddle 输出](http://jsfiddle.net/_Sud/4VgCy/embedded/result/)。

太阳正按预期从一种颜色过渡到另一种颜色

### 中午

[点击查看大图](https://i.stack.imgur.com/u9EKd.png)

![在此处输入图像描述](../Images/b51b6746f172ca9dca1b575846228a25.png)

### 下午

[点击查看大图](https://i.stack.imgur.com/sPiWo.png)

![在此处输入图像描述](../Images/b05d822806f58a1fe387ad328e8b7cf7.png)

### 晚上

[点击查看大图](https://i.stack.imgur.com/Ufum0.png)

![在此处输入图像描述](../Images/88c44b6868fee393240259a2ee0293b0.png)

### 夜晚

[点击查看大图](https://i.stack.imgur.com/ztafv.png)

![在此处输入图像描述](../Images/ddb42a20e4a35e90f329644f556657ee.png)

### 清晨

[点击查看大图](https://i.stack.imgur.com/wKdjq.png)

![在此处输入图像描述](../Images/3b37192b3b41bd67b14efd6532f7c671.png)

问题在于***天空从一种模式过渡到另一种模式***，颜色变化是突然的并且不是线性的

### 用于天空颜色更改的代码

```
@-webkit-keyframes changeSkyColor /* Safari and Chrome */
{
    1%{
        background: -webkit-linear-gradient(top, rgba(30, 152, 209, 1) 0%,rgb(202, 229, 243) 40%,rgba(125, 185, 232, 0.82) 100%); /* Background of Sky */
    }
    11%{
        background: -webkit-linear-gradient(top, rgba(30, 152, 209, 1) 0%,rgb(202, 229, 243) 40%,rgba(125, 185, 232, 0.82) 100%); /* Background of Sky */
    }
    33%  {
        background: -webkit-linear-gradient(top, rgb(240, 231, 26) 0%,rgb(245, 86, 12) 50%,rgba(197, 127, 81, 0.82) 100%); /* Background of Sky */
    }
    66%  {
        background: -webkit-linear-gradient(top, rgb(34, 33, 3) 0%,rgb(162, 55, 5) 50%,rgb(24, 10, 1) 100%); /* Background of Sky */
    }
    100% {
        background: -webkit-linear-gradient(top, rgba(5, 5, 5, 1) 0%,rgb(54, 55, 56) 40%,rgb(3, 3, 3) 100%); /* Background of Sky */
    }
} 
```

请检查[JsFiddle 代码](http://jsfiddle.net/_Sud/4VgCy/)**（带有注释）**。

*   我们不应该在动画中使用线性渐变吗？
*   如果是这样，如何使天空颜色平滑过渡？

有什么我想念的吗？如果有人可以给我一些参考或任何指示以推动它前进，我将不胜感激。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-14T21:38:35.587

我要做的是将整个渐变从头到尾应用到单个元素上（在我的示例中，我将使用`#sky`），然后为该元素的位置设置动画，使其看起来颜色正在褪色。Twitter 的 Bootstrap 使用此技巧为按钮悬停的背景设置动画。

用这种方法查看我的 JSFiddle 分支：http: [//jsfiddle.net/jakebellacera/6Zabx/](http://jsfiddle.net/jakebellacera/6Zabx/)

这是我添加的 CSS：

```
#sky {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 900%; /* This must be in a factor of three */
    background-image: -webkit-linear-gradient(top, rgba(30,152,209,1) 0%, rgb(202, 229, 243) 11%, rgba(125, 185, 232, 0.82) 22%,
                                                   rgb(240, 231, 26) 33%, rgb(245, 86, 12) 44%,   rgba(197, 127, 81, 0.82) 55%,
                                                   rgba(5, 5, 5, 1) 66%,  rgb(54, 55, 56) 77%,    rgb(3, 3, 3) 100%);
    background-image: -moz-linear-gradient(top, rgba(30,152,209,1) 0%, rgb(202, 229, 243) 11%, rgba(125, 185, 232, 0.82) 22%,
                                                rgb(240, 231, 26) 33%, rgb(245, 86, 12) 44%,   rgba(197, 127, 81, 0.82) 55%,
                                                rgba(5, 5, 5, 1) 66%,  rgb(54, 55, 56) 77%,    rgb(3, 3, 3) 100%);
    -webkit-animation-name: changeSkyColor; /* Change Shiny Sky to evening sky and to darkness */  /* Safari and Chrome */
    -webkit-animation-duration: 14s; /* Total time of animation */
    -webkit-animation-timing-function: linear; /* Just another timing function */
    -webkit-animation-iteration-count: infinite; /* Lets repeat sunrise and sunset till world ends :) */
    -webkit-animation-direction: alternate; /* Lets do in alternate fashion */
    -moz-animation-name: changeSkyColor; /* Change Shiny Sky to evening sky and to darkness */  /* Mozzilla */
    -moz-animation-duration: 14s; /* Total time of animation */
    -moz-animation-timing-function: linear; /* Just another timing function */
    -moz-animation-iteration-count: infinite; /* Lets repeat sunrise and sunset till world ends :) */
    -moz-animation-direction: alternate; /* Lets do in alternate fashion */
}

@-webkit-keyframes changeSkyColor /* Safari and Chrome */
{
    0%{
        top: 0px;
    }
    100% {
        top: -800%; /* #sky's height - 100% */
    }
}
@-moz-keyframes changeSkyColor /* Mozilla */
{

    0%{
        top: 0px;
    }
    100%  {
        top: -800%; /* #sky's height - 100% */
    }
} 
```

# c# - 三层应用程序中的 Ninject

> ID：14785855
> 
> 赞同：0
> 
> 时间：2013-02-09T07:13:01.407
> 
> 标签：c#, dependency-injection, inversion-of-control, ninject, n-tier-architecture

我正在构建一个标准的三层应用程序。

1 个用于前端的控制台应用程序

2 业务逻辑层

3 数据层

主要目的是显示数据库表中的一些客户数据。

我试图遵循“.NET 中的依赖注入”一书中的指导方针，没有从控制台到数据层的引用，也没有从业务层到数据层的引用。如果需要，可以轻松交换前端和数据层。

假设我在业务层有一个名为 CustomerService 的服务，它有一个`GetCustomers()`方法

的构造函数`CustomerService`需要`ICustomerRepository`这样

```
 public class CustomerService 
 {
     ICustomerRepository repository; 

     public CustomerService(ICustomerRepository repository) 
     {
        this.repository = repository;
     }

     public ICollection<Customer> GetCustomers() 
     {
         return repository.GetCustomers();
     }
} 
```

在我的数据层

```
public class CustomerRepository : BLL.ICustomerRepository 
{
    public ICollection<Customer> GetCustomers()
    {
         // get the customers from the db 
         return customers;
    }
} 
```

在控制台应用程序中，我想使用 Ninject 调用创建 CustomerService 对象来满足 ICustomerRepository 依赖项。

```
 class DIModule : NinjectModule
 {
    public override void Load()
    {
        Bind<>(ICustomerRepository).To<??????????????>()
    }
 } 
```

如何绑定到数据层 CustomerRepository 类？我必须将控制台应用程序的引用添加到数据层才能正常工作？我究竟做错了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-09T07:20:59.680

```
Bind<ICustomerRepository>().To<CustomerRepository>(); 
```

# php - Yii中如何用Gii生成数据库表模型？

> ID：14785857
> 
> 赞同：0
> 
> 时间：2013-02-09T07:13:21.977
> 
> 标签：php, class, yii, gii

**问题：**

我使用[gii](http://www.yiiframework.com/doc/guide/1.1/en/topics.gii#using-gii)生成数据库表模型。所以如果我的用户表结构有任何变化，我会使用 gii 并且我的所有关系和其他方法都从类中删除。所以我需要备份类并重新生成类并带回其他方法和关系。

**可能的解决方案：**

对于表“用户”，我将我的课程更改为两个这样的课程：

```
class Users extends UsersMapper {

    public function tableName() {
        return 'users';
    }

    public function rules() {
       .....
    }

    public function relations() {
       .....
    } 
}

class UsersMapper extends CActiveRecord {

    public function getAllUsers() {
       ......
    }

    public function getBlockedUsers() {
       ......
    }   
} 
```

**问题：**

上面的方法对我`Users`有用，我在我的代码中只使用类。它是有效的方法还是这个逻辑有任何问题。有没有其他方法。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-09T07:45:24.227

Giix扩展将为您的案例创建一个[类](http://www.yiiframework.com/extension/giix)`models/Users`和一个`models/_base/BaseUsers`类。Users 类扩展了 BaseUsers 类。因此，在更改数据库时只需要重新生成 BaseUsers 类。它还附带了一些我经常使用的额外方法。

# php - 使用单选按钮作为复选框

> ID：14785858
> 
> 赞同：0
> 
> 时间：2013-02-09T07:13:25.767
> 
> 标签：php, javascript, html, css, forms

我正在学习如何从[本教程系列](http://www.devlounge.net/extras/how-to-write-a-wordpress-plugin)中开发 WordPress 插件，现在我正在学习[本教程](http://www.devlounge.net/code/constructing-an-wordpress-plugin-admin-panel)，但我发现了一件奇怪的事情：使用了两个 RadioButtones 来获取值“True”或“False”，它们可以使用一个 CheckBox

```
<label for="devloungeHeader_yes">
    <input type="radio" id="devloungeHeader_yes" name="devloungeHeader" value="true" <?php if ($devOptions['show_header'] == "true") { _e('checked="checked"', "DevloungePluginSeries"); }?> />
    Yes
</label>&nbsp;&nbsp;&nbsp;&nbsp;
<label for="devloungeHeader_no">
    <input type="radio" id="devloungeHeader_no" name="devloungeHeader" value="false" <?php if ($devOptions['show_header'] == "false") { _e('checked="checked"', "DevloungePluginSeries"); }?>/>
    No
</label> 
```

我在 joomla 管理页面上看到了类似的东西，其中使用了 2 个单选按钮来获得相同的结果。

**那么，使用两个单选按钮而不是一个复选框有什么（html、css、javascript、php 等等）优势吗？**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-09T09:46:25.863

实际上我发现了为什么使用两个具有相同名称和不同值“True”和“False”的单选按钮比复选框更好。当一个复选框没有被选中时，它不会被提交给服务器。但是，当您使用具有“True”和“False”值的单选按钮时，这些单选按钮将在服务器上提交，因此 php 无论如何都会从 html 表单中获取结果。所以使用ckeckbox你只有两个选择：

```
1) when chebox is checked and is submited (value == "checked")
2) when checkbox is Not checked and it is not submited 
```

使用 php 你有这两个选项：

```
<?php
if (isset($_POST['testCheckBox'])) {
    // it is submited so it means it is Checked!
} else {
    // it is not submited because it is not checked or there is something wrong!
}
?> 
```

但是使用单选按钮，您有三个选项：

```
1) when radio "True" is checked and is submited
2) when radio "False" is checked and is submited
3) when radio is not SUBMITED, so something is not working properly 
```

例子：

```
<?php
if (isset($_POST['testRadioButton'])) { // testRadioButton is submited!
    if($_POST['testRadioButton'] == "true"){
        // True is checked, do something
    } elseif(($_POST['testRadioButton'] == "false"){
        // False is checked, do something
    }
} else {
    // it not Submited! so there is definitely something wrong with code
}
?> 
```

# java - 遇到异常 javax.management.RuntimeOperationsException: 异常调用方法检查

> ID：14785863
> 
> 赞同：1
> 
> 时间：2013-02-09T07:14:43.523
> 
> 标签：java, eclipse, jsp, tomcat, web-applications

尝试将 Web 应用程序部署到计算机上安装的 tomcat 7.0.35 服务器实例时，我收到了一系列错误消息。该应用程序是使用 eclipse 在 jsp 中开发的。

我收到的第一条错误消息是：

```
FAIL - Encountered exception javax.management.RuntimeOperationsException: Exception invoking method check 
```

在我尝试在 tomcat 管理器应用程序中部署应用程序后出现上述错误消息。

我在工作区中应用程序的根文件夹中放置了一个名为 myapp.xml 的 xml 文件，其内容为：

```
<Context path="/myapp" docBase="d:\path\to\myapp"/> 
```

我尝试了多种不同的方法来解决此错误消息，但没有任何效果。一段时间后，错误消息也开始出现。

最后，每隔几秒钟，控制台就会刷新大量来自其持续重试的新错误消息，这些错误消息包括以下内容：

```
Feb 8, 2013 10:38:19 PM org.apache.catalina.startup.HostConfig deployDescriptor
INFO: Deploying configuration descriptor d:\mypath\apache-tomcat-7.0.35\conf\Catalina\localhost\myapp.xml
Feb 8, 2013 10:38:19 PM org.apache.catalina.startup.HostConfig deployDescriptor
SEVERE: Error deploying configuration descriptor d:\mypath\apache-tomcat-7.0.35\conf\Catalina\localhost\myapp.xml
java.io.FileNotFoundException: d:\mypath\apache-tomcat-7.0.35\conf\Catalina\localhost\myapp.xml (Access is denied)
    at java.io.FileInputStream.open(Native Method)
    at java.io.FileInputStream.<init>(Unknown Source)
    at org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:608)
    at org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1637)
    at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)
    at java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source)
    at java.util.concurrent.FutureTask.run(Unknown Source)
    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
    at java.lang.Thread.run(Unknown Source)
Feb 8, 2013 10:38:19 PM org.apache.catalina.startup.HostConfig deployDescriptors
SEVERE: Error waiting for multi-thread deployment of context descriptors to complete
java.util.concurrent.ExecutionException: java.lang.NullPointerException
    at java.util.concurrent.FutureTask$Sync.innerGet(Unknown Source)
    at java.util.concurrent.FutureTask.get(Unknown Source)
    at org.apache.catalina.startup.HostConfig.deployDescriptors(HostConfig.java:579)
    at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:475)
    at org.apache.catalina.startup.HostConfig.check(HostConfig.java:1449)
    at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:301)
    at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:119)
    at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:90)
    at org.apache.catalina.core.ContainerBase.backgroundProcess(ContainerBase.java:1374)
    at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1530)
    at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1540)
    at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.run(ContainerBase.java:1519)
    at java.lang.Thread.run(Unknown Source)  
Caused by: java.lang.NullPointerException
    at org.apache.catalina.startup.HostConfig.addWatchedResources(HostConfig.java:1172)
    at org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:706)
    at org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1637)
    at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)
    at java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source)
    at java.util.concurrent.FutureTask.run(Unknown Source)
    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
    ... 1 more 
```

当 tomcat 在 tomcat 文件夹中查找 myapp.xml 时，似乎会引发空指针错误。但它似乎没有看到 myapp.xml 位于我的 Eclipse 工作区中，位于我在 tomcat 管理器应用程序中提供的 d:\path\to\myapp url，如上所示。随着我不断尝试新事物，问题似乎越来越严重。

谁能告诉我如何解决所有这些问题，以便我可以在 tomcat 上部署我的应用程序？在此之前，我已经使用类似的方法在此服务器上部署了其他应用程序而没有问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-13T22:30:38.193

我通过卸载然后重新安装 eclipse 和 tomcat 解决了这个错误。

# visual-c++ - AVI文件无法在windows上打开

> ID：14785867
> 
> 赞同：-2
> 
> 时间：2013-02-09T07:15:24.570
> 
> 标签：visual-c++, image-processing, opencv

我已经实现了简单的 avi 文件显示 video.for 我的离线对象检测。但我的问题是我没有收到任何错误但是当我调试它时我没有得到任何显示。请指导我。

```
 int main( int argc, char** argv ) 
  {
 cvNamedWindow( "Example2", CV_WINDOW_AUTOSIZE );
 CvCapture* capture = cvCreateFileCapture("S:\MOVIES\English movies\\TANGLED.avi" );
  IplImage* frame;

 while(1) {
 frame = cvQueryFrame( capture );
 if( !frame ) break;
 cvShowImage( "Example2", frame );
 char c = cvWaitKey(33);
 if( c == 27 ) break;
 }
 cvReleaseCapture( &capture );
 cvDestroyWindow( "Example2" );
 } 
```

视频文件也有大小限制还是取决于opencv的版本？我的视频用于移动人类。我在 Visual Studio C++ 2008 中使用 opencv2.3 请任何人都可以指导我吗？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-09T09:50:19.637

一个 AVI 文件实际上只是一个容器规范，并且就其将接受的大量媒体格式而言相当混杂，但是播放主机必须具有所有媒体组件的解码器，或者根据播放应用程序的错误它无法打开/播放视频文件。你可以做几件事来解决这个问题：

*   为 OS+bittedness 播放目标安装一个预制的二进制编解码器，
*   编译您需要/想要的任何编解码器，并以您的操作系统的常用方式全局添加它们。
*   使用大多数媒体播放器默认支持的编解码器组合查找、获取和/或重新创建新版本。
*   打电话给附近的黑客并要求他将其转换为不同的格式
*   Stomp 和 romp 为标准化媒体组件 AVI 文件的格式而奋斗
*   只需使用 MKV 容器或创作 DVD 光盘。AVI 文件与旋转媒体一样过时。
*   进行虚拟客农... 购买4个SM15000 Rack集群，创建10000台VM，配置配套基础设施并使用它们接管世界，要求统一然后做甜点布丁。

更深入的细节在这里： [http ://en.wikipedia.org/wiki/Audio_Video_Interleave](http://en.wikipedia.org/wiki/Audio_Video_Interleave)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-02-28T15:43:37.160

问题很可能是您将文件名传递给函数的方式。尝试使用双反斜杠：

```
CvCapture* capture = cvCreateFileCapture("S:\\MOVIES\\English movies\\TANGLED.avi" ); 
```

并**始终测试函数的结果**：

```
if (!capture)
{
    printf("!!! Failed to open file.\n");
    return;
} 
```

# c++ - 在未命名的命名空间中对 C++ 代码进行单元测试

> ID：14785869
> 
> 赞同：18
> 
> 时间：2013-02-09T07:15:25.997
> 
> 标签：c++, unit-testing, googletest

我正在开发一个程序 C/C++ 项目。公共接口由 4 个函数组成，每个函数都有相当复杂的任务。在同一个`cpp`文件中，在一个未命名的命名空间中声明了一些辅助函数。正在使用的测试框架是 GTest。

然而，其中一些辅助函数变得复杂到需要它们自己的单元测试。通常，我会将这些助手重构为它们自己的可测试单元，但项目要求声明所有内容都需要在一个`cpp`中，并且只有指定的功能可以公开可见。

有没有一种方法可以对辅助函数进行单元测试，同时最大限度地减少耦合，并尽可能地遵循项目要求？

我有一个可能的解决方案是使用宏将命名空间转换为命名命名空间用于测试，而未命名用于生产。但是，这似乎比我想要的要混乱一些。

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2013-02-09T09:11:19.580

匿名`namespace`中的定义和声明都只在同一个翻译单元中可见。

您可以采用两种方法对这些私有函数进行单元测试。

您可以在您的文件中测试`#include`整个文件。（ing文件不是重用代码的好方法 - 你不应该在生产代码中这样做！）`.cpp``_test.cpp``#include``.cpp`

也许更好的方法是将私有代码移动到您的项目通常使用的`foo::internal` `namespace`地方，并将私有声明放在一个文件中。您的生产文件和测试可以包含此内部标头，但您的客户端不允许。这样，您可以完全测试您的内部实现，而不会将其泄露给您的客户。`foo``namespace``-internal.h``.cpp`

# windows - 继承 Windows 线程句柄

> ID：14785872
> 
> 赞同：1
> 
> 时间：2013-02-09T07:15:43.440
> 
> 标签：windows, multithreading, delphi, winapi

我刚刚意识到，如果您知道正确的 ThreadHandle 值，则不可能在其自己的应用程序（地址空间？！）之外暂停/恢复/终止线程...据我所知，您将无法使用`WaitForSingleObject`任何一个。但是我看到 ProcessExplorer 能够暂停/恢复/终止每个进程的每个线程。所以我想知道是否有一种方法可以从不同的进程继承 ThreadHandle。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-09T07:22:10.050

如果您可以获得原始进程的句柄，则可以使用[DuplicateHandle()](http://msdn.microsoft.com/en-us/library/ms724251%28VS.85%29.aspx)为您有权访问的该进程中的任何内核对象创建句柄。

# java - OpenGL ES 2.0 VBO 问题

> ID：14785874
> 
> 赞同：0
> 
> 时间：2013-02-09T07:16:05.813
> 
> 标签：java, android, opengl-es-2.0, vbo

我正在尝试切换到 VBO，暂时没有索引。但我得到的只是一个空白屏幕。有人能指出为什么它是空白的吗？如果我注释掉特定于 vbo 的代码并将 glVertexAttribPointer 中的 0(offset) 替换为 mFVertexBuffer，则相同的代码可以正常工作，即不使用 VBO。

这是我的 onDraw 方法

```
GLES20.glClearColor(0.50f, 0.50f, 0.50f, 1.0f);
GLES20.glClear(GLES20.GL_DEPTH_BUFFER_BIT | GLES20.GL_COLOR_BUFFER_BIT);
// Bind default FBO
//    GLES20.glBindFramebuffer(GLES20.GL_FRAMEBUFFER, 0);
GLES20.glUseProgram(mProgram);
checkGlError("glUseProgram");

GLES20.glEnable(GLES20.GL_BLEND);
GLES20.glBlendFunc(GLES20.GL_SRC_ALPHA, GLES20.GL_ONE_MINUS_SRC_ALPHA);

GLES20.glBindTexture(GLES20.GL_TEXTURE_2D, id);
int vertexCount = mCarVerticesData.length / 3;

GLES20.glBindBuffer(GLES20.GL_ARRAY_BUFFER, buffers[0]);
checkGlError("1");
GLES20.glVertexAttribPointer(positionHandle, 3, GLES20.GL_FLOAT,false, 0, 0);
checkGlError("2");
GLES20.glEnableVertexAttribArray(positionHandle);
checkGlError("3 ");
transferTexturePoints(getTextureHandle());
GLES20.glDrawArrays(GLES20.GL_TRIANGLES, 0, vertexCount);
checkGlError("glDrawArrays");
GLES20.glBindBuffer(GLES20.GL_ARRAY_BUFFER, 0);
GLES20.glDisableVertexAttribArray(positionHandle);
GLES20.glDisable(GLES20.GL_BLEND); 
```

这是我的 vbo 设置：

```
// Allocate and handle vertex buffer
    ByteBuffer vbb2 = ByteBuffer.allocateDirect(mCarVerticesData.length
            * FLOAT_SIZE_BYTES);
    vbb2.order(ByteOrder.nativeOrder());
    mFVertexBuffer = vbb2.asFloatBuffer();
    mFVertexBuffer.put(mCarVerticesData);
    mFVertexBuffer.position(0);

    // Allocate and handle vertex buffer

    this.buffers = new int[1];

    GLES20.glGenBuffers(1, buffers, 0);
    GLES20.glBindBuffer(GLES20.GL_ARRAY_BUFFER, buffers[0]);
    GLES20.glBufferData(GLES20.GL_ARRAY_BUFFER, mFVertexBuffer.capacity()
            * FLOAT_SIZE_BYTES, mFVertexBuffer, GLES20.GL_STATIC_DRAW); 
```

在链接我的程序之前：

```
GLES20.glBindAttribLocation(program, 0, "aPosition");
checkGlError("bindAttribLoc"); 
```

我的顶点着色器是：

```
uniform mat4 uMVPMatrix;
attribute vec4 aPosition;
attribute vec2 aTextureCoordinate;
varying vec2 v_TextureCoordinate;
void main() 
{
  gl_Position = uMVPMatrix * aPosition;
  v_TextureCoordinate = aTextureCoordinate;
  gl_PointSize=  10.0;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-12T05:11:04.347

你还需要生成一个元素数组并调用这样的东西来渲染你的“对象”：

```
// Bind the vertex buffer 
GLES20.glBindBuffer(GLES20.GL_ARRAY_BUFFER, _bufferIds.get(2));
GLES20.glVertexAttribPointer(4, 4, GLES20.GL_FLOAT, false, 4*4, 0);
// Bind the elements buffer and draw it
GLES20.glBindBuffer(GLES20.GL_ELEMENT_ARRAY_BUFFER, _bufferIds.get(1));
GLES20.glDrawElements(GLES20.GL_TRIANGLES, _numElements, GLES20.GL_UNSIGNED_SHORT, 0); 
```

希望有帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-27T04:11:33.270

我通过重写上传顶点数据的方式解决了这个问题。我正在修改它，所以我需要再次调用 glBindBufferData 才能上传它。而且我能够在不使用 glDrawElements 和索引的情况下使用 VBO，而且效果很好。

# c++ - 删除、自定义列表时的 C++ 堆损坏

> ID：14785876
> 
> 赞同：-1
> 
> 时间：2013-02-09T07:16:16.337
> 
> 标签：c++, memory-management

我正在写一个基本的 List 类。它由数组支持，而不是向量，因为我们不允许使用向量。

`delete[]`当我调用我的内部支持数组时，我似乎遇到了堆损坏问题。

```
template <typename T>
void List<T>::Remove( int elementIndex )
{
    // Here, I'm creating a new array of one less size to copy all elements over
    T* newArray = new T[Count - 1];
    bool skippedElement = false;

    for (int i = 0; i < Count; i++)
    {
        if (i == elementIndex)
                skippedElement = true;

        newArray[i] = array[ skippedElement ? i + 1 : i ];
    }

    delete[] array; // Heap corruption!  See below for definition of array
    array = newArray;

    Count--;
    Capacity--;
} 
```

**列表.h**

```
class List
{
    ...
    private:
    T* array;
    ...

    template <typename T>
    List<T>::List( void )
    {
        array = new T[1];
    }

    template <typename T>
    List<T>::~List( void )
    {
        delete[] array;
    }
} 
```

有人知道为什么会这样吗？

根据[这个有用的帖子](https://stackoverflow.com/a/7351858/555547)，它说：

"*大多数堆损坏是由 (A) 调用 delete 太多次 (B) 调用错误形式的 delete 或 (C) 访问堆分配的数组超出范围造成的。* "

我只是不确定 A、B 或/和 C 是否正确。我是在删除后调用删除吗？我不这么认为。我也认为我正在调用正确的删除形式：带括号的删除。我当然希望不是 C.

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-09T07:22:55.800

在你的 for 循环中，你没有迭代`Count`次数。但是您的新数组只能`Count - 1`包含多个元素。这会导致堆损坏。

# java - Android 从 ListView 中删除数据库行

> ID：14785883
> 
> 赞同：-1
> 
> 时间：2013-02-09T07:17:57.113
> 
> 标签：java, android, database, eclipse, listview

当我从 ListView 中选择时，我遇到了删除数据库条目的问题...我有两个类是`ViewContentActivity.class`和`DBHelper.class`

在我的`ViewContentActivity.class`中，我将它扩展到`ListActivity`并添加方法`onListItemClick`

我把这段代码，

```
protected void onListItemClick(ListView l, View v, int position, long id) {
    super.onListItemClick(l, v, position, id);

    DBHelper helper = new DBHelper(this);
    database = helper.getWritableDatabase();        

    Cursor c = (Cursor)l.getItemAtPosition(position);
    int _id = c.getInt(c.getColumnIndex(helper.COL_ID));
    String nameList = c.getString(c.getColumnIndex(helper.COL_NAMA));
    helper.deleteData(database, _id);       
    Toast.makeText(this, "Data " + nameList + " removed" , Toast.LENGTH_SHORT).show();

} 
```

在我的中`DBHelper.class`，我创建了删除这样的方法..

```
public void deleteData(SQLiteDatabase db, int id)
{
    db.delete(TABLE_PEKERJA, COL_ID + " = " +id, null);
} 
```

当我运行时，我得到了错误......在我声明光标之前显示的错误

```
//Error here
Cursor c = (Cursor)l.getItemAtPosition(position);
int _id = c.getInt(c.getColumnIndex(helper.COL_ID));
String nameList = c.getString(c.getColumnIndex(helper.COL_NAMA));
helper.deleteData(database, _id);       
Toast.makeText(this, "Data " + nameList + " removed" , Toast.LENGTH_SHORT).show();

02-09 14:26:01.449: E/AndroidRuntime(13977):    at    com.example.untukmuna.ViewContentActivity.onListItemClick(ViewContentActivity.java:69)
02-09 14:33:02.419: E/AndroidRuntime(14584): FATAL EXCEPTION: main
02-09 14:33:02.419: E/AndroidRuntime(14584): java.lang.ClassCastException:      java.lang.String
02-09 14:33:02.419: E/AndroidRuntime(14584):    at com.example.untukmuna.ViewContentActivity.onListItemClick(ViewContentActivity.java:69)
02-09 14:33:02.419: E/AndroidRuntime(14584):    at android.app.ListActivity$2.onItemClick(ListActivity.java:319)
02-09 14:33:02.419: E/AndroidRuntime(14584):    at android.widget.AdapterView.performItemClick(AdapterView.java:284)02-09 14:33:02.419: E/AndroidRuntime(14584):    at android.widget.ListView.performItemClick(ListView.java:3744)
02-09 14:33:02.419: E/AndroidRuntime(14584):    at android.widget.AbsListView$PerformClick.run(AbsListView.java:1991)
02-09 14:33:02.419: E/AndroidRuntime(14584):    at android.os.Handler.handleCallback(Handler.java:587)
02-09 14:33:02.419: E/AndroidRuntime(14584):    at android.os.Handler.dispatchMessage(Handler.java:92)
02-09 14:33:02.419: E/AndroidRuntime(14584):    at android.os.Looper.loop(Looper.java:130)
02-09 14:33:02.419: E/AndroidRuntime(14584):    at android.app.ActivityThread.main(ActivityThread.java:3687)
02-09 14:33:02.419: E/AndroidRuntime(14584):    at java.lang.reflect.Method.invokeNative(Native Method)
02-09 14:33:02.419: E/AndroidRuntime(14584):    at java.lang.reflect.Method.invoke(Method.java:507)
02-09 14:33:02.419: E/AndroidRuntime(14584):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:878)
02-09 14:33:02.419: E/AndroidRuntime(14584):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:636)
02-09 14:33:02.419: E/AndroidRuntime(14584):    at dalvik.system.NativeStart.main(Native Method)
02-09 14:44:14.639: W/dalvikvm(15238): threadid=1: thread exiting with uncaught exception (group=0x40157560)
02-09 14:44:14.649: E/AndroidRuntime(15238): FATAL EXCEPTION: main
02-09 14:44:14.649: E/AndroidRuntime(15238): java.lang.ClassCastException: java.lang.String
02-09 14:44:14.649: E/AndroidRuntime(15238):    at com.example.untukmuna.ViewContentActivity.onListItemClick(ViewContentActivity.java:69)
02-09 14:44:14.649: E/AndroidRuntime(15238):    at android.app.ListActivity$2.onItemClick(ListActivity.java:319)
02-09 14:44:14.649: E/AndroidRuntime(15238):    at android.widget.AdapterView.performItemClick(AdapterView.java:284)
02-09 14:44:14.649: E/AndroidRuntime(15238):    at android.widget.ListView.performItemClick(ListView.java:3744)
02-09 14:44:14.649: E/AndroidRuntime(15238):    at android.widget.AbsListView$PerformClick.run(AbsListView.java:1991)
02-09 14:44:14.649: E/AndroidRuntime(15238):    at android.os.Handler.handleCallback(Handler.java:587)
02-09 14:44:14.649: E/AndroidRuntime(15238):    at android.os.Handler.dispatchMessage(Handler.java:92)
02-09 14:44:14.649: E/AndroidRuntime(15238):    at android.os.Looper.loop(Looper.java:130)
02-09 14:44:14.649: E/AndroidRuntime(15238):    at android.app.ActivityThread.main(ActivityThread.java:3687)
02-09 14:44:14.649: E/AndroidRuntime(15238):    at java.lang.reflect.Method.invokeNative(Native Method)
02-09 14:44:14.649: E/AndroidRuntime(15238):    at java.lang.reflect.Method.invoke(Method.java:507)
02-09 14:44:14.649: E/AndroidRuntime(15238):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:878)
02-09 14:44:14.649: E/AndroidRuntime(15238):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:636)
02-09 14:44:14.649: E/AndroidRuntime(15238):    at dalvik.system.NativeStart.main(Native Method) 
```

这是我所有的日志消息...我也不知道如何阅读它...只找到任何可以单击的日志....

如何解决这个问题..??hmm

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-09T07:46:09.717

试试下面的代码

```
db.delete(TableData.DATABASE_TABLE_NAME, "Id=? AND QstnrId=? AND QstnId=?",
          new String[] { Id.toString(), QuestionnaireId, QuestionId }); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-09T07:49:29.100

根据您的例外情况，我猜您的列表存储字符串，而不是光标。

代替

```
Cursor c = (Cursor)l.getItemAtPosition(position);
int _id = c.getInt(c.getColumnIndex(helper.COL_ID));
String nameList = c.getString(c.getColumnIndex(helper.COL_NAMA)); 
```

尝试

```
String nameList = (String) l.getItemAtPosition(position); 
```

# json - 为什么 IE 会给出“显示所有内容”警告？如何以编程方式避免此警告？

> ID：14785889
> 
> 赞同：0
> 
> 时间：2013-02-09T07:18:08.397
> 
> 标签：json, https, autocomplete, geonames

我已经在 HTTPS 页面上实现了 jquery 自动完成功能，该功能适用​​于除 Internet Explorer 之外的所有浏览器。

在 IE 上，它不显示自动弹出列表，并显示警告为**“显示所有内容”。**

我已将 JSON 用于跨域请求。

这是我的代码：

```
function zipAutoCompletet(prefix){

            jQuery( "#"+prefix+"_zip" ).autocomplete({

       source: function (request, response) {
        $.getJSON("http://ws.geonames.org/postalCodeSearchJSON", 
          { 'postalcode_startsWith': request.term, maxRows: 12, style: "full" }, 
          function(data) {
              if(data.postalCodes){
                  var x = $.map( data.postalCodes, function( item ){
                      console.log(item)
                      return {
                                   label: item.placeName + (item.adminCode1 ? ", " + item.adminCode1 : "") + ", " + item.postalCode + ", "+item.countryCode,
                                   value: item.postalCode
                      }
                  });
                  response(x);
              }
          }
        );        
    }, 
```

谁能告诉我如何在没有“显示所有内容”警告的情况下在 IE 中启用自动完成功能？

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-21T00:14:11.747

为了防止 IE 显示该消息，您需要确保一切安全，即一切都应该是 https。

所以我要尝试的第一件事是将你的 json url 更改为 https。

```
$.getJSON("https://ws.geonames.org/postalCodeSearchJSON", 
```

# mysql - 构建一个 wordpress 查询以按类别选择 POSTS 以及 meta_key 的数字范围

> ID：14785891
> 
> 赞同：0
> 
> 时间：2013-02-09T07:18:40.047
> 
> 标签：mysql, wordpress

这是一个房地产 Wordpress 博客。我正在研究一个链接的 3 选择框。

我已经弄清楚了大部分，我不知道该怎么做是查询帖子以仅返回基于类别和价格范围的卧室数的元数据。

我可以根据类别进行选择：

```
 SELECT DISTINCT meta_value
FROM wp_posts
LEFT JOIN wp_term_relationships ON (wp_posts.ID = wp_term_relationships.object_id)
LEFT JOIN wp_term_taxonomy ON 
(wp_term_relationships.term_taxonomy_id = wp_term_taxonomy.term_taxonomy_id)
LEFT JOIN wp_postmeta ON (wp_posts.ID = wp_postmeta.post_id)
WHERE 1
AND wp_term_taxonomy.term_id IN ($_POST[id])
AND meta_key = '_lwi_bedroomsCount'
GROUP BY wp_posts.ID
ORDER BY meta_value ASC 
```

我需要添加到此查询的是这些参数的价格范围：

```
 $args['meta_query'][] = array(
'key'   => '_lwi_price',
'value' => array(strval($pricerange[0]),strval($pricerange[1])),
'compare' => 'BETWEEN',
'type' => 'numeric', ); 
```

如何将它添加到我的 SQL 语句中？

注意：$_POST[id] 是类别 ID。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-12-04T21:54:00.343

```
 ### get term id by Category name ####

    $sql = "SELECT * "
           ."   FROM wp_b9la0x2_terms wp_b9la0x2_terms "
           ."   WHERE (wp_b9la0x2_terms.name = '".$_REQUEST['category_name']."');";   

    $result = $conn->query($sql) or die($conn->error);
    $row = $result->fetch_assoc();

    #### get all post by category and also sub category ###

    $sql = "SELECT wp_b9la0x2_posts.ID,"
            . "       wp_b9la0x2_posts.post_title, "
            . "       wp_b9la0x2_posts.post_content, "
            . "       wp_b9la0x2_posts.post_excerpt, "
            . "       wp_b9la0x2_posts.post_date, "
            . "       wp_b9la0x2_posts.post_date_gmt, "
            . "       wp_b9la0x2_posts.post_modified, "
            . "       wp_b9la0x2_posts.post_modified_gmt, "
            . "       wp_b9la0x2_posts.guid, "
            . "       wp_b9la0x2_term_taxonomy.description, "
            . "       wp_b9la0x2_terms.name, "
            . "       wp_b9la0x2_posts.post_author, "
            . "       wp_b9la0x2_users.display_name as author_name "
            . "  FROM wp_b9la0x2_terms "
            . "  LEFT JOIN wp_b9la0x2_term_taxonomy wp_b9la0x2_term_taxonomy "
            ."          ON wp_b9la0x2_terms.term_id = wp_b9la0x2_term_taxonomy.term_id "
            ."   LEFT JOIN wp_b9la0x2_term_relationships wp_b9la0x2_term_relationships "
            ."          ON wp_b9la0x2_term_taxonomy.term_taxonomy_id = wp_b9la0x2_term_relationships.term_taxonomy_id "
            ."   LEFT JOIN wp_b9la0x2_posts wp_b9la0x2_posts"
            ."           ON wp_b9la0x2_term_relationships.object_id = wp_b9la0x2_posts.ID "
            ."   LEFT JOIN wp_b9la0x2_users wp_b9la0x2_users"
            ."           ON wp_b9la0x2_users.ID = wp_b9la0x2_posts.post_author "
            ."  WHERE (wp_b9la0x2_term_taxonomy.term_id = '".$row['term_id']."' OR `parent` = '".$row['term_id']."')"
            ."   AND (wp_b9la0x2_posts.post_status = 'publish')"
            ."   AND (wp_b9la0x2_posts.post_type = 'post')"
            . "  GROUP BY  wp_b9la0x2_posts.ID"
            . "  ORDER BY wp_b9la0x2_posts.post_date DESC";
    $result = $conn->query($sql) or die($conn->error);
    $res = array();

    while($row = $result->fetch_assoc()) {
        $test = array();
        foreach($row as $key => $val){
            $test[$key] = utf8_encode($val);
        }
       $res[] = $test;
    }
    echo json_encode($res); 
```

# objective-c - NSMutableArray 对象丢失

> ID：14785893
> 
> 赞同：1
> 
> 时间：2013-02-09T07:19:15.493
> 
> 标签：objective-c, ios6.1

我希望这是有道理的......我有一个 NSMutableArray，我试图在其中存储多个 UIScrollView。每个 UIScrollView 将有多个图像，最终目标是能够允许用户垂直滑动类别（每个UIScrollView 的实例）和该类别中的每个图像（UIImageView 的每个实例）的水平。现在，在我让这段代码工作之前，我只是用 1 个图像创建 1 个 UIScrollView，并将其添加到 scrollViewManager。这似乎正确添加了所有内容，但是当我离开此功能时，游戏结束了。我的数组是空的。我不明白。当我添加到数组时，我是否应该进行某种深拷贝，以免它被破坏。也许我明天醒来时会弄清楚，但现在，我想打破眼前的一切。谢谢，

编辑：抱歉缺少细节，我发布这个很晚。我的项目正在使用 ARC，所以我不会在任何地方发布 scrollView。这是我的头文件中 scrollViewManager 的声明：

```
@property (nonatomic, retain) NSMutableArray *scrollViewManager; 
```

这是我用来检索我的滚动视图的代码：

```
UIScrollView *test = (UIScrollView*) [self.scrollViewManager objectAtIndex: 0]; 
```

这是初始化滚动视图和数组的代码：

```
 scrollViewManager = [[NSMutableArray alloc] initWithCapacity: 1];

        UIScrollView *scrollView = [[UIScrollView alloc] initWithFrame:[[UIScreen mainScreen] applicationFrame]];
        [scrollView setBackgroundColor:[UIColor blackColor]];
        [scrollView setCanCancelContentTouches:NO];
        scrollView.indicatorStyle = UIScrollViewIndicatorStyleWhite;
        scrollView.clipsToBounds = YES;     // default is NO, we want to restrict drawing within our scrollview
        scrollView.scrollEnabled = YES;
        scrollView.pagingEnabled = YES;

        NSString *imageName = @"pic1.png";//[NSString stringWithFormat:@"pic%d.jpg", i+1];
        UIImage *image = [UIImage imageNamed:imageName];
        UIImageView *imageView = [[UIImageView alloc] initWithImage:image];

        // setup each frame to a default height and width, it will be properly placed when we call "updateScrollList"
        CGRect rect = imageView.frame;
        rect.size.height = 400;
        rect.size.width = 300;
        imageView.frame = rect;
        imageView.tag = 1;  // tag our images for later use when we place them in serial fashion
        [scrollView addSubview:imageView];            

        [self.scrollViewManager addObject: scrollView]; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-09T08:23:18.397

有些东西有点模糊。例如：

1.  如果没有，您是否使用 ARC，并且您正在任何地方发布您的滚动视图？
2.  你在使用自动创建合成的东西吗？
3.  你的 scrollViewManager 是什么类型的属性（弱、强等）。

如果您在定义属性时自动创建 ivar，则应调用您的 ivar`_scrollViewManager`而不是`scrollViewManager`.

使用`self.scrollViewManager`该方法时使用正确。

我总是反过来做这种事情。当我有这样的财产时：

```
@property (nonatomic, strong) NSMutableArray* myArray; 
```

`self`我总是使用关键字初始化它们：

```
self.myArray = [NSMutableArray new]; 
```

并且在修改它时，我总是使用生成的 ivar：

```
[_myArray addObject:myFineObject]; 
```

我认为这是我从非 ARC 迁移到 ARC 时一直使用的东西。不确定它是否仍然可行，但它按预期工作。

# ios - iOS：如何使用 PickerView

> ID：14785895
> 
> 赞同：1
> 
> 时间：2013-02-09T07:19:35.697
> 
> 标签：ios, objective-c, ios6

我是 iOS 新手。谁能帮助我如何使用`PickerView`显示年份和月份？如何设置每列的大小？

```
- (NSInteger)numberOfComponentsInPickerView:(UIPickerView *)pickerView{
return 2;
}
- (NSString *)pickerView:(UIPickerView *)pickerView titleForRow:(NSInteger)row
            forComponent:(NSInteger)component
{

} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-09T07:40:23.513

只需覆盖委托方法，来自 Moonpreview 应用程序的真实示例：

```
#pragma mark UIPickerViewDataSource
- (NSInteger)numberOfComponentsInPickerView:(UIPickerView *)pickerView {
    return 6;
}
- (NSInteger)pickerView:(UIPickerView *)pickerView numberOfRowsInComponent:(NSInteger)component {
    switch (component) {
        case 0://cn
        return 5;
        case 1://yy
            return 100;
        case 2://mm
            return 12;
        case 3://dd
            return 31;
    case 4://hh
            return 6;
        case 5://tzone
            return 1;
    }
return 0;
}

#pragma mark UIPickerViewDelegate
- (void)pickerView:(UIPickerView *)pickerView didSelectRow:(NSInteger)row inComponent:(NSInteger)component {
    //NSLog(@"pickerView didSelectRow:%i inComponent:%i", row, component);
}

- (NSString *)pickerView:(UIPickerView *)pickerView titleForRow:(NSInteger)row forComponent:(NSInteger)component {
    switch (component) {
        case 0://cn
    {
        return [NSString stringWithFormat:@"%d", kFirstCentury + row*100];
    }
    case 1://yy
    {
        return [NSString stringWithFormat:@"%02d", row];
    }
    case 2://mm
    {
        return [NSString stringWithFormat:@"%02d", row+1];
    }
    case 3://dd
    {   
        return [NSString stringWithFormat:@"%02d", row+1];
    }
    case 4://hh
    {   
        return [NSString stringWithFormat:@"%02d", row*4];
    }
    case 5://tzone
    {   
        switch (row) {
            case 1:
                return @"EST";//eastern
            case 2:
                return @"CST";//central
            case 3:
                return @"MST";//mountain
            case 4:
                return @"PST";//pacific
            default:
                return @"UTC";//universal row 0
        }
    }
    }
    return @"xxx";
}

- (CGFloat)pickerView:(UIPickerView *)pickerView rowHeightForComponent:(NSInteger)component     {
    return 40.0;
}

- (CGFloat)pickerView:(UIPickerView *)pickerView widthForComponent:(NSInteger)component     {
    CGFloat w = 70.0;
    switch (component) {
        case 0://cn
        {
            return 80.0;
        }
        case 1://yy
        {
            return w;
        }
        case 2://mm
        {
            return w;
        }
        case 3://dd
        {   
            return w;
        }
        case 4://hh
        {   
            return w;
        }
        case 5://tzone
        {   
            return 80.0;
        }
    }
    return w;
} 
```

创建选择器：

```
picker = [[UIPickerView alloc] initWithFrame:CGRectMake(0.0, 160.0, 480.0, 160.0)];
picker.delegate = self;
picker.dataSource = self;
picker.showsSelectionIndicator = YES;
[self.view addSubview:picker]; 
```

在 Moonpreview ii 中，必须使用默认值填充选择器：

```
- (void)setPickerDefaults {
    //defaults
    //calculate current values
    NSDate *today = [NSDate date];
    NSCalendar *gregorian = [[NSCalendar alloc] initWithCalendarIdentifier:NSGregorianCalendar];
    NSDateComponents *components = [gregorian components:(NSDayCalendarUnit | NSMonthCalendarUnit | NSYearCalendarUnit | NSHourCalendarUnit) fromDate:today];
    NSInteger year    = [components year];
    NSInteger month   = [components month];
    NSInteger day     = [components day];
    NSInteger hour    = [components hour];
    NSLog(@"setPickerDefaults year: %i month: %i day: %i hour: %i", year-2000, month, day, hour);
    cn = [@"2000" retain];
    yy = [[NSString stringWithFormat:@"%02d", year - 2000] retain];
    mm = [[NSString stringWithFormat:@"%02d", month] retain];
    dd = [[NSString stringWithFormat:@"%02d", day] retain]; 
    hh = [[NSString stringWithFormat:@"%02d", ceil((hour / 4)) * 4] retain];
    tzone = [@"0" retain];
    [picker selectRow:3 inComponent:0 animated:YES];
    [picker selectRow:year-2000 inComponent:1 animated:YES];
    [picker selectRow:month-1 inComponent:2 animated:YES];
    [picker selectRow:day-1 inComponent:3 animated:YES];
    [picker selectRow:ceil((hour / 4)) inComponent:4 animated:YES];
    [picker selectRow:0 inComponent:5 animated:YES];
    [gregorian release];
} 
```

祝你好运！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-09T11:50:25.297

在 PickerView 中显示年份和月份的首选 URL：

[http://www.edumobile.org/iphone/iphone-programming-tutorials/add-datepicker-programmatically-and-display-date-in-iphone/](http://www.edumobile.org/iphone/iphone-programming-tutorials/add-datepicker-programmatically-and-display-date-in-iphone/)

# android - org.andengine.entity.shape.IAreaShape 类型无法解析。

> ID：14785900
> 
> 赞同：4
> 
> 时间：2013-02-09T07:20:18.910
> 
> 标签：android, andengine, physics

我在andEngine中得到的所有错误。

```
The type org.andengine.entity.shape.IAreaShape cannot be resolved. It is indirectly referenced from required .class files 
```

当我使用[本教程](http://www.matim-dev.com/full-game-tutorial---part-11.html)中的以下代码时。

```
PhysicsFactory.createBoxBody(physicsWorld, levelObject, BodyType.StaticBody, FIXTURE_DEF).setUserData("platform1"); 
```

提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2014-06-20T19:57:14.817

您必须从正确的分支获取源代码： [https ://github.com/nicolasgramlich/AndEnginePhysicsBox2DExtension/tree/GLES2-AnchorCenter](https://github.com/nicolasgramlich/AndEnginePhysicsBox2DExtension/tree/GLES2-AnchorCenter)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-05-17T06:06:32.483

GLES2-Anchor 分支中没有 IAreaShape 类。您可能正在混合一些较旧的库。再次尝试下载源。请注意，您的 PhysicsBox2D 扩展也必须来自 GLES2-Anchor 分支。此外，您不应将任何 jar 添加到 buildpath。您应该只看到：

*   安卓 XYZ
*   安卓依赖

并在项目配置的“Android”部分添加库。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-06-30T19:15:37.527

我遇到了同样的问题，它与 AE 站点有关，即使我在下载时选择了“锚定中心”分支，但它看起来并没有什么不同。我不确定我做了什么，但最后我让物理引擎响应了一个 ANCHOR CENTER zip 版本来下载。我只需要物理引擎就可以轻松获取 ANDENGINE ANCHOR CENTER zip 文件。

# sql - 查找过去三天内发布的所有广告的id，Sql

> ID：14785901
> 
> 赞同：1
> 
> 时间：2013-02-09T07:20:19.783
> 
> 标签：sql, oracle

我是 SQL 新手。我有一个表格，其中包含有关广告的信息。我应该使用哪个功能来查找过去三天内发布的所有广告的 ID？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-09T07:27:12.970

```
Select ID --the id field
From tblAds --the ads table
WHERE Ad_Date >= DATEADD(day,-3,getDate()) --the filter. I am assuming Ad-Date is the name of the ad's date field
order by Ad_Date ASC -- order it 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-09T07:31:15.643

对于 Oracle DB，使用这个，

```
SELECT id
FROM tablename
WHERE TRUNC(pdate) >= TRUNC(SYSDATE) - 3; 
```

**[SQLFIDDLE 演示](http://www.sqlfiddle.com/#!4/189dc/1/0)**

# c# - 锁被跳过

> ID：14785905
> 
> 赞同：1
> 
> 时间：2013-02-09T07:20:43.900
> 
> 标签：c#, asp.net, multithreading, thread-safety, locking

我有以下代码可以完成一些数据库工作：

```
[WebMethod]
public void FastBulkAdd(int addmax){
Users[] uploaders = db.Users.Take(addmax).ToArray();

Parallel.ForEach(uploaders, item =>
{
    Account account;
    lock (this)
    {
        account = item.Account;
    }
} 
```

每个用户都有 1 个帐户，DB 通过外键在另一个表中引用该帐户（我确定每个用户都有 1 个帐户）。我必须锁定那段代码，因为多线程数据库连接会产生错误。当我将此设置 addmax 设置为 1（允许 1 个线程执行）时，它工作得很好，但是如果 addmax 大于 1 并且执行了多个线程，则 account 将*始终*为 null，这会在稍后生成异常。这几乎就像锁被跳过了。

**更新：**我不相信帐户总是空的，所以我做了以下事情：

```
int tries = 0;
while (account == null && tries < 100)
{
    lock (this)
    {
        account = item.Account;
    }
    tries++;
} 
```

它奏效了。不是一个非常整洁的解决方案。我想知道问题的原因，以便将来避免这种设计危险。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-09T07:49:37.837

`item.Account`进行数据库查找，对吗？您能否一次将其替换为所有上传者帐户的批量选择？这样，您只需对数据库进行一次选择，然后对数据库进行一次批量更新，并且您不关心同步的数据库访问（无论如何，每次额外的点击都会花费大量时间）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-09T07:35:34.033

而不是锁定`this`创建一个`private static object`并锁定它；你可以参考[这个线程](https://stackoverflow.com/questions/251391/why-is-lockthis-bad)。

此外，您需要验证 item.Account 不为空。另一个问题是，即使您锁定了`Account`，似乎您稍后也在此代码中使用它。即使您正在锁定，这似乎也不正确，然后它可能会在稍后将其保存到数据库的部分中更改，因为它未锁定。请参考以下示例；

```
lock (this)
{
    account = item.Account;
}
DoSomeDatabaseOperation(account); // the account may change here when another thread is also operating. 
```

您也可以调试并行操作；请参阅[此 msdn 页面](http://msdn.microsoft.com/en-us/library/ms164746)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-09T07:59:38.083

你可以使用 [MethodImpl(MethodImplOptions.Synchronized)] 例如

```
 [MethodImpl(MethodImplOptions.Synchronized)]
    [WebMethod]
    public void FastBulkAdd(int addmax)
    {
    } 
```

有关更多详细信息，请参阅以下链接。 [http://msdn.microsoft.com/en-us/library/system.runtime.compilerservices.methodimploptions.aspx](http://msdn.microsoft.com/en-us/library/system.runtime.compilerservices.methodimploptions.aspx)

# winforms - Devexpress 加载问题

> ID：14785906
> 
> 赞同：0
> 
> 时间：2013-02-09T07:20:55.973
> 
> 标签：winforms, devexpress

我设计了一个带有许多 Devexpress 控件的 Devexpress winform。加载时，表单会闪烁。有什么解决方案可以顺利加载我的表格吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-07-31T08:34:06.463

您是否尝试过使用 DataLayoutControl 并设置方法“BeginUpdate”和“EndUpdate”。这应该有助于防止闪烁。

# javascript - 在 kendo ui 网格弹出表单中启用禁用控件

> ID：14785915
> 
> 赞同：1
> 
> 时间：2013-02-09T07:22:57.957
> 
> 标签：javascript, jquery, user-interface, binding, kendo-ui

我使用带有弹出编辑器的网格来插入和编辑网格行。在模板中我使用单选按钮组

以及 viewmodel var viewModel = kendo.observable({ ChequeNaghdiChange:false, ChequeReturnedChange:false ........

NRDisabled 用于禁用和启用控件，它的工作完全可以通过简单的设置 true 或 false 属性 viewModel.set("ChequeNaghdiChange",false) 弹出弹出窗口；kendo.data.binders.NRDisabled = kendo.data.Binder.extend({

```
 refresh: function () {
        if (this.bindings.NRDisabled.get()) {
            this.element.setAttribute("disabled", "disabled");
        } else {
            this.element.removeAttribute("disabled");
        }
    }
}); 
```

看来属性绑定在剑道中有一些问题。最好的问候阿米尔

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-13T13:30:39.097

我可以说我以不同的方式启用和禁用弹出窗口中的控件，我将一个事件附加到网格编辑事件，如下所示。

```
.Events(events => events.Edit("onOrderDesignGridEdit")) 
```

然后在编辑功能中，我设置了我想要使用模型启用或禁用的控件。

```
function onOrderDesignGridEdit(e, a) {
    var model = e.model;
    var overrideTotal = model.OverrideTotal;
    var totalEditor = $("#Total").data("kendoNumericTextBox");
    totalEditor.enable(overrideTotal);            
} 
```

# php - paypal IPN 不向 mysql 添加数据？

> ID：14785916
> 
> 赞同：1
> 
> 时间：2013-02-09T07:23:19.470
> 
> 标签：php, mysql, paypal, paypal-ipn

paypal IPN由于某种原因没有将数据输入mysql数据库！我正在使用贝宝沙箱，付款通过，它们显示在我的沙箱帐户中，但详细信息不会显示在 mysql 中！

这是我的 IPN 文件。尽管我将其称为payments.php，并且我还使用IPN模拟器指向它，但它确实表示IPN发送成功。所以我不知道这里的问题是什么：

```
<?php
// Database variables
$host = "localhost"; //database location
$user = "my details"; //database username
$pass = "pass"; //database password
$db_name = "my details"; //database name

// PayPal settings
$paypal_email = 'MYSANDBOXEMAIL@PAYPAL.COM';
$return_url = 'http://some site/';
$cancel_url = 'http://some site/';
$notify_url = 'http://some site/thanks.php';

$item_name = 'Test Item';
$item_amount = 5.00;

// Include Functions
include("functions.php");

//Database Connection
$link = mysql_connect($host, $user, $pass);
mysql_select_db($db_name);

// Check if paypal request or response
if (!isset($_POST["txn_id"]) && !isset($_POST["txn_type"])){

    // Firstly Append paypal account to querystring
    $querystring .= "?business=".urlencode($paypal_email)."&";  

    // Append amount& currency (£) to quersytring so it cannot be edited in html

    //The item name and amount can be brought in dynamically by querying the $_POST['item_number'] variable.
    $querystring .= "item_name=".urlencode($item_name)."&";
    $querystring .= "amount=".urlencode($item_amount)."&";

    //loop for posted values and append to querystring
    foreach($_POST as $key => $value){
        $value = urlencode(stripslashes($value));
        $querystring .= "$key=$value&";
    }

    // Append paypal return addresses
    $querystring .= "return=".urlencode(stripslashes($return_url))."&";
    $querystring .= "cancel_return=".urlencode(stripslashes($cancel_url))."&";
    $querystring .= "notify_url=".urlencode($notify_url);

    // Append querystring with custom field
    //$querystring .= "&custom=".USERID;

    // Redirect to paypal IPN
    header('location:https://www.sandbox.paypal.com/cgi-bin/webscr'.$querystring);
    exit();

}else{

    // Response from Paypal

    // read the post from PayPal system and add 'cmd'
    $req = 'cmd=_notify-validate';
    foreach ($_POST as $key => $value) {
        $value = urlencode(stripslashes($value));
        $value = preg_replace('/(.*[^%^0^D])(%0A)(.*)/i','${1}%0D%0A${3}',$value);// IPN fix
        $req .= "&$key=$value";
    }

    // assign posted variables to local variables
    $data['item_name']          = $_POST['item_name'];
    $data['item_number']        = $_POST['item_number'];
    $data['payment_status']     = $_POST['payment_status'];
    $data['payment_amount']     = $_POST['mc_gross'];
    $data['payment_currency']   = $_POST['mc_currency'];
    $data['txn_id']             = $_POST['txn_id'];
    $data['receiver_email']     = $_POST['receiver_email'];
    $data['payer_email']        = $_POST['payer_email'];
    $data['custom']             = $_POST['custom'];

    // post back to PayPal system to validate
    $header = "POST /cgi-bin/webscr HTTP/1.0\r\n";
    $header .= "Content-Type: application/x-www-form-urlencoded\r\n";
    $header .= "Content-Length: " . strlen($req) . "\r\n\r\n";

    $fp = fsockopen ('ssl://www.sandbox.paypal.com', 443, $errno, $errstr, 30); 

    if (!$fp) {
        // HTTP ERROR
    } else {    

        fputs ($fp, $header . $req);
        while (!feof($fp)) {
            $res = fgets ($fp, 1024);
            if (strcmp($res, "VERIFIED") == 0) {

                // Used for debugging
                //@mail("you@youremail.com", "PAYPAL DEBUGGING", "Verified Response<br />data = <pre>".print_r($post, true)."</pre>");

                // Validate payment (Check unique txnid & correct price)
                $valid_txnid = check_txnid($data['txn_id']);
                $valid_price = check_price($data['payment_amount'], $data['item_number']);
                // PAYMENT VALIDATED & VERIFIED!
                if($valid_txnid && $valid_price){               
                    $orderid = updatePayments($data);       
                    if($orderid){                   
                        // Payment has been made & successfully inserted into the Database                              
                    }else{                              
                        // Error inserting into DB
                        // E-mail admin or alert user
                    }
                }else{                  
                    // Payment made but data has been changed
                    // E-mail admin or alert user
                }                       

            }else if (strcmp ($res, "INVALID") == 0) {

                // PAYMENT INVALID & INVESTIGATE MANUALY! 
                // E-mail admin or alert user

                // Used for debugging
                //@mail("you@youremail.com", "PAYPAL DEBUGGING", "Invalid Response<br />data = <pre>".print_r($post, true)."</pre>");
            }       
        }       
    fclose ($fp);
    }   
}
?> 
```

**更新：这是function.php ..我希望这可以帮助有人帮我解决这个问题！**

```
<?php
// functions.php
function check_txnid($tnxid){
    global $link;
    return true;
    $valid_txnid = true;
    //get result set
    $sql = mysql_query("SELECT * FROM payments WHERE txnid = '$tnxid'", $link);     
    if($row = mysql_fetch_array($sql)) {
        $valid_txnid = false;
    }
    return $valid_txnid;
}

function check_price($price, $id){
    $valid_price = false;
    //you could use the below to check whether the correct price has been paid for the product

    /* 
    $sql = mysql_query("SELECT amount FROM `products` WHERE id = '$id'");       
    if (mysql_numrows($sql) != 0) {
        while ($row = mysql_fetch_array($sql)) {
            $num = (float)$row['amount'];
            if($num == $price){
                $valid_price = true;
            }
        }
    }
    return $valid_price;
    */
    return true;
}

function updatePayments($data){ 
    global $link;
    if(is_array($data)){                
        $sql = mysql_query("INSERT INTO payments (txnid, payment_amount, payment_status, itemid, createdtime) VALUES (
                '".$data['txn_id']."' ,
                '".$data['payment_amount']."' ,
                '".$data['payment_status']."' ,
                '".$data['item_number']."' ,
                '".date("Y-m-d H:i:s")."' 
                )", $link);
    return mysql_insert_id($link);
    }
}
?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-09T08:35:36.720

尝试`Print`ing 或`echo`ing 这些值替换 - `// Payment has been made & successfully inserted into the Database`

`print $data['item_name']; print $data['item_number'];.......`

从那里我可以更新到正确的地方和错误的地方。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-09T09:27:56.780

看起来你工作有点“盲目”，因为这是一个“无头”脚本，你不知道它在哪里失败。

在各个点添加一些 error_log 行，以便您可以通过脚本检查流程。特别是，在执行数据库查询之前添加 error_log($sql) 会将语句打印到错误日志中。拿这个并尝试在数据库中独立运行它。可能是某些表约束失败而不是 PHP 中的错误

在流程的各个点添加日志行并在这些点打印出变量也将帮助您诊断发生故障的位置，并希望让您更准确地查明错误。

# php - mysql插入不同的值

> ID：14785918
> 
> 赞同：0
> 
> 时间：2013-02-09T07:23:35.630
> 
> 标签：php, mysql, sql, sql-insert

```
$insert = mysql_query("
    INSERT into analytics.pagesummary (Date, avg_load_time, min_load_time, max_load_time) 
    VALUES ($date,$string_avg, $string_min,$string_max)" ) 
    or die('PROBLEM'.mysql_error()); 
```

实际日期值 =`'2013-02-07', '2013-02-08', '2013-02-09'` 触发查询后数据库中的日期值 =`'2004', '2003', '2002'`

显示的其他值`avg_load_time`, `min_load_time`&`max_load_time`是正确的。

我们哪里错了。任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-09T07:25:08.463

因为这些值没有用单引号括起来，并且 mysql 隐式地默默地转换了这些值，所以它应该是

```
INSERT INTO analytics.pagesummary (Date, avg_load_time, min_load_time, max_load_time) 
VALUES ('$date', '$string_avg', '$string_min', '$string_max') 
```

`2013-02-07`插入时变为的原因`2004`是因为它执行算术运算，使得

```
2013 - 02 = 2011 - 07 = 2004
2013 - 02 = 2011 - 08 = 2003
2013 - 02 = 2011 - 09 = 2002 
```

作为旁注，[`SQL Injection`](http://bobby-tables.com/)如果变量的值（*s*）来自外部，则查询很容易受到攻击。请看下面的文章，了解如何预防。通过使用`PreparedStatements`，您可以摆脱在值周围使用单引号。

*   [如何*防止*PHP 中的 SQL 注入？](https://stackoverflow.com/questions/60174/how-to-prevent-sql-injection-in-php)

# google-app-engine - 如何在 Google App Engine 中阻止超过 100 个 dos 尝试子网？

> ID：14785921
> 
> 赞同：2
> 
> 时间：2013-02-09T07:24:01.493
> 
> 标签：google-app-engine, ddos

我的 GAE 应用程序有很多 dos 尝试，我无法将它们减少/组合成少于 100 个子网以适应限制。有没有办法可以阻止超过 100 个子网？

如果 Google App Engine 团队有机会读到这篇文章，我想说我真的很喜欢 GAE，但现在阻止 IP 的方式效率很低。应该有一些功能可以帮助应用程序所有者在请求率或更智能的方面动态地阻止 IP。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-10T15:13:59.780

[使用Guice](http://code.google.com/p/google-guice/)和[Sitebricks](https://github.com/dhanji/sitebricks)创建自己的动态速率限制非常简单。[使用方法拦截器](http://code.google.com/p/google-guice/wiki/AOP)，您可以计算每个 servlet 的每个 IP 地址的请求数。这些计数器可以存储在[memcache](https://developers.google.com/appengine/docs/java/memcache/overview)中，并用于根据您自己的规则快速失败请求。这些可以完全是特定于应用程序的。

```
@Service
class Servlet {
    @Get
    @At("/your/servlet")
    @IpRateLimited
    public Reply<?> foo(Request request) {
        return Reply.with("Hello World");
    }
}

class IpBasedRateLimiter implements MethodInterceptor {
    public Object invoke(final MethodInvocation invocation) throws Throwable {
         // Inspect the request argument on the invoked method to get the IP address
         if (isDenialOfServiceAttempt(invocation)) {
             // Fail the request
             return Reply.saying().error();
         } else {
             // Continue executing the original request
             return invocation.proceed();
         }
    }
}

...
bindInterceptor(Matchers.any(), Matchers.annotatedWith(IpRateLimited.class), 
    new IpBasedRateLimiter());
... 
```

您仍然需要为用于检测 DOS 尝试的 CPU 时间付费。但是只要您的算法足够激进，这些成本就会很小，例如一个内存缓存获取和检查条件。在 GAE 提供自己的动态 DOS 保护之前，我会这样做。

# php - 设置脚本以触发 WP 的 Search Unleashed Re-index 功能（用于 cron）

> ID：14785930
> 
> 赞同：1
> 
> 时间：2013-02-09T07:25:33.320
> 
> 标签：php, jquery, wordpress, indexing, cron

Search Unleashed 应该会在每次有人创建新帖子时自动将新帖子添加到其索引中。但是，对于我们的任何自定义帖子类型下的帖子，这似乎都不会发生。

我可以使用 SU 的重新索引按钮从仪表板内部手动触发重新索引。但我想使用 cron 将其自动化。

我现在正在尝试设置一个可以通过 cron 运行的脚本。这是我到目前为止所拥有的：

```
<?php

    // Fire up wordpress
    include $_SERVER['DOCUMENT_ROOT'] . '/wp-load.php';

    /*
     * We're calling this function from the plugin folder, inside the content
     * directory (as opposed to the admin directory) – so when wp-load is called,
     * we're not going to be in the admin section, and we're not going to get access
     * to those functions.  On the bright side, we also don't have to deal with
     * WordPress forcing you to login.  Since we still need those admin functions,
     * include wp-admin/admin-functions.php.  This loads up the admin side and gives
     * us access to the admin functions
    */
    include $_SERVER['DOCUMENT_ROOT'] . '/wp-admin/admin-functions.php';
?>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
    <script type="text/javascript" >
        $.noConflict();
        jQuery(document).ready(function ($) {
        jQuery('#wrapper').Progressor( {
            start:    jQuery('input[name=reindex]'),
            cancel:   'Cancel',
            url:      '<?php echo admin_url('admin-ajax.php') ?>',
            nonce:    '<?php echo wp_create_nonce ('searchunleashed-index')?>',
            finished: 'Finished!'
        });
    });
    </script>
<?php

?> 
```

但是，它并没有起到作用。有什么我想念的吗？

# cakephp - Cakephp 脚手架，留下还是移除？

> ID：14785932
> 
> 赞同：1
> 
> 时间：2013-02-09T07:25:43.973
> 
> 标签：cakephp, scaffold

在部署阶段处理脚手架的最佳方式是什么？

放在那里？但是，保护访问权限的最佳方法是什么？

去掉它？但是我需要另一个系统来访问所有数据，对吧？

人们通常如何处理 CakePHP 中在构建过程中非常有用的脚手架？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-09T10:00:27.847

大多数人在接近部署时不再使用脚手架。这就是“烘焙”发挥作用的地方。

您通常只搭建脚手架，同时仍然大量更改数据库结构。一旦它变得稳定，您就可以使用自定义烘焙模板将您的视图烘焙到真实文件。实际上，我从不使用脚手架，因为烘焙具有更多优势（例如完全自定义模板输出。并且重新烘焙并不是什么大不了的事。实现起来非常快。

# c# - 监视 exe\dll 使用的资源

> ID：14785933
> 
> 赞同：6
> 
> 时间：2013-02-09T07:25:45.003
> 
> 标签：c#, windows, resources, runtime

如何查看特定进程以了解它在运行时使用了哪些资源（例如声音、图片、光标和注册表项）？

我必须使用 C# 以*编程*方式执行此操作（例如，使用 Windows API 或任何第三方库）。

任何帮助表示赞赏。谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2014-02-17T23:19:30.187

我会坚持性能计数器。有一些用于

*   记忆
*   GDI 句柄（位图、字体、...）
*   句柄（文件、注册表项、事件、互斥体、套接字、进程……）
*   窗口（用户对象）

使用性能计数器无法确定确切的类型，但如果您泄漏某些内容，它可以为您提供提示。如果您想知道哪些句柄可以使用 SysInternals 中的句柄，这将为您提供可以解析的每个进程的良好输出。

如果要修复句柄泄漏，则需要使用调试器 (Windbbg) 并使用 !handle 扩展来开始跟踪每个句柄的所有获取/释放调用堆栈，以便稍后获得已分配但未分配句柄的统计信息还没有释放。

您的问题有点宽泛，因为确定资源泄漏的确切策略取决于泄漏的性质。EasyHook 是一个很好的解决方案，可以跟踪所有资源获取/释放调用并自动记录它们。

如果您想使用例如 C# 自动化调试器，您可以使用[http://wmemoryprofiler.codeplex.com/](http://wmemoryprofiler.codeplex.com/)，它基本上是 Windbg 的托管包装器，它甚至允许您自行调试您的应用程序。

当您只想了解如何获取各种资源的分散数据的原理时，您应该阅读 Process Hacker 的代码。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-02-12T05:33:37.377

您想要 GDI 对象还是 Win32 句柄？Win32 句柄可以使用`NtQuerySystemInformation`WinAPI 函数获得。您可以在这些 ProcessHacker 源代码中找到与句柄相关的任务的 C# 代码：http: [//sourceforge.net/p/processhacker/code/HEAD/tree/1.x/trunk/ProcessHacker.Native/Windows.cs](http://sourceforge.net/p/processhacker/code/HEAD/tree/1.x/trunk/ProcessHacker.Native/Windows.cs)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-02-17T12:41:54.330

[EasyHook](http://easyhook.codeplex.com/)将允许您拦截 Windows API 调用。这是一个进程进行的所有文件访问的[简单示例](http://www.codeproject.com/Articles/27637/EasyHook-The-reinvention-of-Windows-API-hooking#_1_2)。[似乎也支持](https://stackoverflow.com/questions/21722555/easyhook-32-bit-application)注册表调用。

# asp.net - 在 GridView 中为 AutoCompleteExtender 设置 ContextKey

> ID：14785937
> 
> 赞同：0
> 
> 时间：2013-02-09T07:26:20.887
> 
> 标签：asp.net, ajax, autocompleteextender

我在 GridView 中有一个 AJAX AutoCompleteExtender，如下所示：

```
<asp:GridView
    ID="GV1"
    runat="server"
    AllowPaging="True"
    OnPageIndexChanging="GV1_OnPageIndexChanging"
    OnRowCommand="GV1_RowCommand">
    ...

    <asp:TextBox 
        ID="txt1" 
        runat="server" 
        onkeyup = "SetContextKey()">
    </asp:TextBox>

    <cc1:AutoCompleteExtender
        ID="AutoCompleteExtender1"
        runat="server"
        TargetControlID="txt1"
        ServiceMethod="GetACEList"
        ServicePath="AutoComplete.asmx"
        UseContextKey = "true"
        MinimumPrefixLength="1"
        EnableCaching="true"
        CompletionSetCount="1"
        CompletionInterval="100"
        CompletionListCssClass="autocomplete_completionListElement"
        CompletionListItemCssClass="autocomplete_listItem"
        CompletionListHighlightedItemCssClass="autocomplete_highlightedListItem">
    </cc1:AutoCompleteExtender>

    ...
</asp:GridView> 
```

**尝试设置上下文键时，我无法** `AutoCompleteExtender` **在客户端和服务器端访问。**

在客户端，我尝试过：

```
function SetContextKey() {
    $find('AutoCompleteExtender1').set_contextKey($get("<%=ddlCountry.ClientID%>").value);
} 
```

但 JavaScript 无法找到“AutoCompleteExtender1”对象。*我意识到这是因为生成的 HTML 中有很多“AutoCompleteExtender1”对象，每个对象都有一个唯一的 ID。*

然后我找到[了这篇文章](http://www.aspdotnetcodes.com/AutoComplete_Textbox_Addtional_Parameters.aspx)，并尝试在服务器端设置上下文键：

```
protected void ddlCountry_OnSelectedIndexChanged(object sender, EventArgs e) {
    AutoCompleteExtender1.ContextKey = ddlCountry.SelectedValue;
} 
```

但代码编译失败并出现错误： `The name 'AutoCompleteExtender1' does not exist in the current context`

**问题：**
如何`AutoCompleteExtender1`在下拉列表的选定索引更改上访问对象，以便设置上下文键？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-10T15:58:59.627

知道了！我修复了我在服务器端错误地访问对象的方式，它起作用了！

这是服务器端代码——在下拉列表的选定索引更改时，我循环遍历 的每一行`GridView`，并将每个`AutoCompleteExtender`对象设置`ContextKey`为下拉列表的选定值：

```
protected void ddlCountry_OnSelectedIndexChanged(object sender, EventArgs e) {

    foreach (GridViewRow gvRow in gvGV1.Rows) {

        AjaxControlToolkit.AutoCompleteExtender AutoCompleteExtender1 
         = (AjaxControlToolkit.AutoCompleteExtender)gvRow.FindControl("AutoCompleteExtender1");

        AutoCompleteExtender1.ContextKey = ddlCountry.SelectedValue;
    }
} 
```

希望这可以帮助遇到这个问题的人！

**PS：**
*我放弃了尝试在客户端实现相同的目标。我相信能够在服务器端（在 C# 中）设置上下文键在灵活性方面有很多优势（比如能够在需要时更改上下文键，而不仅仅是更改下拉菜单）。不过，如果有人知道如何在客户端（在 JavaScript 中）完成它，请分享。*

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2016-06-27T10:48:52.137

```
var grid = document.getElementById("<%= grdAddItems.ClientID%>");
for (var i = 0; i < grid.rows.length - 1; i++) {
var txtAmountReceive = $("input[id*=txt1]")
var GridRowID = (txtAmountReceive[i].valueOf('id').id).replace("txt1", "");
var AutoCompleteExt = GridRowID + 'AutoCompleteExtender1';

$find(AutoCompleteExt).set_contextKey("1");

} 
```

# javascript - 获取已授权的 Google 帐户/Google 分析 API 的未读计数

> ID：14785943
> 
> 赞同：0
> 
> 时间：2013-02-09T07:26:56.637
> 
> 标签：javascript, gmail, google-apps-script

我有一个仪表板，其中包含来自谷歌分析 api 的不同数据。一切正常。现在我想为关于同一个帐户的所有未读邮件获取一个计数器，该帐户已被授权。我怎样才能做到这一点？我宁愿在 javascript 中执行此操作。谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-09T21:21:44.583

要计算 Gmail 邮箱中的未读邮件，您可以使用Google Apps 脚本中的[Gmail 服务](https://developers.google.com/apps-script/service_gmail)，特别是[GmailThread#isUnread](https://developers.google.com/apps-script/class_gmailthread#isUnread)。

这是一个例子：

```
// Count unread threads of your inbox
var unreadCount = 0;
var threads = GmailApp.getInboxThreads();
for (var i = 0; i < threads.length; i++) {
  if (threads[i].isUnread()) {
      unreadCount++;
  }
  Logger.log('Unread? ' + threads[i].isUnread()); 
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-10T08:52:40.957

在（您的？或不...）评论/答案之后，彼得的代码在这样的条件下移动日志时运行良好，甚至更好（更易于阅读；-）

```
function test(){
var unreadCount = 0;
var threads = GmailApp.getInboxThreads();
for (var i = 0; i < threads.length; i++) {
  if (threads[i].isUnread()) {
      unreadCount++;
  Logger.log('Unread? ' + threads[i].isUnread()+' - '+threads[i].getFirstMessageSubject()); 
  }
}
Logger.log('unreadCount = '+unreadCount)
} 
```

# javascript - 使用全局变量外部文档准备好javascript？

> ID：14785947
> 
> 赞同：1
> 
> 时间：2013-02-09T07:27:50.643
> 
> 标签：javascript

通过这个网站，我看到了一些关于如何更新文档内部的全局变量的建议，然后在文档外部使用它。我已经尝试了这些的许多组合，但这些似乎都不起作用。有什么帮助吗？我错过了什么？

```
test = 0 ; 
```

或者

```
var test = 0; 
```

或者

```
test; 
```

或者

```
var test; 
```

或根本没有准备好文件外的声明

然后

```
 $(document).ready(function(){
  test = 4;
}); 
```

然后后来...

```
alert(test); 
```

输出：0，或未定义。为什么哦，你为什么不像我想要的那样输出 4！我知道，我希望我可以使用一个正常的功能，这很容易，但我不能。我需要使用准备好的文档来获得一些 json/jplot 材料才能工作。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-09T07:34:01.383

`test = 4;`将创建一个全局变量并将其设置为 4。它相当于更显式的`window.test = 4`.

在创建全局变量之前，它的值将作为未定义返回。

您需要确保`alert(test)`在文档就绪处理程序运行后调用。这意味着您要么需要在事件处理程序中调用它，要么需要从文档内部调用一个函数。

如果您只是`alert(test)`在文档就绪处理程序下方调用，它将在页面加载时立即执行 - 此时其值为`undefined`. 仅在文档准备好后才`test`设置为 4。

还要注意，任何被调用`test`的局部变量都会影响全局变量，也就是说，将使用局部变量的值而不是全局变量的值。您可以通过使用来避免这种情况`window.test`。

* * *

你可以做两件事：

*   将 id 添加到表中的字段，然后在文档就绪处理程序中设置它们的内容
*   在页面的其余部分完成加载并设置测试后插入表格

我推荐第一种方法：

```
$(document).ready(function(){
  test = 4;
  document.getElementById("test-value").innerHTML = test
}); 
```

使用此 html 代码：

```
<table>
    <!-- ...whatever else you have -->
    <td id="test-value"></td>
    <!-- ... -->
</table> 
```

* * *

如果您想使用`<script>document.write(test)</script>`，您需要通过在文档就绪处理程序中将 innerHTML（见上文）设置为“...”来插入表格的 html 代码。

你可以这样做，但它会比需要的更痛苦。如果您只是将 innerHTML 设置为“document.write(test)”之类的内容，浏览器将认为包含文档就绪处理程序的脚本标记已关闭。

相反，我建议您使用模板引擎，例如[`_.template`underscore.js](http://underscorejs.org/#template)。然后，您基本上将 HTML 放在脚本标记中，并且仅在 document.ready 中显示它。此时，您将能够指定将在模板内替换的变量。

# jquery - 单击事件在jquery中不起作用

> ID：14785951
> 
> 赞同：0
> 
> 时间：2013-02-09T07:28:10.230
> 
> 标签：jquery

我正在使用 jquery，下面是我的代码，我的问题是无论什么点击事件都不起作用。

我可以使用正确的方法记录`qid`ie 问题 id`console.log(qid)`

```
function prepareQuestionHtml(questionList){

    var questions = "";
    for(var i = 0; i < questionList.length; i++){
        var questionId = questionList[i].qid;
        questions += "<div class='ui-link qst' id='" + questionId + "' >" + questionList[i].qst + "</div>";

        (function () {
            var qid = questionId;
            console.log(qid);
            $("#" + qid).click(function(){
                console.log("aaaaa");
                openAnswer(localStorage.selected_category, qid);
            });
        })();
    }
    $("#category-content").html(questions);
}

function openAnswer(category, questionId)
{
    console.log(category, questionId);
} 
```

这里可能是什么问题？`console.log("aaaaa");`单击链接时甚至没有达到声明。

编辑 ：

我正在使用以下两个 JS 文件

*   jquery.min.js
*   jquery.mobile-1.2.0.min.js

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-09T07:33:49.743

试试这个：

```
function prepareQuestionHtml(questionList){

    var questions = "";
    for(var i = 0; i < questionList.length; i++){
        var questionId = questionList[i].qid;
        questions += "<div class='ui-link qst' id='" + questionId + "' >" + questionList[i].qst + "</div>";
    }

    $("#category-content")
      .html(questions)
      .on('click', 'ui-link', function(){
        var $this = $(this)
          , qid   = $this.attr('id')
        ;//var

        openAnswer(localStorage.selected_category, qid);
      })
    ;//#category-content
}

function openAnswer(category, questionId)
{
    console.log(category, questionId);
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-09T07:38:46.810

我已将您的代码缩短为：

```
var questions = '';

for(var i = 0; i < questionList.length; i++){
    var questionId = questionList[i].qid;
    questions += "<div class='ui-link qst' id='" + questionId + "' >" + questionList[i].qst + "</div>";

    // attach click handler to `#questionId`
}
$("#category-content").html(questions); 
```

这里的问题是您试图在**将节点插入**DOM 之前附加单击处理程序。

快速破解：

```
(function (qid) {
    console.log(qid);
    $("#category-content").on('click', "#" + qid, function() {
        console.log("aaaaa");
        openAnswer(localStorage.selected_category, qid);
    });
})(questionId); 
```

但是，我建议做一个单击处理程序：

```
$('#category-content').on('click', '.qst', function() {
    // handle the click here
}); 
```

我不确定你为什么使用`this.openAnswer()`. 默认情况下`this`将绑定到被单击的元素，并且该元素可能没有该方法。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-09T07:47:50.930

这有更好的工作机会

```
function openAnswer(category, questionId)
{
    console.log(category, questionId);

}

$(function () {
  var questionList = {};
  var container = $("#category-content")
    for(var i = 0; i < questionList.length; i++){
        var questionId = questionList[i].qid;
        container.append("<div class='ui-link qst' id='" + questionId + "' >" + questionList[i].qst + "</div>");

    }

    container.on('click', '.qst',function() {
            console.log("aaaaa");
            openAnswer(localStorage.selected_category, this.id);
        });
}); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-09T07:48:02.937

我认为它是[事件委托](http://api.jquery.com/on/)和[数据 API的最佳候选者](http://api.jquery.com/data/)

```
function prepareQuestionHtml(questionList){
    var questions = '';
    for(var i = 0; i < questionList.length; i++){
        var questionId = questionList[i].qid;
        questions += '<div data-qid="' + questionId + '" class='ui-link qst' id='' + questionId + '' >' + questionList[i].qst + '</div>';
    }
    $('#category-content').html(questions);
}

$(function(){
    $('#category-content').on('click', '.qst', function(e){
        openAnswer(localStorage.selected_category, $(e.currentTarget).data('qid'));
    });
});

function openAnswer(category, questionId) {
    console.log(category, questionId);
} 
```

在这里，我们向容器节点注册一个单击事件，并监听`.qst`元素中的任何单击。当点击发生时，我们获取存储在元素中的`qid`数据 ( )。`data-qid`

# javascript - 如何在 JsDoc 中记录具有多个参数顺序选项的函数？

> ID：14785955
> 
> 赞同：2
> 
> 时间：2013-02-09T07:28:46.960
> 
> 标签：javascript, jsdoc

我有一个从类中删除事件处理程序的函数`EventEmitter`。它看起来像这样：

```
EventEmitter.prototype.remove_handler = function(event_name, handler) {
    if(arguments.length < 2) {
        handler = event_name;
        event_name = null;
    }

    // ...
}; 
```

可以使用事件名称和处理程序调用该函数，也可以仅使用处理程序调用该函数。如果存在事件名称，则从该特定事件中删除处理程序，否则从事件发射器中完全删除。

如何在 JsDoc 中记录此类场景？在这种情况下，我当然可以只记录出现的参数并注意“可以省略 event_name，在这种情况下（等...）”，但我当然可以想象不可能的情况。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2014-04-04T00:25:40.497

您可以使用`@also`标签提供多个方法签名：

```
/**
 *
 * @param {String} event_name
 * @param {Function} handler
 *
 * @also
 *
 * @param {Function} handler
 */
EventEmitter.prototype.remove_handler = function(event_name, handler) { 
```

# c# - 使用 ajax 时 Azure Blob 下载在 MVC 项目中不起作用

> ID：14785960
> 
> 赞同：1
> 
> 时间：2013-02-09T07:30:30.337
> 
> 标签：c#, asp.net-mvc, jquery, azure

我有这个功能，它执行实际的文件下载（在一个名为 AzureTest 的控制器中）；它是一个 MVC 项目：

```
private bool DownloadKit()
      {
         bool bReturn, bSuccess = false;

         CloudStorageAccount account = CloudStorageAccount.FromConfigurationSetting("ConnString");
         CloudBlobClient cbcClient = account.CreateCloudBlobClient();
         BlobRequestOptions options = new BlobRequestOptions();
         options.UseFlatBlobListing = true;

         CloudBlobContainer cbcFiles = new CloudBlobContainer("files", cbcClient);

         CloudBlob cbKit = cbcFiles.GetBlobReference("Kit.exe");

         ControllerContext.HttpContext.Response.Clear();
         ControllerContext.HttpContext.Response.ContentType = "application/octet-stream";
         ControllerContext.HttpContext.Response.AddHeader("Content-Disposition", "attachment; filename=Kit.exe");

         MemoryStream msFile = new MemoryStream();
         cbKit.DownloadToStream(msFile);
         msFile.Position = 0;
         ControllerContext.HttpContext.Response.OutputStream.Write(msFile.ToArray(), 0, msFile.ToArray().Length);
         ControllerContext.HttpContext.Response.Flush();

         bReturn = bSuccess;
         return bReturn;
      } 
```

这由以下函数调用：

```
[HttpPost]
  public JsonResult Download()
  {
     try
     {
        bool bDlKit = DownloadKit();
     }
     catch (Exception ex)
     {
        //ToDo
     }

     return Json(null);
  } 
```

现在 cshtml 文件具有以下 javascript 代码：

```
 $("#btnGetKit").click(function () {
    $("#btnGetKit").hide();
    $.ajax({
                url: "AzureTest/Download",
                type: "POST",
                success: function () {
                     $("#btnGetKit").show();
                     }
        })
    } 
```

这是问题所在：当我在页面加载时调用 DownloadKit() 时，一切正常，并提示我下载文件。当我使用ajax机制时，即使代码运行良好，也没有提示下载文件。就好像没有写入 OutputStream 一样。

我将非常感谢有人提供一些指点。我是 MVC 的新手，所以仍然在寻找我的方式。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-09T12:34:13.323

I don't think it's possible. Based on this thread: [Download a file by jQuery.Ajax](https://stackoverflow.com/questions/4545311/how-to-download-a-file-by-jquery-ajax), JavaScript cannot save files directly to a user's computer. However do take a look at jQuery File Download Plugin ([http://johnculviner.com/post/2012/03/22/Ajax-like-feature-rich-file-downloads-with-jQuery-File-Download.aspx](http://johnculviner.com/post/2012/03/22/Ajax-like-feature-rich-file-downloads-with-jQuery-File-Download.aspx)) and see if that works for you.

# assembly - 无效的操作数类型错误

> ID：14785964
> 
> 赞同：2
> 
> 时间：2013-02-09T07:31:21.230
> 
> 标签：assembly, operating-system, x86, nasm

NASM 给出以下错误消息：

```
> ipl.asm:33: error: invalid operand type 
```

出现错误的地方：

```
 RESB    0x7dfe-$ 
```

这是代码：

```
 ORG     0x7c00

        JMP     entry

entry:

        MOV     AX,0
        MOV     SS,AX
        MOV     SP,0x7c00
        MOV     DS,AX
        MOV     ES,AX

        MOV     SI,msg
putloop:

        MOV     AL,[SI]
        ADD     SI,1
        CMP     AL,0
        JE      fin
        MOV     AH,0x0e
        MOV     BX,15
        INT     0x10
        JMP     putloop
fin:

        HLT
        JMP     fin

msg:

        DB      0x0a, 0x0a
        DB      "hello, world"
        DB      0x0a
        DB      0

        RESB    0x7dfe-$

        DB      0x55, 0xaa 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-09T07:42:44.030

这*可能*是因为操作数 for`resb`必须是[关键表达式](http://www.nasm.us/doc/nasmdoc3.html#section-3.8)。^(这意味着它必须在汇编程序(a))的第一遍中是可知的。

相反，您可以做的是确保仅使用第一遍中已知的值。

首先，在 0x7c00 处放置一个开始标签：

```
 org 0x7c00
start:    jmp entry 
```

然后更改空间预留定义另一个标签，并使用它们之间的差异来计算需要多少字节：

```
marker:   resb 0x1ffe-(marker-start) 
```

它的作用是计算已经输出的字节数（`marker-start`，在语句之前已知的两个值`resb`）并从您想要的字节数中减去它（`0x7dfe - 0x7c00 = 0x01fe`）。然后它保留那么多空间，如清单输出所示：

```
0000039 00                       DB      0
000003A <res 000001C4>   marker: RESB    0x01fe-(marker-start)
        * warning: uninitialized space declared in .text section: zeroing
000001FE 55AA                    DB      0x55, 0xaa 
```

您可以看到最后两个字节的偏移量`0x01fe`，给定`0x7c00`基数，实际上`0x7dfe`是所需的。

* * *

^((a))我认为，您的表达式被认为是不可知的原因必须与它使用实际地址这一事实有关，而在第 1 步中不一定知道。这得到了`0xffff - start`同样会导致相同错误的事实的支持尽管它使用了一个真实的、已经声明的标签而不是`$`.

通过使用类似的表达式`0xffff - (label1 - label2)`，标签本身可能是未知的，但它们之间的区别是已知的*。*

# nosql - Cassandra 数据模型

> ID：14785965
> 
> 赞同：2
> 
> 时间：2013-02-09T07:31:34.303
> 
> 标签：nosql, cassandra, data-modeling

我尝试为问答游戏统计建立一个后端：我想知道全球每张图像的识别率以及按国家/地区划分的图像识别率。

目前数据模型是：

```
表结果（
  国家文本，
  浮动百分比，
  image_id 文本，
  失败的诠释，
  好的，
  显示int，
  主键（国家、百分比、image_id）
);

```

我可以按国家/地区查询结果，但无法获得全局结果（百分比较高的图像）。

有什么提示吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-09T15:24:55.700

可以定义“TOTAL”国家，该国家将保存所有国家/地区的统计数据总和。

PS`percent`由于 cassandra 的最终一致性，将主键作为主键的一部分似乎不是一个好主意：不可能对`percent`字段进行原子更新。

我认为有两种可能的情况：要么数据集足够小 - 然后任何在`percent`字段上具有二级索引的 SQL DB 都会比 cassandra 做得更好，或者 SQL DB 的数据太多 - 然后 Cassandra 有这些数据模型也不起作用，只有部分计数的映射/减少会起作用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-10T03:58:30.523

你需要两个 CF。

另一种方法是使用排序分区并使用 CompoteType 的键，因此您的键不是 PRIMARY KEY (country, percent, image_id) 而是 PRIMARY KEY ((country, percent, image_id))。

您还需要另一列 image_id ，您可以在该 image_id 上放置一个二级索引，以便您可以查询 image_id=x

# groovy - 使用 Groovy 更改数组中对象位置的最有效方法

> ID：14785966
> 
> 赞同：0
> 
> 时间：2013-02-09T07:31:52.753
> 
> 标签：groovy

假设我有以下内容：

```
['a', 'b', 'c', 'd', 'e', 'f', 'g'] 
```

我必须将其更改为：

```
['a', 'b', 'f', 'c', 'd', 'e', 'g'] 
```

最有效的方法是什么？

更新：我实际上需要移动元素，而不是交换。请注意对我上面示例的更改。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-09T07:59:56.660

我不知道“高效”是指“以清晰/可读的方式”，还是指性能。如果是前者并且您想就地进行替换，则可以使用方便`[]`的列表运算符：

```
def arr = ['a', 'b', 'c', 'd', 'e', 'f', 'g']

arr[2, 5] = arr[5, 2]

assert arr == ['a', 'b', 'f', 'd', 'e', 'c', 'g'] 
```

**更新**：问题不是交换两个元素，而是将元素移动到另一个位置。要就地执行此操作，您可以使用一些 Java [ArrayList](http://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html)方法，这些方法允许您从给定位置添加和删除元素。我认为这是非常可读的：

```
def arr = ['a', 'b', 'c', 'd', 'e', 'f', 'g']

arr.add(2, arr.remove(5))

assert arr == ['a', 'b', 'f', 'c', 'd', 'e', 'g'] 
```

# mysql - 查看数据库 MySQL 中的计算值

> ID：14785967
> 
> 赞同：1
> 
> 时间：2013-02-09T07:31:53.350
> 
> 标签：mysql

```
 SELECT FirstName, DateOfBirth, CURDATE(),
 (YEAR(CURDATE())-YEAR(DateOfBirth))
 - (RIGHT(CURDATE(),5)<RIGHT(DateOfBirth,5))
 AS age
 FROM basicinformation; 
```

这是我的查询，但我想要的是在达到年龄后我只能查看 18 岁以上的人。但是如果我添加年龄大于或等于 18 的地方。我得到查询错误。这可能是因为年龄是“as”（临时字段名）而不是真正的字段名。我希望有人可以帮助我，因为如果他们已经准备好投票，我将使用它来自动检查年龄。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-09T07:47:14.797

只需添加`having age >=18`.

```
SELECT FirstName, DateOfBirth, CURDATE(),
 (YEAR(CURDATE())-YEAR(DateOfBirth))
 - (RIGHT(CURDATE(),5)<RIGHT(DateOfBirth,5))
 AS age
 FROM basicinformation
HAVING age>=18; 
```

# ember.js - Ember.js - 使用相同模板新建和编辑路由

> ID：14785974
> 
> 赞同：1
> 
> 时间：2013-02-09T07:33:03.240
> 
> 标签：ember.js

我有一个像这样创建一个新模型的向导：

```
WZ.StepsRoute = Em.Route.extend
  renderTemplate: ->
    @render 'exercises/new'
  model: ->
    WZ.Exercise.createRecord()

WZ.StepsOneRoute = Em.Route.extend
  model: ->
    @modelFor 'steps'
  renderTemplate: ->
    @render 'exercises/stepsone'

WZ.StepsTwoRoute = Em.Route.extend
  model: ->
    @modelFor 'steps'
  renderTemplate: ->
    @render 'exercises/stepstwo' 
```

这很好用，但如果我想从编辑路线输入 StepsOneRoute/StepsTwoRoute 怎么办？

我如何有条件地从编辑路线中拉出现有模型，而不是拉出返回新记录的stepsRoute currentModel？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-09T21:43:58.343

您将需要一些控制器，它将存储当前模型。 `StepsRoute`将创建一个新模型并将其设置到该控制器，Edit route 将获取要编辑的模型并将其设置到该控制器，`StepsOneRoute`并且`StepsTwoRoute`路由将从该控制器检索它。

# java - 等待android中的调试器错误

> ID：14785978
> 
> 赞同：0
> 
> 时间：2013-02-09T07:33:13.643
> 
> 标签：java, android, eclipse, android-4.0-ice-cream-sandwich

我刚刚通过 Windows 中的 Eclips 创建了一个示例 Hello World。如果我调试应用程序，模拟器会停止说等待调试器，

最近我更新到 API 16 和 17。

这是控制台消息：

```
[2013-02-09 12:56:45 - helloworld] ------------------------------
[2013-02-09 12:56:45 - helloworld] Android Launch!
[2013-02-09 12:56:45 - helloworld] adb is running normally.
[2013-02-09 12:56:45 - helloworld] Performing com.example.helloworld.MainActivity activity launch
[2013-02-09 12:56:45 - helloworld] Automatic Target Mode: launching new emulator with compatible AVD 'FROYO'
[2013-02-09 12:56:45 - helloworld] Launching a new emulator with Virtual Device 'FROYO'
[2013-02-09 12:56:47 - helloworld] New emulator found: emulator-5554
[2013-02-09 12:56:47 - helloworld] Waiting for HOME ('android.process.acore') to be launched...
[2013-02-09 12:58:36 - helloworld] ------------------------------
[2013-02-09 12:58:36 - helloworld] Android Launch!
[2013-02-09 12:58:36 - helloworld] adb is running normally.
[2013-02-09 12:58:36 - helloworld] Performing com.example.helloworld.MainActivity activity launch
[2013-02-09 12:58:37 - helloworld] Automatic Target Mode: using existing emulator 'emulator-5554' running compatible AVD 'FROYO'
[2013-02-09 12:58:37 - helloworld] Uploading helloworld.apk onto device 'emulator-5554'
[2013-02-09 12:58:39 - helloworld] Installing helloworld.apk...
[2013-02-09 12:58:43 - helloworld] Success!
[2013-02-09 12:58:44 - helloworld] Starting activity com.example.helloworld.MainActivity on device emulator-5554
[2013-02-09 12:58:45 - helloworld] ActivityManager: Starting: Intent { act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] cmp=com.example.helloworld/.MainActivity } 
```

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-02-10T09:00:09.750

最好的解决方案是从 Google 获取 ADT 的新副本并开始开发，它只有 399 MB。

# html - Li 标记在 Chrome 中未正确对齐。如何解决？

> ID：14785979
> 
> 赞同：0
> 
> 时间：2013-02-09T07:33:14.907
> 
> 标签：html, css, sass

我正在尝试创建一个菜单并为其设置样式。我还使用了一些 CSS 动画来显示悬停时的描述（跨度）。此菜单在 Firefox 下正常工作。但在 Chrome 中，菜单上方有一个空白区域。当我通过 Firebug 检查 li 标签时，它告诉我 li 元素没有正确对齐。它向上移动。它没有发生在Firefox上。（请检查下面的屏幕截图）。我怎样才能解决这个问题？

**更新**：我刚刚将网站上传到 Heroku：[http](http://aqueous-wildwood-4051.herokuapp.com/) ://aqueous-wildwood-4051.herokuapp.com/ 。您将在此实时站点中看到该问题。

**在铬：** ![在此处输入图像描述](../Images/813c9f752b5bbf00e7f3a541cc4646b7.png)

**在火狐中**： ![在此处输入图像描述](../Images/72ad41f06ab0a29dff28bc4cf91aba3b.png)

**这是我的侧边栏的代码：**

```
 <aside id="sidebar" role="complementary">
      <nav id="side-nav" role="navigation">
        <ul>
          <li  ><a href="/"><div id='side-nav-home' class='listitem'><span class='listtitle'>Home</span><span class='description'>Home page of SLNYAA</span></div></a></li>
          <li  ><a href="/about"><div id='side-nav-about' class='listitem'><span class='listtitle'>About Us</span><span class='description'>Learn more about us</span></div></a></li>
          <li  ><a href="#"><div id='side-nav-handbook' class='listitem'><span class='listtitle'>Handbook</span><span class='description'>Read our handbook</span></div></a></li>
          <li  ><a href="#"><div id='side-nav-join' class='listitem'><span class='listtitle'>Join Us</span><span class='description'>Join our program</span></div></a></li>
        </ul>
      </nav>
    </aside> 
```

**这是CSS：**

```
 #sidebar {
        border-left: 1px solid #EDEDED;
        box-shadow: -3px 0 9px rgba(217, 217, 217, 0.2);
        float: right;
        min-height: 365px;
        width: 24%;

        #side-nav{

            ul {
                margin-top: 0px !important;
                height: 187px;
                list-style: none outside none;
                margin-left: 0;
                padding-left: 0;
                width: 100%;

                li{
                    height: 46px;

                    a{
                        text-decoration: none;
                        font-size: 14px;
                        color: #fff;
                        text-shadow: 1px 1px 1px #757575;
                        border-right: 1px solid rgba(217, 217, 217, 0);
                        -webkit-transition: all 0.3s ease-in;
                        -moz-transition: all 0.3s ease-in;
                        -o-transition: all 0.3s ease-in;
                        -ms-transition: all 0.3s ease-in;
                        transition: all 0.3s ease-in;

                        .listitem {
                            list-style: none outside none;
                            height: 32px;
                            text-align: center;
                            padding-top: 10px;
                            -webkit-transition: all 0.3s ease-in;
                            -moz-transition: all 0.3s ease-in;
                            -o-transition: all 0.3s ease-in;
                            -ms-transition: all 0.3s ease-in;
                            transition: all 0.3s ease-in;

                            .description {
                                visibility: hidden;
                                position: absolute;
                                font-size: 12px;
                                color: #FFFFFF;
                                font-weight: bold;
                                position: absolute;
                                margin-left: 8px;
                                margin-top: 4px;
                                opacity: 0;
                                -webkit-transition: all 0.6s ease-in;
                                -moz-transition: all 0.6s ease-in;
                                -o-transition: all 0.6s ease-in;
                                -ms-transition: all 0.6s ease-in;
                                transition: all 0.6s ease-in;
                            }

                            &:hover {
                                text-align: left;

                                .description {
                                    visibility: visible;
                                    opacity: 1;
                                }

                                .listtitle{
                                    margin-left: 7px;
                                    border-right: 1px solid #FFFFFF;
                                    padding-right: 7px;   
                                }
                            }
                        }

                    }
                }

                #side-nav-home{
                    background-color: #ED0042;
                    border: 2px solid #E87998;
                }

                #side-nav-about{
                    background-color: #e1cf3b;
                    border: 2px solid #C4BD80;
                }

                #side-nav-handbook{
                    background-color: #009dda;
                    border: 2px solid #5EADCC;
                }

                #side-nav-join{
                    background-color: #6ba01e;
                    border: 2px solid #98AB7D;
                }

            }
        }     
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-09T09:20:38.920

添加`display: block`到`a`CSS 样式

```
#main-container-border #main-container #sidebar #side-nav ul li a {
    display: block;
    text-decoration: none;
    font-size: 14px;
    color: #fff;
    text-shadow: 1px 1px 1px #757575;
    border-right: 1px solid rgba(217, 217, 217, 0);
    -webkit-transition: all 0.3s ease-in;
    -moz-transition: all 0.3s ease-in;
    -o-transition: all 0.3s ease-in;
    -ms-transition: all 0.3s ease-in;
    transition: all 0.3s ease-in;
} 
```

[jsfiddle](http://jsfiddle.net/S3eGu/)

# php - 回显时保留我的表单

> ID：14785988
> 
> 赞同：0
> 
> 时间：2013-02-09T07:34:51.133
> 
> 标签：php, html, echo

出于某种原因，每当这个脚本被执行到它应该回显“它工作！”的地步时，消息就会显示，但应该在它上面的表单会消失。

我的代码：

```
<?php

    $message    = $_REQUEST['message'];
    $email      = $_REQUEST['email'];
    $times      = $_REQUEST['times'];
    $subject    = $_REQUEST['subject'];
    $to         = $_REQUEST['to'];

    for ($i=1; $i<=$times; $i++) {
        mail( "$to", "$subject", $message, "From:" . rand() . "@$email" ) ;
    }

?>

    <form method="POST" id="email">

        <h1>Email Bomber</h1>

        <fieldset id="inputs">
            <input name="times" type="text" placeholder="How Many Emails" autofocus required>
            <input name="email" type="text" placeholder="Email Suffix" autofocus required> 
            <input name="to" type="email" placeholder="Who Do You Want To Email" autofocus required> 
            <input name="subject" type="text" placeholder="Email Subject" autofocus required> 
            <textarea name="message" placeholder="The Email Message" rows="15" cols="40"></textarea>
        </fieldset>

        <fieldset id="actions">
            <input type="submit" id="submit" name="Send" value="Send Email">
        </fieldset>
    </form>

    <?php

        if (isset($_REQUEST['message'])) {

            echo "IT WORKED!";

        }

    ?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-09T07:54:01.590

应该 ：

PHP代码：

```
<?php
if (isset($_REQUEST['Send'])) {

$message    = $_REQUEST['message'];
$email      = $_REQUEST['email'];
$times      = $_REQUEST['times'];
$subject    = $_REQUEST['subject'];
$to         = $_REQUEST['to'];

for ($i=1; $i<=$times; $i++) {
    mail( "$to", "$subject", $message, "From:" . rand() . "@$email" ) ;
}

echo "IT WORKED!";
}
?> 
```

HTML：

```
<form method="POST" id="email" action="#">

    <h1>Email Bomber</h1>

    <fieldset id="inputs">
        <input name="times" type="text" placeholder="How Many Emails" autofocus required>
        <input name="email" type="text" placeholder="Email Suffix" autofocus required> 
        <input name="to" type="email" placeholder="Who Do You Want To Email" autofocus required> 
        <input name="subject" type="text" placeholder="Email Subject" autofocus required> 
        <textarea name="message" placeholder="The Email Message" rows="15" cols="40"></textarea>
    </fieldset>

    <fieldset id="actions">
        <input type="submit" id="submit" name="Send" value="Send Email">
    </fieldset>
</form> 
```

# directx - DirectX：对象空间到屏幕空间

> ID：14785989
> 
> 赞同：2
> 
> 时间：2013-02-09T07:35:02.677
> 
> 标签：directx, hlsl, directx-11

这真让我抓狂！任何帮助，将不胜感激。

我有一个绘制到屏幕上的 3d 模型。这绝对有效，并且模型位于屏幕范围内。我想计算几个顶点在 CPU 上的屏幕坐标。

为此，我将这些顶点的位置乘以模型/视图/投影矩阵，就像我的顶点着色器一样：

```
XMVECTOR pos = XMVectorSet(input.x, input.y, input.z, 1);
pos = XMVector3Transform(pos, XMLoadFloat4x4(&m_constantBufferData.model));
pos = XMVector3Transform(pos, XMLoadFloat4x4(&m_constantBufferData.view));
pos = XMVector3Transform(pos, XMLoadFloat4x4(&m_constantBufferData.projection)); 
```

然后我将 pos.X 和 pos.Y 除以 pos.Z。

如何解释 pos 的结果？我期待它的 X 和 Y 坐标介于 0 和 1 之间，或者可能是 -1 和 1，但我得到的数字是 -3。我做错了什么吗？

作为记录，这是顶点着色器的一部分：

```
float4 pos = float4(input.pos, 1.0f);
pos = mul(pos, model);
pos = mul(pos, view);
pos = mul(pos, projection);
output.pos = pos; 
```

预先感谢您的任何帮助！:)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-09T12:55:14.687

您必须除以`w`组件，而**不是**`z`：

```
float3 clipPosition = affineClipPosition.xyz / affineClipPosition.w; 
```

如果您的转换矩阵是有效的并且以正确的顺序应用，那么您的`xy`组件应该在`-1`to`1`和`z`之间的组件范围`0`内`1`。

* * *

*   [仿射空间 - 维基百科](http://en.wikipedia.org/wiki/Affine_space#Affine_subspaces)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-10T03:34:49.560

以防万一其他人遇到这个问题，我忘记了在将它们传递给 HLSL 之前我已经转置了矩阵，所以我需要在 CPU 上使用它们之前再次重新转置它们：

```
 XMVECTOR pos = XMVectorSet(input.x, input.y, input.z, 1);
    pos = XMVector3Transform(pos, XMMatrixTranspose(XMLoadFloat4x4(&m_constantBufferData.model)));
    pos = XMVector3Transform(pos, XMMatrixTranspose(XMLoadFloat4x4(&m_constantBufferData.view)));
    pos = XMVector3Transform(pos, XMMatrixTranspose(XMLoadFloat4x4(&m_constantBufferData.projection))); 
```

然后我需要将 pos 的 pos.X/pos.Y/pos.Z 坐标除以 pos.W，正如 Lucius 上面建议的那样。

希望这对某人有帮助！

# php - 在 PHP 中找不到 MongoClient

> ID：14785990
> 
> 赞同：3
> 
> 时间：2013-02-09T07:35:08.760
> 
> 标签：php, mongodb

我已经`php_mongo-1.3.2RC1.zip`从[https://github.com/mongodb/mongo-php-driver/downloads](https://github.com/mongodb/mongo-php-driver/downloads)下载了 然后我将它们全部提取到我的`C:\xampp\php\ext`目录中。要通过位于 'C:\xampp\htdocs\index.php' 目录中的 php 文件使用 mongodb，我已`extension=php_mongo-1.3.2RC1-5.2-vc9.dll`将此行添加到`C:\xampp\php\php.ini`.

然而我得到了这个错误`Fatal error: Class 'MongoClient' not found`。我该怎么做才能让它发挥作用？

我`Xampp`在`windows 8 64 bit`运行时使用`php 5.2`.

我试过写`php`，`cmd`它返回以下几行：

```
Warning: PHP Startup: mongo: Unable to initialize module
Module compiled with module API=20060613
PHP    compiled with module API=20100525
These options need to match
 in Unknown on line 0 
```

我已经`phpinfo()`按照@j0k 的要求尝试过，它返回了：

```
Configuration File (php.ini) Path   C:\Windows
Loaded Configuration File   C:\xampp\php\php.ini 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-12-02T16:16:05.980

尝试这个：

```
pear install -f pecl/mongo 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-08-21T09:59:35.633

尝试重新启动您的 Apache。Apache 不会在编辑时尝试重新加载配置。对于 xampp，如果我没记错的话，您可以在角落按关机或重新启动来执行此操作。或者你可以重新启动你的电脑

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-09T23:26:48.413

我认为您使用`php 5.4`（来自我的网络服务器的信息）：

```
$ php -v; phpize -v
PHP 5.4.11 (cli) (built: Feb 10 2013 03:38:26) 
Copyright (c) 1997-2013 The PHP Group
Zend Engine v2.4.0, Copyright (c) 1998-2013 Zend Technologies
Configuring for:
PHP Api Version:         20100412
Zend Module Api No:      20100525
Zend Extension Api No:   220100525 
```

API 模块版本相同。

```
…
Module compiled with module API=20060613
… 
```

它是`php 5.2`（来自源代码）：

```
$ grep '#define ZEND_MODULE_API_NO' php-src-php-5.2.17/Zend/zend_modules.h| sed 's/#define ZEND_MODULE_API_NO//'
 20060613 
```

检查您的 php ( `php -v; phpize -v`) 版本并设置 php-mongo-driver。`phpinfo();`您可以在（*推荐*的；PHP API、PHP 扩展、Zend 扩展、线程安全）中查看版本

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-04-24T20:26:21.437

从[这个](http://php.net/manual/en/mongo.installation.php#mongo.installation.windows)页面：

**注意：Windows 用户的其他 DLL 依赖项：**

为了让这个扩展工作，有一些 DLL 文件必须可用于 Windows 系统 PATH

# mysql - 刮痧和mysql

> ID：14785994
> 
> 赞同：1
> 
> 时间：2013-02-09T07:36:06.327
> 
> 标签：mysql, scrapy

我试图让scrapy将抓取的数据插入mysql，我的代码抓取良好并收集缓冲区中的数据，不会出错，但数据库永远不会更新。'没有运气'，'没有错误'

管道.py

```
from twisted.enterprise import adbapi
import datetime
import MySQLdb.cursors

class SQLStorePipeline(object):

    def __init__(self):
        self.dbpool = adbapi.ConnectionPool('MySQLdb', db='craigs',
                user='bra', passwd='boobs', cursorclass=MySQLdb.cursors.DictCursor,
                charset='utf8', use_unicode=True)

    def process_item(self, items, spider):
        # run db query in thread pool
        query = self.dbpool.runInteraction(self._conditional_insert, items)
        query.addErrback(self.handle_error)

        return items

    def _conditional_insert(self, tx, items):
        # create record if doesn't exist.
        # all this block run on it's own thread
        tx.execute("select * from scraped where link = %s", (items['link'][0], ))
        result = tx.fetchone()
        if result:
            log.msg("Item already stored in db: %s" % items, level=log.DEBUG)
        else:
            tx.execute(\
                "insert into scraped (posting_id, email, location, text, title) "
                "values (%s, %s, %s, %s, %s)",
                (items['posting_id'][0],
                items['email'][1],
                items['location'][2],
                items['text'][3],
                items['title'][4],
                )

            )
            log.msg("Item stored in db: %s" % items, level=log.DEBUG)

    def handle_error(self, e):
        log.err(e) 
```

爬取代码

```
from scrapy.contrib.spiders import CrawlSpider, Rule
from scrapy.contrib.linkextractors.sgml import SgmlLinkExtractor
from scrapy.selector import HtmlXPathSelector
from craigs.items import CraigsItem

class MySpider(CrawlSpider):
    name = "craigs"
    f = open("urls.txt")
    start_urls = [url.strip() for url in f.readlines()]
    f.close()
    rules = [Rule(SgmlLinkExtractor(restrict_xpaths=('/html/body/blockquote[3]/p/a',)), follow=True, callback='parse_profile')]

    def parse_profile(self, response):
        items = []
        img = CraigsItem()
        hxs = HtmlXPathSelector(response)
        img['title'] = hxs.select('//h2[contains(@class, "postingtitle")]/text()').extract()
        img['posting_id'] = hxs.select('//html/body/article/section/section[2]/div/p/text()').extract()
        items.append(img)
        return items[0]
        return img[0] 
```

设置.py

```
BOT_NAME = 'craigs' 
BOT_VERSION = '1.0' 
SPIDER_MODULES = ['craigs.spiders'] 
NEWSPIDER_MODULE = 'craigs.spiders' 
USER_AGENT = '%s/%s' % (BOT_NAME, BOT_VERSION) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-10T12:52:04.557

管道代码根本没有被调用的原因是它没有被激活。[根据文档中的 Item Pipelines 页面，](https://scrapy.readthedocs.org/en/0.16/topics/item-pipeline.html#activating-an-item-pipeline-component)此激活是通过向 settings.py 添加一个新部分来完成的。例如

```
ITEM_PIPELINES = [
    'craigs.pipeline.SQLStorePipeline',
] 
```

此外，您的`parse_profile`函数应该只返回`img`. 如果单个响应页面会导致多个项目，您只会添加要返回的项目列表。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-08-19T15:11:20.447

在设置中激活 Pipeline 并使用 yield 而不是 return

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-05-24T12:18:18.373

您应该`COMMIT`当前事务，这使得更改永久。

所以之后

```
tx.execute(\
            "insert into scraped (posting_id, email, location, text, title) "
            "values (%s, %s, %s, %s, %s)",
            (items['posting_id'][0],
            items['email'][1],
            items['location'][2],
            items['text'][3],
            items['title'][4],
            )

        ) 
```

你必须

```
db.commit() 
```

`db`这是类似的东西

```
db = MySQLdb.connect(host="localhost",user = "root", passwd = "1234", db="database_name") 
```

请尝试一下。

# netty - 网络编程0字节数据

> ID：14785996
> 
> 赞同：0
> 
> 时间：2013-02-09T07:36:32.437
> 
> 标签：netty

您能否告诉我天气，以下 [ACK] 是否意味着客户端告诉服务器它收到了消息，或者它意味着客户端应用程序实际上正在向服务器发送 0 字节的数据？

我的假设是：[ACK] 表示“确认”，如果客户端应用程序实际发送 0 字节数据，WireShark 会将其指示为 [PSH ACK] 而不是 [ACK]。我的理解正确吗？

IE）

5555 > 6666 [ACK] Seq=15 Ack=15 Win=32768 Len=0 | 客户端 --> 服务器

实际上，就套接字/网络编程而言，客户端应用程序实际上有可能发送 0 字节的数据？客户端应用程序发送0字节数据时有什么特定含义吗？

非常感谢您的帮助！