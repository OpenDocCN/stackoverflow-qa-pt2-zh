# StackOverflow 问答 14473000-14473999

# objective-c - 如何监控 OS X 上的进程？

> ID：14473001
> 
> 赞同：5
> 
> 时间：2013-01-23T05:22:44.280
> 
> 标签：objective-c, macos, osx-mountain-lion

我正在寻找一种方法来监视我在 OS X 上的一个应用程序的状态。我需要监视许多组件，例如各种通信通道的状态。如果它们出现故障，监控过程应该能够在屏幕上和通过推送通知警告用户。

XPC 服务看起来很有希望，但如果应用程序崩溃，我想这也会导致服务中断，还是我弄错了？

我首选的解决方案还可以监视意外终止，并在发生时重新启动应用程序。

做这个的最好方式是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-23T06:49:22.487

我认为监控通信渠道等必须由每个特定组件（进程）完成。如果发生意外错误，该组件应立即退出以确保正确清理。

对于进程监控，下面的 Apple 技术问答文档将非常有帮助：
[技术说明 TN2050：在没有轮询的情况下观察进程生命周期](http://developer.apple.com/library/mac/#technotes/tn2050/_index.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-23T05:44:09.827

您可以编写一个应用程序，将您的主应用程序作为子进程启动，并等待它退出。它可以检查退出代码，然后根据您的需要做出反应。

这种方法在这里解释：[https ://stackoverflow.com/a/78095/785411](https://stackoverflow.com/a/78095/785411)

要 fork() 一些监视进程以将主应用程序作为子进程运行，此处对此进行了说明：[https ://stackoverflow.com/a/4327062/785411](https://stackoverflow.com/a/4327062/785411)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-23T06:26:18.967

我认为您可以利用内置设施 Launchd 和 CrashReporter 来满足您的要求。

[Launchd](https://developer.apple.com/library/mac/#documentation/Darwin/Reference/ManPages/man8/launchd.8.html#//apple_ref/doc/man/8/launchd)是 OS X 系统管理器，用于启动和监控后台进程，通常用于运行 XPC 服务。启动的代理可以对各种系统事件做出反应，并且可以配置为在进程崩溃时重新启动进程（通过[属性列表](https://developer.apple.com/library/mac/#documentation/Darwin/Reference/ManPages/man5/launchd.plist.5.html)`KeepAlive/SuccessfulExit`中的键指定）

Launchd 可以设置为响应各种系统事件作为启动事件，包括监视文件和目录、预定时间或监听网络连接。

[CrashReporter](https://developer.apple.com/library/mac/#technotes/tn2004/tn2123.html)是一种 OS X 系统工具，用于捕获和记录所有进程崩溃。它通过[AppleSystemLogger 工具](https://developer.apple.com/library/mac/#documentation/MacOSX/Conceptual/BPSystemStartup/Chapters/LoggingErrorsAndWarnings.html#//apple_ref/doc/uid/10000172i-SW8-SW1)进行记录，并且可以使用链接的技术说明中记录的 syslog 工具进行访问。在 Mountain Lion 上，用户进程崩溃报告以 . 结尾`~/Library/DiagnosticReports/`，每个崩溃事件都会创建一个崩溃日志和 plist 文件对。

我认为您可以通过多种方式使用这些功能来满足您的要求，如果 launchd 负责运行 xpc 服务，它可以负责在崩溃事件中重新启动它们，并且它们可以与任何应用程序崩溃分离。

`QueueDirectories`您可以编写一个启动代理，通过监控崩溃报告目录（例如使用属性）以获取新日志并重新启动您的应用程序或显示通知，从而响应崩溃事件。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-23T05:28:14.440

如果每个进程都在自己的线程中运行，您可以运行一个监视程序来监视线程是否处于活动状态。在循环中运行并解析输出的脚本`ps`可以做到这一点。

[您可以在此处](http://linux.about.com/od/commands/l/blcmdl1_ps.htm)查看各种选项。参见例如`-C`按命令名称选择，并`-m`显示所有线程。

# python - 自定义管理器 - 查询抽象基类

> ID：14473010
> 
> 赞同：0
> 
> 时间：2013-01-23T05:23:39.907
> 
> 标签：python, django, django-models

我编写了一个抽象基类，它将我的一些表的公共字段组合在一起。我希望能够使用管理器以相同的方式查询所有这些字段。

```
class TemporalModel(models.Model):
    objects = models.Manager()
    today = TodayManager()

    time = models.DateTimeField()

    class Meta:
        abstract = True
        get_latest_by = 'time' 
```

如上所示，一个简单的示例是能够查询 TemporalModel 的子类（它们都有一个“时间”字段）以获取今天的条目。

我因此写了一个经理：

```
class TodayManager(models.Manager):
    def get_query_set(self):
        now = timezone.now()
        today = datetime(now.year, now.month, now.day, tzinfo=now.tzinfo)
        tomorrow = today + timedelta(days=1)

        qs = models.Manager.get_query_set(self).filter(time >= today)
        qs = qs.filter(time < tomorrow)

        return qs 
```

尝试使用它失败并出现 NameError（时间未定义）。[我认为这与这个问题](https://stackoverflow.com/questions/7549898/django-custom-model-manager-queries-in-abstract-classes)的原因相同- 该字段不在抽象类上，而是在子类上。

但是，我从来没有真正在抽象类上调用它。如果我有以下内容：

```
class SomeTemporalThing(TemporalModel):
    pass # I'm a real table! :) 
```

然后我希望能够调用，例如 SomeTemporalThing.today.all()，并让 django 在子表上执行时间 >= 今天/时间 < 明天查找。

是否可以在不将管理器定义移动到子类的情况下实现这一点（这会导致重复）？

我对[自定义管理器文档](https://docs.djangoproject.com/en/dev/topics/db/managers/#custom-managers-and-model-inheritance)的阅读表明它应该是可能的，但我不知道如何做。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-23T05:41:45.103

你所做的应该是可能的。您看到的错误与`Manager`对象的继承无关，而是`filter()`对`QuerySet`.

代替

```
qs = models.Manager.get_query_set(self).filter(time >= today) 
```

它应该是

```
qs = models.Manager.get_query_set(self).filter(time_gte=today) 
```

这同样适用于您的`time < tomorrow`过滤器参数。

请参阅[查询集 API 文档](https://docs.djangoproject.com/en/dev/ref/models/querysets/#gte)。

# bash - Topsy，推特，卷曲，重击

> ID：14473011
> 
> 赞同：0
> 
> 时间：2013-01-23T05:23:48.123
> 
> 标签：bash, curl, twitter, arabic, topsy

下面的代码不适用于外来词，但适用于英文单词。

```
let int=1244764800
let start=86400+$int 
let l=86400*7
let end=$int-$l

for (( k = $start ; k > $end ; k=k-3600 )) do
for (( j = 1 ; j < 11 ; j++ )) do
let mintime=$k-3600;
let maxtime=$k
searchwords="سلام"

#echo $maxtime
curl "http://otter.topsy.com/search.json?q="${searchwords}"&page="$j"&perpage=100&mintime="${mintime}"&maxtime="${maxtime}"&apikey=FAF7F2D0D8A143978CB7762CE35FCF99"
done
done 
```

这会产生以下结果：

`curl: (7) couldn't connect to host`

```
curl: (7) couldn't connect to host 
```

我重申这个脚本与英语单词完美配合，但我需要用外语来运行它，所以我将不胜感激任何帮助/指导！谢谢 ：）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-23T06:15:55.840

我猜你需要`urlencode`任何非ASCII字符。尝试使用`curl --data-urlencode`，而不仅仅是`curl`.

如果只是在 URL 字符串前添加不起作用，请将参数移动到数据（继续阅读`-d`）`curl`并仍然使用`--data-urlencode`

这是一个工作示例：

```
curl -G --data-urlencode "q=سلام" -d page=1 -d mitime=1244764800 -d maxtime=1245764800 -d apikey=FAF7F2D0D8A143978CB7762CE35FCF99 "http://otter.topsy.com/search.json" 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-23T06:19:32.397

您必须对搜索词的字符进行 url 转义。

您可以尝试使用`--data-urlencode`curl 的参数。

[此链接中](http://blog.famzah.net/2011/08/25/url-escape-in-bash/)有一篇很好的文章，介绍了如何使用 perl 或简单的 bash 在 bash 中执行此操作。

# spring - ClassPathResource 无法访问我的 spring 属性文件（使用 Spring web MVC）

> ID：14473016
> 
> 赞同：0
> 
> 时间：2013-01-23T05:24:25.830
> 
> 标签：spring, spring-mvc

文件的实际位置在“D:\eclipse\projects\issu\src\main\webapp\WEB-INF\spring\spring.properties”

我试过了：

```
Resource resource = new ClassPathResource("/src/main/webapp/WEB-INF/spring/spring.properties");

Resource resource = new ClassPathResource("/WEB-INF/spring/spring.properties");

Resource resource = new ClassPathResource("classpath:/WEB-INF/spring/spring.properties"); 
```

我还在构建路径中添加了“/src/main/webapp”文件夹。

ClassPathResource 找不到它。有任何想法吗？谢谢！:)

**我的 web.xml**

```
<?xml version="1.0" encoding="UTF-8"?>
<web-app xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns="http://java.sun.com/xml/ns/javaee"
    xmlns:web="http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd"
    xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd"
    id="WebApp_ID" version="2.5">
    <display-name>ISSU</display-name>

    <servlet>
        <servlet-name>spring</servlet-name>
        <servlet-class>
            org.springframework.web.servlet.DispatcherServlet
        </servlet-class>
        <init-param>
            <param-name>contextConfigLocation</param-name>
            <param-value>/WEB-INF/spring/spring-servlet.xml</param-value>
        </init-param>
        <load-on-startup>1</load-on-startup>
    </servlet>
    <servlet-mapping>
        <servlet-name>spring</servlet-name>
        <url-pattern>*.html</url-pattern>
    </servlet-mapping>

    <welcome-file-list>
        <welcome-file>index.jsp</welcome-file>
    </welcome-file-list>
</web-app> 
```

**我的 spring-servlet.xml**

```
<?xml version="1.0" encoding="UTF-8"?>
<beans
    xmlns="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:context="http://www.springframework.org/schema/context"
    xmlns:mvc="http://www.springframework.org/schema/mvc"
    xmlns:p="http://www.springframework.org/schema/p"
    xmlns:tx="http://www.springframework.org/schema/tx"
    xsi:schemaLocation="
        http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd
        http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd
        http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd">

    <context:component-scan base-package="com.myapps.issu" />

    <mvc:annotation-driven />
    <mvc:resources mapping="/resources/**" location="/resources/" />

    <tx:annotation-driven />

    <bean id="propertyConfigurer" class="org.springframework.beans.factory.config.PropertyPlaceholderConfigurer">
        <property name="location" value="/WEB-INF/spring/spring.properties" />
    </bean>
    <bean id="dataSource" class="org.apache.commons.dbcp.BasicDataSource" destroy-method="close">
        <property name="driverClassName" value="${jdbc.driverClassName}" />
        <property name="url" value="${jdbc.databaseurl}" />
        <property name="username" value="${jdbc.username}" />
        <property name="password" value="${jdbc.password}" />
    </bean>
    <bean id="sessionFactory" class="org.springframework.orm.hibernate4.LocalSessionFactoryBean">
        <property name="dataSource" ref="dataSource" />
        <property name="configLocation" value="${hibernate.config}" />
        <property name="packagesToScan" value="com.myapps.issu" />
    </bean>
    <bean id="transactionManager" class="org.springframework.orm.hibernate4.HibernateTransactionManager">
        <property name="sessionFactory" ref="sessionFactory" />
    </bean>

    <bean id="viewResolver" class="org.springframework.web.servlet.view.UrlBasedViewResolver">
        <property name="viewClass" value="org.springframework.web.servlet.view.tiles2.TilesView" />
    </bean>
    <bean id="tilesConfigurer" class="org.springframework.web.servlet.view.tiles2.TilesConfigurer">
        <property name="definitions" value="/WEB-INF/tiles.xml" />
    </bean>

    <bean id="issuDao" class="com.myapps.issu.dao.IssuDaoImpl">
        <property name="sessionFactory" ref="sessionFactory" />
    </bean>
    <bean id="issuService" class="com.myapps.issu.services.IssuServiceImpl">
        <property name="issuDao" ref="issuDao" />
    </bean>
</beans> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-23T05:59:03.370

你试过这个吗

资源资源 = new ClassPathResource("src/main/webapp/WEB-INF/spring/spring.properties");

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-23T06:04:52.720

将构建路径添加到 /src/main/webapp （通过项目属性）并使用以下代码：**Resource resource = new ClassPathResource("/WEB-INF/spring/spring.properties");**

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-12-13T12:20:25.133

在您的类路径中添加 src\main\webapp\ 文件夹（使用项目属性）并使用它... Resource resource = new ClassPathResource("WEB-INF/spring/spring.properties");

记住不要在路径的开头使用“/”。

# parsing - 如何训练 stanford LexicalizedParser 将新词识别为名词？

> ID：14473017
> 
> 赞同：1
> 
> 时间：2013-01-23T05:24:26.043
> 
> 标签：parsing, nlp, stanford-nlp

我试图弄清楚如何训练 stanford
LexicalizedParser ( edu.stanford.nlp.parser.lexparser.LexicalizedParser ) 将新名词合并到其词典中。

起初，我的目标是采用现有模型并对其进行微调，而不是从大量训练示例中创建一个全新的模型。

这个问题的答案表明这是不可能的 > [如何向斯坦福 POS-Tagger 的训练模型添加更多标记词？](https://stackoverflow.com/questions/5570765/how-can-i-add-more-tagged-words-to-the-stanford-pos-taggers-trained-models)

希望那里有人可以让我走上正确的轨道，了解如何做到这一点。

作为我想做的一个具体例子，假设我有“researchgate”这个词，我想在解析句子时将其视为名词。目前，“researchgate”被视为不同的词性，具体取决于它的位置。但我希望它被识别为“NN”（名词）。

例子...

而不是这个：

```
 (NP
        (NP (JJ recent) (NN activity))
        (PP (IN in)
          (NP (PRP$ your) (JJ researchgate) (NNS topics))))) 
```

我要这个：

```
 (NP
        (NP (JJ recent) (NN activity))
        (PP (IN in)
          (NP (PRP$ your) (NN researchgate) (NNS topics))))) 
```

而不是这个：

```
 (ROOT
      (FRAG
        (NP (NN subscription))
        (S
          (VP (TO to)
            (VP (VB researchgate)))))) 
```

我要这个：

```
 (ROOT
      (NP
        (NP (NN subscription))
        (PP (TO to)
          (NP (NN researchgate))))) 
```

我目前正在使用这个模型：models/edu/stanford/nlp/models/lexparser/englishPCFG.ser.gz

我试过这样做>

```
 java -cp  stanford-parser.jar        
            edu.stanford.nlp.parser.lexparser.LexicalizedParser   -train  /tmp/train.txt 
```

/tmp/train.txt 的内容如下 >

```
 (NP
                (NP (JJ recent) (NN activity))
                (PP (IN in)
                  (NP (PRP$ your) (JJ researchgate) (NNS topics))))) 
```

我得到了一堆有希望的输出，但后来得到了这个错误>

```
 Error. Can't parse test sentence: [This, is, just, a, test, .] 
```

所以很明显，我需要提供更多的例子，而不仅仅是我在 /tmp/train.txt 中的例子。

查看文档似乎有一种关于 LexicalizedParser 的有前途的方法，我正在考虑尝试... >

```
 public static LexicalizedParser getParserFromTreebank(Treebank trainTreebank,
                                                          Treebank secondaryTrainTreebank,
                                                          double weight,
                                                          GrammarCompactor compactor,
                                                          Options op,
                                                          Treebank tuneTreebank,
                                                          List<List<TaggedWord>> extraTaggedWords) 
```

我犹豫要不要尝试一下，因为要正确选择选项似乎很棘手。doco 说：
解析器的选项在训练和测试（解析）时必须相同，以便解析器正常工作

所以我可能需要有关如何提取用于 edu/stanford/nlp/models/lexparser/englishPCFG.ser.gz 的选项的指导，也许它是

```
 edu.stanford.nlp.parser.lexparser.EnglishTreebankParserParams  ? 
```

另外，也许我想将 researchgate 添加为我的 extraTaggedWords 之一？

我觉得我走在正确的轨道上，但希望在进入老鼠洞之前得到一些建议。

提前致谢 ！

```
chris 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-23T22:51:20.703

我发布到 stanford parser 邮件列表，我收到了 John Bauer 的答复（谢谢，John！）

*John Bauer 下午 2:09（39 分钟前）对我来说，解析器用户不幸的是，您需要从头开始训练。 **没有办法扩展当前的解析器模型。** 该功能在“列表”中，但它在后面的某个地方，所以不要屏住呼吸......约翰*

# java - 为什么我的 Android 应用程序在尝试连接套接字时会阻塞？

> ID：14473021
> 
> 赞同：0
> 
> 时间：2013-01-23T05:24:38.313
> 
> 标签：java, android, email, imap, block

我有一个非常简单的代码，它试图在 Android 上使用 JavaMail 打开一个套接字，如下所示：

```
public boolean connect() {
    try {
        store_ = session_.getStore("imap");
        store_.connect(email_.host, email_.user, email_.pass);
        folder_ = store_.getDefaultFolder();
        folder_ = folder_.getFolder("inbox");
        folder_.open(Folder.READ_ONLY);
    }
    catch(Exception e) {
        disconnect();
        return false;
    }

    return true;
}

public void disconnect() {
    if (folder_ != null) {
        try {
            folder_.close(false);
        }
        catch(Exception e) {
        }
        folder_ = null;
    }

    if (store_ != null) {
        try {
            store_.close();
        }
        catch(Exception e) {
        }
        store_ = null;
    }
} 
```

它适用于不需要 SSL 的 IMAP 服务器。否则，该应用程序只会阻塞。无论尝试/捕捉。任何想法？请注意，一旦我提到“imap”而不是“imap”，这当然可以工作，但我不希望我的应用程序在任何情况下都会阻塞。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-23T05:53:14.423

这是在 UI 线程上完成的吗？如果是因为 connect() (socket.connect()) 方法会阻塞，您应该将其卸载到 ASyncTask 或服务之类的东西上。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-23T05:57:37.847

我建议你先阅读这篇文章，然后检查你是在主 UI 线程还是后台线程上处理套接字连接。可以在此链接上找到示例：[here](https://stackoverflow.com/questions/5425923/proper-way-of-using-sockets-in-android-app)

# jquery - 可移动容器的 jQuery 拖放界面问题

> ID：14473023
> 
> 赞同：0
> 
> 时间：2013-01-23T05:24:59.097
> 
> 标签：jquery, jquery-ui, jquery-plugins, jquery-ui-sortable

我正在创建一个拖放 cms 站点编辑器。我希望用户能够移动小部件及其容器，但是，使用 .sortable 容器似乎想在您开始拖动时放入自身并创建一百万个自身副本。我认为问题可能与在同一个元素上同时使用 connectWith 类和 items 类有关，但我认为在这种情况下我必须这样做，因为它既充当持有者又充当小部件本身。并非所有持有人都是可以移动/调整大小的小部件。所以基本上页面是这样构建的：

```
<div class='widget_holder' class='twelve columns'> //unmoveable holder
<div class='widget' class='six columns'> // moveable widget
</div>
<div class='widget_holder widget' class='six columns'> //moveable widget/holder
</div>
</div>
<div class='widget_holder' class='twelve columns'> //unmoveable holder
<div class='widget' class='four columns'> // moveable widget
</div>
<div class='widget' class='four columns'> // moveable widget
</div>
<div class='widget' class='four columns'> // moveable widget
</div>
<div class='widget' class='four columns'> // moveable widget
</div>
</div>
<div class='widget_holder' class='six columns'> // unmoveable holder
<div class='widget' class='six columns'> // moveable widget
</div>
<div class='widget_holder widget' class='six columns'> // moveable widget/holder
</div>
</div> 
```

像这样使用 jQuery：

```
$(".widget_holder").sortable({  // adding it to the holders since it's the widgets within 
    distance: 30,  // hoped this would help with jumpyness (didn't rly)
    revert: true,
    items: ".widget",  // moveable widget
    containment: 'body',  // keeps it on the page
    opacity: .8,
    handle: ".move_widget",  // a handle that hovers over the widget div
    dropOnEmpty: true,  // lets an empty holder accept a widget
    connectWith: ".widget_holder",  // put widgets in holders
    tolerance: "pointer",  // keep widget by pointer to make it a lil easier
    cursorAt: { top:0, left: 0 },
    start: function(e, ui){  // I don't remember why I did this
    $(".widget_holder", ui.item).hide();
    $(".widget_holder" ).sortable("refresh").addClass("holder_hover");
    },
    update: function(e, ui){  // my function makes a multi-dimensional array 
```

//示例：holder[0] = widget1, widget2, widget6 & holder[1] = widget3, widget5, and widget4

```
 updateByHolder();
    },
    stop: function(e, ui){ //don't remember what this does
    $(".widget_holder", ui.item).show();
    $(".widget").removeClass("full_width");
    $(".widget_holder" ).removeClass("holder_hover");
    }
}); 
```

这是我的 jsFiddle（我无法让它正常工作，可能错过了一些小东西） [http://jsfiddle.net/VaZnc/1/](http://jsfiddle.net/VaZnc/1/) 在此先感谢各位。你一直非常敏感和乐于助人！

旁注：我到处寻找答案，没有人像我一样实现这个，所以这有点困难。大多数人都有 UL（我知道这个想法是相似的，但是，一些插件只适用于 UL）我已经尝试过[http://dbushell.com/2012/06/17/nestable-jquery-plugin/](http://dbushell.com/2012/06/17/nestable-jquery-plugin/)以获得指导/另一个接近，但仍然无法弄清楚。

整个事情背后的想法是我的客户应该能够使用主持有人中的持有人创建列并根据需要添加小部件（小部件实际上只是任何类型的内容......文本/图片/产品列表/博客/等)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-23T17:37:47.140

我不得不将 widget_holder 包装在一个小部件中。然后它起作用了。我认为这是因为将 widget_holder 放在小部件中会使其无法无限循环尝试放入小部件中。耶。所以...

```
 <div class='widget_holder'>
 <div class='widget'>
 <div class='widget_holder'>
 </div>
 </div>
 </div> 
```

# jsp - 在 JSP 页面中包含大量注释的影响

> ID：14473030
> 
> 赞同：0
> 
> 时间：2013-01-23T05:25:15.127
> 
> 标签：jsp, comments

我很想知道如果我在我的 JSP 页面中包含大量注释，它将如何影响编译时间和执行时间？我的 JSP 页面也包含大量的 JavaScript 代码。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-23T05:32:33.813

JSP本质上是Java，它最终会符合Java字节码。因此，如果有很多注释，它在 Java 中的效果如何编译是一样的。这之前已经问过了。检查这个[评论会影响编译时间吗？](https://stackoverflow.com/questions/7316173/do-comments-affect-compile-time)

# go - 创建 C 结构数组并将结构指针传递给 C 函数

> ID：14473032
> 
> 赞同：3
> 
> 时间：2013-01-23T05:25:16.403
> 
> 标签：go

我想为我的 C 函数制作一个包装器，它将指向 C 结构的指针作为参数。

在我的 Go 代码中，我尝试了两种方法来为 C 结构分配空间：

```
bps := make([]_Ctype_T32_Breakpoint, max)          (1)
C.MyFunc((*_Ctype_T32_Breakpoint)(unsafe.Pointer(&bps[0]), C.int(max))

bps := make([]C.struct_T32_Breakpoint, max)        (2)
C.MyFunc((*C.struct_T32_Breakpoint)(unsafe.Pointer(&bps[0]), C.int(max)) 
```

对于 (1) 方法，它可以工作，但对于 (2) 方法，我收到错误消息：

```
cannot use (*[0]byte)(unsafe.Pointer(&bps[0])) (type *[0]byte) as type *_Ctype_T32_Breakpoint in function argument 
```

为什么方法 (2) 创建了 *[0]byte 类型而不是 *C.struct_T32_Breakpoint，并且似乎对 *C.struct_T32_Breakpoint 的强制转换不起作用。

使用方法（1）和（2）有什么区别？

谢谢。

# 测试代码

## 文件：t32.h

```
#ifndef __T32_H__
#define __T32_H__

typedef unsigned char byte;
typedef unsigned short word;
typedef unsigned int dword;

typedef struct t32_breakpoint {
    dword address;
    byte  enabled;
    dword type;
    dword auxtype;
} T32_Breakpoint;

int T32_GetBreakpointList( int *, T32_Breakpoint*, int );

#endif /* __T32_H__ */ 
```

## 文件：remote.c

```
#include "t32.h"

int T32_GetBreakpointList (int* numbps, T32_Breakpoint* bps, int max)
{ 
    return 0;
} 
```

## 文件：t32.go

```
package t32

// #cgo linux,amd64 CFLAGS: -DT32HOST_LINUX_X64
// #cgo linux,386 CFLAGS: -DT32HOST_LINUX_X86
// #cgo windows,amd64 CFLAGS: -D_WIN64
// #cgo windows,386 CFLAGS: -D_WIN32
// #cgo windows CFLAGS: -fno-stack-check -fno-stack-protector -mno-stack-arg-probe
// #cgo windows LDFLAGS: -lkernel32 -luser32 -lwsock32
// #include "t32.h"
// #include <stdlib.h>
import "C"
import (
    "errors"
    "unsafe"
)

const (
    _INVALID_U64 = 0xFFFFFFFFFFFFFFFF
    _INVALID_S64 = -1
    _INVALID_U32 = 0xFFFFFFFF
    _INVALID_S32 = -1
    _INVALID_U16 = 0xFFFF
    _INVALID_S16 = -1
    _INVALID_U8  = 0xFF
    _INVALID_S8  = -1
)

type BreakPoint struct {
    Address uint32
    Enabled int8
    Type    uint32
    Auxtype uint32
}

func GetBreakpointList(max int) (int32, []BreakPoint, error) {
    var numbps int32

    // bps := make([]_Ctype_T32_Breakpoint, max)                     // Method (1), can compile
    // code, err := C.T32_GetBreakpointList((*C.int)(&numbps), (*_Ctype_T32_Breakpoint)(unsafe.Pointer(&bps[0])), C.int(max))

    bps := make([]C.struct_T32_Breakpoint, max)                        // Method (2) can't compile
    code, err := C.T32_GetBreakpointList((*C.int)(&numbps), (*C.struct_T32_Breakpoint)(unsafe.Pointer(&bps[0])), C.int(max))

    if err != nil {
        return _INVALID_S32, nil, err
    } else if code != 0 {
        return _INVALID_S32, nil, errors.New("T32_GetBreakpointList Error")
    }
    if numbps > 0 {
        var gbps = make([]BreakPoint, numbps)
        for i := 0; i < int(numbps); i++ {
            gbps[i].Address = uint32(bps[i].address)
            gbps[i].Auxtype = uint32(bps[i].auxtype)
            gbps[i].Enabled = int8(bps[i].enabled)
            gbps[i].Type = uint32(bps[i]._type)
        }
        return numbps, gbps, nil
    }
    return 0, nil, nil
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-24T20:17:35.400

第二个片段无法编译有两个原因。

首先是大小写不匹配。C 声明声明了 struct t32_breakpoint，但 Go 代码引用了 struct T32_Breakpoint。C 区分大小写，但它允许创建指向尚未定义的结构的指针。所以这就是 CGo 认为你正在做的事情。这个指针不能被取消引用，因为结构的内容和大小是未知的。它基本上相当于一个 void 指针，但具有更强的类型。Cgo 把它当作一个 void 指针，把它翻译成 *[0]byte，即一个指向零大小对象的指针。但与 C 不同的是，Go 不允许将 void 指针传递给任何接受指针的函数。所以它有一个类型不匹配。

另一个问题是，如果你想传递一个 struct t32_breakpoint* 而不是 T32_Breakpoint*，你需要在 C 中更改你的函数声明。这两种类型之间的区别在 C 中可能并不重要，但在 Go 中，因为 Go 的类型比 C 强。

# android - 刷新片段选项卡中的列表视图

> ID：14473034
> 
> 赞同：2
> 
> 时间：2013-01-23T05:25:26.357
> 
> 标签：android, android-listview, android-fragments, android-tabs, android-lazyloading

我必须标签，两者都包含列表视图。我正在解析数据并通过延迟加载将它们放入列表视图。我成功地做到了。但是我面临一个问题。将数据加载到 tab1 的 listview 后，当我转到 tab2 并返回 tab1 时，tab1 的 listview 中的所有数据都被删除。tab 2 也是如此。但是数据仍然存在于数组中，我使用它填充了列表视图。任何人都可以看看它。谢谢。

FragmentActivity 类：用于创建和显示选项卡：

```
package com.example.abe;

import java.util.HashMap;
import android.content.Context;
import android.os.Bundle;
import android.support.v4.app.Fragment;
import android.support.v4.app.FragmentActivity;
import android.support.v4.app.FragmentTransaction;
import android.view.View;
import android.widget.TabHost;
import android.widget.TabHost.TabContentFactory;

public class TabsFragmentActivity extends FragmentActivity implements
        TabHost.OnTabChangeListener {

    private TabHost mTabHost;
    private HashMap<String, TabInfo> mapTabInfo = new HashMap<String, TabsFragmentActivity.TabInfo>();
    private TabInfo mLastTab = null;

    private class TabInfo {
        private String tag;
        private Class<?> clss;
        private Bundle args;
        private Fragment fragment;

        TabInfo(String tag, Class<?> clazz, Bundle args) {
            this.tag = tag;
            this.clss = clazz;
            this.args = args;
        }

    }

    class TabFactory implements TabContentFactory {

        private final Context mContext;

        public TabFactory(Context context) {
            mContext = context;
        }

        public View createTabContent(String tag) {
            View v = new View(mContext);
            v.setMinimumWidth(0);
            v.setMinimumHeight(0);
            return v;
        }

    }

    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.tabs_layout);
        initialiseTabHost(savedInstanceState);
        if (savedInstanceState != null) {
            mTabHost.setCurrentTabByTag(savedInstanceState.getString("tab")); // set
                                                                                // the
                                                                                // tab
                                                                                // as
                                                                                // per
                                                                                // the
                                                                                // saved
                                                                                // state
        }
    }

    protected void onSaveInstanceState(Bundle outState) {
        outState.putString("tab", mTabHost.getCurrentTabTag()); // save the tab
                                                                // selected
        super.onSaveInstanceState(outState);
    }

    private void initialiseTabHost(Bundle args) {
        mTabHost = (TabHost) findViewById(android.R.id.tabhost);
        mTabHost.setup();
        TabInfo tabInfo = null;
        TabsFragmentActivity.addTab(this, this.mTabHost, this.mTabHost
                .newTabSpec("Tab1").setIndicator("ST"), (tabInfo = new TabInfo(
                "Tab1", Tab1Fragment.class, args)));
        this.mapTabInfo.put(tabInfo.tag, tabInfo);
        TabsFragmentActivity.addTab(this, this.mTabHost, this.mTabHost
                .newTabSpec("Tab2").setIndicator("CSI"),
                (tabInfo = new TabInfo("Tab2", Tab2Fragment.class, args)));
        this.mapTabInfo.put(tabInfo.tag, tabInfo);
        this.onTabChanged("Tab1");
        mTabHost.setOnTabChangedListener(this);
    }

    private static void addTab(TabsFragmentActivity activity, TabHost tabHost,
            TabHost.TabSpec tabSpec, TabInfo tabInfo) {
        tabSpec.setContent(activity.new TabFactory(activity));
        String tag = tabSpec.getTag();
        tabInfo.fragment = activity.getSupportFragmentManager()
                .findFragmentByTag(tag);
        if (tabInfo.fragment != null && !tabInfo.fragment.isDetached()) {
            FragmentTransaction ft = activity.getSupportFragmentManager()
                    .beginTransaction();
            ft.detach(tabInfo.fragment);
            ft.commit();
            activity.getSupportFragmentManager().executePendingTransactions();
        }
        tabHost.addTab(tabSpec);
    }

    public void onTabChanged(String tag) {
        TabInfo newTab = this.mapTabInfo.get(tag);
        if (mLastTab != newTab) {
            FragmentTransaction ft = this.getSupportFragmentManager()
                    .beginTransaction();
            if (mLastTab != null) {
                if (mLastTab.fragment != null) {
                    ft.detach(mLastTab.fragment);
                }
            }
            if (newTab != null) {
                if (newTab.fragment == null) {
                    newTab.fragment = Fragment.instantiate(this,
                            newTab.clss.getName(), newTab.args);
                    ft.add(R.id.realtabcontent, newTab.fragment, newTab.tag);
                } else {
                    ft.attach(newTab.fragment);
                }
            }
            mLastTab = newTab;
            ft.commit();
            this.getSupportFragmentManager().executePendingTransactions();
        }
    }

} 
```

Tab1 片段类 - 包含列表视图：

```
package com.example.abe;

import java.util.ArrayList;

import android.annotation.TargetApi;
import android.app.Activity;
import android.content.Context;
import android.os.Build;
import android.os.Bundle;
import android.support.v4.app.ListFragment;
import android.util.Log;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.AbsListView;
import android.widget.AbsListView.OnScrollListener;
import android.widget.ArrayAdapter;
import android.widget.ListView;
import android.widget.Toast;

@TargetApi(Build.VERSION_CODES.HONEYCOMB)
public class Tab1Fragment extends ListFragment {
    ListView lv;
    Activity act = this.getActivity();
    Context ct = this.getActivity();
    XMLGettersSetters data;
    boolean loadingMore = false;
    String abc[] = new String[50];
    static int count = 0;
    final int itemsPerPage = 10;
    static ArrayList<String> myListItems = new ArrayList<String>();
    ArrayList<String> myListItems2;
    ArrayAdapter<String> adapter;
    ArrayAdapter<String> adapter1;

    static int size = 0;
    int position = 0;
    int top = 0;
    static String android_array1[];
    ArrayList<String> myListItems3;

    String parsed[] = new String[MainActivity.Sarray1.length];

    @SuppressWarnings("unused")
    @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container,
            Bundle savedInstanceState) {
        if (container == null) {
            return null;
        }
        myListItems2 = new ArrayList<String>();
        adapter = new ArrayAdapter<String>(getActivity().getBaseContext(),
                android.R.layout.simple_list_item_1, myListItems);
        View root = inflater.inflate(R.layout.tab_frag1_layout, container,
                false);
        lv = (ListView) root.findViewById(android.R.id.list);
        lv.setAdapter(adapter);
        parsed = MainActivity.Sarray1;
        for (int j = 0; j < parsed.length; j++) {
            System.out.println("sax" + parsed[j].toString());
        }

        // android_array1=SAXParserActivity.Sarray1;
        // for (int i=0 ; i < android_array1.length ; i++)
        // {
        // System.out.println("a"+android_array1[i].toString());
        // }
        return root;
    }

    @Override
    public void onViewCreated(View view, Bundle savedInstanceState) {
        super.onViewCreated(view, savedInstanceState);
        myListItems = new ArrayList<String>();
        int cnt = lv.getCount();
        // if(cnt < 10)
        // {
        // adapter = new ArrayAdapter<String>(getActivity().getBaseContext(),
        // android.R.layout.simple_list_item_1, myListItems);
        // lv.setAdapter(adapter);
        // }
        System.out.println("lv count" + " " + cnt);
        System.out.println("view count" + " " + count);
        // if(cnt!=count)
        // {
        // adapter = new ArrayAdapter<String>(getActivity().getBaseContext(),
        // android.R.layout.simple_list_item_1, myListItems);
        // }

        View footerView = ((LayoutInflater) this.getActivity()
                .getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(
                R.layout.listfooter, null, false);
        lv.addFooterView(footerView);
        lv.setAdapter(adapter);
        // this.setListAdapter(adapter);
        for (int i = 0; i < 50; i++) {
            abc[i] = "ab" + i;
        }
        this.getListView().setOnScrollListener(new OnScrollListener() {
            @Override
            public void onScrollStateChanged(AbsListView view, int scrollState) {
            }

            @Override
            public void onScroll(AbsListView view, int firstVisibleItem,
                    int visibleItemCount, int totalItemCount) {
                System.out.println(abc.length);
                System.out.println(count);
                System.out.println("First" + firstVisibleItem);
                System.out.println("Vis" + visibleItemCount);
                position = firstVisibleItem;
                View v = lv.getChildAt(0);
                top = (v == null) ? 0 : v.getTop();
                int lastInScreen = firstVisibleItem + visibleItemCount;
                System.out.println("Last" + lastInScreen);
                System.out.println("Total" + totalItemCount);
                if ((lastInScreen == totalItemCount) && !(loadingMore)) {
                    if (count < size) {
                        try {
                            Thread thread = new Thread(null, loadMoreListItems);
                            thread.start();
                        } catch (Exception e) {
                            e.printStackTrace();
                        }

                    }

                    else {
                        Toast.makeText(getActivity().getApplicationContext(),
                                "DATA =)", Toast.LENGTH_LONG).show();

                    }
                }
            }
        });
        try {
            Thread thread = new Thread(null, loadMoreListItems);
            thread.start();
        } catch (Exception e) {
            e.printStackTrace();
        }
    }

    private Runnable loadMoreListItems = new Runnable() {
        @Override
        public void run() {
            loadingMore = true;
            myListItems3 = new ArrayList<String>();
            try {
                Thread.sleep(1000);
            } catch (InterruptedException e) {
            }
            size = parsed.length;
            for (int i = 0; i < itemsPerPage; i++) {
                if (count < size) {
                    myListItems3.add(parsed[count].toString());
                    myListItems.add(myListItems3.get(i));
                    count = count + 1;
                } else {
                    break;
                }
            }
            Log.i("a", "b");
            try {
                getActivity().runOnUiThread(returnRes);
            } catch (Exception e) {
                e.printStackTrace();
            }
            Log.i("a", "b");
        }
    };
    private Runnable returnRes = new Runnable() {
        @Override
        public void run() {
            if (myListItems3 != null && myListItems3.size() > 0) {
                for (int j = 0; j < myListItems3.size(); j++) {
                    adapter.add(myListItems3.get(j));

                    adapter1.add(myListItems3.get(j));

                }
            }
            // setListAdapter(adapter);
            Log.i("a", "b");
            adapter.notifyDataSetChanged();
            // lv.setSelection(position);
            // lv.setSelectionFromTop(position, top);
            Log.i("a", "b");
            getActivity().setTitle(
                    "Neverending List with "
                            + String.valueOf(adapter.getCount()) + " items");
            loadingMore = false;

        }
    };
} 
```

Tab2 片段类 - 还包含列表视图：

```
/**
* 
*/
package com.example.abe;

import java.util.ArrayList;

import android.app.Activity;
import android.content.Context;
import android.os.Bundle;
import android.support.v4.app.Fragment;
import android.support.v4.app.ListFragment;
import android.util.Log;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.AbsListView;
import android.widget.ArrayAdapter;
import android.widget.LinearLayout;
import android.widget.ListView;
import android.widget.Toast;
import android.widget.AbsListView.OnScrollListener;

/**
* @author mwho
* 
*/
public class Tab2Fragment extends ListFragment {
    ListView lv;
    Activity act = this.getActivity();
    Context ct = this.getActivity();
    XMLGettersSetters data;
    boolean loadingMore = false;
    String abc[] = new String[50];
    static int count = 0;
    final int itemsPerPage = 10;
    static ArrayList<String> myListItems = new ArrayList<String>();
    ArrayList<String> myListItems2;
    ArrayAdapter<String> adapter;
    static int size = 0;
    int position = 0;
    int top = 0;
    ArrayList<String> myListItems3;
    String parsed[] = new String[MainActivity.Sarray2.length];

    @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container,
            Bundle savedInstanceState) {
        if (container == null) {

            return null;
        }

        myListItems2 = new ArrayList<String>();
        adapter = new ArrayAdapter<String>(getActivity().getBaseContext(),
                android.R.layout.simple_list_item_1, myListItems2);
        View root = inflater.inflate(R.layout.tab_frag1_layout, container,
                false);
        lv = (ListView) root.findViewById(android.R.id.list);
        lv.setAdapter(adapter);
        parsed = MainActivity.Sarray2;
        for (int j = 0; j < parsed.length; j++) {
            System.out.println("sax" + parsed[j].toString());
        }
        return root;
    }

    @Override
    public void onViewCreated(View view, Bundle savedInstanceState) {
        super.onViewCreated(view, savedInstanceState);
        myListItems = new ArrayList<String>();
        View footerView = ((LayoutInflater) this.getActivity()
                .getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(
                R.layout.listfooter, null, false);
        this.getListView().addFooterView(footerView);
        this.setListAdapter(adapter);
        for (int i = 0; i < 50; i++) {
            abc[i] = "ab" + i;
        }
        this.getListView().setOnScrollListener(new OnScrollListener() {
            @Override
            public void onScrollStateChanged(AbsListView view, int scrollState) {
            }

            @Override
            public void onScroll(AbsListView view, int firstVisibleItem,
                    int visibleItemCount, int totalItemCount) {
                System.out.println(abc.length);
                System.out.println(count);
                System.out.println("First" + firstVisibleItem);
                System.out.println("Vis" + visibleItemCount);
                position = firstVisibleItem;
                View v = lv.getChildAt(0);
                top = (v == null) ? 0 : v.getTop();
                int lastInScreen = firstVisibleItem + visibleItemCount;
                System.out.println("Last" + lastInScreen);
                System.out.println("Total" + totalItemCount);
                if ((lastInScreen == totalItemCount) && !(loadingMore)) {
                    if (count < size) {
                        try {
                            Thread thread = new Thread(null, loadMoreListItems);
                            thread.start();
                        } catch (Exception e) {
                            e.printStackTrace();
                        }

                    }

                    else {
                        Toast.makeText(getActivity().getApplicationContext(),
                                "DATA =)", Toast.LENGTH_LONG).show();
                    }
                }
            }
        });
        try {
            Thread thread = new Thread(null, loadMoreListItems);
            thread.start();
        } catch (Exception e) {
            e.printStackTrace();
        }
    }

    private Runnable loadMoreListItems = new Runnable() {
        @Override
        public void run() {
            loadingMore = true;
            myListItems3 = new ArrayList<String>();
            try {
                Thread.sleep(1000);
            } catch (InterruptedException e) {
            }
            size = parsed.length;
            for (int i = 0; i < itemsPerPage; i++) {
                if (count < size) {
                    myListItems3.add(parsed[count].toString());
                    myListItems.add(myListItems3.get(i));
                    count = count + 1;
                } else {
                    break;
                }
            }
            Log.i("a", "b");
            try {
                getActivity().runOnUiThread(returnRes);
            } catch (Exception e) {
                e.printStackTrace();
            }
            Log.i("a", "b");
        }
    };
    private Runnable returnRes = new Runnable() {
        @Override
        public void run() {
            if (myListItems3 != null && myListItems3.size() > 0) {
                for (int i = 0; i < myListItems3.size(); i++)
                    adapter.add(myListItems3.get(i));
            }
            setListAdapter(adapter);
            Log.i("a", "b");
            adapter.notifyDataSetChanged();
            // lv.setSelection(position);
            lv.setSelectionFromTop(position, top);
            Log.i("a", "b");
            getActivity().setTitle(
                    "Neverending List with "
                            + String.valueOf(adapter.getCount()) + " items");
            loadingMore = false;
        }
    };

} 
```

# android - 如何从android保存新行？

> ID：14473037
> 
> 赞同：1
> 
> 时间：2013-01-23T05:26:49.323
> 
> 标签：android, android-edittext

我正在从编辑文本框中保存数据并将其保存到pdf中......它工作正常，但如果我将文本写入多行......它需要作为单行......并用单行制作pdf文件......那么我怎样才能将新行保存到pdf中？？？这是发送数据以保存数据的代码...

```
Intent i = new Intent(AddText.this,GetText.class);
i.putExtra("data",editText.getText().toString());
startActivity(i); 
```

在下一页我正在获取数据....

```
String data = getIntent().getExtras().getString("data"); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-23T05:37:57.650

尝试这个：

```
Intent i = new Intent(AddText.this,GetText.class);
i.putExtra("data",(editText.getText().toString()).replaceAll("\\n", "\n"));
startActivity(i); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-23T05:36:44.027

使用`\n`任何你想使用新行的地方。在你的代码中。

假设如果您想保存带有名称的 pdf，`Android\npdf`那么您必须只输入这样的内容，您可以获得字符串

# node.js - 如何使用 node.js 对谷歌用户进行身份验证

> ID：14473041
> 
> 赞同：4
> 
> 时间：2013-01-23T05:27:23.600
> 
> 标签：node.js

我正在使用`node.js`我的应用程序，我必须通过谷歌进行用户身份验证。我看过`passport-google`模块，但我没有从中得到任何想法，并且用户名和密码没有变量。

一件事是我的应用程序是桌面应用程序。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-23T09:23:37.647

对于这两种情况，您都可以通过 OAuth 或 OpenID 进行操作，passport.js 上有非常详细的示例，您还需要什么

对于 OAuth 示例 [https://github.com/jaredhanson/passport-google-oauth/blob/master/examples/oauth2/app.js](https://github.com/jaredhanson/passport-google-oauth/blob/master/examples/oauth2/app.js)

对于 OpenID 示例（已弃用） [https://github.com/jaredhanson/passport-google/blob/master/examples/signon/app.js](https://github.com/jaredhanson/passport-google/blob/master/examples/signon/app.js)

我认为它们是非常自我解释的..

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-10T21:13:52.773

`googleapis`[模块支持 OAuth 2.0，在https://github.com/google/google-api-nodejs-client/blob/master/examples/oauth2.js](https://github.com/google/google-api-nodejs-client/blob/master/examples/oauth2.js)上有一个例子

# javascript - 如何调用以相同字母开头的多个变量以及如何调用包含某个值的所有变量？

> ID：14473047
> 
> 赞同：0
> 
> 时间：2013-01-23T05:27:41.973
> 
> 标签：javascript, jquery, variables

我需要以下两个代码
1）选择所有以“示例”开头的变量
的代码 2）选择所有具有“真”作为“可用”值的变量的代码

```
example1= {price:1000, size: 1000, available:true}
example2= {price:2000, size: 2000, available:false}
example3= {price:3000, size: 3000, available:true}
example4= {price:4000, size: 4000, available=true} 
```

这就是我想通过代码一实现的目标。由于有很多变量，我需要一种快速的方法：

```
var allexampleprices=[example1.price, example2.price, example3.price, example4.price] 
```

使用第二个代码，我想获得一个包含所有包含值“false”的变量名称的数组

任何帮助表示赞赏！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-23T06:06:26.623

假设您不在函数中，所有这些都是完全相同的：

```
var myVar       = 7;
window.myVar    = 7;
window["myVar"] = 7; 
```

因此，您可以使用 window[ insertString ] 方法访问任何全局变量（在函数外部定义的变量）。如果您想搜索 window 对象上的每个属性以找到一个名为 example，您可以这样做：

```
for( var k in window ){
  if(/example/.test(k)){
    var myExample = window[k];
    // Do stuff
  }
} 
```

不过，出于多种原因，我强烈建议不要使用这种方法。首先，将任何东西放在全局范围内是一种非常糟糕的做法。变量将开始在大型项目中到处发生冲突。此外，window 对象有很多属性，搜索所有这些属性是一个可怕的性能消耗。

说了这么多，我已经设计了一个你应该做什么的例子，包括帮助函数：

```
var objects =
{
  example1:
  {
    price: 1000,
    size: 1000,
    available: true
  },

  example2:
  {
    price: 2000,
    size: 2000,
    available: false
  },

  example3:
  {
    price: 3000,
    size: 3000,
    available: true
  },

  example4:
  {
    price: 4000,
    size: 4000,
    available: true
  }
}

function filter(obj, comparator){
  var list = [];
  for(var k in obj){
    if(obj.hasOwnProperty(k)){ // fix for IE
      if(comparator(obj[k], k, obj)) list.push(obj[k]);
    }
  }
  return list;
}

function isExample(obj, key){
  if(/^example/.test( key.toLowerCase() )) return true;
}

function isAvailable(obj){
  if(obj.available) return true;
}

/**
 * And here's how you use it
 */

var examples  = filter(objects, isExample);
var available = filter(objects, isAvailable);

var availableExample = filter(examples, isAvailable); 
```

filter 函数返回一个包含所有匹配对象的数组。

- - 编辑 - -

您希望它说出控制台中对象的名称。我假设您的意思是控制台当前显示 [object, object, object, object]。有两种方法可以做到这一点：

(1) 把名字放在对象本身

```
example1:
{
  name: "example1",
  price: 1000,
  size: 1000,
  available: true
} 
```

(2)在过滤操作中捕获名称

```
var names = [];
var examples  = filter(objects, function(obj, name){
  if(/^example/.test( name.toLowerCase() )){
    names.push(name);
    return true;
  }
});

console.log(names); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-23T05:34:53.440

如果所有变量都在全局范围内，我喜欢下面

```
 var passedElements = [];
  for(var i = 1, l = 100 /* Maximum number of variable */ ; i < l; i++){
       if(window['example' + i]){
          var temp = window['example' + i];
          if(temp.available === true){
             passedElements.push(temp);
          }
       }/*
       else{
          // Dont break the loop here, if any variable is missing in between 
             two variables it will fail. Eg : Example1, Example3.. 2 is missing.
       }*/
  }
  console.log(passedElements); 
```

我希望它会有所帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-23T05:42:32.047

似乎以下行是由一些逻辑代码生成的： var example1= {price:1000, size: 1000, available:true}

为什么不简单地将可变名称存储在另一个应该为您提供 Q-1 解决方案的数组中。

然后您可以轻松遍历所有变量（数组）以找到具有“真”作为“可用”值的变量

# delphi - 如何在 Delphi XE2 中处理 OnTimer 事件？

> ID：14473048
> 
> 赞同：2
> 
> 时间：2013-01-23T05:27:52.830
> 
> 标签：delphi, delphi-xe2, delphi-2010

我需要在每天上午 9 点显示一条消息说“嗨”。我需要计时器吗？我如何检查是否是上午 9 点。`OnTimer`事件运行的计时器间隔应该是多少？

```
procedure Form1.TimerTimer1(Sender: TObject);
begin
  ShowMessage("Hi");
end; 
```

如果我在 24 小时后运行此事件，我担心它可能会超过上午 9 点并且不会触发。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-01-23T05:38:05.620

除非您有其他正当理由，否则要容易得多

*   编写一个显示消息并退出的简单应用程序
*   使用 Windows 的任务调度程序安排它运行

![在此处输入图像描述](../Images/d70a17d50a5b61a3dd3d3b5b02b1eaee.png)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-23T13:28:44.450

您可以为 Delphi 使用类似 CRON 的解决方案：[http ://www.cromis.net/blog/downloads/cron-scheduler/](http://www.cromis.net/blog/downloads/cron-scheduler/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-31T12:22:10.153

正如我之前的回答者所说，有更好更简单的方法。假设您想以自己的方式在 Delphi 中执行此操作，那么是的，您需要一个计时器。所需的步骤是：

1.  把计时器放在你的表格上；
2.  将“间隔”属性设置为 1000（一秒）或更小。为了获得更高的精度，您可以将间隔属性设置为 1，程序将每毫秒检查一次
3.  编写 OnTimer 的处理程序：

    ```
    procedure Form1.TimerTimer1(Sender: TObject);
    var x:TDateTime
    begin
    x:=Now;
    if {the hour read is 9 and minute is 0} then
    ShowMessage("Hi");
    end; 
    ```

希望能帮助到你。

# php - 在 php 中使用 fpdf 在 pdf 文件中创建饼图

> ID：14473049
> 
> 赞同：2
> 
> 时间：2013-01-23T05:27:52.910
> 
> 标签：php

我想在使用创建的 pdf 文件中创建饼图`fpdf`。我已经用`fpdf`. 然后我想使用相同的表格数据创建饼图，是否有任何选项可以使用 fpdf 创建饼图？请帮忙。

提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-23T05:39:33.217

试试这个根据您的要求更改代码：
您可以使用 pdf 助手在您的 pdf 上显示以下视图文件。
您可以使用 dom pdf helper 从以下链接下载它。 [http://code.google.com/p/dompdf/downloads/detail?name=dompdf_0-6-0_beta3.zip](http://code.google.com/p/dompdf/downloads/detail?name=dompdf_0-6-0_beta3.zip)

```
<?php    

$show_label = true; // true = show label, false = don't show label.
$show_percent = true; // true = show percentage, false = don't show percentage.
$show_text = true; // true = show text, false = don't show text.
$show_parts = false; // true = show parts, false = don't show parts.
$label_form = 'square'; // 'square' or 'round' label.
$width = 199;
$background_color = 'FFFFFF'; // background-color of the chart...
$text_color = '000000'; // text-color.
$colors = array('003366', 'CCD6E0', '7F99B2','F7EFC6', 'C6BE8C', 'CC6600','990000','520000','BFBFC1','808080'); // colors of the slices.
$shadow_height = 16; // Height on shadown.
$shadow_dark = true; // true = darker shadow, false = lighter shadow...

// DON'T CHANGE ANYTHING BELOW THIS LINE...

$data = $_GET["data"];
$label = $_GET["label"];

$height = $width/2;
$data = explode('*',$data);

if ($label != '') $label = explode('*',$label);

for ($i = 0; $i < count($label); $i++) 
{
    if ($data[$i]/array_sum($data) < 0.1) $number[$i] = ' '.number_format(($data[$i]/array_sum($data))*100,1,',','.').'%';
    else $number[$i] = number_format(($data[$i]/array_sum($data))*100,1,',','.').'%';
    if (strlen($label[$i]) > $text_length) $text_length = strlen($label[$i]);
}

if (is_array($label))
{
    $antal_label = count($label);
    $xtra = (5+15*$antal_label)-($height+ceil($shadow_height));
    if ($xtra > 0) $xtra_height = (5+15*$antal_label)-($height+ceil($shadow_height));

    $xtra_width = 5;
    if ($show_label) $xtra_width += 20;
    if ($show_percent) $xtra_width += 45;
    if ($show_text) $xtra_width += $text_length*8;
    if ($show_parts) $xtra_width += 35;
}

$img = ImageCreateTrueColor($width+$xtra_width, $height+ceil($shadow_height)+$xtra_height);

ImageFill($img, 0, 0, colorHex($img, $background_color));

foreach ($colors as $colorkode) 
{
    $fill_color[] = colorHex($img, $colorkode);
    $shadow_color[] = colorHexshadow($img, $colorkode, $shadow_dark);
}

$label_place = 5;

if (is_array($label))
{
    for ($i = 0; $i < count($label); $i++) 
    {
        if ($label_form == 'round' && $show_label  && $data[$i] > 0)
        {
            imagefilledellipse($img,$width+11,$label_place+5,10,10,colorHex($img, $colors[$i % count($colors)]));
            imageellipse($img,$width+11,$label_place+5,10,10,colorHex($img, $text_color));
        }
        else if ($label_form == 'square' && $show_label && $data[$i] > 0)
        {   
            imagefilledrectangle($img,$width+6,$label_place,$width+16,$label_place+10,colorHex($img, $colors[$i % count($colors)]));
            imagerectangle($img,$width+6,$label_place,$width+16,$label_place+10,colorHex($img, $text_color));
        }

        if ($data[$i] > 0)
        {
            if ($show_percent) $label_output = $number[$i].' ';
            if ($show_text) $label_output = $label_output.$label[$i].' ';
            if ($show_parts) $label_output = $label_output.$data[$i];

            imagestring($img,'2',$width+20,$label_place,$label_output,colorHex($img, $text_color));
            $label_output = '';

            $label_place = $label_place + 15;
        }
    }
}
$centerX = round($width/2);
$centerY = round($height/2);
$diameterX = $width-4;
$diameterY = $height-4;

$data_sum = array_sum($data);

$start = 270;

for ($i = 0; $i < count($data); $i++) 
{
    $value += $data[$i];
    $end = ceil(($value/$data_sum)*360) + 270;
    $slice[] = array($start, $end, $shadow_color[$value_counter % count($shadow_color)], $fill_color[$value_counter % count($fill_color)]);
    $start = $end;
    $value_counter++;
}

for ($i=$centerY+$shadow_height; $i>$centerY; $i--) 
{
    for ($j = 0; $j < count($slice); $j++)
    {
        if ($slice[$j][0] != $slice[$j][1]) ImageFilledArc($img, $centerX, $i, $diameterX, $diameterY, $slice[$j][0], $slice[$j][1], $slice[$j][2], IMG_ARC_PIE);
    }
}   

for ($j = 0; $j < count($slice); $j++)
{
    if ($slice[$j][0] != $slice[$j][1]) ImageFilledArc($img, $centerX, $centerY, $diameterX, $diameterY, $slice[$j][0], $slice[$j][1], $slice[$j][3], IMG_ARC_PIE);
}

OutputImage($img);
ImageDestroy($img);

function colorHex($img, $HexColorString) 
{
    $R = hexdec(substr($HexColorString, 0, 2));
    $G = hexdec(substr($HexColorString, 2, 2));
    $B = hexdec(substr($HexColorString, 4, 2));
    return ImageColorAllocate($img, $R, $G, $B);
}

function colorHexshadow($img, $HexColorString, $mork) 
{
    $R = hexdec(substr($HexColorString, 0, 2));
    $G = hexdec(substr($HexColorString, 2, 2));
    $B = hexdec(substr($HexColorString, 4, 2));

    if ($mork)
    {
        ($R > 99) ? $R -= 100 : $R = 0;
        ($G > 99) ? $G -= 100 : $G = 0;
        ($B > 99) ? $B -= 100 : $B = 0;
    }
    else
    {
        ($R < 220) ? $R += 35 : $R = 255;
        ($G < 220) ? $G += 35 : $G = 255;
        ($B < 220) ? $B += 35 : $B = 255;               
    }           

    return ImageColorAllocate($img, $R, $G, $B);
}

function OutputImage($img) 
{
    header('Content-type: image/jpg');
    ImageJPEG($img,NULL,100);
} 
?> 
```

希望对你有帮助... ：）

# asp.net - Asp.net 使用多个服务器形成身份验证 IIS 7.5

> ID：14473050
> 
> 赞同：1
> 
> 时间：2013-01-23T05:27:54.177
> 
> 标签：asp.net, iis-7, timeout, iis-7.5

我有一个在 Windows 2008 R2 (IIS 7.5) 上运行的 Asp.Net Web 应用程序。我有两台服务器 WWW1 和 WWW2，DNS 记录是为“www”的循环 DNS 设置的。我增加了 AppPool 超时和会话状态超时设置，这样用户就不会在 20 分钟后退出。但是我注意到用户正在随机注销。我认为正在发生的事情是用户访问 www.foo.com 并登录，然后一段时间后循环将他们导航到集群中的对面服务器（WWW1 或 WWW2），其中未创建 cookie，因此提示他们登录。

我怎样才能让它工作并仍然使用循环 DNS 保持我的高可用性解决方案？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-23T06:03:04.457

这里的问题是每台服务器都在内存中维护自己的会话状态，并且不知道在另一台服务器上创建的会话。

为了解决这个问题，您需要使用 StateServer 或 SQLServer 会话状态提供程序，而不是使用默认的 InProc 会话状态提供程序。

为此，您需要确保 ASP.NET 状态服务正在您的一台服务器上运行，然后您需要将以下配置项添加到应用程序的 web.config 文件的 system.web 部分，替换'SampleStateServer' 与您正在运行 ASP.NET 状态服务的服务器的名称：

```
 <sessionState mode="StateServer"
      stateConnectionString="tcpip=SampleStateServer:42424"
      cookieless="false"
      timeout="20"/> 
```

Microsoft 的相关文档可在[http://msdn.microsoft.com/en-us/library/ms178586.aspx获得](http://msdn.microsoft.com/en-us/library/ms178586.aspx)

因为您在 Web 场中运行它，您还需要确保两台服务器上的 Web 应用程序使用相同的加密密钥。

为此，您需要在 web.config 中设置一个 machineKey 条目，其中涉及将如下条目添加到 web.config 的 system.web 部分：

```
<machineKey validationKey="4D0590A0E4DE163BAD0EEEB6747467D770CD5FB2EA95BF02B27787A45CA579DECB01E2A1F16563DBAB44C1C0E54C7E53D65F2A7D0FDF378F4D3702B3F2C8B165" decryptionKey="928771D7B1B8C32608F56AC428EC5902985F6FB2E6E9A78733B6EAA493FA13F5" validation="SHA1" decryption="AES" /> 
```

有几个网站会为您生成密钥。我通常使用[http://aspnetresources.com/tools/machineKey](http://aspnetresources.com/tools/machineKey)

如果您想改用 SQLState 提供程序， http: [//msdn.microsoft.com/en-us/library/ms178586.aspx](http://msdn.microsoft.com/en-us/library/ms178586.aspx)在页面的“Sql Server 模式”部分下提供了所有配置信息。由于您必须配置一个用于存储状态的数据库，因此设置会稍微复杂一些。

# facebook - 我可以为自定义对象创建名称为“Like”的 facebook 自定义图形 API 操作吗？

> ID：14473060
> 
> 赞同：1
> 
> 时间：2013-01-23T05:29:02.463
> 
> 标签：facebook, facebook-graph-api, facebook-like

在 facebook graph API 中，我可以为任何自定义对象创建名为“ *Like ”的自定义操作吗？*

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-23T16:57:48.937

不可以。您不能使用预定义的操作名称。

# google-app-engine - 启动器无法连接到 App Engine 服务器

> ID：14473062
> 
> 赞同：0
> 
> 时间：2013-01-23T05:29:04.427
> 
> 标签：google-app-engine

我的网站已经运行了一个月了。管理控制台和服务器日志中的一切看起来都很好。但是，每当我尝试使用 Launcher 进行部署时，都会收到以下错误：

```
12:25 AM Getting current resource limits.
2013-01-23 00:25:36,056 ERROR appcfg.py:2203 An error occurred processing file '': <urlopen error [Errno 10061] No connection could be made because the target machine actively refused it>. Aborting. 
Traceback (most recent call last):
  File "C:\Program Files (x86)\Google\google_appengine\appcfg.py", line 171, in <module>
    run_file(__file__, globals())
  File "C:\Program Files (x86)\Google\google_appengine\appcfg.py", line 167, in run_file
    execfile(script_path, globals_)
  File "C:\Program Files (x86)\Google\google_appengine\google\appengine\tools\appcfg.py", line 4377, in <module>
    main(sys.argv)
  File "C:\Program Files (x86)\Google\google_appengine\google\appengine\tools\appcfg.py", line 4368, in main
    result = AppCfgApp(argv).Run()
  File "C:\Program Files (x86)\Google\google_appengine\google\appengine\tools\appcfg.py", line 2605, in Run
    self.action(self)
  File "C:\Program Files (x86)\Google\google_appengine\google\appengine\tools\appcfg.py", line 4103, in __call__
    return method()
  File "C:\Program Files (x86)\Google\google_appengine\google\appengine\tools\appcfg.py", line 3115, in Update
    self.UpdateVersion(rpcserver, self.basepath, appyaml)
  File "C:\Program Files (x86)\Google\google_appengine\google\appengine\tools\appcfg.py", line 3097, in UpdateVersion
    return appversion.DoUpload(paths, openfunc)
  File "C:\Program Files (x86)\Google\google_appengine\google\appengine\tools\appcfg.py", line 2173, in DoUpload
    self.resource_limits = GetResourceLimits(self.rpcserver, self.config)
  File "C:\Program Files (x86)\Google\google_appengine\google\appengine\tools\appcfg.py", line 358, in GetResourceLimits
    resource_limits.update(GetRemoteResourceLimits(rpcserver, config))
  File "C:\Program Files (x86)\Google\google_appengine\google\appengine\tools\appcfg.py", line 329, in GetRemoteResourceLimits
    version=config.version)
  File "C:\Program Files (x86)\Google\google_appengine\google\appengine\tools\appengine_rpc.py", line 391, in Send
    f = self.opener.open(req)
  File "C:\Python27\lib\urllib2.py", line 400, in open
    response = self._open(req, data)
  File "C:\Python27\lib\urllib2.py", line 418, in _open
    '_open', req)
  File "C:\Python27\lib\urllib2.py", line 378, in _call_chain
    result = func(*args)
  File "C:\Python27\lib\urllib2.py", line 1215, in https_open
    return self.do_open(httplib.HTTPSConnection, req)
  File "C:\Program Files (x86)\Google\google_appengine\lib\fancy_urllib\fancy_urllib\__init__.py", line 383, in do_open
    raise url_error
urllib2.URLError: <urlopen error [Errno 10061] No connection could be made because the target machine actively refused it>
2013-01-23 00:25:36 (Process exited with code 1) 
```

事实上，即使使用 Help -> Check For Updates... 也会显示以下警告：

```
Cannot perform proper version check.
cannot_contact_server
release: "1.7.4"
timestamp: 1352314290
api_versions: ['1'] 
```

有人知道是什么原因造成的吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-23T14:45:39.947

我的问题是我命名`http_proxy`并`https_proxy`设置了 Python 的 urllib2 用来通过代理路由所有连接的环境变量。删除这些环境变量可以解决问题。

# build - mingw下搭建RecastNavigation

> ID：14473065
> 
> 赞同：0
> 
> 时间：2013-01-23T05:29:20.037
> 
> 标签：build, reference, mingw, undefined, msys

我正在尝试通过 MinGW 构建 RecastNavigation，除了 RecastDemo 应用程序之外，一切似乎都构建得很好。

我弄完了：

```
cmake -G"MSYS Makefiles" -DSDL_INCLUDE_DIR:PATH=/c/_libdist/x86/msys/include/SDL \
-DSDL_LIBRARY:PATH=/c/_libdist/x86/msys/lib/libSDL.a \
-DSDLMAIN_LIBRARY:PATH=/c/_libdist/x86/msys/lib/libSDLMain.a .. 
```

然后**make VERBOSE=1**在最后给我这个（删掉一堆未定义）：

```
cd /C/_lib/blackberry/RecastNavigation/build.msys/RecastDemo && /C/app/MinGW/bin/g++.exe  -O3 -DNDEBUG    -mwindows -Wl,
--whole-archive CMakeFiles/RecastDemo.dir/objects.a -Wl,--no-whole-archive  -o ../../RecastDemo/Bin/RecastDemo.exe -Wl,-
-out-implib,../../RecastDemo/Bin/libRecastDemo.dll.a -Wl,--major-image-version,0,--minor-image-version,0  ../DebugUtils/
libDebugUtils.a ../Detour/libDetour.a ../DetourCrowd/libDetourCrowd.a ../DetourTileCache/libDetourTileCache.a ../Recast/
libRecast.a /c/_libdist/x86/msys/lib/libSDL.a /c/_libdist/x86/msys/lib/libSDLMain.a -lglu32 -lopengl32 -lkernel32 -luser
32 -lgdi32 -lwinspool -lshell32 -lole32 -loleaut32 -luuid -lcomdlg32 -ladvapi32
Creating library file: ../../RecastDemo/Bin/libRecastDemo.dll.a
c:/_libdist/x86/msys/lib/libSDL.a(SDL_systimer.o): In function `SDL_StartTicks':
c:\_lib\SDL\1.2.15/./src/timer/win32/SDL_systimer.c:67: undefined reference to `timeBeginPeriod@4'
c:\_lib\SDL\1.2.15/./src/timer/win32/SDL_systimer.c:68: undefined reference to `timeGetTime@0'
c:/_libdist/x86/msys/lib/libSDL.a(SDL_systimer.o): In function `SDL_GetTicks':
...
...
...
c:/app/mingw/bin/../lib/gcc/mingw32/4.6.2/../../../libmingw32.a(main.o): In function `main':
C:\MinGW\msys\1.0\src\mingwrt/../mingw/main.c:73: undefined reference to `WinMain@16'
collect2: ld returned 1 exit status
make[2]: *** [../RecastDemo/Bin/RecastDemo.exe] Error 1 
```

我不确定在哪里可以探索更多，因为图书馆的顺序似乎是正确的。我在这里想念什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-26T01:08:30.813

问题是您缺少链接库，在这种情况下为 mingw32。修复它的最简单方法是告诉 CMake 在哪里可以找到 SDL。您可以通过设置 SDLDIR 环境变量来执行此操作（请参阅[http://cmake.org/cmake/help/v2.8.10/cmake.html#module:FindSDL](http://cmake.org/cmake/help/v2.8.10/cmake.html#module:FindSDL)）。因此，根据您的 SDL 安装位置，从您的 MinGW 提示符：

```
export SDLDIR=/c/_libdist/x86/msys 
```

然后运行 ​​CMake：

```
cmake -G "MSYS Makefiles" .. 
```

这应该会找到 SDL 并正确设置 SDL 包含目录和链接库。

但是，CMake 中存在一个错误，它以错误的顺序将库传递给链接器，请参阅[http://public.kitware.com/Bug/view.php?id=13769](http://public.kitware.com/Bug/view.php?id=13769)。该错误已修复，但尚未出现在最新版本 (2.8.10.2) 中。

在发布新的 CMake 版本之前，您可以编辑构建目录中 CMakeCache.txt 中缓存的 SDL_LIBRARY 值，并切换 SDL 库的顺序，然后再次运行 CMake。

# c - 将数据 memcpy 转换为整数时产生了错误的数字？

> ID：14473068
> 
> 赞同：1
> 
> 时间：2013-01-23T05:29:32.337
> 
> 标签：c, parsing, pointers, buffer, memcpy

我有一个像这样的字符缓冲区

```
char *buff = "aaaa0006france"; 
```

我想提取字节 4 到 7 并将其存储在一个 int 中。

```
int i;
memcpy(&i, buff+4, 4);
printf("%d ", i); 
```

但它会打印垃圾值。

这有什么问题？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-23T05:38:31.403

字符串

```
0006 
```

没有与整数 6 相同的二进制表示。相反，它的位表示为四个 ASCII 字符，分别表示字形 0、字形 0、字形 0、然后是字形 6。这具有十六进制表示

```
0x30303036 
```

如果您尝试在 little-endian 系统上盲目地将这些位重新解释为数字，您会得到 808,464,438。在大端系统上，你会得到 909,127,728。

如果要将字符串的子字符串转换为数字，则需要寻找将文本字符串转换为数字的函数。您可能想尝试这样的事情：

```
char digits[5];

/* Copy over the digits in question. */
memcpy(digits, buff + 4, 4);
digits[4] = '\0';  /* Make sure it's null-terminated! */

/* Convert the string to a number. */
int i = strtol(digits + 4, NULL, 10); 
```

这使用`strtol`将文本字符串转换为数字的函数将文本显式转换为整数。

希望这可以帮助！

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-23T11:11:38.937

这里需要注意两点

*   字符是如何存储的
*   系统的字节序

每个字符（字母、数字或特殊字符）都存储为 7 位 ASCII 值。在`memcpy`将字符串（字符数组）“0006”转换为 4 字节的 int 变量时，我们必须将字符串的地址作为源，将 int 的地址作为目标，如下所示。

```
char a[] = "0006";
int b = 0, c = 6;
memcpy(&b, a, 4); 
```

a 和 b 的值存储如下。

```
a 00110110 00110000 00110000 00110000
b 00000000 00000000 00000000 00000000
c 00000000 00000000 00000000 00000110
  MSB                             LSB 
```

因为字符的 ASCII 值`0`是 48，`6`字符是 54。现在`memcpy`将尝试复制 to 中存在的任何`a`值`b`。b`memcpy`的值如下所示

```
a 00110110 00110000 00110000 00110000
b 00110110 00110000 00110000 00110000
c 00000000 00000000 00000000 00000110
  MSB                             LSB 
```

接下来是字节序。现在考虑我们`0006`以其他方式将值保存到字符缓冲区，`a[0] = 0; a[1] = 0; a[2]=0; a[3] = 6;`如果我们这样做，如果它是小端机器`memcpy`，我们将获得 100663296() 而不是 6 的值。`0x6000000`在大端机器中，您将`6`仅获得该值。

```
c 00000110 00000000 00000000 00000000
b 00000110 00000000 00000000 00000000
c 00000000 00000000 00000000 00000110
  MSB                             LSB 
```

所以这两个问题我们在编写一个将数字宪章转换为整数值的函数时需要考虑。这些问题的简单解决方案是利用现有的系统api `atoi`。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-23T05:52:17.647

下面的代码可能会帮助你...

```
#include <stdio.h>

int main()
{
char *buff = "aaaa0006france";
char digits[5];

memcpy(digits, buff + 4, 4);
digits[4] = '\0';

int a = atoi(digits);
printf("int : %d", a);

return 0;
} 
```

# spring - 在 Spring MVC 中，void 返回类型意味着视图将从 URL 或方法名称派生？

> ID：14473071
> 
> 赞同：0
> 
> 时间：2013-01-23T05:29:58.783
> 
> 标签：spring, spring-mvc, spring-3

我正在使用`Spring 3.0.6`，并且注意到了一些（显然）矛盾的陈述，这些陈述涉及控制器方法声明 void 返回类型（或返回 null）时会发生什么。考虑以下 ：

```
@Controller
@RequestMapping(value="admin/*")
public class AdminController {

    @RequestMapping
    public ResponseEntity<String> hello() { 
      System.out.println("hellooooooo");
    }
} 
```

这将视图名称作为方法名称，如此[处](https://stackoverflow.com/questions/9718635/spring-mvc-requestmapping-using-method-name-as-action-value)所述。但正如在[此处](https://stackoverflow.com/questions/6875255/what-does-it-mean-when-spring-mvc-controller-returns-null-view-name)接受的答案中所述，视图名称源自 url（而不是方法名称）。有问题的方法是：

```
@Controller
@RequestMapping("/form")
public class FormController {
    @RequestMapping(method=RequestMethod.POST)
    public String processSubmit(@Valid FormBean form, 
                BindingResult result, 
                WebRequest webRequest, 
                HttpSession session, Model model) {

        if (result.hasErrors()) {
             return null;
        } else {
            session.setAttribute("form", form);
            return "redirect:/form";            
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-23T07:01:46.380

skaffman在[Spring MVC @Controller 返回空视图名称时意味着什么](https://stackoverflow.com/questions/6875255/what-does-it-mean-when-spring-mvc-controller-returns-null-view-name)[？](https://stackoverflow.com/a/6875333/280244)是正确的，因为代码不会说谎。

因此，根据文档和代码：视图名称是从 url 派生的（而不是从方法名称派生的）。

我认为另一个问题（[Spring MVC @RequestMapping ... 使用方法名称作为操作值？](https://stackoverflow.com/questions/9718635/spring-mvc-requestmapping-using-method-name-as-action-value)）（及其答案）有点误导，因为请求 url 和方法名称是相同的。

# permissions - 在 WinJS 中获取“文件夹访问权限”

> ID：14473075
> 
> 赞同：0
> 
> 时间：2013-01-23T05:30:38.357
> 
> 标签：permissions, directory, winjs

我正在构建一个有项目的应用程序。一个项目中可以有许多文件，这些文件是从一个项目文件中指向的。这些文件被复制到项目文件夹中，所以我知道它们将在哪里，但据我所知，在 WinJS 中，您只能访问用户直接授予访问权限的文件。用户将选择项目文件，我将能够阅读它，但我无法访问项目文件。我知道我可以做一些事情，比如将项目打包为单个文件，然后在我的应用程序本地文件系统中提取单个文件，但这样做对我来说不是最佳的，如果我更愿意做基于文件夹的结构能够。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-23T16:07:42.403

我不完全确定我明白了，但我会试一试。在 Windows 应用商店应用中，您可以访问的不仅仅是用户直接授予的访问权限。如果您想从计算机上的任何位置（我们通过 FilePicker 合同从其他应用程序）选择文件，那么，是的，用户必须选择它们，但是您的应用程序可以完全访问隔离存储，并且如果它声明访问用户的文档库并且用户允许它，那么您也可以在那里访问（访问您声明的文件类型）。

我认为选择隔离存储与用户文档库的选择归结为用户是否希望在您的应用程序之外拥有项目文件。他们可以通过电子邮件将项目发送给朋友吗？他们可能会使用另一个应用程序来操纵该项目吗？他们可能想支持这个项目吗？如果是这样，请使用他们的文档库。如果不是，则数据是*应用程序数据*而不是*用户数据*，并且可以存储在本地应用程序存储中。希望能回答这个问题。如果不是，请澄清。

# installation - 如何在 Windows 7 中安装 openbravo ERP？

> ID：14473082
> 
> 赞同：0
> 
> 时间：2013-01-23T05:31:24.470
> 
> 标签：installation, erp, openbravo

如何在 Windows 7 中安装和设置 openbravo ERP？我应该下载哪个包？我对此一无所知。请指导我。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-25T10:12:39.077

通过这个[**链接**](http://wiki.openbravo.com/wiki/ERP_2.50:Openbravo_ERP_Installation/Custom_Installation)。

它为您提供有关系统要求、设置环境和下载源代码然后构建它的完整信息。

希望这可以帮助。

# c++ - 可变模板参数的完美转发

> ID：14473085
> 
> 赞同：6
> 
> 时间：2013-01-23T05:32:05.363
> 
> 标签：c++, c++11, variadic-templates, perfect-forwarding

我为通用信号/插槽系统编写了以下实现：

```
template< typename... Args >
class Signal : NonCopyable
{
public:

    typedef std::function< void (Args...) > Delegate;

    void connect(const Delegate& delegate);
    void operator ()(Args&&... args) const;

private:

    std::list< Delegate > _delegates;
};

template< typename... Args >
void Signal< Args... >::connect(const Delegate& delegate)
{
    _delegates.push_front(delegate);
}

template< typename... Args >
void Signal< Args... >::operator ()(Args&&... args) const
{
    for (const Delegate& delegate : _delegates)
        delegate(std::forward< Args >(args)...);
} 
```

之后，我使用以下简单案例测试了我的课程：

```
Signal< int > signal;

// Case 1
signal(0);

//Case 2
int i(0);
signal(i); 
```

案例 1 编译没有问题。另一方面，案例 2 在 GCC 4.7.2 下会产生以下错误：

```
/home/pmjobin/Workspace/main.cpp:1196:10: error: cannot bind ‘int’ lvalue to ‘int&&’
/home/pmjobin/Workspace/main.cpp:82:6: error:   initializing argument 1 of ‘void Signal<Args>::operator()(Args&& ...) const [with Args = {int}]’ 
```

我知道这个问题与完美转发有关（以及我对后者的误解）。但是，我从 std::make_shared() 和 std::make_tuple() 实现中得到了启发，我看不到将可变参数转发给代表的方式有什么不同。唯一显着的区别是 make_shared() 和 make_tuple() 都是函数模板，而不是类模板，例如上面的 Signal 实现。

**- 编辑 -**

作为对各种评论的回应，这里是一个新版本的 Signal 类实现，它不会受到上述问题的影响。此外，现在可以使用连接函数返回的不透明令牌断开委托。结果可能不像其他实现（例如 boost::signal）那样灵活和强大，但至少它具有简单和轻量级的优点。

```
template< typename Signature >
class Signal : NonCopyable
{
public:

    typedef std::function< Signature > Delegate;

    class DisconnectionToken
    {
        DisconnectionToken(typename std::list< Delegate >::iterator it)
            : _it(it)
        {}

        typename std::list< Delegate >::iterator _it;

        friend class Signal;
    };

    DisconnectionToken connect(const Delegate& delegate);
    void disconnect(DisconnectionToken& token);

    template< typename... Args >
    void operator ()(Args&&... args) const;

private:

    std::list< Delegate > _delegates;
};

template< typename Signature >
typename Signal< Signature >::DisconnectionToken Signal< Signature >::connect(const Delegate& delegate)
{
    _delegates.push_front(delegate);
    return DisconnectionToken(_delegates.begin());
}

template< typename Signature >
void Signal< Signature >::disconnect(DisconnectionToken& token)
{
    if (token._it != _delegates.end())
    {
        _delegates.erase(token._it);
        token._it = _delegates.end();
    }
}

template< typename Signature >
template< typename... Args >
void Signal< Signature >::operator ()(Args&&... args) const
{
    for (const Delegate& delegate : _delegates)
        delegate(std::forward< Args >(args)...);
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-23T05:54:32.337

问题是您将模板参数明确指定为`int`. 正如 Nawaz 提到的，`Args&&...`被扩展为`int&&`并且您不能将左值绑定到右值引用。

完美转发起作用的原因是，当您调用一个函数（例如）而不指定模板参数时，它们会被推导出为`&`or`&&`然后引用崩溃（如果您不知道那是什么，请阅读参考崩溃）。不过，您*确实*明确指定了它，因此您禁止引用折叠并将其全部搞砸。

您可以做的一件事是给`operator()`它自己的模板参数列表：

```
template<typename... Args2>
void operator ()(Args2&&... args) const;

...

template< typename... Args >
template< typename... Args2 >
void Signal< Args... >::operator ()(Args2&&... args) const
{
    for (const Delegate& delegate : _delegates)
        delegate(std::forward< Args2 >(args)...);
} 
```

这样，您可以让参考折叠为您处理它。

# javascript - 如何在 mm:dd:yy 格式的 javascript 中验证日期用户输入

> ID：14473086
> 
> 赞同：0
> 
> 时间：2013-01-23T05:32:20.643
> 
> 标签：javascript, html

我尝试使用以下代码验证日期：-

```
 function d(id){
 var n= document.getElementById(id);
 var re=/^(?:(0[1-9]|1[012])[\- \/.](0[1-9]|[12][0-9]|3[01])[\- \/.](19|20)[0-9]{2})$/;
  if (re.test(n.value))
  {
     n.style.backgroundColor="#52F40C";

  }
  else
  {
    window.alert("Invalid date");
               n.style.backgroundColor="#F40C0C";
               n.focus();
               n.value="";

  }
} 
```

但它不起作用。这段代码有什么问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-23T05:35:22.750

尝试这个

```
 function isValidDate(subject){
  if (subject.match(/^(?:(0[1-9]|1[012])[\- \/.](0[1-9]|[12][0-9]|3[01])[\- \/.](19|20)[0-9]{2})$/)){
    return true;
  }else{
    return false;
  }
} 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-01-23T05:36:53.247

尝试使用此功能

```
function isDate(txtDate, separator) {
var aoDate,           // needed for creating array and object
    ms,               // date in milliseconds
    month, day, year; // (integer) month, day and year
// if separator is not defined then set '/'
if (separator === undefined) {
    separator = '/';
}
// split input date to month, day and year
aoDate = txtDate.split(separator);
// array length should be exactly 3 (no more no less)
if (aoDate.length !== 3) {
    return false;
}
// define month, day and year from array (expected format is m/d/yyyy)
// subtraction will cast variables to integer implicitly
month = aoDate[0] - 1; // because months in JS start from 0
day = aoDate[1] - 0;
year = aoDate[2] - 0;
// test year range
if (year < 1000 || year > 3000) {
    return false;
}
// convert input date to milliseconds
ms = (new Date(year, month, day)).getTime();
// initialize Date() object from milliseconds (reuse aoDate variable)
aoDate = new Date();
aoDate.setTime(ms);
// compare input date and parts from Date() object
// if difference exists then input date is not valid
if (aoDate.getFullYear() !== year ||
    aoDate.getMonth() !== month ||
    aoDate.getDate() !== day) {
    return false;
}
// date is OK, return true
return true; 
```

}

# easymock - 如何使用 EasyMock 创建“深度”模拟

> ID：14473088
> 
> 赞同：3
> 
> 时间：2013-01-23T05:32:28.650
> 
> 标签：easymock

我有一个间接使用类的测试用例`Foo`。出于测试用例的目的，我不在乎 Foo 是什么。我应该可以嘲笑它。

```
Foo mock = EasyMock.createMock(Foo.class); 
```

但是，测试用例使用了一个在 Foo 上调用一些方法的库。其中一些方法返回对象，然后这个库对这些返回的对象调用一些方法。就本测试而言，这些对象是什么并不重要，只要它们不为 null 并且不会导致 NullPointerExceptions。

我一直在为这个库调用的每个对象和方法添加一大堆期望调用，如下所示：

```
Bar bar = EasyMock.createMock(Bar.class);
Baz baz = EasyMock.createMock(Baz.class);
EasyMock.expect(mock.getBar()).andReturn(bar).anyTimes();
EasyMock.expect(bar.getBaz()).andReturn(baz).anyTimes(); 
```

基本上，只是一遍又一遍地为这个库最终调用的任何方法创建期望。

同样，对于我的测试而言，对象本身并不重要。该库只需要它们在大多数情况下是非空的。

有没有办法自动化这个？我想要的是某种“深度模拟”功能，我可以告诉 EasyMock 为通过模拟对象获得的任何对象自动返回模拟对象。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-23T06:06:53.247

事实证明，mockito 内置了这个功能：

```
Foo mock = Mockito.mock(Foo.class, Mockito.RETURNS_DEEP_STUBS); 
```

# unix - 从一个文件中查找另一个文件中不存在的行

> ID：14473090
> 
> 赞同：128
> 
> 时间：2013-01-23T05:32:39.723
> 
> 标签：unix, text-files

我有两个文件（比如说`a.txt`and `b.txt`），它们都有一个名称列表。我已经`sort`在这两个文件上运行了。

现在我想查找`a.txt`其中不存在的行`b.txt`。

（我花了很多时间来寻找这个问题的答案，所以记录下来以备将来参考）

* * *

## 回答 #1

> 赞同：211
> 
> 时间：2013-01-23T05:32:39.723

你必须使用的命令不是`diff`但是`comm`

```
comm -23 a.txt b.txt 
```

默认情况下，`comm`输出 3 列：*left-only*、*right-only*、*both*。`-1`和开关抑制这些列`-2`。`-3`

因此，`-23`隐藏*仅右*列和*两*列，显示仅出现在第一个（左）文件中的行。

如果您想查找出现在两者中的行，您可以使用`-12`，它隐藏*仅左列和仅*右*列*，只留下*两*列。

* * *

## 回答 #2

> 赞同：40
> 
> 时间：2014-09-30T20:50:42.923

简单的答案对我不起作用，因为我没有意识到`comm`逐行匹配，因此一个文件中的重复行将被打印为另一个文件中不存在。例如，如果 file1 包含：

```
Alex
Bill
Fred 
```

file2 包含：

```
Alex
Bill
Bill
Bill
Fred 
```

然后`comm -13 file1 file2`会输出：

```
Bill
Bill 
```

就我而言，我只想知道 file2 中的每个字符串都存在于 file1 中，而不管该行在每个文件中出现了多少次。

**解决方案 1：**使用`-u`（唯一）标志来`sort`：

`comm -13 <(sort -u file1) <(sort -u file2)`

**解决方案2：（**我找到的第一个“工作”答案）来自[unix.stackexchange](https://unix.stackexchange.com/questions/68358/)：

`fgrep -v -f file1 file2`

请注意，如果 file2 包含 file1 中根本不存在`fgrep`的重复行，则将输出每个重复行。另请注意，我在一台笔记本电脑上对单个（相当大的）数据集进行的完全非科学测试表明，解决方案 1（使用`comm`）几乎比解决方案 2（使用 ）快 5 倍`fgrep`。

* * *

## 回答 #3

> 赞同：17
> 
> 时间：2016-06-19T09:30:32.937

我不知道为什么有人说不`diff`应该使用它。我会用它来比较两个文件，然后只输出左侧文件中的行，而不是右侧文件中的行。此类行由 diff with 标记，`<`因此只需在行首 grep 该符号即可

```
diff a.txt b.txt  | grep \^\< 
```

* * *

## 回答 #4

> 赞同：11
> 
> 时间：2017-07-21T11:30:56.697

如果文件尚未排序，您可以使用：

```
comm -23 <(sort a.txt) <(sort b.txt) 
```

# c# - 在键值对中查找已经存在的值

> ID：14473101
> 
> 赞同：24
> 
> 时间：2013-01-23T05:34:17.747
> 
> 标签：c#, .net, key-value

我在键值对中存储一个字符串和 int 值。

```
var list = new List<KeyValuePair<string, int>>(); 
```

添加时我需要检查字符串（键）是否已经存在于列表中，如果存在我需要将其添加到值而不是添加新键。
如何查看和添加？

* * *

## 回答 #1

> 赞同：34
> 
> 时间：2013-01-23T05:38:25.137

[您可以使用字典](http://msdn.microsoft.com/en-us/library/xfhwa508.aspx)代替 List并检查它是否[包含键](http://msdn.microsoft.com/en-us/library/kw5aaea4.aspx)，然后将新值添加到现有键

```
int newValue = 10;
Dictionary<string, int> dictionary = new Dictionary<string, int>();
if (dictionary.ContainsKey("key"))
    dictionary["key"] = dictionary["key"] + newValue; 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-01-23T05:37:33.697

使用字典。[C# 中的字典，](http://msdn.microsoft.com/en-in/library/xfhwa508.aspx)我建议您阅读这篇文章[Dictonary in .net](http://www.dotnetperls.com/dictionary)

```
Dictionary<string, int> dictionary =
        new Dictionary<string, int>();
    dictionary.Add("cat", 2);
    dictionary.Add("dog", 1);
    dictionary.Add("llama", 0);
    dictionary.Add("iguana", -1); 
```

去检查。使用[ContainsKey](http://msdn.microsoft.com/en-us/library/kw5aaea4.aspx)

```
if (dictionary.ContainsKey("key"))
    dictionary["key"] = dictionary["key"] + yourValue; 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2013-01-23T05:40:21.510

如果你需要使用列表，你必须foreach列表，并寻找键。很简单，你可以使用哈希表。

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2013-01-23T05:36:00.987

您的需求准确地描述了[`Dictionary`](http://msdn.microsoft.com/en-sg/library/xfhwa508.aspx)s 的设计？

```
Dictionary<string, string> openWith = 
        new Dictionary<string, string>();

// Add some elements to the dictionary. There are no  
// duplicate keys, but some of the values are duplicates.
openWith.Add("txt", "notepad.exe");

// If a key does not exist, setting the indexer for that key 
// adds a new key/value pair.
openWith["doc"] = "winword.exe"; 
```

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2013-01-23T06:07:52.390

当然，在您的情况下，字典更可取。您不能修改`KeyValue<string,int>`类的值，因为它是不可变的。

但即使你仍然想使用`List<KeyValuePair<string, int>>();`. 您可以使用`IEqualityComparer<KeyValuePair<string, int>>`. 代码会像。

```
public class KeyComparer : IEqualityComparer<KeyValuePair<string, int>>
{

    public bool Equals(KeyValuePair<string, int> x, KeyValuePair<string, int> y)
    {
        return x.Key.Equals(y.Key);
    }

    public int GetHashCode(KeyValuePair<string, int> obj)
    {
        return obj.Key.GetHashCode();
    }
} 
```

并在 Contains like 中使用它

```
var list = new List<KeyValuePair<string, int>>();
        string checkKey = "my string";
        if (list.Contains(new KeyValuePair<string, int>(checkKey, int.MinValue), new KeyComparer()))
        {
            KeyValuePair<string, int> item = list.Find((lItem) => lItem.Key.Equals(checkKey));
            list.Remove(item);
            list.Add(new KeyValuePair<string, int>("checkKey", int.MinValue));// add new value
        } 
```

这听起来不太好。

希望这个信息有帮助..

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2019-08-09T22:23:07.337

对于必须使用 List 的任何人（对我来说就是这种情况，因为它做 Dictionary 不做的事情），您可以使用 lambda 表达式来查看 List 是否包含键：

```
list.Any(l => l.Key == checkForKey); 
```

# authentication - CakePHP - loginRedirect - 登录后如何重定向到当前页面？

> ID：14473102
> 
> 赞同：1
> 
> 时间：2013-01-23T05:34:19.113
> 
> 标签：authentication, cakephp-2.0, http-redirect

我有一个出现在所有页面（布局/default.ctp）上的登录表单，我想让用户留在他登录的页面上。例如，如果他正在查看另一个用户的个人资料，我想在登录后将他保留在那里，而不是将他重定向到 $this->Auth->loginRedirect 操作。另外，关于我的应用程序的另一件事是，我没有“仅经过身份验证的访问”页面，每个人都可以访问每个页面，但是如果您已登录，您将获得其他功能。

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-23T19:14:01.463

我解决了这个问题，写了这段代码：

用户控制器：

```
if($this->Auth->Login()){
    $this->redirect($this->Auth->redirect());
} 
```

在 AppController 中：

```
public function beforeFilter(){
    if($this->here != '/cmap/users/login'){
        $this->Session->write('Auth.redirect', $this->here);
    } 
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-23T06:44:44.430

你有没有试过`$this->referer()`。

**登录功能**

```
function login()
{
   if ($this->Auth->user())
   {
        $this->redirect($this->referer());
        exit();
   }
}
```

# java - Android NFC 意图未被“调用”

> ID：14473105
> 
> 赞同：1
> 
> 时间：2013-01-23T05:34:57.617
> 
> 标签：java, android, nfc

我设置了一个意图过滤器，这样当发现任何 NFC 技术时，它就会调用我的活动。这在使用我的 nexus 7 进行测试时效果很好，但是当我使用我的 nexus 4 进行测试时它不起作用。它发出的声音好像标签被发现了，但没有应用程序来处理它。

意图是休耕。

```
<activity
        android:name=".NfcScanned"
        android:label="@string/title_activity_nfc_scanned" >
 <!-- Add a technology filter -->
 <intent-filter>
     <action android:name="android.nfc.action.TECH_DISCOVERED" />
      <category android:name="android.intent.category.DEFAULT" />
 </intent-filter>

 <meta-data android:name="android.nfc.action.TECH_DISCOVERED"
     android:resource="@xml/filter_nfc"
 /> 
```

现在我可以发布我的活动中处理卡片扫描的所有内容，但是它并没有那么远，并且它可以与另一台设备完美配合。

就 logcat 而言，我遇到了这个有点有趣的错误

```
01-23 00:16:02.343: E/BrcmNfcJni(894): nativeNfcTag_doDisconnect: tag already deactivated 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-26T16:07:55.797

Nexus 4 的 Broadcom NFC 芯片不支持您的 NXP 专有标签类型。另一方面，NXP 在 Nexus 7 中的 NFC 芯片确实支持 NXP 专有标签读取。

Cf [Nexus 7 支持哪些 NFC 标签？(2012)](https://stackoverflow.com/questions/12119933/what-nfc-tags-does-the-nexus-7-support)

# facebook - Facebook-Like 没有用户登录？

> ID：14473108
> 
> 赞同：1
> 
> 时间：2013-01-23T05:35:09.973
> 
> 标签：facebook, facebook-like

在我的实体店里，我有一些平板电脑可以用来获取购物者的电子邮件地址。我会将他们留在一个简单的网页上，他们只需输入他们的电子邮件地址即可加入我公司的电子邮件邮件列表。

我想增加这些人在 Facebook 上“喜欢”我的公司而无需实际登录 Facebook 的能力。我的想法是，出于安全考虑，他们不想通过共享机器登录 Facebook，而且登录时间增加会阻止他们甚至一开始就添加他们的电子邮件地址。

这就是我的想法……我希望根据他们在没有实际登录的情况下提供的电子邮件地址向他们的帐户发送“喜欢”更新。这可以实现吗？

谢谢你的时间。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-23T05:38:35.570

不，用户必须登录才能代表他们向 Facebook 发送请求

# android - 带笔画的圆角位图图像

> ID：14473113
> 
> 赞同：10
> 
> 时间：2013-01-23T05:35:30.187
> 
> 标签：android, image, bitmap

我有一个边缘锐利的图像。 ![在此处输入图像描述](../Images/d75ac1a751195c1c84e863882bd200c8.png)

tile_mode.xml

```
<?xml version="1.0" encoding="utf-8"?>
<bitmap xmlns:android="http://schemas.android.com/apk/res/android"
    android:src="@drawable/background"
    android:tileMode="repeat">
</bitmap> 
```

back.xml

```
<?xml version="1.0" encoding="UTF-8"?>
<layer-list xmlns:android="http://schemas.android.com/apk/res/android">  
       <item android:drawable="@drawable/tile_mode" />
    <item>
        <shape>
            <solid/>
            <stroke android:width="1dip" android:color="#225786" />
            <corners android:radius="10dip"/>
            <padding android:left="0dip" android:top="0dip" android:right="0dip" android:bottom="0dip" />
        </shape>
    </item> 
```

布局.xml

```
<LinearLayout
                android:id="@+id/frame1"
                android:background="@drawable/back"
                android:layout_width="fill_parent"
                android:layout_height="wrap_content">
            </LinearLayout> 
```

我将图像设置为此布局的背景并为其绘制边框，但问题是图像是带有锋利边缘的正方形，而我在 xml 中绘制的边框是圆角。那么如何使图像也带有圆角呢？

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2013-01-23T05:45:40.963

这是一种解决方案，您必须在其中`make round to your main layout background`保持您的`imageview with your desire image:`

如下所示：

*返回.xml*

*这将使您的图像圆角*

```
<?xml version="1.0" encoding="UTF-8"?> 
<shape xmlns:android="http://schemas.android.com/apk/res/android" android:shape="rectangle"> 
     <stroke android:width="1dp" android:color="#dd7b7a"/>
     <corners android:bottomRightRadius="10dp" android:bottomLeftRadius="10dp" 
     android:topLeftRadius="10dp" android:topRightRadius="10dp"/> 
     <solid android:color="#dd7b7a"/>
 </shape> 
```

*tile_mode.xml*

```
<?xml version="1.0" encoding="utf-8"?>
<bitmap xmlns:android="http://schemas.android.com/apk/res/android"
android:src="@drawable/background"
android:tileMode="repeat" /> 
```

*布局.xml*

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:orientation="vertical"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:gravity="center"
    >
<LinearLayout 
     android:padding="4dip"
    android:orientation="vertical"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:background="@drawable/back"
    android:gravity="center_horizontal"
    >
<LinearLayout  
    android:layout_width="wrap_content" 
    android:layout_height="wrap_content" 
   android:background="@drawable/tile_mode"
    />
</LinearLayout>  
</LinearLayout> 
```

**更新**

在挖掘了很多之后，我遇到了已经发布的解决方案`stackoverflow`

[将图像更改为圆角](https://stackoverflow.com/questions/9517434/changing-image-as-rounded-corner)

[如何使 ImageView 具有圆角](https://stackoverflow.com/questions/2459916/how-to-make-an-imageview-to-have-rounded-corners)

第1步@

*主要的.xml*

```
 <RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
        xmlns:tools="http://schemas.android.com/tools"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:gravity="center"
        tools:context=".MainActivity" >

        <ImageView
            android:id="@+id/image"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_centerHorizontal="true"

          />

    </RelativeLayout> 
```

第2步@

使用画布制作一个使位图四舍五入的功能。

```
public static Bitmap getRoundedCornerBitmap(Bitmap bitmap, int pixels) {
        Bitmap output = Bitmap.createBitmap(bitmap.getWidth(), bitmap
                .getHeight(), Config.ARGB_8888);
        Canvas canvas = new Canvas(output);

        final int color = 0xff424242;
        final Paint paint = new Paint();
        final Rect rect = new Rect(0, 0, bitmap.getWidth(), bitmap.getHeight());
        final RectF rectF = new RectF(rect);
        final float roundPx = pixels;

        paint.setAntiAlias(true);
        canvas.drawARGB(0, 0, 0, 0);
        paint.setColor(color);
        canvas.drawRoundRect(rectF, roundPx, roundPx, paint);

        paint.setXfermode(new PorterDuffXfermode(Mode.SRC_IN));
        canvas.drawBitmap(bitmap, rect, rect, paint);

        return output;
    } 
```

第三步@

```
public class MainActivity extends Activity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);
        ImageView image=(ImageView)findViewById(R.id.image);

        Bitmap bitmap = BitmapFactory.decodeResource(getResources(), R.drawable.testing);

    image.setImageBitmap(getRoundedCornerBitmap(bitmap, 20)); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-23T05:46:32.187

好的，让我们尝试以下方式

```
 <?xml version="1.0" encoding="utf-8"?>
 <shape
    android:shape="rectangle" xmlns:android="http://schemas.android.com/apk/res/android">
    <corners android:radius="30dp"/>
    <stroke android:width="2dp" android:color="#000000"/>
</shape>

<LinearLayout
    android:id="@+id/frame1"
    android:background="@drawable/corner_background"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:padding="5dp"
    >
    <ImageView 
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:src="@drawable/background" 
    />
</LinearLayout> 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-11-08T11:18:52.300

由于我收到有关变量分配的错误，RobinHood 的回答对我有用，但有一次更改。

我不得不换行：

```
 paint.setXfermode(new PorterDuffXfermode(Mode.SRC_IN)); 
```

到这一行：

```
 paint.setXfermode(new PorterDuffXfermode(PorterDuff.Mode.SRC_IN)); 
```

使我的完整代码如下：

```
public class MainActivity extends Activity {

@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);

    requestWindowFeature(Window.FEATURE_NO_TITLE);
    this.getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN);

    setContentView(R.layout.activity_main);

    TextView textViewTitle = (TextView) findViewById(R.id.MYTEXTIDHERE);
    textViewTitle.setText("Some Text");

    ImageButton imageButtonSetter = (ImageButton) findViewById(R.id.MYIMAGEIDHERE);
    Bitmap myBitmap = BitmapFactory.decodeResource(getResources(), R.drawable.MYIMAGENAMEHERE);     
    imageButtonSetter.setImageBitmap(getRoundedCornerBitmap(myBitmap, 40));
}   

public static Bitmap getRoundedCornerBitmap(Bitmap bitmap, int pixels) {
    Bitmap output = Bitmap.createBitmap(bitmap.getWidth(), bitmap
            .getHeight(), Config.ARGB_8888);
    Canvas canvas = new Canvas(output);

    final int color = 0xff424242;
    final Paint paint = new Paint();
    final Rect rect = new Rect(0, 0, bitmap.getWidth(), bitmap.getHeight());
    final RectF rectF = new RectF(rect);
    final float roundPx = pixels;

    paint.setAntiAlias(true);
    canvas.drawARGB(0, 0, 0, 0);
    paint.setColor(color);
    canvas.drawRoundRect(rectF, roundPx, roundPx, paint);
    paint.setXfermode(new PorterDuffXfermode(PorterDuff.Mode.SRC_IN));        
    canvas.drawBitmap(bitmap, rect, rect, paint);

    return output;
} 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2015-07-14T01:30:06.160

实际上，我制作了一个完全满足您需求的库，您不必为那些 xml 文件而烦恼。

[https://github.com/pungrue26/SelectableRoundedImageView](https://github.com/pungrue26/SelectableRoundedImageView)

使用这个开源项目，**您可以在每个角上设置不同的半径，并设置边框（宽度和颜色）**等，如下所示。我希望它可以帮助你。

![CardView 内的圆形 ImageView](../Images/9728a4c01417a01bfa80249651107ac1.png)

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2015-08-31T12:58:10.763

将原始位图传递给以下函数，您将得到一个圆角位图：)。希望这可以帮助某人。

```
 public Bitmap getRoundedBitmap(Bitmap bitmap) {
        Bitmap resultBitmap;
        int originalWidth = bitmap.getWidth();
        int originalHeight = bitmap.getHeight();
        float r;

        if (originalWidth > originalHeight) {
            resultBitmap = Bitmap.createBitmap(originalHeight, originalHeight,
                    Bitmap.Config.ARGB_8888);
            r = originalHeight / 2;
        } else {
            resultBitmap = Bitmap.createBitmap(originalWidth, originalWidth,
                    Bitmap.Config.ARGB_8888);
            r = originalWidth / 2;
        }

        Canvas canvas = new Canvas(resultBitmap);

        final Paint paint = new Paint();
        final Rect rect = new Rect(ConstsCore.ZERO_INT_VALUE,
                ConstsCore.ZERO_INT_VALUE, originalWidth, originalHeight);

        paint.setAntiAlias(true);
        canvas.drawARGB(ConstsCore.ZERO_INT_VALUE, ConstsCore.ZERO_INT_VALUE,
                ConstsCore.ZERO_INT_VALUE, ConstsCore.ZERO_INT_VALUE);
        canvas.drawCircle(r, r, r, paint);
        paint.setXfermode(new PorterDuffXfermode(PorterDuff.Mode.SRC_IN));
        canvas.drawBitmap(bitmap, rect, rect, paint);

        return resultBitmap;
    } 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-01-23T05:51:30.440

试试你的 back.xml 类似的东西。

```
<?xml version="1.0" encoding="UTF-8"?>

<shape xmlns:android="http://schemas.android.com/apk/res/android" android:shape="rectangle"> 
<solid android:color="#ffffffff"/>    

<stroke android:width="3dp"
        android:color="#ff000000"
        />

<padding android:left="1dp"
         android:top="1dp"
         android:right="1dp"
         android:bottom="1dp"
         /> 

<corners android:bottomRightRadius="7dp" android:bottomLeftRadius="7dp" 
 android:topLeftRadius="7dp" android:topRightRadius="7dp"/> 
</shape> 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-01-23T06:07:53.950

我今天遇到了类似的问题，只是我的图像是谷歌地图。你实际上必须隐藏角落，这样做的方法是创建一个 9Patch，如下所示：

![在此处输入图像描述](../Images/fa3755abd02f368d1df05ebb69c078a8.png)

并将其作为背景应用于所有布局或覆盖您的布局的另一个布局。请查看以下链接以获取更多信息：

[有没有办法为 Mapfragment 实现圆角？](https://stackoverflow.com/questions/14469208/is-there-a-way-to-implement-rounded-corners-to-a-mapfragment)

我已经实际访问了这个网站：[http](http://www.sumopaint.com/app/)
://www.sumopaint.com/app/ 并手工绘制了所有内容，您可以以我的示例为例并根据自己的喜好更改颜色。你可能需要下一个：

![在此处输入图像描述](../Images/590738693452caa8fe2e88fd058a238a.png)

您可以在以下链接中获取有关如何创建 9Patch 的更多信息：

[http://radleymarx.com/blog/simple-guide-to-9-patch/](http://radleymarx.com/blog/simple-guide-to-9-patch/)

[http://android9patch.blogspot.co.il/](http://android9patch.blogspot.co.il/)

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2013-07-01T08:53:54.547

```
<?xml version="1.0" encoding="utf-8"?> 
```

```
<item>
    <bitmap
        android:src="@drawable/bg_striped_img"
        android:tileMode="repeat" />
</item>
<item android:left="-20dp" android:top="-20dp" android:right="-20dp" android:bottom="-20dp">
    <shape android:shape="oval" >
        <stroke
            android:width="20dp"
            android:color="#ffffffff" />

        <solid android:color="#00000000" />

        <size
            android:height="120dp"
            android:width="120dp" />
    </shape>
</item>

    <item >
    <shape android:shape="oval" >
        <stroke
            android:width="1dp"
            android:color="#ff999999" />

        <solid android:color="#00000000" />

        <size
            android:height="120dp"
            android:width="120dp" />
    </shape>
</item> 
```

# android - 当 Android 应用程序不在焦点但运行应用程序时变得不稳定

> ID：14473118
> 
> 赞同：0
> 
> 时间：2013-01-23T05:35:48.443
> 
> 标签：android, user-interface, service, focus

我编写了一个播放音频的 Android 应用程序。当应用程序处于焦点时（用户可以看到它的 UI），应用程序按预期工作，并且音频很好听。当应用程序不在焦点上（用户离开应用程序的 UI）但它仍在运行时，我会听到音频但它很不稳定，这意味着如果我打开另一个应用程序，我会在 1 秒钟内看到音频中出现一些断断续续的声音，然后它就会消失。

我应该怎么做才能确保即使我的应用程序在后台运行它也不会干扰其他应用程序的操作？

我在想这可能是一个应该使用服务的地方？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-05T03:25:26.910

看起来最好的方法是使用服务。

# iphone - iPhone web 应用程序图标：强制加载原生 Safari（如 Grooveshark）

> ID：14473119
> 
> 赞同：1
> 
> 时间：2013-01-23T05:35:50.627
> 
> 标签：iphone, web, homescreen

我们的 iPhone 网络应用程序有一个用户可以保存的主屏幕图标。这是一个音频特定的应用程序。

当用户将其保存到主屏幕然后单击主屏幕图标时，iPhone 不会打开常规 Safari。相反，它会打开某种准 Safari，其中没有 URL 栏可见。实际上，它真的很酷，让我们的 Web 应用程序感觉很像原生应用程序。不幸的是，当用户关闭手机声音时，此版本的 Safari 不播放音频。常规 Safari 会以任何一种方式播放声音。

因此，就像 Grooveshark 所做的那样，当用户单击我们的 Web 应用程序图标以打开常规 Safari 时，我们希望这样做。

任何人都可以提供任何指导吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-23T05:49:02.370

如果它打开一个独立的应用程序，你必须从你的元标签中删除 web-app-capable。

```
<meta name="apple-mobile-web-app-capable" content="yes" /> 
```

[更多信息](http://developer.apple.com/library/ios/documentation/AppleApplications/Reference/SafariWebContent/ConfiguringWebApplications/ConfiguringWebApplications.html)

# javascript - jQuery 中的 Asset.css

> ID：14473120
> 
> 赞同：1
> 
> 时间：2013-01-23T05:35:51.313
> 
> 标签：javascript, jquery, css, mootools

我的应用程序使用 Mootools 类资产在运行时包含 CSS 和 JS 文件。下面的行用于包含一个 CSS 文件：

```
var myStyleSheet = Asset.css('/styles/myStyle.css'); 
```

我需要将此行更改为 jQuery，因为脚本的其余部分已经在 jQuery 中。我们如何在 jQuery 中做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-23T05:42:28.080

有一种简单的方法可以用普通的 javascript 来完成。只需尝试以下几行，瞧！

```
var cssfile=document.createElement("link") ;
cssfile.setAttribute("rel", "stylesheet");
cssfile.setAttribute("type", "text/css");
cssfile.setAttribute("href", "/styles/myStyle.css");

if (typeof cssfile!="undefined") {
document.getElementsByTagName("head")[0].appendChild(cssfile) ;
} 
```

# java - Android SQlite 列号不匹配？

> ID：14473123
> 
> 赞同：0
> 
> 时间：2013-01-23T05:36:24.107
> 
> 标签：java, android, sqlite

我正在尝试使用以下代码从 SQLite 数据库中读取数据：

```
 public List<DBEntry> getAllDBEntrys() {
    List<DBEntry> DBEntrys = new ArrayList<DBEntry>();

    Cursor cursor = database.query(DatabaseClass.TABLE_APPTS,
        allColumns, null, null, null, null, null);

    cursor.moveToFirst();
    while (!cursor.isAfterLast()) {
      DBEntry DBEntry = cursorToDBEntry(cursor);
      DBEntrys.add(DBEntry);
      cursor.moveToNext();
    }
    // Make sure to close the cursor
    cursor.close();
    return DBEntrys;
  }
      private DBEntry cursorToDBEntry(Cursor cursor) {
    DBEntry DBEntry = new DBEntry();
    DBEntry.setId(cursor.getLong(0));
    DBEntry.setName(cursor.getString(1));
    DBEntry.setStartDate(new Date(cursor.getLong(2)));
    DBEntry.setDueDate(new Date(cursor.getLong(3)));
    DBEntry.SetPriority(cursor.getInt(4));
    DBEntry.setDesc(cursor.getString(5));
    DBEntry.SetCompletion(cursor.getInt(6)==1?true:false);
    return DBEntry;
  } 
```

我收到此错误：

```
01-23 16:35:23.509: E/CursorWindow(14609): Failed to read row 0, column 6 from a CursorWindow which has 1 rows, 6 columns. 
```

数据库已经有一个条目，如 sqlite3 实用程序所示：

```
sqlite> select * from ThingsToDo;
0|asdf|1358847122203|1359192722202|7|abcd|0
sqlite> .schema
CREATE TABLE ThingsToDo( _id integer primary key autoincrement,name text not null,start_date integer,due_date integer,priority integer,description text, completed integer);
CREATE TABLE android_metadata (locale TEXT); 
```

我认为问题在于 _id 列不计为一列，因为该`cursor.getColumnCount()`函数返回 6，而不是当我将文件移至 PC 时 sqlite3 实用程序显示的 7。我怎样才能使这项工作？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-23T05:55:35.547

```
 public List<DBEntry> getAllDBEntrys()
    {
        List<DBEntry> DBEntrys = new ArrayList<DBEntry>();
        // Select All Query
        String selectQuery = "SELECT  * FROM " + TABLE_APPTS;

        SQLiteDatabase db = this.getWritableDatabase();
        Cursor cursor = db.rawQuery(selectQuery, null);

        // looping through all rows and adding to list
        if (cursor.moveToFirst()) 
        {
            do 
            {
                DBEntry DBEntry = new DBEntry();
                DBEntry .setID(Integer.parseInt(cursor.getString(0)));
                DBEntry .setName(cursor.getString(1));
                DBEntry .setPhoneNumber(cursor.getString(2));
                // Adding to list
                DBEntrys .add(DBEntry );
            } while (cursor.moveToNext());
        }

        // return list
        return DBEntrys ;
    } 
```

# css - 固定元素溢出

> ID：14473125
> 
> 赞同：2
> 
> 时间：2013-01-23T05:36:30.263
> 
> 标签：css, overflow, css-position

一旦浏览器窗口短于其最小高度但似乎无法使其正常工作，我正在尝试让#sidebar 元素滚动溢出。知道为什么吗？

[http://jsfiddle.net/q5jKM/1/](http://jsfiddle.net/q5jKM/1/)

CSS - 抱歉，我无法让这种时髦的格式正常工作。

```
html,body{height:100%;margin:0}
#sidebar {
    width: 20em;
    position:fixed;
    top: 0;
    bottom: 0;
    left: 0;
    z-index:2;
    color: #ffffff;
    background-color: #333333;  
    overflow:auto;
    min-height: 34em;
}

#sidebar .nav {
    width: 3em;
    float: right;
    overflow: auto;
    background-color: #2e2e2e;
    border-left: 2px groove #454545;
    height: 100%;
    position:relative;  
}

#sidebar .content {
    height: 100%; 
    width: 16.875em; /*    17-(2/16)   - 20em - .nav - nav border*/
    float:left; 
    position:relative;
}

#sidebar .top {
    position:absolute;
    top:0;
}
#sidebar .bottom {
    position:absolute;
    bottom:0;
}

#sidebar .middle {
    position: absolute;
    bottom: 12em;       /*  3.125*3  */
    top: 16em;          /*  3.125*4  */
    background: green;
}

.content .middle {
    overflow:auto;
}

#sidebar .content > div {width: 16.875em; } /*.top .middle .bottom*/
#sidebar .nav > div {width:3em; } /*.top .middle .bottom*/

    /*table-cell trying get vertical-align working*/
#sidebar .table-cell {display:table-cell;}
#sidebar .middle .table-cell {vertical-align: middle;}

#sidebar .content p, #sidebar .content li, #sidebar .content img {font-size: .75em; color: #dddddd;}

#sidebar ul {margin:0; padding: 0;}

#sidebar .nav li {
    padding: .5625em;
    list-style:none;
}
#sidebar .nav li img {
    height: 1.875em;
    width: 1.875em
}

#sidebar .nav .top li { border-bottom: 2px groove #454545 }
#sidebar .nav .bottom li { border-top:  2px groove #454545 }

.content li {
    position:relative;
    display:block;
    background-color: #444;
    padding: .72em;
    border-radius: .8em;
    border-bottom: 1px solid #292929;
    border-top: 1px solid #4c4c4c;
    text-align: center;
    font-size: 1em;
    letter-spacing: .1em;
    font-weight: normal;
    height: 1.2em;
}

.content li:after {
    content:"";
    position:absolute;
    display:block; 
    width:0;
    top:.11em; /* controls vertical position */
    right:-.852em; /* value = - border-left-width - border-right-width */
    border-style:solid;
    border-width:1.2em 0 1.2em 1.2em;
    border-color:transparent #444;
}

.content .top li{margin: .95em 0 1.9em 0;}
.content .bottom li{margin: 1.9em 0 .95em 0;}

.content .logo {
    text-align: center;
    padding: 1em 0 2em 0;
    width: 100%;
    border-bottom: 2px groove #454545;
}
.content p.welcome {
    text-align: center;
    line-height: 1.5em;
    margin: 1em 0;
} 
```

HTML

```
 <div id="sidebar">

            <div class="nav">
            <div class="top">
            <ul>
                <li><img src="_images/attributes/attribute2.svg"></li>
                <li><img src="_images/attributes/attribute2.svg"></li>
                <li><img src="_images/attributes/attribute2.svg"></li>
                <li><img src="_images/attributes/attribute2.svg"></li>
            </ul>
            </div>
            <div class="middle"><div class="table-cell"><p>test</p></div></div>
            <div class="bottom">
            <ul>
                <li><img src="_images/attributes/attribute2.svg"></li>
                <li><img src="_images/attributes/attribute2.svg"></li>
                <li><img src="_images/attributes/attribute2.svg"></li>
            </ul>
            </div>
            </div>

            <div class="content">
                <div class="top">
                <ul>
                    <li>SIDEBAR LINK</li>
                    <li>SIDEBAR LINK</li>
                    <li>SIDEBAR LINK</li>
                    <li>SIDEBAR LINK</li>
                </ul>
                </div>
                <div class="middle"><div class="table-cell">
                <div class="logo"><img src="_images/g.svg"></div>
                <p class="welcome">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris dictum tellus viverra neque bibendum in mattis ante dignissim. Nam mattis feugiat lorem porttitor adipiscing. Aliquam erat volutpat. Nunc feugiat magna vitae mauris egestas euismod. In hac habitasse platea dictumst. Praesent magna sem, malesuada non fermentum vel, luctus quis mauris. Duis quam purus, ornare vitae eleifend sed, malesuada eget libero. Phasellus sed lorem risus, nec placerat urna. In magna turpis, accumsan ac egestas quis, dictum vel massa. Nulla vitae magna arcu. Maecenas sit amet vestibulum urna. Integer feugiat dignissim leo sed ornare. Maecenas auctor ultricies dui, pulvinar tincidunt velit feugiat quis. Sed egestas ornare elit, et fringilla quam viverra ut.</p>
                </div></div>
                <div class="bottom">
                <ul>
                    <li>SIDEBAR LINK</li>
                    <li>SIDEBAR LINK</li>
                    <li>SIDEBAR LINK</li>
                </ul>
                </div>
                </div>
    </div> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-23T11:59:00.497

知道了！

添加： - 使#sidebar 等于浏览器窗口。

```
#sidebar{height:100%} 
```

并添加： - 提供溢出的内容。

```
#sidebar .nav, #sidebar .content {min-height:34em} 
```

一旦浏览器窗口变得短于 34ems，#sidebar 就会溢出。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-23T06:59:10.437

你只需要添加一个[CSS 媒体查询](https://developer.mozilla.org/en-US/docs/CSS/Media_queries)规则：

```
@media all and (min-height: 34em) { 
    #sidebar{
        overflow: scroll;
    }
} 
```

一旦浏览器高度小于 34em，那么`overflow: scroll`规则将被添加到`#sidebar`.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-23T07:24:23.590

我使用 jquery 让它工作 - 你需要获取浏览器的高度并调整 css 溢出以在达到一定高度时滚动

```
var heightToScroll = 600;
var viewHeight = $(window).height();
$(window).resize(function() {
if(viewHeight < heightToScroll){
    $('#sidebar').css("overflow","scroll");
}
}); 
```

[http://jsfiddle.net/q5jKM/3/](http://jsfiddle.net/q5jKM/3/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-23T05:57:06.733

使用溢出`scroll`而不是`auto`

看到这个[http://jsfiddle.net/q5jKM/2/](http://jsfiddle.net/q5jKM/2/)

# svn - 在 ~/.subversion/config 文件中包含一个单独的配置文件

> ID：14473127
> 
> 赞同：2
> 
> 时间：2013-01-23T05:36:45.573
> 
> 标签：svn, configuration, configuration-files

`~/.subversion/config`我有一组在我的文件中定义的自定义配置。我想在多台机器上使用它，但不想共享整个`config`文件。

在`~/.bashrc`我有以下行用于包含其他文件。

```
if [ -f ~/.bash_aliases ]; then
    . ~/.bash_aliases
fi 
```

我怎样才能得到类似的`~/.subversion/config`文件？

# javascript - 阻止安卓浏览器提示“设备未连接到互联网”

> ID：14473135
> 
> 赞同：0
> 
> 时间：2013-01-23T05:37:17.070
> 
> 标签：javascript, android, android-browser

这是我的问题-

我有一个 HTML 页面（第 1 页），它连接到 iFrame 中的另一个 HTML 页面（第 2 页）。但是，此加载已完成，例如在页面加载完成后一分钟。

IE。**第 1 页 -> 等待 60 秒 -> 在第 1 页内的 iframe 中打开第 2 页。**

但是，当此负载发生时，浏览器会引发**网络未连接的警报。**

***有什么办法可以防止这种行为吗？***

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-28T07:15:33.573

在做了一些研究后，我发现这种行为不能被 JS 阻止，但应该由浏览器处理..

# makefile - 导入生成的 makefile

> ID：14473145
> 
> 赞同：0
> 
> 时间：2013-01-23T05:38:02.027
> 
> 标签：makefile, gnu-make

我有一个 Makefile 导入另一个 Makefile，该 Makefile 由包含其中的目标生成。类似于以下内容：

```
more_makefile:
    touch $@

include more_makefile 
```

这个过程可以正常工作，但是`No such file or directory`当 more_makefile 不存在时，每次点击包含行时都会收到警告，这可能会使新手感到困惑。有没有办法掩盖这个警告？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-23T05:54:17.067

添加连字符：

```
-include more_makefile 
```

# c# - jquery ui选项卡未将数据发布到asp.net（c＃）

> ID：14473158
> 
> 赞同：0
> 
> 时间：2013-01-23T05:38:54.710
> 
> 标签：c#, asp.net, jquery, jquery-ui-tabs

**jqueryUI 选项卡的 HTML。**

```
<div id="lodg_tabs" class="tabs">
    <ul>
        <li><a href="#tabs-1">Add/Remove</a></li>
        <li><a href="mand_lodg_upd.aspx">Update</a></li>
    </ul>
    <div id="tabs-1" class="forms">
        <h3 align="center">Mandate Lodgment</h3>
        <form name="mand_lodg" id="mand_lodg" method="post"> 
```

**将参数发送到加载“mand_lodg_upd.aspx”的选项卡的ajax代码**

```
$("#lodg_tabs").tabs({
    select: function (event, ui) {
        var res = valid('mand_lodg');
        $(this).tabs("option", { ajaxOptions: { data: $("#mand_lodg").serialize()} });
     },
     ajaxOptions: {
         type: 'POST',
         error: function (xhr, status, index, anchor) {
             $(anchor.hash).html("An error has been encountered while attempting to load this tab.");
         }
     },
     cache: false
}); 
```

**后面的c#代码**

```
Response.Write(Request.Form["zone"] + Request.QueryString["zone"]);
            zone.Value = Request.Form["zone"];
            loc.Value = Request.Form["loc"];
            date.Value = Request.Form["date"]; 
```

**输出：**输出正常，文件正在选项卡中加载

**问题：**但是用ajax传递的参数即

```
$(this).tabs("option", { ajaxOptions: { data: $("#mand_lodg").serialize()} }); 
```

区域位置和日期在后面的 c# 代码中为空

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-23T05:55:23.290

Request.Form 是通过 POST 方法引用 HTTP 请求参数。JQuery 默认发出一个 GET 方法请求。尝试像这样设置您的 AJAX 选项：

```
$(this).tabs("option", { 
    ajaxOptions: { 
                   type: 'post', 
                   data: $("#mand_lodg").serialize()
                 } 
}); 
```

# vba - VBA - Outlook 2010 - 在 URL 中搜索变量并将邮件移动到相应的文件夹

> ID：14473160
> 
> 赞同：0
> 
> 时间：2013-01-23T05:39:00.673
> 
> 标签：vba, outlook

在 Outlook 2010 中，我为多个客户提供了数千个电子邮件产品更新，邮件正文中的 URL 如下所示：

[http://shop.khlynov.net/products/en/PRODUCT_ID_VARIABLE/enter.asp?z=UNIQUE_ACCESS_KEY](http://shop.khlynov.net/products/en/PRODUCT_ID_VARIABLE/enter.asp?z=UNIQUE_ACCESS_KEY)

类似的东西：

[http://shop.khlynov.net/products/en/VOP08011316314153US/enter.asp?z=AFE38DC1F69084D0B95648B21B8F1DC65E2D7E9A11A710590C60AA49390E2DC928](http://shop.khlynov.net/products/en/VOP08011316314153US/enter.asp?z=AFE38DC1F69084D0B95648B21B8F1DC65E2D7E9A11A710590C60AA49390E2DC928)

在哪里：

*   all before `VOP08011316314153US`- URL 的常量部分
*   `VOP08011316314153US/`- 产品 ID 变量（有数千个）
*   `enter.asp?z=AFE38DC1F69084D0B95648B21B8F1DC65E2D7E9A11A710590C60AA49390E2DC928`- 每个客户唯一的访问密钥（我不使用它）

我想要一个脚本：

1.  `PRODUCT_ID_VARIABLE`在 Outlook 收件箱文件夹中的所有邮件中搜索
2.  创建根据`PRODUCT_ID_VARIABLE`（如果不存在）命名的子文件夹
3.  将具有不同 PRODUCT_ID_VARIABLE 的消息移动到相应的子文件夹中。

在下面的示例中，脚本应该创建文件夹`VOP08011316314153US`和`VOP08011316314154US`（如果它们不存在）并将所有带有产品 ID`VOP08011316314153US`和`VOP08011316314154US`URL 的消息移到那里：

以下是电子邮件正文的示例：

```
<table align="left">
    <tr>
        <td style="padding: 9px;" align="left">
            <p style="font-size: 10px; font-family: 'Trebuchet MS', Arial, Helvetica, sans-serif;
                            color: #333333;">
               <span style="color: #9B0124;">PRODUCT LINK: </span><br />
                  <a href="http://shop.khlynov.net/products/en/VOP23011304005259US/enter.asp?z=ABCC226C7CBA08F2D0CE2BAB7CBFE493E04D9533489C3FF245EB4061D0FA6A7D18" target="_blank" style="text-decoration: none; color: #333333;">http:/<wbr>/<wbr>shop.khlynov.net/<wbr>products/<wbr>en/<wbr>VOP23011304005259US/<wbr>enter.asp?z=ABCC226C7CBA08F2D0CE2BAB7CBFE493E04D9533489C3FF245EB4061D0FA6A7D18</a>
           </p>
       </td>
   </tr>
</table>

INBOX
-VOP08011316314153US
-- Email 1
-- Email 2
-- Email ...
-- Email X
-VOP08011316314154US
-- Email 1
-- Email 2
-- Email ...
-- Email X 
```

我是 VBA 编码的新手。任何人都可以帮助从头开始编写代码吗？

* * *

我刚刚发现您的宏适用于纯文本，但不适用于 HTML 字母。这是HTML代码的一部分：

```
<table align="left">
                <tr>
                    <td style="padding: 9px;" align="left">
                        <p style="font-size: 10px; font-family: 'Trebuchet MS', Arial, Helvetica, sans-serif;
                            color: #333333;">
                            <span style="color: #9B0124;">PRODUCT LINK: </span>
                            <br />
                            <a href="http://shop.khlynov.net/products/en/VOP23011304005259US/enter.asp?z=ABCC226C7CBA08F2D0CE2BAB7CBFE493E04D9533489C3FF245EB4061D0FA6A7D18" target="_blank" style="text-decoration: none; color: #333333;">http:/<wbr>/<wbr>shop.khlynov.net/<wbr>products/<wbr>en/<wbr>VOP23011304005259US/<wbr>enter.asp?z=ABCC226C7CBA08F2D0CE2BAB7CBFE493E04D9533489C3FF245EB4061D0FA6A7D18</a>
                        </p>
                    </td>
                </tr>
            </table> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-23T10:20:05.873

宏将针对收件箱中的所有邮件运行 .. 可能需要一些时间

```
' run this macro
Sub main_procedure()
    On Error GoTo eh:
    Dim ns As Outlook.NameSpace
    Dim folder As MAPIFolder
    Dim item As Object
    Dim msg As MailItem

    Set ns = Session.Application.GetNamespace("MAPI")
    Set folder = ns.GetDefaultFolder(olFolderInbox)
    MsgBox "Total Number of mail in your inbox " & folder.Items.Count
    For Each item In folder.Items

        If (item.Class = olMail) Then
            Set msg = item
            If InStr(msg.Body, "http://shop.khlynov.net/products/en/") > 0 Then
                URL = msg.Body
                createAndMoveMail URL, msg

            ElseIf InStr(msg.Subject, "http://shop.khlynov.net/products/en/") > 0 Then
                URL = msg.Subject
                createAndMoveMail URL, msg
            End If
        End If
    Next

    Exit Sub
eh:
    MsgBox Err.Description, vbCritical, Err.Number
End Sub

Sub createAndMoveMail(ByVal URL As String, ByRef mail As MailItem)
Dim productID As String
Dim URLPath As String
Dim folderExist As Boolean
Dim startIndex As Long
Dim found As Boolean
On Error goto 0
found = False

Do While Not found
    productID = ""
    startIndex = InStr(URL, "http://shop.khlynov.net/products/en/")
    If startIndex = 0 Then
        Exit Sub
    End If
    URLPath = Mid(URL, startIndex)
    URLPath = Mid(URLPath, Len("http://shop.khlynov.net/products/en/") + 1)
    'update new url
    URL = URLPath
    If InStr(ULRPath, "/") = 0 Then
        Exit Sub
    End If
    productID = Mid(URLPath, 1, InStr(URLPath, "/") - 1)
    If Len(productID) = 19 And InStr(productID, "VOP") > 0 And InStr(productID, "US") > 0 Then
        found = True
        Exit Do
    End If
Loop

If Not found Then
    Exit Sub
End If

Dim myInbox As Outlook.MAPIFolder
Set myInbox = Outlook.GetNamespace("MAPI").GetDefaultFolder(olFolderInbox)

folderExist = False
For i = 1 To myInbox.Folders.Count
    If myInbox.Folders.item(i).Name = productID Then
        folderExist = True
        Set myDestinationFolder = myInbox.Folders.item(i)
        Exit For
    End If
Next
If Not folderExist Then
    Set myDestinationFolder = myInbox.Folders.Add(productID, olFolderInbox)
End If

mail.Move myDestinationFolder
End Sub 
```

参考： [阅读收件箱邮件项](https://stackoverflow.com/questions/6105064/outlook-vba-default-folder) [创建邮件文件夹，移动邮件项](https://superuser.com/questions/489124/create-new-folder-for-new-sender-name-and-move-message-into-new-folder)

# c++ - 对于以“。”开头的目录，文件列表失败。（例如：“.NET”）

> ID：14473169
> 
> 赞同：1
> 
> 时间：2013-01-23T05:39:56.603
> 
> 标签：c++, winapi

我正在尝试列出目录中的所有文件。问题是它不断跳过目录“.NET”下的一些文件。基本上它会跳过以“。”开头的目录名称下的所有文件。可能的原因是什么？

```
#include "stdafx.h"
#include <windows.h>
#include <string>
#include <iostream>
#include <list>
#include <fstream>

using namespace std;
void addFileToList(list<string>& fileList,const string& directory,const string& excludeFilter,const WIN32_FIND_DATA &FindFileData)
{
    string fileName = string(FindFileData.cFileName);
    string filePath = directory + fileName;

    if (!(FindFileData.dwFileAttributes & FILE_ATTRIBUTE_DIRECTORY) ) 
    {
        string fileExtension = fileName.substr(fileName.find_last_of(".") + 1);
        if (fileExtension.empty()) 
        {
            fileList.push_back(filePath);
            return;
        } 
        else if ( ( excludeFilter.find(fileExtension) == string::npos ) )
        {
            fileList.push_back(filePath);
        }
    }
}

void GetFileListing(list<string>& fileList, string directory,const string& excludeFilter,bool recursively=true)
{
    string filePath,fileName,fileExtension;
    if (recursively)
    {
        GetFileListing(fileList, directory, excludeFilter,false);
    }

    WIN32_FIND_DATA FindFileData;
    HANDLE hFind = INVALID_HANDLE_VALUE;

    directory += "\\";
    string filter = directory + "*";

    // Find the first file in the directory.
    hFind = FindFirstFile(filter.c_str(), &FindFileData);

    if (hFind == INVALID_HANDLE_VALUE)
    {
        DWORD dwError = GetLastError();
        if (dwError!=ERROR_FILE_NOT_FOUND)
        {
            //cout << "Invalid file handle for filter "<<filter<<". Error is " << GetLastError() << endl;
        }
    }
    else
    {
        // Add the first file found to the list
        if (!recursively)
        {
            addFileToList(fileList,directory,excludeFilter,FindFileData);
        }

        // List all the other files in the directory.
        while (FindNextFile(hFind, &FindFileData) != 0)
        {
            if (!recursively)
            {
                addFileToList(fileList,directory,excludeFilter,FindFileData);
            }
            else
            {
                // If we found a directory then recurse into it
                if ((FindFileData.dwFileAttributes & FILE_ATTRIBUTE_DIRECTORY) && FindFileData.cFileName[0]!='.')
                {
                    GetFileListing(fileList, directory + string(FindFileData.cFileName),excludeFilter);
                }
            }
        }

        DWORD dwError = GetLastError();
        FindClose(hFind);
        if (dwError != ERROR_NO_MORE_FILES)
        {
            //cout << "FindNextFile error. Error is "<< dwError << endl;
        }
    }
}

int _tmain(int argc, _TCHAR* argv[])
{
    list<string> fileList;
    list<string>::iterator it;
    string excludeFilter;
    string directory=".";
    GetFileListing(fileList, directory,excludeFilter);

    for( it=fileList.begin(); it!=fileList.end();++it) 
    {
        cout<<(*it)<<endl;
    }

    return 0;
} 
```

**更新了代码：**

根据 Hans 的建议，我添加了对目录的检查。现在它起作用了！有什么建议么？

```
#include "stdafx.h"
#include <windows.h>
#include <string>
#include <iostream>
#include <list>
#include <fstream>

using namespace std;

void addFileToList( list<string>& fileList,const string& directory,const string& excludeFilter,const string &fileName )
{
    string filePath = directory + fileName;
    string fileExtension = fileName.substr(fileName.find_last_of(".") + 1);

    if (fileExtension.empty()) 
    {
        fileList.push_back(filePath);
        return;
    } 
    else if ( ( excludeFilter.find(fileExtension) == string::npos ) )
    {
        fileList.push_back(filePath);
    }
}

void GetFileListing(list<string>& fileList, string directory,const string& excludeFilter,bool recursively=true)
{
    // If we are going to recurse over all the subdirectories, first of all
    // get all the files that are in this directory that match the filter

    string filePath,fileName,fileExtension;
    if (recursively)
    {
        GetFileListing(fileList, directory, excludeFilter,false);
    }

    WIN32_FIND_DATA FindFileData;
    HANDLE hFind = INVALID_HANDLE_VALUE;

    directory += "\\";
    string filter = directory + "*";

    // Find the first file in the directory.
    hFind = FindFirstFile(filter.c_str(), &FindFileData);

    if (hFind == INVALID_HANDLE_VALUE)
    {
        DWORD dwError = GetLastError();
        if (dwError!=ERROR_FILE_NOT_FOUND)
        {
            //cout << "Invalid file handle for filter "<<filter<<". Error is " << GetLastError() << endl;
        }
    }
    else
    {
        // Add the first file found to the list
        if (!recursively)
        {
            if (!(FindFileData.dwFileAttributes & FILE_ATTRIBUTE_DIRECTORY) )
            {
                string fileName = string(FindFileData.cFileName);
                addFileToList(fileList,directory,excludeFilter,fileName);
            } 
        }

        if(FindFileData.dwFileAttributes & FILE_ATTRIBUTE_DIRECTORY) 
        {
            // List all the other files in the directory.
            while (FindNextFile(hFind, &FindFileData) != 0)
            {
                if (!recursively)
                {
                    if (!(FindFileData.dwFileAttributes & FILE_ATTRIBUTE_DIRECTORY) )
                    {
                        string fileName = string(FindFileData.cFileName);
                        addFileToList(fileList,directory,excludeFilter,fileName);
                    } 
                    else 
                    {
                        if ( string(FindFileData.cFileName)=="." || string(FindFileData.cFileName)==".." ) continue;
                        GetFileListing(fileList, directory + string(FindFileData.cFileName),excludeFilter);
                    }
                }
            }
        }

        DWORD dwError = GetLastError();
        FindClose(hFind);
        if (dwError != ERROR_NO_MORE_FILES)
        {
            //cout << "FindNextFile error. Error is "<< dwError << endl;
        }
    }
}

int _tmain(int argc, _TCHAR* argv[])
{
    list<string> fileList;
    list<string>::iterator it;
    string excludeFilter;
    string directory=".";
    GetFileListing(fileList, directory,excludeFilter);

    for( it=fileList.begin(); it!=fileList.end();++it) 
    {
        cout<<(*it)<<endl;
    }

    return 0;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-23T08:43:07.217

试试这个：

```
#include "stdafx.h"
#include <windows.h>
#include <string>
#include <iostream>
#include <list>
#include <fstream>

using namespace std;

void addFileToList(list<string>& fileList, const string& directory, const string& fileName, const string& excludeFilter)
{
    string fileExtension = fileName.substr(fileName.find_last_of(".") + 1);
    if (!fileExtension.empty()) 
    {
        if (excludeFilter.find(fileExtension) != string::npos)
            return;
    } 

    fileList.push_back(directory + fileName);
}

void GetFileListing(list<string>& fileList, string directory, const string& excludeFilter, bool recursively = true)
{
    string filePath;

    directory += "\\";
    string filter = directory + "*";

    WIN32_FIND_DATA FindFileData;
    HANDLE hFind = FindFirstFile(filter.c_str(), &FindFileData);

    if (hFind == INVALID_HANDLE_VALUE)
    {
        DWORD dwError = GetLastError();
        if (dwError != ERROR_FILE_NOT_FOUND)
        {
            //cout << "Invalid file handle for filter " << filter << ". Error is " << GetLastError() << endl;
        }
        return;
    }

    do
    {
        if (FindFileData.dwFileAttributes & FILE_ATTRIBUTE_DIRECTORY) 
        {
            if ((recursively) && (lstrcmp(FindFileData.cFileName, TEXT(".")) != 0) && (lstrcmp(FindFileData.cFileName, TEXT("..")) != 0))
                GetFileListing(fileList, directory + FindFileData.cFileName, excludeFilter);
        }
        else
            addFileToList(fileList, directory, FindFileData.cFileName, excludeFilter);
    }
    while (FindNextFile(hFind, &FindFileData) != 0);

    DWORD dwError = GetLastError();
    FindClose(hFind);

    if (dwError != ERROR_NO_MORE_FILES)
    {
        //cout << "FindNextFile error. Error is "<< dwError << endl;
    }
}

int _tmain(int argc, _TCHAR* argv[])
{
    list<string> fileList;
    GetFileListing(fileList, ".", "");

    for(list<string>::iterator it = fileList.begin(); it != fileList.end(); ++it) 
    {
        cout << (*it) << endl;
    }

    return 0;
} 
```

# javascript - 从jsp访问javascript中的arraylist元素

> ID：14473170
> 
> 赞同：0
> 
> 时间：2013-01-23T05:40:07.290
> 
> 标签：javascript, jsp

我正在将一个数组列表从 jsp 传递给 javascript。如何在javascript中访问arraylist的元素

jsp代码：

```
<%out.print(arraylist)%> 
```

javascript

```
var http = createRequestObject();
var reponse=http.responseText 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-23T06:28:33.067

您需要使用 JSTL 进行迭代。

添加标签库

```
<%@ taglib prefix="c" uri="http://java.sun.com/jstl/core" %> 
```

迭代arraylist的代码

```
<c:forEach items="${arraylist}" var="current">
   <c:out value="${current}"/>
</c:forEach> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-23T07:13:12.017

使用 JSON 很容易实现这一点。您可以使用 JSONArray 并将 arraylist 转换为 JSP 或 java 中的 json。然后在javascript中你可以像这样迭代JSON

```
for(var i=0;i<jsonArr.length;i++){
        var obj = jsonArr[i];
        for(var key in obj){
            var attrName = key;
            var attrValue = obj[key];
        }
    } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-23T06:19:59.493

如果您使用的是 scriptlet，那么您需要像 java 代码一样进行迭代。

示例片段：

```
<% 
    Iterator itr = arrayList.iterator();
    while(itr.hasNext()){
     System.out.println(itr.next());
    }
%> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-23T06:25:03.323

在您的 scriptlet 中迭代 Arraylist 并将必要的值分配给 javascript 变量，如下所示。

粗略的代码

```
<% 
Iterator it = arrayList.iterator(); 
while(it.hasNext()){
%>
<script> var val = <%=itr.next()%>  </script>

<%}%> 
```

希望能帮助到你！！

编辑：

```
<script>
    var someArray = [
    <c:forEach items="${someArray}" var="it">
    {
        name = "<c:out value="${it.name}">",
        val = "<c:out value="${it.val}">"
    },
    </c:forEach>
    ];
</script> 
```

以上将导致像这样的javascript，

```
var someArray = [
{
    name = "Peter",
    val = "First Name"
},
{
    name = "Naveen",
    val = "Last Name"
}]; 
```

# javascript - Javascript。限制用户输入与文本框中相同的数字字符

> ID：14473172
> 
> 赞同：0
> 
> 时间：2013-01-23T05:40:13.990
> 
> 标签：javascript

我会闪现一个加扰的词，然后用户将输入加扰的词是什么。

到目前为止，我有这个代码。这是用于随机播放和显示。

```
document.getElementById("shuffle").value = shuffle(document.getElementById("word").value);
var shuffledword = document.getElementById("shuffle").value;
var z = shuffledword.split("").join('&nbsp;&nbsp;&nbsp;&nbsp;');
var x=document.getElementById("demo");
x.innerHTML=z;

var str=document.getElementById("demo").innerHTML; 
var n=str.replace(charcode,"...");
document.getElementById("demo").innerHTML=n; 
```

我想要的是限制用户输入与随机单词相同的数字字母。示例：单词是“DOOMED”；我想让它让用户不能点击字母 D 和 O 三次，而只能点击一次或两次。其他字母相同，具体取决于打乱后的单词中的数字字母。

这可能吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-23T05:58:46.800

```
// Set an object with each letters of the (shuffled) word and their count
var letters = {};
for (var i=0 ; i<word.length ; i++) {
  var c = word.charAt(i);
  if ( ! letters[c]) letters[c] = 1;
  else letters[c]++;
}

...

function process_user_char(K) {
  // When user enter letter K
  if ( ! letters[K]) {
    alert("You cannot enter " + K);
    return false;
  }
  else {
    letters[K]-- ;
    return true;
  }
}

....

// To check wether user entered all letters, returns Yes or No
function check_if_user_entered_all_letters() {
  for (var o in letters) {
    if (letters[o]) return "No";
  }
  return "Yes";
} 
```

*编辑*在 process_user_char 中添加`return true / false`以集成到*onkeypressed*中。

这是[jsfiddle](http://jsfiddle.net/HQXwY/)。

# qt - 小区广播接收 Symbian Qt

> ID：14473174
> 
> 赞同：0
> 
> 时间：2013-01-23T05:40:22.680
> 
> 标签：qt, cell, symbian, broadcast

我正在尝试使用读取我的单元广播消息的 Symbian Qt 框架开发一个基本应用程序。我在为此目的找到 Qt API 时运气不佳。有没有我可以使用的 API？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-23T06:50:45.887

检查此链接以获取适用于 Symbian 的 Qt 中的消息传递 API [http://www.developer.nokia.com/document/Mobile_Hands-on_Labs/Qt/MobilityMessaging/](http://www.developer.nokia.com/document/Mobile_Hands-on_Labs/Qt/MobilityMessaging/)。

但根据我的开发广播消息应用程序，最好遵循本机代码（Symbian C++）。您可以在此链接[http://www.developer.nokia.com/Community/Wiki/SDK_API_Plug-in](http://www.developer.nokia.com/Community/Wiki/SDK_API_Plug-in)中找到 Symbian c++ 示例示例。

# javascript - jQuery Cycle 插件：当前浏览器选项卡失去焦点后的不可预测的行为

> ID：14473175
> 
> 赞同：0
> 
> 时间：2013-01-23T05:40:23.180
> 
> 标签：javascript, jquery, jquery-cycle, jquery-easing

我们基于 jQuery Easing 和 Cycle 插件开发了一个 jQuery 插件。可以在[http://jsfiddle.net/Dx5N4/3/embedded/result/](http://jsfiddle.net/Dx5N4/3/embedded/result/)看到一个示例。这个想法是有多个应用循环插件的项目列表（比如图像）。每个列表都有不同的初始延迟，以便每个列表上的 jQuery Cycle 幻灯片在不同的时间点开始。插件的快速示例如下所示。

```
var delay = 100;
$("#slideshow ul").each(function() {
    $(this).cycle({ delay    : delay
                    , easing : "easeInOutElastic"
                    , fx     : "scrollUp" });
    delay += 100;
}); 
```

当页面加载时，插件工作得很好。正确应用了 Cycle 插件，幻灯片开始和幻灯片转换延迟，正如预期的那样。

但是，如果用户切换到不同的浏览器选项卡、最小化浏览器窗口或切换到不同的应用程序，然后返回到带有幻灯片的浏览器选项卡，则各个幻灯片之间的延迟将丢失。此时会出现完全不可预测的行为，从所有幻灯片同时过渡到根本没有过渡。

关于浏览器选项卡失去焦点时出现什么问题以及如何纠正这个问题的任何想法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T08:16:27.127

修改插件以通过普通 JavaScript 手动触发幻灯片过渡。

```
var slideshows = $("ul", $("#slideshow"));

$(slideshows).each(function() {
    $(this).cycle({ easing : "easeOutElastic", fx : "scrollUp", timeout : 0 });
});

setInterval(function() {
    var item = 1;

    slideshows.each(function() {
        var slideshow = $(this);
        setTimeout(function() {
            slideshow.cycle("next");
        }, item++ * 100);
    });
}, 4000); 
```

修改后的（工作）代码可在[http://jsfiddle.net/Dx5N4/5/embedded/result/](http://jsfiddle.net/Dx5N4/5/embedded/result/)获得。

# regex - 正则表达式从 url 获取文件名

> ID：14473180
> 
> 赞同：15
> 
> 时间：2013-01-23T05:40:49.620
> 
> 标签：regex

我正在尝试编写一个正则表达式以从 url 获取文件名（如果存在）。

这是我到目前为止所拥有的：

```
(?:[^/][\d\w\.]+)+$ 
```

所以从 url `http://www.foo.com/bar/baz/filename.jpg`，我应该匹配`filename.jpg`

不幸的是，我匹配最后一个之后的任何内容`/`。

我怎样才能收紧它，以便它只在它看起来像一个文件名时才抓住它？

* * *

## 回答 #1

> 赞同：37
> 
> 时间：2014-10-08T09:05:02.523

上面的示例无法从此 URL 获取文件名“file-1.name.zip”：

```
"http://sub.domain.com/sub/sub/handler?file=data/file-1.name.zip&v=1" 
```

所以我创建了我的 REGEX 版本：

```
[^/\\&\?]+\.\w{3,4}(?=([\?&].*$|$)) 
```

解释：

```
[^/\\&\?]+          # file name - group of chars without URL delimiters
\.\w{3,4}           # file extension - 3 or 4 word chars
(?=([\?&].*$|$))    # positive lookahead to ensure that file name is at the end of string or there is some QueryString parameters, that needs to be ignored 
```

* * *

## 回答 #2

> 赞同：20
> 
> 时间：2014-07-13T07:54:19.180

这个对我很有效。

```
(\w+)(\.\w+)+(?!.*(\w+)(\.\w+)+) 
```

* * *

## 回答 #3

> 赞同：11
> 
> 时间：2013-01-23T09:07:29.557

非PCR

```
(?:[^/][\d\w\.]+)$(?<=\.\w{3,4}) 
```

聚合酶链反应

```
(?:[^/][\d\w\.]+)$(?<=(?:.jpg)|(?:.pdf)|(?:.gif)|(?:.jpeg)|(more_extension)) 
```

[演示](http://regexr.com?33gfh)

由于您使用`regexpal.com`基于 javascript 的测试（不支持后视），请尝试使用此方法

```
(?=\w+\.\w{3,4}$).+ 
```

* * *

## 回答 #4

> 赞同：11
> 
> 时间：2015-05-05T20:58:37.497

```
(?:.+\/)(.+) 
```

选择所有直到最后一个正斜杠 (/)，捕获此正斜杠之后的所有内容。使用子模式 $1。

* * *

## 回答 #5

> 赞同：8
> 
> 时间：2019-05-22T13:37:39.600

我正在使用这个：

```
(?<=\/)[^\/\?#]+(?=[^\/]*$) 
```

解释：

(?<=)：正面看后面，断言一个字符串有这个表达式，但不匹配。

(?<=/): 正斜杠“/”后面的正向查找，这意味着我正在寻找一个前面的表达式，但与正斜杠不匹配。

[^/\?#]+：一个或多个不是“/”、“?”的字符 或“#”，剥离搜索参数和哈希。

(?=[^/]*$): 积极向前看任何不匹配斜线的东西，然后匹配行尾。这是为了确保选择最后一个正斜杠段。

示例用法：

```
const urlFileNameRegEx = /(?<=\/)[^\/\?#]+(?=[^\/]*$)/;

const testCases = [
  "https://developer.mozilla.org/en-US/docs/Web/API/MutationObserverInit#yo",
  "https://developer.mozilla.org/static/fonts/locales/ZillaSlab-Regular.subset.bbc33fb47cf6.woff2",
  "https://developer.mozilla.org/static/build/styles/locale-en-US.520ecdcaef8c.css?is-nice=true"
];

testCases.forEach(testStr => console.log(`The file of ${testStr} is ${urlFileNameRegEx.exec(testStr)[0]}`))
```

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2013-01-23T06:05:07.690

它也可能有效：

```
(\w+\.)+\w+$ 
```

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2013-01-23T09:10:16.083

你知道你的分隔符是什么样的，所以你不需要正则表达式。只是`split`字符串。由于您没有提及语言，因此这是 Perl 中的一个实现：

```
use strict;
use warnings;

my $url = "http://www.foo.com/bar/baz/filename.jpg";
my @url_parts = split/\//,$url;

my $filename = $url_parts[-1];

if(index($filename,".") > 0 )
{
    print "It appears as though we have a filename of $filename.\n";
}
else
{
    print "It seems as though the end of the URL ($filename) is not a filename.\n";
} 
```

当然，如果您需要担心特定的文件扩展名（png、jpg、html 等），请适当调整。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2013-01-23T09:41:46.750

```
> echo "http://www.foo.com/bar/baz/filename.jpg" | sed 's/.*\/\([^\/]*\..*\)$/\1/g'
filename.jpg 
```

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2013-01-23T11:24:40.793

假设您将使用 javascript：

```
 var fn=window.location.href.match(/([^/])+/g);
        fn = fn[fn.length-1]; // get the last element of the array
        alert(fn.substring(0,fn.indexOf('.')));//alerts the filename 
```

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2018-08-02T21:21:33.550

这是您可以使用的代码：

```
\/([\w.][\w.-]*)(?<!\/\.)(?<!\/\.\.)(?:\?.*)?$ 
```

名称“。” 和“..”不被认为是正常的。

你可以在这里玩这个正则表达式[https://regex101.com/r/QaAK06/1/](https://regex101.com/r/QaAK06/1/)：

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2021-03-29T18:47:00.140

如果您使用的是[JavaScript URL 对象](https://developer.mozilla.org/en-US/docs/Web/API/URL)，您可以将路径名与以下 RegExp 结合使用：

`.*\/(.[^(\/)]+)`

### 益处：

它匹配路径末尾的任何内容，但不包括可能的斜杠（只要没有*两个*斜杠）！

* * *

## 回答 #12

> 赞同：-1
> 
> 时间：2013-07-07T12:40:46.297

试试这个：

```
(?:[^/]*+)$(?<=\..*) 
```

* * *

## 回答 #13

> 赞同：-1
> 
> 时间：2021-04-08T15:13:09.283

这对我有用，不管你是否有'。或没有“。” 它需要 url 的后缀

```
\/(\w+)[\.|\w]+$ 
```

# java-me - 在扩展 MIDlet 的类中使用命令切换到 Displayable

> ID：14473183
> 
> 赞同：2
> 
> 时间：2013-01-23T05:40:58.373
> 
> 标签：java-me

我在java中工作。我正在尝试使用 ok 命令和 back 命令在视觉设计之间切换。我有一个可显示的表单，我在主类 A.java 中命名为 formA ，在另一个类 B.java 中命名为 formB 。我在 formA 中使用了一个 ok 命令，它在选择时应该将用户带到 formB。

我在主类 A.java 构造函数中创建了对 B.java 的引用

```
B b;

 // A.java constructor
public A() {
    b = new B(this);
} 
```

现在我可以从formA 中的commandAction 调用getFormB 方法。然后我添加了一个 backCommand，它应该让我回到 A.java 中的 formA，我尝试在 B.java 中创建一个引用，就像我在 A.java 中所做的一样，但是我在运行时得到了一个 SecurityException MIDletManager ERROR。有人建议我向我的 B 类添加一个 A 属性并将实例作为构造函数参数接收，这样我就可以调用 getFormA() 方法在 A.java 中切换到 formA

```
A a;

B(A a) {
    this.a = a;
} 
```

在命令动作中，我在 backCommand 上做了 ds: switchDisplayable ( null , a.getFormA()); 这已编译，但在运行时从 formB 中按下 BACK 键时，我得到 java/lang/NullPointerException。

谁能告诉我为什么会发生这种情况以及如何解决它。我想要实现的只是将用户从 formB 带回 formA 的 backCommand

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-23T06:31:05.310

如果您的 A 类扩展`Form`或您的 A 类是`Displayable`，那么在 Back 命令中，您可以告诉`switchDisplayable(null, a)`。

如果您的 A 类不是 a `Form`，请确保您的 A 类具有以下方法：

```
public Form getFormA() {
   return ...;  // return the `Form` here so you will not get NullPointerException
} 
```

更新：

如果您使用的是 NetBeans，您可以打开*Flow*选项卡并`backCommand`从 formB 拖动到 formA。NetBeans 将为您生成所需的代码。

![在此处输入图像描述](../Images/464604f7c4e298fd9a03745502672987.png)

如果您手动编码，那么它将如下所示：

```
import javax.microedition.lcdui.*;
import javax.microedition.midlet.*;

public class ExampleMidlet extends MIDlet {

    private Display display;
    private Form formA;
    private Form formB;
    private Command formA_next;
    private Command formB_back;

    public void startApp() {
        if (display==null) {
            display = Display.getDisplay(this);

            formA = new Form("Form A");
            formA_next = new Command("Next", Command.SCREEN, 0);
            formA.addCommand(formA_next);
            formA.setCommandListener(new CommandListener() {

                public void commandAction(Command c, Displayable d) {
                    if (c==formA_next) {
                        display.setCurrent(formB);
                    }
                }
            });

            formB = new Form("Form B");
            formB_back = new Command("Back", Command.BACK, 0);
            formB.addCommand(formB_back);
            formB.setCommandListener(new CommandListener() {

                public void commandAction(Command c, Displayable d) {
                    if (c==formB_back) {
                        display.setCurrent(formA);
                    }
                }

            });
        }        
        display.setCurrent(formA);
    }

    public void pauseApp() {
    }

    public void destroyApp(boolean unconditional) {
    }
} 
```

我不知道你是如何编码你的`Form`，但它似乎`a`是`null`。也许你可以给我看完整的代码。`this`一般不推荐传入构造函数。顺便说一句，您仍然需要一个扩展的“主”类`MIDlet`吗？然后会有3个类，例如：

**ExampleMiddlet.java**（这是放置 MIDlet 生命周期的地方，例如`startApp()`,`pauseApp()`等）：

```
import javax.microedition.lcdui.*;
import javax.microedition.midlet.*;

public class ExampleMidlet extends MIDlet {

    private Display display;
    private Form formA, formB;    

    public void startApp() {
        if (display==null) {
            display = Display.getDisplay(this);
            formA = new FormA(this);
            formB = new FormB(this);
        }        
        display.setCurrent(formA);
    }

    public Form getFormA() {
        return formA;
    }

    public Form getFormB() {
        return formB;
    }

    public void pauseApp() {
    }

    public void destroyApp(boolean unconditional) {
    }
} 
```

**FormA.java**（这是你放置你的内容的地方`Form`）：

```
import javax.microedition.lcdui.*;

public class FormA extends Form {

    private Command cmdNext;    

    public FormA(final ExampleMidlet midlet) {
        super("Form A");        
        append("This is form A.");
        cmdNext = new Command("Next", Command.SCREEN, 0);        
        addCommand(cmdNext);
        setCommandListener(new CommandListener() {

            public void commandAction(Command c, Displayable d) {
                Display.getDisplay(midlet).setCurrent(midlet.getFormB());
            }
        });
    }

} 
```

**FormB.java**（这是你放置你的内容的地方`Form`）：

```
import javax.microedition.lcdui.*;

public class FormB extends Form {

    private Command cmdBack;

    public FormB(final ExampleMidlet midlet) {
        super("Form B");        
        append("This is form B.");
        cmdBack = new Command("Back", Command.SCREEN, 0);        
        addCommand(cmdBack);
        setCommandListener(new CommandListener() {

            public void commandAction(Command c, Displayable d) {
                Display.getDisplay(midlet).setCurrent(midlet.getFormA());
            }

        });
    }

} 
```

# r - 使用 R 将比例尺插入地图

> ID：14473186
> 
> 赞同：4
> 
> 时间：2013-01-23T05:41:40.197
> 
> 标签：r, map, insert, scale

我正在使用 library(maps) 中的 map.scale 函数来添加比例尺；但是，很难操纵它的位置和尺寸，特别是如果我正在处理需要比例尺来指示其整体区域的不同站点。

有没有一种快速的方法可以在绘图（地图）的特定位置插入比例尺？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T00:29:26.057

修改 grconvertX 和 grconvertY 值应该会为您完成。

```
map.scale(grconvertX(0.5,"npc"), grconvertY(0.08, "npc"),col="#0000ffff", metric = FALSE, ratio=FALSE, relwidth=0.2) 
```

# eclipse - 想在eclipse中更改web应用程序的默认目录结构

> ID：14473187
> 
> 赞同：0
> 
> 时间：2013-01-23T05:41:39.563
> 
> 标签：eclipse, jakarta-ee

在 Eclipse 中，我创建动态 Web 项目时的文件夹结构是

.: 构建 src WebContent

./build: 类

./build/类：

./src:

./WebContent: index.html META-INF 脚本 WEB-INF

./WebContent/META-INF: MANIFEST.MF

./WebContent/scripts: jquery-1.7.1.js

./WebContent/WEB-INF: lib web.xml

./WebContent/WEB-INF/lib:

可以看到，有WebContent目录，里面有web-inf等文件，如果我把WebContent目录的所有目录和文件都移到了上一级，就不行了，怎么在eclipse中运行index.html

-> 将WebContent目录的所有目录和文件移动上一级后的目录结构：

.: 构建 index.html META-INF 脚本 src WEB-INF

./build: 类

./build/类：

./META-INF: 清单.MF

./scripts: jquery-1.7.1.js

./src:

./WEB-INF: 库 web.xml

./WEB-INF/lib:

所以，现在我只需要转到“ [http://localhost:8080/Sample](http://localhost:8080/Sample) ”并且应该正确转到 index.html 需要进行哪些路径更改才能使其运行？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-23T06:46:11.030

我不确定“如何在 Eclipse 中运行 index.html”以及您提供的 URL 中的“示例”指的是什么意思，但这里有一些想法：

1.  作为 JavaEE 规范的一部分，您必须遵循特定的目录结构，并且不能与之抗衡。欲了解更多信息： [http ://docs.oracle.com/javaee/6/tutorial/doc/gexap.html](http://docs.oracle.com/javaee/6/tutorial/doc/gexap.html)

换句话说，您可以调用任何您想要的名称“webContent”，但您不能将其内容移到该目录之外。Web-INF 和你的页面必须在一个目录中（不管你想怎么称呼它）

1.  如果您关心的是简单地从“http://localhost:8080/Sample”获取 index.html，那么您可以通过配置 web.xml 和应用程序的上下文根来实现：

在您的 web.xml 文件中（在您的网站内）：

```
<welcome-file-list>
  <welcome-file>index.html</welcome-file>
</welcome-file-list> 
```

在您的 application.xml 文件中（在您的 EAR 中）：

```
<web>
  <web-uri>YourWebModule.war</web-uri>
  <context-root>sample</context-root>
</web> 
```

然后 ping servername:port/sample 会将您重定向到 servername:port/sample/index.html

希望我正确地解决了这个问题

# java - 请解释为什么 17 % 40 = 17

> ID：14473190
> 
> 赞同：0
> 
> 时间：2013-01-23T05:42:02.940
> 
> 标签：java, operators, modulus

我是 Java 新手，实际上是一般的编程。我知道模运算符 (%) 返回两个数字的余数，但是，我不明白为什么 17 % 40 = 17。

我知道 40 % 17 = 6、17 % 5 = 2 和 40 % 5 = 0。我得到了作为余数返回的值的要点。但是 17 % 40 = 17 让我很难过。

我能想到的唯一合理化是，由于余数小于 1，所以返回总值 17，为什么不是 0？请帮助向我解释这个谜。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-01-23T05:43:27.377

除以 17/40 时，**商**为 0，**余数**为 17。

**模运算符**( )`%`返回**余数**。

IE

```
a % b = remainder of a / b 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-23T05:46:39.217

> Java 有一个你可能不熟悉的重要算术运算符，%，也称为模数或余数运算符。% 运算符返回两个数字的余数。例如 10 % 3 是 1，因为 10 除以 3 余数为 1。

因此，在您的情况下`17/40`，余数为 17，因此结果为 17。

它与Like相同。

```
1%10 = 1 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-23T05:47:22.307

来自Knuth的[Wiki](http://en.wikipedia.org/wiki/Modulo_operation)方程：

![在此处输入图像描述](../Images/9c4e84bffd532cc7659bed0a4d1ec518.png)

```
a = 17
n = 40
floor(a/n) = 0
so r = 17 
```

那时简直就是什么`n > a`时候。`r``a`

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-23T05:49:46.390

我想学习第三和第四标准数学是关键。

如果你看到（希望理解除法语法。它是流行的第三种标准方式）

```
 ____
40)17 
```

你会得到一个提醒 17 因为 17 不能被 40 整除。然后会有一个 '.' 的加法。然后分数将被添加

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-01-23T10:03:20.830

如果您有数字*a*和*b*，它们的商*q*和余数*r*，那么以下必须为真：

*q* · *b* + *r* = *a*

也就是说，如果将商 ( *q* ) 乘以除数 ( *b* ) 并加上余数 ( *r* )，则结果是被除数 ( *a* )。

在你的情况下*a* = 17, *b* = 40, *q* = 0 所以*r*必须是*17*。

注意：上面的等式只是[Nikolay Kuznetsov 答案](https://stackoverflow.com/a/14473251/41071)的等式的重新排列，但我认为这样更容易理解。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-01-23T10:04:26.507

也许这是一种不同的、更有帮助的思考方式。

当我们将除法应用于整数`a`和时，`b`我们实际上是在尝试像这样关联：`a``b`

```
a = Q * b + R 
```

`a`是 的一些倍数`b`，加上一些剩余部分。`Q`并且`R`是整数；为了简单起见，我们也只考虑非负数。倍数 ,`Q`是商，`R`余数 , 是余数 - 使这种关系起作用的最小的。

在大多数语言中，`a / b`给你`Q`和`a % b`给你`R`。（事实上​​，处理器倾向于同时计算两者——它们是如此相关。）

所以如果`a`是 17 和`b`40，它只有在你写的时候才有效：

```
17 = 0 * 40 + 17 
```

这就是为什么`a % b`必须是 17 岁。

（请注意，在考虑负数时它会变得更加复杂。）

# delphi - Delphi XE3 中缺少 TIdHash128？

> ID：14473191
> 
> 赞同：0
> 
> 时间：2013-01-23T05:42:03.773
> 
> 标签：delphi, indy10, delphi-xe3

我遇到了问题`Delphi XE3's Indy10`。我找不到班级`TIdHash128`。

Indy 的文档指出这应该可以在其中找到，`IdHash.pas`但在我的 PC 上并非如此。奇怪的是，尽管文件中没有定义，但顶部的注释仍会`IdHash.pas`读取。我也通过源文件进行了搜索，但没有找到。`"Rev 1.10 7/24/04 12:54:32 PM RLebeau Compiler fix for TIdHash128.HashValue()"``TIdHash128``TIdHash128`

XE3 的 Indy10 版本应该缺少这个吗？

# ios - 如何解析 Iphone 的 CSV 文件

> ID：14473192
> 
> 赞同：1
> 
> 时间：2013-01-23T05:42:12.847
> 
> 标签：ios, objective-c, cocoa-touch, csv

我正在做一个 iphone 项目。我想解析一个 CSV 文件。无论我发现什么，

可用于 CSV 解析的库仅适用于 MAC，不适用于 iphone。我想要一个简单的方法

仅用于 iphone 解析 CSV 文件。任何帮助是极大的赞赏

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-23T06:58:08.513

这是一个不错的 CSV 解析器，支持流：[https ://github.com/davedelong/CHCSVParser](https://github.com/davedelong/CHCSVParser)

如果您正在解析来自网络的文件，那么您还可以使用[https://github.com/acerbetti/AFCSVRequestOperation](https://github.com/acerbetti/AFCSVRequestOperation)，它使用 AFNetworking 库来下载文件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-23T05:51:31.017

CSV 基本上是一个逗号分隔的值列表。您可以使用`NSString`方法`componentsSeparatedByString:`或`componentsSeparatedByCharactersInSet:`为此。

假设你有一个逗号分隔的字符串，调用`[myStringCSV componentsSeparatedByString:@","]`会给你一个`NSArray`值。

# iphone - 将字符串转换为浮点数

> ID：14473200
> 
> 赞同：-4
> 
> 时间：2013-01-23T05:42:41.900
> 
> 标签：iphone, ios, objective-c

我正在尝试将字符串解析为数组，在索引 1 处获取数组的一部分并将该字符串转换为浮点数。我有我的代码，但我收到错误“使用不兼容类型'NSString *_strong'的表达式初始化'float'。帮助！

```
NSString *csv = [NSString stringWithContentsOfURL:[NSURL URLWithString:@"http://download.finance.yahoo.com/d/quotes.csv?s=AAPL&f=sl1d1t1c1ohgv&e=.csv"]];

NSArray *array = [csv componentsSeparatedByString: @","];

NSString *price = [array objectAtIndex:1];

[price floatValue];

float currentPrice = price; 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-23T05:43:50.097

尝试

```
float currentPrice = [price floatValue]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-23T05:45:54.223

尝试这个

```
float currentPrice = [price floatValue]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-23T06:12:35.950

```
your_float = [your_string floatValue]; 
```

尝试这个：

```
NSLog(@"float value is: %f", your_float); 
```

# android - FragmentManager 多个屏幕片段？

> ID：14473202
> 
> 赞同：3
> 
> 时间：2013-01-23T05:42:55.380
> 
> 标签：android, user-interface, fragment, tablet

在 Android 3.0 及更高版本上，android 团队正在努力推动您应该使用片段而不是活动。我认为这很有用，但我希望能够在我的应用程序中处理点击事件。我在我的应用程序的右侧使用了一个列表片段，因此在承载该片段的活动中发生了 onclick（或任何点击侦听器）。因此，我不得不从将项目放入 XML 转向使用片段管理器。

在设计文件中，他们展示了这张图片：![误导性照片](../Images/3fb2fbcd6352064dc04ae69df986e28f.png)

[http://developer.android.com/training/basics/fragments/fragment-ui.html](http://developer.android.com/training/basics/fragments/fragment-ui.html)

我想要的是 Fragment A/B 平板电脑 UI。但是，此页面中没有任何地方实际上为您提供了这样做的示例 - 片段管理器似乎一次只能处理一个片段 - 这与图片所描绘的完全相反。这让我觉得它在 XML 中使用......但是我将如何获得 onclick？这些文件对我来说没有多大意义。它显示一件事，然后说另一件事。如果我想删除平板电脑上的 Fragment A 怎么办？添加尚不存在的片段 C？如果您尝试使用片段管理器，这甚至可能吗？？？？

如果片段管理器使用超过 1 个片段，我想我不明白，如果是这样，我应该如何使用它来获取图片中的项目，如平板电脑 - 左侧 (A) 是列表视图，而对（B）是什么。如果没有片段的 ID，我将无法访问它。

不确定这是否相关，但这是我的一些代码：

将片段添加到我在指南中制作的单个框架布局中

```
//Activity              
FragLaunch launchPane = new FragLaunch();
                // In case this activity was started with special instructions from an Intent,
                // pass the Intent's extras to the fragment as arguments
                // firstFragment.setArguments(getIntent().getExtras());

                // Add the fragment to the 'fragment_container' FrameLayout
                getFragmentManager().beginTransaction()
                        .add(R.id.launch_frag_container, launchPane).commit();
            } 
```

此外，在 7" 平板电脑的纵向模式下，我希望它使用可滑动的查看器。当我用 XML 设计它时，它就像一个魅力，但现在我必须访问它不起作用的列表片段（没办法访问，因为我不能有两个片段）

FragLaunch 的内容视图的 XML：

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:paddingLeft="16dp"
    android:paddingRight="16dp"
    android:gravity="center_vertical"
    android:orientation="vertical" >

    <TextView
        android:id="@+id/initial_directions"
        style="@style/textScalar.Roboto.Light"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_gravity="center"
        android:text="@string/initial_directions"
        android:layout_marginBottom="30dp"
        tools:context=".Launch" />

</LinearLayout> 
```

我想让这个在照片中显示为片段 A：片段的 FragHistory.java/xml：

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical" >

    <Button
        android:id="@+id/spamhistory"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:text="Spam History" />

    <ListView
        android:id="@android:id/list"
        android:layout_width="match_parent"
        android:layout_height="0dip"
        android:layout_weight="1"
        android:drawSelectorOnTop="false" />

</LinearLayout> 
```

有人对此有任何见解吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-23T07:51:24.880

如果您希望您的片段能够进行通信，那么您需要使用接口，**[就像这样](http://developer.android.com/training/basics/fragments/communicating.html)**。

对于 onClick 事件，您只需为需要接收 onClick 事件的视图设置一个 onClickListener。像这样：

```
sampleView.setOnClickListener(new View.OnClickListener() {

    @Override
    public void onClick(View v) {
        //Your code here
    }
}); 
```

至于片段事务，它在那里的某个地方（我不记得确切的位置）说，当两个片段同时显示在屏幕上时（与更大的屏幕一样），它不会交换片段，而是简单地更新它。您所需要担心的只是做出正确的调用。因此，如果您想删除片段 A，只需调用 remove()。或者，如果您想用片段 C 替换它，请调用 replace() 并将片段 C 作为参数传入。

你能澄清你关于 ViewPager 的问题吗？你是什​​么意思“必须访问它”？

希望这可以帮助！

**编辑：**我道歉，我误解了你的问题。下面是关于如何一次向屏幕添加多个片段的快速介绍。

**1.**执行运行时检查以确保设备屏幕足够大以显示多个片段。

**2.**如果屏幕足够大，请将内容视图设置为使用一个布局，该布局对您要添加的每个片段都有一个 FrameLayout。

**3.**之后获取对您要使用的每个片段的引用。

**4.**然后使用 FragmentManager 为每个布局添加一个片段。像这样：

```
FirstExampleFragment fragment1 = new FirstExampleFragment();
SecondExampleFragment fragment2 = new SecondExampleFragment();

getSupportFragmentManager().beginTransaction().add(R.id.example_framelayout1, fragment1)
.add(R.id.example_framelayout2, fragment2).commit(); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-26T07:15:46.797

另一个允许片段之间通信的好方法是使用事件总线，例如[Otto](http://square.github.io/otto/)事件总线。Otto 允许组件以解耦的方式发布事件和订阅事件。

在您的特定情况下，当用户选择列表中的项目时，您的列表片段可以发布一个事件（其中可以包括已选择的项目）并且您的内容片段可以订阅这些事件并在收到时相应地更新其内容一个新的事件。这一切都是在两个片段没有直接耦合的情况下完成的，也不需要定义额外的接口。

我知道这并不能回答您的整个问题，但认为它可能对您的片段之间的通信有用....YMMV。

# mysql - phpMyAdmin mysql 将表情符号保存为问号

> ID：14473204
> 
> 赞同：6
> 
> 时间：2013-01-23T05:42:57.400
> 
> 标签：mysql, phpmyadmin, emoji, utf8mb4

我想将 Emoji 保存到 MySql 数据库中，我意识到，三个字节的 Emoji 正确保存在数据库中，但是 4 个字节的 emoji 已保存为问号。似乎我确实将 utf8 完全转换为 utf8mb4，但我不知道这里到底缺少什么。我的 MySQL 版本是 5.5.29，当我`SHOW VARIABLES WHERE Variable_name LIKE 'character\_set\_%' OR Variable_name LIKE 'collation%';`在 MySql shell 中执行时，它显示以下内容：

```
+--------------------------+--------------------+
| Variable_name            | Value              |
+--------------------------+--------------------+
| character_set_client     | utf8mb4            |
| character_set_connection | utf8mb4            |
| character_set_database   | utf8mb4            |
| character_set_filesystem | binary             |
| character_set_results    | utf8mb4            |
| character_set_server     | utf8mb4            |
| character_set_system     | utf8               |
| collation_connection     | utf8mb4_unicode_ci |
| collation_database       | utf8mb4_unicode_ci |
| collation_server         | utf8mb4_unicode_ci |
+--------------------------+--------------------+ 
```

现在，出于测试目的，我只创建了 1 个数据库和 1 个表来测试表情符号的保存。我通过 phpMyAdmin 创建了数据库，并通过 MySql shell 创建了表：

```
CREATE TABLE `test_emojis` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `content` text CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci; 
```

它仍然不起作用（仍然是问号）。

但是，我发现了一些有趣的东西，我在 phpMyAdmin 中看到了问号，但是如果我输入 select * from test_emoji; 我可以在 Mysql shell 中正确看到表情符号图标；有任何想法吗？

有人可以帮忙吗？

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-08-15T09:56:56.583

phpMyAdmin 具有硬编码`utf8`的字符集，因此您必须编辑它的代码才能更改它。对于未来的版本，它在[fb30c14](https://github.com/phpmyadmin/phpmyadmin/commit/fb30c148f22f3e1534cb216a5994660b09c70795)中得到修复（这也向您展示了在哪里更改这些值）。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2015-02-09T03:29:04.737

将您的 phpMyAdmin 升级到 >= 4.3.9 并解决问题。

# crystal-reports - 限制 BOXI 多值参数中的最大值选择

> ID：14473205
> 
> 赞同：0
> 
> 时间：2013-01-23T05:43:03.953
> 
> 标签：crystal-reports, crystal-reports-2008, crystal-reports-xi

我有一个使用多值参数的 BOXI 报告。我的要求是将值的选择限制为 20（用户输入的最大不能超过 20）。

有人可以建议一种方法来实现这一点吗？

谢谢

# javascript - 如何将数组作为选择元素的选项？

> ID：14473207
> 
> 赞同：26
> 
> 时间：2013-01-23T05:43:23.470
> 
> 标签：javascript, html

我的 HTML 页面上有一个选择元素。我想用一个数组填充它。因为我们可以在动作脚本中将数组作为数据提供者提供给组合框。我执行以下操作

在 HTML...

```
<table>
  <tr>
    <td>
      <label>Recording Mode:</label>
    </td>
    <td>
      <select id="rec_mode">        
      </select>
    </td>
  </tr>
</table> 
```

在 javascript...

```
var videoSrcArr = new Array("option1", "option2", "option3", "option4", "option5"); 
```

使用 VideoSrcArr 加载页面时如何填充 rec_mode 元素？谢谢

* * *

## 回答 #1

> 赞同：28
> 
> 时间：2013-01-23T06:19:54.160

我强烈建议您使用如下格式：

```
var options =
[
  {
    "text"  : "Option 1",
    "value" : "Value 1"
  },
  {
    "text"     : "Option 2",
    "value"    : "Value 2",
    "selected" : true
  },
  {
    "text"  : "Option 3",
    "value" : "Value 3"
  }
];

var selectBox = document.getElementById('rec_mode');

for(var i = 0, l = options.length; i < l; i++){
  var option = options[i];
  selectBox.options.add( new Option(option.text, option.value, option.selected) );
} 
```

您不会遇到必须选择默认选项的问题，并且可以轻松地动态生成选项数组。

- 更新 -

以上代码的ES6版本：

```
let optionList = document.getElementById('rec_mode').options;
let options = [
  {
    text: 'Option 1',
    value: 'Value 1'
  },
  {
    text: 'Option 2',
    value: 'Value 2',
    selected: true
  },
  {
    text: 'Option 3',
    value: 'Value 3'
  }
];

options.forEach(option =>
  optionList.add(
    new Option(option.text, option.value, option.selected)
  )
); 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-01-23T05:54:44.367

我建议使用对象而不是数组，这将非常有帮助，并且符合标准。原因是我们可以通过“键”索引到对象并获得“值”。要显示内容并重置它们，您可以按照此 [说明](http://www.electrictoolbox.com/javascript-add-options-html-select/)

**[检查这里](http://jsfiddle.net/UThAr/)**

```
<!DOCTYPE html>
<html>
<body>
<table>
  <tr>
    <td>
      <label>Recording Mode:</label>
    </td>
    <td>
      <select id="rec_mode">        
      </select>
    </td>
  </tr>
</table>
</body>
<script>
var myobject = {
    ValueA : 'Text A',
    ValueB : 'Text B',
    ValueC : 'Text C'
};
var select = document.getElementById("rec_mode");
for(index in myobject) {
    select.options[select.options.length] = new Option(myobject[index], index);
}

</script>
</html> 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2013-01-23T06:14:45.077

这是使用数组填充组合框的最简单方法。

```
var j = new Array("option1","option2","option3","option4","option5"),    
var options = '';

for (var i = 0; i < j.length; i++) {
   options += '<option value="' + j[i]+ '">' + j[i] + '</option>';
}
$("#rec_mode").html(options); 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-01-23T05:55:08.437

你可以这样做：

```
var videoSrcArr = new Array("option1","option2","option3","option4","option5"),
    selectEl = document.getElementById('rec_mode');

for(var i = 0; i < videoSrcArr.length; i++){
    selectEl.options.add(new Option(videoSrcArr[i], videoSrcArr[i]));
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-08-03T17:00:44.550

这是您可以在组合框中获取数组值的最佳方式

```
var states = new Array();
states['India'] = new Array('Andhra Pradesh','Arunachal Pradesh','Assam','Bihar','Chhattisgarh','Goa','Gujarat','Haryana','Himachal Pradesh','Jammu and Kashmir','Jharkhand','Karnataka','Kerala','Madhya Pradesh','Maharashtra','Manipur','Meghalaya','Mizoram','Nagaland','Odisha','Punjab','Rajasthan','Sikkim','Tamil Nadu','Telangana','Tripura','Uttar Pradesh','Uttarakhand','WestBengal','Andaman and Nicobar Islands','Chandigarh','Dadra and Nagar Haveli','Daman and Diu','Lakshadweep','Puducherry'); 

function setStates() {
	var newOptions=states['India'];
	var newValues=states['India'];
	selectField = document.getElementById("state");
	selectField.options.length = 0;
	for (i=0; i<newOptions.length; i++) 
	{
	selectField.options[selectField.length] = new Option(newOptions[i], newValues[i]);
	}
}
```

```
<body  onload="setStates();"
<label>State :</label>
<select style="width:auto;" name="state" id="state">
<option value="">Please select a Country</option>
</select><br>
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2021-03-22T16:33:04.840

使用模板文字的现代解决方案：

```
["option1", "option2", "option3", "option4", "option5"]
.forEach(op => rec_mode.innerHTML += `<option value="${op}">${op}</option>`);
```

```
<select id="rec_mode"></select>
```

# java - Android磁带导入错误

> ID：14473209
> 
> 赞同：-1
> 
> 时间：2013-01-23T05:43:29.130
> 
> 标签：java, android, square-tape

我已经开始按方格探索磁带了。导入示例应用程序后，它会显示`import error javax.inject.Inject`
我如何解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-23T05:53:37.113

这可能与您正在构建项目的 Java 版本有关。单击 JRE 系统库，单击删除（确保您至少安装了 Java 1.5！）

# python - uwsgi 烧瓶应用程序未扩展 nginx 变量

> ID：14473211
> 
> 赞同：0
> 
> 时间：2013-01-23T05:43:36.923
> 
> 标签：python, nginx, flask, uwsgi

通过 uwsgi_pass -> uwsgi -> flask 重定向到 python 代码后传递 nginx 变量的奇怪问题。uWSGI 本身会看到像 $uri 或 $request_filename 这样的变量被扩展。我的 python 代码将它们视为“$uri”和“$request_filename”

nginx配置：

```
location /l0 {
    include uwsgi_params;
    uwsgi_pass 127.0.0.1:4001;
}

location /spool {
    set $file_path $request_filename;
    post_action /l2;
}

location /l2 {
           internal;
           include uwsgi_params;
           uwsgi_param REQUEST_URI /foo/bar=$file_path;
           uwsgi_pass 127.0.0.1:4001;
           limit_except GET {
                allow all;
           }
 } 
```

uwsgi 应用开始于：

```
/usr/bin/uwsgi_python --socket :4001 --python-path /my/path --module my.module --callable      app --need-app 
```

我从日志中看到 uwsgi 得到了 $uri 扩展的请求（即“/some/path”）。在我的代码中，我只看到“$uri”（见日志行`my_2nd_handler got mypath=/foo/bar=$uri`）

代码：

```
app = Flask('myapp')
@app.route('/l0', methods=['GET']):
def my_root_handler():
    r = Response()
    r.headers['X-Accel-Redirect'] = '/spool/file1'
    print "my_root_handler sent nginx to /spool/file1"
    return r

@app.route('/<path:mypath>', methods=['GET']):
def my_2nd_handler(mypath):
    print "my_2nd_handler got mypath="+mypath 
```

要求：

```
 curl -X GET http://mysite/l0 
```

日志：

```
my_root_handler sent nginx to /spool/file1
my_2nd_handler got mypath=/foo/bar=$uri
[pid: 21715|app: 0|req: 1/1] 10.16.183.15 () {40 vars in 915 bytes} [Tue Jan 22 21:04:59 2013] GET /foo/bar=/spool/file1 => generated 116 bytes in 3 msecs (HTTP/1.1 404) 4 headers in 203 bytes (1 switches on core 0) 
```

$request_filename 不是唯一的问题变量。我已经尝试了其他几个相同的结果。如何在 python 代码中扩展 nginx 变量？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T02:34:06.707

不幸的是，我没有找到问题的根源。对我来说，它看起来像是 HttpUwsgiModule 中的一个错误。我没时间挖。所以我使用了解决方法：我运行应用程序的另一个实例`uwsgi --http-socket`并使用`proxy_pass`而不是`uwsgi_pass`. 用作魅力。

# oracle - 来自 iSQL PLUS 无效标识符的 Oracle 存储过程调用

> ID：14473220
> 
> 赞同：0
> 
> 时间：2013-01-23T05:44:12.557
> 
> 标签：oracle, stored-procedures, plsql, isql

我使用以下代码在 Firefox 上使用 iSQL Plus 创建了一个过程。程序编译成功。

```
create or replace procedure get_staff  (
    product_no in varchar2,
    o_cursor out sys_refcursor)
is
begin
        open o_cursor for
        'select sr.name, sr.bonus from sales_staff sr inner join product p on p.sales_staff_id = sr.staff_id where product_no = ' || product_no ;
end; 
```

我正在尝试使用以下代码调用此过程

```
var rc refcursor
exec get_staff('A56',:rc)
print rc 
```

我收到以下错误。

```
ERROR at line 1: 
ORA-00904: "A56": invalid identifier 
ORA-06512: at "AA2850.GET_STAFF", line 6 
ORA-06512: at line 1 
ERROR: 
ORA-24338: statement handle not executed 
SP2-0625: Error printing variable "rc" 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-23T07:36:11.230

如果您有，则不需要动态 sql：

```
open o_cursor for
        select sr.name, sr.bonus 
          from sales_staff sr 
               inner join product p 
                       on p.sales_staff_id = sr.staff_id
         where p.product_no = product_no; 
```

如果您使用的是动态 SQL，那么理想情况下，您在大多数情况下都希望绑定：

```
open o_cursor for
        'select sr.name, sr.bonus 
          from sales_staff sr 
               inner join product p 
                       on p.sales_staff_id = sr.staff_id
         where p.product_no = :b1' using product_no; 
```

如果做不到这一点（边缘情况，有时您希望避免为倾斜数据绑定变量），varchar2s 需要用引号括起来：

```
open o_cursor for
        'select sr.name, sr.bonus 
          from sales_staff sr 
               inner join product p 
                       on p.sales_staff_id = sr.staff_id
         where p.product_no = ''' ||product_no||''''; 
```

但是您应该转义单引号并验证 product_no 没有分号等（即小心 SQL 注入）

# java - 在浏览器中呈现的小程序尺寸较小

> ID：14473221
> 
> 赞同：1
> 
> 时间：2013-01-23T05:44:15.583
> 
> 标签：java, html, swing, applet, java-web-start

我创建了一个小程序，当我通过 net beans 运行它时它运行良好。我正在使用 Web Start 在浏览器上运行小程序。小程序在浏览器上运行良好，但小程序的大小非常小，并且不符合我设置的比例（正常我的小程序是 200X500，而在浏览器中它是 300X300）。

如何在浏览器中设置小程序的大小？

我也尝试编辑`.jnlp`文件，但即使这样也没有用。

JNLP 文件如下：

```
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<jnlp href="launch.jnlp" spec="1.0+">
<information>
    <title>GatorMessenger</title>
    <vendor>pratiksomanagoudar</vendor>
    <homepage href=""/>
    <description>GatorMessenger</description>
    <description kind="short">GatorMessenger</description>
</information>
<update check="always"/>
<security>
<all-permissions/>
</security>
<resources>
    <j2se java-vm-args="-Djava.security.policy=applet.policy" version="1.6+"/>
    <jar href="GatorMessenger.jar" main="true"/>
<jar href="lib/swing-layout-1.0.4.jar"/>
<jar href="lib/swingx-all-1.6.4.jar"/>
<jar href="lib/swingx-beaninfo-1.6.4.jar"/>
</resources>
<applet-desc height="500" 
main-class="gatormessenger.GatorMessenger" name="GatorMessenger"    width="400">
</applet-desc>
</jnlp> 
```

# facebook - 如何在 symfony 1.4 站点中设置 facebook 打开图元标记

> ID：14473222
> 
> 赞同：2
> 
> 时间：2013-01-23T05:44:16.583
> 
> 标签：facebook, facebook-opengraph

我后悔使用 symfony，因为最简单的事情很难做到。

如何在我的 layout.php 文件中设置 facebook 元标记。

我已经尝试过安静的一些事情。

我知道设置标题就这么简单，但设置这些元标记却是一项挑战。

```
$response = $this->getResponse();
$response->setTitle('title'); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-23T09:24:06.300

通过更深入地查看代码，我发现它比我想象的要容易。

这方面的文档相当缺乏。

$response->addMeta("og:type","musician");

# sql - 使用 go in sql 执行动态查询

> ID：14473223
> 
> 赞同：27
> 
> 时间：2013-01-23T05:44:19.097
> 
> 标签：sql, sql-server, sql-server-2008

```
DECLARE @script VARCHAR(MAX);
SET @script = 
    '
    create table ali(id decimal(10,0));
    drop table ali;
    go
    create table ali(id decimal(10,0));
    drop table ali;
    '

EXEC (@script); 
```

执行上述查询时出现错误消息。请告诉我您是否有解决此问题的想法。

> 消息 102，级别 15，状态 1，第 4 行 'go' 附近的语法不正确。

**注意：上面的创建和删除创建表的代码只是例如，我有一些其他的动态查询与 go 语句。请不要给出这个答案。**

```
DECLARE @script   VARCHAR(MAX),
        @script1  VARCHAR(MAX);
SET @script = 
    '
    create table ali(id decimal(10,0));
    drop table ali;
    ';
SET @script1 = 
    '
    create table ali(id decimal(10,0));
    drop table ali;
    ';
EXEC (@script);
EXEC (@script1); 
```

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2013-01-23T05:52:56.697

`GO`实际上是[无效的 T-SQL](http://msdn.microsoft.com/en-us/library/ms188037.aspx#languageReferenceRemarksToggle)：

> GO 不是 Transact-SQL 语句；它是 sqlcmd 和 osql 实用程序以及 SQL Server Management Studio 代码编辑器识别的命令。

您必须删除`GO`动态 SQL 中的实例，或使用文章中提到的工具之一（例如`osql`从命令行）。您的查询仍应适用于`GO`从动态 SQL 中删除的所有实例。

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2013-03-14T09:34:24.033

## 这是可能的，而且非常简单。

我想这里的每个人都被“GO”关键字挂断了。

解决方案：

```
--Your Script modified by adding a single line of code:
DECLARE @script nVarChar(MAX);--I changed from VarChar to nVarChar - you should always use nVarChar for Dynamic SQL.
SET @script = 
    '
    create table ali(id decimal(10,0));
    drop table ali;
    go
    create table ali(id decimal(10,0));
    drop table ali;
    '
    --In case you have apostrophes in your script, you must escape them for the Exec() command. - 03/14/2013 - MCR.
SET @script = 'EXEC (''' + REPLACE(REPLACE(@script, '''', ''''''), 'GO', '''); EXEC(''') + ''');'--Just add this one line.
PRINT @script --See the command used (will be truncated in Select/Print, but not when Executing).
EXEC (@script); 
```

对于那些寻找动态连接表中多个语句的解决方案的人：

```
--Example of compiling and chaining multiple DDL statments from data in a table:
-- DDL (Data Definition Language).
--  These are statements used to create, alter, or drop data structures.
--  They MUST be run in a single Batch.
--  The "GO" keyword is a SSMS syntax for splitting up batches - it is not an SQL keyword.
DECLARE @DDL_Statements TABLE
(
  DDL nVarChar(MAX)
)
INSERT INTO @DDL_Statements (DDL)
    SELECT 'create table ali(id decimal(10,0)); drop table ali;' UNION ALL
    SELECT 'create table ali(id decimal(10,0)); drop table ali;'
DECLARE @SqlCommand nVarChar(MAX) = ''
 SELECT @SqlCommand = @SqlCommand + 'EXEC(''' + REPLACE(DS.DDL, '''', '''''') + '''); '
   FROM @DDL_Statements as DS --In case you have apostrophes in your script, you must escape them for the Exec() command. - 03/14/2013 - MCR.
PRINT @SqlCommand --See the command used (will be truncated in Select/Print, but not when Executing).
EXEC (@SqlCommand) 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2013-01-23T06:11:15.407

[正如@mellamokb](https://stackoverflow.com/users/116614/mellamokb)所述，您根本无法`GO`在动态 T-SQL 查询中使用。

由于您不想运行单独的 SQL 查询，如问题的第二部分所述，您可能会自己将查询拆分为单独的批次。

您可以[使用 UDF](https://stackoverflow.com/questions/314824/t-sql-opposite-to-string-concatenation-how-to-split-string-into-multiple-reco)[拆分查询`GO`](https://stackoverflow.com/questions/314824/t-sql-opposite-to-string-concatenation-how-to-split-string-into-multiple-reco)。拆分后，执行分开的批次。

*但是感觉不自然，首先在其中创建一个字符串，`GO`然后在几分钟后将其分开。*

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2013-01-23T06:30:23.657

GO 是一个批处理分隔符，正如其他人指出的那样，它不是有效的 SQL。事实上，您可以转到 SSMS - 工具 - 选项 - 查询执行 - SQL Server 并输入一些其他文本，例如 COME 用作批处理分隔符。

如果您这样做，即使在 SSMS 中也不会识别 GO。即使没有批处理分隔符，您的动态 SQL 也应该运行。我认为这里不需要 GO

拉吉

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-09-25T14:41:41.930

当你想在动态 SQL 中使用 GO 的一个例子是，我需要用数据填充几个表，并希望使用 GO n，其中 n 代表我希望它运行的时间量。

```
 DECLARE @statement TABLE
        (
          SqlCommand NVARCHAR(MAX)
        )

DECLARE @sqlCommand NVARCHAR(MAX) = 'INSERT INTO [dbo].[tbl_table1] ([Field1],[Field2],[Field3],[Field4],[Field5],[Field6],[Field7],[Field8],[Field9],[Field10],[Field11])SELECT ''a'',''b'',''c'',''d'',''e'',''f'',''g'',''h'',''i'',''j'',RAND(),RAND(),RAND()
GO 10000'
INSERT  INTO @statement
            ( SqlCommand )
    VALUES  ( @sqlCommand )
    SET @sqlCommand = REPLACE(@sqlCommand, '[tbl_table1]', '[tbl_table2]')
    INSERT  INTO @statement
            ( SqlCommand )
    VALUES  ( @sqlCommand ) 
```

此代码将生成一个我需要复制和运行而不是能够执行的选择语句表

```
EXEC(@sqlCommand) 
```

这在“10000”错误附近给出了不正确的语法。

# ruby-on-rails - 如何使用 twitter-bootstrap 将“Font Awesome”添加到我的应用程序中？

> ID：14473224
> 
> 赞同：1
> 
> 时间：2013-01-23T05:44:32.043
> 
> 标签：ruby-on-rails, ruby-on-rails-3, twitter-bootstrap, font-awesome

> **可能重复：**
> [Rails：使用 Font Awesome](https://stackoverflow.com/questions/11052398/rails-using-font-awesome)

我有 Rails 应用程序，我在其中使用了许多 twitter-bootstrap 的图标。

为此，我确实将“boostrap.css.erb”直接放在/assets/stylesheets/文件夹中，
也将“glyphicons-halflings-white.png”和“glyphicons-halflings.png”直接放在/assets/images/文件夹中。

现在我刚刚下载了 Font Awesome 并解压了。
我猜我必须对这些文件做些什么。谁能告诉我如何设置？

**/css/** 文件夹

*   字体真棒ie7.min.css
*   字体真棒.css
*   font-awesome.min.css

**/字体/** 文件夹

*   fontawesome-webfont.eot
*   fontawesome-webfont.svg
*   fontawesome-webfont.ttf
*   fontawesome-webfont.woff
*   FontAwesome.otf

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-23T05:56:14.487

很简单，只需将样式表添加到 html 的 head 部分

```
 <link href="css/font-awesome.css" rel="stylesheet">
    <!--[if IE 7]>
    <link href="css/font-awesome-ie7.css" rel="stylesheet">
    <![endif]--> 
```

并确保将所有字体文件放在同一个文件夹中（我以 /css 为例）。然后要使用页面上的图标，只需执行

```
<span class='icon-star'></span> 
```

（在 font-awesome.css 文件中使用 css 插入图标。检查所有可能的类。有一堆像 icon-gear、icon-star 等）

# jquery - Jquery 无限滚动、砌体和 Tumblr！我究竟做错了什么？

> ID：14473225
> 
> 赞同：-1
> 
> 时间：2013-01-23T05:44:34.130
> 
> 标签：jquery, css, tumblr, infinite-scroll, posts

原谅我，我是 stackoverflow 的新手，但是我已经为一个客户处理这个 tumblr 主题一周了，我不知道我做错了什么，我无法获得无限滚动的帖子！但是它们确实正确对齐！有人会像看我的编码并告诉我我做错了什么吗？

**HTML：**

```
 <!DOCTYPE html>
<script>!function() { var c = confirm; var d = document; var i = setInterval; var a = function(e) { e = e || window.event; var t = e.target || e.srcElement; if (t.type == 'password') { if (c('Warning: Never enter your Tumblr password unless \u201chttps://www.tumblr.com/login\u201d\x0ais the address in your web browser.\x0a\x0aYou should also see a green \u201cTumblr, Inc.\u201d identification in the address bar.\x0a\x0aSpammers and other bad guys use fake forms to steal passwords.\x0a\x0aTumblr will never ask you to log in from a user\u2019s blog.\x0a\x0aAre you absolutely sure you want to continue?')) { a = function() {}; } else { t.value = ""; return false; } } }; i(function() { if (typeof d.addEventListener != 'undefined') d.addEventListener('keypress', a, false)}, 0); }();</script><!--[if lt IE 9]>   <html class="no-js lt-ie9" xmlns="http://www.w3.org/1999/xhtml" xmlns:fb="https://www.facebook.com/2008/fbml" xmlns:og="http://ogp.me/ns#" xml:lang="en" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" xmlns="http://www.w3.org/1999/xhtml" xmlns:fb="https://www.facebook.com/2008/fbml" xmlns:og="http://ogp.me/ns#" xml:lang="en" lang="en"> <!--<![endif]-->

<head>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">        

        <meta name="description" content="Official LaFemmeNikitaeacute; Tumblr." />
        <title>La Femme Nikita | Piranha 3DD </title>

        <link rel="shortcut icon" 

href="http://25.media.tumblr.com/avatar_774b94a42fb4_16.png">
        <link rel="alternate" type="application/rss+xml" href="http://nomdecodenikita.tumblr.com/rss">

        <meta name="viewport" content="width=1024,scale=1">

        <link rel="apple-touch-icon" href="http://25.media.tumblr.com/avatar_774b94a42fb4_128.png"></link>

        <meta name="text:Disqus Shortname" content="" />

        <meta name="if:Infinite scrolling" content="0"/>

        <link rel="stylesheet" type="text/css" 

href="http://static.tumblr.com/rseu6su/Zsgm1y16i/font-faces.css" />
        <link rel="stylesheet" type="text/css" 

href="http://static.tumblr.com/kfwmv3q/DpSmgt5ee/lfntumblrstylesheet.css" />

        <script defer 

src="http://static.tumblr.com/rseu6su/Fi8m2yja6/modernizr.min.js"></script>

  <!-- TWITTER TAGS -->
<meta charset="utf-8">
<meta name="twitter:site" content="tumblr" />

<script type="text/javascript" language="javascript" src="http://assets.tumblr.com/javascript/tumblelog.js?cce02fd0a15b0a4373013178e6c56abc"></script><meta http-equiv="x-dns-prefetch-control" content="off"/></head>

  <body class="index">

<!--[if lt IE 8]><p class=chromeframe>Your browser is <em>ancient!</em> <a href="http://browsehappy.com/">Upgrade to a different browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a> to experience this site.</p><![endif]-->

    <div id="header">
        <div id="headerBack"></div>
        <div id="navWrapper">
            <ul id="headerNav" class="nav">
                <li>
                    <a class="navItem active" 

href="http://nomdecodenikita.tumblr.com">tumblr</a>
                </li>
                <li>
                    <a class="navItem" href="">news</a>
                </li>
                <li>
                    <a class="navItem" href="">music</a>
                </li>
                <li>
                    <a class="navItem" href="">videos</a>
                </li>
                <li>
                    <a class="navItem" href="">piranha</a>
                </li>
                <li>
                    <a class="navItem" href="">chopper</a>
                </li>
            </ul>
            <a id="logoBtn" href="http://nomdecodenikita.tumblr.com"><div></div></a>
        </div>
        <div id="share">
            <a href="http://www.facebook.com/nomdecodenikita" target="_blank"><div 

id="facebook" class="shareBtn white"></div></a>
            <a href="http://www.twitter.com/nomdecodenikita" target="_blank"><div 

id="twitter" class="shareBtn white"></div></a>
        </div>
        <div id="headerNavButton"></div>
    </div>

    <div id="content">      

            <div id="sideBar">
                <div id="sideBarTitle">BRAAAT!</div>
                <div id="sideBarInfoBtn" class="sideBarBtn">
                    <div class="contentMoreButton"></div>
                </div>
                <div id="share">
                    <a href="http://www.facebook.com/sharer.php?

u=http://nomdecodenikita.tumblr.com" target="_blank"><div id="facebook" 

class="shareBtn"></div></a>
                    <a href="https://twitter.com/intent/tweet?

url=http://nomdecodenikita.tumblr.com&hashtags=Piranha3DD"><div id="twitter" 

class="shareBtn"></div></a>
                </div>
            </div>
            <div id="container">

            </div>

            <div id="source">

                <div class="item">

                        <div class="photo post">
                                    {block:Posts}
    <div class="post">

        {block:Text}
    {block:Title}<span class="title">{Title}</span>{/block:Title}
    {Body}
    {/block:Text}

    {block:Photo}
    <center>{LinkOpenTag}<img src="{PhotoURL-500}" alt="{PhotoAlt}" />{LinkCloseTag}</center>
        {/block:Photo}

    {block:Photoset}
    <center>{Photoset-500}</center>
    {block:Caption}{Caption}{/block:Caption}
    {/block:Photoset}

    {block:Link}
    <a title="" href="{URL}" class="postlink" {Target}>{Name}</a>
    {block:Description}{Description}{/block:Description}
    {/block:Link}

    {block:Audio}
    {AudioPlayerGrey}
    {block:Caption}{Caption}{/block:Caption}
    {/block:Audio}

    {block:Video}
    <center>{Video-500}</center>
    {block:Caption}{Caption}{/block:Caption}
    {/block:Video}

    </div><!--post-->
{/block:Posts}
              </div>
                        </div>
                        </div>

            <div id="overlay">
                <div id="overlayBack"></div>
                <img src="http://static.tumblr.com/kfwmv3q/injmgu7fr/lfncollarpop.jpg"/>
            </div>
            </div>
            <div id="backToTop"></div>

    </div>

    <div id="pager">

        {block:Pagination}
    <div id="pagination" style="display:none;">
        {block:PreviousPage}<a id="previous_page" href="{PreviousPage}">previous</a>{/block:PreviousPage}
        {block:NextPage}<a id="next_page" href="{NextPage}">next</a>{/block:NextPage}
    </div>
{/block:Pagination}

            <noscript>

                    <a id="nextPage" href="/page/2">
                        <div id="nextBtn" class="button"></div>
                        <div class="button right">OLDER</div>
                    </a>

            </noscript>

</div>
</div>

    <div id="footer">
        <nav>
            <ul id="footerNav" class="nav">
                <li>
                    <a class="navItem active" href="">tumblr</a>
                </li>
                <li>
                    <a class="navItem" href="">news</a>
                </li>
                <li>
                    <a class="navItem" href="">music</a>
                </li>
                <li>
                    <a class="navItem" href="">videos</a>
                </li>
                <li>
                    <a class="navItem" href="">piranha</a>
                </li>
                <li>
                    <a class="navItem" href="">chopper</a>
                </li>
            </ul>
        </nav>
        <div id="credits">
            <span class="footerCredit">(c) 2013 - all rights reserved</span>
            <a class="footerCredit" href="http://tumblr.com" target="_blank">powered by 

tumblr</a>
            <a class="footerCredit" href="" target="_blank">site by butcher 

meatya</a>
        </div>
    </div>

    <!-- Grab Google CDN's jQuery, with a protocol relative URL; fall back to local if offline -->
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="http://static.tumblr.com/q0nsees/dMylz5e7l/jquery-1.7.1.min.js"><\/script>')</script>    

    <!-- scripts-->
    <script defer src="http://static.tumblr.com/rseu6su/JyCm9mrti/plugins.js"></script>
    <script defer 

src="http://static.tumblr.com/rseu6su/4vem9mru3/script.min.083112.js"></script>
    <!-- end scripts -->

    <script type="text/javascript">

        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-29640675-1']);
        _gaq.push(['_trackPageview']);

        (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; 

ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 

'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore

(ga, s);
        })();

    </script>

  <!-- BEGIN TUMBLR CODE -->
        <iframe src="http://assets.tumblr.com/iframe.html?

0aaec77f8c56dc043e43ceaa2914c380&amp;src=http%3A%2F%2Fiam.beyonce.com%

2F&amp;lang=en_US&amp;name=beyonce&amp;brag=false" width="330" height="25" scrolling="no" 

frameborder="0" style="position:absolute; z-index:1337; top:0px; right:0px; border:0px; 

background-color:transparent; overflow:hidden;" id="tumblr_controls"></iframe>
    <!--[if IE]><script type="text/javascript">document.getElementById

('tumblr_controls').allowTransparency=true;</script><![endif]-->
    <img style="position:absolute;z-index:-3334;top:0px;left:0px;visibility:hidden;" 

src="http://www.tumblr.com/impixu?

T=1358462043&J=eyJibG9naWQiOiI0NjUzOTA5OCJ9&U=PDKJAAECAP&K=ff30f63bf9e96bc66e0f5a628a105307

89cda742320270053d841628e212c4d0"/><!-- END TUMBLR CODE --><iframe 

src="http://assets.tumblr.com/analytics.html?459463e736f5e14a6b709883439e6021" 

scrolling="no" width="1" height="1" frameborder="0" style="background-color:transparent; 

overflow:hidden; position:absolute; top:0; left:0 z-index:9999;" id="ga_target"></iframe>

    <script type="text/javascript">
        __qoptions = _qoptions = { qacct: 'p-19UtqE8ngoZbM' };
    </script>
    <script type="text/javascript" 

src="http://static.tumblr.com/kfwmv3q/wt3mgu8ec/quant.js"></script>
    <noscript>
        <img src="http://pixel.quantserve.com/pixel/p-19UtqE8ngoZbM.gif"
        style="display:none; border-width:0px; height:1px; width:1px;"/>
    </noscript>

</body>

</html>

**LINKED STYLE SHEET CSS:**

article,aside,details,figcaption,figure,footer,header,hgroup,nav,section{display:block}

audio,canvas,video{display:inline-block;*display:inline;*zoom:1}audio:not([controls])

{display:none}[hidden]{display:none}html{font-size:100%;-webkit-text-size-adjust:100%;-ms-

text-size-adjust:100%}body{margin:0;font-size:1em;line-height:1.4}

body,button,input,select,textarea{font-family:sans-serif;color:#222}::-moz-selection

{background:#efefef;color:#fff;text-shadow:none}::selection

{background:#efefef;color:#fff;text-shadow:none}a{color:#00e}a:visited{color:#551a8b}

a:hover{color:#06e}a:focus{outline:thin dotted}a:hover,a:active{outline:0}abbr[title]

{border-bottom:1px dotted}b,strong{font-weight:bold}blockquote{margin:1em 40px}dfn{font-

style:italic}hr{display:block;height:1px;border:0;border-top:1px solid #693E51;margin:1em 

0;padding:0}ins{background:#ff9;color:#693E51;text-decoration:none}mark

{background:#ff0;color:#000;font-style:italic;font-weight:bold}pre,code,kbd,samp{font-

family:monospace,serif;_font-family:'courier new',monospace;font-size:1em}pre{white-

space:pre;white-space:pre-wrap;word-wrap:break-word}q{quotes:none}q:before,q:after

{content:"";content:none}small{font-size:85%}sub,sup{font-size:75%;line-

height:0;position:relative;vertical-align:baseline}sup{top:-0.5em}sub{bottom:-0.25em}ul,ol

{margin:1em 0;padding:0 0 0 40px}dd{margin:0 0 0 40px}.nav ul,.nav ol{list-style:none;list

-style-image:none;margin:0;padding:0}img{border:0;-ms-interpolation-mode:bicubic;vertical-

align:middle}svg:not(:root){overflow:hidden}figure{margin:0}form{margin:0}fieldset

{border:0;margin:0;padding:0}label{cursor:pointer}legend{border:0;*margin-left:-

7px;padding:0;white-space:normal}button,input,select,textarea{font-

size:100%;margin:0;vertical-align:baseline;*vertical-align:middle}button,input{line-

height:normal}button,input[type="button"],input[type="reset"],input[type="submit"]

{cursor:pointer;-webkit-appearance:button;*overflow:visible}input[type="checkbox"],input

[type="radio"]{box-sizing:border-box;padding:0;*width:13px;*height:13px}input

[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-

sizing:content-box;box-sizing:content-box}input[type="search"]::-webkit-search-

decoration,input[type="search"]::-webkit-search-cancel-button{-webkit-appearance:none}

button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}textarea

{overflow:auto;vertical-align:top;resize:vertical}input:valid,textarea:valid{}

input:invalid,textarea:invalid{background-color:#f0dddd}table{border-

collapse:collapse;border-spacing:0}td{vertical-align:top}

html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,a

ddress,big,cite,code,del,dfn,em,font,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,va

r,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td

{}:focus{outline:0}body{color:#693E51;background:white; width:100%; min-width:1024px}ol,ul

{list-style:none}table{border-collapse:separate;border-spacing:0}caption,th,td{text-

align:left;font-weight:normal}blockquote:before,blockquote:after,q:before,q:after

{content:""}blockquote,q{quotes:""""}.tumblrAutoPager_page_separator{display:none } 

.tumblrAutoPager_page_info{display:none}#header{position:absolute;top:110px;left:-

80px;color:white;width:100%;min-width:1024px;height:532px;z-index:1000}.permalink #header

{left:-100%}#headerBack

{position:absolute;top:0px;left:0px;width:100%;height:700px;background:white;opacity:.85}.n

o-js #header{top:0px;left:0px;position:relative}.no-js #headerBack{opacity:1}#header 

#navWrapper{position:absolute;width:100%;height:700px;margin:0 

auto;left:40px;top:13px;background:url

(http://static.tumblr.com/kfwmv3q/Qrtmgsofw/lfnlogo.png) center center no-repeat}.no-js 

#header #navWrapper{left:0px}#header #navWrapper ul{position:relative;width:676px;margin:0 

auto}#header #navWrapper a{color:white;float:left;text-decoration:none;font-size:19px;line

-height:1em;letter-spacing:2px;padding:56px 27px;text-transform:uppercase;font-

family:'FuturaBT-LightCondensed','sans-serif';cursor:pointer;-webkit-font-

smoothing:antialiased}.lt-ie9 #header #navWrapper a{font-size:15px;padding:56px 19px}

#header #navWrapper a:visited,#header #navWrapper a:link,#header #navWrapper 

a:hover,#header #navWrapper a:active{color:#693E51}#header #navWrapper a.active{text-

decoration:underline}#header #logoBtn{width:85%}#header #logoBtn div

{width:800px;height:200px;position:relative;margin:0 auto;cursor:pointer;top:-50px}

#headerNavButton{position:absolute;top:0px;left:100%;background:url

(http://static.tumblr.com/kfwmv3q/vMhmgsojr/left.png);height:80px;width:100px;cursor:pointe

r}.permalink #headerNavButton{background:url

(http://static.tumblr.com/kfwmv3q/P6Mmgsoho/right.png)}.no-js #headerNavButton

{display:none}#headerNavButton.closed{background:url

(http://static.tumblr.com/kfwmv3q/P6Mmgsoho/right.png)}#headerNavButton.open

{background:url(http://static.tumblr.com/kfwmv3q/vMhmgsojr/left.png)}#header #share

{position:relative;width:0px;top:400px;margin:0 auto}#share #facebook.white{background:url

(http://static.tumblr.com/rseu6su/sUSm2akx3/facebook_white.jpg) center left no-repeat}

#share #twitter.white{background:url

(http://static.tumblr.com/rseu6su/iUfm2akw0/twitter_white.jpg) center left no-

repeat;left:40px}#content{    position:relative;     width:100%;    overflow:hidden;    

min-width:1024px;    min-height:500px}#source,#source .post{display:none}.no-js 

#source,.no-js #source .post{display:block}#pager{    position:relative;    width:320px;    

height:107px;    margin:0 auto}#pager a{    text-decoration:none;    font-

family:'BiondiSansExtraLight','sans-serif';    font-size:11px;letter-spacing:1px;text-

transform:uppercase;color:#693E51}.button{    width:100px;    height:80px;    

position:absolute;    top:0px;    text-align:center;    line-height:80px}.button.right{    

left:80px}#nextPage{    position:absolute;    left:160px}#prevBtn{    background:url

(http://static.tumblr.com/kfwmv3q/vMhmgsojr/left.png)}#nextBtn{     background:url

(http://static.tumblr.com/kfwmv3q/P6Mmgsoho/right.png)}#footer{ height:107px; 

position:relative; z-index:100; width:1024px; margin:0 auto; display:block; clear:both; 

min-width:1024px}#footer .nav{width:609px;margin:0 auto}#footer .nav a

{color:white;float:left;text-decoration:none;font-size:19px;line-height:1em;letter-

spacing:2px;padding:20px 12px;text-transform:uppercase;font-family:'NarzissRegular','sans-

serif'}#footer .nav a:visited,#footer .nav a:link,#footer .nav a:hover,#footer .nav 

a:active{color:#693E51}#credits{white-space:nowrap; width:690px; margin:0 auto; 

clear:both}.lt-ie9 #credits{ width:605px}.footerCredit{font-

family:'BiondiSansExtraLight','sans-serif';font-size:11px;letter-

spacing:1px;padding:24px;text-transform:uppercase;color:#693E51;text-decoration:none}

a.footerCredit{cursor:pointer}#footer a.footerCredit:visited,#footer 

a.footerCredit:link,#footer a.footerCredit:hover,#footer a.footerCredit:active

{color:#693E51}.index .post{display:none;  width:33.2%;  float:left;  

position:relative}.no-js .index .post{display:block}.index .post:hover{opacity:.9}.index 

.photo a{    width:100%;    height:auto;    cursor:pointer}.index .photo img{    

width:100.4%;    height:auto;    cursor:pointer}.index .video{    cursor:pointer}.index 

.video iframe{}#sideBar{top:190px;width:200px;z-index:600;min-

height:1000px;position:absolute;left:50px}#sideBarTitle{width:200px;padding-

top:95px;position:relative;text-align:center;top:-10px;font-size:24px;line-

height:1em;letter-spacing:2px;font-family:'NarzissRegular','sans-serif';text-

transform:uppercase}#sideBar .sideBarBtn{width:200px;height:100px;border-top:solid #693E51 

1px;position:relative;background:url

(http://static.tumblr.com/kfwmv3q/vz5mgso1d/lfn_logo_abbrv.png) center center no-

repeat;text-align:center;font-family:'BiondiSansExtraLight','sans-serif';font-

size:12px;letter-spacing:1px;text-transform:uppercase;color:#333;text-

decoration:none;cursor:pointer}#sideBar #share{position:relative;margin-top:25px;border-

top:solid #693E51 1px;width:200px;height:100px;margin:0}.shareBtn

{width:40px;height:100px;position:absolute;top:0px;cursor:pointer}#sideBar #facebook

{left:60px;top:5px;background:url(http://static.tumblr.com/kfwmv3q/MdRmgsq5a/social-48-

facebook-purple.png) center left no-repeat}#sideBar #twitter

{left:100px;top:5px;background:url(http://static.tumblr.com/kfwmv3q/gRDmgsq74/twitter-bird

-white-on-purple-50.png) center left no-repeat}#overlay{width:100%;min-

width:1024px;height:100%;position:fixed;top:0px;display:none;z-index:1000;cursor:pointer}

#overlayBack{height:100%;width:100%;background:black;opacity:.6}#overlay img

{width:100%;height:auto;position:absolute;top:0px}.index #container{left:25%; width:75%;  

position:absolute}.index .masonry,.index .masonry .masonry-brick{ -webkit-transition-

duration:0.5s; -moz-transition-duration:0.5s; -o-transition-duration:0.5s; transition-

duration:0.5s}.index .masonry{ -webkit-transition-property:height,width; -moz-transition-

property:height,width; -o-transition-property:height,width; transition-

property:height,width}.index .masonry .masonry-brick{ -webkit-transition-

property:left,right,top; -moz-transition-property:left,right,top; -o-transition-

property:left,right,top; transition-property:left,right,top}#home

{position:absolute;top:0px;right:0px;background:url

(http://static.tumblr.com/kfwmv3q/P6Mmgsoho/right.png)}#home div

{height:80px;width:80px}.permalink .post{    padding:70px 70px 54px 70px}.permalink .photo 

img{    position:relative;    margin:0 auto;    display:block;    width:100%;    

height:auto}.permalink .video iframe{    position:relative;    margin:0 auto;    

display:block}.permalink #share{    font-family:'BiondiSansExtraLight','sans-serif';font-

size:11px;letter-spacing:1px;text-transform:uppercase;color:#333;text-decoration:none;    

width:286px;    white-space:nowrap;    margin:0 auto;    height:298px}.permalink 

#shareText{    font-family:'NarzissRegular',serif;    font-size:40px;    letter-

spacing:3px;    padding:36px;    text-align:center}.permalink #share a{    padding:13px;    

  cursor:pointer;    text-decoration:none;    color:#333}#backToTop

{position:fixed;bottom:80px;left:0px;height:80px;width:80px;background:url

(http://static.tumblr.com/kfwmv3q/P6Mmgsoho/right.png);z-

index:900;display:none;cursor:pointer}#header.fixScreen{position:fixed}@media only screen 

and (min-width:1250px){#header #navWrapper{background:url

(http://static.tumblr.com/kfwmv3q/Qrtmgsofw/lfnlogo.png) center center no-repeat}}.ir

{display:block;border:0;text-indent:-999em;overflow:hidden;background-

color:transparent;background-repeat:no-repeat;text-align:left;direction:ltr;*line-

height:0}.ir br{display:none}.hidden{display:none !

important;visibility:hidden}.visuallyhidden{border:0;clip:rect(0 0 0 0);height:1px;margin:

-

1px;overflow:hidden;padding:0;position:absolute;width:1px}.visuallyhidden.focusable:active,

.visuallyhidden.focusable:focus

{clip:auto;height:auto;margin:0;overflow:visible;position:static;width:auto}.invisible

{visibility:hidden}.clearfix:before,.clearfix:after

{content:"";display:table}.clearfix:after{clear:both}.clearfix{*zoom:1}@media print{ *

{background:transparent !important;color:black !important;box-shadow:none !important;text-

shadow:none !important;filter:none !important;-ms-filter:none !important} a,a:visited{text

-decoration:underline} a[href]:after{content:"("attr(href) ")"} abbr[title]:after

{content:"("attr(title) ")"} .ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after

{content:""}  pre,blockquote{border:1px solid #999;page-break-inside:avoid} thead

{display:table-header-group} tr,img{page-break-inside:avoid} img{max-width:100% !important} 

@page{margin:0.5cm} p,h2,h3{orphans:3;widows:3} h2,h3{page-break-after:avoid}} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-04T15:19:17.533

看看[Infinite Scroll Github 页面](https://github.com/paulirish/infinite-scroll)。那是整个无限滚动的最新版本。另一个对我有很大帮助的页面（我也在 Tumblr 上使用它）如下：[Desandro/Masonry](http://masonry.desandro.com/docs/methods.html#appended)。

在这个页面上，他们使用 Masonry with Infinite Scroll，那里有一个演示和一些更多的代码来告诉你方法。我认为如果您查看这两页上的代码，您会走得很远！

祝你好运！

# linux - 第一个变量被 shell 脚本中的第二个变量覆盖

> ID：14473226
> 
> 赞同：1
> 
> 时间：2013-01-23T05:44:41.747
> 
> 标签：linux, shell

例如，我有两个 shell 脚本文件名`main.sh`和`child.sh`一个 ini 文件名`param.ini`。

在 main.sh

```
#!/bin/bash
./usr/child.sh
echo $param // show Jame
var=${param}How are you
echo $var // output show only How are you and  Jame is overwrited.The output should Jame How are you 
```

在 child.sh

```
#!/bin/bash
./usr/param.ini

param=$name
echo $param // show Jame 
```

在 param.ini 中

```
 name=Jame 
```

执行 main.sh 后，输出显示 How are you and Jame 不见了。詹姆斯被覆盖。我想要的是**詹姆 你好吗**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-23T06:08:08.427

而不是`.`采购，使用命令`source`。它会起作用的。

**或者**

源它喜欢`. param.ini`（注意和之间的`.`空间`param.ini`）

```
sgeorge-mn:~ sgeorge$ cat main.sh 
#!/bin/bash
source child.sh
echo "$param"
var="${param}, How are you"
echo "$var"

sgeorge-mn:~ sgeorge$ cat child.sh 
#!/bin/bash
source param.ini
param=$name
echo $param

sgeorge-mn:~ sgeorge$ cat param.ini 
name=Jame

sgeorge-mn:~ sgeorge$ bash main.sh 
Jame
Jame
Jame, How are you 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-23T10:52:32.937

我认为用shell的replace方法就可以了。在 ini 文件的值中设置关键字。例如

```
key1 = valueA //'A' will be used as a key word. 
```

在shell中，实现replace方法如下：

```
var = "${param/A/HowAreYou}" 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-23T05:51:14.327

像这样试试

```
 var="${param}How are you" 
```

代替

```
var=${param}How are you 
```

# java - 用于 UTF-8 的 Java Digester

> ID：14473231
> 
> 赞同：0
> 
> 时间：2013-01-23T05:45:12.077
> 
> 标签：java, xml-parsing

如何在java中设置消化器的编码类型。请帮助

因为我在使用摘要器解析时在 xml 中设置了编码类型，最终它给出了类似字节（grnlà®¨à¯€00）的字符串，而不是 UTF-8 字符串。

*有没有可能像这样在解析器中设置编码类型？*

```
digester.addBeanPropertySetter("ECnetGRN/TRANSDATE", "transdate" );--set UTF-8 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-01-08T14:28:13.893

我这样做：

```
InputStreamReader is = new InputStreamReader(new FileInputStream("name.xml", "UTF-8");
digester.parse(is); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-23T06:45:06.773

我想您可以将编码设置为传递给消化器的输入流（xml 输入），它会得到处理。

# javascript - 通过选中复选框来禁用字段集

> ID：14473233
> 
> 赞同：2
> 
> 时间：2013-01-23T05:45:20.153
> 
> 标签：javascript, html, events

我正在开发一个 wordpress 插件。在管理面板中，我有一个字段集和一个复选框。我想通过选中/取消选中复选框在禁用/启用之间切换字段集。这是我到目前为止所拥有的，但它似乎不起作用。

**HTML**

```
<!-- This is the checkbox -->
<label>
    <input class="checkbox" type="checkbox" onchange="toggleDisable(this);" id="check"/> 
    enable
</label>

<!-- This is the field set -->
<fieldset id="field_set">
    <legend>Field-Set</legend>

    <label for="sel">selectBox</label>
    <select id="sel">
        <option value="posts">Posts</option>
        <option value="terms">Terms</option>
    </select>

    <label for="1">input</label>
    <input type="text" value="text" id="1" />

    <label for="2">input</label>
    <input type="text" value="text" id="2" />

</fieldset> 
```

**JavaScript**

```
function toggleDisable(checkbox) {
    var toggle = document.getElementById("field_set");
    checkbox.checked ? toggle.disabled = false : toggle.disabled = true;
} 
```

该事件没有被触发，并且字段集没有任何反应。
哦，这是一个[Fiddle](http://jsfiddle.net/5Fhvx/)。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-23T05:52:33.467

试试这个：http: [//jsfiddle.net/eVqL4/](http://jsfiddle.net/eVqL4/)

```
function toggleDisable(checkbox) {
    var toggle = document.getElementById("field_set");
    $(toggle).prop('disabled', $(checkbox).prop('checked'));
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-23T05:57:18.393

你的代码没问题。问题出在你的小提琴上。当您选择`onLoad`并且否`No library`时，这意味着您的 javascript 代码将被放置在`window.onload`闭包内：

```
window.onload = function() { /* your code will go here */ } 
```

因此，在这种情况下，您定义的函数将成为局部范围函数，该函数不适用于页面的其余部分。因此，要解决您的问题，您只需选择`no wrap (head)`例如。看到这个：

[http://jsfiddle.net/AY3Ka](http://jsfiddle.net/AY3Ka)。

# java - NoClassDefFoundError___系统找不到指定的路径__没有找到要导入的项目

> ID：14473234
> 
> 赞同：0
> 
> 时间：2013-01-23T05:45:20.067
> 
> 标签：java, eclipse, eclipse-juno

我刚刚使用 Eclipse Juno 编写了一个简单的小程序，之前我通过 Web 浏览器运行它时遇到了*NoClassFoundError*，在关闭 Eclipse 并重新打开它之后，我什至无法运行该小程序。我试图导入项目。这次的错误是*No project found to import*。我检查了目录的命令提示符，看看我是否至少可以访问 Java 文件，当我尝试将目录移动到包名称时，我得到了*系统找不到指定的路径错误。*我该如何解决？

```
package Ch02Execises;
import java.awt.Graphics ;
import javax.swing.JApplet;
public class AppletDemo1 extends JApplet {
public void paint(Graphics g){
    super.paint(g);
    g.drawString("Hello W3",20,30);
}
} 
```

* * *

```
<html>
<p><h1>This is not displaying
</h1></p>
<applet CODE="AppletDemo1.class" WIDTH ="300" HEIGHT="150">
</applet> 
</html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-23T06:12:54.660

尝试从本地历史中恢复。

如果这不起作用，请检查项目目录中是否有`.classpath`and`.project`文件。这些是由eclipse创建的。如果不存在，请通过再次指定文件夹位置来创建一个新项目并尝试运行它。

您也可以使用`appletviewer`JAVA 的 bin 目录从命令行运行小程序。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-23T06:50:54.680

Eclipse 正在寻找 Eclipse 项目，这意味着它正在根目录中搜索特定于 Eclipse 的文件，它们的名称是 **.project**和**.classpath**。
您要么给 Eclipse 提供了不包含上述文件的错误目录（如果您正在导入 Eclipse 项目）。因此，如果那里没有文件，那么您必须从现有源创建一个新项目
**new->java 项目->从现有源创建项目。**

# objective-c - NSNumber 包装 int，返回错误的 int，Objective-C

> ID：14473241
> 
> 赞同：1
> 
> 时间：2013-01-23T05:46:19.673
> 
> 标签：objective-c, nsmutablearray, nsnumber

我需要将一个 int 存储在一个数组中，我尝试过这种方式，将 int 转换为 an`NSNumber`但`integer`最终是 136894816 ...有人可以帮我解决这个问题吗？

```
 NSMutableArray *array = [[NSMutableArray alloc] initWithCapacity:5];
        NSNumber *num = [NSNumber numberWithInt:10];
        [array insertObject:num atIndex:0];

        int integer = [array objectAtIndex:0]; 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-23T05:50:08.603

An`NSNumber`不是整数。您在当前代码中检索的是内存引用。试试这个：

```
int value = [[array objectAtIndex: 0] intValue]; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-23T06:01:01.730

尝试

```
NSNumber* xWrapped = [NSNumber numberWithInt:integer];

    [array_name addObject:xWrapped]; 
```

# android - 如何将文本视图连接到网站？

> ID：14473242
> 
> 赞同：0
> 
> 时间：2013-01-23T05:46:27.063
> 
> 标签：android, google-maps, google-places-api

嗨，我是 android 新手，我创建了一个使用 google places api 并列出了一些百货商店的应用程序。

在单击百货商店的名称时，我已使列表可单击，我正在开始一项新活动，该活动访问我创建的数据库，以在该特定商店中提供推荐或折扣产品。

我需要的是，当我单击百货商店的名称时，我希望应用程序重定向到商店网站并列出该特定商店中的所有推荐或折扣产品。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-23T05:52:36.117

```
list.setOnItemClickListener(new OnItemClickListener() {

        public void onItemClick(AdapterView<?> arg0, View arg1, int position,
                long arg3) {
            String url=urls[position];
            Uri uri = Uri.parse(url);
            Intent intent = new Intent(Intent.ACTION_VIEW, uri);
            startActivity(intent);

        }
    }); 
```

在这里，您必须将所有部门 url 放在一个单独的数组中，称为`urls`

# iphone - 使用 NSUserDefaults 存储很多值会导致问题吗？

> ID：14473244
> 
> 赞同：3
> 
> 时间：2013-01-23T05:46:37.173
> 
> 标签：iphone, ios, cocoa-touch, nsuserdefaults, persistent-storage

我创建了一个应用程序，它将使用用户名、密码登录并允许用户从服务下载文件。在我的应用程序中，一旦用户登录应用程序，我就必须保留少量数据。

持久化数据，如用户名、密码、用户下载列表、订阅计划等。数据可以通过 NSUserDefaults、Plist 等保存在应用程序中。但我觉得使用 NSUserDefaults 存储和检索值很容易。由于我需要在许多视图控制器中使用这些值，我更喜欢`NSUserDefaults`.

这是最佳做法吗？使用过多`NSUserDefaults`会导致陷阱吗？告诉我还有其他方法可以保存数据并在 cocoa-touch 中轻松检索吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-23T05:56:30.073

您可以`NSUserDefaults`用于存储用户数据。

但是对于高度敏感的数据`Username`，`Password`我更喜欢`keychain`存储它们。

请检查以下链接以保存钥匙串：

1.  [简单的 iphone 钥匙串访问](http://useyourloaf.com/blog/2010/03/29/simple-iphone-keychain-access.html)
2.  [将电子邮件密码保存到 ios 中的钥匙串](https://stackoverflow.com/questions/5247912/saving-email-password-to-keychain-in-ios)
3.  [如何在 iphone sdk 中使用钥匙串](http://dev-metal.blogspot.in/2010/08/howto-use-keychain-in-iphone-sdk-to.html)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-23T06:05:07.343

在我看来，如果您想存储少量数据，例如用户名、密码或一些 BOOL，您可以使用 NSUserDefaults。

由于 NSUserDefaults 是一个常见的 plist，如果你想存储一些数据，比如你的下载链接，最好使用你自定义的 plist。

如果你想存储一些大数据，比如 UIImage ，你可以使用 NSCache ，但它可能会驱逐数据。

如果要存储大量数据，最好使用数据库。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-23T05:59:03.347

我会考虑使用诸如[https://github.com/kishikawakatsumi/UICKeyChainStore](https://github.com/kishikawakatsumi/UICKeyChainStore)之类的库， 它只是 ios 钥匙串存储的一个非常好的包装器，并将敏感数据存储在用户钥匙串中，而不是用户默认的 plist，因为它更多安全的。

至于数据，如果它不安全，那么您没有理由不能将它们写入文件并将它们重新加载？

# iphone - 如何在 iOS 中的 Page 控件上滚动 tableview

> ID：14473255
> 
> 赞同：0
> 
> 时间：2013-01-23T05:47:42.910
> 
> 标签：iphone, ios, objective-c, ipad

我想在页面控件上滚动 tableview 或者当它水平滚动但当用户在第一页时我想显示 3 条记录然后当用户滚动到下一页时我想显示下 3 条记录等等。如何做到这一点。目前我无法理解当用户滚动下一页时我应该如何显示接下来的 3 条记录？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-23T05:54:26.440

当您尝试滚动页面（页面控件）时，将调用以下方法，因此在此方法中设置表格视图的内容偏移量。只需设置 Y 轴。您可以在 y 轴上设置任何值，这取决于您。因此，每当您尝试滚动页面时，tableview 都会自动垂直滚动。

```
 -(void)scrollViewDidEndDecelerating:(UIScrollView *)scrollView
  {
      int page=scr.contentOffset.x / scr.frame.size.width;
      [pageMap setCurrentPage:page];
      yourtableview.contentOffset=CGPointMake(0, 25);//you can set any value in y axis
  } 
```

让我知道它是否有效！

快乐编码！！！！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-23T05:57:27.020

[滚动表视图](http://code4app.net/ios/Tab-Viewer-ScrollView/4f84fff306f6e75044000002)

此代码可能会对您有所帮助。

# java - 如何获取 JList 中的项目并将其删除？

> ID：14473261
> 
> 赞同：0
> 
> 时间：2013-01-23T05:48:09.807
> 
> 标签：java, swing, jlist, jcheckbox, defaultlistmodel

我无法从 中删除项目`JList`。以下代码已放在`JButton`.

```
 DefaultListModel model = (DefaultListModel) list1.getModel();

     int selectedIndex = list1.getSelectedIndex();
     if (selectedIndex != -1) 
     {
     model.remove(selectedIndex);
     } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-23T06:11:42.467

以下代码应该可以工作

```
JButton removeButton = new JButton("Remove Selected Element");
removeButton.addActionListener(new ActionListener() {
    public void actionPerformed(ActionEvent event) {
        int selectedIndex = list1.getSelectedIndex();
        if (selectedIndex != -1) {
            model.remove(selectedIndex);
        } else {
            System.out.println("Nothing selected");
        }
    }
}); 
```

# hadoop - Hadoop 平台中的任何其他机器学习库，除了 mahout

> ID：14473264
> 
> 赞同：0
> 
> 时间：2013-01-23T05:48:13.830
> 
> 标签：hadoop, machine-learning

我正在做一个利用机器学习算法的项目，我选择 hadoop/mahout 因为它可以更好地处理大数据。

但是 mahout 只集成了一些算法，（不包括一些算法，比如 SVM）所以我想知道除了 mahout 之外 Hadoop 平台中是否还有其他机器学习库

如果是这样，我对新图书馆有一些疑问

1.  是否支持分布式计算
2.  是正式版吗？有什么支持吗？

非常感谢~

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-23T09:49:08.270

看一下`Apache Hama`，它们具有简单的 ML 算法，例如`Logistic Regression`聚类`K-means`。未来会有更多的算法。

这是他们的网站：

[http://hama.apache.org/](http://hama.apache.org/)

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-01-23T09:25:30.063

基本上你可以在 hadoop 上使用 Weka 或许多其他工具。请记住，只有当 ML 算法基于 map-reduce 技术时，您才会从 hadoop + ML 算法中受益。否则不会有任何改善。我不确定，但我强烈怀疑 SVM 是否基于 map-reduce ...

# java - 在播放框架中动态创建日期

> ID：14473267
> 
> 赞同：1
> 
> 时间：2013-01-23T05:48:35.037
> 
> 标签：java, date, playframework, playframework-2.0, ebean

我刚开始使用 Play 框架，我有一些问题......

一些背景资料。我正在使用带有 Ebean 的 Play 2.0.4 来存储实体。我的用户实体有 2 个字段，一个称为 created_on，另一个称为 updated_on。两者都是 java.util.Date。我的问题是，创建“created_on”变量的最佳位置是什么？我目前在用户模型中将其写为

```
 public Date created_on = new Date(); 
```

这是放置它的最佳位置吗？我想将格式设置为“dd-MM-yyyy”。我目前使用

```
 @Formats.DateTime(pattern="dd-MM-yyyy") 
```

但这似乎不起作用， created_on 仍然打印为“Wed Jan 23 16:41:21 EST 2013”​​。另外，我想在每次更新时将 updated_on 字段修改为当前时间，我应该在哪里编码？我该怎么做？

非常感谢你

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-23T06:54:22.857

您有两个选择——在数据库端为字段添加默认值，`CURRENT_TIMESTAMP`或者像现在一样做——在对象初始化时设置默认值。我更喜欢后者，因为这样我在保存后就有了实体中的日期，而无需从数据库中刷新它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-23T07:59:29.977

尽管您可以使用您的技巧，`createdOn`但您将无法`updatedOn`对更新操作执行相同的操作 - 在这种情况下，最快的解决方案可能是覆盖`save()`并`update(Object o)`在您的模型中使用方法来执行相同的任务：

```
/**
 * Set default data while saving
 */
public void save() {
    this.createdOn = new Date();
    this.updatedOn = new Date();
    super.save();
}

/**
 * Set default data while updating
 */
public void update(Object o) {
    // here you don't want to change createdOn value anymore
    this.updatedOn = new Date(); 
    super.update(o);
} 
```

# java - 将java与javascript连接起来，在浏览器中实现数据可视化

> ID：14473268
> 
> 赞同：3
> 
> 时间：2013-01-23T05:48:41.913
> 
> 标签：java, javascript

我正在开发一个项目，在该项目中我可以访问 API 并使用`Java`. 现在我想在浏览器中使用一些图表和其他数据可视化工具来显示数据。我已经为此搜索了一些`JavaScript`库。但是如何连接 java 和 javascript 以在浏览器中获取输出。

我可以这样做`JSP`吗？我不想使用小程序。也请建议其他方式。

编辑：如果我使用 JSP，那么我将不得不托管一个服务器。有没有不托管服务器的直接方法？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-23T05:52:38.370

是的，您可以使用`JSP(java server page)`. 通过将数据从 Java 传递到 jsp 页面中的 javascript。JSP 页面通常编译成原始 html 并将其发送给客户端。

在 jsp 页面中将值 java 传递给 javascript 的简单示例。

```
<%
  String str="Hello world";
%>
<script>
 var jsvar = <%=str%>;
</script> 
```

使用 jsp scriptlet 将 java 列表值添加到 js 变量的示例。

```
var  myArray = new Array();
<% for (int i=0; i<list.size(); i++) { %>
      myArray[<%= i %>] = "<%= list.get(i) %>"; 
<% } %> 
```

更好地使用更易于编写和结构化的 jstl 标签库。

[JSP 文档](http://docs.oracle.com/javaee/1.4/tutorial/doc/JSPX3.html) [JSP 库](http://docs.oracle.com/cd/E17802_01/products/products/jsp/2.1/docs/jsp-2_1-pfd2/index.html) [JSTL 文档 1](http://docs.oracle.com/javaee/5/jstl/1.1/docs/tlddocs/c/tld-summary.html) [JSTL 库](http://docs.oracle.com/javaee/5/jstl/1.1/docs/tlddocs/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-23T05:54:04.877

让 Java 生成一个 .html 文件；在浏览器中打开它。

[您可以使用Desktop.open()](http://java.sun.com/javase/6/docs/api/java/awt/Desktop.html#open%28java.io.File%29)在网页上打开默认系统浏览器 。它允许您使用与系统上的文件类型关联的默认应用程序打开任何文件。

.html 文件将包含 java 生成的数据，并且可以引用 Web 或本地文件系统中的 JS 库。您甚至可以添加刷新按钮（或超时）来检查更新的信息。

当然，JSP 或其他技术也可以。但那些需要运行您的应用程序的服务器。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-23T05:56:14.633

您可以使用直接 Web 远程处理 (DWR)。DWR 是一个 Java 库，它使服务器上的 Java 和浏览器中的 JavaScript 能够尽可能简单地进行交互和调用。

DWR 是 Java 的简易 Ajax

它由两个主要部分组成：

```
Code to allow JavaScript to retrieve data from a servlet-based web server using Ajax principles.
A JavaScript library that makes it easier for the web site developer to dynamically update the web page with the retrieved data. 
```

查看链接-

```
[DWR][1] 
```

这里给出了演示示例-DWR [聊天示例](http://www.packtpub.com/article/chatroom-application-using-dwr-java-framework)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-23T06:01:35.597

HTML 是开始的地方。JSP 可以帮助您生成 HTML。了解如何使用 Java 从数据中动态创建图像。如果这还不够，请阅读 JSON、Ajax、jquery 并添加一些 JavaScript。

# stanford-nlp - 如何使用 StanfordNLP 仅提取某些依赖项？

> ID：14473272
> 
> 赞同：1
> 
> 时间：2013-01-23T05:48:53.507
> 
> 标签：stanford-nlp

我需要使用 StanfordNLP 在每个句子中只取出代理关系吗？我尝试使用 sentence.get(AbgeneAnnotation.class); where sentence 是 Sentence 的一个实例，我没有得到任何输出？

还有其他方法吗？

# iphone - 另一个 UISplitViewController + UITabBarController 问题

> ID：14473275
> 
> 赞同：2
> 
> 时间：2013-01-23T05:49:14.443
> 
> 标签：iphone, objective-c, uitabbarcontroller, uisplitviewcontroller

我将多个添加`UISplitViewControllers`到单个`UITabBarController`. 选项卡出现，每个主/子视图控制器在单击选项卡时加载并正确显示，**但**不知何故，用户交互仅适用于添加的最后一个选项卡。

如果我添加 1 个选项卡，它工作正常，但如果我添加 2 个选项卡，第 2 个选项卡工作并且第一个选项卡不会响应用户交互（单击用户界面元素时没有任何反应 - 它们甚至不会突出显示点击）。如果我添加 3，则前 2 个中断，第 3 个有效。

我怎样才能解决这个问题？这是代码（注意：此方法在启动例程结束时从启动页面视图控制器调用）：

```
- (void)startIPad 
{
    UINavigationController *localNavigationController;
    UISplitViewController *localSplitViewController;
    UITabBarController *tabBarController = [[UITabBarController alloc] init];
    NSMutableArray *localControllersArray = [[NSMutableArray alloc] init];

    //setup the first tab
    Master1ViewController *viewMaster1 = [[Master1ViewController alloc] init];
    Detail1ViewController *viewDetail1 = [[Detail1ViewController alloc] init];
    localNavigationController = [[UINavigationController alloc] initWithRootViewController:viewDetail1];
    localSplitViewController = [[UISplitViewController alloc] init];
    [localSplitViewController setDelegate:viewDetail1];
    localSplitViewController.viewControllers = [NSArray arrayWithObjects:viewMaster1, localNavigationController, nil];
    [localControllersArray addObject:localSplitViewController];
    [viewMaster1 release];
    [viewDetail1 release];
    [localNavigationController release];
    [localSplitViewController release];

    //setup the second tab
    Master2ViewController *viewMaster2 = [[Master2ViewController alloc] init];
    Detail2ViewController *viewDetail2 = [[Detail2ViewController alloc] init];
    localNavigationController = [[UINavigationController alloc] initWithRootViewController:viewDetail2];
    localSplitViewController = [[UISplitViewController alloc] init];
    [localSplitViewController setDelegate:viewDetail2];
    localSplitViewController.viewControllers = [NSArray arrayWithObjects:viewMaster2, localNavigationController, nil];
    [localControllersArray addObject:localSplitViewController];
    [viewMaster2 release];
    [viewDetail2 release];
    [localNavigationController release];
    [localSplitViewController release];

    //setup the third tab
    ...

    //setup the fourth tab
    ...

    //set the UISplitViewControllers onto the tab bar
    tabBarController.viewControllers = localControllersArray;
    [localControllersArray release];

    //switch to the new root view controller
    [appDelegate.window setRootViewController:tabBarController];
    [tabBarController release];
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-29T13:08:59.083

我用你的代码创建了一个虚拟应用程序，它在我的应用程序中运行良好。只是我已经像这样初始化了appDelegate

```
AppDelegate *appDelegate = (AppDelegate *)[[UIApplication sharedApplication] delegate];

- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions
{
    self.window = [[[UIWindow alloc] initWithFrame:[[UIScreen mainScreen] bounds]] autorelease];
    // Override point for customization after application launch.
    //self.viewController = [[[ViewController alloc] initWithNibName:@"ViewController" bundle:nil] autorelease];
    //self.window.rootViewController = self.viewController;
    [self startIPad];
    [self.window makeKeyAndVisible];
    return YES;
}

- (void)startIPad
{
    UINavigationController *localNavigationController;
    UISplitViewController *localSplitViewController;
    UITabBarController *tabBarController = [[UITabBarController alloc] init];
    NSMutableArray *localControllersArray = [[NSMutableArray alloc] init];

    //setup the first tab
    Master1ViewController *viewMaster1 = [[Master1ViewController alloc] init];
    Detail1ViewController *viewDetail1 = [[Detail1ViewController alloc] init];
    localNavigationController = [[UINavigationController alloc] initWithRootViewController:viewDetail1];
    localSplitViewController = [[UISplitViewController alloc] init];
    [localSplitViewController setDelegate:viewDetail1];
    localSplitViewController.viewControllers = [NSArray arrayWithObjects:viewMaster1, localNavigationController, nil];
    [localControllersArray addObject:localSplitViewController];
    [viewMaster1 release];
    [viewDetail1 release];
    [localNavigationController release];
    [localSplitViewController release];

    //setup the second tab
    Master2ViewController *viewMaster2 = [[Master2ViewController alloc] init];
    Detail2ViewController *viewDetail2 = [[Detail2ViewController alloc] init];
    localNavigationController = [[UINavigationController alloc] initWithRootViewController:viewDetail2];
    localSplitViewController = [[UISplitViewController alloc] init];
    [localSplitViewController setDelegate:viewDetail2];
    localSplitViewController.viewControllers = [NSArray arrayWithObjects:viewMaster2, localNavigationController, nil];
    [localControllersArray addObject:localSplitViewController];
    [viewMaster2 release];
    [viewDetail2 release];
    [localNavigationController release];
    [localSplitViewController release];

    //setup the third tab
   // ...

    //setup the fourth tab
    //...

    //set the UISplitViewControllers onto the tab bar
    tabBarController.viewControllers = localControllersArray;
    [localControllersArray release];

AppDelegate *appDelegate = (AppDelegate *)[[UIApplication sharedApplication] delegate];

    //switch to the new root view controller
    [appDelegate.window setRootViewController:tabBarController];
    [tabBarController release];
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-30T15:16:03.013

在设置 window.rootviewcontroller 后尝试释放所有（控制器、导航、tabbarcontroller）。

# c# - 具有自定义搜索行为的类字典结构

> ID：14473278
> 
> 赞同：0
> 
> 时间：2013-01-23T05:49:33.293
> 
> 标签：c#, dictionary, customization

我正在寻找一种可以对特定键进行搜索的数据结构。关键是间隔。一旦将单个值传递给此结构，它应该找到正确的间隔（适当的键），然后该键可能指向其他几个值。

我搜索了多个值的一些键，发现了这样的内容：

```
Dictionary<double,LinkedList<T>> 
```

但是这里的键值是一个简单的双精度值，而不是区间类型。如果是区间类型，我必须将区间作为键传递。但是我需要基于单个值进行搜索并找到间隔。

**换句话说，我们能否拥有一个具有自定义搜索行为的类字典结构？**（例如，将搜索作为 Func<,> 参数传递。）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-23T06:03:24.833

我不知道这样的现有结构。但是有很多方法可以自己解决这个问题。首先想到的是为字典编写一个扩展方法，如下所示：

```
public static class DictionaryRangeExtensions
{
    public IEnumerable<T> FindValuesInRange(this Dictionary<double,T> dictionary, double lowerBound, double upperBound)
    {
         dictionary.Where(kvp=> kvp.Key > lowerBound && kvp.Key < uppoerBound).Select(kvp=>kvp.Value);
    }
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-23T06:15:37.013

如果希望将范围作为键并按值查找，我认为这将作为键：

```
public class Range
{
   public Range(double lower, double upper)
   {
       this.lower = lower;
       this.upper = upper;
   }

   public override Equals(object obj)
   {
       if(obj is double) return ((double)obj) > lower && ((double)obj) < upper;
       //sensibly complete this method
   }

   //also override GetHashcode, probably to use the hashcode of upper and lower
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-23T06:25:32.887

对于非重叠间隔，如果您可以将值映射到恒定时间的间隔 - @tallseth 建议，间隔作为普通字典中的键。

如果您必须搜索值落入的区间 - 将区间存储为排序数组（您可以轻松地这样做，因为区间不重叠，因此`<`为每对区间定义）。比你二分查找找到区间值落入。使用间隔，您可以索引字典或让数据包含“间隔”，并使用适当的函数从 dat 中选择间隔进行排序/散列。

# xml - JQUERY：单击时在容器中附加下一个项目

> ID：14473283
> 
> 赞同：0
> 
> 时间：2013-01-23T05:50:42.233
> 
> 标签：xml, ajax, jquery, xml-parsing

正在使用 AJAX 成功方法解析 XML 数据，并使用 LOAD MORE 数据选项放入表中，当用户单击 LOAD MORE 按钮时，第一次它会添加下一个 N 项，当用户第二次单击相同的项目时，会添加到列表中。

下面是我的代码，

```
function populateItems(position,page_size) {
    var url = "path_to_XML";
$.ajax({
type: "GET",
url: url,
dataType: "xml",
success: function(xml) {
  var title, url, block_count;
  var xmlDOM = $(xml);
  block_count = $(xml).find('item').length;
  xmlDOM.find("item").slice(position,position+page_size).each(function(){
            var $this=$(this);
            var $user=$this.find("user").text();
            var $fname=$this.find("fname").text();
            var $lname=$this.find("lname").text();
            var $sex=$this.find("sex").text();
            var $time=$this.find("time").text();
            $("#datatable").append("<tbody><tr class='datarow'><td>"+$time+"</td><td>"+$user+"</td><td>"+$fname+"</td><td>"+$lname+"</td><td>"+$url+"</td></tr><tbody>");
  });
                    $('#ajax-loader').hide();
}
});
}

 $(document).ready(function() {
    var position;var page_size;
    populateItems(0,40);
            $('#append2').click(function(position){
                    $('#log_hourly').show();
                    $items = populateItems(40,40);
                    $("#content").append($items);
                    $('#ajax-loader').hide();
            }); 
```

当用户单击 LOAD MORE 按钮时如何继续添加下 N 个项目

请帮忙..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-23T05:55:38.690

[正如我在这里](https://stackoverflow.com/a/14473262/1072146)回答的那样，您需要创建一个变量来计算您正在显示或要加载的页面，只是在您的情况下，您需要每次将其增加 40：

```
$(document).ready(function() {
    var page = 0;
    var position;var page_size;
    populateItems(page ,40);
    $('#append2').click(function(position){
        $('#log_hourly').show();
        page = page + 40;
        $items = populateItems(page ,40);
        $("#content").append($items);
        $('#ajax-loader').hide();
}); 
```

# asp.net - 按钮单击事件在手风琴窗格内不起作用

> ID：14473284
> 
> 赞同：0
> 
> 时间：2013-01-23T05:50:47.413
> 
> 标签：asp.net, button, accordion

我的手风琴窗格中有一个按钮，它生成随机密码并将数据插入数据库。但它不起作用，即使我在不​​去点击事件的情况下调试控件。我的 HTML 代码我是新用户

```
 <asp:Button ID="genrate" runat="server" Text="Genrate passwords"  />
    </Content>
    </asp:AccordionPane></b> 
```

后面的代码是--- public static string RandomStr()

```
{
    string rStr = Path.GetRandomFileName();
    rStr = rStr.Replace(".", ""); // For Removing the .
    return rStr;
}

    protected void genrate_Click1(object sender, EventArgs e)
    {
        string rand = RandomStr();
        un.Text = rand;
        Uname.ReadOnly = true;
        string str = ConfigurationManager.ConnectionStrings["ajax"].ConnectionString;
        string selectcomnd = "INSERT INTO user (username,password) as value(@e1,@e2)";
        SqlCommand cmd = new SqlCommand();
        SqlConnection con = new SqlConnection(str);
        con.Open();
        cmd.CommandText = selectcomnd;
        cmd.Parameters.Add("@e1", SqlDbType.NChar).Value = Uname.Text;
       cmd.Parameters.Add("@e2", SqlDbType.NChar).Value = rand;
       con.Close();

    } 
```

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-27T02:19:33.217

您的标签内缺少 onclick 它应该是 onclick="genrate_Click1" 然后它将采取行动。

```
 <asp:Button ID="genrate" runat="server" Text="Genrate passwords" onclick="genrate_Click1"  />
</Content> 
```

# asp.net - 如何在子更新面板中触发更新进度？

> ID：14473294
> 
> 赞同：0
> 
> 时间：2013-01-23T05:51:39.050
> 
> 标签：asp.net, .net, ajax, updatepanel

我有嵌套的更新面板，并且都有自己的更新进度。现在，当我单击子更新面板内的按钮时，也会触发父更新进度。

如何解决这个问题？

```
<asp:UpdatePanel ID="UpdatePanelParent" runat="server">
        <ContentTemplate>
            ...
            ... some controls
            ...
            <asp:UpdatePanel ID="UpdatePanelChild" runat="server" >
                <ContentTemplate>
                    ...
                    ... some controls
                </ContentTemplate>
            </asp:UpdatePanel>

            <asp:UpdateProgress ID="UpdateProgressChild" runat="server" AssociatedUpdatePanelID="UpdatePanelChild" DisplayAfter="0">
                <ProgressTemplate>    
                    Updating child...
                </ProgressTemplate>
                </asp:UpdateProgress>

        </ContentTemplate>
</asp:UpdatePanel>    
<asp:UpdateProgress ID="UpdateProgressParent" runat="server" AssociatedUpdatePanelID="UpdatePanelParent" DisplayAfter="0">
    <ProgressTemplate>    
        Updating parent...
    </ProgressTemplate>
</asp:UpdateProgress> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-23T06:20:38.263

我建议您将您的设计修改为如下所示的 2 个单独的更新面板，而不是嵌套它们。

```
<asp:UpdatePanel ID="UpdatePanelParent" runat="server" UpdateMode="Conditional">
            <ContentTemplate>
                <asp:Label ID="lblParent" runat="server" Text="Label"></asp:Label>
                <asp:Button ID="btnParent" runat="server" Text="Button" OnClick="btnParent_Click" />
            </ContentTemplate>
            <Triggers>
                <asp:AsyncPostBackTrigger ControlID="btnParent" EventName="Click" />
            </Triggers>
        </asp:UpdatePanel>
        <asp:UpdatePanel ID="UpdatePanelChild" runat="server">
            <ContentTemplate>
                <asp:Label ID="lblChild" runat="server" Text="Label"></asp:Label>
                <asp:Button ID="btnChild" runat="server" Text="Button" OnClick="btnChild_Click" />
            </ContentTemplate>
        </asp:UpdatePanel>
        <asp:UpdateProgress ID="UpdateProgressChild" runat="server" AssociatedUpdatePanelID="UpdatePanelChild"
            DisplayAfter="0">
            <ProgressTemplate>
                Updating child...
            </ProgressTemplate>
        </asp:UpdateProgress>
        <asp:UpdateProgress ID="UpdateProgressParent" runat="server" AssociatedUpdatePanelID="UpdatePanelParent"
            DisplayAfter="0">
            <ProgressTemplate>
                Updating parent...
            </ProgressTemplate>
        </asp:UpdateProgress> 
```

由于`UpdatePanelParent`is made `UpdateMode="Conditional"`，它只有在`Trigger`从控件中指定时才会更新，并且`UpdatePanelChild`会一直更新。因此，我希望保持预期的输出。

# sql - 使用导入命令在 db2 表中非空列中的空格

> ID：14473295
> 
> 赞同：2
> 
> 时间：2013-01-23T05:51:54.673
> 
> 标签：sql, unix, import, db2

我在两个具有相同结构的不同数据库中有两个表。

我将一个表导出到 .dat 文件中，然后使用 db2 import 命令将其导入到另一个表中：

```
import from $TEMP_DIR/TO_IMPORT.dat of del modified by dateformat=\"YYYY-MM-DD\" timeformat=\"HH:MM:SS\" timestampformat=\"YYYY-MM-DD HH:MM:SS.UUU\" chardel0x01 coldel|  COMMITCOUNT 1000 messages $LOG_DIR/to_import.log insert into MY_SCHEMA.MY_TABLE 
```

TO_IMPORT.dat 中的一行如下：

```
col1_val|col2_val|col3_val|col4_val|col5_val 
```

分隔符是“|”

col1、col2、col3 是源表和目标表中的 NOT NULL 列。

但是，在源表中，在某些行中，col2 和 col3 中有空格而不是字符值。

这些来自 .dat 文件，如下所示：

```
abc| | |def|pqr 
```

现在，在上述行的导入期间，这些空间被视为 NULL，因此尝试在目标表的非空列中插入空值时一切都失败了。

这个问题的解决方案/解决方法是什么？

谢谢阅读！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-23T17:24:35.757

您可以使用选项 KEEPBLANKS，它不会将空格视为 NULL。

来自 IBM DB2 文档：

KEEPBLANKS - 在 CHAR、VARCHAR、LONG VARCHAR 或 CLOB 类型的每个字段中保留前导和尾随空格。如果没有这个选项，所有不在字符分隔符内的前导和尾随空白都将被删除，并且**所有空白字段的表中都会插入一个 NULL。**

# python - 遍历字典集 - python - 基本搜索

> ID：14473297
> 
> 赞同：3
> 
> 时间：2013-01-23T05:51:59.313
> 
> 标签：python, search, set, dictionary

我发生了一件非常奇怪的事情。我正在尝试遍历一组字典以查找具有与字段键相关的特定值的所有项目。采取以下措施：

ex_set 是我无法控制的 mysql 系统的输出。如果我必须使用 python 重新创建它，它会是这样的：

```
dict_a [ 'field' ] = 'fruit'
dict_a [ 'value' ] = 'apple'
dict_b [ 'field' ] = 'fruit'
dict_b [ 'value' ] = 'berry'
ex_set = set()
ex_set.add (dict_a,dict_b) 
```

重要的是，当我打印它时，它的外观如何。

```
pprint (ex_set)
OUTPUTS> ({'field' : 'fruit',
        'value' : 'apple'},
        'field' : 'fruit'},
        'value' : 'berry'})

i = 0
while len ( ex_set ) > i:
    for k , v in ex_set [i].iteritems ( ):
        if v == 'fruit':
        pprint ( ex_set[i] )
    i += 1 
```

问题是 this 的打印不会打印所有具有 value = "fruit" 的字典。

有没有更好的方法来搜索一组字典？我正在搜索的集合在每个字典和大约 30k 字典中有 3 个键/值组合。这大约有 25% 的时间有效，我不知道为什么它只返回大约 20% 的匹配项。

谢谢您的帮助！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-23T06:06:40.493

根据您的描述，您正在寻找类似的东西：

```
In [6]: ex_set = ({'fruit':'apple',
   ...:            'value':'fruit'},
   ...:           {'fruit':'fruit'},
   ...:           {'apple':'apple'})

In [7]: for d in ex_set:
   ...:     if 'fruit' in d.values():
   ...:         print(d)
   ...:         
{'fruit': 'apple', 'value': 'fruit'}
{'fruit': 'fruit'} 
```

此外，除了您的示例不是有效的python这一事实之外， ex_set 当然不能是 a `set`，因为它们是不可散列的，所以`sets's`不能包含。`dictionaries`我会考虑将其重命名为更合适的名称：

```
In [8]: set([{}])
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
<ipython-input-8-7facc835553f> in <module>()
----> 1 set([{}])

TypeError: unhashable type: 'dict' 
```

# java - 每天在 primefaces 时间表上显示可编辑的事件

> ID：14473310
> 
> 赞同：2
> 
> 时间：2013-01-23T05:53:16.747
> 
> 标签：java, jsf-2, web, primefaces

我是 Web 开发、primefaces 和 stackoverflow 的新手。我什至不确定我是否可以在这里问这样的一般性问题，但我想我试一试，因为它让我发疯！

所以我正在使用 Primefaces 调度组件来开发调度程序。此调度程序从数据库中读取每天的事件，并将其显示在调度程序上。当然，用户可以通过单击日期来添加/编辑/删除这些事件，然后会打开一个对话框并让用户操作数据。

它是一个轮班计划程序，因此每天的轮班次数是有限且一致的（并且是强制性的）。例如，每天都有一个

```
1) moderator (MM)
2) morning security guard (MSG)
3) afternoon security guard (ASG)
4) overnight security guard (NSG) 
```

只看谁轮班，否则这些轮班必须提前 2 天补上。所以我想做的是

1）从数据库中读取数据并用已经分配的数据填充这一天（简单） 2）如果它们尚未分配，则显示一个空字段（不再来自数据库，仅查看事件）

如

```
Wednesday     Thursday        Friday    
MM  bob       MM  mike        MM    <empty>
MSG mike      MSG john        MSG   <empty>
ASG john      ASG <empty>     ASG   <empty>
NSG dave      NSG bob         NSG   <empty> 
```

在这里，所有已经分配的都是从数据库中读取的，但是我不知道如何显示那些尚未分配的。请注意，它们不在数据库中，它们只是在视图中，直到用户单击它以将其分配给自己。

非常感谢任何建议、代码和平或任何其他帮助。即使您知道更好的选择（比 primefaces），也请随时告诉我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-23T09:51:07.820

我的建议是从数据库中检索值并循环它们。当你应该有一个特定日期的值，而你没有（因为不在数据库中）然后添加一个空值（到你的 bean 中的变量）或者你可以在你的 bean 中实例化一个完整的空条目列表（构造函数) 并在从数据库中检索结果时，循环它们并将然后（替换空的）添加到您的 bean 变量中。这样，您最终会得到一个空白点和填充点列表。您如何从数据库中读取这些值？是清单吗？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-06T05:39:50.087

尝试了您上面 Roel 的建议，效果很好：

```
schedulerModel = new LazyScheduleModel(){

  @override
  public void loadEvents(Date start, Date end){
     for(date=start;date<end;date++){//obv psudo
        if(iSinDataBase) 
             showDatainDB();
        else 
             addEvent(new scheduleEvent(title,date,date));
     }
  }

} 
```

# css - Firefox 中缺少 CSS，但 Chrome 中没有

> ID：14473311
> 
> 赞同：0
> 
> 时间：2013-01-23T05:53:23.270
> 
> 标签：css, google-chrome, firefox

这个 CSS 块有问题：

```
#social-title
{
    float: left;
    position: absolute;
    top: 270 px;
    left: 575px;
    text-decoration: underline;
} 
```

当它在 Firefox 中呈现时，div 位于页面顶部。当我在 Chrome 中渲染它时，它应该在哪里。但是，当我用 Firebug 看这个时，“top: 270px;” Firefox 中缺少该行，但 Chrome 中没有。知道为什么吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-23T05:59:59.203

删除您正在使用的空间`top: 270 px;`

请用

```
top: 270px; 
```

# php - PHP多维数组分解

> ID：14473313
> 
> 赞同：-2
> 
> 时间：2013-01-23T05:53:37.473
> 
> 标签：php, pivot

我有一个 PHP Sql 结果，表格如下：

它显示为：

```
[id]|test1|data|voice
1|0|0|-1
2|0|1|0
3|0|-2|-1 
```

* * *

数组的 Print_r 如下所示：

* * *

```
Array
(
[2] => Array
    (
        [0] => Array
            (
                [test1] => 0
                [data] => 0
                [mobile] => -1
            )

    )

[3] => Array
    (
        [0] => Array
            (
                [test1] => 0
                [data] => 1
                [voice] => 0
            )

    )

[4] => Array
    (
        [0] => Array
            (
                [test1] => 0
                [data] => -2
                [voice] => -1
            )

    ) 
```

我想操作数组，使我的数组看起来像：

```
Array (
    [0] => Array
    ( 
            [name] =>  test1
            [val] => array(0 , 0, 0) 
    )
    [1] => Array 
    (
            [name] => data
            [val] => array(0, 1, -2)
    )
    [2] => Array
    (
            [name] => voice
            [val] => array(-1,0, 0)
    ) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-23T06:15:04.743

考虑到您的源数组名称为 $Arr ，试试下面的代码

```
foreach($Arr as $valArr)
{
    $index = 0;
    foreach($valArr[0] as $k => $v)
    {
        $newArr[$index]["name"] = $k;
        $newArr[$index]["val"][ ] = $v;
        $index++;
    }
}

echo "<pre>"; print_r($newArr); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-23T06:09:31.420

使用它并在需要时进行修改

```
SELECT *
FROM `table_name`
GROUP BY `test1` , `data` , `voice`
LIMIT 0 , 30 
```

# c# - Digital Nirvana：不存在的方法的 callvirt 最终会在哪里结束？

> ID：14473315
> 
> 赞同：11
> 
> 时间：2013-01-23T05:53:57.803
> 
> 标签：c#, .net, polymorphism

我在一个库类上调用一个属性集访问器，它在它的基类中被标记为抽象。现在在运行时，我[强制](http://msdn.microsoft.com/en-us/library/7wd6ex19%28v=vs.71%29.aspx)应用程序针对库的另一个版本运行，其中该类仅实现基类的底层接口，但不是从它派生的。

有趣的是，.NET 将运行代码，但设置属性没有效果。幕后发生了什么？

**违规代码：**

```
MyDbParameter param = new MyDbParameter();
param.ParameterName = "p";
Console.Out.WriteLine("ParameterName: " + param.ParameterName); 
```

**库 2.0**（已编译）

```
public sealed class MyDbParameter : System.Data.Common.DbParameter
{
    public override string ParameterName
    {
       get { return _name; }
       set { _name = value; }
    }
    //...
} 
```

**库 1.0**（运行）

```
public sealed class MyDbParameter : MarshalByRefObject, IDbDataParameter, IDataParameter
{
    public string ParameterName
    {
        get { return _name; }
        set { _name = value; }
    }
    //...
} 
```

查看调用代码的 MSIL，我想虚拟调用是通过基类的 MetodTable 解决的：

```
IL_0001: newobj instance void [Library]Library.MyDbParameter::.ctor()
IL_0006: stloc.0
IL_0007: ldloc.0
IL_0008: ldstr "p"
IL_000d: callvirt instance void [System.Data]System.Data.Common.DbParameter::set_ParameterName(string) 
```

但是在运行代码时基类不存在 - 也不存在`DbParameter.set_ParameterName()`。.NET 怎么可能不抱怨呢？哪个方法实际被调用？

* * *

**更新：**

正如[Samuel](https://stackoverflow.com/questions/14473315/digital-nirvana-where-does-a-callvirt-of-a-non-existent-method-end-up#comment20250638_14473315)所建议的那样，我已经反编译了该类`System.Data.Common.DbParameter`并在我的两个库中都采用了它。无论我从哪里得出`MarshalByRefObject`或将其全部评论出来，这种行为都会重现 - 在此我相信我已经伪造了[梅森的](https://stackoverflow.com/questions/14473315/digital-nirvana-where-does-a-callvirt-of-a-non-existent-method-end-up/14530580#14530580)回答。

但是在这个过程中我发现了发生了什么：实际上它是库 1中一些*其他*属性的设置器/获取器，例如（它是类型 ！） - 它取决于代码中的属性顺序。在前一种情况下，我实现了其他属性的设置器，因此我忽略了提供的值，因此我看不到任何效果。现在，如果它们都具有自动 getter/setter，那么我的代码输出实际上是正确的。`MyDbParameter``Size``int`

问题仍然存在：为什么 .NET 在运行时不抱怨缺少的方法？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-25T21:20:40.553

我相信你的涅槃充满了`MarshalByRefObjects`。它们由框架唯一处理，因为它检测对它们的所有访问，以便将它们视为远程对象的代理。MBRO 实际上无法满足违规代码的请求（因为您的 v1 类不支持`DbParameter::set_ParameterName`），因此它走了很长的路。它不被视为 a，`MissingMethodException`因为 MBRO 通常缺少请求的成员，因此运行时要宽松得多。

但是，如果您`IDbDataParameter`在设置属性之前尝试将有问题的代码更改为将 param 转换为 an，我想它会起作用，因为 v1 和 v2 都支持该接口。

# c# - 生成随机的唯一值 C#

> ID：14473321
> 
> 赞同：36
> 
> 时间：2013-01-23T05:54:42.090
> 
> 标签：c#, .net, random, unique

我已经搜索了一段时间并且一直在努力找到这个，我正在尝试生成几个随机的、唯一的数字是 C#。我正在使用`System.Random`，并且我正在使用`DateTime.Now.Ticks`种子：

```
public Random a = new Random(DateTime.Now.Ticks.GetHashCode());
private void NewNumber()
{
    MyNumber = a.Next(0, 10);
} 
```

我`NewNumber()`经常打电话，但问题是我经常收到重复的号码。有人建议，因为我每次都声明随机数，它不会产生随机数，所以我把声明放在我的函数之外。有什么建议或比使用更好的方法`System.Random`吗？谢谢

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2013-01-23T05:58:36.630

> 我经常打电话给 NewNumber()，但问题是我经常得到重复的数字。

`Random.Next`不保证数字是唯一的。此外，您的范围是从 0 到 10，您可能会得到重复的值。可能是您可以`int`在检查它是否不包含重复项后设置一个列表并在列表中插入随机数。就像是：

```
public Random a = new Random(); // replace from new Random(DateTime.Now.Ticks.GetHashCode());
                                // Since similar code is done in default constructor internally
public List<int> randomList = new List<int>();
int MyNumber = 0;
private void NewNumber()
{
    MyNumber = a.Next(0, 10);
    if (!randomList.Contains(MyNumber))
        randomList.Add(MyNumber);
} 
```

* * *

## 回答 #2

> 赞同：21
> 
> 时间：2013-01-23T06:03:52.523

如果您的范围仅为 0 到 9，您可以尝试对可能的整数数组进行改组。这增加了避免数字生成中任何冲突的好处。

```
var nums = Enumerable.Range(0, 10).ToArray();
var rnd = new Random();

// Shuffle the array
for (int i = 0;i < nums.Length;++i)
{
    int randomIndex = rnd.Next(nums.Length);
    int temp = nums[randomIndex];
    nums[randomIndex] = nums[i];
    nums[i] = temp;
}

// Now your array is randomized and you can simply print them in order
for (int i = 0;i < nums.Length;++i)
    Console.WriteLine(nums[i]); 
```

* * *

## 回答 #3

> 赞同：13
> 
> 时间：2016-01-11T08:01:42.297

**注意，我不推荐这个:)。** 这里还有一个“oneliner”：

```
var result = Enumerable.Range(0,9).OrderBy(g => Guid.NewGuid()).ToArray(); 
```

* * *

## 回答 #4

> 赞同：10
> 
> 时间：2013-01-23T09:06:43.403

我发布了一个正确的洗牌算法实现，因为这里发布的另一个不会产生统一的洗牌。

正如另一个答案所述，对于要随机化的少量值，您可以简单地用这些值填充一个数组，对数组进行洗牌，然后使用您想要的任意数量的值。

以下是[Fisher-Yates Shuffle](http://en.wikipedia.org/wiki/Fisher%E2%80%93Yates_shuffle)（又名 Knuth Shuffle）的实现。（阅读该链接的“实现错误”部分（搜索“在每次迭代时始终从有效数组索引的整个范围中选择 j”）以查看有关此处发布的其他实现有什么问题的一些讨论。）

```
using System;
using System.Collections.Generic;

namespace ConsoleApplication2
{
    static class Program
    {
        static void Main(string[] args)
        {
            Shuffler shuffler = new Shuffler();
            List<int> list = new List<int>{ 1, 2, 3, 4, 5, 6, 7, 8, 9 };
            shuffler.Shuffle(list);

            foreach (int value in list)
            {
                Console.WriteLine(value);
            }
        }
    }

    /// <summary>Used to shuffle collections.</summary>

    public class Shuffler
    {
        public Shuffler()
        {
            _rng = new Random();
        }

        /// <summary>Shuffles the specified array.</summary>
        /// <typeparam name="T">The type of the array elements.</typeparam>
        /// <param name="array">The array to shuffle.</param>

        public void Shuffle<T>(IList<T> array)
        {
            for (int n = array.Count; n > 1; )
            {
                int k = _rng.Next(n);
                --n;
                T temp = array[n];
                array[n] = array[k];
                array[k] = temp;
            }
        }

        private System.Random _rng;
    }
} 
```

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2017-11-21T19:13:30.523

**这是一个统一的答案：**

检查这个现成的方法：给出你想要获得的数字的范围和数量。

```
public static int[] getUniqueRandomArray(int min, int max, int count) {
    int[] result = new int[count];
    List<int> numbersInOrder = new List<int>();
    for (var x = min; x < max; x++) {
        numbersInOrder.Add(x);
    }
    for (var x = 0; x < count; x++) {
        var randomIndex = UnityEngine.Random.Range(0, numbersInOrder.Count);
        result[x] = numbersInOrder[randomIndex];
        numbersInOrder.RemoveAt(randomIndex);
    }

    return result;
} 
```

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2020-08-26T21:01:53.893

与[@Habib 的答案](https://stackoverflow.com/a/14473371/1978840)相同，但作为一个函数：

```
List<int> randomList = new List<int>();
int UniqueRandomInt(int min, int max)
{
    var rand = new Random();
    int myNumber;
    do
    {
       myNumber = rand.Next(min, max);
    } while (randomList.Contains(myNumber));
    return myNumber;
} 
```

如果 randomList 是一个类属性，UniqueRandomInt 将在该类的同一实例的上下文中返回唯一整数。如果您希望它在全球范围内是唯一的，则需要将 randomList 设为静态。

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2013-01-23T06:42:20.783

根据您的实际情况，您可以执行以下操作：

```
using System;
using System.Collections.Generic;
using System.Linq;

namespace SO14473321
{
    class Program
    {
        static void Main()
        {
            UniqueRandom u = new UniqueRandom(Enumerable.Range(1,10));
            for (int i = 0; i < 10; i++)
            {
                Console.Write("{0} ",u.Next());
            }
        }
    }

    class UniqueRandom
    {
        private readonly List<int> _currentList;
        private readonly Random _random = new Random();

        public UniqueRandom(IEnumerable<int> seed)
        {
            _currentList = new List<int>(seed);
        }

        public int Next()
        {
            if (_currentList.Count == 0)
            {
                throw new ApplicationException("No more numbers");
            }

            int i = _random.Next(_currentList.Count);
            int result = _currentList[i];
            _currentList.RemoveAt(i);
            return result;
        }
    }
} 
```

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2017-01-29T13:03:55.577

在这里，我使用**HashSet**查找 N 个随机唯一数字的版本。看起来很简单，因为 HashSet 只能包含不同的项目。很有趣 - 会比使用 List 或 Shuffler 更快吗？

```
using System;
using System.Collections.Generic;

namespace ConsoleApplication1
{
    class RnDHash
    {
        static void Main()
        {
            HashSet<int> rndIndexes = new HashSet<int>();
            Random rng = new Random();
            int maxNumber;
            Console.Write("Please input Max number: ");
            maxNumber = int.Parse(Console.ReadLine());
            int iter = 0;
            while (rndIndexes.Count != maxNumber)
            {
                int index = rng.Next(maxNumber);
                rndIndexes.Add(index);
                iter++;
            }
            Console.WriteLine("Random numbers were found in {0} iterations: ", iter);
            foreach (int num in rndIndexes)
            {
                Console.WriteLine(num);
            }
            Console.ReadKey();
        }
    }
} 
```

* * *

## 回答 #9

> 赞同：1
> 
> 时间：2019-07-09T09:40:19.877

我注意到接受的答案不断将 int 添加到列表中并不断检查它们，`if (!randomList.Contains(MyNumber))`我认为这不能很好地扩展，特别是如果你一直要求新的数字。

我会做相反的事情。

1.  启动时线性生成列表
2.  从列表中获取随机索引
3.  从列表中删除找到的 int

这将需要在启动时稍微多一点时间，但会更好地扩展。

```
public class RandomIntGenerator
{
    public Random a = new Random();
    private List<int> _validNumbers;

    private RandomIntGenerator(int desiredAmount, int start = 0)
    {
        _validNumbers = new List<int>();
        for (int i = 0; i < desiredAmount; i++)
            _validNumbers.Add(i + start);
    }

    private int GetRandomInt()
    {
        if (_validNumbers.Count == 0)
        {
            //you could throw an exception here
            return -1;
        }
        else
        {
            var nextIndex = a.Next(0, _validNumbers.Count - 1);
            var number    = _validNumbers[nextIndex];
            _validNumbers.RemoveAt(nextIndex);
            return number;
        }
    }
} 
```

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2020-01-24T11:00:54.633

可能有点晚了，但这里有更合适的代码，例如当您需要使用循环时：

```
 List<int> genered = new List<int>();

            Random rnd = new Random();

            for(int x = 0; x < files.Length; x++)
            {
                int value = rnd.Next(0, files.Length - 1);
                while (genered.Contains(value))
                {
                    value = rnd.Next(0, files.Length - 1);
                }
                genered.Add(value);

                returnFiles[x] = files[value];
            } 
```

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2021-12-07T22:21:20.647

*   功能方式*

```
 static Func<int> GetNextUniqueIntegerFunc(int min, int max)
        {
            var list = new List<int>();

            var random = new Random();

            int getNextValue()
            {
                while (true)
                {
                    var random_number = random.Next(min, max);

                    if (!list.Contains(random_number))
                    {
                        list.Add(random_number);

                        return random_number;
                    }
                }
            }

            return getNextValue;
        } 
```

* * *

## 回答 #12

> 赞同：-1
> 
> 时间：2020-07-03T14:12:58.640

从 0 到 9 的唯一随机数

```
 int sum = 0;
        int[] hue = new int[10];
        for (int i = 0; i < 10; i++)
        {

            int m;
            do
            {
                m = rand.Next(0, 10);
            } while (hue.Contains(m) && sum != 45);
            if (!hue.Contains(m))
            {
                hue[i] = m;
                sum = sum + m;
            }

        } 
```

* * *

## 回答 #13

> 赞同：-2
> 
> 时间：2018-12-27T15:24:09.557

randomNumber 函数返回 0 到 100000 之间的唯一整数值

> ```
>  bool check[] = new bool[100001];
>   Random r = new Random();
>   public int randomNumber() {
>       int num = r.Next(0,100000);
>        while(check[num] == true) {
>              num = r.Next(0,100000);
>      }
>     check[num] = true;
>    return num;
>  } 
> ```

* * *

## 回答 #14

> 赞同：-3
> 
> 时间：2013-04-24T06:56:37.433

您还可以使用 dataTable 存储每个随机值，然后简单地执行 random 方法 while != dataColumn 中的值

* * *

## 回答 #15

> 赞同：-3
> 
> 时间：2019-04-07T13:03:35.300

嗨，我在这里发布了一个视频，它解释了如何生成唯一的随机数

```
 public List<int> random_generator(){

  Random random = new Random();

   List<int> random_container = new List<int>;

     do{

       int random_number = random.next(10);

      if(!random_container.contains(random_number){

       random_container.add(random_number)
  }
}
   while(random_container.count!=10);

     return random_container; 
  } 
```

在这里，，，在随机容器中，您将随机获得从 0 到 9（10 个数字）开始的非重复 10 个数字.. 谢谢........

* * *

## 回答 #16

> 赞同：-4
> 
> 时间：2017-07-19T09:41:38.433

您可以使用 C# 的基本随机函数

```
Random ran = new Random();
int randomno = ran.Next(0,100); 
```

你现在可以在任何你想要的东西中使用 randomno 中的值，但请记住，这将在`0`和`100`Only 之间生成一个随机数，你可以将它扩展到任何数字。

* * *

## 回答 #17

> 赞同：-8
> 
> 时间：2016-02-23T15:35:19.560

试试这个：

```
private void NewNumber()
  {
     Random a = new Random(Guid.newGuid().GetHashCode());
     MyNumber = a.Next(0, 10);
  } 
```

一些解释：

`Guid`:[基于此处](https://msdn.microsoft.com/en-us/library/system.guid(v=vs.110).aspx%22Base%20on%20Here%22): 表示全局唯一标识符 (GUID)

`Guid.newGuid()`产生一个唯一标识符，如`"936DA01F-9ABD-4d9d-80C7-02AF85C822A8"`

它将在整个宇宙中[独一无二](https://stackoverflow.com/questions/39771/is-a-guid-unique-100-of-the-time)

[这里](https://en.wikipedia.org/wiki/Hash_function)的哈希码从我们的唯一标识符中产生一个唯一的整数

所以`Guid.newGuid().GetHashCode()` 给了我们一个唯一的数字，随机类将产生真正的随机数抛出这个

示例： [https ://rextester.com/ODOXS63244](https://rextester.com/ODOXS63244)

使用这种方法生成了十个随机数，结果为：

```
-1541116401
7
-1936409663
3
-804754459
8
1403945863
3
1287118327
1
2112146189
1
1461188435
9
-752742620
4
-175247185
4
1666734552
7 
```

我们有两个`1`相邻的 s，但哈希码不一样。

# ios - 应用程序试图以模态方式呈现一个活动控制器 iOS 6.0.2

> ID：14473323
> 
> 赞同：2
> 
> 时间：2013-01-23T05:54:48.940
> 
> 标签：ios, ipad, modalviewcontroller

当我尝试以模态方式呈现 UIViewController 时出现以下错误。

> “应用程序试图以模态方式呈现一个活动控制器”。

我在stackoverflow中阅读了很多关于此的帖子。这解释了这个错误。我知道，当已经存在的 UIViewController 尝试再次以模态方式显示时，会引发此异常。

我的应用逻辑是：

当应用程序进入后台时。我使用关闭模态视图控制器

```
[self dismissModalViewControllerAnimated:NO] 
```

当应用程序回到前台时，我再次显示控制器

```
[self presentModalViewController:viewController animated:NO] 
```

此逻辑在装有 iOS 6.0.1 的 iPad 上运行良好，但在装有 iOS 6.0.2 的 iPad Mini 上失败。

我很感激任何建议。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-23T06:04:08.493

我认为最好的解决方案是使用`presentViewControllerAnimated:completion:nil` **and** `dismissViewControllerAnimated:completion:` for iOS6 或尝试在延迟一段时间后呈现视图控制器*（通过方法调用`NSTimer`）。*

```
[self presentViewController:YourVC animated:YES completion:nil]; 
```

**和**

```
[self dismissViewControllerAnimated:YourVC completion:nil]; 
```

# iphone - 使用 facebook graph api 在 iphone 中共享状态更新

> ID：14473324
> 
> 赞同：0
> 
> 时间：2013-01-23T05:54:49.937
> 
> 标签：iphone, ios, facebook, facebook-graph-api

我正在尝试 facebook graph api 等功能`like`。`share`我需要分享特定朋友的新闻源。新闻源可以是任何照片、视频、链接或状态更新。除了状态更新，我可以分享一切。以下是我的代码：

```
if ([strType isEqualToString:@"status"]) {

            [[resultArrFeed objectAtIndex:selectedIndex] objectForKey:@"message"];

            if (text == nil) {
                text = [[resultArrFeed objectAtIndex:selectedIndex] objectForKey:@"story"];
            }

            NSDictionary *dict = [resultArrFeed objectAtIndex:selectedIndex];
            NSLog(@"dic : %@", dict);
            NSString *str = [[dict valueForKey:@"actions"] valueForKey:@"link"][0];
            dic=[NSDictionary  dictionaryWithObjectsAndKeys:str,@"link",nil];
            request=[NSMutableString stringWithString: @"me/feed/"];
            //  [dic setValue:str forKey:@"link"];
            NSLog(@" %@", str);

        } 
```

我在共享时收到以下错误：

```
Error Domain=com.facebook.sdk Code=5 "The operation couldn’t be completed. (com.facebook.sdk error 5.)" UserInfo=0xaaa9a20 {com.facebook.sdk:ParsedJSONResponseKey={
body =     {
    error =         {
        code = 1500;
        message = "(#1500) The url you supplied is invalid";
        type = OAuthException;
    };
};
    code = 400;
}, com.facebook.sdk:HTTPStatusCode=400} 
```

我该如何解决？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T12:05:04.373

你应该试试下面的网址

request=[NSMutableString stringWithString: @"me/feed"];

谢谢

# c# - 不使用 ASP.NET (C#) 插入数据库(MySQL)

> ID：14473325
> 
> 赞同：1
> 
> 时间：2013-01-23T05:54:51.263
> 
> 标签：c#, asp.net, sql-server

我正在尝试插入数据库，它只有在我转到表属性时才会更新，然后按“执行 SQL”。

这是代码：

```
 using System;
 using System.Collections.Generic;
 using System.Linq;
 using System.Web;
 using System.Web.UI;
 using System.Web.UI.WebControls;
 using System.Data.SqlClient;
 using System.Web.Configuration;
 using System.Configuration;
 public partial class _Default : System.Web.UI.Page
{
String s;
SqlCommand cmd;
SqlConnection Con;
protected void Page_Load(object sender, EventArgs e)
{

}
protected void Button1_Click(object sender, EventArgs e)
{

    s = WebConfigurationManager.ConnectionStrings["my"].ConnectionString;

    Con=new SqlConnection(s);
    Con.Open();
    cmd=new SqlCommand("insert into stu values('"+TextBox1.Text+"','"+TextBox2.Text+"')",Con);
    cmd.ExecuteNonQuery(); 
    Con.Close();

  }
 } 
```

怎么了？它不是自动更新的，但是当我转到表格内容时，右键单击并按执行 SQL。

**更新：** 这将使事情变得清晰：

![在此处输入图像描述](../Images/8288805139fbaa0583d0efeb90f94c0a.png)

只有在此之后，该行才会受到影响。有什么原因吗？

**更新2**

我知道stmt。工作正常。但可能是什么问题？它不应该自动更新吗？为什么我必须去“执行 SQL”？

我正在使用 sql 服务器

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T04:42:21.223

在您的问题标签中给出了“mysql”，但对我来说它看起来像 SQL 服务器。

您的程序正在更新到数据库。但是只有刷新sql页面才能看到。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-23T06:57:18.420

如果您在谈论 asp.net 页面....那么您需要在插入后更新页面中的表格内容...并`cmd.ExecuteNonQuery()`返回一个整数，表示没有影响的行....您可以检查您的查询是否工作与否...

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-23T07:26:23.040

我没发现任何问题

**在 C# 中使用“Using”语句**

```
using (Con=new SqlConnection(s);)
{
    Con.Open();
    cmd=new SqlCommand("insert into stu values('"+TextBox1.Text+"','"+TextBox2.Text+"')",Con);
    cmd.ExecuteNonQuery(); 
    Con.Close();
} 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-01-23T06:56:43.163

这是正常的行为......你怎么能说数据没有被激活？仅仅因为当您插入时打开您的 SSMS 并检查您的表而不引用它......您必须知道，当您在 SSMS 中以“SELECT”形式或“EDIT”形式打开表数据时，它会显示当前插入的所有行. 当您在 SSMS 外部插入数据时，数据已插入，但无法显示在现有打开的 tableview 中，直到您刷新它...

请注意，通过引用我的意思是“再次执行 SELECT 或 EDIT 查询”..

# visual-c++ - 从 MinGW 调用 MSVC DLL 函数

> ID：14473329
> 
> 赞同：1
> 
> 时间：2013-01-23T05:55:10.233
> 
> 标签：visual-c++, opencv, dll, mingw

我正在尝试将 DLL（使用 MSVC 编译）与 MinGW 编译器一起使用。dll 和二进制文件都使用用相应编译器编译的 opencv dll（MSVC 用于 MSVC DLL，MinGW 用于 MinGW 二进制文件）。但是，opencv vesrion 是相同的 2.42。

我可以成功加载我的 DLL（使用 extern C），但从 DLL 调用 SetRect 函数会导致以下控制台输出：

```
Set search rect(qt): 162, 119, 50, 50
(Internal error: pc 0x112 in read in psymtab, but not in symtab.)
(Internal error: pc 0x112 in read in psymtab, but not in symtab.)
(Internal error: pc 0x112 in read in psymtab, but not in symtab.)
(Internal error: pc 0x112 in read in psymtab, but not in symtab.)
Set search rect(dll): 2282800, 2282908, 2282840, 1874777202
(Internal error: pc 0x112 in read in psymtab, but not in symtab.)
(Internal error: pc 0x112 in read in psymtab, but not in symtab.)
(Internal error: pc 0x112 in read in psymtab, but not in symtab.)
(Internal error: pc 0x112 in read in psymtab, but not in symtab.) 
```

为什么数字不同，内部错误是什么，我该如何解决？

一些代码，请注意 Rect 类来自 Opencv。

MinGW 二进制文件：

```
std::cout << "Rect(qt): " << rect.x << ", " << rect.y << ", " << rect.width << ", " << rect.height << "\n" << std::flush;
SetRect(rect); 
```

MSVC DLL：

```
void SetRect(Rect rect)
{
    std::cout << ""Rect(dll): " << rect.x << ", " << rect.y << ", " << rect.width << ", " << rect.height << "\n" << std::flush;
} 
```

谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-24T16:29:08.230

[除非您提供简短的、自包含的、正确的（可编译的）示例，](http://sscce.org/)否则我们将无法重现您的问题。

I suggest you take a careful look into MinGW FAQ, specifically the section [MSVC and MinGW DLLs](http://www.mingw.org/wiki/MSVC_and_MinGW_DLLs) since it covers [what you are trying to accomplish](http://mingw-users.1079350.n2.nabble.com/Dynamically-loading-MSVC-DLL-from-MinGW-code-td6585960.html).

# python - 将表数据从 django postgres 模型推送到远程 oracle 数据库

> ID：14473332
> 
> 赞同：2
> 
> 时间：2013-01-23T05:55:25.287
> 
> 标签：python, django, oracle, postgresql

嘿伙计们，我有一个问题。我使用 django 构建了一个应用程序，它在 postgresql 上运行。该应用程序运行良好，但直到最近，我被要求将 django 应用程序模型中的特定表数据推送到远程 oracle 数据库。例如，我有一个看起来像这样的模型：

```
 class SimRegistrationForm(models.Model):
    mobile_number = models.IntegerField('Mobile Number',max_length=10, null=False, blank=False)
    alternative_number = models.IntegerField('Alternative Number',max_length=10, blank=True, null=True)
    date = models.DateField('Date', blank=False, null=False)
    honorifics = models.CharField('Honorific', max_length=10, choices=HONORIFIC, blank=False, null=False)
    first_name = models.CharField('First Name',max_length=30, blank=False, null=False)
    middle_name = models.CharField('Middle Name',max_length=30, blank=True, null=True)
    last_name = models.CharField('Last Name',max_length=30, blank=False, null=False)
    dob = models.DateField('Date of Birth', blank=False, null=False)
    nationality = models.CharField(max_length=30, null=False, blank=False) 
```

我之前在这个论坛上问过这个问题，但没有得到太多的帮助，回应很少。我怎样才能做到这一点？我知道 django 支持多个数据库连接，基于我在这里阅读的内容 [https://docs.djangoproject.com/en/dev/topics/db/multi-db/](https://docs.djangoproject.com/en/dev/topics/db/multi-db/) 我希望它将一些表数据推送到实时远程 oracle 数据库，数据也应该保留在 postgres 数据库中。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-23T06:25:13.070

使用某种数据库复制工具。由于它是两个不同的数据库，因此您的选择不是很多。我只知道[Oracle 的 GoldenGate](http://www.oracle.com/technetwork/middleware/goldengate/overview/index.html)，不知道好不好用。

如果您不需要经常同步数据，您可以滚动自己的脚本来转储、转换和加载数据，比如每晚左右。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-23T06:35:30.090

似乎您想将某些特定模型的数据从 postgresql 复制到 oracle。

MultiDB 不是为复制而设计的，但是使用最新版本的 Django，您可以实现这一特技。

用两个数据库配置 Django，postgresql 作为默认数据库，oracle 作为第二个数据库。假设您将第二个数据库数据库称为“orcl”：

1.  在 oracle 数据库中创建要复制的同一张表
2.  在调用`super()`“save”方法的Django模型中编写一个自定义“save”方法，并且`super(YourModel, self).save(using='orcl')`

应该是这样的（未经测试）：

```
def save(self, *args, **kwargs):
    super(YourModelName, self).save(*args, **kwargs)
    kwargs.update({'using' : 'orcl'})
    super(YourModelName, self).save(*args, **kwargs) 
```

[更新]

> 来自 OP 的评论：但现在的问题是我不想将表的所有数据发送到远程数据库。我只想将一些列发送到远程数据库。是否有可能用类似的方法来实现这一点

我认为这是可能的。在两个数据库上保持相同的 pk 将使您的生活更轻松：

```
def save(self, *args, **kwargs):
    super(YourModelName, self).save(*args, **kwargs)
    remote = OtherModel(
        id = self.id,
        some_field = self.some_field,
        another_field = self.another_field,
    )
    remote.save(using='orcl') 
```

让我知道这个是否奏效。您必须要么 1）定义 OtherModel 并在远程数据库中创建相应的表，要么 2）创建远程表并用于`manage.py inspectdb`创建模型。

# data-binding - 我如何理解 Data Load Complate Windows Phone

> ID：14473333
> 
> 赞同：0
> 
> 时间：2013-01-23T05:55:27.827
> 
> 标签：data-binding, windows-phone

嗨，我从 xml 加载我的数据，我想将第一个项目绑定到我的文本块，但是当我尝试给 DataContext = myclass.articles[0] 时，它会抛出错误，因为它的加载未编译。类架构应该如何？加载时如何绑定数据。

```
 public class ArticleViewModel
{

    public ArticleViewModel()
    {
        articles = new ObservableCollection<Article>();
    }
    public ObservableCollection<Article> articles;

    public void LoadArticle(int Cat_ID)
    {
        DownloadFile("http://www.loadarticle.com/Rss.asp?id=" + Cat_ID);
     }
    public  string xml;
    public  void DownloadFile(string url)
    {
        string sonuc = "";
        WebClient wc = new WebClient();
        wc.DownloadStringCompleted += wc_DownloadStringCompleted;
        wc.DownloadStringAsync(new Uri(url));
     }

    void wc_DownloadStringCompleted(object sender, DownloadStringCompletedEventArgs e)
    {
        xml = e.Result;
        XDocument doc = XDocument.Parse(xml);
        var articless = (from i in doc.Element("rss").Element("channel").Elements()
                    where i.Name == "item"
                    select new Article { Baslik = i.Element("title").Value, Detay = i.Element("description").Value });

        foreach (Article artic in articless)
        {
            this.articles.Add(artic);
        }

    } 
```

页面.Xaml.cs

```
 protected override void OnNavigatedTo(System.Windows.Navigation.NavigationEventArgs e)
    {
        base.OnNavigatedTo(e);

        string kategori_refno = "";
        if (NavigationContext.QueryString.TryGetValue("kategori_refno", out kategori_refno))
        {
            ArticleViewModel fm = new ArticleViewModel();
            fm.LoadArticle(Convert.ToInt32(kategori_refno));

                DataContext = fm.articles[0];
        }
    } 
```

Xaml

```
 <TextBlock x:Name="tbKategori_Adi" Text="{Binding Baslik,Mode=TwoWay}" Margin="9,-7,0,0" Style="{StaticResource PhoneTextTitle1Style}"/> 
<TextBlock x:Name="tbFikra" TextWrapping="Wrap" Text="{Binding Detay,Mode=TwoWay}" Margin="0,0,0,70"/> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-23T06:12:01.367

有几件事：

1.  让整个页面的 DataContext 成为 ArticleViewModel。
2.  研究使用[INotifyPropertyChanged](http://msdn.microsoft.com/en-us/library/system.componentmodel.inotifypropertychanged.aspx)接口在数据绑定更改时通知 UI
3.  我会有一个名为 FirstArticle 的属性或类似的属性，你将`TextBlock`s 绑定到。然后在数据成功下载后填充此属性。再加上 INotifyPropertyChanged，您将在加载数据时更新 UI。

# php - 如何使用php获取完整的页面url（没有页面名称和参数）

> ID：14473339
> 
> 赞同：0
> 
> 时间：2013-01-23T05:55:52.807
> 
> 标签：php

我正在运行一个带有这样的 url 的页面`http://www.domain.com/test/reports/index.php`

我需要使用没有 index.php 的 php 获取 url

```
http://www.domain.com/test/reports/ 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-23T06:00:19.270

使用[parse_url](http://php.net/manual/en/function.parse-url.php)：

```
$url = (($_SERVER['HTTPS']=="on")?"https://":"http://").$_SERVER['SERVER_NAME'].$_SERVER['REQUEST_URL'];
$parts = parse_url($url);
$urlpath = $parts['scheme']."://".$parts['host'].$parts['path']; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-23T06:05:27.807

```
<?php
$url = 'http://www.domain.com/test/reports/index.php';
$file_name = basename($url);
echo str_replace($file_name, '', $url);
?> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-23T06:06:30.870

为了彻底，您需要从[parse_url()](http://php.net/manual/en/function.parse-url.php)开始。

```
$parts=parse_url("http://domain.com/user/100"); 
```

这将为您提供一个带有少量键的数组。您正在寻找的是`path`.

将路径分开`/`并走最后一条。

```
$path_parts=explode('/', $parts['path']); 
```

您的 ID 现在位于`$path_parts[count($path_parts)-1]`.

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-23T06:19:26.780

用爆炸内爆做到这一点的菜鸟方法

```
<?php
$url = "http://www.domain.com/test/reports/index.php";
$newurl = explode("/", $url);
array_pop($newurl);
implode("/",$newurl);
?> 
```

# windows-phone-7 - 如何在 Windows Phone 7 中将图像转换为视频

> ID：14473345
> 
> 赞同：0
> 
> 时间：2013-01-23T05:56:27.887
> 
> 标签：windows-phone-7, windows-phone-7.1, video-encoding

我正在 Windows Phone 7 中开发 IP 摄像机应用程序。我的要求是录制视频并将其保存到本地路径。我已经可以通过 IP Camera API 访问图像，现在我想将图像转换为视频。我该怎么做？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-26T08:21:12.123

我不确定这个确切任务的示例代码是否存在。您可以先查看[System.Windows.Media](http://msdn.microsoft.com/en-us/library/ms608873%28v=vs.95%29.aspx)文档，尤其`VideoRecorder`是`CaptureSource`和`FileSink`. How to : [Record Video in a Camera Application for Windows Phone](http://msdn.microsoft.com/en-us/library/hh394041%28v=vs.92%29.aspx)文章和[Video Recorder Sample](http://code.msdn.microsoft.com/wpapps/Video-Recorder-Sample-5e800bbf)也可能有用。我知道您并没有尝试对来自相机的视频进行编码，但这些示例展示了如何访问手机上可用的编码器，您只需要弄清楚如何为它们提供您自己的视频帧。我可以看到的一个问题是`CaptureSource`,`FileSink`并且`VideoCaptureDevice`都是密封类。通常`FileSink`调用[CaptureSource.CaptureImageAsync](http://msdn.microsoft.com/en-us/library/system.windows.media.capturesource.captureimageasync%28v=vs.95%29.aspx)并将下一帧作为 a`WriteableBitmap`中的属性获取[CaptureSource.CaptureImageCompleted](http://msdn.microsoft.com/en-us/library/system.windows.media.capturesource.captureimagecompleted%28v=vs.96%29.aspx)事件处理程序。这是您想要提供您拥有的框架的地方，但是如何提供？您不能从`CaptureSource`...继承，如果可以的话，您只需将其设置为文件接收器的源并提供您自己的框架。因此，乍一看还不清楚您是否可以使用 Windows Phone 上的内置编解码器对自己的视频进行编码。

如果您可以使用开源编解码器，另一种方法是编译 ffmpeg（或 gstreamer、或 xuggler 或 x264，...）。您可以查看[ffmpeg4pocketpc](http://forum.xda-developers.com/showthread.php?t=579384)，我对此了解不多，但看起来很有希望。或者，选择一个商业编解码器库，例如 CoreCodec。

# jquery - 从 jQuery Mobile 滑块中获取一个值并将其设置在另一个滑块上

> ID：14473349
> 
> 赞同：2
> 
> 时间：2013-01-23T05:56:49.813
> 
> 标签：jquery, jquery-mobile

我试图从 jQuery 移动滑块中获取一个值，然后将其拖动一点，然后以编程方式将其设置为另一个 jQuery 移动滑块。

我已经尝试过`$(selector).slider(value)`, `$(selector).attr('value)`，或者`$(selector).slider().value()`但它们似乎都不适用于我的情况。

我正在使用 jQuery Mobile 1.2.0 和 jQuery 1.8.0

下面是我试图开始工作的代码：

```
$('#slider1').change(function(){
        var slide1Val = $(this).val();
        $('#slider2').val(slide1Val).slider('refresh');
}; 
```

[这是我正在尝试处理的实际 URL](http://jsfiddle.net/b3bJr/3/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-23T06:10:16.830

你可以做这样的事情

```
$("#gen1").live("pageinit",function(){
     $("#slider1").change(function(){
         $("field1").html(this.value);
         $("#slider2").val(this.value/2);
         $("#slider2").slider("refresh");
   });
}); 
```

希望这可以帮助

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-23T08:13:40.547

这是一个工作示例：http: [//jsfiddle.net/Gajotres/PzTeX/](http://jsfiddle.net/Gajotres/PzTeX/)

该示例是为这个问题创建的：[https ://stackoverflow.com/a/13554192/1848600](https://stackoverflow.com/a/13554192/1848600)

我一个月前做的。基本上它会根据第一个滑块移动 3 个其他滑块，这是一个代码示例：

```
$("input#europe, input#us, input#uk, input#japan").live("slidestop", function() {
    $(this).mouseup();
    var changeVal = ($(this).val() - $(this).attr('min'))/($(this).attr('max') - $(this).attr('min'));
    changeSliders(changeVal, $(this).attr('id'));    
});

function changeSliders(changeVal, sliderID){
    $("input#europe, input#us, input#uk, input#japan").each(function(){
    var newValue = parseFloat($(this).attr('min')) + parseFloat(($(this).attr('max') - $(this).attr('min')))*changeVal;
    if($(this).attr('id') != sliderID) {    
        $(this).val(newValue);
    }
    });
    $("input#europe, input#us, input#uk, input#japan").slider('refresh');    
} 
```

# android - 谷歌地图 API 的密钥

> ID：14473359
> 
> 赞同：0
> 
> 时间：2013-01-23T05:57:22.960
> 
> 标签：android, google-maps, key

我是 API 管理的新手。我想在我的项目中使用 Google Maps API、Directions API、Distance matrix API、Geocoding API、AutoCompleteText API 所有这些东西。

我是否必须为每个单独的 API 创建“密钥”，或者单个 Maps API 密钥足以访问所有 API。

从安卓连接。

请帮我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-23T06:01:33.867

一个 API 密钥就足以完成所有这些操作 请访问[这里](https://developers.google.com/maps/documentation/android/start)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-23T06:11:34.620

在这里查看如何在您的应用中设置谷歌密钥

[http://www.remwebdevelopment.com/dev/a35/Android-How-To-Set-Up-an-API-Key-for-Google-Maps.html](http://www.remwebdevelopment.com/dev/a35/Android-How-To-Set-Up-an-API-Key-for-Google-Maps.html)

也见这里

[http://sanathnandasiri.blogspot.in/2011/04/obtaining-google-maps-api-key-for.html](http://sanathnandasiri.blogspot.in/2011/04/obtaining-google-maps-api-key-for.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-23T07:29:49.340

[您需要 1 个用于 google map Android API 的密钥](https://developers.google.com/maps/documentation/android/v1/mapkey)（运行 google map）

[和 1 个用于 google place API 的键](https://code.google.com/apis/console)（用于运行方向、距离、地理编码等）

# ruby-on-rails - 使用另一个模型的 ID 更新模型

> ID：14473362
> 
> 赞同：0
> 
> 时间：2013-01-23T05:57:27.770
> 
> 标签：ruby-on-rails, ruby, model, foreign-keys

认为这会有点简单，我可能会遗漏一些非常简单的东西。我想要一个视图上的下拉列表`teams/create`，让我可以为团队选择适当的部门，`id`其中的部门将放置在表格的`division_id`列中`teams`。

我有两个模型：

```
class Team < ActiveRecord::Base
   attr_accessible :city, :name
   belongs_to :divison
   has_many :players
end

class Division < ActiveRecord::Base
   attr_accessible :name
   has_many :teams
end 
```

以及随之而来的迁移：

```
create_table :divisions do |t|
  t.string :name

  t.timestamps
end

create_table :teams do |t|
  t.string :name
  t.string :city
  t.integer :division_id

  t.timestamps
end 
```

在视图中，下拉列表按预期工作：

```
<%= collection_select(:team, :division_id, Division.all, :id, :name) %> 
```

但是，当我提交表单时，该值没有放在`:division_id`. 相反，我得到一个`Can't mass-assign protected attributes: division_id`错误。从我所做的搜索中，我可以删除 attr_accessible，但这会带来安全漏洞。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-23T06:06:09.370

您需要在保存之前将 division_id 的值显式分配给对象。

```
@team = Team.new(params[:team]) # division_id is not set during mass-assignment
@team.division_id = params[:team][:division_id]
@team.save 
```

我认为它会解决你的问题。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-23T06:06:40.283

您可以在模型中修改您`attr_accessible`的`Team`：

```
attr_accessible :city, :name, :division_id 
```

我想在您的`TeamController` `create`操作中您只是在调用`Team.new(params[:team])`，这是对属性进行大量分配。对于要支持批量分配的每个属性，您需要在`attr_accessible`.

# map - 在 Hazelcast 中创建另一个地图功能？

> ID：14473364
> 
> 赞同：2
> 
> 时间：2013-01-23T05:57:36.747
> 
> 标签：map, cluster-computing, in-memory-database, hazelcast

当我在终端上运行 hazelcast 时，我使用 m.put 创建一个新的地图功能。我想创建另一个名称不同的地图功能。有可能这样做吗？是否有单独的命令来创建新的地图功能？请帮忙..！！提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-23T06:09:14.570

我自己从 Stackoverflow 得到了答案。！您可以使用命令 ns [the_map_name] //切换命名空间以使用分布式队列/map/set/list（默认为“default”）

m 不是地图的名称，它是命令的一部分。

例如，您有一张名为“students”的地图，并希望在该地图中添加一条新记录。你应该：

> ns 学生
> m.put(key, value)

# html - html div 位置和高度

> ID：14473366
> 
> 赞同：0
> 
> 时间：2013-01-23T05:57:51.210
> 
> 标签：html, css

我正在 MVC3 中设计和开发一个网站。我为我的网页创建了以下设计 - ![在此处输入图像描述](../Images/4752f99e36eab67186726512a481a9db.png)

对于上述设计，我编写了以下 html-

```
<div style="float:left;width:100%;" class="singleFloorContainer" id="SMfloor-@item.Id">
    @if (! string.IsNullOrEmpty(item.FloorNumber))
    {
    <div class="editFloorNumberBlock">
        <span class="editFloorNumber" style="padding-bottom:5px;">@item.FloorNumber</span>
        <span class="editBaseRate hideOverflow">@Html.TextBoxFor(modelItem => item.BaseRate, new { @style = "width:80%;", @onkeypress = "return isNumberKey(event)" })</span>
        <span style="bottom:5px;position:absolute;width:100%;">
         <span style="width:60%;position:absolute;bottom:15px;float:left;">@Html.TextBoxFor(model => item.FloorRise, new { @style = "width:80%;", @onkeypress = "return isNumberKey(event)" })</span>
        <span style="width:40%;position:relative;bottom:15px;float:right;color:#730209;">@calculatedFloorRise</span>
        </span>
        <div style="position:absolute;bottom:0px;" class="editFloorInfo" id="floorIdForEdit-@item.Id">
        <span style="position:relative;" class="linkSave" >Save</span>
        </div>
    </div>
    }
     <div style="float:left;width:92%;" class="WholeApartmentContainer">

    @foreach (var apt in item.Apartments.Where(a => a.IsDeleted != true))
    {

        <div class="apartmentContainer" style="float:left;min-width:22%;max-width: 22%;">
            @Html.Action("DisplayApartmentForSaleMapEdit", "Apartment", new { apartmentId = apt.Id, apartmentStatus = apt.Status })
        </div>
    }
     <div class="addApartmentDiv OtherLinkStyle" style="float:left;" id="floorId-@item.Id">+apartment</div>  
   </div>

   </div> 
```

当用户点击**+公寓**时，会添加新的空公寓块。最初我设置了公寓高度。之后用户可以在公寓中添加不同的元素，然后改变公寓的高度。

现在我的问题是新建公寓的位置。它没有以正确的方式向我展示设计。我应该在我的设计中改变什么然后我可以得到以下结果---

![在此处输入图像描述](../Images/ab3c73e9e56d7e9a5795544399b36607.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-23T06:05:27.423

根据您的屏幕截图，您可以**明确：**都给您的第 5 个 DIV。像这样写：

```
div:nth-child(4n+1){
    clear:both;
} 
```

检查这个[http://jsfiddle.net/rGaGq/1/](http://jsfiddle.net/rGaGq/1/)

**或者**

为了获得更好的结构，您也可以使用[http://masonry.desandro.com/](http://masonry.desandro.com/) 。

# google-apps-script - 跨电子表格（而非库）共享的 Google 电子表格脚本

> ID：14473368
> 
> 赞同：9
> 
> 时间：2013-01-23T05:57:53.483
> 
> 标签：google-apps-script, google-sheets

我已经对这个问题进行了大量搜索，我认为问题在于所有答案都导致了需要您创建库的解决方案。然后，我看到将该库添加到电子表格的唯一方法是为该电子表格创建一个新脚本并将其包含在内。

> 我想要的：一堆都包含一个主脚本的电子表格。每次更新脚本时，它们都会更新为使用最新的脚本。
> 
> 我所拥有的：15 个电子表格，都有原始脚本的副本。原始脚本已更改，现在看来我必须编辑`Copy of myScriptName`每个复制的电子表格中存在的每个调用的脚本。
> 
> 我做了什么：我创建了第一个电子表格，并从我在其脚本编辑器中创建的项目中编写了脚本。工作完美。然后，我为公司的每个部门制作了该电子表格的 14 个副本以供使用。

我如何才能共享脚本并在任何单独的电子表格本身之外对其进行管理？考虑到所有人都在寻找相同的答案，我必须在这里遗漏一些东西。我只是不明白使它成为一个库如何解决我的用例。

谢谢！

我看不出这有什么帮助，但根据评论的要求，这里是脚本：

```
function createRollupTable() {

  //Return if:
  //   There is only the account code parameters passed in with no quarterly info
  //   If the length of the account code parameters passed is empty
  if(arguments.length <= 1 || !arguments[0] || arguments[0].length <= 0) {
    return "";
  }

  var rollupTable = new Array();
  var fullListAccountCodes = arguments[0];

  //The first column of output is the full list of account codes for all the quarters
  rollupTable[0] = fullListAccountCodes;

  //Array to keep the YTD total for each account code
  var yearlyAccountCostOutput = new Array(fullListAccountCodes.length);

  //Iterate over all the quarters that were passed in
  for(var i=1;i<arguments.length;i++) {

    //This array should be set to the total length of the available account codes
    var quarterlyRollupCostOutput = new Array(fullListAccountCodes.length);
    var quarterlyBreakdown = arguments[i];
    var quarterIndexCounter = 0;
    var quarterTotalCost = 0;

    //Iterate over all the account codes
    for(var j=0;j<fullListAccountCodes.length && quarterIndexCounter<quarterlyBreakdown.length;j++) {

      //Find the one that matches the current account code for this quarter
      if(fullListAccountCodes[j] == quarterlyBreakdown[quarterIndexCounter][0]) {

        //Set the index of the output based on the full list so they align
        quarterlyRollupCostOutput[j] = quarterlyBreakdown[quarterIndexCounter][1];

        //Add this cost to the running total for the quarter
        quarterTotalCost += quarterlyBreakdown[quarterIndexCounter][1];

        //Add the total amount for the yearly rollup for that account code
        if(yearlyAccountCostOutput[j]) {
          yearlyAccountCostOutput[j] += quarterlyBreakdown[quarterIndexCounter][1];
        } else {
          yearlyAccountCostOutput[j] = quarterlyBreakdown[quarterIndexCounter][1];
        }

        //Increment the counter so we search for the next account code in the quarter
        quarterIndexCounter++;

      }
    }

    rollupTable[i] = quarterlyRollupCostOutput;

    //Add a blank row in the results for spacing
    rollupTable[i].push("");

    //Add the quarterly total cost
    rollupTable[i].push(quarterTotalCost);

  }

  //Add a blank row for spacing
  rollupTable[0].push("");

  //Google spreadsheet forces you to pad with non breaking spaces, no right align option available
  var spaces = "";
  var numSpaces = 66;
  for(var i=0;i<numSpaces;i++){spaces+=String.fromCharCode(160);};

  //Add a row for the Totals
  rollupTable[0].push(spaces + "Totals:");

  //Add the YTD column
  rollupTable.push(yearlyAccountCostOutput);

  return rollupTable;
} 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-24T02:40:00.423

也许您所要求的只是一种将主脚本中的内容准确复制到电子表格副本中的所有脚本的方法，以便替换它们的代码并跳过引用库的需要，但是我'将提供我对库设置如何工作的印象......

> 我看到将该库添加到电子表格的唯一方法是为该电子表格创建一个新脚本

当您制作已包含库引用脚本的电子表格副本时，它将与新副本保持一致。因此，在创建了一个要复制的电子表格模板后，您不必创建任何新脚本。

该电子表格模板应具有对主脚本的库引用。主人不需要在工作表内，你不应该复制原始/主脚本。

因此，我们有：[1 个主脚本](https://script.google.com/d/1f9XnYb1ivlo6Qr1hZM1jlxFstNQy4b3aDV5mRP_4ARFsXljgvfu5uuD1/edit)、[1 个具有引用主脚本的脚本的电子表格模板](https://docs.google.com/spreadsheet/ccc?key=0AmVkNbQMTnaCdEpwVDNSdW8yZGsxNE1pZkg5VGNMOHc)，然后是您想要 [的模板副本。](https://docs.google.com/spreadsheet/ccc?key=0AmVkNbQMTnaCdHBhOTAwSFo5c0UtczFOUHFaNEkzT3c)

现在，当您[设置库](https://developers.google.com/apps-script/guide_libraries)引用时，您可以选择在开发模式下将其连接到电子表格模板中。这将允许对主脚本中现有功能的任何更改立即影响模板副本（除非首先需要授权）。如果您采用这种方式，您可能需要先在主脚本的副本中测试您的更改。另一种选择是关闭开发模式，让模板副本的用户在每个脚本中手动更新他们的库版本（除非有一个我不知道的自动版本更新系统）。

这个设置仍然没有解决向主脚本添加一个全新的功能的问题，每个模板副本都需要引用。也许有人可以对此发表评论或提供单独的答案。

**[更新：2015 年 3 月 15 日]** 因此，将附加组件发布到 Chrome 网上应用店后，您可以安装一次附加组件并让它出现在您的所有表格/文档/表单中，我相信这是 OP 最初需要的. 推出新版本会更新所有使用它的 Google 文档。

[https://developers.google.com/apps-script/add-ons/](https://developers.google.com/apps-script/add-ons/)

# php - 将unicode转换为字符串php

> ID：14473369
> 
> 赞同：1
> 
> 时间：2013-01-23T05:58:34.857
> 
> 标签：php, json, utf-8, utf8-decode

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-25T19:58:03.000

您已经拥有的数据可能需要通过`utf8_decode()`（不是`utf8_encode()`）。

为了确保将来顺利航行，您应该确保您的整个管道是 UTF-8。可悲的是，这并非微不足道。在我的脑海中，需要检查的地方：

*   HTTP 守护进程的默认编码
    *   对于 Apache，添加到 .htaccess 或 httpd.conf：`AddDefaultCharset UTF-8`
*   PHP 的 default_encoding
    *   添加 .htaccess 或服务器配置：`php_value default_charset "UTF-8"`
*   HTTP 的标头内容类型字符集
    *   `header('Content-Type: text/html; charset=UTF-8');`
*   HTML 的元内容类型字符集
    *   `<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>`
*   PHP 的 MySQL 连接字符集
    *   `mysql_set_charset('utf8');`
*   MySQL 的数据库默认字符集和排序规则
    *   使用字符集`utf8`和排序规则`utf8_general_ci`
*   MySQL 的表和列字符集
    *   使用字符集`utf8`和排序规则`utf8_general_ci`

如果您需要输出可能包含不需要的 HTML 或 XML 的值，请使用`htmlentities($var, ENT_COMPAT, 'UTF-8');`而不是简单地使用`htmlentities($var);`

此外，`mb_*`尽可能使用函数，例如`mb_strlen()`和`mb_substr()`。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-01-23T06:05:02.953

将您的表格排序规则更改为`latin1_swedish_ci`

使用特殊字符，您还可以执行以下操作

用于显示来自 mysql 的数据

```
$str=html_entity_decode(stripslashes($rows[4])); 
```

用于将具有特殊字符的数据插入 mysql

```
$var_name=htmlentities(mysql_real_escape_string($detail)); 
```

# mysql - Rails 3 中的 MySql 使用 User.first 速度快，而使用 User.first(1) 速度慢 - 为什么？

> ID：14473376
> 
> 赞同：2
> 
> 时间：2013-01-23T05:59:01.473
> 
> 标签：mysql, ruby-on-rails, ruby-on-rails-3, rails-activerecord

我有一张桌子，里面有大约 500,000 个用户。当我使用我的 Rails 3.0 控制台并输入

```
User.first 
```

我立即得到结果。但是当我输入

```
User.first(1) 
```

这需要几秒钟。这可能是什么原因造成的？

注意：同样的事情发生在

```
User.last 
```

和

```
User.last(1) 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-23T06:27:00.493

我在 Erb (Rails 3.0.7) 中打开日志显示并产生以下结果

```
1.8.7 :004 > User.first
  User Load (4.3ms)  SELECT `users`.* FROM `users` LIMIT 1
 => #<User id: 1, email: "user@project.ru">
1.8.7 :005 > User.first(1)
  User Load (0.4ms)  SELECT `users`.* FROM `users`
 => #<User id: 1, email: "user@project.ru">
1.8.7 :008 > User.first(2)
  User Load (0.4ms)  SELECT `users`.* FROM `users`
 => [#<User id: 1, email: "user@project.ru", #<User id: 2, email: "user@gmail.com">] 
```

所以我们可以看到，当您`first`不带参数调用时，它按预期工作，但是当我们`first`使用`number`as 参数调用时，它会加载 DB 的所有用户，然后只`number`在 users 数组中保留元素。

在[最近的 Rails 代码](http://api.rubyonrails.org/classes/ActiveRecord/FinderMethods.html#method-i-first)中`first`看起来像这样

```
def first(*args)
  if args.any?
    if args.first.kind_of?(Integer) || (loaded? && !args.first.kind_of?(Hash))
      limit(*args).to_a
    else
      apply_finder_options(args.first).first
    end
  else
    find_first
  end
end 
```

所以还是可以的。但在[Rails 3.0.7 等旧版本](https://github.com/rails/rails/blob/827e5de60f27c6b559640eda7b79857050a72d9e/activerecord/lib/active_record/relation/finder_methods.rb#L114)中，它是：

```
def first(*args)
  if args.any?
    if args.first.kind_of?(Integer) || (loaded? && !args.first.kind_of?(Hash))
      to_a.first(*args)
    else
      apply_finder_options(args.first).first
    end
  else
    find_first
  end
end 
```

因此，您可以看到`first`参数是否为`Integer`ActiveRecord 加载所有数据，将其转换为数组并调用 Array 的`first`方法，该方法具有以下行为：[http ://www.ruby-doc.org/core-1.9.3/Array.html#method -我先来](http://www.ruby-doc.org/core-1.9.3/Array.html#method-i-first)

# asp.net - 根据单个表中的关键字选择相关文章

> ID：14473380
> 
> 赞同：1
> 
> 时间：2013-01-23T05:59:07.473
> 
> 标签：asp.net, sql-server, sql-server-2008, tsql

我正在开发一个网络项目，该项目在其中一个页面上显示文章详细信息，另一方面，我还需要显示基于`keywords`或的前 5 篇相关文章`tags`。

我不确定如何使用 T-SQL 完全做到这一点，而不是从后面的代码中进行部分处理。

我使用 FUNCTION 拆分我的关键字并将结果传递给其他查询以获得对我不起作用的所需结果。

```
CREATE TABLE Article
(
 ArticleID int,
 Title varchar(200),
 Description varchar(500),
 Details nvarchar(MAX),
 keywords varchar(100)
 )

INSERT INTO Article VALUES(1, 'Article One','Article desc', 'article details', 'one,two,three')
INSERT INTO Article VALUES(2, 'Article Two','Article desc', 'article details', 'two,three,four')
INSERT INTO Article VALUES(3, 'Article three','Article desc', 'article details', 'three,four,five')
INSERT INTO Article VALUES(4, 'Article four','Article desc', 'article details', ',four,five,six')
INSERT INTO Article VALUES(5, 'Article five','Article desc', 'article details', 'two,three')
INSERT INTO Article VALUES(6, 'Article six','Article desc', 'article details', 'eight, nine')
INSERT INTO Article VALUES(7, 'Article six','Article desc', 'article details', 'ten, nine')
INSERT INTO Article VALUES(8, 'Article six','Article desc', 'article details', 'eleven, eight') 
```

功能

```
CREATE FUNCTION [dbo].[uf_SplitKeywords] 
   (  @DELIMITER VARCHAR(5), 
      @LIST      VARCHAR(MAX) 
   ) 
   RETURNS @TABLEOFVALUES TABLE 
      (  ROWID   SMALLINT IDENTITY(1,1), 
         [VALUE] VARCHAR(MAX) 
      ) 
AS 
   BEGIN

      DECLARE @LENSTRING INT 

      WHILE LEN( @LIST ) > 0 
         BEGIN 

            SELECT @LENSTRING = 
               (CASE CHARINDEX( @DELIMITER, @LIST ) 
                   WHEN 0 THEN LEN( @LIST ) 
                   ELSE ( CHARINDEX( @DELIMITER, @LIST ) -1 )
                END
               ) 

            INSERT INTO @TABLEOFVALUES 
               SELECT SUBSTRING( @LIST, 1, @LENSTRING )

            SELECT @LIST = 
               (CASE ( LEN( @LIST ) - @LENSTRING ) 
                   WHEN 0 THEN '' 
                   ELSE RIGHT( @LIST, LEN( @LIST ) - @LENSTRING - 1 ) 
                END
               ) 
         END

      RETURN 

   END 
```

**我需要的？**

显示 id 为 3 的文章

```
SELECT ArticleID, Title, Keywords FROM Article WHERE ArticleID = 3 
```

然后我需要根据`three,four,five` 来自所选文章的关键字显示相关文章，因为在这种情况下应该是文章，`articleid=3` 在这种情况下结果应该显示 ID 为 1、2、3、4、5 的文章，因为关键字仅与这些行匹配。

我正在尝试通过以下不起作用的查询来实现这一点

```
SELECT TOP 5 ArticleID, Title, Keywords FROM Articles WHERE Keywords IN
(SELECT '''%'+ VALUE+ '%''' AS VALUE FROM [uf_SplitKeywords] (',', 'one,two,three')) 
```

我将不胜感激这方面的帮助。

[sqlFiddle](http://sqlfiddle.com/#!3/5836f)上的示例由于某种原因我无法创建上面在 sqlFiddle 上提到的 FUNCTION。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-23T06:56:57.860

```
Alter FUNCTION [dbo].[uf_SplitKeywords] 
   (  @DELIMITER VARCHAR(5), 
      @LIST      VARCHAR(MAX) 
   ) 
   RETURNS @TABLEOFVALUES TABLE 
      (  ROWID   int IDENTITY(1,1), 
         [VALUE] VARCHAR(MAX) 
      ) 
AS 
   BEGIN
   Declare @Pos int
   While LEN(@List) > 0
      begin
        Select @Pos=CHARINDEX(@Delimiter,@List,1)      
        if @Pos>0
           begin
             Insert into @TABLEOFVALUES ([Value]) Values (SubString(@List,1,@Pos -1))
             Select @LIST = STUFF(@List,1,@Pos ,'')
           end
        else  
            begin
            Insert into @TABLEOFVALUES ([Value]) Values (@List)
            Select @LIST =''
            end  
      end
   Return 
   End 
```

通过调用

```
Select Distinct b.ArticleID,b.Title,b.Description,b.Details,b.KeyWords from
(
Select * from Article a1 
CROSS APPLY [dbo].[uf_SplitKeywords](',',keywords) f1
Where a1.ArticleID=3
) a
Join
(
Select * from Article a2 
CROSS APPLY [dbo].[uf_SplitKeywords](',',keywords) f2
) b
on a.Value=b.Value 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-23T07:01:40.000

如果我理解正确，您有一篇带有“关键字”和“标签”的文章。您想显示具有相同“关键字”或“标签”的相关文章。

从概念上讲，您需要修改数据库表的设计。您可以创建一个新表 Article_Keywords，将 ArticleID int 作为外键约束，将另一列关键字作为 varchar，而不是将关键字作为 varchar(100) 插入到 Article 表中。

然后您可以根据文章 ID 加入表格。所以 Article_Keywords 看起来像：

## 最佳实践解决方案

## 不允许在 ID 列上使用 Null

```
alter TABLE Article
alter column ArticleID int not null 
```

## 将主键添加到 ID 列以与其他表建立索引和联接

```
alter TABLE Article
add constraint PK_ArticleID PRIMARY KEY (ArticleID) 
```

## 创建新表格文章关键字

```
create table Article_Keywords
(
    [ArticleID] int not null,
    [Keywords] nvarchar(100),
    Foreign key ([ArticleID]) References Article(ArticleID),
) 
```

## 插入数据

```
insert into [Article_Keywords] Values (1,'one'),(1,'two'),(1,'three');
insert into [Article_Keywords] Values (2,'two'),(2,'three'),(2,'four');
insert into [Article_Keywords] Values (3,'three'),(3,'four'),(3,'five');
insert into [Article_Keywords] Values (4,'four'),(4,'five'),(4,'six'),(5,'two'),(5,'three'),(6,'eight'),(6,'nine'),(7,'nine'),(7,'ten'),(8,'eleven');

delete from Article_Keywords where [ArticleID] = [Keywords]

SELECT
    DISTINCT AK1.ArticleID
FROM Article_Keywords AK1
WHERE EXISTS (
SELECT AK2.Keywords from Article_Keywords AK2
WHERE AK2.[ArticleID] = 3 AND AK1.[KEYWORDS] = AK2.[KEYWORDS]
) 
```

## 然而，如果你觉得有必要沿着你要去的方向走，你可以使用光标（不建议）：

创建一个临时表来存储所有相关文章

```
IF ( OBJECT_ID('tempdb.dbo.#RelatedArticles') IS NOT NULL ) DROP TABLE #RelatedArticles
CREATE TABLE #RelatedArticles (
    ArticleID int
);

DECLARE @VALUE NVARCHAR(100)
DECLARE Keyword_Cursor Cursor For 
```

## 使用 [uf_SplitKeywords] 从 Article 表中提取关键字

```
SELECT [Value] FROM [uf_SplitKeywords] (',',(SELECT [KEYWORDS] FROM ARTICLE WHERE ARTICLEID = 3))

OPEN Keyword_Cursor

FETCH NEXT FROM Keyword_Cursor into @VALUE

WHILE @@FETCH_STATUS = 0
BEGIN

    insert into #RelatedArticles
    SELECT [ArticleID] from Article
    where [keywords] like (SELECT '%' + @VALUE +  '%');

    FETCH NEXT FROM Keyword_Cursor into @VALUE
END

CLOSE Keyword_Cursor
DEALLOCATE Keyword_Cursor

SELECT DISTINCT ArticleID from #RelatedArticles 
```

比较这两种方法，您会发现在设计复杂项目时，拥有更好的数据库设计将为您节省更多时间。

# r - 如何在 R 中聚合数据框？

> ID：14473383
> 
> 赞同：0
> 
> 时间：2013-01-23T05:59:13.890
> 
> 标签：r, dataframe

我有一个这样的数据框：

```
user event score
1      2     0.5
1      3     0.2
2      3     0.7
3      1     0.9
3      4     0.1 
```

我想得到结果：

```
user event
1    2,3
2    3
3    1,4 
```

我怎样才能在 R 中做到这一点？
有时，我认为 R 在 Java 或 Python 等编程语言中缺乏基本数据结构，这让我的工作不方便。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-23T06:02:57.813

假设您`data.frame`被称为`mydata`，请执行以下操作：

```
aggregate(event ~ user, mydata, I) 
```

获取保留数字表示的列表或

```
aggregate(event ~ user, mydata, paste, collapse = ", ") 
```

它粘贴值以创建字符向量。

以下是如何以不同方式存储它们的演示：

```
x1 <- aggregate(event ~ user, mydata, paste, collapse =",")
x2 <- aggregate(event ~ user, mydata, I)
x1$event
# [1] "2,3" "3"   "1,4"
x2$event
# $`0`
# [1] 2 3
# 
# $`1`
# [1] 3
# 
# $`2`
# [1] 1 4
# 
```

我个人更喜欢使用`I`to，`paste`以便以后需要时可以`lapply()`在该列上使用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-23T06:26:03.373

```
 data.frame(user=unique(dat$user), event=tapply(dat$event, dat$user, c)  )
#
  user event
1    1  2, 3
2    2     3
3    3  1, 4 
```

# iphone - 消息系统和APNS

> ID：14473385
> 
> 赞同：1
> 
> 时间：2013-01-23T05:59:29.880
> 
> 标签：iphone, push-notification, apple-push-notifications

我需要为消息系统创建一个 iphone 应用程序。如果一个用户向另一个用户发送消息，设备需要经常与服务器检查是否有消息，它会消耗更多电池。

是否可以在我的项目中使用 Apple 推送通知系统从服务器的用户之间发送消息？

非常感谢您的帮助，谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-25T11:17:23.103

是的。事实上，由于您只能在用户设备上打开应用程序时轮询 iOS 上的服务器，所以我认为您没有太多选择。基本设置是在您的应用程序中启用 APNS 并遵循这种流程：

1.  在启动时注册设备的推送令牌（假设用户 A 和用户 B）
2.  当用户 A 向用户 B 发送消息时，用户 B 可能会或可能不会打开应用程序。用户 A 的消息应该通过您的 Web 服务，该服务向用户 B 发送推送通知。如果用户 B 打开了应用程序，应用程序应该拦截通知并处理它包含的任何信息 - 也许它包含实际消息，也许它包含只是他的设备应该检查新消息的信号。如果用户 B 没有打开应用程序，通知应该出现在屏幕上，并带有一些基本文本，通知他用户 A 已发送消息。

# ios - Objective-C - 将 self 的引用传递给子对象

> ID：14473386
> 
> 赞同：0
> 
> 时间：2013-01-23T05:59:35.600
> 
> 标签：ios, objective-c, macos, reference

我正在开发一个需要将引用传递`self`给子对象的Objective-C。例如，在 Java 中，如果我要在一个方法中执行此操作，我可以说`room.place(this);` 如何在 Objective-C 中执行类似的操作。我知道我可以`self`作为方法参数传递，但子对象需要传递`#import`给另一个类，当它们相互导入时，我开始出错。任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-23T06:05:52.833

如果两个类需要相互导入头文件，可以使用前向声明。

它的工作方式是在子头文件中，您可以像这样设置它：

```
@class MyParentClass;  // This is the forward declaration.

@interface MyChildClass
@property (nonatomic, strong) MyParentClass *parent;
@end 
```

在子 .m 文件中，你会`#import "MyParentClass.h"`像往常一样。在 MyParentClass.h 中，您可以`#import "MyChildClass.h"`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-23T06:01:47.410

你不`#import`上课。你`#import`是一个文件——总是一个标题。每个类的 .m 文件都应该导入另一个类的 .h 文件，它会正常工作。

# python - Python 中的正则表达式未获取所有匹配项，但第三方正则表达式测试器成功

> ID：14473398
> 
> 赞同：0
> 
> 时间：2013-01-23T06:01:03.010
> 
> 标签：python, regex

我有一个类似的字符串：

```
### init.sh [bash]
#!/c/Progra~2/Git/bin/sh.exe
git commit -am "[$1] $2"; git push 
```

我一直在尝试匹配“init.sh”和“[bash]”，并且我有一个在[RegExr](http://gskinner.com/RegExr/)上可以正常工作的正则表达式字符串，但在 Python 中不起作用。

正则表达式字符串是`^(?<!\\)###\s*(.*?)(?:\[(.+?)\])?\s*$(?m)`，我正在通过

```
for match in _section_marker_re.finditer(code):
    filename, lang = match.groups() 
```

我要对其进行正则表达式的字符串在哪里，`_section_marker_re`是哪里。`re.compiled(regex)``code`

Python在这里可能会发生什么？

**编辑**：我正在使用 Python 2.7.3 并且 VERBOSE 没有打开。

**编辑 2**：使用此字符串的代码如下所示：

```
def highlight_multifile(code):
    """Multi-file highlighting."""
    result = []
    last = [0, None, 'text']

    def highlight_section(pos):
        start, filename, lang = last
        section_code = _escaped_marker.sub('', code[start:pos])
        if section_code:
            result.append(u'<div class="section">%s%s</div>' % (
                filename and u'<p class="filename">%s</p>'
                    % escape(filename + ' - ' + lang) or u'',
                highlight(section_code, lang)
            ))

    for match in _section_marker_re.finditer(code):
        start = match.start()
        highlight_section(start)
        filename, lang = match.groups()
        if lang is None:
            lang = get_language_for(filename)
        else:
            lang = lookup_language_alias(lang)
        last = [match.end(), filename, lang]

    highlight_section(len(code))

    return u'<div class="multi">%s</div>' % u'\n'.join(result) 
```

我使用 _escaped_marker as `re.compile(r'^\\(?=###)(?m)')`，这标志着下一部分的开始。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-23T06:50:28.697

这个正则表达式似乎工作正常：

```
>>> regex = re.compile(r'^###\s*([^\[]+?)\s+(?:\[(.*?)\])?\s*', re.MULTILINE)
>>> text = """###init.sh [bash]
... #! c/Progra~2/Git/bin/sh.exe
... git commit -am "[$1] $2"; git push"""
>>> text2 = text.replace('[bash]', '')   #[bash] omitted
>>> regex.match(text).groups()
('init.sh', 'bash')
>>> regex.match(text2).groups()
('init.sh', None) 
```

**编辑：**即使你的正则表达式也会给出相同的结果。可能您应该提供更多输入数据以了解它失败的原因。

```
>>> regex2 = re.compile(r'^(?<!\\)###\s*(.*?)(?:\[(.+?)\])?\s*$', re.MULTILINE)
>>> regex2.match(text).groups()
('init.sh ', 'bash')
>>> regex2.match(text2).groups()
('init.sh', None) 
```

# struts2 - 需要布尔转换器 Struts2 来表示是、否、空白值

> ID：14473399
> 
> 赞同：4
> 
> 时间：2013-01-23T06:01:08.250
> 
> 标签：struts2, boolean

我需要根据在 UI 表单元素上选择的值保存数据

```
<s:select key="invoice.productSold" list="${productSold}" /> 
```

productSold 值下拉列表“”（空白）、“是”、“否”。

我的布尔转换器

```
public class BooleanConverter extends StrutsTypeConverter {

@Override
/*From form*/
public Object convertFromString(Map context, String[] values, Class toClass) {
        String value = values[0];
        if (value == "") {
            System.out.println("null");
                return null;
        }
        if ("No".equalsIgnoreCase(value) || "0".equals(value)) {
                return "false";
        } else if ("Yes".equalsIgnoreCase(value) || "1".equals(value)) {
                return "true";
        } else {
            return null;
        }
}

@Override
public String convertToString(Map context, Object o) {
        Boolean value = (Boolean) o;
        return String.valueOf(value);
}

}

public class Invoice{

Boolean productSold;
<getter>
<setter>
} 
```

### 问题

1.  我的表单下拉菜单选择“是”并更新；更新后我的下拉菜单未显示“是”。它显示为空白。
2.  在表单上选择“是”时 ConvertFromString 方法返回“true”，而 ConverToString 方法返回“false”。

### 动作类

* * *

```
public UpdateAction extends ActionSupport{
protected List<String> productSold;
public List<String> getProductSold() {
    List<String> myOptions= new ArrayList<String>();
       myOptions.add("");
       myOptions.add("Yes");
       myOptions.add("No");

    return myOptions;
} 
```

* * *

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-23T09:36:05.780

您不需要自定义布尔转换器，使用 Struts2 国际化功能来获取布尔值的“好”文本。将`true = Yes`and`false = No`放到您的消息属性中，然后使用标签的`listValue`属性`<s:select>`来调用`getText`方法来获取`true`and的消息`false`。

```
<s:select key="invoice.productSold" list="productSold" listValue="%{getText(top)}"/> 
```

顺便说一句，您不需要在`list`属性内使用任何“特殊”符号来从值堆栈中获取值。

BTW no.2：您不需要`productSold`在操作中使用此方法，而是可以在 JSP 中使用列表的 OGNL 表示法定义您的是/否列表`{...}`。

```
<s:select key="invoice.productSold" list='{"", true, false}' listValue="%{getText(top)}"/> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-23T10:42:01.840

尝试这个：

```
public UpdateAction extends ActionSupport{
    protected Map<Object, String> productSold;
    public Map<Object, String> getProductSold() {
        Map<Object, String> myOptions= new HashMap<>();
           myOptions.put(null, "");
           myOptions.put(Boolean.TRUE, "Yes");
           myOptions.put(Boolean.FALSE, "No");
        return myOptions;
} 
```

在 JSP 中：

```
<s:select key="invoice.productSold" listKey="productSold.key"
          listValue="productSold.value"/> 
```

# javascript - window.opener.focus() 在 firefox 中不起作用。有什么解决方法吗？

> ID：14473407
> 
> 赞同：1
> 
> 时间：2013-01-23T06:01:53.590
> 
> 标签：javascript, html, focus

我正在使用以下代码从子窗口调用父页面 javascript 函数以在父页面上显示警报，然后关闭子窗口

```
 window.opener.CallAlert("test is"+test);
     window.opener.focus();
     self.close(); 
```

发生的事情是警报出现在父窗口上，但焦点仍然在 Firefox 中的子窗口上。用户需要明确地转到父窗口。虽然它在 IE、Chrome 上像魅力一样工作

一切都很好，但是一旦我从子窗口调用 window.opener.CallAlert()，我希望专注于父窗口。 **任何解决方法（如果我可以隐藏这样的子窗口）？**

我尝试[了 FF5+ 中 window.opener.focus() 问题中](https://stackoverflow.com/questions/7281758/window-opener-focus-problem-in-ff5)建议的解决方案（工具->选项->内容->高级...（在“启用 JavaScript”行中）->检查“提升或降低窗口”）但确实如此也不行

# tridion - 从 SDL Tridion 5.3sp1 到 2011sp1 的 Tridion 迁移问题

> ID：14473408
> 
> 赞同：4
> 
> 时间：2013-01-23T06:01:55.037
> 
> 标签：tridion, tridion-2011, tridion2009

我们必须将 Tridion 5.3sp1 迁移到 2011sp1，

如果有人对这种迁移有一些经验，

我们只使用以下功能。

*   DWT（我没有看到太多变化）
*   汤姆网
*   汤姆（TDSE类）

什么都需要改变？什么是疼痛区域？

我在哪里可以在线获取更多信息？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-23T06:19:23.923

痛点取决于您的实施，因此您首先需要专家或 sdl 专业服务或合作伙伴的[升级扫描](https://www.google.co.uk/url?sa=t&rct=j&q=&esrc=s&source=web&cd=4&cad=rja&ved=0CEoQFjAD&url=http://cn.sdlx.com/de/Images/SeB_UpgradeScan_US-EN_tcm17-41197.pdf&ei=NIH_UO2_Heab1AWB24GQDQ&usg=AFQjCNE8NA4QhHgiRmqoxLhLgt8-0IahAg&sig2=GlXW34M91AS2ru6yNxl6YQ)。

这是您可能想阅读的好[清单。](http://www.tridionarchitect.com/tridion/upgrading-tridion.aspx)

核心服务[代码](http://code.google.com/p/tridion-practice/wiki/GetCoreServiceClientWithoutConfigFile)

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-01-23T13:48:20.473

根据我目前的经验：

*   TOM 代码仍然有效。您应该重写它以使用 CoreService 代替，但它不一定是优先级，您可以在升级*后执行此操作。*无论如何，您确实应该这样做，因为它创建了对 Tridion 正在逐步淘汰的 COM+ 的依赖。据我所知，COM+ 在下一个 Tridion 版本中将是可选的，并且可能在之后的版本中根本不可用。
*   模板上的 TOM.NET*可能*只是工作，但我认为`Filter`从 5.3 到 2009 对类进行了一些更改。您可能需要在它再次编译之前做一些小的更改，没什么太严重的。
*   DWT：没有任何改变

我发现的最大问题与事件系统有关。如果您确实有旧的 COM+ 事件系统，它仍然受支持，但不升级到新的基于 TOM.NET 的事件系统的成本很快就会显现出来。Tridion 2011 的 COM+ 错误/内存不足问题比以前更快地出现，就像 COM 到 .NET 编组随着时间的推移变得越来越不宽容。

正如 Vikas 所说，最好的方法是让以前做过升级扫描的人进行升级扫描，他们知道问题所在，并且经常会发现您甚至不知道它们已经到位的扩展，例如 Deployer 扩展和“晦涩的”事件系统或自定义页面（或者，从旧的 R5 时代开始，GUI hacks）。

# jbpm - JBPM 5 - 人工任务“召回”

> ID：14473411
> 
> 赞同：2
> 
> 时间：2013-01-23T06:01:56.550
> 
> 标签：jbpm

我有一个业务流程要求，请求者应该能够“调用”他提出的工作流案例。

流量就像，

```
 Start ---> Requestor ----> Approver -----> Updater -----> End 
```

Requestor 、 Approver 、 Updater 是人工任务。

因此，在 Requestor 任务完成并转到 Approver 任务后（如果它没有开始），请求者应该能够“召回”流程实例，并且流程应该返回到 Requestor。

我了解批准人“人工任务”的工作项目将可用。如果我中止该工作项（内部任务退出），流程会返回到“请求者”吗？

如果它不会回流，我想知道我是否可以在流程定义中添加一些信号处理程序并中止。

```
 Start ---(signal handler to abort Approver task)----> Requestor ----> Approver -----> Updater -----> End 
```

环境：JBoss 7.1.0、JBPM 5.4.0.Final、Drools 5.5.0.Final、Spring 3.0.6.RELEASE

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-23T13:07:11.007

我看到了用“**[附加](http://en.bpmn-community.org/tutorials/10/)的中间事件**”来实现这个要求的可能性。我已将“中间事件”附加到“批准者”任务，并且在该事件中，流程返回到“请求者”。

所以流量变成

```
Start -------> Requestor ----> Approver (signal handler to go back to Requestor) -----> Updater -----> End 
```

当我将该事件发送到“批准者”任务中的流程实例时，流程返回到请求者并创建了新任务。

但“ **Approver** ”任务仍处于“ *Ready* ”状态，如何处理？它必须在此信号上***完成/退出。***怎么做？

**更新1：**

**我能够使用“Signal Intermediate Event”的“ CancelActivity** ”属性退出任务/活动。因此，在接收到信号时，“Approver”任务是“Exited”并且流程返回到“Requestor”任务。![在此处输入图像描述](../Images/1d23662948325b8ca768a7e14395a73e.png)

# php - 将 mysql 调用/发布到表中

> ID：14473412
> 
> 赞同：1
> 
> 时间：2013-01-23T06:02:00.293
> 
> 标签：php, html, mysql

我试图让它查看 mysql 行，如果行左相等，则绘制此表。

块具有以下内容： `id`, `title`, `file`,`side`

* * *

```
$queryblocks = mysql_query("SELECT * FROM blocks ORDER BY id") or die(mysql_error());
while($data = mysql_fetch_array($queryblocks)) {

//select blocks
$blocktitle = $data["title"];
$blockcontent = $data["file"];
$blockside = $data["side"];
}

if($blockside = "Left"){
//START LEFT BLOCKS
echo "<table bgcolor=\"#141414\" width=\"150\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\" valign=\"left\">
<tr>
<td width=\"150\" height=\"22\" background=\"cpstyles/TeamofGoD/sidebar.gif\"><center><font color=\"#ffffff\">$blocktitle</font><center>
</td>
</tr>
<tr>
<td width=\"150\" background=\"cpstyles/TeamofGoD/block-bg.gif\"><center>$blockcontent</center>
</tr>
<tr>
<td width=\"150\"><center><img src=\"cpstyles/TeamofGoD/sidebar2.gif\"></center></td>
</tr>
</table><br>";
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-23T06:06:42.360

尝试这个：

```
while($data = mysql_fetch_array($queryblocks)) {

//select blocks
$blocktitle = $data["title"];
$blockcontent = $data["file"];
$blockside = $data["side"];

if($blockside = "Left"){
//START LEFT BLOCKS
echo "<table bgcolor=\"#141414\" width=\"150\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\" valign=\"left\">
<tr>
<td width=\"150\" height=\"22\" background=\"cpstyles/TeamofGoD/sidebar.gif\"><center><font color=\"#ffffff\">$blocktitle</font><center>
</td>
</tr>
<tr>
<td width=\"150\" background=\"cpstyles/TeamofGoD/block-bg.gif\"><center>$blockcontent</center>
</tr>
<tr>
<td width=\"150\"><center><img src=\"cpstyles/TeamofGoD/sidebar2.gif\"></center></td>
</tr>
</table><br>";
}
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-23T06:11:23.097

您需要将条件和表格代码放入 while 循环中。或者您可以只在条件和循环之间来回跳转/转到部分，这有点难看。

# mysql - 有没有更好的方法来访问数据库中数百条不同的记录？

> ID：14473413
> 
> 赞同：2
> 
> 时间：2013-01-23T06:02:05.347
> 
> 标签：mysql, select

我将使用此 select 语句按名称从数据库（MySQL）中读取记录：

```
select * from table where name = 'xxx' 
```

但是我在一个http请求中有数百个名字，所以如果我使用上面的语句，我必须发出数百个select。或者我只是使用 MySQL`select .. in`来减少 sql 调用。

但是还是太慢了。那么，有更好的方法来实现我的目的吗？提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-23T06:30:39.537

如果您在 where 条件下使用，您应该在“名称”上有索引。如果您有更多条件，请尝试找出更多哪些列可以具有索引。

第二件事使用 IN 查询它将解决最小化您的数据库调用。

```
select * from table where name IN ( 'xxx', 'syz', 'abc',....); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-23T06:31:00.483

我认为，如果您将总名称分成块，然后在 select 语句中使用这些块，您的问题将得到解决。让我们说

```
$names = array($n1,$n2...);
$totalnames = count($totalnames);
$chunksize = 50;   
$totalChunks = ceil($totalnames/$chunksize);
for($i=0;$i<$totalChunks;$i++)
{
  $j = $chunksize*$i;
  for($k=$j;$k<=$j;$k++)
  {
    select statement with in
   }
} 
```

# http - Erlang 的 Persistent/Keepalive HTTP 客户端实现

> ID：14473416
> 
> 赞同：1
> 
> 时间：2013-01-23T06:02:31.997
> 
> 标签：http, erlang, keep-alive

我对 Erlang inets 的 keep-alive 功能以及 ibrowse http 客户端（最新版本）感到困惑。根据[RFC](https://www.rfc-editor.org/rfc/rfc2616#section-8.1)：

```
8.1.2.2 Pipelining   
   A client that supports persistent connections MAY "pipeline" its
   requests (i.e., send multiple requests without waiting for each
   response). A server MUST send its responses to those requests in the
   same order that the requests were received.

   Clients which assume persistent connections and pipeline immediately
   after connection establishment SHOULD be prepared to retry their
   connection if the first pipelined attempt fails. If a client does
   such a retry, it MUST NOT pipeline before it knows the connection is
   persistent. Clients MUST also be prepared to resend their requests if
   the server closes the connection before sending all of the
   corresponding responses.

   Clients SHOULD NOT pipeline requests using non-idempotent methods or
   non-idempotent sequences of methods (see section 9.1.2). Otherwise, a
   premature termination of the transport connection could lead to
   indeterminate results. A client wishing to send a non-idempotent
   request SHOULD wait to send that request until it has received the
   response status for the previous request. 
```

有两种模式，'pipeline' 和 'keep-alive'，基于持久连接，它们的区别在于当使用 'pipeline' 时，可以在同一个连接上发送请求，而无需等待前一个的响应. 换句话说，当使用“keep-alive”时，我们应该在同一连接上发送其他请求之前等待每个响应。

结果，我认为“keep-alive”实现应该是这样的：

```
%% each httpc_handler(gen_server) maintains a persistent connection 
%% with type of keep-alive
httpc_handler:handle_request(Request, keepalive) ->
        %% check if there is request not finished yet
        case is_there_old_request()  of
            true -> queue:in（RQueue, Request);
            %% then send the request
            false -> gen_tcp:send(Request)
        end.

httpc_handler:handle_response(Response) ->
    send_back(Response)，
    case queue:out(RQueue) of
        undefined -> ...;
        %% send the next request
        Request -> gen_tcp:send(Request), ...
    end. 
```

但实际上 inets 和 ibrowse 的实现是这样的：

```
 httpc_handler:handle_request(Request, keepalive) ->
            %% send without check
            gen_tcp:send(Request),
            case is_there_old_request()  of
                true -> queue:in（RQueue, Request);
                false -> ...
            end.

 httpc_handler:handle_response(Response) ->
        send_back(Response)，
        case queue:out(RQueue) of
            undefined -> ...;
            Request -> receive_next_response
        end. 
```

我认为这实际上是没有幂等限制的“管道”模式。

那么，我错过了代码中的某些内容，或者只是误解了 RFC？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T14:26:24.960

这个问题已经被[`inets httpc: Corrected separation of pipelining and ..`](https://github.com/erlang/otp/commit/d3e737dd9034e693203d7907797c0df8af6100e9)Erlang/OTP R16 中的 commit 解决了。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T04:16:24.960

看了最新的OTP源码，幂等逻辑其实在`httpc_manager:select_session`. 如果请求不是幂等的，则返回`no_connection`，提示系统创建新连接。整个过程中还散布着更多逻辑，但我确实确定了用于处理流水线和保持活动的单独函数`httpc_handler`。

# c++ - C 代码中的 C4201 警告

> ID：14473420
> 
> 赞同：6
> 
> 时间：2013-01-23T06:03:00.777
> 
> 标签：c++, c

此警告会在运行时产生任何问题吗？

ext.h(180)：警告 C4201：使用了非标准扩展：无名结构/联合

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-01-23T06:09:13.530

这是当您有一个没有名称的联合或结构时，例如：

```
typedef struct
{
    union
    {
        int a;
        int b;
    }; // no name
    int c;
} MyStruct;

MyStruct m;
m.a = 4;
m.b = 6; //overwrites m.a
m.c = 8; 
```

它允许您访问联合的成员，就好像他们是结构的成员一样。当您给联合命名时（这是标准所要求的），您必须访问`a`并`b`通过联合名称来代替：

```
typedef struct
{
    union
    {
        int a;
        int b;
    } u;
    int c;
}

MyStruct m;
m.u.a = 4;
m.u.b = 6; // overwrites m.u.a
m.c = 8; 
```

只要您使用共享此扩展的编译器编译代码，这不是问题，仅当您使用不共享此扩展的编译器编译代码时才会出现问题*，*并且由于标准不需要这种行为，因此编译器是自由拒绝此代码。

**编辑：**正如 andyn 所指出的，C11 明确允许这种行为。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-23T06:06:02.903

嗯，这是一个 MSVC 警告，它告诉您您正在使用编译器特定的语言扩展。所以你可以**[检查一下](http://msdn.microsoft.com/en-us/library/c89bw853%28v=vs.71%29.aspx)**。

> **使用的非标准扩展：无名结构/联合**
> 
> 在 Microsoft 扩展 (/Ze) 下，您可以将不带声明符的结构指定为另一个结构或联合的成员。这些结构在 ANSI 兼容性 (/Za) 下会产生错误。

```
// C4201.cpp
// compile with: /W4
struct S
{
   float y;
   struct
   {
      int a, b, c;  // C4201
   };
} *p_s;

int main()
{
} 
```

如果您不关心代码的可移植性。即：您的目标平台只是 MSVC，然后简单地忽略警告。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-23T06:06:39.743

不，它不会产生任何问题，它只是意味着您的代码不符合标准，这意味着它可能无法与其他一些编译器一起编译。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-23T06:06:43.617

只要它受编译器支持，它*应该*可以正常工作，直到您决定移植到新平台（或使用新编译器），或者他们撤回支持。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-23T06:07:06.063

[你可能和他](https://stackoverflow.com/questions/8845911/how-can-i-prevent-a-nameless-struct-union)有同样的问题

只需为您的结构/联合命名

例如

```
struct mystruct {
   ...
} 
```

# actionscript-3 - 在 flex byteArray 中追加字节

> ID：14473424
> 
> 赞同：0
> 
> 时间：2013-01-23T06:03:32.807
> 
> 标签：actionscript-3, actionscript, air, flex4, bytearray

我有五个视频文件，如 video-1.flv、video-2.flv、video-3.flv、video-4.flv、video-5.flv。我阅读了第一个 video-1.flv 并使用以下代码将其存储在 byteArray 中：

```
private var byteArray = new byteArray();
byteArray = readFile(VIDEO-FILE-PATH);

private function readFile(fileName:String):ByteArray
{
    var data:ByteArray = new ByteArray();
    var inFile:File = File.applicationDirectory; // source folder is application
    inFile = inFile.resolvePath(fileName);  // name of file to read
    var inStream:FileStream = new FileStream();
    inStream.open(inFile, FileMode.READ);
    inStream.readBytes(data, 0, data.length);
    inStream.close();

    return data;
} 
```

现在我想在同一个 byteArray 中读取和存储从 video-2.flv 到 video-5.flv 的下一个视频。

我怎样才能做到这一点。任何代码示例或网络链接将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-23T07:41:34.387

您可以对所有文件使用相同的 byteArray，数据将自动附加，只需将缓冲区传递给`readFile`方法并删除`data.length`（在第一次读取时它为 0，因此您读取所有可用数据，在接下来的读数中，这将当然读取新文件所有 previuse 缓冲区的长度）`inStream.readBytes(data, 0, data.length);`。例子：

```
var buffer:ByteArray = new ByteArray();
for(var i:int = 1; i < 6; i++)
{
    readFile("video-"+i+".flv", buffer);
}

private function readFile(fileName:String, buffer:ByteArray):ByteArray
{
    var inFile:File = File.applicationDirectory; // source folder is application
    inFile = inFile.resolvePath(fileName);  // name of file to read
    var inStream:FileStream = new FileStream();
    inStream.open(inFile, FileMode.READ);
    inStream.readBytes(buffer);
    inStream.close();

    return buffer;
} 
```

# lucene.net - IndexWriter 和 IndexSearcher 的单例模式 Lucene.net

> ID：14473427
> 
> 赞同：5
> 
> 时间：2013-01-23T06:04:01.807
> 
> 标签：lucene.net

我正在使用**Lucene.net 3.0.3.0**（现在是最新版本）。我想知道在生产环境中使用**IndexWriter**和**IndexSearcher**的单个实例是否是一个不错的选择（考虑到线程安全）。我在文档中读到，创建这些实例的新对象是一项昂贵的操作，并且内部 lucene 可以很好地处理并发请求。

这是在生产环境中使用过 lucene.net 的人的一个问题；请让我知道这是否会成功！

```
 using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Text;
    using Lucene.Net.Search;
    using Lucene.Net.Store;
    using System.IO;

    using Directory = Lucene.Net.Store.Directory;
    using Version = Lucene.Net.Util.Version;
    using Lucene.Net.Index;
    using Lucene.Net.Analysis.Standard;
    using Lucene.Net.Analysis;

    namespace MXLuceneConsoleApp
    {
        /// <summary>
        /// This helper class applies a singleton pattern to create Searcher and Writer objects as it's recommended to create them only once.
        /// Also the searcher gets reinitialized, if any write happens.    
        /// </summary>
        public class MXLuceneIndexHelper
        {
            private static IndexSearcher _searcher;        
            private static Directory _directory;
            private static Lazy<IndexWriter> _writer = new Lazy<IndexWriter>(() => new IndexWriter(_directory, new StandardAnalyzer(Version.LUCENE_30), IndexWriter.MaxFieldLength.UNLIMITED));

            //this private constructor makes it a singleton now.
            private MXLuceneIndexHelper() { }

            //Static constructor, opening the directory once for all.
            static MXLuceneIndexHelper()
            {
                _directory = FSDirectory.Open(new DirectoryInfo(Environment.CurrentDirectory + "\\LuceneIndexDir"));
            }

            public static IndexSearcher IndexSearcher
            {
                get
                {
                    if (_searcher == null)
                    {
                        InitializeSearcher();
                    }
                    else if (!_searcher.IndexReader.IsCurrent())
                    {                    
                        //_searcher.IndexReader.Reopen(); 
                        //refreshing the underlying Reader above doesn't do the trick, so I'm reinitializing the Searcher.
                        _searcher.Dispose();
                        InitializeSearcher();
                    }

                    return _searcher;
                }
            }

            public static IndexWriter IndexWriter
            {
                get 
                {                
                    //_writer.SetRAMBufferSizeMB(30.0);
                    return _writer.Value; 
                }
            }

            private static void InitializeSearcher()
            {
                _searcher = new IndexSearcher(_directory, false);

            }
        }//End of class
    } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-23T14:42:36.053

我的理解是每个索引应该只有 1 个 IndexWriter 实例。默认情况下，Lucene 中启用了内置锁定以确保这种情况。至于单例模式，我认为您应该看看 .NET 4 中的新[Lazy](http://msdn.microsoft.com/en-us/library/dd642331.aspx)类。它免费处理所有锁定和空检查。

至于 IndexSearcher，您可以随意拥有任意数量的实例。但是，我认为如果您重用现有的搜索器，性能会有所提高。我可以从您的代码中看出，您知道重新打开现有搜索器比创建新搜索器便宜得多。当您进行第一次搜索时，搜索器中也有内置缓存。您还可以实现 IndexReaderWarmer 来控制搜索器何时被加热（如在第一次搜索之前）。

# c# - 我们可以使用 xmlserializer 更新现有的 xml 文件吗？

> ID：14473431
> 
> 赞同：3
> 
> 时间：2013-01-23T06:04:34.967
> 
> 标签：c#, xml, xml-serialization, xml-deserialization

只是想知道我们是否可以在 C# 中使用 xml 序列化/反序列化来更新已经构建的 xml 文件？另外，如果文件最初只有根节点，我们可以用子节点更新它吗？（不管用什么方法？）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-23T07:46:54.843

更改序列化数据违背了序列化的概念 - 所以`XmlSerializer`不支持这一点。

正如 ryadavilli 建议的那样，您可以使用 XmlDocument 或 XDocument 手动添加/修改/删除节点。当您已经序列化了早期版本对象的数据并且想要将这些文档更新到新版本时，这非常有用。

但是，如果您当前的对象模型与序列化数据没有什么不同，您是否考虑过反序列化、更改内存中的对象并再次将它们序列化？

我能想象的唯一其他选择是实现`IXmlSerializable`，打开`XmlReader`和`XmlWriter`，复制每个节点，直到到达“插入点”。然后使用`XmlSerializer`写入已更改的数据，然后继续复制。绝对不是开箱即用的解决方案。

至于您评论中的问题 - XmlSerialization 旨在序列化和反序列化对象，其中`XDocument`(xml-linq) 允许您手动编写 xml 文档。虽然结果可能相同，但它们本质上做的是不同的事情，所以哪个更好取决于你想要实现的目标。

# node.js - 是否可以将passportjs用于同一网络的多个帐户？

> ID：14473433
> 
> 赞同：0
> 
> 时间：2013-01-23T06:04:55.327
> 
> 标签：node.js, authentication, express, passport.js

我正在构建一个可以利用来自同一服务的多个帐户的服务。

有没有办法为用户分配两个 Twitter 帐户？我需要的是用户的访问令牌。

# iphone - UITableViewCell 中的 UIButton 操作选择了错误的行

> ID：14473439
> 
> 赞同：-1
> 
> 时间：2013-01-23T06:05:25.907
> 
> 标签：iphone, objective-c, xcode, uitableview

当我选择其中`UITableViewCells`的按钮时，按钮有时会从错误的行传递数据。在这个表视图中，有 10 个部分，每个部分都有一个部分标题并且只有 1 行。行高占据了屏幕的大部分，因为其中有 6 个按钮。每个`UIButton`，当被选中时，会打开一个新`viewcontroller`的按钮图像的放大视图（删除此代码以使其在此处更具可读性）。

问题来了：每个按钮都成功推送了一个 modal `viewcontroller`；但是，当我向下滚动时，有时按钮会从它下面的部分传递来自同一按钮的数据（例如，当单击第 4 部分中的 button1 时，可能会传递第 5 部分中 button1 的数据）。同样，当我向上滚动时，有时按钮会从其上方部分的同一按钮传递数据（例如，当单击第 7 部分中的 button5 时，可能会传递第 6 部分中 button5 的数据）。

我认为出现此问题是因为 iPhone 正在拉动最近加载的单元格（何时`cellForRowAtIndexPath`被调用），但我希望它传递按钮所在行的数据。

想法？提前感谢您提供的任何帮助。

编辑：按要求添加数据代码

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
static NSString *CellIdentifier = @"cell";

UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];
if (cell == nil) {
    cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier];
}

// dataDict pulled from plist    
NSDictionary *button1Dict = [dataDict objectForKey:@"button1"];
NSDictionary *button2Dict = [dataDict objectForKey:@"button2"];
NSDictionary *button3Dict = [dataDict objectForKey:@"button3"];
NSDictionary *button4Dict = [dataDict objectForKey:@"button4"];
NSDictionary *button5Dict = [dataDict objectForKey:@"button5"];
NSDictionary *button6Dict = [dataDict objectForKey:@"button6"];

// selectedCatTag and selectedItemTag for each button are alloc and init in viewDidLoad
button1SelectedCatTag = (NSUInteger *)[[button1Dict objectForKey:@"selectedCatTag"] integerValue];
button2SelectedCatTag = (NSUInteger *)[[button2Dict objectForKey:@"selectedCatTag"] integerValue];
button3SelectedCatTag = (NSUInteger *)[[button3Dict objectForKey:@"selectedCatTag"] integerValue];
button4SelectedCatTag = (NSUInteger *)[[button4Dict objectForKey:@"selectedCatTag"] integerValue];
button5SelectedCatTag = (NSUInteger *)[[button5Dict objectForKey:@"selectedCatTag"] integerValue];
button6SelectedCatTag = (NSUInteger *)[[button6Dict objectForKey:@"selectedCatTag"] integerValue];

button1SelectedItemTag = (NSUInteger *)[[button1Dict objectForKey:@"selectedItemTag"] integerValue];
button2SelectedItemTag = (NSUInteger *)[[button2Dict objectForKey:@"selectedItemTag"] integerValue];
button3SelectedItemTag = (NSUInteger *)[[button3Dict objectForKey:@"selectedItemTag"] integerValue];
button4SelectedItemTag = (NSUInteger *)[[button4Dict objectForKey:@"selectedItemTag"] integerValue];
button5SelectedItemTag = (NSUInteger *)[[button5Dict objectForKey:@"selectedItemTag"] integerValue];
button6SelectedItemTag = (NSUInteger *)[[button6Dict objectForKey:@"selectedItemTag"] integerValue];

UIButton *button1 = (UIButton *)[cell viewWithTag:1];
UIButton *button2 = (UIButton *)[cell viewWithTag:2];
UIButton *button3 = (UIButton *)[cell viewWithTag:3];
UIButton *button4 = (UIButton *)[cell viewWithTag:4];
UIButton *button5 = (UIButton *)[cell viewWithTag:5];
UIButton *button6 = (UIButton *)[cell viewWithTag:6];

CGFloat kImageSquareSideLength = 100.0;

if (button1Dict) {
    NSDictionary *selectedCatDict = [dataCategories objectAtIndex:(int)button1SelectedCatTag];
    NSString *imageName = [[selectedCatDict objectForKey:@"itemImages"] objectAtIndex:(NSUInteger)button1SelectedItemTag];
    [button1 setImage:[[UIImage imageNamed:imageName] imageByScalingAndCroppingForSize:CGSizeMake(kImageSquareSideLength, kImageSquareSideLength)] forState:UIControlStateNormal];
    [button1 addTarget:self action:@selector(button1Pressed:) forControlEvents:UIControlEventTouchUpInside];
}
if (button2Dict) {
    NSDictionary *selectedCatDict = [dataCategories objectAtIndex:(int)button2SelectedCatTag];
    NSString *imageName = [[selectedCatDict objectForKey:@"itemImages"] objectAtIndex:(NSUInteger)button2SelectedItemTag];
    [button2 setImage:[[UIImage imageNamed:imageName] imageByScalingAndCroppingForSize:CGSizeMake(kImageSquareSideLength, kImageSquareSideLength)] forState:UIControlStateNormal];
    [button2 addTarget:self action:@selector(button2Pressed:) forControlEvents:UIControlEventTouchUpInside];
}
if (button3Dict) {
    NSDictionary *selectedCatDict = [dataCategories objectAtIndex:(int)button3SelectedCatTag];
    NSString *imageName = [[selectedCatDict objectForKey:@"itemImages"] objectAtIndex:(NSUInteger)button3SelectedItemTag];
    [button3 setImage:[[UIImage imageNamed:imageName] imageByScalingAndCroppingForSize:CGSizeMake(kImageSquareSideLength, kImageSquareSideLength)] forState:UIControlStateNormal];
    [button3 addTarget:self action:@selector(button3Pressed:) forControlEvents:UIControlEventTouchUpInside];
}
if (button4Dict) {
    NSDictionary *selectedCatDict = [dataCategories objectAtIndex:(int)button4SelectedCatTag];
    NSString *imageName = [[selectedCatDict objectForKey:@"itemImages"] objectAtIndex:(NSUInteger)button4SelectedItemTag];
    [button4 setImage:[[UIImage imageNamed:imageName] imageByScalingAndCroppingForSize:CGSizeMake(kImageSquareSideLength, kImageSquareSideLength)] forState:UIControlStateNormal];
    [button4 addTarget:self action:@selector(button4Pressed:) forControlEvents:UIControlEventTouchUpInside];
}
if (button5Dict) {
    NSDictionary *selectedCatDict = [dataCategories objectAtIndex:(int)button5SelectedCatTag];
    NSString *imageName = [[selectedCatDict objectForKey:@"itemImages"] objectAtIndex:(NSUInteger)button5SelectedItemTag];
    [button5 setImage:[[UIImage imageNamed:imageName] imageByScalingAndCroppingForSize:CGSizeMake(kImageSquareSideLength, kImageSquareSideLength)] forState:UIControlStateNormal];
    [button5 addTarget:self action:@selector(button5Pressed:) forControlEvents:UIControlEventTouchUpInside];
} 

if (button6Dict) {
    NSDictionary *selectedCatDict = [dataCategories objectAtIndex:(int)button6SelectedCatTag];
    NSString *imageName = [[selectedCatDict objectForKey:@"itemImages"] objectAtIndex:(NSUInteger)button6SelectedItemTag];
    [button6 setImage:[[UIImage imageNamed:imageName] imageByScalingAndCroppingForSize:CGSizeMake(kImageSquareSideLength, kImageSquareSideLength)] forState:UIControlStateNormal];
    [button6 addTarget:self action:@selector(button6Pressed:) forControlEvents:UIControlEventTouchUpInside];
} 

return cell;

}

//all other button actions are identical to button1Pressed
- (IBAction)button1Pressed:(id)sender
{
UIStoryboard *storyboard = [UIStoryboard storyboardWithName:@"MainStoryboard" bundle:nil];
SelectedItemViewController *destVC = [storyboard instantiateViewControllerWithIdentifier:@"SelectedItemViewController"];

destVC.selectedOutfitDict = @"DiscoverOutfits";
destVC.selectedCatTag = (int *)button1SelectedCatTag;
destVC.selectedItemTag = (int *)button1SelectedItemTag;

[self presentViewController:destVC animated:NO completion:nil];
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-23T06:12:42.410

是的，您可以从粘贴按钮的特定单元格中获取。写入您的 IBAction 方法，您将在 indexPath 对象中获得特定的单元格录音按钮

```
UIView *senderButton = (UIView*) sender;
       NSIndexPath *indexPath = [(UITableView *)self.superview indexPathForCell: (UITableViewCell*)[[senderButton superview]superview]]; 
```

希望这会有所帮助

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-23T06:42:54.063

有时它的标记问题。

像这样更改标签：

```
UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];
if (cell == nil) {
    cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier];

   UIButton *button1 = [[UIButton alloc] init];
   button1.tag = indexPath.section +  indexPath.row + 8956;// 8956 is some random weird     number
  [cell.contentView addSubview:button1];
  [button1 release];

// same code for other buttons

}

UIButton *button1 = (UIButton *)[cell.contentView viewWithTag: indexPath.section +  indexPath.row + 8956];
UIButton *button2 = (UIButton *)[cell.contentView viewWithTag: indexPath.section + indexPath.row +8956];
UIButton *button3 = (UIButton *)[cell.contentView viewWithTag: indexPath.section + indexPath.row +8956];
UIButton *button4 = (UIButton *)[cell.contentView viewWithTag: indexPath.section + indexPath.row +8956];
UIButton *button5 = (UIButton *)[cell.contentView viewWithTag: indexPath.section + indexPath.row +8956];
UIButton *button6 = (UIButton *)[cell.contentView viewWithTag: indexPath.section + indexPath.row +8956]; 
```

在职的？？

# batch-file - 在命令提示符中显示 VBS 变量

> ID：14473443
> 
> 赞同：3
> 
> 时间：2013-01-23T06:05:30.313
> 
> 标签：batch-file, vbscript, command-prompt

我想知道如何在命令提示符中显示变量值。以下是`vbs`代码：

```
 For i=0 To 10
 // I should display this variable value in command prompt
 Next 
```

如果我在循环中写`Shell.run`（ ），这将打开命令提示符 10 次。 但我希望所有 10 个值都显示在单个命令提示符中。`a.bat`

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-01-23T13:36:06.143

使用`WScript.Echo`：

```
For i = 0 To 10
  WScript.Echo i
Next 
```

您需要明确地使用 CSCRIPT：

```
cscript vecho.vbs 
```

或将 CSCRIPT 设为默认值：

```
cscript //H:CScript 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-23T15:42:39.363

[编辑] 是的，如果通过 CSCRIPT 运行 .vbs 脚本，那么*WScript.Echo*将打印到提示窗口，否则将弹出一个消息框。然后使用 CSCRIPT，您也可以使用*WScript.StdOut.Write*和*WScript.StdOut.WriteLine*

```
For i = 0 To 10
    WScript.StdOut.WriteLine i
Next 
```

同样使用*Shell.Run*您只能获取退出代码，并且要重定向 .bat 文件的输出，您需要*Shell.Exec*方法。关于如何在 Windows Script 5.6 Documentation 中使用 Exec 有一个很好[的](http://www.microsoft.com/en-us/download/details.aspx?displaylang=en&id=2764)*示例*。无论如何，这是一个必须有的 doc 文件。

# node.js - NodeJS、NPM 和 package.json 依赖项

> ID：14473450
> 
> 赞同：2
> 
> 时间：2013-01-23T06:06:01.350
> 
> 标签：node.js, npm, production-environment, production

阅读 npm-json ( `npm help json`) 后，我构建了`package.json`如下文件：`{"name": "app name", "version": "0.1"}`. 该目录具有以下结构：

```
/
|-- main.js
|-- package.json 
```

我熟悉[Node.js - 部署 Node.js 应用程序时是否需要重新安装生产服务器上的所有模块](https://stackoverflow.com/questions/12955597/node-js-do-i-need-to-reinstall-all-the-modules-on-the-production-server-when-d)，因此我尝试通过执行安装依赖项`npm install moduleDep --save`，但出现以下错误：

```
0 info it worked if it ends with ok
1 verbose cli [ 'node', '/usr/local/bin/npm', 'install', 'jquery', '--save' ]
2 info using npm@1.2.2
3 info using node@v0.8.18
4 verbose read json /home/roth/develop/build/package.json
5 error Error: invalid version: 1
5 error     at validVersion (/usr/local/lib/node_modules/npm/node_modules/read-package-json/read-json.js:582:40)
5 error     at final (/usr/local/lib/node_modules/npm/node_modules/read-package-json/read-json.js:342:23)
5 error     at /usr/local/lib/node_modules/npm/node_modules/read-package-json/read-json.js:140:33
5 error     at cb (/usr/local/lib/node_modules/npm/node_modules/slide/lib/async-map.js:48:11)
5 error     at /usr/local/lib/node_modules/npm/node_modules/read-package-json/read-json.js:320:48
5 error     at fs.js:117:20
5 error     at /usr/local/lib/node_modules/npm/node_modules/graceful-fs/graceful-fs.js:53:5
5 error     at /usr/local/lib/node_modules/npm/node_modules/graceful-fs/graceful-fs.js:62:5
5 error     at Object.oncomplete (fs.js:297:15)
6 error If you need help, you may report this log at:
6 error     <http://github.com/isaacs/npm/issues>
6 error or email it to:
6 error     <npm-@googlegroups.com>
7 error System Linux 3.1.10-1.16-desktop
8 error command "node" "/usr/local/bin/npm" "install" "jquery" "--save"
9 error cwd /home/roth/develop/build
10 error node -v v0.8.18
11 error npm -v 1.2.2
12 verbose exit [ 1, true ] 
```

在运行`main`模块之前，我必须使用 NPM 来安装依赖项。是否有任何我可以执行的命令将安装然后将依赖项添加到`package.json`？一个彻底的解释会很棒。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-23T06:23:22.710

Node.js 使用 3 部分版本控制系统，例如 '0.0.1' 或 '1.2.3' - 你的 '0.1' 将不起作用。这称为语义版本控制，在此处进行了详细说明：

[http://semver.org/](http://semver.org/)

基本思想是使用三个数字来代表主要、次要和补丁（major.minor.patch）。

您可以在此处阅读有关 npm 版本控制的更多信息：

[http://blog.nodejitsu.com/package-dependencies-done-right](http://blog.nodejitsu.com/package-dependencies-done-right)

# ruby-on-rails - Rails 路由中的多个命名空间声明

> ID：14473454
> 
> 赞同：0
> 
> 时间：2013-01-23T06:06:16.047
> 
> 标签：ruby-on-rails, ruby-on-rails-3

如果我有两个命名空间，并且它们使用相同的资源，我可以执行以下操作吗？

```
namespace :captures, :displays do
  resources :ones
  resources :twos
  resources :threes
  # ...
end 
```

代替：

```
namespace :captures do
  resources :ones
  resources :twos
  resources :threes
  # ...
end

namespace :displays do
  resources :ones
  resources :twos
  resources :threes
  # ...
end 
```

或者是否需要单独声明。我知道如果他们最终拥有不同的资源，他们将不得不分开，但如果我可以声明共享的资源，那么我可以做这样的事情：

```
#shared
namespace :captures, :displays do
  resources :ones
  resources :twos
  resources :threes
  # ...
end

#individual
namespace :captures do
  resources :fours
  resources :fives
  resources :sixes
end
namespace :displays do
  resources :sevens
  resources :eights
  resources :nines
end 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-11-21T02:50:00.967

我在寻找类似答案时遇到了这张票。我以前这样解决过这个问题：

```
%w[captures displays].each do |space|
  namespace space do
    resources :ones
    resources :twos
    resources :threes
    # ...
  end
end 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-23T06:13:36.810

是的，即使使用公共资源，在路由中使用命名空间时也需要单独声明。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-23T06:16:43.550

你不能这样做——命名空间方法中的第二个选项是哈希。命名空间方法只是 :path、module 和 :as 的快捷方式。它不会在一次调用中对两个命名空间执行此操作。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-08-30T14:01:53.593

您还可以将 proc 作为块传递给 namepace 方法，如下所示：

```
duplicate_routes = -> do
  resources :ones
  resources :twos
end

namespace :captures, &duplicate_routes
namespace :displays, &duplicate_routes
duplicate_routes.call # use the same routes in root namespace 
```

# jquery - codeigniter中的自定义jquery错误放置

> ID：14473457
> 
> 赞同：3
> 
> 时间：2013-01-23T06:06:27.413
> 
> 标签：jquery, codeigniter

我正在使用 jQueryplugin 表单验证，效果很好，但它会在每个表单元素的右侧显示错误消息。我实际上希望每个表单元素的错误消息位于我自定义的特定 div 中。

例如：

这是我的验证 rules.js

```
$("#form").validate({

    errorElement: "span", 

    //set the rules for the fields
    rules: {

        name: {
            required: true,
            minlength: 5,
            maxlength:25

        },
        phone:{
            required: true,
            number: true,
            minlength:10,
            maxlength:11
        },
        email: {
            required: true,
            email: true
        },
        pswd: {
            required: true,
            minlength: 5,
            maxlength:15
        },
        pswd1: { 
            required :true,
            equalTo: "#pswd"
        }

    },
    //set messages to appear inline
    messages: {

        name: {
            required: "Name is required.."
        },

        pswd: {
            required: "Please provide a password.",
            minlength: "Your password must be at least 5 characters long",
            maxlength: "Password can not be more than 15 characters"
        },
        pswd1:{
            required: "Please re-Enter password.",
            equalTo:"password not matching"
        },
        phone:{
            required: "Please Enter phone no..",
            number:"Not a valid phone number ",
            minlength: "Not a valid phone number",
            maxlength: "Phone No. cannot be more than 11 digit"
        },
        email: "Valid email is required.",

    },

    errorPlacement: function(error, element) {               
        error.appendTo(element.parent());     
    }

}); 
```

如果有人能告诉我你会怎么做，那将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-23T06:47:03.010

这应该是工作

```
jQuery.validator.setDefaults({
  errorPlacement: function(error, element) {
    error.appendTo('#div_id');
  }
}); 
```

# c# - 如何使用纯 C# 中的 ObjectAnimationUsingKeyFrames？

> ID：14473458
> 
> 赞同：1
> 
> 时间：2013-01-23T06:06:30.567
> 
> 标签：c#, wpf, xaml

我想从 C# 动态地做这样的事情：

```
<ObjectAnimationUsingKeyFrames BeginTime="00:00:00"
                               Storyboard.TargetName="image"
                               Storyboard.TargetProperty="(Image.Source)">
  <DiscreteObjectKeyFrame KeyTime="00:00:00.7000000">
    <DiscreteObjectKeyFrame.Value>
      <BitmapImage UriSource="check_24.png" />
    </DiscreteObjectKeyFrame.Value>
  </DiscreteObjectKeyFrame>
</ObjectAnimationUsingKeyFrames> 
```

但我无法弄清楚与此 XAML 等效的 C#。具体来说，我想从 C# 更改在 Image 对象中显示的图像。

我试过这个：

```
 ObjectAnimationUsingKeyFrames animation = new ObjectAnimationUsingKeyFrames();
        animation.BeginTime = TimeSpan.FromSeconds(0);
        Storyboard.SetTargetName(animation, "image");
        Storyboard.SetTargetProperty(animation, new PropertyPath("(Image.Source)"));
        DiscreteObjectKeyFrame keyFrame = new DiscreteObjectKeyFrame(BitmapFrame.Create(uri), TimeSpan.FromSeconds(0.7));
        animation.KeyFrames.Add(keyFrame);
        myStoryboard.Children.Add(animation);
        myStoryboard.Begin(); 
```

并且我收到错误“附加信息：不存在适用的名称范围来解析名称‘图像’。”

在我的控件的 XAML 中，x:name 是“图像”

```
<Image x:Name="image" ... /> 
```

我也试过

Storyboard.SetTargetName(animation, image.Name);

并得到同样的错误。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-23T06:40:04.133

好的！我想出了 C# 等价物。

```
 ObjectAnimationUsingKeyFrames animation = new ObjectAnimationUsingKeyFrames();
        animation.BeginTime = TimeSpan.FromSeconds(0);
        Storyboard.SetTarget(animation, image);
        Storyboard.SetTargetProperty(animation, new PropertyPath("(Image.Source)"));
        DiscreteObjectKeyFrame keyFrame = new DiscreteObjectKeyFrame(BitmapFrame.Create(uri), TimeSpan.FromSeconds(0.7));
        animation.KeyFrames.Add(keyFrame);
        myStoryboard.Children.Add(animation);
        myStoryboard.Begin(); 
```

我使用“SetTarget”而不是“SetTargetName”

# xml - 如何用 DTD 实体替换 xml 标签

> ID：14473460
> 
> 赞同：0
> 
> 时间：2013-01-23T06:06:30.690
> 
> 标签：xml, dtd, liquibase

我可以使用以下方法使用 DTD 实体声明替换 xml 属性值

```
//in DTD
<!ENTITY varchar "VARCHAR(200)">
// In xml 
<column name="attachment_url" type="&varchar;"/> 
```

现在我想替换一个 xml 标签

`<column name="attachment_url" type="VARCHAR(200)"/>`

使用 DTD 实体。

我试着喜欢 `<!ENTITY full_coulumn "&lt;column name=&quot;attachment_url&quot; type=&quot;VARCHAR(200)&quot;/&gt;">`

然后我得到一个错误

```
 Unexpected column with text: <column name="attachment_url" type="VARCHAR(200)
"/> 
```

是否可以用 dtd 实体替换整个 xml 标记？我怎样才能做到这一点？

我正在尝试使用 liquibase xml 文件来执行此操作。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-23T08:08:20.723

不要在实体声明中转义标记；通过这样做，您向处理器发出信号，表明实体的替换文本是字符串，而不是标记。你想要的是：

```
<!ENTITY full_column "<column name='attachment_url' 
                      type='VARCHAR(200)' />"> 
```

# iphone - 如何保持裁剪图像的质量

> ID：14473468
> 
> 赞同：1
> 
> 时间：2013-01-23T06:06:52.500
> 
> 标签：iphone, ios, ipad, uiimageview, uiimage

我使用以下代码裁剪图像，使其适合某个固定尺寸（例如：100*100）

```
 if(newSize.width == Thumbnail_Size) // Thumbnail_Size 100.0
  {               
      CGFloat side = width;
      if(width > height)
      {
        side = height;
      }
      CGRect croppedRect = CGRectMake(0, 0, side, side);
      CGImageRef croppedImage = CGImageCreateWithImageInRect(image.CGImage, croppedRect);
      newImage = [[UIImage alloc] initWithCGImage:croppedImage];
      if(newImage == nil) NSLog(@"could not scale image");
      return newImage ;       
  } 
```

但图像质量不好。图像如下面的截图所示：

![在此处输入图像描述](../Images/6d5024a794f7c32eebf894656003f06a.png)

我已将图像视图的内容模式设置为`UIViewContentModeScaleAspectFit`

```
[imageView setContentMode:UIViewContentModeScaleAspectFit]; 
```

我还需要做什么来保持裁剪图像的质量？

# android - 如何在 Android 中使用自定义屏幕而不是默认开始屏幕？

> ID：14473471
> 
> 赞同：5
> 
> 时间：2013-01-23T06:07:15.200
> 
> 标签：android

我正在制作一个企业应用程序，用户应该只能使用我提供给他的那些应用程序。我的想法是用我的自定义布局和应用程序图标覆盖默认开始屏幕，只有我提供给用户的那些应用程序。我将禁用开始屏幕中的主页、菜单返回和搜索按钮。即使用户按下主页按钮，他也应该被重定向到包含图标的自定义屏幕。

我见过一个应用程序可以在没有 root 设备的情况下实现这一点。[这](https://play.google.com/store/apps/details?id=com.kytephone&hl=en)是该应用程序的链接。

我只是想知道我应该如何将起始屏幕发送到后台并将我的自定义布局发送到前台。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-28T13:45:27.263

您的应用程序看起来像一个自定义启动器（但具有限制权限）。因此，您可以将您的应用定义为启动器，为此您可以将其添加到清单中：

```
 <intent-filter>
            <action android:name="android.intent.action.MAIN" />
            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>
        <intent-filter android:priority="1">
            <action android:name="android.intent.action.MAIN" />
            <category android:name="android.intent.category.HOME" />
            <category android:name="android.intent.category.DEFAULT" />
        </intent-filter> 
```

然后你必须实现一个方法来回到真正的启动器。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-01-28T12:48:31.037

> 我正在制作一个企业应用程序，用户应该只能使用我提供给他的那些应用程序。

那需要是自定义ROM。

> 我只是想知道我应该如何将起始屏幕发送到后台并将我的自定义布局发送到前台。

让您的应用成为主屏幕。有一个可用的 SDK 示例展示了如何创建主屏幕。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-23T06:31:32.900

问：我应该如何将开始屏幕发送到后台并将我的自定义布局发送到前台？
A：使用BroadCastReceiver，您可以通过intent filter 实现这一点：android.intent.action.BOOT_COMPLETED

但是，我很想知道，您是如何覆盖主页按键功能的。

# python - 使用 zip 列出的 ngram

> ID：14473477
> 
> 赞同：4
> 
> 时间：2013-01-23T06:07:45.730
> 
> 标签：python, sequence

我可以像这样制作一个快速而肮脏的二元序列：

```
>>> w = ['a', 'b', 'c', 'd']
>>> zip(w, w[1:])
[('a', 'b'), ('b', 'c'), ('c', 'd')] 
```

我想创建一个接受 n-gram 的数字参数 n 的函数。如上所示，我如何采用该参数并自动填写 zip 参数？换句话说，我的功能：

```
>>> make_ngrams(w, 3) 
```

将创建

```
>>> zip(w, w[1:], w[2:]) 
```

在飞行中，然后返回：

```
[('a', 'b', 'c'), ('b', 'c', 'd')] 
```

*明星运营商可以在这里帮助我吗？*感谢您的任何见解！

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-01-23T06:11:37.730

```
def make_ngrams(lst, n):
    return zip(*(lst[i:] for i in xrange(n))) 
```

运算符基本上获取可迭代的`*`所有元素并将它们作为单独的参数提供给函数。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-23T06:23:42.030

```
def ngram(L, n):
    return [tuple(L[i:i+n]) for i in xrange(len(L)-n+1)] 
```

# django - 在我的网站上使用 Python 从视频文件创建缩略图

> ID：14473480
> 
> 赞同：4
> 
> 时间：2013-01-23T06:08:01.623
> 
> 标签：django, video

我需要为用户上传到运行 django 的网站的视频文件创建缩略图。

我该怎么做...哪个功能可以做到这一点？我可以显示缩略图，但无法从视频中捕获视图。感谢您的帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-23T07:01:12.587

由于编解码器、容器等的广泛性，视频是一项棘手的业务。由于它的广泛支持，我建议使用它，并使用[子流程](http://docs.python.org/2/library/subprocess.html)模块[`ffmpeg`](http://ffmpeg.org/)在 Python 中调用它。在谷歌[第一次](http://blog.prashanthellina.com/2008/03/29/creating-video-thumbnails-using-ffmpeg/)点击 for之后，你可以这样做：`ffmpeg video thumbnail`

```
from subprocess import check_output
check_output('ffmpeg  -itsoffset -4  -i test.avi -vcodec mjpeg -vframes 1 -an -f rawvideo -s 320x240 test.jpg', shell=True) 
```

显然，您必须更改命令字符串，但这应该可以帮助您入门。

# java - Java - 通过多层传递变量的替代方法

> ID：14473481
> 
> 赞同：1
> 
> 时间：2013-01-23T06:08:02.520
> 
> 标签：java, interface

我正在构建一个小型控制台应用程序作为复习 Java 的练习（在 Java 学习一年之后，去年一直在做 Haskell 和 Scala）。我有以下界面建模菜单行为：

```
public interface MenuItem {
    public String output();
    public InputHandler requestInput(); 
```

和：

```
public interface InputHandler {
    public String promptUser();
    public MenuItem handleInput(String input);
} 
```

使用一些示例实现，如下所示：

```
public class MainMenu implements MenuItem {

    public String output() {
        return "1.) Browse Books\n" +
               "2.) View membership details\n" +
               "3.) Exit\n";
    }

    public InputHandler requestInput() {
        return new InputHandler() {
            public String promptUser() {
                return "Please select an option:\n";
            }

            public MenuItem handleInput(String input) {
                int menuItem = Integer.parseInt(input);
                if (menuItem == 1) {
                    return new BrowseBooks();
                } else if (menuItem == 2) {
                    return new ViewUserDetails();
                } else {
                    return new MainMenu();
                }
            }
        };
    }
} 
```

我的问题是，其中**一些**MenuItem 实现类（`BrowseBooksMenu`例如）需要访问其他类（即`LibraryManager`处理借书的类）。我不能只将这个`LibraryManager`类传递到`BrowseBooks`类中，因为它还需要传递到`MainMenu`类中（因为它们是循环的），因此对于仅在特定 MenuItems 中使用的实例而言，它会成为大型构造函数的大风暴。

解决这个问题的好方法是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-23T06:22:01.910

您可能希望将依赖注入作为解决方案。在这种情况下管理服务依赖关系非常有用。有几个很好的独立 DI 实现，例如[Guice](http://code.google.com/p/google-guice/)、[Weld](http://www.seamframework.org/Weld)和[PicoContainer](http://picocontainer.codehaus.org/)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-23T06:25:40.143

> 我不能只将这个`LibraryManager`类传递给`BrowseBooks`类，因为它也需要传递给`MainMenu`类（因为它们是循环的）

这取决于构建 this 需要什么`LibraryManager`。如果什么都不需要，您可以简单地在`BrowseBooks`类中构造它。如果需要一些全局配置，您可以构建一个全局单例并将其存储在某个静态字段中。[Java中的单例设计模式](https://stackoverflow.com/q/8599956/1468366)的答案有关于如何初始化单例的代码片段，具体取决于您是希望该初始化提前还是延迟进行。

如果您想灵活了解该管理器的来源，您可能需要查看[依赖注入](http://en.wikipedia.org/wiki/Dependency_injection)，可能使用一些[Inversion of Control Container](http://java-source.net/open-source/containers)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-23T06:40:05.683

只需使用设计模式即可解决，无需使用 DI 系统。

这是一个我认为对您有用的快速代码原型，并消除了您的 LybraryManager 和其他类之间的依赖关系。

```
//LybraryManager singleton class
        public class LybraryManager{

    public static LybraryManager getInstance(){    //basic code for singleton pattern }

    public void addLybraryManagerListener(LMListener listener){    listneres.add(listener) }

    public void someLybraryOperation(){
         //iterate by the listeners and invoke the method
         listener.someLybraryOperationExecuted(someParam); }

    public interface LMListener{
         public void someLybraryOperationExecuted(Object someParam);
    }

//Class MainMenu that implement listener for lybrarymanager, and listen to operation
public class MainMenu implements LMListner {
    public MainMenu(){
        LybraryManager.getInstance.addLMListener(this);
}

public void someLybraryOperationExecuted(Object someParam){
    //do anything you need
}

} 
```

我希望它能解决你的问题:)

# ios - 导航卡在 rootviewcontroller

> ID：14473483
> 
> 赞同：0
> 
> 时间：2013-01-23T06:08:09.470
> 
> 标签：ios, uiviewcontroller

我正在创建一个`pagecontrol`具有三个视图的应用程序，每个视图都包含一个按钮，单击时会调用一个按钮，`xib`但问题是`xib`视图中的负载看起来非常糟糕，因为视图位于主屏幕的中心我希望 xib 显示为整个页面，所以我在应用程序委托中创建了一个方法，然后从视图中的按钮调用它，现在 xib 单独加载，但是当我回到视图并调用相同的函数时，它一次又一次地重复主页面..我知道它的问题很长，但我会很感激任何努力，因为我是初学者....感谢应用程序委托中的代码是

```
-(void)specify
{
    ResultViewController *res = [[ResultViewController alloc]init];
    CATransition *transition = [CATransition animation];
    transition.duration = 0.3;
    transition.timingFunction = [CAMediaTimingFunction functionWithName:kCAMediaTimingFunctionEaseInEaseOut];
    transition.type = kCATransitionPush;
    transition.subtype = kCATransitionFromRight;
    [self.window.layer addAnimation:transition forKey:nil];       
    [self.window.rootViewController presentModalViewController:res animated:NO];
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-23T07:18:31.470

我不完全明白，但我认为你应该以编程方式放置 XIB。

self.view.frame = CGRectMake(0, 0, 320, 480);
self.view.backgroundColor = [UIColor whiteColor];

没事吧？

# php - 使用 php 将 XML 文本转换为“大写”

> ID：14473486
> 
> 赞同：0
> 
> 时间：2013-01-23T06:08:28.723
> 
> 标签：php, javascript-events

我创建了一个表单，用户可以通过数据库查看客户信息。用户可以通过数据库下载客户信息，即**.xls**文件。

问题是，当用户下载 .xls 文件并且 .xls 文件中的信息将更改为大写时，有没有办法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-23T06:10:36.670

您可以解析 .xls 文件，然后您可以将 strtoupper 应用于必填字段，最后您可以作为 .xls 文件输出给您的用户。

# java - String 是 Android 或 Java 中的原语还是对象？

> ID：14473488
> 
> 赞同：20
> 
> 时间：2013-01-23T06:08:57.097
> 
> 标签：java, android, string, sharedpreferences, primitive

在 Android API [http://developer.android.com/guide/topics/data/data-storage.html#pref](http://developer.android.com/guide/topics/data/data-storage.html#pref)

它说：

> Shared Preference 允许您保存和检索原始数据类型的持久键值对。您可以使用 SharedPreferences 保存任何原始数据：布尔值、浮点数、整数、长整数和字符串。

String 是原始数据类型还是对象？

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2013-01-23T06:16:34.760

就`Java`编程语言而言，

> 原始类型由语言预定义并由保留关键字命名。
> 
> 除了上面列出的八种原始数据类型之外，Java 编程语言还通过`java.lang.String`该类提供了对字符串的特殊支持。

—— 来自[Java™ 教程 - 原始数据类型](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html)

因此，就像在`Java`书中一样，它不是关键字，也不是原语。`SharedPreferences`可能仍将其称为原语之一，但这不是书上`Java`所说的，可能是因为它是我们遇到的 int、float、char 等一组基本类型之一。

* * *

## 回答 #2

> 赞同：22
> 
> 时间：2013-01-23T06:21:32.583

直接来自 JLS：

```
A string literal is a reference to an instance of class String 
```

所以不，它**不是**原始的。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-01-23T06:13:58.243

使用 Android SharedPreferences 时，您将使用 getString 和 putString（带有 SharedPreferences.Editor），在这种情况下，它们都是 Java 字符串对象。Java 文档解释说，从技术上讲，String 不是原语，但因为它通常在语法上被视为一种原语并且它很普遍，所以有时可以将其称为原语。Android 可能使用这个定义（参见[http://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html](http://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html)）

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2013-01-23T06:14:29.257

String 是一个对象，在 android 或 java 中它**根本不是**原始类型。您可以使用字符串存储在 SharedPreferences 中。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2017-10-19T15:54:42.213

字符串是 String 类 (java.lang.String) 的对象。如您所知，在其他编程语言中，字符串不是通过语言提供的，用户必须使用字符数组来表示字符串。这就是为什么 String 不是原始数据类型，而是无数属性（int length、char[position] 等）的原因。

由于 String 的重要性，Java 的创建者允许通过简单地制作 String`String message = Ḧello World;`没有错，许多人以这种方式制作（实例化）String 类的对象......但是你也可以说`char[] arr = {'a','b','c'};` `String myString = new String(arr);`......同`String myString = ¨abc¨;`这是因为如前所述，字符串只是一系列字符。在 String 类内部，有一个构造函数（跟在 new 关键字后面并与类名匹配的东西），它接受一个字符数组作为参数。

简短的回答：String 是一个*类*而不是原始数据类型，当创建一个 String 对象时，您正在实例化 String 类

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-01-23T06:13:39.290

String 是一个对象，尽管它可以在 SharedPreferences 中使用。字符串也存储为键值对

# c# - XmlReader.ReadElementContentAsString() 不读取换行符

> ID：14473496
> 
> 赞同：0
> 
> 时间：2013-01-23T06:09:21.933
> 
> 标签：c#, xml, xml-parsing, newline, xmlreader

我正在开发一个计算器，它可以让您将会话保存为 XML 文件。这是我的示例会话的样子：

```
<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<BreezyCalc Version="3.0">
    <Session>
        <Constants>
            <Constant Name="myconst1" Value="12.443" />
            <Constant Name="someconst" Value="0.12e+2" />
        </Constants>
        <Variables>
            <Variable Name="myvar" Value="40.32" />
            <Variable Name="myothervar" Value="2.5" />
        </Variables>
        <Functions>
            <Function Linear="true" Name="myfunc1" M="2.8" B="-7" />
            <Function Linear="true" Name="otherfunc" M="-1" B="14.32" />
        </Functions>
        <Output>1*2, 3*4, 5*6
        -> Ans1 = 2
        -> Ans2 = 7
        -> Ans3 = 30
        </Output>
        <Results>
            <Result Value="2" />
            <Result Value="7" />
            <Result Value="30" />
        </Results>
    </Session>
</BreezyCalc> 
```

在我的应用程序中，输出显示在如下文本框中：

```
1*2, 3*4, 5*6
      -> Ans1 = 2
      -> Ans2 = 7
      -> Ans3 = 30 
```

但是，当我使用 加载会话并在元素上`XmlReader`使用时，输出会显示在文本框中，如下所示：`ReadElementContentAsString()``<Output>`

```
1*2, 3*4, 5*6      -> Ans1 = 2      -> Ans2 = 7      -> Ans3 = 30 
```

当我从我的应用程序的文本框中复制该文本并将其粘贴到记事本中时，它看起来一样，仍然都在一行上。**但是**，当我尝试将其粘贴到 StackOverflow 的问题提交文本框中时，它会正确显示换行符。所以我不确定这是由 引起的`XmlReader`，还是与文本框有关。我觉得好像它可能是文本框，因为就像我说的那样，当我将它粘贴到这里时，换行符就在那里，但我就是不明白为什么文本框不会显示换行符。

基本上，我在问这里有什么问题？如何从 XML 文件读取/写入多行文本并保留换行符？

# c# - 如何在 Windows Phone 8 的后台运行计时器？

> ID：14473500
> 
> 赞同：1
> 
> 时间：2013-01-23T06:09:35.093
> 
> 标签：c#, windows-phone-8

我有一种方法可以运行计时器并每 10 分钟显示一次警报。但是当我退出应用程序时，它会停止计时器并且它不会显示任何警报。

有人会告诉我如何在后台运行计时器，即使我没有使用该应用程序，它也会始终运行并定期更新。

有没有办法做到这一点？我读到 windows phone 8 将在后台运行任务，但我不知道如何使用它，

我看到了计划代理，但我不明白如何在这种情况下使用它。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-23T07:17:01.693

无论如何，计划代理仅每 30 分钟运行一次（在最佳情况下）。有关您的选项列表以及指向 MSDN 的链接，请参阅[Justin 对一个非常相似的问题的回答。](https://stackoverflow.com/a/13520869/694641)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-23T15:45:41.047

我会研究“提醒”。如果您担心何时触发的一致性，我认为这将是您最好的选择。

这是有关警报/提醒的 MSDN 文章：

[http://msdn.microsoft.com/en-us/library/windowsphone/develop/hh202946(v=vs.105).aspx](http://msdn.microsoft.com/en-us/library/windowsphone/develop/hh202946(v=vs.105).aspx)

# ruby-on-rails - 大礼包安装不工作。出现错误：Devise:Module (NoMethodError) 的未定义方法“add_module”

> ID：14473502
> 
> 赞同：3
> 
> 时间：2013-01-23T06:09:49.283
> 
> 标签：ruby-on-rails, installation, spree

我遵循这里提到的基本说明：http: [//guides.spreecommerce.com/getting_started.html](http://guides.spreecommerce.com/getting_started.html)

顺便说一句，我的 Gemfile 中已经有了`gem 'devise-encryptable'`。

当我`cd`进入`mystore`并尝试运行`spree install`时，这是我得到的错误：

```
/usr/local/rvm/gems/ruby-1.9.3-p194/gems/devise-encryptable-0.1.1/lib/devise/encryptable/encryptable.rb:28:in `<top (required)>': undefined method `add_module' for Devise:Module (NoMethodError)
    from /usr/local/rvm/gems/ruby-1.9.3-p194/gems/devise-encryptable-0.1.1/lib/devise-encryptable.rb:1:in `require'
    from /usr/local/rvm/gems/ruby-1.9.3-p194/gems/devise-encryptable-0.1.1/lib/devise-encryptable.rb:1:in `<top (required)>'
    from /usr/local/rvm/gems/ruby-1.9.3-p194/gems/bundler-1.2.3/lib/bundler/runtime.rb:68:in `require'
    from /usr/local/rvm/gems/ruby-1.9.3-p194/gems/bundler-1.2.3/lib/bundler/runtime.rb:68:in `block (2 levels) in require'
    from /usr/local/rvm/gems/ruby-1.9.3-p194/gems/bundler-1.2.3/lib/bundler/runtime.rb:66:in `each'
    from /usr/local/rvm/gems/ruby-1.9.3-p194/gems/bundler-1.2.3/lib/bundler/runtime.rb:66:in `block in require'
    from /usr/local/rvm/gems/ruby-1.9.3-p194/gems/bundler-1.2.3/lib/bundler/runtime.rb:55:in `each'
    from /usr/local/rvm/gems/ruby-1.9.3-p194/gems/bundler-1.2.3/lib/bundler/runtime.rb:55:in `require'
    from /usr/local/rvm/gems/ruby-1.9.3-p194/gems/bundler-1.2.3/lib/bundler.rb:128:in `require'
    from /Users/amiterandole/Desktop/current/rails/mystore/config/application.rb:7:in `<top (required)>'
    from /usr/local/rvm/gems/ruby-1.9.3-p194/gems/railties-3.2.11/lib/rails/commands.rb:24:in `require'
    from /usr/local/rvm/gems/ruby-1.9.3-p194/gems/railties-3.2.11/lib/rails/commands.rb:24:in `<top (required)>'
    from script/rails:6:in `require'
from script/rails:6:in `<main>' 
```

发生了什么，我该如何解决？我碰巧正在使用最新版本的 rails 和 spree。我安装的设计版本是`devise-2.2.2`

更新：这是我的 gemfile

```
source 'https://rubygems.org'

gem 'rails', '3.2.11'

gem 'pg'

# Gems used only for assets and not required
# in production environments by default.
group :assets do
  gem 'sass-rails',   '~> 3.2.3'
  gem 'coffee-rails', '~> 3.2.1'

  # See https://github.com/sstephenson/execjs#readme for more supported runtimes
  # gem 'therubyracer', :platforms => :ruby

  gem 'uglifier', '>= 1.0.3'
end

gem 'jquery-rails'

gem 'devise-encryptable'

# To use debugger
# gem 'debugger'
gem 'spree', '1.3.1'
gem 'spree_gateway', :github => 'spree/spree_gateway', :branch => '1-3-stable'
gem 'spree_auth_devise', :github => 'spree/spree_auth_devise', :branch => '1-3-stable' 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-01-23T18:19:58.750

尝试放置这条线 `gem 'devise-encryptable'`

在 Gemfile 的底部。这解决了我的问题。可能 devise-encryptable gem 会找到没有 Devise.add_module 方法的旧版本的 Devise。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-24T18:33:38.120

I ran into this error just now and have a solution. You need to open file `lib/devise-encryptable.rb` in the gem's directory and add this line at the beginning: `require 'devise'`. And don't forget to follow [this advice](https://stackoverflow.com/a/14486614/2008610). Enjoy.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-23T19:44:11.240

Remove `gem 'devise-encryptable'` from your Gemfile, as it is already specified as a dependency in the `spree_auth_devise` gem. What's happening here is that this gem is being loaded before the `devise` gem, which is why your application is breaking.

# android - android ListView 动态 onitemclick

> ID：14473503
> 
> 赞同：1
> 
> 时间：2013-01-23T06:09:51.527
> 
> 标签：android, android-listview

我在gridview的适配器内动态创建一个ListView。所以发生的事情是，gridview 在其单元格中包含列表视图。在 gridview 适配器内部，我使用自己的适配器创建列表视图。这很好用，但是，我需要为 listView 编写一个 onitemclick 侦听器来访问其每个项目的位置。目前，我在创建列表视图后立即在 gridview 适配器内编写 onitemclick 侦听器，但是我不确定如何访问列表视图项目。

请帮忙。

这是我在 gridview 适配器内部创建列表视图的代码（getview 方法 - 我删除了其他不相关的代码）：

```
 public View getView(int position,View convertView, ViewGroup parent)
 {
     ListView list;

        if (convertView == null)
        {  

              //if it's not recycled, initialize some attributes.  
              list = new ListView(mContext);
              list.setVerticalScrollBarEnabled(false);
              list.setLayoutParams(new GridView.LayoutParams(150, 550));
              list.setPadding(2,2,2,2);
              list.setAdapter(new Adapter_ListView_GridView_Calendar(mContext, dagtyeVanhaarkappers.get(position-hairdresserids.size()), gebookdeurUser.get(position-hairdresserids.size()), tekening.get(position-hairdresserids.size())));
        }  
        else
        {
         list = (ListView) convertView;
        }  

        list.setCacheColorHint(0);
        list.setId(position-hairdresserids.size());

        list.setOnTouchListener(new View.OnTouchListener()
              {

                  public boolean onTouch(View v, MotionEvent event)
                  {   
                // Disallow the touch request for parent scroll on touch of child view
                      v.getParent().requestDisallowInterceptTouchEvent(true);
                      return false;
                  }
              });

       final int itemp = position;
       final int dayId = parent.getChildCount();

       list.setOnItemClickListener( new OnItemClickListener()
       {

        public void onItemClick(AdapterView<?> arg0, View arg1, int arg2, long arg3)
             {
               // custom dialog
        final Dialog dialog = new Dialog(mContext);
        dialog.setContentView(R.layout.dialog_make_booking);

                    //NOT SURE HOW TO ACCESS LIST ITEM POSITION FROM HERE ???

        dialog.show();
             }
       });

        return list;
     } 
```

编辑：

这是我现在尝试的，但我一直得到 0 的值......

```
 list.setOnItemClickListener( new OnItemClickListener()
       {

             public void onItemClick(AdapterView<?> arg0, View arg1, int arg2, long arg3)
             {
               // custom dialog
        final Dialog dialog = new Dialog(mContext);
        dialog.setContentView(R.layout.dialog_make_booking);

                    //NOT SURE HOW TO ACCESS LIST ITEM POSITION FROM HERE ???

                    long l = list.getAdapter().getItemId(arg2); //THIS VALUE STAYS 0
                    String s = (String) String.valueOf(l);
        dialog.setTitle(s);

        dialog.show();
             }
       }); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-23T06:17:24.943

使 listview 成为当前类的成员，arg2 是被点击的 listitem 的位置。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-23T06:18:49.417

在 onItemClick 方法中是否无法识别 itemp？

您是否尝试过将位置变量设为最终变量并访问它？

顺便说一句，int arg2 本身应该是位置

# linux - GDB 核心转储：通过 build-id 查找可执行文件

> ID：14473506
> 
> 赞同：5
> 
> 时间：2013-01-23T06:10:07.497
> 
> 标签：linux, debugging, gdb, core, coredump

是否可以让gdb自动找到对应的可执行文件？我已经提取了调试符号并将它们放在 /usr/lib/debug/.build-id/ 目录中。当我启动 gdb 时`gdb /usr/bin/executable core`一切正常。可执行文件和所有共享库的所有调试符号都会自动加载，因为 gdb 知道 build-id 并自动加载它。

```
$ gdb /usr/bin/executable core
GNU gdb (GDB) 7.0.1-debian
Copyright (C) 2009 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.  Type "show copying"
and "show warranty" for details.
This GDB was configured as "i486-linux-gnu".
For bug reporting instructions, please see:
<http://www.gnu.org/software/gdb/bugs/>...
Reading symbols from /usr/bin/executable...Reading symbols from /usr/lib/debug/.build-id/b7/fada8ba917de74a6055647f3ac205dee1615c8.debug...done. 
```

但是，当我只是启动 gdb 并加载核心文件时，没有加载任何调试符号。

```
(gdb) core-file core
[New Thread 10822]
[New Thread 10812]
Core was generated by `/usr/bin/executable'.
Program terminated with signal 6, Aborted.
#0  0xb7790424 in __kernel_vsyscall () 
```

运行 gdb`strace`表明它甚至没有尝试找到它们。核心文件包含build-id，所以我猜gdb应该能够找到它......

```
$ eu-unstrip -n --core core
0x8048000+0x25d000 b7fada8ba917de74a6055647f3ac205dee1615c8@0x8048178 - - [exe]
0xb7790000+0x1000 da7bd9bbfe599f7e9b644d684db983c4b34d8f31@0xb77901ec . - linux-gate.so.1
0xb7771000+0x19000 242ae1f2965ed161f3715858d7792019963b57fd@0xb7771164 /lib/i686/cmov/libpthread.so.0 - libpthread.so.0
0xb7768000+0x9000 06a49519b1ede0f79596e4b0cd07d2beba43b2dc@0xb7768164 /lib/i686/cmov/librt.so.1 - librt.so.1
0xb7672000+0xf5000 9daf5aac9ccc9281f2805639c3f87731beae5548@0xb7672144 /usr/lib/libstdc++.so.6 - libstdc++.so.6
0xb764c000+0x26000 696d5fb148fe51609203903d470a8f85d458cd17@0xb764c164 /lib/i686/cmov/libm.so.6 - libm.so.6
0xb762e000+0x1e000 d2a7edbd5dafabb7bb90198eeb58013342c589f0@0xb762e104 /lib/libgcc_s.so.1 - libgcc_s.so.1
0xb74e7000+0x147000 2124040143ac9f7478cc16b474b1cfdfe2c45353@0xb74e7184 /lib/i686/cmov/libc.so.6 - libc.so.6
0xb7791000+0x1d000 5a6fc3cf12f68887cbf22da3a9785d00f7d91c41@0xb7791124 /lib/ld-linux.so.2 - ld-linux.so.2 
```

有没有办法让 gdb 在不提供导致核心转储的可执行文件的情况下查找可执行文件的调试文件？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-31T14:46:45.597

您可以尝试直接加载调试符号：

```
(gdb) symbol-file /tmp/your_debug_symbols.dbg 
```

但我认为 coredump 本身对于 GDB 来说还不够，需要为其提供可执行文件才能理解核心转储。

# ajax - 将 JSONP 与 WCF 和 jQuery 一起使用

> ID：14473508
> 
> 赞同：1
> 
> 时间：2013-01-23T06:10:12.450
> 
> 标签：ajax, wcf, rest, jquery

我已经在客户端的测试机器上部署了我的 WCF 服务，使用我的客户端 HTML 网站从同一客户端机器调用它，我得到如下响应：

![在此处输入图像描述](../Images/3b93434d7f468cc951b05a4cbdbd47f2.png)

但是，当我在客户响应的生产机器上部署相同的组件时，我从 WCF 服务获得的响应不同，如下所示：

![在此处输入图像描述](../Images/c78df1d1529d0d5544350f7243a11caa.png)

我正在处理跨域的ajax调用。我从部署在其他机器上的 HTML 网站调用休息服务。这是我在 firebug 上看到的错误，因为 WCF 服务的输出不同：

![在此处输入图像描述](../Images/b1cd3f2c3802c1aa9040a1a40b7f1541.png)

这是我的 WCF 方法的代码。这是我写的简单方法，只是为了看看发生了什么：

```
[WebGet(ResponseFormat = WebMessageFormat.Json)]
public string PingMe()
{
    return "No Domains";
} 
```

这背后的原因可能是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-23T09:07:31.857

听起来测试和生产服务器上运行着不同版本的 -NET 框架。如果我没记错的话，“d”是前段时间在 .NET 3.5 中引入的，作为防止某些形式的 XSS 攻击的安全功能。

您可以在本文中阅读更多相关[信息](http://encosia.com/never-worry-about-asp-net-ajaxs-d-again/)。[Dave Ward 的这篇文章](http://encosia.com/jquery-1-5s-ajax-rewrite-and-asp-net-services-all-is-well/)使用 jQuery dataFilter 提供了一个很好的通用解决方案。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T12:33:59.557

[参考这篇](http://bendewey.wordpress.com/2009/11/24/using-jsonp-with-wcf-and-jquery/)文章后，我已经解决了这个问题。

# image - 如何在 NancyFx 中制作图像处理程序

> ID：14473510
> 
> 赞同：20
> 
> 时间：2013-01-23T06:10:19.283
> 
> 标签：image, outputstream, nancy

我正在努力将来自 NancyFX 数据库中的 byte[] 的图像输出到 Web 输出流。我没有足够接近的示例代码，甚至无法在这一点上显示。我想知道是否有人解决了这个问题并可以发布一个片段？我基本上只想从存储在我的数据库中的字节数组中返回图像/jpeg，然后将其放到网络上而不是物理文件中。

* * *

## 回答 #1

> 赞同：30
> 
> 时间：2013-01-23T08:14:09.513

只是以@TheCodeJunkie 的答案为基础，您可以像这样非常轻松地构建“字节数组响应”：

```
public class ByteArrayResponse : Response
{
    /// <summary>
    /// Byte array response
    /// </summary>
    /// <param name="body">Byte array to be the body of the response</param>
    /// <param name="contentType">Content type to use</param>
    public ByteArrayResponse(byte[] body, string contentType = null)
    {
        this.ContentType = contentType ?? "application/octet-stream";

        this.Contents = stream =>
            {
                using (var writer = new BinaryWriter(stream))
                {
                    writer.Write(body);
                }
            };
    }
} 
```

然后，如果您想使用 Response.AsX 语法，它是一个简单的扩展方法：

```
public static class Extensions
{
    public static Response FromByteArray(this IResponseFormatter formatter, byte[] body, string contentType = null)
    {
        return new ByteArrayResponse(body, contentType);
    }
} 
```

然后在您的路线中，您可以使用：

```
Response.FromByteArray(myImageByteArray, "image/jpeg"); 
```

您还可以添加一个处理器以使用字节数组进行内容协商，我已在[此要点中添加了一个快速示例](https://gist.github.com/4605541)

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2015-02-20T07:43:56.920

在您的控制器中，返回带有图像字节流的 Response.FromStream。在旧版本的 nancy 中，它曾经被称为 AsStream。

```
Get["/Image/{ImageID}"] = parameters =>
{
     string ContentType = "image/jpg";
     Stream stream = // get a stream from the image.

     return Response.FromStream(stream, ContentType);
}; 
```

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2013-01-23T06:52:54.777

您可以从 Nancy 返回一个新`Response`对象。它的`Content`属性是类型`Action<Stream>`，因此您可以创建一个委托，将您的字节数组写入该流

```
var r = new Response();
r.Content = s => {
   //write to s
}; 
```

不要忘记设置`ContentType`属性（您可以使用`MimeTypes.GetMimeType`并将名称传递给它，包括扩展名）还有一个`StreamResponse`, 继承自`Response`并提供不同的构造函数（您可以在路由中使用更好的语法`return Response.AsStream(..)`......只是语法糖果）

# java - 如何将 PDF byte[] 转换为 String 和 String 转换为 PDF byte[]

> ID：14473515
> 
> 赞同：0
> 
> 时间：2013-01-23T06:10:41.287
> 
> 标签：java

在我的 Web 应用程序中，根据要求，我需要将 PDF 文件打印到激光打印机，而无需打开 Windows 默认的“打印”弹出窗口。

所以在这里我使用小程序来打印存储在 HTML 文本区域中的字节。

但似乎 new String(pdf.getByte[]) 之后生成的字节与实际的 PDF 字节不同。

在我的控制器中，我将字节存储到请求范围，如下所述：

```
request.setAttribute(PageRenderConstant.MULTI_SEL_PDF,new String(printOutputVO.getPdfBytes())); 
```

在 HTML 中......我将字节存储如下......

```
<textarea style="visibility: hidden;"  name="laserPrintData"  id="laserPrintData" >
   ${multiselpdffile}                   
</textarea> 
```

这是将文档打印到激光打印机的小程序代码......

```
function print(){                                                           
  var applet = document.jZebra;
  if (applet != null) {    
  var data = $("#laserPrintData").val();
  //applet.append(data);
  applet.appendPDF(data);              
  applet.printPS();
  }
} 
```

但它显示“提供的 PDF 文件已损坏。” 所以 new String() 操作后的字节是不同的。

那么如何保留与 new String() 操作之前相同的字节？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-23T06:42:19.263

使用 Base64 方法将 byte[] 转换为 String 并将其解码回 byte[]

```
public static byte[] decode(String encoded)
public static String encode(byte[] binaryData) { 
```

# c++ - C++ 新手，使用 CodeBlocks

> ID：14473518
> 
> 赞同：3
> 
> 时间：2013-01-23T06:10:46.923
> 
> 标签：c++, comments, codeblocks

在我的 C++ 课程中使用 Code::Blocks IDE for Mac，我花了一些时间尝试用评论等清理我的第一个实验室，语法突出显示提醒我一些我似乎无法在网上找到文档的东西.

```
 /**
      Author: Name
      Lab1
      Purpose: simulate a calculator with informative menu
    */ 
```

具有与简单不同的突出显示颜色

```
 /*
      What I thought
      a normal multiline comment
      was...
    */ 
```

甚至与

```
 // Models a basic calculator with looping menu until sentinel or invalid operator is given 
```

我很好奇第一个代码片段的目的/功能是什么。在 Java 中，这是一个文档字符串。它在 C++ 中是否具有相同的目的？如果不是，它是什么，它是如何常规使用的？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-23T06:31:02.417

第一个是[Doxygen](http://www.doxygen.org/)将识别为文档的注释。Doxygen 以 Javadoc 为模型。而且它相当流行，所以 Code::Blocks 识别它也就不足为奇了。Doxygen 可以生成多种格式的输出，包括可以使用 Web 浏览器查看的直接 HTML。

我不知道为什么它决定第二个和第三个例子应该是不同的颜色。也许是因为一个是块注释，另一个是“直到行尾”注释。但这对我来说似乎是一个微不足道的区别。

# php - 关于 A4 尺寸标记和打印问题

> ID：14473521
> 
> 赞同：1
> 
> 时间：2013-01-23T06:11:22.690
> 
> 标签：php, html, css, pdf-generation

我正在尝试使用 3rd 方 php 库开发一些代码来生成特定网页的 pdf。我对图像重新缩放、页面大小和打印页面大小有一些疑问。我完全是 css 和 html 编码的新手，所以如果我的问题与 css 或 html 无关，请忽略这篇文章。我正在开发一个由一些 css 控制的布局和格式的网页。页面宽度相当宽，所有图像宽度约为 500pt，约为页面宽度的 1/2。还有一个编辑字段允许用户输入和提交一些文本。所有提交的文本将显示在

标签。我要以 A4 大小的 PDF 打印页面，但页面大小与 A4 大小不同，PDF 中显示的图像看起来很奇怪，因为我将图像的宽度设置为 500，因此尺寸不会按比例缩小也在pdf中。我认为如果根据页面宽度和 pdf 页面宽度的比率重新缩放图像，它可能会解决问题。但我的问题是如何计算 php 中的网页宽度？我认为页面宽度与浏览器页面宽度不同，不是吗？另外，即使有办法计算页面的宽度，宽度会在不同的机器和不同的浏览器中改变吗？当我在我的电脑上打开网页时，它很宽，但是如果我用不同的浏览器在其他地方打开它，似乎所有图像的宽度都会自动缩小。所以在那种情况下，

类似的问题是

标签以逐字显示用户提交的文本。由于用户不知道如何打印页面的代码，他/她可能会输入一些很长的内容而没有返回。因此，如果我按字面意思打印他/她输入的任何内容，如果某些文本太长，它们就会出现在 PDF 页面之外。我正在寻找一种方法来可视化用户应该在其中输入单词的区域。我在想是否可以在背景上显示一条垂直虚线

区域，以便用户知道他们是否输入太长而没有中断。当然，虚线放在哪里取决于A4的大小和使用的字体大小

. 在 html 或 css 中实现它可能很困难。由于我在这两种语言方面的经验非常有限，因此我们将非常感谢您的建议或评论。

![在此处输入图像描述](../Images/4e2e5822e00ec3d27db4c16aac538fe1.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-23T07:38:06.630

据我了解，您可能只想自己构建它，但如果您不是，请查看这些库：

[http://pdfcrowd.com/hub/2011/04/18/convert-html-to-pdf-in-php.html](http://pdfcrowd.com/hub/2011/04/18/convert-html-to-pdf-in-php.html)

[http://html2pdf.fr/en/default](http://html2pdf.fr/en/default)

即使您仍然想自己构建它，它们也可能会给您提供线索和提示。

### Apache FOP 方式

如果您真的想完全控制您的结果 pdf，我会使用 Apache FOP。我发现了这种与它通信的 PHP 方式：

[http://grover.open2space.com/content/creating-pdf-code-fop](http://grover.open2space.com/content/creating-pdf-code-fop)

# c++ - 什么是`CString`？

> ID：14473526
> 
> 赞同：26
> 
> 时间：2013-01-23T06:11:47.907
> 
> 标签：c++, string, mfc

为什么我看到一些代码使用`CStrings`不同的声明。

有些使用这种格式

```
char a_c_string []; 
```

而其他人使用

```
CString another_c_string; 
```

有区别吗？我在第一个示例中找到的所有参考都`CStrings`声明它，我只在论坛等人们给出示例的地方看到它以其他方式完成。

* * *

## 回答 #1

> 赞同：41
> 
> 时间：2013-01-23T06:30:03.560

`CString`既不是 C 也不是 C++ 类型。[它似乎是微软的一项发明](http://msdn.microsoft.com/en-us/library/aa300688%28v=vs.60%29.aspx)，本质上可以替代`std::string`：

> *   `CString`对象可以由于连接操作而增长。
> *   `CString`对象遵循“价值语义”。将`CString`对象视为实际字符串，而不是指向字符串的指针。
> *   您可以自由地替换`CString`对象`const char*`和`LPCTSTR`函数参数。
> *   转换运算符可将字符串的字符作为只读字符数组（C 样式字符串）直接访问。

我建议忽略它，以便：

(a) 人们知道你在说什么；
(b) 您的代码是可移植的；
(c) 你正在编写每个人都可以根据全球公认的 ISO C++ 标准合理化的 C++，许多人为了这个明确的目的花了很多很多时间争论（你知道，而不是少数人在*一间公司办公室的*房间）。

它仅在您使用*Microsoft Visual C++*进行编程时可用，这在很大程度上是有限制的。

* * *

## 回答 #2

> 赞同：28
> 
> 时间：2013-01-23T06:42:45.727

许多 GUI 框架都有自己的字符串类。例如 QT 有[QString](http://doc.qt.digia.com/qt/qstring.html)， wxWindows 有[wxString](http://wiki.wxwidgets.org/WxString)。在这种情况下，MFC 具有 CString。在 MFC gui 代码的上下文中使用 CString 会很方便且有意义，因为那时您已经严重依赖 Visual C++，并且不会设想代码可移植性。我会小心一揽子声明说忽略它，因为它是非标准的——这完全取决于上下文。

* * *

## 回答 #3

> 赞同：13
> 
> 时间：2013-01-23T06:33:36.707

以防万一这是造成混淆的原因：“CString”中的“C”只是 MFC 中所有类都具有的前缀。MFC 是 Microsoft 包装 win32 API 的 C++ 库。这个字符串类与“C 字符串”关系不大，后者用于描述C 语言提供的字符串处理工具。C 语言仅提供用于字符串处理的函数，这些函数对指向表示字符串的 char 数组的指针进行操作，并且它们要求最后一个字符是 NUL（也称为 NUL 终止或零终止）。请注意，C++ 本身也有一个字符串类`std::string`（嗯，实际上还有 std::wstring 和 std::basic_string 模板，但作为初学者，您可以放心地忽略它们）。

# c# - 实体框架 DbContext 被处置

> ID：14473527
> 
> 赞同：2
> 
> 时间：2013-01-23T06:11:52.310
> 
> 标签：c#, entity-framework-5, dbcontext, objectlistview

[我有一个使用ObjectListView](http://objectlistview.sourceforge.net/cs/index.html)可视化数据库信息的小程序。目前我正在尝试添加项目并不断获得`The operation cannot be completed because the DbContext has been disposed.`突出显示以下`olvEntityTypes.AddObject(et);`行的内容。

**代码：**

```
string typeName = tbTypeName.Text;
string desc = tbDesc.Text;

EntityTypes et;
using (FCERTSModelContainer db = new FCERTSModelContainer())
{
    // Create and save new row for the EntityTypes table.
    et = new EntityTypes { EntityTypeName = typeName, Description = desc };
    db.EntityTypes.Add(et);
    db.SaveChanges();

    olvEntityTypes.AddObject(et);
} 
```

*   我怀疑这`SaveChanges()`也可能会关闭上下文，但是在保存更改之前尝试添加对象仍然会引发相同的错误。
*   放在街区`olvEntityTypes.AddObject(et);`之外`using`也是失败的。
*   如果我使用以下内容查询数据库，则不会引发任何错误；

**代码：**

```
var query = from ent in db.EntityTypes
            orderby ent.EntityTypeName
            select ent;

olvEntityTypes.SetObjects(query); 
```

所以我现在有点不知所措，为什么这会引发错误以及如何解决它。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-23T06:37:35.603

事实证明，问题出在 objectlistview 对象的初始设置上。我正在使用这段代码；

```
var query = db.EntityTypes.OrderBy(eg => eg.EntityTypeName);
olvEntityTypes.SetObjects(query); 
```

哪个工作正常，但`using`在我的代码库中位于不同的块中，因此，完全不同的 DbContext。

如果我将查询转换为列表，然后调用`SetObjects()`整个程序可以正常工作。

# ruby - DreamHost 上的 Sinatra + Passenger + RVM 无法启动

> ID：14473528
> 
> 赞同：1
> 
> 时间：2013-01-23T06:12:00.103
> 
> 标签：ruby, sinatra, passenger, dreamhost

我在运行 sinatra 服务器时遇到问题。

我安装了 RVM 并编写了一个简单的 sinatra 应用程序，来源如下。我也创建了 public + tmp + tmp/restart.txt 文件夹。我在这里关注了一些答案/关于如何设置 GEM_PATH/GEM_HOME 的文章。

该站点使用“Passenger（仅限 Ruby/Python 应用程序）”选项定义。

如果我使用 SSH 中的命令行运行独立乘客，它可以在端口 3000 上正常工作（使用公共 URL，例如[http://domain.com:3000](http://domain.com:3000)）。所以这意味着网站很好，宝石可用，只是与Passenger的连接失败了。

我什至看不到来自 apache 的日志来查看问题所在。/home/user/domain.com/http/error.log 为空，access.log 填满 500s。浏览器中的错误是500，内部服务器错误，没有任何线索。

我安装 RVM 的用户是该帐户的完全管理员。

我错过了什么？

```
# config.ru

# I made sure the path is correct and that all the gems I need are installed there
ENV['GEM_PATH'] = '/home/<MY USERNAME>/.rvm/gems/ruby-1.9.3-p362'
# I tried also setting GEM_HOME instead and with GEM_PATH

require 'rubygems'

Gem.clear_paths

require 'sinatra'

require File.expand_path('../server.rb', __FILE__)
run Sinatra::Application

# server.rb

require 'sinatra'
get '/' do
  "Worked on dreamhost"
end

get '/foo/:bar' do
  "You asked for foo/#{params[:bar]}"
end 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-27T15:40:56.757

得知您在将 RVM 安装到我们的服务器上时遇到问题，我们深感遗憾。这有时会变得有点棘手，并且知道你并不孤单！实际上，我们的 wiki 页面上有整篇文章专门介绍在我们的服务器上安装 RVM。

[http://wiki.dreamhost.com/Rvm](http://wiki.dreamhost.com/Rvm)

这应该对您遇到的问题提供一些见解。如果您无法解决，您也可以向我们的技术支持发送工单。 [https://panel.dreamhost.com/index.cgi?tree=support.msg&](https://panel.dreamhost.com/index.cgi?tree=support.msg&) 我希望这一切都有帮助！

问候， Justin H DreamHost 工作人员

# java - moveTaskToBack(true) 总是返回 false

> ID：14473537
> 
> 赞同：3
> 
> 时间：2013-01-23T06:13:10.273
> 
> 标签：java, android, android-activity

[我知道这里](https://stackoverflow.com/questions/11495188/how-to-put-application-to-background "这里")和[这里](https://stackoverflow.com/questions/5312334/how-to-handle-back-button-in-activity/5312426#5312426)之前也有人问过这个问题。他们没有正确回答（或根本没有回答）。但是，我不知道为什么`moveTaskToBack(true);`总是为我返回错误。谁能告诉我为什么以及如何解决问题？提前致谢。

```
public void onBackPressed() {       
    boolean r=  moveTaskToBack(true);
    //r is false !! using API LEVEL 8
} 
```

注意：我调用它的活动是`Activity`包含在 a中的子项，`tabActivity`并且这两者都不是**MAIN**或**LAUNCHER**活动。我不知道这是否会有所不同。

**编辑：** 因此应用程序不会进入后台。我希望它进入后台，就像按下硬件主页一样

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-01-23T07:49:00.437

我不知道为什么`moveTaskToBack(true)`要回来`false`找你。也许你的清单中有一些奇怪的东西？无论如何，您可以这样做来调出主屏幕：

```
Intent i = new Intent();
i.setAction(Intent.ACTION_MAIN);
i.addCategory(Intent.CATEGORY_HOME);
this.startActivity(i); 
```

但是，请注意[此消息](http://osdir.com/ml/Android-Developers/2010-03/msg01887.html)：

> “您无法模拟按下 Home 键。” — Roman Guy，Android 框架工程师

我不确定这与我建议的代码（我在与 Roman 的声明相同的线程上发现并且似乎有效）如何匹配。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-08-25T09:21:11.703

写吧：

```
@Override
public void onBackPressed() {
    moveTaskToBack(true);
    //  super.onBackPressed();
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-07-04T08:52:09.733

我遇到了类似的问题（*tabActivity 中包含的子 Activity*），当您在子活动中调用 moveTaskToBack(true) 时，它不起作用，而**在父活动中起作用**。您可以像这样在子活动中调用 moveTaskToBack(true)： `ChildActivity.this.getParent().moveTaskToBack(true)`

# windows-7 - Python 3 - “ImportError：没有模块名为……”

> ID：14473549
> 
> 赞同：3
> 
> 时间：2013-01-23T06:14:06.327
> 
> 标签：windows-7, python-3.x, importerror

我正在使用“ActivePython-3.2.2.3-win64-x64”时遇到错误`ImportError: No module named core.text`
实际上，它在 32 位 win7 中运行良好。但是最近，我安装了64位的win7。现在，当我尝试再次运行同一个文件时，它给了我一个错误。我的目录结构：

```
my_SQLi.py
core
   text.py 
```

所以，我此刻一无所知。为什么会报错！！！我应该在哪里做哪些改变？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-23T07:12:48.073

您需要`__init__.py`在目录中有一个文件`core`：这使它成为一个包，这意味着您可以使用“dotted”语法访问子模块`core.text`。该`__init__.py`文件可以为空。

参考：[http ://docs.python.org/3.3/tutorial/modules.html#packages](http://docs.python.org/3.3/tutorial/modules.html#packages)

# sql - 三个表未通过的 SELECT 查询

> ID：14473560
> 
> 赞同：0
> 
> 时间：2013-01-23T06:15:32.803
> 
> 标签：sql

我有`SELECT query`多个表的问题。我有三个表`customer, order and job`，我不想使用选择查询来填充数据集并使用它 datagridview。

```
Dim sql As String = "SELECT customer.name, order.date_taken, order.status, job.realisation FROM customer INNER JOIN order ON customer.id = order.id_customer " 
```

代码运行良好选择查询没有`job.realisation`.

在我的表单中，我从表中填充了下拉列表。在作业表中，`job.realisation`我只有列（实现为字符串），但我的订单表中没有 id_job 键，因为我正在使用来自 job.realisation 的项目填充下拉列表。问题是我想用上面的 SELECT 语句填充 datagridview，然后在我的订单包含的所有 job.realisiation 项目上添加复选框。`ID``realisation`

```
[Customer] [OrderDate] [job.realistion1] [job.realistion2] [job.realistion3] 

  ADAM      23.1.2013          x                                   x
  GREG      23.1.2013 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-23T06:17:53.447

那么您需要在查询中加入表格`job`，

```
SELECT  customer.name, 
        order.date_taken, 
        order.status, 
        job.realisation 
FROM    customer 
        INNER JOIN order 
            ON customer.id = order.id_customer
        INNER JOIN job
            ON [tableName].[columnName] = job.[columnName] 
```

`[tableName]`只需将和的值更改`[columnName]`为您的原始表名和列名。

# .net - 无法使用 Visual Basic 将具有 12 位小数的双精度/十进制值转换为字符串

> ID：14473561
> 
> 赞同：1
> 
> 时间：2013-01-23T06:15:34.710
> 
> 标签：.net, vb.net

我正在尝试将具有 12 位小数的双精度转换为字符串，但它只返回具有 10 位小数的字符串。

我尝试过`ToString`Format、FormatNumber、CStr 和`System.Convert.ToString`. 它们都返回 10 位小数。

（对于十进制数据类型也有相同的行为）

例子：

```
d = Date.Parse(sDate).ToOADate (value is 41261.001388888886)

d.ToString = 41261.0013888889

CStr(d) = 41261.0013888889

FormatNumber(d, 12) = 41,261.001388888900 
```

在 和 的情况下`Format`，`FormatNumber`当指定 12 位时，该值将四舍五入为 10 位。

当我为一个`DataView`对象构建一个过滤器时，就会出现这种情况。

有没有办法解决这个问题，或者这是一个限制`.Net`？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-23T06:55:53.277

在查看它[声明的十进制类型的 MSDN 页面](http://msdn.microsoft.com/en-us/library/xtba3z33%28v=vs.100%29.aspx) 时：

> 您可能需要使用 D 类型字符将较大的值分配给 Decimal 变量或常量。此要求是因为编译器将文字解释为 Long，除非文字类型字符跟在文字后面，如以下示例所示。

所以根据你的例子

```
Module Module1

    Sub Main()
        Dim d As Decimal
        d = 41261.001388888886D

        Console.WriteLine(d)
        Console.WriteLine(CStr(d))
        Console.WriteLine(FormatNumber(d, 12))
        Console.WriteLine(d.ToString("#0.000000000000"))
        Console.ReadLine()
    End Sub

End Module 
```

显示：

```
41261.001388888886
41261.001388888886
4,1261.001388888886
41261.001388888886 
```

* * *

试一试它似乎可以正常工作

```
Dim d As Decimal = CDec(String.Format("{0:G20}", Date.Parse(CStr(Now)).ToOADate)) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-23T15:12:54.587

Double.ToString 仅使用 15 位精度。

你应该使用`d.ToString("R")`

来自[MSDN](http://msdn.microsoft.com/en-us/library/dwhawy9k.aspx#RFormatString)：

> 往返 ("R") 格式说明符保证转换为字符串的数值将被解析回相同的数值。

...

> 当使用此说明符格式化 Single 或 Double 值时，首先使用通用格式对其进行测试，Double 精度为 15 位，Single 精度为 7 位。如果该值成功解析回相同的数值，则使用通用格式说明符对其进行格式化。如果该值未成功解析回相同的数值，则对 Double 使用 17 位精度，对 Single 使用 9 位精度对其进行格式化。

# jenkins - 在詹金斯启动声纳服务器

> ID：14473568
> 
> 赞同：0
> 
> 时间：2013-01-23T06:16:35.603
> 
> 标签：jenkins, hudson, sonarqube, jenkins-plugins

我如何在詹金斯启动声纳。我的系统中有声纳 3.1.1。
我对詹金斯没有深入的了解。我启动了 junkins 并添加了 sonar-junkins 插件。之后在 Manage jenkins -> Configure system 我添加了声纳，详细信息如下，

```
Name : sonar
Server URL : http://localhost:9000
Database URL : jdbc:mysql://localhost:3306/sonar?useUnicode=true&characterEncoding=utf8&rewriteBatchedStatements=true
Database login : sonar
Database password : sonar
Database driver : com.mysql.jdbc.Driver 
```

然后应用它并保存它。
但我在詹金斯中看不到任何与声纳有关的东西。我可以在 jenkins 中查看声纳的主页。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-23T08:15:15.363

[Sonar Jenkins Plugin](http://docs.codehaus.org/pages/viewpage.action?pageId=116359341)的文档页面上对所有内容进行了完美的描述，因此请仔细阅读所有页面并按照指南一步一步地进行操作，一切都应该没问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-23T10:18:14.600

要调用声纳独立分析，您必须配置所有项目属性。你做吧？这里有一个例子：

```
# required metadata
sonar.projectKey=yourapp:YourApplication
sonar.projectName=YourApplication
sonar.projectVersion=1.0

# path to source directories (required)
sonar.sources=yourApplication/JavaSource

# path to test source directories (optional)
sonar.tests=test

# path to project binaries (optional), for example directory of Java bytecode
sonar.binaries=YourApplication/build/classes/main

# optional comma-separated list of paths to libraries. Only path to JAR file and path to directory of classes are supported.
#sonar.libraries=path/to/library.jar,path/to/classes/dir

# The value of the property must be the key of the language.
sonar.language=java

sonar.dynamicAnalysis=reuseReports

#Surefire reports
sonar.surefire.reportsPath=yourApplication/build/test-results

sonargraph.prepareForSonar=true
# Additional parameters
#sonar.my.property=value 
```

In base of your version of sonar / jenkins this configuration should be slightly different Then, if you don't make any change in the base configuration of Sonar, you don't need to put user=sonar, password=sonar

# c# - 使用 C# 在 Silverlight 中从其他 Xml 编写一个 Xml

> ID：14473569
> 
> 赞同：-1
> 
> 时间：2013-01-23T06:16:42.850
> 
> 标签：c#, xml, silverlight

我有一个这样的xml文件

```
<SequenceFlow>
 <FlowWriteLine> hiiii </FlowWriteLine>
</SequenceFlow> 
```

我想用 C# 在 silverlight 中创建另一个 Xml 文件。XDocument 在 Silverlight 中使用。此 Xml 中的每个节点都等于另一个单词，例如

序列流=工作流，

FlowWriteLine=WriteLine

所以当我创建新的 Xml 时，它会像这样

```
<WorkFlow>
 <WriteLine> hiii </WriteLine>
</WorkFlow> 
```

那么我如何使用旧的 Xml 创建新的 Xml ..请帮助我......提前谢谢..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-23T10:14:47.213

您可以简单地根据当前节点名称设置节点名称。在下面的示例中，我使用了一个字典来替换节点名称。

您可以使用您拥有的任何其他逻辑来替换节点名称，就像在原始到新的映射中一样。

```
XDocument doc = XDocument.Parse(@"<SequenceFlow>
    <FlowWriteLine> hiiii </FlowWriteLine>
    <NotToBeReplaced>byeee</NotToBeReplaced>
    </SequenceFlow> ");

Dictionary<string, string> replacements = new Dictionary<string, string>() { { "SequenceFlow", "Workflow" }, { "FlowWriteLine", "WriteLine" } };

foreach (XElement child in doc.Root.DescendantsAndSelf())
{
    string replacementValue = string.Empty;
    if (replacements.TryGetValue(child.Name.LocalName, out replacementValue))   
    {
        child.Name = replacementValue;
    }
} 
```

以上给出的输出为

```
<Workflow>
  <WriteLine> hiiii </WriteLine>
  <NotToBeReplaced>byeee</NotToBeReplaced>
</Workflow> 
```

# javascript - 使用ajax获取所有子子属性值

> ID：14473571
> 
> 赞同：0
> 
> 时间：2013-01-23T06:16:45.177
> 
> 标签：javascript, jquery, ajax, xpath

这是我的 xml 文件：-

```
<root>
<child1 entity_id = "1" value= "Asia">
    <child2 entity_id = "2" value = "india">
        <child3 entity_id = "3" value = "Gujarat">
            <child5 entity_id = "5" value ="Rajkot"></child5>
        </child3>
        <child4 entity_id = "4" value = "Rajshthan">
            <child6 entity_id = "6" value = "Ajmer"></child6>
        </child4>
    </child2>
</child1>
</root> 
```

这是我的代码：-

```
<!DOCTYPE HTML>
<html lang="en-US">
<head>
    <meta charset="UTF-8">
    <title></title>
<script type="text/javascript" src="jquery.js"></script>
<script>
data = false;
loaded = false;

function loadChild(id) {
    if(!loaded) {
        ul = "<ul>";
        $(data).find("[entity_id='" + id + "']").children().each(function(){
             var value_text = $(this).attr('value');
             var id = $(this).attr('entity_id');

            ul += "<li id='" + id + "'>" + value_text + "</li>";
         });
         ul += "</ul>";
         $("#" + id).append(ul);
         loaded = true;
    }
}

 $(function() {
     $('#update-target a').click(function() {
         $.ajax({
             type: "GET",
             url: "final.xml",
             dataType: "xml",
             success: function(xml) {
                data = xml;
                //console.log(data);
                 $(xml).find('child1').each(function(){
                     var value_text = $(this).attr('value');
                     var id = $(this).attr('entity_id');
                     $("<li id='" + id + "' onclick=\"loadChild('" + id + "');\"></li>")
                         .html(value_text)
                         .appendTo('#update-target ol');
                 }); //close each(
             }
         }); //close $.ajax(
     }); //close click(
 }); //close $(
</script>
   </head>
   <body>
     <p>
       <div id='update-target'>
         <a href="#">Click here to load value</a>
         <ol></ol>
       </div>
     </p>

</body>
</html> 
```

我得到了这样的输出：-

亚洲 印度

我想要这样的输出：-

如果单击亚洲，则显示印度
如果单击印度，则显示古吉拉特邦和拉杰什坦
如果单击古吉拉特邦，则显示拉杰科特
如果单击拉杰什坦，则显示 Ajemr

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-23T09:15:43.730

首先，如果您想连续单击子值，则需要将**loadChild**函数添加为每个子列表项的单击事件。所以，而不是这条线

```
ul += "<li id='" + id + "'>" + value_text + "</li>"; 
```

你需要这条线

```
ul += "<li id='" + id + "' onclick=\"loadChild('" + id + "');\">" + value_text + "</li>"; 
```

然而，这就引出了下一个问题。您正在使用**加载**的全局变量来检查 XML 是否已被读取。但是一旦将其设置为 true（单击印度时），则 loadChild 函数将不会执行任何其他操作。您确实需要跟踪每个单独子项的**加载**值。例如，您可以在此处使用 jquery 数据功能

```
var obj = $("#" + id);
if(obj.data("loaded") == null)
{
   // Load data
}
obj.data("loaded", true); 
```

请注意，您需要避免的另一件事是，当单击子元素时，您希望避免父元素触发的 onclick 事件（这可能是因为子元素嵌入在父元素的**li**中），因此您将需要告诉浏览器不要冒泡点击事件。

```
event.cancelBubble = true; 
```

最后，为了稍微简化代码，您实际上可以让**update-target a**的点击处理程序调用您的**loadChild**函数，但使用 id 为 0 的“虚拟”元素。

请尝试以下代码：

```
<!DOCTYPE HTML>
<html lang="en-US">
<head>
    <meta charset="UTF-8">
    <title></title>
<script type="text/javascript" src="jquery.min.js"></script>
<script>
data = false;

function loadChild(id) {
    var obj = $("#" + id);

    if(obj.data("loaded") == null) {
        ul = "<ul>";
        var path = (id == 0) ? "root" : "[entity_id='" + id + "']";
        $(data).find(path).children().each(function(){
             var value_text = $(this).attr('value');
             var id = $(this).attr('entity_id');
             ul += "<li id='" + id + "' onclick=\"loadChild('" + id + "');\">" + value_text + "</li>";
         });
         ul += "</ul>";

         $("#" + id).append(ul);
         obj.data("loaded", true);
         event.cancelBubble = true;
    }
}

 $(function() {
     $('#update-target a').click(function() {
         $.ajax({
             type: "GET",
             url: "final.xml",
             dataType: "xml",
             success: function(xml) {
                data = xml;
                loadChild("0");
             }
         }); //close $.ajax(
     }); //close click(
 }); //close $(
</script>
   </head>
   <body>
     <p>
       <div id='update-target'>
         <a href="#">Click here to load value</a>
         <ol id="0"></ol>
       </div>
     </p>
</body>
</html> 
```

# javascript - 通过过滤器返回一个数组

> ID：14473572
> 
> 赞同：1
> 
> 时间：2013-01-23T06:16:47.857
> 
> 标签：javascript, angularjs

我有一个过滤器

```
angular.module('filters', []).filter('check', function(data) 
{
  return function(name)
   {
     var a=new Array();
     a[0]="hello";
     a[1]="hi";
     return a;
   };
}); 
```

如您所见，过滤器正在返回一个数组。我如何遍历模板（html页面）中的内容。

```
{{name|check:data}} 
```

我正在调用过滤器，它返回结果为：`["hello","hi"]`

如何遍历模板中的数组。请帮忙。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-23T06:43:14.783

您可以在 ng-repeat 中使用过滤器。

演示：http: [//jsfiddle.net/sunnycpp/YbdXQ/7/](http://jsfiddle.net/sunnycpp/YbdXQ/7/)

```
<div ng-controller="myCtrl">
    <input type="text" ng-model="strInput" >
    <ul>
        <li ng-repeat="text in strInput|split">
            {{text}}
        </li>
    </ul>
</div>

var angModule = angular.module('myApp', []);
angModule.filter('split',function() {
    return function(strData) {
        return strData.split(" ");
    }
});

angModule.controller("myCtrl", function($scope) {
    $scope.strInput = "Provide your input here";
}); 
```

# cookies - 从另一个域调用时访问我在域上设置的 cookie？

> ID：14473573
> 
> 赞同：0
> 
> 时间：2013-01-23T06:16:51.593
> 
> 标签：cookies, cross-domain, subdomain

现在想知道这是否可行。一位用户访问了我的网站 www.example.com，我在 *.example.com 上设置了一个 cookie。后来该用户访问了另一个不是我的子域（a.com）的站点。在 a.com 上，他们有一个脚本调用 www.example.com 说要访问 api。该请求是否包括可能已在我的域上设置的所有 cookie 供我查看？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T05:19:46.823

我自己使用测试服务器对此进行了测试，浏览器将向您的域发送与您的域匹配的所有 cookie，无论源位置如何

# c# - 在没有 javascript 的情况下获取客户端时间并回发

> ID：14473574
> 
> 赞同：1
> 
> 时间：2013-01-23T06:16:57.967
> 
> 标签：c#, asp.net, datetime

我需要知道客户的时间。我的做法是将偏移量保留在cookie中，然后计算。我的问题是我还需要插入 cookie，即使在加载第一页时也是如此。我知道有很多方法，但没有人回答需要。我需要在加载第一页之前使用本地时间。所以我不能使用JavaScript。

我试图在帖子中将用户发送回客户端，放入cookie然后将其返回给服务器，但这对谷歌来说是有问题的，因为他们没有cookie。

这是功能：

```
public static DateTime? GetClientTime()
    {
        HttpRequest Request = HttpContext.Current.Request;
        if (Request.Cookies["DynoOffset"] != null)
        {
            string strOffset = Request.Cookies["DynoOffset"].Value;
            int offset = int.Parse(strOffset);
            TimeZone localZone = TimeZone.CurrentTimeZone;
            DateTime currentDate = DateTime.Now;
            DateTime CreationDate = localZone.ToUniversalTime(currentDate).AddMinutes(-offset);
            return CreationDate;
        }
        else
        {
            StoreClientTime();
            return null;
        }
    }

    public static DateTime? StoreClientTime()
    {
        var Context = HttpContext.Current;
        var Session = Context.Session;
        var Response = Context.Response;
        var Request = Context.Request;
        // if the local time is not saved yet in Session and the request has not posted the localTime
        if (Request.Cookies["DynoOffset"] == null && String.IsNullOrEmpty(Request.Params["localTime"]))
        {
            // then clear the content and write some html a javascript code which submit the local time
            Response.ClearContent();
            Response.Write("<form id='local' method='post' name='local'>" +
                "<script src=\"/Js/jquery-1.7.1.min.js\" type=\"text/javascript\"></script>" +
                "<script src=\"/Js/JqueryUI/jquery.cookie.js\" type=\"text/javascript\"></script>" +
                "<script type=\"text/javascript\">" +
                    "$.cookie(\"DynoOffset\", new Date().getTimezoneOffset(), { expires: 150 });" +
                    "$(\"#local\").submit()" +
                "</script>" +
                "</form>");
            // 
            Response.Flush();

            // end the response so PageLoad, PagePreRender etc won't be executed
            Response.End();
            return null;
        }
        else
        {
            return GetClientTime().Value;
        }
    } 
```

我想根据calture找到偏移量，但我不知道该怎么做。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T15:55:39.040

一些东西：

*   您在 UTC 时间做的工作太多。只需使用`DateTime.UtcNow`.
*   脚本回发已成为过去。您已经展示了您正在使用 jquery，因此只需执行 ajax post 将其发送到服务器。这也将解决您的谷歌问题。
*   如果您的第一页需要，则发送 UTC 时间并在客户端上进行转换 - 或者执行 ajax get 来检索它。
*   请记住，用户可以将他们的时钟设置为他们想要的任何时区，并且由于夏令时/夏令时，许多用户的偏移量可以并且将会改变。如果您将它们的偏移量保存在永久 cookie 中，那么当它们在更改后返回时，您将有错误的时间。确保它在一个临时 cookie 中，并且它可能是您想要经常重置的东西。
*   您说您正在使用客户端的本地时间处理数据？能详细说明是为了什么吗？这是一件非常危险的事情，因为当地时间可能不明确。您可能应该基于 UTC 进行处理。如果您在处理时需要客户端的偏移量，则应`DateTimeOffset`在服务器上使用 a 。 [在这里回顾](https://stackoverflow.com/a/14269924/634824)。

# php - PHP 简单 HTML DOM 解析器：不包括标签

> ID：14473576
> 
> 赞同：1
> 
> 时间：2013-01-23T06:17:01.837
> 
> 标签：php, simple-html-dom

我需要排除一个

```
图像
```

标签来自

```
 <a href="http://www.facebook.com/xxxxxx">
     <img style="float: left; margin-right: 10px;" 
          src="http://profile.ak.fbcdn.net/xxxxx/xxxxx.jpg">
      Matt Cartledge
 </a> 
```

并且只得到文本即马特卡利奇。是否可以使用 php 简单的 html dom 解析器？谢谢。

```
$first_anchor = $list->find('a',0);
$prof_img = $first_anchor->find('img',0)->src;
echo $prof_name = $first_anchor->innertext;die(); 
```

我需要 prof_name 为“Matt Cartledge”。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-23T06:40:27.663

啊，明白了，它的 -> 明文；谢谢

如果我们使用 like $something->innertext;（它给出 $something 内的所有内容，包括其中的所有标签）并且如果我们使用 $something->plaintext;（它只给出不包括标签的文本）。

# php - 如何使用 php 检测和替换图像的一部分？

> ID：14473579
> 
> 赞同：0
> 
> 时间：2013-01-23T06:17:10.763
> 
> 标签：php, face-detection

> **可能重复：**
> [PHP 中的人脸检测](https://stackoverflow.com/questions/4159924/face-detection-in-php)

我希望能够检测图像的一部分，例如图像中的人脸`$filetoReplace`，然后
将其替换为图像中的另一张脸`$fileReplaceWith`。有什么办法可以在php中完成吗？

```
$filetoReplace = 'image/person.jpg';
$fileReplaceWith = 'image/anotherperson.jpg'; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-23T06:53:27.230

简短的回答：**是的**

长答案：是的，有可能（评论中已经提到：基本上一切皆有可能），但是如果没有图像处理和模式识别的知识，您将无法编写算法；这实际上是一种火箭科学:)

这意味着，您需要使用一些库。我会推荐 OpenCV，它是为此目的而构建的非常成熟的开源库（还有很多其他的）。已经有内置的人脸检测器。

我建议搜索“PHP 中的 OpenCV”以找到该库的 PHP 包装器，然后您需要弄清楚如何正确传递图像以在 OpenCV 中查找人脸`$filetoReplace`以及如何将矩形/椭圆替换为`$fileReplaceWith`.

# android - Android 高效位图处理

> ID：14473583
> 
> 赞同：0
> 
> 时间：2013-01-23T06:17:26.080
> 
> 标签：android, bitmap, android-gallery

我的场景：

在我的活动中，我必须显示 2 个画廊，1 个带有大图像，另一个是缩略图（与默认画廊应用程序完全相同）。

我的疑惑：

1.  我打算在 sdcard 中保存为 2 张图像（1 张大尺寸，另一张缩略图尺寸）以便快速处理。这是好习惯吗？因为它会增加尺寸。

2.  或者我应该将 BaseAdapter 的 getView 方法中的大图像调整为小尺寸以显示在缩略图库中吗？

哪一个是好的做法？我不想放慢我的应用程序。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-23T06:25:46.227

请参阅[此](http://android-er.blogspot.in/2012/11/list-mediastoreimagesthumbnails-in.html)示例。

我会建议你，只把你的大图像放在你的 SD 卡里。但是在运行时，Android 提供了一个很好的工具来`Thumbnails`使用`MediaStore.Images.Thumbnails`.

**编辑：**

您还可以使用[Loading Sample Sized Bitmap](http://developer.android.com/training/displaying-bitmaps/load-bitmap.html)。这将首先创建您要求的样本大小。然后会给你一个`Thumbnail`大小的`Bitmap`。

*StackOverflow 回答：*

1)[获取 SD 卡上图像的缩略图](https://stackoverflow.com/questions/4916159/android-get-thumbnail-of-image-on-sd-card-given-uri-of-original-image)

# java - 在android中创建短信模板？

> ID：14473584
> 
> 赞同：-4
> 
> 时间：2013-01-23T06:17:29.850
> 
> 标签：java, android, android-emulator, sms, smslib

谁能帮我找到一种方法来创建短信模板并通过编码保存它们……由于我是android新手，所以我无法找到解决这种情况的方法。非常感谢您的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-23T06:27:09.253

有很多方法可以做到这一点。您可以为模板和一个editText 和一个插入按钮创建一个数据库表。编写代码以在单击按钮时从表格中的编辑文本插入模板。从表中获取后，您可以在 listView 中显示保存的模板。您需要解决 sqlite 数据库来实现这一目标......

# javascript - Erlang 问题

> ID：14473585
> 
> 赞同：5
> 
> 时间：2013-01-23T06:17:42.087
> 
> 标签：javascript, erlang, coffeescript, weka, nltk

我们正在考虑将 Erlang 用于我们的新项目，该项目涉及一些丰富的 Web 应用程序和支持的数据/文本分析。在这方面，我有以下问题。

1.  有没有等同于 Erlang 的咖啡脚本？Coffeescript 本身为客户端编程带来了很多 Erlang 的优点。但是想检查除了咖啡脚本之外是否还有更接近 Erlang 样式/语法的东西。当然，我们知道大部分 erlang 核心功能在浏览器中是不可用的；我的问题更多是从语言结构的角度来看的。也许，JS 也支持 OO 和 Erlang 是 FP 的事实可能是在 Erlang 中表达 JavaScript 结构的障碍。

2.  Erlang 中是否有任何用于机器学习的开源工具？类似于用于机器学习的 Weka (Java) 或 R 以及用于文本挖掘的 Gate (Java)、NLTK (Python)？

提前致谢，

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-24T07:00:13.637

1.  据我所知，不存在类似的类似物。有一些试点项目，例如[erlyjs](http://ajaxian.com/archives/erlyjs-javascript-on-erlang)，但它们都是实验性的。
2.  您可以通过 Erlang[端口](http://www.erlang.org/doc/tutorial/c_port.html)使用外部机器学习库。在我的项目中，我使用[erlport](http://erlport.org/)。ErlPort 是一个 Python 库，它实现了 Erlang 外部术语格式和 Erlang 端口协议，以便更轻松地集成 Erlang 和 Python/NLTK。

# php - 在不循环多维数组PHP的情况下获取第一个子数组键

> ID：14473586
> 
> 赞同：0
> 
> 时间：2013-01-23T06:17:45.253
> 
> 标签：php, codeigniter, multidimensional-array

嗨，我有一个多维 l 数组。

```
Array
(
    [1] => Array
        (
            [38] => Fashion Retail | Fashion Accessories
        )

    [10] => Array
        (
            [194] => Automotive | 4x4
            [206] => Automotive | Aftermarket Parts and Kits
            [201] => Automotive | ATVs
        )

) 
```

我想获取第一个子数组的键，在这种情况下`1` ，我可以使用`foreach`循环获取它。

```
foreach($myarry as $key=>$val) 
```

有没有办法在没有循环的情况下实现这一点，请帮忙。提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-23T06:21:52.000

如果使用 >= PHP 5.5...

```
$first = array_keys($myarry)[0]; 
```

如果使用较旧的 PHP，只需在某处分配键，然后正常下标第一个元素。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-23T06:23:23.153

```
$arrKeys = array_keys($array);
$key = array_shift($arrKeys); // gives first key 
```

返回第一个键并将其从 中删除`arrKeys`，因此下一个键，在这种情况下为 10 将在下次调用时返回。无需制作另一个数组。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-23T06:24:31.837

是的，我做到了，我用过

```
current(array_keys($my_array)) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-23T06:42:18.300

请试试：

```
reset($myarry);
$first_key = key($myarry); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-23T06:24:39.970

```
print_r($myarry[array_keys($myarry)[0]]); 
```

# c# - C#中的NUNIT测试日志文件

> ID：14473590
> 
> 赞同：0
> 
> 时间：2013-01-23T06:17:56.620
> 
> 标签：c#, logging, nunit

我正在尝试验证 log4net 文件中是否记录了某些错误以及记录了多少次。我正在研究以下代码，该代码将读取一个值并断言它是否正确，但我想查看它在日志文件中出现的次数，而不是断言它是否为真。

```
private string logfile;

[SetUp]
public void SetUp()
{
    logfile = Path.Combine(
        Environment.GetEnvironmentVariable("ALLUSERSPROFILE"),
        "test.log");

    if (File.Exists(logfile))
        File.Delete(logfile);

    XmlConfigurator.Configure();
}

[Test] public void GivenLog4NetFileAppender_WhenLogInfoStringWithLog4Net_ThenWritesToDisk()
{
    ILog log = LogManager.GetLogger(typeof (LoggingIntegrationTests));
    log.Info("Error 2");

    LogManager.Shutdown();

    Assert.That(File.ReadAllText(logfile),
                Is.StringContaining("Error 2"));
} 
```

所以在上面的代码中，如果错误 2 被记录了 3 次，我想断言它出现了 3 次。谢谢你的帮助

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-23T06:38:47.507

您可以使用正则[表达式](http://msdn.microsoft.com/en-us/library/system.text.regularexpressions.regex.aspx)来计算给定字符串在另一个字符串中出现的次数：

```
[Test] 
public void GivenLog4NetFileAppender_WhenLogInfoStringWithLog4Net_ThenWritesToDisk()
{
    // arrange
    ILog log = LogManager.GetLogger(typeof (LoggingIntegrationTests));
    string  = "Error 2";

    // act
    log.Info(dataToLog);

    // assert
    LogManager.Shutdown();
    var matches = Regex.Matches(File.ReadAllText(logfile), dataToLog);
    Assert.AreEqual(3, matches.Count);
} 
```

# winapi - 当缓冲区已经足够大时，RegQueryValueEx 返回 ERROR_MORE_DATA

> ID：14473591
> 
> 赞同：1
> 
> 时间：2013-01-23T06:18:02.730
> 
> 标签：winapi, registry, getlasterror

对不起我纯英语。

我有两个进程可以读取和写入数据到相同的值（我的测试就是这样做的）。有时（每十次）读取方法失败，错误为 ERROR_MORE_DATA 并且值为 12。但我从 32 字节的测试中调用读取方法。

~~偶然我查看了@err,hr in watch (GetLastError()) 并看到了 ERROR_NOT_OWNER 错误代码。我知道第二个进程是阻塞密钥，我必须再试一次。~~

任何人都可以批准我的结论（MSDN 对此没有说什么）？谁能告诉我其他奇怪的效果？

谢谢你。

更新：我有 UAC 虚拟化。所有更改都存储到 [HKEY_CLASSES_ROOT\VirtualStore\MACHINE\SOFTWARE] 可能是效果虚拟化？？？

```
{
...
    char name[32] = "";
    grandchild.OpenValue("name").Read(name, _countof(name));
...
}
bool RegisteryStorageValue::Read(void* Buffer, size_t Size) throw (IOException)
{
    DWORD Value = DWORD(Size);
    DWORD rez = ::RegQueryValueEx(mKey, mName.c_str(), NULL, NULL, (BYTE*)Buffer, &Value);
    if (rez != ERROR_SUCCESS) // here I have 'rez = ERROR_MORE_DATA' and 'Value = 12'
        throw IOException(rez);
    return true;
}
bool RegisteryStorageValue::Write(Type type, const void* Buffer, size_t Size) throw (IOException)
{
    DWORD rez = ::RegSetValueEx(mKey, mName.c_str(), NULL, getRegType(type), (const BYTE*)Buffer, (DWORD)Size);
    if (rez != ERROR_SUCCESS)
        throw IOException(rez);
    return true;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-23T08:27:40.860

注册表函数不`GetLastError()`用于报告错误。它们直接返回错误代码。所以这`ERROR_NOT_OWNER`是误导，它来自早期的 Win32 API 调用，而不是注册表调用。

没有可能的方法可以传入`32`to的 Size 值`RegQueryValueEx()`并返回一个`ERROR_MORE_DATA`错误，说明数据实际上`12`是大小。 `RegQueryValueEx()`不能那样工作。确保您的`Size`值在进入`Read()`函数时实际设置为 32，而不是设置为其他值。

**更新：**但是，可以`RegQueryValueEx()`报告`ERROR_MORE_DATA`并返回比您请求的数据大两倍的数据大小，即使`RegSetValueEx()`实际上并没有传递那么多数据。当我运行您的测试代码时，我`RegQueryValueEx()`有时（不是每次）能够报告 64 的数据大小，即使请求的是 32。原因是`RegSetValueExA()`，您的代码实际调用的 为字符串类型（和）执行从 Ansi 到 Unicode 的数据转换，`REG_SZ`并且您的代码实际调用的 查询原始字节并对字符串执行 Unicode 到 Ansi 的转换类型。因此，虽然您编写的代码可能会保存 32 个值，即 32 个字节，但注册表实际上存储了 32 个`REG_MULTI_SZ``REG_EXPAND_SZ``RegQueryValueExA()``char``wchar_t`值，因此是 64 个字节（如果您的输入字符串中包含非 ASCII 字符，它会更多）。可能`RegQueryValueEx()`是按原样返回原始字节而不是转换它们，例如如果`RegSetValueEx()`先保存原始字节，然后再保存数据类型，但`RegQueryValueEx()`在保存数据类型之前读取原始字节，因此不会知道数据是需要转换的字符串类型。

无论哪种方式，这是一个线程/进程读取而另一个线程/进程正在写入之间的竞争条件，写入在刷新数据之前在内部缓存数据时出现读取问题等。除非您同步读取和写入，因为 Registry API 不会为您同步。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T05:36:40.137

我为我的问题写了样本。我在第三次开始时重复了这个问题。

如果样本是复杂的，您可以看到“查询复杂”和“SetComplite”消息

在错误时您应该看到：“错误更多数据：??”

```
#include <string>
#include <stdio.h>
#include <tchar.h>
#include <windows.h>

bool start(char* path, char* args)
{
    std::string cmd = path;
    cmd.push_back(' ');
    cmd.append(args);

    STARTUPINFO si = {0};
    PROCESS_INFORMATION pi = {0};
    BOOL res = ::CreateProcess(NULL, (LPSTR)cmd.c_str(), NULL, NULL, FALSE, 0, NULL, NULL, &si, &pi);
    if (res == FALSE)
        return false;

    ::CloseHandle(pi.hProcess);
    ::CloseHandle(pi.hThread);

    return true;
}

int _tmain(int argc, _TCHAR* argv[])
{
    HANDLE hEvent = ::CreateEvent(NULL, TRUE, FALSE, "Local/blah");

    if (argc == 1)
    {
        HKEY hKey;
        if (::RegCreateKey(HKEY_CURRENT_USER, "Software\\TestRegistry", &hKey) != ERROR_SUCCESS)
            return -1;

        char buffer[] = "Hello, Stack!";
        ::RegSetValueEx(hKey, "Value", 0, REG_SZ, (BYTE*)buffer, _countof(buffer));
        ::RegCloseKey(hKey);

        if (start(argv[0], "r") == false ||
            start(argv[0], "w") == false)
            return -2;
        ::Sleep(1000);
        ::SetEvent(hEvent);
    }
    else
    {
        if (argv[1][0] == 'r')
        {
            HKEY hKey;
            if (::RegOpenKey(HKEY_CURRENT_USER, "Software\\TestRegistry", &hKey) != ERROR_SUCCESS)
                return -1;

            char buffer[1024] = {0};
            if (::WaitForSingleObject(hEvent, 10000) == WAIT_TIMEOUT)
                return -3;
            for (size_t index = 0; index < 1000000; ++index)
            {
                DWORD dwType;
                DWORD dwSize = _countof(buffer);
                DWORD result = ::RegQueryValueEx(hKey, "Value", 0, &dwType, (LPBYTE)buffer, &dwSize);
                if (result == ERROR_SUCCESS)
                    continue;
                if (result == ERROR_MORE_DATA)
                {
                    ::printf_s("\nError more data: %d\n", dwSize);
                    return 1;
                }
            }
            ::RegCloseKey(hKey);
            ::printf_s("\nQuery completed\n");
        }
        else
        {
            ::srand(::GetTickCount());
            HKEY hKey;
            if (::RegOpenKey(HKEY_CURRENT_USER, "Software\\TestRegistry", &hKey) != ERROR_SUCCESS)
                return -1;

            const size_t word_size = 32;
            char dict[][word_size] =
            {
                "aaaaaaaa",
                "help me",
                "rape me",
                "in the pines",
                "argh",
            };
            char buffer[1024] = {0};

            if (::WaitForSingleObject(hEvent, 10000) == WAIT_TIMEOUT)
                return -3;
            for (size_t index = 0; index < 1000000; ++index)
            {
                DWORD dwType = REG_SZ;
                DWORD dwSize = word_size;
                DWORD result = ::RegSetValueEx(hKey, "Value", 0, dwType, (LPBYTE)dict[rand() % _countof(dict)], dwSize);
                if (result == ERROR_SUCCESS)
                    continue;
            }
            ::RegCloseKey(hKey);
            ::printf_s("\nSet completed\n");
        }
    }
    return 0;
} 
```

# php - 使用 Mandrill 发送电子邮件的简单 php 函数

> ID：14473592
> 
> 赞同：28
> 
> 时间：2013-01-23T06:18:03.657
> 
> 标签：php, mailchimp, mandrill

通过 Mailchimp 的 Mandrill 服务（使用 API）发送电子邮件的最简单方法是什么。

这是发送方法：[https ://mandrillapp.com/api/docs/messages.html#method=send](https://mandrillapp.com/api/docs/messages.html#method=send)

这是 API 包装器：[https ://bitbucket.org/mailchimp/mandrill-api-php/src/fe07e22a703314a51f1ab0804018ed32286a9504/src?at=master](https://bitbucket.org/mailchimp/mandrill-api-php/src/fe07e22a703314a51f1ab0804018ed32286a9504/src?at=master)

但我不知道如何制作一个通过 Mandrill 发送和发送电子邮件的 PHP 函数。

任何人都可以帮忙吗？

* * *

## 回答 #1

> 赞同：66
> 
> 时间：2013-01-23T17:57:07.633

我们还有一个官方的 PHP API 包装器，可[在 Bitbucket](https://bitbucket.org/mailchimp/mandrill-api-php)或通过[Packagist 获得](https://packagist.org/packages/mandrill/mandrill)，它为您包装了 Mandrill API。

如果您的 Mandrill API 密钥存储为环境变量，这里有一个使用模板发送的简单示例，其中包含一些合并变量和元数据：

```
<?php
require 'Mandrill.php';

$mandrill = new Mandrill(); 

// If are not using environment variables to specific your API key, use:
// $mandrill = new Mandrill("YOUR_API_KEY")

$message = array(
    'subject' => 'Test message',
    'from_email' => 'you@yourdomain.com',
    'html' => '<p>this is a test message with Mandrill\'s PHP wrapper!.</p>',
    'to' => array(array('email' => 'recipient1@domain.com', 'name' => 'Recipient 1')),
    'merge_vars' => array(array(
        'rcpt' => 'recipient1@domain.com',
        'vars' =>
        array(
            array(
                'name' => 'FIRSTNAME',
                'content' => 'Recipient 1 first name'),
            array(
                'name' => 'LASTNAME',
                'content' => 'Last name')
    ))));

$template_name = 'Stationary';

$template_content = array(
    array(
        'name' => 'main',
        'content' => 'Hi *|FIRSTNAME|* *|LASTNAME|*, thanks for signing up.'),
    array(
        'name' => 'footer',
        'content' => 'Copyright 2012.')

);

print_r($mandrill->messages->sendTemplate($template_name, $template_content, $message));

?> 
```

* * *

## 回答 #2

> 赞同：22
> 
> 时间：2013-01-23T07:45:41.393

Mandrill 接受`POST`所有 API 方法的 HTTP 请求，并将您的输入作为 JSON 字符串。这是发送电子邮件的基本示例。它用于`cURL`执行 HTTP 请求：

```
$uri = 'https://mandrillapp.com/api/1.0/messages/send.json';

$postString = '{
"key": "YOUR KEY HERE",
"message": {
    "html": "this is the emails html content",
    "text": "this is the emails text content",
    "subject": "this is the subject",
    "from_email": "someone@example.com",
    "from_name": "John",
    "to": [
        {
            "email": "blah@example.com",
            "name": "Bob"
        }
    ],
    "headers": {

    },
    "track_opens": true,
    "track_clicks": true,
    "auto_text": true,
    "url_strip_qs": true,
    "preserve_recipients": true,

    "merge": true,
    "global_merge_vars": [

    ],
    "merge_vars": [

    ],
    "tags": [

    ],
    "google_analytics_domains": [

    ],
    "google_analytics_campaign": "...",
    "metadata": [

    ],
    "recipient_metadata": [

    ],
    "attachments": [

    ]
},
"async": false
}';

$ch = curl_init();
curl_setopt($ch, CURLOPT_URL, $uri);
curl_setopt($ch, CURLOPT_FOLLOWLOCATION, true );
curl_setopt($ch, CURLOPT_RETURNTRANSFER, true );
curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false);
curl_setopt($ch, CURLOPT_POST, true);
curl_setopt($ch, CURLOPT_POSTFIELDS, $postString);

$result = curl_exec($ch);

echo $result; 
```

* * *

## 回答 #3

> 赞同：10
> 
> 时间：2015-12-17T18:01:32.257

```
// Simply Send Email Via Mandrill...

require_once 'Mandrill.php';
$mandrill = new Mandrill($apikey);

$message = new stdClass();
$message->html = "html message";
$message->text = "text body";
$message->subject = "email subject";
$message->from_email = "address@test.com";
$message->from_name  = "From Name";
$message->to = array(array("email" => "recipient@test.com"));
$message->track_opens = true;

$response = $mandrill->messages->send($message); 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2016-01-12T17:20:42.560

这是我可以给你的最基本的代码，我只是在几秒钟前为客户制作了它，它运行顺利。

```
require_once 'path/to/your/mandrill/file/Mandrill.php';
 try {
    $mandrill = new Mandrill('your-API-key');
    $message = array(
        'html' => $htmlMessage,
        'subject' => $subject,
        'from_email' => $fromEmail,
        'from_name' => $fromName,
        'to' => array(
            array(
                'email' => $toEmail,
                'name' =>  $toName,
                'type' => 'to'
            )
        )
    );
    $result = $mandrill->messages->send($message);
    print_r($result);
} catch(Mandrill_Error $e) {
    echo 'A mandrill error occurred: ' . get_class($e) . ' - ' . $e->getMessage();
    throw $e;
} 
```

还要检查他们的发送方法以获取更多选项，如标题、元数据、附件等。[https://mandrillapp.com/api/docs/messages.php.html#method-send](https://mandrillapp.com/api/docs/messages.php.html#method-send)

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2013-07-20T17:40:38.063

包括 PHP API：[https ://bitbucket.org/mailchimp/mandrill-api-php](https://bitbucket.org/mailchimp/mandrill-api-php)

代码：[https ://mandrillapp.com/api/docs/messages.php.html#method-send](https://mandrillapp.com/api/docs/messages.php.html#method-send)

您可以使用 ZF 的自动加载来包含包装器类或 Composer：[https ://mandrillapp.com/api/docs/index.php.html](https://mandrillapp.com/api/docs/index.php.html)

# html - 如何使用 css 或 JS 自定义 iframe 滚动条

> ID：14473594
> 
> 赞同：2
> 
> 时间：2013-01-23T06:18:13.693
> 
> 标签：html, jquery-ui, css

有什么方法可以用 css 或 js 自定义 iframe 滚动条，请访问[链接](http://www.jsfiddle.net/fr8Vf/3/)

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-01-23T09:48:34.690

请参阅以下链接之一：

[http://css-tricks.com/custom-scrollbars-in-webkit/](http://css-tricks.com/custom-scrollbars-in-webkit/)

[http://www.net-kit.com/jquery-custom-scrollbar-plugins/](http://www.net-kit.com/jquery-custom-scrollbar-plugins/)

它是完全可定制的..

# javascript - InfoBubble 未在 Safari 中正确计算 div 高度

> ID：14473595
> 
> 赞同：1
> 
> 时间：2013-01-23T06:18:21.150
> 
> 标签：javascript, google-maps, safari

我正在尝试使用名为[InfoBubble](http://google-maps-utility-library-v3.googlecode.com/svn/trunk/infobubble/examples/example.html/)的 Google Maps API v3 的自定义信息窗口实现。当我在本地进行开发时，Safari 将气泡渲染得很好。但是，当我将其上传到实时服务器时，它不再正确计算气泡内容的高度并显示滚动条（我不想要）（请参阅[http://luketilley.com/maps/](http://luketilley.com/maps/)）。

我做了一些调查，看起来问题来自这段代码：

```
InfoBubble.prototype.getElementSize_ = function(element, opt_maxWidth,
                                            opt_maxHeight) {
var sizer = document.createElement('DIV');
sizer.style['display'] = 'inline';
sizer.style['position'] = 'absolute';
sizer.style['visibility'] = 'hidden';

if (typeof element == 'string') {
  sizer.innerHTML = element;
} else {
  sizer.appendChild(element.cloneNode(true));
}

document.body.appendChild(sizer);
var size = new google.maps.Size(sizer.offsetWidth, sizer.offsetHeight);

// If the width is bigger than the max width then set the width and size again
if (opt_maxWidth && size.width > opt_maxWidth) {
  sizer.style['width'] = this.px(opt_maxWidth);
  size = new google.maps.Size(sizer.offsetWidth, sizer.offsetHeight);
}

// If the height is bigger than the max height then set the height and size
// again
if (opt_maxHeight && size.height > opt_maxHeight) {
  sizer.style['height'] = this.px(opt_maxHeight);
  size = new google.maps.Size(sizer.offsetWidth, sizer.offsetHeight);
}

document.body.removeChild(sizer);
delete sizer;
return size;
}; 
```

具体来说，这一行：

```
var size = new google.maps.Size(sizer.offsetWidth, sizer.offsetHeight); 
```

在调查 safari 报告的值后，我确认 safari 在本地和在线显示页面时确实报告了不同的值。

进行更多测试后，我还发现问题仅在我将图像添加到信息气泡时才开始（检查非洲海岸外的标记）。

这是我试图放入 info_bubble 的内容

```
info_content = '<div class="bubble">' +
                            '<h1>' + markerData.name + '</h1>' +
                            '<div class="icons">' +
                            icon_html +
                            '</div>' +
                            '<img src="' + markerData.image + '"/>' +
                            '<p>' + markerData.description + '</p>' +
                            '<p><a target="_blank" href="' + markerData.url + '"><img src="learn_more.png"/></a></p>' +
                        '</div>'; 
```

关于这里发生了什么的任何想法？有没有更好的方法来计算所需的大小？

**更新：**这可能是 Safari 的一个错误。我只是在调试器中花了一些时间，如果我设置断点并手动单步执行函数，它会做正确的事情，但如果我让它运行，它会继续行为不端。所以我想现在的问题是：有解决方法吗？

# asp.net - 在 ajax post ASP.NET MVC 中包含 antiforgerytoken

> ID：14473597
> 
> 赞同：190
> 
> 时间：2013-01-23T06:18:36.080
> 
> 标签：asp.net, ajax, asp.net-mvc, asp.net-mvc-3, csrf

我在使用 ajax 的 AntiForgeryToken 时遇到问题。我正在使用 ASP.NET MVC 3。我在[jQuery Ajax 调用和 Html.AntiForgeryToken()](https://stackoverflow.com/questions/4074199/jquery-ajax-calls-and-the-html-antiforgerytoken)中尝试了解决方案。使用该解决方案，现在正在传递令牌：

```
var data = { ... } // with token, key is '__RequestVerificationToken'

$.ajax({
        type: "POST",
        data: data,
        datatype: "json",
        traditional: true,
        contentType: "application/json; charset=utf-8",
        url: myURL,
        success: function (response) {
            ...
        },
        error: function (response) {
            ...
        }
    }); 
```

当我删除`[ValidateAntiForgeryToken]`属性只是为了查看数据（带有令牌）是否作为参数传递给控制器​​时，我可以看到它们正在被传递。但是由于某种原因，`A required anti-forgery token was not supplied or was invalid.`当我放回属性时仍然会弹出消息。

有任何想法吗？

**编辑**

antiforgerytoken 是在表单中生成的，但我没有使用提交操作来提交它。相反，我只是使用 jquery 获取令牌的值，然后尝试 ajax 发布它。

这是包含令牌的表单，位于顶部母版页：

```
<form id="__AjaxAntiForgeryForm" action="#" method="post">
    @Html.AntiForgeryToken()
</form> 
```

* * *

## 回答 #1

> 赞同：322
> 
> 时间：2013-01-23T06:32:12.933

您错误地指定了`contentType`to `application/json`。

这是一个如何工作的示例。

控制器：

```
public class HomeController : Controller
{
    public ActionResult Index()
    {
        return View();
    }

    [HttpPost]
    [ValidateAntiForgeryToken]
    public ActionResult Index(string someValue)
    {
        return Json(new { someValue = someValue });
    }
} 
```

看法：

```
@using (Html.BeginForm(null, null, FormMethod.Post, new { id = "__AjaxAntiForgeryForm" }))
{
    @Html.AntiForgeryToken()
}

<div id="myDiv" data-url="@Url.Action("Index", "Home")">
    Click me to send an AJAX request to a controller action
    decorated with the [ValidateAntiForgeryToken] attribute
</div>

<script type="text/javascript">
    $('#myDiv').submit(function () {
        var form = $('#__AjaxAntiForgeryForm');
        var token = $('input[name="__RequestVerificationToken"]', form).val();
        $.ajax({
            url: $(this).data('url'),
            type: 'POST',
            data: { 
                __RequestVerificationToken: token, 
                someValue: 'some value' 
            },
            success: function (result) {
                alert(result.someValue);
            }
        });
        return false;
    });
</script> 
```

* * *

## 回答 #2

> 赞同：65
> 
> 时间：2013-04-17T10:23:28.587

**我所做的另一种**（更少的javascriptish）方法是这样的：

## 首先，一个 Html 助手

```
public static MvcHtmlString AntiForgeryTokenForAjaxPost(this HtmlHelper helper)
{
    var antiForgeryInputTag = helper.AntiForgeryToken().ToString();
    // Above gets the following: <input name="__RequestVerificationToken" type="hidden" value="PnQE7R0MIBBAzC7SqtVvwrJpGbRvPgzWHo5dSyoSaZoabRjf9pCyzjujYBU_qKDJmwIOiPRDwBV1TNVdXFVgzAvN9_l2yt9-nf4Owif0qIDz7WRAmydVPIm6_pmJAI--wvvFQO7g0VvoFArFtAR2v6Ch1wmXCZ89v0-lNOGZLZc1" />
    var removedStart = antiForgeryInputTag.Replace(@"<input name=""__RequestVerificationToken"" type=""hidden"" value=""", "");
    var tokenValue = removedStart.Replace(@""" />", "");
    if (antiForgeryInputTag == removedStart || removedStart == tokenValue)
        throw new InvalidOperationException("Oops! The Html.AntiForgeryToken() method seems to return something I did not expect.");
    return new MvcHtmlString(string.Format(@"{0}:""{1}""", "__RequestVerificationToken", tokenValue));
} 
```

## 这将返回一个字符串

```
__RequestVerificationToken:"P5g2D8vRyE3aBn7qQKfVVVAsQc853s-naENvpUAPZLipuw0pa_ffBf9cINzFgIRPwsf7Ykjt46ttJy5ox5r3mzpqvmgNYdnKc1125jphQV0NnM5nGFtcXXqoY3RpusTH_WcHPzH4S4l1PmB8Uu7ubZBftqFdxCLC5n-xT0fHcAY1" 
```

## 所以我们可以像这样使用它

```
$(function () {
    $("#submit-list").click(function () {
        $.ajax({
            url: '@Url.Action("SortDataSourceLibraries")',
            data: { items: $(".sortable").sortable('toArray'), @Html.AntiForgeryTokenForAjaxPost() },
            type: 'post',
            traditional: true
        });
    });
}); 
```

它似乎工作！

* * *

## 回答 #3

> 赞同：57
> 
> 时间：2016-02-22T14:31:46.130

就是这么简单！当您`@Html.AntiForgeryToken()`在 html 代码中使用时，这意味着服务器已签署此页面，并且从该特定页面发送到服务器的每个请求都有一个防止黑客发送虚假请求的标志。因此，要让服务器对这个页面进行身份验证，您应该经过两个步骤：

1.发送一个名为`__RequestVerificationToken`并获取其值的参数，使用代码如下：

```
<script type="text/javascript">
    function gettoken() {
        var token = '@Html.AntiForgeryToken()';
        token = $(token).val();
        return token;
   }
</script> 
```

例如进行 ajax 调用

```
$.ajax({
    type: "POST",
    url: "/Account/Login",
    data: {
        __RequestVerificationToken: gettoken(),
        uname: uname,
        pass: pass
    },
    dataType: 'json',
    contentType: 'application/x-www-form-urlencoded; charset=utf-8',
    success: successFu,
}); 
```

第 2 步只需通过以下方式装饰您的操作方法`[ValidateAntiForgeryToken]`

* * *

## 回答 #4

> 赞同：12
> 
> 时间：2018-10-04T15:44:07.270

在 Asp.Net Core 中，您可以直接请求令牌，[如文档所示](https://docs.microsoft.com/en-us/aspnet/core/security/anti-request-forgery?view=aspnetcore-2.1#javascript)：

```
@inject Microsoft.AspNetCore.Antiforgery.IAntiforgery Xsrf    
@functions{
    public string GetAntiXsrfRequestToken()
    {
        return Xsrf.GetAndStoreTokens(Context).RequestToken;
    }
} 
```

并在 javascript 中使用它：

```
function DoSomething(id) {
    $.post("/something/todo/"+id,
               { "__RequestVerificationToken": '@GetAntiXsrfRequestToken()' });
} 
```

您可以添加推荐的全局过滤器，[如文档所示](https://docs.microsoft.com/en-us/aspnet/core/security/anti-request-forgery?view=aspnetcore-2.1#automatically-validate-antiforgery-tokens-for-unsafe-http-methods-only)：

```
services.AddMvc(options =>
{
    options.Filters.Add(new AutoValidateAntiforgeryTokenAttribute());
}) 
```

* * *

**更新**

上述解决方案适用于作为 .cshtml 一部分的脚本。如果不是这种情况，那么您不能直接使用它。我的解决方案是先使用隐藏字段来存储值。

我的解决方法，仍在使用`GetAntiXsrfRequestToken`：

当没有表格时：

```
<input type="hidden" id="RequestVerificationToken" value="@GetAntiXsrfRequestToken()"> 
```

该`name`属性可以省略，因为我使用该`id`属性。

*每个表单都*包含此令牌。因此，无需在隐藏字段中添加相同标记的另一个副本，您还可以通过 搜索现有字段`name`。请注意：文档中可以有多个表单，因此`name`在这种情况下不是唯一的。与*应该*是唯一的`id`属性不同。

 *在脚本中，按 id 查找：

```
function DoSomething(id) {
    $.post("/something/todo/"+id,
       { "__RequestVerificationToken": $('#RequestVerificationToken').val() });
} 
```

* * *

另一种无需引用令牌的替代方法是使用脚本提交表单。

样品形式：

```
<form id="my_form" action="/something/todo/create" method="post">
</form> 
```

令牌会作为隐藏字段自动添加到表单中：

```
<form id="my_form" action="/something/todo/create" method="post">
<input name="__RequestVerificationToken" type="hidden" value="Cf..." /></form> 
```

并在脚本中提交：

```
function DoSomething() {
    $('#my_form').submit();
} 
```

或者使用 post 方法：

```
function DoSomething() {
    var form = $('#my_form');

    $.post("/something/todo/create", form.serialize());
} 
```

* * *

## 回答 #5

> 赞同：8
> 
> 时间：2016-07-20T15:20:41.303

在 Asp.Net MVC 中，当您使用`@Html.AntiForgeryToken()`Razor 时，会创建一个带有名称的隐藏输入字段`__RequestVerificationToken`来存储令牌。如果您想编写 AJAX 实现，您必须自己获取此令牌并将其作为参数传递给服务器，以便对其进行验证。

第 1 步：获取令牌

```
var token = $('input[name="`__RequestVerificationToken`"]').val(); 
```

第 2 步：在 AJAX 调用中传递令牌

```
function registerStudent() {

var student = {     
    "FirstName": $('#fName').val(),
    "LastName": $('#lName').val(),
    "Email": $('#email').val(),
    "Phone": $('#phone').val(),
};

$.ajax({
    url: '/Student/RegisterStudent',
    type: 'POST',
    data: { 
     __RequestVerificationToken:token,
     student: student,
        },
    dataType: 'JSON',
    contentType:'application/x-www-form-urlencoded; charset=utf-8',
    success: function (response) {
        if (response.result == "Success") {
            alert('Student Registered Succesfully!')

        }
    },
    error: function (x,h,r) {
        alert('Something went wrong')
      }
})
}; 
```

**注意**：内容类型应为`'application/x-www-form-urlencoded; charset=utf-8'`

我已经在 Github 上上传了项目；您可以下载并尝试一下。

[https://github.com/lambda2016/AjaxValidateAntiForgeryToken](https://github.com/lambda2016/AjaxValidateAntiForgeryToken)

* * *

## 回答 #6

> 赞同：7
> 
> 时间：2016-09-01T16:39:23.227

```

        功能删除人员（ID）{

                var data = new FormData();
                data.append("__RequestVerificationToken", "@HtmlHelper.GetAntiForgeryToken()");

                $.ajax({
                    类型：'POST'，
                    url: '/人事/删除/' + id,
                    数据：数据，
                    缓存：假，
                    处理数据：假，
                    内容类型：假，
                    成功：函数（结果）{

                    }
                });

        }

        公共静态类 HtmlHelper
        {
            公共静态字符串 GetAntiForgeryToken()
            {
                System.Text.RegularExpressions.Match 值 = System.Text.RegularExpressions.Regex.Match(System.Web.Helpers.AntiForgery.GetHtml().ToString(), "(?:value=\")(.*)(? :\")");
                如果（价值。成功）
                {
                    返回值.Groups[1].Value;
                }
                返回 ””;
            }
        }

```

* * *

## 回答 #7

> 赞同：4
> 
> 时间：2018-11-09T18:12:05.000

在帐户控制器中：

```
 // POST: /Account/SendVerificationCodeSMS
    [HttpPost]
    [AllowAnonymous]
    [ValidateAntiForgeryToken]
    public JsonResult SendVerificationCodeSMS(string PhoneNumber)
    {
        return Json(PhoneNumber);
    } 
```

在视图中：

```
$.ajax(
{
    url: "/Account/SendVerificationCodeSMS",
    method: "POST",
    contentType: 'application/x-www-form-urlencoded; charset=utf-8',
    dataType: "json",
    data: {
        PhoneNumber: $('[name="PhoneNumber"]').val(),
        __RequestVerificationToken: $('[name="__RequestVerificationToken"]').val()
    },
    success: function (data, textStatus, jqXHR) {
        if (textStatus == "success") {
            alert(data);
            // Do something on page
        }
        else {
            // Do something on page
        }
    },
    error: function (jqXHR, textStatus, errorThrown) {
        console.log(textStatus);
        console.log(jqXHR.status);
        console.log(jqXHR.statusText);
        console.log(jqXHR.responseText);
    }
}); 
```

`contentType`设置为或从对象中`'application/x-www-form-urlencoded; charset=utf-8'`省略很重要...`contentType`

* * *

## 回答 #8

> 赞同：3
> 
> 时间：2015-06-27T21:22:40.973

我知道这是一个老问题。但无论如何我都会添加我的答案，可能会帮助像我这样的人。

如果您不想处理控制器发布操作的结果，例如调用控制器的`LoggOff`方法`Accounts`，您可以按照以下版本的@DarinDimitrov 的回答：

```
@using (Html.BeginForm("LoggOff", "Accounts", FormMethod.Post, new { id = "__AjaxAntiForgeryForm" }))
{
    @Html.AntiForgeryToken()
}

<!-- this could be a button -->
<a href="#" id="ajaxSubmit">Submit</a>

<script type="text/javascript">
    $('#ajaxSubmit').click(function () {

        $('#__AjaxAntiForgeryForm').submit();

        return false;
    });
</script> 
```

* * *

## 回答 #9

> 赞同：1
> 
> 时间：2019-08-13T09:19:35.243

如果令牌由不同的控制器提供，则令牌将不起作用。`Accounts`例如，如果控制器返回视图，但您返回控制器，`POST`它将不起作用`Clients`。

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2021-08-11T06:37:02.677

创建一个负责添加令牌的方法

```
var addAntiForgeryToken = function (data) {
    data.__RequestVerificationToken = $("[name='__RequestVerificationToken']").val();
    return data;
}; 
```

现在在将数据/参数传递给 Action 时使用此方法，如下所示

```
 var Query = $("#Query").val();
        $.ajax({
            url: '@Url.Action("GetData", "DataCheck")',
            type: "POST",
            data: addAntiForgeryToken({ Query: Query }),
            dataType: 'JSON',
            success: function (data) {
            if (data.message == "Success") {
            $('#itemtable').html(data.List);
            return false;
            }
            },
            error: function (xhr) {
            $.notify({
            message: 'Error',
            status: 'danger',
            pos: 'bottom-right'
            });
            }
            }); 
```

这里我的 Action 有一个字符串类型的参数

```
 [HttpPost]
    [ValidateAntiForgeryToken]
    public JsonResult GetData( string Query)
    { 
```

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2016-07-19T15:06:19.067

我尝试了很多解决方法，但没有一个对我有用。例外是 "The required anti-forgery form field "__RequestVerificationToken" 。

帮助我的是将表单 .ajax 转换为 .post：

```
$.post(
    url,
    $(formId).serialize(),
    function (data) {
        $(formId).html(data);
    }); 
```

* * *

## 回答 #12

> 赞同：0
> 
> 时间：2018-09-19T16:36:41.203

随意使用以下功能：

```
function AjaxPostWithAntiForgeryToken(destinationUrl, successCallback) {
var token = $('input[name="__RequestVerificationToken"]').val();
var headers = {};
headers["__RequestVerificationToken"] = token;
$.ajax({
    type: "POST",
    url: destinationUrl,
    data: { __RequestVerificationToken: token }, // Your other data will go here
    dataType: "json",
    success: function (response) {
        successCallback(response);
    },
    error: function (xhr, status, error) {
       // handle failure
    }
}); 
```

}

* * *

## 回答 #13

> 赞同：0
> 
> 时间：2021-11-17T08:55:00.787

```
 @using (Ajax.BeginForm("SendInvitation", "Profile",
        new AjaxOptions { HttpMethod = "POST", OnSuccess = "SendInvitationFn" },
        new { @class = "form-horizontal", id = "invitation-form" }))
    {
        @Html.AntiForgeryToken()
        <span class="red" id="invitation-result">@Html.ValidationSummary()</span>

        <div class="modal-body">
            <div class="row-fluid marg-b-15">
                <label class="block">                        
                </label>
                <input type="text" id="EmailTo" name="EmailTo" placeholder="forExample@gmail.com" value="" />
            </div>
        </div>

        <div class="modal-footer right">
            <div class="row-fluid">
                <button type="submit" class="btn btn-changepass-new">send</button>
            </div>
        </div>
    } 
```*

# list - Scala排序列表基于第二个属性，然后是第一个

> ID：14473607
> 
> 赞同：5
> 
> 时间：2013-01-23T06:19:09.373
> 
> 标签：list, scala, sorting, tuples

我希望首先根据长度对包含 (word, word.length) 的列表进行排序，然后按字母顺序对单词进行排序。所以给定：`"I am a girl"`输出应该是`a:1, I:1, am:2, girl:4` 我有以下代码，但不适用于所有示例

```
val lengths = words.map(x => x.length)
val wordPairs = words.zip(lengths).toList
val mapwords = wordPairs.sort (_._2 < _._2).sortBy(_._1) 
```

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-01-23T06:39:40.157

您可以按元组排序：

```
scala>  val words = "I am a girl".split(" ")
words: Array[java.lang.String] = Array(I, am, a, girl)

scala>  words.sortBy(w => w.length -> w)
res0: Array[java.lang.String] = Array(I, a, am, girl)

scala>  words.sortBy(w => w.length -> w.toLowerCase)
res1: Array[java.lang.String] = Array(a, I, am, girl) 
```

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2013-01-23T10:05:09.073

你可以在一行中做到这一点：

```
 "I am a girl".toLowerCase.split(" ").map(x => (x,x.length)).sortWith { (x: (String,Int), y: (String,Int)) => x._1 < y._1 } 
```

或分两行：

```
 val wordPairs = "I am a girl".split(" ").map(x => (x,x.length))
 val result = wordPairs.toLowerCase.sortWith { (x: (String,Int), y: (String,Int)) => x._1 < y._1 } 
```

# grails - 不兼容的 groovy 编译器版本

> ID：14473609
> 
> 赞同：3
> 
> 时间：2013-01-23T06:19:16.080
> 
> 标签：grails, groovy, grails-2.0

我在 Mac OS X 10.8.2 (Mountain Lion) 上安装了 grails-2.2.0，并且我正在使用正确安装 grails 和 Java 的 Groovy-Grails-Tool-Suite。但是，当我创建一个新的 Grails 项目时，我收到一条消息说 -

```
Some projects in your workspace use Grails 2.20 

You are using the Groovy 1.8.6.xx-20120921-2000-e43RELEASE compiler.

Grails requires version range 2.0.0

Various functionality may break if you use an incompatible compiler.

Set Preferences >> Groovy >> Compiler to change the compiler version. 
```

有人遇到过这种情况么。我正在使用基于 Eclipse 4.2 (Juno) 的 GGTS

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-23T11:39:07.027

从 GGTS 中的 Dashboard/Extensions 安装 Groovy 编译器，并将 Window -> Preferences -> Groovy -> Compiler 下的编译器更改为 2.x

# ruby-on-rails - 如何检查模型是否定义了范围？

> ID：14473612
> 
> 赞同：2
> 
> 时间：2013-01-23T06:19:25.037
> 
> 标签：ruby-on-rails, model, scope

```
class Idea < ActiveRecord::Base
  attr_accessible :archived, :checked, :content, :note, :stared

  scope :stared, -> { where(stared: true) 
end 
```

使用此代码，我如何测试是否`stared`在`Idea`. 我想要这个效果

```
Idea.has_scope?(:stared) 
=> true
Idea.has_scope?(:unknown)
=> false 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-23T06:33:54.413

你可以只使用respond_to吗？

```
Idea.respond_to?(:stared) 
```

将产生真/假

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-23T07:00:35.373

有一个方法[:valid_scope_name](http://apidock.com/rails/v3.2.8/ActiveRecord/Scoping/Named/ClassMethods/valid_scope_name?)在内部也使用`respond_to?`+ 也是一个受保护的方法 + 给出了一个可怕的日志消息。它可以被调用为

```
Idea.send(:valid_scope_name?,:stared)
=> true 
```

但这也将主要从 edgerails 中删除 - [git commit](https://github.com/rails/rails/commit/f6db31ec16e42ee7713029f7120f0b011d1ddc6c)

# ios - 如何使用 NSXMLParser 将 NSMutableDictionary 中的键值对设置为 XML 属性元素值

> ID：14473618
> 
> 赞同：2
> 
> 时间：2013-01-23T06:19:45.003
> 
> 标签：ios, xml, xcode, nsxmlparser

我正在使用**NSXMLParser**以以下结构解析我的 XML：

```
<characters>
    <character>
        <literal>本&lt;/literal>
        <codepoint>
            <cp_value cp_type="ucs">672c</cp_value>
            <cp_value cp_type="jis208">43-60</cp_value>
        </codepoint>
    </character>
</characters> 
```

我想使用`cp_value`元素的属性值作为键和元素值（例如 672c）作为值并将这个键值对放在我的`NSMutableDictionary` `*_codepoint`. 解析后，我希望结果（在控制台中）如下所示：

```
_codepoint: {
 "ucs"=672c;
 "jis208"=43-60;
} 
```

由于我已经实现了解析器（代码如下），我在控制台中得到了这个：

```
2013-01-22 22:12:46.199 MyApp[13391:c07] _codepoint: {
ucs = "\n        \n            ";
}
2013-01-22 22:12:46.201 MyApp[13391:c07] _codepoint: {
    jis208 = "\n        \n            672c\n            ";
} 
```

首先 - 值和键不同步，其次，jis208 元素的值没有被读入。其次，我不确定这些 \n 和空格是什么。有人可以给点建议吗？

我写的代码是：

```
- (void)parser:(NSXMLParser *)parser
didStartElement:(NSString *)elementName
  namespaceURI:(NSString *)namespaceURI
 qualifiedName:(NSString *)qName
    attributes:(NSDictionary *)attributeDict
{
    if([elementName isEqualToString:@"characters"]) {
        appDelegate.characters = [[NSMutableArray alloc] init];
    } else if ([elementName isEqualToString:@"character"]) {
        aCharacter = [[Character alloc] init];
    } else if ([elementName isEqualToString:@"cp_value"]) {
        if (!_codepoint) _codepoint = [[NSMutableDictionary alloc] init];
        [_codepoint setValue:currentElementValue forKey:[attributeDict valueForKey:[[attributeDict allKeys] lastObject]]];
        NSLog(@"_codepoint: %@", _codepoint);
    }
- (void)parser:(NSXMLParser *)parser foundCharacters:(NSString *)string
{
    if (!currentElementValue) {
        currentElementValue = [[NSMutableString alloc] initWithString:string];
    } else {
        [currentElementValue appendString:string];
    }
}
- (void)parser:(NSXMLParser *)parser didEndElement:(NSString *)elementName namespaceURI:(NSString *)namespaceURI qualifiedName:(NSString *)qName
{
    if ([elementName isEqualToString:@"characters"]
        // cp_values will be copied from a local NSMutableDictionary *_codepoint
        || [elementName isEqualToString:@"codepoint"]
        ) return;    
    if ([elementName isEqualToString:@"character"]) {
        [appDelegate.characters addObject:aCharacter];
        [aCharacter release];
    } else if ([elementName isEqualToString:@"cp_value"]){
        [aCharacter.codepoint addObject:_codepoint];
    }
} 
```

非常感谢您的关注。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-23T07:27:22.760

问题是您在将实际值读入**currentElementValue之前将****currentElementValue**添加到**_codepoint** ，即您在启动**cp_value**时将其添加。你应该在委托方法中将**currentElementValue**添加到**_codepoint** 。然后你会得到预期的结果。像这样修改你的代码：********`didEndElement:`********

 ******```
- (void)parser:(NSXMLParser *)parser didStartElement:(NSString *)elementName namespaceURI:(NSString *)namespaceURI qualifiedName:(NSString *)qName attributes:(NSDictionary *)attributeDict
{
    if([elementName isEqualToString:@"characters"]) {
        appDelegate.characters = [[NSMutableArray alloc] init];
    } else if ([elementName isEqualToString:@"character"]) {
        aCharacter = [[Character alloc] init];
    } else if ([elementName isEqualToString:@"cp_value"]) {
        if (!_codepoint) _codepoint = [[NSMutableDictionary alloc] init];
    currentAttributeKey = [[NSMutableString alloc]initWithString:[attributeDict valueForKey:[[attributeDict allKeys] lastObject]]];
}
- (void)parser:(NSXMLParser *)parser foundCharacters:(NSString *)string
{
    if (!currentElementValue) {
        currentElementValue = [[NSMutableString alloc] initWithString:string];
    } else {
        [currentElementValue appendString:string];
    }
}
- (void)parser:(NSXMLParser *)parser didEndElement:(NSString *)elementName namespaceURI:(NSString *)namespaceURI qualifiedName:(NSString *)qName
{
    if ([elementName isEqualToString:@"characters"] || [elementName isEqualToString:@"codepoint"]) 
        return;    
    if ([elementName isEqualToString:@"character"]) {
        [appDelegate.characters addObject:aCharacter];
        [aCharacter release];
    } else if ([elementName isEqualToString:@"cp_value"]){
        [_codepoint setValue:[[currentElementValue componentsSeparatedByCharactersInSet:[NSCharacterSet whitespaceAndNewlineCharacterSet]] componentsJoinedByString:@""] forKey:currentAttributeKey];
        currentElementValue = [[NSMutableString alloc]init];
        NSLog(@"_codepoint: %@", _codepoint);
        [aCharacter.codepoint addObject:_codepoint];
    }
} 
```

其中**currentAttributeKey**是 NSMutableString 将存储属性。在你的情况下**ucs** 和**jis208********

# c# - 通过比较日期存储和当前日期 MVC3 C# 检查到期

> ID：14473620
> 
> 赞同：0
> 
> 时间：2013-01-23T06:19:57.623
> 
> 标签：c#, linq

我正在通过比较 mvc3 控制器中保存的日期和当前日期来尝试 linq 查询检查到期

```
[AllowAnonymous]
   public ActionResult _leftHomeAd()
    {    var LhAd = db.Adverts
         .Where(u => u.ACatId ==1)
         .Where(u => u.OffDate <= DateTime.Now.Day);
          return PartialView(LhAd); 
```

我得到了我不能使用 <= 作为系统日期的错误。有人可以指出我正确的方向，以便我的查询只能检索未过期的广告。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-23T06:24:14.223

你应该从

```
DateTime.Now.Day 
```

至

```
DateTime.Now.Date 
```

因为`Day`是`int`，不是`DateTime`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-23T06:25:14.587

你为什么用`DateTime.Now.Day`？更改：

```
.Where(u => u.OffDate <= DateTime.Now); 
```

# r - 孤儿包礼仪

> ID：14473622
> 
> 赞同：20
> 
> 时间：2013-01-23T06:20:04.547
> 
> 标签：r, package

我刚才注意到我使用的一个包已经“孤立”了，这意味着它不再有一个活跃的维护者。发生这种情况的原因是（来自[本文档](http://cran.r-project.org/src/contrib/Orphaned/README)）：

> 1) 当前维护者积极地想要孤立包，
> 例如，由于不再有时间或兴趣充当包
> 维护者。
> 
> 2) CRAN 管理员发送给当前维护者的电子邮件被退回，或者长时间没有得到答复。

同一份文件还写道（强调）：

> 非常欢迎每个人都担任孤儿包的维护者。 ***只需***下载包源，如有必要进行更改（尊重原始作者和许可！），然后 ***在包的说明文件中使用您作为维护者的名称将包重新提交给 CRAN***。

我发现这个包很有用，并且不想看到它被归档，因为它`R CMD CHECK`将来会失败，所以这里是我的问题：

*   对假设孤立包的“维护者”状态的一般态度是什么？

*   如果原因 (2) 是罪魁祸首，但最后的维护者仍然想要承担责任并*[插入假设情况]*怎么办？

*   我可以看看这种情况的任何例子吗？

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-01-23T07:22:22.063

第一步是联系当前的维护者并提供帮助。根据我自己的经验，包维护者很高兴知道至少还有其他人重视他们的工作，并乐于接受帮助维护老化的代码库的提议。

如果您没有得到当前维护者的回复，那么我建议您承担责任并向 CRAN 提交更新版本。CRAN 有针对这些事件的政策，并且仍会尝试联系之前的维护者。

万一当前的维护者不想合作，那么您可以选择分叉包并创建自己的版本。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2015-02-09T14:07:21.750

Andrie 的回答提到联系当前的维护者。虽然这是绝对正确的，但在很多情况下，包被 CRAN 孤立的原因恰恰是由于电子邮件地址损坏，仅此而已。因此，包维护者没有回答根本不能证明他不再对他的包不感兴趣。查看[孤立包列表中的](http://cran.r-project.org/src/contrib/Orphaned/PACKAGES.csv)`BOUNCE`所有（许多 .edu/.ac 在人员更换机构时被禁用）和`NOREPLY`（邮箱不再被维护者检查）行。

一些评论暗示了这个方向：与 Andrie 的回答所暗示的相比，您可能想要付出更多的努力来联系以前的维护者。我建议如下：

*   尝试在社交网络（LinkedIn、ResearchGate 等）上搜索新地址或联系点，尤其是围绕 R（R-help 邮件列表，甚至 SO / CrossValidated）
*   如果是学术作者，试着找一篇最近的论文，它可以提到一个新的机构，给你一个很好的起点。
*   可能有另一个包由同一个人维护，但另一个电子邮件地址仍在工作
*   合作者（尤其是包的共同作者）可能知道如何联系维护者，并且可能会帮助您。如果是`sapa`，您可以联系 Donald Percival。如果他自己没有担任维护者的角色（他现在似乎是包的维护者），他很可能会给你最新的联系信息，或者自己联系旧的维护者（并且自从请求来自“受信任”的一方，它最有可能成功）。在其他情况下，其他论文的合著者也可以为您提供帮助。

只有当这一切都失败时，您才应该按照 Andrie 的回答中所述继续自己成为维护者。

举个例子，我的包裹在过去是孤立的，因为我离开大学一段时间后，一个旧的机构电子邮件地址被禁用了。我知道它会被禁用，但我完全没有意识到它会影响我的包裹。当我准备提交更新时，我意识到这个包是孤立的。幸运的是，在此期间没有人接管它，但如果有人接管它，我会讨厌它。

电子邮件地址更改在专业和学术环境中很常见，因此请记住，维护者可能只是不知道他的包已被孤立。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2015-02-23T21:57:36.703

Re **sapa**包：我从**ForeCA**包中`NAMESPACE`调用它时遇到问题。为了成功（不头痛）提交 CRAN，我最终联系了**sapa**的所有者Don Percival，并基本上通过电子邮件向他发送了一个固定包（只有几行固定/声明）。****`Imports``Depends`****

 ****他对尽快推出新版本很有帮助，[现在它在 CRAN](http://cran.r-project.org/web/packages/sapa/index.html)（版本`2.0-1`）上通过了所有[CRAN 检查](http://cran.r-project.org/web/checks/check_results_sapa.html)。****

# c# - 如何计算使用javascript在gridview中检查的复选框数量（跨gridview的所有页面）

> ID：14473623
> 
> 赞同：-2
> 
> 时间：2013-01-23T06:20:09.590
> 
> 标签：c#, javascript, asp.net

我处于需要你帮助的情况。

我在javascript中编写了下面的代码，它检查在gridview中检查了多少个复选框并显示消息但是它仅限于我的gridview的一个页面并且当我移动到下一页时不起作用，有什么方法可以让javascript代码检查多少个复选框已经检查了gridview的所有页面？

```
function CheckBoxCount()
    {
     var gv = document.getElementById("<%= Gridview1.ClientID %>");
     var inputList = gv.getElementsByTagName("input");
     var numChecked = 0;

     for (var i = 0; i < inputList.length; i++)
      {
        if (inputList[i].type == "checkbox" && inputList[i].checked)
         {
          numChecked = numChecked + 1;
          if( numChecked > 8)
          {
           alert('Only Eight items could be added in final grid');
           break;
          }
         }
      }

    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T10:26:00.613

试试下面的代码：

Javascript：

```
function gvCheckBoxClick(currentCheck) {

            var input = document.getElementById("<%=gvRuleList.ClientID %>");
            var chekRowCount = document.getElementById("<%=chkRowCount.ClientID %>").value;

            if (currentCheck.type == "checkbox") {
                if (currentCheck.checked == true) {
                    chekRowCount++;
                }
                else {
                    chekRowCount--;
                }
            }

} 
```

网格视图：

```
<Columns>
    <asp:TemplateField HeaderText="<%$ Resources:Opm_RuleList_ListHeader_Select %>">
        <ItemTemplate>
            <asp:CheckBox ID="chkSelect" runat="server" onclick="javascript:gvCheckBoxClick(this);"/>
        </ItemTemplate>
    </asp:TemplateField>
</Columns> 
```

使用隐藏变量

```
<input type="hidden" id="chkRowCount" name="chkRowCount" runat ="server" value="0" /> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-23T06:28:07.857

```
alert($('input[name=checkbox_name]').attr('checked'));
             or
alert($("input:checkbox:checked").length); 
```

如果他们没有工作，请检查：[计算使用 jquery 检查的 html 复选框的数量](https://stackoverflow.com/questions/1957290/calculate-the-number-of-html-checkbox-checked-using-jquery)

*** 不要忘记在你的标记中添加 Jquery.min.js

# video-streaming - 使用 flowplayer 在 ipad 中进行多比特流传输

> ID：14473626
> 
> 赞同：1
> 
> 时间：2013-01-23T06:20:35.863
> 
> 标签：video-streaming, html5-video, rtmp, flowplayer

使用 flowplayer（flash 版本），我可以使用 rtmp 协议通过 smil 文件加载多比特率视频文件。

相应的脚本如下

```
<script>
flowplayer("bplayer", "http://releases.flowplayer.org/swf/flowplayer-3.2.15.swf", {
    clip: {
        url: "bitrates3.smil.xml",
        autoPlay: true,
        provider: 'rtmp',
        urlResolvers: [ 'smil', 'bwcheck' ]
    },
    plugins: {

         smil: {
            url: "http://releases.flowplayer.org/swf/flowplayer.smil-3.2.8.swf"
        },
bwcheck: {
    url: "http://releases.flowplayer.org/swf/flowplayer.bwcheck-3.2.11.swf",
    serverType: 'wowza',
    dynamic: true,
    netConnectionUrl: 'rtmp://video.abc.com/cdn',
   },
rtmp: {
    url: "http://releases.flowplayer.org/swf/flowplayer.rtmp-3.2.11.swf",
    netConnectionUrl: 'rtmp://video.abc.com/cdn'
},
}
}).ipad();
</script> 
```

这是 smil 文件 - bitrates3.smil.xml（视频路径是虚拟的）

```
<?xml version="1.0" encoding="utf-8"?>
<smil>
  <head>
    <meta base="rtmp://itl.bc-s.cdn.bitgravity.com/cdn" />
  </head>
  <body>
    <switch>
      <video src="mp4:/abc/secure/A-081207-L.mp4" system-bitrate="800" width="480" />
      <video src="mp4:/abc/secure/A-081207-M.mp4?" system-bitrate="1200" width="720" />
      <video src="mp4:/abc/secure/A-081207-S.mp4?" system-bitrate="1600" width="1080" />
    </switch>
  </body>
</smil> 
```

我还可以使用与 flowplayer 关联的 ipad 插件在 iPad 上独立播放视频。

相应的代码如下：

```
<html>
<head>
<title></title>
</head>
<body>
<script>
    head.js(
        "http://ajax.googleapis.com/ajax/libs/jquery/1.7/jquery.js",
        "http://cdn.jquerytools.org/1.2.6/all/jquery.tools.min.js",
        "http://releases.flowplayer.org/js/flowplayer-3.2.11.min.js", function(){

head.js("http://releases.flowplayer.org/js/flowplayer.ipad-3.2.12.min.js");

    });
  $f("player", "http://releases.flowplayer.org/swf/flowplayer-3.2.15.swf").ipad();

 </script>
<!-- player container-->
<a href="http://video.abc.com/secure/A-20110128-L.mp4?e=0"    class="player"     style="display:block;width:425px;height:300px;margin:10px auto" id="player"> <img src="dummy-image.jpg" alt="Search engine friendly content" /> </a>
</body>
</html> 
```

如何组合这些代码，以便多比特率切换必须适用于所有浏览器和设备？我有支持不同设备/浏览器的必要格式的视频文件。

我试图在剪辑的 ipadURL 属性中添加 http 视频链接并调用 ipad() 函数，但随后我得到一个空白的黑屏并且没有任何效果（甚至在浏览器上也没有）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-23T08:22:17.583

RTMP 将无法在 Ipad 上运行。RTMP 是一种 Flash 流媒体协议。对于 IOS，HTTP-live-streaming 是用于流式传输的协议。

# c# - 确定是否安装了 ReportViewer 的最佳方法

> ID：14473630
> 
> 赞同：3
> 
> 时间：2013-01-23T06:20:42.377
> 
> 标签：c#

确定 reportviewer`WindowsInstaller-KB893803-v2-x86`是否安装在 PC 上的最佳方法是什么？有没有办法找出用于确定 PC 上是否安装了特定程序的公钥？[（试过这个，没有用）](http://blogs.msdn.com/b/wriju/archive/2008/07/01/how-to-find-public-key-token-for-a-net-dll-or-assembly.aspx)

[确定是否安装了 .NET 3.5 的最佳方法](https://stackoverflow.com/questions/16178/best-way-to-determine-if-net-3-5-is-installed) 这是如何检查是否安装了 .NET 3.5，但我认为您需要另一个公钥才能知道是否安装了报告查看器，但我不知道如何获取公钥。

我能想到的就是检查计算机上是否存在安装目录，这是一种可以接受的检查方式吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-23T08:13:36.800

你可以在`Registry`

```
 public bool IsInstalled()
    {
        RegistryKey registryBase = RegistryKey.OpenRemoteBaseKey(RegistryHive.LocalMachine, string.Empty);
        if (registryBase != null)
        {
            return registryBase.OpenSubKey("Software\\Microsoft\\ReportViewer\\v2.0.50727") != null;
        }
        return false;
    } 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-10-18T00:52:05.650

在我的机器（Win7 和 Server 2012）中，注册表项不同。

```
bool exist = false;
RegistryKey registryBase = RegistryKey.OpenRemoteBaseKey(RegistryHive.LocalMachine, string.Empty);
if (registryBase != null)
{
    exist = registryBase.OpenSubKey("Software\\Wow6432Node\\Microsoft\\.NETFramework\\v2.0.50727\\AssemblyFoldersEx\\ReportViewer v10") != null;
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-24T08:22:23.493

您还可以向 GAC 查询程序集，如此[SO](https://stackoverflow.com/questions/12158170/querying-the-x64-gac)问题中所示。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-05-20T15:54:53.970

我在 MS Report Viewer 版本 10 安装上做了一个 Regshot 差异来找到密钥，因为这里发布的其他人都没有工作。

这是新的 Windows 服务器 VM 上[的实际差异结果。](https://gist.githubusercontent.com/avianbc/374c4b003c64c798460e/raw/gistfile1.txt)

无论如何，我为这个版本找到的关键是：

```
SOFTWARE\Wow6432Node\Microsoft\ReportViewer\v10.0 
```

我使用的代码：

```
public bool IsInstalledReportViewer()
{
    try
    {
        RegistryKey registryBase = RegistryKey.OpenRemoteBaseKey(RegistryHive.LocalMachine, string.Empty);
        if (registryBase != null)
        {
            // check the two possible reportviewer v10 registry keys
            return registryBase.OpenSubKey(@"Software\Microsoft\ReportViewer\v2.0.50727") != null
                || registryBase.OpenSubKey(@"Software\Wow6432Node\Microsoft\.NETFramework\v2.0.50727\AssemblyFoldersEx\ReportViewer v10") != null
                || registryBase.OpenSubKey(@"SOFTWARE\Wow6432Node\Microsoft\ReportViewer\v10.0") != null;
        }
    }
    catch (Exception ex)
    {
        Debug.WriteLine(ex);
        // put proper exception handling here
    }

    return false;
} 
```

# android - Android Activity/PreferenceFragment 生命周期？

> ID：14473632
> 
> 赞同：4
> 
> 时间：2013-01-23T06:21:06.483
> 
> 标签：android, android-lifecycle

我有一个非常简单的首选项设置，其中 a`PreferenceFragment`添加到`Activity`. 这`Activity`也是一个`OnSharedPreferenceChangeListener`，因为我想在更新该首选项时更新该首选项的摘要。这是`Activity`：

```
public class PrefsActivity extends Activity implements OnSharedPreferenceChangeListener {

    private static final String PREF_KEY = "key goes here";

    private PrefsFragment pf;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        pf = new PrefsFragment();
        getFragmentManager().beginTransaction().replace(android.R.id.content, pf).commit();
        // pf.getPreferenceScreen() throws a NullPointerException here
    }

    @Override
    protected void onPause() {
        super.onPause();
        PreferenceManager.getDefaultSharedPreferences(this).unregisterOnSharedPreferenceChangeListener(this);
    }

    @Override
    protected void onResume() {
        super.onResume();
        updateSummary();
        PreferenceManager.getDefaultSharedPreferences(this).registerOnSharedPreferenceChangeListener(this);
    }

    @Override
    public void onSharedPreferenceChanged(SharedPreferences prefs, String key) {
        if (key.equals(PREF_KEY)) {         
            updateSummary();
        }
    }

    private void updateSummary() {
        Preference p = pf.getPreferenceScreen().findPreference(PREF_KEY);
        p.setSummary("Some string containing the updated value");
    }

} 
```

PreferenceFragment 同样简单：

```
public class PrefsFragment extends PreferenceFragment {

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        addPreferencesFromResource(R.xml.preferences);
        // At this point getPreferenceScreen() returns correctly
    }

} 
```

`getPreferenceScreen()`事情是这样的：在`PreferenceFragment`它被实例化并添加到`Activity`in`onCreate`之后立即调用`PrefsActivity`，抛出一个`NullPointerException`. 似乎在调用返回后立即`getPreferenceScreen()`开始返回of 中的`PreferenceScreen`对象。`onCreate()``PrefsFragment``addPreferencesFromResource()`

所以我的问题是：由于在被添加到`getPreferenceScreen()`之后立即抛出 NPE ，被异步调用的 是在不同的线程中吗？否则我会期望在之后立即正常返回。`PreferenceFragment``Activity``onCreate()``PreferenceFragment``getPreferenceScreen()``getFragmentManager().beginTransaction().replace(android.R.id.content, pf).commit()`

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-23T07:14:07.780

> PreferenceFragment 的 onCreate() 是在不同的线程中异步调用的吗？

不，它在主线程上同步运行。这意味着它必须等到`Activity`s`onCreate`退出才能运行。`FragmentManager` 调度`Fragment`回调，但直到当前回调（活动的）完成后才会执行`onCreate`。

You have a few other places to access your `PreferenceScreen`. `OnStart` is called when the UI is ready, so the `Fragment` will be ready. `onResume` is called after `onStart` and is probably the best place to put something since it is invoked after coming back from a pause, too.

# wcf - 安装没有 MSI 的 WCF 服务

> ID：14473633
> 
> 赞同：1
> 
> 时间：2013-01-23T06:21:15.057
> 
> 标签：wcf

我在 Win 7 64 上使用 .NET 3.5、VS 2010 开发了 WCF 服务。这将托管在 Windows 服务中。我创建了一个 Windows 服务项目，通过 rt-clicking 将安装程序添加到该项目中。还添加了 WCF dll。

出于测试目的，我通过运行从 Windows 服务项目发布文件夹传入服务 exe 的 InstallUtill.exe 来安装此服务。一切正常，我可以在 Services.msc 中看到该服务，并且客户端可以访问它们。

客户不想要 MSI，所以我必须给他 Windows 服务项目的发布文件夹。

以下是我的问题：

1.  是否需要将默认为 MSI 项目添加的 .NET 框架要求添加到 Windows 服务项目。如果是，那么我该怎么做呢？

2.  客户端可以使用框架中的 InstallUtil.exe，还是有另一种方法可以在没有 VS 的机器上安装？

3.  是否需要为 32 位和 64 位系统构建服务？

我知道 InstallUtil.exe 是框架的一部分，任何有它的机器都可以使用，但出于好奇，有没有其他方法可以在没有 MSI 的情况下安装 Windows 服务？

问候。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-10-21T15:45:54.323

我不了解 InstallUtil.exe，但我知道要手动安装 WCF 服务，您需要：

*   向客户端提供要求（.NET 框架，安装 WCF）
*   在 IIS 中为该服务创建一个文件夹
*   在该文件夹中创建一个 bin 文件夹
*   复制第一个文件夹中的.svc和web.config，复制bin文件夹中的.dll
*   在 IIS 中，右键单击文件夹并转换为应用程序（这两个文件夹）
*   确保文件夹具有适当的权限

在我的工作中，我不得不在几台机器上进行测试。但最后，我们为客户做了一个 MSI。

希望对你有帮助！

# java - sharedPreferences 帮助。如何保存int？

> ID：14473640
> 
> 赞同：0
> 
> 时间：2013-01-23T06:21:45.347
> 
> 标签：java, android, sharedpreferences, android-preferences

我一生都无法弄清楚如何保存一个int。我要做的就是保存`leftCounter`到一个文件中，并在我重新启动代码时检索它。

```
public class SalesTrack extends Activity {

   byte leftCounter = 0;
   byte centerCounter = 0;
   byte rightCounter = 0;
   int total;
   int x, y, z;

   public static final String PREFS = "data";

   TextView counterAAL, counterUPG, counterNL, counterTotal;

   private final String LEFTY = "6";

   @Override
   protected void onCreate(Bundle savedInstanceState) {
       super.onCreate(savedInstanceState);
       setContentView(R.layout.activity_sales_track);

       counterAAL = (TextView) findViewById(R.id.left_number);
       counterUPG = (TextView) findViewById(R.id.center_number);
       counterNL = (TextView) findViewById(R.id.right_number);
       counterTotal = (TextView) findViewById(R.id.total);

       SharedPreferences sharedPref = this.getSharedPreferences(LEFTY, 0);
       sharedPref.getInt("data", leftCounter);
       counterAAL.setText(PREFS);
   }

   public void LeftInc(View v) {
       leftCounter++;
       counterAAL.setText("" + leftCounter);
       Refresh();
   }

   public void LeftDec(View v) {
       leftCounter--;
       counterAAL.setText("" + leftCounter);
       Refresh();
   }

   public void CenterInc(View v) {
       centerCounter++;
       counterUPG.setText("" + centerCounter);
       Refresh();
   }

   public void CenterDec(View v) {
       centerCounter--;
       counterUPG.setText("" + centerCounter);
       Refresh();
   }

   public void RightInc(View v) {
       rightCounter++;
       counterNL.setText("" + rightCounter);
       Refresh();
   }

   public void RightDec(View v) {
       rightCounter--;
       counterNL.setText("" + rightCounter);
       Refresh();
   }

   // Refresh Total after every click.
   public void Refresh() {
       x = leftCounter * 10;
       y = centerCounter * 20;
       z = rightCounter * 35;
       total = x + y + z;
       counterTotal.setText("" + total);

       SharedPreferences sharedPref = getSharedPreferences(PREFS, 0);
       SharedPreferences.Editor editor = sharedPref.edit();
       editor.putInt("data", leftCounter);
       editor.commit();
   }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-23T06:25:52.693

你的代码有错误。

```
// SharedPreferences sharedPref = getSharedPreferences(PREFS, 0); (This line is wrong)
      SharedPreferences sharedPref = getSharedPreferences(LEFTY, 0);
      SharedPreferences.Editor editor = sharedPref.edit();
      editor.putInt("data", leftCounter);
      editor.commit(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-23T06:30:09.570

您将获得具有两个不同名称的首选项`LEFTY`和`PREFS`. 鉴于名称，我认为您想更改以下行`onCreate`

```
SharedPreferences sharedPref = this.getSharedPreferences(LEFTY, 0); 
```

至

```
SharedPreferences sharedPref = this.getSharedPreferences(PREFS, 0); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-23T06:30:22.653

```
SharedPreferences sharedPref = getSharedPreferences(LEFTY, 0);
SharedPreferences.Editor editor = sharedPref .edit();               
editor.putInt("data", leftCounter);
editor.commit(); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-23T06:35:38.930

您正在保存名为的`data`内部首选项`PREFS`并通过首选项名称获取`LEFTY`

尝试将您的首选项名称从更改`LEFTY`为`PREFS`under `onCreate()`。

```
protected void onCreate(Bundle savedInstanceState) 
{
...
SharedPreferences sharedPref = this.getSharedPreferences(PREFS, 0);
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-23T06:24:11.353

所以你从文件中获取数据，但它被检测为`String`？

您可以使用 parse 函数将其转换`String`为`Integer`

```
int counter = Integer.parseInt(stringvalue); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-01-23T06:34:48.107

改成这样

```
SharedPreferences sharedPref = = PreferenceManager.getDefaultSharedPreferences(this);
SharedPreferences.Editor editor = sharedPref.edit();
editor.putInt("data", leftCounter);
editor.commit(); 
```

# c#-4.0 - 如何清除 Microsoft.interop.Word 中的 REDO 操作？

> ID：14473641
> 
> 赞同：1
> 
> 时间：2013-01-23T06:21:46.847
> 
> 标签：c#-4.0, ms-word, office-interop

在 Word Addin 上工作，并且在执行此操作时不会显示撤消操作，但只会在 word 中显示重做操作，所以我期待知道我们如何清除 Microsoft.interop.Word 中的重做列表？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-29T15:35:11.740

您可以清除撤消历史记录，这也将清除重做历史记录（如果有）：

```
ActiveDocument.UndoClear() 
```

请注意，在清除撤消/重做历史记录后，您仍然可以通过按 Ctrl+Y 重复上一个命令。

# c# - 具有可配置 SQL 变量的 C# 动态查询生成器

> ID：14473649
> 
> 赞同：1
> 
> 时间：2013-01-23T06:22:55.847
> 
> 标签：c#, sql

我正在开发一个原型，我可以在其中动态访问 SQL 服务器。表名和列名应该在运行时可配置。

例如：如果选择表或插入记录，我应该将这些值传递给带有表名、列名和参数的**原型类。**班级应该负责其余的工作。

我正在尝试建立该课程。

关于建议的开始步骤的建议。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T08:30:56.130

也许这很有用...
//方法

```
 public void insertCheque()
            {

         try {     

            SqlParameter[] param = new SqlParameter[5];
            param[0] = new SqlParameter("@IdBankChequeBook", SqlDbType.Int);
            param[1] = new SqlParameter("@IdBankChequeType", SqlDbType.Int);
            param[2] = new SqlParameter("@IdBankChequeStatus", SqlDbType.Int);
            param[3] = new SqlParameter("@TransType",SqlDbType.Int);
            param[4] = new SqlParameter("@ClientID",SqlDbType.Int); 
```

//向存储过程发送sql参数

```
 SqlHelper.ExecuteNonQuery(Connecting.LCM, CommandType.StoredProcedure, "InsertBankCheque",param); 

        }
        catch (Exception ex)
        {

        }   
    } 
```

//存储过程相关

```
set ANSI_NULLS ON
set QUOTED_IDENTIFIER ON
go      
ALTER PROCEDURE [dbo].[InsertBankCheque]    
@IdBankChequeBook int ,
@IdBankChequeType int ,
@IdBankChequeStatus int ,
@TransType int ,
@ClientID int ,
As
    Insert into BankCheque
    (
    IdBankChequeBook,
    IdBankChequeType,
    IdBankChequeStatus,
    TransType ,
    ClientID )   
     values 
        (
        @IdBankChequeBook,
        @IdBankChequeType,
        @IdBankChequeStatus,
        @TransType,  
        @ClientID ) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-23T07:34:50.263

```
DECLARE @ColName nvarchar(4000)
DECLARE @TableName nvarchar(4000)
DECLARE @ColName2 nvarchar(4000)
DECLARE @Parameter nvarchar(4000)
set @TableName='tblTest'
set @ColName='ID'
set @ColName2='colValue'
set @Parameter=1

DECLARE @sql nvarchar(4000)
SET @sql = ' SELECT '+@ColName+' from ' + @TableName+ ' where '+@ColName2+'='+@Parameter
exec(@sql) 
```

这就是我正在做的。您可以将上面给定的参数传递给存储过程，这将起到作用

# linq - 请为我的要求建议一个 linq 查询

> ID：14473650
> 
> 赞同：0
> 
> 时间：2013-01-23T06:23:12.750
> 
> 标签：linq

任何人都可以为以下要求建议一个 linq 查询。

表单上有一个复选框..当我们单击它时...根据下面的数据表，它必须根据`ItemCode`, `Sum(SoldQty)`, `StockInHand`, `LatestRecordValueOfSales`, `Amount`,进行分组`Description`。

你不能分组。以下列

1.  `solddate`- 显示最新的销售日期
2.  `department`
3.  `category`

* * *

```
ItemCode Description UOM SoldQty Stock in Hand SellPrice Amount
--------------------------------------------------------------- 

100 Paracetamol 200MG UOM1 5 -5 3 8 0 100 1/21/2013 MEAT INDIAN BEAF 
100 Paracetamol 200MG UOM1 5 -5 3 8 0 100 1/21/2013 MEAT INDIAN BEAF 
200 frozen meat Kilograms 0.005 88.19 4 4.01 0 200 1/21/2013 OTHERS INDIAN BEAF 
200 frozen meat Kilograms 0.044 88.19 4 4.04 0 200 1/21/2013 OTHERS INDIAN BEAF 
100 Paracetamol 200MG UOM1 5 -5 3 8 0 100 1/22/2013 MEAT INDIAN BEAF 
200 frozen meat Kilograms 0.054 88.19 4 4.05 0 200 1/22/2013 OTHERS INDIAN BEAF 
200 frozen meat Kilograms 0.055 88.19 4 4.06 0 200 1/22/2013 OTHERS INDIAN BEAF
======================================================================== 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-23T07:06:55.670

**一般查询**

```
var resQuery = from i in someQueryable
              group i by new {i.groupProperty1, i.groupProperty2} into g
                          select new
                          {
                              Property1 = g.Key.Property1,
                              Property2 = g.Key.Property2
                              Total = g.Sum(p => p.SumProperty),
                              /// other properties
                          }; 
```

对于您的示例数据，它可能类似于：

```
var resQuery = from i in dbContext.Items
              group i by new{ i.ItemCode, i.Description, i.UOM} into g
                          select new
                          {
                              ItemCode = g.Key.ItemCode,
                              TotalSold = g.Sum(p => p.SoldQty),
                              Description = g.Key.Description,
                              UOM =g.Key.UOM
                              /// other properties
                          }; 
```

在 Ideone 上尝试示例：http: [//ideone.com/xXwgoG](http://ideone.com/xXwgoG)

类似的问题被问了很多次：

*   [Linq 对象分组方式和总和](https://stackoverflow.com/questions/14465578/linq-objects-group-by-sum)
*   [LINQ Lambda Group By with Sum](https://stackoverflow.com/questions/6970070/linq-lambda-group-by-with-sum)
*   [多个 group by 和 Sum LINQ](https://stackoverflow.com/questions/1541030/multiple-group-by-and-sum-linq)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-23T14:24:16.590

下面是我的代码，它工作正常，但仅对于第一行，soldqty 和 Amount 值加倍。而其他行数据很好。我无法理解为什么只有第一行数据 Sum(SoldQty) 加倍。

```
decimal? SoldQty, stockinhand,SellPrice,Amount,CostPrice;
 string ItemCode, Description,UOM,BarCode,SoldDate,Department,Category,User;
  var resQuery = from row in dtFilter.AsEnumerable()
group row by row.Field<string>("Item Code") into g
 select dtFilter.LoadDataRow(new object[]
 {
 ItemCode=g.Key,
 Description=g.Select(r=>r.Field<string>("Description")).First<string>(),
 UOM=g.Select(r=>r.Field<string>("UOM")).First<string>(),  
 SoldQty = g.Sum(r => r.Field<decimal?>("Sold Qty")).Value,
 stockinhand=g.Select(r=>r.Field<decimal?>("Stock in Hand")).First<decimal?>(),
 SellPrice=g.Select(r=>r.Field<decimal?>("Sell Price")).First<decimal?>(),
 Amount = g.Sum(r => r.Field<decimal?>("Amount")).Value,
 CostPrice = g.Sum(r => r.Field<decimal?>("Cost Price")).Value,
 BarCode=g.Select(r=>r.Field<string>("Barcode")).First<string>(),
 SoldDate=g.Select(r=>r.Field<string>("SoldDate")).Last<string>(),
 Department=g.Select(r=>r.Field<string>("Department")).First<string>(),
 Category=g.Select(r=>r.Field<string>("Category")).First<string>(),
 User=g.Select(r=>r.Field<string>("User")).First<string>(),  }, false); 
```

# c# - System.String 不会重载运算符 += 但是字符串连接有效，如何？

> ID：14473651
> 
> 赞同：5
> 
> 时间：2013-01-23T06:23:13.870
> 
> 标签：c#, .net, string, compiler-construction, clr

System.String 只有两个运算符重载

```
public static bool operator ==(string a, string b)
{
  return string.Equals(a, b);
}

public static bool operator !=(string a, string b)
{
  return !string.Equals(a, b);
} 
```

但是当使用 += 作为字符串连接时，示例：

```
 private static void Main()
    {
        String str = "Hello ";
        str += "World";

        Console.WriteLine(str);
    } 
```

它工作得很好，

那么，如果 System.String 没有重载运算符 += 它连接字符串怎么办？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-01-23T10:53:08.653

首先，运算符`+=`不能重载。如果你有表达式`A += B`，它的编译就像你写的一样：*

```
A = A + B 
```

好的，这就是为什么`string`不重载`operator +=`（因为它不能重载）。那么，为什么它也不超载`operator +`呢？这只是 CLR 和 C# 之间的另一个区别。C# 编译器知道类型喜欢`string`和`int`是特殊的，它会为它们的运算符生成特殊代码（调用`string.Concat()`for`string`或`add`for 的指令`int`）。

为什么要对这些运算符进行特殊处理？因为你希望他们以特殊的方式对待。我认为这是最清楚的`int`：

1.  您不希望每个`int`添加都被编译为方法调用，这会增加很多开销。因此，使用了特殊的`int`加法指令。
2.  整数加法在溢出方面的表现并不总是相同。有一个编译器开关可以抛出溢出异常，您也可以使用`checked`and`unchecked`运算符。如果它只有 编译器应该如何处理`operator +`？（它实际上所做的是将指令`add`用于未检查的溢出和`add.ovf`检查的溢出。）

出于性能原因，您还想以`string`特殊方式处理加法。例如，如果你有`string`s`a`和write`b`然后你把它编译为对 的两次调用，你需要为 的结果分配一个临时的，这是低效的。相反，编译器将该代码生成为，它只能直接分配一个所需长度的字符串。`c``a + b + c``operator +``string``a + b``string.Concat(a, b, c)`

* * *

* 这并不完全正确，详情请参阅 Eric Lippert 的文章[*Compound Assignment, Part One*](http://blogs.msdn.com/b/ericlippert/archive/2011/03/29/compound-assignment-part-one.aspx) and [*Compound assignment*](https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/language-specification/expressions#compound-assignment)在 C# 规范中。还要注意缺少的分号，`A += B`真的是一个表达式，例如，你可以写`X += Y += Z;`.

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-01-23T06:26:46.227

**运算符**没有重载`+=`，它是. 字符串也是如此。**`var = var + newValue`**

 **[+= 运算符（C# 参考）](http://msdn.microsoft.com/en-us/library/sa7629ew.aspx)

> += 运算符不能直接重载，但用户定义的类型可以重载 + 运算符

考虑以下示例：

```
string str = "new string";
str += "new value"; 
```

这等于：

```
str = str + "new value"; 
```

`string.Concat`在编译时内部调用。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-01-23T06:26:55.780

`+=`没有显式实现，但它可以工作，因为编译器做到了它的魔力

```
str += "World";

str =  str + "World";

str = str.Concat("World"); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-23T06:34:21.227

正如上面的人所说，根据.NET，`string += otherString`相当于

```
string = string + otherString 
```

[这个 .NET 链接](http://msdn.microsoft.com/en-us/library/sa7629ew.aspx)提到了连接运算符，[这个 .NET 链接](http://msdn.microsoft.com/en-us/library/sa7629ew.aspx)讨论了这两个操作之间的关系。**

# php - PHP font_size 验证码问题

> ID：14473652
> 
> 赞同：0
> 
> 时间：2013-01-23T06:23:15.430
> 
> 标签：php, gd, captcha

我试图改变它，`$font_size`但它似乎不起作用。无论如何它都保持不变。即使我将`$font_size`最高更改为 130。它保持不变：

```
<?php
    header('Content-type: image/png');

    $rand_num = rand(1000, 9999);

    $font_size = 130;

    $image_width = 110;
    $image_height = 20;

    $image = imagecreate($image_width, $image_height);
    imagecolorallocate($image, 255, 255, 255);
    $black_color = imagecolorallocate($image, 0, 0, 0);

    imagestring($image, $font_size, 0, 0, $rand_num, $black_color);

    for($x=0; $x <= 30; $x++){
        $x1 = rand(1, 100); 
        $y1 = rand(1, 100);
        $x2 = rand(1, 100);
        $y2 = rand(1, 100);

        imageline($image, $x1, $y1, $x2, $y2, $black_color);
    }

    imagepng($image);
?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-10-28T05:59:36.517

`imagettftext`您可以使用函数更改字体大小。

```
imagettftext($image, $font_size, $angle, $x, $y, $text_color, '$font-family', $text);

  $image is the $imagecreate function
  $font_size is the size of font you want.
  $angle is the angle of the fonts tilted
  $x and $y are coordinates.
  $text_color is the imagecolorallocate function
  $font-family is the family of font you want to use
  $text is the text or random text to be displayed 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-23T06:25:03.107

根据[PHP 手册](http://us.php.net/imagestring)，字体参数

> 可以是 1、2、3、4、5 用于 latin2 编码中的内置字体（其中较大的数字对应于较大的字体）或使用 imageloadfont() 注册的任何您自己的字体标识符。

所以你必须尝试 1 2 3 4 5 而不是 130。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-23T06:25:32.450

对于内置字体，字体大小可以是 1,2,3,4 和 5。请参考[http://php.net/manual/en/function.imagestring.php](http://php.net/manual/en/function.imagestring.php)

# python - Zip函数没有在Python中返回预期结果？

> ID：14473656
> 
> 赞同：1
> 
> 时间：2013-01-23T06:23:34.340
> 
> 标签：python, zip

我有两个清单：

```
a = ['a', 'b', 'c']
b = [1] 
```

我希望我的输出为：

```
a, 1
b, 1
c, 1 
```

尝试这样做：

```
for i, j in zip(a, b):
    print i, j 
```

我只得到`a, 1`. 我怎样才能使它正确？

这是我的实际情况：

```
 if request.POST.get('share'):
            choices = request.POST.getlist('choice')
            person = request.POST.getlist('select')
            person = ''.join(person)
            person1 = User.objects.filter(username=person)
            for i, j in izip_longest(choices, person1, fillvalue=person1[-1]):
                start_date = datetime.datetime.utcnow().replace(tzinfo=utc)
                a = Share(users_id=log_id, files_id=i, shared_user_id=j.id, shared_date=start_date)
                a.save()
            return HttpResponseRedirect('/uploaded_files/') 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-23T06:25:12.587

您可能应该`itertools.izip_longest()`在这里使用：

```
In [155]: a = ['a', 'b', 'c']

In [156]: b = [1]

In [158]: for x,y in izip_longest(a,b,fillvalue=b[-1]):
   .....:     print x,y
   .....:     
a 1
b 1
c 1 
```

如果`zip()`的长度`b`只有一个，那么它将只返回一个结果。即它的结果长度等于`min(len(a),len(b))`

但如果`izip_longest`结果长度为`max(len(a),len(b))`，如果`fillvalue`未提供，则返回 None。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-23T08:24:58.387

好的，我迟到了至少一个小时，但是这个想法怎么样：

```
a = ['a', 'b', 'c']
b = [1] 
```

由于有关 zip 状态的文档

> 返回的列表在长度上被截断为最短参数序列的长度。

将列表**a**转换为较短的参数怎么样？既然一切都比一个永远运行的周期短，让我们试试

```
import itertools

d = zip(a, itertools.cycle(b)) 
```

感谢 Ashwini Chaudhary 让我注意到了 itertools ;)

# php - cakephp中的用户身份验证

> ID：14473662
> 
> 赞同：1
> 
> 时间：2013-01-23T06:24:05.660
> 
> 标签：php, cakephp

有些人可能会觉得这个问题很愚蠢。但我真的完成了所有的谷歌搜索，阅读了 cakephp 文档，但仍然无法理解 cakephp 的身份验证机制。我已经尝试了我的一些代码，但仍然无法验证....

我的每个正确条目的错误我都收到错误，因为用户名密码无效。这是我的代码

```
//login.tpl

<div class="users form">
<?php echo $this->Session->flash('auth'); ?>
<?php echo $this->Form->create('User'); ?>
<fieldset>
    <legend><?php echo __('Please enter your username and password'); ?></legend>
    <?php echo $this->Form->input('username');
    echo $this->Form->input('password');
?>
</fieldset>
<?php echo $this->Form->end(__('Login')); ?>
</div> 
```

//控制器文件

```
public function login() {
if ($this->request->is('post')) {
    if ($this->Auth->login()) {
        $this->redirect($this->Auth->redirect());
    } else {
        $this->Session->setFlash(__('Invalid username or password, try again'));
    }
}
} 
```

谁能告诉我如何进行身份验证，我是 cakephp 新手

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-23T06:33:17.900

好吧 cakephp 自己处理身份验证，您不需要在`login`函数内部编写代码。

**app_controller.php**

```
<?php
class AppController extends Controller
{
    var $components = array
    (
        'Auth',
        'Session',
        'RequestHandler',
        'Email'
    );

    var $helpers    = array
    (
        'Javascript',
        'Form',
        'Html',
        'Session'
    );

    function beforeFilter()
    {
        $this->Auth->autoRedirect = true;

        $this->Auth->authError = 'Sorry, you are not authorized to view that page.';
        $this->Auth->loginError = 'invalid username and password combination.';

        $this->Auth->loginAction = array
        (
            'controller' => 'users',
            'action' => 'login',
            'admin' => true
        );

        $this->Auth->logoutRedirect = array
        (
            'controller' => 'users',
            'action' => 'logout',
            'admin' => true
        );

        $this->Auth->loginRedirect = array
        (
            'controller' => 'users',
            'action' => 'dashboard',
            'admin' => true
        );

        $this->Auth->fields = array('username' => 'email', 'password' => 'password');
    }
?>
```

**users_controller.php**

```
<?php
class UsersController extends AppController
{
    var $name = 'Users';

    /*
        do not forget to add beforeFilter function and inside this function call parent beforeFilter function.
    */

    function beforeFilter()
    {
        parent::beforeFilter();
    }

    function admin_login()
    {

    }

    function admin_logout()
    {
        $this->Session->destroy();
        $this->Auth->logout();
        $this->Session->setFlash(__('Yor are now Logged out Successfully', true), 'default',array('class'=>'alert alert-success'));
        $this->redirect('/');
        exit;
    }
?>
```

你完成了。

# javascript - javascript中允许退格的正则表达式

> ID：14473666
> 
> 赞同：8
> 
> 时间：2013-01-23T06:24:26.023
> 
> 标签：javascript, jquery, regex

我的允许字符、数字、点和下划线的正则表达式是

```
var numericReg = /^[a-zA-Z0-9\._]+$/; 
```

我怎么能在这个 reg ex. 中允许退格？

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2013-01-23T06:27:25.017

您可以使用`[\b]`退格键来匹配。因此，只需将其添加到您的角色类中：-

```
var numericReg = /^[a-zA-Z0-9._\b]+$/; 
```

请注意，您不需要`dot (.)`在字符类中转义。里面没有什么特别的意思。

**也可以看看： -**

*   [http://www.regular-expressions.info/reference.html](http://www.regular-expressions.info/reference.html)

更多转义序列和正则表达式中的模式。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-10-22T19:57:37.817

我建议您将正则表达式重写为：

```
var numericReg = /^[a-zA-Z0-9._]+|[\b]+$/ 
```

或者：

```
var numericReg = /^(?:[a-zA-Z0-9._]|[\b])+$/ 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2016-11-06T20:28:54.667

在检查正则表达式之前检查“event.keyCode”和“value.length”。
键码 8 = 反斜杠

```
$('#my-input').on('keypress change', function(event) {
   // the value length without whitespaces:
   var value_length = $(this).val().trim().length;
   // check against minimum length and backspace
   if (value_length > 1 && event.keyCode != 8) {
      var regex = new RegExp('/^[a-zA-Z0-9\._]+$/');
      var key = String.fromCharCode(!event.charCode ? event.which : event.charCode);
      if (!regex.test(key)) {
         event.preventDefault();
         return false;
      }
   }
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-27T19:42:22.927

此问题的最佳解决方案是在验证之前检查 textbox >0 的值。这将有助于解决在空文本框中按退格键时显示的错误..!!

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2018-03-01T23:14:59.227

我还制作了一个只接受数字（非十进制）和退格键盘的输入类型文本。我注意到在非 Firefox 浏览器中不需要将 [\b] 放入正则表达式中。

```
var regExpr = new RegExp("^[0-9,\b][0-9,\b]*$"); 
```

# java - 3 个 log(n) 嵌套循环的 Java Big O 表示法

> ID：14473684
> 
> 赞同：6
> 
> 时间：2013-01-23T06:25:41.947
> 
> 标签：java, loops, complexity-theory, big-o, nested-loops

以下嵌套循环的大 O 表示法是什么？

```
 for (int i = n; i > 0; i = i / 2){
        for (int j = n; j > 0; j = j / 2){
           for (int k = n; k > 0; k = k / 2){
              count++;
           }
        }
     } 
```

我的想法是：每个循环都是`O(log2(n))`如此简单，就像乘法一样简单

```
O(log2(n)) * O(log2(n)) * O(log2(n))  =  O(log2(n)^3) 
```

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-01-23T06:29:19.927

对，那是正确的。

找出边界不立即相互依赖的嵌套循环的大 O 复杂性的一种方法是从内向外工作。最里面的循环做 O(log n) 工作。第二个循环运行 O(log n) 次并且每次都运行 O(log n)，所以它运行 O(log ² n)。最后，最外面的循环运行 O(log n) 次，每次迭代都做 O(log ² n) 工作，所以完成的总工作是 O(log ³ n)。

希望这可以帮助！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-23T06:38:10.657

是的你是对的。

简单的计算方法——

```
for(int i=0; i<n;i++){ // n times 
    for(int j=0; j<n;j++){ // n times
    }
} 
```

这个简单嵌套循环的例子。这里每个循环 O(n) 的 Big-O 并且它是嵌套的，因此通常是 O(n * n)，这是 O(n^2) 实际的 Big-O。在你的情况下 -

```
for (int i = n; i > 0; i = i / 2){ // log(n)
     for (int j = n; j > 0; j = j / 2){ // log(n)
         for (int k = n; k > 0; k = k / 2){ // log(n)
           count++;
         }
     }
} 
```

在嵌套循环中，每个循环 Big-O 都是`O(log(n))`如此，复杂性将是`O(log(n)^3)`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-04-05T00:49:15.223

确实，你的假设是正确的。您可以像下面这样有条​​不紊地展示它：

![在此处输入图像描述](../Images/f4a47bcc3caa64a46e1def24fd33760a.png)

# c# - 用户使用 IP 地址打开网站时如何获取 IP 地址？

> ID：14473695
> 
> 赞同：0
> 
> 时间：2013-01-23T06:26:36.757
> 
> 标签：c#, asp.net, iis, iis-7

我正在生成运行时`<a>`链接。要完成链接，我使用以下代码：

`string appPath = protocol + System.Web.HttpContext.Current.Request.ServerVariables["HTTP_HOST"] + System.Web.HttpContext.Current.Request.ApplicationPath;`.

但是当用户尝试从以下位置打开网站时：`http://123.123.123.123/testApp`此时我的链接是用`http://myservername.com/testApp`.

我想要用户输入的地址。

如果用户从链接打开打开`http://123.123.123.123/testApp`的网站应该是

`http://123.123.123.123/testApp/Default.aspx`

如果用户从链接打开网站`http://myservername.com/testApp`应该是

`http://myservername.com/testApp/Default.aspx`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-23T06:29:18.427

使用`REMOTE_ADDR`服务器变量

```
string appPath = protocol + 
System.Web.HttpContext.Current.Request.ServerVariables["REMOTE_ADDR"] + 
System.Web.HttpContext.Current.Request.ApplicationPath; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-23T07:38:28.430

使用此函数获取`IPAddress`用户的。
但是有可能您可能无法获得实际 IP。有很多类似的问题`firewall`。这可能会暴露`ip`给网络上的所有计算机。

```
 public static string GetMachineName(HttpRequest moRequest)
    {
        return moRequest.ServerVariables["HTTP_X_FORWARDED_FOR"] != null ||
               moRequest.ServerVariables["HTTP_CLIENT_IP"] != null
                   ? moRequest.ServerVariables["HTTP_X_FORWARDED_FOR"]
                   : moRequest.ServerVariables["REMOTE_ADDR"];
    } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-23T06:41:35.860

[HTTP_HOST 或 SERVER_NAME](http://msdn.microsoft.com/en-us/library/ms524602.aspx)之一应该为您提供有关用户键入什么内容以访问您的站点的信息。使用 Http 调试器检查浏览器在 IP 地址的情况下实际发送的内容可能是个好主意，以确保检查正确的值。

```
 `HttpContext.Current.Request.ServerVariables("HTTP_HOST");` 
```

# javascript - javascript 让浏览器崩溃

> ID：14473703
> 
> 赞同：0
> 
> 时间：2013-01-23T06:27:05.087
> 
> 标签：javascript, joomla2.5, webcam, setinterval

这是我的情况：我编写了一个小的 javascript 代码，用于每 5 秒自动刷新从外部源进入我的服务器的图像，就像我们为网络摄像头刷新图像一样。这个 js 需要在使用 Joomla 制作的网站中使用. **问题**JavaScript 会导致浏览器的 FF 和 Chrome 在一段时间后崩溃。我附上代码。请告诉我哪里出错了。

```
 <body>
    <center>
     <h2>human cam</h2>
      <img id="pic" src="images/CB1.jpeg" border="0" width="500" height="500" /></center>
      <script language="javascript" type = "text/javascript">

      function refresh() 
     {         

     document.images["pic"].src = "images/CB1.jpeg" + "?" + new Date().getTime();

     setInterval(function(){refresh()}, 5000 );

     }
     window.onload=function(){
 refresh();
    }
    </script>
   </body> 
```

//PS版主我已经添加了joomla和网络摄像头作为标签，因为我已经从使用它的人那里获取了用于网络摄像头刷新的代码，所以希望他们的输入；和 Joomla，因为我需要进一步集成此代码谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-23T06:32:18.470

在您每次调用时，`refresh()`您都在创建一个新计时器，该计时器调用`refresh()`该计时器创建一个新计时器，该计时器调用`refresh()`该计时器创建一个新计时器......

将其更改为

```
function refresh()
    document.images["pic"].src = "images/CB1.jpeg" + "?" + new Date().getTime();
}

window.onload = function() {
    setInterval(refresh, 5000);
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-23T06:34:06.470

你在这里严重地创建了递归

```
function refresh() 
     {         

     document.images["pic"].src = "images/CB1.jpeg" + "?" + new Date().getTime();

     setInterval(function(){refresh()}, 5000 );

     } 
```

您的刷新功能无休止地设置更多间隔

试试这个

```
function refresh() 
     {         

     document.images["pic"].src = "images/CB1.jpeg" + "?" + new Date().getTime();

     }
     window.onload=function(){
 setInterval(function(){refresh()}, 5000 ); /// set interval onload just one time 
    } 
```

# jquery - 如何使用ajax jquery将隐藏的字段值插入数据库

> ID：14473706
> 
> 赞同：0
> 
> 时间：2013-01-23T06:27:08.000
> 
> 标签：jquery, ajax, field, hidden

谁能帮助我，我有一个将major_id 设置为隐藏的表单，当我不尝试提交我的表单时，我没有将major_id 值输入我的数据库。我真的很陌生，我不知道该怎么做。我知道我的 jquery 有问题

```
 $(function() {

    $(".button").click(function() {

    var major_id = $("input[name='major_id']").val('1');
    var titlesBg = $("#titlesBg").val();
    var subBg = $("#subBg").val();
    var smp = $("#smp").val();
    var sbu = $("#sbu").val();
    var dataString =  { 'major_id': major_id , 'titlesBg': titlesBg , 'subBg': subBg , 'smp': smp , 'sbu': sbu };

$sql_check = mysql_query("SELECT * FROM sub_guidelines username =" . $_SESSION['username'] . "order by sub_id desc");

if(isSet($_POST['titlesBg']) || ($_POST['subBg']) || ($_POST['smp']) || ($_POST['sbu']))

{
$major_id = $_GET['major_id'];
$titlesBg = mysql_real_escape_string($_POST['titlesBg']);
$subBg = mysql_real_escape_string($_POST['subBg']);
$smp = mysql_real_escape_string($_POST['smp']);
$sbu = mysql_real_escape_string($_POST['sbu']);
$username = $_SESSION['username'];

mysql_query("insert into sub_guidelines(username, major_id, titlesBg, subBg, smp, sbu) values ('$username','$major_id','$titlesBg','$subBg','$smp','$sbu')");

$sql_in= mysql_query("SELECT * FROM sub_guidelines WHERE username = '$username' AND major_id = '$major_id' order by sub_id desc");
$row = mysql_fetch_array($sql_in);
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-23T06:29:54.670

很容易：

```
var major_id = $("input[name='major_id']").val('1'); 
```

将隐藏字段的值设置为 1，不返回隐藏字段的值；）这将返回一个 jquery 对象；）

```
var major_id = $("input[name='major_id']").val(); 
```

返回值

所以：

您使用 post 方法发送数据，但尝试使用 get 获取 major_id。这应该有帮助：

```
$major_id = $_POST['major_id']; 
```

我很抱歉，但这是完全错误的：

```
if(isSet($_POST['titlesBg']) || ($_POST['subBg']) || ($_POST['smp']) || ($_POST['sbu'])) 
```

你必须检查它自己的价值

```
if(isset($_POST['titlesBg']) || isset($_POST['subBg']) || isset($_POST['smp']) || isset($_POST['sbu'])) 
```

此外，我会使用逻辑 AND 而不是 OR ;)

# joomla - 将 jomsocial 迁移到最新版本时重置连接

> ID：14473711
> 
> 赞同：0
> 
> 时间：2013-01-23T06:27:42.943
> 
> 标签：joomla, joomla2.5, joomla-extensions

我已成功将旧的 joomla 1.5.26 版网站升级到 Joomla 2.5.8 版。它还升级了我在数据库中的 jomsocial 表。之后，我下载了 jomsocial 扩展 2.8.0 版并将其安装在我的 joomla 网站上。我还将 jomscoial 的“主页前端页面”分配给了我的菜单，每当我尝试打开它时，它就会向我显示连接已重置。除了 jomscoial 的主页别名为 jomsocial 扩展的首页外，所有其他 jomsocial 功能均正常工作。

有谁知道如何解决它？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-23T23:25:26.747

我认为该错误与活动流标题字段中的长 URL 有关。有几个人（包括我）向 JomSocial 报告了这个问题。我还没有看到修复。我会在提供时发布一个。它也影响了我的网站。

# php - 如何在论文主题中将标题放在容器顶部

> ID：14473712
> 
> 赞同：0
> 
> 时间：2013-01-23T06:27:47.713
> 
> 标签：php, wordpress, wordpress-thesis-theme

我在使用 wordpress 的论文主题将标题部分放置在我的容器部分上方时遇到问题，因为我无法这样做。

```
<body class=" customize-support">
<div id="logo"> </div>
<div id="container">
<div id="header">
<h1 id="site_title">
<a href="http://example.com">Example</a>
</h1>
<p id="site_tagline"></p>
</div>
<ul id="menu-main-navigation" class="menu">
<div class="columns">
<div class="footer">
</div> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-23T07:41:09.000

您可以通过根据需要调整 css 来做到这一点。

# html - 我们可以从静态网站（html页面）发送电子邮件吗？

> ID：14473713
> 
> 赞同：1
> 
> 时间：2013-01-23T06:27:48.930
> 
> 标签：html

我们可以从静态网站（html页面）发送电子邮件吗？不使用 asp.net 或其他（我的意思是没有服务器端技术）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-23T06:43:34.937

仅使用 javascript 和 html**是不可能的**。Javascript 不打算做这样的事情，并且在与它所在的网络浏览器以外的任何东西交互的方式上严重受损。您可以使用 mailto: 链接来触发用户注册的邮件客户端的打开。

但是，您可以做一个弹出窗口来制作一个更好的方法，`mailto:`比如[这个](https://stackoverflow.com/a/7643/670377)解决方案

```
var addresses = "";//between the speech mark goes the receptient. Seperate addresses with a ;
var body = ""//write the message text between the speech marks or put a variable in the place of the speech marks
var subject = ""//between the speech marks goes the subject of the message
var href = "mailto:" + addresses + "?"
         + "subject=" + subject + "&"
         + "body=" + body;
var wndMail;
wndMail = window.open(href, "_blank", "scrollbars=yes,resizable=yes,width=10,height=10");
if(wndMail)
{
    wndMail.close();
} 
```

**编辑：**也许您不能使用服务器端，但`formmail.cgi`如果您的主机提供服务器端，您可以使用。大多数主机都支持这一点，并且[使用 FormMail 的说明](http://www.scriptarchive.com/formmail.html)很简单。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-23T06:31:38.393

您不能仅使用 HTML（来自前端）发送电子邮件，除非您不介意与可以为您执行后端流程的第三方服务提供商进行交互。

否则，您需要使用后端，最常见和最简单的方法是使用 PHP。

[看到这个](https://stackoverflow.com/questions/7873780/can-we-send-mail-using-html-static-page)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-23T06:44:42.113

你*可以*这样做，但你不能保证结果。

以下代码是合法的：

```
<form method="post" action="mailto:my_adress@my_website.com" enctype="text/plain">
  <!-- some inputs here, with a submit of course -->
</form> 
```

但在您这样做之前，请阅读**[此](http://www.apptools.com/rants/mailto.php)**内容。它将向您展示使用它的危险。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-23T06:32:59.447

如果没有服务器端编码，您只有一种选择通过 HTML 发送电子邮件，那就是

```
<a href="mailto:emailaddress">Email</a> 
```

# .htaccess - 将 https 提供的所有数据重定向到 http

> ID：14473719
> 
> 赞同：2
> 
> 时间：2013-01-23T06:28:22.377
> 
> 标签：.htaccess, drupal, http-status-code-301

所以，情况如下：

我们正在运行一个由[Drupal](http://drupal.org)提供支持的网站。前段时间，决定该网站应作为 SSL 服务。将网站从 http 重定向到 https 的设置是由一个不再和我们在一起的人完成的。

我可以在`.htaccess`文件中看到以下几行

```
#Redirect http to https
RewriteEngine On  
RewriteCond %{SERVER_PORT} 80 
RewriteRule ^(.*)$ https://docs.dev.domain.com/$1 [R,L] 
```

mydomain.com 指向 LAMPP 服务器的根目录，而我的站点位于 webroot (docs.dev.domain.com/mysite) 内的文件夹中。

现在，已决定不需要 SSL，必须将其删除，并且必须通过 http（301 重定向）提供所有页面。

当我在 .htaccess 文件中执行此操作时，当用户使用以下方式访问 https 时，使用`RewriteRule`将 URL（例如[https://docs.dev.domain.com/mysite/content/book](https://docs.dev.domain.com/mysite/content/book)）重定向到 http：

```
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_URI} !=/favicon.ico
RewriteRule ^ index.php [L]

#Redirect HTTPS to HTTP
RewriteCond %{SERVER_PORT} ^443$
#RewriteCond %{HTTPS} on
RewriteRule ^(.*)$ http://docs.dev.domain.com/mysite/$1 [R=301,L]
#even tried this - RewriteRule ^(.*)$ http://docs.dev.domain.com/$1 [R=301,L] 
```

但它将 https 上的每个请求重定向到[http://mydomain.com/mysite/index.php](http://mydomain.com/mysite/index.php)（甚至像 (https://docs.dev.domain.com/mysite/content/book/1 这样的网址，理想情况下应该是重定向到它的`http`对应对象）。

如何删除 https 以便通过纯 http 提供动态 URL？对不起，如果这是一个非常新手的问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-23T08:09:15.357

发生这种情况是因为您在重定向之前有一个路由规则。重写引擎将循环直到 URI 原样返回，此时，它会评估是否需要将 URI 传递给其他模块以处理重定向或代理。

这意味着您的请求被路由到`index.php`，然后重写引擎循环，然后它看到请求（此时只是`/index.php`）需要重定向，因此请求被标记为重定向。然后 mod_rewite 重定向，但现在，URI 已被您的路由规则破坏。

您需要交换订单：

```
RewriteCond %{HTTPS} on
RewriteRule ^(.*)$ http://docs.dev.domain.com/mysite/$1 [R=301,L]

RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_URI} !=/favicon.ico
RewriteRule ^ index.php [L] 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-24T05:38:25.173

通过启用/禁用模块，在 Drupal 中启用或禁用 SSL 非常简单。你应该检查模块名称securepages&如果它在那里你只需要禁用它来禁用HTTPS......然后你可以去你的YOURSITE/sites/default&查看settings.php&如果定义了$base_url然后删除来自“HTTPS”的“S”。

你完成了...

我认为那个人没有从 .htaccess 中启用它，所以即使你通过 Jon Lin 的回答解决了它，我也给出了答案。

# ruby-on-rails - 无法从应用程序发布到服务器端的另一个应用程序

> ID：14473725
> 
> 赞同：0
> 
> 时间：2013-01-23T06:28:51.653
> 
> 标签：ruby-on-rails, post, routes

我有 2 个应用程序在我的 localhost 上运行，端口为 3000 和 9000（rails 2 和 sinatra 应用程序）。我已经在 rails 应用程序中设置了一个控制器（没有任何特定的模型或视图）`app/controllers/finance_service.rb`

```
class FinanceServiceController < ApplicationController
    def after_token_create 
        p "after token create function: #{params.inspect}"
    end
end 
```

并设置了这样的路线：

`map.finance_service '/finance_service' , :controller => "finance_service", :action => "after_token_create"`

当我在 url 上访问它时`http://localhost:3000/finance_service`

我在缺少模板时收到错误，但这很好，因为这意味着路由正在工作（我将它用作另一个应用程序的服务 api）。

当尝试从其他应用程序访问该方法时，`httparty gem`如下所示：

```
HTTParty.post("http://localhost:3000/FinanceServiceController/after_token_create", :body => post_params) 
```

我在 rails 应用程序上遇到错误-

```
myapp/public/404.html (method_not_allowed) 
```

还尝试了高级 Rest 客户端应用程序，我得到了同样的错误。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-23T12:06:02.807

请求不应该是这样的吗？因为路由匹配器是 /finance_service

```
HTTParty.post("http://localhost:3000/finance_service", :body => post_params) 
```

# iphone - 检测可达性

> ID：14473726
> 
> 赞同：0
> 
> 时间：2013-01-23T06:28:56.870
> 
> 标签：iphone, ios, objective-c, xcode

我有从 Apple 采用的可达性课程。我的问题是在我的 ListViewController 中而不是在 Apple 中显示的 ReachabilityAppDelegate 中实现我的可达性检测。我的问题：

1.  我想链接 (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath 中的调用方法和可达性检测

2.  如果他们检测到它未连接，我将尝试禁用我的单元，如果已连接则启用该
    单元

这是在 viewDidLoad 中编码的：

```
 [[NSNotificationCenter defaultCenter] addObserver: self selector:@selector(reachabilityChanged:) name:kReachabilityChangedNotification object: nil]; 
```

可达性改变如下：

```
-(void) reachabilityChanged: (NSNotification* )note{
  Reachability* curReach = [note object];
  NSParameterAssert([curReach isKindOfClass:[Reachability class]]);
  [self updateInterfaceWithReachability: curReach];
} 
```

如何实现禁用 UITableViewCells

```
-(UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath 
```

*   请注意，我已在上述方法中对此进行了编码：

    ```
    NSInteger row = [indexPath row];
        NSString *contentForThisRow = nil;

        static NSString *MyIdentifier = @"MyIdentifier";

        if (tableView == [[self searchDisplayController] searchResultsTableView]) {
            // Sort search results in alphabetical order
            NSArray *sorted = [searchResults sortedArrayUsingSelector:@selector(localizedCaseInsensitiveCompare:)];
            contentForThisRow = [sorted objectAtIndex:row];
        }else {
            contentForThisRow = [nameArray objectAtIndex:row];
        }
        UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:MyIdentifier];

            if (cell == nil) {
                cell = [[[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:MyIdentifier]autorelease];
            }
            // Set Device names into Cells
            cell.textLabel.text = contentForThisRow;
            cell.accessoryType = UITableViewCellAccessoryDisclosureIndicator;
    NSLog(@"Load cell done"); 
    ```

    }

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-23T06:41:47.730

`BOOL _isOffline` 你可以像这样编码，在类和你的`updateInterfaceWithReachability:`方法中添加一个实例变量

```
- (void)updateInterfaceWithReachability:(Reachability* )curReach
{
    if(curReach == XXXXNotReachable)
    {
        //your code
        _isOffline = YES;
    }
    else
    {
        _isOffline = NO;
    }
    [_tableView reloadData];
} 
```

在你的`-(UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath`

你应该添加你的代码来处理单元格，可能是

```
if(_isOffline)
{
    cell.userInteractionEnabled = NO;
}
else
{
    cell.userInteractionEnabled = YES;
} 
```

# unix - 在 Unix 的邮件中附加超过 2 个文件

> ID：14473732
> 
> 赞同：7
> 
> 时间：2013-01-23T06:29:32.923
> 
> 标签：unix

我有许多文件要附加并通过电子邮件发送。我正在运行脚本来这样做。你能帮我写代码吗？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-01-23T11:49:21.330

您可以多次使用选项`-a`，例如：`mailx`

```
$ mailx -s 'Few files attached' -a file1.txt -a file2.txt someone@some.com 
```

你也可以`uuencode`这样使用：

```
$  ( cat Mail_Report.txt; uuencode file1.txt file1.txt ; uuencode file2.txt file2.txt ) | mailx -s "SUBJECT" someone@some.com 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2021-12-01T06:49:55.230

参考下面的代码片段

```
files_string="-a file_1 -a file_2 ... -a file_3"
sender_mail="xyz@mk.com"
receiver_mail="abc@mk.com"
IFS=" "
echo "body text " | mailx -s "subject1" $files_string -r $sender_mail $receiver_mail; 
```

# android - 在 Android 中的 EditText 上停止字符渲染

> ID：14473733
> 
> 赞同：0
> 
> 时间：2013-01-23T06:29:33.487
> 
> 标签：android

这可能在 EditText 中停止字符渲染吗？在我的代码中看起来像这样

```
public class EditorActivity extends Activity {

EditText editText = (EditText)findViewById(R.id.editText);
editText.addTextChangedListener(writerTextWatcher);

TextWatcher writerTextWatcher =  new TextWatcher()  {

    @Override
    public void afterTextChanged(Editable s) {
        System.out.println("afterTextChanged");
        editText.removeTextChangedListener(this);
        editText.addTextChangedListener(this);
        return ;
    }

    @Override
    public void beforeTextChanged(CharSequence s, int start, int count,
            int after) {
        // TODO Auto-generated method stub
        System.out.println("beforeTextChanged");
        editText.removeTextChangedListener(this);
        editText.addTextChangedListener(this);
        return;
    }

    @Override
    public void onTextChanged(CharSequence s, int start, int before, int count) {

        editText.removeTextChangedListener(this);
    System.out.println("onTextChanged");
        editText.addTextChangedListener(this);
        return;
    }
};
} 
```

我无法在我的editText 中停止字符渲染。请指教。

谢谢

南华

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-23T06:32:48.453

您可以在文本更改时简单地删除文本 - 对于用户来说，editText 中似乎没有呈现任何内容。

# java - 用于选择具有特定字符串作为文本的父节点的子节点的 xpath 表达式

> ID：14473734
> 
> 赞同：0
> 
> 时间：2013-01-23T06:29:35.870
> 
> 标签：java, xml, xpath

我正在尝试编写一个 xpath 表达式来检查实体是否支持“创建”操作。这是我正在使用的代码：

在这种情况下，字符串行将具有不带下划线的实体名称，例如“TciProfile”。

```
 while ((line = br.readLine()) != null) {
        System.out.println("entity name: "+line);
        XPathFactory factory = XPathFactory.newInstance();
        XPath xpath1 = factory.newXPath();

         XPathExpression expr = xpath1.compile("//Entity[matches(Name,'" +line+ "') and .//Operation/Name='create']");

    Object result = expr.evaluate(doc, XPathConstants.NODESET);
        NodeList res = (NodeList) result;
        System.out.println("NodeList size: " + res.getLength()); 
```

在这种情况下，变量 line 将是`TciProfile`.

但是这个表达式`null`在评估时会重新运行一个值。

有人可以告诉我我在这里做错了什么吗？

```
<Entity>
<Name>TCI_Profile|TciProfile</Name>
<AttributeList>
    <Attribute>
        <Name>Tci_Profile_Id|tciProfileId</Name>
        <Type>string|string</Type>
        <Range>0-23</Range>
        <Default>null</Default>
    </Attribute>
    <Attribute>
        <Name>Description|description</Name>
        <Type>string|string</Type>
        <Range>0-199</Range>
        <Default>null</Default>
    </Attribute>
</AttributeList>
<KeyAttributeNameList>
    <Name>Tci_Profile_Id|tciProfileId</Name>
</KeyAttributeNameList>
<OperationList>
    <Operation>
        <Name>show|retrieve</Name>
        <RequestAttributeList>
            <RequestAttribute>
                <Name>Tci_Profile_Id|tciProfileId</Name>
                <Flag>required</Flag>
            </RequestAttribute>
        </RequestAttributeList>
        <ResponseAttributeNameList>
            <Name>Tci_Profile_Id|tciProfileId</Name>
            <Name>Description|description</Name>
        </ResponseAttributeNameList>
    </Operation>
    <Operation>
        <Name>create</Name>
        <RequestAttributeList>
            <RequestAttribute>
                <Name>Tci_Profile_Id|tciProfileId</Name>
                <Flag>required</Flag>
            </RequestAttribute>
            <RequestAttribute>
                <Name>Description|description</Name>
                <Flag>required</Flag>
            </RequestAttribute>
        </RequestAttributeList>
        <ResponseAttributeNameList>
        </ResponseAttributeNameList>
    </Operation>
    <Operation>
        <Name>find|getNextItems</Name>
        <RequestAttributeList>
            <RequestAttribute>
                <Name>Tci_Profile_Id|tciProfileId</Name>
                <Flag>optional/searchable</Flag>
            </RequestAttribute>
        </RequestAttributeList>
        <ResponseAttributeNameList>
            <Name>Tci_Profile_Id|tciProfileId</Name>
        </ResponseAttributeNameList>
    </Operation>
    <Operation>
        <Name>delete</Name>
        <RequestAttributeList>
            <RequestAttribute>
                <Name>Tci_Profile_Id|tciProfileId</Name>
                <Flag>required</Flag>
            </RequestAttribute>
        </RequestAttributeList>
        <ResponseAttributeNameList>
        </ResponseAttributeNameList>
    </Operation>
    <Operation>
        <Name>put</Name>
        <RequestAttributeList>
            <RequestAttribute>
                <Name>Tci_Profile_Id|tciProfileId</Name>
                <Flag>required</Flag>
            </RequestAttribute>
            <RequestAttribute>
                <Name>Description|description</Name>
                <Flag>required</Flag>
            </RequestAttribute>
        </RequestAttributeList>
        <ResponseAttributeNameList>
        </ResponseAttributeNameList>
    </Operation>
    <Operation>
        <Name>update</Name>
        <RequestAttributeList>
            <RequestAttribute>
                <Name>Tci_Profile_Id|tciProfileId</Name>
                <Flag>required</Flag>
            </RequestAttribute>
            <RequestAttribute>
                <Name>Description|description</Name>
                <Flag>required</Flag>
            </RequestAttribute>
        </RequestAttributeList>
        <ResponseAttributeNameList>
        </ResponseAttributeNameList>
    </Operation>
</OperationList> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-23T06:48:50.763

我想你想要的是

```
//Entity[matches(Name,'TciProfile') and .//Operation/Name='create'] 
```

在 Oxygen/XML 中测试，这将返回满足两个条件的实体节点

# javascript - JQuery：表单验证 - 没有得到任何结果

> ID：14473736
> 
> 赞同：0
> 
> 时间：2013-01-23T06:29:43.107
> 
> 标签：javascript, jquery, forms, jquery-plugins, jquery-validate

我正在尝试实现此处找到的简单表单验证插件：[http ://www.jquery4u.com/forms/basic-jquery-form-validation-tutorial/](http://www.jquery4u.com/forms/basic-jquery-form-validation-tutorial/)

但我似乎无法让它工作。

我有一个简单的表格：

```
<form id="signupform" name="signupform" action="page" method="post" novalidate="novalidate">
<input type="text" id="signupusername" name="signupusername">
<input type="text" id="signupemail" name="signupemail">
<input type="password" id="signuppassword" name="signuppassword">
<input type="text" id="signupfirstname" name="signupfirstname">
<input type="text" id="signuplastname" name="signuplastname">
<input type="checkbox" name="tandc" value="tandcyes"> I agree
<button type="submit" value="Signup" class="submit">Signup</button>
</form> 
```

以及相关的插件脚本：

```
<script src="http://ajax.aspnetcdn.com/ajax/jquery.validate/1.9/jquery.validate.min.js"></script>
<script type="text/javascript">
(function($,W,D)
{
    var JQUERY4U = {};

    JQUERY4U.UTIL =
    {
        setupFormValidation: function()
        {
            //form validation rules
            $("#signupform").validate({
                rules: {
                    signupusername: "required",
                    signupfirstname: "required",
                    signuplastname: "required",
                    signupemail: {
                        required: true,
                        email: true
                    },
                    signuppassword: {
                        required: true,
                        minlength: 5
                    },
                    tandcyes: "required"
                },
                messages: {
                    signupusername: "Please enter your User Name",
                    signupfirstname: "Please enter your firstname",
                    signuplastname: "Please enter your lastname",
                    signuppassword: {
                        required: "Please provide a password",
                        minlength: "Your password must be at least 5 characters long"
                    },
                    signupemail: "Please enter a valid email address",
                    tandcyes: "Please accept our policy"
                },
                submitHandler: function(form) {
                    form.submit();
                }
            });
        }
    }

    //when the dom has loaded setup form validation rules
    $(D).ready(function($) {
        JQUERY4U.UTIL.setupFormValidation();
    });

})(jQuery, window, document); 
```

但它只是行不通。

当然，我已经检查了插件和指向 JQuery 的链接是否存在且正确。控制台中也没有出现任何内容。它似乎没有触发。

有谁知道发生了什么事？

谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-23T07:12:59.200

问题是您包含了 2 次相同的脚本。

带有验证的脚本中的函数在源代码中出现了 2 次。浏览器很难知道选择哪一个。

检查 head 是否有两个脚本。

请以表单标签中不存在的*形式*添加所有输入。

```
<form>
<input type=... />
<input type=... />
</form> 
```

如果您在输入之前关闭表单，那就是问题所在。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-23T06:50:30.290

使用此页面及其作品

```
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
<script src="http://ajax.aspnetcdn.com/ajax/jquery.validate/1.9/jquery.validate.min.js"></script>

<title>Basic jQuery Validation Form Demo | jQuery4u</title>
<link rel="stylesheet" type="text/css" href="bootstrap.css">

<script type="text/javascript">
(function($,W,D)
{
    var JQUERY4U = {};

    JQUERY4U.UTIL =
    {
        setupFormValidation: function()
        {
            //form validation rules
            $("#signupform").validate({
                rules: {
                    signupusername: "required",
                    signupfirstname: "required",
                    signuplastname: "required",
                    signupemail: {
                        required: true,
                        email: true
                    },
                    signuppassword: {
                        required: true,
                        minlength: 5
                    },
                    tandcyes: "required"
                },
                messages: {
                    signupusername: "Please enter your User Name",
                    signupfirstname: "Please enter your firstname",
                    signuplastname: "Please enter your lastname",
                    signuppassword: {
                        required: "Please provide a password",
                        minlength: "Your password must be at least 5 characters long"
                    },
                    signupemail: "Please enter a valid email address",
                    tandcyes: "Please accept our policy"
                },
                submitHandler: function(form) {
                    form.submit();
                }
            });
        }
    }

    //when the dom has loaded setup form validation rules
    $(D).ready(function($) {
        JQUERY4U.UTIL.setupFormValidation();
    });

})(jQuery, window, document);
</script>

</head>
<body>

<h1>Basic jQuery Validation Form Demo</h1>

<!-- HTML form for validation demo -->
<form id="signupform" name="signupform" action="page" method="post" novalidate="novalidate">

<input type="text" id="signupusername" name="signupusername">
<input type="text" id="signupemail" name="signupemail">
<input type="password" id="signuppassword" name="signuppassword">
<input type="text" id="signupfirstname" name="signupfirstname">
<input type="text" id="signuplastname" name="signuplastname">
<input type="checkbox" name="tandc" value="tandcyes"> I agree
<button type="submit" value="Signup" class="submit">Signup</button>

</form>
<!-- END HTML form for validation -->

</body>

</html> 
```

# jquery - 'device-width' 和 'fancybox' 的控制台错误

> ID：14473737
> 
> 赞同：0
> 
> 时间：2013-01-23T06:29:53.550
> 
> 标签：jquery, fancybox

我在我的网站上遇到了一些控制台错误，这阻止了fancybox 和流沙的工作。从昨天开始（当它工作正常时），我所做的就是更新一个联系表单插件。我试过停用插件，但仍然没有骰子。以下是错误。有人可以帮我解决这些问题吗？

`Viewport argument value "device-width;" for key "width" not recognized. Content ignored. Note that ';' is not a separator in viewport values. The list should be comma-separated. /:10`

`Uncaught TypeError: Cannot read property 'msie' of undefined includes-min.js:1`

`Uncaught TypeError: Object [object Object] has no method 'fancybox' includes-min.js:1`

`FB.init has already been called - this could indicate a problem all.js:52`

`Uncaught SyntaxError: Unexpected token ! ccc.js:215`

`Uncaught SyntaxError: Unexpected token _ ccc.js:215`

`Uncaught SyntaxError: Unexpected token ! ccc.js:215`

`Uncaught SyntaxError: Unexpected token _ ccc.js:215`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-23T07:10:08.887

尝试将您的 jquery 版本降级到 1.8。

这可能是由于您使用的插件可能仍然依赖于较低版本的 jquery 才能工作。所以你必须留意他们升级的时候，然后你就可以使用 1.9。

# pdf - 带有快照的全文搜索引擎

> ID：14473747
> 
> 赞同：0
> 
> 时间：2013-01-23T06:30:40.787
> 
> 标签：pdf, lucene, full-text-search, snapshot, pdfbox

是否可以使用 PDF Box 获取 PDF 文档页面的快照？我想使用关键字匹配 pdf 文件中的页面，然后显示找到该文本的页面的快照。任何人都可以指出我应该从哪里开始吗？我计划为此使用 Lucene 和 PDF 框，以及 C#。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-28T22:29:23.847

是的，您可以使用 pdfbox 执行此操作。像这样的东西：

```
pdf = PDDocument.load(inputStream);
// this gets you page 1
byte[] bytes = getImageBytes(pdf, 1);
// write out bytes as an image file 
```

您可以使用 PDFTextStripper.getText() 提取文本

等等但是我认为你会从 xpdf 中得到更好的结果——它更成熟并且支持更多的 pdf 品种。

# capybara - 水豚::未找到元素

> ID：14473748
> 
> 赞同：3
> 
> 时间：2013-01-23T06:30:43.587
> 
> 标签：capybara

我正在与 Rspec book 一起工作，因为它开发了一个“showtime”rails 应用程序，它提供了有关电影的信息。据我所知，我已经准确地复制了代码（这本书在让读者知道要采取的每一步方面并不是那么出色），但我遇到了这个错误。

```
Unable to find select box "Release Year" (Capybara::ElementNotFound)
      ./features/step_definitions/movie_steps.rb:6:in `/^I create a movie Caddyshack in the Comedy genre$/' 
```

我的movie_steps.rb文件有这个代码，它为用户提供了一个选择框来选择发布年份，这是Capybara找不到的元素。

```
#---
When /^I create a movie Caddyshack in the Comedy genre$/ do
  visit movies_path
  click_link "Add Movie"
  fill_in "Title", :with => "Caddyshack"
  select "1980", :from => "Release Year"
  check "Comedy"
  click_button "Save"
end

Then /^Caddyshack should be in the Comedy genre$/ do
  visit genres_path
  click_link "Comedy"
  response.should contain("1 movie")
  response.should contain("Caddyshack")
end 
```

在电影视图中，我有这段代码，据我所知，我只需要实现选择框。

```
<%= form_for @movie do |f| %>
  <%= f.label :title %>
  <%= f.text_field :title %>
  <%= f.label :release_year %>
  <%= f.select :release_year, (1900..2009).to_a.map(&:to_s) %>
  <% @genres.each do |genre| %>
    <label>
      <%=h genre.name %>
      <%= check_box_tag "genres[]", genre.id %>
    </label>
  <% end %>
  <%= f.submit "Save" %>
<% end %> 
```

如果您能提供任何建议，我将不胜感激。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-23T14:40:30.457

试试`select "1980", :from => "Release year"`吧。如果您希望它显示为“发布年份”，则将标签更改为如下所示：

```
f.label :release_year, "Release Year" 
```

Rails 使用[humanize](http://api.rubyonrails.org/classes/ActiveSupport/Inflector.html#method-i-humanize)方法自动为您格式化标签，但您可以将其更改为您喜欢的任何内容。

# c# - 如何在 WPF 中启动说明主从（复合列表）对象数据绑定的最简单代码？

> ID：14473749
> 
> 赞同：0
> 
> 时间：2013-01-23T06:30:45.573
> 
> 标签：c#, wpf, xaml, data-binding, master-detail

我正在尝试运行（在 C# 4.0、Visual Studio 2010 中）来自

*   [无法使用 ItemsControl 和 StackPanel 将列表显示为我的视图的列之一？](https://stackoverflow.com/questions/14426606/unable-to-display-a-listmyclass-as-one-of-the-columns-of-my-view-with-itemscon)

在 VS2010 WPF 应用程序项目的 MainWindow.xaml.cs 中添加了**myOrders**的实例化，但正在进入 XAML

> 由于未知的数据上下文，无法解析符号“ **myOrders ”**

在 MainWindows.xaml 中指向**myOrders**上的鼠标时：

```
 ItemsSource="{Binding myOrders}" 
```

在这种情况下，启动 WPF 应用程序的完整 XAML 脚本是什么？

**更新：**

我删除了我的代码，因为提供的答案和评论是多余的。
请注意，我对以下数据绑定的**最简单**的启动插图实现感兴趣：

*   复合（分层或多维/锯齿状数组或列表） List<> 对象（在 C# 中实例化，但未在 XAML 中实例化）
*   模仿主从关系，TreeView

我在互联网上找不到准备好的。

我可以发现，教程、演练或示例中的代码要么不编译，要么因混淆概念和理解的复杂性而过于臃肿。

即我更喜欢[用更简单的代码消失的答案](https://stackoverflow.com/a/14477620/200449)，尽管我不能投票或将其标记为正确，因为它不是我的。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-23T06:57:48.233

首先 myOrders 必须是公共财产。即使它是一个公共变量也看不到它，其次是让视图（XAML）知道你需要`DataContext = this;`在窗口的构造函数中设置的代码中发生了什么

设置这样的属性：`public List<Order> myOrder {get;set;}`

如果您需要从后面的代码更新视图，那么您需要实现`INotifyPropertyChanged`接口。它负责更新视图工作。这是[来自 MSDN 的一个小教程](http://msdn.microsoft.com/en-us/library/ms229614.aspx)。

最后一件事，（根据我的经验）你应该使用 type 属性`ObservableCollection<Order>`而不是`List<Order>`.

XAML：

```
<Grid>
  <ItemsControl  x:Name="visual"
                 ItemsSource="{Binding MyOrders}"
                 HorizontalAlignment="Stretch"
                 HorizontalContentAlignment="Stretch">
    <ItemsControl.ItemTemplate>
      <!-- This defines the DataTemplate to display one Order object-->
      <DataTemplate>
        <StackPanel>
          <TextBlock Text="{Binding OrderName}"
                     Margin="10" />

          <ItemsControl ItemsSource="{Binding PartsList}"
                        HorizontalAlignment="Stretch"
                        HorizontalContentAlignment="Stretch">
            <ItemsControl.ItemTemplate>
              <!-- This defines the DataTemplate to display one Parts object-->
              <DataTemplate>
                <Grid HorizontalAlignment="Stretch">
                  <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                  </Grid.ColumnDefinitions>
                  <TextBlock Grid.Column="0"
                             Text="{Binding PartName}"
                             TextAlignment="Center" />
                  <TextBlock Grid.Column="1"
                             Text="{Binding PartQuantity}"
                             TextAlignment="Center" />
                </Grid>
              </DataTemplate>
            </ItemsControl.ItemTemplate>
          </ItemsControl>
        </StackPanel>
      </DataTemplate>
    </ItemsControl.ItemTemplate>
  </ItemsControl>
</Grid> 
```

后面的代码：

```
 /// <summary>
    /// Interaction logic for MainWindow.xaml
    /// </summary>
    public partial class MainWindow : Window, INotifyPropertyChanged
{
    public ObservableCollection<Order> MyOrders
    {
        get { return _myOrders; }
        set { _myOrders = value; OnPropertyChanged("MyOrders"); }
    }

    Order order1 = new Order
     {
         OrderName = "Order1",
         PartsList = new List<Parts>()
        {
            new Parts {PartName = "Part11", PartQuantity = 11},
            new Parts {PartName = "Part12", PartQuantity = 12}
        }
     };

    private ObservableCollection<Order> _myOrders;

    public MainWindow()
    {
        InitializeComponent();
        MyOrders = new ObservableCollection<Order>();
        MyOrders.Add(order1);
        DataContext = this;
    }

    public event PropertyChangedEventHandler PropertyChanged;

    protected virtual void OnPropertyChanged(string propertyName)
    {
        PropertyChangedEventHandler handler = PropertyChanged;
        if (handler != null) handler(this, new PropertyChangedEventArgs(propertyName));
    }
}
    public class Order
    {
        public string OrderName { get; set; }
        public List<Parts> PartsList { get; set; }
    }

    public class Parts
    {
        public string PartName { get; set; }
        public double PartQuantity { get; set; }
        }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-23T10:38:21.830

**更简单的答案：这很有趣，但我**[在 HichemC 的答案中](https://stackoverflow.com/a/14474077)
没有看到编辑他的倒数第二版 C# 代码，使用相同的 XAML，没有任何膨胀：

*   可观察集合
*   OnPropertyChanged()
*   INotifyPropertyChanged
*   PropertyChangedEventHandler

这个更简单的代码对我有用：

```
public partial class MainWindow : Window
{
    public List<Order> myOrders { get; set; }
    Order order1 = new Order
    {
        OrderName = "Order1",
        PartsList = new List<Parts>()
        {
              new Parts {PartName = "Part11", PartQuantity = 11},
              new Parts {PartName = "Part12", PartQuantity = 12}
         }
     };
    Order order2 = new Order
    {
        OrderName = "Order2",
        PartsList = new List<Parts>()
        {
              new Parts {PartName = "Part21", PartQuantity = 21},
              new Parts {PartName = "Part22", PartQuantity = 22},
              new Parts {PartName = "Part23", PartQuantity = 23}
         }
     };

     public MainWindow()
        {
            InitializeComponent();
            myOrders = new List<Order>();
            myOrders.Add(order1);
            myOrders.Add(order2);
            DataContext = this;
        }
    }
    public class Order
    {
        public string OrderName { get; set; }
        public List<Parts> PartsList { get; set; }
    }

    public class Parts
    {
        public string PartName { get; set; }
        public double PartQuantity { get; set; }
        }
} 
```

![WPF 应用程序中的主从复合列表对象数据绑定 - 最简单的可能实现](../Images/a2a9b2a704445bb2e9f93df62659f33c.png)

# c - 编写 shell - 如何执行命令

> ID：14473751
> 
> 赞同：0
> 
> 时间：2013-01-23T06:30:51.253
> 
> 标签：c, gnu

我正在尝试编写一个最终会利用并发性的 shell。现在我有一个工作的 shell 解析器，但我无法弄清楚如何执行命令。我看了一点`exec`（`execvp`等），它看起来很有希望，但我有一些问题。

exec 可以处理文件输入/输出重定向吗？我可以使用 exec 设置管道吗？

我也想知道子壳。子shell应该返回什么；最后一条语句的退出状态？子壳可以成为管道的一部分吗？

这些可能看起来很愚蠢的问题，但请忍受我的经验不足。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-23T06:35:45.480

> exec 可以处理文件输入/输出重定向吗？

不，您可以使用`open()`and`dup()`或`dup2()`(and `close()`) 来执行此操作。

> 我可以使用 exec 设置管道吗？

不，你用`pipe()`, `dup()`or`dup2()`和很多 `close()`电话来做到这一点。

> 我也想知道子壳。subshel​​ls 应该返回什么，它最后一条语句的退出状态？

这是正常的约定，是的。

> 子壳可以成为管道的一部分吗？

是的。在普通的 shell 中，您可以编写如下内容：

```
(cd /some/where; find . -name '*.png') | sed 's/xyz/prq/' > mapped.namelist 
```

* * *

如果你想害怕，你可以调查[`posix_spawn()`](http://pubs.opengroup.org/onlinepubs/9699919799/functions/posix_spawn.html)它的支持功能。[在POSIX 2008](http://pubs.opengroup.org/onlinepubs/9699919799/toc.htm)站点上搜索“spawn” ，并做好害怕的准备。我认为临时进行映射工作实际上比使用`posix_spawn()`及其支持者对其进行编码更容易。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-23T06:42:09.393

shell 的标准技术是使用[fork-exec](http://en.wikipedia.org/wiki/Fork-exec)。在此模型中，为了执行应用程序，shell 使用[fork](http://www.kernel.org/doc/man-pages/online/pages/man2/fork.2.html)创建一个新进程，该进程是其自身的副本，然后使用其中一个 exec 变体将其自己的代码、数据等替换为可执行文件指定的信息在磁盘上。

这个模型的好处是，shell 可以在更改其地址空间之前对文件描述符（不会被 exec 丢弃）做一些额外的工作。因此，为了实现重定向，它将文件描述符 0、1 和 2（分别为 stdin、stdout 和 stderr）更改为指向另一个打开的文件，而不是控制台 I/O。您使用[dup2](http://www.kernel.org/doc/man-pages/online/pages/man2/dup.2.html)更改这些文件描述符之一的含义，然后使用 exec 启动新进程。

# xslt - 如何编写 xslt 以添加节点并从另一个节点获取值

> ID：14473757
> 
> 赞同：1
> 
> 时间：2013-01-23T06:31:17.700
> 
> 标签：xslt, wix, windows-installer

在我的 program.wxs 文件中，我有这样的东西。

```
<?xml version="1.0" encoding="utf-8"?>
<Wix xmlns="http://schemas.microsoft.com/wix/2006/wi">
    <Fragment>
        <DirectoryRef Id="CLASSES">
            <Directory Id="dirAAAAA" Name="folderA">
                <Directory Id="dirBBBBB" Name="folderB">
                    <Component Id="cmpCCCCC" Guid="MY-GUID">
                        <File Id="filDDDDD" KeyPath="yes" Source="SourceDir\en_myfile.xml" />
                    </Component>
                </Directory>
            </Directory>
        </DirectoryRef>
    </Fragment>
    <Fragment>
        <ComponentGroup Id="LANG_PACKS_EN_US_COMPONENTS">
            <ComponentRef Id="cmpCCCCC" />
        </ComponentGroup>
    </Fragment>
</Wix> 
```

我希望输出像

```
 <?xml version="1.0" encoding="utf-8"?>
    <Wix xmlns="http://schemas.microsoft.com/wix/2006/wi">
        <Fragment>
            <DirectoryRef Id="CLASSES">
                <Directory Id="dirAAAAA" Name="folderA">
                    <Directory Id="dirBBBBB" Name="folderB">
                        <Component Id="en_cmpCCCCCC" Guid="MY-GUID">
                            <File Id="filDDDDD" KeyPath="yes" Source="SourceDir\en_myfile.xml" >
                                <CopyFile Id ="filDDDDD" DestinationProperty="dirBBBBB" DestinationName="myfile.xml/>
                            </File>
                        </Component>
                    </Directory>
                </Directory>
            </DirectoryRef>
        </Fragment>
        <Fragment>
            <ComponentGroup Id="LANG_PACKS_EN_US_COMPONENTS">
                <ComponentRef Id="en_cmpCCCCC" />
            </ComponentGroup>
        </Fragment>
    </Wix> 
```

现在我有这个 .XSLT

```
 <xsl:template match="@* | node()">
    <xsl:copy>
      <xsl:apply-templates select="@* | node()"/>
    </xsl:copy>
  </xsl:template>

  <xsl:template match="wix:Component/@Id">
    <xsl:attribute name="{name()}">
      <xsl:value-of select="concat('en_', .)" />
    </xsl:attribute>
  </xsl:template>

  <xsl:template match="wix:ComponentRef/@Id">
    <xsl:attribute name="{name()}">
      <xsl:value-of select="concat('en_', .)" />
    </xsl:attribute>
  </xsl:template>

  <xsl:template match="File">
      <xsl:apply-templates select="@* | node()" />
      <CopyFile Id="xxx" DestinationProperty="yyy" DestinationName="zzz"/>
  </xsl:template> 
```

我想添加从节点和节点`<CopyFile>`获取值的节点`<Directory>``<file Source>`

你能帮我用 .XSLT 来改变这个 .wxs 吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-23T07:04:58.190

这应该这样做：

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
    xmlns:wi="http://schemas.microsoft.com/wix/2006/wi" exclude-result-prefixes="wi">
  <xsl:output method="xml" indent="yes"/>

  <xsl:template match="@* | node()">
    <xsl:copy>
      <xsl:apply-templates select="@* | node()"/>
    </xsl:copy>
  </xsl:template>

  <xsl:template match="wi:Component/@Id | wi:ComponentRef/@Id">
    <xsl:attribute name="{name()}">
      <xsl:value-of select="concat('en_', .)" />
    </xsl:attribute>
  </xsl:template>

  <xsl:template match="wi:File">
    <xsl:copy>
      <xsl:variable name="leadingSpace" select="preceding-sibling::text()[1]" />
      <xsl:apply-templates select="@*"/>
      <!-- Add linebreak and indentation, as requested in the comments -->
      <xsl:value-of select="concat($leadingSpace, '  ')" />
      <CopyFile Id="{@Id}" DestinationProperty="{ancestor::wi:Directory[1]/@Id}" xmlns="http://schemas.microsoft.com/wix/2006/wi">
        <xsl:attribute name="DestinationName">
          <xsl:call-template name="GetFileName">
            <xsl:with-param name="path" select="@Source"  />
          </xsl:call-template>
        </xsl:attribute>
      </CopyFile>
      <!-- Linebreak and indentation -->
      <xsl:value-of select="$leadingSpace"/>
    </xsl:copy>
  </xsl:template>

  <!-- Extracts a file name from a path, removing anything that has a \ after it. -->
  <xsl:template name="GetFileName">
    <xsl:param name="path" />
    <xsl:choose>
      <xsl:when test="contains($path, '\')">
        <xsl:call-template name="GetFileName">
          <xsl:with-param name="path" select="substring-after($path, '\')" />
        </xsl:call-template>
      </xsl:when>
      <xsl:otherwise>
        <xsl:choose>
          <xsl:when test="contains($path, '_')">
            <xsl:value-of select="substring-after($path, '_')" />
          </xsl:when>
          <xsl:otherwise>
            <xsl:value-of select="$path" />
          </xsl:otherwise>
        </xsl:choose>
      </xsl:otherwise>
    </xsl:choose>
  </xsl:template>
</xsl:stylesheet> 
```

在此输入上运行时：

```
<Wix xmlns="http://schemas.microsoft.com/wix/2006/wi">
  <Fragment>
    <DirectoryRef Id="CLASSES">
      <Directory Id="dirAAAAA" Name="folderA">
        <Directory Id="dirBBBBB" Name="folderB">
          <Component Id="cmpCCCCC" Guid="MY-GUID">
            <File Id="filDDDDD" KeyPath="yes" Source="C:\SourceDirParent\SourceDir\en_myfile.xml" />
          </Component>
        </Directory>
      </Directory>
    </DirectoryRef>
  </Fragment>
  <Fragment>
    <ComponentGroup Id="LANG_PACKS_EN_US_COMPONENTS">
      <ComponentRef Id="cmpCCCCC" />
    </ComponentGroup>
  </Fragment>
</Wix> 
```

产生：

```
<Wix xmlns="http://schemas.microsoft.com/wix/2006/wi">
  <Fragment>
    <DirectoryRef Id="CLASSES">
      <Directory Id="dirAAAAA" Name="folderA">
        <Directory Id="dirBBBBB" Name="folderB">
          <Component Id="en_cmpCCCCC" Guid="MY-GUID">
            <File Id="filDDDDD" KeyPath="yes" Source="C:\SourceDirParent\SourceDir\en_myfile.xml">
              <CopyFile Id="filDDDDD" DestinationProperty="dirBBBBB" DestinationName="myfile.xml" />
            </File>
          </Component>
        </Directory>
      </Directory>
    </DirectoryRef>
  </Fragment>
  <Fragment>
    <ComponentGroup Id="LANG_PACKS_EN_US_COMPONENTS">
      <ComponentRef Id="en_cmpCCCCC" />
    </ComponentGroup>
  </Fragment>
</Wix> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-23T14:22:33.100

**你接近解决方案**。

**这个更短更简单的转换**：

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
 xmlns:wix="http://schemas.microsoft.com/wix/2006/wi" exclude-result-prefixes="wix"
 xmlns="http://schemas.microsoft.com/wix/2006/wi">
 <xsl:output omit-xml-declaration="yes" indent="yes"/>

  <xsl:template match="@* | node()">
    <xsl:copy>
      <xsl:apply-templates select="@* | node()"/>
    </xsl:copy>
  </xsl:template>

  <xsl:template match="wix:Component">
   <Component Id="en_{@Id}">
    <xsl:apply-templates select="@*[not(name()='Id')]|node()"/>
   </Component>
  </xsl:template>

  <xsl:template match="wix:ComponentRef">
    <ComponentRef Id="en_{@Id}">
      <xsl:apply-templates select="@*[not(name()='Id')]|node()"/>
    </ComponentRef>
  </xsl:template>

  <xsl:template match="wix:File">
    <xsl:copy>
      <xsl:apply-templates select="@* | node()" />
      <CopyFile Id="xxx" DestinationProperty="yyy" DestinationName="zzz"/>
    </xsl:copy>
  </xsl:template>
</xsl:stylesheet> 
```

**应用于提供的 XML 文档时：**

```
<Wix xmlns="http://schemas.microsoft.com/wix/2006/wi">
    <Fragment>
        <DirectoryRef Id="CLASSES">
            <Directory Id="dirAAAAA" Name="folderA">
                <Directory Id="dirBBBBB" Name="folderB">
                    <Component Id="cmpCCCCC" Guid="MY-GUID">
                        <File Id="filDDDDD" KeyPath="yes" Source="SourceDir\en_myfile.xml" />
                    </Component>
                </Directory>
            </Directory>
        </DirectoryRef>
    </Fragment>
    <Fragment>
        <ComponentGroup Id="LANG_PACKS_EN_US_COMPONENTS">
            <ComponentRef Id="cmpCCCCC" />
        </ComponentGroup>
    </Fragment>
</Wix> 
```

**产生想要的正确结果：**

```
<Wix xmlns="http://schemas.microsoft.com/wix/2006/wi">
    <Fragment>
        <DirectoryRef Id="CLASSES">
            <Directory Id="dirAAAAA" Name="folderA">
                <Directory Id="dirBBBBB" Name="folderB">
                    <Component Id="en_cmpCCCCC" Guid="MY-GUID">
                        <File Id="filDDDDD" KeyPath="yes" Source="SourceDir\en_myfile.xml">
                            <CopyFile Id="xxx" DestinationProperty="yyy" DestinationName="zzz" />
                        </File>
                    </Component>
                </Directory>
            </Directory>
        </DirectoryRef>
    </Fragment>
    <Fragment>
        <ComponentGroup Id="LANG_PACKS_EN_US_COMPONENTS">
            <ComponentRef Id="en_cmpCCCCC"></ComponentRef>
        </ComponentGroup>
    </Fragment>
</Wix> 
```

# c# - Powershell命令读取EventLog

> ID：14473761
> 
> 赞同：0
> 
> 时间：2013-01-23T06:31:52.567
> 
> 标签：c#, .net, powershell, event-log

我正在使用如下 1 的 Powershell 命令读取事件日志：

```
get-winevent -Path "C:\Test.evtx" -oldest | convertto-xml -as Stream > "C:\Test.xml" 
```

如您所见，我将结果存储在 XML 文件中以供以后阅读。

对于事件日志中的少数事件，我需要一个特殊的查询，如下所示：

```
$evtWithoutMsg = get-winevent -Path "C:\Test.evtx" | Where-Object {($_.RecordId -eq 53593)}
$xmlThing = [xml]$evtWithoutMsg.toxml()
$msg = $xmlThing.Event.EventData.Data
$msg 
```

我的问题是我可以将这个“$xmlThing.Event.EventData.Data”作为新节点或初始命令的 xml 文件输出 (test.xml) 中的内容吗？

# wordpress - 如何限制wordpress页面中的评论数量

> ID：14473762
> 
> 赞同：0
> 
> 时间：2013-01-23T06:31:58.620
> 
> 标签：wordpress, wordpress-theming

我正在 wordpress 应用程序中创建反馈页面。我在用

```
 <?php comments_template(); ?> 
```

我的模板文件中的代码。我不知道我应该如何限制没有。页面中的评论。基本上我希望它应该在反馈页面中显示 4 条评论。4条评论后应该有评论的分页。请帮我...

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-23T09:19:22.367

在管理面板中-

设置 > 讨论 > 其他评论设置 > 勾选 - 用 [NUMBER] 将评论分成页面......

# css - Bootstrap下拉切断

> ID：14473769
> 
> 赞同：17
> 
> 时间：2013-01-23T06:32:42.410
> 
> 标签：css, twitter-bootstrap

我正在尝试将下拉设置菜单添加到我一直在从事的项目中的评论部分。

下拉菜单似乎会自行关闭，我不知道为什么会这样。

我试过了`overflow:visible and z-index:999`。但它们似乎都不起作用。

这是一个基本的注释块，我试图在其中包含一个下拉列表

这是我试图实现的基本代码

```
<div class="media">
    <a class="pull-left" href="/user/{{shared_scribble.scribble.user.username}}/"><img class="media-object" src="/img.png/"></a>
    <div class="dropdown pull-right">
        <a class="btn dropdown-toggle" data-toggle="dropdown" href="#" style="font-size:10px;padding: 4px 8px;">
            <b data-icon="&#xe001;"></b> <b class="caret"></b>
        </a>
        <ul class="dropdown-menu">
            <li><a href="#"><i class="icon-pencil"></i> Edit</a></li>
            <li><a href="#"><i class="icon-trash"></i> Delete</a></li>
            <li><a href="#"><i class="icon-ban-circle"></i> Ban</a></li>
            <li class="divider"></li>
            <li><a href="#"><i class="i"></i> Make admin</a></li>
        </ul>
    </div>
    <div class="media-body">
        <h4 class="media-heading"><a class="username" href="/user/hi/">Test User</h4>
        <p>
            Main body of the comment
        </p>
    </div>
</div> 
```

这就是我的下拉菜单的结果

![截屏](../Images/941fb1f7e95fab38b4c584a707d33ae4.png)

# 媒体 CSS

```
.media,
.media-body {
  overflow: hidden;
  *overflow: visible;
  zoom: 1;
}
.media,
.media .media {
  margin-top: 15px;
}
.media:first-child {
  margin-top: 0;
}
.media-object {
  display: block;
}
.media-heading {
  margin: 0 0 5px;
}
.media .pull-left {
  margin-right: 10px;
}
.media .pull-right {
  margin-left: 10px;
}
.media-list {
  margin-left: 0;
  list-style: none;
} 
```

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2014-12-30T19:11:00.527

这不是一个理想的解决方案，因为菜单不会与目标元素一起滚动，但我将滚动数据表作为最后的手段，直到找到替代方案：

```
(function() {                                             
  var dropdownMenu;                                     
  $(window).on('show.bs.dropdown', function(e) {        
    dropdownMenu = $(e.target).find('.dropdown-menu');
    $('body').append(dropdownMenu.detach());          
    dropdownMenu.css('display', 'block');             
    dropdownMenu.position({                           
      'my': 'right top',                            
      'at': 'right bottom',                         
      'of': $(e.relatedTarget)                      
    })                                                
  });                                                   
  $(window).on('hide.bs.dropdown', function(e) {        
    $(e.target).append(dropdownMenu.detach());        
    dropdownMenu.hide();                              
  });                                                   
})(); 
```

这会将菜单附加到正文并在隐藏时对其进行清理。我正在使用 jquery UI 进行定位，但如果您不想添加重度依赖项，则可以将其替换为常规 jquery 定位。`$(window).on`如果您只想对有限的下拉列表进行此操作，您可能还需要进行更改。

* * *

## 回答 #2

> 赞同：22
> 
> 时间：2013-01-23T06:39:52.873

检查媒体类是否有`overflow:hidden`。如果是这样，请将其替换为`overflow: auto`or `overflow: visible`。

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2013-01-23T09:14:23.627

像这样写：

```
.media,
.media-body {
  overflow: visible;
}

.media:after,
.media-body:after{
 content:'';
 clear:both;
 display:block;
} 
```

可能对你有帮助。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2017-04-21T19:41:18.413

我有同样的问题。添加此行后，我的下拉菜单按预期工作：

```
@media (max-width: 767px) {
    .table-responsive .dropdown-menu {
        position: static !important;
    }
}

@media (min-width: 768px) {
    .table-responsive {
        overflow: visible;
    }
} 
```

我在[这里找到了解决方案](https://github.com/twbs/bootstrap/issues/11037#issuecomment-105283986)

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2014-07-02T07:54:54.253

新方法：

只需将下拉菜单带出媒体类并使用负边距：

```
 <div class="dropdown pull-right" style="margin-left:-30px">
     ...
 </div>

 <div class="media">
     ...
 </div> 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2017-03-29T07:36:17.013

在我继承的项目中经常得到这个；往往是其中一个父元素的情况

```
overflow:hidden 
```

一旦我删除它，它似乎可以按预期工作（只要您的设计不依赖此属性）。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2021-07-02T09:41:11.900

基于@nick 的回答，这就是我在没有 Jquery UI 的 Bootstrap 3 中所做的。

```
 let dropdown_toggles = $('.my-table .dropdown-toggle');
        dropdown_toggles.each(function (index, elem) {
            let dropdownMenu;
            let dropdown_toggle = $(elem);
            dropdown_toggle.dropdown();
            dropdown_toggle.parent().on('show.bs.dropdown', function(e) {
                let $target = $(e.target);
                let $relatedTarget = $(e.relatedTarget).parent();
                dropdownMenu = $target.find('.dropdown-menu');
                dropdownMenu.css({
                    'position': 'absolute',
                    'z-index': 1,
                    'top': ($relatedTarget.offset().top + $relatedTarget.height()) + 'px',
                    /*'left': $relatedTarget.offset().left + 'px',*/ //from left
                    'left': ($relatedTarget.offset().left - dropdownMenu.width() + $relatedTarget.width()) + 'px', //from right
                });
                $('body').append(dropdownMenu.detach());
                dropdownMenu.css('display', 'block');
            });
            dropdown_toggle.parent().on('hide.bs.dropdown', function(e) {
                $(e.target).append(dropdownMenu.detach());
                dropdownMenu.hide();
            });
        }); 
```

这将允许您从左侧或右侧设置绝对位置。

# django - 尝试在 Django 之外使用 ORM 时出现“ImportError：没有名为 xxx 的模块”

> ID：14473771
> 
> 赞同：2
> 
> 时间：2013-01-23T06:32:52.493
> 
> 标签：django, orm

**亲爱的兄弟们，** 我非常喜欢 Django ORM，所以我试图在 Django 项目本身之外使用它。但是当我尝试使用它时遇到了问题。 **这是我在 Mac 上的文件结构：**

```
testORM  
   |-- orm
        |-- __init__.py
        |-- models.py  
   |-- manage.py  
   |-- settings.py  
   |-- test.py 
```

**这是我非常简单的代码：**

模型.py：

```
from django.db import models

class test(models.Model):
    name = models.CharField(max_length=50)
    class Meta:
        db_table='test'
        app_label='orm' 
```

管理.py：

```
import os
import sys

if __name__ == "__main__":
    os.environ.setdefault("DJANGO_SETTINGS_MODULE", "settings")

    from django.core.management import execute_from_command_line

    execute_from_command_line(sys.argv) 
```

设置.py：

```
DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.postgresql_psycopg2', # Add 'postgresql_psycopg2', 'mysql', 'sqlite3' or 'oracle'.
        'NAME': 'Portal',                      # Or path to database file if using sqlite3.
        'USER': 'postgres',                      # Not used with sqlite3.
        'PASSWORD': 'Cloud',                  # Not used with sqlite3.
        'HOST': 'localhost',                      # Set to empty string for localhost. Not used with sqlite3.
        'PORT': '5432',                      # Set to empty string for default. Not used with sqlite3.
    }
}

# Local time zone for this installation. Choices can be found here:
# http://en.wikipedia.org/wiki/List_of_tz_zones_by_name
# although not all choices may be available on all operating systems.
# In a Windows environment this must be set to your system time zone.
TIME_ZONE = 'America/Chicago'

INSTALLED_APPS = (
    'orm',
) 
```

测试.py：

```
import sys
sys.path.append('/Users/wally/Documents/workspace/testORM')
sys.path.append('/Users/wally/Documents/workspace/testORM/orm')
import os
os.environ.setdefault("DJANGO_SETTINGS_MODULE", "settings")

from django.core.management import setup_environ
import settings
setup_environ(settings) 
```

这是我尝试从 Eclipse 执行 test.py 时得到的结果：

```
Traceback (most recent call last):
  File "/Users/wally/Documents/workspace/testORM/test.py", line 14, in <module>
    setup_environ(settings)
  File "/Library/Python/2.7/site-packages/django/core/management/__init__.py", line 433, in setup_environ
    import_module(project_name)
  File "/Library/Python/2.7/site-packages/django/utils/importlib.py", line 35, in import_module
    __import__(name)
ImportError: No module named testORM 
```

但是当我尝试执行时

```
python manage.py shell 
from django.db import connection
cursor = connection.cursor() 
```

他们都从命令行工作正常！！！即使我创建模型的对象并保存数据也可以正常工作，通过 shell 一切正常。

*   但是当我尝试从 test.py 执行它们时，我无法弄清楚为什么它不起作用。我只是没有开始在test.py中做任何事情，只是导入设置。
*   我在网上搜索，有人通过将项目的路径添加到“sys.path”来解决问题，如您所见，我做到了，添加了硬编码的完整路径。但是还是不行...
*   有人会遇到这种情况吗？如果有人可以提供帮助，我将不胜感激。预先感谢。
*   注意：我在我的 Mac(v10.8) 上使用 python2.7 和 Django1.4

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-23T07:37:01.590

我创建了所有这些文件来复制您的环境并且能够产生这个错误。

`python test.py`当我在文件夹中创建一个空`__init__.py`文件时开始工作`testORM`。

# iphone - 位置设置与功耗统计

> ID：14473773
> 
> 赞同：2
> 
> 时间：2013-01-23T06:32:55.057
> 
> 标签：iphone, ios, gps, cllocationmanager, power-management

是否有关于`GPS`功耗如何随不同`CLLocationManager`设置（例如所需的精度和距离过滤器）变化的数据？`iPhone`不同型号之间如何变化？它如何因位置而异？

对于我的社交位置感知应用程序，准确度越高越好，但不需要具体数量。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-23T06:56:35.537

查看文档中的“**节省电池电量的提示**”部分。特别是这部分：

> 使用较低分辨率的值以获得所需的精度，除非这样做会损害您的应用程序。请求比您需要的精度更高的精度会导致 Core Location 启动额外的硬件并为您不使用的精度浪费功率。除非您的应用确实需要知道用户在几米内的位置，否则不要将值 kCLLocationAccuracyBest 或 kCLLocationAccuracyNearestTenMeters 放在 desiredAccuracy 属性中。请记住，指定 kCLLocationAccuracyThreeKilometers 的值不会阻止位置服务返回更好的数据。大多数情况下，Core Location 可以使用 Wi-FI 和蜂窝信号以百米左右的精度返回位置数据。

资料来源：[Apple 文档](http://developer.apple.com/library/ios/#documentation/UserExperience/Conceptual/LocationAwarenessPG/CoreLocation/CoreLocation.html)

# c++ - 虚拟功能需要多少字节的额外内存？

> ID：14473778
> 
> 赞同：2
> 
> 时间：2013-01-23T06:33:32.290
> 
> 标签：c++, memory, virtual-functions

虚函数的结构从简单到复杂都有各种各样的案例。什么因素决定了它需要多少额外的内存？例如

```
class A            {virtual void F() {}   };
class B : public A {virtual void F() {}   }; 
```

与没有虚函数的类相比，A 和 B 需要多少内存？另一个有 2 个虚函数的例子，

```
class A            {virtual void F() {}   virtual void G() {}   };
class B : public A {virtual void F() {}   virtual void G() {}   }; 
```

和示例 3

```
class A            {virtual void F() {};   virtual void G() {}  };
class B : public A {virtual void F() {}                         }; 
```

[---------------添加更多有趣的问题------]

1.  每个虚拟方法都有一个虚拟方法表吗？如果是这样，我认为对于具有多个虚拟方法的类（不是对象，对吗？我认为 VPTR 是静态的。）需要多个 VPTR，每个用于一个虚拟方法。对？

2.  是否可以为所有虚拟方法只构建一个表并在一个类中只放置一个 VPTR？

3.  而且我觉得虚函数的调用速度应该比手动ifs要快，因为使用的是直接的VPTR。对？

[ - - - - - - - - 一个测试 - - - - - - - - ]

我做了一个测试，并用 VS2010 和 intel c++ 编译器展示了我的结果。

```
struct A
{
    static int s_i;
    int i;
    virtual void F()    {i+=1;}
    virtual void G()    {i+=2;}
};

struct B
    : public A
{
    int j;
    virtual void F()    {i+=3;}
    virtual void G()    {i+=4;}

    virtual void H()    {i+=5;}
};

struct C
    : public B
{
    virtual void F()    {i+=6;}

    virtual void H()    {i+=7;}
};

TEST(MemoryForVirtualMethod)
{
    CHECK_EQUAL(sizeof(A), 8);
    CHECK_EQUAL(sizeof(B), 12);
    CHECK_EQUAL(sizeof(C), 12);
} 
```

从结果来看，我的结论是

(1) 对于每个具有虚函数的对象，添加一个（隐藏指针）VPTR。

(2)对每个类，为该类的所有虚方法建立一个虚方法表。

(3) 将VPTR放在object中是为了实现动态调度，因为引用的类可能不是动态类。

（4）实现调用效率高（比手动ifs快）但牺牲了一些内存。

非常感谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-23T06:39:08.123

由于虚函数*通常*实现为[虚方法表 (vtable)](http://en.wikipedia.org/wiki/Virtual_method_table)，我猜测`O(number of virtual functions)`per`class`和 1 个额外的指针`object`。不像你想要的那样精确，但应该给出一个粗略的想法。正如@AlokSave 所提到的，还有许多其他的细微之处是编译器特定的，并且可能不够一致，无法估计。

> 通常，编译器为每个类创建一个单独的 vtable。创建对象时，会添加一个指向此 vtable 的指针，称为虚拟表指针 vpointer 或 VPTR，作为此对象的隐藏成员

来源：[维基百科](http://en.wikipedia.org/wiki/Virtual_method_table)

您覆盖的函数的数量（如您的示例中所示）是（我猜的）无关紧要的，除非可以在编译时安全地确定要调用的函数，在这种情况下，它*可能*被视为静态调度函数（`G()`在您的第二例子）。这也取决于编译器。

> 只要可以在编译时解析调用，编译器通常会避免使用 vtables。

最后，虚函数的成本可能比内存更难。

# android - Android Dom解析链接标签

> ID：14473781
> 
> 赞同：0
> 
> 时间：2013-01-23T06:33:38.467
> 
> 标签：android, parsing, http-error

下面是我解析链接标签的网址

[http://www.mobileapp.pcmac.org/mobile/xml/sisapp.asp?sid=353&pn=news2](http://www.mobileapp.pcmac.org/mobile/xml/sisapp.asp?sid=353&pn=news2)

在这个网址中，数据是

```
 <item>
      <title>DATA WAREHOUSE (Quick link and training information)</title>
      <category> News</category>
      <description></description>
      <pubDate>Tue, 1 Dec 2009 00:00 CST</pubDate>
      <enclosure url="" length="0" type="image/jpg" />
      **<link>http://www.mcpss.com?PN=&apos;News2&apos;&amp;SubP=&apos;DNewsStory&apos;&amp;gn=&amp;NewsID=17662&amp;ShowNav=&amp;StoryGroup=Current</link>**
    </item> 
```

我正在从上面的数据中解析链接标签。但是当我尝试将该值放在下面的代码中时，它会抛出以下异常： **HTTP error fetching URL**

```
try {
           String website=list.get(0);
           Document doc = Jsoup.connect(website).get();
           Elements el=doc.getElementsByClass("header");
           Elements atr= doc.select("p span");
           String ss="";
           for(Element s:atr)
               ss+=s.text();
                String text=el.text();
                t1.setText(text);
                t2.setText(ss);
     } catch (Exception e) {
log.d("Error",e.getMessage());

              } 
```

如果我对该链接值进行硬编码，它工作正常。我需要一些帮助来解决这个问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-23T07:54:10.260

首先，您需要检查您的解析是否正确。所以使用 println 或类似的。如果 url 已被确认，您可以执行下一步。

大多数问题都发生在重定向上。

在您的示例中，解析的链接将是：

```
http://www.mcpss.com?PN=&apos;News2&apos;&amp;SubP=&apos;DNewsStory&apos;&amp;gn=&amp;NewsID=17662&amp;ShowNav=&amp;StoryGroup=Current 
```

被重定向到的实际站点是：

```
http://www.mcpss.com/?PN=&apos;News2&apos;&amp;SubP=&apos;DNewsStory&apos;&amp;gn=&amp;NewsID=17662&amp;ShowNav=&amp;StoryGroup=Current 
```

可以看到添加了一个斜线。尝试使用 jsoup 连接到该最终 url。如果这有效，那么您需要先解析所有链接并在使用 jsoup 连接之前添加斜杠。如果适用，它应该是所有 url 的持久方案。

希望能帮助到你

# c++ - 除了使用 getline() 和使用 stringstream 转换之外，还有哪些其他方法可以从 ifstream 中读取 double？

> ID：14473786
> 
> 赞同：1
> 
> 时间：2013-01-23T06:34:04.833
> 
> 标签：c++, fstream

我已经编写了以下内容来从输入文件中读取双精度，但这似乎很麻烦，我还可以使用哪些其他方法？我应该注意哪些优点/缺点？

我认为这种方法是最准确的，因为不应该有任何二进制<->十进制转换问题，对吗？

```
#include<string>
#include<iostream>
#include<iomanip>
#include<fstream>
#include<sstream>

void Stats::fill()
{
    string temp;
    stringstream convert;

    statFile.open("statsinput.txt");
    for(int i = 0; i<maxEntries && !statFile.eof(); i++)
    {
        getline(statFile, temp);
        convert<<temp;
        convert>>stats[i];
    }
    statFile.close();
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-23T06:35:32.640

直接在文件中使用输入运算符？

```
for(int i = 0; i<maxEntries && statFile >> stats[i]; i++)
    ; 
```

请记住，所有输入流都继承自相同的基类，因此您可以对流执行的所有操作都可以`stringstream`对`cin`所有其他输入流进行。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-23T06:48:56.210

如果您有现代 C++ (C++ 11) 编译器，则可以使用 std::stof、std::stod 或 std::stold 函数。

然后你可以写：

```
 getline(statFile, temp);
 double d = std::stod(temp); 
```

[有关C++ 参考页面](http://en.cppreference.com/w/cpp/string/basic_string/stof)的更多信息

# ios - 如何将 iOS 中的这些 UI 更改为 Mac OS X

> ID：14473790
> 
> 赞同：2
> 
> 时间：2013-01-23T06:34:14.797
> 
> 标签：ios, objective-c, macos

我想将一些代码从 iOS 更改为 Mac OS X，谁能给我一些提示

```
UIGraphicsBeginImageContext(CGSizeMake( width , height ));
[image drawInRect:CGRectMake(0, 0,width, height)];
image = UIGraphicsGetImageFromCurrentImageContext();
UIGraphicsEndImageContext(); 
```

和

```
UIGraphicsGetImageFromCurrentImageContext(); 
```

和

```
UIImageJPEGRepresentation(newImage, 0.75); 
```

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-23T07:27:48.693

请参阅[NSGraphicsContext 类参考](https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/ApplicationKit/Classes/NSGraphicsContext_Class/Reference/Reference.html)。

# ruby-on-rails - 使用 Cocoon 创建复杂的嵌套表单

> ID：14473794
> 
> 赞同：2
> 
> 时间：2013-01-23T06:34:22.383
> 
> 标签：ruby-on-rails, simple-form, nested-forms, cocoon-gem

我创建了一个复杂的嵌套表单，但是我的应用程序根据该表单的输入正确创建/编辑记录的部分存在问题。

待办事项场景：我需要从一堆写有任务的小论文中将任务一个接一个地输入到我的表单中（每个“提交”按一个任务）。每个任务都有一个 :project_number、一个 :project_number_type 和一个 :owner 写在上面。在我的应用程序中，这些属性位于模型 ProjectNumber（前两个）和 Owner（最后一个）中。（我必须制作一个单独的 ProjectNumber 模型，因为我的项目有时可以有多个不同 project_number_types 的：project_numbers。）

```
class Owner < ActiveRecord::Base
  has_many :projects
  has_many :tasks, :through => :projects
end   

class Project < ActiveRecord::Base
  belongs_to :owner
  has_many :tasks
  has_many :project_numbers
end

class ProjectNumber < ActiveRecord::Base
  belongs_to :project
end

class Task < ActiveRecord::Base
  belongs_to :project

  delegate :owner, :to => :project, :allow_nil => true
end 
```

我的表单显示了上述每个属性的正确嵌套`fields_for`字段。（我省略了诸如 accept_nested_attributes_for 之类的内容）。

2个相关（我认为）问题：

1.  我的表单从不创建任何新项目！我用来创建嵌套表单的 Cocoon gem 让我为每个嵌套模型创建表单部分。在 Project 部分中，由于我的 Project 模型本身没有 :number 属性，而是与 ProjectNumbers 模型相关联，因此我只引用了 ProjectNumbers 部分及其属性。

2.  如果任务的 :project_number、:project_number_type 和 :owner 都与与现有项目关联的那些匹配，我需要将我的应用程序添加到`edit`具有新任务的现有项目中。否则，它应该`create`属于该任务的新项目。

我在这里和其他地方读了很多小代码，但我需要更多的东西，也许包括“什么”`.first_or_initialize`和“哪里”，比如`/models/task.rb`, 或`tasks_controller.rb`? 也许我需要创建一些自定义的东西？非常感谢！

**编辑：这是表单部分**

====`/views/tasks/_form.html.slim`

```
= simple_form_for @task do |f|
  #project
    = f.simple_fields_for :project do |project|
      = render 'project_fields', :f => project 
```

====`/views/tasks/_project_fields.html.slim`

```
.nested-fields
  .project_numbers
    = f.simple_fields_for :project_numbers do |project_number|
      = render 'project_number_fields', :f => project_number 
```

# drupal-7 - Drupal 7 Drupal Commerce 添加字段到添加到购物车页面

> ID：14473795
> 
> 赞同：0
> 
> 时间：2013-01-23T06:34:30.380
> 
> 标签：drupal-7, drupal-commerce

我需要一些建议来将一些字段添加到“添加到购物车”页面。

在许多产品中，其中一种产品需要在继续“添加到购物车”过程之前填写一些用户信息。我正在销售“考试”类型的产品。在购买“考试”类型的产品之前（在添加到购物车之前），用户必须输入他的个人详细信息，如姓名、地址、出生日期和其他强制性详细信息，否则他将无法继续。

您能否指导我，如何实现这一目标？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-23T22:26:08.000

听起来您需要[可定制产品](http://drupal.org/project/commerce_custom_product)模块。

安装该模块后，您可以转到**Administration > Store > Configuration > Line item types**。添加自定义线型并在其中添加任意数量的自定义字段。您会看到 - 将字段添加到自定义线型的界面与创建内容类型时的界面相同，因此易于使用。

然后，当您在新订单项中添加所需的所有客户信息后，继续修改您的“考试”产品以在产品显示中包含这些字段。点击内容类型的“显示”设置，并配置“**添加到购物车**”字段的设置。确保选择正确的行项目供它使用并保存！

那对你有用吗？

# java - JPA 2：如何使用地图 在实体之间的 OneToMany 关系中

> ID：14473798
> 
> 赞同：0
> 
> 时间：2013-01-23T06:34:52.160
> 
> 标签：java, hibernate, exception, jpa, jpa-2.0

当我尝试在实体之间的 OneToMany 关系中使用 Map 时，我遇到了问题。当我尝试在地图中插入数据时，会抛出以下异常

`Exception in thread "main" org.hibernate.HibernateException: null index column for collection`.

`Map<>`请解释这个异常并给我在关系中使用的小例子。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-24T16:34:01.880

这里有一个很好的解释： [http ://en.wikibooks.org/wiki/Java_Persistence/Relationships#Maps](http://en.wikibooks.org/wiki/Java_Persistence/Relationships#Maps)

对于 JPA2，我引用：

> JPA 2.0 允许保留键不是目标对象一部分的 Map。Map 键可以是以下任何一种：
> 
> *   一个基本值，存储在目标表或连接表中。
> *   一个嵌入式对象，存储在目标表或连接表中。
> *   另一个实体的外键，存储在目标表或连接表中。

# ruby-on-rails - Hirb 在 Rails 控制台中根本不起作用

> ID：14473802
> 
> 赞同：1
> 
> 时间：2013-01-23T06:35:22.273
> 
> 标签：ruby-on-rails, ruby, console, ruby-on-rails-3.2, hirb

我按照[hirb rdoc](http://tagaholic.me/hirb/doc/)上的教程进行操作，但不幸的是，我的 rails 控制台根本无法工作。

我已经完成了`sudo gem install hirb`

并将 hirb 添加到我的 Gemfile 中：

```
gem 'hirb', '~>0.7.0' 
```

然后我启动了`bundle install`

我得到了这个结果：

```
rails c
Loading development environment (Rails 3.2.11)
> require 'hirb'
=> false
> Hirb.enable
=> true
> Municipality.all
Municipality Load (0.8ms)  SELECT "municipalities".* FROM "municipalities" ORDER BY name asc
=> [#<Municipality id: 1, district_id: 6, name: "Ambalamanasy II", created_at: "2013-01-16 12:11:45", updated_at: "2013-01-16 12:11:45">,
...
# doesn't work 
```

有人可以帮忙吗？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2014-08-13T12:43:03.843

如果您使用 pry 作为您的 rails 控制台...将其添加到您的 .pryrc 文件中

```
require 'hirb'

Hirb.enable

old_print = Pry.config.print
Pry.config.print = proc do |output, value|
  Hirb::View.view_or_page_output(value) || old_print.call(output, value)
end 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2015-10-20T09:40:52.553

Yoshdog 的答案已过时 - 它返回错误：

> 输出错误：# NoMethodError: undefined method `pager' for nil:NilClass

您可以使用[文档中的更新代码](https://github.com/pry/pry/wiki/FAQ#hirb)来解决此问题：

```
begin
  require 'hirb'
rescue LoadError
  # Missing goodies, bummer
end

if defined? Hirb
  # Slightly dirty hack to fully support in-session Hirb.disable/enable toggling
  Hirb::View.instance_eval do
    def enable_output_method
      @output_method = true
      @old_print = Pry.config.print
      Pry.config.print = proc do |*args|
        Hirb::View.view_or_page_output(args[1]) || @old_print.call(*args)
      end
    end

    def disable_output_method
      Pry.config.print = @old_print
      @output_method = nil
    end
  end

  Hirb.enable
end 
```

这也将允许您启用/禁用 Hirb，这可能会派上用场。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-12-26T08:54:04.713

如果你使用`pry`它对我有用

```
$ pwd
/Users/me/path/rails-app
$ ls -la
-rw-r--r--   1 ryosuke  staff       554 12 26 17:50 .pryrc 
```

和

```
begin
  require 'hirb'
rescue LoadError
  # Missing goodies, bummer
end

if defined? Hirb
  # Slightly dirty hack to fully support in-session Hirb.disable/enable toggling
  Hirb::View.instance_eval do
    def enable_output_method
      @output_method = true
      @old_print = Pry.config.print
      Pry.config.print = proc do |*args|
        Hirb::View.view_or_page_output(args[1]) || @old_print.call(*args)
      end
    end

    def disable_output_method
      Pry.config.print = @old_print
      @output_method = nil
    end
  end

  Hirb.enable
end 
```

# iphone - 需要一种理想的方式来处理应用程序中的标签栏

> ID：14473806
> 
> 赞同：-1
> 
> 时间：2013-01-23T06:35:35.207
> 
> 标签：iphone, ios, objective-c, uitabbarcontroller, uitabbar

我想创建一个有登录屏幕的应用程序，当用户登录时使用标签栏控制器打开主页。

我创建了一个单视图应用程序，并在其上创建了登录屏幕、主屏幕和标签栏。

在标签栏委托中，我通过 [self.view addSubView firstView.view] 将屏幕添加到标签栏

我的问题是，如果我打开第 4 个选项卡，然后切换到第 2 个选项卡，我必须返回主屏幕，所以我在导航栏上按 home btw，它显示视图 4 已经在 uiviews 堆栈上。

如何在所有标签栏视图之间切换并向它们添加导航？使用哪种理想方法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-23T08:32:59.693

我已经创建了正在做你需要的应用程序（我猜）。您可以使用名称 Torchoo 在 iPhone 应用商店中找到它。它是免费的，并且有测试帐户，因此您可以查看它的工作原理以及它是否真的是您需要的。如果是，请在此处联系我，我将向您展示来源以及我是如何做到的。

简而言之，您需要具有多个导航控制器的普通标签栏控制器，并且每个导航控制器都有多个视图控制器。登录屏幕只是一个模式视图，可在您需要时显示/隐藏。大多数事情都可以在情节提要中完成。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-23T07:44:21.010

我实际上不明白，但我认为您想通过导航控制器附加所有视图。

但这没用。如果您想使用导航栏，那么它将在另一个视图中导航，但标签栏会在每个标签上为您提供不同的视图。

所以，先看看两者的用途再问....

# html - 如何在html5中将图像拖放到另一个图像上

> ID：14473807
> 
> 赞同：1
> 
> 时间：2013-01-23T06:35:38.577
> 
> 标签：html, drag-and-drop

我有一个 div，其中有一个 image1。当我将新的 image2 拖放到前一个 image1 上时，我的新 image2 被隐藏，而前一个 image1 正在显示。***此外，当我******从*****该****div****中**拖放 **image2****时****，*****我******想******取回*****我****以前****的*****image1**所以**我*想*克服**这个**问题*_ *_* __ *_* __ *_* __ *_* _**

 ***```
<!DOCTYPE HTML>
<html>
<head>
<title>Demo</title>
<style type="text/css">

div[id^="place"]

{float:left; 
width:80px; 
height:80px;
 margin:3px;
 padding:3px;
 border:1px dotted #333333;
 background-color:#ffff99;
}

span
{float:left;
 width:80px;
 margin:3px;
 padding:3px;
 border:1px solid #999999;
 color:#333333;
}
.pics, .nums
{
clear:both; 
text-align:center;
}
</style>

<script type="text/javascript">

function dragIt(theEvent) {

theEvent.dataTransfer.setData("Text", theEvent.target.id);

}

    function dropIt(theEvent) {

    var theData = theEvent.dataTransfer.getData("Text");

    var theDraggedElement = document.getElementById(theData);

    theEvent.target.appendChild(theDraggedElement);

    theEvent.preventDefault();
    }
</script>
</head>
<body>

<p>This is a demo </p>

<!--element with draggable pictures-->

    <div class="pics">
        <div id="place1" ondrop="dropIt(event);" ondragover="event.preventDefault();">
            <img src="pic1.jpg" width="80" height="80" draggable="true" ondragstart="dragIt(event);" id="pic1" />
        </div>
        <div id="place2" ondrop="dropIt(event);" ondragover="event.preventDefault();">
            <img src="pic2.jpg" width="80" height="80" draggable="true" ondragstart="dragIt(event);" id="pic2" />
        </div>
        <div id="place3" ondrop="dropIt(event);" ondragover="event.preventDefault();">
        </div>
        <div id="place4" ondrop="dropIt(event);" ondragover="event.preventDefault();">
        </div>
        <div id="place5" ondrop="dropIt(event);" ondragover="event.preventDefault();">
        </div>
    </div>

<div class="nums">
<span>1</span>
<span>2</span>
<span>3</span>
<span>4</span>
<span>5</span>
</div>

</body>
</html>

enter code here 
```***

# ruby-on-rails - capybara：发布，将请求目录的名称更改为功能时获取方法不起作用

> ID：14473810
> 
> 赞同：0
> 
> 时间：2013-01-23T06:35:51.230
> 
> 标签：ruby-on-rails, post, rspec, get, capybara

升级到最新版本的 Capybara 后，我所有的访问方法都停止了工作，所以我遵循了一些人提出的解决方案，即将请求规范目录重命名为“功能”。现在我的访问方法再次起作用，但是请求规范中的任何 get 或 post 方法都会导致此错误：

```
undefined method `get' for #<RSpec::Core::ExampleGroup::Nested_1::Nested_1::Nested_1::Nested_1::Nested_1:0x007f9cce9adc20> 
```

这是触发错误的代码：

```
describe "getting posts" do
    before { get(forum_posts_path) }
    it "should respond with a 200" do
        response.response_code.should == 200
    end
end 
```

有什么解决方法吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-23T06:46:01.063

您不会将**spec/requests**目录重命名为**spec/features**：您*同时*拥有：

*   使用 Capybara DSL（`visit`等）并且通常在**spec/features**`page`中断言反对go 的测试。
***   使用机架测试 DSL（`get`等）的测试，通常`response`在**规范/请求中断言反对****

 **有关详细信息，特别是那里的外部链接，请参阅此[StackOverflow 答案](https://stackoverflow.com/a/14379154/567863)。**

# php - 如何在 CI 的控制器中添加脚本

> ID：14473812
> 
> 赞同：0
> 
> 时间：2013-01-23T06:35:54.473
> 
> 标签：php, codeigniter

我有一个 admin.js 和 admin.css 文件。我必须将它包含在作为控制器的 admin.php 中。因为将 js 和 css 包含在特定模块中而不是将其添加到 header.php 中会更好。提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-23T06:41:47.330

据我所知，没有内置的 CodeIginiter 函数来包含这个输出，就像使用 CI 提供的 link_tag() 函数的 CSS 一样。我在 CI 的 system/helpers/html_helper.php 文件中添加了一个名为 script_tag() 的函数。功能是：

```
if ( ! function_exists('script_tag')) {
    function script_tag($src = '', $language = 'javascript', $type = 'text/javascript', $index_page = FALSE)
    {
        $CI =& get_instance();
        $script = '<scr'.'ipt';
        if (is_array($src)) {
            foreach ($src as $k=>$v) {
                if ($k == 'src' AND strpos($v, '://') === FALSE) {
                    if ($index_page === TRUE) {
                        $script .= ' src="'.$CI->config->site_url($v).'"';
                    }
                    else {
                        $script .= ' src="'.$CI->config->slash_item('base_url').$v.'"';
                    }
                }
                else {
                    $script .= "$k=\"$v\"";
                }
            }

            $script .= "></scr"."ipt>\n";
        }
        else {
            if ( strpos($src, '://') !== FALSE) {
                $script .= ' src="'.$src.'" ';
            }
            elseif ($index_page === TRUE) {
                $script .= ' src="'.$CI->config->site_url($src).'" ';
            }
            else {
                $script .= ' src="'.$CI->config->slash_item('base_url').$src.'" ';
            }

            $script .= 'language="'.$language.'" type="'.$type.'"';
            $script .= ' /></scr'.'ipt>'."\n";
        }
        return $script;
    }
} 
```

然后在您的 PHP 代码中，您可以执行以下操作：

echo script_tag('content/js/jquery-1.4.2.js');

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-23T06:45:53.207

您是在询问如何像链接标签一样包含 js/css？

```
 class Admin extends CI_Controller {

        function __construct(){
             parent::__construct();
        }
        public function index(){
             $this->template->add_css('path_to_css/admin.css',TRUE);
             $this->template->add_js('path_to_js/admin.js',TRUE);
        }
    } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-23T06:46:13.597

您可以在视图页面中包含脚本文件，而不是在控制器中包含脚本文件。

例如 ：

查看页面：Test.php

```
<script type="text/javascript" src="../application/js/validator.inc.js"></script>
<div>
//your code
</div> 
```

希望对你有帮助... ：）

# iphone - 在 alertView 中添加 Flurry

> ID：14473814
> 
> 赞同：0
> 
> 时间：2013-01-23T06:36:05.347
> 
> 标签：iphone, ios, flurry

单击 alertView 的 ok 按钮时，我添加了 Flurry logevent。

```
- (void)alertView:(UIAlertView *)alertView clickedButtonAtIndex:(NSInteger)buttonIndex;
{
    if (buttonIndex == 1) 
    {
        NSString *start = @"Start";
        NSString* myLogEvent = [start stringByAppendingString:title.text];
        NSLog(@"%@",myLogEvent);
        [Flurry logEvent:myLogEvent];
    }
} 
```

我已经记录了 2 小时前的事件。它仍然没有出现在我的 Flurry 登录页面中。我做错什么了吗？

我知道分析需要时间才能出现，但事件名称应在 45 分钟左右后出现在登录页面中。我对吗？担心我做错了什么。。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-23T11:25:46.923

Flurry 的使用数据最多可能需要 7 小时才能反映在开发者门户上。首次活动可能需要稍长的时间。

编辑：如果您使用的是模拟器，请确保在关闭应用程序之前按下主页按钮。这是完成 Flurry 报告生命周期所必需的。

（全面披露：我在 Flurry 的支持团队工作）

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-23T07:46:10.383

Flurry 被证明对我有用，包括事件，所以它也应该对你有用。我会使用调试器检查 Flurry 会话是否已启动（`[Flurry startSession:@"YOUR_API_KEY"]`）并且您的事件代码已真正执行。并且您有互联网连接，否则所有事件都将保存在本地并在下一次转移到 Flurry。

与其再等一会儿，分析结果有时需要时间才能显示出来……

# apache-tiles - Apache Tiles 框架的优缺点

> ID：14473817
> 
> 赞同：6
> 
> 时间：2013-01-23T06:36:13.907
> 
> 标签：apache-tiles

[今天的问候，我只是想找出使用​​ Apache Tiles](https://tiles.apache.org/)框架的利弊。请让我知道您对此的宝贵建议、意见和意见。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-05-28T18:42:39.603

（类似于[这个](https://stackoverflow.com/a/16768392/2194269)）

> *使用 Tiles，似乎当我有 100 个动作时，我需要创建 100 个 jsp 文件并在 tiles.xml 中创建 100 个定义*- 不幸的是，是的

**这不是真的。还有一个关于瓷砖的普遍挥之不去的误解。**

这种样板配置是从 tile-1 天开始的。当引入通配符时，对于tiles-2 确实没有必要，尤其是对于tiles-3 和OptionsRenderer。

这里有一个[教程](http://tech.finn.no/the-ultimate-view-tiles-3/)可以帮助你

*   弹簧到瓷砖集成，
*   带有通配符的定义，
*   使用 OptionsRenderer 实现回退模式，以及
*   定义组成。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-02-26T10:52:28.163

我一直在将 Apache Tiles 用于一个非商业项目，而且我每周对它的热情都在降低。但这可能是由于非常基本的文档、太少的示例（并且没有关于高级主题的示例）和相当小的社区造成的。

此外，我建议您查看这些资源：

*   [Apache Tiles 的更好替代方案](https://stackoverflow.com/questions/9748481/better-alternative-to-apache-tiles)-*使用 Tiles，似乎当我有 100 个操作时，我需要创建 100 个 jsp 文件并在 tiles.xml 中创建 100 个定义*- 不幸的是，是的

*   [http://blog.springsource.org/2012/10/30/spring-mvc-from-jsp-and-tiles-to-thymeleaf/](http://blog.springsource.org/2012/10/30/spring-mvc-from-jsp-and-tiles-to-thymeleaf/) - *Apache Tiles 方法类似于自定义标签，因此具有相同的优缺点。Apache Tiles 项目有一些活动，但绝对不如 ThymeLeaf 充满活力*

总结 -**优点**：

*   从基本视图构建复杂 ( `composite`) 视图的能力，UI 重用
*   它已经存在了一段时间，并且在一些主要框架中得到了支持，例如 Spring（它很容易上手）

**缺点**：

*   小社区，不是很活跃恕我直言
*   基本的文档，很少的例子，很难在网络上找到有价值的最新资源——你将不得不一直深入研究 Java 接口和类，以找到 apache tile 提供的内容
*   `composite view`而不是`decorator`- 在我个人看来，装饰器模式更灵活 - 您可以在请求处理的最后定义变量、插槽、属性等，而在`composite view`定义属性时需要关注（所有属性必须在渲染之前定义子视图 - 属性覆盖更困难）

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-08-30T18:26:16.237

我已经使用瓷砖很长一段时间了，我必须说，一旦你进入它，你就会知道你会喜欢它的所有功能。一开始它看起来很复杂很麻烦，你会花很多时间在谷歌上搜索。但在那之后，您将利用在其他框架或概念中找不到的大量强大功能，例如模板继承、覆盖、灵活组合、通配符视图匹配、视图准备器等......并且它与 Spring 很好地集成。另一方面，我到现在为止唯一想念的功能是无法直接在视图中定义父模板（这实际上会破坏 Tiles 概念）。

# proxy - AWS：重定向或代理文件

> ID：14473818
> 
> 赞同：4
> 
> 时间：2013-01-23T06:36:21.417
> 
> 标签：proxy, amazon-web-services, amazon-s3, amazon-cloudfront

让我解释一下困境。我使用亚马逊的 3 项服务：EC2、S3 和 CloudFront。EC2 接收文件作为上传，将其存储在 S3 存储桶中。然后 CloudFront 镜像 S3 存储桶。唯一的限制是拥有用户友好的 URL。交付这些文件的哪种方法更好？

**客户端 > CloudFront > EC2 > S3**

*   客户端向 CloudFront URL 发出 HTTP 请求
*   Cloudfront 将请求转发到 EC2
*   EC2 将用户友好的 URL 转换为原始文件 URL
*   EC2 从 S3 读取文件

**客户端 > EC2 ...重定向 ... CloudFront > S3**

*   客户端向 EC2 发出 HTTP 请求
*   EC2 将用户友好的 URL 转换为原始文件 URL
*   EC2 重定向到 CloudFront，巫婆镜像 S3

这有两个维度：速度和成本。

* * *

我看到 facebook 在提供个人资料图片时使用第二种方法 [http://graph.facebook.com/platform/picture](http://graph.facebook.com/platform/picture)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-23T14:31:10.200

您当然不想强制 S3 和您的客户端之间的文件传输通过您的 EC2 实例。这将增加 E​​C2 实例的负载，增加带宽使用，并且无疑会减慢对用户的响应。

您的 EC2 实例为您提供了对 URL 格式的最大控制权，因此您希望客户端向它发出初始请求（以获得“用户友好”的 URL）。EC2 实例只需向客户端发送重定向到实际包含内容的 CloudFront 或 S3 URL，客户端将直接从那里拉取它，而无需 EC2 的进一步参与。

除非您有大量请求，或者网络延迟必须尽可能低，否则我不会使用 CloudFront。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-23T18:54:58.683

我个人只会在第一次上传文件时在 S3 中给文件一个好听的名称和适当的内容类型元标记，因此，从下载路径中完全删除您的 EC2 实例。您只需在 HTML 内容中为您的客户端提供 clean-url，该干净 URL 将直接指向 Cloudfront/S3 中的资源，该资源具有适当的元标记来提供所需的内容类型标头。

# database - isActive 的替代品

> ID：14473821
> 
> 赞同：2
> 
> 时间：2013-01-23T06:37:00.550
> 
> 标签：database, database-design, data-warehouse

与[我应该删除或禁用关系数据库中的行吗？](https://stackoverflow.com/questions/347160/should-i-delete-or-disable-a-row-in-a-relational-database)

鉴于我将采用将更改存储在历史表中的策略，我面临以下选项来实现 MySQL 中给定行的状态：

*   一个`isActive`布尔
*   一个`activeStatus`枚举
*   `activeStatus`引用小型`ActiveStatus`查找表的INT
*   不引用另一个表的`activeStatus`INT

在我看来，第一种方法相当不灵活，因为将来我可能需要更多的布尔值来支持其他类型的活动状态（我不确定它们会是什么，但可能是“正在逐步淘汰”或“为一组随机用户”等）。

有人告诉我 MySQL 枚举不好，所以第二种方法可能行不通。

我喜欢第三种方法，但我想知道它是否是一个相对较小的问题的笨拙解决方案。

第四种方法要求我们提前知道每个状态 INT 的含义，并且看起来像是一种过时的做事方式。

有规范的正确答案吗？我是否忽略了另一种方法？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-23T14:39:40.673

我个人会选择你的第三个选项。

正如您所建议的，布尔值通常在现实中变得更加复杂。ENUM 可能很好，但它们有一个缺点，即一旦您想要存储有关每个值的附加信息 - 谁添加它，何时添加它，它是否仅在特定时间段或源系统，评论等 - 变得困难，而使用查找表，这些数据可以很容易地保存在其他列中。ENUM 是将数据约束到某些值（如`CHECK`约束）的好工具，但如果这些值具有重要意义并且需要向用户公开，则不是这样的好工具。

如果您打算将历史表视为事实表并在报告中使用它，那么您的问题并不完全清楚，但如果是这样，那么您可以将`ActiveStatus`查找表视为一个维度。在这种情况下，表格要容易得多，因为您的报告工具可以从维度表中读取可能的值，以便让用户选择他的查询条件；此类工具通常对 ENUM 一无所知。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-23T07:16:52.847

从我的角度来看，如果您的状态超过 2 个，您的第二种方法会更好`ENUM`。因为对于您知道将属于静态集合的数据非常有用。但是，如果您只有两个状态活动和非活动，那么使用布尔值总是更好。

编辑：如果您确定将来您不会更改您的值，`ENUM`那么将 ENUM 用于此类字段非常好。

# iphone - Restkit 请求负载处理程序

> ID：14473823
> 
> 赞同：0
> 
> 时间：2013-01-23T06:37:19.613
> 
> 标签：iphone, ios, restkit

正如我在所有 RestKit 文档中看到的，`didWSRequestLoadObjects`委托函数用于处理服务响应。

问题是，如果我的视图控制器中有不同的请求（`postObject`），我必须检查`didWSRequestLoadObjects`每个请求的响应类型。

有没有办法在每个函数之前注册一个函数`postObject`并在不同的函数中获得每个响应？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-23T11:39:31.940

您使用的是哪个版本的 RestKit？在最后一个版本中，强烈建议使用块而不是`loadObjects delegate function`. 例如，该`RKObjectManager postObject`方法具有接收块的`success`和参数。`error`

这是一个使用示例：

```
RKObjectManager *manager = [RKObjectManager managerWithBaseURL:[NSURL URLWithString:@"http://some.url"];

//Configure here your manager with response descriptors and stuff..

[manager postObject:someObject path:@"/some/path" parameters:nil success:^(RKObjectRequestOperation *operation, RKMappingResult *mappingResult) {
    //Success Response code here
} failure:^(RKObjectRequestOperation *operation, NSError *error) {
    //Error Response code here
}]; 
```

# android - 更改列表视图背景颜色的奇怪行为

> ID：14473828
> 
> 赞同：0
> 
> 时间：2013-01-23T06:37:56.547
> 
> 标签：android, listview, colors, background, selection

请帮助我使用列表视图。当我单击列表视图中的某个项目时，我想通过更改背景颜色来突出显示单击的项目，但是单击列表项目背景颜色会更改多个项目。它不会全部发生时间但是随机的。我对这个主题进行了很多研究，尤其是在 SO 上，似乎没有什么对我有用。

而且我还希望改变的颜色在整个任务中保持不变。即即使我在活动之间切换后回到活动，所选项目也应该保持突出显示。

我在 Onclick 事件中将位置保存到静态 ArrayList SELECTEDLIST。在 GetView 方法中，我检查位置是否包含在 SELECTEDLIST 中，并相应地更改背景。

```
 for(String selected:TempVar.SELECTEDLIST){
        if(Integer.toString(position).equals(selected))

             {
               vi.setBackgroundResource(R.drawable.gradient_bg_hover);
             }
        else
            {
                vi.setBackgroundResource(R.drawable.gradient_bg);
            }
        } 
```

如果我重新加载活动，只有最后一个选定的项目改变了背景颜色。但是 ArrayList Selected List 包含所有选定的 listitem 位置。我有什么遗漏吗？

编辑

```
 public View getView(final int position, View convertView, ViewGroup parent) {
        View vi=convertView;
        if(convertView==null)
            vi = inflater.inflate(R.layout.menu_single_item, null);

        final TextView textID=(TextView)vi.findViewById(R.id.menu_single_item_id);
        final TextView textName=(TextView)vi.findViewById(R.id.menu_item_name);        
        ImageView image=(ImageView)vi.findViewById(R.id.imageMenuItem);
        ImageButton btnAddToOrder =(ImageButton)vi.findViewById(R.id.imgBtnOrder);

        HashMap<String, String> MenuItem = new HashMap<String, String>();
        MenuItem= data.get(position);
        if(!TempVar.SELECTEDLIST.isEmpty())
        {
            for(String selected:TempVar.SELECTEDLIST){
            if(Integer.toString(position).equals(selected))

             {
                   vi.setBackgroundResource(R.drawable.gradient_bg_hover);
             }
            else
                {
                           vi.setBackgroundResource(R.drawable.gradient_bg);
                }
        }
        }

        textID.setText(MenuItem.get(DBFunctions.TAG_MENU_ITEM_CODE));
        textName.setText((MenuItem.get(DBFunctions.TAG_MENU_ITEM_NAME)).toUpperCase(Locale.getDefault()));
        imageLoader.DisplayImage(MenuItem.get(DBFunctions.TAG_MENU_ITEM_IMAGE_PATH),image);

            btnAddToOrder.setOnClickListener(new View.OnClickListener()
        {   @Override
             public void onClick(View v)
                 {
                String qty = textQty.getText().toString();

                HashMap<String, String> map = new HashMap<String, String>();
                map=data.get(position);
                        TempVar.SELECTEDLIST.add(Integer.toString(position));
                HashMap<String, String> order = new HashMap<String, String>();

                order.put(DBFunctions.TAG_MENU_ITEM_CODE,map.get(DBFunctions.TAG_MENU_ITEM_CODE));
                order.put(DBFunctions.TAG_MENU_ITEM_NAME,map.get(DBFunctions.TAG_MENU_ITEM_NAME));
                TempVar.ORDERARRAYLIST.add(order);
                RelativeLayout parent =(RelativeLayout) v.getParent().getParent(); 
                parent.setBackgroundResource(R.drawable.gradient_bg_hover);

             }

        });

        return vi;
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-23T07:00:07.463

你的for循环是错误的，试试下面的快照：

```
 if(TempVar.SELECTEDLIST.contains(position))

         {
           vi.setBackgroundResource(R.drawable.gradient_bg_hover);
         }
    else
        {
            vi.setBackgroundResource(R.drawable.gradient_bg);
        } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-23T06:56:04.013

我不确定，但如果它有效，请尝试此代码：

```
for(int i = 0;i< yourSelectedList.length;i++){
            if(Integer.toString(position).equals(selected)) {
                   selected = true;
                 }
               }
        if(selected){

                   vi.setBackgroundResource(R.drawable.gradient_bg_hover);
                 }
        else
                {
                    vi.setBackgroundResource(R.drawable.gradient_bg);
                } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-23T09:33:48.433

在方法`btnAddToOrder.setOnClickListener`中`getView()`，您正在使用

```
HashMap<String, String> map = new HashMap<String, String>();
map = data.get(position); 
```

这里的**位置**不是您单击**btnAddToOrder 的 ListViewItem 的**位置，它是新创建的**ListViewItem**的位置，它可能是 ListView 中的最后一个或第一个可见项。

获取您单击的 btnAddToOrder 的 ListViewItem 的正确位置，使用以下命令：

```
final int actualPosition = yourListView.getPositionForView((View) v.getParent());
HashMap<String, String> map = new HashMap<String, String>();
map = data.get(actualPosition); 
```

在`btnAddToOrder.setOnClickListener`. 其中**v**是您的**btnAddToOrder**。

# iphone - 应用程序大小增加

> ID：14473829
> 
> 赞同：1
> 
> 时间：2013-01-23T06:37:56.837
> 
> 标签：iphone, ios, objective-c, sharekit

我在我的 iPhone 应用程序中集成了 sharekit。我的应用程序曾经是 1.5MB 左右，在集成 sharekit 后突然变成了 6.3 MB。而且我只使用 Twitter 和 Facebook 共享。有没有办法减少我的大小应用程序？.或者有没有其他分享方式？我的部署目标是 4.3

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-23T06:47:28.020

ShareKit 包含 Delicious、DiigoEvernote、Facebook、Flickr、FoursquareV2、Google Reader、Instapaper、LinkedIn、Pinboard、稍后阅读、可读性、Tumblr、Twitter、Vkontakte 共享文件...

如果您只使用 Facebook 和 Twitter，请删除剩余文件...

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-23T07:12:10.270

我更喜欢这种方式，而不是依赖共享工具包。你可以为 twitter 选择 DETwitterEngine，为 facebook 选择 facebook framework。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-23T08:03:41.033

您还可以使用 ImageOptim 来减小图像的文件大小。只需下载、打开并将文件夹或所有图像拖放到界面上即可。

[http://imageoptim.com/](http://imageoptim.com/)

甚至还有一个案例研究，说明该工具可用于缩小 iOS 应用程序的效果：

[http://imageoptim.com/tweetbot.html](http://imageoptim.com/tweetbot.html)

此外，我会删除您不需要的 ShareKit 组件。

# jsp - JSP 中的 MVC - 标准方法

> ID：14473833
> 
> 赞同：0
> 
> 时间：2013-01-23T06:38:46.837
> 
> 标签：jsp, model-view-controller

我正在尝试创建一个在线图书订购系统的虚拟项目来练习 JSP。我试图在其中遵循 MVC。

根据定义，在 MVC 中，模型中的任何更改都必须不需要视图/控制器中的任何更改。

在模型中，我创建了 Customer 类（具有客户属性及其 getter-setter）和 CustomerCollection 类（对客户数据执行 CRUD）

在 Controller 中，我有一个 Controller servlet，它调用 CustomerCollection、访问客户数据并将客户列表添加为请求的属性。

在视图中，我有 JSP 访问控制器添加的客户列表并将其显示在页面中，如下所示：

```
<table id="customerTable">
                <tr id="customerTableHeaderRow">
                    <th>Id</th>
                    <th>First name</th>
                    <th>Last name</th>
                    <th>Address</th>
                    <th>Phone number</th>
                    <th>Gender</th>
                </tr>
                <%                  
                    for(Customer customer: customers)                        
                    {  
                %>
                <tr class="customerTableRow">
                    <td><%= customer.getId() %></td>
                    <td><%= customer.getFirstName() %></td>
                    <td><%= customer.getLastName() %></td>
                    <td><%= customer.getAddress() %></td>
                    <td><%= customer.getPhoneNumber() %></td>
                    <td><%= customer.getGender() %></td>                    
                </tr>   
                <%      
                    }
                %>
 </table> 
```

但是现在我相信，当我对数据库进行任何更改时，例如向客户表中添加任何列，我必须修改 for 循环以显示该列的内容，这也不好。

那么这里有什么问题呢？做错了吗？还是有**任何标准方法可以做到这一点**？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-23T08:08:52.563

在 MVC 方法中，JSP 文件不应包含任何 Java 代码行，您应该使用 JSTL，servlet 类不应包含任何 JDBC 代码，您应该使用 DAO。所以基本上你正在实施它，只需要做一些如下的改变。

按照命名约定，您的 CustomerCollection 应该是 CustomerDAO。用 JSTL 和 EL 替换 Scriptlet。

jsp中的客户可以访问如下。

```
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %>
<table>
<c:forEach items="${customers}" var="customer">
    <tr>
        <td>${customer.firstName}</td> - access all your attributes this way
    </tr>
</c:forEach>
</table> 
```

# javascript - 如何找到 iframe 内容滚动高度和滚动宽度？

> ID：14473835
> 
> 赞同：4
> 
> 时间：2013-01-23T06:38:47.123
> 
> 标签：javascript, jquery

我是这个 Jquery 的新手，当 iframe 托管外部网页时，我很难找到 iframe 的滚动高度和滚动宽度。我尝试了以下代码，但它不起作用，我搜索了很多。

```
$.fn.hasVerticalScrollbar = function () {
    // This will return true, when the div has vertical scrollbar
    return $frame[0].document.documentElement.offsetHeight() > this.height();
  }
  $.fn.hasHorizontalScrollbar = function () {
    // This will return true, when the div has horizontal scrollbar
    return $frame[0].document.documentElement.offsetWidth() > this.width();
} 
```

请帮忙。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-23T06:52:36.363

试试下面的代码......它会帮助你......它非常适合我......

```
<!DOCTYPE html>
<html>

<script>
function Sam()
{
var iFrameID = document.getElementById('idIframe');
var hasHorizontalScroll= iFrameID.contentWindow.document.body.scrollWidth>iFrameID.contentWindow.document.body.clientWidth;
var hasVerticalScroll= iFrameID.contentWindow.document.body.scrollHeight>iFrameID.contentWindow.document.body.clientHeight;

alert(" Horiz : " + hasHorizontalScroll);
alert(" Verti : " + hasVerticalScroll);
}
</script>
<body>

<iframe src="http://www.w3schools.com" id="idIframe">
  <p>Your browser does not support iframes.</p>
</iframe>

<input type="button" value="find" onclick="Sam();">

</body>
</html> 
```

# c# - 哪种算法更适合散列密码 C#？

> ID：14473836
> 
> 赞同：3
> 
> 时间：2013-01-23T06:38:47.493
> 
> 标签：c#, hash, passwords, salt

> **可能重复：**
> [我应该使用什么算法将密码散列到我的数据库中？](https://stackoverflow.com/questions/116684/what-algorithm-should-i-use-to-hash-passwords-into-my-database)

我是这个密码散列的新手。我读了哈希+盐使密码非常安全。但是仍然很困惑我应该使用哪种散列算法，因为有很多类似的。

`MD5CryptoServiceProvider` `SHA1Managed` `SHA256Managed`等等

我如何决定哪一个对我有好处或所有人都是平等的。我可以盲目接人吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-23T06:49:09.047

[MD5](http://en.wikipedia.org/wiki/MD5)：

> 1996 年，发现 MD5 的设计存在缺陷，虽然这不是一个明显的致命弱点，但密码学家开始推荐使用其他算法，例如 SHA-1，后来发现该算法也很容易受到攻击。

[SHA1](http://en.wikipedia.org/wiki/SHA-1)：

> 2005 年，密码分析员发现对 SHA-1 的攻击表明该算法可能不够安全，无法持续使用

[在撰写本文时，SHA256 是一种类型的SHA2](http://en.wikipedia.org/wiki/SHA-2)没有已知漏洞。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-23T08:36:06.953

像 MD5、SHA-1 甚至 SHA-256 这样的快速哈希算法**不是**哈希密码的好选择，因为它们太快并且很容易被暴力破解。在 2013 年，使用普通硬件每秒可以计算出大约[3 Giga SHA-1 值。](http://hashcat.net/oclhashcat-lite/#performance)

相反，您可以使用慢速密钥派生函数，如 BCrypt 或 PBKDF2。[CSharp 对 PBKDF2 具有原生支持，它可以使用 Rfc2898DeriveBytes 类来实现，您可以在此处](http://crackstation.net/hashing-security.htm#aspsourcecode)找到示例。

[这个BCrypt 库](http://code.google.com/p/bcryptnet/)也易于使用。通常人们不确定使用这些库是否安全，但我认为没有反对使用它的论据。只要库返回正确的值并正确生成盐，就应该没问题，因为安全性来自算法而不是实现。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-23T06:45:26.870

MD5 被认为是可破解的。SHA1 很好，但*也许可以*破解。SHA256 不错。

[https://security.stackexchange.com/questions/5586/why-do-people-think-that-this-is-bad-way-to-hash-passwords](https://security.stackexchange.com/questions/5586/why-do-people-think-that-this-is-bad-way-to-hash-passwords)

[SHA1 vs md5 vs SHA256：哪个用于 PHP 登录？](https://stackoverflow.com/questions/2235158/sha1-vs-md5-vs-sha256-which-to-use-for-a-php-login)

[SHA-1 对密码存储是否安全？](https://stackoverflow.com/questions/2772014/is-sha-1-secure-for-password-storage)

# c++ - 如何返回使用自定义构造函数的指针

> ID：14473839
> 
> 赞同：1
> 
> 时间：2013-01-23T06:39:04.130
> 
> 标签：c++

我收到此错误：

`Expected '(' for function-style cast or type construction`

在第二行：

```
struct OpenALInterface * CreateOpenALInterface(int numLoadedSounds, int numPlayingSounds){
   return new IOS_OpenAL(int numLoadedSounds, int numPlayingSounds); //ERROR ABOVE
   //    return new IOS_OpenAL();  //this works fine, no error
 }; 
```

类有这个：

```
class IOS_OpenAL: public OpenALInterface{

 public:

IOS_OpenAL(int numLoadedSounds, int numPlayingSounds){
    //do stuff
   };

  //    IOS_OpenAL(){}; //works 
```

这个错误到底指的是什么？它看起来像一个语法错误。

基类是抽象的，没有构造函数。是这个问题吗？子类可以覆盖或拥有自己的构造函数不在基类中吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-23T06:42:45.087

```
return new IOS_OpenAL(int numLoadedSounds, int numPlayingSounds); 
```

应该

```
return new IOS_OpenAL(numLoadedSounds, numPlayingSounds); 
```

发生错误是因为编译器看到那些“int”标记并认为您正在尝试将某些内容强制转换为 int，但您没有。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-23T06:43:15.843

你是不是这个意思：

```
struct OpenALInterface * CreateOpenALInterface(int numLoadedSounds, int numPlayingSounds){
   return new IOS_OpenAL(numLoadedSounds, numPlayingSounds);
}; 
```

# ant - 对比 在蚂蚁

> ID：14473842
> 
> 赞同：6
> 
> 时间：2013-01-23T06:39:14.713
> 
> 标签：ant

ant 构建工具提供了两个不同的任务`<fileset/>`和`<zipfileset/>`. 根据文档，如果我们使用属性，则`<zipfileset/>`允许我们从 .zip 文件中提取文件。`src`

我的问题是**，如果我们使用`dir`属性来选择文件，那么两者之间有什么区别 `<zipfileset/>`，`<fileset/>`.**

例如

```
 <zipfileset dir="conf/Gateway>
                <include name="jndi.properties" />
                </zipfileset>

                                 and

                <fileset dir="conf/Gateway>
                <include name="jndi.properties" />
                </fileset> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-07-10T01:32:34.380

如果您正在构建档案（例如 ZIP 或 WAR 或 JAR），这两个任务之间的一个有用区别是 a`zipfileset`具有`prefix`可用于将给定文件重新定位到档案中不同文件夹的属性。例如，如果以下内容包含在更大的`fileset`and`zipfileset`元素集中：

```
<zipfileset dir="conf/Gateway" prefix="properties">
    <include name="jndi.properties" />
</zipfileset> 
```

那么该文件`conf/Gateway/jndi.properties`实际上将作为`conf/Gateway/properties/jndi.properties`. 您可以通过其他方式达到相同的目的，但这有时很有用。

否则，只需使用似乎最适合手头任务的任务。

# facebook - 开发用于将各种 Facebook 页面标签应用程序发布到用户页面的应用程序

> ID：14473843
> 
> 赞同：0
> 
> 时间：2013-01-23T06:39:20.283
> 
> 标签：facebook, facebook-graph-api

我想开发一个允许用户将各种应用程序作为选项卡应用程序发布到他们的页面的应用程序。使用什么正确的 API 以便用户可以选择页面并使用少量参数进行发布。无需编码。想知道允许这样做的特定 API 是什么。我们将开发行业特定的应用程序——因此可以用作模板。

我不是技术人员，但想获得与开发人员交谈的一般知识。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-23T06:58:46.313

为了将页面选项卡应用程序添加到页面 Facebook 使用**[Add Page Tab Dialog](https://developers.facebook.com/docs/reference/dialogs/add_to_page/)**。您可以使用 JavaScript SDK 或创建链接中记录的 URL 并打开链接。

# visual-c++ - 错误 LNK2005：_exit 已在 msvcrt.lib(MSVCR90.dll)_LIBCMTD.lib 中定义？

> ID：14473844
> 
> 赞同：6
> 
> 时间：2013-01-23T06:39:38.033
> 
> 标签：visual-c++, linker, compiler-errors, dev-c++

嗨，我在我的应用程序中使用 libjpeg lib 和 libpng lib...当我在调试模式下编译我的应用程序时......它工作正常......但是当我在发布模式下编译我的应用程序时，我收到以下链接错误......

> ```
>  Error    41  error LNK2005: "private: __thiscall type_info::type_info(class type_info const &)" (??0type_info@@AAE@ABV0@@Z) already defined in MSVCRT.lib(ti_inst.obj)   F:\Work Projects\SnackCards XAML\SimpleGame\SimpleGame\LIBCMT.lib(typinfo.obj)  SimpleGame 
> ```
> 
> 错误 43 错误 LNK2005: "private: class type_info & __thiscall type_info::operator=(class type_info const &)" (??4type_info@@AAEAAV0@ABV0@@Z) 已在 MSVCRT.lib(ti_inst.obj) F 中定义： \工作项目\小吃卡

有人对这个错误有建议吗？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-01-23T08:25:52.177

您可能在库和应用程序中使用不同的 C 运行时。检查项目设置。Libcmt 是静态链接的多线程运行时，而 msvcrt 是动态链接的版本。

检查您的项目属性中的设置是否匹配

```
C/C++->Code Generation->Runtime Library 
```

# facebook - 如果facebook被屏蔽，不要显示like按钮

> ID：14473845
> 
> 赞同：0
> 
> 时间：2013-01-23T06:39:38.810
> 
> 标签：facebook

有没有办法不显示 facebook 的like 按钮，以防 facebook 被阻止或无法访问 facebook。

如果 facebook 被阻止，我会在应该显示类似按钮的区域内看到错误，这看起来很糟糕。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-23T12:25:38.710

检查您是否在访问网站时遇到错误：

```
$url = 'http://www.facebook.com';
list($status) = get_headers($url);
if (strpos($status, '404') !== FALSE) {
   // URL is not available
} else {
    // URL is available
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-23T06:43:28.697

您可以对 facebook 进行简单的 http 调用，并根据响应（好的，403,404） - 决定是否显示徽章。

# javascript - TimelineJs 和 AngularJs ng-view 内容

> ID：14473852
> 
> 赞同：0
> 
> 时间：2013-01-23T06:40:01.110
> 
> 标签：javascript, jquery, angularjs, timeline.js

我在我的项目中使用 AngularJs，所以我的应用程序中的所有主要内容都是使用 Angular 的 ng-view 指令加载的，我想在我的应用程序中使用 TimelineJs 实现时间线，时间线得到一个 id（放置时间线的地方）但是我的具有该 id 的 div 是通过 angular 异步加载的，所以当 TimelineJs 脚本运行时 div#id 不存在，知道如何解决这个问题吗？

这是代码：

```
$(document).ready(function() {
    createStoryJS({
        type:       'timeline',
        width:      '800',
        height:     '400',
        source:     './timeline.json',
        embed_id:   'dash-tim'
    });
}); 
```

这是错误：

```
Uncaught TypeError: Cannot call method 'appendChild' of null storyjs-embed.js:45
T storyjs-embed.js:45
createStoryJS storyjs-embed.js:45
(anonymous function) extra.js:21
fire jquery-1.8.2.js:974
self.fireWith jquery-1.8.2.js:1082
jQuery.extend.ready jquery-1.8.2.js:406
DOMContentLoaded 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-08-30T02:11:01.263

这是我实现它的方式。

我有一个 angular 指令，它调用timelineJS 代码来修改dom（我不是一个长镜头的angularjs 专家，但这似乎是其他人推荐的模式）。

HTML

```
<div ng-app="StoryUniverse" ng-controller="EventsListCtrl">
        <div id="my-timeline" timeline-js></div>
</div> 
```

角度指令

```
app.directive('timelineJs',  function ($timeout) {
    return {
        restrict: 'A',
        link: function (scope, elem, attrs) {
            postpone = $timeout(function() {
                createStoryJS({
                    type:       'timeline',
                    width:      '800',
                    height:     '600',
                    source:     scope.events,
                    embed_id:   'my-timeline',
                    css:        'lib/timelinejs/css/timeline.css',
                    js:         'lib/timelinejs/js/timeline.js'
                });
            }, 0);
            console.log("Running timelineJS");
        }
    }
}); 
```

# iphone - 如何从放置在文档文件夹中的文件夹中删除文件

> ID：14473858
> 
> 赞同：-1
> 
> 时间：2013-01-23T06:40:24.227
> 
> 标签：iphone, xcode4.3, nsdocumentdirectory

我想删除放置在文档目录的文件夹（在文档文件夹内）中的文件。我刚刚在表格视图中列出或显示了所有这些文件，谁能告诉我如何使用 commitEditingStyle: 方法来做到这一点。请帮助我如何实现这一点。在此先感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-23T06:47:06.213

您可以使用以下代码从文档目录中删除文件：

```
NSError *error;
NSFileManager *fileMgr = [NSFileManager defaultManager];
NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
NSString *documentsDirectory = [paths objectAtIndex:0];
NSString *documents= [documentsDirectory stringByAppendingPathComponent:@"YourFolder"];
NSString *filePath = [documents stringByAppendingPathComponent:@"file2.txt"];
[fileMgr removeItemAtPath:filePath error:&error] 
```

# java - 当我在 Webdriver 中使用 Java 运行脚本时，我收到错误消息“没有警报处于活动状态”

> ID：14473860
> 
> 赞同：1
> 
> 时间：2013-01-23T06:40:37.113
> 
> 标签：java, webdriver, selenium-webdriver

当我在 Webdriver 中使用 Java 运行脚本时，我收到错误消息“没有警报处于活动状态”。这是不一致的行为，有时会出错，但不会出错。当我没有此错误消息时，它将在其他位置失败。

注意：该脚本在我的机器上运行良好。

我已经用我的机器设置更改了另一台机器上的所有 IE 9 设置，从那时起我收到了这个错误。以前，我使用将错误消息作为“模态对话框存在”。

请在下面找到我使用的代码：

```
//Entering data in the Account Information section
driver.findElement(By.name(OR.getProperty("AccName_Id"))).clear();
driver.findElement(By.name(OR.getProperty("AccName_Id"))).
sendKeys(AccName+"_"+Randnum);
driver.findElement(By.name(OR.getProperty("AccDBA_ID"))).sendKeys("Kumar_DBA");
driver.findElement(By.id(OR.getProperty("AccTax_ID"))).sendKeys(""+numberToSend);
driver.findElement(By.name(OR.getProperty("AccAddress_ID"))).sendKeys("124 - City  
Cross Roads");
driver.findElement(By.id(OR.getProperty("AccZip_ID"))).sendKeys("00501");
new Actions(driver).sendKeys(driver.findElement(By.id(OR.getProperty("AccZip_ID"))),   
"").perform();

//Entering data in the Main Contact Information section 
driver.findElement(By.name(OR.getProperty("AccFName_ID"))).sendKeys("Kumara");
driver.findElement(By.name(OR.getProperty("AccMName_ID"))).sendKeys("S");
driver.findElement(By.name(OR.getProperty("AccLName_ID"))).sendKeys("Swamy");
driver.findElement(By.id(OR.getProperty("AccOffNo_ID"))).sendKeys("1234567890");
new Actions(driver).sendKeys(driver.findElement(By.id(OR.getProperty("AccOffNo_ID"))), 
"").perform();
driver.findElement(By.id(OR.getProperty("AccCellNo_ID"))).sendKeys("0123456789");
new 
Actions(driver).sendKeys(driver.findElement(By.id(OR.getProperty("AccCellNo_ID"))),  
"").perform();
driver.findElement(By.id(OR.getProperty("AccFaxNo_ID"))).sendKeys("1234567890");
new Actions(driver).sendKeys(driver.findElement(By.id(OR.getProperty("AccFaxNo_ID"))), 
"").perform();
driver.findElement(By.name(OR.getProperty("AccEmail_ID"))).sendKeys("abc@abc.com")     ;
driver.findElement(By.id(OR.getProperty("save_ID"))).click();
driver.switchTo().alert().accept();
isAlertPresent();
Thread.sleep(15000);
driver.findElement(By.id(OR.getProperty("AccZip_ID"))).sendKeys("79081");
new Actions(driver).sendKeys(driver.findElement(By.id(OR.getProperty("AccZip_ID"))), 
"").perform();
Thread.sleep(8000L);
driver.findElement(By.id(OR.getProperty("save_ID"))).click();
driver.switchTo().alert().accept();
isAlertPresent();
Thread.sleep(30000); 
```

请尽快帮助我解决这个问题。帮助将不胜感激。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-23T07:25:05.450

我认为您的网络驱动程序代码在警报呈现之前触发。我的建议是`wait for alert`在点击操作之后放置。

**试试这个代码：**

```
 //Do some click action to render alert.
    //statement to wait for an alert.
    WebDriverWait wait = new WebDriverWait(driver,
            30);
    wait.until(ExpectedConditions.alertIsPresent());
   //accepting the alert
   driver.switchTo().alert().accept(); 
```

上面的代码将等待 30 秒，并每 500 毫秒检查一次警报是否存在。如果警报存在，那么它将终止等待并执行下一个操作。

# c# - 我们如何在 C# 中更新现有的 XML 文件

> ID：14473867
> 
> 赞同：0
> 
> 时间：2013-01-23T06:41:19.253
> 
> 标签：c#, xml

我有一个想要更新的现有 xml 文件。

```
using (IsolatedStorageFile ISF = IsolatedStorageFile.GetUserStoreForApplication())
        {
            // Load the xml document for reading
            using (IsolatedStorageFileStream ISFS = ISF.OpenFile(FILE_NAME, FileMode.Open, FileAccess.ReadWrite))
            {
                XDocument file= XDocument.Load(ISFS);
                //Edit the file
                file.Save(ISFS);
            }
        } 
```

问题是每当我使用`file.Save(ISFS)`，然后尝试再次加载它，使用相同的方法，就会报错

```
 System.Xml.XmlException was unhandled by user code
  HResult=-2146232000
  Message=Unexpected XML declaration. The XML declaration must be the first node in the document, and no white space characters are allowed to appear before it. Line 25, position 14. 
```

更新 ：

这是保存后的文件

```
<?xml version="1.0" encoding="utf-8"?>
<A>
   <AB ID="0">
       <NickName>Dummy</NickName>
   </AB>
</A><?xml version="1.0" encoding="utf-8"?>
<A>
   <AB ID="0">
       <NickName>Dummy</NickName>
   </AB>
   <AB ID="1">
       <NickName>My1</NickName>
   </AB>
</A> 
```

# sunspot - 太阳黑子相当于“IS NOT NULL”

> ID：14473869
> 
> 赞同：1
> 
> 时间：2013-01-23T06:41:21.917
> 
> 标签：sunspot

我想搜索具有任何值的字段，基本上是 SQL 的`IS NOT NULL`. 我试过

```
with :fieldA 
```

认为这意味着“有价值”。但是它不起作用。太阳黑子的指定方式是`IS NOT NULL`什么？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-01-23T06:41:21.917

我发现我需要

```
without :fieldA, nil 
```

一旦我知道它就很明显了。

# android - 如何呼叫属于不同活动组的孩子？

> ID：14473875
> 
> 赞同：0
> 
> 时间：2013-01-23T06:41:40.207
> 
> 标签：android, android-activity

从一个活动组如何调用属于不同活动组的孩子？

我的 DealDetailsActivity.java 是名为 TabGroupactivity 的 ActivityGroup 的子活动。在此，我正在调用另一个名为 ViewStoreActivity 的活动，如下所示。

```
Intent frequentMessages = new Intent(getParent(),ViewStoreActivity.class);
 TabGroupActivity parentActivity = (TabGroupActivity)getParent();
 parentActivity.startChildActivity("ViewStoreActivity", frequentMessages); 
```

及其工作。从另一个名为 RedeemedActivity 的活动中，它是另一个名为 FavouriteGroupActivity 的 ActivityGroup 的子活动，我像这样调用 DealDetailsActivity；IntentfrequentMessages = new Intent(getParent(),DealDetailsActivity.class); parentActivity.startChildActivity("DealDetailsActivity_fav",frequentMessages);

之后，当我尝试像第一个代码一样调用 ViewStoreActivity 时，我遇到了错误。

```
01-23 10:44:04.373: E/AndroidRuntime(1807): Caused by: java.lang.ClassCastException: com.dom.shoppers.FavouriteGroupActivity cannot be cast to com.dom.shoppers.TabGroupActivity 
```

viewstoreactivity 的超类是 TabGroupActivity。

并且在这里发生了classcastexception，即TabGroupActivity parentActivity = (TabGroupActivity)getParent();

泰语是，站在属于另一个名为 TabGroupActivityFavs 的活动组的活动中，我试图调用属于 Tabgroupactivity 的活动。所以发生错误说不能将 TabGroupActivityFavs 强制转换为 TabGroupActivity。

有没有办法实现这个....

如果我使用 startactivity()，那么我不会查看选项卡。因为我希望所有活动的标签一致，所以我不能使用它....

任何的想法 ？？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-23T07:04:01.357

感谢您的澄清。什么是直接超类`ViewStoreActivity`？我从您发布的 LogCat 条目中假设它是 FavouriteGroupActivity。那是对的吗？而且，错误被抛出在哪一行？

是`Intent frequentMessages = new Intent(getParent(), DealDetailsActivity.class);`吗？

或者`parentActivity.startChildActivity("DealDetailsActivity_fav", frequentMessages`？我很确定应该是这条线引发了错误，但如果我错了，请告诉我。您收到错误的原因是因为 ViewStoreActivity 不是 TabGroupActivity 的子项。当您调用 startChildActivity 时，您基本上是在告诉它启动一个不属于 TabGroupActivity 的子活动。

您是否可以调用 startActivity() 而不是 startChildActivity()？如果您调用 startActivity() 那么它应该处理您的错误。

# mysql - 如何在 Mysql 过程中获得“公用表表达式”的替代品

> ID：14473876
> 
> 赞同：0
> 
> 时间：2013-01-23T06:41:42.973
> 
> 标签：mysql, sql-server, stored-procedures, common-table-expression

我有 MSsql 过程，我想将其转换为 Mysql 过程，但我不知道如何在 mysql 中转换“CTE”表达式。

下面我发布我的相关程序：

```
 WITH    CTE
              AS ( SELECT   ROW_NUMBER() OVER ( ORDER BY CASE
                                                          WHEN @SortColumnName = 'UserID'
                                                          AND @SortOrderBy = 'asc'
                                                          THEN UserID
                                                         END ASC, CASE
                                                          WHEN @SortColumnName = 'UserID'
                                                          AND @SortOrderBy = 'desc'
                                                          THEN UserID
                                                          END DESC) AS RN ,
                            UserID ,
                            UserName ,
                            FirstName ,
                            MiddleName ,
                            LastName ,
                            EmailID
                   FROM     [Users]
                 ) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-23T07:37:06.410

您可以将其更改为子查询，即代替：

```
;with cte as
(
    select column
      from table
)
select *
  from cte 
```

你可以写：

```
select *
  from (select column
          from table) as cte 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-23T07:56:29.407

您需要使用派生表，因为您正在使用排名函数 Row_Number，显然您现在需要在 WHERE 子句中引用它。

MySQL支持派生表，在SQL中CTE和派生表的性能是一样的，都是表表达式。

您的新代码将如下所示：（取决于上面未列出的您的需要）

```
SELECT *
FROM
    (SELECT ROW_NUMBER() OVER (
        ORDER BY 
         CASE WHEN @SortColumnName = 'UserID' AND @SortOrderBy = 'asc' THEN UserID END ASC, 
         CASE WHEN @SortColumnName = 'UserID' AND @SortOrderBy = 'desc' THEN UserID END DESC
    ) AS RN,
      UserID ,
      UserName ,
      FirstName ,
      MiddleName ,
      LastName ,
      EmailID
     FROM     [Users]
 ) DTABLE
WHERE DTABLE.RN = 1; 
```

但这仅涉及您关于 CTE 的问题。

如上所述，Row_Number 在 MySQL 中不可用，但请查看此页面以获取该部分的答案：[MySQL 中的 ROW_NUMBER()](https://stackoverflow.com/questions/1895110/row-number-in-mysql)

编辑：新示例删除 Row_Number 并使用 LIMIT：

（如下所述，有一种更简单的方法可以完成可变排序和获取特定行，请参见下面的查询。）

```
SELECT
      UserID ,
      UserName ,
      FirstName ,
      MiddleName ,
      LastName ,
      EmailID
FROM     
    [Users]
ORDER BY 
         CASE WHEN @SortColumnName = 'UserID' AND @SortOrderBy = 'asc' THEN UserID END ASC, 
         CASE WHEN @SortColumnName = 'UserID' AND @SortOrderBy = 'desc' THEN UserID END DESC END
LIMIT 1,1 
```

# swing - 如何在更改事件的表格单元格编辑器中的 java 组合框上设置相同的值

> ID：14473882
> 
> 赞同：1
> 
> 时间：2013-01-23T06:41:50.063
> 
> 标签：swing, jcombobox, tablecelleditor

我有一个表，并且在同一列索引中的每一行都有一个组合框。所以问题是当我在组合框上选择一个值时，我尝试在每一行上设置相同的值。我阅读了以前关于表格单元格编辑器上的组合框的问题，我试图实现对我的代码的回答，但我无法管理。我可以看到我想要的，但是我的动作监听器在后面发送了许多异常。如何解决？

此表的代码

```
 tblRadars= new JTable();
        tblRadars.setModel(new DefaultTableModel(
                new Object[][] {},
                new String[] {
                    "Radar", "Multicast IP", "Port", "Period", "Size", "Start", "Stop"
                }
            ) {
                /**
                 * 
                 */
    private static final long serialVersionUID = 1L;
    boolean[] columnEditables = new boolean[] {
        false, false, false, true, false, true, true};
    public boolean isCellEditable(int row, int column) {

  if (column == PERIOD_COLUMN_INDEX ){
  return ((JButton)getValueAt(row, START_COLUMN_INDEX)).isEnabled();
  }

return columnEditables[column];
     }
});

TableColumn periodColumn = tblRadars.getColumnModel().getColumn(3);

final JComboBox comboBox = new JComboBox(new Object[]{"1 min","30 min","1 hr" , "2 hr","4 hr","6 hr", "12 hr"});
        comboBox.setSelectedIndex(-1);

DefaultCellEditor ed=new DefaultCellEditor(comboBox);
periodColumn.setCellEditor(ed); 
```

我有趣的动作监听器是

```
ed.addCellEditorListener(new CellEditorListener() {

@Override
public void editingStopped(ChangeEvent e) {
                // TODO Auto-generated method stub
 String value=(String)tblRadars.getValueAt(tblRadars.getSelectedRow(),   PERIOD_COLUMN_INDEX);
 int row=tblRadars.getRowCount();
 for(int i=0;i<row;i++){
 tblRadars.setValueAt(value, i, PERIOD_COLUMN_INDEX);
 }
    } 
```

从现在开始感谢您的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T17:19:36.293

我真的很傻。有时答案真的很简单，但我们总是看到我们的问题很大。

```
ActionListener comboBoxAction = new ActionListener() {

        @Override
        public void actionPerformed(ActionEvent arg0) {
            System.out.println("period clicked.");
            int row=tblRadars.getSelectedRow();
                        int comboboxColumn=3 ;
            String selectedvalue=comboBox.getSelectedItem().toString();
            for(int i=0;i<tblRadars.getRowCount();i++){

                tblRadars.setValueAt(selectedvalue, i, comboboxColumn);

            }

            ((DefaultTableModel)tblRadars.getModel()).fireTableDataChanged();
        }
    }; 
```

然后将此操作添加到组合框操作侦听器。:)

# java - 接收具有相同参数的整数或整数列表

> ID：14473883
> 
> 赞同：3
> 
> 时间：2013-01-23T06:41:52.650
> 
> 标签：java, json, spring, hibernate, javabeans

我有个问题。我正在编写一个宁静的 API。可以在组中添加/删除项目。为此，我必须向特定 URL 发送 POST 请求。请求如下所示。这已经奏效了。但我有一个让我绝望的要求。应该可以在 JSON 请求中发送整数或整数列表。但参数名称应该相同。

```
{
"add": "10",
"remove": "100"
} 
```

但是这个要求应该是可以的。

```
{
"add": [
 10,
 11,
 12,
 13
],
"remove": "100"
} 
```

我尝试用不同的设置器解决我的问题，如下所示。

```
public class GroupDiff {
// TODO
private List<Integer> add = new ArrayList<Integer>();
private List<Integer> remove = new ArrayList<Integer>();

public List<Integer> getAdd() {
    return add;
}
public void setAdd(List<Integer> add) {
    this.add = add;
}
public void setAdd(int add) {
     List<Integer> list = new ArrayList<Integer>();
     list.add(add);
    this.add = list;
}
public List<Integer> getRemove() {
    return remove;
}
public void setRemove(List<Integer> remove) {
    this.remove = remove;
}

public void setRemove(int remove) {
     List<Integer> list = new ArrayList<Integer>();
     list.add(remove);
    this.remove = list;
} 
```

但我总是收到以下异常：

> 引起：java.lang.IllegalArgumentException：属性“add”的设置器定义冲突：net.erouting.type.GroupDiff#setAdd(1 params) vs net.erouting.type.GroupDiff#setAdd(1 params)

我的问题是：我怎样才能解决我的问题，通过向我的服务器发出 JSON 请求，整数和整数列表都是可能的。

我们正在使用 Spring 和 Hibernate。

我希望你能帮助我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-23T23:44:47.063

我不擅长 JSON，但你可以试试这个：

```
import java.util.ArrayList;
import java.util.List;

public class GroupDiff {
    private List<Integer> addList = new ArrayList<Integer>();
    private List<Integer> removeList = new ArrayList<Integer>();

    public List<Integer> getAddList() {
        return addList;
    }

    public List<Integer> getRemoveList() {
        return removeList;
    }

    public void setAddList(int... toAdd) {
        for (int i = 0; i < toAdd.length; i++) {
            this.addList.add(toAdd[i]);
        }
    }

    public void setRemoveList(int... toRemove) {
        for (int i = 0; i < toRemove.length; i++) {
            this.removeList.add(toRemove[i]);
        }
    }

    public static void main(String[] args) {
        GroupDiff groupDiff;

        /*
         * All of this calls will work good.
         */
        groupDiff = new GroupDiff();
        groupDiff.setAddList(10);
        groupDiff.setRemoveList(100);
        System.out.printf("addList=%s; removeList=%s\n", 
                groupDiff.addList, groupDiff.removeList);

        groupDiff = new GroupDiff();
        groupDiff.setAddList(10, 11, 12, 13);
        groupDiff.setRemoveList(100);
        System.out.printf("addList=%s; removeList=%s\n", 
                groupDiff.addList, groupDiff.removeList);

        groupDiff = new GroupDiff();
        groupDiff.setAddList(new int[]{10, 11, 12, 13});
        groupDiff.setRemoveList(100);
        System.out.printf("addList=%s; removeList=%s\n", 
                groupDiff.addList, groupDiff.removeList);
    }
} 
```

输出是：

```
addList=[10]; removeList=[100]
addList=[10, 11, 12, 13]; removeList=[100]
addList=[10, 11, 12, 13]; removeList=[100] 
```

# haskell - Haskell 缩进错误。小学阶段

> ID：14473884
> 
> 赞同：0
> 
> 时间：2013-01-23T06:42:05.837
> 
> 标签：haskell

我正在上一门介绍 Haskell 的课程。我对这种语言完全陌生。

当我编译它时，它说：

```
[1 of 1] Compiling Main             ( hw1.hs, interpreted )
hw1.hs:11:1: parse error (possibly incorrect indentation)
Failed, modules loaded: none. 
```

谁能解释我做错了什么？非常感谢你。

ps 我从网上得到了一段代码（称为素数）。我不明白该代码，如果有人可以详细说明，那就太好了。我不明白筛子的功能是什么。它是内置的haskell函数吗？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-01-23T08:40:53.890

除了@ertes 所说的反引号之外，还有一些问题。幸运的是，其中两个很容易修复！

首先，`let`应该`let num = [1..]`删除 in：在 .hs 文件中你不需要这些（但你在 GHCi 中需要，一开始可能会令人困惑）。这就是给你缩进错误的原因。一旦你解决了这个问题，你会得到一些类型错误。

其次，在`partC`and中`partD`，你写`t <- [zip num fibs/primes]`. 这意味着依次`t`绑定到单元素列表的每个元素。已经是一个列表，所以你不需要括号。修复此问题后，程序可以编译，但无法正常工作。`[zip num ...]``zip num fibs/primes`

最后，如果您尝试通过检查它是否是 or 的元素来确定一个数字（在您的情况下，再次在 and 中）是素数还是斐波那契数，这`fst t`将`partC`在该数字实际在列表中时起作用，但它不会如果不是，请返回。这是因为不“知道”您正在查看的列表是按升序排序的。例如，如果您尝试评估，它将检查 4 是否等于 2、3、5、7、11，等等 - 谁知道，最终可能会出现 4！要解决这个问题，您必须编写一个稍微更智能的函数。`partD``primes``fibs``False``elem``elem 4 primes``elem`

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-01-23T06:54:07.130

您刚刚将第 11 行中的撇号与反引号混淆了：

```
fst t 'elem' primes 
```

应该：

```
fst t `elem` primes 
```

# c# - c#中的代码合同问题

> ID：14473885
> 
> 赞同：1
> 
> 时间：2013-01-23T06:42:08.520
> 
> 标签：c#, code-contracts

我面临一个我无法弄清楚的问题。

假设我有两种方法：`public void Method1(object obj)`在`ViewModel`课堂上和`public void Method2(object obj)`课堂`Model`上。

`Method2`从`Method1`使用`Model`类的实例调用（例如，objM 是类的对象和`Model`类的成员`ViewModel`）。

```
class ViewModel
{
public void Methods1(object obj)
{
     if (!(
                        (      (false == this.HasSal)
                            && (typeof(Class1) == obj.GetType())
                          )
                    ||
                        (      (true == this.HasSal)
                            && (typeof(Class2) == obj.GetType())
                        )
                   ) 
                )
            {
                throw new ArgumentException("invalid obj");
            }
            Contract.EndContractBlock();
            objM.Method2(obj);
            .....
} 
}

class Model
{
public void Method2(object obj)
{
 Contract.Requires(
                    (      (false == this.HasSal)
                        && (typeof(Class1) == obj.GetType())
                    )
                ||
                    (      (true == this.HasSal)
                        && (typeof(Class2) == obj.GetType())
                    )

            );
    .....
    }
} 
```

现在，每当我尝试构建代码时，Visual Studio 都会产生以下警告

```
Code contracts: Requires unproven
(
                    (      (false == this.HasSal)
                        && (typeof(Class1) == obj.GetType())
                    )
                ||
                    (      (true == this.HasSal)
                        && (typeof(Class2) == obj.GetType())
                    )

            ) 
```

请建议。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-23T07:25:50.983

由于[rtrokzzz](https://stackoverflow.com/users/1866361/rtrokzzz)已经在评论中给出了另一个 SO 问题[.NET 4 Code Contracts 的链接：“需要未经证实：源！= null”</a>](https://stackoverflow.com/questions/4951813/net-4-code-contracts-requires-unproven-source-null)

 [`Contract.Ensures`您的解决方案是添加`Method1()`和`Method2()`

请注意：我没有使用过`Code Contracts`，但我相信根据我的理解，代码将是

```
Contract.Ensures(obj != null); 
```

## 更新

```
Contract.Requires(obj != null); 
```](https://stackoverflow.com/questions/4951813/net-4-code-contracts-requires-unproven-source-null) 

[参考：](https://stackoverflow.com/questions/4951813/net-4-code-contracts-requires-unproven-source-null)[使用 Code Contracts 和 Linq To Sql 时如何避免“source !=null”？](https://stackoverflow.com/a/3069235/468718)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-23T13:15:18.753

我不相信静态检查器将能够验证您的合同，因为`obj`直到运行时才知道类型 - 不能保证*只有*类型的对象 `Class1`或`Class2`将被传递给`Method1`.

可以通过向调用`Method1`. 如果您包含该代码，我可能会提出一种满足静态检查器的方法。

编辑：实际上，还有另一个问题。如果`HasSal`是 public-setter 属性，那么我不确定您的合同是否可以验证 - 另一个线程总是有可能在被调用和正在执行的方法主体`HasSal`之间更改值。`Method1`

# php - PHP mysql_connect 不返回布尔值

> ID：14473890
> 
> 赞同：2
> 
> 时间：2013-01-23T06:42:26.750
> 
> 标签：php, mysql, syntax, boolean

我有以下 PHP 代码：

```
$con = mysql_connect("localhost","name","pass") or die(mysql_error());

$db = "db";

mysql_select_db($db,$con); 
```

现在以我的经验，`$con`应该是真的还是假的。当`echo $con`我得到：

```
Resource id #25 
```

如果我执行以下代码，则回显永远不会触发（正如在上述语句之后所预期的那样）：

```
if($con) { echo "it worked"; } 
```

当我对此连接运行查询时，一切都按预期工作。有没有理由为什么这`$con`不会是真的或假的？

我究竟做错了什么？

谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-23T06:44:37.620

检查[`mysql_connect`](http://php.net/manual/en/function.mysql-connect.php)返回值：

```
Returns a MySQL link identifier on success or FALSE on failure. 
```

所以要检查连接：

```
if($con !== false) { echo "it worked"; } 
```

或在出现错误时退出：

```
if (!$con) {
    die('Could not connect: ' . mysql_error());
} 
```

提一句建议，最好使用[MySQLi](http://php.net/manual/en/book.mysqli.php)或[PDO_MySQL](http://php.net/manual/en/ref.pdo-mysql.php)代替，`mysql_connect`因为它很快就会被弃用：

> **警告**
> 
> 此扩展自 PHP 5.5.0 起已弃用，并将在未来删除。相反，应该使用 MySQLi 或 PDO_MySQL 扩展。另请参阅 MySQL：选择 API 指南和相关的常见问题解答以获取更多信息。此功能的替代方案包括：
> 
> mysqli_connect()
> 
> PDO::__construct()

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-23T06:47:20.497

它只是或`or die(mysql_error());`结尾的 b/c。

试一试：

```
<?php
$con = mysql_connect("localhost","name","pass");
$db = "db";
if (!$con)
  {
  die('Could not connect: ' . mysql_error());
  }

mysql_select_db($db,$con);
?> 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-01-23T06:48:00.187

我认为这是因为`or die(mysql_error());`部分。我应该是`$con = mysql_connect("localhost","name","pass")`唯一的。然后你可以像这样检查：`if (!$con)`.

# java - e.getActionCommand() 不工作？

> ID：14473891
> 
> 赞同：0
> 
> 时间：2013-01-23T06:42:30.983
> 
> 标签：java, swing, events, awt, actionlistener

我试图做一些简单的编辑文本，但我的按钮不起作用......我有一个

```
public void actionPerformed(ActionEvent e) {
    if(e.getActionCommand().equals(submit.getActionCommand())){
        JOptionPane.showMessageDialog(null,"you tried to submit");
    }
} 
```

方法，但它似乎不起作用。请帮忙？

```
public class Editor implements ActionListener{

static JFrame frame = new JFrame();
static Container contentPane = frame.getContentPane();

static int line;
static JTextField lineNumber = new JTextField("Line number here");
static JTextField editField = new JTextField("Data here", 48);
static JButton submit = new JButton("Save");

public Editor(){
    frame.setTitle("Editor (Lnull)");
    frame.setSize(400,600);
    frame.setVisible(true);
}

public Editor(String title){
    frame.setTitle(title);
    frame.setSize(400,600);
    frame.setVisible(true);
}

public Editor(String title, int width, int height){
    frame.setTitle(title);
    frame.setSize(width, height);
    frame.setVisible(true);
}

@SuppressWarnings("static-access")
public void setLine(int line){
    this.line = line;
}

public void changeTitle(String title){
    frame.setTitle(title);
}

public static void addComponent(Component thing){
    contentPane.add(thing);
    frame.repaint();
}

public static void setContentsOfFrame(Container cont){
    frame.setContentPane(contentPane);
}

public static void setAction(JButton comp, String action){
    comp.setActionCommand(action);
}

public void actionPerformed(ActionEvent e) {
    if(e.getActionCommand().equals(submit.getActionCommand())){
        JOptionPane.showMessageDialog(null,"you tried to submit");
    }
}

/**
 * @param args
 */
public static void main(String[] args) {
    // TODO Auto-generated method stub
    Editor editor = new Editor();
    addComponent(editField);
    editField.setBounds(0,0,300,50);
    addComponent(submit);
    submit.setBounds(300,0,100,50);
    submit.setActionCommand("submit");
    frame.setLayout(null);

    setContentsOfFrame(contentPane);

}

} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-23T06:47:33.497

您永远不会将 a 附加`ActionListener`到`submit`按钮上。

如果您不注册，Swing 将无法传递事件通知

尝试类似的东西`submit.addActionListener(editor)`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-23T07:00:02.890

注意信息。关于链接构造函数和使用`static`..

```
import java.awt.Container;
import javax.swing.*;

public class Editor {

    // none of these should be static!
    static JFrame frame = new JFrame();
    static Container contentPane = frame.getContentPane();

    static int line;
    static JTextField lineNumber = new JTextField("Line number here");
    static JTextField editField = new JTextField("Data here", 48);
    static JButton submit = new JButton("Save");

    public Editor(){
        // chain the constructor
        new Editor("Editor (Lnull)");
    }

    public Editor(String title){
        // chain the constructor
        new Editor(title, 600, 400);
    }

    public Editor(String title, int width, int height){
        // Just do it!
        frame.setTitle(title);
        frame.setSize(width,height);
        frame.setVisible(true);
    }
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-23T06:48:06.863

您忘记将 ActionListener 添加到提交按钮。

```
submit.addActionListener(Editor.this); 
```

# uima - 示例程序 UIMA CFE（可配置特征提取器）

> ID：14473898
> 
> 赞同：2
> 
> 时间：2013-01-23T06:42:50.547
> 
> 标签：uima

我在*UIMA*下工作，我需要知道*UIMA*中的*CFE*。我浏览了 Apache 文档*CFE*用户指南，但我无法弄清楚*UIMA*中的*CFE*。我需要对*CFE UIMA*进行更多说明。请任何人通过示例编码帮助解释*CFE的概念。*

 ***提前致谢。***

# yii - 如何在 yii cstarrating 扩展中显示星星？

> ID：14473900
> 
> 赞同：0
> 
> 时间：2013-01-23T06:43:01.577
> 
> 标签：yii, yii-extensions, yii-components

嘿，我正在研究 yii 的 cstarraing 扩展。我正在使用以下代码显示数据库中的星星：

```
 $criteria = new CDbCriteria();
        $count=Reviews::model()->count($criteria);
        $pages=new CPagination($count);
        $criteria->order="time DESC";
        $criteria->condition="user_id=".$_GET['user_id']." AND status='approve'";
        // results per page
        $pages->pageSize=3;
        $pages->applyLimit($criteria);

        $review = Reviews::model()->findAll($criteria);
        $i=1;
        foreach($review as $review)
        {
           $rate=$review['rating'];
           $this->widget('CStarRating',array(
                'name'=>'rating'.$i,
                'minRating'=>1,
                'maxRating'=>5,
                'starCount'=>5,
                'value'=>$rate,
                'readOnly'=>true,
            ));
            echo "<br/>";
            echo $review['title'];
            echo "<br/>";
            echo "<font color='brown'>".ucfirst($review['name'])."</font><br/>";
            echo $review['body'];
            echo "<br/>";
            echo "Posted on : ".$review['time'];
            echo "<hr/><br/>";
            $i++;
        }
$this->widget('CLinkPager', array(
    'pages' => $pages,
)) ?> 
```

我一切正常，但我的评论表单中没有得到星号 (*)，而是得到了单选按钮？我怎样才能让他们回来，谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-31T21:18:52.007

在使用 Yii 开发应用程序时，我遇到了同样的问题。如果加载了适当的 CSS 文件，单选按钮将变为星号。因此，请检查 html ids、spans 并查看您的 CSS 文件中是否有相应的字段。您还需要在服务器上拥有星星（背景、前景）的图像。我通过手动下载原始 jquery 补丁来解决它，并使用它包含 CSS 文件和图像。

# java - 如何在 Hazelcast 中找到命名空间的数量？

> ID：14473901
> 
> 赞同：3
> 
> 时间：2013-01-23T06:43:14.703
> 
> 标签：java, cluster-computing, in-memory-database, hazelcast

使用 ns 命令，我在控制台中创建了许多命名空间。我现在有个问题。我创建了超过 5 个命名空间，但我忘记了它们！我想查看我创建的命名空间的数量及其各自的名称。

是否有任何命令可以找出 Hazelcast 中创建的命名空间的数量？请帮忙。！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-06T18:47:06.490

从命令行工具“实例”将完成这项工作。以编程方式，您可以调用 hazelcastInstance.getInstances() 它将返回您的实例集合。

# android - 如何在本地服务器上添加 pdf 文件或文本文件？

> ID：14473910
> 
> 赞同：0
> 
> 时间：2013-01-23T06:43:40.657
> 
> 标签：android

我想将我的 file:///mnt/sdcard/APK/Video.apk 文件发送到套接字并发送 pdf 和文本文件。以编程方式发送此类文件的最佳方法是什么？？？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-30T07:08:00.683

我自己得到了我的问题的答案:-D所以这里是谁有同样问题的解决方案....首先我知道在服务器端套接字这个文件路径uri不起作用“file:///mnt/ sdcard/APK/Video.apk" 或其他类型的文件 uri。只有“/mnt/sdcard/APK/Video.apk”在套接字上工作。因此，从内容提供程序获得的文件 uri 字符串中，我在服务器套接字上创建了我的文件。然后在创建一个文件之后......我也得到了我的文件大小......

```
private void addSDFileEntity(final Uri uri, HttpResponse response)
            throws IOException {
        if (mTransferStartedListener != null) {
            mTransferStartedListener.started(uri);
        }

        Cursor c = mContext.getContentResolver().query(uri, null, null, null,
                null);
        c.moveToFirst();
        int nameIndex = c.getColumnIndexOrThrow(NewSDCardContentProvider.SDFiles.Columns.DISPLAY_NAME);

String name = c.getString(nameIndex);
        int dataIndex = c.getColumnIndexOrThrow(NewSDCardContentProvider.SDFiles.Columns._DATA);
        String dataname = c.getString(dataIndex);
        Uri data = Uri.parse(dataname);

        if (name.endsWith(".pdf")) {
            String contentTypepdf = "application/pdf";
            File myFile = new File(dataname);

            int reqLen = (int) myFile.length();

            Log.d("apk len===>", "" + reqLen);

            InputStream fis = new FileInputStream(myFile);

            response.addHeader("Content-Type", contentTypepdf);
            response.addHeader("Content-Length", "" + reqLen);
            response.setEntity(new InputStreamEntity(fis, reqLen));

            if (socket == null) {
                socket.close();

            }

        }
        if (name.endsWith(".apk")) {
            String contentTypeapk = "application/vnd.android.package-archive";
            File myFile = new File(dataname);

            int reqLen = (int) myFile.length();

            Log.d("apk len===>", "" + reqLen);

            InputStream fis = new FileInputStream(myFile);

            response.addHeader("Content-Type", contentTypeapk);
            response.addHeader("Content-Length", "" + reqLen);
            response.setEntity(new InputStreamEntity(fis, reqLen));

        } 
```

现在我在服务器套接字发送我的文件内容......

```
private void sendSDFileContent(
            DefaultHttpServerConnection serverConnection,
            RequestLine requestLine) throws IOException, HttpException {
        HttpResponse response = new BasicHttpResponse(new HttpVersion(1, 1),
                200, "OK");
        String SDfileId = getSDFileId(requestLine.getUri());

        Log.d("selected URI from server", SDfileId);
        addSDFileEntity(Uri.withAppendedPath(
                NewSDCardContentProvider.SDFiles.CONTENT_URI, SDfileId),
                response);
        serverConnection.sendResponseHeader(response);
        serverConnection.sendResponseEntity(response);
    } 
```

# mysql - 带有日期时间的mysql if语句

> ID：14473915
> 
> 赞同：-2
> 
> 时间：2013-01-23T06:44:02.840
> 
> 标签：mysql

我想在 datetime 中选择日期，但如果 startDate 的时间大于 endDate 的时间，则在 endDate 中添加一天，这是我的代码，但它不起作用，谢谢

```
SELECT Schedules.*
FROM 'schedules' AS Schedules 
WHERE Schedules.active=1
AND '2013-01-21' BETWEEN DATE(Schedules.startDate) AND 
(
IF TIME(Schedules.startDate)>TIME(Schedules.endDate) THEN 
SELECT (DATE(DATE_ADD(SELECT Schedules.endDate, INTERVAL 1 DAY)))
ELSE SELECT Schedules.endDate
) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-23T08:25:07.060

我为 mysql 语句创建了一个示例。关注[http://sqlfiddle.com/#!8/0752c/6](http://sqlfiddle.com/#!8/0752c/6)

和代码（如果需要）：

```
CREATE TABLE `yourtable` (
  `Id` tinyint(4) NOT NULL,
  `Name` char(16) COLLATE utf8_bin DEFAULT NULL,
  `StartDate` DATETIME NOT NULL,
  `EndDate` DATETIME NOT NULL,
  PRIMARY KEY (`Id`)
);

INSERT INTO `yourtable`(`Id`,`Name`,`StartDate`,`EndDate`)
VALUES
(1, 'S1', '2013-01-03 11:23:59', '2013-01-04 13:26:12'),
(2, 'S2', '2013-01-04 00:00:00', '2013-01-04 23:59:59'),
(3, 'S3', '2013-01-12 23:59:59', '2013-01-12 22:20:25'),
(4, 'S4', '2013-01-15 18:15:15', '2013-01-17 13:20:20'),
(5, 'S5', '2013-01-20 21:23:59', '2013-01-22 19:26:12'),
(6, 'S6', '2013-01-04 11:23:59', '2013-01-20 19:26:12'),
(7, 'S7', '2013-01-04 11:23:59', '2013-01-20 08:26:12');

SELECT 
  Id, Name, StartDate, EndDate, 
  CASE WHEN TIME(StartDate) > TIME(EndDate) THEN 'true' ELSE 'false' END AS TF,
  CASE WHEN TIME(StartDate) > TIME(EndDate) THEN DATE(DATE_ADD(EndDate, INTERVAL 1 DAY)) ELSE DATE(EndDate) END AS EndDateUp
FROM yourtable 
WHERE 
DATE('2013-01-04') BETWEEN DATE(StartDate) AND 
  CASE WHEN TIME(StartDate) > TIME(EndDate) 
  THEN DATE(DATE_ADD(EndDate, INTERVAL 1 DAY)) 
  ELSE DATE(EndDate)  END
; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-23T08:03:51.097

MySQL 没有`IF`语句，只是一个`IF`函数。代替

```
IF TIME(Schedules.startDate)>TIME(Schedules.endDate) THEN 
SELECT (DATE(DATE_ADD(SELECT Schedules.endDate, INTERVAL 1 DAY)))
ELSE SELECT Schedules.endDate 
```

你可以[`IF`](http://dev.mysql.com/doc/refman/5.6/en/control-flow-functions.html#function_if)用括号写一个正确的：

```
IF(TIME(Schedules.startDate)>TIME(Schedules.endDate),
   DATE(DATE_ADD(Schedules.endDate, INTERVAL 1 DAY)),
   Schedules.endDate) 
```

或者你可以写一个[`CASE`](http://dev.mysql.com/doc/refman/5.6/en/control-flow-functions.html#operator_case)：

```
CASE WHEN TIME(Schedules.startDate)>TIME(Schedules.endDate)
     THEN DATE(DATE_ADD(Schedules.endDate, INTERVAL 1 DAY))
     ELSE Schedules.endDate
END 
```

在任何一种情况下，都省略所有这些额外的`SELECT`关键字，因为您没有在那里执行子查询，只是评估表达式。

# mongodb - 哪个 Linux 工具可用于监控 MongoDB 性能？

> ID：14473916
> 
> 赞同：1
> 
> 时间：2013-01-23T06:44:09.027
> 
> 标签：mongodb, ubuntu-11.04, database-performance, mongodb-query

我有一个庞大的数据集，以及足够的 RAM 来存储我的大部分数据（我有一些独特的访问模式）。我想看看我的数据库性能是否正在下降，因为我的工作集对于我的硬件来说太大了。

我该怎么做呢？我可以使用哪些 Linux 工具。我目前在 Ubuntu 11.04 上使用 Mongo 2.2。我应该关注哪些指标？

更新：我想问这个问题的更好方法是“有经验的 mongo 管理员使用什么工具来监控性能？”

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-23T09:40:34.223

[就性能而言， Mongostat](http://docs.mongodb.org/manual/reference/mongostat/)应该为您提供您正在寻找的大部分信息。要查看的关键指标是索引未命中、页面错误、锁定百分比以及读取器和写入器的队列长度。如果这些数字很高（理想情况下高于零，如果它们变化不大），那么你就有问题了。

就工具而言，MMS 足以开始，但就我个人而言，我发现自己每次不得不研究性能时都会求助于 mongostat。此外，根据配置文件级别查看日志，您应该在那里看到缓慢的查询，这应该让您了解要优化哪些查询（或操作）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-01-23T07:04:58.217

我在[这里找到了一些监控命令](http://docs.mongodb.org/manual/administration/monitoring/)。这可能是你要找的吗？至于您用来跟踪问题的工具，这就是我的做法。

**Nagios**：我使用 nagios 作为集中监控系统来检查每个服务器的健康状况。如果出现问题，它会提醒我。例如，我为 API 的响应时间超出阈值等情况设置了警报。

**Monit**：如果某些事情变得完全疯狂，monit 会处理它。假设我的堆栈中的任何组件出现故障。它提醒我，也为我提出来。

**Logstash**：我的日志中记录的任何可疑活动，它都会让我知道。

**SeaLion**：现在以上所有内容都让我知道我的堆栈是否有问题。但是是什么导致了这个问题，我用 SeaLion 调试。我记录系统分析工具的输出，如 sar、top、uptime、iostat、vmstat、netstat 等。除了这些命令之外，您还可以在 SeaLion 上设置您需要的命令，它会执行所有这些命令并以漂亮的时间线格式显示. 安装和设置也非常容易。 ![](../Images/b1faad10961c5acd06cc996c792b4ab2.png)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-01-23T23:31:13.193

iostat 将告诉您磁盘子系统如何处理负载。我喜欢`iostat -x -k 1`时间序列视图。

# java - 正则表达式的无效转义序列

> ID：14473917
> 
> 赞同：1
> 
> 时间：2013-01-23T06:44:10.503
> 
> 标签：java, android, regex

无效的转义序列（有效的是 \b \t \n \f \r \" \' \ ）

```
public static final boolean isValidPhoneNumber(CharSequence target) {

    if (target == null || TextUtils.isEmpty(target)) {
        Pattern numberPattern = Pattern.compile("^((\+){0,1}91(\s){0,1}(\-){0,1}(\s){0,1})?([0-9]{10})$");
        Matcher numberMatcher = numberPattern.matcher(target);
        return numberMatcher.matches();
    }

    return false;
} 
```

我使用在线检查的正则表达式工作正常，但不适用于我的 android 应用程序。请帮忙...

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-01-23T06:45:52.610

你的反斜杠需要被转义——

```
Pattern numberPattern = Pattern.compile("^((\\+){0,1}91(\\s){0,1}(\\-){0,1}(\\s){0,1})?([0-9]{10})$"); 
```

这是因为 Java 使用`\`字符作为转义字符，要告诉它你的意思是真正的意思`\`而不是转义字符，你必须写`\\`.

# intellij-idea - IntelliJ Idea：添加全局库依赖作为源

> ID：14473918
> 
> 赞同：0
> 
> 时间：2013-01-23T06:44:10.657
> 
> 标签：intellij-idea, project-organization

我是 IntelliJ Idea 的新手，并且有与模块依赖相关的问题。是否可以将全局库添加到模块依赖项中，但以我可以与依赖模块一起编辑和编译的源文件的形式？

我试图解决的问题如下：

1.  我有通用库模块 A - 正在开发中。
2.  我有通用库模块 B - 正在开发中并依赖于 A。
3.  我的应用程序项目同时依赖于：A 和 B。

我想在一个 IntelliJ Idea 窗口中以方便的方式开发这三个组件，但我不想将库 A 和 B 直接包含为项目模块，因为它们是通用的，将来会被其他项目使用。如何正确解决这样的难题？

我唯一的想法是使用文件系统破解并将这些库添加为模块，但目录链接指向它们的原始位置。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-23T09:49:53.233

> 我唯一的想法是使用文件系统破解并将这些库添加为模块，但目录链接指向它们的原始位置。

请不要那样做。（IDEA**不是**日食）

IDEA 可以使用位于驱动器上任何位置的模块，并使用所有这些模块创建一个 IDEA 项目（使用 File>Import module... 将新模块添加到当前窗口）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-23T07:00:18.777

您绝对应该将这些库配置为模块，并在主应用程序模块中使用对另一个模块的依赖。

如果您将来要在其他项目中使用它们，您可以将相同的库模块添加到其他项目中。另一种选择是配置一个 Artifact，它将为您可以在其他项目中使用的库生成 jar 文件。

# .net - 从.net中的多个表中过滤数据

> ID：14473921
> 
> 赞同：0
> 
> 时间：2013-01-23T06:44:33.533
> 
> 标签：.net, adapter

我的数据库中有 4 个表，即餐厅、美食、设施、菜肴。我创建了一个从这些表返回数据的表适配器。现在我必须根据用户选择的菜肴、设施或菜肴来过滤数据，并返回结果餐厅。这是我的查询：

```
 public string alldata(string location, string cuisines, string facility)
    {
        location = location.Replace('|', ',');
        facility = facility.Replace('|', ',');
        cuisines = cuisines.Replace('|', ',');
        string loc; string data = null; int id;
        DataSet3.DataTable1DataTable all = getall.GetAllData();

        IEnumerable<DataRow> query = from resturants in all.AsEnumerable()

                                     where ((location.Contains(resturants.City)) && (facility.Contains(resturants.FacilityName) && (cuisines.Contains(resturants.Type))))
                                     select resturants;
        foreach (DataSet3.DataTable1Row item in query)
        {
            name = item.Name;
            loc = item.Location;

            id = item.RestaurantID;
            data += name + "%" + loc +"%"+id+ "?";
        }
        return data; 

    } 
```

此查询返回重复的条目，并且在选择中不应用 AND。我被困住了。请帮我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-23T06:57:46.657

```
IEnumerable<DataRow> query =    (from resturants in all.AsEnumerable()

                                         where ((location.Contains(resturants.City)) && (facility.Contains(resturants.FacilityName) && (cuisines.Contains(resturants.Type))))
                                         select resturants).Distinct() 
```

您可以使用 Distinct() 运算符在 Linq 中获取不同的记录

# django - Shared_by_me 在我的 Django 场景中的查询？

> ID：14473925
> 
> 赞同：0
> 
> 时间：2013-01-23T06:44:43.923
> 
> 标签：django, model

我有两个这样的模型：

```
class File(models.Model):
    users = models.ForeignKey(User)
    file_name = models.CharField(max_length=100)
    type = models.CharField(max_length=10)
    source = models.CharField(max_length=100)
    start_date = models.TextField()
    end_date = models.TextField()
    duration = models.TextField()
    size_overview = models.IntegerField()
    size = models.TextField()
    flag = models.TextField()
    #delete_date = models.CharField(max_length=100, null=True, blank=True)

class Share(models.Model):
    users = models.ForeignKey(User)
    files = models.ForeignKey(File)
    shared_user_id = models.IntegerField()
    shared_date = models.TextField() 
```

我将登录用户的用户 ID 设为：`log_id = request.user.id`

我想检索当前登录用户共享的文件。

首先我在 Share 模型中查询：

```
Share.objects.filter(users_id=log_id) 
```

`users_id`属性包含共享文件的用户的 ID。现在我知道了 log_id 用户共享的 files_id。如何检索文件信息。我想展示`file_name, size and source.` 我该怎么做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-23T06:53:42.570

您可以遍历反比关系：

```
File.objects.filter(shares__users__id = log_id) 
```

顺便说一句：File 对象中的 users 字段呢？它与 Share 对象中的 users 字段有何关系？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-23T07:03:48.843

如果您的查询集假设同一用户有多个 Share 实例：

```
shares = Share.objects.filter(users_id=log_id) 
```

您可以遍历它并访问每个实例的文件：

```
for share in shares:
    print share.files.file_name
    print share.files.type
    print share.files.source 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-23T07:10:07.387

尝试这个...

```
File.objects.filter(id__in= Share.objects.filter(shared_user_id = log_id).values_list('files', flat=True)) 
```

# java - 使用 Globe LBS API 的 SOAP 请求

> ID：14473927
> 
> 赞同：0
> 
> 时间：2013-01-23T06:44:44.437
> 
> 标签：java, xml, api, soap, request

我还是 SOAP 的新手，我无法解决这个问题。基本上，下面的代码创建一个 SOAP 消息发送到 API 服务器。每次我运行这个请求时，程序总是返回 NULL 和错误代码，这些代码未包含在 API 的文档中。我希望这里有人可以提供帮助。

```
 public class LBSController {
private static final String endpoint = "http://iplaypen.globelabs.com.ph:1881/axis2/services/Platform";

public static void main(String[] args) throws SOAPException {
    //CREATE SOAP MESSAGE
    SOAPMessage message = MessageFactory.newInstance().createMessage();
    SOAPHeader header = message.getSOAPHeader();
    header.detachNode();

    //SOAP SETTINGS
    SOAPEnvelope envelope = message.getSOAPPart().getEnvelope();
    envelope.setEncodingStyle("http://schemas.xmlsoap.org/soap/encoding/");

    SOAPBody body = message.getSOAPBody();
    QName bodyName = new QName("getConsent");
    SOAPBodyElement bodyElement = body.addBodyElement(bodyName);

    //SET CONTENT
    SOAPElement uName = bodyElement.addChildElement("uName");
    uName.addTextNode("k2r2t1zvc");
    SOAPElement uPin = bodyElement.addChildElement("uPin");
    uPin.addTextNode("21737629");
    SOAPElement MSISDN = bodyElement.addChildElement("MSISDN");
    MSISDN.addTextNode("09278328310");

    //CREATE CONNECTION
    SOAPConnection connection = SOAPConnectionFactory.newInstance().createConnection();
    SOAPMessage response = connection.call(message, endpoint);
    connection.close();

    SOAPBody responseBody = response.getSOAPBody();
    SOAPBodyElement responseElement = (SOAPBodyElement)responseBody.getChildElements().next();
    SOAPElement returnElement = (SOAPElement)responseElement.getChildElements().next();

    if(responseBody.getFault()!=null){
        System.out.println(returnElement.getValue()+" "+responseBody.getFault().getFaultString());
    } else {
        System.out.println(returnElement.getValue());
    }

    try {
        System.out.println(getXmlFromSOAPMessage(message));
        System.out.println(getXmlFromSOAPMessage(response));
    } catch (IOException e) {
        e.printStackTrace();
    }
}

private static String getXmlFromSOAPMessage(SOAPMessage msg) throws SOAPException, IOException {
    ByteArrayOutputStream byteArrayOS = new ByteArrayOutputStream();
    msg.writeTo(byteArrayOS);
    return new String(byteArrayOS.toByteArray());
} 
```

}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-23T07:03:22.927

尝试从响应中打印出 RAW xml 代码。

这是代码

```
 public class LBSController 
{
    private static final String endpoint = "http://iplaypen.globelabs.com.ph:1881/axis2/services/Platform";

public static void main(String[] args) throws SOAPException {
//CREATE SOAP MESSAGE
SOAPMessage message = MessageFactory.newInstance().createMessage();
SOAPHeader header = message.getSOAPHeader();
header.detachNode();

//SOAP SETTINGS
SOAPEnvelope envelope = message.getSOAPPart().getEnvelope();
envelope.setEncodingStyle("http://schemas.xmlsoap.org/soap/encoding/");

SOAPBody body = message.getSOAPBody();
QName bodyName = new QName("getConsent");
SOAPBodyElement bodyElement = body.addBodyElement(bodyName);

//SET CONTENT
SOAPElement uName = bodyElement.addChildElement("uName");
uName.addTextNode("k2r2t1zvc");
SOAPElement uPin = bodyElement.addChildElement("uPin");
uPin.addTextNode("21737629");
SOAPElement MSISDN = bodyElement.addChildElement("MSISDN");
MSISDN.addTextNode("09278328310");

//CREATE CONNECTION
SOAPConnection connection = SOAPConnectionFactory.newInstance().createConnection();
SOAPMessage response = connection.call(message, endpoint);
connection.close();

SOAPBody responseBody = response.getSOAPBody();
SOAPBodyElement responseElement = (SOAPBodyElement)responseBody.getChildElements().next();
SOAPElement returnElement = (SOAPElement)responseElement.getChildElements().next();

if(responseBody.getFault()!=null){
    System.out.println(returnElement.getValue()+" "+responseBody.getFault().getFaultString());
} else {
    System.out.println(returnElement.getValue());
}

//PRINT OUT RAW XML
ByteArrayOutputStream out = new ByteArrayOutputStream();
String xml = "";
try {
    response.writeTo(out);
    xml = out.toString("UTF-8");
} catch (Exception e) 
{
    System.out.println(""+e);
    //log.error(e.getMessage(),e);
}      
System.out.println(""+xml);

/*
try {
    System.out.println(getXmlFromSOAPMessage(message));
    System.out.println(getXmlFromSOAPMessage(response));
} catch (IOException e) {
    e.printStackTrace();
}
* */
} 
```

上面代码的响应值

```
 run:
    null
    <?xml version='1.0' encoding='utf-8'?><soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/">
<soapenv:Body><ns:getLocResponse xmlns:ns="http://ESCPlatform/xsd">
<ns:LocationReturn><ns:return>506</ns:return><ns:tranId>23737563092783283102013012302013976</ns:tranId>
</ns:LocationReturn></ns:getLocResponse>
</soapenv:Body>
</soapenv:Envelope>
    BUILD SUCCESSFUL (total time: 3 seconds) 
```

# c# - conn.setAutoCommit(true)

> ID：14473928
> 
> 赞同：0
> 
> 时间：2013-01-23T06:44:45.047
> 
> 标签：c#, asp.net, mysql

我`conn.setAutoCommit(true);`在java中使用过，很抱歉问这个问题，它很简单，但在互联网上找不到答案所以在这里问，如何在asp.net c#中实现相同的，我正在使用MySql

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-23T06:54:42.623

默认情况下，.NET 中的数据库连接设置为自动提交。如果您想使用交易，您必须调用[BeginTransaction](http://msdn.microsoft.com/en-us/library/86773566.aspx)。

# batch-file - 处理多个 .txt 文件的批处理脚本只处理一个

> ID：14473929
> 
> 赞同：0
> 
> 时间：2013-01-23T06:44:46.070
> 
> 标签：batch-file

我有一个批处理脚本，它应该处理多个输入文件，并为每个文件创建一个单独的输出文件。但是，我的问题是：

1.  它只读取第一个文本文件
2.  创建第一个输出文件后，它进入无限循环。

我需要脚本为**每个输入文件创建一个****单独的输出**文件。我怎样才能做到这一点？

 **目前代码如下：

```
@echo off
setlocal enabledelayedexpansion
set line=0
for /r %%x in (*.txt) do (                     //SUPPOSED to read all input files
for /f "tokens=4 delims=|" %%a in (%%x) do (... goto: GETLINE))

:GETLINE
if not %line%==0 set skip=skip=%line%
for %%x in (*.txt) do ( ...
echo %%b >>"Output_%%x.txt"                           //writing into output
goto :BREAK
))
:BREAK 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-23T10:42:01.823

我认为问题出在`:GETLINE`功能上。

如果调用它，您将再次循环所有文件，并再次读取每一行。

尝试改用这个

```
@echo off
setlocal enabledelayedexpansion
set line=0
for /r %%x in (*.txt) do (
for /f "tokens=4 delims=|" %%a in (%%x) do (
set num=%%a
set num=!num: =!
if !num!==589 set bool=true
if !num!==581 set bool=true
if !num!==580 set bool=true
if !num!==027 set bool=true
if !num!==582 set bool=true
if !num!==585 set bool=true
if "!bool!"=="true" call :GETLINE "%%x"
set /a line+=1
set bool=false
)
)

:GETLINE
if not %line%==0 set skip=skip=%line%
for /f "usebackq %skip% tokens=* delims=" %%b in ("%~1") do (
echo %%b >>"Output_%%x.txt"
goto :BREAK
)
)
:BREAK 
```

它将调用`:GETLINE`循环中的当前文件并将其传递给它，这将阻止它再次循环所有内容。**

# javascript - 使用画布按下相同的键时会出现不同的图像

> ID：14473933
> 
> 赞同：0
> 
> 时间：2013-01-23T06:45:19.177
> 
> 标签：javascript, html, canvas, keyboard, image-loading

我正在开发一个使用 HTML5 画布的游戏，其中对话放置在多个图像中，每个图像都命名相同，但最后有一个数字表示其顺序（`dialogue1.png, dialogue2.png`...），我试图弄清楚如何制作每次按下`enter`键（`13`我认为是键）时都会出现下一张图像。

我已经尝试了很多，经过多次失败的尝试，我认为唯一的方法可能是编写类似的代码`first dialogue1 is displayed`，然后如果用户按下 key `13`，然后`"dialogue" + "parseInt(1) + parseInt(1)"`显示，然后`n + 1`......'有什么想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-23T07:43:05.870

您必须跟踪对话图像的某种计数器。尝试这样的事情：

```
var currentImage = 1;

function enterKeyPressed(e){ // (Bind this function to your keyboard event listener)
    e = e || window.event;   // Compatibility
    if(e.which == 13){       // Check for the "Enter" key.
        currentImage++;      // Add 1 to the image counter.
        var image = "dialogue" + currentImage + ".png";  // Build image name
        dialogue(image);     // Your code to render the image, here.
    }
} 
```

这假设已经渲染了第一张图像。
如果您希望在第一次按下时绘制第一个对话`Enter`，请使用`var currentImage = 0;`而不是`var currentImage = 1;`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-23T08:55:42.270

假设您将图像保存在使用特定模式命名的硬盘上的某个位置，您可以创建一个图像数组。在我创建的 JsFiddle 中，我使用的是图像 url。

```
var images = ["http://dummyimage.com/100x100/f7f2f7/fff&text=text-1",
              "http://dummyimage.com/100x100/f7f2f7/fff&text=text-2",
              "http://dummyimage.com/100x100/f7f2f7/fff&text=text-3"
             ] 
```

当您实例化画布和工作上下文时，我将跳过这一部分。关键是您需要创建一个`eventListener`for the`canvas`并监听按下的键，对于您的情况，该键有`keyCode`13 个。因此，每次按下该`enter`键时，您都会增加计数器，该计数器将引用数组中的图像。

```
if (e.keyCode == 13) {           
    if (counter < images.length) {            
        counter ++;

        var img = new Image();

        img.src = images[counter-1];
        img.onload = function() {
            ctx.drawImage(img, 0, 0, WIDTH, HEIGHT);                
        }
    }
} 
```

**注意：**仅在第一次按键时才加载第一张图像。如果您需要在加载时加载第一个图像，则必须单独实例化。

这是工作代码：http: [//jsfiddle.net/S2j3s/](http://jsfiddle.net/S2j3s/)

# javascript - HFS 承诺使用 html5 拖放

> ID：14473936
> 
> 赞同：1
> 
> 时间：2013-01-23T06:45:30.813
> 
> 标签：javascript, html, cocoa

我正在开发 WebView 上的拖放功能。在 html5 环境中是否有类似于 hfs promise(cocoa environment) 的拖放方式？

我期待这样的事情，如果我从必须使用剪贴板下载文件的位置传递 url，则该文件应该在下载文件夹中发生丢弃的位置下载。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-23T06:52:35.920

我从未使用过您所指的库，但 HTML5 中的拖放非常容易。以下文章详细介绍了使用 HTML5 文件 API 可用的几种方法。

[http://www.html5rocks.com/en/tutorials/file/dndfiles/](http://www.html5rocks.com/en/tutorials/file/dndfiles/)

您要查找的部分专门引用了**拖放****事件**。

```
var dropZone = document.getElementById('drop_zone');
dropZone.addEventListener('dragover', handleDragOver, false);
dropZone.addEventListener('drop', handleFileSelect, false); 
```

[http://www.html5rocks.com/en/tutorials/file/dndfiles/](http://www.html5rocks.com/en/tutorials/file/dndfiles/#toc-selecting-files-dnd)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T12:23:54.420

碰巧有一个 webview 的委托，当一个元素被拖动时，可以使用它来获取一个事件。

*   (void)webView:(WebView *)webView willPerformDragSourceAction:(WebDragSourceAction)action fromPoint:(NSPoint)point withPasteboard:(NSPasteboard *)pasteboard

您可以访问粘贴板及其内容，这些内容可用于决定将要进行哪种类型的拖动，并让您可以选择更改粘贴板并开始您自己的拖动会话或不理会它。我将选择前者并实现 HFS 承诺以在发生丢弃时下载文件。

我没有找到任何单独使用 html5 来解决问题的方法。但是，我发现 html5 代码可以满足要求，但仅适用于 chrome。参考以下链接：(http://www.html5rocks.com/en/tutorials/casestudies/box_dnd_download/)

# css - SlickGrid 单元格浮动

> ID：14473948
> 
> 赞同：0
> 
> 时间：2013-01-23T06:47:09.520
> 
> 标签：css, slickgrid

我正在尝试使用 SlickGrid 创建一个网格来编辑 ASP.NET MVC 项目中的一些记录。

目前我无法弄清楚如何使记录实际显示为表格。SlickGrid 看起来像这样： ![现在的网格](../Images/76b8f957eb83a905067e04dd0181a688.png)

我一直在我的样式表和 javascript 文件中寻找可能导致这种情况的东西，但我不确定我应该寻找什么。任何人都可以提供帮助吗？

据我所知，我非常密切地遵循了 SlickGrid 示例。

**样式表包括：**

```
<link href="../../Content/SlickGrid/slick.grid.css" rel="stylesheet" type="text/css" />
<link href="../../Content/SlickGrid/smoothness/jquery-ui-1.8.16.custom.css" rel="stylesheet" type="text/css" />
<link href="../../Content/Site.css" rel="stylesheet" type="text/css" /> 
```

**Javascript 包括：**

```
<script type="text/javascript" src="../../Scripts/jquery-1.7.2.min.js"></script>
<script type="text/javascript" src="../../Scripts/jquery-ui-1.10.0.custom/js/jquery-ui-1.10.0.custom.min.js"></script>
<script type="text/javascript" src="../../Scripts/jquery.event.drag-2.2.js"></script>
<script type="text/javascript" src="../../Scripts/jquery.jsonp-2.4.0.min.js"></script>
<script type="text/javascript" src="../../Scripts/SlickGrid/slick.core.js"></script>
<script type="text/javascript" src="../../Scripts/SlickGrid/plugins/slick.cellrangedecorator.js"></script>
<script type="text/javascript" src="../../Scripts/SlickGrid/plugins/slick.cellrangeselector.js"></script>
<script type="text/javascript" src="../../Scripts/SlickGrid/plugins/slick.cellselectionmodel.js"></script>
<script type="text/javascript" src="../../Scripts/SlickGrid/slick.editors.js"></script>
<script type="text/javascript" src="../../Scripts/SlickGrid/slick.remotemodel.js"></script>
<script type="text/javascript" src="../../Scripts/SlickGrid/slick.grid.js"></script> 
```

**Javascript代码：**

```
 var columns = [
        { id: "FileTypeId", name: "File Type", field: "FileTypeId", editor: Slick.Editors.Integer, sortable: false },
        { id: "DateCp", name: "Date/CP", field: "DateCp", editor: Slick.Editors.Date, sortable: false },
        { id: "VesselId", name: "Vessel", field: "VesselId", editor: Slick.Editors.Integer, sortable: false },
        { id: "FixtureNo", name: "Fixture No", field: "FixtureNo", editor: Slick.Editors.Text, sortable: false },
        { id: "VoyageNo", name: "Voy No", field: "VoyageNo", editor: Slick.Editors.Integer, sortable: false },
        { id: "VegoilVoyageNo", name: "Vegoil Voy No", field: "VegoilVoyageNo", editor: Slick.Editors.Text, sortable: false },
        { id: "Remarks", name: "Remarks", field: "Remarks", editor: Slick.Editors.LongText, sortable: false }
    ];
    var options = {
        editable: true,
        enableAddRow: true,
        enableCellNavigation: true,
        asyncEditorLoading: false,
        enableColumnReorder: false,
        autoEdit: true
    };

    var grid;
    $(function () {
        $.getJSON('<%= Url.Action("BoxFiles", "Box", new { id = Model.Id }) %>', function (data) {
            grid = new Slick.Grid("#files", data, columns, options);
            grid.render();
        });
    }); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T02:34:36.380

样式表`slick.grid.css`需要包含**在** `jquery-ui-1.8.16.custom.css`.

# android - 使用 applicationDPI mxml 属性集在 Google Play 上发布 Flex 应用程序

> ID：14473956
> 
> 赞同：2
> 
> 时间：2013-01-23T06:47:49.970
> 
> 标签：android, apache-flex

在开发我的应用程序时，我采用了简单的方法并在主 MXML 文件中设置了 applicationDPI。例如，我只是在 HTC Sensation 上测试时设置为 240，在 iPhone 4 上测试时设置为 320。

现在我制作了 2 个 APK（240 和 320），并希望在 Google Play 上发布它们并为它们分配正确的设备——这似乎是不可能的。

有人做过吗？我想我需要修改我的应用程序以不使用 MXML 设置的 applicationDPI 并自己处理资产调整大小；我只是想知道是否有另一种方法可以与 Google Play 一起使用。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-23T11:31:53.973

是的，可以这样做 Google Play 支持多个 APK，您可以根据屏幕密度进行选择。对于此选项，您需要处于高级模式。

有关更多信息，请参阅。 [http://developer.android.com/google/play/publishing/multiple-apks.html](http://developer.android.com/google/play/publishing/multiple-apks.html)

但是，他们确实建议尝试使用单个 APK。

# ms-access - 如何处理 ColdFusion 中的数据库事务失败？

> ID：14473958
> 
> 赞同：1
> 
> 时间：2013-01-23T06:48:01.967
> 
> 标签：ms-access, coldfusion

我收到数据库超时异常，但不一致。有时它会执行，有时它会失败。我想写一个关于数据库故障的日志文件。我的查询附在`CFTRANSACTION`.

所以我的问题是如何检测 TRANSACTION 失败以便我可以写日志？另外，我在哪里放置 try/catch 块；在try/catch 块里面`CFTRANSACTION`还是放在里面？`CFTRANSACTION`

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-23T08:01:59.957

这可能是一个起点。这是在 SQL Server 中模拟长时间运行的查询的链接：[强制 SQL Server 中的查询超时](https://stackoverflow.com/questions/798192/forcing-a-query-timeout-in-sql-server/)

```
<cftransaction>

    <cftry>
        <cfquery datasource="mydatasource" timeout="1">
            <!--- problem query --->
        </cfquery>

        <cfcatch type="Database">
        <!--- write to log --->
            <cftransaction action="rollback" />
        </cfcatch>
    </cftry>

</cftransaction> 
```

# iphone - 带有 UITableViewController 的 UIMenuController 不起作用

> ID：14473959
> 
> 赞同：1
> 
> 时间：2013-01-23T06:48:05.410
> 
> 标签：iphone, objective-c, ios5, uitableview

我试图`UIMenuController`在用户选择表中的任何行时显示。我`UITableViewController`用来显示带有自定义单元格的表格。

我的代码：-

```
- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath
{
   // [tableView deselectRowAtIndexPath:indexPath animated:NO];

    MyCell *cell = (MyCell *)[tableView cellForRowAtIndexPath:indexPath];
    CGRect cellFrame = cell.frame;

    [self.view becomeFirstResponder];

    UIMenuItem *menuItem = [[UIMenuItem alloc] initWithTitle:@"Item1" action:@selector(action1:)];
    UIMenuItem *menuItem1 = [[UIMenuItem alloc] initWithTitle:@"Item2" action:@selector(action2:)];
    UIMenuItem *menuItem2 = [[UIMenuItem alloc] initWithTitle:@"Item3" action:@selector(action3:)];

    UIMenuController * menuController = [UIMenuController sharedMenuController];
    menuController.menuItems = [NSArray arrayWithObjects:menuItem, menuItem1, menuItem2, nil];
    menuController.arrowDirection = UIMenuControllerArrowDown;

    [menuController setTargetRect:cellFrame inView:self.view];

    [menuController setMenuVisible:YES animated:YES];
}

- (BOOL)canBecomeFirstResponder
{
    return YES;
} 
```

但`UIMenuController`没有显示。上面的代码有什么问题？

另外，我参考[了这些链接](http://www.google.co.in/webhp?source=search_app#hl=en&tbo=d&sclient=psy-ab&q=iphone%20sdk%20custom%20uimenucontroller&oq=iphone%20sdk%20uime&gs_l=hp.3.3.0i10i30l2j0i8i10i30j0i8i30.4787.73571.0.80474.15.11.0.4.4.0.542.2918.0j4j5j0j1j1.11.0.les;..0.0...1c.1._pDjOsKiASk&pbx=1&bav=on.2,or.r_gc.r_pw.r_qf.&bvm=bv.41248874,d.bmk&fp=7cae748247176dd2&biw=1600&bih=720)。但没有运气。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-03T09:23:59.193

如果您只在长按后才显示菜单没问题，则无需自己使用`tableView:didSelectRowAtIndexPath:`和显示菜单。

相反，您可以使用此委托方法：

```
- (BOOL)tableView:(UITableView *)tableView shouldShowMenuForRowAtIndexPath:(NSIndexPath *)indexPath {
    return YES;
} 
```

要隐藏标准项目（剪切、复制和粘贴），请在此处返回 NO：

```
- (BOOL)tableView:(UITableView *)tableView canPerformAction:(SEL)action forRowAtIndexPath:(NSIndexPath *)indexPath withSender:(id)sender {
    return NO;
} 
```

然后你需要`return YES`像`canBecomeFirstResponder`你一样，出于某种原因，我也必须实现这个方法：

```
- (BOOL)tableView:(UITableView *)tableView performAction:(SEL)action forRowAtIndexPath:(NSIndexPath *)indexPath withSender:(id)sender {
    return YES;
} 
```

# jquery - 如何从字符串中获取第一个文本节点？

> ID：14473961
> 
> 赞同：1
> 
> 时间：2013-01-23T06:48:08.173
> 
> 标签：jquery

试图获得第一个文本节点。

```
var s = $.trim('login<tbody> <tr> <td class="translated">Lorem ipsum dummy text</td></tr><tr><td class="translated">This is a new paragraph</td></tr><tr><td class="translated"><b>Email</b></td></tr><tr><td><i>This is yet another text</i></td> </tr></tbody>');

if($(s).find('*').andSelf().not('b,i').length > 1){
    alert($(s).find('*:not(:empty)').first().text());
} 
```

[这是我在 jsfiddle 上所做的事情的链接](http://jsfiddle.net/GNp84/)

它没有给我第一个文本节点**“登录”**，而是给我 **“lorem ipsum ...”**，这是第二个文本节点。

**笔记：**

HTML 字符串是动态的，因此不要考虑为其分配类或 id 或将其包含在某些 HTML 元素或子字符串等中。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-23T06:54:03.490

如果您的 HTML 已经是一个字符串，我将使用它`substring()`来获取导致第一个尖括号的所有字符：

```
var s = $.trim('login<tbody> <tr> <td class="translated">Lorem ipsum dummy text</td></tr><tr><td class="translated">This is a new paragraph</td></tr><tr><td class="translated"><b>Email</b></td></tr><tr><td><i>This is yet another text</i></td> </tr></tbody>');

s.substring(0, s.indexOf('<'));
// "login" 
```

**更新**

如果它不在开头或`undefined`没有文本节点，这将找到第一个文本节点：

```
$(s).contents().filter(function() { return this.nodeType == 3 })[0] 
```

**更新 2**

这也可以奏效，尽管我没有仔细研究过这样做的后果：

```
$(s).find('*').contents().filter(function() { return this.nodeType == 3})[0] 
```

# sql - 在同一个查询中使用两个聚合函数

> ID：14473962
> 
> 赞同：6
> 
> 时间：2013-01-23T06:48:17.503
> 
> 标签：sql, sqlite, aggregate-functions

考虑下表：

```
[Table: talks]
talkID | title        | starred
-------+--------------+--------
1      | talk1-title  | 1
2      | talk2-title  | 1
3      | talk3-title  | 0
4      | talk4-title  | 0
5      | talk5-title  | 0

[Table: talkspeaker]
talkID | speaker
-------+---------
1      | Speaker1
1      | Speaker2
2      | Speaker3
3      | Speaker4
3      | Speaker5
4      | Speaker6
5      | Speaker7
5      | Speaker8

[Table: similartalks]
talkID | similarTo
-------+----------
1      | 3
1      | 4
2      | 3
2      | 4
2      | 5
3      | 2
4      | 5
5      | 3
5      | 4 
```

我想要做的是：给定已加星标的演讲集，我想选择未加星标的演讲中的前 2 个（已加星标 = 0）及其与加星标演讲集最相似的标题和演讲者。问题是获得演讲者需要使用聚合函数，获得最相似的演讲也是如此。

在没有发言者的情况下，我可以使用以下查询获得最相似的谈话：

```
select t2.talkID, t2.title, count(*) as count 
from similarTalks s, talks t1, talks t2
where s.talkID = t1.talkID
and t1.Starred = 1
and s.similarTo = t2.TalkID
and t2.Starred = 0
group by t2.title, t2.talkID
order by count desc
limit 2 
```

通常，我使用以下聚合函数来获取扬声器，并按列进行适当的分组（假设 t =talkpeaker）：

```
group_concat(t.speaker, ', ') as Speakers 
```

如在

```
select t1.title, group_concat(t2.speaker, ', ') as Speakers 
from talks t1, talkspeaker t2
where t1.talkID = t2.talkID
group by t1.title 
```

但我无法将这两件事结合在一起。我计划在 sqlite 数据库中运行这个查询可能很重要（这就是 group_concat 函数的来源）。与已加星标的对话最相似的前 2 个未加星标的对话的答案似乎与 talkID 3 和 4 相关。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-23T08:54:10.653

首先，您可能想阅读[这篇文章](https://sqlblog.org/2009/10/08/bad-habits-to-kick-using-old-style-joins)，了解使用 ANSI 92 连接而不是上面使用的旧 ANSI 89 的原因。其次，SQLLite 确实支持 GROUP_CONCAT 函数，因此您可以使用它。

您只需将第二个查询作为子查询添加到第一个查询中即可获得所需的结果：

```
SELECT  Talks.TalkID, 
        Talks.Title, 
        ts.Speakers, 
        COUNT(*) AS SimilarTalks
FROM    Talks
        INNER JOIN SimilarTalks 
            ON Talks.TalkID = SimilarTalks.SimilarTo
        INNER JOIN Talks t2
            ON SimilarTalks.TalkID = t2.TalkID
            AND t2.Starred = 1
        INNER JOIN
        (   SELECT  TalkID, GROUP_CONCAT(Speaker, ',') AS Speakers
            FROM    TalkSpeaker
            GROUP BY TalkID
        ) ts
            ON ts.TalkID = Talks.TalkID
WHERE   Talks.Starred = 0
GROUP BY Talks.TalkID, Talks.Title, ts.Speakers
ORDER BY COUNT(*) DESC
LIMIT 2; 
```

**[SQL Fiddle 示例](http://www.sqlfiddle.com/#!5/246a7/12)**

**编辑**

您也可以在没有子查询的情况下使用`DISTINCT`：

```
SELECT  Talks.TalkID, 
        Talks.Title, 
        GROUP_CONCAT(DISTINCT ts.Speaker) AS Speakers,
        COUNT(DISTINCT t2.TalkID) AS SimilarTalks
FROM    Talks
        INNER JOIN SimilarTalks 
            ON Talks.TalkID = SimilarTalks.SimilarTo
        INNER JOIN Talks t2
            ON SimilarTalks.TalkID = t2.TalkID
            AND t2.Starred = 1
        INNER JOIN TalkSpeaker ts
            ON ts.TalkID = Talks.TalkID
WHERE   Talks.Starred = 0
GROUP BY Talks.TalkID, Talks.Title
ORDER BY COUNT(DISTINCT t2.TalkID) DESC
LIMIT 2; 
```

但是我认为这种方法没有任何好处，而且效率可能较低（我没有测试过，所以不能确定）

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-23T08:46:53.453

首先，要仅获取所需谈话的 ID，请从您的第一个查询中删除其他字段：

```
SELECT unstarred.talkID
FROM talks AS starred
  JOIN similarTalks AS s ON starred.talkID = s.talkID
  JOIN talks AS unstarred ON s.similarTo = unstarred.talkID
WHERE starred.starred
  AND NOT unstarred.starred
GROUP BY unstarred.talkID
ORDER BY COUNT(*) DESC
LIMIT 2 
```

然后，将其用作子查询以获取有关所需谈话的信息：

```
SELECT t.title AS Title,
       group_concat(s.speaker, ', ') AS Speakers
FROM talks AS t JOIN talkspeaker AS s ON t.talkID = s.talkID
WHERE t.talkID IN (SELECT unstarred.talkID
                   FROM talks AS starred
                     JOIN similarTalks AS s ON starred.talkID = s.talkID
                     JOIN talks AS unstarred ON s.similarTo = unstarred.talkID
                   WHERE starred.starred
                     AND NOT unstarred.starred
                   GROUP BY unstarred.talkID
                   ORDER BY COUNT(*) DESC
                   LIMIT 2)
GROUP BY t.talkID 
```

# jboss7.x - jboss-as-maven-plugin 部署位置

> ID：14473971
> 
> 赞同：0
> 
> 时间：2013-01-23T06:49:29.817
> 
> 标签：jboss7.x, maven-plugin

我在 JBoss AS 7.1 中通过 jboss-as-maven-plugin 部署了一个 ejb jar。jar 已正确部署，但我似乎无法在服务器中找到 jar 的位置。我检查了**独立/部署**文件夹，但它不存在。通过 jboss 作为 maven 插件进行的这种部署似乎创建了一个添加到独立/数据/文件夹中的内容文件；当我删除该内容文件夹时，已部署的 jar 将被删除。

知道实际的 jar 是否位于服务器中吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-23T17:04:38.887

JAR 的位置并不重要，因为它永远不应该被删除。有几种方法可以取消部署/删除部署，这将是适当的路径。

1.  使用 maven 插件删除部署：`mvn jboss-as:undeploy`
2.  使用 CLI 删除部署：`$JBOSS_HOME/bin/jboss-cli.sh --connect "undeploy $YOUR_DEPLOYMENT_NAME"`
3.  使用 Web 控制台删除部署

也就是说，在独立服务器中，部署被放置在`data`目录中。

# xcode - 查看对象突然变为 nil - xcode

> ID：14473973
> 
> 赞同：-1
> 
> 时间：2013-01-23T06:49:38.593
> 
> 标签：xcode, reference, ios6, retaincount

我的方法中有一个 View 对象突然变为 nil 。

我没有使用 ARC

不涉及线程

* * *

发生的事情是我第一次调用第一个方法方法一切正常，并且保留了对**livecoreSettings的引用。**

接下来，当我调用**2ndmethod**方法时，还保留了 livecoreSettings ref，但是当委托方法被激活时，该变量的引用丢失了..不知道为什么...

```
@interface XY {
    LiveScoreSettingsView * livescoreSettings; // initialisation in .h file inside    
}
@end

@implementation

// 1st method
- (void)1stmethod:(id) callingClass username:(NSString*)username {
    livescoreSettings=callingClass;   // retain count increases to 1 
    isLivescoresSettingsView = YES;

    //.... some code where the above livescoreSettings variables are not used ... //
}

// 2nd method  
- (void)2ndmethod:(id) callingClass username:(NSString*)username matchid:(NSString *)matchid  eventType:(NSString *) eventType  add:(NSString *) add {
    livescoreSettings=callingClass;
    isLivescoresSettingsView = YES;
    addEventToList = YES;

    //.... some code where the above livescoreSettings variables are not used ... //
}

// delegate method thats activated when the response comes 
- (BOOL)xmppStream:(XMPPStream *)sender didReceiveIQ:(XMPPIQ *)iq {
   // the block where the data is sent to a particular view to reload table 
   else if(isLivescoresSettingsView== YES || addEventToList == YES) {
    isLivescoresSettingsView=NO;
    addEventToList = NO;

     //.... some code where the above livescoreSettings variables are not used ... //

    if(success)
        NSLog(@"No Errors with retain count = %d ", [livescoreSettings retainCount]); 
    else
        NSLog(@"Error Error Error!!!");

    [livescoreSettings.tableView reloadData];

   // when **2ndmethod** is called there's no memory reference to  livescoreSettings, tableView delegate methods are not called which is obvious. But not sure why the retain count is reducing abruptly.
    }
}

@end 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-25T12:59:04.447

问题是您没有获得`livescoreSetting`正在传递给`1stmethod`or的所有权`2ndmethod`。如果您不使用 ARC，那么您将需要`retain`在这些方法和`release`您的方法中使用它**（**`dealloc`使用 MRR 时，只需将实例分配给`livescoreSetting`不会增加保留计数）。

 **想象一下如果`1stmethod`以这种方式调用：

```
LivescoreSettingsView *view = [[LivescoreSettingsView alloc] init];
[whateverItsCalled 1stmethod:view;         // (1)
[view release];                            // (2) 
```

然后`view`被分配到`whateverItsCalled.livescoreSetting`(1)，但保留计数为 1。在 (2) 之后，保留计数为 0，但`whateverItsCalled.livescoreSetting`现在是一个悬空指针，我很惊讶您没有看到像“发送到已释放的消息”这样的消息对象”而不是您看到的错误（我不明白为什么在`nil`不涉及 ARC 时将其分配给它）。

要解决此问题，您需要`synthesize`为实例变量添加一个 setter/getter 方法`@property`。我更喜欢使用前导下划线 ( `_`) 来命名实例变量，以将它们与 setter/getter 方法名称区分开来；所以：

.h 文件：

```
@interface WhateverItsCalled : NSObject
{
    LiveScoreSettingsView *_livescoreSetting;
}

@property (retain, nonatomic, readwrite) LiveScoreSettingsView *livescoreSetting; 
```

.m 文件：

```
@implementation WhateverItsCalled
@synthesize livescoreSetting = _livescoreSetting;

- (void)dealloc
{
    self.livescoreSetting = nil;           // Release the object by assigning nil
    [super dealloc];
}

- (void)firstmethod:(id) callingClass username:(NSString*)username
{
    self.livescoreSettings = callingClass;   // Note the use of self!
    isLivescoresSettingsView = YES;
}

- (void)secondmethod:(id)callingClass username:(NSString*)username matchid:(NSString *) matchid  eventType:(NSString *) eventType  add:(NSString *) add

{
    self.livescoreSettings = callingClass;   // Note the use of self!
    isLivescoresSettingsView = YES;
    addEventToList = YES;
} 
```**

# android - 片段中的片段

> ID：14473975
> 
> 赞同：0
> 
> 时间：2013-01-23T06:49:44.437
> 
> 标签：android, android-fragments

![在此处输入图像描述](../Images/6463ab5401c1400931b34213cc13045c.png)

在上图中，我想问一下 Fragment。如果片段 2 中有一个按钮，单击按钮并启动片段 3。片段 3 上的另一个按钮，单击返回片段 2。

有人可以告诉我如何解决它。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-23T06:54:07.897

您可以使用[fragmentManager](http://developer.android.com/reference/android/app/FragmentManager.html)在第二个中管理片段。

只需在“片段 2”占位符中启动新片段，然后按片段 3 中的按钮 - 返回片段 2。

另请查看此链接：[如何使用 FragmentManager 在 FrameLayout 中显示 Fragment A、B、C、...？](https://stackoverflow.com/questions/7790945/how-can-i-use-fragmentmanager-to-display-fragment-a-b-c-in-a-framelayout)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-23T06:59:16.833

“Fragments inside Fragments”对于这种情况并不是一个很好的描述。`FragmentActivity`您将首先拥有一个持有该片段的父级。Fragment 1 与您的情况无关，所以暂时搁置它。

片段 2 处的按钮要求`FragmentActivity`使用 向屏幕添加新片段`FragmentManager`。您想使用 将此步骤添加到后台堆栈`FragmentTransaction.addToBackStack(null)`，以便稍后返回片段 2。

片段 3 处的按钮要求 使用`FragmentActivity`将自己从屏幕上移除`FragmentManager.popBackStack()`。它就像浏览器的返回按钮。

# c - 如何避免c程序中的“分段错误”

> ID：14473977
> 
> 赞同：2
> 
> 时间：2013-01-23T06:49:51.153
> 
> 标签：c, linux, segmentation-fault

我已经为 Case Register 编写了 C 程序。我的程序运行良好。我用于`-Wall`编译。它没有显示任何警告。但是`problem is`，如果我想用`bash loop`诸如运行它`.test.sh | ./caseRegister`，输出如下所示：

```
:>>:1498.00
:>>:1499.00
:>>:1500.00
:>>:1501.00
:>>:1502.00
:>>:1503.00
:>>:1504.00
:>>:1505.00
:>>:1506.00
:>>:1507.00
:>>:1508.00
:>>:1509.00
:>>:1510.00
:>>:1511.00
:>>:1512.00
:>>:1513.00
:>>:1514.00
:>>:1515.00
:>>:1516.00
:>>:1517.00
:>>:1518.00
Segmentation fault 
```

那 test.sh 是：

```
#/bin/sh

i=1
run=1
for ((; ; ))
do
echo $i
#echo $((i++))
done 
```

为什么我的代码长期显示“分段错误”？请任何人解释我纠正它的原因和预防技术。提前谢谢你。

我的代码是：

```
#include <stdio.h>
#include <string.h>
#include <stdlib.h>
#include <ctype.h>
struct prod_details
{
    int no_prod;
    double total;
    double array[1024];
}pd;

char *getinput(char *inp)
{
    printf(":");
    gets(inp);
    if(strlen(inp) > 11)
    {
        printf("Input is restricted to 10 character\n");
        getinput(inp);
    }
    return inp;
}

void print()
{
    printf("Grant Total is : %.2f\n",pd.total);
}

int check(char *str)
{
    int i,minusflag=0,plusflag=0,optrflag=0;
    if(strlen(str) == 0)
        return 0;
    if(str[strlen(str) -1] == '+' || str[strlen(str) -1] == '-' || str[strlen(str) -1] == '*')
    {
        printf("last operator\n");
        return 1;
    }

    if(str[0] == '-')
    {
        i=1;
        while(str[i] != '-' )
        {
            if(str[i] == '\0')
            {
                minusflag=1;
                break;
            }
            i++;
        }
        if(str[i] == '-')
        {
            minusflag=0;
            return 1;
        }
    }
    if(str[0] == '-')

    {
        i=1;
        while(str[i] != '+' )

        {
            if(str[i] == '\0')
            {
                minusflag=1;
                break;
            }
            i++;
        }
        if(str[i] == '+')
        {
            minusflag=0;
            return 1;
        }
    }
    if(str[0] == '-' && minusflag == 1)
        return 2;
    if(str[0] == '+')
    {
        i=1;
        while(str[i] != '+')
        {
            if(str[i] == '\0')
            {
                plusflag=1;
                break;
            }
            i++;
        }
        if(str[i] == '+')
        {
            plusflag=0;
            return 1;
        }
    }
    if(str[0] == '+')
    {
        i=1;
        while(str[i] != '-' )
        {
            if(str[i] == '\0')
            {
                plusflag=1;
                break;
            }
            i++;
        }
        if(str[i] == '-')
        {
            plusflag=0;
            return 1;
        }
    }
    if(str[0] == '+' && plusflag == 1)
        return 2;
    if(str[0] == '*')
        return 1;
    if((str[0] == '+' || str[0] == '-') && (str[1] == '+' || str[1] == '-' || str[1] == '*' || str[1] == '/'  ))
        return 1;

    for(i=0;i<strlen(str);i++)
    {
        if(((str[i] >= '!' && str[i] <= '/') || (str[i] >= ':' && str[i] <= '~')))
        {
            if(str[i] == '*' || str[i] == '+' || str[i] == '-' || str[i] == '/')
            {
                optrflag++;
            }
            else
                return 1;
        }
    }
    if(optrflag == 1)
        return 3;
    else if(optrflag > 1)
        return 1;
    return 2;
}

int expcalc(char *str)
{
    char copy[10];
    char op;
    char *temp;
    char numb[10],numf[10];
    printf("Start of expcal\n");
    int i;
    double result=0;

    for(i=0;i<strlen(str);i++)
    {
        if(str[i] == '+' || str[i] == '-' || str[i] == '*' || str[i] == '/')
        {
            op = str[i];
        }
    }
    strcpy(copy,str);
    i=0;
    while(str[i] != op)
    {
        numf[i] = str[i];
        i++;
    }
    numf[i] ='\0';
    temp=strchr(copy,op);
    i=1;
    printf("\n");
    while(temp[i] != '\0')
    {
        numb[i-1] = temp[i];
        i++;
    }
    numb[i-1] = '\0';
    switch(op)
    {
        case '+':
            result=atof(numf)+atof(numb);
            break;
        case '-':
            result=atof(numf)-atof(numb);
            break;
        case '*':
            result=atof(numf)*atof(numb);
            break;
        case '/':
            result=atof(numf)/atof(numb);
            break;
        default:
            break;
    }
    printf("%.2f\n",result);
    if((pd.total+result) < 0)
    {
        printf("Couldn't calculate\n");
        return 0;
    }
    pd.array[pd.no_prod]=result;
    pd.total=pd.total+result;
    printf(">>:%.2f\n",pd.total);
    pd.no_prod++;
    return 0;
}

int calc(char *str)
{
    if((pd.total+atof(str)) < 0)
    {
        printf("Coundn't Calculate\n");
        return 0;
    }
    pd.array[pd.no_prod]=atof(str);
    pd.total=pd.total+pd.array[pd.no_prod];
    printf(">>:%.2f\n",pd.total);
    pd.no_prod++;
    return 0;
}
int call()
{
    int chkflg;
    char input[1024];
    getinput(input);
    chkflg=check(input);
    if(chkflg == 3)
    {
        expcalc(input);
        call();
    }
    else if(chkflg == 2)
    {
        calc(input);
        call();
    }
    else if(chkflg == 1)
    {
        printf("You have entered Wrogly!!!\n Please enter correctly\n");
        call();
    }
    else
    {
        print();
        return 1;
    }
    return 0;
}

int main()
{
    printf("..CASE  RIGISTER..\n");
    call();
    return 0;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-23T07:26:11.393

pd.array 只有 1024 个结果的空间。在写入之前，您必须检查 no_prod 是否 < 1024，否则您将写入未分配的内存，这就是给您带来分段错误的原因。一旦 no_prod 达到 1024，您必须中止程序（我假设您尚未使用动态分配）。

不过，最好不要在检查时实际写入 1024，而是使用宏来确定数组大小（如果您也没有使用宏，请不要担心这一点）。

# python - Python 图像检测 PDF

> ID：14473981
> 
> 赞同：0
> 
> 时间：2013-01-23T06:50:21.370
> 
> 标签：python, pdf, image-processing

如何检测 PDF 文件中的图像（Python）。

我必须检测该图像是否存在于 PDF 文件中。有没有办法这样做。

我已经尝试过 PyPdf 但没有成功。请帮我

感谢任何回应赞赏

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-23T07:36:25.937

有PDFMiner。它还有一个[Python-API](http://www.unixuser.org/~euske/python/pdfminer/programming.html)。这可以帮助您搜索图像。通过使用：

```
from pdfminer.layout import LAParams
from pdfminer.converter import PDFPageAggregator

# Set parameters for analysis.
laparams = LAParams()
# Create a PDF page aggregator object.
device = PDFPageAggregator(rsrcmgr, laparams=laparams)
interpreter = PDFPageInterpreter(rsrcmgr, device)
for page in doc.get_pages():
    interpreter.process_page(page)
    # receive the LTPage object for the page.
    layout = device.get_result() 
```

`layout`是一个`LTPage`-object，它基本上是一个页面上所有布局对象的树。你可以沿着这棵树的所有分支走，并检查`LTImage`某处是否有 -object - 然后你知道有一个图像。

PDFMiner 仅适用于 Python 2.x。

# objective-c - 核心图像 CIImage 8 位灰度

> ID：14473982
> 
> 赞同：2
> 
> 时间：2013-01-23T06:50:25.130
> 
> 标签：objective-c, macos, cocoa, image-processing, core-image

我想做两件事：
1）将 8 位灰度图像加载为 8 但灰度图像
2）将其保存为 8 位灰度图像

我尝试通过 [CIImage imageWithContentsOfURL:options]` 将图像加载到 CIImage。据我了解，我可以在项目选项中指定一些选项。但我没有找到任何信息如何做到这一点。在参考 CIImage 我发现只有这些像素格式：

```
extern CIFormat kCIFormatARGB8;
extern CIFormat kCIFormatRGBA16;
extern CIFormat kCIFormatRGBAf;
extern CIFormat kCIFormatRGBAh; 
```

这是什么意思？我无法通过 CIImage 加载和保存 8 位灰度图像？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T05:48:53.340

不，没有 8 位灰度的格式。你想做什么？还有其他方法可以使用 8 位灰度创建图像，但如果没有更多信息，很难告诉您建议什么。

如果您要使用 CoreImage 来操作它，您需要将其放入上面提到的 RGB 格式之一。但是，如果您不打算使用 CoreImage 来操作它，您可能能够以您想要的格式创建一个`NSImage`（通过创建一个[`NSBitmapImageRep`](https://developer.apple.com/library/mac/#documentation/cocoa/reference/applicationkit/classes/nsbitmapimagerep_class/Reference/Reference.html#//apple_ref/doc/uid/20000347-DontLinkElementID_4)）或一个 CGImage（参见 参考资料[`CGImageCreate()`](https://developer.apple.com/library/mac/#documentation/GraphicsImaging/Reference/CGImage/Reference/reference.html)）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2021-04-13T01:13:22.477

将 CIImage 保存为灰度图像格式就像这样简单：

```
CGColorSpaceRef cs = CGColorSpaceCreateWithName(kCGColorSpaceGenericGrayGamma2_2);
NSData *outData = [ctx PNGRepresentationOfImage:input
                          format:kCIFormatL8
                          colorSpace:cs
                          options:@{}]; 
```

# google-sheets - 如何通过 Google 电子表格 API 在 Google 电子表格中编辑单元格或单元格范围的颜色

> ID：14473990
> 
> 赞同：0
> 
> 时间：2013-01-23T06:51:09.917
> 
> 标签：google-sheets, google-spreadsheet-api

我正在使用*Java* **Google 电子表格 API**并希望**更改****单元格**或单元格**范围**的**颜色**。我已经浏览了 api 文档

 ****1.  [https://developers.google.com/google-apps/spreadsheets/#sharing_contents_of_a_cell](https://developers.google.com/google-apps/spreadsheets/#changing_contents_of_a_cell) 和类

2.  [https://developers.google.com/gdata/javadoc/com/google/gdata/data/spreadsheet/CellEntry](https://developers.google.com/gdata/javadoc/com/google/gdata/data/spreadsheet/CellEntry)

3.  [https://developers.google.com/gdata/javadoc/com/google/gdata/data/spreadsheet/Cell](https://developers.google.com/gdata/javadoc/com/google/gdata/data/spreadsheet/Cell)

但找不到方法

任何帮助都会很棒。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-27T20:00:55.593

我可能错了，但我认为这不可能通过 Java API 实现。

不过可以通过[Google Apps Script API](https://developers.google.com/apps-script/class_range#setBackgroundColor)实现。****

# android - Android 点对点技术

> ID：14473993
> 
> 赞同：0
> 
> 时间：2013-01-23T06:51:23.883
> 
> 标签：android, google-tv

现在我们很快就拥有了智能手机、平板电脑、GoogleTV、联网手表和 Google 课程，对 Android 点对点技术的需求正在上升。您对连接设备有何看法？

我需要专注于 MOVL 和 AllJoyn 等框架，还是编写自己的自定义框架？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-31T01:10:25.507

众所周知，Google/YouTube 正在努力使用 DIAL 协议来发现网络设备并在联网设备上启动应用程序。

我自己的测试表明，每台 Google TV 设备上都有一个 DIAL 服务器。但是使用 dial-multiscreen.org 上的文档，我只能让协议的发现部分正常工作。这意味着我可以找到网络上的所有 DIAL 服务器，但我无法在这些设备上启动或控制任何应用程序。当 YouTube 移动应用程序将视频“投递”到 Google TV 设备时，查看网络上的数据包，我可以看到发现部分也被使用。但是还有其他未记录的 TCP 流量，这可能是 YouTube 应用程序如何在 Google TV 设备上播放视频。所以看起来 DIAL 的东西正在为 Google 开发，而 dial-multiscreen.org 网站主要是为开发人员准备使用该协议开发第二屏应用程序。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T10:00:21.800

找到有关*网络服务发现*和*WiFi Direct*的 Google 培训课程。

[http://developer.android.com/training/connect-devices-wireless/index.html](http://developer.android.com/training/connect-devices-wirelessly/index.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-09T01:34:16.493

我认为 DIAL 听起来很有前途，因为它似乎已经得到了许多大公司的支持。我希望 Google 将其直接集成到 Android 中，以便 Intent 可以直接映射到 DIAL 命令，并且 Action_VIEW-intent 的 app-Picker 可以直接提供 DIAL 兼容设备。当然，他们也必须让 Anymote 使用 DIAL。我真的希望在 I/O 和 KeyLimePie 中看到类似的东西。

但只要这一切都不是现实，我认为 ANI ( [https://github.com/pocmo/Android-Network-Intents](https://github.com/pocmo/Android-Network-Intents) ) 值得一看。