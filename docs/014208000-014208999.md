# StackOverflow 问答 14208000-14208999

# charts - 如何从 Crystal Reports 饼图中删除标签

> ID：14208000
> 
> 赞同：0
> 
> 时间：2013-01-08T04:00:08.227
> 
> 标签：charts, crystal-reports, report, reporting, crystal-reports-2008

我对 Crystal Reports 相当陌生，无法弄清楚如何从 Crystal Reports 饼图中删除标签。有人可以告诉我需要更改什么属性才能从饼图中删除标签吗？我附上了一个带有示例的屏幕截图。谢谢...

![从水晶饼图中删除的标签](../Images/d91fc35a575063f5189c1103f78e2528.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T17:00:02.120

右键单击图表并选择图表专家。单击选项选项卡，然后取消选中显示标签。单击确定，应该就是这样！

# logging - 将屏幕（程序）输出保存到文件

> ID：14208001
> 
> 赞同：160
> 
> 时间：2013-01-08T04:00:23.827
> 
> 标签：logging, buffer, dump, gnu-screen

我需要将[Screen](https://en.wikipedia.org/wiki/GNU_Screen)的整个输出保存到文件中，以便稍后检查所有内容。

原因是我正在通过串行端口转储闪存，使用 Screen 与之交互。我想将其保存到文件中以检查内存结构。

我试过了：

```
$: screen /dev/ttyUSB0 115200 >> foo.txt
$: screen /dev/ttyUSB0 115200 | tee foo.txt 
```

而且我也尝试过从屏幕使用缓冲区文件，但我不明白如何使用它。

有没有简单的方法？

* * *

## 回答 #1

> 赞同：160
> 
> 时间：2014-03-06T14:46:50.063

有一个用于记录的命令行选项。输出保存到 screenlog.n 文件，其中 n 是屏幕的编号。从屏幕的手册页：

> '-L' 告诉屏幕打开窗口的自动输出记录。

* * *

## 回答 #2

> 赞同：125
> 
> 时间：2013-07-22T07:05:24.530

您还可以使用 Control-a + H 将日志记录保存到 screenlog.n 文件中。再按一次 Control-a + H 关闭。

Ca H：开始/结束将当前窗口记录到文件“screenlog.n”。

* * *

## 回答 #3

> 赞同：39
> 
> 时间：2018-02-05T00:05:31.400

以下命令适用于 Screen 版本 4.06.02：

```
screen -L -Logfile Log_file_name_of_your_choice command_to_be_executed 
```

从[Screen 的手册页](https://linux.die.net/man/1/screen)：

```
-Logfile file : By default logfile name is "screenlog.0".
                You can set new logfile name with the "-Logfile" option. 
```

您可以使用**screen -version**检查现有的*Screen*版本。[您可以从https://www.gnu.org/software/screen/](https://www.gnu.org/software/screen/)下载并安装最新的*Screen*版本。

 **** * *

## 回答 #4

> 赞同：25
> 
> 时间：2016-06-01T04:16:00.833

所选答案不适用于多个会话，并且不允许指定自定义日志文件名。

对于多个屏幕会话，这是我的公式：

1.  为每个进程创建一个配置文件：

    ```
    logfile test.log
    logfile flush 1
    log on
    logtstamp after 1
    logtstamp string "[ %t: %Y-%m-%d %c:%s ]\012"
    logtstamp on 
    ```

    如果您想“即时”进行，您可以`logfile`自动更改。 `\012`表示“新行”，因为 using`\n`会将其打印在日志文件中：[source](http://blog.endpoint.com/2013/07/gnu-screen-logtstamp-string.html)。

2.  使用“-c”和“-L”标志启动您的命令：

    ```
    screen -c ./test.conf -dmSL 'Test' ./test.pl 
    ```

    而已。第一次刷新后你会看到“test.log”：

    ```
    ...
    6 Something is happening...
    [ test.pl: 2016-06-01 13:02:53 ]
    7 Something else...
    [ test.pl: 2016-06-01 13:02:54 ]
    8 Nothing here
    [ test.pl: 2016-06-01 13:02:55 ]
    9 Something is happening...
    [ test.pl: 2016-06-01 13:02:56 ]
    10 Something else...
    [ test.pl: 2016-06-01 13:02:57 ]
    11 Nothing here
    [ test.pl: 2016-06-01 13:02:58 ]
    ... 
    ```

我发现即使配置文件上有“登录”，仍然需要“-L”。

我找不到屏幕使用的时间格式变量列表（如 %m）。如果您有这些格式的链接，请在下面发布。

### 额外的

如果您想“即时”执行此操作，可以使用此脚本：

```
#!/bin/bash
if [[ $2 == "" ]]; then
    echo "Usage: $0 name command";
    exit 1;
fi
name=$1
command=$2
path="/var/log";
config="logfile ${path}/${name}.log
logfile flush 1
log on
logtstamp after 1
logtstamp string \"[ %t: %Y-%m-%d %c:%s ]\012\"
logtstamp on";
echo "$config" > /tmp/log.conf
screen -c /tmp/log.conf -dmSL "$name" $command
rm /tmp/log.conf 
```

要使用它，请保存它（screen.sh）并设置 +x 权限：

```
./screen.sh TEST ./test.pl 
```

...并将执行 ./test.pl 并在 /var/log/TEST.log 中创建一个日志文件

* * *

## 回答 #5

> 赞同：17
> 
> 时间：2014-09-29T06:36:58.630

对于 Mac 终端：

```
script -a -t 0 out.txt screen /dev/ttyUSB0 115200 
```

### 细节

*   `script`：一个内置应用程序“制作终端会话的打字稿”
*   `-a`: 附加到输出文件
*   `-t 0`：写入输出文件之间的时间为 0 秒，因此 out.txt 会针对每个新字符更新
*   `out.txt`: 只是输出文件名
*   `screen /dev/ttyUSB0 115200`: 用于连接外部设备的问题命令

然后，您可以使用[tail](https://en.wikipedia.org/wiki/Tail_(Unix))查看文件是否正在更新。

```
tail -100 out.txt 
```

* * *

## 回答 #6

> 赞同：11
> 
> 时间：2017-07-16T16:53:42.800

`Ctrl+A`然后`Shift+H`为我工作。`screenlog.0`您可以在程序仍在运行时查看文件。

* * *

## 回答 #7

> 赞同：9
> 
> 时间：2020-02-07T20:00:17.770

如果您需要从已经在运行的屏幕中保存整个回滚缓冲区的输出，则有不同的答案：

```
Ctrl-a [ g SPACE G $ >. 
```

这会将您的整个缓冲区保存到 /tmp/screen-exchange

* * *

## 回答 #8

> 赞同：7
> 
> 时间：2020-05-29T12:24:51.683

现有的屏幕日志可以通过以下方式保存：

`Ctrl+A` `:`硬拷贝 -h 文件名

* * *

## 回答 #9

> 赞同：6
> 
> 时间：2018-07-13T08:48:50.400

这里有个窍门：把它包起来`sh -c`！

```
screen sh -c './some-script 2>&1 | tee mylog.log' 
```

where`2>&1`将 stderr 重定向到 stdout，以便`tee`捕获和记录错误消息。

* * *

## 回答 #10

> 赞同：5
> 
> 时间：2013-01-08T04:05:43.780

Unix 下的“脚本”命令应该可以解决问题。只需在新控制台的开始处运行它，你应该会很好。

* * *

## 回答 #11

> 赞同：5
> 
> 时间：2014-02-13T23:33:53.977

以下可能有用（测试于：Linux/ [Ubuntu 12.04](https://en.wikipedia.org/wiki/Ubuntu_version_history#Ubuntu_12.04_LTS_.28Precise_Pangolin.29)（Precise Pangolin））：

```
cat /dev/ttyUSB0 
```

使用上述内容，您可以执行所需的所有重定向。例如，要在保存到文件的同时将输出转储到控制台，您可以：

```
cat /dev/ttyUSB0 | tee console.log 
```

* * *

## 回答 #12

> 赞同：0
> 
> 时间：2021-11-19T13:12:06.347

找到一个干净的解决方案花了我很多钱，虽然以前的回复很好，但我发现这更直接。此命令将等待 5 秒以将输出写入文件。'sudo' 部分取决于您的环境

```
screen -dm bash -c 'sleep 5;echo "done" | sudo tee ./test.txt' 
```***

# sql-server - SQL Server 数据库优化策略

> ID：14208010
> 
> 赞同：3
> 
> 时间：2013-01-08T04:01:24.550
> 
> 标签：sql-server, database, sql-server-2012

我正在为医疗办公室使用 SQL Server 开始一个新项目。他们当前的数据库 (SQL Server 2008) 有超过 500,000 行，跨越 15 个以上的表。目前，他们抱怨他们的数据输入应用程序生成报告和插入新数据的速度非常慢。

对于我的新系统，我正在考虑开发一种两层数据库方法，其中主要使用的 SQL Server 2012 将仅包含 3 个月的行，而第二个 SQL Server 2012 将维护系统的所有数据。这样，当用户插入新数据时，它将被输入到一个更小的系统中，当他们查询最近的数据时，查询应该执行得更快。这个系统也会有报告，但我认为报告必须从更大的数据集中生成。

我的问题如下

1.  这样的解决方案会提高数据库的整体性能吗
2.  此解决方案是否存在任何可扩展性问题？
3.  每晚在两台服务器之间传输数据的最佳方式是什么？

如果我的解决方案没有意义，请随时提供任何其他解决方案。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-08T04:07:28.993

不要这样做。将您的应用程序拆分为多个数据库将是一场管理噩梦。另外，假设记录的大小合理，那么 500k 记录并不多。

相反，追求低垂的果实。打开日志记录并查看访问模式。哪些查询很慢？找出原因。他们缺少索引吗？可以简化查询吗？调试问题。

请记住，有时在问题上扔硬件是正确的解决方案。如果你能用 800 美元的服务器解决问题，那就去做吧。这比你的时间便宜很多。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T04:17:35.257

插话：50 万条记录并没有那么大。您应该能够使数据库非常快速地工作，就像通过一些调整一样。

# php - $_get 并包含 php

> ID：14208011
> 
> 赞同：-3
> 
> 时间：2013-01-08T04:01:27.903
> 
> 标签：php, get, include

```
if (isset($_GET["nav"])) {
    if (!empty($_GET)) {
        $linkn = $_GET['nav'];
        if ($linkn == "nav1") {
            include("nav1.php");
        }
        if ($linkn == "nav2") {
            include("nav2.php");
        }
    } 
    else {
        include("nav1.php");
    }
} 
```

我似乎无法了解 nav2.php 任何想法？

对不起，我在建造它时很着急。这里发生的事情是在我的 index.php 右导航中，我已经为我的导航分离了 php，即 nav1、nav2。但我似乎无法通过导航进行更改，我有这段代码，我知道缺少一些东西。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T04:10:48.230

```
$include = $_GET;
//Allowed navigations
$allowed = array('nav1', 'nav2');

//var must exist, have value and exist in allowed array
if (isset($_GET["nav"]) && !empty($_GET) && in_array($include, $allowed)){ 
  include($include.'.php');      
} else {
  include('nav1.php');
} 
```

# javascript - 如何获取 XML 标记内的内容以创建数组？

> ID：14208015
> 
> 赞同：0
> 
> 时间：2013-01-08T04:01:51.087
> 
> 标签：javascript, jquery, xml, jquery-selectors

这是`XML`文件：

```
<SketchPad>
<Player>
    <TotalPage>2</TotalPage>
    <BackgroundImage>/Users/ltlab/Library/Application Support/iPhone Simulator/5.1/Applications/D84490FE-3450-456C-A8FE-16BE8B1EB12C/Documents/publicUser_1356864779.441782_local.png</BackgroundImage>
    <Name>1</Name>
    <SelfBackgroundImage>sound.png</SelfBackgroundImage>
    <Type>Record</Type>
    <X_Value>0.000000</X_Value>
    <Y_Value>38.000000</Y_Value>
    <Height_Value>50.000000</Height_Value>
    <Width_Value>50.000000</Width_Value>
    <File_Path>null</File_Path>
</Player>
<Player>
    <TotalPage>2</TotalPage>
    <BackgroundImage>/Users/ltlab/Library/Application Support/iPhone Simulator/5.1/Applications/D84490FE-3450-456C-A8FE-16BE8B1EB12C/Documents/publicUser_1356864779.441782_local.png</BackgroundImage>
    <Name>1</Name>
    <SelfBackgroundImage>8_128x128.png</SelfBackgroundImage>
    <Type>Stamp</Type>
    <X_Value>7.000000</X_Value>
    <Y_Value>716.000000</Y_Value>
    <Height_Value>80.000000</Height_Value>
    <Width_Value>80.000000</Width_Value>
    <File_Path>null</File_Path>
</Player>
<Player>
    <TotalPage>2</TotalPage>
    <BackgroundImage>/Users/ltlab/Library/Application Support/iPhone Simulator/5.1/Applications/D84490FE-3450-456C-A8FE-16BE8B1EB12C/Documents/publicUser_1356864779.441782_local.png</BackgroundImage>
    <Name>1</Name>
    <SelfBackgroundImage>duck.png</SelfBackgroundImage>
    <Type>Stamp</Type>
    <X_Value>570.000000</X_Value>
    <Y_Value>715.000000</Y_Value>
    <Height_Value>80.000000</Height_Value>
    <Width_Value>80.000000</Width_Value>
    <File_Path>null</File_Path>
</Player>
</SketchPad> 
```

我想要做的是收集标签内的所有数据。

```
$(xml).find("X_Value").toArray(); 
```

但它返回一个仍然包含标签的数组，如下所示：

`[<x_value>0.0000000<x_value>,<x_value>7.0000000<x_value>,<x_value>570.0000000<x_value>]`

不是预期的数组： `[0.0000000,7.0000000,570.0000000]`

如何直接提取标签内的值，制作一个数组？

我真的不知道如何操作`jQuery.map()`.

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-08T04:03:54.590

改用这个...

```
$(xml).find("X_Value").map(function() { return $(this).text(); }).get(); 
```

您之前的示例正在获取对这些元素的引用。这将用内部文本替换引用。

# r - 在 R 中找到最佳匹配的重叠多边形

> ID：14208016
> 
> 赞同：5
> 
> 时间：2013-01-08T04:02:11.743
> 
> 标签：r, maps, gis, polygons

我有两个 shapefile 已使用 readOGR() 作为 SpatialPolygonsDataFrame 对象读入 R。两者都是具有不同内部边界的新西兰地图。一个有大约 70 个多边形，代表领土当局的边界；另一个有大约 1900 个代表区域单位。

我的目标 - 一个更大项目的一个令人讨厌的基本部分 - 是使用这些地图生成一个参考表，可以查找一个区域单元并返回它主要位于哪个领土权威。我可以使用 over() 来查找哪些多边形重叠，但在许多情况下，地区单位似乎至少在一小部分属于多个地区当局——尽管从个别情况来看，通常 90% 以上的地区单位都在一个地区当局中。

是否有一个现成的手段来完成 over() 的作用，但它不仅可以识别（或什至不能）所有重叠的多边形，而且在每种情况下，几个重叠的多边形中哪一个是最重叠的？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-09T05:58:13.573

这是完成这项工作的代码，借鉴了@Silverfish 的答案

```
library(sp)
library(rgeos)
library(rgdal)

###
# Read in Area Unit (AU) boundaries
au <- readOGR("C:/Users/Peter Ellis/Documents/NZ", layer="AU12")

# Read in Territorial Authority (TA) boundaries
ta <- readOGR("C:/Users/Peter Ellis/Documents/NZ", layer="TA12")

###
# First cut - works ok when only one TA per area unit
x1 <- over(au, ta)
au_to_ta <- data.frame(au@data, TAid = x1)

###
# Second cut - find those with multiple intersections
# and replace TAid with that with the greatest area.

x2 <- over(au, ta, returnList=TRUE)

# This next loop takes around 10 minutes to run:
for (i in 1:nrow(au_to_ta)){
    tmp <- length(x2[[i]])
    if (tmp>1){
        areas <- numeric(tmp)
        for (j in 1:tmp){
            areas[j] <- gArea(gIntersection(au[i,], ta[x2[[i]][j],]))
            }
#       Next line adds some tiny random jittering because
#       there is a case (Kawerau) which is an exact tie
#       in intersection area with two TAs - Rotorua and Whakatane

        areas <- areas * rnorm(tmp,1,0.0001)

        au_to_ta[i, "TAid"] <- x2[[i]][which(areas==max(areas))]
    }

}

# Add names of TAs
au_to_ta$TA <- ta@data[au_to_ta$TAid, "NAME"]

####
# Draw map to check came out ok
png("check NZ maps for TAs.png", 900, 600, res=80)
par(mfrow=c(1,2), fg="grey")
plot(ta, col=ta@data$NAME)

title(main="Original TA boundaries")
par(fg=NA)
plot(au, col=au_to_ta$TAid)
title(main="TA boundaries from aggregated\nArea Unit boundaries")
dev.off() 
```

![在此处输入图像描述](../Images/66d477431b367760102a33271e427178.png)

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-01-08T04:32:23.550

我认为地理信息系统 SE 已经涵盖了您想要的内容：

[https://gis.stackexchange.com/questions/40517/using-r-to-calculate-the-area-of-multiple-polygons-on-a-map-that-intersect-with?rq=1](https://gis.stackexchange.com/questions/40517/using-r-to-calculate-the-area-of-multiple-polygons-on-a-map-that-intersect-with?rq=1)

特别是如果您的领土多边形是 T1、T2、T3 等，而您要分类的多边形是 A，可能想`gArea`在`gIntersection`A 和 T1 上使用，然后是 A 和 T2，然后是 A 和 T3 等，然后选择哪个有最大面积。（你需要这个`rgeos`包。）

# cron - 石英调度程序作业连续运行，忽略 cron 调度

> ID：14208020
> 
> 赞同：1
> 
> 时间：2013-01-08T04:02:35.287
> 
> 标签：cron, quartz-scheduler, scheduler, continuous, cronexpression

我在集群模式下`spring 3.0.6`与`quartz 2.1.6`oracle db 一起使用，我正在使用所有石英 api，因为我遇到了支持 spring 的石英 api 的问题。

我的作业类中有一些未初始化的依赖项，我在调度程序上下文中传递了这些依赖项，然后它就开始工作了。

问题是我的 cron 表达式是每 5 分钟运行一次，`(0 0/5 * * * ?)`但它会继续连续运行我的作业。

我创建了作业，在 spring 上下文中触发，然后将其传递给 scheduler.scheduleJob 方法

我不知道为什么它会不断地执行这些工作，任何帮助都将不胜感激。谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T04:53:09.537

工作需要多长时间？是在最后一个完成之前重新开始吗？

文档中有一个定期 SimpleTrigger 的示例。这对您来说可能比 CronTrigger 更简单：

[http://quartz-scheduler.org/documentation/quartz-2.1.x/tutorials/tutorial-lesson-05](http://quartz-scheduler.org/documentation/quartz-2.1.x/tutorials/tutorial-lesson-05)

# javascript - 如何在未选中复选框时显示Javascript确认框，然后如果用户选择取消，则选中复选框？

> ID：14208022
> 
> 赞同：5
> 
> 时间：2013-01-08T04:02:45.557
> 
> 标签：javascript, html, checkbox

我有一个`html form`带有三个复选框的小复选框，每个`row`. 我想`javascript confirm box`在用户取消选中该框时进行显示，然后如果用户选择取消，则`checkbox`保持选中状态。我已经搜索了这个网站和其他一些网站，但几乎所有内容都与`checkbox`被检查有关，比如他们是否必须同意某些条款或其他内容。我很陌生，`Javascript`但是我尝试根据我应该看起来的功能创建一个功能，但它不起作用。

这是我的表格：

```
<form action="" method="post">
  <table id="table">
    <tr>
      <td>Checkbox One</td>
      <td align="center">
        <input type="checkbox" name="check1" checked="checked" onchange="cTrig(this.name)"></input>
      </td>
    </tr>
    <tr>
      <td>Checkbox Two</td>
      <td align="center">
        <input type="checkbox" name="check2" checked="checked" onchange="cTrig(this.name)"></input>
      </td>
    </tr>
    <tr>
      <td>Checkbox Three</td>
      <td align="center">
        <input type="checkbox" name="check3" checked="checked" onchange="cTrig(this.name)"></input>
      </td>
    </tr>
    <tr align="center">
      <td colspan="2">
        <input type="submit" name="submit" value="submit"></input>
      </td>
    </tr>
  </table>
</form> 
```

这是我尝试过的功能，但不起作用：

```
function cTrig(name) {
  if (name.checked == true) {
    confirm("Are you sure you want to do this?");
    return true;
  } else {
    return false;
  }
} 
```

这是一个[jsfiddle](http://jsfiddle.net/RbENV/1/)

我更喜欢 in 的东西，`Javascript`因为我想在进入 之前更熟悉该语言`jquery`，但如果必须在 中完成`jquery`，那很好。干杯。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-08T04:20:27.750

试试这种方式

```
<form action="" method="post">
  <table id="table">
    <tr>
      <td>Checkbox One</td>
      <td align="center">
        <input type="checkbox" name ="check1" id="check1" checked='checked' onchange="cTrig('check1')"></input>
      </td>
    </tr>
    <tr>
      <td>Checkbox Two</td>
      <td align="center">
        <input type="checkbox" name="check2" id="check2" checked='checked' onchange="cTrig('check2')"></input>
      </td>
    </tr>
    <tr>
      <td>Checkbox Three</td>
      <td align="center">
        <input type="checkbox" id="check3" name="check3" checked='checked' onchange="cTrig('check3')"></input>
      </td>
    </tr>
    <tr align="center">
      <td colspan="2">
        <input type="submit" name="submit" value="submit"></input>
      </td>
    </tr>
  </table>
</form> 
```

*通过使用元素 ID*

```
function cTrig(clickedid) { 
      if (document.getElementById(clickedid).checked == true) {
        return false;
      } else {
       var box= confirm("Are you sure you want to do this?");
        if (box==true)
            return true;
        else
           document.getElementById(clickedid).checked = true;

      }
    } 
```

[工作演示](http://jsfiddle.net/RbENV/8/)

*通过使用名称*

```
function cTrig(clickedid) { 
      if (document.getElementsByName(clickedid)[0].checked == true) {
        return false;
      } else {
       var box= confirm("Are you sure you want to do this?");
        if (box==true)
            return true;
        else
           document.getElementsByName(clickedid)[0].checked = true;

      }
    } 
```

[演示使用元素名称](http://jsfiddle.net/RbENV/11/)

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-01-08T05:18:43.063

我会这样做：

你的表格：

```
<form action="" method="post">
  <table id="table">
    <tr>
      <td>Checkbox One</td>
      <td align="center">
        <input type="checkbox" name="check1" checked="checked" onchange="cTrig(this)"></input>
      </td>
    </tr>
    <tr>
      <td>Checkbox Two</td>
      <td align="center">
        <input type="checkbox" name="check2" checked="checked" onchange="cTrig(this)"></input>
      </td>
    </tr>
    <tr>
      <td>Checkbox Three</td>
      <td align="center">
        <input type="checkbox" name="check3" checked="checked" onchange="cTrig(this)"></input>
      </td>
    </tr>
    <tr align="center">
      <td colspan="2">
        <input type="submit" name="submit" value="submit"></input>
      </td>
    </tr>
  </table>
</form> 
```

的JavaScript：

```
function cTrig(box) {
  if (!box.checked) {
    if (!confirm("Are you sure you want to do this?")) {
        box.checked = true;
    }
  }
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-08T04:18:00.230

使用 jQuery（因为它更好）但如果需要我可以不用它：

```
$('#check1').change(function(){
    if($("#check1").prop('checked') == false)
    {
        var i = window.confirm("Sure?");
        if(i == true)
        {
            $("#check1").prop('checked', false);
        }
        else
        {
            $("#check1").prop('checked', true);
        }
    }
}); 
```

这还假设您为每个复选框分配了一个 id，这是您需要的。在这种情况下，名称不会削减它。

```
<input type="checkbox" id="check1" name="check1" checked="checked"></input> 
```

ETC...

[http://jsfiddle.net/RbENV/10/](http://jsfiddle.net/RbENV/10/)

请注意，我使用本机方式进行确认对话，但使用[jQuery UI](http://jqueryui.com/)您可以更多地控制该框。

编辑：添加了一个检查以确保它仅在您取消选中它时发生。错过了那部分。（请注意，您检查是否为 false，因为当更改事件触发时，更改已经发生）

# javascript - 使用 TeeChart Javascript/HTML5 在多个轴中的轴标题角度和显示时间

> ID：14208031
> 
> 赞同：0
> 
> 时间：2013-01-08T04:04:29.677
> 
> 标签：javascript, teechart

使用 `TeeChart Javascript/HTML5`

```
Chart1.axes.items[0] = Chart1.axes.left;      
Chart1.axes.items[4] = Chart1.axes.add(false,false); 
```

1.  首次加载时，只会显示 Chart1.axes.items[0].Title.Text ，
    直到`MouseMove`显示 Chart1.axes.items[4].Title.Text ,Chart1.axes.items[5].Title.Text。 ..ETC

    任何解决方案都可以在第一次加载时按时显示所有轴标题吗？

2.  在 Y 轴中，Axes.Title 总是垂直的，我希望它是水平的

    任何方法设置 Axes.Title.Angle 或将其设置为水平？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-11T15:52:59.300

> 1.  首次加载时，仅显示 Chart1.axes.items[0].Title.Text 直到 MouseMove，它显示 Chart1.axes.items[4].Title.Text ,Chart1.axes.items[5].Title.Text ...ETC
>     
>     
>     
>     任何解决方案都可以在第一次加载时按时显示所有轴标题吗？

我们已经为下一个维护版本修复了它。感谢您报告它。

> 1.  在 Y 轴中，Axes.Title 总是垂直的，我希望它是水平的
>     
>     
>     
>     任何方法设置 Axes.Title.Angle 或将其设置为水平？

我们为所有轴标题实现了一个新的旋转属性。

```
Chart1.axes.left.title.rotation = 90; 
```

这也将在下一个维护版本中提供，并且现在可以使用 0、90 和 270 度。

# javascript - 是否可以在打开的 javascript 窗口中访问 DOM？

> ID：14208037
> 
> 赞同：3
> 
> 时间：2013-01-08T04:05:31.043
> 
> 标签：javascript

使用 javascript，我可以按如下方式打开和关闭弹出窗口。

```
var myWindow = window.open('http://example.org/');
// do things to window.
myWindow.close(); 
```

在关闭弹出窗口之前，如何在弹出窗口中操作页面的 DOM 元素？我试过了

```
myWindow.onready = function() {
    myWindow.document.getElementById('someElementID').style.color = '#f00';
} 
```

无济于事。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-08T04:16:09.673

没有事件让您知道 URL 已在弹出窗口中正确加载。唯一可行的选择是设置超时然后访问元素。

像这样：

```
var myWindow = window.open('./t6.html');  

setTimeout(check, 3000);

console.log($('body', myWindow.document)); // This shows a blank "body"

function check() {
    console.log($('body', myWindow.document)); // This shows the actual elements in the document
}

myWindow.close(); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-08T04:12:47.117

[这是一个小提琴](http://jsfiddle.net/H3FG5/)，它演示了它在没有准备好的处理程序的情况下工作。

```
var myWindow = window.open('http://example.org/');
alert(myWindow)
// Alerts an HTMLDocument object 
```

就像评论中提到的@jfriend00 一样，没有针对[Window 对象](https://developer.mozilla.org/en-US/docs/DOM/window)的现成事件处理程序。

# mvvm - MVVM 有什么用？视窗电话 8

> ID：14208038
> 
> 赞同：3
> 
> 时间：2013-01-08T04:05:30.903
> 
> 标签：mvvm, mvvm-light, windows-phone, windows-phone-8

我在这里有一个设计问题我已经看到了 MVVM 轻量级实现和一个非常简单的 Micorsoft MVVM 示例 for windows phone [LINK](http://msdn.microsoft.com/en-us/library/hh830877.aspx)，现在的问题是什么是理想的前进方式

MVVM Light 或非常简单的 Microsoft 方式（如上面的链接），应用程序开发是长期（企业类）使用，我需要决定走哪条路，我对利弊有点困惑

1.  如果我有 6 页，哪个是更好的使用方式？

2.  在简单 MS 方式的情况下，我如何轻松访问另一个 ViewModel 的公共数据，使用 MVVM
    灯，我们可以拥有 IOC 服务。

3.  我如何处理应用程序激活或停用事件？

4.  哪个性能更好，速度更快？

5.  对于第一次查看应用程序的人来说，代码复杂性和维护更少？

所以请有人帮助我获得答案或理解事情。非常感谢您的帮助！！！

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-01-08T05:03:42.233

首先，[MVVM Light](http://mvvmlight.codeplex.com/)是一个有助于开始使用[MVVM 模式](http://msdn.microsoft.com/en-us/magazine/dd419663.aspx)的框架。你不需要使用 MVVM Light 来实现 MVVM 模式，它只是让它的一部分变得更容易。

所以它有点使你的几个问题无效，但由于我正在使用 MVVM Light 完成我的 WP8 应用程序，假设你使用该框架（我推荐它），我会回答它们。

1.  6页很容易处理。您应该查看并学习如何使用 ViewModelLocator 和 Messaging 来解耦页面、导航及其关联的视图模型
2.  我使用 Ninject 在我的 ViewModelLocator 中执行 IOC/DI。
3.  这有点繁琐，但我认为在这种情况下打破 MVVM 模式是可以的，因为这些方法在 App.xaml.cs 中
4.  MVVM 性能显然会慢一些，但除非你做的不好，否则你永远不会注意到它。值得记住的是，当没有附加调试器时，应用程序总是会运行得更快。
5.  我认为 MVVM 是一个很好的模式，可以很好地分离关注点和职责。

我知道这实际上并不能回答您的问题，但是根据我之前提到的内容，您的问题没有意义。

希望这可以帮助！

# javascript - 带有 OR 条件的骨干集合 where 子句

> ID：14208044
> 
> 赞同：9
> 
> 时间：2013-01-08T04:06:01.680
> 
> 标签：javascript, backbone.js, backbone.js-collections

我已经搜索了相当长的一段时间，但无法获得带有 or 条件的 where 子句的方法。例如，如果我有一个集合`Cars`并且我尝试执行以下操作：

```
Cars.where({
            model: 1998,
            color: 'Black',
            make: 'Honda' 
          }) 
```

`car`所以上面要做的是搜索一个who `model`is `1998`AND `color`is `Black`AND `make`is `Honda`。

但是我需要一种方法来获得`cars`满足三个条件中的任何一个的条件。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-01-08T04:12:19.313

```
Cars.filter(function(car) {
    return car.get("model") === 1998 ||
        car.get("color") === "Black" ||
        car.get("make") === "Honda";
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-01-08T20:35:48.623

我知道这是一个旧帖子，但也许这对某人有用。

我有一个类似的问题，但有点简单，这就是我解决它的方法

```
var ids=[1,2,3,4];
var plans=this.collection.filter(function(plan){
            var rt=false;
            for(var i=0;i<this.whereOR.length;i++){
                rt=rt||plan.get('id')==this.whereOR[i];
            }
            return rt;
        },{whereOR:ids}); 
```

我认为这可以适用于解决这样提出的问题：

```
var search={model: 1998,color: 'Black',make: 'Honda'};
Cars.filter(function(car){
                var rt=false;

                for(key in this.whereOR) {
                    rt=rt||car.get(key)==this.whereOR[key];
                }
                return rt;
            },{whereOR:search});) 
```

希望这对某人有帮助！

# objective-c - 关于 dictionaryWithContentsOfFile 的键值类型

> ID：14208047
> 
> 赞同：0
> 
> 时间：2013-01-08T04:06:13.827
> 
> 标签：objective-c, ios

plist 文件如下所示：

![在此处输入图像描述](../Images/9cd66432bddf64966758631928459b20.png)

然后我使用这个 plist 初始化一个字典，当记录字典时，它显示如下（**请注意引号，有些键是字符串类型，有些不是，也发生在值上**）：

![在此处输入图像描述](../Images/f8131bd887656b3bbe5bc6220b3f38b0.png)

将这个字典用于 NSRequest 时，应用程序会因错误类型的键或值而崩溃。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-08T05:02:55.057

当您记录任何对象时，会调用它的描述方法来打印详细信息。在[NSDictionary](https://developer.apple.com/library/ios/#documentation/Cocoa/Reference/Foundation/Classes/NSDictionary_Class/Reference/Reference.html)的描述方法的文档中提到-

> 此方法旨在为调试目的生成可读输出，而不是用于序列化数据。

所以不用担心应用程序会在之后崩溃。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-08T04:28:42.807

它们都是字符串，只是有些用引号格式化，有些不是。注意只有那些有特殊字符的有引号

这

`NSLog(@"%@", [@{@"client_id" : @"listing_ios", @"urlStr" : @"http://abc.com/access_token"} description]);`

产生这个：

> 2013-01-08 13:27:52.855 应用程序[4239:14603] {
> “client_id”=“listing_ios”；
> urlStr = "http://abc.com/access_token";
> }

# c# - Generic DataReader 与 Generic 结果集处理器相结合

> ID：14208052
> 
> 赞同：1
> 
> 时间：2013-01-08T04:06:44.173
> 
> 标签：c#, generics, datareader

我希望使用两个通用实体来解决以下问题，即（并以符号方式表示）`GetItems<SomeReaderType>()`和`ProcessItems<SomeProcessorType>()`.

`GetItems<SomeReaderType>()`应该为 a 中的每一行创建一个对象`datareader`。

`ProcessItems<SomeProcessorType>()`应该处理由`datareader`.

我的示例不包括实现，因为我想（并且不知道如何）：

1.  使用某些配置文件 (? .ini ?) 指示读取器的类型（CSV、Excel、ODBC 等）（换句话说，字符串 ('EXCEL') 将指示数据源。）

2.  以类似的方式（config / .ini 文件）确定处理器 SomeProcessor 类型（'Executor'、'Documentor'、'Scanner'等）的类型。

# javascript - 在选择时更改文本的颜色

> ID：14208054
> 
> 赞同：0
> 
> 时间：2013-01-08T04:07:25.563
> 
> 标签：javascript, jquery, html

> **可能重复：**
> [用另一个文本替换所选内容](https://stackoverflow.com/questions/14196312/replacing-selected-with-another-text)

我是 JavaScript 和 jQuery 的新手。我正在选择一个单词并单击按钮，我想更改该文本的背景颜色。

我使用`span`标签来更改所选文本的颜色并使用替换功能来替换它。

但如果文字是这样的

> 大家好。你好世界。早上好。早上好。

当我选择最后一个早上的文本时，它正在改变第一个早上文本的背景颜色。我使用替换功能来替换文本。

任何人都可以为此提出解决方案。

以下是我的代码。

```
var selectedText = window.getSelection();

            var textd=$("#data").html();

            var normalText = $("#data").text();
            var startPosition = normalText.search(selectedText);                        // this will give selected text start position.
            var getPosition = selectedText.toString();
            var endPosition = parseInt(getPosition.length) + parseInt(startPosition);   // this will give selected text end position.                                                            var textToReplace = "<span id='" + startPosition + "' class='highlightedText' onclick=\"myOnclikFunction('"+selectedText+"')\"> "+selectedText+"</span>";
                      var reT= textd.replace(selectedText,textToReplace);
            $("#data").html(reT);
      <style type = "text/css">

        #data {
            font-size : 20px;
            color : black;
        }

        .highlightedText {
            background-color : red;
        }

        .replaceBgColor {
            background-color: white;
        }

        </style>
      <body>

    <div id = "data" >From this you can tap on annotation to view the list of actions previously done like highlighting content, adding web links and notes. Tap on annotation you can view a popup with list of highlights, notes and web links where you can scroll the list.From this section you will be able to highlight part of content, add notes and web links. Upon long tap on the content a popup will be displayed where you can slide to select a part of content and select highlight option to highlight the content. From the same popup you will be able to add notes by tapping on notes button on the popup a text box will be displayed where you can enter the notes and save, you can also add web link in the same process by selecting add web link option in the popup.You can edit the notes and web links by selecting the annotations, where tapping on the annotations you can view the list, from the list you can select a particular notes or web link which will open in a text box to edit. After modification you can save or cancelTap on “View all highlights” to view all highlighted content in the selected material. Once you select view all highlights app will display all highlighted content, then “View all highlights” button will be changed to “Hide all highlights” which allows you to hide the highlight content.Tap on the “Related material” to view the related topics of the course selected and tap on videos to view the list of videos to view.My ClassesThis is the first screen after successful login, where you can view the classes list. Tap on the buttons to view current classes, past classes and future classes. You can tap on any option as per your choice from the three upon tapping the classes list will be shown in grid format with class details.You can tap on the following options to view classes:• Future Classes (The classes for which start date is after the current date)• Current Classes (The classes for which the current date is in between the start and end dates of particular class)• Past Classes (The classes for which the end date of class is before the current date)Based on the selection you can view the following class details:
        <div/>

        </body> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T04:33:01.167

尝试这个：

```
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
    <title>new document</title>
    <script type="text/javascript">
    function setColor(){
        if(document.all){
            var tr = document.selection.createRange();
            tr.execCommand("ForeColor", false, "#FF0000");
        }else{
            var tr = window.getSelection().getRangeAt(0);
            var span = document.createElement("span");
            span.style.cssText = "color:#ff0000";
            tr.surroundContents(span);
        }
    }
    </script>
</head>
<body>
<div>fdjlksafjd;slafjd;slakfjds</div>

<input type="button" onclick="setColor()" value="setColor" />
</body>
</html> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T05:06:00.267

看到这个：http: [//jsfiddle.net/Tru86/](http://jsfiddle.net/Tru86/)

hmtl:

```
 <div id = "data" >Hi all. Hello world. Good morning. Good morning.<div/>
 <input id="btn" type="submit" value="Highlight" /> 
```

脚本：

```
$("#btn").click(function () {

  var selectedText = window.getSelection ? window.getSelection() : document.selection.createRange();  // second one for IE

  var textd = $("#data").html();
  var normalText = $("#data").text();
  if (selectedText.getRangeAt) {
    var range = selectedText.getRangeAt(0);
    var newNode = document.createElement("span");
    newNode.setAttribute('class', 'highlightedText');
    range.surroundContents(newNode);
  }
  else {
    selectedText.pasteHTML('<span class="highlightedText">' + selectedText.htmlText + '</span>');
  }
  $('.highlightedText').replaceWith(swapText);
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-08T04:41:23.973

也许您的代码不知道`morning`选择了哪个。谷歌`Range`或`TextRange`，这将是有帮助的！

# java - Quartz调度器-Time between

> ID：14208056
> 
> 赞同：1
> 
> 时间：2013-01-08T04:07:31.093
> 
> 标签：java, quartz-scheduler, scheduler, crontrigger

我正在使用石英调度程序来安排作业。我有一个案例，我想每天晚上（9:00 PM）到第二天早上（06:00 AM）执行作业。我怎样才能实现这一点。目前我正在初始化像这样触发

```
 Trigger trigger2 = newTrigger()
    .withIdentity("trigger1", "group1")
    .startNow()
    .withSchedule(simpleSchedule()
            .withIntervalInSeconds(10)
            .repeatForever())            
    .build(); 
```

我需要进行哪些修改才能满足要求？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-09T08:01:21.907

如果您选择了**[Quartz CronExpression](http://quartz-scheduler.org/api/2.0.0/org/quartz/CronExpression.html)**，您可以使用这样的表达式`0 * 21-23,0-5 ? * *`，每天从 00:00 AM 到 05:59 AM 以及从 9:00 PM 到 23:59 PM，每分钟触发一个作业，所以：

```
trigger = newTrigger()
    .withIdentity("trigger7", "group1")
    .withSchedule(cronSchedule("0 * 21-23,0-5 ? * *"))
    .build(); 
```

记得导入`import static org.quartz.CronScheduleBuilder.cronSchedule`

频率（在此示例中为每分钟）取决于您的要求。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-27T10:01:13.757

如果您需要每天运行一次作业，您只需指定作业的开始时间：

```
newTrigger().withSchedule(
      CronScheduleBuilder.dailyAtHourAndMinute(21,0)).build(); 
```

如果计划的作业（数据库处理）需要很多小时并且可能超过早上 6 点的时间限制，那么 Quartz 调度程序将无法帮助您。Quartz 只开始工作。你应该在早上 6 点停止正在运行的工作。例如假设作业是一个方法：

```
public void doSomeDBOperations() {
    while(have more data to process) {
        if(Calendar.getInstance().get(Calendar.HOUR_OF_DAY) == 6) {
           break;
        }

        //insert data
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-08T04:25:23.607

这是一个参考，您可以使用它来使用石英安排时间。 [Java – 使用石英 API 的 Web 应用程序中的作业调度](http://www.easywayserver.com/blog/java-job-scheduling-in-web-application-with-quartz-api/)

这部分可能会对您有所帮助

```
JobDetail jDetail = new JobDetail("Newsletter", "NJob", MyJob.class);

        //"0 0 12 * * ?" Fire at 12pm (noon) every day
        //"0/2 * * * * ?" Fire at every 2 seconds every day

 CronTrigger crTrigger = new CronTrigger("cronTrigger", "NJob", "0/2 * * * * ?"); 
```

# facebook-social-plugins - 能够通过 Like Button Social 插件点赞 Facebook 帖子

> ID：14208063
> 
> 赞同：1
> 
> 时间：2013-01-08T04:08:06.277
> 
> 标签：facebook-social-plugins

有没有办法将 Facebook 帖子 URL 提供给[Like Button Plugin](http://developers.facebook.com/docs/reference/plugins/like/)并让用户通过插件喜欢它 - 这样它会影响墙上帖子的 Like 计数？

我试图给 Like Button Plugin 一个 Facebook Fan Page（例如[https://www.facebook.com/cocacola](https://www.facebook.com/cocacola)），它似乎可以工作 - 也就是说 - 通过点击插件 like button 结果实际上喜欢 Facebook页。请参阅此处的工作 jsfiddle 示例 - [http://jsfiddle.net/wAeYE/](http://jsfiddle.net/wAeYE/)。

```
<!DOCTYPE html>
<html xmlns:fb="http://www.facebook.com/2008/fbml">
  <body>
  <div id="fb-root"></div>
  <script>(function(d, s, id) {
     var js, fjs = d.getElementsByTagName(s)[0];
     if (d.getElementById(id)) return;
     js = d.createElement(s); js.id = id;
     js.src = "http://connect.facebook.net/en_US/all.js#xfbml=1";
     fjs.parentNode.insertBefore(js, fjs);
    }(document, 'script', 'facebook-jssdk'));
  </script>
 <div class="fb-like" data-href="https://www.facebook.com/cocacola" data-send="true" data-width="450" data-show-faces="true"></div>
  </body>
</html> 
```

我有兴趣通过 Facebook 帖子来做到这一点。我已经尝试提供[http://www.facebook.com/source_id/posts/post_id](http://www.facebook.com/source_id/posts/post_id)（其中 source_id 是 PageId -[此处为示例](http://www.facebook.com/PhotoContestApp/posts/312241432219459)）。此 URL 将我带到实际的 Facebook 帖子。Like 插件有效并且允许我“喜欢”它，但它不会转化为喜欢墙上的帖子。

任何帮助深表感谢 ！

# android - 安卓活页夹

> ID：14208064
> 
> 赞同：0
> 
> 时间：2013-01-08T04:08:09.413
> 
> 标签：android, performance, android-binder

一个应用程序有大约 100 个本地活页夹实例是否正常？这个数字攀升到那个高位，并且永远不会下降到最初的水平。拥有这么多活页夹的场景可能是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-11T10:35:45.843

（重写为作者询问使用列出的本地活页夹的数量`adb shell dumpsys meminfo`）。我无法回答这是否正常的问题，因为我以前从未发现过该命令！

但这里有一些关于可能导致它的场景的信息。

本地绑定器是 Android 'Binder' 内核 IPC 驱动程序认为可以接收来自另一个进程的函数调用的任何对象。

这些事情可能包括：

*   您在代码中声明的任何从`IBinder`. 当你声明一个 Android 服务时，总会有这样的对象。当您使用其他人的服务时，您通常还会创建此类对象（作为侦听器）。
*   `IBinder`Android 框架中的等效 Java派生对象。在某些情况下，这可能很明显，例如当您为某些系统服务提供某种侦听器时。但其他 Android 框架类也经常涉及到 Binder。例如，我有一种感觉，Android Bitmap 在其中包含某个`IBinder`地方，以便安排不同的进程共享位图数据而不需要复制它。不过，我不确定。
*   C++ 中的部分 Android 框架也是 Binder。例如，我认为每个 Android 应用程序进程都与名为`ISurfaceComposer`.

因此，要弄清楚为什么会有这么多 Binder，请考虑以下几点：

*   您是否以任何方式期待来自其他进程的任何系统事件的通知？例如广播接收器，或您传递给系统服务的任何类型的侦听器等。
*   你自己用`Service`s和AIDL吗？
*   您是否将复杂的 Android 框架类传递给系统 API？

我的直觉是 100 是不寻常的；可能实际上没什么好*担心*的，但是我仍然很想知道您是否弄清楚原因是什么。

# c++ - 如何读取向量的输出 有一定数量的单词到一行？

> ID：14208069
> 
> 赞同：2
> 
> 时间：2013-01-08T04:08:35.343
> 
> 标签：c++, string, vector, cout

我真的在努力解决我在一本书中正在解决的问题。我正在自学 C++，只到了第 3 章，但这个问题真的让我陷入了困境。

问题是：“从 din 读取一系列单词并将值存储在一个向量中。读取所有单词后，处理向量并将每个单词更改为大写。将转换后的元素，八个单词打印为线。” - C++ Primer（第 5 版）中的练习 3.17

我可以存储在向量中并将所有单词更改为大写没有问题。将它们打印出来是个问题。

请问你能帮帮我吗！！我好沮丧！！！也请保持它非常好和简单，它只是第 3 章，我想在那个级别写答案，而不是复杂的（对于我当前的级别）代码。

非常感谢所有帮助！

这是我现在的代码：

```
#include <iostream>
#include <string>
#include <vector>

using std::string; using std::vector; using std::cout; using std::cin; using std::endl;

int main ()
{
    vector<string> v1;  // Create an empty vector

    string words;     // Create a string "words"
    string output;

    while (cin >> words) {
        v1.push_back(words);
    }
    for (auto i = 0; i<v1.size(); ++i){
        for (auto &s : v1) {
            for (auto &c : s)
                c = toupper(c);
        }
        cout << v1[i] << " ";
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T04:28:08.163

Jon 建议的替代方法，使用模数运算符。

```
for (int i = 0, i < v1.size(); ++i) {
    for (auto &c : v1[i]) {
        c = toupper(c)
    }

    // satisfying 8-per-line requirement
    if (i % 8 == 0) {
        std::cout << std::endl;
    }
    std::cout << v1[i] << " ";
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T04:15:16.813

一个简单的方法是跟踪当前行上已打印的单词数，并在该计数超过 8 时结束该行：

```
int count = 0;
const int max = 8;

for (const auto& word : words) {
  cout << word << ' ';

  // One more word has been printed.
  ++count;

  // If the count exceeds the maximum number of words per line...
  if (count > max) {

    // ...then move to the next line.
    count = 0;
    cout << '\n';

  }

} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-08T06:40:21.203

我希望您熟悉迭代器，因为您使用的是 STL。以下示例使用迭代器。

```
vector<string>::iterator itrbegin = v1.begin();
vector<string>::iterator itrend = v1.end();
int count = 0;
while(itrbegin != itrend)
{
  cout<<*itrbegin;
  count++;
  if(count % 8 == 0)
  {
    cout<<endl;  
  }
 itrbegin++;
} 
```

这应该工作并打印出矢量。您应该在向量完全填充字符串之后放置它。希望这可以帮助！！

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-08T09:06:18.897

通常，您会将 a 复制`vector`到`cout`using`copy`和 an `ostream_iterator`：

```
vector<string> words;
copy(words.begin(), words.end(), ostream_iterator<string>(cout, " ")); 
```

最后一个参数确定分隔符，在本例中为空格。

从`begin`到`end`复制 整个`vector`. 我们想使用一些东西来代替`begin`and `end`，这样我们就可以在向量中以 8 个块为单位向前移动，在最后的块中可能更少。

```
int chunk_size = 8;

auto chunk_begin = words.begin();
while(disance(chunk_begin, words.end()) >= chunk_size) {
    auto chunk_end = chunk_begin;
    advance(chunk_end, chunk_size);
    copy(chunk_begin, chunk_end, ostream_iterator<string>(cout, " "));
    chunk_begin = chunk_end;
    cout << endl;
}
copy(chunk_begin, words.end(), ostream_iterator<string>(cout, " ")); 
```

**PS**我经常推荐封装。再想一想，我们可以封装输出迭代器来跟踪并写一个换行符，而不是每 8 次赋值后有一个空格。这是相当多的工作，但值得牢记，因为重用、可读性、代码大小、测试等都会受到影响：

```
copy(words.begin(), words.end(),
     chunked_ostream_iterator<string>(cout, " ", 8, "\n")); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2016-10-12T02:03:45.733

我知道这个线程已经很老了，但是我在阅读本书（第 5 版）时遇到了同样的问题，并找到了一个与本书中解释的内容更一致的解决方案，直到本章（第 3 章）。本书目前唯一没有涉及的问题是使用模数方法来实现一个运行速度比循环迭代器慢的计数器，但其余的都是从那里获取的。

`int main () { vector<string> sentence; string word; while (cin >> word) // add words from input sentence.push_back(word); unsigned cnt = 1; // initialize counter for (auto &w: sentence) { for (auto &c: w) // uppercase word c = toupper(c); cout << w << " "; // print word if (cnt%8 == 0) cout << endl; // eol every 8 counts ++cnt; } cout << endl; // extra eol return 0; }`

# ruby-on-rails - 设计经过身份验证的路由

> ID：14208072
> 
> 赞同：0
> 
> 时间：2013-01-08T04:08:45.353
> 
> 标签：ruby-on-rails, devise, routes

我正在使用设计进行身份验证，并希望将经过身份验证的用户路由到位置#show。用户属于一个位置。我已经尝试了几件事，包括在路线中

```
authenticated :user do
    match 'locations/:id' => 'locations#show', :as => :root
  end 
```

不幸的是，即使登录也不会改变任何事情和路由到 home#index。我的完整路由文件

```
 authenticated :user do
    match 'locations/:id' => 'locations#show', :as => :root
  end
  root :to => "home#index"
  resources :locations
  devise_for :users
  resources :users 
```

关于如何在用户登录时让 root 显示位置 ID 的任何想法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T07:21:02.340

您可以通过在终端中运行以下命令来查看与设计相关的所有可用路线。

```
rake routes 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-12-22T23:17:51.957

您可以在经过身份验证的块中使用具有不同名称的根，如下所示：

```
authenticated :user do
    root to: 'locations#show', :as => authenticated_root
end 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-08T22:16:15.787

我最终首先在我的应用程序控制器中定义了登录后路径

```
def after_sign_in_path_for(resource)
    if resource.class == User
      location_path(resource.location) 
    elsif resource.class == Location
      location_path(resource) 
    end
  end 
```

然后我像这样设置我的路线

```
 authenticated :user do
    devise_for :users do
      get "/", :to => "devise/sessions#new"
    end
    root :to => 'devise/sessions#new'
  end 
```

# javascript - Jquery html 最后插入

> ID：14208075
> 
> 赞同：0
> 
> 时间：2013-01-08T04:09:24.697
> 
> 标签：javascript, jquery, html

嗨，我必须使用 Jquery html() 在 html 中添加代码，问题是我需要在最后一个元素上添加它。我当前的 Html 如下所示：

```
<div class="column column-sub-alpha " id="user_reviews_list">
  <div id="review_lister_header">
    <h3 id="recentReviews">Recent Reviews</h3>
      <p class="formNote">
      <a href="#">2 Reviews</a>
      </p>
  </div>
        <!-- need to add here from Jquery -->
</div> 
```

我的 jquery 代码如下所示：

```
var userReviewHtml = '<p>Hello</p>';
$('#user_reviews_list').html(userReviewHtml); 
```

当我使用`html()`带有 id 的 div 时，`review_lister_header`尽管它正确附加。我该如何克服这个问题？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-08T04:11:00.590

您可以使用`append`：

```
$('#user_reviews_list').append(userReviewHtml); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T04:11:07.017

`html()`方法替换元素的所有内部 html。用于在元素末尾`append()`插入

API参考：http: [//api.jquery.com/append/](http://api.jquery.com/append/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-08T04:13:00.583

您应该使用 append 添加一个新元素来结束：

```
$('#user_reviews_list').append(/*your new element*/); 
```

# c# - 在Sharp dx中查找GlyphRun的宽度

> ID：14208077
> 
> 赞同：1
> 
> 时间：2013-01-08T04:10:00.693
> 
> 标签：c#, text, directx, sharpdx, letter-spacing

我无法使用尖锐的 DX 计算 glyphRun 的宽度。下面是我用来呈现 glyphRun 的代码，字符串需要呈现为 char，如下所示。

```
private void RenderGlyphRun(FontFace fontFace)
    {
        GlyphRun glyphRun = new GlyphRun();
        glyphRun.FontFace = fontFace;
        glyphRun.FontSize = 23;
        left = 50;
        top = 50;

        string word = "Hello World";
        foreach (char letter in word)
        {
            string stringToBeRendered = letter.ToString();
            int[] codePoints = new int[stringToBeRendered.Length];

            char[] charsToBeRendered = stringToBeRendered.ToCharArray();
            for (int i = 0; i < charsToBeRendered.Length; i++)
            {
                codePoints[i] = (int)charsToBeRendered[i];
            }
            short[] glyphIndices = fontFace.GetGlyphIndices(codePoints);

            glyphRun.Indices = glyphIndices;
            var BrushColor = SharpDX.Color.Black;

            SharpDX.DirectWrite.Matrix mtrx = new SharpDX.DirectWrite.Matrix();
            mtrx.M11 = 1F;
            mtrx.M12 = 0;
            mtrx.M21 = 0;
            mtrx.M22 = 1F;
            mtrx.Dx = 0;
            mtrx.Dy = 0;

            GlyphMetrics[] metrics = fontFace.GetGdiCompatibleGlyphMetrics(23, 1, mtrx, false, glyphIndices, false);

            FontMetrics metr = fontFace.GetGdiCompatibleMetrics(23, 1, new SharpDX.DirectWrite.Matrix());
            _pRenderTarget.DrawGlyphRun(new SharpDX.DrawingPointF(left, top), glyphRun, new SharpDX.Direct2D1.SolidColorBrush(_pRenderTarget, BrushColor), MeasuringMode.GdiClassic);

            left += (metrics[0].AdvanceWidth - metrics[0].RightSideBearing + metrics[0].LeftSideBearing) / 100;                
        }
    } 
```

渲染字符串中的字符间距非常不同。请帮我解决一下这个。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T19:01:18.380

@suresh，

您可以计算**glyphRun中的每个****字形**宽度，如下所示

 **```
clusterwidth=glyphRun.glyphRun.Advances[Index] 
```

基于此，您可以计算总**字形运行**宽度，如下所示

```
for(int i=0; i<glyphRun.Indices.Length; i++)
{
totalWidth+=glyphRun.Advances[i];
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-12-23T23:10:15.243

+1 到 pashaplus 为我指出正确的方向。

我需要做同样的事情，我使用了一个简单的 LINQ 表达式来得到这样的总和。

```
var glyphRunWidth = drawing.GlyphRun.AdvanceWidths.Sum(a => a); 
```**

# mysql - MYSQL 中的广度优先搜索查询

> ID：14208080
> 
> 赞同：0
> 
> 时间：2013-01-08T04:10:20.340
> 
> 标签：mysql, breadth-first-search

这是一个树结构的表。

```
id  parent_id
1   0
2   1
3   8
4   8
5   1
6   8
7   6
8   1
9   2
10  6 
```

我需要通过“广度优先”检索数据。

所以顺序应该是：1→（8→5→2）→（6→4→3）→9→（10→7）

实际上还有另一列可以对相同深度的节点进行排序。`8,5,2`, `6,4,3`, `10,7`. 我排除它以简化这种情况。所以相同深度节点的序列 : `8,5,2`, `5,8,2` `2,5,8`... 是可以的。

![在此处输入图像描述](../Images/8218cfbe44a0bc13562e623e73d2b251.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T04:15:04.520

`ORDER BY depth_column_that_you_thought_is_irrelevant ASC`如果您不关心层内节点的顺序（在大多数 BFS 使用中您可能不需要），则广度优先搜索顺序就是。如果您确实关心让具有相同父母的人一起去，那么`ORDER BY depth, parent_id`。您没有给出姐妹节点的任何明确优先级，因此无法帮助您。

此外，您的图表与您的数据不匹配，或者我无法弄清楚图表中的`id: 3, parent_id: 2`行如何转换为 3 <- 8 或 9 <- 2。

# ckeditor - 是否可以装饰在 ckeditor 中输入的部分文本？

> ID：14208083
> 
> 赞同：2
> 
> 时间：2013-01-08T04:10:36.127
> 
> 标签：ckeditor

例如，我可以在编辑文本时用跨度为单词“红色”的所有实例着色吗？当然，我可以在保存数据时使用简单的正则表达式，但我有兴趣在输入文本*时*为文本着色。我还没有找到任何在用户键入时主动装饰文本的插件。

我仍在探索，与任何版本的 ckeditor 甚至 ckeditor 都无关。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-08-08T10:41:04.950

我目前正在处理类似的问题，我也没有找到任何插件。我目前正在使用以下手动方法：我定义了一个[CKEDITOR.style](http://docs.ckeditor.com/#!/api/CKEDITOR.style)并使用它的 applyToRange() 方法。我通过[CKEDITOR.dom.walker](http://docs.ckeditor.com/#!/api/CKEDITOR.dom.walker)遍历整个文档来生成[CKEDITOR.dom.range](http://docs.ckeditor.com/#!/api/CKEDITOR.dom.range)。

例如，您可以使用 walker 遍历文本。walker 返回每个“节点”，允许过滤所有 html。文本节点是第 3 类。在您的情况下，您可能必须抓住相邻文本节点的情况（我有点困惑如何定义文本节点的开始和结束）。如果您有要标记的文本的开始节点和结束节点，则可以从它们创建一个范围。使用方法 editor.createRange() 并手动设置开始和结束元素。不要忘记设置偏移量。

根据您的样式定义，会在范围周围生成一个 span 元素。范围已更新以引用此 span 元素。如果您不想再次删除样式，例如用户更改内容，这将非常有用。

此外，您需要一个策略来检查文本。看看[onChange](http://ckeditor.com/addon/onchange)插件。关键相关事件也可能会有所帮助。

这就是我自己目前的距离。如果我遇到问题或找到更简单的解决方案，我会更新我的帖子。可悲的是，我无法分享代码本身。我还没有测试很多。我仍然希望我目前的进展对您有所帮助。

# html - 横幅未出现在 FireFox 中

> ID：14208088
> 
> 赞同：1
> 
> 时间：2013-01-08T04:11:19.370
> 
> 标签：html, css, firefox

在某一时刻它正在工作，但经过多次更改后，我没有意识到它停止了。该网站在 Chrome 中运行良好，在 IE 中几乎全部运行。Firefox 根本不显示横幅，并且使用 CSS 也不起作用。

我不确定它是我的 div 还是 Firefox 特定的东西。有人愿意帮忙吗？

如果 CSS 读起来很草率，我很抱歉。

```
 <!-- Primary Page Layout
================================================== -->
<script async="" src="/scripts/ga.js"></script><script src="scripts/modernizr-1.7.min.js"></script>

<!-- Delete everything in this .container and get started on your own site! -->
<div id="sizefix" class="wrapper">

<header id="mast" class="short">
<h1><a href="#"></a></h1>

<nav id="nav-logo" class="sample">   
<img src="stylesheets\images\logo.png"></img><img src="stylesheets\images\name.png"></img>
</nav>
<nav id="primary-nav">
<ul class="nav-tabs">
<li>
<a href="#aboutme" class="about">About me</a>
</li>
<li>
<a href="#resume" class="resume">Resume</a>
</li>
<li>
<a href="#portfolio" class="portfolio">Portfolio</a>
</li>
<li>
<a href="#contact" class="contact">Contact</a>
</li>
</ul>
</nav>
</header>
</div> 
```

这是CSS

```
 header#mast{margin:0 0 0 -2000px;width:100%;position:fixed;top:0px;left:50%;z-index:100;}
    header#mast.tall{height:100px;}
    header#mast.short{height:100px;}

    header#mast h1{margin:0 62px 0 10px;width:600px;height:208px;}
    header#mast h1 a{width:168px;height:150px;display:block;text indent:-9999px;background:url(images/logo.png) no-repeat;}
    header#mast.short h1{margin:0px auto;width:200%;height:10px;}
    header#mast.short h1 a{width:250%;height:170px;background:url(images/header.png);}

    #nav-logo{margin:5px 0 0 1520px;height:24px;width: 100%;}
    #primary-nav{margin-top:30px;margin-right:-13px;height:20px;width:300%;float:left;background:url(images/) no-repeat; }
    #primary-nav ul{margin:25px 0 0 1680px;}
    #primary-nav li{margin:0 7px;}
    #primary-nav a{padding:10px;display:block;font:23px/1 "SteelfishRegular","HelveticaNeue","Helvetica Neue",Helvetica,Arial,sans-serif;text-transform:uppercase;text-decoration:none;}
    #primary-nav a.about{color:#05d205;text-shadow:rgba(0,0,0, 0.3) 0 1px 0;}
    #primary-nav a.portfolio{color:#df0a0a;text-shadow:rgba(0,0,0, 0.3) 0 1px 0;}
    #primary-nav a.resume{color:#1E8FF8;text-shadow:rgba(0, 0, 0, 0.3) 0 1px 0;}
    #primary-nav a.contact{color:#c105c1;text-shadow:rgba(0,0,0, 0.3) 0 1px 0;}
    #primary-nav a:hover{padding:10px;color:#063959;display:block;font:23px/1 "SteelfishRegular","HelveticaNeue","Helvetica Neue",Helvetica,Arial,sans-serif;text-transform:uppercase;text-decoration:none;}
    header#mast p.about{margin:36px 0 0 0;width:205px;height:90px;float:right;background:url(/images/bg_primary-nav.png) top right no-repeat;}
    header#mast p.about a{margin:24px 20px 0 12px;padding:10px;display:block;font:20px/1 "CoffeeService",Georgia,"Times New Roman",Times,serif;text-decoration:none;text-shadow:#ffffff 0 1px 0;} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T04:17:54.240

在此处检查您的 html 代码

```
<nav class="sample" id="nav-logo">   
    <img src="stylesheets\images\logo.png"><img src="stylesheets\images\name.png">
</nav> 
```

`src`应该给出 like`stylesheets/images/logo.png`而不是`stylesheets\images\logo.png`导致提到的问题。

还要提一下，你的背景

```
header#mast h1 a{width:168px;height:150px;display:block;text indent:-9999px;background:url(images/logo.png) no-repeat;} 
```

被以下的背景覆盖

```
header#mast.short h1 a{width:250%;height:170px;background:url(images/header.png);} 
```

[使用firebug](https://getfirebug.com/)检查您的页面。

# ant - ant ： exec 的宏，它回显它执行的命令，包括参数

> ID：14208104
> 
> 赞同：1
> 
> 时间：2013-01-08T04:13:29.937
> 
> 标签：ant, arguments, exec, echo

目前我这样做：

```
 <echo message="cd ${build.dir}/scripts ; ./update.sh ${arg1} ${arg2} ${arg3} ${arg4} ${arg5} ${arg6} ; cd -" />
  <exec dir="${build.dir}/scripts"
        executable="./update.sh"
        resultproperty="update.result" >
    <arg value="${arg1}"/>
    <arg value="${arg2}"/>
    <arg value="${arg3}"/>
    <arg value="${arg4}"/>
    <arg value="${arg5}"/>
    <arg value="${arg6}"/>
  </exec> 
```

这`echo`让我可以轻松解决问题。但是，echo 语句需要与 exec 语句的参数一起更新，否则此调试输出不匹配。

我想做的是：

```
<execWithEcho dir="${build.dir}/scripts"
      executable="./update.sh"
      resultproperty="update.result" >
  <arg value="${arg1}"/>
  <arg value="${arg2}"/>
  <arg value="${arg3}"/>
  <arg value="${arg4}"/>
  <arg value="${arg5}"/>
  <arg value="${arg6}"/>
</exec> 
```

结果与上述相同。

哪里`execWithEcho`将是这样定义的宏：

```
<macrodef name="execWithEcho">
  <attribute name="attr.dir"
             description="Directory to run exec in."/>
  <attribute name="attr.executable"
             description="The executable target."/>
  <attribute name="attr.resultProperty"
             description="The property to set the retern value of the target executable/"/>
  <sequential>
    <echo message="//TODO implement echo in execWithEcho"/>
    <exec dir="@{attr.dir}"
          executable="@{attr.executable}"
          resultProperty="@{attr.resultProperty}">
          <!-- args go here -->
    </exec>
  </sequential>
</macrodef> 
```

我在这里不确定的是如何遍历所有`<arg />`传入的子元素；以 echo 语句所需的方式将它们连接成一个字符串。

提前致谢！

# java - 如何制作通用添加类？

> ID：14208107
> 
> 赞同：0
> 
> 时间：2013-01-08T04:13:45.670
> 
> 标签：java, generics

> **可能重复：**
> [Java：通用方法和数字](https://stackoverflow.com/questions/3850970/java-generic-methods-and-numbers)

如何使下面的类通用，以便我可以传递 Integer、Float、Double 等？

```
class Add {
public Integer sum (Integer a, Integer b) {
    return a+b;
} 
```

**编辑：** 我试过

```
class Add <T> {
    public T sum (T a, T b) {
        return a+b;
    } 
```

我做错什么了吗？

* * *

## 回答 #1

> 赞同：-2
> 
> 时间：2013-01-08T04:19:48.110

```
class Add {
public Number sum (Number a, Number b) {
    //logic
} 
```

# java - Java 生成 WSDL 但无法使用 ?wsdl 访问它

> ID：14208108
> 
> 赞同：1
> 
> 时间：2013-01-08T04:14:04.747
> 
> 标签：java, web-services, soap, wsdl, axis

我需要我的 Web 服务类返回以下客户类的数组，该类本身有一个数组。

创建 Web 服务时，将创建 wsdl，但是当我尝试使用其 url 访问它时，它显示以下错误。

将 ?wsdl 添加到地址时将显示以下错误

> 轴错误
> 
> 无法生成 WSDL！
> 
> 此位置没有 SOAP 服务

当我不将 ?wsdl 添加到地址时，将显示以下错误

```
AXIS error

No service is available at this URL 
```

我的客户类

```
package myclasses;

public class customer {
private String name;
private int age;
private int[] rankings;

public customer(){
    //Any initializations here.
}

public customer(String n, int a) {
    this.name = n;
    this.age = a;
    rankings = new int[2];
    rankings[0] = 1;
    rankings[1] = 2;

}

public String getName() {
    return name;
}

............Rest of setter and getters goes here .............

} 
```

我的 Web 服务类

```
 package services;

import myclasses.customer;

import javax.jws.WebService;
import javax.jws.WebMethod;
import javax.jws.WebResult;
import javax.jws.soap.SOAPBinding; 

@WebService (name="Hellos", 
targetNamespace="http://localhost:8081/Mywebservice2/services/Hellos")  
@SOAPBinding  
(  
      style = SOAPBinding.Style.RPC,  
      use = SOAPBinding.Use.LITERAL,  
      parameterStyle = SOAPBinding.ParameterStyle.WRAPPED  
 )  
public class Hellos {

    @WebMethod
    public @WebResult(name="name",partName="name") String getName(){
        return "Jack";
    }

    @WebMethod
    public @WebResult (name="customers",partName="customers") customer[] mycustomers() {
        customer[] cus = new customer[2];
        cus[0] = new customer("Jack", 28);
        cus[1] = new customer("Alex", 29);
        return cus;

    }
} 
```

我的wsdl

```
<?xml version="1.0" encoding="UTF-8"?>
<wsdl:definitions targetNamespace="http://services" xmlns:apachesoap="http://xml.apache.org/xml-soap" xmlns:impl="http://services" xmlns:intf="http://services" xmlns:tns1="http://myclasses" xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/" xmlns:wsdlsoap="http://schemas.xmlsoap.org/wsdl/soap/" xmlns:xsd="http://www.w3.org/2001/XMLSchema">
<!--WSDL created by Apache Axis version: 1.4
Built on Apr 22, 2006 (06:55:48 PDT)-->
 <wsdl:types>
  <schema elementFormDefault="qualified" targetNamespace="http://services" xmlns="http://www.w3.org/2001/XMLSchema">
   <import namespace="http://myclasses"/>
   <element name="getName">
    <complexType/>
   </element>
   <element name="getNameResponse">
    <complexType>
     <sequence>
      <element name="getNameReturn" type="xsd:string"/>
     </sequence>
    </complexType>
   </element>
   <element name="mycustomers">
    <complexType/>
   </element>
   <element name="mycustomersResponse">
    <complexType>
     <sequence>
      <element maxOccurs="unbounded" name="mycustomersReturn" type="tns1:customer"/>
     </sequence>
    </complexType>
   </element>
  </schema>
  <schema elementFormDefault="qualified" targetNamespace="http://myclasses" xmlns="http://www.w3.org/2001/XMLSchema">
   <complexType name="customer">
    <sequence>
     <element name="age" type="xsd:int"/>
     <element name="name" nillable="true" type="xsd:string"/>
    </sequence>
   </complexType>
  </schema>
 </wsdl:types>

   <wsdl:message name="getNameResponse">

      <wsdl:part element="impl:getNameResponse" name="parameters">

      </wsdl:part>

   </wsdl:message>

   <wsdl:message name="mycustomersResponse">

      <wsdl:part element="impl:mycustomersResponse" name="parameters">

      </wsdl:part>

   </wsdl:message>

   <wsdl:message name="mycustomersRequest">

      <wsdl:part element="impl:mycustomers" name="parameters">

      </wsdl:part>

   </wsdl:message>

   <wsdl:message name="getNameRequest">

      <wsdl:part element="impl:getName" name="parameters">

      </wsdl:part>

   </wsdl:message>

   <wsdl:portType name="Hellos">

      <wsdl:operation name="getName">

         <wsdl:input message="impl:getNameRequest" name="getNameRequest">

       </wsdl:input>

         <wsdl:output message="impl:getNameResponse" name="getNameResponse">

       </wsdl:output>

      </wsdl:operation>

      <wsdl:operation name="mycustomers">

         <wsdl:input message="impl:mycustomersRequest" name="mycustomersRequest">

       </wsdl:input>

         <wsdl:output message="impl:mycustomersResponse" name="mycustomersResponse">

       </wsdl:output>

      </wsdl:operation>

   </wsdl:portType>

   <wsdl:binding name="HellosSoapBinding" type="impl:Hellos">

      <wsdlsoap:binding style="document" transport="http://schemas.xmlsoap.org/soap/http"/>

      <wsdl:operation name="getName">

         <wsdlsoap:operation soapAction=""/>

         <wsdl:input name="getNameRequest">

            <wsdlsoap:body use="literal"/>

         </wsdl:input>

         <wsdl:output name="getNameResponse">

            <wsdlsoap:body use="literal"/>

         </wsdl:output>

      </wsdl:operation>

      <wsdl:operation name="mycustomers">

         <wsdlsoap:operation soapAction=""/>

         <wsdl:input name="mycustomersRequest">

            <wsdlsoap:body use="literal"/>

         </wsdl:input>

         <wsdl:output name="mycustomersResponse">

            <wsdlsoap:body use="literal"/>

         </wsdl:output>

      </wsdl:operation>

   </wsdl:binding>

   <wsdl:service name="HellosService">

      <wsdl:port binding="impl:HellosSoapBinding" name="Hellos">

        <wsdlsoap:address location="http://localhost:8081/Mywebservice2/services/Hellos"/>

           </wsdl:port>

        </wsdl:service>

     </wsdl:definitions> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T04:18:52.587

> 通过服务类“services.Hellos”使用的值类型“myclasses.customer”**没有公共默认构造函数**

只需在客户类中使用它。

```
public customer()
{
  //Any initializations here.
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-08T04:38:21.610

在你的网络服务定义中试试这个

```
@SOAPBinding
(
style = SOAPBinding.Style.DOCUMENT,
use = SOAPBinding.Use.LITERAL,
parameterStyle = SOAPBinding.ParameterStyle.WRAPPED
) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-09-04T10:02:26.710

我最近遇到了同样的问题。

解决方案：就我而言，我使用的是 Axis 1.4，并且正在将应用程序部署在 tomcat 上。但是，由于某种原因，生成的 server-config.wsdd 没有在战争中打包，因此没有部署在 tomcat 上。有一次，我确保这正在发生，它开始对我正常工作。

# mysql - 用其他表中的值替换某些记录

> ID：14208113
> 
> 赞同：0
> 
> 时间：2013-01-08T04:15:17.990
> 
> 标签：mysql

我想用其他表中的值（具有相同的 ID）替换`name`某些记录。`id`

让我这样解释：

`TABLE1:`

有一条记录，其`name`集合为 to`xxyyzz123`及其`id`等于`24`，

现在我想用=替换记录的`name`in for = from ，所以如果in the will be它现在应该是相同的（在更新查询之后）。`TABLE1``id``24``name``id``24``TABLE2``name``TABLE2``xyyzzz321``TABLE1`

这可以在 MySQL 中完成吗？你能给我一些关于如何实现这一目标的提示吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-08T04:24:01.320

您需要一个`update query with inner join between table1 and table2`，它将两个表中的 id 与 where 条件匹配。

```
UPDATE Table1
SET    Table1.name = Table2.name,    
FROM   Table1 INNER JOIN Table2
ON     Table1.id = Table2.id
WHERE  Table1.id = 24 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-08T04:24:58.470

尝试

```
UPDATE table1 t1 , table2 t2
SET t1.name = t2.name
WHERE t1.id = t2.id 
```

This will replace all `t1.name` with `t2.name` where id are similar in table t1 and t2

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-08T04:24:26.163

像这样

```
UPDATE TABLE1 AS t1 
INNER JOIN TABLE2 as t2 ON t1.id = t2.id 
SET t1.name = t2.name
WHERE t1.id = 24 
```

# web-applications - 将移动设备高度除以百分比

> ID：14208117
> 
> 赞同：0
> 
> 时间：2013-01-08T04:16:07.853
> 
> 标签：web-applications, mobile, height

我为我的 Web 应用程序使用 Jquery Mobile Grid 布局。我想将设备/移动设备的高度分为 5 个部分。我尝试使用百分比更改高度，但它不起作用，它与 Jquery Mobile Structure 的 CSS 冲突。

我如何检测移动/设备的高度并获取该值以传递给 CSS？

谢谢..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T12:13:42.563

您可以使用 JavaScript：[Window Screen](http://www.w3schools.com/js/js_window_screen.asp)来做到这一点。但是您将无法将其传递给您的 CSS。但是，如果您熟悉 JQuery，就会知道可以动态更改 CSS。

# c# - 我想用 MemoryStream 替换 FileStream

> ID：14208120
> 
> 赞同：0
> 
> 时间：2013-01-08T04:16:12.810
> 
> 标签：c#, .net, wpf, image, dispatcher

我对 add 有问题`Image`，我可以添加一次，如果我添加两个或更多添加它错误：

> 该进程无法访问文件“C:\Users\Administrator\AppData\Roaming\afinos\CaptureImage\CapImage.Jpg”，因为它正在被另一个进程使用。我使用以下内容：

```
 public static void SaveImageCapture(string imgPath, BitmapSource bitmap)
 {
      JpegBitmapEncoder encoder = new JpegBitmapEncoder();
      encoder.Frames.Add(BitmapFrame.Create(bitmap));
      encoder.QualityLevel = 100;

      using (FileStream fstream = new FileStream(imgPath, FileMode.Create))
      {
           encoder.Save(fstream);
           fstream.Close();
           fstream.Dispose();
      }
  }

//Call to use SaveImageCpture

private void btnCapture_Click(object sender, RoutedEventArgs e)
{           
     Dispatcher.Invoke(new Action(delegate()
     {
          string path = "afinos\\" + "CaptureImage\\" + "CapImage.Jpg";

          if (Directory.Exists(path) == false)
          {
               Directory.CreateDirectory(path);   
          }

          Capture_Helper.SaveImageCapture(pathapp + "\\" + path, (BitmapSource)PicCapture.Source);
          ChangeAvatar_vcard.Source = PicCapture.Source;
          txtPath.Text = pathapp + "\\" + path;                   
    }));
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T04:35:50.150

您是否尝试过将其设置`FileShare`为写入

```
//     FileShare.Write Allows subsequent opening of the file for writing. If this flag is not specified,
//     any request to open the file for writing (by this process or another process)
//     will fail until the file is closed. However, even if this flag is specified,
//     additional permissions might still be needed to access the file.

using (FileStream fstream = new FileStream(imgPath, FileMode.Create, FileAccess.Write, FileShare.Write))
{
    encoder.Save(fstream);
    fstream.Close();
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T04:27:10.270

您可以添加标志以停止对同一文件的并行写入。

```
private bool isCaptureInProgress = false;
private void btnCapture_Click(object sender, RoutedEventArgs e)
{
    if (isCaptureInProgress)
    {
       MessageBox.Show("Capture is already in progress. Please wait to finish it first");
      return;
     }

    Dispatcher.Invoke(new Action(delegate()
        {
            isCaptureInProgress = true;
            string path = "afinos\\" + "CaptureImage\\" + "CapImage.Jpg";
            if (Directory.Exists(path) == false)
            {
                Directory.CreateDirectory(path);   
            }

            Capture_Helper.SaveImageCapture(pathapp + "\\" + path, (BitmapSource)PicCapture.Source);
            ChangeAvatar_vcard.Source = PicCapture.Source;
            txtPath.Text = pathapp + "\\" + path;
           isCaptureInProgress = false;
        }));

} 
```

您需要注意错误处理并确保设置重置标志（最好在 finally 块中）。

# emacs - Emacs：如何在启动时打开 sunrise-cd dired 导航

> ID：14208122
> 
> 赞同：0
> 
> 时间：2013-01-08T04:16:18.743
> 
> 标签：emacs, elisp, emacs23, emacs24

我对每次启动 emacs 时如何将 sunrise-cd dired 导航设置为默认缓冲区有疑问？我试过使用 Mx desktop-save 但它不起作用。

还有一件事是如何让日出变成像默认导航一样的全屏，我的意思是让 Windows 日历缓冲区在下图中的资源管理器下消失。你能给我一些建议吗？非常感谢。

[http://www.emacswiki.org/pics/static/SunriseCommanderScreenshotOnePage.png](http://www.emacswiki.org/pics/static/SunriseCommanderScreenshotOnePage.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T10:05:28.730

每次可以添加`(sunrise)`到`.emacs`文件时开始日出

# java - 如何在 java 中创建一个复杂的 json 对象？

> ID：14208126
> 
> 赞同：22
> 
> 时间：2013-01-08T04:16:59.013
> 
> 标签：java, json, jackson

我正在尝试在 java 中创建这个 json 对象并苦苦挣扎：

```
{
    "notification": {
        "message": "test",
        "sound": "sounds/alarmsound.wav",
        "target": {
            "apps": [
                {
                    "id": "app_id",
                    "platforms": [
                        "ios"
                    ]
                }
            ]
        }
    },
    "access_token": "access_token"
} 
```

任何人如何在java中创建它的帮助将不胜感激！

* * *

## 回答 #1

> 赞同：44
> 
> 时间：2013-01-08T04:27:52.467

如果你真的想*创建*JSON 对象，Jackson 可以满足你的所有需求：

```
final JsonNodeFactory factory = JsonNodeFactory.instance;

final ObjectNode node = factory.objectNode();

final ObjectNode child = factory.objectNode(); // the child

child.put("message", "test");

// etc etc

// and then:

node.set("notification", child); // node.put(String, ObjectNode) has been deprecated 
```

结果`node`是一个`ObjectNode`，它继承了`JsonNode`，这意味着你得到了所有`JsonNode`的细节：

*   合理的`.toString()`表示；
*   导航功能（`.get()`, `.path()` -- GSON 对此没有等效项，尤其是没有`.path()`，因为它无法对丢失的节点进行建模）；
*   `MissingNode`表示一个不存在的节点，并`NullNode`表示 JSON null，所有这些都继承`JsonNode`（GSON 没有对应的 - 并且所有`JsonNode`的导航方法在这些节点上*也*可用）；
*   当然`.equals()`/ `.hashCode()`。

* * *

## 回答 #2

> 赞同：24
> 
> 时间：2015-06-29T09:59:53.633

对于那些尝试使用此线程答案的人，请注意

```
JsonNodeFactory nodeFactory = new JsonNodeFactory(); 
```

不再使用包 jackson-databind。相反，你应该做

```
final JsonNodeFactory nodeFactory = JsonNodeFactory.instance; 
```

看到这个答案：[https ://stackoverflow.com/a/16974850/3824918](https://stackoverflow.com/a/16974850/3824918)

* * *

## 回答 #3

> 赞同：10
> 
> 时间：2013-12-02T18:03:55.167

```
JSONObject jsonComplex = new JSONObject();
    JSONObject notification = new JSONObject();
    notification.put("message", "test");
    notification.put("sound", "sounds_alarmsound.wav");
    JSONObject targetJsonObject= new JSONObject();
    JSONArray targetJsonArray= new JSONArray();
    JSONObject appsJsonObject= new JSONObject();
    appsJsonObject.put("id","app_id");
    JSONArray platformArray = new JSONArray();
    platformArray.add("ios");
    appsJsonObject.put("platforms",platformArray);
    targetJsonArray.add(appsJsonObject);
    targetJsonObject.put("apps", targetJsonArray);
    notification.put("target", targetJsonObject);
    jsonComplex.put("notification", notification);
    jsonComplex.put("access_token", "access_token");
    System.out.println(jsonComplex); 
```

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2013-01-08T08:24:26.377

感谢@fge，他为我提供了必要的信息来解决这个问题。

这是我为解决这个问题所做的！

JsonNodeFactory nodeFactory = new JsonNodeFactory();

```
 ObjectNode pushContent = nodeFactory.objectNode();
        ObjectNode notification = nodeFactory.objectNode();
        ObjectNode appsObj = nodeFactory.objectNode();
        ObjectNode target = nodeFactory.objectNode();

        ArrayNode apps = nodeFactory.arrayNode();
        ArrayNode platforms = nodeFactory.arrayNode();

        platforms.add("ios");

        appsObj.put("id","app_id");
        appsObj.put("platforms",platforms);

        apps.add(appsObj);

        notification.put("message",filledForm.field("text").value());
        notification.put("sound","sounds/alarmsound.wav");
        notification.put("target", target);

        target.put("apps",apps);

        pushContent.put("notification", notification);
        pushContent.put("access_token","access_token");

        if(!filledForm.field("usage").value().isEmpty()) {
            target.put("usage",filledForm.field("usage").value());
        }

        if(!filledForm.field("latitude").value().isEmpty() && !filledForm.field("longitude").value().isEmpty() && !filledForm.field("radius").value().isEmpty()) {
            target.put("latitude",filledForm.field("latitude").value());
            target.put("longitude",filledForm.field("longitude").value());
            target.put("radius",filledForm.field("radius").value());
        } 
```

打印 pushContent 比输出我需要创建的确切 json 对象！

希望这对其他人也有帮助！

富有的

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2013-01-08T05:37:21.567

我宁愿创建代表该对象的类，并将其转换为 JSON。我想你在其他地方得到了那个 JSON 接口，并且对如何从 Java 创建它有很多了解。

```
class ToJson{
    private Notification notification;
    private String access_token;
}

public class Notification{
    private String message;
    private String sound;
    private Target target;
}

public class Target{
    private Apps apps[];
}

public class Apps{
    private String id;
    private Plataform plataforms[];
}

public class Plataform{
    privte String ios;
} 
```

然后，您使用您喜欢的任何库/框架将填充的 ToJson 对象转换为 JSON。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-01-08T04:21:53.483

有各种各样的库可以在这里为您提供帮助。

*   谷歌 GSON - [http://code.google.com/p/google-gson/](http://code.google.com/p/google-gson/)
*   杰克逊 - [http://jackson.codehaus.org/](http://jackson.codehaus.org/)
*   Groovy 的 JsonSlurper - [http://groovy.codehaus.org/gapi/groovy/json/JsonSlurper.html](http://groovy.codehaus.org/gapi/groovy/json/JsonSlurper.html)

如果您在使用这些库时遇到更具体的问题，您应该发布它们。

# php - 在 Mysql 中调用存储过程

> ID：14208132
> 
> 赞同：1
> 
> 时间：2013-01-08T04:17:47.180
> 
> 标签：php, mysql

我使用命令在 MySql 中创建了一些存储过程

```
CREATE PROCEDURE sample() 
BEGIN 
SELECT * FROM members; 
END // 
```

但是当我想在我的 phpMyAdmin 中调用存储过程或使用 php 时，我没有得到结果。我使用的命令

```
CALL sample; 
```

并且

```
 CALL sample(); 
```

当我使用上面的查询时，没有显示输出，而是将页面重定向到 phpMyAdmin 主页。我需要在 phpMyAdmin 中进行任何更改吗？？？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-08T04:21:57.947

用于`()`调用存储过程

```
CALL sample(); 
```

[http://forums.mysql.com/read.php?98,358569](http://forums.mysql.com/read.php?98,358569)

你错过了DELIMITER

```
 DELIMITER // 
 CREATE PROCEDURE sample() 
 BEGIN 
 SELECT * FROM members; 
 END // 
 DELIMITER ; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-08T04:32:19.277

您的存储过程很可能没有被创建。

您必须在命令中包含`DELIMITER`命令以告诉 MySQL 忽略`;`：

```
DELIMITER //

CREATE PROCEDURE sample()
BEGIN
  SELECT * FROM members;
END//

DELIMITER ; 
```

这告诉 MySQL 使用不同的分隔符（在本例中）并在查询结束时`//`恢复它（标准分隔符）。`;`

然后，使用 . 检查您的程序是否存在`SHOW PROCEDURE STATUS`。

据我所知，您不需要括号`()`来调用不需要任何参数的过程。

希望有帮助。

# php - 如何捕获 PHP 会话注销以在 JQuery 中使用

> ID：14208133
> 
> 赞同：0
> 
> 时间：2013-01-08T04:17:48.443
> 
> 标签：php, jquery, session

寻找有关如何最好地捕获 PHP 会话注销以在 JQuery 中使用的一些想法。

**主意**

1.) 用户从 index.php 登录到 admin.php。启动 PHP 会话。
2.) 用户然后退出 admin.php 并返回到 index.php (url: admin.php?logout)
3.) 用户在 index.php 上看到一个新的 DIV，上面写着类似“感谢使用！来再次！”。

我只是想弄清楚如何使用 PHP/jQuery 的组合来发表一个基本上说的声明：“如果 index.php 是从已结束 PHP 会话的重定向加载的，则显示此 DIV 并隐藏500 毫秒后”。用户只有在退出时才会看到这个 DIV，而不仅仅是直接进入 index.php。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-08T04:34:21.427

我愿意。

1.  用户登录。会话已创建。

2.  用户注销。假设注销页面的重定向有 url `admin/index.php?loggedout=1`。

3.  在`admin/index.php`页面中简单地给出

> if(isset($_GET['loggedout'])) { echo "感谢使用！再来一次！"; }

我需要的地方。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T04:33:28.047

Session 是由 PHP 在服务器端管理的内存块（实际上它是一个 PHP 数组，可以通过超级全局 $_SESSION 访问）。

如果您想在用户注销时在登录页面上有一个特殊的显示，您可以通过一些简单的方法来做到这一点，例如：

*   将消息存储在 $_SESSION 中（在注销操作中）并在登录页面中显示它们

*   在 URL 中使用附加参数重定向到登录页面，您的 JS 代码将自动检测到该参数（查看 window.location.href）

# grails - 涉及多个表的 Grails 关系，可能是多对多

> ID：14208154
> 
> 赞同：0
> 
> 时间：2013-01-08T04:20:44.007
> 
> 标签：grails, grails-orm, relationship, tag-cloud

问题在于将 a 链接`Event Instance`到 a `Tag Instance`。保存***现在已经实现***的事件**时**......但仍然存在设计问题，因为一个标签可以与多个事件相关，而一个事件可以有 0 到多个标签。

 *在标准`save()`方法中，我在一个方法中调用，该方法`tagInput()`从表单中获取字符串`tagsCollection field`（*参见屏幕截图*），它分隔单词并**创建/保存**一个实例`Tag`（*参见下面的方法*）。每个分隔值都链接到登录用户，现在链接到事件事件。

总体问题是如何向创建的每个标签添加**多个**事件实例 ID，以便标签数据库中的 event_id 不会被使用相同标签名称的较新事件覆盖。

[通过逗号分隔的多个标签的演示以及](http://d.pr/i/uEWu)网页和[数据库上的标签结果](http://d.pr/i/q73K)：[dbconsole](http://d.pr/i/uwMY)

**用户类**（*与 Grails 安全插件一起使用*）

```
static hasMany = [tags : Tag] 
```

**标记类**（*用于标记云 Grails 插件*）

```
String tag
int times
User user
// Think this needs changing to hasMany i.e. many tags, many events linked to a tag
static belongsTo = [event: Event] 
```

**事件类**

```
String tagsCollection
User user
static hasMany = [tags: Tag] 
```

.

所以现在一个**事件 id**被保存到一个**Tag 实例**中，但是对于同一个用户重复使用相同的标签是有问题的，因为它需要有可能具有**多个相关的事件 id**来搜索能力。

```
def tagInput(Event e) {
    //Stores tags sperated via comma in an array from the eventInstance tagCollection string field
    def tagArray = e.tagsCollection.replaceAll("\\s+","").toLowerCase().split(",")

    tagArray.each { aVar ->
        def splitTag = Tag.findByTag(aVar)
        //If the tag already exists for the current user logged in
        if (Tag.findByTag(aVar) && splitTag.userId == lookupPerson().id) {
        //Lookup person spring security method
        //+1 to how many times that tag has been used
            splitTag.times++

            //TODO IMPLEMENT A WAY TO APPEND EVENT ID TO TAG EVENT_ID FIELD

            splitTag.save(flush: true, failOnError: true)
        }  else {
            //if tag doesn't exist, create a new one using current logged in user
            def nTag = new Tag(tag:aVar, times: 1, user:lookupPerson())
           //SUGGESTION to save event id to a tag
            e.addToTags(nTag)
            e.save()
            //Set a user to own this tag
            def u = User.find(lookupPerson())
            nTag.save(flush: true, failOnError: true)
            u.addToTags(nTag)
            u.save()
        }
    }
} 
```

（为了测试，我使用*了一个用户*，第一个*事件**创建了 5 个标签* **SEE DATABASE SCREENSHOT**，然后使用*同一用户**创建了第二个事件*，并使用了之前在最后一个事件*t1*和*t5中创建的**两个标签*）

 **** * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T05:28:18.240

`how can I add an event instance id to each of the tags created, when the id hasn't been created yet ...`

你不能，你也不需要这样做。根据定义，Tag 实例不需要 Event 实例引用，因为域类中不包含 Event 属性。

`tagInput()`因此，您可以只创建标签实例并保存它而无需持久化事件实例：只需从方法返回已保存的 tagInstances 列表。回到 save() 方法，保存 eventInstance 后，将标签列表添加到其中，如下所示：

```
tagInstancesList.each{tagInstance->
    eventInstance.addToTags(tagInstance)
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T05:46:46.847

[因此，您正在创建一个事件，并且您可能需要随之创建新标签。

所以为了让你也保存到标签，你必须在标签类上定义一个belongTo：

```
class Tag {
...
static belongsTo = [Event, User]
} 
```

现在你可以说：

```
Event event = new Event(...)
event.addToTags( new tag(...) ) 
```

并且`event.save()`还应该保存您的新标签。

编辑：您`new Tag`可能应该类似于`Tag.findOrCreateByUserAndTag(user, name)`. 如果标签已经存在，这将找到它，如果不存在，它将创建它。显然用您正在使用的内容替换用户和名称变量。****

# matlab - 具有多个标记的散点图

> ID：14208155
> 
> 赞同：4
> 
> 时间：2013-01-08T04:20:44.280
> 
> 标签：matlab, markers, scatter-plot

我正在尝试将来自多个数据文件的散点图放在一起，以查看它们之间的相关性。代码如下所示：

```
hold all
fia = fopen('data.txt');
A = fscanf(fia, '%f %f %f', [3 inf]);
t = A(1,:);
a = A(2,:);
r = A(3,:);

figure(1)
scatter(log(r),log(a),'r', '-');

fclose(fia);

fia = fopen('data.txt');
A = fscanf(fia, '%f %f %f', [3 inf]);
t = A(1,:);
a = A(2,:);
r = A(3,:);

figure(2);
scatter(log(r),log(a), 'g', '-');

fclose(fia); 
```

依此类推，下一个数据点绘制在同一张图上：

```
fia = fopen('data.txt');
A = fscanf(fia, '%f %f %f', [3 inf]);
t = A(1,:);
a = A(2,:);
r = A(3,:);

figure(1);
scatter(log(r),log(a), 'rx');

fclose(fia); 
```

等等。

但是当我在 Matlab 中运行该函数时，我得到了这个错误：

```
Error using specgraph.scattergroup/set
The name 'linestyle' is not an accessible property for an instance
of class 'scattergroup'.

Error in specgraph.scattergroup (line 26)
  set(h,args{:});

Error in scatter (line 83)
        h = specgraph.scattergroup('parent',parax,'cdata',c,...

Error in Ratioincrease (line 11)
scatter(log(r),log(a),'r', '-'); 
```

我怎样才能让 scattergroup 类似于线组，就像我如何正确编写它一样？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-08T08:11:40.543

`scatter`使用和显示不同的标记应该没有问题。例如：

```
load seamount
scatter(x,y,30,z,'s'); hold on
scatter(.999*x,1.001*y,30,z,'x'); hold on
scatter(1.001*x,.999*y,30,z,'+'); hold on 
```

![在此处输入图像描述](../Images/3b637cbfab16544b4ed67d76cf818c4b.png)

我怀疑您有错字并用作`-`标记类型。您可以使用的标记类型是：

*   `'+'` 加号
*   `'o'` 圆圈
*   `'*'` 星号
*   `'.'` 观点
*   `'x'` 叉
*   `'square'`或`'s'` 正方形
*   `'diamond'`或`'d'`钻石
*   `'^'` 向上的三角形
*   `'v'` 向下三角形
*   `'>'` 指向右边的三角形
*   `'<'` 向左三角形
*   `'pentagram'`或`'p'`五角星（五角星）
*   `'hexagram'`或`'h'` 六角星（六角星）

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-05-11T10:31:12.847

Just to add that you don't have to write 'hold on' for each line. Once will be sufficient. So, for this you can write:

```
load seamount
scatter(x,y,30,z,'s'); hold on
scatter(.999*x,1.001*y,30,z,'x'); 
scatter(1.001*x,.999*y,30,z,'+'); 
```

Also, if you wanna draw a new set of data and clean the previous, you need to write 'hold off' once before doing this command.

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2015-04-16T10:52:19.997

scattergroup 属性名称是 'marker'

签入文档'Scattergroup Properties'

# iphone - 如何通过 XMPP 将 AOL 集成到 iPhone 应用程序中

> ID：14208156
> 
> 赞同：0
> 
> 时间：2013-01-08T04:20:51.333
> 
> 标签：iphone, objective-c, ios, xmpp

我正在开发聊天应用程序，其中包括 gmail、facebook 聊天，现在我想将 AOL 聊天与这两者结合起来。XMPP 的 AOL 服务器名称是什么？我尝试使用“xmpp.oscar.aol.com”作为 XMPP 的 AOL 服务器名称，但 xmppstream 没有连接。我如何通过 XMPP 将 AOL 集成到 iPhone 应用程序中。任何人都可以帮助我。谢谢 inadvances

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T04:23:34.970

有一个用 ObjectiveC 编写的简单[XMPP 客户端](https://github.com/robbiehanson/XMPPFramework)，您可以直接在 iPhone 应用程序中使用它。

`xmpp.oscar.aol.com`似乎也是 2008 年的测试 jabber xmpp 服务器设置。现在可能还没有。[从这里](http://slashdot.org/story/08/01/18/1748218/aol-adopting-jabber-xmpp)。

# jquery - 几秒钟后自动显示div隐藏？

> ID：14208160
> 
> 赞同：0
> 
> 时间：2013-01-08T04:21:32.963
> 
> 标签：jquery, asp.net

我有一个显示：无的 div。在按下按钮时，我想使用 jquery 显示它。它显示出来，但在一两秒钟内它会自动隐藏。

我不是专家，无法找到我做错的地方。请帮我。

```
 <asp:Button runat="server" ID="btnCVUpload" Text="Upload" OnClientClick="CVConfirm()" />  <div id="divConfirmCV" style="border: dashed 2px black; background: gray; display:none;">
                A profile can have only one CV, uploading this CV will remove an existing CV. Click
                "Yes" to proceed
                <asp:Button runat="server" ID="btnCVYes" Text="Yes" />
                <asp:Button runat="server" ID="btnCVNo" OnClientClick="HideCVConfirm" Text="NO" />
            </div>

 function CVConfirm() {
            $("#divConfirmCV").css("display","block").show(1000)
        } 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-08T04:23:15.330

它再次被隐藏，因为页面正在回发到服务器，并且您再次获得了一个全新的页面，按钮的初始状态被隐藏。您要么想要 a) 在页面回发之前不显示 div，在这种情况下，您可以将 div 设置为 asp:panel 或类似的东西，并在单击按钮时将其设置为可见。或者 b) 你不想使用 asp:Button，而是一个`<input type=button>`不会回发到服务器的常规，如果你只想显示 div 而不再次访问服务器。我会说你的代码看起来你真的想使用选项 b。因此，您的代码将是：

```
<input type=button ID="btnCVUpload" value="Upload" onclick="CVConfirm()" /> 
```

当然，你正在使用 jquery，所以你真的应该这样做：

```
<input type=button ID="btnCVUpload" value="Upload" />

<script>
  $(function(){
    $("#btnCVUpload").click(function(){
       $("#divConfirmCV").css("display","block").show(1000);
    });
  });
</script> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-08T04:30:23.493

我想这样写我的jQuery

```
$(document).ready(function(){
    $("#<%=btnCVUpload.ClientID%>").click(function(event){
        event.preventDefault();
        $("#divConfirmCV").css("display","block").show(1000);
    });
}); 
```

preventDefault 可帮助您防止元素在特定事件（例如单击）上的默认行为。因此，除非您允许，否则回邮不会发生:)

# php - 最佳数据库存储方法

> ID：14208161
> 
> 赞同：3
> 
> 时间：2013-01-08T04:21:40.733
> 
> 标签：php, mysql, database, normalization, organization

我的软件（用 PHP 编写）允许用户使用 HTML 表单为他们的“简历”输入信息。这个“简历”有几个不同的元素，包括用户的教育、工作经历、奖项、求职信等。每个元素在它包含的数据中都是独一无二的。例如，教育需要诸如毕业年份、学校名称、学位等字段。

我的问题是，将简历数据存储在 mySQL 数据库中的最佳方法是什么？我目前的选择是：

*   为每个简历元素创建单独的表（resume_education、resume_awards 等）
*   对简历的所有元素使用一张表，并以多维数组的形式插入元素数据。（即：一个表包含包含教育、工作历史、等等等列的简历数据。教育或类似领域的数据将被编译成一个数组，例如 ("grad_year"=>"1990", "school_name"=>" Cool School”）或类似的东西，其中使用指示字符表示新字段）。

第一种选择提供了易于维护和编码，而第二种选择似乎可以显着减少备份和加载时间以及数据库维护。也许有更好的方法？你会推荐什么 ？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T04:36:44.360

选项 2 显然是错误的。如果您不打算将数据分解为行和列，并且*至少*遵循数据规范化的前几条规则，那么就没有理由使用关系数据库（您可以在文件系统文件夹中使用 XML 文档）。

选项 1 可能是最正确的。如果期望所有元素都出现在所有简历中，并且简历中没有元素重复，那么您实际上可以为整个简历创建一个表格，每个字段都在其自己的列中。由于我不认为满足这些条件（例如，工作经历和教育应该是可重复的元素），因此每个元素单独的表格是正确的选择。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-08T04:38:03.640

我会选择多个表，但没有命名表更通用。

例如。表

```
resume_section
id,name
1,personal details
2,education
3,work history

resume_section_attributes
id,resume_section_id,name
1,1,name
2,1,phone
3,1,email
4,2,school_name
5,2,grad_year
6,3,company_name
7,3,number_of_years

user_resume
id,user_id,resume_section_attribute_id,value
1,99,1,My Name
2,99,2,12345678 
```

Now when you want to build a users resume you can go straight to the user resume table and get all their details and join with the attributes table for the attribute names etc. You could change the order of attrs for display, easily add new ones. Set them as required or not. Set limits for the number of phone numbers or something. The possibilities for extending are endless.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-08T04:31:42.123

绝对选择选项 1。良好的数据库设计至关重要，良好的数据库设计涉及规范化您的数据，这只有在您使用自己的表对不同实体建模时才有可能。

看看[这篇关于数据库规范化](http://www.devshed.com/c/a/MySQL/An-Introduction-to-Database-Normalization/)的文章，它对所涉及的概念进行了很好的讨论。

# javascript - 如何从 javascript 内部有选择地运行/加载单独的 javascript 文件？

> ID：14208164
> 
> 赞同：2
> 
> 时间：2013-01-08T04:21:53.010
> 
> 标签：javascript

我有 3 个 JavaScript 文件，我想从一个`index.html`文件中加载它们。我通过使用`if`我只知道如何在 JavasSript 中执行的语句在其中进行选择。但是，当在 JavaScript 正文中时，看起来我不能这样说：

```
<script type="text/javascript">
if(window.innerHeight == 800)
     <script type="text/javascript" charset="utf-8" src="storybook.js"></script> 
```

在条件之后是否有一个函数或其他东西可以用来执行 JavaScript 文件？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-08T04:27:39.500

**更新**

当我最初写这个答案时，情况已经发生了变化，但它们继续变化到这个答案并没有过时的地步。请参阅[2014 年响应式网页设计指南，](http://blog.teamtreehouse.com/modern-field-guide-responsive-web-design)因为现在有多种方法可以在样式表中使用媒体查询来获得您正在寻找的响应式布局。[Foundation](http://foundation.zurb.com/)和[Bootstrap](http://getbootstrap.com/)等框架现在提供响应式布局，并为您处理大量繁重的工作，因此您可以花时间设计您的网站，而不是编写它的管道。

**原始答案**

有几种方法，但这里有一种（[动态加载外部 JavaScript 或 CSS 文件](http://www.javascriptkit.com/javatutors/loadjavascriptcss.shtml)，由 Google 搜索“动态加载 javascript”找到）：

```
function loadjsfile(filename){
   var fileref = document.createElement('script');
   fileref.setAttribute('type', 'text/javascript');
   fileref.setAttribute('src', filename);
   if (typeof fileref !== 'undefined') {
      document.getElementsByTagName('head')[0].appendChild(fileref);
   }
}

loadjsfile("storybook.js"); //dynamically load and add this .js file 
```

另一种方法是，不是动态加载文件，而是将所需的所有内容加载到一个文件中。然后，调用正确的脚本。虽然这可能会因为加载整个文件而受到批评，但如果您的用户更改他的屏幕尺寸会发生什么？也许您希望加载这两个资源。改变屏幕尺寸并不像人们调整窗口大小那样牵强，甚至将窗口移动到具有不同分辨率的不同显示器上。

```
// storybook800.js
function for800() {
   return {
      // all your module's stuff
   };
};

// storybook1600.js
function for1600() {
   return {
      // all your module's stuff
   };
};

// main document
var storybook;
if (window.innerHeight === 800) {
   storybook = for800();
} elseif (window.innerHeight === 1600) {
   storybook = for1600();
} 
```

但是，**我真的不推荐其中任何一个选项**。维护单独的文件可能会遇到真正的问题。无需加载完全不同的文件，只需在您的代码中检测即可。传入`window.innerHeight`参数或更好，只需在您的 javascript 文件中检测它：

```
//storybook.js
function mystorybook() {
   if (window.innerHeight === 800) {
      //do something appropriate.
   }
}; 
```

如果这看起来很痛苦，请添加一些辅助函数。例如，创建一个函数，该函数期望具有各种键的对象，这些键包含依赖于大小的函数，以针对不同的大小运行。它可能被称为这样的东西：

```
doSomethingSizeSensitive({
   800: function() {
   },
   1024: function() {
   },
   1600: function() {
   }
}); 
```

然后，您可以在该函数中编写代码，根据当前屏幕尺寸和传入的对象键，最好地选择正确的结果。它可以返回您传入的适当函数或值，而不是`doSomethingSizeSensitive`实际运行函数，然后您可以使用或存储它们：

```
var myaction = getSizeSensitiveFunction({
   800: function() {
   },
   1024: function() {
   },
   1600: function() {
   }
});
myaction(); // for the rest of the lifecycle of the page, it does the right thing. 
```

你可以让你的函数返回任何东西——不仅仅是函数，还有值。如果屏幕尺寸是 1280 或 1528 或其他一些奇怪的尺寸怎么办？您需要智能地选择功能。考虑如何抽象出必须不同的部分，通过将其编码在对象中或检测从其他代码调用的风格函数中，以便*您的代码的其余部分都可以相同*。

也许你应该有一个完整的设置对象：

```
sizedata = {
   800: {
      something1: function() {},
      value1: 'small'
   },
   1600: {
      something2: function() {},
      value2: 'large'
   },
}; 
```

结合正确选择正确`sizedata`子对象的功能，现在您可以随时调整某些内容或添加新的屏幕尺寸。这一切都在一个地方！当需要修理或维护时，您就像在天堂一样。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-08T04:26:07.163

通过将脚本附加到文档。

```
if(window.innerHeight == 800){
    var script = document.createElement("script");
    script.src = "storybook.js";
    document.getElementsByTagName("head")[0].appendChild(script);
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-08T04:29:35.397

```
var s = document.createElement("script");
s.src="myscript.js";
document.head.appendChild(s); 
```

哦，伙计，同时有这么多相同的答案。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-08T04:49:39.627

我是 javascript 新手，但我有一个想法，您可以将 id 设置为，`<header id='h'></header>`然后您可以使用以下代码将脚本附加到标头：

```
var h = document.getElementById('h');
var scripts = document.createElement('script');
switch(window.innerHeight){
    case 800:
      scripts.src = 'storybook.js';
      scripts.type = 'text/javascript';
      break;
}
h.appendChild(scripts); 
```

您可以通过添加更多案例来更改脚本源。谢谢阅读。

# javascript - 如何将 JavaScript 函数的结果放入 python 变量中。PyQt

> ID：14208166
> 
> 赞同：6
> 
> 时间：2013-01-08T04:22:18.183
> 
> 标签：javascript, python, qt, pyqt

我想在 PyQt evaluateJavaScript() （或者可能是类似的）中创建一个函数，然后显示评估函数的结果。真正的函数会更大，而且它可能不是字符串。

我只对如何在 PyQt 代码中创建函数并将结果放入 python 变量感兴趣。

为了更清楚，我会给你一个例子：这就是我想`loadFinished`在[http://jquery.com](http://jquery.com)之后输入的 js ：

```
w = document.getElementsByTagName('p')[0];
w.innerHTML 
```

如果我在浏览器控制台中执行此操作，我将得到一个输出：

```
"jQuery is a fast and concise JavaScript Library ...... blah blah blah" 
```

我想将此输出存储在一个变量中。

```
#!/usr/bin/env python

from PyQt4.QtCore import *
from PyQt4.QtGui import *
from PyQt4.QtWebKit import *
import os, sys, signal
from urllib2 import urlopen

class GBot(QWebView):

    def __init__(self):
        QWebView.__init__(self)
        self.setPage(BrowserSettings())
        #self.jquery = get_jquery()
        self.load(QUrl('http://jquery.com'))
        self.frame = self.page().currentFrame()

    def _loadFinished(self, ok):
        doc = self.frame.documentElement()
        #doc.evaluateJavaScript(self.jquery)
        r = doc.evaluateJavaScript('''w = document.getElementsByTagName('p')[0]; w.innerHTML''')
        print r #want to do something like this

if __name__ == '__main__':
    app = QApplication(sys.argv)
    bot = GBot()
    bot.show()
    if signal.signal(signal.SIGINT, signal.SIG_DFL):
        sys.exit(app.exec_())
    app.exec_() 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-08T10:54:40.047

在这个例子中，我首先通过传递给主框架来创建一个`myWindow`javascript 对象，然后调用when ：`self``evaluateJavaScript``loadFinished`

```
#!/usr/bin/env python
#-*- coding:utf-8 -*-

from PyQt4 import QtCore, QtGui, QtWebKit  

getJsValue = """ 
w = document.getElementsByTagName('p')[0];
myWindow.showMessage(w.innerHTML);
"""  

class myWindow(QtWebKit.QWebView):  
    def __init__(self, parent=None):
        super(myWindow, self).__init__(parent)

        self.page().mainFrame().addToJavaScriptWindowObject("myWindow", self)

        self.loadFinished.connect(self.on_loadFinished)

        self.load(QtCore.QUrl('http://jquery.com'))

    @QtCore.pyqtSlot(str)  
    def showMessage(self, message):
        print "Message from website:", message

    @QtCore.pyqtSlot()
    def on_loadFinished(self):
        self.page().mainFrame().evaluateJavaScript(getJsValue) 

if __name__ == "__main__":
    import sys

    app = QtGui.QApplication(sys.argv)
    app.setApplicationName('myWindow')

    main = myWindow()
    main.show()

    sys.exit(app.exec_()) 
```

# iphone - [__NSCFString JSONValue]：无法识别的选择器发送到实例 0x78e1000

> ID：14208167
> 
> 赞同：1
> 
> 时间：2013-01-08T04:22:31.077
> 
> 标签：iphone, json

我是 iphone 开发的新手。在这里我在执行我的代码时遇到问题

```
-[__NSCFString JSONValue]: unrecognized selector sent to instance 0x78e1000
2013-01-08 09:43:21.194 loanjson[655:11303] *** Terminating app due to uncaught exception 'NSInvalidArgumentException', reason: '-[__NSCFString JSONValue]: unrecognized selector sent to instance 0x78e1000'
*** First throw call stack:
(0x1c8d012 0x10cae7e 0x1d184bd 0x1c7cbbc 0x1c7c94e 0x2b34 0xbd0e59 0xbcef22 0xbd016a 0xbceedd 0xbcf055 0xb1c338 0x460aa81 0x4609d33 0x4647e3a 0x1c2f8fd 0x46484bc 0x4648435 0x45323a0 0x1c10f3f 0x1c1096f 0x1c33734 0x1c32f44 0x1c32e1b 0x1be77e3 0x1be7668 0x1265c 0x2322 0x2255)
libc++abi.dylib: terminate called throwing an exception 
```

我不知道为什么会出现这个错误，我正在使用 JSON 请求和响应，我已经检查了要在 NSString 中解析的所有 JSON 值这是我的 .m 文件中的代码

```
- (void)connectionDidFinishLoading:(NSURLConnection *)connection
{
    [connection release];

    NSString *responseString = [[NSString alloc] initWithData:responseData encoding:NSUTF8StringEncoding];
    self.responseData = nil;

    NSArray* latestLoans = [(NSDictionary*)[responseString JSONValue] objectForKey:@"loans"];
    [responseString release];
    NSLog(@"%@",latestLoans);

    //choose a random loan
    NSDictionary* loan = [latestLoans objectAtIndex:0];

    //fetch the data
    NSNumber* fundedAmount = [loan objectForKey:@"funded_amount"];
    NSNumber* loanAmount = [loan objectForKey:@"loan_amount"];
    float outstandingAmount = [loanAmount floatValue] - [fundedAmount floatValue];

    NSString* name = [loan objectForKey:@"name"];
    NSLog(@"====:%@",(NSDictionary*)[loan objectForKey:@"location"]);
    NSString* country = [(NSDictionary*)[loan objectForKey:@"location"] objectForKey:@"country"];

    //set the text to the label
    label.text = [NSString stringWithFormat:@"Latest loan: %@ from %@ needs another $%.2f, please help",
                  name,country,outstandingAmount
                  ];
} 
```

请指导我，谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T04:32:12.620

如果您正在使用`iOS 5`或更高版本，那么您可以使用它

```
NSError* error;
NSDictionary* json = [NSJSONSerialization JSONObjectWithData:responseData options:kNilOptions error:&error];
 NSArray* latestLoans = [json objectForKey:@"loans"] 
```

* * *

我认为您使用的 3rd 方 JSON 解析器可能是[**SBJSON**](http://stig.github.com/json-framework/api/3.2/)。请包含此工具包并使用**[NSString_SBJsonParsing](http://sbjson.org/api/3.2/Categories/NSString+NSString_SBJsonParsing.html)**类别的`JSONValue`方法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T04:27:36.140

`NSString`没有名为 的方法`JSONValue`。这就是为什么它会抛出无法识别的选择器。[您可以使用Json Kit](https://github.com/johnezang/JSONKit)等第三方 Json 框架来解析 json。

如果使用 SBJson Framewrok，请尝试以这种方式解析！

```
- (void)connectionDidFinishLoading:(NSURLConnection *)connection
{
[connection release];

NSString *responseString = [[NSString alloc] initWithData:responseData encoding:NSUTF8StringEncoding];
self.responseData = nil;
SBJSON *parser = [[SBJSON alloc] init];  
NSDictionary *jsonArray = (NSDictionary *) [parser objectWithString:responseString error:nil]; 
NSArray *latestLoans = [jsonArray valueForKey:@"loans"];
[responseString release];
[parser release];
NSLog(@"%@",latestLoans);

//choose a random loan
NSDictionary* loan = [latestLoans objectAtIndex:0];

//fetch the data
NSNumber* fundedAmount = [loan objectForKey:@"funded_amount"];
NSNumber* loanAmount = [loan objectForKey:@"loan_amount"];
float outstandingAmount = [loanAmount floatValue] - [fundedAmount floatValue];

NSString* name = [loan objectForKey:@"name"];
NSLog(@"====:%@",(NSDictionary*)[loan objectForKey:@"location"]);
NSString* country = [(NSDictionary*)[loan objectForKey:@"location"] objectForKey:@"country"];

//set the text to the label
label.text = [NSString stringWithFormat:@"Latest loan: %@ from %@ needs another $%.2f, please help",
              name,country,outstandingAmount
              ];
} 
```

# sidebar - 谷歌网站：点击顶部菜单并在侧边栏显示子菜单

> ID：14208172
> 
> 赞同：0
> 
> 时间：2013-01-08T04:23:05.773
> 
> 标签：sidebar, google-sites

我不知道这是否适合询问有关 Google 网站的问题。我想知道谷歌网站是否有可能在顶部有一个水平菜单，单击顶部菜单中的一项会在侧栏上显示其子菜单？谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-11T16:40:42.043

你可以这样做！您必须将其添加到使用水平菜单打开的页面上。
编辑页面 -> 插入 -> 选择子页面列表。
在子页面列表中，您可以选择要在菜单中显示的位置和级别。查看此[解释](https://sites.google.com/site/sitetemplateinfo/tips/use-the-sub-page-listing-gadget)以了解如何执行此操作。

# c# - 安装后未加载 Outlook 2010 加载项

> ID：14208181
> 
> 赞同：0
> 
> 时间：2013-01-08T04:23:36.727
> 
> 标签：c#, visual-studio-2010, outlook-addin

我是 Outlook 加载项的新手。我在 Visual Studio 2010 中使用 c#.net 为 Outlook 2010 开发了一个 Outlook 插件。我还开发了表单区域和设置项目。

当我从 Visual Studio 调试加载项时，它工作得很好。但是，如果我从`setupproject/bin/release/setup.exe`文件夹安装加载项，则不会发生任何事情。

它显示安装程序已成功安装，但在我启动 Outlook 时未出现加载项。`setup.exe`也不能在另一台计算机上工作。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-09T02:41:54.797

我找到了解决方案。

现在我的插件在每台计算机上都可以正常工作。

我只是发布我的 Visual Studio 解决方案而不是设置项目，因为我的加载项包含表单区域。并通过 setup.exe 从发布文件夹安装加载项。

对于那些想要像我一样做的人，您可以按照以下步骤从该链接发布您的加载项：http: [//msdn.microsoft.com/en-us/library/bb772100.aspx](http://msdn.microsoft.com/en-us/library/bb772100.aspx)

毛萨米

# php - 如何防止`NSURL`连接到属性列表中意外字符停止

> ID：14208183
> 
> 赞同：0
> 
> 时间：2013-01-08T04:23:57.447
> 
> 标签：php, ios, nsurlconnection, eof, property-list

我无法在我的数据中检测到不正确的字符。我正在使用 SimplePost 发布数据、`PHP`处理**数据**、**存储**数据、`MySQL`准备**PHP**的返回以及接收响应，如下所示。我在我的应用程序的几个地方使用它，而且一切通常都很棒。现在我的数据在增长，而且我经常遇到错误。**`PlistParser`**`NSURLConnection`****

 ****SimplePost 正在使用：

```
 NSString *escapedString = (__bridge_transfer NSString *) CFURLCreateStringByAddingPercentEscapes(NULL, (__bridge CFStringRef)([dictionary objectForKey:[keyArray objectAtIndex:i]]),NULL, (CFStringRef)@"!*'();:@&=+$,/?%#[]", kCFStringEncodingUTF8); 
```

这是我的连接代码：

```
//  connection to URL finished with Plist-formatted Questions data array returned from PHP
- (void) connection:(NSURLConnection *)connection didReceiveData:(NSData *)data {
    NSString  *error;
    NSArray *array = (NSArray *)[NSPropertyListSerialization propertyListFromData:data mutabilityOption:NSPropertyListImmutable format:0 errorDescription:&error];
    if( error ) {
        NSLog(@"Error = %@", error );
    return;
} 
```

错误是：

```
Unexpected character x at line 1
Encountered unexpected EOF
... and such 
```

当我直接查看 SimplePost 转义字符串或 PHP 函数返回的数据时，我看不到任何异常。我不知道是什么导致了错误。

我可以在某处进行更多过滤以防止此类错误吗？谢谢您的帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T05:55:57.213

您是否尝试过使用 URLEncoding 而不是 escapeStrings？您可能正在尝试输入像“&”这样的字符，它会弄乱您的代码......

例如：如果“var2”等于这个字符串“54&3er”而不是这个： [http://test.php?var1=jl5&var2=54&3er&var3=blah](http://test.php?var1=jl5&var2=54&3er&var3=blah)

现在你有一个没有赋值的随机键“3er”......

谷歌“URL编码”****

# java - Java 和 C：如何将此 C 源文件编译成 DLL 以供 Java 使用？

> ID：14208186
> 
> 赞同：1
> 
> 时间：2013-01-08T04:24:13.467
> 
> 标签：java, c, dll

我买了这本书 Pro Android Games（尽管我不是专业人士，但我正在追赶）并且需要编译一个 DLL 以在 Java 项目中使用。这是代码：

库文件

```
#include <stdio.h>
#include <stdlib.h>
#include <stdarg.h>
#include <jni.h>

#include "include/jni_Natives.h"

#define CB_CLASS "jni/Natives"

/**
 * OnMessage callback
 */
#define CB_CLASS_MSG_CB  "OnMessage"
#define CB_CLASS_MSG_SIG  "(Ljava/lang/String;I)V"

// prototypes

// Lib main Sub
int lib_main(int argc, char **argv) ;

// Used to get the len of a Java Array
const int getArrayLen(JNIEnv * env, jobjectArray jarray);

// printf str messages back to java
void jni_printf(char *format, ...);

// Global env ref (for callbacks)
static JavaVM *g_VM;

// Global Reference to the native Java class jni.Natives.java
static jclass jNativesCls;

/*
 * Class:     jni_Natives
 * Method:    LibMain
 * Signature: ([Ljava/lang/String;)V
 */
JNIEXPORT jint JNICALL Java_jni_Natives_LibMain
  (JNIEnv * env, jclass class, jobjectArray jargv)
{
    // obtain a global ref to the caller jclass
    (*env)->GetJavaVM(env, &g_VM);

    // Extract char ** args from Java array
    jsize clen =  getArrayLen(env, jargv);

    char * args[(int)clen];

    int i;
    jstring jrow;
    for (i = 0; i < clen; i++)
    {
        // Get C string from Java Strin[i]
        jrow = (jstring)(*env)->GetObjectArrayElement(env, jargv, i);
        const char *row  = (*env)->GetStringUTFChars(env, jrow, 0);

        args[i] = malloc( strlen(row) + 1);
        strcpy (args[i], row);

        // print args
        jni_printf("Main argv[%d]=%s", i, args[i]);

        // free java string jrow
        (*env)->ReleaseStringUTFChars(env, jrow, row);
    }

    /*
     * Load the jni.Natives class
     */
    jNativesCls = (*env)->FindClass(env, CB_CLASS);

    if ( jNativesCls == 0 ) {
        jni_printf("Unable to find class: %s", CB_CLASS);
        return -1;
    }

    // Invoke the Lib main sub. This will loop forever
    // Program args come from Java
    lib_main (clen, args);

    return 0;
}

/**
 * Send a string back to Java
 */
jmethodID mSendStr;

static void jni_send_str( const char * text, int level) {
    JNIEnv *env;

    if ( !g_VM) {
        printf("I_JNI-NOVM: %s\n", text);
        return;
    }

    (*g_VM)->AttachCurrentThread (g_VM,  &env, NULL); // (void **)

    // Load jni.Natives if missing
    if ( !jNativesCls ) {
        jNativesCls = (*env)->FindClass(env, CB_CLASS);

        if ( jNativesCls == 0 ) {
                printf("Unable to find class: %s", CB_CLASS);
                return;
        }
    }

    // Call jni.Natives.OnMessage(String, int)
    if (! mSendStr ) {
        // Get  aref to the static method: jni.Natives.OnMessage
        mSendStr = (*env)->GetStaticMethodID(env, jNativesCls
            , CB_CLASS_MSG_CB
            , CB_CLASS_MSG_SIG);
    }
    if (mSendStr) {
        // Call method
        (*env)->CallStaticVoidMethod(env, jNativesCls
                , mSendStr
                , (*env)->NewStringUTF(env, text)
            , (jint) level );
    }
    else {
        printf("Unable to find method: %s, signature: %s\n"
                , CB_CLASS_MSG_CB, CB_CLASS_MSG_SIG );
    }
}

/**
 * Printf into the java layer
 * does a varargs printf into a temp buffer
 * and calls jni_sebd_str
 */
void jni_printf(char *format, ...)
{
    va_list argptr;
    static char string[1024];

    va_start (argptr, format);
    vsprintf (string, format,argptr);
    va_end (argptr);

    jni_send_str (string, 0);
}

/**
 * Get java array length
 */
const int getArrayLen(JNIEnv * env, jobjectArray jarray)
{
    return (*env)->GetArrayLength(env, jarray);
}

/**
 * Library main sub
 */
int lib_main(int argc, char **argv)  
{
    int i;

    jni_printf("Entering LIB MAIN");

    for ( i = 0 ; i < argc ; i++ ) {
        jni_printf("Lib Main argv[%d]=%s", i, argv[i]);
    }

    return 0;
} 
```

当我尝试使用 VS 或 Dev-CPP 编译时，**他们总是抱怨找不到 jni.h，即使我把它放在项目的包含目录**中。使用引号不会改变任何东西。此外，文件 jni.h 位于系统路径环境变量中。还有大约 18 个其他错误，这是不应该的，因为作者能够将其编译为 Ubuntu 的 SO...

我宁愿不为 Linux 发行版使用虚拟机或双引导而烦恼，但我可能不得不这样做。

如果有人可以帮助我将其构建为 DLL，则非常感谢。:)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T05:10:45.113

*关于使用 MinGW 构建 DLL，这里有一些非常简短的说明。*

[用 C/C++ 编译一个 DLL，然后从另一个程序调用它](https://stackoverflow.com/questions/847396/compile-a-dll-in-c-c-then-call-it-from-another-program)

*如何使用 JNI 从 Java 调用本机 (DLL) 代码*

本文详细介绍了使用 JNI（Java Native Interface）从 Java 调用原生 C/C++ 代码（在 DLL 中）的过程

[http://support.microsoft.com/kb/222092](http://support.microsoft.com/kb/222092)

# c# - 如何从 HttpRequestException 获取 JSON 错误消息

> ID：14208188
> 
> 赞同：2
> 
> 时间：2013-01-08T04:24:39.773
> 
> 标签：c#, dotnet-httpclient

我有一种情况，我必须`HttpResponseMessage`在语句中提取一个 Response()，`catch`但我认为不能完成（`await`在 catch 中使用）。另外，如果我在 catch 之后执行此操作，则`HttpResponseMessage`消息会“已处理”。代码：

```
 private async void MakeHttpClientPostRequest()
 {
     HttpResponseMessage response = null;
     try
     {
         HttpClient httpClient = new HttpClient();
         httpClient.Timeout = TimeSpan.FromSeconds(15);
         HttpContent httpContent = null;
         if (postJSON != null)
         {
             httpContent = new StringContent(postJSON);
             httpContent.Headers.ContentType = new MediaTypeHeaderValue("application/json");
         }

         response = await httpClient.PostAsync(url, httpContent);
         if (response != null)
         {
             response.EnsureSuccessStatusCode();
             netResults = await response.Content.ReadAsStringAsync();
         }

         if (this.convertedType != null)
         {
             MemoryStream assetReader = GetMemoryStreamFromString(netResults);
             assetReader.Position = 0;
             object value = fromJSON(assetReader, this.convertedType);
             networkReqSuccessWithObjectCallback(this, value);
         }
         else
         {
             //Return netResult as string.
             networkReqSuccessWithStringCallback(this, netResults);
         }
     }

     catch (TaskCanceledException)
     {
         ErrorException ee = null;
         ee = new ErrorException("RequestTimeOut");
         NotifyNetworkDelegates(ee);
     }
     catch (HttpRequestException ex)
     {
         //HERE I have to extract the JSON string send by the server
     }
     catch (Exception)
     {
     }
} 
```

在这里可以做什么？

* * *

**使用以下方法更新** 以前的方法`HttpWebRequest`：

```
public void MakePostWebRequest()
{
    //WebCalls using HttpWebrequest.
    HttpWebRequest request = (HttpWebRequest)HttpWebRequest.Create(url);
    request.CookieContainer = new CookieContainer();
    request.ContentType = "application/json";
    request.Method = "POST";
    requestState = RequestState.ERequestStarted;
    asyncResult = request.BeginGetRequestStream(new AsyncCallback(GetRequestStream), request);
}

private void GetRequestStream(IAsyncResult asyncResult)
{
    HttpWebRequest request = (HttpWebRequest)asyncResult.AsyncState;
    {
        try
        {
            Stream requestStream = request.EndGetRequestStream(asyncResult);
            if (request != null)
            {
                using (requestStream)
                {
                    StreamWriter writer = new StreamWriter(requestStream);
                    writer.Write(postJSON);
                    writer.Flush();
                }
            }
        }
        catch (WebException we)
        {
        }
    }
}

private void GetResponseStream(IAsyncResult asyncResult)
{
    requestState = RequestState.EResponseStream;

    HttpWebRequest request = asyncResult.AsyncState as HttpWebRequest;
    HttpWebResponse response;
    try
    {
        response = (HttpWebResponse)request.EndGetResponse(asyncResult);
        using (StreamReader reader = new StreamReader(response.GetResponseStream()))
        {
            netResults = reader.ReadToEnd();
        }
        requestState = RequestState.ERequestCompleted;
    }
    catch (WebException we)
    {
        // failure
        ErrorException ee = null;
        response = we.Response as HttpWebResponse;
        if (response != null)
        {
            using (StreamReader reader = new StreamReader(response.GetResponseStream()))
            {
                //HERE I'm getting the json error message
                netResults = reader.ReadToEnd();
            }
        }
    }
    catch (Exception e)
    {
        networkReqFailedCallback(this, e);
    }
} 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-01-08T05:28:07.240

我强烈怀疑问题是异常*实际上是*由您的调用引发的`EnsureSuccessStatusCode`，其[文档](http://msdn.microsoft.com/en-us/library/system.net.http.httpresponsemessage.ensuresuccessstatuscode.aspx)包含：

> 如果 Content 不为 null，此方法还将调用 Dispose 以释放托管和非托管资源。

基本上，如果您需要失败的内容，听起来您不应该使用该方法来确定成功或失败。

只需自己检查状态代码，并根据该代码适当地使用内容。请注意`response`，如果请求完全失败，则在您的 catch 块中很容易为空。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-08T04:38:05.697

这样做的正确方法是在 try 块本身内

```
try
{
    response = await httpClient.PostAsync(url, httpContent);

    netResults = await response.Content.ReadAsStringAsync();
     //do something with the result
}
catch(HttpRequestException ex)
{
     // catch any exception here
} 
```

捕获块用于处理异常情况。如果需要，请重新抛出，但应避免。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-08T05:41:14.820

只有在远程服务器实际响应的情况下才应提供响应。如果 Response 是`null`（据我所知，这是您的情况），这意味着由于某些原因，请求未交付或未收到响应（不知道哪个响应 - 使用代码 200（OK）或任何其他代码（错误））。请检查错误代码 ( `we.Status`)。确保它相等`WebExceptionStatus.ProtocolError`（即服务器响应错误）；否则，会发生一些其他错误并且响应不可用。

# asp.net - 如何向 web.config 中的现有 HttpForbiddenHandler 规则添加例外？

> ID：14208193
> 
> 赞同：1
> 
> 时间：2013-01-08T04:25:12.370
> 
> 标签：asp.net, web-config

这是我的 web.config 文件。此配置拒绝所有用户访问 pdf 文件，但我想添加一个例外，其中 ASP.NET 页面可以访问 PDF 文件。

```
<?xml version="1.0" encoding="UTF-8"?>
<configuration>
    <system.webServer>
        <directoryBrowse enabled="true" />
        <caching>
            <profiles>
                <add extension=".css" policy="DisableCache" kernelCachePolicy="DisableCache" />
                <add extension=".inc" policy="DisableCache" kernelCachePolicy="DisableCache" />
                <add extension=".html" policy="DisableCache" kernelCachePolicy="DisableCache" />
                <add extension=".asp" policy="DisableCache" kernelCachePolicy="DisableCache" duration="00:00:30" />
            </profiles>
        </caching>
        <validation validateIntegratedModeConfiguration="false" />
        <handlers>
            <add name="pdf" path="*.pdf" verb="*" type="System.Web.HttpForbiddenHandler" resourceType="Unspecified" requireAccess="Script" />
        </handlers>
    </system.webServer>
    <system.web>

        <authentication mode="Windows" />
        <authorization>
            <allow users="test" />
        </authorization>

    </system.web>
</configuration> 
```

例如，a`viewpdf.aspx`可以访问/加载所有 pdf 文件。

我可以在 web.config 中创建一个可以执行此操作的异常吗？

# android-widget - 无法在客户端打开文件，尝试服务器端.?

> ID：14208195
> 
> 赞同：9
> 
> 时间：2013-01-08T04:25:12.447
> 
> 标签：android-widget

我正在尝试从 streamURL 通过 videoview 播放视频，我收到 Logcat 错误：“无法在客户端打开文件，正在尝试服务器端”，我添加了 Androidmanifest Internet 权限，流 URL 中的错误是什么。？，这个是代码：

```
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
    VideoView videoView = (VideoView) findViewById(R.id.videoView1);
    MediaController mediaController = new MediaController(this);
    mediaController.setAnchorView(videoView);
    mediaController.setMediaPlayer(videoView);

    Uri video = Uri.parse("rtsp://s3/phimbo/hanquoc/2012/12/Horse.Doctor/Horse.Doctor.E02.mp4");
    videoView.setMediaController(mediaController);
    videoView.setVideoURI(video);
    videoView.start();
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-15T20:31:09.193

“无法在客户端打开文件，正在尝试服务器端”不是错误消息，而是来自 MediaPlayer 的调试消息。Logcat 在尝试播放网络视频流时总是这样说。至于您的问题，您的 rtsp url 似乎无效，因为“s3”不是一个完整的域。您是否尝试过在您的 url 中使用 IP 地址？你能用 VLC（来自[http://www.videolan.org](http://www.videolan.org)）播放视频吗？除了网址，我认为您的代码没有任何问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-01-23T15:23:27.437

一些问题，但仅在 HTC 上。我们在服务器端禁用了音频，它现在正在工作。我猜是音频编解码器的一些问题。

# jquery - DataTables 对象检索

> ID：14208197
> 
> 赞同：2
> 
> 时间：2013-01-08T04:25:22.173
> 
> 标签：jquery, datatable

我正在使用 jQuery dataTables 版本 1.9.2

表是用类创建的`datatable`并正确显示，但现在我想使用， `fnPageChange`因此我需要表的对象。

```
$(document).ready(function(){
        var oTbl = $(".datatable").dataTable();
    }); 
```

这段代码给出了警告，上面写着 -

```
DataTables warning (table id = 'tblCat'): Cannot reinitialise DataTable.    
To retrieve the DataTables object for this table, pass no arguments or
see the docs for bRetrieve and bDestroy. 
```

我读到版本 1.7 修复了关于[此处](http://datatables.net/forums/discussion/2913/how-to-get-the-otable-datatable-object-from-the-tables-id/p1)弹出的问题。

如何让表的现有对象使用？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-08T05:34:13.853

我所做的是-在初始化数据表时将其`'bRetrieve':true`添加到代码中。

而且我能够获取现有表的对象，并且我还能够使用 `fnPageChange`.

这至少对我现在有用，如果这会在将来产生任何新问题，让 c ... :)

以下代码有效。

```
 $(document).ready(function($){
  // column count starts with 0
  var oTbl = $('.datatable').dataTable(
   {"sDom": "<'row-fluid'<'span6'l><'span6'f>r>t<'row-fluid'<'span12'i><'span12 center'p>>",
   "sPaginationType": "bootstrap",
   "bFilter": false,
   "bInfo" : false,
   // list of columns those will be unsortable
   "aoColumnDefs": [ { "bSortable": false, "aTargets": [ 6 ] }],
   "bRetrieve":true,
   "oLanguage": {"sLengthMenu": "_MENU_ records per page"}} );
   // default sorting on this column
   oTbl.fnSort( [ [5,'desc'] ]);
  }); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-10-03T16:11:22.980

```
$(document).ready(function(){
          $content.find("table.datatable").dataTable({
        "sPaginationType": "full_numbers",
        "bRetrieve":true,
        "bDestroy": true
    });
}; 
```

# git - Git 分支转移问题和工作流程

> ID：14208200
> 
> 赞同：0
> 
> 时间：2013-01-08T04:25:47.730
> 
> 标签：git

我怀疑我遵循的工作流程是否正确，或者我是否搞砸了情况。

我正在本地和远程创建的分支上开发一项新功能。我是唯一一个为此工作的人。

我使用以下方法创建它：

```
git checkout -b rotation upstream/master 
```

现在我进行了更改并提交：

```
git commit 
```

并将更改推送到远程分支：

```
git push origin rotation 
```

我的问题现在开始。`git fetch upstream`我在这一点上打字。

现在当`git status`我得到，

```
vinayan@vinayan-MS-7623:~/QgisGitWorking/Quantum-GIS$ git status
# On branch rotatation
# Your branch and 'upstream/master' have diverged,
# and have 4 and 5 different commits each, respectively.
#
nothing to commit (working directory clean) 
```

我对分支分歧的消息感到困惑。

1.  这里有什么问题吗？
2.  如果我继续在这里提交更改并推送到上游，会有问题吗？
3.  如果有问题，纠正它的最佳方法是什么？

我对 git 很陌生。以前我只使用过 VSS。

**编辑：**

```
vinayan@vinayan-MS-7623:~/QgisGitWorking/Quantum-GIS$ git remote -v
origin  git@github.com:vinayan/Quantum-GIS.git (fetch)
origin  git@github.com:vinayan/Quantum-GIS.git (push)
upstream    git://github.com/qgis/Quantum-GIS.git (fetch)
upstream    git://github.com/qgis/Quantum-GIS.git (push) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-08T04:57:16.743

你推`rotation`到`origin`，但你取自`upstream`。这是两个不同的遥控器，因此是两个具有不同历史的不同存储库。

```
# list remotes
git remote -v 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-08T07:15:05.997

的想法`upstream`是允许您自己的 repo 在 repo 的最新版本之上重新定位自己`upstream`。
这样，您可以与上游保持同步，同时将您自己的贡献推送到 ' `origin`' （这是一个分叉：`upstream`您拥有的 repo 的克隆）。

你可以推到`origin`。你不能推送到`upstream`（你不是贡献者）
请参阅“ [GitHub 中的](https://stackoverflow.com/questions/9257533/what-is-the-difference-between-origin-and-upstream-in-github/9257901#9257901)[和有](https://stackoverflow.com/questions/9257533/what-is-the-difference-between-origin-and-upstream-in-github/9257901#9257901)[什么区别`origin``upstream`](https://stackoverflow.com/questions/9257533/what-is-the-difference-between-origin-and-upstream-in-github/9257901#9257901)？ ”

![上游的](../Images/6b42ad642884a41e27332482fabf8d13.png)

在你的情况下，我会推荐，因为`upstream/master`它有自己的历史（与你的改变平行）

```
git checkout rotation
git rebase upstream/master
git push -f origin rotation 
```

请注意，您在 fork 上强制推送（即重新创建更改的历史记录）`origin/rotation`：如果没有其他贡献者已经从您的 fork 中拉出，这应该不是问题。
您的工作`rotation`将基于最新的`upstream/master`，这将简化您可能想要做的[未来拉取请求。](https://stackoverflow.com/questions/7178749/github-fork-queue-vs-pull-request/7181230#7181230)

# android - MvvmCross Android - 按钮命令的 RelativeSource 绑定的替代方案

> ID：14208203
> 
> 赞同：2
> 
> 时间：2013-01-08T04:26:00.357
> 
> 标签：android, binding, xamarin.android, mvvmcross

我有一个使用 MvxItemTemplate 绑定到 MvxBindableListView 的项目列表。我的列表中通常有 4 个项目绑定到我的视图。数据得到更新，视图显示新数据就好了![在此处输入图像描述](../Images/97dd535fad978081784c2deb8148a113.png)。

现在，我想在这个项目模板中添加两个按钮。但是，相对源绑定不适用于 MvvmCross。（见图）

但是我很难找到解决方案。

我已经尝试过列表项的 ItemClick 绑定，但这只给了我 1 次点击的可能性，我需要 2 次。

任何人都可以帮忙吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-08T07:36:17.230

[请参阅 MVVMCross 在MvxBindableListView 中更改 ViewModel](https://stackoverflow.com/questions/12682082/mvvmcross-changing-viewmodel-within-a-mvxbindablelistview)中的答案中的第二个选项- 这涵盖了执行此操作的一种方法。

使用这种方法，您将公开一个对象列表，例如：

```
public class Wrapped
{
    public ICommand GoThruCommand { get; set; }
    public ICommand OpenCommand { get; set; }
    public string Name { get; set; }
} 
```

并且您将使用带有绑定控件的 axml 列表模板，例如：

```
<TextView
    ...
    local:MvxBind="{'Text':{'Path':'Name'}}" />

<Button
    ...
    local:MvxBind="{'Click':{'Path':'GoCommand'}}" />    

<Button
    ...
    local:MvxBind="{'Click':{'Path':'ThruCommand'}}" /> 
```

* * *

如果您对 mvx 中的相关源有建议/请求，请将它们添加到[https://github.com/slodge/MvvmCross/issues/35](https://github.com/slodge/MvvmCross/issues/35)

# linux - 将 txt 文件中的数据相加，然后在一行上输出

> ID：14208206
> 
> 赞同：0
> 
> 时间：2013-01-08T04:26:29.430
> 
> 标签：linux, unix, redhat, aix

(cat Type.txt && cat Test.txt && cat Owner.txt) > test.txt

那是我的代码它总是像

dddddddddddddd

啊啊啊啊啊

sssssssssssssssssssssssssssssssssssss

但我想要这样的txt文件中的输出

dddddddddddaaaaaaaaaaaassssssssssssss

我被困在这个：3

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-08T04:31:41.473

改用`paste`：

```
paste -d "" Type.txt Test.txt Owner.txt 
```

结果：

```
dddddddddddddaaaaaaaaaaaaasssssssssssss 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-08T04:45:34.547

一个简单的方法是

```
echo `cat Type.txt Test.txt Owner.txt` > test.txt 
```

或者，等效地，

```
echo $(cat Type.txt Test.txt Owner.txt) > test.txt 
```

几个缺点：

1.  它们将输出`ddddddddddddd aaaaaaaaaaaaa sssssssssssss`（文件之间有空格——或者更准确地说，文件中的行之间有空格）。
2.  *如果失败，您*的命令行将停止运行`cat Type.txt`，因为您将`cat`命令与`&&`. 由于这些`echo`命令只调用一个`cat`命令，你会得到`Test.txt`，`Owner.txt`即使`Type.txt`不存在。

如果上述任何一项都令人讨厌，那就下来并弄脏

```
(tr -d "\n" < Type.txt  &&  tr -d "\n" < Test.txt  &&  cat Owner.txt) > test.txt 
```

# java - 什么是抽象按钮？

> ID：14208209
> 
> 赞同：2
> 
> 时间：2013-01-08T04:26:40.870
> 
> 标签：java, button

我正在学习 Java 中的 Swing，它指出很多按钮都继承自抽象按钮，我不确定这意味着什么。我是否必须实现或扩展它，抽象按钮的目的是什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-08T04:30:25.963

抽象按钮是一个框架提供的类，它实现了按钮的一些（但不是全部）行为。最有可能的是，您永远不必扩展它。

为了记录，“扩展”和“创建子类”是一回事。至于“实现”，在Java中，该术语用于实现*接口*。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-08T04:37:17.477

抽象按钮类定义了摆动中按钮和菜单项的常见行为。

# java - Android上的滑动导航示例？

> ID：14208211
> 
> 赞同：4
> 
> 时间：2013-01-08T04:26:49.620
> 
> 标签：java, android

我试图弄清楚如何为横向导航创建三个视图，但[developer.android.com](http://developer.android.com/training/implementing-navigation/lateral.html#horizontal-paging)提供的示例没有用，因为它们仅适用于 API 11 转发。我一直在寻找滑动导航的简单复制/粘贴示例，但我没有任何运气。

我找到了在活动或不同布局之间切换的教程，但这不是我想要做的，我需要以编程方式生成每个“屏幕”。这是因为我正在处理应该像主屏幕一样工作的东西，并且屏幕数量可能会有所不同。

有人可以提供一些关于如何以编程方式创建具有横向导航的三个视图的示例/教程吗？任何事情都会有所帮助。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-01-10T19:19:05.837

这是主要活动：

```
public class MainActivity extends Activity {

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        MyPagerAdapter adapter = new MyPagerAdapter();
        ViewPager myPager = (ViewPager) findViewById(R.id.home_pannels_pager);
        myPager.setAdapter(adapter);
        myPager.setCurrentItem(0);
    }

} 
```

在同一个包中创建另一个名为 MyPagerAdapter 的类：

```
 public class MyPagerAdapter extends PagerAdapter {

        // State number of pages
        public int getCount() {
            return 5;
        }

        // Set each screen's content
        @Override
        public Object instantiateItem(View container, int position) {
            Context context = container.getContext();
            LinearLayout layout = new LinearLayout(context);
            // Add elements
            TextView textItem = new TextView(context);

            buttonItem.setOnClickListener(new View.OnClickListener() {
                @Override
                public void onClick(View v) {
                    Intent intent = new Intent("com.phone");
                   // myFancyMethod(v);
                }
            });

            switch (position) {
            case 0:
               textItem.setText("First Screen");
               break;
            case 1:
               textItem.setText("Second Screen");
               break;
            case 2:
                textItem.setText("Third Screen");
                break;

  case 3:
            textItem.setText("Fourth Screen");
            break;
        case 4:
            textItem.setText("Fifth Screen");
            break;
        }
        layout.addView(textItem);
        ((ViewPager) container).addView(layout, 0); // This is the line I added
        return layout;
    }
    @Override
    public void destroyItem(View arg0, int arg1, Object arg2) {
        ((ViewPager) arg0).removeView((View) arg2);
    }
    @Override
    public boolean isViewFromObject(View arg0, Object arg1) {
        return arg0 == ((View) arg1);
    }
    @Override
    public Parcelable saveState() {
        return null;
    }
} 
```

最后在 /res/layout 中创建 activity_main.xml：

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:orientation="vertical"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent">
    <android.support.v4.view.ViewPager
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:id="@+id/home_pannels_pager"/>
</LinearLayout> 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-08T04:30:46.150

访问该[站点](http://viewpagerindicator.com/)，它为滑动视图导航提供了更好的库

# ruby-on-rails - 有没有办法将额外的时间链接到日期？

> ID：14208214
> 
> 赞同：0
> 
> 时间：2013-01-08T04:27:21.300
> 
> 标签：ruby-on-rails, ruby-on-rails-3

我想做类似的事情：

```
Date.today.at_beginning_of_month.to_time.+2.hours.to_i 
```

当我包括

```
.to_i 
```

方法我没有得到我正在寻找的 unix 时间。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-08T04:41:53.577

.to_i 绑定到 2.hours 表达式，产生一个 Fixnum (7200)。将 Fixnum 添加到 Time 对象可以获得另一个 Time 对象。

将表达式包装在括号中以获得所需的结果：

```
(Date.today.at_beginning_of_month.to_time + 2.hours).to_i 
```

# asp.net - 如何将用户控件分配给后面的扩展代码？

> ID：14208230
> 
> 赞同：1
> 
> 时间：2013-01-08T04:29:24.093
> 
> 标签：asp.net, user-controls

我有一系列几乎相同的 ASP.NET 页面，除了后面代码中的一些抽象属性。

每个页面 (/default.aspx) 都包含一个用户控件：

```
<UI:SingleRaterControl runat="server" /> 
```

以前，各种代码背后都是复制和粘贴基本相同的东西。在 /default.aspx.cs 的每个版本中，都有一个受保护的属性来保存用户控件。

```
public class _default: SingleRaterBase
{
    protected SingleRaterControl singleRaterControl;
    ...
} 
```

为了减少我必须维护的代码量，我在名为 EProfileDefault 的抽象类中创建了它，它将包含 _default 类的所有公共代码（每个 _default 类都在不同的命名空间中）。

所以现在我有

```
public abstract class EProfileDefault: SingleRaterBase
{
    protected SingleRaterControl singleRaterControl;
    ...
} 
```

每个 _default 类都有

```
public class _default : EProfileDefault
{
    ...
} 
```

但是，SingleRaterControl 不再自动分配给后面的代码。

这是因为 ASP.NET 魔术只会自动将用户控件分配给类后面代码的直接实例，只要它具有相同的名称（如[本文](http://www.devx.com/vb2themax/Tip/18843)所建议的那样）？

如果是这样，是否可以手动查找并分配用户控件？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-09T02:41:49.347

正如@aquinas 所建议的，给控件一个 ID，控件将被分配给与控件 ID 同名的受保护属性。

# ios - 视频 url 在 ipad 浏览器上播放，但不在 MPMoviePlayerController 中

> ID：14208243
> 
> 赞同：0
> 
> 时间：2013-01-08T04:31:18.883
> 
> 标签：ios, ipad, cocoa-touch, video-streaming, mpmovieplayercontroller

我想显示来自服务器的点播视频。我正在使用`MPMoviePlayerController`这个。它适用于苹果提供的一些流媒体 URL。例如：[http ://devimages.apple.com/iphone/samples/bibpop/gear1/prog_index.m3u8](http://devimages.apple.com/iphone/samples/bipbop/gear1/prog_index.m3u8)

我的客户提供的视频 URL 在相同的代码中不起作用。我`-1001 error`在请求超时时得到了哪个，但相同的 URL 在 iPad 浏览器上工作正常。

我该如何调试这个问题？如何确定此请求超时的可能原因。

我知道这个`mediastreamvalidator`工具，但我不知道我的客户端是否在服务器端实现了 HTTP 流。

请指导我调试它。

提前致谢，

# modx - Modx：getResources - 按 id 升序/降序排序？

> ID：14208250
> 
> 赞同：0
> 
> 时间：2013-01-08T04:32:16.953
> 
> 标签：modx, modx-revolution, getresource

我想尝试按 ID 升序排列我的资源。

令人讨厌的是，尽管我确信这是可能的，但文档并没有提到这一点。

目前我有：

```
&sortby=`id` 
```

有人知道按升序或降序排序的正确方法吗？

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-08T04:43:08.633

您确定您正在阅读[正确的文档](http://rtfm.modx.com/display/ADDON/getResources#getResources-SelectionProperties)吗？

你应该可以使用

```
[[getResources? &sortby=`id` &sortdir=`ASC` ... 
```

# css - 纯粹的 CSS Dropdown 在 IE 中不起作用

> ID：14208252
> 
> 赞同：0
> 
> 时间：2013-01-08T04:32:21.077
> 
> 标签：css, wordpress, drop-down-menu

我刚刚构建了[http://www.utahaddictioncenters.com/](http://www.utahaddictioncenters.com/)并注意到主导航中的下拉菜单在 IE 中根本没有显示。当您向下移动到导航项的底部时，您会看到悬停时出现一个较浅的阴影，但菜单的其余部分没有显示。我尝试过设置高度、更改 z-index 和其他一些东西，但没有任何效果。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T04:44:12.410

对我来说，这似乎是一个堆叠问题。**当您在 IE 中拥有绝对定位的元素和相对定位的元素时会出现问题，**因此只需将其全部弄清楚即可。我强烈建议使用基于 javascript 的下拉菜单或 jQuery 下拉菜单。这样做可能会对您有所帮助，因为 javascript 的行为可能会有所不同。它还使解决这些问题变得更容易！我看到你正在使用 wordpress，你可以下载一个插件来为你做这件事！不是一个明确的答案，但至少这是一个开始！

# perl - (Perl) 为多个文件运行相同的代码

> ID：14208254
> 
> 赞同：1
> 
> 时间：2013-01-08T04:32:23.717
> 
> 标签：perl

截至目前，我有 22 个文件和 22 个独立但相同（在任务中）的每个文件的脚本。基本上，这就是我所拥有的：

`file_1.txt, file_2.txt,..., file_22.txt`

对于每个文件，我都有一个脚本：

`script_1.pl, script_2.pl,..., script_22.pl`

输出

`output_1.txt, output_2.txt,..., output_22.txt`

分别。

我现在要做的是编写一个脚本，该脚本将同时运行所有脚本（script_1.pl - script_22.pl），这样我就不必每次更新文件时都单独运行它们. 它们都分开的原因是因为我不知道如何循环文件名，并为每个文件名分配一个新的输出文件。我希望有人能帮我解决这个问题：一个脚本可以一次读取所有文件，为每个文件运行脚本（它是一个相同的脚本），并为每个文件打印一个新的输出文件，如上所列。

编辑：我想我应该包括我现在拥有的东西。我确实有一些可行的方法，但它仍然依赖于我拥有 22 个单独的脚本这一事实。我一直在做的事情如下：

`system("perl script_1.pl");`

`system("perl script_2.pl");`

`...`

`system("perl script_22.pl");`

我希望能够将所有内容组合成一个紧凑的脚本。任何帮助将不胜感激！提前致谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-08T04:39:34.947

您可以从中获取程序参数列表，`@ARGV`然后在`for`循环中运行您的代码。

```
for my $input_file (@ARGV) {
    my $output_file = $input_file.".out";

    process_file($input_file, $output_file);
}

sub process_file {
    my($input_file, $output_file) = @_;

    ...do whatever you like with the input and output file...
} 
```

然后你可以像这样运行你的程序：

```
myprogram file1 file2 file3 
```

它将读取 file1、file2 和 file3 并生成 file1.out、file2.out 和 file3.out。

这是一些非常基本的编程和一些非常基本的 Perl。您可能应该备份并阅读一些 Perl 入门书籍。我可以推荐[Curtis Poe 的Beginning Perl](http://ofps.oreilly.com/titles/9781118013847/)，它刚刚问世。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-08T04:44:40.613

假设您可以访问`Bash`：

```
$ for f in file_*.txt; do script.pl "$f" > "${f/file_/output_}"; done 
```

这将为每个输入文件 (file_n.txt) 创建一个输出文件 (output_n.txt)。如果您使用简单的名称（无空格等），则可以删除双引号

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-08T04:45:12.443

我已经有一段时间没有锻炼我的 perl 肌肉了。但是试试这个来消除你的问题。

```
for(my $index= 1,$index<=22,$index++){
   my $inputfile = "file_$index.txt";
   my $outputfile = "output_$index.txt";

   system("perl OneScriptToRuleThemAll.pl $inputfile $outputfile");
} 
```

`OneScriptToRuleThemAll.pl``script_1.pl .. script_22.pl 中的 1 个统一脚本的愚蠢版本在哪里）。

需要修改脚本以解析 @Argv 以获取输入文件和输出文件参数，而不是对它们进行硬编码。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-09T02:14:16.393

```
system "script_$_.pl" for (1..22); 
```

# python - 在 Python 中使用自定义顺序对列表进行排序

> ID：14208256
> 
> 赞同：32
> 
> 时间：2013-01-08T04:32:43.873
> 
> 标签：python, list, sorting, python-2.7

我有一个清单

`mylist = [['123', 'BOOL', '234'], ['345', 'INT', '456'], ['567', 'DINT', '678']]`

`DINT`我想按 1\. 2\. `INT`3的顺序对其进行排序。`BOOL`

结果：

`[['567', 'DINT', '678'], ['345', 'INT', '456'], ['123', 'BOOL', '234']]`

我在 stackoverflow 中看到了其他类似的问题，但没有任何类似或容易适用于我的问题。

* * *

## 回答 #1

> 赞同：66
> 
> 时间：2013-01-08T04:35:31.643

```
SORT_ORDER = {"DINT": 0, "INT": 1, "BOOL": 2}

mylist.sort(key=lambda val: SORT_ORDER[val[1]]) 
```

我们在这里所做的只是通过为列表中的每个元素而不是整个列表返回一个整数来提供一个新元素进行排序。我们*可以*使用内联三元表达式，但这会有点笨拙。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2020-11-05T11:31:04.550

另一种方法可能是；在列表中设置您的订单：

```
indx = [2,1,0] 
```

并根据您的订单创建一个新列表：

```
mylist = [mylist[_ind] for _ind in indx]

Out[2]: [['567', 'DINT', '678'], ['345', 'INT', '456'], ['123', 'BOOL', '234']] 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-08T04:40:20.870

由于这不是 aphabetical 顺序，我认为没有一个函数可以对其进行排序，但您可以做的是创建一个新列表然后追加。这是一种便宜的方法；但它完成了工作。

```
newlist=[];
for sub_list in mylist:
     if(sub_list[1] == 'DINT']):
          newlist.append(sub_list);

for sub_list in mylist:
     if(sub_list[1] == 'INT']):
         newlist.append(sub_list);

for sub_list in mylist:
     if(sub_list[1] == 'BOOL']):
            newlist.append(sub_list); 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-01-08T18:38:21.860

```
 python 3.2

    1\. sorted(mylist,key=lambda x:x[1][1])

    2\. sorted(mylist,reverse=True) 
```

# map - 测试 MAP 成员资格的常用方法！在 Rebol 2 和 3 中工作？

> ID：14208269
> 
> 赞同：2
> 
> 时间：2013-01-08T04:34:43.670
> 
> 标签：map, key, rebol, rebol3

在 Rebol 2 中有一个 HASH！类型以及地图！类型。FIND 和 SELECT 函数以及基于路径的选择都支持这两者：

```
>> m: to map! [someKey someValue]
== make hash! [someKey someValue]

>> m/someKey
== someValue

>> select m 'someKey
== someValue 
```

要检测键不在地图中，您可以使用 FIND 并针对 NONE 进行测试

```
>> find m 'someOtherKey
== none 
```

但是在这种情况下，基于路径的选择会出错：

```
>> m/someOtherKey
** Script Error: Invalid path value: someOtherKey
** Near: m/someOtherKey 
```

另一方面，Rebol 3 只有 MAP！。但是 FIND~~和 SELECT~~只支持系列类型和 MAP！不再被认为是一个系列。我看到（？）与地图交互的唯一方法是通过路径选择，这在非会员情况下不会引发错误：

```
>> m/someOtherKey
== none 
```

...如果您的密钥在变量（或字符串）中，则必须使用 PAREN！

```
>> var: 'someKey
== someKey

>> m/(var)
== someValue 
```

这在 Rebol 2 中也有效，但同样需要注意的是，当您请求不存在的东西时，会抛出错误而不是返回 NONE。

因此，如果我做对了，路径选择是从 Rebol 2 和 3 中的键中检索值的“常见”方式。尽管如此，我没有看到一种常见的测试*缺乏成员资格*的方式。如何处理这个？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-08T04:54:02.203

需要注意的三点：

1.  最直接与您的问题有关：`select`在 Rebol 3 中也可以正常工作，如下面的交互所示：

    ```
    >> system/version
    == 2.100.111.4.4  ; That's Rebol 3 A111.

    >> m: map [a 1 b 2 c 3]
    == make map! [
        a 1
        b 2
        c 3
    ]

    >> select m 'b
    == 2

    >> select m 'd
    == none 
    ```

    通过查看`select`R3 中的规范（使用 eg `? series`），我们也很快发现它接受以下类型的值作为第一个参数：`series!`, `port!`, `map!`(!), `object!`, `none!`。

2.  R2 并没有真正的`map!`类型。它被`hash!`用作 R2 的“R2/Forward”前向兼容层的一部分。（看看你`to map! [a 1 a 2]`在 R2 和 R3 中得到了什么结果，看看这对你有什么影响。）

3.  请注意，`select`您无法真正区分没有任何关联值的键或与`#[none]`值关联的键。如果你真的需要这种区别，在 R3 中很容易做到，你可以用它`words-of`来检索 a 的键`map!`：

    ```
    >> words-of map [a 1 b 2]
    == [a b] 
    ```

    但是，这还没有向后移植到 R2。

    然而，可以考虑依赖于实现内部的一种更可移植的方法是将`map!`(R3) 或`hash!`(R2) 转换回 a `block!`，并`extract`用于仅获取密钥：

    ```
     >> m: to map! [a 1 b 2]
     >> extract to block! m 2
     == [a b] 
    ```

# ruby - 在 Rails + Nokogiri之间检索文本

> ID：14208271
> 
> 赞同：1
> 
> 时间：2013-01-08T04:34:48.090
> 
> 标签：ruby, ruby-on-rails-3, nokogiri

对于以下部分 HTML，我正在尝试检索文本“进行研究......找到治疗方法！” `<br>`通过 Nokogiri 在两个标签之间。

```
<b>Multiple Sclerosis National Research Institute</b><br>
<!-- <b>CFC Code: 12135</b><br />     ***** This is edited by Anas -->
<a href="http://www.ms-research.org" target="_blank">http://www.ms-research.org</a><br> 
(866)-676-7400<br> 
Conducts research towards understanding, treating and halting the progression of multiple sclerosis and related diseases. Current research progress is promising. Please help us find cures!<br>
<a href="/ntn/charities/view.aspx?record_id=510">Click here for more info</a><br><br> 
```

到目前为止，我已经能够使用以下代码检索`name`and ：`url`

```
url = "https://www.neighbortonation.org/ntn/charities/home.aspx"    
doc = Nokogiri::HTML(open(url))

doc.css("#site-pagecontent table table td").each do |item|
    name = item.at_css("b").text unless item.at_css("b").blank?
    url = item.at_css("a")[:href] unless item.at_css("a").blank?
end 
```

但是我在尝试检索特定`<br>`标签之间的文本时遇到了困难。我尝试了通过[使用 Nokogiri 在 <br> 标签之间提取的建议？](https://stackoverflow.com/questions/14205082/extracting-between-br-tags-with-nokogiri)但这似乎不起作用。有任何想法吗？我应该使用 xpath、搜索还是正则表达式？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-08T16:03:31.820

当谈到 XML 中的“元素之间的文本”时，记住 XML 中的文本保存在[Text 节点](http://www.w3.org/TR/REC-DOM-Level-1/level-one-core.html#ID-1312295772)中会有所帮助。在 Nokogiri 中，这是一个[`Nokogiri::XML::Text`](http://nokogiri.org/Nokogiri/XML/Text.html)例子。

例如，这个 HTML：

```
<p>Hello <b>World</b>!</p> 
```

最简单地表示为：

```
(Element name:"p" children:[
  (Text content:"Hello ")
  (Element name:"b" children:[
    (Text content:"World")
  ])
  (Text content:"!")
]) 
```

该`<p>`元素具有三个子节点。通常我们不需要记住这一点，因为我们经常想知道文本是孩子还是后代，找到一个元素然后使用该[`.text`](http://nokogiri.org/Nokogiri/XML/Node.html#method-i-text)方法给我们一个字符串。

在您的情况下，您希望找到最可靠的方法来定位附近的元素。让我们假设`<a href="...">Click here for more info</a>`将始终存在，并且您想要的文本紧随其后。

```
# Find an <a> element with specific text content
info = doc.at_xpath('//a[.="Click here for more info"]')

# Walk back to the previous element, which we assume is an always-present <br>
br   = info.previous_element

# Find the Text node immediately preceding that, and then get its contents
desc = br.previous.text 
```

我们可以使用 XPath 更有效、更简洁地做到这一点，但 Ruby 程序员更难理解：

```
p doc.at('//a[.="Click here for more info"]/preceding-sibling::text()[1]').text
#=> " \nConducts research towards understanding, treating and halting the ... 
```

上面找到锚点，然后使用 XPath 查找所有前面的文本节点，然后只选择第一个文本节点。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-08T05:02:33.290

这个怎么样：

```
html = '<b>Multiple Sclerosis National Research Institute</b><br> ...'
doc = Nokogiri::HTML(html)
doc.css('br')[2].next.text.strip
#=> "Conducts research towards understanding, treating and halting the progression of multiple sclerosis and related diseases. Current research progress is promising. Please help us find cures!" 
```

并使用实时内容：

```
url = "https://www.neighbortonation.org/ntn/charities/home.aspx"    
doc = Nokogiri::HTML(open(url))

doc.css("#site-pagecontent table table td").each do |item|
  description = item.css('br')[2].next.text.strip unless item.css('br').empty?
  ...
end 
```

# git - 在提交之前知道 git hash 吗？

> ID：14208272
> 
> 赞同：24
> 
> 时间：2013-01-08T04:34:50.197
> 
> 标签：git, hash

有没有办法在提交之前知道提交的哈希值？

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2013-01-08T04:43:44.283

你有什么可能的理由需要这个？如果您正在考虑将提交的哈希值放入它自己的提交消息中，很抱歉告诉您，但这是不可能的（或者至少，在不破坏 SHA1 的情况下是不可能的）。提交消息是生成散列时使用的部分之一，因此任何修改消息的尝试都会更改散列。

在任何情况下，在提交之前找出提交的哈希与实际提交、写下哈希然后丢弃提交几乎没有区别（正如卡尔诺鲁姆在他的评论中所建议的那样）。原因是哈希是通过制作提交对象并通过 SHA1 传递来生成的。因此，为了在不提交的情况下找到散列，您基本上必须手动完成提交过程并对结果进行 SHA1，而无需实际将对象写入磁盘。这不仅不切实际，而且完全没有意义。

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2013-01-08T05:46:20.403

提交哈希取决于提交时间。

如果您在同一秒内使用相同的更改、相同的父级、相同的作者和提交消息进行 2 次提交，您将获得相同的哈希值。否则，哈希应该不同。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2022-02-04T05:31:54.270

如果您只对提交的可预测引用感兴趣并且不关心完整的哈希，您可以在使用[lucky-commit 提交](https://github.com/not-an-aardvark/lucky-commit)任何您喜欢的内容后自定义短哈希（前 4 到 8 个字符） 。这也适用于 GPG 签名的提交。

注意事项：

*   您在开始时修复的字符越多，花费的时间就越长，成倍增长。
*   它必须在每次提交后运行
*   它将为本地存储库中的每个提交进行重复提交。请参见下面的示例：

```
% git log --oneline --graph         
* 0000003 (HEAD -> master) Third commit
* 0000002 Second commit
* 0000001 First commit
% git log --oneline --graph --reflog
* 4ef3899 Third commit
| * 0000003 (HEAD -> master) Third commit
|/  
* 0000002 Second commit
| * d756f59 Second commit
|/  
* 0000001 First commit
* a1e6be7 First commit 
```

* * *

Finding commit hash before making a commit is possible in theory, but requires in-depth knowledge of git's inner workings and then engineering a solution around it. For a brief overview you can read Git Magic Chapter 8 Secrets Revealed, sections on [Blobs](http://www-cs-students.stanford.edu/%7Eblynn/gitmagic/ch08.html#_blobs), [Trees](http://www-cs-students.stanford.edu/%7Eblynn/gitmagic/ch08.html#_trees), and [Commits](http://www-cs-students.stanford.edu/%7Eblynn/gitmagic/ch08.html#_commits).

# php - 什么是以及如何使用'<< 我找到了这个 php 的代码片段： $sJavascript = <<<end_javascript 1="" 50="" 60="" var="" callback="arguments[arguments.length-1]," nintervalid;="" function="" checkdone()="" {="" if(="" window.my_stuff="" 问问题="" 2013-01-08t04:35:01.180="" 次="" this="" question="" shows="" research="" effort;="" it="" is="" useful="" and="" clear="" does="" not="" show="" any="" unclear="" or="" bookmark="" question.="" activity="" on="" post.="" 我找到了这个="" php="" 的代码片段：="" $sjavascript="<<<END_JAVASCRIPT" window.my_stuff_done="" )="" window.clearinterval(nintervalid);="" stop="" polling="" callback("done");="" return="" "done"="" to="" code="" }="" nintervalid="window.setInterval(" checkdone,="" );="" start="" end_javascript;="" $sresult="$session-">execute_async(array( 'script' => $sJavascript, 'args' => array(), )); 'END_JAVASCRIPT' 字符串（？）是什么以及应该如何以及何时使用？PS 我尝试运行此代码段，但在 PHP 中出现解析错误（'unexpected $end'）。 更新： 我收到解析错误的原因是我缩进了代码（包括结束标识符'END_JAVASCRIPT'）。PHP heredoc文档包含以下警告： 需要注意的是，带有结束标识符的行不能包含其他字符，可能除了分号 (;)。这尤其意味着标识符可能不会缩进，并且分号之前或之后可能没有任何空格或制表符。同样重要的是要认识到结束标识符之前的第一个字符必须是本地操作系统定义的换行符。 VS 2010 不用于编译和构建驱动程序。但是，Visual Studio 2012 具有此功能。 在VS 2012之前，你需要使用WinDDK来构建驱动（我不确定你现在是否可以下载它）。 php 4 2 回答 2 This answer is useful 3 这是heredoc 字符串文字语法。<<<something开始一个长的多行字符串，并something;在它自己的行上结束该字符串。 2="" 您收到语法错误的原因可能是因为您缩进了该end_javascript;部分。它必须在一行的开头。="" 于="" 2013-01-08t04:37:00.523="" 回答="" this="" answer="" is="" useful="" 这是heredoc="" 语法。对于输出大块="" html="" 非常有用，尤其是当您包含="" php="" 变量值时，因为它们会像使用双引号时一样被解释，但是使用="" heredoc="" 您不必转义双引号。="" $str="foo" ;="" echo="" <<<="" arbitrary_string="" <span="" class="blah">This is the $str var ARBITRARY_STRING; 密切注意结束ARBITRARY_STRING;行，in 必须单独一行，并且在其开头或分号之后不能有任何空格。 于 2013-01-08T04:37:13.827 回答 Related 1 linux - Linux 命令 - 使用参数调用 2 javascript - 将 Javascript 添加到 DOM 2 jquery - Jquery 基本 Portlet 1 jquery - 如何在 jQuery 的 if { } 中选择单个元素？ 1 android - 如何通过android中的自定义属性查找视图 1 regex - sed 正则表达式不返回预期结果 4 mysql - 给定复选框，如何删除相应的数据库行？ 3 java - 写入随机位置java中的txt文件 1 javascript - Javascript/小型 Jquery 扩展方法自动更改 Z-Indexes 以将元素放在所有内容之上？ 1 javascript - 模态不会关闭 - Twitter Bootstrap 1.40 Reference php × 1429865 c/c++ × 756500 nginx × 49975 mongodb × 159057 mybatis × 3233 anaconda × 13410 pycharm × 14671 python × 1902243 vscode × 56040 docker × 110988 github × 49000 flask × 49129 ffmpeg × 24037 jmeter × 16910 matplotlib × 63493 bootstrap × 54641</something开始一个长的多行字符串，并something;在它自己的行上结束该字符串。></end_javascript>

> ID：14208273
> 
> 赞同：1
> 
> 时间：
> 
> 标签：php

我找到了这个 php 的代码片段：

```
$sJavascript = <<<END_JAVASCRIPT

var callback = arguments[arguments.length-1], 
nIntervalId; 

function checkDone() {
  if( window.MY_STUFF_DONE ) {
    window.clearInterval(nIntervalId); // stop polling
    callback("done"); // return "done" to PHP code
  }
}

nIntervalId = window.setInterval( checkDone, 50 ); // start polling
END_JAVASCRIPT;

$sResult = $session->execute_async(array(
  'script' => $sJavascript,
  'args' => array(),
 )); 
```

'END_JAVASCRIPT' 字符串（？）是什么以及应该如何以及何时使用？PS 我尝试运行此代码段，但在 PHP 中出现解析错误（'unexpected $end'）。

**更新：** 我收到解析错误的原因是我缩进了代码（包括结束标识符'END_JAVASCRIPT'）。PHP [heredoc](http://php.net/manual/en/language.types.string.php#language.types.string.syntax.heredoc)文档包含以下警告：

> *需要注意的是，带有结束标识符的行不能包含其他字符，**可能**除了分号 (;)。这尤其意味着标识符**可能不会缩进**，并且分号之前或之后可能没有任何空格或制表符。同样重要的是要认识到结束标识符之前的第一个字符必须是本地操作系统定义的换行符。*

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-08T04:37:00.523

这是[heredoc 字符串文字语法](http://php.net/manual/en/language.types.string.php#language.types.string.syntax.heredoc)。`<<<SOMETHING`开始一个长的多行字符串，并`SOMETHING;`在它自己的行上结束该字符串。

您收到语法错误的原因可能是因为您缩进了该`END_JAVASCRIPT;`部分。它必须在一行的开头。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-08T04:37:13.827

这是[heredoc 语法](http://php.net/manual/en/language.types.string.php#language.types.string.syntax.heredoc)。对于输出大块 HTML 非常有用，尤其是当您包含 PHP 变量值时，因为它们会像使用双引号时一样被解释，但是使用 heredoc 您不必转义双引号。

```
$str = "foo";
echo <<< ARBITRARY_STRING
    <span class="blah">This is the $str var</span>
ARBITRARY_STRING; 
```

密切注意结束`ARBITRARY_STRING;`行，in 必须单独一行，并且在其开头或分号之后不能有任何空格。

# python - Python BeautifulSoup 从 HTML 中获取文本

> ID：14208280
> 
> 赞同：3
> 
> 时间：2013-01-08T04:36:16.650
> 
> 标签：python, html, beautifulsoup

我有一些这样的 HTML 代码：

```
<p>aaa</p>bbb
<p>ccc</p>ddd 
```

我怎样才能得到'bbb'和'ddd'？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T04:44:14.597

您可以阅读每个`p`标签的后续兄弟（请注意，这是非常特定于此文本的，因此希望它可以扩展到您的情况）：

```
In [1]: from bs4 import BeautifulSoup

In [2]: html = """\
   ...: <p>aaa</p>bbb
   ...: <p>ccc</p>ddd"""

In [3]: soup = BeautifulSoup(html)

In [4]: [p.next_sibling for p in soup.findAll('p')]
Out[4]: [u'bbb\n', u'ddd'] 
```

这会拾取尾随的换行符，因此您可以在需要时将其删除：

```
In [5]: [p.next_sibling.strip() for p in soup.findAll('p')]
Out[5]: [u'bbb', u'ddd'] 
```

一般的想法是您在目标文本之前找到标记，然后找到下一个兄弟元素，它应该是您的文本。

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2013-01-08T04:40:29.850

如果将值 ('bbb', 'ddd') 包含在标签中 (as `<span>`)会更容易

然后你可以使用：soup('span')

# macos - OS X 上 Groovy 之类的标准安装位置是什么？

> ID：14208282
> 
> 赞同：1
> 
> 时间：2013-01-08T04:36:21.983
> 
> 标签：macos, groovy, installation

OS X 上 Groovy 之类的标准安装位置是什么？我用过`/opt`，但想知道别人用什么。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-08T08:23:17.830

Groovy 社区已经开始使用[**GVM Groovy 环境管理器**](http://gvmtool.net/)。一探究竟！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T14:25:27.673

我曾经`Applications`在我的主文件夹中有一个文件夹，我将扩展的 groovy 二进制文件夹复制到其中，然后创建一个符号链接（刚刚命名`groovy`）到这个文件夹（这样我就可以轻松地切换版本）。然后我添加`~/Applications/groovy/bin`到我的路径中。

在我的新机器上，我现在使用 gvm，正如 Arturo 所说

# php - php函数不工作：/

> ID：14208283
> 
> 赞同：0
> 
> 时间：2013-01-08T04:36:32.127
> 
> 标签：php, mysql, function

```
function uyeyap()
{
global $veriyolu;
$idno=$_REQUEST['uyeno'];
$guncelle=mysql_query("uptade uyeler set onay='1' where uyeno='$idno'",$veriyolu);

if($guncelle){
             echo "<script>alert(' Üye Yapıldı! ')</script>";
             echo "<meta http-equiv='Refresh' content='0; URL=yonetim.php'>";
             }else{
             echo "<script>alert(' !! Üye Yapılamadı !! ')</script>";
             echo "<meta http-equiv='Refresh' content='0; URL=yonetim.php'>";            
             }
}

function adminyap()
{
global $veriyolu;
$idno=$_REQUEST['uyeno'];
$guncelle=mysql_query("uptade uyeler set onay='2' where uyeno='$idno'",$veriyolu);
if($guncelle){
             echo "<script>alert(' Admin Yapıldı! ')</script>";
             echo "<meta http-equiv='Refresh' content='0; URL=yonetim.php'>";
             }else{
             echo "<script>alert(' !! Admin Yapılamadı !! ')</script>";
             echo "<meta http-equiv='Refresh' content='0; URL=yonetim.php'>";            
             }
}

function sil()
{
$idno=$_REQUEST['uyeno'];
global $veriyolu;
$guncelle=mysql_query("delete from uyeler where uyeno='$idno'",$veriyolu);
if($guncelle){
             echo "<script>alert(' Silindi ! ')</script>";
             echo "<meta http-equiv='Refresh' content='0; URL=yonetim.php'>";
             }else{
             echo "<script>alert(' !! Silinemedi !! ')</script>";
             echo "<meta http-equiv='Refresh' content='0; URL=yonetim.php'>";            
             }
}
<?php
$menu= $_GET['menu'];
if ($menu = 1)
{
echo "<table>";
$sql1="select * from uyeler order by onay desc";
$sorgu1=mysql_query($sql1);
while ($sql1sonuc = mysql_fetch_array($sorgu1))
{
if ($sql1sonuc["onay"]==2)
{
echo "<tr><td><font color='red'><b>Admin</b></font></td><td>&nbsp</td><td>".$sql1sonuc['kulladi']."</td><td>&nbsp</td><td>"."<a href='yonetim.php?menu=$menu&uyeno={$sql1sonuc['uyeno']}&git=uyeyap'>Üye yap</a>"."</td></tr>";
}
if ($sql1sonuc["onay"]==1)
{
echo "<tr><td><font color='blue'>Üye</font></td><td>&nbsp</td><td>".$sql1sonuc['kulladi']."</td><td>&nbsp</td><td>"."<a href='yonetim.php?menu=$menu&uyeno={$sql1sonuc['uyeno']}&git=adminyap'>Admin yap</a>"."</td></tr>";
}

}
echo "</table>";
}
?>
</div>
</body>
<?php
switch ($_GET['git']){ 
case "adminyap";
adminyap();
break;
case "uyeyap";
uyeyap();
break;
}
?> 
```

大家好，我有一个问题:(函数不起作用。不要更改mysql数据。函数有问题吗？对不起，我是新手，我使用的方法有误吗？我怎样才能让它工作？请求方法有误？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T05:06:48.010

在您的查询中，您键入`uptade`而不是`update`.Check your query

# ruby-on-rails-3 - 在一个表单中处理多个关联模型的最佳方法？

> ID：14208284
> 
> 赞同：0
> 
> 时间：2013-01-08T04:36:33.050
> 
> 标签：ruby-on-rails-3, forms, models, model-associations

我有一个相当简单的设置：

**模型/person.rb**

```
has_many :links 
```

**模型/link_category.rb**

```
attr_accessible :title
has_many :links 
```

**模型/链接.rb**

```
attr_accessible :person_id, :link_category_id, :url
belongs_to :person
belongs_to :link_category 
```

链接类别的示例可能是“facebook、twitter、pinterest、wordpress、博客等”。

我想要创建的，尽可能 DRY 和 RESTful，是一个单独的页面，列出所有链接类别和一个文本字段，供他们输入（或更新，如果已经提供）每个类别的 url。

例如，这样的事情`http://example.com/person/23/links/edit`可能会显示这样的表格：

脸书：***_* __ *_* __ *_* __ *_* __ *_* __ *_* __ *_* _**

推特：**__** [http://twitter.com/example](http://twitter.com/example) ***__***

WordPress：***_* __ *_* __ *_* __ *_* __ *_* __ *_* __ *_***

兴趣：***_* __ *_* __ *_* __ *_* __ *_* __ *_* __ *_***

我想知道是否有人有一种优雅的方式来做到这一点，因为它在许多网站中变得非常普遍。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T19:15:14.440

我认为您所要求的与我曾经要求的非常相似：

[Rails：如何在构建之前添加或插入关联？](https://stackoverflow.com/questions/13599519/rails-how-do-i-prepend-or-insert-an-association-with-build)

您可以在控制器中调用类似的函数，也可以在`:after_initialize`.

要利用它，您需要添加`has_many :link_categories, through: :links`到`Person`模型中。

# spring - SpringMVC 应用程序上下文层次结构

> ID：14208286
> 
> 赞同：2
> 
> 时间：2013-01-08T04:36:35.107
> 
> 标签：spring, spring-mvc, hierarchy, applicationcontext

web.xml 片段：

```
 <context-param>
    <param-name>contextConfigLocation</param-name>
    <param-value>/WEB-INF/applicationContext-security.xml</param-value>
  </context-param>

  <!-- Processes application requests -->
  <servlet>
    <servlet-name>appServlet</servlet-name>
    <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>
    <init-param>
      <param-name>contextConfigLocation</param-name>
      <param-value>/WEB-INF/spring/appServlet/servlet-context.xml</param-value>
    </init-param>
    <load-on-startup>1</load-on-startup>
  </servlet> 
```

根据[这个答案](https://stackoverflow.com/questions/7746633/declaring-spring-bean-in-parent-context-vs-child-context#7748108)：

> 2- DispatcherServlet 上下文成为根上下文的子级。...

我的问题是了解 Spring 如何做出此决定（将 DispatcherServlet 上下文附加到根上下文）。appContext XML 文件中没有任何明确的内容来指定这一点，并且 AFAICT 没有任何内容可以在 XML 中指定来明确地建立这种关联。

当 DispatcherServlet 实例化它的 appContext 时，它如何知道调用`setParent()`它（SpringMVC 在没有根 appContext 的情况下工作得很好），如果已经存在多个非子 appContext，它会如何选择？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-01T18:30:00.097

DispatcherServlet 扩展了 FrameworkServlet，它具有以下代码：

```
 protected WebApplicationContext initWebApplicationContext() {
        WebApplicationContext rootContext =
                WebApplicationContextUtils.getWebApplicationContext(getServletContext());
            WebApplicationContext wac = null; 
```

which is subsequently used as:

```
 wac = createWebApplicationContext(rootContext); 
```

WebApplicationContextUtils retrieve the context as:

```
public static WebApplicationContext getWebApplicationContext(ServletContext sc) {
    return getWebApplicationContext(sc, WebApplicationContext.ROOT_WEB_APPLICATION_CONTEXT_ATTRIBUTE);
}

public static WebApplicationContext getWebApplicationContext(ServletContext sc, String attrName) {
    Assert.notNull(sc, "ServletContext must not be null");
    Object attr = sc.getAttribute(attrName);
            ...
    return (WebApplicationContext) attr;
} 
```

In a nutshell: root context stores a reference to itself in a context attribute. All FrameworkServlets will try to retrieve said context attribute and bind themselves to the retrieved root context (if defined).

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-11-09T09:02:11.270

SpringMVC ApplicationContext Hierarchy -

ApplicationContext (I)
     -ConfigurableApplicationContext (I)
     -WebApplicationContext (I)

# c# - 如何使用 C# 从 XML 节点列表中删除节点

> ID：14208290
> 
> 赞同：-3
> 
> 时间：2013-01-08T04:36:55.857
> 
> 标签：c#, xmlnode, xmlnodelist

![在此处输入图像描述](../Images/061cc81d3bdfc966f8c0a9b687b19862.png)我有一个 XmlNodeList xnlSubParam

```
 XmlDocument xDoc = new XmlDocument();
              xDoc.Load(somexml);
              XmlNode xnParamList = xDoc.SelectSingleNode("//tag");
              XmlNodeList   xnlSubParam = xnParamList.SelectNodes("subparam"); 
```

现在 xnlSubParam 将包含一个节点列表

如何获取节点属性以及如何从列表中删除节点。我只是想从 xnlSubparam 中删除子参数列表.. 怎么做？在我的 xml 中，我有一个名为 Inside 的元素

```
 <subparam name="test1" displayname="Test1" type="BOOLEAN"/> 
              <subparam name="test2" displayname="Test2" type="BOOLEAN"/>
              <subparam name="test3" displayname="Test3" type="BOOLEAN"/> 
```

![在此处输入图像描述](../Images/061cc81d3bdfc966f8c0a9b687b19862.png)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-08T04:40:19.653

我不知道任何改变`XmlNodeList`自身的方法。我建议您将节点复制到 a`List<XmlNode>`中，然后您可以按照正常方式对其进行变异：

```
List<XmlNode> nodes = xnlSubParam.Cast<XmlNode>().ToList();
// Now work with nodes 
```

要使用这些 LINQ 方法，您需要一个`using`指令：

```
using System.Linq; 
```

当然，这只适用于 .NET 3.5 及更高版本（除非您使用的是 LINQBridge 或类似的东西）。

请注意，我个人会在整个过程中使用 LINQ to XML：

```
var doc = XDocument.Load(somexml);
var nodes = doc.Descendants("tag")
               .First()
               .Elements("subparam")
               .ToList(); 
```

# c++ - C++如何从线程生成函数中捕获线程抛出的异常

> ID：14208292
> 
> 赞同：0
> 
> 时间：2013-01-08T04:37:03.343
> 
> 标签：c++, exception, boost, exception-handling, boost-thread

我有一个 C++ 应用程序，我在其中使用 Boost Threads 来提供并发性。基本样本如下：

```
processingThreadGroup->create_thread(boost::bind(process, clientSideSocket, this)); 
```

这里，processingThreadGroup是boost中一个线程池的共享指针，process是我需要调用的函数。clientSideSocket 和 this 是应该传递给进程函数的参数。

在流程函数内部，如果检测到错误，我会抛出一个自定义异常。处理函数将数据发送到远程服务器。所以我的问题是，如何将这个错误传播到调用堆栈？我想在清理后关闭系统。尝试了以下方法：

```
try {
    processingThreadGroup->create_thread(boost::bind(process, clientSideSocket, this));
} catch (CustomException& exception) {
    //code to handle the error
} 
```

但是没有用。关于如何正确执行此操作的任何想法？

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T04:43:29.623

要传播返回值和异常，您应该使用`future`s. 这是一个简单的方法：

```
// R is the return type of process, may be void if you don't care about it
boost::packaged_task< R > task( boost::bind(process, clientSideSocket, this) );
boost::unique_future< R > future( task.get_future() );

processingThreadGroup->create_thread(task);

future.get(); 
```

这有一些你必须牢记的陷阱。首先， 的生命周期`task`必须延长 的*异步*执行`process`。其次，`get()`将阻塞直到`task`完成，如果成功结束则返回其值，或者如果抛出异常则传播异常。您可以使用各种功能来检查 的状态`future`，例如`has_value()`, `has_exception()`, `is_ready()`。

# scala - Playframework 2.0 scala Akka Websocket错误

> ID：14208296
> 
> 赞同：0
> 
> 时间：2013-01-08T04:37:16.023
> 
> 标签：scala, playframework, playframework-2.0, akka

在使用 scala 试验 playframework 版本 2.0.4 时出现此错误：

**值 foreach 不是对象 akka.actor.IO.Iteratee 的成员**

```
package controllers

import play.api.mvc._
import play.api.libs.iteratee.Enumerator
import akka.actor.IO.Iteratee
import play.api.libs.concurrent.Akka

object Application extends Controller {

 def index = WebSocket.async[String] {
    Akka.future{
      val out = Enumerator.imperative[String]()
      val in = Iteratee.foreach[String] {
        msg =>
          out.push(msg)
      }

      (in,out)
    }

  }

} 
```

知道我可能做错了什么。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T07:48:06.510

```
import akka.actor.IO.Iteratee 
```

↓</p>

```
import play.api.libs.iteratee._ 
```

# android-emulator - HTC Evo 4g LTE AVD 设置

> ID：14208305
> 
> 赞同：0
> 
> 时间：2013-01-08T04:38:32.220
> 
> 标签：android-emulator, avd

我是 Android 开发的新手。我刚买了一部 HTC Evo 4g LTE，我的第一部智能手机，我想写一个应用程序。我按照[https://fedoraproject.org/wiki/HOWTO_Setup_Android_Development](https://fedoraproject.org/wiki/HOWTO_Setup_Android_Development)上的说明在 x86_64 系统上运行 Fedora 17。

我正在为我的手机设置 AVD。我运行了 tools/android 来设置它。

我的手机运行的是 Android 版本 4.1.1 目标选项有：4.1.2、Google APIs Level 16、4.2 和 Google APIs Level 17 -- 我应该选择 4.1.1 吗？

维基百科说我有 Snapdragon 处理器 处理器选项有：ARM、MIPS 和 Intel atom——我应该选择哪个？

您是否有任何其他提示可以帮助我正确设置我的 AVD？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-23T21:01:10.843

如果您想在手机上进行测试，则无需设置 AVD。不过，我建议您设置一个与您的规格相同的设备，因为在模拟器上调试比在物理手机上调试更快。

在模拟器上测试/调试的一个缺点是你只能得到普通的 Android。您无法测试与制造商编程的兼容性（如 TouchWiz、HTC Sense、Sprint Connections Optimizer、某些 HTC 和摩托罗拉上的日期选择器，这些程序只能追溯到 1970 年等）。

# c# - 如何使用带有 C# 的 Adob e Bridge 创建缩略图

> ID：14208306
> 
> 赞同：-1
> 
> 时间：2013-01-08T04:38:48.487
> 
> 标签：c#, javascript, adobe-bridge

有没有办法使用 C# 控制台应用程序与 Adob​​e Bridge 进行通信？

我想使用桥为给定的图像文件夹（例如：SamplePictures）创建缩略图..

我知道 Bridge 支持 java 脚本，有没有办法用 JavaScript 编程来桥接..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-08-08T19:54:11.980

这是过程：

*   运行桥 SDK

*   查找创建缩略图的方法

*   通过 JScript 调用方法

*   从 JScript 调用 C#

**参考**

*   [Adobe Photoshop JavaScript 脚本参考](http://wwwimages.adobe.com/content/dam/Adobe/en/devnet/photoshop/pdfs/photoshop_scriptref_js.pdf)

*   [如何从 JScript.net 调用 C#？](https://stackoverflow.com/questions/9471332/how-to-call-c-sharp-from-jscript-net)

*   [使用应用程序间通信开发应用程序](http://www.adobe.com/content/dam/Adobe/en/devnet/acrobat/pdfs/iac_developer_guide.pdf)

*   [C# 编译器如何检测 COM 类型？](https://stackoverflow.com/questions/1093536/how-does-the-c-sharp-compiler-detect-com-types)

*   [在没有类型库的情况下使用来自 C# 的 COM dll](https://stackoverflow.com/questions/1037786/using-a-com-dll-from-c-sharp-without-a-type-library)

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2016-05-03T18:23:25.820

对 Bridge 进行编程的唯一方法是使用任何具有 com、Photoshop、Indesign、Illustrator 等的 Adob​​e 产品通过 com 使用 BridgeTalk。以下是获取选定 Bridge 文件列表的示例。

```
 using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using System.Collections;

namespace Bridge
{
    class Program
    {
        [STAThread]
        static void Main(string[] args)
        {
            dynamic app = Activator.CreateInstance(Type.GetTypeFromProgID("Photoshop.Application"));

            //Get list of select files from Bridge
            String Code = "var fileList;" +
            "var bt = new BridgeTalk();" +
            "bt.target = 'bridge';" +
            "bt.body = 'var theFiles = photoshop.getBridgeFileListForAutomateCommand();theFiles.toSource();';" +
            "bt.onResult = function( inBT ) { fileList = eval( inBT.body ); }" +
            "bt.onError = function( inBT ) { fileList = new Array(); }" +
            "bt.send(8);" +
            "if ( undefined == fileList ) {" +
            "fileList = new Array();}" +
            "fileList = decodeURI(fileList.toString());";

            String RC = app.DoJavaScript(Code, null, null);
            ArrayList list = new ArrayList();
            list.AddRange(RC.Split(new char[] { ',' }));
            for (int index = 0; index < list.Count; index++)
            {
                Console.WriteLine(list[index]);
            }
            Console.ReadLine();

        }
    }
} 
```

# android - 有没有什么解决方案，我可以为Android表中的所有行编写单个onClick方法？

> ID：14208309
> 
> 赞同：0
> 
> 时间：2013-01-08T04:39:09.207
> 
> 标签：android

我的要求是，我有一个包含多行的表格，通过选择单行应该在屏幕上显示其内容。我发现通过为每一行编写 onClick() 是可以实现的，但为多行编写多个 onClick() 是不可行的。那么有什么方法可以在不编写多个 onClick() 的情况下实现这一点。

这是我的表格 XML：

```
<?xml version="1.0" encoding="utf-8"?>
 <RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
     android:id="@+id/relativelayout1"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:orientation="vertical" >
<ScrollView android:id="@+id/ScrollView01"  
       android:layout_height="100dp" android:layout_width="wrap_content">
    <TableLayout
        android:id="@+id/tableLayout1"
        android:layout_width="wrap_content"
        android:background="#000000"
        android:stretchColumns="*"
        android:layout_height="100dp"
        android:scrollbars="horizontal"
         >

        <TableRow
            android:layout_margin="0.2dip"
            android:background="#000000" >

            <TextView
                android:layout_margin="0.2dip"
                android:background="#FFFFFF"
                android:text="@string/code" />

            <TextView
                android:layout_margin="0.2dip"
                android:background="#FFFFFF"
                android:text="@string/name" />
        </TableRow>

        <TableRow
            android:layout_margin="0.2dip"
            android:background="#000000"
            android:focusable="true"
            android:onClick="showData" >

            <TextView
                android:id="@+id/code1"
                android:layout_margin="0.2dip"
                android:background="#FFFFFF"
                android:text="@string/code1" />

            <TextView
                android:id="@+id/code2"
                android:layout_margin="0.2dip"
                android:background="#FFFFFF"
                android:text="@string/name1" />
        </TableRow> 
```

我已经为第二行写了 onClick。

这是活动类中的 onClick()：

```
public void showData(View view){
        text = new EditText(this);

        //text = (EditText) findViewById(R.id.displayData);
        TextView tx1 = (TextView) findViewById(R.id.code1);
        TextView tx2 = (TextView) findViewById(R.id.code2);
        TextView tx3 = (TextView) findViewById(R.id.displayData);
        tx3 = new TextView(this);
        String str = tx1.getText().toString();
        String str1 = tx2.getText().toString();
        tx3.setText("CODE : "+str+" "+"NAME :"+str1);
        //text.setText("CODE : "+str+" "+"NAME :"+str1);
        //text.setText("NAME :"+str1);
        setContentView(tx3);
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T04:49:31.003

您可以简单地使用`view.findViewById(R.id.code1)`等（而不是`findViewById`不使用`view.`）来查找特定于每一行的文本视图。这样，所有行都可以对所有行使用相同的`android:id`值和单一`onClick`方法。（这类似于 a 的`ListView`工作方式。）

```
public void showData(View view){
    TextView tx1 = (TextView) view.findViewById(R.id.code1);
    TextView tx2 = (TextView) view.findViewById(R.id.code2);
    . . .
} 
```

如果您想减少 xml 的绝对大小，您可以将属性放入样式中。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-08T05:40:37.110

这可能不是有效的代码，但您可以使用它，获取您的表 id

```
tableLayoutGrid = (TableLayout) findViewById(R.id.yourtableid);
        int count=tableLayoutGrid.getChildCount();
        for(int i=0;i<count;i++)
        {
            TableRow row=(TableRow) tableLayoutGrid.getChildAt(i);
            row.setOnClickListener(new View.OnClickListener() {
                @Override
                public void onClick(View v) {
                       TextView tx1 = (TextView) row.getChildAt(0);
                        TextView tx2 = (TextView) row.getChildAt(1);
                        TextView tx3 = (TextView) findViewById(R.id.displayData);
                        tx3 = new TextView(this);
                        String str = tx1.getText().toString();
                        String str1 = tx2.getText().toString();
                        tx3.setText("CODE : "+str+" "+"NAME :"+str1);

                }
            });
        } 
```

我希望这能帮到您..

# backbone.js - parse.com 连续数据库查询

> ID：14208319
> 
> 赞同：1
> 
> 时间：2013-01-08T04:40:31.927
> 
> 标签：backbone.js, parse-platform

我想连续对 db 或 parse.com 使用的任何查询运行两个查询。

所以我有：

```
var query = Parse.Query("table1");
....

var query2 = Parse.Query("table2");
... 
```

第一个查询只是检查一些东西以确保请求一切正常 - 设备版本正确等。第二个查询是整个练习的实际点。

因为第一个查询被要求提供我正在使用的几乎*所有*功能，所以我想将它分开。我真的不想继续为每个函数定义它，然后子调用第二个查询 - 这是重复和愚蠢的。

是否有一些优雅的方法——即不使用布尔值并在第一个查询的成功方法中将布尔值设置为 true——连续运行两个查询？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-08T05:12:26.427

我将查询分为两个功能，

```
function1(){
    var query = Parse.Query("a");
    ...
}

function2(){
    var query = Parse.Query("b");
    ...
} 
```

然后从 function1() 的成功中调用 function2 - 或者更确切地说，我调用给定的参数（假设它不是未定义的！）

```
function function1(onSuccess){
    var query = Parse.Query("a");
    query.first("c");
    query.find(){
        success : function(){
            doCoolThings();
            if (onSuccess != null){
                 onSuccess(); 
            }
        },
        error: function (){ } 
    }
} 
```

现在我有了一个可重用的组件，我可以在我认为合适的时候使用它！

奖励：如果 function2 需要参数怎么办？

所以！在调用这两者的主函数中，我们有：

```
Parse.Cloud.define("myCoolFunction",function(request,response){ 
    var onSuccessCall = function(){ function2(request, response); };
    function1(request,response,onSuccessCall);
});

function function2(request, response){ ... } 
```

上面定义的function1。

# java - 对于应该对某种 db 文件进行操作的 Java 程序，建议使用什么数据库......？

> ID：14208321
> 
> 赞同：-4
> 
> 时间：2013-01-08T04:40:35.130
> 
> 标签：java, mysql, mongodb, sqlite, database

我的 5 个主要目标是：

1.  导出到文件（最好包括 csv）
2.  从文件导入
3.  对数据库文件而不是内部数据库或位于计算机上固定位置的数据库执行操作
4.  将属性和表添加到任何文件（一个大表，每个文件都有一个条目，每个文件有几个表）[包括动态向表添加列]
5.  在任何系统上运行良好，没有太多麻烦

我不确定有什么数据库可以让我在 Java 中使用数据库，而无需直接安装数据库系统。但是，这也是我第一次使用数据库而不是自制软件来组织文件！所以我可以完全脱离基地。
是否有一个数据库解决方案可以很好地解决上述所有问题并且学习起来非常快？MySQL 或 SQLite 会是不错的选择吗？我想避免弄乱密码和其他东西，并希望用户能够轻松地将数据库作为单个文件进行交换。

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-08T05:21:10.383

我建议使用**纯 Java 数据库**之一。它们通常是轻量级的、快速的，并且由于它们没有任何本机代码依赖项，因此构建和部署应用程序会容易得多。

它们通常以嵌入式模式使用，带来不少好处：您只需将正确的`.jar`文件导入应用程序，然后您的应用程序就可以充当数据库服务器（即您的应用程序将直接访问磁盘上的数据库文件，没有单独的服务器进程来配置和管理）。

要看的可能包括：

*   H2 - [http://www.h2database.com/html/main.html](http://www.h2database.com/html/main.html)
*   德比 - [http://db.apache.org/derby/](http://db.apache.org/derby/)
*   SQLJet - SQLite 的纯 Java 版本 - [http://sqljet.com/](http://sqljet.com/)

也可以看看：

*   [Java 嵌入式数据库比较](https://stackoverflow.com/questions/462923/java-embedded-databases-comparison)
*   [与应用程序一起打包的最轻量的数据库](https://stackoverflow.com/questions/2431546/lightest-database-to-be-packed-with-an-application)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-08T05:12:24.697

对于 MySql，您需要进行安装。如果应用程序不需要任何大型数据库，那么考虑到您希望将数据库作为单个文件进行交换，SQL Lite 看起来是一个更好的选择。

虽然我发现 MySql 有很好的文档记录，并且它的导入/导出数据库操作只是一个命令行命令，但如果你已经熟悉 SQL，它不应该是任何真正的学习曲线。

# javascript - 如何正确维护 JQuery Counter 中的索引？

> ID：14208322
> 
> 赞同：0
> 
> 时间：2013-01-08T04:40:56.630
> 
> 标签：javascript, jquery, indexing

假设我有五个 div。我试图显示前 3 个 div，然后显示一个新的 div 并在设定的时间间隔内删除一个 div。

这是我的 HTML 代码：

```
<div class="speaker">One</div>
<div class="speaker">Two</div>
<div class="speaker">Three</div>
<div class="speaker">Four</div>
<div class="speaker">Five</div> 
```

JS 演示在这里[http://jsfiddle.net/mirzar/Sny3e/8/](http://jsfiddle.net/mirzar/Sny3e/8/)。

关于我在不保留当前索引方面做错了什么的任何想法？一旦它显示了第五个扬声器，我正在尝试迭代从“三四五”到“二三​​四”，然后是“一二三”，然后从头开始

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-08T05:24:58.877

我分叉了你的小提琴，并尽量不修改。我设置了一个标志来检查我们向上或向下的方向。当我们返回索引时，我们检查是否再次回到 0，如果是，我们将所有索引位置重置为默认值。

当您使用当前索引作为每次通过的条件时，最终发生的事情是您到达了一个点，它在通过和失败之间来回摇摆。这就是为什么最好设置一个“标志”变量来指示应该运行哪组语句。

```
var speakers = $(".speaker").length;
var currIndex = 0;
var endIndex = 0;
var reverseIndex = 0;
var up = true;

if (speakers > 3) {
   $(".speaker").hide();
   $('.speaker:lt(3)').show();
   var refreshId = setInterval(speaker_slides, 2000);
}

function speaker_slides() {

  if (up) {
    endIndex = currIndex + 3;
    $(".speaker").eq(currIndex).hide(500);
    $(".speaker").eq(endIndex).delay(500).show(500);
    currIndex++;
    $("#currIn").empty().append(currIndex);
    up = currIndex >= 2 ? false : true;
  } else {
    currIndex--;
    endIndex = currIndex;
    reverseIndex--;
    $(".speaker").eq(reverseIndex).hide(500);
    $(".speaker").eq(endIndex).delay(500).show(500);
    if(currIndex == 0) {
      up = true;
      endIndex = 0;
      reverseIndex = 0;
    }
  }

} 
```

这可以清理很多，但我认为它正在按照您最初的意图工作。

希望能帮助到你

[http://jsfiddle.net/ZjcYd/](http://jsfiddle.net/ZjcYd/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-08T05:48:47.533

我分叉了你的 jsfiddle 并尝试以我的方式进行修改：

[http://jsfiddle.net/dharmavir/74KQc/](http://jsfiddle.net/dharmavir/74KQc/)

```
$(document).ready(function(){
  var slides = $(".speaker").length;
  $.each( $(".speaker"), function(index, node) {
    $(node).data("rank", index+1);
  });
  $(".speaker").hide();
  setInterval(slideRoller, 2000);
});

function slideRoller()
{
  rollSlides("container", "slides", "speaker", 1, 5, 3);
}

function rollSlides(containerDisplay, containerParent, elmSetClass, startIndex, endIndex, displayLimit)
{
  $("#"+containerDisplay).empty();
  $.each( $("."+elmSetClass), function() {
    var rank = $(this).data("rank");

    if( rank <= displayLimit )
    {
      $(this).clone().show().appendTo("#"+containerDisplay);
    }
    else
    {
      $(this).hide().appendTo("#"+containerParent);
    }
    if( rank <= startIndex )
    {
      rank = endIndex;
    }
    else 
    {
      rank = rank - 1;
    }
    $(this).data("rank", rank);
  });
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-08T06:53:46.530

我看到您有答案，但您可能对更通用、更紧凑的解决方案感兴趣：

```
 var $speakers = $(".speaker");
  var dims = {
    length: $speakers.length,
    batch: 3
  };
  var i = 0; //currIndex
  var dir = 1; //direction
  var offset = {};

  if (dims.length > dims.batch) {
    $speakers.hide();
    $('.speaker:lt(' + dims.batch + ')').show();
    var refreshId = setInterval(speaker_slides, 2000);
  }

  function speaker_slides() {
    i = i + dir;
    $("#currIn").text(i);
    offset.h = (dir == 1) ? -1 : dims.batch;
    offset.s = (dir == 1) ? dims.batch - 1 : 0;
    $speakers.eq(i + offset.h).hide(500);
    $speakers.eq(i + offset.s).delay(500).show(500);
    dir = (i <= 0) ? 1 : (i >= dims.length - dims.batch) ? -1 : dir;
  } 
```

**[演示](http://jsfiddle.net/Sny3e/11/)**

所有的常数都派生自`dims.length`和`dims.batch`。

对于不同的行为，只需更改`dims.batch`为 1、2 或 4。

# php - php - 数组中的值的“前两个单词”多重匹配然后array_intersect？

> ID：14208326
> 
> 赞同：4
> 
> 时间：2013-01-08T04:41:48.713
> 
> 标签：php, preg-match, array-intersect

首先让我道歉，我是一名网络工程师，而不是一名编码员......所以，如果你能在这里忍受我，请多多包涵。

这就是我所面临的，我一生都无法找到一种优雅的方式来做到这一点。

我正在使用 nagios（相信你们中的许多人都熟悉它）并且正在从服务检查中获取性能数据。这一个特别返回值，如：模块2入口温度模块2出口温度模块2 asic-4温度模块3入口温度模块3出口温度模块4入口温度模块4出口温度......等等这些值都呈现在单个数组。我想要做的是：匹配字符串中的前 2 个单词/值，以便创建数组键值的“组”，用于生成 RRD 图... RRD 部分我不需要任何帮助，但我做的匹配和输出。

我还应该注意，这里也可能有不同的数组值，具体取决于数据来自的设备（即它可能显示为“Switch #1 Sensor #1 Temperature”），虽然我并不担心目前，我将使用这个脚本在未来评估这些值，以创建它们自己的图表。

所以，说实话，我的想法是从原始数组中创建两个数组：最初使用 preg_match 来查找 /。*出口。*|。*ASIC。*/ 因为这些是“热”临时值，然后通过将该新数组分解为仅第二个值（int）或前两个值（模块＃）来进一步细化以供以后比较

其次使用 preg_match 来查找 /。*进口。*/ 因为这些是“冷”温度，然后通过将新数组分解为与前者相同的方法来进一步细化。

现在应该有两个带有 key=># 或 key=>module # 的数组，然后使用 array_intersect 在两个数组中查找匹配项并输出键，以便我可以使用它们来生成图形。

那有意义吗？换句话说，我只想选择匹配的模块 # 条目以在我的图形中使用。即模块 2 入口、模块 2 出口、模块 2 asic...然后重复 - 模块 3 入口、模块 3 出口等...

这是我尝试过的，但它根本没有按照我想要的方式工作：

```
$test = array("module 1 inlet temperature", "module 2 inlet temperature", "module 2 asic-4 temperature", "module 2 outlet temperature", "module 1 outlet temperature");
$results = array();
foreach($test as $key => $value) {
   preg_match("/.*inlet.*|.*asic.*/", $test[$key]);
   preg_match("/module [0-9]?[0-9]/", $test[$key]);      
   $results[] = $value;
   }

if(preg_match("/.*outlet.*/", $test[$key]));
   foreach($test as $key1 => $value1) {
      preg_match("/module [0-9]?[0-9]/", $test[$key1]);
   $results1[] = $value1;
   }#
}
$results3 = array_intersect($results, $results1) 
```

这里的任何帮助将不胜感激。我敢肯定我在这里的解释很混乱，所以希望有人同情我并帮助一个人......

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T05:44:38.783

有点难以理解你的问题，但我想你是在追求这样的结果吗？

```
$temps['module 1']['inlet'] = 20;
$temps['module 1']['outlet'] = 30;

$temps['module 2']['inlet'] = 25;
$temps['module 2']['outlet'] = 35;
$temps['module 2']['asic-4'] = 50; 
```

然后你会使用这些数组来生成你的图表吗？

只要您在一个数组中有标签，而在另一个数组中有临时值，并且每个数组中的标签和临时值的顺序是相同的……那么您将这样做：

```
// Split Names into Groups
$temps = array(20,25,50,35,30);
$labels = array("module 1 inlet temperature", "module 2 inlet temperature", "module 2 asic-4 temperature", "module 2 outlet temperature", "module 1 outlet temperature");

// Combine Lables to Values (Labels and Values must be in the same positions)
$data = array_combine($labels, $temps);

$temps = array();
foreach ($data as $label => $temp) {
    $words = preg_split('/\s/i', $label);

    // Combine first two pieces of label for component name
    $component = $words[0] . ' ' . $words[1];

    // Sensor name is on it's own
    $sensor = $words[2];

    // Save Results
    $temps[$component][$sensor] = $temp;
}

// Print out results for debug purposes
echo '<pre>';
var_dump($temps);
echo '</pre>';
exit(); 
```

获得`$temp`数组后，您可以使用`foreach`循环遍历每个模块和传感器并打印出图表的值，或者仅显示某些模块或某些传感器等。

即使它不完全是你所追求的，希望它能给你一些想法，你可以调整它以适应它。

# java - 在android中需要正确的SD卡路径

> ID：14208329
> 
> 赞同：0
> 
> 时间：2013-01-08T04:41:52.990
> 
> 标签：java, android, storage

我是一名窗口开发人员，但想开发 android 应用程序 :-) 我正在使用 ADT eclipse 进行一些试验。令人敬畏的技术，界面和有趣。

但是，在我第一次试用与 SD 卡相关的时候，下面的代码非常适合三星 Galaxy Fit。

```
File myFile = new File(Environment.getExternalStorageDirectory() + "QCVerification"+ File.separator+"List of Entries.csv"); 
```

好的，我认为它更感兴趣，因为我的第一次尝试成功了 ;-)

现在进行一点测试，我在三星 Galaxy 选项卡上尝试了相同的应用程序。

这给了我一个例外，例如，

**/mnt/sdcard/QCVerification/Entry.csv 列表（没有这样的文件或目录）**

:-( 现在只有一个交叉验证给了我这个错误。

因此，请向我提供任何链接、代码块、项目、示例或任何可以帮助我在任何 android 设备上找到外部存储卡的建议。:-)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T04:55:07.177

您收到此异常是因为可能根本不存在这样的目录/文件。确保此类文件存在。

此外，您可以使用以下代码检查文件是否存在：

```
File file = "Your file path";
if(file.exists()){
  // Read File
}
else{
  // Show error message
} 
```

[**您可以在此处**](http://developer.android.com/reference/java/io/File.html)找到与文件相关的更多方法[](http://developer.android.com/reference/java/io/File.html)

 **获取外部存储目录的根目录：

```
File root = Environment.getExternalStorageDirectory(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T05:09:06.930

```
 File myFile = new File(Environment.getExternalStorageDirectory() + "QCVerification"+ File.separator+"List of    ntries.csv");
 if(myFile.exists()){
    // do what you wanted to do.
 }
else{
   myFile.mkdirs(); //it will make a directory if it doesn't exists and a file in that directory.
 } 
```

希望它会帮助你。**

# asp.net-mvc-4 - MVC 是否/将支持“ASP.NET 动态数据项目”类型的模板？

> ID：14208331
> 
> 赞同：0
> 
> 时间：2013-01-08T04:42:21.610
> 
> 标签：asp.net-mvc-4, dynamic-data

为了支持更快的开发，MVC是否支持/提供类似“ASP.NET Dynamic Data Linq/Entities”的模板？或者将来是否有计划提供这个？

# java - PhoneGap 2.30 异常

> ID：14208333
> 
> 赞同：0
> 
> 时间：2013-01-08T04:42:30.197
> 
> 标签：java, android, jquery, cordova, jquery-mobile

我以警报的形式收到了 Cordova 2.3.0 的例外情况：

```
Exception Building Cordova JS globals: TypeError: Object.defineProperty called on non-object for key 'device' 
```

这是什么意思以及调试android设备的好方法是什么？似乎没有堆栈跟踪。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T16:32:46.883

我想通了，它实际上非常简单，所以为了在将来节省别人的时间，不要在全局范围内命名任何东西

```
var device = *variable*; 
```

.In 2.30 这会破坏你的应用程序。

# javascript - onload 属性可以替换 $(window).load(...) 吗？

> ID：14208337
> 
> 赞同：0
> 
> 时间：2013-01-08T04:43:07.293
> 
> 标签：javascript, onload

我有一个带有动态数量的滑块的表格，当页面加载时，我需要为表格的每个单元格执行一些 javascript 代码。每个滑块都需要单独`$(window).load(function(){...`调用。

问题是：我只知道滑块打印到 html 时的 id 和参数，所以我不能将它们全部添加到标题中。这让我得到了类似的东西

```
<td>
 <script type="text/javascript">
  $(window).load(function(){$("#my_id").PPSlider({ARGUMENTS});};
 </script>
 <input type="hidden" id="my_id"/>
</td> 
```

有没有办法用`onload`输入属性替换它？我已经尝试了十几种方法，但它们似乎都不起作用。如果不是，鉴于我无法将它们合并到标题中，应该如何正确完成？

编辑：澄清：每个滑块的参数都不同，它们表示当滑块位于某些位置时要显示的文本。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-08T04:44:59.843

而是给他们上课 - 这些课程不必是独一无二的，这就是他们的目的！此外，您应该`ready`改为处理。

```
<input type="hidden" id="my_id" class="slider" /> 
```

```
$(document).ready(function() {
    $('.slider').PPSlider({ARGUMENTS});
}); 
```

当然，如果每个滑块由于某种原因实际上需要自己的（每个滑块的不同参数绝对无法使用属性来确定？不太可能，但是......）那么你可以把滑块元素放在`<script>` *后面*，然后你不甚至不必等待`onload`。

# ios - 使用 xcode 实现 Linea Pro 扫描仪

> ID：14208342
> 
> 赞同：0
> 
> 时间：2013-01-08T04:43:31.580
> 
> 标签：ios, xcode

我已经使用 ZBar SDK 扫描了条形码，它通过打开相机来扫描条形码。它工作得很好，但现在我想使用 Linea Pro SDK 扫描条形码。谁能帮我用 xcode 做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-09T06:02:10.890

我已经从“http://www.datecs.bg/en/products/Linea-Pro-iPhone-SDK/8/102”下载了 sdk，它也提供了 LineaDemo。我已经运行了应用程序，它完美地扫描了条形码。

# php - ZF2 Zend 框架没有为专辑教程应用程序调用 global.php

> ID：14208346
> 
> 赞同：0
> 
> 时间：2013-01-08T04:44:00.477
> 
> 标签：php, phpunit, zend-framework2

我收到一个错误： Zend\ServiceManager\Exception\ServiceNotCreatedException: An exception was raise while creating "Zend\Db\Adapter\Adapter"; 没有返回实例。

往下追溯，我发现 Zend\Db\Adapter\Adapter 出现在 global.php 中。但是， global.php 从未被调用过，或者至少在发生错误的 module.php getserviceconfig() 之前没有被调用过。testconfig.php.dist 和 application.config.php 都将 global.php 呈现给侦听器定义。但是，global.php 永远不会执行。

有人可以告诉我为什么吗？定义如下。

全局.php

```
<?php
echo PHP_EOL . "Global.php executed." . PHP_EOL;
return array(
    'db' => array(
        'driver'         => 'Pdo',
        'dsn'            => 'mysql:dbname=zf2tutorial;host=album.techmate.com',
        'driver_options' => array(
            PDO::MYSQL_ATTR_INIT_COMMAND => 'SET NAMES \'UTF8\''
        ),
    ),
    'service_manager' => array(
        'factories' => array(
            'Zend\Db\Adapter\Adapter'
                    => 'Zend\Db\Adapter\AdapterServiceFactory',
        ),
    ),
);
?> 
```

testconfig.php.dist

```
<?php

echo PHP_EOL . "TestConfig.php.dist executed." . PHP_EOL;
return array(
    'modules' => array(
        'Album', // <-- Add this line
    ),
    'module_listener_options' => array(
        'config_glob_paths' => array(
            'config/autoload/{,*.}{global,local}.php',
        ),
        'module_paths' => array(
            './module',
            './vendor',
        ),
    ),
);
?> 
```

应用程序.config.php

```
<?php
echo PHP_EOL . "Application.config.php executed." . PHP_EOL;
return array(
    'modules' => array(
        'Album',                  // <-- Add this line
    ),
    'module_listener_options' => array(
        'config_glob_paths'    => array(
            'config/autoload/{,*.}{global,local}.php',
        ),
        'module_paths' => array(
            './module',
            './vendor',
        ),
    ),
);
?> 
```

module.php 只是为了完整性...

```
<?php

namespace Album;

use Album\Model\Album;
use Album\Model\AlbumTable;
use Zend\Db\ResultSet\ResultSet;
use Zend\Db\TableGateway\TableGateway;
use Zend\ModuleManager\Feature\ServiceProviderInterface;
use Zend\Db\Adapter\Adapter as DbAdapter;

class Module implements ServiceProviderInterface {

    public function getAutoloaderConfig() {
        return array(
            'Zend\Loader\ClassMapAutoloader' => array(
                __DIR__ . '/autoload_classmap.php',
            ),
            'Zend\Loader\StandardAutoloader' => array(
                'namespaces' => array(
                    __NAMESPACE__ => __DIR__ . '/src/' . __NAMESPACE__,
                ),
            ),
        );
    }

    public function getConfig() {
        return include __DIR__ . '/config/module.config.php';
    }

    // Add this method:
    public function getServiceConfig() {
        return array(
            'factories' => array(
/*                'Zend\db\Adapter\Adapter' => function($sm) {
                    echo PHP_EOL . "SM db-adapter executed." . PHP_EOL;
                    $config = $sm->get('config');
                    $config = $config['db'];
                    $dbAdapter = new DbAdapter($config);
                    return $dbAdapter;
                },*/
                'Album\Model\AlbumTable' => function($sm) {
                    echo PHP_EOL . "SM AlbumTable executed." . PHP_EOL;
                    $tableGateway = $sm->get('AlbumTableGateway');
                    $table = new AlbumTable($tableGateway);
                    return $table;
                },
                'AlbumTableGateway' => function ($sm) {
                    echo PHP_EOL . "SM AlbumTableGateway executed." . PHP_EOL;
                        $dbAdapter = $sm->get('Zend\Db\Adapter\Adapter');
                        $resultSetPrototype = new ResultSet();
                        $resultSetPrototype->setArrayObjectPrototype(new Album());
                        return new TableGateway('album', $dbAdapter, null, $resultSetPrototype);
                },
            ),
        );
    }

}

?> 
```

而错误...

```
TestConfig.php.dist executed.

Module.config.php executed.
PHPUnit 3.7.10 by Sebastian Bergmann.

Configuration read from D:\PHP\zf2-tutorial\module\Album\test\phpunit.xml.dist

......E
SM AlbumTable executed.

SM AlbumTableGateway executed.

Time: 0 seconds, Memory: 8.50Mb

There was 1 error:

1) AlbumTest\Model\AlbumTableTest::testGetAlbumTableReturnsAnInstanceOfAlbumTable
Zend\ServiceManager\Exception\ServiceNotFoundException: Zend\ServiceManager\ServiceManager::get was unable to fetch or create an instance for Zend\Db\Adapter\Adapter

D:\PHP\zf2-tutorial\vendor\zendframework\zendframework\library\Zend\ServiceManager\ServiceManager.php:450
D:\PHP\zf2-tutorial\module\Album\Module.php:50
D:\PHP\zf2-tutorial\vendor\zendframework\zendframework\library\Zend\ServiceManager\ServiceManager.php:726
D:\PHP\zf2-tutorial\vendor\zendframework\zendframework\library\Zend\ServiceManager\ServiceManager.php:843
D:\PHP\zf2-tutorial\vendor\zendframework\zendframework\library\Zend\ServiceManager\ServiceManager.php:487
D:\PHP\zf2-tutorial\vendor\zendframework\zendframework\library\Zend\ServiceManager\ServiceManager.php:442
D:\PHP\zf2-tutorial\module\Album\Module.php:44
D:\PHP\zf2-tutorial\vendor\zendframework\zendframework\library\Zend\ServiceManager\ServiceManager.php:726
D:\PHP\zf2-tutorial\vendor\zendframework\zendframework\library\Zend\ServiceManager\ServiceManager.php:843
D:\PHP\zf2-tutorial\vendor\zendframework\zendframework\library\Zend\ServiceManager\ServiceManager.php:487
D:\PHP\zf2-tutorial\vendor\zendframework\zendframework\library\Zend\ServiceManager\ServiceManager.php:442
D:\PHP\zf2-tutorial\module\Album\src\Album\Controller\AlbumController.php:33
D:\PHP\zf2-tutorial\module\Album\test\AlbumTest\Model\AlbumTableTest.php:149

FAILURES!
Tests: 7, Assertions: 9, Errors: 1. 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-09T15:22:04.677

根据[PHPUnit bootstrapping instructions](http://framework.zend.com/manual/2.0/en/user-guide/unit-testing.html#bootstrapping-your-tests)`TestConfig.php.dist` ，以下行看起来可能是错误的：

```
'config/autoload/{,*.}{global,local}.php', 
```

将行更改为：

```
'../../../config/autoload/{,*.}{global,local}.php', 
```

如果您有一个`local.php`配置文件，它也可能不会加载。

当然，如果目录结构不标准，相应地更改行，但你明白了。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-08T09:41:32.850

我相信 global.php 没有被自动加载，因为文件的命名不匹配：

```
'config/autoload/{,*.}{global,local}.php', 
```

因此，如果您命名文件`myconfig.global.php`，则应将其拾取。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-08T14:10:34.803

我找到了解决这个问题的方法，但我对需要这样做感到非常失望。阅读 ZF2 手册，我发现 global.php 和 local.php 应该由 ModuleManager 与 module.config.php 合并。据我所知，这实际上应该发生在 ModuleManagerFactory 但是......

无论如何，我手动将 global.php 和 local.php 信息添加到 module.config.php 中。这行得通，但同样，它不应该是必要的。

与往常一样，我很高兴收到比这更好的答案。

为了清楚起见，我包括了手册参考。它来自第 700 页。请注意，它还包括调用文件 my.global.config.php 和 my.local.config.php 的错误。为了以防万一，我实际上确实尝试了这些名称，但这没有用。

```
154.5 Default Configuration Options
The following options are available when using the default services configured by the ServiceManagerConfig
and ViewManager.
These configuration directives can go to the config/autoload/{,*.}{global,local}.php files, or in the
module/<module name>/config/module.config.php configuration files. The merging of these configuration
files is done by the ModuleManager. It first merges each module’s module.config.php file, and then
the files in config/autoload (first the *.global.php and then the *.local.php files). The order of the
merge is relevant so you can override a module’s configuration with your application configuration. If you have both
a config/autoload/my.global.config.php and config/autoload/my.local.config.php, the
local configuration file overrides the global configuration. 
```

# php - 获取产品相关图像的完整缓存路径 Magento

> ID：14208350
> 
> 赞同：1
> 
> 时间：2013-01-08T04:44:39.087
> 
> 标签：php, image, magento

**嗨**，我已经用我的代码获得了完整的缓存**缩略图**和主图像路径但我想获得**相对****图像*的完整缓存路径* 也请提出一些想法

```
 <?php
@ob_start();
@session_start();
ini_set('display_errors', 1);
//for order update
include '../../../../app/Mage.php';
Mage::app('default');
echo '<pre>';
if(isset($_REQUEST['productid'])){
$productId = $_REQUEST['productid'];
}else{

$productId = '12402'; // product ID 10 is an actual product, and used here for a test
}
$product = Mage::getModel('catalog/product')->load($productId);  //load the product     
echo 'product_id '.'=>'.$product->getId().'<br/>';                                        

echo 'created_at '.'=>'.$product->getcreated_at().'<br/>';   
echo 'description '.'=>'.$product->getdescription().'<br/>'; 
echo 'short_description '.'=>'.$product->getshort_description().'<br/>'; 
echo 'sku'.'=>'.$product->getsku().'<br/>'; 
 'media_gallery'.'=>'.$product->getmedia_gallery().'<br/>'; 
print_r($product->getmedia_gallery());
?>
<?php 
$image = Mage::helper('catalog/image')->init($product, 'image');
$image1 = str_replace('/webApps/migration/productapi/new/','/',$image);
//echo '<img id="image" src="'.$image1.'"  />';
echo 'image => '.$image1.'<br/>';

$thumbnail = Mage::helper('catalog/image')->init($product, 'thumbnail');
$thumbnail1 = str_replace('/webApps/migration/productapi/new/','/',$thumbnail);
echo 'thumbnail => '.$thumbnail1.'<br/>';
?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T06:18:12.797

****使用****此代码** 我得到了产品**相关****图片****完整路径**

```
 <?php
    @ob_start();
    @session_start();
    ini_set('display_errors', 1);
    //for order update
    include '../../../../app/Mage.php';
    Mage::app('default');
    echo '<pre>';
    if(isset($_REQUEST['productid'])){
    $productId = $_REQUEST['productid'];
    }else{

    $productId = '12402'; // product ID 10 is an actual product, and used here for a test
    }
    $product = Mage::getModel('catalog/product')->load($productId);  //load the product     
    echo 'product_id '.'=>'.$product->getId().'<br/>';                                        

    echo 'created_at '.'=>'.$product->getcreated_at().'<br/>';   
    echo 'description '.'=>'.$product->getdescription().'<br/>'; 
    echo 'short_description '.'=>'.$product->getshort_description().'<br/>'; 
    echo 'sku'.'=>'.$product->getsku().'<br/>'; 

     if (count($product->getMediaGalleryImages()) > 0){
          foreach ($product->getMediaGalleryImages() as $_image){
              $thumbnail12 = Mage::helper('catalog/image')->init($product->getProduct(), 'image', $_image->getFile())->resize(2000);
              $thumbnail13 = str_replace('/webApps/migration/productapi/new/','/',$thumbnail12);
              echo 'thumbnail => '.$thumbnail13.'<br/>';
               }
                            }

    ?> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-04-29T13:29:23.010

请注意，如果您正在调试它并且不理解为什么您没有从以下位置获取图像路径字符串：

```
Mage::helper('catalog/image')->init($product->getProduct(), 'image', $_image->getFile())->resize(2000) 
```

这是因为它实现了 toString() 方法，所以每个这实际上都给出了图像的完整路径。您可以通过调用 ->toString() 或添加 (String)Mage...

（但回显时不需要使用 (String) 或 ->toString() ，php默认这样做）

# android - 将 Actionbarsherlock 导入 Eclipse

> ID：14208356
> 
> 赞同：5
> 
> 时间：2013-01-08T04:45:12.733
> 
> 标签：android, eclipse, import, actionbarsherlock

有人能告诉我如何正确导入 SherlockFragmentActivity.java 和 ActionBarSherlock 文件夹的步骤吗？我不确定该怎么做，并且在尝试时遇到很多错误。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-01-08T14:30:26.737

1.  提取 ActionBarSherlock 项目。
2.  在 Eclipse 中添加项目，如 android 4.0+ 项目。
3.  然后打开您的工作项目首选项，并在 Android 部分中包含 de ActionBarSherlock 项目作为库。
4.  使用您需要的 ActionBarSherlock 项目。

你在这个网站上有一个小教程：[教程](http://actionbarsherlock.com/faq.html)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-08T05:32:10.040

*   提取 ActionBarSherlock
*   打开 Eclipse 并选择文件 > 导入
*   从那里，选择提取的 ActionBarSherlock 文件夹中的库文件夹
*   选中“将项目复制到工作区”
*   右键单击应命名为“库”的新项目，转到 Android 工具 > 添加支持库
*   按照这些步骤，你应该都准备好了！

您应该注意的一件事是控制台。如果您的 Android SDK 安装在 Program Files (x86) 中，您可能会遇到权限问题。然后，您需要做的是确保更改权限，以便应用程序可以更改该文件夹。我知道我遇到了这个问题，我花了很长时间才找到，因为我没有注意控制台。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-10-28T10:04:14.343

按照以下步骤操作，我 100% 确定您将成功导入 android Action Bar Sherlock 库。

1.  您要做的第一件事是从[http://actionbarsherlock.com](http://actionbarsherlock.com)下载库？. 在此之后解压缩/解压缩它。

2.  您获得的文件夹将包含许多子文件夹和文件。您的操作栏 sherlock 库位于“actionbarsherlock”文件夹中。现在，将文件夹“actionbarsherlock”重命名为“ActionBarSherlockLib”。

3.  现在转到 Eclipse 并将 ABS(Action Bar Sherlock )-库添加为 Android 项目。**不要使用 Eclipse 的导入工具**来导入 ActionBarSherlock 库——它不会立即工作，您必须修复一些设置。相反，请按照下一步中的说明创建一个新项目。

4.  从现有代码打开文件 -> 新建 -> 项目 -> Android 项目。选择此项并单击下一步。

5.  在下一个屏幕中，eclipse 将要求您浏览根目录。您必须选择包含您最初解压缩的所有文件和文件夹的根文件夹。选择正确的根文件夹后，eclipse 会建议创建一个项目列表。

6.  您只需选中“ActionBarSherlockLib”并取消选中其余部分。

7.  选中“将项目复制到工作区”并单击完成。

8.  您现在是冠军，并已成功将操作栏 sherlock 库导入到 eclipse 中。恭喜。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-04-20T05:05:49.460

您会收到错误，因为您已经`android-support-v4.jar`在`/libs/`项目目录中，但`ActionBarSherlock`项目已经包含此库，因此发生冲突。

要从您的项目中修复此删除`android-support-v4.jar`，然后转到`Project > Clean`.

# windows - 如何以编程方式杀死 CUDA 内核

> ID：14208357
> 
> 赞同：1
> 
> 时间：2013-01-08T04:45:14.033
> 
> 标签：windows, cuda, gpu, gpgpu

我有一个 CUDA 内核，在我的旧 Tesla 卡中使用了 20 多秒。如果内核运行超过 20 秒，**我想以编程方式终止 CUDA 内核。**我的意图是，如果内核运行时间超过 20 秒，那么应该杀死该内核并运行另一个精度较低的内核。

我的操作系统是 Windows 7 64 位。CUDA 版本是 5.0。GPU是特斯拉C1060

请帮助我在不退出应用程序的情况下杀死 CUDA 内核。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-09T22:40:54.530

您可以通过在 CC 2.0 或更高版本的设备上使用[断言](http://docs.nvidia.com/cuda/cuda-c-programming-guide/index.html#assertion)（失败）从内核中停止现有内核的运行。但是，我认为这不会达到既定目的，至少不方便。

您还可以使用[cudaDeviceReset()](http://docs.nvidia.com/cuda/cuda-runtime-api/index.html#group__CUDART__DEVICE_1gdcc2c6f914eb9461565b12648faa5e28)从主机端停止设备的操作。我还没有完全考虑到这一点，但应该可以在主机端监控某种计时器，并在超时时间结束时重置设备，如果结果的某些指示不存在。这种类型的重置有点像撬棍，因此您需要完全重新启动该设备上的操作（包括 cudaMallocs 等）才能重新启动所需的操作。

请注意，`cudaDeviceReset()`仅靠其本身不足以将 GPU 恢复到正确的功能行为。为了实现这一点，“拥有”过程也必须终止。见[这里](https://stackoverflow.com/questions/56329377/reset-cuda-context-after-exception/56330491#56330491)。

# c# - 使用 json.net 将 xml 转换为 json

> ID：14208360
> 
> 赞同：1
> 
> 时间：2013-01-08T04:45:31.330
> 
> 标签：c#, asp.net, .net

我有以下简单的 xml 到 json 转换代码

```
XmlDocument xmlDocument=new XmlDocument();
xmlDocument.LoadXml("<Root><Record><Column>1</Column></Record></Root>");
string val=JsonConvert.SerializeXmlNode(xmlDocument,Formatting.None); 
```

xml 确实得到了转换，但该值包含一些 json 无效的字符。

值包含以下

"{\"根\":{\"记录\":{\"列\":\"1\"}}}

我不希望转换后的字符串中有那些“\”字符。我在这里错过了什么吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T04:53:21.897

> 我在这里错过了什么吗？

我怀疑您错过了它们实际上并不存在的事实:) 我确定您只是在调试器中看到它们-它为您转义了引号之类的东西。

只需将字符串打印到控制台，您就会看到所需的内容。

（我刚刚使用您的示例代码自己尝试过，没问题。）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T04:57:30.510

我不确定，但只是试试这个.. 而不是使用 Character 的使用 Predeclared Entity。

```
Character   Predeclared Entity
&              &amp;
<              &lt;
>              &gt;
"              &quot;
'              &apos; 
```

例如，记录名称“AT&T”应在 XML 标记中显示为“AT&T”：XML 解析器将负责更改“&” 回到“&” 处理文档时自动。

如果我错了，任何人纠正我...

谢谢。，

# hadoop - 从 Eclipse 在 Hadoop 上执行 MR 程序的问题

> ID：14208365
> 
> 赞同：1
> 
> 时间：2013-01-08T04:46:42.733
> 
> 标签：hadoop, eclipse-plugin

我在执行从我的 eclipe`windows`到在同一台机器 `hadoop` `Pseudo cluster`上运行的 mapreduce 程序时遇到问题。`Ubuntu VM`

我正在跑步`hadoop 1.0.3`。我也尝试过`eclipse Juno`，`Ganymede`但`eclipse` `plugin 1.0.3`没有成功。每当我将 my 添加`Linux VM`为 mapreduce 位置时，都会出现连接错误。

我还尝试通过如下配置直接设置属性，但没有进一步的运气。我将其作为`java application`.

```
Configuration conf = new Configuration();
conf.set("fs.default.name", "hdfs://192.168.65.132:8020/");
conf.set("mapred.job.tracker", "192.168.65.132:8021");
conf.set("hadoop.job.ugi", "hadoop"); 
```

我收到以下错误。

```
13/01/08 09:59:44 INFO ipc.Client: Retrying connect to server: 192.168.65.132/192.168.65.132:8020\. Already tried 7 time(s).
13/01/08 09:59:46 INFO ipc.Client: Retrying connect to server: 192.168.65.132/192.168.65.132:8020\. Already tried 8 time(s).
13/01/08 09:59:48 INFO ipc.Client: Retrying connect to server: 192.168.65.132/192.168.65.132:8020\. Already tried 9 time(s).
Exception in thread "main" java.net.ConnectException: Call to 192.168.65.132/192.168.65.132:8020 failed on connection exception: java.net.ConnectException: Connection refused: no further information

at org.apache.hadoop.ipc.Client.wrapException(Client.java:1099)
at org.apache.hadoop.ipc.Client.call(Client.java:1075)
at org.apache.hadoop.ipc.RPC$Invoker.invoke(RPC.java:225)
at $Proxy1.getProtocolVersion(Unknown Source)
at org.apache.hadoop.ipc.RPC.getProxy(RPC.java:396)
at org.apache.hadoop.ipc.RPC.getProxy(RPC.java:379)
at org.apache.hadoop.hdfs.DFSClient.createRPCNamenode(DFSClient.java:119)
at org.apache.hadoop.hdfs.DFSClient.<init>(DFSClient.java:238)
at org.apache.hadoop.hdfs.DFSClient.<init>(DFSClient.java:203)
at org.apache.hadoop.hdfs.DistributedFileSystem.initialize(DistributedFileSystem.java:89)
at org.apache.hadoop.fs.FileSystem.createFileSystem(FileSystem.java:1386)
at org.apache.hadoop.fs.FileSystem.access$200(FileSystem.java:66)
at org.apache.hadoop.fs.FileSystem$Cache.get(FileSystem.java:1404)
at org.apache.hadoop.fs.FileSystem.get(FileSystem.java:254)
at org.apache.hadoop.fs.FileSystem.get(FileSystem.java:123)
at org.apache.hadoop.fs.FileSystem.get(FileSystem.java:238)
at org.apache.hadoop.fs.Path.getFileSystem(Path.java:187)
at org.apache.hadoop.mapreduce.lib.input.FileInputFormat.addInputPath(FileInputFormat.java:372)
at inverika.training.examples.WordCount.main(WordCount.java:37)
    Caused by: java.net.ConnectException: Connection refused: no further information
at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:599)
at org.apache.hadoop.net.SocketIOWithTimeout.connect(SocketIOWithTimeout.java:206)
at org.apache.hadoop.net.NetUtils.connect(NetUtils.java:489)
at org.apache.hadoop.ipc.Client$Connection.setupConnection(Client.java:434)
at org.apache.hadoop.ipc.Client$Connection.setupIOstreams(Client.java:560)
at org.apache.hadoop.ipc.Client$Connection.access$2000(Client.java:184)
at org.apache.hadoop.ipc.Client.getConnection(Client.java:1206)
at org.apache.hadoop.ipc.Client.call(Client.java:1050)
... 17 more 
```

有没有人尝试过类似的设置？请分享您在这方面的经验。

网络统计转储：

```
Proto Recv-Q Send-Q Local Address   Foreign Address State 
tcp6  0      0      127.0.0.1:8020  :::*            LISTEN 
tcp6  0      0      127.0.0.1:8021  :::*            LISTEN 
tcp6  0      0      127.0.0.1:58399 127.0.0.1:8020  ESTABLISHED 
tcp6  0      0      127.0.0.1:8020  127.0.0.1:58399 ESTABLISHED 
tcp6  0      0      127.0.0.1:45042 127.0.0.1:8021  ESTABLISHED 
tcp6  0      0      127.0.0.1:8021  127.0.0.1:45042 ESTABLISHED 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-25T11:55:46.727

从 netstat 来看，您的伪虚拟机似乎只会接受来自自身（虚拟机）的连接。我希望 NN 和 JT 的 netstat 条目看起来更像这样：

```
Proto Recv-Q Send-Q Local Address   Foreign Address State 
tcp   0      0      0.0.0.0:8020    :::*            LISTEN 
tcp   0      0      0.0.0.0:8021    :::*            LISTEN 
```

我不确定作为 tcp6 的 proto 是否重要，但如果您想从外部连接到本地地址，本地地址应该显示为 0.0.0.0:[port]。127.0.0.1 是一个环回地址，因此只能接受来自 VM 本身的连接。

您还需要查看您的 VM 网络是如何配置的（NAT、桥接等） - 如果您无法从 windows cmd 行 ( `ping 192.168.65.132`) ping VM 地址，那么您将无法让 Eclipse 与虚拟机。地址是什么`192.168.65.132`- 是您的 Windows IP 地址，还是虚拟机的地址？

因此，要解决此问题，您将需要重新配置您的 VM 网络并修改您的 hadoop 配置以使用 vm 主机名/IP 地址（不是 127.0.0.1），或者您可以使用类似的东西PuTTY 并创建一些动态 IPv4 socks 隧道。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-06-18T11:49:57.430

对于 ubuntu，我遵循 micheal-noll 并且它有效。也许你应该试试这个 [http://www.michael-noll.com/tutorials/running-hadoop-on-ubuntu-linux-single-node-cluster/](http://www.michael-noll.com/tutorials/running-hadoop-on-ubuntu-linux-single-node-cluster/)

# android - 如何在android中动态更改图像颜色？

> ID：14208367
> 
> 赞同：41
> 
> 时间：2013-01-08T04:46:58.553
> 
> 标签：android

我正在做这种类型的项目，在我的项目中**动态更改图像颜色**。

*我有一个黑色形状的彩色图像，当用户单击此图像时，图像颜色会动态变为绿色。*

![在此处输入图像描述](../Images/8aab07a7d79c0e15df1e85219d962364.png)

谷歌搜索和其他文件如下，但我没有解决我的问题。

请帮助我，是否有任何方法或文件可以解决我的问题，

* * *

## 回答 #1

> 赞同：57
> 
> 时间：2013-01-08T05:08:32.647

我是这样做的：它从资源 xml 文件中提取颜色。

```
<resources>
<color name="new_color">#FFAAAAAA</color>
</resources> 
```

在您的活动 .java 文件中：

```
import android.graphics.PorterDuff.Mode;

Resources res = context.getResources();
final ImageView image = (ImageView) findViewById(R.id.imageId);
final int newColor = res.getColor(R.color.new_color);
image.setColorFilter(newColor, Mode.SRC_ATOP); 
```

要清除它，请调用：

```
image.setColorFilter(null); 
```

* * *

## 回答 #2

> 赞同：25
> 
> 时间：2017-09-26T18:03:45.713

将图像/图像按钮的**android:tint**属性设置为您需要的**颜色。**

```
android:tint="@android:color/black" 
```

您可以选择设置**android:tintMode**属性。

* * *

## 回答 #3

> 赞同：15
> 
> 时间：2015-12-12T07:23:14.777

```
imageView.setImageResource(R.drawable.ic_person_black_48dp);

imageView.setColorFilter(imageView.getContext().getResources().getColor(R.color.desired_color), PorterDuff.Mode.SRC_ATOP); 
```

* * *

## 回答 #4

> 赞同：11
> 
> 时间：2015-12-15T15:08:34.560

在可绘制文件夹中创建资源，例如

```
<layer-list xmlns:android="http://schemas.android.com/apk/res/android">
    <item>
        <bitmap
            android:src="@drawable/rect"
            android:tint="@color/red"/>
    </item>
</layer-list> 
```

`android:tint="@color/red"`可以。

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2018-02-07T12:56:13.840

在 XML 中使用 src 而不是 ImageView 中的背景标签。在java代码中-

```
import android.graphics.PorterDuff.Mode;
final Context context=this;

        home1=(ImageView) findViewById(R.id.home1);
 Resources res = context1.getResources();
        final int newColor = res.getColor(android.R.color.black);
        home1.setColorFilter(newColor, Mode.SRC_ATOP); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-01-08T04:51:35.483

把它放在你的 OnDraw 中，就在你画你的正方形之前。

```
if (userclicked){
paint.setColor(Color.GREEN);
} else {
paint.setColor(Color.BLACK);
} 
```

当然，如果您使用 canvas.drawRect(x0,y0,x1,y1,paint) 绘制它，那么如果您绘制这样的简单形状，您就会这样做。

# javascript - 正则表达式 - 如何过滤数字和“-”？

> ID：14208368
> 
> 赞同：0
> 
> 时间：2013-01-08T04:47:10.093
> 
> 标签：javascript, jquery, regex

我试图只过滤数字和`-`. 每当用户输入任何不是数字且不是连字符/破折号的内容时，都应将其删除。我有正则表达式`[0-9\-]`，但它不起作用。我知道这是错误的，但我对此真的很陌生。

请参阅[http://jsfiddle.net/nqdjZ/](http://jsfiddle.net/nqdjZ/)

请帮忙。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-08T04:50:59.893

首先，`new RegExp`期望一个字符串；您应该改用文字`/[0-9-]/`。下一个问题是它`replace`甚至不应该存在。另一个问题是，您永远无法完全确定文本的输入位置——不要假设它在末尾。这会严重惹恼人们。

使用 an`<input type="number">`代替，并在最后验证而不是在有人打字时验证。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-08T05:04:02.140

试试这个正则表达式：

```
[^\d\-]+ 
```

并用空字符串替换。

解释：

> ***`[^character_group]`*** 否定：匹配任何不在`character_group`.
> 
> ***`\d`*** 匹配任何十进制数字。
> 
> ***`+`*** 匹配前一个元素一次或多次。
> 
> ***`\-`*** 火柴`-`

和你的代码：

```
result = inputString.replace(/[^\d\-]+/g, ""); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-08T05:11:19.817

更改正则表达式 -

```
var pattern = new RegExp("^([0-9_\\-]+)$"); 
```

# php - 使用php从mysql中检索数据

> ID：14208369
> 
> 赞同：-2
> 
> 时间：2013-01-08T04:47:28.900
> 
> 标签：php, mysql, fetch

我正在使用 php 做一个项目。我想通过付款计划1，计划2，计划3，免费使用php从mysql表顺序中检索数据。如何？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-08T04:55:59.120

```
// Initializing connection data.
$host_db = 'localhost';
$name_db = 'article_db';
$user_db = 'username';
$pass_db = 'password';

try {
  // Connecting using the PDO object.
  $connection = new PDO("mysql:host=$host_db; dbname=$name_db", $user_db, $pass_db);

  // Setting the query and runnin it...
  $sql = "SELECT * FROM `article` WHERE `category` = 5 ORDER BY 3";
  $result = $connection->query($sql);

  // Iterating over the data and printing it.
  foreach($result as $row) {
      echo $row['id']. ' - '. $row['name']. ' - '. $row['category']. ' - '. $row['editor']. '<br />';
  }
  // Closing the connection.
  $connection = null;
}
// Catching it if something went wrong.
catch(PDOException $e) {
  echo $e->getMessage();
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-08T06:46:17.913

从数据库中检索数据的步骤是：

1.  建立与数据库的 mysql 连接。
2.  写下你的查询。要检索数据，您必须使用 mysql_query("select * from your_table where id=$id")。（但是这在 PHP 5.5 中已经被弃用了）。看看这个链接来进一步解释你：http: [//php.net/manual/en/function.mysql-query.php](http://php.net/manual/en/function.mysql-query.php)

现在，这里说明了一个从连接数据库到选择数据的完整示例：http: [//www.w3schools.com/php/func_mysql_query.asp](http://www.w3schools.com/php/func_mysql_query.asp)。参见示例 1。

或者您可以查看我所做的示例代码供您参考：

```
<?php
    $con = mysql_connect("localhost","mysql_user","mysql_pwd");
    if (!$con)
    {
        die('Could not connect: ' . mysql_error());
    }

    $sql = "SELECT * FROM your_table";
    $query= mysql_query($sql);

?>
    <table>
    <tr>
    <th>ID</th>
    <th>Name</th>
    <th>Email</th>
    </tr>

    <?php
    //this is to display your data
    while($row=mysql_fetch_array($query))
    {
    ?>
    <tr>
         <td><?php echo $row['id']?></td>
        <td><?php echo $row['full_name']?></td>
        <td><?php echo $row['email_address']?></td>
    </tr>

     <?php
    }//end while
    ?>
    </table>
<?php
mysql_close($con);
?> 
```

检索数据的另一种方法是使用 PDO。这是最好和最安全的方法。阅读以下链接以进一步向您解释：

*   [http://php.net/manual/en/book.pdo.php](http://php.net/manual/en/book.pdo.php)
*   [http://php.net/manual/en/pdo.query.php](http://php.net/manual/en/pdo.query.php)
*   [如何正确使用 PDO 对象进行参数化 SELECT 查询](https://stackoverflow.com/questions/767026/how-can-i-properly-use-a-pdo-object-for-a-select-query)

但是，这个概念还是一样的。在执行查询之前连接到数据库。

你也可以阅读这个线程：[display table columns with for loop based on user input](https://stackoverflow.com/questions/13244528/display-table-columns-with-for-loop-based-on-user-input/13245378#13245378)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-08T04:53:59.760

```
select * from table
order by plan1, plan2 desc, plan3 
```

* * *

## 回答 #4

> 赞同：-2
> 
> 时间：2013-01-08T05:01:46.963

```
<?php
$con = mysql_connect("localhost","root","") or die("Could not connect");
mysql_selectdb("test", $con);
$query = 'SELECT * FROM payment ORDER BY plan1,plan2,plan3';
$res = mysql_query($query, $con) or die(mysql_error());
while($row = mysql_fetch_array($res)){
    print_r($row);
}
?> 
```

# jquery - 添加左右箭头以滚动滑块？

> ID：14208371
> 
> 赞同：0
> 
> 时间：2013-01-08T04:47:39.240
> 
> 标签：jquery, jquery-ui, uislider

除了默认滚动条之外，是否可以向 jQuery UI Slider 添加左右箭头？

我正在使用的特定示例是这个-> [http://jqueryui.com/slider/#side-scroll](http://jqueryui.com/slider/#side-scroll)

如您所见，它带有内容底部的拖动滑块。但是，当鼠标悬停时，我还想添加一个左右箭头，它将分别向左和向右递增滚动滚动条。

对此的任何见解表示赞赏！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T20:17:36.790

你错过了一个小细节。滑块小部件本身不控制内容的位置。它的`slide`方法可以解决这个问题。当您以编程方式更新滑块的值时，未调用此方法，因为未发生用户交互。

我重构了您的代码以使`slide`不再是匿名函数。我从悬停手上调用它：

[http://jsfiddle.net/j4WY6/13/](http://jsfiddle.net/j4WY6/13/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T07:31:33.827

请参考这个页面。这会对你有所帮助。

[http://manos.malihu.gr/tuts/custom-scrollbar-plugin/scroll_buttons_and_snap_scrolling_examples.html](http://manos.malihu.gr/tuts/custom-scrollbar-plugin/scroll_buttons_and_snap_scrolling_examples.html)

# php - Flash 和 PHP 的 xml 错误

> ID：14208372
> 
> 赞同：0
> 
> 时间：2013-01-08T04:47:40.500
> 
> 标签：php, xml, iis-7

我正在尝试在本地 IIS 7 实例上安装 Flash 应用程序。SWF 文件需要一个名为 lex.php 的 php 文件才能正常运行。在浏览器中运行 swf 时，它会返回错误“XML 加载失败”。直接访问 PHP 文件时，会出现以下错误：

```
Parse error: syntax error, unexpected 'version' (T_STRING) in C:\inetpub\wwwroot\lex.php on line 1 
```

PHP 文件有一个 XML 标记，删除该标记后，它可以正常工作。即使 PHP 文件在删除 XML 标记时可以工作，SWF 仍然不能工作。我已经尝试了所有可以找到的建议，例如更正权限、添加 SWF MIME 类型以及为 PHP 创建处理程序映射。我在配置 IIS 方面没有太多经验，所以我希望这是一个简单的修复。感谢您的帮助

```
<?xml version='1.0' encoding="utf-16"?><!-- generated by Visuwords(TM) xml.php ... visuwords.com --><!-- (c) 2007 dunnbypaul.net --><lex><lemma><identity>grindle</identity><associations><node index='1'><type>-</type><link>1:02639087</link><ss_type>1</ss_type><lex_filenum>05</lex_filenum><lex_filename>noun.animal</lex_filename><lex_id>00</lex_id><head_word></head_word><head_id></head_id><synset_offset>02639087</synset_offset><sense_number>1</sense_number><tag_cnt>0</tag_cnt></node></associations></lemma><seconds_to_execute>0.0056090354919434</seconds_to_execute></lex> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T05:08:26.150

注意[`short_open_tag`](http://php.net/manual/en/ini.core.php#ini.short-open-tag)配置设置。

默认情况下，它设置为`1`（计算为`TRUE`），根据 PHP 的文档，它会被 XML 声明破坏：

> 如果您想将 PHP 与 XML 结合使用，您可以禁用此选项以便使用
> 
> `<?xml ?>`
> 
> 排队。否则，您可以使用 PHP 打印它，例如：
> 
> `<?php echo '<?xml version="1.0"?>'; ?>`.

# linux - Linux中根文件系统的版本

> ID：14208377
> 
> 赞同：-1
> 
> 时间：2013-01-08T04:49:12.987
> 
> 标签：linux

如何识别当前在我的机器上运行的根文件系统的版本？

是否有任何包含此信息的特定文件。

提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T05:07:15.280

没有根文件系统版本之类的东西。

如果您的意思是文件根系统的类型，您可以通过以下方式获取它：

```
mount -v | grep " on / " 
```

这可能会打印出如下内容：

```
/dev/sda2 on / type ext4 (rw,noatime,data=ordered) 
```

现在，您可以使用 tune2fs 获得有关 root fs 的更深入信息（但仅限于`ext2`,`ext3`或`ext4`）：

```
sudo tune2fs -l /dev/sda2 
```

它将打印很多关于文件系统的信息，其中包括挂载计数，这可能是您的意思。

# html - x 路径不计算第二个元素

> ID：14208379
> 
> 赞同：0
> 
> 时间：2013-01-08T04:49:27.190
> 
> 标签：html, xml, xslt

我设置了一个 xpath 来搜索第一个和第二个标题，但是第二个标题显示为空白，我猜这一定很容易，但是我尝试更改路径名很多次，但我似乎无法解决它，然后我使用了让每个人找出我的 xml 文件是否不正确，但我的循环似乎很容易找到两者。

```
<?xml version="1.0" encoding="ISO-8859-1"?>
<xsl:transform version="1.0"
xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
xmlns:foo="blogschema.xsd"
exclude-result-prefixes="foo">
<xsl:output method ="html" indent ="no"/> 
<xsl:template match="/">
<html>
<link rel ="stylesheet" type="text/css" href="blogStyle.css"/>
    <body>
    <ul class="menu">
    <li><a href="#" class ="Part 1"><xsl:value-of select="//foo:Heading[1]"/> </a></li>
    <li><a href="#" class ="Part 2"><xsl:value-of select="//foo:Heading[2]"/></a></li>
    </ul>

        <div id="heading">

        <xsl:for-each select="//foo:Entry">
        <!--<xsl:sort select="Heading"/> -->

        <div class ="topNavigation"><a href="#home"><h3><xsl:value-of    select="foo:Heading"/></h3></a></div>

        </xsl:for-each>
        <div class ="panes">

        </div>

        </div>
        <div id ="blogpicture">
            <div class="picture">
                <div id="headerTitle"><h2><xsl:value-of        select="//foo:Title"/></h2></div>
                </div>
                </div>

    </body>
    </html>
</xsl:template>
</xsl:transform> 
```

我试图得到一个菜单，但我现在得到的只是菜单的第 1 部分，在 for 循环中我可以得到第 2 部分。另一种方法可能是坚持使用循环，并且当我循环时以某种方式更改类在循环期间（增加类 id）我的博客

```
<Entry>
    <Heading id="101">Part 1</Heading>  
    <body>
        <text>something interesting</text>
        <pictures>pictures in the body</pictures>
        <videos>Videos in the body</videos>
    </body>
    <labels>Seperate labels with commas</labels>
    <date> 20121119</date>
    <location>The location the blog was published</location>

</Entry>

<Entry>
    <Heading id="102">Part 2</Heading>
        <body>
            <text>something</text>
            <pictures>pictures in the body</pictures>
            <videos>Videos in the body</videos>
        </body>
    <labels>Seperate labels with commas</labels>
    <date> 2012-11-26Z</date>
    <location>The location the blog was published</location>

</Entry>

<author>me</author> 
```

我希望这是有道理的，我当前进入菜单的输出是第 1 部分，然后是“”，表示我应该有第 2 部分。然而，xsl 中的 for each 循环带来了第 1 部分和第 2 部分的标题

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-08T06:37:40.680

这个怎么样：

```
<li><a href="#" class ="Part 1"><xsl:value-of select="//foo:Entry[1]/foo:Heading"/> </a></li>
<li><a href="#" class ="Part 2"><xsl:value-of select="//foo:Entry[2]/foo:Heading"/></a></li> 
```

或者，这也应该有效：

```
<li><a href="#" class ="Part 1"><xsl:value-of select="(//foo:Heading)[1]"/> </a></li>
<li><a href="#" class ="Part 2"><xsl:value-of select="(//foo:Heading)[2]"/></a></li> 
```

来自全能的[XPath 规范](http://www.w3.org/TR/xpath/#dt-context-position)：

> `//`是 的缩写`/descendant-or-self::node()/`。例如，`//para`is 的缩写`/descendant-or-self::node()/child::para`，因此将选择文档中的任何 para 元素（即使是作为文档元素的 para 元素也会被选中，`//para`因为文档元素节点是根节点的子节点）；`div//para`是缩写`div/descendant-or-self::node()/child::para`，因此将选择 div 孩子的所有 para 后代。
> 
> 注意：位置路径`//para[1]`与位置路径的*含义*不同`/descendant::para[1]`。后者选择第一个后代 para 元素；前者选择作为其父母的第一个 para 孩子的所有后代 para 元素。

# android - 如何在android的媒体服务器中找到可用的本机线程数？

> ID：14208382
> 
> 赞同：0
> 
> 时间：2013-01-08T04:49:32.017
> 
> 标签：android

是否有任何命令可以知道特定进程（如 mediaserver 进程）中可用的线程是什么。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T04:57:47.053

你可以使用 Eclipse 中的 DDMS，在那里你启用`Thread Update`了 android.process.media 就是这样。它显示了该进程在设备上运行的所有线程。

# android - Android后台服务或接收器在后台检查互联网连接

> ID：14208383
> 
> 赞同：1
> 
> 时间：2013-01-08T04:49:35.397
> 
> 标签：android, service, broadcastreceiver

在我的应用程序中，我总是在互联网的帮助下连接到 openfire 服务器。现在，如果连接在两者之间丢失或断开连接，我希望它应该弹出一个窗口，并且在按下 OK 按钮时它应该重新登录该人（就像与服务器的连接丢失时一样 - 即使该人是 1 秒断开连接）。

我正在使用以下代码：

```
public class ConnectionCheck extends BroadcastReceiver {

    @Override
    public void onReceive(Context context, Intent intent) {
        // TODO Auto-generated method stub

        ConnectivityManager connectivityManager =  (ConnectivityManager)context.getSystemService(Context.CONNECTIVITY_SERVICE);
        NetworkInfo activeNetInfo = connectivityManager.getActiveNetworkInfo();
        NetworkInfo mobileNetInfo = connectivityManager.getNetworkInfo(ConnectivityManager.TYPE_MOBILE);

        if(activeNetInfo!=null){
            Toast.makeText( context, "Active Network Type : " + activeNetInfo.getTypeName(), Toast.LENGTH_SHORT ).show();
        }

         if( mobileNetInfo != null )
            {
              Toast.makeText( context, "Mobile Network Type : " + mobileNetInfo.getTypeName(), Toast.LENGTH_SHORT ).show();
            }

    } 
```

假设当 wifi 断开连接时，它再次连接到移动网络（但内部用户没有连接到服务器）

我应该怎么做，即当用户断开连接时 - 即使从服务器一秒钟，它也应该弹出一个窗口。

是否可以？？

谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-08T05:21:59.130

**-**您上面的代码只会检查您的 android 设备与**wifi 路由器或手机的数据包服务**的连接，但它**不会检查 wifi 是否真的有互联网连接工作。**

**-**当我在做一个项目时，我曾经很震惊地找到了这个解决方案，我试着在 stackoverflow 上寻找一个解决方案，但我得到的是和你一样的代码。**所以我创建了自己的解决方案。**

我需要做一些自定义工作..但是让它运行起来......

我的代码在关闭时从 Wifi 切换到移动网络。

我正在使用端口 37 的 TimeService 来知道 Internet 已死，而 wifi 连接仍处于打开状态

现在我在这里放一个我制作的完整的工作代码。请原谅我，因为`DRY`（不要重复自己的原则）**在这里被滥用了**。`single sensible place`所以在生产网络中使用时请重构代码并将重复的代码转换为方法，即转换为a 。

```
/////---------------------------Intial Available Network Checking

private boolean checkConnection(){

boolean connected = false;
ConnectivityManager cm =  (ConnectivityManager)getSystemService(Context.CONNECTIVITY_SERVICE);

if (cm != null) {
NetworkInfo[] netInfo = cm.getAllNetworkInfo();

for (NetworkInfo ni : netInfo) {
if ((ni.getTypeName().equalsIgnoreCase("WIFI")
|| ni.getTypeName().equalsIgnoreCase("MOBILE"))
& ni.isConnected() & ni.isAvailable()) {
connected = true;
     }

   }
 }

return connected;
} /////---------------------------Intial Available Network Checking 
```

/////--------------------------------------------检查工作的互联网连接

```
public boolean inetAddr(){

    boolean x1 = false;

    try {
        Socket s = new Socket("utcnist.colorado.edu", 37);

        InputStream i = s.getInputStream();

        Scanner scan = new Scanner(i);

        while(scan.hasNextLine()){

            System.out.println(scan.nextLine());
            x1 = true;
        }
    } catch (Exception e) {

            x1 = false;
    } 

    return x1;

}

/////-------------------------------Check for the working Internet Connection

////-------------------------------Check Mobile Conectivity Again

public boolean mobileConnect(){

    boolean conn = false;
    ConnectivityManager cm =  (ConnectivityManager)getSystemService(Context.CONNECTIVITY_SERVICE);
    NetworkInfo activeNet = cm.getNetworkInfo(ConnectivityManager.TYPE_MOBILE);

    if(activeNet != null){

        conn = true;
    }else{

        conn = false;
    }

    return conn;

}

////------------------------------Check Mobile Conectivity Again 
```

**在这里，我正在使用上述方法....**

```
try{    
     if (!checkConnection()){

         AlertDialog.Builder myAlertDialog = new AlertDialog.Builder(YumZingSplashActivity.this);
         myAlertDialog.setTitle("--- Connectivity Check ---");
         myAlertDialog.setMessage("No Internet Connectivity");
         myAlertDialog.setPositiveButton("OK", new DialogInterface.OnClickListener() {

          public void onClick(DialogInterface arg0, int arg1) {

            YumZingSplashActivity.this.finish();
            //splashHandler.removeCallbacks(launcherRunnable);

          }});
            System.out.println("No Internet Connectivity");

            myAlertDialog.show();           

        }
        else{

              if(inetAddr()){
            aphandle = APIHandling.getInstance();
            aphandle.xmlCreateSession();
            System.out.println("Net Connectivity is Present");
            DURATION = Integer.valueOf(getString(R.string.splash_duration));

            splashHandler = new Handler();

            //  ================ Main Code of the Application
            launcherRunnable = new Runnable() {

                public void run() {
                    Intent i = new Intent(YumZingSplashActivity.this, YumZingTabHostActivity.class);
                    i.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);
                    startActivity(i);
                    YumZingSplashActivity.this.finish();
                }
            };
            if (DEBUG)
            {
                splashHandler.post(launcherRunnable);
            }
            else{

                splashHandler.postDelayed(launcherRunnable, DURATION);
            }

        }
              else{

                  if(mobileConnect()){

                      if(inetAddr()){
                      aphandle = APIHandling.getInstance();
                        aphandle.xmlCreateSession();
                        System.out.println("Net Connectivity is Present");
                        DURATION = Integer.valueOf(getString(R.string.splash_duration));

                        splashHandler = new Handler();

                        //  ================ Main Code of the Application
                        launcherRunnable = new Runnable() {

                            public void run() {
                                Intent i = new Intent(YumZingSplashActivity.this, YumZingTabHostActivity.class);
                                i.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);
                                startActivity(i);
                                YumZingSplashActivity.this.finish();
                            }
                        };
                        if (DEBUG)
                        {
                            splashHandler.post(launcherRunnable);
                        }
                        else{

                            splashHandler.postDelayed(launcherRunnable, DURATION);
                        }
                      }else{

                          AlertDialog.Builder myAlertDialog = new AlertDialog.Builder(YumZingSplashActivity.this);
                         myAlertDialog.setTitle("--- Connectivity Check ---");
                         myAlertDialog.setMessage("No Internet Connectivity");
                         myAlertDialog.setPositiveButton("OK", new DialogInterface.OnClickListener() {

                          public void onClick(DialogInterface arg0, int arg1) {

                            YumZingSplashActivity.this.finish();
                            //splashHandler.removeCallbacks(launcherRunnable);

                          }});
                            System.out.println("No Internet Connectivity");

                            myAlertDialog.show();       
                      }
                  }else{

                         AlertDialog.Builder myAlertDialog = new AlertDialog.Builder(YumZingSplashActivity.this);
                         myAlertDialog.setTitle("--- Connectivity Check ---");
                         myAlertDialog.setMessage("No Internet Connectivity");
                         myAlertDialog.setPositiveButton("OK", new DialogInterface.OnClickListener() {

                          public void onClick(DialogInterface arg0, int arg1) {

                            YumZingSplashActivity.this.finish();
                            //splashHandler.removeCallbacks(launcherRunnable);

                          }});
                            System.out.println("No Internet Connectivity");

                            myAlertDialog.show();           

                  }

              }
        }

     //setContentView(R.layout.yumzing_splash_layout);
    }  catch(Exception ex){

            System.out.println("Leak ko catch");
        }

    } 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2015-03-21T14:34:27.153

你也可以试试这个服务类。只需设置以秒为单位的时间间隔和要 ping 的 url：

[Android 检查互联网连接](https://github.com/oscarjiv91/Android-Check-Internet-Connection)

只要记住将服务添加到 Manifest 文件中，并添加权限

# javascript - 如何创建具有可变数量项目的数组，然后增加其中一些项目

> ID：14208389
> 
> 赞同：1
> 
> 时间：2013-01-08T04:50:11.807
> 
> 标签：javascript, arrays

我正在构建一个 javascript 小部件，以帮助针织者在遇到“在一行中均匀增加 X 针数”的图案指令时确定在增加之间放置的针数。问题描述为[here](http://tingtink.com/2013/01/increase-over-row/)。

到目前为止，只要结果是偶数，我的代码就可以工作。

如果数字不均匀，我一直试图弄清楚如何使它工作。我认为我需要做的是用针迹组数填充一个数组，然后在数组中递增，向每个组添加 1，直到没有剩余。

但我不知道如何 a) 用可变数量的项目填充数组 - 例如：有多少组针迹？我需要数组中的项目数。b) 将每组的针数存储在数组中的每一项中 c) 将数组中的每一项加 1，直到剩余为 0。

我也对其他方法持开放态度。

这是我到目前为止的代码。我还没有添加 if/else 条件，也没有添加 for 循环。任何想法或想法将不胜感激。提前致谢！

```
$('#calculateIncrease').submit(function() {
//get the number of stitches in the row
var stitchesInRow = $('input#stitchesInRow').val();
//get the number of stitches to increase by
var increaseByHowMany = $('input#increaseByHowMany').val();
//add one to this number
var divideBy = parseInt(increaseByHowMany,10) + 1;
//divide the number of stitches in row by increase plus one
var stitchesBetween = parseInt(stitchesInRow,10)/divideBy;
var leftover = stitchesInRow % divideBy;
//if there is no leftover
//return the result
$('#howManyStitches').html("Put " + stitchesBetween + " stitches between each increase.");
//if there is a leftover
var stitchesPerGroup = Math.floor(stitchesBetween);
//take divideBy, which is also the number of groups of stitches
//create an array that contains the number of groups (divideBy)
var stitchesArray = new Array(divideBy);
//each array item populated by the integer that is the first half of the division
//for each array item, add 1 until leftover = 0
//there should be some groups that get one added and others that do not
return false;
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T11:15:13.577

这不是问题的答案，因为它是目前制定的（akonsu 已经在他的评论中回答了问题的标题），也没有直接谈论这个问题。

但是，由于我了解她想要完成的事情（并且她对其他方法持开放态度），我认为这本质上是一个非常好的问题，
所以我发布这个是为了帮助其他人了解她真正想要完成的事情她发布的代码并帮助她更详细地定义算法变化和最终结果/输出可能/应该是什么。

她希望将**x**数量（每行的额外针数）尽可能均匀地分布在**y**数量（前一行的针数）上。

[![图像](../Images/e3da5b54640717a1fe7af2faa8f35d9f.png)](https://i.stack.imgur.com/uhdIr.gif)

她目前的基本公式是：`y/(x+1)`
包括四舍五入会导致：

```
---------- 10针
-----+----- 每 5 加 1
---+----+--- 每 3.3333 加 2
---+--+---+-- 每2.5加3
--+--+--+--+-- 加4，每2
--+-+--+--+-+-- 每1.6667加5

```

一个工作[示例（在 jsFiddle 中）](https://jsfiddle.net/RrEd9/2/)可能如下所示：
**Javascript**：

```
function handler(){
  var i, d=document,                                    //saving some code
      base=Number(d.getElementById('base').value),      //get row input
       add=Number(d.getElementById('add').value) + 1,   //get stitches to add
       ret='',          //return var
       tmp=0,           //temp var
       crr=0,           //carry var
       per=base/add;    //calculate period

  for (i = 1; i < add; i++) {   //start at 1 instead of 0
    tmp=Math.round(i * per);    //round first period
    ret+=tmp-crr+' + ';         //first period with previous period
    crr=tmp;                    //carry period
  }
  ret+=Math.round(add * per)-crr;          //last normal stitches
  d.getElementById('out').innerHTML=ret;   //output result
} 
```

**HTML：**

```
Stitches on row: <input type="text" 
                          id="base" 
                       value="10"
                    onchange="handler();"
                 >
<br>
Stitches to add: <input type="text" 
                          id="add" 
                       value="1"
                    onchange="handler();"
                 >
<br>
<button onclick="handler();">calculate</button>
<br>
  Every + is a extra stitch: <br>
<div id="out">&nbsp;</div> 
```

我认为这会按照她目前的预期工作。但是，我认为人们可以在其中找到一种模式，我不知道如何以简单的方式做到这一点。**任何人？**

但我*认为*这只适用于只从左到右的东西，而不是像毛衣袖子这样的圆圈。那么她可能需要一些看起来更像“旋转木马”的东西：

“轮播”风格（公式：`((y+x)/x)-1`）：

```
---------- 10针
----------+ 每10加1
-----+-----+ 加 2，每 5
---+----+---+ 每 3.3333 加 3
--+---+--+---+ 每 3.5 加 4
--+--+--+--+--+ 加5，每2

```

正如你所看到的，分布是不同的。

祝你的项目好运！

# javascript - 使用 jQuery 创建服务器端包含

> ID：14208394
> 
> 赞同：1
> 
> 时间：2013-01-08T04:51:04.460
> 
> 标签：javascript, jquery, html

我想使用jQuery创建服务器端包含，但我想创建一个方法来根据插入元素的“title”属性自动生成内容，例如：

```
<div class="js-include" title="nav.html"></div>
<div class="js-include" title="table.html"></div> 
```

这样，一个脚本就可以用来生成多个内容元素。

内容文件存储在与基本文件相同的文件夹中。这是我正在尝试使用的脚本，但它不起作用：

```
<script>
$(".js-include").each(function(){
    var inc=$(this);
    $.get(inc.attr("title"), function(data){
        inc.replaceWith(data);
    });
});
</script> 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-08T05:04:04.867

我可能会建议您使用 data-* 属性而不是 title="..."。我认为在这里我会更有意义。此外，您不需要替换甚至获取，jquery 有一个 ajax 重载来帮助您。

```
<div class="js-include" data-page="nav.html"></div>
<script>
$(function () {
    $(".js-include").each(function () {
        $(this).load($(this).data('page'));
    });
});
</script> 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-08T05:02:42.533

尝试`$(document).ready()`像这样包装代码

```
<script type="text/javascript>
$(document).ready(function(){
    $(".js-include").each(function(){
        $(this).load($(this).attr("title"));
    });
});
</script> 
```

如果这不起作用，请确保检查浏览器的网络/错误控制台是否存在 HTTP 错误。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-08T05:02:40.863

嗯，我想我明白你想做什么。您想使用 jQuery 加载 nav.html 并将其内容放入该 div 吗？

你为什么不从服务器端做呢？如果这些 div 是在服务器端创建的，则服务器在页面加载期间知道它们在那里需要并且可以只包含它们，而不是让 JS 处理。

我不知道如何使用 jQuery 加载 nav.html，也许是一些 AJAX/HTTP 代码。但是一旦你把它放在一个变量上，你就可以使用 element.innerHTML 将任何 HTML 文本存储到一个 DOM 元素中。

但是，与其让服务器设置一个特定的类并将数据添加到某些元素的标题属性中，（当然，不考虑服务器端仅处理包含的更好方法）我会给这些元素一个 id。然后，在 HTML 文档的底部，我将打印一个 JSON 数组，其中包含这些 id 以及如何处理它们（例如要加载到其中的文件）。

然后在一个 JS 文件中，我获取该数组，循环遍历它并根据需要处理它的数据。

编辑：我以前从未做过这样的事情，你必须运行它来测试任何 sxyntax 错误。

```
<?php
$fileslinks = array(
    array(
        'id'        => 'id1',
        'filename'  => 'file1.html'
    ),
    array(
        'id'        => 'id2',
        'filename'  => 'file2.html'
    ),
    array(
        'id'        => 'id3',
        'filename'  => 'file3.html'
    )
);
?>

<div id='id1'></div>
<div id='id2'></div>
<div id='id3'></div>

<script>
    var fileslinks = <?php echo json_encude($fileslinks); ?>;

    fileslinks.forEach(printFiles);

function printFiles(element, index, array){
    var fileContent = // load from element.filename
    document.getElementById(element.id).innerHTML = fileContent;
}

if(!Array.prototype.forEach){
    Array.prototype.forEach = function(fun){
        var len = this.length;
        if(typeof fun != "function")
            throw new TypeError();

        var thisp = arguments[1];
        for(var i = 0; i < len; i++){
            if(i in this)
                fun.call(thisp, this[i], i, this);
        }
    };
}

</script> 
```

# ruby - 处理 youtube Ominauth 401 错误

> ID：14208399
> 
> 赞同：0
> 
> 时间：2013-01-08T04:51:21.553
> 
> 标签：ruby, ruby-on-rails-3, ruby-on-rails-3.2, youtube-api, omniauth

我正在使用omniauth youtube和google oauth2 gems通过youtube登录。如果用户已经使用他们尝试登录的帐户创建了一个 youtube 频道，这一切都有效。

当用户尝试在没有 youtube 频道的情况下登录时，它会出错并显示以下消息：

```
OAuth2::Error

    <HTML>
    <HEAD>
    <TITLE>NoLinkedYouTubeAccount</TITLE>
    </HEAD>
    <BODY BGCOLOR="#FFFFFF" TEXT="#000000">
    <H1>NoLinkedYouTubeAccount</H1>
    <H2>Error 401</H2>
    </BODY>
    </HTML> 
```

我该如何处理此错误，以便将用户发送到他们的 youtube 帐户，在那里他们可以创建他们的 youtube 频道，然后使用有效的登录凭据被重定向回该站点，或者被发送回一个页面，该页面提供了有关如何操作的说明创建一个 youtube 频道并重试？

我的代码如下：

用户.rb

```
def self.from_omniauth(auth)
    where(auth.slice(:provider, :uid)).first_or_initialize.tap do |user|
      user.provider = auth.provider
      user.uid = auth.uid
      user.name = auth.info.name
      user.email = auth.info.email
      user.oauth_token = auth.credentials.token
      user.oauth_expires_at = Time.at(auth.credentials.expires_at)
      user.picture = auth.info.image
      user.save!
      end
    end 
```

会话控制器：

```
def create
      user = User.from_omniauth(env["omniauth.auth"])
      session[:user_id] = user.id
      redirect_to root_path, notice: "Signed in"
    end 
```

路线

```
match 'auth/youtube/callback', to: 'sessions#create'
  match 'auth/failure', to: redirect('/')
  match 'signout', to: 'sessions#destroy', as: 'signout' 
```

全域认证.rb

```
OmniAuth.config.on_failure = SessionsController.action(:oauth_failure)

Rails.application.config.middleware.use OmniAuth::Builder do
  provider :youtube, YOUTUBE_KEY, YOUTUBE_SECRET, { access_type: 'online', approval_prompt: ''}
end 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T07:17:00.820

你可以使用`rescue_from`类似的东西：

```
rescue_from OAuth2::Error do |exception|
  redirect_to *your page you want to show with instructions*, :notice => "You must link a Youtube Channel"
end 
```

由于添加 youtube 频道不是 oauth 周期的一部分，我认为您不能重定向到 youtube，创建一个，然后像正常的 oauth 身份验证一样反弹回您的网站，因此我建议您为页面提供带有链接的说明到 youtube 上为方便起见。

[http://api.rubyonrails.org/classes/ActiveSupport/Rescuable/ClassMethods.html](http://api.rubyonrails.org/classes/ActiveSupport/Rescuable/ClassMethods.html)

# ruby-on-rails-3 - (Rails) IMGKIT - 使用 html 和 css 导出图像的问题

> ID：14208403
> 
> 赞同：2
> 
> 时间：2013-01-08T04:51:55.887
> 
> 标签：ruby-on-rails-3, imgkit

我在我的一个项目中使用 IMGKIT，并且必须使用他们的 css 和 html 选项来满足要求。我注意到如果样式表设置如下：

```
kit = IMGKit.new(html, :quality => 50)
kit.stylesheets << '/path/to/css/file' 
```

并且样式表具有带有相对 url('image.png') 的背景属性，使用 kit.to_file 导出图像时不会生成图像：

```
(Rails.root + "public/pngs/" + "image.png") 
```

请求挂起，如果我们用协议、主机和端口将后台 url 替换为完整 url，它就可以很好地导出。

我是否需要在样式表中包含所有图像的绝对网址？

我尝试在我的 development.rb 文件中定义asset_host：

```
config.action_controller.asset_host = Proc.new { |source|
     "#{request.protocol}#{request.host_with_port}"
    } 
```

如果我检查浏览器，它确实会替换 css 中的 url，但通过 IMGKIT 导出时仍然没有生成图像。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-20T10:21:58.010

IMGKIT 为任何背景图像或其他资产要求具有绝对 URL 的 css。因此，您可以按照此链接[https://coderwall.com/p/exj0ig](https://coderwall.com/p/exj0ig)和一些步骤动态生成它

**A)**将所有图片放入 rails app 的 assets/images 文件夹

**B）**如果不安装，请安装 gem 'sass-rails' [https://github.com/rails/sass-rails](https://github.com/rails/sass-rails)

**C)**创建另一个 css 文件名为 css_file_name.css.sccs.erb

**D)**将所有其他 css 文件内容放入其中。

**E)**在 css 文件中，只需将您的图像文件名如下： background-image: image-url('image.png');

**F）**使用资产管道（[http://guides.rubyonrails.org/asset_pipeline.html#how-to-use-the-asset-pipeline](http://guides.rubyonrails.org/asset_pipeline.html#how-to-use-the-asset-pipeline)）运行以下命令作为您的应用程序模式：（1）开发模式：RAILS_ENV=development bundle exec rake assets:precompile (2) 生产模式：RAILS_ENV=production bundle exec rake assets:precompile

**G）**在你的配置/环境/

(1) 在 development.rb config.action_controller.asset_host = "YOUR LOCAL HOST URL ie YOUR_LOCALHOST_ADDRESS"

(2) 在 production.rb config.action_controller.asset_host = " [http://assets.example.com](http://assets.example.com) " /*你的地址*/

**H）**最后将您的样式表与 IMGKIT 相关联，如下所示

```
html_content = "YOUR HTML CONTENT"
kit = IMGKit.new(html_content, height: 900, transparent:true, quality:10) /*YOUR SETTING*/
kit.stylesheets << "#{Rails.root}/public/assets/application.css"
file = kit.to_file(Rails.root + "public/pngs/" + "screenshot.png") /*YOUR IMAGE NAME*/
send_file("#{Rails.root}/public/pngs/screenshot.png", :filename => "screenshot.png", :type => "image/png",:disposition => 'attachment',:streaming=> 'true') /*YOUR ADDRESS WHERE U WANT TO STORE PNG FILE*/ 
```

**I）**重新启动服务器并享受！！！！

[**注意：**每次更改后，请运行 assets pipline 命令以获取由 .sccs.erb 扩展文件制成的最新 application.css。]

# c# - 以编程方式在 Word 2010 中插入方程式编辑器 3.0

> ID：14208404
> 
> 赞同：0
> 
> 时间：2013-01-08T04:52:14.310
> 
> 标签：c#, vsto, equation, word-2010

使用此代码

```
 var app = Globals.ThisAddIn.Application;
        Range rng = app.ActiveDocument.Range();
        rng.Text = "BD/DC = AB/AC ";

        rng = rng.OMaths.Add(rng);
        OMath objEq = rng.OMaths[1] ;
        objEq.BuildUp(); 
```

我可以在 Word 2010 中输入一个等式，但它出现在`new equation editor`.

我想在旧的方程编辑器 ( `Equation Editor 3.0`) 中插入一个方程。这在 C# VSTO 中可行吗？

我可以`Word 2010`通过转到`insert object --> Equation Editor 3.0`然后键入方程式来手动执行此操作，但我想通过 c# 执行此操作。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T05:14:59.437

```
var app = Globals.ThisAddIn.Application;
Range rng = app.ActiveDocument.Range();
object oClassType = "Equation.3";            
rng.InlineShapes.AddOLEObject(ref oClassType); 
```

这插入了一个，但老实说我不太确定如何操作它......

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-16T00:52:26.203

如果您通过 AddOLEObject 插入 OLE 对象，则 AddOLEObject 的返回值是一个形状，其 OLEFormat 属性应该通过其自己的 Object 属性为您提供插入对象的自动化接口。

但是，MSEE 3.0 没有附带类型库，因此您不知道正确的 dispids 、属性名称和方法签名。由于它基本上是从 Design Science 获得许可的 MathType Express，因此您可能需要联系 Design Science 并询问您是否可以为您的客户许可他们的现代产品。

# ruby-on-rails-3 - 备用引导表行着色不起作用

> ID：14208405
> 
> 赞同：0
> 
> 时间：2013-01-08T04:52:44.483
> 
> 标签：ruby-on-rails-3, twitter-bootstrap, haml, thinking-sphinx

我正在尝试根据单个属性为 rails 表中的*某些行着色。*我只是指定这样人们就不会感到困惑，以为我正在尝试交替表中的颜色。那不是目标。问题是，它在 20 分钟前工作，`%tr.error`并且`%tr.warning`在我的 haml 文件中正确着色了行（使用引导程序），但现在它们什么都不做。我在这里看到有关排序表如何弄乱颜色的问题。我正在使用thinking-sphinx 作为我的应用程序的搜索引擎。这可能是问题吗？如果是这样，有没有办法解决这个问题而不会让我的手在Javascript中太脏？（这真的不是我的强项）

编辑：电影/index.html.haml

```
 !!!
    %head
    %body
      %br
      = link_to "Sign out", signout_path, method: 'delete', class: "btn btn-primary"
      = link_to "View checked out", checked_path, class: "btn btn-primary"
      = link_to "Full index", root_path, class: "btn"
      = link_to "My movies", my_movies_path, class: "btn btn-primary"
      = link_to "Add a new movie", new_movie_path, class: "btn btn-success"
      %br
      %br
      = form_tag movies_path, method: 'get' do
        %p
          = text_field_tag :search, params[:search], placeholder: "Search by name or keyword"
          = submit_tag "Search", class: "btn btn-primary"
      = "Showing #{Movie.all.length} results"
      %br
      %br
      / %table.table.table-bordered
      /   %thead
      /     %tr.info
      /       %th Title
      /       %th Year
      /       %th Format
      /       %th Loanee
      /       %th Action
      /   %tbody
      /     = render partial: 'movies/table', collection: @movies, as: :m
      / = will_paginate
      %table.table.table-striped.table-bordered
        %thead
          %tr
            %th Title
            %th Year
            %th Format
            %th Loanee
            %th Action
        %tbody
          -@movies.each do |m|
            -unless m.loanee.blank?
              %tr.error
                %td
                  = m.title
                %td
                  = m.year
                %td
                  = m.rec_form
                %td
                  = m.loanee
                %td
                  = link_to 'Check in', edit_movie_path(m), {:class => "btn"}
            -else
              %tr
                %td
                  = m.title
                %td
                  = m.year
                %td
                  = m.rec_form
                %td
                  = m.loanee
                %td
                  = link_to 'Check out', edit_movie_path(m), {:class => "btn"}    
      = will_paginate 
```

我试图添加部分内容以减轻大量重复，这就是事情开始破裂的时候。

# python - sys.getsizeof 的深层版本

> ID：14208410
> 
> 赞同：10
> 
> 时间：2013-01-08T04:53:44.793
> 
> 标签：python, memory, python-3.x, deep-copy

我想计算一个对象使用的内存。`sys.getsizeof`很好，但很浅（例如，在列表上调用，它不包括列表元素占用的内存）。

我想写一个通用的“深度”版本的`sys.getsizeof`. 我知道“深度”的定义有些模糊；我对[后面的定义`copy.deepcopy`](http://docs.python.org/3.4/library/copy.html)非常满意。

这是我的第一次尝试：

```
def get_deep_sizeof(x, level=0, processed=None):
    if processed is None:
        # we're here only if this function is called by client code, not recursively
        processed = set()
    processed.add(id(x))
    mem = sys.getsizeof(x)
    if isinstance(x, collections.Iterable) and not isinstance(x, str):
        for xx in x:
            if id(xx) in processed:
                continue
            mem += get_deep_sizeof(xx, level+1, processed)
            if isinstance(x, dict):
                mem += get_deep_sizeof(x[xx], level+1, processed)
    return mem 
```

它存在两个已知问题和未知数量的未知问题：

*   我不知道如何以捕获所有链接对象的方式遍历通用容器。因此，我迭代了使用`in`，并对字典的情况进行了硬编码（包括值，而不仅仅是键）。显然，这不适用于字典等其他类。
*   我必须对排除项进行硬编码`str`（这是一个可迭代的，但没有指向任何其他对象的链接）。同样，如果有更多这样的对象，这将中断。

我怀疑使用`in`不是一个好主意，但我不确定还能做什么。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-01-08T05:17:00.423

我认为[Pimpler](http://packages.python.org/Pympler/)在这一点上已经打败了你。

从他们的[文档中](https://pympler.readthedocs.io/en/latest/intro.html#usage-examples)：

```
>>> from pympler.asizeof import asizeof
>>> obj = [1, 2, (3, 4), 'text']
>>> asizeof(obj)
176 
```

源代码可以在[这里](https://github.com/pympler/pympler/blob/master/pympler/asizeof.py)找到。

# mysql - 多表数据库设计

> ID：14208411
> 
> 赞同：0
> 
> 时间：2013-01-08T04:53:49.147
> 
> 标签：mysql, database, database-design, database-normalization

我有一个网站，其中显示了运动员名单及其统计数据。用户可以注册并创建一个由这些球员组成的球队，我可以在其中汇总和分析球队统计数据。我想让每个用户都能够从列表中“划掉”一名球员（但不会将他们从数据库中删除），并在需要时将已划掉的球员恢复到名单中。被划掉或未被划掉的球员需要保存在数据库中，这样当用户返回网站时，他们的名单就会被保存。

这些是我目前拥有的表格：

```
Players Table (COLS: Name, Team, Position, Stats, etc.)
Users Table (COLS: User ID, Name, Email, etc.)
Teams Table (COlS: User ID, 1, 2, 3, etc.) 
```

我很确定有一种更好的方法可以将信息存储在 Teams 表中，其中我有一个用户 ID 列，然后是 30 个列（编号 1-30），我在其中存储了他被选中的球员姓名和位置单元格（以这种格式播放器名称/位置）。一个团队最多可以包含 30 名玩家。

我想我需要一个“可用表”来存储哪些玩家被哪些用户划掉了。考虑到用户可以从列表中删除多达 600 名玩家，我不确定解决此问题的最佳方法是什么。

任何建议将不胜感激，我对处理数据库完全陌生，而且我似乎碰壁了。

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T05:01:14.940

您可能应该从球队表中删除球员数据，并为球员和球队数据设置一个连接表。

所以你最终得到

```
Teams Table (Cols: ID, User ID, Team Name)
Team_Players Table (Cols: Team_ID, Player_ID, Position, Active) 
```

然后，您可以通过在 Team_Players 上运行查询并检查他们是否处于活动状态来获取哪些球员在哪个球队中。

我没有添加 ID 字段，因为 Team_ID 和 Player_ID 的连接是唯一的，可以用作该表的键。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T05:16:18.340

**阅读本教程**。这很有帮助：

[http://www.tomjewett.com/dbdesign/dbdesign.php?page=association.php](http://www.tomjewett.com/dbdesign/dbdesign.php?page=association.php)

数据库的设计取决于给定的球员是否可以属于数据库中的多个球队。如果可以，那是一种`has and belongs to many`关系，您需要一个链接表，可能称为`Players_Teams`（始终按字母顺序列出表）。该表还可以包含`crossedOff`您正在讨论的列。

使用像 ActiveRecord 或 Doctrine 这样的 ORM（对象关系映射器）可以大大减少您需要编写的代码量，从而使这些关系的管理在您的代码中有些“自动化”。

# c++ - 静态字符串文字表？

> ID：14208412
> 
> 赞同：13
> 
> 时间：2013-01-08T04:53:50.470
> 
> 标签：c++, string, static, readonly, string-table

C++ 中创建全局和静态字符串表的正确方法是什么？

通过“全局”，我的意思是：可从包含标题的任何文件中使用。但不是某些运行时创建的单点对象的一部分。

我所说的“静态”是指：尽可能少地设置运行时间。只读存储器页中的数据。每个应用程序只有 1 个数据实例。

通过“字符串”，我的意思是：空终止的字符数组很好。std::string 会很好，但我认为不能按照上述方式完成。正确的？

通过“表”，我的意思是：我的意思是一个可索引的数组。所以我想这不是一张桌子本身。但我在这一点上很灵活。开放的想法。

通过“C++”，我的意思是：C++ 不是 C。（更新：C++98，不是 C++11）

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-01-08T04:58:44.437

**字符串.h**

```
extern const char* table[]; 
```

**字符串.cpp**

```
const char* table[] = {
    "Stack",
    "Overflow",
} 
```

* * *

另一种方法是使用查找表的错误代码：

**错误.h**

```
#define ERR_NOT_FOUND    0x1004
#define ERR_INVALID      0x1005

bool get_err_msg(int code, const char* &msg); 
```

**错误.cpp**

```
typedef struct {
    int errcode;
    const char* msg;
} errmsg_t;

static errmsg_t errmsg_table[] = {
    {ERR_NOT_FOUND, "Not found"},
    {ERR_INVALID,   "Invalid"}
};

#define ERRMSG_TABLE_LEN  sizeof(errmsg_table)/sizeof(errmsg_table[0])

bool get_err_msg(int code, const char* &msg){
    msg = NULL;
    for (int i=0; i<ERRMSG_TABLE_LEN; i++) {
        if (errmsg_table[i].errcode == code) {
            msg = errmsg_table[i].msg;
            return true;
        }
    }
    return false;
} 
```

**主文件**

```
#include <stdio.h>
#include "err.h"

int main(int argc, char** argv) {
    const char* msg;
    int code = ERR_INVALID;
    if (get_err_msg(code, msg)) {
        printf("%d: %s\n", code, msg);
    }
    return 0;
} 
```

我确信有更多的 C++ 方法可以做到这一点，但我真的是一个 C 程序员。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-01-08T04:58:24.827

使用`std::array`字符串文字。它没有构造函数，因此它将`.rodata`像 C 数组一样静态加载到该部分中，但它具有标准的 C++ 库接口。（迭代器、大小等）

**啊**：

```
#include <array>

extern std::array<const char*, 3> A; 
```

**A.cpp**：

```
std::array<const char*, 3> A = { "foo", "bar", "baz" }; 
```

[http://en.cppreference.com/w/cpp/container/array](http://en.cppreference.com/w/cpp/container/array)

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-05-03T18:42:57.797

我喜欢 Jonathon Reinhart 的方式，我总是这样做，特别是如果我们有元素结构，

但是，它需要一个循环来查找元素（未索引），因此如果您喜欢改进，尤其是对于嵌入式系统样式。

```
enum ERR_INDEX{
ERR_NOT_FOUND=0,
ERR_INVALID,
ERR_BAD_LENGTH,
ERR_MORE_ERR1,
ERR_MORE_ERR2,
ERR_MORE_ERR3,
};

static const char * errmsg_table[] = {
    "Not found",
    "Invalid",
    "bad message length",
    "error 1",
    "error 2",
    "error 3",
};

int main(int argc, char** argv) {
    int code = ERR_INVALID;
    printf("%d: %s\n", code, errmsg_table[code]);
    printf("%d: %s\n", code, errmsg_table[ERR_BAD_LENGTH]);

return 0;
} 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2013-01-08T05:04:06.790

严格提供`table_n`以确保您至少知道它有多大：

**表.h**

```
// header file
extern const size_t table_n;
extern const char* table[]; 
```

**表.cpp**

```
// c/cpp file
const char *table[] = 
{
     "one",
     "two",
     "there"
};

const size_t table_n = sizeof(table)/sizeof(table[0]); 
```

或类似的东西。

# android - 如何检查列中的所有元素是否具有相同的文本？

> ID：14208418
> 
> 赞同：0
> 
> 时间：2013-01-08T04:54:35.400
> 
> 标签：android, listview

我在自定义列表视图中有 2 个文本视图 textview1 和 textview2。listview 中的总行数为 10。如果 textview 2 中的所有元素都有一个值，即“true”。单击第 10 个元素的 textview1 时，它应该显示一条消息“成功”，或者即使一个 textview2 的值不是“true”，那么单击第 10 个元素的 textview1 应该显示一条消息“失败”。

这是我的代码包 com.example.list；

```
import android.os.Bundle;
import android.view.LayoutInflater;
import android.view.View;
import android.view.View.OnClickListener;
import android.view.ViewGroup;
import android.widget.BaseAdapter;
import android.widget.ListView;
import android.widget.TextView;
import android.widget.Toast;
import android.app.Activity;
import android.content.Context;

public class MainActivity extends Activity 
{
ListView lv;
private  static boolean test= false;

@Override
protected void onCreate(Bundle savedInstanceState) 
{
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
    lv = (ListView)findViewById(R.id.lv);   
    lv.setAdapter(new slist(this));         
}

public class slist extends BaseAdapter
{
     private Context context;

      public slist(Context c) 
      {
           context = c;
      }

    @Override
    public int getCount()
    {           
          return names.length;
    }

    @Override
    public Object getItem(int position) 
    {           
        return null;
    }

    @Override
    public long getItemId(int position) 
    {           
        return 0;
    }

    @Override
    public View getView(int position, View v, ViewGroup parent) {

           LayoutInflater li = getLayoutInflater();
           v = li.inflate(R.layout.customlist, null);

           final TextView t1 = (TextView) v.findViewById(R.id.tv1);
           final TextView t2 = (TextView) v.findViewById(R.id.tv2);

           t1.setText(names[position]);
           t2.setText(bikes[position]);

           t1.setOnClickListener(new OnClickListener() 
           {                
            public void onClick(View v)
             {
                    if(t1.getText().toString().equalsIgnoreCase(names[names.length-1]))
                {

                 //Here i should loop through and check all the elements in the bikes[] 
                }
                else
                {
                  Toast.makeText(getApplicationContext(), t1.getText().toString(), Toast.LENGTH_SHORT).show();
                }

             }
           });

           return v;
    }

}

String [] names = { "rams", "venu", "pavan", "sravan", "vishnu", "krishna", "hari", "prasad", "raghu" };
    String [] bikes = { "true", "true", "false", "true", "true", "false", "true", "false", "true" }; 
```

}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T07:29:14.090

您可以使用以下代码

```
 t1.setOnClickListener(new OnClickListener() 
       {                
        public void onClick(View v)
         {
    //check for the position of last item
    if(position==(names.length-1))
    {
        //check for second element of other 9 items
        for(int i=0;i<bikes.length-1;i++)
        {

            if(bikes[i].equals("true"))
            {
                result=true;
            }
            else
            {
                result=false;
            }
        }
    }
         }
       }); 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-01-08T05:01:16.120

尝试这个

```
 index=Integer.parseInt(v.getTag().toString());
    View view=yourlistviewname.getChildAt(index);
    TextView tv1=view.findViewByID(R.id.textview1);
    TextView tv2=view.findViewByID(R.id.textview2);

    String first=tv1.getText().toString();
    String second=tv2.getText().toString();  

 if(first.equals("yourArrayItemHere")){
 //your message here
 }
 if(second.equals("false")){
 //your message here
 } 
```

并且您可以根据文本视图的文本设置消息“成功”或“失败”；

# zend-framework2 - Zend Framework-2：保护所有控制器的最佳方法？(ZfcUser/HybridAuth)

> ID：14208423
> 
> 赞同：2
> 
> 时间：2013-01-08T04:55:45.090
> 
> 标签：zend-framework2, hybridauth, zfcuser

我正在使用`ZfcUser`via`HybridAuth`来启用 Facebook 身份验证`Zend` `Framework 2`。我下载了`scn-social-auth`模块并添加到我的项目中。现在，模块下的控制器`user`受到`ZfcUser`保护。也就是说，如果我没有登录，它会将我重定向到登录页面。

用户未登录：访问“ [http://localhost/user](http://localhost/user) ”=> 将重定向到：“ [http://localhost/user/login](http://localhost/user/login) ”

现在，我想用`ZfcUser`. 也就是说，我创建的任何模块，如果我的用户没有登录，它应该将我重定向到“ [http://localhost/user/login](http://localhost/user/login) ”。这样做最好的是什么？我可以检查用户是否登录了每个模块中的每个操作。但是，它看起来不是一个好的选择。有什么建议吗？

问候，
湿婆

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-24T18:03:15.067

ZfcUser 的问题中包含一些可能有用的代码：[https](https://github.com/ZF-Commons/ZfcUser/issues/187) ://github.com/ZF-Commons/ZfcUser/issues/187 ，它为这个问题提供了一个干净整洁的解决方案。

希望这可以帮助 ：-）

# objective-c - 旧版本 iOS 和 OS X 上的 ARC

> ID：14208427
> 
> 赞同：3
> 
> 时间：2013-01-08T04:56:00.113
> 
> 标签：objective-c, ios, macos, memory-management, automatic-ref-counting

这是为了澄清我对 ARC 概念理解的一些疑问。如果 ARC 是一种编译时技术，为什么它不能在所有版本的 iOS 和 OS X 上使用？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-08T05:03:49.293

ARC 不仅仅是一种编译时技术。它还依赖于一些运行时组件。这有两个部分：

1.  引用计数。在编译时，ARC 引入了对一堆辅助函数的调用。这些都[在线记录](http://clang.llvm.org/docs/AutomaticReferenceCounting.html#runtime-support)，但重要的是`objc_retain()`,`objc_release()`和`objc_autorelease()`. `-retain`它们与在对象上调用,`-release`或执行相同的操作`-autorelease`，但是在 ARC 下可以使用运行时函数完成一些额外的优化（特别是，当方法返回一个自动释放的对象并且调用者将值存储到一个强变量中时，自动释放 + 保留可能可以完全跳过）。这些运行时函数是增加操作系统要求的原因。幸运的是，如果您针对的是较旧的操作系统，Xcode 可以链接到一个名为`libarclite`它提供了这些功能的实现，因此允许您在针对较旧的操作系统（例如 iOS 4.3）时使用 ARC。缺点是这些函数没有“真正的” ARC 所做的优化，因此性能可能会受到轻微影响。

2.  归零弱参考支持。这还需要一组运行时函数，加上运行时内存管理工作方式的一些内部更改，以及框架中的一些更改以更好地支持归零弱引用。内存管理的变化特别是为什么不能`libarclite`像 ARC 的其余部分一样使用归零弱引用支持。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-08T05:04:28.140

ARC 需要一些运行时函数。这些函数在[clang ARC 文档](http://clang.llvm.org/docs/AutomaticReferenceCounting.html#runtime-support)中。

iOS 5.0 和 Mac OS X 10.7（及更高版本）包括这些功能。

为了允许您将应用程序部署到较旧的操作系统版本，Apple 包含一个名为“arclite”的静态库，它定义了大多数这些功能。如果您的部署目标是较旧的操作系统，Xcode 会将您的应用程序与 arclite 链接。

所以你可能会问，为什么 arclite 不能在所有旧版本的 iOS 和 OS X 上运行？我不确定（也许苹果以外的人都不知道）。一个合理的猜测是 arclite 需要挂钩到 Objective-C 运行时。运行时可以在操作系统版本之间更改。Apple 不想尝试支持他们曾经发布的每个版本的运行时，所以他们选择了合理的截止点，并让 arclite 支持这些截止点之后的每个版本。这简化了 arclite 实现并减少了测试负担。

请注意，arclite 不包括对弱引用归零的支持。也许这是一个在运行时的旧版本上太难支持的特性，即使是那些在截止之后的版本。

# android - 如何在数据库中插入图像？

> ID：14208429
> 
> 赞同：0
> 
> 时间：2013-01-08T04:56:06.280
> 
> 标签：android, insert, android-sqlite

我有一个使用 sqlite 将图像插入到 android 中的 db 的查询。

```
String sqlQuerry = "INSERT table_name SET column_name = ?  WHERE pk_id =last_insert_rowid();";

SQLiteStatement insertStmt = sqliteDataBase .compileStatement(sqlQuerry);

insertStmt.clearBindings();

insertStmt.bindBlob(1, byteArray);

insertStmt.execute(); 
```

但这显示**sqlite 返回：错误代码 = 1，msg = 接近“SET”：语法错误**

我怎样才能解决这个问题？

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T05:08:35.483

**-**在数据库中存储图像的想法根本**不经济。**

**-**最常用的**做法**是**将图像存储在某个文件夹中** `sdcard`，然后**使用** `path` **存储在数据库中的图像访问该图像。**

**-**一旦您访问了`path`from DB，**将其转换为 image**。

**例如：**

```
ImageView imageQuestion;  // Declared at class scope

imageQuestion.setImageBitmap(BitmapFactory.decodeFile(/sdcard/myfolder/viv.png)); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T04:58:54.470

我认为您的意思是使用`UPDATE`而不是`INSERT`.

```
**UPDATE** table_name SET column_name = ? WHERE pk_id = last_insert_rowid();
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-08T05:02:23.673

我建议你不要插入`blobs`数据库，**这会使你的数据库非常慢**

> **替代解决方案是您应该将图像保存在应用程序的文档目录中，并在数据库中仅保存图像的路径。**

# solr - solr4 中添加的新功能。1 个版本

> ID：14208432
> 
> 赞同：0
> 
> 时间：2013-01-08T04:56:44.730
> 
> 标签：solr

`Solr4.1`是之后的主要版本`solr4.0`。据我了解，此版本中包含一些错误修复、改进和新功能。谁能告诉我将添加哪些新功能`4.1`？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T05:16:14.967

查找[Changes.txt](http://svn.apache.org/repos/asf/lucene/dev/trunk/solr/CHANGES.txt)以获取完整的更改列表。

# github - Github 访问错误

> ID：14208434
> 
> 赞同：0
> 
> 时间：2013-01-08T04:57:00.887
> 
> 标签：github

我去了 GitHub url 并创建了一个名为 demo_app 的 repo 然后在终端我说

```
git remote add origin git@github.com:babakinks/demo_app.git 
```

然后我说：

```
git push -u origin master 
```

但它的错误信息说：

> 权限被拒绝（公钥）。致命：无法从远程存储库中读取。
> 
> 请确保您具有正确的访问权限并且存储库存在。

所以我不知道还能做什么。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-08T05:01:35.510

您正在使用 SSH 访问服务器的方法，但您的私钥与服务器的公钥不匹配。请注意“权限被拒绝”消息后括号中的“公钥”。您需要生成一个密钥对。

Github 有一个教程比我解释得更好：[链接](https://help.github.com/articles/generating-ssh-keys)

或者，就像 minitech 所说，您可以使用更简单的 HTTPS 身份验证，并使用您的用户名和密码。请参阅下面的屏幕截图，如果您单击 HTTP 并使用给定的链接，它应该使用 HTTPS 身份验证。

![HTTP 身份验证选项](../Images/bdf29c8b692a4f6921da9a6f8b58971e.png)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-08T05:02:07.723

`git@github.com:babakinks/demo_app.git`使用 SSH 进行连接，因此您需要一个密钥对。[参考这里](https://help.github.com/articles/generating-ssh-keys)

如果`babakinks`不是你，你需要自己分叉`git@github.com:babakinks/demo_app.git`，`git@github.com:<your_username>/demo_app.git`然后做推送工作。

之后，您可以向作者发送**Pull Request**以合并您的提交。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-08T05:19:46.783

嗯，我修好了，但不知道它是如何修好的！

[我在这里http://mac.github.com](http://mac.github.com)下载了 GitHub for Mac 应用程序表单 并打开并刷新它，它显示了我的 demo_app 存储库。然后我再次运行了我之前为 push master 运行的相同命令行，这一次它起作用了。

但我不知道它背后的技术原因。

# python - 使用 plyr (ddply) 和 rpy2 语法

> ID：14208437
> 
> 赞同：2
> 
> 时间：2013-01-08T04:57:30.410
> 
> 标签：python, r, plyr, rpy2

作为一个学习练习，因为我想对自己的数据做类似的事情，所以我试图完全复制**[这个例子](https://stackoverflow.com/questions/13239843/annotate-ggplot2-facets-with-number-of-observations-per-facet)***的答案*，但通过 rpy2 在 Python 中实现它。

事实证明这比我想象的要棘手，因为 plyr 使用了很多方便的语法（例如 as.quoted 变量、summary、函数），我发现这些语法不容易移植到 rpy2。甚至没有进入 ggplot2 段，这是我迄今为止能够管理的，使用 **{} 允许使用“。” 论据：

```
# import rpy2.robjects as ro
# from rpy2.robjects.packages import importr
# stats= importr('stats')
# plyr = importr('plyr')
# bs = importr('base')
# r = ro.r
# df = ro.DataFrame

mms = df( {'delicious': stats.rnorm(100), 
           'type':bs.sample(bs.as_factor(ro.StrVector(['peanut','regular'])), 100, replace=True),
           'color':bs.sample(bs.as_factor(ro.StrVector(['r','g','y','b'])), 100, replace=True)} )

# first define a function, then use it in ddply call
myfunc  = r('''myfunc <- function(var) {paste('n =', length(var))} ''')
mms_cor = plyr.ddply(**{'.data':mms, 
                        '.variables':ro.StrVector(['type','color']), 
                        '.fun':myfunc}) 
```

这运行没有错误，但打印结果 mms_cor 给出以下内容，这表明该函数在 ddply 调用的上下文中无法正常工作（mms data.frame 的长度为 3，这是我认为正在计算的因为 myfunc 的其他输入返回不同的值）：

```
 type color    V1
1  peanut     b n = 3
2  peanut     g n = 3
3  peanut     r n = 3
4  peanut     y n = 3
5 regular     b n = 3
6 regular     g n = 3
7 regular     r n = 3
8 regular     y n = 3 
```

理想情况下，我会得到这个与summarize一起工作，就像在示例答案中所做的那样，进行多次计算/标记输出，但我也无法让它工作，而且在语法方面真的变得很尴尬：

```
mms_cor = plyr.ddply(plyr.summarize, n=bs.paste('n =', bs.length('delicious')), 
                     **{'.data':mms,'.variables':ro.StrVector(['type','color'])}) 
```

这给出了与上面“n = 1”相同的输出。我知道它反映了 1 项向量“美味”的长度，但不知道如何使它成为变量而不是字符串，或者它将是哪个变量（这就是为什么我转向上面的函数） . 此外，了解如何使 as.quoted 变量语法（例如*ddply(.data=mms, **.(type, color)** , ...)*）与 rpy2 一起使用会很有用。我知道 plyr 有几个 as_quoted 方法，但我不知道如何使用它们，因为文档和示例很难找到。

任何帮助是极大的赞赏。谢谢。

**编辑**：

lgautier 用 nrow 而非长度修复 myfunc 的解决方案。

```
myfunc = r('''myfunc <- function(var) {paste('n =', nrow(var))} ''') 
```

ggplot2 的解决方案如果对其他人有用（**注意**必须将 x 和 y 值添加到 mms_cor 作为使用 aes_string 的解决方法（无法让 aes 在 Python 环境中工作）：

```
#rggplot2 = importr('ggplot2') # note ggplot2 import above doesn't take 'mapping' kwarg
p = rggplot2.ggplot(data=mms, mapping=rggplot2.aes_string(x='delicious')) + \
    rggplot2.geom_density() + \
    rggplot2.facet_grid('type ~ color') + \
    rggplot2.geom_text(data=mms_cor, mapping=rggplot2.aes_string(x='x', y='y', label='V1'), colour='black', inherit_aes=False)

p.plot() 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-08T21:03:52.077

由于您使用的是回调，我无法抗拒展示 rpy2 可以做的意想不到的事情之一（注意：代码未经测试，可能存在拼写错误）：

```
def myfunc(var):
    # var is a data.frame, the length of
    # the first vector is the number of rows
    if len(var) == 0:
        nr = 0
    else:
        nr = len(var[0])
    # any string format feature in Python could
    # be used here
    return 'n = %i' % nr 

# create R function from the Python function
from rpy2.rinterface import rternalize
myfunc_r = rternalize(myfunc)

mms_cor = plyr.ddply(**{'.data':mms, 
                        '.variables':ro.StrVector(['type','color']), 
                        '.fun':myfunc_r}) 
```

# vb.net - 是否可以从应用程序的同一页面向 Facebook 的 opengraph 发布动态帖子？

> ID：14208439
> 
> 赞同：0
> 
> 时间：2013-01-08T04:57:40.253
> 
> 标签：vb.net, facebook-graph-api

在过去的一段时间里，我一直在阅读并致力于制作一个 Facebook 应用程序。据我所见，我需要为我发布的每种不同类型的对象创建一个单独的页面。这对于简单的 HTML 页面非常有用，但是在开发应用程序时，它会产生巨大的开销。有没有办法从同一个动态创建的页面上发布不同类型的帖子？

示例：有一个购物中心页面。假设用户购买生菜，我们创建一个动态页面来通知他们他们的购买。用户后来回来买了一个苹果。然后我们创建相同的页面来通知他们他们的购买，但这次是关于一个苹果。

我将如何发布他们购买的生菜和他们从同一页面购买的苹果？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T12:07:26.467

> 据我所见，我需要为我发布的每种不同类型的对象创建一个单独的页面。

是的。每个 Open Graph 对象都由其单独的 URL 表示。

> 这对于简单的 HTML 页面非常有用，但是在开发应用程序时，它会产生巨大的开销。

并非如此——存在 URL 参数，只需根据 GET 参数输出内容，就可以轻松地即时“创建”OG 对象。

> 示例：有一个购物中心页面。假设用户购买生菜，我们创建一个动态页面来通知他们他们的购买。用户后来回来买了一个苹果。然后我们创建相同的页面来通知他们他们的购买，但这次是关于一个苹果。

所以生菜和苹果是两个不同的 Open Graph 对象，用户在不同的时间点与它们进行交互。因此，没有*必要*尝试将它们“组合”成一个对象，也没有充分的理由。

> 我将如何发布他们购买的生菜和他们从同一页面购买的苹果？

首先发布对象“lettuce”的“购买”操作实例，然后发布对象“apple”的另一个实例。

# java - 任何人都可以解释以下 Treeviewer 代码中的控制流程吗？

> ID：14208441
> 
> 赞同：-2
> 
> 时间：2013-01-08T04:57:58.257
> 
> 标签：java, eclipse-plugin, swt, eclipse-rcp, jface

该程序运行良好，但我无法看到它是如何链接在一起的。我的意思是，我不调用 Icontent 提供者或 Ilabel 提供者扩展的类中的方法；它是如何被调用的？

[我从http://java2s.com/](http://java2s.com/)复制了代码。

```
package com.test;
import java.io.File;
import java.io.FileInputStream;
import java.io.FileNotFoundException;
import java.util.ArrayList;
import java.util.List;

import org.eclipse.jface.viewers.ILabelProvider;
import org.eclipse.jface.viewers.ILabelProviderListener;
import org.eclipse.jface.viewers.ITreeContentProvider;
import org.eclipse.jface.viewers.LabelProviderChangedEvent;
import org.eclipse.jface.viewers.TreeViewer;
import org.eclipse.jface.viewers.Viewer;
import org.eclipse.jface.window.ApplicationWindow;
import org.eclipse.swt.SWT;
import org.eclipse.swt.events.SelectionAdapter;
import org.eclipse.swt.events.SelectionEvent;
import org.eclipse.swt.graphics.Image;
import org.eclipse.swt.layout.GridData;
import org.eclipse.swt.layout.GridLayout;
import org.eclipse.swt.widgets.Button;
import org.eclipse.swt.widgets.Composite;
import org.eclipse.swt.widgets.Control;
import org.eclipse.swt.widgets.Display;
import org.eclipse.swt.widgets.Shell;

/**
 * This class demonstrates TreeViewer. It shows the drives, directories, and
 * files on the system.
 */
public class FileTree extends ApplicationWindow {
  /**
   * FileTree constructor
   */
  public FileTree() {
    super(null);
  }

  /**
   * Runs the application
   */
  public void run() {
    // Don't return from open() until window closes
    setBlockOnOpen(true);

    // Open the main window
    open();

    // Dispose the display
    Display.getCurrent().dispose();
  }

  /**
   * Configures the shell
   * 
   * @param shell
   *            the shell
   */
  protected void configureShell(Shell shell) {
    super.configureShell(shell);

    // Set the title bar text and the size
    shell.setText("File Tree");
    shell.setSize(400, 400);
  }

  /**
   * Creates the main window's contents
   * 
   * @param parent
   *            the main window
   * @return Control
   */
  protected Control createContents(Composite parent) {
    Composite composite = new Composite(parent, SWT.NONE);
    composite.setLayout(new GridLayout(1, false));

    // Add a checkbox to toggle whether the labels preserve case
    Button preserveCase = new Button(composite, SWT.CHECK);
    preserveCase.setText("&Preserve case");

    // Create the tree viewer to display the file tree
    final TreeViewer tv = new TreeViewer(composite);
    tv.getTree().setLayoutData(new GridData(GridData.FILL_BOTH));
    tv.setContentProvider(new FileTreeContentProvider());
    tv.setLabelProvider(new FileTreeLabelProvider());
    tv.setInput("root"); // pass a non-null that will be ignored

    // When user checks the checkbox, toggle the preserve case attribute
    // of the label provider
    preserveCase.addSelectionListener(new SelectionAdapter() {
      public void widgetSelected(SelectionEvent event) {
        boolean preserveCase = ((Button) event.widget).getSelection();
        FileTreeLabelProvider ftlp = (FileTreeLabelProvider) tv
            .getLabelProvider();
        ftlp.setPreserveCase(preserveCase);
      }
    });
    return composite;
  }

  /**
   * The application entry point
   * 
   * @param args
   *            the command line arguments
   */
  public static void main(String[] args) {
    new FileTree().run();
  }
}

/**
 * This class provides the content for the tree in FileTree
 */

class FileTreeContentProvider implements ITreeContentProvider {
  /**
   * Gets the children of the specified object
   * 
   * @param arg0
   *            the parent object
   * @return Object[]
   */
  public Object[] getChildren(Object arg0) {
    // Return the files and subdirectories in this directory
    return ((File) arg0).listFiles();
  }

  /**
   * Gets the parent of the specified object
   * 
   * @param arg0
   *            the object
   * @return Object
   */
  public Object getParent(Object arg0) {
    // Return this file's parent file
    return ((File) arg0).getParentFile();
  }

  /**
   * Returns whether the passed object has children
   * 
   * @param arg0
   *            the parent object
   * @return boolean
   */
  public boolean hasChildren(Object arg0) {
    // Get the children
    Object[] obj = getChildren(arg0);

    // Return whether the parent has children
    return obj == null ? false : obj.length > 0;
  }

  /**
   * Gets the root element(s) of the tree
   * 
   * @param arg0
   *            the input data
   * @return Object[]
   */
  public Object[] getElements(Object arg0) {
    // These are the root elements of the tree
    // We don't care what arg0 is, because we just want all
    // the root nodes in the file system
    return File.listRoots();
  }

  /**
   * Disposes any created resources
   */
  public void dispose() {
    // Nothing to dispose
  }

  /**
   * Called when the input changes
   * 
   * @param arg0
   *            the viewer
   * @param arg1
   *            the old input
   * @param arg2
   *            the new input
   */
  public void inputChanged(Viewer arg0, Object arg1, Object arg2) {
    // Nothing to change
  }
}

/**
 * This class provides the labels for the file tree
 */

class FileTreeLabelProvider implements ILabelProvider {
  // The listeners
  private List listeners;

  // Images for tree nodes
  private Image file;

  private Image dir;

  // Label provider state: preserve case of file names/directories
  boolean preserveCase;

  /**
   * Constructs a FileTreeLabelProvider
   */
  public FileTreeLabelProvider() {
    // Create the list to hold the listeners
    listeners = new ArrayList();

    // Create the images
    try {
      file = new Image(null, new FileInputStream("images/file.gif"));
      dir = new Image(null, new FileInputStream("images/directory.gif"));
    } catch (FileNotFoundException e) {
      // Swallow it; we'll do without images
    }
  }

  /**
   * Sets the preserve case attribute
   * 
   * @param preserveCase
   *            the preserve case attribute
   */
  public void setPreserveCase(boolean preserveCase) {
    this.preserveCase = preserveCase;

    // Since this attribute affects how the labels are computed,
    // notify all the listeners of the change.
    LabelProviderChangedEvent event = new LabelProviderChangedEvent(this);
    for (int i = 0, n = listeners.size(); i < n; i++) {
      ILabelProviderListener ilpl = (ILabelProviderListener) listeners
          .get(i);
      ilpl.labelProviderChanged(event);
    }
  }

  /**
   * Gets the image to display for a node in the tree
   * 
   * @param arg0
   *            the node
   * @return Image
   */
  public Image getImage(Object arg0) {
    // If the node represents a directory, return the directory image.
    // Otherwise, return the file image.
    return ((File) arg0).isDirectory() ? dir : file;
  }

  /**
   * Gets the text to display for a node in the tree
   * 
   * @param arg0
   *            the node
   * @return String
   */
  public String getText(Object arg0) {
    // Get the name of the file
    String text = ((File) arg0).getName();

    // If name is blank, get the path
    if (text.length() == 0) {
      text = ((File) arg0).getPath();
    }

    // Check the case settings before returning the text
    return preserveCase ? text : text.toUpperCase();
  }

  /**
   * Adds a listener to this label provider
   * 
   * @param arg0
   *            the listener
   */
  public void addListener(ILabelProviderListener arg0) {
    listeners.add(arg0);
  }

  /**
   * Called when this LabelProvider is being disposed
   */
  public void dispose() {
    // Dispose the images
    if (dir != null)
      dir.dispose();
    if (file != null)
      file.dispose();
  }

  /**
   * Returns whether changes to the specified property on the specified
   * element would affect the label for the element
   * 
   * @param arg0
   *            the element
   * @param arg1
   *            the property
   * @return boolean
   */
  public boolean isLabelProperty(Object arg0, String arg1) {
    return false;
  }

  /**
   * Removes the listener
   * 
   * @param arg0
   *            the listener to remove
   */
  public void removeListener(ILabelProviderListener arg0) {
    listeners.remove(arg0);
  }
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-08T08:45:04.027

这里的这些行...

```
tv.setContentProvider(new FileTreeContentProvider());
tv.setLabelProvider(new FileTreeLabelProvider()); 
```

...在 TreeViewer 组件的代码中设置类。

TreeViewer 将调用您提供的方法来创建树内容和标签。

如果您想查看确切的流程，您应该在其中一种方法上设置断点并在调试器下运行。然后，您将能够在调用该方法时看到调用堆栈。

# android - 页面文本在 Android webview 中以某种方式轻微移动/抖动

> ID：14208445
> 
> 赞同：0
> 
> 时间：2013-01-08T04:58:39.447
> 
> 标签：android, webview

我曾经`WebView`在我的应用程序中加载一个 url，代码如下：

```
webview = (WebView)findViewById(R.id.webview);
WebSettings webSettings = webview.getSettings();
webSettings.setJavaScriptEnabled(true);
webview.setWebViewClient(new WebViewClient() {
        @Override
        public boolean shouldOverrideUrlLoading(WebView view, String url) {
            return false;
        }
});
webview .loadUrl("http://3g.qq.com"); 
```

问题是网页上显示的文本`webview`总是`shifting/shaking`稍微向左或向右，并且与其默认位置相比有规律。

我的设备是`Android 4.1.1.`当我启用硬件加速时，此问题消失。但是这个问题也可以在不支持硬件加速的 2.3.3 上重现。

此外，`android 2.1`不存在这个问题。

我搜索了很多，但没有运气。

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T05:04:06.887

像这样试试

添加此行并尝试

```
webview.setWebChromeClient(new WebChromeClient()); 
```

像这样改变

```
webview = (WebView)findViewById(R.id.webview);
WebSettings webSettings = webview.getSettings();
webSettings.setJavaScriptEnabled(true);
webview.setWebChromeClient(new WebChromeClient()); 
webview.setWebViewClient(new WebViewClient() {
    @Override
    public boolean shouldOverrideUrlLoading(WebView view, String url) {
        return false;
    }
});
webview .loadUrl("http://3g.qq.com"); 
```

# c# - 申请表大小和分辨率

> ID：14208448
> 
> 赞同：1
> 
> 时间：2013-01-08T04:58:59.490
> 
> 标签：c#, screen-resolution

我在将 WinForms 应用程序发布到其他计算机时遇到问题。我使用 Visual Studio 2010 来设计和编程应用程序，当我将 EXE 或 OneClick 安装程序发送到另一台计算机并尝试在那里运行它时，它运行良好，但似乎分辨率或某些东西已关闭。PictureBoxes 悬垂在边缘，一些控件被窗体窗口限制截断。我显然没有像那样把那些控件放在那里。当我在我的计算机上运行应用程序时，控件的大小/它们应该在的位置都是正确的。

问题是，如何配置已发布的 EXE 以使用我编写的相同分辨率或以某种方式适应应用程序可能运行的不同屏幕分辨率？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-08T05:23:00.563

根据您的要求，您需要构建一个“*分辨率独立/自适应*”的前端。

以下是您可以用来重新设计表单的一些选项：

## 布局控件，如 TableLayoutPanel 控件和 FlowLayoutPanel 控件

**参考**

[http://forums.codeguru.com/showthread.php?490012-How-to-make-a-Resolution-Independent-Application](http://forums.codeguru.com/showthread.php?490012-How-to-make-a-Resolution-Independent-Application)

[http://vbcity.com/forums/t/88845.aspx](http://vbcity.com/forums/t/88845.aspx)

[http://www.andreavb.com/forum/viewtopic_5501.html](http://www.andreavb.com/forum/viewtopic_5501.html)

## 考虑使用 AutoScaleMode 枚举

**参考**

[http://msdn.microsoft.com/en-us/library/system.windows.forms.autoscalemode.aspx](http://msdn.microsoft.com/en-us/library/system.windows.forms.autoscalemode.aspx)

[http://www.codeproject.com/Questions/245199/Creating-resolution-independent-applications-in-VB](http://www.codeproject.com/Questions/245199/Creating-resolution-independent-applications-in-VB)

## 哎呀，现在是您投资 WPF 的时候了

**参考**

[http://msdn.microsoft.com/en-us//library/ms754130.aspx](http://msdn.microsoft.com/en-us//library/ms754130.aspx)

# module - 组件中的 Dotnetnuke 寄存器和显示模块

> ID：14208451
> 
> 赞同：0
> 
> 时间：2013-01-08T04:59:39.037
> 
> 标签：module, dotnetnuke

我使用 Web 应用程序项目创建了一个自定义网格模块 MySQLGrid，程序集文件 MySQLGrid.dll 位于 DNN bin 文件夹中。单独它工作得很好。现在我想在另一个模块中使用它。我在某处读到要在另一个模块中使用一个模块，我们需要先注册它。

所以首先我创建了一个 TestGrid.ascx 模块，然后注册 MySQLGrid 如下

```
<%@ Register TagPrefix="msg" Assembly="MySQLGrid" Namespace="Samtech.Dnn.Modules.MySQLGrid"%> 
```

并在页面上创建控件

```
<msg:View id="mygrid" runat="server" /> 
```

但是当我在 DNN 中安装和测试 TestGrid 模块时，它显示以下错误

> 错误：测试网格当前不可用。DotNetNuke.Services.Exceptions.ModuleLoadException：对象引用未设置为对象的实例。---> System.NullReferenceException：对象引用未设置为对象的实例。在 DotNetNuke.UI.Modules.ModuleHost.LoadModuleControl() --- 内部异常堆栈跟踪结束 ---

在另一个内部重用已编译模块的正确方法是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T20:32:53.477

反正问题已经解决了。我将模块注册为

```
<%@ Register TagPrefix="msg" TagName="SQLGrid" Src="~/DesktopModules/MySQLGrid/view.ascx" %> 
```

现在它工作正常。testgrid 模块中存在一个问题，导致它无法显示。

# php - 从异常重启实体管理器

> ID：14208453
> 
> 赞同：7
> 
> 时间：2013-01-08T04:59:51.983
> 
> 标签：php, exception, symfony, doctrine-orm, entitymanager

如何重置/重新启动实体管理器？

查看教义文档：

*   [http://docs.doctrine-project.org/projects/doctrine-orm/en/latest/reference/transactions-and-concurrency.html#approach-2-explicitly](http://docs.doctrine-project.org/projects/doctrine-orm/en/latest/reference/transactions-and-concurrency.html#approach-2-explicitly)

我看到实体管理器异常关闭。这对我来说是个问题，因为我有一个 RabbitMQ 服务器并且消费者总是在运行。在测试期间，我们正在模拟不同的场景，丢失的数据就是其中之一。好吧，这引起了异常，我们的 Try/Catch 逻辑工作得很好，除了它也关闭了实体管理器。

阅读他们遇到或曾经遇到相同或相关问题的其他线程，我还没有看到重新启动 EM 的明确方法。

有什么想法吗？

有关的：

*   [https://github.com/symfony/symfony/issues/5339](https://github.com/symfony/symfony/issues/5339)
*   [Doctrine 的实体管理器崩溃并保持关闭](https://stackoverflow.com/questions/6674456/doctrines-entity-manager-crashes-and-stays-down)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-16T05:51:03.537

您是否尝试过`resetEntityManager`按照 stof 的建议调用该方法？ [https://github.com/doctrine/DoctrineBundle/blob/master/Registry.php#L83](https://github.com/doctrine/DoctrineBundle/blob/master/Registry.php#L83)

# nsis - 无法删除 NSIS 卸载程序中的开始菜单和桌面快捷方式

> ID：14208458
> 
> 赞同：2
> 
> 时间：2013-01-08T05:00:34.307
> 
> 标签：nsis

```
ExecWait '"$INSTDIR\uninstall.exe" _?=$INSTDIR' 
```

我正在使用此代码来调用卸载程序，但它无法删除开始菜单项和桌面链接，而通过双击进行的正常卸载能够删除所有这些内容。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T09:41:00.867

你的脚本中有[RequestExecutionLevel吗？](http://anders_k.users.sourceforge.net/public/NSIS/2.46/Manual.html#requestexecutionlevel)如果没有它，Windows 可能会对您的快捷方式进行一些[兼容性修改。](http://nsis.sourceforge.net/Shortcuts_removal_fails_on_Windows_Vista)

类似的代码`Delete "$SMPROGRAMS\myapp\myapp.lnk"`不应仅仅因为您使用 启动而改变行为`_?=`，快捷方式路径或删除它们的方式有什么特别之处吗？

您应该尝试[Process Monitor](http://technet.microsoft.com/en-us/sysinternals/bb896645.aspx)，它可能能够阐明这个问题......

# c# - 在 gridview 项目模板中管理数据集可为空的列

> ID：14208459
> 
> 赞同：1
> 
> 时间：2013-01-08T05:00:44.247
> 
> 标签：c#, asp.net, xml

我从 XML 文档创建了一个数据集。在我的第一个示例中，像这样返回数据集

```
FLD_ID  FLD_VALUE
1       1000 
```

所以我很容易将此数据集分配给网格视图。但在第二个示例中，像这样返回数据集

```
FLD_ID
1 
```

现在我将此数据集分配给相同的网格视图意味着它返回错误消息。FLD_VAL 不包含当前上下文。

我想在项目模板部分管理它。请帮我解决这个问题..

示例 1：

```
-root-

-FLD_ID- "1" -FLD_ID-

-FLD_VALUE- "1000" -FLD_VALUE-

-root- 
```

示例 2：

```
-root-

-FLD_ID- "2" -FLD_ID-

-FLD_VALUE- "" -FLD_VALUE-

-root- 
```

# c# - 自托管 HTTPS WCF 服务使用 SSL 中断 IIS 站点

> ID：14208462
> 
> 赞同：1
> 
> 时间：2013-01-08T05:00:52.483
> 
> 标签：c#, wcf, iis, ssl, self-hosting

我的服务器上运行了一个自托管服务（Windows 服务）。但是，当它启动时，它似乎会阻止在 IIS 中设置的现有 SSL 站点。这意味着，当服务未运行时，我的 SSL 站点正常工作。当服务运行时，我的站点停止工作并以“找不到端点”错误响应。这几乎就像服务在 IIS 能够自己响应之前抢占对站点的调用一样。

一些信息：
自托管服务和 IIS 站点设置为不同的 IP 和不同的 SSL 证书。除了驻留在同一台服务器上之外，它们基本上没有重叠。

知道为什么会发生这种情况吗？

# android - 在 Android List Activity 中自动向上滚动

> ID：14208463
> 
> 赞同：0
> 
> 时间：2013-01-08T05:00:55.823
> 
> 标签：android, android-layout

在列表活动中，每当我单击任何项​​目时它都可以正常工作，但是当我在工作布局之外（如媒体播放器）单击时，列表活动滚动屏幕到最顶部的项目。（当我们列出超过 10 个项目时，这很烦人） . 所以任何人都请告诉这是否是列表活动的属性以及我如何覆盖它.. 谢谢。

我的列表活动的 xml 代码是：

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:background="#ffffff" >

<LinearLayout
    android:id="@+id/side_navigation_menu"
    android:layout_width="wrap_content"
    android:layout_height="fill_parent"
    android:layout_alignParentRight="true"
    android:orientation="vertical" >

    <TextView
        android:id="@+id/text1"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:background="@drawable/top_bar"

        android:textColor="#ffffff"
        android:text="@string/app_name"
         android:gravity="center"
        android:textStyle="bold"
        android:textSize="@dimen/side_navigation_item_text_size" />

    <ListView
        xmlns:android="http://schemas.android.com/apk/res/android"
        android:id="@+id/listView1"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:background="#ffffff"

        android:divider="@color/side_navigation_list_divider_color"
        android:dividerHeight="1dp" />
</LinearLayout> 
```

# android - Android：Eclipse ADT 包安装无法在 Ubuntu 12.04.1 LTS 上运行

> ID：14208464
> 
> 赞同：1
> 
> 时间：2013-01-08T05:00:55.260
> 
> 标签：android, eclipse, adt

我正在尝试开始开发一个 android 应用程序，并且我有一台运行 Ubuntu 12.04.1 LTS 的机器来执行它（64 位）。我下载了 ADT 包，它是一个简单的压缩目录树，并展开它。我尝试运行 eclipse，但由于缺少一些库而失败，因此（在搜索解决方案后）我不得不安装一些 32 位库。在此之后，Eclipse 运行，但它似乎无法显示任何外部窗口。例如，当您启动它时，会出现一个带有超链接的欢迎屏幕，该屏幕应转到教程“构建您的第一个应用程序”。尽管光标悬停在链接上时会发生变化，但当您单击它或页面上的任何其他链接时，什么都不会发生。更严重的是，在调用模拟器时，它同样无法出现。所以似乎出于某种原因，

有什么建议么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-10-12T05:44:51.363

我在我的 Ubuntu 13.04 上下载了适用于 Linux 的 ADT Bundle，当我尝试运行“eclipse”应用程序时，单击它时它要么根本没有做任何事情，要么它说它不知道如何运行可执行文件文件，并要求在 ubuntu 软件中心搜索可能的应用程序来运行它。

我所做的是

1.  打开终端应用程序（Ctrl + Alt + T）
2.  移动到目录
3.  使用“cd”键入“ls”并显示文件夹的内容，“eclipse”文件不是绿色，只是白色。
4.  输入“chmod +x eclipse”
5.  从文件浏览器中双击“eclipse”文件。

它应该会打开很酷的 green-adt eclipse 闪屏并开始下载一些必要的文件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T05:48:07.717

从 repo 重新安装 Eclipse，运行

```
sudo eclipse 
```

选择帮助 > 安装新软件 添加新存储库：

```
https://dl-ssl.google.com/android/eclipse/ 
```

安装 ADT 并重新启动 Eclipse（以 root 身份）运行后选择 Use existing SDKs 并选择先前解压缩的 SDK 目录

我遇到的主要问题是安装期间没有 root 权限。如果您安装或更新，请始终使用 sudo。

# javascript - 以 3 维旋转 HTML5 画布笔划输入

> ID：14208465
> 
> 赞同：0
> 
> 时间：2013-01-08T05:01:06.033
> 
> 标签：javascript, html, canvas, 3d

我在 HTML5 中绘制了一个笔画列表，尤其是线条。我打算将这些线条制作成 3 维的，供用户 360 度（各个角度）查看。当然，这些线之间的角度是已知的，并且在 3 维空间中是不同的。是否有任何 javascript 库可以让我显示这样的 3D 效果（通过旋转和旋转这些线条并以不同的角度查看）？

我找到了一些，但不太确定它是否适用于 line。对此有什么建议吗？我希望在此页面的“拖放”部分中像立方体一样显示我的行列表：[http ://www.arc.id.au/Canvas3DGraphics.html](http://www.arc.id.au/Canvas3DGraphics.html)

感谢您与我分享一些信息。

干杯

# ios - 在测试和临时分发模式下列出应用程序

> ID：14208466
> 
> 赞同：2
> 
> 时间：2013-01-08T05:01:10.587
> 
> 标签：ios, passbook

我正在使用配套应用程序创建通行证，但配套应用程序尚未公开。

Passbook 包格式参考声明关联的StoreIdentifiers 是：'可选。关联应用程序的 iTunes Store 项目标识符（也称为 Adam ID）列表。

但是，据我了解，Adam ID 不是 App ID，就好像我尝试使用 App ID 作为商店标识符一样，通行证不会加载。

如果应用程序尚未在应用商店上架，是否可以在通行证背面列出该应用程序？

谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-08T12:44:53.760

不可以，您需要等到您的应用拥有有效的 Adam ID。

您可以[将此通行证](https://pass.is/SAAfM4)作为使用配套应用的通行证示例进行检查。

包含 Adam ID 的 pass.json 的相关部分是：

```
"associatedStoreIdentifiers":[584405669] 
```

请注意，Adam ID 必须以整数形式发送并分组到一个数组中，即使只有其中一个也是如此。不这样做将导致 Passbook 拒绝通行证包。

# c++ - c/c++ 中 int 的输入比 scanf 快

> ID：14208472
> 
> 赞同：1
> 
> 时间：2013-01-08T05:01:37.650
> 
> 标签：c++, c, input, int

> 大家好，我正在解决编码竞赛中的一个问题，我必须提供非常大的输入。
> 
> 如问题所述 - 输入文件大小可能达到近 8MB，因此请确保您使用的是快速 I/O 方法。

输入将作为测试用例的数量给出。然后是方阵的维数 n。然后整个矩阵为

2

3

2 6 4

4 8 9

7 9 4

2

8 4

15 4

我从网上某个地方得到了一个代码，但我认为它没有任何帮助，因为我也收到了超过时间限制的消息。请告诉以下代码是否会进行快速输入

```
#define BUF 406 // block size on my disk is 4KBs
char ibuf[BUF];
int ipt = BUF;
int read_uint() {
while (ipt < BUF && ibuf[ipt] < '0') ipt++;
if (ipt == BUF) 
{
    fread(ibuf, 1, BUF, stdin);
    ipt = 0;
    while (ipt < BUF && ibuf[ipt] < '0') ipt++;
}
int n = 0;
while (ipt < BUF && ibuf[ipt] >= '0') n = (n*10)+(ibuf[ipt++]-'0');
if (ipt == BUF) 
{
    fread(ibuf, 1, BUF, stdin);
    ipt = 0;
    while (ipt < BUF && ibuf[ipt] >= '0') n = (n*10)+(ibuf[ipt++]-'0');
}
return n;
} 
```

> 请告诉在这种情况下读取 int 输入的最快方法

非常感谢你提前

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-08T06:42:47.247

您是否只是为了读取输入而获得 TLE？通过提交仅读取数据的代码来确定数据读取操作需要多少时间。以下`gets`基本代码大约需要**0.50 秒**来读取大约**10MB**的数据文件，而`scanf`版本大约需要**1 秒**

使用gets方法读取输入：

```
#include <stdio.h>
#include <time.h>
#include <stdlib.h>
#include <string.h>

int matrix[100][100];

int main () {
    char arr[1200], *p;
    int n, j;
    clock_t tStart = clock();
    gets(arr);
    n = atoi(arr);
    for (; n--;) {        
        gets(arr);
        int siz = atoi(arr);
        for (int i=0; i<siz; i++) {
            gets(arr);
            p = strtok(arr, " ");
            j=0;
            while(p != NULL) {
                matrix[i][j++] = atoi(p);
                p = strtok(NULL, " ");
            }
        }
    }

    printf("Time taken: %.2fs\n", (double)(clock() - tStart)/CLOCKS_PER_SEC);
    return 0;
} 
```

扫描版：

```
#include <stdio.h>
#include <time.h>
#include <stdlib.h>
#include <string.h>

int matrix[100][100];

int main () {
    int n, j;
    clock_t tStart = clock();
    scanf("%d", &n);
    for (; n--;) { 
        int siz;
        scanf("%d", &siz);
        for (int i=0; i<siz; i++) {
            j=0;
            while(j<siz) {
                scanf("%d", &matrix[i][j++]);
            }
        }
    }

    printf("Time taken: %.2fs\n", (double)(clock() - tStart)/CLOCKS_PER_SEC);
    return 0;
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-08-19T16:10:14.003

getchar unlocked 在在线评委（如 SPOJ 或 Codechef 等）上输入问题时也非常快。这是从控制台读取整数的函数

```
#define gc getchar_unlocked

void scan_integer( int &x )
{
    register int c = gc();
    x = 0;
    int neg = 0;
    for( ; ((c<48 || c>57) && c != '-'); c = gc() );
    if( c=='-' ) {
        neg=1;
        c=gc();
    }
    for( ;c>47 && c<58; c = gc() ) {
        x = (x << 1) + (x << 3) + c - 48;
    }
    if( neg )
        x=-x;
} 
```

另一种非常快速的方法是使用缓冲区并在字符缓冲区中读取输入。解释如下

```
#define MAXIMUM_BUFFER_CAPACITY 15000000
char buffer_to[MAXIMUM_BUFFER_CAPACITY];
char *buffer_ptr = buffer_to;

int scan_integer()
{
    int k = 0;
    while( *buffer_ptr < 33 )
        buffer_ptr++;
    do {
        k = k*10 + *buffer_ptr++ - '0';
    } while(*buffer_ptr > 32);
    return k;
}

int main()
{
    fread(buffer_to, 1, MAXIMUM_BUFFER_CAPACITY, stdin);
    int n;
    n = scan_integer();
    /* Use n */
} 
```

# ruby - 使用 ajax 的 Ruby on Rhodes

> ID：14208474
> 
> 赞同：1
> 
> 时间：2013-01-08T05:01:52.097
> 
> 标签：ruby, ajax, rhodes

我正在尝试在 rhodes 上的 ruby​​ 中构建一个动态下拉列表。我的屏幕上基本上有两个下拉列表，我正在使用 ajax 从数据库中获取第二个下拉列表的值，具体取决于第一个下拉列表中选择的值。我是ruby 的新手，不知道如何在 rhodes 上的 ruby​​ 中使用 ajax 的语法。

我正在使用的 JavaScript 代码...

```
<script>
$.post("/app/Settings/dropdown",
  {
    value:a
  },
  function(data){
     alert(data);
});
</script> 
```

-----部分控制器代码

```
def dropdown
  @a = @params['value']
  puts @a;
  if @a.eql?"Auto"
    mystring="auto1|auto2|"
  else
    mystring="personal1|personal2|"
  end
end 
```

我可以通过 ajax 调用将任何参数发送到控制器。我的问题是如何将数据从控制器发送回该 ajax 调用中的函数，以便我可以使用该信息来创建动态下拉列表..？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T12:20:13.223

`render`您可以在控制器中使用发送回 JSON ：

```
def dropdown
  value = params[:value]
  if value == "Auto"
    @options = ["auto1", "auto2"]
  else
    @options = ["personal1", "personal2"]
  end
  render :json => @options
end 
```

然后使用 JavaScript，您可以使用收到的数据更新下拉列表。

# c# - 在 C# 中验证 EML 文件

> ID：14208476
> 
> 赞同：0
> 
> 时间：2013-01-08T05:01:53.573
> 
> 标签：c#, email, format, eml

在我的应用程序中，我需要验证特定文件是否具有正确的 EML 格式。我考虑过打开文件并检查它是否具有正确的标题（主题、正文等），但我想知道 C# 中是否有标准方法。

作为记录，文件可以以任何可能的扩展名结尾，我不打算对文件做任何特别的事情，我只需要验证文件是有效的 EML 格式。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T05:17:22.980

从 .EML 文件轻松检索电子邮件信息

这是一个包装类，一切都很好而且很整洁。如果您的服务需要通过电子邮件发送到邮箱的信息，这将非常方便。它具有通常的“To”、“CC”字段，以及 x-receiver 和许多其他字段的集合。如果它们在 EML 中，它将为您提供纯文本和 HTML 正文。日期转换为 DateTime。

[http://www.codeproject.com/Articles/29439/Easily-Retrieve-Email-Information-from-EML-Files](http://www.codeproject.com/Articles/29439/Easily-Retrieve-Email-Information-from-EML-Files)

# java - Solr 4.0.0 定义 ID 作为“长”类型在启动时引发错误

> ID：14208477
> 
> 赞同：1
> 
> 时间：2013-01-08T05:01:55.947
> 
> 标签：java, solr, solrj

在我的实体类中，我定义了 id：

```
@Field("id")
protected Long id; 
```

然后在 solr4.0.0 schema.xml 中，我定义：

```
<field name="id" type="long" indexed="true" stored="true" />
<uniqueKey>id</uniqueKey> 
```

然后 solr 在启动时抛出异常。如果 'id' 被定义为 'string' 类型，也不例外。所以我的问题是：如果我坚持将“id”定义为长类型，解决方案是什么。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-08T05:10:44.587

检查[SOLR-2997](https://issues.apache.org/jira/browse/SOLR-2997)
似乎 QueryElevationComponent 需要字符串格式的唯一键。因此，如果您不需要它，可以将其删除。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-08T05:39:22.590

只需删除 solrconfig.xml 文件中的以下节点：

```
<searchComponent name="elevator" class="solr.QueryElevationComponent" >  
<!-- pick a fieldType to analyze queries -->  
<str name="queryFieldType">string</str>  
<str name="config-file">elevate.xml</str>  
</searchComponent> 
```

# java - 在 SQLite 数据库中存储音乐标签

> ID：14208489
> 
> 赞同：4
> 
> 时间：2013-01-08T05:03:14.553
> 
> 标签：java, android, sql

我正在寻找一种有效的方法来将音乐标签和评论存储在运行在 Android API 8 (Froyo 2.2) 上的 SQLite 数据库中。它们应该采用与 Vorbis 注释类似的格式。

到目前为止，我已经考虑过：

存储在名为“字段”的列中的 JSON 对象，格式类似：

```
+-----+----------------------------------------------------------------------+
| _id |                                  fields                              |
+-----+----------------------------------------------------------------------+
|   0 | {"artist":"Artist", "title":"Track", "album":"Album 123", "track":3} |
+-----+----------------------------------------------------------------------+ 
```

每个字段的单独列。这是 google.android.music 存储字段的方式，但我担心新曲目会添加太多列。资源：

> 另一方面，许多有经验的数据库设计人员会争辩说，一个规范化的数据库永远不会需要超过 100 个表中的列。 [http://www.sqlite.org/limits.html](http://www.sqlite.org/limits.html)

```
+-----+-------------+----------------+------------+
| _id |   artist    |     album      |   title    |
+-----+-------------+----------------+------------+
|   0 | Test Artist | Test Album 123 | Test Title |
|   1 | An Artist   | This Album     | This Title |
+-----+-------------+----------------+------------+ 
```

最初我只是把它们放在一个

```
Map<String, String> and invoked toString(), adding it to 'fields' as follows:

+-----+--------------------------------------------------------------+
| _id |                            fields                            |
+-----+--------------------------------------------------------------+
|   0 | {title=Example Title, album=Example Album, artist=An Artist} |
+-----+--------------------------------------------------------------+ 
```

这类似于 JSON 对象（第一个示例），但增加了一些困难，例如将其解析回 Java 对象。

我宁愿选择任意数量的字段，所以我倾向于 JSON 对象。请告诉我任何替代选择，或者您在类似情况下会做什么。谢谢！

[我使用http://www.sensefulsolutions.com/2010/10/format-text-as-table.html](http://www.sensefulsolutions.com/2010/10/format-text-as-table.html)创建了 ASCII 表

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-08T05:08:36.457

我强烈建议规范化您的数据 - 不要存储 JSON 等，因为它会大大降低您以后以任何有意义的方式查询该数据的能力（相信我，不规范化数据似乎是最可靠的保证方式即使您现在不需要查询，将来也需要查询该数据）*。*

使用第二个多列示例，你会很高兴你做到了。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-08T05:08:25.107

从每个字段的单独列开始。如果您以后需要几个用户定义的字段，您可以随时添加一个 json 对象，但我猜您不需要它。

单个字段有很多很多优点，包括对任何字段进行排序和过滤的能力。大多数 sql 数据库功能都基于具有单独的字段，因此如果将这些字段组合起来，将更难做任何事情。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-08T05:14:22.230

你听说过 NoSQl 数据库吗？它将非常适合您的需求，因为它将数据存储在 JSON 模型中，因此每个数据项都可以具有任意字段。查看[TouchDB-Android](https://github.com/couchbaselabs/TouchDB-Android)。

# popup - dojo 1.7 中的基本弹出窗口

> ID：14208491
> 
> 赞同：0
> 
> 时间：2013-01-08T05:03:30.547
> 
> 标签：popup, dojo, dijit.form

嗨，我在玩道场，我查看了弹出文档，但我不明白所有内容。所以我有一个 onClick 事件，我想用它来打开弹出窗口。

```
else if (e.cell.identifier == 'calendar'){
    alert("I am an alert box!");
} 
```

所以这是我的条件语句的一部分，在我的 else if 语句中，我希望它在我单击单元格时运行我的弹出窗口。有可能吗？如果可以，我该怎么做。

PS 我已经需要 dijit/popup。

警报框用于测试我的 else 语句是否有效（确实如此）。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T23:10:03.293

本质上，您需要创建要弹出的小部件，然后您需要打开弹出窗口。注意：您必须将弹出窗口附加到元素

```
else if (e.cell.identifier == 'calendar')
{
     var calendar = new dijit.Calendar({
                                            value: new Date()
                                       });

      popup.open(
        {
            popup: calendar,
            around: dojo.byId("a div's id")
        });
} 
```

# c# - Windows 窗体应用程序，如 Outlook 设计建议

> ID：14208503
> 
> 赞同：0
> 
> 时间：2013-01-08T05:05:22.017
> 
> 标签：c#, winforms

我将开发一个或多或少类似于类似于 Outlook 的 GUI 的应用程序

我的问题是，当您打开前景时，它似乎只是一种形式。所以他们处理它。

他们是用户控件仅拖放到一个表单还是其他东西上。

第二

![在此处输入图像描述](../Images/b62a58ddaedd9f34f0b6b5969e089198.png)

我怎样才能为我的应用程序创建一个菜单——这个面板以及它将如何在 XP 上工作？

任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T05:43:26.273

至于微软究竟是如何布置 Outlook 的，我什至不敢猜测。但是对于您在示例中显示的控件，这些将在“功能区控件”中完成。您应该看看这些示例 [功能区控件](http://www.codeproject.com/Articles/23199/WPF-C-Ribbon-Control-Library)示例，这里是 [功能区控件的另一个示例](http://www.codeproject.com/Articles/364272/Easily-Add-a-Ribbon-into-a-WinForms-Application-Cs)

去看一下。我想你会发现这是一个很好的起点。

# c++ - 在 C++ 中模板化一个函数

> ID：14208504
> 
> 赞同：3
> 
> 时间：2013-01-08T05:05:31.910
> 
> 标签：c++, templates

我有两个类 A 和 B。唯一的字段是数组及其大小。所有方法都完全相同，唯一的区别在于对所有方法采用的索引整数的解释。我想对它进行模板化，以便我可以用 std::plus 实例化一个，用 std::minus 实例化另一个

一点代码：

```
class AB {
    int dim;
    int *tab;
    public:
    // obvious ctor & dtor
    void fun1( int a, int b );
    void fun2( int a, int b );
    void fun3( int a, int b );
}

void AB::fun1( int a, int b ) {
// operation of "interpretation" here i.e. addition or subtraction of ints into indexing int _num
// some operation on tab[_num]
} 
```

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-08T05:08:18.873

它看起来像这样：

```
template< typename Op >
void AB::fun1( int a, int b )
{
    Op op;

    tab[ op( a, b ) ];
}; 
```

它会像这样实例化：

```
AB ab;
ab.fun1< std::plus< int > >( 1, 2 );
ab.fun1< std::minus< int > >( 1, 2 ); 
```

如果所有方法都发生这种情况，那么模板可能更有意义`AB`：

```
template< typename Op >
class AB
{
    ... use as above ...
}; 
```

这假设操作是无状态的，因此创建这种类型的*默认构造*对象等效于任何其他实例。在这种假设下，代码甚至可以写成这样`Op()( a, b )`。

# php - 将 Mysql 时间戳中的值更新为日期时间值。

> ID：14208506
> 
> 赞同：3
> 
> 时间：2013-01-08T05:06:06.653
> 
> 标签：php, mysql, datetime, timestamp

我需要将 Mysql 时间戳中的值更新为日期时间值。例如，对于字段连接日期，当前字段类型是 int(11)，值是时间戳。我需要将此字段更改为日期时间字段或创建一个新的日期时间字段，然后使用旧时间戳值的日期时间值填充该字段。

它可以使用带有循环的 php 代码。如果有任何 mysql 查询，那将会很有趣。

非常感谢您的所有帮助，快乐编码

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-08T05:11:54.420

或者，通过添加另一列 field 来更改表`DateTime`。将此列命名为`DateTimeField`或任何您想要的名称。更改表后，执行此查询

```
UPDATE tableName
SET    DateTimeField = FROM_UNIXTIME(yourOldTimstampField) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-08T05:19:19.393

第一次添加一个新列：

```
ALTER TABLE yourTable 
  ADD COLUMN new_date DATETIME NOT NULL DEFAULT '2013-01-08 00:00:00' AFTER preceding_col 
```

然后更新：

```
UPDATE youTable SET new_date = FROM_UNIXTIME(old_date) 
```

之后，您可以删除旧列（如果需要）：

```
Alter TABLE yourTable drop column old_date; 
```

# python - Python - 如何根据提供的键平均用户输入值？

> ID：14208510
> 
> 赞同：0
> 
> 时间：2013-01-08T05:06:29.103
> 
> 标签：python

我正在尝试编写一个脚本，允许用户提交棒球前景的字母成绩，并根据用户提交的内容对这些成绩进行平均。

1.  潜在客户的用户输入等级（潜在客户 1 的 B+）
2.  所有输入都从字母等级转换为数字等级，以便对其进行平均。
3.  前景按最高到最低等级排序。
4.  成绩被重新转换回字母成绩。

我相信我已经涵盖了第 2 步，但我不确定如何完成其​​余代码。

为简化起见，假设我们有一个包含 5 个潜在客户的列表。用户将对他们每个人进行评分。随着每个额外的用户添加他们的评分输入，每个潜在客户的平均评分应该更新并且他们的排名顺序同时排序。

```
prospects = ['prospect1', 'prospect2', 'prospect3', 'prospect4', 'prospect5']

grades = {'A+':98, 'A':95, 'A-':92, 'B+':88, 'B':85, 'B-':82, 'C+':78, 'C':75} #grading system where A+ = 98, A = 95 etc

def numbergrade(lettergrade):
    return grades[lettergrade] #function to convert lettergrade to numbergrade 
```

你将如何编译一个列表，每次有新的用户输入时都会添加一个元素，同时让成绩与正确的潜在客户匹配？我应该在这里使用字典吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T05:19:00.560

这将遍历列表中的每个潜在客户，要求评分并将评分添加到字典“out”中。没有验证用户输入，因此您可能希望确保他们输入的值符合您的成绩。

当您想要跨多个用户输入会话取平均值时，它会变得更加复杂，因为您需要持久数据，在这种情况下，我会考虑使用 Pickle 或数据库。另一种选择是在一个会话中接受多个用户输入。

```
prospects = ['prospect1', 'prospect2', 'prospect3', 'prospect4', 'prospect5']

grades = {'A+':98, 'A':95, 'A-':92, 'B+':88, 'B':85, 'B-':82, 'C+':78, 'C':75}

out = {}

for prospect in prospects:
    rating = raw_input('Rate prospect {0}'.format(prospect))
    out[prospect] = grades[rating]

print out 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T05:34:56.533

首先，如果要在每次有新输入时更改平均值，则需要存储有多少个评分。如果 A+ 潜在客户获得 F 评级，如果他们有 1 个 A+ 评级或 300 分，他们的新评级将大不相同。

据我所知，您有两种存储选择。一种是使用元组列表，其中每个看起来像`(prospect name, total rating, number of ratings)`. 这样做的好处是您可以很容易地按评级对其进行排序。缺点是查找特定玩家更难。另一个选项是字典，其中每个键是一个前景，每个值是一个`(total rating, number of ratings)`. 优点：查找特定玩家很容易。缺点：排序并没有真正的意义。

最后，无论哪种情况，我都会将当前评分存储为数字，而不是字母。这将使其在平均时更加准确。清单上的第 4 步应作为“美容”步骤完成；不修改潜在客户数据。我可以发布您想要的示例功能，但我现在正在打电话，所以如果我不需要，我不会。

# java - 在 play 2.0 框架中执行查询时出错

> ID：14208514
> 
> 赞同：0
> 
> 时间：2013-01-08T05:06:49.680
> 
> 标签：java, sql, playframework, playframework-2.0, ebean

我只想获取具有特定 ID 的数据。我的包含查询的方法是：

```
public static List getidProducts(Integer id) {
    List<Products> productsid = Products.find("product_id IN:id").bind("id", id).fetch();
    return productsid;
} 
```

我收到错误：**未找到符号**，它表明错误出现在方法**find()**中。我哪里错了？请建议我。

**这是我的 products.java**

```
package models;

import java.util.*;
import javax.persistence.*;
import play.db.ebean.*;
import play.data.format.*;
import play.data.validation.*;
import com.avaje.ebean.*;
import java.sql.*;

public class Products extends Model {

    @Id
    public Integer product_id;

    @Constraints.Required
    public String productname;

    @Constraints.Required
    public Integer quantity;
    @Constraints.Required
    public Integer price;

    public static Finder<Integer,Products> find = new Finder<Integer,Products>(Integer.class, Products.class); 

    public static List getidProducts(Integer id) {
        return Products.find().where().in("id", id).findList();
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T05:49:05.350

这还是伊豆吗？奇怪的方法，试试这个：

```
public static List<Products> getidProducts(Integer id) {
    return Products.find.where().in("product_id", id).findList();
} 
```

Nota bene 不是您的 product_id 唯一字段吗？在这种情况下，您应该返回一个 Products 对象而不是 List。

```
public static Products getidProducts(Integer id) {
    return Products.find.where().eq("product_id", id).findUnique();
} 
```

或更简单：

```
public static Products getidProducts(Integer id) {
    return Products.find.byId(id);
} 
```

# c++ - 如何获取我的应用程序使用的错误 dll？

> ID：14208516
> 
> 赞同：1
> 
> 时间：2013-01-08T05:06:56.123
> 
> 标签：c++, qt, dll, dependencies, mitk

我制作了一个依赖于开源库（c++）MITK 的 exe。在使用 MITK lib 之前，我在 Visual Studio 中使用 Debug|32 位配置构建它。它没有错误。当我对项目进行编码并使用相同的配置构建它时，出现以下错误：

> 应用程序无法正确启动 (0xc000007b)。单击确定关闭应用程序

我发现这个[应用程序无法正确初始化](https://stackoverflow.com/questions/3685873/application-failed-to-initialize-properly/3686443#3686443) ，并且作为我使用 ProcMon 的建议当我查看堆栈时，我没有找到从 MITK lib 使用的任何 dll 并且有任何问题堆栈快照在这里

![我的应用程序的 exe 堆栈](../Images/1a68aed218c23ea767aa385455803594.png)

谁能告诉我哪个dll导致错误？

* * *

关于 MITK 的一些附加信息是：它正在使用我的系统 Qt 4.8.3 库，该库由 exe 安装 [意味着我没有制作它] 我的其他 Qt 应用程序运行正常。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-08T10:01:01.427

为了找出哪个 dll 丢失或不正确，您可以查看[Depencencywalker](http://www.dependencywalker.com/)以查看是否缺少任何依赖项（确保在`x32`和之间获得正确的版本`x64`）

# mysql - 在mysql中创建只能访问某些数据库的新用户

> ID：14208517
> 
> 赞同：3
> 
> 时间：2013-01-08T05:07:02.223
> 
> 标签：mysql

不知道这是否可能。

**我需要创建一个新的 mysql 用户，该用户只能访问具有前缀为 user_db_**的数据库名称的数据库。

我有一个 php 应用程序，当添加新用户时，它会创建一个数据库**user_db_'userid** '。假设创建了三个用户，他们的数据库是**user_db_1**、**user_db_2**、**user_db_3**。

我需要创建一个新用户说**user_accounts**，它只能访问**user_db_1**，**user_db_2**，**user_db_3**，............，**user_db_n**。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-08T09:04:02.843

使用以下代码授予对特定数据库的权限。

```
grant all privileges on DB_NAME.* to 'USER'@'REMOTE_IP' identified by 'PASSWORD'; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-06-12T10:28:27.470

有三个步骤

1.  创建数据库
2.  创建新用户
3.  使用 grant all 命令授予权限

像这样

```
CREATE DATABASE DBTEST 
```

如果运行成功且没有任何错误，则创建新用户

```
CREATE USER 'NEWUSER'@'LOCALHOST' IDENTIFIED BY 'NEWUSERPASSWORD' 
```

用户创建后赋予create table drop table的权限

```
GRANT ALL PRIVILEGES ON *.* TO 'NEWUSER'@'LOCALHOST' 
```

毕竟给出一个命令

```
FLUSH PRIVILEGES 
```

**2015 年3 月 31 日更新**（如评论中所述）

您可以像这样授予特定数据库的权限

```
GRANT ALL PRIVILEGES ON DBTEST.* TO 'NEWUSER'@'LOCALHOST 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-08T05:32:31.937

恕我直言，您可以使用以下组合

```
SHOW DATABASES LIKE 'user_db_%' 
```

获取当前用户数据库列表，以及

```
CREATE USER 'username'@'hostname' ... 
```

创建用户，以及

```
GRANT ALL ON user_db_N.* TO 'username'@'hostname' 
```

为您从中获得的每个数据库设置数据库权限给用户`SHOW DATABASES`。

# git - Git 版本控制约定

> ID：14208520
> 
> 赞同：1
> 
> 时间：2013-01-08T05:07:19.740
> 
> 标签：git, versioning

我有一个使用 Git 跟踪的项目。在大多数情况下，我对 Git 范式没有任何问题，但有一个问题我还没有完全弄清楚。目前，我的`master`分支指向将在某个时候发布的代码。`master`主题分支在准备就绪时被合并，并`develop`测试它们是否可以与其他开发代码一起使用。（顺便说一句，我尝试了 Git Flow，但不喜欢它。）

这个方案的问题在于，它是从上一个稳定版本构建的`master`或者`develop`看起来具有与上一个稳定版本相同的版本，因为我在标记一个版本之前增加了版本。我不想要这个——我想要不稳定的代码这样引用自己！我的问题： **提交版本颠簸的流行和/或可用约定是什么？** 此外，可以使用哪些分支和标记模型来避免这种情况？我喜欢简单的东西，因为我的项目不够大，不足以保证大型 Linux 内核风格的模型 :)。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T05:35:41.873

你应该看看它是如何通过[scripts/setlocalversion](http://git.kernel.org/?p=linux/kernel/git/torvalds/linux.git;a=blob;f=scripts/setlocalversion)在 Linux 内核中完成的。

基本上，这个脚本试图从最近的标记提交中猜测版本。如果标记了当前提交，则将此标记视为干净版本。如果没有，它会将当前提交短 sha 附加到标记以成为版本。如果当前树有任何未提交的更改，它可能会在其顶部附加字符串“dirty”。

请注意，这是某种简化的解释（实际上它也在 main 中查找版本号`Makefile`）。

其他一些工具也采用了类似的版本控制方法，尤其是[u-boot](http://git.denx.de/?p=u-boot.git;a=blob;f=tools/setlocalversion)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T05:10:36.413

语义版本控制很流行 - [http://semver.org/](http://semver.org/)

# java - 更改 Java 程序认为正在被击中的键

> ID：14208521
> 
> 赞同：1
> 
> 时间：2013-01-08T05:07:27.547
> 
> 标签：java, applet, keyboard, awt, keypress

为了简短起见，我想让一个 Java 小程序认为当我点击`W`、或我实际上分别点击、`A`、或时。 `S``D``up``down``left``right`

我该怎么做呢？

我会制作一个带有激活/停用按钮的简单小 GUI，但我不知道该程序如何欺骗 Java 小程序。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T05:40:09.233

您应该使用[键绑定](http://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html)。

本质上，您将一个键“绑定”到一个动作。例如，如果你想将`W`键和`UP`键绑定到按钮中的“按下”动作，你会写：

```
button.getInputMap().put(KeyStroke.getKeyStroke("W"), "pressed");
button.getInputMap().put(KeyStroke.getKeyStroke("UP"), "pressed"); 
```

并且要定义“按下”应该做什么，您需要添加一个与之对应的动作。

```
button.getActionMap().put("pressed", changeTextAction); 
```

`changeTextAction`应该是扩展的类的实例`AbstractAction`。例如：

```
public class ChangeTextAction extends AbstractAction
{
    private JButton button;
    private String text;

    public ChangeTextAction(JButton button, String text)
    {
        this.button = button;
        this.text = text;
    }

    @Override
    public void actionPerformed(ActionEvent e)
    {
        button.setText(text);
    }
} 
```

这是一个基本程序的示例，它允许用户单击、按下`W`或按下`UP`以触发将其文本更改为“按下！”的操作：

```
import javax.swing.*;
import java.awt.event.ActionEvent;

class KeyBindingExample extends JFrame
{
    private JButton button;
    private Action changeTextAction;

    public KeyBindingExample()
    {
        button = new JButton("Not Pressed!");
        changeTextAction = new ChangeTextAction(button, "Pressed!");

        button.getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW).put(KeyStroke.getKeyStroke("W"), "pressed");
        button.getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW).put(KeyStroke.getKeyStroke("UP"), "pressed");

        button.getActionMap().put("pressed", changeTextAction);

        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        getContentPane().add(button);
        pack();
        setVisible(true);
    }

    public class ChangeTextAction extends AbstractAction
    {
        private JButton button;
        private String text;

        public ChangeTextAction(JButton button, String text)
        {
            this.button = button;
            this.text = text;
        }

        @Override
        public void actionPerformed(ActionEvent e)
        {
            button.setText(text);
        }
    }

    public static void main(String[] args)
    {
        new KeyBindingExample();
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T05:16:27.570

[键绑定](http://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html)应该是您所追求的。

# c# - htmlagilitypack 不会解析表格

> ID：14208522
> 
> 赞同：1
> 
> 时间：2013-01-08T05:07:31.157
> 
> 标签：c#, parsing, html-parsing, html-agility-pack

我正在尝试从以下链接解析一个简单的数据表：

[http://www.tase.co.il/TASE/General/Company/companyHistoryData.htm?subDataType=0&companyID=001390&shareID=01100957](http://www.tase.co.il/TASE/General/Company/companyHistoryData.htm?subDataType=0&companyID=001390&shareID=01100957)

您将获得表格，单击左下角的浅绿色提交图像。表 id 是：`HistoryData1_gridHistoryData_DataGrid1` 尝试使用 htmlagilitypack 解析它 - 使用以下代码：

```
HtmlNode dataTable = document.GetElementbyId("HistoryData1_gridHistoryData_DataGrid1");

HtmlNodeCollection dataTableRow = dataTable.SelectNodes("//tbody/tr"); 
```

我得到一个非常脏的`html`，带有 351个`<TR>`标签，但内容甚至不接近表格内容......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-21T04:06:34.803

代替

```
 datatable.SelectNodes("//tbody/tr"); 
```

利用：

```
 datatable.SelectNodes("./tbody/tr"); 
```

# java - #if 在 java 中，就像在 c 预处理器中一样

> ID：14208524
> 
> 赞同：10
> 
> 时间：2013-01-08T05:08:05.417
> 
> 标签：c, java, android, eclipse, c-preprocessor

> **可能重复：**
> [如何标记 Java 代码使其未编译](https://stackoverflow.com/questions/8293124/how-to-mark-java-code-such-that-its-not-compiled)

在[c](/questions/tagged/c "显示标记为“c”的问题")中，我们可以防止编译这样的块代码：

```
#if 0

    //code here

#endif 
```

因此，即使代码块容易出错，代码也可以编译，我想要在 Java 中做同样的事情，这样我就可以跳过由于缺少某些库而无法编译的那部分代码。

谁能帮我 ？

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2013-01-08T05:13:16.443

Java 中没有预处理器。根据您的构建系统，您可能能够使用第三方预处理器（您可以通过搜索“java preprocessor”找到很多）。一些例子是

*   [预处理器-java](http://code.google.com/p/pre-processor-java/)
*   [java注释预处理器](http://code.google.com/p/java-comment-preprocessor/)
*   [javapp](http://www.slashdev.ca/javapp/)
*   [前置式](http://boldinventions.com/index.php?option=com_content&view=article&id=81:javapreprocessorusingeclipse)

根据您要注释掉的范围，您可以使用块注释，有时也可以使用类似

```
if (false) {
    . . .
} 
```

如果一切都失败了，只需使用 . 注释掉每一行`//`。大多数 IDE 都有办法有效地执行此操作（并撤消它）。

PS 如果您可以使用块注释（并非总是可能，因为块注释不能嵌套在 Java 中），有一个很好的技巧可以更容易地关闭和打开注释部分。单独在一行上开始您的块注释，但以另一个以行注释开头的孤立行结束，如下所示：

```
/*
   <block of code ignored as comment>
//*/ 
```

然后，如果您想重新打开注释掉的部分，只需`/`在块的开头添加第二个：

```
//*
   <block of code now active>
//*/ 
```

要再次关闭代码，只需删除第一个`/`. （如果没有`//`在最后一行的开头，当您通过将 a 添加到块的开头行来`*/`激活代码时，悬空将是语法错误。）`/`

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2013-01-08T05:09:54.463

你必须**注释掉代码**，你不能在java中使用预处理器指令。

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2013-01-08T05:13:39.733

我假设编译器将剥离使用常量/最终标志强制执行的块内的代码？这就是您可以在项目中保留最终 apk 中未提供的代码的方式。

```
public final static boolean DEBUG = false;

if(DEBUG) {
    //add messy error prone code here
    //compiler will strip this out as unreachable when false
} 
```

在这里阅读：

[http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.21](http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.21)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-08T05:09:26.667

Java 没有与 C 类似的预处理器。

由于根据标签，您使用的是 Eclipse，因此您可以简单地标记要注释掉的整个代码块，然后使用`CTRL - /`.

您还可以使用相同的键序列来取消注释已注释掉的块。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-01-08T05:14:28.050

我使用的一种技术是使用[m4](http://en.wikipedia.org/wiki/M4_%28computer_language%29)作为 java 文件的预处理器。您编写代码`classname.java.m4`并使用 Makefile 或其他构建系统规则来运行 m4：

```
%: %.m4
        @echo "/* automatically generated from $< -- don not edit*/" >$@
        m4 $< >>$@ 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-01-08T05:14:39.283

java 不提供预处理器的功能。

顺便说一句，您可以使用如下评论：

**您使用的是 Eclipse，您可以简单地标记要注释掉的整个代码块，然后使用 CTRL+SHIFT+C 来注释和取消注释代码块。**

# c++ - 如何使用 C++ 在不同的线程上调用函数？

> ID：14208534
> 
> 赞同：1
> 
> 时间：2013-01-08T05:08:35.010
> 
> 标签：c++, multithreading, boost-thread

我正在创建一个将被其他团队/产品使用的组件。该组件允许客户端代码发出一组命令，并且在内部这些命令在工作线程上执行 - 使用线程安全队列实现，其中命令被添加到调用者（客户端）线程上的队列中，并在工作线程。

我想以“操作 XYZ 已完成”的形式提供从我的组件到客户端代码的反馈。我可以通过回调轻松地做到这一点，但是回调是在我的工作线程上调用的——我希望它发生在调用者（客户端）线程上。**我怎样才能做到这一点？**

它是一个跨平台组件（Windows、Linux、OS X）。升压可用。我的默认开发编译器是 MS VC++ 2010，即它不是 C++11。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-08T05:24:28.313

安排这种类型的多线程架构的常用方法是让每个线程都有一个阻塞队列的函子。

每个线程循环其队列，依次执行每个仿函数。

要在不同的线程中调用函数，您只需创建一个仿函数并将其添加到该线程队列。

要在 C++ 中创建仿函数，您可以使用`std::function`and `std::bind`、lamdbas、函数对象或函数指针。看`std::function`

没有标准的阻塞队列，但是用信号量和互斥体（它们是`std::thread`库 afaik 的一部分，也是 pthread 的一部分）编写一个相当容易。谷歌`"blocking queue"`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T12:33:40.530

为什么不重用已设置的命令处理框架，将命令*作为答案*从工作线程发送回客户端？这需要将您的框架转变为更通用的消息传递框架，但也许它已经适合该目的。

命令对象/结构应包含：

*   命令的 id（用于回复其完成状态）
*   可选的颁发者 ID（发送命令的客户端）。

    您需要将命令队列从工作线程设置回客户端。每个客户端一个队列是理想的，但是如果您在命令对象/结构中嵌入了一个客户端 ID，您应该能够使用该 ID 来标记答案，以便帮助客户端从全局答案队列中过滤他们的消息。您还需要在客户端中添加一个函数，用于在空闲时间检查应答队列，并处理应答以更新 UI 状态。许多 UI 框架（如果不是全部）都支持这种可能性，所以这应该不是问题。如果您的 UI 或框架支持，另一种选择是将队列连接到 UI 事件系统。

请注意，对于 1 个写入器到 1 个读取器配置，有无锁队列算法，这对于单独的应答队列可能很有趣。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-08T13:13:16.683

使用 a `concurrent_queue<std::function<void()>>`，然后在主线程上检查此队列的功能。

# active-directory - 使用匿名绑定的 Active Directory 搜索

> ID：14208540
> 
> 赞同：2
> 
> 时间：2013-01-08T05:09:11.200
> 
> 标签：active-directory, jndi

在绑定操作之后，我有一段代码在活动目录服务器上执行搜索。我正在使用 LDAP 协议进行绑定，我的代码如下所示：

```
 env.put(Context.INITIAL_CONTEXT_FACTORY,
            "com.sun.jndi.ldap.LdapCtxFactory");

    env.put(Context.SECURITY_AUTHENTICATION, "none");
    env.put("com.sun.jndi.ldap.read.timeout", "9000");
    env.put("com.sun.jndi.ldap.connect.timeout", "9000");

            env.put(Context.PROVIDER_URL, "ldap://" + "nec.jp");
            DirContext ctx = new InitialDirContext(env);
            NamingEnumeration<SearchResult> answer = ctx.search(
                        searchBase, searchFilter, searchCtls);
        if (answer.hasMore())
           {
                    env.put(Context.SECURITY_PRINCIPAL, principalNameres);
                    env.put(Context.SECURITY_CREDENTIALS, userPasswd);
                    env.put(Context.SECURITY_AUTHENTICATION, "simple");
                    final DirContext ctxForSerachedResult = new InitialDirContext(
                            env);
                    ctxForSerachedResult.close();

          } 
```

我的问题是配置 AD 服务器以使用匿名登录用户执行搜索。

根据目前的理解，可以通过执行以下显示的步骤来启用匿名：

一个。通过更改 DsHeuristics 属性值启用匿名 LDAP 操作。

湾。提供读取目录的权限。

参考链接：

*   [http://social.technet.microsoft.com/Forums/en/winserverDS/thread/524a77fb-e819-497e-ae8a-c0fc43f1bba8](http://social.technet.microsoft.com/Forums/en/winserverDS/thread/524a77fb-e819-497e-ae8a-c0fc43f1bba8)
*   [http://support.microsoft.com/kb/326690](http://support.microsoft.com/kb/326690)

我曾尝试使用 LDP.exe 与匿名登录绑定来批准 Active Directory 设置，如下图所示：

但是搜索操作仍然无法按预期工作。

请建议我哪里出错了。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T10:36:33.357

您显然只显示了您的部分片段，并且您不分享不工作的内容。

你在期待什么。

我们确实有一个[JNDI 示例，](http://ldapwiki.willeke.com/wiki/Basic%20JNDI%20Search%20with%20Administration%20Account)即使它不是匿名绑定，它也可能会有所帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-09-11T04:57:20.127

很抱歉迟到发布答案.. 下面显示的代码更改已解决:)

```
 DirContext ctx = new InitialDirContext(env);

            final NamingEnumeration<SearchResult> answer = ctx.search(
                    searchBase, searchFilter, searchCtls);
            if (answer.hasMore()) {
                /*
                 * Retrieving providerUrl and principal from the answer
                 * returned after search
                 */
                if (bindAlgoValue.equals(BINDANONYMOUS)) {
                    env.put(Context.SECURITY_AUTHENTICATION, BINDSIMPLE);
                }
                final SearchResult res = answer.next();
                final String principalName = res.getNameInNamespace();
                final String providerUrl = res.getName();
                if (!res.isRelative()) {
                    env.put(Context.PROVIDER_URL, providerUrl);
                }
                env.put(Context.SECURITY_PRINCIPAL, principalName);
                env.put(Context.SECURITY_CREDENTIALS, userPasswd);
                ctx = new InitialDirContext(env);
                ctx.close();
                return true;
                // Code Fix End for BUG ID #1304
            } 
```

# linux - Sed不从文件中删除换行符

> ID：14208542
> 
> 赞同：0
> 
> 时间：2013-01-08T05:09:25.080
> 
> 标签：linux, sed

> **可能重复：**
> [SED：如何替换换行符 (\n)？](https://stackoverflow.com/questions/1251999/sed-how-can-i-replace-a-newline-n)

我有换行符的文件。我正在尝试这个

`sed -re 's/\n//' sample1.txt`它不工作

它显示带有换行符的输出，而不是删除它们。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T05:13:30.047

`sed`拆分它在换行符处收到的输入并在运行 sed 脚本之前将其删除，即脚本将永远不会看到换行符。使用 tr 代替：

```
tr -d '\n' 
```

或者，如果您坚持`sed`，请使用*Guru 的*`\n`循环解决方案，该解决方案使用命令重新插入`N`。

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2013-01-08T05:11:14.030

使用双引号：

```
sed -e "s/\n//" sample1.txt 
```

如果您打算尝试加入文件中的所有行：

```
sed -e :a  -e 'N;s/\n//;ta'  sample1.txt 
```

# samsung-smart-tv - Ms FrontPage 到三星电视 SDK 编辑器 (2.5.1)

> ID：14208544
> 
> 赞同：-1
> 
> 时间：2013-01-08T05:09:30.963
> 
> 标签：samsung-smart-tv, frontpage

我设计了我的页面，`MS Frontpage`我需要将它们显示在`Samsung TV SDK Editor(2.5.1)`演示中。可能吗？如果是，如何？

我是这两个软件的新手，所以非常感谢任何帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-29T13:02:57.527

是的，您可以将 HTML 代码传输到应用程序，但会有一个大问题 - 您将无法控制页面/应用程序的导航。在电视/模拟器上启动应用程序后，您应该将 focus() 放在一个元素上 - 例如放在按钮上。如果你想聚焦一个按钮，你应该使用 JavaScript 在元素之间提供导航，并在按下箭头时将焦点从一个元素移动到另一个元素。如果您不这样做，启动应用程序后您将无法执行任何操作。

在我看来，最好制作一个带有按钮和焦点控制的简单应用程序，看看它是如何工作的。然后您可以插入您的 HTML 代码，添加一些 JavaScript 并进行测试。

# iphone - iOS电话簿中的自定义UITextField

> ID：14208547
> 
> 赞同：1
> 
> 时间：2013-01-08T05:10:12.763
> 
> 标签：iphone, objective-c, ios, ipad

我如何创建这样的东西：

![在此处输入图像描述](../Images/4ee784d656075de9cb00ec2176a608e4.png)

这是从 iOS 联系人应用程序中获取的。我认为也应该有时间重新创建它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T05:23:44.757

![在此处输入图像描述](../Images/683d4a6a71e140c753be51eedbf263c7.png)

1.  以绿框为一张图像。
2.  添加一个 UITextField，如带有占位符电话的红色框中所示。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-08T05:24:22.670

在你的情况下你需要采取两个元素

1)`UILabel` **文本颜色为蓝色**
2)`UITextField` **使用 PlaceHolder 文本**= **@"Phone"**

这个元素可以根据需要添加`cell.contentView`它的**框架**。

您还需要在两者之间添加线条图像，`UILabel`并将`UITextField`此图像添加到`cell.contentView`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-08T05:28:55.390

它易于重新创建，只需使用 UILabel 创建自定义 UITableViewCell、作为 UIImageView 的分隔符和作为 UITextBorderStyleNone 的边框样式和带有文本的占位符的 UITextField。

![这就是它的样子](../Images/0228385fb30300fc6807177356298642.png)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-08T05:40:27.443

这看起来像是一个使用 UITableViewCell 和 UITableViewCellStyleValue2 的分组**UITableView**。[有关表格的 Apple 文档的](http://developer.apple.com/library/ios/#documentation/userexperience/conceptual/TableView_iPhone/TableViewStyles/TableViewCharacteristics.html#//apple_ref/doc/uid/TP40007451-CH3-SW1)更多信息。

# javascript - 循环遍历单选按钮并添加总计 javascript

> ID：14208548
> 
> 赞同：0
> 
> 时间：2013-01-08T05:10:16.950
> 
> 标签：javascript, html

我是 javascript 新手，所以请善待。我的网站上有一种测验。我需要遍历选中的单选按钮并在用户单击提交时添加值。

将值相加后，必须出现一个小的弹出窗口来显示结果。如果单选按钮的总值在 0-10 之间显示消息 1 否则如果单选按钮的总值在 11-20 之间显示消息 2 否则显示消息 3

我已经搜索了互联网，但我只是找不到关于如何循环通过单选按钮并加起来的简单工作解释

我的 HTML 表单看起来像这样

**你今年多大？**
18-21
22-30
30-42
42

**你长什么样？**
我看起来像泰国
人 我是典型的外国人（白皮肤、金发、蓝眼睛）
我是女孩
我年纪大了

**你的学历是多少**
高中
大学文凭/证书
学士学位
硕士学位或更高

```
 <strong>From which country are you?</strong><br />
                 <input type="radio" value="3" name="country" />Aus, NZ, SA, UK, US<br />
                 <input type="radio" value="0" name="country" />Other country from the once listed above<br />
                 <br />

                  <strong>Is English your naitive language</strong><br />
                 <input type="radio" value="2" name="country" />yes<br />
                 <input type="radio" value="0" name="country" />no<br />
                 <input type="radio" value="1" name="country" />no, but I am fluent<br />
                 <br />

                 <strong>Do you have any experience in teaching English in Thailand?</strong>
                 <br />
                 <input type="radio" value="0" name="experience" />none<br />
                 <input type="radio" value="1" name="experience" />0-1 year<br />
                 <input type="radio" value="3" name="experience" />1-2 years<br />
                 <input type="radio" value="4" name="experience" />2 years +<br />
                 <br />

                   <strong>What is your knowledge of Thai language and Thai culture</strong>
                 <br />
                 <input type="radio" value="1" name="culture" />I know nothing<br />
                 <input type="radio" value="2" name="culture" />I know my basics<br />
                 <input type="radio" value="3" name="culture" />I know slightly more than the basics<br />
                 <input type="radio" value="4" name="culture                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                \   " />My friends say I am Thai<br />
                 <br />

                    <strong>What is your knowledge of Thai language and Thai culture</strong>
                 <br />
                 <input type="radio" value="1" />I know nothing<br />
                 <input type="radio" value="2" />I know my basics<br />
                 <input type="radio" value="3" />I know slightly more than the basics<br />
                 <input type="radio" value="4" />My friends say I am Thai<br />
                 <br />

                    <strong>Do you have any visible tatoos or piercings?</strong>
                 <br />
                 <input type="radio" value="2" />Yes but it is not visible<br />
                 <input type="radio" value="4" />none<br />
                 <input type="radio" value="0" />Visible tatoo or piercing<br />
                 <br />

                 <strong>What gender are you</strong>
                 <br />
                 <input type="radio" value="1" />Male<br />
                 <input type="radio" value="4" />Female<br />
                 <br />
                 <input type="submit" onclick="showTotal" />

                 </form> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T05:23:51.497

这篇文章向您展示了如何获取单选按钮组的值：[我们如何使用 DOM 访问单选按钮的值？](https://stackoverflow.com/questions/604167/how-can-we-access-the-value-of-a-radio-button-using-the-dom)

对你来说最简单的答案是：

```
function getRadioValue (theRadioGroup)
{
    for (var i = 0; i < document.getElementsByName(theRadioGroup).length; i++)
    {
        if (document.getElementsByName(theRadioGroup)[i].checked)
        {
                return document.getElementsByName(theRadioGroup)[i].value;
        }
    }
}

var country = parseInt(getRadioValue ('country'));
var experience = parseInt(getRadioValue ('experience')); 
```

等等，您需要将它们全部添加并提醒它们

```
var total = country + experience; // add all the other variables here
alert(total); 
```

希望有帮助。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-01-08T05:19:27.353

**只需在 head 部分添加以下脚本，然后您将获得如下总价值。**

```
<script type='text/javascript' src='http://code.jquery.com/jquery-1.8.2.js'></script>
<script type="text/javascript">
function showTotal()
{
    total = 0;
    $("input[type=radio]:checked").each(function(){
        total += Number($(this).val());
    });
    alert(total);
}
</script> 
```

# java - 如果找不到 JRE 1.6，在项目 POM 中标记以关闭我的 Java 应用程序？

> ID：14208555
> 
> 赞同：0
> 
> 时间：2013-01-08T05:11:02.843
> 
> 标签：java, pom.xml, runtime-compilation

我有一个用 Java 编译的应用程序。我通过 Maven 构建我的代码。我想在我的项目 POM 中添加一个标签，这样如果在系统中找不到 JRE 1.6，它就不应该允许我的 Java 应用程序启动。

我可以得到任何帮助吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T05:17:04.590

也许您想阅读以下内容：

[http://maven.apache.org/enforcer/maven-enforcer-plugin/usage.html](http://maven.apache.org/enforcer/maven-enforcer-plugin/usage.html)

```
 <plugins>
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-enforcer-plugin</artifactId>
        <version>1.2</version>
        <executions>
          <execution>
            <id>enforce-versions</id>
            <goals>
              <goal>enforce</goal>
            </goals>
            <configuration>
              <rules>
                <requireMavenVersion>
                  <version>2.0.6</version>
                </requireMavenVersion>
                **<requireJavaVersion>
                  <version>1.5</version>
                </requireJavaVersion>**
                <requireOS>
                  <family>unix</family>
                </requireOS>
              </rules>
            </configuration>
          </execution>
        </executions>
      </plugin>
    </plugins> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T07:18:28.443

您可以运行您的应用程序

```
java -version:1.6 -jar app.jar 
```

如果 JRE 不是 1.6，它将不会启动

或以编程方式检查 JRE 版本

```
public static void main(String[] args) throws Exception {
    if (!System.getProperty("java.version").startsWith("1.6")) {
        throw new IllegalStateException("Illegal JRE version");
    }
} 
```

# vba - 计算财政季度

> ID：14208557
> 
> 赞同：0
> 
> 时间：2013-01-08T05:11:16.477
> 
> 标签：vba, excel, excel-2007

我需要有关此代码的帮助。现在这是查看日历年季度，但我想对其进行修改以查看财政年度季度。

```
 Function test(time)
        Quarter = Format(time, "YYYYq")

        For vRow = 2 To 1000               
            report_time = Format(Sheets("data").Range("A" & vRow).Value, "YYYYq")

            Assessment = Sheets("data").Range("V" & vRow).Value  

            If (report_time = Quarter) Then
                denominator = denominator + 1
                If (Assessment= 1) Then
                    numerator = numerator + 1
                End If
            End If
        Next

        If denominator > 0 Then
            test = numerator / denominator
        Else
            test = 0
        End If            
    End Function 
```

我将不胜感激您的时间和建议。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T11:17:08.777

因为我有更多的数据要输入，并且评论中没有足够的空间。

在财务报告方面，您将拥有财务、日历和实际。所以请验证，

*   如果您正在与任何数据供应商合作以获取财政年度数据。
*   如果您打算对数据进行任何日历化？例如将会计年度数据转换为日历年数据...等
*   **如果您要将一家公司的会计年度数据与另一家公司进行比较**
*   或者您正试图从用户输入的任何财政年度中简单地编写一个财政季度而不进行任何**日历化**？

因此，如果您希望您的代码对用户选择的所有会计年度/半年度/季度通用，那么您需要一个非常健壮的逻辑。;) 因为`Apple US`9 月结束的财政年度与`BHP AU`6 月不同..

如果财政年度 Q4 与日历年 Q4 不一致，那么财政年度的生命周期从一个日历年到另一个日历年是不可避免的`December`。**最痛苦的阶段是当您的财政季度不属于日历季度时。财政年度在奇数月结束的地方**...... 例如`WallMart US with January 31`。通常一些欧洲或英国股票似乎具有这种性质。因此，在这种情况下，您必须每个月进行验证。

我曾经做过一个日历工具。因此，如果您能清楚地阐明您的要求，很乐意提供帮助。

# jquery - 使用jquery从父页面访问子iframe元素？

> ID：14208561
> 
> 赞同：0
> 
> 时间：2013-01-08T05:11:31.110
> 
> 标签：jquery, jquery-ui, iframe

如何从父页面访问 Jquery UI 对话框中子 div 的元素？我正在使用以下代码..虽然使用其 id (#adduserframe) 访问 iframe，然后 .contents() 将完成工作.. 但它不起作用.. 我的 jquery 概念还不够好。谁能建议什么会给我带来我想要的结果？你能告诉我为什么我无法获得这些元素吗？

```
 $(document).ready(function(){
            var first_name = '';
            var middle_name = ''; 
            var last_name = '';
            var paginate_url='';
            $('#first_name,#middle_name,#last_name').bind( "change" ,function(){
                first_name = $.trim($('#first_name').val());
                middle_name = $.trim($('#middle_name').val()); 
                last_name = $.trim($('#last_name').val());
                paginate_url='autosuggestUsers.php?first_name=' + first_name + '&middle_name=' + middle_name + '&last_name=' + last_name;
                if( first_name!='' && middle_name!='' && last_name!='' ){

                    $('<div><iframe id="adduserframe" src="'+ paginate_url + '" height="300" width="478" frameborder="0" scrolling="no"></iframe></div>').dialog({
                        title: '<b>User(s) with a similar name</b>',
                        modal: true,
                        autoOpen: true,
                        height: 'auto',
                        width: 500,
                        resizable: false,
                        buttons: {
                            "Close": function(){                    
                                $(this).dialog('close');
                                return false;
                            }
                        }
                    });

                }else{
                    return false;
                }
            }); 

            $("#adduserframe").contents().find("img.addSweis").live("click",function(){
                alert('hey');
                var u_data = $(this).attr('rel');
                var rawParts = u_data.split("~~^^~~");
                $($("#adduserframe").contents().find("input#relative_id")).val(rawParts[0]);
                $($("#adduserframe").contents().find("input#first_name")).val(rawParts[1]);

                $(".ui-dialog-content").dialog('close');
            });

        }); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T05:13:34.847

[请参阅：从父页面访问子 iFrame DOM](https://stackoverflow.com/questions/5181911/access-child-iframe-dom-from-parent-page)

但它只有在所有脚本和 iframe 都在同一个域上时才有效。

# jquery - jquery timepicker 插件，如选择/选择

> ID：14208563
> 
> 赞同：0
> 
> 时间：2013-01-08T05:11:46.713
> 
> 标签：jquery, jquery-plugins

我正在寻找一个 jquery timepicker 插件，例如：

![时间选择器](../Images/f7d2e7676e2afae95429242860b3f0e2.png)

任何人都可以告诉我，我在哪里可以找到这种插件，当我搜索时，我得到了滑块类型的插件，但这是必需的。

提前非常感谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-08T19:21:35.157

我构建了这个 timepicker 插件来匹配 jQuery datepicker 风格，也许你会喜欢它： http: [//fgelinas.com/code/timepicker](http://fgelinas.com/code/timepicker)

![时间选择器](../Images/5c380efc65786221a088b13bc7e6a9c2.png)

# iis-7 - IIS 7.5 仅重定向一个子目录

> ID：14208566
> 
> 赞同：4
> 
> 时间：2013-01-08T05:12:00.323
> 
> 标签：iis-7, http-redirect

我有一个在 IIS 7.5 版本下部署的 asp.net 应用程序，它下面有几个子域。我想将一个特定的子域重定向到另一个 url。

例如：

```
www.domain1.com/a
www.domain1.com/b 
```

上面的网址应该可以正常工作。

```
www.domain1.com/c 
```

应该重定向到`www.domain2.com`

我怎样才能做到这一点？

更新我的要求：我为具有相同应用程序池的多个用户（a、b、c）部署了相同的应用程序。我只想为用户 c 重定向。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-08T06:38:04.613

1.  打开 IIS 管理器。打开“运行”对话框 ( *Windows+R* )，键入`inetmgr`并按`Enter`。为此，您将需要管理员权限。

2.  在左侧窗格中选择您网站中的子文件夹（**不是虚拟文件夹**）（通过单击文件夹名称），然后`HTTP Redirect`在主视图中打开。 ![子文件夹选择和 HTTP 重定向图标](../Images/820465e2fe20f23e898834ba97d7ead2.png)

3.  选择`Redirect requests to this destination`并输入您的目标域名`http://www.domain2.com/`。检查其他选项（如果它们适用于您）并单击`Apply`保存。 ![为子文件夹设置重定向](../Images/031b2a5c4f18d4d8fe282f874904c743.png)

4.  检查浏览器中的重定向。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T10:10:20.627

我通过使用重写模块让它工作。我已将 web.config 更新如下：

```
<rewrite>
<rules>
<clear />
    <rule name="Redirect For c" patternSyntax="ECMAScript" stopProcessing="true">
        <match url=".*" />
        <conditions logicalGrouping="MatchAny">
            <add input="{PATH_INFO}" pattern="^c$" />
            <add input="{PATH_INFO}" pattern="^c/$" />
        </conditions>
        <action type="Redirect" url="http://domain2.com" />
    </rule>
</rules>
</rewrite> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2017-03-09T00:08:53.533

您不能将重定向应用到子文件夹 c，因为它们共享一个 web.config 文件。当您通过 IIS 添加此设置时，它会将其添加到共享的 web.config。

摆脱文件夹 c 或重命名它。在 wwwroot 中创建一个新文件夹，即“c_redirect”。在 IIS 中创建一个别名为“c”的新虚拟目录，并将其指向新的空文件夹。然后，您可以在 IIS 中添加对站点的重定向，它将使用您的设置在 c_redirect 文件夹中创建一个新的 web.config，并且不会影响父站点。

# c++ - cout 和 printf 工作在 Dll 内置调试 未发布

> ID：14208569
> 
> 赞同：5
> 
> 时间：2013-01-08T05:12:18.733
> 
> 标签：c++, visual-studio-2010, dll, dll-injection

我已经构建了一个 DLL，它通常通过 SetWindowHookEx 注入到控制台应用程序中。DLL 将信息输出到我一直在使用 std::cout 的控制台很重要。DLL 接近完成，直到我尝试在发布模式下构建 DLL，这使得所有 cout 行都无用。我已经验证了 DLL 正在注入并通过执行简单的 null 取消引用来执行，这会导致程序在 dllmain 函数中崩溃。与 std::printf 相同的故事。

```
void onAttach()
{
    //WARNING THIS IS A DEMONSTRATION
    std::cout<<"test"<<std::endl;
    //int* intPtr = 0;
    //*intPtr = 3; //This causes a crash
}

// entry point
BOOL WINAPI DllMain ( HMODULE hModule, DWORD dwReason, LPVOID lpReserved )
{
    switch ( dwReason )
    {
        case DLL_PROCESS_ATTACH:
            DisableThreadLibraryCalls ( hModule );
            CreateThread ( NULL, 0, ( LPTHREAD_START_ROUTINE ) onAttach, NULL, 0, NULL );
            return true;
        break;

        case DLL_PROCESS_DETACH:
            return true;
        break;
    }
} 
```

我真的不知道如何解决这个问题。Release 链接器是否以某种方式排除了依赖项？

我正在使用 MSVS 2010 和默认发布/调试配置设置。debug dll 大约 5,137kb，release dll 只有 23kb。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T09:07:22.470

你不应该在 DllMain 中做*任何*依赖于另一个 DLL 的事情。您至少违反了 3 次：`printf`并且`std::cout`依赖于 CRT（这又依赖于 Win32 DLL）并`CreateThread`依赖于 Kernel32.DLL。

`DllMain`适用于简单的事情，例如归零变量等。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-04-09T10:07:49.870

我知道@salters 声明不应在 DLL 中调用其他库是正确的，但经过反复试验，我发现在 x64 配置（而不是 x86）中编译 DLL 时，DLL 可以“计算”或显示使用“MessageBox”函数没有任何问题（可能会调用许多其他库的函数）。希望这可以帮助 ：）。

# django - 在 AWS EC2 上设置 Django

> ID：14208571
> 
> 赞同：0
> 
> 时间：2013-01-08T05:12:25.027
> 
> 标签：django, amazon-ec2

我正在尝试在 AWS EC2 上托管一个 django 应用程序以用于学习目的（在 ubuntu-8.04.3 上）。我在请求时收到“ **It Works**`http://ec2-x-x-x-x.compute-1.amazonaws.com` ”消息 但我没有得到管理页面。以下是我遵循的步骤：

**网址.py：**

```
from django.conf.urls.defaults import *
from django.contrib import admin

admin.autodiscover()

urlpatterns = patterns('',
    (r'^admin/',include('django.contrib.admin.urls')),
) 
```

**设置.py：**

```
INSTALLED_APPS=(
    'django.contrib.auth',
    'django.contrib.contenttypes'
    'django.contrib.sessions',
    'django.contrib.sites',
    'django.contrib.admin'
) 
```

mysite 配置： *位置：/etc/apache2/sites-enabled*

```
<VirtualHost *:80>
    ServerAdmin admin@mysite.com
    ServerName  mysite.com
    DocumentRoot /home/demo/mysite

    Alias /static /home/demo/mysite/template/static/
    <Directory /home/demo/mysite/template/static>
        Order deny,allow
        Allow from all
    </Directory>

    Alias /media /home/demo/mysite/media/
    <Directory /home/demo/mysite/media>
        Order allow,deny
        Allow from all
    </Directory>

    WSGIScriptAlias / /home/demo/mysite/mysite.wsgi
    <Directory /home/demo/mysite>
        Order allow,deny
        Allow from all
    </Directory>

    ErrorLog /var/log/apache2/error.log
    LogLevel warn

    CustomLog /var/log/apache2/access.log combined
</VirtualHost> 
```

**mysite.wsgi：** *位置：/home/demo/mysite/*

```
import os, sys

sys.path.append('home/demo/mysite')
os.environ['DJANG0_SETTINGS_MODULE']='mysite.settings'

import django.core.handlers.wsgi
application = django.core.handlers.wsgi.WSGIHandler() 
```

`syncdb`顺利。但是我在请求时没有得到管理页面，`http://ec2-x-x-x-x.compute-1.amazonaws.com/admin`尽管它包含在`INSTALLED_APPS`and中`URLS.py`。我哪里错了？我收到`The requested URL /admin was not found on this server.`消息了。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T08:32:27.007

拼写错误：

```
 <VirualHost *:80> 
```

假设您剪切并粘贴了该代码。您可能应该运行那个方便的 apache 实用程序来检查您的配置文件是否有错误，或者读取 apache 日志文件。

# php - 我的 magento 网站出现错误

> ID：14208573
> 
> 赞同：0
> 
> 时间：2013-01-08T05:12:32.383
> 
> 标签：php, javascript, magento, checkout

```
Fatal error:Call to member function getproduct() on a non-object  in app/...../checkout/cart/sidebar/default.phtml on line 29 
```

为什么会这样？

有什么办法可以消除这个错误？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T05:18:02.113

要消除错误，

去`app/design/frontend/your_theme/checkout/cart/sidebar/default.phtml`

搜索`getproduct`

评论它的行并检查。

发生这种情况是因为，您在与其无关的对象上调用了该函数。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T06:52:11.117

你用过吗

```
$_product = Mage::getModel('catalog/product')->load($product_id) 
```

在使用它之前？

# ruby-on-rails - 如何在dryml中转义“&”字符？

> ID：14208574
> 
> 赞同：0
> 
> 时间：2013-01-08T05:12:32.367
> 
> 标签：ruby-on-rails, hobo

我的 application.dryml 文件中有这个：

```
<def tag="googlemap">
  <html>
    <head>
      <style type="text/css">
        html { height: 100% }
        body { height: 100%; margin: 0; padding: 0 }
        #map_canvas { height: 100% }
      </style>
        <script type="text/javascript">
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAIbK8zw8fqY&sensor=false">
      </script>
      <script type="text/javascript">
        function initialize() {
        var mapOptions = {
          mapTypeId: google.maps.MapTypeId.ROADMAP
        };
        var map = new google.maps.Map(document.getElementById("map_canvas"), mapOptions);
        var georssLayer = new google.maps.KmlLayer('http://waterwatch.org.au/waterwatch_php/all_sites.php');
        georssLayer.setMap(map);
        }
      </script>
    </head>
    <body onload="initialize()">
      <div id="map_canvas" style="width:100%; height:100%"><div param="map" /></div>
    </body>
    </html>
</def> 
```

我收到错误“原始字符串中的非法字符 '&'”（maps.googleapis.com 链接中的参数分隔符。

如何在dryml中转义&字符？

# android - 在 Eclipse 中导入 FacebookSDK 和 Hackbook 示例代码时出现红色警报标志

> ID：14208577
> 
> 赞同：0
> 
> 时间：2013-01-08T05:13:26.637
> 
> 标签：android

我正在尝试在 Eclipse 中使用*facebook Hackbook 示例*应用程序，我已经通过使用本教程[https://developers.facebook.com/docs/getting-started/facebook-sdk-for-android/导入了 facebookSDK 和 hackbook 示例应用程序3.0/](https://developers.facebook.com/docs/getting-started/facebook-sdk-for-android/3.0/) **step 3**，但我在这两个地方都收到了**红色警报标志**（FacebookSDK 和 Hackbook），为什么？

因为我检查过：

> 我正在使用 Java 编译器 1.6
> 
> 在属性中获取 SDK 链接 - Android [Hackbook 示例]

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T05:21:25.330

一定是jar文件不匹配。首先从两者（Hackbook 和 FacebookSDK）中删除 android.jar。

然后按照以下步骤操作：

右键单击项目（HAckbook）-> Android 工具-> 添加支持库，然后再次右键单击项目（HAckbook）-> Android 工具-> 修复项目属性在 Facebook SDK 上执行相同操作。

并清理构建您的所有项目（Facebook SDK 和 Hackbook）。您完成了。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T05:23:09.357

清理并构建您的 FacebookSDK 和 Hackbook 项目，请按照以下步骤操作：

第1步

首先清理你的 FacebookSDK。

第2步

然后清理你的 Hackbook 项目。

第三步

然后运行它。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-05-02T06:00:34.303

我在添加支持时遇到了这个错误 l

> 获取 URL [https://dl-ssl.google.com/android/repository/repository-7.xml](https://dl-ssl.google.com/android/repository/repository-7.xml)失败，原因：IO Unknown Host dl-ssl.google.com Blockquote

# php - 如何根据给定时间自动重定向页面？我应该使用 javascript 吗？如何？

> ID：14208581
> 
> 赞同：0
> 
> 时间：2013-01-08T05:14:08.690
> 
> 标签：php, javascript, jquery

假设我有这个代码

```
$itemtoDisplayTime = $model->getItemTime()  // e.g 03:00pm
$currentTime = date('H:i'); //this is the system clock/time 
```

是否适合使用 javascript 来自动执行重定向过程而无需刷新页面？如果是这样，怎么办？

假设 $itemDisplayTime 现在等于 $currentTime ，如果可能的话，如何在 javascript 或 jquery 中使用这些变量

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-08T05:18:54.890

首先计算它应该重定向多少秒。然后在以下方法中使用秒。

对于您的情况，strtotime 可能会起作用。

```
$seconds = strtotime($itemtoDisplayTime) - time(); 
```

有几种重定向方法，

1.  `Refresh`从 PHP发送标头。

    ```
    header("Refresh: $seconds; url=$url"); 
    ```

2.  使用 Javascript

    ```
    window.setTimeout(function(){
        location.href="desired url";
    }, seconds*1000); 
    ```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T05:18:28.483

为什么要用javascript，什么时候可以用php来做，试试这个方法

```
if($itemDisplayTime==$currentTime)
header( "refresh:0;url=yourpage.php" ); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-08T05:23:35.600

根据您的目标，我会说有两种可能的解决方案。

如果您想刷新页面以执行数据库任务，如果您的主机支持，我建议您使用 cron-jobs。因为这样你就可以关闭你的计算机，而任务自己在服务器端运行，一个例子是：（时间在你的主机网站上选择）

```
php -q /home/path_to_file/your_link.php >/dev/null 2>&1 
```

如果这是出于其他目的，您将不得不使用 ajax；因为如果您使用 getItemTime 我认为它只会在页面首次加载时获取一次，您需要每隔几分钟继续调用一次以重新执行 java 函数并重新检查时间，但这会涉及很多更复杂的解决方案。如果您想尝试这种方式，请更彻底地解释您正在尝试执行的任务，以便我可以制作特定的代码。

# java - 如果我们有 Active MQ，为什么还需要 Mule？

> ID：14208590
> 
> 赞同：3
> 
> 时间：2013-01-08T05:15:13.323
> 
> 标签：java, jms

我在一个项目中担任软件工程师，该项目使用 ActiveMQ 和 Mule for Java 消息传递服务。但我有一个问题：既然 ActiveMQ 将所有消息传输到一个队列到另一个队列，为什么需要 Mule？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-08T05:25:27.427

![来自 Mule 文档](../Images/f258f29819e027f8a96b11d818e83224.png)

上图来自官方[Mule 3 用户手册](http://www.mulesoft.org/documentation/display/MULE3USER/Mule+Application+Architecture)

*以下是一个非常简单的概述，可让您大致了解。在不了解您的应用程序的具体细节的情况下，很难说出一切是如何协同工作的。*

Mule 不是消息代理，它是服务总线；它提供集成和通信服务。在基本形式中，它*可以充当消息代理*，但这只是任何集成层的副作用。

mule 的真正强大之处在于跨不同应用程序、系统和服务的各种集成点。提供安全、报告等。

ActiveMQ 只是一个消息代理——整个工作就是有效地提供一个消息总线。Mule 接受不同的请求，转换/翻译它们，记录它们，然后可以将它们作为其定义流的一部分发布到 ActiveMQ。

也可能是 ActiveMQ 充当稍后需要通过 Mule 处理的消息的队列（如上图所示）。

Mule 可以使用 ActiveMQ 作为消息源和目标。以这种方式使用 MQ 可以保证消息将被处理并且不会丢失。

# wcf - 具有自定义数据和事件侦听器的休眠会话

> ID：14208591
> 
> 赞同：0
> 
> 时间：2013-01-08T05:15:28.563
> 
> 标签：wcf, nhibernate, auditing, audit-trail

对于我正在处理的 WCF 项目，我需要为我们保留的实体实现某种审计日志。基本上，审计跟踪将包括 4 个必填字段

*   创建日期时间
*   创建用户ID
*   更新日期时间
*   更新用户 ID

我正在尝试通过我的 DataAccess 层中的 nHibernate 事件侦听器来实现这一点，因为我认为这不应该在域层中。到目前为止，我已经让 DateTime 的东西按预期工作，但还没有弄清楚如何在事件侦听器中检索用户 ID。理想情况下，我希望将用户 ID 作为某种自定义数据附加到 nHibernate 会话对象。

非常感谢任何建议。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T08:13:38.643

.Net 框架已经内置了对上下文用户身份信息的支持：Thread.CurrentPrincipal [http://msdn.microsoft.com/en-us/library/system.threading.thread.currentprincipal.aspx](http://msdn.microsoft.com/en-us/library/system.threading.thread.currentprincipal.aspx)

使用可用的 IPrincipal 实现之一或创建您自己的实现 - 这很容易。然后在一些“开始请求”方法中尽早设置属性。

在 ASP.NET 代码中还需要注意 HttpContext.User。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-08T12:38:27.737

这是我的做法，但我没有使用 WCF 执行此操作的经验。请注意，这需要引用 System.Web。

```
 /// <summary>
    ///   Returns the user name of the current user. Gets user name from HttpContext if running as a web app, else WindowsIdentity.
    /// </summary>
    private static string GetUserName()
    {
        var identity = HttpContext.Current == null ? WindowsIdentity.GetCurrent() : HttpContext.Current.User.Identity;
        if (identity == null)
        {
            throw new Exception("Identity could not be determined.");
        }
        // Remove domain name if present
        var s = identity.Name;
        var stop = s.IndexOf("\\", StringComparison.InvariantCultureIgnoreCase);
        return (stop > -1) ? s.Substring(stop + 1, s.Length - stop - 1).ToUpper() : s;
    } 
```

# joomla - 尝试在后端登录时，Joomla 中出现“500 - 发生错误”

> ID：14208594
> 
> 赞同：4
> 
> 时间：2013-01-08T05:15:54.853
> 
> 标签：joomla, backend, administration

当我尝试使用超级用户的正确登录名登录后端时，我收到一个错误页面“500 - 发生错误”。

我已通过 PhpMyAdmin 更改了超级用户密码，但错误仍然存​​在。

我已经安装了 Joomla 2.5。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-08T05:29:19.900

首先，您将以下文件夹的文件夹权限更改为 775：

缓存、日志、tmp 和管理员/缓存

然后转到：configuration.php

```
find code:
$log_path = 'XXXXXXXXXXXXX';
$tmp_path = 'XXXXXXXXXXXXX';

and change code into:
$log_path = './logs';
$tmp_path = './tmp'; 
```

# wpf - WPF - 用户控件内组合框的选定值未绑定

> ID：14208595
> 
> 赞同：1
> 
> 时间：2013-01-08T05:16:03.717
> 
> 标签：wpf, binding, user-controls

我有可重用的用户控件，其中包含一个文本块和一个组合框，如下所示：

```
<UserControl ....>
        <TextBlock DockPanel.Dock="Left" x:Name="label">Title:/TextBlock>
        <ComboBox x:Name="comboBox" ></ComboBox>
</UserControl> 
```

我在此控件后面的代码中创建了以下依赖项属性。

```
public partial class ctlCombobox : UserControl
    {

    public static readonly DependencyProperty DisplayMemberPathProperty = DependencyProperty.Register("DisplayMemberPath", typeof(string), typeof(ctlCombobox), new FrameworkPropertyMetadata() { BindsTwoWayByDefault = true }); 
    public static readonly DependencyProperty ItemsSourceProperty = DependencyProperty.Register("ItemsSource", typeof(IEnumerable), typeof(ctlCombobox), new FrameworkPropertyMetadata() { BindsTwoWayByDefault = true });          
    public static readonly DependencyProperty SelectedIndexProperty = DependencyProperty.Register("SelectedIndex", typeof(int), typeof(ctlCombobox), new FrameworkPropertyMetadata() { BindsTwoWayByDefault = true });
    public static readonly DependencyProperty SelectedItemProperty = DependencyProperty.Register("SelectedItem", typeof(object), typeof(ctlCombobox), new FrameworkPropertyMetadata() { BindsTwoWayByDefault = true });
    public static readonly DependencyProperty SelectedValuePathProperty = DependencyProperty.Register("SelectedValuePath", typeof(string), typeof(ctlCombobox), new FrameworkPropertyMetadata() { BindsTwoWayByDefault = true });
    public static readonly DependencyProperty SelectedValueProperty = DependencyProperty.Register("SelectedValue", typeof(object), typeof(ctlCombobox), new FrameworkPropertyMetadata(OnSelectedValueChanged) { BindsTwoWayByDefault = true });

    public ctlCombobox()

    {
        InitializeComponent();

        Binding selectedIndexBinding = new Binding("SelectedIndex") { Source = this, Mode = BindingMode.TwoWay };
        Binding itemsSourceItemBinding = new Binding("ItemsSource") { Source = this, Mode = BindingMode.TwoWay };
        Binding displayMemberPathBinding = new Binding("DisplayMemberPath") { Source = this, Mode = BindingMode.OneWay };
        Binding selectedItemBinding = new Binding("SelectedItem") { Source = this, Mode = BindingMode.TwoWay };
        Binding selectedValueBinding = new Binding("SelectedValue") { Source = this, Mode = BindingMode.TwoWay };
        Binding selectedValuePathBinding = new Binding("SelectedValuePath") { Source = this, Mode = BindingMode.TwoWay };

        comboBox.SetBinding(ComboBox.SelectedIndexProperty, selectedIndexBinding);
        comboBox.SetBinding(ComboBox.ItemsSourceProperty, itemsSourceItemBinding);
        comboBox.SetBinding(ComboBox.DisplayMemberPathProperty, displayMemberPathBinding);
        comboBox.SetBinding(ComboBox.SelectedItemProperty, selectedItemBinding);
        comboBox.SetBinding(ComboBox.SelectedValueProperty, selectedValueBinding);
        comboBox.SetBinding(ComboBox.SelectedValuePathProperty, selectedValuePathBinding);
    }

    public IEnumerable ItemsSource
    {
        get { return (IEnumerable)GetValue(ItemsSourceProperty); }
        set { SetValue(ItemsSourceProperty, value); }
    }

    [Browsable(true)]
    public int SelectedIndex
    {
        get { return (int)GetValue(SelectedIndexProperty); }
        set { SetValue(SelectedIndexProperty, value); }
    }

    [Browsable(true)]
    public object SelectedItem
    {
        get { return (object)GetValue(SelectedItemProperty); }
        set { SetValue(SelectedItemProperty, value); }
    }

    [Browsable(true)]
    public object SelectedValue
    {
        get { return (object)GetValue(SelectedValueProperty); }
        set { SetValue(SelectedValueProperty, value); }
    }

    [Browsable(true)]
    public string SelectedValuePath
    {
        get { return (string)GetValue(SelectedValuePathProperty); }
        set { SetValue(SelectedValuePathProperty, value); }
    } 
```

}

我在我的主控件中引用了上面的控件，如下所示：

```
<UserControl Name="mainControl" ...>   
    <DataGrid Name="lvEmployee" ItemsSource="{Binding Path=Employees, Mode=TwoWay}"  
        <DataGrid.RowDetailsTemplate>
            <DataTemplate>                    
               <cc:ctlCombobox x:Name="cmbEmployeeType" 
                 ItemsSource="{Binding Source={x:Reference mainControl}, Path=DataContext.EmployeeTypes}"          
                 DisplayMemberPath="Name" SelectedValuePath="Id"   SelectedValue="{Binding   
                 Path=EmployeeTypeId}"  ">
               </cc:ctlCombobox>
         </DataTemplate>
        </DataGrid.RowDetailsTemplate>
  </DataGrid> 
```

我正在使用 MVVM 模式。我正在尝试实现 cmbEmployeeType 以查找所有可能的员工类型。此外，当显示员工时，我希望 cmbEmployeeType 选择适当的员工类型。目前，当加载主控件时，填充 cmbEmployeeType 组合框，但在组合框中没有选择任何内容。我已将组合框绑定到员工的员工类型 ID。包含显示员工名字和姓氏的文本框的用户控件工作正常。输出中没有绑定错误。此外，当我使用普通组合框而不是在用户控件中使用我的组合框时，也没有问题。感谢您的回复。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-12T23:00:10.330

我在解决这个问题时遇到了问题，但可以在[此处找到解决方案](http://social.msdn.microsoft.com/Forums/en-US/wpf/thread/c6de76e6-a83e-482e-88da-70a360ecfb9a)

# android - 相对布局中的表格布局加权按钮

> ID：14208599
> 
> 赞同：1
> 
> 时间：2013-01-08T05:16:24.393
> 
> 标签：android, xml, android-layout, android-layout-weight

我有一个带有 4 个按钮网格的权重的表格布局。问题是我在表格中的相对布局中的按钮格式不正确。如果我将高度设置为包装内容，结果是这样的：

[![](../Images/ccc07fc58dc628c905fb4eaf1dc93672.png)](https://i.stack.imgur.com/qRUT2.png)

如果我将其设置为 fill_parent：

[![](../Images/eb7eddcaeb275bbd4756a2622d39c3e5.png)](https://i.stack.imgur.com/9Z8Au.png)

我无法让按钮正确填充其高度重量。如果我取出相对布局，它可以正常工作。我尝试将两者放在单独的线性布局中无济于事。

这是我的代码：

```
 <TableLayout
            android:id="@+id/tableLayout"
            android:layout_width="fill_parent"
            android:layout_height="fill_parent"
            android:layout_below="@+id/linearLayout"
            android:layout_margin="10dp"
            android:weightSum="2" >

            <TableRow
                android:layout_width="fill_parent"
                android:layout_height="fill_parent"
                android:layout_weight="1"
                android:minHeight="100dp" >

                <Button
                    android:id="@+id/searchBtn"
                    android:layout_width="0dp"
                    android:layout_height="fill_parent"
                    android:layout_weight=".5"
                    android:background="@drawable/yellow_btn"
                    android:minHeight="100dp"
                    android:text="Search"
                    android:textColor="#1d357d"
                    android:textSize="20dp"
                    android:textStyle="bold" />

                <RelativeLayout
                    android:layout_width="0dp"
                    android:layout_height="fill_parent"
                    android:layout_weight=".5"
                    android:minHeight="100dp" >

                    <Button
                        android:id="@+id/savedBtn"
                        android:layout_width="fill_parent"
                        android:layout_height="wrap_content"
                        android:background="@drawable/yellowds"
                        android:minHeight="100dp"
                        android:text="Saved Searches"
                        android:textColor="#1d357d"
                        android:textSize="20dp"
                        android:textStyle="bold" />

                    <TextView
                        android:id="@+id/newItemsOverlay"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:layout_alignLeft="@+id/savedBtn"
                        android:layout_alignTop="@+id/savedBtn"
                        android:background="@drawable/badge_circle"
                        android:text="10"
                        android:textColor="#FFF"
                        android:textSize="16sp"
                        android:textStyle="bold" />
                </RelativeLayout>
            </TableRow>

            <TableRow
                android:layout_width="fill_parent"
                android:layout_height="fill_parent"
                android:layout_marginTop="30dip"
                android:layout_weight="1"
                android:minHeight="100dp" >

                <Button
                    android:id="@+id/checkNowBtn"
                    android:layout_width="0dp"
                    android:layout_height="fill_parent"
                    android:layout_weight=".5"
                    android:background="@drawable/yellowds"
                    android:minHeight="100dp"
                    android:text="Check Now"
                    android:textColor="#1d357d"
                    android:textSize="20dp"
                    android:textStyle="bold" />

                <Button
                    android:id="@+id/settingsBtn"
                    android:layout_width="0dp"
                    android:layout_height="fill_parent"
                    android:layout_weight=".5"
                    android:background="@drawable/yellowds"
                    android:minHeight="100dp"
                    android:text="Settings"
                    android:textColor="#1d357d"
                    android:textSize="20dp"
                    android:textStyle="bold" />
            </TableRow>
        </TableLayout> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-08T05:47:17.640

试试这个：

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content" >

    <LinearLayout
        android:id="@+id/linearLayout"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content" >
    </LinearLayout>

    <TableLayout
        android:id="@+id/tableLayout"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:layout_below="@+id/linearLayout"
        android:layout_margin="10dp"
        android:weightSum="2" >

        <TableRow
            android:layout_width="fill_parent"
            android:layout_height="fill_parent"
            android:layout_weight="1"
            android:minHeight="100dp" >

            <RelativeLayout
                android:layout_width="0dp"
                android:layout_height="fill_parent"
                android:layout_weight=".5" >

                <Button
                    android:id="@+id/searchBtn"
                    android:layout_width="fill_parent"
                    android:layout_height="fill_parent"
                    android:background="#cccccc"
                    android:minHeight="100dp"
                    android:text="Search"
                    android:textColor="#1d357d"
                    android:textSize="20dp"
                    android:textStyle="bold" />
            </RelativeLayout>

            <RelativeLayout
                android:layout_width="0dp"
                android:layout_height="fill_parent"
                android:layout_weight=".5" >

                <Button
                    android:id="@+id/savedBtn"
                    android:layout_width="fill_parent"
                    android:layout_height="fill_parent"
                    android:background="#cccccc"
                    android:minHeight="100dp"
                    android:text="Saved Searches"
                    android:textColor="#1d357d"
                    android:textSize="20dp"
                    android:textStyle="bold" />

                <TextView
                    android:id="@+id/newItemsOverlay"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_alignLeft="@+id/savedBtn"
                    android:layout_alignTop="@+id/savedBtn"
                    android:background="#ff0000"
                    android:text="10"
                    android:textColor="#FFF"
                    android:textSize="16sp"
                    android:textStyle="bold" />
            </RelativeLayout>
        </TableRow>

        <TableRow
            android:layout_width="fill_parent"
            android:layout_height="fill_parent"
            android:layout_marginTop="30dip"
            android:layout_weight="1"
            android:minHeight="100dp" >

            <RelativeLayout
                android:layout_width="0dp"
                android:layout_height="fill_parent"
                android:layout_weight=".5" >

                <Button
                    android:id="@+id/checkNowBtn"
                    android:layout_width="fill_parent"
                    android:layout_height="fill_parent"
                    android:background="#cccccc"
                    android:minHeight="100dp"
                    android:text="Check Now"
                    android:textColor="#1d357d"
                    android:textSize="20dp"
                    android:textStyle="bold" />
            </RelativeLayout>

            <RelativeLayout
                android:layout_width="0dp"
                android:layout_height="fill_parent"
                android:layout_weight=".5" >

                <Button
                    android:id="@+id/settingsBtn"
                    android:layout_width="fill_parent"
                    android:layout_height="fill_parent"
                    android:background="#cccccc"
                    android:minHeight="100dp"
                    android:text="Settings"
                    android:textColor="#1d357d"
                    android:textSize="20dp"
                    android:textStyle="bold" />
            </RelativeLayout>
        </TableRow>
    </TableLayout>

</RelativeLayout> 
```

这将解决您的问题。

谢谢。

# powershell - 使用 powershell 导出/导入 LDAP Ldif 文件

> ID：14208601
> 
> 赞同：0
> 
> 时间：2013-01-08T05:16:23.950
> 
> 标签：powershell, active-directory

我可以使用此格式从 Active Directory 或 Exchange 导出或导入联系人吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T07:59:26.320

对此没有特殊的 cmdlet，但您可以从 PowerShell 中运行传统工具 ldifde。

# jquery - Twitter bootstrap 手风琴没有崩溃

> ID：14208604
> 
> 赞同：3
> 
> 时间：2013-01-08T05:16:35.510
> 
> 标签：jquery, json, twitter-bootstrap, knockout.js

我的 Bootstrap Accordion 没有崩溃。它填充了 JSON（标题和内容），我使用 Knockout 来执行此操作。但由于某种原因，它似乎并没有倒塌，甚至没有像手风琴一样发挥作用。这是我的代码：

```
 var data = {
        "d": [
    {
        "__type": "Warehouse.Tracntrace.Members_Only.DLL.StockMovement.AvailibleStock",
        "WarehouseID": 1,
        "ProductSKUID": 1,
        "ProductSKUName": "Decoder 1132",
        "WarehouseName": "SoftwareDevelopmentTest",
        "Status": "Staging",
        "QtyUnassigned": 10
    },
    {
        "__type": "Warehouse.Tracntrace.Members_Only.DLL.StockMovement.AvailibleStock",
        "WarehouseID": 1,
        "ProductSKUID": 2,
        "ProductSKUName": "Decoder 1131",
        "WarehouseName": "SoftwareDevelopmentTest",
        "Status": "Staging",
        "QtyUnassigned": 5
    }
]
    };

    var data2 = {
        "d": [
    {
        "__type": "Warehouse.Tracntrace.Members_Only.DLL.StockMovement.StockReturnMethod",
        "WarehouseID": 1,
        "ProductSKUID": 2,
        "LotID": 2,
        "LotName": "TestLot2",
        "AreaID": 8,
        "AreaName": "TestArea3L2",
        "BinID": 18,
        "BinName": "Area8Bin2"
    },
    {
        "__type": "Warehouse.Tracntrace.Members_Only.DLL.StockMovement.StockReturnMethod",
        "WarehouseID": 1,
        "ProductSKUID": 2,
        "LotID": 3,
        "LotName": "TestLot3",
        "AreaID": 11,
        "AreaName": "TestArea2L3",
        "BinID": 20,
        "BinName": "Area10Bin1"
    },
    {
        "__type": "Warehouse.Tracntrace.Members_Only.DLL.StockMovement.StockReturnMethod",
        "WarehouseID": 1,
        "ProductSKUID": 2,
        "LotID": 4,
        "LotName": "TestLot4",
        "AreaID": 15,
        "AreaName": "TestArea2L4",
        "BinID": 24,
        "BinName": "Area14Bin1"
    },
     {
         "__type": "Warehouse.Tracntrace.Members_Only.DLL.StockMovement.StockReturnMethod",
         "WarehouseID": 1,
         "ProductSKUID": 1,
         "LotID": 2,
         "LotName": "TestLot2",
         "AreaID": 8,
         "AreaName": "TestArea3L2",
         "BinID": 18,
         "BinName": "Area8Bin2"
     },
    {
        "__type": "Warehouse.Tracntrace.Members_Only.DLL.StockMovement.StockReturnMethod",
        "WarehouseID": 1,
        "ProductSKUID": 1,
        "LotID": 3,
        "LotName": "TestLot3",
        "AreaID": 11,
        "AreaName": "TestArea2L3",
        "BinID": 20,
        "BinName": "Area10Bin1"
    },
    {
        "__type": "Warehouse.Tracntrace.Members_Only.DLL.StockMovement.StockReturnMethod",
        "WarehouseID": 1,
        "ProductSKUID": 1,
        "LotID": 4,
        "LotName": "TestLot4",
        "AreaID": 15,
        "AreaName": "TestArea2L4",
        "BinID": 24,
        "BinName": "Area14Bin1"
    }
]
    };

    var ProductViewmodel;
    //debugger; 

    //Binds ViewModel
    function bindProductModel(Products) {
        var self = this;
        self.items = ko.mapping.fromJS([]);
        ProductViewmodel = ko.mapping.fromJS(Products.d, self.items);
        console.log(ProductViewmodel());
    }

    //Binds First DataSet
    function bindModel(vm, data) {
        var self = this;
        vm.Locations = ko.mapping.fromJS(data.d);
        console.log(ProductViewmodel());
        $('#accordion2').collapse({
            toggle: false
        })
       }

    //Starting Function
    $(document).ready(function () {
        bindProductModel(data);
        bindModel(ProductViewmodel()[0], data2);
        ko.applyBindings(ProductViewmodel);
    }) 
```

这是HTML：

```
<div class="accordion" id="accordion2" data-bind="foreach: items">
    <div class="accordion-group">
        <div class="accordion-heading">
            <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion"
                href="#" data-bind="text: ProductSKUName"></a>
        </div>
        <div id="collapseOne" class="accordion-body collapse in">
            <div class="accordion-inner">
                <div id="injectbody">
                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th>
                                    #
                                </th>
                                <th>
                                    Lot
                                </th>
                                <th>
                                    Area
                                </th>
                                <th>
                                    Bin
                                </th>
                                <th>
                                    Qty To Assign
                                </th>
                            </tr>
                        </thead>
                        <tbody data-bind="foreach: Locations">
                            <tr>
                                <td id="Assign">
                                    <input type="checkbox" />
                                </td>
                                <td id="Lot" data-bind="text: LotName">
                                </td>
                                <td id="Area" data-bind="text: AreaName">
                                </td>
                                <td id="Bin" data-bind="text: BinName">
                                </td>
                                <td id="QtyToAssign">
                                    <input type="text" />
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div> 
```

对此的任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-08T09:09:40.510

您可以仅通过使用`data-`属性来使用所有 Bootstrap 插件，而无需编写一行 JavaScript。

所以你可以`$('#accordion2').collapse()`从你的javascript中删除调用。

但是，您必须确保使用/生成正确的 `data-`属性，因此需要在 HTML 中更改一些内容：

`data-parent="#accordion"`应该是`data-parent="#accordion2"`因为您在主`id="accordion2"`div 中有。

你的手风琴体应该有**唯一的 id**，所以你需要使用敲除 $index() 来生成它们：

```
<div data-bind="attr: {id: 'collapse'+$index()}" class="accordion-body collapse"> 
```

您必须在折叠链接上指定一个带有`data-target`属性的 css 选择器，以告知应该折叠哪个元素：

```
<a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion2"
   href="#" data-bind="text: ProductSKUName, 
                       attr: {'data-target': '#collapse'+$index() }"></a> 
```

演示[JSFiddle](http://jsfiddle.net/pJXzg/2/)。

请注意，我已从`in`示例中的行中删除了该类：

```
<div id="collapseOne" class="accordion-body collapse in"> 
```

因为否则默认情况下两个手风琴部分都将打开。

# android - 如何禁用对手机应用程序的支持并仅对平板电脑启用它

> ID：14208606
> 
> 赞同：0
> 
> 时间：2013-01-08T05:16:52.780
> 
> 标签：android, multiple-apk

如何禁用对手机应用程序的支持并仅对平板电脑启用它。我想关注多个 apk 文件的支持。我还想知道平板电脑的资源文件夹名称应该是什么。现在，我有用于存储图像的 drawable-large 和用于平板电脑的 layout-sw600dp 和 layout-sw720dp。

是这些配置吗？正确的？

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-08T05:20:35.310

请尝试以下代码：

```
<supports-screens
    android:largeScreens="true"
    android:normalScreens="false"
    android:requiresSmallestWidthDp="600"
    android:smallScreens="false"
    android:xlargeScreens="true" />

<uses-sdk
android:minSdkVersion="11"
android:targetSdkVersion="14" /> 
```

更多阅读[这个。](https://stackoverflow.com/questions/10540646/designing-an-android-tablet-only-app)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-08T05:21:12.927

```
<supports-screens android:resizeable=["true"| "false"]
              android:smallScreens=["true" | "false"]
              android:normalScreens=["true" | "false"]
              android:largeScreens=["true" | "false"]
              android:xlargeScreens=["true" | "false"]
              android:anyDensity=["true" | "false"]
              android:requiresSmallestWidthDp="integer"
              android:compatibleWidthLimitDp="integer"
              android:largestWidthLimitDp="integer"/> 
```

您可以在 Meanifeast 文件中定义此支持屏幕标签.. 在那里您可以定义合适的屏幕尺寸

并参考[http://developer.android.com/guide/topics/manifest/supports-screens-element.html](http://developer.android.com/guide/topics/manifest/supports-screens-element.html)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-08T05:21:43.277

您可以在清单文件中使用支持屏幕的过滤器来允许这样做 这可以帮助您过滤并仅在平板电脑上运行

```
<supports-screens
    android:largeScreens="true"
    android:normalScreens="false"
    android:requiresSmallestWidthDp="720"
    android:smallScreens="false"
    android:xlargeScreens="true" /> 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-08T05:23:48.750

要仅过滤运行 ICS 的选项卡，请在您的 AndroidManifest 中添加如下内容：

```
<supports-screens
        android:largeScreens="true"
        android:normalScreens="false"
        android:requiresSmallestWidthDp="600"
        android:smallScreens="false"
        android:xlargeScreens="true" />

 <uses-sdk
    android:minSdkVersion="14"
    android:targetSdkVersion="14" /> 
```

要获得 HoneyComb 平板电脑，您只需更改您的 minSdk

```
 <uses-sdk
    android:minSdkVersion="11"
    android:targetSdkVersion="14" /> 
```

将支持蜂窝及更高版本。对于将布局文件/drawables 放置在 etc 中的特定文件夹，请查看：

[http://developer.android.com/guide/practices/screens_support.html](http://developer.android.com/guide/practices/screens_support.html)

# c# - 获取文件中的数据

> ID：14208607
> 
> 赞同：2
> 
> 时间：2013-01-08T05:16:57.623
> 
> 标签：c#, xml

好的，这里是愚蠢的问题，但我只是从 xml 开始。

```
<fifth points = '500' answer = 'Ada Lovelace'>
    This woman, known as the world's first computer programmer
    was also a Countess.
</fifth> 
```

在 Ada Lovelace 之后，我究竟如何获得数据？我知道第五个是节点，点和答案是属性。我必须抓住什么才能获得所需的数据？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T05:22:42.303

您可能正在寻找类似的东西：

```
node.InnerText 
```

要了解如何在 C# 中解析节点 XML，请阅读[http://www.csharp-examples.net/xml-nodes-by-name/](http://www.csharp-examples.net/xml-nodes-by-name/)。这篇文章[http://www.codeproject.com/Articles/7718/Using-XML-in-C-in-the-simplest-way](http://www.codeproject.com/Articles/7718/Using-XML-in-C-in-the-simplest-way)也可能有帮助，因为它提供了一些解析 XML 的最简单方法在 C# 中。

您可以简单地使用节点名称索引 XmlNode：xmlNode["FirstName"].InnerText。请参见下面的示例。

```
XmlDocument xml = new XmlDocument();
// suppose that myXmlString contains "<Names>...</Names>":
xml.LoadXml(myXmlString); 

XmlNodeList xnList = xml.SelectNodes("/Names/Name");
foreach (XmlNode xn in xnList)
{
  string firstName = xn["FirstName"].InnerText;
  string lastName = xn["LastName"].InnerText;
  Console.WriteLine("Name: {0} {1}", firstName, lastName);
} 
```

输出是：

> 姓名：约翰·史密斯姓名：詹姆斯·怀特

**编辑：**重要的是要注意 DJ KRAZE 和 Jeremy Thompson 也启发了我的回答。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-08T05:25:10.173

这是您可以尝试和测试的内容，以帮助您了解如何访问 node.InnerText

```
var testDoc =
    @"<fifth points = '500' answer = 'Ada Lovelace'>"
       +  "This woman, known as the world's first computer programmer "
       +  "was also a Countess."
       + "</fifth>";
XmlDocument docXML = new XmlDocument();
docXML.LoadXml(testDoc);
var innerxml = docXML.InnerText;
MessageBox.Show(innerxml); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-08T07:18:16.040

您可以使用[Linq to Xml](http://msdn.microsoft.com/en-us/library/bb387098.aspx)。如果这是一个完整的 xml，您需要解析：

```
var xml = "<fifth points='500' answer='Ada Lovelace'>This woman, known as the world's first computer programmer was also a Countess.</fifth>";
XElement element = XElement.Parse(xml);
string text = (string)element; // takes element's innerText 
```

如果您需要通过 answer 属性值从 xml 文件中选择此元素：

```
XDocument xdoc = XDocument.Load(path_to_xml_file);
string text = xdoc.Descendants("fifth")
                  .Where(e => (string)e.Attribute("answer") == "Ada Lovelace")
                  .Select(e => (string)e)
                  .FirstOrDefault(); // returns first matched element or null 
```

# java - 从运行时环境中运行批处理文件

> ID：14208613
> 
> 赞同：1
> 
> 时间：2013-01-08T05:17:24.387
> 
> 标签：java, windows, batch-file, runtime, environment-variables

是否可以在 windows 下运行批处理文件，就好像它是从运行 java 实例的同一个 shell 运行一样（而不是[在新的控制台实例中](https://stackoverflow.com/questions/615948/how-do-i-run-a-batch-file-from-my-java-application)）？

我想运行一个由第三方提供的批处理文件，并有条件地设置了一堆环境变量，我宁愿*不必*翻译成 Java，但 Java 应用程序中的某些东西需要它才能工作.

我知道另一种方法是在运行 Jar 之前在命令提示符下手动运行批处理文件以获得相同的效果，但在这种情况下，需要大量输入或大量自定义批处理文件。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-08T08:01:18.390

简短的回答：没有。

当您声明“从运行 java 实例的同一 shell 运行”时，您似乎暗示 shell 和 java 在某个公共/共享级别共存。相反，它们的关系是分层的：shell 是父进程，它启动 java 作为子进程。

进程（例如批处理）对环境所做的任何更改是：

*   对该过程可见，并且
*   对子进程可见，但
*   永远不要到父进程。

批处理文件从命令提示符执行时会导致当前环境立即更改的原因是命令 shell (cmd.exe) 旨在“就地”处理批处理文件 - 无需启动新进程 [在 unix 下， shell会“获取”一个脚本文件来做同样的事情]。

Java，不是“cmd.exe”，不会这样做。正如您所指出的，从 java 运行批处理文件将创建一个新的命令处理器作为子进程，它在完成时对 java 环境没有影响。

选项包括：

1.  将批处理文件写入
    *   调用你的另一个批处理文件，然后
    *   启动你的java进程，或者
2.  通过您的 java 程序解析批处理文件。如果您“强制”您的“批处理文件”的唯一有效内容是“X=Y”形式的简单赋值语句，那么这并不太难——您实际上可以将它作为[属性文件](http://docs.oracle.com/javase/6/docs/api/java/util/Properties.html)加载。

# c++ - C++ getkey() 和 kbhit() 作用于错误的窗口

> ID：14208615
> 
> 赞同：0
> 
> 时间：2013-01-08T05:17:30.580
> 
> 标签：c++, windows, keyboard

我正在编写一个 microsoft windows 程序，它在控制台窗口中启动，然后生成一个单独的 gui 窗口来进行一些 directx 渲染。

我试图在焦点位于 directx 窗口时获取键盘字符，但是当我键入字符时，getkey 没有注册我击中任何东西。经过一番折腾，我发现如果在 Directx 窗口中按下某个键后将焦点切换到控制台窗口，我的程序会记录键盘击中。我是否需要对directx 窗口进行一些特殊的初始化才能捕获键盘点击？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T05:24:14.810

我怀疑 kbhit 只在控制台（stdin）上收听。

调用[GetKeyboardState](http://msdn.microsoft.com/en-us/library/ms646299%28VS.85%29.aspx) API 来轮询键盘状态（在每一帧上），而不是使用您引用的那些其他函数。这可能是您想要的并且可以正常工作。这是我们在游戏工作室工作时使用的。

如果您想要更多的事件驱动而不是轮询，并且您有一个消息泵（GetMessage/DispatchMessage 循环），则可以在 DirectX 窗口的窗口句柄（hwnd）上侦听[WM_CHAR](http://msdn.microsoft.com/en-us/library/aa932721.aspx)、[WM_KEYDOWN](http://msdn.microsoft.com/en-us/library/ms646280%28v=VS.85%29.aspx)和[WM_KEYUP的某种组合。](http://msdn.microsoft.com/en-us/library/ms646280%28v=VS.85%29.aspx)

如果您需要焦点增益/丢失检测，请查找[WM_SETFOCUS](http://msdn.microsoft.com/en-us/library/ms646283%28v=vs.85%29.aspx) / [WM_KILLFOCUS](http://msdn.microsoft.com/en-us/library/ms646282%28v=vs.85%29.aspx)或仅使用[GetFocus](http://msdn.microsoft.com/en-us/library/ms646294%28v=vs.85%29.aspx) ()。

# apache-pig - 通过模式匹配加入 Pig

> ID：14208618
> 
> 赞同：0
> 
> 时间：2013-01-08T05:17:39.643
> 
> 标签：apache-pig

我有 2 个文件 file1 和 file2。

file1的内容是：aa bb cc

file2的内容是：aab f2 f3 zzx f2 f3 bbc f2 f3

我想使用 Pig 加入 file1（在字段 1）和 file2（在字段 1），输出为：aa aab f2 f3 bb bbc f2 f3

基本上，匹配必须类似于 aa*、bb*、cc* 等。

关于如何去做的任何想法？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-08T17:42:01.113

最简单的解决方案是使用`CROSS`运算符后跟一个`FILTER`.

```
input1 = LOAD 'file1' AS (f1:chararray, f2, f3);
input2 = LOAD 'file2' AS (f1:chararray, f2, f3);

crossed = CROSS input1, input2;
filtered = FILTER crossed BY INDEXOF(input2::f1, input1::f1) == 0; 
```

`INDEXOF`是一个内置的 UDF，它在第一个字符串中搜索第二个字符串并返回第一次出现的索引，如果没有出现，则返回 -1。由于您希望第二个字符串以第一个字符串开头，因此您正在寻找 0 的索引。

请参阅优秀书籍 Programming Pig的[“Advanced Pig Latin”](http://ofps.oreilly.com/titles/9781449302641/advanced_pig_latin.html)章节的“Cross”部分。特别注意有关`CROSS`生成大量数据的警告。如果您有大量输入，您可能希望制定一种特定于应用程序的方式来构建连接键，这样您就不需要模糊匹配。

# php - 找不到php命名空间类

> ID：14208619
> 
> 赞同：1
> 
> 时间：2013-01-08T05:17:42.750
> 
> 标签：php, namespaces

Version_DefaultComponentForm.php

```
namespace ComponentManagement\Form;
class Version_DefaultComponentForm extends VersionForm {
    public function __construct($name = null) { 
```

组件管理控制器.php

```
namespace ComponentManagement\Controller;

use Zend\Mvc\Controller\AbstractActionController;
use ComponentManagement\Form;
use ComponentManagement\Model\Component;

    class ComponentManagementController extends AbstractActionController {
        protected $albumTable;
        public function indexAction() {
            $componentForm = new Form\ComponentForm();
            $versionForm = new Form\VersionForm();
            $version_DefaultComponentForm = new Form\Version_DefaultComponentForm(); 
```

我收到了这个错误：

> 致命错误：第 15 行的 D:\WEB\xampp\htdocs_zend\module\ComponentManagement\src\ComponentManagement\Controller\ComponentManagementController.php 中找不到类 'ComponentManagement\Form\Version_DefaultComponentForm'

自己找不到任何错误...谁能告诉我为什么？使用 php 5.4.7 和 zend 2.0

不知道为什么，但它现在可以正常工作。

```
namespace ComponentManagement\Controller;

use Zend\Mvc\Controller\AbstractActionController;
use ComponentManagement\Form;
use ComponentManagement\Model\Component;

class ComponentManagementController extends AbstractActionController {

    public function indexAction() {
        $componentForm = new Form\ComponentForm();
        $versionForm = new Form\VersionForm();

        $request = $this->getRequest();
        if ($request->isPost()) {
            $component = new Component();
            $componentForm->setInputFilter($component->getInputFilter());
            $componentForm->setData($request->getPost());

            if ($componentForm->isValid()) {

            }
        }
        return array('forms' => array(
                'ComponentForm' => $componentForm,
                'VersionForm' => $versionForm,
            )
        );
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-09T02:33:53.080

[http://framework.zend.com/manual/2.0/en/modules/zend.loader.standard-autoloader.html](http://framework.zend.com/manual/2.0/en/modules/zend.loader.standard-autoloader.html)

> Zend\Loader\StandardAutoloader 被设计为符合 PSR-0 的自动加载器。它假设命名空间+类名到文件系统的 1:1 映射，其中命名空间分隔符和下划线被转换为目录分隔符。:P

# java - 使用 Eclipse Link 在 JPA 中映射 Joda Time“期间”的注释

> ID：14208624
> 
> 赞同：5
> 
> 时间：2013-01-08T05:18:04.383
> 
> 标签：java, mysql, jpa, jodatime, period

我有一个字段 -`expiryLimit`在我的`Item`实体中，我想使用*joda-time* `Period`这将是在这里使用的合适类型。

只是为了解释一下 -`expiryLimit`是年数*、*月*数*、*天数*或任何持续时间，在此之后特定*项目*将过期并且我可以使用它来计算给定 a的确切`expiryDate`值。`Item``deliveryDate`

现在我面临的问题是找到一种适当的方法将这种类型映射到`JPA`.

是否有任何可用的*API*或*3rd 方库*提供一些注释来做到这一点？我还使用*Eclipse Link* `@Converter`注释`DateTime`与*MySQL* `TimeStamp`进行映射。那么，我是否也需要做同样的事情`Period`。如果是，那么我应该将它转换为什么类型。到`varchar`？还是去`Long`？或其他适合表示 a 的类型`Period`。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-08T11:43:15.197

好的，最后我只使用*EclipseLink* `@Converter`解决了这个问题。我就是这样做的。我也欢迎任何关于这种方式的评论：-

## ItemMaster 实体：-

```
public class ItemMaster {
    @Converter(
        name="periodConverter",
        converterClass = com.joda.converter.PeriodConverter.class
    )
    @Convert("periodConverter")
    @Column(name = "expiry_limit", length = 2000)
    private Period expiryLimit;

    /** Constructors **/

    public Period getExpiryLimit() {
        return expiryLimit;
    }

    public void setExpiryLimit(Period expiryLimit) {
        this.expiryLimit = expiryLimit;
    }
} 
```

## PeriodConverter.class: -

```
public class PeriodConverter implements Converter {

    private Logger log;
    private static final long serialVersionUID = 1L;

    @Override
    public Object convertDataValueToObjectValue(Object str, Session session) {
        if (str == null) {
            log.info("convertDataValueToObjectValue returning null");
            return null;
        }
        return new Period(str);

    }

    @Override
    public Object convertObjectValueToDataValue(Object period, Session session) {
        /** str format should be: - `PyYmMwWdDThHmMsS` **/
        if (period == null) {
            log.info("convertObjectValueToDataValue returning null");
            return null;
        }
        return period.toString();
    }

    @Override
    public void initialize(DatabaseMapping mapping, Session session) {
        log = Logger.getLogger("com.joda.converter.PeriodConverter");
        ((AbstractDirectMapping) mapping).setFieldType(java.sql.Types.VARCHAR);
    }

    @Override
    public boolean isMutable() {
        return true;
    }
} 
```

# python - 如何将函数分配给变量然后在python中使用参数调用

> ID：14208625
> 
> 赞同：1
> 
> 时间：2013-01-08T05:18:04.853
> 
> 标签：python

我正在将一个函数分配给一个变量，如下所示：

```
def hello(name):
    print "Hello %r \n" % name

king = hello
print "%r, King of Geeks" % king("Arthur") 
```

在终端中它返回：

你好'亚瑟'
无，极客之王

是什么赋予了？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-01-08T05:19:25.543

`hello()`正在打印一些东西，但返回 None。（所有函数`None`默认返回，除非你明确指出`return`）

```
>>> result = hello('test')
Hello 'test' 

>>> print result
None 
```

如果您`hello()`返回文本，而不是打印它，您将得到预期的结果：

```
def hello(name):
    return "Hello %r \n" % name

king = hello
print "%r, King of Geeks" % king("Arthur") 
```

> “你好'亚瑟'\n”，极客之王

我建议使用[New String Formatting](http://www.python.org/dev/peps/pep-3101/)而不是`%`：

```
print "{}, King of Geeks".format(king("Arthur")) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-08T05:21:47.647

您的`hello`函数正在`print`创建它创建的字符串，而不是返回它。

然后，您尝试将调用函数的返回值替换为另一个字符串。

因为您的`hello`函数不返回任何内容，所以它实际上返回`None`，因此为什么要替换它。只需将 a 更改`print`为`return`您的`hello`函数内部，事情就会按预期工作。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-08T05:22:33.740

您正在打印调用的*结果*`king("Arthur")`，`None`因为它不返回值。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-08T05:24:13.353

这也有效

```
def hello(name):
  print("hello, %s" % name)

king = hello
king("arthur") 
```

输出

```
hello, arthur 
```

# jdbc - 在连接到 MSSQL 期间在 iReport 中出现网络错误 IOException

> ID：14208629
> 
> 赞同：0
> 
> 时间：2013-01-08T05:18:20.030
> 
> 标签：jdbc, jasper-reports

*在Ubuntu上的**iReport*设计器中连接到*MSSQL*服务器时出现错误。 **![检查错误截图](../Images/c6cd30ccf97c840426b08067fc13f39f.png)**

 **```
JDBC driver: jtds.JDBC 
```

有什么我错过的吗？

> 例外
> 
> 消息：java.sql.SQLException：网络错误 IOException：来自 SOCKS 服务器的错误回复级别：严重堆栈跟踪：网络错误 IOException：来自 SOCKS 服务器 net.sourceforge.jtds.jdbc.ConnectionJDBC2.（ConnectionJDBC2.java:410）的错误回复 net .sourceforge.jtds.jdbc.ConnectionJDBC3.(ConnectionJDBC3.java:50) net.sourceforge.jtds.jdbc.Driver.connect(Driver.java:184) com.jaspersoft.ireport.designer.connection.JDBCConnection.getConnection(JDBCConnection. java:140) com.jaspersoft.ireport.designer.connection.JDBCConnection.test(JDBCConnection.java:447)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T05:25:47.017

回答我自己的问题，代理连接的问题，没有代理它工作正常**

# r - 使用方程 y_(t 1)=ay_t + bx_t 更快地生成 a, b, y_0 和 x_t

> ID：14208631
> 
> 赞同：-3
> 
> 时间：2013-01-08T05:18:39.673
> 
> 标签：r

R中最快的递归方程：

在 R中使用公式`y(t+1)=a*y(t)+b*x(t)`、`a`、和给定的生成数据的最快方法是什么？`b``y_0``x_t`

例子：

```
a=3;b=2;y_0=1
x_t=1:10 
y_t=matrix(rep(0,11),ncol=11) 
y_t[1]=y_0 
tt<-2 
while (tt<=11) { 
   y_t[tt]<-a*y_t[tt-1]+b*x_t[tt-1] 
   tt<-tt+1 
} 
y_t 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T16:45:02.287

我通过解决递归想出了一个答案：

```
## y(1)=y0
## y(2) = a*y(1)+b*x(1) = 5
## y(3) = a^2*y(1)+a*b*x(1)+b*x(2) = 9 + 6 + 4
## y(4) = a^3*y(1)+a^2*b*x(1)+a*b*x(2)+b*x(3)

f_recurse <- function(a=3,b=2,y_0=1,x_t=1:10) {
    n <- length(x_t)
    m <- matrix(nrow=n+1,ncol=n)
    m[] <- ifelse(col(m)>=row(m),0,a^(row(m)-col(m)-1))
    a^(0:n)*y_0 + b*rowSums(sweep(m,2,x_t,"*"))
} 
```

令我恐惧的是，它比@DWin 的答案*慢（复制用于测试目的）：*

```
f_reduce <- function(a=3,b=2,y_0=1,x_t=1:10) {
    Reduce(function(X,Y) { b*Y + a*X}, x_t, init=y_0, acc=TRUE)
}

library(rbenchmark)
benchmark(f_recurse(),f_reduce(),replications=2000)
##          test replications elapsed relative 
## 1 f_recurse()         2000   0.430    1.706 
## 2  f_reduce()         2000   0.252    1.000 
```

通过做一些更聪明的事情来构造多项式可能会更快。它还有一个优点是很容易直接获得结果的第 n^th 项，而无需计算任何先验项……如果有用的话……

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-08T05:47:28.763

编辑：与您的 while 循环输出进行比较后，可能是这样的：

```
Reduce(function(X,Y) { b*Y + a*X}, x_t, init=y_0, acc=TRUE) 
```

我永远无法`Reduce`正确获得函数中的 x 和 y。叹。

使用 pkg:microbenchmark 和更长的 x_t 向量：

```
a=3;b=2;y_0=1; x_t=c(1:10, 10:(-10), (-10):10)
> res <- microbenchmark( Rres=invisible( Reduce(function(X,Y) { b*Y + a*X}, x_t, init=y_0, acc=TRUE)) , times=1000L)
> res
Unit: microseconds
  expr     min      lq   median       uq      max
1 Rres 302.114 310.787 316.5705 328.1195 13770.14

> res <- microbenchmark(  Wres= {a=3;b=2;y_0=1; x_t=c(1:10, 10:(-10), (-10):10)
+  y_t=matrix(rep(0,11),ncol=11) 
+  y_t[1]=y_0 
+  tt<-2 
+  while (tt<=53) { y_t[tt]<-a*y_t[tt-1]+b*x_t[tt-1] 
+  tt<-tt+1 }} , times=1000L)
> res
Unit: microseconds
  expr     min       lq   median       uq      max
1 Wres 461.141 470.7545 477.2865 503.7155 13165.52 
```

不一定有很大的差异（小于 2 倍），但`Reduce`速度更快。如果您正在寻找速度，那么您应该查看包“Rcpp”。内联 C++ 代码通常会提供 50-100 倍的改进。

# spring - 将 post 变量传递给另一个方法

> ID：14208633
> 
> 赞同：2
> 
> 时间：2013-01-08T05:18:43.803
> 
> 标签：spring, variables, post, get

我有这样的代码。

@RequestMapping(value="/persons",method=RequestMethod.POST) public @ResponseBody String addUser(@RequestParam String name){

```
returnText=name;
 //List<Person> personList = personService.getAllzonedetails(returnText);
System.out.println(returnText);
 //model.addAttribute("personsajax", personList);
 return **returnText**; 
```

}

```
@RequestMapping(value = "/persons", method = RequestMethod.GET)
public String getPersons(Model model) {

    newvariable = returnText;
    System.out.println(newvariable); 
 logger.debug("Received request to show all persons");
 // Retrieve all persons by delegating the call to PersonService
 List<Person> persons = personService.getAll();
 List<Person> persons1 = personService.getAllzonedetails(newvariable);
     // Attach persons to the Model
 model.addAttribute("persons", persons);
 model.addAttribute("personsajax", persons1);
 // This will resolve to /WEB-INF/jsp/personspage.jsp
 return "personspage";
} 
```

我想在 System.out.println(newvariable) 中获取 returnText 帖子值；在get方法中传递jsp页面。

在jsp中传递post值的任何其他方式。

谢谢...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T05:56:27.933

我认为您正在尝试做的是当用户添加到 post 方法中时，您想要重定向到 GET 方法并在人员列表页面上显示新添加的用户名。

您在这里尝试的方法不正确。首先，您需要从 POST 方法中更改**@ResponseBody注释，并从该函数中简单地返回****“redirect:/persons”**字符串。这将重定向到您的 GET 方法。现在要在 GET 方法中使用新添加的用户名，您需要使用**RedirectAttributes**将名称返回给 GET 方法。

为此，在您的 post 方法签名中添加一个参数，`RedirectAttributes redirectAttributes`. 然后在您的 return 语句之前插入下面的行。

```
redirectAttributes.addFlashAttribute("newUserName", returnText); 
```

然后，您可以使用 EL 访问 JSP 中的值`${newUserName}`。

我希望这能帮到您。

# ms-access - 如何使用 VBA 在访问表单中创建带有合并标题的输入表（6 条记录）

> ID：14208645
> 
> 赞同：0
> 
> 时间：2013-01-08T05:19:30.610
> 
> 标签：ms-access, vba, ms-access-2010

支持合并列和行标题的多输入记录的最佳控件是什么？还是使用动态创建标签和文本框更好？

这就是我想要的样子：

![在此处输入图像描述](../Images/f33fbfcf8ae187af947b246689227137.png)

或者像这样合并标题：

![在此处输入图像描述](../Images/90e9f22a3829518ed830acd2112aa8f2.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T15:38:58.763

虽然在 VBA 中创建表单并非不可能，但不建议这样做。此外，关系数据库中表中的编号字段名称几乎总是设计不良的标志。因此，您不需要合并标题。话虽如此，您可以使用连续形式。

![合并标题](../Images/cd2393ea44c8e5e861e102c4fb5b3cbd.png)

但是，与其尝试在 MS Access 中复制 Excel 设置，我建议您阅读有关数据库设计的信息，例如：[http ://r937.com/relational.html](http://r937.com/relational.html)

正确设计数据库，然后担心标题。

# javascript - Javascript根据值对键值对对象进行排序

> ID：14208651
> 
> 赞同：28
> 
> 时间：2013-01-08T05:20:16.940
> 
> 标签：javascript, jquery

我有一个像下面这样的对象。尝试根据值按升序重新排列它。类似于 Javascript 数组排序方法。

```
 var masterList = {
    "1": "google",
    "2": "yahoo",
    "3": "msn",
    "4": "stackoverflow",
    "5": "github",
    "6": "jsfiddle",
    "7": "amazon",
    "8": "ebay"
} 
```

请让我知道更好的解决方案...

* * *

## 回答 #1

> 赞同：59
> 
> 时间：2013-01-08T05:21:18.030

JavaScript 对象没有顺序。尽管大多数浏览器确实以创建属性的相同顺序进行迭代，但不能保证，因此对象不支持排序。

有关更多信息，请参见此处：[JavaScript 保证对象属性顺序吗？](https://stackoverflow.com/questions/5525795/does-javascript-guarantee-object-property-order)

您可能还对[John Resig](http://ejohn.org/blog/javascript-in-chrome/)对此事的看法感兴趣。

* * *

如果您需要一个可排序的列表，则必须将其存储为对象数组：

```
var masterList = [
    { key: 1, val: "google" },
    { key: 2, val: "yahoo" },
    { key: 3, val: "msn" },
    { key: 4, val: "stackoverflow" },
    { key: 5, val: "github" },
    { key: 6, val: "jsfiddle" },
    { key: 7, val: "amazon" },
    { key: 8, val: "ebay" }
]; 
```

然后，对它们进行排序，只需使用常规数组的`sort`方法：

```
masterList = masterList.sort(function (a, b) {
    return a.val.localeCompare( b.val );
}); 
```

这是小提琴：http: [//jsfiddle.net/ASrUD/](http://jsfiddle.net/ASrUD/)

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2013-01-08T06:05:12.043

```
 var obj = {
        "1": "google",
        "2": "yahoo",
        "3": "msn",
        "4": "stackoverflow",
        "5": "github",
        "6": "jsfiddle",
        "7": "amazon",
        "8": "ebay"
    };

    var arr = [];

    for (var key in obj) {
        if (obj.hasOwnProperty(key)) {
            arr.push(obj[key]);
        }
    }

    alert(arr.sort());
```

这将按升序对您的值进行排序。让我给你一些时间会告诉你如何将它转换为一个对象。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-08-10T12:41:19.473

```
var masterList = {
    "2": "yahoo",
    "3": "msn",
    "4": "stackoverflow",
    "5": "github",
    "6": "jsfiddle",
    "7": "amazon",
    "8": "ebay",
    "1": "google",
   }
var masterList_ = {}

Object.keys(masterList).sort().forEach(a=>masterList_[a]=masterList[a])
console.log(masterList_)
```

# java - 小程序中的 netty 抛出 AccessControlException

> ID：14208656
> 
> 赞同：0
> 
> 时间：2013-01-08T05:21:02.003
> 
> 标签：java, security, sockets, applet, netty

我在小程序中使用 netty 3，当我从浏览器启动它时，它会在 Java 控制台中为我提供以下堆栈跟踪，如果我从 Eclipse Applet Viewer 运行，则不会发生此问题：

```
network: Cache entry not found [url: http://<IP address>/crossdomain.xml, version: null]
network: Connecting http://<IP address>/crossdomain.xml with proxy=DIRECT
network: Connecting http://<IP address>:80/ with proxy=DIRECT
java.net.ConnectException: Connection refused: connect
    at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method)
    at java.net.DualStackPlainSocketImpl.socketConnect(Unknown Source)
    at java.net.AbstractPlainSocketImpl.doConnect(Unknown Source)
    at java.net.AbstractPlainSocketImpl.connectToAddress(Unknown Source)
    at java.net.AbstractPlainSocketImpl.connect(Unknown Source)
    at java.net.PlainSocketImpl.connect(Unknown Source)
    at java.net.SocksSocketImpl.connect(Unknown Source)
    at java.net.Socket.connect(Unknown Source)
    at sun.net.NetworkClient.doConnect(Unknown Source)
    at sun.net.www.http.HttpClient.openServer(Unknown Source)
    at sun.net.www.http.HttpClient.openServer(Unknown Source)
    at sun.net.www.http.HttpClient.<init>(Unknown Source)
    at sun.net.www.http.HttpClient.New(Unknown Source)
    at sun.net.www.http.HttpClient.New(Unknown Source)
    at sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(Unknown Source)
    at sun.net.www.protocol.http.HttpURLConnection.plainConnect(Unknown Source)
    at sun.net.www.protocol.http.HttpURLConnection.connect(Unknown Source)
    at com.sun.deploy.net.CrossDomainXML$3.run(Unknown Source)
    at java.security.AccessController.doPrivileged(Native Method)
    at com.sun.deploy.net.CrossDomainXML.privilegedConnect(Unknown Source)
    at com.sun.deploy.net.CrossDomainXML.check(Unknown Source)
    at com.sun.deploy.net.CrossDomainXML.check(Unknown Source)
    at sun.plugin2.applet.SecurityManagerHelper.checkConnectHelper(Unknown Source)
    at sun.plugin2.applet.AWTAppletSecurityManager.checkConnect(Unknown Source)
    at sun.nio.ch.SocketChannelImpl.connect(Unknown Source)
    at org.jboss.netty.channel.socket.nio.NioClientSocketPipelineSink.connect(NioClientSocketPipelineSink.java:150)
    at org.jboss.netty.channel.socket.nio.NioClientSocketPipelineSink.eventSunk(NioClientSocketPipelineSink.java:113)
    at org.jboss.netty.channel.DefaultChannelPipeline$DefaultChannelHandlerContext.sendDownstream(DefaultChannelPipeline.java:771)
    at org.jboss.netty.handler.codec.oneone.OneToOneEncoder.handleDownstream(OneToOneEncoder.java:60)
    at org.jboss.netty.channel.DefaultChannelPipeline.sendDownstream(DefaultChannelPipeline.java:591)
    at org.jboss.netty.channel.DefaultChannelPipeline.sendDownstream(DefaultChannelPipeline.java:582)
    at org.jboss.netty.channel.Channels.connect(Channels.java:541)
    at org.jboss.netty.channel.AbstractChannel.connect(AbstractChannel.java:210)
    at org.jboss.netty.bootstrap.ClientBootstrap.connect(ClientBootstrap.java:227)
    at org.jboss.netty.bootstrap.ClientBootstrap.connect(ClientBootstrap.java:188)
    at org.mypackage.Myclass.connect(Client.java:80) 
```

还有这个

```
Exception caught: [id: 0x00498342] EXCEPTION: java.security.AccessControlException: access denied ("java.net.SocketPermission" "<IP address>:18090" "connect,resolve")
Exception caught: [id: 0x00498342] EXCEPTION: java.nio.channels.ClosedChannelException 
```

我在本地 PC 上测试，但指定要连接的 IP 地址。

这是我的连接方法中的第 80 行：

```
future = bootstrap.connect(new InetSocketAddress(host, port)); 
```

我试图包围它但没有成功

```
 AccessController.doPrivileged(
        new PrivilegedAction<Void>() {
            public Void run () {
                MyClass.connect(type, userId, secondValue);
                return null;
            }
         }
    ); 
```

请教，我该如何解决？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T11:07:41.570

我能够解决这个问题。

首先，我尝试连接到`127.0.0.1`，但为此我必须安装 Jetty 并将我的 applet 和 hmtl 放入 jetty。所以它开始只适用于本地主机。

[与未签名 Java 小程序的原始服务器的套接字连接](https://stackoverflow.com/questions/850497/socket-connection-to-originating-server-of-an-unsigned-java-applet)

10.xyz还是不行，所以我只好签小程序

[是否可以免费签署 java 小程序？](https://stackoverflow.com/questions/1856552/is-is-possible-to-sign-a-java-applet-for-free)

也可以`crossdomain.xml`像这里一样在码头创建：

[访问被拒绝（java.net.SocketPermission 127.0.0.1:8080 连接，解决）](https://stackoverflow.com/questions/4135138/access-denied-java-net-socketpermission-127-0-0-18080-connect-resolve)

# html - 如何使用 HTML5 和画布或 SVG 绘制网格

> ID：14208673
> 
> 赞同：85
> 
> 时间：2013-01-08T05:22:24.533
> 
> 标签：html, svg, html5-canvas

我想画一个如图所示的网格，但我完全不知道从哪里开始。

我应该使用**SVG**还是应该使用带有**HTML5的****Canvas**以及如何使用它？

 **我希望这个网格在其上绘制矩形、圆形或其他图表，我将计算该图表的面积，就像正方形的面积一样。

![网格](../Images/33463004af3264fb21f0d87485ede0b1.png)

* * *

## 回答 #1

> 赞同：173
> 
> 时间：2013-01-08T06:54:32.783

SVG 可以使用模式很好地做到这一点：

```
<svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <pattern id="smallGrid" width="8" height="8" patternUnits="userSpaceOnUse">
      <path d="M 8 0 L 0 0 0 8" fill="none" stroke="gray" stroke-width="0.5"/>
    </pattern>
    <pattern id="grid" width="80" height="80" patternUnits="userSpaceOnUse">
      <rect width="80" height="80" fill="url(#smallGrid)"/>
      <path d="M 80 0 L 0 0 0 80" fill="none" stroke="gray" stroke-width="1"/>
    </pattern>
  </defs>

  <rect width="100%" height="100%" fill="url(#grid)" />
</svg>
```

我设置了`width`和`height`，`100%`因此您可以定义使用时的实际宽度和高度，或者用于内联 SVG：

```
<div style="width:400px;height:300px">
  <svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg">
    <defs>
      <pattern id="smallGrid" width="8" height="8" patternUnits="userSpaceOnUse">
        <path d="M 8 0 L 0 0 0 8" fill="none" stroke="gray" stroke-width="0.5"/>
      </pattern>
      <pattern id="grid" width="80" height="80" patternUnits="userSpaceOnUse">
        <rect width="80" height="80" fill="url(#smallGrid)"/>
        <path d="M 80 0 L 0 0 0 80" fill="none" stroke="gray" stroke-width="1"/>
      </pattern>
    </defs>

    <rect width="100%" height="100%" fill="url(#grid)" />
  </svg>
</div>
```

或一个`<img>`元素：

```
<img src="https://svgshare.com/i/eGa.svg" width="700" height="200"/> 
```

结果是：

![](../Images/ffeed9e59d80c5073bec85d2bcf85ffa.png)

```
<img src="https://svgshare.com/i/eGa.svg" width="241" height="401"/> 
```

结果是

![](../Images/ffeed9e59d80c5073bec85d2bcf85ffa.png)

请注意，对于这个特定的网格，如果您希望网格以粗笔画开始和结束，则必须使用表单的宽度和高度`n x 80 + 1`（可以是任何整数）。`n`

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2013-01-08T05:47:30.270

我`canvas`在 SO 上使用 here 发布我的代码，但我也在 JSFiddle [here](http://jsfiddle.net/B2EBw/)上创建了一个工作示例。

```
<!DOCTYPE html>
<html>
<head>
    <title>StackOverflow test bed</title>
    <script type="text/javascript">
        function drawGrid() {
            var cnv = document.getElementById("cnv");

            var gridOptions = {
                minorLines: {
                    separation: 5,
                    color: '#00FF00'
                },
                majorLines: {
                    separation: 30,
                    color: '#FF0000'
                }
            };

            drawGridLines(cnv, gridOptions.minorLines);
            drawGridLines(cnv, gridOptions.majorLines);

            return;
        }

        function drawGridLines(cnv, lineOptions) {

            var iWidth = cnv.width;
            var iHeight = cnv.height;

            var ctx = cnv.getContext('2d');

            ctx.strokeStyle = lineOptions.color;
            ctx.strokeWidth = 1;

            ctx.beginPath();

            var iCount = null;
            var i = null;
            var x = null;
            var y = null;

            iCount = Math.floor(iWidth / lineOptions.separation);

            for (i = 1; i <= iCount; i++) {
                x = (i * lineOptions.separation);
                ctx.moveTo(x, 0);
                ctx.lineTo(x, iHeight);
                ctx.stroke();
            }

            iCount = Math.floor(iHeight / lineOptions.separation);

            for (i = 1; i <= iCount; i++) {
                y = (i * lineOptions.separation);
                ctx.moveTo(0, y);
                ctx.lineTo(iWidth, y);
                ctx.stroke();
            }

            ctx.closePath();

            return;
        }

    </script>
</head>
<body onload="drawGrid()">
    <canvas id="cnv" width="500" height="500"></canvas>
</body>
</html> 
```

使用该方法，您可以通过更改参数`canvas`使网格大小动态化。`separation`

但是，如果您的网格大小是*静态*的，我觉得您*可能*不需要*绘制*网格。只是为了向用户显示网格，您可以使用 CSS 来重复背景图像，如 fiddle [here](http://jsfiddle.net/bWe2x/)中所示。这对页面性能也有好处。

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2016-04-20T21:38:02.133

为了覆盖范围，基于 CSS 的方法怎么样？

```
<!DOCTYPE html>
<html>
  <head>
      <style>
      html {
        height: 100%;
      }

      body {
        margin: 0;
        padding: 0;
        height: 100%;
        background-color: #434343;    
        background-size: 75px 75px;
        background-image: linear-gradient(0deg, transparent 24%, rgba(255, 255, 255, .05) 25%, rgba(255, 255, 255, .05) 26%, transparent 27%, transparent 74%, rgba(255, 255, 255, .05) 75%, rgba(255, 255, 255, .05) 76%, transparent 77%, transparent), linear-gradient(90deg, transparent 24%, rgba(255, 255, 255, .05) 25%, rgba(255, 255, 255, .05) 26%, transparent 27%, transparent 74%, rgba(255, 255, 255, .05) 75%, rgba(255, 255, 255, .05) 76%, transparent 77%, transparent);
      }

      canvas {
          width:100%;
          height:100%;
          position:absolute;

          background-color: transparent;
          background-size: 15px 15px;
          background-image: linear-gradient(0deg, transparent 24%, rgba(255, 255, 255, .05) 25%, rgba(255, 255, 255, .05) 26%, transparent 27%, transparent 74%, rgba(255, 255, 255, .05) 75%, rgba(255, 255, 255, .05) 76%, transparent 77%, transparent), linear-gradient(90deg, transparent 24%, rgba(255, 255, 255, .05) 25%, rgba(255, 255, 255, .05) 26%, transparent 27%, transparent 74%, rgba(255, 255, 255, .05) 75%, rgba(255, 255, 255, .05) 76%, transparent 77%, transparent);
      }

      </style>
  </head>
  <body>
      <canvas></canvas>
  </body>
</html> 
```

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2013-01-08T05:49:25.230

使用画布很容易做到，这就是我推荐的。我在这里在移动设备上快速响应，但即使下面的伪代码不完全正确，您也应该明白这一点：

你会有一个类似的循环：

```
// "Ctx" is your canvas context
// "Width," "Height," and other vars that start with a capital letter are set according
//   to your canvas size or preference

var i;
for (i=0; i < Height; i += GridSize) {
   ctx.lineWidth(1.0+((i%10)==0));
   ctx.moveTo(0,i);
   ctx.lineTo(Width,i);
   ctx.stroke();
}
for (i=0; i < Width; i += GridSize) {
   ctx.lineWidth(1.0+((i%10)==0));
   ctx.moveTo(i,0);
   ctx.lineTo(i,Height);
   ctx.stroke();
} 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2021-11-30T12:20:12.010

# 在 JavaScript 中创建 SVG

另一种方法是让 JavaScript 为您创建 SVG。我将展示如何创建一个由[SVG 矩形](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/rect)组成的较小的 4x4 网格，以便您查看网格的详细信息：

![使用 JavaScript 创建的 4x4 网格](../Images/910f6c457fbe1d60a32c9935c3a721c9.png)

首先，在 HTML 中添加一个表示网格的空 SVG，然后在 JavaScript 中用 SVG 矩形填充该网格：

```
let grid = document.getElementById("svg_grid");
let startX = 5;
let startY = 5;
let rectWidth = 60;
let rectHeight = 60;

let nrOfColumns = 4;
let nrOfRows = 4;

let horizontalPadding = 5;
let verticalPadding = 5;

let strokeWidth = 2;

let rectX = startX;

for (let colIdx = 0; colIdx < nrOfColumns; colIdx++) {

  let rectY = startY;

  for (let rowIdx = 0; rowIdx < nrOfRows; rowIdx++) {
      let rect = document.createElementNS("http://www.w3.org/2000/svg", "rect");
      rect.setAttribute("x",  rectX);
      rect.setAttribute("y",  rectY);
      rect.setAttribute("width", rectWidth );
      rect.setAttribute("height", rectHeight);
      rect.setAttribute("style", "fill:blue;stroke:green;stroke-width:" +
                                  strokeWidth +";fill-opacity:0.1;stroke-opacity:0.6");
      // Rounded corners
      rect.setAttribute("rx", "3%");
      rect.setAttribute("ry", "3%");

      grid.appendChild(rect);

      rectY += rectHeight + verticalPadding;
  }
  rectX += rectWidth + horizontalPadding;
}

// Resize the grid to fit its containing rectangles
let svgWidth = startX + nrOfColumns * (horizontalPadding + rectWidth + strokeWidth);
let svgHeight =  startY + nrOfRows * (verticalPadding + rectHeight + strokeWidth);
grid.setAttribute("width", svgWidth);
grid.setAttribute("height", svgHeight);
```

```
<svg id="svg_grid" xmlns="http://www.w3.org/2000/svg"></svg>
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2021-10-19T01:22:01.007

基于 Ben Crowhurst 的示例，您也可以使用 repeating-linear-gradient 来做到这一点。这是我使用 css 的解决方案。我使用变量来让您了解什么做什么。

```
<!DOCTYPE html>
<html>
    <head>
        <style>
html {
    height: 100%;
}

body {
    --line-color: rgba(255 255 255 / .05);
    --line-thickness: 1px;
    --minor-length: 7.5px;
    --major-length: 75px;

    --line: var(--line-color) 0 var(--line-thickness);
    --small-body: transparent var(--line-thickness) var(--minor-length);
    --large-body: transparent var(--line-thickness) var(--major-length);

    --small-squares: repeating-linear-gradient(
        to bottom, var(--line), var(--small-body)
    ), repeating-linear-gradient(
        to right, var(--line), var(--small-body)
    );

    --large-squares: repeating-linear-gradient(
        to bottom, var(--line), var(--large-body)
    ), repeating-linear-gradient(
        to right, var(--line), var(--large-body)
    );

    margin: 0;
    padding: 0;
    height: 100%;
    background-color: #434343;
    background-image: var(--small-squares), var(--large-squares);
}
        </style>
    </head>
    <body>
    </body>
</html> 
```

[您可以在 css grid 的这个 fiddle 中](https://jsfiddle.net/frodojj/tqcwsj0e/1/)查看一个实时示例。**

# sql - 我必须在右连接后进行左连接吗？

> ID：14208675
> 
> 赞同：1
> 
> 时间：2013-01-08T05:22:32.103
> 
> 标签：sql, sql-server-2008, join, outer-join

假设我在 SQL Server 2008 R2 中有三个表

```
SELECT a.*, b.*, c.*
FROM
  Table_A a
  RIGHT JOIN Table_B b ON a.id = b.id
  LEFT JOIN Table_C c ON b.id = c.id 
```

或者

```
SELECT a.*, b.*, c.*
FROM
  Table_A a
  RIGHT JOIN Table_B b ON a.id = b.id
  JOIN Table_C c ON b.id = c.id 
```

另外，我在加入 c 时使用 b.id 或 a.id 是否重要？

即代替`JOIN Table_C c ON b.id = c.id`, 使用`JOIN Table_C c ON a.id = c.id`

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-08T05:27:44.243

如果它不改变查询的语义，数据库服务器可以重新排序连接，使其以它认为更有效的方式运行。

通常，如果你想强制某个顺序，你可以使用内联视图子查询，如

```
SELECT a.*, x.*
FROM
  Table_A a
  RIGHT JOIN
  (
    SELECT *, b.id as id2 FROM Table_B b 
    LEFT JOIN Table_C c ON b.id = c.id
  ) x
  ON a.id = x.id2 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-08T05:34:17.233

根据定义：

*   **JOIN** ：当两个表中至少有一个匹配时返回行
*   **LEFT JOIN**返回左表中的所有行，即使右表中没有匹配项
*   **RIGHT JOIN**返回右表中的所有行，即使左表中没有匹配项

第一个选项将包括来自 Tables 的第一个连接的所有原始数据`a`，`b`即使 table 中没有匹配的`c`原始数据，而第二个语句将仅显示与 table 中的原始数据匹配的原始数据`c`。

关于第二个问题，我想这会有所不同，因为第一个连接包括`ids`来自 table的所有内容`b`，即使 table 中没有匹配的`a`，所以一旦你将 Join creterium 更改为`a.id`你将得到一组不同的 id `b.id`。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-08T06:22:00.063

是的，在右连接之后确实需要左连接

看

[http://sqlfiddle.com/#!3/2c079/5/0](http://sqlfiddle.com/#!3/2c079/5/0)

[http://sqlfiddle.com/#!3/2c079/6/0](http://sqlfiddle.com/#!3/2c079/6/0)

如果你不这样做，最后的（内部）JOIN 将抵消你的 RIGHT JOIN 的效果。

如果您不在乎，那么进行 RIGHT JOIN 是没有任何意义的。如果你关心，你将不得不在它之后添加一个 LEFT JOIN。

# json - 客户端发送的请求语法错误 ().+Spring , RESTClient

> ID：14208682
> 
> 赞同：8
> 
> 时间：2013-01-08T05:23:04.657
> 
> 标签：json, spring, rest-client

我正在使用 JSON 对象处理 Spring MVC。当我试图从 RESTClient 发送 JSON 对象时，我得到了

> HTTP 状态 400 - 客户端发送的请求在语法上不正确 ()。

这是我的控制器

```
ObjectMapper mapper=new ObjectMapper();
@RequestMapping(value = "/addTask", method = RequestMethod.GET)
       public ModelAndView addTask(@RequestParam("json") String json) throws JsonParseException, JsonMappingException, IOException 
       {
          System.out.println("Json object from REST : "+json);
          Task task=(Task) mapper.readValue(json, Task);
          service.addService(task);
          return new ModelAndView("Result");
       } 
```

我的请求网址：`http://localhost:8080/Prime/addTask`

我的 Json 对象：

> {"taskName":"nothing","taskId":1234,"taskDesc":"nothing doing"}

我也尝试在 RESTClient 中指定“Content-Type：application/json”，但仍然遇到同样的错误

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-10-02T06:39:37.253

我最近在请求正文中使用 JSON 字符串遇到了类似的情况，并且使用了与您的非常相似的 Spring 设置。就我而言，我没有指定 String 参数并自己反序列化它，我让 Spring 这样做：

```
 @RequestMapping(value = "/myService/{id}", method = RequestMethod.POST)
   @ResponseBody
   public void myService(@PathVariable(value = "id") Long id, @RequestBody MyJsonValueObject request) {
   ..
   } 
```

我收到 HTTP 错误 400“客户端发送的请求在语法上不正确”响应。直到我意识到没有默认构造函数，`@RequestBody MyJsonValueObject`所以反序列化它存在问题。但是，这个问题以这种方式呈现。

因此，如果您使用 POST 和对象，并遇到这样的错误，**请确保您有一个默认构造函数**！添加一些 JUnit 以确保您可以反序列化该对象。

*注意*：我并不是说这是您收到此错误的唯一原因。最初的案例只使用了字符串（它确实有一个默认的构造函数！）所以它有点不同。但在这两种情况下，请求 URI 似乎已映射到正确的方法，并且尝试从 HTTP 请求中提取参数时出现了问题。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-08T05:43:10.073

试试这个

改变

```
@RequestParam("json") String json 
```

到

```
 @RequestBody Task task 
```

如果你对 POST 方法不感兴趣，你可以试试这个

更改您的控制器方法

```
@RequestMapping(value = "/addTask", method = RequestMethod.GET)
   public ModelAndView addTask(@RequestParam("json") String json) 
```

到

```
@RequestMapping(value = "/addTask/{taskName}/{taskId}/{taskDesc}", method = RequestMethod.GET)
   public ModelAndView addTask(@RequestParam("taskName") String taskName,
@RequestParam("taskId") String taskId,@RequestParam("taskDesc") String taskDesc) 
```

并将您的网址更改为

```
http://localhost:8080/Prime/addTask/mytask/233/testDesc 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-02-24T19:54:13.970

我的问题是由于 @RequestBody 对象的不正确映射。

我的请求正文看起来像这样

```
{data: ["1","2","3"]} 
```

我的控制器中有以下代码

```
@RequestMapping(value = "/mentee", method = RequestMethod.POST)
public @ResponseBody boolean updateData(@RequestBody List<Integer> objDTO, HttpSession session) {
        ...
    } 
```

这给了我 HTTP 400，因为 Spring 不知道如何将我的 Json 数据绑定到列表。

我将 RequestBody 对象更改为以下

```
@RequestMapping(value = "/mentee", method = RequestMethod.POST)
public @ResponseBody boolean updateData(@RequestBody ObjectiveDto objDTO, HttpSession session) {
        ...
    } 
```

并定义ObjectiveDto如下

```
@ToString
public class ObjectiveDto {

    @Getter @Setter
    private List<Integer> data;

} 
```

这解决了 HTTP 400 错误。

# php - Twig 模板引擎不读取对象属性

> ID：14208693
> 
> 赞同：10
> 
> 时间：2013-01-08T05:23:54.350
> 
> 标签：php, overloading, twig

Twig 允许您将数组或对象传递给模板，并为您提供相同的接口来访问两种数据结构的成员。因此，例如：

```
$test = array('foo' => 'foo', 'bar' => 'bar'); 
```

将让您在模板中访问它`test.foo`和`test.bar`

现在这个对象的实例将具有相同的效果。这是非常棒的:)

```
class test
{
    public $foo;
    public $bar;
} 
```

使用魔术 __set 和 __get 方法的对象怎么样？

```
class test
{
    public $properties;

    public function __set($name, $value)
    {
        $this->properties[$name] = $value;
    }

    public function __get($name)
    {
        return $this->properties[$name];
    }
} 
```

**不幸的是，在这种情况下，您无法访问该对象的属性。我不确定 Twig 是这里的问题还是 PHP 本身的问题。**

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-01-08T05:35:35.773

您还需要实施[`__isset()`](http://php.net/manual/en/language.oop5.overloading.php#object.isset)，例如

```
public function __isset($name) {
    return array_key_exists($name, $this->properties);
} 
```

见[http://twig.sensiolabs.org/doc/recipes.html#using-dynamic-object-properties](http://twig.sensiolabs.org/doc/recipes.html#using-dynamic-object-properties)

# jquery - 随机动画单个字母

> ID：14208700
> 
> 赞同：0
> 
> 时间：2013-01-08T05:24:28.597
> 
> 标签：jquery, random, jquery-animate

我有一个单词，我使用 jquery 字母分隔成单个字母。

处理后的标记看起来像这样

```
<div id="tagline">
<p>
<span class="char1">w</span>
<span class="char2">e</span>
<span class="char3"> </span>
<span class="char4">c</span>
<span class="char5">o</span>
</p>
</div> 
```

等等等等

所以我想知道如何让一个随机字母在每个设定的时间间隔内得到动画。

就像一秒钟后，也许'c'会淡出然后淡入，然后'w'会那样做等等

所有帮助表示赞赏！谢谢！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T05:28:16.943

要在设定的时间间隔内做某事，请使用，嗯，`setInterval`:)

要随机选择一个孩子，请使用`Math.random`：

```
var letters = tagline.children();

setInterval(function() {
     letters.eq(Math.random() * letters.length | 0).fadeOut(500).fadeIn(500); // Or something
}, 1000); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-12-15T17:41:07.890

确保您的 span el 设置为 - opacity: 0;

```
$('#tagline span').each(function(index) {
    $(this).delay(200*index).animate({'opacity' : '1'}, 250);
}); 
```

# jquery - Squarespace jQuery 实现

> ID：14208701
> 
> 赞同：0
> 
> 时间：2013-01-08T05:24:35.413
> 
> 标签：jquery, templates, procedure, squarespace

有没有在 squarespace 网站中实现 jQuery 的好方法？顺便说一句，这是针对基于模板的站点。如果可能的话，我想通过一种简单`<script type="text/javascript" src="jquery.js"></script>`的实现来做到这一点。我是 squarespace 做事方式的新手，所以也许我遗漏了一些东西。我一直在通过标头注入来做到这一点，并且尝试了一些不同的 url，它们应该存在文件，但没有成功。Squarespace 是否可以做到这一点，如果可以，我应该怎么做？从我在论坛上读到的内容来看，由于标头注入应该将代码放入`<head>`标签中，看来这应该可以工作，所以我有点难过。这可能与 Squarespace 6 有关吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-11-01T20:04:46.383

您需要在每个使用它的页面顶部的代码块中链接 jQuery 脚本。

如果您需要在站点范围内查询，请使用代码注入选项。

只需编辑要在其上使用 jQuery 的页面，然后插入一个“代码”块。在该代码块中，粘贴：

这将使用托管在 Google 的 CDN 上的 jQuery 脚本。它比自托管更快，更容易启动。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-12-11T22:26:16.173

您可以将链接添加到标题。转到设置 > 高级 > 代码注入，然后将此链接添加`<script src="//ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>`到标题区域。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-09-05T08:15:26.947

可以使用他们提供的开发人员功能来完成。 [http://developers.squarespace.com/](http://developers.squarespace.com/)

Squarespace 还提供了一种称为代码注入的解决方案，它可以满足您的需求。（但是我后来没有尝试过。）

# mysql - 以下情况的表结构应该是什么

> ID：14208702
> 
> 赞同：0
> 
> 时间：2013-01-08T05:24:52.527
> 
> 标签：mysql

我有一种情况需要存储具有以下选项的“错误类型”

![在此处输入图像描述](../Images/08f4fd946fc921f0957a46e86e853e40.png)

我想知道创建表“错误”的最佳方法是什么。

因此，如果选择了“起飞，详细信息和图例”，我将采用“ **VARCHAR ”数据类型并存储诸如“1,3,4”（逗号分隔）之类的值并在进入视图时对其进行解析**

或者

**为数据类型为“ TINYINT** ”的表中的每个字段设置单独的列，例如“IsTakeOff”、“IsSpecifications”、“Details”等。

请指教

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T05:33:23.607

除非您非常确信该数字不会增长，否则不要使用多个列。

否则使用多对多关联表 - 一个包含项目 id 和错误 id 的列

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T05:43:14.960

一种方法可能是将其作为 int 执行，然后在您的代码中执行类似 PHP 的操作，我不知道您正在使用的语言，但大多数语言都有一个开关，因此翻译成另一种语言应该不难语言。

```
$row // The row from the database.
switch ($row['Error_Type'])
{
    case ('0'):
        {
            // Do something.
            break;
        }
        ...
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-08T05:49:07.020

您可以在此处使用逗号分隔的列，即 varchar，因为您知道此处不会增长任何记录。这仅限于 5 个值。在搜索字段时，您可以使用 MySQL FIND_IN_SET，这对于这种情况非常有效。FIND_IN_SET 将采用两个参数。您的搜索关键字和逗号分隔的字符串。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-08T05:51:07.087

如果 id 为 1 的用户选择 1,3 和 4，那么您可以使用以下

![在此处输入图像描述](../Images/81cac68b8d2a2b3596b13e80f80bf281.png)

# mysql - MySQL - 根据列值插入多行

> ID：14208703
> 
> 赞同：3
> 
> 时间：2013-01-08T05:24:58.177
> 
> 标签：mysql, loops, cursor

我有查询工作，只是想知道是否有更好的方法可以在没有游标/循环/php 端的情况下执行此操作。我做 DBA 已经 5 年多了，刚刚遇到 := 语句。很酷。

包含人员 ID 和他们购买的门票数量的表 (tblPeople)。

```
PersonId  NumTickets
1         3  
2         1 
3         1 
```

然后，我想根据他们购买的票数为新表 (tblTickets) 中的每个人分配单独的票。TicketId 是一个键，自动递增列。

```
TicketId  PersonId
100       1
101       1
102       1 
103       2
104       3 
```

这是代码。它一遍又一遍地循环遍历整个 tblPeople，增加一个名为 rowID 的新计算列。然后我根据他们在 WHERE 子句中购买的票数过滤掉这些行。我看到的问题是子查询很大，我拥有的人越多，子查询就越大。只是不确定是否有更好的方法来写这个。

```
INSERT INTO tblTickets (PersonId)
    SELECT PersonId
    FROM (
        SELECT s.PersonId, s.NumTickets,
            @rowID := IF(@lastPersonId = s.PersonId and @lastNumTickets = s.NumTickets, @rowID + 1, 0) AS rowID,
            @lastPersonId := s.PersonId,
            @lastNumTickets := s.NumTickets
        FROM tblPeople m,
            (SELECT @rowID := 0, @lastPersonId := 0, @lastNumTickets := 0) t
            INNER JOIN tblPeople s 
        ) tbl
    WHERE rowID < NumTickets 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-08T07:01:35.423

我会添加一个实用程序表`Numbers`，其中包含从 1 到一个人可以购买的最大票数的所有数字。然后你可以做这样的事情：

```
INSERT INTO tblTickets (PersonId)
SELECT s.PersonId
FROM tblPeople s, Numbers n
WHERE n.number <= s.NumTickets 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-08T07:46:55.787

以下存储过程将满足您的目的......

```
DELIMITER $$

USE <your database name> $$

DROP PROCEDURE IF EXISTS `update_ticket_value2`$$

CREATE PROCEDURE `update_ticket_value2`()
BEGIN
DECLARE index_value INT;
DECLARE loop_variable INT;  

SET @KeyValue = 100;
SET @LastPersonID = 0;
SET @TicketNum = 0;

SET @PersonIDToHandle = 0;

SELECT @PersonIDToHandle = PersonID, @TicketNum = NumTickets
FROM tblPeople
WHERE PersonId > @LastPersonID
ORDER BY PersonId
LIMIT 0,1;

WHILE @PersonIDToHandle IS NOT NULL
DO
    SET loop_variable = 0;

    WHILE(loop_variable < @TicketNum) DO
        INSERT INTO tblTickets(TicketId, PersonId) VALUES(@KeyValue + loop_variable, @PersonIDToHandle);
        SET loop_variable = loop_variable + 1;
    END WHILE;  

    SET @LastPersonID = @PersonIDToHandle;
    SET @PersonIDToHandle = NULL;
    SET @KeyValue = @KeyValue + @TicketNum;

    SELECT @PersonIDToHandle := PersonID, @TicketNum := NumTickets
    FROM tblPeople
    WHERE PersonId > @LastPersonID
    ORDER BY PersonId
    LIMIT 0,1;
END WHILE;

    END$$

DELIMITER ; 
```

调用过程为：

```
CALL update_ticket_value2(); 
```

希望能帮助到你...

# javascript - 在 nodejs 中解析 JSON

> ID：14208707
> 
> 赞同：5
> 
> 时间：2013-01-08T05:25:11.733
> 
> 标签：javascript, json, node.js

嗨，我有以下 json

```
{id:"12",data:"123556",details:{"name":"alan","age":"12"}} 
```

我使用下面的代码来解析

```
var chunk={id:"12",data:"123556",details:{"name":"alan","age":"12"}}
var jsonobj = JSON.parse(chunk);
console.log(jsonobj.details); 
```

我收到的输出是

```
{"name":"alan","age":"12"} 
```

我需要从详细信息中获取单个字符串说我应该能够解析并获得“名称”的值。我被困在这里任何帮助将不胜感激

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2013-01-08T05:26:50.203

如果您已经有一个对象，则不需要解析它。

```
var chunk={id:"12",data:"123556",details:{"name":"alan","age":"12"}};
// chunk is already an object!

console.log(chunk.details);
// => {"name":"alan","age":"12"}

console.log(chunk.details.name);
//=> "alan" 
```

* * *

您仅`JSON.parse()`在处理实际 json 时使用`string`。例如：

```
var str = '{"foo": "bar"}';
console.log(str.foo);
//=> undefined

// parse str into an object
var obj = JSON.parse(str);

console.log(obj.foo);
//=> "bar" 
```

有关更多详细信息，请参见[json.org](http://www.json.org/js.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-08T05:29:30.203

由于`jsonobj`已经被解析为 JavaScript `Object`，`jsonobj.details.name`应该是你需要的。

# android - Microsoft 同步框架 - ServerBlob 为空错误

> ID：14208709
> 
> 赞同：0
> 
> 时间：2013-01-08T05:25:22.920
> 
> 标签：android, microsoft-sync-framework, data-dictionary

我正在使用 Microsoft Sync Framework 将 Android 设备上的 Datadictionary 中的详细信息与 SQL Server 同步。最初从 sql server 同步所有数据成功。但是在添加一些数据并单击“**同步**”按钮后，出现以下错误。你能告诉我有人遇到过这个吗？

```
[Sync Error]:Error occurs during sync. Please check logs below.
[Upload Change Response Error]: 500 Response: <ServiceError xmlns="http://schemas.datacontract.org/2004/07/Microsoft.Synchronization.Services" xmlns:i="http://www.w3.org/2001/XMLSchema-instance"><ErrorDescription>System.InvalidOperationException&#xD; serverBlob is empty&#xD; at Microsoft.Synchronization.Services.SqlProvider.SqlSyncProviderService.ApplyChanges(Byte[] serverBlob, List`1 entities)&#xD; at Microsoft.Synchronization.Services.UploadChangesRequestProcessor.ProcessRequest(Request incomingRequest)&#xD; at Microsoft.Synchronization.Services.SyncService`1.ProcessRequestForMessage(Stream messageBody)&#xD; &#xD; &#xD; </ErrorDescription></ServiceError> 
```

**在下面的代码中，我在单击 Sync 按钮时得到 xmlHttp.status=500**

```
this.sendRequest = function (serviceUri, successCallback, errorCallback, dir) {

        TraceObj("[" + dir + " Request]:", serviceUri, this.dataObject());
        // Construct HTTP POST request
        var xmlHttp = new XMLHttpRequest();
        xmlHttp.open("POST", serviceUri);
        xmlHttp.setRequestHeader("Accept", "application/json");
        xmlHttp.setRequestHeader("Content-Type", "application/json");
        // Handle success & error response from server and then callback
        xmlHttp.onreadystatechange = function () {
            if (xmlHttp.readyState == 4) {
                if (xmlHttp.status == 200) {
                    var res = new SyncFormatter();
                    if (res.parse(xmlHttp.responseText)) {
                        TraceObj("[" + dir + " Response]:", serviceUri, res.dataObject());
                        alert("[" + dir + " Response]:", serviceUri, res.dataObject());
                        successCallback(res);
                        return;
                    }
                }
                TraceMsg("[" + dir + " Response Error]: ", xmlHttp.status + " Response: " + xmlHttp.responseText);
                errorCallback(xmlHttp.responseText);
            }
        };
        xmlHttp.send(this.toString());
    };
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T11:42:59.860

**我找到了问题的根本原因**。那是当我从数据字典存储中获取值时，`value has the single quotes in the values so not able to load the values in webview. Now i have replaced single quotes by \'`. ***现在工作正常***。

# c# - 回传文件下载

> ID：14208713
> 
> 赞同：0
> 
> 时间：2013-01-08T05:25:45.430
> 
> 标签：c#, download, asyncfileupload

我有一个锚标记、一个 AsyncFileUpload 控件和一个跨度。当数据库中存在文件时设置锚标记的 InnerText，如果不存在，则隐藏。它还有一个下载文件的 ServerClick 事件。

span 标签的 InnerText 显示使用 AsyncFileUpload OnUploadedComplete 上传的文件的文件名。

当我单击锚点时，文件会下载（这很好。）但是当我更改文件（使用 AsyncFileUpload）时，它会回发并再次触发锚点标记的 ServerClick 方法，因此再次下载文件。

```
<a id="lnkDownloadFile" runat="server"></a>
<span id="spnFilename" runat="server"></span>
<input type="button" id="btnReplaceFile" value="Replace File" runat="server" />
<div>
    <ajaxToolkit:AsyncFileUpload ID="fuFile" runat="server" OnUploadedComplete="UploadComplete" OnClientUploadError="UploadError" />
</div> 
```

有没有办法解决？

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T06:53:57.197

我不确定为什么会发生这种情况，但解决方法之一可能是使用隐藏字段来确认是否由于单击下载链接而发生回发。例如，

```
<input type="hidden" id="downloadFile" runat="server" />
<asp:LinkButton id="lnkDownloadFile" runat="server" OnClientClick="return setDownloadFile();" />
<script type="text/java-script" >
 function setDownloadFile() {
      document.getElementById('<%= downloadFile.ClientID>').value = 'true';
      return true;
 }
</script> 
```

您可以检查`downloadFile`链接按钮中的值单击以决定是否下载文件。请注意，我之所以使用`LinkButton`它是因为我确信它的客户端单击属性 - 您可以尝试将 click 属性与 html 锚点一起使用（我不是 100% 确定它是否会干扰`ServerClick`事件处理程序）。

# c# - 是否有一种更易读的方式来制作一长串 && 语句？

> ID：14208721
> 
> 赞同：3
> 
> 时间：2013-01-08T05:27:08.937
> 
> 标签：c#, design-patterns, if-statement, code-readability

假设我有一个长而复杂的条件列表，这些条件必须为真才能运行 if 语句。

```
if(this == that && foo != bar && foo != that && pins != needles && apples != oranges)
{
    DoSomethingInteresting();
} 
```

通常，如果我被迫做这样的事情，我只会将每个语句放在自己的行上，如下所示：

```
if
(
         this == that 
    &&    foo != bar 
    &&    foo != that 
    &&   pins != needles 
    && apples != oranges
)
{
    DoSomethingInteresting();
} 
```

但是我还是觉得这有点乱。我很想将 if 语句的内容重构为它自己的属性，如下所示

```
if(canDoSomethingInteresting)
{
    DoSomethingInteresting();
} 
```

但这只是把所有的混乱都转移了进去`canDoSomethingInteresting()`，并没有真正解决问题。

正如我所说，我的 goto 解决方案是中间的解决方案，因为它不会像最后一个那样混淆逻辑，并且比第一个更具可读性。但一定有更好的办法！

**回应 Sylon 评论的示例**

```
bool canDoSomethingInteresting
{
    get{
        //If these were real values, we could be more descriptive ;)
        bool thisIsThat = this == that;
        bool fooIsntBar = foo != bar;
        bool fooIsntThat = foo != that;
        return 
        (
               thisIsThat
            && fooIsntBar
            && fooIsntThat
        );
    }
}
if(canDoSomethingInteresting)
{
    DoSomethingInteresting();
} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-08T05:32:13.737

在我看来，将混乱转移到属性或方法中并不是一个坏主意。这样它是自包含的，并且您执行 if(..) 检查的主要逻辑变得更具可读性。特别是如果要检查的条件列表很大，最好是在一个属性中，这样如果您需要重复使用，您就不会重复该检查。

```
if(IsAllowed)
{
   DoSomethingInteresting();
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-08T06:05:57.617

在不同的变量中包含不同条件的代码是提高可读性和可维护性的好方法。当您的变量命名为好时，您会得到

```
if (goToNextPage) 
{
    if (notAdmin)
    {
        RedirectToNormalPage();
    }
    else
    {
        RedirectToAdminPage();
    }
} 
```

与这样的事情相比

```
if ((x == 1) && ((y == 'r') || (y == 't'))) 
{
    if (!a)
    {
        RedirectToNormalPage();
    }
    else
    {
        RedirectToAdminPage();
    }
} 
```

我会让你在以后返回代码时选择要阅读的内容。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-08T05:46:45.837

方法很好。更好的方法名称会告诉它测试什么，而不是如果它是真的可以做什么。像

```
if (isFooValid()) { mergeFoo(); } 
```

如果它在逻辑上适合代码流，特别是如果我不在乎它是否在那时完成，我也经常将整个 if 包装到一个方法中：

```
maybeMergeFoo(); 
```

关键是要退后一步，看看最适合当前代码的代码，以及接下来要编写的代码。通常情况下，组织代码的正确方法是很清楚的。

# javascript - 带有标志的谷歌翻译不应该被重定向到其他页面

> ID：14208724
> 
> 赞同：0
> 
> 时间：2013-01-08T05:27:43.620
> 
> 标签：javascript, jquery, wordpress, google-translate, google-translator-toolkit

我正在使用带有国家标志的谷歌语言选择器，方法是在 wordpress 的模板文件中使用以下代码。

```
 <!-- Add English to Chinese (Simplified) BETA -->

           <a target="_blank" rel="nofollow" onclick="window.open('http://www.google.com/translate?u='+encodeURIComponent(location.href)+'&langpair=en%7Czh-CN&hl=en&ie=UTF8'); return false;" title="Google-Translate-Chinese (Simplified) BETA"><img border="0" style="cursor:pointer; cursor:hand;" width="19" alt="Google-Translate-Chinese (Simplified) BETA" src="https://sites.google.com/site/translationflags/images/_chinese_s.png" height="19" title="Google-Translate-Chinese (Simplified) BETA"/></a>

           <!-- END English to Chinese (Simplified) BETA-->

         <!-- Add English to French -->

             <a target="_blank" rel="nofollow" onclick="window.open('http://www.google.com/translate?u='+encodeURIComponent(location.href)+'&langpair=en%7Cfr&hl=en&ie=UTF8'); return false;" title="Google-Translate-English to French "><img border="0" style="cursor:pointer; cursor:hand;" width="19" alt="Google-Translate-English to French " src="https://sites.google.com/site/translationflags/images/_french_s.png" height="19" title="Google-Translate-English to French "/></a>
             ...

             ... 
```

当我们点击网页中的标志时，它会被重定向到其他页面（谷歌的翻译页面）。并且页面被翻译成其他语言。但我希望它不应该被重定向到其他页面，而是应该在同一页面上翻译，就像使用带有下拉选项的简单谷歌翻译代码一样。请帮我！！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T07:48:06.230

我想你只需要：-

```
<div id="google_translate_element" style="float:left; padding-left:15px">
</div>
<script type="text/javascript">
function googleTranslateElementInit() {
new google.translate.TranslateElement({pageLanguage: 'en',  multilanguagePage: true,
layout: google.translate.TranslateElement.FloatPosition.BOTTOM_RIGHT},     'google_translate_element');
}
</script> 
<script type="text/javascript" src="//translate.google.com/translate_a/element.js?    cb=googleTranslateElementInit"></script> 
```

试试这个

# c++ - 将向量传递给另一个类

> ID：14208726
> 
> 赞同：2
> 
> 时间：2013-01-08T05:27:50.027
> 
> 标签：c++, class, vector

正如标题所示，我正在尝试将矢量从一个类发送到另一个类。这是一些示例代码...

```
class Deck
{
    public:

    //constructor
    Deck(){}
    ~Deck(){} //deconstructor

//global for setting deck size
int SetDeckMultiplier;

    //Card SetUp
            //access vector
        std::vector<int> GetCopyOfVector(){return cards;}
            //set deck size based on multiplier
        void SetDeckSize();
            //shuffle card vector
        void shuffle();

    //End Card Setup

     protected:

     private:
std::vector <int> cards;

}; 
```

这实质上是建立一个向量，用整数填充它，而不是对整数进行洗牌。

我有第二节课...

```
class Dealer: public Deck
{
  public:

  void Hit();
  void GetStoredDeck()
  {

    std::cout << cards.size() << std::endl;
  }
  void DealCard();
  void DealerScore();
  void IniDeal();
  void CardPositions();

  private:

}; 
```

我正在尝试将向量拉入此类，以便经销商可以使用整数。我可以使向量受到保护，但 .size() 为 0。在第一堂课中填充和洗牌后，有没有办法将它传递给这个类？

编辑：

对于类中的函数，我没有太多代码。我只是在做一个骨架设置。

甲板.cpp

```
void Deck::SetDeckSize()
{
      for (int i = 0; i < (52 * SetDeckMultiplier); i++)
        {
        cards.push_back(i);
        }

    //set card values
      for (int i = 0; i > (52 * SetDeckMultiplier); i++)
      {
        cards[i] =  i;

      }

}

void Deck::shuffle()
{
    for (int i = 0; i < (52 * SetDeckMultiplier); i++)
        {
       int r = i + (rand() % ((52 * SetDeckMultiplier) - i)); // Random remaining position.

       int temp = cards[i]; cards[i] = cards[r]; cards[r] = temp; //swap cards

       while (cards[i] >= 52) cards[i] = cards[i] - 52; //loop to ensure correct number for display

        //std::cout << cards[i] << std::endl;//display random cards.. for now
    }
} 
```

这是我必须填充向量并随机播放元素的代码。

我想采用洗牌向量并在经销商类中使用它。这样，荷官就可以得到向量中的下一个元素，并用它做需要做的事情。

我所说的 size() 是，如果我使向量受保护而不是私有，我可以通过继承使用向量，但它是空向量而不是填充和洗牌的向量。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T05:52:30.773

从您的代码开始（并假设您已在`cards`受保护的范围内`Deck`），您可以像这样使用您的 Dealer 类：

```
Dealer dealer;
dealer.SetDeckSize();
dealer.shuffle();
dealer.GetStoredDeck(); 
```

但是，正如@Troy 指出的那样，您的课程设计看起来并不好。庄家不是套牌，所以`Dealer`不应该是 的子类`Deck`。相反，`Dealer`应该包含 Deck 类的一个字段，如下所示：

```
class Dealer
{
  public:
  void Hit();
  void DealCard();
  void DealerScore();
  void IniDeal();
  void CardPositions();

  private:
  Deck deck;
}; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-08T05:40:10.760

您需要做的是在 Deck 构造函数中添加创建卡*。*`cards`这只是一个简单的示例，它显示了基类和派生类之间的共享数据：

```
class Deck
{
public:
  Deck() : cards{1,2} {}    // C++11 supports initializer list
  virtual ~Deck() {}        // better declare base destructor as virtual

protected:                  // derived class can access protected base members
  std::vector <int> cards;  
};

class Dealer: public Deck
{
public:
  Dealer()   // Deck default constructor is called 
  {
  }

  void GetStoredDeck()
  {
     std::cout << cards.size() << std::endl;
  }
};

int main(int argc, char* argv[])
{
  Dealer dealer;
  dealer.GetStoredDeck();   // you should see 2 cards now?
  return 0;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-08T05:43:00.713

为了`cards`在您的派生类中访问 int 向量`Dealer`，您**必须**声明它`protected`...

从您的方法名称来看，我猜`Deck::SetDeckSize()`是那个将 int 放入`cards`.

所以，我猜你在调用`Dealer::GetStoredDeck()`.

# objective-c - VIN 条码扫描器 SDK

> ID：14208728
> 
> 赞同：4
> 
> 时间：2013-01-08T05:27:52.990
> 
> 标签：objective-c, ios, vin

我正在寻找 VIN（车辆识别号）条形码 SDK。是否实现了 any1 然后请帮助我提供一些教程和示例代码。我找不到任何有用的东西。我发现的只是条形码阅读器，而不是 VIN。

任何帮助将不胜感激。谢谢

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-19T07:03:23.853

我知道这已经被回答了，但是......

VIN 只是 Code 39 条码。

您可以使用： http: [//zxing.org/w/decode.jspx](http://zxing.org/w/decode.jspx)读取条码，然后使用[http://developer.edmunds.com/](http://developer.edmunds.com/)破译车辆信息。这是我能想到的最好的免费解决方案。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2014-01-03T14:06:13.107

ZBar 读取 Code 39 条码。它的免费和开源。请在此处查看我的答案以获取工作[源代码示例](https://stackoverflow.com/a/20954929/783198)

***编辑/注意：iOS 框架现在包括一个从 iOS 7 开始的条形码扫描器。我使用[这个实现](http://www.infragistics.com/community/blogs/torrey-betts/archive/2013/10/10/scanning-barcodes-with-ios-7-objective-c.aspx)来获得比使用 Zbar 更好、更容易的结果。***

[用于在 iOS 中扫描条形码（code 39 格式）的免费 SDK](https://stackoverflow.com/questions/11340418/free-sdk-for-scanning-barcode-code-39-format-in-ios/20954929#20954929)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-08T05:51:20.777

有一些可用的库。

请查看这些链接以获取 sdk 和演示应用程序：

1.  [**蜜蜂蜂蜜**](https://github.com/bees4honey/mobile_vin_scanner)
2.  [**快本**](http://www.fastbook.com/)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2015-09-11T05:20:24.787

我们可以使用 AVFoundation 在 ios 中扫描以下类型的条码。

该框架读取以下条形码：

二维条码：

1.  二维码
2.  PDF417
3.  阿兹台克人

一维条码：

1.  代码 128
2.  EAN-8
3.  EAN-13
4.  UPC-A
5.  UPC-E
6.  代码 39
7.  代码 93

由于 VIN 是代码 39 条码，我们无需使用任何第三方库即可轻松完成。

# ruby - How do I write functional test for this

> ID：14208730
> 
> 赞同：1
> 
> 时间：2013-01-08T05:28:11.580
> 
> 标签：ruby, ruby-on-rails-3, rspec, rspec2

I am pretty new to rspec. How do I write functional test for following piece of code.

```
class FooController < ApplicationController
   def new
     @title = "Log in to Mint"
     @msg = session[:msg]
     session[:msg] = nil
   end
end 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-08T05:38:15.933

How about something like this:

```
describe FooController do

  describe "GET new" do
    it "assigns 'Log in to Mint' to @title" do
      get :new
      assigns(:title).should == "Log in to Mint"
    end

    it "assigns message session to @msg" do
      session[:msg] = "a message"
      get :new
      assigns(:msg).should == "a message"
    end

    it "sets message session to nil" do
      get :new
      session[:msg].should be_nil
    end
  end

end 
```

See also: [Rspec: testing assignment of instance variable](https://stackoverflow.com/questions/4720135/rspec-testing-assignment-of-instance-variable)

# ios - iOS：dispatch_async 和 UIImageWriteToSavedPhotosAlbum

> ID：14208742
> 
> 赞同：4
> 
> 时间：2013-01-08T05:29:14.417
> 
> 标签：ios, asynchronous, uiimage, save, grand-central-dispatch

只是学习如何在线程之间分配任务，或异步调度。我知道任何“触及”视图的操作都必须在主线程上完成。怎么样：`UIImageWriteToSavedPhotosAlbum`？**我认为这可以在后台线程上完成，但我弄错了吗？**

另外，如果应该在后台线程上完成，下面这两个调用之间是否有区别，因为一个保存 UIImage 而另一个保存视图中的 UIImage？

```
UIImageWriteToSavedPhotosAlbum(_someUIImage ,nil,nil,nil);

UIImageWriteToSavedPhotosAlbum(_imageView.image ,nil,nil,nil); 
```

顺便说一句，我使用此设置在主线程中运行 HUD 并在后台运行任务，这是我的意图。

```
[HUD_code showMessage:@"saving image"];
dispatch_queue_t concurrentQueue =
dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0);
dispatch_async(concurrentQueue, ^{
        UIImageWriteToSavedPhotosAlbum(someUIImage ,nil,nil,nil);
            dispatch_async(dispatch_get_main_queue(), ^{
                [HUD_code dismiss];
         });
}); 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-08T05:41:38.590

[UIKit 类被记录为仅可从主线程使用](http://developer.apple.com/library/ios/#documentation/uikit/reference/UIKit_Framework/Introduction/Introduction.html#//apple_ref/doc/uid/TP40006955-CH1-SW2)，除非另有说明。（例如，[`UIFont`被记录为线程安全的](http://developer.apple.com/library/ios/#documentation/uikit/reference/UIFont_Class/Reference/Reference.html)。）

关于 UIKit*函数*的线程安全（与类不同）没有明确的全面声明，因此假设它们通常是线程安全的并不安全。一些 UIKit 函数，如[`UIGraphicsBeginImageContext`](http://developer.apple.com/library/ios/#documentation/uikit/reference/UIKitFunctionReference/Reference/reference.html#//apple_ref/doc/uid/TP40006894)，被明确记录为线程安全的，这意味着 UIKit 函数通常**不是**线程安全的。

由于`UIImageWriteToSavedPhotosAlbum`可以发送异步完成消息，您应该只在主线程上调用它并使用它的完成支持来执行您的`[HUD_code dismiss]`.

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-08T06:47:08.370

这是我阅读答案后的最新代码，如果有人想知道或发表评论（赞赏）。

```
-(void)saveToLibrary {

            if (_imageView.image != NULL) {
                messageHUD = @"Saving Image...";
                [SVProgressHUD showWithStatus:messageHUD];
                UIImageWriteToSavedPhotosAlbum(_imageView.image, self, @selector(image:didFinishSavingWithError:contextInfo:), nil);
            }
    }

- (void)image:(UIImage *)image didFinishSavingWithError:(NSError *)error contextInfo:(void *)contextInfo
{
    UIAlertView *alert;

    // Unable to save the image
    if (error) {
        alert = [[UIAlertView alloc] initWithTitle:@"Error"
                                           message:@"Unable to save image to Photo Album."
                                          delegate:self cancelButtonTitle:@"Ok"
                                 otherButtonTitles:nil];
    }else {// All is well
        messageHUD = @"Success!\nImage Saved.";
        [SVProgressHUD showSuccessWithStatus:messageHUD];
        [self myPerformBlock:^{[SVProgressHUD dismiss];} afterDelay:0.5];
    }
} 
```

myPerformBlock 来自以下链接[https://gist.github.com/955123](https://gist.github.com/955123)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-08T05:40:10.880

> 我认为这可以在后台线程上完成，但我弄错了吗？

老实说，我也会假设，因为这与更新 UI 完全无关，它只是一些文件操作。但是，Apple 的文档说，**对 UIKit 的每次调用都需要在主线程上执行**（除非明确说明了其他内容）。这个函数也不例外，你必须在主线程上调用它。

顺便说一下，这个函数本身是异步的。保存图像时，它将通知作为其第二个和第三个参数提供的回调对象/选择器，因此它不会阻塞 UI。

# php - PHP 将日期格式 Ymd 转换为 mdY

> ID：14208743
> 
> 赞同：1
> 
> 时间：2013-01-08T05:29:14.283
> 
> 标签：php

我想将我的日期格式设置为`Month-Date-Year`. 当前格式为`Year-Month-Date`. 我如何在 PHP 中做到这一点？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-08T05:32:18.517

```
$date = "08/01/2013";
$your_date = date("m-d-y", strtotime($date)); 
```

希望我的回答有用:)

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-01-08T05:32:14.933

```
$originalDate = "2013-01-08";
$newDate = date("m-d-Y", strtotime($originalDate)); 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2013-01-08T05:34:50.140

您可以使用[strtotime()](http://php.net/manual/en/function.strtotime.php)来解析日期。这确实花了我[一个谷歌搜索](https://www.google.com/search?q=parse%20date%20php)来解决这个问题。

```
$given = "2013-01-08";
$parseit = date("m-d-Y", strtotime($given)); 
```

然后你可以像这样回应它：

```
echo $parseit; 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-01-08T05:39:33.807

`echo date('m-d-Y', time());`

有关更多信息，请参阅[PHP 的日期文档](http://php.net/manual/en/function.date.php)。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2013-01-08T05:40:56.180

试试这个。

```
date('m-d-y', strtotime('2012-12-31')); 
```

或者

```
$d = new DateTime('2012-12-31');

echo $d->format('m-d-y'); 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-01-08T05:32:16.150

参考这两个函数：

*   [`DateTime::createFromFormat`](http://php.net/manual/en/datetime.createfromformat.php)
*   [`DateTime::format`](http://php.net/manual/en/datetime.format.php)

例如（您需要更新格式）

```
$date = DateTime::createFromFormat('j-M-Y', '15-Feb-2009');
echo $date->format('Y-m-d'); 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-01-08T05:32:36.057

您可以使用`strtotime()`将字符串恢复为时间变量。然后使用`date()`将时间格式化为所需的格式。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2013-01-08T05:33:09.993

只需使用

```
date("m-d-Y"); 
```

这将输出您的 in `Month-Date-Year`。

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2013-01-08T05:34:01.777

```
$date = date("m-d-Y",strtotime($yourdate)); 
```

# android - 字节数组到图像的转换

> ID：14208748
> 
> 赞同：9
> 
> 时间：2013-01-08T05:29:45.340
> 
> 标签：android

我想将字节数组转换为图像，为此我使用了代码

```
final BufferedImage bufferedImage = ImageIO.read(new ByteArrayInputStream(decrpt)); 
```

其中 Decrypt 是字节数组，它在 ImageIO 中显示错误。我不知道那个参数是什么，请帮我整理一下。

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2013-01-08T05:51:55.277

希望这段代码对您有所帮助：

```
byte[] data = item1.getBytes();
Bitmap bmp = BitmapFactory.decodeByteArray(data, 0, data.length);
imageview.setImageBitmap(bmp); 
```

# android - 加载时更改 GridView 中的字体大小和颜色

> ID：14208749
> 
> 赞同：0
> 
> 时间：2013-01-08T05:30:25.950
> 
> 标签：android, grid

我`GridView`在 Android 中使用来显示数据。我想在加载网格时更改文本的大小和颜色。我可以通过使用点击网格项目来做到这一点

```
objGridDays.setOnItemClickListener(new OnItemClickListener()
       {
           public void onItemClick(AdapterView<?> parent, View v,
                    int position, long id) 
           {
               ((TextView) v).setTypeface(null, Typeface.ITALIC);
               ((TextView) v).setTextColor(Color.BLUE);
               ((TextView) v).setTextSize(15);             
           }

       }); 
```

我想在加载网格时做同样的操作。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T05:40:20.880

请在 GridView 适配器的 getView 方法中设置此代码：

```
 ((TextView) v).setTypeface(null, Typeface.ITALIC);
           ((TextView) v).setTextColor(Color.BLUE);
           ((TextView) v).setTextSize(15); 
```

以及选择 grid_item 和更改 textview xml 代码的最佳方法，例如：

```
android:textColor="@android:color/black"
android:textSize="15" 
```

# java - Android中的“通用”功能放在哪里？

> ID：14208752
> 
> 赞同：2
> 
> 时间：2013-01-08T05:30:57.277
> 
> 标签：java, android, function, package

我想为我的项目编写一个通用函数，该函数将在许多不同的文件中使用，我不想将它放在特定的类中。

我应该把它放在哪里？
在一个新包中作为一个类？

这是唯一的选择吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-08T05:40:00.343

创建一个新包作为 util 并在其中创建所有常用方法，例如：

创建包为`com.xyz.util`.

`Util`在上面的包中创建一个类。

`Util`然后在这个类中编写你所有的常用方法。

您可以在此类中编写静态方法并以`Util.method_name();`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-08T05:35:16.340

在 Java 中，每个方法都存在于一个类中。所以是的，它是唯一的选择。一种常见的方法是使用仅包含静态方法的实用程序类。您可以在任何地方使用它而无需创建任何实例。

# git - Git rebase 不会产生可快速转发的提交

> ID：14208755
> 
> 赞同：1
> 
> 时间：2013-01-08T05:31:13.613
> 
> 标签：git, git-rebase

所以我一直在尝试使用以下`post-commit`钩子让我的`gh-pages`分支与 master 保持同步：

```
#!/bin/sh
git checkout gh-pages
git rebase master
git checkout master 
```

根据[这里的建议](http://oli.jp/2011/github-pages-workflow/)

这是我的 git`lg`命令的一些输出（我在 SO 的某个地方找到了它，感谢发布它的人）

```
[alias]
    lg = log --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)<%an>%Creset' --abbrev-commit --date=relative 
```

它在终端中产生了一个很好的可读转储：

```
*   463703d - (HEAD, gh-pages) Merge branch 'gh-pages' of github.com:unphased/ply into gh-pages (2 minutes ago) <Ste
|\  
| *   ef1a304 - (origin/gh-pages) Merge branch 'gh-pages' of github.com:unphased/ply into gh-pages (8 minutes ago) <
| |\  
| | *   2d0c8a1 - Merge branch 'gh-pages' of github.com:unphased/ply into gh-pages (26 minutes ago) <Steven Lu>
| | |\  
| | | *   840df78 - Merge branch 'master' into gh-pages (68 minutes ago) <Steven Lu>
| | | |\  
| | | * \   7db37cc - Merge branch 'master' into gh-pages (7 hours ago) <Steven Lu>
| | | |\ \  
| | | * | | 17f3dbc - Create gh-pages branch via GitHub (24 hours ago) <Steven Lu>
| | |  / /  
| | * | | 48bdf22 - Create gh-pages branch via GitHub (31 minutes ago) <Steven Lu>
| * | | | d15c161 - Create gh-pages branch via GitHub (9 minutes ago) <Steven Lu>
* | | | | 7024a62 - Create gh-pages branch via GitHub (4 minutes ago) <Steven Lu>
* | | | | f61b62d - (master) hopefully stuff calms down (4 minutes ago) <Steven Lu>
|/ / / /  
* | | | 05c26a5 - (origin/master, origin/HEAD) some more progress (9 minutes ago) <Steven Lu>
|/ / /  
* | | 20c6bdb - some progess on the touchmove event handler finally. hopefully this one will run the post-commit hoo
* | | d1ab53e - commented out touchmove log.. testing the auto-rebase on gh-pages (45 minutes ago) <Steven Lu>
| |/  
|/|   
* | 15fe88d - small update to js (70 minutes ago) <Steven Lu>
|/  
* 6b5ee18 - updating note about mutation events' (7 hours ago) <Steven Lu>
* 1b43564 - okay now about ready to start assembling offsets. [snip] 
```

历史的其余部分非常无趣（[这里](https://github.com/unphased/ply/network)是一个 github 网络图表示，可能不那么令人头疼），我希望保持新的位（更新`gh-pages`）也无趣，但我很清楚是对的现在有大量非快进合并正在发生，如果`rebase`正确发生则不应该发生。

因此，由于我完全不知道从哪里开始诊断变基发生时出现问题的问题，我将向您展示我上次提交的输出，它产生了这个（我承诺`master`）：

```
$ git commit -a -m"hopefully stuff calms down"
Switched to branch 'gh-pages'
First, rewinding head to replay your work on top of it...
gApplying: Create gh-pages branch via GitHub
iApplying: Create gh-pages branch via GitHub
Using index info to reconstruct a base tree...
<stdin>:985: trailing whitespace.

<stdin>:1019: trailing whitespace.
article, aside, canvas, details, embed, 
<stdin>:1020: trailing whitespace.
figure, figcaption, footer, header, hgroup, 
<stdin>:1031: trailing whitespace.
article, aside, details, figcaption, figure, 
<stdin>:1055: trailing whitespace.
  line-height: 1.5; 
warning: squelched 27 whitespace errors
warning: 32 lines add whitespace errors.
Falling back to patching base and 3-way merge...
No changes -- Patch already applied.
Applying: Create gh-pages branch via GitHub
Using index info to reconstruct a base tree...
<stdin>:985: trailing whitespace.

<stdin>:1019: trailing whitespace.
article, aside, canvas, details, embed, 
<stdin>:1020: trailing whitespace.
figure, figcaption, footer, header, hgroup, 
<stdin>:1031: trailing whitespace.
article, aside, details, figcaption, figure, 
<stdin>:1055: trailing whitespace.
  line-height: 1.5; 
warning: squelched 27 whitespace errors
warning: 32 lines add whitespace errors.
Falling back to patching base and 3-way merge...
No changes -- Patch already applied.
Switched to branch 'master'
Your branch is ahead of 'origin/master' by 1 commit.
[master f61b62d] hopefully stuff calms down
 1 files changed, 2 insertions(+), 1 deletions(-) 
```

在众多看起来与众不同的事情中，我很好奇的是为什么标有“通过 GitHub 创建 gh-pages 分支”的提交不断被添加。这确实是分支上最新的提交，`gh-pages`并且可能会在执行`rebase`.

我很确定，如果我正确地使用 rebase，我可以生成一个日志，其中对 master 的每个提交都在 gh-pages 中重复（而不是使用 merge，在 gh-pages 中为每个提交创建合并提交）大师），但现在我必须在没有变基的情况下进行合并，否则我会得到这个邪恶的混乱。

# jquery-ui - 如何在 jquery ui 自动完成插件中将省略号添加到冗长的文本中？

> ID：14208757
> 
> 赞同：1
> 
> 时间：2013-01-08T05:31:16.870
> 
> 标签：jquery-ui, autocomplete, ellipsis

我在我的网站中使用 jquery ui 自动完成功能，它在搜索框中列出了所有产品的名称……我向数据库发起查询并检索结果……那不是我的问题……

我的问题是我需要将冗长的产品名称修剪为自动完成框宽度的大小（目前我已将其设置为 180px）并添加三个点（“...”即省略号）...

我已经在普通的 div 元素中尝试过这种 css 样式并且它工作正常..但是当我尝试将它集成到我的自动完成插件时它不起作用......我不知道是什么问题......或者还有其他的将此省略号应用于列表的方法...

自动完成的 CSS 样式是，

```
 <style>
.ui-autocomplete {
    max-height: 200px;
    max-width: 180px;
    overflow-y:scroll;
    text-wrap: none;
    white-space:nowrap;
    text-overflow:ellipsis;
    overflow:hidden;
    }
 </style> 
```

这里**文本溢出：省略号；**成功了

**注意：* *我不需要水平滚动来解决这个问题......

这是工作示例，

[http://jsfiddle.net/FLmfH/](http://jsfiddle.net/FLmfH/)

但是当添加到 jquery ui 插件时它不起作用...针对此问题的任何建议或解决方法？[...](http://jsfiddle.net/HwchC/7/)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-08T06:16:50.550

您只需要像这样设置溢出[和](http://www.w3.org/TR/CSS21/visufx.html#propdef-overflow)文本[溢出](http://www.w3.org/TR/css3-ui/#text-overflow0)`.ui-menu .ui-menu-item a`：

```
.ui-menu .ui-menu-item a {
    text-overflow: ellipsis;
    overflow: hidden;
} 
```

示例：[小提琴](http://jsfiddle.net/HwchC/41/)

```
$(function() {
  var availableTags = [
    "ActionScript",
    "AppleScript",
    "AAAAaaaaPP PppLLLlll EEEeeeeeee",
    "Asp",
    "BASIC",
    "C",
    "C++",
    "Clojure",
    "COBOL",
    "ColdFusion",
    "Erlang",
    "Fortran",
    "Groovy",
    "Haskell",
    "Java",
    "JavaScript",
    "JaaaaaAAAAvvvvVVVVVvAAAAaaaaaaaaaa",
    "Lisp",
    "Perl",
    "PHP",
    "O oooOoOOoooOOOoo ooOo ooO ooooOoooO ooo oOooooo ooO o oOoooOooOoooOooOoooOoooooo oooooOOoooo oOoooooOo ooooooOoooooooOoO",
    "Python",
    "Ruby",
    "Scala",
    "Scheme"
  ];
  $("#tags").autocomplete({
    source: availableTags
  });
});
```

```
.ui-autocomplete {
  max-height: 200px;
  max-width: 180px;
  overflow-y: scroll;
  overflow-x: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
  padding-right: 20px;
}
.ui-menu .ui-menu-item a {
  text-overflow: ellipsis;
  overflow: hidden;
}
```

```
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/jquery-ui.min.js"></script>
<link rel="stylesheet" type="text/css" href="http://code.jquery.com/ui/1.9.2/themes/base/jquery-ui.css" />

<div class="ui-widget">
  <label for="tags">Tags:</label>
  <input id="tags" />
</div>
```

# sql - SQL中的多关键字搜索

> ID：14208758
> 
> 赞同：-1
> 
> 时间：2013-01-08T05:31:22.737
> 
> 标签：sql, delphi, keyword

我有 3 个字段：LastName、MRnumber 和 SSN。所有 3 个都是患者记录的一部分。现在用户可以通过 1 ,2 或所有 3 个关键字进行搜索。MRnumber 或 SSN 是唯一的，它们中的每一个都将检索一个唯一的记录。然而，这些值并不总是存在。例如，患者不想提供他的 SSN。请记住，会有很多记录，这是最好的方法吗？我使用 MS Access 和 Delphi 作为前面（如果重要的话）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T07:54:27.090

将您的问题解释如下：

每条记录都有
Lastname，不唯一，始终存在
MRNumber，唯一，可选
SSN，唯一，可选

您搜索 (Lastname and SSN) 或 (Lastname and MRNumber and SSN) 的 (LastName and MRNumber)

但是由于 MRNumber 和 SSN 都是唯一的，所以最后的搜索是多余的。

你不告诉使用你正在使用的组件，所以只有一个通用的答案是可能的。假设您的 Delphi 应用程序进行了一些预处理，我会这样做：

```
If MRNumber given
  search on (LastName and MRNumber)
else
  If SSN given
    search on (LastName and SSN)
  else
    message(Insufficient data) 
```

# python - 将树结构从列表转换为 Python 字典

> ID：14208761
> 
> 赞同：0
> 
> 时间：2013-01-08T05:31:37.710
> 
> 标签：python

我想转换一个表示为这样的列表的树结构......

```
['access_ctrl_allow',
 ['description', ['Access Control - Allow']],
 ['type', ['4']],
 ['metadata'],
 ['output', ['0']],
 ['rule',
  ['0',
   ['enabled', ['1']],
   ['action', ['type', ['accept_conn']]],
   ['match',
    ['services',
     ['0',
      ['name', ['DHCP']],
      ['trigger',
       ['0',
        ['protocol', ['17']],
        ['dst', ['start', ['67']], ['end', ['67']]],
        ['src', ['start', ['67']], ['end', ['68']]]]]]]]]]] 
```

进入 Python 字典，如下所示：

```
{'access_ctrl_allow': {'output': '0',
  'type': '4',
  'description': 'Access Control - Allow',
  'rule': {'0': {'action': {'type': 'accept_conn'},
    'enabled': '1',
    'match': {'services': {'0': {'trigger': {'0': {'src': {'start': '67',
          'end': '68'},
         'dst': {'start': '67', 'end': '67'},
         'protocol': '17'}},
       'name': 'DHCP'}}}}},
  'metadata': {}}} 
```

我有代码可以做到这一点，并且似乎产生了正确的输出......

```
def dictify(data):
    k, v = data[0], data[1:]

    if len(v) == 0:
        return {k: {}}
    elif len(v) == 1 and len(v[0]) == 1:
        return {k: v[0][0]}
    else:
        new = {}
        for datum in v:
            new.update(dictify(datum))
        return {k: new} 
```

……但感觉很笨重。你能提供一些清理这个的建议吗？特别是，取消引用列表中列表 ( `v[0][0]`) 的需要向我表明，必须有更好的方法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T09:37:53.307

如果您愿意接受略有不同的输出，您可以使用`setdefault`：

```
import json
d={}
def rec(lst,d):
    for i in lst:
        if not isinstance(i,list):
            child=d.setdefault(i,{})
        else:
            rec(i,child)
rec(lst,d)
print json.dumps(d,indent=3) 
```

**出去：**

```
{
   "access_ctrl_allow": {
      "output": {
         "0": {}
      }, 
      "type": {
         "4": {}
      }, 
      "description": {
         "Access Control - Allow": {}
      }, 
      "rule": {
         "0": {
            "action": {
               "type": {
                  "accept_conn": {}
               }
            }, 
            "enabled": {
               "1": {}
            }, 
            "match": {
               "services": {
                  "0": {
                     "trigger": {
                        "0": {
                           "src": {
                              "start": {
                                 "67": {}
                              }, 
                              "end": {
                                 "68": {}
                              }
                           }, 
                           "dst": {
                              "start": {
                                 "67": {}
                              }, 
                              "end": {
                                 "67": {}
                              }
                           }, 
                           "protocol": {
                              "17": {}
                           }
                        }
                     }, 
                     "name": {
                        "DHCP": {}
                     }
                  }
               }
            }
         }
      }, 
      "metadata": {}
   }
} 
```

# vb.net - 我如何在 VB.net (microsoft visual studio 2005) 中执行无符号右移（java 中的 >>>）

> ID：14208762
> 
> 赞同：0
> 
> 时间：2013-01-08T05:32:00.960
> 
> 标签：vb.net, bit-shift

问候，我是 VB.net 上的新手，也许这是个愚蠢的问题，但它让我坚持我的任务如何在 VB.net 中执行无符号右移（在 java 中 >>>）（microsoft visual studio 2005）

谢谢你帮助我：D

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T05:41:41.950

您可以将无符号变量与 >> 运算符一起使用。如果您要移动的变量是无符号的，则 >> 运算符将传播零而不是符号位。

[http://msdn.microsoft.com/en-us/library/dezyht83%28v=vs.80%29.aspx](http://msdn.microsoft.com/en-us/library/dezyht83%28v=vs.80%29.aspx)

# html - 忽略父级与子级在同一类css中的鼠标悬停事件

> ID：14208770
> 
> 赞同：1
> 
> 时间：2013-01-08T05:32:15.777
> 
> 标签：html, css

我想表示嵌套集（http://en.wikipedia.org/wiki/File:NestedSetModel.svg）

具有以下html结构

```
<div class="circle">
    <div class="nodeText">Clothing</div>
    <span class="lft">1</span>
    <span class="rgt">22</span>
    <div class="circle" id="node2">
    <div class="nodeText">Men's</div>
    <span class="lft">2</span>
    <span class="rgt">9</span>
    </div>
    <div class="circle" id="node3" >
        <div class="nodeText" >Women's</div>
    <span class="lft">10</span>
    <span class="rgt">21</span>
    </div>
</div> 
```

和CSS（至少我认为对这个问题很重要）

```
.circle {
background-color: blue;
    margin:10px;
    padding: 10px;
    border-radius: 10%;
    position: relative;
    text-align: center;
    float: left;
    z-index: inherit;
}

.circle:HOVER{
background-color: red;
} 
```

我想要的行为是，当我将鼠标悬停在具有“圆圈”类的 div 上（在本例中为“男士”或“女士”）时，我会更改这些的背景颜色，但不会更改父 div '服装'

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T05:41:03.777

我改变

```
.circlr:hover 
```

至

```
.circlr .circle:hover 
```

这是一个例子：http: [//jsfiddle.net/sechou/9eNuN/](http://jsfiddle.net/sechou/9eNuN/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T07:34:26.667

请参阅此链接**[FIDDLE](http://jsfiddle.net/rDmqg/)**

我有一个内部类名的扩展名`.circle`

父类名称将是`class="circle"`，而男性或女性的内部类名称将是`class="circle color"`

通过代码正确理解它。

也许类选择器最强大的方面是可以将多个类应用于一个 HTML 元素。例如，您可能希望对一个特定元素使用两条规则，如下所示：

```
<p class="big indent">

.big { font-weight: bold; }
.indent { padding-left: 2em;} 
```

# java - 远程访问 Weblogic 服务器

> ID：14208775
> 
> 赞同：10
> 
> 时间：2013-01-08T05:32:38.950
> 
> 标签：java, weblogic

我在本地安装，现在在我的机器上运行 Weblogic Server。我可以使用 192.168.XXX.XXX:7001/myapp/ 之类的 URL 从我的机器访问 Web 应用程序，但我无法从连接在同一网络中的不同机器访问它。我已经完成了这个：转到管理控制台，单击我的服务器并将我的 IP 插入到侦听地址旁边的文本框中。但它没有帮助。

请在这件事上帮助我。

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2013-01-11T07:01:23.110

'Listen Address' 配置项指定您的服务器侦听的 IP 地址。

如果它设置为 127.0.0.1 或 localhost，那么您的服务器只侦听 localhost 地址，这意味着它只服务来自 localhost 的请求。

您应该将其设置为您机器的公共 IP 地址。或者简单地设置为 0.0.0.0，这意味着侦听您的机器拥有的所有可用地址。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2015-06-05T12:36:59.447

出于安全原因，公司封锁了一些港口。7001 是他们阻止的常见端口之一。因此，您可以执行以下步骤。

1.  在 cmd 中输入以下命令：telnet HOST.IP.ADDRESS PORT

    例如：远程登录 192.658.152.45 7001

    如果它显示正在连接然后停止，则表示该端口已被阻止。尝试其他端口，比如说 8080。

2.  如果可行，则更改 weblogic 中的默认端口 转到 \user_projects\domains\\config 中的 config.xml 文件

3.  将侦听器端口添加为

    `<server> <name>AdminServer</name> <listen-port>8080</listen-port> <listen-port-enabled>true</listen-port-enabled> <listen-address></listen-address> </server>`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-06-05T07:21:33.180

**我遇到了同样的问题并像这样解决了它：**

1.  从管理控制台将监听地址从**本地**主机更改为管理服务器的 IP

2.  停止 Windows 防火墙（我只尝试定义一个新规则来打开端口 7001 但没有结果）

在那之后，一切都像一个魅力:)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-08T13:45:22.783

1.  您的机器是否已连接到网络？
2.  你有安装防火墙吗？它是否阻止了外部访问？
3.  您的计算机上是否有其他阻止访问的软件？
4.  您的网络是否有阻止访问某些端口的硬件/软件？
5.  其他

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2020-09-21T03:30:04.153

只允许防火墙中的特定端口，试试这个

```
sudo firewall-cmd --zone=public --permanent --add-port=7001/tcp
sudo firewall-cmd –-reload 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2017-01-09T06:45:08.097

这是一个防火墙问题。您可以将端口 7001 添加到防火墙的例外或在此之前以确认问题是否是由于防火墙引起的，尝试

```
systemctl stop firewalld 
```

再次检查您是否能够从另一台机器访问控制台。

# sql - Rails 查找所有具有相同子对象的对象

> ID：14208777
> 
> 赞同：0
> 
> 时间：2013-01-08T05:32:46.707
> 
> 标签：sql, ruby-on-rails-3, postgresql

使用

*   导轨 3.2.8
*   红宝石 1.9.3
*   PostgreSQL
*   Ubuntu 12.10。

感觉就像我在离开 Rails 几个月后完全忘记了如何构建 Rails 搜索。

`Orders has_many Items`.

项目有字符串`status`: `in_progress`, `canceled`, `completed`. 他们也有一个布尔值`acquired`。

所以，我想找到所有 'ready to complete' `orders`，也就是说，所有项目的订单至少有一个项目具有（状态`in_progress`和`acquired`），任何不是 in_progress 的都是状态`canceled`或状态`completed`。

但我不知道如何构建一个查询，该查询将只返回具有*所有*满足这些条件的项目的订单。我有一个包含 3 个项目的订单，所有项目都在进行中，一个已获得。

```
orders = Order.includes(:items).where(items: { status: "in_progress", acquired: true }) 
```

这将返回`Order`1`Item`即`acquired`. 但我需要一个不会返回任何订单的查询，因为并非所有项目都符合条件。但我不知道从哪里开始，试图寻找这个问题真的很困难。

我需要检查至少一个项目是 (`in_progress`和`acquired`) 任何不是`canceled`or`completed`的项目，并且所有项目都是这种方式。

任何朝着正确方向的推动将不胜感激！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T06:38:46.147

Rails ActiveModel 还不能`OR`很好地支持查询，所以尝试使用[arel](https://github.com/rails/arel)来构建复杂的查询。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-08T07:25:51.287

我不熟悉 Postgresql 语法，但在 Mysql 中，如果你想选择所有项目都“进行中”的订单，你应该这样做：

```
SELECT orders.* FROM orders LEFT JOIN items ON items.order_id = orders.id AND items.status!='in progress' WHERE  items.id IS NULL; 
```

或者

```
SELECT orders.* FROM orders INNER JOIN items ON items.order_id = orders.id GROUP BY items.order_id HAVING COUNT(items.id)=SUM(CASE WHEN items.status='in progress' THEN 1 ELSE 0 END); 
```

我猜在 ActiveRecord 中：

```
Order.joins("items ON items.order_id = orders.id AND items.status!='in progress'").where("items.id IS NULL") 
```

# asp.net - 使用存储的模板动态创建 html 页面

> ID：14208778
> 
> 赞同：0
> 
> 时间：2013-01-08T05:32:58.477
> 
> 标签：asp.net, html

我需要创建一个 asp.net 网站，它允许最终用户从可用模板中选择一个预存储的模板，编辑模板的页眉、页脚和正文内容，并创建一个 HTML 页面，该页面将存储在网站的物理文件夹中名称如 test1.html、test2.html 等。

有人可以建议我如何实现这一目标吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T06:41:42.643

您可以使用[CKEditor](http://ckeditor.com/)或[tinymce](http://www.tinymce.com/)，首先您可以在项目中创建预定义模板，用户可以选择这些预定义模板并在 CKEditor 中对其进行修改并存储在物理位置（在驱动器上）。

这可能会有所帮助。

# regex - Delphi RegEX 库和 unicode 字符

> ID：14208789
> 
> 赞同：1
> 
> 时间：2013-01-08T05:33:34.867
> 
> 标签：regex, delphi

如果使用`\b`单词边界，它似乎只理解 ASCII 字母，例如模式

`\bM\b`将匹配`aaaa M bbbbbb`

但如果我有

```
aaaaa Mädchen 
```

它也会，因为它认为`ä`是词尾。

是否有任何标志可以设置这个正则表达式库也接受 Unicode 字符串？这个库似乎不太可能如此原始，但它不在选项中

```
TRegExOption = (roNone, roIgnoreCase, roMultiLine, roExplicitCapture,
roCompiled, roSingleLine, roIgnorePatternSpace); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-08T07:25:29.480

根据[regular-expressions.info](http://www.regular-expressions.info/refflavors.html)，Delphi regex lib 是基于 PCRE 的，PCRE 中预定义的字符类`\w`仅基于 ASCII，因此`\b`也仅基于 ASCII。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-07-17T13:30:24.373

您可以使用环视来创建自己的单词边界，以适应您对“单词”的首选定义。例如，如果您想将“M”匹配为一个单词并将所有 Unicode 字母、数字和标记视为单词字符，请使用：

```
(?<![\pL\pN\pM])M(?![\pL\pN\pM]) 
```

# shell - 是否可以制作要在 vim 中运行的命令脚本？

> ID：14208791
> 
> 赞同：0
> 
> 时间：2013-01-08T05:33:43.667
> 
> 标签：shell, unix, vim, vi

在我的工作中，我无法访问 vim rc 文件（还没有？）所以我想知道是否可以制作和运行 vim 命令的脚本来快速启动和运行我的 vi 工作站。

即所有的 :set blahblach 命令等等。

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-08T05:37:17.810

你在找`:source your-script.vim`，我想？

```
:help source 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-08T07:02:01.567

你有自己的`/home/lilsheep/`目录吗？如果是，只需将所有设置`~/.vimrc`和插件放入`~/.vim/`.

如果您无法创建这些文件和目录但能够在您的机器上的某个位置写入，您可以使用您自己的启动 vim `vimrc`：

```
$ vim -u /path/to/your/vimrc 
```

如果你想从你自己的`vimruntime/`目录加载你自己的插件，把这行放在`vimrc`上面：

```
set runtimepath+=/path/to/your/vimruntime 
```

确保将这两行添加到您`vimrc`的以重置其他`vimrc`s 设置的任何和所有选项并以`nocompatible`“模式”开始：

```
set all&
set nocompatible 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-08T13:51:43.620

我知道您的意思/需要，并且我确实有自己的解决方案，虽然不是最好的，但它确实有效。:)

我知道这个解决方案是一个更成熟的解决方案，但我认为它比让 Vim 通过 VimL 和类似的东西来做所有事情更好。;)

基本上，您需要的是一个 dotfiles 文件夹和一个 dotfiles 存储库。我不会教你如何制作一个 dotfiles repo，你可以从谷歌找到[大量](http://blog.smalleycreative.com/tutorials/using-git-and-github-to-manage-your-dotfiles/) [的](http://squaremasher.blogspot.mx/2009/12/managing-dotfiles-with-git.html) [条目](http://dotfiles.github.com/)。

接下来，您要做的是在每台新机器上安装 Git，这实际上是此方法的唯一必要条件。当然除了有软件。:)

然后，您所要做的就是：

```
# I'll be using my own dotfiles directory for these examples

# Clone my dotfiles repo to the "~/dotfiles" directory
$ git clone git@github.com:Greduan/dotfiles.git ~/dotfiles

# Run my bootstrap file
sh ~/dotfiles/bootstrap.sh 
```

好的，这很容易，但是 bootstrap.sh 文件有什么作用呢？它做了几件事，主要是运行其他做其他事情的脚本，但它也设置了我喜欢的默认 shell。这是它的快速摘录：

```
kernel=`uname -s`  # Current Kernel name
time=`date +%H:%M` # Output current time
bootstrap=1        # Now scripts know they've been called by bootstrap file

echo "I'm gonna do some stuff for you, OK? I started doing stuff at [$time]..."

if [ $kernel == 'Darwin' ]; then
    # Set some OSX options
    source ./scripts/set_osx_defaults.sh
fi

# Make the necessary symlinks
source ./scripts/make_symlinks.sh

# Install some Homebrew stuff
source ./scripts/brew_installs.sh

# Setup Vim for first use
source ./scripts/setup_vim.sh

# Set the default shell
chsh -s /bin/zsh
sudo chsh -s /bin/zsh

# Install all submodules
git submodule update --init

echo "All right! I finished! It's [$time] right now." 
```

所以你明白它的作用了吗？所有这些脚本都做了不同的事情，因此它们不会被打包在一个文件中，从而造成混乱和其他东西。我想提请您注意的文件是这三个文件：

```
# Make the necessary symlinks
source ./scripts/make_symlinks.sh

# Install some Homebrew stuff
source ./scripts/brew_installs.sh

# Setup Vim for first use
source ./scripts/setup_vim.sh 
```

让我解释一下每个人的作用......

`make_symlinks.sh`就是这样做的，它运行一堆`ln -sfn -v`我关心的点文件，换句话说，它在我使用它之前配置了我使用的所有 Unix 东西！使运行该文件变得非常容易，并设置为进入另一个新的世界机器（它还可以备份旧的点文件 [即将推出]）。

`brew_installs.sh`也很容易猜到。它运行一堆精心挑选的`brew install`命令，或者任何与 Homebrew 相关的命令，设置我的 Unix 环境以使用我喜欢的工具，而不是其他工具。

`setup_vim.sh`对您来说可能是最有趣的...它只是为 Python 事物建立一个符号链接以阻止一些错误，安装 Vundle 并安装 Vundle 的所有捆绑包。

这是我的 dotfiles repo 的 URL，如果您需要更多参考资料或想法：[https ://github.com/Greduan/dotfiles](https://github.com/Greduan/dotfiles)

我希望这能回答您的问题，并为您提供足够的灵感来提出自己的解决方案。:)

# java - Box2d libgdx，对像素到米的东西有点困惑

> ID：14208797
> 
> 赞同：1
> 
> 时间：2013-01-08T05:34:15.380
> 
> 标签：java, box2d, libgdx

所以我理解这个概念。这个想法是 box2d 或多或少以米为单位，所以你需要从像素到它的转换。说得通。[我在这里](http://code.google.com/p/libgdx/wiki/PhysicsBox2D)关注 box2d 的教程/介绍。它提到了进行转换，并为您提供了一些示例金额以供使用。现在，这一切都很好，但是我发现当我使用这些技术时，调试器框似乎没有呈现它们应该呈现的位置。然而，碰撞确实按预期工作。

在我的 GameScreen 类中，我是这样初始化地面的：

```
ground = new BodyDef();
// set the position half way up the ground
ground.position.set(0,16 * GameScreen.WORLD_TO_BOX);
groundBody = world.createBody(ground);
groundShape = new PolygonShape();
// make the height 16px so it doubles to 32
groundShape.setAsBox(Gdx.graphics.getWidth() * GameScreen.WORLD_TO_BOX, 16.0f * GameScreen.WORLD_TO_BOX);
groundBody.createFixture(groundShape, 0.0f); 
```

我在那个屏幕上的渲染方法是这样的：

```
public void render(float delta) {
    Gdx.gl.glClear(GL10.GL_COLOR_BUFFER_BIT);
    camera.update();
    stateTime += Gdx.graphics.getDeltaTime();

    batch.begin();
    batch.draw(background, 0, Gdx.graphics.getHeight() - 512, 512, 512);
    batch.draw(trailingBackground, 512, Gdx.graphics.getHeight() - 512);
    int heightToCover = Gdx.graphics.getHeight() - 512;
    int widthToCover = Gdx.graphics.getWidth();
    for(int w = 0; w < widthToCover; w += 32) {
        for(int h = 0; h < heightToCover; h += 32) {
            batch.draw(lightBackgroundTile, w, h, 32, 32);
        }
    }
    player.update();
    player.render(stateTime, batch);
    batch.end();
    levels.get(currentLevel).render(camera);

    // physics updates
    world.step(1/60f, 6, 2);
    debugRenderer.render(world, camera.combined);
} 
```

这是播放器类的构造函数，因此您可以看到我是如何设置它的碰撞 box2d 对象的。我还粘贴了上面渲染循环中调用的更新方法来调整精灵位置。

```
public Player(int x, int y, World world) {
    super();
    playerTexture = new Texture(Gdx.files.internal("assets/hero.png"));
    init(x, y, 128, 128, playerTexture, false, world);

    bodyDef = new BodyDef();
    bodyDef.type = BodyType.DynamicBody;
    bodyDef.position.set(x * GameScreen.WORLD_TO_BOX, y * GameScreen.WORLD_TO_BOX);
    body = getWorld().createBody(bodyDef);
    collisionBox = new PolygonShape();
    collisionBox.setAsBox(32 * GameScreen.WORLD_TO_BOX, 64 * GameScreen.WORLD_TO_BOX, new Vector2(64 * GameScreen.WORLD_TO_BOX, 64 * GameScreen.WORLD_TO_BOX), 0.0f);

    FixtureDef fixtureDef = new FixtureDef();
    fixtureDef.shape = collisionBox;
    fixtureDef.density = 10f; 
    fixtureDef.friction = 0.4f;
    fixtureDef.restitution = 0f;

    body.createFixture(fixtureDef);
    collisionBox.dispose();

    addFrame(0, 0, 128, 128);
}

public void update() {
    this.setX((int) ((body.getPosition().x) * GameScreen.BOX_TO_WORLD));
    this.setY((int) ((body.getPosition().y) * GameScreen.BOX_TO_WORLD));
} 
```

现在，当我在各种计算、大小等中删除这些静态浮点数的乘法时，碰撞仍然正确并且调试器框出现。然而，将原始像素传递给 box2d 感觉不对。关于为什么调试框没有按原样显示，这里有什么我遗漏的吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-08T22:43:19.000

我很喜欢你正在做的，但可能有点不同。

可能有点矫枉过正，但这是我的 jucl 端口

[jucl/Android-pastebin](http://pastebin.com/DMM6dtu4)

然后我只有实用程序类，即：

```
public class Pixel {

    public static float toMeter(float pixels) {
        return (float)LengthConversions.Pixel2SIf(pixels);
    }

    public static Vector2 toMeter(Vector2 vecPixel) {
        return new Vector2(Pixel.toMeter(vecPixel.x), Pixel.toMeter(vecPixel.y));
    }
}

public class Meter {

    public static final float METERS_PER_PIXEL = (float) LengthConversions.SI_PIXEL;

    public static float toPixel(float meter) {
        return (float)LengthConversions.SI2Pixelf(meter);
    }
} 
```

在我的初始化中：

```
int graphicsWidth = Gdx.graphics.getWidth();
int graphicsHeight = Gdx.graphics.getHeight();

CAMERA_WIDTH_METERS = Pixel.toMeter(graphicsWidth);
CAMERA_HEIGHT_METERS = Pixel.toMeter(graphicsHeight); 
```

然后在我的游戏课程中（比如你的 Player 课程）。在我的例子中，它是一个弹球游戏，所以我有 Flipper、Ball、Bumper 等。我有一个 @Override render() 方法，用于将精灵与物理体同步。

这是一个示例文件..sry 它很乱但可能会有所帮助。

[弹球引擎类文件](http://pastebin.com/2cW0X064)

# c# - 如何使用 iTextSharp 在 pdf 中绝对定位段落？

> ID：14208800
> 
> 赞同：2
> 
> 时间：2013-01-08T05:34:37.317
> 
> 标签：c#, asp.net, itext

我正在使用 ASP.NET、C# 和 iTextSharp 从头开始​​动态创建 pdf。

我正在使用这个。

```
Phrase ph = new Phrase(text);
Paragraph p = new Paragraph(ph);
p.Alignment = Element.ALIGN_JUSTIFIED;
p.SpacingBefore = spaceBefore;
p.FirstLineIndent = 170;
p.IndentationLeft = 30;
p.IndentationRight = 50;
doc.Add(p) 
```

如您所知，我曾想过使用paragraph.spacebefore。但是我需要在 pdf 中放置三个段落，并且我从用户那里获取段落的文本。所以现在根据上一段的行数，下一段将随着我不想要的高度而变化。

然后我想用这个。

```
ColumnText ct = new ColumnText(cb);
ct.AddText(p);
ct.SetSimpleColumn(100, 100, 500, 500);
ct.Go(); 
```

但在这种情况下，我希望第一行和第二行的起点不同，就像这样

```
p.FirstLineIndent = 170;
p.IndentationLeft = 30;
p.IndentationRight = 50; 
```

**编辑：** 当我尝试这个时，属性不会影响这些段落，只是所有行都从同一点开始。

是否可以？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-08T11:14:42.890

我发现答案很简单。我们可以设置 columntext 属性。

```
columntext.SetIndent(100, false); 
```

它只会将空间添加到第一行。然后对于行间距，我使用了这个。

```
columntext.Leading = 31; 
```

因此，如果将 columntext 用于段落的绝对位置，则段落属性将不起作用。但是我们可以使用 columntext 属性。

# ruby - 使用 ajax 调用的 Ruby on Rhodes

> ID：14208807
> 
> 赞同：0
> 
> 时间：2013-01-08T05:35:22.907
> 
> 标签：ruby, rhodes

我正在尝试在 rhodes 上的 ruby​​ 中构建一个动态下拉列表。我的屏幕上基本上有两个下拉列表，我正在使用 ajax 从数据库中获取第二个下拉列表的值，具体取决于第一个下拉列表中选择的值。我是ruby 的新手，不知道如何在 rhodes 上的 ruby​​ 中使用 ajax 的语法。

我正在使用的 JavaScript 代码...

```
$.post("/app/Settings/dropdown", 
 { value:a }, 
 function(data){ 
alert(data); 
```

});

-----部分控制器代码

在此处输入代码

```
def dropdown

 @a = @params['value']
  puts @a
 if @a.eql?"Auto"
   mystring="auto1|auto2|"
  else
   mystring="personal1|personal2|"
  end
end 
```

我可以通过 ajax 调用将任何参数发送到控制器。我的问题是如何将数据从控制器发送回该 ajax 调用中的函数，以便我可以使用该信息创建动态下拉列表。我想发送这个 mystring功能（数据）？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-06-03T10:05:29.843

在 Rhodes 中，控制器动作只能渲染其他动作或返回由部分组成的字符串。因此，为了使用 AJAX 填充下拉列表，您必须呈现与将作为对 AJAX 调用的响应返回的操作关联的视图。

控制器“下拉”操作：-

```
def dropdown
    @a = @params['value']
    if @a.eql?"Auto"
        @optionList[:auto1]="auto1"
        @optionList[:auto2]="auto2"
    else
        @optionList[:personal1]="personal1"
        @optionList[:personal2]="personal2"
    end
    render :action => "dropdown"
end 
```

'dropdown.erb' 视图：-

```
<% optionList.each do |key, value| %>
    <option value="<%= key %>"><%= value %></option>
<% end %> 
```

AJAX 调用：-

```
$.post(
    "/app/Settings/dropdown", 
    { value:a },
    function(data){
        data = data.replace("<div>","");
        data = data.replace("</div>","");
        alert(data);
    }
}); 
```

确保替换 AJAX 响应中的**div标签，因为 Rhodes 会自动用****div**标签包围 AJAX 响应。

# jsp - jsp servlet中的java邮件获取身份验证失败异常

> ID：14208809
> 
> 赞同：0
> 
> 时间：2013-01-08T05:35:29.950
> 
> 标签：jsp, servlets, jakarta-mail

我正在用 jsp servlet 开发一个应用程序。在那使用 javamail 我正在向用户发送电子邮件。我尝试了很多，但我遇到了异常身份验证失败。请帮助我。提前谢谢你的代码如下 -

```
 package WhackAMole;

  import java.io.IOException;
  import java.util.Properties;
  import javax.servlet.ServletException;
 import javax.servlet.http.HttpServlet;
 import javax.servlet.http.HttpServletRequest;
 import javax.servlet.http.HttpServletResponse;
 import javax.mail.internet.AddressException;
 import javax.mail.internet.InternetAddress;
import javax.mail.internet.MimeMessage;
import javax.mail.AuthenticationFailedException;
import javax.mail.Authenticator;
import javax.mail.PasswordAuthentication;
import javax.mail.Message;
import javax.mail.MessagingException;
import javax.mail.Session;
import javax.mail.Transport;

public class MailServlet extends HttpServlet {
private static final long serialVersionUID = 1L;
private String from;
private String to;
private String subject;
private String mess;
private String message;
private String password;

public MailServlet() {
    super();
    // TODO Auto-generated constructor stub
}

protected void processRequest(HttpServletRequest request,
        HttpServletResponse response) throws IOException, ServletException {

     from = request.getParameter("from");
     to = request.getParameter("to");

     subject = "Whack_A_Mole game score";
     mess = request.getParameter("sc");
     message="Your Score is"+mess;
     password =request.getParameter("pass");
    System.out.println("in mail servlet");

    try {

        /* Setting Properties for STMP host */
        Properties props = new Properties();
        props.put("mail.smtp.host", "smtp.gmail.com");
        props.put("mail.smtp.port", "465");
        props.put("mail.smtp.auth", "true");
        props.put("mail.debug", "true");
        props.put("mail.smtp.socketFactory.port", "465");
        props.put("mail.smtp.socketFactory.class",
                "javax.net.ssl.SSLSocketFactory");
        props.put("mail.smtp.socketFactory.fallback", "false");
        props.put("mail.smtp.port", "465");

        Authenticator auth = new SMTPAuthenticator(from, password);

        Session session = Session.getInstance(props, auth);
        MimeMessage mimeMessage = new MimeMessage(session);
        mimeMessage.setRecipient(Message.RecipientType.TO,
                new InternetAddress(to));
        mimeMessage.setFrom(new InternetAddress(from));
        mimeMessage.setSubject(subject);
        mimeMessage.setText(message);
        Transport.send(mimeMessage);
    } catch (AuthenticationFailedException ex) {
        request.setAttribute("ErrorMessage", "Authentication failed");

    } catch (AddressException ex) {
        request.setAttribute("ErrorMessage", "Wrong email address");

        /*RequestDispatcher dispatcher = request.getRequestDispatcher(err);
        dispatcher.forward(request, response);*/

    } catch (MessagingException ex) {
        request.setAttribute("ErrorMessage", ex.getMessage());

        /*RequestDispatcher dispatcher = request.getRequestDispatcher(err);
        dispatcher.forward(request, response);*/
    }
    /*RequestDispatcher dispatcher = request.getRequestDispatcher(succ);
    dispatcher.forward(request, response);*/

}

private class SMTPAuthenticator extends Authenticator {

    private PasswordAuthentication authentication;

    public SMTPAuthenticator(String login, String password) {
        authentication = new PasswordAuthentication(login, password);
    }

    protected PasswordAuthentication getPasswordAuthentication() {
        return authentication;
    }
}

/**
 * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse
 *      response)
 */
protected void doGet(HttpServletRequest request,
        HttpServletResponse response) throws ServletException, IOException {
    processRequest(request, response);
}

/**
 * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse
 *      response)
 */
protected void doPost(HttpServletRequest request,
        HttpServletResponse response) throws ServletException, IOException {
    processRequest(request, response);
    System.out.println("in servlet...........");
}

   } 
```

错误-

```
 java.lang.NoClassDefFoundError: javax/mail/AuthenticationFailedException
java.lang.Class.getDeclaredConstructors0(Native Method)
java.lang.Class.privateGetDeclaredConstructors(Unknown Source)
java.lang.Class.getConstructor0(Unknown Source)
java.lang.Class.newInstance0(Unknown Source)
java.lang.Class.newInstance(Unknown Source)
org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)
org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:298)
org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:859)
org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:588)
org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:489)
java.lang.Thread.run(Unknown Source) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T06:26:48.027

似乎缺少类，在服务器 lib 文件夹中添加[Java Mail jar。](http://www.oracle.com/technetwork/java/javamail/index-138643.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T07:45:20.843

您需要将两个 jar 添加到 WEB-INF/lib 目录中：

1.  [mail.jar](http://repo2.maven.org/maven2/javax/mail/mail/1.4.1/mail-1.4.1.jar) - 包含实际的 smtp 实现
2.  [activation.jar](http://repo2.maven.org/maven2/javax/activation/activation/1.1.1/activation-1.1.1.jar) - mail.jar 需要

# javascript - Phonegap navigator.notification.alert 回调不适用于适用于 Android 的 cordova2.1.0

> ID：14208812
> 
> 赞同：1
> 
> 时间：2013-01-08T05:35:54.057
> 
> 标签：javascript, android, cordova

我正在使用 cordova2.1.0 开发一个 android 应用程序，在此我使用 navigator.notification.alert 并在单击警报的 Ok 按钮时使用回调函数。我弹出警报，但单击“确定”时未调用回调函数。我使用cordova2.0.0版本让它工作，但在cordova2.1.0中不起作用。请帮我。我正在使用的代码如下：

```
 function WriteReviewAlert(){
        navigator.notification.alert(
            'Alert message.',  // message
             gotoSettings,         // callback
            'Test',            //title
            'OK'                  // buttonName
        );
}

  function gotoSettings()
{
    $.mobile.changePage( 'settings.html', { transition: "slide"} );
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T06:06:11.713

检查这个它可能对你有帮助..

```
<!DOCTYPE html>
    <html>
      <head>
        <title>Notification Example</title>
        <script type="text/javascript" charset="utf-8" src="cordova-1.9.0.js"></script>
        <script type="text/javascript" charset="utf-8">

            document.addEventListener("deviceready", onDeviceReady, false);
            // PhoneGap is ready       
            function onDeviceReady() {

            }

        function onConfirm(button) {
            alert('...');
        }

                function showConfirm() {
            navigator.notification.confirm(
            'You are the best!',  // message
            onConfirm,              // callback to invoke with index of button pressed
            'TEST',            // title
            'OK'          // buttonLabels
        );
        }
    </script>
  </head>
  <body>
    <p><a href="#" onclick="showConfirm(); return false;">Show Confirm</a></p>
  </body>
</html> 
```

# smtp - php 可以在服务器中未安装邮件服务器的情况下发送电子邮件吗？

> ID：14208817
> 
> 赞同：1
> 
> 时间：2013-01-08T05:37:03.543
> 
> 标签：smtp

我知道我们可以使用不同主机上的 smtp 服务器从 php 发送电子邮件，或者如果安装了本地 smtp 服务器。我想知道的是php可以在没有任何本地或远程smtp服务器的情况下发送电子邮件吗？我听说过 sendmail 程序，但它可以在服务器中不安装任何邮件服务器的情况下运行吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-08T14:44:33.927

在某些时候，您必须与 SMTP 服务器通信。通过本地主机上的 SMTP 服务器发送是最干净的选项，并且最有可能成功通过垃圾邮件过滤器。

邮件服务器的作用相当复杂。让我们将您的平均电子邮件从您的电子邮件客户端到达您的电子邮件服务器，并将出站主机作为目的地：

1.  服务器会检查您的用户帐户并确保其有效。
2.  电子邮件或单独为每个收件人或作为一条消息进入队列（取决于服务器）。
3.  服务器在队列中找到电子邮件并处理每个收件人地址。这需要 DNS 查找每个目标域的 MX 记录。
4.  电子邮件服务器连接到 MX 记录指定的地址，并将电子邮件传递给它，就像通过 SMTP 一样。
5.  成功后，电子邮件将从队列中删除。失败时，电子邮件可能会保留在队列中，服务器将稍后重试（指数退避 - 参见灰名单）或放入邮件队列中，以便稍后在您通过 POP3 检查电子邮件时返回给您。

队列中的下一个电子邮件服务器然后重复上述操作，直到最后一个服务器接收到电子邮件并进入收件人的邮箱。

在 PHP 中这样做是可能的，但我不建议这样做。MX 记录查找可能很棘手，因为人们会做各种邮件服务器可以容忍的不合规的事情。此外，您的脚本在尝试直接连接到目标 SMTP 服务器时可能会超时。一些服务器还配置了“灰名单”电子邮件，这意味着电子邮件最初会被拒绝，但稍后会被接受（例如 30 分钟并不罕见）。一般的 PHP 脚本将无法处理这种情况。

# php - 如何在 Internet Explorer 的谷歌图表中制作透明背景？

> ID：14208825
> 
> 赞同：1
> 
> 时间：2013-01-08T05:38:07.947
> 
> 标签：php, javascript

如何在 Internet Explorer 的 Google 图表中制作透明背景？

我用过

`'backgroundColor':'transparent'` 和`'backgroundColor' = {fill: <color>};`

它适用于 FF、Chrome、Safari 和 Opera，但不适用于 Internet Explorer。

有没有办法让它在 Internet Explorer 中透明？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-15T09:24:31.720

我有同样的问题，Internet Explorer 7,8 将在 iframe 上显示图表，所以我在 iframe 使用事件准备好的图表上将 jQuery 添加到正文标签的透明背景。

```
google.load("visualization", "1", {packages:["corechart"]});                                
                            google.setOnLoadCallback(drawChart);                                
                            function drawChart() {
                                var data = google.visualization.arrayToDataTable([
                                    ['', ''],
                                    ['', 2],
                                    ['', 8]
                                ]);

                                var options = {
                                    colors: ['#b28dc1', '#79449a'],
                                    legend: {position: 'none'},
                                    backgroundColor: 'transparent',
                                    pieSliceText: 'value',
                                    pieHole: 0.55,
                                    pieSliceBorderColor: 'none'
                                };

                                var chart = new google.visualization.PieChart(document.getElementById('chart1'));
                                google.visualization.events.addListener(chart, 'ready', addIETransparentBg);                                        
                                chart.draw(data, options);                                                                  
                            }
                            function addIETransparentBg(e) {
                                $("iframe").contents().find("body").css({'background': 'none'});
                            } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T08:57:01.193

这可以通过以下任一方式完成

```
backgroundColor: {stroke:null, fill:null, strokeSize: 0} // or
 backgroundColor:#colorcode ; 
```

或者您可以添加空白 png 图像背景来执行此操作

# regex - 正则表达式匹配任何不包含点字符的字符串

> ID：14208826
> 
> 赞同：20
> 
> 时间：2013-01-08T05:38:11.233
> 
> 标签：regex

例如匹配任何文件夹名称，除了扩展名之前有点（。）的文件
我尝试`[^\.]`但`.+[^\.].*`没有任何工作

* * *

## 回答 #1

> 赞同：34
> 
> 时间：2013-01-08T05:40:20.360

你需要锚定它：

```
^[^.]+$ 
```

这将匹配由除点以外的任何字符组成的字符串。这就是你所说的“扩展前”吗？如果您的意思是“一开始”，那么`^[^.]`就可以了。

但是，如果这不是 grep 之类的东西，并且您拥有一门实际的编程语言，那么在那儿可能会更好地完成。（例如，即使使用 grep 也最好只写`grep -v '^\.'`。）

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-01-08T05:41:19.313

试试`^[^.]+$`。顺便说一句，您不需要在 [] 内转义点。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-01-08T05:41:06.880

那这个呢：

```
^[^.]+$ 
```

## [演示正则表达式](http://regexr.com?33b3a)

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-01-08T05:41:34.280

你可以做：

```
^[^.]+$ 
```

或者

```
^(?!.*\.).*$ 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2017-07-27T06:15:06.827

不要为此烦恼正则表达式，这很昂贵。这是一个更快的示例（在 php 中）

```
foreach($files as $file)
{
    // ignore dot files
    if( 0 === strpos($file,'.') ) continue;
    ...
} 
```

# heroku - 使用 Vulcan 在 Heroku 上安装 raspell gem

> ID：14208827
> 
> 赞同：3
> 
> 时间：2013-01-08T05:38:13.703
> 
> 标签：heroku, gem, aspell

我想使用[thinking-sphinx-raspell](https://github.com/pat/thinking-sphinx-raspell/) gem 来为我们网站上的搜索提供您的意思建议。它适用于我的开发机器（Mountain Lion），但我很难在 Heroku Cedar 上部署它。

gem 依赖于[raspell](https://github.com/evan/raspell) gem ，而后者又依赖于[aspell](http://aspell.net/)。因为 aspell 不包含在 Heroku Cedar 堆栈中，所以我使用 Vulcan 在 Heroku 机器上编译它，将二进制文件添加到我的 git 存储库，然后将其推送到 Heroku。[我在这里](https://github.com/pat/thinking-sphinx-raspell/issues/11#issuecomment-11874991)更详细地描述了这些步骤。

这会导致捆绑器阶段出现错误：

```
Installing raspell (1.3)
Gem::Installer::ExtensionBuildError: ERROR: Failed to build gem native extension.
/usr/local/bin/ruby extconf.rb
checking for ruby.h... yes
checking for aspell.h... no
checking for main() in -laspell... no
creating Makefile
make
gcc -I. -I/usr/local/include/ruby-1.9.1/x86_64-linux -I/usr/local/include/ruby-1.9.1/ruby/backward -I/usr/local/include/ruby-1.9.1 -I. -DHAVE_RUBY_H -I/opt/local/include    -fPIC -O3 -ggdb -Wextra -Wno-unused-parameter -Wno-parentheses -Wpointer-arith -Wwrite-strings -Wno-missing-field-initializers -Wno-long-long  -o raspell.o -c raspell.c
In file included from raspell.c:2:
raspell.h:6:20: error: aspell.h: No such file or directory 
```

如果我理解正确的话，这种对 aspell.h 的依赖是在 raspell gem 的 extconf.rb 中设置[的](https://github.com/evan/raspell/blob/master/ext/extconf.rb)：

```
have_header("aspell.h") 
```

我将该头文件放在项目的 bin 目录中。不是最好的地方，但我认为这不是问题所在。这对应`/app/bin`于 Heroku 文件系统。我将此路径添加到`PATH`,`C_INCLUDE_PATH`并`CPLUS_INCLUDE_PATH`设置`CFLAGS`为`-I/app/bin`.

我做错了什么？还是我在尝试一些对 Heroku 不起作用的东西？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-03-08T03:02:42.923

你看过 Heroku 的 buildpacks 吗？ [https://devcenter.heroku.com/articles/buildpacks](https://devcenter.heroku.com/articles/buildpacks)

它们似乎是一种自定义堆栈的方法。（自从您提出问题以来，可能已经介绍了它们。）

# android - 拍摄照片时出错（LinearLayout 中的 NullPointerException）

> ID：14208830
> 
> 赞同：1
> 
> 时间：2013-01-08T05:38:23.907
> 
> 标签：android, android-camera

我正在使用 Intent 在我的应用程序中拍摄照片：

```
Intent cameraIntent = new Intent(android.provider.MediaStore.ACTION_IMAGE_CAPTURE);
startActivityForResult(cameraIntent, CAMERA_REQUEST); 
```

但是当我捕获照片并单击“保存”按钮时，它会引发错误，即：

```
liblog              failed to call dumpstate
AndroidRuntime      java.lang.NullPointerException
AndroidRuntime      at android.widget.LinearLayout.layoutHorizontal(LinearLayout.java:1210)
AndroidRuntime      at android.widget.TableRow.onLayout(TableRow.java:121)       
AndroidRuntime      at android.view.View.layout(View.java:7175)
AndroidRuntime      at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1254)
AndroidRuntime      at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1130)
AndroidRuntime      at android.widget.TableLayout.onLayout(TableLayout.java:440)
AndroidRuntime      at android.view.View.layout(View.java:7175)
AndroidRuntime      at android.widget.FrameLayout.onLayout(FrameLayout.java:338)
AndroidRuntime      at android.widget.ScrollView.onLayout(ScrollView.java:1565)
AndroidRuntime      at android.view.View.layout(View.java:7175)
AndroidRuntime      at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1254)
AndroidRuntime      at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1130)
AndroidRuntime      at android.widget.LinearLayout.onLayout(Lin1earLayout.java:1047)
AndroidRuntime      at android.view.View.layout(View.java:7175)
AndroidRuntime      at android.widget.FrameLayout.onLayout(FrameLayout.java:338)
AndroidRuntime      at android.view.View.layout(View.java:7175)
AndroidRuntime      at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1254)
AndroidRuntime      at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1130)
AndroidRuntime      at android.widget.LinearLayout.onLayout(LinearLayout.java:1047)
AndroidRuntime      at android.view.View.layout(View.java:7175)
AndroidRuntime      at android.widget.FrameLayout.onLayout(FrameLayout.java:338)
AndroidRuntime      at android.view.View.layout(View.java:7175)
AndroidRuntime      at android.view.ViewRoot.performTraversals(ViewRoot.java:1146)
AndroidRuntime      at android.view.ViewRoot.handleMessage(ViewRoot.java:1865)
AndroidRuntime      at android.os.Handler.dispatchMessage(Handler.java:99)
AndroidRuntime      at android.os.Looper.loop(Looper.java:130)     
AndroidRuntime      at android.app.ActivityThread.main(ActivityThread.java:3687)
AndroidRuntime      at java.lang.reflect.Method.invokeNative(Native Method)          
AndroidRuntime      at java.lang.reflect.Method.invoke(Method.java:507)       
AndroidRuntime      at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:867)
AndroidRuntime      at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:625)
AndroidRuntime      at dalvik.system.NativeStart.main(Native Method)
                    Dumpstate > /data/log/dumpstate_app_error 
```

但是当我将此应用程序用于不同的手机时，它可以完美运行。我不知道是什么问题。

拍照后代码：

```
@Override
protected void onActivityResult(int requestCode, int resultCode, Intent data) {
    super.onActivityResult(requestCode, resultCode, data);
    try {
        if (requestCode == CAMERA_REQUEST) {

            Bitmap bitmap = (Bitmap) data.getExtras().get("data");
            imageViewPhoto.setImageBitmap(bitmap);

        }

    } catch (NullPointerException e) {
        Toast.makeText(this, "Problem while capturing photo. Try after some time.", Toast.LENGTH_LONG).show();
    }
} 
```

# python - python apt_pkg 获取个人 pkg 详细信息？

> ID：14208831
> 
> 赞同：0
> 
> 时间：2013-01-08T05:38:46.363
> 
> 标签：python, debian, apt

我一直在使用 apt_pkg 和 apt 库的组合从每个包中获取以下详细信息：

```
package.name
package.installedVersion
package.description
package.homepage
package.priority 
```

我能够通过以下方式获得我需要的东西，我不完全确定这是获得结果的最佳方法：

```
import apt_pkg, apt

apt_pkg.InitConfig()
apt_pkg.InitSystem()

aptpkg_cache = apt_pkg.GetCache() #Low level 
apt_cache = apt.Cache() #High level

apt_cache.update()
apt_cache.open()

pkgs = {}
list_pkgs = []

for package in aptpkg_cache.Packages:
       try:
          #I use this to pass in the pkg name from the apt_pkg.packages
          #to the high level apt_cache which allows me to obtain the
          #details I need. Is it better to just stick to one library here?
          #In other words, can I obtain this with just apt_pkg instead of using apt?

          selected_package = apt_cache[package.name]

          #Verify that the package can be upgraded
          if check_pkg_status(package) == "upgradable":
           pkgs["name"] = selected_package.name
               pkgs["version"] = selected_package.installedVersion
               pkgs["desc"] = selected_package.description
               pkgs["homepage"] = selected_package.homepage
               pkgs["severity"] = selected_package.prority

               list_pkgs.append(pkgs)
          else:
               print "Package: " + package.name + " does not exist"
               pass #Not upgradable?

        except:
          pass #This is one of the main reasons why I want to try a different method.
              #I'm using this Try/Catch because there are a lot of times that when
              #I pass in package.name to apt_cache[], I get error that package does not
              #exists... 

def check_pkg_status(package):
        versions = package.VersionList
        version = versions[0]
        for other_version in versions:
            if apt_pkg.VersionCompare(version.VerStr, other_version.VerStr)<0:
                version = other_version

        if package.CurrentVer:
            current = package.CurrentVer
            if apt_pkg.VersionCompare(current.VerStr, version.VerStr)<0:
                return "upgradable"
            else:
                return "current"
        else:
            return "uninstalled" 
```

我想找到一种使用 apt_pkg/apt 来获取每个可能升级/更新候选包的详细信息的好方法？

我目前这样做的方式是，我只获得系统中已有软件包的更新/升级，即使**我注意到 Debian 的更新管理器向我显示了我系统中没有的软件包。**

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-08T12:18:54.503

以下脚本基于您的 python 代码，适用于我的 Ubuntu 12.04，也适用于任何具有 python-apt 0.8+ 的系统

```
import apt

apt_cache = apt.Cache() #High level

apt_cache.update()
apt_cache.open()

list_pkgs = []

for package_name in apt_cache.keys():
    selected_package = apt_cache[package_name]

    #Verify that the package can be upgraded
    if selected_package.isUpgradable:
        pkg = dict(
            name=selected_package.name,
            version= selected_package.installedVersion,
            desc= selected_package.description,
            homepage= selected_package.homepage,
            severity= selected_package.priority)
        list_pkgs.append(pkg)

print list_pkgs 
```

# javascript - 如果列表 LI 使用 jquery 的 UL 对我不起作用，则更改 div 的高度

> ID：14208832
> 
> 赞同：0
> 
> 时间：2013-01-08T05:38:49.613
> 
> 标签：javascript, jquery, css

我正在研究一个对我来说很好的水平菜单，但根据设计要求，我需要更改`<div id="nav-subMenu"></div>`主/父菜单`li`没有任何`ul`或子菜单的高度。我写的 jquery 对我不起作用，我将不胜感激这方面的帮助。

这是一个[jsFiddle的例子](http://jsfiddle.net/zMty8/)

`if ($('#nav-wrapper ul li').has('ul'))`总是回来`true`

**示例 jQuery**

```
jQuery(document).ready(function () {

    if ($('#nav-wrapper ul li').hasClass('active')) { //if it does have the class active
        if ($('#nav-wrapper ul li').has('ul')) {
            alert('aaaa');
            $('#nav-subMenu').css("height", "30");
        }
    }
}); 
```

示例 HTML 代码

```
<div id="nav-wrapper">
   <ul class="dropdown dropdown-linear" id="nav">
      <li><span class="dir"><a href="#">Home</a></span></li>
      <li><span class="dir"><a href="#">About Us</a></span></li>
      <li><span class="dir"><a href="Articles.aspx?PageID=5&amp;Language=en-us&amp;ParID=0&amp;Issue=5&amp;CID=1">Articles</a></span></li>
      <li class="active">
         <span class="dir"><a href="Page.aspx?PageID=6&amp;Language=en-us&amp;ParID=0&amp;Issue=5&amp;CID=1">Categories</a></span>
         <ul>
            <li><a href="Page.aspx?PageID=6&amp;Language=1&amp;ParID=6&amp;Issue=1&amp;CID=18">Book Review</a></li>
            <li><a href="Page.aspx?PageID=6&amp;Language=1&amp;ParID=6&amp;Issue=1&amp;CID=16">Business</a></li>
            <li><a href="Page.aspx?PageID=6&amp;Language=1&amp;ParID=6&amp;Issue=1&amp;CID=3">Culture</a></li>
            <li><a href="Page.aspx?PageID=6&amp;Language=1&amp;ParID=6&amp;Issue=1&amp;CID=2">Economy</a></li>
            <li><a href="Page.aspx?PageID=6&amp;Language=1&amp;ParID=6&amp;Issue=1&amp;CID=19">Finance</a></li>
            <li><a href="Page.aspx?PageID=6&amp;Language=1&amp;ParID=6&amp;Issue=1&amp;CID=17">Infrastructure</a></li>
            <li><a href="Page.aspx?PageID=6&amp;Language=1&amp;ParID=6&amp;Issue=1&amp;CID=20">Lifestyle</a></li>
            <li><a href="Page.aspx?PageID=6&amp;Language=1&amp;ParID=6&amp;Issue=1&amp;CID=21">Others</a></li>
            <li><a href="Page.aspx?PageID=6&amp;Language=1&amp;ParID=6&amp;Issue=1&amp;CID=7">People</a></li>
            <li><a href="Page.aspx?PageID=6&amp;Language=1&amp;ParID=6&amp;Issue=1&amp;CID=1">Politics</a></li>
            <li><a href="Page.aspx?PageID=6&amp;Language=1&amp;ParID=6&amp;Issue=1&amp;CID=4">Sports</a></li>
         </ul>
      </li>
      <li><span class="dir"><a href="News.aspx?PageID=3&amp;Language=en-us&amp;ParID=0&amp;Issue=5&amp;CID=1">News</a></span></li>
      <li>
         <span class="dir"><a href="Page.aspx?PageID=12&amp;Language=en-us&amp;ParID=0&amp;Issue=5&amp;CID=1">Archive</a></span>
         <ul>
            <li><a href="Page.aspx?PageID=1&amp;Language=1&amp;ParID=12&amp;Issue=1&amp;CID=1">106</a></li>
            <li><a href="Page.aspx?PageID=3&amp;Language=1&amp;ParID=12&amp;Issue=3&amp;CID=1">102</a></li>
            <li><a href="Page.aspx?PageID=4&amp;Language=1&amp;ParID=12&amp;Issue=4&amp;CID=1">103</a></li>
            <li><a href="Page.aspx?PageID=5&amp;Language=1&amp;ParID=12&amp;Issue=5&amp;CID=1">109</a></li>
         </ul>
      </li>
      <li>
         <span class="dir"><a href="Multimedia.aspx?PageID=10&amp;Language=en-us&amp;ParID=0&amp;Issue=5&amp;CID=1">Multimedia</a></span>
         <ul>
            <li><a href="Videos.aspx?PageID=11&amp;Language=1&amp;ParID=10&amp;Issue=1&amp;CID=1">Video</a></li>
         </ul>
      </li>
   </ul>
</div>
 <div id="nav-subMenu"></div>
<div id="NewsTicker"> </div> 
```

更新：Firebug 视图以了解何时应该触发 jquery 以向 DIV 添加高度 ![在此处输入图像描述](../Images/7028aad3d2396a3a869497d397031ebc.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T06:07:09.837

我发现了您的问题，并且可以按您的意愿工作，请尝试一下：

```
jQuery(document).ready(function () {
  if ($("#nav-wrapper li.active").length) {
    alert('yes there are .active class');
    if ($(".active").has('ul').length) {
      alert('yes .active class has ul');
      $('#nav-subMenu').css("height", "60px");
    } else {
      alert("NO .active class don't have ul");
      $('#nav-subMenu').css("height", "0px");
    }
  } else {
    alert("NO .active class found.");
  }
}); 
```

在这里的小提琴中检查一下：http: [//jsfiddle.net/zMty8/27/](http://jsfiddle.net/zMty8/27/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T05:48:36.727

试试这个：

```
 if ($('#nav-wrapper ul li').has('ul')) {
     $('#nav-subMenu').css("height", "30px");
 }
 if ($('#nav-wrapper ul li').has('ul')) {
     alert('a');
     $('#nav-subMenu').css("height", "30px");
 } 
```

参考[这里](http://api.jquery.com/has/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-08T05:50:51.463

检查此代码：

```
jQuery(document).ready(function () {

    if ($('#nav-wrapper ul li').hasClass('active')) { //if it doesn't have the class active
        if ($('#nav-wrapper ul li > ul'.length > 0)) {
           $('#nav-subMenu').css("height", "30");
        }
    }
}); 
```

**[演示](http://jsfiddle.net/arvind07/zMty8/2/)**

# javascript - Windows 应用商店应用程序或 HTML5 拖放是否支持触控设备？

> ID：14208834
> 
> 赞同：3
> 
> 时间：2013-01-08T05:39:17.933
> 
> 标签：javascript, html, windows-8, windows-runtime, winjs

我是 html5 和 windows 商店应用程序的新手。我创建了一个项目，我希望我的图像能够拖动。首先对于鼠标拖动它工作得很好，但后来我在触摸设备上测试它不工作。这是图像：

这个是在非触摸设备上测试的，它可以工作：

![这个是用鼠标光标工作的](../Images/d62a9b548d2f69892997f412b2d4b92a.png)

这个是在触摸设备上测试的，它不起作用：

![不工作](../Images/a1fc558c4e1d01d2eb0427b12bdf56aa.png)

这是我的html：

```
<!DOCTYPE html>
<html>
    <head>
        <script src="script.js"></script>
        <title>Drag and Drop</title>
    </head>

<body>

<div id="content">
    <div id="Store" style="border: solid 1px white;"></div>

    <div id="right" style="border: solid 1px white;">
        <img id="img1" src="/image/bugimgS1.png" />
    </div>

</div>
    </body>
</html> 
```

这是我的脚本：

```
(function () {
    WinJS.UI.Pages.define('DragandDrop.html',
        {
            ready: function ()
            {
                define();
            }
        });
    function get(ID) { return document.getElementById(ID); }
    function create(tag) { return document.createElement(tag); }
    function define()
    {
        var r = get('Store');
        var img1 = get('img1');
        img1.addEventListener('dragstart', _dragStart, false);
        r.addEventListener('dragenter', function (e) { e.preventDefault(); });
        r.addEventListener('dragover', function (e) { e.preventDefault(); });
        r.addEventListener('drop', _dropped, false);

        function _dragStart(e) {
            e.dataTransfer.setData('Text', e.target.id);
        }

        function _dropped(e) {
            e.preventDefault();
            var data = e.dataTransfer.getData('Text');
            r.appendChild(document.getElementById(data));
        }

    }

})(); 
```

请我真的需要帮助才能使这个程序在触摸和非触摸设备上都工作。提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-09T21:54:16.233

您需要使用[MSGesture](http://msdn.microsoft.com/en-us/library/windows/apps/hh968035.aspx)对象才能支持通过触摸事件进行拖放。`onclick`无论鼠标指针、触摸或数字化触控笔如何，其他事件都可以无缝工作。拖动事件当前不会通过触摸触发。我已经在 Chrome 和 IE 中对此进行了测试。

这里有一个很棒的演示：http: [//ie.microsoft.com/testdrive/Browser/BrowserSurface/](http://ie.microsoft.com/testdrive/Browser/BrowserSurface/)

# javascript - 在所有浏览器中使用 javascript 显示或隐藏元素

> ID：14208836
> 
> 赞同：1
> 
> 时间：2013-01-08T05:39:24.860
> 
> 标签：javascript, html, css

这是html代码..

```
<select id="dept" name="dept" style="float: left;">
        <option value="eee" onclick="toggleDisplay('dept_input_div', 0)">EEE</option>
        <option value="ece" onclick="toggleDisplay('dept_input_div', 0)">ECE</option>
        <option value="eie" onclick="toggleDisplay('dept_input_div', 0)">EIE</option>
        <option value="cse" onclick="toggleDisplay('dept_input_div', 0)">CSE</option>
        <option value="it" onclick="toggleDisplay('dept_input_div', 0)">IT</option>
        <option value="mechanical" onclick="toggleDisplay('dept_input_div', 0)">Mechanical</option>
        <option value="civil" onclick="toggleDisplay('dept_input_div', 0)">Civil</option>
        <option value="mechatronics" onclick="toggleDisplay('dept_input_div', 0)">Mechatronics</option>
        <option value="biotech" onclick="toggleDisplay('dept_input_div', 0)">Bio-tech</option>
        <option value="automobile" onclick="toggleDisplay('dept_input_div', 0)">Automobile</option>
        <option value="chemical" onclick="toggleDisplay('dept_input_div', 0)">Chemical</option>
        <option value="aeronautical" onclick="toggleDisplay('dept_input_div', 0)">Aeronautical</option>
        <option value="architecture" onclick="toggleDisplay('dept_input_div', 0)">Architecture</option>
        <option value="others" onclick="javascript:toggleDisplay('dept_input_div', 1);">Others..</option>
      </select>
      <div id="dept_input_div" style="display: none">
      <input class="inputbox" name="dept-input" type="text" id="dept-inputbox" />
      </div> 
```

这是javascript代码..

```
 function toggleDisplay(id, displayvalue)
{
    if ( displayvalue == 1 ) {
        document.getElementById(id).style.display = 'block';
    } else if ( displayvalue == 0 ) {
        document.getElementById(id).style.display = 'none';
    }
} 
```

上面的代码在 Firefox 和 ie（兼容性视图已关闭）中运行良好，但在 chrome 和 ie（兼容性已打开）中运行良好。

我究竟做错了什么？有没有一种适用于所有浏览器的正确方法？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-08T06:02:59.000

使用 onchange 而不是 onclick

**html**

```
<select id="dept" name="dept" style="float: left;" onchange="toggleDisplay('dept_input_div' , this.value)">
            <option value="eee" >EEE</option>
            <option value="ece" >ECE</option>
            <option value="eie" >EIE</option>
            <option value="cse" >CSE</option>
            <option value="it" >IT</option>
            <option value="mechanical" >Mechanical</option>
            <option value="civil" >Civil</option>
            <option value="mechatronics" >Mechatronics</option>
            <option value="biotech" >Bio-tech</option>
            <option value="automobile" >Automobile</option>
            <option value="chemical" >Chemical</option>
            <option value="aeronautical" >Aeronautical</option>
            <option value="architecture" >Architecture</option>
            <option value="others">Others..</option>
</select>
<div id="dept_input_div" style="display: none">
      <input class="inputbox" name="dept-input" type="text" id="dept-inputbox" />
</div> 
```

**javascript**

```
function toggleDisplay(id, displayvalue)
{    
    if ( displayvalue == "others" ) {
         document.getElementById(id).style.display = 'block';
    } else {
         document.getElementById(id).style.display = 'none';
    }
} 
```

# php - joomla - 在一个模型中运行多个查询

> ID：14208840
> 
> 赞同：1
> 
> 时间：2013-01-08T05:39:50.510
> 
> 标签：php, mysql, joomla

我有一个 Joomla 1.5 MVC 组件，它运行一个具有许多不同布局的视图，这些布局都可以正常工作。我试图在模型中合并多个函数以从不同的表中提取。第二个（和第三个）函数尝试提取的内容取决于通过第一个函数传递的变量：

```
function mlsData($column) {

    $db = JFactory::getDBO();
    $mlsnumber = JRequest::getVar('mlsnum');
    $query = "
      SELECT *
        FROM ".$db->nameQuote('#__mls')."
        WHERE ".$db->nameQuote('MSTMLSNO')." = ".$db->quote($mlsnumber).";
    ";
    $db->setQuery($query);
    $row = $db->loadRow();
    return $row[$column];

}

function agentData($column) {
    $db = JFactory::getDBO();
    $agentuid = mlsData(0);
    $query = "
      SELECT *
        FROM ".$db->nameQuote('#__agents')."
        WHERE ".$db->nameQuote('AGTBRDIDMM')." = ".$db->quote($agentuid).";
    ";
    $db->setQuery($query);
    $row = $db->loadRow();
    return $row[$column];
}

function agencyData($column) {
    $db = JFactory::getDBO();
    $agencyid = agentData(7);
    $query = "
      SELECT *
        FROM ".$db->nameQuote('#__agency')."
        WHERE ".$db->nameQuote('OFFFRMID')." = ".$db->quote($agencyid).";
    ";
    $db->setQuery($query);
    $row = $db->loadRow();
    return $row[$column];
} 
```

一切运行良好，直到在我的模型中，我尝试通过第二个函数`agentData()`. 我不知道我遇到了什么错误，因为页面上没有显示任何内容。我的意思是，没有内容，没有模板，什么都没有。它实际上只显示这个：

```
<html>
    <head></head>
    <body></body>
</html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T06:26:58.707

首先启用错误报告。将以下代码放入您的文件中并检查是否出现任何错误 -

```
ini_set('display_errors', '1');
error_reporting(E_ALL ^ E_NOTICE); 
```

原因可能是您直接调用函数并且它在类中。使用这个运算符，看看它是否有效。

更改`$agentuid = mlsData(0);`为`$agentuid = $this->mlsData(0);`

相同的 -`$agencyid = agentData(7);`到`$agencyid = $this->agentData(7);`

希望这会帮助你。

# python - GAE 中的会话以逗号分隔

> ID：14208854
> 
> 赞同：1
> 
> 时间：2013-01-08T05:40:56.770
> 
> 标签：python, google-app-engine, session

样品我有一个清单：

```
sample = [a, b, c, d] 
```

然后我想将样本传递给会话：

```
self.session['sample'] = None #declaring the session...
for item in sample:
   self.session['sample'] = str(self.session['sample']) + "," + str(item) 
```

但输出是：

**无，a，b，c，d**

我希望我的 session['sample'] 的值是 =`a, b, c, d`

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-08T05:44:20.157

您可以在一行中执行此操作，而不是使用`join()`和列表理解的循环：

```
self.session['sample'] = ", ".join(str(item) for item in sample) 
```

如果您乐于循环执行此操作，则需要制作第一项`""`而不是 None：

```
self.session['sample'] = "" # Empty string
for item in sample:
   self.session['sample'] += "," + str(item) # Note I've used += here 
```

`a += 1`只是一种整洁的写作方式`a = a + 1`

# wordpress - 通过 phpmyadmin 从自定义帖子类型“产品”中删除所有“帖子内容”

> ID：14208864
> 
> 赞同：0
> 
> 时间：2013-01-08T05:41:34.657
> 
> 标签：wordpress, phpmyadmin

使用 WordPress 和 WooCommerce，我正在尝试从 woocommerce 的“产品”中删除所有“发布内容”。

产品位于自定义帖子类型“产品”中，我不想从博客帖子或页面中删除帖子内容。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-08T13:01:44.437

我没有使用 WooCommerce 的经验，但查询是：

```
UPDATE `wp_posts`
SET `post_content` = ''
WHERE `post_type` = 'product' 
```

替换`product`为实际的 post_type WooCommerce 注册产品。如果您不知道 post_type在插件文件中搜索[register_post_type() （grep、在路径中查找，...）。](http://codex.wordpress.org/Function_Reference/register_post_type)如果您不知道该怎么做，请运行以下查询：

```
SELECT `post_type`
FROM `wp_posts`
WHERE `post_type` NOT IN ('post','page','attachment','revision','nav_menu_item') 
```

您将获得所有自定义注册帖子类型的列表。

# jquery - Ajax/Jquery - 回调之前的 Ajax 处理，beforeSend，ajaxStart，.always

> ID：14208867
> 
> 赞同：0
> 
> 时间：2013-01-08T05:41:54.230
> 
> 标签：jquery, ajax, jquery-plugins, callback, ajax-request

我目前遇到 jquery 的 ajax 调用问题。我想要做的是清空几个 div，隐藏一个容器，然后调用请求的 Ajax 代码再次填充 div，并显示它。但是，我的代码正在调用该请求，并在处理 ajax 请求时将其隐藏，导致 div 为空...

带有自定义回调的示例代码（不起作用）：

```
// This is defined within an element and is retrieving properly as well
cleanInfo(getCharacter($this.attr('id')));

function cleanInfo(callback){
    // hide the container first, then empty and callback to ajax function
$('.sel_information_container').hide('slide', {direction: 'down'}, 'fast',function(){
    $('.sel_info_top').html('');
    $('.sel_info_description').html('');
    $('.skill_tree').html('');
    callback;
       // OR
}, callback);   
}

function getCharacter(id){

if(!id){
    id = 0;
}

$.ajax({
// path is defined in core file this works right as it's retrieving the data properly... and everything is        
    // and everything is right in php...
       url : _path + "/core/ajax.php",
       type : 'POST',
       data : { f: 'getCharacter', i: id },
       dataType : 'json',
       success :  function(data) {
        // if data error is sent back process it ...
        if(data.error){

            $('body').html(data.error);

        }else{
            // if no error populate and show the container
            $('.sel_info_top').html(data.info);
            $('.sel_info_description').html(data.desc);
            $('.skill_tree').html(data.skills);
            $('.sel_information_container').show('slide', {direction: 'down'}, 'slow');         
        }

    }
});

} 
```

带有 ajaxSend/beforeSend/ajaxStart/always 的示例代码（不工作）：

```
// This is defined within an element and is retrieving properly as well
getCharacter($this.attr('id'));
// without callback and utilizing variable request...
function cleanInfo(){

$('.sel_information_container').hide('slide', {direction: 'down'}, 'fast',function(){
    $('.sel_info_top').html('');
    $('.sel_info_description').html('');
    $('.skill_tree').html('');
}); 
}

function getCharacter(id){

if(!id){
    id = 0;
}

    // Instead of attaching the results to the var, I have also ran beforeSend: cleanInfo() which 
    // does the exact same thing as the above...

var request = $.ajax({
// path is defined in core file this works right as it's retrieving the data properly... and everything is        
    // and everything is right in php...
       url : _path + "/core/ajax.php",
       type : 'POST',
       data : { f: 'getCharacter', i: id },
       dataType : 'json',
       success :  function(data) {

        if(data.error){

            $('body').html(data.error);

        }else{

            $('.sel_info_top').html(data.info);
            $('.sel_info_description').html(data.desc);
            $('.skill_tree').html(data.skills);
            $('.sel_information_container').show('slide', {direction: 'down'}, 'slow');         
        }

    }
});
    // ajaxSend, always, ajaxStart, all not working with this...
    request.ajaxSend(cleanInfo());

} 
```

任何解决方案的人？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-09T00:15:30.310

Because the ajax call is asynchronous, the `getCharacter` call will return immediately.

I would move the hiding and emptying part into `beforeSend` in the `ajax` call, and add error handling to the `ajax` call also:

```
// This is defined within an element and is retrieving properly as well
cleanInfo($(this).attr('id'));

function cleanInfo(id){
   if(!id){
       id = 0;
   }

   $.ajax({
       url : _path + "/core/ajax.php",
       type : 'POST',
       data : { f: 'getCharacter', i: id },
       dataType : 'json',
       cache: 'false',
       beforeSend: function() {
                   console.log("Emptying");
                   // hide the container first, then empty and callback to ajax function
                   $('.sel_information_container').hide('slide', {direction: 'down'}, 'fast',function(){
                       $('.sel_info_top').html('');
                       $('.sel_info_description').html('');
                       $('.skill_tree').html('');
                   }
       },
       success :  function(data) {
            // if data error is sent back process it ...
            if(data.error){
                $('body').html(data.error);
            }else{
                // if no error populate and show the container
                console.log("Populating");
                $('.sel_info_top').html(data.info);
                $('.sel_info_description').html(data.desc);
                $('.skill_tree').html(data.skills);
                $('.sel_information_container').show('slide', {direction: 'down'}, 'slow');         
            }
       },
       error: function (xhr, textStatus, thrownError) {
         $('body').html("Error: " + xhr.status + " - " + thrownError);
       }
   });
} 
```

# algorithm - 搜索引擎如何评估其结果的有用性？

> ID：14208871
> 
> 赞同：2
> 
> 时间：2013-01-08T05:42:07.987
> 
> 标签：algorithm, search-engine, information-retrieval

搜索引擎为搜索“玩游戏 XYZ”返回 2 个结果 A 和 B。点击结果 B 的人在站点 B 花费更长的时间并玩更多的 XYZ 游戏，而站点 A 的点击者在短暂访问后离开站点。

我认为站点 B 是比站点 A 更好的搜索结果，即使站点 B 可能是新的并且与 A 相比具有很少的链接。我认为更好的搜索引擎会考虑到这一点。

我的问题是，如果是这样，他们如何跟踪现实世界中搜索结果的使用模式？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-08T05:47:37.863

这里有两个问题：

1.  如果用户经常玩游戏 B - 他很可能会写并链接它（博客、评论、社交网络……）如果他这样做，B 的*静态分数*将会提高。这是[**Page Rank 算法**](http://en.wikipedia.org/wiki/PageRank)的一部分，它给出每个页面的静态分数，并帮助搜索引擎决定哪个页面更好。
2.  一些搜索引擎使用的另一个因素是：如果用户点击了一个页面，但很快就搜索了相同/相似的查询——很可能他没有找到他想要的。在这种情况下，搜索引擎可以假设该页面不适合查询并降低给予该页面的分数。

除此之外，SE 无法真正知道“您玩游戏的时间”（除非您通过研究查询多次重新访问它 - 而不是直接导航到它，然后它可以使用用户导航到的 #times通过搜索游戏）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T05:55:25.403

[搜索引擎使用PageRank 等](http://en.wikipedia.org/wiki/PageRank)算法获得结果，该算法根据链接到它的网站数量对数据库中的网站进行排序。

来自维基百科：

> 它为一组超链接文档（例如万维网）的每个元素分配一个数值权重，目的是“测量”它在集合中的相对重要性。

随着越来越多的网站喜欢它，它的声誉被认为会提高，因此它的排名。

也可以使用其他方法，例如搜索引擎**也可以**通过外部服务检测在网站上花费了多少时间。就像 Google 通过其广泛使用的跟踪/网络统计服务[Google Analytics](http://www.google.com/analytics/)跟踪所花费的时间一样。

正如其他答案所提到的，另一种方法是检测网站与查询的相关性，即是否在之前的短时间内进行了类似的搜索。这可以表明用户是否真的在之前的站点上找到了他们正在寻找的内容。

# node.js - 我如何在节点 js 中读取、写入/附加 xls 文件

> ID：14208872
> 
> 赞同：1
> 
> 时间：2013-01-08T05:42:14.943
> 
> 标签：node.js

我必须在节点 js 中读取 xls 文件，我尝试了三种方法，但我面临以下问题。请就此类问题向我提出任何可能的解决方案。

```
//first time

var office = require('office');
office.parse('test.xls', function(err, data) {
console.log(data.sheets);
});

//second time

require('xls').parse('test.xls', function(err, data) {
// xls file parsed into data
console.log(data);
});*/

//third time

var fs = require('fs');
var htmlparser = require("htmlparser");
var office = require('office');

exports.onlyText = function(test) {
test.expect(3);
var handler = new htmlparser.DefaultHandler(function (error, dom) {
    test.ok(!error, error);
var text = htmlparser.DomUtils.getElementsByTagName("P",      dom)[0].children[0].raw;
    test.strictEqual(text, '213', 'text data');
    test.done();
});
office.parse(__dirname + '/test.xls', function(err, data) {
    test.ok(!err, err);
    var parser = new htmlparser.Parser(handler);
    parser.parseComplete(data);
});
};

//error in console for all time is
//Uncaught Error: Cannot find module '../build/Release/node_expat.node' module.js:338
//Uncaught Error: Cannot find module '../build/Release/node_expat.node' module.js:338 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T06:51:51.433

看起来像一个错误[https://github.com/hipchat/hubot-hipchat/issues/46](https://github.com/hipchat/hubot-hipchat/issues/46)

尝试安装`node-expat`模块。

# windows - 如何在 Windows 命令提示符下创建和执行一个充满命令的文件？

> ID：14208883
> 
> 赞同：1
> 
> 时间：2013-01-08T05:43:14.837
> 
> 标签：windows, command-line-interface

**示例：**
在 Linux 中，我们可以将所需的命令放在一个文件中并赋予它可执行权限。这有助于我们在终端上实际运行文件，因此文件中的所有命令都会自动执行。

如何在 Windows XP 上实现这一点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-08T05:44:10.897

同样的事情，但它被称为批处理文件，扩展名为`.bat`. 您也可以双击运行这些。 [这个网站](http://www.computerhope.com/batch.htm)是一个很好的资源。

# liferay - Liferay 布局不起作用

> ID：14208884
> 
> 赞同：2
> 
> 时间：2013-01-08T05:43:17.147
> 
> 标签：liferay, liferay-6

我正在使用 Liferay 6.1.1 CE。

我正在尝试在我的页面中使用 1-2-1 布局。

但我无法将 n Drop portlet 拖放到我的页面中的 2 列。1-2-1 也无法正常工作。

是什么原因？

这是 1_2_1.column.tpl

```
<div class="columns-1-2-1" id="main-content" role="main">
#if ($browserSniffer.isIe($request) && $browserSniffer.getMajorVersion($request) < 8)
    <table class="portlet-layout">
    <tr>
        <td class="portlet-column portlet-column-only" id="column-1">
            $processor.processColumn("column-1", "portlet-column-content portlet-column-content-only")
        </td>
    </tr>
    </table>

    <table class="portlet-layout">
    <tr>
        <td class="aui-w50 portlet-column portlet-column-first" id="column-2">
            $processor.processColumn("column-2", "portlet-column-content portlet-column-content-first")
        </td>
        <td class="aui-w50 portlet-column portlet-column-last" id="column-3">
            $processor.processColumn("column-3", "portlet-column-content portlet-column-content-last")
        </td>
    </tr>
    </table>

    <table class="portlet-layout">
    <tr>
        <td class="portlet-column portlet-column-only" id="column-4">
            $processor.processColumn("column-4", "portlet-column-content portlet-column-content-only")
        </td>
    </tr>
    </table>
#else
    <div class="portlet-layout">
        <div class="portlet-column portlet-column-only" id="column-1">
            $processor.processColumn("column-1", "portlet-column-content portlet-column-content-only")
        </div>
    </div>

    <div class="portlet-layout">
        <div class="aui-w50 portlet-column portlet-column-first" id="column-2">
            $processor.processColumn("column-2", "portlet-column-content portlet-column-content-first")
        </div>

        <div class="aui-w50 portlet-column portlet-column-last" id="column-3">
            $processor.processColumn("column-3", "portlet-column-content portlet-column-content-last")
        </div>
    </div>

    <div class="portlet-layout">
        <div class="portlet-column portlet-column-only" id="column-4">
            $processor.processColumn("column-4", "portlet-column-content portlet-column-content-only")
        </div>
    </div>
#end 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-15T16:58:16.650

Dragging portlets to the "2" portion of the 1-2-1 template wasn't working for me either. It may be an issue with the Social Office theme. I switched the page back to the classic theme, added the portlets, and then switched back to the SO theme. I now have the 1-2-1 layout with the Social Office theme applied.

hth

# c# - 将字符串数组发布到 Web API 方法

> ID：14208888
> 
> 赞同：11
> 
> 时间：2013-01-08T05:43:32.510
> 
> 标签：c#, javascript, ajax, post, asp.net-web-api

**这是我的客户端 ajax 调用：**

```
 var list = ["a", "b", "c", "d"];

    var jsonText = { data: list };

    $.ajax({
        type: "POST",
        url: "/api/scheduledItemPriceStatus/updateStatusToDelete",
        data: jsonText,
        dataType: "json",
        traditional: true,
        success: function() { alert("it worked!"); },
        failure: function() { alert("not working..."); }
    }); 
```

**这是 chrome 网络标头：**

```
Request URL:http://localhost:2538/api/scheduledItemPriceStatus/updateStatusToDelete

Request Method:POST

Request Headersview source

Accept:application/json, text/javascript, */*; q=0.01

Accept-Charset:ISO-8859-1,utf-8;q=0.7,*;q=0.3

Accept-Encoding:gzip,deflate,sdch

Accept-Language:en-US,en;q=0.8

Connection:keep-alive

Content-Length:27

Content-Type:application/x-www-form-urlencoded; charset=UTF-8

Host:localhost:2538

Origin:http://localhost:2538

Referer:http://localhost:2538/Pricing/ScheduledItemPrices

User-Agent:Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.11 (KHTML, like Gecko) Chrome/23.0.1271.97 Safari/537.11

X-Requested-With:XMLHttpRequest 
```

表单 Dataview URL 编码

```
data:a
data:b
data:c
data:d 
```

**这是我的 webapi 控制器方法：**

```
public HttpResponseMessage UpdateStatusToDelete(string[] data) 
```

**结果：**

当我调试时，UpdateStatusToDelete 中的 data 参数返回`{string[0]}`而不是 data:a data:b data:c data:d

我究竟做错了什么？非常感谢任何帮助。

* * *

## 回答 #1

> 赞同：34
> 
> 时间：2013-01-11T22:55:43.040

为了传递简单的类型，要发布的数据必须采用名称值对的形式，其中名称部分为空字符串。所以你需要像这样进行 Ajax 调用：

```
$.ajax({
  type: "POST",
  url: "/api/values",
  data: { "": list },
  dataType: "json",
  success: function() { alert("it worked!"); },
  failure: function() { alert("not working..."); }
}); 
```

此外，在您的 Web API 操作上，使用 [FromBody] 属性对其进行注释。就像是：

```
public void Post([FromBody]string[] values) 
```

这应该够了吧。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2014-12-08T07:21:04.643

你应该传递它`list`本身，而不是任何其他包装它的对象。

例如，通过以下内容：

```
var list = ["a", "b", "c", "d"]; 
```

在

```
$.ajax({
        type: "POST",
        url: "/api/scheduledItemPriceStatus/updateStatusToDelete",
        // Pass the list itself
        data: list, 
        dataType: "json",
        traditional: true,
        success: function() { alert("it worked!"); },
        failure: function() { alert("not working..."); }
    }); 
```

您在服务器上的方法签名是正确的。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-08T05:52:44.840

利用`var jsonText = { data: JSON.stringify(list)}`

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2017-02-17T08:28:30.383

在后端，您可以使用`FormDataCollection.GetValues(string key)`为该参数返回一个字符串数组。

```
public HttpResponseMessage UpdateStatusToDelete(FormDataCollection formData) {
    string[] data = formData.GetValues("data");
    ...
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-12-21T16:17:51.663

使用上面的方法按照 cris 在 jquery ajax 调用中的建议发送数组。JSON 数据通常在键值对中。

```
 var tmp = [];
  tmp.push({
  //this is the key name 'a'  "a": "your value", //it could be anything here in 
   //string format.
    "b": "b",
    "c": "c",
    "d": "d"
   });

 { data: JSON.stringify(tmp);} 
```

您也可以通过使用二维数组来完成上述操作

另外在 webapi 项目中执行此操作。

在您的 web api 项目的模型文件夹下创建一个类文件。可能**是 class1.cs**。

创建 4 个属性

```
public string a {get; set;}
public string b {get; set;}
public string c {get; set;}
public string d {get; set;} 
```

现在在您的控制器中执行此操作

```
using projectname.models

[HttpPost]
public return-type actionname(List<Class1> obj)
{
  //Further logic goes here
} 
```

我相信这会奏效。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2015-05-29T18:07:32.800

设置 dataType 对您没有帮助。

我就是这样做的：

```
var SizeSequence = {};
SizeSequence.Id = parseInt(document.querySelector("dd#Sequence_Id").textContent);
SizeSequence.IncludedSizes = [];
var sizes = document.querySelectorAll("table#IncludedElements td#Size_Name");
// skipping the first row (template)
for (var i = 1, l = sizes.length ; i != sizes.length ; SizeSequence.IncludedSizes.push(sizes[i++].textContent));

$.ajax("/api/SizeSequence/" + SizeSequence.Id, { 
     method: "POST",
     contentType: "application/json; charset=UTF-8",
     data: JSON.stringify(SizeSequence.IncludedSizes), 
... 
```

服务器部分

```
// /api/SizeSequence/5
public async Task<IHttpActionResult> PostSaveSizeSequence(int? Id, List<String> IncludedSizes)
    {
        if (Id == null || IncludedSizes == null || IncludedSizes.Exists( s => String.IsNullOrWhiteSpace(s)))
            return BadRequest();
        try
        {

            await this.Repo.SaveSizeSequenceAsync(Id.Value, IncludedSizes );
            return Ok();
        }
        catch ( Exception exc)
        {
            return Conflict();
        }
    } 
```

## 参考

[jQuery.ajax()](http://api.jquery.com/jquery.ajax/)

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2020-06-21T21:19:39.723

您也可以使用 来执行此操作`JSON.stringify`，这在语义上比将内容放入具有空字符串键的对象中更直观。（我正在使用 Web API 2，不确定这是否重要。）

## 客户端代码

```
$.ajax({
    type: 'POST', //also works for PUT or DELETE
    url: '/api/UserRole',
    contentType: "application/json",
    data: JSON.stringify(["name1", "name2"])
}) 
```

## 服务器代码

```
[HttpPost]
[Route("api/UserRole")]
public IHttpActionResult AddUsers(string[] usernames) 
```

# java - 在类构造函数中存储数据时遇到问题，学习 OOP

> ID：14208895
> 
> 赞同：1
> 
> 时间：2013-01-08T05:44:44.487
> 
> 标签：java, oop

这是我应该完成的任务：

编写一个模拟员工的程序。雇员有雇员编号、姓名、地址和雇用日期。名字由名字和姓氏组成。地址由街道、城市、州（2 个字符）和 5 位邮政编码组成。日期由整数月、日和年组成。

在您的解决方案中使用 Employee 类、Name 类、Address 类和 Date 类。

您的程序应提示用户输入多个员工的数据，然后显示该数据。应从命令行输入要为其存储数据的员工人数。

我感到困惑的是如何使用所有不同的类来存储信息。

这是我的代码（抱歉这篇文章太长了）

```
 import java.util.Scanner;

    public class unitTenDemo
    {
public static void main ( String [ ] args )
{
    Scanner input = new Scanner ( System.in );
    System.out.print ( "Enter the number of employees" );
    System.out.println ( "\t" );
    int employees = input.nextInt ( );

    for (  int count = 0; count < employees; count ++ )
    {
        System.out.print ( "Enter the employees' numbers" );

        int employeeNumber = input.nextInt ( );
        System.out.println ( );
        System.out.println ( "The number is " +employeeNumber );    
        System.out.println ( );
    }
        }
    } 
```

//这是实际的输出代码

//这是我坚持的构造函数

```
 public class unitTen
{
int employeeNumber;

public int Employee ( int empNum )
{
    employeeNumber = empNum;
}

string employeeName;

public void Name ( string empName )
{
    employeeName = empName;
}

string street;
string city;
string state;
int zipCode;

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T05:54:03.413

不要将所有内容都放入构造函数中。可以编写一个构造函数来构建一个未完全初始化的对象。您可以按如下方式组织您的程序：

1.  找出将有多少`Employee`对象（用户输入）
2.  `Employee`创建适当长度的对象数组
3.  对于数组的每个元素，为该元素分配一个新`Employee`元素
4.  对于数组的每个元素，提示用户正确初始化`Employee`.

最后一步（一次只处理一个`Employee`）将分解成很多细节，因为每个`Employee`对象都有很多信息。只需系统地浏览所有元素。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T06:13:07.300

除了@Ted 指出的答案之外，您还应该相应地修改您的 Employee 类，然后根据需要调用构造函数。

```
public class Employee // you should change the name of class to Employee
{
int employeeNumber;

public Employee(){}; // default constructor to create empty Employee objects
public Employee ( int empNum ) // constructor cannot have any return type
{
    employeeNumber = empNum;
}

string employeeName;

public Employee( string empName, int empNum ) // you can create multiple constructors with different parameters.
{
    employeeName = empName;
    employeeNumber = empNum;
}

string street;
string city;
string state;
int zipCode;

// you can create getters and setters for these fields

} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-08T06:07:05.257

这段代码根本不会编译。Yopu 已将 int 声明为返回类型，并且不从该方法返回任何内容。

```
 public int Employee ( int empNum )
 {
      employeeNumber = empNum;
 } 
```

# javascript - 如何使用 JavaScript 或 Ajax 在下拉列表中显示每个选项的工具提示？

> ID：14208907
> 
> 赞同：0
> 
> 时间：2013-01-08T05:46:13.837
> 
> 标签：javascript, ajax, tooltip

如何使用 JavaScript 或 Ajax 在下拉列表中显示每个选项的工具提示？

使用后面的代码很容易显示，但这个工具提示不如使用 JavaScript 创建的工具提示快。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T05:49:22.840

您可以在 javascript 的帮助下通过在后面的代码中添加以下代码来执行此类操作：

```
DropDown1.Attributes.Add("onmouseover", 
                         "this.title=this.options[this.selectedIndex].title"); 
```

或者

```
<select name="DropDownList1" id="DropDownList1"
     onmouseover="this.title=this.options[this.selectedIndex].title">
    <option value="1" title="asd">asd</option>
    <option value="2" title="zxc">zxc</option>
    <option value="3" title="qwe">qwe</option>
</select> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-03-12T05:41:56.233

```
use this  : 
<select name="ddlCity" id="ddlCity"
     onmouseover="this.title=this.options[this.selectedIndex].title">
    <option value="Delhi" title="Delhi">Delhi</option>
    <option value="mumbai" title="mumbai">mumbai</option>
    <option value="Chennai" title="Chennai">Chennai</option>
    <option value="kolkata" title="mumbai">mumbai</option>
</select> 
```

# iphone - 无法在 ios 中使用 Storyboard 删除导航控制器中的 BackButton

> ID：14208908
> 
> 赞同：1
> 
> 时间：2013-01-08T05:46:17.240
> 
> 标签：iphone, ios, uinavigationcontroller, storyboard, back-button

我是iOS新手，

我正在使用 Storyboard 为 iPhone 开发购物应用程序，

这是我的应用程序的快照， ![](../Images/3321b0c70c14477e2cd1212f8444f41c.png) `TabBarController`包含 4 个选项卡`NavigationController`

当我打开`Tab1`（比方说`class1`）它包含`TableView`，onclick 的 tableview 它将带我到`Detail page`标题和后退按钮`NavigationBar`（我以编程方式添加标题和后退按钮`ViewWillAppear method`）之后，当我点击后退按钮时，我正确导航到上一页，这个工作正常。。

我的问题是当我打开`Tab1`（即class1）并且当我`Detail page`在tableview中选择一行后导航到a时`Detail page`，将调用bcoz`BackBtn`中添加的标题，当我在点击Backbtn之前点击时，我导航到类然后当我回到现在我点击后退按钮时，我正在导航到我的上一页（即）但是在 后退按钮和标题上我无法隐藏它......`NavigationBar``ViewWillAppear method``Tab2``Tab2``Tab1``Tab1 class``class1``class1``Detail page``class1`

您可以在第二张图片中看到`BackBtn`并且`Title`在`Class1`.. 有![](../Images/f6b803d813aab36230d41b83c8a7fb22.png) 什么问题？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-08T06:05:07.270

`viewWillAppear:`只需用下面的方法隐藏那个 backButton `Class1`......

```
[self.navigationItem setHidesBackButton:YES animated:YES]; 
```

或者

```
[self.navigationItem setHidesBackButton:YES]; 
```

**更新：**

如果您将自定义按钮添加到`UINavigationBar`然后只需删除该按钮，如下所示...

```
self.navigationItem.leftBarButtonItem = nil; 
```

如果您想删除右栏按钮，请使用下面的另一个代码，如上面...

```
self.navigationItem.rightBarButtonItem = nil; 
```

我希望这对你有帮助......

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-08T06:40:53.370

`[btnBack setHidden:YES]``viewWillDisapper:`详情页面中的方法

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-08T06:42:03.797

```
- (void)tabBar:(UITabBar *)tabBar didSelectItem:(UITabBarItem *)item 
```

将为您提供当前正在选择的项目。

如果您无法通过弹出到根视图控制器并再次推送它来解决它，您可以解决它。并确保您没有添加子视图来代替推送视图控制器。

# python - 简单地尝试/除 lambda - Python？

> ID：14208910
> 
> 赞同：3
> 
> 时间：2013-01-08T05:46:21.693
> 
> 标签：python, lambda, try-except

有没有办法将这个 try/except 简化为带有 lambda 的一行？

```
alist = ['foo','bar','duh']

for j,i in enumerate(alist):
  try:
    iplus1 = i+alist[j+1]
  except IndexError:
    iplus1 = "" 
```

除了：

```
j = '' if IndexError else trg[pos] 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-08T05:49:38.050

`try`不，Python 对/`except`语法没有任何简写或简化。

为了解决您的具体问题，我可能会使用类似的东西：

```
for j, i in enumerate(alist[:-1]):
   iplus1 = i + alist[j + 1] 
```

这将避免需要例外。

或者变得超级酷和通用：

```
from itertools import islice

for j, i in enumerate(islice(alist, -1)):
    iplus1 = i + alist[j + 1] 
```

或者，您可以使用：`itertools.iziplongest`做类似的事情：

```
for i, x in itertools.izip_longest(alist, alist[1:], fillvalue=None):
    iplus1 = i + x if x is not None else "" 
```

最后，关于命名法的一点小注：`i`传统上用于表示“索引”，因此使用`for i, j in enumerate(…)`会更“正常”。

# ios - Olark 聊天信使与 IOS 应用程序集成

> ID：14208917
> 
> 赞同：1
> 
> 时间：2013-01-08T05:47:12.740
> 
> 标签：ios, ios6

朋友们好，我目前正在为IOS开发一个原生的移动应用程序。我需要将 Olark 聊天信使与我的应用程序集成，该应用程序已经集成在与此应用程序同步的我的网站上。如果你们中的任何人对如何实现这一点有任何想法，请告诉我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T06:15:36.063

目前（2013 年 1 月 8 日）Olark 没有为 iOS 提供 sdk。

我在谷歌上搜索并找到了一个链接：[http](http://www.quora.com/Has-anyone-made-something-like-olark-for-mobile-iOS-yet) ://www.quora.com/Has-anyone-made-something-like-olark-for-mobile-iOS-yet 。希望它会帮助你。

# kml - 我的某些 KML 无法从 Fusion Tables 呈现的问题是什么？

> ID：14208924
> 
> 赞同：0
> 
> 时间：2013-01-08T05:47:41.900
> 
> 标签：kml, google-fusion-tables

我有 3 个根本不绘制的 KML 和 2-3 个根据它们所处的缩放级别偶尔发生的行为。我检查了文件限制，我似乎没有违反任何限制。我回到原来的 shapefile 来检查几何错误。其中一个文件有几何错误，我修复了它们，但它似乎没有解决 KML 不渲染的问题。我还使用 Google 的 Visualization API 和 geoxml3 处理器实现了缩放功能。以下是我的应用程序发生的一些有趣的事情：

1.  不绘制的 KML 文件之一实际上会通过缩放到其范围来响应缩放功能，但仍不会绘制多边形；证明 KML 正在解析但未绘制的证据。
2.  如果我单击它旁边的多边形并放大到足够近，其中一个未绘制的 KML 文件最终将绘制出来。它最初不会。
3.  我有两个 KML 文件在缩小时会绘制，但在放大时会“消失”。

我的应用程序在[这里](https://github.com/danagerous/school-catchment)，我的融合表在[这里](https://www.google.com/fusiontables/DataSource?docid=1yc4wo1kBGNJwpDm6e-eJY_KL1YhQWfftjhA38w8)。如果有人遇到过类似的问题并且能够解决它们，我将非常感激知道它是如何完成的，因为我在这一点上很困惑。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T15:18:33.380

首先：**Fusion Tables 仍处于试验阶段**

一些问题：

1.  **`South Nelson Elementary`** 丢失在`varID`
2.  **`JV Humphries Secondary`** `Polygons`需要修复

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T17:20:40.633

我以为我会发布更新。

事实证明，我的一些数据确实存在几何错误；这些已修复并转换为 KML。

问题是我的实际编码。该代码最初是为了简单地显示数组中的多边形并通过复选框打开/关闭而编写的。这样做的原因是能够查看其他多边形的相邻边界。我在最初的编码中实现了这一点，用户必须通过谷歌的地图功能放大感兴趣的区域。

然后，当单击复选框以使应用程序缩放到相关多边形时，我被要求具有缩放功能。这当然有效，但这取决于单击复选框的顺序。我相当确定它与单击复选框时如何填充空数组有关。

我不完全理解代码如何决定缩放或不缩放到哪个多边形的逻辑。我所知道的是，如果所有复选框都未选中，那么每个复选框都会在缩放功能起作用时一次打开/关闭一个。

如果有人对如何让每个复选框“独立”操作以缩放而不考虑点击顺序有什么建议，我将不胜感激。

# java - 如何找到常量的值

> ID：14208927
> 
> 赞同：1
> 
> 时间：2013-01-08T05:47:48.903
> 
> 标签：java

我有地图表

```
public static final String key1 = "newKey";
public static final String key2 = "key2";
public static final String key3 = "key3";
public static final String key4 = "key4";

public static Map<String, String> objects = new TreeMap<String, String>();

TreeMap.put(key1,"Bob1")
TreeMap.put(key2,"Bob2")
TreeMap.put(key3,"Bob3")
TreeMap.put(key4,"Bob4") 
```

第一个参数是键。我想检查密钥是否存在。所以我写了这段代码

```
public String checkKey(String keyToCheck) {

    if (objects.containsKey(keyToCheck)) {
     .......
    }
} 
```

问题是用户可以`checkKey`通过以下两种方式调用：

1.  checkKey("新密钥")

2.  checkKey("className.key1")

这些字符串中的任何一个都来自用户输入。在第一种情况下，我没有任何问题，因为它在地图中。但是在第二种情况下，我需要对其进行转换，以便获得相应的`newkey`值。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-08T05:57:05.443

假设你有这个：

```
public class MyClass {
  public static final String key1 = "newKey";
} 
```

你应该像这样检查它：

```
checkKey(MyClass.key1); 
```

不是

```
checkKey("MyClass.key1"); 
```

*编辑：显然，我的回答是错误的。我编辑了他的问题以使其更清楚。*

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-08T06:32:23.070

您可以尝试使用反射。但是你应该给出类的完全限定名作为输入，否则你会得到一个类未找到异常。

在您的情况下，您应该具有常量文件的完全限定名称。

下面的示例将从默认包中运行。

```
import java.lang.reflect.Field;

    public class TestReflection {

        public static final String key1 = "newKey";

        public static void main(String[] args) throws SecurityException,
                NoSuchFieldException, IllegalArgumentException,
                IllegalAccessException, ClassNotFoundException {
            checkKey("newKey");
            checkKey("TestReflection.key1");
        }

        private static void checkKey(String str) throws NoSuchFieldException,
                IllegalAccessException, ClassNotFoundException {
            String[] str1 = str.split("\\.");
            if (str1.length == 1) {
                System.out.println(str1[0]);
            } else if (str1.length == 2) {
                Field value = Class.forName(str1[0]).getField(str1[1]);
                value.setAccessible(true);
                System.out.println(value.get(null));
            }
        }
    } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-08T06:00:43.183

不要使用引号来传递变量引用。使用 checkKey(className.key1)。提到的问题不需要任何反射。

使用 Class.forName("解析后的类名").getField("解析后的字段");

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-08T06:01:37.213

您可以为此使用另一个重载方法：

```
checkKey(Class<?> clazz, String keyToCheck){

   //use reflection to check that key
} 
```

我希望这将有所帮助。

这样做用户会清楚地知道，键所属的类应该作为另一个参数传递，而不是在键名中传递。

**否则按照其他答案正确指出的那样做。**

# javascript - 使用 JavaScript 选择列表的边框颜色

> ID：14208928
> 
> 赞同：0
> 
> 时间：2013-01-08T05:47:49.997
> 
> 标签：javascript, oracle-apex

我使用 oracle apex 作为前端来设计屏幕并使用 java 脚本进行验证。

创建了一个名为选择列表的项目。When select list is null it must highlight the boarder with color. 以下是我用来为选择列表着色的功能，但这不起作用需要专家建议修复

```
<script>
function formvalidation()
{
     //Select List Item 
      var f1 = $x('P1_COUNTRY');
      if( f1.value == "" )
      {
         f1.style.borderColor = "red";
         f1.focus();
         return false;
      }
}   
</script> 
```

`onblur="formvalidation()";`在事件上调用上述函数

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T05:59:44.643

问题可能是您没有为边框设置宽度。你告诉它有一个红色边框，但没有任何宽度。您还可以从处理程序传递对 select 元素的引用。

```
onblur="formvalidation(this)";

// 'this' is the element receiving the blur event
function formvalidation(this)
{
      if( this.value == "" )
      {
         this.style.border = "1px solid red";
         this.focus();
         return false;
      }
} 
```

# php - 何时使用 index.php 而不是 index.html

> ID：14208930
> 
> 赞同：33
> 
> 时间：2013-01-08T05:48:06.657
> 
> 标签：php, web-applications, web, web-application-project, web-application-design

我对php比较陌生。有一件非常基本的事情一直困扰着我。我知道 php 用于使网站动态化。我也知道 php 是可用于制作动态网站的众多服务器端脚本语言之一。

但是，我不明白什么时候需要使用 index.php 页面。例如，如果我的索引页面上只有一个简单的登录页面，它也很可能只是一个简单的 html 页面。对？那我为什么要让它 index.php 而不是 index.html？

一个示例情况的例子会很棒。

* * *

## 回答 #1

> 赞同：53
> 
> 时间：2013-01-08T05:54:10.737

当您希望在文件中执行 php 代码时，您必须选择 PHP 扩展名 (.php)。PHP 代码是开始`<?php`或`<?`结束`?>`标记之间的代码。

当不应执行任何 PHP 代码时，您可以使用 .html 扩展名。

通常在使用 .php 扩展名时，您是在告诉 Web 服务器，它应该使用 php 解释器来处理文件，然后才能将其传送到浏览器。然后，php 解释器将用PHP 代码的输出替换`<?php`和之间的所有内容。`?>`就像你手动写的一样。处理后的文件将被传送到浏览器。

但是，使用 .php 扩展名告诉 Web 服务器处理 php 代码是可配置的。如果您愿意，您也可以使用其他文件扩展名。

还有一点需要指出。当您只键入 url 路径（没有文件名）时，例如：

```
http://www.myserver.com/ 
```

网络服务器（apache）搜索索引文档时有一个扩展名（文件名）的顺序。例如，一个 apache 配置可能包含如下部分：

```
<IfModule mod_dir.c>
      DirectoryIndex index.html index.cgi index.pl index.php index.xhtml index.htm
</IfModule> 
```

这意味着索引文档是按照上面的顺序搜索的。这意味着如果您将 index.html 和 index.php 放在同一个文件夹中 - 并具有上述配置 - 总是索引。**html**将由服务器传递。

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2013-01-08T05:56:45.317

如果您将每个页面都作为 .php 提供，则不会损害网站。Apache 可以非常快速地提供任何 php，更不用说只包含静态 html 的了。

作为初学者，您可能会发现 php 会让您受益，因为它允许您创建简单的模板。例如，站点页眉和页脚包含可以写入一个文件，然后包含在所有其他页面中。

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2013-01-08T05:56:34.300

无论您使用 index.php 还是 index.html，这都不是什么大问题。你可以使用任何一个。唯一的问题是您需要 PHP（或任何其他服务器端脚本语言）来使您的网站动态化。

就像您有一个登录页面一样，您当然可以将其设置为 inde.html，但您的逻辑要么必须在不同的文件中，要么必须嵌入到 HTMl 中。

* * *

## 回答 #4

> 赞同：6
> 
> 时间：2013-01-08T05:54:50.257

您可以使用您喜欢的任何一个：如果您更喜欢保留不使用 HTML 中的数据的表单和基本页面，并将使用 php 的页面保留为 php 格式，那很好。

但是我和我认为大多数其他人使用的一种方法就是将所有页面都设为 php 文件。这是因为您可以在 php 文件中包含一个 html 文档并以同样的方式显示它。但是您不能从 html 文件中进行 php 查询，因此很容易总是使用 php，以防万一您想向其中添加一些 php 脚本。

索引.php：

```
<?php
$var = 5;
?>
<html>
<head>
<title>My Page</title>
</head>
<body>
<h2>Your variable was <?php echo $var; ?></h2>
</body>
</html> 
```

* * *

## 回答 #5

> 赞同：6
> 
> 时间：2013-01-08T05:55:02.063

***默认情况下，apache 服务器需要一个扩展名为 .php 的文件来解析其中的 PHP 代码***。但是，如果您愿意，您可以通过在配置文件中添加一行来配置您的服务器，以使用具有任何扩展名的文件，其中包含 PHP 代码。您可以自己编辑 apache 以支持 .HTML 扩展名中的 php。

* * *

## 回答 #6

> 赞同：4
> 
> 时间：2013-01-08T05:54:59.303

这是因为有时您可能会写一些逻辑`index.php`。就像您可以检查用户是否已登录，然后将用户重定向到某个特定页面。您也可以像移动设备一样进行基于设备的重定向。

你总是可以选择创造`index.html`，但你不知道什么时候你可能需要在那里有一些逻辑。

* * *

## 回答 #7

> 赞同：4
> 
> 时间：2013-01-08T06:02:55.270

简单来说，你可以很容易地访问 index.html 文件并获取它下面的数据。但是 index.php 很难访问。对于您的简单应用程序 index.html 将起到作用。如果您正在计划一些大型且安全的应用程序，请使用 index.php

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2018-05-06T20:28:00.363

例如，在我的`index.php`主页或其他主页中，我主要使用 php，因为我在站点的其余部分中使用了带有变量的变量：

```
<?php 
     $sitepath="http://www.example.com/public";
     $author="your name here";
?> 
```

因为我`<?php echo $sitepath ?>`每次都在我的网站上链接一个图像，所以它不会损坏或什么的。由于我一直在重复使用该名称，因此我`.php`曾经能够拥有该服务，因为如果我使用该名称，我可以全局更改它。

我认为像`404.html`、`aboutus.html`或之类的简单页面`ViewOneBlogPost.html`可能是 HTML 页面，您可能不需要任何功能/变量。

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2016-01-20T19:07:11.387

使用 linux 检查 apache2 中文件扩展优先级的当前设置

/etc/apache2/mods-enabled/dir.conf

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2020-09-15T20:58:42.380

好吧，如果您有几个简单的页面，其中代码不会重复很多，那么您可以使用 HTML。但相信我，如果你有一个 HTML 格式的整个网站，每个文件超过一千行，你会想要使用 PHP。为什么？因为`require`和`include`。当您需要使用布局时，这些将清理您的代码，因此您无需继续复制布局页眉、页脚等的漏洞代码......当您需要插入内容并且有很多代码的方式。

这是一些关于它的文档

[https://www.php.net/manual/en/function.include.php](https://www.php.net/manual/en/function.include.php)

# oracle10g - 工资低于2000的员工怎么加1000？

> ID：14208931
> 
> 赞同：-1
> 
> 时间：2013-01-08T05:48:10.500
> 
> 标签：oracle10g

如何给员工表中工资低于2000的员工加1000？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T05:52:05.513

这取决于您的表格定义，但是如果每个人的薪水低于 2000，这样的事情就会给每个人加薪：

```
UPDATE employee 
SET salary = salary + 1000 
WHERE salary < 2000 
```

如果你想知道他们的薪水还有 1000 是多少：-

```
SELECT salary + 1000
FROM employee
WHERE salary < 2000 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T06:02:19.550

您可以使用以下sql语句添加。但我已经在Mysql中测试了它的运行正常。您可以根据oracle语法进行转换。Sql语句是

```
UPDATE employee SET salary = salary +1000 WHERE salary <2000 
```

# paypal - 创建帐户 Paypal API

> ID：14208934
> 
> 赞同：0
> 
> 时间：2013-01-08T05:48:25.167
> 
> 标签：paypal

我尝试使用以下示例参数实现 paypal 的***Create Account API ：***

```
accountType=Premier&addressType.line1=Real+St&addressType.city=San+Jose&addressType.postalCode=92274&addressType.countryCode=US&addressType.state=California&citizenshipCountryCode=US&contactPhoneNumber=123-456-1234&homePhoneNumber=123-456-1234&mobilePhoneNumber=123-456-1234&currencyCode=USD&dateOfBirth=1970-01-01Z&emailAddress=test.test%40gmail.com&nameType.salutation=Miss&nameType.firstName=Malou&nameType.lastName=Perez&nameType.suffix=Sr&preferredLanguageCode=en_US&registrationType=Web&requestEnvelope.errorLanguage=en_US&requestEnvelope.detailLevel=ReturnAll&suppressWelcomeEmail=1&createAccountWebOptionsType.useMiniBrowser=0&createAccountWebOptionsType.returnUrl=http%3A%2F%2Fwww.testurlonly.com&createAccountWebOptionsType.reminderEmailFrequency=NONE&createAccountWebOptionsType.confirmEmail=0 
```

为了更清楚，放入数组时的参数具有以下值：

```
 $parameters = array(
      'accountType'                                        => 'Premier',
      'addressType.line1'                                  => 'Real St',
      'addressType.city'                                   => 'San Jose',
      'addressType.postalCode'                             => '92274',
      'addressType.countryCode'                            => 'US',
      'addressType.state'                                  => 'California',
      'citizenshipCountryCode'                             => 'US',
      'contactPhoneNumber'                                 => '123-456-1234',
      'homePhoneNumber'                                    => '123-456-1234',
      'mobilePhoneNumber'                                  => '123-456-1234',
      'currencyCode'                                       => 'USD',
      'dateOfBirth'                                        => '1970-01-01Z',
      'emailAddress'                                       => 'test.test@gmail.com',
      'nameType.salutation'                                => 'Miss',
      'nameType.firstName'                                 => 'Malou',
      'nameType.lastName'                                  => 'Perez',
      'nameType.suffix'                                    => 'Sr',
      'preferredLanguageCode'                              => 'en_US',
      'registrationType'                                   => 'Web',
      'requestEnvelope.errorLanguage'                      => 'en_US',
      'requestEnvelope.detailLevel'                        => 'ReturnAll',
      'suppressWelcomeEmail'                               => true,
      'createAccountWebOptionsType.useMiniBrowser'         => false,
      'createAccountWebOptionsType.returnUrl'              => 'http://www.testurlonly.com',
      'createAccountWebOptionsType.reminderEmailFrequency' => 'NONE',
      'createAccountWebOptionsType.confirmEmail'           => false
    ); 
```

这是***AdaptiveAccounts/CreateAccount*** api 的响应（转换为数组）：

```
array(18) {
    ["responseEnvelope.timestamp"]=>
      string(29) "2013-01-07T21:33:01.984-08:00"
      ["responseEnvelope.ack"]=>
      string(7) "Failure"
      ["responseEnvelope.correlationId"]=>
      string(13) "ae7c9d245cabf"
      ["responseEnvelope.build"]=>
      string(7) "4055066"
      ["error(0).errorId"]=>
      string(6) "580029"
      ["error(0).domain"]=>
      string(8) "PLATFORM"
      ["error(0).subdomain"]=>
      string(11) "Application"
      ["error(0).severity"]=>
      string(5) "Error"
      ["error(0).category"]=>
      string(11) "Application"
      ["error(0).message"]=>
      string(40) "Missing required request parameter: name"
      ["error(0).parameter(0)"]=>
      string(4) "name"
      ["error(1).errorId"]=>
      string(6) "580029"
      ["error(1).domain"]=>
      string(8) "PLATFORM"
      ["error(1).subdomain"]=>
      string(11) "Application"
      ["error(1).severity"]=>
      string(5) "Error"
      ["error(1).category"]=>
      string(11) "Application"
      ["error(1).message"]=>
      string(43) "Missing required request parameter: address"
      ["error(1).parameter(0)"]=>
      string(7) "address"
    } 
```

请告诉我为什么它说*"Missing required request parameter: address"*和*"Missing required request parameter: name"*。

我刚在想`addressType.line1=Real+St&addressType.city=San+Jose&addressType.postalCode=92274&addressType.countryCode=US&addressType.state=California`

指**地址**

和

`nameType.salutation=Miss&nameType.firstName=Malou&nameType.lastName=Perez&nameType.suffix=Sr`

指**名称**。

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T07:16:58.713

代替 nameType.，使用 name.. 因此，我们有

```
name.firstName, name.lastName, name.salutation and name.suffix 
```

我删除了 name.salutation 因为我不知道该字段的正确值是什么。

对于addressType.，我将其替换为地址。此外，address.state 必须有**州代码**而不是州名。

我还发现 paypal 为格式和值不正确的字段返回**580022 Invalid request parameter**。我们不能放置不存在的邮政编码、城市和州的虚拟数据。

# perl - 关于 perl dbd oracle

> ID：14208937
> 
> 赞同：2
> 
> 时间：2013-01-08T05:48:51.407
> 
> 标签：perl

我有两个疑问

1.  当我运行以下 perl 脚本时，出现以下错误

`Unable to connect: ORA-12154: TNS:could not resolve the connect identifier specified (DBD ERROR: OCIServerAttach)`

我无法修改 tnsnames.ora，因为我没有访问权限。我知道 tnsnames.ora 没有 testdb 数据库的条目。有没有解决办法。以为我正在使用 IP 地址访问远程 solaris 机器中的数据库，因此不需要在本地 solaris 机器 tnsnames.ora 中输入。

```
$platform = "Oracle";
$database = "testdb";
$host = "testdb.dev.test.com.au";
$port = "2000";
$user = "scott";
$pw = "tiger";

$dsn = "dbi:$platform:$database:$host:3306";
print "$dsn" . "\n";

# PERL DBI CONNECT (RENAMED HANDLE)
my $dbstore = DBI->connect($dsn, $user, $pw) or die "Unable to connect: $DBI::errstr\n"; 
```

2 我对 DBD 模块的理解是，即使本地机器上没有安装 oracle，DBD 模块也应该可以工作。但是我在安装时注意到它使用了 oracle 客户端库。因此，如果我安装 DBD::Sybase，我是否需要在本地机器上安装 sysbase。既然我正在访问远程服务器数据库，我想为什么需要本地安装 oracle/sybase 库？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-08T07:00:56.513

你的 dsn 语法错误。尝试使其如下所示：

```
$dsn = "dbi:$platform:host=$host;sid=$sid;port=$port"; 
```

上面的语法在我使用过的许多情况下都对我有用`DBD::Oracle`。

# c# - C# 右键单击 TreeView 节点

> ID：14208944
> 
> 赞同：6
> 
> 时间：2013-01-08T05:49:13.903
> 
> 标签：c#, winforms, treeview

我有一个`TreeView`与父节点：`Node0`。我加 3 `subnodes`：

```
Node01
Node02
Node03 
```

我有一个`popup menu`与每个子节点相关联的。

我的问题：如果我直接右键单击其中一个子节点，我的弹出窗口不会显示。所以我必须先选择子节点并右键单击以显示弹出窗口。

1.  如何更改代码以便直接右键单击特定子节点打开 PopupMenu？
2.  popupMenu 列表中只有`OpenMe`菜单。单击此菜单时，应该会打开一个窗口，并且此窗口应与我单击的子菜单相关联。如何获取右键子菜单的Event并用它显示Form？

编辑：

看看这个

```
private void modifySettingsToolStripMenuItem_Click(object sender, EventArgs e)
    {
        try
        {
            String s = treeView1.SelectedNode.Text;
            new chartModify(s).ShowDialog();
        }
        catch (Exception er)
        {
            System.Console.WriteLine(">>>" + er.Message);
        }
    } 
```

该行`String s = treeView1.SelectedNode.Text;`获取所选节点的名称，而不是已右键单击的节点。

所以在这里我必须修改这段代码

```
private void treeview1_NodeMouseClick(object sender, TreeNodeMouseClickEventArgs e)
        {
            if (e.Button == MouseButtons.Right)
                MessageBox.Show(e.Node.Name);
        } 
```

我这样修改它：

```
try
        {
            TreeNodeMouseClickEventArgs ee;
            new chartModify(ee.Node.Name).ShowDialog();
        } 
```

但它不起作用：`Error:Use of unassigned local variable 'ee'`

**编辑#2：最终得到了解决方案** 

```
public string s;
private void modifySettingsToolStripMenuItem_Click(object sender, EventArgs e)
        {
            try
            {
                new chartModify(s).ShowDialog();
            }
            catch (Exception er)
            {
                System.Console.WriteLine(">>>" + er.Message);
            }
        } 
```

进而

```
private void treeview1_NodeMouseClick(object sender, TreeNodeMouseClickEventArgs e)
        {
            if (e.Button == MouseButtons.Right)
            {
                s = e.Node.Name;
                menuStrip1.Show();
            }
        } 
```

它有效，
谢谢

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2013-01-08T06:05:44.550

您可以尝试使用[`NodeMouseClick`](http://msdn.microsoft.com/en-us/library/system.windows.forms.treeview.nodemouseclick%28v=vs.100%29.aspx)它使用的事件[`TreeNodeClickEventArgs`](http://msdn.microsoft.com/en-us/library/cazsk1f2%28v=vs.100%29.aspx)来获取按钮和被点击的节点。

```
private void treeView1_NodeMouseClick(object sender, TreeNodeMouseClickEventArgs e)
{
    if(e.Button == MouseButtons.Right)
        MessageBox.Show(e.Node.Name);
} 
```

* * *

修改代码以显示弹出窗口并创建表单

```
public partial class Form1 : Form
{
    string clickedNode;
    MenuItem myMenuItem = new MenuItem("Show Me");
    ContextMenu mnu = new ContextMenu();
    public Form1()
    {
        InitializeComponent();
        mnu.MenuItems.Add(myMenuItem);
        myMenuItem.Click += new EventHandler(myMenuItem_Click);
    }

    void myMenuItem_Click(object sender, EventArgs e)
    {
        Form frm = new Form();
        frm.Text = clickedNode;
        frm.ShowDialog(this);
        clickedNode = "";
    }

    private void treeView1_NodeMouseClick(object sender, TreeNodeMouseClickEventArgs e)
    {
        if (e.Button == MouseButtons.Right)
        {
            clickedNode = e.Node.Name;
            mnu.Show(treeView1,e.Location);
        }
    }
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-08T05:55:36.593

当您单击鼠标右键时，这将为您提供特定鼠标点的树节点。

```
if(e.Button == MouseButtons.Right)
        {
            TreeNode destinationNode = ((TreeView)sender).GetNodeAt(new Point(e.X, e.Y));
            //Do stuff
        } 
```

从这里您应该能够打开特定的弹出菜单。

# php - jQuery 以 json 格式从 php 返回结果

> ID：14208949
> 
> 赞同：2
> 
> 时间：2013-01-08T05:49:56.193
> 
> 标签：php, javascript, jquery

我有一个`$.post`如何从 php 中获取结果？

```
$.post("sql/customer_save.php",{ what: "edit",customer_no: $customer_no}); 
```

php回复

```
echo json_encode(array("customer_id"=>$customer_id,"customer_no"=>$customer_no)); 
```

我应该在 $.post 上放什么才能得到结果？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-08T05:51:34.770

```
$.post("sql/customer_save.php",{ what: "edit",customer_no: $customer_no},function(resp)
{
   //resp is your response
   //You can try
    console.log(resp);
    console.log(resp["customer_id"]); //get the value of customer_id
    console.log(resp["customer_no"]); //get the value of customer_no
},"json"); 
```

或者

你也可以使用

```
 $.post("sql/customer_save.php",{ what: "edit",customer_no: $customer_no},function(resp)
    {
       //resp is your response
       //You can try
        var data = $.parseJSON(resp);
        console.log(data);
        console.log(data["customer_id"]); //get the value of customer_id
        console.log(data["customer_no"]); //get the value of customer_no
    }); 
```

# c++ - 将纯lua对象传递给C函数并获取值

> ID：14208951
> 
> 赞同：2
> 
> 时间：2013-01-08T05:50:07.893
> 
> 标签：c++, c, lua

在 Lua 代码中

```
Test = {}
function Test:new()
  local obj = {}
  setmetatable(obj, self)
  self.__index = self
  return obj
end
local a = Test:new()
a.ID = "abc123"
callCfunc(a) 
```

在 C 代码中

```
int callCfunc(lua_State * l)
{
   void* obj = lua_topointer(l, 1);            //I hope get lua's a variable
   lua_pushlightuserdata(l, obj);   
   lua_getfield(l, 1, "ID");
   std::string id = lua_tostring(l, 1);        //I hoe get the value "abc123"
   ...
   return 0;
} 
```

但我的 C 结果是

```
id = null 
```

为什么？如何修改代码以正常工作？
PS：我不希望创建 C 测试类映射到 lua

==== update1 ====
另外，我添加了测试代码来确认传入的参数是否正确。

```
int callCfunc(lua_State * l)
{
   std::string typeName = lua_typename(l, lua_type(l, 1));    // the typeName=="table"
   void* obj = lua_topointer(l, 1);            //I hope get lua's a variable
   lua_pushlightuserdata(l, obj);   
   lua_getfield(l, 1, "ID");
   std::string id = lua_tostring(l, 1);        //I hoe get the value "abc123"
   ...
   return 0;
} 
```

结果

```
typeName == "table" 
```

所以传入的参数类型是正确的

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-08T08:21:45.430

我发现
正确的 c 代码应该是......
在 C 代码中

```
int callCfunc(lua_State * l)
{
   lua_getfield(l, 1, "ID");
   std::string id = lua_tostring(l, -1);        //-1
   ...
   return 0;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T07:07:24.843

也许这 - 没有测试抱歉 - 手边没有编译器

输入是来自堆栈顶部的 lua 表，因此 getfield(l,1, "ID") 应该从堆栈顶部的表中获取字段 ID - 在本例中是您的输入表。然后将结果压入栈顶

```
int callCfunc(lua_State * l)
{
   lua_getfield(l, 1, "ID");
   std::string id = lua_tostring(l, 1);        //I hoe get the value "abc123"
   ...
   return 0;
} 
```

# android - 手动在谷歌地图上拖放图钉并相应地获取经度和纬度

> ID：14208952
> 
> 赞同：4
> 
> 时间：2013-01-08T05:50:19.047
> 
> 标签：android, google-maps, latitude-longitude

在谷歌地图中，​​我在用户的当前位置放置了一个图钉，但现在我想为用户提供另一个功能，他可以手动拖动该图钉并将其放到地图上的任何位置，当他手动放置图钉时我也可以收到一个回调，它为我提供了用户放下该别针的那个位置的经度和纬度。

如果你能给我一些例子，那将是非常可观的。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2015-02-08T01:28:03.447

在过去的几天里，我终于找到了如何实现你描述的那些功能，因为这个问题没有答案，我决定发布我发现的东西，即使你问了很长时间，你可能会找到另一个答案你自己。

所以，我使用了[这个](https://github.com/commonsguy/cw-omnibus/tree/master/MapsV2/Drag)git 的代码。除了我没有以这种方式尝试的回调之外，我设法做了所有你想做的事情。按下按钮后，我得到了引脚的位置。

* * *

无需发布我的信息`AndroidManifest`，因为我读到您在显示您的位置时没有问题，因此所需的权限很好。

* * *

唯一需要做的就是创建一个名为`MapsActivity`. 这是它的全部内容：

```
import com.google.android.gms.maps.*;
import com.google.android.gms.maps.model.*;
import android.app.Activity;
import android.content.Intent;
import android.os.Bundle;
import android.view.View;
import android.widget.ImageButton;
import android.widget.Toast;

import common.logger.Log;

public class MapsActivity extends Activity implements
        OnMapReadyCallback, GoogleMap.OnInfoWindowClickListener,
        GoogleMap.OnMarkerDragListener {

    LatLng position = new LatLng(34.6767, 33.04455);
    final Marker marker_final = null;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_maps);

        MapFragment mapFragment = (MapFragment) getFragmentManager()
                .findFragmentById(R.id.
                        map);
        mapFragment.getMapAsync(this);

        ImageButton returnback = (ImageButton)findViewById(R.id.returnback);
        returnback.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                    Toast.makeText(MapsActivity.this.getApplicationContext(), position.latitude + ":"  + position.longitude, Toast.LENGTH_LONG).show();
            }
        });

    }

    @Override
    public void onMapReady(GoogleMap map) {

        map.setMyLocationEnabled(true);
        map.moveCamera(CameraUpdateFactory.newLatLngZoom(position, 13));
        CameraUpdate zoom = CameraUpdateFactory.zoomTo(15);
        map.animateCamera(zoom);

        map.addMarker(new MarkerOptions()
                .title("Shop")
                .snippet("Is this the right location?")
                .position(position))
                .setDraggable(true);

       // map.setInfoWindowAdapter(new PopupAdapter(getLayoutInflater()));
        map.setOnInfoWindowClickListener(this);
        map.setOnMarkerDragListener(this);
    }

    @Override
    public void onInfoWindowClick(Marker marker) {
        Toast.makeText(this, marker.getTitle(), Toast.LENGTH_LONG).show();
    }

    @Override
    public void onMarkerDragStart(Marker marker) {
        LatLng position0 = marker.getPosition();

        Log.d(getClass().getSimpleName(), String.format("Drag from %f:%f",
                position0.latitude,
                position0.longitude));
    }

    @Override
    public void onMarkerDrag(Marker marker) {
        LatLng position0 = marker.getPosition();

        Log.d(getClass().getSimpleName(),
                String.format("Dragging to %f:%f", position0.latitude,
                        position0.longitude));

    }

    @Override
    public void onMarkerDragEnd(Marker marker) {
        position = marker.getPosition();

        Log.d(getClass().getSimpleName(), String.format("Dragged to %f:%f",
                position.latitude,
                position.longitude));
    }
} 
```

* * *

这是我的`activity_maps.xml`布局（我还添加了一个编辑文本，但没有必要使用它）：

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:orientation="vertical"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:descendantFocusability="beforeDescendants"
    android:focusableInTouchMode="true"
    android:background="#ecf0f1">

    <ScrollView
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:id="@+id/scrollView3" >

        <LinearLayout
            android:orientation="vertical"
            android:layout_width="fill_parent"
            android:layout_height="fill_parent">

            <LinearLayout
                android:orientation="horizontal"
                android:layout_width="fill_parent"
                android:weightSum="1"
                android:layout_height="wrap_content">

                <EditText
                    android:layout_width="fill_parent"
                    android:layout_height="wrap_content"
                    android:layout_weight="0.9"
                    android:id="@+id/locationsearch" />

                <ImageButton
                    android:layout_width="40dp"
                    android:layout_height="40dp"
                    android:id="@+id/search"
                    android:layout_weight="0.1"
                    android:background="@drawable/search" />

            </LinearLayout>

            <fragment xmlns:android="http://schemas.android.com/apk/res/android"
            android:id="@+id/map"
            android:layout_width="match_parent"
            android:layout_height="405dp"
            android:name="com.google.android.gms.maps.MapFragment"/>

            <ImageButton
                android:layout_width="60dp"
                android:layout_height="60dp"
                android:id="@+id/returnback"
                android:background="@drawable/less" />
        </LinearLayout>
    </ScrollView>

</LinearLayout> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T06:38:43.583

嗨使用下面的代码。

您将获得掉落的针脚位置。

```
import java.io.IOException;
import java.util.ArrayList;
import java.util.List;
import java.util.Locale;

import org.apache.http.NameValuePair;
import org.apache.http.client.ClientProtocolException;
import org.apache.http.client.HttpClient;
import org.apache.http.client.ResponseHandler;
import org.apache.http.client.entity.UrlEncodedFormEntity;
import org.apache.http.client.methods.HttpPost;
import org.apache.http.impl.client.BasicResponseHandler;
import org.apache.http.impl.client.DefaultHttpClient;
import org.apache.http.message.BasicNameValuePair;

import com.google.android.maps.GeoPoint;
import com.google.android.maps.ItemizedOverlay;
import com.google.android.maps.MapActivity;
import com.google.android.maps.MapController;
import com.google.android.maps.MapView;
import com.google.android.maps.MyLocationOverlay;
import com.google.android.maps.OverlayItem;

import android.app.Activity;
import android.app.AlertDialog;
import android.app.ProgressDialog;
import android.content.Context;
import android.content.DialogInterface;

import android.graphics.Canvas;
import android.graphics.Point;
import android.graphics.Typeface;
import android.graphics.drawable.Drawable;
import android.location.Address;
import android.location.Criteria;
import android.location.Geocoder;
import android.location.Location;
import android.location.LocationListener;
import android.location.LocationManager;

import android.os.AsyncTask;
import android.os.Bundle;

import android.view.MotionEvent;
import android.view.View;

import android.widget.ImageView;

import android.widget.RelativeLayout;

import android.widget.Toast;

public class rescue extends MapActivity {

    private LocationManager myLocationManager;
    private LocationListener myLocationListener;

    private MapView myMapView;
    private MapController myMapController;
    private String provider;
    private MyLocationOverlay me=null;

    private int defaultLat =(int)(51.51216124955517); 
    private int defaultLong =(int)(-0.1373291015625);

    private GeoPoint defaultGeoPint = new GeoPoint(defaultLat,defaultLong);

    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.rescue);

        setCurrentLocation();

    }

    @Override
    protected boolean isRouteDisplayed() {
        // TODO Auto-generated method stub
        return false;
    }

    private void setCurrentLocation()
    {
      myMapView = (MapView)findViewById(R.id.rescueMapView);
      myMapView.setTraffic(true);
      ///myMapView.setBuiltInZoomControls(true);

      myMapController = myMapView.getController();
      myMapController.setZoom(16); //Fixed Zoom Level

      myLocationManager = (LocationManager)getSystemService(Context.LOCATION_SERVICE);
      myLocationListener = new MyLocationListener();

      try
      {
      Criteria criteria = new Criteria();
      provider = myLocationManager.getBestProvider(criteria, false);

      Location location = myLocationManager.getLastKnownLocation(provider);

      myLocationManager.requestLocationUpdates(
              provider,
        0,
        0,
        myLocationListener);

      Location lastLocation = myLocationManager.getLastKnownLocation(provider); 

          if(lastLocation != null)
          {
              int lastLocLat =(int)(lastLocation.getLatitude()*1000000); 
              int lastLocLong =(int)(lastLocation.getLongitude()*1000000);
              //Get the current location in start-up
              GeoPoint initGeoPoint = new GeoPoint(lastLocLat,lastLocLong);
              CenterLocatio(initGeoPoint);
          }
          else
          {
              AlertDialog.Builder builder = new AlertDialog.Builder(this);
              builder.setTitle("Location Services Disabled")
                     .setMessage("The location service on the device are disabled, your location is not able to be found, please call AXA uding the button below to be rescued")
                     .setCancelable(false)
                     .setPositiveButton("Drop pin", new DialogInterface.OnClickListener() {
                         public void onClick(DialogInterface dialog, int id) {
                              //do things
                             CenterLocatio(defaultGeoPint);
                         }
                     });
              builder.create().show();

          }
      }
      catch (Exception e) 
      {
        // TODO: handle exception

            Context context = getApplicationContext();
            String toasttext = e.getMessage();
            int duration = Toast.LENGTH_SHORT;

            Toast toast = Toast.makeText(context, toasttext, duration);
            toast.show();

      }

    }

    private void CenterLocatio(GeoPoint centerGeoPoint)
     {
        myMapView.getOverlays().clear();
      myMapController.animateTo(centerGeoPoint);

      Drawable marker=getResources().getDrawable(R.drawable.marker);

        marker.setBounds(0, 0, marker.getIntrinsicWidth(),
                                marker.getIntrinsicHeight());

        int lat = centerGeoPoint.getLatitudeE6();
        int lon = centerGeoPoint.getLongitudeE6();

        double lat1 = centerGeoPoint.getLatitudeE6()/1E6;

        double lon1 = centerGeoPoint.getLongitudeE6()/1E6;

        ArrayList<Double> passing = new ArrayList<Double>();
        passing.add(lat1);
        passing.add(lon1);

        Context context = getApplicationContext(); 
        ReverseGeocodeLookupTask task = new ReverseGeocodeLookupTask();
        task.applicationContext = context;
        task.activityContext = rescue.this; 
        task.execute(passing);

        myMapView.getOverlays().add(new SitesOverlay(marker,lat, lon ));

        me=new MyLocationOverlay(this, myMapView);
        myMapView.getOverlays().add(me);

     };

     private class MyLocationListener implements LocationListener{

         @Override
          public void onLocationChanged(Location argLocation) {
           // TODO Auto-generated method stub
           GeoPoint myGeoPoint = new GeoPoint(
            (int)(argLocation.getLatitude()*1000000),
            (int)(argLocation.getLongitude()*1000000));

           //CenterLocatio(myGeoPoint);
          }

          public void onProviderDisabled(String provider) {
           // TODO Auto-generated method stub
          }

          public void onProviderEnabled(String provider) {
           // TODO Auto-generated method stub
          }

          public void onStatusChanged(String provider,
            int status, Bundle extras) {
           // TODO Auto-generated method stub
          }

         }

     private GeoPoint getPoint(int lat, int lon) {

         return(new GeoPoint(lat, lon));

         /*
            return(new GeoPoint((int)(lat*1000000.0),
                                  (int)(lon*1000000.0)));
                               */
          }

      private class SitesOverlay extends ItemizedOverlay<OverlayItem> {
            private List<OverlayItem> items=new ArrayList<OverlayItem>();
            private Drawable marker=null;
            private OverlayItem inDrag=null;
            private ImageView dragImage=null;
            private int xDragImageOffset=0;
            private int yDragImageOffset=0;
            private int xDragTouchOffset=0;
            private int yDragTouchOffset=0;

            public SitesOverlay(Drawable marker, int lat, int longitude) {
              super(marker);
              this.marker=marker;

              dragImage=(ImageView)findViewById(R.id.drag);
              xDragImageOffset=dragImage.getDrawable().getIntrinsicWidth()/2;
              yDragImageOffset=dragImage.getDrawable().getIntrinsicHeight();

              items.add(new OverlayItem(getPoint(lat,
                                                  longitude),
                                        "UN", "United Nations"));

              /*
              items.add(new OverlayItem(getPoint(40.76866299974387,
                                                  -73.98268461227417),
                                        "Lincoln Center",
                                        "Home of Jazz at Lincoln Center"));
               */
              populate();
            }

            @Override
            protected OverlayItem createItem(int i) {
              return(items.get(i));
            }

            @Override
            public void draw(Canvas canvas, MapView mapView,
                              boolean shadow) {
              super.draw(canvas, mapView, shadow);

              boundCenterBottom(marker);
            }

            @Override
            public int size() {
              return(items.size());
            }

            @Override
            public boolean onTouchEvent(MotionEvent event, MapView mapView) {
              final int action=event.getAction();
              final int x=(int)event.getX();
              final int y=(int)event.getY();
              boolean result=false;

              if (action==MotionEvent.ACTION_DOWN) {
                for (OverlayItem item : items) {
                  Point p=new Point(0,0);

                  myMapView.getProjection().toPixels(item.getPoint(), p);

                  if (hitTest(item, marker, x-p.x, y-p.y)) {
                    result=true;
                    inDrag=item;
                    items.remove(inDrag);
                    populate();

                    xDragTouchOffset=0;
                    yDragTouchOffset=0;

                    setDragImagePosition(p.x, p.y);
                    dragImage.setVisibility(View.VISIBLE);

                    xDragTouchOffset=x-p.x;
                    yDragTouchOffset=y-p.y;

                    break;
                  }
                }
              }
              else if (action==MotionEvent.ACTION_MOVE && inDrag!=null) {
                setDragImagePosition(x, y);
                result=true;
              }
              else if (action==MotionEvent.ACTION_UP && inDrag!=null) {
                dragImage.setVisibility(View.GONE);

                GeoPoint pt=myMapView.getProjection().fromPixels(x-xDragTouchOffset,
                                                           y-yDragTouchOffset);

                String title = inDrag.getTitle();
                OverlayItem toDrop=new OverlayItem(pt, title,
                                                   inDrag.getSnippet());

                items.add(toDrop);
                populate();

                double lat = pt.getLatitudeE6()/1E6;

                double lon = pt.getLongitudeE6()/1E6;

                ArrayList<Double> passing = new ArrayList<Double>();
                passing.add(lat);
                passing.add(lon);

                Context context = getApplicationContext(); 
                ReverseGeocodeLookupTask task = new ReverseGeocodeLookupTask();
                task.applicationContext = context;
                task.activityContext = rescue.this; 
                task.execute(passing);

                //CenterLocatio(pt);

                inDrag=null;
                result=true;
              }

              return(result || super.onTouchEvent(event, mapView));
            }

            private void setDragImagePosition(int x, int y) {
              RelativeLayout.LayoutParams lp=
                (RelativeLayout.LayoutParams)dragImage.getLayoutParams();

              lp.setMargins(x-xDragImageOffset-xDragTouchOffset,
                              y-yDragImageOffset-yDragTouchOffset, 0, 0);
              dragImage.setLayoutParams(lp);
            }
          }

      public class ReverseGeocodeLookupTask extends AsyncTask <ArrayList<Double>, Void, String>
        {
            private ProgressDialog dialog;
            protected Context applicationContext;
            protected Context activityContext;

            @Override
            protected void onPreExecute()
            {
                this.dialog = ProgressDialog.show(activityContext, "Please wait", 
                        "Requesting location", true);
            }

            protected String doInBackground(ArrayList<Double>... params) 
            {

                String foundAddress = "";
                String localityName = "";
                ArrayList<Double> passed = params[0];
                double lat = passed.get(0);
                double lon = passed.get(1);
                try
                {

                List<Address> addresses = new Geocoder(applicationContext,Locale.getDefault()).getFromLocation(lat,lon, 1);
                if (addresses.size() > 0)
                {
                    String addressLine = "";

                    for(Integer i = 0; i < addresses.get(0).getMaxAddressLineIndex(); i++)
                    {
                        if(!addressLine.equals(""))
                        {
                            addressLine+= ", ";
                        }

                        addressLine+=  addresses.get(0).getAddressLine(i);
                    }

                    if(addressLine!="")
                    {
                        foundAddress+= addressLine;
                    }

                }

                }
                catch (Exception e) {
                    // TODO: handle exception

                }
                finally
                {

                }

                return foundAddress;
            }

            @Override
            protected void onPostExecute(String result)
            {
                this.dialog.cancel();
                showToast(result);

            }
        }

      public void showToast(String message)
        {
            Context context = getApplicationContext();
            String toasttext = message;
            int duration = Toast.LENGTH_SHORT;

            Toast toast = Toast.makeText(context, toasttext, duration);
            toast.show();
        }

} 
```

在清单文件中使用以下权限

```
 <uses-permission android:name="android.permission.INTERNET" /> 
    <uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
    <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />

    <application
        android:icon="@drawable/ic_launcher"
        android:label="@string/app_name" >
         <uses-library android:name="com.google.android.maps" />
        <activity
            android:label="@string/app_name"
            android:name=".DragAndDropPinActivity" >

        </activity>

            <activity
            android:label="@string/app_name"
            android:name=".rescue" >
            <intent-filter >
                <action android:name="android.intent.action.MAIN" />

                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
    </application> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-08T06:06:18.610

请参阅下面的链接，您可以在其中找到来自 Commons guy 的示例

[样本](https://github.com/commonsguy/cw-advandroid/tree/master/Maps/NooYawkTouch/)

[所以问题](https://stackoverflow.com/questions/3897409/how-does-one-implement-drag-and-drop-for-android-marker)

# android - 如何制作小尺寸的安卓应用程序？

> ID：14208954
> 
> 赞同：6
> 
> 时间：2013-01-08T05:50:43.830
> 
> 标签：android, eclipse, size

我正在为我的学校做一个小项目...

我做了一个简单的计算器应用程序......用简单的数学运算......而当apk文件被创建和安装时，它正在消耗手机中超过700 kb的内存空间。在 android 市场（Play 商店）中，只有类似的应用程序尺寸小，占用的内存空间不到 500。我在 Eclipse 中创建应用程序...

有人会帮我解决这个问题，他们如何制作简单的小尺寸应用程序。？？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-08T05:57:49.110

我创建的最小 APK 约为 35kB。大小随着包含的资产而急剧增加。检查 /res、/assets 和 /raw 文件夹（如果有的话）的大小。APK 大小将大于这三个的总和。此外，如果您使用它，任何包含的库都会计数，并且会增加体积，甚至（尤其是）兼容性库。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T06:01:18.543

如果您有很多图形资源，那么您可能应该考虑使用[9-patches](http://developer.android.com/tools/help/draw9patch.html)。它们节省了大量内存。

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2013-01-08T05:59:09.090

请详细说明您的问题。当您说内存时，您是指 RAM 还是实际的存储内存？

如果您指的是存储内存...

*   存储内存取决于您的应用程序有多大。例如，如果您有太多的大尺寸图像，那么应用程序的大小将会增加。

顺便说一句，700K真的不算多。你还行。

# sql - 从两个日期之间的日期范围中选择数据

> ID：14208958
> 
> 赞同：127
> 
> 时间：2013-01-08T05:51:00.063
> 
> 标签：sql, date, range

我有一个名为的表`Product_Sales`，它包含这样的数据

```
Product_ID | Sold_by | Qty | From_date  | To_date
-----------+---------+-----+------------+-----------
3          | 12      | 7   | 2013-01-05 | 2013-01-07
6          | 22      | 14  | 2013-01-06 | 2013-01-10
8          | 11      | 9   | 2013-02-05 | 2013-02-11 
```

现在，如果我想从日期范围中选择两个日期之间的销售数据，查询是什么？

例如，我想从 to 中选择销售`2013-01-03`数据`2013-01-09`。

* * *

## 回答 #1

> 赞同：188
> 
> 时间：2014-07-27T18:56:47.873

![interval intersection description](../Images/bd4be336ccc78a3dce23c10700bccfbd.png)

As you can see, there are two ways to get things done:

*   enlist all acceptable options
*   exclude all wrong options

Obviously, second way is much more simple (only two cases against four).

Your SQL will look like:

```
SELECT * FROM Product_sales 
WHERE NOT (From_date > @RangeTill OR To_date < @RangeFrom) 
```

* * *

## 回答 #2

> 赞同：111
> 
> 时间：2016-04-01T10:45:16.037

```
SELECT * from Product_sales where
(From_date BETWEEN '2013-01-03'AND '2013-01-09') OR 
(To_date BETWEEN '2013-01-03' AND '2013-01-09') OR 
(From_date <= '2013-01-03' AND To_date >= '2013-01-09') 
```

你必须涵盖所有的可能性。*From_Date*或*To_Date*可能在您的日期范围之间，或者记录日期可能涵盖整个范围。

如果其中一个`From_date`或`To_date`在日期之间，或者`From_date`小于开始日期并且`To_date`大于结束日期；那么应该返回这一行。

* * *

## 回答 #3

> 赞同：45
> 
> 时间：2013-01-08T05:53:32.923

尝试以下查询以获取范围之间的日期：

```
SELECT  *
FROM    Product_sales 
WHERE   From_date >= '2013-01-03' AND
        To_date   <= '2013-01-09' 
```

* * *

## 回答 #4

> 赞同：26
> 
> 时间：2013-01-08T06:00:30.393

```
SELECT * FROM Product_sales 
WHERE From_date between '2013-01-03'
AND '2013-01-09' 
```

* * *

## 回答 #5

> 赞同：8
> 
> 时间：2013-08-20T10:18:48.193

```
SELECT *
FROM Product_sales
WHERE (
From_date >= '2013-08-19'
AND To_date <= '2013-08-23'
)
OR (
To_date >= '2013-08-19'
AND From_date <= '2013-08-23'
) 
```

* * *

## 回答 #6

> 赞同：8
> 
> 时间：2019-08-07T12:43:25.770

这涵盖了您正在寻找的所有条件。

```
SELECT * from Product_sales where (From_date <= '2013-01-09' AND To_date >= '2013-01-01') 
```

* * *

## 回答 #7

> 赞同：6
> 
> 时间：2013-01-08T06:18:00.143

请试试：

```
DECLARE @FrmDt DATETIME, @ToDt DATETIME
SELECT @FrmDt='2013-01-03', @ToDt='2013-01-09'

SELECT * 
FROM Product_sales 
WHERE (@FrmDt BETWEEN From_date AND To_date) OR 
    (@ToDt BETWEEN From_date AND To_date) 
```

* * *

## 回答 #8

> 赞同：4
> 
> 时间：2013-09-30T14:53:40.383

只需我的 2 美分，我发现使用“dd-MMM-yyyy”格式最安全，因为无论服务器上的区域设置如何，数据库服务器都会知道您想要什么。否则，您可能会在日期区域设置为 yyyy-dd-mm 的服务器上遇到问题（无论出于何种原因）

因此：

```
SELECT * FROM Product_sales 
WHERE From_date >= '03-Jan-2013'
AND To_date <= '09-Jan-2013' 
```

它对我来说总是很有效;-)

* * *

## 回答 #9

> 赞同：4
> 
> 时间：2016-10-07T19:26:30.680

```
select * 
from table 
where
( (table.EndDate > '2013-01-05') and (table.StartDate < '2013-01-07' )  ) 
```

* * *

## 回答 #10

> 赞同：3
> 
> 时间：2016-04-01T10:28:00.800

检查这个查询，我创建了这个查询来检查入住日期是否与任何预订日期重叠

```
SELECT * FROM tbl_ReservedRooms
WHERE NOT ('@checkindate' NOT BETWEEN fromdate AND todate
  AND '@checkoutdate'  NOT BETWEEN fromdate AND todate) 
```

这将重新运行重叠的详细信息，以获取不重叠的详细信息，然后从查询中删除“NOT”

* * *

## 回答 #11

> 赞同：3
> 
> 时间：2015-10-20T09:41:55.767

此查询将帮助您：

```
select * 
from XXXX
where datepart(YYYY,create_date)>=2013 
and DATEPART(YYYY,create_date)<=2014 
```

* * *

## 回答 #12

> 赞同：3
> 
> 时间：2018-06-05T09:04:00.813

这很简单，使用此查询从两个日期之间的日期范围中查找选择数据

```
select * from tabblename WHERE (datecolumn BETWEEN '2018-04-01' AND '2018-04-5') 
```

* * *

## 回答 #13

> 赞同：2
> 
> 时间：2014-04-08T07:37:02.527

这适用于 SQL_Server_2008 R2

```
Select * 
from Product_sales
where From_date 
between '2013-01-03' and '2013-01-09' 
```

* * *

## 回答 #14

> 赞同：2
> 
> 时间：2017-08-08T21:08:34.047

**您也可以尝试使用以下片段：**

```
select  * from  Product_sales 
where  From_date  >= '2013-01-03' and game_date  <= '2013-01-09' 
```

* * *

## 回答 #15

> 赞同：2
> 
> 时间：2015-09-09T12:10:46.907

```
SELECT NULL  
    FROM   HRMTable hm(NOLOCK)  
    WHERE  hm.EmployeeID = 123
        AND (  
                (  
                    CAST(@Fromdate AS date) BETWEEN CAST(hm.FromDate AS date)  
                        AND CAST(hm.ToDate AS date)  
                )  
                OR (  
                    CAST(@Todate AS date) BETWEEN CAST(hm.FromDate AS date)  
                        AND CAST(hm.ToDate AS date)  
                   )  
                ) 
         ) 
```

* * *

## 回答 #16

> 赞同：1
> 
> 时间：2015-08-26T16:54:37.407

这是一个查询，用于查找在 8 月份运行的所有产品销售

*   查找 Product_sales 在 8 月份活跃
*   包括在 8 月底之前开始的所有内容
*   排除在 8 月 1 日之前结束的任何内容

还添加了一个 case 语句来验证查询

```
SELECT start_date, 
       end_date, 
       CASE 
         WHEN start_date <= '2015-08-31' THEN 'true' 
         ELSE 'false' 
       END AS started_before_end_of_month, 
       CASE 
         WHEN NOT end_date <= '2015-08-01' THEN 'true' 
         ELSE 'false' 
       END AS did_not_end_before_begining_of_month 
FROM   product_sales 
WHERE  start_date <= '2015-08-31' 
       AND end_date >= '2015-08-01' 
ORDER  BY start_date; 
```

* * *

## 回答 #17

> 赞同：1
> 
> 时间：2019-07-26T12:54:51.563

```
DECLARE @monthfrom int=null,
@yearfrom int=null,
@monthto int=null,
@yearto int=null,
@firstdate DATE=null,
@lastdate DATE=null

SELECT @firstdate=DATEADD(month,@monthfrom-1,DATEADD(year,@yearfrom-1900,0)) /*Setting First Date using From Month & Year*/
SELECT @lastdate= DATEADD(day,-1,DATEADD(month,@monthto,DATEADD(year,@yearto-1900,0)))/*Setting Last Date using From Month & Year*/

SELECT *  FROM tbl_Record
WHERE  (DATEADD(yy, Year - 1900, DATEADD(m, Month - 1, 1 - 1)) BETWEEN CONVERT(DATETIME, @firstdate, 102) AND 
CONVERT(DATETIME, @lastdate, 102)) 
```

* * *

## 回答 #18

> 赞同：-1
> 
> 时间：2013-01-08T06:00:11.290

您应该像比较数字值一样比较 sql 中的日期，

```
SELECT * FROM Product_sales
WHERE From_date >= '2013-01-01' AND To_date <= '2013-01-20' 
```

* * *

## 回答 #19

> 赞同：-1
> 
> 时间：2018-05-06T08:55:18.717

这很容易，使用这个查询来找到你想要的。

```
select * from Product_Sales where From_date<='2018-04-11' and To_date>='2018-04-11' 
```

# mediawiki - 需要登录才能查看 MediaWiki 站点的内容

> ID：14208960
> 
> 赞同：-1
> 
> 时间：2013-01-08T05:51:08.430
> 
> 标签：mediawiki, wiki

有没有办法隐藏我的 wiki 站点的内容？我想允许有帐户的用户在登录后查看内容。在 Mediawiki 下这可能吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-08T05:55:48.423

是的，*当然*有可能！这就是 MediaWiki 拥有用户和群组的原因！

*   [http://www.mediawiki.org/wiki/Manual:User_rights](http://www.mediawiki.org/wiki/Manual:User_rights)

*   [http://www.mediawiki.org/wiki/Manual:安全](http://www.mediawiki.org/wiki/Manual:Security)

*   [http://www.mediawiki.org/wiki/Manual:Preventing_access](http://www.mediawiki.org/wiki/Manual:Preventing_access)

# ios - 如何使应用程序以类似于 iphone 原生电话铃声的行为播放铃声

> ID：14208963
> 
> 赞同：1
> 
> 时间：2013-01-08T05:51:20.683
> 
> 标签：ios, audio, avaudioplayer, avaudiosession

我正在开发 iOS 上的 VOIP 应用程序。我在实现“忽略传入铃声”功能时遇到了一些问题。有以下要求： 1\. 按下锁屏键或音量键时应停止铃声 2\. 静音键按下“静音”状态时应停止铃声 3\. 静音键处于“静音”状态时不应播放铃声

由于 iOS SDK 没有提供手机硬件按键的信息，我只能依靠设置 AVAudioSession 类别。在播放铃声之前，我将类别设置为环境，以便屏幕锁定和静音按钮可以停止音频。但是这种方法不能满足我的要求，因为应用程序在后台时无法播放铃声，因为环境类别不支持背景音频。
为了解决这个问题，我开始在播放和录制类别中播放铃声，使音频流出来并立即将类别更改为环境。虽然它可以满足我的要求，但是这种方法引起了很多问题和错误。例如，MPVolumeView 无法正确显示输出设备。

谁能提供一种更优雅的方式来模拟振铃器？或者这可以在 iPhone 中完成吗？由于它将在应用商店中，因此我无法使用私有 api。提前致谢。

# oracle - Oracle 全局临时表 - 其他实例的特权

> ID：14208965
> 
> 赞同：1
> 
> 时间：2013-01-08T05:51:28.390
> 
> 标签：oracle, global, privileges

我在 oracle 中创建了全局临时表并通过我的应用程序插入数据，当我使用“system”作为用户名连接到数据库时，它对我来说工作正常。我在数据库中使用“user1”再创建了一个用户，并且还向该用户授予了“授予所有”权限。现在，当我使用“User1”作为用户名连接到数据库并运行应用程序时，数据不会插入到全局临时表中。但是当我尝试从 sql developer tool 插入数据时，它的插入。系统用户通过应用程序也可以工作，而 user1 则不插入。我没有了解背后的原因，因为我没有那么多数据库专家。

请有任何想法建议我。我也有所有特权。提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T06:26:32.687

首先，表必须在 SYS 或 SYSTEM 之外的其他模式中。在“User1”上创建它。

其次，您必须确保从同一张表中进行选择。插入时和读取时使用模式为表添加前缀。

还要确保您不是在Sql Developer中创建表的`ON COMMIT DELETE ROWS`情况。`AUTOCOMMIT ON`

# c++ - 返回包含 std::map 的 std::unique_ptr

> ID：14208968
> 
> 赞同：0
> 
> 时间：2013-01-08T05:51:46.560
> 
> 标签：c++, stdmap, unique-ptr

我有一张地图如下：

```
std::map<char,std::map<short,char>> my_maps; 
```

并且我需要返回对与函数中指定键对应的映射之一的引用。我不知道该怎么做，这是我的代码：

```
bool GetMap(char key,std::unique_ptr<std::map<short,char>> my_map){

  auto m=my_maps.find(key);
  if(m!=my_maps.end()){

     my_map=m->second;
     // I have also tried this: my_map=my_maps[_commandcode];

    return(true);
  }
  return (false);
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-08T06:05:35.107

这就是我要做的：

```
std::map<short,char>& GetMap(char key, std::map<char,std::map<short,char>> &my_maps)
{
  auto m = my_maps.find(key);
  if (m != my_maps.end())
  {
    return m->second;
  }
  throw std::exception("not found");
} 
```

# proxy - 无法使用 Sencha Touch 2 SQL 代理在 Web SQL 中创建表

> ID：14208973
> 
> 赞同：0
> 
> 时间：2013-01-08T05:52:25.220
> 
> 标签：proxy, sencha-touch

这是一个非常奇怪的问题。我修改了sencha touch 2的sql代理，其实我只是修改了一些配置和名称，除了一些console.log之外没有修改代码。当我在chrome中调试它时，执行了createTable的代码，并创建了数据库，但是带有create table的executeSql不起作用。我已经添加了成功和失败回调，但它们没有被执行。

我的意思是这很奇怪，因为原始的 javascript 代码可以正常工作。稍后我将粘贴代码，但我几乎无法想象它发生的原因。

对不起我的英语不好。

原始代码可以工作：

```
var db = openDatabase("TDD", "1.0", "TDD Database", 5 * 1024 * 1024);
db.transaction(function(tx){
       tx.executeSql("CREATE TABLE IF NOT EXISTS Activities " +
                    "(id INTEGER PRIMARY KEY AUTOINCREMENT, user_id INTEGER, " +
                    "title TEXT, location TEXT)");
}); 
```

Sencha Touch SQL 代理（仅需要的代码）：

```
/**
 * PhoneGap proxy.
 */
Ext.define('TDD.proxy.PhoneGap', {
    alias: 'proxy.phonegap',
    extend: 'Ext.data.proxy.Client',

    conf ig: {
        /**
         * @cfg {Object} reader
         * @hide
         */
        reader: null,
        /**
         * @cfg {Object} writer
         * @hide
         */
        writer: null,

        table: null,

        database: 'TDD',

        columns: '',

        uniqueIdStrategy: false,

        tableExists: false,

        defaultDateFormat: 'Y-m-d H:i:s.u'
    },

    create: function (operation, callback, scope) {
        var me = this,
            db = me.getDatabaseObject(),
            records = operation.getRecords(),
            tableExists = me.getTableExists();

        operation.setStarted();

        db.transaction(function(transaction) {
            if (!tableExists) {
                me.createTable(transaction);
            }

            me.insertRecords(records, transaction, function(resultSet, errors) {
                if (operation.process(operation.getAction(), resultSet) === false) {
                    me.fireEvent('exception', this, operation);
                }

                if (typeof callback == 'function') {
                    callback.call(scope || this, operation);
                }
            }, this);
        });
    },

    createTable: function (transaction) {
        var sql = 'CREATE TABLE IF NOT EXISTS ' + this.getTable() + ' (' + this.getSchemaString() + ')';
        console.log(sql);
        transaction.executeSql(sql, [],
            function(tx, results) {
                console.log("Success.");
                console.log(results);
            },
            function(tx, errors) {
                console.log("Fail.");
                console.log(errors);
            }
        );
        // Don't work either.
        transaction.executeSql("Create Table item (id integer, TT text)");

        this.setTableExists(true);
    },

    getDatabaseObject: function() {
        return openDatabase(this.getDatabase(), '1.0', 'TDD Database', 5 * 1024 * 1024);
    }
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T16:10:46.253

您发布的代码显示了这一点：

配置：{

它应该是：

配置：{

不确定这是否是您的问题，但会先看看那里。

# git - 这个提交怎么会从 git 历史中消失？

> ID：14208974
> 
> 赞同：1
> 
> 时间：2013-01-08T05:52:28.710
> 
> 标签：git, git-submodules

我无法理解为什么某个特定的提交似乎刚刚从我的 git 历史记录中消失了，即使我可以从我的分支中的先前提交中看到它。

您可以看到`master`包含标签`v2.1.1.332`：

```
$ git branch --contains v2.1.1.332
* master 
```

`lib/facebook-ios-sdk`这是from的提交日志`master`：

```
$ git log --format=%h master -- lib/facebook-ios-sdk
4b23dc7
3cc007d
b14fbda
3e5c85d
ab962d1
d3da048
d765573 
```

请注意，这`lib/facebook-ios-sdk`是一个 git 子模块，而不是我的 git 存储库中的常规路径。

并从以下位置提交相同路径的日志`v2.1.1.332`：

```
$ git log --format=%h v2.1.1.332 -- lib/facebook-ios-sdk
e5ed45f
4b23dc7
3cc007d
b14fbda
3e5c85d
ab962d1
d3da048
d765573 
```

注意提交`e5ed45f`；它显然存在`v2.1.1.332`但不存在`master`！这怎么可能？

更有趣的是，`git-branch`表示`master` *确实*包含`e5ed45f`：

```
$ git branch --contains e5ed45f
* master 
```

另外，当我跑步时`git log master`，我确实进入`e5ed45f`了列表。只是当我用`git log`.

我为什么要问这一切？虽然这本身就是一种奇妙的事物状态，但我们注意到子模块`lib/facebook-ios-sdk`已错误地设置为先前的提交（`4b23dc7`树中的那个）。我们开始寻找使用的错误提交`git log master -- lib/facebook-ios-sdk`，就在那时我们遇到了这个问题。现在我们不知道这个子模块的提交是如何更改为以前的值的。

**编辑**#git 上的 wereHamster 指向我`git log --full-history`。使用此选项确实会显示丢失的提交：

```
$ git log --format=%h --full-history master -- lib/facebook-ios-sdk
e5ed45f
4b23dc7
3cc007d
b14fbda
3e5c85d
ab962d1
aa43dc3
d3da048
d765573 
```

然而，它仍然没有解释为什么错误的提交被检出子模块：

```
$ git show --format=%b e5ed45f -- lib/facebook-ios-sdk

diff --git a/lib/facebook-ios-sdk b/lib/facebook-ios-sdk
index cb42580..de7509b 160000
--- a/lib/facebook-ios-sdk
+++ b/lib/facebook-ios-sdk
@@ -1 +1 @@
-Subproject commit cb425807b1f25f916e48b35e06197bccc8b881be
+Subproject commit de7509b8bff6df7163738a979567a72fd4a13ff8

# This command was run on master
$ git submodule lib/facebook-ios-sdk
 cb425807b1f25f916e48b35e06197bccc8b881be lib/facebook-ios-sdk (v1.1-20-gcb42580) 
```

# r - R - 在后台运行 source()

> ID：14208976
> 
> 赞同：13
> 
> 时间：2013-01-08T05:52:36.863
> 
> 标签：r, background

我想从 R 控制台在后台执行 R 脚本。

从控制台，我通常将 R 脚本作为 source('~/.active-rstudio-document') 运行，我必须等到脚本完成才能继续我的其余工作。相反，我希望 R 在后台运行，同时我可以在控制台中继续我的工作。当 R 完成源命令时，我也应该以某种方式得到通知。这在 R 中可能吗？

这可能非常有用，因为我们经常看到工作需要很长时间。

PS - 我希望源脚本在相同的内存空间而不是新的内存空间中运行。因此， fork 、 system 等解决方案对我不起作用。我正在查看是否可以将 R 脚本作为单独的线程而不是单独的进程运行。

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2013-01-08T07:10:07.723

您可以使用`system()`Rscript 将脚本作为异步后台进程运行：

```
system("Rscript -e 'source(\"your-script.R\")'", wait=FALSE) 
```

在脚本结束时，您可以保存对象`save.image()`以便稍后加载它们，并通过以下方式通知其完成`cat()`：

```
...
save.image("script-output.RData")
cat("Script completed\n\n") 
```

希望这可以帮助！

# jquery - 84 IE 6 中的“未指定”javascript 错误

> ID：14208980
> 
> 赞同：1
> 
> 时间：2013-01-08T05:52:52.307
> 
> 标签：jquery, internet-explorer-6

在我的应用程序中，我将使用thickbox 显示一个弹出屏幕。单击弹出窗口中的按钮时，将发送 ajax 请求并关闭弹出窗口。

该功能在大多数情况下都能正常工作。但是，我收到一个 javascript 错误，指出“未指定”。我**很少**收到此错误（每天至少两次）。我找不到任何具体的场景。

我只在 IE 6 中收到错误。不在 Ie 7 或 8、Firefox 中。

我尝试附加调试器（Microsoft 脚本调试器）并重现该问题。但是，当附加调试器时，我收到以下错误，

“无法处理“Jscript 匿名函数”处的调试器中断，因为找不到源文档。”

任何帮助都会很棒。提前致谢。

# android - 如何将参数（一些值）从 servlet 发送到 android

> ID：14208981
> 
> 赞同：0
> 
> 时间：2013-01-08T05:52:53.947
> 
> 标签：android, json

```
on the server side i am doing this and have to send three strings from this class 
```

到 android 应用程序中的客户端

```
 @Override
  protected void doPost(HttpServletRequest req, HttpServletResponse resp)
      throws ServletException {
        name1 = getParameter(req, "name");
        phone1 = getParameter(req, "phone");
        dob1 = getParameter(req, "dob");
        String regId = getParameter(req, PARAMETER_REG_ID);
        resp.setContentType("text/html");
        Datastore.register(regId);
        Datastore.register_name(name1);
        Datastore.registerPhone(phone1);
        Datastore.registerDob(dob1);
} 
```

在客户端我必须收到它

实际上我这样做是为了获得从服务器到客户端的响应它有中继简单的解决方案你想从服务器发送到客户端如果你在 do post 方法中有 post 方法你必须制作一些输出流以及你写什么您可以通过读取该输出流轻松获得的流

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-15T13:35:16.923

是的，您可以在 servlet 响应中使用这种方式

```
resp.setHeader(java.lang.String name, java.lang.String value) 
```

在 Android 端，您可以从响应中获取值

```
 String value =response.getHeaders(name); 
```

我希望你会按照我告诉你的方式进入......

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T05:55:39.893

您的问题不清楚...请编辑您的问题并详细解释

我的理解是：您想从后端服务器向移动设备发送一些消息/参数。

如果这是您需要的，请查看专门为此设计的 Google Cloud Messaging：http: [//developer.android.com/google/gcm/index.html 。](http://developer.android.com/google/gcm/index.html)

# ruby-on-rails - Ruby 和 Backbone.js

> ID：14208983
> 
> 赞同：0
> 
> 时间：2013-01-08T05:53:08.640
> 
> 标签：ruby-on-rails, backbone.js

我正在寻找`RoR`用于后端和`Backbone`前端的 Web 应用程序。Web 应用程序必须列出所有成员文档。

有没有人有运行 RoR 和 Backbone.js 的经验？我们如何使用 Backbone.js 调用RoR 的**REST API**。

# c - 使用 c 的代理隧道

> ID：14208984
> 
> 赞同：0
> 
> 时间：2013-01-08T05:53:22.140
> 
> 标签：c, http, networking, proxy, proxytunnel

我正在开发一个小项目（C 编程）以通过代理进行隧道传输，当我尝试这样做时出现错误：

```
HTTP/1.0 400 Bad Request
Server: squid/2.7.STABLE9
Date: Mon, 07 Jan 2013 22:20:56 GMT
Content-Type: text/html 
Content-Length: 1456
X-Squid-Error: ERR_INVALID_REQ 0
X-Cache: MISS from xt03
Via: 1.0 xt03:80 (squid/2.7.STABLE9)
Connection: close 
```

我发送到代理服务器的数据是：

```
 char msg[] = "CONNECT example.com:80 HTTP/1.0 <CR><LF> HOST example.com:80 <CR><LF> \n"; 
```

任何帮助都会很棒！

- - - 更新 - - -

我已经尝试了你们建议的方法，但我仍然遇到错误。我将发布我的整个代码集，看看它是否是套接字中的某些东西导致它发送错误的信息。

```
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <unistd.h>
#include <sys/socket.h>
#include <sys/types.h>
#include <arpa/inet.h>
#include <netinet/in.h>

#define maxlen 2048

int main(int argc, char *argv[])
{
int mysocket;
int len;
char buffer[2000];
char msg[] = "CONNECT example.org:80 HTTP/1.0 \r\n HOST example.org:80 \r\n\r\n";

mysocket = socket(AF_INET, SOCK_STREAM, 0);

struct sockaddr_in dest;

memset(&dest, 0, sizeof(dest));

dest.sin_family = AF_INET;
dest.sin_addr.s_addr = inet_addr("125.39.66.150");
dest.sin_port = htons(80);

connect(mysocket, (struct sockaddr *)&dest, sizeof(struct sockaddr));

send(mysocket, msg, strlen(msg), 0);
len = recv(mysocket, buffer, maxlen, 0);

buffer[len] = '\0';

printf("%s \n", buffer);
close(mysocket);
return 0; 
```

}

- - - 更新 - - -

新错误：

```
HTTP/1.0 400 Bad Request
Server: squid/2.7.STABLE5
Date: Tue, 08 Jan 2013 22:40:24 GMT
Content-Type: text/html
Content-Length: 1158
X-Squid-Error: ERR_INVALID_REQ 0
X-Cache: MISS from DXT-BJ-219
X-Cache-Lookup: NONE from DXT-BJ-219:80
Connection: close

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"         "http://www.w3.org/TR/html4/loose.dtd">
<HTML><HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<TITLE>ERROR: The requested URL could not be retrieved</TITLE>
<STYLE type="text/css"><!--BODY{background-color:#ffffff;font-family:verdana,sans-    serif}PRE{font-family:sans-serif}--></STYLE>
</HEAD><BODY>
<H1>ERROR</H1>
<H2>The requested URL could not be retrieved</H2>
<HR noshade size="1px">
<P> 
While trying to process the request:
<PRE>
CONNECT example.com:80 HTTP/1.1

</PRE>
<P>
The following error was encountered:
<UL>
<LI>
<STRONG>
Invalid Request
</STRONG>
</UL>

<P>
Some aspect of the HTTP Request is invalid.  Possible problems:
<UL>
<LI>Missing or unknown request method
<LI>Missing URL
<LI>Missing HTTP Identifier (HTTP/1.0)
<LI>Request is too large
<LI>Content-Length missing for POST or PUT requests
<LI>Illegal character in hostname; underscores are not allowed
</UL>
<P>Your cache administrator is <A HREF="mailto:noc_admin@163.com">noc_admin@163.com</A>. 

<BR clear="all">
<HR noshade size="1px">
<ADDRESS>
by DXT-BJ-219
</ADDRESS>
</BODY></HTML> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-08T05:59:28.640

“Bad request”是指您发送给服务器的请求格式不正确，无法被理解。我认为这样做的原因是您发送的是**8**个字符`<CR><LF>`（例如，'<'、'C'、'R' 等），而不是它们应该代表的 2 个字符，即`\r\n`.

尝试

```
char msg[] = "CONNECT example.com:80 HTTP/1.0\r\nHOST example:80\r\n\r\n"; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T07:05:16.663

参考这个：[rfc2616](http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html)

10.4.1 **400 错误请求**

由于语法错误，服务器无法理解该请求。客户端不应该在没有修改的情况下重复请求。

当你通过时：

```
char msg[] = "CONNECT example.com:80 HTTP/1.0 <CR><LF> HOST example.com:80 <CR><LF> \n"; 
```

然后，`<CR>`和`<LF>`部分可能会按原样作为字符串发送，而不是 ASCII 0xA 和 0xD，它们表示您打算发送的控制字符。最简单的解决方法是使用 C 等效项：`\r`for`<CR>`和`\n`for `<LF>`：

```
char msg[] = "CONNECT example.com:80 HTTP/1.0 \r\n HOST example.com:80 \r\n\r\n"; 
```

如果您打算扩展`msg[]`数组的使用以包含更多请求，您可能必须编写一个包装函数来将 CR、LF 和其他控制字符串`msg[]`转换为适当的 C 字符等效项以形成正确的消息。

希望这可以帮助。

# javascript - 解析 Javascript SDK 未登录 Facebook

> ID：14208985
> 
> 赞同：1
> 
> 时间：2013-01-08T05:53:26.447
> 
> 标签：javascript, facebook

我正在使用 Parse Javascript SDK 对 Facebook 进行身份验证，即使我在登录后成功，我的 Facebook 会话也没有创建。这是我使用的代码，

```
 <div id="fb-root"></div>
<script>
  // Additional JS functions here
  window.fbAsyncInit = function() {
      Parse.FacebookUtils.init({
            appId      : 'xxxx', // Facebook App ID
           // channelUrl : '//WWW.YOUR_DOMAIN.COM/channel.html', // Channel File
            status     : true, // check login status
            cookie     : true, // enable cookies to allow Parse to access the session
            xfbml      : true  // parse XFBML
          });
  };

  // Load the SDK Asynchronously
  (function(d){
     var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
     if (d.getElementById(id)) {return;}
     js = d.createElement('script'); js.id = id; js.async = true;
     js.src = "//connect.facebook.net/en_US/all.js";
     ref.parentNode.insertBefore(js, ref);
   }(document));

  function fLogin() {

        Parse.FacebookUtils.logIn(null, {
              success: function(user) {
                  alert("login success with user " + JSON.stringify(user));
                if (!user.existed()) {
                  alert("User signed up and logged in through Facebook!");
                } else {
                  alert("User logged in through Facebook!");
                }
                //FB.api('/me', function(response) {
                //  alert("got fb me api=" + JSON.stringify(response));
                //});

              },
              error: function(user, error) {
                alert("User cancelled the Facebook login or did not fully authorize.");
              }
            });
    }
</script>

<button class="btn-facebook btn-large" onclick="fLogin();"><img src="./img/fb_icon.png"> <span class="btn-facebook-text">Login with Facebook</span></button> 
```

弹出窗口打开并登录 Facebook 后，我收到控制台消息“用户登录成功”，我可以看到访问令牌。但是，当我尝试调用 FB.api ("/me")... ...

如果我用 FB.init() 和 FB.login() 替换整个代码，它工作得很好。当我用 Parse FacebookUtils 替换它时，我得到了错误。

任何帮助将不胜感激。

# qt - 如何配置 log4qt 以附加日志

> ID：14208987
> 
> 赞同：1
> 
> 时间：2013-01-08T05:53:35.107
> 
> 标签：qt, logging, appender, log4qt

我在我的 QT 应用程序中使用 log4qt 和 RollingFileAppender。每次我重新启动我的应用程序日志都不会附加到日志文件中，该文件只是被覆盖。下面是我的 log4qt.properties 文件。

```
log4j.rootLogger = DEBUG, File
log4j.appender.File=org.apache.log4j.RollingFileAppender
log4j.appender.File.File=logs/log.out
log4j.appender.File.MaxFileSize=3072KB
log4j.appender.File.MaxBackupIndex=3
log4j.appender.File.layout=org.apache.log4j.PatternLayout
log4j.appender.File.layout.ConversionPattern=%d [%t] [%p] %m%n 
```

我尝试添加附加属性**log4j.appender.File.Append=true**，但出现错误**属性“附加”不存在。**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-08T06:35:23.720

通过探索代码，我自己找出了需要配置以将日志附加到文件的属性。正确的属性是：

> log4j.appender.File.AppendFile=true

# google-visualization - 谷歌饼图中的绑定事件

> ID：14208989
> 
> 赞同：3
> 
> 时间：2013-01-08T05:53:43.657
> 
> 标签：google-visualization

我有一个由 Google Chart API 生成的饼图。图表代码如下

```
google.load("visualization", "1", {packages:["corechart"]});      
google.setOnLoadCallback(drawChart1);     

function drawChart1() 
{
var data = google.visualization.arrayToDataTable([
        ['Location', 'Value'],
        ["Location A", 20 ],
        ["Location B", 32],
        ["Location C", 12],
        ["Location D", 20],
        ["Location E", 2],
        ["Location F", 20],
        ["Location H", 10]
        ]);

var options = {
    colors          : ['#00918c', '#d0c500','#945a94', '#84ac43', '#ea8c1c', '#006daf', '#c54d4d'],
        is3D            : 'false',
        isHTML          : 'false',
        height          : 200,
        width           : 285,
        backgroundColor : "transparent",
        chartArea       : {left:0,top:0,width:"100%",height:"100%"},                
        legend          : {position: 'right', alignment: "end"}
        };

var chart = new google.visualization.PieChart(document.getElementById('chart_div1'));
chart.draw(data, options); 
```

}

图表的链接如下

[点击查看图表](http://apryll.co.in/charts/)

当他们单击任何饼图区域时，我想在图表中捕获事件。

假设如果他们单击饼图中的位置 A 饼图，我想要一个将警报消息显示为位置 A Clicked 的功能，并且对于图表中的其他饼图也是如此。

谢谢您的回复

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-08T06:46:42.363

我添加了下面的代码，它现在工作正常。

```
var chart = new google.visualization.PieChart(document.getElementById('chart_div1'));

 function selectHandler() 
     {
   var selectedItem = chart.getSelection()[0];

       if (selectedItem) 
       {
         var topping = data.getValue(selectedItem.row, 0);
         alert('The user selected ' + topping);
       }
     } 

    google.visualization.events.addListener(chart, 'select', selectHandler);            
    chart.draw(data, options); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2015-10-08T06:25:34.617

[**请参阅谷歌饼图**](http://jsfiddle.net/Lu3hg76r/)中的绑定事件链接。

```
<!--Div that will hold the pie chart-->
    <div id="chart_div" style="width:400; height:300"></div>
<script type="text/javascript" src="https://www.google.com/jsapi"></script> 
```

* * *

```
<script>
  // Load the Visualization API and the piechart package.
  google.load('visualization', '1.0', {'packages':['corechart']});

  // Set a callback to run when the Google Visualization API is loaded.
  google.setOnLoadCallback(drawChart);

  // Callback that creates and populates a data table, 
  // instantiates the pie chart, passes in the data and
  // draws it.
  function drawChart() {

    // Create the data table.
    var data = new google.visualization.DataTable();
    data.addColumn('string', 'Topping');
    data.addColumn('number', 'Slices');
    data.addRows([
      ['Mushrooms', 3],
      ['Onions', 1],
      ['Olives', 1], 
      ['Zucchini', 1],
      ['Pepperoni', 2]
    ]);

    // Set chart options
    var options = {'title':'How Much Pizza I Ate Last Night',
                   'width':400,
                   'height':300};

    // Instantiate and draw our chart, passing in some options.
    var chart = new google.visualization.PieChart(document.getElementById('chart_div'));

    function selectHandler() {
      var selectedItem = chart.getSelection()[0];
      if (selectedItem) {
        var topping = data.getValue(selectedItem.row, 0);
        alert('The user selected ' + topping);
      }
    }

    google.visualization.events.addListener(chart, 'select', selectHandler);
    chart.draw(data, options);
  } </script> 
```

# php - 使用ajax和masonry javascript将wordpress帖子加载到div中，但href没有加载到div中

> ID：14208992
> 
> 赞同：0
> 
> 时间：2013-01-08T05:54:02.000
> 
> 标签：php, javascript, ajax, wordpress

我以前见过一些与此相关的问题，但在砌体脚本中，我不确定我是否走在正确的轨道上。

结果：链接打开一个全新的页面，而我正在尝试将内容加载到 div 中。

index.php 代码：

```
<div id="primary" class="site-content">
    <div id="content" role="main">
    <?php if (have_posts()) : while (have_posts()) : the_post(); ?>
    <div id="miniLoader"></div>
    <div class="box">
      <a class="miniLoader" href="<?php the_permalink() ?>">
      <?php if (has_post_thumbnail()) {
        the_post_thumbnail('thumbnail');
      }?>
      <h2><?php the_title(); ?></h2></a>
    </div>
    <?php endwhile; endif; ?>
    <?php get_footer(); ?> 
```

header.php 代码：

```
 <script>
jQuery(document).ready(function($){
    $('#container').masonry({
      itemSelector: '.box',
      });
});
 </script>

 <?php wp_head(); ?>

<script type="text/javascript"
 src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.1/jquery.min.js"></script>
 <script type="text/javascript">
$(document).ready(function(){
$.ajaxSetup({cache:false});
    $(".miniLoader").click(function(){
    var post_id = $(this).attr("href")
    $("#miniLoader").html("loading...");
    $("#miniLoader").load(post_link);
    return false;
 });

 }); 
```

据我所知，位置在循环中，脚本在它应该在的地方就位。还是我在安置和“rel”方面得到了不好的建议？我听说html5和wordpress 3.5不再使用'rel'了......

任何帮助将不胜感激！

（如果我遗漏了拼图的部分，请告诉我）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-08T20:14:45.023

尝试添加 event.preventDefault() 来禁用正常的链接操作：

```
$(".miniLoader").click(function(event){
    event.preventDefault(); 
```

并且 post_link 变量似乎仍然需要设置：

```
var post_id = $(this).attr("href");
var post_link = 'your-api-file.php?id=' + post_id;
$("#miniLoader").html("loading...");
$("#miniLoader").load(post_link); 
```

哦，如果你没有 API 文件，jQuery 实际上可以加载整个 WordPress 页面，但只显示你想要的元素的内容。在这种情况下，AJAX 加载请求只会抓取并显示 #content 元素中的内容：

```
$('#miniLoader').load('/?p='+ post_id +' #content'); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-17T01:46:18.980

@hansvedo

经过一番折腾，这是我解决脚本问题的方法：

```
$(document).ready(function(){

$.ajaxSetup({cache:false});
$("h1 a").click(function(event){
    event.preventDefault();
    var post_link = $(this).attr("href");
    $("#miniloader").html("loading...");
    $("#miniloader").load(post_link);
return false;
});

}); 
```

及指标变更如下：

```
<div id="miniloader" class="miniloader"></div> 
```

我一直在尝试实现您仅加载#content 的提示，但无济于事。看起来没有“内容”ID，但我确实尝试在下面的代码中实现一个：

```
 <article id="post-<?php the_ID(); ?>" <?php post_class(); ?>>
 <header class="entry-header">
 <h1 class="entry-title"><?php the_title(); ?></h1>
 <div class="entry-meta">
 <?php toolbox_posted_on(); ?>
 </div><!-- .entry-meta -->
 </header><!-- .entry-header -->
 <div class="entry-content" id="content">
 <?php the_content(); ?>
 <?php wp_link_pages( array( 'before' => '<div class="page-link">' . __( 'Pages:', 'toolbox' ), 'after' => '</div>' ) ); ?>
 </div> 
```

# c# - 以相同的方法将信息从一种形式传递到另一种形式

> ID：14208997
> 
> 赞同：-1
> 
> 时间：2013-01-08T05:54:43.690
> 
> 标签：c#, c#-4.0

我的申请中目前有两种表格。A 型和 B 型。FormA 中只有一个名为 cmdAction 的按钮。FormB 有两个复选框 optionA 和 optionB 以及一个保存按钮。现在这是我要实现的目标 - 一旦用户在 FormA 中按下 cmdAction ，FormB 就会弹出，用户必须选择两个复选框中的一个，甚至同时选择两者然后按保存按钮继续。按下保存按钮后，用户所做的选择将传递回 FormA，该 FormA 重新获得焦点（FormB 已消失）。我想知道如何以这样一种方式实现这一点，即我可以只传递一个函数名称，并且该函数返回已选中的复选框。

我知道我可以通过在单击 cmdAction 时简单地显示 FormB 来实现这一点。每当单击 FormB 上的保存按钮时，都会调用 formB 中的一个方法，该方法分析复选框的状态并将结果返回给 FormA 上的另一个方法。我想知道如果有更好更清洁的方法来实现这一目标

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T06:26:12.943

您只需使用委托并将对回调函数的引用传递给 FormB。 [http://www.akadia.com/services/dotnet_delegates_and_events.html](http://www.akadia.com/services/dotnet_delegates_and_events.html)