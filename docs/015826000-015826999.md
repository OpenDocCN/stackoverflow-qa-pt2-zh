# StackOverflow 问答 15826000-15826999

# android - Android 中的 Jiffy 持续时间

> ID：15826009
> 
> 赞同：4
> 
> 时间：2013-04-05T04:38:46.260
> 
> 标签：android, proc

我想找到一种在 Android 设备上获取 jiffy 持续时间（由 /proc 使用）的方法，类似于 sysconf(_SC_CLK_TCK)。

我的设备（可能与其他大多数设备一样）使用 1 厘秒 (1/100s)，即使 /proc/timer_list 报告“分辨率为 1 纳秒”。有什么可靠的（最好是直接的）方法吗？

谢谢。

# c - 从使用附加模式打开的文件中读取

> ID：15826010
> 
> 赞同：0
> 
> 时间：2013-04-05T04:38:46.817
> 
> 标签：c, file, fopen, fseek

这可能是一个非常愚蠢的问题，但我正在修改别人的代码，似乎我需要从以附加模式打开的文件中读取。我试图到`fseek`文件的开头，但没有读取任何内容。我知道我可以将模式更改为 rw，但我想知道为什么`fseek`不起作用。在手册页中，它确实说写忽略`fseek`但没有关于读的内容。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T05:10:04.347

只有一个指针最初位于文件的开头，但当尝试写入操作时，它会移动到文件的末尾。您可以使用 fseek 重新定位它或在文件中的任何位置倒带以进行读取，但写入操作会将其移回文件末尾。

当您以追加模式打开时，文件指针在每次写入之前返回到文件末尾。您可以使用 fseek 重新定位指针以进行读取，但是一旦您调用写入文件的函数，指针就会回到文件末尾。

[如果文件以“a+b”模式打开，fseek() 是否将文件指针移动到文件的开头](https://stackoverflow.com/questions/5532371/does-fseek-move-the-file-pointer-to-the-beginning-of-the-file-if-it-was-opened/5532426#)？参考 C 标准的适当部分。

如果您想写入文件中的任意位置，请使用“w+”模式。现有文件将被覆盖。

如果您想最初附加到现有文件，但随后 fseek 到任意位置，请使用“r+”，后跟

```
fseek(f, 0, SEEK_END) 
```

希望能帮助到你..

# angularjs - 两种方式绑定，浅 $watch，隔离范围不能一起工作

> ID：15826012
> 
> 赞同：14
> 
> 时间：2013-04-05T04:38:50.657
> 
> 标签：angularjs

请参考这个小提琴的问题。[http://jsfiddle.net/AQR55/](http://jsfiddle.net/AQR55/)

1）为什么附加到隔离范围属性的手表 - 双向绑定到父属性，不会在更改父范围属性时触发。

在小提琴中，在更改绑定的父范围属性时，没有触发下面提到的手表。

```
$scope.$watch('acts', function(neww ,old){
                    console.log(neww)
                }) 
```

2) `ng-click="addaction()" addaction="addaction()"`。这段代码可以以更优雅的方式放置吗？因为，要在隔离范围内执行操作，似乎我们需要设置双向绑定和附加到 ng-click。

3）我可以在隔离范围内声明方法，如下所示？如果我这样做，我会收到 .js 错误。

```
<isolate-scope-creating-cmp ng-click="isolateCmpClickHandler()"></isolate-scope-creating-cmp>
scope:{
    isolateCmpClickHandler:function(){
      //If i do like this, I'm getting .js error

    }
} 
```

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2013-04-05T04:49:11.703

问题1.
由于是向`acts`数组中添加项，所以需要将[$watch()](http://docs.angularjs.org/api/ng.$rootScope.Scope#$watch)中的第三个参数设置为true

```
$scope.$watch('acts', function (neww, old) {
    console.log(neww)
}, true); 
```

演示：[小提琴](http://jsfiddle.net/arunpjohny/gM2Hg/)

问题2.
既然有一个隔离作用域，就需要调用`$parent`作用域的函数

```
<input type="button" bn="" acts="acts" ng-click="$parent.addaction()" value="Add Action" /> 
```

演示：[小提琴](http://jsfiddle.net/arunpjohny/gM2Hg/1/)

问题 3.
可以，但需要使用控制器

```
animateAppModule.directive('bn', function () {
    return {
        restrict: "A",
        scope: {
            acts: '='
        },
        link: function ($scope, iElement, iAttrs) {
            $scope.$watch('acts', function (neww, old) {
                console.log(neww)
            }, true)
        },
        controller: function($scope){
            $scope.dosomething = function(){
                console.log('do something')
            }
        }
    }
}) 
```

演示：[小提琴](http://jsfiddle.net/arunpjohny/gM2Hg/2/)

整体解决方案可能看起来像

```
<input type="button" bn="" acts="acts" addaction="addaction()" value="Add Action" /> 
```

JS

```
animateAppModule.controller('tst', function ($scope) {
    $scope.acts = [];
    $scope.addaction = function () {
        $scope.acts.push({
            a: "a,b"
        })
    }
})

animateAppModule.directive('bn', function () {
    return {
        restrict: "A",
        scope: {
            acts: '=',
            addaction: '&'
        },
        link: function ($scope, iElement, iAttrs) {
            $scope.$watch('acts', function (neww, old) {
                console.log(neww)
            }, true);
            iElement.click(function(){
                $scope.$apply('addaction()')
            })
        }
    }
}) 
```

演示：[小提琴](http://jsfiddle.net/arunpjohny/gM2Hg/4/)

# android - Appcelerator Titanium 性能

> ID：15826016
> 
> 赞同：4
> 
> 时间：2013-04-05T04:39:15.143
> 
> 标签：android, ios, appcelerator

上次我在 2010 年使用 Appcelerators 平台时，我发现即使生成一个简单的表格，性能也很差。在过去的几个月里，有没有人有机会尝试一下？使用该平台开发的应用程序的整体速度如何？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-04-05T08:28:35.490

我们正在使用 Titanium 开发 iOS 和 Android。

### iOS

iOS 应用程序非常快。除非您需要提供并发性，否则您不会注意到使用了 Titanium。如果您想通过 Pull-To-Refresh 或在滚动时向表视图添加行，这将很慢，因为您无法管理何时使用 UI-Thread 以及何时不使用。这是由钛处理的。尽管如此，我们的应用程序使用了这个特性，我们——以及我们的（商业）客户——对此很满意。

### 安卓

Android可能会慢得多。这取决于您的设备以及您要实现的内容。例如，具有许多不同（结构）行的表视图可能非常慢，而具有数千个相似行的表视图加载速度很快并且可以快速滚动（参见表视图行的类属性，它用于缓存）。在较新的设备（最初搭载 Android 4.x）上，性能与本机开发一样好（iOS 等一些特殊情况除外）。较旧的设备要慢得多。Android 上真的很慢是使用来自 HTTPRequest 的数据填充表格视图。我们还没有弄清楚为什么这会这么慢，但是 - 根据设备和网络 - 加载 10 条消息并填充表格视图有时需要长达 5 秒，即使在最佳网络条件下也是如此。

**对于两者：**最后，这取决于您要实现的用例。要查看可能的情况，您应该安装 KitchenSink 应用程序（可在 iTunes 和 Play Store 上为两个系统提供）并尝试。他们的你也会看到表现。但要小心 - 当然，这些演示应用程序经过优化，可以说服您使用钛金属。但它们是开源的，所以你可以看看他们是如何做到的。

# javascript - Extractzipfile 插件有错误：在 ios 中找不到插件

> ID：15826017
> 
> 赞同：1
> 
> 时间：2013-04-05T04:39:25.193
> 
> 标签：javascript, iphone, ios, cordova, phonegap-plugins

我正在尝试在“ [https://github.com/phonegap/phonegap-plugins/tree/master/iOS/ExtractZipFile](https://github.com/phonegap/phonegap-plugins/tree/master/iOS/ExtractZipFile) ”处使用适用于 ios 的 Extractzipfile 插件。

但是当我在 ios 中使用这个插件时，它会显示错误：

```
2013-04-05 11:20:17.968 fileandzip[751:c07] ERROR: Plugin 'ExtractZipFilePlugin' not found, or is not a      CDVPlugin. Check your plugin mapping in config.xml.
  2013-04-05 11:20:17.969 fileandzip[751:c07] -[CDVCommandQueue executePending] [Line 103] FAILED   pluginJSON = [
    "ExtractZipFilePlugin733749280",
    "ExtractZipFilePlugin",
    "extract",
    [
      "test.zip",
      "\/Users\/alienware\/Library\/Application Support\/iPhone Simulator\/6.1\/Applications\/4BCA6B22-C582-  4529-92FF-4C7E54E82C18\/Documents\/ex"
    ]
  ] 
```

我在公会文件中做所有事情。任何人都帮我解决它！非常感谢...

**编辑：**

这是我的代码：

```
 <!DOCTYPE HTML>
<html>
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <meta name="description" content="">
                <meta name="author" content="">
                    <link rel="stylesheet" href="css/jquery.mobile-1.1.1.min.css" />

                    <script src="cordova-2.5.0.js"></script>
                    <script src="js/jquery-1.7.2.min.js"></script>
                    <script src="js/jquery.mobile-1.1.1.min.js"></script>
                    <script src="js/jquery.xdomainajax.js"></script>
                    <script src="js/xml2json.js"></script>
                    <script src="js/ZipPlugin.js"></script>
                    <script src="js/jquery-ui.min.js"></script>
                    <script src="js/jquery.ui.touch-punch.min.js"></script>

                    <script type="text/javascript" charset="utf-8">

                        function onGetDirectorySuccess(dir) {
                            console.log("Created dir "+dir.name);
                        }

                        function onGetDirectoryFail(error) {
                            console.log("Error creating directory "+error.code);
                        }

                        var sa;
                        document.addEventListener("deviceready", onDeviceReady, true);

                        function onDeviceReady() {
                            console.log("device is ready");
                            window.requestFileSystem  = window.requestFileSystem || window.webkitRequestFileSystem;
                            window.requestFileSystem(LocalFileSystem.PERSISTENT, 0, gotFS, fail);
                            $('#import').click(function(){
                                               var ft = new FileTransfer();
                                               ft.download(
                                                           "http://smartphone.thnt.vn/VietGames/GhepTranhTu/test.zip",
                                                           window.rootFS.fullPath + "/ex/test.zip",
                                                           function(entry) {
                                                           window.alert("download complete: " + entry.fullPath);

                                                           },
                                                           function(error) {
                                                           console.log("download error" + error.code);
                                                           }
                                                           );
                            });
                            $('#unzip').click(function(){
                                               window.plugins.extractZipFile.extractFile('test.zip',window.rootFS.fullPath + '/ex',win,fail);
                                              function win(status)
                                              {
                                              window.alert('Success'+status);
                                              }

                                              function fail(error)
                                              {
                                              alert("error:" + error);
                                              }

                                              });

                        }

                        function fail() {
                            console.log("failed to get filesystem");
                        }

                        function gotFS(fileSystem) {
                            console.log("got filesystem");

                            // save the file system for later access
                            console.log(fileSystem.root.fullPath);
                            window.rootFS = fileSystem.root;
                            window.rootFS.getDirectory("ex", {create: true, exclusive: false}, onGetDirectorySuccess, onGetDirectoryFail);
                        }

                        </script> 
                    <style>
                        img {
                            max-width: 200px;
                        }
                        </style>
    </head>
    <body onload="init();" >
        <h2>Image Download Demo</h2>

        <div id="status"></div>

        <div id="photos">
            <canvas id="canvas" style="width:200;height:400;border: 1px solid #cc0000;"></canvas>
            <input id="unzip" type="button" value="unzip"/>
            <input id="import" type="button" value="import"/>
        </div>

    </body>
</html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T04:45:09.970

我认为您的设置中缺少此内容

> 在**Cordova.plist**（搜索此 plist）部分中，您需要添加具有以下键/对值的插件：
> 
> ExtractZipFilePlugin( **Key** ) ExtractZipFilePlugin( **Value** )

# javascript - 求一个 Javascript 数组的总和并除以它的长度

> ID：15826019
> 
> 赞同：3
> 
> 时间：2013-04-05T04:39:31.603
> 
> 标签：javascript

我几乎不好意思问这个。

我是一个初学者程序员，Javascript 让我很困惑。在我的导师的帮助下，我设法完成了这么多，但有些简单的事情我做不到。

我尝试在 Stack Overflow 上搜索一个可以回答我的问题的线程，但我看到的所有这些都包含我尚未了解的代码，所以它们对我来说都是胡言乱语。

我要做的是添加一个数组的所有值，然后将总和除以数组的长度，ergo，找到平均值。作业的描述是求任意数量学生成绩的平均值。

我的两个问题是

1.  我不知道如何获得数组中所有数值的总和，
2.  出于某种原因，array.length 返回的比数组的实际长度多一，即使我添加了 -1。（例如，如果我输入 6 个值，array.length 将返回 7。）

我知道问题出在哪里，但我不知道我需要输入什么。这项任务明天到期，因此感谢任何人的时间和精力。

这是我的脚本：

```
<script type="text/javascript">
    var allGrades = new Array();
    var g = 0;
    var l = 0;
    var s = 0;
    var t = 0;
    do {
        allGrades[g] = window.prompt("Please enter one grade for each window. After you enter a grade, enter an 'x' to see the average of the grades you entered.", "")
        g++;
    }
     while (allGrades[g - 1] != "x")
     for (l = 0; l < allGrades.length - 1; l++) {
        s += allGrades[l] // Where I think the problem is
    }
    t == s / g - 1;
    g == allGrades.length - 1; //
    window.alert(g)
     switch (t) {
        case (t >= 90):
            window.alert("Your average grade is " + (t) + ". " + "This is an A.")
            break;
        case (t >= 80 && t < 90):
            window.alert("Your average grade is " + (t) + ". " + "This is a B.")
            break;
        case (t >= 70 && t < 80):
            window.alert("Your average grade is " + (t) + ". " + "This is a C.")
            break;
        case (t >= 60 && t < 70):
            window.alert("Your average grade is " + (t) + ". " + "This is a D.")
            break;
        case (t <= 60):
            window.alert("Your average grade is " + (t) + ". " + "This is a failing grade.")
            break;
    }
</script> 
```

如果我问的问题看起来很愚蠢，我很抱歉。我只做了大约两个月的网络编程，所以我真的需要一些帮助！

凯尔

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T04:41:56.740

`==`是比较运算符。您需要在`=`此处使用赋值运算符 ( )：

```
t==s/g-1; 
```

以及它附近的线路。

此外，为了您自己，请勿使用单字母变量名，除非您有充分的理由这样做。

这是编写脚本的一种更简洁的方法：

```
var grades = [];

do {
    var input = window.prompt("Please enter one grade for each window. After you enter a grade, enter an 'x' to see the average of the grades you entered.", "");

    grades.push(parseFloat(input));
} while (input != 'x');

var sum = 0;

for (int i = 0; i < grades.length; i++) {
    sum += grades[l];
}

var average = (sum / grades.length) * 100;
var grade;

if (average >= 90) {
    grade = 'A';
} else if (average >= 80) {
    grade = 'B';
} else if (average >= 70) {
    grade = 'C';
} else if (average >= 60) {
    grade = 'D';
} else {
    grade = 'failing grade';
}

alert('Your average grade is ' + average + '. ' + 'This is a ' + grade); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T04:42:22.617

```
t==s/g-1; 
    g==allGrades.length-1; // 
```

都是比较，对于分配，它们应该是

```
t=s/g-1; 
    g=allGrades.length-1; 
```

# c# - WCF 客户端错误：“未指定安全令牌颁发者的地址”

> ID：15826021
> 
> 赞同：2
> 
> 时间：2013-04-05T04:39:39.430
> 
> 标签：c#, wpf, c#-4.0, wpf-controls

![游戏](https://i.stack.imgur.com/jvlvf.png)

发生错误：“未指定安全令牌发行者的地址。必须在绑定中为目标“net.tcp://localhost:5054/player”指定显式发行者地址，或者必须在证书。”

凭证有什么问题吗？

有什么想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T04:47:37.717

具有 IssuedToken 凭证类型的绑定设置：

```
<issuedTokenParameters keyType="SymmetricKey" tokenType="" /> 
```

使用下一个子节点作为发行者。

为此，请点击此链接：

[http://msdn.microsoft.com/en-us/library/bb924499.aspx](http://msdn.microsoft.com/en-us/library/bb924499.aspx)

这允许您指定客户端用于协商令牌的安全令牌服务器的地址。

`<issuer>`写成如下：

```
<issuer address="https://server/secure token server" binding="<binding type>" bindingConfiguration="<binding configuration for the secure token server>" /> 
```

希望它有帮助。

# node.js - fs.exists() 是真假

> ID：15826025
> 
> 赞同：0
> 
> 时间：2013-04-05T04:40:10.210
> 
> 标签：node.js, file-io, callback

```
fs.exists(controller_path, function (exists) 
{
     util.debug( exists ? 'here' : 'not here' );
}); 
```

这是文档中的示例。该文件肯定存在，但对于每个请求，我都会收到：

```
DEBUG: here
DEBUG: not here 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-05T05:00:54.237

您已经发布了示例代码，但没有发布您拥有的实际代码。不要期望太多。

然而，我敢打赌，他是一个在黑暗中开枪的人：

您没有意识到浏览器正在发送 2 个 GET 请求：1 个用于“/”，第二个用于“/favicon.ico”。

# java - 多对一关系的复合主键不支持映射错误

> ID：15826029
> 
> 赞同：3
> 
> 时间：2013-04-05T04:40:35.713
> 
> 标签：java, jakarta-ee, servlets, jpa, persistence

我有三个实体，它们通过具有复合主键和其他表的外键来形成关联关系。这些是这些实体的实现：

```
@Entity
@Table(name = "STUDENTSCOURSES", schema = "GPA")
@NamedQuery(name = "getAllStdCrs", query = "SELECT sc FROM StudentsCourses sc")
@IdClass(StudentCourseId.class)
public class StudentsCourses implements Serializable {
private static final long serialVersionUID = 1L;

@Id
@Column(name="studentID", insertable=false, updatable= false)
private int studentID;  

@Id
@Column(name="crsID", insertable=false, updatable=false)
private int crsID;

@ManyToOne
@JoinColumn(name="STUDENTID")
Student student;

@ManyToOne
@JoinColumn(name="CRSID")
Course course;

public StudentsCourses() {
    super();
}

public void setStudentID(int studentID) {
    this.studentID = studentID;
}
public int getStudentID() {
    return studentID;
}
public void setCrsID(int crsID) {
    this.crsID = crsID;
}
public int getCrsID() {
    return crsID;
}   
} 
```

课程实体：

```
@Entity
@Table(name = "COURSES", schema = "GPA")
@NamedQuery(name = "getAllCourses", query = "SELECT c FROM Course c")
public class Course implements Serializable {

private static final long serialVersionUID = 1L;

@Id
@GeneratedValue(strategy=GenerationType.IDENTITY)
@Column(name="CRSID")
private int crsID;
private String name;

@OneToMany(mappedBy="course", fetch=FetchType.LAZY)
private Set<Assesment> assesments;

@OneToMany(mappedBy="course", fetch=FetchType.LAZY)
private Set<StudentsCourses> studentCourses;

public Course() {
    super();
}

public int getCrsID() {
    return crsID;
}

public void setCrsID(int crsID) {
    this.crsID = crsID;
}

public String getName() {
    return name;
}

public void setName(String name) {
    this.name = name;
}

public void setAssesments(Set<Assesment> assesments) {
    this.assesments = assesments;
}

public Set<Assesment> getAssesments() {
    return assesments;
}

public void setStudentCourses(Set<StudentsCourses> studentCourses) {
    this.studentCourses = studentCourses;
}

public Set<StudentsCourses> getStudentCourses() {
    return studentCourses;
}
} 
```

学生实体：

```
@Entity
@Table(name = "STUDENTS", schema = "GPA")
@NamedQuery(name = "getAllStudents", query = "SELECT s FROM Student s")
public class Student implements Serializable {

private static final long serialVersionUID = 1L;

@Id
@GeneratedValue(strategy=GenerationType.IDENTITY)
private int studentID;
private String studentName;

@OneToMany(mappedBy="student", fetch = FetchType.LAZY)
private Set<Assesment> assesments;

@OneToMany(mappedBy="student", fetch = FetchType.LAZY)
private Set<StudentsCourses> studentCourses;

public Student() {
    super();
}

public int getStudnetID() {
    return studentID;
}

public void setStudnetID(int stdID) {
    this.studentID = stdID;
}

public void setStudentName(String studentName) {
    this.studentName = studentName;
}

public String getStudentName() {
    return studentName;
}

public void setAssesments(Set<Assesment> assesments) {
    this.assesments = assesments;
}

public Set<Assesment> getAssesments() {
    return assesments;
}

public void setStudentCourses(Set<StudentsCourses> studentCourses) {
    this.studentCourses = studentCourses;
}

public Set<StudentsCourses> getStudentCourses() {
    return studentCourses;
}
} 
```

当我尝试启动程序时，出现以下错误：

```
[4/5/13 0:30:15:243 EDT] 00000028 webapp        E com.ibm.ws.webcontainer.webapp.WebApp logServletError SRVE0293E: [Servlet Error]-[com.gpa.app.servlet.LoginServlet]: <openjpa-2.1.1-SNAPSHOT-r422266:1141200 fatal user error> org.apache.openjpa.persistence.ArgumentException: Field "com.gpa.app.entities.Course.studentCourses" cannot declare that it is mapped by another field. Its mapping strategy (org.apache.openjpa.jdbc.meta.strats.HandlerFieldStrategy) does not support mapping by another field. 
```

问题的原因可能是什么。感谢你的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T01:37:49.060

所以问题出在我的@Id 类中。在那个类中，我没有实现相等和哈希码方法，也没有实现可序列化。完成后，一切顺利。感谢 Eelke，他给了我尝试不同版本的想法，这帮助我找出了原因。

我修改后的代码如下所示：

```
public class StudentCourseId implements Serializable{

private static final long serialVersionUID = 1L;
private int studentID;
private int crsID;

public StudentCourseId() {
}

public StudentCourseId(int studentID, int crsID) {
    this.studentID = studentID;
    this.crsID = crsID;
}

public void setStudentID(int studentID) {
    this.studentID = studentID;
}

public int getStudentID() {
    return studentID;
}

public void setCrsID(int crsID) {
    this.crsID = crsID;
}

public int getCrsID() {
    return crsID;
}
public int hashCode() {
    return studentID + crsID;
}

public boolean equals(Object o) {
    return ((o instanceof StudentCourseId)
            && studentID == ((StudentCourseId) o).getStudentID() && crsID == ((StudentCourseId) o)
                .getCrsID());
}
    }
 public int getCrsID() {
    return crsID;
}   
} 
```

希望它对将来的某人有所帮助。

谢谢，萨斯

# mysql - mysql查询内连接结果集问题

> ID：15826031
> 
> 赞同：-3
> 
> 时间：2013-04-05T04:41:02.323
> 
> 标签：mysql

```
CREATE TABLE IF NOT EXISTS `maf_game_questions` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `gid` int(11) NOT NULL,
  `qid` int(11) NOT NULL,
  `qtext` text NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB ;

INSERT INTO `maf_game_questions` (`id`, `gid`, `qid`, `qtext`) VALUES
(1, 1, 6, 'Click on a state that has part of the Rocky Mountain Range to reveal a fact about agriculture.'),
(2, 1, 1, 'Click on a state that borders another country to see a fact about agriculture.'),
(3, 1, 15, 'Find a state where part of the border is created by a river to show a fact about agriculture.'),
(4, 1, 14, 'Choose a state that has part of the Missouri River to see a fact about agriculture.'),
(5, 1, 5, 'Click on a state that borders the Mississippi river to see a fact about agriculture.'),
(6, 1, 16, 'Click on a state with a panhandle to see a fact about agriculture.'),
(7, 1, 8, 'Find a state that is part of the Great Plains to check out a fact about agriculture.'),
(8, 1, 3, 'Select a state that has a bay to show a fact about agriculture.'),
(9, 1, 13, 'Select a state that has part of the Ohio River to view a fact about agriculture.'),
(10, 1, 9, 'Choose a state that is on the Atlantic Ocean to reveal a fact about agriculture.'),
(11, 1, 10, 'Select a state on the Pacific Ocean to see a fact about agriculture.'),
(12, 1, 4, 'Choose a state on the Gulf of Mexico to show a fact about agriculture.'),
(13, 1, 7, 'Find a state that has part of the Appalachian Mountain Range to see a fact about agriculture.'),
(14, 1, 2, 'Find a state that has a peninsula to check out a fact about agriculture.'),
(15, 1, 11, 'Click on a state with a desert to show a fact about agriculture.'),
(16, 1, 12, 'Find a state that borders one of the Great Lakes to see a fact about agriculture.');

CREATE TABLE IF NOT EXISTS `maf_game_stats` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `userid` varchar(100) NOT NULL,
  `sessionid` varchar(100) NOT NULL,
  `gid` int(11) NOT NULL,
  `qid` int(11) NOT NULL,
  `result` varchar(50) NOT NULL,
  `accesstime` datetime NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB;

INSERT INTO `maf_game_stats` (`id`, `userid`, `sessionid`, `gid`, `qid`, `result`, `accesstime`) VALUES
(1, 'KIHYAKQTZLSB975', 'ccb4vm744cttrc8is1uuosf8e0', 1, 6, '0', '2013-04-02 16:26:22'),
(2, 'KIHYAKQTZLSB975', 'ccb4vm744cttrc8is1uuosf8e0', 1, 1, '1', '2013-04-02 16:26:27'),
(3, 'KIHYAKQTZLSB975', 'ccb4vm744cttrc8is1uuosf8e0', 1, 15, '0', '2013-04-02 16:26:35'),
(4, 'KIHYAKQTZLSB975', 'ccb4vm744cttrc8is1uuosf8e0', 1, 14, '1', '2013-04-02 16:26:42'),
(5, 'KIHYAKQTZLSB975', 'ccb4vm744cttrc8is1uuosf8e0', 1, 5, '1', '2013-04-02 16:26:51'),
(6, 'KIHYAKQTZLSB975', 'ccb4vm744cttrc8is1uuosf8e0', 1, 6, '1', '2013-04-04 16:27:24'),
(7, 'KIHYAKQTZLSB975', 'ccb4vm744cttrc8is1uuosf8e0', 1, 16, '1', '2013-04-04 16:27:32'),
(8, 'KIHYAKQTZLSB975', 'ccb4vm744cttrc8is1uuosf8e0', 1, 15, '0', '2013-04-04 16:27:38'),
(9, 'KIHYAKQTZLSB975', 'ccb4vm744cttrc8is1uuosf8e0', 1, 8, '1', '2013-04-04 16:27:48'),
(10, 'KIHYAKQTZLSB975', 'ccb4vm744cttrc8is1uuosf8e0', 1, 3, '1', '2013-04-02 16:31:22'),
(11, 'KIHYAKQTZLSB975', 'ccb4vm744cttrc8is1uuosf8e0', 1, 16, '1', '2013-04-02 16:31:28'),
(12, 'KIHYAKQTZLSB975', 'ccb4vm744cttrc8is1uuosf8e0', 1, 13, '0', '2013-04-02 16:31:44'),
(13, 'KIHYAKQTZLSB975', 'ccb4vm744cttrc8is1uuosf8e0', 1, 9, '0', '2013-04-02 16:31:53'),
(14, 'KIHYAKQTZLSB975', 'ccb4vm744cttrc8is1uuosf8e0', 1, 8, '1', '2013-04-02 16:32:00'),
(15, 'KIHYAKQTZLSB975', 'ccb4vm744cttrc8is1uuosf8e0', 1, 16, '1', '2013-04-02 16:35:02'),
(16, 'KIHYAKQTZLSB975', 'ccb4vm744cttrc8is1uuosf8e0', 1, 10, '0', '2013-04-02 16:35:11'),
(17, 'KIHYAKQTZLSB975', 'ccb4vm744cttrc8is1uuosf8e0', 1, 4, '0', '2013-04-02 16:35:17'),
(18, 'KIHYAKQTZLSB975', 'ccb4vm744cttrc8is1uuosf8e0', 1, 9, '1', '2013-04-02 16:35:23'),
(19, 'KIHYAKQTZLSB975', 'ccb4vm744cttrc8is1uuosf8e0', 1, 4, '0', '2013-04-02 16:35:29'),
(20, 'KIHYAKQTZLSB975', 'ccb4vm744cttrc8is1uuosf8e0', 1, 7, '0', '2013-04-03 19:06:12'),
(21, 'KIHYAKQTZLSB975', 'ccb4vm744cttrc8is1uuosf8e0', 1, 2, '1', '2013-04-03 19:06:17'),
(22, 'KIHYAKQTZLSB975', 'ccb4vm744cttrc8is1uuosf8e0', 1, 11, '0', '2013-04-03 19:06:29'),
(23, 'KIHYAKQTZLSB975', 'ccb4vm744cttrc8is1uuosf8e0', 1, 12, '0', '2013-04-03 19:06:33'),
(24, 'KIHYAKQTZLSB975', 'r0ci652ln8j1oqhvjd88s0is34', 1, 5, '0', '2013-04-05 09:47:22'),
(25, 'KIHYAKQTZLSB975', 'r0ci652ln8j1oqhvjd88s0is34', 1, 2, '1', '2013-04-05 09:47:28'),
(26, 'KIHYAKQTZLSB975', 'r0ci652ln8j1oqhvjd88s0is34', 1, 14, '0', '2013-04-05 09:47:37'),
(27, 'KIHYAKQTZLSB975', 'r0ci652ln8j1oqhvjd88s0is34', 1, 9, '1', '2013-04-05 09:47:43'),
(28, 'KIHYAKQTZLSB975', 'r0ci652ln8j1oqhvjd88s0is34', 1, 12, '0', '2013-04-05 09:47:50');

SELECT  a.gid, a.qid, q.qtext, SUM(a.result = 1) first_attempt_correct, SUM(a.result = 0) first_attempt_incorrect, c.all_attempt_correct, c.all_attempt_incorrect
             FROM maf_game_stats a
            INNER JOIN
            (
                SELECT USERID, gid, QID, MIN(ACCESSTIME) AS  min_date
                FROM maf_game_stats
                GROUP BY USERID, gid, qid
            )  b ON a.USERID = b.USERID AND
                a.gid = b.gid AND
                a.qid = b.qid AND
                a.ACCESSTIME = b.min_date
            INNER JOIN
            (
                SELECT gid, QID, SUM(result = 1) AS all_attempt_correct, SUM(result = 0) AS all_attempt_incorrect
                FROM maf_game_stats
                GROUP BY gid, qid
            )  c ON a.gid = c.gid AND
                a.qid = c.qid 
            INNER JOIN maf_game_questions q ON a.qid = q.qid AND a.gid = q.gid
            WHERE   a.gid ='1' 
            AND a.ACCESSTIME >= '2013-04-05' AND a.ACCESSTIME < '2013-04-05' + INTERVAL 1 DAY        
            GROUP BY a.gid, a.qid 
```

问：使用 2013-04-02 到 2013-04-05 的给定结果集下面的结果可以正常工作，但同一天 2013-04-05 到 2013-04-05 没有得到结果？任何想法请在这里是 sqlfidler ：

**[http://sqlfiddle.com/#!2/181a2/1](http://sqlfiddle.com/#!2/181a2/1)**

```
----------------------
qtext 第一次尝试正确 第一次尝试不正确 所有尝试正确 所有尝试不正确
---------- --------- -------------------- --- -------- ---------------
问题 0 0 0 1
问题 0 0 0 1
问题 0 0 0 0
问题 0 0 0 0
问题 0 0 1 0

```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T04:49:01.230

这是您正在寻找的 - 将`WHERE`标准移动到您的`JOIN`. 上述查询的问题是您正在加入，结果中`MIN(AccessTime)`没有 2013-04-05 的记录返回`MIN`。

```
SELECT *
FROM maf_game_stats a
    INNER JOIN
        (
            SELECT USERID, gid, QID, MIN(ACCESSTIME) AS  min_date
            FROM maf_game_stats
            WHERE ACCESSTIME >= '2013-04-05' AND ACCESSTIME < '2013-04-06'
            GROUP BY USERID, gid, qid
        )  b ON a.USERID = b.USERID AND
            a.gid = b.gid AND
            a.qid = b.qid AND
                a.ACCESSTIME = b.min_date
    INNER JOIN
        (
            SELECT gid, QID, SUM(result = 1) AS all_attempt_correct, SUM(result = 0) AS all_attempt_incorrect
            FROM maf_game_stats
            GROUP BY gid, qid
         )  c ON a.gid = c.gid AND
             a.qid = c.qid 
    INNER JOIN maf_game_questions q ON a.qid = q.qid AND a.gid = q.gid
WHERE   a.gid ='1' 
GROUP BY a.gid, a.qid 
```

[更新的 SQL Fiddle](http://sqlfiddle.com/#!2/181a2/15)

# html - 站点窗口顶部和 chrome 书签底部之间出现线条

> ID：15826034
> 
> 赞同：-2
> 
> 时间：2013-04-05T04:41:22.033
> 
> 标签：html, css

我不知道为什么，但我使用的图像在顶部显示一条白线。其他图像不会发生这种情况。

我已经在图像上放大了很多，以确保它不是图像本身。我将框设置为黑色，以防图像没有覆盖所有内容。然而它仍然存在。

这是网站：[http ://www3.carleton.ca/clubs/sissa/html5/](http://www3.carleton.ca/clubs/sissa/html5/)

这是它的样子：

![在此处输入图像描述](https://i.stack.imgur.com/eEp4x.jpg)

CSS：

```
body{
    width: 100%; /*always specify this when using flexBox*/ 
    height:100%;
    display: -webkit-box;
    display: -moz-box;
    display: box;
    text-align:center;
    -webkit-box-pack:center; /*way of centering the website*/
    -moz-box-pack:center;
    box-pack:center;
    background:black;
    background:url('images/bg/bg14.jpg') no-repeat center center fixed;
    background-position: left top;
    -webkit-background-size: cover !important;
    -moz-background-size: cover !important;
    background-size: cover !important;
    font-family: Arial, Helvetica, sans-serif;
    font-size: 13px;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T04:43:20.543

这只是因为您使用的是 Chrome 主题。将主题更改为默认值，您将不会看到那条白线。我没有在我的 Chrome 上得到它！

# matlab - 在 Matlab 中的 GUI 之间传递变量

> ID：15826036
> 
> 赞同：-1
> 
> 时间：2013-04-05T04:41:26.513
> 
> 标签：matlab, variables, user-interface

我是 matlab 新手，很快就可以制作出互连的 GUI。从具体的例子开始工作要容易得多。我找到了通用示例，但不知道哪些部分是 Matlab 函数，哪些需要编辑。是否可以为此代码演示如何将信息从edittext 传递到bladedesign.fig 以及如何在bladedesign.fig 中访问它们？

Pushbutton4 是一个提交按钮。edittext9 是一个可变文本框。

```
function edit9_Callback(hObject, eventdata, handles)
% hObject    handle to edit9 (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    structure with handles and user data (see GUIDATA)

% Hints: get(hObject,'String') returns contents of edit9 as text
%        str2double(get(hObject,'String')) returns contents of edit9 as a double

% --- Executes during object creation, after setting all properties.
function edit9_CreateFcn(hObject, eventdata, handles)
% hObject    handle to edit9 (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    empty - handles not created until after all CreateFcns called

% Hint: edit controls usually have a white background on Windows.
%       See ISPC and COMPUTER.
if ispc && isequal(get(hObject,'BackgroundColor'), get(0,'defaultUicontrolBackgroundColor'))
    set(hObject,'BackgroundColor','white');
end

% --- Executes on button press in pushbutton4.
function pushbutton4_Callback(hObject, eventdata, handles)
% hObject    handle to pushbutton4 (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    structure with handles and user data (see GUIDATA)
close(gcf)
openfig(bladedesign.fig) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T05:34:35.163

不确定我是否理解你的问题。

无花果不“做”任何事情，它就在那里，.m 文件可以更新无花果，无花果将立即反映更改

你所拥有的 %hints 几乎就是这样。

hObject，是调用调用的对象，尝试在回调中插入一个断点（F12）并检查你在那里有什么

如果您想访问其他数据，“handles”变量将拥有所有数据（尽管仅在回调上而不是在 CreateFcn 上）

所以handles.pushbutton4和handles.edit9

是您正在寻找的葡萄酒

# java - Android应用程序传递数据时出错

> ID：15826039
> 
> 赞同：0
> 
> 时间：2013-04-05T04:41:44.363
> 
> 标签：java, android

我不断收到一个错误，显示：

> （04-04 23:26:29.557：E/dalvikvm(716)：无法打开堆栈跟踪文件'/data/anr/traces.txt'：权限被拒绝）。

请帮忙。我正在尝试为 android 应用程序传递数据。

```
public class Data extends Activity implements OnClickListener{
Button start, startFor;
EditText sendET;
TextView gotAnswer;
@Override
protected void onCreate(Bundle savedInstanceState) {
    // TODO Auto-generated method stub
    super.onCreate(savedInstanceState);
    setContentView(R.layout.get);
    initialize();

}
private void initialize(){
    start = (Button) findViewById(R.id.bSA);
    startFor = (Button) findViewById(R.id.bSAFR);
    sendET = (EditText) findViewById(R.id.etSend);
    gotAnswer = (TextView) findViewById(R.id.tvGot); 
    start.setOnClickListener(this);
    startFor.setOnClickListener(this);
}
@Override
public void onClick(View arg0) {
    // TODO Auto-generated method stub
    switch(arg0.getId()){
    case R.id.bSA:
        String bread = sendET.getText().toString();
        Bundle basket = new Bundle();
        basket.putString("key", bread);
        Intent a = new Intent(Data.this,OpenedClass.class);
        a.putExtras(basket);
        startActivity(a);
        break;
    case R.id.bSAFR:
        Intent i = new Intent(Data.this,OpenedClass.class);
        startActivityForResult(i,0);
        break;
    }
}
@Override
protected void onActivityResult(int requestCode, int resultCode, Intent data) {
    // TODO Auto-generated method stub
    super.onActivityResult(requestCode, resultCode, data);
}

}
package com.Christian.Amaro;

import android.app.Activity;
import android.os.Bundle;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.Button;
import android.widget.RadioGroup;
import android.widget.RadioGroup.OnCheckedChangeListener;
import android.widget.TextView;

public class OpenedClass extends Activity implements OnClickListener,
    OnCheckedChangeListener {
TextView question, test;
Button returnData;
RadioGroup selectionList;
String gotBread,setData;

@Override
protected void onCreate(Bundle savedInstanceState) {
    // TODO Auto-generated method stub
    super.onCreate(savedInstanceState);
    setContentView(R.layout.send);
    inilialize();
    Bundle gotBasket = getIntent().getExtras();
    gotBread = gotBasket.getString("key");
    question.setText(gotBread);
}

private void inilialize() {
    // TODO Auto-generated method stub
    question = (TextView) findViewById(R.id.tvQuestion);
    test = (TextView) findViewById(R.id.tvText);
    returnData = (Button) findViewById(R.id.bReturn);
    returnData.setOnClickListener(this);
    selectionList = (RadioGroup) findViewById(R.id.rgAnswers);
    selectionList.setOnCheckedChangeListener(this);

}

@Override
public void onClick(View v) {
    // TODO Auto-generated method stub

}

@Override
public void onCheckedChanged(RadioGroup arg0, int arg1) {
    // TODO Auto-generated method stub
    switch (arg1) {
    case R.id.rCrazy:
        setData = "Probably right!";
        break;
    case R.id.rSexy:
        setData = "Definitely Probably right!";

        break;

    case R.id.rBoth:
        setData = "Spot On!";
        break;
    }
    test.setText(setData);
}

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T04:58:03.997

```
adb shell
root@android: # cd /data/anr
root@android:/data/anr # ls -l traces.txt
-rw-rw-rw- system   system      76808 2013-04-05 13:03 traces.txt
root@android:/data/anr # 
```

-rw-rw-rw 是你应该看到的（表示读写权限）

如果你看到不同的东西，做

```
root@android:/data/anr # chmod 666 traces.txt 
```

PS你的设备必须root，否则你将无法得到这个问题:)

# imagemagick - RMagick 撕裂的边缘

> ID：15826055
> 
> 赞同：3
> 
> 时间：2013-04-05T04:43:00.743
> 
> 标签：imagemagick, rmagick

我正在尝试在 RMagick 中创建撕裂的边缘效果。有没有类似photoshop的结晶的滤镜？

另外，我在这里找到了这个 ImageMagick 代码[http://www.imagemagick.org/Usage/thumbnails/#torn](http://www.imagemagick.org/Usage/thumbnails/#torn)：

```
 convert thumbnail.gif \
      \( +clone -alpha extract -virtual-pixel black \
         -spread 10 -blur 0x3 -threshold 50% -spread 1 -blur 0x.7 \) \
      -alpha off -compose Copy_Opacity -composite torn_paper.png 
```

但是，我什么都不明白。任何人都可以提供一些建议吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-12T18:27:07.980

该命令主要做两件事：创建具有撕纸效果的蒙版，将蒙版应用于图像。它通过使用 +clone 和括号在一行中完成它们。但是，将其作为两个命令来执行并不那么令人困惑：

```
convert thumbnail.gif \
        -alpha extract \
        -virtual-pixel black \
        -spread 10 \
        -blur 0x3 \
        -threshold 50% \
        -spread 1 \
        -blur 0x.7 \
        mask.png

convert thumbnail.gif mask.png \
        -alpha off \
        -compose Copy_Opacity \
        -composite torn_paper.png 
```

第一个命令相当复杂。但是您可以在 ImageMagick 文档中找到每个组件命令的正确解释：

*   [http://www.imagemagick.org/Usage/masking/#alpha_extract](http://www.imagemagick.org/Usage/masking/#alpha_extract)
*   [http://www.imagemagick.org/Usage/misc/#virtual_examples](http://www.imagemagick.org/Usage/misc/#virtual_examples)
*   [http://www.imagemagick.org/script/command-line-options.php#blur](http://www.imagemagick.org/script/command-line-options.php#blur)

此外，通过将命令分成这两部分，您可以单独查看蒙版的外观。它基本上是纸张效果的反面。整个图像中间都是白色，在“撕裂边缘”周围逐渐变黑。

第二个命令要简单得多。Copy_Opacity，如[ImageMagick 文档](http://www.imagemagick.org/Usage/compose/#copyopacity)中所述，是一种使图像的一部分透明或不透明的方法。蒙版中的任何黑色都将在生成的图像中变得透明。实际上，第二个命令使用遮罩以一种风格有趣的方式“擦除”原始缩略图的边缘。

# java - 使用递归比较字符串

> ID：15826058
> 
> 赞同：0
> 
> 时间：2013-04-05T04:43:24.413
> 
> 标签：java, recursion

我有一个家庭作业，我就是想不通。我必须编写一个静态方法 match(String x, String y)，它返回一个布尔值来判断字符串 x 和字符串 y 是否匹配。匹配过程应允许“通配符”，例如将匹配任何单个字符的“@”字符和将匹配任何类型的 0 个或多个字符的“*”字符。我不允许使用任何循环，我必须使用递归。到目前为止，我写的就是这个……

```
public class CompareStrings {
public static boolean match(String x, String y) {
    if (x.length() <= 1 && y.length() <= 1) {
        if (x.equals("*") || y.equals("*")) {
            return true;
        }
        if ((x.length() == 1 && y.length() == 1) && (x.equals("@") || y.equals("@"))) {
            return true;
        }
        return  x.equals(y);
    }
    String x1 = "";
    String x2 = "";
    String y1 = "";
    String y2 = "";
    if (x.length() == 0 && y.charAt(0) == '*') {
            y2 = y.substring(1, y.length());
    }
    if (y.length() == 0 && x.charAt(0) == '*') {
            x2 = x.substring(1, x.length());
    }
    if (x.length() > 1 && y.length() > 1) {
        if (x.length() != y.length() && !x.contains("*") && !y.contains("*")) {
            return false;
        }
        if (x.charAt(0) == '*') {
            x1 = "*";
            x2 = x.substring(1, x.length());
            y1 = "*";
            y2 = y.substring(y.length()-x2.length(), y.length());
        }
        else if (y.charAt(0) == '*') {
            y1 = "*";
            y2 = y.substring(1, y.length());
            x1 = "*";
            x2 = x.substring(x.length()-y2.length(), x.length());
        }
        else {
            x1 = x.substring(0, 1);
            x2 = x.substring(1, x.length());
            y1 = y.substring(0, 1);
            y2 = y.substring(1, y.length());
        }
    }
    return match(x1, y1) && match(x2, y2);
}

public static void main(String[] args) {
    System.out.println(match("hello", "hello.") + " 1 false"); // should return false
    System.out.println(match("hello", "jello") + " 2 false"); // should return false
    System.out.println(match("hello", "h@llo") + " 3 true"); // should return true
    System.out.println(match("hello", "h@@@@") + " 4 true"); // should return true
    System.out.println(match("hello", "h*") + " 5 true"); // should return true
    System.out.println(match("hello", "*l*") + " 6 true"); // should return true
    System.out.println(match("anyString", "*") + " 7 true"); // should return true
    System.out.println(match("help", "h@@@@") + " 8 false"); // should return false
    System.out.println(match("help", "h*") + " 9 true"); // should return true
    System.out.println(match("help", "*l*") + " 10 true"); // should return true
    System.out.println(match("help", "*l*p") + " 11 true"); // should return true
    System.out.println(match("help", "h@llo") + " 12 false"); // should return false
    System.out.println(match("", "*") + " 13 true"); // should return true
    System.out.println(match("", "***") + " 14 true"); // should return true
    System.out.println(match("", "@") + " 15 false"); // should return false
    System.out.println(match("", "") + " 16 true"); // should return true
} 
```

}

主要方法是作业给出的测试程序。我意识到我的代码有点乱——我有点乱——但我似乎可以让它大部分工作。唯一没有返回正确值的例子是数字 11。当它应该为真时，我得到了假。我认为发生这种情况的原因是因为字符串 y 以 ' *' 开头，我的方法所做的就是将 x 和 y 字符串拆分为最后 3 个字符，即使*y 中的第一个 ' ' 应该代表 2人物。我怎样才能使这样的情况返回匹配项？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T06:08:20.650

基本上你需要了解递归的概念（这是你作业的目标）。递归的工作方式是每次函数调用自身时，当前执行（变量/执行信息）都会进入堆栈并在那里休眠，直到新调用完成。

为了解决您提到的问题，让我们举一个简单的例子，hello 和 h@llo。解决问题的一个基本方法是匹配服务一次又一次地调用自己，直到

1.  找到完美匹配 - 返回 true

2.  发现失败条件 - 返回 false

3.  在没有上述 2 的情况下，match 调用自身，其字符比 prev 调用少一个字符

就像是

调用 1: hello & h@llo// 调用再次匹配，当前调用移动到堆栈，等待回复

调用 2: ello & @llo //匹配特殊字符

call 3: llo 和 llo// 完美匹配返回 true 来调用 2

返回调用 2：从 prv 调用接收 true 并返回调用 1

返回调用1：接收true并返回main。

一旦你理解了递归栈的概念，解决这个问题就会很简单

您的最终匹配方法将类似于

```
public static boolean match(String x, String y) {

    //if both are empty
    if(x.length()==0 && y.length()==0) return true;

    //if one is empty
    if(x.length()==0 )
    {
        if(y.charAt(0)!='*')
            return false;
        if(y.length()!=1)
            //border line case
            return match(x,y.substring(1));
        else 
            return true;
    }
    if(y.length()==0 )
    {
        if(x.charAt(0)!='*')
            return false;
        if(x.length()!=1)
            //border line case
            return match(y,x.substring(1));
        else 
            return true;
    }   

    //Base case 
    if(x.equals(y) || x.equals("*") || y.equals("*"))
    {

        return true;//we are done as strings are equal
    }

    //we are here that means strings are not equal yet 
    if(x.charAt(0)=='@' || y.charAt(0)=='@' ||x.charAt(0)==y.charAt(0))
    {
        if(x.length()==1 && y.length()==1) return true;//this was the last character
        if(x.length()>1 && y.length()>1)
        {

            //we have single char wild card or char 0 equal,  lets remove the char at 0th location and check again 
            return (match(x.substring(1),y.substring(1)));
        }
    }

    if(x.charAt(0)=='*')
    {
        //this is interesting now, we will need to skip 0..n number of characters till we find matching pattern
        //case 0 chars: he*llo and hello
        if(match(x.substring(1),y)==true)
            {
                return true;
            }
        else if (match(x.substring(1),y.substring(1))==true)
        {
            //case 1: he*lo and hello
            return true;
        }           
        else
        {
            //case n chars: h*o and hello
            return (match(x, y.substring(1)));
        }

    }

    if(y.charAt(0)=='*')
    {
        //this is interesting now, we will need to skip 0..n number of characters till we find matching pattern
        //case 0 chars: he*llo and hello
        if(match(y.substring(1),x)==true)
            {
                return true;
            }
        else if (match(x.substring(1),y.substring(1))==true)
        {
            //case 1: he*lo and hello
            return true;
        }           
        else
        {
            //case n chars: h*o and hello
            return (match(y, x.substring(1)));
        }

    }
    //nothing worked out
    return false;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T05:50:40.407

本着`recursion`（你的标签之一）但不是 Java 的精神，这里有一个 Scheme 实现，它可以让你的所有测试用例都正确。

```
(define (match s1 s2) ; assumes s1 = string, s2 = pattern
  (let matching ((l1 (string->list s1)) (l2 (string->list s2)))
    (if (null? l1)
        (or (null? l2) (eq? (car l2) #\*)) ; every #\*
        (let ((c1 (car l1))
              (c2 (car l2)))
          (or (and (or (eq? c2 c1)
                       (eq? c2 #\@))
                   (matching (cdr l1) (cdr l2))) ; take one char from l1 and l2
              (and (eq? c2 #\*)
                   (matching (cdr l1) l2)))))))  ; take one char from l1 
```

请注意，对于具有上述内容的测试用例`"*l*"`，得到了正确的答案，但原因是错误的。上面还有其他错误（与 相关`"*"`），但不在您的测试用例中。

# node.js - 永远永远-监控

> ID：15826059
> 
> 赞同：3
> 
> 时间：2013-04-05T04:43:31.823
> 
> 标签：node.js, npm, forever

github 页面上的文档非常简洁。我知道每个人都永远爱着，但我对两者之间的区别`forever`以及`forever-monitor`在什么情况下应该使用哪个包感到困惑。

它们提供相同的功能吗？

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-04-05T05:15:05.370

如[forever](https://github.com/nodejitsu/forever#readme)的[README 和 forever-monitor](https://github.com/nodejitsu/forever-monitor#readme)的 README 中所述，该`forever`模块是命令行界面，该包`forever-monitor`是没有 CLI 的核心监控功能，因此您可以通过*编程*方式使用它。

### 在什么情况下我应该使用哪个包？

*   `forever`当您想使用 CLI（例如手动启动某些东西）时，您应该使用该模块。
*   `forever-monitor`当您编写应控制您正在启动的应用程序的程序时，您应该使用。例如，您通过界面启动其他应用程序的应用程序，或者如果您想生成应在应用程序失败时重新启动的内容。

### 它们提供相同的功能吗？

我没有查看整个代码，但模块`package.json`中的文件依赖`forever`项包括`forever-monitor`，这听起来很现实，因为该`forever`模块是一个控制其他应用程序的应用程序（因此使用`forever-monitor`）。所以可能（至少大部分）是的，但`forever-monitor`可能不会在`forever`.

# c# - 如何在 nMonoDevelop 中的 webkit-sharp 中使用代理

> ID：15826061
> 
> 赞同：0
> 
> 时间：2013-04-05T04:43:34.177
> 
> 标签：c#, gtk, browser, monodevelop, webkit-sharp

我想知道如何检测计算机连接的网络是否有代理，如果有，那么我希望能够获取代理地址和网络端口并在网络浏览器中使用它。

我知道这不能通过 webkit 的属性来完成，并且需要导入一些 DLL。所以，这就是我到目前为止所拥有的：

```
[DllImport("webkit-1.0")]
static extern IntPtr webkit_get_default_session();

[DllImport("soup-2.4")]
static extern IntPtr soup_uri_new(string uri);

[DllImport("gobject-2.0")]
static extern void g_object_set(IntPtr obj, string name, IntPtr value, IntPtr zero); 
```

如您所见，我已经导入了所需的 DLL，但我不知道下一步该做什么。

我真的需要帮助。如果有人可以给我一个链接或给我一些可以满足我一开始所说的要求的代码，那么请给我。

非常感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T04:53:47.177

WebKit 不是你用来连接互联网的东西，AFAIK 它是一个渲染引擎。
其基础是使用套接字连接到互联网。
对于 .NET 搜索 msdn`HttpWebRequest`以了解请求对象如何使用代理来发出请求。

此外，如果您的软件在 Internet 选项中配置为通过代理运行，那么您的应用程序发出的任何请求也将通过代理。

# c# - 旋转矩阵

> ID：15826064
> 
> 赞同：-2
> 
> 时间：2013-04-05T04:43:43.207
> 
> 标签：c#, winforms, math, matrix

# 目标

想象一下，我们有像这样的矩阵

```
a11 a12 a13
a21 a22 a23
a31 a32 a33 
```

我想要做的是，从文本框值旋转这个矩阵，例如，如果我写 2 并按`rotate`，程序必须保留矩阵的两个对角线值（在本例中为 a11、a22、a33、a13、a31）并旋转 2顺时针方向其他值。所以结果必须像

```
a11 a32 a13
a23 a22 a21
a31 a12 a33 
```

它必须适用于所有`N x N`大小的矩阵，并且如您所见，每 4 次旋转将矩阵带入默认状态。

# 我做了什么

所以想法就是这样，我有两种形式。首先取矩阵的大小（1 个值，例如如果它是 5，它会生成 5x5 矩阵）。当我按下`OK`它时，它会生成像这样的第二种形式的文本框矩阵

表格 1 代码

```
 private void button1_Click(object sender, EventArgs e)
    {
        int matrixSize;
        matrixSize = int.Parse(textBox1.Text);
        Form2 form2 = new Form2(matrixSize);
        form2.Width = matrixSize * 50 + 100;
        form2.Height = matrixSize *60 + 200;
        form2.Show();            
        //this.Hide();
    } 
```

表单 2 代码从给定值生成文本框矩阵并将随机值放入此字段

```
public Form2(int matrSize)
        {
            int counter = 0;
            InitializeComponent();
            TextBox[] MatrixNodes = new TextBox[matrSize*matrSize];
            Random r = new Random();
            for (int i = 1; i <= matrSize; i++)
            {
                for (int j = 1; j <= matrSize; j++)
                {
                    var tb = new TextBox();                    
                    int num = r.Next(1, 1000);
                    MatrixNodes[counter] = tb;
                    tb.Name = string.Format("Node_{0}{1}", i, j);
                    Debug.Write(string.Format("Node_{0}{1}", i, j));
                    tb.Text = num.ToString();
                    tb.Location = new Point(j * 50, i * 50);
                    tb.Width = 30;
                    tb.Visible = true;
                    this.splitContainer1.Panel2.Controls.Add(tb);
                    counter++;
                }
            }

        } 
```

表格 2 有 1 个文本框用于控制旋转（其他文本框以编程方式即时生成）。我想要做的是，当我输入旋转计数并按下`Enter`此文本框时，我想旋转文本框矩阵，如上所述。无法弄清楚该怎么做。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-04-05T07:50:46.877

将两条对角线复制到单独的数组中，然后旋转矩阵并替换对角线。下面的代码显示了每个步骤：

```
class Program
{
    static void Main(string[] args)
    {
        int matrixSize = 3;
        string[,] matrix = new string[matrixSize,matrixSize];

        //create square matrix
        for (int x = 0; x < matrixSize; x++)
        {
            for (int y = 0; y < matrixSize; y++)
            {
                matrix[x, y] = "a" + (x + 1).ToString() + (y + 1).ToString();
            }
        }

        Console.WriteLine(Environment.NewLine + "Base square matrix");

        for (int x = 0; x < matrixSize; x++)
        {              
            for (int y = 0; y < matrixSize; y++)
            {
                Console.Write(matrix[x, y] + " ");
            }
            Console.Write(Environment.NewLine);
        }
        Console.ReadKey();

        //copy diagonals
        string[] leftDiagonal = new string[matrixSize];
        string[] rightDiagonal = new string[matrixSize];
        for (int x = 0; x < matrixSize; x++)
        {
            leftDiagonal[x] = matrix[x, x];
            rightDiagonal[x] = matrix[matrixSize - 1 - x, x];
        }

        Console.WriteLine(Environment.NewLine + "Diagonals");

        for (int x = 0; x < matrixSize; ++x)
        {
            Console.Write(leftDiagonal[x] + " " + rightDiagonal[x] + Environment.NewLine);
        }
        Console.ReadKey();

        //rotate matrix
        string[,] rotatedMatrix = new string[matrixSize, matrixSize];
        for (int x = 0; x < matrixSize; x++)
        {
            for (int y = 0; y < matrixSize; y++)
            {
                rotatedMatrix[x, y] = matrix[matrixSize - y - 1, x];
            }
        }
        Console.WriteLine(Environment.NewLine + "Rotated");

        for (int x = 0; x < matrixSize; x++)
        {
            for (int y = 0; y < matrixSize; y++)
            {
                Console.Write(rotatedMatrix[x, y] + " ");
            }
            Console.Write(Environment.NewLine);
        }
        Console.ReadKey();

        //rotate matrix again
        string[,] rotatedMatrixAgain = new string[matrixSize, matrixSize];
        for (int x = 0; x < matrixSize; x++)
        {
            for (int y = 0; y < matrixSize; y++)
            {
                rotatedMatrixAgain[x, y] = rotatedMatrix[matrixSize - y - 1, x];
            }
        }
        Console.WriteLine(Environment.NewLine + "Rotated again");

        for (int x = 0; x < matrixSize; x++)
        {
            for (int y = 0; y < matrixSize; y++)
            {
                Console.Write(rotatedMatrixAgain[x, y] + " ");
            }
            Console.Write(Environment.NewLine);
        }
        Console.ReadKey();

        //replace diagonals
        for (int x = 0; x < matrixSize; x++)
        {
            rotatedMatrixAgain[x, x] = leftDiagonal[x];
            rotatedMatrixAgain[matrixSize - 1 - x, x] = rightDiagonal[x];
        }

        Console.WriteLine(Environment.NewLine + "Completed" + Environment.NewLine);

        for (int x = 0; x < matrixSize; x++)
        {
            for (int y = 0; y < matrixSize; y++)
            {
                Console.Write(rotatedMatrixAgain[x, y] + " ");
            }
            Console.Write(Environment.NewLine);
        }
        Console.ReadKey();
    }
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-07T21:45:43.977

我不懂C#，所以只能用伪代码给个建议：

**输入：**一个 N × N 矩阵`in`

**输出：**输入矩阵如 OP 中所述旋转`out`

```
for i = 1 to N
    for j = 1 to N
        if N - j != i and i != j // Do not change values on either diagonal
            out[j][N-i] = in[i][j]
        else
            out[i][j] = in[i][j] 
```

免责声明：此算法未经测试。我建议您使用调试器来检查它是否按您的意愿工作。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-14T17:40:05.537

这似乎是一个非常非正统的 UI 演示，但就能够实现您的功能而言，您并不算太远。代替线性阵列，矩形阵列将使您的工作更轻松。实际的旋转可以通过重复单个旋转的 for 循环来实现（这将在`case 1`代码中实现），但我决定将它们组合成四种可能的情况。这实际上允许您为旋转次数输入一个负数。这提醒了我，你真的应该做更多的错误检查。至少防止在`int.Parse`使用它的两个地方都抛出异常（使用 try catch 块或切换到`int.TryParse`），并确保它返回一个有意义的数字（大于`0`，可能设置一个合理的最大值，而不是`int.MaxValue`）`matrixSize`在`button1_Click`.

```
namespace RotatingMatrices
{
    public class Form2 : Form
    {
        // note these class fields
        private TextBox[,] matrixNodes;
        private int matrixSize;

        public Form2(int matrSize)
        {
            InitializeComponent();

            // note these inits
            matrixSize = matrSize;
            matrixNodes = new TextBox[matrixSize, matrixSize];

            Random r = new Random();

            // note the new loop limits
            for (int i = 0; i < matrixSize; i++)
            {
                for (int j = 0; j < matrixSize; j++)
                {
                    var tb = new TextBox();                    
                    int num = r.Next(1, 1000);

                    // note the change in indexing
                    matrixNodes[i,j] = tb;
                    tb.Name = string.Format("Node_{0}_{1}", i, j);
                    Debug.Write(string.Format("Node_{0}_{1}", i, j));
                    tb.Text = num.ToString();
                    tb.Location = new Point(j * 50, i * 50);
                    tb.Width = 30;
                    tb.Visible = true;
                    this.splitContainer1.Panel2.Controls.Add(tb);
                }
            }
        }

        private void buttonRotate_Click(object sender, EventArgs e)
        {
            string[,] matrix = new string[matrixSize, matrixSize];
            int rotations = (4 + int.Parse(textBoxRotations.Text)) % 4; // note the addition of and mod by 4

            switch(rotations)
            {
                case 1: // rotate clockwise
                    for (int i = 0; i < matrixSize; i++)
                    {
                        for (int j = 0; j < matrixSize; j++)
                        {
                            matrix[j, matrixSize - i - 1] = matrixNodes[i, j].Text;
                        }
                    }
                    break;
                case 2:  // rotate 180 degrees
                    for (int i = 0; i < matrixSize; i++)
                    {
                        for (int j = 0; j < matrixSize; j++)
                        {
                            matrix[i, j] = matrixNodes[matrixSize - i - 1, matrixSize - j - 1].Text;
                        }
                    }
                    break;
                case 3: // rotate counter-clockwise
                    for (int i = 0; i < matrixSize; i++)
                    {
                        for (int j = 0; j < matrixSize; j++)
                        {
                            matrix[i, j] = matrixNodes[j, matrixSize - i - 1].Text;
                        }
                    }
                    break;
                default: // do nothing
                   return;
            }

            // restore diagonals
            for(int i = 0; i < matrixSize; i++)
            {
                matrix[i, i] = matrixNodes[i, i].Text;
                matrix[i, matrixSize - i - 1] = matrixNodes[i, matrixSize - i - 1].Text;
            }

            // write strings back to text boxes
            for (int i = 0; i < matrixSize; i++)
            {
                for (int j = 0; j < matrixSize; j++)
                {
                   matrixNodes[i, j].Text = matrix[i, j];
                }
            }
        }
    }
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-17T01:22:55.330

我决定使用 a`listView`而不是文本框来解决这个问题，这使我的逻辑更容易。使用这种方法，我能够将矩阵视为连续的框。我从外面开始向中间移动，每次都改变盒子的大小。

另外，我没有使用两种形式，而是使用一种。在顶部，我有一个文本框，用户可以在其中输入他们希望数组的大小，以及一个标有“填充”的按钮（按钮 2）。在底部我有一个文本框，用户可以在其中输入旋转度数。当他们单击“旋转”时，它会启动向链表添加值、组合和移动列表，然后写回矩阵的过程。我确信我让它比它必须的更复杂，但这是一个很好的学习练习。

在查看了上面 jerry 的代码之后，我想我要研究一下矩形数组。:)

```
using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Drawing;
using System.Linq;
using System.Text;
using System.Windows.Forms;

namespace Recycle
{
  public partial class Form1 : Form
  {
    public int size;
    public LinkedList<string> topRight = new LinkedList<string>();
    public LinkedList<string> bottomLeft = new LinkedList<string>();
    public LinkedList<string> myMatrix = new LinkedList<string>();
    public LinkedList<string> shiftMatrix = new LinkedList<string>();

    public Form1()
    {
        InitializeComponent();
    }

    private void button2_Click(object sender, EventArgs e)
    {
        listView1.Clear();

        size = int.Parse(textBox2.Text);
        int c = 0;
        int q = 0;
        int w = 0;
        string[] content = new string[size];
        Random rnd = new Random();

        for (c = 0; c < size; c++)
        {
            listView1.Columns.Add("", 25);
        }

        for (q = 0; q < size; q++) 
        {
            for (w = 0; w < size; w++)
            {
                content[w] = rnd.Next(9,100).ToString();
            }

            ListViewItem lvi = new ListViewItem(content);
            listView1.Items.Add(lvi);
        }

    }

    public bool iseven(int size)
    {
        if (size % 2 == 0)
        {
            return true;
        }
        else
        {
            return false;
        }
    }

    public void button1_Click(object sender, EventArgs e)
    {
        if (listView1.Items.Count < 3)
        {
            MessageBox.Show("Matrix cannot be rotated.");
            return;
        }

        bool even = false;
        int shift = int.Parse(textBox1.Text); //amount to shift by
        int box = listView1.Items.Count - 1; //size of box
        int half = Convert.ToInt32(listView1.Items.Count / 2);
        int corner = 0; //inside corner of box

        if (shift > listView1.Items.Count)
        {
            shift = shift % ((listView1.Items.Count - 2) * 4);
        }

        do
        {
            eachPass(shift, box, corner);
            ++corner;
            --box;
        } while (box >= half + 1);

    }

    public void eachPass(int shift, int box, int corner)
    {
        int x;
        int i;

        //Read each non-diagonal value into one of two lists
        for (x = corner + 1; x < box; x++)
        {
            topRight.AddLast(listView1.Items[corner].SubItems[x].Text);
        }

        x = box;

        for (i = corner + 1; i < box; i++)
        {
            topRight.AddLast(listView1.Items[i].SubItems[x].Text);
        }

        for (x = box - 1; x  > corner; x--)
        {
            bottomLeft.AddLast(listView1.Items[box].SubItems[x].Text);
        }

        x = corner;

        for (i = box - 1; i > corner; i--)
        {
            bottomLeft.AddLast(listView1.Items[i].SubItems[x].Text);
        }

        string myTest = "";

        //join the two lists, so they can be shifted
        foreach (string tR in topRight)
        {
            myMatrix.AddLast(tR);
        }

        foreach (string bL in bottomLeft)
        {
            myMatrix.AddLast(bL);
        }

        int sh;

        //shift the list using another list
        for (sh = shift; sh < myMatrix.Count; sh++)
        {
            shiftMatrix.AddLast(myMatrix.ElementAt(sh));
        }

        for (sh = 0; sh < shift; sh++)
        {
            shiftMatrix.AddLast(myMatrix.ElementAt(sh));
        }

        //we need the sizes of the current lists
        int trCnt = topRight.Count;
        int blCnt = bottomLeft.Count;

        //clear them for reuse
        topRight.Clear();
        bottomLeft.Clear();

        int s;

        //put the shifted values back
        for (s = 0; s < trCnt; s++)
        {
            topRight.AddLast(shiftMatrix.ElementAt(s));
        }

        for (s = blCnt; s < shiftMatrix.Count; s++)
        {
            bottomLeft.AddLast(shiftMatrix.ElementAt(s));
        }

        int tRn = 0;
        int bLn = 0;

        //write each non-diagonal value from one of two lists
        for (x = corner + 1; x < box; x++)
        {
            listView1.Items[corner].SubItems[x].Text = topRight.ElementAt(tRn);
            ++tRn;
        }

        x = box;

        for (i = corner + 1; i < box; i++)
        {
            listView1.Items[i].SubItems[x].Text = topRight.ElementAt(tRn);
            ++tRn;
        }

        for (x = box - 1; x > corner; x--)
        {
            listView1.Items[box].SubItems[x].Text = bottomLeft.ElementAt(bLn);
            ++bLn;
        }

        x = corner;

        for (i = box - 1; i > corner; i--)
        {
            listView1.Items[i].SubItems[x].Text = bottomLeft.ElementAt(bLn);
            ++bLn;
        }

        myMatrix.Clear();
        shiftMatrix.Clear();
        topRight.Clear();
        bottomLeft.Clear();
    }
  }
} 
```

# c# - 在 SQL Server 上 INSERT 或 UPDATE 和获取新创建的 id 的解决方案

> ID：15826067
> 
> 赞同：2
> 
> 时间：2013-04-05T04:44:05.530
> 
> 标签：c#, asp.net, sql-server, upsert

是否可以使用以下约束执行插入或更新：

1.  项目中使用了[Dapper](https://code.google.com/p/dapper-dot-net/)
2.  主键是自动递增正数
3.  新插入的数据可能*没有*PK 值（或值为`0`）
4.  数据*需要*在新插入的行上有 PK 值。
5.  查询是按程序生成的，最好对其进行概括

就像是 ：

```
int newId = db.QueryValue<int>( <<insert or update>>, someData ); 
```

我已经阅读了不同的解决方案，最好的解决方案似乎是[这个](https://stackoverflow.com/questions/108403/solutions-for-insert-or-update-on-sql-server)：

```
merge tablename as target
using (values ('new value', 'different value'))
    as source (field1, field2)
    on target.idfield = 7
when matched then
    update
    set field1 = source.field1,
        field2 = source.field2,
        ...
when not matched then
    insert ( idfield, field1, field2, ... )
    values ( 7,  source.field1, source.field2, ... ) 
```

但

1.  它似乎在第三个约束上失败了
2.  它不保证返回新生成的 id。

由于第五个约束（或偏好），存储过程似乎过于复杂。

有哪些可能的解决方案？谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-05T06:03:18.157

如果您的表具有自动增量字段，则在插入记录时无法为该字段分配值。好的，你可以，但这通常是个坏主意:)

使用 T-SQL`MERGE`语句，您可以将所有值放入源表中，包括默认的无效标识值，然后将插入子句编写为：

```
when not matched then
    insert (field1, field2, ...)
    values (source.field1, source.field2, ...) 
```

: 并使用输出子句获取插入的标识值：

```
OUTPUT inserted.idfield 
```

* * *

也就是说，我认为您可能会使 SQL 代码生成稍微复杂化，尤其是对于具有大量字段的表。`UPDATE`生成 distinct和查询通常会更好`INSERT`……尤其是如果您有某种方法可以跟踪对象的更改，以便您只能更新更改的字段。

假设您正在使用 MS SQL，您可以`SCOPE_IDENTITY()`在语句之后使用函数`INSERT`来获取复合语句中记录的标识字段的值：

```
INSERT INTO tablename(field1, field2, ...)
VALUES('field1value', 'field2value', ...);
SELECT CAST(SCOPE_IDENTITY() AS INT) ident; 
```

当您执行此 SQL 语句时，您将在单个列中返回一个带有插入标识的结果集。然后，您的`db.QueryValue<int>`调用将返回您所追求的值。

对于标准整数自动增量字段，上述内容很好。对于其他字段类型，或更一般的情况，尝试将`SCOPE_IDENTITY()`结果转换为`VARCHAR(MAX)`并将结果字符串值解析为您的身份列期望的任何类型 - GUID 等。

在一般情况下，在你的`db`课堂上试试这个：

```
public string InsertWithID(string insertQuery, params object[] parms)
{
    string query = insertQuery + "\nSELECT CAST(SCOPE_IDENTITY() AS VARCHAR(MAX)) ident;\n";
    return this.QueryValue<string>(insertQuery, parms);
} 
```

和/或：

```
public int InsertWithIntID(string insertQuery, params object[] parms)
{
    string query = insertQuery + "\nSELECT CAST(SCOPE_IDENTITY() AS INT) ident;\n";
    return this.QueryValue<int>(query, parms);
} 
```

这样，您只需准备插入查询并调用适当的`InsertWithID`方法来获取结果标识值。这应该能满足你的第五个约束条件:)

# android - 安卓动态壁纸..？

> ID：15826070
> 
> 赞同：0
> 
> 时间：2013-04-05T04:45:08.017
> 
> 标签：android, android-canvas, live-wallpaper

嗨朋友我需要为 android 创建动态壁纸，我的要求是，我需要围绕不同的不同路径旋转图像。我尝试的代码对于最小帧数工作正常..根据设计，帧数太高，动画更流畅，如果我使用这个帧数不是好方法，apk 大小更大。有没有办法达到同样的效果。

# java - 为什么我在第 3 和第 4 个打印语句中返回整数而不是字符？

> ID：15826073
> 
> 赞同：8
> 
> 时间：2013-04-05T04:45:35.190
> 
> 标签：java, unicode

你能解释一下最后 2 个打印语句的内容吗？那就是我迷路的地方。

```
public class Something
{
    public static void main(String[] args){
        char whatever = '\u0041';

        System.out.println( '\u0041'); //prints A as expected

        System.out.println(++whatever); //prints B as expected

        System.out.println('\u0041' + 1); //prints 66 I understand the unicode of 1     adds up the 
        //unicode representing 66 but why am I even returning an integer when in the previous statement I returned a char?

        System.out.println('\u0041' + 'A'); //prints 130 I just wanted to show that adding an 
        //integer to the unicode in the previous print statement is not implicit casting because 
        //here I add a char which does not implicitly cast char on the returned value

    }
} 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-05T04:50:51.700

这是因为[**二进制数字提升**](http://docs.oracle.com/javase/specs/jls/se5.0/html/conversions.html#170983)

> 当运算符将二进制数值提升应用于一对操作数时，每个操作数都必须表示一个可转换为数值类型的值，以下规则按顺序应用，使用扩展转换（第 5.1.2 节）在必要时转换操作数：
> 
> *   如果任何操作数是引用类型，则执行拆箱转换（第 5.1.8 节）。然后：
> *   如果任一操作数是 double 类型，则另一个操作数将转换为 double。
> *   否则，如果任一操作数的类型为浮点型，则另一个将转换为浮点型。
> *   否则，如果任一操作数是 long 类型，则另一个将转换为 long。
> *   否则，两个操作数都转换为 int 类型。

基本上，两个操作数都转换为 a `int`，然后`System.out.println(int foo)`调用 the 。`+`,`*`等可以返回的唯一类型是`double`, `float`, `long`, 和`int`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-05T04:49:46.987

`'\u0041' + 1`产生`int`，您需要将其强制转换为，`char`以便 javac 将调用绑定到`println(char`) 而不是`prinln(int)`

```
System.out.println((char)('\u0041' + 1)); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-05T04:57:43.927

`whatever`是一个字符，并且`++whatever`意味着`whatever = whatever + 1`（忽略前缀顺序）

由于涉及到赋值，结果被转换为 char，所以调用了 char 方法。但是在第 3-4 次打印中，没有赋值，并且按照规则，所有求和运算默认发生在 int 中。所以在 print 操作之前，它对 and 求和`char + char`，`char+int`由于没有反向赋值，所以在操作之后它仍然是 int，所以调用了 integer 方法。

# wampserver - 创建别名目录服务 wamp 后未运行

> ID：15826075
> 
> 赞同：-2
> 
> 时间：2013-04-05T04:45:44.957
> 
> 标签：wampserver

我正在使用 wamp 服务器版本 2.2

我必须创建一个别名，但是在创建别名后 wamp servervice 没有运行它变成黄色而不是蓝色..

怎么了 ？

```
Alias /Yudeth/ "D:/Yudeth/" 

<Directory "D:/Yudeth/">
    Options Indexes FollowSymLinks MultiViews
    AllowOverride all
        Order allow,deny
    Allow from all
</Directory> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T04:54:38.963

由于您使用的是 wamp 2.2，因此您可以直接从系统托盘图标创建别名 ..

看到这个[帖子](http://nothingtopost.wordpress.com/2010/10/07/how-to-create-an-alias-in-wamp/)

# javascript - 如何只为一页制作“全选”功能

> ID：15826083
> 
> 赞同：0
> 
> 时间：2013-04-05T04:46:21.017
> 
> 标签：javascript, checkbox, pagination, selectall

假设我有一个包含 100 个复选框的页面。我使用这个分页Javascript（[http://en.newinstance.it/2006/09/27/client-side-html-table-pagination-with-javascript/](http://en.newinstance.it/2006/09/27/client-side-html-table-pagination-with-javascript/)）将它们分成小页面（每个大约有10个复选框）在同一页面内。

我已经为所有 100 个复选框创建了一个“全选”功能。问题是我想为页面上可见的 10 个复选框创建一个“全选”功能。不知道有没有人知道怎么做...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T05:26:09.753

你可以给每个小组一个班级。然后你可以使用：

```
var checkBoxArray = document.getElementsByClass('<your class>'); 
```

然后您可以循环浏览此数组中的项目并执行如下操作：

```
checkBoxArray[i].checked=true; 
```

除非我误解了你的意思，否则应该*这样*做。

干杯。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T07:30:49.263

我相信它们在同一个 div 中，如果是这样，请创建一个复选框并使用以下 jQuery 代码：

```
$("#urMasterCheckbox").click(function(){
    $('input:checkbox').prop('checked', $("#urMasterCheckbox").is('checked');
} 
```

这将确保在单击所谓的主复选框时，将根据他的检查状态检查下一个复选框上的所有内容。了解更多关于使用 jQuery 的知识，它确实让你的代码更加快速、轻量和高效。这是一个链接：[jQuery](http://jquery.com/)，下载它或在您的代码中引用它。祝你好运

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-05T06:21:36.703

分页库通过设置隐藏其他行`display:none`，因此您只需检查一行是否可见，只需选中复选框。

# html - 如何从像素画布 HTML5 中找到相关的多边形

> ID：15826084
> 
> 赞同：0
> 
> 时间：2013-04-05T04:46:24.633
> 
> 标签：html, canvas

我正在开发一个 HTML5 画布应用程序。我现在能够找到我在画布上单击的任何点的坐标和十六进制值。如果假设我正在单击一个具有填充多边形的区域（并且我知道多边形的颜色）。有什么方法或算法可以返回绘制多边形的封闭坐标？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-08T09:04:30.317

# 解决方案

将多边形点存储在对象或数组中并使用 canvas 方法：

```
var boolean = context.isPointInPath(x, y); 
```

通过将点存储为对象/数组，您可以简单地遍历集合以重新构建每个多边形的路径，然后调用上面的方法（无需重新绘制多边形进行检查）。

如果你有一个命中，那么你知道它是哪个对象，因为它会是当前的。您可以在这些对象上存储其他元数据，例如颜色。

## 例子

您可以创建一个简单的类来存储坐标和颜色（可以根据需要扩展的基本对象）：

```
function Polygon(pts, color) {
    this.points = pts;
    this.color = color;
    return this;
} 
```

然后定义一些点：

```
/// object collection
var myPolygons = [];

/// add polygons to it
myPolygons.push( new Polygon([[10,10], [30,30], [70,70]], 'black') );
myPolygons.push( new Polygon([[50,40], [70,80], [30,30]], 'red') ); 
```

**渲染多边形**

然后渲染多边形：

```
for(var i = 0, p, points; p = myPolygons[i]; i++) {

     points = p.points;

     ctx.beginPath();
     ctx.moveTo(points[0][0], points[0][1]);

     for(var t = 1; t < points.length; t++) {
         ctx.lineTo(points[t][0], points[t][1]);
     }
     ctx.closePath();

     ctx.fillStyle = p.color;
     ctx.fill();
} 
```

**检查点是否在路径中**

`x, y`然后在单击时根据位置检查命中。

如您所见，该函数与渲染函数几乎相同（当然您可以将它们重构为单个函数），但这实际上并没有绘制任何东西，只是重新构建了检查路径。

```
for(var i = 0, p, points; p = myPolygons[i]; i++) {

     points = p.points;

     ctx.beginPath();
     ctx.moveTo(points[0][0], points[0][1]);

     for(var t = 1; t < points.length; t++) {
         ctx.lineTo(points[t][0], points[t][1]);
     }
     ctx.closePath();

     /// instead of drawing anything, we check:
     if (ctx.isPointInPath(x, y) === true) {
         alert('Hit: ' + p.color);
         return;
     }
} 
```

# 结论

通常这会比迭代位图数组更快（这也是一个非常好的解决方案）。这主要是因为检查是在编译代码内部完成的。

将来，我们将可以自己构建 Path 对象，这样我们就可以简单地传递一个已经保存了所有路径信息的 Path 对象，而不是重新构建它，这意味着更快的速度。

# javascript - 将服务器端脚本写入 javascript

> ID：15826085
> 
> 赞同：0
> 
> 时间：2013-04-05T04:46:34.707
> 
> 标签：javascript, jquery, xml, url

在使用 AJAX 将 lat 和 lng 值 POST 到 php 文件并生成新的 xml 文件后，我尝试从 ip 地址获取纬度和经度值

这是我的 html 文件：-

```
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
    <script type="text/javascript" src="http://j.maxmind.com/app/geoip.js" ></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
    <script>
    function getlg(){
                var lan=geoip_latitude();
                var lng=geoip_longitude();
                var gen = $('#Sex').val();
                var date = $('#date').val();
                    $.ajax({ 
                                type: "POST",
                                url: "http://localhost/SVN/trunk/home/url.php?lat="+lan+"&lng="+lng+'&radius'+$('#radius1').val(),
                                contentType: "text/html",
                                success: function(token)  {

                                },
                                error:function (xhr, ajaxOptions, thrownError){
                                alert(xhr.statusText);
                                alert(thrownError);
                                }    
                        });

                    }
        </script>
    <body>
<div id="region"><h5></h5></div>
Enter Radius: <input type="text" id="radius1"></input>
<input type="button" id="filter"onclick="getlg()" value="Go">
</body>
</head>
</html> 
```

这是我的 php 文件：-

```
<?php
function convertNodeValueChars($node) {
    if ($node->hasChildNodes()) {
      foreach ($node->childNodes as $childNode) {
        if ($childNode->nodeType == XML_TEXT_NODE) {
          $childNode->nodeValue = iconv('utf-8', 'ascii//TRANSLIT', $childNode->nodeValue);
        }
        convertNodeValueChars($childNode);         
      }
    }      
  } 
$url='http://services.gisgraphy.com/geoloc/search?lat='.$_GET['lat'].'&lng='.$_GET['lng'].'&radius='.$_GET['radius'];
  $doc = new DOMDocument();
  $doc->load($url);
  $doc->save('General.xml');
?> 
```

在这个文件中，我尝试从 html ajax 函数获取经纬度和半径，并在 url 的帮助下获取一个新的 xml 文件。
但是如果半径最大，它会花费很多时间。
我想在不喜欢服务器端脚本的 java 脚本中尝试这个 php 代码。
请帮我解决这个问题...
谢谢...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T05:07:59.147

**试试这个：-**

```
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
    <script type="text/javascript" src="http://j.maxmind.com/app/geoip.js" ></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
    <script>
    function myFunction(){
                var lan=geoip_latitude();
                var lng=geoip_longitude();
                var gen = $('#Sex').val();
                var date = $('#date').val();
                        var location = "http://services.gisgraphy.com/geoloc/search?lat="+lan+"&lng="+lng+'&radius'+$('#radius1').val();
                                    document.write('<a href="' + location + '">Link text</a>');
                }
        </script>
    <body>
<div id="region"><h5></h5></div>
<input type="text" id="radius1" onchange="myFunction()"></input>
</body>
</head> 
```

# ios - 如何在 xcode 4.6 中获取场景停靠以显示视图控制器名称？

> ID：15826086
> 
> 赞同：0
> 
> 时间：2013-04-05T04:46:41.427
> 
> 标签：ios, xcode

一般来说，我刚刚开始使用 xcode 4.6 和 iOS 开发。

我创建了一个单视图 iOS 应用程序，我可以看到场景停靠栏，但是在 xcode 中查看主故事板时无法在场景停靠栏上看到视图控制器名称。相反，我看到了视图控制器、第一响应者和响应者图标。如何让视图控制器名称出现。

[您可以在http://i49.tinypic.com/15n64vt.png](http://i49.tinypic.com/15n64vt.png)看到截图

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T04:52:38.203

显然，当您在 Interface Builder 中选择不同的视图控制器时会显示名称，但在您的情况下，您不能这样做，因为您正在使用单个视图控制器。

因此我建议您使用文档大纲来显示您的视图控制器的名称。您可以通过单击左下角的圆形图标来打开它。

# android - TextView 使用 Horizo ntalScrollView 将按钮推离屏幕

> ID：15826090
> 
> 赞同：0
> 
> 时间：2013-04-05T04:47:12.567
> 
> 标签：android, button, textview, scrollview, horizontalscrollview

我的目标是类似于本机计算器应用程序的布局。我希望文本从屏幕左侧移出而不移动右侧的按钮。目前，我的文本向左移动，直到填满屏幕，此时按钮被推离右边缘。

```
<LinearLayout
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:layout_gravity="top"
    android:layout_weight="1"
    android:gravity="right"
    android:orientation="horizontal" >

    <HorizontalScrollView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:scrollbars="none" >

        <TextView
            android:id="@+id/display_view"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:singleLine="true"
            android:textColor="@android:color/white"
            android:textIsSelectable="true"
            android:textSize="30sp" />
    </HorizontalScrollView>

    <LinearLayout
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:orientation="vertical" >

        <Button
            android:id="@+id/delete_button"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:onClick="onDelete"
            android:text="@string/delete_button" />

        <Button
            android:id="@+id/equate_button"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:onClick="onEquate"
            android:text="@string/equate_button" />
    </LinearLayout>
</LinearLayout> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T05:18:42.443

您不需要将您的`TextView`放入 a`HorizontalScrollView`中，当文本超出范围时它会自动变为可滚动的。请参阅文档： http: [//developer.android.com/reference/android/widget/TextView.html#attr_android :scrollHorizo​​ntally](http://developer.android.com/reference/android/widget/TextView.html#attr_android:scrollHorizontally)

只需添加`android:scrollHorizontally="true"`到`TextView`布局中。

您可能还需要将文本视图的 layout_weight 更改为 0 或将其 layout_width 设置为固定值（如 100dp）。

要使文本从右到左，请将 TextView 上的重力设置为`android:gravity="right|center_vertical"`

我还谦虚地向您推荐您尝试模仿的计算器应用程序的来源：[https ://github.com/android/platform_packages_apps_calculator/tree/master/src](https://github.com/android/platform_packages_apps_calculator/tree/master/src)

# tortoisegit - TortoiseGit 如何克隆文件夹结构

> ID：15826091
> 
> 赞同：6
> 
> 时间：2013-04-05T04:47:19.083
> 
> 标签：tortoisegit

我不想克隆整个存储库。我们有一个 300 MB 的存储库，我只想要名为 /sourcecode 的文件夹，而不是下载整个根文件夹。

有没有办法做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-05T05:58:36.913

TortoiseGit 尚不提供该功能本身：请参阅[issue 1599](https://gitlab.com/tortoisegit/tortoisegit/issues/1599)（2013 年 1 月）。

所以它应该是一个简单的检出，除了你需要先编辑`.git/info/sparse-checkout`，如“[是否可以在不先检出整个存储库的情况下进行稀疏检出？](https://stackoverflow.com/a/4909267/6309) ”中所述。

请注意，msysgit1.8.1 仍然存在问题。请参阅“[为什么 git sparse checkout 会留下目录？](https://stackoverflow.com/q/15619112/6309) ”。

# c++ - 基本 RValue 方法返回

> ID：15826095
> 
> 赞同：2
> 
> 时间：2013-04-05T04:47:29.543
> 
> 标签：c++, c++11, return-value

假设一个基本方法：

```
std::string StringTest()
{
    std::string hello_world("Testing...");

    return std::move(hello_world);
} 
```

我应该如何使用输出：

选项 A：

```
auto& string_test_output=StringTest(); 
```

选项 B：

```
auto string_test_output=StringTest(); 
```

StringTest() 是临时值吗？如果是这样，选项 A 将不安全。如果不是临时值，我感觉选项 B 会导致复制。

我仍然习惯于 RValue 引用，因此按值返回仍然非常可怕，因为我不希望发生复制或遇到不必要的复制！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-05T04:57:40.477

最好的方法是将您的方法更改为：

```
std::string StringTest()
{
    std::string hello_world("Testing...");

    return hello_world;
} 
```

没有必要告诉函数返回的对象应该是一个右值，这会自动来自临时值——也就是说，它在调用站点没有绑定到任何名称。因此，initialized 将值已经被移动构造（除非函数内部的临时值被完全省略），您无需手动表达这样的意图。

此外，由于您的返回类型是`std::string`，您将按值返回，而不是按右值引用返回，因此在返回之前移动返回参数是没有意义的。事实上，调用`std::move`除了可能欺骗编译器在返回值之前执行额外的不必要的移动构造函数之外没有任何作用。除了使您的代码稍微复杂一些并且运行速度可能更慢之外，这样的技巧没有任何作用。

您也确实希望按值返回。一个原因是因为[返回值优化 (RVO)](http://cpp-next.com/archive/2009/08/want-speed-pass-by-value/ "返回值优化")。大多数编译器都会这样做，这意味着你最好只返回一个被忽略的“副本”，而不是试图变得聪明并返回一个引用。

即使无法应用 RVO，通过右值引用返回它仍然不会改变它的返回方式。当返回值时，由于它是调用站点的临时值，因此返回的值将已经是一个右值，可以通过右值引用传递给任何需要它作为参数的函数。例如，如果您使用返回值来初始化变量并且返回值没有被省略，则移动构造函数仍然会被调用（如果可用）。因此，简单地按值返回并不会损失太多。

鉴于此，您可能应该执行以下操作之一来获取价值：

```
auto string_test_output = StringTest();
std::string string_test_output = StringTest(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T08:03:36.917

按值返回 std::string （通常是任何可移动类型）并因此初始化新对象将永远不会触发复制构造。在最坏的情况下，它会触发移动构造，但通常由于复制省略，不会涉及运行时开销。

我推荐[这篇文章](http://akrzemi1.wordpress.com/2012/02/03/value-semantics/)来了解价值语义及其成本的背景。

# java - 比较java中的结果集

> ID：15826100
> 
> 赞同：2
> 
> 时间：2013-04-05T04:48:02.197
> 
> 标签：java, jdbc, resultset

我正在寻找`ResultSet`在 java (`RS1`和`RS2`) 中比较两个 s 的方法。

**注意事项/要求**

*   结果集来自两个不同的数据库（`Oracle`& `SQl-Server`）。因此，我无法对获取的结果进行任何 sql 查询更改。

*   任何一个`ResultSet`s 都可以有比彼此更多的行。

*   任何一个`ResultSet`都可以拥有其他数据不属于他们的数据`ResultSet`

**例子：**

```
RS1                        RS2
Column1 Column2            Column1 Column2 Column3
A       1                  A       2       ITEM1
C       1                  B       4       ITEM2
D       2                  C       2       ITEM3
E       5                  D       1       ITEM4 
```

**预期结果**

==> A 是有效的，因为它在`RS1`&`RS2`中，`Column2`对于 RS2 中的 A >`Column2`对于 RS1 中的 A

==> B 无效，因为它不在 RS1 中

==> C 是有效的，因为它在`RS1`&中`RS2`，`Column2`对于 RS2 中的 C >`Column2`对于 RS1 中的 C

==> D 无效，因为即使它在`RS1`and中`RS2`，`Column2`RS2 中的 D < `Column2`for RS1 中的 D

==> E 无效，因为它不在`RS2`

寻找解决此问题的可能选项。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-05T04:50:46.740

遍历您的两个`ResultSet`s 并将它们存储在一个`Map<String, Integer>`. 之后，您可以遍历其中任何一个`keySet`并继续比较`values`.

这使您可以比较`ResultSet`任何类型的 DB( `Oracle, MySql, SQLServer, etc.`) 中的 2 s。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T05:35:19.747

循环遍历第一个 ResultSet 并将它们存储`HashMap<String , Object>` 在使用 column1 作为 Key 的地方，并将所有剩余的列放在 Bean 对象中。

之后遍历第二个结果集并通过查找来检查 HashMap 中是否存在 column1。如果存在，则使用 getValue 获取 Object，然后与 resultSet2 列进行比较。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-05T04:51:31.560

我只需将结果读入两个以键为主键的映射，在您的情况下似乎是 Column1，值是 Column2。

然后您可以遍历第一个映射的条目集并查看第二个映射是否具有键，如果有，则比较值。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-05T05:00:55.820

我建议从每个 ResultSet 中读取值，并将其放入 List 中，然后比较两个 List。
您可以`getMetaData`对每个结果集执行以获取有关列的信息。
这将包括列数等信息，然后您将能够编写一个简单的循环来获取每列的值并将其添加到列表中。

# php - $_SERVER['PHP_SELF'] 写入 .htaccess 后显示不同

> ID：15826102
> 
> 赞同：1
> 
> 时间：2013-04-05T04:48:32.370
> 
> 标签：php, .htaccess, mod-rewrite, url-rewriting, url-redirection

这是我们网站的实际网址

[http://www.globalmedicalaware.com/gma-new/home.php?city=Chennai](http://www.globalmedicalaware.com/gma-new/home.php?city=Chennai)

我使用 .htaccess 以下代码重写了 url

```
Options +FollowSymLinks
RewriteEngine on
RewriteRule /city/(.*) home.php?city=$1 
```

现在 url 重写为

[http://www.globalmedicalaware.com/gma-new/home/city/Chennai](http://www.globalmedicalaware.com/gma-new/home/city/Chennai)

我在 column-right.php 和其他一些区域（如页脚、..etc、..）中编写了代码

```
if($_SERVER['PHP_SELF']=='/gma-new/home.php') {

------------   some designs and action to display the column right for home.php only -----------

 } 
```

在本地主机中正确`$_SERVER['PHP_SELF']`显示`/gma-new/home.php` ..

但是在现场`$_SERVER['PHP_SELF']`表演中`city/Chennai`..so列对home.php的正确编码不起作用..

请在这件事上给予我帮助..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T05:37:02.823

您可以在根目录的 .htaccess 文件中尝试此操作：

```
Options +FollowSymlinks -MultiViews
RewriteEngine On
RewriteBase /
RewriteCond %{REQUEST_URI} !home\.php  [NC]
RewriteRule ^gma-new/home/city/([^/]+)/?  /gma-new/home.php?city=$1  [L,NC] 
```

默默地映射：
`http://www.globalmedicalaware.com/gma-new/home/city/Chennai`到
`http://www.globalmedicalaware.com/gma-new/home.php?city=Chennai`

Chennai*是*一个动态字符串。

对于永久和可见的重定向，将 [L,NC] 替换为 [R=301,L,NC]

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T05:00:51.177

尝试在[http://php.net/manual/en/reserved.variables.server.php](http://php.net/manual/en/reserved.variables.server.php)中查看它，我认为您可以`$_SERVER['PHP_SELF']`使用`$_SERVER['REQUEST_URI']`这样的字幕：

```
if ($_SERVER['REQUEST_URI'] == '/gma-new/home.php') {
    /*
    some designs and action to display the column right for home.php only
    */
} 
```

# php - 从 URL 检索文件并使用相同的标头提供它

> ID：15826104
> 
> 赞同：0
> 
> 时间：2013-04-05T04:48:57.730
> 
> 标签：php

目前，我正在构建一个启用 SSL 的 SMF 模块，并且不断出现的一件事是用户嵌入内容（如图像）和其他类型的东西无法从使用 SSL 的站点提供的问题。我正在寻找一种方法来构建一种将在我的网站上运行的代理脚本，当传递一个 URL 时，它将检索文件，维护大部分标题（例如 mime 类型），然后再次提供文件。这样一来，它看起来就像是从启用 SSL 的站点实际提供的图像或任何内容，但实际上并非如此。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-06T00:35:30.923

感谢所有的评论！只是对于那些想在未来这样做的人，这是我正在使用的脚本：

```
<?php
    $requestURL = filter_var($_REQUEST["url"], FILTER_SANITIZE_URL);
    if(filter_var($requestURL, FILTER_VALIDATE_URL, FILTER_FLAG_PATH_REQUIRED))
    {
        if(isset($_SERVER['HTTP_IF_MODIFIED_SINCE']))
        {
            // Load the headers from the destination server.
            $uri_info = new URIInfo($requestURL);
            if($uri_info->info['filetime'] == strtotime($_SERVER['HTTP_IF_MODIFIED_SINCE']))
            {
                header('HTTP/1.1 304 Not Modified');
            }
            else
            {
                //Serve a new copy of the file, its changed :O
                $ch = curl_init();
                curl_setopt($ch, CURLOPT_URL, $requestURL);
                curl_setopt($ch, CURLOPT_HEADER, 0);
                curl_setopt($ch, CURLOPT_FILETIME, 1);
                curl_setopt($ch, CURLOPT_FOLLOWLOCATION, 1);
                curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
                curl_setopt($ch, CURLOPT_BINARYTRANSFER, 1);
                $data = curl_exec($ch);
                $info = curl_getinfo($ch);
                curl_close($ch);

                //Display the image in the browser
                header('Content-type: ' . $info['content_type']);
                header('Last-Modified: ' . gmdate('D, d M Y H:i:s \G\M\T', $info['filetime']));
                header('Cache-Control: no-cache'); //Stop CloudFlare!
                echo $data;
            }
        }
        else
        {
            //Just serve the file, they obviously don't have a copy of it!
            $ch = curl_init();
            curl_setopt($ch, CURLOPT_URL, $requestURL);
            curl_setopt($ch, CURLOPT_HEADER, 0);
            curl_setopt($ch, CURLOPT_FILETIME, 1);
            curl_setopt($ch, CURLOPT_FOLLOWLOCATION, 1);
            curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
            curl_setopt($ch, CURLOPT_BINARYTRANSFER, 1);
            $data = curl_exec($ch);
            $info = curl_getinfo($ch);
            curl_close($ch);

            //Display the image in the browser
            header('Content-type: ' . $info['content_type']);
            header('Last-Modified: ' . gmdate('D, d M Y H:i:s \G\M\T', $info['filetime']));
            header('Cache-Control: no-cache'); //Stop CloudFlare!
            echo $data;
        }
    }    
    exit();
?>

<?php

    class URIInfo 
    {
        public $info;
        public $header;
        private $url;

        public function __construct($url)
        {
            $this->url = $url;
            $this->setData();
        }

        public function setData() 
        {
            $curl = curl_init();
            curl_setopt($curl, CURLOPT_URL, $this->url);
            curl_setopt($curl, CURLOPT_FILETIME, 1);
            curl_setopt($curl, CURLOPT_FOLLOWLOCATION, 1);
            curl_setopt($curl, CURLOPT_NOBODY, 1);
            curl_setopt($curl, CURLOPT_RETURNTRANSFER, 1);
            $this->header = curl_exec($curl);
            $this->info = curl_getinfo($curl);
            curl_close($curl);
        }

        public function getFiletime() 
        {
            return $this->info['filetime'];
        }
    }

?> 
```

# html - Adobe Flash Player 设置不显示记住按钮

> ID：15826108
> 
> 赞同：2
> 
> 时间：2013-04-05T04:49:43.847
> 
> 标签：html, flash, flex4

![在此处输入图像描述](https://i.stack.imgur.com/8AXWW.png) 我有一个 Adob​​e Flash Player 应用程序，当页面加载时它会显示一个弹出窗口（Adobe Flash 播放器设置），但在该弹出窗口中它没有显示“**记住”**复选框。

请帮忙。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-05T05:04:37.333

有两种不同的弹出窗口：

*   当应用程序尝试访问网络摄像头或麦克风时，会显示第一个。这个不显示*记住*选项。您在应用程序中看到的那个；
*   第二个通过执行调用以编程方式显示`Security.showSettings()`

无论如何，在尝试访问用户的任何网络摄像头/摄像头/麦克风之前，打开安全面板是一种很好的做法。

如果您不开发此应用程序但仍想显示带有*记住*选项的弹出窗口，您可以通过右键单击它并选择来实现`Settings...`。隐私标签应该是第二个。

# javascript - 无法构造正则表达式

> ID：15826109
> 
> 赞同：1
> 
> 时间：2013-04-05T04:49:44.300
> 
> 标签：javascript, regex

我正在尝试为一些验证构建一个正则表达式。我想检查一个字符串是否是至少一个字母和一个整数的组合。为此，我已经尝试过，`^(?=.*[\w][\d]).+`我不太了解正则表达式。此表达式检查字符串中的 aplhabet 和数字，但它希望字符串以字母开头。相反，我只想检查字符串中是否同时存在字母和数字，而不管出现的数量和顺序如何。字母表也可以是大写或小写，所以我猜单词检查将不区分大小写。该字符串可能包含特殊字符以及任何组合和顺序的单词和数字，但应丢弃任何空格。任何人都可以帮忙吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-05T04:53:25.860

您必须使用两个前瞻：

```
/(?=.*[a-z])(?=.*[0-9])/i 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-05T05:00:34.460

Blender 的回答是正确的，但是我建议使用更容易理解的正则表达式。

您正在寻找的实际上是以下两种情况之一：一串字符，首先包含一个字母，然后是一个数字，或者相反。

第一种情况是：`/.*[a-zA-Z].*[0-9].*/`.

第二种情况是：`/.*[0-9].*[a-zA-Z].*/`.

然后，您可以将它们组合成一个语句：

```
/(.*[a-zA-Z].*[0-9].*)|(.*[0-9].*[a-zA-Z].*)/ 
```

这可以进一步简化，但我希望这能让您了解如何处理这样的正则表达式问题。

# codeigniter - Codeigniter - 请建议我如何在此搜索引擎中添加分页

> ID：15826111
> 
> 赞同：0
> 
> 时间：2013-04-05T04:49:50.233
> 
> 标签：codeigniter

--

## -- 数据库：`ci-intro`

创建数据库`ci-intro`默认字符集 utf8 COLLATE utf8_general_ci; 使用`ci-intro`；

* * *

--

## -- 表的表结构`posts`

如果不存在则创建表`posts`( `id`int(11) unsigned NOT NULL AUTO_INCREMENT, `title`varchar(100) DEFAULT NULL, `body`text, `created`datetime DEFAULT NULL, `modified`datetime DEFAULT NULL, PRIMARY KEY ( `id`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8 AUTO_INCREMENT=6;

--

## -- 为表转储数据`posts`

INSERT INTO `posts`( `id`, `title`, `body`, `created`, `modified`) VALUES (1, '另一天还在寻找', '我的狮子跑了', '2013-04-02 08:20:20', '2013-04-03 12:43:49 '), (2, '美好的一天', '狮子回来了。', '2013-04-02 08:20:44', '2013-04-02 08:20:44'), (3, 'Thank GOD', '一切都属于我父亲', '2013-04-02 08:21:03', '2013-04-02 08:21:03'), (4, '在海边', '我们去了海边，然后开始下雨了！', '2013-04-02 08:21:35', '2013-04-03 19:28:48'), (5, '无聊posts', '事件日记不感兴趣', '2013-04-02 08:21:55', '2013-04-03 19:35:25');

* * *

应用程序\控制器\posts.php

```
function search()
{
    $data['title'] = "Blogging";
    $data['heading'] = "Bloging";

    $this->load->view('view_search', $data);
} 
```

应用程序\视图\view_search.php

```
 <?php echo form_fieldset('<b>Search a Post!</b>');?>

    <?php echo form_open('posts/execute_search'); ?>
    <table width="100%" border="0" align="center" cellpadding="0" cellspacing="5" style="border:dashed"  bgcolor="#FFCC99">
        <tr>
            <td align="right">
                <?php echo form_label('Search: enter keyword, title, content '); ?>
            </td>
            <td>
                 <?php  echo form_input(array('name'=>'search')); ?>
            </td>
        </tr>
        <tr>
            <td align="right" valign="top"><?php echo nbs(1); ?></td>
            <td valign="top" class="style1"><?php echo form_submit('search_submit','Submit'); ?></td>
        </tr>

    </table>
    <?php echo form_close(); ?>
    <?php echo form_fieldset_close(); ?> 
```

应用程序\控制器\posts.php

```
public function execute_search($search_term)
{
    $data['title'] = "Blogging";
    $data['heading'] = "Bloging";

    $search_term = $_POST['search'];

    $rs = $this->db->like('title', trim($search_term))
            ->or_like('body', trim($search_term))
            ->get('posts');
    $total = $rs->num_rows();

    $data['results'] = $rs->result();

    $this->load->view("view_index", $data); 
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-05T04:59:39.590

要使用分页..您需要使用codeigniter的分页类库...加载库

```
 $this->load->library('pagination'); 
```

并在您的控制器中调用函数

```
 $config['base_url'] = 'http://example.com/index.php/test/page/';
 $config['total_rows'] = 200;
 $config['per_page'] = 20; 

 $this->pagination->initialize($config); 
```

并在您希望分页保留的位置打印 create_lnks...（查看）..

```
 echo $this->pagination->create_links(); 
```

您可以在[此处](http://ellislab.com/codeigniter/user-guide/libraries/pagination.html)浏览文档...以阅读有关分页类的更多信息...以及有关自定义的信息

# java - Java GUI - 移动没有“足迹”的圆圈

> ID：15826112
> 
> 赞同：0
> 
> 时间：2013-04-05T04:49:57.393
> 
> 标签：java, events, user-interface

当我运行程序并移动圆圈时，看起来好像我正在用画笔在油漆中绘画。我不太确定我做了什么来做到这一点，或者我能做些什么来让它停止。高度赞赏所有帮助。

这是我的代码：

```
import java.awt.Graphics;
import java.awt.event.ActionListener;
import java.awt.event.ActionEvent;
import java.awt.event.KeyEvent;

import javax.swing.JFrame;
import javax.swing.Timer;
import javax.swing.JPanel;
import java.awt.event.KeyListener;

public class MovingCar extends JPanel implements ActionListener, KeyListener {

    Timer tm = new Timer(5, this);
    int x = 0, y = 0, velX = 0, velY = 0;

    public MovingCar()
    {
        tm.start();
        addKeyListener(this);
        setFocusable(true);
        setFocusTraversalKeysEnabled(false);
    }
    protected void paintComponent (Graphics g) {
        super.paintComponents(g);
        g.drawOval(x, y, 50, 50);
    }

    public void actionPerformed(ActionEvent e){
        x = x + velX;
        y = y + velY;
        repaint();
    }

    public void keyPressed(KeyEvent e){
        int c = e.getKeyCode();

        if (c == KeyEvent.VK_DOWN)      {
            velX = -1;
            velY = 0;
        }

        if (c == KeyEvent.VK_UP)
        {
            velX = 1;
            velY = 0;
        }

    }   
    public void keyTyped(KeyEvent e){}
    public void keyReleased(KeyEvent e){

        if (x < 0)
        {
            velX = 0;
            x = 0;
        }

        if (x > 600)
        {
            velX = 0;
            x = 0;
        }

        repaint();  
        velY = 0;
        velX = 0;

    }

    public static void main(String[] args) {
        MovingCar o = new MovingCar();
        JFrame jf = new JFrame();
        jf.setTitle("Circle Move");
        jf.setSize(600,400);
        jf.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        jf.add(o);
        jf.setVisible(true);
    }

} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-05T04:53:22.553

你打电话`super.paintComponents(g);`而不是`super.paintComponent(g);`

# android - 在 sherlockfragment 中第一次没有点击选项菜单

> ID：15826113
> 
> 赞同：0
> 
> 时间：2013-04-05T04:50:04.233
> 
> 标签：android, android-fragments, fragment, optionmenu

我在我的片段中使用了选项菜单。问题是当我第一次去片段时，选项菜单点击事件没有被调用。但是当我去另一个片段时，再次修改那个片段然后选项菜单点击事件是称为...以下是代码

```
 //Creating the option menu
    @Override
    public void onCreateOptionsMenu(Menu menu, MenuInflater inflater) 
    {
        super.onCreateOptionsMenu(menu, inflater);
        inflater.inflate(R.menu.newcarmenu, menu);

    }

@Override
 public boolean onOptionsItemSelected(MenuItem item)
{        
    //super.onOptionsItemSelected(item);             

  switch(item.getItemId())
   { 
     case R.id.menuNewCar:
         _menuClickCallback.onMenuSelected();
         break;
   }
   return super.onOptionsItemSelected(item);
 } 
```

请告诉我为什么会这样？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-30T22:14:15.620

现在，你`super.onOptionsItemSelected(item)`每次都回来，所以选择正在传递。`return true`当您`MenuItem`被选中时，您需要这样做。试试这个：

```
switch(item.getItemId())
{ 
  case R.id.menuNewCar:
    _menuClickCallback.onMenuSelected();
    return true;
  default:
    return super.onOptionsItemSelected(item);
} 
```

# xml - 使用 datanucleus 时如何避免增强？

> ID：15826115
> 
> 赞同：0
> 
> 时间：2013-04-05T04:50:12.493
> 
> 标签：xml, mapping, jdo, datanucleus

我正在尝试使用 xml 映射使用 Datanucleus 实现 JDO。我正在避免注释，因为它需要增强。有没有办法可以避免这个增强步骤并且仍然使用 Datanucleus？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T06:05:56.097

不知道你在读什么。[DataNucleus 要求您以字节码增强您的类句号](http://www.datanucleus.org/products/accessplatform_3_2/jdo/enhancer.html#enhancement)。并不是注解需要增强，XML 也不需要……这是完全错误的。这是一个微不足道的编译后步骤。如今，增强在 Java 中很常见，被 Spring、EclipseLink、OpenJPA、Guice 和许多其他知名软件包使用。哎呀，甚至 Hibernate 也提供了它（那是在 10 年前他们将其标记为“邪恶”之后，呵呵）

# jquery - SyntaxError：意外的 POST_IF 错误 Rails

> ID：15826116
> 
> 赞同：5
> 
> 时间：2013-04-05T04:50:15.617
> 
> 标签：jquery, ruby-on-rails

我正在`app/assets/javascripts/ticket.js.coffee`为特定视图运行 jQuery。每次我访问该页面时，浏览器都会呈现此错误 - 在线任何地方都没有提及此错误。

**（本地主机：3000/Tickets/new）**：

```
SyntaxError: unexpected POST_IF

Extracted source (around line #6):

3: <head>
4:   <title>Ops2</title>
5:   <%= stylesheet_link_tag    "application", :media => "all" %>
6:   <%= javascript_include_tag "application" %>
7:   <%= csrf_meta_tags %>
8: </head>
9: <body> 
```

抛出错误的页面文件 -

**app/views/tickets/_form.html.erb**：

```
<%= form_for(@ticket) do |f| %>
<% if @ticket.errors.any? %>
<div id="error_explanation">
<h2><%= pluralize(@ticket.errors.count, "error") %> prohibited this ticket from being saved:</h2>
<ul>
<% @ticket.errors.full_messages.each do |msg| %>
<li><%= msg %></li>
<% end %>
</ul>
</div>
<% end %>

<div class="field">
<%= f.label :school_id %><br />
<%= f.collection_select :school_id, School.order(:name), :id, :name, include_blank: true%>
</div>

<div class="field">
<%= f.label :location_id %><br />
<%= f.grouped_collection_select :location_id, School.order(:name), :locations, :name, :id, :name, include_blank: true%>
</div>

<div class="actions">
<%= f.submit %>
</div>
<% end %> 
```

**app/assets/javascripts/application.js**包含：

```
//= require jquery
//= require jquery_ujs
//= require_tree . 
```

带有 jQ​​uery 的 Coffeescript 文件 -

**应用程序/资产/javascripts/tickets.js.coffee**：

```
$ ->
$('#ticket_location_id').parent().hide()
  locations = $('#ticket_location_id').html()
$('#ticket_school_id').change ->
  school = $('#ticket_school_id :selected').text()
  options = $(locations).filter("optgroup[label='#{school}']").html()
if options
$('#ticket_location_id').html(options)
$('#ticket_location_id').parent().show()
else
$('#ticket_location_id').empty
$('#ticket_location_id').parent().hide() 
```

POST_IF 错误已通过缩进`if / else`我的咖啡脚本中的语句得到解决！（有关详细信息，请参阅下面的答案）没有错误并且页面加载！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-05T15:42:38.100

您的`if`陈述缺少缩进。缩进在 CoffeeScript中*至关重要。*

这...

```
if options
$('#ticket_location_id').html(options)
$('#ticket_location_id').parent().show()
else
$('#ticket_location_id').empty
$('#ticket_location_id').parent().hide() 
```

...**需要**这样，前导缩进不是可选的：

```
if options
  $('#ticket_location_id').html(options)
  $('#ticket_location_id').parent().show()
else
  $('#ticket_location_id').empty
  $('#ticket_location_id').parent().hide() 
```

# iphone - 是否可以在两个不同的视图中更改 uitableview 的样式？

> ID：15826120
> 
> 赞同：0
> 
> 时间：2013-04-05T04:50:42.950
> 
> 标签：iphone, ios, ios4, iphone-sdk-3.0

我有一个表，我还声明了它的样式作为分组表样式在视图中确实加载了，但我也有一个单击按钮，我想更改同一个表的样式。

最初我在视图中设置了这个加载方法：

```
tableObj= [[UITableView alloc]initWithFrame:CGRectMake(5,50,310,300)style:UITableViewStyleGrouped]; 
```

但是在按钮单击事件上，我正在设置 tableview 框架和样式，请参见下面的代码

```
tableObj.frame=CGRectMake(5,50,310,300);

tableObj style=UITableViewStylePlain; 
```

但它给出了一个错误.....分配给只读属性？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T05:30:06.320

根据文档，UITableView 的`style`属性是这样声明的：

```
@property(nonatomic, readonly) UITableViewStyle style 
```

该`readonly`关键字意味着您可以获取属性的值，但不能设置它。您只能在使用创建表格时设置样式`-initWithFrame:style:`。这与您收到的错误消息一致：

> 分配给只读属性

简单地说，你不能那样做。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T05:02:28.253

可以动态更改表格视图的框架，但不能更改其样式

> 在初始化表格视图时设置表格样式（请参阅 initWithFrame:style:）。此后您无法修改样式。

[UITableView 类参考](http://developer.apple.com/library/ios/#documentation/UIKit/Reference/UITableView_Class/Reference/Reference.html#//apple_ref/occ/cl/UITableView)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-05T04:57:08.780

```
tblView.style; 
```

它是一个只读属性，您不能设置任何值，而只能读取已设置的值。您可以检查该属性是否可更改，或者不通过如下编写代码

```
[tblView setStyle:]; 
```

但是你会发现不能那样做，所以不能设置。

最好你得到 2 个表视图，或者，用不同的样式重新初始化你现有的表视图。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-05T04:57:16.790

您不能像那样更改表格视图样式。我的建议是使用两张桌子或做类似的事情。

最初是这样的：

```
tableObj= [[UITableView alloc]initWithFrame:CGRectMake(5,50,310,300)style:UITableViewStyleGrouped]; 
```

然后，当您要更改时，请执行以下操作：

```
[tableObj removeFromSuperView];
tableObj=nil;]
//if not using ARC
[tableObj release];
tableObj= [[UITableView alloc]initWithFrame:CGRectMake(5,50,310,300)style:UITableViewStylePlain];
[self.view addSubview:tableObj]; 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-05T04:59:51.883

根据[UITableView Class Reference](http://developer.apple.com/library/ios/#documentation/UIKit/Reference/UITableView_Class/Reference/Reference.html#//apple_ref/occ/cl/UITableView)`style`，您不能更改`UITableView`

> 创建 UITableView 实例时，必须指定表格样式，并且该样式不能更改。

* * *

## 回答 #6

> 赞同：-2
> 
> 时间：2013-04-05T05:02:33.560

看到这个。

[你可以在创建 UITableView 后以编程方式更改它的样式吗？](https://stackoverflow.com/questions/5910251/can-you-programmatically-change-the-style-of-a-uitableview-after-its-been-creat)

不，这是不可能的，请参阅苹果文档中写的：-

# c# - CSLA.NET 是适用于多个数据库的正确解决方案吗？

> ID：15826128
> 
> 赞同：1
> 
> 时间：2013-04-05T04:51:26.527
> 
> 标签：c#, .net, csla

我有一个当前连接到数据库的应用程序。但我有一个计划将这个数据库中的数据切片到多个数据库。

例如，我在表 Test_Table_1 中有 10,000 条记录，现在它位于唯一的一个数据库中。现在，我想将该数据库中的 5,000 条记录移动到具有相同表名的新数据库中。因此，我将有 2 个数据库，原来的数据库将包含前 5,000 条记录，而新的数据中心将包含其余的（5,000 条记录）。

挑战在于应用程序。我需要通过从配置文件中读取配置值来更新它，以检查它将连接到哪个数据中心。

以下是我的问题：

1.  CSLA.NET 是解决这个问题的正确方法吗？
2.  CSLA.NET 上是否有允许我在其中一个数据中心死机时在数据中心之间切换的功能？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-09T16:24:58.357

CSLA 不是数据访问框架或 ORM，它是一个业务层框架。

它确实抽象了数据库的概念，使您的业务层可以使用来自多个数据库的数据。

与数据库的交互是您的数据访问层 (DAL) 的责任。CSLA 提供了一些高级功能，因此它以一致的方式调用您的 DAL，但实现 DAL 取决于您。

在构建包含来自多个数据库的数据的业务域对象时，一个重要的考虑因素是，如果用户保存对象的数据，则通常需要每个数据库表中的*键值*来执行任何数据库更新。因此，您应该期望将这些键值存储在您的业务对象中（可能作为私有属性）。对于时间戳等并发值也是如此。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T00:53:19.457

CSLA 不是数据访问框架。它提供了抽象数据访问实现的业务对象方法。但是您仍然必须使用 ADO .NET/某种 ORM/等来实现数据访问层。

我会研究 NHibernate 和 Shards 包。

[http://nhforge.org/](http://nhforge.org/)

[http://nuget.org/packages/NHibernate.Shards/](http://nuget.org/packages/NHibernate.Shards/)

# android - 如何使用 google Map Api2 以及应用程序中的其他片段

> ID：15826131
> 
> 赞同：0
> 
> 时间：2013-04-05T04:51:47.887
> 
> 标签：android, android-fragments, android-support-library, supportmapfragment, mapfragment

我正在尝试创建一个活动但有多个片段的应用程序。我正在使用 android.support.v4.* 来构建片段。到目前为止我通过扩展 Fragment 创建的每个项目，我想在我的应用程序中使用 google Map Api2，

到目前为止，我发现的所有教程都将“SupportMapFragment”作为元素添加到布局文件中。

```
"<fragment
    class="com.google.android.gms.maps.SupportMapFragment"
    android:layout_width="match_parent"
    android:layout_height="match_parent"/>" 
```

但我不能使用这种方式，因为嵌套片段不支持，我如何在我的应用程序中使用谷歌地图 api2 作为片段

按照评论中的建议使用地图视图

```
 public class InteractiveMapsWidget extends Fragment {
        private MapView mMapView;
        private GoogleMap mMap;

     public void onCreate(Bundle savedInstanceState) {
            super.onActivityCreated(savedInstanceState);
            Log.i(TAG, "ON CREATED");
            Activity activity = getActivity();
            if (activity != null) {
                Bundle bundle = getArguments();
    `
            }
        }

        @Override
        public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState)     {
            Log.i(TAG, "onCreateView");
            new DataWorkerAsyncTask(getActivity()).execute(widgetId);
            mMapView = (MapView) view.findViewById(R.id.map);
            mMapView.onCreate(savedInstanceState);
            setUpMapIfNeeded();

            return view;
        }

        @Override
        public void onResume() {
            super.onResume();
            mMapView.onResume();

            setUpMapIfNeeded();
        }

        private void setUpMapIfNeeded() {
            if (mMap == null) {
                mMap = ((MapView) view.findViewById(R.id.map)).getMap();
                if (mMap != null) {
                    setUpMap();
                }
            }
        }

        private void setUpMap() {
            mMap.addMarker(new MarkerOptions().position(new LatLng(0, 0)).title("Marker"));
        }

        @Override
        public void onPause() {
            mMapView.onPause();
            super.onPause();
        }

        @Override
        public void onDestroy() {
            mMapView.onDestroy();
            super.onDestroy();
        }

        @Override
        public void onLowMemory() {
            super.onLowMemory();
            mMapView.onLowMemory();
        }

        @Override
        public void onSaveInstanceState(Bundle outState) {
            super.onSaveInstanceState(outState);
        }
    } 
```

布局

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:map="http://schemas.android.com/apk/res-auto"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:orientation="vertical" >
  <LinearLayout
        android:id="@+id/root_container"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:orientation="vertical" >
        <com.google.android.gms.maps.MapView
            xmlns:android="http://schemas.android.com/apk/res/android"
            android:id="@+id/map"
            android:layout_width="match_parent"
            android:layout_height="match_parent" />
    </LinearLayout>

</LinearLayout> 
```

# clojure - 来自 Clojure 的 Compojure 示例在行动中不起作用

> ID：15826137
> 
> 赞同：0
> 
> 时间：2013-04-05T04:52:28.277
> 
> 标签：clojure, leiningen, compojure

我正在研究 Clojure in Action 第 232 页中的 Compojure 示例

```
(ns compojure-test.core
  (:gen-class)
  (:use compojure))

(defroutes hello
  (GET "/" (html [:h1 "Hello world"]))
  (ANY "*" [404 "Page not found"]))

(run-server {:port 8080} "/*" (servlet hello)) 
```

但是当我尝试运行它时：

```
$ lein run
Exception in thread "main" java.lang.ClassNotFoundException: compojure-test.core
at java.net.URLClassLoader$1.run(URLClassLoader.java:202)
at java.security.AccessController.doPrivileged(Native Method)
... 
```

看来该声明

```
(:use compojure) 
```

我还听说最近版本的 compojure 之间发生了重大变化。我在设置这个 compojure 应用程序时做错了什么？有没有很好的在线教程可以帮助我启动和运行？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-05T05:24:46.573

您可能想尝试将您的`use`声明更改为：

`(:use compojure.core)`

那应该这样做。

不久前，我为 compojure 创建了一个样板模板，其中有一个工作示例，您可以[在此处](https://github.com/leonardoborges/clj-boilerplate/blob/master/src/clj_boilerplate/core.clj)看到。

更好的是，如果您正在使用 Leiningen - 您应该使用 - 您可以像这样简单地创建一个新的 compojure 项目：

`$ lein new compojure hello-world`

查看 compojure 的[入门](https://github.com/weavejester/compojure/wiki/Getting-Started)了解更多信息。

# r - 在 R 中的新脚本中实现类

> ID：15826138
> 
> 赞同：2
> 
> 时间：2013-04-05T04:52:33.590
> 
> 标签：r, class

我一直在寻找多个来源，试图找出如何在 R 中正确实现类，但我还没有找到我正在寻找的答案。我学会了用java编写代码，所以我对面向对象程序的理解是通过使用编译语言，我可以在.java文档中创建一个类定义，然后在同一个包中的另一个.java文档中导入该类，然后我可以在其中创建对象并调用类方法。R有类似的协议吗？我试图弄清楚如何创建一个类对象并在与我在其中定义类的文件不同的 .R 文档中使用它的方法。

基本上，我正在构建一个脚本来将文件导入 R，然后进行大量数据操作以获得我想要的数据框。我创建了一个处理数据操作的类。此代码位于 ImportClass.R 文件中：

```
# Class definition for data importing
DataImport <- setRefClass("DataImport", fields = c("startDate"), where = Sys.getenv("dataImportClassEnv") # See the setEnvironment.R file for the value of dataImportClassEnv

# -----------------------------------------------------------------------------
# Example method
# -----------------------------------------------------------------------------
DataImport$methods(fileImport = function(FilePath)
    {
       Method code here
    }
) 
```

我还有一个脚本，在其中设置了我的环境变量。此代码的用户将在其本地计算机上拥有数据，但我不希望在类定义或调用类方法的脚本中对本地文件路径有任何引用。我的偏好是创建一个脚本，以一种可以在我的其他脚本中使用的方式设置文件路径。这就是 setEnvironment.R 的目的

```
# Sets environment variables
# Input below the location of the .R files on your local machine corresponding to this model. This variable is used to specify the 'location' attribute for the DataImport class.
Sys.setenv(dataImportClassEnv = "/Users/Nel/Documents/Project/Working Docs") 
```

最后，我有一个脚本，我想用它来实际构建我的数据框。该脚本需要从 DataImport 类创建一个对象，因此我需要 source() ImportClass.R 文件。ImportClass.R 也依赖于 setEnvironment.R 文件来运行，所以它也必须是有源的。这是我的脚本 dataScript.R 的大纲：

```
library(XML)
source("setEnvironment.R", local = TRUE)
source("ImportClass.R", local = TRUE)

# Create instance of DataImport class
importer <- DataImport$new(startDate = "2012-01-01")

# Go on to call methods on 'importer' 
```

问题是在这里调用源函数时出现以下错误。

```
Error in file(filename, "r", encoding = encoding) : 
  cannot open the connection
In addition: Warning message:
In file(filename, "r", encoding = encoding) :
  cannot open file 'setEnvironment.R': No such file or directory 
```

所有这些文件都保存在同一个位置，“/Users/Nel/Documents/Project/Working Docs”，我不希望在我的 dataScript.R 代码中使用该文件路径。有没有办法让这个工作？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T05:26:38.107

这是一个最小的示例，使用最简单的`S3`类型`class`，也许足以开始：

从创建`file1.R`和`source`ing 开始：

```
writeLines('
setClass("myClass")
f1 <- function(x) cat(rep(x,2))
setMethod("print", signature="myClass", definition = f1)
' 
,con="file1.R") 
### note use of alternating apostrophes ' then "
source("file1.R")

a2 <- c(4,5,6)
class(a2) <- "myClass"
print(a2) 
```

给出：

```
4 5 6 4 5 6> 
```

请注意，要`print`在`setMethod`,中使用`isGeneric("print") == TRUE`。

自定义方法见`?setGeneric`

# wpf - 如何使用 MVVM 应用程序在 WPF 中以编程方式设置 DataGrid 的选定项？

> ID：15826142
> 
> 赞同：8
> 
> 时间：2013-04-05T04:53:02.317
> 
> 标签：wpf, mvvm, datagrid, datatable

我已将 绑定`DataTable`到`DataGrid`控件。如何以**编程**方式设置所选项目？

> 例子

在我的`view model`我有一个 DataTable 类型的属性来绑定 DataGrid

```
 private DataTable sizeQuantityTable;

 public DataTable SizeQuantityTable
 {
        get
        {
            return sizeQuantityTable;
        }
        set
        {
            sizeQuantityTable = value;
            NotifyPropertyChanged("SizeQuantityTable");
        }
  } 
```

我的`XAML`

```
<DataGrid 
            ItemsSource="{Binding SizeQuantityTable}"
            AutoGenerateColumns="True" 
            Margin="0,0,0,120" /> 
```

视图模型的`constructor`（分配虚拟值）

```
this.SizeQuantityTable = new DataTable();

DataColumn sizeQuantityColumn = new DataColumn();
sizeQuantityColumn.ColumnName = "Size Quantity";
this.SizeQuantityTable.Columns.Add(sizeQuantityColumn);

DataColumn sColumn = new DataColumn();
sColumn.ColumnName = "S";
this.SizeQuantityTable.Columns.Add(sColumn);

DataColumn mColumn = new DataColumn();
mColumn.ColumnName = "M";
this.SizeQuantityTable.Columns.Add(mColumn);

DataRow row1 = this.SizeQuantityTable.NewRow();
row1[sizeQuantityColumn] = "Blue";
row1[sColumn] = "12";
row1[mColumn] = "15";
this.SizeQuantityTable.Rows.Add(row1);

DataRow row2 = this.SizeQuantityTable.NewRow();
row2[sizeQuantityColumn] = "Red";
row2[sColumn] = "18";
row2[mColumn] = "21";
this.SizeQuantityTable.Rows.Add(row2);

DataRow row3 = this.SizeQuantityTable.NewRow();
row3[sizeQuantityColumn] = "Green";
row3[sColumn] = "24";
row3[mColumn] = "27";
this.SizeQuantityTable.Rows.Add(row3); 
```

好的。我创建了三列`sizeQuantityColumn`，并添加了三行，即，`sColumn`和。`mColumn``row1``row2``row2`

所以，假设我想将选定的项目设置为`row2`（所以在视图中，第二行应该突出显示）。

我怎样才能做到这一点？

**编辑**

我`SelectedIndex`将 DataGrid 的硬编码为 1。（所以应该选择第二行）。在`design time`它显示为选中。但不是在运行时。您可以在下面的快照中看到它。

所以最终的问题是**没有突出显示**该行。

![在此处输入图像描述](https://i.stack.imgur.com/Foc0a.png)

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-04-05T05:54:27.660

有几种方法可以选择`DataGrid`. 这取决于哪一个最适合这种情况

首先也是最基本的是，`SelectedIndex`这将只选择该索引处的行`DataGrid`

```
 <DataGrid SelectedIndex="{Binding SelectedIndex}" />

private int _selectedIndex;
public int SelectedIndex
{
    get { return _selectedIndex; }
    set { _selectedIndex = value; NotifyPropertyChanged("SelectedIndex"); }
}

SelectedIndex = 2; 
```

`SelectedItem`将选择与您设置的行匹配的行

```
<DataGrid SelectedItem="{Binding SelectedRow}" />

private DataRow _selectedRow;
public DataRow SelectedRow
{
    get { return _selectedRow; }
    set { _selectedRow = value; NotifyPropertyChanged("SelectedRow");}
}

SelectedRow = items.First(x => x.whatever == something); 
```

最常见的是`SelectedValue`with `SelectedValuePath`set，在这种情况下，您可以设置要选择的列，然后可以通过设置相应的值来选择行

```
<DataGrid SelectedValuePath="Size Quantity" SelectedValue="{Binding SelectionValue}" 

private string _selectedValue
public string SelectionValue 
{
    get { return _selectedValue; }
    set { _selectedValue = value; NotifyPropertyChanged("SelectionValue"); }
}

SelectionValue = "Blue"; 
```

# 编辑：

这是我的测试，它突出显示就好了

代码：

```
public partial class MainWindow : Window, INotifyPropertyChanged
{
    public MainWindow()
    {
        InitializeComponent();

        this.SizeQuantityTable = new DataTable();
        DataColumn sizeQuantityColumn = new DataColumn();
        sizeQuantityColumn.ColumnName = "Size Quantity";
        ...................
        ........

    }

    private string _selectedValue;
    public string SelectionValue 
    {
        get { return _selectedValue; }
        set { _selectedValue = value; NotifyPropertyChanged("SelectionValue"); }
    }

    private int _selectedIndex;
    public int SelectedIndex
    {
        get { return _selectedIndex; }
        set { _selectedIndex = value; NotifyPropertyChanged("SelectedIndex"); }
    }

    private DataTable sizeQuantityTable;
    public DataTable SizeQuantityTable
    {
        get { return sizeQuantityTable; }
        set { sizeQuantityTable = value; NotifyPropertyChanged("SizeQuantityTable"); }
    }

    private void Button_Click_1(object sender, RoutedEventArgs e)
    {
        SelectedIndex = 2;
    }

    private void Button_Click_2(object sender, RoutedEventArgs e)
    {
        SelectionValue = "Blue";
    }

    private void NotifyPropertyChanged(string p)
    {
        if (PropertyChanged != null)
        {
            PropertyChanged(this, new PropertyChangedEventArgs(p));
        }
    }
} 
```

xml:

```
<Window x:Class="WpfApplication21.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="MainWindow" Height="202" Width="232" Name="UI">

    <Grid DataContext="{Binding ElementName=UI}">
        <DataGrid SelectedValuePath="Size Quantity"        
                  SelectedValue="{Binding SelectionValue}" 
                  SelectedIndex="{Binding SelectedIndex}"
                  ItemsSource="{Binding SizeQuantityTable}"
                  AutoGenerateColumns="True" 
                  Margin="0,0,0,41" />
        <StackPanel Orientation="Horizontal" Height="37" VerticalAlignment="Bottom" >
            <Button Content="SelectedIndex" Height="26"  Width="107" Click="Button_Click_1"/>
            <Button Content="SelectedValue" Height="26"  Width="107" Click="Button_Click_2"/>
        </StackPanel>
    </Grid>
</Window> 
```

结果：

![在此处输入图像描述](https://i.stack.imgur.com/SMXt7.png)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-05T05:48:29.423

您始终可以使用`SelectedItem`属性并将其绑定到行，如下所示：

```
SelectedItem="{Binding ActiveRow}" 
```

并在`ViewModel`做：

```
ActiveRow = secondRow; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-05T07:07:30.590

在 DataGrid 中添加 SelectedItem、SelectedValue。

```
<DataGrid 
        ItemsSource="{Binding SizeQuantityTable}"
        AutoGenerateColumns="True" 
        SelectedValue ="{Binding SelectedValue}"
        Margin="0,0,0,120" /> 
```

在你的视图模型中

```
private string _selectedValue;
public string SelectedValue
{
    get
    {
        return _selectedValue;
    }
    set
    {
        _selectedValue = value;
        NotifyPropertyChanged("SelectedValue");
    }
}

private DataTable sizeQuantityTable;
public DataTable SizeQuantityTable
{
    get
    {
        return sizeQuantityTable;
    }
    set
    {
        sizeQuantityTable = value;
        NotifyPropertyChanged("SizeQuantityTable");
    }
} 
```

您也可以使用 SelectedItem，这是首选。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2015-07-23T09:48:11.800

我只是有同样的问题。我看到在设计时正确选择了数据网格的项目，但在运行时没有。（顺便说一句，我在 xaml 中创建了视图模型的实例）。

我可以通过移动代码以编程方式将所选项目从视图模型构造函数设置为视图模型中的不同方法，然后在窗口（或用户控件）的加载事件中调用此方法来解决此问题。

显然，当调用视图模型构造函数时，视图本身并没有完全完成初始化。这可以通过不在视图模型构造函数中编码来避免。

查看（xaml）：

```
<Window x:Class="MyWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Test" 
        xmlns:viewModel="clr-namespace:ViewModels" Loaded="Window_Loaded">
    <Window.DataContext>
        <viewModel:ExampleViewModel/>
    </Window.DataContext> 
```

查看（后面的代码）：

```
 private void Window_Loaded(object sender, RoutedEventArgs e)
    {
        ((ExampleViewModel)this.DataContext).LoadData();
    } 
```

如果您不喜欢`Loaded`在后面的代码中设置事件，也可以在 xaml 中进行（需要对“Microsoft.Expression.Interactions”和“System.Windows.Interactivity”的引用）：

```
 <Window x:Class="MyWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Test" 
        xmlns:viewModel="clr-namespace:ViewModels">
    <Window.DataContext>
        <viewModel:ExampleViewModel/>
    </Window.DataContext>
    <i:Interaction.Triggers>
        <i:EventTrigger EventName="Loaded">
            <ei:CallMethodAction TargetObject="{Binding}" MethodName="LoadData"/>
        </i:EventTrigger>
    </i:Interaction.Triggers> 
```

在每种情况下，您都调用`LoadData`ViewModel 中的方法：

```
public class ExampleViewModel
{
    /// <summary>
    /// Constructor.
    /// </summary>
    public ExampleViewModel()
    {
        // Do NOT set selected item here
    }

    public void LoadData()
    {
        // Set selected item here
    } 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-10-29T08:04:39.843

对于使用 Observable Collections 的任何人，您可能会发现此解决方案很有用。

*SelectedModelIndex*属性只返回*ItemSource*集合中*SelectedModel*的索引。我发现设置*SelectedIndex*和*SelectedItem*会突出显示 DataGrid 中的行。

 ***```
 private ObservableCollection<Model> _itemSource
    public ObservableCollection<Model> ItemSource
    {
        get { return _itemSource; }
        set 
        { 
            _itemSource = value; 
            OnPropertyChanged("ItemSource"); 
        }
    }

    // Binding must be set to One-Way for read-only properties
    public int SelectedModelIndex
    {
        get 
        {
            if (ItemSource != null && ItemSource.Count > 0)
                return ItemSource.IndexOf(SelectedModel);
            else
                return -1;
        }            
    }

    private Model _selectedModel;
    public Model SelectedModel
    {
        get { return _selectedModel; }
        set 
        {
            _selectedModel = value;
            OnPropertyChanged("SelectedModel"); 
            OnPropertyChanged("SelectedModelIndex");               
        }                
    } 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2021-11-12T14:46:07.133

> xml:

```
<DataGrid  SelectionUnit="FullRow" >
</DataGrid> 
```

> 代码

```
SelectRowByIndex(yourDataGridViewName, 0);

public static void SelectRowByIndex(DataGrid dataGrid, int rowIndex)
        {
            if (!dataGrid.SelectionUnit.Equals(DataGridSelectionUnit.FullRow))
                throw new ArgumentException("The SelectionUnit of the DataGrid must be set to FullRow.");

            if (rowIndex < 0 || rowIndex > (dataGrid.Items.Count - 1))
                throw new ArgumentException(string.Format("{0} is an invalid row index.", rowIndex));

            dataGrid.SelectedItems.Clear();
            /* set the SelectedItem property */
            object item = dataGrid.Items[rowIndex]; // = Product X
            dataGrid.SelectedItem = item;

            DataGridRow row = dataGrid.ItemContainerGenerator.ContainerFromIndex(rowIndex) as DataGridRow;
            if (row == null)
            {
                /* bring the data item (Product object) into view
                 * in case it has been virtualized away */
                dataGrid.ScrollIntoView(item);
                row = dataGrid.ItemContainerGenerator.ContainerFromIndex(rowIndex) as DataGridRow;
            }
            //TODO: Retrieve and focus a DataGridCell object
            if (row != null)
            {
                DataGridCell cell = GetCell(dataGrid, row, 0);
                if (cell != null)
                    cell.Focus();
            }
        }

 public static DataGridCell GetCell(DataGrid dataGrid, DataGridRow rowContainer, int column)
    {
        if (rowContainer != null)
        {
            DataGridCellsPresenter presenter = FindVisualChild<DataGridCellsPresenter>(rowContainer);
            if (presenter == null)
            {
                /* if the row has been virtualized away, call its ApplyTemplate() method
                 * to build its visual tree in order for the DataGridCellsPresenter
                 * and the DataGridCells to be created */
                rowContainer.ApplyTemplate();
                presenter = FindVisualChild<DataGridCellsPresenter>(rowContainer);
            }
            if (presenter != null)
            {
                DataGridCell cell = presenter.ItemContainerGenerator.ContainerFromIndex(column) as DataGridCell;
                if (cell == null)
                {
                    /* bring the column into view
                     * in case it has been virtualized away */
                    dataGrid.ScrollIntoView(rowContainer, dataGrid.Columns[column]);
                    cell = presenter.ItemContainerGenerator.ContainerFromIndex(column) as DataGridCell;
                }
                return cell;
            }
        }
        return null;
    }
    public static childItem FindVisualChild<childItem>(DependencyObject obj)
where childItem : DependencyObject
    {
        foreach (childItem child in FindVisualChildren<childItem>(obj))
        {
            return child;
        }

        return null;
    }
    public static IEnumerable<T> FindVisualChildren<T>(DependencyObject depObj)
   where T : DependencyObject
    {
        if (depObj != null)
        {
            for (int i = 0; i < VisualTreeHelper.GetChildrenCount(depObj); i++)
            {
                DependencyObject child = VisualTreeHelper.GetChild(depObj, i);
                if (child != null && child is T)
                {
                    yield return (T)child;
                }

                foreach (T childOfChild in FindVisualChildren<T>(child))
                {
                    yield return childOfChild;
                }
            }
        }
    } 
```***

# ruby-on-rails - 让 sprockets-rails 像在 rails 3 中一样自动编译 vendor 和 lib 中的资产

> ID：15826145
> 
> 赞同：1
> 
> 时间：2013-04-05T04:53:12.137
> 
> 标签：ruby-on-rails, asset-pipeline, sprockets, ruby-on-rails-4

Sprockets-rails 已从 rails 中移出，现在是它自己的 gem，不再自动从 gems 各自的 vendor 和 lib 文件夹中的 gem 编译资产。这意味着您必须将 gems vendor 和 lib 文件夹中的每个文件添加到 application.js、application.css，或者对于图像/字体，将它们分别添加到 config.assets.precompile。

[https://github.com/rails/rails/pull/7968](https://github.com/rails/rails/pull/7968)

如何恢复默认行为并让它像在 rails 3 中那样工作？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-06T01:03:48.307

这在 application.rb 中对我有用

```
config.assets.precompile += %w(*.png *.jpg *.jpeg *.gif) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T04:56:02.383

在您的环境文件中放置以下内容以恢复旧的默认行为。

```
config.assets.precompile += [Proc.new { |path| !%w(.js .css).include?(File.extname(path)) }] 
```

这是直接从旧代码中提取的。

截至在当前版本的 sprockets-rails 设置 config.assets 中发布此内容的日期，任何内容都已损坏，gem 正在尝试在加载之前获取环境。但是，如果您自己修补它或使用 sprockets 和 sprockets-rails 的修补版本之一，这将起作用。

链轮导轨 [https://github.com/rails/sprockets-rails/pull/36](https://github.com/rails/sprockets-rails/pull/36)

链轮 [https://github.com/sstephenson/sprockets/pull/404](https://github.com/sstephenson/sprockets/pull/404)

# c# - 使用 ftpwebrequest 上传到 ftp 时图像损坏

> ID：15826149
> 
> 赞同：3
> 
> 时间：2013-04-05T04:53:33.550
> 
> 标签：c#, ftp

我使用此代码将图像上传到 ftp。但图像已损坏。我试图上传的图像是一个`Base64`字符串。我转换为流并将其传递给 UpLoadImage。

```
 public static void UpLoadImage(Stream image, string target)
   {
    FtpWebRequest req = (FtpWebRequest)WebRequest.Create("ftp://www.examp.com/images/" + target);
    req.UseBinary = true;
    req.Method = WebRequestMethods.Ftp.UploadFile;
    req.Credentials = new NetworkCredential("UserNm", "PassWd");
    StreamReader rdr = new StreamReader(image);
    byte[] fileData = Encoding.UTF8.GetBytes(rdr.ReadToEnd());
    rdr.Close();
    req.ContentLength = fileData.Length;
    Stream reqStream = req.GetRequestStream();
    reqStream.Write(fileData, 0, fileData.Length);
    reqStream.Close();
} 
```

代替：

> StreamReader rdr = new StreamReader(image); byte[] fileData = Encoding.UTF8.GetBytes(rdr.ReadToEnd()); rdr.Close();

如果我使用 `byte[] fileData = File.ReadAllBytes(image);` 它会给我一个错误，文件名超过 260 个字符。

请有人帮忙解决这个问题..

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-09-30T10:00:29.460

喜欢评论说使用

```
byte[] fileData = File.ReadAllBytes(filePath); 
```

对于所有不是文本文件的文件。

像那样：

```
private void FTPUPLOAD(string imgPath)
        {
            FTPDelete(img);
            // Get the object used to communicate with the server.
            FtpWebRequest request = (FtpWebRequest)WebRequest.Create(BaseUrl +Path.GetFileName(imgPath));
            request.Method = WebRequestMethods.Ftp.UploadFile;

            // This example assumes the FTP site uses anonymous logon.
            request.Credentials = new NetworkCredential(Account, Password);

            // Copy the contents of the file to the request stream.
             //THIS IS THE CODE
            byte[] fileContents = File.ReadAllBytes(imgPath);

 Stream requestStream = request.GetRequestStream();
            requestStream.Write(fileContents, 0, fileContents.Length);
            requestStream.Close();

            FtpWebResponse response = (FtpWebResponse)request.GetResponse();

            response.Close();
        } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-05T05:04:10.900

您应该使用 Stream 来读取二进制文件，而不是 StreamReader。StreamReader 旨在仅读取文本文件。

以及关于错误[最大路径长度限制](http://msdn.microsoft.com/en-us/library/windows/desktop/aa365247%28v=vs.85%29.aspx)

> 最大路径长度限制 在 Windows API（以下段落中讨论的一些例外情况）中，路径的最大长度为 MAX_PATH，定义为 260 个字符。本地路径按以下顺序构造：驱动器号、冒号、反斜杠、由反斜杠分隔的名称组件和终止空字符。例如，驱动器 D 上的最大路径是“D:\some 256-character path string”，其中“”表示当前系统代码页的不可见终止空字符。（字符 < > 在此处用于视觉清晰，不能作为有效路径字符串的一部分。）

路径限制：http: [//msdn.microsoft.com/en-us/library/system.io.pathtoolongexception.aspx](http://msdn.microsoft.com/en-us/library/system.io.pathtoolongexception.aspx)

**已编辑**

我写了一个简单的：将图像转换为b64并返回

```
//Convert image to b64
            string path = @"E:\Documents and Settings\Ali\Desktop\original.png";
            Image img = Image.FromFile(path);
            byte[] arr;
            using (MemoryStream ms = new MemoryStream())
            {
                img.Save(ms, ImageFormat.Jpeg);
                arr = ms.ToArray();
            }
            String b64 = Convert.ToBase64String(arr);//result:/9j/4AAQSkZJRgABAQEA...
            //Get image bytes
            byte[] originalimage= Convert.FromBase64String(b64); 
```

将 b64 发送到您的函数并将其转换回来`byte[] originalimage= Convert.FromBase64String(b64);`

# python - 在python中将行添加到现有的csv文件

> ID：15826152
> 
> 赞同：2
> 
> 时间：2013-04-05T04:53:59.830
> 
> 标签：python, csv, append

我想使用一个函数将一行信息添加到现有的 csv 文件中。

`friend_info`将是一个元组，包括`[name, address, phone, DOB]`

我有这个代码

```
def add_friend(friend_info, friends_list):
    with open(friends_list, 'a') as fapp:
        writer = csv.writer(fapp)
        writer.writerow(friend_info) 
```

出于某种原因，此代码添加到 csv 的最后一行（我希望它从新行开始）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-06-10T02:14:15.267

我不认为 CSV 写入器对象足够聪明，无法知道它正在附加到现有的 CSV 数据上。您只是给它一个文件对象并告诉它将新的 CSV 数据放入该文件，因此它只是开始在可以写入的地方写入。要开始新行，您需要先读取现有数据，附加新行，然后将其写回。

# php - PHP 添加到提交时的查询字符串

> ID：15826153
> 
> 赞同：0
> 
> 时间：2013-04-05T04:54:03.520
> 
> 标签：php, forms, query-string

我有一个文本字段和一个提交按钮，当我单击要添加到查询字符串的提交按钮时。

例子

[http://www.fakewebsite.com/?name=mike](http://www.fakewebsite.com/?name=mike)

但我的名字显示为空白

这是我的代码

```
<?php

if($_POST){

    echo $_POST['name'];

}else{ ?>

    <form action="http://www.fakewebsite.com/test.php?name=<?php $_SERVER['name']; ?>" method="post">
    <label for="name">Name</label><input type="text" name="name" id="name" />
    <input type="submit" name="submit" id="submit" />
    </form>

<?php } ?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T05:02:26.670

`POST`请求与请求`GET`的不同之处在于它们如何将数据发送到服务器。

使用 get 将数据元素附加到 url（就像您尝试过的那样）。

使用 post 数据元素位于 http 请求的正文中。

这是问题 1：您试图将参数作为 get 参数传递。这可以工作，但不能保证。

另一件事是，您有一个具有相同名称的输入字段`name`。因此，即使第一件事可行，输入字段也会覆盖该数据。

你能做些什么来解决这个问题？您可以添加一个具有不同名称的隐藏输入字段，以将此输入发送回您的服务器：

```
<form action="foo.php" method="post">
  <input type="hidden" name="other_name" value="<?= $_SERVER['name'] ?>" />
  <input type="text" name="name" value="" />
  <input type="submit" />
</form> 
```

并且还要控制名称冲突。

编辑：

刚刚出现的第三个问题`<? $_SERVER['name'] ?>`没有输出`$_SERVER['name']`.

你应该使用的

```
<?php echo $_SERVER['name'] ?>

// or, works sometimes

<?= $_SERVER['name'] ?> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T05:01:13.527

替代解决方案

```
<?php

if(!empty($_POST)){   

    echo $_POST['name'];  

}else{ ?>

    <form action="http://www.fakewebsite.com/test.php" method="post">
    <label for="name">Name</label><input type="text" value="<?=$_SERVER['name']; ?>" name="name" id="name" />
    <input type="submit" name="submit" id="submit" />
    </form>

<?php } ?> 
```

# c - ALSA snd_pcm_drop() 没有清除完整的缓冲区

> ID：15826155
> 
> 赞同：9
> 
> 时间：2013-04-05T04:54:08.473
> 
> 标签：c, linux, alsa

我正在使用 ALSA API`snd_pcm_drop()`来清除缓冲区。但是当我稍后使用 继续音频时`snd_pcm_prepare()`，我可以听到之前应该清除的部分音频。当我的值很高时会发生这种情况`snd_pcm_sw_params_set_stop_threshold()`。如果我使用较低的值，则不会播放上一个音频会话的部分音频。

这里发生了什么？如何完全清除缓冲区？

（我是 ALSA 的新手）

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2019-03-29T15:04:13.420

我以这种方式解决了同样的问题：

```
snd_pcm_prepare(pcm_handle);
snd_pcm_drop(pcm_handle); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-06-10T06:34:12.670

“可以听到之前应该被清除的部分音频。” 因为 ALSA 缓冲区中还有一些音频数据，数据不够大，无法播放。将音频包放入 ALSA 缓冲区可以解决问题。

# php - 如何在加载ajax内容和javascript时加载gif图像

> ID：15826158
> 
> 赞同：2
> 
> 时间：2013-04-05T04:54:29.117
> 
> 标签：php, javascript, html, css, ajax

我一直在尝试加载 gif 图像，直到 ajax 加载数据并显示它。但我对此感到安慰。

我希望你能帮助我。这是我的高级搜索代码。

现在我想为此添加加载 gif。

```
$.ajax({
    type: 'POST',
    url: base_rul+'site/advancedsearch',
    data: {
        keyValues: keyValues
    },
    dataType: 'json',
    success: function(data) 
    {

        var content = ['']; 
        if(data.status=='1')
        {

            //for(var k=1;k<=2;k++){

          //for chapter1 starts
          if( data.item.chapter[1] && data.item.chapter[1].length>=1){
               for(i=0;i<data.item.chapter[1].length;i++){
                  var obj = data.item.chapter[1][i];
                  //alert(data.item.chapter[1][0].chapter_row);
                    if(data.item.chapter[1][i].chapter_row==0){
                       content.push('<h3>Chapter 18 New Health Care Occupancy</h3>');
                     }

                    content.push('<ul><li><div>');
                    content.push('<p>'+obj.section_number +' '+ obj.title+'</p>');
                    content.push('</div></li></ul>');

                }//end for each loop
            }//end if
            //for chapter1 ends

         //for chapter2 starts
          if( data.item.chapter[2] && data.item.chapter[2].length>=1){
               for(i=0;i<data.item.chapter[2].length;i++){
                  var obj = data.item.chapter[2][i];
                  //alert(data.item.chapter[1][0].chapter_row);
                    if(data.item.chapter[2][i].chapter_row==0){
                       content.push('<h3>Chapter 19 Existing Health Care Occupancy</h3>');
                     }

                    content.push('<ul><li><div>');
                    content.push('<p>'+obj.section_number +' '+ obj.title+'</p>');
                    content.push('</div></li></ul>');

                }//end for each loop
            }//end if
            //for chapter2 ends

            //for chapter3 starts
            if( data.item.chapter[3] && data.item.chapter[3].length>=1){
                for(i=0;i<data.item.chapter[3].length;i++){
                    var obj = data.item.chapter[3][i];

                    if(data.item.chapter[3][i].chapter_row==0){
                       content.push('<h3>Chapter 20 New Ambulatory Health Care Occupancy</h3>');
                     }

                    content.push('<ul><li><div>');
                    content.push('<p>'+obj.section_number +' '+ obj.title+'</p>');
                    content.push('</div></li></ul>');

                }//end for each loop
            }//end if
            //for chapter3 ends

            //for chapter4 starts
            if( data.item.chapter[4] && data.item.chapter[4].length>=1){
                for(i=0;i<data.item.chapter[4].length;i++){
                    var obj = data.item.chapter[4][i];

                    if(data.item.chapter[4][i].chapter_row==0){
                       content.push('<h3>Chapter 21 Existing Ambulatory Health Care Occupancy</h3>');
                     }

                    content.push('<ul><li><div>');
                    content.push('<p>'+obj.section_number +' '+ obj.title+'</p>');
                    content.push('</div></li></ul>');

                }//end for each loop
            }//end if
            //for chapter4 ends

            //for chapter5 starts
            if( data.item.chapter[5] && data.item.chapter[5].length>=1){
                for(i=0;i<data.item.chapter[5].length;i++){
                    var obj = data.item.chapter[5][i];

                    if(data.item.chapter[5][i].chapter_row==0){
                       content.push('<h3>Chapter 32 New Residential Board and Care</h3>');
                     }

                    content.push('<ul><li><div>');
                    content.push('<p>'+obj.section_number +' '+ obj.title+'</p>');
                    content.push('</div></li></ul>');

                }//end for each loop
            }//end if
            //for chapter5 ends

            //for chapter6 starts
            if( data.item.chapter[6] && data.item.chapter[6].length>=1){
                for(i=0;i<data.item.chapter[6].length;i++){
                    var obj = data.item.chapter[6][i];

                    if(data.item.chapter[6][i].chapter_row==0){
                       content.push('<h3>Chapter 33 Existing Residential Board and Care</h3>');
                     }

                    content.push('<ul><li><div>');
                    content.push('<p>'+obj.section_number +' '+ obj.title+'</p>');
                    content.push('</div></li></ul>');

                }//end for each loop
            }//end if
            //for chapter6 ends

            //for chapter7 starts
            if( data.item.chapter[7] && data.item.chapter[7].length>=1){
                for(i=0;i<data.item.chapter[7].length;i++){
                    var obj = data.item.chapter[7][i];

                    if(data.item.chapter[7][i].chapter_row==0){
                       content.push('<h3>Chapter 18 New Health Care Occupancies</h3>');
                     }

                    content.push('<ul><li><div>');
                    content.push('<p>'+obj.section_number +' '+ obj.title+'</p>');
                    content.push('</div></li></ul>');

                }//end for each loop
            }//end if
            //for chapter7 ends

            //for chapter8 starts
            if( data.item.chapter[8] && data.item.chapter[8].length>=1){
                for(i=0;i<data.item.chapter[8].length;i++){
                    var obj = data.item.chapter[8][i];

                    if(data.item.chapter[8][i].chapter_row==0){
                       content.push('<h3>Chapter 19 Existing Health Care Occupancies</h3>');
                     }
                    content.push('<ul><li><div>');
                    content.push('<p>'+obj.section_number +' '+ obj.title+'</p>');
                    content.push('</div></li></ul>');

                }//end for each loop
            }//end if
            //for chapter8 ends

            //for chapter9 starts
            if( data.item.chapter[9] && data.item.chapter[9].length>=1){
                for(i=0;i<data.item.chapter[9].length;i++){
                    var obj = data.item.chapter[9][i];

                    if(data.item.chapter[9][i].chapter_row==0){
                       content.push('<h3>Chapter 20 New Amulatory Health Care Occupancies</h3>');
                     }

                    content.push('<ul><li><div>');
                    content.push('<p>'+obj.section_number +' '+ obj.title+'</p>');
                    content.push('</div></li></ul>');

                }//end for each loop
            }//end if
            //for chapter9 ends

            //for chapter10 starts
            if( data.item.chapter[10] && data.item.chapter[10].length>=1){
                for(i=0;i<data.item.chapter[10].length;i++){
                    var obj = data.item.chapter[10][i];

                    if(data.item.chapter[10][i].chapter_row==0){
                       content.push('<h3>Chapter 21 Existing Amulatory Health Care Occupancies</h3>');
                     }

                    content.push('<ul><li><div>');
                    content.push('<p>'+obj.section_number +' '+ obj.title+'</p>');
                    content.push('</div></li></ul>');

                }//end for each loop
            }//end if
            //for chapter10 ends

            //for chapter11 starts
            if( data.item.chapter[11] && data.item.chapter[11].length>=1){
                for(i=0;i<data.item.chapter[11].length;i++){
                    var obj = data.item.chapter[11][i];

                    if(data.item.chapter[11][i].chapter_row==0){
                       content.push('<h3>Chapter 32 New Residential board</h3>');
                     }

                    content.push('<ul><li><div>');
                    content.push('<p>'+obj.section_number +' '+ obj.title+'</p>');
                    content.push('</div></li></ul>');

                }//end for each loop
            }//end if
            //for chapter11 ends

            //for chapter12 starts
            if( data.item.chapter[12] && data.item.chapter[12].length>=1){
                for(i=0;i<data.item.chapter[12].length;i++){
                    var obj = data.item.chapter[12][i];

                    if(data.item.chapter[12][i].chapter_row==0){
                       content.push('<h3>Chapter 33 Existing Residential board</h3>');
                     }

                    content.push('<ul><li><div>');
                    content.push('<p>'+obj.section_number +' '+ obj.title+'</p>');
                    content.push('</div></li></ul>');

                }//end for each loop
            }//end if
            //for chapter12 ends

            //}//end k loop

        }//if condition ends
        else
        {
            content.push('<ul><li><div>');

            content.push('<p>No records found.</p>');

            content.push('</div></li></ul>');
        }
        $('#advanced_search_display').html(content.join(''));
      $('#filter').css("display","none")  ;
      $('#active_filters').css("display","none");  
    }

}); 

}//end function 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-05T05:01:55.023

jQuery 的 ajax 有一个叫做 beforeSend 的方法，好好利用它！

例子：

```
$.ajax({
    url: someurl.php,
    data: data,
    beforeSend: function() { $('#image_id').show(); },
    success: function() {
        $('#image_id').hide();
        // ...
    }
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T05:00:01.033

您可以将图像添加到加载页面。当 ajax 加载时，它会自动覆盖图像并显示 ajax 输出。

```
<script>
   var DisplayIMge = document.getElementById("ajaxdiv");
    DisplayIMge.innerHTML = "<img src='cdn/images/ajax-loader.gif' /><h3>Please wait while we load</h3>"
</script> 
```

希望这对你有用！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-05T05:00:01.247

一种方法是：

就在之前`$.ajax({ });`

**写：** `$("#showImage").html("<img src="url"/>");`

在：

```
$.ajax({
    type: 'POST',
    url: base_rul+'site/advancedsearch',
    data: {
        keyValues: keyValues
    },
    dataType: 'json',
    success: function(data) 
    {
         //here add $("#showImage").html("");
         // your content here
    }
}); 
```

在内容加载之前，添加了一张图片，成功后调用清除了该图片。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-05T05:15:02.370

您可以像这样更正您的代码（如@icktoofay 所说）：

```
var aTitles = [
        'Chapter 18 New Health Care Occupancy',
        'Chapter 19 Existing Health Care Occupancy',
        ...
    ];

var outSomeResults = function(content, data, id) {
       for(var i=0; i < data.length; i++){
          var obj = data[i];
          if( obj.chapter_row == 0 ) {
             content.push('<h3>'+aTitles[id]+'</h3>');
          }

          content.push(
              '<ul><li>' +
              '<div><p>'+obj.section_number +' '+ obj.title+'</p></div>' +
              '</li></ul>'
          );
       }
}

....
success: function(data) {

    var content = ['']; 
    if(data.status=='1') {
        for(var i=0; i<data.item.chapter.length; i++ ) {
            if( data.item.chapter[i+1] && data.item.chapter[i+1].length>=1 ) {
                outSomeResults(content, data.item.chapter[i+1], i);
            }
        }
    } 
```

# c# - 水晶报表中不必要的文本换行

> ID：15826159
> 
> 赞同：1
> 
> 时间：2013-04-05T04:54:30.347
> 
> 标签：c#, .net, visual-studio-2012, crystal-reports

我在使用 vs 2012 中的水晶报表时遇到了一个非常奇怪的问题。我正在使用公式字段来创建一个字符串并在我的报表中显示该字段。

但问题是，在执行此报告时，该字段中的文本会在当前行结束之前自动换行。

我完全不知道我做错了什么。

请参阅随附的快照。“1”行中的文本在行尾之前换行。

我在公式字段中使用的代码：

```
'आपको उकत आवस जरिये लॉटरी/दिनांक '+CStr({LottaryAllotment_Detail.AllotmentDate},"dd MM yyyy")+' को रुपये '+CStr({Master_Lottary.TotalAmount})+' मे आंवटन किया गया है।'+' '+ 'आप द्धारा आवास गृह की अमानत व पूर्व ग्रहण राशी रु '+ cstr({Master_Lottary.EarnestMoney})+' जमा करा दी है एवं शेष राशी किश्तो में जमा करने बाबत  मांग पत्र मांग पत्र जारी किया जा चुका है।' 
```

![行内文字](https://i.stack.imgur.com/l9kSN.jpg)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-06-29T19:36:59.760

I think this problem has to do with the character encoding since you use Hindi language. Try to set the font to Arial Unicode MS this will solve it.

# android - 如何将图像的缩放级别重置为原始级别？

> ID：15826161
> 
> 赞同：0
> 
> 时间：2013-04-05T04:54:37.823
> 
> 标签：android, image, zooming

我需要将图像的缩放级别（在 an 中`ImageView`）设置为原始状态，即它恰好适合`ImageView`并且所有放大都已被删除。我尝试的是在打开图像时存储图像矩阵值（当它适合屏幕时），然后在“重置”按钮上单击将此值分配给`ImageView`放大的值（并且可能已修改矩阵）; 但它没有帮助..我也不确定它是否只是定义图像缩放级别的相关矩阵，或者还有其他我需要设置的东西。我的代码片段：

PS。' `zoomMatrix`' 是图像刚刚打开时的图像矩阵 n 适合屏幕。'touch' 是类扩展的对象`ImageView`。

```
resetZoom.getItem().setOnMenuItemClickListener(

    new MenuItem.OnMenuItemClickListener() {
        public boolean onMenuItemClick(MenuItem item) {

            touch.setImageMatrix(touch.zoomMatrix);
            touch.setScaleType(ScaleType.MATRIX);
            touch.invalidate();

            return true;
        }
}); 
```

* * *

## 回答 #1

> 赞同：-2
> 
> 时间：2014-08-14T09:10:10.027

you only need to do is, to implement this simple code in your reset button

```
setContentView(R.layout.activity_image); 
```

this will reset your activity to its original scale/position...

# objective-c - 如何多次运行循环

> ID：15826165
> 
> 赞同：-1
> 
> 时间：2013-04-05T04:54:49.040
> 
> 标签：objective-c

我正在附加字符串，我循环运行了很多次应用程序崩溃了。它显示错误消息我如何管理错误消息是 malloc: *** mmap(size=16777216) failed (error code=12)** **错误：无法分配区域* ****在 malloc_error_break 中设置断点以调试 ***由于未捕获的异常“NSMallocException”而终止应用程序，原因：“内存不足。我们建议重新启动应用程序。如果您有未保存的文档，请在 Finder 中创建一个备份副本，然后尝试保存。我的代码是` NSMutableString * str = [NSMutableString stringWithCapacity:100000];***

 ***```
int i;
for(i=0;i<1000000;i++){
    [str appendString:@"abcd"]; 
```

}`

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-05T04:57:42.667

不知道你*实际在做*什么的细节，是不可能说的。

一般来说，当你用完内存时，答案是使用更少的内存。

对于涉及大量数据的操作，您需要转移到通过磁盘缓冲的某些操作。这可以通过任何数量的手段来完成。使用哪一个取决于您尝试做的任何事情的细节。

如果您真的只是将文本附加到缓冲区，则打开文件描述符（或`NSFileHandle`）并改为写入。***

# backbone.js - 如何防止多次将相同的 JSON 对象或模型添加到集合中？

> ID：15826176
> 
> 赞同：0
> 
> 时间：2013-04-05T04:55:53.170
> 
> 标签：backbone.js

我通过 ajax 获取 JSON 数据，然后想将这些数据添加到集合中。我想将新的/现有的对象添加/更新到集合中。我通过两种方式做到了。两者都不工作，我有点知道他们为什么不工作。但必须有解决方案。
**1)**

```
var Book = Backbone.Model.extend({});
var Library = Backbone.Collection.extend({model: Book});
var library = new Library();
var bookJSON = {
  title: "One Thousand and One Nights",
  author: "Scheherazade"
}
var book1 = new Book(bookJSON);
var book2 = new Book(bookJSON);
library.add(book1, {merge: true});
library.add(book2, {merge: true}); 
```

**结果**library.length = 2

**2)**

```
var Book = Backbone.Model.extend({});
var Library = Backbone.Collection.extend({model: Book});
var library = new Library();
var book = {
  title: "One Thousand and One Nights",
  author: "Scheherazade"
}
library.add(book, {merge: true});
library.add(book, {merge: true}); 
```

**结果**library.length = 2

我确实只想将相同的模型/JSON 对象添加/更新一次以进行收集。谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-05T05:35:28.957

你的 json 没有任何`id`价值，所以 Backbone 在你添加两次的时候并不知道它们是一样的。

```
var Book = Backbone.Model.extend({});
var Library = Backbone.Collection.extend({model: Book});
var library = new Library();
var book = {
  id: 1,   // 'id' is the default idAttribute.
  title: "One Thousand and One Nights",
  author: "Scheherazade"
}
library.add(book, {merge: true});
library.add(book, {merge: true}); 
```

或者：

```
var Book = Backbone.Model.extend({
    idAttribute: 'title'  // might not be a good thing to use as an id, though.
});
var Library = Backbone.Collection.extend({model: Book});
var library = new Library();
var book = {
  title: "One Thousand and One Nights",
  author: "Scheherazade"
}
library.add(book, {merge: true});
library.add(book, {merge: true}); 
```

通常，您不会在客户端设置 id，而是让服务器在首次保存新模型时分配一个 id。但是......缺少一个`id`是为什么你在你的代码中看到两个。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T05:31:51.087

您的代码似乎没问题，您使用的是backbone.js 0.9.9 还是更高版本？在 0.9.9 版本中添加了合并选项。

# linux - 为什么我的 shell 脚本没有打开终端，尽管它提供了绝对好的输出日志？

> ID：15826180
> 
> 赞同：0
> 
> 时间：2013-04-05T04:56:20.687
> 
> 标签：linux, shell, cron

我的脚本内容是：

```
#!/bin/bash
PATH=/opt/someApp/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
ant -buildfile /home/kris/Desktop/myproject/build.xml run 
```

如果我打开终端并输入：`bash myscript.sh`，那么它运行良好。但是当我将它设置为 cron 作业时，它不会打开终端。但生成输出日志很好。我想要的是在设置 cron 之后，`myscript.sh`会在特定时间自动运行。它将打开终端并运行命令`ant -buildfile /home/kris/Desktop/myproject/build.xml run`

我的 cron 文件的内容是：

```
* 9 5 * * /home/kris/Desktop/myproject/myscript.sh  > /home/kris/Desktop/output/output.sh 
```

Build.xml 运行我的 testng.xml，而 testng.xml 运行我用 java 编写的脚本。我正在使用 Ubuntu 机器。

# qml - QML 文本渲染问题，自定义 OpenGL 项目处于活动状态

> ID：15826182
> 
> 赞同：1
> 
> 时间：2013-04-05T04:56:36.527
> 
> 标签：qml, qt5, ogre

我一直在使用*QmlOgre* Qt 示例以使其与 Qt5 final 一起使用。原始示例本身现在看起来很好并且行为符合预期。我的代码在这里：[https ://github.com/advancingu/QmlOgre](https://github.com/advancingu/QmlOgre)

但是，我发现当通过从 C++ 发出的*更改*信号或从示例 QML 场景中的简单计时器修改 QML 文本项时，会出现问题。例如，我添加了一个 10 毫秒 QML 计时器，它只是增加一个计数器并将其分配给一个文本项。对应的代码在这里：[https ://github.com/advancingu/QmlOgre/tree/issue](https://github.com/advancingu/QmlOgre/tree/issue)

现在发生的情况是，在每一帧上，文本项的大多数字符（除了一个或两个）随机消失。它们中的哪一个消失随着每一帧而变化，所以有很多闪烁。确实显示的字符是正确的并且在正确的位置。

我的观察是这个问题只出现在某些应用程序执行中，所以它看起来很像一个线程问题（QmlEngine 运行一个处理 QML 对象绑定的线程，QML 绘画有它自己的线程，Ogre 生活/必须生活在其中）。

任何人都知道为什么会发生这种情况或如何解决这个问题？

*   食人魔版本：1.8.1
*   Qt 版本：5.0.1（从今天开始的 5.1-dev 有同样的问题）
*   操作系统/发行版：Ubuntu 12.04 64bit
*   图形驱动程序：尝试使用 Mesa 9.0 和 FGLRX（均显示）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T22:48:01.383

仍然不确定是什么导致了这个问题，但我找到了一种方法来解决它，方法是创建一个单独的 OpenGL 上下文`OgreNode`供 Ogre 使用。当然，这可能会导致性能恶化，但这仍然比不可靠工作的情况要好。我的存储库中的代码已使用此修复程序进行更新。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-04-05T12:41:14.917

`glPushAttrib(GL_ALL_ATTRIB_BITS)`就我而言，我解决了渲染之前和之后的调用`glPopAttrib()`。您还应该确保所有绘图都发生在`beginNativePainting()`和之间`endNativePainting()`（参见[http://doc.qt.io/qt-5.8/qpainter.html#beginNativePainting](http://doc.qt.io/qt-5.8/qpainter.html#beginNativePainting)）。

# ios - ios：使用任意 nsinputstream 播放视频

> ID：15826186
> 
> 赞同：7
> 
> 时间：2013-04-05T04:57:15.333
> 
> 标签：ios, media-player, media, codec

我想将 NSInputStream 传递给 MPMoviePlayerController、MPMoviePlayerViewController 或其他任何东西。

输入流利用了 Apple 框架不支持的协议。

我尝试创建一个自定义的 NSURLProtocol（仅适用于设备（​​不是模拟器）），但 MediaPlayer 尝试缓存所有内容并导致应用程序在分配 250MB 时崩溃。而且视频从不播放。

关于如何进行的任何想法？我知道那里的一些应用程序可以做到这一点。

我真的不想构建自己的媒体播放器，但似乎很有可能，不是吗？是否有任何示例说明如何仅使用 CoreMedia 而不是 FFMPEG（等）来做到这一点？编解码器的选择对我来说并不重要——只是通过专有协议流式传输时的播放能力。

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-12-05T00:03:53.170

kxmovie 的 custom_io 分支正是我想要的。有些视频播放不完美，但这是一个开始。

[https://github.com/kolyvan/kxmovie/tree/custom_io](https://github.com/kolyvan/kxmovie/tree/custom_io)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-09-14T02:13:26.787

这是我编写的一个应用程序，它可以将实时视频从一个 iOS 设备流式传输到另一个设备：

[https://app.box.com/s/94dcm9qjk8giuar08305qspdbe0pc784](https://app.box.com/s/94dcm9qjk8giuar08305qspdbe0pc784)

使用 Xcode 9 构建；在 iOS 11 上运行。

触摸两台设备之一上的相机图标以开始将视频流式传输到另一台设备。

顺便说一句，听起来你在 iOS 设备上播放视频的背景不是很扎实。MPMoviePlayerController 或 MP-anything 真的没有使用意义。当你明白了这一点，并开始将精力投入到 AVFoundation 中时，这将对你非常有帮助：

这是 NSStream 子类 NSInputStream 的事件处理程序的相关部分：

```
case NSStreamEventHasBytesAvailable: {
            NSLog(@"NSStreamEventHasBytesAvailable");
            uint8_t * mbuf[DATA_LENGTH];
            mlen = [(NSInputStream *)stream read:(uint8_t *)mbuf maxLength:DATA_LENGTH];
            NSLog(@"mlen == %lu", mlen);
            [mdata appendBytes:(const void *)mbuf length:mlen];
            NSLog(@"mdata length == %lu", mdata.length);
            if (mlen < DATA_LENGTH) {
                NSLog(@"displayImage");
                UIImage *image = [UIImage imageWithData:mdata];
                [self.peerConnectionViewController.view.subviews[0].layer setContents:(__bridge id)image.CGImage];
                mdata = nil;
                mlen  = DATA_LENGTH;
                mdata = [[NSMutableData alloc] init];
            }
        } break; 
```

  而且，这是您的视频输出的事件处理程序，无论是来自相机还是来自视频文件：   

```
- (void)captureOutput:(AVCaptureOutput *)output didOutputSampleBuffer:(CMSampleBufferRef)sampleBuffer fromConnection:(AVCaptureConnection *)connection
{
    CVImageBufferRef imageBuffer = CMSampleBufferGetImageBuffer(sampleBuffer);
    CVPixelBufferLockBaseAddress(imageBuffer,0);
    uint8_t *baseAddress = (uint8_t *)CVPixelBufferGetBaseAddress(imageBuffer);
    size_t bytesPerRow = CVPixelBufferGetBytesPerRow(imageBuffer);
    size_t width = CVPixelBufferGetWidth(imageBuffer);
    size_t height = CVPixelBufferGetHeight(imageBuffer);
    CGColorSpaceRef colorSpace = CGColorSpaceCreateDeviceRGB();
    CGContextRef newContext = CGBitmapContextCreate(baseAddress, width, height, 8, bytesPerRow, colorSpace, kCGBitmapByteOrder32Little | kCGImageAlphaPremultipliedFirst);
    CGImageRef newImage = CGBitmapContextCreateImage(newContext);
    CGContextRelease(newContext);
    CGColorSpaceRelease(colorSpace);
    UIImage *image = [[UIImage alloc] initWithCGImage:newImage scale:1 orientation:UIImageOrientationUp];
    CGImageRelease(newImage);
    CVPixelBufferUnlockBaseAddress(imageBuffer,0);

    NSData *data = [NSData dataWithData:UIImageJPEGRepresentation(image, 0.25)];

    __block BOOL baseCaseCondition = NO; // obviously this should be data driven, not hardcoded
    __block NSInteger _len = DATA_LENGTH;
    __block NSInteger _byteIndex = 0;
    typedef void (^RecursiveBlock)(void (^)());
    RecursiveBlock aRecursiveBlock;

    aRecursiveBlock = ^(RecursiveBlock block) {
        NSLog(@"Block called...");
        baseCaseCondition = (data.length > 0 && _byteIndex < data.length) ? TRUE : FALSE;
        if ((baseCaseCondition) && block)
        {
            _len = (data.length - _byteIndex) == 0 ? 1 : (data.length - _byteIndex) < DATA_LENGTH ? (data.length - _byteIndex) : DATA_LENGTH;
            //
            NSLog(@"START | byteIndex: %lu/%lu  writing len: %lu", _byteIndex, data.length, _len);
            //
            uint8_t * bytes[_len];
            [data getBytes:&bytes range:NSMakeRange(_byteIndex, _len)];
            _byteIndex += [self.outputStream write:(const uint8_t *)bytes maxLength:_len];
            //
            NSLog(@"END | byteIndex: %lu/%lu wrote len: %lu", _byteIndex, data.length, _len);
            //
            dispatch_barrier_async(dispatch_get_main_queue(), ^{
                block(block);
            });
        }
    };

    if (self.outputStream.hasSpaceAvailable)
            aRecursiveBlock(aRecursiveBlock);
} 
```

# c++ - 在 C++ 中设置编码的最正确方法是什么？

> ID：15826188
> 
> 赞同：10
> 
> 时间：2013-04-05T04:57:31.303
> 
> 标签：c++, windows, unicode, encoding, utf

最好如何在 C++ 中设置编码？

我习惯了使用 Unicode（和、、、和`wchar_t`L “ ...”）。我还将源代码保存在 UTF-8 中。`wstring``wcin``wcout`

目前我使用 MinGW (Windows 7) 并在 Windows 控制台 (cmd.exe) 中运行我的程序，但有时我可以在 GNU\Linux 上使用 gcc 并在 Linux 控制台中使用 UTF-8 编码运行程序。

在任何时候，我都想在 Windows 和 Linux 上编译我的源代码，并且我希望所有 Unicode 符号都被正确输入和输出。

当我遇到下一个编码问题时，我用谷歌搜索。我还发现了最不同的委员会：`setlocale(LC_ALL, "")`and `setlocale(LC_ALL, "xx_XX.UTF-8")`, `std::setlocale(LC_ALL, "")`and `std::setlocale(LC_ALL, "xx_XX.UTF-8")`from `<clocale>`,

`SetConsoleCP()`和许多许多其他人`SetConsoleOutputCP()`。`<windows.h>`

终于被这个巫术困扰了，我想问你：如何建立编码是正确的？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-06T00:11:54.623

> 我需要正确输入和输出任何 Unicode 符号/字符串。

这当然是可能的，尽管使 Windows 命令提示符控制台正确识别 Unicode 需要一些特殊的魔法。不幸的是，我严重怀疑标准库函数的任何实现都会这样做。

你会在 Stack Overflow 上找到很多关于它的问题，但[这个问题很好](https://stackoverflow.com/questions/1371012/how-do-i-print-utf-8-from-c-console-application-on-windows)。基本上，控制台默认使用所谓的（有些错误的）“OEM”代码页。您想将其更改为 UTF-8 代码页，其值由`CP_UTF8`. 为此，您需要调用[`SetConsoleCP`](http://msdn.microsoft.com/en-us/library/ms686013.aspx)函数（设置*输入*代码页）和[`SetConsoleOutputCP`](http://msdn.microsoft.com/en-us/library/ms686036.aspx)函数（设置*输出*代码页）。代码看起来像这样：

```
if (!SetConsoleCP(CP_UTF8))
{
    // An error occurred; handle it. Call GetLastError() for more information.
    // ...
}
if (!SetConsoleOutputCP(CP_UTF8))
{
    // An error occurred; handle it. Call GetLastError() for more information.
    // ...
} 
```

为了获得额外的稳健性，您可能还需要确保首先支持 UTF-8 代码页，然后再尝试设置和使用它。你可以通过调用[`IsValidCodePage`](http://msdn.microsoft.com/en-us/library/dd318674.aspx)函数来做到这一点。例如：

```
if (IsValidCodePage(CP_UTF8))
{
    // We're all good, so set the console code page...
} 
```

您还必须将字体从默认（“光栅字体”）更改为包含必需的 Unicode 字符字形的字体，例如 Lucida Console 或 Consolas（[参考](http://support.microsoft.com/kb/99795)）。使用该[`SetCurrentConsoleFontEx`](http://msdn.microsoft.com/en-us/library/ms686200.aspx)功能很简单。

不幸的是，此功能在 Vista 之前的 Windows 版本中不存在。如果您绝对需要支持这些较旧的操作系统，我唯一知道要做的就是调用未记录的`SetConsoleFont`函数。通常，我*强烈*建议不要使用未记录的函数，但我认为这不是问题，因为您*只会*在旧版本的操作系统中使用它。你知道那些不会改变。在可用的较新版本上，您调用支持的函数。未经测试的示例代码：

```
bool IsWinVistaOrLater()
{
    OSVERSIONINFOEX osvi;
    osvi.dwOSVersionInfoSize = sizeof(osvi);
    GetVersionEx(reinterpret_cast<LPOSVERSIONINFO>(&osvi));

    if (osvi.dwPlatformId == VER_PLATFORM_WIN32_NT)
    {
        return osvi.dwMajorVersion >= 6;
    }
    return false;
}

void SetConsoleToUnicodeFont()
{
    HANDLE hConsole = GetStdHandle(STD_OUTPUT_HANDLE);
    if (IsWinVistaOrLater())
    {
        // Call the documented function.
        typedef BOOL (WINAPI * pfSetCurrentConsoleFontEx)(HANDLE, BOOL, PCONSOLE_FONT_INFOEX);
        HMODULE hMod = GetModuleHandle(TEXT("kernel32.dll"));
        pfSetCurrentConsoleFontEx pfSCCFX = (pfSetCurrentConsoleFontEx)GetProcAddress(hMod, "SetCurrentConsoleFontEx");

        CONSOLE_FONT_INFOEX cfix;
        cfix.cbSize       = sizeof(cfix);
        cfix.nFont        = 12;
        cfix.dwFontSize.X = 8;
        cfix.dwFontSize.Y = 14;
        cfix.FontFamily   = FF_DONTCARE;
        cfix.FontWeight   = 400;  // normal weight
        lstrcpy(cfix.FaceName, TEXT("Lucida Console"));

        pfSCCFX(hConsole,
                FALSE, /* set font for current window size */
                &cfix);
    }
    else
    {
        // There is no supported function on these older versions,
        // so we have to call the undocumented one.
        typedef BOOL (WINAPI * pfSetConsoleFont)(HANDLE, DWORD);
        HMODULE hMod = GetModuleHandle(TEXT("kernel32.dll"));
        pfSetConsoleFont pfSCF = (pfSetConsoleFont)GetProcAddress(hMod, "SetConsoleFont");
        pfSCF(hConsole, 12);
    }
} 
```

请注意，我已将所需的错误检查作为练习留给读者。这里的重点是技术和可读性；将其与错误处理混为一谈只会使事情变得混乱。

我不知道如何在 Linux 上做到这一点。我怀疑它的工作量要少得多，因为人们告诉我操作系统在内部使用 UTF-8。无论哪种方式，你都是靠自己的；让 Windows 发出咕噜声就足以解决一个问题！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-03-26T02:55:22.563

我只需要将**Unicode 文本**输出到控制台，只有[**WriteConsoleW**](http://msdn.microsoft.com/en-us/library/windows/desktop/ms687401.aspx)`(GetStdHandle(STD_OUTPUT_HANDLE), ...);`这个函数有帮助。对于输入，我假设[**ReadConsoleW**](http://msdn.microsoft.com/en-us/library/windows/desktop/ms687401.aspx)`(GetStdHandle(STD_INPUT_HANDLE), ...);`可以解决问题。

**PS**：`WriteOutput`输出字符串大小有限制。因此，如果它更长，您可能希望分块迭代它。

# vba - 在共享路径中打开 Excel 的宏

> ID：15826197
> 
> 赞同：0
> 
> 时间：2013-04-05T04:57:59.597
> 
> 标签：vba, excel

大家好，我可以在我的桌面上打开任何 excel 文件。但我无法打开共享路径中的 excel。显示文件未找到错误消息需要您的帮助...！！！路径以两个反斜杠“\..\.....\”开头

```
Sub open_hari()
    Dim r As Long
    For r = 1 To 10
        If Cells(r, 1).Value <> "" Then
            Workbooks.Open Filename:=Sheet1.Cells(r, 1).Value
        End If
    Next r
End Sub 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T12:47:21.237

`\\myshare\etc\file.xlsx`我从 VBA打开表单文件没有问题。所以我尝试运行你的代码，它对我有用，直到它找到一个非空单元格......但是一旦我找到一个文件并打开它，代码就会自动开始查看新工作簿中的单元格（我在第 6 行有一个文件名；该文件已打开，然后代码查看新打开的文件中的第 7 行。其中没有有效的文件名）。

如果这是您的问题的原因，解决方案是在开始滚动之前设置范围...：

```
Sub open_hari()
    Dim myCells
    Dim c
    Set myCells = Range(Sheet1.[A1], Sheet1.[A10]).Cells
    For Each c In myCells
        If c.Value <> "" Then
            Workbooks.Open Filename:=c.Value
        End If
    Next c
End Sub 
```

这解决了我的问题......

顺便说一句，您可以添加一行

```
On Error Resume Next 
```

就在之前

```
Workbooks.Open 
```

陈述。这样，如果单元格包含无效的文件名（但不是空的），代码将继续运行。这并不能帮助您发现您的代码有问题，因此在彻底调试之前不要这样做通常是个好主意。如果您启用了错误陷阱，那么您将完全看不到查看不同工作表的问题。

# java - Mac OS X 上的 Java 安装在哪里？

> ID：15826202
> 
> 赞同：816
> 
> 时间：2013-04-05T04:58:29.327
> 
> 标签：java, macos

[我刚刚从这里](http://www.java.com/en/download/mac_download.jsp?locale=en)下载了 Mac OS 10.7.5 上的 Java 7u17 ，然后成功安装了它。为了进行一些 JNI 编程，我需要知道 Java 在我的 Mac 上的安装位置。

本以为`/Library/Java/JavaVirtualMachines/`文件夹里面会有一个文件夹叫`1.7.0.jdk`什么的，结果发现文件夹里面是空的。`ls /Library/Java/JavaVirtualMachines/`通过在终端中运行确认了这一点。我已经尝试搜索它以了解它是否安装在其他地方，但这似乎并没有带来任何好处。

有人可以告诉我我的 Mac 上安装了 Java 的位置吗？

* * *

## 回答 #1

> 赞同：1551
> 
> 时间：2013-04-05T05:40:34.220

在终端 shell 上使用`/usr/libexec/java_home -v 1.8`命令来确定您的**Java 1.8**主目录在哪里

如果您只想找出最新版本 Java 的主目录，请忽略版本。例如`/usr/libexec/java_home`

* * *

## 回答 #2

> 赞同：150
> 
> 时间：2015-07-28T04:48:22.590

你可以使用

```
/usr/libexec/java_home 
```

终端中的命令以了解安装 Java 的路径。

* * *

## 回答 #3

> 赞同：85
> 
> 时间：2013-04-05T04:58:29.327

事实证明，我实际上安装了 Java 7 JRE，而不是 JDK。正确的下载链接在[这里](http://www.oracle.com/technetwork/java/javase/downloads/index.html)。安装后，`jdk1.7.0jdk`出现在 JavaVirtualMachines 目录中。

* * *

## 回答 #4

> 赞同：43
> 
> 时间：2013-09-12T18:02:38.533

如果您只安装 JRE，它似乎位于：

```
/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home 
```

* * *

## 回答 #5

> 赞同：31
> 
> 时间：2013-04-05T05:37:08.560

使用 unix find 功能查找已安装的 java...

```
sudo find / -name java 
```

* * *

## 回答 #6

> 赞同：31
> 
> 时间：2017-09-19T09:28:27.453

试试这个，这是在 Mac OS X 中找到 java 安装路径的简单方法，

去

1 ) **/Library 即 Macintosh HD/Library**

[![在此处输入图像描述](https://i.stack.imgur.com/7BNFT.png)](https://i.stack.imgur.com/7BNFT.png)

2）**单击Library，我们找到Java文件夹。**

[![在此处输入图像描述](https://i.stack.imgur.com/jUGhY.png)](https://i.stack.imgur.com/jUGhY.png)

3）**所以最终路径是**

```
/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home 
```

希望这对某人有帮助。

* * *

## 回答 #7

> 赞同：24
> 
> 时间：2018-12-21T05:13:17.457

如果你输入

```
java -verbose 
```

这也给出了加载 jar 的位置，因此也给出了 java 路径。

* * *

## 回答 #8

> 赞同：22
> 
> 时间：2014-02-22T17:27:02.060

Mac OS 的 Java 包结构与 Windows 有点不同。不要为此感到不安，因为开发人员只需要设置`PATH`和`JAVA_HOME`.

所以在`.bash_profile`集合中`JAVA_HOME`，`PATH`如下所示。此示例适用于 Java 6：

```
export JAVA_HOME=/System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Home
export PATH=/System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Home/bin:$PATH 
```

* * *

## 回答 #9

> 赞同：12
> 
> 时间：2016-06-21T08:58:05.463

只需写入`/Library/Java/JavaVirtualMachines/`
Go to Folder --> Go in Finder

* * *

## 回答 #10

> 赞同：9
> 
> 时间：2013-04-05T05:09:15.193

编辑：当前java版本的别名是`/Library/Java/Home`

欲了解更多信息：[链接](http://developer.apple.com/library/mac/#qa/qa1170/_index.html)

* * *

## 回答 #11

> 赞同：9
> 
> 时间：2018-03-05T22:12:06.707

输入`which java`终端以显示它的安装位置。

* * *

## 回答 #12

> 赞同：8
> 
> 时间：2016-09-19T00:32:41.290

为了 ：

*   OS X：10.11.6

*   爪哇：8

我确认@Morrie 的回答。

```
 export JAVA_HOME=/Library/Internet\ Plug-Ins/JavaAppletPlugin.plugin/Contents/Home; 
```

但是，如果您正在运行容器，您的生活会更轻松

* * *

## 回答 #13

> 赞同：7
> 
> 时间：2013-04-28T12:10:11.780

我刚刚安装了 Java SE 7 版本 21 的 JDK，发现它安装在与 Apple 的 Java 6 不同的目录中。它位于 /Library/Java... 而不是 /System/Library/Java... . 运行 /usr/libexec/java_home -v 1.7 与 -v 1.6 将确认这一点。

* * *

## 回答 #14

> 赞同：7
> 
> 时间：2014-01-30T17:13:49.820

我尝试了 serkan 的解决方案，它在 OS X Mavericks 上找到了 java 7 的位置。它位于`"/Library/Java/JavaVirtualMachines/jdk1.7.0_51.jdk/"` 但要使其成为默认 JDK 我必须在主目录的 .bash_profile 中设置 JAVA_HOME 系统变量，`"/Library/Java/JavaVirtualMachines/jdk1.7.0_51.jdk/Contents/Home/"` 以便它现在可以启动并运行，这要归功于 serkan 的想法

* * *

## 回答 #15

> 赞同：4
> 
> 时间：2021-11-23T02:13:04.713

如果您安装了多个 Java 版本，请使用：

`$ /usr/libexec/java_home --verbose`

或者：

`$ /usr/libexec/java_home -V`（这是一个大写的 V！）

列出所有版本和架构。

样本输出：

```
$ /usr/libexec/java_home -V
Matching Java Virtual Machines (4):
    12.0.1 (x86_64) "Oracle Corporation" - "Java SE 12.0.1" /Library/Java/JavaVirtualMachines/jdk-12.0.1.jdk/Contents/Home
    1.8.202.08 (x86_64) "Oracle Corporation" - "Java" /Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home
    1.8.0_282 (x86_64) "Amazon" - "Amazon Corretto 8" /Users/username/Library/Java/JavaVirtualMachines/corretto-1.8.0_282/Contents/Home
    1.8.0_202 (x86_64) "Oracle Corporation" - "Java SE 8" /Library/Java/JavaVirtualMachines/jdk1.8.0_202.jdk/Contents/Home
/Library/Java/JavaVirtualMachines/jdk-12.0.1.jdk/Contents/Home 
```

* * *

## 回答 #16

> 赞同：2
> 
> 时间：2020-09-01T21:45:03.317

如果您使用的是[sdkman](https://sdkman.io/usage)

你可以检查一下`sdk home java <installed_java_version>`

```
$  sdk home java 8.0.252.j9-adpt
/Users/admin/.sdkman/candidates/java/8.0.252.j9-adpt 
```

你可以得到你安装的java版本

```
$ sdk list java 
```

* * *

## 回答 #17

> 赞同：1
> 
> 时间：2021-12-27T15:25:08.527

尝试在这里签到
`/Library/Java/JavaVirtualMachines`

* * *

## 回答 #18

> 赞同：0
> 
> 时间：2015-05-06T10:44:47.840

System Preferences 然后 Java control panel 然后 Java 然后 View 将显示当前安装的默认 JRE 的确切位置。

* * *

## 回答 #19

> 赞同：0
> 
> 时间：2021-11-01T06:00:30.433

MacOS 大苏尔

在 .zshrc 文件下添加以下内容。如果 .zshrc 不存在，则创建并添加。

```
export JAVA_HOME=`/usr/libexec/java_home` 
```

# python - 创建类 python 和 __init__ 的实例

> ID：15826208
> 
> 赞同：1
> 
> 时间：2013-04-05T04:59:21.923
> 
> 标签：python, oop, class

我想要一个具有一些类变量的类，并且具有对这些变量执行操作的函数——但我希望这些函数能够被自动调用。有更好的方法吗？我应该为此使用**init吗？**抱歉，如果这是一个小问题 - 我对 Python 还是很陌生。

```
# used in second part of my question
counter = 0    

class myClass:
    foo1 = []
    foo2 = []

    def bar1(self, counter):
        self.foo1.append(counter)
    def bar2(self):
        self.foo2.append("B")

def start():
    # create an instance of the class
    obj = myClass()
    # I want the class methods to be called automatically...
    obj.bar1()
    obj.bar2()

# now what I am trying to do here is create many instances of my class, the problem is
# not that the instances are not created, but all instances have the same values in 
# foo1 (the counter in this case should be getting incremented and then added
while(counter < 5):
    start()
    counter += 1 
```

那么有没有更好的方法来做到这一点？并导致我所有的对象都具有相同的值？谢谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-05T05:02:49.030

foo1 和 foo2 是类变量，它们被所有对象共享，

`foo1`如果你愿意的话，你的类应该像这样`foo2`对每个对象都不同：

```
class myClass:
    # __init__ function will initialize `foo1 & foo2` for every object
    def __init__(self):
        self.foo1 = []
        self.foo2 = []

    def bar1(self, counter):
        self.foo1.append(counter)
    def bar2(self):
        self.foo2.append("B") 
```

# ios - Ipad 中的 Infinea Tab 集成

> ID：15826209
> 
> 赞同：0
> 
> 时间：2013-04-05T04:59:23.163
> 
> 标签：ios, objective-c, ipad

在我的通用应用程序中，我集成了适用于 iPhone 的 Linea Pro 条码扫描器，在集成 Linea Pro SDK 后工作正常。现在我想为 ipad 集成 Infinea 标签条码扫描器。我上网了，但我没有得到正确的。我需要知道是否有任何 SDK 可用于集成 Infinea。请指导我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-07-01T20:21:56.720

Linea Pro 和 Infinea 选项卡使用相同的 SDK。您可以在 [http://www.ipcprint.com/developer找到它](http://www.ipcprint.com/developer)

# android - 在android中旋转手机时警报对话框消失

> ID：15826217
> 
> 赞同：1
> 
> 时间：2013-04-05T04:59:53.440
> 
> 标签：android

我已经在我的清单中为我的应用程序中的所有活动授予了所有权限，但是我的活动在旋转手机时重新开始。重新启动关闭我的警报框，再次调用 Web 服务器以获取数据和活动确实保持以前的状态。我已经尝试了所有的可能性，但无法得到解决方案。我该如何解决这个问题？

```
@Override
public void onCreate(Bundle savedInstanceState) 
{       
    super.onCreate(savedInstanceState);  
    requestWindowFeature(Window.FEATURE_NO_TITLE);
    setContentView(R.layout.station_list_layout);

    ConstantValues.CURRENT_ACTIVITY=StationListActivity.this;

    ConstantValues.NEAREST_PLACE_MENU_SLIDER_FLAG=false;
    ConstantValues.MESSAGE_MENU_SLIDER_FLAG=false;
    ConstantValues.STATION_LIST_MENU_SLIDER_FLAG=true;

    orientation=getResources().getConfiguration().orientation;
    userAndMessageCount=new UserAndMessageCount();
    ((TextView)findViewById(R.id.stationlist_route_name)).setText(ConstantValues.ROUTE_NAME);
    list = (ListView) findViewById(R.id.myListView);  
    Cursor cursor=new UpdateLocalDatabase().getStationNameByRoute();
    adapter=new StationListAdapter(StationListActivity.this, cursor);
    adapter.notifyDataSetChanged();

    if(!ConstantValues.STATION_LIST_LOATED)
        userAndMessageCount.execute();
    else
    {
        Footer.setMsgCount(ConstantValues.MSG_COUNT);
        Footer.setUserCount(ConstantValues.FAVORITE_STATION_LIST.size());
        list.setAdapter(adapter);
    }

} 
         <activity 
            android:configChanges="orientation|keyboardHidden"
            android:screenOrientation="unspecified"
            android:name=".LaunchingPageActivity"
            android:label="@string/app_name">
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>` 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-05T05:08:05.053

```
android:configChanges="keyboardHidden|orientation|screenSize" 
```

将此添加到清单中的活动元素

喜欢

```
<activity 
            android:configChanges="orientation|keyboardHidden|screenSize"
            android:screenOrientation="unspecified"
            android:name=".LaunchingPageActivity"
            android:label="@string/app_name">
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>` 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-05T05:05:52.027

您可以尝试使用 onSaveInstanceState() 和 onRestoreInstanceState() 方法保存和恢复 Activity 的状态。

请参阅[此处](http://developer.android.com/reference/android/app/Activity.html#onSaveInstanceState%28android.os.Bundle%29)以了解更多信息。

请参阅[此处](https://stackoverflow.com/questions/4096169/onsaveinstancestate-and-onrestoreinstancestate#)的问题。

**编辑** 例如：如果您使用的是 webview，您可以执行以下操作：

```
@Override
protected void onSaveInstanceState(Bundle outState )
{
    super.onSaveInstanceState(outState);
    web.saveState(outState);
}

@Override
protected void onRestoreInstanceState(Bundle savedInstanceState)
{
   super.onSaveInstanceState(savedInstanceState);
   web.restoreState(savedInstanceState);
} 
```

我建议阅读：[Android - 防止 WebView 在旋转时重新加载](https://stackoverflow.com/questions/12131025/android-preventing-webview-reload-on-rotate#)
另请阅读：[如何防止屏幕旋转时 WebView 自动刷新](https://stackoverflow.com/questions/10924291/how-to-prevent-webview-auto-refresh-when-screen-rotation#)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-05T05:05:43.090

这是正常的行为。来自关于处理运行时更改的 android 文档：

“某些设备配置在运行时可能会发生变化（例如屏幕方向、键盘可用性和语言）。当发生这种变化时，Android 会重新启动正在运行的 Activity（调用 onDestroy()，然后调用 onCreate()）。重新启动的行为是旨在通过使用与新设备配置匹配的替代资源自动重新加载您的应用程序来帮助您的应用程序适应新配置。”

看[这里](http://developer.android.com/guide/topics/resources/runtime-changes.html)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-05T05:08:46.803

这不是问题，因为需要重新绘制视图，重新启动活动以根据新方向进行绘制..这是根据 Android 文档..无论如何，您可以在清单中注册方向更改 onconfigChanges 并自行处理..

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-05T05:19:16.343

添加

`android:configChanges="orientation|keyboardHidden"`

到您的相应活动，这将解决您的问题。

希望能帮助到你。

# ios - 在变暗的 UIWindow 上显示 UIView

> ID：15826218
> 
> 赞同：0
> 
> 时间：2013-04-05T04:59:55.143
> 
> 标签：ios, objective-c, uiview, uiwindow

我正在尝试呈现 UIView，同时使屏幕的其余部分变暗。但是，我遇到了困难。这是我的代码：

```
UIWindow *window = [[UIApplication sharedApplication] keyWindow];

self.viewToDarken = [[UIView alloc] initWithFrame:CGRectMake(0, 0, 320, 568)];
[self.viewToDarken setBackgroundColor:[UIColor blackColor]];
[self.viewToDarken setAlpha:0.0f];
[window insertSubview:self.viewToDarken aboveSubview:self.hostView];

[self.hostView addSubview:self];

[UIView animateWithDuration:0.25f
                      delay:0.0
                    options:UIViewAnimationCurveLinear
                 animations:^(void) {
                     [self setFrame:[self destinationFrame]];
                     if (self.viewToDarken) self.viewToDarken.alpha = 0.7f;
                 }completion:^(BOOL finished) {
                     [self notifyDidShow];
                 }]; 
```

但是，我无法让视图变暗以放置在我添加的视图下方（自我）。任何想法为什么这不起作用？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T05:07:51.820

您正在添加`viewToDarken`上面`self.hostView`然后添加`self`到`hostView`所以当然 self 将在下面`viewToDarken`。您需要在`viewToDarken`下面添加`self.hostView`。

你现在拥有的是：

hostView + self(view)（下）-> viewToDarken

你需要

viewToDarken（下）-> hostView + self（视图）

你应该有：

```
[window insertSubview:self.viewToDarken belowSubview:self.hostView]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T05:10:51.520

您在这里有 3 个视图；`self`,`hostView`和`viewToDarken`. 您正在插入`viewToDarken`上述`hostView`内容，然后您正在添加`self`到 hostView。因为`self`是 的子视图`hostView`，所以它会在下面的任何视图`hostView`之下。

您可能想要添加`viewToDarken`to `hostView`。或者您可以将其插入到类似的后面`hostView`：

```
[self.hostView.superview insertSubview:self.viewToDarken belowSubview:self.hostView]; 
```

无论采用哪种方式，都需要考虑坐标系。请务必签出`-[UIView convertRect:fromView:]`。

此外，不要对框架使用绝对​​的“魔术”数字，而是使用 window.bounds：

```
self.viewToDarken = [[UIView alloc] initWithFrame:window.bounds]; 
```

# git - Netbeans 7.3：使用 SSH 连接到 Git 存储库时出错

> ID：15826219
> 
> 赞同：3
> 
> 时间：2013-04-05T04:59:56.820
> 
> 标签：git, ssh, netbeans-7, ssh-keys, netbeans-7.3

我正在尝试连接到远程服务器上的 git 存储库，以便可以在 Netbeans 7.3 中编辑源代码，但是当我尝试使用 ssh 私钥连接到存储库以克隆存储库时，出现此错误：`java.lang.ArrayIndexOutOfBoundsException: 779`

日志：

```
INFO [org.netbeans.modules.git]: 
(address removed):
java.lang.ArrayIndexOutOfBoundsException: 779
java.lang.ArrayIndexOutOfBoundsException: 779
    at com.jcraft.jsch.Util.fromBase64(Util.java:50)
    at com.jcraft.jsch.KnownHosts.setKnownHosts(KnownHosts.java:157)
Caused: com.jcraft.jsch.JSchException
    at com.jcraft.jsch.KnownHosts.setKnownHosts(KnownHosts.java:171)
    at com.jcraft.jsch.JSch.setKnownHosts(JSch.java:184)
    at org.eclipse.jgit.transport.JschConfigSessionFactory.knownHosts(JschConfigSessionFactory.java:261)
    at org.eclipse.jgit.transport.JschConfigSessionFactory.createDefaultJSch(JschConfigSessionFactory.java:248)
    at org.netbeans.libs.git.jgit.JGitSshSessionFactory.getJSch(JGitSshSessionFactory.java:122)
    at org.netbeans.libs.git.jgit.JGitSshSessionFactory.getSession(JGitSshSessionFactory.java:105)
Caused: org.eclipse.jgit.errors.TransportException: (address removed): java.lang.ArrayIndexOutOfBoundsException: 779
    at org.netbeans.libs.git.jgit.JGitSshSessionFactory.getSession(JGitSshSessionFactory.java:111)
    at org.eclipse.jgit.transport.SshTransport.getSession(SshTransport.java:121)
    at org.eclipse.jgit.transport.TransportGitSsh$SshFetchConnection.<init>(TransportGitSsh.java:248)
    at org.eclipse.jgit.transport.TransportGitSsh.openFetch(TransportGitSsh.java:147)
    at org.netbeans.libs.git.jgit.commands.ListRemoteObjectsCommand.runTransportCommand(ListRemoteObjectsCommand.java:74)
Caused: org.netbeans.libs.git.GitException$AuthorizationException: (address removed): java.lang.ArrayIndexOutOfBoundsException: 779
    at org.netbeans.libs.git.jgit.commands.TransportCommand.handleException(TransportCommand.java:198)
    at org.netbeans.libs.git.jgit.commands.ListRemoteObjectsCommand.runTransportCommand(ListRemoteObjectsCommand.java:87)
    at org.netbeans.libs.git.jgit.commands.TransportCommand.run(TransportCommand.java:137)
    at org.netbeans.libs.git.jgit.commands.GitCommand.execute(GitCommand.java:73)
    at org.netbeans.libs.git.GitClient.listRemoteBranches(GitClient.java:655)
    at org.netbeans.modules.git.client.GitClient$31.call(GitClient.java:533)
    at org.netbeans.modules.git.client.GitClient$31.call(GitClient.java:529)
    at org.openide.util.NetworkSettings.suppressAuthenticationDialog(NetworkSettings.java:140)
    at org.netbeans.modules.git.client.GitClient$CommandInvoker$1$1.call(GitClient.java:790)
    at org.netbeans.modules.git.client.GitClient$CommandInvoker$1.call(GitClient.java:815)
    at org.netbeans.modules.git.client.GitClient$CommandInvoker.runMethodIntern(GitClient.java:823)
    at org.netbeans.modules.git.client.GitClient$CommandInvoker.runMethod(GitClient.java:756)
    at org.netbeans.modules.git.client.GitClient$CommandInvoker.runMethod(GitClient.java:734)
    at org.netbeans.modules.git.client.GitClient$CommandInvoker.access$400(GitClient.java:728)
    at org.netbeans.modules.git.client.GitClient.listRemoteBranches(GitClient.java:529)
[catch] at org.netbeans.modules.git.ui.clone.RepositoryStep$RepositoryStepProgressSupport.perform(RepositoryStep.java:197)
    at org.netbeans.modules.git.client.GitProgressSupport.performIntern(GitProgressSupport.java:102)
    at org.netbeans.modules.git.client.GitProgressSupport.run(GitProgressSupport.java:95)
    at org.openide.util.RequestProcessor$Task.run(RequestProcessor.java:1432)
    at org.openide.util.RequestProcessor$Processor.run(RequestProcessor.java:2044) 
```

任何想法如何解决这一问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T21:52:17.160

包括这种错误的所有线程都指向相同的解决方案。
例如，请参阅“[安装 IBM Intelligent Operations Center Platform Control Tool 时出现 ArrayIndexOutOfBoundsException 错误](http://www-01.ibm.com/support/docview.wss?uid=swg21615233)”。

```
Caused by: java.lang.ArrayIndexOutOfBoundsException: Array index out of range: 810
at com.jcraft.jsch.Util.fromBase64(Util.java:48)
at com.jcraft.jsch.KnownHosts.setKnownHosts(KnownHosts.java:157) 
```

### 原因

> **安装服务器上的 ssh 密钥库与环境不同步**。

### 解决问题

> 要更正此问题，请执行以下操作：
> 
> 1.  以 root 用户身份登录到安装服务器。
> 2.  删除`/root/.ssh/known_hosts`文件。
> 3.  使用该`ssh`命令，使用每个服务器的完全限定主机名以 root 用户身份访问四个目标服务器（应用程序、事件、数据和管理）。出现提示时接受 ssh 密钥。

与“ [`com.jcraft.jsch.JSchException: UnknownHostKey`](https://stackoverflow.com/a/2003460/6309)”中的解决方案相同。

# jquery - Jquery中基于Spring，Form标签的Datepicker？

> ID：15826223
> 
> 赞同：3
> 
> 时间：2013-04-05T05:00:03.877
> 
> 标签：jquery, spring, jsp

实际上，在我的 Spring 应用程序中`form`，我在我的 jsp 代码中使用了基于 spring 的标签。

并为此添加功能`<form:input>`，使用 Jquery 提供 DatePicker。

这是我的Jsp代码..

```
<%@ taglib prefix="form" uri="http://www.springframework.org/tags/form"%>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%>

<link rel="stylesheet" href="resources/css/jquery-ui.css" type="text/css">
<link rel="stylesheet" href="resources/css/custom.css" type="text/css">
<script type="text/javascript" src="resources/jquery/jquery-ui.min.js"></script>
    <form:form action="form/form1"
        modelAttribute="form1">
               <label class="control_label_c">From : </label>
          <div class="controls_c">
              <form:input type="text" path="fromDate" class="date-picker" />
        </div>
    </form:form>
<script>
$(function() {
    $('.date-picker').datepicker( {
        changeMonth: true,
        changeYear: true,
        showButtonPanel: true,
        dateFormat: 'MM yy',
        onClose: function(dateText, inst) { 
            var month = $("#ui-datepicker-div .ui-datepicker-month :selected").val();
            var year = $("#ui-datepicker-div .ui-datepicker-year :selected").val();
            $(this).datepicker('setDate', new Date(year, month, 1));
        }
    });
});
</script> 
```

但是日期选择器不起作用（不可见）......

这个基于 spring 的表单标签有什么问题吗？或者

我的代码有什么问题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T05:07:17.160

这主要是因为参考问题。请检查以下内容，最好在浏览器中使用 Firebug 或开发人员工具

1.  正确引用了具有兼容 jQuery 版本的 jQuery UI
2.  正确引用了 jQuery UI CSS
3.  jQuery UI js 被引用

![内容分发网络](https://i.stack.imgur.com/aCyQZ.png)

```
<link rel="stylesheet" href="http://code.jquery.com/ui/1.10.2/themes/smoothness/jquery-ui.css" />
<script src="http://code.jquery.com/jquery-1.9.1.js"></script>
<script src="http://code.jquery.com/ui/1.10.2/jquery-ui.js"></script> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T05:06:00.043

看起来你没有加载 jquery.js ......你需要 jquery 文件来运行 ui 组件..

在 jquery-ui.min.js 之前加载 jquery.js

```
 <script type="text/javascript" src="http://code.jquery.com/jquery-1.9.1.js"></script>
 <script type="text/javascript" src="resources/jquery/jquery-ui.min.js"></script> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-05T08:19:40.937

尝试使用以下代码

```
<form:input path="fromDate" cssClass="date-picker" /> 
```

你的代码是可以接受的，

```
<form:input type="text" path="fromDate" class="date-picker" /> 
```

因为所有的 Spring MVC 表单标签都支持动态属性，比如 HTML5 `placeholder`。除非您使用的是旧版本的 Spring。

# asp.net - 在IIS中托管Web服务时，Sql server应该在同一个系统中

> ID：15826227
> 
> 赞同：1
> 
> 时间：2013-04-05T05:00:31.343
> 
> 标签：asp.net, sql, wcf, entity-framework, iis

我创建了一个 WCF 服务，因为我正在使用 Sql 服务器位于另一个系统中的实体框架。我创建了一个 Web 应用程序并使用该服务，并且我对实体框架没有任何问题。当我在 IIS 中托管我的 Web 服务时，我的实体框架中出现异常，说**底层提供程序在打开时失败**。我戴上眼镜，但没有任何效果。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T05:06:11.030

正如人们在尝试登录 sql server 时提到的 IIS 用户网络服务用户凭据。因此，只需更改 IIS 中的应用程序池设置。

```
Step 1:
Open Internet Information Service Manager
Step 2:
Click on Application Pools in left navigation tree.
Step 3:
Select your version Pool. In my case, I am using ASP .Net v4.0\. If you dont have this version, select DefaultAppPool.
Step 4:
Right click on step 3, and select advanced settings.
Step 5:
Select Identity in properties window and click the button to change the value.
Step 6:
Select Local System in Built-in accounts combo box and click ok.
That's it. Now run your application. Everything works well. 
```

**还要检查这个：**

[http://stack247.wordpress.com/2011/03/02/entity-framework-exception-the-underlying-provider-failed-on-open/](http://stack247.wordpress.com/2011/03/02/entity-framework-exception-the-underlying-provider-failed-on-open/)

**和**

[http://stack247.wordpress.com/2011/03/07/wcf-exception-in-iis-only-the-underlying-provider-failed-on-open-access-to-entity-framework/](http://stack247.wordpress.com/2011/03/07/wcf-exception-in-iis-only-the-underlying-provider-failed-on-open-access-to-entity-framework/)

# c# - Autofac 解决单例会造成瓶颈

> ID：15826228
> 
> 赞同：7
> 
> 时间：2013-04-05T05:00:31.593
> 
> 标签：c#, asp.net-mvc, autofac

我在 asp.net MVC 应用程序中使用 Autofac，遇到了锁定问题。任何时候服务依赖于单例，该服务都会从根生命周期范围内解析。这是因为 Autofac：

*   从根范围解析单例组件
*   从根范围解析任何具有必须从根解析的依赖项的组件。

此外，当从任何范围解析时，Autofac 会锁定该范围。我认为这些都是很好的设计决策。我的问题是依赖单例**并且**构造函数缓慢的行为不端的类。这给需要解决单例的其他人造成了瓶颈。

由于这是在 MVC 应用程序中，因此每个请求都被映射到构造函数注入的某个 MVC 控制器。此外，我的大多数控制器都依赖于各种单例服务（日志记录、缓存等）。

对于具有快速构造函数的事物，这不是问题。但是，一旦请求了一个写得不好的类，我的吞吐量就会下降，因为每个新请求都会被那个行为不端的构造函数阻塞。例如：

**鉴于这 3 类**

```
//registered as SingleInstance()
class MySingleton {}

class BadTransient
{
    public BadTransient(MySingleton s)
    { Thread.Sleep(5000); }
}  

class FriendlyTransient {} 
```

**像这样解决**

```
using(var scope = container.BeginLifetimeScope("nested scope"))
{

    //resolves from child scope
    var myFriend = scope.Resolve<FriendlyTransient>(); 

    //resolves from root because it's a singleton
    var singleton = scope.Resolve<MySingleton>(); 

    //resolves from root because it has a singleton dependency. 
    //**** this locks the root scope for 5 seconds
    //****   no one else can resolve singletons.
    var troublemaker = scope.Resolve<BadTransient>();         
} 
```

**有没有办法可以避免这个瓶颈？**

显而易见的答案是拥有快速的构造函数。现实情况是，并非我的代码库中的所有构造函数都可以保证很快。有*很多*遗留代码，有很多依赖于 3rd 方代码的代码，有一些看起来很快但依赖于不是的代码，有一些通常很快但在奇怪的情况下会崩溃的代码，等等。教育开发人员只管用在某种程度上。

我们一直在修复构造函数，但我需要一个更主动的解决方案。让我的用户做我的 QA 是不可接受的。

*注意：我不太关心不依赖单例的慢速构造函数。他们将锁定其生命周期范围，但不会阻塞其他线程*

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-05T11:28:27.940

我同意@nemesv 的观点，即对象构造应该很快，但这也意味着不在`OnActivated`. 相反，您应该在第一次使用组件时懒惰地执行此操作。例如，通过在`Lazy<T>`内部实现代理或某些代理。

但是，如果您的应用程序具有极高的吞吐量和并发特性，并且您通过性能分析验证锁定是一个瓶颈，您可以考虑切换到无锁 IoC 容器。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-14T17:44:13.917

我通过使用 autofac 的闭包语法重新注册所有单例来解决这个问题。
这将构造逻辑保留在 autofac 中，但从子生命周期范围内解析单例。在本质上：

```
builder.Register<MySingleton>().AsSelf().AsImplementedInterfaces();
//.. other registrations

var container = builder.Build();

// now resolve each singleton, forcing all to be constructed if not already
//   and then register the instance
var builder2 = new ContainerBuilder();

var mySingleton = container.Resolve<MySingleton>();
builder2.Register(c => mySingleton).AsSelf().AsImplementedInterfaces();
builder2.Update(container);

//.....
var scope = container.BeginLifetimeScope("child scope");   
scope.Resolve<MySingleton>(); //not resolved from root! 
```

然后，由于有很多单例并且我可以通过编程方式查询它们的类型，所以我编写了一个函数，它接受一个类型列表并运行上面的代码。它必须做一些反射魔法，虽然只在正常 autofac 注册代码末尾的应用程序启动时运行。

```
void ReRegisterSingletons(IContainer container, List<Type> singletonTypes)
{
     var builder= new ContainerBuilder();
     foreach(var type in singletonTypes)
     {

          var resolved = container.Resolve(type);
          var method = this.GetType().GetMethod("ReRegister").MakeGenericMethod(new []{type});
          method.Invoke(this, new []{resolved});
     }

     builder.Update(container);
}

void Register<T>(ContainerBuilder builder, object singleton)
{
    var theObj = (T)singleton;

     //a typed lambda was the only way I could get both the class name and the interface names to resolve from the child scope. RegisterInstance still resolves from root, and the non-generic lamba register can resolve the class name from child scope but not the interface names...
    builder.Register(c => theObj).AsSelf().AsImplementedInterfaces();
} 
```

# java - 我一遍又一遍地遇到同样的错误

> ID：15826230
> 
> 赞同：-1
> 
> 时间：2013-04-05T05:00:35.613
> 
> 标签：java

这是我的错误。有谁知道我为什么会收到这个错误的问题？我正在使用 JGrasp

```
PeerTutorReport.java:13: error: <identifier> expected
    public static String[] getTutorNames(listNames) {
                                                  ^
1 error 
```

----jGRASP楔2：进程退出代码为1。

```
import javax.swing.JOptionPane;
import java.util.Arrays;

public class Report {

public static void main(String[] args) {

      String[] listNames = getTutorNames();
}

public static String[] getTutorNames(listNames) {

      String firstName;
    String lastName;
    String[] listNames = new String[10];

    for (int x = 0; x < listNames.length; x++) {
        firstName = JOptionPane.showInputDialog(null, "Enter Tutor's First Name: ");
        lastName = JOptionPane.showInputDialog(null, "Enter Tutor's Last Name: ");

        if (firstName.equals("") && lastName.equals("")) {
            break; // loop end
        }
        listNames[x] = lastName + ", " + firstName;
    }
    return listNames;
} 
```

}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T05:01:38.010

您不应该将参数传递给此方法。

```
 getTutorNames(someArg); //This is how you'd call the `getTutorNames(String[] listNames)` method. 
```

这也应该是这样的： -

```
public static String[] getTutorNames(String[] listNames){ // Give a type for the "listNames" argument 
```

此外，您需要为此处的参数使用不同的名称，或者在方法中`getTutorNames(String[] listNames)`使用不同的名称。`String[] listNames = new String[10];``getTutorNames`

**更新：-**下面的代码确实有效。亲自检查。

```
public static void main(String[] args) {

    String[] listNames = getTutorNames();
}

public static String[] getTutorNames() {
    ...
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T05:03:30.283

你有两个错误：

1.  您必须为`listNames`参数定义一个类型。

    ```
    public static String[] getTutorNames(listNames) { //type of listNames?? 
    ```

2.  你`getTutorNames`需要你传递一个论点：

    ```
    String[] listNames = getTutorNames(); //argument here! 
    ```

看起来您需要删除方法的`listNames`参数`getTutorNames`。

```
public static String[] getTutorNames() {
    //code content...
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-05T05:06:56.940

您的方法签名应该是，请注意`String`您的方法中缺少的参数。

```
public static String[] getTutorNames(String listNames) 
```

并且您需要在调用该方法时传递字符串。喜欢

```
String[] listNames = getTutorNames("someName"); 
```

***或者***

如下更改您的方法，不带参数

```
public static String[] getTutorNames() 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-04-05T05:02:05.563

将 getTutorNames() 的签名更改为不接受任何参数。那正是你想要的。无论如何，它的定义是错误的。

# performance - OpenVZ、apache2 和 wordpress：第一个字节时间长

> ID：15826234
> 
> 赞同：0
> 
> 时间：2013-04-05T05:00:43.863
> 
> 标签：performance, wordpress, apache, debian

我有带有 400Mb 内存和 800MHz CPU 的 OpenVZ VPS。操作系统是 Debian 6。我已经安装了 Apache2 和 Wordpress。

我使用网络工具测试我的网站性能。测试结果在这里：[http ://www.webpagetest.org/result/130405_04_5TF/](http://www.webpagetest.org/result/130405_04_5TF/)

一切正常，但第一个字节时间太长。我不明白为什么 apache long time 甚至没有给出静态内容。

为什么会这样？如果需要，我可以提供配置文件。

apache2.conf：

```
LockFile ${APACHE_LOCK_DIR}/accept.lock

PidFile ${APACHE_PID_FILE}

Timeout 300

KeepAlive On

MaxKeepAliveRequests 100

KeepAliveTimeout 15

<IfModule mpm_prefork_module>
StartServers       1
MinSpareServers    1
MaxSpareServers    5
MaxClients        10
    MaxRequestsPerChild   0
</IfModule>

<IfModule mpm_worker_module>
StartServers       1
MinSpareThreads    1
MaxSpareThreads    4
    ThreadLimit          64
    ThreadsPerChild      25
MaxClients        10
    MaxRequestsPerChild   0
</IfModule>

<IfModule mpm_event_module>
StartServers       1
MaxClients        10
MinSpareThreads    1
MaxSpareThreads    4
    ThreadLimit          64
    ThreadsPerChild      25
    MaxRequestsPerChild   0
</IfModule>

User ${APACHE_RUN_USER}
Group ${APACHE_RUN_GROUP}

AccessFileName .htaccess

<Files ~ "^\.ht">
    Order allow,deny
    Deny from all
    Satisfy all
</Files>

DefaultType text/plain

HostnameLookups Off

ErrorLog ${APACHE_LOG_DIR}/error.log

LogLevel warn

Include mods-enabled/*.load
Include mods-enabled/*.conf

Include httpd.conf

Include ports.conf

LogFormat "%v:%p %h %l %u %t \"%r\" %>s %O \"%{Referer}i\" \"%{User-Agent}i\"" vhost_combined
LogFormat "%h %l %u %t \"%r\" %>s %O \"%{Referer}i\" \"%{User-Agent}i\"" combined
LogFormat "%h %l %u %t \"%r\" %>s %O" common
LogFormat "%{Referer}i -> %U" referer
LogFormat "%{User-agent}i" agent

Include conf.d/

Include sites-enabled/ 
```

httpd.conf 为空

.htaccess 用于我的网站（使用 W3 Super Cache 指令）：

```
# BEGIN W3TC Browser Cache
<IfModule mod_mime.c>
    AddType text/css .css
    AddType text/x-component .htc
    AddType application/x-javascript .js
    AddType application/javascript .js2
    AddType text/javascript .js3
    AddType text/x-js .js4
</IfModule>
<IfModule mod_expires.c>
    ExpiresActive On
    ExpiresByType text/css A31536000
    ExpiresByType text/x-component A31536000
    ExpiresByType application/x-javascript A31536000
    ExpiresByType application/javascript A31536000
    ExpiresByType text/javascript A31536000
    ExpiresByType text/x-js A31536000
</IfModule>
<IfModule mod_deflate.c>
    <IfModule mod_headers.c>
        Header append Vary User-Agent env=!dont-vary
    </IfModule>
        AddOutputFilterByType DEFLATE text/css text/x-component application/x-javascript application/javascript text/javascript text/x-js text/html text/richtext image/svg+xml text/plain text/xsd text/xsl text/xml image/x-icon application/json
    <IfModule mod_mime.c>
        # DEFLATE by extension
        AddOutputFilter DEFLATE js css htm html xml
    </IfModule>
</IfModule>
<FilesMatch "\.(css|htc|js|js2|js3|js4|CSS|HTC|JS|JS2|JS3|JS4)$">
    <IfModule mod_headers.c>
        Header set Pragma "public"
        Header append Cache-Control "public"
         Header unset Set-Cookie
    </IfModule>
</FilesMatch>
<FilesMatch "\.(html|htm|rtf|rtx|svg|svgz|txt|xsd|xsl|xml|HTML|HTM|RTF|RTX|SVG|SVGZ|TXT|XSD|XSL|XML)$">
    <IfModule mod_headers.c>
        Header set Pragma "public"
        Header set Cache-Control "max-age=86400, public"
    </IfModule>
</FilesMatch>
<FilesMatch "\.(asf|asx|wax|wmv|wmx|avi|bmp|class|divx|doc|docx|eot|exe|gif|gz|gzip|ico|jpg|jpeg|jpe|json|mdb|mid|midi|mov|qt|mp3|m4a|mp4|m4v|mpeg|mpg|mpe|mpp|otf|odb|odc|odf|odg|odp|ods|odt|ogg|pdf|png|pot|pps|ppt|pptx|ra|ram|svg|svgz|swf|tar|tif|tiff|ttf|ttc|wav|wma|wri|xla|xls|xlsx|xlt|xlw|zip|ASF|ASX|WAX|WMV|WMX|AVI|BMP|CLASS|DIVX|DOC|DOCX|EOT|EXE|GIF|GZ|GZIP|ICO|JPG|JPEG|JPE|JSON|MDB|MID|MIDI|MOV|QT|MP3|M4A|MP4|M4V|MPEG|MPG|MPE|MPP|OTF|ODB|ODC|ODF|ODG|ODP|ODS|ODT|OGG|PDF|PNG|POT|PPS|PPT|PPTX|RA|RAM|SVG|SVGZ|SWF|TAR|TIF|TIFF|TTF|TTC|WAV|WMA|WRI|XLA|XLS|XLSX|XLT|XLW|ZIP)$">
    <IfModule mod_headers.c>
        Header set Pragma "public"
        Header set Cache-Control "max-age=31536000, public"
    </IfModule>
</FilesMatch>
# END W3TC Browser Cache
# BEGIN WordPress

# END WordPress

<files wp-config.php>
  Order deny,allow
  deny from all
</files>

<files setchmod>
  Order deny,allow
  deny from all
</files> 
```

php.ini：

```
engine = On
short_open_tag = On
asp_tags = Off
precision = 14
y2k_compliance = On
output_buffering = 4096
zlib.output_compression = Off
implicit_flush = Off
unserialize_callback_func =
serialize_precision = 100
allow_call_time_pass_reference = Off
safe_mode = Off
safe_mode_gid = Off
safe_mode_include_dir =
safe_mode_exec_dir =
safe_mode_allowed_env_vars = PHP_
safe_mode_protected_env_vars = LD_LIBRARY_PATH
disable_functions =
disable_classes =
expose_php = On
max_execution_time = 30
max_input_time = 60
memory_limit = 128M
error_reporting = E_ALL & ~E_DEPRECATED
display_errors = Off
display_startup_errors = Off
log_errors = On
log_errors_max_len = 1024
ignore_repeated_errors = Off
ignore_repeated_source = Off
report_memleaks = On
track_errors = Off
html_errors = Off
variables_order = "GPCS"
request_order = "GP"
register_globals = Off
register_long_arrays = Off
register_argc_argv = Off
auto_globals_jit = On
post_max_size = 8M
magic_quotes_gpc = Off
magic_quotes_runtime = Off
magic_quotes_sybase = Off
auto_prepend_file =
auto_append_file =
default_mimetype = "text/html"
doc_root =
user_dir =
enable_dl = Off
file_uploads = On
upload_max_filesize = 2M
max_file_uploads = 20
allow_url_fopen = On
allow_url_include = Off
default_socket_timeout = 60
pdo_mysql.cache_size = 2000
pdo_mysql.default_socket=
define_syslog_variables  = Off
SMTP = localhost
smtp_port = 25
mail.add_x_header = On
sql.safe_mode = Off
odbc.allow_persistent = On
odbc.check_persistent = On
odbc.max_persistent = -1
odbc.max_links = -1
odbc.defaultlrl = 4096
odbc.defaultbinmode = 1
ibase.allow_persistent = 1
ibase.max_persistent = -1
ibase.max_links = -1
ibase.timestampformat = "%Y-%m-%d %H:%M:%S"
ibase.dateformat = "%Y-%m-%d"
ibase.timeformat = "%H:%M:%S"
mysql.allow_local_infile = On
mysql.allow_persistent = On
mysql.cache_size = 2000
mysql.max_persistent = -1
mysql.max_links = -1
mysql.default_port =
mysql.default_socket =
mysql.default_host =
mysql.default_user =
mysql.default_password =
mysql.connect_timeout = 60
mysql.trace_mode = Off
mysqli.max_persistent = -1
mysqli.allow_persistent = On
mysqli.max_links = -1
mysqli.cache_size = 2000
mysqli.default_port = 3306
mysqli.default_socket =
mysqli.default_host =
mysqli.default_user =
mysqli.default_pw =
mysqli.reconnect = Off
mysqlnd.collect_statistics = On
mysqlnd.collect_memory_statistics = Off
pgsql.allow_persistent = On
pgsql.auto_reset_persistent = Off
pgsql.max_persistent = -1
pgsql.max_links = -1
pgsql.ignore_notice = 0
pgsql.log_notice = 0
sybct.allow_persistent = On
sybct.max_persistent = -1
sybct.max_links = -1
sybct.min_server_severity = 10
sybct.min_client_severity = 10
bcmath.scale = 0
session.save_handler = files
session.use_cookies = 1
session.use_only_cookies = 1
session.name = PHPSESSID
session.auto_start = 0
session.cookie_lifetime = 0
session.cookie_path = /
session.cookie_domain =
session.cookie_httponly =
session.serialize_handler = php
session.gc_probability = 0
session.gc_divisor = 1000
session.gc_maxlifetime = 1440
session.bug_compat_42 = Off
session.bug_compat_warn = Off
session.referer_check =
session.entropy_length = 0
session.cache_limiter = nocache
session.cache_expire = 180
session.use_trans_sid = 0
session.hash_function = 0
session.hash_bits_per_character = 5
url_rewriter.tags = "a=href,area=href,frame=src,input=src,form=fakeentry"
mssql.allow_persistent = On
mssql.max_persistent = -1
mssql.max_links = -1
mssql.min_error_severity = 10
mssql.min_message_severity = 10
mssql.compatability_mode = Off
mssql.secure_connection = Off
tidy.clean_output = Off
soap.wsdl_cache_enabled=1
soap.wsdl_cache_dir="/tmp"
soap.wsdl_cache_ttl=86400
soap.wsdl_cache_limit = 5
ldap.max_links = -1 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T14:43:35.333

从结果页面的 Waterfall 视图中，您可以看到进行 DNS 查找并建立与服务器的连接需要 0.5 秒以上的时间。然后您的服务器需要大约 0.25 秒来处理第一个请求并使用 HTTP 302 重定向（到`/?lang=en`）进行回复。

由于您已正确配置 keep-alive，所有后续请求都会重新使用相同的连接。收到重定向后，客户端立即发送一个新请求并等待您的服务器处理它（第二行的绿色条） - 它花费了您的服务器大约 0.7 秒，这不太好。然后从服务器下载返回的数据大约需要 0.15 秒。其他请求也开始了第二个连接，因此图像通过两个连接并行下载。

建立连接的时间很长可能是因为您的服务器（爱沙尼亚）和测试服务器（可能是美国）之间的距离。您唯一可以轻松优化的是您的服务器生成主页所需的 0.7 秒。也许你需要调整你的 MySQL 参数或设置 Wordpress 来缓存一些生成的页面元素。

# perl - 使用 File::Find::Rule 获取 Perl 中的文件列表

> ID：15826243
> 
> 赞同：0
> 
> 时间：2013-04-05T05:01:14.847
> 
> 标签：perl

我正在尝试识别我的存储库中所有 .cpp 文件的列表。我正在使用以下脚本：

```
use File::Find::Rule;
use strict;
use warnings;

my @files = File::Find::Rule->name('*.cpp');
print Dumper @files; 
```

我得到以下输出：

```
$VAR1 = bless( {
             'mindepth' => undef,
             'maxdepth' => undef,
             'extras' => {},
             'subs' => {},
             'iterator' => [],
             'rules' => [
                          {
                            'args' => [
                                        '*.cpp'
                                      ],
                            'rule' => 'name',
                            'code' => 'm{(?-xism:^(?=[^\\.])[^/]*\\.cpp$)}'
                          }
                        ]
           }, 'File::Find::Rule' ); 
```

我在网上找不到任何关于获取文件列表的参考资料。

有人可以指点我如何获得所需的清单吗？

谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-05T05:07:09.050

单程：

```
my @files = File::Find::Rule->file()->name('*.cpp')->in('.'); 
```

# html - 在 IE<=7 中将一个元素浮动到包含具有可变宽度的父项中的右侧

> ID：15826245
> 
> 赞同：0
> 
> 时间：2013-04-05T05:01:20.730
> 
> 标签：html, css

我有一个没有设置宽度的容器 div，其中包含一个可变宽度的表格，以及表格下方的一个按钮。我希望这个按钮浮动在右侧，使其右边缘与桌子的右边缘对齐。执行以下操作似乎在所有浏览器中都可以正常工作，但 IE<=7。这是如何正确完成的？

```
<head>
    <style>
#tableContainer {
    float: left;
}
#btn {
  float: right;
}

    </style>
</head>
    <body>
        <div id="tableContainer">
            <table>
                <tr>
                    <td>a b c</td>
                    <td>a b c</td>
                    <td>a b c</td>
                    <td>a b c</td>
                </tr>
            </table>
            <button id="btn">buttontext</button>
        </div>
    </body>
</html> 
```

这是我想要的说明：

```
__________________
|                |
|       table    |
|________________|
             |btn|
             ‾‾‾‾‾ 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T05:04:48.100

你能把按钮从div里拿出来吗？那应该可以解决您的问题。

否则，添加`float:left`（`#tableContainer table`不推荐）

您还可以将表格包装到另一个 div 中，并将该 div 浮动到左侧

另外，您必须将按钮移到表格之前

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T05:18:25.973

我希望这就是你的意思..

```
 #tableContainer {
        float:left;
    }
    #btn {
        position:relative;
        left:0;
        right:0;
        float:right;
    } 
```

**[工作小提琴](http://jsfiddle.net/mLyMT/2/)**

**要不然**

```
 #tableContainer {
        float:left;
        display: inline;
    }
    #btn {
        float:right;
        display: inline;
    } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-06T13:07:03.627

好的，我最终制定的一个解决方案如下：

```
<head>
    <style>
#tableContainer {
    float: left;
}
#btncontainer {
  text-align: right;
}

    </style>
</head>
    <body>
        <div id="tableContainer">
            <table>
                <tr>
                    <td>a b c</td>
                    <td>a b c</td>
                    <td>a b c</td>
                    <td>a b c</td>
                </tr>
            </table>
    <div id="btncontainer">
                <button>buttontext</button>
    </div>
        </div>
    </body>
</html> 
```

我们在这里所做的是创建一个按钮容器并在其上设置“text-align:right”。或者，我们可以跳过 btn-container 并将 text-align 放在 table-container 中，假设没有其他元素需要在左侧（这不会影响表格的定位方式，只要它比按钮更宽我的情况。

对我来说，使用 text-align 来对齐按钮确实感觉不合逻辑。对此有何评论？

# sql - 在 SQL Pivot 中将 NULL 转换为 0

> ID：15826249
> 
> 赞同：1
> 
> 时间：2013-04-05T05:01:45.523
> 
> 标签：sql, sql-server, pivot

下面的代码成功生成了一个Pivot（如下代码所示）

```
select * 
from (
Select GLAccount , DC , Amount  from AccountingTxns a where Acctno = '178523'
)
TableData
pivot (
sum (Amount)
for DC in ([D],[C])
) 
as SumAmountDC 
```

```
GLAccount DC
利息到期 3801.37 3731.68
现金 25600 25000
应收账款 3801.37 3801.37
收入 NULL 3684.47
IntOverdue NULL 116.9
校长 25000 21868.32

```

我如何摆脱 NULL（即将它们转换为 0）？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-05T05:04:06.440

使用`COALESCE`，

```
SELECT  GLAccount, 
        COALESCE(D, 0) D, 
        COALESCE(C, 0) C
FROM 
        (
            SELECT  GLAccount, 
                    DC , 
                    Amount  
            FROM    AccountingTxns a 
            WHERE   Acctno = '178523'
        ) TableData
        PIVOT
        (
            SUM(Amount)
            FOR DC IN ([D],[C])
        ) SumAmountDC 
```

*   [TSQL 合并（）](http://msdn.microsoft.com/en-us/library/ms190349.aspx)

# ruby-on-rails - 如何循环遍历属性和数组以在表单中创建表

> ID：15826265
> 
> 赞同：2
> 
> 时间：2013-04-05T05:02:56.437
> 
> 标签：ruby-on-rails

我正在创建一个调查，并且有一堆`:movie_1`通过命名的列`:movie_5`，我想循环遍历这些列以在我的表单中创建一个表格。最好的方法是什么？

到目前为止，我已经开始如下，但无法弄清楚如何格式化循环。

**调查.rb**模型

```
attr_accessible :movie_1, :movie_2, :movie_3, :movie_4, :movie_5

MOVIES = ["Rocky", "Wayne's World", "The Godfather", "Alien", "Toy Story"] 
```

**new.html.erb**调查表

```
<%= form_for @survey do |f|
  <table>
    <tr>
      <th>Movie Name</th>
      <th>Rating</th>
    </r>
    <% 5.times.each do |n| %>
      <tr>
        <th><%= f.label Survey::MOVIES[n] %></th> # how can I loop through the MOVIES array?
        <th><%= f.text_field :movie_n %></th> # how can I loop through the different columns?
      </tr>
    <% end %>
  </table>
<% end %> 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-05T05:08:05.850

在这种情况下，您可能需要考虑制作另一个模型`Movie`，`Survey`然后使用嵌套表单来显示所有电影/更新它们。

[这里有一些关于嵌套表单](http://railscasts.com/episodes?utf8=%E2%9C%93&search=nested+forms)的好Railscast 。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-05T05:14:07.307

您可以遍历该列并仅使用与命名模式匹配的那些。

例子

```
Survey.columns.select{|c| c if c =~ /movie_[0-9]/}.each { |movie_column| puts movie_column } 
```

但更好的解决方案是设置正确的关系，就像*mind.blank*描述的那样。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-05T05:08:46.210

这应该有效：

```
<% Survey::MOVIES.each_with_index do |movie, index| %>
  <tr>
    <th><%= f.label movie %></th>
    <th><%= f.text_field "movie_#{index+1}".to_sym %></th>
  </tr>
<% end %> 
```

`movie_1`然而，mind.blank 是正确的：在您的调查模型中包含,`movie_2`等字段是糟糕的设计。拥有属于调查的电影模型会更有意义。

# ios - iOS：NSNotification 无法识别的选择器错误

> ID：15826266
> 
> 赞同：1
> 
> 时间：2013-04-05T05:02:59.360
> 
> 标签：ios, objective-c, nsnotificationcenter

```
NSNotification *notification = [NSNotification notificationWithName:@"locationObtained" object:self];
[[NSNotificationCenter defaultCenter]postNotification:notification]; 
```

我明白了`[LocavoreRetroFirstViewController startServices]: unrecognized selector sent to instance 0x74c3070`

```
- (void)listenForLocationCompletion{
    [[NSNotificationCenter defaultCenter]addObserver:self
                                            selector:@selector(startServices)
                                                name:@"locationObtained"
                                              object:nil];
}

- (void)startServices:(NSNotification *)notification{

} 
```

我收到此错误的任何原因？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-05T05:11:34.690

改成 ：

```
[[NSNotificationCenter defaultCenter]addObserver:self
                                            selector:@selector(startServices:)
                                                name:@"locationObtained"
                                              object:nil];
} 
```

**您的选择器 startServices 在末尾错过了一个“：”**

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-05T05:07:58.100

您有一个`LocavoreRetroFirstViewController`为通知注册的对象，`locationObtained`并已被释放。

在 LocavoreRetroFirstViewController 的实现文件中添加这个：

```
-(void) dealloc {
    [[NSNotificationCenter defaultCenter] removeObserver:self];
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-05T05:06:23.950

您是否检查过是否有一个名为 的方法`startServices`？`LocavoreRetroFirstViewController`发布通知后 ' 的对象还活着吗？请发布通知的观察者代码，以便我了解更多。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-05T05:07:43.443

您忘记了选择器名称中的分号。

应该是`@selector(startServices:)`。

# iphone - 不同部分中的所有 tableCells 都选择了同一行（使用 NSIndexPath）

> ID：15826267
> 
> 赞同：1
> 
> 时间：2013-04-05T05:03:11.750
> 
> 标签：iphone, ios, objective-c

我尝试通过以下方式创建一个简单的清单样式 tableView：

```
- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath {
    if ([_selectedRows containsObject:indexPath]) {
        [_selectedRows removeObject:indexPath];
        [tableView cellForRowAtIndexPath:indexPath].accessoryType = UITableViewCellAccessoryNone;
    } else {
        [_selectedRows addObject:indexPath];
        [tableView cellForRowAtIndexPath:indexPath].accessoryType = UITableViewCellAccessoryCheckmark;
    }
    [tableView deselectRowAtIndexPath:indexPath animated:YES];
} 
```

但是，当我选择第一个项目并滚动时，我发现同一部分中的所有第一个项目旁边都有复选标记。NSIndexPath 不包含行和节吗？是什么让所有项目都在这里被选中？:(

谢谢！

* * *

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath {
UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CELL_IDENTIFIER];

if (!cell) {
    cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CELL_IDENTIFIER];
}

if ([_selectedRows containsObject: indexPath]) {
    cell.accessoryType = UITableViewCellAccessoryCheckmark;
}

ABRecordRef selectedFriend = CFArrayGetValueAtIndex(_allFriends, [indexPath row]);
NSString *firstName = (__bridge NSString *)(ABRecordCopyValue(selectedFriend, kABPersonFirstNameProperty));
NSString *lastName = (__bridge NSString *)(ABRecordCopyValue(selectedFriend, kABPersonLastNameProperty));
cell.textLabel.text = [NSString stringWithFormat:@"%@ %@", firstName, lastName];

return cell; 
```

}

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T05:14:18.450

由于单元重复使用，您还必须在必要时移除复选标记附件（在 中`cellForRowAtIndexPath`）：

```
if ([_selectedRows containsObject: indexPath]) {
    cell.accessoryType = UITableViewCellAccessoryCheckmark;
} else {
    cell.accessoryType = UITableViewCellAccessoryNone;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T05:14:40.943

您需要将附件设置`UITableViewCellAccessoryNone`为未选择的行，因为出队的行将保留其附件。

```
// put this in your cellForRowAtIndexPath method
if ([_selectedRows containsObject: indexPath]) {
    cell.accessoryType = UITableViewCellAccessoryCheckmark;
}
else {
    cell.accessoryType = UITableViewCellAccessoryNone;
} 
```

# jquery - 从文件上传窗口读取文件名到文本框

> ID：15826276
> 
> 赞同：1
> 
> 时间：2013-04-05T05:04:26.240
> 
> 标签：jquery, asp.net, file-upload

在我的 asp.net 应用程序中，我使用了`Textbox`,`button`和`hidden fileupload control`.
当使用 jquery 单击按钮时，我得到`fileupload window`如下信息，

```
protected void btn_browse_Click(object sender, EventArgs e)
{
    StringBuilder strScript = new StringBuilder();
    strScript.Append("$(document).ready(function(){");
    strScript.Append("$('#FileUpload1').click();");
    strScript.Append("});");
    Page.ClientScript.RegisterStartupScript(this.GetType(), "Script", strScript.ToString(), true);
    txt_fileName.Text=FileUpload1.FileName;
} 
```

我的问题是我无法将选定的文件名显示`fileupload`到`textbox`.
文件名未显示在`textbox`

任何建议。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-05T05:12:04.680

**在服务器端，您可以这样做：**

```
string filename = Path.GetFileName(fID.PostedFile.FileName);
fID.SaveAs(Server.MapPath("Files/"+filename));
string fpath = "Files/"+filename; 
```

**和jQuery：**

```
$(document).ready(function () {  
   $("#btnFileUpload").click(function () {  
        var FUpload = $("#FileUploadControl").val();  
    }
 } 
```

**对于 JavaScript：**

```
<script type="text/javascript">
function getFileName() {
var varfile = document.getElementById("FileUploadControl");
document.getElementById("filename").value = varfile.value;
}
</script> 
```

***FileUpload 控制将是：***

```
<asp:FileUpload ID="FileUploadControl" runat="server" onchange="getFileName()" 
```

# deployment - 部署 SharePoint 2010 网站模板时出错

> ID：15826280
> 
> 赞同：0
> 
> 时间：2013-04-05T05:04:49.960
> 
> 标签：deployment, sharepoint-2010

我有一个 Web 应用程序，其中有很少的文档库、列表、图片库、工作流和一些 Web 部件。Web 部件是使用 Visual Studio 创建的，具有功能站点范围。工作流是使用 SPD 创建的。在我的本地 SharePoint 服务器中一切正常。我想将我的 Web 应用程序复制到另一台服务器。为此，我保存了站点模板 Site `Actions-> Save Site as template`，将 wsp 保存到我的桌面。然后我将 wsp 带到我创建 web 应用程序的另一台服务器机器**上**。

然后使用 PowerShell 命令添加使用 Add-SPSolution 命令的解决方案。尝试使用 Install-SPSolution 命令安装时**出现错误：**

> 此解决方案不包含适用于 Web 应用程序的资源，并且无法部署到特定的 Web 应用程序

我尝试将 webpart 功能的范围更改为 Web/WebApplication，但在尝试使用 Visual Studio 部署时遇到错误。

如何在不同的 SharePoint Server 计算机中部署 wsp？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-07T08:20:53.570

当您将站点保存为模板时，您将只保存站点，而不是您的 Web 应用程序。首先创建 Web 应用程序（可能没有站点模板），然后从您的 WSP 推出您的站点。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-11-08T01:25:46.013

如果您使用 powershell 部署解决方案，请记住包含标志 -GACDeployment。

# javascript - 如何使用 MongoDB 验证输入？

> ID：15826281
> 
> 赞同：2
> 
> 时间：2013-04-05T05:04:54.257
> 
> 标签：javascript, node.js, mongodb

我有一个简单的小用户注册表，如下所示：

```
// POST Register new user
exports.new = function(req, res) {
    var db = require('mongojs').connect('localhost/busapp', ['users']);
    db.users.ensureIndex({email:1}, {unique: true})

    function User(email, username, password, dateCreated) {
        this.email = email;
        this.username  = username;
        this.password = password;
        this.dateCreated = new Date();
        this.admin = 0;
        this.activated = 0
    }

    if (req.body.user.password !== req.body.user.passwordc) {
        res.send('Passwords do not match');
    } else {

        var user = new User(req.body.user.email, req.body.user.username, 
                            req.body.user.password);

        // TODO: Remove this after we clarify that it works.

        console.log(user.email + " " + user.username + " " +  
                    user.password);

        // Save user to database

        db.users.save(user, function(err, savedUser) {
            if (err) {
                res.send(err);
            } else {
            console.log("User " + savedUser.email + " saved");
            }
        });
    }
} 
```

但是我在验证提交的信息时遇到了麻烦，比如唯一值是空的，诸如此类，所以没有人可以向数据库发送 post 请求以绕过 jQuery 验证功能。我已通读文档，但似乎无法正确理解。我尝试设置一个 ensureIndex，但是，这似乎不起作用。任何有关如何验证数据库端输入的信息都将非常感谢！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-05T07:03:57.827

MongoDB 的优势/特性之一是灵活的模式。MongoDB 没有对字段类型施加任何特定的约束。一般来说，对于 Web 应用程序，您应该尽可能早地进行验证。所以首先在客户端 (JavaScript) 级别，然后是应用程序，最后在数据库服务器中进行验证。

## MongoDB 验证

MongoDB 可以进行有限数量的验证，例如确保唯一索引。任何数据验证，例如必填字段或字段类型（字符串、整数、..）都应该在您的应用程序代码中完成。

## 客户端/应用程序验证

您可以使用 jQuery 验证，但这只会在客户端（浏览器视图）中有效。任何验证也应该在您的应用程序代码/模型中完成，否则在浏览器中禁用 JavaScript 将是插入无效数据的简单方法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T06:02:37.770

为什么你不能做密码！=“”之类的东西。至于唯一值，您应该使用 find 或 findOne 函数来查看数据库中是否存在该名称。

我强烈建议安装猫鼬。它非常有用，因为它允许您创建模式。因此，如果您熟悉 MVC，在您的模型中，您将拥有包含用户架构的 user.js。基本上它给出了用户对象将如何存储在数据库中的指南。在您的控制器中，您将尝试在上面的代码中执行您正在执行的操作。你会做一个 user = require(user.js) 然后你会做 user.find() 或 user.findOne() 在数据库中找到那个东西。例如。如果用户名已经在数据库中，那么它不是唯一的。所以不要加他。

# python - Python文字游戏问题

> ID：15826282
> 
> 赞同：0
> 
> 时间：2013-04-05T05:04:56.107
> 
> 标签：python, python-3.x

所以我最近在看一个关于如何创建刽子手的python教程。我试过了，但它的源代码有一些问题，所以我一直在尝试编写运行良好的类似代码。我最近才遇到一个问题。基本上，每当您猜测“秘密”字符串中的最后一个字母时，它都不会用该字母替换空格。我想知道为什么会发生这种情况以及如何解决它。

这是代码

```
import random
words = '''aardvark baboon calf camel deer dingo alligator ant jackal iguana 
falcon flamingo macaw manatee marmoset flee emu narwhal leopord ocelot 
lemming opossum dog dolphin dove beaver bison wallaby rabbit salamander 
seagull sheep skunk tiget tortoise unicorn dragon zombie'''.split()

def randomWord(wordList):
    wIndex = random.randint(0, len(wordList) - 1)
    return wordList[wIndex]

def displayGame(wrong, right, secret):
    print('Wrong Guesses:', end=' ')
    for letter in wrong:
        print(letter, end=' ')
    print()

    blanks = '_' * len(secret)

    for i in range(0, len(secret) - 1):
        if secret[i] in right:
            blanks = blanks[:i] + secret[i] + blanks[i+1:]

    for letter in blanks:
        print(letter, end=' ')
    print()

def getGuess(guessed):
    while True:
        guess = input()
        guess = guess.lower()
        if len(guess) != 1:
            print('Please enter a single letter.')
        elif guess in guessed:
            print('You have already guessed that letter.')
        elif guess not in 'abcdefghijklmnopqrstuvwxyz':
            print('Please print a letter.')
        else:
            return guess

def playAgain():
    print('Would you like to play again? (yes or no)', end=' ')
    while True:
        keepGoing = input()
        if keepGoing == 'yes':
            return True
        elif keepGoing == 'no':
            return False
        else:
            print('Yes or no please.')

print('Guessing Game!')
print()
wrong = ''
right = ''
secret = randomWord(words)
gameOver = False
while True:
    while gameOver == False:
        displayGame(wrong, right, secret)

        guess = getGuess(wrong + right)

        if guess in secret:
            right += guess

            foundAll = True
            for i in range(0, len(secret) - 1):
                if secret[i] not in right:
                    foundAll = False
                    break

            if foundAll:
                print('Congratulations! You won! The word was ' + secret)
                gameOver = True
                break

        else:
            wrong += guess

            if len(wrong) > 7:
                print('You ran out of guesses! Game over! The word was ' + secret)
                gameOver = True
                break

    keepGoing = playAgain()
    if keepGoing:
        wrong = ''
        right = ''
        secret = randomWord(words)
        gameOver = False
    else:
        print('Thanks for playing!')
        break 
```

这是损坏的输出

```
Would you like to play again? (yes or no) yes
Wrong Guesses: 
_ _ _ _ _ _ 
a
Wrong Guesses: 
_ _ a _ _ _ 
m
Wrong Guesses: m 
_ _ a _ _ _ 
l
Wrong Guesses: m l 
_ _ a _ _ _ 
c
Wrong Guesses: m l c 
_ _ a _ _ _ 
e
Wrong Guesses: m l c 
_ e a _ e _ 
r
Wrong Guesses: m l c 
_ e a _ e _ 
d
Wrong Guesses: m l c d 
_ e a _ e _ 
b
Wrong Guesses: m l c d 
b e a _ e _ 
v
Congratulations! You won! The word was beaver 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T05:10:00.960

问题出在

`for i in range(0, len(secret) - 1)`

默认情况下，范围不包括最后一个值，并且您`1`要从中减去

# php - 在 php 发送的电子邮件中发送 html 链接

> ID：15826283
> 
> 赞同：3
> 
> 时间：2013-04-05T05:04:58.273
> 
> 标签：php, html, email

我正在使用 html 表单 textarea 和 php 使用我的网站发送电子邮件

如何在邮件正文中放置链接。我确实喜欢这个

```
<a href="http://www.xxxxx.com/">Visit the site</a> 
```

但我收到全文。我也试过

```
<html>
  <head>
    <title>Test</title>
  </head>
  <body>
    <a href="http://www.xxxxx.com/">Visit the site</a>
  </body>
</html> 
```

但我收到全文

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-05T05:07:27.410

确保正确添加标题

```
// To send HTML mail, the Content-type header must be set
$headers  = 'MIME-Version: 1.0' . "\r\n";
$headers .= 'Content-type: text/html; charset=iso-8859-1' . "\r\n"; 
```

参见[示例 #4 发送 HTML 电子邮件](http://php.net/manual/en/function.mail.php)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T05:07:55.157

您是否尝试在发送到邮件服务器的消息头中设置内容类型声明？

内容类型：文本/html；字符集=UTF-8

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-05T05:08:07.133

将标题设置为`text/html`

```
$headers = "MIME-Version: 1.0" . "\r\n";
$headers .= "Content-type:text/html;charset=iso-8859-1"; 
```

看例子：[PHP mail() 函数](http://www.w3schools.com/php/func_mail_mail.asp)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-05T05:08:20.103

问题肯定出在您的标题中

```
$headers .= "Content-Type: text/html; charset=ISO-8859-1\r\n"; 
```

使用这些标题，您的内容将被正确解释。

看看[这里](http://css-tricks.com/sending-nice-html-email-with-php/)

# java - ArrayList 获取所有元素

> ID：15826287
> 
> 赞同：-2
> 
> 时间：2013-04-05T05:05:23.620
> 
> 标签：java, arraylist

在这个函数中，一旦我的 if 语句为真，它就会返回一个值，并将我“踢”出函数。我正在尝试获取arrayList 的其余元素，所以我知道哪些我不会访问它。我的问题是，我怎样才能从数组中获取其余元素？

```
For(Node a:state.children)
{
    state.value = Math.max(state.value,min_value(a, alpha, beta));
    alpha = Math.max(alpha,state.value);
    if(beta <=alpha)
    {
        System.out.println("The elements that are going to be skipped are: " + a.label);
        return state.value;
    }
} 
```

如何复制由于 return 语句而不会使用的数组的最后一个元素

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T05:07:49.367

如果您不想从函数返回，请不要在 if 中包含 return 语句。如果您需要在外面使用它，请将它们存储在一个集合中并使用它

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T05:13:54.213

有另一个 ArrayList 将保存未跳过的值。为此，请在现有 if 块中添加一个 else 块。在 else 块中，将元素添加到 temp ArrayList。遍历 temp ArrayList 以获取未跳过的值。

```
ArrayList<Node> tempList = new ArrayList<Node>();
For(Node a:state.children)
{
    state.value = Math.max(state.value,min_value(a, alpha, beta));
    alpha = Math.max(alpha,state.value);
    if(beta <=alpha)
    {
        System.out.println("The elements that are going to be skipped are: " + a.label);
    } else {
        tempList.add(a);
    }

} 
```

# objective-c - Windows 中的目标 C

> ID：15826289
> 
> 赞同：1
> 
> 时间：2013-04-05T05:05:36.657
> 
> 标签：objective-c, windows

请原谅我这个愚蠢的问题。我想知道是否有可能在 Windows 中运行以下程序

```
 #import<Foundation/Foundation.h>

int main(int argc,const char* argv[]) { 

NSAutoReleasePool *pool =[[NSAutoReleasePool  alloc]init];

NSLog(@"Hello World")

[pool drain];

 } 
```

我知道有可用于 Windows 的目标 c 编译器，但我想知道是否有任何支持`<Foundation/Foundation.h>`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T05:08:37.823

是的。一种可能性是使用[GNUstep](http://www.gnustep.org/)框架与 GCC 一起编译它。

# clojure - 如何在下面的 fn 中分离关注点

> ID：15826296
> 
> 赞同：0
> 
> 时间：2013-04-05T05:06:03.733
> 
> 标签：clojure

下面的函数做了两件事——

*   检查 atom 是否为 nil 或 fetch-agin 是否为真，然后获取数据。
*   它通过调用 (add-date-strings) 来处理数据。

分离上述两个问题的更好模式是什么？

```
(def retrieved-data (atom nil))

(defn fetch-it!
  [fetch-again?]
  (if (or fetch-again?
            (nil? @retrieved-data))
    (->> (exec-services)
         (map #(add-date-strings (:time %)))
         (reset! retrieved-data))
    @retrieved-data)) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-05T05:43:51.920

一种可能的重构是：

```
(def retrieved-data (atom nil))

(defn fetch []
  (->> (exec-services)
       (map #(add-date-strings (:time %)))))

(defn fetch-it!
  ([]
     (fetch-it! false))
  ([force]
     (if (or force (nil? @retrieved-data))
       (reset! retrieved-data (fetch))
       @retrieved-data))) 
```

顺便说一句，分离关注点的模式称为“函数”:)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-05T10:03:03.257

为了真正分离关注点，我认为定义一个单独的 fetch 和 process 函数可能会更好。因此，它们绝不会被完成。

```
(def retrieved-data (atom nil))

(defn fetcher [] 
   (->> (exec-services)
        (map #(add-date-strings (:time %)))))

(defn fetch-again? [force]
 (fn [data] (or force (nil? data))))

(defn fetch-it! [fetch-fn data fetch-again?]
 (when (fetch-again? @data))
  (reset! data (fetch-fn))))

 ;;Usage
(fetch-it! fetcher retrieved-data (fetch-again? true)) 
```

请注意，我还给出了数据原子作为参数。

# html - html 表单未在回发时发布输入控件值

> ID：15826300
> 
> 赞同：0
> 
> 时间：2013-04-05T05:06:19.733
> 
> 标签：html, forms, post

我有一个非常简单的 html 页面，其中包含一个表单和几个控件。此 html 页面托管在服务器上。当我在输入字段中发布带有某些值的表单时，它不会在表单发布数据中显示输入值。

reuest body 只有 btn1=post 其他控件没有列出

下面是html：

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>test</title>
</head>
<body>    
    <form id="form4" action="somePage.htm" method="post" >
    <input type="text" id="textMain1" value="" />
    <input type="text" id="textMain2" value=""/>
    <input type="text" id="textMain3" value=""/>

    <input type="submit" id="btn1" name="btn1"  />
    </form>
</body>
</html>![enter image description here][2] 
```

这些我已经尝试过： - 将名称和 id 属性一起添加到输入控件 - 添加 runat=server 以防万一（html页面是在 VS IDE 中编写的） - 添加 enctype="multipart/form-data" 以形成 - 运行它铬浏览器

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T05:29:09.463

可能此[链接](http://malsup.com/jquery/form/)已定义您想要的内容并对您有用

```
$("#form4").submit(function(event) {

/* stop form from submitting normally */
event.preventDefault();

/* get some values from elements on the page: */
 var values = $(this).serialize();

/* Send the data using post and put the results in a div */
$.ajax({
  url: "test.php",
  type: "post",
  data: values,
  success: function(){

  },

  }); 
}); 
```

# android - 如何将两个数组对象与嵌套对象进行比较？

> ID：15826301
> 
> 赞同：0
> 
> 时间：2013-04-05T05:06:23.233
> 
> 标签：android

我正在编写一个测试用例，我需要比较两个包含嵌套对象的数组对象。这是示例代码，请检查。

```
Class TestGeoNames {

    private Status status;
    public void setStatus(Status lstatus) {
        status = lstatus;
    }
    public Class Status {
        private String mesg;
        private String value;

        public String getMesg() {
            return mesg;
        }

        public void setMesg(String mesg) {
            this.mesg = mesg;
        }

        public String getValue() {
            return value;
        }

        public void setValue(String value) {
            this.value = value;
        }

    }

} 
```

这是测试用例代码：

```
List<TestGeoNames > result = NetworkManager.executeByJSON(request, TestGeoNames .class);

    List<TestGeoNames > Cacheresult = CacheManager.getResponseFromCache(request);

    assertNotNull(result);
    assertNotNull(Cacheresult);

    TestGeonamesBean[] tgb = new TestGeonamesBean[0];
    TestGeonamesBean[] cacheResultArray = result.toArray(tgb);
    TestGeonamesBean[] resultArray = Cacheresult.toArray(tgb); 

    assertEquals(true, Arrays.equals(resultArray, cacheResultArray)); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T05:16:55.017

要`equals`处理自定义对象，您必须覆盖`hashCode()`并`equals(Object o)`从`Object`类中

# php - 使用 PHP 在 HTML 页面中查找文本

> ID：15826304
> 
> 赞同：0
> 
> 时间：2013-04-05T05:06:28.730
> 
> 标签：php

我想编写一些 PHP 代码来解析一些 HTML 以返回“image_url”类中所有图像的 href 和标题。我目前正在使用 substr 来查找字符串的位置，但是网页有时会更改内容，我不能总是依赖 substr。是否有 DOM 方式或其他正则表达式方式可以在我的 HTML 中找到这些元素？

```
<a class="image_url" href="/123.jpg" target="_blank"><img src="/123.jpg" border="0" title="Some dynamic length image title that is making this difficult for me"></a> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T05:11:38.947

据我所知，你可以使用这三样东西

1.  php[简单的xml解析](http://www.php.net/manual/en/ref.simplexml.php)
2.  php [dom文档。](http://php.net/manual/en/class.domdocument.php)
3.  [Simplehtmldom](http://simplehtmldom.sourceforge.net/)解析器

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T05:12:22.013

您可以尝试以下示例代码。

```
$html='<a class="image_url" href="/123.jpg" target="_blank"><img src="/123.jpg" border="0" title="Some dynamic length image title that is making this difficult for me"></a>';   
 $dom = new DOMDocument();
    $dom->loadHTML($html);

    $elements = $dom->getElementsByTagName('a');
    foreach ($elements as $child) {
        echo $child->nodeValue;
    } 
```

# python - 使用 openpyxl 插入列

> ID：15826305
> 
> 赞同：13
> 
> 时间：2013-04-05T05:06:39.297
> 
> 标签：python, excel, openpyxl

我正在编写一个修改现有 excel 文档的脚本，我需要能够在其他两个列之间插入一列，例如 VBA 宏命令`.EntireColumn.Insert`。

openpyxl有什么方法可以插入这样的列吗？
如果没有，关于写一个的任何建议？

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2018-03-22T21:55:01.227

这是一个更快的方法的示例：

```
import openpyxl

wb = openpyxl.load_workbook(filename)
sheet = wb.worksheets[0]
# this statement inserts a column before column 2
sheet.insert_cols(2)
wb.save("filename.xlsx") 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2013-04-05T07:49:56.030

`.EntireColumn.Insert`在 openpyxl 中没有找到类似的东西。

我首先想到的是通过修改工作表上的 _cells 来手动插入列。我认为这不是插入列的最佳方式，但它有效：

```
from openpyxl.workbook import Workbook
from openpyxl.cell import get_column_letter, Cell, column_index_from_string, coordinate_from_string

wb = Workbook()
dest_filename = r'empty_book.xlsx'
ws = wb.worksheets[0]
ws.title = "range names"

# inserting sample data
for col_idx in xrange(1, 10):
    col = get_column_letter(col_idx)
    for row in xrange(1, 10):
        ws.cell('%s%s' % (col, row)).value = '%s%s' % (col, row)

# inserting column between 4 and 5
column_index = 5
new_cells = {}
ws.column_dimensions = {}
for coordinate, cell in ws._cells.iteritems():
    column_letter, row = coordinate_from_string(coordinate)
    column = column_index_from_string(column_letter)

    # shifting columns
    if column >= column_index:
        column += 1

    column_letter = get_column_letter(column)
    coordinate = '%s%s' % (column_letter, row)

    # it's important to create new Cell object
    new_cells[coordinate] = Cell(ws, column_letter, row, cell.value)

ws._cells = new_cells
wb.save(filename=dest_filename) 
```

我知道这个解决方案非常丑陋，但我希望它能帮助您朝着正确的方向思考。

# jquery - 如何在 Jquery Cycle 插件中的现有幻灯片之间添加新幻灯片？

> ID：15826315
> 
> 赞同：0
> 
> 时间：2013-04-05T05:07:38.517
> 
> 标签：jquery, jquery-plugins

在使用 Jquery 循环插件时，我希望能够在现有幻灯片之间动态插入幻灯片，而不仅仅是在最后。

这是我正在使用的代码

```
function onBefore(curr, next, opts) {
  //Adding new slide
   opts.addSlide(item);

 //item has dynamic slide data which is going to added to the existing slides.
} 
```

提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-08-01T08:19:40.610

您可以在您想要的任何位置添加幻灯片，您只需等待循环在您需要的幻灯片之前出现在幻灯片上。这非常有效，因为您将在需要显示幻灯片时将其添加到您想要的位置。

```
function onBefore(curr, next, opts) {

     // on the first pass, addSlide is undefined (plugin hasn't yet created the fn); 
     // when we're finshed adding slides we'll null it out again 
     if (!opts.addSlide)
        return;

    //add any type of logic here to make sure that you are in the position 
    //where you want to add your slide
    if ($(curr).index() === 8 && $(next).index() === 9) { 
       //Adding new slide
       opts.addSlide(item);
    }
} 
```

# ruby-on-rails - 访问静态函数的当前实例模型属性

> ID：15826318
> 
> 赞同：1
> 
> 时间：2013-04-05T05:07:50.350
> 
> 标签：ruby-on-rails, ruby-on-rails-3, ruby-on-rails-3.2

我有两个模型：`User & API`，在我的 API 模型中，我有一个静态函数

```
 # Register account associated characters
  public
  def self.register_characters(apiid, vcode, userid)

    # Fetch XML
    api = EAAL::API.new("#{apiid}", "#{vcode}", "account")
    result = api.Characters

    # Pull characters
    result.characters.each do |char|

      if Character.find_by_charid(char.characterID.to_i).nil?

        character = Character.new(
          :charid  =>  char.characterID.to_i,
          :user_id =>  userid,
          :name    =>  char.name,
          :corp    =>  char.corporationName
        )

        character.save

        api = Api.new(
          :user_id      =>  userid,
          :character_id =>  character.id,
          :apiid        =>  apiid,
          :vcode        =>  vcode
        )
        api.save

        character.update_character
      end
    end

  end 
```

我需要在我的`User`模型中的`after_create`过滤器上调用此方法。但是无论如何，我尝试将变量传递`User`给`API`我得到一个错误，即 register_characters 方法没有得到`apiid or vcode`，这是我启动我的 rails 服务器的时候。

在我的用户模型中，我调用：where`after_create Api::register_characters(:apiid, :vcode, :id)`和是用户模型属性。 `:apiid``:vcode``:id`

**但是：**由于当我尝试启动时出现此错误，我`rails server`假设`self.register_characters`API 中的方法是在其自身上调用的，而不是从用户模型中调用的。

无论如何我该如何解决这个问题？我应该将其作为标准方法还是？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T05:43:31.060

为了使流程更具可读性，我建议您定义一个新方法来调用您想要的方法。

```
after_create :register_characters_on_the_api

private

def register_characters_on_the_api
  Api.register_characters(apiid, vcode, id)
end 
```

您还需要删除参数之前的冒号，以便它使用实例的属性。`:apiid`例如，传递只是传递一个符号而不是实例的 apiid 。

# uml - 为系统中的每个模块显示 UML 类图是否常见？

> ID：15826331
> 
> 赞同：0
> 
> 时间：2013-04-05T05:08:17.680
> 
> 标签：uml

对于我的一个项目，我必须展示一个 UML 类图。然而，该系统很大程度上是基于 GUI 的，这使得类图变得庞大而混乱。将这样的系统的图表分解为多个图表，每个模块一个图表是否常见？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T16:59:23.150

它不仅常见，而且值得推荐。

如果你害怕失去全局视野，你可以做一个全局跨模块图，但只有最重要的类（这将是各个模块的“心脏”），然后是所有模块范围的图。

# python - 有没有一种简洁的方法来获取 python 类中定义的所有描述符？

> ID：15826333
> 
> 赞同：4
> 
> 时间：2013-04-05T05:08:21.830
> 
> 标签：python, properties, descriptor

是否有一种简单的方法可以查找类类型中的所有描述符？如果我有这个代码：

```
class Descriptor(object):

    def __init__(self):
        self._name = ''

    def __get__(self, instance, owner):
        print "Getting: %s" % self._name
        return self._name

    def __set__(self, instance, name):
        print "Setting: %s" % name
        self._name = name.title()

    def __delete__(self, instance):
        print "Deleting: %s" %self._name
        del self._name

class ContrivedExample(object):
   Name = Descriptor()
   Date = Descriptor() 
```

我如何从课堂外发现 ContrivedExample.Name 和 ContrivedExample.Date 存在？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-05T05:11:33.963

您可以遍历类的`__dict__`属性，该属性存储类中所有已定义的名称，并检查每个名称的值的类型。

```
descriptors = [m for m,v in ContrivedExample.__dict__.iteritems()
               if isinstance(v, Descriptor)]

# descriptors is set to ['Name', 'Date'] 
```

# asp.net - 通过数据库值更改gridview的行颜色

> ID：15826343
> 
> 赞同：0
> 
> 时间：2013-04-05T05:09:03.380
> 
> 标签：asp.net, gridview, rowdatabound

我正在 asp.net 中创建一个应用程序，该应用程序显示来自数据库的 gridview 中的值。在数据库中，我有一个名为 StatusId 的列，其值为 1 或 2 或 3。

我试图通过它们的 statusId 值以不同的颜色显示网格视图行。但它永远不会奏效。我怎么能在asp.net中做到这一点。

这是我的代码

```
protected void GridView1_RowDataBound(object sender, GridViewRowEventArgs e)
    {

        Connection.Open();
        SqlCommand Command1 = Connection.CreateCommand();
        Command1.CommandText = "Select statusColor from status where statusId=(Select statusId from fileInfo where userId=(Select userId from userInfo where email='" + Session["email"].ToString() + "'))";

        for (int i = 0; i < GridView1.Rows.Count; i++)
        {
            using (SqlDataReader reader = Command1.ExecuteReader())
            {
                while (reader.Read())
                {
                    statusId = reader["statusColor"].ToString();
                }
             GridView1.RowStyle.BackColor = Color.FromName(statusId);           
        } 
        }

        foreach (GridViewRow row in GridView1.Rows)
        {
            row.BackColor = Color.Green;
        }
        SqlCommand com = new SqlCommand("gridcolor", Connection);
        com.CommandType = CommandType.StoredProcedure;
        com.Parameters.AddWithValue("@statusId", statusId);
        com.Parameters.Add("@statusColor", SqlDbType.NVarChar, 30);
        com.Parameters["@statusColor"].Direction = ParameterDirection.Output;
        com.ExecuteNonQuery();
        string msg = (string)com.Parameters["@statusColor"].Value;
        Connection.Close();
    } 
```

我在这里做错了什么？

**编辑**

我有存储在名为 statusColor 的数据库中的颜色代码。我必须将这些颜色应用于这些状态。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-19T10:16:02.487

```
protected void grdMyQ_RowDataBound(object sender, GridViewRowEventArgs e)
        {
            for (int i = 0; i < grdMyQ.Rows.Count; i++)
            {
                if (grdMyQ.Rows[i].Cells[13].Text.ToUpper() == "DISCHARGED_PROCESS")
                {
                    grdMyQ.Rows[i].BackColor = Color.Red;

                }
            }
        } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T09:32:38.597

你做错了。您必须在页面加载或自定义事件（例如单击按钮）而不是`rowDataBound`事件上对您的 gridview 进行数据绑定。当您的行与数据绑定并且您想要更改每行的某些属性（如您的情况）时，会发生此事件。

您可以使用 Gridview DataBound 事件以下列方式分配颜色

```
protected void GridView1_RowDataBound(object sender, GridViewRowEventArgs e)
{
    if (e.Row.RowType == DataControlRowType.DataRow)
    {
        // Fetch status Id for current row
        int statusId= Convert.ToInt32(DataBinder.Eval(e.Row.DataItem,"UnitsInStock"));

        switch (statusId)
       {
         case (1):
                   e.Row.BackColor= System.Drawing.Color.Green;
                   break;

         // other cases follow the same
       }

    }
} 
```

将数据绑定代码放在 pageLoad 或按钮单击事件中。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-05T05:13:27.450

您有`statusId`值 1,2,3 并且您正在传递给 Color.FromName 和 1,2,3 不是颜色的名称，您可以使用[switch](http://msdn.microsoft.com/en-us/library/06tc147t%28v=vs.71%29.aspx)来分配基于不同的颜色`statusId`。

```
Color rowColor = Color.Red;    
switch(statusId)
{
    case 1:
         rowColor = Color.Green;
         break;

    case 2:
         rowColor = Color.White;
         break;
    case 3:
         rowColor = Color.Blue;
         break;
}   
GridView1.RowStyle.BackColor = rowColor ; 
```

# python - 使用字符串搜索列表

> ID：15826347
> 
> 赞同：6
> 
> 时间：2013-04-05T05:09:23.523
> 
> 标签：python, numpy

我有一个列表列表：

```
 A = [['andy', 'dear', 'boy', 'tobe', 'todo'], 
      ['where', 'what', 'when', 'how'], 
      ['korea', 'japan', 'china', 'usa'], 
      ['tweet', 'where', 'why', 'how']] 
```

我有*三个*确切的问题：

1.  如何使用特定元素作为关键字从该列表中检索子列表？
    例如，我想检索所有包含“为什么”元素的列表？
    这样做的最佳方法是什么？
2.  如何使用特定元素的一部分作为关键字从该列表中检索子列表？
    例如，我想检索所有具有包含“wh”作为
    任何元素的开始字符的元素的列表？
3.  如何从这两种搜索方法中的任何一种获取结果子列表的位置或索引？

我熟悉从与特定关键字匹配的列表中检索所有元素的概念，但是在检索与特定关键字匹配的所有列表时会令人困惑......

有什么猜测吗？提前致谢。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-05T05:43:14.090

简单直接

```
elem = 'why'
index_li = []
for idx, item in enumerate(A):
    for word in item:
        if word.startswith(elem):
            index_li.append(idx)
            break
print index_li 
```

例子

```
>>> elem = 'wh'
... index_li = []
... for idx, item in enumerate(A):
...     for word in item:
...         if word.startswith(elem):
...             print word, item
...             index_li.append(idx)
...             break
... print index_li
where ['where', 'what', 'when', 'how']
where ['tweet', 'where', 'why', 'how']
[1, 3] 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-05T05:15:43.273

对于所有的答案组合：

```
mylist = [['andy', 'dear', 'boy', 'tobe', 'todo'], ['where', 'what', 'when', 'how'], ['korea', 'japan', 'china', 'usa'], ['tweet', 'where', 'why', 'how']]
for num, sublist in enumerate(mylist):
    if 'why' in sublist:
        print sublist
    for ele in sublist:
        if ele.startswith('wh'):
            print ele, num 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-05T05:12:06.573

**首先**：

 **```
>>> for l in A:
...     if 'why' in l:
...             print l
... 
['tweet', 'where', 'why', 'how'] 
```

对于**第二个：（**无论在哪里）

```
>>> for l in A:
...     for i in l:
...             if 'wh' in i:
...                     print l
...                     break
... 
['where', 'what', 'when', 'how']
['tweet', 'where', 'why', 'how'] 
```

开始测试试试这个：（*使用@Harido的startswith（）*）

```
>>> for l in A:
...     for i in l:
...             if i.startswith('wh'):
...                     print l
...                     break
... 
['where', 'what', 'when', 'how']
['tweet', 'where', 'why', 'how'] 
```

**第三**：

 **要查找索引，您可以`A.index(l)`在 print stamens 之后使用方法，例如：

```
>>> for l in A:
...     for i in l:
...             if 'wh' in i:
...                     print l
...                     print A.index(l)
...                     break
... 
['where', 'what', 'when', 'how']
1
['tweet', 'where', 'why', 'how']
3 
```

但请记住，我不擅长 Python。有人可以给你更好的方法。（我正在编写糟糕的 C 代码）我想分享这个链接：[Guido van Rossum](https://plus.google.com/107772474356546943700/posts/8svCeV8cqbj)

**编辑**：

感谢@Jaime 向我推荐`for k, l in enumerate(A):`

```
>>> for k, l in enumerate(A):
...     for i in l:
...             if 'wh' in i:
...                     print l
...                     print "index =", k
...                     break
... 
['where', 'what', 'when', 'how']
index = 1
['tweet', 'where', 'why', 'how']
index = 3 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-04-05T05:39:29.827

我喜欢列表推导和函数式编程，所以这就是这种方法

**一个**

```
sub_list_a = [ el for el in A if 'why' in el ] 
```

**乙**

```
sub_list_b = [ el for el in A if any( ['wh' in s for s in el] ) ] 
```

有点难读，但简洁明了。

**C**

然后获取找到每个 sub_lists 的位置的索引

```
location_a = [ ii for ii, el in enumerate(A) if el in sub_list_a ] 
```

只需替换`b`for`a`即可获取部分 b 的位置。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-05T05:13:12.710

您可以按照对单个列表执行此操作的方式执行此操作，但您需要一个额外的循环：

```
for inner_list in A:
    for element in inner_list:
        if # <some condition>
            # <do something> 
```

对于职位，`enumerate`在您想要职位的特定循环中添加一个会有所帮助，或者简单地`find`为每个内部列表使用类似的东西也可以完成这项工作。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-04-05T05:35:07.060

一个。假设您有一个列表 A，而您要查找的单词是 x。

```
def howmuch(word)
    lis = []
    for x in A:
        //point A
        if x.count(word) > 0:
        //point A
            lis.append(x)
    return lis 
```

基本上 lis 是一个包含所有包含该单词的列表的列表。您遍历原始列表。每个元素 x 是一个列表。x.count(word) 告诉您该单词在此列表中出现的次数。0 表示它从未出现在列表中。所以如果它大于0，它必须在列表中。如果是这样，我们添加到我们的 lis 变量中。然后我们返回它。

湾。它与问题 a 相同，只是在 A 点，在您获得列表后，为其中的每个单词执行另一个 for 循环。对于python，有一个查找字符串的函数来查看子字符串是否存在，如果确实存在，然后将其附加到列表元素：

[http://docs.python.org/2/library/string.html](http://docs.python.org/2/library/string.html)

C。对于问题a，在您检查count 大于0 之后，这意味着该单词存在于列表中。做一个 list.index(word) ，它将返回索引。对于问题 b，一旦找到具有正确子字符串的字符串，请执行 list.index(word)。

总而言之，你应该看看python网站，它告诉你很多你可以使用的功能。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-04-05T05:39:03.257

```
>>> A = [['andy', 'dear', 'boy', 'tobe', 'todo'], ['where', 'what', 'when', 'how'], ['korea', 'japan', 'china', 'usa'], ['tweet', 'where', 'why', 'how']]
>>> for i, sublist in enumerate(A):
        if 'why' in sublist:
            print i, sublist

3 ['tweet', 'where', 'why', 'how']
>>> for i, sublist in enumerate(A):
        if any(word.startswith('wh') for word in sublist):
            print i, sublist

1 ['where', 'what', 'when', 'how']
3 ['tweet', 'where', 'why', 'how'] 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2013-04-05T07:33:21.100

您可以使用这种简单的方法：

```
>>> key='wh'
>>> res=[(index, sublist) for index, sublist in enumerate(A) for value in sublist if  value.startswith(key)]
>>> dict(res)
{1: ['where', 'what', 'when', 'how'], 3: ['tweet', 'where', 'why', 'how']} 
```

请享用！****

# javascript - 如何在 javascript 中获取 div 和完整的内部内容？

> ID：15826349
> 
> 赞同：3
> 
> 时间：2013-04-05T05:09:36.537
> 
> 标签：javascript, html

我想在 javascript 中获取 div 内部内容

前任：

```
<div id="content" style="height: 20px; overflow: hidden">
  content<br>content<br>content<br>
</div> 
```

这是我的html代码。我只知道 div id（内容）。但我想通过 javascript 检索主 div 及其内部内容，例如..

```
<div id="content" style="height: 20px; overflow: hidden">
 content<br>content<br>content<br>
</div> 
```

我也想要检索到的内容 div 属性，比如样式、类名等。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-05T05:13:28.067

用于`getElementById()`获取元素并`innerHTML`获取内容

```
document.getElementById('content').innerHTML; 
```

[INNERHTML 的现场演示](http://jsfiddle.net/TQaRJ/)

要获取整个标签的内容，请使用`outerHTML`

```
document.getElementById('content').outerHTML; 
```

[OUTERHTML 的现场演示](http://jsfiddle.net/TQaRJ/2/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-05T05:13:06.927

您可以尝试这段代码来检索内部内容

```
var MyDiv1 = document.getElementById('content').innerHTML; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-05T05:20:20.183

如果要检索 div 内的内容，可以使用`document.getElementById("content").innerHTML`. 这将返回

```
content<br>content<br>content<br> 
```

但是如果你想检索包含 div 标签的 html，你可以尝试使用`document.getElementById("contents").outerHTML`. 这将返回你

```
<div id="content" style="height: 20px; overflow: hidden">
 content<br>content<br>content<br>
</div> 
```

# html - 如何在 HTML 中自动选择文本

> ID：15826350
> 
> 赞同：0
> 
> 时间：2013-04-05T05:09:44.803
> 
> 标签：html, text

我对本网站其他地方提供的解决方案有进一步的疑问（[HTML 文本框，自动突出显示文本](https://stackoverflow.com/questions/736158/html-textbox-auto-highlighting-text/736176#736176)）

使自动选择文本起作用的解决方案，但我不知道如何在框中包含 HTML，而不会消失。我使用了下一页上的文字：

[http://www.tennessee-scv.org/camp1640/Tour/media/](http://www.tennessee-scv.org/camp1640/Tour/media/)

例如，我需要第一个框来阅读：

```
<a href="http://www.germantowntour.com" target="_blank">Germantown Tour</a> 
```

但是如果我这样设置它，那么它只会显示到第一个（“），所以我不得不使用（'）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T05:16:47.877

这就是你需要的！！

```
<textarea name="textarea" cols="85" rows="10" wrap="VIRTUAL" onclick="this.select();">CODE HERE!!/textarea> 
```

小提琴链接：http: [//jsfiddle.net/qNmXr/8/](http://jsfiddle.net/qNmXr/8/)

更新了小提琴链接。这正是适合你的东西。一探究竟！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T05:17:47.647

尝试使用`&quot;`

```
<a href=&quot;http://www.germantowntour.com&quot; target=&quot;_blank&quot;>Germantown Tour</a> 
```

[W3c 参考](http://dev.w3.org/html5/html-author/#double-quote-attr)

# backbone.js - 无法初始化新的木偶路由器

> ID：15826357
> 
> 赞同：0
> 
> 时间：2013-04-05T05:10:30.557
> 
> 标签：backbone.js, router, marionette

我正在尝试使用木偶在“产品”模块中创建一个新的应用程序路由器，如下所示

```
@MyApp.module "ProductsModule", (ProductsModule, App, Backbone, Marionette, $, _) ->
 class ProductsModule.Router extends Marionette.AppRouter
   appRoutes:
    "products" : "listGoods"

 API =
  listGoods: ->
    console.log('list goods')

 App.addInitializer ->
  console.log('init app router')
  new ProductsModule.Router
    controller: API 
```

上级App代码如下

```
@MyApp = do (Backbone, Marionette) ->

 App = new Marionette.Application

 App.addRegions
  headerRegion: "#header-region"
  mainRegion: "#main-region"
  footerRegion: "#footer-region"

 App.on "initialize:after", (options) ->
  if Backbone.history
    Backbone.history.start
      root: '/admin/'

 App 
```

然而，在尝试运行后，产品模块的 appRouter 没有运行，即 console.log 没有向控制台打印任何内容。

我在这里错过了什么吗？

更新：添加更多代码以显示应用程序的启动位置

```
<!DOCTYPE html>
<html>
<head>
  <title>Admin</title>
  <%= stylesheet_link_tag    "application", :media => "all" %>
  <%= javascript_include_tag "admin" %>
  <%= csrf_meta_tags %>
</head>
<body>
  <div id="wrap">
    <div id="header-region"></div>
    <div id="main-region" class="container">

      <a href="#products">sss</a>
    </div>
  </div>
  <div id="footer-region"></div>

  //STARTING APP HERE
  <%= javascript_tag do %>
    $(function() {
      MyApp.start();
    });
  <% end %>

</body>
</html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-18T05:58:19.677

移动

```
console.log('init app router')
  new ProductsModule.Router
    controller: API 
```

在

```
App.on("initialize:after", function(){/*place code here*/}) 
```

移动

```
if Backbone.history
    Backbone.history.start
      root: '/admin/' 
```

在

```
App.on("start", function(){/*place code here*/}) 
```

# java - 从一帧传递数据并将其设置在另一帧的文本字段中从数据库中检索相应的数据

> ID：15826361
> 
> 赞同：1
> 
> 时间：2013-04-05T05:10:55.753
> 
> 标签：java, mysql, swing, netbeans

我正在使用 MySQL @ 开发一个 NetBeans 项目（Java Swings）。在这种特殊情况下受到打击。

我正在处理`JTable`一个框架，比如`frame1`在“onclick”动作事件中必须从哪里选择一行。

将检索 mysql 后台表中的相应数据，并将数据传递到另一个框架，例如`frame2`将数据设置为`JTextField`.

中的表`frame1`仅包含数据库中维护的整个表的几个选定元组。

以下是我使用的代码片段:: 数据库表名 DB_table

1-从frame1中的表中选择数据

```
public static String Table;
public static int row;
private void jTable1MouseClicked(java.awt.event.MouseEvent evt)                    
{                                     
    // TODO add your handling code here:
    jButton3.setEnabled(true);
    row = jTable1.getSelectedRow();
    Table = (jTable1.getModel().getValueAt(row,0).toString());
} 
```

2- 按钮上的动作事件将其重定向到 frame2

```
private void jButton4ActionPerformed(java.awt.event.ActionEvent evt) 
{                                         
    // TODO add your handling code here:
    frame2 ac =new frame2();
    jDesktopPane1.add(ac);
    try {
        ac.setSelectedRow(Table);
    } catch (Exception e) {
        // Logger.getLogger(showp1.class.getName()).log(Level.SEVERE, null, ex);
    }
    ac.setVisible(true);
} 
```

3-这是frame2中的方法

```
void setSelectedRow(String Table) {
    try {
        //ResultSet resultSet = null;
        System.out.print(Table);

        rs = pst.executeQuery("SELECT * FROM DB_Table where attr="+ Table +"");
        //System.out.print(Table);
        while (rs.next()) {
            System.out.print(Table);
            //jTextField1.setText(resultSet.getString(1));
            //System.out.print(Table);
            jTextField1.setText(rs.getString("attr"));
        }
    } catch (SQLException ex) {
        Logger.getLogger(AddClient.class.getName()).log(Level.SEVERE, null, ex);
    }
} 
```

数据正在输出控制台中打印，但未存储在`frame2`...的文本字段中

希望我清楚这个问题

任何建议将不胜感激..

# android - 单击菜单按钮时显示微调器下拉菜单

> ID：15826363
> 
> 赞同：2
> 
> 时间：2013-04-05T05:11:03.927
> 
> 标签：android

我希望我的微调器下拉菜单显示在单击 android 中的菜单按钮时。就像我按下我的菜单按钮并单击菜单按钮时，我的微调器下拉菜单显示出来。你能建议一个前进的方法吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-05T05:15:07.430

在你的 menuItem 点击上调用它

```
Spinner.performClick(); 
```

# java - 如果抛出异常则跳过执行

> ID：15826366
> 
> 赞同：0
> 
> 时间：2013-04-05T05:11:29.733
> 
> 标签：java, exception

我被困在一些非常基本的东西上。在我们的游戏中，我们有一个可以通过 URL 获取关卡的关卡编辑器/加载器。现在，如果 URL 指向一个不存在的文件，编辑器应该拒绝加载关卡并简单地停留在当前关卡中，我只是在处理基本代码。

```
private void loadLevel(URL url) {
    Scanner in = null;
    try {
        in = new Scanner(new BufferedReader(new InputStreamReader(
                url.openStream())));
        readLine(in);
        in.close();
    }
    catch (IOException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    }
} 
```

本质上，如果`FileNotFound`抛出（或任何其他）`readLine(in)`不应该继续。如果是的话，各种NPE。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-05T05:15:45.877

```
private void loadLevel(URL url) {
    Scanner in = null;
    try {
        in = new Scanner(new BufferedReader(new InputStreamReader(
                url.openStream())));
        /*if(in!=null){
            readLine(in);
            in.close();
        }*/
        readLine(in);
        in.close();
    }
    catch (Exception e) { 
        // TODO Auto-generated catch block
        e.printStackTrace();
    }
} 
```

编辑：在@LuiggiMendoza 的建议之后。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-05T05:23:21.773

使用`throws`和`finally`。让调用函数处理它。我还没有测试过，但是这种事情就是这样的想法......

```
private void loadLevel(URL url) throws IOException, FileNotFoundException {
    Scanner in = null;
    try {
        in = new Scanner(new BufferedReader(new InputStreamReader(
                url.openStream())));
        if (in == null) throw new FileNotFoundException();
        readLine(in);
    }
    finally {
        in.close();
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-05T05:28:09.673

在单个线程的上下文中，如果下面这行抛出异常，则下一行代码将不会执行。如果您认为您的代码不这样做，则可能是另一个线程在执行此操作/其他代码

```
in = new Scanner(new BufferedReader(new InputStreamReader(
            url.openStream()))); 
```

# css - 我的自适应视频 div 的问题

> ID：15826370
> 
> 赞同：0
> 
> 时间：2013-04-05T05:11:37.970
> 
> 标签：css, html, video

基本上我想要实现的是一个填充 div 的视频，然后当窗口大小减小到移动设备的大小时，它将在 div 中调整大小。但是，原始视频比 div 大得多，所以我需要调整它的大小。如果我将视频设置为 100% 宽度，它会影响较小的视频，因此当窗口变小时它不会切换，所以我认为我可能需要视频的最大宽度？但我试过了，它根本没有改变大小。

我的结构是

我在 html/css 方面还不是超级先进，所以请保持基本:)

非常感谢。

```
<div id="video_1">

<video id='myvideo'controls > 

<source src="video/small.mp4" type="video/mp4" media="all and (max-width: 480px), all               and (max-device-width: 480px)"> 
<source src="video/small.webm" type="video/webm" media="all and (max-width: 480px), all and (max-device-width: 480px)"> 
<source src="video/small.ogv" type="video/ogg" media="all and (max-width: 480px), all  and (max-device-width: 480px)"> 

<source src="video/large.mp4" type="video/mp4"> 
<source src="video/large.webm" type="video/webm"> 
<source src="video/large.ogv" type="video/ogg"> 

fallback here

</video>
</div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T10:09:37.097

这段代码将使您的视频保持成比例并相应地缩放。
请务必将您的视频放在容器 div 中。

HTML：

```
<div id="container">
    <video id="video" autoplay loop>   
        <source src="backgroundmovie.webm" type="video/webm" />
        <source src="backgroundmovie.mp4" type="video/mp4" />  
    </video>
</div> 
```

CSS：

```
video { 
  min-width: 100%; 
  min-height: 100%; 
  width: auto; 
  height: auto;
  overflow: hidden;
} 
```

如果你想让它响应，添加一个媒体查询并将视频的父 div 宽度和高度设置为你喜欢的任何值。这将使视频在浏览器缩放时自动跳转到父容器的 100% 高度/宽度。

# c# - 如何将选择列表转换为 Html.SelectListFor()

> ID：15826371
> 
> 赞同：2
> 
> 时间：2013-04-05T05:11:37.963
> 
> 标签：c#, asp.net-mvc, razor

我需要将以下内容转换为下拉列表的@html 助手。

```
<select size="30" class="scrollableinside" id="CustomerSelect">
    @foreach (var customer in Model.Customers)
    { 
        <option  value=@customer.CustomerContacts.First().CustomerContactID>@customer.CustomerName &#09;&emsp;&#09; @customer.CustomerContacts.First().Phone</option>
    }
</select> 
```

由于我使用 .First() 和将 2 条数据放入列表中这样做有点不正统，所以我不确定如何为此制作 @Html.SelectListFor 。

```
@Html.DropDownListFor(model => model.CustomerID, new SelectList(Model.Customers, "CustomerID", "What do I put here")) 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-05T05:41:09.163

你应该试试这个

```
public class IndexViewModel
{
    // Stores the selected value from the drop down box.
    [Required]
    public int CountryID { get; set; }

    // Contains the list of countries.
    public SelectList Countries { get; set; }
}

public class HomeController : Controller
{
    [HttpGet]
    public ActionResult Index()
    {
        IndexViewModel viewModel = new IndexViewModel();
        viewModel.Countries = new SelectList(GetCountries(), "ID", "Name");
        return View(viewModel);
    }

    [HttpPost]
    public ActionResult Index(IndexViewModel viewModel)
    {
        viewModel.Countries = new SelectList(GetCountries(), "ID", "Name");
        if (!ModelState.IsValid)
            return View(viewModel);

        //TODO: Do something with the selected country...
        CMSService.UpdateCurrentLocation(viewModel.CountryID);

        return View(viewModel);
    }
} 
```

**在视图中**

```
@Html.DropDownListFor(x => x.CountryID, Model.Countries) 
```

或者你可以使用另一个

```
@Html.DropDownListFor(x => x.CountryID, Model.Countries, "- please select -") 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-04-05T06:06:54.207

```
@Html.DropDownListFor(model => model.CustomerID,new SelectList(Model.Customers, "datavaluefield","datatextfield", Model.CustomerID)) 
```

# c# - 获取字典值中对象的完整列表

> ID：15826381
> 
> 赞同：0
> 
> 时间：2013-04-05T05:12:20.687
> 
> 标签：c#, linq, dictionary

我有这个字典：

```
private Dictionary<int, ICar> _ICarsDic; 
```

对象 ICar 实际上包含另一个对象列表：

```
public interface ICar 
{
    int carId { get; set; }
    string carName { get; set; }
    List<IBrandsDetails> brandsDetails { get; set; }
} 
```

我想编写一个函数，在一个列表中返回我所有`_ICarsDic`值中的所有brandsDetails。

我确信 LINQ 会做到这一点（不想写一个丑陋的循环），但我是新手，所以非常感谢你的帮助。谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-05T05:14:59.207

采用[`Eneumerable.SelectMany`](http://msdn.microsoft.com/en-us/library/system.linq.enumerable.selectmany.aspx)

```
List<IBrandsDetails> list =  _ICarsDic.SelectMany(r => r.Value.brandsDetails)
                                      .ToList(); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-05T05:15:30.403

```
var brandDetails = _ICarsDic.Values.SelectMany(c => c.brandsDetails); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-05T05:18:41.150

您可以将 linq 编写为

```
var listOfObjects = _ICarsDic.SelectMany(t => t.Value.brandsDetails).ToList(); 
```

# python - python中的正则表达式论坛与示例

> ID：15826383
> 
> 赞同：0
> 
> 时间：2013-04-05T05:12:25.763
> 
> 标签：python, regex, forums

我是 python 的新手，我正在使用需要我大量使用正则表达式的代码。

我已经阅读了正则表达式的 python 文档（[http://docs.python.org/2/library/re.html](http://docs.python.org/2/library/re.html)）

但是，由于我是 python 新手，我发现很难用我需要使用的数据实际实现文档中指定的函数。

我想知道是否有一个论坛可以解释 python 中的正则表达式，并为每个函数及其所有可能的变体提供多个示例。多多益善。

到目前为止，我已经找到了这个（[http://docs.python.org/2/howto/regex.html](http://docs.python.org/2/howto/regex.html)）和这个（[http://flockhart.virtualave.net/RBIF0100/regexp.html](http://flockhart.virtualave.net/RBIF0100/regexp.html)）。我发现它们很有用，但我想知道是否有更好的东西。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-05T05:21:13.780

一般而言，您可以使用[RegexOne](http://www.regexone.com)获得有关正则表达式的优秀教程。

如果您想可视化并了解特定的正则表达式在做什么，您可以使用[Debuggex](http://www.debuggex.com)（由我构建）。

如果你想要一些特定于 python 的东西，你可以试试[谷歌的 python 正则表达式教程](https://developers.google.com/edu/python/regular-expressions)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T07:04:37.467

你可以试试这个[pythonregex](http://www.pythonregex.com/)，它的 python 特定并为你的正则表达式生成 python 代码。

请享用！

# sharepoint - 我们可以使用 CAML Query 在不同子站点之间从 LIST 查询和获取数据吗？

> ID：15826385
> 
> 赞同：0
> 
> 时间：2013-04-05T05:12:41.447
> 
> 标签：sharepoint, sharepoint-2007, caml

已在一个站点下创建了 LIST，是否可以使用相同的 LIST 使用 CAML Query 从其他站点获取数据。？

例如：

考虑在 SitePages/AAA/Lists/ 下创建的 LIST “xxx”

我可以从其他站点访问列表“xxx”，即 SitePages/BBB/

总结一下，是否可以跨父站点和子站点访问 LIST，反之亦然。

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-06T11:00:33.140

是的，这是可能的。唯一的条件是拥有相同的域（例如[http://mydomain.com/SitePages/AAA/](http://mydomain.com/SitePages/AAA/)和[http://mydomain.com/SitePages/BBB/](http://mydomain.com/SitePages/BBB/)）。

然后，使用 SharepointPlus 库 ( [http://aymkdn.github.io/SharepointPlus/symbols/%24SP%28%29.list.html#.get](http://aymkdn.github.io/SharepointPlus/symbols/%24SP%28%29.list.html#.get) ) 这是一个 JavaScript API (如果你在[http: //mydomain.com/SitePages/AAA/](http://mydomain.com/SitePages/AAA/) * 站点）：

```
$SP().list("ListName","http://mydomain.com/SitePages/BBB/").get({
  fields:"Title"
}, function getData(data) {
  for (var i=0; i<data.length; i++) console.log(data[i].getAttribute("Title"));
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T02:49:03.990

是的，只要它们在同一个网站集下，您就可以使用 SPSiteDataQuery [链接到 MSDN SPSiteDataQuery](http://msdn.microsoft.com/en-ca/library/microsoft.sharepoint.spsitedataquery.aspx) SPSiteDataQuery 允许您设置在其下搜索列表的网站集。

# jquery - jquery在动画后将div宽度设置为其他div的宽度

> ID：15826389
> 
> 赞同：0
> 
> 时间：2013-04-05T05:13:09.003
> 
> 标签：jquery, jquery-animate, width, toggle, outerwidth

我正在将 div 设置为更宽，在动画之后我想将以下列表的宽度设置为与新动画 div 的宽度完全相同，并将其移动到它的下方。

奇怪的是，在调整大小时，它只会调整到一个很小的宽度，一旦再次单击，它将在一毫秒内保持所需的大小。这可能不清楚。

```
$('#LoginButton').click(function(){
  $('.username').stop(true,false).animate({width:'toggle'});
  $("#profilesettings").delay(220).toggle(300);
  $("#profilesettings").width( $("#LoginButton").outerWidth(true) );
}); 
```

这是一个[小提琴](http://jsfiddle.net/EverybdyLies/CTms3/5/)

所以，我希望列表看起来是整个图像+名称栏的宽度，我想将它完全移动到它下面。

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T05:27:25.193

您可以将匿名回调函数与 animate 调用一起使用，以便在单击的元素完成展开后显示您的菜单。这样，您将获得准确的宽度。然后，您可以通过设置使其显示在下方`clear:both;`。

生成的代码看起来像......

```
$('#LoginButton').click(function(){
    //$('.username').stop(true,false).animate({width:'toggle'});
    $('.username').animate({
            width : 'toggle'
    }, 1000, 'swing',function(){
        var newWidth = ($('.username').width());
        $("#profilesettings").width(newWidth).css({
            clear:'both',
            'margin-top':0
        });        
        $("#profilesettings").toggle(300);
    });//end anonymous funciton            
});//end click funciton 
```

我指定了 1 秒的延迟，并添加了“摇摆”缓动。这些是可选的，如果您愿意，可以使用原始动画代码。

这是您更新的小提琴[http://jsfiddle.net/CTms3/7/](http://jsfiddle.net/CTms3/7/)

另一种方法是为父容器设置动画，以便按钮和列表同时展开。

希望这些信息有所帮助。

# android - 在 android 的 Videoview 播放器中播放字幕

> ID：15826392
> 
> 赞同：5
> 
> 时间：2013-04-05T05:13:23.193
> 
> 标签：android

如何在 Android 的 VideoView 播放器中调用或播放带有视频的 SRT 文件？

# javascript - 无法从 Web SQL 数据库中获取实际值；它返回未定义

> ID：15826399
> 
> 赞同：0
> 
> 时间：2013-04-05T05:13:57.867
> 
> 标签：javascript, undefined, web-sql

检查我的代码：

```
var db = openDatabase("Despesas", "1.0", "Despesas DB", 2000000);
        db.transaction(createTbl, errorCB, successCB);

        function errorCB(err){
            alert('Error : ' + err.code);
        }
        function successCB(){
            console.log('DB CREATED!');
            db.transaction(queryDB, errorCB);
        }
        function createTbl(tx){
            tx.executeSql('DROP TABLE IF EXISTS ENTRIES');
            tx.executeSql('CREATE TABLE IF NOT EXISTS ENTRIES (id integer primary key autoincrement, entry TEXT NOT NULL)');

        }

        function callPopulate(){
            db.transaction(
                function populateDB(tx){        
                    var userInput = document.getElementById('user').value;
                    tx.executeSql('INSERT INTO ENTRIES (entry) VALUES (?)', [userInput]);
                    //tx.executeSql('INSERT INTO ENTRIES (entry) VALUES ("'+ userInput + '")');
                    //alert('Input ok');
                }, errorCB, successCB);

                }

        function queryDB(tx){
            tx.executeSql('SELECT * FROM ENTRIES',[], querySuccess, errorCB);
        }

function querySuccess(tx, results) {

    document.getElementById('list').innerHTML = '';
    var len = results.rows.length;      
    console.log("ENTRIES table: " + len + " rows found.");
    for (var i=0; i<len; i++){
        item = results.rows.item(i);
        console.log("Row = " + i + " ID = " + results.rows.item(i).id + " Data =  " + results.rows.item(i).data);
        document.getElementById('list').innerHTML += '<li>' + item.data + '</li>';
        console.log(item);
    }   
} 
```

我登录`item`到控制台，但它打印存储的对象。我试过`console.log(item.data)`了，但它似乎没有给我预期的结果。我应该如何解决这个问题并返回真正的价值？我正在使用 Chrome。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T05:17:51.103

看起来您的表中没有名为“数据”的列，或者您没有选择它。

# javascript - CSS3 或 Javascript - 简单填充动画

> ID：15826400
> 
> 赞同：0
> 
> 时间：2013-04-05T05:14:04.453
> 
> 标签：javascript, html, css, keyframe

我正在尝试创建一个简单的动画，当用户将鼠标悬停在一个元素上时，其中包含的另一个元素会填充其父元素。目前，我有一个 JSFiddle 可以做到这一点。

但是，我想用其他一些我不确定我是否可以在 CSS3 中真正做到的功能来完成这个。

1.  我试图找到一种方法，在让内圈完全填充其父级后（即当它的宽度/高度 = 300px 时），我希望填充暂停并且在动画完成后不会消失。

2.  当用户将鼠标移到 :hover 范围之外时，我希望动画反转方向而不是突然停止。

我已经用 CSS3 做到了这一点，但我不确定我是否可以在不求助于 Javascript 的情况下实现这两个功能。有谁知道完全在 CSS3 中执行此操作的方法/有没有人知道是否可以在 CSS3 中执行这最后两个功能，因为我似乎找不到任何东西。

```
.circle {
        width: 300px;
        height: 300px;
        background-color: white;
        border: 1px solid #000000;
        overflow: hidden;

        border-radius: 150px;
        -moz-border-radius: 150px;
        -webkit-border-radius: 150px;
}

.filler {
        width: 0px;
        height: 0px;
        background-color: red;
        border: none;
        position: relative;
        left: 50%;
        top: 50%;

        border-radius: 150px;
        -mox-border-radius: 150px;
        -webkit-border-radius: 150px;

        animation: empty 1s;
}

.circle:hover .filler {
        animation: fill 2s;
        -moz-animation: fill 2s;
        -webkit-animation: fill 2s;
        background-color: blue;
}

@keyframes fill
      {
        from   {background: red; height: 0px; width: 0px;}
        to {background: green; height: 300px; width: 300px; top: 0%; left: 0%;}
      }

      @-moz-keyframes fill /* Firefox */
      {
        from   {background: red; height: 0px; width: 0px;}
        to {background: green; height: 300px; width: 300px; top: 0%; left: 0%;}
      }

      @-webkit-keyframes fill /* Safari and Chrome */
      {
        from   {background: red; height:0px; width:0px;}
        to {background: green; height: 300px; width: 300px; top: 0%; left: 0%;}
      }

      @keyframes empty
      {
        to {background: red; height: 0px; width: 0px; top: 50%; left: 50%;}
      }
      @-moz-keyframes empty
      {
        to {background: red; height: 0px; width: 0px; top: 50%; left: 50%;}
      }
      @-webkit-keyframes empty
      {
        to {background: red; height: 0px; width: 0px; top: 50%; left: 50%;}
      } 
```

[JS小提琴](http://jsfiddle.net/WM2yz/)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-05T06:46:49.533

这个简单的动画不需要关键帧。这是您需要的CSS：

```
.circle {
  position: relative;
  width: 300px;
  height: 300px;
  background-color: white;
  border: 1px solid #000000;
  border-radius: 150px;
  overflow: hidden;
}

.filter {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  background-color: red;
  border-radius: 0px;
  -webkit-transition: all 1s;
  -moz-transition: all 1s;
  -o-transition: all 1s;
  transition: all 1s;
}

.circle:hover .filter {
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  border-radius: 150px;
  background-color: blue;
} 
```

和 HTML：

```
<div class="circle">
  <div class="filter"></div>
</div> 
```

这是一个例子：http: [//jsbin.com/agekef/1/edit](http://jsbin.com/agekef/1/edit)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T05:47:04.840

我希望你可以试试这个链接可能会帮助你

```
<http://jsfiddle.net/spacebeers/sELKu/3/>
<http://jsfiddle.net/SZqkb/1/>
<http://css-tricks.com/examples/DifferentTransitionsOnOff/> 
```

谢谢

# hadoop - hadoop jar 命令类名是否区分大小写？

> ID：15826404
> 
> 赞同：0
> 
> 时间：2013-04-05T05:14:15.270
> 
> 标签：hadoop, command, case-insensitive, word-count

我最近才开始学习 hadoop 1.1.2。

当我开始运行 WordCount 案例时，这两种代码都很好。

**命令A：**

```
hadoop jar /usr/local/hadoop/hadoop-examples-1.1.2.jar WordCount input output 
```

**命令 B：**

```
hadoop jar /usr/local/hadoop/hadoop-examples-1.1.2.jar wordcount input output 
```

唯一的区别是主类名`wordcount`。

所以我的问题是天气主类名是否`wordcount`默认不区分大小写？

**更新**：

@Amar 说`WordCount`不能正常工作，我已经检查过他是对的。我被[这里](http://hadoop.apache.org/docs/r1.1.2/mapred_tutorial.html#Usage)的文件误导了。官方文档需要更新。

但我仍然不知道为什么一定是这样`wordcount`。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-05T06:54:15.643

尝试在没有 的情况下运行`wordcount`，例如： `hadoop jar /usr/local/hadoop/hadoop-examples-1.1.2.jar input output`

您将收到如下信息：

```
Unknown program 'input' chosen.
Valid program names are:
  aggregatewordcount: An Aggregate based map/reduce program that counts the words in the input files.
  aggregatewordhist: An Aggregate based map/reduce program that computes the histogram of the words in the input files.
  dbcount: An example job that count the pageview counts from a database.
  grep: A map/reduce program that counts the matches of a regex in the input.
  join: A job that effects a join over sorted, equally partitioned datasets
  multifilewc: A job that counts words from several files.
  pentomino: A map/reduce tile laying program to find solutions to pentomino problems.
  pi: A map/reduce program that estimates Pi using monte-carlo method.
  randomtextwriter: A map/reduce program that writes 10GB of random textual data per node.
  randomwriter: A map/reduce program that writes 10GB of random data per node.
  secondarysort: An example defining a secondary sort to the reduce.
  sleep: A job that sleeps at each map and reduce task.
  sort: A map/reduce program that sorts the data written by the random writer.
  sudoku: A sudoku solver.
  teragen: Generate data for the terasort
  terasort: Run the terasort
  teravalidate: Checking results of terasort
  wordcount: A map/reduce program that counts the words in the input files. 
```

所以基本上第一个参数**不是主类名称**，而是您要运行的示例程序的名称。

所以，它甚至不应该接受`WordCount`，它不适合我。以下命令的结果与上图相同：

`bin/hadoop jar hadoop-examples-1.0.4.jar WordCount LICENSE.txt output`

**供您参考：**主类已在`META-INF/MANIFEST.MF`jar 中包含的文件中定义： `Main-Class: org/apache/hadoop/examples/ExampleDriver`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T05:15:47.913

它当然是区分大小写的，因为它试图加载类`WordCount`或`wordcount`从 jar 中加载，具体取决于大小写。由于 Java 在这方面区分大小写，因此`hadoop jar`.

# android - AsyncTask 调用主类方法，它在后台完全工作吗？

> ID：15826418
> 
> 赞同：2
> 
> 时间：2013-04-05T05:15:08.433
> 
> 标签：android, android-asynctask

这是我的问题..我在`doInBackground`我的`AsyncTask`类中调用一个方法，该方法在我的主要活动类中声明。它在后台线程中工作吗？或者我需要在里面写整个方法`doInBackground`？？

```
protected String doInBackground(String... params) {
    getAllUsersfromServer();            

    return null;
} 
```

这`getAllUsersfromServer();`是在主类中声明的。该方法使用REST从服务器下载一些数据..

我需要在后台线程中运行整个过程。它有效吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-05T05:54:33.817

> 它在后台线程中工作吗？

AFAIK，是的，它在后台线程中工作。

> 我需要在 doInBackground 中编写整个方法吗？

没必要那样做。

> onPostExecute 下一刻就开始工作了.. 甚至我的用户信息仍在加载中

这是要点，它只是逐行工作，当它执行时`getAllUsersfromServer();`，控件会执行在另一个后台线程中执行的方法。[要理解在 doInBackground 中的方法调用下方添加一行日志打印行，并在方法的循环中添加一行，即使循环未完成，您也会看到 doInBG 日志将被打印]

发生这种情况是因为，您的方法`getAllUsersfromServer();`是 Void，并且 Android 将其作为其他一些独立的工作来完成，并且不会等到它完成并继续移动到下一行。

**解决方案 ：**

只需添加一种返回类型，即`boolean getAllUsersfromServer();`在方法`return true;`和 doInBackground中添加 return 语句`boolean flg = getAllUsersfromServer();`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-05T05:21:53.040

AsyncTask 方法 doInBackground 在单独的线程中异步工作，您的主线程仍可用于显示 UI。

但是我们通常做的是使用静态 HttpHelper 类或方法等来完成诸如“getAllUsersFromServer”之类的网络处理。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-19T10:43:27.853

是的，它将在后台线程中工作。[检查这个](http://developer.android.com/reference/android/os/AsyncTask.html)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-05T05:20:08.363

我不知道你为什么要这样做，但无论如何：

如果活动在异步调用期间被破坏，您将遇到问题，例如方向更改。一个解决方案是使方法静态。

# ios - 将 UIAutomation 测试中的日志保存在文本文件中

> ID：15826419
> 
> 赞同：0
> 
> 时间：2013-04-05T05:15:20.257
> 
> 标签：ios, ios-ui-automation

我想保存在文本文件中创建的日志。当我们为自动化运行任何脚本时，.plist 会在仪器的 Logging 选项卡的指定文件夹中创建。我怎样才能进行这种转换，或者有没有其他方法可以保存日志消息？有关此主题的任何帮助都会有所帮助

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-12T10:56:08.727

从命令行启动 Instruments，你会得到纯文本的日志。您还可以使用`UIALogger`类来添加自己的消息。

# php - 文件没有上传到android中的服务器

> ID：15826421
> 
> 赞同：0
> 
> 时间：2013-04-05T05:15:28.337
> 
> 标签：php, android

我正在将图像文件上传到服务器，同时在 android 中上传到服务器它显示错误消息。

```
<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<html><head>
<title>404 Not Found</title>
</head><body>
<h1>Not Found</h1>
<p>Your browser sent a request that this server could not understand.<br /></p>
<p>Additionally, a 404 Not Found
error was encountered while trying to use an ErrorDocument to handle the request.</p>
</body></html> 
```

我的 PHP 代码

```
<?php
header('Content-type: text/xml');
include_once('registration_db_con.php');
$content='<?xml version="1.0" encoding="utf-8"?><Kudos_Image><Photos>';

   $filename=basename($_FILES['uploaded_file']['name']);
  // print_r ($filename);
   $poto_title=explode(".",$filename);

   $ext = pathinfo($filename, PATHINFO_EXTENSION);

   $r = mysql_query("SHOW TABLE STATUS LIKE 'photos'");
   $row = mysql_fetch_array($r);
   $Auto_increment = $row['Auto_increment'];
   mysql_free_result($r);

   $file_name="kudoskudos_img_".$Auto_increment.'.'.$ext;

   $target_Path="../uploads/photos/".$file_name;

   $arr =  array('gif','png','jpg','jpeg');
   if(in_array($ext,$arr))
   {
       $copied = move_uploaded_file ($_FILES['uploaded_file']['tmp_name'], $target_Path);
      $date=date("Y-m-d H:i:s");
       $disp_module="INSERT INTO photos(file_name,photo_title,album_id,caption,views,createdon,createdby,editedon,status) VALUES('".$file_name."','".$poto_title[0]."','".$_POST['album_id']."','".$_POST['caption']."','0',now(),'".$_POST['user_id']."',now(),'1')";
       $sql=mysql_query($disp_module);  
       $id=mysql_insert_id(); 

       if($id)
       {
             $content.="<Insert_Photos>".$id."</Insert_Photos>";
       }
       else
       {
            $content.="<Insert_Photos>0</Insert_Photos>";
       }

  }

  $content.='</Photos></Kudos_Image>';
  echo $content;

 ?> 
```

在android中调用函数

```
 HttpClient httpClient = new DefaultHttpClient();
  HttpPost postRequest = new HttpPost(com.mythrii.kudoskudos.Utility.urlpath+"webservices/upload_kudos_img.php");

                byte[] data = IOUtils.toByteArray(is);
                InputStreamBody isb= new InputStreamBody(new ByteArrayInputStream(data), convertMediaUriToPath(ImageCaptureUri));

                MultipartEntity multipartContent = new MultipartEntity();
                multipartContent.addPart("uploaded_file", isb);
                multipartContent.addPart("user_id", new StringBody(""+user_id));
                multipartContent.addPart("album_id", new StringBody(""+album_id));
                multipartContent.addPart("caption", new StringBody(""));

                postRequest.setEntity(multipartContent);
                HttpResponse response = httpClient.execute(postRequest);
                HttpEntity entity = response.getEntity(); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-05T05:21:58.493

```
 try
                    {
                        //Bitmap bm = BitmapFactory.decodeResource(getResources(), R.drawable.ic_launcher);
                        Bitmap bm = BitmapFactory.decodeFile(FileUrlimg);
                        HttpClient client = new DefaultHttpClient();
                        HttpPost request = new HttpPost(URLimg);

                        ByteArrayOutputStream bos = new ByteArrayOutputStream();
                        bm.compress(CompressFormat.JPEG, 100, bos);
                        byte[] data = bos.toByteArray();
                        if(data.length>5)
                        {
                            ByteArrayBody bab = new ByteArrayBody(data, "photo.jpg");
                            MultipartEntity reqEntity = new MultipartEntity(HttpMultipartMode.BROWSER_COMPATIBLE);
                            reqEntity.addPart("image", bab);
                            request.setEntity(reqEntity);

                            HttpResponse response = client.execute(request);
                            HttpEntity entity = response.getEntity();
                            if(response.getStatusLine().getStatusCode()==200)
                            {
    //Uploaded                  

                            }

                        Log.e("log_tag img aft", "Res "+response.getStatusLine().getStatusCode() +"  : "+imgstoupload+":text "+EntityUtils.toString(entity) );
                        }
                        }
                    catch(Exception e)
                    {

                    } 
```

# ruby-on-rails - 子控制器的 CSRF 令牌真实性

> ID：15826425
> 
> 赞同：1
> 
> 时间：2013-04-05T05:15:37.783
> 
> 标签：ruby-on-rails, iframe, controller, csrf-protection

每当我发布到我的 api_controller.rb 时，我都会在我的 Rails 应用程序中收到 CSRF 警告（重置我的会话）。

我的应用程序在 windows phone 8 的 phonegap 中的 iframe 上运行，在我的 application_controller 中，我有一个 p3p 标头来解决这个问题。但在这种情况下它似乎不起作用。它就像p3p不存在......？有没有人遇到过这个？

```
class ApplicationController < ActionController::Base

protect_from_forgery
before_filter :header_fix

protected
  def header_fix
    headers['P3P'] = 'CP="ALL DSP COR CURa ADMa DEVa OUR IND COM NAV"'
  end
end

class Api::ApiController < ApplicationController
before_filter :login_required

skip_before_filter :detect_device
skip_before_filter :detect_browser
skip_before_filter :record_log

skip_before_filter :assign_packages
skip_before_filter :assign_daily_bonus

end

[2646 - 2013/04/05 13:04:23] (INFO) Started POST "/api/chests" for 60.50.19.249 at 2013-04-05 13:04:23 +0800
[2646 - 2013/04/05 13:04:23] (INFO) Processing by Api::ChestsController#create as */*
[2646 - 2013/04/05 13:04:23] (INFO)   Parameters: {"force_new"=>"true"}
[2646 - 2013/04/05 13:04:23] (WARN) WARNING: Can't verify CSRF token authenticity
[2646 - 2013/04/05 13:04:23] (INFO) User agent: Mozilla/5.0 (compatible; MSIE 10.0; Windows Phone 8.0; Trident/6.0; IEMobile/10.0; ARM; Touch; NOKIA; Lumia 920)
[2646 - 2013/04/05 13:04:23] (DEBUG)   User Load (4.5ms)  SELECT `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1
[2646 - 2013/04/05 13:04:23] (DEBUG)   KeyPackage Load (1.2ms)  SELECT `packages`.* FROM `packages` WHERE `packages`.`type` IN ('KeyPackage') ORDER BY cost
[2646 - 2013/04/05 13:04:23] (DEBUG)   CACHE (0.0ms)  SELECT `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1
[2646 - 2013/04/05 13:04:23] (DEBUG)   CACHE (0.0ms)  SELECT `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1
[2646 - 2013/04/05 13:04:23] (WARN) Lost session [60.50.19.249] (/api/chests) - Mozilla/5.0 (compatible; MSIE 10.0; Windows Phone 8.0; Trident/6.0; IEMobile/10.0; ARM; Touch; NOKIA; Lumia 920) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T06:19:12.913

该 gem 适用于 Ruby on Rails ( [https://github.com/grosser/ie_iframe_cookies](https://github.com/grosser/ie_iframe_cookies) )。解决问题。

即使我的 p3p 标头有效并且我的用户可以登录，但我不确定 IE10 为何这样做。

# css - 硬件加速一切的任何后备？

> ID：15826431
> 
> 赞同：0
> 
> 时间：2013-04-05T05:15:53.340
> 
> 标签：css, 3d

是否有任何理由不使用硬件加速一切

```
transform: translate3d(0,0,0); 
```

使用 * 作为选择器？

哪些东西应该硬件加速，哪些东西不应该？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T06:35:40.487

@IMUXIxD您问了一个非常好的问题，答案是否定的，您不应该硬件加速它似乎可以解决问题但实际上可能导致其他几个问题的所有东西。当您尝试对项目进行 z 索引时，它也可能导致奇怪的显示问题，因为硬件加速对象往往会在动画时将它们从 DOM 中删除。

我在这里写了一篇关于我对硬件加速的理解和测试的广泛文章[http://blog.zindustriesonline.com/gpu-accelerated-animations-and-composite-layering/](http://blog.zindustriesonline.com/gpu-accelerated-animations-and-composite-layering/) 它也有一个来自 Matt Seeley 的非常好的视频Netflix 工程师。

我希望这可以帮助您更好地了解使用硬件加速的好处和坏处以及用例的最佳情况。

# blackberry - 如何处理 null 作为黑莓 Hashtable 中的键值？

> ID：15826434
> 
> 赞同：2
> 
> 时间：2013-04-05T05:16:13.017
> 
> 标签：blackberry, java-me, hashtable

因为，我知道哈希表不允许空值。如果我想放置密钥对值如何处理？黑莓还有其他选择吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-05T05:26:44.827

你可以用这样的东西扩展 Hashtable

```
class NullKeyHashtable extends Hashtable {
    private static Object NULL = new Object();

    private Object nullToNull(Object key) {
        return key == null ? NULL : key;
    }

    public Object put(Object key, Object value) {
        return super.put(nullToNull(key), value);
    }

    public Object get(Object key) {
        return super.get(nullToNull(key));
    }

    ... 
} 
```

# python - 导入变量给出属性错误python

> ID：15826438
> 
> 赞同：0
> 
> 时间：2013-04-05T05:16:49.927
> 
> 标签：python, variables, import, attributeerror

这是在 python 2.7.3 中完成的：

x.py：

```
import y
global path_variable
path_variable = "a_path"
y.procedure() 
```

y.py：

```
import x
def procedure():
    return x.path_variable 
```

现在当我运行 XI 得到这个奇怪的错误：

```
AttributeError: 'module' object has no attribute 'path_variable' 
```

为什么是这样？据我所知，python 允许您导入变量。难道我做错了什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-05T05:30:05.813

我相信这只是一个循环依赖的问题。基本上，您可以修复此代码，但您可能想要重新考虑您的包设计，以便您没有两个相互导入的模块。

此外，您不需要声明`path_variable`，`global`因为它仅在局部范围内更改全局范围内的变量时使用，并且在 Python 中通常也不鼓励使用它。

**x.py**

```
import y
path_variable = "a_path"

if __name__ == "__main__":
    y.procedure() 
```

**y.py**

```
import x
def procedure():
    return x.path_variable 
```

# cordova - 我们可以将 Ad Mob 用于 PhoneGap 吗？

> ID：15826446
> 
> 赞同：0
> 
> 时间：2013-04-05T05:17:08.950
> 
> 标签：cordova, admob, phonegap-plugins

我们可以将 Ad Mob 与 phonegap 应用程序一起使用吗，是否有任何用于 Ad Mob 的 API 与适用于 Android、Windows Phone 和 iPhone 的 phonegap 实现？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-06T04:35:44.397

最后我找到了 windows phone 的 ad-mob。下面的代码显示了由 WP7 的 PhoneGap 模板创建的默认 XAML，经过修改以在移动应用程序的底部显示 AdMob 横幅。

```
<grid x:name="LayoutRoot" background="Transparent" horizontalalignment="Stretch">
<grid.rowdefinitions>
   <rowdefinition height="*"></rowdefinition>
   <rowdefinition height="75"></rowdefinition> <!-- Extra grid row for AdMob -->
</grid.rowdefinitions>

<!-- Original container displaying your HTML -->
<my:cordovaview grid.row="0" horizontalalignment="Stretch" margin="0,0,0,0" x:name="CordovaView" verticalalignment="Stretch">
</my:cordovaview>

<!-- Our AdMob banner: -->
<google:bannerad grid.row="1" adunitid="YOUR_AD_UNIT_ID" xmlns:google="clr-namespace:Google.AdMob.Ads.WindowsPhone7.WPF;assembly=Google.AdMob.Ads.WindowsPhone7">
</google:bannerad> 
```

让我们检查更多详细信息[http://fczaja.blogspot.in/2012/09/admob-ads-in-phonegap-apps.html](http://fczaja.blogspot.in/2012/09/admob-ads-in-phonegap-apps.html)

# javascript - Javascript 符号

> ID：15826448
> 
> 赞同：0
> 
> 时间：2013-04-05T05:17:17.470
> 
> 标签：javascript, jquery

我遇到了一个我不太熟悉的符号，并且想知道在哪里看的方向。

符号是`"selector event" : function() {}`

所以例如

`".elementClass change" : function() {}`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T05:24:02.220

此表示法适用`key-value`于`object`. 具体示例是属于选择器和事件键的函数值。然后可以使用以下键访问该功能：

```
var obj = {
    ".elementClass change": function () {}
};
var func = obj[".elementClass change"]; 
```

# android - Android自定义列表视图在项目选择上不可点击

> ID：15826449
> 
> 赞同：0
> 
> 时间：2013-04-05T05:17:39.913
> 
> 标签：android, android-listview, custom-controls, android-arrayadapter

我正在使用 android 中的自定义 listView。但我无法单击列表视图中的项目。

我的代码是

适配器代码（BankArrayListAdapter.java）

```
package com.example.customlist;

import java.util.List;

import android.content.Context;
import android.graphics.drawable.Drawable;
import android.text.method.LinkMovementMethod;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.ArrayAdapter;
import android.widget.ImageView;
import android.widget.TextView;

public class BankArrayListAdapter extends ArrayAdapter<Bank>{

    private int resource;
    private LayoutInflater inflater;
    private Context ctx;

    public BankArrayListAdapter(Context context, int resourceId, List<com.example.customlist.Bank> ls)

    {
        super(context, resourceId, ls);

         resource = resourceId;

         inflater = LayoutInflater.from( context );
         ctx=context;

        // TODO Auto-generated constructor stub
    }

    @Override
    public View getView(int position, View convertView, ViewGroup parent)
    {

           /* create a new view of my layout and inflate it in the row */
        convertView = inflater.inflate( resource, null );

        /* Extract the city's object to show */
        Bank bank = (Bank) getItem(position);

        /* Take the TextView from layout and set the city's name */
        TextView txtName = (TextView) convertView.findViewById(R.id.textView1);
        txtName.setText(bank.getName());

        /* Take the TextView from layout and set the city's wiki link */
        TextView txtWiki = (TextView) convertView.findViewById(R.id.textView2);
        txtWiki.setTextSize(13);
        txtWiki.setMovementMethod(LinkMovementMethod.getInstance());
         txtWiki.setText(bank.getUrl());

        /* Take the ImageView from layout and set the city's image */
        ImageView imageCity = (ImageView) convertView.findViewById(R.id.imageView1);
        String uri = "drawable/" + bank.getLogo();
        int imageResource = ctx.getResources().getIdentifier(uri, null, ctx.getPackageName());
        Drawable image = ctx.getResources().getDrawable(imageResource);
        imageCity.setImageDrawable(image);

        return convertView;
    }

} 
```

MainActivity.java

```
package com.example.customlist;

import java.util.ArrayList;
import java.util.List;

import android.os.Bundle;
import android.app.Activity;
import android.util.Log;
import android.view.Menu;
import android.view.View;
import android.widget.AdapterView;
import android.widget.ListView;
import android.widget.TextView;
import android.widget.Toast;
import android.widget.AdapterView.OnItemClickListener;

public class Main extends Activity {

    ListView lv;
    List<Bank> ls;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        lv= (ListView) findViewById(R.id.listView1);

        ls= new ArrayList<Bank>();

         ls.add(new Bank("sbi","State Bank Of India","http://www.sbi.com"));

        ls.add(new Bank("iob", "India Overseas Bank","http://www.iob.com"));

        ls.add(new Bank("icici","ICICI","http://www.icici.com"));

        //lv.setAdapter( new BankArraylistA);
        lv.setAdapter( new BankArrayListAdapter(Main.this, R.layout.banklist, ls ) );

        lv.setOnItemClickListener(new OnItemClickListener() {
            @Override
               public void onItemClick(AdapterView<?> a, View v, int position, long id) {

                   Toast.makeText(Main.this,"Your Listener Works!",Toast.LENGTH_SHORT).show();
                   // System.out.println("Name: "+ls.get(position).getName());
                  // String s =(String) ((TextView) v.findViewById(R.id.From)).getText();
                  // Toast.makeText(Messages.this, s, Toast.LENGTH_LONG).show();  
               }
       });

        System.out.println(ls);

    }

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {
        // Inflate the menu; this adds items to the action bar if it is present.
        getMenuInflater().inflate(R.menu.activity_main, menu);
        return true;
    }

} 
```

activity_main.xml 文件是这样的

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:descendantFocusability="blocksDescendants"
    tools:context=".Main" >

    <ListView
        android:id="@+id/listView1"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
         >
    </ListView>

</LinearLayout> 
```

提前致谢

问候， 萨蒂什

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-10T23:58:31.447

我有同样的问题，我通过将此代码添加到我的自定义适配器类中的 getView() 方法来解决，你*的 BankArrayListAdapter.java*

```
convertView.setOnClickListener(new OnClickListener() 
{
        @Override
        public void onClick(View v) 
        {
            Log.v("LV_ITEM", "Position of item is " + position);
        }
 }); 
```

# ibm-mobilefirst - Ecma 错误：TypeError：无法调用属性

> ID：15826456
> 
> 赞同：5
> 
> 时间：2013-04-05T05:18:11.527
> 
> 标签：ibm-mobilefirst

我在 worklight 项目的适配器中编写了一些 java 代码。当我尝试调用 java 方法时，我收到一条错误消息

> “responseID”：“6”，“errors”：{Ecma 错误：TypeError：无法调用对象 JavaPackage java.classes.FileIOPlugin 中的属性 downloadFile]。它不是一个函数，它是\"object\"。}

我已按照以下链接中准确说明的程序进行操作。 [在适配器中使用 Java](http://public.dhe.ibm.com/ibmdl/export/pub/software/mobile-solutions/worklight/docs/Module_05_5_-_Using_Java_in_Adapters.pdf)

这是我的项目结构。这个结构有什么问题还是我应该在其中添加更多内容？

![在此处输入图像描述](https://i.stack.imgur.com/GvPEW.png)

这就是我试图在 adapter-impl.js 中调用 java 非静态方法的方式

```
function downloadFile() {
    var fileInstance = new com.worklight.JavaCode.FileIOPlugin();
    return
    {   result: fileInstance.downloadFile();    }; 
```

}

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-06-19T06:51:41.630

我们已经确定了另一种可能的解决方案。

*   将 Java 编译器级别更改为 1.6，并将默认 JRE 更改为 1.6：

![编译器级别](https://i.imgur.com/6Z6CA1a.png) ![JRE版本](https://i.imgur.com/KFQeapa.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T07:29:04.073

确保您的包以 com 开头，例如将其重命名为“com.classes”。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-05T12:15:37.173

实例化对象时尝试添加括号：

```
var fileInstance = new com.worklight.JavaCode.FileIOPlugin() 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-05-26T17:35:10.073

检查您的 .project 文件并确保其中包含正确的 buildCommand 标签。

```
<buildCommand>
        <name>org.eclipse.jdt.core.javabuilder</name>
        <arguments>
        </arguments>
    </buildCommand>
    <buildCommand>
        <name>org.eclipse.wst.jsdt.core.javascriptValidator</name>
        <arguments>
        </arguments>
    </buildCommand>
    <buildCommand>
        <name>org.eclipse.wst.common.project.facet.core.builder</name>
        <arguments>
        </arguments>
    </buildCommand>
    <buildCommand>
        <name>com.worklight.studio.plugin.WorklightProjectBuilder</name>
        <arguments>
        </arguments>
    </buildCommand>
    <buildCommand>
        <name>org.eclipse.wst.validation.validationbuilder</name>
        <arguments>
        </arguments>
    </buildCommand> 
```

阅读更多内容：[ECMA TypeError 从 Worklight 适配器调用 Java 类](https://stackoverflow.com/questions/16614742/ecma-typeerror-calling-java-class-from-worklight-adapter/16761874#16761874)

# iphone - iOS 应用程序在生产时崩溃但在调试时没有

> ID：15826459
> 
> 赞同：1
> 
> 时间：2013-04-05T05:18:16.270
> 
> 标签：iphone, ios, objective-c, xcode4.6, crash-log

我一直在开发 iOS 应用程序。它工作正常，直到几天前，它开始表现得很奇怪。该应用程序在生产中崩溃，但它不会创建崩溃日志。但是，当在 QA 中测试相同的场景时，它可以正常工作。现在我一直在试图找出原因，但是没有任何崩溃日志或调试模式下的崩溃，这对我来说变得非常困难。

任何建议，如何解决它？

谢谢！

PS 我使用的是 XCode 4.6.1，而应用程序适用于 iOS 6.0。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T07:04:34.500

在回答我自己的问题后，我在互联网上进行了详细研究后发现，在登录`Crash Log`. 我的错误是我的服务的委托属性。经过长时间的努力，我找到了问题的根本原因，因为我已经将代码转换为 ARC，所以委托属性是`unsafe_unreatained`，它在服务仍在使用时释放了委托，所以我只需要转换它进入 strong 并将其设置为 nil in `dealloc`。进一步的描述可以在这里看到：[https](https://stackoverflow.com/a/9065105/1351911) ://stackoverflow.com/a/9065105/1351911 。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T05:21:47.540

我遇到了同样的问题，在 Xcode 4.6.1 中使用 sdk 6.0 或更高版本构建 ipa 会使应用程序崩溃。尝试在 Xcode 4.4 或 4.3 中存档它可能是较低版本并尝试。

# c++ - 在 C++ 中重新定义变量的范围问题

> ID：15826461
> 
> 赞同：0
> 
> 时间：2013-04-05T05:18:22.350
> 
> 标签：c++, visual-studio-2012, scope

给定以下代码：

```
for (list<Vertex*>::iterator v = vertexList->begin(); v != vertexList->end(); v++)
{
    if (!(*(*v) == *u))
    {
        (*v)->setColor(white);
        (*v)->setPred(NULL);
        (*v)->setDist(INFINITY);
    }
}

queue<Vertex*> Q;
Q.push(u);
Vertex* v = Q.front();  // WONT assign the item that is in the queue to v
Vertex* t = Q.front();        // WILL assign the item that is in the queue to t 
```

如您所见，变量 V 已在 for 循环中定义，并且（至少据我所知）应该只在 for 范围内持续存在。（当 for 处于活动状态时）。

但是，当我尝试将 Q 前端分配给一个名为 V 的新变量时，它不会真正将当前位于 QUEUE 中的项目放入其中。相反，我只看到?????? 在里面。（使用视觉 STUDIO 2012）。编译成功通过。

另一方面，当我尝试将 Q 前端分配给未命名为 v 的变量时，它会让我这样做，并且 T 将保持正确的值（队列中的第一项）。

我在这里想念什么..？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T05:36:04.140

我认为这只是一个调试器错误，如果有描述性属性或 Vertex 的成员，您可以写入控制台进行控制，您会看到 Vertex* v 已正确分配。

# sql - SQL 日期格式

> ID：15826467
> 
> 赞同：0
> 
> 时间：2013-04-05T05:18:50.057
> 
> 标签：sql, date, formatting

我的表中有一个日期时间列。如何只显示时间？

比如说，列中的值为**2013-03-25 08:40:00.000**。如何单独显示值**08:40 ？**

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T05:21:44.107

试试这个

`select Convert(varchar, getdate(), 8)`

或者

```
select SUBSTRING(Convert(varchar, GETDATE(), 8), 1, 5) 
```

如果你只想`hh:mm`

有关 SQL Server 中的更多日期格式，[请参阅此](http://www.sql-server-helper.com/tips/date-formats.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T05:27:39.407

对于 SQL Server：

由于您不想仅以`hh:mm`格式显示时间，因此可以使用：

```
SELECT CONVERT(VARCHAR(5), GETDATE(), 8) 
```

有关详细信息，请参阅[CAST 和 CONVERT (Transact-SQL)](http://msdn.microsoft.com/en-in/library/ms187928.aspx)

对于 MySQL：

```
SELECT DATE_FORMAT(CURRENT_TIMESTAMP(), '%k:%i') 
```

# sql - 我可以强制 SQL Server 明确地不缓存我的查询结果集吗？

> ID：15826468
> 
> 赞同：2
> 
> 时间：2013-04-05T05:18:55.663
> 
> 标签：sql, sql-server, sql-server-2008, tsql

是否有明确的**命令**来**强制**SQL Server**不要“缓存”**我的查询**结果**？

我正在处理一个性能问题，当第二次调用完成长查询时，它太快了，**为了**在我进行修改时比较查询性能，我希望这种行为不会发生。

这可能吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-05T06:53:17.403

你这样做是不对的。改为使用精确测量：启用[`SET STATISTICS IO ON`](http://msdn.microsoft.com/en-us/library/ms184361.aspx)然后[`SET STATISTICS TIME ON`](http://msdn.microsoft.com/en-us/library/ms190287.aspx)比较查询。查看查询的*逻辑读取*次数，这将是提高性能的驱动因素。

如果您强制使用冷缓存（这是可能的），那么您正在针对*错误*的情况进行优化，因为大多数情况下您的生产服务器将被预热并从缓冲池提供数据。

此外，您第一次看到由查询驱动的大量 IO 也清楚地表明了表扫描。查询重写可能会有所帮助，但您真正的问题更可能是缺少索引，这就是您应该关注的问题。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-05T05:22:29.643

是的。你会想看看这个：[http](http://www.mssqltips.com/sqlservertip/1360/clearing-cache-for-sql-server-performance-testing/) ://www.mssqltips.com/sqlservertip/1360/clearing-cache-for-sql-server-performance-testing/ 。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-05T05:31:11.893

您确定您指的是查询结果的缓存与执行计划吗？

可以使用以下方法在对象级别选择不缓存执行计划：

```
WITH RECOMPILE 
```

值得一看：[SQL Server 中 RECOMPILE 的使用和滥用（视频）](http://www.brentozar.com/archive/2012/06/use-abuse-of-recompile-sql-server-video/)。

# xss - 当 URl 包含隐藏字段时测试 XSS 漏洞

> ID：15826469
> 
> 赞同：0
> 
> 时间：2013-04-05T05:18:56.810
> 
> 标签：xss

我正在检查我的门户的 XSS 漏洞。我在互联网上找到的例子说，如果你有这样的 URl

```
http://www.yoursite.com/index.html?name=george 
```

尝试对其进行编码

```
http://www.yoursite.com/index.html?name=<script>alert('You just found a XSS vulnerability')</script> 
```

如果您发现 alert ，它将表明您的门户网站存在 XSS 漏洞。但我的问题是我的网址不包含任何变量，因为我使用隐藏字段我的网址看起来像

```
http://[myip]:8080/appshop-V1/appStoreRegistration.html 
```

并且它不会更改任何帖子或获取操作。我如何在这种情况下插入脚本并检查漏洞。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T05:22:27.560

基本安全告诉你不应该相信来自用户的输入，他们可以使用 fiddler 之类的工具，也可以轻松地操纵隐藏字段的值。如果您使用该值在门户上输出名称等内容...在输出之前进行 html 编码。XSS 不限于 querystring ，它可以是来自用户的任何东西。甚至建议您不要将敏感信息存储在隐藏字段中，因为最终用户可以看到并更改它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T07:17:43.863

一般来说，如果您的表单处理器只接受 POST 请求，那么 XSSing 有点困难（参见[http://blog.portswigger.net/2007/03/exploiting-xss-in-post-requests.html](http://blog.portswigger.net/2007/03/exploiting-xss-in-post-requests.html)示例） . 如果您只想测试而不是创建完整的漏洞利用程序，那么请使用允许您修改请求字段的工具（例如上面链接中的 Burp Suite）并使用它。

如果您的回发 URL 同时响应 POST 和 GET 请求（它不应该，但这种情况总是发生），那么只需将您的“post”变量添加到 URL 中，就像在您的第一个示例中一样，并通过它们进行 XSS。变量可以在您的 .

一些高级阅读在[https://www.owasp.org/index.php/XSS_Filter_Evasion_Cheat_Sheet](https://www.owasp.org/index.php/XSS_Filter_Evasion_Cheat_Sheet)

简而言之，弄个扫描仪，这不值得手工做。

# jquery - 如何在 Jquery 可排序的 UL 末尾附加拖动的 LI 元素？

> ID：15826473
> 
> 赞同：1
> 
> 时间：2013-04-05T05:19:44.810
> 
> 标签：jquery, jquery-ui

在 Jquery 可排序中，我如何限制可拖动“LI”的行为，以便它只能在最后附加到另一个“ul”？

```
<ul id="sortable1" class="connectedSortable">
  <li class="ui-state-default">Item 1</li>
  <li class="ui-state-default">Item 2</li>
  <li class="ui-state-default">Item 3</li>
  <li class="ui-state-default">Item 4</li>
  <li class="ui-state-default">Item 5</li>
</ul>

<ul id="sortable2" class="connectedSortable">
  <li class="ui-state-highlight">Item 1</li>
  <li class="ui-state-highlight">Item 2</li>
  <li class="ui-state-highlight">Item 3</li>
  <li class="ui-state-highlight">Item 4</li>
  <li class="ui-state-highlight">Item 5</li>
</ul>

    <script>
  $(function() {
    $( "#sortable1, #sortable2" ).sortable({
      connectWith: ".connectedSortable"
    }).disableSelection();
  }); 
```

如何使“sortable1 li”元素只应附加在“Sortable2”列表的末尾，而不应附加在“Sortable2”li 元素之间？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-05T05:37:16.107

```
$( "#sortable1, #sortable2" ).sortable({
  connectWith: ".connectedSortable",
  receive: function( event, ui ) {
      $(ui.item).appendTo(this);
  }
}).disableSelection(); 
```

**[演示](http://jsfiddle.net/maheshsapkal/wPCtr/)**

# c# - 使用 Linq 构建树层次结构

> ID：15826474
> 
> 赞同：1
> 
> 时间：2013-04-05T05:19:54.907
> 
> 标签：c#, linq, asp.net-mvc-4

我正在使用 Linq 创建树层次结构，因为我是新手，所以我遇到了麻烦。我有两个表，我必须从中创建层次结构，表如下

**表 A**

```
Id
Name
Description 
```

**表 B**

```
Id of A (as foreign key)
Name 
```

我需要这样的结构：

```
name(From table A)
     |_name(from table B)
     |_name (from table B)
name(from table A) 
```

我有一个类定义为

```
 Public Class C
   {
        public class C(C item,IEnumerable<C> id,IEnumerable<C> data)
            {

              AId=item.AI;
              BId=item.BId;
               AName=item.Name;
              Childeren=id;
            }

           public IEnumerable<C> Children{get;set}
         } 
```

即使没有节点，也必须显示所有表的名称

我使用 Group join 从两个表中获取数据，现在我遇到了选择节点及其子节点的代码问题。我的 linq 代码如下：

```
private List<Model> BuildHierarchy(IEnumerable<Model> Hirs)
{
    var families=Hirs.ToLookup(x => x.AId);
    var topmost = families.First().Select(s => s);
    Func<string, IList<Model>> children = null;
    children = (parentId) => families[parentId]
                    .OrderBy(x => x.BId)
                    .Select(x => new Model(x, children(x.BId), Hirs))
                    .OrderBy(o=> o.Bid).ToList();

    return topmost.Select(mod => new Model(mod, children(mod.BId), Hirs)).ToList();
} 
```

它的作用是只获取表 A 的第一个节点，但节点所有数据。当我单击该节点时，该方法会再次被调用，创建相同的节点。

我不知道为什么我会遇到这个问题，如果你们能帮助我，这将是一个很大的帮助，因为我被困在这里很长一段时间。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T05:55:06.697

请试试这个。我将进行编辑并使其更清晰或更精确。

```
 DataSet ds = new DataSet();

    DataTable dtPrimary = new DataTable();
    dtPrimary.Columns.Add("Id", typeof(int));
    dtPrimary.Columns.Add("Name", typeof(string));

    DataTable dtForeign = new DataTable();
    dtForeign.Columns.Add("Id", typeof(int));
    dtForeign.Columns.Add("Name",typeof(string));

    ds.Tables.Add(dtPrimary);
    ds.Tables.Add(dtForeign);
    DataRelation dr = new DataRelation("myRelation", dtPrimary.Columns["Id"], dtForeign.Columns["Id"]);

    dtPrimary.Rows.Add(1, "Name1");
    dtPrimary.Rows.Add(2, "Name2");

    dtForeign.Rows.Add(1,"Child1OfName1");
    dtForeign.Rows.Add(1, "Child2OfName1");
    dtForeign.Rows.Add(2, "ChildOfName2");

    DataTable dtNew = new DataTable();
    dtNew.Columns.Add("Id");
    dtNew.Columns.Add("Name");

var items =
    from row in dtPrimary.AsEnumerable()
    let foreignRow = (
    from innerRow in dtForeign.AsEnumerable()
    where innerRow.Field<int>("Id") == row.Field<int>("Id")
    select innerRow)
    select new { Parent = row.Field<string>("Name"), Children = foreignRow }; 
```

# php - Codeigniter - 解析每一行 json 数据

> ID：15826487
> 
> 赞同：0
> 
> 时间：2013-04-05T05:21:09.473
> 
> 标签：php, json, codeigniter, parsing

您好我正在使用 foreach 循环来解析每一行 json 数据..

我**到底**想从视图中获取 json 数据，然后将其发送到控制器，在那里我解析每行 json 以将其插入到我的数据库中。我试图通过将数据放入循环中来插入数据，然后调用我的模型中存在的 setCurrentAttendance($item)。如果我的方法是错误的，请让我知道正确的方法..

php代码是：

```
$data = json_decode($_POST["json"]); 

        var_dump($data);

        foreach($data as $item){
            $this->codegen_model->setCurrentAttendance($item);
        } 
```

**笔记**

```
$this->codegen_model->setCurrentAttendance($item); 
```

重定向到我试图将 $item 作为数组传递并将其插入数据库的模型。

```
function setCurrentAttendance($data){
        $this->db->insert('table_name', $data); 
        if ($this->db->affected_rows() >= '1')
        {
            return TRUE;
        }

        return FALSE;
    } 
```

json 数据变量 $data 是：

```
 "[{"roll_no":"1101","full_name":"John Smith","dayspresent":"1","totalclasses":"2","percent_att":"50","hasAttended":"P","att_date":"Thu Apr 04 2013","st_class":"1","st_section":"A"},
{"roll_no":"1102","full_name":"Ram Puri","dayspresent":"4","totalclasses":"4","percent_att":"100","hasAttended":"P","att_date":"Thu Apr 04 2013 ","st_class":"1","st_section":"A"}]" 
```

但我收到以下错误，无法猜测为什么？

```
<div style="border:1px solid #990000;padding-left:20px;margin:0 0 10px 0;">

<h4>A PHP Error was encountered</h4>

<p>Severity: Warning</p>
<p>Message:  Invalid argument supplied for foreach()</p>
<p>Filename: controllers/controller_name.php</p>
<p>Line Number: 245</p>

</div> 
```

请让我知道我错在哪里。

提前致谢。

**更新**

json编码数据：

```
"[{\"roll_no\":\"1101\",\"full_name\":\"John Smith\",\"dayspresent\":\"1\",\"totalclasses\":\"2\",\"percent_att\":\"\n\t\t\t50\t\t\t\",\"hasAttended\":\"P\",\"att_date\":\"Fri Apr 05 2013 \",\"st_class\":\"1\",\"st_section\":\"A\"},{\"roll_no\":\"1102\",\"full_name\":\"Ram Puri\",\"dayspresent\":\"4\",\"totalclasses\":\"4\",\"percent_att\":\"\n\t\t\t100\t\t\t\",\"hasAttended\":\"A\",\"att_date\":\"Fri Apr 05 2013 \",\"st_class\":\"1\",\"st_section\":\"A\"}]" 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-05T05:39:04.340

您的 JSON 字符串无效。它有`\t`并且`\n`在其中，这是不应该的。你必须先过滤掉那些：

```
$json = str_replace(array("\t","\n"), "", $_POST["json"]);
$data = json_decode($json); 

var_dump($data);

foreach($data as $item)
{
  $this->codegen_model->setCurrentAttendance($item);
} 
```

请参阅：[这有效](http://codepad.org/M4EdiGS2)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T05:41:30.490

请使用此代码。它可能对你有用。

**编辑**

代码更新以打印每个学生的全名作为示例。

```
 <?php
$data = '{"students" : [{"roll_no":"1101","full_name":"John Smith","dayspresent":"1","totalclasses":"2","percent_att":"50","hasAttended":"P","att_date":"Fri Apr 05 2013 ","st_class":"1","st_section":"A"},{"roll_no":"1102","full_name":"Ram Puri","dayspresent":"4","totalclasses":"4","percent_att":"100","hasAttended":"A","att_date":"Fri Apr 05 2013 ","st_class":"1","st_section":"A"}]}';

$data = json_decode($data); 

        //var_dump($data);

        foreach($data->students as $item){
           print $item->full_name;
        }
?> 
```

# java - RepositoryFactory 已经在瓦片和速度集成中初始化异常

> ID：15826492
> 
> 赞同：1
> 
> 时间：2013-04-05T05:21:40.820
> 
> 标签：java, spring, exception, velocity, tiles

我正在尝试将瓷砖+速度集成到 Spring MVC 中。

我在[github](https://github.com/pete911/openhouse-web)中找到了具有相同目的的链接。所以我在 Eclispe 的项目中使用这些类。当我运行项目时，出现以下异常：

```
HTTP Status 500 - Servlet.init() for servlet appServlet threw exception

type Exception report

message Servlet.init() for servlet appServlet threw exception

description The server encountered an internal error that prevented it from fulfilling this request.

exception

javax.servlet.ServletException: Servlet.init() for servlet appServlet threw exception
    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)
    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99)
    org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:936)
    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)
    org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1004)
    org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:589)
    org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:312)
    java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
    java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
    java.lang.Thread.run(Unknown Source)

root cause

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'tilesConfigurer' defined in ServletContext resource [/WEB-INF/spring/appServlet/servlet-context.xml]: Invocation of init method failed; nested exception is java.lang.RuntimeException: Could not initialize VelocityEngine: java.lang.IllegalStateException: The RepositoryFactory has already been initialized!
    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1455)
    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)
    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)
    org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:294)
    org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:225)
    org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:291)
    org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:193)
    org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:585)
    org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:913)
    org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:464)
    org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:631)
    org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:588)
    org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:645)
    org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:508)
    org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:449)
    org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:133)
    javax.servlet.GenericServlet.init(GenericServlet.java:160)
    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)
    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99)
    org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:936)
    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)
    org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1004)
    org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:589)
    org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:312)
    java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
    java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
    java.lang.Thread.run(Unknown Source)

root cause

java.lang.RuntimeException: Could not initialize VelocityEngine: java.lang.IllegalStateException: The RepositoryFactory has already been initialized!
    org.apache.velocity.tools.view.VelocityView.init(VelocityView.java:354)
    org.apache.velocity.tools.view.VelocityView.init(VelocityView.java:310)
    org.apache.velocity.tools.view.VelocityView.<init>(VelocityView.java:213)
    org.apache.tiles.velocity.renderer.VelocityAttributeRenderer.commit(VelocityAttributeRenderer.java:82)
    com.me.velo.VelocityTilesContainerFactory.registerAttributeRenderers(VelocityTilesContainerFactory.java:175)
    org.apache.tiles.factory.BasicTilesContainerFactory.createRendererFactory(BasicTilesContainerFactory.java:411)
    org.apache.tiles.factory.BasicTilesContainerFactory.createContainer(BasicTilesContainerFactory.java:111)
    org.apache.tiles.startup.AbstractTilesInitializer.createContainer(AbstractTilesInitializer.java:124)
    org.apache.tiles.startup.AbstractTilesInitializer.initialize(AbstractTilesInitializer.java:70)
    org.springframework.web.servlet.view.tiles2.TilesConfigurer.afterPropertiesSet(TilesConfigurer.java:339)
    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1514)
    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1452)
    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)
    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)
    org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:294)
    org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:225)
    org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:291)
    org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:193)
    org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:585)
    org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:913)
    org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:464)
    org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:631)
    org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:588)
    org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:645)
    org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:508)
    org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:449)
    org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:133)
    javax.servlet.GenericServlet.init(GenericServlet.java:160)
    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)
    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99)
    org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:936)
    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)
    org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1004)
    org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:589)
    org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:312)
    java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
    java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
    java.lang.Thread.run(Unknown Source)

root cause

java.lang.IllegalStateException: The RepositoryFactory has already been initialized!
    org.apache.velocity.runtime.resource.loader.StringResourceLoader$RepositoryFactory.setRepositoryClass(StringResourceLoader.java:209)
    org.apache.velocity.runtime.resource.loader.StringResourceLoader.init(StringResourceLoader.java:99)
    org.apache.velocity.runtime.resource.ResourceManagerImpl.initialize(ResourceManagerImpl.java:147)
    org.apache.velocity.runtime.RuntimeInstance.initializeResourceManager(RuntimeInstance.java:594)
    org.apache.velocity.runtime.RuntimeInstance.init(RuntimeInstance.java:241)
    org.apache.velocity.app.VelocityEngine.init(VelocityEngine.java:116)
    org.apache.velocity.tools.view.VelocityView.init(VelocityView.java:347)
    org.apache.velocity.tools.view.VelocityView.init(VelocityView.java:310)
    org.apache.velocity.tools.view.VelocityView.<init>(VelocityView.java:213)
    org.apache.tiles.velocity.renderer.VelocityAttributeRenderer.commit(VelocityAttributeRenderer.java:82)
    com.me.velo.VelocityTilesContainerFactory.registerAttributeRenderers(VelocityTilesContainerFactory.java:175)
    org.apache.tiles.factory.BasicTilesContainerFactory.createRendererFactory(BasicTilesContainerFactory.java:411)
    org.apache.tiles.factory.BasicTilesContainerFactory.createContainer(BasicTilesContainerFactory.java:111)
    org.apache.tiles.startup.AbstractTilesInitializer.createContainer(AbstractTilesInitializer.java:124)
    org.apache.tiles.startup.AbstractTilesInitializer.initialize(AbstractTilesInitializer.java:70)
    org.springframework.web.servlet.view.tiles2.TilesConfigurer.afterPropertiesSet(TilesConfigurer.java:339)
    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1514)
    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1452)
    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)
    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)
    org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:294)
    org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:225)
    org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:291)
    org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:193)
    org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:585)
    org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:913)
    org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:464)
    org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:631)
    org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:588)
    org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:645)
    org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:508)
    org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:449)
    org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:133)
    javax.servlet.GenericServlet.init(GenericServlet.java:160)
    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)
    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99)
    org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:936)
    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)
    org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1004)
    org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:589)
    org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:312)
    java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
    java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
    java.lang.Thread.run(Unknown Source)

note The full stack trace of the root cause is available in the Apache Tomcat/7.0.35 logs.
Apache Tomcat/7.0.35 
```

我真的不知道这意味着什么，但在查看了根本原因后，我发现 **RepositoryFactory 已经被初始化**是主要原因。我正在使用 github 提供的存储库中提供的类，我上面提到的链接和我的 servlet-context.xml 是

```
<?xml version="1.0" encoding="UTF-8"?>
<beans:beans xmlns="http://www.springframework.org/schema/mvc"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:beans="http://www.springframework.org/schema/beans"
    xmlns:context="http://www.springframework.org/schema/context"
    xsi:schemaLocation="http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd
        http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd">

    <!-- DispatcherServlet Context: defines this servlet's request-processing infrastructure -->

    <!-- Enables the Spring MVC @Controller programming model -->
    <annotation-driven />

    <!-- Handles HTTP GET requests for /resources/** by efficiently serving up static resources in the ${webappRoot}/resources directory -->
    <resources mapping="/resources/**" location="/resources/" />

    <!-- Resolves views selected for rendering by @Controllers to .jsp resources in the /WEB-INF/views directory -->
    <!-- 
    <beans:bean class="org.springframework.web.servlet.view.InternalResourceViewResolver">
        <beans:property name="prefix" value="/WEB-INF/views/" />
        <beans:property name="suffix" value=".jsp" />
    </beans:bean>
     -->
    <context:component-scan base-package="com.me.velo" />

    <!--  
    <beans:bean id="tilesViewResolver" class="org.springframework.web.servlet.view.UrlBasedViewResolver">
        <beans:property name="viewClass" value="org.springframework.web.servlet.view.tiles2.TilesView"/>
        <beans:property name="order" value="1"/>
    </beans:bean>

    <beans:bean id="velocityConfig" class="org.springframework.web.servlet.view.velocity.VelocityConfigurer">
        <beans:property name="resourceLoaderPath" value="/WEB-INF/views/" />
    </beans:bean>

    <beans:bean id="viewResolver" class="org.springframework.web.servlet.view.velocity.VelocityViewResolver">
        <beans:property name="cache" value="true"/>
        <beans:property name="prefix" value="/WEB-INF/views/"/>
        <beans:property name="suffix" value=".vm"/>
        <beans:property name="order" value="2"/>
    </beans:bean>

    <beans:bean id="tilesConfigurer" 
    class="org.springframework.web.servlet.view.tiles2.TilesConfigurer">
    <beans:property name="definitions">
        <beans:list>
            <beans:value>/WEB-INF/tiles.xml</beans:value>
        </beans:list>
    </beans:property>
    </beans:bean>
    -->
    <!-- velocity + tiles initializer -->
<beans:bean id="velocityTilesInitializer" class="com.me.velo.VelocityTilesInitializer">
    <beans:property name="veolocityToolbox" value="/WEB-INF/tools.xml" />
    <beans:property name="veolocityProperties" value="/WEB-INF/velocity.properties" />
    <beans:property name="definitions">
        <beans:list>
            <beans:value>/WEB-INF/tiles.xml</beans:value>
        </beans:list>
    </beans:property>
</beans:bean>

<!-- tiles config with velocityTiles initializer -->
<beans:bean id="tilesConfigurer" class="org.springframework.web.servlet.view.tiles2.TilesConfigurer">
    <beans:property name="tilesInitializer" ref="velocityTilesInitializer" />
</beans:bean>

<!-- tiles view -->
<beans:bean id="viewResolver" class="org.springframework.web.servlet.view.UrlBasedViewResolver">
    <beans:property name="viewClass" value="sk.openhouse.web.VelocityTilesView" />
    <beans:property name="contentType" value="text/html;charset=UTF-8" />
    <!-- default attributes for every view -->
    <beans:property name="attributesMap">
        <beans:map>
            <beans:entry key="authentication" value-ref="authenticationService" />
        </beans:map>
    </beans:property>
</beans:bean>
</beans:beans> 
```

**瓷砖.xml：**

```
<!DOCTYPE tiles-definitions PUBLIC
       "-//Apache Software Foundation//DTD Tiles Configuration 2.0//EN"
       "http://tiles.apache.org/dtds/tiles-config_2_1.dtd">

  <tiles-definitions>
  <definition name="base.definition" template="/WEB-INF/velocity/layout.vm">

             <put-attribute name="body" value="" />
  </definition>

  <definition name="home" extends="base.definition">
             <put-attribute name="body" value="/WEB-INF/velocity/test.vm" />
  </definition>
  </tiles-definitions> 
```

速度属性：

```
userdirective=org.apache.tiles.velocity.template.AddAttributeDirective,\
  org.apache.tiles.velocity.template.AddListAttributeDirective,\
  org.apache.tiles.velocity.template.DefinitionDirective,\
  org.apache.tiles.velocity.template.GetAsStringDirective,\
  org.apache.tiles.velocity.template.ImportAttributeDirective,\
  org.apache.tiles.velocity.template.InsertAttributeDirective,\
  org.apache.tiles.velocity.template.InsertDefinitionDirective,\
  org.apache.tiles.velocity.template.InsertTemplateDirective,\
  org.apache.tiles.velocity.template.PutAttributeDirective,\
  org.apache.tiles.velocity.template.PutListAttributeDirective 
```

**网页.xml：**

```
<?xml version="1.0" encoding="UTF-8"?>
<web-app version="2.5" xmlns="http://java.sun.com/xml/ns/javaee"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd">

    <!-- The definition of the Root Spring Container shared by all Servlets and Filters -->
    <context-param>
        <param-name>contextConfigLocation</param-name>
        <param-value>/WEB-INF/spring/root-context.xml</param-value>
    </context-param>

    <!-- Creates the Spring Container shared by all Servlets and Filters -->
    <listener>
        <listener-class>org.springframework.web.context.ContextLoaderListener</listener-class>
    </listener>

    <!-- Processes application requests -->
    <servlet>
        <servlet-name>appServlet</servlet-name>
        <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>
        <init-param>
            <param-name>contextConfigLocation</param-name>
            <param-value>/WEB-INF/spring/appServlet/servlet-context.xml</param-value>
        </init-param>
        <load-on-startup>1</load-on-startup>
    </servlet>

<servlet>
  <servlet-name>velocity</servlet-name>
  <servlet-class>org.apache.velocity.tools.view.VelocityViewServlet</servlet-class>

  <init-param>
    <param-name>org.apache.velocity.toolbox</param-name>
    <param-value>/WEB-INF/tools.xml</param-value>
  </init-param>

  <init-param>
    <param-name>org.apache.velocity.properties</param-name>
    <param-value>/WEB-INF/velocity.properties</param-value>
  </init-param>

</servlet>

    <servlet-mapping>
        <servlet-name>appServlet</servlet-name>
        <url-pattern>*.htm</url-pattern>
    </servlet-mapping>

<welcome-file-list>
<welcome-file>one.jsp</welcome-file>
</welcome-file-list>
</web-app> 
```

我不确定是什么导致了这个异常。如果有人遇到此异常，请帮助。提前致谢。

# java - 仅当我安装应用程序时才会打开 Android 启动画面

> ID：15826496
> 
> 赞同：-1
> 
> 时间：2013-04-05T05:21:52.650
> 
> 标签：java, android

我是一名寻求帮助的青少年程序员。

我写了一个简单的启动画面，它只有在我卸载并重新安装应用程序时才有效。

请看看我是否做错了什么。

谢谢！

```
package ca._____.test;

import android.app.Activity;
import android.content.Intent;
import android.os.Bundle;
import android.util.Log;
import android.view.Window;
import android.view.WindowManager;

public class splash extends Activity {

 private static String TAG = splash.class.getName();
 private static long SLEEP_TIME = 5;    // Sleep for some time

 @Override
 protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);

    this.requestWindowFeature(Window.FEATURE_NO_TITLE);    // Removes title bar
    this.getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,     WindowManager.LayoutParams.FLAG_FULLSCREEN);    // Removes notification bar

  setContentView(R.layout.spash_screen);

  // Start timer and launch main activity
  IntentLauncher launcher = new IntentLauncher();
  launcher.start();
  }

 private class IntentLauncher extends Thread {
  @Override
  /**
   * Sleep for some time and than start new activity.
   */
  public void run() {
     try {
        // Sleeping
        Thread.sleep(SLEEP_TIME*1000);
     } catch (Exception e) {
        Log.e(TAG, e.getMessage());
     }

     // Start main activity
     Intent intent = new Intent(splash.this, MainActivity.class);
     splash.this.startActivity(intent);
     splash.this.finish();
  }
}
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-05T05:36:12.067

尝试在 onResume() 中启动 IntentLauncher 线程，当活动的 onResume() 被调用时，活动被创建，它将显示屏幕。

其次，最好的事情是你可以像这样在处理程序的 onResume() 中启动 MainActivity

```
new Handler().postDelayed(new Runnable() {

 public void run() {
  Intent intent = new Intent(splash.this, MainActivity.class);
  splash.this.startActivity(intent);
  splash.this.finish();
     }
}, 5000); 
```

这是最好的方法。

# jquery - 在 $(window).load() 函数内但不在 $(document).ready 函数内运行 jQuery

> ID：15826498
> 
> 赞同：2
> 
> 时间：2013-04-05T05:21:58.033
> 
> 标签：jquery

我有这个现有的功能，它将使用 jQuery UI 位置插件在网页中显示图标：

```
<script type='text/javascript'>
jQuery( document ).ready( function( $ ) {
var element_selector='.test';
if ( $(element_selector).length !== 0) {

//jQuery UI Position code here

}

 });
</script> 
```

此函数位于 HTML 的页脚部分附近，尽管在某些地方它会输出到标题部分。有人建议我在 $(window).load() 函数中加载这个 jQuery。原因是 $(document).ready 事件是在加载 DOM 时触发的，所以它是在文档结构准备好但在加载图像之前触发的。

$(window).load() 事件在整个内容加载后触发。因此 .position() 方法在被触发到早期（在加载图像之前）时可能无法计算正确的位置。

如果这是真的，如何修改 $(window).load() 中的上述负载。谢谢。

**更新**：我改变了：

```
jQuery( document ).ready( function( $ ) { 
```

对此：

```
jQuery(window).load(function($) { 
```

我在控制台中收到此错误：

```
Uncaught TypeError: object is not a function 
```

它在这一行失败：

```
$(divname515e62e8355b0).children().wrapAll('<div class="mydoc cf">'); 
```

其中 divname515e62e8355b0 是此处定义的选择器：

```
var divname515e62e8355b0 = '#test_selector'; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-05T05:30:16.640

```
jQuery(window).load(function($) {
    var element_selector='.test';
    if ( $(element_selector).length !== 0) {
        // Do stuff
    }
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T05:25:34.117

我相信 jquery 的文档准备功能有时会在图像完全准备好之前触发。我发现在开发视差站点时就是这种情况。使用纯 javascript，像这样附加到 window.onload 事件

```
<script type='text/javascript'>
 window.onload = function(){
  var element_selector='.test';
  if ( $(element_selector).length !== 0 {

  //jQuery UI Position code here

  }
 };
</script> 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-04-05T05:30:57.600

JQuery window.onload 函数就是这样使用的。

```
<script type="text/javascript">
window.onload = function() {  

 var element_selector='.test';
 if ( $(element_selector).length !== 0 {

 //jQuery UI Position code here

 }
}
</script> 
```

# html - 在 div 上使用最大宽度的问题

> ID：15826500
> 
> 赞同：1
> 
> 时间：2013-04-05T05:22:02.157
> 
> 标签：html, css

我有一个 div，当浏览器窗口相应缩放时，我想保持在 960 像素，当有更多屏幕空间可用时，我想保持在 1100 像素。

我尝试使用`min-width:960px`and `max-width:1100px`。所有浏览器似乎都可以识别`min-width`但不是最大值。我实际上单独尝试了它，并使用 max div 刚刚被隐藏。

我不确定我的任何其他规则是否会影响代码，但这就是我所拥有的

```
#div {
       min-width:960px;
       max-width:1100px;
       height:550px;
       margin-top:10px;
       background-image: url(../images/trans_bkg.png);
       background-repeat: repeat;
       position:absolute;
       right:10px;
} 
```

希望您了解我要使用代码完成的工作，但如果有帮助，我可以提供屏幕截图。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-05T05:37:15.397

```
@media (max-width: 1200px) {

div
{
  width:1100px;
}

} 
```

如果分辨率为 1200px，则 div 的宽度将为 1100px。

同样，您可以将其编写为范围

```
@media (min-width: 680px) and (max-width: 1199px) {

div
{
  width:1100px;
}

} 
```

# c# - 导航到页面期间 Windows Phone 设备中的 ExecutionEngineException

> ID：15826504
> 
> 赞同：4
> 
> 时间：2013-04-05T05:22:29.817
> 
> 标签：c#, windows-phone-7, exception, windows-phone-8

我有一个类错误`ExecutionEngineException`。当我导航到页面时：

```
 private void FriendsMainTxt_Tap(object sender, System.Windows.Input.GestureEventArgs e)
    {
        NavigationService.Navigate(new Uri("/View/Map/UserMap.xaml?type=users", UriKind.Relative));
    }

protected override void OnNavigatedTo(NavigationEventArgs e)
        {
            base.OnNavigatedTo(e);
            if (NavigationContext.QueryString["type"] != null) //ExecutionEngineException here
            {
                typeMap = NavigationContext.QueryString["type"];
            }
       } 
```

我只有 WP8 设备有这个错误，在模拟器中我从来没有。在此错误调用之后

```
private void RootFrame_NavigationFailed(object sender, NavigationFailedEventArgs e)
        {
            if (Debugger.IsAttached)
            {
                Debugger.Break();
            }
        } 
```

在垃圾收集期间可能会发生此异常，但是如何在 WP 中影响此过程？

有任何想法吗。

提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-01-09T13:25:05.973

我也随机发生了这个异常。在我删除了一些设置为“当命中...”的断点以生成一些日志消息后，问题就消失了。显然，VS2012 和/或运行时忙于日志记录而无法正常执行。

# javascript - 动态设置 dojox.grid.datagrid 标题列宽

> ID：15826506
> 
> 赞同：2
> 
> 时间：2013-04-05T05:22:33.360
> 
> 标签：javascript, dynamic, datagrid, dojo, dojox.grid.datagrid

*   我有一个带有初始标题列宽度的声明性 dojox.grid.datagrid。我有一个文本框。我的需要是
*   在 UI 中，如果用户在文本框中输入任何值，则该值应设置为列标题的动态宽度。

    ```
    <div class="claro" id="dfgdfgd" name="dataGrid" onclick="setWidgetproperty(this.id,'xy','inner__dfgdfgd');" ondblclick="editCustomGrid(this.id)" onmouseup="setDocStyle(this.id)" style="height:200px; left:42px; position:absolute; top:89px; width:950px;">
     <table class="claro" dojotype="dojox.grid.DataGrid" id="inner__dfgdfgd" rowselector="10px" style="height: 180px; width: 300px;">
          <thead>
               <tr>
                    <th field="Column1" id="Column1" noresize="true" width="100px">
                         <label id="Column1" onclick="getCustomGridColName(this.id,'inner__dfgdfgd');" style="cursor:pointer; font-family: Times; font-size:12pt;">
                              Column1
                         </label>
                    </th>
                    <th field="Column2" id="Column2" noresize="true" width="100px">
                         <label id="Column2" onclick="getCustomGridColName(this.id,'inner__dfgdfgd');" style="cursor:pointer; font-family: Times; font-size:12pt;">
                              Column2
                         </label>
                    </th>
               </tr>
          </thead>
     </table>
     <input id="hidden__dfgdfgd" name="dataGrid" style="display:none;" type="hidden"> 
    ```

我可以使用下面的代码获得特定列的宽度。如何将此宽度设置回文本框值。

```
dojo.forEach(dijit.byId(tableID).layout.cells, function(cell,idx){
                if(cell.field == id){
                    headerWidth = cell.width;
                    alert(headerWidth);
                }
            }); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-05T06:34:57.490

有一种方法称为（您可以在[API 文档](http://dojotoolkit.org/api/1.8/dojox/grid/DataGrid)`setCellWidth()`中了解它），您可以使用它来更改单元格的宽度。

然后您需要完成的唯一步骤是更新列（以便更改可见）。这一步可以用 完成`cell.view.update();`。

**请注意**`grid.update()`：使用or更新完整的网格`grid.sizeChange()`是不够的，因为它只会更新列标题。（这是我注意到的。）

因此，在您的`forEach`循环中，您将执行以下操作：

```
grid.setCellWidth(idx, "200px");
cell.view.update(); 
```

我还制作了一个可用的 JSFiddle，您可以[在此处](http://jsfiddle.net/9dD3C/)查看。

# javascript - 递归回调

> ID：15826509
> 
> 赞同：0
> 
> 时间：2013-04-05T05:23:16.437
> 
> 标签：javascript, node.js

需要一些帮助来尝试让这个面包屑生成器工作 - 它是对应该返回条目数组的父类别的递归获取。不太工作，我的大脑被炸了....目前只返回最后一个条目。

```
var walk = function(c, done) {
  var results = [];
  Category.findById(c).exec(function(err, cat) {
    if(cat) {
      results.push({ title: cat.title, id: cat.id});
      if(cat.parent) {
        walk(cat.parent, function(err, res) {
          results = results.concat(res);
        });
      }
      return done(null, results);
    }
    done(results);
  });
};

walk(product.categories[0].id, function(err, results) {
//  if (err) console.log (err);
  console.log(results);
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T05:29:44.693

不幸的是，递归和回调不能很好地混合在一起。您`done`在检索第一个类别后调用，但在调用之前您没有等待其他调用`walk`完成`done`。你需要等待他们。我会做这样的事情（伪代码）：

```
fetch this category
    if no subcategories
        call callback with [{ title: ... }] and return
    pending = number of subcategories
    results = [[{ title: ... }]]
    for each subcategory
        recurse
            pending--
            results[index + 1] = subcategory_results
            if none pending
                call callback with the concatenation of the subarrays of results 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T06:06:41.233

[节点光纤](https://github.com/laverdet/node-fibers)怎么样？试试这个。

像这个链接这样的好例子：[mongo-model example](https://github.com/alexeypetrushin/mongo-model/blob/master/examples/synchronous.js)

和方法[synchronize util](https://github.com/alexeypetrushin/mongo-model/blob/master/lib/helper.coffee)编写的咖啡脚本

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-05T17:32:27.727

好的，知道了....需要从内部步行调用中调用完成。

```
var walk = function(c, done) {
  var results = [];
  Category.findById(c).exec(function(err, cat) {
    if(cat) {
      results.push({ title: cat.title, id: cat.id});
      if(cat.parent) {
        walk(cat.parent, function(err, res) {
          results = results.concat(res);
          done(null, results);
        });
      } else {
         done(null, results);
      }
    } else {
      done('No cat found'); // Error
    }
  });
}; 
```

# android - 如何使用 facebook api android 获取用户时间轴帖子

> ID：15826510
> 
> 赞同：1
> 
> 时间：2013-04-05T05:23:21.447
> 
> 标签：android, facebook, facebook-graph-api

我在 android 中使用 facebook api 在用户墙上发布/共享状态。但现在我想在成功登录并获取访问令牌后使用以下代码从用户时间线获取所有状态。

```
JSONObject json = Util.parseJson(mFacebook.request("me"));
String  facebookID = json.getString("id");
String  facebookEmail = json.getString("email");
String  faceBooklastName=json.getString("last_name");
String  faceBookFirstName=json.getString("first_name");
String fUserName = json.getString("username"); 
```

这会正确返回所有内容，以及如何从用户时间轴获取帖子。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-05-09T06:36:50.227

您可以使用此 URL 获取用户信息

[https://graph.facebook.com/](https://graph.facebook.com/) {你的朋友 FB id}/posts

但在使用此之前，您必须获得权限。

# java - 线程“主”java.lang.ArrayIndexOutOfBoundsException 中的异常：-1

> ID：15826513
> 
> 赞同：0
> 
> 时间：2013-04-05T05:23:31.640
> 
> 标签：java, arrays, exception

我收到错误：

```
Exception in thread "main" java.lang.ArrayIndexOutOfBoundsException: -1

at SnakeBox.neighbor(SnakeBox.java:150)

at SnakeBox.findSnake(SnakeBox.java:86)

at pg6a.main(pg6a.java:28) 
```

正在使用的类是：

```
/** This class can be used to manipulate 2D boxes of "snakes" for pg6.
 */
   import java.util.*;
   import java.io.*; 

 public class SnakeBox {

// instance variables
  private char[][] box;
  private int rows, columns;
  private int snakeCount;
  private int startRow, startCol;
  private int endRow, endCol;
    private boolean finish;
    private int x, y;
    private String toDisplay;

/** Create and initialize a SnakeBox by reading a file.
    @param filename the external name of a plain text file
*/
  public SnakeBox(String filename) throws IOException{
     Scanner filescan = new Scanner(new FileReader(filename));
     rows = filescan.nextInt();
        columns = filescan.nextInt();
        snakeCount = filescan.nextInt();
        filescan.nextLine();
        box = new char[rows][columns];
     for (int i=0; i < rows; i++) {
        String line = filescan.nextLine();
        for (int j=0; j < columns; j++) {
           char character = line.charAt(j);
           box[i][j] = character;
        }
     }  
  }

   /** Create a new snakebox of a given size and snake count
@param rows the height of the box
@param cols the number of columns
@param snakes how many snakes are in the box
    */
  public SnakeBox(int rows, int cols, int snakes) {
     this.rows = rows;
     this.columns = cols;
     this.snakeCount = snakes;

  }

/** Display the box on the screen.
 */
  public void display() {
     String toDisplay = ""; 
     for (int row = 0; row < rows; row++) {
        for (int column = 0; column < columns; column++) {
           toDisplay += box[row][column];
        }
        toDisplay += '\n';
     }  
        System.out.print(toDisplay);

  }

/** Find the next snake, skinning to change it from S to .
 */
  public void findSnake() {
    // check to make sure there are still snakes to skin
      if (finish = true) {              
    int row, col, nb;
    // find an S to search from
      outerloop:
      for (int k=0; k < rows; k++) {
          for (int l=0; l < columns; l++) {
          if (box[k][l] == 'S') {
          startRow = k;
          startCol = l;
          endRow = k;
          endRow = l;
          break outerloop;
          } 
      }
      }
    // set your initial S position to both start and end

    // search from end, updating it as you go
     do {
        nb = neighbor(endRow, endCol);
        switch (nb) {
           case 1: endRow--; endCol--; 
              break;
           case 2: endRow--; 
              break;
           case 3: endRow--; endCol++; 
              break;
           case 4: endCol--; 
              break;
           case 5: endCol++; 
              break;
           case 6: endCol--; endRow++; 
              break;
           case 7: endRow++; 
              break;
           case 8: endRow++; endCol++; 
              break;
        }
     } while (nb != 0);

    // search from start, updating it as you go
    do {
        nb = neighbor(startRow, startCol);
        switch (nb) {
           case 1: startRow--; startCol--; 
              break;
           case 2: startRow--; 
              break;
           case 3: startRow--; startCol++; 
              break;
           case 4: startCol--; 
              break;
           case 5: startCol++; 
              break;
           case 6: startCol--; startRow++; 
              break;
           case 7: startRow++; 
              break;
           case 8: startRow++; startCol++; 
              break;
        }
     } while (nb != 0);

    // update snake count
      snakeCount = snakeCount - 1;        
      //display start/end points of the snake, then display it
  }   
/** Change a position from S to . and find a neighboring S if one exists.
    @param x the row number of the position to change
    @param y the column number of the position to change
    @return 0 if no S neighbor was found, or a number from this grid 
    indicating the position of the found neighbor
           1 2 3
           4 S 5
           6 7 8
*/
  }
    private int neighbor(int x, int y) {
       box[x][y] = '.';

        if (box[x--][y--] == 'S') 
        return 1;

        if (box[x--][y] == 'S') 
        return 2;

        if (box[x--][y++] == 'S')
        return 3;

        if (box[x][y--] == 'S') 
        return 4;

        if (box[x][y++] == 'S') 
        return 5;

        if (box[x++][y--] == 'S') 
        return 6;

        if (box[x++][y] == 'S') 
        return 7;

        if (box[x++][y++] == 'S') 
        return 8;

        else        
     return 0;     

    }

/** Display the endpoints of the snake most recently skinned.
 */
  public void printEnds() {
  System.out.print("(" + x + "," + y + ")");
  }

/** Find out how many full snakes are in the box.
    @return the snake count
*/
  public int getCount() {
    return snakeCount;      
  }

/** Check whether all the snakes have been skinned, based on the snake count.
    @return true if done, false otherwise
*/
  public boolean finished() {
    if (snakeCount == 0) {
    finish = true;
    }
    else {
    finish = false;
    }      
    return finish;
  }

   } 
```

此外，驱动程序（pg6）是：

```
 import java.util.*;
 import java.io.*;

 public class pg6a {

  public static void main(String[] args) throws IOException {
     Scanner keyboard = new Scanner(System.in);

     System.out.println("Please enter the name of the file where your snake box resides, and we will try our very best to eliminate all the snakes in your snake box!");
     String filename;
     filename = keyboard.nextLine();
     SnakeBox snakes = new SnakeBox(filename);
     snakes.display();

     while (snakes.finished() == false) {
        snakes.findSnake();
        snakes.printEnds();
        snakes.display();
        System.out.print(snakes.getCount());
     }                      
  }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-05T05:26:27.423

`if`这是因为`neighbor()`.

`if (box[x--][y--] == 'S')`- 这是否评估为`true or false`，这将减少你的`x`& `y`。

同样，您的所有`if`陈述都将保留`decrementing`or `incrementing` `x & y`。这就是为什么在某一时刻，一个或两个的值`x`都`y`低于，在数组中`0`给出一个`index`of 。`-1`因此`ArrayIndexOutOfBoundsException`.

您可以通过在语句中使用`x-1`&而不是运算符来修复它。`y+1``if``increment/decrement`

这一行`SnakeBox.neighbor(SnakeBox.java:150)`表示`neighbor`方法中存在错误，只需查看方法中的`if`语句，`neighbor()`就可以告诉您可能出错的地方。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-05T05:26:12.330

```
box[x--][y--] 
```

在尝试访问它们之前，您没有检查框的边界条件。此外，使用 x-- 会在每个阶段更改 x 的值。绝对使用它们 -`x-1`等等。

您的其他变量也遇到同样的问题`case 2: endRow--;`

# android - 无法在我的 Android 的 FileExplore 中看到 Sqlite 数据库

> ID：15826523
> 
> 赞同：0
> 
> 时间：2013-04-05T05:24:14.040
> 
> 标签：android, sqliteopenhelper

我正在创建一个`Sqlite database`，当我想看到那个时候`database`使用`File_Explorer`它时，我没有在那个位置得到它，那里只有两个文件夹： `Cache` ，，`lib` 但是`database`那里没有文件夹，但关键是我`location`也得到了它, 通过`LOGS`,

```
protected void onCreate(Bundle savedInstanceState) 
{
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_db__creation);

    database db = new database(this);
}

// -- SqliteOpenHelper class ( extended )!

public database( Context context ) 
{
    super(context, "New_one.db" , null , 2 );
    Log.i("2nd class : constructor","tushar");
    Log.i(context.getDatabasePath("New_one.db").toString(),"tushar");

    //(data base location )
    ///data/data/com.example.database_creation/databases/New_one.db
}

public void onCreate(SQLiteDatabase db) 
{
    Log.i("2nd class : onCreate", "tushar");
    db.execSQL("create table timerecords " +"(id integer primary key, time text, notes text)");
}

public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) 
{
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T05:30:55.540

只需按照这些步骤，

1.  使用设备，选择要部署应用程序的设备/模拟器。
2.  转到 DDMS-> 文件资源管理器-> 数据-> 数据-> 查看您的包名称-> 数据库-> 这里是您的数据库文件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T05:45:47.243

如果您使用 Eclipse，您可以下载此插件，只需复制粘贴 .jar 文件即可：) 只需按照说明通过此[链接](http://www.coderzheaven.com/2011/04/18/sqlitemanager-plugin-for-eclipse/)并在 Eclipse 的模拟器 DDMS 中查看数据库。

通常数据库存储在`//data/data/<Your-Application-Package-Name>/databases/<your-database-name>`Android 设备的文件夹中。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-05T05:48:47.720

数据库的完整路径：

```
 ->file explorer
     ->data
      ->data-
       ->application package name
        ->databases
         ->your database file. 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-05T05:54:16.453

首先检查您的数据库是否已创建，如果它正在运行，则运行您的应用程序并执行 DDMS，然后执行此路径 -file explorer-data-data-application package name-databases-your database file。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-05T06:40:04.217

试试这个

您只需要调用`getWritableDatabase()`或`getReadableDatabase()`方法，然后您就可以在文件资源管理器中创建数据库。

```
protected void onCreate(Bundle savedInstanceState) 
{
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_db__creation);

    database db = new database(this);
   SQLiteDatabase sql =  db.getWritableDatabase();
} 
```

并在此处查看您的数据库....在文件资源管理器中进入...`data/data/your package name/databases/New.db`

# iphone - 如何在 iphone SDK 中使用 NSUser 默认值传递自定义类对象？

> ID：15826525
> 
> 赞同：0
> 
> 时间：2013-04-05T05:24:29.543
> 
> 标签：iphone, ios, objective-c, xcode, nsuserdefaults

在我的应用程序中，我有自定义类文件。

我尝试使用`ObjectforKey`，但它向我显示了`null`价值并在控制台中也给出了错误，例如

`[NSUserDefaults setObject:forKey:]: Attempt to insert non-property value '<FSVenue: 0x181898c0>' of class 'FSVenue'. Note that dictionaries and arrays in property lists must also contain only property values.`

如何将自定义类的对象传递给另一个视图？

**自定义类的代码如下：**

**FSVenue.h**

```
#import <UIKit/UIKit.h>
#import <CoreLocation/CoreLocation.h>
#import <MapKit/MapKit.h>

@interface FSLocation : NSObject{
    CLLocationCoordinate2D _coordinate;
}

@property (nonatomic, assign) CLLocationCoordinate2D coordinate;
@property (nonatomic,strong)NSNumber*distance;
@property (nonatomic,strong)NSString*address;

@end

@interface FSVenue : NSObject<MKAnnotation>

@property (nonatomic,strong)NSString*name;
@property (nonatomic,strong)NSString*venueId;
@property (nonatomic,strong)FSLocation*location;

@end 
```

**FSVenue.m**

```
#import "FSVenue.h"

    @implementation FSLocation

    @end

    @implementation FSVenue

    - (id)init
    {
        self = [super init];
        if (self) {
            self.location = [[FSLocation alloc]init];
        }
        return self;
    }

    -(CLLocationCoordinate2D)coordinate{
        return self.location.coordinate;
    }

    -(NSString*)title{
        return self.name;
    }

@end 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T05:34:21.600

您需要确保您的自定义对象实现了 NSCoder 类。[NSCoder 抽象类声明了具体子类用来在内存和其他格式之间传输对象和其他 Objective-C 数据项的接口。](https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/Foundation/Classes/NSCoder_Class/Reference/NSCoder.html)

[这是一个向您展示如何操作的教程。](http://kunalmaemo.blogspot.com/2010/08/storing-custom-object-and-array-in.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T05:46:27.250

试试看....

```
[[NSUserDefaults standardUserDefaults]setValue:@"myValue" forKey:@"myKey"];//set value

NSString *myValue = [[NSUserDefaults standardUserDefaults]valueForKey:@"myKey"];//retrive value 
NSLog(@"%@",myValue); 
```

# javascript - 如何判断滚动条何时处于某个高度？

> ID：15826527
> 
> 赞同：0
> 
> 时间：2013-04-05T05:24:39.380
> 
> 标签：javascript, jquery, scrollbar

如何判断滚动条何时处于某个高度，这意味着滚动条顶部和滚动条轨道顶部之间是否存在一定的空间？

如果是某个值，则执行 JQuery 代码。

假设当滚动条和滚动条轨道顶部之间的空间是当前视口高度的 50% 时，就会提醒“已达到 50%”。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T05:35:52.420

element 是您要检查的特定 div、标签或正文。

*element* **.scrollTop** - 是由于滚动而隐藏在顶部的像素。如果没有滚动，它的值为 0。

*element* **.scrollHeight** - 是整个 div 的像素。

*element* **.clientHeight** - 是您在浏览器中看到的像素。

```
var a  =  element.scrollTop  ; 
```

将是位置。

```
var b  =  element.scrollHeight - element.clientHeight  ; 
```

将是scrollTop*的***最大值**。

 *```
var c  =  (a / b)*100  ; 
```

将是滚动的百分比*[从 0 到 100]*。*

# node.js - 如何减少jade中的代码重复？

> ID：15826534
> 
> 赞同：0
> 
> 时间：2013-04-05T05:25:19.740
> 
> 标签：node.js, express, pug

我是 Web 开发和 node.js 的初学者。我正在尝试使用 node.js 和 express 构建一个非常基本的新闻网站。在首页，我希望展示一些精选新闻，而在“新闻”页面，我希望展示所有新闻。

有意义的是，首页和“新闻”页面可以共享玉码显示新闻。使用相同的路由和 db node.js 函数来处理两个地方的新闻列表对我来说似乎很简单。我想知道是否有一种在jade中共享代码和减少代码重复的好方法（也许就像ruby on rails中的“部分”概念）？

欢迎任何帮助或参考链接。谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-05T05:35:12.403

`Jade`有[`Includes`](https://github.com/visionmedia/jade#a13)：

```
html
  include includes/head
  body
    h1 My Site
    p Welcome to my super amazing site.
    include includes/foot 
```

您也可以[`Mixins`](https://github.com/visionmedia/jade#mixins)尽可能使用，以减少您需要编写的代码量：

```
mixin list
  ul
    li foo
    li bar
    li baz

h2 Groceries
mixin list 
```

# .net - 在 vb.net 中将 word 转换为 pdf

> ID：15826536
> 
> 赞同：-4
> 
> 时间：2013-04-05T05:25:31.687
> 
> 标签：.net, vb.net, web-applications, pdf-generation, ms-office

服务器物理路径中有word文档。现在，我只需要阅读它们并通过将它们转换为 PDF 格式下载到客户端计算机。

我的程序在 VB.Net

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-05T11:52:25.517

我们做同样的事情，我们使用[PDFCreator](http://sourceforge.net/projects/pdfcreator/)。这是一个免费程序，一旦安装，它会创建一个名为“PDFCreator”的虚拟打印机。然后，您所做的就是将相关文档打印到该打印机。PDFCreator 允许您设置文件的保存位置。或者您可以使用 VB 中的 FileDialog 来执行此操作。希望这可以帮助

# r - R：列表列表中的newick树

> ID：15826550
> 
> 赞同：3
> 
> 时间：2013-04-05T05:26:51.673
> 
> 标签：r, tree, dataframe, phylogeny

我正在努力从孩子列表中创建一棵纽维克树。我有一个列表列表，其中列表名称是父名称，列表元素是孩子。这是一个例子：

```
$`825`
[1] 824

$`824`
[1] 823

$`823`
[1] 822

$`822`
[1] 821

$`821`
[1] 820 777

$`820`
[1] 819 816 789 787 785 783

$`789`
[1] 788

$`787`
[1] 786

$`785`
[1] 784

$`783`
[1] 782

$`777`
[1] 776 
```

因此，我想要的输出是 newick 格式的 phylo 树，如下所示：

`825(824(823(822(821(820(819,816,789(788),787,785(784),783(782)),777(776)))))`

做这个的最好方式是什么？一种方法是编写一个深度遍历一阶并创建树的递归函数。但是在 R 中，递归被认为是不好的。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T06:00:07.913

如果您正在寻找预装解决方案，我相信 bioconductor/ape 库有一个列表 -> newick 转换器

[http://www.r-phylo.org/wiki/HowTo/InputtingTrees](http://www.r-phylo.org/wiki/HowTo/InputtingTrees)

否则，我前段时间写了一些代码来为邻居加入算法做这个；它非常简洁（在紧迫的期限内编写），但也许会有所帮助。

[https://github.com/rgrannell1/NJ/blob/master/main.R](https://github.com/rgrannell1/NJ/blob/master/main.R)

希望有所帮助

# ruby-on-rails - Rails 根据时间戳显示帖子

> ID：15826552
> 
> 赞同：1
> 
> 时间：2013-04-05T05:27:01.560
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3, ruby-on-rails-3.1, ruby-on-rails-3.2

我是 Rails 中的菜鸟，我正在遵循 Rails 官方文档来创建博客，在使用帖子和评论控制器创建博客后，我想添加一些方法来根据时间戳显示帖子，即最后创建的帖子或有人评论过的帖子在该帖子上显示在列表顶部。请提出一种方法或一些宝石来实现这一目标。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-05T05:30:00.697

使用`order`activerecord 的。假设您的博客模型是`Blog`

```
Blog.order("updated_at DESC") 
```

检查[教程](http://guides.rubyonrails.org/active_record_querying.html#ordering)

您还可以创建[范围](http://guides.rubyonrails.org/active_record_querying.html#scopes)

# android - Intent.putExtra 会做什么

> ID：15826553
> 
> 赞同：8
> 
> 时间：2013-04-05T05:27:05.663
> 
> 标签：android, android-intent, android-activity

我是 android 新手，我使用意图将数据从一个 Activity 传输到另一个 Activity。我只是想知道对象引用或对象副本是否正在发送到第二个 Activity。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-05T05:29:37.110

Intent.putExtra 发送对象的副本，当您从那里获得新引用的意图中获得额外的引用时，它不是同一个引用

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-05T05:47:04.720

intent.putExtra 用于在 Activity 之间发送信息。这是一个例子

使用它来“放置”文件

```
Intent i = new Intent(FirstScreen.this, SecondScreen.class);   
String keyIdentifer  = null;
i.putExtra("STRING_I_NEED", strName); 
```

然后，要检索该值，请尝试以下操作：

```
String newString
if (savedInstanceState == null) {
    extras = getIntent().getExtras();
    if(extras == null) {
        newString= null;
    } else {
        newString= extras.getString("STRING_I_NEED");
    }
} else {
    newString= (String) savedInstanceState.getSerializable("STRING_I_NEED");
} 
```

# c++ - 我可以在 Windows RT 和 Windows Phone 8 上 JBT 编译代码吗

> ID：15826555
> 
> 赞同：1
> 
> 时间：2013-04-05T05:27:11.050
> 
> 标签：c++, windows-phone-8, windows-phone, jit, windows-rt

我已经对 JIT 编译代码进行了一些阅读，因为我想将模拟器移植到 Windows Phone 8 和 Windows RT，但我注意到 Microsoft 已禁止 VirtualProtect() 和相关 API 必须执行包含已编译代码的内存块. 因此，我认为可以在代码需要启动之前对其进行编译并将其保存到存储中。我的问题是，是否可以在存储上执行外部代码，如果没有，程序是否可以使用新的二进制文件扩展自身，然后在下次启动时可执行。

如果上述方法不起作用，有什么方法可以在设备上编译代码并能够执行它。

我也在努力寻找关于这个问题的阅读材料，所以如果你对此没有答案，你至少可以让我参考一些相关的阅读材料。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-01-11T05:43:19.960

看看 XDA-DEVELOPERS 论坛。我找到了这个。 [http://forum.xda-developers.com/showthread.php?t=2594420](http://forum.xda-developers.com/showthread.php?t=2594420)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-05T12:29:00.937

我不确定您所追求的是否可行，但请查看 Microsoft 的 TouchDevelop（如果您还没有这样做的话）。它允许您通过脚本创建可以在几乎任何设备（Windows Phone、PC、iPad、iPhone、Android 和 Mac）上运行的应用程序。我不知道您是否可以直接将其合并到您的应用程序中，但它可能会给您一些想法。

1.  [微软 TouchDevelop 研究页面](http://research.microsoft.com/en-us/projects/touchdevelop/)
2.  [主网站](https://www.touchdevelop.com/)
3.  [在 Windows Phone 商店中](http://www.windowsphone.com/en-us/store/app/touchdevelop/fe08ccec-a360-e011-81d2-78e7d1fa76f8)

# c - Qt 原子操作使用我的 MIPS 24k 内核中不存在的条件代码寄存器

> ID：15826556
> 
> 赞同：0
> 
> 时间：2013-04-05T05:27:13.807
> 
> 标签：c, qt, gcc, assembly, mips

我正在使用没有 FPU 的 MIPS 24k 内核。我已经成功交叉编译了 QT，它工作正常。但有时当它触及 qatomic_mips.h 中定义的 QBasicAtomicInt::testAndSetAcquire() 时，我得到一个 SIGSEGV。

代码主体具有内联汇编语言。这是我第一次使用它。因此，当我一开始试图找到故障行时，它指向最后一行，其中提到了被破坏的寄存器列表。

后来当我采取另一种方法时，它似乎在下面突出显示的行中失败了。知道 _q_value 是什么意思吗？

```
inline bool QBasicAtomicInt::testAndSetAcquire(int expectedValue, int newValue)
{
register int result;
register int tempValue;
asm volatile(".set push\n"
             SET_MIPS2
             "0:\n"
             "ll %[result], %[_q_value]\n" //this line causes the SIGSEGV
             "xor %[result], %[result], %[expectedValue]\n"
             "bnez %[result], 0f\n"
             "nop\n"
             "move %[tempValue], %[newValue]\n"
             "sc %[tempValue], %[_q_value]\n"
             "beqz %[tempValue], 0b\n"
             "nop\n"
             "sync\n"
             "0:\n"
             ".set pop\n"
             : [result] "=&r" (result),
               [tempValue] "=&r" (tempValue),
               [_q_value] "+m" (_q_value)
             : [expectedValue] "r" (expectedValue),
               [newValue] "r" (newValue)
             : "cc", "memory"); 
return result == 0;
} 
```

拆卸：

```
00207478 <_ZN20QEventDispatcherUNIX6wakeUpEv>:
207478: 3c1c001a    lui gp,0x1a
20747c: 279c99f8    addiu   gp,gp,-26120
207480: 0399e021    addu    gp,gp,t9
207484: 27bdffc8    addiu   sp,sp,-56
207488: afbf0030    sw  ra,48(sp)
20748c: afb3002c    sw  s3,44(sp)
207490: afb20028    sw  s2,40(sp)
207494: afb10024    sw  s1,36(sp)
207498: afb00020    sw  s0,32(sp)
20749c: afbc0010    sw  gp,16(sp)
2074a0: 8c860004    lw  a2,4(a0)
2074a4: 00001821    move    v1,zero
2074a8: 24020001    li  v0,1
2074ac: c0c40768    ll  a0,1896(a2) //this is the exact line
2074b0: 00832026    xor a0,a0,v1
2074b4: 14800008    bnez    a0,2074d8 <_ZN20QEventDispatcherUNIX6wakeUpEv+0x60>
2074b8: 00000000    nop
2074bc: 00000000    nop
2074c0: 00402821    move    a1,v0
2074c4: e0c50768    sc  a1,1896(a2)
2074c8: 10a0fff8    beqz    a1,2074ac <_ZN20QEventDispatcherUNIX6wakeUpEv+0x34>
2074cc: 00000000    nop
2074d0: 00000000    nop
2074d4: 0000000f    sync
2074d8: 14800012    bnez    a0,207524 <_ZN20QEventDispatcherUNIX6wakeUpEv+0xac>
2074dc: 27b30018    addiu   s3,sp,24
2074e0: a3a00018    sb  zero,24(sp)
2074e4: 8cd00058    lw  s0,88(a2)
2074e8: 2412ffff    li  s2,-1
2074ec: 24110004    li  s1,4
2074f0: 8f99cef0    lw  t9,-12560(gp)
2074f4: 02002021    move    a0,s0
2074f8: 02602821    move    a1,s3
2074fc: 0320f809    jalr    t9
207500: 24060001    li  a2,1
207504: 8fbc0010    lw  gp,16(sp)
207508: 14520006    bne v0,s2,207524    <_ZN20QEventDispatcherUNIX6wakeUpEv+0xac>
20750c: 8f99c864    lw  t9,-14236(gp)
207510: 0320f809    jalr    t9
207514: 00000000    nop
207518: 8c430000    lw  v1,0(v0)
20751c: 1071fff4    beq v1,s1,2074f0 <_ZN20QEventDispatcherUNIX6wakeUpEv+0x78>
207520: 8fbc0010    lw  gp,16(sp)
207524: 8fbf0030    lw  ra,48(sp)
207528: 8fb3002c    lw  s3,44(sp)
20752c: 8fb20028    lw  s2,40(sp)
207530: 8fb10024    lw  s1,36(sp)
207534: 8fb00020    lw  s0,32(sp)
207538: 03e00008    jr  ra
20753c: 27bd0038    addiu   sp,sp,56 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T05:44:50.067

MIPS CPU 没有`condition code`寄存器（相当于 x86`(E/R)FLAGS`寄存器），因此如果您指定它并且代码编译，很可能它会被忽略。OTOH，您一开始就不应该使用它。我想知道`"cc"`MIPS是否有特殊含义，到目前为止我找不到任何东西。尝试删除`"cc"`并查看代码或其行为是否有任何变化。

`SIGSEGV`可能意味着您的代码使用了错误的指针，或者指针未正确对齐（不是 4 的倍数）。

# testing - 想要一些关于“黄金测试”的一般信息

> ID：15826557
> 
> 赞同：4
> 
> 时间：2013-04-05T05:27:15.203
> 
> 标签：testing, regression

我想知道什么是“黄金测试”。

在我的调查中，有一个黄金档案，这是预期的结果。并且每日回归测试将今天的输出文件与黄金文件进行比较。

1.  有人能解释一下黄金测试的理论吗？

2.  实际上我该如何实施这个测试程序？

    *   我还想要为此推荐的框架库。
    *   boost.Test 是否涵盖这种测试？

非常感谢！提前。

# android - 总是收到 org.apache.http.NoHttpResponseException: The target server failed to respond Android

> ID：15826563
> 
> 赞同：1
> 
> 时间：2013-04-05T05:27:40.833
> 
> 标签：android, email, http-post

我正在android中处理HTTP post。这是我的代码：

```
 SendMail sending = (SendMail) new SendMail()
                                .execute(url + "/mob/android/dummy.php");

    public class SendMail extends AsyncTask<String, String, String> {

    private String endResult;

    @Override
    protected String doInBackground(String... val) {
        String url = val[0];
        Log.i("Url", url + "");

        HttpClient httpclient = new DefaultHttpClient();

        HttpPost httppost = new HttpPost(url);

        try {

            CookieStore cookieStore = new BasicCookieStore();
            ((AbstractHttpClient) httpclient).setCookieStore(cookieStore);

            List<NameValuePair> nameValuePairs = new ArrayList<NameValuePair>();
            nameValuePairs.add(new BasicNameValuePair("name", post_name));
            nameValuePairs

            nameValuePairs.add(new BasicNameValuePair("email", post_email));
            nameValuePairs.add(new BasicNameValuePair("message",
                    "Requesting appointment from: " + SelectedDr
                            + "  Message: " + post_message));

            Log.i("nameValuePairs:", "" + nameValuePairs);

            httppost.setEntity(new UrlEncodedFormEntity(nameValuePairs));

            HttpResponse response = httpclient.execute(httppost);
            BasicResponseHandler myHandler = new BasicResponseHandler();
            endResult = myHandler.handleResponse(response);
            Log.i("nameValuePairs", "" + nameValuePairs);
            Log.i("endResult", "" + endResult);
        } catch (ClientProtocolException e) {

        } catch (IOException e) {

        }

        return null;
    }

    @Override
    protected void onPostExecute(String result) {

        super.onPostExecute(result);
        publishProgress(endResult);

    }

    @Override
    protected void onProgressUpdate(String... values) {

        super.onProgressUpdate(values);
        String result = values[0];

        T_warning.setText("Mail Sent.");
        ET_email.setText("");
        ET_name.setText("");

        ET_message.setText("");

    }

} 
```

现在直到

```
nameValuePairs.add(new BasicNameValuePair("message",
                "Requesting appointment from: " + SelectedDr
                        + "  Message: " + post_message)); 
```

它工作正常，但在 HttpResponse response = httpclient.execute(httppost); 3分钟后它没有回复它发送邮件但在我的邮件服务器上我没有收到邮件并且还显示异常：

> org.apache.http.NoHttpResponseException：目标服务器响应失败

我被困住了，我不明白为什么会这样我添加了所有权限

日志猫：

```
04-05 10:41:57.110: I/exception(3926): org.apache.http.NoHttpResponseException: The target server failed to respond

04-05 10:41:57.110: I/endResult(3926): null 
```

**编辑后的代码给出了 LOGCAT：**

```
04-05 10:51:17.160: W/System.err(4016): org.apache.http.NoHttpResponseException: The target server failed to respond

04-05 10:51:17.170: W/System.err(4016):     at org.apache.http.impl.conn.DefaultResponseParser.parseHead(DefaultResponseParser.java:85)

04-05 10:51:17.170: W/System.err(4016):     at org.apache.http.impl.io.AbstractMessageParser.parse(AbstractMessageParser.java:174)

04-05 10:51:17.170: W/System.err(4016):     at org.apache.http.impl.AbstractHttpClientConnection.receiveResponseHeader(AbstractHttpClientConnection.java:180)

04-05 10:51:17.170: W/System.err(4016):     at org.apache.http.impl.conn.DefaultClientConnection.receiveResponseHeader(DefaultClientConnection.java:235)

04-05 10:51:17.170: W/System.err(4016):     at org.apache.http.impl.conn.AbstractClientConnAdapter.receiveResponseHeader(AbstractClientConnAdapter.java:259)

04-05 10:51:17.170: W/System.err(4016):     at org.apache.http.protocol.HttpRequestExecutor.doReceiveResponse(HttpRequestExecutor.java:279)

04-05 10:51:17.170: W/System.err(4016):     at org.apache.http.protocol.HttpRequestExecutor.execute(HttpRequestExecutor.java:121)

04-05 10:51:17.170: W/System.err(4016):     at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:428)

04-05 10:51:17.170: W/System.err(4016):     at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:555)

04-05 10:51:17.170: W/System.err(4016):     at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:653)

04-05 10:51:17.170: W/System.err(4016):     at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:627)

04-05 10:51:17.170: W/System.err(4016):     at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:616)

04-05 10:51:17.170: W/System.err(4016):     at com.ilmasoft.alina_dental.MailUs$SendMail.doInBackground(MailUs.java:492)

04-05 10:51:17.180: W/System.err(4016):     at com.ilmasoft.alina_dental.MailUs$SendMail.doInBackground(MailUs.java:1)

04-05 10:51:17.180: W/System.err(4016):     at android.os.AsyncTask$2.call(AsyncTask.java:252)

04-05 10:51:17.180: W/System.err(4016):     at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:305)

04-05 10:51:17.180: W/System.err(4016):     at java.util.concurrent.FutureTask.run(FutureTask.java:137)

04-05 10:51:17.180: W/System.err(4016):     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1081)

04-05 10:51:17.180: W/System.err(4016):     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:574)

04-05 10:51:17.180: W/System.err(4016):     at java.lang.Thread.run(Thread.java:1020) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T05:37:04.690

在 doInBackground 中尝试此代码

```
 List<NameValuePair> nameValuePairs = new ArrayList<NameValuePair>();
            nameValuePairs.add(new BasicNameValuePair("name", post_name));
nameValuePairs.add(new BasicNameValuePair("email", post_email));
            nameValuePairs.add(new BasicNameValuePair("message",
                    "Requesting appointment from: " + SelectedDr
                            + "  Message: " + post_message));

        DefaultHttpClient hc = new DefaultHttpClient();
            ResponseHandler<String> res = new BasicResponseHandler();
            HttpPost postMethod = new HttpPost(url);
            String response = null;

            try {
                postMethod.setEntity(new UrlEncodedFormEntity(nameValuePairs));
            } catch (UnsupportedEncodingException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            }
            try {
                response = hc.execute(postMethod, res);
            } catch (ClientProtocolException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            } catch (IOException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            } 
```

# asp.net - Google 语言下拉小部件 - 在 Ajax 页面上

> ID：15826566
> 
> 赞同：1
> 
> 时间：2013-04-05T05:27:54.257
> 
> 标签：asp.net, ajax, google-widget

我的 ASP.NET 页面上有一个 Google 语言下拉小部件。此页面包含级联下拉菜单。也就是说，从第一个下拉列表中选择值时，将填充另一个。

我面临的问题是，如果我首先从 Google 语言下拉列表中选择语言，然后从第一个下拉列表中更改值，则第二个下拉列表中的值不会保留为更改后的语言。我确信这是因为异步回发而发生的。但是，如果我将 EnableAjax 属性设置为 false，那么这是可行的。我正在使用 Telerik RadAjaxManager 来实现 Ajax。请在此处找到附加的代码

```
<html xmlns="http://www.w3.org/1999/xhtml">
    <head runat="server">
        <title>Test Page - ASP.NET</title>
    </head>

    <form id="form1" runat="server">
        <asp:ScriptManager runat="server" ID="scrpt1">
        </asp:ScriptManager>
    <telerik:RadAjaxManager ID="RadAjaxManager1" runat="server" EnableAJAX="true">
            <AjaxSettings>
                <telerik:AjaxSetting AjaxControlID="ddl">
                    <UpdatedControls>
                        <telerik:AjaxUpdatedControl ControlID="DropDownList2" />
                    </UpdatedControls>
                </telerik:AjaxSetting>
            </AjaxSettings>
        </telerik:RadAjaxManager>
        <div>
            <div id="google_translate_element">
            </div>

            <script type="text/javascript">
                    function googleTranslateElementInit() 
                    {
                        new google.translate.TranslateElement({ pageLanguage: 'en', layout: google.translate.TranslateElement.InlineLayout.SIMPLE}, 'google_translate_element');
                    }
            </script>
            <script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
            <br />
            <br />
            <asp:DropDownList runat="server" ID="ddl" AutoPostBack="true">
                <asp:ListItem Text="A"></asp:ListItem>
                <asp:ListItem Text="B"></asp:ListItem>
                <asp:ListItem Text="C"></asp:ListItem>
                <asp:ListItem Text="D"></asp:ListItem>
            </asp:DropDownList>
            <br />
            <br />
            <asp:DropDownList runat="server" ID="DropDownList2" />
        </div>
        </form>
    </html> 
```

代码背后

```
 Private Sub ddl_SelectedIndexChanged(ByVal sender As Object, ByVal e As System.EventArgs) Handles ddl.SelectedIndexChanged 
            DropDownList2.Items.Add(ddl.SelectedItem.Text)
        End Sub 
```

如果我可以通过启用 Ajax 来实现这一点，请告诉我。

谢谢， 斯里尼瓦斯

# java - 请为休眠条件中的 If 语句提供示例

> ID：15826567
> 
> 赞同：5
> 
> 时间：2013-04-05T05:27:59.790
> 
> 标签：java, hibernate, hibernate-criteria

您如何使用休眠条件编写条件条件。

我需要转换的查询是

```
SELECT date, product, IF(type = 'msrp', amount, 0) price, 
     IF(type != 'msrp', amount, 0) tax FROM productdetail group by date, product; 
```

请在休眠条件中提供**if 语句**的正确用法。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-10T08:23:09.477

正如@JBnizet 所说，**标准API 不支持这一点。**除非你正在使用`NHibernate`

如果您使用 NHIbernate

```
 Projections.Conditional(
         Restrictions.EqProperty(.............. 
```

但这是我使用 Hibernate 的可能解决方案。

1）在这种情况下，您可以通过使用[NativeSqlQuery来使用相同的查询](http://docs.jboss.org/hibernate/orm/3.3/reference/en/html/querysql.html)

2）或者通过使用HQL。在 HQL 中有一个名为.This 的[表达式](http://docs.jboss.org/hibernate/orm/3.3/reference/en/html/queryhql.html#queryhql-expressions)`case when`。这可能会有所帮助[在 HQL 选择中使用 CASE 语句](https://stackoverflow.com/questions/456181/using-a-case-statement-in-hql-select)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T19:12:52.873

联合查询的标准解决方法是视图表，否则它是 java 中的 2 个条件和逻辑来操作结果。

# ruby-on-rails - 咖啡脚本在我的项目中出错，之前工作正常

> ID：15826570
> 
> 赞同：1
> 
> 时间：2013-04-05T05:28:11.150
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3, coffeescript, railscasts

我正在看这个视频[http://railscasts.com/episodes/258-token-fields-revised](http://railscasts.com/episodes/258-token-fields-revised) 这是我的咖啡脚本代码

```
jQuery ->
  $('#employee_material_asset_tokens').tokenInput '/assets.json'
    theme: 'facebook'
    prePopulate: $('#employee_material_asset_tokens').data('load') 
```

它以前工作得很好，但现在它给了我这样的错误

```
ExecJS::ProgramError at /employee/reviews
Error: Parse error on line 5: Unexpected 'INDENT'
  (in /home/prem/rails/heronhrm/app/assets/javascripts/employee/assets.js.coffee) 
```

我很困惑我没有更改代码它之前工作正常..当我更改此代码时可能是什么原因

```
jQuery ->
$('#employee_material_asset_tokens').tokenInput '/assets.json'
theme: 'facebook'
prePopulate: $('#employee_material_asset_tokens').data('load') 
```

然后令牌输入工作但预填充和主题不起作用..

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-05T05:32:04.610

我想你只是错过了一个`,`after `'/assets.json'`。您的代码应如下所示

```
$('#employee_material_asset_tokens').tokenInput '/assets.json',
  theme: 'facebook'
  prePopulate: $('#employee_material_asset_tokens').data('load') 
```

# jquery - Ajax 在哪里调试

> ID：15826572
> 
> 赞同：0
> 
> 时间：2013-04-05T05:28:18.250
> 
> 标签：jquery, ajax, xampp

我有这个非常基本的网页，它对 aspx 文件进行 AJAX 调用。

这一切都在我的开发机器上运行良好。但是当我在生产机器上测试它时，我没有得到任何错误，也没有任何错误。

我在两台机器之间有不同的 IP 地址和端口号。但我已经检查过这些差异是否得到了处理。

页面显示ok并响应点击事件ok。

生产机器在设置为呼叫的本地主机时工作过一次，但一旦我改变它，它就停止了。我已经重新检查了 ip 和 port，它们是正确的。

我已经复制了几次文件以防损坏。

我唯一能想到的是端口号是 20201，这是我不应该使用的东西。

开发机器是win7，目标是xp，都运行xampp。

它应该是一个用于家庭自动化的自定义页面，Ajax 调用是与一些名为 homeseer 的软件对话。

我可以在哪里或什么地方改变，看看有什么问题。

我很困惑，因为在测试中一切都很好，而在生产世界中我没有得到任何正面或负面的结果。

非常感谢您的帮助。

```
<!DOCTYPE html>
<html>
<head>
<Script type="text/javascript" src="jquery/jquery-1.7.1.js"></script>
<script>
$(document).ready(function(){
  $("button").click(function(){
    alert($(this).parent().attr("class"));

 var $x10Device = $(this).parent().attr("class");
 $.ajax({
    type: 'GET',
    url: "http://192.168.0.34:81/tenHsServer/tenHsServer.aspx",
    data: { 
        t: "ab", 
        f: "ToggleDevice" ,
        d:$x10Device
    }
});

 });
});
</script>
</head>
<body>
<div id="div1"><h2>Let jQuery AJAX Change This Text</h2></div>
<SPAN class='C8'><button>8Get External Content</button></SPAN>
<SPAN class='C1'><button>1Get External Content</button></SPAN>
<SPAN class='C2'><button>2Get External Content</button></SPAN>
<SPAN class='C3'><button>3Get External Content</button></SPAN>
<SPAN class='C4'><button>4Get External Content</button></SPAN>
<SPAN class='C5'><button>5Get External Content</button></SPAN>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T05:32:29.863

在参数中添加错误回调`ajax()`。例如：

```
$.ajax({
    type: 'GET',
    url: "http://192.168.0.34:81/tenHsServer/tenHsServer.aspx",
    data: { 
        t: "ab", 
        f: "ToggleDevice" ,
        d:$x10Device
    },
    error: function (jqXHR, textStatus, errorThrown) { console.debug (textStatus, errorThrown); }
}); 
```

# javascript - 从 javascript 更改 LinkBut ton 样式属性

> ID：15826583
> 
> 赞同：0
> 
> 时间：2013-04-05T05:29:09.443
> 
> 标签：javascript, asp.net, html, css

我想通过 javascript 进行更改，`style` `attribute`尝试为.`linkbutton``javascript``DropDownList``linkbutton`

这是我的代码

```
 </asp:ListItem>
            <asp:ListItem Text="vikas" Value="0">

            </asp:ListItem>
        </asp:DropDownList>
        <asp:LinkButton ID="lnkbtnSave" Style="display: none" Text="Save" runat="server"></asp:LinkButton>
        <asp:LinkButton ID="lnkbtnCancel" Style="display: none" Text="Cancel" runat="server"></asp:LinkButton>
        <asp:TextBox ID="lnkbtnTest" Style="display: none" Text="hope" runat="server"></asp:TextBox>
        <asp:LinkButton ID="lnkbtnChangeHR" Text="Change Hiring Manager:" runat="server"
            OnClientClick="javascript:return Visible(this.id);"></asp:LinkButton>
    </div>
    <script type="text/javascript" language="javascript">
        alert('dil sambhal ja jara');

        function Visible(me) {
            alert(document.getElementById(me.replace("lnkbtnChnageHR", "lnkbtnTest")));
            document.getElementById(me.replace("lnkbtnChangeHR", "ddlHiringManager")).style.display = 'inline';
            document.getElementById(me.replace("lnkbtnChnageHR", "lnkbtnSave")).style.display = 'inline';
            document.getElementById(me.replace("lnkbtnChnageHR", "lnkbtnCancel")).style.display = 'inline';
            document.getElementById(me.replace("lnkbtnChnageHR", "lnkbtnChnageHR")).style.display = 'none';
            document.getElementById(me.replace("lnkbtnChnageHR", "lnkbtnSave")).style.color = "#f6f6f6";
            document.getElementById(me.replace("lnkbtnChnageHR", "lnkbtnCancel")).style.color = "#f6f6f6";
            document.getElementById(me.replace("lnkbtnChnageHR", "lnkbtnTest")).style.display = 'inline';
            alert(document.getElementById(me.replace("lnkbtnChnageHR", "lnkbtnCancel")).style.display == 'none');
            return false;
        }
    </script> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T05:48:07.640

对不起，伙计们，这是野餐

这是 lnkbtnChangeHR 不是 lnkbtnChnageHR

# android - Android Fragment - 从一个视图移动到另一个视图？

> ID：15826585
> 
> 赞同：12
> 
> 时间：2013-04-05T05:29:18.697
> 
> 标签：android, android-layout, android-fragments, android-fragmentactivity, fragmenttransaction

我可以先将片段添加到视图，然后将其“分离”，然后将其“重新附加”到另一个视图吗？

在代码中，我想：

```
fragOne one = new fragOne();
getSupportFragmentManager().beginTransaction()
        .add(R.id.left, one, "tag").commit();

getSupportFragmentManager().beginTransaction()
        .detach(one).commit();      // or .remove(), or .addToBackStack(null).remove()

getSupportFragmentManager().executePendingTransactions();

getSupportFragmentManager().beginTransaction()
        .add(R.id.right, one).commit(); 
```

但它会引发错误：

```
04-05 13:28:03.492: E/AndroidRuntime(7195): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.trybackstack/com.example.trybackstack.MainActivity}: java.lang.IllegalStateException: Can't change container ID of fragment fragOne{40523130 #0 id=0x7f080000 tag}: was 2131230720 now 2131230721 
```

感谢帮助！

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2014-06-18T07:01:39.753

我遇到了同样的问题，但我发现我真正需要的是重新设置片段的视图而不是片段本身，从而避免任何片段管理器事务。

```
View vv = fragment.getView();
ViewGroup parent = (ViewGroup)vv.getParent();
parent.removeView(vv);
newparent.addView(vv, layoutParams); 
```

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2014-01-24T09:26:49.493

在尝试了类似问题的所有答案之后，看起来我找到了解决问题的方法。

第一个问题 -在尝试将片段添加到另一个容器之前，您确实必须**提交**并**执行删除事务。**谢谢你去中[殿的回答](https://stackoverflow.com/a/17775067)

但这并非每次都有效。第二个问题是回栈。它以某种方式阻止了交易。

因此，对我有用的完整代码如下所示：

```
manager.popBackStackImmediate(null, manager.POP_BACK_STACK_INCLUSIVE);
manager.beginTransaction().remove(detailFragment).commit();
manager.executePendingTransactions();
manager.beginTransaction()
    .replace(R.id.content, masterFragment, masterTag)
    .add(R.id.detail, detailFragment, activeTag)
    .commit(); 
```

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2013-07-21T17:41:58.910

我想您现在应该已经弄清楚了，但是我没有看到任何令人满意的答案。因此，我将其发布给将来可能会参考此内容的其他人。

如果要将片段从一个视图移动到另一个视图，请执行以下操作：

```
android.app.FragmentTransaction fragmentTransaction = fragmentManager.beginTransaction();
fragmentTransaction.remove(fragment1);
fragmentTransaction.commit();
fragmentManager.executePendingTransactions();
fragmentTransaction = fragmentManager.beginTransaction();
fragmentTransaction.add(R.id.containerToMoveTo, fragment1);
fragmentTransaction.commit(); 
```

这样您就不必复制片段。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2013-04-05T09:05:46.903

请检查解决方案，如果要保存旧片段的状态，则需要创建同一片段的新实例并使用旧片段的状态实例化它。

```
 FragmentTransaction ft = mFragmentManager.beginTransaction();
    ft.remove(one);
    Fragment newInstance = fetchOldState(one);
    ft.add(R.id.right, newInstance);
    ft.commit();

//TO fetch the old state
    private Fragment fetchOldState(Fragment f)
        {
            try {
                Fragment.SavedState oldState= mFragmentManager.saveFragmentInstanceState(f);

                Fragment newInstance = f.getClass().newInstance();
                newInstance.setInitialSavedState(oldState);

                return newInstance;
            }
            catch (Exception e) // InstantiationException, IllegalAccessException
            {

            }
        } 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-01-07T11:43:00.577

我也遇到过这个问题。有时移动片段有效，有时您必须创建一个新实例。如果片段一直处于“isRemoving”状态，移动片段似乎不起作用。通过在后台堆栈中有一个片段似乎也可以防止被删除。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2014-04-22T20:58:11.343

加于[颜。尤金的回答](https://stackoverflow.com/a/21328919/1884166)。确保不要对事务应用任何转换，因为这些似乎会延迟片段的分离。

# c# - 经过身份验证的呼叫

> ID：15826586
> 
> 赞同：1
> 
> 时间：2013-04-05T05:29:35.780
> 
> 标签：c#, javascript, jquery, http

我目前正在服务器端进行经过身份验证的数据提取，如下所示：

```
HttpWebRequest request = (HttpWebRequest)WebRequest.Create(url);
request.Proxy = new WebProxy("...");
request.UseDefaultCredentials = true;
request.KeepAlive = true;
request.CookieContainer = new CookieContainer(); 
```

是否可以使用 jQuery 来做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-05T08:07:38.640

您可以将其放置在标有该`[WebMethod]`属性的静态方法中并*从*jQuery 调用它——也就是说，您仍然可以获取客户端异步，但调用仍然通过您的服务器，而不是直接通过代理进行调用。

# asp.net - AppHarbor 上的重定向过多

> ID：15826587
> 
> 赞同：0
> 
> 时间：2013-04-05T05:29:36.710
> 
> 标签：asp.net, appharbor

我开始在 AppHarbor 中的应用程序上收到此错误。在本地主机上没有问题。

> Firefox 检测到服务器正在以永远不会完成的方式重定向对该地址的请求。

我最近在`App_Code`目录中添加了一些代码，我不确定这是否导致了问题。

有没有人遇到过这样的问题？有任何想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T07:52:53.823

是的，问题是app_code。我关闭了自定义错误。它给了

> 不允许 App_Code，因为应用程序已预编译...

通过禁用 apphb 应用程序设置中的预编译选项解决了这个问题。

# c++ - c ++函数通过分隔符读取文件但样式不同

> ID：15826590
> 
> 赞同：1
> 
> 时间：2013-04-05T05:29:44.070
> 
> 标签：c++, function

我想制作一个解析器，它从 txt 文件文件中读取一行，例如：

```
INDORE|NJ|201568|A|
UJJAIN|AB|3458|B| 
```

它们是一次读取一行的任何内置函数...通过格式说明符捕获对应变量中的值..但通过`|` *分隔符分隔*值。

```
parser(str,'|',"%S|%S|%S|%S",location,name,phno,tok); 
```

`location`, `name`,...等是变量。

我在 matlab 中找到了一个函数“ **strread** ”，它可以做这种事情。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T05:52:30.897

假设`str`是一个流，因为你所有的变量看起来都是字符串，你可以简单地使用`std::getline`with`'|'`作为分隔符。

```
std::getline(str, location, '|');
std::getline(str, name, '|');
std::getline(str, phno, '|');
std::getline(str, tok, '|'); 
```

您甚至可以将其包装到一个可变参数模板函数中，该函数接受您想要读取的所有参数。

```
void readParams(std::istream& stream, char delim)
{
}

template<typename ... Tail>
void readParams(std::istream& stream, char delim, std::string& string, Tail& ... t)
{
  std::getline(stream, string, delim);
  readParams(stream, delim, t ...);
} 
```

然后可以这样调用此函数：

```
readParams(str, '|', location, name, phno, tok); 
```

如果您被限制使用没有可变参数模板的编译器，您仍然可以为所需的参数数量添加一些重载，并在稍后阶段将它们替换为真正的可变参数模板。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T06:18:10.023

可能更舒服一点...输入文件是 a|b|c|

```
#include <stdio.h>

int main ()
{
  char str1 [80] = {0};
  char str2 [80] = {0};
  char str3 [80] = {0};
  FILE * pFile;

  pFile = fopen ("a.txt","r");
  fscanf(pFile, "%[^|]|%[^|]|%[^|]|", str1, str2, str3); 
  fclose (pFile);
  return 0;
} 
```

编辑：我确实误读了管道的感叹号..

* * *

输入文件是 a|b|2|

```
 char str1 [80] = {0};
  char str2 [80] = {0};
  int i;
  fscanf(pFile, "%[^|]|%[^|]|%d|", str1, str2, &i); 
```

# python - Django 卡在默认页面

> ID：15826598
> 
> 赞同：1
> 
> 时间：2013-04-05T05:30:23.143
> 
> 标签：python, django, webserver

我在服务器上设置了 django，但它只会返回默认的“欢迎使用 Django”页面。

我还在本地机器上设置了 django，并使用 git 将文件推送到服务器。

服务器和本地机器都配置了 apache/wsgi。

在本地机器上，它将按预期显示 webapp，但在部署到服务器时，它只显示默认页面。

在服务器上重新启动 apache 甚至 django 项目中的错误都没有产生任何影响。

有任何想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-05T05:38:14.930

我假设您在本地设置了 django。如果是这样，那么您正在使用本地主机。除非您在 url.py 上配置以将其重定向到其他地方，否则它应该显示欢迎页面。如果您向我们展示 url.py，将会很有用。如果欢迎页面或 url.py 没有被更改，那么我不知道除了默认的欢迎页面之外它还会更改什么。

# php - 将一个简单的列表插入 MySQL 表 (php)

> ID：15826599
> 
> 赞同：1
> 
> 时间：2013-04-05T05:30:25.193
> 
> 标签：php, mysql, string, insert, split

经过一番寻找解决方案。我认为是时候在 stackoverflow 上询问智囊团了。

我正在寻找一种以字符串形式获取列表的方法，使用逗号将其拆分并插入到 mySQL 表中的列中。

该列表将类似于：

> 1.  Tim Moltzen, 2\. Joel Reddy, 3\. Blake Ayshford, 4\. Chris Lawrence, 5\. James Tedesco, 6\. Benji Marshall, 7\. Braith Anasta, 8\. Aaron Woods, 9\. Robbie Farah, 10\. Jack Buchanan, 11\. Bodene Thompson, 12\. Liam Fulton, 13\. Adam Blair, 14\. Ben Murdoch Masila, 15\. Ava Seumanufagai 16\. Matt Bell, 17\. Eddy Pettybourne

从该列表中，需要拆分两件事。编号和名称。

因此，号码将插入“player_number”列，名称插入“player_name”。当然逗号只用于间距，不需要对表格感兴趣。

任何有关如何拆分字符串然后插入表格的帮助将不胜感激。

编辑：：

我会看看我可以使用explode 和运行一个循环来将它们插入到表中。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T05:53:42.090

```
$string="1\. Tim Moltzen, 2\. Joel Reddy, 3\. Blake Ayshford, 4\. Chris Lawrence, 5\. James Tedesco, 6\. Benji Marshall, 7\. Braith Anasta, 8\. Aaron Woods, 9\. Robbie Farah, 10\. Jack Buchanan, 11\. Bodene Thompson, 12\. Liam Fulton, 13\. Adam Blair, 14\. Ben Murdoch Masila, 15\. Ava Seumanufagai 16\. Matt Bell, 17\. Eddy Pettybourne";

$string=explode(', ',$string);
foreach($string as $val)
    {
    $val=explode('. ',$val);
    mysql_query('INSERT INTO yourtable (col_number,col_name) VALUES ("'.$val[0].'.","'.$val[1].'")';
    } 
```

我不明白您为什么要在数字中插入句点，因为这意味着该列必须不必要地是 varchar 而不是 INT。无论如何，正如你所问。

如果您愿意，请更改`mysql_query`为。`mysqli_query`

**要在数字之间爆炸，请使用：**

```
$string=preg_split('/ ?[0-9]+\.? /', $string, NULL, PREG_SPLIT_NO_EMPTY); 
```

但是现在每个名称都没有任何数字。所以你将无法像这样插入它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T05:56:18.947

```
 $abc= "1.Tim Moltzen, 2\. Joel Reddy, 3\. Blake Ayshford, 4\. Chris Lawrence, 5\. James Tedesco, 6\. Benji Marshall, 7\. Braith Anasta, 8\. Aaron Woods, 9\. Robbie Farah, 10\. Jack Buchanan, 11\. Bodene Thompson, 12\. Liam Fulton, 13\. Adam Blair, 14\. Ben Murdoch Masila, 15\. Ava Seumanufagai, 16.Matt Bell, 17\. Eddy Pettybourne";
     $def = explode(",", $abc);
$countDEF= count($def);

for($a=0;$a<=$countDEF-1;$a++){
     $ghi = explode(".", $def[$a]);
     $countGHI = $ghi;
    for($b=0;$b<=1;$b++){
        echo $ghi[0]."-".$ghi[1]."<br>";
        //  do your query here.
        // ghi[0] is the number and ghi[1] is the fullname
    break; }

     } 
```

尝试运行它并获得一些想法。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-05T06:40:39.753

您可以直接在 MySQL 表中导入，无需 PHP。你只需要使用技巧。

如果您的文件在数据中具有相同的模式，那么您只需将**“，”替换为“\r\n”**，然后将**“.”替换为 CSV 格式的数据即可。到“，”**。

现在您可以使用 MySQL Load Infile 将数据导入数据库。

[http://dev.mysql.com/doc/refman/5.1/en/load-data.html](http://dev.mysql.com/doc/refman/5.1/en/load-data.html)

```
load data local infile 'file_location' into table tbl_name fields terminated by ',' lines terminated by '\r\n'; 
```

# performance - 如何高效显示大量移动点

> ID：15826609
> 
> 赞同：0
> 
> 时间：2013-04-05T05:31:17.310
> 
> 标签：performance, opengl, graphics

我有大量的点，它们动态更新。在大多数情况下，只有阵列的某些（相对较小的）部分得到更新。我的程序的目标是使用这些点构建和显示图片。

如果我直接从这些点构建图片，它的大小将是 8192 x 8192 像素。我相信优化将是减小数组的大小。我的应用程序有两个屏幕区域（一个是另一个的放大/放大）。此外，我需要在任一屏幕区域中平移此图片。

我的优化方法如下。

1.  获取点的源数组并使用第一个屏幕区域的缩放因子来减少它
2.  第二个区域相同，但比例因子更大
3.  在两个 FBO 中渲染两个数组
4.  使用 FBO 作为纹理（提供平移图片的能力）
5.  更新图片时，我只重新渲染更改的区域。

建议加快速度的方法，因为我当前的实现运行速度非常慢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T14:36:21.010

如果您没有足够的硬件以足够的速度运行它，您将几乎无法对其进行大量优化。即使您在不同的线程中渲染到 FBO，然后组合结果，您的瓶颈可能仍然存在。即使对于现代 GPU，6700 万个数据点也不容小觑。

尽量不要进行不必要的更新，只更新更改的内容，只渲染更新和可见的内容，尽量减少组件的大小，例如，如果可能，使用更短的数据类型。

# ios - samba 库无法下载 Mac osx 的共享文件

> ID：15826611
> 
> 赞同：1
> 
> 时间：2013-04-05T05:31:22.833
> 
> 标签：ios, objective-c, networking, samba, smb

我尝试使用 smb 从我的 ipad 下载 mac osx 的共享文件，但失败并出现错误（无法打开文件）。但它可以下载所有windows和linux共享文件。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-06-27T05:42:09.570

我通过更新 ios 中的 samba 静态库版本解决了这个问题。

# php - 只允许登录的 WordPress 管理员访问页面（WordPress 核心之外）

> ID：15826612
> 
> 赞同：0
> 
> 时间：2013-04-05T05:31:23.830
> 
> 标签：php, codeigniter, wordpress

我正在尝试完成的背景...目前我已经在 Codeigniter 之上创建了一个迷你 CMS 来编辑一些用于 Web 应用程序的数据库内容。现在它没有密码保护，因为它仍在开发中。我想将它集成到我的 WordPress 安装中，这样我的客户就不必登录 CMS**和**WordPress。

到目前为止我的位置是：

1.  我创建了一个自定义 WP `admin_menu`（通过`add_menu_page`）
2.  我的 CMS`iframe`在管理菜单选项卡中可见/工作。

我现在需要做的是，如果用户被认证为 WordPress 管理员，则只允许访问这些 CMS 页面。

如果您想知道我的目录结构：

```
/ (Codeigniter installed on root)
/blog/ (WordPress Install)
/blog/cms/ (CMS that is talking to Codeigniter) 
```

先感谢您！

**更新：**由于尚未在答案中回答，我需要知道如何在 WordPress 系统之外执行 WordPress 功能。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-05T05:36:35.583

您可能想使用[WordPress 的`current_user_can()`](http://codex.wordpress.org/Function_Reference/current_user_can)功能来确认用户至少具有通常与管理员用户关联的一项功能，或者是该`Administrator`角色的成员。

根据该法典页面，这应该可以根据角色测试管理员，尽管我无法确认这一点抱歉。我过去肯定使用过这种方法来验证用户是否具有给定的能力。  

```
<?php current_user_can( 'Administrator' ); ?> 
```

 **编辑：**要使用 WP 凭据向 WP 验证来自不同站点的用户，[Wordpress.stackexchange 上的这个答案](https://wordpress.stackexchange.com/a/39683/19163)描述了如何使用 WP 的内置 XMLRPC 服务。答案是在从 servlet 进行身份验证的上下文中编写的，但是 WP XMLRPC 服务的消耗可以在客户端的 JavaScript 中实现（而不是在您的站点的两个独立后端之间），因此在您的场景中可能更有用。

答案包括一个预先编写的插件，用于处理来自远程客户端在 WP 服务器上的特定身份验证请求......但请注意问题下方关于使用令牌而不是通过网络传递信用的评论（研究“nonce”如果您还不熟悉这些... WP 可以为您创建这些）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-05T17:55:41.547

我已经想通了。下面的代码：

```
define('WP_USE_THEMES', false);
require('../wp-blog-header.php');
if(!is_user_logged_in())
{
    exit('You do not have access');
} 
```

# c# - 如何在EXCEL的新表格上写数据

> ID：15826614
> 
> 赞同：2
> 
> 时间：2013-04-05T05:31:34.003
> 
> 标签：c#, jquery, asp.net, mysql, excel

我有将返回 5 个表的 Mysql 程序，现在我需要将这些**表设置为单个 Excel 文件 5 个不同的工作表。** 我正在使用 VS 2010、Jquery、ASP.Net。如何在新工作表上的 excel 文件中写入该表。![在此处输入图像描述](https://i.stack.imgur.com/53neZ.jpg)

```
 $("#btnExcel").click(function (e) {

$('#divExcelExporting').html($('#containerOne').html());
$('#divExcelExporting').append($('#containerTwo').html());
$('#divExcelExporting').append($('#containerThree').html());
$('#divExcelExporting').append($('#containerFour').html());
$('#divExcelExporting').append($('#containerFive').html());

var trcoll = $('#divExcelExporting').find('.border-middle1').find('tr');

$.each(trcoll, function (d, f) {
    $($(this).find('td')[0]).remove();
});

var trcol2 = $('#divExcelExporting').find('.border-middle2').find('tr');

$.each(trcol2, function (d, f) {
    $($(this).find('td')[0]).remove();
});

var trcol3 = $('#divExcelExporting').find('.border-middle3').find('tr');

$.each(trcol3, function (d, f) {
    $($(this).find('td')[0]).remove();
});

var trcol4 = $('#divExcelExporting').find('.border-middle4').find('tr');

$.each(trcol4, function (d, f) {
    $($(this).find('td')[0]).remove();
});

var trcol5 = $('#divExcelExporting').find('.border-middle5').find('tr');

$.each(trcol5, function (d, f) {
    $($(this).find('td')[0]).remove();
});

WebService.SetVendorHTML($('#divExcelExporting').html(), OnWSRequestComplete); 
```

});

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-06T05:55:55.040

我从 OpenXML 得到了解决方案。

```
 string path = Context.Server.MapPath("~/ExcelData/test.xslx");
     ExportDataSet(ds, path);

  private void ExportDataSet(DataSet ds, string destination)
{
    using (var workbook = SpreadsheetDocument.Create(destination, DocumentFormat.OpenXml.SpreadsheetDocumentType.Workbook))
    {
        var workbookPart = workbook.AddWorkbookPart();

        workbook.WorkbookPart.Workbook = new DocumentFormat.OpenXml.Spreadsheet.Workbook();

        workbook.WorkbookPart.Workbook.Sheets = new DocumentFormat.OpenXml.Spreadsheet.Sheets();

        foreach (System.Data.DataTable table in ds.Tables)
        {

            var sheetPart = workbook.WorkbookPart.AddNewPart<WorksheetPart>();
            var sheetData = new DocumentFormat.OpenXml.Spreadsheet.SheetData();
            sheetPart.Worksheet = new DocumentFormat.OpenXml.Spreadsheet.Worksheet(sheetData);

            DocumentFormat.OpenXml.Spreadsheet.Sheets sheets = workbook.WorkbookPart.Workbook.GetFirstChild<DocumentFormat.OpenXml.Spreadsheet.Sheets>();
            string relationshipId = workbook.WorkbookPart.GetIdOfPart(sheetPart);

            uint sheetId = 1;
            if (sheets.Elements<DocumentFormat.OpenXml.Spreadsheet.Sheet>().Count() > 0)
            {
                sheetId =
                    sheets.Elements<DocumentFormat.OpenXml.Spreadsheet.Sheet>().Select(s => s.SheetId.Value).Max() + 1;
            }

            DocumentFormat.OpenXml.Spreadsheet.Sheet sheet = new DocumentFormat.OpenXml.Spreadsheet.Sheet() { Id = relationshipId, SheetId = sheetId, Name = table.TableName };
            sheets.Append(sheet);

            DocumentFormat.OpenXml.Spreadsheet.Row headerRow = new DocumentFormat.OpenXml.Spreadsheet.Row();

            List<String> columns = new List<string>();
            foreach (System.Data.DataColumn column in table.Columns)
            {
                columns.Add(column.ColumnName);

                DocumentFormat.OpenXml.Spreadsheet.Cell cell = new DocumentFormat.OpenXml.Spreadsheet.Cell();
                cell.DataType = DocumentFormat.OpenXml.Spreadsheet.CellValues.String;
                cell.CellValue = new DocumentFormat.OpenXml.Spreadsheet.CellValue(column.ColumnName);
                headerRow.AppendChild(cell);
            }

            sheetData.AppendChild(headerRow);

            foreach (System.Data.DataRow dsrow in table.Rows)
            {
                DocumentFormat.OpenXml.Spreadsheet.Row newRow = new DocumentFormat.OpenXml.Spreadsheet.Row();
                foreach (String col in columns)
                {
                    DocumentFormat.OpenXml.Spreadsheet.Cell cell = new DocumentFormat.OpenXml.Spreadsheet.Cell();
                    cell.DataType = DocumentFormat.OpenXml.Spreadsheet.CellValues.String;
                    cell.CellValue = new DocumentFormat.OpenXml.Spreadsheet.CellValue(dsrow[col].ToString()); //
                    newRow.AppendChild(cell);
                }

                sheetData.AppendChild(newRow);
            }

        }
    }
} 
```

参考 ：

```
using DocumentFormat.OpenXml.Packaging;
using DocumentFormat.OpenXml.Spreadsheet;
using DocumentFormat.OpenXml; 
```

# ios - xib文件中的uiview大小不正常

> ID：15826617
> 
> 赞同：0
> 
> 时间：2013-04-05T05:31:52.987
> 
> 标签：ios, xcode

当在我的 xcode 中创建 uiviewcontroller 文件时，uiview 大小变得比默认的 iphone 屏幕尺寸大很多，就像这样![在此处输入图像描述](https://i.stack.imgur.com/zxij3.png)

我无法弄清楚它为什么会发生以及如何调整到 iphone 的默认大小。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T05:42:18.453

确保在创建课程时应该这样做

1.  适用于 iPad 的目标 - 取消选中
2.  使用 XIB 作为用户界面 - 检查

![在此处输入图像描述](https://i.stack.imgur.com/3vfDD.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T05:34:49.810

是的，你可以轻松做到。单击 XIB 中的视图进入属性窗口（右侧）的第四个选项卡在模拟指标下，第一个手风琴检查大小参数（默认情况下为“无”）并在需要 XIB 时将其更改为“自由形式”自定义大小。

![在此处输入图像描述](https://i.stack.imgur.com/4NzUC.png)

# gcc - 为什么 gcc 需要 gmp？

> ID：15826628
> 
> 赞同：7
> 
> 时间：2013-04-05T05:32:56.220
> 
> 标签：gcc, gmp

任何从源代码构建过 gcc 的人都知道，gmp 是 gcc 的依赖项。为什么是这样？换句话说，gcc 实际上是用来做什么的？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-04-05T05:35:42.083

请参阅此对类似（但不相同）问题的[答案。](https://stackoverflow.com/a/14263218/841108)

编译器内部（在*编译*时）需要 GMP，特别是用于常量折叠。一些语言标准（特别是一些最新版本的 Fortran）要求例如`1234567891234567*1234567891`以任意精度计算。

*甚至 C 也更喜欢使用 bigint 进行常量折叠：它是获得表达式正确*结果的唯一方法（可能是在一些宏扩展之后获得的，即使您没有在源代码中显式放置它），例如`(123456789087651234*65125412651209128612+187451)%10000000141`or `(140000000000041*150000000000061+134500000000139)%250000000000111`。

^(我忘记了 C 或 C++ 标准对此类常量表达式的规定。正确计算它们当然没有错。但是 Fortran 要求它们被正确计算，这需要 bigints。我的第二个示例仅包含适合 64 位的素数，但您需要 bignums 才能正确计算结果......)

此外，GCC 在交叉编译时需要更精确的主机整数。考虑一下从 32 位到 64 位机器的明显交叉编译，您当然希望常量折叠来计算所有 64 位！

此外，一些巧妙的优化（特别是GCC 使用的[Cloog 或 PPL](http://en.wikipedia.org/wiki/Frameworks_supporting_the_polyhedral_model)等[多面体优化](http://en.wikipedia.org/wiki/Polytope_model)）可能需要在一次优化过程中和内部使用 bigint 算法来精确。更一般地说，优化是符号处理，而符号处理通常需要[bignums](http://en.wikipedia.org/wiki/Bignums)。在这种优化过程中，即使源代码只有很小的常数，也可能会出现很大的数字。

# iphone - 如何找出转场发生在哪个场景？

> ID：15826630
> 
> 赞同：0
> 
> 时间：2013-04-05T05:33:16.353
> 
> 标签：iphone, ios, uistoryboardsegue

我有多个视图控制器，它们使用 prepareforsegue 方法将您带到一个通用视图控制器。问题是我如何在公共视图控制器中找出它从哪个控制器开始...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T05:42:48.667

segue 对象具有您可以查看的属性`source`。`destination`所以，从通用的目标视图控制器中，您可以查看`source`segue。

# c# - 整行的WPF树视图项目背景

> ID：15826637
> 
> 赞同：7
> 
> 时间：2013-04-05T05:34:28.277
> 
> 标签：c#, wpf, treeview, wpf-controls, treeviewitem

我正在编写一个应用程序，我需要按项目在整行下设置背景。[我在这里](https://stackoverflow.com/questions/664632/highlight-whole-treeviewitem-line-in-wpf#)找到了一些灵​​感，但我不知道如何在模板中获取边框背景值（问题有点复杂：）

我的问题是树视图中有两种类型的“数据”（文件和文件夹）。用户可以修改文件和文件夹下的背景。

现在我在文本块上有背景，但它看起来很可怕，我想在整行上有背景（我认为它看起来会好得多）。

现在看来是这样：
![图像1](https://i.stack.imgur.com/8W1Sg.png)

但我需要的是：
![img2](https://i.stack.imgur.com/dTTgq.png)

如果我更改边框背景的值，我会更改所有项目（逻辑上）。所以我想我真的需要使用文本块背景，但我无法覆盖整个行（拉伸不是解决方案，因为它只是将它传播到行尾，而不是之前的那个空白）。

谢谢你的建议。

**编辑：** XAML 在这里：

```
<ResourceDictionary
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" 
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="clr-namespace:treeView">
<!-- TREEVIEW  -->
    <Style x:Key="ExpandCollapseToggleStyle" TargetType="ToggleButton">
        <Setter Property="Focusable" Value="False"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="ToggleButton">
                    <Grid
          Width="15"
          Height="13"
          Background="Transparent">
                        <!--<Path x:Name="ExpandPath"
            HorizontalAlignment="Left" 
            VerticalAlignment="Center" 
            Margin="1,1,1,1"
            Fill="Red"
            Data="M 4 0 L 8 4 L 4 8 Z"/>-->
                    </Grid>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsChecked"
               Value="True">
                            <!--<Setter Property="Data"
                TargetName="ExpandPath"
                Value="M 0 4 L 8 4 L 4 8 Z"/>-->
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
    <Style x:Key="TreeViewItemFocusVisual">
        <Setter Property="Control.Template">
            <Setter.Value>
                <ControlTemplate>
                    <Border>
                        <Rectangle Margin="0,0,0,0"
                 StrokeThickness="5"
                 Stroke="Black"
                 StrokeDashArray="1 2"
                 Opacity="0"/>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style x:Key="{x:Type TreeViewItem}" TargetType="{x:Type TreeViewItem}">
        <Setter Property="Background" Value="Transparent"/>
        <Setter Property="HorizontalContentAlignment" Value="{Binding Path=HorizontalContentAlignment, RelativeSource={RelativeSource AncestorType={x:Type ItemsControl}}}"/>
        <Setter Property="VerticalContentAlignment" Value="{Binding Path=VerticalContentAlignment, RelativeSource={RelativeSource AncestorType={x:Type ItemsControl}}}"/>
        <Setter Property="Padding" Value="1,0,0,0"/>
        <Setter Property="Foreground" Value="{DynamicResource {x:Static SystemColors.ControlTextBrushKey}}"/>
        <Setter Property="FocusVisualStyle" Value="{StaticResource TreeViewItemFocusVisual}"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type TreeViewItem}">
                    <ControlTemplate.Resources>
                        <local:LeftMarginMultiplierConverter Length="19" x:Key="lengthConverter" />
                    </ControlTemplate.Resources>
                    <StackPanel>
                        <Border x:Name="Bd"
                          Background="{TemplateBinding Background}"
                          BorderBrush="{TemplateBinding BorderBrush}"
                          BorderThickness="{TemplateBinding BorderThickness}"
                          Padding="{TemplateBinding Padding}">
                            <Grid Margin="{Binding Converter={StaticResource lengthConverter}, RelativeSource={RelativeSource TemplatedParent}}">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="19" />
                                    <ColumnDefinition/>
                                </Grid.ColumnDefinitions>
                                <ToggleButton Grid.Column="1" x:Name="Expander"
                                  Style="{StaticResource ExpandCollapseToggleStyle}"
                                  IsChecked="{Binding Path=IsExpanded,
                                              RelativeSource={RelativeSource TemplatedParent}}"
                                  ClickMode="Press"/>
                                <ContentPresenter x:Name="PART_Header" Grid.Column="1" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" ContentSource="Header" />
                            </Grid>
                        </Border>
                        <ItemsPresenter x:Name="ItemsHost" />
                    </StackPanel>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsExpanded" Value="false">
                            <Setter TargetName="ItemsHost" Property="Visibility" Value="Collapsed"/>
                        </Trigger>
                        <Trigger Property="HasItems" Value="false">
                            <Setter TargetName="Expander" Property="Visibility" Value="Hidden"/>
                        </Trigger>
                        <MultiTrigger>
                            <MultiTrigger.Conditions>
                                <Condition Property="HasHeader" Value="false"/>
                                <Condition Property="Width" Value="Auto"/>
                            </MultiTrigger.Conditions>
                            <Setter TargetName="PART_Header" Property="MinWidth" Value="75"/>
                        </MultiTrigger>
                        <MultiTrigger>
                            <MultiTrigger.Conditions>
                                <Condition Property="HasHeader" Value="false"/>
                                <Condition Property="Height" Value="Auto"/>
                            </MultiTrigger.Conditions>
                            <Setter TargetName="PART_Header" Property="MinHeight" Value="19"/>
                        </MultiTrigger>
                        <Trigger Property="IsSelected" Value="true">
                            <Setter TargetName="Bd" Property="Background" Value="{DynamicResource {x:Static SystemColors.HighlightBrushKey}}"/>
                            <Setter Property="Foreground" Value="{DynamicResource {x:Static SystemColors.HighlightTextBrushKey}}"/>
                        </Trigger>
                        <MultiTrigger>
                            <MultiTrigger.Conditions>
                                <Condition Property="IsSelected" Value="true"/>
                                <Condition Property="IsSelectionActive" Value="false"/>
                            </MultiTrigger.Conditions>
                            <Setter TargetName="Bd" Property="Background" Value="{DynamicResource {x:Static SystemColors.ControlBrushKey}}"/>
                            <Setter Property="Foreground" Value="{DynamicResource {x:Static SystemColors.ControlTextBrushKey}}"/>
                        </MultiTrigger>
                        <Trigger Property="IsEnabled" Value="false">
                            <Setter Property="Foreground" Value="{DynamicResource {x:Static SystemColors.GrayTextBrushKey}}"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
</ResourceDictionary> 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2016-06-13T07:55:18.170

感谢您的解决方案！这是我到目前为止所做的预览：

![预览](https://i.imgur.com/quCr78w.png)

```
<TreeView Grid.Row="1"  Name="treeView" Margin="5">
    <TreeView.ItemContainerStyle>
        <Style TargetType="{x:Type TreeViewItem}">
            <Setter Property="IsExpanded" Value="{Binding IsExpanded, Mode=TwoWay}" />
            <Setter Property="KeyboardNavigation.AcceptsReturn" Value="True" />
            <Setter Property="IsSelected" Value="{Binding IsSelected, Mode=TwoWay}" />
            <!-- Style for the selected item -->
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type TreeViewItem}">
                        <ControlTemplate.Resources>
                            <Conv:LeftMarginMultiplierConverter Length="19" x:Key="lengthConverter" />
                        </ControlTemplate.Resources>
                        <StackPanel>
                            <Border 
                                x:Name="Bd"
                                Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                Padding="{TemplateBinding Padding}">
                                <Grid Margin="{Binding Converter={StaticResource lengthConverter}, RelativeSource={RelativeSource TemplatedParent}}">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="19" />
                                        <ColumnDefinition/>
                                    </Grid.ColumnDefinitions>
                                    <ToggleButton 
                                        Grid.Column="0" 
                                        x:Name="Expander"
                                        Style="{StaticResource ExpandCollapseToggleStyle}"
                                        IsChecked="{Binding Path=IsExpanded, RelativeSource={RelativeSource TemplatedParent}}"
                                        ClickMode="Press"/>
                                    <ContentPresenter x:Name="PART_Header" Grid.Column="1" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" ContentSource="Header" />
                                </Grid>
                            </Border>
                            <ItemsPresenter x:Name="ItemsHost" />
                        </StackPanel>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsExpanded" Value="false">
                                <Setter TargetName="ItemsHost" Property="Visibility" Value="Collapsed"/>
                            </Trigger>
                            <Trigger Property="HasItems" Value="false">
                                <Setter TargetName="Expander" Property="Visibility" Value="Hidden"/>
                            </Trigger>
                            <MultiTrigger>
                                <MultiTrigger.Conditions>
                                    <Condition Property="HasHeader" Value="false"/>
                                    <Condition Property="Width" Value="Auto"/>
                                </MultiTrigger.Conditions>
                                <Setter TargetName="PART_Header" Property="MinWidth" Value="75"/>
                            </MultiTrigger>
                            <MultiTrigger>
                                <MultiTrigger.Conditions>
                                    <Condition Property="HasHeader" Value="false"/>
                                    <Condition Property="Height" Value="Auto"/>
                                </MultiTrigger.Conditions>
                                <Setter TargetName="PART_Header" Property="MinHeight" Value="19"/>
                            </MultiTrigger>
                            <Trigger Property="IsSelected" Value="true">
                                <!--<Setter TargetName="Bd" Property="Background" Value="{DynamicResource {x:Static SystemColors.HighlightBrushKey}}"/>-->
                                <Setter TargetName="Bd" Property="Background" Value="#FFF7D280"/>
                                <Setter Property="Foreground" Value="{DynamicResource {x:Static SystemColors.HighlightTextBrushKey}}"/>
                            </Trigger>
                            <MultiTrigger>
                                <MultiTrigger.Conditions>
                                    <Condition Property="IsSelected" Value="true"/>
                                    <Condition Property="IsSelectionActive" Value="false"/>
                                </MultiTrigger.Conditions>
                                <!--<Setter TargetName="Bd" Property="Background" Value="{DynamicResource {x:Static SystemColors.ControlBrushKey}}"/>-->
                                <Setter TargetName="Bd" Property="Background" Value="#FFDADADA"/>
                                <Setter Property="Foreground" Value="{DynamicResource {x:Static SystemColors.ControlTextBrushKey}}"/>
                            </MultiTrigger>
                            <Trigger Property="IsEnabled" Value="false">
                                <Setter Property="Foreground" Value="{DynamicResource {x:Static SystemColors.GrayTextBrushKey}}"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <!-- Selected and has focus -->
                <Trigger Property="IsSelected" Value="True">
                    <Setter Property="BorderBrush" Value="{StaticResource HT_Background_Orange}"/>
                </Trigger>
                <!-- Mouse over -->
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#FFFDE8BA"/>
                    <!--<Setter Property="Background">
                        <Setter.Value>
                            <LinearGradientBrush EndPoint="0,1" StartPoint="0,0">
                                <GradientStop Color="#FFFAFBFD" Offset="0"/>
                                <GradientStop Color="#fadfa3" Offset="1"/>
                            </LinearGradientBrush>
                        </Setter.Value>
                    </Setter>-->
                    <Setter Property="BorderBrush" Value="#f59246"/>
                </Trigger>
                <!-- Selected but does not have the focus -->
                <MultiTrigger>
                    <MultiTrigger.Conditions>
                        <Condition Property="IsSelected" Value="True"/>
                        <Condition Property="IsSelectionActive" Value="False"/>
                    </MultiTrigger.Conditions>
                    <Setter Property="BorderBrush" Value="#f59246"/>
                </MultiTrigger>
            </Style.Triggers>
            <Style.Resources>
                <Style TargetType="Border">
                    <Setter Property="CornerRadius" Value="0"/>
                </Style>
            </Style.Resources>
        </Style>
    </TreeView.ItemContainerStyle>
    <TreeView.ItemTemplate>
        <HierarchicalDataTemplate DataType="{x:Type local:FileSystemObjectInfo}" ItemsSource="{Binding Path=Children}">
            <StackPanel Orientation="Horizontal">
                <Image
                    Source="{Binding Path=ImageSource, UpdateSourceTrigger=PropertyChanged}" 
                    Margin="0,1,8,1"
                    Height="24"
                    Width="24"/>
                <TextBlock
                    Text="{Binding Path=FileSystemInfo.Name}"
                    VerticalAlignment="Center"/>
            </StackPanel>
        </HierarchicalDataTemplate>
    </TreeView.ItemTemplate>
    <TreeView.Resources>

        <!-- Brushes for the selected item -->
        <LinearGradientBrush x:Key="{x:Static SystemColors.HighlightBrushKey}" EndPoint="0,1" StartPoint="0,0">
            <GradientStop Color="#FFFDF2DA" Offset="0"/>
            <GradientStop Color="#FFF7D280" Offset="1"/>
        </LinearGradientBrush>
        <LinearGradientBrush x:Key="{x:Static SystemColors.ControlBrushKey}" EndPoint="0,1" StartPoint="0,0">
            <GradientStop Color="White" Offset="0"/>
            <GradientStop Color="#FFE2E2E2" Offset="1"/>
        </LinearGradientBrush>
        <SolidColorBrush x:Key="{x:Static SystemColors.HighlightTextBrushKey}" Color="Black" />
        <SolidColorBrush x:Key="{x:Static SystemColors.ControlTextBrushKey}" Color="Black" />
    </TreeView.Resources>
</TreeView> 
```

```
public class LeftMarginMultiplierConverter : IValueConverter
{
    public double Length { get; set; }

    public object Convert(object value, Type targetType, object parameter, CultureInfo culture)
    {
        TreeViewItem item = value as TreeViewItem;
        if (item == null)
            return new Thickness(0);

        return new Thickness(Length * item.GetDepth(), 0, 0, 0);
    }

    public object ConvertBack(object value, Type targetType, object parameter, CultureInfo culture)
    {
        throw new System.NotImplementedException();
    }
}

public static class TreeViewItemExtensions
{
    public static int GetDepth(this TreeViewItem item)
    {
        TreeViewItem parent;
        while ((parent = GetParent(item)) != null)
        {
            return GetDepth(parent) + 1;
        }
        return 0;
    }

    private static TreeViewItem GetParent(TreeViewItem item)
    {
        DependencyObject parent = item != null ? VisualTreeHelper.GetParent(item) : null;
        while (parent != null && !(parent is TreeViewItem || parent is TreeView))
        {
            parent = VisualTreeHelper.GetParent(parent);
        }
        return parent as TreeViewItem;
    }
} 
```

```
<Style x:Key="ExpandCollapseToggleStyle" TargetType="ToggleButton">
    <Setter Property="Focusable" Value="False"/>
    <Setter Property="Template">
        <Setter.Value>
            <ControlTemplate TargetType="ToggleButton">
                <Grid
                Width="15"
                Height="13"
                Background="Transparent">
                    <Path 
                    x:Name="ExpandPath"
                    HorizontalAlignment="Left" 
                    VerticalAlignment="Center" 
                    Margin="1,1,1,1"
                    Fill="{StaticResource GlyphBrush}"
                    Data="M 4 0 L 8 4 L 4 8 Z"/>
                </Grid>
                <ControlTemplate.Triggers>
                    <Trigger Property="IsChecked" Value="True">
                        <Setter Property="Data" TargetName="ExpandPath" Value="M 0 4 L 8 4 L 4 8 Z"/>
                    </Trigger>
                </ControlTemplate.Triggers>
            </ControlTemplate>
        </Setter.Value>
    </Setter>
</Style> 
```

如果您有任何问题，请告诉我！

问候

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2020-03-13T22:30:19.117

完成 Dominic Jonas 的解决方案，使用[如何按类型获取 WPF 容器的子项中的 GetChildOfType 方法？](https://stackoverflow.com/questions/10279092/how-to-get-children-of-a-wpf-container-by-type)：

```
public class LeftMarginMultiplierConverter : IValueConverter
    {
        public int Length { get; set; }
        public object Convert(object value, Type targetType, object parameter, CultureInfo culture)
        {
            Thickness thickness = new Thickness(0, 0, 0, 0);
            if (value != null)
            {
                TreeViewItem treeViewItem = (TreeViewItem)value;
                ItemsControl parent = ItemsControl.ItemsControlFromItemContainer(treeViewItem);
                if (parent != null)
                {
                    if (parent.GetType() == typeof(TreeView))
                    {
                        thickness = new Thickness(System.Convert.ToDouble(Length), 5, 5, 5);
                    }
                    else if (parent.GetType() == typeof(TreeViewItem))
                    {
                        Grid grid = (Grid) Helper.GetChildOfType<Grid>(parent);
                        if(grid != null)
                            thickness = new Thickness(System.Convert.ToDouble(grid.Margin.Left + Length), 5, 5, 5);
                    }
                }
            }
            return thickness;
        }

        public object ConvertBack(object value, Type targetType, object parameter, CultureInfo culture)
        {
            throw new NotImplementedException();
        }
    }
    public static class Helper
    {
        public static T GetChildOfType<T>(this DependencyObject depObj) where T : DependencyObject
        {
            if (depObj == null) return null;

            for (int i = 0; i < VisualTreeHelper.GetChildrenCount(depObj); i++)
            {
                var child = VisualTreeHelper.GetChild(depObj, i);

                var result = (child as T) ?? GetChildOfType<T>(child);
                if (result != null) return result;
            }
            return null;
        }
    } 
```

并且仅在单行中突出显示鼠标：[如何使 TreeViewItem 上 IsMouseOver 的 WPF 触发器不会影响鼠标悬停控件的所有父级？](https://stackoverflow.com/questions/1131161/how-can-i-make-wpf-trigger-for-ismouseover-on-treeviewitem-not-affect-all-parent)

* * *

## 回答 #3

> 赞同：-4
> 
> 时间：2013-04-05T05:51:55.323

使用 snoop 了解您尝试修改的可视化树。这样，实际上需要 2-3 分钟才能知道您需要修改什么。（ 谷歌 ）

我敢打赌，你需要使用这样的东西：

```
<TreeView>
<TreeView.ItemContainerStyle>
<Style BasedOn="{StaticResource {x:Type TreeViewItem}}" TargetType="TreeViewItem">
                    <Setter Property="Background" Value="Purple" />
</TreeView.ItemContainerStyle>
</TreeView> 
```

如果您希望背景颜色取决于项目，您还需要添加触发器。

# google-drive-api - 根据新的属性资源搜索 Google Drive 文件

> ID：15826639
> 
> 赞同：10
> 
> 时间：2013-04-05T05:34:44.337
> 
> 标签：google-drive-api

Google 刚刚在 Google Drive SDK 中引入了一项新功能，该功能可以将文件属性设置为键/值对。根据 Google Developers 博客上的博文，我们可以将这些属性用作可搜索字段。但是我在文档中看不到如何使用这些属性搜索文件。

例如：检索属性 A 的值为 X 的所有文件。

我知道这个功能是全新的，但我真的可以在我当前的项目中使用它。我错过了什么吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2014-04-30T07:31:49.103

好吧，我发现，可以根据`properties`参数搜索驱动器。

检查文档。[https://developers.google.com/drive/web/search-parameters](https://developers.google.com/drive/web/search-parameters)

代码片段：

```
resp = newDriveService.files().list(q="properties has { key='customKeyA' and value='customKeyAValue2' and visibility='PUBLIC' }").execute() 
```

注意：您必须指定所有 3 个参数，即。搜索时的键、值和可见性。如果你不使用它会抛出 Invalid Params 异常。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-05T12:29:22.197

不幸的是，我们目前不支持此功能。这是目前谷歌的高优先级，他们正在努力。敬请关注。

# app-store - 如何从 Corona SDK 创建 .ipa 文件

> ID：15826646
> 
> 赞同：0
> 
> 时间：2013-04-05T05:35:14.097
> 
> 标签：app-store, coronasdk, ipa

请告诉我如何在 Corona SDK 中创建 .ipa 文件而不是 .app 文件？以及如何在 Appstore 中提交 Corona 应用程序？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-04-09T06:04:05.430

我有一个创建 . `ipa file`从创建构建文件时`Corona`。步骤如下 -

*   **第 1 步**- 创建一个 .app 文件
*   **第 2 步**- 创建一个名为“Payload”的文件夹
*   **第 3 步**- 压缩“Payload”文件夹并将其从“Payload.zip”重命名为您的文件 name.ipa。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-11T10:54:38.857

你需要去 Corona Simulator -> File -> Build -> iOS

![在此处输入图像描述](https://i.stack.imgur.com/c8ee1.jpg)

如果您要使用分发配置文件进行构建，corona 将为您创建压缩文件，以便您可以直接使用应用程序加载器下载它。

* * *

## 回答 #3

> 赞同：-3
> 
> 时间：2013-04-05T12:13:08.710

你需要有付费版本的电晕，你应该使用 macOS。有了这些，剩下的就简单了

# serialization - NEventStore 3+ 的 Protobuf-net 序列化程序

> ID：15826651
> 
> 赞同：4
> 
> 时间：2013-04-05T05:35:28.933
> 
> 标签：serialization, protobuf-net, cqrs, neventstore

谁能指出我的 NEventStore 3.0 的 protobuf-net 序列化程序？

我遇到了麻烦，我认为主要是由于事件存储 3 中的序列化将事件主体和标头包装在 EventMessage 中。

我不确定如何正确设置自定义序列化程序。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-05T07:15:40.473

基于对 github 的简短浏览，这完全是未经测试的猜测，但看起来您想使用连线 API 来指定自定义序列化程序，例如：

```
var store = Wireup.Init()
    .UsingSqlPersistence("Name Of EventStore ConnectionString In Config File")
        .InitializeStorageEngine()
        .UsingCustomSerialization(mySerializer)
    ... etc 
```

where`mySerializer`是实现`ISerialize`接口的类型的实例。看起来这应该有效：

```
class ProtobufSerializer : EventStore.Serialization.ISerialize
{
    public void Serialize<T>(Stream output, T graph)
    {
        ProtoBuf.Serializer.Serialize<T>(output, graph);
    }

    public T Deserialize<T>(Stream input)
    {
        return ProtoBuf.Serializer.Deserialize<T>(input);
    }
} 
```

（所以显然`mySerializer`这里将是一个`new ProtobufSerializer()`）

# html - 如何将这两个手风琴内联放在引导程序中？

> ID：15826652
> 
> 赞同：0
> 
> 时间：2013-04-05T05:35:33.600
> 
> 标签：html, css, twitter-bootstrap

我正在浏览引导程序的示例：

```
<div class="accordion" id="accordion2">
  <div class="accordion-group">
    <div class="accordion-heading">
      <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion2" href="#collapseOne">
        Collapsible Group Item #1
      </a>
    </div>
    <div id="collapseOne" class="accordion-body collapse in">
      <div class="accordion-inner">
        Anim pariatur cliche...
      </div>
    </div>
  </div>
  <div class="accordion-group">
    <div class="accordion-heading">
      <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion2" href="#collapseTwo">
        Collapsible Group Item #2
      </a>
    </div>
    <div id="collapseTwo" class="accordion-body collapse">
      <div class="accordion-inner">
        Anim pariatur cliche...
      </div>
    </div>
  </div>
</div> 
```

现在输出如下所示：

```
Collpasible Item 1#
Collpasible Item 1# 
```

但我希望输出看起来像：

```
 Collpasible Item 1#  Collpasible Item 2#
    occupy with the reusult of item 1 if 1 is clicked

 Collpasible Item 1#  Collpasible Item 2#
    occupy with the reusult of item 2 if 2 is clicked 
```

添加简单`inline`不起作用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T20:44:15.047

您想使用 Tabs（或药丸），而不是 Accordion。不要忘记添加所需的 JS 文件。更多： http: [//twitter.github.io/bootstrap/javascript.html#tabs](http://twitter.github.io/bootstrap/javascript.html#tabs)和[http://twitter.github.io/bootstrap/components.html#navs](http://twitter.github.io/bootstrap/components.html#navs)

从文档：

```
<ul class="nav nav-tabs" id="myTab">
  <li class="active"><a href="#home">Home</a></li>
  <li><a href="#profile">Profile</a></li>
</ul>

<div class="tab-content">
  <div class="tab-pane active" id="home">...</div>
  <div class="tab-pane" id="profile">...</div>
</div> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T20:37:29.320

利用引导类

用一行包裹你的手风琴代码，并用 span6 包裹你的手风琴组。这边走：

```
<div class="row">
<div class="accordion">

<div class="span6">
    <div class="accordion-group">
        ...
    </div>
</div>

<div class="span6">
    <div class="accordion-group">
        ...
    </div>
</div>

</div><!-- closes .accordion-->
</div><!-- closes .row--> 
```

然后您可以覆盖 css 以删除不需要的边距和填充。告诉我这是否是您展示手风琴的方式。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-10T02:25:13.930

我想我可能有一个外部解决方案，可以为您提供所需的功能。它使用 jQuery UI 而不是 Bootstrap。您可能会发现它更容易使用。

一定要检查 fiddle 有很多 css

[jsFiddle](http://jsfiddle.net/apaul34208/M3mEX/2/)

html

```
<h6 id="click1">Click Me!</h6>

    <div>some content</div>

<h6 id="click2">Click Me Too!</h6>

    <div>some more content</div>
     <h6 id="click3">Click Me Three!</h6>

    <div>wait, there's more content!</div>
</div> 
```

js

```
$(function () {
    $(".accordion").show().accordion({
        heightStyle: "content",
        collapsible: true,
        active: false,
        animate: {
            duration: 1000,
            easing: 'easeOutBounce'
        }
    });
}); 
```

# java - ScheduledExecuterService.scheduleAtFixedRate 创建多个线程池 - Android

> ID：15826661
> 
> 赞同：4
> 
> 时间：2013-04-05T05:36:27.837
> 
> 标签：java, android, dalvik, executorservice, scheduledexecutorservice

我在我的 Android 应用程序中有一个`AsyncTask`调用`UploadManager`，它检查已处理的项目，并将它们上传到服务器。
为此，我使用`ScheduledExecutorService.scheduleAtFixedRate`1 分钟后检查项目，并将它们上传到服务器。
但是，有时会创建多个线程池（这种情况大约有 10% 的情况发生），因此有时会向服务器发送两次相同的请求，尽管这种并发性是在服务器和客户端级别处理的，但我仍然不希望这种情况发生在客户端。
下面是代码的样子。
在 MainActivity (start-activity) 中，我将 UploadManager 启动为：

```
public class MainActivity extends BaseActivity {

   @Override
   public void onCreate(Bundle savedInstanceState) {
       super.onCreate(savedInstanceState);
       .
       .
       .
       new UploadManager().execute(this);
   }
} 
```

`UploadManager`工作方式如下：

```
public class UploadManager extends AsyncTask<Context, Integer, Integer> {

    private ScheduledExecutorService scheduledExecutorService;
    private static final int NUM_OF_THREADS = 5;
    private static final int DELAY_IN_SECONDS = 60;
    private Context context;
    private final Logger logger = new Logger(getClass().getSimpleName());

    protected Integer doInBackground(Context... context) {
        this.context = context[0];
        scheduledExecutorService = Executors.newScheduledThreadPool(NUM_OF_THREADS);
        scheduledExecutorService.scheduleAtFixedRate(postInformation, 5, DELAY_IN_SECONDS, TimeUnit.SECONDS);
       return 0;
    }

    private Runnable postInformation = new Runnable() {
        @Override
        public void run() {
            if (NetworkManager.isInternetAvailable(context)) {
                uploadAcknowledgement();
            }
        }
    };

    private void uploadAcknowledgement() {
        List<Acknowledgement> ackList = null;
        try {
            logger.info("RUNNING TASK TO POST ACKNOWLEDGEMENT");
            .
            .
        }
    }
} 
```

当我检查日志时，它说：

```
35119 [pool-2-thread-1] INFO  Upload Manager - [1363841355530] : 21/03/2013 10:19:15 : RUNNING TASK TO POST ACKNOWLEDGEMENT  
35122 [pool-3-thread-1] INFO  Upload Manager - [1363841355532] : 21/03/2013 10:19:15 : RUNNING TASK TO POST ACKNOWLEDGEMENT 
```

这清楚地表明现在有多个线程池，因此，`uploadAcknowledgement()`方法被多次调用。

MainActivity 在 AndroidManifest.xml 中声明为：

```
<application android:label="@string/app_name" android:icon="@drawable/icon">
    <activity android:name="MainActivity"
              android:label="@string/app_name"
              android:theme="@android:style/Theme.NoTitleBar">
        <intent-filter>
            <action android:name="android.intent.action.MAIN"/>
            <category android:name="android.intent.category.LAUNCHER"/>
            <action android:name="android.net.conn.CONNECTIVITY_CHANGE"/>
        </intent-filter>
    </activity>
    .
    . 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-16T17:19:18.873

我最终找到了原因，如果`ScheduledExecutor`' 的服务运行重叠，那么它会产生新的工作线程（例如，在这种情况下`postInformation()`会创建一个新的工作线程），最终会产生一个新的池。
但是，可以通过使用[newSingleThreadScheduledExecutor](http://docs.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/Executors.html#newSingleThreadScheduledExecutor%28%29)而不是`newScheduledThreadPool(int corePoolSize)'`.
因此，不要将 `scheduledExecutorService' 初始化为：

```
scheduledExecutorService = Executors.newScheduledThreadPool(NUM_OF_THREADS); 
```

它应该被初始化为：

```
scheduledExecutorService = Executors.newSingleThreadScheduledExecutor(); 
```

这样可以确保没有多个工作线程在运行。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-13T05:48:37.890

您有一个包含 N 个文件的列表，并启动了 X 个线程来上传它，而没有指定哪个线程来选择哪个文件。解决此问题的一种方法是将要上传的文件添加到阻塞队列中，并让线程从队列中选择要上传的文件。这样就不会选择两次文件。

# sql - 将表中的内容复制到存储过程中以进行备份和存储

> ID：15826665
> 
> 赞同：0
> 
> 时间：2013-04-05T05:36:44.767
> 
> 标签：sql, stored-procedures, backup

我有一个关于引发错误并将表中的内容复制到存储过程中的问题。

我需要做的是将员工信息移动到存档表进行存储和备份，当员工编号不存在时引发错误消息，并且只移动没有销售的员工记录，目前我被困在我之后该怎么办'确保销售编号和员工编号都不为空。这是我到目前为止所拥有的：

```
 Create Procedure ArchiveEmployeeTranactions 
        (
        @SaleNumber int,
        @EmployeeNumber int
        )
        AS
        SELECT     sale.employeeNumber, employee.FirstName, employee.LastName, sale.saleNumber
        FROM         employee INNER JOIN
                              sale ON employee.EmployeeNumber = sale.employeeNumber

                            IF @SaleNumber is null 
                            BEGIN
                            RAISERROR ('Please enter valid Sale Number',16,1) 
                            END

                            Else
                            BEGIN
                            IF @EmployeeNumber is null
                            RAISERROR ('Please enter Valid Employee Number',16,1)
                            END 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T06:20:20.277

```
 Create Procedure ArchiveEmployeeTranactions 
        (
           @SaleNumber int,
           @EmployeeNumber int
        )
  AS
  BEGIN
        IF @SaleNumber is null 
        BEGIN
           RAISERROR ('Please enter valid Sale Number',16,1) 
        END

```
 Else IF @EmployeeNumber is null
       RAISERROR ('Please enter Valid Employee Number',16,1)
    END

    INSERT INTO Archive
    SELECT     sale.employeeNumber, 
               employee.FirstName, 
               employee.LastName, 
               sale.saleNumber
    FROM  employee 
    INNER JOIN sale 
    ON employee.EmployeeNumber = sale.employeeNumber
    WHERE employee.employeeNumber=@EmployeeNumber 
      and sale.saleNumber=@SaleNumber 
``` `END` 
```

# javascript - 正则表达式验证 JavaScript 中的连续字符或数字？

> ID：15826668
> 
> 赞同：0
> 
> 时间：2013-04-05T05:36:59.050
> 
> 标签：javascript

我需要使用 JavaScript 验证字符串是否呈现为连续字符，例如 abc、def、ghi 或 123,234,345,456 等，希望通过错误或警报消息。匹配模式或表达式是否有任何可能性来验证这种情况。请如果有任何遇到，请尽快让我知道。

提前致谢！！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T05:43:00.967

正则表达式不是这个方法。更好的做法是遍历字符串中的所有字符，检查每个字符是否比最后一个 using 大一`str.charCodeAt()`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T05:44:28.440

不应该为此使用正则表达式。它们没有“记忆”，这意味着您无法动态查找此类序列。相反，您必须手动构建**每个可能的可接受序列。**

一个更好的主意是使用 for 循环来遍历您的字符串并做出必要的断言，如下所示：

```
for (var i = 0; i < str.length; ++i) {
    if (str.charCodeAt(i) === str.charCodeAt(i + 1) - 1 &&
        str.charCodeAt(i) === str.charCodeAt(i + 2) - 2) {
        var ret = str.substr(i, i + 3);
        // do whatever you want to do with the match
    }
} 
```

# rest - 使用rest通过http访问sharepoint 2013列表时访问被拒绝

> ID：15826676
> 
> 赞同：1
> 
> 时间：2013-04-05T05:37:23.910
> 
> 标签：rest, sharepoint-2013

我试图通过 HTTPS 使用 REST 访问 sharepoint 2013 列表

我使用了以下语法

[https://name.sharepoint.com/sites/siteName/_api/web/lists](https://name.sharepoint.com/sites/siteName/_api/web/lists)

但它会返回一条错误消息，显示**访问被拒绝。您无权执行此操作或访问此资源**

我应该在某处给予许可吗？请求可能有什么问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-16T10:03:30.020

In the future post this on sharepoint.stackexchange.com bud you will get a faster answer, I only saw this by accident on a google query.

Basically this is by design, it isn't about giving permission only pre authorised accounts will get direct access without authentication and then it is security trimmed after that.

Otherwise you need to authenticate against the api with OAUTH.

The rest api being a massive subject that I cannot possibly cover here I recommend you google:

"using oauth sharepoint rest api"

Some good links are:

[http://msdn.microsoft.com/en-gb/library/jj164022.aspx](http://msdn.microsoft.com/en-gb/library/jj164022.aspx)
[http://www.sharepointnutsandbolts.com/2013/01/calling-sharepoint-search-using-rest-eg.html](http://www.sharepointnutsandbolts.com/2013/01/calling-sharepoint-search-using-rest-eg.html)

Good luck matey.

# .net - 建立与数据库的连接时不使用 NHibernate connection.isolation 设置

> ID：15826678
> 
> 赞同：0
> 
> 时间：2013-04-05T05:37:30.903
> 
> 标签：.net, nhibernate

我创建了一个 .net 应用程序，它使用 NHibernate 2.1.0.4000 连接 SQL 服务器，配置如下。

```
<nhibernate xmlns="urn:nhibernate-configuration-2.2">
    <session-factory>
      <property name="connection.provider">NHibernate.Connection.DriverConnectionProvider</property>
      <property name="connection.driver_class">NHibernate.Driver.SqlClientDriver</property>
      <property name="connection.connection_string">Server=(local);database=MYDB;Integrated Security=SSPI;</property>
      <property name="dialect">NHibernate.Dialect.MsSql2008Dialect</property>
      <property name="show_sql">false</property>
      <property name="proxyfactory.factory_class">NHibernate.ByteCode.Castle.ProxyFactoryFactory, NHibernate.ByteCode.Castle</property>
      <!-- Specifying the default schema improves the query execution plan generated by SQL server -->
      <property name="default_schema">dbo</property>
      <property name="connection.isolation">ReadUncommitted</property>
      <!-- Specifying the 2nd level cache -->
      <property name="cache.provider_class">NHibernate.Caches.SysCache.SysCacheProvider, NHibernate.Caches.SysCache</property>
      <property name="cache.use_second_level_cache">true</property>
      <property name="cache.use_query_cache" >true</property>
      <mapping assembly="MyAssemply" />
    </session-factory>
  </nhibernate> 
```

在 Nhibernate 配置中，隔离级别指定为`ReadUncommitted`. 但是在建立与数据库的连接时不使用隔离级别。相反，它采用默认的隔离级别`ReadCommitted`来继续。进行一些调查后观察到，如果`session.BeginTransaction()`在代码中指定了隔离级别，则将隔离级别作为配置值。有没有办法在不设置`session.BeginTransaction()`.

请分享你的想法。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-05T15:17:53.607

行为是正确的。

事务隔离级别在启动事务时设置。这与您在显式事务中完成所有工作的建议是一致的。

# ios - PrestaShop 导入项目以显示在 iOS 应用程序中

> ID：15826679
> 
> 赞同：3
> 
> 时间：2013-04-05T05:37:47.163
> 
> 标签：ios, prestashop

我有一个新项目，我需要在 PrestaShop 上工作并创建一个通用移动应用程序。我没有得到任何关于您如何在 iOS 应用程序中使用它来获取不同类别的项目、项目的搜索 API 等的任何信息。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-21T07:06:20.193

PrestaShop 实现了一个功能齐全的 RESTful Web 服务。

您需要在 Advanced Parameters > Web Service 中启用 Web 服务，然后使用位于[http://doc.prestashop.com/display/PS15/Using+the+PrestaShop+Web+Service的指南和操作方法](http://doc.prestashop.com/display/PS15/Using+the+PrestaShop+Web+Service)

您在 github 上还有一个示例库：[https ://github.com/PrestaShop/PrestaShop-webservice-lib](https://github.com/PrestaShop/PrestaShop-webservice-lib)

# wolfram-mathematica - 相等的价值=相等的等级

> ID：15826681
> 
> 赞同：1
> 
> 时间：2013-04-05T05:38:02.887
> 
> 标签：wolfram-mathematica

我想对列表的元素进行排名，以使具有相同值的元素也获得相同的排名：

```
list = {1, 2, 3, 4, 4, 5} 
```

所需的输出：

```
ranks = {5, 4, 3, 2, 2, 1} 
```

`Ordering[]`几乎做了我想要的，但为`4`列表中的两个实例分配了不同的等级。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T19:45:29.190

我不确定我是否涵盖了您想到的所有内容，但以下代码将提供所需的输出。它假定最小值是最高等级，并且应该与数值一起使用，或者只要您对 Mathematica 的标准排序顺序没问题。局部变量 dv 是“不同值”的简称。

```
 FromListToRanks[k_List]:= Module[ {dv=Reverse[Union[k]]},
    k /. Thread[dv -> Range[Length[dv]]] ]

  FromListToRanks[list]

  {5,4,3,2,2,1} 
```

# javascript - Javascript、Ajax 和警报不起作用

> ID：15826687
> 
> 赞同：0
> 
> 时间：2013-04-05T05:38:34.497
> 
> 标签：javascript, ajax, django

我是 Javascript 和 Ajax 的新手，想弄清楚为什么下面的代码不起作用。

```
<script type="text/javascript">
  $(document).ready(function() {
    $('.cadlib').bind('click', function () {
      $.get("/models/"+this.id+"/viewmodelinfo/", function(data) {
        alert ("yo");  // This line bellow doesn't execute
        if (data.fact_type=="T") {
          guess_result="This fact is true! " + data.fact_note;
        } else {
          alert ("yo");
          guess_result="This fact is false! " + data.fact_note;
        }
        $('#result').replaceWith("guess_result");
      });
   });
});
</script> 
```

这是我的 HTML

```
<a href = "#mySymbolModal" class = "cadlib" id = "{{symbol.id}}" data-toggle="modal" style = "text-align:center; color: #FF761A;" href="/models/{{symbol.id}}/view_model/"><span id = "modelname"> {{symbol.modelname.upper}}</span> - <span id = "format">{{ symbol.format }}</span><span id = "adder" style="visibility:hidden;">{{symbol.adder}}</span><span id = "adderid" style="visibility:hidden;"> {{symbol.adder.id}}</span><span id = "symbolobject" style="visibility:hidden;">{{symbol}}</span></a> 
```

我认为注释行有问题。我的警报没有实例化。

有什么我遗漏的东西会导致警报不起作用吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T06:01:13.067

我猜它是'this.id'，尝试在$.get 之前使用alert(this.id) 来查看它产生（或不产生）什么。

我做了类似的事情，应该给你的想法

```
$(".productpicturedelete").on("click", "input[type=button]", function(event){
        var $buttonid = $(this).attr("id"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T05:58:26.863

URL 字段中缺少数据源文件名：

$.get("/models/"+this.id+"/viewmodelinfo/<数据源文件名>", function(data) {..});

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-05T15:16:52.460

我几乎可以肯定 this.id 在这种情况下不存在

```
$.get("/models/"+this.id+"/viewmodelinfo/", function(data) 
```

this.id 应该是什么？你能解释一下吗

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-05T14:56:55.307

```
<script type="text/javascript">
    $(document).ready(function() {
        $('.cadlib').bind('click', function () {
            data_id = $(this).attr('id'); //add this

            $.get("/models/" + data_id + "/viewmodelinfo/", function(data) {
                alert ("yo");  // This line bellow doesn't execute
                if (data.fact_type=="T") {
                    guess_result="This fact is true! " + data.fact_note;
                } else {
                    alert ("yo");
                    guess_result="This fact is false! " + data.fact_note;
                }
                $('#result').replaceWith("guess_result");
            });
        });
    });
</script> 
```

# c# - 具有公共变量的线程

> ID：15826688
> 
> 赞同：1
> 
> 时间：2013-04-05T05:38:44.887
> 
> 标签：c#, multithreading

我正在构建一个 NFS 操纵杆来操纵 MouseWheel 事件。在我的主线程上，我调用了第二个线程，它以生成的频率脉冲键盘按键。我的问题是，当您向上或向下移动 MouseWheel 时，该频率会随时间动态变化，但模拟器线程不会注意到这种变化。这是我的代码片段：

```
int centro = 0;
static bool left;
static bool ismoving;
static int grado;
static int frec;

Thread simulator = new Thread(new ThreadStart(move));
public Form1()
{
    InitializeComponent();
}
static void mleft()
{
    KeyboardSimulator.KeyDown(Keys.G);
    Thread.Sleep(10);
    KeyboardSimulator.KeyUp(Keys.G);
}
static void mright()
{
    KeyboardSimulator.KeyDown(Keys.J);
    Thread.Sleep(10);
    KeyboardSimulator.KeyUp(Keys.J);
}
static void move()
{
    while (ismoving)
    {
        if (left)
        {
            mleft();
            Thread.Sleep(frec);
        }
        else
        {
            mright();
            Thread.Sleep(frec);
        }              
    }

}
void map()
{

    if (grado == 0)
    {
        ismoving = false;
        frec = 0;
    }
    else
    {
        int ut = 1000;//1seg
        left = grado > 0;
        grado = Math.Abs(grado);
        frec = ut / grado / 10;
        ismoving = true;
    }

}
private void Window_Closed_1(object sender, EventArgs e)
{
    simulator.Abort();
}
private void Form1_Load(object sender, EventArgs e)
{
    HookManager.MouseWheel += Window_MouseWheel_1;
    simulator = new Thread(new ThreadStart(move));
}
private void Window_MouseWheel_1(object sender, MouseEventArgs e)
{
    centro += e.Delta;
    grado = centro / 120;
    l1.Text = grado + "";
    map();
} 
```

# javascript - 想要加载 xml url 并使用 javascript 从中获取元素值

> ID：15826691
> 
> 赞同：0
> 
> 时间：2013-04-05T05:38:50.023
> 
> 标签：javascript, xml, xpath, xmldom

我有一个 XML 网址：

[http://services.gisgraphy.com/geoloc/search?lat=22.3000&lng=70.7833&radius1000](http://services.gisgraphy.com/geoloc/search?lat=22.3000&lng=70.7833&radius1000)

我想加载这个 url 并获取`<asciiName>`元素值。
将其存储到不同的变量中。尽可能
使用。`javascript`

# ruby-on-rails-3 - rails 3 + shoulda + 基于回调的验证

> ID：15826694
> 
> 赞同：3
> 
> 时间：2013-04-05T05:39:03.553
> 
> 标签：ruby-on-rails-3, shoulda

我是新来的。我的许多模型都有如下验证

```
validates :sampling_method, :presence => true, :if => :type_of_resource
validate :check_for_decimal_places, :if => :is_size_and_gdnt, :on => :update 
```

这里， type_of_resource 和 is_size_and_gdnt 是模型的实例方法

我首先应该验证的是

```
it { should validate_presence_of(:sampling_method) } 
```

但我不知道如何添加检查**if**

我已经通过使用工厂女孩创建一个对象来检查第二个验证，并在保存对象时检查它的值但是我如何使用**shoulda测试第二个验证**

# javascript - 如何将 ArryList 或对象数组从 C# 传递到 Javascript？

> ID：15826696
> 
> 赞同：0
> 
> 时间：2013-04-05T05:39:06.670
> 
> 标签：javascript, arrays, linq, object, client-side

我正在按照以下方式在 c# 中`list`使用它，它工作正常。`linq`

```
lst = (from n in dbEntity.Popup_Notes
       select n).ToList(); 
```

现在，我想**从客户端使用这个列表作为对象数组**。当用户单击链接时，它将根据名称选择显示特定的注释描述。

**编辑**

我想要这样的东西..

![在此处输入图像描述](https://i.stack.imgur.com/wvB9e.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T07:51:30.080

我认为您需要将列表转换为 JSON 并返回到客户端。在客户端，您可以使用 knockout.js 将数据绑定到您的控件，这种方式比手动绑定更容易。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T07:37:17.340

看看[JSON.NET](http://json.codeplex.com/)

将您的对象序列化为 JSON 以将其传递给您的 JavaScript 代码。

在您的 javascript 代码中，使用[jQuery.parseJson](http://api.jquery.com/jQuery.parseJSON/)解析 JSON 文本并根据收到的 JSON 文本构建 javascript 对象。

# php - 如何将 Unicode 的 HTML 代码转换为真正的 Unicode 字符

> ID：15826697
> 
> 赞同：0
> 
> 时间：2013-04-05T05:39:08.873
> 
> 标签：php, unicode

有没有可以转换的php函数

```
&#1575;&#1576;&#1576; 
```

与它相等的 unicode 字符

```
ت ب ا 
```

我用谷歌搜索了很多，但我认为没有任何 PHP 内置函数可用于此目的。实际上，我想将用户提交的评论（以 unicode 字符表示）存储到 mysql 数据库。但是它以这种格式存储`&#1575;&#1576;&#1576;`在mysql数据库中。我也在`SET NAMES 'utf8'`mysql查询中使用。输出是真正的 unicode 字符，很好，但是 mysql 中的插入是`&#1575;&#1576;&#1576;`我不想要的这种格式。有什么解决办法？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T05:52:28.747

如果你

1 - 设置`utf-8`包含表单的 html 页面的 lang 编码
2 - 仅使用表单将输入输入到相关的 MySQL db 表中
3 - 将所有排序规则设置为`utf8_unicode_ci`MySQL（表和行排序规则）
4 - 如果您有权限还可以将您的 MySQL 数据库排序规则设置为 `utf8_unicode_ci`

那么你也不会在你的 mySQL 记录中看到实体

这是我使用的解决方案，并且对我的母语也没有任何问题，它也有很多 unicode 字符。

下面我向您介绍我的数据库连接php代码和推荐（使用准备好的语句；请查看[http://php.net/manual/en/mysqli.quickstart.prepared-statements.php](http://php.net/manual/en/mysqli.quickstart.prepared-statements.php)）

```
//mysql bağlantısı
global $db_baglanti;
$db_baglanti = new mysqli(vt_host, vt_user, vt_password, vt_name);
if ($db_baglanti->connect_errno) 
{
    echo "MySQL bağlantısı kurulamadı: (" . $mysqli->connect_errno . ") " . $mysqli->connect_error;
}

if (!$db_baglanti->set_charset("utf8")) 
{
    printf("utf8 karakter setinin yüklenmesinde problem oluştu: %s\n", $db_baglanti->error);
} 
else 
{
    $db_baglanti->set_charset("utf8");
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-05T05:44:51.830

我用谷歌搜索并在[这里找到了一个非常有趣的解决方案](http://www.php.net/manual/en/function.html-entity-decode.php#51722)

我也试过了，我认为它的工作原理

```
<?php
    $trans_tbl = get_html_translation_table(HTML_ENTITIES);
    foreach($trans_tbl as $k => $v)
    {
        $ttr[$v] = utf8_encode($k);
    }
    $text = '&#1575;&#1576;&#1576';
    $text = strtr($text, $ttr);
    echo $text;
?> 
```

对于 mysql 解决方案，您可以将字符集设置为

```
$mysqli = new mysqli($host, $user, $pass, $db);

if (!$mysqli->set_charset("utf8")) {
die("error");
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-05T05:45:18.067

我认为您应该能够使用`mysql_set_charset()` [http://php.net/manual/en/function.mysql-set-charset.php](http://php.net/manual/en/function.mysql-set-charset.php)来设置 mysql 连接编码，因此当您从数据库中检索这些并显示它们时，它们应该没问题.

根据 php.net，“该扩展自 PHP 5.5.0 起已弃用，未来将被删除。应使用 MySQLi 或 PDO_MySQL 扩展。”

# ajax - 在struts2的下拉列表中显示JSON数据

> ID：15826700
> 
> 赞同：2
> 
> 时间：2013-04-05T05:39:32.513
> 
> 标签：ajax, json, struts2, drop-down-menu

我的代码做得很好。但我对一个问题感到震惊。我想在 struts2 的选择框中填充 json 数据。

我正在做的是..我在单击按钮并显示表单时发送 ajax 请求。

表单最初具有属性 display none。当我单击按钮时，它会变为阻止。

但是每当我在浏览器中打开我的 jsp 页面时都会出现一个错误。

> 请求的列表键“类别”无法解析为集合

我的 struts.xml

```
<?xml version="1.0" encoding="UTF-8" ?> <!DOCTYPE struts PUBLIC
    "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
    "http://struts.apache.org/dtds/struts-2.0.dtd"> <struts> <constant name="struts.custom.i18n.resources" value="LoginAction" />
    <package name="default" extends="struts-default" namespace="/">
        <action name="Login" class="com.agents.cb.LoginAction" >
            <result name="success" type="redirect">Welcome.jsp</result>
            <result name="input">login.jsp</result>
        </action>
        <action name="Register" method="register" class="com.agents.cb.LoginAction"  >
            <result name="success">login.jsp</result>
        </action>
    </package>
    <package name="admin" extends="json-default" namespace="/admin">
        <action name="addCategory" method="addCategory" class="com.type.user.Admin"  >
            <result type="json">
                <param name="excludeNullProperties">true</param>
                <param name="excludeProperties">
                    catName,catCode
                </param> 
            </result>
        </action>
        <action name="categories" method="categories" class="com.type.user.Admin"  >
            <result type="json">
                <param name="excludeNullProperties">true</param>
                <param name="excludeProperties">
                    catName,catCode,status
                </param> 
            </result>
        </action>
    </package> </struts> 
```

Admin.java 文件

```
package com.type.user;

import java.io.PrintWriter;

import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import com.opensymphony.xwork2.ActionSupport;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.util.HashMap;

import com.type.product.*;

public class Admin extends ActionSupport {
    private String catCode;
    private String catName;
    private HttpServletRequest request;
    private Map<String, String> categories = new HashMap<String, String>();;

    private String status;

    public Map<String, String> getCategories() {
        return categories;
    }

    public void setCategories(Map<String, String> categories) {
        this.categories = categories;
    }

    public void setServletRequest(HttpServletRequest request) {
        this.request = request;
    }

    public String getCatCode() {
        return catCode;
    }

    public void setCatCode(String catCode) {
        this.catCode = catCode;
    }

    public String getCatName() {
        return catName;
    }

    public void setCatName(String catName) {
        this.catName = catName;
    }

    public String getStatus() {
        return status;
    }

    public void setStatus(String status) {
        this.status = status;
    }

    public String addCategory() {
        Product prod = new Product();
        boolean flag = prod.addCat(catCode, catName);
        //boolean flag=false;
        if (flag) {
            status=catName+" added successfully.";
            return SUCCESS;
        } else {
            status="Error occurred while adding "+catName;
            return SUCCESS;
        }
    }

    public String categories(){
        System.out.println("step 1");
        Product prod=new Product();
        categories=prod.getAllCategories();
        return SUCCESS;
    }
} 
```

我在jsp页面上的脚本

```
$(".add_sub_category").click(function(e){
                e.preventDefault();
                $.ajax({
                    url : '/Login/admin/categories',
                    type : 'POST',
                    dataType : 'json',
                    sucess : function(resp) {
                        console.log(resp);
                    }
                });             
            }); 
```

请帮忙。我在哪里做错了？以及为什么我有这个问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T07:37:51.653

你声明了这个

```
<package name="admin" extends="json-default" namespace="/admin">
    <action name="categories" method="categories" class="com.type.user.Admin"  > 
```

但你正试图调用它

```
url : '/Login/admin/categories', 
```

将其更改为您声明的路径：

```
url : '/admin/categories', 
```

因为 Login 没有在任何地方定义为命名空间的一部分。

在使用不同的命名空间时也要注意......

希望有帮助

# java - 什么是 AbstractTestNGSpringContextTests

> ID：15826705
> 
> 赞同：12
> 
> 时间：2013-04-05T05:39:57.640
> 
> 标签：java, spring, unit-testing, spring-mvc, testng

我有一个 TestNG 类，如下所示：

```
public class WebAPITestCase extends AbstractTestNGSpringContextTests{.....} 
```

我试图理解这意味着什么`extends AbstractTestNGSpringContextTests`。

它是如何工作的，它的用途是什么？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-05T05:46:59.090

请阅读 javadoc：

> AbstractTestNGSpringContextTests 是一个抽象的基础测试类，它将 Spring TestContext 框架与 TestNG 环境中的显式 ApplicationContext 测试支持集成在一起。当您扩展 AbstractTestNGSpringContextTests 时，您可以访问一个受保护的 applicationContext 实例变量，您可以使用它来执行显式 bean 查找或测试整个上下文的状态。

基本上将为测试类设置一个弹簧应用程序上下文。

如果这仍然没有意义，我建议您阅读[此](https://docs.spring.io/spring/docs/current/spring-framework-reference/testing.html#testcontext-support-classes-testng)内容。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2019-03-21T11:58:41.150

首先，[TestNG](https://testng.org/doc/index.html)（代表 Test Next Generation）是一个受 JUnit 和 NUnit 启发的测试框架，但引入了一些新功能，使其更强大且更易于使用，例如测试您的代码是否是多线程安全的、强大的执行模型等。

该类`AbstractTestNGSpringContextTests`包括 spring `ApplicationContext`。为了在执行 TestNG 测试时使其可用，`AbstractTestNGSpringContextTests`具有使用**TestNG**注释（如[`@BeforeClass`](http://static.javadoc.io/org.testng/testng/6.9.4/org/testng/annotations/BeforeClass.html)和）注释的方法[`@BeforeMethod`](http://static.javadoc.io/org.testng/testng/6.9.4/org/testng/annotations/BeforeMethod.html)。

因此，要拥有使用 Spring 组件运行 TestNG 的功能，剩下要做的就是扩展`AbstractTestNGSpringContextTests`.

顺便说一句，`AbstractTransactionalTestNGSpringContextTests`扩展 `AbstractTestNGSpringContextTests`. 它不仅提供事务支持，而且还为 JDBC 访问提供了一些便利功能。

# android - 如何从与 GridView 关联的 Cursor 获取数据

> ID：15826708
> 
> 赞同：0
> 
> 时间：2013-04-05T05:40:13.300
> 
> 标签：android

我有 GridView 并使用 SimpleCursorAdapter 来显示数据库中的数据。当我单击 GridView 上的项目时，我想获取与当前元素关联的数据。我该怎么做？那是我的适配器代码：

```
public class ReceiptAdapter  extends SimpleCursorAdapter {
private Context context;
private Cursor cursor;
private int layout;
private Map<Object,String> receipt_id_cursor_id=new HashMap<Object,String>();

//public ReceiptAdapter(Context context, ArrayList<Receipt> receiptValues) {
public ReceiptAdapter(Context _context, int _layout, Cursor _cursor, String[]         _from, int[] _to){    
    super(_context, _layout, _cursor, _from, _to);
    cursor = _cursor;
    layout = _layout;
    this.context = _context;
}

@Override
public View newView(Context _context, Cursor _cursor, ViewGroup parent) {
     LayoutInflater inflater = (LayoutInflater) _context.getSystemService(_context.LAYOUT_INFLATER_SERVICE);

     View view  = inflater.inflate(layout, null);
     return view;
}

@Override
public void bindView(View view, Context _context, Cursor _cursor) {

receipt_id_cursor_id.put(_cursor.getPosition(), _cursor.getString(_cursor.getColumnIndex(ReceiptEntry.COLUMN_NAME_RECEIPT_NAME))) ;  

 TextView textView = (TextView) view
            .findViewById(R.id.grid_item_label);
 textView.setText(_cursor.getString(_cursor.getColumnIndex(ReceiptEntry.COLUMN_NAME_RECEIPT_NAME)));
    // set image based on selected text
    ImageView imageView = (ImageView) view
            .findViewById(R.id.grid_item_image);

    imageView.setImageResource(App.getInstance().getResources().getIdentifier(_cursor.getString(_cursor.getColumnIndex(ReceiptEntry.COLUMN_NAME_IC_NAME)) , 
                            "drawable", App.getInstance().getPackageName()));
}

@Override
public int getCount() {
    //return receiptValues.size()-1;
    return cursor.getCount();
}

@Override
public Cursor getItem(int position) {
    //return receiptValues.get(position);
     return this.getCursor();

    //return cursor;
}

@Override
public long getItemId(int position) {
    return cursor.getPosition();
    //return position;
} 
```

当 bindView 工作时，我看到光标改变了它的位置。但是当我按下项目时，我不知道什么方法可以给我当前的光标位置。例如，在 public long getItemId(int position) 中，我得到参数“位置”，它显示了网格中的当前位置。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T05:50:44.820

在**public long getItemId(int position) 方法**中编写以下代码。

```
cursor.moveToPosition(position); 
```

然后在您的听众中直接访问您的光标。

# android - 未发现时的 Android 接近传感器

> ID：15826709
> 
> 赞同：0
> 
> 时间：2013-04-05T05:40:13.957
> 
> 标签：android, proximitysensor

我在使用接近传感器的项目中工作，我的程序应该在接近传感器被覆盖时使手机静音，并在传感器未被覆盖时恢复正常。我设法编写了传感器何时被覆盖的代码，但是当传感器未被覆盖时我不知道该值有多远，当传感器未被覆盖时我需要一个代码来取消静音。

```
@Override
public void onSensorChanged(SensorEvent event) {
     audio.setRingerMode(AudioManager.RINGER_MODE_SILENT);

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T05:58:31.900

```
public void onSensorChanged(SensorEvent event) {
   // TODO Auto-generated method stub

   if(event.sensor.getType()==Sensor.TYPE_PROXIMITY){

      if(event.values[0]<5){ audio.setRingerMode(AudioManager.RINGER_MODE_youwant);}else{ audio.setRingerMode(AudioManager.RINGER_MODE_SILENT);}
   }
  } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T05:59:27.940

这是静音/取消静音的代码

```
AudioManager   mAudioManager = (AudioManager) this.getSystemService(Context.AUDIO_SERVICE);
                int current_volume =mAudioManager.getStreamVolume(AudioManager.STREAM_MUSIC);
                //If you want to player is mute ,then set_volume variable is zero.Otherwise you may supply some value.
                int set_volume=0;
                mAudioManager.setStreamVolume(AudioManager.STREAM_MUSIC,set_volume, 0); 
```

# sql-server - 使用 SQL Server 增强性能缓慢的数据库平台

> ID：15826713
> 
> 赞同：0
> 
> 时间：2013-04-05T05:40:36.143
> 
> 标签：sql-server, database-design, odbc, response-time

我已经编写了一个与 MSSQL 一起使用的应用程序，并且该公司已经开始使用较慢的数据库平台开发应用程序（我暂时不命名它）。所有数据都*将从 SQL 迁移*到新的较慢平台，我的任务是更改我的应用程序以指向新平台，同时找到一种方法让它保持足够快的速度，以便它将可以使用。

测试表明，新平台以秒为单位计算速度较慢，而 SQL 以毫秒为单位执行。我已经决定不可能使用新的较慢的数据库平台来支持我的应用程序，因为它的作用。我希望数据保留在 SQL 中。

这使我认为我可以将数据从较慢的平台同步到 SQL 以便为我的应用程序提供服务，但是该应用程序还需要*写入*新的较慢的数据库！

还有一些限制：

*   应用程序和数据库部署在同一个本地网络中。
*   该应用程序允许多个用户编辑数据，并防止用户在其他人查看同一记录时对其进行编辑。
*   该应用程序依赖于至少 15 个表，其中最大的表有大约 60 列。

将数据从较慢的数据库同步回 SQL，然后重新编程应用程序以同时写入两个数据库是最有效的方法吗？

# ios - 如何在 UIModalPresentationFormSheet 中调整 UIWebView 的大小？

> ID：15826714
> 
> 赞同：7
> 
> 时间：2013-04-05T05:40:39.927
> 
> 标签：ios, ipad, webview, formview

我尝试了人类已知的所有排列，但我无法让 UIWebView 在 iPad 的模态表单视图中正确调整大小。该网页仍显示 768 磅的完整 iPad 纵向宽度。

我在哪里以及如何告诉 UIWebView 显示宽度 540 点？

我认为“scalesPageToFit”应该这样做，但它不起作用。

我尝试将 Web 视图设置为带有导航和状态栏的 540 x 576 的表单视图大小。不过身高无关紧要。

我尝试将 UIWebView 添加到情节提要中的 UIView 并设置所有调整大小。然后我删除了 UIWebView 并以编程方式添加了它。

```
- (void)viewDidLoad
{
    [super viewDidLoad];

    CGRect aFrame = self.view.frame;

    if (IS_IPAD)
    {
        aFrame = CGRectMake(0, 0, FORM_VIEW_WIDTH, FORM_VIEW_HEIGHT);
    }

    _webView = [[UIWebView alloc] initWithFrame:aFrame];
    [_webView setOpaque:NO];
    [_webView setDelegate:self];
    [_webView setScalesPageToFit:YES];

    self.view = _webView;
    ...
} 
```

我还尝试在 viewDidAppear 中加载（除了 viewDidLoad、viewWillAppear 等）

```
- (void)viewDidAppear:(BOOL)animated
{
    [super viewDidAppear:animated];

    [[self webView] setFrame:CGRectMake(0, 0, FORM_VIEW_WIDTH, FORM_VIEW_HEIGHT)];
    [[self webView] setScalesPageToFit:YES];

    NSURL *webURL = [NSURL URLWithString:@"http://www.google.com"];
    NSURLRequest *request = [NSURLRequest requestWithURL:webURL cachePolicy:NSURLRequestUseProtocolCachePolicy timeoutInterval:5.0f];
    [[self webView] loadRequest:request];
} 
```

任何建议表示赞赏。

![在此处输入图像描述](https://i.stack.imgur.com/78t3l.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-05T05:48:01.700

这一直发生在我身上。我发布了一个冗长的问题，然后两秒钟后我找到了答案。

无论如何，有人在这里发布了这个问题的解决方案： [UIWebView -- load external website, programmatically set initial zoom scale, and allow user to zoom after](https://stackoverflow.com/questions/8044769/uiwebview-load-external-website-programmatically-set-initial-zoom-scale-and)

但是，我更改了脚本以将宽度设置为 iPad 宽度：

```
- (void)webViewDidFinishLoad:(UIWebView *)webView
{
    NSString* js =
    @"var meta = document.createElement('meta'); "
    @"meta.setAttribute( 'name', 'viewport' ); "
    @"meta.setAttribute( 'content', 'width = 540px, initial-scale = 1.0, user-scalable = yes' ); "
    @"document.getElementsByTagName('head')[0].appendChild(meta)";

   [[self webView] stringByEvaluatingJavaScriptFromString: js];
} 
```

注意部分'宽度 = 540px，初始缩放 = 1.0，用户可缩放 = 是'

我将宽度更改为表单宽度并缩放为 1.0。

我还需要处理 iPhone，所以接下来我会对此进行调整。我认为这个修复可能只需要 iPad 表单视图。

更新：答案是短暂的。如果我加载任何其他页面，尺寸将再次被丢弃。回到原点。

解决方案：这个视图只需要访问我开发的几个网页。因此，我通过将元标记添加到每个网页来更新我需要访问的几个网页。我只需要访问这些页面，因此这是我计划采用的解决方案。这意味着我需要以某种方式仅将 iPad 的视口宽度设置为 540px。接下来我会弄清楚的。

```
<meta name="viewport" content="width:540, initial-scale=1, maximum-scale=1"> 
```

# javascript - d3线不画

> ID：15826716
> 
> 赞同：3
> 
> 时间：2013-04-05T05:40:51.797
> 
> 标签：javascript, d3.js

无论我做什么，我都无法得到一条线出现！

即使尝试这样做也不会在我的图表上显示任何内容！

```
var svg, myline;
svg = d3.select(element).append("svg").attr("width", 400).attr("height", 400);
myline = d3.svg.line();
svg.append("svg:path").attr("d", myline([[0, 0], [100, 100]])); 
```

我正在使用来自服务器的 d3：

```
<script src="http://d3js.org/d3.v3.min.js"></script> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-05T16:42:59.460

也许你应该包括一种`stroke-width`风格。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T06:35:32.420

请从 myline 中删除代码并添加并尝试

```
myline = svg.append('line')
             .attr("x1", 20)
            .attr("x2", 100)
        .attr("y1", 40)
        .attr("y2", 140)
        .style("stroke", "#ccc"); 
```

希望这可以帮助

# regex - 删除 variable=int 之前和之后的所有内容

> ID：15826723
> 
> 赞同：1
> 
> 时间：2013-04-05T05:41:24.323
> 
> 标签：regex, notepad++

我在正则表达式方面很糟糕，需要从大部分文本中删除所有内容，除了多次出现的某个变量声明，我喜欢删除除了 mc_gross=anyint 实例之外的所有内容。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-05T05:47:01.247

通常，我们需要使用“否定环视”来查找除指定字符串之外的所有内容。但是这些效率相当低（尽管在这种情况下您可能不太关心），并且并非所有正则表达式引擎都支持环视（不确定notepad ++，即使那样也可能取决于您使用的版本）。

如果您有兴趣了解该方法，请参阅[如何在正则表达式中否定特定单词？](https://stackoverflow.com/questions/1240275/how-to-negate-specific-word-in-regex)

但无论如何，由于您使用*的是*记事本++，我建议选择您的目标，然后反转选择。

这将选择每个实例，允许“=”符号两侧的可选空白。

```
mc_gross\s*=\s*\d+ 
```

以下关于超级用户的回答解释了如何在 notepad++ 中使用书签来实现“反向选择”：

[https://superuser.com/questions/290247/how-to-delete-all-line-except-lines- contains-a-word-i-need](https://superuser.com/questions/290247/how-to-delete-all-line-except-lines-containing-a-word-i-need)

用上面的替换他们在那里使用的正则表达式。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-05T11:01:23.397

你可以做一个正则表达式替换`^.*\b(mc_gross\s*=\s*\d+)\b.*$`with `\1`。这将删除除每行所需文本之外的所有内容。请注意，在所需文本出现两次或多次的行上，只会保留一次出现。在搜索中，`^.*\b`从行首到所需文本之前的单词边界的匹配；`\b.*$`匹配从所需文本之后的单词边界到行尾的所有内容；圆括号*捕获*替换文本的所需文本。`abcmc_gross=13def`如果应该匹配并保留诸如文本之类的文本，则从搜索中`mc_gross=13`删除`\b`s。

`^mc_gross\s*=\s*\d+$`要删除不需要的行，请从**标记**选项卡执行正则表达式搜索，勾选**书签行**并单击**全部标记**。然后使用**Menu** => **Search** => **Bookmark** => **Remove unmarked lines**。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-05T12:43:48.383

**查找内容：** `[\s\S]*?(mc_gross=\d+|\Z)`
**替换为：** `\1`

将光标放在文本的开头，然后**全部替换**。

如果您认为有必要，请`\b`在周围添加单词边界。`mc_gross=\d+`

# php - PHP，两页，一页中的选项在另一页中显示三种形式之一

> ID：15826726
> 
> 赞同：0
> 
> 时间：2013-04-05T05:41:50.233
> 
> 标签：php, forms, dynamic

我试图找出这个例子是如何制作的。有页面 A 和页面 B。页面 A 包含一个表单。在这个表单中，有用于选项、添加、删除和更新的单选按钮... 从页面 A 选择添加并按下提交，将打开页面 B.php，并显示添加表单。在Page A.php 中选择Delete 并提交将只显示相同的PageB.php，但现在显示的是Delete 表单而不是添加。等等。问题是，这是如何做到的。我听说同一页面上有多个表格，只有填写的表格会被执行，但我找不到上述完成的方式。有什么帮助吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T05:49:29.603

当您检查 PageB.php 时，代码将如下所示：

```
if($button == "delete") {
 //your code for delete 
}

if($button == "Add") {
 //your code for add 
} 
```

等等..

根据表单提交以及您获得的不同代码的值将在 Pageb.php 上执行

注意：上面的代码只是虚拟的，用来解释工作流程是怎样的。

# perl - Net::FTP 在上传 ZIP 档案时遇到问题？

> ID：15826729
> 
> 赞同：2
> 
> 时间：2013-04-05T05:41:51.633
> 
> 标签：perl, ftp, cpan

我正在尝试构建一个压缩目录并将其上传到 FTP 服务器的 perl 脚本。我已经让压缩部分工作了，但不幸的是，当上传到 FTP 服务器时，ZIP 文件总是被“破坏”（打开时出错：“存档意外结束”）。

我在这里做错了吗？

```
my $ftp = Net::FTP->new($host, Debug => 0) or die "Couldn't connect to $host: $!";
$ftp->binary();
$ftp->login($user, $password) or die "Couldn't login: $!";
$stat = $ftp->put($filename) or die "Couldn't upload file: $!"; 
```

> ID：15826731
> 
> 赞同：
> 
> 时间：
> 
> 标签：

None

# .net - 通用中间语言 (CIL) 的 IDE

> ID：15826739
> 
> 赞同：1
> 
> 时间：2013-04-05T05:42:51.657
> 
> 标签：.net, ide, cil

是否有一些用于编辑 CIL 代码的 IDE？我正在寻找具有嵌入式编译器/反编译器、语法突出显示、嵌入式文档等的特定 IDE。

ildasm+Sublime+ilasm 对我没有好处。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-05T06:24:17.183

有一个支持 IL 的扩展：[IL Support](http://visualstudiogallery.msdn.microsoft.com/44034a7b-143d-4b51-b7bc-99aa656ba137)

还要看看[xacc](http://sourceforge.net/projects/xacc/)。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-05T17:27:54.317

试试 SharpDevelop 3.xx ( [http://www.icsharpcode.net/OpenSource/SD/Download/#SharpDevelop3x](http://www.icsharpcode.net/OpenSource/SD/Download/#SharpDevelop3x) )，它提供语法高亮和自动构建，但不幸的是它不反编译现有的程序集。

您可能还想尝试使用 Reflexir 插件的 Reflector，但它的功能相当有限......

# .net - 正则表达式在 OpenFileDialog 过滤器字符串中查找第一个扩展名

> ID：15826744
> 
> 赞同：-2
> 
> 时间：2013-04-05T05:43:18.453
> 
> 标签：.net, regex, vb.net, winforms, .net-2.0

我想在`OpenFileDialog`文件过滤器字符串的扩展列表中找到第一个扩展。

考虑下面的例子 -

`Image Files(*.BMP;*.JPG;*.GIF)|*.BMP;*.JPG;*.GIF`

`Text files (*.txt)|*.txt`

对于第一种情况 - 现在如果用户尝试保存没有扩展名的文件，那么默认情况下我想将`.BMP`扩展名附加到文件名。

对于第二种情况 - 现在如果用户尝试保存没有扩展名的文件，那么默认情况下我想将`.txt`扩展名附加到文件名。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-05T06:01:34.253

您有一个属性`SaveFileDialog`可以将扩展名附加到无扩展名文件，请查看有关它的[MSDN 文档](http://msdn.microsoft.com/en-us/library/system.windows.forms.filedialog.defaultext.aspx)。

```
myOpenFile.DefaultExt = ".bmp" 
```

无论如何，您可以获得过滤器的第一个扩展，执行如下操作：

```
Dim sExt As String = sFilter.Split("|"c)(1).Split(";"c)(0) 
```

然后你需要以`*`你想要的方式清除，例如：

*   `sExt = sExt.Replace("*","")`
*   `sExt = sExt.SubString(sExt.LastIndexOf("."c))`

我向您推荐第二个示例，因为即使过滤器没有`*`并且具有更具体的文件名，它也会获得扩展名。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-05T15:33:05.317

与其使用正则表达式来拆分字符串，不如简单地使用 SysDragon 建议的 Split 函数 - 你没有理由不这样做。一旦你有了原始字符串的第二部分，那么这个正则表达式会让你成为唯一的匹配`BMP`项。`*.BMP;*.JPG;*.GIF`

```
^\|\*\.(\w{1,4}); 
```

简而言之，这说明了以下内容：

*   **^** 从字符串的开头开始
*   **\|** 找到一个管道字符（\ 分隔它，因为这相当于正则表达式中的 OR）
*   **\***查找单个 * 字符（再次分隔，因为 * 表示正则表达式中的“零次或多次重复”）
*   **\。**查找单个句点（分隔，因为这通常表示“任何字符”）
*   **(\w{1,4})**查找至少 1 个和最多 4 个字母数字字符。这是一个捕获组，因此您可以从匹配对象中获取它。
*   **;** 找一个分号

我任意选择了 1-4 个字母数字字符，但您可以根据需要对其进行调整，例如`{3}`，表示“正好找到三个”，`[A-Za-z]{1,3}`意思是“从字母 AZ 和 az 中找到至少一个和最多三个匹配项”。

由于您只想要第一个扩展，这将满足您的需求，但您始终可以修改模式以将所有扩展作为匹配集合提供给您。事实上，正则表达式甚至更简单（但是为什么在 1 可以返回*n*匹配项时呢？），我将把它作为学习练习 :-)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-05T11:36:38.940

我使用了两种不同的正则表达式来完成任务。我使用的第一个正则表达式是

```
(?<Name>[^|]*)\|(?<Extension>[^|]*)\|? 
```

打破名称和文件的表达

```
Image Files(*.BMP;*.JPG;*.GIF)|*.BMP;*.JPG;*.GIF 
```

分成两部分

*   `Image Files(*.BMP;*.JPG;*.GIF)`
*   `*.BMP;*.JPG;*.GIF`

然后我使用了正则表达式

```
\*\.(?<Name>[^;]\w*) 
```

就`Entension`第一个正则表达式组而言，以获得更多组，例如`BMP`, `JPG`，`GIF`然后进行第一个组匹配。我真的要感谢[Steve Pettifer](https://stackoverflow.com/users/60602/steve-pettifer)鼓励使用[Expresso](http://www.ultrapico.com/Expresso.htm)。

# javascript - TypeScript：创建一个空类型的容器数组

> ID：15826745
> 
> 赞同：261
> 
> 时间：2013-04-05T05:43:23.357
> 
> 标签：javascript, arrays, typescript

我正在 TypeScript 中创建简单的逻辑游戏，称为“犯罪之三”。

尝试在 TypeScript 中预分配类型化数组时，我尝试执行以下操作：

```
var arr = Criminal[]; 
```

这给出了错误“检查表达式术语的格式”。

也试过这样做

```
var arr : Criminal = []; 
```

这产生了“无法将任何 [] 转换为 'Criminal'

执行此操作的“TypeScript”方法是什么？

* * *

## 回答 #1

> 赞同：335
> 
> 时间：2017-04-05T12:10:42.087

现有的答案错过了一个选项，所以这里有一个完整的列表：

```
// 1\. Explicitly declare the type
var arr: Criminal[] = [];

// 2\. Via type assertion
var arr = <Criminal[]>[];
var arr = [] as Criminal[];

// 3\. Using the Array constructor
var arr = new Array<Criminal>(); 
```

1.  当变量声明的类型推断失败时，显式指定类型是通用的解决方案。

2.  使用[类型断言](https://basarat.gitbooks.io/typescript/docs/types/type-assertion.html)（有时称为强制转换，但在 TypeScript 中并不是真正的强制转换）的优势适用于任何表达式，因此即使没有声明变量也可以使用它。类型断言有两种语法，但如果你关心的话，只有后者才能与 JSX 结合使用。

3.  使用 Array 构造函数只会在这个特定用例中对您有所帮助，但我个人认为它最易读。但是，在运行时会有轻微的[性能影响](https://jsperf.com/new-array-vs-literal/15)*。此外，如果有人疯狂到重新定义 Array 构造函数，[其含义可能会改变](https://stackoverflow.com/questions/931872/what-s-the-difference-between-array-and-while-declaring-a-javascript-ar)。

这是个人喜好的问题，但我发现第三个选项最易读。在绝大多数情况下，上述缺点可以忽略不计，可读性是最重要的因素。

*： 有趣的事实; 在撰写本文时，Chrome 的性能差异为 60%，而 Firefox 则没有可测量的性能差异。

* * *

## 回答 #2

> 赞同：249
> 
> 时间：2013-04-05T05:43:23.357

由于数组文字语法，在 TypeScript 中正确预分配类型化数组的问题有些模糊，所以它不像我最初想象的那么直观。

正确的方法是

```
var arr : Criminal[] = []; 
```

这将为您提供一个存储在变量“arr”中的正确类型的空数组

希望这对其他人有帮助！

* * *

## 回答 #3

> 赞同：27
> 
> 时间：2016-08-09T08:46:15.007

我知道这是一个老问题，但我最近遇到了一个类似的问题，无法通过这种方式解决，因为我必须返回一个特定类型的空数组。

我有

```
return []; 
```

`[]`类型在哪里`Criminal[]`。

既不为我工作，`return: Criminal[] [];`也不`return []: Criminal[];`为我工作。

乍一看，我通过在返回它之前创建一个类型化变量（正如[您](https://stackoverflow.com/questions/15826745/typescript-creating-an-empty-typed-container-array/15826746#15826746)正确报告的那样）来解决它，但是（我不知道 JavaScript 引擎是如何工作的）它可能会产生开销并且它的可读性较差。

为了彻底起见，我也会在我的回答中报告这个解决方案：

```
let temp: Criminal[] = [];
return temp; 
```

最终我找到了 TypeScript 类型转换，它让我能够以一种更简洁、更易读（并且可能更高效）的方式解决问题：

```
return <Criminal[]>[]; 
```

希望这对未来的读者有所帮助！

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2021-01-26T22:14:49.327

请试试这个对我有用的。

```
return [] as Criminal[]; 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2019-04-22T14:21:40.133

供公众访问使用，如下所示：

```
public arr: Criminal[] = []; 
```

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2020-11-01T07:26:40.707

好的，您在这里的语法错误，正确的方法是：

```
var arr: Criminal[] = []; 
```

`func()`我假设您正在使用 var ，这意味着`let`在`var`.

如果将其声明为 c 类属性，则使用私有、公共、受保护等访问修饰符。

# javascript - 如何上下拖动一个div来滚动？

> ID：15826748
> 
> 赞同：0
> 
> 时间：2013-04-05T05:43:27.730
> 
> 标签：javascript, jquery, html, draggable

我希望能够拖动 div 向下滚动，而不是滚动条。

div 是一个栏，其中包含在线用户的个人资料图片。
到目前为止，我只能拖动一张个人资料图片。我希望能够拖动个人资料图片（一次全部）或拖动 div 以在溢出时滚动。

PS我只想要垂直滚动，jquery或javascript都适合我

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T05:45:33.323

这可能对你有用：[http](http://the-taylors.org/jquery.kinetic/)
: //the-taylors.org/jquery.kinetic/ jQuery.kinetic 是一个简单的插件，它添加了平滑的拖动滚动

# javascript - 访问函数内覆盖的全局变量

> ID：15826751
> 
> 赞同：6
> 
> 时间：2013-04-05T05:43:45.250
> 
> 标签：javascript, function, global-variables, overriding

当全局变量“x”被函数内的同名变量覆盖时，我想访问它。

```
function outer() {
   var x = 10;
   function overRideX() {
      var x = "Updated";
      console.log(x);
   };

  overRideX();
}

outer(); 
```

Jsbin：[小提琴测试](http://jsbin.com/oxalux/3/edit)

我不想将内部的“x”变量重命名为别的东西。这可能吗 ？

编辑：在 abeisgreat 答案后编辑问题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-05T05:44:35.767

您可以使用 window.x 来引用全局范围的变量。

```
var x = 10;
function overRideX() {
  var x = "Updated";
  console.log(x);
  console.log(window.x);
};

overRideX(); 
```

此代码记录“更新”然后 10。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-05T05:46:38.010

您的网页的全球范围是`window`. 因此，可以通过`window`对象访问全局范围内定义的每个变量。

```
var x = 10;
function overRideX() {
    var x = "Updated";
    console.log(x + ' ' + window.x);
}(); 
```

# xml - 使用 phonegap 检索 xml 数据

> ID：15826754
> 
> 赞同：0
> 
> 时间：2013-04-05T05:44:04.877
> 
> 标签：xml, cordova

我正在使用 phonegap 构建一个 android 应用程序。我想将 xml 数据从我的主机服务器检索到 android 应用程序。我的 XML 文件：[http](http://www.guitarmaddy.com/index.php?option=com_dmxmlexport&catid=8) ://www.guitarmaddy.com/index.php?option=com_dmxmlexport&catid=8 。我想获取所有标签内容并显示在 phonegap 应用程序中。

以前我用过：

$(文档).ready(函数(){

```
 $.ajax({
        type: "GET",
    url: "www.guitarmaddy.com/index.php?option=com_dmxmlexport&catid=8",
    dataType: "xml",
    success: function(xml) {

        alert("reading xml");

    }
});

}); 
```

但它不起作用..警报消息没有出现..请给我建议链接，我想知道检索 xml 数据的基础知识。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T07:43:25.687

```
document.addEventListener("deviceready", onDeviceReady, false);

function onDeviceReady() {
    $.ajax({
        type: "GET",
    url: "www.guitarmaddy.com/index.php?option=com_dmxmlexport&catid=8",
    dataType: "xml",
    success: function(xml) {

        alert("reading xml");

    }
});
} 
```

这能解决问题吗？

# jsf-2 - 在丰富的上下文菜单中动态生成丰富的菜单项

> ID：15826756
> 
> 赞同：2
> 
> 时间：2013-04-05T05:44:09.390
> 
> 标签：jsf-2, foreach, richfaces, jstl, uirepeat

我正在尝试在丰富的上下文菜单组件中动态生成丰富的菜单项。这是我的代码：

```
<ui:repeat var="group" value="#{myBean.groups}" >
  <div align="center"> 
    <rich:panel>
      <h:graphicImage value="#{group.iconUrl}"/>
      <rich:contextMenu attached="true">
        <c:forEach var="child" items="#{group.children}">
          <rich:menuItem label="#{child.name}" />
        </c:forEach>
      </rich:contextMenu>
    </rich:panel>   
  </div>
</ui:repeat> 
```

我正在使用这个标签库：

```
xmlns:c="http://java.sun.com/jsp/jstl/core 
```

我的问题是没有生成菜单项。我也尝试用 ui:repeat 替换c **:** **forEach** ，但它仍然无法正常工作。

 **我尝试了一些实验来消除一些因素。我删除了丰富的上下文菜单并使用了 ui:repeat

```
<ui:repeat var="group" value="#{myBean.groups}" >
  <div align="center"> 
    <rich:panel>
      <h:graphicImage value="#{group.iconUrl}"/>
      <ui:repeat var="child" value="#{group.children}">
         <h:outputText value="#{child.name}" />
      </ui:repeat>
    </rich:panel>   
  </div>
</ui:repeat> 
```

上面的代码片段**有效**。我猜上下文菜单的渲染和ui重复存在冲突。

可悲的是，我真的有点需要将 group.children 放在一个丰富的上下文菜单组件中。你能建议任何方法来帮助我实现我想要的吗？

**注意：我使用的是 servlet 3.0 版**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T14:18:00.660

在`<c:forEach>`视图构建期间运行，此时 XHTML 文件将被转换为 JSF 组件树。在`<ui:repeat>`视图呈现期间运行，此时 JSF 组件树即将生成 HTML。

因此，在您的特定示例中，在`<c:forEach>`运行时，定义的`#{group}`变量`<ui:repeat>`在 EL 范围内无处可用，并且`<c:forEach>`基本上作为 items 值检索`null`，因此没有任何可迭代的内容。

您的构造仅在您也替换外部时才`<ui:repeat>`有效`<c:forEach>`。

### 也可以看看：

*   [JSF2 Facelets 中的 JSTL...有意义吗？](https://stackoverflow.com/questions/3342984/jstl-in-jsf2-facelets-makes-sense/3343681#3343681)**

# java - 容器管理的事务

> ID：15826759
> 
> 赞同：2
> 
> 时间：2013-04-05T05:44:19.533
> 
> 标签：java, jakarta-ee, jpa

只是澄清我对容器管理事务（CMT）如何在 JPA 中工作的理解 -

CMT 为应用程序节省了明确开始和提交事务的工作，对吗？

CMT 只能应用于会话和消息驱动的 bean 而不是 pojos？

我对上述问题的基本原理是 - 我想知道如何从 java-se 应用程序以及 java-ee 访问实体。我需要两个单独的持久性单元吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-05T07:18:29.487

我允许自己完全重写我的答案，因为它根本不清楚，更糟糕的是，有些事情只是错误的。

事实是您（和我）正在混合使用 EJB 和 JPA 术语。
JPA 只讨论实体 bean。会话 bean（包括 CMT 和 BMT）是 EJB 规范的一部分。
在 JPA 中，我们将讨论链接到 JTA 或资源本地持久性单元的容器管理和应用程序管理的实体管理器。

以下是 JPA 规范的相关部分：

> 容器管理的实体管理器必须是 JTA 实体管理器。JTA 实体管理器仅指定用于 Java EE 容器。应用程序管理的实体管理器可以是 JTA 实体管理器或资源本地实体管理器。

[...]

> JTA 实体管理器和资源本地实体管理器都需要在 Java EE Web 容器和 EJB 容器中得到支持。在 EJB 环境中，通常使用 JTA 实体管理器。通常，在 Java SE 环境中，仅支持资源本地实体管理器。

[...]

> 其事务通过 JTA 控制的实体管理器是 JTA 实体管理器。JTA 实体管理器参与当前的 JTA 事务，该事务在实体管理器外部开始并提交，并传播到底层资源管理器。

[...]

> 当使用容器管理的实体管理器时，持久化上下文的生命周期总是自动管理，对应用程序透明，并且持久化上下文通过 JTA 事务传播

因此，仅当您想在 Java EE 应用程序中使用 JTA（天气或非容器管理）实体管理器时，您才需要定义 2 个持久性单元。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-05T10:56:42.520

CMT 是使用由 Java EE 容器评估的注释以声明方式定义的，该容器随后将透明地提供所需的事务处理。Pojos 不是由容器管理的，所以不能应用 CMT。

至于你关于实体的问题。您应该创建一个 DAO 层来抽象出持久性逻辑的技术细节。您基本上可以使用一种通用的 dao 实现来支持 JPA。这基本上是两个环境需要不同的唯一部分。在容器中，您将免费获得注释中定义的交易。如果在标准 java se 中运行，您必须自己开始/提交/回滚您的事务。

我建议您创建一个通用的 dao 实现，以声明方式定义事务并期望在容器内运行。为了在 java se 中使用，你有一个装饰器用于这个 dao，它负责正确的事务处理以模拟容器实际执行的操作。

我认为您实际上不需要更改 persistence.xml 中的任何内容，但也许我在这里错了

# spring - Spring with Hibernate JPA 使用虚拟数据库列不起作用

> ID：15826762
> 
> 赞同：0
> 
> 时间：2013-04-05T05:44:31.923
> 
> 标签：spring, hibernate, jpa, spring-mvc

我有一个场景，比如我有一个带有变量（比如 x）的实体，它指向 DB 中的虚拟列。我使用这个变量 x 只是为了将一些数据投影到 UI 上，并且不希望在更新或创建实体对象时插入或更新它。

为了实现这一点，我引入了可插入和可更新为假，如下所示

```
 @Column(name = "VIRTUAL_COLUMN_NAME_IN_DB", length = 4000, updatable = false, insertable = false)
  private String x; 
```

我还介绍了相关的 getter 和 setter。

通过我引入的注释，我希望变量 x 不包含在插入或更新操作中

但是，事实并非如此，我看到它出现在插入和更新操作中，这反过来导致我在下面出现数据库错误

```
org.springframework.orm.hibernate3.HibernateJdbcException: JDBC exception on Hibernate data access: SQLException for SQL [n/a]; SQL state [99999]; error code [54017]; ORA-54017: UPDATE operation disallowed on virtual columns
; nested exception is org.hibernate.exception.GenericJDBCException: ORA-54017: UPDATE operation disallowed on virtual columns
    at org.springframework.orm.hibernate3.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:651)
    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:105) 
```

请让我知道如何在基于 Spring 的应用程序中使用 Hibernate JPA 中的虚拟列

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2016-03-23T06:26:20.233

您是否尝试过 @Transient 注释？它应该正是为此：“此注释指定属性或字段不是持久的。它用于注释实体类、映射超类或可嵌入类的属性或字段。”

[https://docs.oracle.com/javaee/5/api/javax/persistence/Transient.html](https://docs.oracle.com/javaee/5/api/javax/persistence/Transient.html)

# matlab - Matlab - z（x：y） - 矢量不起作用

> ID：15826764
> 
> 赞同：-2
> 
> 时间：2013-04-05T05:44:35.113
> 
> 标签：matlab

向量不起作用

```
z = 10:-1:1;

x = 1:9;

y = 2:10;

z(x:y) 
```

答案=

```
10  9 
```

没有矢量化索引范围？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-05T07:10:21.923

如果你想要对，你必须使用

```
>> z([x; y])

ans =

    10     9     8     7     6     5     4     3     2
     9     8     7     6     5     4     3     2     1 
```

分别

```
>> z([x; y].')

ans =

    10     9
     9     8
     8     7
     7     6
     6     5
     5     4
     4     3
     3     2
     2     1 
```

# javascript - 如何获取剪贴板数据的base64字符串？

> ID：15826767
> 
> 赞同：1
> 
> 时间：2013-04-05T05:44:36.860
> 
> 标签：javascript, xpcom

我正在用 JS 构建一个 xpcom 组件。我在JS中得到了剪贴板数据，当数据类型是image/png时，我想得到它的base64字符串，我的代码是：

```
 ......
        trans.addDataFlavor('image/png');
        clipboard.getData(trans, Services.clipboard.kGlobalClipboard);
        trans.getTransferData('image/png', str, strLength);
        let mw = Services.wm.getMostRecentWindow("navigator:browser");

        data.data = str.value.QueryInterface(Ci.nsISupportsCString).data;
        data.data = mw.btoa(data.data);
        ... 
```

我可以在Linux下获取base64字符串，但是当我在windows中运行我的代码时，出现错误：NS_NOINTERFACE: Component returned failure code: 0x80004002 (NS_NOINTERFACE) [nsISupports.QueryInterface]

data.data = str.value.QueryInterface(Ci.nsISupportsCString).data; 我不知道如何在我的 xpcom 组件中获取图像数据的 base64 字符串，谁能给我答案？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-06T11:53:29.640

显然，图像在不同平台上以不同的方式存储到剪贴板。检查[Jetpack 如何读取它们](http://mxr.mozilla.org/mozilla-central/source/addon-sdk/source/lib/sdk/clipboard.js#265)。

# android - LAYER_TYPE_SOFTWARE 在某些时候不会在某些设备上禁用硬件加速

> ID：15826769
> 
> 赞同：1
> 
> 时间：2013-04-05T05:44:49.207
> 
> 标签：android, view, hardware-acceleration

我使用clipPath从画布进行剪辑，然后驱动：

```
@Override
protected void onDraw(Canvas canvas) 
{   
    float radius = ((float) getWidth()) / 2;
    clipPath.reset();
    clipPath.addCircle(radius, radius, radius, Path.Direction.CW);
    canvas.clipPath(clipPath);
    super.onDraw(canvas);
} 
```

当然，我在构造函数和 XML 中为此视图设置了 View.LAYER_TYPE_SOFTWARE。

但在某些设备上（Android 3）：

```
LENOVO K1
acer A501
samsung GT-P6200
ZTE V9S 
```

当我尝试绘制裁剪的画布时抛出异常：

```
java.lang.UnsupportedOperationException
at android.view.GLES20Canvas.clipPath(GLES20Canvas.java:303)
at com.myapp.ui.RoundedCornerImageView.onDraw(RoundedCornerImageView.java:35)
at android.view.View.draw(View.java:9292)
at android.view.View.getDisplayList(View.java:8755)
at android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:2296)
at android.view.View.getDisplayList(View.java:8719)
at android.view.ViewGroup.drawChild(ViewGroup.java:2554)
at android.view.ViewGroup.dispatchDraw(ViewGroup.java:2189)
at android.view.View.getDisplayList(View.java:8753)
at android.view.ViewGroup.drawChild(ViewGroup.java:2554)
at android.view.ViewGroup.dispatchDraw(ViewGroup.java:2189)
at android.widget.AbsListView.dispatchDraw(AbsListView.java:2029)
at android.view.View.draw(View.java:9399)
at android.widget.AbsListView.draw(AbsListView.java:3315)
at android.view.View.getDisplayList(View.java:8755)
at android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:2296)
at android.view.View.getDisplayList(View.java:8719)
at android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:2296)
at android.view.View.getDisplayList(View.java:8719)
at android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:2296)
at android.view.View.getDisplayList(View.java:8719)
at android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:2296)
at android.view.View.getDisplayList(View.java:8719)
at android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:2296)
at android.view.View.getDisplayList(View.java:8719)
at android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:2296)
at android.view.View.getDisplayList(View.java:8719)
at android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:2296)
at android.view.View.getDisplayList(View.java:8719)
at android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:2296)
at android.view.View.getDisplayList(View.java:8719)
at android.view.HardwareRenderer$GlRenderer.draw(HardwareRenderer.java:691)
at android.view.ViewRoot.draw(ViewRoot.java:1624)
at android.view.ViewRoot.performTraversals(ViewRoot.java:1440)
at android.view.ViewRoot.handleMessage(ViewRoot.java:2070)
at android.os.Handler.dispatchMessage(Handler.java:99)
at android.os.Looper.loop(Looper.java:132)
at android.app.ActivityThread.main(ActivityThread.java:4143)
at java.lang.reflect.Method.invokeNative(Native Method)
at java.lang.reflect.Method.invoke(Method.java:491)
at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:852)
at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:610)
at dalvik.system.NativeStart.main(Native Method) 
```

有趣的是，该应用程序不会立即崩溃，而是会在一段时间后崩溃。堆栈上面的开始时间是 2013-03-31 16:04:04，crashe 时间是 2013-03-31 16:18:47。虽然 RoundedCornerImageView 显示在 MainActivity！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T06:01:57.847

我发现了这个错误：[http ://code.google.com/p/android/issues/detail?id=20474](http://code.google.com/p/android/issues/detail?id=20474)

它仅在 4.1 (API 16) 中修复。

我决定仅为 API 16 及更高版本开启硬件加速

在清单中：

```
android:hardwareAccelerated="@bool/hw_acceleration" 
```

在值/常量.xml 中：

```
<bool name="hw_acceleration">false</bool> 
```

在 values-16/constants.xml 中：

```
<bool name="hw_acceleration">true</bool> 
```

我希望，这将是有效的！

# c# - 在 RDLC 中使用多个数据集

> ID：15826772
> 
> 赞同：4
> 
> 时间：2013-04-05T05:44:57.537
> 
> 标签：c#, asp.net, rdlc

我正在处理 rdlc 报告，报告工作得很好。当我向 rdlc 文件添加另一个数据集时，我被卡住了。在添加数据集时，它还添加了一个数据源。我运行了该项目，但报告不再起作用，出现错误：***尚未为数据源提供数据源实例 有人***

可以指导我采取哪些步骤来使用多个数据集。我正在使用 Visual Studio 2012。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-04-05T05:49:08.540

**添加多个数据源如下：**

```
ReportViewer1.LocalReport.DataSources.Add(rdS);
ReportViewer1.LocalReport.DataSources.Add(rdS1); 
```

**参考这个链接：**

[http://www.c-sharpcorner.com/UploadFile/robo60/StandaloneRDLCReports11142007183516PM/StandaloneRDLCReports.aspx](http://www.c-sharpcorner.com/UploadFile/robo60/StandaloneRDLCReports11142007183516PM/StandaloneRDLCReports.aspx)

所有部分都包含在此中。

**另请参阅此有用的讨论：**

[http://forums.asp.net/t/1241964.aspx](http://forums.asp.net/t/1241964.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-01-23T04:37:10.660

应该是这样的——

```
ReportViewer.LocalReport.DataSources.Clear();
ReportViewer.LocalReport.DataSources.Add("DataSet_Name",DataTable);
ReportViewer.LocalReport.Refresh(); 
```

重要提示 - 数据集名称必须与 rdlc 中出现的名称匹配。为确保您知道这是什么，请在 XML 编辑器中打开 rdlc 并找出数据集的名称。当您以编程方式添加数据源时，您必须引用该名称，因为它准确地出现在 rdlc 中。

# php - （显然）奇怪的“拒绝访问”MySQL错误

> ID：15826774
> 
> 赞同：0
> 
> 时间：2013-04-05T05:45:07.893
> 
> 标签：php, mysql

我刚开始研究一个遗留的 PHP 应用程序，发现自己在与一种奇怪的行为作斗争。我将尝试解释场景/代码/错误：

1.  所有查询都通过一个单例类执行，该类打开一个连接并在整个会话中保持打开状态（据我所知代码）

2.  每次 a`mysql_query`返回时`false`，都会引发异常。

3.  许多查询执行“很好”，甚至抱怨不存在表（我的任务之一是清理混乱的剪辑器继承数据库方案，所以我正在运行代码并根据需要创建表）。创建缺失表后，查询通常运行良好。

4.  一些查询返回`1045`错误：`Access denied for user 'appuser'@'localhost' (using password: YES)`

这是“奇怪”的行为：

1.  我已经在我的 MySQL 安装中启用了常规日志，但是没有提到拒绝访问错误。应用程序查询似乎运行良好（我说“似乎”是因为我实际上在理解日志格式的某些部分时遇到了问题）。

2.  在单例类中配置的用户名/密码是可以的。我可以使用 MySQL CLI 界面登录，除了许多其他查询运行良好。如果我尝试在 MySQL CLI 上使用错误的用户名/密码，则拒绝访问会正确记录在常规日志中。

3.  抛出异常的堆栈跟踪（显然是在 PHP 中）表明异常确实来自处理查询的单例类。

4.  “拒绝”查询中似乎没有模式。它们是大`SELECT`查询，但仅此而已。有些有`LEFT OUTER`连接，有些有 24 个`FROM`子句。

5.  我正在记录`mysql_stat`每个查询的结果，它会在工作查询和失败查询之前打印服务器状态。虽然，我不确定这个函数是否真的依赖于与 MySQL 服务器的有效凭证/会话。

那么，你们认为这里发生了什么？有什么线索吗？任何有根据的猜测？

如果有人需要更多信息/背景，我很乐意提供...... :)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T17:44:09.487

更详细地检查有问题`SELECT`的 s，我可以在它们之间找到一个公共表。你猜怎么了？实际上，它不是一个`TABLE`，而是一个`VIEW`。当我尝试使用图形工具（MySQL Workbench）`SELECT`从这个开始`VIEW`时，错误很明显并且“明显”。

当开发人员导出数据库（MySQL Dump）时，该工具只是在每个`VIEW`创建代码上添加了这样的一行：

```
/*!50013 DEFINER=`oldappuser`@`%` SQL SECURITY DEFINER */ 
```

我不知道为什么，但确实如此。由于我的本地数据库有不同的用户名/密码/方案，这成为我 4 小时头痛的根源。

为了修复它，我只是删除了旧的`VIEW`并重新创建了它，没有`DEFINER`指令。

故事的寓意：在转储数据库时注意您检查的选项并注意这些`SECURITY`内容，以防您在新服务器中更改用户/通行证/方案。

# objective-c - Objective-C：在消息中使用点表示法是不好的做法吗？

> ID：15826775
> 
> 赞同：0
> 
> 时间：2013-04-05T05:45:15.957
> 
> 标签：objective-c, syntax

我找不到类似的问题，所以我决定问它（这可能更适合在程序员身上问，如果是这样，我提前道歉）。

将点表示法与消息调用一起使用是不好的做法，如下所示：

```
[self.view addSubView:otherView]; 
```

相对于：

```
[[self view] addSubView:otherView]; 
```

我只是好奇，它看起来有点奇怪，但我看不出有什么问题。我对 Objective-C 还比较陌生，还不熟悉任何值得注意的最佳实践。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-05T05:52:15.160

它没有任何问题。这只是一个风格问题。使用您喜欢的任何一个。（顺便说一下，点符号的**优点**是，如果您使用点符号调用未声明的属性 getter 或 setter，编译器会抛出错误，因此您可以在编译时消除一些奇怪的运行时错误.)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-05T05:50:35.963

这根本不是一个坏习惯。但这只是一个**约定**。

任何你感觉好的东西都可以使用。

**任何使您的代码可读的东西，您都应该使用它。**

像 ：

```
employee.name.address.city.zip 
```

~~看起来像：~~

 ~~```
[employee [name [address [city zip]]]] 
```~~  ~~即使我在上面犯了错误。所以它是你的可读性。

实际上它应该是：

```
[[[[employee name] address] city] zip] 
```

**此外**，带参数的方法不能与点符号一起使用，您需要使用括号。

```
double amount=[self calculateInterestOnPrincipal:10000 rate:5.5 year:6] 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-05T06:05:52.963

简单地说，使用点符号来获取和设置对象的状态。这意味着，您应该对属性对象使用点表示法。正如你所做的一切都很好。另一方面，括号表示法用于调用对象的行为，例如

```
[self createSubviewWithFrame:_frame]; 
```~~

# php - Ajax-PHP 无法正常工作

> ID：15826776
> 
> 赞同：1
> 
> 时间：2013-04-05T05:45:17.740
> 
> 标签：php, jquery

AJAX-PHP 错误再次困扰着
我。现在我要使用 AJAX 将一些表单数据从 HTML 发送到 PHP，（我为此使用 jQuery）然后使用该数据，在 PHP 中使用它并给出一些结果。
Ajax 调用成功，但问题是并非所有数据都被发送到 PHP，有些数据丢失`if I interpreted it correctly`
了 jQuery/Ajax 代码

```
$(document).ready(function(){
$("#button").click(function(e){
   e.preventDefault();
     var data=$("#Form").serialize();
       console.log(data);
         $.ajax({

        type:'POST',
        url:('php/api.php'),
        data:"datastring="+data,
        success: function(d){           
        console.log("php response "+d);
      }         

       });
   });

 }); 
```

和 PHP

```
<?php
   $data=$_POST['datastring'];
   echo($data);
?> 
```

现在这是控制台的输出

```
 first+name=first&last+name=second&some+detail=third&comments=fourth //output from 1st          console.log() statement
  php response first name=first //output from php 
```

正如您从上面的语句中看到的，只有第一个值被回显，为什么？这是否意味着它没有从 AJAX 获得全部价值？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-05T05:50:25.953

为什么要将它分配给数据字符串？

只需添加没有前任的数据字符串。

```
$.ajax({
    type:'POST',
    url:'php/api.php',
    data:data,
    success: function(d){           
    console.log("php response "+d);
  }
}); 
```

然后在你的 php 中：

```
<?php print_r($_POST); ?> 
```

编辑：修复了 php 方面。谢谢！虽然没有修复它！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T05:53:12.427

我建议你，不要把任何东西`()`放在`url`：

```
 $.ajax({
    type:'POST',
    url:'php/api.php',
    data:{data : $("#Form").serialize()}, //<---You can put the directly here
    success: function(d){           
       console.log("php response "+d);
    }         
}); 
```

并在`php`文件中再次删除`()`from `echo($data);`in use `$_POST['data'];`：

```
<?php
   $data=$_POST['data'];
   echo $data;
?> 
```

试试这个，看看是否有帮助。

# java - 根据复杂逻辑更新列表

> ID：15826781
> 
> 赞同：1
> 
> 时间：2013-04-05T05:45:40.397
> 
> 标签：java, list, oop, logic

我有以下代码，我需要做的是将实例（类型对象）添加到项目对象列表（在最后一个 if 中完成），但我需要找到**完整的键匹配**。fromProp 和 toProp 在此实例中是字段类型对象（键可以是 username 、 customer 、number、f1 等）。现在代码正在处理第一个匹配字段（在最后一个 if 语句中），如果找到第一个匹配项，我们将数据添加到项目列表中，但我想找到完整的键匹配，即如果我有 3 个键，那么当它们完全匹配，而不是将“toEntityInstance”添加到项目对象。我该怎么做？

```
for (Object fromEntityInstance : fromEntityInstances) {

            List<Object> itemObject = new ArrayList<Object>();

            for (String[] prop : depPropMappings) {

                // Get properties related keys
                fromProp = prop[0];
                toProp = prop[1];

                Object fromValue = getInstanceValue(fromProp, fromEntityInstance);

                for (Object toEntityInstance : toEntityInstances) {

                    Object toValue = getInstanceValue(toProp, toEntityInstance);

                    if (fromValue.equals(toValue)) {

                    itemObject.add(toEntityInstance);

                    }

                }
            } 
```

例如实体可以 **来自EntityInstance**

```
f1=Mark
f2=abc
f3=test1
f4=test1
f5=test1 
```

**toEntityInstance**

```
f1=Mark
f2=abc
f3=test1
f4=test1
f5=test1

f1=Mark
f2=abc
f3=test1
f4=test1
f5=test1

f1=jhon
f2=yyyy
f3=test1
f4=test1
f5=test1 
```

在 depPropMappings 我有两个键实例

**第一个例子**

```
 fromProp = f1;
  toProp = f1; 
```

**第二审**

```
 fromProp = f2;
 toProp = f2; 
```

所以我只需将 toEntityInstance 中的两个第一个实体（其中 f1=mark 和 f2=abc ）添加到 itemObject 。目前，如果我们找到 f1 之间的匹配但忽略 F2，则代码可以工作...

我想在开始时计算密钥的数量，如果密钥的数量是 indentica l 更新列表但不知道该怎么做

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T06:08:36.403

您的循环嵌套顺序错误。如果两者都匹配，您当前的代码将`toEntityInstance`两次添加到列表中。`depPropMappings`尝试这样的事情：

```
for (Object fromEntityInstance : fromEntityInstances) {

    List<Object> itemObject = new ArrayList<Object>();

    for (Object toEntityInstance : toEntityInstances) {
        boolean matches = true;

        for (String[] prop : depPropMappings) {

            // Get properties related keys
            fromProp = prop[0];
            toProp = prop[1];

            Object fromValue = getInstanceValue(fromProp, fromEntityInstance);
            Object toValue = getInstanceValue(toProp, toEntityInstance);

            // Note: Make sure that fromValue cannot be null. If this cannot be
            // guaranteed, add a check here.
            if (!fromValue.equals(toValue)) {
                // if any value mismatches, we can stop checking the remaining
                // properties.
                matches = false;
                break;
            }
        }

        if (matches) {
            // all properties match
            itemObject.add(toEntityInstance);
        }
    }
} 
```

# sql - SQL Server CACHES 是否查询结果？

> ID：15826784
> 
> 赞同：29
> 
> 时间：2013-04-05T05:45:48.773
> 
> 标签：sql, sql-server, tsql, caching, sql-server-2008-r2

当我运行查询时，SQL Server 会缓存结果吗？

**因为**：当我运行以下查询时：

```
SELECT id
FROM Foo
WHERE Foo.Name LIKE '%bar%' 
```

查询第一次运行**40 秒**。

但在**第二次运行**时**只需要几秒钟**。

**这是因为**执行计划以某种方式被缓存还是实际上数据被缓存，以便我可以在第二次运行时更快地检索它？

* * *

## 回答 #1

> 赞同：33
> 
> 时间：2013-04-05T05:57:47.147

SQL Server 不会缓存查询结果，但会将其读取的[数据页](http://msdn.microsoft.com/en-us/library/ms190969%28v=sql.105%29.aspx)缓存在内存中。然后使用来自这些页面的数据来生成查询结果。

您可以通过设置轻松查看数据是从内存还是从磁盘读取的

```
SET STATISTICS IO ON 
```

它返回有关执行查询的以下信息

```
Table 'ProductCostHistory'. Scan count 1, logical reads 5, physical reads 0, read-ahead reads 0, lob logical reads 0, lob physical reads 0, lob read-ahead reads 0. 
```

逻辑读取和物理读取的区别在于从内存中读取的数据。

SQL Server 还将要求内存用于缓存，直到达到最大值（配置或物理最大值），然后刷新最近最少使用的页面。

# database - 如何使用 perl 加载带有日志文件条目的 SQLite3 数据库

> ID：15826785
> 
> 赞同：0
> 
> 时间：2013-04-05T05:45:57.247
> 
> 标签：database, perl, module, sqlite, dbi

我有一个作业在包含两个程序的 Perl 类中，第一个是使用 DBI::SQLite for Perl 创建一个数据库和表，我已经完成了程序的第一部分，但我不知道该怎么做关于做第二部分。第二部分涉及从日志文件中获取源 IP 和目标端口对，并使用 SQL 插入语句将它们插入到表中。在第一个程序中创建的表包含两列，一列用于源 IP，另一列用于目标端口，程序不应该产生任何输出，除了添加到表中的行数。正如您在下面看到的，我放置的代码代表了表格的设置方式，我非常感谢您在学习如何填写表格方面提供一些帮助。第二个程序所需的日志文件可用@此链接：[http://fleming0.flemingc.on.ca/~chbaker/COMP234-Perl/sample.log](http://fleming0.flemingc.on.ca/~chbaker/COMP234-Perl/sample.log)

我的第一个程序的代码

```
#!/usr/bin/perl

use strict;
use warnings;
use DBI;

my $dbh = DBI->connect(          
    "dbi:SQLite:dbname=test.db", 
    "",
    "",
    { RaiseError => 1}
) or die $DBI::errstr;
$dbh->do(<<'END_SQL');
CREATE TABLE probes (
    source CHAR(15) NOT NULL,
    port CHAR(5) NOT NULL,
    PRIMARY KEY (source, port) )
END_SQL 
```

第二个程序的代码（未解决）

```
#!/usr/bin/perl

use strict;
use warnings;
use DBI;

my %ip2port;
my $IPCount = keys %ip2port;
my $portCount = 0;
my $filename = "./sample.log";
open my $LOG, "<", $filename or die "Can't open $filename: $!";
LINE: while (my $line = <$LOG>) {
my ($src_id) = $line =~ m!SRC=([.\d]+)!gis; my ($dst_port) = $line =~ m!DPT=([.\d]+)!gis;
my $dbh = DBI->connect(          
    "dbi:SQLite:dbname=test.db", 
    "",                          
    "",                          
    { RaiseError => 1 },         
) or die $DBI::errstr;

$dbh->do("INSERT INTO probes VALUES($src_id, $dst_port )");
$dbh->do("INSERT INTO probes VALUES(2,'$dst_port',57127)");
my $sth = $dbh->prepare("SELECT SQLITE_VERSION()");
$sth->execute();

my $ver = $sth->fetch();

print @$ver;
print "\n";

$sth->finish();
$dbh->disconnect();
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T08:24:53.847

逐行阅读文件（网上有几十个例子）。

```
my ($src_id) = $line =~ m!SRC=([\.\d]+)!gis;
my ($dst_port) = $line =~ m!DPT=([\.\d]+)!gis; 
```

然后将此数据插入数据库。（网上有几十个例子）。

一些阅读：[http ://www.perl.com/pub/199​​9/10/DBI.html](http://www.perl.com/pub/1999/10/DBI.html)

# angularjs - Angularjs-服务数据更新

> ID：15826786
> 
> 赞同：0
> 
> 时间：2013-04-05T05:45:59.180
> 
> 标签：angularjs, angularjs-service

这是关于 angularjs 服务的基本问题。

我创建了一个非常简单的应用程序，其中包含以下代码。

```
var App = angular.module('testApp', ['testService']);

App.config(['$routeProvider', function($routeProvider)
{
  $routeProvider
  .when('/', {templateUrl: 'partials/dataDisplay.html', controller: testCtrl})
  .otherwise({redirectTo: '/'});
}]);

angular.module('testService', []).
factory('svcTest', function($http){
    var myService = 
        {
            getPeopleInfo: function()
            {
                $http.get('/test/app/data/getData.php').success(function(data) {
                     console.log("Data : " + data.people);
                     return  data.people;
                });
            }
        };
    return myService;
});

function testCtrl($scope, svcTest) {
    $scope.people = svcTest.getPeopleInfo();
} 
```

当它执行“$http.get”时，我实际上正在获取数据（甚至 getData.php 也返回有效的 JSON。）。但是，数据永远不会更新到 testCtrl。不确定我在做一些非常愚蠢的事情，作为 Angularjs 的新手。

但是，如果我摆脱这些服务并在控制器中添加 http.get，则会检索数据并将其更新到视图中。

```
function testCtrl($scope, $http) {
        $http.get('/test/app/data/getData.php').success(function(data) {
                 $scope.people = data.people;
        });
} 
```

我在服务中使用的代码的根本问题是什么？

顺便说一句，我的 HTML 非常简单，它以简单的表格格式显示这些信息。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T06:08:13.327

请将您的代码改写如下，

```
angular.module('testService', []).
factory('svcTest', function($http){
    var myService = 
        {
            getPeopleInfo: function()
            {
                return $http.get('/test/app/data/getData.php')
            }
        };
    return myService;
});

function testCtrl($scope, svcTest) {
    var peoplesPromise = svcTest.getPeopleInfo();
    peoplesPromise.success(function(data){
        $scope.people = data.people
    })

} 
```

返回一个 Promise 对象，该`$http`对象将具有我们可以监听的回调`success`。`error`

在控制器中获取承诺并附加到回调中，使我们能够访问控制器的范围（`testCtrl`）。然后在回调内部，我们使用请求的响应更新`testCtrl`'属性。`people`

# sorting - 对 grep 获得的输出进行排序以获取时间戳

> ID：15826791
> 
> 赞同：0
> 
> 时间：2013-04-05T05:46:19.337
> 
> 标签：sorting, grep

我的文件看起来像这样。

```
[2013] [ a] INFO : [handleMessage] Handling messages ...

[2013] [ b] INFO : [handleMessage] The message received is: [OS     OS-EVNTSVR0-H                 20130404125956465000RFST  M430   F                   ]
[2013] [ c] INFO : [handleMessage] Complete handling message.

[2013] [ a] INFO : [handleMessage] Handling messages ...

[2013] [ b] INFO : [handleMessage] The message received is: [OS     OS-EVNTSVR0-H                 20130404135956465000RFST  M430   F                   ]

[2013] [ c] INFO : [handleMessage] Complete handling message. 
```

我只想捕获收到的消息。（我已经这样做了）捕获消息后，我必须使用第三列中的时间戳值对其进行排序。但它最后包含一些字符。（例如：对于上述文件 20130404125956465000RFST 和 20130404135956465000RFST ）

我收到很多这样的消息，我使用这个命令。

```
gzgrep 'The message received is:' Receiver.log.2013-04-04*.gz | cut -d"[" -f5 | sort -t -n -k3 
```

但是由于后缀字符，使用数字排序将不起作用。任何人都可以在这个排序部分帮助我。其中需要对时间戳值进行排序。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T13:13:56.403

用于`sort -nk3.18`排除字段 3 中的最后 4 个字符。

来自`man sort`：

> -k, --key=KEYDEF 通过键排序；KEYDEF 给出位置和类型
> 
> KEYDEF 是 F[.C][OPTS][,F[.C][OPTS]] 表示开始和停止位置，其中 F 是字段编号，C 是字段中的字符位置；两者都是原点 1，停止位置默认为行尾。如果 -t 和 -b 均无效，则字段中的字符从前一个空格的开头开始计数。OPTS 是一个或多个单字母排序选项 [bdfgiMhnRrV]，它覆盖该键的全局排序选项。如果没有给出键，则使用整行作为键。e

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T12:58:03.363

```
$ cat test.log.gz
[2013] [ a] INFO : [handleMessage] Handling messages ...
[2013] [ b] INFO : [handleMessage] The message received is: [OS     OS-EVNTSVR0-H                 20130404125956465000RFST  M430   F               ]
[2013] [ c] INFO : [handleMessage] Complete handling message.
[2013] [ a] INFO : [handleMessage] Handling messages ...
[2013] [ b] INFO : [handleMessage] The message received is: [OS     OS-EVNTSVR0-H                 20130404135956465000RFST  M430   F               ]
[2013] [ c] INFO : [handleMessage] Complete handling message.

$ zcat test.log.gz | perl -ne 'if (/The message received is:/) { push @a, ($_ =~ /\b(\d{20})[A-Z]{4}\b/) } }{ print join "\n", sort @a' | sort
20130404125956465000
20130404135956465000 
```

如果您的时间戳是单独的单词和形式`20 digits + 4 upperspace characters`（您可能需要调整正则表达式），则此方法有效。这是做你想做的吗？

# jquery - 仅在菜单中向父项添加类

> ID：15826793
> 
> 赞同：0
> 
> 时间：2013-04-05T05:46:26.263
> 
> 标签：jquery

我正在开发一个菜单，我只想通过 jquery 向父菜单项添加一个类。我为它编写的代码工作正常，但前提是菜单项没有任何子元素（下拉菜单）。现在我应该进行哪些更改才能仅在悬停时将类添加到父项。

这是html

```
<nav id="main-menu" style="display: block;">
  <ul id="menu-nav_menu" class="nav sf-js-enabled">
    <li class="menu-item cat-item">
      <a href="http://localhost/carp/?page_id=45" class="sf-with-ul">
        <span class="main_text">About CARP</span>
      </a>
      <ul class="sub-menu" style="display: none; visibility: hidden;">
        <li id="menu-item-41" class="menu-item">
          <a href="http://localhost/carp/?page_id=40">Vision</a>
        </li>
      </ul>
    </li>
    <li class="menu-item">
     <a href="http://localhost/carp/?page_id=48" class="sf-with-ul">
       <span class="main_text">Our Work</span>
     </a>
     <ul class="sub-menu" style="display: none; visibility: hidden;">
      <li class="menu-item">
        <a href="http://localhost/carp/?page_id=50">How To</a>
      </li>
    </ul>
  </li>
  <li class="menu-item">
   <a href="http://localhost/carp/?page_id=79">
     <span class="main_text">Gallery</span></a>
   </li>
   <li class="menu-item">
    <a href="http://localhost/carp/?page_id=81">
      <span class="main_text">Contact Us</span></a>
    </li>
  </ul>
</nav> 
```

这是jQuery

```
$(document).ready(function(){

    //to change the background image of previous closest menu item background
    $("#main-menu ul#menu-nav_menu li a").hover(function(e) {
    e.preventDefault();
    var i = $("#main-menu ul li a span").index($(this).parent() );
    $('#main-menu li a span').eq(i-1).addClass('mybg');
    $("#main-menu ul li a").mouseout(function() {
        $('#main-menu li a span').eq(i-1).removeClass('mybg');
    });

}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T06:26:32.070

我假设您希望在主菜单项或其子项上发生悬停事件时突出显示主菜单项。最简单的方法是使用 CSS：

```
#menu-nav_menu > li:hover > a { background-color: #FF0000; } 
```

[CSS小提琴](http://jsfiddle.net/pK8BY/5/)

* * *

既然你想用 jQuery 来做：

jQuery

```
$(function () {
    $('#menu-nav_menu > li').hover(function() {
        $(this).children('a').toggleClass('myBg');
    });
}); 
```

CSS

```
.myBg { background-color: #FF0000; } 
```

[jQuery小提琴](http://jsfiddle.net/pK8BY/4/)

* * *

您的悬停事件结构不正确，请参阅[jQuery API 文档](http://api.jquery.com/hover/)以了解正确用法。

这是供您参考的[CSS 选择器规范。](http://www.w3.org/TR/CSS2/selector.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T06:18:21.063

这可能不会给你你需要的东西..但是改进你的jquery ..你不需要`mouseout()`那里..

尝试这个

```
$(document).ready(function(){

  //to change the background image of previous closest menu item background
  $("#main-menu ul#menu-nav_menu li a").hover(function(e) {
     e.preventDefault();
     var i = $("#main-menu ul li a span").index($(this).parent() );
     $('#main-menu li a span').eq(i-1).addClass('mybg');
  },function(){
     var i = $("#main-menu ul li a span").index($(this).parent() );
     $('#main-menu li a span').eq(i-1).removeClass('mybg');
  });

}); 
```

# javascript - 如何使用计算机本地文件在 chrome 中播放 .mp3 文件

> ID：15826800
> 
> 赞同：2
> 
> 时间：2013-04-05T05:46:48.097
> 
> 标签：javascript

我做了一个mp3播放器。仅播放 src 确定的文件。但我需要它还应该播放我计算机本地驱动器中的那些 .mp3 文件。但只有这个 c://fakepath... 停止我的努力。

任何人都可以解决这个问题。这样我就可以为我的下一个视频播放器解决这个问题。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T05:50:08.187

[无法从 web 引用](https://superuser.com/questions/224500/display-local-images-in-chrome-using-file-protocol)本地文件。但是，如果您的计算机上有该文件并使用 file://something 访问它，它应该能够访问相对 url。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-03-11T12:09:15.733

[我在这里](https://stackoverflow.com/a/44168129/5303092)找到了答案。

您可以选择带有输入标签的文件并使用音频标签播放。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-04-05T05:53:26.843

如果你想使用`Javascript`

获取您的音频元素并调用 play()：

```
document.getElementById('audiotag').play(); 
```

检查示例： http: [//www.storiesinflight.com/html5/audio.html](http://www.storiesinflight.com/html5/audio.html)。
[这个](http://blog.gingertech.net/wp-content/uploads/2011/01/LCA_MM_AVProc2011/#slide1)网站有完整的细节。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-04-05T06:17:54.053

不确定您正在寻找什么，但您可以尝试以下方法：

```
<audio id="myaudio" src="file://my/dir/file.mp3" preload="auto"></audio>
<a href="javascript:play_sound();">test audio</a>
<script type="text/javascript">

  function play_sound() {
    document.getElementById('myaudio').play();
  }

</script> 
```

# android - 如何在四个角拉伸矩形图像？

> ID：15826809
> 
> 赞同：0
> 
> 时间：2013-04-05T05:47:30.537
> 
> 标签：android

我的要求是我需要选择一个包含一群人的图像，我需要选择一个或多个人，我需要裁剪图像的特定选定部分，为此我拍摄了一个矩形透明图像，我将放置这个在我要裁剪的实际图像上的矩形图像现在我搞砸了，我希望通过拉动角落并选择实际图像来拉伸该矩形图像，任何人都可以帮助我如何通过拉动来拉伸图像角落

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T06:08:50.387

我认为您需要将位图绘制到画布上，然后从那里管理用户交互。您可以通过使用将图像拉伸到画布中的任何大小

```
canvas.drawBitmapMesh(bitmap, 1, 1,
                                        vertices, 0, null, 0,
                                        paint); 
```

相应地更改您的顶点。[见文档](http://developer.android.com/reference/android/graphics/Canvas.html#drawBitmapMesh%28android.graphics.Bitmap,%20int,%20int,%20float%5B%5D,%20int,%20int%5B%5D,%20int,%20android.graphics.Paint%29)

最好的方法是创建一个自定义视图并覆盖 onDraw，然后在此处进行绘图。

# php - MySQL 错误：未知系统变量 CHARACTER_SET

> ID：15826810
> 
> 赞同：-1
> 
> 时间：2013-04-05T05:47:31.660
> 
> 标签：php, mysql, utf-8

我在 sql 执行部分使用 CHARACTER_SET utf8，但出现错误，`MySQL Error: Unknown system variable CHARACTER_SET`

这是代码，

```
 $this->runQuery('execute','SET CHARACTER_SET utf8'); // error getting this line. 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T05:51:14.477

没有`CHARACTER_SET`变量，请`CHARACTER SET`改用 -

```
SET CHARACTER SET utf8; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T06:05:20.987

您可以使用 SET NAMES 'utf8' 设置字符；

有关更多信息，请参阅 [http://dev.mysql.com/doc/refman/5.0/en/charset-syntax.html](http://dev.mysql.com/doc/refman/5.0/en/charset-syntax.html)

# mono - Xamarin Studio 和 Mono 调试问题与 WebPageHttpModule

> ID：15826811
> 
> 赞同：2
> 
> 时间：2013-04-05T05:47:32.317
> 
> 标签：mono, monodevelop, servicestack, xamarin-studio

新的 Xamarin Studio 有很多值得喜欢的地方，但是每次运行我的 Web 项目时，我都会遇到 System.Security.SecurityException - 无法访问给定的密钥。

如果我继续执行并在 Safari 中刷新页面，则该站点可以正常工作。这只是网站第一次加载。

它在反汇编程序中停止：

```
0000001d   call Void System.Web.WebPages.WebPageHttpHandler:RegisterExtension (String)
00000022   ldc.i4.0 
00000023   call Void System.Web.UI.PageParser:set_EnableLongStringsAsResources (Boolean)
>00000028   ldtoken System.Web.WebPages.WebPageHttpModule
0000002d   call Type System.Type:GetTypeFromHandle (RuntimeTypeHandle)
00000032   call Void  Microsoft.Web.Infrastructure.DynamicModuleHelper.DynamicModuleUtility:RegisterModule (Type)
00000037   newobj Void System.Web.WebPages.Scope.AspNetRequestScopeStorageProvider:.ctor ()
0000003c   call Void System.Web.WebPages.Scope.ScopeStorage:set_CurrentProvider (IScopeStorageProvider)
00000041   ret 
```

这似乎是一个竞争条件。它是在完成所有编译之前启动网站吗？

为了测试我添加了一个 Before Execute 任务，`sleep '8s'`它不会立即发生，而是在下次选择链接时发生。基本上是第一次加载网站。

我可以编译代码并在 Ubuntu 上运行它。有任何想法吗？

其他一些环境数据：

*   OS-X 山狮
*   .Net 4.0
*   项目使用 ServiceStack.Net
*   MVC 3.0

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-11T00:23:41.720

如果其他人发现同样的问题，只是让您知道在我执行以下操作后问题已经消失（出于其他原因）

1.  从源代码控制 (GitHub) 中删除了已编译的二进制文件并添加了一个 .gitignore 文件。
2.  在 VS 2012 中打开解决方案 - 首先必须从网站 .csproj 中注释掉“Imports ...web.targets”，因为这些不在我的 Windows 机器上并阻止项目加载。
3.  在 Xamarin Studio 中打开解决方案并删除了 VS 2012 自动添加的引用，例如 .Web.Helpers 和 .Web.Entity 以及它注入到 web.config 中的其他引用。

Xamarin Studio 现在在加载程序集时使用调试器启动网站的速度较慢，每个都需要一秒钟 - `Loaded assembly: data-0x1d9ac00 [External]`等等但没有错误:)

所以可能是 Git 对子项目中的二进制文件做了一些事情，或者这次我碰巧正确删除了一个错误的 DLL 引用。

# iphone - 找不到 Cocoa/Cocoa.h 文件

> ID：15826825
> 
> 赞同：7
> 
> 时间：2013-04-05T05:49:21.887
> 
> 标签：iphone, ios, objective-c, ipad, xmppframework

我`XMPPFramework`在我的应用程序中使用。我已经在我的 .m 文件中导入了 Cocoa/Cocoa.h。但是当我构建项目时`Xcode`显示错误。

> 错误：“找不到 Cocoa/Cocoa.h 文件”。

我该如何解决这个错误？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-04-05T07:50:06.873

如果你正在为 iOS 构建，那么你*不应该* `#import <Cocoa/Cocoa.h>`. 该标头仅存在于 OS X 上。对于 iOS，您需要直接包含各种框架标头（例如，`#import <UIKit/UIKit.h>`）。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2014-06-19T19:43:04.800

添加这一行：

```
 #import <Foundation/Foundation.h> 
```

删除这个：

```
 #import <Cocoa/Cocoa.h> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-05T05:51:44.193

将 `#import "Cocoa/Cocoa.h"` **或** `#import <Cocoa/Cocoa.h>`放入您的 .m 文件中

而且我不喜欢**复制和粘贴**，所以请参考这个问题/答案
[Cocoa/Cocoa.h Not Found (Error)](https://stackoverflow.com/questions/6530819/cocoa-cocoa-h-not-found-error)
它类似于您的问题。

# ios - 不同配置的条件编译

> ID：15826828
> 
> 赞同：0
> 
> 时间：2013-04-05T05:49:31.683
> 
> 标签：ios, configuration, conditional-compilation

我有一个项目，除了默认的“Debug”和“Release”之外，我还为其添加了配置“AppStore”。我想包含一小段基于“AppStore”配置编译的条件代码。我怎么做？是否有与该配置关联的标志可用于#ifdef？我可以自己关联一个标志来标记这个配置吗？我应该创建另一个目标吗？

# r - R 使用 viewPorts 将数据表添加到 ggplot 图：缩放 Grob

> ID：15826831
> 
> 赞同：13
> 
> 时间：2013-04-05T05:49:40.123
> 
> 标签：r, ggplot2, viewport, gridextra, r-grid

我正在尝试将数据表添加到用 ggplot 制作的图表中（类似于 excel 功能，但可以灵活地更改其轴）

我已经尝试了几次，并且一直遇到缩放问题，所以尝试 1) 是

```
library(grid)
library(gridExtra)
library(ggplot2)
xta=data.frame(f=rnorm(37,mean=400,sd=50))
xta$n=0
for(i in 1:37){xta$n[i]<-paste(sample(letters,4),collapse='')}
xta$c=0
for(i in 1:37){xta$c[i]<-sample((1:6),1)}
rect=data.frame(xmi=seq(0.5,36.5,1),xma=seq(1.5,37.5,1),ymi=0,yma=10)
xta=cbind(xta,rect)
a = ggplot(data=xta,aes(x=n,y=f,fill=c)) + geom_bar(stat='identity')
b = ggplot(data=xta,aes(x=n,y=5,label=round(f,1))) + geom_text(size=4) + geom_rect(aes(xmin=xmi,xmax=xma,ymin=ymi,ymax=yma),alpha=0,color='black')
z = theme(axis.text=element_blank(),panel.background=element_rect(fill='white'),axis.ticks=element_blank(),axis.title=element_blank())
b=b+z
la=grid.layout(nrow=2,ncol=1,heights=c(0.15,2),default.units=c('null','null'))
grid.show.layout(la)
grid.newpage()
pushViewport(viewport(layout=la))
print(a,vp=viewport(layout.pos.row=2,layout.pos.col=1))
print(b,vp=viewport(layout.pos.row=1,layout.pos.col=1)) 
```

产生了

![2个ggplot](https://i.stack.imgur.com/J7EuH.png)

第二次尝试 2) 是

```
xta1=data.frame(t(round(xta$f,1)))
xtb=tableGrob(xta1,show.rownames=F,show.colnames=F,show.vlines=T,gpar.corefill=gpar(fill='white',col='black'),gp=gpar(fontsize=12),vp=viewport(layout.pos.row=1,layout.pos.col=1))
grid.newpage()
la=grid.layout(nrow=2,ncol=1,heights=c(0.15,2),default.units=c('null','null'))
grid.show.layout(la)
grid.newpage()
pushViewport(viewport(layout=la))
print(a,vp=viewport(layout.pos.row=2,layout.pos.col=1))
grid.draw(xtb) 
```

产生了

![使用直桌 grob 和 grid.draw](https://i.stack.imgur.com/t8Zt7.png)

最后 3) 是

```
grid.newpage()
print(a + annotation_custom(grob=xtb,xmin=0,xmax=37,ymin=450,ymax=460)) 
```

产生了

![使用 annotate_custom](https://i.stack.imgur.com/701Ho.png)

如果我可以将 tableGrob 缩放到与绘图相同的大小，其中选项 2 将是最好的，但我不知道该怎么做。关于如何更进一步的任何指示？- 谢谢

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-04-10T12:07:36.203

你可以试试新版本的`tableGrob`; 生成的 gtable 宽度/高度可以设置为特定大小（这里是等分布的 npc 单位）

```
library(ggplot2)
library(gridExtra)
library(grid)
tg <- tableGrob(head(iris), rows=NULL)
tg$widths <- unit(rep(1/ncol(tg),ncol(tg)),"npc")
tg$heights <- unit(rep(1/nrow(tg),nrow(tg)),"npc")

qplot(colnames(iris), geom="bar")+ theme_bw() +
  scale_x_discrete(expand=c(0,0)) +
  scale_y_continuous(lim=c(0,2), expand=c(0,0)) +
  annotation_custom(ymin=1, ymax=2, xmin=-Inf, xmax=Inf, tg) 
```

[![在此处输入图像描述](https://i.stack.imgur.com/1cchl.png)](https://i.stack.imgur.com/1cchl.png)

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2013-04-05T07:38:53.157

例如，您可以使用由 ggplot 创建的表，并将它们与本[博客](http://learnr.wordpress.com/2009/04/29/ggplot2-labelling-data-series-and-adding-a-data-table/)中的 like 组合。我在这里做了一个简化的工作示例：

首先制作你的情节：

```
library(ggplot2)
library(reshape2)
library(grid)

 df <- structure(list(City = structure(c(2L,
     3L, 1L), .Label = c("Minneapolis", "Phoenix",
     "Raleigh"), class = "factor"), January = c(52.1,
     40.5, 12.2), February = c(55.1, 42.2, 16.5),
     March = c(59.7, 49.2, 28.3), April = c(67.7,
         59.5, 45.1), May = c(76.3, 67.4, 57.1),
     June = c(84.6, 74.4, 66.9), July = c(91.2,
         77.5, 71.9), August = c(89.1, 76.5,
         70.2), September = c(83.8, 70.6, 60),
     October = c(72.2, 60.2, 50), November = c(59.8,
         50, 32.4), December = c(52.5, 41.2,
         18.6)), .Names = c("City", "January",
     "February", "March", "April", "May", "June",
     "July", "August", "September", "October",
     "November", "December"), class = "data.frame",
     row.names = c(NA, -3L))

dfm <- melt(df, variable = "month")

 levels(dfm$month) <- month.abb
 p <- ggplot(dfm, aes(month, value, group = City,
     colour = City))
 p1 <- p + geom_line(size = 1) + theme(legend.position = "top") + xlab("") 
```

接下来在 ggplot 中生成数据表。使用与绘图相同的 x 轴：

```
none <- element_blank()
data_table <- ggplot(dfm, aes(x = month, y = factor(City),
     label = format(value, nsmall = 1), colour = City)) +
     geom_text(size = 3.5) +
  scale_y_discrete(labels = abbreviate)+ theme_bw()  +
     theme(panel.grid.major = none, legend.position = "none",
         panel.border = none, axis.text.x = none,
         axis.ticks = none) + theme(plot.margin = unit(c(-0.5,
     1, 0, 0.5), "lines")) + xlab(NULL) + ylab(NULL) 
```

将两者与视口结合：

```
Layout <- grid.layout(nrow = 2, ncol = 1, heights = unit(c(2,
     0.25), c("null", "null")))
grid.show.layout(Layout)
vplayout <- function(...) {
     grid.newpage()
     pushViewport(viewport(layout = Layout))
 }

subplot <- function(x, y) viewport(layout.pos.row = x,
     layout.pos.col = y)

mmplot <- function(a, b) {
     vplayout()
     print(a, vp = subplot(1, 1))
     print(b, vp = subplot(2, 1))
 }

mmplot(p1, data_table) 
```

请注意，仍然需要进行一些调整，例如图例的位置和表格中城市名称的缩写，但结果看起来不错： ![在此处输入图像描述](https://i.stack.imgur.com/1Dz2n.png)

应用于您的示例：

```
library(grid)
library(gridExtra)
library(ggplot2)
xta=data.frame(f=rnorm(37,mean=400,sd=50))
xta$n=0
for(i in 1:37){xta$n[i]<-paste(sample(letters,4),collapse='')}
xta$c=0
for(i in 1:37){xta$c[i]<-sample((1:6),1)}
rect=data.frame(xmi=seq(0.5,36.5,1),xma=seq(1.5,37.5,1),ymi=0,yma=10)
xta=cbind(xta,rect)
a = ggplot(data=xta,aes(x=n,y=f,fill=c)) + geom_bar(stat='identity')+ theme(legend.position = "top")+xlab("")

none <- element_blank()
z=ggplot(xta, aes(x = n, y = "fvalues",
     label = round(f,1)) )+
     geom_text(size = 3)+ theme_bw()  +
     theme(panel.grid.major = none, legend.position = "none",
         panel.border = none, axis.text.x = none,
         axis.ticks = none) + theme(plot.margin = unit(c(-0.5,
     1, 0, 0.5), "lines")) + xlab(NULL) + ylab(NULL)

Layout <- grid.layout(nrow = 2, ncol = 1, heights = unit(c(2,
     0.25), c("null", "null")))
grid.show.layout(Layout)
vplayout <- function(...) {
     grid.newpage()
     pushViewport(viewport(layout = Layout))
 }

subplot <- function(x, y) viewport(layout.pos.row = x,
     layout.pos.col = y)

mmplot <- function(a, b) {
     vplayout()
     print(a, vp = subplot(1, 1))
     print(b, vp = subplot(2, 1))
 }

mmplot(a, z) 
```

![在此处输入图像描述](https://i.stack.imgur.com/GFYTq.png)

**编辑：**

类似于丹尼斯他的解决方案，但比条形图和`+ coord_flip()`. 如果您不想翻转它，您可以删除后者，但它会增加可读性：

```
ggplot(xta, aes(x=n,y=f,fill=c)) +
   geom_bar() +
   labs(color = "c") +
   geom_text(aes(y = max(f)+30, label = round(f, 1)), size = 3, color = "black") + coord_flip() 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-05T07:46:58.240

恕我直言，这不是一个精心设计的图形。首先，我不明白为什么在值范围从 300 到 500 时需要零原点，这是一种变相的说法，我不喜欢条形图的比喻。您还尝试使用条形填充来表示 c 值的差异，其中只有六个。这是我认为解决问题的一种更简单的方法。鉴于您的 xta 数据，

```
# Convert the categories to a factor
xta$N <- factor(xta$n, levels = xta$n)

# Simple approach:
ggplot(xta, aes(x = f, y = N, color = factor(c))) +
   geom_point() +
   labs(color = "c") +
   geom_text(aes(x = 575, label = round(f, 1)), size = 4, color = "black") 
```

这对我来说不是一个有趣的图形。根据问题的背景，可能会增加一点洞察力的方法是按递增顺序对响应进行排序，并添加尺寸美学以标出 c 级别之间的差异。（您也可以使用不带颜色的大小。）最后，因为我们将因子水平放在垂直轴上以便它们的标签清晰可见，所以我们还可以通过稍微扩展水平轴来将 f 值作为文本插入。

```
ggplot(xta, aes(x = f, y = reorder(N, f), color = factor(c), size = c)) + 
   geom_point() +
   labs(color = "c") +
   geom_text(aes(x = 575, label = round(f, 1)), size = 4, color = "black") 
```

这段代码中有足够的提示可以让您将其引向不同的方向。我会把它留给你。

# c++ - 在客户的计算机上搜索特定文件

> ID：15826836
> 
> 赞同：3
> 
> 时间：2013-04-05T05:49:57.540
> 
> 标签：c++, python, search, desktop-application

搜索客户计算机（和其他安装的驱动器）的最快方法是什么？我的客户将安装一个使用 Python 编写的桌面应用程序，但如果速度更快，我可以添加 C++ 代码......

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-05T05:57:13.887

如果您的平台是 Win32，使用 C++，您可以简单地使用 Winapi 函数

[查找第一个文件](http://msdn.microsoft.com/en-us/library/windows/desktop/aa364418%28v=vs.85%29.aspx)

[FindFirstFileEx](http://msdn.microsoft.com/en-us/library/windows/desktop/aa364419%28v=vs.85%29.aspx)

进而

[查找下一个文件](http://msdn.microsoft.com/en-us/library/windows/desktop/aa364428%28v=vs.85%29.aspx)

作为文件名，您可以为已知图像格式提供通配符，例如 jpg、jpeg、png、bmp 等。

如果你想要额外的速度，你可以在不同的线程上运行函数，然后同步结果。

编辑：

对于独立于平台的解决方案，您可以使用[boost::filesystem](http://www.boost.org/doc/libs/1_53_0/libs/filesystem/doc/index.htm)类或 Qt 的 [QDir](http://harmattan-dev.nokia.com/docs/library/html/qt4/qdir.html)

[使用boost::filesystem](http://www.boost.org/doc/libs/1_53_0/libs/filesystem/doc/index.htm)递归搜索文件的示例代码

```
std::string target_path( "C:\\" );
boost::regex my_filter( "*\.bmp" );
std::vector< std::string > all_matching_files;
for ( boost::filesystem::recursive_directory_iterator end, dir(target_path); 
    dir != end; ++dir ) 
{
    // Skip if not a file
    if( !boost::filesystem::is_regular_file( i->status() ) ) 
        continue;
    boost::smatch what;

    // Skip if no match
    if( !boost::regex_match( i->leaf(), what, my_filter ) ) continue;

    // File matches, store it
    all_matching_files.push_back( i->leaf() );                                 
} 
```

为了更好地实施，我强烈建议您阅读[boost::filesystem](http://www.boost.org/doc/libs/1_53_0/libs/filesystem/doc/index.htm)文档

对于[QDir](http://harmattan-dev.nokia.com/docs/library/html/qt4/qdir.html)示例

```
filesStack = new QStack<QString>();

QDir selectedDir("C:\\");
selectedDir.setFilter(QDir::Files | QDir::Dirs | QDir::NoDot | QDir::NoDotDot);
QStringList qsl; qsl.append("*.bmp");
selectedDir.setNameFilters(qsl);
findFilesRecursively(selectedDir);

void findFilesRecursively(QDir rootDir) 
{
    QDirIterator it(rootDir, QDirIterator::Subdirectories);
    while(it.hasNext()) 
    {
        filesStack->push(it.next());
    }
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-05T06:17:32.643

因为`python`，简单地使用`os`模块中的内置功能将是一个足够的跨平台解决方案。对于`C++`，我建议使用[boost filesystem](http://www.boost.org/doc/libs/1_53_0/libs/filesystem/doc/index.htm)，这将是迄今为止最不痛苦的解决方案。

至于速度，好吧，这可能无关紧要。此类函数将完全受 I/O 限制。理论上你可以线程化它，但如果它在同一个驱动器上，它仍然是 I/O 绑定的。如果它在单独的驱动器上，它可能会给你一些加速，但像往常一样，在优化之前进行配置。

# iphone - 显示应用在后台的持续时间

> ID：15826838
> 
> 赞同：0
> 
> 时间：2013-04-05T05:50:08.233
> 
> 标签：iphone, ios, xcode, cocoa-touch

我是 iOS 编程的新手，我正在尝试制作一个非常简单的应用程序来了解更多关于生命周期和不同状态的信息。该应用程序将在应用程序运行时存储当前时间戳，并且每当它进入后台并重新启动时，它会显示一条消息，例如“很高兴在 xx 分钟后见到你”。

现在，我的做法是这样的，一开始会有一个时间戳存储在一个变量中，当调用 viewDidLoad() 方法时，它会检查当前时间戳的时间戳并显示减去的值。

当应用程序进入后台时，我将在 viewDidUnload() 方法中更改本地时间戳变量的值，然后在返回时我将比较时间戳并显示消息。

关于这样做的正确方法的任何指示？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T06:05:02.743

在您的 appdelegate.m 文件中使用以下代码

把下面的方法

```
-(void)minCalculation_backgroundtime:(NSString *)backgroundTime forgroundTime:(NSString *)foreGroundTime
{
    NSDateFormatter *dateformat = [[NSDateFormatter alloc]init];
    [dateformat setDateFormat:@"MM/dd/yyyy HH:mm:ss"];

    NSDate *lastDate = [dateformat dateFromString:foreGroundTime];
    NSDate *todaysDate = [dateformat dateFromString:backgroundTime];
    NSTimeInterval lastDiff = [lastDate timeIntervalSinceNow];
    NSTimeInterval todaysDiff = [todaysDate timeIntervalSinceNow];
    NSTimeInterval dateDiff = lastDiff - todaysDiff;
    int min = dateDiff/60;
    NSLog(@"Good to see you after %i minutes",min);
} 
```

并替换以下两种方法

```
- (void)applicationDidEnterBackground:(UIApplication *)application
{
    NSDateFormatter *dateFormat = [[NSDateFormatter alloc]init];
    [dateFormat setDateFormat:@"MM/dd/yyyy HH:mm:ss"];
    NSString *backGroundTime = [dateFormat stringFromDate:[NSDate date]];
    [[NSUserDefaults standardUserDefaults]setValue:backGroundTime forKey:@"backGroundTime"];
    // Use this method to release shared resources, save user data, invalidate timers, and store enough application state information to restore your application to its current state in case it is terminated later. 
    // If your application supports background execution, this method is called instead of applicationWillTerminate: when the user quits.
}

- (void)applicationWillEnterForeground:(UIApplication *)application
{
    NSDateFormatter *dateFormat = [[NSDateFormatter alloc]init];
    [dateFormat setDateFormat:@"MM/dd/yyyy HH:mm:ss"];
    NSString *foreGroundTime = [dateFormat stringFromDate:[NSDate date]];
    NSString *backGroundTime = [[NSUserDefaults standardUserDefaults]valueForKey:@"backGroundTime"];
    [self minCalculation_backgroundtime:backGroundTime forgroundTime:foreGroundTime];
    // Called as part of the transition from the background to the inactive state; here you can undo many of the changes made on entering the background.
} 
```

试试这个你的问题会解决

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T05:57:26.340

您可以使用 NSUserDefaults 保存最后一个时间戳。

当您的应用程序在后台运行时使用此功能

> ```
> - (void)applicationWillResignActive:(UIApplication *)application
> - (void)applicationDidEnterBackground:(UIApplication *)application
> - (void)applicationWillTerminate:(UIApplication *)application 
> ```

当应用再次打开时，取出上次保存的时间戳与当前时间戳的差异。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-05T05:59:07.513

创建一个全局变量并在 viewControllers 之间传递数据并将您的代码保存在以下方法中。

```
- (void)applicationDidEnterBackground:(UIApplication *)application 
- (void)applicationWillEnterForeground:(UIApplication *)application 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-05T06:11:37.277

你可以这样做：

```
[[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(didEnterBackground) name:UIApplicationDidEnterBackgroundNotification object:nil];

[[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(didEnterForeGround) name:UIApplicationDidEnterForegroundNotification object:nil];

-(void)didEnterBackground
{
 NSUserDefaults *userDefaults=[NSUserDefaults standardUserDefaults];
 [userDefaults setObject:[[NSDate alloc]init] forKey:@"TimeStamp"];
 [userDefaults synchronize];
}

-(void)didEnterForeGround
{
 NSUserDefaults *userDefaults=[NSUserDefaults standardUserDefaults];
 NSString *countString= [userDefaults objectForKey:@"TimeStamp"];  
 NSDateFormatter *dateFormatter = [[NSDateFormatter alloc] init];
 [dateFormatter setTimeStyle:NSDateFormatterFullStyle];
 NSTimeInterval *timeBG=[[dateFormatter dateFromString:countString] timeIntervalSinceDate:[NSDate alloc] init]];
NSLog(@"Time Background: %@",timeBG);
} 
```

# javascript - 对象 JavaScript 中的奇怪行为数组

> ID：15826840
> 
> 赞同：1
> 
> 时间：2013-04-05T05:50:14.860
> 
> 标签：javascript

为什么 b.first[0] 返回 "t" 以及如何避免这种情况？

我需要 b.first[0] 中的安全“q”

```
var extend = function(o,p){
    for(prop in p){
        o[prop] = p[prop];
    }
    return o;
};

var a = {first:['q','w']};
var b = {};

extend(b,a);

document.write(a.first[0]); //q
document.write(b.first[0]); //q

a.first[0] = 't';

document.write(a.first[0]); // t
document.write(b.first[0]); // t ????????????????????? 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-05T05:53:54.537

这是一个与通过 a 扩展 b 不会从 a 重新创建数据的概念有关的问题。如果某些数据是一个对象（如数组），则它只是“指向”该数组，而不是创建一个新的、相同的数组。本质上，您正在存储两个指向同一个数组的指针，因此当您更改一个时，您会更改另一个。

这是一个答案，它更详细地讨论了在 Javascript 中“克隆”对象的想法。

[https://stackoverflow.com/a/728694/1570248](https://stackoverflow.com/a/728694/1570248)

# android - Android API v2 中的 Google 地图显示错误

> ID：15826846
> 
> 赞同：0
> 
> 时间：2013-04-05T05:50:36.557
> 
> 标签：android, android-fragments, google-maps-android-api-2

我正在尝试实施谷歌地图。但它总是会出错。

我的活动

```
package com.alex.googlemaps;

import android.os.Build;
import android.os.Bundle;
import com.google.android.gms.maps.GoogleMap;
import com.google.android.gms.maps.MapFragment;
import com.google.android.gms.maps.model.LatLng;
import com.google.android.gms.maps.model.Marker;
import com.google.android.gms.maps.model.MarkerOptions;
import android.annotation.TargetApi;
import android.app.Activity;
import android.view.Menu;

@TargetApi(Build.VERSION_CODES.HONEYCOMB)
public class MainActivity extends Activity {

    private GoogleMap mMap;
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        mMap = ((MapFragment) getFragmentManager().findFragmentById(R.id.map)).getMap();
        mMap.setMapType(GoogleMap.MAP_TYPE_SATELLITE);
        final LatLng CIU = new LatLng(35.21843892856462, 33.41662287712097);
        Marker ciu = mMap.addMarker(new MarkerOptions()
                                  .position(CIU).title("My Office"));
    }

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {
        // Inflate the menu; this adds items to the action bar if it is present.
        getMenuInflater().inflate(R.menu.main, menu);
        return true;
    }

} 
```

我的 XML 文件

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:paddingBottom="@dimen/activity_vertical_margin"
    android:paddingLeft="@dimen/activity_horizontal_margin"
    android:paddingRight="@dimen/activity_horizontal_margin"
    android:paddingTop="@dimen/activity_vertical_margin"
    tools:context=".MainActivity" >

    <fragment
        android:id="@+id/map"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        class="com.google.android.gms.maps.MapFragment" />

</RelativeLayout> 
```

清单文件

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.alex.googlemaps"
    android:versionCode="1"
    android:versionName="1.0" >

    <uses-sdk
        android:minSdkVersion="8"
        android:targetSdkVersion="17" />

    <permission
        android:name="com.example.androidmapsv2.permission.MAPS_RECEIVE"
        android:protectionLevel="signature" >
    </permission>

    <uses-permission android:name="com.alex.googlemaps.permission.MAPS_RECEIVE" />
    <uses-permission android:name="com.google.android.providers.gsf.permission.READ_GSERVICES" />
    <uses-permission android:name="android.permission.INTERNET" />
    <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />
    <uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION" />
    <uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />

    <uses-feature
        android:glEsVersion="0x00020000"
        android:required="true" />

    <application
        android:allowBackup="true"
        android:icon="@drawable/ic_launcher"
        android:label="@string/app_name"
        android:theme="@style/AppTheme" >
        <activity
            android:name="com.alex.googlemaps.MainActivity"
            android:label="@string/app_name" >
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />

                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>

        <meta-data
            android:name="com.google.android.maps.v2.API_KEY"
            android:value="AIzaSyD-zPbxq6kH0cjw-Axfey-WZ3cmlXqf2LE" />
    </application>

</manifest> 
```

logCat 显示为

```
04-05 05:44:02.598: E/Trace(1057): error opening trace file: No such file or directory (2)
04-05 05:44:03.038: W/GooglePlayServicesUtil(1057): Google Play services out of date.  Requires 3025100 but found 2012110
04-05 05:44:03.058: W/GooglePlayServicesUtil(1057): Google Play services out of date.  Requires 3025100 but found 2012110
04-05 05:44:03.148: W/GooglePlayServicesUtil(1057): Google Play services out of date.  Requires 3025100 but found 2012110
04-05 05:44:03.188: W/GooglePlayServicesUtil(1057): Google Play services out of date.  Requires 3025100 but found 2012110
04-05 05:44:03.198: W/GooglePlayServicesUtil(1057): Google Play services out of date.  Requires 3025100 but found 2012110
04-05 05:44:03.258: W/GooglePlayServicesUtil(1057): Google Play services out of date.  Requires 3025100 but found 2012110
04-05 05:44:03.258: D/AndroidRuntime(1057): Shutting down VM
04-05 05:44:03.268: W/dalvikvm(1057): threadid=1: thread exiting with uncaught exception (group=0x40a71930)
04-05 05:44:03.278: E/AndroidRuntime(1057): FATAL EXCEPTION: main
04-05 05:44:03.278: E/AndroidRuntime(1057): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.alex.googlemaps/com.alex.googlemaps.MainActivity}: java.lang.NullPointerException
04-05 05:44:03.278: E/AndroidRuntime(1057):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2180)
04-05 05:44:03.278: E/AndroidRuntime(1057):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2230)
04-05 05:44:03.278: E/AndroidRuntime(1057):     at android.app.ActivityThread.access$600(ActivityThread.java:141)
04-05 05:44:03.278: E/AndroidRuntime(1057):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1234)
04-05 05:44:03.278: E/AndroidRuntime(1057):     at android.os.Handler.dispatchMessage(Handler.java:99)
04-05 05:44:03.278: E/AndroidRuntime(1057):     at android.os.Looper.loop(Looper.java:137)
04-05 05:44:03.278: E/AndroidRuntime(1057):     at android.app.ActivityThread.main(ActivityThread.java:5041)
04-05 05:44:03.278: E/AndroidRuntime(1057):     at java.lang.reflect.Method.invokeNative(Native Method)
04-05 05:44:03.278: E/AndroidRuntime(1057):     at java.lang.reflect.Method.invoke(Method.java:511)
04-05 05:44:03.278: E/AndroidRuntime(1057):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:793)
04-05 05:44:03.278: E/AndroidRuntime(1057):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:560)
04-05 05:44:03.278: E/AndroidRuntime(1057):     at dalvik.system.NativeStart.main(Native Method)
04-05 05:44:03.278: E/AndroidRuntime(1057): Caused by: java.lang.NullPointerException
04-05 05:44:03.278: E/AndroidRuntime(1057):     at com.alex.googlemaps.MainActivity.onCreate(MainActivity.java:24)
04-05 05:44:03.278: E/AndroidRuntime(1057):     at android.app.Activity.performCreate(Activity.java:5104)
04-05 05:44:03.278: E/AndroidRuntime(1057):     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1080)
04-05 05:44:03.278: E/AndroidRuntime(1057):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2144)
04-05 05:44:03.278: E/AndroidRuntime(1057):     ... 11 more
04-05 05:44:03.378: D/dalvikvm(1057): GC_CONCURRENT freed 257K, 14% free 2545K/2948K, paused 16ms+3ms, total 114ms
04-05 05:44:06.338: I/Process(1057): Sending signal. PID: 1057 SIG: 9 
```

我用谷歌搜索了很多，但所有结果最后都给出了错误。请任何人帮助我解决这个问题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-05T05:54:18.427

通过 Id 找到视图后，尝试从 Map 片段中获取地图实例，如下所示：

```
@Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        MapFragment mpFragment= ((MapFragment) getFragmentManager().findFragmentById(R.id.map));
        mMap=mpFragment.getMap();
        mMap.setMapType(GoogleMap.MAP_TYPE_SATELLITE);
        final LatLng CIU = new LatLng(35.21843892856462, 33.41662287712097);
        Marker ciu = mMap.addMarker(new MarkerOptions()
                                  .position(CIU).title("My Office"));
    } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-05T05:57:35.033

我怀疑您的问题是 Google Play APK。在您的 logcat 中，它声明它已过时，并且在这里：http: [//developer.android.com/reference/com/google/android/gms/maps/MapFragment.html](http://developer.android.com/reference/com/google/android/gms/maps/MapFragment.html)它声明如果谷歌播放不可用 MapFragment.getMap()将返回 null，这与您得到的错误一致。

希望这可以帮助！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-10-23T06:50:44.040

即使这已被标记为已解决，我仍然愿意为我的案例的解决方案发布一些信息。

请参考答案[如何查看 Google Play 服务版本？](https://stackoverflow.com/questions/18737632/how-to-check-google-play-services-version/19534368#19534368)

# html - 页脚没有放置在正确的位置

> ID：15826851
> 
> 赞同：-2
> 
> 时间：2013-04-05T05:50:53.433
> 
> 标签：html, css

我在 CSS 方面不是那么好。我正在尝试制作一个 HTML 结构，但我无法将页脚放在正确的位置。这是一个[链接](http://dabblet.com/gist/5316936)，您可以在其中查看和测试代码。你能建议一些东西吗？我必须说我不希望页脚 div 获得`position:fixed`选项。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-05T05:58:38.430

删除id的位置`#placeHolder` 并`footer_area`添加css

```
#placeHolder {
    background-color: #FAFAFA;
    border-radius: 5px 5px 5px 5px;
    margin: 0 auto;
    padding-bottom: 10%;
    width: 70%;
}

.footer_area {
    background-position: 0 0;
    border-radius: 5px 5px 5px 5px;
    clear: both;
    color: #333333;
    font: 12px/25px Arial,Helvetica;
    height: 10%;
    margin: 40px auto 0;
    padding-top: 10%;
    text-align: center;
    width: 70%;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-05T06:21:08.587

可以帮助您更好地理解 CSS 工作原理的几件事是相对、绝对、静态和固定的工作方式。

如需快速复习，您可以在此处查看[http://www.w3schools.com/cssref/pr_class_position.asp](http://www.w3schools.com/cssref/pr_class_position.asp)

默认情况下，您的所有元素都是静态定位的，并且所有元素都以分层模式继承它们的定位。IE DOM 中的第一个元素首先出现，然后是以下等。

在这种情况下，您已将 #placeholder 元素定位为 position:absolute; 结果是#placeholder 被从其他元素中提取出来并放置在它的顺序之外，它现在尊重body 标签并相对于body 标签进行放置。这里唯一的例外是，如果您使用 position:relative 修改 #placeholder 的父元素，那么 #placeholder 将采用相对于该元素而不是 body 元素的绝对定位。

其次，我可以看到您正在尝试使用百分比基数将元素对齐到靠近窗口中心的位置。在这种情况下 15%，这不会为您的内容提供绝对中心。发生的情况是当前窗口宽度的 15%（假设我的浏览器打开到 1000 像素宽）将返回当前窗口宽度的 15%，在这种情况下为 150 像素；本质上，您最终将元素的左侧定位在距离窗口左侧 150px 的位置。

此外; 必须将这种定位放在所有元素上可能会变得有点麻烦。让您的生活更轻松的一个小技巧是将您的所有内容包装在一个 div 中并将这个 div 归类。我通常会将其分类为`<div class="wrapper">`然后在您的 css 中您可以为 .wrapper 提供 1000px 或 70% 的宽度（在您的情况下）和**margin:0 auto;** 这将自动为您将此 div 的内容居中，从而使您的网站居中。如果您想让它适用于真正的旧浏览器，请保留我演示过的相同内容，只需再添加两个属性。**body{text-align:center;}**的第一个 CSS 属性和**.wrapper{text-align:left;}**的第二个。如果您仍然关心 ie6，这将使它在 IE6 中工作。它的作用是对齐第一个`<div class="wrapper">`到正文的中心，然后指定包装器中的所有内容都应该左对齐，这使得当你添加 dom 元素或文本时它很好地对齐到左边，这样你就可以正常阅读了。

希望这可以帮助

# c++ - 从访客模式返回一个值

> ID：15826853
> 
> 赞同：3
> 
> 时间：2013-04-05T05:51:02.897
> 
> 标签：c++, design-patterns, visitor-pattern

我有一个层次结构如下：

```
 class Element{ public : virtual void Accept(Visitor&) = 0
                 protected : Element();   int num;
          };

         class ElementA : public Element{
                 public : ElementA(); 
                 void Accept(Visitor& v) {v.Visit(this};}
         };

         class ElementB : public Element{
                 public : ElementB(); 
                 void Accept(Visitor& v) {v.Visit(this};}

         class Visitor{
                 public: void Visit(ElementA*);
                 void Visit(ElementB*);
         }; 
```

**编辑：** 需要将方法 int getNum() 添加到提供 num 值的层次结构中。但是，这需要重新编译整个层次结构，我们不允许这样做。所以我们必须以某种方式改变层次结构的设计，以便不需要重新编译层次结构。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-05T06:58:54.720

您想要做的事情不可能以干净设计的方式进行。我不知道，为什么完全重新编译该层次结构会是这样一个问题，但是有一个解决方案在技术上是可行的，而无需使用 UB 黑客攻击，比如`reinterpret_cast`取消访问保护和其他黑客攻击。

```
int Visitor::getNum(Element* pe)
{ 
  //define a pick-pocket... ;)
  struct ElementNumAccessor : private Element
  {
    ElementNumAccessor(Element const& e) : Element(e) {}   
    int getNum() { return num; }

    void Accept(Visitor&); //has to be declared, but needs not be defined
  };

  //...and let him work:
  ElementNumAccessor ea(*pe);
  return ea.getNum();
} 
```

这个在行动中的灵魂：http: [//ideone.com/e1chSX](http://ideone.com/e1chSX)
这利用了受保护的访问是可传递的这一事实，但代价是您想要从其中获取 num 的每个元素的副本。我将 struct 设为函数本地类，因此没有人会想到将其实际用于任何其他目的。

但请记住，这种技术是一种 hack，是对不应该以这种方式使用的语言功能的利用。

我的建议是：如果你的层次结构在程序中如此纠缠，以至于改变它会给重新编译带来恐惧，那么是时候重构你的程序以减少编译时依赖性，然后做你必须做的改变。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T06:16:41.037

一种可能性是将 a 声明`GetNumVisitor`为friend of`Element class`并直接访问`num`成员变量。然后在 中添加一个方法`GetNumVisitor`来返回值。

```
class Element { 
  ...
  friend GetNumVisitor;  // declare GetNumVisitor as a friend class
  ...
};

GetNumVisitor : public Visitor {
 private: 
  int  m_numelement;
 public : 
  void visit(Element *E) { m_elementNum = E->num; }
  int getNum() const { return m_elementNum;}
}; 
```

您必须将其称为

```
 ElementA element_a();
 ElementB element_b();
 GetNumVisitor getnumVisitor();
 element_a.accept(getnumVisitor);
 int a = getnumVisitor.getNum();
 element_b.accept(getNumVisitor);
 int b = getnumVisitor.getNum();
 ... 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-05T06:30:06.330

不是访客模式方面的专家，但这符合您的要求吗？

```
 class Element{ public : virtual void Accept(Visitor&) = 0
             protected : Element();   int num;
      };

     class ElementA : public Element{
             public : ElementA(); 
             void Accept(Visitor& v) {v.setNum(this->num); v.Visit(this);}
     };

     class ElementB : public Element{
             public : ElementB(); 
             void Accept(Visitor& v) {v.setNum(this->num); v.Visit(this);}

     class Visitor{
             public:
             void Visit(ElementA*);
             void Visit(ElementB*);
             void setNum(int _num) {num = _num;}
             int getNum() {return num;}

             private:
             int num;
     }; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-05T06:33:51.967

您的问题是如何允许类（`Visitor`）直接访问在不同类层次结构（`Element`s）中继承的私有数据成员。

一个快速的答案是：不要！这将破坏可见性修饰符的全部目的。但是，使用（导致重新编译层次结构）或通过指针重新解释[仍然可以这样做。](https://stackoverflow.com/q/6717163/337194)~~`friend`~~

一个干净的解决方案是使用[适配器模式](http://en.wikipedia.org/wiki/Adapter_pattern)（使用继承）将整个`Element`s 层次结构复制到另一个存根层次结构中，该存根层次结构为相应函数的委托提供完全相同的接口，为`num`您的访问者提供一个 getter 函数并使用该新层次结构，这将能够`num`通过getter访问。

# actionscript-3 - as3中的复选框问题

> ID：15826857
> 
> 赞同：0
> 
> 时间：2013-04-05T05:51:14.923
> 
> 标签：actionscript-3

有 2 个复选框。如果选择两个相应的帧值将运行。但是在选择两者之后，如果我取消选择 1box 并播放，它不会播放所选对象的帧。请尽快提供解决方案。

# coldfusion - 如何在 CFQUERY 中使用两个数据源

> ID：15826859
> 
> 赞同：1
> 
> 时间：2013-04-05T05:51:32.570
> 
> 标签：coldfusion

```
 <cfquery name="checkinvoice" datasource="?">
    SELECT DISTINCT INVOICE_DATE,DEPARTMENT,VALUE,INVOICE_NO 
    FROM   ro_invoice 
    WHERE  sheet_no='#newROSheet.sheetNo#'
    MINUS
    SELECT DISTINCT INVOICE_DATE,DEPARTMENT,VALUE,INVOICE_NO 
    FROM   dbowner.rs_invoices 
    WHERE  rs_id ='#recordSheet.id#'
</cfquery> 
```

在上面的代码中，第一条`select`语句属于，`datasource1`第二条语句属于`datasource2`（在 oracle 中）。如何使用 cfquery 执行这两个语句？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-05T11:18:03.440

如果两个数据库都是 Oracle（您的问题不清楚），您可以创建一个数据库链接并查询两个数据库，就好像它们是一个数据库一样。此链接在 oracle 中完成，因此不需要“ColdFusion 解决方案”。Oracle 在此处提供有关链接数据库的文档。[访问和修改多个数据库中的信息 在](http://docs.oracle.com/cd/B28359_01/server.111/b28324/tdpii_distdbs.htm)从旧系统迁移到新系统的数据迁移过程中，我们已经多次使用过这种方法。它运作良好。您还可以使用`insert`、`update`和`delete`

使用 @dblink 语法链接表后，使用它很容易。

```
<cfquery ...>
    select
        a.column1
      , b.column2
    from
      someTable@dblinkName a -- I came from the linked database
      inner join someOtherTable b on b.someColumn = a.someColumn
</cfquery> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-05T09:33:45.103

有几种方法可以做到这一点。一种是查询查询。但是，根据您的问题，尚不清楚联合查询是否是您想要的。你可能想要这样的东西：

查询 1

```
select yourfields
, concat(your fields together, casting as string where necessary) concatfield
etc 
```

查询 2 与查询 1 相同，但来自另一个数据库。查询 3 是

```
select yourfields
from Query1
where concatfield not in (<cfqueryparam 
    value="#ValueList(Query2.concatfield#" list="yes"> 
```

另一种方法是正如亨利建议的那样。有一些方法可以编写来自数据库 1 的查询，其中包括来自数据库 2 的表。事实上，它们甚至不必是相同类型的数据库。例如，您可以在 Sql Server 上设置链接服务器并查询 oracle 数据库。但是，语法取决于 RDBMS，您没有指定您的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-05T06:08:31.543

简短的回答是你不能。但是，您可以执行两个单独的 CFQUERY，然后将第三个 CFQUERY 中的结果连接为使用 UNION 操作的查询查询（只要两个原始 CFQUERY 中的列是等效的）。但是，根据您显示的查询，您希望从第一个数据源的结果中删除第二个数据源的结果。这不能在 CFQUERY 语句中完成。

# hbase - 无法启动 HBase 独立模式

> ID：15826863
> 
> 赞同：3
> 
> 时间：2013-04-05T05:52:09.480
> 
> 标签：hbase

我正在阅读 HBase 快速入门指南 ( [http://hbase.apache.org/book/quickstart.html](http://hbase.apache.org/book/quickstart.html) )，并且在完成第一步时遇到了很多问题。

我在以 Win7 作为主机的 VirtualBox 下使用 Mint Linux 13。

我下载了hbase 0.94.6.1，在我的home路径上解压文件，配置回环地址。出于测试目的，我可以写入 /tmp，因此我没有修改 /conf/hbase-site.xml。

```
start-hbase.sh: 45: [: false: unexpected operator
localhost: starting zookeeper, logging to /home/askldjd/hbase-0.94.6.1/bin/../logs/hbase-askldjd-zookeeper-test-hadoop.out
starting master, logging to /home/askldjd/hbase-0.94.6.1/bin/../logs/hbase-askldjd-master-test-hadoop.out
Could not start ZK at requested port of 2181\.  ZK was started at port: 2182\.  Aborting as clients (e.g. shell) will not be able to find this ZK quorum.
localhost: starting regionserver, logging to /home/askldjd/hbase-0.94.6.1/bin/../logs/hbase-askldjd-regionserver-test-hadoop.out 
```

如果我输入 ./bin/hbase shell，然后输入状态，这就是我得到的。

```
13/04/05 01:47:06 ERROR client.HConnectionManager$HConnectionImplementation: Check the value configured in 'zookeeper.znode.parent'. There could be a mismatch with the one configured in the master. 
```

JAVA_HOME 已配置。

```
askldjd@test-hadoop ~ $ echo $JAVA_HOME
/usr/lib/jvm/java-6-openjdk-amd64/ 
```

我想我在这里遗漏了一些非常基本的东西。任何帮助将不胜感激。

谢谢

...艾伦

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-10T16:07:12.553

根据日志消息，在默认端口（2181）中启动 Zookeeper 时出现问题

*“无法在请求的 2181 端口启动 ZK。”*

检查2181端口上是否有其他进程正在运行，如果是，请在停止2181端口上运行的进程后尝试启动hbase。

要不然

你可以单独运行 zookeeper 并告诉 hbase 使用它。

要使 hbase 使用您单独运行的 zookeeper，必须进行以下更改

*   conf/hbase-env.sh 中的 HBASE_MANAGES_ZK 变量必须设置为 false（这告诉 hbase 不要启动自己的 zookeeper 集成）

*   在 conf/hbase-site.xml 中设置 zookeeper 值及其端口

    ```
    <property>
       <name>hbase.zookeeper.quorum</name>
       <value>localhost</value>
    </property>

    <property>
       <name>hbase.zookeeper.property.clientPort</name>
       <value>2181</value>
    </property> 
    ```

参考以下链接配置和运行zookeeper：

[http://zookeeper.apache.org/doc/r3.3.3/zookeeperStarted.html#sc_InstallingSingleMode](http://zookeeper.apache.org/doc/r3.3.3/zookeeperStarted.html#sc_InstallingSingleMode)

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-12-28T17:25:29.717

该`unexpected operator`消息表明您可能遇到与我相同的问题：

你用它运行了`sudo sh start-hbase.sh`吗？相反，尝试**`sudo ./start-hbase.sh`**.

我真的不知道为什么，但`sh`似乎无法解释方括号。有关差异的更多详细信息：[https ://askubuntu.com/questions/22910/what-is-the-difference-between-and-sh-to-run-a-script](https://askubuntu.com/questions/22910/what-is-the-difference-between-and-sh-to-run-a-script)

# java - 添加 jtextfield 自动从相应的 jtextfield 值记录

> ID：15826865
> 
> 赞同：-1
> 
> 时间：2013-04-05T05:52:12.367
> 
> 标签：java, mysql, swing, auto-update

我的问题是，当我在 jtextfield 中插入名字时，该记录的相应姓氏会自动显示在另一个 jtextfield 中吗？

这意味着我不想一次又一次地插入相同的数据..一旦我在数据库中插入记录，下次在下一个表单中自动插入相同的记录

所以有人在这里给我片段吗？提前致谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-05T06:50:05.087

@MirroredFate（在此处的另一个答案中发表评论）永远不要使用 KeyListener，使用 DocumentListener，然后您可以在 JTextComponents 中确定所有可能的用户输入类型

![在此处输入图像描述](https://i.stack.imgur.com/Ovgjm.jpg)

```
import java.awt.GridLayout;
import javax.swing.*;
import javax.swing.event.DocumentEvent;
import javax.swing.event.DocumentListener;

public class TextLabelMirror {

    private JPanel mainPanel = new JPanel();
    private JTextField field = new JTextField(20);
    private JTextField field1 = new JTextField(20);

    public TextLabelMirror() {
        field.getDocument().addDocumentListener(new DocumentListener() {

            @Override
            public void changedUpdate(DocumentEvent e) {
                updateLabel(e);
            }

            @Override
            public void insertUpdate(DocumentEvent e) {
                updateLabel(e);
            }

            @Override
            public void removeUpdate(DocumentEvent e) {
                updateLabel(e);
            }

            private void updateLabel(DocumentEvent e) {
                java.awt.EventQueue.invokeLater(new Runnable() {

                    @Override
                    public void run() {
                        field1.setText(field.getText());
                    }
                });
            }
        });

        mainPanel.setLayout(new GridLayout(1, 0, 10, 0));
        mainPanel.add(field);
        mainPanel.add(field1);
    }

    public JComponent getComponent() {
        return mainPanel;
    }

    private static void createAndShowUI() {
        JFrame frame = new JFrame("TextLabelMirror");
        frame.getContentPane().add(new TextLabelMirror().getComponent());
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        frame.pack();
        frame.setLocationRelativeTo(null);
        frame.setVisible(true);
    }

    public static void main(String[] args) {
        java.awt.EventQueue.invokeLater(new Runnable() {

            @Override
            public void run() {
                createAndShowUI();
            }
        });
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T06:10:22.237

你真的想看看这个文档：[http ://docs.oracle.com/javase/tutorial/uiswing/events/keylistener.html](http://docs.oracle.com/javase/tutorial/uiswing/events/keylistener.html)

您的代码将如下所示：

```
JTextField firstName = new JTextField();
JTextField lastName = new JTextField();
KeyListener kl = MyCustomKeyListener();
firstName.addKeyListener(kl); 
```

在您的自定义`KeyListener`中，重写`keyTyped()`查找 的值的方法`firstName`，在数据库中查找以找到对应的姓氏，然后使用它来设置 的值`lastName`。

通过这种方式，您可以使每次键入键时都会执行此操作，或者您可以检查并确保只有特定键触发操作（例如按`return`）。

另外，我应该提到您可以为此使用匿名类。而不是创建`MyCustomKeyListener`，你可以说：

```
firstName.addKeyListener(new KeyListener(){
    void keyTyped(keyEvent e){
        //whatever you want to happen when the key is typed in here
    }
}); 
```

编辑：正如已经指出的那样，使用`DocumentListener`. 这是通过访问底层 JTextField 的文档并向其中添加侦听器来完成的，如此处的答案所示：[Value Change Listener to JTextField](https://stackoverflow.com/questions/3953208/value-change-listener-to-jtextfield)

# jquery - ajax jquery 不能与引导程序一起使用？

> ID：15826867
> 
> 赞同：-1
> 
> 时间：2013-04-05T05:52:20.887
> 
> 标签：jquery, ajax, twitter-bootstrap

我正在尝试使用引导程序转换我现有的站点但不幸的是我的旧 ajax 代码无法使用引导程序我必须添加最新的 jquery 文件来运行我的 ajax 但在这两种情况下它都不起作用有什么解决方案吗

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-05T06:11:20.347

我假设您已经使用`$.post(...)`了您的请求。您应该访问[文档](http://api.jquery.com/jQuery.post/)以进行发布。在那里您可以在文本中找到许多折旧说明。

但是要真正帮助您，而不仅仅是提供提示，您应该上传一些代码。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2014-03-25T13:19:24.210

尝试使用调试器查看发生了什么，我有同样的问题，我的 Bootstrap 模式没有从 javascript 调用中显示，因为 AJAX 覆盖了其他 JQuery javascript。到目前为止，我还没有找到解决方案...

# c# - 导出到 Excel - 在 MVC4 中安装 Office 自定义

> ID：15826874
> 
> 赞同：1
> 
> 时间：2013-04-05T05:52:34.233
> 
> 标签：c#, asp.net-mvc-3, excel

我正在 MVC4 应用程序中导出到 excel 文件。
**Excel**

```
public class ExporttoExcel : ActionResult
{
public GridView ExcelGridView { get; set; }
public string fileName { get; set; }
public int totalQuantity;
public decimal totalPrice1;
public string x1;

public ExporttoExcel(GridView gv, string pFileName, int totalQty, decimal totalPrice, string x)
{
  x1= x;
  ExcelGridView = gv;
  fileName = pFileName;
  totalQuantity = totalQty;
  totalPrice1 = totalPrice;
}
    public override void ExecuteResult(ControllerContext context)
    {
    HttpContext curContext = HttpContext.Current;
    curContext.Response.Clear();
    curContext.Response.AddHeader("content-disposition", "attachment;filename=" + fileName);
    curContext.Response.Charset = "";
    curContext.Response.Cache.SetCacheability(HttpCacheability.NoCache);
    curContext.Response.ContentType = "application/vnd.ms-excel";      
    StringWriter sw = new StringWriter();
    HtmlTextWriter htw = new HtmlTextWriter(sw);
    if (x1== "111")
    {
      htw.WriteLine("<html><head>");
      //code logic
      ExcelGridView.HeaderStyle.BackColor = Color.Yellow;
      ExcelGridView.RenderControl(htw);
      htw.WriteLine("</body></html>");
    }
    else
    {
      htw.WriteLine("Data");
      ExcelGridView.RenderControl(htw);
    }
    byte[] byteArray = Encoding.ASCII.GetBytes(sw.ToString());
    MemoryStream s = new MemoryStream(byteArray);
    StreamReader sr = new StreamReader(s, Encoding.ASCII);
    curContext.Response.Write(sr.ReadToEnd());
    curContext.Response.End();
    }
} 
```

发生以下错误并且未打开 excel 文件。

```
Error : 
From: file:///d:/Program Files/Microsoft Visual Studio 10.0/Common7/IDE/PrivateAssemblies/Microsoft.VisualStudio.QualityTools.LoadTestExcelAddIn.vsto did not succeed. 
```

我的代码中的任何错误。我应该怎么做才能解决这个错误。?
**编辑：**
此错误仅发生在 IE 中。Firefox 和 Chrome 会打开 excel 文件。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T09:11:37.053

我在本地计算机中指定错误的位置添加了这三个文件。

```
Microsoft.VisualStudio.QualityTools.LoadTestExcelAddIn.dll
Microsoft.VisualStudio.QualityTools.LoadTestExcelAddIn.dll.manifest
Microsoft.VisualStudio.QualityTools.LoadTestExcelAddIn 
```

它工作正常，IE 打开 Excel 文件。

# xpath - HTML 敏捷包 - 使用 XPath 获取单个节点 - 对象引用未设置为对象的实例

> ID：15826875
> 
> 赞同：10
> 
> 时间：2013-04-05T05:52:35.140
> 
> 标签：xpath, html-agility-pack

这是我第一次尝试使用 HAP 获取元素值。尝试使用 InnerText 时出现空对象错误。

我正在抓取的 URL 是：- [http://www.mypivots.com/dailynotes/symbol/659/-1/e-mini-sp500-june-2013](http://www.mypivots.com/dailynotes/symbol/659/-1/e-mini-sp500-june-2013) 我试图从 Day Change 中获取当前高点的值汇总表。

我的代码在底部。首先，我只想知道我是否以正确的方式进行此操作？如果是这样，那么仅仅是我的 XPath 值不正确吗？

XPath 值是使用我发现的一个名为 htmlagility 助手的实用程序获得的。下面 XPath 的萤火虫版本也给出了相同的错误：- /html/body/div[3]/div/table/tbody/tr[3]/td/table/tbody/tr[5]/td[3 ]

我的代码：-

```
WebClient myPivotsWC = new WebClient();
string nodeValue;
string htmlCode = myPivotsWC.DownloadString("http://www.mypivots.com/dailynotes/symbol/659/-1/e-mini-sp500-june-2013");
HtmlAgilityPack.HtmlDocument doc = new HtmlAgilityPack.HtmlDocument();
doc.LoadHtml(htmlCode);
HtmlNode node = doc.DocumentNode.SelectSingleNode("/html[1]/body[1]/div[3]/div[1]/table[1]/tbody[1]/tr[3]/td[1]/table[1]/tbody[1]/tr[5]/td[3]");
nodeValue=(node.InnerText); 
```

谢谢，威尔。

* * *

## 回答 #1

> 赞同：30
> 
> 时间：2013-04-05T08:01:01.470

您不能依赖诸如 FireBug 或 Chrome 等开发人员工具来确定您所追求的节点的 XPATH，因为此类工具给出的 XPATH 对应于内存中的 HTML DOM，而 Html Agility Pack只知道服务器发回的原始 HTML。

您需要做的是直观地查看发回的内容（或只是查看源代码）。例如，您会看到没有 TBODY 元素。所以你想找到任何有区别的东西，例如使用[XPATH 轴。](http://www.w3schools.com/xml/xpath_axes.asp)此外，您的 XPATH，即使它有效，也不会对文档中的更改有很强的抵抗力，因此您需要找到更“稳定”的东西，以便抓取更具前瞻性。

这是一个似乎有效的代码：

```
HtmlNode node = doc.DocumentNode.SelectSingleNode("//td[@class='dnTableCell']//a[text()='High']/../../td[3]"); 
```

这就是它的作用：

*   找到一个 CLASS 属性设置为“dnTableCell”的 TD 元素。// 标记表示搜索在 XML 层次结构中是递归的。
*   找到一个包含等于“高”的文本（内部文本）的 A 元素。
*   向上导航两个父母（我们将到达最近的 TR 元素）
*   从那里选择第三个 TD 元素

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-10-20T08:58:44.583

就像*Simon Mourier*解释的那样，您获得了服务器发送的原始 HTML。您需要的元素尚未呈现，因此您无法检索它，因为它不存在于 DOM 中。解决此问题的一个简单方法是使用 Web 渲染器来构建 DOM，而不是您可以抓取 HTML 并抓取它。我像这样使用[WatiN](http://watin.org/)：

```
WatiN.Core.Settings.MakeNewInstanceVisible = false;
WatiN.Core.Settings.AutoMoveMousePointerToTopLeft = false; 
IE ie = new IE();
ie.GoTo(urlLink); 
ie.WaitForComplete();
string html = ie.Html;
ie.close(); 
```

# string - 我想打印两个数字的加法。例如“ Vishal 有 20+30 卢比。”

> ID：15826876
> 
> 赞同：-1
> 
> 时间：2013-04-05T05:52:36.857
> 
> 标签：string, c#-4.0

我有一个有 2 个整数的语句，所以我想打印这两个数字的加法。例如“ Vishal 有 20 + 30 卢比。” 提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-05T05:54:56.220

```
Console.Write(String.Format("Visual has {0} + {1} rupees", 20, 30)); 
```

# python - 如何为 ndb Query 构造函数创建一个 datastore_query.Order 对象？

> ID：15826877
> 
> 赞同：0
> 
> 时间：2013-04-05T05:52:40.603
> 
> 标签：python, google-app-engine, app-engine-ndb

我在[https://developers.google.com/appengine/docs/python/ndb/queryclass](https://developers.google.com/appengine/docs/python/ndb/queryclass)注意到，ndb.Query 构造函数有一个可选参数，允许您在查询中指定顺序。此参数的类型必须为 datastore_query.Order，但我似乎找不到有关此对象或如何创建它的任何文档。我想做的是指定要排序的模型属性列表：

```
property_list = [Item.property1, Item.property2]
items = Item.query(orders=Order(property_list)) 
```

代替：

```
items = Item.query().order(Item.property1, Item.property2) 
```

有任何想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T06:02:32.210

我认为您正在寻找的是`datastore_query.CompositeOrder`由`PropertyOrder`列表中的属性组成的。[Order 子类](https://code.google.com/p/googleappengine/source/browse/trunk/python/google/appengine/datastore/datastore_query.py)的来源似乎解释得很好，您可以看看[ndb.Query.order()](http://appengine-ndb-experiment.googlecode.com/hg-history/0.1/ndb/query.py)是如何构造它们的，然后自己动手将对象传递给构造函数。

（我想不出只使用 .order() 不合适的情况，而且会简单得多。）

# c# - 多个条件的第二个 Linq 过滤器

> ID：15826882
> 
> 赞同：0
> 
> 时间：2013-04-05T05:53:00.393
> 
> 标签：c#, linq

我有一个类（简化）如下：

```
class AppMeta
{
    public int Id { get; set; }
    public string Scope { get; set; }
    public User CreatedBy { get; set; }
} 
```

我创建了一个 LINQ 语句，通过交叉引用整数列表并丢弃匹配项来正确过滤结果：

```
var hiddenApps = List<int>();
//populate hiddenApps
var listItems = List<rawdata>;
//populate listItems
List<AppMeta> apps = AppMeta.Collection(listItems).Where(i => !hiddenApps.Contains(i.Id)).ToList() 
```

我的问题是，我需要进一步过滤这个列表，如下所示，

`(Where Scope == "user" && Where User.LoginName == CurrentUser.LoginName)`

我仍然可以在一个 Linq 语句中做到这一点，IE 我可以将它与上面的行结合起来吗？最好的方法是什么？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-05T05:55:48.037

您可以在`Where`子句中指定多个条件。将您的 Where 子句修改为：

```
.Where(i => !hiddenApps.Contains(i.Id) 
            && i.Scope == "user" 
            && i.CreatedBy.LoginName == CurrentUser.LoginName ) 
```

所以你的查询是：

```
List<AppMeta> apps = AppMeta.Collection(listItems)
                            .Where(i => !hiddenApps.Contains(i.Id) 
                                   && i.Scope == "user" 
                                   && i.CreatedBy.LoginName == CurrentUser.LoginName)
                            .ToList(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T06:04:40.787

与其创建另一个查询，不如尝试将这些条件添加到您的`Where`方法中？

```
var loginName = CurrentUser.LoginName;
List<AppMeta> apps = AppMeta.Collection(listItems)
                        .Where(i => !hiddenApps.Contains(i.Id) && 
                                    i.Scope == "user" &&
                                    i.CreatedBy == loginName )
                        .ToList(); 
```

只要确保该`CurrentUser.LoginName`类型是`User`

# opengl - GLSL - 将属性绑定到语义

> ID：15826884
> 
> 赞同：3
> 
> 时间：2013-04-05T05:53:05.127
> 
> 标签：opengl, attributes, glsl, shader, semantics

我在这里看到了有关此主题的堆栈溢出的许多问题和答案。从这些答案中，我想出了一个可能的解决方案，将 GLSL 属性绑定到用户定义的语义。我想获得一些关于它的意见和讨论，并检查它是否是一个有效的想法。

首先，假设我们有一些用户定义的语义列表：

```
enum VertexElementSemantic
{
  POSITION, NORMAL, AMBIENT, DIFFUSE, SPECULAR,
  TEX_COORD0, TEX_COORD1, TEX_COORD2, TEX_COORD3,
  INDICES
}; 
```

以及封装设置顶点属性指针所需数据的结构。

```
struct VertexElement
{
  unsigned int m_source;
  unsigned int m_offset;
  unsigned int m_stride;
} 
```

现在，一些 RenderOperation 类将包含 VertexElementSemantics 到 VertexElements 的映射。VertexElement 的格式、大小以及是否归一化都可以由它的 Semantic 来确定。

为了设置这个指针，我们需要的最后一点信息是属性位置本身。这是我们想要将 VertexElementSemantic 绑定到特定位置的地方。

从[这个问题的第一个答案中](https://stackoverflow.com/questions/9561348/glsl-opengl-3-x-how-to-specify-the-mapping-between-generic-vertex-attribute-indi)，我们了解到我们可以像这样明确地声明每个属性的期望位置：

```
layout(location = 0) in vec3 position; 
```

所以我们*可以*将我们的语义映射到这些硬编码的位置，但是我们需要在每个着色器中对这个位置进行硬编码。对这些位置的任何更改都需要我们检查和编辑每个着色器。

但是，这个值根本不必由着色器源提供。从[这个问题的答案中](https://stackoverflow.com/questions/2378448/externally-define-preprocessor-macros-in-glsl)，我们了解到我们可以在外部将#defines 添加到我们的着色器中，如下所示：

```
char *sources[2] = { "#define FOO\n", sourceFromFile };
glShaderSourceARB(shader, 2, sources, NULL); 
```

使用它，我们可以构建一个字符串，为每个语义的所需位置#defines 变量。例如，我们可以构建一个字符串，最终将以下内容插入到每个着色器的开头：

```
#define POSITION_LOCATION 0
#define NORMAL_LOCATION 1
#define AMBIENT_LOCATION 2
... 
```

回到明确声明我们的属性位置，我们现在应该能够这样声明它们：

```
layout(location = POSITION_LOCATION) in vec3 position;
layout(location = NORMAL_LOCATION) in vec3 normal;
layout(location = AMBIENT_LOCATION) in vec4 ambient; 
```

此方法允许我们在代码中设置每个语义的所需属性位置。它还为着色器本身提供了一种语义绑定感觉。像这样的系统是朝着正确方向迈出的一步来解决为属性位置提供意义的问题吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-05T07:18:09.887

让我们考虑一下这个想法的后果。

> 我们可以构建一个字符串，为每个语义的所需位置#defines 变量。例如，我们可以构建一个字符串，最终将以下内容插入到每个着色器的开头：

嗯，这在两个方面都很糟糕。首先，有`#version`问题。如果您想使用1.10 以外的***任何****GLSL 版本，您必须*提供`#version`声明。并且该声明*必须*是*在 shader 中的第一件事*，在评论和空白之外。

通过将这些`#define`s 放入您的着色器源（无论是通过字符串连接，还是像您一样使用多个字符串），那么您必须接受某些后果。通常，每个单独的着色器文件都有自己的`#version`声明，指定它使用的 GLSL 版本。但是如果你想使用 GLSL 1.10 以外的东西，你就不能这样做。你必须让你的 C++ 源代码`#version`在你`#define`的 s之前生成 ,

这意味着您的着色器源现在与其编译的版本*分离*。这是可行的，但这意味着您的着色器源现在不清楚，不知道它是什么版本。您可以通过其他方式传达版本，例如使用文件名（例如，`lit_transform_330.vert`将使用版本 3.30）。但是你必须设计这样一个系统。

既然版本问题已经解决了，那么下一个问题：你所做的是*多余*的。

您使用诸如“语义”之类的术语，这对 OpenGL 没有任何意义。您似乎正在尝试将某种形式的名称分配给特定的顶点属性，以便您可以在着色器和 C++ 代码中看到该名称的使用，从而知道它用于什么属性。

也就是说，您要定义“名称”和“属性索引”之间的映射。您希望它在一个地方定义，以便它自动传播到每个着色器并在整个 C++ 源代码中一致使用。

好吧，我们已经有了名称和属性索引之间的映射。它被称为“属性名称和属性索引之间的映射”。每个着色器都必须为其属性提供名称。这就是您在定义中看到的字符串名称，例如`in vec4 position;`属性的名称是`position`. 这就是 GLSL 在使用变量时所称的变量。

如您链接到的答案中所述，您可以在链接程序之前将特定属性名称与 C++ 代码中的属性索引相关联。这是通过[函数完成](http://www.opengl.org/wiki/GLAPI/glBindAttribLocation)[的`glBindAttribLocation`](http://www.opengl.org/wiki/GLAPI/glBindAttribLocation)。您可以设置任意数量的映射。当程序链接时，与指定位置匹配的属性将被分配到该位置。

您所需要的只是一个“语义”列表（又名：属性索引）以及您需要着色器用于这些属性的字符串名称。

你可能会说，“好吧，我希望着色器可以随意调用变量。” 我的回答是……有什么区别？您建议的方案已经要求用户遵守特定的命名约定。只是他们必须使用的名称不是变量的名称；它是您在声明时与变量关联的某个标签的名称。

那么具体有什么区别呢？着色器的编写者必须遵守顶点属性变量名称的设置命名方案？所有着色器中相同概念的一致名称不是*一件好事吗？*

一个区别是，如果他们在你的方案下错误地输入了“语义”，他们会得到一个着色器编译错误（因为他们输入错误的“语义”名称与任何实际`#define`的 s 不匹配）。然而，如果他们错误地输入了属性的名称，那么只有在使用属性时没有错误地输入该名称时，他们才会得到编译器错误。

有办法抓住它。它需要使用[程序自省](http://www.opengl.org/wiki/Program_Introspection#Attributes)来遍历活动属性列表，并根据预期的属性名称检查它们。

您可以将其归结为一组非常简单的约定。使用您的“语义”定义：

```
enum VertexElementSemantic
{
  POSITION, NORMAL, AMBIENT, DIFFUSE, SPECULAR,
  TEX_COORD0, TEX_COORD1, TEX_COORD2, TEX_COORD3,
  INDICES, NUM_SEMANTICS
};

//in the C++ file you use to link your shaders
const char *AttributeNames[] =
{
  "position", "normal", "ambient", "diffuse", "specular", 
  "tex_coord0", "tex_coord1", "tex_coord2", "tex_coord3", 
  "indices",
}

static_assert(ARRAY_COUNT(AttributeNames) == NUM_SEMANTICS); //Where `ARRAY_COUNT` is a macro that computes the number of elements in a static array.

GLuint CreateProgram(GLuint vertexShader, GLuint fragmentShader)
{
  GLuint prog = glCreateProgram();
  //Attach shaders
  for(int attrib = 0; attrib < NUM_SEMANTICS; ++attrib)
  {
    glBindAttribLocation(prog, attrib, AttributeNames[attrib]);
  }

  glLinkProgram(prog);

  //Detach shaders
  //Check for linking errors

  //Verify that attribute locations are as expected.
  //Left as an exercise for the reader.

  return prog;
} 
```

就个人而言，我只会使用一个数字。无论您使用什么，编写着色器的人都必须遵守一些约定。这意味着当他们去编写一个获取位置的顶点着色器时，他们将不得不查找如何说“这是一个位置”。因此，无论如何，他们都必须在某处的表格中查找*某些内容。*

在这一点上，它归结为最可能的问题是什么。最有可能的问题要么是认为他们知道答案但实际上是错误的人（即：没有查），要么是错误输入答案的人。打错数字真的很难（尽管它肯定会发生），而打错数字要容易得多`POSITION_LOCATION`。前一个问题可能发生在一个或多或少相等的人身上。

所以在我看来，如果你的约定是基于数字而不是文字，你更有可能得到更少的约定不匹配问题。

# c# - 将 DataView 加载到 DataGrid 会导致 ShowDialog 挂起？

> ID：15826891
> 
> 赞同：1
> 
> 时间：2013-04-05T05:53:49.800
> 
> 标签：c#, wpf, wpfdatagrid

我有这个非常简单的代码：

```
var xlData = Excel8OleDbHelper.ImportExcelFile(fileName);
var viewModel = new MyViewModel(xlData);

_window = new MyWindow(viewModel);
_window.ShowDialog(); 
```

该`Excel8OleDbHelper.ImportExcelFile()`方法有效，我可以在调试时查看DataTable的内容。问题是它`_window`根本不显示并且线程的行为就像它一样（即它正在等待关闭未显示的窗口）。

如果我为此更改代码：

```
var viewModel = new MyViewModel(new DataTable());

_window = new MyWindow(viewModel);
_window.ShowDialog(); 
```

然后窗口出现，但当然是一个空的网格。

网格的 XAML：

```
<DataGrid x:Name="MyGrid" Margin="4" 
    IsReadOnly="True" SelectionUnit="Cell" 
    ItemsSource="{Binding Path=GridSource}" /> 
```

以及 ViewModel 的构造函数：

```
public DataView GridSource { get; private set; }
public MyViewModel(DataTable dataSource)
{
    GridSource = dataSource.DefaultView;
} 
```

这是我第一次使用 WPF 数据网格，所以也许我在这里做错了，但我真的不明白网格有什么问题会阻止窗口出现，没有给我一个例外，实际上冻结我的应用程序。

有什么线索吗？如果缺少任何东西，我很乐意提供更多代码！

**更新** 加载 116 行 x 47 列的 Excel 工作簿有效；我需要加载的文件有 5,000+ 行 x 47 列 - WPF DataGrid 是否**需要**对更大的数据集进行分页？WinForms DataGridView 没有问题，而且速度更快，我认为它的 WPF 对应物会以类似的方式工作。所以问题是`ShowDialog`等待数据网格加载数据。我认为它已挂起，因为我没想到 WPF DataGrid 会花费一分钟以上的时间来完成 WinForms DataGridView 立即执行的操作。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-06T04:52:07.680

现在我们已经确定了数据量的问题：

*   您是否打开了行和列虚拟化？您可以在数据网格上设置 EnableRowVirtualization=true
*   您是否使用自动调整大小的列？为每个新行/列重新计算最佳大小可能是一个性能拖累 - 尝试使用固定列大小或比例 (1*) 大小。您可以尝试对行的高度使用类似的方法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T07:14:17.503

尝试这样做。我不确定这是否可行。我认为在 main 中加载 Excel 会导致问题或死锁。

```
var xlData = Excel8OleDbHelper.ImportExcelFile(fileName);
var viewModel = new MyViewModel(fileName);
_window = new MyWindow(viewModel);
_window.ShowDialog();

public class MyViewModel
{
    public MyViewModel(string filename)
    {
        filename = filename;
    }

    private string _filename;

    private DataTable _xlData;
    public DataTable XlData
    {
        return _xlData ?? (_xlData = Excel8OleDbHelper.ImportExcelFile(fileName);
    }
} 
```

# c++ - 使用 Visual Studio 2012 / Visual Studio 2013 构建 Qt5，并与 IDE 集成

> ID：15826893
> 
> 赞同：50
> 
> 时间：2013-04-05T05:53:51.333
> 
> 标签：c++, visual-studio-2012, visual-studio-2013, qt5, directx-11

如何让 Qt5 下载并与 Visual Studio 2012 集成？您会遇到哪些问题，您如何解决这些问题？

**更新重新。视觉工作室 2013**

Visual Studio 2013 也报告了成功，并且正在为 VS 2013 维护注释。

另请注意，**问题的重点**是仅使用 Visual Studio*构建Qt。*还有关于与 Visual Studio IDE 集成的注意事项

* * *

## 回答 #1

> 赞同：77
> 
> 时间：2013-04-09T04:19:38.097

此方法经过测试可在 Visual Studio 2013 上运行。使用 Visual Studio 2012 和 2013 的预构建二进制文件可[在此处](http://www.qt.io/download-open-source/#)获得，包括 OpenGL 版本。

## **第 1 步：设置**

1.  [在此处](http://www.rapidee.com/en/download#winxp)下载并安装 RapidEE 。RapidEE 是一个 Windows 环境变量编辑器。它对于这个过程的其余部分（并且只是一般来说）非常有用。

2.  安装 DirectX 11 SDK。它现在是 Windows 8 SDK 的一部分，因此您首先必须安装 DirectX 10 SDK，您可以在[此处](http://www.microsoft.com/en-us/download/details.aspx?id=6812)获取（但请参阅下一句中的警告）。如果您安装了 Visual C++ 2010 Redistributable Package，并且您可能已经安装了（它与 VS 2010 一起自动安装），请按照[此处](http://blogs.msdn.com/b/chuckw/archive/2011/12/09/known-issue-directx-sdk-june-2010-setup-and-the-s1023-error.aspx)列出的步骤帮助安装 DirectX 10。[安装 DirectX 10 SDK 后，请在此处](http://msdn.microsoft.com/en-us/windows/desktop/hh852363.aspx)下载并安装 Windows 8 SDK ，其中包含 DirectX *11* SDK。 *是的，这很痛苦，但除非您知道自己拥有 DirectX 11 SDK，否则 Qt 构建将失败*。

3.  [从Python.org](http://www.python.org/download/)或[Anaconda Python](http://continuum.io/downloads#py34)安装适用于 Windows 的 Python（我听说过 2.6+，使用 3.3）。

4.  [从ActiveState](http://www.activestate.com/activeperl/downloads)安装 Perl for Windows 。

* * *

## **第 2 步：Gitting**（和构建）**Qt5**（是的，[这意味着 Git](http://www.syntevo.com/smartgithg/index.html)）

1.  按照qt-project 网站上的[Windows 安装指南进行操作。](http://qt-project.org/wiki/Building_Qt_5_from_Git)

    **概括**

    总结以上链接和以下注释的详细信息（如果您有任何错误，请参阅以下注释；他们可能会得到答复）：

    *   卸载 Avast（如果您已安装）以避免构建错误。是的，字面意思是**卸载**它。将其从系统中 100% 删除。 *停用*它将**不起作用**。请参阅下面的详细说明。

    *   **第一步的注意事项**：不要在`git`下面的第一次拉动中使用 SmartGit（除非您真的知道自己在做什么），因为 SmartGit 的默认设置会拉动*所有内容*，这不是您想要的。

    *   必须安装[适用于 Windows 的 Git 。](http://msysgit.github.io/)

    *   从任何命令提示符窗口中确定要放置`Qt`安装的位置，以及`cd`将包含新安装的目录。（因为这个过程很脆弱，容易出错，所以我个人直接把它放在了`C:`，但这可能没有必要）。

    *   从上面的目录，执行：

        **`git clone git://gitorious.org/qt/qt5.git qt5`**

        这很快。完成后，您应该在“稳定”分支上，但您始终可以在进入新创建的目录`git checkout stable`后运行，以确保。确认使用VS2013 64 位。`cd``qt5``git checkout 5.4.1`

    *   **在继续下一步之前，**关闭当前的命令提示符窗口（如果它不是 Visual Studio 命令提示符窗口）。**这是为了确保您在后续步骤中使用 Visual Studio 命令提示符窗口。**

    ***   接下来运行 32 位 (x86) 或 64 位 VS Tools 命令提示符（取决于您将 Qt5 构建为 32 位还是 64 位）。要访问它，您必须通过“开始”菜单找到它 - 转到`Program Files`-> `[Microsoft] Visual Studio 2012/2013`-> `Visual Studio Tools`，您会在那里看到一个有趣的名字；名称应包含短语`Native Tools`；32 位版本将`x86`在名称中，64 位版本将`x64`在名称中。

        *   `cd``qt5`从上述步骤进入新创建的目录。

        *   从 Visual Studio 命令提示符中，必须下载 Qt 子模块的其余部分：

        **`perl ./init-repository --no-webkit`**

        执行此步骤需要一些时间，因为它必须下载很多，但在良好的连接上并不算太糟糕。

        *   然后下载任何剩余的`init-repository`未下载的可选子模块 - SmartGit 仅在此阶段开始运行良好（请参阅下面的评论）。

        *   Qt 下载完成后，以下命令准备构建环境（也应使用 [32|64] VS Native Tools 命令提示符执行）：

        **`configure -developer-build -opensource -confirm-license -mp -nomake examples -nomake tests -debug-and-release -c++11 -no-warnings-are-errors -platform win32-msvc2012`**.

        此命令行的注意事项：该`c++11`选项在 VS2012 编译器中可能不是必需的，但适用于 VS2013；`-no-warnings-are-errors`如果您在 ANGLE 的 64 位自动构建中遇到错误，这是必要的；`-platform`自动设置为`win32-msvc2012`，因此默认情况下使用 32 位构建的 Qt，并且 -platform 可能不需要在命令行中提供（即使您安装了以前版本的 VS）。对于 VS2013，使用`-platform win32-msvc2013`.

        执行此步骤需要几分钟，但还不错。

        *   最后，在系统上实际构建 Qt 的命令（也在 VS Native Tools 命令提示符内运行）很简单：

        **`nmake`**

        *预计要等待数小时才能完成构建。* 如果您指定了一个输出文件夹`-prefix`（请参见下面的注释），则使用`nmake install`，否则就是这样。** 

 *** * *

**笔记：**

**一般注意事项**

如果您对上面链接的文档感到困惑，只是一个仅供参考，将使用 ANGLE 库（默认情况下）而不是 OpenGL，这就是您必须安装上面的 DirectX 11 的原因。

确保[使用 VS Native Tools 命令提示符](http://msdn.microsoft.com/en-us/library/ms229859.aspx)运行上述链接中的所有命令（即`perl .\init-repository --no-webkit`、`configure`和`nmake`）。您将使用 [32|64] 位命令提示符（`x86`或`x64`），具体取决于您将 Qt 构建为 32 位还是 64 位。如果您在打开命令提示符的情况下安装 perl（确保它位于 中`PATH`），则需要重新启动命令提示符才能将 perl 识别为命令。

运行“init-repository”（来自上述链接中的步骤）时，文档中并不清楚，但您必须通过执行此操作`perl`；即`perl ./init-repository --no-webkit`。然而， `configure`and`nmake`命令是直接调用的。

传递给的一个非常有用的选项`configure`是`-mp`，它会导致 Qt 在多个内核上并行构建，从而显着加快（长）构建时间。

要指定输出文件夹，`-prefix [outfolder]`请在`configure`命令中添加 。例如，使用`-prefix %CD%\output\x64\vc12`将是 64 位 Visual Studio 2013 (12.0) 构建的合适输出（子）文件夹。

* * *

**Unicode 支持 (ICU)**

如果你想要 Unicode 支持（通过[ICU](http://site.icu-project.org/download))，请特别注意上面链接中的说明。总之，ICU 必须在 VS 2012 中从头开始构建，因为 Windows 的唯一预构建 ICU 二进制文件是为 VS 2010 构建的。在 VS 2012 中构建是无痛的 - 只需在 <icuroot>\icu\source 中找到 ICU 解决方案 (.sln) \allinone，并在调试和发布模式下构建（在 32 位或 64 位模式下，取决于您构建 Qt 的模式 - 不要构建其他位，因为 ICU 将覆盖输出文件夹二进制文件）。（Qt 构建过程将正确定位 ICU 的调试与发布构建。）它应该构建没有错误。然后，将 <icuroot>\lib 的路径作为字符串条目添加到（可能）名为“LIB”的新 Windows 环境变量中（您可以为此使用 Rapid EE；使 LIB 成为“可扩展字符串” 在 RapidEE 中，即使只有 1 个条目），并且还将 <icuroot>\include 的路径添加为（可能）名为“INCLUDE”的新 Windows 环境变量中的字符串条目。（注意：将这些路径添加到 PATH 变量将不起作用。）Qt 构建后，您可以删除所有刚刚添加的条目。另外，做**将 ICU dll (<icuroot>\bin) 的运行时路径添加到环境的 PATH 变量中，否则 Qt 构建过程（特别是在`uic.exe`运行时）会产生[欺骗性和误导性错误](https://stackoverflow.com/questions/15953310/what-does-set-path-path-mean-in-a-windows-shell-script-and-how-can)**。最后，在`configure`命令行（如下）上，一定要添加`-icu`一个额外的命令行参数。

**重症监护室故障**：

目前，当启用 ICU 时，似乎存在使用 VS2012 编译器构建 Qt5 的错误。具体来说，`qtbase\src\corelib\codecs\qtextcodec.cpp`第 688 行（Qt5 v5.02）未能返回编解码器名称“US-ASCII”的编解码器（编解码器为 NULL），导致“lrelease.exe”在稍后尝试取消引用编解码器时崩溃（我已经迷失了方向该文件/行号，但它是 NULL`codec`变量的明显取消引用）。不幸的是，这意味着据我所知，**WebKit 不能用（至少）32 位的 Qt5 和 VS2012 编译器构建**，因为 WebKit 需要 ICU。

*如果有人能够使用启用 ICU 的 VS2012 编译器构建 Qt5，请更新此 Wiki 并说明。*

**ICU 说明**：

如果你的路径中有 ICU，Qt 会自动构建它。换句话说，标志“ `-icu`”是隐含的。但是，这会导致上面提到的“lrelease.exe”错误。所以解决这个问题的方法是将标志 -no-icu 添加到配置命令中

* * *

**附加子模块**

如果*除了*默认子模块之外还需要子模块，您可以在完成命令*后*使用 SmartGit（或命令行）`init-repository`。SmartGit 可能是最简单的，因为您不需要将路径复制到命令行，而是可以直接使用用户界面。

***警告：*不要下载 OPTIONAL `qlalr`SUBMODULE**，因为它不会与整个 Qt 构建一起构建，并且对于 Qt 用户来说不是必需的，但仅用于内部 Qt 开发。

*警告：*必须使用shell 命令行，后跟`perl .\init-repository --no-webkit`，（不是 SmartGit）；这些步骤只会正确下载默认的 Qt 子模块。您**不能**使用 SmartGit 来克隆和下载 Git 文件，`git://gitorious.org/qt/qt5.git`因为 SmartGit 当前无法正确处理子模块。相反，打开一个标准的 Windows shell 命令提示符（使用任何命令提示符应用程序，不一定是 VS Tools 命令提示符），并且（假设 Git 已正确安装在系统上；SmartGit 安装可能会或可能不会自动执行此操作；如果没有，去[Git for Windows](http://msysgit.github.io/)直接安装）`git clone git://gitorious.org/qt/qt5.git`直接从命令行输入；也许跟随`git checkout stable`（我不确定这个分支是否默认签出）；然后使用命令行`perl .\init-repository --no-webkit`拉下默认存储库（WebKit 除外，它需要 ICU 和 ICU 似乎无法在 VS2012 的 32 位 Qt5 中构建；请参阅评论）。

因此，下载所有必要的 Qt 源文件的步骤是： 1\. 使用 Windows 命令行执行初始`git clone git://gitorious.org/qt/qt5.git`; 2.`perl .\init-repository --no-webkit`从 VS Tools 2012 命令提示符中执行；然后可选 3\. 使用 SmartGit（来自上面的链接）（或等效项）“打开现有项目”（选择 Qt5 根文件夹）并从 SmartGit 中进行拉取以下载任何非默认存储库（但不要下载`qlalr`） . 就是这样; 您的系统上有所有必要和可选的 Qt 文件（包括子模块）。

*如果有人发现其他可选子模块无法构建和/或仅供内部使用（除了`qlalr`），请更新此 Wiki 以指定它们。*

一般来说，通过默认获取的子模块`perl .\init-repository --no-webkit`就足够了。如果您知道或稍后发现您的其他（非默认）模块，您可以随时添加它们。

* * *

**一般问题**

如果在某些时候您收到错误说命令“python”（或任何类似的）无法识别，只需检查包含`python.exe`（或适当的`.exe`）的文件夹是否是路径变量的一部分。如果不是，请添加它（为方便起见，使用上面提到的 RapidEE）并再次尝试您正在执行的操作。如果它在那里，请确保在将命令添加到路径后重新启动命令提示符。

另外两个与路径相关的问题需要注意（引自与上述链接相关的文档）：“*确保在 msysgit 提供的 perl 可执行文件之前的路径中找到 perl 可执行文件，因为后者已过时*”；和“*如果 sh.exe 在您的 PATH 中（例如由于 git 或 msys 安装），您可能无法构建。此类错误由 qt5-srcqtbasebinqmake.exe: command not found 等指示。在这种情况下，请确保 sh.exe 不在您的路径中。如果您的安装已配置，则必须重新配置。* "

在此过程中，您可能会在使用文件时遇到错误`nmake`。如果这样做，只需进入该目录并强制构建问题文件。`nmake`然后再次在 Qt5 上开始该过程。

* * *

**具体问题**

*警告：*您可能需要在 Qt过程中禁用防病毒软件**和沙盒**`nmake`（为了安全起见，在整个过程中）。在内部，Qt 执行许多防病毒程序可以干扰的可执行文件（有时是静默）。特别是，如果您有任何沙盒软件，请务必禁用沙盒。

*警告：* **阿瓦斯特！**沙盒用户：Avast 沙盒有一个错误，即使您禁用 Avast 的自动沙盒，沙盒也不会关闭，它会`rcc`在 Qt 的构建过程中静默沙盒由 Qt 程序自动创建的所有资源文件。对于任何安装了 Avast 自动沙盒功能的用户，即使关闭了自动沙盒功能，Qt 构建总是会失败。解决此问题的唯一方法是完全卸载 AVAST！在构建 Qt 之前从您的系统中获取。您可以重新安装 Avast！Qt构建完成后。

* * *

Qt5 的编译可能需要很长时间（几个小时，即使使用 -mp 多线程选项也是如此）。耐心。

* * *

## **第 3 步：将 Qt5 与 Visual Studio 2012 集成**

1.  下载并安装 Visual Studio [Qt5 插件](http://www.qt.io/download-open-source/#section-7)。它位于页面底部附近的“其他下载”部分，不适用于 Visual Studio Express。

2.  打开 Visual Studio 2012，然后转到`Qt Options`（它在顶部菜单栏的“Qt5”下）。

3.  在 Qt Versions 选项卡中，检查 Qt5 是否已经存在。如果不是，请单击添加，选择一个版本名称（可能是 5.xx 之类的名称），然后导航到包含`qmake.exe`（通常`C:\Qt\qt5\qtbase`）的文件夹。

4.  退出 Qt 选项对话框。

5.  创建一个新的 Visual Studio 项目。当您看到“新建项目”对话框时，您应该看到“`Qt5 Projects`模板”选项。

6.  有了新的 Qt 项目后，右键单击它并选择“转换为 QMake 生成的项目”。构建项目，然后再次右键单击它并选择“将项目转换为 Qt 插件项目”。再次构建，然后运行。您现在应该有一个工作的 Qt 项目。

* * *

## **将 Qt5 添加到现有的 Visual Studio 2012 VC++ 项目**

*本部分可能适合您，也可能不适合您。如果您遇到问题或有其他/更好的解决方案，请发表评论或编辑相应的步骤。*

1.  在 VS 中右键单击您的项目，然后选择“卸载项目”。再次右键单击该项目，然后选择“编辑[项目名称].vcxproj”。这将打开项目文件，以便您可以将 Qt5 添加到其中。

2.  转到 Global PropertyGroup，然后添加或更改`<Keyword>`为 Qt4VSv1.0。

3.  重新加载项目，然后右键选择“Convert project to Qt Add-in project”

4.  等待转换完成（不会超过几秒钟），然后选择`Qt5>Project Settings`。转到 Modules 选项卡，然后检查您希望项目依赖的模块（基本模块是`Core`、`Widgets`和`GUI`）。

5.  按照[此处](http://msdn.microsoft.com/en-us/library/73f9s62w.aspx)的步骤，添加目录`$(QTDIR)\include`。

    * * *

    **笔记：**

    如果在任何时候你都包含`windows.h`，你需要在这样做`#define NOMINMAX` *之前*防止与`qdatetime.h`.

    完成上述步骤后，您可以通过选择 使您的项目可供 Qt Creator 使用`Qt5>Create basic .pro file`。

* * *

**尾注：**如果您对本指南中包含的信息有任何疑问，请将其作为新问题发布（此处不是答案），并且可能会添加答案或答案的链接。

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2013-05-14T00:17:36.870

[基于上面优秀的 wiki 和这个 qt-project 链接](http://qt-project.org/wiki/Building_Qt_5_from_Git)，我成功地将 Qt 5.0.2 与 Windows 7 上的 Visual Studio 2012 集成。由于我以稍微不同的方式进行了一些步骤，因此我认为将其发布在此处是有效的：

下面的顺序应该按照给定的确切顺序执行：

0 - 卸载 Avast（如果已安装）以避免构建错误。由于 Avast 错误，停用它将不起作用；

1 - 安装 Git (>= 1.6.x);

2 - 安装 Python (>=2.6.x)。[python.org]；

3 - 安装 Perl (>=5.14)。[activestate.com]；

4 - 安装红宝石。[rubyinstaller.org]；

5 - 打开 Windows 7 命令提示符（现在不要使用 VS2012 开发者命令提示符）；

6 - 为 qt5 选择您想要的任何目录，关于所选路径不允许有**空格。**我决定使用路径“C:\qt5”；

7 - 返回 Windows 7 命令提示符（在我的情况下，提示“C:\qt5>”）类型：

```
git clone git://gitorious.org/qt/qt5.git qt5 
```

8 - 签出稳定版本：

```
cd qt5
git checkout stable 
```

9 - 您可能会收到一条消息，确认此版本已经稳定。关闭命令提示符；

10 - 打开 Visual Studio 的开发人员控制台*（所有程序 > Visual Studio 2012 > Visual Studio 工具 > VS2012 的开发人员命令提示符）*并将当前目录更改为您选择的目录（在我的示例中为“C:\qt5”）；

11 - 下载 Qt 子模块，忽略 webkit（构建错误的常见来源......）：

```
perl .\init-repository --no-webkit 
```

12 - 现在输入这个巨大的命令来正确配置你的构建：

```
configure -developer-build -opensource -nomake examples -nomake tests -nomake demos -debug-and-release -c++11 -mp -nomake webkit -confirm-license 
```

13 - 接下来，确保不会**构建模块****qlalr**。为此，请打开 Windows 资源管理器并导航到您选择的 Qt 目录（在我的示例中为“ *C:\qt5 ”）并检查文件夹**qlalr 是否*存在。如果是，请删除它；

 ****14 - Time to build... 可能的构建错误来自辅助模块（例如 webkit），这不会影响 Qt 的主要功能（webkit 本身应该没有问题，因为我们之前已将配置设置为不构建它）。然后我们可以忽略它们并保持构建在独立模块上运行：

```
nmake /I /K 
```

15 - 要完成集成，请按照上面社区 wiki 的第 3 步（“第 3 步：将 Qt5 与 Visual Studio 2012 集成”）进行操作。

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2013-12-16T17:49:23.293

只想提一下，在[http://qt-project.org/downloads](http://qt-project.org/downloads)上提供了用于 Visual Studio 2012 的 Qt 5.2 的预构建版本。因此，如果您对从源代码构建 Qt 5 没有特别的兴趣，您也可以使用预构建二进制文件。

[Tver-Soft 网站](http://www.tver-soft.org/)上还有几个用于不同编译器版本的预编译 (x64) 二进制文件。

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2013-08-16T00:47:14.363

我终于能够使用 Visual Studio 2012 在 Windows 8 x64 上使用 QWebKit 编译 QT 5.1 (git)，并认为我会与那些有问题的人分享我的经验。

按照上述帖子中的说明执行步骤 1 和 2。我尝试执行第 3 步，但 SmartGit 提取了一堆无法使用 Qt5 编译的额外项目。[我能够通过从不同的 fork（例如https://qt.gitorious.org/qt/qt3d/](https://qt.gitorious.org/qt/qt3d/) ）克隆来解决大部分问题，但这对于每个额外的模块来说都太繁琐了，所以我决定不编译任何一位。

ICU support in a 32-bit build of Qt5 with VS2012 compiler 的帖子[导致 Qt5 构建失败；因此，Webkit 也无法构建](https://stackoverflow.com/questions/15975608/icu-support-in-a-32-bit-build-of-qt5-with-the-vs2012-compiler-causes-qt5-build-f)告诉我如何解决 ICU 问题。

[在http://download.icu-project.org/files/icu4c/51.2/icu4c-51_2-src.zip](http://download.icu-project.org/files/icu4c/51.2/icu4c-51_2-src.zip)下载源代码并添加该行

```
#define U_CHARSET_IS_UTF8 1 
```

到文件 %ICU%\source\common\unicode\platform.h ，其中 %ICU% 是 ICU 源代码的路径。

在 Visual Studio 2012 中打开 %ICU%\source\allinone\allinone.sln 文件并编译。将 %ICU%\bin 添加到您的路径

```
set PATH=%ICU%\bin64;%PATH% 
```

然后我在QT根目录下运行如下命令

```
configure -platform win32-msvc2012 -opengl desktop -opensource -debug-and-release -I %ICU%\include -L %ICU%\icu\lib64 -mp -qt-freetype -icu 
```

在这一点上，我开始怀疑没有人试图做我正在做的事情，因为 nmake 开始抱怨 makefile 中的意外行（所有这些都有扩展名 DerivedSources，例如 Makefile.JavaScriptCore.DerivedSources 和 Makefile.WebCore.DerivedSources ))

```
(set PATH=<stuff>;%PATH%) && .... 
```

在运行 nmake 之前手动设置 PATH 并删除直到并包括 && 的字符，例如

```
 (set PATH=<stuff>;%PATH%) && perl -ne "print $1" css\CSSPropertyNames.in ... 
```

变成

```
perl -ne "print $1" css\CSSPropertyNames.in ... 
```

最后，这些文件之一将尝试调用 win_flex.exe（或 win-flex.exe）而不是 flex。我将其更改为 flex.exe，最终编译所有内容（必须更改两次，因为我认为文件已重新生成）。

对使用 QWebKit 并与此构建相关联的程序的简要经验让我相信一切都很好。

- 更新 -

只是为了完整。根据[What does (set PATH=...;%PATH:)=^)%) mean in a Windows shell script，以及如何在 Qt5 nmake 构建的上下文中克服这一行的失败？](https://stackoverflow.com/questions/15953310/what-does-set-path-path-mean-in-a-windows-shell-script-and-how-can?lq=1)（指向[http://qt-project.org/forums/viewthread/20605](http://qt-project.org/forums/viewthread/20605)）大多数Makefile问题应该可以通过使用jsom而不是nmake来解决（尽管我仍然想知道win-flex.exe）

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2015-09-23T13:51:27.603

## 使用 Visual Studio 2015 编译 Qt 5.5：

1-修改qtbase目录中的configure.bat，使其可以生成configure.exe（仅前18行）

```
 @echo off
set QTSRC=%~dp0
set QTDIR=%CD%
rem if not exist %QTSRC%.gitignore goto sconf
echo Please wait while bootstrapping configure ...

for %%C in (cl.exe icl.exe g++.exe perl.exe) do set %%C=%%~$PATH:C

rem if "%perl.exe%" == "" (
rem    echo Perl not found in PATH. Aborting. >&2
rem    exit /b 1
rem )
if not exist mkspecs (
    md mkspecs
    if errorlevel 1 goto exit
)
rem perl %QTSRC%bin\syncqt.pl -minimal -module QtCore -outdir "%QTDIR%" %QTSRC%
rem if errorlevel 1 goto exit 
```

2-`configure -opensource -confirm-license -mp -nomake examples -nomake tests -release -c++11 -no-warnings-are-errors -platform win32-msvc2015 -no-ltcg`

3-`nmake`******

# windows-phone-7 - 尤其是跨平台应用程序 windows phone 7 中的本地数据库开发。（使用javascript开发）

> ID：15826895
> 
> 赞同：1
> 
> 时间：2013-04-05T05:53:55.280
> 
> 标签：windows-phone-7, cordova, cross-platform, local-storage, local-database

我正在为使用离线数据库的 Windows phone 7 开发应用程序。我已经看到了一些解决方案如下 Sqlite DB [http://sqlitewindowsphone.codeplex.com/](http://sqlitewindowsphone.codeplex.com/) Mango DB [http://www.kunal-chowdhury.com/2011/06/windows-phone-7-mango-tutorial -24-local.html](http://www.kunal-chowdhury.com/2011/06/windows-phone-7-mango-tutorial-24-local.html)

我的问题是所有这些数据库都使用本机代码，即 C# 开发。但我想开发本地数据库或者 phonegap 或 javascript 或者任何其他用于跨平台应用程序（特别是 Windows 手机）的数据库。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-06T00:06:03.687

您应该检查 Web SQL，这里有一些资源：

*   [Phonegap Storage 文档，包括工作代码](http://docs.phonegap.com/en/1.2.0/phonegap_storage_storage.md.html)
*   [Web SQL 数据库教程](http://marakana.com/s/post/208/tutorial_web_sql_database)

另外，考虑集成 SQLite：

*   [来自 Stack Overflow 的相关问题](https://stackoverflow.com/questions/8987238/sqlite-database-on-phonegap-ios-more-than-5mb-possible)
*   [使用 SQLite 的工作示例](https://gist.github.com/edwardtoday/2204864)

祝你好运，我希望这会有所帮助。

# matlab - 在matlab中进行一些迭代后变量变得未声明

> ID：15826896
> 
> 赞同：0
> 
> 时间：2013-04-05T05:53:55.337
> 
> 标签：matlab, memory

[MATLAB 是否在清除后保留一些变量？](https://stackoverflow.com/questions/11477918/does-matlab-keep-some-variables-after-clearing)

[Matlab：调用函数后空闲内存丢失](https://stackoverflow.com/questions/3300161/matlab-free-memory-is-lost-after-calling-a-function/3301971#3301971)

我的问题与这篇文章有关，但有一些变化。

我必须在我的下一次大程序迭代中使用以前的大程序产生的输出（输出是生成的矩阵，即我在每次迭代中生成小矩阵），所以当我使用帖子中提到的技术时，我我收到“对已清除变量的引用”的错误，我需要保留一些变量和一些生成的矩阵。怎么做？

有时错误仅在 1 次迭代后发生

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T05:59:05.737

您可以使用以下命令清除工作区中的特定变量：

```
clear myvarname 
```

您还可以使用以下方法清除可能包含`persistent`变量的函数：

```
clear myfunname 
```

所以 - 你应该找出你不想要的（键入`whos`以查看工作区或断点中的变量）并清除你不需要的那些。

另一种选择是`save`您确实想要的那些，使用您提到的明确方法，然后重新 - `load`。

# mysql - Mysql - 使用 sql 语句的 TABLE 字段布局

> ID：15826906
> 
> 赞同：1
> 
> 时间：2013-04-05T05:54:55.197
> 
> 标签：mysql, sql, pivot

是否有任何格式化sql语句结果如下.......

```
TABLE1  
ID ticket_number  
1   2001  
2   2002  

Table2  
tn    name                 create_time  
2001  sms_to_customer      2013-05-05 10:10:19  
2001  sms_to_officer1      2013-05-05 11:17:01  
2001  sms_to_officer2      2013-05-05 12:14:05  
2002  sms_to_officer1      2013-05-05 09:17:01  
2002  sms_to_officer2      2013-05-05 09:30:05 
```

我想要这样的结果......

```
ticket_number   sms_to_customer      sms_to_officer1        sms_to_officer2  
2001            2013-05-05 10:10:19  2013-05-05 11:17:01    2013-05-05 12:14:05  
2002            NA                   2013-05-05 09:17:01    2013-05-05 09:30:05 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-05T05:58:56.647

如果这些只是 on 列的值`name`，`Table2`则可以使用此静态版本的查询，

```
SELECT  tn,
        COALESCE(MAX(CASE WHEN Name = 'sms_to_customer' THEN Create_Time END), 'NA') `sms_to_customer`,
        COALESCE(MAX(CASE WHEN Name = 'sms_to_officer1' THEN Create_Time END), 'NA') `sms_to_officer1`,
        COALESCE(MAX(CASE WHEN Name = 'sms_to_officer2' THEN Create_Time END), 'NA') `sms_to_officer2`
FROM    Table2
GROUP   BY tn 
```

*   [SQLFiddle 演示](http://www.sqlfiddle.com/#!2/6a9916/1)

否则，如果您有其他值，请使用*动态 SQL*

```
SET @sql = NULL;
SELECT
  GROUP_CONCAT(DISTINCT
    CONCAT(
      'COALESCE(MAX(case when Name = ''',
      Name,
      ''' then create_time end), ''NA'') AS ',
      CONCAT('`',Name,'`')
    )
  ) INTO @sql
FROM Table2;

SET @sql = CONCAT('SELECT  tn, ', @sql, ' 
                   FROM Table2
                   GROUP BY tn');

PREPARE stmt FROM @sql;
EXECUTE stmt;
DEALLOCATE PREPARE stmt; 
```

*   [SQLFiddle 演示](http://www.sqlfiddle.com/#!2/6a9916/9)

输出

```
╔══════╦═════════════════════╦═════════════════════╦═════════════════════╗
║  TN  ║   SMS_TO_CUSTOMER   ║   SMS_TO_OFFICER1   ║   SMS_TO_OFFICER2   ║
╠══════╬═════════════════════╬═════════════════════╬═════════════════════╣
║ 2001 ║ 2013-05-05 10:10:19 ║ 2013-05-05 11:17:01 ║ 2013-05-05 12:14:05 ║
║ 2002 ║ NA                  ║ 2013-05-05 09:17:01 ║ 2013-05-05 09:30:05 ║
╚══════╩═════════════════════╩═════════════════════╩═════════════════════╝ 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-05T06:09:04.350

```
SELECT
   ticket_number, t2.create_time as `sms_to_customer`,t3.create_time as `sms_to_officer1`,t4.create_time as `sms_to_officer2` 
  from Table1 t1 
    left join Table2 t2 on (t1.ticket_number=t2.tn and t2.name='sms_to_customer') 
    left join Table2 t3 on (t1.ticket_number=t3.tn and t3.name='sms_to_officer1') 
    left join Table2 t4 on (t1.ticket_number=t4.tn and t4.name='sms_to_officer2'); 
```

*   [SQLFiddle 演示](http://www.sqlfiddle.com/#!2/ec5586/5)

# ios - UIDatePicker 只显示像睡眠周期这样的选择器

> ID：15826910
> 
> 赞同：1
> 
> 时间：2013-04-05T05:55:11.127
> 
> 标签：ios, uidatepicker

我想添加一个 UIDatePickerModeTime 选择器，但它周围的灰色区域对我来说似乎很难看。我只是想知道删除它的最佳方法是什么？是否有一些我可以设置的属性或任何框架重置？

！![在此处输入图像描述](https://i.stack.imgur.com/yXJUI.jpg)

* * *

好吧，我知道其中一种方法是

将选择器放在“背景”图像下方，该图像隐藏了除选择器本身之外的所有内容

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T06:04:17.677

好吧，在这种情况下，您可以使用`UIPickerView`.

此[链接](https://stackoverflow.com/questions/10844675/custom-ios-uidatepicker-using-uiappearance)可能会对您有所帮助。

# xaml - Windows 8 中的 ListView 对齐问题

> ID：15826911
> 
> 赞同：0
> 
> 时间：2013-04-05T05:55:13.180
> 
> 标签：xaml, listview, windows-8, alignment

我有一个奇怪的问题，我尝试了所有我知道的技巧来居中对齐放置在网格内的 ListView。无论如何，它看起来像是左对齐的。ListView 的宽度和高度是数据绑定的。（宽度可以取值 350 或 700，高度可以取 100 或 200，具体取决于尺寸设置。如果尺寸设置紧凑，则应为 350x100，如果正常则为 700x200）。

这是 xaml 代码

```
<Grid x:Name="GridPageLVPortrait" Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="4" Background="Beige" HorizontalAlignment="Center" VerticalAlignment="Top" Margin="0,0,584.714,0" Width="781">
   <ListView x:Name="PageLVPortrait" ItemsSource="{Binding}" CanReorderItems="True" AllowDrop="True" HorizontalAlignment="Center" SelectionMode="Single" IsSwipeEnabled="True" IsItemClickEnabled="True" SelectionChanged="PageLVPortraitSelectionChanged" ItemClick="PageLVPortraitItemClick" Height="{Binding TemplateHeight}" Width="{Binding TemplateWidth}" >
        <ListView.ItemTemplate>
             <DataTemplate>
                 <Canvas HorizontalAlignment="Center" Width="{Binding TemplateWidth}" Height="{Binding TemplateHeight}">
                     <Canvas.Background>
                          <ImageBrush ImageSource="{Binding PageBackground}"/>
                     </Canvas.Background>
                     <Image HorizontalAlignment="Center" Height="{Binding TemplateHeight}" Width="{Binding TemplateWidth}" Source="{Binding Page}" Stretch="None" Opacity="1" CacheMode="BitmapCache" />

                     <StackPanel x:Name="EditDeleteStackPanel" Width="{Binding TemplateWidth}" Height="{Binding TemplateHeight}" Opacity="0.95">
                         <Button x:Name="NoteDelete"  HorizontalAlignment="Right"   VerticalAlignment="Top" Foreground="{x:Null}" Tapped="NoteDelete_Tapped" MinWidth="50" MinHeight="50" Margin="0,0,10,0" BorderBrush="{x:Null}" >
                            <Button.Background>
                                <ImageBrush ImageSource="{Binding Delete}"/>
                            </Button.Background>
                         </Button>
                         <Button x:Name="NoteEdit"  HorizontalAlignment="Right"   VerticalAlignment="Top"   FontFamily="Segoe Script" FontSize="24" BorderBrush="{x:Null}" Tapped="NoteEdit_Tapped" Foreground="{x:Null}" MinWidth="50" MinHeight="50" Margin="0,0,10,0">
                            <Button.Background>
                                <ImageBrush ImageSource="{Binding Edit}"/>
                            </Button.Background>
                         </Button>                             
                     </StackPanel>
                 </Canvas>
             </DataTemplate>
        </ListView.ItemTemplate>
   </ListView>
</Grid> 
```

有人可以帮忙吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T09:15:29.060

我已经在具有您提供的正常尺寸约定（700x200）的整个页面网格中尝试了您的代码。如果我忽略网格的`Margin="0,0,584.714,0"`. 如果您需要页面右侧的 584px，我会说最好在该宽度处放置一个网格列。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-07-12T09:52:35.397

我发现了这个问题。这是因为主网格被吐成4列。而且由于这个使用列跨度，因此对齐会变得混乱。

# ios - 是否可以自定义 uitextfield 使其看起来像图片

> ID：15826912
> 
> 赞同：-1
> 
> 时间：2013-04-05T05:55:13.957
> 
> 标签：ios, uitextfield

我有一个问题 - 我需要像这样自定义 uitextfield：

![在此处输入图像描述](https://i.stack.imgur.com/VkC46.jpg)

有可能做到吗？？？？如果是，那怎么办？？？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-05T06:28:32.153

我认为[这](https://stackoverflow.com/questions/5163499/how-to-can-i-display-mobile-number-in-123-456-7890-format-in-textfield)可以解决您的问题。它使用不同的格式，尝试用你想要的数字格式替换它

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-05T06:20:20.923

是的，这样的事情是可能的。例如，如果您使用 IB，则可以将 a 的样式设置`UITextField`如下：

![在此处输入图像描述](https://i.stack.imgur.com/2b83a.png)

通过设置文本字段的`Borders Style`属性，您甚至可以做一些简单的事情，例如`UIImageView`在此文本字段后面放置一个，从而达到预期的效果。

# kineticjs - Kinetic JS - 将一条线的长度放在它上面

> ID：15826914
> 
> 赞同：0
> 
> 时间：2013-04-05T05:55:23.347
> 
> 标签：kineticjs

我正在使用以下方法计算我在画布上绘制的线条的长度：

```
layer.on("mouseup", function () {
                moving = false;
                var mousePos = stage.getMousePosition();
                x2 = mousePos.x;
                y2 = mousePos.y;
                $("#distance").val(calculateDistance(x1, y1, x2, y2));

            });
function calculateDistance(x1, y1, x2, y2) {
            var distance = Math.sqrt((x2 - x1) * (x2 - x1) + (y2 - y1) * (y2 - y1));
            distance *= 0.264583333;
            distance = Math.round(distance * 100 / 1) / 100;
            return distance;
} 
```

目前我将距离放在输入字段中；但是我想将它添加为该行的标签！[在http://jsfiddle.net/user373721/xzEad/1/](http://jsfiddle.net/user373721/xzEad/1/)进行演示。

我会很感激你的建议，在此先感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T14:01:16.607

你需要一个中点和一个标签。自定义它以满足您的需求。

[http://jsfiddle.net/xzEad/2/](http://jsfiddle.net/xzEad/2/)

```
 var midX = (line.getPoints()[0].x + line.getPoints()[1].x)/2;
            var midY = (line.getPoints()[0].y + line.getPoints()[1].y)/2;
            var label = new Kinetic.Text({
                x: midX,
                y: midY,
                text: calculateDistance(x1, y1, x2, y2),
                fontSize: 20,
                fontFamily: 'Calibri',
                fill: 'green'
            });
            layer.add(label);
            layer.draw(); 
```

# java - 在 Struts2 拦截器中接收不可预测的参数

> ID：15826918
> 
> 赞同：2
> 
> 时间：2013-04-05T05:55:35.660
> 
> 标签：java, jakarta-ee, parameters, struts2, cache-control

我的目标是编写一个拦截器，添加一些标头作为响应。我目前有以下拦截器

```
public class CachingInterceptor extends AbstractInterceptor{

    @Override
    public String intercept(ActionInvocation ai) throws Exception {
        HttpServletResponse response = (HttpServletResponse) getActionContext(ai).get(StrutsStatics.HTTP_RESPONSE);
        if(null != response) {
            response.setHeader("Cache-control","no-store,no-cache");
            response.setHeader("Pragma","no-cache");
            response.setHeader("Expires","-1");
        }
        return ai.invoke();
    }
} 
```

`struts.xml`我需要以可以在配置文件（ ）中定义标头的方式对其进行增强

```
....
<!-- Define and add following interceptor in default interceptor stack -->
<interceptor name="CachingInterceptor" class="demo.CachingInterceptor">
....

<action name="myAction" class="demo.myAction">
    ....
<param name="Cache-control">no-store,no-cache</param>
<param name="Pragma">no-cache</param>
<param name="Expires">-1</param>
    ....
</action> 
```

现在我必须在我的拦截器类中定义属性来获取标头的值

```
private String pragma;     //with getter, setter
private String expires;    //with getter, setter 
```

这里我有两个问题。

1• 我无法在 java 中定义属性“Cache-control”。

2• 标头名称是不可预测的，即任何标头都可以在配置中定义为

```
 <param name="other-header">some-value</param> 
```

我有两个问题：

*   如何在 Struts2 配置中定义的拦截器中接收任何标头。
*   有没有更好的方法来做这件事？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T14:38:10.130

`staticParams`使用动作配置，您已经定义了几个通过拦截器处理的静态参数。这个拦截器应该首先在堆栈中进行。然后，您只需从操作上下文中检索它们。

```
Map<String, Object> params = ActionContext.getContext().getParameters();
response.setHeader("Cache-control", ((String[])params.get("Cache-control"))[0]);
response.setHeader("Pragma", ((String[])params.get("Pragma"))[0]);
response.setHeader("Expires", ((String[])params.get("Expires"))[0]); 
```

# internet-explorer - IE 中的 Omniture 代码问题

> ID：15826925
> 
> 赞同：2
> 
> 时间：2013-04-05T05:56:25.773
> 
> 标签：internet-explorer, adobe, adobe-analytics

我们正在尝试为我们的网站实施 Omniture 跟踪，其中涉及大量 AJAX 调用。因此，我们发送带有 AJAX 请求响应的omniture 代码。这适用于 Chrome 和其他浏览器。但是我们遇到了 IE 的问题。这条线，

```
if (navigator.appVersion.indexOf('MSIE') >= 0) document.write(unescape('%3C') + '!-' + '-') 
```

导致`Access denied`IE中的错误。基本上我对此的理解是，当且仅当当前正在加载时，它`document.write`才会附加到当前文档。`document`由于我们的请求是 AJAX 请求，因此`document`已经处于就绪状态，并且会导致`document.write`整个页面被`<!--`.

有人可以提出解决此问题的方法吗？

此代码适用于哪些版本的 IE？我们支持 IE >= 7，如果我删除此行是否安全？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-05T22:27:20.373

这篇文章将证明对您很有价值：

[分解 SiteCatalyst 的页面级代码](https://microsite.omniture.com/t2/help/en_US/sc/implement/index.html#The_st_Function)

如果您不关心来自早于 IE7 的浏览器或非 javascript 用户的数据，您可以`s.t()`自己调用该函数。

noscript 标记至少可以为非 javascript 访问者获取一些数据，并且您在问题中的代码行用于阻止 IE 同时发送常规图像请求和 noscript 标记。出于某种原因，即使启用了 javascript，IE 也会执行该 noscript 标记。

# java - 如何从 Soap 对象中提取 XML 嵌套标签？

> ID：15826926
> 
> 赞同：-4
> 
> 时间：2013-04-05T05:56:27.063
> 
> 标签：java, android

这是我的要求，

我从服务器作为一个肥皂对象得到响应，我将它转换为字符串格式，现在我想提取 xml 数据，

如何提取嵌套标签？

我可以提取所有数据还是需要解析该 XML 响应？有没有办法提取 XML 嵌套标签并将其解析为 ArrayList<> post 是一个类？

```
<soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
<soap:Body>
    <maintag>
    <item>
      <name>AndroidPeople</name> 
      <website category="android">www.androidpeople.com</website> 
    </item>
    <item>
      <name>iPhoneAppDeveloper</name> 
      <website category="iPhone">www.iphone-app-developer.com</website> 
      </item>
    </maintag>
.. 
```

如果可能怎么办？

提前致谢。

我看到这是可以使用它以及如何

```
private static Show getShowFromRSS(Context context, Document feed,
        String feedUrl) {
    try {
        // There should be one channel in the feed, get it.
        // Also, the cast should be okay if the XML is formatted correctly
        NodeList item = feed.getElementsByTagName("channel");
        Element el = (Element)item.item(0);

        String title;
        NodeList titleNode = el.getElementsByTagName("title");
        if (titleNode == null || titleNode.getLength() < 1)
            title = context.getString(R.string.default_title);
        else
            title = titleNode.item(0).getFirstChild().getNodeValue();

        String author;
        NodeList authorNode = el.getElementsByTagName("author");
        if (authorNode == null || authorNode.getLength() < 1)
            author = context.getString(R.string.default_author);
        else
            author = authorNode.item(0).getFirstChild().getNodeValue();

        String desc;
        NodeList descNode = el.getElementsByTagName("comments");
        if (descNode == null || descNode.getLength() < 1)
            desc = context.getString(R.string.default_comments);
        else
            desc = descNode.item(0).getFirstChild().getNodeValue();

        String imageUrl;
        NodeList imagNode = el.getElementsByTagName("image");
        if(imagNode != null) {
            Element ima = (Element)imagNode.item(0);
            if (ima != null) {
                NodeList urlNode = ima.getElementsByTagName("url");
                if(urlNode == null || urlNode.getLength() < 1)
                    imageUrl = null;
                else
                    imageUrl =
                        urlNode.item(0).getFirstChild().getNodeValue();
            } else
                imageUrl = null;
        } else
            imageUrl = null;

        return new Show(title, author, feedUrl, desc, imageUrl, -1, -1);
    } catch (Exception e) {
        // Any parse errors and we'll log and fail
        Log.e("NCRSS", "Error parsing RSS", e);
        return null;
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T06:16:06.997

您可以使用 JAXB 来编组/解组 SOAP 数据包。我假设你有你所拥有的 SOAP 数据包的模式。看看这个 - [JAXB](http://jaxb.java.net/)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T06:23:47.697

您可以像普通 XML（SAX 等）一样解析您的 SOAP 对象。查看本教程： [http ://www.mkyong.com/java/how-to-read-xml-file-in-java-sax-parser /](http://www.mkyong.com/java/how-to-read-xml-file-in-java-sax-parser/)

With `XPath`: [使用 XPath 解析 Soap 响应消息](https://stackoverflow.com/questions/8147423/soap-response-message-parsing-using-xpath)

还有这个：[用于形成和解析肥皂消息的 Java 库](https://stackoverflow.com/questions/3571764/java-library-to-form-and-parse-soap-messages)

这： http: [//www.coderanch.com/t/520979/XML/parse-SOAP-Xml-java-code](http://www.coderanch.com/t/520979/XML/parse-SOAP-Xml-java-code)

# ruby - 如何匹配文本中的特定数字 - Ruby regex

> ID：15826928
> 
> 赞同：-2
> 
> 时间：2013-04-05T05:56:42.407
> 
> 标签：ruby, regex

```
 id="profile_photo_link" href="/photo83085640_283973341" onclick="return showPhoto('83085640_283973341', 'album8308564
    0_0/rev', 

{temp:{base:&quot;http://cs301701.vk.me/v301701640/&quot;,x_:[&quot;181d/N_1czOIgH0s&quot;,556,313]},

jumpTo:
    {z: 'albums83085640'}}, event)">

<img width="200" height="205" src="http://cs301701.vk.me/v301701640/4a03/mfKV3wOhrqU.jpg
    " alt="Сергей On-line Консультации Василюк"> 
```

如何通过 ruby​​ regex 从上面的文本中匹配这个（83085640）数字？正则表达式的开始必须在 showPhoto(' 文本之后并在此点结束 _ 在数字之后

请帮忙！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T06:19:31.870

您只需要执行以下操作：

```
my_text = "showPhoto('83085640_283973341',";    #Input string. I'm only using a part of it here for convenience.
pat = /showPhoto\('(\d*)_/;    #The Regexp pattern as per your requirements.

puts(pat.match(my_text)[1]); 
```

输出：

```
83085640 
```

# c++ - error_code 与 errno

> ID：15826933
> 
> 赞同：5
> 
> 时间：2013-04-05T05:57:08.350
> 
> 标签：c++, c++11, error-handling, errno

我正在研究 C++11 标准。我想了解 error_code 和 errno 是否相互关联？如果是，那怎么办？如果不是，那么我应该在哪些条件下设置 errno 以及在哪些条件下设置 error_code？

我做了一个小测试程序来理解这一点，但仍然有点困惑。请帮忙。

```
#include <iostream>
#include <system_error>
#include <thread>
#include <cstring>
#include <cerrno>
#include <cstdio>

using namespace std;

int main()
{
    try
    {
        thread().detach();
    } catch (const system_error & e) {
        cout<<"Error code value - "<<e.code().value()<<" ; Meaning - "<<e.what()<<endl;
        cout<<"Error no. - "<<errno<<" ; Meaning - "<<strerror(errno)<<endl;
    }
}

Output -
Error code value - 22 ; Meaning - Invalid argument
Error no. - 0 ; Meaning - Success 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-05T06:09:08.017

`errno`由那些记录作为遇到错误的副作用的函数使用 - 这些函数是 C 库或从不抛出异常的 OS 函数。 `system_error`是 C++ 标准库使用的，用于当您使用记录在案的库设施来引发该异常时。完全分开。最终，阅读您的文档！

# python-3.x - 如何将运动应用于搅拌机中的模型

> ID：15826940
> 
> 赞同：0
> 
> 时间：2013-04-05T05:57:38.997
> 
> 标签：python-3.x, kinect-sdk, blender-2.61

我正在做一个实验，我需要从 kinect 捕获骨架数据，然后将该数据应用于模型，我已经从 kinect 捕获数据并将其存储在一个文件中，即在一个文件中，我有每个关节的位置框架，现在我希望我的模型在搅拌机中从文件中获取关节位置，并相应地移动。但我不知道如何开始。我还在 python 中编写了一个小脚本来从文件中读取位置并更新一个骨骼的位置：

```
 obj.channels['head'].location = Vector((float(xs),float(ys),float(zs))) 
```

但它不会移动任何东西。我做错了，还是我们不能通过更新位置来移动电枢？

请指导我这个话题，因为我对 python 和搅拌机完全陌生

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-07T08:28:23.473

我认为这不是最好的解决方案，您可以简单地将数据导出到 bvh 文件，从而避免很多麻烦。

你可以在网上找到很多[Kinect-sdk 到 bvh](http://www.google.com/#q=kinect+sdk+to+bvh)的教程，而 bvh 是存储动作捕捉事件数据的事实上的标准，你没有理由重新发明轮子并做额外的工作。

要在 Blender 中使用您的 bvh 文件，您只需遵循有关该主题[的众多教程之一即可。](http://www.3dartistonline.com/news/2011/03/free-blender-tutorial/)

# google-chrome - chrome 不加载图片

> ID：15826942
> 
> 赞同：2
> 
> 时间：2013-04-05T05:57:40.073
> 
> 标签：google-chrome, joomla

我正在使用 Joomla 2.5，并且一直在尝试在页面中加载一堆图像。它们在 FF/Safari 中加载得很好，但不能在 chrome 中加载。

最初我的代码是这样的：

```
<div id="sponsors">
    <img src ="<?php echo $apath; ?>/images/ads/ad__03.png" />
    <img src ="<?php echo $apath; ?>/images/ads/ad2.png" />
    <img src ="<?php echo $apath; ?>/images/ads/ad3.png" />
    <img src ="<?php echo $apath; ?>/images/ads/ad4.png" />
    <img src ="<?php echo $apath; ?>/images/ads/ad5.png" />
    <img src ="<?php echo $apath; ?>/images/ads/ad6.png" />
    <img src ="<?php echo $apath; ?>/images/ads/ad7.png" />
</div> 
```

呈现为： ![在此处输入图像描述](https://i.stack.imgur.com/oyMsE.png)

在铬。

我还检查了开发工具中的网络选项卡。为加载图像进行了两次尝试： ![在此处输入图像描述](https://i.stack.imgur.com/BpxmT.png) ![在此处输入图像描述](https://i.stack.imgur.com/m3M7G.png)

该模板在其他浏览器中完美运行。我曾尝试将图像移动到其他文件夹，但 chrome 只是拒绝显示图像。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-05T23:56:52.777

我猜你有一些广告拦截插件（AdBlockPlus）？这也将发生在具有类似插件的 FF 上。

问题是您的图片网址中有**广告一词。**

我能找到的唯一解决方案是重命名网址的“广告”部分，从你写的内容来看，这似乎不难。

# c# - 在gridview中缩放图像

> ID：15826945
> 
> 赞同：1
> 
> 时间：2013-04-05T05:58:03.467
> 
> 标签：c#, javascript, asp.net, database, gridview

我是 asp.net 的新手。我有显示来自数据库的数据的 gridview。其中一个字段包含图像。动态显示的图像，因为只有图像路径存储在数据库中。我的表包含字段 Car_Name Car_Id Car_Photo No_of_Seats

现在我想要的是当用户点击图像时，我想要一个模态的弹出图像.....或者图像应该像这样缩放......

```
<%@ Page Title="" Language="C#" MasterPageFile="~/Project/MasterPage/MasterPage.master"
    AutoEventWireup="true" CodeFile="Reserve.aspx.cs" Inherits="Project_Reserve_Reserve" %>

<%@ Register Assembly="AjaxControlToolkit" Namespace="AjaxControlToolkit" TagPrefix="asp" %>
<asp:Content ID="Content1" ContentPlaceHolderID="head" runat="Server">
    <link href="reserve.css" rel="stylesheet" type="text/css" />
    <script src="../../javascript/jquery-1.9.0.js" type="text/javascript"></script>
    <%-- <script src="myscript.js" type="text/javascript"></script>
    <script src="f12.js" type="text/javascript"></script>--%>
</asp:Content>
<asp:Content ID="Content2" ContentPlaceHolderID="homepageContentPlaceHolder" runat="Server">
    <asp:ScriptManager ID="ScriptManager1" runat="server">
    </asp:ScriptManager>
    <asp:UpdatePanel ID="UpdatePanel1" runat="server">
        <ContentTemplate>
            Select Start Date&nbsp;&nbsp;
            <asp:TextBox ID="TextBox1" runat="server"></asp:TextBox>
            <asp:CalendarExtender ID="TextBox1_CalendarExtender" runat="server" Enabled="True"
                TargetControlID="TextBox1">
            </asp:CalendarExtender>
            <asp:RequiredFieldValidator ID="RequiredFieldValidator1" runat="server" ControlToValidate="TextBox1"
                ErrorMessage="*"></asp:RequiredFieldValidator>
            <br />
            <br />
            Select End Date&nbsp;&nbsp;&nbsp;
            <asp:TextBox ID="TextBox2" runat="server"></asp:TextBox>
            <asp:CalendarExtender ID="TextBox2_CalendarExtender" runat="server" Enabled="True"
                TargetControlID="TextBox2">
            </asp:CalendarExtender>
            <asp:RequiredFieldValidator ID="RequiredFieldValidator2" runat="server" ControlToValidate="TextBox2"
                ErrorMessage="*"></asp:RequiredFieldValidator>
            <asp:AnimationExtender ID="RequiredFieldValidator2_AnimationExtender" runat="server"
                Enabled="True" TargetControlID="RequiredFieldValidator2">
            </asp:AnimationExtender>
            <br />
            <br />
            <br />
            Select Model&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<asp:DropDownList ID="ddlModel" runat="server"
                AppendDataBoundItems="True" AutoPostBack="True" DataSourceID="SqlDataSource1"
                DataTextField="Model_Name" DataValueField="Model_Id" OnSelectedIndexChanged="ddlModel_SelectedIndexChanged"
                Width="100px">
                <asp:ListItem Value="0">--Select--</asp:ListItem>
            </asp:DropDownList>
            &nbsp;<asp:RequiredFieldValidator ID="RequiredFieldValidator4" runat="server" ControlToValidate="ddlModel"
                ErrorMessage="Select a Model"></asp:RequiredFieldValidator>
            <br />
            <asp:SqlDataSource ID="SqlDataSource1" runat="server" ConnectionString="<%$ ConnectionStrings:ConnectionString %>"
                SelectCommand="SELECT * FROM [Model]"></asp:SqlDataSource>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <br />
            <br />
            <br />
            <asp:GridView ID="gvcar" runat="server" AllowPaging="True" AutoGenerateColumns="False"
                CellPadding="4" ForeColor="#333333" GridLines="None" EmptyDataText="No data found!">
                <AlternatingRowStyle BackColor="White" ForeColor="#284775" />
                <Columns>
                    <asp:TemplateField HeaderText="Select">
                        <ItemTemplate>
                            <asp:CheckBox ID="CheckBox1" runat="server" />
                        </ItemTemplate>
                    </asp:TemplateField>
                    <asp:BoundField DataField="Car_Name" HeaderText="Car Name" />
                    <asp:BoundField DataField="No_of_Seats" HeaderText="Seats" />
                    <asp:TemplateField HeaderText="Photo">
                        <ItemTemplate>
                            <asp:Image Width="300" Height="200" ID="Image1" runat="server" ImageUrl='<%# Eval("Car_Photo") %>' />
                        </ItemTemplate>
                    </asp:TemplateField>

                </Columns>
                <EmptyDataTemplate>
                    <div>
                        <h3>
                            <em>Sorry...No Car is available rightnow for this model</em></h3>
                    </div>
                </EmptyDataTemplate>
                <EditRowStyle BackColor="#999999" />
                <FooterStyle BackColor="#5D7B9D" Font-Bold="True" ForeColor="White" />
                <HeaderStyle BackColor="#5D7B9D" Font-Bold="True" ForeColor="White" />
                <PagerStyle BackColor="#284775" ForeColor="White" HorizontalAlign="Center" />
                <RowStyle BackColor="#F7F6F3" ForeColor="#333333" />
                <SelectedRowStyle BackColor="#E2DED6" Font-Bold="True" ForeColor="#333333" />
                <SortedAscendingCellStyle BackColor="#E9E7E2" />
                <SortedAscendingHeaderStyle BackColor="#506C8C" />
                <SortedDescendingCellStyle BackColor="#FFFDF8" />
                <SortedDescendingHeaderStyle BackColor="#6F8DAE" />
            </asp:GridView>
            <asp:Button runat="server" ID="btnModalPopUp" Style="display: none" />

            <br />
            <br />
            <br />
            <asp:Button ID="btnbook" runat="server" Text="Book" />
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <asp:Button ID="btnCancel" runat="server" Text="Cancel" />
            <br />
            <br />
        </ContentTemplate>
    </asp:UpdatePanel>
</asp:Content> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T06:11:49.387

以下链接可能对您有所帮助：

[http://technico.qnownow.com/zoom-image-on-mouse-over-in-asp-net-gridview-control/](http://technico.qnownow.com/zoom-image-on-mouse-over-in-asp-net-gridview-control/)

和

[http://www.aspdotnet-suresh.com/2011/12/jquery-fancy-zoom-effect-for-image-in.html](http://www.aspdotnet-suresh.com/2011/12/jquery-fancy-zoom-effect-for-image-in.html)

希望它有帮助。

# javascript - jquery ajax延迟对象不返回值

> ID：15826946
> 
> 赞同：-1
> 
> 时间：2013-04-05T05:58:06.437
> 
> 标签：javascript, jquery

我有这个代码..

```
if (!checkIfCustomerIsValid(event)) {
        event.preventDefault();
        return false;
    }
else {
   AddCustomer();
}

function checkIfCustomerIsValid(event) {
    if ($('#txtCName').val() == '') {
        alert('Please enter a valid value for customer name!');
        return false;
    }
    if ($('#txtCAddress').val() == '') {
        alert('Please enter a valid value for customer address!');
        return false;
    }

} 
```

在那之前它返回得很好，但是我添加了一个新的检查并且它没有返回任何东西。

```
function checkIfCustomerIsValid(event) {

  // code that was already there, the name and address check

  var _mobNo;
    if ($('#txtMobile').val() == '') return false;

    var _unq = $.ajax({
        url: '../Autocomplete.asmx/IsMobileUnique',
        type: 'GET',
        contentType: 'application/json; charset=utf8',
        dataType: 'JSON',
        data: "mobileNo='" + $('#txtMobile').val() + "'",
        async: false,
        timeout: 2000,
        success: function (res) { if (res.d) return false; else return true; },
        error: function (res) { alert('some error occurred when checking mobile no'); }
    }),chained = _unq.then(function (data) { if (data.d == false) { alert('mobile no already exists!'); $('#txtMobile').focus(); return false; } return true; });

} 
```

如果手机号码不是唯一的，则警报显示手机号码不是唯一的，但是当它*是*唯一的时，代码不会进入`AddCustomer`（在其他部分）？？？它不是返回真实的吗？为什么`AddCustomer`进不去？？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T06:01:29.610

用你的新测试，`checkIfCustomerIsValid`是异步的。即使使用 deferred，它也无法直接返回远程调用的结果。

这里最简单的方法是将回调传递给您的`checkIfCustomerIsValid`函数或从函数返回承诺。当您混合同步和异步测试时，最好将回调传递给`checkIfCustomerIsValid`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T06:04:52.140

你是对的，不存在 checkIfCustomerIsValid 会返回 true 的情况。这是因为您正试图从匿名函数（即 ajax 请求后的回调）返回 true。当您从

```
 chained = _unq.then(function (data) { if (data.d == false) { alert('mobile no already exists!'); $('#txtMobile').focus(); return false; } return true; }); 
```

您只是从该匿名函数返回，而不是从 checkIfCustomerIsValid 返回。解决这个问题并不是完全直截了当的，而是由异步调用的本质造成的一个问题。最常见的解决方案是将回调传递给您的异步调用。这是一个实现这一点的小提琴。

[http://jsfiddle.net/p3PAs/](http://jsfiddle.net/p3PAs/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-05T06:06:48.020

Ajax 是异步的，不会阻塞，因此返回值很可能是未定义的。您可以将代码修改为如下所示：

```
success: function (res) { if (res.d) callRoutineToAddCustomer(); }, 
```

# python - 将xml解析为mysql数据库

> ID：15826948
> 
> 赞同：0
> 
> 时间：2013-04-05T05:58:14.930
> 
> 标签：python, xml, django, xml-parsing, django-views

在我的应用程序中，我包含一个名为 xml 解析的函数。我正在尝试从 xml 文件中获取数据并将其保存到 mysql 数据库中。

我在谷歌引擎的帮助下编写了这个代码，但根据需要，数据没有保存在数据库中。我可以运行该应用程序而不会出现任何错误。

请在下面查看我的代码

视图.py

```
def goodsdetails(request):
    path = "{0}shop.xml".format(settings.PROJECT_ROOT)
    xmlDoc = open(path, 'r')
    xmlDocData = xmlDoc.read()
    xmlDocTree = etree.XML(xmlDocData)

    for items in xmlDocTree.iter('item'):
        item_id = items[0].text
    customername = items[1].text
        itemname = items[2].text
        location = items[3].text
        rate = items[4].text        
        shop=Shop.objects.create(item_id=item_id,customername=customername,
            itemname=itemname,location=location,rate=rate)
        shop.save()

shops = Shop.objects.all()
    context={'shops':shops}
    return render(request,'index.html', context) 
```

我正在使用上述逻辑将数据从 xml 文件保存到数据库中。我没有收到任何错误，但它没有保存到数据库中

期待的答案是最受欢迎的。

**更新：* *我更新了代码，xml 数据确实保存在 db 中，但在显示相同的同时，我得到以下 Traceback

```
IntegrityError at /
(1062, "Duplicate entry '101' for key 'PRIMARY'") 
```

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T06:04:53.830

`Shop.objects.get` **从数据库**加载数据。**您想**创建**数据，只需调用`Shop(item_id=item_id,customername=customername, itemname=itemname,location=location,rate=rate)`然后`shop.save()`.**

 **如果要*更新*数据，则需要执行以下操作：

```
shop = Shop.objects.get(tem_id=item_id)
shop.customername = customername
...etc...
shop.save() 
```**

# java - 如何在其他框架中更改 setIndeterminate jProgressbar

> ID：15826951
> 
> 赞同：0
> 
> 时间：2013-04-05T05:58:27.583
> 
> 标签：java, swing, jframe, jprogressbar

我有两个框架，frameA 和 frameB，在 frameA 中我添加一个名为 buttonA 的按钮以显示 frameB 和进度条（setIndeterminate(false)），在 frameB 中我添加一个名为 buttonB 的按钮，当我单击 buttonB 时，我想要进度条在 frameA.setindeterminate(true)

在框架A

```
frameB b;

public frameA() {
   initComponents();
   progressbar.setIndeterminate(false);
   b = new frameB();
}

public JProgressBar getProgressbar() {
   return progressbar;
}

private void buttonAActionPerformed(java.awt.event.ActionEvent evt) 
{                                       
    b.setVisible(true);
} 
```

在 frameB 中，我在事件 buttonB 中使用此代码单击

```
private void buttonBActionPerformed(java.awt.event.ActionEvent evt) { 
    frameA a= new frameA();
    a.getProgressbar().setIndeterminate(true);
} 
```

但它没有用

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-05T06:14:11.143

这个...

```
private void buttonBActionPerformed(java.awt.event.ActionEvent evt) { 
    frameA a= new frameA();
    a.getProgressbar().setIndeterminate(true);
} 
```

行不通，您刚刚创建了另一个`frameA`不可见的实例。它与当前打开的框架没有关系。

有很多方法可以实现这一目标......

**你可以...**

`frameA`将to的引用`frameB`作为构造函数调用的一部分传递给`frameB`. 然后在您的`actionPerformed`方法中，您只需使用此引用来更改进度条状态。

但这会造成两者之间的紧密耦合`frameA`，`frameB`这将大大减少`frameB`

**你可以...**

提供一种方法，当单击按钮时，相关方可以附加一个将触发的方法`ActionListener`。`frameB`

这假设了一个工作流程并将组件暴露给外部源（通过`ActionEvent#getSource`），这可能允许人们更改您的组件......

**你应该...**

触发一个`PropertyChanged`事件。

这可能是我想出的所有选项中最简单和最安全的。以这种方式使用属性更改侦听器意味着您不需要公开`JProgressBar`、`JButton`或在两个框架之间产生紧密的链接。

属性更改支持是内置的，`Container`因此所有组件/控件都有它。

例如，您将在构造它时附加一个`PropertyChangeListener`to 。`b`

```
b = new frameB();
b.addPropertyChangeListener(new PropertyChangeListener() {
    @Override
    public void propertyChange(PropertyChangeEvent evt) {
        if (evt.getPropertyName().equals("progressState")) {
            progressbar.setIndeterminate((Boolean)evt.getNewValue());
        }
    }
}); 
```

添加`bFrame`'s`actionPerformed`方法，您将简单调用...

```
firePropertyChange("progressState", false, true); 
```

当您想设置不确定状态时（如果您愿意，可以交换`boolean`值以重置它）

# c - 每次登录时为服务器分配静态/相同的 IP 地址

> ID：15826953
> 
> 赞同：5
> 
> 时间：2013-04-05T05:58:32.617
> 
> 标签：c, windows, network-programming, udp, dhcp

我正在开发 udp 服务器/客户端应用程序。由于要与服务器通信，所有客户端都必须知道服务器的 IP 地址和端口号。为此，我将服务器的 ip 和端口号硬编码到客户端，以便客户端每次都连接到相同的 ip 和端口号。（使用 ipconfig 命令找到服务器机器的 IP 地址。）但是现在，问题是我在 DHCP 网络上工作，并且每次重新启动服务器机器时，都有可能为其分配一个新的 IP 地址（不同于他们将连接的客户端知道的IP地址。）所以，我总是希望每次登录时将客户端硬编码的IP地址分配给服务器机器。有什么办法吗？我对此一无所知。搜索互联网，但找不到任何相关内容。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-05T06:55:59.977

假设你在局域网上工作，我就是这样做的。

假设您的 DHCP 服务器是可配置的：

*   在 dhcp 服务器中分配静态映射 MAC 地址/IP 地址，以便同一台机器始终获得相同的 IP（仅针对服务器，而不是针对每个客户端）。

大多数具有 DHCP 的入门级多合一设备都具有此功能，如果没有，购买具有该功能的新设备应该很便宜。如果您的 DHCP 服务器是一台真实的计算机，您当然可以将其配置为这样做。

此外，您可能希望告诉您的客户端使用本地 DNS，并在此本地 DNS 服务器中为您的服务器定义一个名称，这样您就不必在客户端中硬编码 IP 地址。但是地址应该位于某个配置文件中，而不是在任何情况下硬编码。

我使用 dnsmasq 作为本地名称的 DNS 服务器和 DHCP 服务器，为服务器提供始终相同的地址并将所有 DNS 请求指向自身。

这个问题可能有助于找到 dnsmasq 的 Windows 替代方案：[https ://stackoverflow.com/questions/7709744/is-there-something-like-dnsmasq-for-windows](https://stackoverflow.com/questions/7709744/is-there-something-like-dnsmasq-for-windows)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-05T06:30:21.187

假设您的客户端是服务器本地的，为什么不放弃硬编码的服务器 IP 地址，并从[DHCP](http://en.wikipedia.org/wiki/Dynamic_Host_Configuration_Protocol)借一个页面并使用某种[服务发现](http://en.wikipedia.org/wiki/Service_discovery)方法：

*   您的客户第一次上线时会广播“服务器在哪里”消息。服务器响应“我在 IP 地址 XXXX”
*   当服务器启动时，它会广播“服务器现在位于 IP 地址 YYYY”，这样如果服务器崩溃，客户端就会开始使用新服务器。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-05T07:09:28.437

通过在 DHCP 服务器中添加一个保留字段，我们可以实现这一点。如果您使用的是 Windows DHCP 服务器，则有一个名为“Reservations”的部分，我们可以在其中提供您电脑的 MAC 地址和所需的 IP 地址。然后服务器将为您提供提到的IP。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-05T08:13:39.003

对于开发人员的狭隘关注点，DHCP 保留可能是合乎逻辑的步骤。但是使用名称服务器要好得多。如果网络本身发生变化，或者服务器可能移动到另一个子网或什至可能移动到另一个区域，则使用来自 DHCP 保留的 IP 地址会失败，因为服务器的地址发生了变化。

如果您使用名称服务器，则不会遇到任何这些问题。这就是 DNS 的本意。将其视为“服务提供者查找服务”，将您的服务与运行它的主机分离。

而且，就像已经建议的那样，您永远不应该对 IP 地址或 DNS 名称或其他任何可能更改的内容（即使您认为它不会更改）进行硬编码，除非设计目标是如果某些更改（=不可配置）。

# android - 通知的工作声音/振动/LED，直到我取消它？

> ID：15826954
> 
> 赞同：0
> 
> 时间：2013-04-05T05:58:34.157
> 
> 标签：android

通知代码：

```
NotificationCompat.Builder noti = new NotificationCompat.Builder(context)
                                .setSmallIcon(R.drawable.work_alarm_icon)
                                .setContentTitle("Alarm")
                                .setContentText(w.toString())
                                .setContentIntent(pintent)  
                                .setSound(Uri.parse("android.resource://com.google.app.workalarm/" + R.raw.alarm))
                                .setStyle(new NotificationCompat.BigTextStyle().bigText("..."));    
        noti.build().flags |= Notification.FLAG_INSISTENT;
        noti.setLights(Color.WHITE, 1000, 500);
        noti.setVibrate(new long[]{0,500,250,500}); 
```

我想听声音/振动并引导直到我取消它。（当我在新活动中单击“取消”按钮时）。帮我 ！谢谢 ！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T06:01:30.750

您无法使用通知的功能做到这一点。如果你需要，你应该打开你的活动并在那里做你的声音/振动

# c# - 创建 Excel 文件并将数据插入工作表的问题

> ID：15826960
> 
> 赞同：0
> 
> 时间：2013-04-05T05:59:11.287
> 
> 标签：c#, .net, oledb

我正在尝试创建一个 excel 文件并将数据插入到 excel 文件中。excel文件的创建没有失败，但是当我尝试将数据插入到excel文件中的工作表中时，我收到了这个错误：

**Microsoft Office Access 数据库引擎找不到对象“Sheet1$”。确保对象存在并且正确拼写其名称和路径名。**

这是我的代码：

```
private void exportToExcel_Click(object sender, EventArgs e)
        {

            string excelPath = Environment.GetFolderPath(Environment.SpecialFolder.Desktop) + @"\TrackITExportFile - " + DateTime.Today.ToShortDateString();
            File.Exists(excelPath);
            Microsoft.Office.Interop.Excel.Application excel = null;
            Microsoft.Office.Interop.Excel._Workbook workBook = null;
            Microsoft.Office.Interop.Excel.Sheets sheet = null;
            Microsoft.Office.Interop.Excel._Worksheet newSheet = null;

            object misValue = Missing.Value;

            excel = new Microsoft.Office.Interop.Excel.Application();
            excel.Visible = true;
            workBook = (Microsoft.Office.Interop.Excel._Workbook)(excel.Workbooks.Add(Missing.Value));

            sheet = workBook.Sheets as Microsoft.Office.Interop.Excel.Sheets;

            newSheet = (Microsoft.Office.Interop.Excel.Worksheet)sheet.Add(sheet[1], Type.Missing, Type.Missing, Type.Missing);

            workBook.SaveAs(excelPath, Microsoft.Office.Interop.Excel.XlFileFormat.xlWorkbookDefault,
            misValue, misValue, misValue, misValue, Microsoft.Office.Interop.Excel.XlSaveAsAccessMode.xlExclusive, misValue, misValue, misValue, misValue, misValue);

            workBook.Close();
            excel.Quit();

            releaseObject(workBook);
            releaseObject(excel);
            releaseObject(newSheet);
            releaseObject(sheet);

            InsertData(excelPath);
        }

        public void InsertData(string fileName)
        {
            System.Data.OleDb.OleDbConnection connection;
            System.Data.OleDb.OleDbCommand myCommand = new System.Data.OleDb.OleDbCommand();
            string sql = null;
            connection = new System.Data.OleDb.OleDbConnection("Provider=Microsoft.ACE.OLEDB.12.0;Data Source=" + fileName + ";Extended Properties=\"Excel 12.0;ReadOnly=False;HDR=YES;\"");
            connection.Open();
            myCommand.Connection = connection;
            sql = "Insert into [Sheet1$](A1) Values ('" + ds.Tables[0].Columns[0] + "')";
            myCommand.CommandText = sql;
            myCommand.ExecuteNonQuery();
            connection.Close();
        } 
```

我创建文件错误吗？

# git - 设置我的 git 起始状态有点迷失 - 我确定这只是几个简单的命令，但是

> ID：15826962
> 
> 赞同：1
> 
> 时间：2013-04-05T05:59:17.787
> 
> 标签：git

语境：

*   用户“dev”，主目录`/home/dev`
*   我将调用的生产代码`/thepath/codebase`
*   工作目录`/thepath/dev`（当前包含应该是分支的文件）
*   项目名为 KizunaDB

最终，我想要一个名为某处的裸仓库`kizunadb.git`（我猜我的主目录是合乎逻辑的），我希望将其视为“原始”，所有内容都**从**. （根据[本次讨论](https://stackoverflow.com/questions/15782817/git-workflow-for-lone-developer-total-git-newbie)的结论）

不知道如何从一个空的裸仓库开始，然后从其他地方将文件放入其中，我尝试从文件所在的位置开始。我成功地进行了回购`/thepath/codebase`并提交了所有文件。然后我做了：

```
cd ~
mkdir kizunadb.git
cd kizunadb.git
git clone --bare /thepath/codebase 
```

嗯......这使得`/home/dev/kizunadb.git/codebase.git`- 不完全是我的想法。

1.  我可以从`/home/dev/`修复位置再次执行此操作，但仍会调用它`codebase.git`- 如果我只是更改名称，我会破坏它吗？
2.  然后我如何在它和代码库目录之间交换角色，以便稍后我可以**从** `kizunadb.git` **to** `/thepath/codebase`获取完整的代码（使用 clone 或 checkout - 不确定此时哪个是正确的命令）？我知道 git 并没有真正有“主要”的概念，但我注意到教程中提到“原始” - 不知道它是如何发挥作用的......
3.  然后，如何将 repo 克隆到，`/thepath/dev`这样我就可以在不丢失正在进行的工作的情况下进行分支？（我知道我可以将整个目录移开，克隆 repo，然后覆盖 repo 的文件，但我怀疑有一种更简单的方法。）

如果我以错误的顺序做事，我很乐意重新开始。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-05T06:06:06.207

首先，这会更好：

```
cd ~
git clone --bare /thepath/codebase kizunadb.git 
```

其次，一个裸仓库是供贡献者推送的。

但是要使用代码库内容正确初始化您的裸仓库，我宁愿遵循[“在 git 裸仓库中的“<code>fetch --all”不会将本地分支同步到远程分支”中](https://stackoverflow.com/q/5559321/6309)描述的工作流程：

```
cd /thepath/codebase
git clone --mirror . ~/kizunadb.git
git push ~/kizunadb.git --mirror 
```

它可以用一个`post-receive`钩子来完成，以便到`cd`第二个非裸仓库并从裸仓库中拉取：在“ [--bare 选项是否等于 Git 中的 core.bare 配置？](https://stackoverflow.com/a/14901796/6309) ”中查看更多信息。
这假设`/thepath/codebase`是一个 git repo。

`/thepath/dev`将是裸仓库的简单克隆`kizunadb.git`，供您开发。

[`git stash`](http://git-scm.com/docs/git-stash)将允许您在不丢失正在进行的工作的情况下创建分支。
请参阅“ [GIT：在新/dirty/dev 分支中提交对旧/安全分支的更改而不签出或丢失未暂存数据](https://stackoverflow.com/q/3745774/6309)”。

* * *

正如您在评论中提到的，对于*单个*开发人员来说，一个裸仓库可能是多余的。
你可以：

*   只有*一个*回购：`/thepath/dev`
*   `git --git-dir=/thepath/dev/.git --work-tree=/thepath/codebase checkout -f`每当您要部署代码时，请使用“ ”。

在这种情况下，`/thepath/codebase`它甚至不会是一个 git repo，而只是一个被视为`/thepath/dev`部署工作目录的树。

# java - 我的 BFS 递归调用没有停止

> ID：15826964
> 
> 赞同：0
> 
> 时间：2013-04-05T05:59:22.933
> 
> 标签：java, graph

我有以下代码来查找起始节点和结束节点之间的所有路径。

图.java

```
 import java.util.HashMap;
 import java.util.LinkedHashSet;
 import java.util.LinkedList;
 import java.util.Map;
 import java.util.Set;

public class Graph {
private Map<String, LinkedHashSet<String>> map = new HashMap();

public void addEdge(String node1, String node2) {
    LinkedHashSet<String> adjacent = map.get(node1);
    if(adjacent==null) {
        adjacent = new LinkedHashSet();
        map.put(node1, adjacent);
    }
    adjacent.add(node2);
}

public void addTwoWayVertex(String node1, String node2) {
    addEdge(node1, node2);
    addEdge(node2, node1);
}

public boolean isConnected(String node1, String node2) {
    Set adjacent = map.get(node1);
    if(adjacent==null) {
        return false;
    }
    return adjacent.contains(node2);
}

public LinkedList<String> adjacentNodes(String last) {
    LinkedHashSet<String> adjacent = map.get(last);
    if(adjacent==null) {
        return new LinkedList();
    }
    return new LinkedList<String>(adjacent);
} 
```

}

和 Search.java

```
 import java.util.LinkedList;

 public class Search {

private static final String START = "D";
private static final String END = "E";

public static void main(String[] args) {
    // this graph is directional
    Graph graph = new Graph();
    graph.addEdge("A", "B");
    graph.addEdge("A", "C");
    graph.addEdge("B", "A");
    graph.addEdge("B", "D");
    graph.addEdge("B", "E"); // this is the only one-way connection
    graph.addEdge("B", "F");
    graph.addEdge("C", "A");
    graph.addEdge("C", "E");
    graph.addEdge("C", "F");
    graph.addEdge("D", "B");
    graph.addEdge("E", "C");
    graph.addEdge("E", "F");
    graph.addEdge("F", "B");
    graph.addEdge("F", "C");
    graph.addEdge("F", "E");
    LinkedList<String> visited = new LinkedList();
    visited.add(START);
    new Search().breadthFirst(graph, visited);
}

private void breadthFirst(Graph graph, LinkedList<String> visited) {
    LinkedList<String> nodes = graph.adjacentNodes(visited.getLast());
    // examine adjacent nodes
    for (String node : nodes) {
        if (visited.contains(node)) {
            continue;
        }
        if (node.equals(END)) {
            visited.add(node);
            printPath(visited);
            visited.removeLast();
            return ;
            //break;
        }
    }
    // in breadth-first, recursion needs to come after visiting adjacent nodes
    for (String node : nodes) {
        if (visited.contains(node) || node.equals(END)) {
            continue;
        }
        visited.addLast(node);
        breadthFirst(graph, visited);
        visited.removeLast();
    }
}

private void printPath(LinkedList<String> visited) {
    for (String node : visited) {
        System.out.print(node);
        System.out.print(" ");
    }
    System.out.println();
}
} 
```

我想在找到两个节点之间的第一条路径后停止递归调用。break 语句之前的 return 语句工作正常，但如果我添加许多无向边，它不会停止打印两个节点之间的所有路径。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T06:02:16.487

在 BFS 中，您必须为节点“着色”才能知道您是否已经访问过它们。

[http://www.personal.kent.edu/~rmuhamma/Algorithms/MyAlgorithms/GraphAlgor/breadthSearch.htm](http://www.personal.kent.edu/~rmuhamma/Algorithms/MyAlgorithms/GraphAlgor/breadthSearch.htm)

为了跟踪进度，广度优先搜索为每个顶点着色。图的每个顶点都处于以下三种状态之一：

1.  未被发现；
2.  已发现但未完全探索；和
3.  充分探索。

顶点的状态 u 存储在颜色变量中，如下所示：

1.  color[u] = White - 对于“未发现”状态，
2.  color [u] = Gray - 表示“已发现但未完全探索”状态，以及
3.  color [u] = Black - 表示“完全探索”状态。

# c++ - 在 C++ 中使用引用

> ID：15826969
> 
> 赞同：0
> 
> 时间：2013-04-05T05:59:40.637
> 
> 标签：c++

我正在使用像 A 类这样的类的全局实例；一个 a1; 现在我在其他函数中使用这个全局变量，使用引用为 A& a2 = a1; 这样在本地完成的所有更改都会在全局范围内反映出来。我只是想检查 a2 的析构函数是否会在其本地范围结束时被调用？

请澄清。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-05T06:00:32.113

a2 是一个引用，所以它没有析构函数。

a1 的析构函数只会在程序退出时被调用。当 a2 的本地范围结束时，您究竟期望发生什么？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T06:03:26.970

引用只不过是指针，实际上许多编译器在内部将引用转换为指针。由于指针没有析构函数，所以引用也没有。因此，在函数的末尾，gobal 对象 a1 将保持原样，并且它的析构函数只会在程序结束时被调用。

谢谢尼拉吉·拉蒂

# jquery - jquery根据另一个元素的当前类向一个元素添加数字类

> ID：15826971
> 
> 赞同：2
> 
> 时间：2013-04-05T06:00:06.123
> 
> 标签：jquery, addclass, removeclass, jquery-traversing

我有以下 HTML

```
<ul id="tabs">
    <li>1</li>
    <li>2</li>
    <li>etc...</li>
</ul> 
```

我使用以下 jquery 函数来附加“按钮”以遍历“向上”或“向下”列表，同时仅“显示”当前项目：

```
$('#tabs li').first().attr('class', 'current');

$('#tabs li').each(function(i) {
    i = i + 1;

$(this).attr('id', 'tab-' + i);

if(i !== $('#tabs li').size()) {
    $(this).append('<a class="tabPagination next floor-up" rel="tab-' + (i + 1) + '" href="/keyplate/' + (i + 1) + '">Up</a>');
    }
    if(i !== 1) {
        $(this).append('<a class="tabPagination next floor-down" rel="tab-' + (i - 1) + '" href="/keyplate/' + (i - 1) + '">Down</a>');
    }                
});            

$('#tabs li[class!="current"]').hide();

$(document).on("click", "a.tabPagination", function(){
    $('.current').removeAttr('class');
    $('#tabs li[class!="current"]').hide();    
    $('#' + $(this).attr('rel')).show(); 

}); 
```

我有另一个div：

```
<div id="tower"></div> 
```

我需要做的是根据当前选择的#tab 项向#tower div 添加一个类。因此，例如，如果我们在 #tab li = 2 上，那么 #tower div 将获得 class="active_level_2"。换句话说，获取“当前”#tab 列表项的值并使用它来创建“active_level_#”。

提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T06:06:44.613

您可以获取属性`rel`并将其拆分以获取用于`active_level_`该类的最后一个数字。我们现在也可以拉`$(this)`入一个变量，因为它被多次使用。

[jsFiddle](http://jsfiddle.net/Tyriar/QPaNG/)

```
$(document).on("click", "a.tabPagination", function(){
    var tab = $(this);
    $('.current').removeAttr('class');
    $('#tabs li[class!="current"]').hide();    
    $('#' + tab.attr('rel')).show(); 
    for (var i = 1; i <= 6; i++)
        $('#tower').removeClass('active-level-' + i);
    $('#tower').addClass('active_level_' + tab.attr('rel').split('-')[1]);
}); 
```

`tab.attr('rel').split('-')[1]`将获取选项卡的属性，在字符`rel`处将字符串分成两部分，并获取第二部分以返回我们想要的数字。`-``split()`

# blackberry - 在黑莓中绘制了有限的 ListField 项目而不是完整列表

> ID：15826975
> 
> 赞同：-1
> 
> 时间：2013-04-05T06:00:27.390
> 
> 标签：blackberry, blackberry-jde

我正在尝试绘制保存在设备中的所有联系人的列表。一切都很好，但是当我选择所有联系人时，我只得到那些在屏幕上绘制的联系人。换句话说，仅列出那些在屏幕上可见的联系人。要获得剩余的联系人，我必须滚动列表。

这是我的代码：

```
public class CheckboxListField extends VerticalFieldManager implements ListFieldCallback, FieldChangeListener {
    private static Vector selectedContacts ;
    private ChecklistData[] mListData = new ChecklistData[] {};
    private ListField mListField;
    private static Vector mContacts;
    private ContactList contactList;
    private Enumeration allContacts;
    private SendEmail sendEmail;
    private boolean isChecked=false;
    private BlackBerryContact contactItem;
    private VerticalFieldManager _mainVFM = new VerticalFieldManager();
    private int i;
    private int j=0;
    private String emails="";
    private ButtonField _inviteButton;
    private HorizontalFieldManager selectAllHFM;
    private CustomButtonField selectAllButton;
    private Bitmap _uncheckBmp;
    private Bitmap _checkBmp;
    private LabelField selectAllLabel;
    private CheckboxField selectAllCheckBox;
    private VerticalFieldManager contactListVFM;
    private boolean listItemChecked=false;
    private StringBuffer rowString;
    private boolean getCBoxStatus;

    // A class to hold the Strings in the CheckBox and it's checkbox state
    // (checked or unchecked).
    private class ChecklistData {
        private String _stringVal;
        private boolean _checked;
        private String _telNumber;

        ChecklistData(String stringVal, boolean checked) {
            _stringVal = stringVal;
            _checked = checked;
            //_telNumber = telNumber;

        }

        // Get/set methods.
        private String getStringVal() {
            return _stringVal;
        }

        private boolean isChecked() {
            return _checked;
        }

        // Toggle the checked status.
        public void toggleChecked() {
            _checked = !_checked;
        }
    }

    public CheckboxListField() {

        _mainVFM.add(createContactList(isChecked));
        add(_mainVFM);

    }

    public VerticalFieldManager createContactList(boolean checked){
        isChecked = checked;
        selectedContacts = new Vector();

        //INVITE BUTTON
        contactListVFM = new VerticalFieldManager();
        _inviteButton=new ButtonField("Invite Friend");
        _inviteButton.setChangeListener(this);
        _inviteButton.setMargin(2,0,10,0);

        //SELECT ALL CHECKBOX

        selectAllHFM = new HorizontalFieldManager();
        _uncheckBmp = Bitmap.getBitmapResource("Uncheck.png");
        _checkBmp = Bitmap.getBitmapResource("checked.png");
        selectAllButton = new CustomButtonField(29, "", _uncheckBmp, _checkBmp, ButtonField.CONSUME_CLICK);
        selectAllButton.setChangeListener(this);
        selectAllButton.setMargin(5,5,5,5);

        selectAllCheckBox = new CheckboxField("Select All", isChecked){
            protected boolean navigationClick(int status,
                    int time) {
                selectedContacts = new Vector();
                emails = "";
                boolean getCBoxStatus = selectAllCheckBox.getChecked();

                if(listItemChecked == false){
                    if(_mainVFM.getFieldCount()!= 0){
                        _mainVFM.deleteAll();
                        _mainVFM.add(createContactList(getCBoxStatus));
                    }
                }

                return true;
            }
        };
        selectAllCheckBox.setChangeListener(this);

        selectAllLabel = new LabelField("Select All");
        selectAllLabel.setMargin(5,5,5,5);

        selectAllHFM.add(selectAllCheckBox);
        //selectAllHFM.add(selectAllLabel);

        // toggle list field item on navigation click

        mListField = new ListField() {
            protected boolean navigationClick(int status,
                    int time) {
                toggleItem();
                return true;
            };

        };
        // set two line row height
        //mListField.setRowHeight(getFont().getHeight() * 2);
        mListField.setCallback(this);
        //contactListVFM.add(new NullField(NullField.FOCUSABLE));
        contactListVFM.add(_inviteButton);
        contactListVFM.add(selectAllHFM);
        contactListVFM.add(new SeparatorField());
        contactListVFM.add(mListField);

        //LOAD CONTACTS
        // load contacts in separate thread
        loadContacts.run();

        return contactListVFM;
    }

    protected Runnable loadContacts = new Runnable() {
        public void run() {
            reloadContactList();
            // fill list field control in UI event thread
            UiApplication.getUiApplication().invokeLater(
                    fillList);
        }
    };

    protected Runnable fillList = new Runnable() {
        public void run() {
            int size = mContacts.size();
            mListData = new ChecklistData[size];
            for (int i =0; i < mContacts.size() ; i++) {
                contactItem = (BlackBerryContact) mContacts
                .elementAt(i);

                String displayName = getDisplayName(contactItem);

                //  String telContact = getContact(item);
                mListData[i] = new ChecklistData(
                        displayName, isChecked);
                mListField.invalidate(i);
                System.out.println(">>>>>>>>>"+mListData[i]);
            }
            mListField.setSize(size);
            //invalidate(); 
        }
    };

    protected void toggleItem() {
        listItemChecked = true ;
        selectAllCheckBox.setChecked(false);

        listItemChecked =false ;
        // Get the index of the selected row.
        int index = mListField.getSelectedIndex();
        System.out.println("..............."+index);

        if (index != -1) {
            // Get the ChecklistData for this row.
            ChecklistData data = mListData[index];

            // Toggle its status.
            data.toggleChecked();
            mListField.invalidate(index);

        }
    }

    private boolean reloadContactList() {
        try {
            contactList = (ContactList) PIM
            .getInstance()
            .openPIMList(PIM.CONTACT_LIST,
                    PIM.READ_ONLY);

            allContacts = contactList.items();
            mContacts = enumToVector(allContacts);
            mListField.setSize(mContacts.size());
            System.out.println(",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,>>>>>>>>>>"+mListField.getSize());
            return true;
        } catch (PIMException e) {
            return false;
        }
    }

    // Convert the list of contacts from an Enumeration to a Vector
    private Vector enumToVector(Enumeration contactEnum) {

        Vector v = new Vector();

        if (contactEnum == null)
            return v;

        while (contactEnum.hasMoreElements()){
            Contact contact = (Contact) allContacts.nextElement();
            if(contactList.isSupportedField(Contact.EMAIL)&& (contact.countValues(Contact.EMAIL) > 0)) {
                String emailID=contact.getString(Contact.EMAIL, 0);
                if(emailID.length() !=0 && emailID != null ){
                    v.addElement(contact);
                }
            }
        }
        return v;
    }

    public void drawListRow(ListField list,
            Graphics graphics, int index, int y, int w) {
        rowString = new StringBuffer();
        Object obj = this.get(list, index);
        if (list.getSelectedIndex() != index) {
            graphics.setBackgroundColor(index % 2 == 0 ||index==0 ? Color.WHITE
                    : Color.LIGHTGRAY);
            graphics.clear();
            //list.setFocus();
        }

        BlackBerryContact contact = (BlackBerryContact) mContacts
        .elementAt(index);

        String email= contact.getString(Contact.EMAIL, 0);
        int vecIndex = selectedContacts.indexOf(email);

        if (obj != null) {
            ChecklistData currentRow = (ChecklistData) obj;

            if (currentRow.isChecked()) {
                if(vecIndex == -1){
                    selectedContacts.addElement(email);
                }
                rowString
                .append(Characters.BALLOT_BOX_WITH_CHECK);
            } else {
                selectedContacts.removeElement(email);
                rowString.append(Characters.BALLOT_BOX);
            }
            // Append a couple spaces and the row's text.
            rowString.append(Characters.SPACE);
            rowString.append(Characters.SPACE);
            rowString.append(currentRow.getStringVal());
            // Draw the text.

        } 
        graphics.drawText(rowString.toString(), 0, y,
                0, w);

    }

    public static String getDisplayName(Contact contact) {
        if (contact == null) {
            return null;
        }
        String displayName = null;
        // First, see if there is a meaningful name set for the contact.
        if (contact.countValues(Contact.NAME) > 0) {
            final String[] name = contact.getStringArray(
                    Contact.NAME, 0);
            final String firstName = name[Contact.NAME_GIVEN];
            final String lastName = name[Contact.NAME_FAMILY];
            if (firstName != null && lastName != null) {
                displayName = firstName + " " + lastName;
            } else if (firstName != null) {
                displayName = firstName;
            } else if (lastName != null) {
                displayName = lastName;
            }
            if (displayName != null) {
                final String namePrefix = name[Contact.NAME_PREFIX];
                if (namePrefix != null) {
                    displayName = namePrefix + " "
                    + displayName;
                }
                return displayName;
            }
        }
        return displayName;
    }

    // Returns the object at the specified index.
    public Object get(ListField list, int index) {
        Object result = null;
        if (mListData.length > index) {
            result = mListData[index];
        }
        System.out.println(",,,,,,,,,,,,,,,,,,,,,,,"+mListData.length);
        return result;
    }

    // Returns the first occurrence of the given String,
    // beginning the search at index, and testing for
    // equality using the equals method.
    public int indexOfList(ListField list, String p, int s) {
        return -1;
    }

    // Returns the screen width so the list uses the entire screen width.
    public int getPreferredWidth(ListField list) {
        return Graphics.getScreenWidth();
        // return Display.getWidth();
    }

    public void fieldChanged(Field field, int context) {

        if(field==_inviteButton){

            for(int n=0 ; n<selectedContacts.size() ; n++){

                emails= emails + selectedContacts.elementAt(n)+",";

            }
            //}
            String mailBody =": "+Jxa.loginUserName+" invited you on NaijaPings app. Please download NaijaPings Android app from here "+"http://appworld.blackberry.com/webstore/content/77264/?lang=en" ;
            sendEmail=new SendEmail(mailBody);
            sendEmail.Email(emails,Constant.emailSubject);
            emails ="" ;
            selectedContacts.removeAllElements();

        }else if(field == selectAllCheckBox){

            selectedContacts = new Vector();
            emails = "";
            getCBoxStatus = selectAllCheckBox.getChecked();
            //selectedContacts.removeAllElements();

            if(listItemChecked == false){
                if(_mainVFM.getFieldCount()!= 0){
                    _mainVFM.deleteAll();
                    _mainVFM.add(createContactList(getCBoxStatus));
                }
            }

        }
    }

} 
```

在这里，在**drawListRow()**中，**get()**方法仅被调用多次，即屏幕上可见的联系人数量。要添加剩余的联系人，我必须滚动列表。

在**drawListRow()**方法中，我将这些联系人添加到**selectedContacts**向量中，而不是使用这些向量来获取联系人以发送邮件。只有在绘制特定列表项时才会添加联系人。

那么，如何在不滚动列表的情况下获取所有选定的联系人？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-05T09:59:19.580

这类似于[您在最近的其他问题中遇到的问题](https://stackoverflow.com/q/15446142/119114)。问题是[drawListRow()](http://www.blackberry.com/developers/docs/6.0.0api/net/rim/device/api/ui/component/ListFieldCallback.html#drawListRow(net.rim.device.api.ui.component.ListField,%20net.rim.device.api.ui.Graphics,%20int,%20int,%20int))是一个回调，旨在让您**绘制**需要绘制的行。它并不意味着做任何其他事情，例如将联系人列表组装到电子邮件中。

黑莓操作系统试图提高效率，因此它只会要求您提供用户`drawListRow()`实际**可见**的行（在屏幕上）。任何更多的东西都是浪费的。

因此，如果您想组合所有选定行的列表，您应该在其他地方进行，而不是在`drawListRow()`.

在我看来，您可以随时随地使用此代码构建所有当前选定行的列表：

```
public Vector getSelectedContacts() {

    selectedContacts.removeAllElements();

    for (int i = 0; i < mListData.length; i++) {
        Object obj = mListData[i];
        if (obj != null) {

            BlackBerryContact contact = (BlackBerryContact) mContacts.elementAt(i);
            String email = contact.getString(Contact.EMAIL, 0);
            int vecIndex = selectedContacts.indexOf(email);

            ChecklistData currentRow = (ChecklistData) obj;

            if (currentRow.isChecked()) {
                if(vecIndex == -1){
                    selectedContacts.addElement(email);
                }
            } else {
                // this line is probably not actually needed, since we 
                //   call removeAllElements() at the start of this method
                selectedContacts.removeElement(email);
            }
        } 
    }

    return selectedContacts;
} 
```

# blackberry - 将谷歌地图集成到黑莓应用程序中

> ID：15826978
> 
> 赞同：0
> 
> 时间：2013-04-05T06:00:35.370
> 
> 标签：blackberry, google-maps-api-3, blackberry-eclipse-plugin

我是黑莓应用程序开发的新手（黑莓 7.1）。我需要将谷歌地图集成到本机黑莓应用程序中。

1.  我应该使用 Google API V2 还是 V3？

2.  是否有任何链接或 github 项目可供参考？

3.  谷歌地图应该安装在黑莓设备中吗？

另一个要求是

1）应该可以在地图上绘制多个点

# database - 当表有数百万条记录时如何在表上进行搜索

> ID：15826983
> 
> 赞同：0
> 
> 时间：2013-04-05T06:01:28.673
> 
> 标签：database, sybase

我必须在 sybase 数据库中运行以下查询，这将返回数百万条记录。但是当我运行它需要很多时间并且很多次超时。

```
select * from table1 t1
where t1.oneid IN
(
select t2.oneid 
from table2 t2
where t2.twoid IN 
(
    select DISTINCT t3.twoid from table3 t3 
 )
)
at isolation 0 
```

那么有人可以建议我一种方法，以便我可以进行一些批量操作来获取数据吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-10T08:44:32.410

尝试这个 ：

```
SELECT
    t1.*
FROM (
    SELECT 
        DISTINCT t3.twoid 
    FROM table3 t3 
) as tmp
INNER JOIN table2 t2
    ON t2.twoid = tmp.twoid
INNER JOIN table1 t1
    ON t1.oneid = t2.oneid 
```

它应该更快，特别是如果您有索引`t2.twoid`并且`t1.oneid`

# javascript - 如何从内部删除对象？

> ID：15826991
> 
> 赞同：1
> 
> 时间：2013-04-05T06:02:18.233
> 
> 标签：javascript, object

我想知道当这个对象不再被使用时如何从内部删除一个对象。

例如 ：

```
var MyObject = function () {
    return {
        'some': function() {...},
        'actions': function() {...},
        'destroy': function() {
            this = null; // throws a "ReferenceError: Invalid left-hand side in assignment"
        },
    }
}

// Doing so, I would be able to :
var obj = new MyObject();
obj.some();

// And when I have finished :
obj.destroy(); 
```

其背后的原因是我无法从外部销毁它（对象是在 DOM 元素上“单击”时创建的，但是当您单击其他地方时它会被销毁，因此创建的范围（在“onClick " 方法）在我想删除它的地方不可用。

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T06:07:30.337

JavaScript 根本不能那样工作。事实上，你不能破坏任何对象。您可以做的唯一一件事是确保您没有对对象的任何引用，这将使其符合 JS 运行时的垃圾收集条件。如果您发布更完整的代码片段，我们可以告诉您是否有内存泄漏，但如果您已经`.off`为每个都做了相应的操作`.on`并将任何引用变量设置为`null`，那么这就是您可以并且应该在 JavaScript 中做的全部范围.

# cakephp - Cakephp App 类代码在页面上打印和 spl_autoload_register 错误

> ID：15826993
> 
> 赞同：0
> 
> 时间：2013-04-05T06:02:27.300
> 
> 标签：cakephp, exception, autoload, bootstrapping

我已将 CakePHP 安装从我的开发服务器移动到生产服务器（配置文件和 htaccess 已更新）。

生产服务器使用的是旧版本的 PHP，我已请求主机对其进行升级。他们升级 PHP 版本后，网站在网页上打印 php 代码 ( `Class : /lib/Cake/core/app`) .. 而且它在页面底部显示一个致命错误，如下

> 致命错误：在 /xxxxxxx/lib/Cake/bootstrap.php:154 中，未捕获异常 'LogicException' 并带有消息“传递的数组未指定现有静态方法（未找到类 'App'）”堆栈跟踪：#0 /xxxxxxx/ lib/Cake/bootstrap.php(154): spl_autoload_register(Array) #1 /xxxxxxx/app/webroot/index.php(92): include('/xxxxxxx/pu...') #2 {main} 抛出/xxxxxxx/lib/Cake/bootstrap.php 第 154 行

请帮忙..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T08:45:54.673

显然，CakePHP 无法找到或加载`App`类 ( `/xxxx/lib/Cake/core/App.php`)。

但是，自更新以来路径可能已更改，但是（如果您使用的是 CakePHP 2.3.1）同一文件的第 134 行使用它来加载该文件：

```
require CAKE . 'Core' . DS . 'App.php'; 
```

如果文件不存在或无法加载，则脚本应在该点停止。

要检查您的路径是否正确，请尝试调试该路径；

```
 echo CAKE . 'Core' . DS . 'App.php'; die(); 
```

如果该路径是*正确*的（我猜它是正确的，否则`require`应该已经停止了上面提到的脚本），则文件的*内容*有问题`App.php`。也许某些东西损坏了文件（部分上传？）或不正确的行尾导致 PHP 错误地解释它。

如果页面确实显示了App 类的*完整源代码*，则您可能（不经意间）使用 php 'short opening tags' 并且这在新配置中已被禁用，`<?`这可能是原因，例如，如果一个*空格*`<?`-后面有空格吗`<? PHP`

更多关于短开始标签的信息可以在这里找到：

[可以使用 PHP 短标签吗？](https://stackoverflow.com/questions/200640/are-php-short-tags-acceptable-to-use)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-05T08:06:21.303

您是否检查过 PHP 版本实际上已更改，您是否检查过（使用 phpinfo()）？

# android - android中的网页视图内容闪烁？

> ID：15826997
> 
> 赞同：2
> 
> 时间：2013-04-05T06:02:42.547
> 
> 标签：android, android-webview

我正在使用[这个](https://github.com/fry15/uk.co.jasonfry.android.tools)库进行水平滑动。检查下面的代码

滑动功能工作正常，但是当我直接滑动时，不会在 web 视图上显示内容。在下面显示一些图片以获取更多详细信息：-

![在此处输入图像描述](https://i.stack.imgur.com/uXrDd.png)

在上面的图片之后，当我滑动它时效果很好但是当我们想直接进入下一张幻灯片时，就会面临如下所示的内容消失问题：-

![在此处输入图像描述](https://i.stack.imgur.com/6TSCY.png)

然后它显示在下面

![在此处输入图像描述](https://i.stack.imgur.com/94uj7.png)

**代码**

```
PageControl mPageControl = (PageControl) findViewById(R.id.page_control);
    mSwipeView = (SwipeView) findViewById(R.id.swipe_view);

    mSwipeView.setPageControl(mPageControl);

    for (int i = 0; i < 10; i++) {
        mSwipeView.addView(new FrameLayout(this));
    }

    for (int i = 0; i < 10; i++) {

        ((FrameLayout) mSwipeView.getChildContainer().getChildAt(i))
                .addView(setupView());
        count++;
    } 
```

**设置视图（）**

```
public View setupView() {

    LayoutInflater layoutInflator = getLayoutInflater();
    LinearLayout childlayout = (LinearLayout) layoutInflator.inflate(
            R.layout.webview, Switcher, false);

            // adding all the things in which define in below XML

    return childlayout;

} 
```

**xml**

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:id="@+id/rootView"
android:layout_width="fill_parent"
android:layout_height="fill_parent"
android:background="@color/white"
android:orientation="vertical" >

<ScrollView
    android:id="@+id/scroll"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content" >

    <LinearLayout
        android:id="@+id/main_layout"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:background="@color/white"
        android:orientation="vertical" >

        <LinearLayout
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:orientation="horizontal" >

            <LinearLayout
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:orientation="vertical" >

                <LinearLayout
                    android:id="@+id/layClick"
                    android:layout_width="43dp"
                    android:layout_height="64dp"
                    android:background="@drawable/queslay"
                    android:gravity="left"
                    android:orientation="vertical" >

                    // some stuff

            </LinearLayout>

            <LinearLayout
                android:id="@+id/main_question"
                android:layout_width="fill_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical" >

                <WebView
                    android:id="@+id/ques"
                    android:layout_width="fill_parent"
                    android:layout_height="wrap_content"
                    android:background="#ffffff" />
            </LinearLayout>
        </LinearLayout>

        <LinearLayout
            android:id="@+id/option_main"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:gravity="center"
            android:orientation="vertical" >
        </LinearLayout>
    </LinearLayout>
</ScrollView>

<LinearLayout
    android:id="@+id/solution_confirm"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:layout_gravity="center_horizontal"
    android:background="@null"
    android:gravity="center"
    android:orientation="horizontal" >

   // some stuff
</LinearLayout> 
```

还使用以下 xml 在**“@+id/option_main”**上膨胀xml：

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="fill_parent"
android:layout_height="wrap_content"
android:orientation="vertical" >

<!-- <FL><LL><FL></FL><BTN/></LL></FL> -->

<RelativeLayout
    android:id="@+id/option_relative_a"
    android:layout_width="fill_parent"
    android:layout_margin="10dp"
    android:layout_height="wrap_content"
    android:orientation="horizontal" >

    <LinearLayout
        android:id="@+id/option_a"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:orientation="horizontal" >

        <LinearLayout
            android:layout_width="40dp"
            android:layout_height="wrap_content"
            android:orientation="vertical" >

            <Button
                android:id="@+id/btn_a"
                android:layout_width="47dp"
                android:layout_height="19dp"
                android:layout_gravity="center_horizontal"
                android:background="@drawable/opgrey"
                android:gravity="center"
                android:text="@string/a"
                android:textColor="#ffffff"
                android:textSize="12sp" />

                <ImageView
                android:id="@+id/ch_a"
                android:layout_width="21dp"
                android:layout_height="18dp"
                android:layout_marginTop="5dp"
                android:layout_gravity="center_horizontal"
                android:src="@drawable/cross"
                android:gravity="center"
                android:textSize="12sp" />
        </LinearLayout>

        <LinearLayout
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:layout_gravity="center_vertical"
            android:layout_marginBottom="2dp"
            android:layout_marginRight="2dp"
            android:layout_marginTop="2dp"
            android:orientation="vertical" >

            <WebView
                android:id="@+id/ques_option_a"
                android:layout_width="fill_parent"
                android:layout_height="wrap_content" />
        </LinearLayout>
    </LinearLayout>

    <ImageView
        android:id="@+id/option_image_a"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
          android:layout_alignBottom="@+id/option_a"
        android:background="@null" />

</RelativeLayout>

 <RelativeLayout
     android:id="@+id/option_relative_b"
     android:layout_width="fill_parent"
     android:layout_margin="10dp"
     android:layout_height="wrap_content"
     android:orientation="horizontal" >

    <LinearLayout
        android:id="@+id/option_b"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:orientation="horizontal" >

        <LinearLayout
            android:layout_width="40dp"
            android:layout_height="wrap_content"
            android:orientation="vertical" >

            <Button
                android:id="@+id/btn_b"
                android:layout_width="47dp"
                android:layout_height="19dp"
                android:layout_gravity="center_horizontal"
                android:background="@drawable/opgrey"
                android:gravity="center"
                android:text="@string/b"
                android:textColor="#ffffff"
                android:textSize="12sp" />

            <ImageView
                android:id="@+id/ch_b"
                android:layout_width="21dp"
                android:layout_height="18dp"
                android:layout_marginTop="5dp"
                android:layout_gravity="center_horizontal"
                android:src="@drawable/cross"
                android:gravity="center"
                android:textSize="12sp" />
        </LinearLayout>

        <LinearLayout
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:layout_gravity="center_vertical"
            android:layout_marginBottom="2dp"
            android:layout_marginRight="2dp"
            android:layout_marginTop="2dp"
            android:orientation="vertical" >

            <WebView
                android:id="@+id/ques_option_b"
                android:layout_width="fill_parent"
                android:layout_height="wrap_content" />
        </LinearLayout>
    </LinearLayout>

    <ImageView
        android:id="@+id/option_image_b"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
          android:layout_alignBottom="@+id/option_b"
        android:background="@null" />

</RelativeLayout>

 <RelativeLayout
     android:id="@+id/option_relative_c"
     android:layout_width="fill_parent"
     android:layout_margin="10dp"
     android:layout_height="wrap_content"
     android:orientation="horizontal" >

    <LinearLayout
        android:id="@+id/option_c"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:orientation="horizontal" >

        <LinearLayout
            android:layout_width="40dp"
            android:layout_height="wrap_content"
            android:orientation="vertical" >

            <Button
                android:id="@+id/btn_c"
                android:layout_width="47dp"
                android:layout_height="19dp"
                android:layout_gravity="center_horizontal"
                android:background="@drawable/opgrey"
                android:gravity="center"
                android:text="@string/c"
                android:textColor="#ffffff"
                android:textSize="12sp" />

            <ImageView
                android:id="@+id/ch_c"
                android:layout_width="21dp"
                android:layout_marginTop="5dp"
                android:layout_height="18dp"
                android:layout_gravity="center_horizontal"
                android:src="@drawable/cross"
                android:gravity="center"
                android:textSize="12sp" />

        </LinearLayout>

        <LinearLayout
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:layout_gravity="center_vertical"
            android:layout_marginBottom="2dp"
            android:layout_marginRight="2dp"
            android:layout_marginTop="2dp"
            android:orientation="vertical" >

            <WebView
                android:id="@+id/ques_option_c"
                android:layout_width="fill_parent"
                android:layout_height="wrap_content" />
        </LinearLayout>
    </LinearLayout>

    <ImageView
        android:id="@+id/option_image_c"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
          android:layout_alignBottom="@+id/option_c"
        android:background="@null" />

</RelativeLayout>

 <RelativeLayout
     android:id="@+id/option_relative_d"
     android:layout_width="fill_parent"
     android:layout_margin="10dp"
     android:layout_height="wrap_content"
     android:orientation="horizontal" >

    <LinearLayout
        android:id="@+id/option_d"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:orientation="horizontal" >

        <LinearLayout
            android:layout_width="40dp"
            android:layout_height="wrap_content"
            android:orientation="vertical" >

            <Button
                android:id="@+id/btn_d"
                android:layout_width="47dp"
                android:layout_height="19dp"
                android:layout_gravity="center_horizontal"
                android:background="@drawable/opgrey"
                android:gravity="center"
                android:text="@string/d"
                android:textColor="#ffffff"
                android:textSize="12sp" />

            <ImageView
                android:id="@+id/ch_d"
                android:layout_width="21dp"
                android:layout_height="18dp"
                android:layout_marginTop="5dp"
                android:layout_gravity="center_horizontal"
                android:src="@drawable/greentick"
                android:gravity="center"
                android:textSize="12sp" />
        </LinearLayout>

        <LinearLayout
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:layout_gravity="center_vertical"
            android:layout_marginBottom="2dp"
            android:layout_marginRight="2dp"
            android:layout_marginTop="2dp"
            android:orientation="vertical" >

            <WebView
                android:id="@+id/ques_option_d"
                android:layout_width="fill_parent"
                android:layout_height="wrap_content" />
        </LinearLayout>
    </LinearLayout>

    <ImageView
        android:id="@+id/option_image_d"
        android:layout_width="fill_parent"
        android:layout_height="match_parent"
          android:layout_alignBottom="@+id/option_d"
        android:background="@null" />

</RelativeLayout>

 <RelativeLayout
     android:id="@+id/option_relative_e"
     android:layout_width="fill_parent"
     android:layout_height="wrap_content"
     android:layout_margin="10dp"
     android:orientation="horizontal" >

    <LinearLayout
        android:id="@+id/option_e"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:orientation="horizontal" >

        <LinearLayout
            android:layout_width="40dp"
            android:layout_height="wrap_content"
            android:orientation="vertical" >

            <Button
                android:id="@+id/btn_e"
                android:layout_width="47dp"
                android:layout_height="19dp"
                android:layout_gravity="center_horizontal"
                android:background="@drawable/opgrey"
                android:gravity="center"
                android:text="@string/e"
                android:textColor="#ffffff"
                android:textSize="12sp" />

            <ImageView
                android:id="@+id/ch_e"
                android:layout_width="21dp"
                android:layout_height="18dp"
                android:layout_marginTop="5dp"
                android:layout_gravity="center_horizontal"
                android:src="@drawable/greentick"
                android:gravity="center"
                android:textSize="12sp" />
        </LinearLayout>

        <LinearLayout
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:layout_gravity="center_vertical"
            android:layout_marginBottom="2dp"
            android:layout_marginRight="2dp"
            android:layout_marginTop="2dp"
            android:orientation="vertical" >

            <WebView
                android:id="@+id/ques_option_e"
                android:layout_width="fill_parent"
                android:layout_height="wrap_content" />
        </LinearLayout>
    </LinearLayout>

    <ImageView
        android:id="@+id/option_image_e"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
          android:layout_alignBottom="@+id/option_e"
        android:background="@null" />

</RelativeLayout> 
```

**滑动工作正常，但直接将一张幻灯片转到另一张幻灯片时会遇到问题。**

如果您过去也遇到过同样的问题，请帮助我。

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2013-04-10T04:50:47.353

这是上面闪烁的问题，所以我可以阅读很多链接，例如：-

[https://code.google.com/p/android/issues/detail?id=20446](https://code.google.com/p/android/issues/detail?id=20446)

[硬件加速的 webview 滑入动画在 ICS 上闪烁](https://stackoverflow.com/questions/9132749/hardware-accelerated-webview-slide-in-animation-flickering-on-ics)

[如果启用了硬件加速（Android 3.0+），WebView “闪烁”为白色背景](https://stackoverflow.com/questions/9476151/webview-flashing-with-white-background-if-hardware-acceleration-is-enabled-an)

和

**代码**

```
webview.setLayerType(View.LAYER_TYPE_SOFTWARE, null); 
```

上面的代码对我有用。

# grid - Extjs4 网格的分页功能不起作用

> ID：15826999
> 
> 赞同：1
> 
> 时间：2013-04-05T06:02:58.623
> 
> 标签：grid, extjs4, paging

我在 extjs4 工作。我正在向网格添加分页功能。我的网格视图代码为-allQuestionPapers.js

```
Ext.define('Balaee.view.qb.qbqns.       ', {
            extend : 'Ext.grid.Panel',
            alias : 'widget.paperlist',
            id : 'paperId',
            store : 'qb.QbqnsStore',
            border : false,
            // height:autoheight,
            width : 600,
            autoScroll : true,
            columns : [{
                        text : 'date',
                        width : 200,
                        dataIndex : 'createDate'
                    }, {
                        text : 'QuestionpaperNo',
                        width : 200,
                        dataIndex : 'questionPaperNo'
                    }, {
                        text : 'Marks',
                        width : 200,
                        dataIndex : 'obtainMarks'
                    }],
            dockedItems : [{
                        xtype : 'pagingtoolbar',
                        id : 'pagingtoolbarId',
                        pageSize : 10,
                        dock : 'bottom',
                        displayInfo : true

                    }]
        }); 
```

在控制器中，我动态创建存储并将其绑定到网格。为此，我将代码编写为-

```
getAllPapers:function()
    {   
        var paperlistStore=Ext.create('Balaee.store.qb.QbqnsStore',
            {autoLoad: {params:{start:0, limit:10}}});
        proxy= paperlistStore.getProxy();
        Ext.apply(proxy.api,{
            read:'index.php/QuestionBank/qbpaper/getUserAllQuestionPaper'
        });

        Ext.apply(proxy.reader,{
            type:'json',
            root:'questions'
        });

        Ext.apply(proxy.writer,{
            type:'json',
            root:'data'
        });

        var answers = '{"data":[';
        answers = answers + '{"userId":1}';
        answers =answers+']}';
        console.log(answers);

        paperlistStore.load({
            params:{
                data: answers
            },
            callback: function(records,operation,success){
                console.log(records);
                console.log("Successfully data send");
            },
            scope:this
        });

        var temp2=Ext.getCmp('QbqnsResultmainId');
        temp2.removeAll();

        var worldChaptor1 =Ext.create('Balaee.view.qb.qbqns.allQuestionPapers');
        var resultView = Ext.getCmp('pagingtoolbarId');
        console.log(resultView);
        resultView.bindStore(paperlistStore); 
        temp2.add(worldChaptor1);
} 
```

所有这些都正常工作。但是网格每页仅显示 3 条记录，而不是根据网格的分页功能的显示消息显示 25 条记录“显示 280 中的 1-25”。那么我需要进行哪些更改才能显示每页 25 条记录。