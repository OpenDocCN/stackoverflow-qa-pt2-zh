# StackOverflow 问答 14806000-14806999

# regex - 正则表达式：在第一个字母后匹配

> ID：14806003
> 
> 赞同：1
> 
> 时间：2013-02-11T04:44:22.880
> 
> 标签：regex

我有一个单词列表如下：

```
cat
concatenate
matter
pattern
hat
rather
fathom
at
saturate
vat 
```

我需要一个正则表达式来匹配任何单个字母后跟字母的单词`'at'`。

我目前有`[A-Za-z]at`，但包括`'cat'`and `'nat'`in`'concatenate'`和`'rat'`in `'saturate'`。

我怎样才能让它之前只查找一个字符，并确保在“at”之前不超过 1 个字符。我尝试使用 {1} 但这仍然不起作用。谢谢你的帮助。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-11T04:46:29.193

使用单词边界：

```
\b[A-Za-z]at\b 
```

或者，如果您的字符串仅包含这 3 个字符，那么您可以使用锚点：

```
^[A-Za-z]at$ 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T04:59:48.187

您可以使用`^[A-Za-z]at$`
`[A-za-z]`将检查单个字母。以下`at`将寻找完全匹配。
使用`^`and`$`符号会强制单词在给定的边界内开始和结束。

# javascript - 从对象本身访问对象属性

> ID：14806004
> 
> 赞同：0
> 
> 时间：2013-02-11T04:44:34.157
> 
> 标签：javascript, oop, prototype

我在学习面向对象的 Javascript 时遇到了一些麻烦。我有两个名为`Cosmos`and的类`Background`，`Cosmos`如下所示：

```
// js/Cosmos.js
function Cosmos() {
    this.background = new Background();

    // Fire game loop
    this.ticker = setInterval(this.tick, 1000 / 60);
}

// Main game loop
Cosmos.prototype.tick = function() {
    console.log(this.background);
} 
```

当主游戏循环滴答作响时，我进入`undefined`控制台。我不太明白这是因为`this.background`它是`Cosmos`类的属性，所以它应该可以通过`Cosmos`类中定义的方法访问，不是吗？

如果我回到`index.html`页面的脚本标签并将其更改为：

```
// Lift off
var cosmos = new Cosmos();
console.log(cosmos.background); 
```

它工作并且`Background`对象被记录到控制台。谁能提供解释并告诉我如何`Cosmos`从内部访问属性`Cosmos.tick`？

编辑：原来问题与`setInterval()`，因为如果我这样做，正确的对象被记录到控制台：

```
function Cosmos() {
    this.background = new Background();

    // Fire game loop
    //this.ticker = setInterval(this.tick, 1000 / 60);
    this.tick();
}

// Main game loop
Cosmos.prototype.tick = function() {
    console.log(this.background);
} 
```

不过，仍然不知道最好的解决方法。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T05:41:54.703

当从 调用函数时`setInterval`，`this`将不再绑定到对象。

这是对您的问题的快速修复：

```
// js/Cosmos.js
function Cosmos() {
    var self = this;
    this.background = new Background();

    // Fire game loop
    this.ticker = setInterval(function () {
        self.tick();
    }, 1000 / 60);
} 
```

通过使用该`self`变量，内部函数可以访问`this`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T05:42:46.903

`this`在 is 的函数范围内`setInterval`，`window`但您可以通过`.bind`（或`this`像其他答案所说的那样重新声明）更改函数范围：

```
this.ticker = setInterval(this.tick.bind(this), 1000 / 60); 
```

[http://jsfiddle.net/ExplosionPIlls/SwQ5V/](http://jsfiddle.net/ExplosionPIlls/SwQ5V/)

# c-preprocessor - 编辑/重新定义常量字符串：是的，我知道矛盾

> ID：14806008
> 
> 赞同：-2
> 
> 时间：2013-02-11T04:44:50.960
> 
> 标签：c-preprocessor, preprocessor-directive

我正在尝试更改常量变量值，*是的，我知道我正在做的事情的矛盾，*但是有一种方法可以解决我的疯狂。

你看我正在用一种非常类似于**C** /C++ 的语言编写，称为 4dm，但它不允许函数之外的任何代码，所以我试图通过使用预处理器命令来克服这个问题。原因是我可以在语言中实现某种形式的专业化。第一步涉及能够编辑常量字符串。

尽管这是一种不同的语言，但预处理器的运行方式与 C 和 C++ 编译器完全相同：

```
#define MY_STR "abc"
#define CONCAT(s) \
    #define TEMP MY_STR \  // store MY_STR in TEMP_STR
    #undef MY_STR \        // undefine MY_STR
    #define MY_STR TEMP s  // redefine MY_STR so it contains the old value plus the new one

CONCAT(def)
printf("%s\n", MY_STR);  // should hopefully print out "abc def" 
```

以下是连接字符串的简单尝试，但我收到一个编译错误，说明`MY_STR is not defined`如何解决此问题？

```
#define MY_STR abc
#define TEMP MY_STR
#undef MY_STR
#define MY_STR TEMP def

void test()
{
    print(MY_STR);
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T05:20:23.770

在您的第一个示例中，您尝试将宏扩展为`#define`预处理器命令。你不能那样做；预处理器产生`C`代码（或其他），在宏扩展中看起来像预处理器指令的各种东西实际上不是预处理器指令。这将产生一个错误，因为`#`在宏定义中是“stringify”运算符，它后面必须跟一个宏参数。（另外，`\`必须在行尾。你不能在后面加上注释。）

在您的第二个示例中，当您编写时：

```
#define TEMP MY_STR 
```

这正是它所做的：它将宏定义`TEMP`为具有值`MY_STR`（不是 的宏扩展`MY_STR`，只是六个字符的标记`MY_STR`.

在那之后，你

```
#define MY_STR TEMP def 
```

这将宏定义`MY_STR`为两个标记`TEMP`和`def`.

然后你展开`MY_STR`：

```
print(MY_STR); 
```

这导致它被替换为`TEMP def`. 扩展再次通过宏处理器运行，导致`TEMP`被替换为`MY_STR`. 这再次通过宏处理器运行，但这次`MY_STR`没有扩展，因为您无法在该宏的扩展中扩展宏*。*所以这次它保持为`MY_STR`，你最终得到：

```
print(MY_STR def); 
```

`MY_STR`未定义（宏不是定义），因此编译器抱怨`MY_STR`未定义。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T04:50:47.930

一个好的编译器会将一个字符串常量放在一个将被标记为写保护的块中，任何修改它的尝试都会导致某种操作系统异常。

不过，这不是您在这里所做的 - 您正在根据旧字符串定义一个新字符串。这将适用于 C 和 C++，并且可能也适用于您的语言。

由于您正在定义自己的语言，因此您会比我们更清楚它会如何反应！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-11T04:52:34.120

关于您试图通过 实现的目标`CONCAT`，C99 标准的第 6.10.3.4 ¶3 节说（部分引用）：

> 生成的完全宏替换的预处理令牌序列不会作为预处理指令处理，即使它类似于一个

# asp.net - AJAX MaskedEditExtender 将输入字母转为大写

> ID：14806010
> 
> 赞同：1
> 
> 时间：2013-02-11T04:45:06.500
> 
> 标签：asp.net, ajax, c#-4.0, uppercase, maskededitextender

谁能告诉我如何使用 MaskedEditExtender AJAX 控件将文本框中的所有输入转换为大写？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-12T12:00:05.133

AJAX MaskedEditExtender 主要为电话号码、日期和邮政编码等内容提供屏蔽，您不需要使用它将输入转换为大写。

您可以使用非常少的 javascript 轻松将其转换为大写：

```
<asp:TextBox ID="txtName" onkeyup="this.value = this.value.toUpperCase();" runat="server" /> 
```

# c# - Nancy：是否有等效的 Server.MapPath("~/")？

> ID：14806014
> 
> 赞同：14
> 
> 时间：2013-02-11T04:45:51.240
> 
> 标签：c#, path, hosting, nancy

在 Nancy 框架中，我似乎无法在 Nancy 中找到 System.Web.HttpContext.Current.Server.MapPath() 的等价物。

我只想加载一个相对于应用程序服务的文本文件。

我在程序集中看到了这个

```
using Nancy;
using System;

namespace Nancy.Hosting.Self
{
    public class FileSystemRootPathProvider : IRootPathProvider, IHideObjectMembers
    {
        public FileSystemRootPathProvider();

        public string GetRootPath();
    }
} 
```

我不确定如何使用。

更新：我刚刚发现我需要加载的任何东西都可以从 bin/relase/ 目录中读取/写入。这是在 Nancy Self Hosting 环境中假设的方式吗？我想这是有道理的。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-02-11T07:05:57.693

您可以依赖`IRootPathProvider`并使用它来调用`GetRootPath()`这将为您提供应用程序的根目录，您可以从那里添加（我建议使用`Path.Combine`）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-05-04T16:01:35.213

如果您在无法注入依赖项的静态类（例如`HtmlHelpers`扩展）中需要它，至少 AFAIK，您可以使用.Net 4.x 的底层使用：[https://github。 com/NancyFx/Nancy/blob/master/src/Nancy/DefaultRootPathProvider.cs](https://github.com/NancyFx/Nancy/blob/master/src/Nancy/DefaultRootPathProvider.cs)`IRootPathProvider``AppDomain.CurrentDomain.BaseDirectory``DefaultRootPathProvider`

# javascript - 无法渲染光滑的网格

> ID：14806017
> 
> 赞同：0
> 
> 时间：2013-02-11T04:46:13.067
> 
> 标签：javascript, jquery, backbone.js, slickgrid

我正在使用斜倚 JS，并完成了教程中提到的所有操作，但是我不断收到此错误：

```
Uncaught Error: SlickGrid's 'enableColumnReorder = true' option
requires jquery-ui.sortable module to be loaded 
```

到目前为止我做了什么：

```
<link href="css/bootstrap/bootstrap.css" rel="stylesheet">
<link href="css/recline/slickgrid.css" rel="stylesheet">
<link href="css/recline/grid.css" rel="stylesheet">
<link href="css/recline/recline.css" rel="stylesheet">

<script type="text/javascript" src="js/core/slickgrid/jquery-1.7.min.js"></script>
<script type="text/javascript" src="js/core/slickgrid/jquery.event.drag-2.0.min.js"></script>

<script type="text/javascript" src="js/core/underscore/underscore-1.3.3.js"></script>
<script type="text/javascript" src="js/core/backbone/backbone-0.9.2.js"></script>

<script type="text/javascript" src="js/core/slickgrid/slick.core.js"></script>
<script type="text/javascript" src="js/core/slickgrid/slick.grid.js"></script>
<!-- Recline -->
<script type="text/javascript" src="js/core/recline/recline.js"></script>
<script type="text/javascript" src="js/core/recline/recline.dataset.js"></script>
<script type="text/javascript" src="js/core/recline/view.grid.js"></script> 
```

我用来初始化网格的代码是

```
var data = [
{id: 0, date: '2011-01-01', x: 1, y: 2, z: 3, country: 'DE', geo: {lat:52.56, lon:13.40} },
{id: 1, date: '2011-02-02', x: 2, y: 4, z: 24, country: 'UK', geo: {lat:54.97, lon:-1.60}},
{id: 2, date: '2011-03-03', x: 3, y: 6, z: 9, country: 'US', geo: {lat:40.00, lon:-75.5}},
{id: 3, date: '2011-04-04', x: 4, y: 8, z: 6, country: 'UK', geo: {lat:57.27, lon:-6.20}},
{id: 4, date: '2011-05-04', x: 5, y: 10, z: 15, country: 'UK', geo: {lat:51.58, lon:0}},
{id: 5, date: '2011-06-02', x: 6, y: 12, z: 18, country: 'DE', geo: {lat:51.04, lon:7.9}}
];
var dataset = new recline.Model.Dataset({
records: data
});
console.log(dataset);
var $el = $('#mygrid');
var grid = new recline.View.SlickGrid({
model: dataset,
el: $el
});
grid.visible = true;
grid.render(); 
```

有什么我想念的吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-08-05T12:41:04.680

转到您已下载的 SlickGrid 文件夹。您会在其中找到一个“lib”文件夹。这个“lib”文件夹包含“jquery-ui-1.8.16.custom.min.js”。它的版本可能会根据您的 SlickGrid 版本而有所不同。如果您将来遇到类似的困难，请确保检查所有文件夹以获取所需的 .js 文件。祝你好运！！

# android - layout_weight 改变图像尺寸

> ID：14806028
> 
> 赞同：2
> 
> 时间：2013-02-11T04:47:06.620
> 
> 标签：android, android-layout

基本上我在线性布局之一中有 ImageView，当在我的每个布局上设置权重时，我的每个布局都会调整大小，布局中的 ImageView 也是如此。问题是 - 只有实际改变宽度的高度保持不变。

为什么会出现问题？我有customView，我需要把它放在杯子上，所以它需要杯子的x，y坐标和它的大小（宽度和高度）。现在我用不同的屏幕尺寸得到不同的宽度。

布局代码：

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="wrap_content"
    android:layout_height="match_parent"
    android:orientation="vertical" >

    <LinearLayout
        android:layout_width="wrap_content"
        android:layout_height="fill_parent"
        android:layout_weight="3"
        android:orientation="horizontal" >

        <RelativeLayout
            android:id="@+id/rlmainContainer"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content" >

            <ImageView
                android:id="@+id/ivCup"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:src="@drawable/cup1_r" />
        </RelativeLayout>
    </LinearLayout>

    <LinearLayout
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:layout_weight="1" >
    </LinearLayout>

</LinearLayout> 
```

Archie.bpgc 解决方案（设置 layout_height="0dp"）没有帮助。再设置几张图片，它们的宽度都不成比例：

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical" >

    <LinearLayout
        android:layout_width="wrap_content"
        android:layout_height="0dp"
        android:layout_weight="1"
        android:orientation="horizontal" >

            <ImageView
                android:id="@+id/ivCup"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:src="@drawable/cup1_r" />

    </LinearLayout>

    <LinearLayout
        android:layout_width="fill_parent"
        android:layout_height="0dp"
        android:layout_weight="1" >

        <ImageView
                android:id="@+id/ivCup"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:src="@drawable/cup1_r" />

    </LinearLayout>

        <LinearLayout
        android:layout_width="fill_parent"
        android:layout_height="0dp"
        android:layout_weight="1" >

        <ImageView
            android:id="@+id/ivCup"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:src="@drawable/cup1_r" />

    </LinearLayout>

        <LinearLayout
        android:layout_width="fill_parent"
        android:layout_height="0dp"
        android:layout_weight="1" >

        <ImageView
                android:id="@+id/ivCup"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:src="@drawable/cup1_r" />

    </LinearLayout>    

</LinearLayout> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T04:51:21.737

`layout_height = 0dp`在设置重量的同时进行。它也是一个优化。

```
android:layout_height="0dp" 
```

对于两个线性布局。

而且你也不需要，`RelativeLayout`因为你只有一个`ImageView`在 1st`LinearLayout`

# java - Java HashTable 实现的线性探测

> ID：14806037
> 
> 赞同：0
> 
> 时间：2013-02-11T04:47:59.273
> 
> 标签：java, hashtable, linear-probing

所以我在这里有一个 HashTable 实现，我只使用 Arrays 编写了它，并且对代码有一点帮助。不幸的是，我不太理解有人在运行“get”或“put”方法时添加的其中一行。下面的while循环到底发生了什么？这是一种线性探测的方法正确吗？另外为什么循环检查它正在检查的条件？

具体来说，

```
int hash = hashThis(key);

    while(data[hash] != AVAILABLE && data[hash].key() != key) {

        hash = (hash + 1) % capacity;
    } 
```

下面是整个 Java 类，以供完整参考。

```
public class Hashtable2 {

private Node[] data;
private int capacity;
private static final Node AVAILABLE = new Node("Available", null);

public Hashtable2(int capacity) {

    this.capacity = capacity; 
    data = new Node[capacity];
    for(int i = 0; i < data.length; i++) {

        data[i] = AVAILABLE;
    }
}

public int hashThis(String key) {

    return key.hashCode() % capacity; 
}

public Object get(String key) {

    int hash = hashThis(key);

    while(data[hash] != AVAILABLE && data[hash].key() != key) {

        hash = (hash + 1) % capacity;
    }
    return data[hash].element();
}

public void put(String key, Object element) {

    if(key != null) {
        int hash = hashThis(key);
        while(data[hash] != AVAILABLE && data[hash].key() != key) {

            hash = (hash + 1) % capacity;
        }

        data[hash] = new Node(key, element);

    }

}

public String toString(){

    String s="<";

    for (int i=0;i<this.capacity;i++)
    {
        s+=data[i]+", ";    

    }

    s+=">";

    return s;
    } 
```

谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T05:16:38.437

我只是重写了部分代码并添加了 findHash 方法——尽量避免代码重复！

```
private int findHash(String key) {
    int hash = hashThis(key);

    // search for the next available element or for the next matching key
    while(data[hash] != AVAILABLE && data[hash].key() != key) {

        hash = (hash + 1) % capacity;
    }
    return hash;
}

public Object get(String key) {

    return data[findHash(key)].element();
}

public void put(String key, Object element) {

    data[findHash(key)] = new Node(key, element); 
} 
```

你问的是 - 这个 findHash-loop 到底是什么？数据初始化为`AVAILABLE`- 意思是：数据不（还）包含任何实际数据。现在 - 当我们添加一个元素时`put`- 首先计算一个 hashValue，这只是`data`数组中放置数据的索引。现在 - 如果我们遇到该位置已经被另一个具有相同哈希值但不同键的元素占据，我们尝试找到下一个`AVAILABLE`位置。并且该`get`方法的工作原理基本相同 - 如果检测到具有不同键的数据元素，则探测下一个元素，依此类推。它`data`本身就是一个所谓的环形缓冲区。也就是说，它一直搜索到数组的末尾，然后在开始处再次搜索，从索引 0 开始。这是用模数完成的`%`操作员。

好的？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-06-28T21:32:13.777

使用泛型和线性探测解决冲突的示例 Hashtable 实现。在实现过程中有一些假设，它们记录在上面的类和方法的 javadoc 中。

此实现没有 Hashtable 的所有方法，如 keySet、putAll 等，但涵盖了最常用的方法，如 get、put、remove、size 等。

在 get、put 和 remove 中有重复的代码来查找索引，可以改进为有一个新的方法来查找索引。

```
class HashEntry<K, V> {
    private K key;
    private V value;
    public HashEntry(K key, V value) {
        this.key = key;
        this.value = value;
    }
    public void setKey(K key) { this.key = key; }
    public K getKey() { return this.key; }

    public void setValue(V value) { this.value = value; }
    public V getValue() { return this.value; }
}

/**
 * Hashtable implementation ...
 *   - with linear probing
 *   - without loadfactor & without rehash implementation.
 *   - throws exception when table is full
 *   - returns null when trying to remove non existent key
 *
 * @param <K>
 * @param <V>
 */
public class Hashtable<K, V> {

    private final static int DEFAULT_CAPACITY = 16;

    private int count;
    private int capacity;
    private HashEntry<K, V>[] table;

    public Hashtable() {
        this(DEFAULT_CAPACITY);
    }

    public Hashtable(int capacity) {
        super();
        this.capacity = capacity;
        table = new HashEntry[capacity];
    }

    public boolean isEmpty() { return (count == 0); }

    public int size() { return count; }

    public void clear() { table = new HashEntry[this.capacity]; count = 0; }

    /**
     * Returns null if either probe count is higher than capacity else couldn't find the element.
     * 
     * @param key
     * @return
     */
    public V get(K key) {
        V value = null;
        int probeCount = 0;
        int hash = this.hashCode(key);
        while (table[hash] != null && !table[hash].getKey().equals(key) && probeCount <= this.capacity) {
            hash = (hash + 1) % this.capacity;
            probeCount++;
        }
        if (table[hash] != null && probeCount <= this.capacity) {
            value = table[hash].getValue();
        }
        return value; 
    }

    /**
     * Check on the no of probes done and terminate if probe count reaches to its capacity.
     * 
     * Throw Exception if table is full.
     * 
     * @param key
     * @param value
     * @return
     * @throws Exception
     */
    public V put(K key, V value) throws Exception {
        int probeCount = 0;
        int hash = this.hashCode(key);
        while (table[hash] != null && !table[hash].getKey().equals(key) && probeCount <= this.capacity) {
            hash = (hash + 1) % this.capacity;
            probeCount++;
        }
        if (probeCount <= this.capacity) {
            if (table[hash] != null) {
                table[hash].setValue(value);                
            } else {
                table[hash] = new HashEntry(key, value);
                count++;
            }
            return table[hash].getValue();
        } else {
            throw new Exception("Table Full!!");
        }
    }

    /**
     * If key present then mark table[hash] = null & return value, else return null.  
     * 
     * @param key
     * @return
     */
    public V remove(K key) {
        V value = null;
        int probeCount = 0;
        int hash = this.hashCode(key);
        while (table[hash] != null && !table[hash].getKey().equals(key) && probeCount <= this.capacity) {
            hash = (hash + 1) % this.capacity;
            probeCount++;
        }
        if (table[hash] != null && probeCount <= this.capacity) {
            value = table[hash].getValue(); 
            table[hash] = null;
            count--;
        }
        return value;
    }

    public boolean contains(Object value) {
        return this.containsValue(value);
    }

    public boolean containsKey(Object key) {
        for (HashEntry<K, V> entry : table) {
            if (entry != null && entry.getKey().equals(key)) {
                return true;
            }
        }
        return false;
    }

    public boolean containsValue(Object value) {
        for (HashEntry<K, V> entry : table) {
            if (entry != null && entry.getValue().equals(value)) {
                return true;
            }
        }
        return false;
    }

    @Override
    public String toString() {
        StringBuilder data = new StringBuilder();
        data.append("{");
        for (HashEntry<K, V> entry : table) {
            if (entry != null) {
                data.append(entry.getKey()).append("=").append(entry.getValue()).append(", ");
            }
        }
        if (data.toString().endsWith(", ")) {
            data.delete(data.length() - 2, data.length());
        }
        data.append("}");
        return data.toString();
    }

    private int hashCode(K key) { return (key.hashCode() % this.capacity); }

    public static void main(String[] args) throws Exception {
        Hashtable<Integer, String> table = new Hashtable<Integer, String>(2);
        table.put(1, "1");
        table.put(2, "2");
        System.out.println(table);
        table.put(1, "3");
        table.put(2, "4");
        System.out.println(table);
        table.remove(1);
        System.out.println(table);
        table.put(1, "1");
        System.out.println(table);
        System.out.println(table.get(1));
        System.out.println(table.get(3));
        // table is full so below line
        // will throw an exception
        table.put(3, "2");
    }
} 
```

* * *

上述代码的示例运行。

```
{2=2, 1=1}
{2=4, 1=3}
{2=4}
{2=4, 1=1}
1
null
Exception in thread "main" java.lang.Exception: Table Full!!
    at Hashtable.put(Hashtable.java:95)
    at Hashtable.main(Hashtable.java:177) 
```

# javascript - 从 3rd 方脚本修改 innerHTML

> ID：14806038
> 
> 赞同：11
> 
> 时间：2013-02-11T04:48:00.457
> 
> 标签：javascript, jquery, innerhtml

我有一个正在导入菜单的第 3 方脚本，我无法编辑此第 3 方脚本。它生成如下代码：

```
<div id="wmenu-updated" style="display: block;">
  <small>Menu updated</small>
  <span innerhtml="19 hours ago"></span>
</div> 
```

它应该将`19 hours ago`其显示为跨度内的文本，但无论出于何种原因，它都不起作用，脚本的制作者在修复错误方面几乎没有帮助。

有没有一种方法，使用 jQuery，一旦页面加载，我可以`innerhtml`在该跨度内将其作为文本吐出？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-11T04:49:34.303

```
$( document ).ready( function () {
    $( '#wmenu-updated span' ).text( function () {
        return $( this ).attr( 'innerhtml' );
    });
}); 
```

可以使用 jQuery 的[text](http://api.jquery.com/text/)函数来更新 span 中的文本

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-02-11T04:53:12.017

使用[$.attr()](http://api.jquery.com/attr/)和[$.text()](http://api.jquery.com/text/)来实现这一点

```
$(document).ready(function(){
   var txt = $("#wmenu-updated span").attr("innerhtml");
   $("#wmenu-updated span").text(txt);
}); 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-02-11T04:54:44.523

你可以试试这个：[小提琴](http://jsfiddle.net/n76f9/)

```
 $(function(){
    $(document).children('#wmenu-updated').find('span[innerhtml]')
    .text($(this).attr("innerhtml"));
 }); 
```

或者像这样更简单：

```
$('span[innerhtml]').text($('span[innerhtml]').attr('innerhtml')); 
```

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2013-02-11T04:56:18.143

试试这个：

```
$(document).ready( function ( e ) {
    var q = $('span').attr('innerhtml');
    $('#wmenu-updated').children('span').text( q );
}); 
```

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2013-02-11T04:59:27.943

很多人都在接近:)

这将为您完成：

```
$('selector').find('span[innerhtml]').each(function() {
    $(this).html($(this).attr('innerhtml'));
}); 
```

[jsFiddle 在这里](http://jsfiddle.net/mWTaa/)。

这在功能上是等效的：

```
$('selector').find('span[innerhtml]').html(function() {
    return $(this).attr('innerhtml');
}); 
```

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2013-02-11T04:50:19.323

```
$("#wmenu span").attr("innerhtml", "Your Update here"); 
```

# android - 为区域语言创建自定义键盘？

> ID：14806039
> 
> 赞同：2
> 
> 时间：2013-02-11T04:48:09.837
> 
> 标签：android, android-keypad

在我的应用程序中，我通过创建自定义 Xml 文件制作了一个马拉雅拉姆语（一种区域语言）键盘。它显示了马拉雅拉姆语单词。但是当我单击时，我无法解析键盘值。它在日志中显示错误 cat.Is有什么方法可以在android应用程序中实现区域语言。我还在assets/fonts中使用了一个ttf文件。有人有新想法吗，请与我分享。

# xpath - 找不到动态 Xpath

> ID：14806044
> 
> 赞同：1
> 
> 时间：2013-02-11T04:48:55.343
> 
> 标签：xpath, webdriver, selenium-webdriver

我的 xpath 是：

> //*[@id='form_MenuBar:j_id24']/span

并且值 # 24 发生变化。

> //*[@id='form_MenuBar:j_id48']/span

我试过但没有用。

> driver.findElement(By.xpath("//a[contains(@id,'form_MenuBar:j_id$')]/span"));

源 XML：

```
<li class="ui-menuitem ui-widget ui-corner-all ui-menuitem-active" role="menuitem">
  <a id="form_MenuBar:j_id24" class="ui-menuitem-link ui-corner-all ui-state-hover" href="/Demand/j_spring_security_logout">
    <span class="ui-menuitem-text">Log off</span>
  </a>
</li> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T04:55:40.213

你试一试

```
driver.findElement(By.xpath("//a[contains(@id,'form_MenuBar:j_id')]/span")); 
```

如果您在 xpath 中使用 contains，则无需使用`'$'`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-12T21:02:45.710

看来您正在使用java，所以我将尝试根据它来回答。我不是Java开发人员，所以如果语法不正确，我深表歉意。

如果改变的只是 ID 中的数字，并且您知道 ID，则可以执行以下操作：

```
driver.findElement(By.id(String.format("form_MenuBar:j_id%d", the_id)); 
```

另外，我不确定您正在测试的应用程序，但是如果有多个元素的 id 以“form_MenuBar:j_id”开头，那么 findElement 只会找到第一个，这可能不是您的链接试图寻找。

您可以使用 findElements 它将返回所有匹配的元素列表，然后遍历这些元素，直到找到您真正想要的元素。

# linux - 在 Linux 中杀死附加屏幕

> ID：14806051
> 
> 赞同：67
> 
> 时间：2013-02-11T04:49:39.817
> 
> 标签：linux, gnu-screen

我在 linux 中创建了一个屏幕“myscreen”，但它突然停止响应。我关闭了终端并试图重新打开它。“screen -ls”显示屏幕已附加。我尝试了以下命令，但没有任何响应。

```
screen -r myscreen
screen -D myscreen
screen -D -RR myscreen
screen -X -S myscreen quit 
```

非常感谢重新连接到屏幕或杀死屏幕的任何帮助。

* * *

## 回答 #1

> 赞同：111
> 
> 时间：2013-11-25T15:08:22.933

```
screen -X -S SCREENID kill 
```

或者，您可以使用以下命令

```
screen -S SCREENNAME -p 0 -X quit 
```

您可以通过执行查看屏幕会话列表`screen -ls`

* * *

## 回答 #2

> 赞同：19
> 
> 时间：2014-12-29T07:58:05.837

从终端创建屏幕：

```
screen -S <screen_name> 
```

要查看屏幕列表：

```
<screen -ls> or <screen -list> 
```

转到特定屏幕：

```
<screen -x screen_name>

<screen -r screen_name> 
```

内屏

* * *

终止屏幕：

```
give ctrl+d screen will get terminated 
```

分离屏幕：

```
 give <ctrl+ad>or <screen -d >screen will get detached 
```

要重新连接屏幕：

```
screen -x <screen_name> or screen -r <screen_name> 
```

从终端杀死屏幕：

```
<screen -X -S screen_name quit> 
```

或者

```
<screen -X -S screen_name kill> 
```

您可以使用 screen_name 或 process_id 来执行命令。

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2015-09-23T14:14:33.020

这对我很有用。通过以下方式获取屏幕 ID：

```
screen -r 
```

或者

```
screen -ls 
```

然后杀死屏幕：`kill -9 <screenID>` 它现在变成了一个死屏幕，然后用以下命令将其清除：`screen -wipe`

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2021-01-27T21:40:29.027

来自屏幕用户[手册](https://www.gnu.org/software/screen/manual/screen.html)；

```
screen -d -r "screenName" 
```

*重新附加会话，如有必要，先将其分离*

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2014-04-26T01:39:42.470

您可以创建一个函数来终止所有现有会话。看看[杀死所有分离的屏幕会话](https://stackoverflow.com/questions/14447131/kill-all-detached-screen-sessions)

列出所有活动会话使用 screen -r

列出后，用鼠标选择您感兴趣的会话并将其粘贴。像这样

屏幕-r

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2017-09-27T19:54:55.960

假设您的屏幕 id 有一个模式。然后您可以使用以下代码一次杀死所有附加的屏幕。

```
result=$(screen -ls | grep 'pattern_of_screen_id' -o)
for i in $result; 
do      
    `screen -X -S $i quit`;
done 
```

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2019-09-27T16:45:33.633

要**杀死分离的屏幕**，请从终端使用：

```
screen -X -S "SCEEN_NAME" quit 
```

**如果您已连接**，请使用（从终端和屏幕内部）：

```
exit 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2013-02-11T04:57:18.203

我通常不命名我的屏幕实例，所以这可能没有用，但是您是否尝试`screen -r`过不使用“myscreen”部分？通常对我来说，`screen -r`会显示每个屏幕的 PID，然后我可以重新附加`screen -d -r <PID>`

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2018-12-21T07:14:01.837

您可以找到附加的运行屏幕的进程 ID。我发现它与您可以通过命令获取的会话 ID 相同：
`screen -ls`
您可以使用以下命令来终止该进程：
`kill [sessionId]`或
`sudo kill [sessionId]`

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2020-11-17T05:46:32.280

没有一个`screen`命令对我来说是杀死或重新连接屏幕。任何`screen`命令都会挂起。我找到了另一种方法。

每个正在运行的屏幕都有一个与之关联的文件：

`/var/run/screen/S-{user_name}`

运行时，该文件夹中的文件将与屏幕名称匹配`screen -list`。如果您删除该文件，它会终止相关的运行屏幕（分离或附加）。

* * *

## 回答 #11

> 赞同：-2
> 
> 时间：2015-07-21T10:42:54.507

查找结果：[点击这里](http://www.catonmat.net/download/screen.cheat.sheet.pdf)

Screen 是一个全屏窗口管理器，它在多个进程之间多路复用一个物理终端，通常是交互式 shell。每个虚拟终端都有一个回滚历史缓冲区和一个允许用户在窗口之间移动文本区域的复制和粘贴机制。

# c# - 您如何在您之外的 chrome/firefox + 应用程序中检索内部窗口句柄？

> ID：14806053
> 
> 赞同：0
> 
> 时间：2013-02-11T04:49:47.860
> 
> 标签：c#, pinvoke, global, window-handles

有一些 PInvoke 函数可用于获取窗口句柄，但如何获取正在使用的确切窗口句柄：例如应用程序中的 richTextBox1 窗口？还是 Notepad.exe 的文本框句柄？还有 chrome/firefox 网页上的文字。

抓住所有三个的例子将是糟糕的......最受赞赏的是在 Google Chrome 或 Firefox 中：无论是文本框还是*PAGE*。

```
[DllImport("user32.dll", CharSet=CharSet.Auto, ExactSpelling=true)]
public static extern IntPtr GetFocus(); 
```

这适用于应用程序本身的窗口，但在记事本和 chrome 中失败

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T05:20:29.977

如您所说，`GetFocus`仅适用于由当前线程的消息队列管理的窗口句柄。您需要做的是临时将您的消息队列附加到另一个进程：

1.  使用 获取前景窗口的句柄`GetForegroundWindow`。
2.  获取您的线程和拥有前台窗口的线程的线程 ID，使用`GetWindowThreadProcessId`.
3.  使用 .将消息队列附加到前台窗口的线程`AttachThreadInput`。
4.  调用`GetFocus`将从前台窗口的线程返回窗口句柄。
5.  再次断开与前台窗口的线程的连接`AttachThreadInput`。

像这样的东西：

```
using System.Runtime.InteropServices;

public static class WindowUtils {
    [DllImport("user32.dll")]
    static extern IntPtr GetForegroundWindow();

    [DllImport("user32.dll")]
    static extern IntPtr GetWindowThreadProcessId(
        IntPtr hWnd,
        IntPtr ProcessId);

    [DllImport("user32.dll")]
    static extern IntPtr AttachThreadInput(
        IntPtr idAttach, 
        IntPtr idAttachTo,
        bool fAttach);

    [DllImport("user32.dll")]
    static extern IntPtr GetFocus();

    public static IntPtr GetFocusedControl() {
        IntPtr activeWindowHandle = GetForegroundWindow();

        IntPtr activeWindowThread = 
            GetWindowThreadProcessId(activeWindowHandle, IntPtr.Zero);
        IntPtr thisWindowThread =
            GetWindowThreadProcessId(this.Handle, IntPtr.Zero);

        AttachThreadInput(activeWindowThread, thisWindowThread, true);
        IntPtr focusedControlHandle = GetFocus();
        AttachThreadInput(activeWindowThread, thisWindowThread, false);

        return focusedControlHandle;
    }
} 
```

（来源：[其他过程中的控制焦点](http://www.codeproject.com/Articles/34752/Control-in-Focus-in-Other-Processes)）

# c - 在 Linux 上，使用 gcc 编译器将 \n 视为 gdb 中的两个字符

> ID：14806057
> 
> 赞同：0
> 
> 时间：2013-02-11T04:50:20.543
> 
> 标签：c

我的代码

```
char[] fileContents = "hi\n whats up\n";

    char *output=malloc(sizeof(char)*1024) ;

    int i = 0; int j = 0;
    char *bPtr = fileContents;

    for(i=j=0; bPtr[i]!='\0'; i++)
    {
      if('\n'==bPtr[i])
            outputPtr[j++]='\r';
            outputPtr[j++]=bPtr[i];
    } 
```

在 netbeans 上，此代码有效，但使用 linux gcc，\ 和 \n 被视为单独的字符，而在 net beans 中，\n 都是一个字符。请帮助

调试时，在使用 GDB 的 Linux 中，它完全跳过 if 语句，而在 netbeans 中，它进入并完成工作。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T05:33:32.977

首先，您的 C 代码不是 C 代码。它很接近，但它根本不会编译。其次，在清理代码使其进入可编译状态后：

```
#include <stdio.h>
#include <stdlib.h>

char fileContents[] = "hi\n whats up\n";

int main(void)
{
  char *output;
  int   i;
  int   j;
  char *bPtr;

  output = malloc(1024);
  bPtr   = fileContents;

  for (i = j = 0 ; bPtr[i] != '\0' ; i++)
  {
    if ('\n' == bPtr[i])
      output[j++] = '\r';
    output[j++] = bPtr[i];
  }

  output[j] = '\0';
  fputs(output,stdout);
  return EXIT_SUCCESS;
} 
```

并使用“gcc -g ac”编译并使用 gdb：

```
GNU gdb Red Hat Linux (6.3.0.0-1.132.EL4rh)
Copyright 2004 Free Software Foundation, Inc.
GDB is free software, covered by the GNU General Public License, and you are
welcome to change it and/or distribute copies of it under certain conditions.
Type "show copying" to see the conditions.
There is absolutely no warranty for GDB.  Type "show warranty" for details.
This GDB was configured as "i386-redhat-linux-gnu"...Using host libthread_db
library "/lib/tls/libthread_db.so.1".

(gdb) break 17
Breakpoint 1 at 0x80483fa: file a.c, line 17.
(gdb) run
Starting program: /tmp/a.out 

Breakpoint 1, main () at a.c:17
17        for (i = j = 0 ; bPtr[i] != '\0' ; i++)
(gdb) n
19          if ('\n' == bPtr[i])
(gdb) n
21          output[j++] = bPtr[i];
(gdb) n
17        for (i = j = 0 ; bPtr[i] != '\0' ; i++)
(gdb) n
19          if ('\n' == bPtr[i])
(gdb) n
21          output[j++] = bPtr[i];
(gdb) n
17        for (i = j = 0 ; bPtr[i] != '\0' ; i++)
(gdb) n
19          if ('\n' == bPtr[i])
(gdb) n
20            output[j++] = '\r';
(gdb) n
21          output[j++] = bPtr[i]; 
```

在循环的前两次，我们跳过了条件，因为它是假的。在第三次通过时，满足条件，并且“\r”包含在输出中。

但是通过阅读您的其他一些评论，您似乎对行尾感到困惑。在 Unix 上（因为 Linux 是 Unix 的一种，Linux 也是如此），行以一个字符 LF（ASCII 代码 10）结尾。Windows（和 MS-DOS，Windows 的前身，以及 CP/M，MS-DOS 的前身）使用字符序列 CR LF（ASCII 码 13，ASCII 码 10）来标记行尾。

为什么会有两个不同的标准？由于 ASCII 标准的措辞，它的创建时间和原因。回到它创建的时候，输出主要是电传打字机——想想打字机。CR 定义为将打印托架（或打印头）移回行首，LF 定义为前进到下一行。将打印托架带到*下一个开头的动作*行未指定。由于标准文档的字面翻译，CP/M（和后代）标准化使用两者来标记行尾。Unix 的创建者决定采用更自由的解释，其中 LF，换行符，意味着前进到下一行进行输出，将打印托架带回到开头（而我使用的第一台计算机使用 CR 来做同样的事情，带来马车回到起点并前进到下一行）。

现在，如果电传打字设备连接到 Unix 系统并且需要 CR 和 LF，则由 Unix 设备驱动程序在看到 LF 时添加所需的 CR。换句话说，系统代表你的程序处理细节，你只需要LF结束一行。

为了进一步混淆混乱，C标准占了上风。当你打开一个文件时，

```
FILE *fp = fopen("sometextfile.txt","r"); 
```

您以“文本”模式打开它。在 Unix 下，这没有任何作用，但在 Windows 下，C 库将丢弃输入时的“\r”，因此程序只需要关心自己寻找“\n”（对于打开写入的文件，它将添加 CR当看到 LF 时）。但这是在 Windows 下（可能还有其他系统可以做到这一点，但我对任何一个都不熟悉）。

如果您*真的*想按原样查看文件，则需要以二进制模式打开它：

```
FILE *fp = fopen("sometextfile.txt","rb"); 
```

现在，如果文件中有任何 CR，您的程序将看到它们。通常，不需要关心行尾——只有当您将文本文件从一个系统移动到另一个使用不同行尾约定的系统时，它才会成为问题，即便如此，传输机制可能会为您解决问题（例如 FTP）。但检查并没有什么坏处。

还记得我说过 Unix 不区分“文本”和“二进制”模式吗？它没有。因此，来自 Windows 世界的文本文件由 Unix 程序处理，表示 Unix 程序将看到 CR。发生的事情实际上取决于相关程序。像 grep 这样的程序似乎并不关心，但我使用的编辑器会显示任何存在的 CR。

所以我想现在，我的问题是——你想做什么？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T05:19:58.107

您的代码在我的系统上完美运行`gcc (Ubuntu/Linaro 4.6.3-1ubuntu5) 4.6.3` 。

我运行的代码：

```
int main()
{
    char Contents[] = "hi\n whats up\n";

    int i = 0; int j = 0;
    char outputPtr[20];
    for(i=j=0; Contents[i]!='\0'; i++)
    {
      if('\n'==Contents[i]) outputPtr[j++]='\r';
      outputPtr[j++]=Contents[i];
    }
    outputPtr[j]='\0';
    printf("%s %d %d \n", outputPtr,j,i);
    i = 0;
    while(outputPtr[i]!='\0')   printf(" %d ", outputPtr[i++]);
    return 0;
} 
```

输出 ：

```
hi
 whats up
 15 13 //Length of the edited string and the original string
 104  105  13  10  32  119  104  97  116  115  32  117  112  13  10 //Ascii values of the characters of the string 
```

13 是回车符。

# android - 如何通过一个地方的经纬度显示在谷歌地图上？

> ID：14806058
> 
> 赞同：1
> 
> 时间：2013-02-11T04:50:22.163
> 
> 标签：android, google-maps, google-places-api

嗨，我开发了一个 android 应用程序，它使用 google places api 来显示附近的位置。

现在，当我单击一个地名时，我想在地图中显示它的位置。我的问题是如何将纬度和经度传递给要显示的谷歌地图。现在我正在静态传递值，但是当我单击名称时，我想动态传递它的 lat 和 long 以进行绘制。请告诉我该怎么做。我是安卓新手。

```
public class SinglePlaceActivity extends Activity {
    // flag for Internet connection status
    Boolean isInternetPresent = false;

    // Connection detector class
    ConnectionDetector cd;

    // Alert Dialog Manager
    AlertDialogManager alert = new AlertDialogManager();

    // Google Places
    GooglePlaces googlePlaces;

    // Place Details
    PlaceDetails placeDetails;

    // Progress dialog
    ProgressDialog pDialog;

    Button submit;

    Button piechart;

    TextView error;

    // KEY Strings
    public static String KEY_REFERENCE = "reference"; // id of the place

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        // TODO Auto-generated method stub
        super.onCreate(savedInstanceState);
        setContentView(R.layout.single_place);

        Intent i = getIntent();

        // Place referece id
        String reference = i.getStringExtra(KEY_REFERENCE);

        // Calling a Async Background thread
        new LoadSinglePlaceDetails().execute(reference);

        submit = (Button) findViewById(R.id.submitbutton);

        piechart = (Button) findViewById(R.id.piechart);

         error = (TextView) findViewById(R.id.list);

        submit.setOnClickListener(new View.OnClickListener() {

            @Override
            public void onClick(View v) {
                // TODO Auto-generated method stub
                Intent myIntent = new Intent(SinglePlaceActivity.this,RecoProd.class);
                SinglePlaceActivity.this.startActivity(myIntent);

            }
        });

        piechart.setOnClickListener(new View.OnClickListener() {

            @Override
            public void onClick(View v) {
                // TODO Auto-generated method stub
                Intent myInt = new Intent(SinglePlaceActivity.this,PieChart.class);
                SinglePlaceActivity.this.startActivity(myInt);

            }
        });
    }

    /**
     * Background Async Task to Load Google places
     * */
    class LoadSinglePlaceDetails extends AsyncTask<String, String, String> {

        /**
         * Before starting background thread Show Progress Dialog
         * */
        @Override
        protected void onPreExecute() {
            super.onPreExecute();
            pDialog = new ProgressDialog(SinglePlaceActivity.this);
            pDialog.setMessage("Loading profile ...");
            pDialog.setIndeterminate(false);
            pDialog.setCancelable(false);
            pDialog.show();
        }

        /**
         * getting Profile JSON
         * */
        protected String doInBackground(String... args) {
            String reference = args[0];

            // creating Places class object
            googlePlaces = new GooglePlaces();

            // Check if used is connected to Internet
            try {
                placeDetails = googlePlaces.getPlaceDetails(reference);

            } catch (Exception e) {
                e.printStackTrace();
            }
            return null;
        }

        /**
         * After completing background task Dismiss the progress dialog
         * **/
        protected void onPostExecute(String file_url) {
            // dismiss the dialog after getting all products
            pDialog.dismiss();
            // updating UI from Background Thread
            runOnUiThread(new Runnable() {
                public void run() {
                    /**
                     * Updating parsed Places into LISTVIEW
                     * */
                    if(placeDetails != null){
                        String status = placeDetails.status;

                        // check place deatils status
                        // Check for all possible status
                        if(status.equals("OK")){
                            if (placeDetails.result != null) {
                                String name = placeDetails.result.name;
                                String address = placeDetails.result.formatted_address;
                                String phone = placeDetails.result.formatted_phone_number;
                                String website = placeDetails.result.formatted_web_site;
                                String latitude = Double.toString(placeDetails.result.geometry.location.lat);
                                String longitude = Double.toString(placeDetails.result.geometry.location.lng);

                                Log.d("Place ", name + address + phone + latitude + longitude + website);

                                // Displaying all the details in the view
                                // single_place.xml
                                TextView lbl_name = (TextView) findViewById(R.id.name);
                                TextView lbl_address = (TextView) findViewById(R.id.address);
                                TextView lbl_phone = (TextView) findViewById(R.id.phone);
                                TextView lbl_website = (TextView) findViewById(R.id.web_site);
                                TextView lbl_location = (TextView) findViewById(R.id.location);

                                lbl_name.setOnClickListener(new View.OnClickListener() {

                                    @Override
                                    public void onClick(View v) {
                                        // TODO Auto-generated method stub
                                        Intent myIntent = new Intent(SinglePlaceActivity.this,DispMap.class);
                                        myIntent.putExtra("latitude", "latitude");
                                        myIntent.putExtra("longitude", "longitude");
                                        SinglePlaceActivity.this.startActivity(myIntent);
                                    }
                                });

                                // Check for null data from google
                                // Sometimes place details might missing
                                name = name == null ? "Not present" : name; // if name is null display as "Not present"
                                address = address == null ? "Not present" : address;
                                phone = phone == null ? "Not present" : phone;
                                website = website == null ? "Not present" : website;
                                latitude = latitude == null ? "Not present" : latitude;
                                longitude = longitude == null ? "Not present" : longitude;

                                lbl_name.setText(name);
                                lbl_address.setText(address);
                                lbl_phone.setText(Html.fromHtml("<b>Phone:</b> " + phone));
                                lbl_website.setText(Html.fromHtml("<b>website:</b> " + website));
                                lbl_location.setText(Html.fromHtml("<b>Latitude:</b> " + latitude + ", <b>Longitude:</b> " + longitude));
                            }
                        }
                        else if(status.equals("ZERO_RESULTS")){
                            alert.showAlertDialog(SinglePlaceActivity.this, "Near Places",
                                    "Sorry no place found.",
                                    false);
                        }
                        else if(status.equals("UNKNOWN_ERROR"))
                        {
                            alert.showAlertDialog(SinglePlaceActivity.this, "Places Error",
                                    "Sorry unknown error occured.",
                                    false);
                        }
                        else if(status.equals("OVER_QUERY_LIMIT"))
                        {
                            alert.showAlertDialog(SinglePlaceActivity.this, "Places Error",
                                    "Sorry query limit to google places is reached",
                                    false);
                        }
                        else if(status.equals("REQUEST_DENIED"))
                        {
                            alert.showAlertDialog(SinglePlaceActivity.this, "Places Error",
                                    "Sorry error occured. Request is denied",
                                    false);
                        }
                        else if(status.equals("INVALID_REQUEST"))
                        {
                            alert.showAlertDialog(SinglePlaceActivity.this, "Places Error",
                                    "Sorry error occured. Invalid Request",
                                    false);
                        }
                        else
                        {
                            alert.showAlertDialog(SinglePlaceActivity.this, "Places Error",
                                    "Sorry error occured.",
                                    false);
                        }
                    }else{
                        alert.showAlertDialog(SinglePlaceActivity.this, "Places Error",
                                "Sorry error occured.",
                                false);
                    }

                }
            });

        }

    }

} 
```

显示映射类

```
MapView mapView;
    MapController mc;
    GeoPoint p;
    String longitude,latitude;

    public class MapOverlay extends com.google.android.maps.Overlay
    {

        @Override
        public boolean draw(Canvas canvas, MapView mapView, boolean shadow,
                long when) {

            // TODO Auto-generated method stub
            super.draw(canvas, mapView, shadow, when);
            //translate the geo points to screen pixels
            Point screenPts = new Point();
            mapView.getProjection().toPixels(p, screenPts);

            //add the marker
            Bitmap bmp = BitmapFactory.decodeResource(getResources(), R.drawable.hospitalbuilding);
            Bitmap bmp1 = BitmapFactory.decodeResource(getResources(), R.drawable.shadow);
            canvas.drawBitmap(bmp, screenPts.x, screenPts.y-50,null);
            canvas.drawBitmap(bmp1, screenPts.x, screenPts.y-40,null);
            return true;
        }

    }
    /** Called when the activity is first created. */
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.nearbyhospitals);

        //database work
        Intent intent = getIntent();
        Bundle extras = intent.getExtras();
        String hospital_name = extras.getString("Hname");
        Toast.makeText(getApplicationContext(), hospital_name, Toast.LENGTH_LONG).show();

        // fill the lat and long postion here from database or from elsewhere
        longitude = "31.44";
        latitude = "75.23";

        mapView = (MapView) findViewById(R.id.mapView);
        mapView.setBuiltInZoomControls(true);
        mapView.setSatellite(true);
        mc = mapView.getController();
        String temp = getCurrentLocation();
        try {

        } catch (Exception e) {
            // TODO: handle exception

        }
        Toast.makeText(getApplicationContext(), "So here we get:"+latitude+","+longitude, Toast.LENGTH_LONG).show();
        String coordinates[] ={"31","71"};
        //Toast.makeText(getApplicationContext(), coordinates[0]+","+coordinates[1], Toast.LENGTH_LONG).show();
        double lat = Double.parseDouble(coordinates[0]);
        double lng = Double.parseDouble(coordinates[1]);

        p = new GeoPoint((int)(lat*1E6), (int)(lng*1E6));
        mc.animateTo(p);
        mc.setZoom(13);
      //---Add a location marker---
        MapOverlay mapOverlay = new MapOverlay();
        List<Overlay> listOfOverlays = mapView.getOverlays();
        listOfOverlays.clear();
        listOfOverlays.add(mapOverlay);

        mapView.invalidate();
    }

    @Override
    protected boolean isRouteDisplayed() {
        // TODO Auto-generated method stub
        return false;
    }

     public String getCurrentLocation()
        {
         double latitude, longitude;
            LocationManager locManager;
             locManager = (LocationManager)getSystemService(Context.LOCATION_SERVICE); 
             locManager.requestLocationUpdates(LocationManager.GPS_PROVIDER,1000L,500.0f, locationListener);
             Location location = locManager.getLastKnownLocation(LocationManager.GPS_PROVIDER);

             if(location != null)                                
             {
                  latitude = location.getLatitude();
                  longitude = location.getLongitude();
                  return Double.toString(latitude)+","+Double.toString(longitude);   
             }  
             else
                  return "Location not found please try again";
        }
     public final LocationListener locationListener = new LocationListener() 
        {
            public void onLocationChanged(Location location) 
            {

            }

            public void onProviderDisabled(String provider)
            {

            }

            public void onProviderEnabled(String provider) {
            }

            public void onStatusChanged(String provider, int status, Bundle extras) {
            }
        }; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T04:53:22.377

试试这个：

```
Add itemizedOverlay class:

public class AndroidGoogleMapsActivity extends MapActivity {
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        // Displaying Zooming controls
        MapView mapView = (MapView) findViewById(R.id.mapview);
        mapView.setBuiltInZoomControls(true);

        MapController mc = mapView.getController();
        double lat = Double.parseDouble("48.85827758964043");
        double lon = Double.parseDouble("2.294543981552124");
        GeoPoint geoPoint = new GeoPoint((int)(lat * 1E6), (int)(lon * 1E6));
        mc.animateTo(geoPoint);
        mc.setZoom(15);
        mapView.invalidate(); 

        /**
         * Placing Marker
         * */
        List<Overlay> mapOverlays = mapView.getOverlays();
        Drawable drawable = this.getResources().getDrawable(R.drawable.mark_red);
        AddItemizedOverlay itemizedOverlay = 
             new AddItemizedOverlay(drawable, this);

        OverlayItem overlayitem = new OverlayItem(geoPoint, "Hello", "Sample Overlay item");

        itemizedOverlay.addOverlay(overlayitem);
        mapOverlays.add(itemizedOverlay);

    }

    @Override
    protected boolean isRouteDisplayed() {
        return false;
    }
} 
```

# web-applications - 如何在 Compojure 中使用 lib-noir 状态会话

> ID：14806063
> 
> 赞同：6
> 
> 时间：2013-02-11T04:51:09.657
> 
> 标签：web-applications, clojure, compojure, noir

我想我在这里有一个相当简单的问题。但我一直在看这个屏幕太久了。所以我正在尝试（但失败）让有状态的会话在 Compojure 中工作。重新堆代码粘贴**[在这里](https://www.refheap.com/paste/11161)**。

您可以看到我尝试使用[**lib-noir**](https://github.com/noir-clojure/lib-noir)（第 62 行）来初始化有状态会话。然后当应用程序运行时，我尝试调用[**session/put！**](http://www.luminusweb.net/noir-api/noir.session.html#var-put%21)会话中的一些数据（第 43 行）。

现在，这个堆栈跟踪表明在 session.put! 中，lib-noir 正在尝试换出一个尚未绑定的会话变量。现在，我想我是在第 62 行做的。所以我确信这是一个简单的修复，另一组眼睛会看到。

 ````
java.lang.ClassCastException: clojure.lang.Var$Unbound cannot be cast to clojure.lang.Atom                                                                                                                                                                                                                                                                                                                                
        at clojure.core$swap_BANG_.invoke(core.clj:2110)                                                                                                                                                                                                                                                                                                                                                                  
        at noir.session$put_BANG_.invoke(session.clj:18)                                                                                                                                                                                                                                                                                                                                                                  
        at bkell.http.handler$fn__6159.invoke(handler.clj:156)                                                                                                                                                                                                                                                                                                                                                            
        at compojure.core$make_route$fn__3800.invoke(core.clj:93)                                                                                                                                                                                                                                                                                                                                                         
        at compojure.core$if_route$fn__3784.invoke(core.clj:39)                                                                                                                                                                                                                                                                                                                                                           
        at compojure.core$if_method$fn__3777.invoke(core.clj:24)                                                                                                                                                                                                                                                                                                                                                          
        at compojure.core$routing$fn__3806.invoke(core.clj:106)                                                                                                                                                                                                                                                                                                                                                           
        at clojure.core$some.invoke(core.clj:2390)                                                                                                                                                                                                                                                                                                                                                                        
        at compojure.core$routing.doInvoke(core.clj:106)                                                                                                                                                                                                                                                                                                                                                                  
        at clojure.lang.RestFn.applyTo(RestFn.java:139)                                                                                                                                                                                                                                                                                                                                                                   
        ...
        at java.lang.Thread.run(Thread.java:619) 
```

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-11-09T06:04:24.780

James Reeves 在 - [https://groups.google.com/forum/#!topic/compojure/yG6nCXiEinU回答](https://groups.google.com/forum/#!topic/compojure/yG6nCXiEinU)

> 尝试交换处理程序/站点和 wrap-noir-session*。因为 handler/site 应用了 wrap-session 中间件，并且 wrap-noir-session* 依赖于文档，所以 handler/site 应该在 wrap-noir-session 之前应用。
> 
> *   詹姆士

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-12T03:14:21.780

我想你想要`wrap-noir-session`，不是`wrap-noir-session*`。上的文档`wrap-noir-session*`说（我的重点）“围绕 wrap-session 的有状态层。**预计 wrap-session 已被使用。** ”

如果你想使用`wrap-noir-session*`我认为你需要[`wrap-session`](https://github.com/ring-clojure/ring/blob/master/ring-core/src/ring/middleware/session.clj#L55)明确使用。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-09-11T02:14:42.803

当我不断提出这个问题并忘记它已经解决时，放下我的答案。

```
(ns my-project.handler
    (:require (compojure [handler :as handler]
                         [route :as route]
                         [core :refer :all])
              [noir.util.middleware :as middleware]
              [noir.session :as session]))

(defroutes my-routes
  (GET "/put" req (session/put! :test "yes"))
  (GET "/get" req (session/get :test))
  (route/resources "/")
  (route/not-found "Not Found"))

(def app
  (-> 
   (handler/site my-routes)
    session/wrap-noir-flash ; only if you need flash-put! and flash-get
    session/wrap-noir-session)) 
````

# javascript - 生成 doc 或 pdf 文件的图像预览

> ID：14806067
> 
> 赞同：1
> 
> 时间：2013-02-11T04:51:35.057
> 
> 标签：javascript, jsp

嘿伙计们，我已经搜索了很多，但没有得到任何解决这个问题的有效解决方案。

我正在使用 jsp 的网站上工作，为此我们必须上传 doc/docx/pdf 格式的表单。我想生成表单第一页的预览。这样用户就可以在下载之前检查表单中的内容。

希望有人会为此提出一些解决方案。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T06:16:11.643

不确定您的 jsp 使用的是什么操作系统平台，但我的建议是拥有一个虚拟打印机驱动程序，可以将手头的文档“打印”到图像文件（或 HTML）。然后，您可以随心所欲地操作打印机驱动程序的输出。也很好地扩展到其他文件格式。

该技术的另一个版本是使用 Microsoft Word 以编程方式打开文档（使用 ole 自动化），然后在文档打开后进行屏幕截图。Word 也可以加载 PDF 文件。您必须找到一种创造性的方式将文档从您的服务器导入到 Windows 桌面进程中。但它可以工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T06:33:31.843

嗯.. 你可以做的是.. 使用下载选项将表单名称与你的 jsp 的相对路径超链接。您需要编写一个 servlet 来下载表单。在弹出窗口中预览这个 jsp。

或者

在 html 中使用 iframe 创建一个 div 标签来预览和下载您正在显示的相同表单。您需要编写一个 servlet 来下载表单。

确保使用 response.contentType("image/jpg"); 设置表单 doc/pdf/jsp 的适当 contentType；response.contentType("应用程序/pdf"); response.contentType("应用程序/文档");

# c# - 如何在 C# 中将 .xlsx 文件转换为 .mpp 文件

> ID：14806070
> 
> 赞同：-3
> 
> 时间：2013-02-11T04:51:55.997
> 
> 标签：c#, .net

有什么方法可以在 C# 中转换（microsoft 项目文档）文件中`.xls`的（microsoft excel）文件。`.mpp`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T05:10:04.263

据我了解，您有 Excel 文件，并且您想使用 C# 将其转换为 Microsoft Project 文件。

我没有找到任何内置功能，所以我认为您有以下选项

1.  购买第三方组件
2.  创建将基于办公自动化进行转换的功能

# iphone - 石英 2D MVC 绘图

> ID：14806072
> 
> 赞同：0
> 
> 时间：2013-02-11T04:52:15.947
> 
> 标签：iphone, objective-c, model-view-controller, draw, quartz-graphics

全部。我正在尝试按照有关使球在 iPhone 屏幕上弹跳的教程进行操作。本教程以 MVC 方案构建应用程序。当谈到 View 实现中的 drawRect 方法时，我很难理解这个概念。

这是我的模型头文件：

```
#import <Foundation/Foundation.h>
#import "TestView.h"

#define BALL_SIZE 20.0
#define VIEW_WIDTH 320.0
#define VIEW_HEIGHT 460.0

@interface TestModel : NSObject
{
    TestView* ball;
    CGPoint ballVelocity;
    CGFloat lastTime;
    CGFloat timeDelta;
}

- (void) updateModelWithTime:(CFTimeInterval) timestamp;
- (void) checkCollisionWithScreenEdges;

@property (readonly) TestView* ball;

@end 
```

本教程指导我用户重写 NSObject 的 init 方法。我还包括了控制“动画”逻辑的方法：

```
 - (id) init {
        self = [super init];

        if (self) {
            ball = [[TestView alloc] initWithFrame: CGRectMake(0.0, 0.0, BALL_SIZE, BALL_SIZE)];

            // Set the initial velocity for the ball
            ballVelocity = CGPointMake(200.0, -200.0);

            // Initialize the last time
            lastTime = 0.0;
        }

        return self;
    }

- (void) checkCollisionWithScreenEdges {
    // Left Edge
    if (ball.frame.origin.x <= 0) {
        ballVelocity.x = abs(ballVelocity.x);
    }

    // Right Edge
    if (ball.frame.origin.x >= VIEW_WIDTH - BALL_SIZE) {
        ballVelocity.x = -1 * abs(ballVelocity.x);
    }

    // Top Edge
    if (ball.frame.origin.y <= 0) {
        ballVelocity.y = abs(ballVelocity.y);
    }

    // Bottom Edge
    if (ball.frame.origin.y >= VIEW_HEIGHT - BALL_SIZE) {
        ballVelocity.y = -1 * abs(ballVelocity.y);
    }
}

- (void) updateModelWithTime:(CFTimeInterval) timestamp {
    if (lastTime == 0.0) {
        // initialize lastTime if first time through
        lastTime = timestamp;
    } else {
        // Calculate time elapsed since last call
        timeDelta = timestamp - lastTime;

        // Update the lastTime
        lastTime = timestamp;

        [self checkCollisionWithScreenEdges];

        // Calculate the new position of the ball
        CGFloat x = ball.frame.origin.x + ballVelocity.x * timeDelta;
        CGFloat y = ball.frame.origin.y + ballVelocity.y * timeDelta;

        ball.frame = CGRectMake(x, y, BALL_SIZE, BALL_SIZE);
    }
} 
```

View 实现文件如下：

```
#import "TestView.h"

@implementation TestView

- (id)initWithFrame:(CGRect)frame
{
    self = [super initWithFrame:frame];
    if (self) {
        // Initialization code
    }
    return self;
}

// Only override drawRect: if you perform custom drawing.
// An empty implementation adversely affects performance during animation.
- (void)drawRect:(CGRect) rect {

}
@end 
```

最后，我的视图控制器：

```
- (void)viewDidLoad
{
    [super viewDidLoad];
    // Do any additional setup after loading the view, typically from a nib.

    gameModel = [[TestModel alloc] init];

    [self.view addSubview:gameModel.ball];

    // Set up the CADisplayLink for the animation
    gameTimer = [CADisplayLink displayLinkWithTarget:self selector:@selector(updateDisplay:)];

    // Add the display link to the current run loop
    [gameTimer addToRunLoop:[NSRunLoop currentRunLoop] forMode:NSDefaultRunLoopMode];
}

- (void) updateDisplay:(CADisplayLink *) sender {
    [gameModel updateModelWithTime:sender.timestamp];
} 
```

好的，现在我已经介绍了代码的结构（希望我已经给出了足够的内容），我可以回答我的问题了。因此，当我向 drawRect 添加任何内容时，会绘制一个新对象并且不会通过模型逻辑方法获得“动画”。

现在我有一个弹跳方块。当我尝试在 drawRect 中用椭圆填充正方形时，我得到了一个新对象，按照我想要的方式绘制，它位于 0,0 处，而弹跳正方形仍然处于活动状态。

我确定我在这里遗漏了一些非常重要的东西，但是我已经把头撞在墙上几个小时了，无法弄清楚。任何帮助将不胜感激！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T05:00:29.557

这里有几件事：

1-您是否将 SB 中的视图类覆盖为 TestView？
2-查看您的代码，我看不到您的模型如何通过控制器连接到您的视图。回想一下 MVC 模型，控制器位于顶部并向下（金字塔式）与模型和视图对话，因此，在您的视图控制器中的某处：
a）您需要实例化您的模型
b）从您的模型中获取值和将它们传递给您的视图变量 - 将在 drawrect 中调用

最后但同样重要的是，查找 setNeedsDisplay 是调用和刷新视图的方式。

希望这有助于不破坏作业。

# python - PDF 打印受密码保护的页面（最好让 wkhtmltopdf 使用 cookie）

> ID：14806080
> 
> 赞同：4
> 
> 时间：2013-02-11T04:53:12.947
> 
> 标签：python, cookies, mechanize, wget, wkhtmltopdf

我正在尝试使用 将受密码保护的页面打印为 PDF `wkhtmltopdf`，但我无法加载（工作）cookie，这意味着我总是只打印“登录”页面。

### 登录后保存 cookie

以下代码按预期工作：如果我登录，我可以查看正确的页面，无论我是从 cookie 加载还是输入了我的登录信息：

```
class PrintPages(object):
    def __init__(self):
        ...
        self.browser = mechanize.Browser()
        self.cj = mechanize.MozillaCookieJar()
        self.browser.set_cookiejar(self.cj)
        self.login("cookies.txt")

    def login(self, cookie_jar):
        """ Log in, save cookie if doesn't exist. Otherwise, load cookie. """
        if os.path.isfile(cookie_jar):
            self.cj.load(cookie_jar, ignore_discard=True, ignore_expires=True)
        else:
            self.browser.open(self.login_url)

            self.browser.select_form(name="loginform")
            self.browser["username"] = self.username
            self.browser["password"] = getpass.getpass()

            self.browser.submit()
            self.cj.save(cookie_jar, ignore_discard=True, ignore_expires=True) 
```

### (cookies.txt)

```
 # Netscape HTTP Cookie File
    # http://www.netscape.com/newsref/std/cookie_spec.html
    # This is a generated file!  Do not edit.

sub.example.com  FALSE   /   TRUE        JSESSIONID  B8307A77925DB287B0346C728BBF8F24 
```

* * *

但是，告诉`wget`或`wkhtmltopdf`加载cookies会给我登录页面。

```
$ wget -p --load-cookies cookies.txt sub.example.com/page.html
$ wkhtmltopdf --cookie-jar cookies.txt sub.example.com/page.html page.pdf 
```

是什么赋予了？理想情况下，任何允许我打印到 PDF 的解决方案都是理想的，但我很好奇这里发生了什么。

* * *

我在用着：

*   `wkhtmltopdf`0.9.9 版
*   `mechanize`：版本 0.2.5

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-20T02:26:00.873

我没有针对您的 cookie 的具体问题的解决方案，但我们为打印具有权限的 pdf 所做的工作是：

1.  公开一个没有登录身份验证的单独视图。
2.  为要生成的 pdf 创建一个一次性使用令牌。
3.  在未认证的视图中，确保密钥正确，且尚未使用。如果令牌有效，则返回 html 以转换为 pdf。
4.  如果您的视图需要知道哪个用户正在请求 pdf（以某种方式自定义页面），您可以将用户 ID 与令牌一起存储在数据库中。

我们正在寻找一种更好的方法来解决这个问题，但到目前为止它对我们有用。

希望这可以帮助。

# c# - 在单元测试中使用 RegEx 检查日志文件中的条目

> ID：14806085
> 
> 赞同：0
> 
> 时间：2013-02-11T04:53:29.580
> 
> 标签：c#, .net, unit-testing, nunit

我有 log4net 日志文件，用于记录某些错误的条目。我必须在 30 秒后检查它在日志文件中记录的第一个错误。我相信 Reg Ex 是可以做到的。到目前为止，我有：

```
string dataToLog = "certain logged error message";
var matches = Regex.Matches(File.ReadAllText(logfile), dataToLog);
Assert.AreEqual(3, matches.Count); 
```

上面的代码适用于整个文件中的错误数量。但是我需要向它添加可以检查并返回布尔值的代码，即 20 秒后它是否记录了第一个错误。知道如何实现吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T05:08:59.910

您可以在读取日志文件之前添加以下代码：

```
DateTime dt30 = DateTime.Now.AddSeconds(30);
            while(DateTime.Now!=dt30)
            {
                continue;
            } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T05:08:31.010

您可以在给定的时间段内冻结当前线程：

```
Start();
Thread.Sleep("30000"); // 30 sec
Read(); 
```

或支持回调或事件。

# ruby-on-rails - 在postgresqlcarrierwave中逐行读取存储的文件

> ID：14806086
> 
> 赞同：1
> 
> 时间：2013-02-11T04:53:47.177
> 
> 标签：ruby-on-rails, ruby, postgresql, carrierwave

我正在使用[carrierwave-postgresql](https://github.com/diogob/carrierwave-postgresql)来存储用户上传的文件。

我有一个名为 FileUploader 的上传器（在 /app/uploaders/file_uploader.rb 中），带有`storage :postgresql_lo`.

上传的文件链接到`:file_oid`名为 UploadedFile 的模型中的列（在 app/models/uploaded_file.rb 中），其中`mount_uploader :file_oid, FileUploader`：

```
class UploadedFile < ActiveRecord::Base
  attr_accessible :file_oid, :processed, :type
  mount_uploader :file_oid, FileUploader
end 
```

我上传文件为

```
f = UploadedFile.new
f.file_oid = params[:flat_file]
f.save! 
```

现在，当我尝试读取文件时，该`read`方法可以正常工作，但我无法获得“每个”或“打开”。

```
> uf = UploadedFile.find(:first)
> uf.file_oid.read # works, gives the contents of the file
> uf.file_oid.file.read # this works too
> uf.file_oid.file.each
NoMethodError: undefined method `each' for #<CarrierWave::Storage::PostgresqlLo::File:0x000000039157a0>
> uf.file_oid.file.open
NoMethodError: private method `open' called for #<CarrierWave::Storage::PostgresqlLo::File:0x000000039157a0>
> uf.file_oid.open
NoMethodError: private method `open' called for /uploadedfile_file_oid/231132:FileUploader 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T05:19:15.980

该类[`CarrierWave::Storage::PostgresqlLo::File`](http://rubydoc.info/gems/carrierwave-postgresql/CarrierWave/Storage/PostgresqlLo/File)不支持任何花哨的东西`each`or `open`; 除了阅读整个事物、编写整个事物或获取大小之外，您无法对其中一个对象做太多事情。

但是，如果您查看`read`实现，您会看到：

```
@uploader.model.transaction do
  lo = connection.lo_open(identifier)
  content = connection.lo_read(lo, file_length)
  connection.lo_close(lo)
  content
end 
```

因此您可以完全绕过carrierwave- [postgresql](http://www.postgresql.org/docs/current/interactive/largeobjects.html)[`lo_open`](http://rubydoc.info/gems/pg/PG/Connection#lo_open-instance_method)，[`lo_read`](http://rubydoc.info/gems/pg/PG/Connection#lo_read-instance_method)并使用[`lo_close`](http://rubydoc.info/gems/pg/PG/Connection#lo_close-instance_method). `connection`当然，您将无法逐行读取大对象，因为大对象系统不知道行是什么*，*它只知道可查找的字节流。

# visual-studio-2008 - 跳转 URL 的文本框操作不起作用

> ID：14806091
> 
> 赞同：0
> 
> 时间：2013-02-11T04:54:24.100
> 
> 标签：visual-studio-2008, reporting-services, ssrs-2008

我有一个 ssrs 2008 报告项目，在这个项目中，我有一列用于显示一个链接以连接表单。为此，我使用了文本框的 Action 属性。我像这样附加了我的表达：`="javascript:void(window.open('" & Fields!ActionURL.Value & "'))"`。但不幸的是，它不会呈现为链接。我不知道我的代码出了什么问题。请帮我解决这个问题

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T06:34:50.647

尝试以下操作：

1）直接放链接路径：

```
="javascript:void(window.open('http://servername/Departments/Marketing/
_layouts/xxx/Forms/Form.aspx?ItemID=51&Title=form'))" 
```

2）尝试在新窗口中打开它：

```
="javascript:void(window.open('http://servername/Departments/Marketing/_layouts
/xxx/Forms/Form.aspx?ItemID=51&Title=form','_blank','width=1250,height=1050'))" 
```

PS仔细检查你的`Title=form`参数，你确定它是当前的吗？

**编辑**

我的建议是只存储参数值（而不是孔链接路径），这对我总是有用的。尝试以下操作：

```
="javascript:void(window.open('http://servername/Departments/Marketing/
    _layouts/xxx/Forms/Form.aspx?ItemID=" & Fields!ItemID.Value &
    "&Title=" & Fields!Title.Value & "','_blank','width=1250,height=1050'))" 
```

**编辑 2**

![在此处输入图像描述](../Images/00d8c221ab84f54e7fda8e8557f9892a.png)

# iphone - 架构 i386 的未定义符号：“_OBJC_CLASS_$_GDataDateTime”，引用自：

> ID：14806093
> 
> 赞同：1
> 
> 时间：2013-02-11T04:54:36.300
> 
> 标签：iphone, ios, cocoa-touch, google-calendar-api, linker-errors

我在谷歌日历工作过。现在我已经从这个链接下载了示例代码：

```
"http://code.google.com/p/iphone-gcal/". 
```

但在此代码中，缺少一些 Gdata 代码。所以我已经实现了该代码，但我也得到了以下错误。请一些人帮助我解决这个错误。

```
Undefined symbols for architecture i386:
  "_OBJC_CLASS_$_GDataDateTime", referenced from:
      objc-class-ref in RootViewController.o
      objc-class-ref in EditingViewController.o
  "_OBJC_CLASS_$_GDataEntryCalendarEvent", referenced from:
      objc-class-ref in EditingViewController.o
  "_OBJC_CLASS_$_GDataQueryCalendar", referenced from:
      objc-class-ref in RootViewController.o
  "_OBJC_CLASS_$_GDataServiceGoogleCalendar", referenced from:
      objc-class-ref in RootViewController.o
  "_OBJC_CLASS_$_GDataWhen", referenced from:
      objc-class-ref in RootViewController.o
      objc-class-ref in EditingViewController.o
  "_OBJC_CLASS_$_GDataWhere", referenced from:
      objc-class-ref in EditingViewController.o
ld: symbol(s) not found for architecture i386
clang: error: linker command failed with exit code 1 (use -v to see invocation) 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-11T05:49:55.790

您需要将 gdata`.m`文件（`GDataDateTime.m`、`GDataEntryCalendarEvent.m`等）添加到目标的“编译源”构建阶段。

一种方法是使用文件检查器。有关动画示例，请参[见此答案。](https://stackoverflow.com/questions/14147640/what-is-my-target-and-how-do-i-add-a-file-to-it-for-unit-testing/14148008#14148008)

# com - COM out of process server 启动多个实例

> ID：14806097
> 
> 赞同：6
> 
> 时间：2013-02-11T04:54:49.813
> 
> 标签：com, out-of-process

你如何强制本地 COM 服务器在一个普通帐户下运行（本地系统会很好）？RunAs 文档似乎仅适用于 DCOM，并且不能在本地工作。

我面临的问题是我的 CoCreateInstance 是从在不同桌面上运行的进程调用的，并且在这种情况下，SCM 想要为每个桌面启动一个新服务器，我只想要一个实例 - 按照设计！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-08-27T01:58:41.147

您所描述的是系统服务，而不是 COM 服务器。COM 服务器设计为在运行它的任何会话下运行，而不是在“会话 0”（服务）或任何单个会话下运行。如果您需要仅在 1 个会话下运行并且对其他所有内容具有全局访问权限的东西，您应该使用 Windows 服务，而不是 COM 服务器。

如果您出于其他原因需要 COM 服务器方面，但希望在全球范围内共享资源或仍然有“一个进程”来控制您需要做的任何事情......您可以让您的 COM 服务器使用您喜欢的任何 IPC 方法与您的服务通信.

此外，在您的评论中，您说“当我从命令行运行时”——如果您从命令行运行 EXE，它是否注册为 COM 服务器并不重要，它就像任何其他 EXE/应用程序——这意味着它以您运行它的任何用户身份运行，在您所处的任何会话中。将 EXE 注册为 COM 服务器只允许其他进程运行该 EXE 并通过 OLE/COM 与其通信，但是EXE 仍然可以作为普通应用程序运行。例如，Microsoft Word 和 Outlook 都是 COM 服务器。也就是说，outlook.exe 是一个 COM 服务器，当然您也可以将其作为普通应用程序运行。

# android - 如何在 android 中单击按钮时从 HTML 5 页面调用 .java 类中的函数？

> ID：14806101
> 
> 赞同：1
> 
> 时间：2013-02-11T04:55:28.390
> 
> 标签：android, html

我正在创建一个 android 应用程序，我想在
单击按钮时从 Html 页面调用 .java 类中的函数。我不知道该怎么做，因为我对 android 很陌生。所以，请帮助我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T05:23:19.057

您可以创建一个 Class 并将 JavaScript 绑定`WebView`到它的方法：

`webView.addJavascriptInterface(new MyClass(), "my_class");`

您可以从 JavaScript 调用该方法：

```
my_class.doStuff(); 
```

有关详细信息，请参阅[Android 文档](http://developer.android.com/guide/webapps/webview.html#BindingJavaScript)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T05:26:07.980

您必须在 Android 中添加一个类，它将充当 Html 和 Java 之间的接口桥梁。在回调方法中，您将处理来自 Html 的事件。

在java端添加以下代码以添加接口 -

```
webView.addJavascriptInterface(new ClassName,INTERFACE_NAME); 
```

来自 javascript 调用

```
INTERFACE_NAME.method() 
```

# actionscript-3 - 是否有用于确定大多数 mp3 音乐文件的每分钟节拍 (bpm) 的 AS3 库？

> ID：14806102
> 
> 赞同：1
> 
> 时间：2013-02-11T04:55:36.470
> 
> 标签：actionscript-3, audio, mp3

我看到[这](http://blog.jactionscripters.com/2009/05/27/beattimer/)与此处有关 BPM 检测的另一个问题有关，但该站点现在似乎已关闭。谁能帮我吗？我的问题是关于这篇文章的标题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T05:47:39.090

检查这些库：

[声触](https://github.com/also/soundtouch-as3)

[AS3-音频](https://github.com/singuerinc/as3-audio)

# php - 我已经在我的数据库中插入了信息，并且我已经验证了它。但是如果我点击插入它会重定向到另一个页面

> ID：14806103
> 
> 赞同：0
> 
> 时间：2013-02-11T04:55:39.200
> 
> 标签：php, javascript, html, mysql

我已经在我的数据库中插入了信息，并且我已经验证了它。但如果我点击插入它会重定向到另一个页面。我想在 AJAX 概念中完成此操作，请帮助我。提前致谢

**HTML 编码**

```
<form id="myform" action="bl/checkout_report.php?action=check_out" method="post" name="myform">
  <table width="200" border="0">
     &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  <h3><u><b>Shipping Details</b></u></h3>
   <tr>
  <th scope="row"><label>Name*</label></th>
  <td><input id="fname" name="fname" type="text" class="shipping-required"></td>
</tr>
 <tr>
 <th scope="row"><label>Shipping Address*</label>;</th>
 <td><textarea name="address" id="address" class="shipping-required"></textarea></td>
 </tr>
 <tr>
<th scope="row"><label>Nearest Landmark*</label></th>
<td><textarea name="land" id="land" class="shipping-required"></textarea></td>
</tr>
 <tr>
<th scope="row"><label>City*</label></th>
<td><input id="city" name="city" type="text" class="shipping-required"></td>
 </tr>
 <tr>
 <th scope="row"><label>State*</label></th>
  <td><select id="state" name="state"> <option selected="" value="Default" class="shipping- required">(Please select a state)</option>  
 <option>Andhara Pradesh</option>
 <option>Assam</option>
 <option>Bihar</option>
 <option>Delhi</option>
 <option>Gujarat</option>
 <option>Tamil Nadu</option>
  </select></td> 
   </tr>
   <tr>
    <th scope="row"><label>Pin Code*</label></th>
   <td><input id="code" name="code" type="text" class="shipping-required"></td>
  </tr>
  <tr>
  <th scope="row"><label>Mobile Number*</label></th>
  <td><input id="mobile1" name="mobile1" type="text" class="shipping-required"></td>
   </tr>
  <tr>
   <th scope="row"> <label>Mail id</label></th>
   <td><input id="mail1" name="mail1" type="text" class="shipping-required"></td>
  </tr>
  <td><input type="hidden" id="pwd" name="pwd" value="<?php echo "$password"?>"></td> 
 <tr>
 <td><input id="submit" name="submit" type="submit" value=" Continue" onclick="return  formValidate()"></td>
  </tr>
 </table>
 </form> 
```

**JAVASCRIPT 验证函数**

```
function formValidate() {
  alert("ok");
  var fname = document.myform.fname;
  var address = document.myform.address;
  var land = document.myform.land;
  var city = document.myform.city;
  var state = document.myform.state;
  var code = document.myform.code;
  var mobile1 = document.myform.mobile1;
  var mail1 = document.myform.mail1;
  if (item1(fname)) {
    if (idd(address)) {
      if (lad(land)) {
        if (place(city)) {
          if (native(state)) {
            if (pin(code)) {
              if (number(mobile1)) {
                if (id(mail1)) {
                  document.myform.submit();
                }
              }
            }
          }
        }
      }
    }
  }
  return false;
}

function item1(fname) {
  if (fname.value != "") {
    var letters = /^[A-Z a-z]+$/;
    if (fname.value.match(letters)) {
      return true;
    } else {
      alert('nbumber');
      fname.focus();
      return false;
    }
  } else {
    alert(' Name should not empty');
    fname.focus();
  }
}

function idd(address) {
  if (address.value != "") {
    var letters = /^[a-zA-Z0-9\s,'-]*$/;
    if (address.value.match(letters)) {
      return true;
    } else {
      alert('Enter Valid Address ');
      address.focus();
      return false;
    }
  } else {
    alert('Address should not empty');
    address.focus();
  }
}

function lad(land) {
  if (land.value != "") {
    var letters = /^[a-zA-Z0-9\s,'-]*$/;
    if (land.value.match(letters)) {
      return true;
    } else {
      alert('Enter Valid Land Mark ');
      land.focus();
      return false;
    }
  } else {
    alert('Land Mark should not empty');
    land.focus();
  }
}

function place(city) {
  if (city.value != "") {
    var letters = /^[A-Z a-z]+$/;
    if (city.value.match(letters)) {
      return true;
    } else {
      alert(" City Must have alphabet Charater Only");
      city.focus();
      return false;
    }
  } else {
    alert('city should not empty');
  }
}

function native(state) {
  if (state.value == "Default") {
    alert('Select your State from the list');
    state.focus();
    return false;
  } else {
    return true;
  }
}

function pin(code) {
  if (code.value != "") {
    var uadd_len = code.value.length;
    if (uadd_len == 6) {
      return true;
    } else {
      alert(" Pin Code Must Have six Numbers");
      code.focus();
      return false;
    }
  } else {
    alert('Pincode should not empty');
  }
}

function number(mobile1) {
  if (mobile1.value != "") {
    var uadd_len = mobile1.value.length;
    if (uadd_len == 10) {
      return true;
    } else {
      alert('Enter 10 Digit Mobile Number ');
      mobile1.focus();
      return false;
    }
  } else {
    alert('Mobile Number should not empty');
    mobile1.focus();
  }
}

function id(mail1) {
  if (mail1.value != "") {
    var mailformat = /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;
    if (mail1.value.match(mailformat)) {
      return true;
    } else {
      alert('Invalid Mail Format ');
      mail.focus();
      return false;
    }
  } else {
    alert('Mail should not empty');
    mail1.focus();
  }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T05:04:05.477

您可以编写自己的 Ajax 脚本 XHR 创建对象或使用现有的库（如 jQuery）来简化您的工作

[http://api.jquery.com/jQuery.post/](http://api.jquery.com/jQuery.post/)

```
$("#foo").submit(function(event){
  var request = $.ajax({
    url: "/checkout_report.php",
    type: "post",
    data: serializedData
  });
}); 
```

检查 stackoverflow 中的现有 ex：[jQuery Ajax POST example with PHP](https://stackoverflow.com/questions/5004233/jquery-ajax-post-example)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-11T05:00:50.793

您是否尝试过 jquery[**提交**](http://api.jquery.com/submit/)。

```
(function($)
{
    $('#form').submit(function()
    {
        //check for validation..
        return false;
    }); 
});
```

如果您不想使用 jQuery，那么您应该尝试[http://www.simonerodriguez.com/ajax-form-submit-example/](http://www.simonerodriguez.com/ajax-form-submit-example/)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-11T05:02:42.693

你可以用`jquery form plugin`这个。这个插件也可以帮助你上传文件。所以我认为它最适合你

这是此插件的文档[http://malsup.com/jquery/form/](http://malsup.com/jquery/form/)

示例在这里[http://malsup.com/jquery/form/#ajaxForm](http://malsup.com/jquery/form/#ajaxForm)

您的函数`formValidate`非常复杂，请尝试以简单的方式为 egs 编写此代码：

```
function formValidate()
{ 
    alert("ok");
    var fname = document.myform.fname;
    var address = document.myform.address;
    var land = document.myform.land;
    var city = document.myform.city;
    var state = document.myform.state;
    var code = document.myform.code;
    var mobile1 = document.myform.mobile1;
    var mail1 = document.myform.mail1;
    var status=true; 
    if(!item1(fname)) 
    {  
        status=false;
    }
    if(!idd(address))
    {
        status=false;
    }
    if(!lad(land))
    {
        status=false;   
    }
    if(!place(city))
    {
        status=false;   
    }
    if(!native(state))
    {
        status=false;   
    }
    if(!pin(code))
    {
        status=false;
    }
    if(!number(mobile1))
    {
        status=false;
    }
    if(!id(mail1))
    {                          
        status=false;
    }
    //thinking all functions return true or false
    if(status)  
        document.myform.submit();
    return status;  
} 
```

# vim - 在VIM中，为什么`db`不删除光标下的字符？

> ID：14806106
> 
> 赞同：10
> 
> 时间：2013-02-11T04:55:54.823
> 
> 标签：vim

我读到这`b`就像`e`ie的反面`b`做了 e 做的事情，但倒退了。

所以如果我点击`d``e`一个单词并且光标在单词的第一个字母上，它会删除整个单词。那太棒了！

但是如果我点击`d``b`一个单词并且光标在单词的最后一个字母上，它会删除整个单词，除了光标所在的字母！

我知道我可以在使用时只移动一个角色，`b`但我想保持一致。也许有人可以启发我为什么会有这样的`b`行为。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-02-11T05:00:59.327

`b`不是相反的`e`，as`b`是*排他的议案*，while`e`是*包容*的。从`:help e`& `:help b`：

> **`e`**转发到单词`[count]` *inclusive*的末尾。不会停在空行中。
> 
> **`b`** `[count]`话倒退。 *独家*议案。

从`:help exclusive`：

> 角色动作要么是包容性的，要么是排斥性的。当包含时，动作的开始和结束位置包含在操作中。独占时，不包括缓冲区末尾的最后一个字符。线性运动总是包括开始和结束位置。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2013-02-11T05:00:45.317

vim 光标是一个非常恶心的东西，设计不佳，模仿终端的块光标。光标位置实际上是在块的开始/左侧，所以如果块“打开”并且你`k`实际上是从to删除。`bark``d``b``r``b`

幸运的是，[您可以将光标更改](http://vim.wikia.com/wiki/Configuring_the_cursor)为合理的值

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-02-11T10:24:07.463

您应该看一下`:help text-objects`：它允许您将命令应用于*智能*对象，例如单词、句子或段落。

要擦除一个单词，无论光标的位置如何，都应该使用`d``i``w`.

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-07-10T09:31:03.517

删除一个字`d``a``w`。

删除光标下的单词和左边的空格，将光标留在前一个单词的末尾。这是一个可重复的变化。在 VIM 中，你可以重复`.`

* * *

`$` | 然后没有`e`

`d``a``w`| 然后有`s`

`.` | 然后`e`

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2021-05-03T16:33:09.067

最终`v`用于在向后运动中使用视觉模式。

```
" Backward motion, inclusive the current cursor.
onoremap b vb
onoremap F vF
onoremap T vT 
```

这按预期工作，并且足以满足我的典型用途。相关文章： [https ://jdhao.github.io/2019/05/18/nvim_exclusive_inclusive_motion/](https://jdhao.github.io/2019/05/18/nvim_exclusive_inclusive_motion/)

# java - 当 JMS 生产者与 JMS 服务器断开连接时，它可以使用本地存储和转发吗？

> ID：14806107
> 
> 赞同：0
> 
> 时间：2013-02-11T04:56:14.963
> 
> 标签：java, jms

我有一种情况，当客户端与 JMS 服务器断开连接时，我想存储无法传递到 JMS 服务器的消息。我已经阅读了有关 JMS 提供程序的存储和转发功能的信息，但我还没有在客户端级别看到任何关于此功能的讨论。在客户端实现中是否有提供此功能的提供商？

我考虑过添加一个进程中的 JMS 提供程序，它可以将消息存储并转发到 JMS 服务器。可用的最轻量级实现是什么？HornetMQ，ActiveMQ？似乎这是一个非常利基的用例，并且可能有针对此场景的优化实现，它包装另一个提供程序并且比完全嵌入式 JMS 提供程序更轻。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T08:35:27.880

在客户端存储消息不是 JMS 标准功能，您应该在客户端添加一些处理，以应对 JMS 服务器不可用的情况。为了减少发生这种情况的机会，您可以在同一台机器上运行 JMS 服务器，甚至可以在与客户端相同的 JVM 中运行。但是，连接丢失的可能性仍然很小，因此您仍然需要一些客户端处理代码。

您还需要一些东西，将消息从本地 JMS 服务器转发到应该接收消息的服务器。一些消息传递系统确实具有关心这种转发的特殊功能（例如 SonicMQ 的动态路由架构） - 也许您可以使用 ActiveMQ 中的代理网络达到相同的行为（[http://activemq.apache.org/networks-of-brokers .html](http://activemq.apache.org/networks-of-brokers.html) ) - 否则您可以使用 Apache Camel 之类的 ESB 实现来实现此行为。

关于消息传递的实现，我不会坚持使用 HornetQ，因为它将被 ActiveMQ 取代为 JBoss 标准消息传递提供程序。

# php - cakephp：访问同一控制器中的变量但功能不同

> ID：14806108
> 
> 赞同：1
> 
> 时间：2013-02-11T04:56:18.200
> 
> 标签：php, cakephp, global-variables, cakephp-2.0

我希望访问 cakephp 中的变量，该变量在范围内是全局的 - 也就是说它在同一个控制器中但功能不同。代码：

主页控制器.php

```
 public function opauth_complete() {
    //global $facebook_data;
    $this->facebook_data = $this->data;
     debug($this->facebook_data); // returns data
    $this->redirect(array('controller' => 'home', 
                          'action' => 'user_home'));
}
public function user_home()
{
   // i wish to use $facebook_data here.
debug($this->facebook_data); // returns null

} 
```

我如何在不使用会话的情况下实现这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T05:00:02.727

您可以将其存储在会话中

```
class HomeController extends Controller {        

    public function opauth_complete() {
      //assign the value
      $this->Session->write("facebook_data", $this->data);
     debug($this->facebook_data); // returns data
      $this->redirect(array('controller' => 'home', 
                          'action' => 'user_home'));
    }
    public function user_home() {
       //read from session
    debug($this->Session->read("facebook_data")); // returns data
    }
... 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-11T12:42:57.207

```
App::uses('AppController', 'Controller');

class UsersController extends AppController {

   private $FbData = array();

   public function opauth_complete() {
      $this->FbData = $this->data;
   }

   public function user_home(){
      debug($this->FbData); 
   }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-11T07:39:46.270

在 beforeFilter() 中设置变量，您可以在控制器中的任何地方使用

# c++ - 指针专用模板

> ID：14806114
> 
> 赞同：1
> 
> 时间：2013-02-11T04:56:40.993
> 
> 标签：c++, pointers, template-specialization

我想专门设计一个模板类，使其对 Base 类型的指针和所有其他指针类型的行为有所不同。我尝试使用 enable if。但它没有按照我想要的方式工作。谁能告诉我该怎么做。我试过的代码：

```
class Base
{
};

class Derived:public Base
{
};

class Non_base
{
};

template<class T,class Enable=void> class Vector
{
public:
    Vector()
    {
        cout<<"Constructor of Vector "<<endl;
    }
};

template<class T> class Vector<T*>
{
public:
    Vector()
    {
        cout<<"Constructor of Vector<T *> "<<endl;
    }
};

template<> class Vector<Base*>
{
public:
    Vector()
    {
        cout<<"Constructor of Vector<Base*> fully specialized"<<endl;
    }
};

//template<class T> class Vector<T *>:public Vector<Base *>
//{
//public:
//    Vector()
//    {
//        cout<<"Constructor of Vector<Base*> partially specilized"<<endl;
//    }
//};

template<class T> class Vector<T*,typename enable_if<is_base_of<Base,T>::value>::type>
{
    Vector()
    {
        cout<<"Constructor of Vector<Base*> partially specilized"<<endl;
    }
}; 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-11T05:11:18.053

当您添加`enable_if`到现有重载集的子集时，您通常还需要将其添加到其余成员中。当启用某些重载时，必须禁用其他重载，否则会产生歧义。

```
template<class T> class Vector<T*,typename enable_if<!is_base_of<Base,T>::value>::type>
{
public:
    Vector()
    {
        cout<<"Constructor of Vector<T *> "<<endl;
    }
}; 
```

您不需要添加`enable_if<!…&gt;`到完整的专业化，因为它已经是该系列的最佳匹配，因此不会有歧义。

# matlab - matlab中的元胞数组

> ID：14806115
> 
> 赞同：-1
> 
> 时间：2013-02-11T04:56:41.313
> 
> 标签：matlab, cell

ca =

```
[0]    [60x60 uint8]    [          0]    [          0]    [0]    [60x0 uint8]
[0]    [60x60 uint8]    [60x60 uint8]    [60x60 uint8]    [0]    [60x0 uint8]
[0]    [60x60 uint8]    [60x60 uint8]    [60x60 uint8]    [0]    [60x0 uint8]
[0]    [          0]    [60x60 uint8]    [60x60 uint8]    [0]    [60x0 uint8]
[0]    [          0]    [60x60 uint8]    [60x60 uint8]    [0]    [60x0 uint8]
[0]    [          0]    [60x60 uint8]    [60x60 uint8]    [0]    [60x0 uint8]
[0]    [          0]    [          0]    [          0]    [0]    [60x0 uint8]
[0]    [          0]    [          0]    [          0]    [0]    [60x0 uint8]
[0x60 uint8]    [ 0x60  uint8]    [ 0x60  uint8]    [ 0x60  uint8]    [0x60 uint8]     [] 
```

这是一个单元阵列。我想使用 cell2mat 组合它的所有单元格。是否有可能，如果是，那么语法是什么？感谢帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T07:14:40.447

我相信你的意思是通过组合这个词连接。除非尺寸匹配，否则您无法连接。特别是在您的情况下，您唯一能做的就是将零单元格转换为`60x60`矩阵（如果它不影响您将要执行的操作）。一旦所有单元格都具有相同的尺寸，您就可以通过键入以下内容来连接它们：

```
ca_matrix=cell2mat(ca); 
```

# c# - 在 Unity 中实现 Scape 的“程序基础”Perlin Noise

> ID：14806116
> 
> 赞同：0
> 
> 时间：2013-02-11T04:56:43.887
> 
> 标签：c#, unity3d, noise

尝试使用 Unity 在 C# 中实现以下文章中的噪声函数：http: [//www.decarpentier.nl/scape-procedural-basics](http://www.decarpentier.nl/scape-procedural-basics)

它大部分都在工作，但是跨 x 访问的混合一定有问题，因为地形是在带中生成的。

![使用当前噪声函数生成的地形](../Images/586c362ec5146079d0944467c33c2d50.png)

```
public void AddPerlinNoise(float scale=4.0f)
{
    for (int i = 0; i < Width; i++){
        for (int j = 0; j < Height; j++){
            float l = PerlinNoise(new Vector2(((float)i/(float)Width)*scale,((float)j/(float)Height)*scale));

            Heights[i, j] += l;
        }
    }
}

private float PerlinNoise(Vector2 p){
    Color col;

    // Calculate 2D integer coordinates i and fraction p.
    Vector2 i = new Vector2(Mathf.Floor(p.x),Mathf.Floor(p.y));
    Vector2 f = p - i;

    // Get weights from the coordinate fraction
    //float2 w = f * f * f * (f * (f * 6 - 15) + 10);
    Vector2 w = new Vector2(f.x * f.x * f.x * (f.x * (f.x * 6.0f - 15.0f) + 10.0f),f.y * f.y * f.y * (f.y * (f.y * 6.0f - 15.0f) + 10.0f));

    Vector4 w4 = new Vector4(1, w.x, w.y, w.x * w.y);

    // Get the four randomly permutated indices from the noise lattice nearest to
    // p and offset these numbers with the seed number.
    col = permTex.GetPixel((int)i.x,(int)i.y);

    Vector4 perm = new Vector4(col.r,col.g,col.b,col.a);

    Vector4 one = new Vector4(1,1,1,1);
    Vector4 two = new Vector4(2,2,2,2);

    // Permutate the four offseted indices again and get the 2D gradient for each
    // of the four permutated coordinates-seed pairs.
    col = gradTex.GetPixel((int)(perm.x*255.0f),(int)(perm.y*255.0f));
    Vector4 g1 = new Vector4(col.r,col.g,col.b,col.a);
    g1.Scale(two);
    g1 = g1 - one;
    col = gradTex.GetPixel((int)(perm.z*255.0f),(int)(perm.w*255.0f));
    Vector4 g2 = new Vector4(col.r,col.g,col.b,col.a);
    g2.Scale(two);
    g2 = g2 - one;

    // Evaluate the four lattice gradients at p
    float a = Vector2.Dot(new Vector2(g1.x,g1.y), f);
    float b = Vector2.Dot(new Vector2(g2.x,g2.y), f + new Vector2(-1,  0));
    float c = Vector2.Dot(new Vector2(g1.z,g1.w), f + new Vector2( 0, -1));
    float d = Vector2.Dot(new Vector2(g2.z,g2.w), f + new Vector2(-1, -1));

    // Bi-linearly blend between the gradients, using w4 as blend factors.
    Vector4 grads = new Vector4(a, b - a, c - a, a - b - c + d);
    float n = Vector4.Dot(grads, w4);

    // Return the noise value, roughly normalized in the range [0, 1]
    return (n * 1.5f) / 2 + 0.5f;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T06:40:46.037

解决方案是在访问 Texture2D 像素值时翻转 y 轴。改为 255 - y。

```
private float PerlinNoise(Vector2 p){
    Color col;

    // Calculate 2D integer coordinates i and fraction p.
    Vector2 i = new Vector2(Mathf.Floor(p.x),Mathf.Floor(p.y));
    Vector2 f = p - i;

    // Get weights from the coordinate fraction
    //float2 w = f * f * f * (f * (f * 6 - 15) + 10);
    Vector2 w = new Vector2(f.x * f.x * f.x * (f.x * (f.x * 6.0f - 15.0f) + 10.0f),f.y * f.y * f.y * (f.y * (f.y * 6.0f - 15.0f) + 10.0f));

    Vector4 w4 = new Vector4(1, w.x, w.y, w.x * w.y);

    // Get the four randomly permutated indices from the noise lattice nearest to
    // p and offset these numbers with the seed number.
    col = permTex.GetPixel((int)i.x,255 - (int)i.y);

    Vector4 perm = new Vector4(col.r,col.g,col.b,col.a);

    Vector4 one = new Vector4(1,1,1,1);
    Vector4 two = new Vector4(2,2,2,2);

    // Permutate the four offseted indices again and get the 2D gradient for each
    // of the four permutated coordinates-seed pairs.
    col = gradTex.GetPixel((int)(perm.x*255.0f),255 - (int)(perm.y*255.0f));
    Vector4 g1 = new Vector4(col.r,col.g,col.b,col.a);
    g1.Scale(two);
    g1 = g1 - one;
    col = gradTex.GetPixel((int)(perm.z*255.0f),255 - (int)(perm.w*255.0f));
    Vector4 g2 = new Vector4(col.r,col.g,col.b,col.a);
    g2.Scale(two);
    g2 = g2 - one;

    // Evaluate the four lattice gradients at p
    float a = Vector2.Dot(new Vector2(g1.x,g1.y), f);
    float b = Vector2.Dot(new Vector2(g2.x,g2.y), f + new Vector2(-1,  0));
    float c = Vector2.Dot(new Vector2(g1.z,g1.w), f + new Vector2( 0, -1));
    float d = Vector2.Dot(new Vector2(g2.z,g2.w), f + new Vector2(-1, -1));

    // Bi-linearly blend between the gradients, using w4 as blend factors.
    Vector4 grads = new Vector4(a, b - a, c - a, a - b - c + d);
    float n = Vector4.Dot(grads, w4);

    // Return the noise value, roughly normalized in the range [0, 1]
    return (n * 1.5f) / 2 + 0.5f;
} 
```

# php - Codeigniter CIUNIT

> ID：14806117
> 
> 赞同：1
> 
> 时间：2013-02-11T04:56:46.503
> 
> 标签：php, codeigniter-2

关于 Codeigniter PHP 单元，它是 CIUNIT，由 kenji 从本主题[http://d.hatena.ne.jp/Kenji_s/20120117/1326763908](http://d.hatena.ne.jp/Kenji_s/20120117/1326763908)创建。有没有办法模拟会话变量？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-18T05:57:16.580

如果您谈论的是 PHP 会话变量，您可以在代码中的任何位置设置它：

```
$_SESSION['foo'] = 'bar'; 
```

如果您正在谈论[Session 类](http://ellislab.com/codeigniter/user-guide/libraries/sessions.html)中的 CodeIgniter 会话变量，您还可以动态设置值：

```
get_instance()->session->userdata['foo'] = 'bar'; 
```

在进行测试之前，您必须在测试方法中这样做。

# android - 我可以解析解析这种类型的肥皂吗？

> ID：14806118
> 
> 赞同：2
> 
> 时间：2013-02-11T04:56:53.317
> 
> 标签：android, soap

如何解析带有名称标签的选项标签，并将我的数组列表设为这种类型

```
 [[anyType{}],[Sandy,Mark,Tayler,Waine],[mark Henry]]

FetchFormResponse
{
FetchFormResult=anyType
{
Formlist=anyType
{

Form=anyType
{
Name=Form; Id=6; Options=anyType{};
 }; 

Form=anyType
{
Name=Form1; Id=7; 
Options=anyType
{
Option=anyType{Name=Sandy; Id=154; Type=TextBox; Value=anyType{};
 }; 
Option=anyType
{
Name=Mark; Id=155; Type=TextBox; Value=anyType{};
 };
 Option=anyType
{
Name=Tayler; Id=156; Type=TextArea; Value=anyType{}; 
};
 Option=anyType
{
Name=Waine; Id=157; Type=CheckBox; Value=Master,Graduate; 
};
 };

Form=anyType
 {
Name=Form2; Id=9; 
Options=anyType
{
Option=anyType
{
Name=Mark Henry; Id=185; Type=Checkbox; Value=anyType{};
 };
};
 }; 

 }; 
}; 
};
 } 
```

知道是否有人解决了这个问题以及如何解决这个问题会很酷。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-12T08:28:19.110

您必须创建肥皂对象并从那里获得响应，例如：

```
SoapObject response= (SoapObject) envelope.bodyIn; 
SoapObject result= (SoapObject) response.getProperty(0);
SoapObject list= (SoapObject) result.getProperty(0);
SoapObject form= (SoapObject) list.getProperty(0);
SoapObject options= (SoapObject) form.getProperty("Options");
for(int i=0; i<options.getPropertyCount(); i++){
SoapObject option= (SoapObject) options.getProperty(i);
String name = option.getPropertyAsString("Name");
array.add(name);
} 
```

这应该工作

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T05:31:03.713

我真的不知道这是否会对您有所帮助，因为这是在 KSoap 中，而您的看起来像 JASON。因为我使用的是基本的 java 操作，所以不会有任何区别

以字符串形式获取结果并使用模式匹配来提取您想要的数据

```
String r = NameArray.columncount("userid", limitstart, loadNumber,loggername);
String temp = r.replaceAll(";\\s", ",").replaceAll("string=", " ")
.replace("anyType{", "").replace(",}", "");
String[] fulname = temp.split(",\\s+"); 
```

有关分步说明，请参阅此站点[如何处理从 WSDL 返回的数组](http://amalan008.blog.com/2013/02/07/how-to-process-an-array-returned-by-a-wsdl-android/)

# iphone - 如何创建要导入的库而不是在 Objective-C 中使用 switch 语句？

> ID：14806124
> 
> 赞同：0
> 
> 时间：2013-02-11T04:58:00.967
> 
> 标签：iphone, ios, objective-c

我是这种语言的新手（Objective-C）。我的目的是创建一个带有随机句子的 iOS 应用。一切都完成了，现在我只是用下面的代码随机化单词..

```
-(IBAction)randText:(id)sender {

    int text;
    text = rand()% 6;

    switch (text) {
        case 0:
            textLabel.text = @"Ett";
            break;
        case 1:
            textLabel.text = @"Två";
            break; 
```

等等...

但是，我想知道我是否可以像在一个单独的文件中创建一个库并将其包含/导入到“switch”中，而不是制作数百个每个带有较长句子的“case”。

希望你明白我的意思。

提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T05:05:06.580

您应该将单词放入一个数组中并使用 arc4random_uniform 在数组中选择一个索引。您不需要任何 switch 语句。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-11T05:13:44.710

您可以创建一个包含字符串数组的属性列表文件。例如，创建一个名为 的 plist 文件`words.plist`，然后使用 Xcode 内置的 plist，编辑器将根对象设置为数组，并将行添加到数组中。您可以使用以下方式加载它：

```
NSURL *plistURL = [[NSBundle mainBundle] URLForResource:@"words" withExtension:@"plist"];
NSArray *words = [NSArray arrayWithContentsOfURL:plistURL];

// pick a random word:
NSString *randomWord = [words objectAtIndex:arc4random_uniform(words.count)]; 
```

这有以下好处：

1.  plist 文件是可本地化的，因此可以将其翻译成多种语言，而无需修改加载 plist 的代码。

2.  尝试将数据和代码分开是个好主意。

3.  单词列表可以从您想要的任何 URL 加载，包括从 Web 服务器加载。

举个例子：

### MyAppDelegate.h

```
@interface MyAppDelegate : NSObject <UIApplicationDelegate>
@property NSArray *words;
// ... and your other properties as well
@end 
```

### MyAppDelegate.m

```
@implementation MyAppDelegate

- (void) applicationDidFinishLaunching:(UIApplication *) app
{
    NSURL *plistURL = [[NSBundle mainBundle] URLForResource:@"words" withExtension:@"plist"];
    self.words = [NSArray arrayWithContentsOfURL:plistURL];
}

- (NSString *) pickRandomWord
{
    return [self.words objectAtIndex:arc4random_uniform(self.words.count)];
}

- (NSString *) makeRandomSentence
{
    NSMutableString *result = [NSMutableString string];
    for (NSUInteger i = 0; i < 10; i++)
        [result appendFormat:@"%@ ", [self pickRandomWord]];
    return result;
}

@end 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-11T05:06:14.570

您可以将所有字符串放在 NSArray 中，然后使用

```
arrayWithStrings[arc4random_uniform(arrayWithStrings.count)]; 
```

如果您将所有字符串都保存在 JSON 或 plist 文件中，则可以通过`NSJSONSerialization`或`[NSArray arrayWithContentsOfURL:]`

# javascript - 行删除后Jquery数据表不起作用

> ID：14806128
> 
> 赞同：1
> 
> 时间：2013-02-11T04:58:23.337
> 
> 标签：javascript, jquery, datatables

我有一张表，我必须在上面执行过滤。我正在使用数据表 jquery 插件。当用户从下拉列表中选择特定选项时，我必须从数据表中删除所有行，并且我必须用新数据填充表。我正在这样做。

`$("#results tbody").remove();`//从表中删除tbody元素

`mySelect.append('<tbody>');`//现在将 tbody 与行一起附加

`mySelect.append('<tr><td > '+issueKey+' </td> <td><a href= ' + link + ' > '+summary+' </td><td> '+ days+' </td></tr>');`//重复这个操作

```
mySelect.append('</tbody>'); 
```

将其添加到我正在调用的表中后

```
dataTable.fnReloadAjax(); 
```

但是表格没有刷新和搜索，排序不起作用。对此有什么帮助吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T05:22:32.003

解决了。:)

我仍然不知道为什么上面的代码不起作用，但下面的代码现在正在起作用。谁能解释为什么上面的代码不起作用。

`dataTable.fnClearTable();`//清桌子

`dataTable.fnAddData( [issueKey, "<a href=" + link + " >" + summary+ "</a>" , days]);` // 添加数据。数据表中的内置函数

`dataTable.fnDraw();`//重绘表格

# java - 从打印循环中排除日期

> ID：14806129
> 
> 赞同：0
> 
> 时间：2013-02-11T04:58:37.113
> 
> 标签：java, date, loops, switch-statement

我将如何从我的打印输出中排除任何一天，即星期五和本月的第 13 天。我试图写一些类似的东西：如果（dayofweek！= 5 && dayofmonth！= 13），然后打印。我怎样才能在下面的代码中实现它？

```
public class LoopDate {

public static void main(String[] args) {

    //Denotes that Tuesday is the first day of 2013
    int startingDayOfWeek = 2;
    int year = 2013;
    int numDays = 0;
    for (int month = 1; month <= 12; month++) {
        switch (month) {
        case 1:
        case 3:
        case 5:
        case 7:
        case 8:
        case 10:
        case 12:
            numDays = 31;
            break;
        case 4:
        case 6:
        case 9:
        case 11:
            numDays = 30;
            break;
        case 2:
            if (((year % 4 == 0) && !(year % 100 == 0))
                    || (year % 400 == 0))
                numDays = 29;
            else
                numDays = 28;
            break;
        default:
            System.out.println("Invalid month.");
            break;
        }
        for (int start = 1; start <= numDays; start++)
            System.out.println(month + "/" + start);

        }
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T05:09:16.190

尝试

```
 GregorianCalendar c = new GregorianCalendar(2013, 0, 1);
    while (c.get(Calendar.YEAR) == 2013) {
        if (!(c.get(Calendar.DAY_OF_MONTH) == 13 &&  c.get(Calendar.DAY_OF_WEEK) == Calendar.FRIDAY)) {
            System.out.println(c.getTime());
        }
        c.add(Calendar.DAY_OF_YEAR, 1);
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T05:12:42.620

使用[joda time](http://joda-time.sourceforge.net/)，您只需执行以下操作：

```
DateTime today = new DateTime();
if (today.dayOfWeek().getAsText().equals("Friday")) { continue; }
if (today.dayOfMonth().get() == 13) { continue; }
// print here 
```

# php - 通过限制请求源来保护 REST API

> ID：14806130
> 
> 赞同：0
> 
> 时间：2013-02-11T04:58:46.757
> 
> 标签：php, api, rest

我即将创建一个 REST API，将其资源提供给移动应用程序，包括**iOS**和**Android**智能手机。

现在我担心将我的 API 限制为仅服务来自应用程序的请求，这意味着如果请求是通过浏览器完成的，那么我应该拒绝它。原因是我担心 XSS 攻击等。

我现在的想法错了吗？如果不是，那么我应该如何判断请求者来自应用程序？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T05:24:45.857

您在现场并且保护 REST 端点对于确保您对服务器资源的请求进行身份验证/授权/控制非常重要。

这是一个讨论一些最佳实践的线程：[保护 REST API / Web 服务的最佳实践](https://stackoverflow.com/questions/7551/best-practices-for-securing-a-rest-api-web-service)

# javascript - 在 MDN 的这些示例中，javascript 变量是如何“提升”的

> ID：14806135
> 
> 赞同：4
> 
> 时间：2013-02-11T04:59:09.153
> 
> 标签：javascript

在[这篇](https://developer.mozilla.org/en-US/docs/JavaScript/Guide/Values,_variables,_and_literals#Variable_scope)Mozilla 文章中，我读到：

> JavaScript 中变量的另一个不同寻常之处在于，您可以引用稍后声明的变量，而不会出现异常。这个概念被称为提升；JavaScript 中的变量在某种意义上被“提升”或提升到函数或语句的顶部。但是，尚未初始化的变量将返回未定义的值。

然后是一些例子：

```
/**
 * Example 1
 */
console.log(x === undefined); // logs "true"
var x = 3;

/**
 * Example 2
 */
// will return a value of undefined
var myvar = "my value";

(function() {
  console.log(myvar); // undefined
  var myvar = "local value";
})(); 
```

> 上面的示例 2 将被解释为：

```
var myvar = "my value";

(function() {
  var myvar;
  console.log(myvar); // undefined
  myvar = "local value";
})(); 
```

我没有看到任何东西被“提升”——至少不是在我传统上解释这个词的定义的意义上：变量似乎`undefined`直到它们被声明之后。您在什么意义上可以“引用稍后声明的变量”？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-11T05:01:45.783

当你使用`var`它时，它被“提升”到函数声明的顶部。让我们再看第二个例子：

```
var myvar = "my value";

(function() {
  console.log(myvar); // undefined
  var myvar = "local value";
})(); 
```

注意如何*首先*`var myvar = 'my value'`声明。接下来，在函数范围内调用。结果是“未定义”。为什么？您会认为这将是“我的价值”，因为这是代码的顺序。*`console.log(myvar)`*

 *`var myvar`因为函数范围内的局部变量被提升了，所以它没有被定义。这本质上等同于编写这样的函数：

```
(function() {
  var myvar;
  console.log(myvar); // undefined
  myvar = "local value";
})(); 
```*

# jsf-2 - 如何在 JSF-2 中创建 selectAll 复选框

> ID：14806136
> 
> 赞同：0
> 
> 时间：2013-02-11T04:59:15.383
> 
> 标签：jsf-2, checkbox, selectall

如何在 JSF -2 中创建全选复选框以选择页面中的所有选择框，而不是在其他页面上，因为这些复选框是列表并在每页中显示 20...

谢谢，亚历克斯

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T13:10:58.470

取决于您要达到的目标。

例如，您可以在`<f:form>`其中加载您的复选框

```
<h:commandButton actionListener="{#myBean.checkAll}">
    <f:ajax render="checkboxes">
</h:commandButton>
<h:panelGroup id="checkboxes">
    <ui:repeat var="check" value="#{myBean.checkBoxes}">
    <h:selectBooleanCheckbox value=#{check.checked}/>
    <h:outputText value=#{check.checkedCaption}/>
    </ui:repeat>
</h:panelGroup> 
```

然后您可以使用以下 bean 方法和部分页面更新来检查它们：

```
public void checkAll(ActionEvent event){
    for(Check check : checkBoxes) {
        checkBoxes.setChecked(true);
    }
 } 
```

取消选中所有功能可以通过以下方式实现，当您将动作侦听器方法中的 true 替换为当前复选框状态的反面时。

**编辑**. 如果您想稍后执行检查属性的服务器端设置，例如在单击保存按钮期间，您可能需要选中/取消选中客户端上的检查按钮。所以，如果你使用 jQuery 1.6+，你可以在你的视图中调用`$('.checkbox').prop('checked', true);`presetting `styleClass="checkbox"`of 。`<h:selectBooleanCheckbox>`为此，例如，您可以将按钮的 javascript onclick 方法与上面建议的简单 javascript 绑定。

# android - 安卓的搜索功能？

> ID：14806137
> 
> 赞同：1
> 
> 时间：2013-02-11T04:59:15.910
> 
> 标签：android, android-listview, android-searchmanager

我的阵列就像 {"Samsung Tab","Samsung Note","Samsung Galaxy","Samsung Galaxy Pro","Nokia Lumia","Nokia 5130","Sony Xperia"} 之类的东西。我有编辑文本键入**GALAXY**并单击按钮我有**GO**我只想在下一个活动列表视图中显示**三星 Galaxy 、三星 Galaxy Pro 。任何知道的请帮助我。**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T05:04:44.010

有一些方法可以做到这一点，这是一种方法，您可以创建一个自定义方法，如下所示。

```
 public ArrayList<String> getSearchedItems(String searchString){
 ArrayList<String>  list = new ArrayList<String>();

 for(int i = 0; i<array.length ;i++) { // array is the String array or list which contains all the Phone model names you want to search in.
  if((array[i].toLowerCase()).contains(searchString.toLowerCase())) { // contains method will check if user enterred string is available in your Model names
    list.add(array[i]);
    }
 }
 return list; // list of strings/names containing search String.
} 
```

在您按下 go 按钮或从下一个活动中调用此方法。获取名称列表。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T05:52:32.040

尝试这个，

```
 public class MainActivity extends Activity {

ArrayList<String> list = new ArrayList<String>();

private EditText searchEdt;

/** Called when the activity is first created. */
@Override
public void onCreate(Bundle savedInstanceState) {

    super.onCreate(savedInstanceState);

    // making it full screen
    requestWindowFeature(Window.FEATURE_NO_TITLE);
    getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,
            WindowManager.LayoutParams.FLAG_FULLSCREEN);
    setContentView(R.layout.activity_ugsimply_beta);
    list.add("Samsung Tab");
    list.add("Samsung Note");
    list.add("Nokia Lumia");
    list.add("Nokia 5130");
    list.add("Sony Xperia");
    searchEdt = (EditText) findViewById(R.id.searchEdt);
    searchEdt.addTextChangedListener(new TextWatcher() {

        private int textlength;
        private ArrayList<String> arrayList_sort = new ArrayList<String>();

        public void afterTextChanged(Editable s) {
            // Abstract Method of TextWatcher Interface.
        }

        public void beforeTextChanged(CharSequence s, int start, int count,
                int after) {
            // Abstract Method of TextWatcher Interface.
        }

        public void onTextChanged(CharSequence s, int start, int before,
                int count) {
            textlength = searchEdt.getText().length();
            if (arrayList_sort != null)
                arrayList_sort.clear();

            for (int i = 0; i < list.size(); i++) {

                if (textlength <= list.get(i).toString().length()) {

                    if (searchEdt
                            .getText()
                            .toString()
                            .equalsIgnoreCase(
                                    (String) list.get(i).toString()
                                            .subSequence(0, textlength))) {
                        arrayList_sort.add(list.get(i));
                        Log.d("TAG", "log" + arrayList_sort.size());
                    }
                }
            }

        }
    });

} 
```

}

您将获得搜索项目`arrayList_sort`。把这个数组列表放到另一个`Activity`

```
Intent i = new Intent(MainActivity.this,NextActivity.class);

i.putStringArrayListExtra("arraylist", arrayList_sort);
startActivity(i); 
```

# javascript - 在卸载页面之前显示加载 GIF

> ID：14806138
> 
> 赞同：6
> 
> 时间：2013-02-11T04:59:21.087
> 
> 标签：javascript, jquery

我正在开发一个适用于计算机以及 Ipad、Iphone、平板电脑和 Android 手机的应用程序。当用户从一个页面移动到另一个页面时，我有一个显示 loading... gif 的要求，因为这将为用户提供页面加载/卸载正在进行中的信息。

所以我尝试了下面提到的代码///下面的代码，用于在 DOM 未准备好时显示 GIF。

```
$(document).ready(function(){
  $("#loading").hide();}); 
```

//下面的代码用于在用户单击某个按钮进行某些服务器交互时显示 GIF。

```
$(window).bind('beforeunload',function(){ 
      $("#loading").show();}); 
```

其中 #loading 是包含我的 GIF 代码的 div 的 ID。现在这在 PC 浏览器上非常有效，但在 Ipad、Iphone 和安卓手机上却没有。我无法弄清楚为什么。

```
<div id="loading">
  <img id="loading-image" src="/img/loading.gif" alt="Loading..." /></div> 
```

此 div 用于加载 GIF。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2019-11-30T23:06:48.767

我使用“window.onbeforeunload”事件和 jquery-loading-overlay

链接： [https ://gasparesganga.com/labs/jquery-loading-overlay/](https://gasparesganga.com/labs/jquery-loading-overlay/)

完整的代码在这里

```
<!-- also link to jquery.js -->
<script src="https://cdn.jsdelivr.net/npm/gasparesganga-jquery-loading-overlay@2.1.6/dist/loadingoverlay.min.js"></script>

<script>
    window.onbeforeunload = function () {
        // Show Loding
        $.LoadingOverlay("show");

        // Disable javascript default confirm message
        //return "Are you sure you wish to leave the page?";
        return undefined;
    };

    // If Canceled by user
    $(document).keyup(function (e) {
        if (e.key === "Escape") {
            $.LoadingOverlay("hide");
        }
    });
</script> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T05:31:38.160

尝试 [**卸载**](http://api.jquery.com/unload/)。

```
$(window).unload(function()
{
    $('body').html('<img src="img/4.gif" alt="" />');
});
```

# jquery - jquery 与 asp 的集成。.net mvc 框架

> ID：14806140
> 
> 赞同：0
> 
> 时间：2013-02-11T04:59:24.303
> 
> 标签：jquery, asp.net-mvc

如何将 jquery 与 mvc 框架集成，我创建了一个示例应用程序，并且我有名为 app_data、Content、Controllers、Model、Views 和许多其他的目录。控制器文件夹包含所有用 c# 编写的控制器。那么我应该在哪里编写 jquery 脚本，我应该在 layout.cshtml 还是 index.cshtml 中编写它？我如何将 jquery 与 asp.net mvc 框架集成。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T05:43:00.103

如您所知，在 MVC 中有一个`Layout.cshtml`文件。

这就是我的`_Layout.cshtml`内容。下面的代码`_Layout.cshtml`是根据我的要求。

```
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>Your title</title>
    <meta name="viewport" content="width=device-width" />
    @Styles.Render("~/Content/css")
    @Scripts.Render("~/bundles/jquery") 
    @Scripts.Render("~/bundles/jqueryui")
</head>
<body>
            <div id="body">
                <section class="content-wrapper main-content clear-fix">
                    @RenderBody()
                </section>
            </div>
//blah blah
</body>
</html> 
```

如果您要在所有视图中包含母版页（_Layout.cshtml），您只需将脚本包含在 _Layout 页面中并`_Layout.cshtml`在视图中引用该页面。

这就是您应该`_Layout.cshtml`在视图中引用文件的方式。

在您的视图之上，您应该编写这样的代码块以添加您的 MasterPage 引用。

```
@{
      ViewBag.Title= "Index";
      Layout = "~/Views/Shared/_Layout.cshtml";
} 
```

现在开始编写`jQuery`视图中需要的代码：

```
<script type="text/javascript">
    $(function(){
        //your jQuery goes here
    });
</script> 
```

最后，您的视图应如下所示：

```
@{
    ViewBag.Title= "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<html>
<head>
    <style>
    </style>
    <script type="text/javascript">
    $(function(){
        //your jQuery goes here
    });
</script>
</head>
<body>
    @: This is my Index View
</body>
</html> 
```

希望能帮助到你。

如果有什么问题，请告诉我。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T06:13:10.350

请按照以下 url 使用具有适当架构的 Jquery 进行 MVC

[http://www.codeproject.com/Articles/344292/ASP-NET-MVC3-Razor-With-jQuery-For-Beginners](http://www.codeproject.com/Articles/344292/ASP-NET-MVC3-Razor-With-jQuery-For-Beginners)

# android - 有关在 Internet 上托管的 Android 手机上显示图像的一些详细信息

> ID：14806145
> 
> 赞同：-1
> 
> 时间：2013-02-11T04:59:58.237
> 
> 标签：android

我试图找到在存储在互联网上的 android 设备上显示图像的方法，我遇到了这些教程：

[http://www.androidcookers.blogspot.com/2011/06/retrieve-image-from-internet.html](http://www.androidcookers.blogspot.com/2011/06/retrieve-image-from-internet.html) [http://www.edumobile.org/android/android-beginner-tutorials/downloading-an-image-from -服务器并在屏幕上显示它/](http://www.edumobile.org/android/android-beginner-tutorials/downloading-an-image-from-the-server-and-displaying-it-on-screen/)

现在我的应用程序将有点像一个画廊，其中将有多个图像必须从互联网显示给用户。

根据上面提到的方法，我推测图像将首先下载到手机上的某个地方，然后显示在应用程序上。

由于我正在处理多个图像，我想知道这些图像存储在哪里？在应用程序关闭后，我是否需要进行某种清理，删除我下载的图像，或者类似的东西？下载这些图像时我的应用程序可以消耗的空间量是否有任何限制？

谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T05:23:56.977

在这种情况下，我建议使用 LazyLoader。有几个非常流行的*库*可用。一个是[Fedor 的](https://stackoverflow.com/users/95313/fedor) [延迟加载](https://github.com/thest1/LazyList)，另一个是[Universal Image Loader](https://github.com/nostra13/Android-Universal-Image-Loader)。

> 现在我的应用程序将是一个类似画廊的应用程序，其中将有多个图像必须从互联网上显示给用户。

为此，我建议使用`GridView`. 对于一个完整的工作解决方案，您可以参考我的一篇文章，该文章使用 a`GridView`来显示图像（它非常冗长，因此是答案的链接）：[https ://stackoverflow.com/a/13265776/ 450534](https://stackoverflow.com/a/13265776/450534)

**注意：** *在链接到的示例中，我从使用 Facebook API 中提取信息，但您始终可以提取/推断代码的本质以满足您的确切需求。当然，您将需要调整某些部分并适应您自己的逻辑，但这足以让您入门。*

在链接到的答案中，我使用了*Fedor 的*Lazy Loader。

> 由于我正在处理多个图像，我想知道这些图像存储在哪里？在应用程序关闭后，我是否需要进行某种清理，删除我下载的图像，或者类似的东西？下载这些图像时我的应用程序可以消耗的空间量是否有任何限制？

使用 Lazy Loader 或 Universal Image Loader，您不必担心。这个想法是缓存下载的图像。*Lazy Loader*检查已经缓存的图像并使用它们，而不是重新下载图像。只需更改路径，它们就可以存储在您选择的文件夹中。在我的一个使用延迟加载器的应用程序中，我可以选择从“设置”面板中清除缓存。另外，文件夹本身可以使用文件资源管理器手动删除。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T05:02:19.247

它们存储在您告诉他们存储的任何位置 - 通常在您的应用程序私有目录中的内部存储或外部存储中。如果您要再次使用这些图像，请保留它们，以便下次不需要再次下载它们。如果你不是，你应该删除它们。内部存储空间有限制，但具体数量取决于您的手机型号。外部存储仅受 sd 卡大小的限制。

# c# - 卡片视图引导程序

> ID：14806153
> 
> 赞同：1
> 
> 时间：2013-02-11T05:00:40.250
> 
> 标签：c#, javascript, html, twitter-bootstrap, kendo-ui

我正在为此卡片视图应用响应式网格布局。我的项目在 .net MVC4 c# 中。

**在窄屏**布局之前 - ![联系人卡片视图](../Images/35c618de4d46ff9a866b2040b3cd5a9e.png)

**窄屏后**——

![在此处输入图像描述](../Images/4ef632d50cf59ecbdbf7a54741094910.png)

这是我做窄屏后的结果，我已经在布局中解决了引导响应 css。正在从数据库中提取此列表。

列表-

```
<div class="container-fluid">
  <div class="nav-collapse in collapse" style="height: auto;">
<script type="text/x-kendo-tmpl" id="template">

         <div class="span3" style="margin-top:0px;margin-left:0px;margin-bottom:0px;margin-right:4px;cursor:pointer;" Onclick="Contact_List_CardEdit('@Url.Contact_PartialView_Main()?ContactID=${ContactID}')">
           <address class="well">
                <strong>${DisplayName}</strong><br/>
                <em>${Email1}</em><br/>
                <em>${PhoneOffice}</em><br/>
                <em>${Address}</em><br/>
                </address>

                </div>

</script>
 </div>   
        </div> 
```

**当我做窄屏时**，我想要这个视图的响应式布局。Kendo UI 用于此处的列表视图。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T07:41:27.970

我认为您必须在 CSS 响应文件中设置样式，例如

```
@-ms-viewport {
    width: device-width;
}
@media (max-width: 767px) {
    .hidden-desktop {
       display: inherit !important;
    }
 } 
```

或者您可以通过 JavaScript 捕捉屏幕宽度并仅设置两列。我通过设置普通容器并将流体类放在一行来解决它，就像这样。

```
 <div class="container">
    <div class="row-fluid">
       <div class="span3">
         Some_code_here
       </div>
       <div class="span3">
         Some_code_here
       </div>
       <div class="span3">
         Some_code_here
       </div>
       <div class="span3">
         Some_code_here
       </div>
    </div>
  </div> 
```

# php - 如何测试php中是否存在远程图像文件？

> ID：14806159
> 
> 赞同：7
> 
> 时间：2013-02-11T05:01:13.260
> 
> 标签：php

这会吐出一大堆 NO，但图像在那里并且路径正确，因为它们由`<img>`.

```
foreach ($imageNames as $imageName) 
{
    $image = 'http://path/' . $imageName . '.jpg';
    if (file_exists($image)) {
        echo  'YES';
    } else {
        echo 'NO';
    }
    echo '<img src="' . $image . '">';
} 
```

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-02-11T05:06:24.073

`file_exists`使用本地路径，而不是 URL。

一个解决方案是这样的：

```
$url=getimagesize(your_url);

if(!is_array($url))
{
     // The image doesn't exist
}
else
{
     // The image exists
} 
```

有关更多[信息](http://goo.gl/CNwAo)，请参阅此。

此外，寻找响应标头（使用该[`get_headers`](http://php.net/manual/en/function.get-headers.php)函数）将是一个更好的选择。只需检查响应是否为 404：

```
if(@get_headers($your_url)[0] == 'HTTP/1.1 404 Not Found')
{
     // The image doesn't exist
}
else
{
     // The image exists
} 
```

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2013-02-11T05:04:51.930

file_exists 查找本地路径，而不是“http://”URL

采用：

```
$file = 'http://www.domain.com/somefile.jpg';
$file_headers = @get_headers($file);
if($file_headers[0] == 'HTTP/1.1 404 Not Found') {
    $exists = false;
}
else {
    $exists = true;
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-11T05:11:59.323

```
$ch = curl_init($url);
curl_setopt($ch, CURLOPT_NOBODY, true);
curl_exec($ch);
$retcode = curl_getinfo($ch, CURLINFO_HTTP_CODE);
curl_close($ch);
if($retcode==200) echo 'YES';
else              echo 'NO'; 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2016-01-10T00:15:28.860

这就是我所做的。它通过获取标题涵盖了更多可能的结果，因为如果您无法访问该文件，它并不总是只是“404 Not Found”。有时它是“永久移动”、“禁止”和其他可能的消息。但是，如果文件存在并且可以访问，则只是“ 200 OK”。HTTP 的部分后面可以有 1.1 或 1.0，这就是为什么我只是使用 strpos 来在每种情况下都更可靠。

```
$file_headers = @get_headers( 'http://example.com/image.jpg' );

$is_the_file_accessable = true;

if( strpos( $file_headers[0], ' 200 OK' ) !== false ){
    $is_the_file_accessable = false;
}

if( $is_the_file_accessable ){
    // THE IMAGE CAN BE ACCESSED.
}
else
{
    // THE IMAGE CANNOT BE ACCESSED.
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-11T05:41:02.327

```
function remote_file_exists($file){

$url=getimagesize($file);

if(is_array($url))
{

 return true;

}
else {

 return false;

}

$file='http://www.site.com/pic.jpg';

echo remote_file_exists($file);  // return true if found and if not found it will return false 
```

# jstree - Jstree 创建新节点时如何更改“新节点”标签？

> ID：14806164
> 
> 赞同：3
> 
> 时间：2013-02-11T05:02:32.727
> 
> 标签：jstree

我在创建新节点时使用 contextmenu 插件，然后有我自己的函数来使用 ajax 回发创建新节点。

```
$("#tree").jstree({
            //....

            "plugins": ["themes", "json_data", "crrm", "contextmenu", "dnd", "ui", "cookies"]
})
//...
.bind("create.jstree", function (e, data) {
             //...
             $.ajax({
                    type: "POST",
                    //...
                    });
}); 
```

单击“创建”时，我想将“新节点”的默认标签更改为“新文件夹”。任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2014-10-01T19:34:23.973

这是在 jsTree v.3 中更改字符串的方法。请注意，这与早期版本不同，因为关键是您要更改的文本（`'New node'`而不是`new_node`）：

```
$("#content_tree").jstree({
    core: {
        strings : {
            'New node': 'Your Text'
        }
    }
}); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-15T04:49:34.687

以下是更改上下文菜单选项的方法

```
$("#tree").jstree({
"plugins": ["themes", "html_data", "ui", "crrm", "contextmenu"],
"contextmenu": {
    "items": function ($node) {
        return {
            "Create": {
                "label": "New Folder",
                "action": function (obj) {
                    this.create(obj);
                }
            }
        };
    }
}
}); 
```

更新

您可以在 jquery.jstree.js 文件中找到这部分

```
if(!js.data) { js.data = this._get_string("new_node"); } 
```

将此部分更改为

```
if(!js.data) { js.data = this._get_string("new folder"); } 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-24T22:15:35.973

根据文档，您只需在核心设置中定义字符串参数。

例如：

```
 $("#content_tree").jstree({
            core: {
                animation: 100,
                strings : { loading : "Loading ...", new_node : "New folder" }
            },
            "plugins" : [ "themes", "html_data"]
        }); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2014-10-23T23:48:59.140

`create_node`初始化事件后添加行

```
data.node.text = 'My Custom Name'; 
```

例子：

```
$('#selector').jstree( ... ).on('create_node.jstree', function (e, data) {

   data.node.text = 'My Custom Name';

   ...

}); 
```

添加

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-19T07:09:18.353

感谢您的帮助。我将新节点更改为默认设置中 jquery.jstree.js 文件中的新文件夹，它可以正常工作。再次感谢你。

```
$.jstree.plugin("core", {
        __init : function () {
            this.data.core.locked = false;
            this.data.core.to_open = this.get_settings().core.initially_open;
            this.data.core.to_load = this.get_settings().core.initially_load;
        },
        defaults : { 
            html_titles : false,
            animation   : 500,
            initially_open : [],
            initially_load : [],
            open_parents : true,
            notify_plugins : true,
            rtl         : false,
            load_open   : false,
            strings     : {
                loading     : "Loading ...",
                new_node    : "New folder",
                multiple_selection : "Multiple selection"
            }
        }, 
```

# javascript - 如何使用给定数量的流执行顺序异步 ajax 请求

> ID：14806168
> 
> 赞同：7
> 
> 时间：2013-02-11T05:03:02.000
> 
> 标签：javascript, ajax

我需要使用有限的流进行顺序异步 ajax 请求。到目前为止，我只能在 Web 服务器上占用一个流，因此我一次只能执行一个 ajax 请求。

当我一次只能使用一个流时，我有以下功能可以帮助我。

```
function initiateChain() {
    var i = 0;
    var tasks = arguments;
    var callback = function () {
      i += 1;
      if (i != tasks.length) {
        tasks[i](callback); //block should call callback when done otherwise loop stops
      }
    }
    if (tasks.length != 0) {
      tasks[0](callback); //initiate first one
    }
  } 
```

假设我有三个 ajax 辅助函数

```
 function getGadgets(callback) {
         //ajax call
         callback(); // I call this in complete callback of $.ajax
 }

 function getBooks(callback) {
         //ajax call
         callback(); // I call this in complete callback of $.ajax
 }

 function getDeals(callback) {
         //ajax call
         callback(); // I call this in complete callback of $.ajax
 } 
```

以下调用确保来自该客户端的 ajax 请求不超过 1 个

```
initiateChain(getGadgets, getBooks, getDeals); 
```

现在我需要增强initialChain 以支持任意数量的流。假设我被允许使用 2 或 n 个流，我想知道这样做的想法，而无需更改 ajax 辅助函数 getGadgets、getDeals、getDeals。

简而言之，我有一组函数 N，在本例中是 getGadgets、getDeals 和 getDeals(|N|=3)，它们每个都需要连接到 Web 服务器。目前我一次只能执行一个请求，所以initialChain函数依次调用这三个方法。如果我可以访问 M 个连接，我想执行 |N| 并行函数（最多 M 个）。

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-06-25T11:11:46.683

如果您使用的是 jQuery，那么您可以使用它的[.queue](http://api.jquery.com/jQuery.queue/)方法来排队您的 ajax 调用，然后按顺序执行它们。要运行多个序列，您可以将初始出队包装在一个循环中。

```
function add_api_call_to_queue(qname, api_url) {
    $(document).queue(qname, function() {
        $.ajax({
            type     : 'GET',
            async    : true,
            url      : api_url,
            dataType : 'json',
            success  : function(data, textStatus, jqXHR) {
                // activate the next ajax call when this one finishes
                $(document).dequeue(qname);
            }
        });
    });
}

$(document).ready(function() {

    var queue_name       = 'a_queue';
    var concurrent_calls = 2;

    // add first AJAX call to queue
    add_api_call_to_queue(queue_name, '/example/api/books');

    // add second AJAX call to queue
    add_api_call_to_queue(queue_name, '/example/api/dvds');

    // add third AJAX call to queue
    add_api_call_to_queue(queue_name, '/example/api/shoes');

    // start the AJAX queue
    for (i=0;i<concurrent_calls;i++) {
        $(document).dequeue(queue_name);
    }

}) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-11T05:25:37.050

只要你的回调都是同步的，这应该对你有用，如果不是让你走上正确的轨道

```
var initiateChain = function () {

    var args = arguments,
        index = 0,
        length = args.length,
        process = function ( index ) {

            if ( index < length ) {
                $.ajax({
                    url: '/example.php',
                    complete: function () {
                        // Callbacks get run here
                        args[ index ];
                        process( ++index );
                    }

                });
            }

        };

    if ( length ) {
        process( 0 );
    }

};

initiateChain( getGadgets, getDeals, getDeals ); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-11T11:03:56.983

谢谢@James，我从你编辑的长度中得到了线索。因此，调用是异步 ajax 请求。所以这个想法是**预先**创建 M 个异步调用。然后他们将在每一个完成时继续这些。

我确实对nodejs进行了实验，并按照预期进行了initialChain

```
var calls = [];

function initiateChain() {
    var i = 0;
    var maxSteams = 2;
    var tasks = arguments;
    var callback = function () {
      i += 1;
      if (i < tasks.length) {
        tasks[i](callback); //block should call callback when done otherwise loop stops
      }
    }
    if (tasks.length) {
      i = ((tasks.length > maxSteams) ? maxSteams : tasks.length) - 1;
      for (var j = 0; j < maxSteams; j+=1) {
        if (j < tasks.length) {
          tasks[j](callback); //initiate first set
        } else {
          break;
        }
      }
    }
}

//test methods
for(var k = 0; k < 8; k+=1 ) {
  calls[k] = (function (message, index) {
    return function (callback) {
      var ts = new Date().getTime();
      console.log(message + " started - " + ts);
      setTimeout(function() {
        ts = new Date().getTime();
        console.log(message + " completed - " + ts);
        callback();
      }, index * 1000);
    };
  })("call" + (k+1), (k+1))
}

initiateChain(calls[0], calls[1], calls[2], calls[3], 
    calls[4], calls[5], calls[6], calls[7]); 
```

在我的实验中，我得到了以下结果

```
call1 started - 1360580377905
call2 started - 1360580377926

call1 completed - 1360580378937
call3 started - 1360580378937

call2 completed - 1360580379937
call4 started - 1360580379937

call3 completed - 1360580381945
call5 started - 1360580381945

call4 completed - 1360580383946
call6 started - 1360580383946

call5 completed - 1360580386959
call7 started - 1360580386959

call6 completed - 1360580389950
call8 started - 1360580389950

call7 completed - 1360580393972

call8 completed - 1360580397959 
```

# css - 在右侧添加 2 个侧边栏

> ID：14806169
> 
> 赞同：0
> 
> 时间：2013-02-11T05:03:05.010
> 
> 标签：css, layout

您好，我试图让我的网站主题（drupal zen）在右侧有两个侧边栏。正如您从我的链接中看到的那样，某个地方出了问题 [，我的网站出了问题](http://onlinebanter.com/chat)

我一直在摆弄各种各样的东西来让它对齐，但这让我发疯。心理还算。这一切都是我所不知道的负利润业务。

在我永远放弃尝试制作网站之前，任何人都可以为我提出任何修复建议。

谢谢

:(

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T05:09:12.397

这会将您的侧边栏容器移动到右侧，这是您想要的吗？

```
#sidebars-custom{float: right} 
```

这些将所需的宽度添加到您的内部侧边栏：

```
.region-sidebar-first {width: 200px}
.region-sidebar-second {width: 125px} 
```

# wpf - 在 datagridview 中引发事件以更新数据库以删除或更新 MVVM 方法

> ID：14806173
> 
> 赞同：2
> 
> 时间：2013-02-11T05:03:41.447
> 
> 标签：wpf, entity-framework, mvvm, datagridview

我想我遗漏了一些简单的东西，但我基本上是在做一个多步骤的方法来获取我的数据。让我通过一个更简单的版本来举例说明我正在做的事情。

1.  我有一个实现 INotifyPropertyChanged 的​​可观察集合
2.  Observable Collection 属于“POCO”类，它是一个简单的 POCO 类，由以下两个属性组成：

    ```
    PersonID int { get; set; }
    Name string { get; set; } 
    ```

3.  我有一个实体到 sql 数据模型，它映射一个简单的数据库表，该表包含 POCO 类中的相同元值，让我们说一个简单的例子，它具有三个行值：

    ```
    PersonID, Name
    1,  Brett
    2,  Emily
    3,  Test 
    ```

4.  可观察集合在 ModelView 中连接，如下所示：

    ```
    ObservableCollection<POCO> _Pocos;
    POCOEntities ee = new POCOEntities();

    public ObservableCollection<POCO> POCOs
    {
        get
        {
            if (_Pocos == null)
            {
                List<POCO> mes = this.GetPOCOs();
                _Pocos= new ObservableCollection<POCO>(mes);
            }

            return _Pocos;
        }
        set
        {
            _Pocos = value;

            OnPropertyChanged("POCOs");
        }
    }

    List<POCO> GetPOCOs()
    {
        return ee.vPOCO.Select(p => new POCOView()
            {
                PersonId = p.PersonID,
                Name = p.Name
            }).ToList();
    } 
    ```

5.  我也有一个像这样连接的当前项目。

    ```
    POCO _CurrentPOCO;

    public POCO CurrentPOCO
    {
        get { return _CurrentPOCO; }
        set
        {
            _CurrentPOCO = value;

            OnPropertyChanged("CurrentPOCO");
        }
    } 
    ```

6.  4 和 5 是 ModelView 的核心，我将它们连接到数据网格的视图，如下所示：

    ```
     <DataGrid x:Name="datagrid" 
          ItemsSource="{Binding POCOs}" 
          CurrentItem="{Binding CurrentPOCO}" /> 
    ```

7.  这是我没有得到的部分，如何近乎实时地更新数据库的实体模型？集合连接得很好并且正在更新，我如何告诉数据库发生了什么？如果我设置了一个像“CellEditEnding”或“SelectionChanged”这样的事件并尝试从我的实体模型中实现一个更新过程，它会在 ModelView 中爆炸。如果我只坚持它背后的代码可以工作，有点，但似乎没有捕捉到“之后”改变的价值。

即使使用 ICommand 属性并在 MVVM 中实现中继命令。这些方法都行不通。所以我很好奇我是不是想多了，他们的某种类型的界面你可以烤进去，这将为你刷新数据库。我可以处理插入文档，然后使用一种方法来填充或刷新数据网格，但我希望能够更改数据网格视图中的值并直接更新数据库。

**摘要：以最简单的方式，我只想在更改 datagridview 和 observablecollection 更改时更新数据库，以便两者相互同步。**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-14T14:36:10.260

这里有两类变化：

1.  集合更改，即添加和/或删除项目。要跟踪这些更改，请让您的 VM 监听`ObservableCollection`'`CollectionChanged`事件并使用`NewItems`和`OldItems`属性来确定要从数据库中添加和/或删除哪些数据。
2.  您的 POCO 实例之一的属性发生更改，例如您更改了一个人的姓名。像这样的更改不会触发`CollectionChanged`事件，因为集合本身仍然是相同的。

对于#2，我将为 POCO 类实现一个简单的 Viewmodel 来处理对其属性的更新。毕竟，您的 POCO 应被视为业务对象，不应直接暴露给视图。每个 PocoVM 都持有对单个 POCO 实例的引用。

# 编辑

我或多或少地添加了我在实验中使用的所有代码，除了存根数据库，因为我不知道你在使用什么以及它是如何工作的。只要它返回项目列表并且您可以告诉它更新单个项目，这并不重要。

***XAML*** 与您的相同，除了我添加了另一个网格（只读）以显示更改被我的*MysticalDBLayer*接受后。我也去掉了，`CurrentItem`因为我们将使用`PocoVM`来跟踪我们正在编辑的项目。

```
<Grid>
    <Grid.RowDefinitions>
        <RowDefinition />
        <RowDefinition Height="Auto"/>
        <RowDefinition />
        <RowDefinition Height="Auto"/>
    </Grid.RowDefinitions>
    <TextBlock>Input-Grid</TextBlock>
    <DataGrid Grid.Row="1"
              ItemsSource="{Binding POCOs}"/>

    <TextBlock Grid.Row="2">Readonly-Grid</TextBlock>
    <DataGrid Grid.Row="3"
              ItemsSource="{Binding POCOs, Mode=OneWay}"
              IsReadOnly="True"/>
</Grid> 
```

***查看模型（XAML 的 DataContext）*** 这就是该文件的全部内容。数据库连接可能会根据您使用的内容而有所不同，但基本上我有一个可观察的集合，我以与您相同的方式填充，除了我为每个 POCO 创建一个新的 PocoVM（视图模型）*并将新的 PocoVM 添加到`ObservableCollection`而不是 POCO本身*。

```
class VM
{
    ObservableCollection<PocoVM> _pocoCollection = new ObservableCollection<PocoVM>();

    public ObservableCollection<PocoVM> POCOs
    {
        get
        {
            if (_pocoCollection.Count == 0)
            {
                _pocoCollection = new ObservableCollection<PocoVM>();
                IEnumerable<POCO> pocos = MysticalDBLayer.GetItems();
                foreach (POCO poco in pocos)
                {
                    _pocoCollection.Add(new PocoVM(poco));
                }
            }
            return _pocoCollection;
        }
    }
} 
```

***最后是 PocoVM*** 每次您尝试更新其中一个单元格的值时（只有 name 将被更新：可以使用此代码，因为`Number`只有一个 getter），相应的 setter 将在此类中被调用。在这里，您可以对数据库进行写入，并根据是否成功采取行动。

```
class PocoVM : INotifyPropertyChanged
{
    private POCO _dataInstance = null;

    public PocoVM(POCO dataInstance)
    {
        _dataInstance = dataInstance;
    }

    public uint Number
    {
        get { return _dataInstance.Number; }
    }

    public string Name
    {
        get { return _dataInstance.Name; }
        set
        {
            if (string.Compare(value, _dataInstance.Name, StringComparison.CurrentCultureIgnoreCase) == 0)
                return;

            if (!MysticalDBLayer.UpdatePoco(_dataInstance, new POCO(_dataInstance.Number, value)))
                return;

            _dataInstance.Name = value;
            OnPropertyChanged("Name");
        }
    }

    public event PropertyChangedEventHandler PropertyChanged;

    void OnPropertyChanged(string property)
    {
        if (PropertyChanged == null)
            return;

        PropertyChanged(this, new PropertyChangedEventArgs(property));
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T05:21:06.450

如果我理解正确，您只需要使用**ObservableCollection的****CollectionChanged**事件。

 **事件参数包含**操作**（添加/删除...），您也可以获得**NewItems**和**OldItems**。

因此，您可以跟踪集合的更改并与您的数据库进行同步。我希望我能帮助你。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-11T05:30:10.983

创建自己的`ObservableCollection`覆盖`InsertItem()`和`RemoveItem()`方法：

```
public class CustomerCollection : ObservableCollection<Customer>
{
    private DataContext _db;

    public DataContext Db
    {
      get { return _db; }
    }

    public CustomerCollection(IEnumerable<Customer> customers, DataContext context)
      : base(customers)
    {
      _db = context;
    }

    protected override void InsertItem(int index, Customer item)
    {
      this.Db.AddToCustomers(item);
      this.Db.SaveChanges();
      base.InsertItem(index, item);
    }

    protected override void RemoveItem(int index)
    {
      this.Db.DeleteObject(this[index]);
      this.Db.SaveChanges();
      base.RemoveItem(index);
    }

} 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-02-13T19:42:38.840

这类似于我刚刚在[WPF datagrid with MVVM](https://stackoverflow.com/questions/7007389/wpf-datagrid-with-mvvm)中回答的问题。（因为我是这个网站的新手，所以我会复制答案）

您应该使用**ListCollectionView**。

这是一个示例，展示了如何执行此操作：

1) 创建一个名为*ListCollectionViewTest的新 WPF 项目*

2）在 MainWindow.xaml.cs 中剪切&粘贴以下内容（应该在 ViewModel 但我太懒了）

```
 using System.Collections.Generic;
    using System.Linq;
    using System.Windows;
    using System.Windows.Data;

    namespace ListCollectionViewTest
    {
        /// <summary>
        /// Interaction logic for MainWindow.xaml
        /// </summary>
        public partial class MainWindow : Window
        {
            private List<Employee> equivalentOfDatabase = new List<Employee>()
                        {
                            new Employee() { FirstName = "John", LastName = "Doe", IsWorthyOfAttention = true },
                            new Employee() { FirstName = "Jane", LastName = "Doe", IsWorthyOfAttention = true },
                            new Employee() { FirstName = "Mr.", LastName = "Unsignificant", IsWorthyOfAttention = false },
                        };

            public ListCollectionView TestList { get; set; }
            public MainWindow()
            {
                DataContext = this;

                // This is all the magic you need -------
                TestList = new ListCollectionView(equivalentOfDatabase);
                TestList.Filter = x => (x as Employee).IsWorthyOfAttention;

                InitializeComponent();
            }

            private void Button_Click(object sender, RoutedEventArgs e)
            {
                MessageBox.Show(equivalentOfDatabase.Aggregate("Employees are: \n\r", (acc, emp) => acc + string.Format("    - {0} {1}\n\r", emp.FirstName, emp.LastName), x => x));
            }
        }

        public class Employee
        {
            public string FirstName { get; set; }
            public string LastName { get; set; }
            public bool IsWorthyOfAttention { get; set; }
        }
    } 
```

3）在 MainWindow.xaml 中剪切并粘贴：

```
 <Window x:Class="ListCollectionViewTest.MainWindow"
            xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
            xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
            Title="MainWindow" Height="350" Width="525">

        <StackPanel>
            <DataGrid ItemsSource="{Binding TestList}"
                      RowHeight="22"
                      AutoGenerateColumns="True">
            </DataGrid>
            <Button Content="Show All Employees in DB" Click="Button_Click" />
        </StackPanel>        
    </Window> 
```**

# css - Maining 子 Div 定位

> ID：14806177
> 
> 赞同：0
> 
> 时间：2013-02-11T05:04:32.520
> 
> 标签：css, html, twitter-bootstrap, positioning

我无法找到解决我的问题的方法。

我正在处理页面的页脚。从左到右在一行中，有一个免责声明 div，然后是一个包含 FaceBook 和 Twitter 按钮的父 div。

![蓝色 ~ 免责声明 div，粉色 ~ 父 div，红色 ~ twitter 按钮的颜色； facebook 按钮没有单独的颜色](../Images/23507fb9d42ba7dcafda6d9746ccf9c5.png)

（蓝色 ~ 免责声明 div，粉色 ~ 父 div，红色 ~ twitter 按钮的颜色；facebook 按钮没有单独的颜色）。
目标是让 Twitter 按钮始终位于 FaceBook 按钮的右侧。

免责声明 div 设置为最小尺寸（页面使用 Twitter Bootstrap），因此当它调整到足够小的大小时，按钮的父 div 将移动到免责声明 div 下方的下一行。
我遇到的问题是，当此按钮父 div 向下移动时，Twitter 按钮会从父 div 中弹出，并在列中的 FaceBook 按钮下方布置。

![这就是页面上的问题](../Images/c3b090e459d1543efac883900898997b.png)

页脚本身的代码：

```
<div class="container">
  <div id="footer" class="row">
    <div class="span9 footer-leftspan">
       <xsl:copy-of select="data/footer-content/entry/content" />
    </div>

    <div class="row">
      <div class="span3 social-media-footer">
        <div id='face' class="span1">

      <!-- FaceBook Button -->
          <a class="button-link" href="http://www.facebook.com/pages/...." target="_blank">
      <img id="fb-btn" class="social-img" src="/f.svg" alt="...." />
      </a>

    </div>

        <!-- Twitter Button -->
    <div id='twitt' class="span1">
      <a class="button-link" href="https://twitter.com/...." target="_blank">
      <img id="twitt-btn" class="social-img" src="/t.svg" alt="...." />
      </a>
    </div>

      </div>
    </div>

  </div>
</div> 
```

除了任意着色之外，按钮或其父 div 上没有特定的 CSS 规则。
我真的不知道这个，我能找到的唯一看似可行的解决方案涉及将按钮定位为绝对或固定，这两种方法都不能将它们放在页脚中的父级中。
我希望帮助完成的主要目标是让 Twitter 按钮在调整大小时保持在父 div 中。
有任何想法吗？并提前感谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T13:27:16.423

看看这是否适合你：http: [//jsfiddle.net/panchroma/yX4ZV/](http://jsfiddle.net/panchroma/yX4ZV/)

我已经稍微编辑了您的 HTML，以便 twitter 和 facebook 图标位于同一跨度中，而不是嵌套网格中的单独跨度。这样做可以解决台式机和智能手机窗口大小的问题，但不能解决平板电脑的问题。

为了解决平板电脑问题，我将两个图标包装在一个类中，我强制它具有最小宽度：

**HTML**

```
<div class="container">
<div id="footer" class="row">
<div class="span9 footer-leftspan">
   <xsl:copy-of select="data/footer-content/entry/content" />
</div> <!-- close span9 -->

  <div class="span3 social-media-footer">

<div class="social-wrapper">
  <!-- FaceBook Button -->
      <a class="button-link" href="http://www.facebook.com/pages/...." target="_blank">
  <img id="fb-btn" class="social-img" src="https://dl.dropbox.com/u/2665617/bootstrap/images/facebook.jpg" alt="...." />
  </a>

    <!-- Twitter Button -->

  <a class="button-link" href="https://twitter.com/...." target="_blank">
  <img id="twitt-btn" class="social-img" src="https://dl.dropbox.com/u/2665617/bootstrap/images/twitter.jpg" alt="...." />
  </a>
</div><!-- close social-wrapper -->

  </div> <!-- close span3 -->
</div> <!-- close row -->

</div><!-- close container --> 
```

**CSS**

```
.social-wrapper{
min-width:185px !important; /* adjust as necessary depending on icon sizes */
} 
```

祝你好运！

# ruby-on-rails - Rails STI：ActiveRecord PUT 事务有效，但字段不更新？

> ID：14806184
> 
> 赞同：1
> 
> 时间：2013-02-11T05:04:57.707
> 
> 标签：ruby-on-rails, activerecord, sti

我第一次使用 STI 创建应用程序，但我偶然发现了一个令人费解的障碍。

给定以下两个具有继承的模型：

```
User.rb
class User < ActiveRecord::Base
attr_accessible :email, :first_name, :last_name, #more follows

Waiter.rb
class Waiter < User 
```

我在 /waiters/users/[:id]/edit 上做了一个表格，它执行以下操作：

```
<%= simple_form_for @user, 
      :url => { :controller => "admin/waiters/users", :action => "update"} do |f| %>
 <%= f.input :first_name %>
 <%= f.input :last_name %>
 <%= f.input :email %>
 <%= f.input :start_date %>
 <%= f.button :submit, "Save", class: "btn btn-primary"%>
<% end %> 
```

但是，按下提交是通过发布请求但无法更新实际数据。还是因为路线不对？请参阅下面的 SQL 转储：

```
Started PUT "/admin/waiters/users/6" for 127.0.0.1 at 2013-02-10 20:45:59 -0800
Processing by Admin::Waiters::UsersController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"6EB82/aWryLgj/tZcvoOWmw98PAPmJYUViAQronv6Fw=", "waiter"=>{"first_name"=>"John", "last_name"=>"Smith", "email"=>"john@foobaz.com"}, "commit"=>"Save", "id"=>"6"}
  User Load (0.6ms)  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  Role Load (0.5ms)  SELECT "roles".* FROM "roles" INNER JOIN "user_roles" ON "roles"."id" = "user_roles"."role_id" WHERE "user_roles"."user_id" = 1
  Waiter Load (0.6ms)  SELECT "users".* FROM "users" WHERE "users"."id" = 6 LIMIT 1
   (0.1ms)  BEGIN
  User Exists (0.4ms)  SELECT 1 AS one FROM "users" WHERE ("users"."email" = 'john@foobaz.com' AND "users"."id" != 6) LIMIT 1
  CACHE (0.0ms)  SELECT 1 AS one FROM "users" WHERE ("users"."email" = 'john@foobaz.com' AND "users"."id" != 6) LIMIT 1
   (2.4ms)  UPDATE "users" SET "perishable_token" = 'FplOAv6d4eOBv0gHW3b', "updated_at" = '2013-02-11 04:45:59.206797' WHERE "users"."id" = 6
   (0.7ms)  COMMIT
Redirected to http://localhost:3000/admin/waiters/users 
```

控制器似乎在更新操作后重定向得很好，但数据没有保存。我在这里想念什么？感谢对 Rails 初学者的帮助。

**这是在 controllers/admin/waiters/ 中找到的用户控制器**

```
 def edit
    form_info
    @user = Waiter.find(params[:id])
  end

  def update
    @user = Waiter.find_by_id(params[:id])
    if @user.update_attributes(params[:user])
      flash[:notice] = "Successfully assigned Waiter."
      redirect_to admin_waiters_users_url()
    else
      form_info
      render :action => 'edit'
    end
  end 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-11T05:42:39.807

问题是您从 params 哈希中提取了错误的值。查看日志：

```
Parameters: {"utf8"=>"✓", "authenticity_token"=>"6EB82/aWryLgj/tZcvoOWmw98PAPmJYUViAQronv6Fw=", "waiter"=>{"first_name"=>"John", "last_name"=>"Smith", "email"=>"john@foobaz.com"}, "commit"=>"Save", "id"=>"6"} 
```

更新的属性通过`waiter`密钥进行散列。现在看看你的更新代码：

```
if @user.update_attributes(params[:user]) 
```

你得到`params[:user]`. 由于您使用的是 STI，我假设您想保留 params[:user]，因此您需要更改服务员的表单代码。你应该做：

```
<%= simple_form_for @user, as: :user,
      :url => { :controller => "admin/waiters/users", :action => "update"} do |f| %> 
```

# android - 如何从android中的soap响应中获取值？

> ID：14806187
> 
> 赞同：2
> 
> 时间：2013-02-11T05:05:13.063
> 
> 标签：android, web-services, ksoap2

以下用于 web 服务响应的 xml 标记，我不知道如何解析它..帮助我..

```
<NewDataSet>
            <JOBLIST>
            <CSIDNO>CS13224</CSIDNO>
            <PName>Selva</PName>
            <HouseID>G 34</HouseID>
            <NAME>Dilipan</NAME>
            <Address>Coimbatore</Address>
            </JOBLIST>
            <JOBLIST>
            <CSIDNO>CS13224</CSIDNO>
            <PName>Selva</PName>
            <HouseID>G 35</HouseID>
            <NAME>Kanrupannan</NAME>
            <Address>Coimbatore</Address>
            </JOBLIST>
            </NewDataSet> 
```

我正在使用以下java代码.....

```
for(int i=0;i<result.getPropertyCount();i++)
        {
            SoapObject ob=(SoapObject)result.getProperty(i);
            homeid[i]=String.valueOf(ob.getProperty("HouseID"));
            namearr[i]=String.valueOf(ob.getProperty("NAME"));
            address[i]=String.valueOf(ob.getProperty("Address"));
            csidno[i]=String.valueOf(ob.getProperty("CSIDNO"));

        } 
```

如何从xml标签中获取值..

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T05:12:05.407

为什么使用 Soap 有多种解析方法，您可以使用其中一种。解析方法有 SAXParser、Json 解析器、DOM 解析器、XML 拉取解析器。在您的情况下，SAX 解析器将很好地解析。看到[这个](http://www.jondev.net/articles/Android_XML_SAX_Parser_Example)和[这个](http://androidtutorials60.blogspot.in/2011/10/android-xml-parsing-tutorial-using.html) 教程。它将帮助您解析您收到的 xml。让我知道他们是否对您有帮助

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T05:26:31.393

它非常简单，您必须将响应作为字符串获取并使用模式匹配来提取您需要的详细信息>请参阅这篇文章希望它可以帮助您并理解它。

```
String r = NameArray.columncount("userid", limitstart, loadNumber,loggername);
String temp = r.replaceAll(";\\s", ",").replaceAll("string=", " ")
.replace("anyType{", "").replace(",}", "");
enter code here 
```

检查此链接以获取分步说明 [http://amalan008.blog.com/2013/02/07/how-to-process-an-array-returned-by-a-wsdl-android/](http://amalan008.blog.com/2013/02/07/how-to-process-an-array-returned-by-a-wsdl-android/)

# xslt - 如何在 xslt 中使用参数

> ID：14806189
> 
> 赞同：0
> 
> 时间：2013-02-11T05:05:18.537
> 
> 标签：xslt, xslt-1.0

我正在尝试在 xml 文件中打印标题和 dob 列表。但我在代码中找不到错误。我正在尝试这个以准确了解参数在 xsl 中的工作方式

这是xml代码

```
<?xml-stylesheet type="text/xsl" href="aa.xslt"?> 
<tutorial>
    <section>
    <title>Gene Splicing for Young People</title>
    <panel>
        <title>Introduction1</title>
        <dob>86</dob>
        <dof>86</dof>
    <!-- ... -->
    </panel>
    <panel>
    <title>Discovering the secrets of life and creation</title>
    <dob>85</dob>
    <!-- ... -->
    </panel>
    <panel>
    <title>"I created him for good, but he's turned out evil!"</title>
    <dob>84</dob>
    <!-- ... -->
    </panel>
    <panel>
    <title>When angry mobs storm your castle</title>
    <dob>88</dob>
    <!-- ... -->
    </panel>
    </section>
</tutorial> 
```

这是xslt代码

```
<?xml version="1.0" encoding="utf-8"?>
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
    xmlns:msxsl="urn:schemas-microsoft-com:xslt" exclude-result-prefixes="msxsl">
<xsl:template match="tutorial/section/panel">

  <xsl:call-tempate name="boo">
      <xsl:with-param name="myname" select="title" />
      <xsl:with-param name="mydob" select="dob" />
  </xsl:call-template>

</xsl:template>

 <xsl:template name="boo">
  <xsl:param name="myname" select="'Not Available'" />
  <xsl:param name="mydob" select="'Not Available'" />
  <div>
  NAME: <xsl:value-of select="$myname" />
  <br />
  DOB: <xsl:value-of select="$mydob" />
  <hr />
  </div>
</xsl:template> 
</xsl:stylesheet> 
```

期望输出是，Introduction1 86

发现.... 85

等等。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T05:12:58.913

看起来您正在尝试输出面板的标题，因此请尝试更改：

```
<xsl:template match="tutorial/section"> 
```

至：

```
<xsl:template match="tutorial/section/panel"> 
```

**编辑**

如果您在显示“不可用”时遇到问题，那是因为您在元素不存在时向参数传递了一个空字符串并且它会覆盖默认值。

您可以执行以下操作：

```
<xsl:template match="tutorial/section/panel">
    <xsl:call-template name="boo">
        <xsl:with-param name="myname">
            <xsl:choose>
                <xsl:when test="title">
                    <xsl:value-of select="title"/>
                </xsl:when>
                <xsl:otherwise>Not Available</xsl:otherwise>
            </xsl:choose>
        </xsl:with-param>
        <xsl:with-param name="mydob">
            <xsl:choose>
                <xsl:when test="dob">
                    <xsl:value-of select="dob"/>
                </xsl:when>
                <xsl:otherwise>Not Available</xsl:otherwise>
            </xsl:choose>               
        </xsl:with-param>
    </xsl:call-template>
</xsl:template> 
```

或类似的东西：

```
<xsl:template match="tutorial/section/panel">
    <xsl:choose>
        <xsl:when test="title and dob">
            <xsl:call-template name="boo">
                <xsl:with-param name="myname" select="title" />
                <xsl:with-param name="mydob" select="dob" />
            </xsl:call-template>
        </xsl:when>
        <xsl:when test="dob">
            <xsl:call-template name="boo">
                <xsl:with-param name="mydob" select="dob" />
            </xsl:call-template>                
        </xsl:when>
        <xsl:when test="title">
            <xsl:call-template name="boo">
                <xsl:with-param name="myname" select="title" />
            </xsl:call-template>                
        </xsl:when>
        <xsl:otherwise>
            <xsl:call-template name="boo"/>
        </xsl:otherwise>
    </xsl:choose>
</xsl:template> 
```

# sql - 使用 vb.net 数据表和数据行功能在 sql 数据库中插入一条记录

> ID：14806190
> 
> 赞同：0
> 
> 时间：2013-02-11T05:05:32.997
> 
> 标签：sql, vb.net

我正在尝试使用 vb.net 数据适配器、数据表和数据行功能在 sql 数据库中插入一条记录。我使用以下代码，但它给了我一个错误：

`Object reference not set to an instance of an object`

```
Imports System.Data.SqlClient
Public Class Form1  
    Private Sub Button1_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles Button1.Click

        Dim cn As New SqlConnection("Data Source=.\SQLEXPRESS;Initial Catalog=drpractice;Integrated Security=True")
        Dim da As New SqlDataAdapter
        Dim ds As New DataSet

        Try
            cn.Open()
            da.SelectCommand = New SqlCommand("SELECT * FROM [emp_tbl]", cn)
            da.Fill(ds) 
            Dim dt As New DataTable
            dt = ds.Tables("emp_tbl")

            'Error in this line(Object reference not set to an  instance of an object)'
            Dim dr As DataRow = dt.NewRow() 

            dr.Item("emp_id") = TextBox1.Text.Trim
            dr.Item("emp_name") = TextBox2.Text.Trim
            dr.Item("salary") = TextBox3.Text.Trim
            dr.Item("age") = TextBox4.Text.Trim
            dr.Item("emp_group") = TextBox5.Text.Trim
            dt.Rows.Add(dr)
            da.Update(ds)
            MsgBox("Record Successfully Inserted")
        Catch ex As Exception
            MsgBox(ex.Message)
        End Try
    End Sub
End Class 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-12-11T14:11:17.653

您所做的一切都很好，但更改了以下行：

```
da.Update(ds) 
```

如下：

```
Dim ESCBuilder As SqlCommandBuilder = New SqlCommandBuilder(da)
    ESCBuilder.GetUpdateCommand()
    da.UpdateCommand = ESCBuilder.GetUpdateCommand()
    da.Update(ds) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-24T14:33:37.387

看看这个：Dim dr As DataRow = new dt.NewRow()

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-04-12T04:14:11.347

```
Imports System.Data.SqlClient
Public Class Form4
    Dim con As New SqlConnection
    Dim cmd As New SqlCommand
    Dim str As String
    Dim count As Integer

    Private Sub Button1_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles Button1.Click
        con = New SqlConnection("server=SHREE-PC;database=Hospital;INTEGRATED SECURITY=SSPI;")
        con.Open()
      ‘  cmd = New SqlCommand("select * from Doctor", con)
        str = "insert into Doctor values('" & TextBox1.Text & "','" & TextBox2.Text & "','" & TextBox3.Text & "' )"
        cmd = New SqlCommand(str, con)
        count = cmd.ExecuteNonQuery()
        MessageBox.Show(count & " Record inserted")

       con.close()
    End Sub

Imports System.Data.SqlClient
Public Class Form4
    Dim con As New SqlConnection
    Dim cmd As New SqlCommand
    Dim str As String
    Dim count As Integer
   Private Sub Button2_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles Button2.Click
     con = New SqlConnection("server=SHREE-PC;database=Hospital;INTEGRATED SECURITY=SSPI;")
        con.Open()
        cmd = New SqlCommand("select * from Patient", con)
        cmd = New SqlCommand("Delete from Patient where Name ='" & TextBox1.Text & "'", con)
        cmd = New SqlCommand("Delete from Patient where Address='" & TextBox2.Text & "'", con)
        cmd = New SqlCommand("Delete from Patient where Dieses='" & TextBox3.Text & "'", con)
        cmd = New SqlCommand("Delete from Patient where Patient_no=" & TextBox4.Text & "", con)
‘you can take any row in your program
        count = cmd.ExecuteNonQuery()
        MessageBox.Show("Record Deleted")
    End Sub 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-02-26T19:58:09.517

根据此处和其他地方的反馈，以下代码对我有用：

```
 TestDataSet.GetChanges()
    testTableAdapter.Fill(TestDataSet.log_test)
    log_testDataGridView.Refresh() 
```

我需要做的是，创建一个新行，然后获取主键的下一个值（VARCHAR，NOT INT，因为修订版在 PK 后附加了一个“R”......不是我的规则......规则该公司的）。

我想让刷新接近 PK 的获得，这是我在为新数据行分配值之后最后一次获得的，因此它将获得最新的 Max +1。

因此，我将上面的代码放在查找 PK 之前，以及在为数据行分配值之后，而不是 PK。上面的代码导致数据行空白。因此，我将上述代码放在创建新 DataRow 之前。

对于我的代码，这导致代码从 SQL 表中获取最新的数据，然后添加新的数据行，最后确定最后的 PK。因为用于填充数据行的数据不在我的表单中，并且没有计算，所以代码运行速度足够快，可以满足我的需要。我怀疑，如果与我的数据库的连接速度很慢，和/或运行同一进程的人数很多，我会遇到错误，例如重复 PK。

我对此的回答是将数据行字段值分配给变量，运行刷新，然后将变量分配给字段并立即保存。

也许另一种方法是获取新的 PK，然后保存一个空记录，然后填充记录，除了我表中的足够字段是必需的，所以我不妨先尝试创建空白记录。

# php - Mysql Php结合3个表

> ID：14806192
> 
> 赞同：2
> 
> 时间：2013-02-11T05:05:39.583
> 
> 标签：php, mysql

基本上在这个网络应用程序中，我有一个事件模块，用户可以在其中创建、编辑和删除事件，也可以上传该事件的照片。`I'm in`其他用户可以通过选择按钮或仅提及事件来参与特定事件`Sound's Cool`。现在有 3 个表`event_photo`（用户上传的图片将保存在这里），`event_in`并且`event_cool`，现在我需要一个事件活动提要，为此我需要通过将所有 3 个表分组为`photo`和`in`来组合它们`cool`。所以我需要建议是否创建一个表来列出这些活动，或者我应该将所有结果合并到 php.ini 中。以前我将所有 2 个结果合并到一个表中，但现在我想尝试一些不同的东西。有表结构。

event_photo 表

```
id      photo_url      business_id     event_id         user_id    caption    added_date
1         1111             12             2                3       test1      20130209t1
2         1122             13             3                4       test2      20130209t4
3         1133             14             2                3       test3      20130209t2 
```

event_in 表

```
id  event_id    user_id    date_created
1         2                3       20130209t3 
```

event_cool

```
id  event_id    user_id  date_created
1         2               4        20130209t5
2         3               3        20130209t6 
```

现在提要将是这样的，基于`date_created desc` `t6 -> t1`

```
User_3 says cool for  Event_3
User_4 says cool for  Event_2
User_4 added photo for Event_3
User_3 added photo for Event_2
User_3 attending  Event_2
User_3 added photo for Event_2
User_3 added photo for Event_2 
```

现在应该如何设计表格，我希望这是重要的问题，因为这可以解决有关活动提要的许多问题。谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T05:31:35.630

您当然可以使用 UNION：http: [//dev.mysql.com/doc/refman/5.1/en/union.html](http://dev.mysql.com/doc/refman/5.1/en/union.html)但是，这很慢。最好创建下一个表，比如活动日志，只存储：

*   entity_type (in/cool/photo)
*   entity_id（目标表中行的id）
*   event_id
*   用户身份
*   日期

并通过此选择。选择后，为每个目标表单独收集所有 ID，并从作为索引数组返回的表中获取必要的信息（如果需要）。Foreach 活动提要并为其分配所需的正确数据。

希望这可以帮到你。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-11T09:30:52.750

一个选项是让您的三个表并使用类似于以下内容的查询它们：

```
 SELECT *
    FROM
         ( SELECT user_id, 
                  event_id, 
                  date_added as date_created,
                  'photo' as type
             FROM event_photo
            UNION
           SELECT user_id, 
                  event_id, 
                  date_created,
                  'event_in' as type
             FROM event_in
            UNION
           SELECT user_id, 
                  event_id, 
                  date_created,
                  'event_cool' as type
             FROM event_cool
         ) s
  ORDER BY date_created 
```

为了简化您的代码，您可以创建一个视图：

```
CREATE OR REPLACE VIEW v_ordered_actions AS
  SELECT *
    FROM
         ( SELECT user_id, 
                  event_id, 
                  date_added as date_created,
                  'photo' as type
             FROM event_photo
            UNION
           SELECT user_id, 
                  event_id, 
                  date_created,
                  'event_in' as type
             FROM event_in
            UNION
           SELECT user_id, 
                  event_id, 
                  date_created,
                  'event_cool' as type
             FROM event_cool
         ) s
  ORDER BY date_created; 
```

# java - 强制比较器为子类工作

> ID：14806198
> 
> 赞同：3
> 
> 时间：2013-02-11T05:06:17.160
> 
> 标签：java, generics, casting

在实践中，执行以下操作是否安全？

```
public static <T> Comparator<T> downcast(final Comparator<? super T> orig) {
    @SuppressWarnings("unchecked")
    Comparator<T> casted = (Comparator<T>) orig;
    return casted;
} 
```

这是一个人为的用法示例：

```
public static <T> Comparator<T> chainComparators(final Comparator<? super T> a,
        final Comparator<? super T> b) {
    if (a == null) {
        return downcast(b);
    }
    if (b == null) {
        return downcast(a);
    }
    return new Comparator<T>() {
        @Override
        public int compare(T o1, T o2) {
            int i = a.compare(o1, o2);
            if (i == 0) {
                i = b.compare(o1, o2);
            }
            return i;
        }
    };
}

public static Comparator<Integer> ODD_FIRST_COMPARATOR = new Comparator<Integer>() {
    @Override
    public int compare(Integer i1, Integer i2) {
        boolean isEven1 = (i1.intValue() % 2) == 0;
        boolean isEven2 = (i2.intValue() % 2) == 0;
        return Boolean.compare(isEven1, isEven2);
    }
};

public static Comparator<Number> ABS_NUMBER_COMPARATOR = new Comparator<Number>() {
    @Override
    public int compare(Number n1, Number n2) {
        double d1 = Math.abs(n1.doubleValue());
        double d2 = Math.abs(n2.doubleValue());
        return Double.compare(d1, d2);
    }
};

public static void main(String[] args) {
    Comparator<Integer> comp = null;
    comp = chainComparators(comp, ODD_FIRST_COMPARATOR);
    comp = chainComparators(comp, ABS_NUMBER_COMPARATOR);

    List<Integer> list = new ArrayList<Integer>();
    list.add(-42);
    list.add(-23);
    list.add(-15);
    list.add(-4);
    list.add(8);
    list.add(16);

    Collections.sort(list, comp);
    System.out.println(list); // prints [-15, -23, -4, 8, 16, -42]
} 
```

我知道我可以`chainComparators()`return`Comparator<? super T>`而不是 using `downcast()`，或者我可以将所有代码更改为不使用或显式检查 null 比较器（这也消除了使用向下转换的需要），但这些更改似乎都不值得为庞大的代码库。`downcast()`是否存在任何一种或`chainComparators()`将失败的合理情况？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-11T06:57:33.680

如果您不想要未经检查的警告，您可以随时这样做：

```
public static <T> Comparator<T> downcast(final Comparator<? super T> orig) {
    return new Comparator<T>() {
        @Override
        public int compare(T o1, T o2) {
            return orig.compare(o1, o2);
        }
    };
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-11T05:55:41.500

它应该是安全的，因为`Comparator`它是一个消费者，这意味着 的实例`T`仅作为参数传递，并且从不返回。

据我所知，您的代码很好。

# php - 解析错误 - 语法错误

> ID：14806199
> 
> 赞同：-5
> 
> 时间：2013-02-11T05:06:17.293
> 
> 标签：php, syntax-error

我正在尝试安装一个 PHP 脚本并且几乎已经安装了它，但是安装的最后一步给了我一个空白的白页，其中包含以下错误消息：

解析错误：语法错误，意外的 ';' 在第 83 行的 /home/user/public_html/install/step5.php

这是第 81、82 和 83 行...如您所见，第 83 行甚至没有太多内容，但它会产生上述错误：

```
require_once( '../vars.php' );
mysql_query( 'SHOW TABLES' );
$res = ; 
```

这可能是什么原因造成的？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T05:07:18.373

```
$res = ; 
```

不是有效的语法。你需要设置`$res`为等于某事。

# javascript - 禁用输入字段中的某些字符

> ID：14806200
> 
> 赞同：30
> 
> 时间：2013-02-11T05:06:18.563
> 
> 标签：javascript, jquery, html

我发现了一些类似的指令，但没有任何帮助，所有这些指令要么用于特殊字符，要么用于数字。

我只需要让用户输入 1 , 2 , 3, 4, 5, N, O, A, B, C 。所有其他字符都应受到限制。

有什么方法可以让我自己选择限制/允许的输入字符？

*   对javascript不是很熟悉。

* * *

## 回答 #1

> 赞同：29
> 
> 时间：2013-02-11T05:22:44.543

使用 JQuery，

```
$("input").keypress( function(e) {
    var chr = String.fromCharCode(e.which);
    if ("12345NOABC".indexOf(chr) < 0)
        return false;
}); 
```

没有 JQuery

```
document.getElementById("foo").onkeypress = function(e) {
    var chr = String.fromCharCode(e.which);
    if ("12345NOABC".indexOf(chr) < 0)
        return false;
}; 
```

对于一个班轮，来自@mplungjan 和@matthew-lock 的评论

```
document.querySelector("#foo").onkeypress = function(e) {
    return "12345NOABC".indexOf(String.fromCharCode(e.which)) >= 0;
}; 
```

* * *

## 回答 #2

> 赞同：22
> 
> 时间：2013-02-11T05:26:03.110

尝试这个

```
$(function(){
  $('#txt').keypress(function(e){
    if(e.which == 97 || e.which == 98 || e.which == 99 || e.which == 110 || e.which == 111 || e.which == 65 || e.which == 66 || e.which == 67 || e.which == 78 || e.which == 79 || e.which == 49 || e.which == 50 || e.which == 51 || e.which == 52 || e.which == 53){
    } else {
      return false;
    }
  });
});
```

```
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<input type='text' id='txt' value='' onpaste="return false" />
```

**2018 年 3 月 9 日更新**

```
$(function(){
  $('#txt').keypress(function(e){
    // allowed char: 1 , 2 , 3, 4, 5, N, O, A, B, C
    let allow_char = [97,98,99,110,111,65,66,67,78,79,49,50,51,52,53];
    if(allow_char.indexOf(e.which) !== -1 ){
      //do something
    }
    else{
      return false;
    }
  });
});
```

```
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<input type='text' id='txt' value='' onpaste="return false" />
```

**2020 年 11 月 25 日更新**

```
let textarea = document.getElementById('txt');

textarea.addEventListener('keydown', (e) => {
  if(['1','2','3','4','5', 'N', 'O', 'A', 'B', 'C'].indexOf(e.key) !== -1){
    // do something
  } else {
    e.preventDefault();
  }
}); 
```

[CodePen 演示](https://codepen.io/pintu1611/pen/VwKZrKJ)

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2018-07-05T11:58:53.793

您是否要限制使用无效值提交的表单，或者从字面上阻止用户甚至输入这些值，这并不是 100% 清楚的。其他答案涉及后者，我认为这*就是*您的意思，但是会有人（像我一样）到达这里，他们只想阻止表单提交。

在这种情况下：

在元素上使用`pattern`属性：`input`

```
<input pattern="[REGEX HERE]"> 
```

[https://developer.mozilla.org/en-US/docs/Learn/HTML/Forms/Form_validation](https://developer.mozilla.org/en-US/docs/Learn/HTML/Forms/Form_validation)

[https://regex101.com/](https://regex101.com/)

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2019-03-20T14:57:04.323

html

```
<input type="text" name="" value="" id="testr">
<script type="text/javascript" src="testkeydown.js"></script> 
```

javascript

```
document.getElementById('testr').addEventListener('keydown', function(e) {
    const regex = RegExp('[0-9a-zA-Z]');

    if (!regex.test(e.key) && e.key != 'backspace') {
        e.preventDefault();
    }
}); 
```

在上面的代码示例中，您会看到一段代码禁用了普通 js 中大多数不在 0-9、az、AZ 之间的字符。

如果你想更多地研究它，你可以谷歌 mdn keydown 事件并寻找 Morzilla 开发者网络。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2017-05-28T15:33:03.283

如果您想禁用输入字段中的几个字符，您可以执行以下操作：

```
<input type="text" onkeydown="return (event.keyCode!=86);"/> 
```

86 是 V 的代码。从以下链接检查其他键的代码。

[https://www.cambiaresearch.com/articles/15/javascript-char-codes-key-codes](https://www.cambiaresearch.com/articles/15/javascript-char-codes-key-codes)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2021-02-02T15:53:51.677

# 使用模式属性

它不会阻止用户输入不需要的字符，但是当他们提交表单时，您甚至可以自定义一个简洁的错误消息。请参阅下面的代码：

```
<input pattern="[1-5A-CNO].*" title="You can only use the following characters: 1 , 2 , 3, 4, 5, N, O, A, B, C"> 
```

源/沙箱试用： [https ://www.w3schools.com/tags/tryit.asp?filename=tryhtml5_input_pattern](https://www.w3schools.com/tags/tryit.asp?filename=tryhtml5_input_pattern)

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2020-06-05T08:34:00.223

如果有人正在寻找纯 js 解决方案：您需要像这样阻止 onkeydown 事件的密钥

HTML

```
<input type="text" name="" value="" onkeydown="preventSomeKeys(event)"> 
```

Javascript

```
function preventSomeKeys(event){
  var keyCode = event.keyCode
  if([97,98,99,110,111,65,66,67,78,79,49,50,51,52,53].includes(keyCode)){
     return false;
  }
} 
```

# php - PHP/ 获取当前 URL + 条件

> ID：14806202
> 
> 赞同：0
> 
> 时间：2013-02-11T05:06:31.590
> 
> 标签：php

我不太擅长 php，但我想检测用户是否在网站的主页中，例如；

```
<?php
if (current path = http://website.com/ || website.com)
{?>

<div>We are in home</div>

<?php } else { ?>

<div>do something</div>
<?php } ?> 
```

请有人帮我谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-11T05:09:18.623

```
 $pageName = $_SERVER['PHP_SELF'];

 if($pageName == 'http://website.com'){
       echo '<div>We are in home</div>';
 } else { do something }; 
```

# c - makefile 符号 $^ 是什么意思？

> ID：14806206
> 
> 赞同：3
> 
> 时间：2013-02-11T05:07:21.800
> 
> 标签：c, makefile

生成文件：

```
$(TARGET): $(OBJ)
    $(GCC) $(LDFLAGS) -o $@ $^ 
```

`$@`在制作文件中究竟`$^`做了什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-11T05:10:39.703

$@ 是目标的名称。当目标是一个模式而不是固定的时，这非常有用。

$^ 是导致规则执行的先决条件的名称。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-11T05:09:49.917

`$^`是用于构建其他东西的一组依赖文件。

`$@`是要构建的目标的名称。

见[http://www.gnu.org/software/make/manual/html_node/Automatic-Variables.html](http://www.gnu.org/software/make/manual/html_node/Automatic-Variables.html)

# bash - 源 shell 脚本的退出代码

> ID：14806207
> 
> 赞同：3
> 
> 时间：2013-02-11T05:07:35.583
> 
> 标签：bash, return, exit-code

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T06:54:39.747

`return`从和返回的代码`exit`是相同的，关键字只是在不同的上下文中使用（`return`用于从函数和源返回，`exit`用于退出当前 shell）。

它们本身不会相互干扰，但是有`exit`或`return`没有参数将使用前一个命令的返回值，该值可能已在另一个`exit`or`return`语句中指定。

# php - 使用 file() 和 preg_split() 创建表

> ID：14806208
> 
> 赞同：0
> 
> 时间：2013-02-11T05:07:47.033
> 
> 标签：php, file, split

假设我有一个 txt 文件并且里面有这样的信息示例：

```
amy,anderson,aldergrove,archery,anchovies,110
bill,bonds,burnaby,bowling,beer,100
cameron,carson,cameroon,cars,candy,120
henry,henderson,harrison,helping,hamburgers,90
dorothy,dust,denmark,driving,drinks,80
ed,edmunson,edmonton,eating,eggs,77
fred,fredrickson,fernie,flying,fries,140 
```

我想使用 file() 和 preg_split() 函数来调用它并以表格形式显示最简单的方法是什么？我知道如何使用 file() 函数来调用它，但我不确定如何替换 ，并让它看起来像一张桌子。

[http://et4891.site90.com/sample.jpg](http://et4891.site90.com/sample.jpg) <---这是我希望它看起来如何的示例。

下面是我为调用 txt 文件所做的操作。

```
<?php
$fileContentsArray = file("aaa.txt");
echo "<table>";
foreach($fileContentsArray as $one_persons_data)
{
    echo "<tr>$one_persons_data</tr>";
}
echo "</table>"
?> 
```

我应该如何修改它以使其看起来像我发布的图像？

提前谢谢....

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T05:20:35.203

preg_split 是必需的吗？在这种情况下最好使用爆炸。反正：

```
<?php
$fileContentsArray = file("aaa.txt");
echo "<table>";
foreach($fileContentsArray as $one_persons_data)
{
  echo '<tr>';
  $splitted = preg_split('/,/', $one_persons_data);
  foreach ($splitted as $one) {
    echo "<td>$one</td>";
  }
  echo '</tr>';
}
echo "</table>" 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T05:15:46.793

你可以这样做：

```
<?php
$rows = file('data.txt');
echo '<table>';
foreach($rows as $row){
    echo '<tr>';
    foreach(explode(',',$row) as $field){
        echo '<td>';
        echo htnlentities($field);
        echo '</td>';
    }
    echo '</tr>';
}
echo '</table>'; 
```

希望这可以帮到你。

# django - django zip文件没有被下载

> ID：14806213
> 
> 赞同：0
> 
> 时间：2013-02-11T05:08:23.490
> 
> 标签：django, download

我想使用`Django views`. 我在堆栈溢出中经历了许多解决方案。但是该文件根本没有被下载。这是我正在使用的代码。

谁能告诉我哪里出错了。

```
response = HttpResponse(mimetype='application/zip')
response['Content-Disposition'] = 'attachment; filename=%s' % doc[Zip_file_name]
response['X-Sendfile'] = "./Zipfiles" # the path where the zip files are stored
return response 
```

在`chrome`, 如果我使用`inspect element`, 并双击选项卡中`url`显示`network`的文件，文件将被下载，因为它被识别为`http`获取请求，而`button click`没有任何反应。

请帮忙。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T06:48:14.490

```
from django.http import HttpResponse
from django.core.servers.basehttp import FileWrapper

# file
response = HttpResponse(FileWrapper(myfile), content_type='application/zip')
response['Content-Disposition'] = 'attachment; filename=myfile.zip'
return response 
```

# iphone - 解压缩图像以在 UITableView 上使用

> ID：14806216
> 
> 赞同：1
> 
> 时间：2013-02-11T05:08:58.733
> 
> 标签：iphone, ios, uitableview, image-processing, compression

我目前正在做一个项目，我需要在 UITableView 上显示大图像，这对于很多开发人员来说是非常常见的问题，并且通过他们的线程学习我达到了以下过程：

注意：我指的大图像，它们都有 300x300px（600x600px，视网膜）和大约 200kb，JPEG

1.  创建一个 NSOperationQueue；
2.  异步下载图片（每张图片有600x600px，对应@2x图片）；
3.  调整大小并创建非视网膜图像（300x300px 图像）；
4.  解压两张图片；
5.  将所有图像存储在 NSCache 上；

在所有这些程序完成后，我在主线程上更新我的 UITableView。我正在使用 UITableViewCell 子类来绘制我所有需要的内容（如 Apple 的示例代码所示）。主要问题是我对第 4 步感到困惑（解压缩图像），我的疑问：

注意：我目前将解压缩的图像存储在 NSCache 上。

*   我应该解压缩图像并将其存储为 UIImage 还是 NSData？
*   我如何存储解压缩的图像？（NSCache，NSMutableArray ...）
*   将解压缩的图像传递给我的 UITableViewCell 子类的最佳方法是什么？

注意：我正在使用此处提供的解压缩代码：[链接](http://ioscodesnippet.com/post/10924101444/force-decompressing-uiimage-in-background-to-achieve)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T05:56:38.013

*   您不能真正将`UIImage`对象存储到磁盘，但可以将其转为`NSData`使用`UIImagePNGRepresentation`
*   使用 UIImage 会给你开箱即用的缓存，我敢打赌它是你能得到的最有效的
*   只是把图片放到 UIImageView 中，Apple 花了很多时间在快速渲染图片上。

也就是说，您的图像并不是特别大，尤其是对于视网膜设备，我建议您查看类似[AFNetworking](https://github.com/AFNetworking/AFNetworking)库的东西，该库具有针对此问题的完整且经过测试的解决方案。

另外，您可以查找[AFImageRequestOperation](https://github.com/AFNetworking/AFNetworking/blob/master/AFNetworking/AFImageRequestOperation.m)的代码，它完全符合您的需求：下载、存储、缓存、重用。

# c# - 为什么要删除 Guid 列？

> ID：14806218
> 
> 赞同：2
> 
> 时间：2013-02-11T05:09:02.380
> 
> 标签：c#, entity-framework, ef-code-first, entity-framework-5, guid

我需要为每一行创建一个唯一的哈希值，所以我创建了一个 type 的列`Guid`。

```
public class SendingLog
{
    [Key]
    public int SendingLogId { get; set; }

    [Required, ForeignKey("Apartment")]
    public int ApartmentId { get; set; }

    public virtual Apartment Apartment { get; set; }

    Guid RowGuid { set; get; }

    [MaxLength(256), Required]
    public string Email { get; set; }

    [Required]
    public DateTime SentTime { get; set; }

    public int SentByUserId { get; set; }
} 
```

但是，代码首先迁移生成了以下代码。

```
public override void Up()
{
    CreateTable(
        "dbo.SendingLogs",
        c => new
            {
                SendingLogId = c.Int(nullable: false, identity: true),
                ApartmentId = c.Int(nullable: false),
                Email = c.String(nullable: false, maxLength: 256),
                SentTime = c.DateTime(nullable: false),
                SentByUserId = c.Int(nullable: false),
            })
        .PrimaryKey(t => t.SendingLogId)
        .ForeignKey("dbo.Apartments", t => t.ApartmentId, cascadeDelete: true)
        .Index(t => t.ApartmentId);
} 
```

为什么要`Guid`删除该列？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-11T05:27:42.123

这是因为它的范围是`private`.

通过省略`public`前面的 ，代码优先迁移生成器不会将其视为需要担心的属性。

将其更改为：

```
public Guid RowGuid { set; get; } 
```

# python - 在python中组合两个不均匀列表

> ID：14806230
> 
> 赞同：0
> 
> 时间：2013-02-11T05:11:26.443
> 
> 标签：python, list, dictionary

我有 2 个清单。一个看起来像

```
['jim', 'bob', 'mike', 'kim', 'Alex'] 
```

另一个看起来像

```
['YES', 'YES', 'YES', 'YES', 'YES', 'YES', 'YES', 'YES', 'YES', 'YES', 'YES', 'YES', 'YES', 'YES', 'YES', 'YES', 'YES', 'YES', 'NO', 'NO', 'NO', 'NO', 'NO', 'NO', 'NO', 'NO', 'YES', 'NO', 'YES', 'NO'] 
```

列表 1 中的每个名称对应于列表 2 中的前 6 项。所以 jim='YES', 'YES', 'YES', 'YES', 'YES', 'YES' and Alex='NO', 'NO '，'是'，'否'，'是'，'否'。有没有办法将这两个列表合并成一个 dict ？

我打算写一个像

```
def people():
    List1[0]=List2[0:6] 
```

但这会使 List1 发生突变。我试过

```
dict(List1[0]: List2[0:6]) 
```

但得到一个错误

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-11T05:18:06.847

您可以使用 dict 理解：

`{x: l2[6*i:6*(i+1)] for i,x in enumerate(l1)}`

如果您想要迟早会发布的可怕的 itertools 版本，它看起来会像`dict(zip(l1, itertools.izip_longest(*[iter(l2)]*6)))` ...blergh。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T05:20:39.573

试试`d = {List1[0] : List2[0:6]}`吧。您正在尝试`dict`使用语法调用构造函数`:`，但需要使用`{}`来执行此操作。

# javascript - 在 Node.js 中将检索到的 SQL 数据显示到 HTML 页面

> ID：14806231
> 
> 赞同：0
> 
> 时间：2013-02-11T05:11:28.873
> 
> 标签：javascript, html, linux, node.js, postgresql

我有从我们的数据库中检索数据集的代码：

 `````
var pg = require('pg').native;

// Format: "postgres://YourUserName:YourPassword@localhost:5432/YourDatabase";
var dbUrl = "url hidden";

function testConn(onDone) {
    pg.connect(dbUrl, function(err, client) {
        client.query("SELECT ad FROM alert WHERE ad = 132", function(err, result) {

            console.log("ad is: %d", result.rows.length);
            console.log("ad value is: %d", result.rows[0].ad_id );
            onDone();
        });
    });
}

// Let's call the function
testConn(disconnectAll)

// Disconnect all connections
function disconnectAll() {
    pg.end();
} 
````  `这工作得很好，它检索结果并将其显示到终端上。

我想要实现的是让这些结果出现在 html 页面而不是控制台上，我已经开发了前端页面（使用 jquery mobile）并希望数据库值出现在这个页面上而不是控制台。

谁能在正确的道路上指导我这样做？例如，我知道 div 元素可用于隐藏/显示数据，我只需要知道检索结果并将结果显示到诸如 html 页面之类的元素上的最佳方法。

感谢所有帮助赞赏！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T05:51:45.640

像这样的东西，但这只是谷歌的副本

```
 response.writeHead(200, {"Content-Type": "application/json"});
  var otherArray = ["item1", "item2"];
  var otherObject = { item1: "item1val", item2: "item2val" };
  response.write(
    JSON.stringify({ 
      anObject: otherObject, 
      anArray: otherArray, 
      another: "item",
    })
  ); 
`````

# django - 如何在模型表单中的表单字段上创建验证器

> ID：14806232
> 
> 赞同：0
> 
> 时间：2013-02-11T05:11:32.813
> 
> 标签：django, django-class-based-views

如何验证模型字段标题？例如，如果标题字段的每次使用都以“博客”一词开头。

```
models.py

class TitleAbstract(models.Model):
    title = models.CharField(max_length=255)
    class Meta:
        abstract = True

class Blog(TitleAbstract):
    ..............

forms.py

class BlogForm(forms.ModelForm):
     class Meta:
         model = Blog

views.py

class BlogCreateView(CreateView):
     model = Blog
     action = 'created' 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T05:16:06.753

**验证器.py**

```
from django.core.exceptions import ValidationError

def validate_title(value):
    if not value.lower().startswith(u'blog'):
        msg = u"Enter a value starting with 'Blog'"
        raise ValidationError(msg) 
```

**表格.py**

```
class BlogForm(forms.ModelForm):
    def __init__(self, *args, **kwargs):
    super(BlogForm, self).__init__(*args, **kwargs)
    self.fields['title'].validators = [validate_title]

    class Meta:
        model = Blog 
```

**视图.py**

```
class BlogCreateView(CreateView):
    model = Blog
    action = 'created'
    form_class = BlogForm 
```

# youtube-api - 如何在 YoutubeService 方法中指定“字段”参数

> ID：14806234
> 
> 赞同：4
> 
> 时间：2013-02-11T05:11:43.483
> 
> 标签：youtube-api, google-api-dotnet-client

我有一个经过适当授权的 YouTubeService，我可以使用它来检索“已登录”用户的视频列表。我的问题是我不知道如何过滤掉响应，以便降低配额限制的消耗。此外，我只需要知道视频的一些细节。这是我得到的：

```
私有静态 Google.Apis.Youtube.v3.YoutubeService _youtubeService；

公共静态无效GetList（字符串ID）{
    var response = _youtubeService.Videos.List(id, "snippet");

    // 这里发生一些处理
}

```

我想包含一个使用字段参数的过滤器，如此处[所述](https://developers.google.com/youtube/v3/getting-started#fields)。我只想获取以下字段：片段及其标题和缩略图，并且有效地具有：`fields=items(id,snippet(title,thumbnails(value)))`在我的请求中。

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-11T06:45:28.767

'setFields' 方法（它应该是从 YoutubeRequest 派生的大量对象的成员）不是为了做到这一点而设计的吗？像这样的东西：

```
response.setFields("items(id,snippet/title,snippet/thumbnails/default/url)"); 
```

# c# - 在我的电脑中显示“虚拟”文件夹

> ID：14806235
> 
> 赞同：1
> 
> 时间：2013-02-11T05:11:46.897
> 
> 标签：c#, openfiledialog, savefiledialog, shell-extensions

我的应用程序连接到服务以发送和接收数据。我可以选择允许我的用户将他们的应用程序配置存储在 xml 文档中的主机服务器上。这允许他们在多台计算机上访问他们的设置。理想情况下，我想为用户提供从主机系统或本地文件保存/加载的选项。我设想以类似于浏览计算机并查看 Outlook 条目或 PhotoStream 的方式执行此操作。这样，在标准文件保存/文件打开对话框中，他们可以浏览到我的电脑，然后选择该文件夹。由于我只能保存一个 XML 文档，理想情况下，他们只需单击该项目，就好像它是一个文件一样。任何人都有类似的例子。我的研究引导我进行 shell 扩展，但不太符合我的需求。

# c# - 如何从 .NET 4.5 中的并行任务中获得收益

> ID：14806240
> 
> 赞同：9
> 
> 时间：2013-02-11T05:12:10.623
> 
> 标签：c#, task-parallel-library, async-await, c#-5.0, yield-return

我想将 .NET 迭代器与并行任务/等待一起使用？像这样的东西：

```
IEnumerable<TDst> Foo<TSrc, TDest>(IEnumerable<TSrc> source)
{
    Parallel.ForEach(
        source,
        s=>
        {
            // Ordering is NOT important
            // items can be yielded as soon as they are done                
            yield return ExecuteOrDownloadSomething(s);
        }
} 
```

不幸的是，.NET 本身无法处理这个问题。@svick 迄今为止的最佳答案 - 使用 AsParallel()。

奖励：任何实现多个发布者和单个订阅者的简单异步/等待代码？订阅者会屈服，而 pubs 会处理。（仅限核心库）

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-02-11T10:11:34.097

这似乎是 PLINQ 的工作：

```
return source.AsParallel().Select(s => ExecuteOrDownloadSomething(s)); 
```

这将使用有限数量的线程并行执行委托，并在完成后立即返回每个结果。

如果该`ExecuteOrDownloadSomething()`方法是 IO 绑定的（例如，它实际上下载了一些东西）并且您不想浪费线程，那么使用`async`-`await`可能是有意义的，但它会更复杂。

如果您想充分利用`async`，则不应 return `IEnumerable`，因为它是同步的（即，如果没有可用的项目，它会阻塞）。您需要的是某种异步收集，您可以使用`ISourceBlock`（特别是[`TransformBlock`](http://msdn.microsoft.com/en-us/library/hh194782.aspx)）来自 TPL Dataflow 的：

```
ISourceBlock<TDst> Foo<TSrc, TDest>(IEnumerable<TSrc> source)
{
    var block = new TransformBlock<TSrc, TDest>(
        async s => await ExecuteOrDownloadSomethingAsync(s),
        new ExecutionDataflowBlockOptions
        {
            MaxDegreeOfParallelism = DataflowBlockOptions.Unbounded
        });

    foreach (var item in source)
        block.Post(item);

    block.Complete();

    return block;
} 
```

如果源“慢”（即您想`Foo()`在迭代`source`完成之前开始处理结果），您可能需要将`foreach`and`Complete()`调用移动到单独的`Task`. 更好的解决方案是制作`source`成一个`ISourceBlock<TSrc>`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-11T15:16:25.253

*因此，您真正*想做的似乎是根据任务的完成时间对一系列任务进行排序。这并不是非常复杂：

```
public static IEnumerable<Task<T>> Order<T>(this IEnumerable<Task<T>> tasks)
{
    var input = tasks.ToList();

    var output = input.Select(task => new TaskCompletionSource<T>());
    var collection = new BlockingCollection<TaskCompletionSource<T>>();
    foreach (var tcs in output)
        collection.Add(tcs);

    foreach (var task in input)
    {
        task.ContinueWith(t =>
        {
            var tcs = collection.Take();
            switch (task.Status)
            {
                case TaskStatus.Canceled:
                    tcs.TrySetCanceled();
                    break;
                case TaskStatus.Faulted:
                    tcs.TrySetException(task.Exception.InnerExceptions);
                    break;
                case TaskStatus.RanToCompletion:
                    tcs.TrySetResult(task.Result);
                    break;
            }
        }
        , CancellationToken.None
        , TaskContinuationOptions.ExecuteSynchronously
        , TaskScheduler.Default);
    }

    return output.Select(tcs => tcs.Task);
} 
```

所以在这里我们为每个输入任务创建一个`TaskCompletionSource`，然后遍历每个任务并设置一个延续，它从 a 中获取下一个完成源`BlockingCollection`并设置它的结果。完成的第一个任务获取返回的第一个 tcs，完成的第二个任务获取返回的第二个 tcs，依此类推。

现在您的代码变得非常简单：

```
var tasks = collection.Select(item => LongRunningOperationThatReturnsTask(item))
    .Order();
foreach(var task in tasks)
{
    var result = task.Result;//or you could `await` each result
    //....
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-11T08:52:01.833

在 MS 机器人团队制作的异步库中，它们具有允许使用迭代器生成异步代码的并发原语。

图书馆 (CCR) 是免费的（它以前不是免费的）。可以在这里找到一篇不错的介绍性文章：[并发事务](http://msdn.microsoft.com/en-us/magazine/cc163556.aspx)

也许您可以将这个库与 .Net 任务库一起使用，或者它会激励您“自己动手”

# java - 在java中读取和写入记事本

> ID：14806244
> 
> 赞同：0
> 
> 时间：2013-02-11T05:13:04.923
> 
> 标签：java, file, file-io, core

我在这样的记事本中有一个文本字符串

记事本中的文本：

```
date amount intrest tenure debitamount name address state city zipcode phone altphone mailid refaddress ref  refphoneno emptype employment

12/11/1987 12345 3.5 144 32456 durga f rao 456 under road
dallas dl 2435 2222-22-2222 2222-22-2222 durgafrao@gmail.com
165 nala road raj 22-22-22-2222 it 12
15/05/1986 2345 6.4 144 45789 rama k nand 789 residensy  
newyork ny 2222-22-2222 2222-22-2222 ramaknand@yahoomail.com
189 ring road hen  22-22-22-22-2222 it 12
16/12/1985 1234 6.5 144 35265 rama j rao 123 dura residensy meknoor
mn 2222-22-2222 2222-22-2222 ramajrao@orkut.com 891 cing road vinky
22-22-22-2222 it 12
12/11/1987 12345 3.5 144 32456 durga f rao 456 under road dallas dl
2435 2222-22-2222 2222-22-2222 durgafrao@gmail.com 165 nala road raj
22-22-22-2222 it 12

         out put should be like below
in between name and address single space and all other double space

12/11/1987  12345  3.5  144  32456  durga f rao  456 under road
dallas  dl  2435  2222-22-2222  2222-22-2222  durgaao@gmail.com
165 nala road  raj  22-22-22-2222  it  12
15/05/1986  2345  6.4  144  45789  rama k nand  789 residensy  
newyork  ny  2222-22-2222 2222-22-2222  ramaad@yahoomail.com
189 ring road  hen  22-22-22-22-2222  it  12
16/12/1985  1234  6.5  144  35265  rama j rao  123 dura residensy  meknoor
mn  2222-22-2222  2222-22-2222  ramajo@orkut.com  891 cing road  vinky
22-22-22-2222  it  12
12/11/1987  12345  3.5  144  32456  dura f rao  456 under road  dallas  dl
2435  2222-22-2222  2222-22-2222  durga@gmail.com  165 nala road  raj
22-22-22-2222  it  12 
```

我希望我的输出应该像下面在名称和地址单个空格和所有其他双空格之间？

我写了下面的代码，但我无法得到想要的输出

任何人都可以帮助我吗？

我试过的代码：

```
public static String newLine = System.getProperty("line.separator");

    public static void main(String args[]){
        FileWriter iWrite=null;

         try {
             iWrite = new FileWriter("C:/Documents and Settings/pavan/My Documents/output.txt");
        } catch (IOException e1) {
            // TODO Auto-generated catch block
            e1.printStackTrace();
        } 

        try {
List<String> lines = FileUtils.readLines(new File("C:/Documents and Settings/pavan/My Documents/input.txt"));

        for(String lines1:lines){

            iWrite.write(lines1);

            iWrite.write(newLine);
        }
        iWrite.close();

        } catch (IOException e) {
            e.printStackTrace();
        }

    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T06:29:38.863

这闻起来是一个家庭作业问题，所以我没有考虑最佳解决方案，但这里是 sudo 代码，如果你需要，你可以做什么。

在此之前，让我假设数据实际上是基于您的标题的一行：

> 12/11/1987 12345 3.5 144 32456 durga f rao 456 under road dallas dl 2435 2222-22-2222 2222-22-2222 durgafrao@gmail.com 165 nala road raj 22-22-22-2222 it 12

*   创建一个 ArrayList of Arrays aka`ArrayList<String[]>`
*   对于您阅读的每一行，使用`split(" ")`或`split("\s")`根据空格将换行符拆分为字符串
*   将所有行拆分并存储在 arraylist 中后，您可以遍历列表
*   在字符串数组列表中，您可以使用 hack 遍历数组
*   诀窍是您知道在什么时候需要添加额外的空间，因此当您到达特定位置时，您可以在数组中追加和额外的空间。在其他任何地方，您都可以只附加一个空格。

同样，这不是最佳解决方案。

至于您当前的代码，您所做的只是读取一行并附加一个 newLine 字符，然后再将其写回文件。所以你所有的代码都在做

> 啊啊啊
> 
> bbb
> 
> ccc

进入

> 啊啊啊
> 
> bbb
> 
> ccc

本质上，做的不多。

# iphone - uipopoverview 中的 uitabelview

> ID：14806246
> 
> 赞同：0
> 
> 时间：2013-02-11T05:13:18.127
> 
> 标签：iphone, ios6, uitableview, uipopovercontroller

任何人都可以给我参考或教程，了解如何将 uitabelview 包含在带有详细视图控制器的 uipopopover 视图 Controlelr 中，请做必要的事情，在此先感谢

更新：

```
 - (IBAction) useCameraRoll: (id)sender
 {

if([self.popoverController isPopoverVisible])
{
    [self.popoverController dismissPopoverAnimated:YES];
    return;
 }
 //build our custom popover view
 UIViewController* popoverContent = [[UIViewController alloc]init];
 UIView* popoverView = [[UIView alloc] initWithFrame:CGRectMake(0, 0, 140, 102)];
 popoverView.backgroundColor = [UIColor blackColor];

 UITableView *tblViewMenu = [[UITableView alloc]initWithFrame:CGRectMake(0, 0, 140, 102)];
 tblViewMenu.delegate = self;
 tblViewMenu.dataSource = self;
 tblViewMenu.rowHeight = 32;
 [popoverView addSubview:tblViewMenu];
 popoverContent.view = popoverView;
 popoverContent.contentSizeForViewInPopover = CGSizeMake(140, 102);
 self.popoverController = [[UIPopoverController alloc]
                          initWithContentViewController:popoverContent];
 //present the popover view non-modal with a
 //refrence to the toolbar button which was pressed
 [self.popoverController  presentPopoverFromRect:CGRectMake(0, 0, 133, 29)
                                         inView:gal   permittedArrowDirections:UIPopoverArrowDirectionAny animated:YES];
 } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T05:18:29.273

请在此处发布之前尝试用谷歌搜索您的查询。你可以在这里找到一个教程 [http://iphoneapp-dev.blogspot.in/2010/11/how-to-insert-uitableview-in.html](http://iphoneapp-dev.blogspot.in/2010/11/how-to-insert-uitableview-in.html)

# cocoa - 使用 ARC (EXC_BAD_ACCESS) 再次显示程序窗口崩溃

> ID：14806247
> 
> 赞同：1
> 
> 时间：2013-02-11T05:13:20.820
> 
> 标签：cocoa

我有一些显示窗口的代码......

```
- (IBAction)displayWindow:(id)sender
{
    NSWindow *window = [[NSWindow alloc] initWithContentRect:NSMakeRect(0, 0, 50, 50) styleMask:NSBorderlessWindowMask backing:NSBackingStoreBuffered defer:NO];
    [window setBackgroundColor:[NSColor blackColor]];
    [window setAlphaValue:.5];
    [window setLevel:kShadyWindowLevel];
    [window setReleasedWhenClosed:YES];
    [window makeKeyAndOrderFront:self];
    self.window = window;
} 
```

并关闭窗口....

```
- (IBAction)closeWindow:(id)sender
{
    [self.window close];
} 
```

并且 window 被定义为一个强大的属性......

```
@property (strong) NSWindow *window; 
```

该代码第一次工作，但是当第二次显示窗口时...

```
self.window = window; 
```

因 EXC_BAD_ACCESS 崩溃...

我究竟做错了什么？

提前致谢....

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-11T05:16:15.437

您在代码中将“releasedWhenClosed”设置为“是”。将其更改为“否”，它应该可以正常工作。

# objective-c - 如何以编程方式从内置 iOS 词典中搜索单词？

> ID：14806248
> 
> 赞同：3
> 
> 时间：2013-02-11T05:13:20.563
> 
> 标签：objective-c, xcode, dictionary

是否可以以编程方式从内置 iOS 词典中搜索单词？

`eg`: 我有一个词说“苹果”，我必须在 iOS 词典中搜索这个词的存在。

任何人都可以帮助..？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-11T05:15:22.277

您可以使用`UIReferenceLibraryViewController dictionaryHasDefinitionForTerm:`来查看字典中是否存在该单词。

# r - 如何在R中的备用位置填充向量中的零

> ID：14806250
> 
> 赞同：2
> 
> 时间：2013-02-11T05:13:32.887
> 
> 标签：r

我是 R 语言的新手。我遇到了一种情况，我需要在向量中的备用位置填充零。例如：

```
v<-c(1,2,3,4,5,6,7,8,9,10) 
```

我需要像这样的新向量

```
0 1 0 2 0 3 0 4 0 5 0 6 0 7 0 8 0 9 0 10 
```

我尝试使用 for 循环来填充零，但我做不到。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-11T05:25:47.183

我相信有很多解决方案，但是

```
as.vector(rbind(0,v))
 [1]  0  1  0  2  0  3  0  4  0  5  0  6  0  7  0  8  0  9  0 10 
```

会做的。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-02-11T05:23:53.953

几种方法

创建一个零向量，然后替换正确的索引

```
x1 <- rep(0, length(x)*2)
x1[seq(2,20,by=2)] <- x 
```

或使用`Map`和`c`

```
 unlist(Map(c,0,x)) 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-02-11T05:29:09.190

只是为了踢球：

```
v <- c(1,2,3,4,5,6,7,8,9,10)
c(mapply(c, 0, v)) 
```

# xcode - 文件夹引用中的 PNG 图像在复制到包时不会被 pngcrushed？

> ID：14806251
> 
> 赞同：1
> 
> 时间：2013-02-11T05:13:34.297
> 
> 标签：xcode, png, pngcrush

通过阅读 Xcode 的构建日志，我注意到对于组中的 PNG 图像，运行如下命令：

> /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/usr/bin/copypng -compress "" resource_folder_path/image.png app_bundle_path/image.png

但是，对于文件夹引用，这些文件夹下的 PNG 图像没有单独的复制命令，而每个文件夹引用只有一个复制命令：

> builtin-copy -exclude .DS_Store -exclude CVS -exclude .svn -exclude .git -exclude .hg -resolve-src-symlinks img_folder_path app_bundle_path

虽然我找不到`builtin-copy`命令（有人能告诉我它在哪里吗？），但它似乎不是`pngcrush`PNG 图像。这是真的吗？如果是这样，有什么好方法可以使用文件夹引用来组织 PNG 图像并`pngcrush`在将它们复制到包时仍然让 Xcode 这些图像？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-09-26T11:09:46.280

如果您使用文件夹引用，Xcode 不会自动进行 PNG 粉碎，您必须手动进行优化。要在您的文件夹中手动运行 pngcrush，您可以使用此[答案](https://stackoverflow.com/a/10716625/646367)中提供的 bash 片段：

```
find /path/to/directory -name "*.png" | while read filename; do
    xcrun -sdk iphoneos pngcrush -iphone "$filename" "${filename}_crushed"
    mv "${filename}_crushed" "${filename}"
done 
```

如果您不喜欢命令行，您可以改用[ImageOptim](http://imageoptim.com/)之类的应用程序。

# c# - 我可以使用 XElement 在指定位置创建 xml 文件吗？

> ID：14806253
> 
> 赞同：0
> 
> 时间：2013-02-11T05:13:57.117
> 
> 标签：c#, xml, linq, linq-to-xml, xelement

我的 Windows 应用程序正在创建一个 xml 文件并使用`XElement`. 有什么方法可以直接在 D:/ 中创建此文件，而不是项目 bin 文件夹（默认）。我想要一个 Web 服务来访问这个 xml 文件来执行一些功能。所以在那种情况下，只要这个应用程序在任何系统上运行，我都希望它在一些通用文件夹中。

用于创建和更新 xml 的代码

```
x = new XElement("Data");
x.Add(new XElement("DataClass",
      new XElement("pathI", txt_input.Text),
      new XElement("pathO", txt_Output.Text),
      new XElement("prefix", txt_prefix.Text),
      new XElement("frequency", Convert.ToInt32(txt_freq.Text))));
x.Save("Data.xml"); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-11T05:25:57.190

您是否尝试过（在您指定文件名的末尾）：

```
x.Save(@"D:\DirectoryName\Data.xml"); 
```

# javascript - 如何使用一个转换会影响上下文中的多个事物

> ID：14806254
> 
> 赞同：0
> 
> 时间：2013-02-11T05:13:57.813
> 
> 标签：javascript, html, canvas, html5-canvas

我正在尝试在具有不同转换的画布上绘制多个东西。我仅将 a.scale() 应用于 berzierCurveTo() 部分，但比例转换也会影响底部的 arc() 。我已经尝试过 closePath() 和重置 scale(1,1) 但它不会做任何事情。我应该怎么办？

```
var c = document.getElementsByTagName('canvas')[0];
var a = c.getContext('2d');

c.width = 500;
c.height= 550;
//Shape 1 with some transformations

a.scale(0.8,0.8); //How come a.scake affects the shape 2 as well?
a.beginPath();
a.moveTo(143, 59);
a.bezierCurveTo(151, 51, 195, 7, 272, 22);
a.stroke();
a.closePath();  //closePath doesn't do anything to stop scaling the shape 2

//Shape 2
a.beginPath();
a.arc(250, 400, 100, 0,6.3, false);
a.stroke(); 
```

[这就是图像的样子](http://jsfiddle.net/5J9WZ)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T05:25:54.247

您可以在缩放之前保存画布状态并在形状 1 之后恢复它：

```
a.save();

a.scale(0.8, 0.8);
a.beginPath();
a.moveTo(143, 59);
a.bezierCurveTo(151, 51, 195, 7, 272, 22);
a.stroke();
a.closePath();

a.restore(); 
```

[http://jsfiddle.net/uq5mR/](http://jsfiddle.net/uq5mR/)

# c# - 如何使用 C# 在组合框列中添加 json 数据？

> ID：14806259
> 
> 赞同：0
> 
> 时间：2013-02-11T05:14:18.277
> 
> 标签：c#, json

这是我的虚拟 json 文件。我想在 datagridview 中显示名称和 mapped_name。Mapped_name 是一个组合框列。所以假设当名称列包含按钮时，mapped_name 列应该包含一个具有选项链接标签和按钮的组合框。

```
{"components":[
       {
       "id":"1",
       "name":"Button",
       "mapped_name":[
              {"id":"1",
               "name":"LinkLabel"
               },
               {"id":"2",
               "name":"Button"
               }
               ]

       },
       {
       "id":"2",
       "name":"ListView",
       "mapped_name":[
              {"id":"1",
               "name":"TabView"
               },
               {"id":"2",
               "name":"ListView"
               },
               {"id":"3",
               "name":"Tiles"
               }
               ]

       } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T05:17:20.730

我建议你使用[Json.net](http://json.codeplex.com/)来解析数据并显示出来。您可以使用[JsonTextReader](http://james.newtonking.com/projects/json/help/index.html?topic=html/T_Newtonsoft_Json_JsonTextReader.htm)类

在此处查看[示例](http://james.newtonking.com/projects/json/help/index.html?topic=html/ReadJsonWithJsonTextReader.htm)并查看[帮助](http://james.newtonking.com/projects/json/help/)

# c++ - 可变参数模板类的终止案例的直接访问有效，但便利类访问编译失败

> ID：14806262
> 
> 赞同：0
> 
> 时间：2013-02-11T05:15:04.470
> 
> 标签：c++, variadic-templates

下面代码的目标是实现一个直方图，其中桶限制是模板参数：

```
#include <iostream>
#include <limits>
#include "histogram.h"

int main ( int argc, char* argv[] )
{
//histogram_tuple<5,10,15,std::numeric_limits<int>::max()> histogram;
histogram_tuple<5,10,15> histogram;

histogram.count ( 9 );
histogram.count ( 10 );
histogram.count ( 11 );
histogram.count ( 15 );

std::cout << sizeof ( histogram ) << std::endl;
std::cout << '<' << histogram.limit() << ' ' << histogram.count() << ", "
<< '<' << histogram.rest().limit() << ' ' << histogram.rest().count() << ", "
<< '<' << histogram.rest().rest().limit() << ' ' << histogram.rest().rest().count() << ", "
<< ' ' << histogram.rest().rest().rest().count()
<< std::endl;

std::cout << "====" << std::endl;

std::cout << '<' << bucket_limit<0>(histogram) << ':'
<< bucket_count<0>(histogram) << std::endl;
std::cout << '<' << bucket_limit<1>(histogram) << ':'
<< bucket_count<1>(histogram) << std::endl;
std::cout << '<' << bucket_limit<2>(histogram) << ':'
<< bucket_count<2>(histogram) << std::endl;
// std::cout << '<' << bucket_limit<3>(histogram) << ':'
//           << bucket_count<3>(histogram) << std::endl;
} 
```

以上工作正常。通过重复的 rest() 调用，最终存储桶的计数（值 >= 15）被打印出来。

但是，当 main() 的最后一行未注释时，g++ 4.7.1 会生成一个编译器错误，即 bucket_limit_entry<0u> 和 bucket_count_entry<0u> 不完整。

关于如何让便利函数 bucket_limit<3> 编译的任何建议，因为重复的 rest() 调用有效？

不太清楚发生了什么。将索引类型更改为 int 并使终止案例 -1 而不是 0 不起作用。

这是直方图.h：

```
#pragma once

template <int ... Limits>
class histogram_tuple;

template<>
class histogram_tuple<>
{
int cnt_;
public:
histogram_tuple<>() :
cnt_ ( 0 )
{
}

void count ( int value )
{
++cnt_;
}

int count() const
{
return cnt_;
}
};

template <int First, int ... Rest>
class histogram_tuple <First,Rest...> :
private histogram_tuple<Rest...>
{
static const int limit_ = First;
int cnt_;
public:
histogram_tuple <First,Rest...>() :
cnt_ ( 0 )
{ }

int limit() const { return limit_; }

void count ( int value )
{
if ( value < limit_ )
++cnt_;
else
rest().count ( value );
}

int count() const
{
return cnt_;
}

const histogram_tuple<Rest...>& rest() const
{
return *this;
}

histogram_tuple<Rest...>& rest()
{
return *this;
}
};

template <unsigned index, int ... Limits>
struct bucket_count_entry;

template <int First, int ... Limits>
struct bucket_count_entry<0,First,Limits...>
{
static int value(histogram_tuple<First,Limits...> const& histogram)
{
return histogram.count();
}
};

template <unsigned index,int First, int ... Limits>
struct bucket_count_entry<index,First,Limits...>
{
static int value(histogram_tuple<First,Limits...> const& histogram)
{
return bucket_count_entry<index-1,Limits...>::value(histogram.rest());
}
};

template <unsigned index,int ... Limits>
int bucket_count( histogram_tuple<Limits...> const& histogram )
{
return bucket_count_entry<index,Limits...>::value(histogram);
}

template <unsigned index, int ... Limits>
struct bucket_limit_entry;

template <int First, int ... Limits>
struct bucket_limit_entry<0,First,Limits...>
{
static int value(histogram_tuple<First,Limits...> const& histogram)
{
return histogram.limit();
}
};

template <unsigned index,int First, int ... Limits>
struct bucket_limit_entry<index,First,Limits...>
{
static int value(histogram_tuple<First,Limits...> const& histogram)
{
return bucket_limit_entry<index-1,Limits...>::value(histogram.rest());
}
};

template <unsigned index,int ... Limits>
int bucket_limit( histogram_tuple<Limits...> const& histogram )
{
return bucket_limit_entry<index,Limits...>::value(histogram);
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T05:29:55.960

```
template <int First, int ... Limits>
bucket_limit_entry<0,First,Limits...> 
```

不匹配

```
bucket_limit_entry<0> 
```

因为`First`不会匹配任何东西。（`...Limits`不匹配，但`First`只能匹配一个`int`）。

因此，您需要为超出限制的情况添加一个额外的模板：

```
template<>
struct bucket_limit_entry<0> 
```

当你这样做时，你会发现它`histogram<>::limit()`是未定义的，但你可以很容易地修复它。

您需要对 bucket_count_entry 执行相同的操作，但`histogram<>::count()`已定义。

您不能只定义这一事实`template<int...Limits> struct bucket_limit_entry<0, Limits...> {...}`有点奇怪。据我了解，问题是“`Index`为0”和“`Limits...`至少有一个元素”都是对通用模板的限制，并且它们之间没有任意顺序。因此，`template<int...Limits> struct X<0, Limits...>`并且`template<unsigned index, int First, int...Rest> struct X<index, First, Rest...>`没有按模板专业化的部分排序进行排序，并且当它们都适用时，您最终会产生歧义。

但在我看来，有一个更简单的解决方案，因为您可以`histogram_tuple`推导出刚刚的类型：

```
template<unsigned Index> struct bucket_limit_entry {
    template<typename Hist>
    static int value(Hist const& histogram) {
        return bucket_limit_entry<Index-1>::value(histogram.rest());
    }
};

template<> struct bucket_limit_entry<0> {
    template<typename Hist>
    static int value(Hist const& histogram) {
        return histogram.limit();
    }
};

template<unsigned index, typename Hist>
int bucket_limit(Hist const& histogram ) {
    return bucket_limit_entry<index>::value(histogram);
} 
```

# ruby - 类与其实例之间的区别

> ID：14806263
> 
> 赞同：0
> 
> 时间：2013-02-11T05:15:06.483
> 
> 标签：ruby

Ruby 如何在内部区分一个类及其实例`MyClass`，`obj`如下所示？`MyClass`允许创建实例但不允许创建实例有什么作用`obj`？

```
MyClass = Class.new
obj = MyClass.new 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T05:20:06.620

它没有区别。`MyClass`是[`Class`](http://ruby-doc.org/core-1.9.3/Class.html)（与 的实例相同的方式`obj`）的一个实例`MyClass`，它实现了[`new`方法](http://ruby-doc.org/core-1.9.3/Class.html#method-i-new)，[`Object`](http://ruby-doc.org/core-1.9.3/Object.html)但没有。就这么简单——这里没有什么特别特别的事情发生，`Class#new`就像任何其他方法一样。

在这里我们可以看到每个对象的类的祖先：

```
MyClass = Class.new
obj = MyClass.new

MyClass.class.ancestors  #=> [Class, Module, Object, Kernel, BasicObject]
obj.class.ancestors      #=> [MyClass, Object, Kernel, BasicObject] 
```

# javafx-2 - javafx tableview中的搜索操作

> ID：14806268
> 
> 赞同：0
> 
> 时间：2013-02-11T05:15:35.093
> 
> 标签：javafx-2, tableview, javafx

我在链接[TUTORIAL LINK上使用了教程](http://docs.oracle.com/javafx/2/ui_controls/table-view.htm)

现在我想对tableview执行搜索操作来搜索表行内容来匹配查询。

那么有什么方法可以在 tableview 中搜索项目。

我在 c# 中发现的是在列表中搜索条件的 LINQ 查询。

javafx中是否有类似的东西。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-21T13:18:35.547

我曾经看过一个这样的项目。

也许这就是你要找的东西：[Advanced TableView](http://panemu.com/articles/?p=73)

可悲的是，我不知道他们是如何实施的。

编辑我链接到的页面表明您应该转到以下页面：[TiwulFX](http://tiwulfx.panemu.com/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-11T12:06:53.047

似乎，没有类似的东西。如果您想拥有此类功能（如果尚不存在），您可以在 JavaFX-2 jira 中提交 RFE 或 Tweak。

或者，如果您知道它应该是什么样子，您可以与 TableView 的作者交谈，并自己实现它，然后在打开的 javafx 中推送相应的补丁。

实际上，您可以对 TableView 的内容集合进行搜索，并将每列的值工厂应用于相应的值，并检查它是否返回适当的值/内容。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-08-11T18:54:39.057

这是搜索方法，其中 data 是您的列表，

```
 private boolean search(String a ){
 int i=0;
 do{
    if(data.get(i).getNom().equals(a) )
    {
        return true;

    }
    i++;
 }while(data.size()>i);
    return false;} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-04-25T21:02:44.930

1) 获取您的 TableView 对象
2) 在其上调用 getItems() 方法
3) 调用 get() 方法此方法的参数是您的对象的索引

``TableView<String> tableView = new TableView<>();``
现在，假设我们已经用 Products 对象填充了 tableView
您可以通过这种方式访问​​每个对象
``tableView.getItems().get(0)``
这将返回您添加到 tableView 的第一个对象

我希望这会有所帮助^_^

# objective-c - 3 月份日期之间的日期错误

> ID：14806269
> 
> 赞同：1
> 
> 时间：2013-02-11T05:15:41.927
> 
> 标签：objective-c

我有一个非常有趣的问题：计算两个日期之间的天数时，我的计算器**只给出了三月份**的错误结果。我有两个文本字段，每个日期一个。如果我在 date1 中输入 3/7/12，在 date2 中输入 3/13/12，结果是 7，这是正确的（我也在计算第一天）。但是当我输入 date1 = 3/7/12 和 date2 = 3/14/12 时，结果仍然是 7，但它应该是 8。同样，如果我输入 date1 = 3/7/12 和 date2 = 3/23 /12，结果应该是 17，但它是 16。如果我将月份更改为 4 月，使得 date1 = 4/7/12 和 date2 = 4/23/12，结果为 17。每个月都按预期工作，只有三月份给了我错误的结果。有谁知道我错过了什么？这是时区问题吗？我如何解决它？这是我的代码：

```
NSDateFormatter *dateFormatter1 = [[NSDateFormatter alloc] init]; 
    [dateFormatter1 setDateFormat:@"MM/dd/yyyy"]; 
    NSDate *startdate1 = [dateFormatter1 dateFromString: date1.text]; 

    NSDateFormatter *dateFormatter2 = [[NSDateFormatter alloc] init];
    [dateFormatter2 setDateFormat:@"MM/dd/yyyy"];
    NSDate *enddate2 = [dateFormatter2 dateFromString: date2.text];

    int start1 = [startdate1 timeIntervalSince1970];
    int end2 = [enddate2 timeIntervalSince1970];
    double difference12 = end2-start1;
    int days12;

    days12 =(int)((double)difference12/(3600.0*24.00)+1);

    result12.text = [[NSString alloc] initWithFormat:@"%i", days12] 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-11T05:40:05.957

如果您使用 NSCalendar，则无需处理夏令时计算。

```
int days = [[[NSCalendar currentCalendar] components:NSDayCalendarUnit
                    fromDate:startDate1
                      toDate:endDate2
                     options:0] day] + 1; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T09:48:28.383

您可以将 NSDate 视为一个时间点。如果您想计算两个日期之间的天数，这是一个日历问题，并且有多个日历（如玛雅日历）。

你需要的是 NSDateComponents：

```
NSDate *dateToday = [NSDate date];
NSDateComponents *dateBComponent = [[NSDateComponents alloc] init];
[dateBComponent setDay:-10];  
NSDate *date10DaysAgo = [[NSCalendar currentCalendar] dateByAddingComponents:dateBComponent
                                                                         toDate:dateToday
                                                                        options:0];

NSCalendar *calendar = [[[NSCalendar alloc] initWithCalendarIdentifier:NSGregorianCalendar] autorelease];
NSDateComponents *components = [calendar components:NSDayCalendarUnit
                                                 fromDate:date10DaysAgo
                                                   toDate:dateToday
                                                  options:0];

NSLog(@"Difference: %d", components.day); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-11T05:42:51.677

要添加到其他人，请不要一直依赖一天中的秒数是 86400，它不会。请务必观看[WWDC 2011](https://developer.apple.com/videos/wwdc/2011/)的 Session 211 Performing Calendar Calculations 。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-11T05:24:41.237

最喜欢的是夏令时问题（2012 年 3 月 11 日）。将日期格式化程序的时区设置为：

```
[NSTimeZone timeZoneForSecondsFromGMT:0]; 
```

这应该可以解决问题。

# c# - 成功登录后无法在聊天应用程序中获取消息

> ID：14806270
> 
> 赞同：-4
> 
> 时间：2013-02-11T05:15:42.013
> 
> 标签：c#, asp.net

我想做一个简单的聊天应用程序。我使用了以下链接 [http://www.codeproject.com/Articles/17617/Create-a-Chat-System-using-Ajax-and-ASP-NET](http://www.codeproject.com/Articles/17617/Create-a-Chat-System-using-Ajax-and-ASP-NET)

编写以下代码后，可以重定向到 chat.aspx 页面

```
 protected void btnJoin_Click(object sender, EventArgs e)
        {
            if (getUser(txtUserName.Text, txtPassword.Text))
            {
                if(c.CheckUser(txtUserName.Text))
                {
                   // lblError.Text = "You are in the chat room already!";
 Session["UserName"] = txtUserName.Text;
                    Response.Write("<script language=\"javascript\">" + "\n");
                    Response.Write("window.open(\"Chat.aspx\",\"chat\",\"width=800\",\"height=600\",\"toolbar=no\",\"menubar=no\")" + "\n</script>");
                }
                else
                {
                    c.AddCustomer(txtUserName.Text);
                    cc.joinRoom(txtUserName.Text);
                    Session["UserName"] = txtUserName.Text;
                    Response.Write("<script language=\"javascript\">" + "\n");
                    Response.Write("window.open(\"Chat.aspx\",\"chat\",\"width=800\",\"height=600\",\"toolbar=no\",\"menubar=no\")" + "\n</script>");
                    //Response.Redirect("Chat.aspx");
                }
            }
            else
            {
                lblError.Text = "Login Failed";
            }
        } 
```

但是我可以在右侧面板中反复看到用户的名称...如果两个用户在线，则应该只显示两个用户的名称，但我可以多次看到同一用户的名称

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-12T10:42:37.373

我在 CustomerManagement.cs 中进行了更改，现在它可以工作了

```
 public void AddCustomer(string sUser)
        {
            string cAddText = "<STRONG>" + sUser + "</STRONG>";
            if (CheckUser(sUser)==false)
            {
                cArray.Add(cAddText);
            }

            if (cArray.Count > 200)
            {
                cArray.RemoveRange(0, 10);
            }
        } 
```

# mysql - 按找到它们的字段对 SQL 结果进行排序

> ID：14806271
> 
> 赞同：1
> 
> 时间：2013-02-11T05:15:45.130
> 
> 标签：mysql, sql

我们有一个搜索查询，允许用户输入一个字符串，然后通过 LIKE '%string%' 搜索 3 个单独的字段。这些字段是：

*   姓名
*   描述
*   类型

然后什么时候返回结果，现在就随意订购它们。我们希望结果首先按在 Name 字段中找到的结果排序，然后按在 Description 字段中找到的项目排序，最后在 Type 字段中排序。因为我们也有与之相关的分页和排序，所以我们真的希望它在一个记录集中返回。这甚至可能吗？

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T07:53:23.537

在 MySQL 中，以下应该可以工作：

```
SELECT *
FROM atable
WHERE Name        LIKE '%string%'
   OR Description LIKE '%string%'
   OR Type        LIKE '%string%'
ORDER BY
   CASE
     WHEN Name        LIKE '%string%' THEN 1
     WHEN Description LIKE '%string%' THEN 2
     WHEN Type        LIKE '%string%' THEN 3
   END
; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T05:21:16.357

你可以试试这个：

```
Select * 
from Tablename 
where Name like '%string%' 
and description like '%string%' 
and type like '%string%' 
order by name,description,type 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-11T05:32:14.700

请试试这个：

```
Select * 
from Table 
where Name like '%string%' 
and description like '%string%' 
and type like '%string%' 
order by name,description,type 
```

# iphone - 多行在编辑模式下使用 UITextFields 插入自动插入，类似于联系人电话/电子邮件

> ID：14806280
> 
> 赞同：0
> 
> 时间：2013-02-11T05:16:31.540
> 
> 标签：iphone, contacts, edit, custom-cell, multirow

我正在尝试重新创建类似于在 iPhone 上的联系人编辑中添加/编辑电话号码或电子邮件的功能。我总是有一个空行，其中包含可用的占位符文本。在编辑模式下（按下工具栏上的按钮）我取消隐藏 UITextField。在“编辑更改”回调中，我在该部分中插入了一个新行，再次类似于 iPhone 联系人编辑视图。但是，当我开始修改第 2 行（按预期插入第 3 行）时插入后，第 1 行文本字段的值被清除为占位符值。
我在某处读到我需要将文本字段值存储在第 1 行中，在第 2 行插入时以及在结束编辑时（我假设），否则它会丢失？这对我来说似乎很奇怪，我想知道这是否是唯一的方法？我什么时候回去恢复它？当我插入新行并修改之前所有行中最后一行的值被清除时，这当然会不断重复。谁能指出一个类似于联系人编辑功能的示例？如果我通过让最后一行始终是“+ Add Value”行来改变插入行的方式，那会有帮助吗？我不这么认为。另外，如果我可以将第一行的样式从 UITableViewCellEditingStyleNone 更改为 UITableViewCellEditingStyleDelete，那就太好了，但无论我尝试什么，包括在中间切换编辑 NO/YES 设置所有可见行以对忽略转换做出反应，我都无法让它工作，除了最后一行之外的所有内容都带有 UITableViewCellEditingStyleDelete。所以我认为可以让我无法删除初始行（不是我想要的，但我可以忍受）。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T16:58:22.667

为什么要在你的情况下重复使用？如果所有行始终都在屏幕上，只需为每个行创建一个新的 UITableViewCell。

```
UITableViewCell *cell = [[[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:nil] autorelease]; 
```

配置内容继续它...

```
[cell.contentView addSubview:WHATEVER_YOU_CREATED];
[cell.contentView sizeToFit];
return cell; 
```

重用单元格对于那些有很多行的人来说是一种重用不再可见的行以节省资源的方法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T15:44:44.437

请确认，但我猜测从进一步阅读中将行滚动出视图会导致相同的问题，因此在我的情况下，textFieldDidEndEditing 以及可能在每个插入上都需要处理以将“新”数据存储在相应的每行的数据存储数组的条目。但是，在没有滚动的情况下，我可能需要执行以下操作： - (void)reloadRowsAtIndexPaths:(NSArray *)indexPaths withRowAnimat.... 对于正在修改的部分中的所有行以及可能所有可见行。确认非常感谢。

# django - 找不到 Django 错误页面 (404)

> ID：14806289
> 
> 赞同：0
> 
> 时间：2013-02-11T05:17:18.570
> 
> 标签：django

我一直在[http://lightbird.net/dbe/photo.html](http://lightbird.net/dbe/photo.html)上开发这个照片管理器和共享应用程序第一部分。我正在尝试添加图片，当我这样做时。我得到这个错误。

```
 Page not found (404)
Request Method: GET 
Request URL: http://donkey123.pythonanywhere.com/admin/photo/image/1/images/Penguins_7.jpg/ 

image object with primary key u'1/images/Penguins_7.jpg' does not exist.

You're seeing this error because you have DEBUG = True in your Django settings file. Change that to False, and Django will display a standard 404 page. 
```

我的模型是

```
from django.db import models
from django.contrib.auth.models import User
from django.contrib import admin
from string import join
import os
from PIL import Image as PImage
from mysite.settings import MEDIA_ROOT

class Album(models.Model):
    title = models.CharField(max_length=60)
    public = models.BooleanField(default=False)
    def __unicode__(self):
        return self.title

class Tag(models.Model):
    tag = models.CharField(max_length=50)
    def __unicode__(self):
        return self.tag

class Image(models.Model):
    title = models.CharField(max_length=60, blank=True, null=True)
    image = models.FileField(upload_to="images/")
    tags = models.ManyToManyField(Tag, blank=True)
    albums = models.ManyToManyField(Album, blank=True)
    created = models.DateTimeField(auto_now_add=True)
    rating = models.IntegerField(default=50)
    width = models.IntegerField(blank=True, null=True)
    height = models.IntegerField(blank=True, null=True)
    user = models.ForeignKey(User, null=True, blank=True)

    def __unicode__(self):
        return self.image.name
    def save(self, *args, **kwargs):
        """Save image dimensions."""
        super(Image, self).save(*args, **kwargs)
    im = PImage.open(os.path.join(MEDIA_ROOT, self.image.name))
    self.width, self.height = im.size
    super(Image, self).save(*args, ** kwargs)
def size(self):
    """Image size."""
    return "%s x %s" % (self.width, self.height)

def __unicode__(self):
    return self.image.name

def tags_(self):
    lst = [x[1] for x in self.tags.values_list()]
    return str(join(lst, ', '))

def albums_(self):
    lst = [x[1] for x in self.albums.values_list()]
    return str(join(lst, ', '))

def thumbnail(self):
    return """<a href="/media/%s"><img border="0" alt="" src="/media/%s" height="40" /></a>""" % (
                                                                (self.image.name, self.image.name))
thumbnail.allow_tags = True

class AlbumAdmin(admin.ModelAdmin):
    search_fields = ["title"]
    list_display = ["title"]

class TagAdmin(admin.ModelAdmin):
    list_display = ["tag"]

class ImageAdmin(admin.ModelAdmin):
    search_fields = ["title"]
    list_display =     ["__unicode__", "title", "user", "rating", "size", "tags_", "albums_","thumbnail","created"]
    list_filter = ["tags", "albums","user"]

def save_model(self, request, obj, form, change):
    obj.user = request.user
    obj.save() 
```

`MEDIA_ROOT=`我认为 My Models,py 很好，但我认为问题在于 `MEDIA URL=`

我的`MEDIA_ROOT = '/home/donkey123/mysite/photo'`

而我`MEDIA_URL`的是“”，它是空白的。

我不知道该为我准备什么，`MEDIA_URL`这是问题所在。

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T05:57:15.800

在您的模型中（注意末尾不需要斜线）：

```
image = models.FileField(upload_to="images") 
```

这意味着这些图像将进入`{media folder}/images/`

在 settings.py 中：

```
MEDIA_ROOT = os.path.join(os.path.dirname(__file__), '../../web/media').replace('\\','/') 
```

这意味着媒体文件夹是：`project_root/web/media`

所以这个模型的图像将进入：`project_root/web/media/images`

上面的东西定义了图像在文件系统上的保存位置。现在您要做的是定义通过 HTTP 访问它们的位置。

在 settings.py 中定义指向媒体文件夹的 url：

```
MEDIA_URL = '/media/' 
```

然后来自该模型的图像将位于：

```
http://my-url/media/images/image_name.jpg 
```

首先使用一个图像在没有您的模型/库的情况下测试这些设置。然后阅读以下内容：

要回答您的具体问题：

我的 MEDIA_ROOT = '/home/donkey123/mystic/photo' => 查看我的示例，MEDIA_ROOT 应该与您的 settings.py 文件相关，因此它可以在上线时工作，在另一台开发机器上等。

我的 MEDIA_URL= 是 "" 是空白的。=> 那应该是 '/media/' 因为在模型中你正在这样做：

```
def thumbnail(self):
    return """<a href="/media/%s"> 
```

希望有帮助

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T05:23:37.030

**设置.py**

```
import os

PROJECT_ROOT = os.path.join(os.path.dirname(__file__), '..')
SITE_ROOT = PROJECT_ROOT

MEDIA_ROOT = os.path.join(SITE_ROOT, 'media')
MEDIA_URL = '/media/' 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-11T05:51:57.693

问题在于您的正则表达式`urls.py`，它将后面的所有内容`1`作为主键传入。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-03-15T10:55:19.293

我认为，当任何网页被删除或移动时，就会发生 404。否则你的托管服务提供商不好。

# linux - linux内核参数'rootwait'被忽略

> ID：14806294
> 
> 赞同：2
> 
> 时间：2013-02-11T05:17:59.450
> 
> 标签：linux, kernel, debian

根据[http://www.kernel.org/doc/Documentation/kernel-parameters.txt](http://www.kernel.org/doc/Documentation/kernel-parameters.txt)参数“rootwait”应该导致内核无限期地等待根设备出现。

这似乎对我不起作用——几秒钟后，我被扔到了外壳上。

我设置了一个完全加密的专用服务器，因此需要远程解锁它。我将 cryptsetup 配置为继续尝试从文件中读取设备密钥。当我想解锁服务器时，我只需通过 SSH (dropbear) 将密钥文件复制到服务器，然后服务器继续启动。

这里的问题是，如果我等待太久，内核将掉入一个 shell 并且不会自动挂载 rootfs 并继续引导。

我正在使用 debian 和 wheezy 存储库中最新的 3.2.0-4-rt-amd64 内核。

对我有什么提示吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-11T05:22:24.500

`rootwait`内核参数仅影响引导的第一阶段，而内核*正在*等待其初始根设备。根据您的描述，内核已经安装了某种根设备（存根根或 initramfs）并开始执行启动脚本，因此该`rootwait`参数不再适用 - 无论何时触发超时都在其他地方指定。您需要查看处理此问题的启动脚本并适当地修改它们。

# linux - bash 中的垃圾收集

> ID：14806296
> 
> 赞同：14
> 
> 时间：2013-02-11T05:18:06.100
> 
> 标签：linux, bash

bash 是否运行垃圾收集器？可以通过一些命令行选项来控制吗？我在网上找不到任何关于此的信息。

我有一个运行的 bash 脚本，几天后它的内存使用量增加了。我想知道记忆的去向。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-02-11T06:46:25.483

Bash 不会像这样运行垃圾收集器。由于它没有引用的概念，所以没有引用就不需要找数据。不过，它确实释放了不再使用的内存。

这是声明和覆盖大变量之前和之后的内存使用情况的简单演示。内存使用量先升后降：

```
ps -o rss -p $$
var=$(printf "%s\n" {1..100000})
ps -o rss -p $$
var="smallstring"
ps -o rss -p $$ 
```

# compiler-errors - Ada95 Tagged Limited Record 给我错误“无法限制完成非限制类型”

> ID：14806299
> 
> 赞同：1
> 
> 时间：2013-02-11T05:18:09.360
> 
> 标签：compiler-errors, record, ada

我有一个通用的二叉搜索树包，名为 gen_BST 和我刚刚创建的它的子包，名为 gen_BST.AVL。

当我尝试编译我的代码时，Ada 编译器给了我一条错误消息：“不能限制非限制类型的完成”——这是什么意思，我该如何解决？

忽略正文/规范，这是记录声明：

```
--Gen_BST:
--Type Declarations
   TYPE Node IS LIMITED PRIVATE; -- The node itself.
   TYPE Root IS ACCESS Node;     -- Pointer to the node.

PRIVATE

--Record Declaration
   TYPE Node IS TAGGED LIMITED RECORD
      Data : Data_Type;
      Left_Child, Right_Child : Root;
   END RECORD;

--Gen_BST.AVL:
   TYPE AVL_Node IS PRIVATE;
   TYPE AVL_Root IS ACCESS AVL_Node;

PRIVATE
   TYPE AVL_Node IS NEW Node WITH RECORD
      Height : Natural;
   END RECORD; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T08:39:57.527

当您说`type AVL_Node is new Node ...`,`AVL_Node`从 继承各种属性时`Node`，其中一个属性是有限性（[ARM 7.5(3)](http://www.ada-auth.org/standards/12rm/html/RM-7-5.html#p3)）。公众视野`AVL_Node`是无限的，所以全景也必须如此。一种解决方法是限制公众视野（`type AVL_Node is limited private;`）；或者，您可以全面了解`Node`非限制 ( `type Node is tagged record ...`)。

许多人会同意标记类型应始终受到限制，但我想知道为什么`Node`并`AVL_Node`公开声明？我原以为它们是实施的一部分。

# jsp - spring 3，tiles - JSp 页面在返回或刷新后失去所有 CSS 效果

> ID：14806301
> 
> 赞同：0
> 
> 时间：2013-02-11T05:18:45.487
> 
> 标签：jsp, spring-mvc, tiles

我有一个 spring 3 + tile 应用程序，带有 spring 安全性和适当的东西。不幸的是，当我登录用户（验证）并转发到登录主页时，一切看起来都很棒，但是当我刷新同一个页面时，我失去了所有 CSS UI 内容，页面是纯文本，所有 UI 元素都是分散的。

任何帮助表示赞赏

我的tiles.xml 看起来像

```
<tiles-definitions>
    <definition name="base.definition" template="/WEB-INF/views/layout.jsp">
        <put-attribute name="header" value="/WEB-INF/views/login_header.jsp" />
        <put-attribute name="body" value="" />
        <put-attribute name="footer" value="/WEB-INF/views/footer.jsp" />
    </definition>

    <definition name="home" extends="base.definition">
        <put-attribute name="header" value="/WEB-INF/views/header.jsp" />
        <put-attribute name="body" value="/WEB-INF/views/home.jsp" />
    </definition>

    <definition name="welcome" extends="base.definition">
        <put-attribute name="header" value="/WEB-INF/views/login_header.jsp" />
        <put-attribute name="body" value="/WEB-INF/views/welcome.jsp" />
    </definition>
</tiles-definition> 
```

我的 layout.jsp

```
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<%@ taglib uri="http://tiles.apache.org/tags-tiles" prefix="tiles"%>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%>
<%@taglib uri="http://www.springframework.org/tags/form" prefix="form"%>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <script type="text/javascript" src="http://code.jquery.com/jquery-latest.js"></script>
        <script type="text/javascript" src="http://jzaefferer.github.com/jquery-validation/jquery.validate.js"></script>
        <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
        <script type="text/javascript" src=<c:url value="/resources/js/jquery.leanModal.min.js"/>></script>
        <link rel="stylesheet" type="text/css" href=<c:url value="/resources/css/style.css"/> media="screen" />
    </head>
    <body>
        <tiles:insertAttribute name="header" />
        <tiles:insertAttribute name="body" />
        <tiles:insertAttribute name="footer" />
    </body>
</html> 
```

用户登录后的实际页面如下所示 ![实际页面](../Images/b3d7ab3fb18bbfc69953d09ba235cd74.png)

刷新同一页面后，我的页面如下所示 ![刷新后页面乱了](../Images/98e88490a0dd960189a121ea33932de3.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T05:48:34.207

在@w4rumy 的帮助下，我发现了这个问题，这是因为我的本地资源由于错误的弹簧安全访问而无法访问。我本来`<sec:intercept-url pattern="/resources/**" access="ROLE_ANONYMOUS"/>`应该是`<sec:intercept-url pattern="/resources/**" access="IS_AUTHENTICATED_ANONYMOUSLY"/>`

# ruby-on-rails - 在 Rails 中强制 HTTP 响应返回状态 200

> ID：14806310
> 
> 赞同：29
> 
> 时间：2013-02-11T05:19:49.007
> 
> 标签：ruby-on-rails, ruby-on-rails-3

除了我返回 500 的严重情况外，您如何强制您的请求返回状态 200？目前，我遇到的问题是我的客户不断收到状态码 411（未指定长度），这导致我的测试框架出现问题。

有没有办法在 Rails 控制器中手动指定返回状态？

编辑：更具体地说，我知道你可以使用

> ：地位

但是在使用时我应该把它放在哪里

> format.json { 渲染 :json=>final_obj}

POST 后返回 HTTP 响应？

* * *

## 回答 #1

> 赞同：58
> 
> 时间：2013-02-12T13:32:44.073

```
render status: 200, json: @controller.to_json 
```

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2013-02-11T07:55:36.750

如果我正确理解了您的问题，我想这应该回答您的问题。

红宝石 1.9.3

```
format.json { render json: final_obj, status: :ok } 
```

红宝石 1.8.7

```
format.json { render :json => final_obj, :status => :ok } 
```

# java - Phonegap 创建命令自动化

> ID：14806311
> 
> 赞同：2
> 
> 时间：2013-02-11T05:19:50.083
> 
> 标签：java, php, android, cordova

对于一个网站，我需要用户输入文件夹名称并从 phonegap 为 android 项目执行“创建”命令。我如何使用 php 命令 shell_exec() 执行此操作？php 是否需要特殊的：java android ant 权限。有哪些改变？

# java - html 服务器 grizzly+jersey（来自 .jar 存档的 .html）

> ID：14806312
> 
> 赞同：2
> 
> 时间：2013-02-11T05:19:53.727
> 
> 标签：java, web-services, jersey, grizzly

我想从 .jar 存档而不是文件夹中提供我的 .html 站点。目前我使用 grizzly（带球衣）并提供静态页面，例如：

```
HttpServer webServer;
....
....
webServer.getServerConfiguration().addHttpHandler(new StaticHttpHandler("varwww"), "/app");
webServer.start(); 
```

有没有办法让网络服务器不从文件夹“varwww”中检索 .html 并从 myhtml.jar 中获取它？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-05-29T00:40:03.777

此功能在 Grizzly 2.3.3+ 中实现。这是记者的[问题](https://java.net/jira/browse/GRIZZLY-1513)。

您可以使用特殊的 CLStaticHttpHandler 并传递 ClassLoader 以用于查找静态资源。例如：

```
httpServer.getServerConfiguration().addHttpHandler(
            new CLStaticHttpHandler(new URLClassLoader(new URL[] {new URL("file:///home/username/staticfiles.jar")})), "/www"); 
```

希望这会有所帮助。

# php - 需要散列最多 500 个字符的字符串（想想密码风格的加密），这很难逆转

> ID：14806316
> 
> 赞同：0
> 
> 时间：2013-02-11T05:20:08.323
> 
> 标签：php, string, encryption, hash

我将“秘密”字符串作为散列存储在数据库中（以防数据泄露）。我正在使用 bcrypt，但发现它显然只需要前 55 个字符。基本上有人会尝试猜测这些秘密字符串，我目前将他们的猜测散列并将其与散列的“秘密”字符串进行比较。

最好的方法是什么？Bcrypt 将不起作用，因为某些字符串最多可包含 500 个字符。有任何想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T09:41:54.373

如果输入是可猜测的，不要只使用普通哈希（无论是 MD5、SHA-1 还是 SHA-2）。验证猜测对他们来说很便宜。

一个简单的技巧是首先使用 SHA-256 对输入进行哈希处理（将其减少到 32 个字节或 43 个 Base64 字符），然后对其应用 bcrypt。

这样，bcrypt 负责处理昂贵和加盐的问题，而 SHA-256 负责处理大量输入。

请参阅[https://security.stackexchange.com/questions/30315/fixing-the-high-bit-problem-in-phps-crypt-implementation/30326#30326](https://security.stackexchange.com/questions/30315/fixing-the-high-bit-problem-in-phps-crypt-implementation/30326#30326)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T05:38:29.527

您可以尝试使用[Blowfish](http://en.wikipedia.org/wiki/Blowfish_%28cipher%29) - 没有长度限制的对称加密算法。

PHP Pear 实现了[Crypt_Blowfish](http://pear.php.net/package/Crypt_Blowfish)类。

如果不需要解密能力，最好使用类似`SHA1`. PHP 也[支持它](http://php.net/manual/en/function.sha1.php)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-11T06:07:57.740

我是 MD5 的忠实粉丝，它比 SHA 更快，而且几乎不可逆。我用它来做整个文件作为校验和比较。此外，它是 PHP 中的内置函数。

只需对传入的字符串进行 MD5 处理，并将其与存储在数据库中的 MD5 化答案进行比较。

MD5 字符串只有 32 个字符长。虽然缩小数据库大小非常棒，但有可能两个长字符串实际上具有相同的 MD5 结果，但这是极不可能的。

# android - java.net.SocketException：sendto 失败：EPIPE（断管）

> ID：14806323
> 
> 赞同：1
> 
> 时间：2013-02-11T05:20:34.003
> 
> 标签：android, alfresco, httpurlconnection, cmis, opencmis

我正在尝试通过 Android 的 OpenCMIS 查询 Alfresco 存储库。但是低于错误但不是每次。这是我的代码。当我作为独立程序运行但不能在 Android 上正常运行时，此代码工作正常。

```
getCMISClientSession();
ItemIterable<QueryResult> results = session.query("SELECT * FROM cmis:document 
                   where cmis:name ='"+docName+"'", false);

for (QueryResult result : results) { //Exception thrown from here

    String docId = result.getPropertyValueById(PropertyIds.OBJECT_ID);
    doc = (Document)session.getObject(docId);

} 
```

堆栈跟踪

```
org.apache.chemistry.opencmis.commons.exceptions.CmisConnectionException: Cannot access http://<192.168.1.122>:8080/alfresco/cmisatom/eee7da3c-d3d4-48de-89a1-52145a6a6e06/query: sendto failed: EPIPE (Broken pipe)
at org.apache.chemistry.opencmis.client.bindings.spi.http.HttpUtils.invoke(HttpUtils.java:224)
at org.apache.chemistry.opencmis.client.bindings.spi.http.HttpUtils.invokePOST(HttpUtils.java:74)
at org.apache.chemistry.opencmis.client.bindings.spi.atompub.AbstractAtomPubService.post(AbstractAtomPubService.java:561)
at org.apache.chemistry.opencmis.client.bindings.spi.atompub.DiscoveryServiceImpl.query(DiscoveryServiceImpl.java:137)
at org.apache.chemistry.opencmis.client.runtime.SessionImpl$3.fetchPage(SessionImpl.java:567)
at org.apache.chemistry.opencmis.client.runtime.util.AbstractIterator.getCurrentPage(AbstractIterator.java:132) 
at org.apache.chemistry.opencmis.client.runtime.util.CollectionIterator.hasNext(CollectionIterator.java:48) 
```

这是因为Android模拟器很慢吗？请建议我如何解决此错误。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-23T08:02:32.597

你能试试这个版本[0.8.0-alfresco-patched](https://artifacts.alfresco.com/nexus/service/local/repositories/thirdparty/content/org/apache/chemistry/opencmis/chemistry-opencmis-android-client/0.8.0-alfresco-patched/chemistry-opencmis-android-client-0.8.0-alfresco-patched.jar)还是最终使用来自[Apache chemistry CI的最新版本](https://repository.apache.org/content/groups/public/org/apache/chemistry/opencmis/chemistry-opencmis-android-client/0.9.0-SNAPSHOT/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-07-10T09:54:43.237

模拟器不适用于需要 Internet 连接的应用程序。用真机试试。

# c++ - 如何从给定数组打印最长递增子序列（LIS）？

> ID：14806328
> 
> 赞同：3
> 
> 时间：2013-02-11T05:20:48.803
> 
> 标签：c++, algorithm

我可以通过普通函数和递归函数打印 LIS 的长度。但我想在 C++ 中的给定数组中打印 LIS 子序列的索引。

这是我查找 LIS 长度的函数：

```
int lis( int *arr, int n )
{
   int *lis, i, j, max = 0;
   lis = (int*) malloc ( sizeof( int ) * n );
   for ( i = 0; i < n; i++ )
      lis[i] = 1;
   for ( i = 1; i < n; i++ )
      for ( j = 0; j < i; j++ )
         if ( arr[i] > arr[j] && lis[i] < lis[j] + 1)
            lis[i] = lis[j] + 1;
   for ( i = 0; i < n; i++ )
      if ( max < lis[i] )
         max = lis[i];
   /* Free memory to avoid memory leak */
   free( lis );
   return max;
} 
```

这里`array[10]={7 6 2 3 4 1 8 5 9 10}`

这里`LIS Length=6`

我想打印数字的索引`{2 3 4 6 8 9}`（它不是它的数组索引，我想打印的序列）`array[10]`

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-02-11T07:44:15.163

在为每个索引计算 lis 后，取一个等于 max 的 tmp 值，在 lis 数组上倒退，每次找到等于 max 的元素时，将该索引添加到答案并减少 tmp。因此，您将以相反的顺序获得索引数组。

示例代码：

```
int tmp = max;
std::vector<int> indexes;
for( i = n - 1; i >= 0; --i )
   if( lis[ i ] == tmp )
   {
      indexes.push_back( i );
      --tmp;
   }
std::reverse( indexes.begin(), indexes.end()); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-02-19T21:17:26.453

要按顺序打印，您可以使用递归方法：调用： printLIS(lis, lis.length -1, arr, max)

```
public static void printLIS(int[] lis, int lisIndex, int[] arr, int max) {
    if(max == 0) {
        return;
    }
    if(lis[lisIndex] == max) {
        printLis(lis,lisIndex-1, arr, max-1);
        System.out.print(arr[lisIndex] + " ");
    } else {
        printLis(lis,lisIndex-1, arr, max);
    }

} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2020-07-20T16:12:37.770

```
void solution() {
  int n;
  cin >> n;
  vector<int> v(n);
  for (int &x : v) cin >> x;
  vector<int> dp(n, 1);
  int i = 0, j = 1;
  vector<int> par(n);
  for (int i = 0; i < n; i++) {
     par[i] = i;
  }
  for (int j = 1; j < n; j++) {
     for (int i = 0; i < j; i++) {
        if (v[j] > v[i] && dp[j] < dp[i] + 1) {
           dp[j] = dp[i] + 1;
           par[j] = i;
        }
     }
  }
  int mx = 1, idx = 0;
  for (int i = 0; i < n; i++) {
     if (dp[i] > mx) {
        mx = dp[i];
        idx = i;
     }
  }
  cout << mx << "\n";
  vector<int> seq;
  while (true) {
     seq.pb(v[idx]);
     if (par[idx] == idx) break;
     idx = par[idx];
  }
  reverse(seq.begin(), seq.end());
  for (int i = 0; i < mx; i++) {
     cout << seq[i] << " ";
  }
} 
```

* * *

维护一个父数组并从 LIS 以父节点结束的索引向后退，直到到达 parent[index] = index 的索引。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-07-16T12:33:48.600

```
int lis( int *arr, int n )
{
   int *lis, i, j, max = 0, max_index = 0;
   int *print = (int*)malloc(sizeof(int)*n);
   lis = (int*) malloc ( sizeof( int ) * n );
   for ( i = 0; i < n; i++ ){
      lis[i] = 1;
        print[i] = -1
    }
   for ( i = 1; i < n; i++ )
      for ( j = 0; j < i; j++ )
         if ( arr[i] > arr[j] && lis[i] < lis[j] + 1){
            lis[i] = lis[j] + 1;
            print[i] = j;
        }
   for ( i = 0; i < n; i++ ){
      if ( max < lis[i] ){
         max = lis[i];
        max_index = i;
      }
    }
    while(max_index >=0){
        printf("%d ",lis[max_inc_index]);
        max_index = print[max_index];
    }
   /* Free memory to avoid memory leak */
   free( lis );

   return max;
} 
```

使用一个额外的数组来跟踪索引，这是最长子序列的一部分，然后遍历数组以打印所有相应的元素。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2020-08-01T18:00:43.190

如果有人对 Java 版本感兴趣。评论解释。

```
 public int lengthOfLIS(int[] nums) {
    if(nums.length == 0) return 0;
    // array to store sub-problem solution. L[i] stores the length
    // of the longest increasing sub-sequence ends with nums[i]
    int[] L = new int[nums.length];
    // used to print the actual LIS
    int[] P = new int[nums.length];

    // longest increasing sub-sequence having just one element has length 1
    Arrays.fill(L, 1);
    Arrays.fill(P, -1);

    // start from second element in the array
    for(int i=1; i<nums.length; i++) {

        // do for each element in sub-array nums[0..i-1]
        for(int j=0; j<i; j++) {
            // find longest increasing sub-sequence that ends with nums[j]
            // where nums[j] is less than the current element nums[i]
            // and it extends the original sub-sequence increasingly
            if(nums[j] < nums[i] && L[i] < L[j]+1) {
                L[i] = L[j] + 1;
                // store what index helped to extend L[i] 
                P[i] = j;
            }
        }
    }
     /* find the maximum LIS from L calculated also its index */
    int max=L[0], maxIndex=0;
    for(int i=1; i<nums.length; i++) {
        if(max<L[i]) {
            max=L[i];
            maxIndex=i;
        }
    }
    //starting from index of max-length LIS traverse back 
    //using P array populated earlier
    while (maxIndex >= 0) {
        System.out.print(nums[maxIndex]+", ");
        maxIndex = P[maxIndex];
    }
    return max;
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2019-08-10T06:50:19.970

不是最好的方法，但你可以试试...

```
int lis(int ar[], int n) {

int max = INT_MIN;
int* lis = new int[n];
int* sub_arr = new int[n];

for (int i = 0; i < n; ++i)
    lis[i] = 1;

for (int i = 1; i < n; ++i) {
    for (int j = 0; j < n; ++j) {
        if(ar[i] > ar[j] && lis[j] + 1 >= lis[i]) {
            lis[i] = lis[j] + 1;
            sub_arr[i] = j;
        }
    }
}

for (int i = 0; i < n; ++i) {
    if(max < lis[i])
        max = ar[i];
}

int k = 0;
stack <int> st;
for (int i = 0; i < n; ++i) {
    if(max == lis[i])
        k = i;
}

cout << "Longest Incresing Subsequence : ";

st.push(k);
while(k > 0) {
    st.push(sub_arr[k]);
    k = sub_arr[k];
}

while (!st.empty()) {
    cout << ar[st.top()] << ' ';
    st.pop();
}
cout << endl;

return max;
} 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2017-03-14T15:29:52.553

可以声明动态数组，其长度等于递增序列的最大长度。数组 ANS 将保持最长的递增序列。

```
int *ans=(int*)malloc(sizeof(int)*max); 
```

临时变量用于保持数组中最大长度的索引。

```
 int index;
    int length; //used to fill array ANS in reverse order.
    for ( i = 0; i < n; i++ )
      {
          if ( max < lis[i] )
          {
              max = lis[i];
              index=i;
          }
      }
    length=max;
    ans[length-1]=arr[index];  //filling array from the last
                               //last element will be the greatest element
    length--;
    while(index>0)
    {
        for(i=index-1;i>=0;i--)
        {
            if(lis[i]+1==lis[index] && arr[i]<arr[index])
            {
                ans[length-1]=arr[i]; 
                index=i;
                length--;
                break;
            }
        }
    }
    for(i=0;i<max;i++)
    {
        printf("%d",ans[i]);
    } 
```

这里的复杂度是 O(n) 而不是 O(n2)，即使它可能使用两个循环，因为只要输入块，我们就会将 index 的值更改为 i。

# java - 在java中手动超时httpurlconnection

> ID：14806330
> 
> 赞同：1
> 
> 时间：2013-02-11T05:20:55.157
> 
> 标签：java, timeout, settimeout, httpurlconnection

我试图以下列方式超时 httpurlconnection

```
URL urlConnect = new URL(url.toString());
HttpURLConnection.setFollowRedirects(false);
HttpURLConnection urlc = (HttpURLConnection) urlConnect.openConnection();
urlc.setConnectTimeout(1000*5);
urlc.setReadTimeout(1000*5);
urlc.connect(); 
```

但无法连接，它采用 apache tomcat 分配的 2 分钟超时，而不是我提供的 5 秒 g，在这种情况下如何手动超时 httpurlconnection

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-11T06:12:25.003

以下是 Java 手册对 connectTimeout 和 readTimeout 的说明：

连接超时

> 设置一个指定的超时值，以毫秒为单位，在打开到此 URLConnection 引用的资源的通信链接时使用。如果在建立连接之前超时到期，则会引发 java.net.SocketTimeoutException。超时为零被解释为无限超时。

读超时

> 将读取超时设置为指定的超时，以毫秒为单位。当与资源建立连接时，非零值指定从输入流读取时的超时。如果在有数据可供读取之前超时到期，则会引发 java.net.SocketTimeoutException。超时为零被解释为无限超时。

因此，我认为在您的情况下，您设法在不到 5 秒的时间内建立了通信链接，并且您没有读取任何输入流。因此行为是正确的（等到 Apache 超时）

# javascript - 从动态生成的数据创建链接

> ID：14806332
> 
> 赞同：-1
> 
> 时间：2013-02-11T05:21:01.393
> 
> 标签：javascript, jquery, jquery-mobile

我使用 jQuery mobile，我有一个从 javascript 生成的项目列表，它调用连接到 mysql 数据库并将其输出到 JSON 数组的服务器端 php 脚本。它完美地工作，示例如下：

```
$(document).ready(function(){
var url="http://www.mysite.com/json.php";
$.getJSON(url,function(json){
var output='<ul data-role="listview">';
$.each(json.menu,function(key,val) {
    output+='<li>';
    output+= '<a href="#menuitem" onclick="showItem(' + val.menu_title + ')">';
    output+='<h3>' + val.menu_title + '</h3>';
    output+='<img src="' +val.menu_img +'" />';
    output+='<p>' +val.menu_desc + '</p>';
    output+= '</a>';
    output+='</li>';
});
output+='</ul>';
$('#menulist').html(output);
});
}) 
```

我需要的是一个 showItem 函数，因此当我单击列表视图中的单个项目时，它将将该信息传递给动态创建的详细说明该单个项目的页面。希望有一个简单的答案，我尝试了一些不同的方法，但都没有奏效。任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T05:46:37.343

您将需要从服务器检索更多信息。如果您想查看动态创建的页面，详细说明单个项目，您将需要某种类型的`ID`.

1.  我建议将id 添加到`ID`代码的第 7 行*（您在其中创建 a 标签的开头部分）*并在那里添加 id，`href`比如说`onclick`
2.  然后我会在`a tag`say中添加一个类`details`
3.  你的最终结果应该看起来像这样：

`output+= '<a class="details" href="#itemid-' + val.itemid + '">';`

最后，添加以下 jQuery

```
$( '#menulist' ).on( 'click', '.details', function () {
    // Whatever your navigation is, it should go here
    // Eg: window.location = this.href;
});` 
```

# java - 两次添加java对象

> ID：14806334
> 
> 赞同：0
> 
> 时间：2013-02-11T05:21:06.233
> 
> 标签：java, eclipse, object, add

所以我对 Java 比较陌生，而且我一直在使用 Eclipse。主要部分是最后三行，我想让对象`myBrick`多次出现。如果我运行它，它只会出现在第二个位置（最后一行）。可能吗？

```
import acm.graphics.*;
import acm.program.*;
import java.awt.*;

public class Pyramid extends GraphicsProgram {

    /** Width of each brick in pixels */
    private static final int BRICK_WIDTH = 30;

    /** Height of each brick in pixels */
    private static final int BRICK_HEIGHT = 12;

    /** Number of bricks in the base of the pyramid */
    private static final int BRICKS_IN_BASE = 14;

    public void run() {
        double windowWidth = 756;
        double windowHeight = 494;
        int numberOfBricks = (BRICKS_IN_BASE*(BRICKS_IN_BASE+1))/2;

        double emptySpace = windowWidth - (BRICK_WIDTH*BRICKS_IN_BASE);
        int cushion = (int)emptySpace/2;

        GRect myBrick = new GRect(BRICK_WIDTH, BRICK_HEIGHT);
        add(myBrick, cushion, (windowHeight-BRICK_HEIGHT));
        add(myBrick, (cushion+BRICK_WIDTH), (windowHeight-BRICK_HEIGHT));
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T05:28:13.667

我认为问题可能是当您使用第二个 add() 方法时，它使用的是相同的 myBrick 对象，而不是创建第二个对象。尝试为您的第二个 add() 函数创建一个新的 GRect 对象。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T06:00:16.410

第二个`add()`是使用与第一个相同的对象引用。Java 是一种*按值传递的*语言，但它将引用的值传递给对象。这意味着无论第一次发生的任何突变`add()`都会`myBrick`被第二次`add()`调用看到，我确信这违反了程序的语义。（我建议你阅读[这篇 SOF 帖子](https://stackoverflow.com/questions/40480/is-java-pass-by-reference)）

对象的构造`GRect`似乎并不太复杂，那么为什么不复制这条指令并将其用于每个`add()`调用的第一个参数呢？这样，您可以确保您有两个`GRect`以相同状态开始的对象，但修改一个不会影响另一个。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-11T06:03:15.340

正如其他人所指出的，不看 add 方法，很难给你答案。但如果我没记错的话，可能你正在寻找这样的东西，

1.  创建该对象的列表。列表 rectList = new ArrayList();
2.  创建新的 GRect 对象，然后调用 add 函数。
3.  将新的 GRect 对象添加到 rectList。

这样在列表中您将拥有三个 GRect 对象。您可以迭代并获取 GRect 对象的值。

# javascript - D3：无效属性[object Object]

> ID：14806336
> 
> 赞同：1
> 
> 时间：2013-02-11T05:21:22.033
> 
> 标签：javascript, svg, d3.js

我有以下结构的 JSON 列表：

```
[
    {'uid': 4, 'x': -1.2354657, 'y': -0.992893}
    {'uid': 26, 'x': 0.2783682, 'y': -0.1931}
    ...
    {'uid': 26, 'x': -0.278356, 'y': 0.082983}
] 
```

我正在尝试将`svg:circle`元素附加到此列表中的和值`svg`指定的点。AJAX 请求正常工作，但我不断收到.`x``y``Error: Invalid value for <circle> attribute cy="[object Object]"`

相关的javascript代码：

```
var svg = d3.select('#d3')
        .append('svg')
        .append('g')
            .attr('class', 'main')

    ...

var x = d3.scale.linear()
        .domain(d3.extent(data, function (d) {return d.x;}))
        .range([0, width]);

var y = d3.scale.linear()
        .domain(d3.extent(data, function (d) {return d.y;}))
        .range([height, 0]);
    ...

 svg.selectAll('.bloom')
        .data(data)
    .enter()
    .append('g')
        .attr('class', 'bloom')
    .append('circle')
        .attr('class', 'bloom-circle')
        .attr('cx', function (d) {return x(d.x);})
        .attr('cy', function (d) {return y(d.y);})
        .attr('r', 10)
        .style('fill', 'purple')
        .style('stroke', 'white')
        .style('stroke-width', '5px'); 
```

我真的不知道发生了什么，因为`d3.scale.linear`应该总是在它的`range`. 有谁知道为什么会这样？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T09:38:35.390

当范围没有很好地指定时，比例尺返回一个空对象。例如，以下两个标度`{}`在为任何值调用时都将返回：

```
d3.scale.linear.domain([0, 1]).range([0, undefined])
d3.scale.linear.domain([0, 1]).range([0, NaN]) 
```

因此，在执行时是否已`height`明确`width`定义？

# highcharts - 具有两个 x 轴的 Highcharts，第二个轴应绘制在 y 轴值的平均值处

> ID：14806341
> 
> 赞同：0
> 
> 时间：2013-02-11T05:21:50.457
> 
> 标签：highcharts

我想绘制两个 x 轴，第二个轴绘制在 y 值的平均值处。

我尝试使用 offset 属性，但它以像素为单位。我认为它可以通过格式化程序来完成。但不知道该怎么做。

```
$(function () {
var chart;
$(document).ready(function() {
    chart = new Highcharts.Chart({
        chart: {
            renderTo: 'container',
            type: 'line',
                zoomType: 'x',
        },
        tooltip: {
            enabled: true,

        },
        title: {
            text: 'Prediction of Surface Sites'
        },

        xAxis:[ {
            categories: ["S","A","E","D","V","L","K","E","Y","D","R","R","R","R","M","E","A","L","L","L","S","L","Y","Y","P","N","D","R","K","L","L","D","Y","K","E","W","S","P","P","R","V","Q","V","E","C","P","K","A","P","V","E","W","N","N","P","P","S","E","K","G","L","I","V","G","H","F","S","G","I","K","Y","K","G","E","K","A","Q","A","S","E","V","D","V","N","K","M","C","C","W","V","S","K","F","K","D","A","M","R","R","Y","Q","G","I","Q","T","C","K","I","P","G","K","V","L","S","D","L","D","A","K","I","K","A","Y","N","L","T","V","E","G","V","E","G","F","V","R","Y","S","R","V","T","K","Q","H","V","A","A","F","L","K","E","L","R","H","S","K","Q","Y","E","N","V","N","L","I","H","Y","I","L","T","D","K","R","V","D","I","Q","H","L","E","K","D","L","V","K","D","F","K","A","L","V","E","S","A","H","R","M","R","Q","G","H","M","I","N","V","K","Y","I","L","Y","Q","L","L","K","K","H","G","H","G","P","D","G","P","D","I","L","T","V","K","T","G","S","K","G","V","L","Y","D","D","S","F","R","K","I","Y","T","D","L","G","W","K","F",],
            minRange:5,
        }, {
            lineWidth:1,
            offset:-80,
            title:{
                text:'Mean Axis'
            }}],
        yAxis: {
            title: {
                text: 'Surface Sites'
            },

        },

        plotOptions: {
            line: {
                dataLabels: {
                    enabled: false
                },
                enableMouseTracking: true
            },
            series:{
                marker: {
                    enabled:true,
                    radius:2,

                }
            },

        },
        series: [{
            name: 'HPLC',
            data: [15.1,15.6,4.3,19.2,20.5,16.5,18.7,12.9,20.8,34.2,32.7,20.7,30.4,22.5,9.1,-4.3,-17.7,-15.4,-20.4,-30.1,-34.1,-22.8,-6.6,12.6,10.3,25.2,17.9,10.6,18.5,9.6,5.3,8.9,-6.8,8.9,20.2,12.3,18.4,9,7.2,13.5,14.8,14.1,14.1,15.6,21.4,17.5,17.5,17.5,6.1,11,12.3,12.3,12.3,22.5,22.5,38.2,36.9,20.7,10.6,4.8,4,-1.7,-16.6,-15.8,-0.9,-0.9,8.5,0.9,4.5,19.4,20.7,20.7,30.8,31.1,35.1,35.9,38,26.5,30.8,25,26,29.6,18.9,12.5,17.6,-2.4,-2.4,-2.9,-2.9,-7.9,-3.6,5,17.1,16.6,14.3,12.8,20.1,20.4,16.1,6,16.2,17.2,14.4,22,8,4.4,18.1,17.8,8.9,-1.7,-0.9,17.1,5.8,10.1,6.5,15.9,17.1,16.3,8.4,15.7,12.7,1.4,0.9,5.2,7.3,10.9,9.1,9.9,24.8,10.4,10.4,6.8,-0.8,9.4,5.8,-3.6,10.8,20.2,22,26,15.8,13.7,19.5,5.1,-9.8,-10.1,-4.4,-9.9,-7.8,-7.8,7.9,22.8,23.1,13.4,30.4,33.2,27.4,27.9,13,-1,3,-6.7,-21.7,-27.2,-29,-9.8,3.9,6,4.2,22.2,23.4,24.2,16.3,1.4,5,14.4,14.4,13.2,3.5,7.1,26.3,9.3,9.3,1.4,1.4,1.4,3.5,0,11.3,7.7,9.8,14.8,22.7,20.9,20.1,20.1,13.8,1.6,12.8,4.9,4.6,-3,-13.1,-18.1,-12,-13,-18.5,-33.4,-25.8,-12.1,-0.8,6.8,2.9,17.8,29.1,33.4,33.4,33.4,37.7,27.6,12.7,15.8,2.1,2.1,5.2,0.9,15.4,30.3,30.8,30.8,15.9,8.8,13.1,16.6,17.4,2.5,10.4,25.3,19.2,7.3,2.5,6,6,7.5,-8.2,5.5,-1.8,-1.8,-9.7,-9.7,]
        }]
    });
}); 
```

});

有什么建议么....

jsfiddle [链接](http://jsfiddle.net/Db5WG/)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T13:58:54.847

您可以改用 plotLines。在 plotLines 中，您正在设置应该显示的值，请参见：

*   [http://api.highcharts.com/highcharts#yAxis.plotLines](http://api.highcharts.com/highcharts#yAxis.plotLines)

# android - Android ListFragment 在重新创建时创建双重列表

> ID：14806343
> 
> 赞同：2
> 
> 时间：2013-02-11T05:21:55.110
> 
> 标签：android, view, duplicates, double, fragment

我正在尝试使用 2 个选项卡实现一个基本活动，每个选项卡都包含一个列表。按照指南，我编写了以下代码：

**MainActivity.java**

```
public class MainActivity extends Activity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        // Notice that setContentView() is not used, because we use the root
        // android.R.id.content as the container for each fragment

        // setup action bar for tabs
        ActionBar actionBar = getActionBar();
        actionBar.setNavigationMode(ActionBar.NAVIGATION_MODE_TABS);
        actionBar.setDisplayShowTitleEnabled(true);

        ActionBar.Tab tab = actionBar.newTab()
                .setText(R.string.tab_last_transactions)
                .setTabListener(new TabListener<List1Fragment>(
                        this, "list1_fragment", List1Fragment.class));
        actionBar.addTab(tab);

        tab = actionBar.newTab()
                .setText(R.string.tab_accounts_balance)
                .setTabListener(new TabListener<List2Fragment>(
                        this, "list2_fragment", List2Fragment.class));
        actionBar.addTab(tab);

    }

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {
        new MenuInflater(this).inflate(R.menu.home_menu, menu);
        return (super.onCreateOptionsMenu(menu));
    }

} 
```

**List1Fragment.java**

```
public class List1Fragment extends ListFragment {

    private static final String[] items = { "Android", "Bluetooth", "Chrome",
            "Docs", "Email", "Facebook", "Google", "Hungary", "Iphone",
            "Korea", "Machintosh", "Nokia", "Orkut", "Picasa", "Singapore",
            "Talk", "Windows", "Youtube" };
    private ArrayList<String> words = null;
    ArrayAdapter<String> adapter = null;

    @Override
    public void onActivityCreated(Bundle savedInstanceState) {
        super.onActivityCreated(savedInstanceState);

        // Populate list with our static array of titles.
        words = new ArrayList<String>();

        for (String s : items) {
            words.add(s);
        }
        adapter = new ArrayAdapter<String>(getActivity(), android.R.layout.simple_list_item_1, words);
        setListAdapter(adapter);

    }
} 
```

**list1_fragment.xml**

```
<?xml version="1.0" encoding="utf-8"?>

<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
              android:orientation="vertical"
              android:layout_width="match_parent"
              android:layout_height="match_parent">

    <ListView android:id="@id/android:list"
              android:layout_width="match_parent"
              android:layout_height="0dp"
              android:background="#00FF00"
              android:layout_weight="1"
              android:drawSelectorOnTop="false"/>

</LinearLayout> 
```

MainActivity 从 LoginActivity 实例化，如下所示：

**LoginActivity.java 的一部分**

```
 Intent mainIntent = new Intent(LoginActivity.this, MainActivity.class);
        startActivity(mainIntent);
        finish(); 
```

LoginActivity 看起来不错。第一次启动MainActivity，没问题，按预期得到列表：

现在我想查看我的应用程序生命周期，所以我将其更改为横向以杀死它并重新创建它，它会在顶部创建一个额外的列表（如果我切换回纵向，还会再创建一个额外的列表）。活动的（滚动的）似乎是第一个创建的。其他的看起来修复了。

类似的结果发布在另一个主题： ![双重名单](../Images/87d72df321aed481b69323652dc78d8c.png)

如果我检查 (savedInstanceState == null) 并仅在 null 时设置 ListAdapter，它似乎具有所需的行为（只有一个列表），但列表顶部有一个“正在加载...”。添加 setListShown(true) 会抛出异常并退出程序：

**修改 List1_Fragment：**

```
if (savedInstanceState==null)
{
    // Populate list with our static array of titles.
    words = new ArrayList<String>();

    for (String s : items) {
        words.add(s);
    }
    adapter = new ArrayAdapter<String>(getActivity(), android.R.layout.simple_list_item_1, words);
    setListAdapter(adapter);

}        
else {
    setListShown(true);
} 
```

我究竟做错了什么？如何避免重新创建列表？

（防止它在改变方向时重新生成不是一个选项，我会在应用程序完成后执行此操作，但想在开发过程中使用此功能测试生命周期，以模拟终止/重新启动）

**编辑：** 使用 setListShownNoAnimation 而不是 setListShown 工作...

**编辑2：**

**TabListener.java**

```
public class TabListener<T extends Fragment> implements ActionBar.TabListener {
    private Fragment mFragment;
    private final Activity mActivity;
    private final String mTag;
    private final Class<T> mClass;

    /** Constructor used each time a new tab is created.
     * @param activity  The host Activity, used to instantiate the fragment
     * @param tag  The identifier tag for the fragment
     * @param clz  The fragment's Class, used to instantiate the fragment
     */
    public TabListener(Activity activity, String tag, Class<T> clz) {
        mActivity = activity;
        mTag = tag;
        mClass = clz;
    }

    /* The following are each of the ActionBar.TabListener callbacks */

    public void onTabSelected(ActionBar.Tab tab, FragmentTransaction ft) {
        // Check if the fragment is already initialized
        if (mFragment == null) {
            // If not, instantiate and add it to the activity
            mFragment = Fragment.instantiate(mActivity, mClass.getName());
            ft.add(android.R.id.content, mFragment, mTag);
        } else {
            // If it exists, simply attach it in order to show it
            ft.attach(mFragment);
        }
    }

    public void onTabUnselected(ActionBar.Tab tab, FragmentTransaction ft) {
        if (mFragment != null) {
            // Detach the fragment, because another one is being attached
            ft.detach(mFragment);
        }
    }

    public void onTabReselected(ActionBar.Tab tab, FragmentTransaction ft) {
        // User selected the already selected tab. Usually do nothing.
    }
} 
```

# php - 包括在 MVC 上模拟 PHP 中的转发？

> ID：14806345
> 
> 赞同：0
> 
> 时间：2013-02-11T05:22:18.757
> 
> 标签：php, model-view-controller, controller, include, forwarding

如果在 PHP 中尝试 MVC 只是在文件`include 'view.php';`末尾添加`controller.php`，那是否可以被视为转发，因此仍然是 MVC？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T07:29:44.003

不，不是。

MVC 和 MVC 启发模式中控制器的职责是改变当前视图实例和模型层的状态。它与“转发”无关。

视图和控制器虽然相互关联，但并不是一回事。当您使用“包含”（默认情况下）时，您将添加文件作为执行它的代码的一部分。

基本上，在您当前的设置中，视图实例和控制器实例之间没有分离。

# c - ARM架构内核模块的交叉编译

> ID：14806353
> 
> 赞同：3
> 
> 时间：2013-02-11T05:23:05.030
> 
> 标签：c, linux, makefile, arm

我正在尝试从 linux x86 机器为 ARM 制作一个 .ko 文件。我尝试了以下 Makefile：

```
1 obj-m +=helloworldtest_module.o 
2 modules_install:
3     make ARCH=$(ARCH) CC=$(CROSS_COMPILER) -C /lib/modules/$(shell uname -r)/build M=$(PWD) modules
4 clean:
5     make -C /lib/modules/$(shell uname -r)/build M=$(PWD) clean 
```

...但是我在给出`make -f Makefile ARCH=arm CROSS_COMPILER=arm-linux-gnueabi-gcc`命令提示符时出错，如下所示：

```
make ARCH=arm CC=arm-linux-gnueabi-gcc -C /lib/modules/3.2.0-29-generic/build M=/home/terenesas/sample modules
make[1]: Entering directory `/usr/src/linux-headers-3.2.0-29-generic'
  CC [M]  /home/terenesas/sample/helloworldtest_module.o
In file included from /usr/src/linux-headers-3.2.0-29-generic/arch/arm/include/asm/types.h:4:0,
                 from include/linux/types.h:4,
                 from include/linux/list.h:4,
                 from include/linux/module.h:9,
                 from /home/terenesas/sample/helloworldtest_module.c:2:
include/asm-generic/int-ll64.h:11:29: fatal error: asm/bitsperlong.h: No such file or directory
compilation terminated.
make[2]: *** [/home/terenesas/sample/helloworldtest_module.o] Error 1
make[1]: *** [_module_/home/terenesas/sample] Error 2
make[1]: Leaving directory `/usr/src/linux-headers-3.2.0-29-generic'
make: *** [modules_install] Error 2 
```

我做错了什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T06:28:58.097

快速修复，更改为：

```
#include <asm/bitsperlong.h> 
```

至：

```
#include <asm-generic/bitsperlong.h> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-07-20T19:32:56.117

`shell uname -r`意味着这个 Makefile 将为您的主机（x86）系统而不是 ARM 构建模块。

您需要指定 ARM 内核的源目录。您可以使用以下 Makefile 来交叉编译您的模块。

生成文件：

```
CC=$(CROSS_COMPILE)gcc
# If KERNELRELEASE is defined, we've been invoked from the
# kernel build system and can use its language.
ifneq ($(KERNELRELEASE),)
    obj-m := modulename.o 

# Otherwise we were called directly from the command
# line; invoke the kernel build system.
else

    KERNELDIR ?= /path/to/kernel/linux
    PWD  := $(shell pwd)

default:
    ${MAKE} -C ${KERNEL_SOURCE} SUBDIRS=${PWD} modules

clean:
    ${MAKE} -C ${KERNEL_SOURCE} SUBDIRS=${PWD} clean
endif 
```

# c++ - 构造函数 c++ Object obj = Object("string", 22); 创建一个临时对象？

> ID：14806354
> 
> 赞同：2
> 
> 时间：2013-02-11T05:23:04.860
> 
> 标签：c++, constructor, destructor, assignment-operator

我在stackoverflow的聊天区问了以下问题。

如果您像这样创建对象，它会创建一个临时对象，然后调用赋值运算符将临时对象分配给 obj 对象吗？

```
Object obj = Object( "Chris", 27 ); 
```

有人告诉我它只是调用构造函数。

但是，当我运行代码时，控制台会打印出在下一行调用了 dtor，这意味着构造了一个临时的，这一定意味着赋值运算符被调用得太正确了？

所以如果这是真的那么这是否意味着像这样编写你的构造函数

```
Object obj( "Chris", 22 ); 
```

实际上运行得更快，因为您避免使用临时 ctor 和 dtor 以及赋值运算符。当我像上面那样运行代码时，没有 dtor 字符串会打印到控制台，直到函数结束。因此，似乎没有创建临时代码，并且我的代码将更有效地运行。

```
class Object
{
public:
Object()
     {
     mSize = 0;
     }
Object( string & name, int size )
     :
     mName(name),
     mSize(size)
     {
     }

~Object()
     {
     cout << "Object Dtor called" << endl;
     }
string mName;
int mSize;
}; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T05:28:13.310

在第二种情况下，编译器被指示创建一次对象。在第一种情况下，您要求创建一个临时对象，然后将其复制到一个新对象中。在这种情况下，编译器可以*决定*将创建-复制-销毁替换为更有效地创建单个对象。所以你必须为这种可能性做好准备，但你不能依赖它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T05:43:26.993

声明中的`=`in 不是赋值。没有调用赋值运算符。拥有一本 C++ 教科书是一件好事。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-11T09:35:05.247

如果您只是更新您的课程以准确输出它正在做什么，那么您就会知道，例如：

```
class Object
{
public:
Object()
     :
     mSize(0)
     {
     cout << "Object default Ctor called" << endl;
     }

Object(const Object & src )
     :
     mName(src.mName),
     mSize(src.mSize)
     {
     cout << "Object copy Ctor called" << endl;
     }

Object( string & name, int size )
     :
     mName(name),
     mSize(size)
     {
     cout << "Object name Ctor called" << endl;
     }

~Object()
     {
     cout << "Object Dtor called" << endl;
     }

Object& operator=(const Object &rhs)
    {
    cout << "Object Assigment Op called" << endl;
    mName = rhs.mName;
    mSize = rhs.mSize;
    }

string mName;
int mSize;
}; 
```

# bash - 为什么在 unix 中列出文件夹需要这么长的命令？

> ID：14806363
> 
> 赞同：3
> 
> 时间：2013-02-11T05:23:55.470
> 
> 标签：bash, command-line, cygwin

我该怎么做才能映射`ls -l | grep ^d`到`lsf`？我在乱七八糟的文件和文件夹中徘徊，并试图只查看文件夹，以便更容易`cd ...`找到地方。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-11T05:34:51.383

先生，这应该做得很好

```
alias lsf='ls -l | grep ^d' 
```

要添加永久，请执行此操作

```
echo "alias lsf='ls -l | grep ^d'" >> ~/.bash_profile 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-11T08:17:59.423

如果您使用的是体面的外壳（即[ZSH](http://www.zsh.org)），您可以这样做

```
ls -d *(/) 
```

# php - 如何从 codeigniter 中的所有视图中注销，我是否使用了错误的代码？

> ID：14806367
> 
> 赞同：0
> 
> 时间：2013-02-11T05:24:07.290
> 
> 标签：php, mysql, codeigniter

嘿，伙计们帮我从所有视图页面注销。当我单击注销链接时，我只是从一个页面，而当我试图从另一个页面注销时，它不起作用。. 我的 cpntoller 代码是：-

```
function index()
    {
        if($this->session->userdata('logged_in'))
        {
            $session_data = $this->session->userdata('logged_in');
            $data['email'] = $session_data['email'];
            $this->load->view('home_view', $data);
            $this->load->view('home_content_view', $data);
        }
        else
        {
            //If no session, redirect to login page
            redirect('login', 'refresh');
        }
    }

    function logout()
    {
        $this->session->unset_userdata('logged_in');
        session_destroy();
        redirect('home', 'refresh');
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T06:05:07.577

首先，codeigniter 不使用 php 本机会话，因此 session_destroy 将无法使用`$this->session->sess_destroy()`。在每个控制器的构造函数中（如果您有多个控制器）。如果用户会话不存在，请检查它，然后将用户重定向到您要显示的页面。

```
class Home extends CI_Controller
{
    function __construct()
    {
        parent::__construct();
        //this condition checks the existence of session if user is not accessing  
        //login method as it can be accessed without user session
        if( !$this->session->userdata('logged_in') && $this->router->method != 'login' ) {
            redirect('login'); 
        }
    }
    function index()
    {
        $session_data = $this->session->userdata('logged_in');
        $data['email'] = $session_data['email'];
        $this->load->view('home_view', $data);
        $this->load->view('home_content_view', $data);
    }

    function logout()
    {
        $this->session->userdata = array();
        $this->session->sess_destroy();
        redirect('home', 'refresh');
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-11T09:01:04.437

我建议您阅读 CodeIgniter 中的 _remap() 函数。我通常为登录/注销做的是覆盖我的自定义控制器中的重映射，该控制器扩展了 CI_Controller 并执行以下操作：

```
function _remap($method)
{
    if (method_exists($this, $method) && $this-my_custom_helper->is_logged_in())
    {
        $this->$method();
    }
    else
    {
        redirect('/auth/login/');
    }
} 
```

这样你就不需要检查每个控制器是否登录。另一件有用的事情是实现在每个控制器中的操作之前运行的之前/之后过滤器。我不会详细介绍，但您可以查看 Jamie Rumbelow 的 MY_Controller 在[这里](https://github.com/jamierumbelow/codeigniter-base-controller)找到。您可以从他的代码中采用一些不错的技术。祝你好运！！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-11T05:30:25.977

当用户单击注销按钮时，cal 将进入控制器文件中的注销功能。

在那个函数中

```
 public function logout() {
       $this->session->session_destroy();
       redirect("home");
 } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-11T05:29:17.023

将以下方法放在`__construct`每个控制器的构造函数中。

我假设您在**用户**控制器的**索引**功能上有登录方法

```
 if (FALSE !== $this->session->userdata('logged_in')) {
       redirect('/user'); 
  } 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-11T06:46:53.727

尝试这个

```
 function logout()
        {
            $this->session->unset_userdata($session_data); 
            $this->session->sess_destroy();
            redirect('home', 'refresh');
        } 
```

# r - 将列添加到矩阵作为 R 中函数的一部分

> ID：14806369
> 
> 赞同：0
> 
> 时间：2013-02-11T05:24:24.343
> 
> 标签：r, function, matrix

我是 R 的新手，我第一次尝试创建函数。我正在尝试创建一个函数，它将为我提供回归系数、R 平方和调整后的 R 平方值，其中 x 是值矩阵，y 是向量。我制作基本方程没有问题，但我需要一种方法让函数向 x 矩阵添加一列一，这样用户就不必把它放进去。换句话说，如果我的函数很好用在矩阵 c(1) 中创建我的第一列，但我希望由函数完成。我知道对此必须有一个非常简单的答案，但我已经尝试了我能想到的一切并查看了许多不同的问题，但我无法弄清楚（因为我对此很陌生，我找到了很多信息关于 R 在线对我来说真的很难理解）。无论如何，任何帮助是极大的赞赏。我将尽我所能回答任何澄清问题。我一直在使用以下示例数据集/R 函数对其进行测试：

```
x<-cbind(c(4,6,8,10),c(5,3,6,7))

y<-c(2,6,9,4)

fit.lm<-lm(y~x)

summary(fit.lm) 
```

如果我可以添加那一列，我的函数将返回与上述函数相同的值......到目前为止我的代码：

```
mylm<-function(y,x)

{

betahat<-solve(t(x)%*%x)%*%t(x)%*%y

yhat<-predict(lm(y~x))

Rsquare<-1-((sum((yhat-y)^2))/sum((y-mean(y))^2))

AdjRsquare<-1-((sum((yhat-y)^2))/sum((y-mean(y))^2))%*%((length(y)-1)/(length(y)-length(betahat)))

results<-list(B=betahat,R2=Rsquare,R2A=AdjRsquare)

return(results)

}

mylm(y,x) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T05:41:25.123

这是一个答案，但不能准确回答您的问题。需要一些组装。如果这不能回答您的问题，请重新格式化您的问题：

```
mylm <- function(x){
    cbind(1, x)
}

mylm(x) 
```

# c# - 无法创建类型“WorldwideWebServices.TSSecure”

> ID：14806377
> 
> 赞同：0
> 
> 时间：2013-02-11T05:25:16.043
> 
> 标签：c#, .net, web-services, exception-handling

我继承了一个遗留的 web 服务，它在同事的机器上构建和运行得很好，但在我的机器上我收到了错误：

> 无法创建类型“WorldwideWebServices.TSSecure”。

我一直在谷歌上搜索并盯着这个几个小时没有运气，有人能给我一个线索我应该在哪里看吗？

# javascript - 我如何使用javascript画布编程在饼图的每个部分上显示工具提示

> ID：14806378
> 
> 赞同：2
> 
> 时间：2013-02-11T05:25:20.890
> 
> 标签：javascript, html, canvas

如何在不使用任何 js 库（如动力学、Raphael 等）的情况下使用 javascript 在饼图的每个部分上显示工具提示，以及如何在鼠标单击、鼠标悬停显示工具提示时分隔饼图的每个部分。

```
<script type="text/javascript">

function draw()
{

 var can=document.getElementById("can");
 var ctx=can.getContext("2d");

 var w=can.width/2;
 var h=can.height/2; 
  var total=startangle=endangle=radius=slices=0;
  var data=[25,25,25,25];

  var color=['red','green','blue','purple'];
  var subdata=[2,5];
  //collecting total value of pie
  for(var k =0;k<data.length;k++)
   {
total+=data[k];  
   }
  //generate pie
   for(var i=0;i<data.length;i++)
    {
 slices=(data[i]/total);
 radius=2*Math.PI*slices;
 endangle=startangle+radius;
 ctx.beginPath();
 ctx.arc(w, h, 75, startangle, endangle);
 ctx.lineTo(w,h);
 ctx.closePath();
 startangle+=radius;
 ctx.fillStyle=color[i];
 ctx.fill();
 ctx.lineWidth=2;

 ctx.stroke();
 }
 }

    </script> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-11T16:51:34.157

幸运的是，Elated.com 上的 Matt Doyle 和 Simon Meek 有一个教程可以准确地显示您正在寻找的内容。看看：[http ://www.elated.com/articles/snazzy-animated-pie-chart-html5-jquery/](http://www.elated.com/articles/snazzy-animated-pie-chart-html5-jquery/)

# playframework-2.0 - Play 2.x：如何使用可分发包部署脚本

> ID：14806387
> 
> 赞同：1
> 
> 时间：2013-02-11T05:26:01.257
> 
> 标签：playframework-2.0, sbt

我正在 Play 2.1 中创建一个项目，并计划使用`play dist`. 但是，我需要一些服务器可以访问的额外脚本，并且可以使用项目的库（主要是模型）。我需要的一个脚本示例是一个任务，它将作为 cron 作业运行以从外部设备收集数据。

在 Rails 或我习惯的任何其他 Web 框架中，我会创建一个脚本目录并将类似的内容放在那里。但是，我对 Java 和这个框架还很陌生，所以我不知道约定是什么（如果有的话），并且有一个硬性要求不分发未编译的源代码。

查看 Play 的关于[创建独立版本](http://www.playframework.com/documentation/2.1.0/ProductionDist)的文档，我看到最终结果是一个包含 lib 目录和启动脚本的目录。理想情况下，我的问题的解决方案是让 play 在该启动脚本旁边生成我选择的另一个脚本：

```
my-application
 └ lib
    └ *.jar
 └ start
 └ new_script 
```

我应该研究任何建议或选项吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-12T13:35:54.337

[我在“如何在 Play 2.0 Scala 二进制发行版中添加 README 以外的文档？](https://stackoverflow.com/questions/14780393/how-do-i-add-docs-other-than-readme-in-a-play-2-0-scala-binary-distribution) ”中提出了类似的问题。似乎没有什么像你想的那样开箱即用。到目前为止，我已经通过编写一个 bash 脚本来解压 zip，添加我需要的内容，然后将其打包为 tar.gz 文件，从而克服了这个问题。

*   一方面，启动脚本没有打开可执行位。当我将它交给某人进行测试时，这很烦人。
*   它不包括在 Windows 上运行的蝙蝠，所以我正在努力
*   我可以看到将来需要像你这样的脚本

（我会尝试 zip，但无法从命令行中弄清楚。）

我会提议修补游戏，但他们似乎在添加新功能而不是维护方面迅速采取行动。我针对 2.0 构建了我的应用程序，它甚至不适用于 2.0.4。不知道如何修补 2.0 版并升级以使用我自己的补丁。

# excel - Excel 图表形状不适用

> ID：14806388
> 
> 赞同：0
> 
> 时间：2013-02-11T05:26:02.470
> 
> 标签：excel, vba, charts, shapes

我有一个 Excel 工作表，其中使用 VBA 创建图表。问题是在生成图表后，我将它的形状设置为内置的形状样式。但是当我执行以下代码时，什么也没有发生。

```
ActiveSheet.Shapes("AdoptChart").Select
ActiveSheet.ChartObjects("AdoptChart").Activate
ActiveSheet.Shapes("AdoptChart").ShapeStyle = msoShapeStylePreset22 
```

执行此行时`ActiveSheet.Shapes("AdoptChart").ShapeStyle = msoShapeStylePreset22`，`.ShapeStyle`属性不会更新，即在此行之前为 0，执行此行后仍为 0。

这是我通过录制宏并手动设置图表形状样式得到的代码。

我使用的是 Excel 2010，但 Excel 文件是 2003 文件（我在兼容模式下运行它。）

**编辑：**这是我手动选择形状后得到的宏。

```
Sub shape()
'
' shape Macro
'

'
    ActiveSheet.Shapes("AdoptChart").ShapeStyle = msoShapeStylePreset22
    Range("I7").Select
End Sub 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T06:10:07.877

根据我的评论，我建议您为新的 Excel 2003 工作簿录制一个宏，该工作簿于 2010 年以兼容模式打开。[因此，您可以使用本参考中所示的 2010 Ribbon。](http://office.microsoft.com/en-sg/excel-help/change-the-layout-or-style-of-a-chart-HA010342249.aspx#BMquickformat)但是**，了解您打算在未来使用这些图表的 Excel 版本非常重要**。是在 2010 年还是 2003年……正如`ShapeStyle`2007 年添加的那样……

> `2`. 在“格式”选项卡上，执行以下操作之一：
> 
> 在当前选择组中，单击格式选择，然后在格式对话框中，选择所需的格式选项。在形状样式组中，单击更多按钮按钮图像，然后选择一种样式。

**Excel 功能区图像：**

![在此处输入图像描述](../Images/e99a67632ccb7ce887590ca19d7103ea.png)

> 在“形状样式”组中，单击“形状填充”、“形状轮廓”或“形状效果”，然后选择所需的格式选项。

[在 John Peltier 的网站上查看这篇文章，](http://peltiertech.com/WordPress/programming-excel-2007-2010-autoshapes-with-vba/) 2007 年和 2003 年之间的代码比较非常有用。那么为什么不将**工作簿保存到 EXCEL 2010**中呢？

```
Sub FormatConnector2003(oConnector As Shape)
  With oConnector
    If .Connector Or .Type = msoLine Then
      ' rough approximation of the Excel 2007 preset line style #17
      .Line.EndArrowheadStyle = msoArrowheadTriangle
      .Line.Weight = 2
      .Line.ForeColor.RGB = RGB(192, 80, 77)
      .Shadow.Type = msoShadow6
      .Shadow.IncrementOffsetX -4.5
      .Shadow.IncrementOffsetY -4.5
      .Shadow.ForeColor.RGB = RGB(192, 192, 192)
      .Shadow.Transparency = 0.5
      .Visible = msoTrue
    End If
  End With
End Sub

Sub FormatConnector2007(oConnector As Shape)
  With oConnector
    If .Connector Or .Type = msoLine Then
      .Line.EndArrowheadStyle = msoArrowheadTriangle
      .ShapeStyle = msoLineStylePreset17
    End If
  End With
End Sub 
```

# ios - 嵌入式字体在 iOS 中未正确定位

> ID：14806390
> 
> 赞同：0
> 
> 时间：2013-02-11T05:26:05.277
> 
> 标签：ios

![](../Images/6b02dcfa8636fcb26c8672df6f9c4cdd.png)

嗨，我在 iOS 中使用嵌入式字体时遇到问题。

UILabel 无法正确显示。

它应该垂直和水平居中。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T05:34:03.877

对于垂直对齐。

```
YourLabel.textAlignment = UIControlContentVerticalAlignmentCenter; 
```

垂直和水平居中。

```
theYourLabel.textAlignment = UIControlContentVerticalAlignmentCenter;
theYourLabel.textAlignment = UITextAlignmentCenter; 
```

**另一种方法是：**

```
YourYourLabelName.center = parentViewField.center; 
```

**或者**

```
YourLabel = [[UIYourLabel alloc] initWithFrame:CGRectMake("As You Want")];
YourLabel.center = CGPointMake(CGRectGetWidth(someView.bounds)/2.0f, CGRectGetHeight(someView.bounds)/2.0f); 
```

**或者**

替代方案您可以使用`UITextField`的子类`UIControl`，它继承 UIControl 的`contentVerticalAlignment`属性。

```
textField.contentVerticalAlignment = UIControlContentVerticalAlignmentTop; 
```

您可以使用此属性来对齐顶部的文本。您可以使用 property属性**禁止用户编辑**`userInteractionEnabled`文本。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T06:27:59.583

在某些情况下，如果不修补字体文件本身，iOS 控件（如 UILabel、UIButtons 等）无法正确定位自定义字体。请参阅以下问题以获取更多信息：

[自定义安装的字体未在 UILabel 中正确显示](https://stackoverflow.com/questions/5414730/custom-installed-font-not-displayed-correctly-in-uilabel)

`ftxdumperfuser`建议使用Apple提供的工具更改字体文件的属性的答案之一`ascender`- 这解决了我的应用程序中自定义字体的类似问题。

# php - 选择内连接 4 个表

> ID：14806391
> 
> 赞同：0
> 
> 时间：2013-02-11T05:26:05.683
> 
> 标签：php, sql-server, select, datatable

所以我想从表 4 中获取特定数据，该表与其他 3 个表互连，用户将选择 $faid 并打印所需的数据

表 1 (dbo.FAID)
FAID(pk)
PCID(fk)
UserID(fk)

表 2 (dbo.users)
UserID(PK)
EmployeeName

表 3(dbo.SubDeptTransfer)
TransferID(pk)
UserID(fk)
SubDeptID(fk)

表 4 (SubDept)
SubDeptID(PK)
DeptID(fk)

表 5(部门)
DeptID(PK)
部门

```
<?php
$faidf=$_POST['faidf'];
ini_set("display_errors","on");
$conn = new COM("ADODB.Connection");
   try {
   $myServer = "WTCPHFILESRV\WTCPHINV";
   $myUser = "sa";
   $myPass = "P@ssw0rd";
   $myDB = "wtcphitinventory";   
   $connStr = "PROVIDER=SQLOLEDB;SERVER=".$myServer.";UID=".$myUser.";PWD=".$myPass.";DATABASE=".$myDB;
   $conn->open($connStr); 
         if (! $conn) {
            throw new Exception("Could not connect!");
        }
   }

   catch (Exception $e) {
      echo "Error (File:): ".$e->getMessage()."<br>";
   }
if (!$conn)
  {exit("Connection Failed: " . $conn);}
  echo "<center>";
   echo "<table border='0' width ='100%' style='margin-left:90px'><tr><th></th><th></th></tr>";
   $sql_exp = "SELECT  e.Department
FROM    dbo.FA_PC a
        INNER JOIN dbo.users b
        on a.UserID = b.UserID
        INNER JOIN dbo.SubDeptTransfer c
            ON a.UserID = c.UserID  
        INNER JOIN dbo.SubDept d
            ON a.SubDeptID = d.SubDeptID
        INNER JOIN dbo.department e
            ON a.DeptID = e.DeptID
WHERE   a.FAID = $faidf";    
   $rs = $conn->Execute($sql_exp);  

    echo "<tr><td>".$rs->Fields("Department")."</tr></td>";
       $rs->Close();   

?> 
```

我所能得到的只是“无效的列名'SubDeptID”，尽管我认为我的选择语句搞砸了，但我确定列名是正确的

FAID->用户->子部门转移->子部门->部门

进行了多少内部连接或它不能执行超过 3 个表是否存在冲突？如果是，有什么方法可以连接 5 个表吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T05:35:39.163

AFAIK 没有限制，至少 5 个表应该不是问题。在您的情况下，SQL 语句中有错字。您使用别名 a，但我认为您打算使用 c（我还修复了 DeptID - 修复 SubDeptID 后的下一个错误）。试试这个说法

```
SELECT  e.Department
FROM    dbo.FA_PC a
        INNER JOIN dbo.users b
        on a.UserID = b.UserID
        INNER JOIN dbo.SubDeptTransfer c
            ON a.UserID = c.UserID  
        INNER JOIN dbo.SubDept d
            ON c.SubDeptID = d.SubDeptID
        INNER JOIN dbo.department e
            ON d.DeptID = e.DeptID
WHERE   a.FAID = $faidf 
```

# c++ - Start Dock.exe 中 0x0292D09F (ig4dev32.dll) 处的未处理异常：0xC0000005：访问冲突读取位置 0x00000000

> ID：14806392
> 
> 赞同：1
> 
> 时间：2013-02-11T05:26:08.240
> 
> 标签：c++, opengl

我正在开始一个项目并决定使用一些openGL。我不断收到此错误，无法弄清楚原因。

附加信息：对于我的 IDE，我使用的是 VS 2012，我最近还为我的操作系统升级到了 win8。

这是我的源代码：

```
#include <iostream>
#include <string.h>
#include <GL/glut.h>

using namespace std;

const int SCREEN_WIDTH = 640;
const int SCREEN_HEIGHT = 480;
const int SCREEN_FPS = 60;

int main(int argcp, char** args)
{
    glutInit( &argcp, args );
    //Create Double Buffered Window
    glutInitDisplayMode( GLUT_DOUBLE );
    glutInitWindowSize( SCREEN_WIDTH, SCREEN_HEIGHT );
    glutCreateWindow( "OpenGL" );

    return 0;
} 
```

# python - 使用 Arduino 和 pySerial 闪烁 LED

> ID：14806396
> 
> 赞同：5
> 
> 时间：2013-02-11T05:26:39.000
> 
> 标签：python, arduino, pyserial, led

问这个问题我觉得很傻，但我很震惊我无法找到我能想象的通过串行与 Arduino 交谈的最简单的例子。我建立了一个连接，并且我了解如何编写 Arduino 代码和 Python，但我不知道如何使用 python 写入 arduino 引脚。任何人都可以通过此示例向我指出一个位置或告诉我它是如何完成的吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-11T05:51:10.480

没有通过串行端口控制 Arduino 的直接方法，因此您需要在 Arduino 上运行一些程序来响应串行信息并执行您想要的操作。有像[Firmata](http://firmata.org/wiki/Main_Page)这样的程序可以为你做这件事（或者 Firmata 和[Pyduino](http://code.google.com/p/pyduino/)）。或者您可以编写自己的草图并将其放在 Arduino 上，等待某个序列符号并相应地设置引脚。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-11T07:42:34.700

Arduino与Python接口的官方页面在这里：

[http://playground.arduino.cc/interfacing/python](http://playground.arduino.cc/interfacing/python)

如果你需要一个“真实”的例子，你可能想看看我的 VU Meter 实验。我使用 python 将体积数据推送到 Arduino 中。没什么特别的，但它应该给你一个想法。

[http://blog.blinkenlight.net/experiments/basic-effects/vu-meter/](http://blog.blinkenlight.net/experiments/basic-effects/vu-meter/)

# java - 使用 Spring、Hibernate 和 LocalSessionFactoryBuilder 配置 sessionFactory

> ID：14806400
> 
> 赞同：6
> 
> 时间：2013-02-11T05:27:16.993
> 
> 标签：java, spring, hibernate, sessionfactory

我正在尝试`sessionFactory`使用 spring 3.2 和 hibernate 4 创建 bean。我为此使用了以下代码。但问题已`buildSessionFactory()`被*弃用*，`buildSessionFactory(ServiceRegistry serviceRegistry)`建议在 javadoc 中使用。但是，我无法理解什么是**ServiceRegistry**以及如何使用`buildSessionFactory(ServiceRegistry serviceRegistry)`.

```
 @Configuration
public class AppConfig {

    ...

    @Bean
    public SessionFactory sessionFactory() {
    return new LocalSessionFactoryBuilder(dataSource())
        .scanPackages("com.mypackages")
        .addProperties(hibernateProperties())
        ~~.buildSessionFactory();~~

    }
} 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-05-05T07:26:46.627

`ServiceRegistry`接口与服务的概念有关（对于 Hibernate 4 来说是新的）。服务是为 Hibernate 提供各种功能并且用户可以插入替代实现的类。有关详细信息，请参阅[此 wiki 页面](http://sourceforge.net/apps/mediawiki/hibernate/index.php?title=Category:Services)。

你是对的，`buildSessionFactory()`在 Hibernate 的`Configuration`类中不推荐使用 method 来支持 method `buildSessionFactory(ServiceRegistry serviceRegistry)`。在纯 Hibernate 的环境（没有 Spring）中，假设您将以`ServiceRegistry`这样的方式初始化实例：

```
private static SessionFactory sessionFactory;
private static ServiceRegistry serviceRegistry;

private static SessionFactory configureSessionFactory() throws HibernateException {
    Configuration configuration = new Configuration();
    configuration.configure();

    serviceRegistry = new ServiceRegistryBuilder()
             .applySettings(configuration.getProperties())
             .buildServiceRegistry();

    sessionFactory = configuration.buildSessionFactory(serviceRegistry);
    return sessionFactory;
} 
```

但到现在，不推荐使用的方法`buildSessionFactory()`也`ServiceRegistry`为您执行相同的初始化。

Spring 的`LocalSessionFactoryBuilder`类只是 Hibernate 的`Configuration`类的扩展。但是由于 Spring 的所有特定工作都是在覆盖方法中完成的，`LocalSessionFactoryBuilder.buildSessionFactory()`因此您不能`buildSessionFactory(ServiceRegistry serviceRegistry)`在 Spring 的环境中使用方法。没什么，因为可以使用`buildSessionFactory()`它做完全相同的工作。所以让我们在`AppConfig`with中注解该方法，`@SuppressWarnings("deprecation")`并耐心等待 Spring 提供与 Hibernate 4 的更好集成。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-05-07T14:08:33.643

您也可以不使用链接编写代码：

```
LocalSessionFactoryBuilder builder = new LocalSessionFactoryBuilder(dataSource());
builder.scanPackages("com.mypackages");
builder.addProperties(hibernateProperties());
return builder.buildSessionFactory(); 
```

稍微冗长但不像 @SuppressWarnings("deprecation")

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-11-13T18:15:01.200

Artem Shafranov 提供的答案并不完全正确，您可能会像我一样遇到一个非常令人困惑的问题。

如果你使用

```
hibernate.hbm2ddl.auto 
```

您的应用程序将无法启动，因为 hbm2dll 中的连接池将设置为 UserSuppliedConnectionProviderImpl（基本上是一个很好的说法：null）。你会看到这个异常：

```
org.hibernate.service.UnknownUnwrapTypeException: Cannot unwrap to requested type [javax.sql.DataSource] 
```

原因与 hbm2dll 使用的 ServiceRegistry 有关，但它与 Spring 不兼容。使用许多建议的程序化会话配置方法，在执行 hbm2dll 时它还没有正确的引用。

对我有用的唯一方法是以下

```
@Inject
DataSource datasource;

@Bean
@SuppressWarnings("deprecation")
public SessionFactory sessionFactory() throws IOException{

    LocalSessionFactoryBean sessionFactoryBean = new LocalSessionFactoryBean();
    sessionFactoryBean.setPackagesToScan("nl.your.model");
    sessionFactoryBean.setHibernateProperties(hibernateProperties());
    sessionFactoryBean.setDataSource(datasource);
    sessionFactoryBean.afterPropertiesSet();

    return sessionFactoryBean.getObject();
} 
```

使用 LocalSessionFactoryBuilder 失败。令人惊讶的是，使用 StandardServiceRegistryBuilder 也失败了。

真是令人困惑的问题。

# linux-device-driver - 如何从用户空间使用 I2C 驱动程序

> ID：14806401
> 
> 赞同：1
> 
> 时间：2013-02-11T05:27:23.777
> 
> 标签：linux-device-driver

我有一个 i2c 芯片驱动程序作为 linux 内核的一部分。我可以从内核启动消息中验证 i2c 芯片驱动程序是否在内核中。我的问题，是否应该通过 sysfs 访问这样的 i2c 芯片驱动程序，如果是，那么如何访问。我的用户空间程序不会高度依赖于一个特定的驱动器吗

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T18:25:47.040

您可以将属性作为文件添加到`sysfs`条目和写入方法以具有读/写访问权限。

```
 1\. create attributes using `DEVICE_ATTR`. It is a preprocessor derivative.
        2\. After creating the attributes create files in the same name which you gave while creating attributes.
   Once done, you can access your i2c driver. 
```

请参阅此材料以供进一步参考：非常清楚 [http://www.kernel.org/pub/linux/kernel/people/mochel/doc/papers/ols-2005/mochel.pdf](http://www.kernel.org/pub/linux/kernel/people/mochel/doc/papers/ols-2005/mochel.pdf)

# ios6 - 如何传递不同的视图而不是 self.tableViewControl.dataSource =self？

> ID：14806406
> 
> 赞同：0
> 
> 时间：2013-02-11T05:28:33.047
> 
> 标签：ios6, delegates, uitableview, ios6.1

有没有可能传递一些另一种观点而不是自我。？？

self.tableViewControl.dataSource =self; self.tableViewControl.delegate=self;

我试过这个：

```
thirdView *tv=[[thirdView alloc]init];

 self.tableViewControl.dataSource =tv;
self.tableViewControl.delegate=tv; 
```

我已将 cellForRowAtIndexPath 和所有这些必需的函数放在 thirdView.m 文件中，但应用程序崩溃了。

我是 ios 的新手。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T05:40:20.230

确保`thirdView`该类实现 UITableView 的委托和数据源协议，尤其是`@required`.

**编辑：**

编译器是否给出了一些警告说 UITableViewDataSource 未实现？您必须在thirdview 的.m 实现中实现uitableview 的数据源和委托方法..Ur 表视图正在寻找thirdview 对象中的数据源并且无法找到，所以它崩溃了。

# ruby-on-rails - 未定义的方法`symbolize_keys！对于 2:Fixnum

> ID：14806407
> 
> 赞同：4
> 
> 时间：2013-02-11T05:28:41.687
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3

我正在使用 ruby​​ 1.9.2 和 rails 3。运行我的应用程序时出现以下错误。

错误：

```
 undefined method `symbolize_keys!' for 2:Fixnum  line #606 raised: 
```

代码：行号 606

```
 <%= f.text_field :total_amount ,:label=>'Grand Total',:value =>number_with_precision(0,2),:readonly=>true %> 
```

应用程序跟踪：

```
 actionpack (3.0.0) lib/action_view/helpers/number_helper.rb:238:in `number_with_precision'

 app/views/cashier/cashier/billing.rhtml:606:in `block (2 levels) in _app_views_cashier_cashier_billing_rhtml__3412897403160140582_59881040__1001215579093570677'

 actionpack (3.0.0) lib/action_view/helpers/capture_helper.rb:39:in `block in capture'

 actionpack (3.0.0) lib/action_view/helpers/capture_helper.rb:171:in `with_output_buffer'

 actionpack (3.0.0) lib/action_view/helpers/capture_helper.rb:39:in `capture' 
```

请帮我纠正这个错误。提前致谢！！！

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-02-11T05:32:11.793

`number_with_precision`期望第二个参数是选项哈希

[http://api.rubyonrails.org/classes/ActionView/Helpers/NumberHelper.html#method-i-number_with_precision](http://api.rubyonrails.org/classes/ActionView/Helpers/NumberHelper.html#method-i-number_with_precision)

通常，每当您看到“未定义的方法 'symbolize_keys!'”时，这意味着您正在传递 Ruby/Rails 期望的其他对象或值`Hash`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-03-04T14:13:41.857

把这个放在这里是为了那些不使用 Ruby 但在使用用 Ruby 编码的 API（例如 Clock Hotel Software）时看到此错误的人。我发布了一个类似的 JSON 字符串`{"date":"2013-04-05","value":3}`并收到错误。原来我应该发布一个数组：`[{"date":"2013-04-05","value":3}]`更正了错误。

因此，要扩展[aisrael](https://stackoverflow.com/users/878182/aisrael)的答案，请确保您在另一端为程序提供的*类型是预期的。*

# ios - iOS 定位问题

> ID：14806410
> 
> 赞同：0
> 
> 时间：2013-02-11T05:28:59.697
> 
> 标签：ios, html, jquery-mobile, cordova

我正在为我的 iOS 应用程序使用 jquery mobile-1.2.0 和 cordova-2.1.0。在 iOS 模拟器上一切正常，但如果我在 iPhone 上运行应用程序，那么当我转到特定页面时，标题下方的内容会出现，然后设置为其定义的位置。为什么会这样？

从 login.htm 页面我转到 menu.htm 使用`$.mobile.changePage('menu.htm', {transition: "slide"});`，下面是 menu.htm：

```
<div data-role="content">    
    <ul data-role="listview" id="mainMenu">        
        <li style="height:50px">            
            <a href="LeadScreens/leadHome.htm" data-transition="slide" id="leadsLink">                
                <img src="images/leads.png" alt="leads" class="ui-li-icon"/>
                Leads                
            </a>            
        </li>        
        <li style="height:50px">            
            <a href="abc.htm" data-transition="slide" id="activitiesLink">                
                <img src="images/activities.jpg" alt="activities" class="ui-li-icon"/>
                Activities                
            </a>            
        </li>        
    </ul>    
</div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T16:32:23.073

`</div>`你在底部有一个额外的。这可能是问题所在。

# c# - 编写简单的 C# 日志记录框架。TPL 问题（Task.Factory.StartNew()）

> ID：14806415
> 
> 赞同：0
> 
> 时间：2013-02-11T05:29:24.263
> 
> 标签：c#, logging, task-parallel-library

我正在编写简单的日志框架，用户可以逐行或批量记录。User Write(message) 在他的代码和基于 bool flushEveryLine （每行为 true，批量写入为 false），通过调用 flush() 方法写入日志。消息在主线程上创建，当写入文件时，outputConsole 或 DebugConsole 使用 Task 在不同的线程上。List 是我想使用 TPL 在主线程和工作线程之间同步的内容。所以当 TimerEvent 发生时，丢失的消息应该被写入输出。问题是消息更改请参阅下面的消息。

```
 protected virtual void Write(LogMessage message)
    {
        if (!this.IsEnabled) // log enabled or disabled.
            return;
        List<Task> list = new List<Task>();
        foreach (Task task in _taskList)
        {
            if (task.Status != TaskStatus.RanToCompletion)
                list.Add(task);
        }
        _taskList = list;
        Task.WaitAll(_taskList.ToArray());
       lock(storage)
        {
            //Add message to messages
           **this.messages.Add(message);**

            if (FlushEveryLine)
                **Flush();**
        } 

    public void Flush()
    {

        if (messages.Count == 0)
            return;
        _taskToMessagesMap.Add(counter, this.messages);
       **Task.Factory.StartNew(() => FlushData(counter));**
        ++counter;
        if (counter > 30000) // reset counter after large increment.
        {
            counter = 0;
        }
        this.messages.Clear();// clear the messages to record new set of messages before writing.
    }

    protected virtual void FlushData(int index)
    {
        **List<LogMessage> messages = _taskToMessagesMap[index];**
        if (!IsEnabled) // logs enabled or not.
        {
            return;
        }
        lock (messages)
        {
            if (messages.Count == 0)
            {
                return;
            }
            IEnumerable<LogMessage> temp = messages.OrderBy(msg => msg.TimeStamp).ToArray();
             this.flush(temp);

        }
        return;

    } 
```

代码说明::_taskToMessagesMap = new Dictionary(); // 存储计数器和消息列表的字典。这是 hack，因为我想测试 List 的行为。

**Task.Factory.StartNew(() => FlushData(counter));** //实际上我想为每个线程使用 Flush(messages) 以便在调用 FlushData() 时应该使用传递的消息。但是我在执行工作线程时看到它使用当前消息列表。我知道列表是通过引用传递的，因此看到了这种行为，但我在上面的例子中也看到了整数的这种行为。示例：我的字典只有一个键 {0} 和所有测试消息，但是当它进入工作线程时，它会查找键 1。为什么？整数参数应按值传递。创建工作线程时，我将 0 作为参数传递。我怎样才能解决这个问题。

请帮忙，因为我被卡住了。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T05:43:29.960

闭包关闭变量而不是值。新值被提取是因为在传递给的 lambda 之前`FlushData`递增正在执行的变量的指令被执行。`counter``StartNew`

解决此问题的一种简单方法是对局部变量中的当前值进行快照。

```
int currentCounter = counter;
Task.Factory.StartNew(() => FlushData(currentCounter));
++counter; 
```

**更新**

您需要为要处理的任务制作数据副本，以便其他线程不会干扰写入消息。我会重写 Flush 和 FlushData 看起来更像这样：

```
public void Flush()
{
    if (messages.Count == 0)
        return;

    // make a copy of the list.
    var currentMessages = messages.ToList();

    Task.Factory.StartNew(() => FlushData(currentMessages));
    messages.Clear();// clear the messages to record new set of messages before writing.
}

protected virtual void FlushData(IEnumerable<LogMessage> toBeFlushed)
{
    if (!IsEnabled) // logs enabled or not.
    {
        return;
    }

    IEnumerable<LogMessage> temp = toBeFlushed.OrderBy(msg => msg.TimeStamp).ToArray();
    this.flush(temp);
} 
```

`Flush`可能也应该锁定，`storage`因为它是一个可以从任何地方调用的公共方法。目前，消息可能会丢失。

# php - PHP：查找目录中的所有子目录。如果他们有有效的 XML 文件，请使用它

> ID：14806416
> 
> 赞同：0
> 
> 时间：2013-02-11T05:29:28.537
> 
> 标签：php, recursion, directory, subdirectory

我需要获取目录中的所有可用子目录，保存该目录的名称，如果它们包含 XML 文件，则使用该文件。

这是我写的一些代码和一些评论。

```
 <?php 
   $path = "http://source.com/path/to/subs/";
   //Check for any subdirectories
         foreach($subdirectory as $sub){
              $name = //subdirectory's name;
              // Filepath is always http://source.com/path/to/subs/name_of_sub/description.xml
              $file = $path . $name . 'description.xml'; 
              if(file_exists($file)){
                    //do my stuff here
              }
        }
  //end check
  ?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T06:56:44.623

您指的是 HTTP URI，而不是问题中的目录。
不幸的是，HTTP URI 中没有目录或文件。
因此，您无法以这种方式找到任何子目录。

如果您仅限于 HTTP URI，则没有解决方案。
但是，如果您可以访问哪个文件系统是您自己的服务器，那么没有什么比这更容易了 - 只需使用您的代码打开本地目录，而不是 HTTP URI

# c# - 检测到某些文本已在文本框中被选中

> ID：14806419
> 
> 赞同：14
> 
> 时间：2013-02-11T05:29:44.760
> 
> 标签：c#, textbox, selection, copy-paste

我已经用c#实现了一个记事本应用程序，所有功能都运行良好，只有一件事我无法完全实现。编辑下拉菜单中有一些菜单项，但它们的启用属性必须根据情况改变文本框，我在两种情况下遇到问题，我正在寻找一个事件，以便在此事件的事件处理程序中更改其启用的属性，这是问题所在：

2）当在文本框中选择了某些文本时，应该启用删除、复制和粘贴选项。我应该如何检测它？我已经测试了 texchanged 事件，我已经编写了如下代码的条件，但它不起作用，只是剪贴板运行良好：

```
private void textBox1_TextChanged(object sender, EventArgs e)
    {
        if (textBox1.SelectionLength> 0)
            button1.Enabled = false;
        if (Clipboard.ContainsText())
            button2.Enabled = false;

    } 
```

我应该如何解决我的问题，顺便说一下我必须使用文本框而不是富文本框。任何建议将不胜感激。非常感谢

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-02-11T05:40:56.903

找出选择

```
if (textbox1.SelectionLength > 0)
{

} 
```

对于剪贴板内容，使用

```
System.Windows.Forms.Clipboard.getText(); 
```

检查剪贴板内容，

```
IDataObject iData = Clipboard.GetDataObject();
// Is Data Text?
if (iData.GetDataPresent(DataFormats.Text))
    label1.Text = (String)iData.GetData(DataFormats.Text);
else
label1.Text = "Data not found."; 
```

这是在代码中实现的。可以如上直接使用

最重要的别忘了

```
public virtual string SelectedText { get; set; } 
```

这是带有菜单项的完整代码

```
private void Menu_Copy(System.Object sender, System.EventArgs e)
{
// Ensure that text is selected in the text box.    
if(textBox1.SelectionLength > 0)
    // Copy the selected text to the Clipboard.
    textBox1.Copy();
}

private void Menu_Cut(System.Object sender, System.EventArgs e)
{   
 // Ensure that text is currently selected in the text box.    
 if(textBox1.SelectedText.Length > 0)
    // Cut the selected text in the control and paste it into the Clipboard.
    textBox1.Cut();
 }

Private void Menu_Paste(System.Object sender, System.EventArgs e)
{
// Determine if there is any text in the Clipboard to paste into the text box. 
if(Clipboard.GetDataObject().GetDataPresent(DataFormats.Text))
{
    // Determine if any text is selected in the text box. 
    if(textBox1.SelectionLength > 0)
    {
      // Ask user if they want to paste over currently selected text. 
      if(MessageBox.Show("Do you want to paste over current selection?", "Cut Example", MessageBoxButtons.YesNo) == DialogResult.No)
         // Move selection to the point after the current selection and paste.
         textBox1.SelectionStart = textBox1.SelectionStart + textBox1.SelectionLength;
    }
    // Paste current text in Clipboard into text box.
    textBox1.Paste();
  }
}

private void Menu_Undo(System.Object sender, System.EventArgs e)
{
// Determine if last operation can be undone in text box.    
if(textBox1.CanUndo == true)
{
   // Undo the last operation.
   textBox1.Undo();
   // Clear the undo buffer to prevent last action from being redone.
   textBox1.ClearUndo();
}
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-11T05:37:31.353

为我工作。

```
private void button2_Click(object sender, EventArgs e)
    {
        if (textBox1.SelectedText != String.Empty)  
        {
            label1.Text = textBox1.SelectedText;
        }

        if (Clipboard.ContainsText())
        {
            label2.Text = Clipboard.GetText();
        }
    } 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-11T08:51:54.143

好吧，在我看来，最简单的方法是定义启用/禁用方法：

```
private void editMenuItemOpened(object sender, EventArgs e)
{
    //enable copy and cut only if some text is selected
    copyMenuItem.Enabled = cutMenuItem.Enabled = textBox1.SelectionLength > 0;
    //enable paste only if there's some text in the clipboard to paste
    pasteMenuItem.Enabled = Clipboard.ContainsText();
} 
```

并将其附加到`editMenuItem.DropDownOpened`事件（使用 Forms 时）或`editMenuItem.SubmenuOpened`事件（使用 WPF 时；您可能还想使用`RoutedEventArgs`而不是`EventArgs`在这种情况下）。

或者，如果您使用的是 WPF，则可以使用该`textBox1.SelectionChanged`事件。它不存在于表单中，因此在这种情况下，您可能应该使用`textBox1.MouseUp`和`textBox1.KeyUp`事件的组合。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-11T05:39:14.987

对于你问题的后半部分：

```
textbox1.TextChanged += new TextChangedEventHandler(textbox1_TextChanged);

private void textbox1_TextChanged(object sender, EventArgs e)
{
    if (textbox1.Text.Length > 0)
    {
        // enable delete, copy & paste functions
    }
    else
    {
        // disable delete, copy & paste functions
    }
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2018-07-16T17:57:50.820

```
 private void textBox1_SelectionChanged(object sender, EventArgs e)
    {
        if (textBox1.SelectedText.Length > 0)
        {
            txtTextSelected.Text = textBox1.SelectedText;
            Clipboard.SetText(textBox2.Text);//This is optional
        }
        else
        {
            textBox2.Text = "";
            Clipboard.Clear();//This is optional
        }
    } 
```

# android - jsPlumb 触摸事件在网络浏览器上工作，但在平板电脑浏览器上不工作

> ID：14806422
> 
> 赞同：1
> 
> 时间：2013-02-11T05:30:04.743
> 
> 标签：android, jquery, jsplumb

我已经使用 jsplumb 匹配了列模板，其中我使用了拖放功能。在网络浏览器上一切正常。但是当我在平板电脑浏览器上运行相同时，它不起作用。我阅读了他们建议使用 touchpunch 的论坛。我也用过。但是当我点击圆圈以匹配另一列时，它不会移动。请提出错误在哪里。我使用的代码片段是：

main.js

```
function display()
{                
    var questiontxt = xmlDoc.getElementsByTagName("questionTxt")[0].childNodes[0].nodeValue;

    $("#topmain").html(questiontxt);

    fitemid= x[0].getElementsByTagName("item").length;
    ftargetid= x[0].getElementsByTagName("target").length;
    $("#listitem").append('<table cellspacing="5" cellpadding="8" style="width: 95%; " id="list"></table>');
    connections = [];

    jsPlumb.importDefaults({
        ConnectionsDetachable:true,
        ReattachConnections:true
    });

    updateConnections = function(conn, remove) {
        connections.push(conn);
        hideConnectionInfo(connections[0].sourceId);
    };

    window.jsPlumbDemo = {
        init : function() {
            var exampleDropOptions = {
                tolerance:"touch",
                hoverClass:"dropHover",
                activeClass:"dragActive"
            };

            var color2 = "#FFF";
            var color3 = "#09F";
            var exampleEndpoint2 = {
                tolerance:"touch",
                hoverClass:"dropHover",
                activeClass:"dragActive",
                endpoint:["Dot", { radius:15 }],
                paintStyle:{ fillStyle:color3 },
                isSource:true,
                scope:"green dot",
                connectorStyle:{ strokeStyle:color3, lineWidth:2 },
                maxConnections:1,
                connector: "Straight",
                isTarget:false
            };

            var exampleEndpoint3 = {
                endpoint:["Dot", { radius:15}],
                paintStyle:{ fillStyle:color3 },
                isSource:false,
                scope:"green dot",
                connectorStyle:{ strokeStyle:color3, lineWidth:2 },
                maxConnections:1,
                connector: "Straight",
                isTarget:true,
                beforeDrop:function(params) { 
                    var v=(params.sourceId).substring(6,(params.sourceId).length);
                    var w=(params.targetId).substring(12,(params.targetId).length);

                    if(v == w){
                        document.getElementById('ans'+w).innerHTML+="<img src='img/correct.png'>";
                        count++;
                        c = xmlDoc.getElementsByTagName("item").length;

                        if(count == c){
                            feedback();
                            alert(window.parent)
                            window.parent.updateResult(100)
                        }
                        return confirm(); 
                        dropOptions : exampleDropOptions    

                    }
                }
            };

            jsPlumb.bind("connection", function(info, originalEvent) {
                updateConnections(info.connection);
            });

            jsPlumb.bind("connectionDetached", function(info, originalEvent) {
                updateConnections(info.connection, true);
            });

            function Shuffle(o) {
                for(var j, x, i = o.length; i; j = parseInt(Math.random() * i), x = o[--i], o[i] = o[j], o[j] = x);
                    return o;
                };

            var testArray = new Array();
            var testArray1 = new Array();

            for(i=0 ; i< fitemid ;i++){
                testArray.push(i);
            }
            Shuffle(testArray);

            for(i=0 ; i< fitemid ;i++){
                testArray1.push(i);
            }
            Shuffle(testArray1);

            for(i=0 ; i< fitemid ;i++)
            {
                fitem[i] = x[0].getElementsByTagName("item")[testArray1[i]].childNodes[0].nodeValue;
                ftarget[i] = x[0].getElementsByTagName("target")[testArray[i]].childNodes[0].nodeValue;

                j = x[0].getElementsByTagName("item")[testArray1[i]].getAttribute("target");
                l = x[0].getElementsByTagName("target")[testArray[i]].getAttribute("id");

                $("#list").append("<tr style='width:100%;'><td id=\"circle"+j+"\" class='circle ,\"circle"+j+"\' style='width:65%; vertical-align: top; border:1px #999 solid; float:left; border-radius:4px;'>"+fitem[i]+"</td> <td id=\"circletarget"+l+"\" class='circletarget,\"circle"+j+"\' style='vertical-align: top; width:59%; border:1px #999 solid; border-radius:4px;'>"+ftarget[i]+"</td><td class='circletarget,\"circle"+j+"\' style='vertical-align: top; width:5%;'><div id=\"ans"+l+"\" class='ans'></td></tr>");

                var e1 = jsPlumb.addEndpoint("circle"+j, { anchor:[1, 0.5, 1, 1 ] }, exampleEndpoint2);
                var e2 = jsPlumb.addEndpoint("circletarget"+l, { anchor:[ 0, 0.5, 1, 1 ] }, exampleEndpoint3);

                jsPlumb.draggable($("#circle"+j,"#circletarget"+l));
            }   
        }       
    };  
    jsPlumbDemo.init(); 
} 
```

索引.html

```
<html>
<head>
<script src="js/lib/jquery.min.js"></script>

        <script type="text/javascript" src="js/lib/jquery-ui.min.js"></script>
                 <script type="text/javascript" src="js/lib/jquery-1.8.1-min.js"></script>
        <script type="text/javascript" src="js/lib/jquery-ui-1.8.23-min.js"></script>

        <script src="js/lib/jquery.ui.touch-punch.js" ></script>

        <script src="js/lib/jsBezier-0.5.js"></script>      
        <!-- jsplumb util -->
        <script src="js/1.4.0/jsPlumb-util-1.4.0-RC1.js"></script>
        <!-- base DOM adapter -->
        <script src="js/1.4.0/jsPlumb-dom-adapter-1.4.0-RC1.js"></script>
        <!-- jsplumb drag-->
        <!--<script src="js/1.4.0/jsPlumb-drag-1.4.0-RC1.js"></script>-->
        <!-- main jsplumb engine -->
        <script src="js/1.4.0/jsPlumb-1.4.0-RC1.js"></script>
        <!-- connectors, endpoint and overlays  -->
        <script src="js/1.4.0/jsPlumb-defaults-1.4.0-RC1.js"></script>
        <!-- SVG renderer -->
        <script src="js/1.4.0/jsPlumb-renderers-svg-1.4.0-RC1.js"></script>
        <!-- canvas renderer -->
        <script src="js/1.4.0/jsPlumb-renderers-canvas-1.4.0-RC1.js"></script>
        <!-- vml renderer -->
        <script src="js/1.4.0/jsPlumb-renderers-vml-1.4.0-RC1.js"></script>

        <!-- jquery jsPlumb adapter -->
        <script src="js/1.4.0/jquery.jsPlumb-1.4.0-RC1.js"></script>

</head>

    <body>

 <div id="content" class="content">         

                <div id="topmain"></div>
                <div id="listitem"></div>
            </div>

 </body>

    <script src="js/main.js"></script>

</html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-16T20:58:23.247

jsPlumb 创建一个 SVG，它可以停留在连接的元素上，防止点击触发 SVG 下的元素上的事件。

您可以通过在 jsPlumb 创建的所有 SVG 上附加一个点击事件来测试它，并检查您的点击触发。

对我有用的解决方案是将 SVG 下元素的 z-index 更改为大于在 jsPlumb 实例中设置的 z-index 的 z-index。

顺便说一句，您可以通过以下方式控制连接器的 z-index：

jsPlumb.importDefaults({ ConnectorZIndex: number }); //数字是z-index

# javascript - 如何在 HTML 标签中使用 chrome.extension.geturl() 方法？

> ID：14806427
> 
> 赞同：4
> 
> 时间：2013-02-11T05:30:30.410
> 
> 标签：javascript, html, google-chrome-extension

我想从扩展加载本地图像。我编写以下代码来加载图像。但它无法加载图像。

```
$('.aAU').append('<div id="DivScroll"><img id="imgSlider" width="25px" src=chrome.extension.getURL("images/slider.png") /></div>'); 
```

该文件也存在于该位置。

当我使用开发人员工具时，它显示 img 标签如下

```
<img id="imgSlider" src="chrome.extension.getURL('images/slider.png')"> 
```

如果我使用如下静态路径，那么它会显示图像

```
<img id="imgSlider" src="chrome-extension://ccpdgakpdgiklccnpnihmidbjnacgkch/images/slider.png"> 
```

`chrome.extension.getURL()`提供在 HTML 标签中使用方法的任何解决方案。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-02-12T11:56:54.677

您的资源是否在清单文件中注册，如此处所示

```
{
  ...
"web_accessible_resources": [
    "images/my-awesome-image1.png",
    "images/my-amazing-icon1.png",
    "style/double-rainbow.css",
    "script/double-rainbow.js"
  ],
  ...
} 
```

然后，这些资源将通过 URL 在网页中可用`chrome-extension://[PACKAGE ID]/[PATH]`，可以使用该`chrome.extension.getURL`方法生成。

您是否尝试通过 Java Script 而不是将 src 设置为以下代码

> `<img id="imgSlider" src="chrome.extension.getURL('images/slider.png')">`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-09-08T10:57:57.600

```
 '<img id="imgSlider" width="25px" src='+chrome.extension.getURL("images/slider.png")+' />' 
```

试试这个它应该可以解决问题

# git - Git子树推送总是失败

> ID：14806428
> 
> 赞同：3
> 
> 时间：2013-02-11T05:30:37.617
> 
> 标签：git, merge, push, subtree

尝试使用 git subtree 在多个项目中共享公共库文件。这是我一直遇到的问题。

1) 添加子树，以便我的项目的“lib”子目录来自 lib-dk 存储库。

```
$ git subtree add --prefix=lib --squash git@bitbucket.org:dwknight/lib-dk.git master 
```

2) 更改“lib”中的文件

3) 提交对主项目 repo 的更改

```
$ git commit -am "update project" 
```

4) 将更新推送到主项目 repo

```
$ git push origin master 
```

5) 将“lib”中的更改推送回“lib-dk”repo

```
$ git subtree push --prefix=lib git@bitbucket.org:dwknight/lib-dk.git master
git push using:  git@bitbucket.org:dwknight/lib-dk.git master
To git@bitbucket.org:dwknight/lib-dk.git
 ! [rejected]        f455c24a79447c6e3fe1690f5709357b7f96828a -> master (non-fast-forward)
error: failed to push some refs to 'git@bitbucket.org:dwknight/lib-dk.git'
hint: Updates were rejected because the tip of your current branch is behind its remote counterpart. Merge the remote changes (e.g. 'git pull') before pushing again.
hint: See the 'Note about fast-forwards' in 'git push --help' for details. 
```

6) 即使 lib-dk 存储库中没有任何变化，我也会收到此拒绝。当我尝试拉动时，它的行为就像有东西一样，但我可以通过拉动进行更新。推动仍然被拒绝。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-19T19:09:06.363

当我在没有`--squash`选项的情况下尝试这个时`git subtree add`，它可以工作。我认为，正如评论者所建议的那样，这`--squash`是在以一种无益的方式摆弄历史。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2021-12-20T09:35:05.863

If you used `--squash` when you added a subtree you have to do `git subtree pull --prefix=prefix remote branch --squash` before you push

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-12-28T07:13:10.303

你可能需要使用`git add -A .`then`git commit`而不是`git commit -am <message>`

因为`-A`in`git-add`会这样做：

```
 -A, --all, --no-ignore-removal
       Update the index not only where the working tree has a file matching <pathspec> but also where the
       index already has an entry. This adds, modifies, and removes index entries to match the working
       tree.

       If no <pathspec> is given when -A option is used, all files in the entire working tree are updated
       (old versions of Git used to limit the update to the current directory and its subdirectories). 
```

另一方面，`-a`in`git-commit`会做（手册页没有给出太多细节）：

```
 -a, --all
       Tell the command to automatically stage files that have been modified and deleted, but new files
       you have not told Git about are not affected. 
```

[这](https://medium.com/@v/git-subtrees-a-tutorial-6ff568381844#.owzi6xh6d)可能会有所帮助。作者`git add -A .`明确调用。

# regex - 为什么将捕获组设为可选会导致它永远不匹配？

> ID：14806434
> 
> 赞同：0
> 
> 时间：2013-02-11T05:31:14.993
> 
> 标签：regex, perl

我想我很擅长正则表达式，但是这个让我很难过。我正在尝试匹配国家气象局预报公告中使用的某种语言。我在 Windows 上使用 Perl 5.16。我还使用[这个在线正则表达式测试器进行了测试](http://www.solmetra.com/scripts/regex/index.php)。这是一个示例消息：

`...A SEVERE THUNDERSTORM WARNING REMAINS IN EFFECT UNTIL 1130 PM CST FOR CENTRAL LAMAR COUNTY... AT 1106 PM CST...NATIONAL WEATHER SERVICE METEOROLOGISTS WERE TRACKING A SEVERE THUNDERSTORM CAPABLE OF PRODUCING PING PONG BALL SIZE HAIL...AND DESTRUCTIVE WINDS IN EXCESS OF 70 MPH. THIS STORM WAS LOCATED NEAR BAXTERVILLE MOVING EAST AT 50 MPH. THE SEVERE THUNDERSTORM WILL BE NEAR... PURVIS BY 1115 PM CST... WEST HATTIESBURG BY 1120 PM CST...`

这是我的正则表达式：

`/A SEVERE THUNDERSTORM.+?(?<hsize>QUARTER|GOLF BALL|PING PONG BALL|HALF DOLLAR)?.+?WINDS (?:IN EXCESS OF|OVER) (?<wmph>\d+) MPH.+WAS LOCATED (?:(?<dist>\d+) MILES (?<dir>\w+) OF|(?<near>NEAR)) (?<loc>[\w ]+).+MOVING (?<mdir>\w+) AT (?<mph>\d+) MPH/`

问题是`hsize`参数总是返回空白。我希望它是可选的但很贪婪，但它永远不会匹配。我尝试将其设为非可选：

`/A SEVERE THUNDERSTORM.+?(?<hsize>QUARTER|GOLF BALL|PING PONG BALL|HALF DOLLAR).+?WINDS (?:IN EXCESS OF|OVER) (?<wmph>\d+) MPH.+WAS LOCATED (?:(?<dist>\d+) MILES (?<dir>\w+) OF|(?<near>NEAR)) (?<loc>[\w ]+).+MOVING (?<mdir>\w+) AT (?<mph>\d+) MPH/`

这确实导致它匹配，这对我来说毫无意义。如您所见，我已经使通配符不贪婪，所以我看不到发生了什么。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-11T05:53:19.757

您可以更改一些正则表达式以强制引擎在匹配任何内容之前搜索特殊文本。更改正则表达式的这一部分：

```
.+?(?<hsize>QUARTER|GOLF BALL|PING PONG BALL|HALF DOLLAR)? 
```

到：

```
(?:.+?(?<hsize>QUARTER|GOLF BALL|PING PONG BALL|HALF DOLLAR)|.+?) 
```

交替将迫使引擎在继续匹配任何内容（第二个选项）之前用尽所有找到与特殊关键字匹配的可能性（第一个选项）。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-11T05:42:30.527

```
/A SEVERE THUNDERSTORM.+?(?<hsize>QUARTER|GOLF BALL|PING PONG BALL|HALF DOLLAR)?.+?WINDS/ 
```

我相信匹配是这样的：

1.  找到`"A SEVERE THUNDERSTORM"`。
2.  首先匹配`.+?`：第一次尝试使用空字符串。
3.  Match `(?<hsize>...)?`：从这个位置开始，它只能匹配一个空字符串。
4.  匹配第二个`.+?`：第一次尝试使用空字符串。
5.  匹配失败`"WINDS"`。回到第 4 步。
6.  多次回溯，最终第二个`.+?`匹配整个字符串 from`THUNDERSTORM`到 next `WINDS`。

所以回溯永远不会回到第 3 步或第 2 步。

也许您可以捕获 and 之间的所有文本`THUNDERSTORM`并`WINDS`稍后在其上运行单独的正则表达式，或者将一个或两个更改`.+?`为与冰雹大小描述不匹配的内容。

# sql - END事务和COMMIT事务的区别

> ID：14806435
> 
> 赞同：10
> 
> 时间：2013-02-11T05:31:23.700
> 
> 标签：sql, sql-server, relational-database

我正在尝试使用 java 模拟数据库恢复子系统。但是，我有以下问题。

每当发出开始交易时，是否总是需要有结束交易？（就像下面的例子）

```
b1    --- Begin txn 1
r1(X) --- Read item X using txn 1
e1    --- End txn 1 
```

根据上面的示例，我没有发出 Commit 事务语句。那么，我的交易会成功还是失败？如果上面的例子，如下所示，

```
b1    --- Begin txn 1
r1(X) --- Read item X using txn 1
c1    --- commit txn 1 
```

end 和 commit 有什么区别？

如果您需要更多信息，请告诉我。

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2013-02-11T05:46:45.503

要么回滚事务，要么提交事务。我希望你不要将它与不是事务的 BEGIN 和 END 块混淆，与事务无关。

我相信大多数数据库....仍然以 ROLL BACK 或 COMMIT 结束。

希望这可以帮助。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-11T06:29:34.797

`BEGIN/END`分隔代码块，而不控制事务。如果尚未在事务中，则每个语句将在自治事务中执行。通常`BEGIN/END`与分支/循环指令 ( `IF/WHILE`) 一起使用。

`BEGIN TRANSACTION / COMMIT TRANSACTION`表示事务的开始：该块内的每条语句都在同一个事务中执行，不能单独提交或回滚。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-11T05:48:58.357

对于来自此类程序内部的 SQL 事务，END 语句只是关闭事务。这意味着交易已经完成，不再发生任何事情。COMMIT 语句实际上告诉数据库您希望事务更改是永久的。

如果您处于“自动提交”模式，则不需要 COMMIT 语句，因为应该提交每个查询/语句。

更多关于 COMMIT 的信息可以在[这里](http://msdn.microsoft.com/en-us/library/aa258243(v=sql.80).aspx)找到。

如果您使用 ODBC 进行数据库连接，可以在[此处](http://msdn.microsoft.com/en-us/library/ms131281.aspx)找到有关事务管理的信息。

以前也有人问过这个[问题。](https://stackoverflow.com/questions/2730341/sql-server-begin-end-vs-begin-trans-commit-rollback)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-11T05:47:28.123

“结束”用于结束过程/功能。执行语句很重要。
“提交”用于永久保存事务中的所有更改。
例如，您使用 SQL 语句创建或删除了一个表，您将需要提交更改。

在此处阅读有关提交声明的更多信息。
[http://docs.oracle.com/cd/B19306_01/server.102/b14200/statements_4010.htm](http://docs.oracle.com/cd/B19306_01/server.102/b14200/statements_4010.htm)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-07-20T13:58:18.290

开始和结束事务的确切命令名称取决于您使用的特定数据库（不幸的是）。

例如：

在[SQLite](http://sqlite.org/lang_transaction.html)中，您使用 BEGIN / BEGIN TRANSACTION 开始，使用 END / END TRANSACTION / COMMIT / COMMIT TRANSACTION 结束事务。

在[MySQL](http://dev.mysql.com/doc/refman/5.0/en/commit.html)中，您使用 START TRANSACTION / BEGIN / BEGIN WORK 和 COMMIT / COMMIT WORK 相同。

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2013-02-11T06:18:22.360

详情请参考此[链接](https://stackoverflow.com/questions/2730341/sql-server-begin-end-vs-begin-trans-commit-rollback)

> QUOTE: BEGIN TRANS 和 END TRANS 开始和结束一个事务。他们不指定新的代码块；它们只标记事务边界。

# opencv - OpenCv SVM 输出文件格式

> ID：14806448
> 
> 赞同：2
> 
> 时间：2013-02-11T05:32:49.963
> 
> 标签：opencv, svm

我正在实现自己的 SVM，而不是使用 OpenCV 的 svm 类。如果我愿意，我希望我的 SVM 用来保存其输出的 XML 文件将来可以由 OpenCV 的 SVM 加载和使用。我应该为此做些什么？

简而言之：OpenCV 用于存储其 SVM 输出的格式是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-27T18:11:27.983

你可以关注 OpenCV 的 CvSVM::write 函数。

```
int i, var_count = get_var_count(), df_count, class_count;
const CvSVMDecisionFunc* df = decision_func;

cvStartWriteStruct( fs, name, CV_NODE_MAP, CV_TYPE_NAME_ML_SVM );

write_params( fs );

cvWriteInt( fs, "var_all", var_all );
cvWriteInt( fs, "var_count", var_count );

class_count = class_labels ? class_labels->cols :
              params.svm_type == CvSVM::ONE_CLASS ? 1 : 0;

if( class_count )
{
    cvWriteInt( fs, "class_count", class_count );

    if( class_labels )
        cvWrite( fs, "class_labels", class_labels );

    if( class_weights )
        cvWrite( fs, "class_weights", class_weights );
}

if( var_idx )
    cvWrite( fs, "var_idx", var_idx );

// write the joint collection of support vectors
cvWriteInt( fs, "sv_total", sv_total );
cvStartWriteStruct( fs, "support_vectors", CV_NODE_SEQ );
for( i = 0; i < sv_total; i++ )
{
    cvStartWriteStruct( fs, 0, CV_NODE_SEQ + CV_NODE_FLOW );
    cvWriteRawData( fs, sv[i], var_count, "f" );
    cvEndWriteStruct( fs );
}

cvEndWriteStruct( fs );

// write decision functions
df_count = class_count > 1 ? class_count*(class_count-1)/2 : 1;
df = decision_func;

cvStartWriteStruct( fs, "decision_functions", CV_NODE_SEQ );
for( i = 0; i < df_count; i++ )
{
    int sv_count = df[i].sv_count;
    cvStartWriteStruct( fs, 0, CV_NODE_MAP );
    cvWriteInt( fs, "sv_count", sv_count );
    cvWriteReal( fs, "rho", df[i].rho );
    cvStartWriteStruct( fs, "alpha", CV_NODE_SEQ+CV_NODE_FLOW );
    cvWriteRawData( fs, df[i].alpha, df[i].sv_count, "d" );
    cvEndWriteStruct( fs );
    if( class_count > 1 )
    {
        cvStartWriteStruct( fs, "index", CV_NODE_SEQ+CV_NODE_FLOW );
        cvWriteRawData( fs, df[i].sv_index, df[i].sv_count, "i" );
        cvEndWriteStruct( fs );
    }
    else
        CV_ASSERT( sv_count == sv_total );
    cvEndWriteStruct( fs );
}
cvEndWriteStruct( fs );
cvEndWriteStruct( fs ); 
```

以下是创建 CvFileStorage 并将其保存到磁盘的方法：

```
const char* filename = "/xxx/yyy/zzz";
const char* modelname = "svm";
CvFileStorage* fs = cvOpenFileStorage(filename, 0, CV_STORAGE_WRITE);
if (fs) {
  write(fs, modelname);
}
cvReleaseFileStorage(&fs); 
```

通过这种方式，您可以选择将模型保存为 XML 或 YAML 格式，并使用 CvSVM::read() 加载模型文件。希望这可以帮助。

# css - 单击时按钮向顶部移动

> ID：14806450
> 
> 赞同：0
> 
> 时间：2013-02-11T05:33:03.583
> 
> 标签：css

我在此[链接](http://buypcgamecdkeys.com/)中有一个实时站点。在特色产品类别下的主页中，您可以看到一些产品。每个产品下方都有一个名为“添加到购物车”的按钮。现在，当您单击“添加到购物车”按钮时，您可以看到该按钮会跳到顶部，我使用的是 chrome 浏览器，所以请检查一下。所以有人可以告诉我如何解决这个问题。帮助和建议将是可观的。谢谢

**更新**

因为我使用了 position: absolute，这用于使该行中的所有按钮对齐一行。因此，如果您提出删除它的建议，请记住我必须保持所有这些按钮对齐。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T05:48:28.880

添加 ：

```
a.button:active{
    top:inherit;
} 
```

在你的CSS结束时。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T05:41:42.627

从`position:absolute`_

**div#content ul.products li.product a.add_to_cart_button** 来自 [style.css](http://buypcgamecdkeys.com/wp-content/themes/BuyGames/style.css)的第 2178 行 并设置其他样式。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-11T05:50:17.567

**assets/css/woocommerce.css**中的这条规则导致了问题。`top`它通过将值设置为**1**来拉伸处于活动状态的按钮，使其占据 100% 的高度，而它已经`bottom`设置为**0**像素。所以，删除这条规则，你应该没问题。

```
a.button:active, button.button:active, input.button:active, #respond input#submit:active, #content input.button:active {
    top: 1px;
} 
```

* * *

**编辑：**

另一个肮脏的解决方案是覆盖`top`处于活动状态的“添加到购物车”按钮的属性。将此规则添加到您的样式表中，它也将解决您的问题

```
.add_to_cart_button:active{
  top:auto!important;  /*Forces the top to it's default value*/
} 
```

# javascript - jQuery 滑块处理通过 ajax 返回的新数据时出现问题

> ID：14806452
> 
> 赞同：0
> 
> 时间：2013-02-11T05:33:09.017
> 
> 标签：javascript, jquery, ajax, python-2.7

是的，我是 jquery 和 javascript 的新手。我有一个页面，其中包含静态 html 和 python 生成的数据，这些数据通过 ajax 写入页面。我有一个 jquery 滑块，它适用于页面中已经存在的静态 html 数据，但不适用于新更新的内容。我尝试将 jquery 滑块代码放在静态 html 页面以及外部 javascript 源页面中。两者都不起作用。只有当我将 jquery 滑块代码放在将新数据写入页面的 python 脚本中时，它才会起作用，我真的不喜欢导入下一组动态数据时发生的情况。不知道我做错了什么......

jQuery代码：

```
$(document).ready(function(){
  $(".noIbar").click(function(e){
    if (e.ctrlKey)
      {
        $(this).next(".panel").slideToggle("fast");
      }
  });
}); 
```

这是代码工作部分的屏幕截图。当用户按住控制键并单击第一行（静态 html）时，它可以工作，但是通过 python 脚本返回的第二行不工作。我觉得这与 jquery 的调用方式有关。

我通过 body 标记中的 onload 调用 ajax 脚本：

```
<body  onload="test();loadcontent();"> 
```

这是'loadcontent（）'函数：

```
function loadcontent()
{
$(document).ready(function(){    
$.get('cgi-bin/content.py', function(data) {
    $("#content").append(data);
});
});
} 
```

这是 python 脚本的确切输出：

```
<div class='noIbar' onclick="highlightLink(this);AddVar('1.2.840.113970.3.33.1.16671800.20120327.1134351')">
  <div class='data'>105630</div>
  <div class='data'>ISO_IR 100</div>
  <div class='data'>20120327</div>
  <div class='data'>135346.000</div>
  <div class='data'>00035MR120014044</div>
  <div class='endcap'>2681</div>
</div>
<div class='panel'>
  <div class='img'><img src="icon/1.2.840.113619.2.5.2431209.13665.1332882288.8.jpg"></div>
  <div class='img'><img src="icon/1.2.840.113619.2.5.2431209.13665.1332882288.9.jpg"></div>
  <div class='img'><img src="icon/1.2.840.113619.2.5.2431209.13665.1332882288.10.jpg"></div>
  <div class='img'><img src="icon/1.2.840.113619.2.5.2431209.13665.1332882288.11.jpg"></div>
  <div class='img'><img src="icon/1.2.840.113619.2.5.2431209.13665.1332882288.12.jpg"></div>
</div>

<div class='noIbar' onclick="highlightLink(this);AddVar('1.2.840.113970.3.33.1.14883629.20111109.1132327')">
  <div class='data'>121011</div>
  <div class='data'>ISO_IR 100</div>
  <div class='data'>20111109</div>
  <div class='data'>133143.000</div>
  <div class='data'>00035US110137393</div>
  <div class='endcap'>US OB</div>
</div>
<div class='panel'>
  <div class='img'><img src="icon/1.2.840.113619.2.5.2431209.13665.1332882288.8.jpg"></div>
  <div class='img'><img src="icon/1.2.840.113619.2.5.2431209.13665.1332882288.9.jpg"></div>
  <div class='img'><img src="icon/1.2.840.113619.2.5.2431209.13665.1332882288.10.jpg"></div>
  <div class='img'><img src="icon/1.2.840.113619.2.5.2431209.13665.1332882288.11.jpg"></div>
  <div class='img'><img src="icon/1.2.840.113619.2.5.2431209.13665.1332882288.12.jpg"></div> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T07:33:30.473

这是解决您的问题的方法：

```
$(document).ready(function(){    
    $.get('cgi-bin/content.py', function(data) {
        $("#content").append(data);
        $(".noIbar").click(function(e){
            if (e.ctrlKey)
            {
                $(this).next(".panel").slideToggle("fast");
            }
        });
    });
}); 
```

您在 ajax 调用之前添加了回调函数。从您的 python 脚本获得响应后，您正在向 DOM 添加内容，添加的新内容将不会响应回调事件，除非您再次为新元素定义它们。

# python - 返回具有最大值的列表的索引

> ID：14806459
> 
> 赞同：1
> 
> 时间：2013-02-11T05:34:37.580
> 
> 标签：python

```
def findMaxDiff(l):
    'list(list(int)), returns index of the row with the maximum difference between elements and the value of the difference in that row'
    return (max(max(a) - min(a) for a in l), l.index(max(l, key=max))) 
```

虽然我已经让它返回最大数字的值，但我不能完全让它返回该列表的正确索引。在这种情况下它工作正常：

```
>>> findMaxDiff([[12,3,50,17], [10,5,9,100,31], [5,3,1]])
    (95, 1) 
```

但在这种情况下不会。

```
>>> findMaxDiff([[0,10],[99,99]])
    (10, 1)
>>> findMaxDiff([[1],[2],[3]])
    (0, 2) 
```

第一个应该返回 (10,0)，第二个应该返回 (0,0)。我试过 key=sum 和 key=max，但都返回相同的东西。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T05:47:14.880

这个怎么样：

```
def thing(list_):                                  
  temp = enumerate(max(x) - min(x) for x in list_)
  return max(x[::-1] for x in temp) 
```

# 3d - 3D管遍历和工具提示

> ID：14806462
> 
> 赞同：1
> 
> 时间：2013-02-11T05:34:46.577
> 
> 标签：3d, geometry, three.js

我正在用 three.js 绘制 3D 管

我正在寻找实现以下功能。请帮助我。

1) 沿表面遍历管道 2) 在管道表面放置标记，这就像管道表面旁边的一条线用作标记。仅在管道上单击显示工具提示，显示管道的实际长度可达那一点。

[http://jsfiddle.net/7WNZ7/1/](http://jsfiddle.net/7WNZ7/1/) `Code at above link`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-18T01:08:22.560

以下是两个可能对您有所帮助的示例：

[http://jabtunes.com/labs/3d/webgl_geometry_extrude_splines.html](http://jabtunes.com/labs/3d/webgl_geometry_extrude_splines.html) 单击“相机样条动画视图”按钮，相机将沿管移动。

[http://stemkoski.github.com/Three.js/Mouse-Tooltip.html](http://stemkoski.github.com/Three.js/Mouse-Tooltip.html) 此代码演示了创建“工具提示”（带有文本的精灵）。

# matlab - 使用 Matlab 从矩阵中生成剩余值

> ID：14806463
> 
> 赞同：-1
> 
> 时间：2013-02-11T05:34:47.643
> 
> 标签：matlab, matlab-deployment

假设有一个使用`for`循环生成的矩阵，给出为

```
A = [ 1 3 4 ;...
      5 8 9 ;...
      6 3 8 ] 
```

让另一个矩阵从给定`A`矩阵生成为

```
B = [ 5 3 8 ] 
```

`B`我的问题是：我想通过仅从`A`列中删除元素来生成矩阵。

输出

```
C = [ 1 8 4 ;... 
      6 3 9 ] 
```

如何使用 Matlab 做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T05:52:09.760

假设从每行中删除的元素数量相同，这应该可以工作。

```
A = [1 3 4; 5 8 9; 6 3 8];
B = [3 5 8];

C = A';
C(find(A' == repmat(B, size(A, 2), 1))) = [];
C = reshape(C, [], size(A, 1))' 
```

# actionscript-3 - 如何使对象在某个点消失 as3

> ID：14806467
> 
> 赞同：0
> 
> 时间：2013-02-11T05:34:59.377
> 
> 标签：actionscript-3, enterframeevent

我有一个名为 food 的电影剪辑，我将它放入一个名为 foodArray 的数组中。它有自己的类（名为 Mover），它使每个食物向右移动。当它达到一定程度时，食物就会消失。

这是我放在 Main 类中的让食物消失的代码。我把它放在 Enter Frame 上。

```
var l:int = foodArray.length - 1;
while ((l > -1))
{
    if (foodArray[l].x > 1020)
    {
        removeChild(foodArray[l]);
        foodArray.splice(l,1);
    }
    l = l - 1;
} 
```

这是 Mover 类

```
public function Mover(inputMC:MovieClip, xV:Number)
{
    this.insMC = inputMC;
    this.xVel = xV;
}
public function startMove():void
{
    this.insMC.addEventListener(Event.ENTER_FRAME, this.updatePos);
}
protected function updatePos(e: Event):void
{
    this.insMC.x +=  this.xVel;
}
public function stopMove():void
{
    this.insMC.removeEventListener(Event.ENTER_FRAME, this.updatePos);
} 
```

食物消失得很好，但有些食物即使在它应该消失的点之后仍然继续存在。我猜问题出在数组长度上，但我不能确定。帮助将不胜感激。:)

这是我制作前十一种食物的地方。所以我有一个名为 Food 的电影剪辑，每个时间轴上有六张不同的图片。我想做一排随机的食物。

```
function showFood()
{
    const ROW = 11;
    for (foodSeq = 0; foodSeq < ROW; foodSeq++)
    {
        randomFood = Math.ceil(Math.random() * 6);
        food = new Food();
        food.gotoAndStop(randomFood);
        food.x = 1010 - (84 * (foodSeq % ROW));
        food.y = 675;
        addChild(food);
        foodArray.push(food);
        food.sequence = foodSeq;
        food.code = randomFood;
        food.addEventListener(MouseEvent.MOUSE_DOWN,onDown);
        //mover
        mover = new Mover(food,XVEL);
        moverArr.push(mover);
        mover.startMove();
    }
    addFood();
} 
```

这是我一次添加一种食物的地方

```
function addFood()
{
    randomFood = Math.ceil(Math.random() * 6);
    food = new Food();
    food.gotoAndStop(randomFood);
    food.x = 76;
    food.y = 675;
    addChild(food);
    foodArray.push(food);
    food.sequece = foodSeq;
    food.code = randomFood;
    food.addEventListener(MouseEvent.MOUSE_DOWN,onDown);
    foodSeq++;
    //mover
    mover = new Mover(food,XVEL);
    moverArr.push(mover);
    mover.startMove();
    //timer
    timerFood.reset();
    timerFood.addEventListener(TimerEvent.TIMER, timerForFood);
    timerFood.start();
} 
```

这是触发 addFood 函数的计时器

```
function timerForFood(t: TimerEvent)
{
    if (timerFood.currentCount > 2)
    {
        addFood();
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T10:00:13.133

我会做一些改变。首先，您可以从 while 循环中删除事件侦听`Mover`器并调用 update 方法 - 因此您不必有多个输入帧侦听器（因为我看不到您删除任何侦听器，我假设您有大量内存泄漏）。

我也会跳过那个向后循环，因为它很难看并且使代码更难理解:) 虽然它有点快，但除非数组中有数千个项目，否则这无关紧要。

```
for (var i:int = 0; i<foodArray.length; i++) {
    var food:Mover = foodArray[i];
    food.updatePos(); // Remove the parameters from the updatePos method, since you're not using it any more.
    if (food.x > 1020) {
        foodArray.splice(i,1);
        i--;
    }
 } 
```

话虽如此，我看不出代码有任何明显错误（除非你的反向循环中有一些奇怪的东西），所以请发布更多代码。

# sql-server-2008-r2 - Sqlcmd 错误：Sqlcmd：-E 和 -U/-P 选项互斥

> ID：14806469
> 
> 赞同：0
> 
> 时间：2013-02-11T05:35:09.013
> 
> 标签：sql-server-2008-r2, sqlcmd

我正在尝试通过执行包含下面提到的命令的 [Main.bat] 来执行位于文件夹中的几个 sql 文件-

`for %%G in (*.sql) do sqlcmd /S [Server] /d [database name] -U [username] -P [Password] -E -i"%%G" pause`

但面对这个问题——

`Sqlcmd: The -E and the -U/-P options are mutually exclusive.`

有什么建议吗？

# javascript - javascripts中奇怪的排序结果

> ID：14806470
> 
> 赞同：3
> 
> 时间：2013-02-11T05:35:13.070
> 
> 标签：javascript, sorting

javascripts 中的 SORT 函数在某些情况下无法返回正确答案。

我使用[http://jsconsole.com](http://jsconsole.com)来测试一些示例：

```
[2, 10].sort()[2, 10]
[3, 10].sort()[10, 3]
[9, 10].sort()[10, 9]
[10, 11].sort()[10, 11] 
```

我在 windows xp、windows 2008 和 firefox 和 chrome 上对其进行了测试。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-02-11T05:37:26.717

我认为您将 Java 与 JavaScript 混淆了，但它们是完全不同的编程语言。我几乎肯定代码是 JavaScript。

JavaScript 的默认排序功能按字符串值排序，而不是整数值。您必须手动执行后者，但这非常简单：

```
[3,10].sort(function (a, b) { return a - b; }); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-11T05:37:02.963

老实说，我没有 JS 经验，但它似乎是按字符串值排序的。IE：1 是比 9 小的字符，所以任何以 1 开头的字符（甚至是 11811891）都将“小于”9。

# android - 使用assetManager.registerLocator（Jmonkey）无法看到图像

> ID：14806475
> 
> 赞同：1
> 
> 时间：2013-02-11T05:36:02.900
> 
> 标签：android, jmonkeyengine

我正在尝试运行[本教程](http://jmonkeyengine.org/wiki/doku.php/jme3#tutorials_for_beginners)中的示例。我下载了 town.zip 并放在我的文件夹中.. .. 尝试运行时.. 它显示空白屏幕。然后我添加了以下行

```
 DirectionalLight sun = new DirectionalLight();
  sun.setDirection(new Vector3f(-0.1f, -0.7f, -1.0f));
    rootNode.addLight(sun); 
```

它在模拟器中工作正常..但在android设备中仍然显示空白..如何解决这个问题

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-13T12:32:24.737

替换为 Spatial gameLevel = assetManager.loadModel("main.scene"); Spatial gameLevel = assetManager.loadModel("Scenes/town/main.j3o"); //替换。

# php - $_POST[] 不工作

> ID：14806481
> 
> 赞同：0
> 
> 时间：2013-02-11T05:37:21.043
> 
> 标签：php, post

我是 PHP 新手。我正在尝试执行这个简单的代码。从一个 php 页面获取文本字段值，我想在另一个 php 页面中显示它。但是，它不起作用。我的错误在哪里？？

**新1.php**

```
<html xmlns="http://www.w3.org/1999/xhtml">

    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
        <title>Untitled Document</title>
    </head>

    <body>
        <form action="welcome1.php" method="POST">
            <input name="Name" type="text" />
            <input name="submit" type="submit" value="Submit" />
        </form>
    </body>
    <?php
        SESSION_START();
        $var="";
            if(!empty($_POST['Name'])){
            $var=$_POST['Name'];
        } else {
            $var="NOT SET";
        }
        $_SESSION['name11']=$var;
    ?>
</html> 
```

**欢迎1.php**

```
<html>
    <body>
        <?php
        session_start();
        $n="";
        if(isset($_SESSION['name11'])){
            $n=$_SESSION['name11'];
            echo $n;
        } else {
            echo "no session";
        }
        ?>
    </body>
</html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T05:41:13.593

您的代码在错误的文件中。

这应该都在welcome1.php 中，目前在new1.php 中。

```
<?php
    SESSION_START();
    $var="";
    if(!empty($_POST['Name'])){
        $var=$_POST['Name'];
    }
    else
    {
        $var="NOT SET";
    }
    $_SESSION['name11']=$var;
?> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T05:47:41.937

你的代码是错误的。只是因为 session_start() 需要在发送标头之前运行。

您的解决方案是：

移动 session_start(); 以上<html...

请访问： [为什么我不能在我的 php 脚本中使用 session_start()？它说标头已经发送](https://stackoverflow.com/questions/712326/why-cant-i-use-session-start-in-my-php-script-it-says-headers-are-already-se)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-15T04:47:30.380

问题是因为您将表单发布到welcome1.php（表单的操作）并且获取发布值的代码在new1.php 中。

将您的文件更改为：

**新1.php**

```
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
        <title>Untitled Document</title>
    </head>
    <body>
        <form action="welcome1.php" method="POST">
            <input name="Name" type="text" />
            <input name="submit" type="submit" value="Submit" />
        </form>
    </body>
</html> 
```

**欢迎1.php**

```
<?php
    session_start();
    $var="";
    if(!empty($_POST['Name'])){
        $var=$_POST['Name'];
    } else {
        $var="NOT SET";
    }
    $_SESSION['name11']=$var;

    echo $_SESSION['name11']; /// you get this $_SESSION['name11'] in all the pages.
?> 
```

# android - 真机产生过多日志

> ID：14806484
> 
> 赞同：2
> 
> 时间：2013-02-11T05:37:46.560
> 
> 标签：android, logcat, android-logcat

我正在为android开发一个简单的程序。
我在一个真实的设备上测试了它 samsung young android 2.3。
我的程序产生一些用于调试目的的日志输出。
一切都很好，但我的设备开始在 Eclipse LogCat 窗口中产生很多消息，即使我的 prog 没有运行。设备产生如下消息：

```
02-08 09:14:51.960: D/CallManager(1560):  handleMessage (EVENT_SERVICE_STATE_CHANGED)
02-08 09:14:54.078: E/StatusBarPolicy(1548): ecio: 22
02-08 09:14:54.078: E/StatusBarPolicy(1548): iconLevel: 4
02-08 09:14:56.640: E/StatusBarPolicy(1548): ecio: 23
02-08 09:14:56.640: E/StatusBarPolicy(1548): iconLevel: 4
02-08 09:14:59.203: E/StatusBarPolicy(1548): ecio: 24
02-08 09:14:59.203: E/StatusBarPolicy(1548): iconLevel: 4

02-08 09:16:00.007: E/ClockWidget(3324): getOrientation portrait
02-08 09:16:00.007: E/ClockWidget(3324): drawDayText
02-08 09:16:00.007: E/ClockWidget(3324): width= 50
02-08 09:16:00.007: E/ClockWidget(3324): widthText= 63.0
02-08 09:16:00.015: E/ClockWidget(3324): RIGHT
02-08 09:16:00.640: E/StatusBarPolicy(1548): ecio: 26
02-08 09:16:00.640: E/StatusBarPolicy(1548): iconLevel: 4

02-08 09:18:26.617: D/BatteryService(1495): CHARGER :: mBatteryStatus = 4
02-08 09:18:26.617: D/BatteryService(1495): updateBattery level:99 scale:100 status:4 health:2 present:false voltage: 4 temperature: 340 technology: Li-ion AC powered:false USB powered:true icon:17302184
02-08 09:18:26.632: D/WifiService(1495): [mPersistState] : On
02-08 09:18:26.632: I/StatusBarPolicy(1548): BAT. S:4 H:2
02-08 09:18:26.656: D/Vold(1306): VolumeManager::handleSwitchEvent -> Changed USB status SWITCH_NAME(usb_mass_storage),SWITCH_STATE(offline) 
02-08 09:18:26.656: W/Vold(1306): Ignoring unknown switch 'usb_mass_storage'
02-08 09:18:26.656: D/Vold(1306): VolumeManager::handleSwitchEvent -> Changed USB status SWITCH_NAME(usb_connected),SWITCH_STATE(0) 
02-08 09:18:26.656: W/Vold(1306): Ignoring unknown switch 'usb_connected'

02-08 09:18:27.078: I/PowerManagerService(1495): Light Animator Finished curIntValue=143
02-08 09:18:27.242: D/AndroidRuntime(13895): >>>>>> AndroidRuntime START com.android.internal.os.RuntimeInit <<<<<<
02-08 09:18:27.242: D/AndroidRuntime(13895): CheckJNI is OFF
02-08 09:18:27.242: I/AndroidRuntime(13895): JNI options: '-Xjniopts:warnonly'
02-08 09:18:27.242: E/AndroidRuntime(13895): feature code ==> cannot open file
02-08 09:18:27.421: D/LibQmg_native(13895): register_android_app_LibQmg
02-08 09:18:27.476: D/AndroidRuntime(13895): Calling main entry com.android.commands.am.Am 
```

等等。设备不断生成它，我无法阻止它。当我运行我的程序时，无法找到有用的日志消息。

如何阻止我的设备产生此类消息？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-11T05:43:50.337

只需为您自己的应用程序创建一个过滤器。

**脚步：**

1.  进入 DDMS 视角。
2.  在 logcat 选项卡中，单击**绿色 + 符号**，这将弹出以下弹出窗口 ![在此处输入图像描述](../Images/2b137098bad731fc73bc727ff19042d3.png)
3.  在**by Application Name:**部分中，放入您的根命名空间。例如：*com.abc.testapp*

*替代方法：* 如果您还没有尝试过之前的选项，但仍在logcat的*All Message部分中，找到适用于您的应用程序的堆栈跟踪 -> Right Click ->* *Filter similar message*。**清除除按应用程序名称**之外的所有内容，您将获得相同的结果。

现在，您的 logcat 选项卡中将有两个条目。一个用于所有消息，一个用于您的应用程序。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T05:46:57.373

在 Eclipse 中，如果您打开了 DDMS 透视图，您可以从过滤器中选择应用程序。如果没有创建，您可以创建自己的过滤器。

查看[此](http://jtomlinson.blogspot.com/2010/04/android-ddms-and-formatting-logcat.html)内容以获取更多信息。

# c# - 在 C# 中为 read() 使用 while 循环

> ID：14806485
> 
> 赞同：1
> 
> 时间：2013-02-11T05:38:10.043
> 
> 标签：c#, oracle

我是网络开发的初学者。我写了一个代码来在文本框中输入序列号。

```
OdbcConnection myOdbcConnection = new OdbcConnection(con1);

OdbcCommand myOdbcCommand = myOdbcConnection.CreateCommand();
String sSQL = "SELECT max(slno)+1 FROM driversmaster";

myOdbcCommand.CommandText = sSQL;

myOdbcConnection.Open();

OdbcDataReader myOdbcDataReader = myOdbcCommand.ExecuteReader();

while (myOdbcDataReader.Read() != false)
{
    SlnoTxt.Text = myOdbcDataReader[0].ToString().Trim() ;
} 
```

经过很多努力，我得到了我需要的东西。但我不明白我写的代码是什么让我得到了答案。为什么我应该使用 while 循环进行读取，什么时候可以使用“if 语句”？

请帮助我知道，以便我很好地理解代码。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T05:48:52.183

的结果`myOdbcCommand.ExecuteReader();`将在数据库中。考虑结果在查询结果之后有 10 行。`myOdbcDataReader.Read()`一次只能读取一条记录。因此，您需要将此`Read()`语句放在循环中以读取所有记录。读取一条记录后，指针将自动指向数据库中的下一条记录。如果您正在使用`if`它将检查天气查询是否返回任何结果。也就是说，在执行查询后至少存在或不存在一条记录。
在您的情况下，我建议使用，
`int value=(int)myOdbcCommand.ExecuteScalar();`
因为只检索一个整数值。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T05:43:12.757

使用 read 时，您会处理从查询中获得的所有结果。如果您使用 if 语句，您将获取第一个结果（如果有的话）并完成。

简而言之：只要您期望只有一个结果或没有结果，您就可以使用 if。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-11T05:44:44.993

在您的情况下，一条`if`语句会起作用，因为您只查询一行数据。通常在查询数据库数据时，一个查询可能会返回多行，在这种情况下，您将使用`Read()`一次一行地遍历每一行。

在您的情况下，由于您只检索一个值，您可能还需要考虑使用`ExecuteScalar()`：

```
object result = myOdbcCommand.ExecuteScalar();

SlnoTxt.Text = result.ToString(); 
```

# php - 如何使用php中的循环访问文本框中的值

> ID：14806486
> 
> 赞同：-1
> 
> 时间：2013-02-11T05:38:11.557
> 
> 标签：php, arrays, textbox

我有一个使用变量命名的文本框数组（每个文本框都有一个唯一的名称）。我想用它的 ID 获取这些文本框中的数据并将其存储在数据库中。我使用以下代码尝试了此操作，但没有成功。

```
if($_GET['btn1']=="Submit"){
 for ($p=0;$p<12;$p++){
   $qty=$_GET['text$p'];
   mysql_query("UPDATE model SET column$m='$qty' WHERE `ModelName`='$rt'"); 
   }      
} 
```

我是 PHP 的新手。任何想法都会很棒。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T06:28:16.557

`$qty=$_GET['text$p'];`将其更改为`$qty=$_GET['text'.$p];`并尝试

假设您的文本名称如下：text1，text2，...等

注意：您使用了 $_GET，因此表单中的方法应该是 get 即：`method = "GET"`

`print_r($_REQUEST);`在页面顶部让您更好，并相应地做其他事情。

请参阅此链接以了解单引号和双引号[之间的差异：PHP 中单引号和双引号字符串有什么区别？](https://stackoverflow.com/questions/3446216/difference-between-single-quote-and-double-quote-string-in-php)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T05:42:25.897

如果您使用迭代器生成了文本框，您可能想要执行类似的操作，

```
$qty=$_GET['text'.$p]; 
```

与其使用列名（如 c1、c2、c3、c4）保存到数据库，不如尝试一列，将其称为 col 并将您的文本框设置为另存为数组。

```
<input name="col[]" value="apple">
<input name="col[]" value="pear">
<input name="col[]" value="banana"> 
```

现在，如果我勾选苹果和香蕉并将表单提交给 php，我将得到一个值数组，

```
var_dump( $_GET['col'] ); 
```

会返回类似的东西，

```
array(2) {
  [0] =>  string(5) "apple"
  [1] =>  string(6) "banana"
} 
```

存储在您的数据库中

```
mysql_query("UPDATE model SET col='".json_encode($_GET['col'])."' WHERE `ModelName`='$rt'"); 
```

当您检索列时，您需要执行 json_decode。当您输出输入时，您现在可以执行以下操作，

```
<input name="col[]" value="apple" <? if (in_array('apple', $col)) echo "CHECKED='CHECKED'"; ?> > 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-11T05:43:06.897

试试这样：

您的文本框名称不是字母，因为您正在使用它们 - 它们是 letter_0、letter_1 等。

此外，interval 是 MySQL 的保留字，您需要使用反引号对其进行转义：`interval`。

要检索所有这些，您可以硬编码它们的所有名称，例如 $letter1 = $_POST['letter_1'];，或者您可以在另一个循环中进行：

```
for ($i=0; $i<5; $i++) {
    $letter = $_POST['letter_' . $i]; 
    $interval = $_POST['interval' . $i]; 
    $gt = $_POST['gt' . $i]; 
    $s = mysql_query("INSERT INTO `grad_table` (`letter`, `interval`, `gt`) VALUES ('$letter',$interval,$gt)");
} 
```

# opengl - 通过直接使用 opengl 而不是渲染/游戏引擎，你会学到什么类型的知识？

> ID：14806489
> 
> 赞同：-1
> 
> 时间：2013-02-11T05:38:35.720
> 
> 标签：opengl, graphics, lwjgl, raster, jmonkeyengine

我不知道我是否应该使用opengl来制作我的游戏，或者一个游戏引擎。我已经决定使用java，所以我会使用lwjgl来直接使用opengl，如果我要使用游戏引擎我可能会使用JME3。

就个人而言，我讨厌在不了解它们的情况下使用它们。这就是我想使用opengl的原因，所以我会学习图形、光栅引擎等。但是，我一直在研究opengl做了什么，它似乎为你抽象了很多东西，比如矩阵用于光栅化、背面剔除等。

光栅过程是最吸引我使用 opengl 的东西，但既然 opengl 似乎为你抽象了这个，我应该只使用游戏引擎而不是 opengl 吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T05:56:22.813

非常多！OpenGL 是一个渲染库，游戏引擎通常在其中做更多的事情，甚至可能使用 OpenGL 进行它请求的渲染。如果您只使用 OpenGL，您需要自己实现的一些潜在技术是：

1.  *对象剔除方法*- 视锥剔除、门户剔除等。
2.  *渲染状态管理*- 通过按通用渲染属性（例如颜色、纹理等）组织对象的绘制来优化渲染活动
3.  *场景图管理*- 大多数游戏引擎将对象存储在分层数据结构中，并遍历该数据结构以确定每帧应该发生什么动作（例如，应该绘制谁；更新的位置、速度等）

如果您有时间并且正在为体验而这样做，那么所有这些都是学习的好技巧。如果您想发布“产品”（即，无论技术如何，游戏都是目标），然后使用游戏引擎 - 您将节省大量时间。

# windows-7 - “保护模式”阻止“mailto：”工作

> ID：14806491
> 
> 赞同：2
> 
> 时间：2013-02-11T05:38:59.167
> 
> 标签：windows-7, reporting-services, internet-explorer-10

`mailto:`我有一份报告，其中包含打开 Outlook（发送新邮件）的超链接（带有）。此链接适用于我的运行 Windows 2008R2 的 Windows 服务器，但这不适用于我的 Windows 7 机器。

当我禁用我的 IE10（在 Windows7 中）的“保护模式”时，它可以工作。但是，禁用保护模式是不可取的。谁能帮我这个？我知道这不是报告问题，但应该存在一些修复/解决方法。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T21:50:20.633

当mailto链接超过一定数量的字符（大约512）时，关于浏览器中显示的空白页面，我遇到了同样的问题。我的问题出在从公司防火墙后面访问的 Intranet 页面上。它是在上周二最新一轮微软补丁发布后立即开始的。

这似乎是 IE 最新补丁中的一个错误。我们将该站点列为 Intranet 站点。Intranet 安全性非常开放，但它不允许 mailto 正常运行。如果我在 Internet 设置中关闭保护模式，它可以解决问题。

所以这里是演出。对我和公司的其他人来说，IE 中似乎存在一个错误，它混淆了应该是 Intranet 的站点（快速属性检查表明这是真的）与 Internet 上的站点，因此给他们错误的安全设置。

# java - 将多个csv文件合并到一张excel表中

> ID：14806495
> 
> 赞同：-2
> 
> 时间：2013-02-11T05:39:16.017
> 
> 标签：java

我需要准备一个 java 工具，我需要将多个 CSV 文件合并到一个 Excel 表中。现在，合并的每个 csv 文件都应代表合并后的 excel 工作表中的一个单独的工作表。谁能帮助我了解如何继续开发此工具以及其中涉及的逻辑。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T06:12:15.223

你有没有看过[jexcelapi](http://jexcelapi.sourceforge.net/)

从他们的网站引用

> Java Excel API 是一个成熟的开源 Java API，使开发人员能够动态地读取、写入和修改 Excel 电子表格。现在Java 开发人员可以读取Excel 电子表格，使用方便简单的API 对其进行修改，并将更改写入任何输出流（例如磁盘、HTTP、数据库或任何套接字）。

我以前使用过这个初学者教程：[link](http://www.vogella.com/articles/JavaExcel/article.html)

# c# - Excel图表 - 没有得到图例

> ID：14806497
> 
> 赞同：1
> 
> 时间：2013-02-11T05:39:14.987
> 
> 标签：c#, .net, excel, excel-interop

我正在使用 C#（互操作）创建一个 excel 图表。我正在使用 get_Range 函数从 excel 的数据表中获取它。我得到了正确的图表。但我没有得到图表旁边的***图例名称***，它以 series0、series1 的形式出现。我正在使用以下代码。

```
 Range chartRange;
    Object misValue = System.Reflection.Missing.Value;
    ChartObjects xlCharts = (ChartObjects)sheet0.ChartObjects(Type.Missing);
    ChartObject myChart = (ChartObject)xlCharts.Add(10, 70, 250, 250);
    Chart chartPage = myChart.Chart;
    Chart chartPage1 = myChart.Chart;
    chartRange = sheet0.get_Range("$G$45:$G$54,$AT$45:$AT$54", misValue);
    chartPage.SetSourceData(chartRange, misValue);
    chartPage.ChartType = XlChartType.xlColumnClustered;
    chartPage.Location(XlChartLocation.xlLocationAsNewSheet, "Chart"); 
```

我应该在 get_Range 方法中更改什么来获取图表中的图例名称？

先感谢您。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T21:01:51.233

尝试遍历系列集合并一一设置名称。像这样的东西：

```
foreach (Series series in myChart.SeriesCollection()){
   series.Name = "MyName";
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-03-24T19:37:17.917

通常，数据的排列方式是，如果系列按列排列，则数据的第一列具有所有系列的 X 值，其余列是 Y 值，数据的第一行具有系列名称，在图例中显示。为确保 Excel 能够以这种方式解析数据，请确保左上角的单元格为空白。使用整个范围，包括第一列中的 X 值和第一行中的系列名称，作为 SetSourceData 中的图表范围。

# javascript - 用于 node.js 的 LoDash

> ID：14806501
> 
> 赞同：1
> 
> 时间：2013-02-11T05:39:54.707
> 
> 标签：javascript, lodash

如何为 node.js 项目自定义构建 lodash？我不想在自定义构建中使用任何基于 Opera、IE、firefox 的代码，因为我将始终使用 v8。可能吗？请帮助。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-11T08:01:00.413

lodash 有一个现有的 Node 包：

```
npm install lodash 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-07-23T20:04:07.297

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-01-01T16:51:08.230

有一个特定的节点包：[lodash-node](https://github.com/lodash/lodash-node)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2020-06-01T18:00:14.373

只需安装`npm install --save lodash`

在需要的地方使用 with

```
const _ = require('lodash');

const array = [1];
const other = _.concat(array, 2, [3], [[4]]); 
```

# c# - 如何处理：编写一个接受任意数量正值的 Windows 应用程序

> ID：14806503
> 
> 赞同：-7
> 
> 时间：2013-02-11T05:40:08.980
> 
> 标签：c#

我应该如何处理这个任务？我应该使用 if/else 语句吗？

作业 1：

编写一个接受任意数量的正值的 Windows 应用程序。用户点击一个按钮可以随时处理所有输入的数据。结果输出：

1.  所有 n 个输入数字的总和，后跟 n 行，按输入顺序显示：
2.  原来输入的号码；
3.  此数字占总和的百分比。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T05:52:48.333

1.  创建一个`textbox`提示输入值。
2.  创建两个`buttons`. `ProcessButton`用于处理到目前为止的值和`INPUT`用于获取用户输入的按钮（`key event handler`如果您更喜欢`ENTER`在文本框中键入值后按下，也可以使用）
3.  在文本框中输入值时，`List<int>`根据您的问题将它们存储在 a 或任何内容中。
4.  按下时`ProcessButton`然后调用`List<int>.Sum()`并打印值
5.  打印`List<int>`using`foreach`语句中的每个项目。
6.  从这里继续

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T06:42:45.460

虽然我不完全理解这个项目。这至少应该为您指明一个可靠的方向。

1.  打开 Visual Studio
2.  选择 C#
3.  选择 Windows 窗体应用程序

此时，您的项目将以设计器模式打开一个画布。帮助描述一次正在发生`click`的事情`Form`。

在窗口的右侧，您将看到`Solution Explorer`和`Properties`。

解决方案资源管理器：这将向您显示项目的内容。它包含以下内容：

*   属性：`Assembly`、`Resource`和`Settings`信息。
*   参考资料：这将包含您所有的项目参考资料，`Assemblies`有助于扩展您的项目或链接到您可能正在做的其他应用程序。

下一个项目将是您的`Form`. 这是最重要的部分；因为这将是您进行所有操作的地方。

现在我提到的第二个项目；`Properties`. 不是其中的一个，`Solution Explorer`而是分开的标签。将向您展示该组件的所有修改。在这种情况下，您的`Form`.

在左侧，您实际上要做的是转到`Toolbox`. 这些是微软一开始就为您提供的所有组件。只需将`Textbox`组件拖出`Toolbox`到您的`Form`（画布）上。

您会注意到轮廓，其中有几个`transformation`点供您操作位置和尺寸。

在我们进一步讨论之前，我将分解发生的事情。您已`textbox`在`Form`. 默认情况下，它将被调用`TextBox1`。用它是什么然后它是所需的功能来识别组件是一种很好的做法。如果您要查找的内容是用户名，请将其命名为`txtFirst`。这样就更容易理解你在操纵什么。

由于我的目标是帮助您指明正确的方向，请按照以下步骤操作：

1.  拖动 a `Label`-`lblInput`为其命名（将文本更改为您选择的名称）。
2.  拖出一个`Textbox`-命名它`txtInput`。
3.  拖出一个`Rich Textbox`-命名它`rtxtDisplay`。

现在这三个组件将天生就是您的`User Interface`. 所有的交互都将在这里发生。但是我们`Element`在界面上缺少一个。一个按钮，这很重要，因为它将创建所谓的`Event`. 这些基本上会通知界面发生了变化，因此看起来它正在做某事。

*   将 a`Button`拖出工具箱，名称为`btnAdd`.

现在你有了一个完整的界面；所以现在双击按钮。你的屏幕现在会改变；你会看到所有这些文本。

重要的部分是它通过选择按钮将您导航到的位置。

```
private void btnAdd_Click(object sender, EventArgs e)
{
     // Implementation Here.
} 
```

这样`Event`您就可以执行逻辑来创建应用程序。现在，我不会为您编写代码。但我会做一些接近的事情，这样你就可以适应和学习。

```
private void btnAdd_Click(object sender, EventArgs e)
{
    // Method One: "Casting"
    // By default txtInput is a String, you require integers.  So you can add.
    /* So you would want to ensure proper Error Handling exists, otherwise when you cast you'll receive an invalid cast exception. */
    txtInput.Text = (int)data;
} 
```

因此，您可以看到`//`和`/*`是不同的评论方法，以使您的逻辑易于理解。我用它来解释你正在发生的事情。`txtInput.Text`接受任何输入值，`string`现在`casted`是`integer`.

```
private void btnAdd_Click(object sender, EventArgs e)
{
     // Method Two: "Array"
     int[] data;
} 
```

现在，这实际上会在你的内存中分配一个引用。这将允许您将多个东西存储到`Array`. 如果您将所有`textbox`输入传递到您的`Rich Textbox`. 然后第二个按钮可以填充数组以添加每个项目。

在这个例子中，我实际上会写一个完整的方面，但正如我所说，你需要做一些事情来使它满足你的需要。

```
public partial class Form1 : Form
{
   // Create Storage
   List<string> store = new List<string>();

   private void button1_click(object sender, EventArgs e)
   {
       // Will add the input of the textbox to list each time button clicked.
       store.Add(textbox1.Text);
   }

   private void button2_click(object sender, EventArgs e)
   {
       // Logic to Add the items.
   }
} 
```

你的一半战斗就在那里。帮助你从概念上真正理解这一点的东西，将是这些物品来帮助你完成你的项目。

*   `Casting`
*   `Arrays`
*   `Generics`
*   `Loops`

希望对您有所帮助。这些是一些基本课程；我可能会建议 MSDN 上的入门级教程课程。

# css - 更改表格 CSS 交替行中超链接的颜色

> ID：14806513
> 
> 赞同：-1
> 
> 时间：2013-02-11T05:41:09.443
> 
> 标签：css, css-tables

我使用以下 CSS 更改了表格交替行的颜色：

```
tr:nth-child(odd)    { background-color:#dedede; color: black; }
tr:nth-child(even)    { background-color:none; } 
```

但我想使用 CSS 更改交替行中超链接的颜色。我尝试使用更改颜色

```
tr:nth-child(odd) a{ background-color:#dedede; color: black; }
tr:nth-child(even) a{ background-color:none; } 
```

但这对我不起作用

请帮忙

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T05:50:22.123

它工作正常亲爱的试试这个：

```
tr:nth-child(odd) a{ background-color:#dedede; color: #996633; }
tr:nth-child(even) a{ background-color:none; color : #FF0000} 
```

# pdf - 如何在 Web 浏览器中将 MS Word 转换为 PDF

> ID：14806515
> 
> 赞同：0
> 
> 时间：2013-02-11T05:41:16.833
> 
> 标签：pdf, ms-word, pdf-generation, client-side, file-conversion

我见过其他人这样问，但我认为我的要求是最严格的：

我需要以编程方式将 MS Word .DOC（Office 2003 或更早版本）或 .DOCX（Office 2007 或更早版本）文件转换为 PDF 文件。这需要随着时间的推移临时发生 - 不是一次，也不是现在我的桌面上有一组文件。

我的平台在云中运行，因此我没有可以运行众多服务器端转换工具之一的服务器，我无法编写 VB、C# 或 Java 应用程序来实现这一点。例如，我无法使用 Aspose.words 或 Libre Office，因为我没有可以安装它们的计算机或使用它们的应用程序。

我在想我需要一个基于 Web 浏览器的**客户端**解决方案，例如 JavaScript。有这样的图书馆吗？从过去几年我看到的其他问题来看，我认为答案是否定的，但我想我最好检查一下。

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-12T18:24:45.627

Docmosis Cloud 服务可以从 JavaScript 执行 doc/docx -> pdf。您可以通过发布带有 JSON 有效负载的 https 请求来转换（呈现）doc/docx。请注意，我为创建 Docmosis 的公司工作。

我希望这会有所帮助。

# android - 必须使用活动访问令牌来查询有关当前用户的信息

> ID：14806522
> 
> 赞同：3
> 
> 时间：2013-02-11T05:42:02.517
> 
> 标签：android, facebook

在登录页面，我得到 ACCESS_TOKEN。但是在朋友列表页面中，我没有得到 ACCESS_TOKEN。我的代码如下。请检查我的代码。

用户登录代码

```
mFacebook.authorize(this, sPermissions, new AuthorizeListener()); 
```

我使用 AuthorizeListener()。这段代码

```
 public class AuthorizeListener implements DialogListener {
      String actoken;
      @Override
      public void onComplete(Bundle values) {
          if (MainFragment.FacebookD) {
              Log.w(MainFragment.LOG_TAG, "::: onComplate :::");
              Log.w(MainFragment.LOG_TAG, "Access token : " + mFacebook.getAccessToken());
              Token = mFacebook.getAccessToken();
            actoken = getAppPreferences(IntroActivity.this, "ACCESS_TOKEN");
            Log.w("GETAPPPREFERENCES",actoken);
          }
      }
   ...... 
```

我也写了 onActivityResult 方法。这段代码。

```
 @Override
     protected void onActivityResult(int requestCode, int resultCode, Intent data) {
     super.onActivityResult(requestCode, resultCode, data);

      if (requestCode == MainFragment.FACEBOOK_AUTH_CODE) {
          mFacebook.authorizeCallback(requestCode, resultCode, data);
          Log.w("ACTIVITYRESULT","ACTIVITYRESULT");

                     }
  }
   ......
  Intent intent = new Intent(IntroActivity.this, NorinuriMain.class);
            startActivity(intent); 
```

登录后，意图页面（获取好友列表）

获取好友列表代码

```
 public void setupFacebookfriend(){
    Log.w("FacebookFREIND","START");
    String userName;
    String userSex;

    try {
        Log.w("gogogogo","START");

        final JSONObject json = Util.parseJson(mFacebook.request("me/friends"));
        JSONArray d = json.getJSONArray("data");
        JSONObject o ;
        for(int i = 0 ; i < d.length() ; i++){
            JSONObject post=d.getJSONObject(i);
            o = d.getJSONObject(i);
            list.add(o.getString("data"));
            list.add(post.getString("name"));
        }

    }catch (Exception e) {
        e.printStackTrace();
    }
    facebookListView.setAdapter(new ArrayAdapter<String>(this, android.R.layout.simple_list_item_multiple_choice, list));
    facebookListView.setItemsCanFocus(false);
    facebookListView.setChoiceMode(ListView.CHOICE_MODE_MULTIPLE);
} 
```

这个逻辑没问题。但出现错误。

com.facebook.android.FacebookError：必须使用活动访问令牌来查询有关当前用户的信息。

为什么会发生？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T08:06:34.153

当 Facebook 对象没有有效的访问令牌时会出现此错误。在尝试获取 Facebook 好友列表时，您必须检查会话是否有效。

```
if (mFacebook.isSessionValid()) {
            Bundle parameters = new Bundle();
            parameters.putString("message", msg);
            try {
                String response = mFacebook.request("me/friends", parameters,
                        "GET");
                System.out.println(response);

                JSONObject obj = Util.parseJson(response);

                Log.i("json Response", obj.toString());
                JSONArray array = obj.optJSONArray("data");

                if (array != null) {
                    for (int i = 0; i < array.length(); i++) {
                        String name = array.getJSONObject(i).getString("name");

                        String id = array.getJSONObject(i).getString("id");

                        Log.i(name, id);
                        arrayListFacebookFriend.add(name);
                        arrayListFacebookFriendId.add(id);
                        // String response2 = mFacebook.request(id+"/feed",
                        // parameters,"POST");
                        // System.out.println(response);
                        // response = mFacebook.request(toID+"/feed",
                        // parameters, "POST");
                    }
                    Log.d("arrayList of Friend>>>>", ""
                            + arrayListFacebookFriend);

                }

            } catch (IOException e) {
                e.printStackTrace();
            } catch (FacebookError e) {
                e.printStackTrace();
            } catch (JSONException e) {
                e.printStackTrace();
            }
        } else {
            mFacebook.authorize(this, sPermissions, new AuthorizeListener());
        } 
```

检查有关此链接的更多信息：

> [Android Facebook .. 如何获取 AccessToken](https://stackoverflow.com/questions/5912961/android-facebook-how-to-get-accesstoken)
> 
> [如果用户有 fb 帐户，如何在我的 android 应用程序中提供登录权限](https://stackoverflow.com/questions/9612905/how-to-provide-permission-for-login-in-my-android-application-if-user-has-fb-acc)

我希望它能解决你的问题。

# java - 非方形物体的碰撞检测

> ID：14806530
> 
> 赞同：1
> 
> 时间：2013-02-11T05:42:49.387
> 
> 标签：java, android, collision-detection

我有一些激光器使用矩形作为命中框，我在游戏中检查矩形命中框与我的敌人的交叉点。这很好用，但现在我正在尝试实现一些角度为 30 度的激光器，但我不知道如何有效地做到这一点。我不想做每像素检测，因为我计划在屏幕上显示相当多的内容，而且会很多。

任何帮助，将不胜感激。谢谢。

哦，我在 java 中为 android 做这个（虽然不认为这很重要）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T05:48:01.670

使用线性截距计算

```
 y = mx + c
   y2 = gx + d
   mx + c = gx + d
   mx - gx = d - c
   x(m - g) = d - c
   x => (d-c)/(m-g) 
```

然后测试返回值是否在x的域中。找到 x 后，计算 y 并测试它是否在激光和矩形的范围内

# http - 使用 jQuery 附加 HTML 表单时，提交按钮不起作用

> ID：14806532
> 
> 赞同：1
> 
> 时间：2013-02-11T05:42:57.543
> 
> 标签：http, jquery

我有两个 HTML 表单。第一个是**searchForm**，第二个是**searchFormSPECIAL**。

不同之处在于**searchForm**最初打印在 HTML 中，而**searchFormSPECIAL在用户单击按钮****oooo**时由 jQuery 附加。

我还设置了两个提交侦听*器 $("#searchForm").submit(function(event)*和*$("#searchFormSpecial").submit(function(event)*。第一个正在工作，第二个没有。

这是我的代码：

```
<html>
<head>
    <script src="http://code.jquery.com/jquery-latest.js"></script>
    <script>
        $("#test_only").click(function () {
            $('body').append(commentFormSPECIAL());
        });

        function commentFormSPECIAL() {
            var comment_form_html = '<form action="/comment" id="searchFormSPECIAL">\
            <input type="text" name="r" placeholder="Topic ID" />\
            <input type="text" name="c" placeholder="Comment ..." />\
            <input type="submit" value="Submit Comment" />\
            </form>'

            return comment_form_html;
        //return "";
      }

      $("#searchForm").submit(function(event) {
            /* stop form from submitting normally */
            event.preventDefault();
            alert("Hey you are submitting searchForm")
        });

      $('#searchFormSPECIAL').submit(function(event){
        /* stop form from submitting normally */
        event.preventDefault();
        alert("Hey you are submitting searchFormSPECIAL");
      });
  </script>
</head>
<body>
    <div id="wrapper">
        <form action="/new" id="searchForm">
            <input type="text" name="s" placeholder="Topic..." />
            <input type="text" name="l" placeholder="http://www.google.com" />
            <input type="submit" value="Submit Topic" />
        </form>

        <button id="test_only">ooooo</button>
    </div>
</body>
</html> 
```

似乎 jQuery 无法识别附加形式。

提前致谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T05:45:23.383

看起来您正试图在实际创建表单之前绑定到 searchFormSPECIAL 提交操作。

尝试改变

```
$('#searchFormSPECIAL').submit(function(event){ 
```

到

```
$('#searchFormSPECIAL').on("submit", function(event){ 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-11T05:56:52.860

当浏览器完全构建 DOM 层次结构时，您应该绑定 click 事件。尝试将您的代码放入[$(document).ready](http://api.jquery.com/ready/)

```
<html>
    <head>
        <script src="http://code.jquery.com/jquery-latest.js"></script>
        <script>
        $(document).ready(function () {
          $("#test_only").click(function () {
              $('body').append(commentFormSPECIAL());
          });

          function commentFormSPECIAL() {
              var comment_form_html = '<form action="/comment" id="searchFormSPECIAL">\
              <input type="text" name="r" placeholder="Topic ID" />\
              <input type="text" name="c" placeholder="Comment ..." />\
              <input type="submit" value="Submit Comment" />\
              </form>'

              return comment_form_html;
              //return "";
          }

          $("#searchForm").submit(function(event) {
              /* stop form from submitting normally */
              event.preventDefault();
              alert("Hey you are submitting searchForm")
           });

          $(document).on('submit', '#searchFormSPECIAL', function (event) {
          /* stop form from submitting normally */
              event.preventDefault();
              alert("Hey you are submitting searchFormSPECIAL");
          });
     });
  </script>
</head>
<body>
    <div id="wrapper">
        <form action="/new" id="searchForm">
            <input type="text" name="s" placeholder="Topic..." />
            <input type="text" name="l" placeholder="http://www.google.com" />
            <input type="submit" value="Submit Topic" />
        </form>

        <button id="test_only">ooooo</button>
    </div>
</body>
</html> 
```

# iphone - UIButton + 文本视图

> ID：14806540
> 
> 赞同：0
> 
> 时间：2013-02-11T05:43:36.760
> 
> 标签：iphone, ios, ipad

我有一个文本视图，其中包含多行数据意味着滚动。我还需要添加点击文本区域的功能，以执行一些操作。

因此，要添加此功能，我在 textview 上放置了一个按钮。一切似乎都很好，但我现在无法滚动文本视图，因为我放置了按钮。

请帮助我或建议我的方式，以便我可以同时实现功能滚动+点击以执行某些操作

这个我也试过

```
[mybutton setTitle:@"dfsmnjksnfksndfkjsfkjsdkfjskdfjkdsjfkdsjfksjfkjsdknsmvnxcklvnlk;xvkgn'igsdmvkl'smv,ms,qdaasdasdsadasdvmsklmklvmlkdjffjksjksfkjhksdfjksjfksjfksjfksjdfkdjsfkdsjfkdjfksjdfkjsdfkjsdfkjskfjslfjslkfjlsdjflkdsjfklsjflksdjklsjkdsjfkjdfkjdsfkldskflsdfjsdfl" forState:UIControlStateNormal];
mybutton.titleLabel.lineBreakMode = UILineBreakModeCharacterWrap; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T05:46:13.187

查看[手势识别](http://developer.apple.com/library/ios/#documentation/uikit/reference/UIGestureRecognizer_Class/Reference/Reference.html)器，特别是 UITapGestureRecognizer。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T05:49:48.307

而不是使用`UIButton`你可以做的就是使用

```
- (void)touchesEnded:(NSSet *)touches withEvent:(UIEvent *)event 
```

检测用户是否触摸的方法`UITextView`。您可以按如下方式使用它：

```
- (void)touchesEnded:(NSSet *)touches withEvent:(UIEvent *)event
{
    UITouch *touch = [touches anyObject];
    if( [touch view] == yourTextView)
    {
       // put the code you have written on button action.
    }
} 
```

# php - 如何在ajax文件上传中显示进度条

> ID：14806542
> 
> 赞同：4
> 
> 时间：2013-02-11T05:44:06.550
> 
> 标签：php, jquery, html, css, ajax

我的代码发布 ajax 请求，但没有显示进度条。请帮助更正代码以显示工作进度条。

```
$(document).ready(function () {
    $("#uploadbutton").click(function () {
    var filename = $("#file_path$i").val(); //get form data;

    $.ajax({
      type: "html",
      url: "share.php",//onwhich post ajax data;
      enctype: 'multipart/form-data',
      data: {
        file: filename
      },
      success: function () {
        alert("Data Uploaded: ");
      }
    });
 });
}); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-02-22T19:24:46.680

@whitneyit：我们可以使用 ajax 的 xhr: 函数来跟踪文件上传，如下所示

```
$.ajax({
                url: 'handler/FileUploader.ashx?FileName=' + file.name, //server script to process data
                type: 'POST',
                xhr: function () {
                    myXhr = $.ajaxSettings.xhr();
                    if (myXhr.upload) {
                        myXhr.upload.addEventListener('progress', progressHandlingFunction, false);
                    }
                    return myXhr;
                },
                success: function (result) {                    
                    //On success if you want to perform some tasks.
                },
                data: file,
                cache: false,
                contentType: false,
                processData: false
            });
            function progressHandlingFunction(e) {
                if (e.lengthComputable) {
                    var s = parseInt((e.loaded / e.total) * 100);
                    $("#progress" + currFile).text(s + "%");
                    $("#progbarWidth" + currFile).width(s + "%");
                    if (s == 100) {
                        triggerNextFileUpload();
                    }
                }
            } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-11T06:05:30.657

这是来自 BlueImp 的 jQuery-File-Upload：

首先，下载：[https ://github.com/blueimp/jQuery-File-Upload/archives/master](https://github.com/blueimp/jQuery-File-Upload/archives/master)

现在，上传 js 文件夹。

制作您的 .html：

```
 <html>
    <head>
    <meta charset="utf-8">
    <title>jQuery File Upload Example</title>
    <style>
     .bar {
         height: 18px;
         background: green;
      }
    </style>
    </head>
    <body>
    <input id="fileupload" type="file" name="files[]" data-url="server/php/" multiple>
    <div id="progress">
       <div class="bar" style="width: 0%;"></div>
    </div>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
    <script src="js/vendor/jquery.ui.widget.js"></script>
    <script src="js/jquery.iframe-transport.js"></script>
    <script src="js/jquery.fileupload.js"></script>
    <script>
    $(function () {
        $('#fileupload').fileupload({
            dataType: 'json',
            done: function (e, data) {
                $.each(data.result.files, function (index, file) {
                    $('<p/>').text(file.name).appendTo(document.body);
                });
            }
        });
progressall: function (e, data) {
        var progress = parseInt(data.loaded / data.total * 100, 10);
        $('#progress .bar').css(
            'width',
            progress + '%'
        );
    }
    });
    </script>
    </body> 
    </html> 
```

我没有对此进行测试，但它应该可以正常工作。如果不是，请告诉我。

可选：`<style></style>`在 .css 文件中包含 的内容。

`<script src=""></script>`可选：在 .js标记中包含 .js 。

来源：[https ://github.com/blueimp/jQuery-File-Upload/wiki/Basic-plugin](https://github.com/blueimp/jQuery-File-Upload/wiki/Basic-plugin)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-11T06:02:45.930

不幸的是，该`$.ajax`方法不返回任何进度信息。

此外，仅使用 HTML 和 JavaScript 没有跨浏览器解决方案。我建议看看[Uploadify](http://www.uploadify.com/demos/)。

# javascript - 加载网页背景图片的流程

> ID：14806546
> 
> 赞同：1
> 
> 时间：2013-02-11T05:44:41.973
> 
> 标签：javascript, html, css, html5-canvas

我有一个网页，我为此使用了非常大尺寸的背景图片，问题是当我们通常访问该页面时，它会显示网站内容然后加载背景图片。

在我的情况下，情况有所不同，我的网页正在等待加载背景图像，然后开始显示页面内容。

我使用非常简单的 CSS

```
body{background-image:url('http://www.example.com/myimage.jpg')}
other css goes here.... 
```

和网页负载流是

```
Background image load first (webpage display no contents it just load the image)  
     |
then load the contents. 
```

我想先**加载内容，然后再加载背景图像，**任何人都知道如何做到这一点。（使用简单的方法）或**背景图像和内容的异步加载**。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T05:48:12.780

**简单的解决方案：**

只需在加载时通​​过 css 添加背景图像：

```
// in header of page
window.onload = function(){
    document.body.style.backgroundImage = "url('http://www.example.com/myimage.jpg')";
} 
```

**更复杂的解决方案：**

如果你想让它看起来更好，你可以添加一个图像元素，当它完成加载时，将它淡入背景（使用 jQuery）

```
// in header of page (make sure to include jQuery)
$(window).load(function(){
    var img = new Image();
    img.src = "http://www.example.com/myimage.jpg";
    $(img).addClass("bgImgStyle").hide().prependTo("body").fadeIn();
}); 
```

# java - 在 swt 中设计一个 mp3 均衡器

> ID：14806548
> 
> 赞同：1
> 
> 时间：2013-02-11T05:44:55.830
> 
> 标签：java, user-interface, eclipse-plugin, swt

大家好，我正在构建一个具有均衡器的 mp3 应用程序。我想知道的是 swt 中是否有任何均衡器和音频小部件的 Eclipse 项目？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-14T09:48:24.677

我不是音频专家，但也许[Nebula Oscilloscope Widget](http://www.eclipse.org/nebula/widgets/oscilloscope/oscilloscope.php)值得一试。我不知道它是否完全符合您的需求。

例子：

![在此处输入图像描述](../Images/705fda9a7bcccd8e4dbaf813b7078549.png)

您可以在此处找到示波器小部件的示例片段：[git.eclipse.org](http://git.eclipse.org/c/nebula/org.eclipse.nebula.git/tree/widgets/oscilloscope/org.eclipse.nebula.widgets.oscilloscope.snippets/src/org/eclipse/nebula/widgets/oscilloscope/snippets)。小部件的 API 可以在[这里](http://www.eclipse.org/nebula/widgets/oscilloscope/doc_20100825/index.html)找到。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-15T17:13:16.613

据我所知，SWT 中没有现有的均衡器小部件。使用一堆`org.eclipse.swt.widgets.Slider`小部件应该很容易做到这一点。

如何使用滑块：例如： [http ://www.java2s.com/Code/Java/SWT-JFace-Eclipse/SWTSliders.htm](http://www.java2s.com/Code/Java/SWT-JFace-Eclipse/SWTSliders.htm)

# c++ - std::wstring_convert 和 std::wbuffer_convert 有什么区别？

> ID：14806550
> 
> 赞同：6
> 
> 时间：2013-02-11T05:45:10.213
> 
> 标签：c++, string, unicode, character-encoding, c++11

在头文件 locale 中声明了两个便利接口：`std::wstring_convert`和`std::wbuffer_convert`. 但是，没有使用示例。

有没有简洁的例子来说明它们的用法和区别？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-11T07:48:27.337

## `std::wstring_convert`

给定一个`std::u32string`(aka `std::basic_string<char32_t>`)，它以元素的形式保存 UTF-32 代码单元，以下`char32_t`是如何将其转换为字节形式的 UTF-8 代码单元序列：

```
// Both <locale> and <codecvt> required

std::u32string input = U"Hello, World";

using Codecvt = std::codecvt_utf8<char32_t>;
std::wstring_convert<Codecvt, char32_t> converter;

// throws std::range_error if the conversion fails
std::string result = converter.to_bytes(input); 
```

请注意， is 的一个怪癖`std::wstring_convert`总是将标准所谓的宽字符串（实际上是 的任何类型的特化`std::basic_string`，包括`std::string`）转换为字节字符串或从字节字符串转换，这是形式的特化`std::basic_string<char, std::char_traits<char>, Allocator>`。

源编码和目标编码将取决于所使用的代码转换方面——这里我使用的是来自的库存方面之一`<codecvt>`。只要它是可破坏的，任何代码转换方面都可以使用，例如，情况并非如此`std::codecvt<wchar_t>`-它具有受保护的析构函数。

## `std::wbuffer_convert`

这是一个很有希望的用例：您有一个`out`对象，它是`std::ostream`(aka `std::basic_ostream<char>`) 的一个实例，它需要 UTF-8 编码的文本。因此，例如`out << u8"Hello"`应该可以正常工作。碰巧的是，您有很多 UTF-32 编码的宽字符串（该工作的最佳人选是`std::u32string`）来自程序中的其他地方，您需要将它们传递给`out`. 你可以`std::wstring_convert`重复使用，但它会很快变老。

这是另一种方式：

```
std::wbuffer<std::codecvt_utf8<char32_t>, char32_t> wout { out.rdbuf() };
std::u32string input = U"Hello";
wout << input; 
```

也就是说，我们可以看到它的`out`行为就好像它是`std::basic_stream<char32_t>`UTF-32 编码文本的一个实例，并且我们没有改变语言环境（最后一点是这些便利接口首先存在的一个重要原因）。

我想这`std::wbuffer_convert`是对竞争对手的补充，`std::wstring_convert`而不是竞争对手。

[作为免责声明，因为我还没有着手实现支持这些功能中的任何一个，或者`<codecvt>`，这里的代码完全未经测试:(。]

# css - twitter 引导按钮背景在 ie 中被截断

> ID：14806553
> 
> 赞同：0
> 
> 时间：2013-02-11T05:45:29.620
> 
> 标签：css, twitter-bootstrap, internet-explorer-9

再会

我正在使用推特引导程序。现在按钮在除 IE9 之外的所有浏览器中都能正常显示：按钮的背景在文本下方被截断。但在 IE 10 中，背景显示良好（在 IE7、8 中也可以用餐，但这些按钮没有 IE9 和 10 中的圆角）。

有什么建议么？

我正在使用 Bootstrap 中指定的 HTML 5 文档类型，并且我的标题中没有有趣的 ny css 或任何其他标签....

谢谢 ：）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T05:55:46.260

尝试为 IE 9 添加 HTML 5 修复：

```
<head>
<!--[if lt IE 9]>
<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
</head> 
```

# ruby - 让我知道您从 ruby 中的 value 中获取密钥的方式

> ID：14806554
> 
> 赞同：1
> 
> 时间：2013-02-11T05:45:37.437
> 
> 标签：ruby

现在我在 Rails 上编写代码，因为必须从 value 中获取 key。但是我的代码并不像我认为的那样聪明。

```
TYPE = {
  1 => "A", 2 => "B", 3 => "C", 4 => "D"
}

def get_key_from_value(val)
  TYPE.each do |k,v|
    if v==val
      return k
    end
  end
  nil
end 

puts get_key_from_value "B" #=> 2 
```

所以请告诉我你最聪明的方法是如何使用值来选择 Ruby 的 Hash 对象的键。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-11T06:36:04.633

只需使用[Hash#key](http://www.ruby-doc.org/core-1.9.3/Hash.html#method-i-key)方法：

```
h = {a: 1, b: 2, c: 3, d: 4}
h.key(4) # => :d 
```

与您的示例相同：

```
h = {1=>"A", 2=>"B", 3=>"C", 4=>"D"}
h.key("D") # => 4 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-11T06:17:07.310

一种可能性是使用[Hash.invert](http://ruby-doc.org/core-1.9.3/Hash.html#method-i-invert)：

```
TYPE = {
  1 => "A", 2 => "B", 3 => "C", 4 => "D"
}

TYPE_INVERT = TYPE.invert #you'll probably want a better name than this

puts TYPE_INVERT['B'] #=> 2 
```

如果您的散列具有多个具有相同值的键，则需要小心，因为您只会在倒置散列中获得其中一个。

# android - Android ListView 数据不重复

> ID：14806556
> 
> 赞同：1
> 
> 时间：2013-02-11T05:45:53.797
> 
> 标签：android, android-listview, position

我试图在中显示一些数据。`listview`但它显示了最后一个位置的唯一数据。这是我的代码：

```
public class ListDetailsActivity extends Activity {
    /** Called when the activity is first created. */

    private Context con;
    private String pos = "";
    private ImageView cPhoto;
    private TextView cName, aName, aText;
    private CacheImageDownloader downloader;
    private Bitmap defaultBit;
    private ProgressDialog pDialog;
    private CityDetailsList CD;
    private ListView cList;
    private HotelMenuAdapter mAdapter;
    private String response = "";

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        // TODO Auto-generated method stub
        super.onCreate(savedInstanceState);
        requestWindowFeature(Window.FEATURE_NO_TITLE);
        setContentView(R.layout.detailslayout);
        con = this;

        initUI();
    }

    private void initUI() {
        // TODO Auto-generated method stub

        cName = (TextView) findViewById(R.id.cName);

        cList = (ListView) findViewById(R.id.cDetailsView);

        aName = (TextView) findViewById(R.id.authorName);
        aText = (TextView) findViewById(R.id.authorText);

        cPhoto = (ImageView) findViewById(R.id.cPhoto);
        downloader = new CacheImageDownloader();
        defaultBit = BitmapFactory.decodeResource(getResources(),
                R.drawable.attractionpng);
        // pos = getIntent().getStringExtra("ID");
        PrintLog.myLog("CityDetails :", pos + "main");
        updateUI();

    }

    private void updateUI() {
        if (!SharedPreferencesHelper.isOnline(con)) {
            AlertMessage.showMessage(con, "Error", "No internet connection");
            return;
        }

        pDialog = ProgressDialog.show(this, "Please wait...", "Loading...",
                false, false);

        final Thread d = new Thread(new Runnable() {

            public void run() {
                // TODO Auto-generated method stub
                try {
                    if (AllCityDetailsParser.connect(con, AllURL
                            .cityGuideDetailsURL())) {

                    }

                } catch (final Exception e) {
                    // TODO: handle exception
                    e.printStackTrace();
                }

                try {
                    if (CityDetailsParser.connect(con, AllURL
                            .cityGuideDetailsURL())) {
                    }

                } catch (final Exception e) {
                    // TODO: handle exception
                    e.printStackTrace();
                }

                runOnUiThread(new Runnable() {

                    public void run() {
                        // TODO Auto-generated method stub
                        if (pDialog != null) {
                            pDialog.cancel();
                        }

                        try {

                            CD = AllCityDetails.getAllCityDetails()
                                    .elementAt(0);

                            cName.setText(CD.getName().trim());

                            try {
                                if (CD.getIcon().length() != 0) {

                                    downloader.download(CD.getIcon().trim(),
                                            cPhoto);

                                    AllConstants.cPhotoLink = CD.getIcon()
                                            .replaceAll(" ", "%20");

                                }

                                else {
                                    cPhoto.setImageBitmap(defaultBit);
                                    AllConstants.cPhotoLink = CD.getIcon();
                                }

                            } catch (Exception e) {
                                // TODO: handle exception
                            }

                            if (AllCityDetails.getAllCityDetails().size() != 0) {
                                mAdapter = new HotelMenuAdapter(con);
                                cList.setAdapter(mAdapter);

                                PrintLog.myLog("I am in list adapter : ",
                                        "true");

                            }

                        } catch (Exception e) {
                            // TODO: handle exception
                        }
                    }
                });

            }
        });
        d.start();
    }

    class HotelMenuAdapter extends ArrayAdapter<CityDetailsList> {

        private final Context con;

        public HotelMenuAdapter(Context context) {
            super(context, R.layout.rowdetails, AllCityDetails
                    .getAllCityDetails());

            con = context;
            // TODO Auto-generated constructor stub

        }

        @Override
        public View getView(final int position, View convertView,
                ViewGroup parent) {
            View v = convertView;
            if (v == null) {
                final LayoutInflater vi = (LayoutInflater) con
                        .getSystemService(Context.LAYOUT_INFLATER_SERVICE);
                v = vi.inflate(R.layout.rowdetails, null);
            }

            if (position < AllCityDetails.getAllCityDetails().size()) {

                final CityDetailsList r = AllCityDetails
                        .getCityDetailsList(position);

                final TextView aname = (TextView) v
                        .findViewById(R.id.authorName);
                aname.setText(r.getAuthor_name().trim());
                final TextView atext = (TextView) v
                        .findViewById(R.id.authorText);
                atext.setText(r.getText().trim());

                PrintLog.myLog("authorName : ", r.getAuthor_name() + "!!!");

            }

            // TODO Auto-generated method stub
            return v;
        }

    }

    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T06:29:41.673

首先以这种方式使用您的代码：

```
 final MyProgressDialog progDailog = new MyProgressDialog(
                            getActivity());

                    final Handler handler = new Handler() {
                        @Override
                        public void handleMessage(Message msg) {
                            //set listview adapter here
                        }

                    };

                    new Thread() {

                        public void run() {

                            try {
                                        // put your all calling method here..
                            } catch (Exception e) {
                                // TODO: handle exception
                                Log.e("error", ""
                                        + e.getMessage().toString());
                            }

                            handler.sendEmptyMessage(0);
                            progDailog.dismiss();
                        }
                    }.start(); 
```

在适配器中有很多问题..请尝试这种方式..

1.  [点击这里](http://dj-android.blogspot.in/2012/10/android-listview-with-clickable.html)
2.  [点击这里](https://stackoverflow.com/a/12813906/1168654)

# jquery - 删除jquery中的tr元素

> ID：14806557
> 
> 赞同：0
> 
> 时间：2013-02-11T05:45:55.433
> 
> 标签：jquery

我有一个 tr 元素表，我在其中单击每一行的删除，它会从表中删除自己。我的html如下

```
<tr class="tr_body">
    <td>
    <input type="text" class="fabric_input createWOBlockBG small ui-autocomplete-input" name="basefabrics[]" onfocus ="loadUniqueAjax(' . "'fabric_input'" . ')" autocomplete="off">
    </td>
    <td>
    <input type="text" class="fac_input createWOBlockBG small ui-autocomplete-input" name="facSnapshots[]" id="facSnapshot" autocomplete="off">
    </td>
    <td>
    <a class ="deleteRow">delete</a>
    </td>
</tr> 
```

我的jQuery如下

```
$('.deleteRow').click(function(){

    var elementDelete = $(this).parent().parent();
    $('#tablelist').remove(elementDelete);

}); 
```

但是，当我单击 deleteRow 锚标记时，它返回 Uncaught TypeError: Object [object Object] has no method 'replace'。在此先感谢您的帮助。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-11T05:53:01.067

[JS Bin 上的工作示例](http://jsbin.com/ukifin)。

```
$('.deleteRow').click(function() {
  $(this).closest("tr")
         .remove();
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-11T05:50:50.203

试试这个

**[演示](http://jsbin.com/ekumuy/1)**

```
$(function(){
  $('.deleteRow').click(function(e){
    $(e.target).closest( 'tr' ).remove();
    //or
    //$(this).closest( 'tr' ).remove();
  });
}); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-11T05:53:45.943

只需删除元素本身

代替

```
$('#tablelist').remove(elementDelete); 
```

和

```
elementDelete.remove(); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-11T05:50:02.417

试试这个功能，

```
function removeTableRow(trId) {
$(document.getElementById(trId)).remove();
} 
```

并通过以下方式调用此函数，

```
removeTableRow( "tr_body" ); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-11T05:50:37.353

你可以做这样的事情

```
$( document ).ready( function () {
    $( '#tablelist .deleteRow' ).click( function ( event ) {
        event.preventDefault();
        $( this ).closest( 'tr' ).remove();
    });
}); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-02-11T05:57:53.840

```
$('.deleteRow').click(function(){
    var elementDelete = $(this).parent().parent();

    $(elementDelete).remove();

}); 
```

检查这个小提琴[http://jsfiddle.net/p3Wrj/](http://jsfiddle.net/p3Wrj/)

参考[http://api.jquery.com/remove/](http://api.jquery.com/remove/)

正确的语法

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-02-11T05:59:01.017

只需使用：-

```
$('.deleteRow').click(function(){
 $(this).parent().parent().remove();
}); 
```

实际上，您正在尝试将 remove 用作 Native javaScript 样式，但在 jquery 中您不需要找到父元素。Jquery 将代表您执行此操作，因此您只需指定要删除的元素。

```
ParentElement.remove(childElement); //Javascript style

$(childElement).remove(); // Jquery 
```

# google-chrome - JQGrid 不会重新加载

> ID：14806559
> 
> 赞同：0
> 
> 时间：2013-02-11T05:46:16.390
> 
> 标签：google-chrome, jqgrid, window.location

我有一个 JQGrid 并试图重新加载它。下一个语句是

```
window.location.href = url; 
```

代码在 Internet Explorer 上运行良好，但在 Chrome 中中断。在 Chrome 中，不会重新加载网格。如果我删除 window.location.href 行，那么网格也会在 Chrome 中重新加载。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T06:03:40.030

尝试下面给出的代码来重新加载网格而不是`window.location.href = url;`

`$('#your_grid_id').trigger("reloadGrid");`

或者

```
$("#your_grid_id").trigger("reloadGrid",[{current:true}]); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-12T12:44:46.870

解决了 ！

处理 JQGrid 的 AfterLoadComplete 事件并将 Window.location.hre = url; AfterLoadComplete 事件中的行。

重新加载网格时将调用 AfterLoadComplete 事件。

# jquery - Spine.js 更改事件未触发

> ID：14806561
> 
> 赞同：0
> 
> 时间：2013-02-11T05:46:24.237
> 
> 标签：jquery, html, spine.js

我有这样的事情：

```
events: {
    "change .name": "dosomething"
},

dosomething: function() {
    console.log("Hi.");
} 
```

在我的 HTML 中：

```
<input class="name" type="text"></input> 
```

但似乎不起作用。

# java - 找不到符号数据源

> ID：14806565
> 
> 赞同：1
> 
> 时间：2013-02-11T05:46:42.930
> 
> 标签：java, sql, maven, jdbc, datasource

我无法运行以下代码，因为我想我缺少一个依赖项（jar 文件），当我运行代码时它显示以下错误

严重：java.lang.RuntimeException：无法编译的源代码 - 找不到符号符号：类 DataSource 位置：类 com.myproject.model

```
import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.sql.Statement;
import javax.naming.Context;
import javax.naming.InitialContext;
import sun.jdbc.odbc.ee.DataSource; //and import javax.sql.DataSource both does not work

public class AuthModel {

    public Connection DbConnection(){
            Connection con = null;
        try {
                        Context ctx = new InitialContext();
cant find symbol Error >>   DataSource ds = new (DataSource)ctx.lookup("mydatabase");
                        con = ds.getConnection("root", "");
                        con.setAutoCommit(false);
                  ..... 
```

依赖项

```
 <dependencies>
        <dependency>
            <groupId>org.apache.struts</groupId>
            <artifactId>struts2-core</artifactId>
            <version>2.3.8</version>
        </dependency>
        <dependency>
            <groupId>org.apache.struts</groupId>
            <artifactId>struts2-tiles-plugin</artifactId>
            <version>2.3.8</version>
        </dependency>
        <dependency>
            <groupId>org.apache.struts</groupId>
            <artifactId>struts2-convention-plugin</artifactId>
            <version>2.3.8</version>
        </dependency>
        <dependency>
            <groupId>org.apache.struts</groupId>
            <artifactId>struts2-dojo-plugin</artifactId>
            <version>2.3.8</version>
        </dependency>
        <dependency>
            <groupId>org.apache.struts</groupId>
            <artifactId>struts-taglib</artifactId>
            <version>1.3.10</version>
        </dependency>
        <dependency>
            <groupId>jdbc</groupId>
            <artifactId>jdbc-stdext</artifactId>
            <version>2.0</version>
            <type>pom</type>
        </dependency>
        <dependency>
            <groupId>javax.sql</groupId>
            <artifactId>jdbc-stdext</artifactId>
            <version>2.0</version>
            <type>pom</type>
        </dependency>
    </dependencies>

    <build>
        <plugins>
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-compiler-plugin</artifactId>
                <version>2.3.2</version>
                <configuration>
                    <source>1.6</source>
                    <target>1.6</target>
                    <compilerArguments>
                        <endorseddirs>${endorsed.dir}</endorseddirs>
                    </compilerArguments>
                </configuration>
            </plugin>
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-war-plugin</artifactId>
                <version>2.1.1</version>
                <configuration>
                    <failOnMissingWebXml>false</failOnMissingWebXml>
                </configuration>
            </plugin>
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-dependency-plugin</artifactId>
                <version>2.1</version>
                <executions>
                    <execution>
                        <phase>validate</phase>
                        <goals>
                            <goal>copy</goal>
                        </goals>
                        <configuration>
                            <outputDirectory>${endorsed.dir}</outputDirectory>
                            <silent>true</silent>
                            <artifactItems>
                                <artifactItem>
                                    <groupId>javax</groupId>
                                    <artifactId>javaee-endorsed-api</artifactId>
                                    <version>6.0</version>
                                    <type>jar</type>
                                </artifactItem>
                            </artifactItems>
                        </configuration>
                    </execution>
                </executions>
            </plugin>
        </plugins>
    </build>

</project> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T06:05:12.120

我在这里推测，但这看起来像是一个类路径问题。我看到你正在导入`javax.sql`. 您需要进口`javax.sql.*`还是专门进口`javax.sql.DataSource`？另外，请确保您有必要的罐子。

此外，如果您有两个具有相同类的不同包，则可能会发生类冲突。您是否尝试过重命名变量以及包路径..又名

```
public final static String MY_DATABASE = "mydatabase"
...
javax.sql.DataSource dataSource = new (javax.sql.DataSource)context.lookup(MY_DATABASE); 
```

另外，附带说明一下，您能否不使用 con、ctx 和 AuthModel 等变量，而使用全名，即 AuthentionModel、XProject、connection、context、dataSource 等。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-12T00:03:36.277

我无法解决DataSource的问题，但我按照[1](http://www.roseindia.net/tutorial/java/jdbc/jdbcdatasourceexample.html)使用BasicDataSource解决了问题，现在它完美运行。

# android - 未定义 PendingIntent 类型的 putExtra(String, String) 方法

> ID：14806568
> 
> 赞同：1
> 
> 时间：2013-02-11T05:47:08.357
> 
> 标签：android

是否可以在 pendingintent 中使用 putExtra 方法

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-11T05:51:19.530

您必须传入`intent`初始化`PendingIntent`对象。您可以改为`putExtra(string,string)`在对象上调用方法，如下所示`intent`

```
 PendingIntent pendingIntent;
    Intent intent = new Intent();
    intent.setClass(mContext,activity2.class);
    **intent.putExtra("string","string");** // call putExtra with intent
    pendingIntent =  PendingIntent.getActivity(mContext, 0, intent, 0); // here we are passing intent object. you can also call getBR or GetService , but you will always passing intent in the method. 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-16T15:41:02.127

这是代码：通过使用***Intent***，***putextra***和***PendingIntent*** ----- ***Intent*** notificationIntent = new Intent(context,AllContacts.class); 日历 c = Calendar.getInstance(); 字符串 sDate = c.get(Calendar.YEAR) + "-" + (c.get(Calendar.MONTH)+1) + "-" +c.get(Calendar.DAY_OF_MONTH) ; 通知意图。***putExtra*** ("searcheddob", sDate); ***PendingIntent*** contentIntent = PendingIntent.getActivity(context, 0, notificationIntent, 0);

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-11T05:51:26.677

我认为您需要使用`putExtra`意图，然后从中创建`PendingIntent`.

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-11T05:51:39.077

对的，这是可能的。

首次使用`Intent`。赋予`Extars`它价值。将该 Intent 调用到您的`PendingIntent`. 简单的解决方案。

希望你明白我在说什么。让我知道。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-11T05:54:10.327

是的，您可以使用 Intent 和 PendingIntent 将其用作：

```
Intent alarmintent = new Intent(getApplicationContext(),Activity2.class);
    alarmintent.putExtra("title", "Title of our Notification");
    alarmintent.putExtra("note", "Description of our  Notification");
    PendingIntent sender = PendingIntent.getBroadcast(this, ID, alarmintent,PendingIntent.FLAG_UPDATE_CURRENT | Intent.FILL_IN_DATA); 
```

我用它在设备中设置警报。希望这会帮助你。

# python - 收到错误“无法满足查询 - 太多 IN/！= 值”。如何解决这个问题？

> ID：14806576
> 
> 赞同：0
> 
> 时间：2013-02-11T05:47:47.123
> 
> 标签：python, google-app-engine

问题：用户（B）需要基于特定标准的一组用户（A）的帮助。此标准由用户 (A) 在其个人资料中设置。

```
class UsersAProfiles(db.Model):
    industries = db.StringListProperty()  #technology, etc. (total 20)
    agegroups  = db.StringListProperty()  #teenagers, etc. (total 10)
    tags       = db.StringListProperty()  #cooking, etc.
    (while each User A can enter at most 10 tags, but there is no limit on 
     what tags are used, e.g., sql, gym, etc. (limited by dictionary!)
    ...                                   #there are many other properties 
```

用户（B）的设置单独存储的标准

```
class UserBRequestForHelp(db.Model):
    myindustries = db.StringListProperty()  #technology, etc. (<20)
    myagegroups  = db.StringListProperty()  #teenagers, etc. (<10)
    mytags       = db.StringListProperty()  #cooking, etc.
    ...                                     #there are many other properties 
```

现在我需要可能帮助 B 的所有用户 A 的列表。为此，我尝试运行以下查询：

```
query = db.GqlQuery("SELECT * FROM UsersAProfiles WHERE 
        industries IN :1 AND 
        agegroups  IN :2 AND
        tags       IN :3", 
        userB_obj.myindustries , userB_obj.myagegroups, userB_obj.mytags) 
```

但我收到以下错误：

```
 Cannot satisfy query -- too many IN/!= values. 
```

我真的被困在这里，不知道如何解决这个问题。如何运行此类查询。此外，我是否需要以不同的方式设计模型类以便可以运行此类查询？如果是的话，有人可以帮忙。

提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T18:10:58.300

当您使用 IN 创建查询时，GAE 必须将该查询分解为多个“索引 = 值”子查询，执行每个子查询并收集结果，将它们组合起来，就好像它们是一次搜索一样。查询可以扩展到的子查询数量有限制，[该限制为 30](https://code.google.com/p/web2py/issues/detail?id=160)。如果您正在创建包含 31 个子查询的查询，这将解释您遇到此问题的原因。换句话说，您的情况是 len(userB_obj.myindustries) + len(userB_obj.myagegroups) + len(userB_obj.mytags) > 30。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T20:19:44.333

对于上述问题，以下方法可能有用。

1.  在单独的模型中列出 TAGS，并列出所有匹配的 UserA 配置文件。

    ```
    class TAGS(db.Model):
        UserAIds  = db.StringListProperty() 
    ```

    在上面，每个标签都是关键。（标签 = 技术、青少年、烹饪等）

2.  当用户 B 设置条件时，为了找到匹配的用户 A，我们可以运行的查询如下：

    ```
    i = 0
    for industry in userB_obj.myindustries:
          t1_obj[i] = TAGS.get_by_key_name(industry)
          i = i + 1 
    ```

    （在上面的 t1_obj[i] 中，您有具有匹配行业的用户 A 配置文件列表）

    ```
    j = 0
    for agegroup in userB_obj.myagegroups:
          t2_obj[j] = TAGS.get_by_key_name(agegroup)
          j = j + 1 
    ```

    （在上面的 t2_obj[j] 中，您有具有匹配年龄组的用户 A 配置文件列表）

    ```
    k = 0
    for tag in userB_obj.mytags:
          t3_obj[k] = TAGS.get_by_key_name(tag)
          k = k + 1 
    ```

    （在上面的 t3_obj[k] 中，您有具有匹配标签的用户 A 配置文件列表）

3.  接下来，您需要做的就是找到所有三个中都存在的 UserA 配置文件，即 t1_obj、t2_obj、t3_obj，仅此而已！现在要查找上述所有 3 个中都存在的 UserA 配置文件，不确定是否有 python 函数可以做到这一点。但是，使用模型实例，您可以按如下方式解决它

    ```
    class MatchingUserAs(db.Model):
          count  = db.IntegerProperty(default=0) 
          source = db.StringProperty(default=None) 
    ```

    （在上面的模型类中，UserA id是key。这个UserAids存储在t1_key[i].UserAIds, t2_key[j].UserAids, t3_key[k].UserAIds）

4.  现在，循环遍历 t1_obj[i]、t2_obj[j]、t3_obj[k] 并在 MatchingUserAs 中插入 UserA id，并且每次插入行/更新行时将计数加 1。

    ```
    <"loop through t1_obj[i]">:
          Matchkey = MatchingUserAs.get_or_insert(t1_obj[i].UserAId)
          Matchkey.count = 1
          Matchkey.source = 'industry'
          Matchkey.put()

    <"loop through t2_obj[j]">:
          Matchkey = MatchingUserAs.get_or_insert(t2_obj[j].UserAId)
          #the following if check has been added to avoid incrementing the counter
          #when same UserAid is present in, say, t2_obj[0], and t2_obj[1], etc.
          if(Matchkey.source != 'agegroup')
              Matchkey.count  = Matchkey.count + 1
              Matchkey.source = 'agegroup'
          Matchkey.put()

    <"loop through t3_obj[j]">:
          Matchkey = MatchingUserAs.get_or_insert(t3_obj[j].UserAId)
          if(Matchkey.source != 'tags')
              Matchkey.count  = Matchkey.count + 1
              Matchkey.source = 'tags'
          Matchkey.put() 
    ```

5.  现在，您需要做的就是从 MatchingUserAs 中获取计数为 3 的 UserAs（因为我们要匹配 3 个标签列表：行业、年龄组和标签）。

上述代码示例中可能存在一些语法错误，尤其是对于键和对象的使用；并且在某些情况下使用了伪代码。我只是想概述一下解决方案。希望这可以帮助。随时分享任何评论。

# post - Http POST 请求和 400 Bad Request 错误

> ID：14806577
> 
> 赞同：0
> 
> 时间：2013-02-11T05:47:49.517
> 
> 标签：post, request, fiddler

我们有 LiveFyre 的 Stream Hub 产品的企业帐户。根据下面给出的文档：

[https://github.com/Livefyre/livefyre-docs/wiki/StreamHub-API-Reference#wiki-create-a-collection](https://github.com/Livefyre/livefyre-docs/wiki/StreamHub-API-Reference#wiki-create-a-collection)

我正在尝试使用 Fiddler 和有问题地向“创建集合”服务发送请求。发送请求时，我经常收到 400 Bad Request 错误。甚至文档中给出的示例也因 400 Bad Request 错误而失败。

我的要求是：

*   网址：`http://quill.sbs-int-0.fyre.co/api/v3.0/site/303821/collection/create/`
*   身体：`{"articleId": "942619", "collectionMeta": "AAA"}`
*   主持人：`quill.sbs-int-0.fyre.co`
*   内容类型：`application/json`
*   方法：`POST`

我尝试发送的请求有什么问题吗？有什么办法可以调查这个问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-16T07:19:30.253

原来 Fiddler 出了点问题！我使用了 PostMan 和 FireFox 的 restful 客户端，它们运行良好。我卸载了 Fiddler 并重新安装了它，然后 400 错误消失了！

# iphone - 目标 c：无法在我们的应用程序中启用 publish_stream

> ID：14806578
> 
> 赞同：0
> 
> 时间：2013-02-11T05:47:50.447
> 
> 标签：iphone, objective-c, facebook, ipad, session

我有一个需要发布流权限的应用程序。我设法使用了 openActionSessionWithReadPermission 并打开了 Facebook 会话，但是在调用 reauthorizedWithPublishPermission 时出现如下错误：

> error = 操作无法完成。（com.facebook.sdk 错误 2。）

这是我为执行授权过程而编写的代码。

```
return [FBSession openActiveSessionWithReadPermissions:[NSArray arrayWithObjects: @"user_photos", nil]
                   allowLoginUI:allowLoginUI
                   completionHandler:^(FBSession *session, FBSessionState state, NSError *error) {

                   switch (state)
                   {
                        case FBSessionStateCreated:
                        case FBSessionStateCreatedTokenLoaded:
                        case FBSessionStateOpen:
                             [[FBSession activeSession]  reauthorizeWithPublishPermissions:[NSArray arrayWithObjects:@"publish_actions", nil]                                                                  defaultAudience:FBSessionDefaultAudienceFriends
                                                            completionHandler:^(FBSession *session, NSError *error) {
                                                            [self sessionStateChanged:session
                                                                                state:state
                                                                                error:error
                                                                                success:success failure:failure];
                                                            }];
                                                        break;

                                                   }
                                                }]; 
```

我有一个代码只使用 openActiveSessionWithPublishPermission 但仍然有相同的结果。

错误是什么意思？

此外，如果我使用 openActiveSessionWithPublishPermission，并且没有通过 publish_stream 权限，我可以设法打开会话，但在 Facebook 网站上的应用程序设置下，我不会看到“此应用程序也可以 - 代表您发布”设置的选项。但是如果我添加它，就会出现同样的问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T06:22:37.077

您需要像这样声明权限

```
[NSArray arrayWithObjects: @"user_photos", @"publish_stream",nil] 
```

# multithreading - 在 Qt 解决方法中的非 GUI 线程中添加小部件？

> ID：14806581
> 
> 赞同：0
> 
> 时间：2013-02-11T05:48:08.887
> 
> 标签：multithreading, qt

我一直在做*Qt*的一个项目。当我的程序在启动时运行时，有一个父类会添加所有的 GUI 内容。然而，在接受用户输入后，我在其他各种类中执行一些数学运算以检查不正确的用户输入（每个类都针对特定类型的错误）。这些类的对象已移动到我创建的其他线程（ *obj* -> `movetothread`( *thread )）。**因此我可以通过multi-threading*同时检查所有错误。问题是，每当有不正确的用户输入时，我想抛出一个包含有关相应错误信息的*MessageBox 。*由于错误检查是在**非 GUI 线程上完成的**它目前正在使我的程序崩溃。所以我唯一的选择是保留`QString`包含该错误的引用，当我最终从所有错误检查中返回时，我在**GUI 线程**中一个接一个地抛出 Messageboxe 。这个过程非常繁琐我想知道是否有任何解决方法可以解决这个问题？

PS：长话短说，如何在非GUI线程中添加GUI内容，在多线程应用程序中？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-11T07:19:01.697

您不必从非 GUI 线程操作 GUI。一个好方法是当您需要操作 GUI 并等待用户的回答（例如在 QSemaphore 或您喜欢的任何东西上）时，从您的工作线程发出信号。使用 Qt::QueuedConnection 将该信号连接到位于 GUI 线程中的 QObject 中实现的插槽。这将在 GUI 线程中运行插槽。

无论如何，你可以在这个主题上找到你需要的任何东西。刚开始搜索。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T12:37:21.937

正确的做法是发出信号并在 GUI 线程中捕获它，如上所述，但您也可以使用 QMetaObject::invokeMethod()

# cakephp - CakePHP 当前路径对于蛋糕烘烤不正确

> ID：14806587
> 
> 赞同：1
> 
> 时间：2013-02-11T05:48:29.180
> 
> 标签：cakephp, cakephp-bake

我的正确路径阻止我执行蛋糕烘烤。我得到答复：您要烘焙的项目的路径是什么？[c:\xampp\htdocs\musiclib\myapp] > 希望以下细节能揭示我哪里出错了。在我的 XAMPP shell 中，当我执行命令“cake”时，我得到以下结果：

```
App : musiclib
Path: c:\xampp\htdocs\musiclib\  - this is the application I want to bake
Current Paths:
-app: musiclib
-working: c:\xampp\htdocs\musiclib
-root: c:\xampp\htdocs
-core: C:\xampp\htdocs\musiclib\lib 
```

我的环境变量路径以 ;C:\xampp\htdocs\musiclib\Cake\lib\Console; 结尾 我的 httpd-vhosts.conf 包含

```
<VirtualHost *:80>
ServerAdmin admin@localhost.com
DocumentRoot "C:/xampp/htdocs/musiclib/app/webroot"
ServerName musiclib:80
ServerAlias localhost
<Directory "C:/xampp/htdocs">
Options Indexes FollowSymLinks Includes ExecCGI
Order allow,deny
Allow from all
</Directory>
</VirtualHost> 
```

我应该如何准备使用蛋糕烘焙的路径？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T08:59:47.153

看来您正在从项目根目录运行 bake shell，因此 Cake 无法正确检测到您的应用程序路径。这可以从`App : musiclib`输出中的位看出。显然，该文件夹不是您的应用程序文件夹。尝试以下其中一项：

1.  `app`从您的文件夹中运行它。所以`cd`进入`app`然后：

    ..\lib\Cake\Console\cake bake

2.  使用该`-app`标志指定应用程序文件夹的路径。在您的项目根目录 ( `htdocs/musiclib`) 中，运行：

    lib\Cake\Console\cake bake -app 应用程序

最后一个`app`是您所在位置的应用程序文件夹的相对路径。

# javascript - JavaScript 表单 onSubmit 处理

> ID：14806594
> 
> 赞同：1
> 
> 时间：2013-02-11T05:49:03.237
> 
> 标签：javascript, onsubmit

我是 JavaScript 新手，一直在这里搜索线程，但无法弄清楚为什么我的表单没有正确运行验证。我已尝试添加警报以查找问题，它似乎在第一个 IF 语句附近。有任何想法吗？谢谢！

```
<script type="text/javascript">

function dataCheck()
{
        var firstName = document.getElementById("firstName").value;
        var firstName = document.myForm.firstName.value;
        var lastName = document.getElementById("lastName").value;
        var facilitator = document.getElementById("facilitator").value;
        //validate firstName field for minimum of 2 characters
        if (firstName.length < 2){
            alert("Please enter a first name with a minimum of 2 characters");
            return false;
        }
        else {retvalue = true}
        //validate lastName field for min length and numeric or alpha characters only
        if (lastName.length < 2 || lastName.){
            alert("Please enter a last name with a minimum of 2 characters");
            return false;
        }
        if( /[^a-zA-Z0-9]/.test(lastName) ) {
            alert("Last name must be alphanumeric.");
            return false;
        }
}

</script>

<form action="http://bucs601.com/submit.php" name="myForm" onsubmit="return dataCheck()" method="post">
              First name: <input type="text" id="firstName" name="firstName"><br>
              Last name: <input type="text" id="lastName" name="lastName"><br>
              Email: <input type="text" id="email" name="email"><br>
              Facilitator: <input type="text" id="facilitator" name="facilitator">
              <input type="submit" id="submit" value="Submit">
</form> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T05:58:18.447

我可以看到的一个明显错误是不完整的行：

```
if (lastName.length < 2 || lastName.){ 
```

第二个条件应该是什么？如果我删除“|| lastName”。位功能似乎工作正常。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T05:57:19.730

应该是这样的：

代替`if (lastName.length < 2 || lastName.){`

和`if (lastName.length < 2 || lastName){`

删除`.`.

# artificial-intelligence - 如何从现有的条件概率表创建联合概率表？（CPT）

> ID：14806596
> 
> 赞同：0
> 
> 时间：2013-02-11T05:49:31.333
> 
> 标签：artificial-intelligence, probability, bayesian, bayesian-networks, probability-theory

我有以下表格，其依赖项如下：

![在此处输入图像描述](../Images/097d296951f064cb96ab204f553ef46d.png)

我想为 建立联合概率表`P(M,P,W,B)`，看起来像这样（当然，你可以假设下表**没有给我**，它取自这个问题的答案）：

![在此处输入图像描述](../Images/6bde447c44b1f6007b059f2f33c3b64c.png)

有人可以解释一下如何创建联合概率表`P(M,P,W,B)`吗？

非常感谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T09:20:13.317

*P(M,P,W,B)*的联合概率只是其他表条目的乘积。这是来自[维基百科](http://en.wikipedia.org/wiki/Bayesian_network#Factorization_definition)：

*X*是关于*G*的贝叶斯网络，如果它的联合概率密度函数（关于乘积度量）可以写成单个密度函数的乘积，条件是它们的父变量：

![p (x) = \prod_{v \in V} p \big(x_v \,\big|\, x_{\operatorname{pa}(v)} \big)](../Images/4f9e2940c8db450b0a445fef53b8da73.png)

其中*pa(v)*是 v 的父节点集*（*即那些通过单边直接指向*v的顶点）。*

# facebook - facebook 图形 API

> ID：14806597
> 
> 赞同：0
> 
> 时间：2013-02-11T05:49:36.920
> 
> 标签：facebook, facebook-graph-api, facebook-fql

我想从 facebook 检索外部网页的最新粉丝专页更新。

好像有两个问题...

一，访问令牌似乎在一小时后过期，有没有办法获得永久访问令牌？

其次，我想获取页面所有者最近 10 个帖子的 json 字符串（包含“消息”字段的帖子）。

例如，如果我使用“ [https://graph.facebook.com/stackexchange/posts?fields=message&limit=10](https://graph.facebook.com/stackexchange/posts?fields=message&limit=10) ”，它会返回不包含消息字段的行。有没有办法过滤这些？

也许有一种方法可以使用 FQL 查询来检索它？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-12T15:31:46.813

如果您的页面没有任何限制，您可以使用永久应用访问令牌获取此数据。如果您使用其中一种服务器端 SDK，它们会自动为您获取一个。

如果您没有使用 SDK，或者您正在使用 JavaScript 编写代码，那么文档的“[作为应用程序登录”](https://developers.facebook.com/docs/howtos/login/login-as-app/)部分将引导您完成此操作。

您通过此方法获得的访问令牌将一直存在，直到您更改应用程序密码。

如果您的页面有年龄和/或国家/地区限制，那么您需要用户访问令牌才能通过 API 获取数据。根据 TOS，您应该对每个用户进行身份验证，并且仅在他们满足页面所有者设置的限制时才向他们显示结果。

最好通过 FQL 获取页面发布的最后 10 个帖子。试试这个查询：

```
SELECT created_time, message, attachment FROM stream WHERE 
   source_id = YOUR_PAGE_ID AND filter_key = "owner" AND message != "" LIMIT 10 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T17:31:14.750

好吧，您可以尝试让 Facebook 页面 ( `$pageId`) 的一位管理员授权您的应用 ( `$fbAppId`)：

```
<script>
    var oauth_url = 'https://www.facebook.com/dialog/oauth/';
    oauth_url += '?client_id=<?php echo $fbAppId; ?>';
    oauth_url += '&redirect_uri=' + encodeURIComponent('https://www.facebook.com/pages/null/<?php echo $pageId; ?>/?sk=app_<?php echo $fbAppId; ?>');
    oauth_url += '&scope=manage_pages'

    window.top.location = oauth_url;
</script> 
```

当他们授权它时，您可以使用您获得的签名请求 ( `$signedRequest = $facebook->getSignedRequest();`) 请求持久令牌：

```
$url = 'https://graph.facebook.com/oauth/access_token?client_id=' . $fbAppId . '&client_secret=' . $appSecret . '&grant_type=fb_exchange_token&fb_exchange_token=' . $signedRequest['oauth_token']; 
```

cURL 此 URL 并获取生成的 access_token：

```
$access_token = substr($response, strlen('access_token=')); 
```

将其保存到您的数据库。有了这个，你可以得到帖子：

```
$graphUrl = '/' . $pageId . '/posts?access_token=' . $accessToken;
$posts = $this->facebook->api($graphUrl, 'GET'); 
```

我不知道这个 access_token 过期多久。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-11T06:45:36.670

关于永久访问令牌：我认为您正在寻找应用访问令牌。阅读更多：[https ://developers.facebook.com/docs/technical-guides/opengraph/publishing-with-app-token/](https://developers.facebook.com/docs/technical-guides/opengraph/publishing-with-app-token/)

关于您的第二个问题：从输出中检查是否存在“消息”键。如果不排除该条目。在 PHP 中有一个函数 array_key_exists 可以做这件事。

# ektron - 通过使用 API 传递内容 id 在 ektron 工作区中检索导出的 Xliff 文件

> ID：14806607
> 
> 赞同：1
> 
> 时间：2013-02-11T05:50:26.487
> 
> 标签：ektron, xliff

我需要使用 Content ID 从 ektron 工作区获取导出的 Xliff 文件。是否有任何 API 可以通过在 ektron 中传递内容 ID 来获取 Xliff 文件列表

请任何人帮助我

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T08:25:48.390

不，无法使用 Content ID 获取 XLIFF 历史记录，但您可以使用相应的 JOB Id 来获取此信息。通过 Localization API 获取更多信息。

# php - 如何在条件 PHP 语句中使用 JS 确认？

> ID：14806610
> 
> 赞同：1
> 
> 时间：2013-02-11T05:50:40.817
> 
> 标签：php, javascript

PHP 在 JS 之前首先执行，但是如果数据不为空，是否有一种简单的方法可以输出确认对话框（如 Javascript 确认），就像在这个条件 PHP 语句中一样：

```
<?php
if (!empty($data)) {

//data is not empty
//Ideally I want to show a confirmation dialog in this part to the user
//to confirm if the user wants to overwrite the existing data

//If the user confirms
//Overwrite the existing data here

} else {

//data is empty,proceed to other task
//don't show any dialog

} 
```

我不想向用户添加另一个表单，只是一个简单的确认对话框，如 JS 确认。或者是否有一个PHP替换功能？谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-11T05:54:28.920

我喜欢把数据和代码分开，所以我喜欢用PHP创建一个JS变量

```
// I always use json_encode when creating JS variables from PHP to avoid
// encoding issues with new lines and quotes.
var isDataEmpty = <?php echo json_encode(empty($data)); ?>;

if (!isDataEmpty) {
   if (confirm("Some message")) {
      overwriteExistingData();
   }
} else {
   // proceed
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T05:55:03.333

您可以让您的 PHP 代码编写 JavaScript，如下所示：

```
<script type="JavaScript">
$(document).ready(function(){
    <?php
    if (!empty($data)) {
    ?>
    var answer = confirm("Are you sure you want to overwrite?");
    <?php
    } else {
    ?>
    // Data is empty
    <?php
    }
    ?>
});
</script> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-11T05:58:58.260

看下面的代码

```
<?php
if (!empty($data)) {
    echo '<script language="javascript" type="text/javascript">window.confirm("data is not empty")</script>';

//data is not empty
//Ideally I want to show a confirmation dialog in this part to the user
//to confirm if the user wants to overwrite the existing data

//If the user confirms
//Overwrite the existing data here

} else {
    echo '<script language="javascript" type="text/javascript">window.confirm("data is empty here")</script>';

//data is empty,proceed to other task
//don't show any dialog

} 
```

# android - 如何调整 imageButton 的大小？

> ID：14806612
> 
> 赞同：11
> 
> 时间：2013-02-11T05:50:56.997
> 
> 标签：android, resize, imagebutton

我想`ImageButton`在图形布局上使用鼠标或通过 `android:layout_width`,使用代码来调整我的大小`android:layout_height`。但每当我这样做时`ImageButton`，实际上并没有调整大小，它并没有更小，而是在边缘被切割。

提前致谢

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2013-02-11T07:31:04.053

首先尝试使用**android:background**而不是**android:src**来设置按钮上的图像。在大多数情况下，它会有所帮助。如果没有，请查看这些..

*   [Android中的图像按钮](https://stackoverflow.com/questions/3318629/imagebutton-in-android)
*   [调整图像按钮的大小？](https://stackoverflow.com/questions/5128949/resize-imagebutton)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2018-07-11T17:17:21.957

```
 <ImageButton
        android:layout_width="48dp"
        android:layout_height="48dp"
        android:background="@drawable/ic_star_border"
    />
or
       <ImageButton
            android:layout_width="36dp"
            android:layout_height="36dp"
            android:background="?selectableItemBackgroundBorderless"
            android:scaleType="fitXY"
            android:src="@drawable/ic_delete" /> 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-11T08:06:07.287

您必须为按钮指定固定尺寸（使用`dp`而不是`px`）。例子：

```
<ImageButton 
  android:background="@drawable/ic_menu_more" 
  android:layout_width="50dip" 
  android:layout_height="50dip" 
/> 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-11T08:03:05.793

这可能是图像大小的问题。尝试使用调整大小的图像，然后在图像按钮中使用它。然后您可以设置按钮的宽度和高度。

# hibernate - 使用 Hibernate 的本机 SQL 中的未知类

> ID：14806614
> 
> 赞同：0
> 
> 时间：2013-02-11T05:51:02.187
> 
> 标签：hibernate, jakarta-ee, hibernate-mapping

我有一`bean`堂课，在**Not** `mapped` to a`database` `table`中。我用过`createSqlQuery`和`addEntity`for `mapping the result set`。但是`error`是：`unknown entity`。我使用`setResultSetMapping`和`error`is中已经引入`unknown entity.` 的类。`bean``hibernate.cfg.xml`

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T07:29:08.950

检查您的映射 - 您可能引用了未知类 (CodeTemplate)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T09:02:59.973

有两种解决方法

第一种方式：

您必须添加类，这使您`@Entity`的`Pojo`pojo 成为 JPA 实体。

二、使用配置：

您应该使用 AnnotationConfiguration 而不是 Configuration 然后调用

```
 configuration.addAnnotatedClass(YourClass.class); 
```

参考[@Entity](http://docs.oracle.com/javaee/5/api/javax/persistence/Entity.html)

```
 Specifies that the class is an entity. This annotation is applied 
    to the entity class. 
```

# asp.net - 如何拒绝匿名用户访问虚拟目录

> ID：14806616
> 
> 赞同：2
> 
> 时间：2013-02-11T05:51:12.953
> 
> 标签：asp.net, forms-authentication, virtual-directory

如何拒绝那些尚未登录我的 asp.net 网站的人访问我的虚拟目录？

我已将我的网站连接到服务器上的虚拟目录设置（使用 IIS 7）。VD 包含 pdf 文件，我希望只有登录用户才能访问。然而，我的问题是，我似乎也无法“拒绝”匿名用户访问这些文件。目前，如果我在我的虚拟目录中键入 pdf 文件的直接路径，我可以访问它，即使我没有登录到我的站点。

我在虚拟目录的根目录中有一个 web.config 文件设置，如下所示：

```
 <?xml version="1.0"?>
 <configuration>
   <system.web>
     <authentication mode="Forms">
        <forms loginUrl="Login.aspx" />
     </authentication>
     <authorization>
        <deny users="?" />
     </authorization>
   </system.web>
 </configuration> 
```

知道如何解决这个问题吗？

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-11T08:05:07.977

**这里：**

```
 <?xml version="1.0"?>
 <configuration>
   <system.web>
     <authentication mode="Forms">
        <forms loginUrl="Login.aspx" />
     </authentication>
     <authorization>
        <deny users="?" />
        <allow users="*"/>
     </authorization>
   </system.web>
 </configuration> 
```

将`<deny users="?"/>` 拒绝匿名用户，同时`<allow users="*"/>`允许所有经过身份验证的用户

**引用：[为 web.config 中的特定页面或文件夹设置授权规则](http://weblogs.asp.net/gurusarkar/archive/2008/09/29/setting-authorization-rules-for-a-particular-page-or-folder-in-web-config.aspx)**

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-11T06:07:06.457

单击具有身份验证的 IIS 下的虚拟目录，单击它，您将能够看到匿名身份验证禁用它。

# android - 如何在多点触控上缩放整个活动？

> ID：14806618
> 
> 赞同：35
> 
> 时间：2013-02-11T05:51:15.263
> 
> 标签：android, android-activity, zooming

## `Problem:`

缩放图像和 Web 视图很容易。但我想放大整个活动。我怎样才能做到这一点？

## `Here, I provide wire-frame:`

![线框活动](../Images/9bd93812579675d8332cbfc96885f47b.png)

从这里你可以理解，我想做什么。

## `Request`

如果您对此有任何解决方案，请分享。
谢谢你。

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-02-16T09:29:41.320

您可以通过缩放根活动视图来模拟放大和缩小。这是一些入门代码：

```
View v = findViewById(android.R.id.content); // get reference to root activity view
v.setOnClickListener(new OnClickListener() {
    float zoomFactor = 1.5f;
    boolean zoomedOut = false;

    @Override
    public void onClick(View v) {
        if(zoomedOut) { 
            // now zoom in
            v.setScaleX(1);
            v.setScaleY(1);
            zoomedOut = false;
        }
        else {
            v.setScaleX(zoomFactor);
            v.setScaleY(zoomFactor);
            zoomedOut = true;
        }
    }
}); 
```

请注意，活动将在单击时放大，而不是在双击时放大。此外，您可能想要为缩放设置动画。查找[属性动画](http://developer.android.com/guide/topics/graphics/prop-animation.html)以了解如何完成此操作的详细信息。

[编辑] 对于较旧的 API 级别，您可以使用 ScaleAnimation。您还可以设置动画的持续时间。然而，一个主要的警告是它只修改了视图的外观，但实际的视图并没有改变。

```
if(zoomedOut) { // zoom in
    ScaleAnimation anim = new ScaleAnimation(1f, 1.5f, 1f, 1.5f, Animation.RELATIVE_TO_SELF, 0.5f, Animation.RELATIVE_TO_SELF, 0.5f);
    anim.setDuration(500);
    anim.setFillAfter(true);
    v.startAnimation(anim);
    zoomedOut = false;
}
else {
    ScaleAnimation anim = new ScaleAnimation(1.5f, 1f, 1.5f, 1f, Animation.RELATIVE_TO_SELF, 0.5f, Animation.RELATIVE_TO_SELF, 0.5f);
    anim.setDuration(500);
    anim.setFillAfter(true);
    v.startAnimation(anim);
    zoomedOut = true; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-05-24T12:30:32.960

您可以使用`setScaleX`和`setScaleY`来缩放**完整的活动视图**。

然后你需要用`setPivotX`和设置轴心点`setPivotY`。

带有多点触控的整个活动缩放细节的好例子：

1) [MultiTouch](https://stackoverflow.com/questions/10946240/how-to-achieve-multitouch-for-whole-activity)用于整个活动。

2)完全[缩放](http://myandroidnote.blogspot.in/2011/03/zooming-view-completely.html)视图。

# synchronization - 如何双向同步 zimbra 日历和谷歌日历

> ID：14806626
> 
> 赞同：2
> 
> 时间：2013-02-11T05:51:47.100
> 
> 标签：synchronization, google-api, zimbra

我需要自动将 zimbra 日历与我的谷歌日历同步，反之亦然。我打算用 google calender api 开发一个桌面应用程序，我是不是走错了方向？如果有人有这种同步的经验，请帮助我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T10:22:58.437

我使用两种产品的网络服务在 zimbra 日历和 Sugarcrm 日历之间进行了手动同步。所有代码都仅用 zimbra 编写（作为 zimlet）。实际上，它不是真正的同步按钮，而是用户必须按下的一个导出按钮和一个导入按钮。我想人们可以轻松地创建一个同步按钮来串行执行这两项操作。您还可以通过将同步代码放入每个用户定义的（在 zimlet 首选项编辑器中）时间段调用的 javascript 计时器中来使同步自动进行。如果谷歌日历有一个可以说 JSON 的 API，它应该在所有 zimbra 方面都非常可行。

HTH。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-09-07T03:08:52.667

我需要类似的东西，最后用 Node 在 Google App Engine 上实现它——花了几个周末。我只想在我的个人 Google 日历上查看我的工作日历 (Zimbra) 中的所有事件。我尝试转发事件，但不想公开分享我的 Zimbra 日历。我使用了 Zimbra 的开源 Java 库，并在 Google Cloud 和 AWS Lambda 上编写了一个简单的应用程序，将事件从 Zimbra 复制到 Google 并在另一个方向。同步过程目前在 AWS Lambda 上每小时运行一次。检查一下：[https](https://zimbra-calendar-sync.appspot.com/) ://zimbra-calendar-sync.appspot.com/如果您对如何改进它有任何想法，请告诉我。

# r - 获取数据框的名称

> ID：14806627
> 
> 赞同：6
> 
> 时间：2013-02-11T05:51:50.647
> 
> 标签：r

我正在编写一个用于绘制多个数据框的包装函数：

```
gf <- function(dataframe){
  ggplot(dataframe, aes(x=Date, y=Close)) + 
  geom_point() + 
  ggtitle(nameofdataframe)) 
```

我无法弄清楚最后一部分，如何将数据框的名称作为变量在 ggtitle() 中使用。请帮忙。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-11T05:57:01.020

这将做到：

```
ggtitle(deparse(substitute(dataframe))) 
```

[`deparse()`](http://www.nku.edu/~longa/Rweb/library/base/html/deparse.html)将变量名称转换为字符串，[`substitute()`](http://www.nku.edu/~longa/Rweb/library/base/html/substitute.html)让您在绘图中使用它。

# ruby-on-rails - Ruby On Rails：如何验证具有文件上传字段和其他字段的表单

> ID：14806629
> 
> 赞同：0
> 
> 时间：2013-02-11T05:51:52.643
> 
> 标签：ruby-on-rails, validation, file-upload

我是 Ruby on Rails（rails 3）的新手。我有一个包含三个字段的表单，在这三个字段中，一个字段是上传文件（rar/tar/zip）。我想知道验证（服务器端）这种允许用户的表单的方法：-

```
1\. Fill in all three fields.
2\. Uploaded file should be either rar/tar/zip.
3\. Uploaded file should not exceed 2MB in size. 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T05:57:47.337

您可以使用回形针 gem 上传文件。

```
class User < ActiveRecord::Base
  attr_accessible :avatar
  has_attached_file :avatar, :styles => { :medium => "300x300>", :thumb => "100x100>" }
end 
```

有类似的验证

```
validates_attachment :avatar, :presence => true,
  :content_type => { :content_type => "image/jpg" },
  :size => { :in => 0..10.kilobytes} 
```

有关更多信息，请参阅[https://github.com/thoughtbot/paperclip](https://github.com/thoughtbot/paperclip)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-11T05:59:22.600

您可以使用此代码，要使用此代码，您必须使用**[回形针 gem](https://github.com/thoughtbot/paperclip)**

```
validates_attachment_size :upload, :less_than => 2.megabytes,
                  :with => %r{\.(rar|tar|zip)$}i 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-11T05:56:43.460

[验证存在](http://guides.rubyonrails.org/active_record_validations_callbacks.html#presence)

[验证格式](http://guides.rubyonrails.org/active_record_validations_callbacks.html#format)

对于大小，我认为您可以从 Rails 指南中找出一些东西，或者只是通过谷歌搜索。

为了澄清，在用户正在更新的模型中，您希望对三个属性进行存在验证（如该链接中所述）。然后是 zip 文件字段的格式验证。同样对于大小，当您找到或创建适当的验证时。

# mysql - mysql - 组，但显示列的所有行

> ID：14806631
> 
> 赞同：6
> 
> 时间：2013-02-11T05:51:59.430
> 
> 标签：mysql, sql, group-by, concat

我想对字段进行分组，但想显示名为的列的所有行`remain`：

**这是没有分组的当前输出：**

![在此处输入图像描述](../Images/bab98a8a227669e6b83b31e1fb3a904d.png)

**并与组输出：**

![在此处输入图像描述](../Images/c5c8e4601daf874b44f2a5b109860e70.png)

**当我分组时我想要这个：**

![在此处输入图像描述](../Images/a1b6368486d465ed6e7e2f2e2cdd1b28.png)

**这是mysql查询：**

```
SELECT staff.name,
  staff.designation_id_designation,
  staff.status_id_status,
  Concat_Ws('=', leave_remain.leave_type_id_leave_type, leave_remain.days) AS
  remain
FROM staff INNER JOIN
  leave_remain ON staff.id_staff = leave_remain.staff_id_staff
GROUP BY staff.name 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-02-11T05:55:43.100

利用`GROUP_CONCAT`

```
SELECT  staff.name,
        staff.designation_id_designation,
        staff.status_id_status,
        GROUP_CONCAT(Concat_Ws('=', leave_remain.leave_type_id_leave_type, leave_remain.days)) AS remain
FROM    staff 
        INNER JOIN leave_remain 
            ON staff.id_staff = leave_remain.staff_id_staff
GROUP   BY staff.name, staff.designation_id_designation, staff.status_id_status 
```

*   [SQLFiddle 演示](http://www.sqlfiddle.com/#!2/729f7/1)

其他链接

*   [MySQL GROUP_CONCAT](http://dev.mysql.com/doc/refman/5.0/en/group-by-functions.html#function_group-concat)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-11T05:54:19.810

尝试这个：

```
SELECT staff.name,
  staff.designation_id_designation,
  staff.status_id_status,
  GROUP_CONCAT(Concat_Ws('=', leave_remain.leave_type_id_leave_type, leave_remain.days) SEPARATOR ' ') AS remain
FROM staff INNER JOIN
  leave_remain ON staff.id_staff = leave_remain.staff_id_staff
GROUP BY staff.designation_id_designation,
         staff.name,
         staff.status_id_status; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-11T06:00:30.480

为此，我们需要使用 group_contact 以“”分隔。

```
SELECT staff.name,
  staff.designation_id_designation,
  staff.status_id_status,
  GROUP_CONCAT(Concat_Ws('=', leave_remain.leave_type_id_leave_type, leave_remain.days) SEPARATOR ' ') AS remain
FROM staff 
INNER JOIN
  leave_remain 
ON 
staff.id_staff = leave_remain.staff_id_staff
GROUP BY staff.designation_id_designation,
         staff.name,
         staff.status_id_status; 
```

# ios - UIImage 视图在调用动画后重置

> ID：14806637
> 
> 赞同：0
> 
> 时间：2013-02-11T05:52:27.533
> 
> 标签：ios, cocoa-touch, core-animation, caanimation

我是核心动画的新手。每次我调用动画时，我的图像都会从它的位置移动到屏幕的左上角，移动，然后回到原来的位置。如何使图像向左移动 50 个单位，停止，然后在再次按下按钮时重复。代码：

```
-(IBAction)preform:(id)sender{

CGPoint point = CGPointMake(50, 50);

CABasicAnimation *anim = [CABasicAnimation animationWithKeyPath:@"position"];
anim.fromValue  = [NSValue valueWithCGPoint:point];
anim.toValue    = [NSValue valueWithCGPoint:CGPointMake(point.x + 50, point.y)];
anim.duration   = 1.5f;
anim.repeatCount =1;
anim.removedOnCompletion = YES;
anim.timingFunction = [CAMediaTimingFunction functionWithName:kCAMediaTimingFunctionEaseIn];
[imView.layer  addAnimation:anim forKey:@"position"];

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T06:04:40.723

对于您的情况，您可以跳过重型 CA 机器并使用块动画

```
// Your image is at starting position
[UIView animateWithDuration:1.5 animations:^{
        CGRect newFrame = CGRectOffset(imView.frame, 50, 0);
        imView.frame = newFrame;
    }]; 
```

但是，如果您想知道如何正确处理此“快速恢复”，请查看[此 url](http://oleb.net/blog/2012/11/prevent-caanimation-snap-back/)。

# cakephp-1.3 - 在 cakephp 2x 中更新 100+ 条记录

> ID：14806641
> 
> 赞同：1
> 
> 时间：2013-02-11T05:53:01.253
> 
> 标签：cakephp-1.3, cakephp-2.0

我是 cakephp2x 的新手。我想更新我的表，它有两个字段，如用户 ID 和点。这个表内容现在在我的函数中至少有 500 条记录，我必须更新至少 100 条以上的记录，即我必须根据用户 ID 更改用户点。提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T09:41:47.173

您可以使用 Cake ORM。请阅读此页面

[http://book.cakephp.org/2.0/en/models/saving-your-data.html](http://book.cakephp.org/2.0/en/models/saving-your-data.html)

我的猜测是您需要使用 updateAll() 方法，例如：

```
$this->User->updateAll(
    array('point' => 'something')
); 
```

希望这可以帮助

# cassandra - 在 cassandra 表中动态添加列

> ID：14806643
> 
> 赞同：2
> 
> 时间：2013-02-11T05:53:34.833
> 
> 标签：cassandra, hector, cql, cql3

我在 CQl3 中有下表

```
create table userInfo
(
 userid text,
 email text,
 firstName text,
 lastName text,
 city text,
 Primary key (userid,email)
); 
```

现在我想根据用户选择将两列 COL1 和 COL2 动态添加到该表中。我该怎么做？

我做了以下事情

```
ALTER TABLE ADD COL1 text;
ALTER TABLE ADD COL2 text; 
```

它将 COL1 和 COL2 添加到表中。然后，当我插入 userInfo(..,..,COL1,..) values(..,..,'some value',..) 时，它只是在 COL1 中输入了 NULL。

建议一些动态添加列的好方法。如果我想添加大量列，我认为 ALTER 表不是好方法。我正在使用 Java 程序中的 Hector 库来动态添加列。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-11T14:01:19.633

也许 CQL 不是您的最佳选择。CQL 要求您预先定义架构以允许类似 SQL 的语法功能，但它带走了 Cassandra 的一些有用的动态特性。使用几乎所有 Cassandra 客户端的基于 Thrift 的变异功能，您可以简单地命名您要编写的列，如果它不存在，它将为您创建。

例如：

```
ks.insert(key, createColumnPath(colName), bytes(value)); 
```

# django - 缺乏 Django 知识

> ID：14806649
> 
> 赞同：-2
> 
> 时间：2013-02-11T05:53:57.547
> 
> 标签：django

我一直在努力学习 django 并精通它，但目前，我正在努力制作 django 应用程序。我通过 Google python classes 和 django book 从第 1 章到第 7 章消耗了知识。然后我尝试跳入 lightbird django 示例，但事实证明它很难。我什至不能做第一个应用程序。

您能否通过指出正确的方向来帮助我重回正轨。在进入 django 之前我应该​​掌握 python 吗？或者我应该通过制作 django 应用程序并拾取点点滴滴。

任何伟大的资源？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T06:13:04.643

*   是的，在潜入 Django 之前学习 Python 是必要的，但没有必要精通它。你需要知道如何编写类、创建对象、创建函数和 Python 提供的其他东西，例如装饰器、元组、哈希等。一旦你对 Python 脚本很灵活，就很容易学习这个框架。

*   此外，当您阅读 django 书籍时，您应该参考 Django 文档并阅读有关您遇到的类的信息。在 Django Book 中，信息是在表面上给出的，您需要知道每个类提供什么功能及其重要性，并且您可以在文档中获得这些信息。

*   那里有各种视频教程，它们教您创建应用程序。你应该再次阅读 Django 的文档。

文档是学习 Django 应用程序内部工作的最佳来源。书籍和视频教程将教您如何将您的 Django 知识与 HTML、Javascript、CSS 和其他 Web 应用程序内容集成。Django 书籍/视频教程和文档是掌握 Django 的绝佳组合。

这是我提到的一个链接：http: [//hackedexistence.com/project-django.html](http://hackedexistence.com/project-django.html)

# time - 时间复杂度检查

> ID：14806650
> 
> 赞同：0
> 
> 时间：2013-02-11T05:54:03.193
> 
> 标签：time, complexity-theory

你会说这个函数的时间复杂度是多少？我认为它的 O(logN)，但你能验证一下吗？如果没有，是否有可能使其成为 LogN？我正在尝试计算旋转数组上的移位量

```
 int findRotationCount(int A[], int sizeOfArray) //O(logN)
    {
        int countOfShift = 0, i;
        for (i = 0; i < sizeOfArray; ++i)
        {
            ++countOfShift;
            if (i+1 == sizeOfArray)
                break;;
            if (A[i] > A[i+1])
                break;
        }
    } 
```

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T10:35:59.720

我想是`O(n)`，在哪里`n=sizeOfArray`。这是证明：

如果至少满足以下条件之一，您的循环可以结束：

1.  `i=n`=> 有`n`迭代，因此，你的函数的复杂性是`O(n)`.
2.  `A[i] > A[i+1]`=> 数组中有一个成员，大于下一个。在这里，您将不得不考虑您的功能的最坏情况。对于这个，它是一个按升序排序的数组。这意味着您将从第一个成员到最后一个成员遍历数组，并且永远找不到满足第二个条件。所以，在最坏的情况下，复杂度是`O(n)`.

由于您的函数在至少满足条件 1 和条件 2 之一时结束，并且我们已经证明在这两种情况下复杂度都是 O `(n)`，那么您可以说函数的复杂度也是`O(n)`. 请注意，这是最坏情况分析。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T05:57:51.413

看起来`O(N)`对我来说，`N`你的`sizeOfArray`价值在哪里。

# android - 应用程序关闭时如何停止显示来自 Toast 的消息？

> ID：14806651
> 
> 赞同：12
> 
> 时间：2013-02-11T05:54:03.577
> 
> 标签：android, toast

这是我的示例代码：

```
public class MainActivity extends Activity {

    Button buttonClick;
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        buttonClick = (Button) findViewById(R.id.buttonClick);
        buttonClick.setOnClickListener(new OnClickListener() {

            @Override
            public void onClick(View v) {
                // TODO Auto-generated method stub
                Toast.makeText(MainActivity.this, "Here is the Toast", Toast.LENGTH_SHORT).show();
            }
        });
    }

} 
```

每当我单击按钮时，都会显示 Toast 消息。没关系。

**我的问题是：**

当我单击*`multiple times`*按钮然后关闭**应用程序**时，**Toast**将继续开始显示消息的工作。

我不希望那样。

**我想如果应用程序关闭，那么 Toasts 也应该停止显示他们的消息。**

谁能告诉我我该怎么做？？？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-02-11T06:00:07.197

> 我想如果应用程序关闭，那么 Toast 也应该停止显示消息。

在您的情况下，调用对象`cancel()`以在方法`Toast`中取消它。`onDestroy()`

这是一个[类似](https://stackoverflow.com/a/4395089/646806)的例子。

**更新！**

我测试了 OP 解决方案，但没有结果。

`.hide()`和`.cancel()`方法是可用的，`Toast`但似乎他们不工作。解决方案是，您必须创建自己的自定义视图，其行为类似于 a `Toast`，然后您可以`Toasts`在`Activity`完成后取消所有视图。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-11T05:59:13.197

存储对 toast 对象的引用。在您的 onDestroy 中，如果 toast 不为空，则在其上调用 cancel()。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-02-11T06:08:16.160

每当您的应用程序不可见时，您可能想取消 Toast，所以我会在方法“onStop()”上取消它。

它是这样的：

```
public class MainActivity extends Activity {
    private Toast toast = null;
    Button buttonClick;

    @SuppressLint("ShowToast")
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        toast = Toast.makeText(getApplicationContext(), "", Toast.LENGTH_LONG);
        buttonClick = (Button) findViewById(R.id.buttonClick);
        buttonClick.setOnClickListener(new OnClickListener() {
            @Override
            public void onClick(View v) {
                // TODO Auto-generated method stub
                toast.setText("My toast!");
                toast.show();
            }
        });
    }

    @Override
    protected void onStop () {
        super.onStop();
        toast.cancel();
    }

} 
```

编辑：已**更新**，它现在应该按 OP 的预期工作。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-11T05:59:39.983

尝试这个，

`Toast`您可以使用此代码取消显示。

```
 final Toast toast = Toast.makeText(getApplicationContext(), "This message will    disappear     in half second", Toast.LENGTH_SHORT);
toast.show();

Handler handler = new Handler();
    handler.postDelayed(new Runnable() {
       @Override
       public void run() {
           toast.cancel(); 
       }
}, 500); 
```

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2013-02-11T05:59:26.030

尝试在某些条件下`finish()`在您的功能中使用。`OnCreate()`希望这会帮助你。

# sql-server-2008 - 全局实施 QUOTED_IDENTIFIER

> ID：14806659
> 
> 赞同：4
> 
> 时间：2013-02-11T05:55:26.470
> 
> 标签：sql-server-2008, enterprise-library, sqldependency, quoted-identifier

我已经在**SqlDependency**的帮助下实现了一种机制，它可以提醒我特定数据库表中的任何更改。

但这打破了我现有的功能，我正在更新我已经实现 SqlDependency 的数据库表。

我收到以下错误：

> UPDATE 失败，因为以下 SET 选项的设置不正确：'QUOTED_IDENTIFIER'。验证 SET 选项对于索引视图和/或计算列上的索引和/或过滤索引和/或查询通知和/或 XML 数据类型方法和/或空间索引操作是否正确。

这类似于“ [sqldependency-causes-error-in-other-application](https://stackoverflow.com/questions/10927132/sqldependency-causes-error-in-other-application) ”。

我发现对表执行更新的 proc 是在 QUOTED_IDENTIFIER 设置为 OFF 的情况下创建的，这就是问题的确切原因。

**如果我用“ SET QUOTED_IDENTIFIER ON** ”更改过程，一切都会完美。但这不是一个可行的解决方案，因为我必须搜索所有 proc 并需要更改它们。

**我想知道的是，每次在从应用程序代码执行我的 proc 之前，有一种通用的方法可以调用“SET QUOTED_IDENTIFIER ON”。**

我的应用程序是一个 ASP.Net 4 Web 应用程序，我使用 Microsoft Enterprise Library 5.0 来执行数据库操作。我在其中使用以下组件：**Microsoft.Practices.EnterpriseLibrary.Data.Database**

也欢迎 SqlDependency 的任何替代解决方案。

[已编辑] SQL Server 2008 中是否有任何直接方法可以直接将 QUOTED_IDENTIFIER 设置为 true 而无需更改 proc。我在想的是编写一个脚本，将 QUOTED_IDENTIFIER 设置为依赖于该表的所有对象（使用 sp_depends）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-10-23T02:08:48.070

如果您仍在寻找它，还有另一种方法，诚然，它不是最自我记录的方法。

```
EXEC sys.sp_configure N'user options', N'256'
GO
RECONFIGURE WITH OVERRIDE
GO 
```

如果您右键单击数据库，转到属性、连接，然后从列表中选择带引号的标识符，这就是 SSMS 所做的。它使 sql server 为所有传入连接设置带引号的标识符选项。

# c# - 循环遍历 XML 文档

> ID：14806661
> 
> 赞同：8
> 
> 时间：2013-02-11T05:55:34.347
> 
> 标签：c#, xml, xmldocument

我的 XML 文件结构如下所示：

```
<SalaryDetails>
    <Employee>
        <Name>George Dsouza</Name>
        <AnnualSalary>320000</AnnualSalary>
        <DaysWorked>22</DaysWorked>
    </Employee>
    <Employee>
        <Name>Jackie Parera</Name>
        <AnnualSalary>300000</AnnualSalary>
        <DaysWorked>19</DaysWorked>
    </Employee>
...
</SalaryDetails> 
```

我想将所有数据作为员工记录使用`XmlDocument`.

所以我写了一个这样的循环：

```
XmlDocument xdcDocument = new XmlDocument();

xdcDocument.Load(@"D:\SalaryDetails.xml");

XmlElement xelRoot = xdcDocument.DocumentElement;
XmlNodeList xnlNodes = xelRoot.SelectNodes("/SalaryDetails/Employee");

foreach(XmlNode xndNode in xnlNodes)
    {
        //What to write here??
        //My sql insert command will go here
    } 
```

`AnnualSalary`并且`DaysWorked`是整数。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-02-11T06:02:51.827

尝试：

```
foreach (XmlNode xndNode in xnlNodes)
{
  string name= xndNode ["Name"].InnerText;
  string AnnualSalary= xndNode ["AnnualSalary"].InnerText;
  string DaysWorked= xndNode ["DaysWorked"].InnerText;

 //Your sql insert command will go here;
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-11T08:41:02.503

您还可以使用 XDoc 和 XElement 使用 LINQ 方式获取元素值。[http://msdn.microsoft.com/en-us/library/system.xml.linq.xelement.aspx](http://msdn.microsoft.com/en-us/library/system.xml.linq.xelement.aspx)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-11T05:58:38.280

xndNode 包含一个具有 Name、AnnualSalary 和 DaysWorked 字段的员工对象。只需将这些转换为 SQL 语句并将行插入数据库中的表中即可。详细信息将是特定于数据库的，但应该是这样的

```
insert into employee values (name, annual_salary, days_worked) 
```

假设员工按姓名键入

# php - 通过 pdo 连接到 vertica 数据库时出错

> ID：14806674
> 
> 赞同：3
> 
> 时间：2013-02-11T05:56:45.577
> 
> 标签：php, pdo, vertica

我在使用 pdo 将 vertica 数据库与 php 连接时遇到问题，这给我带来了错误

> [unixODBC][驱动管理器]找不到数据源名称，也没有指定默认驱动' SQLSTATE SQLSTATE[IM002]

我的连接字符串如下：-

```
$conn = new PDO('odbc:DRIVER={SOURCENAME};Server=localhost;Database=dashboard', "yogesh", ""); 
```

相同的 dsn 适用于 isql 实用程序，但不适用于 pdo 。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T07:32:05.390

很可能它在错误的位置寻找 ini 文件，对 php 文件执行 strace，并查看它是否尝试从正确的路径访问 ini 文件

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-08-20T13:47:22.547

你试过改变

```
DRIVER={SOURCENAME}; 
```

至

```
Driver=Vertica 
```

?

# heroku - 有没有办法在没有 iframe 的情况下直接提供 Heroku 错误/维护 url

> ID：14806681
> 
> 赞同：8
> 
> 时间：2013-02-11T05:57:20.513
> 
> 标签：heroku, custom-error-pages, maintenance-mode

Heroku 允许您为应用程序打开“维护模式”，还允许您指定在此期间提供的自定义 url。我刚刚尝试过，发现 Heroku 在 iframe 中提供自定义 url。这不是我所期待的。

我们使用 Heroku 来托管 API 服务，并计划让自定义错误/维护页面提供 json 数据。我们希望有一种方法可以直接提供维护 URL。

在搜索 SO、Quora 和一般的“互联网”之后，我没有看到任何帖子问这个问题，所以我在 SO 上发帖。

以下是与我的问题相关的帖子，但不直接解决。

进行任何自定义之前的旧帖子： [https ://groups.google.com/forum/?fromgroups=#!topic/heroku/EJRtW1XrlpU](https://groups.google.com/forum/?fromgroups=#!topic/heroku/EJRtW1XrlpU)

在呈现 iframe 的 html 中发布请求自定义 javascript： [https ://groups.google.com/forum/?fromgroups=#!topic/heroku/Db0JEWmuz_w](https://groups.google.com/forum/?fromgroups=#!topic/heroku/Db0JEWmuz_w)

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2017-02-03T05:00:04.157

作为一种解决方法，您可以对 Heroku 应用程序进行编程，以便对于它收到的每个请求，它首先（在执行任何其他操作之前）检查是否存在特定环境变量，例如，称为`MAINTENANCE`. 如果设置，您将立即返回您的自定义 JSON 响应。

例如，在[Rack 应用程序](https://rack.github.io/)方法的开头添加以下代码块`call`。（对于[Sinatra 应用程序，您可以将其添加到前置](http://www.sinatrarb.com/)[过滤器](http://www.sinatrarb.com/intro.html#Filters)的开头。对于[Ruby on Rails 应用程序](http://rubyonrails.org/)，您可以将其实现为[Rack 中间件](https://stackoverflow.com/questions/2256569/what-is-rack-middleware)。）

```
if ENV['MAINTENANCE']
  status = '503'
  headers = {'Content-Type' => 'application/json'}
  body = ['{"message":"The server is undergoing maintenance. Please try again later."}']
  return [status, headers, body]
end 
```

然后，打开“[维护模式](https://devcenter.heroku.com/articles/maintenance-mode)”，将您的应用程序的`MAINTENANCE`环境变量设置为您想要的任何值。

```
heroku config:set MAINTENANCE=1 
```

要关闭“维护模式”，只需取消设置应用程序的`MAINTENANCE`环境变量。

```
heroku config:unset MAINTENANCE 
```

瞧！JSON REST API 应用程序的临时维护模式。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-11T15:16:20.963

除了此处列出的使用 iFrame 的错误页面外，无法自定义错误页面：[https ://devcenter.heroku.com/articles/error-pages#customize-pages](https://devcenter.heroku.com/articles/error-pages#customize-pages)

# c - 在 Linux 和 MacOS 上交换鼠标按钮

> ID：14806687
> 
> 赞同：0
> 
> 时间：2013-02-11T05:57:58.433
> 
> 标签：c, linux

在 Windows 中，有一个 Win32 系统调用 SwapMouseButton 来交换鼠标的主按钮。现在，我需要这样的系统调用或在 Linux 和 MacOS 上交换鼠标按钮的方法。通过这个，我想制作一键式鼠标按钮交换应用程序。

你将如何在 C 中做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T07:02:47.637

我认为没有*系统调用*可以做到这一点。鼠标是由 X 系统操作的，而不是由内核操作的。
您可以运行此 shell 命令`xmodmap -e "pointer = 3 2 1"`来交换左右按钮，并运行`xmodmap -e "pointer = 1 2 3"`以恢复原始设置。
您也可以使用[`execve`](http://www.kernel.org/doc/man-pages/online/pages/man2/execve.2.html)从*C*执行上述命令。

### 编辑

该[`system`](http://linux.die.net/man/3/system)功能实际上更易于使用：

```
system("xmodmap -e \"pointer = 3 2 1\""); // for swapping buttons
system("xmodmap -e \"pointer = 1 2 3\""); // for restoring functionality 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-12-08T02:52:01.503

我不知道输出是否可靠/便携，但`xmodmap -pp`会报告当前的指针按钮映射，因此根据您的用例，您*可以*使用它来切换状态。

例如，作为一个shell 命令，在我的系统上，以下切换（并报告）和之间的前三个按钮`1 2 3`（`3 2 1`嗯，这是一个假设，但它足以满足我的要求）。

```
(xmodmap -pp | grep -q "\b1\b  *\b1\b") && xmodmap -e "pointer = 3 2 1" || xmodmap -e "pointer = 1 2 3"; xmodmap -pp | head -7 
```

# iphone - 是否可以在 iOS 上获取设备设置？

> ID：14806688
> 
> 赞同：2
> 
> 时间：2013-02-11T05:58:08.730
> 
> 标签：iphone, ios

android 允许您使用 dumpsys 或 getprop shell 命令获取完整的系统设置转储。还有 android.provider.settings 和 android.provider.secure API，它们允许我们获取大量 android 设备数据，例如蓝牙和 wifi 设置等。

在 iOS 上有没有这样的方法。据我研究，对于大多数需要大量搜索的东西，比如蓝牙，都有单独的 API ......

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-11T06:03:24.840

Apple 的官方公共 API 不允许 iOS 应用程序访问设置应用程序中的常规设置，例如 wifi 启用。NSUserDefaults 仅允许访问由该应用程序专门创建的供自己使用的首选项和设置。

但是某些设置，通过使用私有 API，您可以访问它们。但是，显然，使用这些私有 API 会阻止您的应用被应用商店接受。链接：从代码[访问 iOS 设置。](https://stackoverflow.com/questions/7328545/access-ios-settings-from-code)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T06:17:46.217

在 iOS 5.0 中，我从我的应用程序中打开 Twitter 设置。如果您想访问 Twitter，您可以通过以下方式进行：

[[UIApplication sharedApplication] openURL:[NSURL URLWithString:@"prefs:root=TWITTER"]];

但是，这个功能在 iOS 5.1 中被删除了，因此我无法打开 twitter 设置。

这个链接也可以帮助你。:[如何使用 iOS 5.1 打开偏好/设置？](https://stackoverflow.com/questions/9627451/how-to-open-preferences-settings-with-ios-5-1/13027427#13027427)

# vhdl - 由于 vhdl 中的输入向量导致的 Mod 错误

> ID：14806690
> 
> 赞同：2
> 
> 时间：2013-02-11T05:58:27.907
> 
> 标签：vhdl

```
m<=(s-1) mod 2 
```

这里 'm' 是一个信号，而 s 是一个输入向量在尝试实现代码时，我收到一个错误“mod 在这种情况下不能有这样的操作数”错误可能是由于试图获取向量值的 mod。有没有办法将向量等同于整数值或通过其他方法纠正错误？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-11T07:13:10.073

因为`mod 2`基本上只是提取向量的最后一位而`-1`只是否定了这一点，为什么不这样做：

```
m <= not s(0); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T09:07:36.787

我假设's'被定义为'std_logic_vector'。对于这些运算符，您最好/应该使用“ieee.numeric_std”库中的“unsigned”或“signed”。您可以使用类型转换将您的 'std_logic_vector' 转换为 'signed' 或 'unsigned'。例如无符号。总之：Sonicwave 的解决方案更清洁。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-11T14:01:18.907

要么使用 a`integer`来代替向量（即更改信号的类型），要么将其转换为`integer`before `mod`ing

```
use ieee.numeric_std.all;

i := to_integer(unsigned(s));
m := (i-1) mod 2; 
```

# android - 如何从活动中注销广播接收器

> ID：14806692
> 
> 赞同：1
> 
> 时间：2013-02-11T05:58:40.470
> 
> 标签：android, exception, broadcastreceiver, android-broadcast

这可能是一个非常简单的问题，但我似乎从一天开始就挂断了这些问题。所以这是一个问题：

如何在从 AndroidManifest 文件注册的 Activity 中取消注册 BroadcastReceiver？这是代码::

```
 <receiver  android:name=".PhoneCallReceiver">
        <intent-filter  >
            <action android:name="android.intent.action.PHONE_STATE" />
        </intent-filter>
    </receiver> 
```

我熟悉这个功能

> public void unregisterReceiver (BroadcastReceiver 接收器)

但如果未从该 Activity 注册，则会引发异常

```
IntentFilter filter = new IntentFilter();
filter.addAction("android.intent.action.PHONE_STATE");
registerReceiver(mybroadcast, filter); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-11T06:17:49.723

要禁用`receiver`中定义的a `manifest`，请使用以下命令：

```
PackageManager pm = context.getPackageManager();
ComponentName component = new ComponentName(context, PhoneCallReceiver.class)
pm.setComponentEnabledSetting(component , PackageManager.COMPONENT_ENABLED_STATE_DISABLED , PackageManager.DONT_KILL_APP); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T06:28:35.997

试试这个：

```
public void onResume()
  {
    IntentFilter filter = new IntentFilter();
    filter.addAction("android.intent.action.PHONE_STATE");
    registerReceiver(mybroadcast, filter);  

  }

  public void onPause()
  {
    unregisterReceiver(mybroadcast);
  } 
```

# android - 如何从这种网络服务中获取数据

> ID：14806694
> 
> 赞同：-2
> 
> 时间：2013-02-11T05:58:51.413
> 
> 标签：android, json

这是我的网络服务数据。

```
[
    {
        "msgid": "1",
        "title": "Lorem Ipsum is simply text",
        "dt": "05-SEP-2012"
    },
    {
        "msgid": "2",
        "title": "Lorem Ipsum is simply ",
        "dt": "16-NOV-2011"
    },
    {
        "msgid": "3",
        "title": "Lorem Ipsum is simply text",
        "dt": "13-SEP-2012"
    },
    {
        "msgid": "4",
        "title": "Lorem Ipsum is simply text2",
        "dt": "26-SEP-2012"
    },
    {
        "msgid": "5",
        "title": "Lorem Ipsum is simply text",
        "dt": "30-SEP-2012"
    },
    {
        "msgid": "6",
        "title": "test message ",
        "dt": "12-OCT-2012"
    },
    {
        "msgid": "7",
        "title": "test message ",
        "dt": "01-OCT-2012"
    }
] 
```

如何使用 JSON 解析将此数据获取到 Android 中的应用程序？这个数据的java代码是什么，你能帮我吗....plz....

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T08:28:14.150

公共类 Original_list 扩展活动 {

```
 TextView web;
 ArrayList<String>  id1,question1 ;
@Override
protected void onCreate(Bundle savedInstanceState) {
    // TODO Auto-generated method stub
    super.onCreate(savedInstanceState);
    setContentView(R.layout.list);
 web = (TextView)findViewById(R.id.web1);
 id1 = new ArrayList<String>();
 question1= new ArrayList<String>();
try {
    JSONArray jary = new JSONArray(readTxt());
    for(int i = 0 ;i<=jary.length();i++)
    {
        JSONObject jread = jary.getJSONObject(i);
        String   id = jread.getString("question");
        Log.d("value of id", ""+id);
        id1.add(id);
        String name = jread.getString("answer");
        Log.d("value of id", ""+id);
        question1.add(name);
        Log.e("id","question is"+id);
      Log.e("id","question is"+name);
    }
} catch (JSONException e) {
    // TODO Auto-generated catch block
    e.printStackTrace();
}   
 web.setText(""+id1+""+question1);
    web.setMovementMethod(new ScrollingMovementMethod());
}

private String readTxt(){

         InputStream inputStream = getResources().openRawResource(R.raw.details);

         ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();

         int i;
      try {
       i = inputStream.read();
       System.out.println("what"+i);
       while (i != -1)
          {
           byteArrayOutputStream.write(i);
           i = inputStream.read();
           System.out.println("what_next"+i);
          }
          inputStream.close();
      } catch (IOException e) {
       // TODO Auto-generated catch block
       e.printStackTrace();
      }

         return byteArrayOutputStream.toString();
        } 
```

}

# php - PHP 类型提示以允许 Array 或 ArrayAccess

> ID：14806696
> 
> 赞同：17
> 
> 时间：2013-02-11T05:58:56.010
> 
> 标签：php, type-hinting, union-types, arrayaccess

是否可以允许实现 ArrayAccess 的 Array 或对象？

例如：

```
class Config implements ArrayAccess {
    ...
}

class I_Use_A_Config
{
    public function __construct(Array $test)
    ...
} 
```

我希望能够传入 Array 或 ArrayAccess。

除了手动检查参数类型之外，有没有一种干净的方法可以做到这一点？

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-02-11T06:45:11.777

不，没有“干净”的方式来做到这一点。

该`array`类型是*原始类型*。实现`ArrayAccess`接口的对象基于类，也称为*复合类型*。没有包含两者的类型提示。

由于您使用的`ArrayAccess`是数组，因此您可以将其转换。例如：

```
$config = new Config;
$lol = new I_Use_A_Config( (array) $config); 
```

如果这不是一个选项（您想按`Config`原样使用对象），那么只需删除类型提示并检查它是数组还是`ArrayAccess`. 我知道你想避免这种情况，但这没什么大不了的。这只是几行，当一切都说完了，无关紧要。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2021-02-17T09:52:17.227

**PHP 8.0+**

您可以使用 和 的`array`并集`ArrayAccess`。

```
class I_Use_A_Config
{
    public function __construct(array|ArrayAccess $test)
    ...
} 
```

*   [https://www.php.net/manual/en/language.types.declarations.php#language.types.declarations.union](https://www.php.net/manual/en/language.types.declarations.php#language.types.declarations.union)
*   [https://wiki.php.net/rfc/union_types](https://wiki.php.net/rfc/union_types)

# android - 谷歌地图活动

> ID：14806701
> 
> 赞同：0
> 
> 时间：2013-02-11T05:59:24.417
> 
> 标签：android, android-mapview, android-maps, android-maps-v2

我想在我的应用程序中使用地图活动，我不知道如何处理 Google Map API v2。

如何生成 API 密钥和全部？现在我的应用程序无法使用正常的意图代码。

```
Intent intent = new Intent(this,GeoMap.class);
        startActivity(intent); 
```

像这样的Android清单条目

```
 <uses-permission android:name="android.permission.INTERNET" />
    <uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
    <uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION" />
    <uses-permission android:name="android.permission.ACCESS_MOCK_LOCATION" />

    <application
        android:icon="@drawable/ic_launcher"
        android:label="@string/app_name" >
        <activity android:name=".HomeTab" >
            <intent-filter >
                <action android:name="android.intent.action.MAIN" />

                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
        <activity android:name=".HomeActivity" />
        <activity android:name=".SearchActivity" />
        <activity android:name=".GeoMap" >
        </activity>
    </application>

</manifest> 
```

请帮我。谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T06:19:06.370

在提出问题之前，我认为您应该查看常见问题解答。当你先问谷歌时，它应该会给你一些答案。

无论如何，请查看 MAP API V2 的分步教程：[适用于 Android 的 Google Maps API v2](http://www.vogella.com/articles/AndroidGoogleMaps/article.html)

为了获得 API 密钥，这个简单的工具可能会对您有所帮助： [JavaKeytoolGUI Beta 2](http://www.softpedia.com/get/Security/Security-Related/JavaKeyToolGUI.shtml)

# jquery-mobile - jQuery Mobile 中的子标题？

> ID：14806703
> 
> 赞同：0
> 
> 时间：2013-02-11T05:59:28.080
> 
> 标签：jquery-mobile, popup

创建一个带有[header的](http://jquerymobile.com/demos/1.2.0/docs/toolbars/docs-headers.html)[jQuery Mobile 弹出窗口](http://jquerymobile.com/demos/1.2.0/docs/pages/popup/index.html)，默认效果很好（我想有一天解决那个非圆形的左上角）：

```
<div data-role="header">
  <h1>Useful Header</h1>
</div> 
```

**添加子标题**的正确方法是什么？子标题，我的意思是像标题一样的文本，但更小，可能在标题和子标题之间有一个小的边距。

谷歌没有多大帮助，这种天真的尝试失败了：

```
<div data-role="header">
  <h1>Useful Header</h1>
  <h6>Simple Sub-header</h6>
</div> 
```

![丑陋的副标题](../Images/0cfe3c8a8cda815c04b511956422aea6.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T06:17:27.147

这是一种使用 CSS 获得所需布局的方法：

```
<div data-role="header">
  <h1>Useful Header</h1>
  <p class="popup-subheader">Simple Sub-header</p>
</div> 
```

```
.popup-subheader {
  text-align: center;
  margin-top: -5px;
  margin-bottom: 6px;
  font-size: smaller;
  font-weight: normal;
} 
```

# r - 在 R 中手动下载和安装包

> ID：14806705
> 
> 赞同：34
> 
> 时间：2013-02-11T05:59:35.390
> 
> 标签：r

我目前正在尝试在计算集群上运行一些 R 代码，但`install.packages`由于集群上的一些奇怪的防火墙设置而无法运行该功能。由于我只在我的 R 代码中使用了几个包，我希望`install.packages`通过手动下载和安装包来避免使用该功能。

注意：我知道有一种方法可以通过使用 HTTP 代理来避免此问题，如 R FAQ 中所述。不幸的是，负责我的集群的人在设置它时没有帮助，所以我不得不考虑这种替代方法。

理想情况下，我想将包文件从 CRAN 下载到我的计算机，然后将这些文件上传到集群并使用 R 中的适当命令安装它们。此外，我还想确保将包安装到我选择的位置，因为我没有在默认 R 目录中“写入”的权限（我相信我可以通过使用该`.libPaths`函数在 R 中执行此操作）

最后，我在集群上使用的计算机是 Unix x86_64。

* * *

## 回答 #1

> 赞同：32
> 
> 时间：2013-02-11T06:09:15.113

您可以使用以下命令手动安装软件包

`install.packages('package.zip', lib='destination_directory',repos = NULL)`

请参阅 的帮助以`?install.packages`获取更多说明

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2018-08-12T12:38:02.870

我在安装 caret 包时也遇到了同样的问题， caret 包有很多依赖项。所以，我做了以下

install.packages('caret') 这为所有 zip 格式的包提供下载位置，错误消息中显示。将所有包从下载源解压缩到某个位置，例如在 'C:/PublicData/RawRPackages' 中，然后运行以下命令。

```
foldername<-'C:/PublicData/RawRPackages'
install.packages(paste(foldername , 'caret',sep='/'), repos = NULL, type="source")
library(caret, lib.loc=foldername) 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2018-04-21T09:58:21.663

如果我们想在本地下载和安装，这是更好的方法：

```
download.packages('lib_name',destdir='dest_path') 
```

例如 ：

```
download.packages('RJDBC',destdir='d:/rlibs') 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-04-20T19:36:28.607

```
install.packages("libname",lib = "file://F:/test") 
```

# c# - 从响应标头中提取 cookie 信息 C#

> ID：14806707
> 
> 赞同：1
> 
> 时间：2013-02-11T06:00:06.133
> 
> 标签：c#, cookies, http-headers, httpresponse, httpwebresponse

我有一些在响应头中可用的信息。一种方法是为它提出一个正则表达式......还有另一种方法可以解决这个问题吗？

这是标题信息：

```
Headers = {Cneonction: close
Content-Length: 87
Content-Type: application/json;charset=utf-8
Date: Mon, 11 Feb 2013 05:51:37 GMT
Expires: Thu, 01-Jan-1970 00:00:00 GMT
Set-Cookie: FUTWebPhishing-123456789=123456aavbc12334564856;Path=/;Domain=.ea.com;Expires=Wed, 1... 
```

我想要 FUTWebPhishing 的价值。有什么想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T08:30:55.837

您可以 string.Split(';') 获取 Set-Cookie 标头的值，然后找到包含“FUTWebPhishing”的元素。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T06:02:41.123

关于这个问题有一个关于SO的讨论

一探究竟：

[GetCookie 提取信息到字符串](https://stackoverflow.com/questions/11378467/getcookie-extract-information-to-a-string)

# java - 应用程序在 Mac OS X 上使用 Apple 的 Java 6 而不是 Oracle 的 Java 7？

> ID：14806709
> 
> 赞同：35
> 
> 时间：2013-02-11T06:00:15.390
> 
> 标签：java, macos, bundle, java-7

我正在使用安装了 Oracle 的 Java 7 的 Mac OS X 测试我当前的应用程序。它使用的是 Apple 的 Java 6，而不是使用 Oracle 的 Java 7。的默认系统输出`java -version`是显示`7`。

我尝试了不同站点中提到的大部分内容，但无法解决此问题。

`JAVA_HOME`也设置得当。

我仅将 Mac 用于测试目的。我真的需要一些指导。

当我通过选择 JRE 7 使用 Eclipse 运行它时，它运行正常。因此，应用程序没有任何问题。我在 Mac OS X 上遗漏了一些东西。

我的 Java 系统环境如下所示：

*   OS X 版本

    `10.8`

*   `/usr/libexec/java_home -V`

    ```
    Matching Java Virtual Machines (3):
    1.7.0_12, x86_64: "Java SE 7" /Library/Java/JavaVirtualMachines/jdk1.7.0_12.jdk   
    1.6.0_37-b06-434, x86_64: "Java SE 6" /System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Home
    1.6.0_37-b06-434, i386: "Java SE 6" /System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Home

    /Library/Java/JavaVirtualMachines/jdk1.7.0_12.jdk/Contents/Home 
    ```

*   `/usr/libexec/java_home`

    ```
    /Library/Java/JavaVirtualMachines/jdk1.7.0_12.jdk/Contents/Home 
    ```

*   `echo $JAVA_HOME`

    ```
    /Library/Java/JavaVirtualMachines/jdk1.7.0_12.jdk/Contents/Home/ 
    ```

*   `JAVA_ARCH`未设置

*   `/Library/Internet\ Plug-Ins/JavaAppletPlugin.plugin/Contents/Home/bin/java -version`

    ```
    java version "1.7.0_12-ea" 
    ```

*   `ls /Library/Java/JavaVirtualMachines`

    ```
    jdk1.7.0_12.jdk 
    ```

*   `/System/Library/Frameworks/JavaVM.framework/Commands/java -version`

    ```
    java version "1.6.0_37" 
    ```

我想我当前的 JDK 指向错误。

* * *

## 回答 #1

> 赞同：90
> 
> 时间：2013-03-07T12:37:43.327

## 问题

您的 Mac OS X 应用程序包是使用与 Oracle 的 Java 7 包不兼容的应用程序捆绑器创建的。例如，您使用的捆绑器可能`Jar Bundler`由 Apple 提供，它仅适用于 Apple 的 Java 6 系统包。

从 Java 7 及更高版本开始，Apple 已放弃对 Java 作为集成系统包的支持。因此，您必须选择 Oracle Java 7 第三方包及其应用程序包捆绑解决方案。这允许您在 Mac OS X 10.7.3 及更高版本上创建和部署基于 Oracle Java 7 的应用程序包。

您面临的潜在技术问题是 Apple 基于本机`Objective-C`的`JavaAppLauncher`二进制文件，它使用的格式`Info.plist`仅适用于 Apple 的 Java 6 System Packages，而`JavaAppLauncher` `Info.plist`来自 Oracle 的组合仅适用于 Oracle 的 Java 7 Packages。

当您使用`JavaAppLauncher`支持 Apple 的 Java 6 系统包时，它将始终选择安装在您的 Mac 上的 Apple Java 6 系统包。

有一个[视频](http://www.parleys.com/#st=5&id=2891&sl=37)，Oracle 的 Java 平台 Mac OS X 端口的首席工程师 Scott Kovatch 在 DEVOXX 上详细讨论了 Oracle Java 7 的应用程序捆绑是如何工作的。

## 解决方案

创建基于 Mac OS X 10.7.3 及更高版本的应用程序包

*   [Oracle 的 Java SE 7 (JRE 1.7.x)](http://docs.oracle.com/javase/7/docs/webnotes/install/mac/mac-jdk.html)
*   [OpenJDK Java SE 7 (JRE 1.7.x)](http://openjdk.java.net/projects/macosx-port/)

及以上，您必须使用 Oracle 的 app bundler

*   [`lib/appbundler-1.0.jar`](http://java.net/projects/appbundler/downloads/download/appbundler-1.0.jar)包含 Ant 任务[`com.oracle.appbundler.AppBundlerTask`](http://java.net/downloads/appbundler/appbundler.html)

使用 Oracle 的应用程序捆绑器，您现在可以选择使用安装在 Mac 上的默认 Oracle Java 7 包来运行打包的应用程序：

*   `/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/`

或您在打包应用程序中内联的 Oracle Java 7 JRE

*   `MyJavaMacOSXApp.app/Contents/PlugIns/`

注意：这两种方法各有利弊，但如果您想使用捆绑的应用程序访问 Apple App Store，则需要最后一种方法和您自己的 JRE。

## 需要做什么

*   下载[`appbundler-1.0.jar`](http://java.net/projects/appbundler/downloads/download/appbundler-1.0.jar)并移动到`<project>/lib/appbundler-1.0.jar`
*   将以下内容添加到您的`<project>/build.xml`

    ```
    <property environment="env" />

    <taskdef 
        name="bundleapp" 
        classname="com.oracle.appbundler.AppBundlerTask" 
        classpath="lib/appbundler-1.0.jar" />

    <target name="bundle">
        <bundleapp 
            outputdirectory="dist" 
            name="MyJavaMacOSXApp" 
            displayname="My Java Mac OS X App" 
            identifier="com.example.MyJavaMacOSXApp" 
            shortversion="1.0"
            applicationCategory="public.app-category.developer-tools"
            mainclassname="com.example.MyJavaMacOSXApp">
            <runtime dir="${env.JAVA_HOME}" />
            <classpath file="dist/MyJavaMacOSXApp.jar" />
        </bundleapp>
    </target> 
    ```

    注意：您需要替换`MyJavaMacOSXApp`为您的应用程序数据。您可以在[此处](http://java.net/downloads/appbundler/appbundler.html)找到一些其他`AppBundlerTask`选项，因为此示例仅以最简单的形式显示它是如何工作的。

*   运行`bundle`目标后，`ant bundle`您将`MyJavaMacOSXApp.app`在`<project>/dist`目录中找到。

### `<runtime dir="${env.JAVA_HOME}" />`元素是什么？

*内联 Oracle Java 7 包 (JRE)*

上面的 Ant 目标从您的

*   `JAVA_HOME`

进入

*   `MyJavaMacOSXApp.app/Contents/PlugIns`

因此，应用程序包是完全独立的，根本不需要在目标系统上安装 Oracle Java 7 包 (JRE)。就像您在以下已部署的屏幕截图中看到的那样`MyJavaMacOSXApp.app`：

![MyJavaMacOSXApp 内联 JRE](../Images/99435993f856a92b3cea9b191c103f55.png)

*连接默认 Oracle Java 7 包 (JRE)*

如果要使用安装在应用程序包目标 Mac 下的默认 Oracle Java 7 包 (JRE)

*   `/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/`

你必须删除

*   `<runtime dir="${env.JAVA_HOME}" />`

任务中的元素`bundle`。就像您在以下已部署的屏幕截图中看到的那样`MyJavaMacOSXApp.app`：

![MyJavaMacOSXApp 内联 JRE](../Images/2a6cb3e2890fb6ed9bc0cd84c6d77347.png)

来源`MyJavaMacOSXApp.java`

```
package com.example;

import java.awt.*;
import javax.swing.*;

public class MyJavaMacOSXApp extends JPanel {

    public MyJavaMacOSXApp() {
        JLabel versionLabel = new JLabel("java.version=" + System.getProperty("java.version"));
        JLabel homeLabel = new JLabel("java.home=" + System.getProperty("java.home"));
        setLayout(new BorderLayout());
        add(versionLabel, BorderLayout.PAGE_START);
        add(homeLabel, BorderLayout.PAGE_END);
    }

    private static void createAndShowGUI() {
        JFrame frame = new JFrame("MyJavaMacOSXApp");
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        MyJavaMacOSXApp newContentPane = new MyJavaMacOSXApp();
        newContentPane.setOpaque(true); 
        frame.setContentPane(newContentPane);
        frame.pack();
        frame.setVisible(true);
    }

    public static void main(String[] args) {
        SwingUtilities.invokeLater(new Runnable() {
            public void run() {
                createAndShowGUI();
            }
        });
    }
} 
```

### 如果我的应用有多个 jar 文件怎么办？

只需根据需要添加尽可能多的`<classpath file="dist/additional.jar" />`条目。

注意：捆绑任务中的元素顺序不会在捆绑应用程序的运行时保留。由本`java.class.path`机在运行时构建，因为它从目录`JavaAppLauncher`中读取`*.jar`s 。`MyJavaMacOSXApp.app/Contents/Java`

* * *

为了完整起见，这`Info.plist`看起来像：

```
<?xml version="1.0" ?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
    <dict>
        <key>CFBundleDevelopmentRegion</key>
        <string>English</string>
        <key>CFBundleExecutable</key>
        <string>JavaAppLauncher</string>
        <key>CFBundleIconFile</key>
        <string>GenericApp.icns</string>
        <key>CFBundleIdentifier</key>
        <string>com.example.MyJavaMacOSXApp</string>
        <key>CFBundleDisplayName</key>
        <string>My Java Mac OS X App</string>
        <key>CFBundleInfoDictionaryVersion</key>
        <string>6.0</string>
        <key>CFBundleName</key>
        <string>MyJavaMacOSXApp</string>
        <key>CFBundlePackageType</key>
        <string>APPL</string>
        <key>CFBundleShortVersionString</key>
        <string>1.0</string>
        <key>CFBundleSignature</key>
        <string>????</string>
        <key>CFBundleVersion</key>
        <string>1</string>
        <key>NSHumanReadableCopyright</key>
        <string></string>
        <key>LSApplicationCategoryType</key>
        <string>public.app-category.developer-tools</string>
        <key>JVMRuntime</key>
        <string>jdk1.7.0_17.jdk</string>
        <key>JVMMainClassName</key>
        <string>com.example.MyJavaMacOSXApp</string>
        <key>JVMOptions</key>
        <array>
        </array>
        <key>JVMArguments</key>
        <array>
        </array>
    </dict>
</plist> 
```

此答案基于的重要文件：

1.  [http://docs.oracle.com/javase/7/docs/technotes/guides/jweb/packagingAppsForMac.html](http://docs.oracle.com/javase/7/docs/technotes/guides/jweb/packagingAppsForMac.html)
2.  [http://java.net/projects/appbundler/pages/Home](http://java.net/projects/appbundler/pages/Home)
3.  [http://java.net/downloads/appbundler/appbundler.html](http://java.net/downloads/appbundler/appbundler.html)
4.  [http://intransitione.com/blog/take-java-to-app-store/](http://intransitione.com/blog/take-java-to-app-store/)
5.  [http://www.parleys.com/#st=5&id=2891&sl=37](http://www.parleys.com/#st=5&id=2891&sl=37)

appbundle 本身也有一个维护良好的分支，具有更多功能和错误修复。

*   [https://bitbucket.org/infinitekind/appbundler](https://bitbucket.org/infinitekind/appbundler)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-11T06:14:32.620

应用程序所需的 Java 版本可能在应用程序的元数据中指定。如果您右键单击应用程序并选择*显示包内容*并浏览到`Info.plist`文件，您应该会找到定义应用程序将使用的 JVM 的条目。例如

```
 <key>JVMVersion</key>
    <string>1.5</string> 
```

如果应用程序请求它，OSX 可能会选择使用较低的 JVM。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-03-07T10:53:36.527

你的系统不是最新的。我并不是说这会导致您的问题。但为了安全起见，我将扮演最新和最伟大的角色。

1.  通过系统更新角色您的系统，您在 Mac OS X 10.8.2 上
2.  [从 Apple aka Java for OS X 2013-002](http://support.apple.com/kb/dl1572)安装新的 JRE 1.6.0_43
3.  [从 Apple aka Java for OS X 2013-002 Developer Package Mar 4, 2013](https://developer.apple.com/downloads/index.action#)安装新的 JDK 1.6.0_43 。为了获得 Apple JDK，您必须在此处使用您的 Apple ID（免费开发者帐户）登录并搜索术语“Java for OS X 2013-002 Developer Package”。不幸的是，该软件包没有直接链接。
4.  删除您过时的 Oracle JDK `sudo rm -rf /Library/Java/JavaVirtualMachines/jdk1.7.0_12.jdk`：. 注意：这是安全的，因为下一步我们将安装当前的 Oracle JDK 1.7.0_17。
5.  下载并安装[适用于 Mac OS X 的 Oracle JDK 1.7.0_17](http://www.oracle.com/technetwork/java/javase/downloads/jdk7-downloads-1880260.html)。注意：这也包括来自 Oracle 的 JRE 1.7.0_17。
6.  重新启动。

完成上述所有步骤后，请再次提出以下输出：

1.  您使用哪个 OS X 版本？
2.  什么转储了命令`/usr/libexec/java_home -V`？
3.  什么转储了命令`/usr/libexec/java_home`？
4.  什么转储了命令`echo $JAVA_HOME`？
5.  什么转储了命令`echo $JAVA_ARCH`？
6.  什么转储了命令`/Library/Internet\ Plug-Ins/JavaAppletPlugin.plugin/Contents/Home/bin/java -version`？
7.  什么转储了命令`ls /Library/Java/JavaVirtualMachines`？
8.  什么转储了命令`/System/Library/Frameworks/JavaVM.framework/Commands/java -version`？

只需记录您在原始问题中所做的步骤和努力。所以它反映了你的进步。

***更新：***解决方案是使用 Oracles 创建一个 Mac OS X 应用程序包[`AppBundlerTask`](http://java.net/projects/appbundler/pages/Home)。有关详细信息，请参阅我的其他答案： [https ://stackoverflow.com/a/15271448](https://stackoverflow.com/a/15271448)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-07-31T05:00:56.787

编辑：Uwe 令人印象深刻的答案对于使用 AppLauncher 的 OP 来说是绝对正确的。我对这个问题的初步阅读是它与使用 Java 6 和 Java 7 的 OSX 上的命令行问题有关。对原始问题的*评论表明我错了。*但是，任何有命令行问题的人都可能会发现以下更简单的解决方案。

原文：我的情况似乎与我认为的 OP 相同：Java 1.7 在命令行上完美，但`mvn`失败并抱怨 1.6，使用`sbt`IntelliJ 的一般编译工作正常。我只是开始在使用`mvn`.

我发现这很好用并且更简单：

[http://www.jayway.com/2013/03/08/configuring-maven-to-use-java-7-on-mac-os-x/](http://www.jayway.com/2013/03/08/configuring-maven-to-use-java-7-on-mac-os-x/)

我需要的只是.profile中的以下内容：

```
export JAVA_HOME=`/usr/libexec/java_home -v 1.7` 
```

设置该变量并`mvn`运行良好。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2014-11-04T12:49:37.617

尝试安装这个：

[http://support.apple.com/kb/dl1572](http://support.apple.com/kb/dl1572)

InteliJ 工作得很好，而我仍在使用例如 NetBeans 的 Java SE 7。

```
java -version
java version "1.7.0_51"
Java(TM) SE Runtime Environment (build 1.7.0_51-b13)
Java HotSpot(TM) 64-Bit Server VM (build 24.51-b03, mixed mode) 
```

# android - Android：RadioGroup.OnCheckedChangeListener 在我的应用程序中不起作用

> ID：14806711
> 
> 赞同：1
> 
> 时间：2013-02-11T06:00:18.883
> 
> 标签：android, radio-button, radio-group

我正在通过使用这个 Github 项目[https://github.com/ysamlan/horizo](https://github.com/ysamlan/horizontalpager) ​​ntalpager 来使用水平寻呼机 。这工作正常并执行水平交换。但在我的项目中，我动态添加了布局、按钮和单选按钮。单选按钮在静态放置时会在水平分页上更改其状态，但我已将它们动态放置，因此`RadioGroup.OnCheckedChangeListener`无法正常工作。

**我的主要课程是**

```
package com.PointofSale;

import java.util.List;
import database.in.*;
import android.app.Activity;
import android.database.Cursor;
import android.os.Bundle;
import android.support.v4.view.ViewPager.LayoutParams;
import android.util.Log;
import android.view.View;
import android.view.ViewGroup;
import android.widget.Button;
import android.widget.DigitalClock;
import android.widget.LinearLayout;
import android.widget.RadioButton;
import android.widget.RadioGroup;
import android.widget.RelativeLayout;

public class SalesActivity extends Activity{
    private HorizontalPager mPager;
    private RadioGroup mRadioGroup;
    com.PointofSale.HorizontalPager horizontalPager;
    ProductDbHandler prodDbHand;
    Cursor mCursor;
    RelativeLayout deptSysKeys;
    RadioButton[] rb;
    int number_Of_Pages;
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.sale_layout);
        DigitalClock dc = (DigitalClock) findViewById(R.id.digitalClock1);
        prodDbHand=new ProductDbHandler(this);
        mPager=(HorizontalPager)findViewById(R.id.horizontal_pager);
        mRadioGroup=(RadioGroup)findViewById(R.id.radioGroup);
        deptSysKeys=(RelativeLayout)findViewById(R.id.DeptKeyslayout);
        List<GetDeptInfo> getDept = prodDbHand.getAllDept();  
        int deptSize=getDept.size();
        number_Of_Pages=(deptSize/5+1);
        rb = new RadioButton[number_Of_Pages];
        ((ViewGroup)mRadioGroup.getParent()).removeView(mRadioGroup);
        for(int i=0; i<number_Of_Pages; i++){
            rb[i]  = new RadioButton(this);
            //rb[1].setChecked(true);
            rb[i].setId(i);
            mRadioGroup.addView(rb[i]); //the RadioButtons are added to the radioGroup instead of the layout
        }
        rb[0].setChecked(true);
        deptSysKeys.addView(mRadioGroup);//you add the whole RadioGroup to the layout
        final LinearLayout[] keysLayout=new LinearLayout[number_Of_Pages];
        com.PointofSale.HorizontalPager.LayoutParams llp = new  com.PointofSale.HorizontalPager.LayoutParams(LayoutParams.WRAP_CONTENT, LayoutParams.WRAP_CONTENT); 
        Button[] deptBtn=new Button[deptSize];
        int[] DeptId=new int[deptSize];
        String[] DeptName=new String[deptSize];
        int k=0;
        int a=0;
        for(int i=0;i<number_Of_Pages;i++){
            keysLayout[i]=new LinearLayout(this);
            keysLayout[i].setOrientation(LinearLayout.HORIZONTAL);
            keysLayout[i].setId(i);
            System.out.println("LinerLayout Created:"+i);
            keysLayout[i].setLayoutParams(llp);
            for(int j=a;j<deptSize;j++){
                deptBtn[j]=new Button(this);
                deptBtn[j].setText(getDept.get(j).getName());
                System.out.println("Departments:"+getDept.get(j).getName());
                deptBtn[j].setId(getDept.get(j).getID());
                keysLayout[i].addView(deptBtn[j]);
                k++;
                if(k==5){
                    break;
                }
            }
            k=0;
            a=a+5;
            mPager.addView(keysLayout[i]);
        } 
    } 
    private final HorizontalPager.OnScreenSwitchListener onScreenSwitchListener =
            new HorizontalPager.OnScreenSwitchListener() {
                @Override
                public void onScreenSwitched(final int screen) {
                    // Check the appropriate button when the user swipes screens.
                    /*switch (screen) {

                        case 0:
                            mPager.setCurrentScreen(0, true);
                           // mRadioGroup.check(R.id.rg[0]);
                            break;
                        case 1:
                            mPager.setCurrentScreen(1, true);
                          // mRadioGroup.check(R.id.radio_btn_1);
                            break;
                        case 2:
                            mPager.setCurrentScreen(2, true);
                            //mRadioGroup.check(R.id.radio_btn_2);
                            break;
                        default:
                            break;
                    }*/

                    for(int i=0; i<number_Of_Pages;i++){
                        if(screen==i){
                            mPager.setCurrentScreen(i, true);
                            //RadioButton btn = (RadioButton) mRadioGroup.getChildAt(i);
                            mRadioGroup.check(rb[i].getId());
                            System.out.println("Radio Button ID:"+rb[i].getId());
                        }
                    }
                }
            };

          private final RadioGroup.OnCheckedChangeListener onCheckedChangedListener =
            new RadioGroup.OnCheckedChangeListener() {
                @Override
                public void onCheckedChanged(final RadioGroup group, final int checkedId) {
                    // Slide to the appropriate screen when the user checks a button.
                     /*switch (checkedId) {
                        case btn.getId():
                            mPager.setCurrentScreen(0, true);
                            break;
                        case btn.getId():
                            mPager.setCurrentScreen(1, true);
                            break;
                        case btn.getId():
                            mPager.setCurrentScreen(2, true);
                            break;
                        default:
                            break;
                    }*/
                    for(int i=0; i<number_Of_Pages;i++){
                        if(checkedId==i){
                            mPager.setCurrentScreen(i, true);

                        }
                    }

                }
            };

} 
```

更改单选按钮状态的代码静态代码在上面注释。向我建议一些我错的地方，并获得任何帮助。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-11T07:48:06.943

尝试这个：

```
RadioGroup rdGroup = (RadioGroup) findViewById(R.id.rdbGp1);
            rdGroup.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener() {

                @Override
                public void onCheckedChanged(RadioGroup group, int checkedId) {
                    // TODO Auto-generated method stub

                }
            }); 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-11T07:41:56.793

你不调用`setOnCheckedChangeListener`你的`RadioButton`对象

```
 for(int i=0; i<number_Of_Pages; i++){
        rb[i]  = new RadioButton(this);           
        rb[i].setId(i);

        // Add this line to register your onCheckedChangedListener handler
        rb[i].setOnCheckedChangeListener(onCheckedChangedListener);
        mRadioGroup.addView(rb[i]); //the RadioButtons are added to the radioGroup instead of the layout
   } 
```

# google-maps-api-3 - 在 infowindows 中添加选项卡（googlemaps api、google fusion tables - kml import）

> ID：14806713
> 
> 赞同：0
> 
> 时间：2013-02-11T06:00:54.260
> 
> 标签：google-maps-api-3, google-fusion-tables, infowindow

我觉得我正在接近但在这里错过了一些东西。我的源（多边形）数据在融合表中，我想创建一个 2 选项卡信息窗口并将表中的数据调用到其中。看过一堆例子（见：[https](https://fusion-tables-users-group.googlegroups.com/attach/ec0975e69edcfb96/infowindow_tabs_5.html?pli=1&view=1&part=4) ://fusion-tables-users-group.googlegroups.com/attach/ec0975e69edcfb96/infowindow_tabs_5.html?pli=1&view=1&part= 4 一个），所以我希望这是可行的...

我的代码（来自初始化函数）如下。现在，我正在尝试专门从“ROOF_TOTAL”字段中查询值（使用 e.row）以放入选项卡 1（用于初始测试目的）。

```
 function initialize() {
// set the geocoder variable equal to the instance of the google maps geocoder object
    geocoder = new google.maps.Geocoder();
//declare variables for map set up 
    map  = new google.maps.Map (document.getElementById('hatfield_map'), {
      center: new google.maps.LatLng(42.37098, -72.59818),
      zoom: 17,
      mapTypeId: google.maps.MapTypeId.ROADMAP
    });
// Set up a styles array to fill in color for the different polygon types based on the query
// of the value 'TYPE' in the FusionTable...        
    var layer = new google.maps.FusionTablesLayer({
          query:{
            select: 'geometry',
            from: 'TABLE-ID'
          },
//            suppressInfoWindows: true
// Set up the stroke color and opacity of all polygons...
          styles: [{
            polygonOptions: {
               strokeColor: '#00ffff',
               strokeOpacity: .4,
               strokeWeight: .5
            }]
    suppressInfoWindows: true
        });
    var infowindow = new google.maps.InfoWindow({
    });
// create a custom infowindow, Add a click listener that creates a new infowindow
    google.maps.event.addListener(layer, "click", function(e) {
         '<ul style="font-size:12px;">' +
         '<li><a href="#tab-1"><span>Potential Power Capacity</span>      
</a></li>' +
         '<li><a href="#tab-2"><span>Two</span></a></li>' + 
     '</ul>' +
         '<div id="tab-1">' +
         '<p>' + e.row['TOTAL_ROOF'].value + "  "+ '</p>' +
         '</div>';
         infowindow.setContent(contentString);
         infowindow.setPosition(e.latLng);
//Infowindow-opening event handler
         infowindow.open(map);
         $(".tabs").tabs();
       });
    layer.setMap(map);
} 
```

# ruby-on-rails - 为 vim 7 添加 textmate 主题

> ID：14806714
> 
> 赞同：1
> 
> 时间：2013-02-11T06:00:58.740
> 
> 标签：ruby-on-rails, vim, themes, textmate

我正在尝试将 textmate 颜色主题添加到我的 vim 编辑器

我`railscast.vim`从[https://github.com/jpo/vim-railscasts-theme](https://github.com/jpo/vim-railscasts-theme)获得并下载到

```
~/.vim/colors/railscast.vim 
```

在我的`~/.vimrc`我添加了以下行

```
colorscheme railscasts 
```

我没有任何`~/.vimrc.after`文件

但似乎主题没有正确应用（请看截图），

![在此处输入图像描述](../Images/656f889541bd6e61fc6d72e6d8daf5f4.png)

我做错了什么还是有人可以指出我的好资源

我在用着`vim version 7.2.411`

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T06:42:25.503

[vim.wikia.com/wiki/256_colors_in_vim](http://vim.wikia.com/wiki/256_colors_in_vim)可能会有所帮助。

[http://www.calmar.ws/vim/256-xterm-24bit-rgb-color-chart.html](http://www.calmar.ws/vim/256-xterm-24bit-rgb-color-chart.html)，这也有助于使用`cterm`选项进行颜色自定义。

# php - 使用 PHP 显示来自 MySQL 的分组地址数据

> ID：14806716
> 
> 赞同：0
> 
> 时间：2013-02-11T06:01:21.780
> 
> 标签：php, mysql, grouping

我知道这可能很简单，但我是 PHP 和 MySQL 开发的新手，所以我很感激一些帮助。我在 Stack 上找不到我可以理解的现有示例，因此我将其发布在那里，希望得到一些指导。

我有一个包含地址信息的数据库表。我将地址分成两个字段，house_number 和 street_name，我需要做的是显示按街道名称分组的信息，然后按门牌号排序。

我已经模拟了一个我需要页面外观的示例。它在第一列中具有偶数地址，在第二列中具有奇数地址。我正在使用 Twitter Bootstrap 进行格式化。

```
$address = mysql_query("SELECT id, house_number, street_name, full_address FROM resident WHERE neighborhood_id = $neighborhood_id order by street_name, house_number;"); 
```

**它应该是什么样子**

![在此处输入图像描述](../Images/d5c136a1fd7416e0a91c5d7ab60a0792.png)

下面的 HTML 代码：

```
<!--STREET GROUPING -->
    <div class="row-fluid">
        <div class="span12">
        <h3>ASHTON PARK WAY</h3>
        </div>
    </div >

    <div class="row-fluid">
        <div class="span6"><!-- EVEN ADDRESSES -->
            <a href="#" class="btn btn-large btn-white btn-block">18102 Ashton Park Way</a>
            <a href="#" class="btn btn-large btn-white btn-block">18104 Ashton Park Way</a>
            <a href="#" class="btn btn-large btn-white btn-block">18106 Ashton Park Way</a>
            <a href="#" class="btn btn-large btn-white btn-block">18108 Ashton Park Way</a>
            <a href="#" class="btn btn-large btn-white btn-block">18110 Ashton Park Way</a>
            <a href="#" class="btn btn-large btn-white btn-block">18112 Ashton Park Way</a>
            <a href="#" class="btn btn-large btn-white btn-block">18114 Ashton Park Way</a>
            <a href="#" class="btn btn-large btn-white btn-block">18116 Ashton Park Way</a>
        </div><!-- END EVEN ADDRESSES -->

        <div class="span6"><!-- ODD ADDRESSES -->
            <a href="#" class="btn btn-large btn-white btn-block">18101 Ashton Park Way</a>
            <a href="#" class="btn btn-large btn-white btn-block">18103 Ashton Park Way</a>
            <a href="#" class="btn btn-large btn-white btn-block">18105 Ashton Park Way</a>
            <a href="#" class="btn btn-large btn-white btn-block">18107 Ashton Park Way</a>
            <a href="#" class="btn btn-large btn-white btn-block">18109 Ashton Park Way</a>
            <a href="#" class="btn btn-large btn-white btn-block">18111 Ashton Park Way</a>
            <a href="#" class="btn btn-large btn-white btn-block">18113 Ashton Park Way</a>
        </div><!-- END ODD ADDRESSES -->

    </div>
<!-- END STREET GROUPING -->

    <hr>

<!--STREET GROUPING -->
    <div class="row-fluid">
        <div class="span12">
        <h3>HAMDEN PARK WAY</h3>
        </div>
    </div >

    <div class="row-fluid">
        <!-- EVEN ADDRESSES -->
        <div class="span6">
            <a href="#" class="btn btn-large btn-white btn-block">18102 Hamden Park Way</a>
            <a href="#" class="btn btn-large btn-white btn-block">18104 Hamden Park Way</a>
            <a href="#" class="btn btn-large btn-white btn-block">18106 Hamden Park Way</a>
            <a href="#" class="btn btn-large btn-white btn-block">18108 Hamden Park Way</a>
            <a href="#" class="btn btn-large btn-white btn-block">18110 Hamden Park Way</a>
            <a href="#" class="btn btn-large btn-white btn-block">18112 Hamden Park Way</a>
        </div>
        <!-- END EVEN ADDRESSES -->

        <!-- ODD ADDRESSES -->
        <div class="span6">
            <a href="#" class="btn btn-large btn-white btn-block">18101 Hamden Park Way</a>
            <a href="#" class="btn btn-large btn-white btn-block">18103 Hamden Park Way</a>
            <a href="#" class="btn btn-large btn-white btn-block">18105 Hamden Park Way</a>
            <a href="#" class="btn btn-large btn-white btn-block">18107 Hamden Park Way</a>
        </div>
        <!-- END ODD ADDRESSES -->

    </div>
<!-- END STREET GROUPING --> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T06:18:28.973

我不确定您要在这里更改什么。**Group By**函数是 SQL 可能不会做你认为它应该做的事情。它通常最好在上下文中使用，例如

```
SELECT count(invoicesTotal),sum(invoicesTotal) FROM invoices GROUP BY customer 
```

在您的数据库上，运行

```
SELECT * FROM resident GROUP BY street_name 
```

您只会取回找到的与 street_name 匹配的第一条记录，这不是您在此上下文中要查找的内容。

我认为您现在使用**ORDER BY street_name, house_number**的方式是最好的，并使用 foreach 来构建您的表格。

也不要使用 mysql 扩展。使用 mysqli 扩展。mysql 很快就会被弃用。从初学者的角度来看，没有太大的区别。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T06:07:56.100

```
$address = mysql_query("SELECT id, house_number, street_name, full_address FROM resident WHERE neighborhood_id = $neighborhood_id group by street_name order by house_number"); 
```

# android - Android单元测试 - 如何在与应用程序相同的项目中运行测试？

> ID：14806722
> 
> 赞同：2
> 
> 时间：2013-02-11T06:01:43.233
> 
> 标签：android, unit-testing

在 Android LunarLander 示例项目中，单元测试直接包含在项目中，位于名为“tests”的（非源）文件夹中。这与推荐此布局的 SDK 测试指南一致，而不是在单独的项目中创建测试。但是，我不知道如何实际运行这些测试。

我无法创建 Android Junit 测试运行配置：

*   如果我尝试“在项目或包中运行所有测试”，它会抱怨清单文件不包含检测信息 - 显然它使用的是顶级清单文件而不是测试清单文件。
*   如果我尝试“运行单个测试”，我找不到任何东西，因为测试不是源文件夹，如果我将其设置为源文件夹，则会弹出错误，因为它假定测试类应该在以“tests.src”开头的包。

在我看来，这个示例已经损坏了......我希望我错了，因为我宁愿将测试嵌入到我的项目中并能够轻松运行它们（而不是创建一个单独的测试项目来链接到项目正在测试的应用程序）。有人知道我如何运行这些测试吗？谢谢...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T10:49:01.350

谷歌推荐一个单一的多合一目录，因为它使您的文件在许多情况下易于维护，例如在处理源代码控制时。

测试项目在文件系统中的位置无关紧要，但是，您必须将其导入 Eclipse 的工作区，就像您为 LunarLander 项目所做的一样：

![在此处输入图像描述](../Images/c94aa1ad8e02c05f73e205d9e977f937.png)

如果一切顺利，您的 Package Explorer 应该如下所示：

![在此处输入图像描述](../Images/cc3a4df5994785dc9976cf9dd046574f.png)

在我的 Android 4.2 示例中，事情并不顺利，似乎 LunarLander 测试项目的源代码不是最新的：

1.  它不附带 project.properties 文件。
2.  它使用与 LunarLander 项目相同的包名，导致 Eclipse 在从引用的 LunarLander 项目中导入包/类时被愚弄。
3.  它不会自动将 LunarLander 项目添加到测试项目的类路径中，导致从引用的 LunarLander 项目中导入的包/类是不可见的。

解决所有问题后，您应该能够从测试项目运行/调试 Android JUnit 测试。

# c++ - 给定一个大的二维矩阵，我可以唯一拟合多少个尺寸较小的二维矩阵？

> ID：14806723
> 
> 赞同：0
> 
> 时间：2013-02-11T06:02:01.643
> 
> 标签：c++, math, matrix

我有一个代表 3D 游戏的 2D 地形的大型 2D 矩阵 - 各种类型的墙壁和地板（泥土、岩石等）。例如，假设有一个 4x9 的岩石地板区域。我需要在 4x9 空间的每个 3x3 区域的中心放置一个对象，并在解析并排除 3x3 区域后，在每个 1x1 区域放置一个对象。

结果应该是放置 3x3 模板的 3 个对象和放置 1x1 模板的 9 个对象。

实现此算法的最有效方法是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T06:19:32.083

设`canPlace`为坐标的 BST。

```
for (x = 0:w)
for (y = 0:h)
  shouldPlace = true
  for (x2 = -1:1)
  for (y2 = -1:1)
    if (grid[x+x2][y+y2].isObstruction())
      shouldPlace = false
  if (shouldPlace)
    canPlace.add((x,y)) 
```

上面的复杂度是`O(n^2 log n)`

递归尝试所有`canPlace`位置以放置 3x3 对象。

执行此操作时，将放置它的区域标记为受阻，并在放置前检查是否受阻。

复杂度以上 = ? （更多可能的展示位置让我们能够非常快速地找到解决方案）

```
for (x = 0:w)
for (y = 0:h)
  if (grid[x][y].isEmpty())
    place1x1(x, y) 
```

复杂度以上 =`O(n^2)`

总复杂度 =`O(n^2 log n + ?)`

# java - 如何在Java中的二维数组中分别找到行和列的最大值和最小值？

> ID：14806725
> 
> 赞同：-5
> 
> 时间：2013-02-11T06:02:18.803
> 
> 标签：java, arrays, 2d, max, min

怎么找：

1.  Java中二维数组的行中的最大值。
2.  Java中二维数组的行中的最小值。
3.  Java中二维数组的列中的最大值。
4.  Java中二维数组的列中的最小值。

* * *

```
import java.util.*;
class Example{
    public static void main(String args[]){
        Scanner input=new Scanner(System.in);
        System.out.print("Enter Number of Students : ");
        byte a=input.nextByte();
        System.out.print("Enter Number of Subjects : ");
        byte b=input.nextByte();
        System.out.println();

        byte[][] st=new byte[a][b];

        //Input Marks for Subjects for different Students
        for(byte i=0;i<a;i++){
            System.out.println("Enter Subject Marks for Student "+(i+1)+" :- ");
            for(byte x=0;x<b;x++){
                System.out.print("\tEnter Marks % for Subject "+(x+1)+" : ");
                st[i][x]=input.nextByte();
            }
            System.out.println();
        }

        //Find Student Total
        int[] studTotal=new int[a];
        for(byte i=0;i<a;i++){
            for(byte x=0;x<b;x++){
                studTotal[i]=studTotal[i]+st[i][x];
            }
        }

        //Find Student Average
        float[] studAvg=new float[a];
        for(byte i=0;i<a;i++){
            for(byte x=0;x<b;x++){
                studAvg[i]=(float)studTotal[i]/b;
                studAvg[i]=Math.round(studAvg[i]*100)/(float)100;
            }
        }

        //Find Student Grade
        char[] studGrade=new char[a];
        for(byte i=0;i<a;i++){
            if(studAvg[i]>=75){
                studGrade[i]='A';
            }else if(studAvg[i]>=65){
                studGrade[i]='B';
            }else if(studAvg[i]>=55){
                studGrade[i]='C';
            }else if(studAvg[i]>=35){
                studGrade[i]='D';
            }else{
                studGrade[i]='F';
            }
        }

        //Find Student Maximum
        byte[] studMax=new byte[a];
        for(byte i=0;i<a;i++){
        studMax[i]=st[i][0];//<<==Problem-Solved==>>
            for(byte x=0;x<b;x++){
                if(st[i][x]>studMax[i]){
                    studMax[i]=st[i][x];
                }
            }
        }

        //Find Student Minimum
        byte[] studMin=new byte[a];
        for(byte i=0;i<a;i++){
        studMin[i]=st[i][0];//<<==Problem-Solved==>>
            for(byte x=0;x<b;x++){
                if(st[i][x]<studMin[i]){
                    studMin[i]=st[i][x];
                }
            }
        }

        //Display Information in a Table
        for(byte i=0;i<a;i++){
            for(byte x=0;x<b;x++){
                System.out.print(st[i][x]+"\t");
            }
            //Display Student's Total, Average, Grade, Maximum, Minimum
            System.out.print(studTotal[i]);
            System.out.print("\t"+studAvg[i]);
            System.out.print("\t"+studGrade[i]);
            System.out.print("\t"+studMax[i]);
            System.out.print("\t"+studMin[i]);
            System.out.println();
        }

    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T06:17:05.533

因为这听起来很像家庭作业，所以我不会详细说明，但这就是我的做法：

1.  我会有数组，一个用于最大值，一个用于每一行和每列的最小值。
2.  用非常大的正数初始化要存储最小值的数组，并用非常大的负数初始化要存储最大值的数组。
3.  我将遍历我拥有的所有行，并将这些数组中的值设置为每行的最大值和最小值。这可以使用嵌套循环轻松完成。和应该[`Math.max(double a, double b)`](http://docs.oracle.com/javase/7/docs/api/java/lang/Math.html#max%28double,%20double%29)派上[`Math.min(double a, double b)`](http://docs.oracle.com/javase/7/docs/api/java/lang/Math.html#min%28double,%20double%29)用场。

编辑：根据您的评论，经过仔细检查，您似乎在`byte`整个应用程序中都在使用。对于此类问题，这不是合适的数据类型。我建议使用`double`并更改从用户那里获取数据的方式，方法是使用[`nextDouble()`](http://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html#nextDouble%28%29)而不是`nextByte()`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-11T06:21:45.967

```
public static void main(String[] args) {
    int[][] matrix = { { 2, 1, 4, 5 }, { 3, 9, 8, 43 } };

    for (int i = 0; i < matrix.length; i++) {
        int minInRow = matrix[i][0];
        int maxInRow = matrix[i][0];
        for (int j = 0; j < matrix[i].length; j++) {
            if (minInRow > matrix[i][j]) {
                minInRow = matrix[i][j];
            }

            if (maxInRow < matrix[i][j]) {
                maxInRow = matrix[i][j];
            }
        }
        System.out.println("Maximum in row is" + maxInRow);
        System.out.println("Minimum in row is " + minInRow);
        minInRow = matrix[i][0];
        maxInRow = matrix[i][0];
    }

} 
```

上面的代码将仅在一行中从给定的二维数组中找到最小值和最大值。尝试自己为列编写类似的代码。

# javascript - Javascript 尊重输入中的反斜杠：负向后看

> ID：14806733
> 
> 赞同：1
> 
> 时间：2013-02-11T06:03:14.357
> 
> 标签：javascript, regex, split, backslash

在 Javascript 中，我有一种情况，我将输入输入`.split(/[ \n\t]/g)`到一个数组中。关键是，如果一个空格前面直接有一个反斜杠，我不希望在那里发生拆分。

例如`is_multiply___spaced_text`->`['is','multiply','','','spaced','text']`

但是：`is\_multiply\___spaced_text`->`['is multiply ','','spaced','text']`

（为清楚起见，空格使用下划线）

如果这不是 Javascript（它不支持正则表达式中的lookbehinds），我会使用`/(?<!\\)[ \n\t]/g`. 这不起作用，那么处理这个问题的最佳方法是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T14:21:33.897

您可以反转字符串，然后使用负前瞻，然后反转数组中的字符串：

```
var pre_results = "is\\ multiply\\   spaced text".split('').reverse().join('').split(/[ \t](?!\\)/);
var results = [];
for(var i = 0; i < pre_results.length; i++) {
    results.push(pre_results[i].split('').reverse().join(''));
}
for(var i = 0; i < results.length; i++) {
    document.write(results[i] + "<br>");
} 
```

在此示例中，结果应为：

```
['text', 'spaced', '', 'is\\ multiply\\'] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T07:10:14.103

```
"is\_multiply\___spaced_text".replace(/\_/, " ").replace(/_/, " ").split("_"); 
```

# ruby - 未转义的引号 (') 在 Ruby 中破坏 Base64

> ID：14806737
> 
> 赞同：1
> 
> 时间：2013-02-11T06:03:30.280
> 
> 标签：ruby

我正在尝试对一些数据进行 AES 加密，并使用它`random_iv`来生成初始化向量。

```
def encrypt (data)
    cipher = OpenSSL::Cipher::AES.new(256, :CBC)
    cipher.encrypt
    cipher.key = @key
    iv = cipher.random_iv
    encrypted = cipher.update(data) + cipher.final
    encoded = Base64.encode64(encrypted+iv) 
    return encoded, self.sign(encoded)
end 
```

如果`iv`contains `'`，则编码的字符串在那里结束，之后的所有内容都`'`将被忽略。我认为`random_iv`是`OpenSSL::Random.random_bytes(16)`，还没有检查来源。当我得到`random_iv`这样的：

```
"0\xC8x'6\x86\x06\xFEG[\xCE\xF5\xF5\xCBL>" 
```

编码字符串的最后 16 个字符与它完全不同（结束于`C8`）。

```
Base64.decode64('1JCQvhD6mrDXkhW4Hn9HIIr32TmYlBmp803oxOtrZMg=\n')[-16,16]
# => "\x8A\xF7\xD99\x98\x94\x19\xA9\xF3M\xE8\xC4\xEBkd\xC8" 
```

如果没有`'`in `iv`，它工作正常。现在，我正在像这样解决这个问题：

```
cipher.iv = Digest::MD5.new.digest(cipher.random_iv) 
```

因为`MD5`也是`16byte`，并且符合`iv`要求。

```
Digest::MD5.new.digest('test').bytesize
# => 16 
```

想知道是否有更好的方法来做到这一点。为什么首先`'`存在`random_iv`？我应该如何转义传递给的数据`encode64`？

另外，我是否需要将字节附加到我的数据中，直到`data.bytesize`可以被 整除`16`？还是`Cipher::AES`为我做？

```
cipher.update(data) 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-11T07:57:26.067

`'`作为字符串的内容没有什么特别之处。它只是一个 ASCII 值为 39 的字节。

在语句`encoded = Base64.encode64(encrypted+iv)`中，与您之前设置的两行`iv`不同的变量。`cipher.iv`您在名为 的范围内有方法或访问器`iv`吗？您的 base64 字符串`'1JCQvhD6mrDXkhW4Hn9HIIr32TmYlBmp803oxOtrZMg=\n'`（我认为是您的函数的结果）不会以您的示例 iv 的 base64 编码结束，所以我非常有信心`+iv`表达式的部分没有看到`"0\xC8x'6\x86\x06\xFEG[\xCE\xF5\xF5\xCBL>"`。

您的示例 iv 的 base64 编码为我成功往返：

```
irb> iv = "0\xC8x'6\x86\x06\xFEG[\xCE\xF5\xF5\xCBL>".force_encoding('BINARY') 
=> "0\xC8x'6\x86\x06\xFEG[\xCE\xF5\xF5\xCBL>"
irb> e = Base64.encode64 iv
=> "MMh4JzaGBv5HW8719ctMPg==\n"
irb> d = Base64.decode64 e
=> "0\xC8x'6\x86\x06\xFEG[\xCE\xF5\xF5\xCBL>"
irb> d == iv
=> true 
```

# javascript - 如何在选择更改之前使用 javascript 查找下拉列表的选定选项的索引/值

> ID：14806739
> 
> 赞同：1
> 
> 时间：2013-02-11T06:03:44.043
> 
> 标签：javascript, jquery, drop-down-menu

我不确定我的问题的标题是否足够有意义，所以这是我的问题：我有一个从服务器端动态生成的下拉列表，如下所示：

```
sb.append("<SELECT NAME='selectedQAStatuses' id='selectedReleaseQAStatuses' onchange='javascript:changeReleaseQAStatus(\""+releaseId+"\",\""+depEventSeq+"\",this);' >");
    sb.append("<OPTION>Please select a QA status...</OPTION>");
    for (String status : statusArray) {
        if(status.equals(releaseStatus))
            sb.append("<OPTION VALUE='"+status+"' selected>"+status+"</OPTION>");
        else
            sb.append("<OPTION VALUE='"+status+"'>"+status+"</OPTION>");

    } 
```

现在 javascript : changeReleaseQAStatus() 被调用。在这个 javascript 方法中，我调用了一个 confirm() 来查看用户是否确定。如果用户在确认弹出窗口中选择“确定”，则从“IF”块中我进行 Ajax 调用等，但如果用户在确认弹出窗口中选择“取消”，则从“ELSE”块中我从 JS 方法返回.

但是，在“取消”场景中，我看到尽管用户似乎已经“取消”了他的选择，但在浏览器屏幕上，下拉菜单似乎仍将新选项显示为“已选择”。因此，我认为，在 Javascript 的“ELSE”块中，我应该写一些内容来将选择恢复为原始选择。当页面在浏览器上呈现时，我应该如何“记住”下拉列表的原始值，以便我可以在“ELSE”块中使用这个初始值来恢复我的下拉列表。

我处理“OK”和“CANCEL”的Javascript：

```
function changeReleaseQAStatus(releaseSeq, depEventSeq, element1){
    var selectedIndex   = element1.selectedIndex;
    var selectedStatus  = element1.options[selectedIndex].value;

    if (confirm("Do you want to change Release QA status to \"" + selectedStatus + "\" ?")){
        url = contextPath + "/changeQAStatusOfRelease.action?selectedStatus="+selectedStatus+"&releaseSeq="+releaseSeq+"&depEventSeq="+depEventSeq;
        ajaxUpdate({url:url,
           elementId:'compReleasesDtlsDiv',
        });
    }else{
        /// No Code needed to execute here...
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T06:08:37.287

通过使用javascript，你可以使用这样的东西

```
var arr = document.getElementsById('select_id');
alert(arr[0].options[arr[0].selectedIndex].value); 
```

# c# - 如何使用 WPF/MVVM 验证在 XamDateTimeEditor 中输入的日期

> ID：14806745
> 
> 赞同：0
> 
> 时间：2013-02-11T06:04:05.617
> 
> 标签：c#, wpf, mvvm

我的一个 WPF 表单上有以下 XamDateTimeEditor 框。我想验证（检查输入的日期是否有效）。

```
 <igEditors:XamDateTimeEditor x:Name="xamDateTimeEditorDate"
                                     AutoFillDate="MonthAndYear"
                                     DropDownButtonDisplayMode="Always"
                                     Mask="mm/dd/yyyy"
                                     TabIndex="1"
                                     Text="{Binding Valid_Date,
                                                    Mode=TwoWay,
                                                    UpdateSourceTrigger=PropertyChanged,                                                         ValidatesOnDataErrors=True}" /> 
```

有人可以分享您对此的想法或专业知识吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-29T12:15:32.393

我通常将 Value 属性绑定到 DateTime？在 ViewModel 上，然后在那里执行检查

# java - Java 的 ServiceStack.net 等价物（或可以与 ServiceStack 互通的东西）？

> ID：14806748
> 
> 赞同：8
> 
> 时间：2013-02-11T06:04:30.893
> 
> 标签：java, python, ruby, node.js, servicestack

我阅读了有关[ServiceStack.NET](http://www.servicestack.net/)的文章，并且非常喜欢它（尤其是它基于消息传递范式并实现了数据传输对象模式这一事实）。

我想知道是否有任何 Java 框架接近 ServiceStack 为 .NET 提供的框架？或者，您知道任何可以与 ServiceStack 交互的 Java 框架吗？

我对 ServiceStack.Net 提供的以下功能特别感兴趣：

*   所有已注册格式的元数据页面，带有指向 WSDL、XSD 的链接
*   在所有端点上支持 JSON/JSONP、XML、JSV、CSV 和 SOAP

尽管我正在寻找一个在 JVM 上提供上述特性的框架，但我也会对其中一个平台感兴趣，因为我怀疑它们可以用作与 JVM 世界交互的中介（即 Facade 模式）。

*   Python
*   红宝石
*   节点.js

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-11-08T16:05:13.127

免责声明：我不熟悉[http://www.servicestack.net/](http://www.servicestack.net/)，但它似乎是围绕企业集成模式 (EIP) 构建的 Web 应用程序框架。

*   [Apache Camel](http://camel.apache.org/)与您提到的许多服务集成，并且也是围绕 EIP 构建的。一个很好的起点是[@Claus Isben](https://stackoverflow.com/users/406429/)的[Camel In Action](https://www.google.com/#q=camel+in+action)书。

如果您只想构建一个 Web 应用程序，请尝试：

*   许多 Java Web 应用程序都是使用[Spring](http://projects.spring.io/spring-framework/)构建的，并取得了巨大的成功。它有很多您正在寻找的功能，而且我确信您正在寻找的集成有很多文档。

*   看起来您正在寻找一个功能齐全的集成框架，但如果您正在寻找一种更轻量级的方法，请尝试[Jersey，即 JAX-RS 参考实现](https://jersey.java.net/)。它在[示例应用程序](https://jersey.java.net/documentation/latest/user-guide.html#getting-started)中提供了开箱即用的[WADL 支持](https://jersey.java.net/documentation/latest/user-guide.html#wadl)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-12-23T06:07:49.017

您可以通过为 cxf 使用 Apache CXF 和 Camel 传输来实现这一点。 [http://camel.apache.org/camel-transport-for-cxf.html](http://camel.apache.org/camel-transport-for-cxf.html)

# node.js - 骨干JS应用程序在NodeJs中运行良好，但在任何其他服务器中却没有？

> ID：14806754
> 
> 赞同：0
> 
> 时间：2013-02-11T06:05:09.703
> 
> 标签：node.js, backbone.js

我试图在 BackboneJS 的集合中加载一个 json 文件。在尝试通过 nodeJS 服务器运行它时，它工作正常。但是一旦放在像 XAMPP 这样的服务器环境中，甚至放在远程服务器中，它就不起作用了？任何链接都会是一个很好的帮助。（作为参考，我的代码位于 github：**[https](https://github.com/saumya/backboneJS-basics)** ://github.com/saumya/backboneJS-basics ）

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-06-16T06:01:00.103

嘿，谢谢你的帮助。可能我不了解情况，所以我现在看到的问题不正确。

修改后的问题是：

1.  我有一个前端应用程序在某个端口的 NodeJS 服务器上运行。
2.  我正在尝试从另一台服务器上运行的另一台服务器加载 JSON。

@Floby 的答案是我解决它的方式。它是提供 JSON 的服务器上[的 CORS 东西。](http://enable-cors.org/)我花了一些时间才明白发生了什么。

# c# - 如何使用 Asp.Net C# 更改 GridView 中列的顺序

> ID：14806757
> 
> 赞同：4
> 
> 时间：2013-02-11T06:05:17.363
> 
> 标签：c#, asp.net

我有一个网格，它被绑定在后面的代码中，我也想在其中显示模板字段。

我在 DataTable 中为网格视图生成 3 列，模板字段是 TextBox 控件。

我的绑定数据代码是..

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;
using System.Web.UI;
using System.Web.UI.WebControls;
using System.Data;
using System.Data.SqlClient;

public partial class gr4 : System.Web.UI.Page
{
    SqlConnection cn;
    SqlCommand cmd;
    SqlDataAdapter da;
    DataSet ds;

protected void Page_Load(object sender, EventArgs e)
{
    cn = new SqlConnection("Data Source=AMIR-PC\\MOHEMMAD;Initial Catalog=CRM_InvestPlus;Integrated Security=True");
    string query = "Select Capacity from Dealer_License_Capacity where ID='D00001' and Software_ID='001' and Version_ID='1'";
    cn.Open();
    cmd = new SqlCommand(query,cn);
    da = new SqlDataAdapter(cmd);
    ds = new DataSet();
    da.Fill(ds);
    cn.Close();

    DataTable dt = new DataTable();
    dt.Columns.Add("Name", typeof(string));
    dt.Columns.Add("Software_Name", typeof(string));
    dt.Columns.Add("Version_Name", typeof(string));

    int count = Convert.ToInt32(ds.Tables[0].Rows[0][0].ToString());

    for (int i = 0; i < count; i++)
    {
        DataRow dr = dt.NewRow();
        dr["Name"] = "aaa";
        dr["Software_Name"] = "bbb";
        dr["Version_Name"] = "ccc";

        dt.Rows.Add(dr);
    }

    GridView1.DataSource = dt;
    GridView1.DataBind();
   }
} 
```

我的网格视图源代码是：

```
 <asp:GridView ID="GridView1" runat="server">
    <Columns>

        <asp:TemplateField>
            <ItemTemplate>
                <asp:TextBox ID="TextBox1" runat="server"></asp:TextBox>
            </ItemTemplate>
        </asp:TemplateField>

    </Columns>
    </asp:GridView>

</div>
</form> 
```

网格将模板字段显示为第一列，但我想将模板字段显示为输出中的最后一列。我可以在此网格中添加更多模板字段吗？？

请帮忙..

提前致谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-11T06:29:39.070

您可以使用如下绑定字段

```
 <asp:GridView ID="GridView1" runat="server"  AutoGenerateColumns="false" > /*changed to false*/
     <Columns>
       <asp:BoundField HeaderText="Name" 
           DataField="Name"/>
       <asp:BoundField HeaderText="SoftwareName" 
           DataField="Software_Name"/>
       <asp:BoundField HeaderText="VersionName" 
           DataField="Version_Name"/>

       <asp:TemplateField>
           <ItemTemplate>
               <asp:TextBox ID="TextBox1" runat="server"></asp:TextBox>
           </ItemTemplate>
       </asp:TemplateField>
    </Columns>
</asp:GridView> 
```

您可以随意更改顺序。

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2013-04-05T10:44:19.440

如果所有准备好的数据都在数据库中并且列在网格视图中以相同的方式存在列名称是名称必须显示名称是命令我怎么没有得到

我的网格代码是这个但不是按顺序来的

# c# - 从 WCF 获得响应后显示消息

> ID：14806759
> 
> 赞同：1
> 
> 时间：2013-02-11T06:05:21.827
> 
> 标签：c#, multithreading, push-notification, duplex, wcf-callbacks

我正在构建一个用于推送通知的 WCF 应用程序，其中用户必须先订阅自己，然后订阅客户端从 WCF 获得响应。

我在 WCF 中使用 wsDualHttpBinding 作为绑定和回调。

我不想从客户端调用递归函数。我在 WCF 中使用计时器，当数据库中发生任何更新时，WCF 会抛出消息。我的 WCF 已准备好，但无法在客户端显示消息。

现在我的问题是当客户端从 WCF 获得响应时如何显示消息。

我在 aspx.cs 上的客户端代码是：

```
public void SendResult(string message)//I got message = "Test String"
{
   Response.Write(message);// it throw error "Response is not available in this context."
// I also use this code 

HttpContext.Current.Response.Write(message); // but it also give error "Object reference not set to an instance of an object."

} 
```

这是一个非常关键的问题，我只需要显示信息

任何帮助将不胜感激。

## 编辑 1

服务方法调用

```
 protected void Page_Load(object sender, EventArgs e)
  {
        SocialProfilesService.SocialClient client = 
               new SocialProfilesService.SocialClient(new InstanceContext(this)); 
        client.Subscribe(userid)
  } 
```

## 编辑 2

我也试过

```
 SynchronizationContext uiSyncContext;
 uiSyncContext = SynchronizationContext.Current;
 public void SendResult(string message)//I got message = "Test String"
 {
   SendOrPostCallback callback = delegate(object state)
    {
        Response.Write(message);
    };
    uiSyncContext.Post(callback, message);
 } 
```

但它也给了我错误“对象引用未设置为对象的实例”。做什么

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T06:21:09.293

你应该看看这篇文章。这应该会有所帮助。它提供了一个订阅和推送更新的简单示例。

[文章](http://idunno.org/archive/2008/05/29/wcf-callbacks-a-beginners-guide.aspx)

根据我们的讨论。看来您的服务运行良好。我假设您正在适当地调用 SendResult 并传递消息。这是您可以尝试的另一件事...这是来自 Asp.net 的 java 脚本警报

```
 Page.RegisterStartupScript("startScript", "<script language=JavaScript>Message("+message+" );</script>");

    Page.ClientScript.RegisterClientScriptBlock(this.GetType(), "testmsg", "<script>alert('your message goes here');</script>"); 
```

# mysql - 错误：Mysql 数据库不支持事务

> ID：14806760
> 
> 赞同：1
> 
> 时间：2013-02-11T06:05:29.227
> 
> 标签：mysql, database, benchmarking, workbench

您好我有一个 InnoDB 有一个支持事务的默认数据库。但是当我为 Mysql sql-benchmarking 运行事务脚本时，出现以下错误：

```
Testing server 'MySQL 5.5.29 0ubuntu0.12.10.1' at 2013-02-11 11:32:28

Test skipped because the database doesn't support transactions 
```

展示引擎；

```
+--------------------+---------+----------------------------------------------------------------+--------------+------+------------+
| Engine             | Support | Comment                                                        | Transactions | XA   | Savepoints |
+--------------------+---------+----------------------------------------------------------------+--------------+------+------------+
| PERFORMANCE_SCHEMA | YES     | Performance Schema                                             | NO           | NO   | NO         |
| MRG_MYISAM         | YES     | Collection of identical MyISAM tables                          | NO           | NO   | NO         |
| MEMORY             | YES     | Hash based, stored in memory, useful for temporary tables      | NO           | NO   | NO         |
| BLACKHOLE          | YES     | /dev/null storage engine (anything you write to it disappears) | NO           | NO   | NO         |
| MyISAM             | YES     | MyISAM storage engine                                          | NO           | NO   | NO         |
| CSV                | YES     | CSV storage engine                                             | NO           | NO   | NO         |
| ARCHIVE            | YES     | Archive storage engine                                         | NO           | NO   | NO         |
| FEDERATED          | NO      | Federated MySQL storage engine                                 | NULL         | NULL | NULL       |
| InnoDB             | DEFAULT | Supports transactions, row-level locking, and foreign keys     | YES          | YES  | YES        |
+--------------------+---------+----------------------------------------------------------------+--------------+------+------------+ 
```

我编辑了 my.cnf 添加了默认引擎 Innodb。但仍然没有运气。

perl 脚本是 Mysql Sql bench 中的“test-transaction”...

```
###
### Test insert perfomance
###

test_insert("bench1","insert_commit",0);
test_insert("bench2","insert_autocommit",1);

sub test_insert
{
  my ($table, $test_name, $auto_commit)= @_;
  my ($loop_time,$end_time,$id,$rev_id,$grp,$region);

  $dbh->{AutoCommit}= $auto_commit;
  $loop_time=new Benchmark;

  for ($id=0,$rev_id=$opt_loop_count-1 ; $id < $opt_loop_count ;
       $id++,$rev_id--)
  {
    $grp=$id/$opt_groups;
    $region=chr(65+$id%$opt_groups);
    do_query($dbh,"insert into $table values ($id,$rev_id,'$region',$grp,0)");
  }

  $dbh->commit if (!$auto_commit);
  $end_time=new Benchmark;
  print "Time for $test_name  ($opt_loop_count): " .
    timestr(timediff($end_time, $loop_time),"all") . "\n\n";
} 
```

# google-app-engine - 使用 AWS SDK for Java 在亚马逊上上传文件时，谷歌应用引擎上的访问被拒绝

> ID：14806762
> 
> 赞同：0
> 
> 时间：2013-02-11T06:05:31.093
> 
> 标签：google-app-engine, gwt, file-upload, amazon-s3

我在开发模式下使用 gwt 2.4、GAE 1.7.3 和 jre 1.7，我的代码使用了[链接](http://code.google.com/p/googleappengine/issues/detail?id=8166)中给出的过滤器标签。当我在谷歌应用引擎上上传应用程序时，它给出了如下错误

```
java.security.AccessControlException: access denied (java.lang.RuntimePermission modifyThreadGroup)
at java.security.AccessControlContext.checkPermission(AccessControlContext.java:355)
at java.security.AccessController.checkPermission(AccessController.java:567)
at java.lang.SecurityManager.checkPermission(SecurityManager.java:549)
at com.google.apphosting.runtime.security.CustomSecurityManager.checkPermission(CustomSecurityManager.java:56)
at com.google.apphosting.runtime.security.CustomSecurityManager.checkAccess(CustomSecurityManager.java:131)
at java.lang.ThreadGroup.checkAccess(ThreadGroup.java:315)
at java.lang.Thread.init(Thread.java:353)
at java.lang.Thread.<init>(Thread.java:479)
at com.amazonaws.http.IdleConnectionReaper.<init>(IdleConnectionReaper.java:56)
at com.amazonaws.http.IdleConnectionReaper.registerConnectionManager(IdleConnectionReaper.java:62)
at com.amazonaws.http.ConnectionManagerFactory.createThreadSafeClientConnManager(ConnectionManagerFactory.java:30)
at com.amazonaws.http.HttpClientFactory.createHttpClient(HttpClientFactory.java:95)
at com.amazonaws.http.AmazonHttpClient.<init>(AmazonHttpClient.java:112)
at com.amazonaws.AmazonWebServiceClient.<init>(AmazonWebServiceClient.java:60)
at com.amazonaws.services.s3.AmazonS3Client.<init>(AmazonS3Client.java:295)
at com.amazonaws.services.s3.AmazonS3Client.<init>(AmazonS3Client.java:277)
at com.wa.gwtamazon.server.AmazonService.doPost(AmazonService.java:36)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:637)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)
at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:511)
at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1166)
at com.google.apphosting.utils.servlet.ParseBlobUploadFilter.doFilter(ParseBlobUploadFilter.java:102)
at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)
at com.google.apphosting.runtime.jetty.SaveSessionFilter.doFilter(SaveSessionFilter.java:35)
at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)
at com.google.apphosting.utils.servlet.TransactionCleanupFilter.doFilter(TransactionCleanupFilter.java:43)
at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)
at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:388)
at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)
at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)
at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765)
at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:418)
at com.google.apphosting.runtime.jetty.AppVersionHandlerMap.handle(AppVersionHandlerMap.java:266)
at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)
at org.mortbay.jetty.Server.handle(Server.java:326)
at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)
at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:923)
at com.google.apphosting.runtime.jetty.RpcRequestParser.parseAvailable(RpcRequestParser.java:76)
at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)
at com.google.apphosting.runtime.jetty.JettyServletEngineAdapter.serviceRequest(JettyServletEngineAdapter.java:146)
at com.google.apphosting.runtime.JavaRuntime$RequestRunnable.run(JavaRuntime.java:447)
at com.google.tracing.TraceContext$TraceContextRunnable.runInContext(TraceContext.java:454)
at com.google.tracing.TraceContext$TraceContextRunnable$1.run(TraceContext.java:461)
at com.google.tracing.TraceContext.runInContext(TraceContext.java:703)
at com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContextNoUnref(TraceContext.java:338)
at com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContext(TraceContext.java:330)
at com.google.tracing.TraceContext$TraceContextRunnable.run(TraceContext.java:458)
at com.google.apphosting.runtime.ThreadGroupPool$PoolEntry.run(ThreadGroupPool.java:251)
at java.lang.Thread.run(Thread.java:679) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T15:24:08.277

由于 Google App Engine 的限制（无线程、无套接字连接等），我们无法使用 Amazon Libs。但是很少有解决方案可以帮助您：

我从下面的链接中找到了解决方案，它对我有用。

[http://socialappdev.com/using-amazon-s3-with-google-app-engine-02-2011](http://socialappdev.com/using-amazon-s3-with-google-app-engine-02-2011)

# php - 将用户代理更改为 IE6 或更低版本以进行 curl 调用

> ID：14806765
> 
> 赞同：0
> 
> 时间：2013-02-11T06:05:54.637
> 
> 标签：php, curl, header, user-agent

我正在尝试使用 curl 废弃页面，但是如果用户使用高于 IE6 的浏览器访问此页面，则大多数页面文本都使用 javascript 填充，因此返回空元素。

我的想法是在我的 curl 调用中将用户代理更改为 IE6，或者如果可能的话关闭 JS。我知道 curl 是服务器端，但应该有一种方法可以让 JS 关闭或浏览器是 IE6

我现在拥有用户代理的方式是：

`$userAgent = "Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US) AppleWebKit/525.13 (KHTML, like Gecko) Chrome/0.A.B.C Safari/525.13";`

我不是那个设置它的人。我在某处下载了它。知道我该怎么做吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T06:39:00.097

尝试将该行更改为：

```
$userAgent = "Mozilla/5.0 (compatible; MSIE 6.0; Windows NT 5.1)"; 
```

让我知道这是否有效。

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2013-02-11T06:27:34.650

尝试这个：

```
$opts = array("Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US) AppleWebKit/525.13 (KHTML, like Gecko) Chrome/0.A.B.C Safari/525.13");

curl_setopt( $ch, CURLOPT_HTTPHEADER, $opts ); 
```

希望这可以帮助。

# javascript - jquery 每个函数都不能按我想要的方式工作

> ID：14806766
> 
> 赞同：1
> 
> 时间：2013-02-11T06:05:58.503
> 
> 标签：javascript, jquery, json, each

我有以下代码：

```
$.each(data, function (key, val) {
  var items = val.items;
  console.log(val.id);
  if (val.id === this.id) {
    console.log('hello');
  }
}); 
```

在上面的代码中，我循环`data`的是一个 JSON 对象。然后我将 的`id`与 的`val`值`this.id`进行比较`4`。因此，我想要的是当`val.id (4)`等于时`this.id (4)`log `hello`，但是，因为`data`有几个对象，所以它记录了几个你好。

为什么以及如何使它仅在匹配该条件并退出该循环时才打招呼？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-11T06:10:54.280

在调用中定义的函数中`each()`，this === val。

如果您尝试`this.id`在调用 each 之前与 from 的值进行比较，则需要缓存它，如下所示：

```
var someId = this.id;
$.each(data, function (key, val) {
  var items = val.items;
  console.log(val.id);
  if (val.id === someId) {
    console.log('hello');
  }
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T06:18:09.940

正如艾莉森所说，`this`在功能方面`val`，您需要某种缓存。（当您只需要值而不需要键时，此功能很有用，因此您可以拥有`function(){...}`并使用它`this`）

此外，如果您想从`.each`循环中中断，请在循环函数内返回 false：

```
var someId = this.id;
$.each(data, function (key, val) {
    var items = val.items;
    console.log(val.id);
    if( val.id === someId ) {
        console.log('hello');
        return false;
    }
}); 
```

如[文档](http://api.jquery.com/jQuery.each/)中所述。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-11T06:18:58.490

您在这里所拥有的是，您在 if 条件下比较相同的数据，该条件始终为真.. `this`代表每个循环中的当前元素，在您的情况下也是`data`如此。您可以在循环内`val`尝试..`console.log(this)`

```
if( val.id === this.id ){ //this will always be true 
```

所以你必须重新考虑你的逻辑......实际上你需要在（那个）条件下匹配什么。

> 当它匹配该条件并退出该循环时

[在小提琴](http://jsfiddle.net/bipen/fwPZn/)中试一试

# sql-server-2008 - SQL MERGE 语句更新数据

> ID：14806768
> 
> 赞同：72
> 
> 时间：2013-02-11T06:06:09.583
> 
> 标签：sql-server-2008, tsql

我有一个名为的数据表`energydata`

它只有三列

```
(webmeterID, DateTime, kWh) 
```

我在表中有一组新的更新数据`temp_energydata`。

和`DateTime`保持`webmeterID`不变。但是这些`kWh`值需要从`temp_energydata`表中更新。

如何以正确的方式为此编写 T-SQL？

* * *

## 回答 #1

> 赞同：140
> 
> 时间：2013-02-11T06:25:55.350

假设您想要一个实际的[SQL Server`MERGE`](http://technet.microsoft.com/en-us/library/bb510625.aspx)语句：

```
MERGE INTO dbo.energydata WITH (HOLDLOCK) AS target
USING dbo.temp_energydata AS source
    ON target.webmeterID = source.webmeterID
    AND target.DateTime = source.DateTime
WHEN MATCHED THEN 
    UPDATE SET target.kWh = source.kWh
WHEN NOT MATCHED BY TARGET THEN
    INSERT (webmeterID, DateTime, kWh)
    VALUES (source.webmeterID, source.DateTime, source.kWh); 
```

如果您还想删除目标中不在源中的记录：

```
MERGE INTO dbo.energydata WITH (HOLDLOCK) AS target
USING dbo.temp_energydata AS source
    ON target.webmeterID = source.webmeterID
    AND target.DateTime = source.DateTime
WHEN MATCHED THEN 
    UPDATE SET target.kWh = source.kWh
WHEN NOT MATCHED BY TARGET THEN
    INSERT (webmeterID, DateTime, kWh)
    VALUES (source.webmeterID, source.DateTime, source.kWh)
WHEN NOT MATCHED BY SOURCE THEN
    DELETE; 
```

* * *

因为这已经变得更受欢迎了，所以我觉得我应该稍微扩展一下这个答案，并注意一些注意事项。

首先，有几个博客报告了旧版本 SQL Server 中[语句的](http://weblogs.sqlteam.com/dang/archive/2009/01/31/UPSERT-Race-Condition-With-MERGE.aspx)[并发问题。`MERGE`](http://weblogs.sqlteam.com/dang/archive/2009/01/31/UPSERT-Race-Condition-With-MERGE.aspx)我不知道这个问题是否在以后的版本中得到解决。无论哪种方式，这都可以通过指定`HOLDLOCK`or`SERIALIZABLE`锁定提示来解决：

```
MERGE INTO dbo.energydata WITH (HOLDLOCK) AS target
[...] 
```

您还可以使用更严格的事务隔离级别来完成同样的事情。

有[几个其他已知](http://www.mssqltips.com/sqlservertip/3074/use-caution-with-sql-servers-merge-statement/)问题`MERGE`。（请注意，由于 Microsoft 核对 Connect 并且没有将旧系统中的问题与新系统中的问题联系起来，因此这些旧问题很难追查。谢谢，Microsoft！）据我所知，它们中的大多数并不常见问题或可以使用与上述相同的锁定提示来解决，但我还没有测试过它们。

事实上，即使我自己从未对`MERGE`语句有任何问题，但我现在总是使用`WITH (HOLDLOCK)`提示，并且我更喜欢仅在最直接的情况下使用该语句。

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2016-09-05T21:02:38.990

我经常使用 Bacon Bits 很好的答案，因为我无法记住语法。

但我通常会添加一个 CTE 作为附加项，以使 DELETE 部分更有用，因为您通常只想将合并应用到目标表的一部分。

```
WITH target as (
    SELECT * FROM dbo.energydate WHERE DateTime > GETDATE()
)
MERGE INTO target WITH (HOLDLOCK)
USING dbo.temp_energydata AS source
    ON target.webmeterID = source.webmeterID
    AND target.DateTime = source.DateTime
WHEN MATCHED THEN 
    UPDATE SET target.kWh = source.kWh
WHEN NOT MATCHED BY TARGET THEN
    INSERT (webmeterID, DateTime, kWh)
    VALUES (source.webmeterID, source.DateTime, source.kWh)
WHEN NOT MATCHED BY SOURCE THEN
    DELETE 
```

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2013-02-11T06:11:16.037

如果您只需要`energydata`根据 中的数据更新您的记录`temp_energydata`，假设其中`temp_enerydata`不包含任何新记录，请尝试以下操作：

```
UPDATE e SET e.kWh = t.kWh
  FROM energydata e INNER JOIN 
       temp_energydata t ON e.webmeterID = t.webmeterID AND 
                            e.DateTime = t.DateTime 
```

这是工作的[sqlfiddle](http://sqlfiddle.com/#!3/fab6d/2)

但是，如果`temp_energydata`包含新记录并且您需要将其插入到`energydata`一个语句中，那么您绝对应该使用 Bacon Bits 给出的答案。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-11T06:11:38.450

```
UPDATE ed
SET ed.kWh = ted.kWh
FROM energydata ed
INNER JOIN temp_energydata ted ON ted.webmeterID = ed.webmeterID 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-11T06:16:37.373

```
Update energydata set energydata.kWh = temp.kWh 
where energydata.webmeterID = (select webmeterID from temp_energydata as temp) 
```

* * *

## 回答 #6

> 赞同：-7
> 
> 时间：2014-05-05T09:12:20.683

正确的方法是：

```
UPDATE test1
INNER JOIN test2 ON (test1.id = test2.id)
SET test1.data = test2.data 
```

# jquery - 使用 JQuery 从 MSN Weather API 读取 XML 数据到 .aspx 页面？

> ID：14806770
> 
> 赞同：0
> 
> 时间：2013-02-11T06:06:32.980
> 
> 标签：jquery, xmlhttprequest

使用 JQuery 从 MSN Weather API 读取 XML 数据到 .aspx 页面？

我正在连接 msn 天气 api，并在读取 xml 数据 ie10、chrome、firefox 时获取 xml 数据，它无法正常工作。

1.  SEC7120：来源 http：在 Access-Control-Allow-Origin 标头中找不到。天气wg5.aspx
2.  SCRIPT7002：XMLHttpRequest：网络错误 0x80070005，访问被拒绝。

ie 9,ie8,ie7 我会以这种方式工作。

当我单击是时，我的代码工作正常。

请给出好的解决方案。

```
var xmlHttp;
var district = geoplugin_city();
alert(district);
var url = 'http://weather.service.msn.com/data.aspx?weadegreetype=F&culture=en-US&weasearchstr=' + district + '';
$(document).ready(function () {
    loadXMLDoc(url);
});

function loadXMLDoc(url) {
    if (window.XMLHttpRequest) { // code for IE7+, Firefox, Chrome, Opera, Safari
        xmlhttp = new XMLHttpRequest();
        alert('object is crested:' + xmlhttp);
    } else { // code for IE6, IE5
        xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
        alert('Microsoft.XMLHTTP:' + xmlhttp);
    }
    xmlhttp.onreadystatechange = function () {
        if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
            alert('success');
            xmlDoc = xmlhttp.responseText;
            alert(xmlDoc);
            var result = xmlhttp.responseXML;
            alert(result);
            var weatherdata1 = $(result).find('\\weather').attr('weatherlocationname');
            alert(weatherdata1);
            $('#weatherdate').html(weatherdata1);
        }
    }
    xmlhttp.open("GET", url, true);
    xmlhttp.send();
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-03T00:44:52.087

你在使用 jQuery 的[`ajax()`](http://api.jquery.com/jQuery.ajax/)函数时是否也遇到了同样的问题？

```
var district = '63366';

var weatherUrl = 'http://weather.service.msn.com/data.aspx?weadegreetype=F&culture=en-US&weasearchstr=' + district;

$( document ).ready( function() {
    $.ajax( {
        url : weatherUrl,
        complete : function( jqXHR, textStatus ) {
            if ( textStatus !== 'success' ) {
                alert( 'Error: ' + jqXHR.statusText );
            } else {
                setWeatherData( jqXHR );
            }
        }
    } );
} );

function setWeatherData( jqXHR ) {
    var weatherLocation = $( jqXHR ).find( 'weather' ).first().attr( 'weatherlocationname' );

    $( '#weatherdata' ).html( weatherLocation );
} 
```

# javascript - 将鼠标悬停在段落上

> ID：14806771
> 
> 赞同：2
> 
> 时间：2013-02-11T06:07:04.100
> 
> 标签：javascript, jquery, html

我想创建一个段落，如果用户将鼠标悬停在该段落上，它应该显示一个警告框。但是我输入的代码不起作用。鼠标一进入*页面*，就会出现这个框。我只希望它在鼠标位于*段落*上时显示。代码是：

```
<html>
<script src="jquery.js" type="text/javascript"></script>
<script>
$('document').ready(function(){
    $('#p1').hover(
        alert("you have entered p1 .")
    );
});
</script>
<body>
    <p id="p1">hover here!!</p>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-11T06:10:09.593

[jsFiddle 上的工作示例](http://jsfiddle.net/htmled/caVay/)。

尝试这个：

```
$('#p1').hover(
    alert("you have entered p1 .");
); 
```

或者：

```
$('#p1').hover(
    function() {
        alert("you have entered p1 .");
    },
    function() {
        alert('you have exited p1 .');
    }
); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-11T06:09:25.880

```
<html>
<script src="jquery.js" type="text/javascript"></script>
<script>
$('document').ready(function(){
   $('#p1').hover(function(){
       alert("you have entered p1 .")
   });
});
</script>
<body>
<p id="p1">hover here!!</p>
</body>
</html> 
```

你忘了#

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-11T06:24:18.840

//试试这1个家伙...

```
$("#p1").hover(
function () {
   alert("you have entered p1 .")
},
function () {}
); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-11T06:10:13.293

```
<script>
$('document').ready(function(){
    $('#p1').hover(
        alert("you have entered p1 .")
    );
});
</script>
<body>
<p id="p1">hover here!!</p> 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-02-11T06:17:09.680

您的脚本中有两个错误：

1.  “记录”不存在的引号
2.  悬停时缺少功能

所以应该是：

```
$(document).ready(function(){ // <----removed the quotes
   $('#p1').hover(function(){ //<------added the function here.
      alert("you have entered p1 .")
   });
}); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-02-11T06:26:41.470

如果你想要页面中所有段落的悬停效果，那就去吧

```
$('p').hover(function1(),function2()); 
```

（或）如果您想要特定段落的悬停效果，那么

```
$('#ID_OF_YOUR_PARAGRAPH').hover(function1(),function2()); 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-02-11T06:21:21.480

```
<html>
<head>
<title></title>
<script type="text/javascript" src="http://code.jquery.com/jquery-latest.js"></script>
</head>
<body>
<p id="p1">hover here!!</p>
<script type="text/javascript">
$('#p1').mouseover(function() {
  alert("you have entered p1 .");
});
</script>
</body>
</html> 
```

# svn - Eclipse Juno 中 SVN 存储库路径的奇怪问题？

> ID：14806782
> 
> 赞同：0
> 
> 时间：2013-02-11T06:08:19.143
> 
> 标签：svn, eclipse-juno

我已经安装了[Eclipse 更新站点 URL：](http://subclipse.tigris.org/update_1.6.x)

现在，当我尝试从 SVN 服务器导入项目时

> （路径：- svn://srv-svn/myProject/trunk/workspace）

在 Eclipse Juno 中，我得到了奇怪的存储库位置，您可以看到附加的屏幕截图 ![截屏](../Images/4ee34d345060c34e5489060378702290.png)

所以我无法登录。谁能告诉我这里有什么问题？

# bash - Bash：绑定到 IP 地址的进程的故障安全终止

> ID：14806787
> 
> 赞同：0
> 
> 时间：2013-02-11T06:09:02.293
> 
> 标签：bash, posix, sigkill, sigterm

我有启动后绑定到地址和端口的进程。这些进程在屏幕使用中运行，`exec`以便在子进程关闭时屏幕关闭。

杀死进程时，我使用`kill -9 PID`，但有时屏幕结束，但当我重新启动进程时，旧进程仍在使用端口，我不得不再次终止进程。

我还读到了`SIGKILL`让套接字打开、过时的内存、正在使用的随机资源，所以我转向了 plain `kill PID`，它是一个`SIGTERM`.

是否`SIGTERM`保证允许进程与地址和端口解除绑定，还是有更好的选择？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T06:29:35.323

如果您 SIGKILL 保持侦听端口打开的所有进程，则保证关闭。

但是，它可能不会在几分钟内关闭，而它处于 TIME_WAIT 状态，这是 TCP 规范所要求的（让侦听客户端知道端口已关闭，以防他们错过原始关闭数据包）。

表现良好的服务器将使用选项 SO_REUSEADDR 打开套接字，允许它在重新启动时立即回收相同的端口，但这是特定于应用程序的。没有它，该端口将似乎使用了几分钟。

# html - 如何安全地将用户提供的 URL 添加到我的 HTML 页面？

> ID：14806794
> 
> 赞同：3
> 
> 时间：2013-02-11T06:09:53.710
> 
> 标签：html, url, encoding

与任何用户提供的数据一样，需要对 URL 进行适当的转义和过滤，以避免各种漏洞。我希望能够

*   将用户提供的 URL 放入`href`属性中。（如果我忘记写引号，我不会被搞砸，加分）

    ```
    <a href="ESCAPED_USER_URL_GOES_HERE">...</a> 
    ```

*   禁止恶意 URL，例如`javascript:`东西或指向恶意域名的链接。

*   给用户一些回旋余地。我不想仅仅因为他们忘记添加`http://`或类似的东西而引发错误。

不幸的是，我找不到此类问题的任何“规范”解决方案。我唯一能找到灵感的是`encodeURI`来自 Javascript 的函数，但这对我的第二点没有帮助，因为它只是进行了简单的 URL 参数编码，但只留下了特殊字符，例如`:`和`/`。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-11T07:33:59.940

OWASP 提供了一个[用于验证用户输入的正则表达式](https://www.owasp.org/index.php/OWASP_Validation_Regex_Repository)列表，其中一个用于验证 URL。这与您将获得语言中立的规范解决方案一样接近。

您更有可能依赖所用编程语言的 URL 解析库。或者，使用[URL 解析 regex](https://stackoverflow.com/questions/27745/getting-parts-of-a-url-regex)。

工作流程将类似于：

1.  验证提供的字符串是格式正确的 URL。
2.  提供默认协议，例如`http:`未指定协议时。
3.  维护可接受协议的白名单（`http:`、`https:`、`ftp:`、`mailto:`等）
    1.  白名单将是特定于应用程序的。对于地址簿应用程序来说，`mailto:`协议是必不可少的。很难想象`javascript:`和`data:`协议的用例。
4.  实施[最大 URL 长度](https://stackoverflow.com/questions/417142/what-is-the-maximum-length-of-a-url)- 确保跨浏览器 URL 并防止攻击者使用兆字节长度的字符串污染页面。运气好的话，你的 URL 解析库会为你做这件事。
5.  为使用上下文编码一个 URL 字符串。（转义用于 HTML 输出，转义用于 SQL 查询等）。

> 禁止恶意 URL，例如 javascript: stuff 或 links 或**恶意域名。**

您可以利用[Google 安全浏览 API](https://developers.google.com/safe-browsing/)检查域中是否存在间谍软件、垃圾邮件或其他“邪恶”。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-12T00:16:59.800

对于第一点，常规属性编码工作得很好。（将字符转义到 HTML 实体中。如果属性被保证为引号，则转义引号、和号和括号是可以的。如果属性被意外未引用，转义其他字母数字字符将使属性安全。

第二点含糊不清，取决于你想做什么。请记住使用白名单方法而不是黑名单方法，它可以使用 html 实体编码和其他技巧来绕过大多数简单的黑名单。

# php - 为 mysqli_insert_id() 返回的预期 ID 与实际不同

> ID：14806803
> 
> 赞同：0
> 
> 时间：2013-02-11T06:10:41.847
> 
> 标签：php, mysql, auto-increment

我不知道为什么用 mysqli_insert_id() 返回的 id 与我预期的 id 不同。这是我的代码：

```
$query = "INSERT INTO payments_table (payment_type, payment_number, payment_cost, insertion_date) VALUES ( '$paymentType', '$paymentNumber', '$totalCost', NOW())";
$data = mysqli_query($dbc, $query);
$currentPayerID = mysqli_insert_id($dbc);

//DEBUG
echo 'current payerID is: ' . $currentPayerID; 
```

由于当前有 2 行，我希望它在下次执行后回显“当前 payerID 为 3”。但是，执行此代码后，它会回显以下内容：“current payerID is 21”

几点注意事项：

1.  此“payments_table”表有一个名为“payer_id”的列，它是主键并具有 AUTO_INCREMENT 属性。
2.  我已经“截断”了这张表（我相信这与清空它是一样的）。

我在整个stackoverflow中进行了搜索，但有些答案不[相信我所找到的是可能的。](https://stackoverflow.com/questions/9315200/is-it-possible-for-mysqli-insert-id-to-return-an-incorrect-id-in-high-traffic-ap)我感谢任何慷慨的帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T06:41:30.050

你所期待的是错误的。

使用自动递增的字段允许您插入数据并通过每次插入将其递增一来生成唯一的主键。

这对您意味着返回给您的是唯一创建的 UD，而不是表中插入的行数。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T06:13:48.077

该`mysqli_insert_id`函数返回`ID`由对具有该`AUTO_INCREMENT`属性的列的表的查询生成的。如果最后一个查询不是`INSERT`or`UPDATE`语句，或者修改后的表没有具有该`AUTO_INCREMENT`属性的列，则此函数将返回零。

可能是你截断了，最后一个 id 是 20，然后它给你 21。现在尝试一次。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-11T07:16:20.603

`mysqli_insert_id`返回*最后一个* `AUTO_INCREMENT`值 - 如果您在调用之后`payments_table`但*在*调用之前插入另一个表，`mysqli_insert_id`您可能会得到一个意外的值。

此外，一`AUTO_INCREMENT`列不对应于数据库表中的行数，而是对应于表生命周期内的总行数。更准确地说，MySQL 维护一个计数器变量，每次创建新行时该变量都会递增。

以下查询将显示`AUTO_INCREMENT`表的下一个预期值：

```
SELECT AUTO_INCREMENT FROM information_schema.TABLES WHERE TABLE_SCHEMA = 'my_database_name' AND TABLE_NAME = 'my_table_name'; 
```

# html - 定位绝对 div 的问题

> ID：14806804
> 
> 赞同：0
> 
> 时间：2013-02-11T06:10:43.107
> 
> 标签：html, css, coding-style, styles, stylesheet

嘿伙计们，我在设置导航样式时遇到问题，因此无论浏览器如何，它都将始终位于页面上的同一位置....

我有以下内容：

```
#Mainmenu {
    width: 44%;
    font-family: Helvetica, Arial, Sans-Serif;
    font-weight: bold;
    font-size: .9em;
    list-style: none;
    position: absolute;
    left: 35em;
    top: 4.7em;
    right: 0;   

} 
```

这是定位，正是我想要它在 chrome 和 firefox 中但不是在 IE 中的位置。此外，如果我改变分辨率，它会稍微改变定位。我想知道我怎么能总是在它应该在的同一个地方拥有它。

需要帮助请叫我！

大卫

更新：

[http://jsfiddle.net/MVPkP/](http://jsfiddle.net/MVpkP/) - 是我在其中的样式和布局。

![这就是它在 IE 中的样子](../Images/74e4cebcf01ce7994a11a1ef011f1bea.png) ![它在 Chrome 中的外观](../Images/c7a512f2224796542649546d416725d5.png)

上面的一个是 Chrome，我希望它保持原样，这就是我想要的样式。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T06:27:46.770

把它放在你的标题中

```
 <!--[if IE]>
   <link rel="stylesheet" type="text/css" href="IE.css" />
 <![endif]--> 
```

为 IE 创建一个额外的 css 文件并相应地调整您的 IE css。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T06:26:49.670

您应该在左/右/上使用 %，或者将此元素放在另一个元素中。

例如：

```
#Mainmenu {
width: 44%;
font-family: Helvetica, Arial, Sans-Serif;
font-weight: bold;
font-size: .9em;
list-style: none;
position: absolute;
left: 3%;
top: 1.5%;
right: 0;   
} 
```

至于把它放在另一个元素中：

```
#wrap{
width: 700px;
margin:0 auto;  
 }

<div class="wrap">
     your menu stuff...
</div> 
```

其中任何一个都可以解决您的问题

# string - Bash 语言随机化 .txt 文件中的单词顺序

> ID：14806806
> 
> 赞同：1
> 
> 时间：2013-02-11T06:11:05.527
> 
> 标签：string, bash, shell, random, robots.txt

如何随机化 .txt 文件中的单词顺序？感谢大家，我不知道任何 bash 并且不知道任何好的资源

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-11T06:17:59.260

如果每行一个单词，您可以使用`shuf yourfile`以随机顺序输出它们，或者

```
shuf yourfile > tmpfile && mv tmpfile yourfile 
```

将洗牌后的内容写回`yourfile`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-11T06:28:52.530

如果每行有多个单词，您可以使用这个 Perl one-liner：

```
 perl -MList::Util -e '$/=""; print join " ", List::Util::shuffle split /\s/, <>' <in.txt >out.txt 
```

如果您不喜欢该输出文件位于单行中，您可以将其更改为每行一个单词：只需替换`join " "`为`join "\n"`.

# mongodb - 在 Mongodb 中，我如何检查嵌入文档中的重复项

> ID：14806809
> 
> 赞同：0
> 
> 时间：2013-02-11T06:11:17.453
> 
> 标签：mongodb

我对 mongodb 很陌生，我想知道在添加嵌入式文档时，是否有办法只能检查 person_Id 而不是活动字段。我只关心 person_id 不是重复的

```
 collection.update({'_id':new BSON.ObjectID(business_id)}, {$addToSet: {members : {person_Id : person_id, active : true }}}, {safe:true}, function(err, result) {
        if (err) {
            console.log('Error updating person: ' + err);
        } else {
            console.log('' + result + ' document(s) updated');
            callback(result);
        }
    }); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T13:56:44.783

如果我正确理解了您的问题，那么答案是肯定的。您可以将您的成员不应包含具有该特定 person_id 的成员的条件放入您的查询中：

```
update({'_id':new BSON.ObjectID(business_id), 'members.person_id':{$ne:person_id}}, {$push: {members : {person_Id : person_id, active : true }}} 
```

当且仅当 business_id 匹配并且成员数组不包含具有 person_id 的成员时，这会将新成员记录推送到您的成员数组中。请注意，此方法与 upsert 互斥。

# iphone - 如何在 UITableview 中动态地将行插入到 n 个部分

> ID：14806812
> 
> 赞同：1
> 
> 时间：2013-02-11T06:11:30.977
> 
> 标签：iphone, ipad

如何更新中的行数

`- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section{ }`

当它将扩大增加行数。

`- (void) rotateButtonToExpanded:(UIButton*)aButton section:(int)aSection{

```
// Rotate the button with animation.
[UIView beginAnimations:ROTATE_TO_EXPAND context:nil];
[UIView setAnimationDuration:ANIMATION_DURATION];
aButton.transform = CGAffineTransformMakeRotation(M_PI*2.5);
[UIView commitAnimations];

// Save the state (expanded or collapsed) of button with index path as key.
BOOL isExpanded=![[mStateOfNodes objectAtIndex:aSection] isExpanded];
[[mStateOfNodes objectAtIndex:aSection] setIsExpanded:isExpanded];

NSArray*theDataOfChildCells=[[self.mNodes objectAtIndex:aSection] valueForKey:CHILD_NODES];

for (int i=0; i<theDataOfChildCells.count; i++) {
    mNumberOfCells++;

    [self beginUpdates];
    NSIndexPath*theIndexPath=[NSIndexPath indexPathForRow:i inSection:aSection];
    [self insertRowsAtIndexPaths:[NSArray arrayWithObject:theIndexPath] withRowAnimation:UITableViewRowAnimationMiddle];
    [self endUpdates];

}

}` 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T06:17:19.940

使用重新加载数据方法，

```
[self.tableview reloadData]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T06:19:50.923

使用以下代码用于在`UITable`特定行和部分中添加行

```
NSIndexPath *indexPath = [NSIndexPath indexPathForRow:rowNO inSection:SectionNO];
        [self.tblView insertRowsAtIndexPaths:[NSArray arrayWithObject:indexPath] withRowAnimation:UITableViewRowAnimationAutomatic];
        rowNO=rowNO+1;
     [self.tblView scrollToRowAtIndexPath:indexPath atScrollPosition:UITableViewScrollPositionBottom animated:YES];
        [self.tblView reloadData]; 
```

# python - 将 shell 脚本转换为 python 程序

> ID：14806815
> 
> 赞同：-2
> 
> 时间：2013-02-11T06:12:08.140
> 
> 标签：python, linux

我尝试编写一个 shell 脚本，当磁盘使用率达到 70% 时会提醒管理员。我想用python写这个脚本

```
#!/bin/bash
ADMIN="admin@myaccount.com"
INFORM=70

df -H  | grep -vE ‘^Filesystem|tmpfs|cdrom’ | awk ‘{ print $5 ” ” $6 }’ | while read   output;
do
use=$(echo $output | awk ‘{ print $1}’ | cut -d’%’ -f1  )
partition=$(echo $output | awk ‘{ print $2 }’ )
if [ $use -ge $INFORM ]; then
echo “Running out of space \”$partition ($use%)\” on $(hostname) as on $(date)” |
mail -s “DISK SPACE ALERT: $(hostname)” $ADMIN
fi
done 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T07:25:49.060

对您来说最简单（可理解）的方法是`df`在外部进程上运行命令并从返回的输出中提取详细信息。

要在 Python 中执行 shell 命令，您需要使用`subprocess`模块。您可以使用`smtplib`模块向管理员发送电子邮件。

我编写了一个小脚本，它应该可以过滤您不需要监视的文件系统，进行一些字符串操作以提取文件系统和 % used 值，并在使用量超过阈值时打印出来。

```
#!/bin/python
import subprocess
import datetime

IGNORE_FILESYSTEMS = ('Filesystem', 'tmpfs', 'cdrom', 'none')
LIMIT = 70

def main():
  df = subprocess.Popen(['df', '-H'], stdout=subprocess.PIPE)
  output = df.stdout.readlines()
  for line in output:
    parts = line.split()
    filesystem = parts[0]
    if filesystem not in IGNORE_FILESYSTEMS:
      usage = int(parts[4][:-1])  # Strips out the % from 'Use%'
      if usage > LIMIT:
        # Use smtplib sendmail to send an email to the admin.
        print 'Running out of space %s (%s%%) on %s"' % (
            filesystem, usage, datetime.datetime.now())

if __name__ == '__main__':
  main() 
```

执行脚本的输出将是这样的：

```
Running out of space /dev/mapper/arka-root (72%) on 2013-02-11 02:11:27.682936
Running out of space /dev/sda1 (78%) on 2013-02-11 02:11:27.683074
Running out of space /dev/mapper/arka-usr+local (81%) on 2013-02-11 02:11 
```

# c# - 适配器还是代理？

> ID：14806819
> 
> 赞同：1
> 
> 时间：2013-02-11T06:12:18.170
> 
> 标签：c#, design-patterns

在有 3 个类的情况下，我需要选择 1 个类来使用。然后通过使用标准方法，我可以访问该文件。使用一种标准方法的原因是为了防止在使用不同的协议时重写代码。

例如，我有 3 个名为`MAPI`, `WebDAV`,的类`EWS`。每个类都有自己的从 Exchange Server 检索信息的方法。我希望有一个类具有访问每个类的所有标准方法。作为系统管理员，我首先选择要使用的协议，然后选择系统应该执行的过程（检索信息、更新信息等）。这样，系统管理员不需要具备编程知识，因为他/她不必在每次更改协议时都编辑代码。

我应该使用哪种设计模式？我应该使用适配器设计模式还是代理设计模式？我目前正在使用代理设计来设计有一个抽象类和另外 3 个类，AB 和 C，以及 1 个附加类，Manager 类，继承抽象类中的方法。

我使用 Manager 类来管理对任一类的访问。但是当我查看适配器模式时，它似乎是一个更好的选择。我应该使用哪个？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T06:26:50.000

听起来这里既不需要适配器也不需要代理设计模式。

从您的问题来看，听起来您有一个为操作提供通用接口的抽象基类，以及三个使用不同协议的具体类，以及一个用于实例化所需具体类的管理器（工厂）。这听起来很适合您的需求。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T06:34:41.873

如果您**还没有将 MAPI、WebDAV、EWS 支持实现为****没有公共接口**的单独类（库） ，那么只需使用**公共接口**`(Providers`即可：公共接口 ( )应该有具体的实现`IDataProvider`，不需要设计模式。

如果您**已经将 MAPI、WebDAV、EWS 支持实现为****没有公共接口**的单独类（库） ，那么[适配器模式](http://en.wikipedia.org/wiki/Adapter_pattern)会很好。例如，具体实现没有通用接口（请参阅`Create()`、`CreateItem()`、`AddItem()`方法）：

![类图](../Images/14916760512f6efbcc8f9f69e6ac2e3e.png)

在这种情况下，提供者类是适配器。

# java - 将造波器模块集成到 Spring 3 应用程序中

> ID：14806821
> 
> 赞同：0
> 
> 时间：2013-02-11T06:12:25.220
> 
> 标签：java, module, spring-3, spring-integration, wavemaker

我有一个在 wave maker- 6.5.1 中开发的模块。现在我想在 Spring 3 Web 应用程序中集成相同的功能。任何人都可以指导这怎么可能？任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T22:39:53.747

WaveMaker 应用程序只是 Spring 3 Web 应用程序。WaveMaker 是一个拖放构建器，用于在 Java 应用程序（使用 Spring 3）之上构建 Web gui（使用 dojo javascript 工具包）。

您可以在此处找到有关如何使用 Spring 框架和 wavemaker 的更多信息：

[http://dev.wavemaker.com/wiki/bin/Spring](http://dev.wavemaker.com/wiki/bin/Spring)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-09T14:49:38.090

也许您在此视频中发现了一些有用的内容：[使用 Spring 充分利用 WaveMaker](http://www.youtube.com/watch?v=b_6jyxjOR9M)。它展示了 WM 如何与 Spring 集成

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-06-14T18:18:01.717

您可以将wavemaker（付出很多努力）集成到spring3项目中，也许您必须手动复制和设置太多选项。或者，你可以有 2 个不同的项目可以共享同一个数据库，如果你想在项目之间进行某种通信，你可以实现一些 web 服务（如果需要，在双方），你可以发送数据或做一些技巧在应用程序中。

# gwt - 在 GWT 中查找令牌

> ID：14806822
> 
> 赞同：-4
> 
> 时间：2013-02-11T06:12:27.980
> 
> 标签：gwt, gwt-platform, gwt-mvp, gwtp, gwt-places

有趣的是，其中一位应用程序开发人员正在休假，我无法联系到他。

我们有一个 GWT 应用程序，我们正在尝试通过将令牌传递给一个地方来临时加载一个页面。但由于他忘记记录到达该地点的 URL，我们无法加载该地点。

所以我不知道如何找出令牌。但我知道那个地方。

有人可以指导我吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T08:51:47.697

`GWTP`使用`@NameToken( "MyPlaceName" )`，以便该页面可以使用浏览器历史记录。`presenter`这将允许您通过在 URL 中输入名称标记或通过超链接小部件导航到此。这也将允许您使用浏览器的后退和前进按钮在应用程序中导航。

**每个 Presenter 都将具有唯一的 NameToken，如下所示。**

**...**

```
@NameToken("main")
  public interface MyProxy extends ProxyPlace<MainPagePresenter> {} 
```

**...**

**您可以向演示者透露如下。**

```
PlaceRequest myRequest = new PlaceRequest("desiredNameToken");
// If needed, add URL parameters in this way:
myRequest = myRequest.with( "key1", "param1" ).with( "key2", "param2" );
placeManager.revealPlace( myRequest ); 
```

希望对你有帮助！！！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-11T06:50:43.667

```
 PlaceRequest placeRequest = new PlaceRequest( "homepage");
  placeManager.revealPlace(placeRequest); 
```

其中 URL 是演示者的名称令牌。如果您将名称令牌作为主页，则映射到“主页”的演示者将打开。如果您知道要打开哪个演示者，则可以在该演示者中找到 NameToken 它应该像

```
@NameToken("homepage"); 
```

# c# - 访问主站点 dll 的类并在 C# 中从子站点创建对象

> ID：14806823
> 
> 赞同：0
> 
> 时间：2013-02-11T06:12:54.130
> 
> 标签：c#

我在服务器的主项目位置的 bin 文件夹中有一个 dll，我在主站点下有一个子站点，

我想引用/访问主站点的 dll 类并从我的子站点创建对象。我只会将我的 dll 保留在主站点的 bin 位置，我不想将引用的 dll 复制到子站点 bin 文件夹中。

任何人都可以帮助如何做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T07:25:29.527

在子 Web 应用程序项目的*Properties窗口中，在**Compile*页面下将*Build output path*更改为`..\bin\`.

请参阅[使用 Web 应用程序项目在 IIS 中创建子项目](http://blogs.msdn.com/b/webdev/archive/2006/07/01/652986.aspx)

# mysql - MySQL，参照完整性不起作用

> ID：14806824
> 
> 赞同：1
> 
> 时间：2013-02-11T06:12:54.583
> 
> 标签：mysql, referential-integrity

我使用 MySQL 服务器 5.5；MySQL 工作台 5.2 CE；WinXp SP3；我创建了 2 个表：

```
CREATE  TABLE IF NOT EXISTS `mydb`.`Address` (
  `AddressID` INT NOT NULL AUTO_INCREMENT ,
  `Country` VARCHAR(45) NOT NULL ,
  `City` VARCHAR(45) NOT NULL ,
  `Region` VARCHAR(45) NOT NULL ,
  `PostalCode` VARCHAR(12) NOT NULL ,
  `Address1` VARCHAR(100) NOT NULL ,
  PRIMARY KEY (`AddressID`) )
ENGINE = InnoDB;

CREATE  TABLE IF NOT EXISTS `mydb`.`Customers` (
  `CustomerID` INT NOT NULL AUTO_INCREMENT ,
  `FirstName` VARCHAR(45) NOT NULL ,
  `LastName` VARCHAR(45) NOT NULL ,
  `Email` VARCHAR(500) NOT NULL ,
  `Password` VARCHAR(500) NOT NULL ,
  `RegistrationDate` TIMESTAMP NULL ,
  `CustomerCellPhone` VARCHAR(20) NULL ,
  `AddressID` INT NULL ,
  PRIMARY KEY (`CustomerID`) ,
  INDEX `AddressID_idx` (`AddressID` ASC) ,
  UNIQUE INDEX `Email_UNIQUE` (`Email` ASC) ,
  CONSTRAINT `CustomerAddressID`
    FOREIGN KEY (`AddressID` )
    REFERENCES `mydb`.`Address` (`AddressID` )
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB; 
```

基本上，“客户”表包含外键约束，它不起作用。理论上，如果我将数据插入两个表中，我不会删除“地址”，因为“客户”依赖于它：

```
insert into Address SET Country = 'Zimbabwe',
                        City = 'Harare',
                        Region = 'Mashonaland East Province',
                        PostalCode = '777',
                        Address1 = 'square 777 - 777';

insert into Customers SET FirstName = 'John',
                          LastName ='Doe',
                          Email = 'john@doe.com',
                          Password = '12345',
                          RegistrationDate = now(),
                          CustomerCellPhone = 123456789,
                          AddressID = 1; 
```

'顾客'

> ```
> CustomerID    FirstName   AddressID
> 1             John        1 
> ```

'地址'

> ```
> AddressID         Country          City   
> 1                 Zimbabwe         Harare 
> ```

但是，我可以通过以下方式删除客户的地址：

```
DELETE FROM Address WHERE AddressID=1; 
```

表“客户”没有参考（悬空指针）

> ```
> CustomerID        FirstName       AddressID
> 1                 John            1 
> ```

空表“地址”

> ```
> AddressID         Country         City    
> ---               ---             --- 
> ```

问题是 'Customers' 将 NULL 引用到 'Address' 中，因为 'Address'.AddressID = 1 不存在。它没有给我任何错误。我能做些什么来修复这个错误？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T10:20:31.497

呼，重新启动 MySQL 服务器对我有帮助。

# c# - 声音播放完毕后，如何在 Windows 8 Metro 应用程序中导航到新页面？

> ID：14806829
> 
> 赞同：0
> 
> 时间：2013-02-11T06:13:12.537
> 
> 标签：c#, windows-8, navigation, mediaelement

我正在使用以下代码在单击按钮时播放声音。

```
public class AudioHelper
    {
        public async static void playButtonClick()
        {
            MediaElement snd = new MediaElement();
            StorageFolder folder = await Package.Current.InstalledLocation.GetFolderAsync("Audios");
            StorageFile file = await folder.GetFileAsync("buttonClick.m4a");
            var stream = await file.OpenAsync(FileAccessMode.Read);
            snd.SetSource(stream, file.ContentType);
            snd.Play();
        }
    } 
```

我使用以下代码从按钮单击事件中调用代码：

```
 private void btnFlashCard_Click(object sender, RoutedEventArgs e)
        {
            AudioHelper.playButtonClick();
            this.Frame.Navigate(typeof(LevelSelection));
        } 
```

由于 playButtonClick 是异步的，因此页面会在音频开始播放之前导航到 LevelSelection 页面。如何使音频先播放然后页面导航？谢谢你。

**编辑：** 感谢@htcdmrl，我能够弄清楚如何做到这一点。正如我在评论中提到的，为了触发 MediaEnded 事件，MediaElement 必须位于可视树中。我在 xaml 中添加了以下代码并稍微修改代码以使其正常工作。

我将以下代码添加到 XAML：

```
 <Frame HorizontalAlignment="Left" Margin="10,742,0,0" VerticalAlignment="Top">
            <MediaElement x:Name="me"  HorizontalAlignment="Left" Height="100" Margin="20,742,0,-74" VerticalAlignment="Top" Width="100" RenderTransformOrigin="0.359,-0.219"/>
        </Frame> 
```

将以下代码添加到 MainPage.Xaml.cs

```
public MainPage()
        {
            this.InitializeComponent();
            me.MediaEnded += me_MediaEnded;
        }

        void me_MediaEnded(object sender, RoutedEventArgs e)
        {
            this.Frame.Navigate(typeof(LevelSelection));
        } 
```

并将 playButtonclick 和 btnFlashCard_Click 更改为以下内容：

```
private void btnFlashCard_Click(object sender, RoutedEventArgs e)
        {
            playButtonClick();
        }

        public async void playButtonClick()
        {

            StorageFolder folder = await Package.Current.InstalledLocation.GetFolderAsync("Audios");
            StorageFile file = await folder.GetFileAsync("buttonClick.m4a");
            var stream = await file.OpenAsync(FileAccessMode.Read);
            me.SetSource(stream, file.ContentType);

            me.Play();
        } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T08:00:05.020

将媒体结束事件添加到您的媒体元素；

```
MediaElement snd = new MediaElement();
snd.MediaEnded += snd_MediaEnded; 
```

然后添加您的活动；

```
void snd_MediaEnded(object sender, RoutedEventArgs e)
{
    snd.Stop();
    this.Frame.Navigate(typeof(LevelSelection));
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-11T06:20:21.353

使用事件 MediaElement.MediaEnded 事件：

```
private void btnFlashCard_MediaEnded(object sender, EventArgs e)
{
   this.Frame.Navigate(typeof(LevelSelection));
} 
```

# facebook - 使用 facebook 应用程序既可以作为 fb 连接到我的网站，也可以作为 facebook 上的应用程序？

> ID：14806830
> 
> 赞同：1
> 
> 时间：2013-02-11T06:13:16.223
> 
> 标签：facebook, login

我在我的网站上使用**facebook connect**，现在我想在我的 facebook 页面上开发一个应用程序，这将要求用户在我的网站上进行 facebook 登录，然后回答一个快速的琐事。我的问题：

1.  我可以在两个平台上使用 1 个应用程序吗？
2.  我可以让用户通过 facebook 应用程序在我的网站上进行 facebook 连接吗？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T06:35:48.623

1) 是的。但请记住，**页面选项卡中允许的最大宽度为 810px**。

2) 是的。使用 Javascript API。

# node.js - LDAP JS 身份验证出现错误

> ID：14806832
> 
> 赞同：3
> 
> 时间：2013-02-11T06:13:28.830
> 
> 标签：node.js, ldap

我是 ldap 的新手。我正在使用 ldapauth.js 来验证凭据。

我使用 ldapauth npm 进行身份验证。

/*----------------LDAP_AUTH----------------*/

```
var ldap = require('ldapjs');
var LdapAuth = require('ldapauth');
var server = ldap.createServer();

server.search('o=example', function(req, res, next) {
  var obj = {
    dn: req.dn.toString(),
    attributes: {
      objectclass: ['organization', 'top'],
      o: 'example'
    }
  };

  if (req.filter.matches(obj.attributes))
    res.send(obj);

  res.end();
});

server.listen(1389, function() {
  console.log('LDAP server listening at %s', server.url);
});

var options = {
    url: "ldap://0.0.0.0:1389",
    adminDn: "uid=myadminusername,ou=users,o=example",
    adminPassword: "mypassword",
    searchBase: "ou=users,o=example",
    searchFilter: "(uid={{username}})"
};
var auth = new LdapAuth(options);

auth.authenticate('myadminusername', 'mypassword', function(err, user) { console.log('err'); 
    console.log(err);
console.log(err.message);
console.log('user');
console.log(user);
});

auth.close(function(err) { console.log('errorr'); }) 
```

在控制台中我收到错误消息。

```
LDAP server listening at ldap://0.0.0.0:1389
err
{ dn: [Getter],
  code: [Getter],
  name: [Getter],
  message: [Getter] }
No tree found for: uid=myadminusername, ou=users, o=example
user
undefined 
```

请帮助我找出问题所在。

谢谢你的时间

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T08:24:44.777

It looks like you have mistyped the port number, the default LDAP port is `389` but here you are using `url: "ldap://0.0.0.0:1389"`. I assume that you are using the real IP in you code.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-12-11T16:58:38.207

您正在同一进程中运行 LDAP 客户端和 LDAP 服务器。不知何故，我怀疑这是你想要做的。通常，您要么创建一个服务器进程来提供身份验证服务，要么作为客户端尝试根据中央 LDAP 目录对用户进行身份验证。

该错误消息还显示服务器没有任何数据 - 自然，当您启动它并且没有提供任何数据时。

我猜您只是想要求您的中央（已经在某处运行）LDAP 服务器对想要使用您的服务器/api/网站的用户进行身份验证，那么您所做的第二部分是正确的。仅使用[此处的说明](https://github.com/trentm/node-ldapauth)

[在我关于性能的](https://stackoverflow.com/questions/20525070/why-is-node-ldapauth-so-slow-even-when-cached)并行问题中查看 express 应用程序中的配置

# process - 如何使用 dtrace 显示每个进程消耗的微秒 cpu？

> ID：14806842
> 
> 赞同：2
> 
> 时间：2013-02-11T06:14:38.537
> 
> 标签：process, solaris, cpu, dtrace

在 Solaris 上使用 dtrace，我可以使用以下脚本在从 start 到 control-C 的时间间隔内为给定进程（或 execname）累积 on-cpu 时间：

```
!/usr/sbin/dtrace -qs
dtrace:::BEGIN {
        total = 0;
}
sched:::on-cpu
/execname == $$1/
{
        self->start = vtimestamp;
}
sched:::off-cpu
/self->start/
{
        this->time = vtimestamp - self->start;
        total += this->time;
        self->start = 0;
}
dtrace:::END {
        printf("Total Time on CPU: %d us\n",total/1000);
} 
```

（累积时间具有细粒度，允许纳/微秒累积。）

在同一时间范围内，我想在一个数组中累积所有或多个进程，并报告所有累积的 CPU 中断时间 (^C)。

做这个的最好方式是什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-12T05:49:01.493

好的，通过更多的工作，我已经解决了我的问题。

这是在时间间隔内为所有进程（但显示每个进程）获取微秒的方法。

```
#!/usr/sbin/dtrace -qs

dtrace:::BEGIN {
        total = 0;
        starttimestamp=timestamp;
        printf("Starting...\n");
}

sched:::on-cpu
/pid!=0/
{
        self->start = vtimestamp;
}

sched:::off-cpu
/self->start && pid!=0/
{
        this->time = vtimestamp - self->start;
        total += this->time;

        @proctime[pid,uid,execname,curpsinfo->pr_psargs] = sum( this->time/1000 );

        self->start = 0;
}
dtrace:::END {
        printf("Elapsed time %d usec\n",(timestamp-starttimestamp)/1000);
        printf("Total Time on CPU: %d us\n",total/1000);
        printa(@proctime);
} 
```

# actionscript-3 - AS3 / AIR 3.5 仅替换字符串的一部分

> ID：14806845
> 
> 赞同：1
> 
> 时间：2013-02-11T06:15:12.837
> 
> 标签：actionscript-3, flash, air, flash-cs5

AS3 | 闪光 CS6 | 土坯空气 3.5

我有一个很长的字符串，最终将被格式化为 XML。在字符串中，我有几个类似以下内容的实例：

```
<title>Some title</title>

//the following line would need changed
<title>Some title</garbage>

<title>Some title2</title>
<title>Some title3</title>

//the following line would need changed
<title>Someone's title & (his info)</garbage>

//the following line should NOT change
<another title>something else</garbage> 
```

我需要搜索和替换所有这些：

```
<title>(whatever is here)</garbage> 
```

并制作它们：

```
<title>(whatever is here)</title> 
```

如您所见，我不能简单地搜索和替换“垃圾”，因为它不适用于每个实例...我只想替换那些使用 <title> ...而不是 <another title> 也请请注意，不确定 <title> 和 </garbage> 之间的字符是什么

所以虽然我知道这不起作用......我在想一些事情：

```
str = str.replace(/<title>\w+<\/garbage>/, "<title>\w+<\/title>"); 
```

我认为答案在此页面上的“捕获子字符串”下，但到目前为止还没有运气： [http ://www.sevenson.com.au/actionscript/testing-regular-expressions/](http://www.sevenson.com.au/actionscript/testing-regular-expressions/)

在这一点上，我似乎只是在随机插入一些东西，所以寻求帮助更有意义。

任何建议表示赞赏。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T07:52:05.363

匹配`<title>`前后的任何符号`</garbage>`

```
str = str.replace(/(<title>.[^<]+)<\/garbage>/, "$1</title>"); 
```

示例[http://regexr.com?33nog](http://regexr.com?33nog)

# maven - 在 Eclipse 中编译 Apache Hadoop 源代码

> ID：14806849
> 
> 赞同：0
> 
> 时间：2013-02-11T06:15:36.283
> 
> 标签：maven, hadoop, hadoop-streaming

经过大约 4 次尝试后，我设法使用 git 来检查 apache 的 Hadoop 源代码，发出

```
mvn eclipse:eclipse 
```

命令，然后将所有项目导入eclipse。到目前为止，这是我最成功的一次。我几乎在那里。我尝试构建和清理所有项目，一切进展顺利。现在我只有 3 个错误要摆脱。如果有人能帮助我解决这个问题，我将不胜感激。我一直试图让它工作大约 2 天左右。无论如何，在 Eclipse 中我有大约 20 个 Hadoop 项目。只有两个有错误。一种称为“hadoop-streaming”，另一种称为“hadoop-tools-dist”。

错误说明如下：

项目“hadoop-streaming”缺少所需的源文件夹：“C:/Users/User/hadoop/hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/conf”

其他错误主要与此有关。无论如何，这就是 Eclipse 所说的。我试图将文件夹复制到需要的位置，但这并没有清除错误。有谁知道如何解决这一问题？如果您需要我的任何东西，请问。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T09:29:57.127

我不知道 Hadoop 项目长什么样，但我想它使用的是 maven。所以而不是使用

```
mvn eclipse:eclipse 
```

我建议使用 eclipse -> import maven projects 的导入功能（尽管有时工作比预期的要难）。与您的问题相关，每当有某种文件夹未添加为 eclipse 中的源文件夹（为源等生成的文件夹）时，我就会发生这种错误。因此，我建议检查您提到的文件夹是否已经存在，以及是否将其添加为源文件夹。如果没有，只需相应地标记它（源文件夹）。清理项目（项目>清理...），如果需要更新maven项目（右键单击父项目> Maven>更新项目...）

祝你好运！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2019-09-04T12:23:08.077

在日食中：

1.  右键单击`hadoop-streaming program`
2.  选择`Properties`
3.  在栏的左侧，单击`Java Build Path`按钮，然后选择`source`标签页
4.  删除出错的路径
5.  点击`Link Source`
6.  选择链接目录为`(your hadoop-src root path)/hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/conf`
7.  单击`Next`按钮，添加包含模式`capacity-scheduler.xml`，添加排除模式`**/*.java`

# xml - 从 XML 文档中获取属性值的值

> ID：14806856
> 
> 赞同：0
> 
> 时间：2013-02-11T06:16:37.390
> 
> 标签：xml, xpath, xquery

我正在使用 Editix 运行一些 XML 查询，并且试图从标签中获取“角色”属性......

```
<actor id="5" role="Richie Cusack"/> 
```

....并在我生成的标签之间插入值，就像这样....

```
<role>Richie Cusack</role> 
```

...但是我正在运行的查询是将角色属性值插入回我围绕它的标签的属性中，例如...

```
<role role="Richie Cusack"/> 
```

这是我的 XQuery 查询....

```
<results>
{
let $ms := doc("xmlPath.xml"),
for $m in $ms//movie
    for $r in $m/actor/@role
    return <result>
        {$m/title}<role>{$r}</role>
         </result>
}
</results> 
```

...这是 XML 文件的结构...

```
<movies>
  <movie>
    <title>A History of Violence</title>
    <year>2005</year>
    <country>USA</country>
    <genre>Crime</genre>
    <summary>Tom Stall, a humble family man and owner of a 
    .</summary>
    <director id="1"/>
    <actor id="5" role="Richie Cusack"/>
 </movie>
  <movie>
    <title>Heat</title>
    <year>1995</year>
    <country>USA</country>
    <genre>Crime</genre>
    <summary>Hunters and their prey--Neil and his professional 
    .... </summary>
    <director id="6"/>
    <actor id="7" role="Lt. Vincent Hanna"/>
</movies> 
```

如何仅提取属性的值并将其嵌入标签之间，而不以属性的形式插入自身？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T08:57:49.920

在这个查询中，`$r`它本身是一个属性，所以它被添加到父节点`<role>`（你可以注意到同样的事情正在发生`$m/title`- 元素本身，而不仅仅是它的文本，被添加到`<result>`）。

要获得您正在寻找的行为，请执行以下操作：

```
<role>{string($r)}</role> 
```

# jsf-2 - Faces Servlet 不解析 jsf 2 中的 .xhtml 页面。在 tomcat 7 上运行

> ID：14806862
> 
> 赞同：1
> 
> 时间：2013-02-11T06:17:04.857
> 
> 标签：jsf-2, tomcat7

我正在尝试使用tomcat7 在eclipse 中创建一个JSF 2.0 应用程序。项目运行成功，但 jsf html 和核心组件未在浏览器中呈现。我认为我在 web.xml 中配置了 Faces Servlet。

以下是 web.xml 文件 -

```
<welcome-file-list>
<welcome-file>faces/index.xhtml</welcome-file>    
</welcome-file-list>

<servlet>
    <servlet-name>Faces Servlet</servlet-name>
    <servlet-class>javax.faces.webapp.FacesServlet</servlet-class>
    <load-on-startup>1</load-on-startup>
</servlet>
<servlet-mapping>
    <servlet-name>Faces Servlet</servlet-name>
    <url-pattern>/faces/*</url-pattern>    
</servlet-mapping>  

<context-param>
    <description>State saving method: 'client' or 'server' (=default)</description>
    <param-name>javax.faces.STATE_SAVING_METHOD</param-name>
    <param-value>client</param-value>
</context-param>
<context-param>
    <param-name>javax.servlet.jsp.jstl.fmt.localizationContext</param-name>
    <param-value>resources.application</param-value>
 </context-param>
 <listener>
    <listener-class>com.sun.faces.config.ConfigureListener</listener-class>
 </listener> 
```

我在 WEB-INF 之外有我的 index.xhtml 页面。它显示在浏览器中，但在浏览器中看不到 jsf 组件。谁能告诉我出了什么问题。

我在 WEB-INF/lib 中包含了以下 jar - 1\. commons-annotations.jar 2\. commons-beansutil.jar 3\. commons-collection.jar 4\. commons-digester.jar 5\. commons-logging.jar 6\. jsf -api.jar（来自 mojra 2.0） 7\. jsf-impl.jar（来自 mojra 2.0） 8\. jstl.jar 9.standard.jar

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T09:03:47.510

试试这些..这些是我曾经为我自己的问题指定的..

1.  您不需要甚至不应该包含 JSF jars。这些已经是 Java EE 的一部分。
2.  其次，您绝对不需要也绝对不应该将单独的 Facelets jar 与 JSF 2.x 结合使用。Facelets 已经是 JSF 2.x 的一部分。
3.  您也不应该包含 JSTL jar。Java EE 也提供了一个。如果你有 Apache commons 的 commons jars，那么这些都很好，但 JSF 不需要它们。仅当您想在应用程序代码中直接使用它们时才包含它们。
4.  尝试获取最新的 JSF (mojara 2.x)。

您也可以像这样修改您的 web.xml 并尝试：

```
 <welcome-file-list>
 <welcome-file>index.xhtml</welcome-file>    
 </welcome-file-list> 

 <servlet>
 <servlet-name>Faces Servlet</servlet-name>
 <servlet-class>javax.faces.webapp.FacesServlet</servlet-class>
   <load-on-startup>1</load-on-startup>
 </servlet>
  <servlet-mapping>
  <servlet-name>Faces Servlet</servlet-name>
  <url-pattern>*.xhtml</url-pattern>    
 </servlet-mapping> 
```

当我尝试时，我删除了单独添加 jsf jars。它起作用了，显示了所有的 jsf 标签。还要确保您的 xhtml 页面中有所有必需的标记库，即：

```
<html xmlns="http://www.w3.org/1999/xhtml"
xmlns:h="http://java.sun.com/jsf/html"
xmlns:ui="http://java.sun.com/jsf/facelets"
xmlns:p="http://primefaces.org/ui"
xmlns:f="http://java.sun.com/jsf/core"> 
```

看看这是否有效。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-03-01T10:28:49.690

请将原始问题中显示的 servlet 映射更改为

```
<servlet-mapping>
    <servlet-name>Faces Servlet</servlet-name>
    <url-pattern>*.xhtml</url-pattern>    
</servlet-mapping> 
```

使其工作，即通过 JSF2 呈现您的内容（已由 Tomcat 愉快地提供服务）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-06-13T19:47:58.753

我也有这个问题，因为这个问题是关于 JSF 不解析 xhtml 文件的谷歌查询的第一个结果，这是我为解决的问题所做的：

在我的情况下，我依赖于weld-servlet 2.2.1 版，当我从类路径中删除它时，JSF 开始呈现。

希望这有帮助！

# java - 如何检查pdf文件是否受密码保护？

> ID：14806868
> 
> 赞同：4
> 
> 时间：2013-02-11T06:17:24.220
> 
> 标签：java, pdf

如何在java中检查pdf文件是否受密码保护？我知道有几个工具/库可以做到这一点，但我想知道这是否可以用 java 中的程序来实现。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-11T06:26:01.877

您可以使用 PDFBox：

[http://pdfbox.apache.org/](http://pdfbox.apache.org/)

代码示例：

```
try
{
    document = PDDocument.load( yourPDFfile );

    if( document.isEncrypted() )
    {
      //ITS ENCRYPTED!
    }
} 
```

使用行家？

```
<dependency>
    <groupId>org.apache.pdfbox</groupId>
    <artifactId>pdfbox</artifactId>
    <version>2.0</version>
</dependency> 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2016-12-27T22:43:44.553

**更新**

根据 mkl 在此答案下方的评论，规范似乎允许使用两种类型的 PDF 结构：（1）交叉引用表（2）交叉引用流。以下解决方案仅针对第一种类型的结构。需要更新此答案以解决第二种类型。

====

上面提供的所有答案都引用了一些第三方库，这是 OP 已经知道的。OP 要求使用本机 Java 方法。我的回答是肯定的，你可以做到，但这需要大量的工作。

这将需要一个两步过程：

**第 1 步**：**确定 PDF 是否已加密**

根据 Adob​​e 的 PDF 1.7[规范](http://wwwimages.adobe.com/www.adobe.com/content/dam/Adobe/en/devnet/acrobat/pdfs/pdf_reference_1-7.pdf)（第 97 和 115 页），如果预告片记录包含密钥“\Encrypted”，则 pdf 被加密（加密可以是简单的密码保护或 RC4 或 AES 或一些自定义加密）。这是一个示例代码：

```
 Boolean isEncrypted = Boolean.FALSE;
    try {
        byte[] byteArray = Files.readAllBytes(Paths.get("Resources/1.pdf"));
        //Convert the binary bytes to String. Caution, it can result in loss of data. But for our purposes, we are simply interested in the String portion of the binary pdf data. So we should be fine.
        String pdfContent = new String(byteArray);
        int lastTrailerIndex = pdfContent.lastIndexOf("trailer");
        if(lastTrailerIndex >= 0 && lastTrailerIndex < pdfContent.length()) {
            String newString =  pdfContent.substring(lastTrailerIndex, pdfContent.length());
            int firstEOFIndex = newString.indexOf("%%EOF");
            String trailer = newString.substring(0, firstEOFIndex);
            if(trailer.contains("/Encrypt"))
                isEncrypted = Boolean.TRUE;
        }
    }
    catch(Exception e) {
        System.out.println(e);
        //Do nothing
    } 
```

**第 2 步**：**找出加密类型**

这一步比较复杂。我还没有代码示例。但这里是算法：

1.  从上面的步骤 1 中读取的预告片中读取密钥“/Encrypt”的值。例如，该值为 288 0 R。
2.  查找字节“288 0 obj”。这是文档中“加密字典”对象的位置。该对象边界以字符串“endobj”结束。
3.  在此对象中查找键“/Filter”。“过滤器”是识别文档安全处理程序的过滤器。如果“/Filter”的值为“/Standard”，则文档使用内置的基于密码的安全处理程序。

如果您只想知道 PDF 是否被加密，而不用担心加密是所有者/用户密码或某些高级算法的形式，则不需要上面的第 2 步。

希望这可以帮助。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-11T06:59:36.283

使用[iText](http://itextpdf.com/) pdf API，我们可以识别受密码保护的 PDF。

**例子 ：**

```
 try {
            new PdfReader("C:\\Password_protected.pdf");            
        } catch (BadPasswordException e) {
            System.out.println("PDF is password protected..");
        } catch (Exception e) {
            e.printStackTrace();
        } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-05-20T15:41:04.457

您可以使用 Itext 验证 pdf，即它是否可读、可写。

以下是代码片段，

```
boolean isValidPdf = false;
try {
    InputStream tempStream = new FileInputStream(new File("path/to/pdffile.pdf"));
    PdfReader reader = new PdfReader(tempStream);
    isValidPdf = reader.isOpenedWithFullPermissions();
    } catch (Exception e) {
        isValidPdf = false;
    } 
```

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2015-05-31T20:20:38.847

解决方案：

1) 安装 PDF Parser [http://www.pdfparser.org/](http://www.pdfparser.org/)

2) 在本节编辑 Parser.php：

```
if (isset($xref['trailer']['encrypt'])) {
echo('Your Allert message');
exit();} 
```

3）在您的 .php 表单帖子（例如 upload.php）中插入：

```
for the first require  '...yourdir.../vendor/autoload.php'; 
```

然后写这个函数：

```
function pdftest_is_encrypted($form) {
$parser = new \Smalot\PdfParser\Parser();
$pdf    = $parser->parseFile($form);
} 
```

然后调用函数

```
pdftest_is_encrypted($_FILES["upfile"]["tmp_name"]); 
```

这就是全部，如果您尝试使用密码加载 PDF，系统会返回错误“您的警报消息”

# android - 按钮 onClick 监听器。未进入 onClick 功能

> ID：14806872
> 
> 赞同：1
> 
> 时间：2013-02-11T06:17:36.983
> 
> 标签：android, button, onclicklistener

在我的 android 应用程序中，我将按钮图像更改 1 秒。有一组按钮。在这 1 秒内，任何一个按钮的图像都会被更改。如果在那 1 秒内单击该特定按钮，我想执行一些操作。我尝试使用 onclick 侦听器，但它不起作用。我怎样才能做到这一点？请帮助我下面是代码 -

```
protected void onCreate(Bundle savedInstanceState) {
// TODO Auto-generated method stub
super.onCreate(savedInstanceState);
setContentView(R.layout.next);

myTimer = new Timer();

myTimer.schedule(new TimerTask() {  

@Override
public void run() {
  if(time==-1){

    onStop();
  }
  else
    runOnUiThread(new Runnable() {
    public void run() {

      Random rand=new Random();               
      time=time-1;
      but1=(Button) findViewById(R.id.b1);
      but1.setBackgroundResource(R.drawable.happy);
      but1.setContentDescription("happy");
      but2=(Button) findViewById(R.id.b2);
      but2.setBackgroundResource(R.drawable.happy);
      but2.setContentDescription("happy");

      int num = rand.nextInt(buttonIds.length);
      int buttonId = buttonIds[num];

      Button bb=(Button) findViewById(buttonId);

      if(bb.getContentDescription().equals(button.getContentDescription()))
      {
        bb.setBackgroundResource(R.drawable.happy);
        bb.setContentDescription("happy");
        wrong++;
      }
      else
      {
        bb.setBackgroundResource(R.drawable.whoa);
        count++;

        bb.setContentDescription("whoa");
      }

    }
  });
}

},0, 1000);
}

public void onClick(View v){
//when i clicked on any button its not even entering here
System.out.println("in onlcik............");
int aaa=v.getId();
System.out.println("click id is------------"+aaa);
for(i=0;i<9;i++){
if(aaa==buttonIds[i]){
    findViewById(buttonIds[i]).setOnClickListener(new View.OnClickListener() {

        Drawable dd=findViewById(buttonIds[i]).getBackground();
        public void onClick(View arg0) {
         System.out.println("yes...");

        }
    });
}
}
}

 } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T06:23:15.590

看起来您忘记将 onClickListener 添加到您的按钮。

尝试添加

```
 but1.setOnClickListener(this);
    but2.setOnClickListener(this); 
```

到你的代码。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T06:23:55.200

为此，您需要`buttonObj.setOnClickListener(this);`从您的代码中调用。我`this`在您尝试添加`public void onClick(View v)`活动时添加了它。`implementing` `View.onClickListner`也通过in继承 onClickListner `yourActivity`。

所以你需要两个改变

```
Class YourActivity extends Activity implements View.onClickListener 
```

和

```
buttonObj.setOnClickListener(this); // must be after initializing buttonObject 
```

# javascript - 通过变量访问 json 对象值

> ID：14806876
> 
> 赞同：0
> 
> 时间：2013-02-11T06:17:50.993
> 
> 标签：javascript, json, object

```
{
  "data": [{
    "data": [{
      "Part": "1.75 L ICON (Glass)",
      "ProductionCounts": 1012620
    }, {
      "Part": "1.75 L Marg Mix (PET)",
      "ProductionCounts": 1003278
    }, {
      "Part": "1.75 L Authentics (PET)",
      "ProductionCounts": 457615
    }, {
      "Part": "1.0 L Margarita Mix / PET",
      "ProductionCounts": 660982
    }, {
      "Part": "other",
      "ProductionCounts": 1571985
    }]
  }, ],
  "dateArray": ["2011-01-01", "2011-02-01", "2011-03-01", "2011-04-01", "2011-05-01", "2011-06-01", "2011-07-01", "2011-08-01", "2011-09-01", "2011-10-01", "2011-11-01"],
  "xAxis": "Part",
  "yAxis": "ProductionCounts",
  "interestingMoments": []
} 
```

我想访问 json 对象的值。每次获取 json 对象时，json 对象的字段名称都会不同，因此我将 xAxis 和 yAxis 中的字段名称分开发送。

当我尝试访问 jsonData.data[0].data[0].xAxis 时，它给了我 undefined 而不是 value。我不能像这样访问，因为字段名称每次都会不同，所以我试图通过变量 jsonData.data[0].data[0].Part 访问它。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T06:24:03.853

`jsonData.data[0].data[0][jsonData.xAxis]`和`jsonData.data[0].data[0][jsonData.yAxis]`

[http://jsfiddle.net/vsZkR/](http://jsfiddle.net/vsZkR/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-11T06:24:54.073

你应该像这样使用json

```
var a = {
  "data": [{
    "data": [{
      "Part": "1.75 L ICON (Glass)",
      "ProductionCounts": 1012620
    }, {
      "Part": "1.75 L Marg Mix (PET)",
      "ProductionCounts": 1003278
    }, {
      "Part": "1.75 L Authentics (PET)",
      "ProductionCounts": 457615
    }, {
      "Part": "1.0 L Margarita Mix / PET",
      "ProductionCounts": 660982
    }, {
      "Part": "other",
      "ProductionCounts": 1571985
    }]
  }, ],
  "dateArray": ["2011-01-01", "2011-02-01", "2011-03-01", "2011-04-01", "2011-05-01", "2011-06-01", "2011-07-01", "2011-08-01", "2011-09-01", "2011-10-01", "2011-11-01"],
  "xAxis": "Part",
  "yAxis": "ProductionCounts",
  "interestingMoments": []
};

a.data[0].data[0][a.xAxis] // for access part values
a.data[0].data[0][a.yAxis]  // for acsess ProductionCounts values 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-11T06:22:51.987

对于 xAxis，这应该可以工作：

```
console.log( jsondata.xAxis ); 
```

见这里：[jsFiddle](http://jsfiddle.net/9rMhA/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-11T06:23:53.090

尝试这个 ：

```
var data={
  "data": [{
    "data": [{
      "Part": "1.75 L ICON (Glass)",
      "ProductionCounts": 1012620
    }, {
      "Part": "1.75 L Marg Mix (PET)",
      "ProductionCounts": 1003278
    }, {
      "Part": "1.75 L Authentics (PET)",
      "ProductionCounts": 457615
    }, {
      "Part": "1.0 L Margarita Mix / PET",
      "ProductionCounts": 660982
    }, {
      "Part": "other",
      "ProductionCounts": 1571985
    }]
  }, ],
  "dateArray": ["2011-01-01", "2011-02-01", "2011-03-01", "2011-04-01", "2011-05-01", "2011-06-01", "2011-07-01", "2011-08-01", "2011-09-01", "2011-10-01", "2011-11-01"],
  "xAxis": "Part",
  "yAxis": "ProductionCounts",
  "interestingMoments": []
};
console.log(data.xAxis);
console.log(data.yAxis); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-11T06:34:45.843

我会从冗余的“数据”对象中解开它。

[http://jsfiddle.net/turiyag/cQNPm/](http://jsfiddle.net/turiyag/cQNPm/)

之后它看起来更干净，并且工作正常。您的 JSON 对象也未能通过 JSLint。在此处发布之前，请始终通过 JSLint 或类似产品运行您的代码。

```
log("jsonData.data[0][jsonData.yAxis]: " + jsonData.data[0][jsonData.yAxis]); 
```

# deployment - 天蓝色上的 asp.net MVC 4 部署无法加载文件或程序集“DotNetOpenAuth.Core”

> ID：14806877
> 
> 赞同：2
> 
> 时间：2013-02-11T06:17:58.157
> 
> 标签：deployment, azure, asp.net-mvc-4, dotnetopenauth

您好我正在尝试在 azure 上部署 asp.net MVC 4 项目，但我遇到了这个问题。我搜索了很多有关解决方案的信息，但似乎都不适合我的情况，这是我收到的错误消息：

> 无法加载文件或程序集“DotNetOpenAuth.Core，Version=4.0.0.0，Culture=neutral，PublicKeyToken=2780ccd10d57b246”或其依赖项之一。找到的程序集的清单定义与程序集引用不匹配。（来自 HRESULT 的异常：0x80131040）

在`dotnetopenAuth`我下载的项目中没有参考之前，但仍然得到相同的错误。

有人有想法吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-10-10T08:32:41.883

我知道这很旧，但我遇到了一个类似的问题，这个问题作为最接近的情况出现了。这是我的问题：

[http://developers.de/blogs/damir_dobric/archive/2013/09/26/windows-azure-websites-error-could-not-load-file-or-assembly-dotnetopenauth-core.aspx](http://developers.de/blogs/damir_dobric/archive/2013/09/26/windows-azure-websites-error-could-not-load-file-or-assembly-dotnetopenauth-core.aspx)

因为，已经部署了一个以前的 MVC 项目，其中包含这些引用。我通过下载发布配置文件删除了它们，并在选中“在目标位置删除其他文件”选项后，将它们发布到 Azure。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-12-04T00:48:54.433

发布时，您可以选择“在目标位置删除其他文件”，然后再次发布。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-03-02T05:15:04.063

我在visual studio online和azure之间持续部署时遇到了这个问题。

我修改了我的构建文件并将“进程”选项卡中“部署”下的“不删除”设置更改为 False。

很好走。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-02-11T09:44:51.337

这是版本不匹配的情况。错误本身说明了这一点`manifest definition does not match`。

仔细查看引用程序集的版本和错误消息中显示的版本。

如果您不使用 openauth，您可以一起删除它的引用。

# java - 字符串到文件（JAXB 验证）

> ID：14806884
> 
> 赞同：1
> 
> 时间：2013-02-11T06:18:50.863
> 
> 标签：java, jaxb

我有这样的方法。

```
public void myMethod(String xml){
   ...

   File file=convertStringToFile(xml)  // I need to convert xml string to File
   object.fileDemandingMethod(file);

} 
```

fileDemandingMethod(file) 期待 File 但我的输入是字符串。

**如何以 File 对象的形式获取我的 xml 字符串？**

我需要这个来进行 JAXB 验证

```
Schema schema = schemaFactory.newSchema(new File("C:\\schema.xsd"));
unmarshaller.setSchema(schema ); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T06:42:36.220

由于您也可以使用 a ，因此您可以从with`StreamSource`构造 a ：`javax.xml.transform.Source``String`

```
new StreamSource(new StringReader(xml)) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-11T06:43:14.527

您不需要文件，您肯定不希望写入文件的开销。

setSchema() 可以接受任何实现 javax.xml.transform.Source 的对象

[StreamSource](http://docs.oracle.com/javase/1.5.0/docs/api/javax/xml/transform/stream/StreamSource.html)就是这样一个类，可以从 InputStream 或 Reader 构造。

```
 Reader reader = new StringReader(myString);
 Source source = new StreamSource(reader);
 unmarshaller.setSchema(spource); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-11T06:30:58.983

最好的方法是从您的模式 (C:\Schema.xsd) 中创建/生成一个类，例如 Employee

之后剩下的就简单了

```
JAXBContext context = JAXBContext.newInstance(Employee.class);

    Marshaller m = context.createMarshaller();
    m.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);

    Employee object = new Employee();
    object.setCode("CA");
    object.setName("Cath");
    object.setSalary(300);

    m.marshal(object, new FileOutputStream("result.xml"));

  } 
```

# perl - 如何逐行读取和更新 pm 文件？

> ID：14806888
> 
> 赞同：0
> 
> 时间：2013-02-11T06:19:08.933
> 
> 标签：perl

在 Perl 脚本中，我们从 pm 文件中检索配置详细信息。用户使用脚本界面更改配置详细信息后，应将相同的值写回到 pm 文件中。

例如，我有以下`config.pm`文件：

```
$SourcePrimUserHost = '10.226.33.233';
$SourcePrimUserPort = '33002';
$SourceGroupsHost = '10.226.33.233';
$SourceGroupsPort = '33002'; 
```

我正在从 Perl 脚本中读取这些值。我想将更新的值存储回`config.pm`文件。

我们应该怎么做？期待您的帮助。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-02-11T06:57:42.120

这*不是*一个好的设计选择。

1.  Perl 模块可以（应该！）以用户可以阅读但不能编写的方式安装。
2.  如果该模块被多个用户或多个 Perl 程序使用，则 conf 将是系统全局的，而不是特定于应用程序的。
3.  如果同时运行程序的多个实例，则会出现问题。

我建议使用像 YAML 这样的数据序列化格式，尽管 JSON、Freeze/Thaw 和 Dumper 可能是其他参赛者。此配置最好存储在单独的文件中。

如果您*必须*将数据存储在同一个文件中，则可以使用`__DATA__`令牌。后面的所有内容都可以在代码中作为`DATA`文件句柄访问，并且不会由 perl 执行。在更新配置时找到这个令牌也很简单。如果模块被调用`Foo::Bar`：

```
my $serialized_stuff = ...;
my $self_loc = $INC{"Foo/Bar.pm"}; # %INC holds the location for every loaded module.
my $tempfile = ...;
open $SELF, "<", $self_loc or die ...;
open $TEMP, ">", $tempfile or die ...;
# don't touch anything before __DATA__
while(<$SELF>) {
  print $TEMP $_;
  last if /^__DATA__$/;
}
print $TEMP $serialized_stuff;
close $TEMP; close $SELF;
rename $tempfile => $self_loc or die ...; 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-02-11T07:02:59.787

使用[CPAN中的](http://search.cpan.org/)[Config::General](http://search.cpan.org/dist/Config-General/General.pm)等众多配置工具之一。它们易于使用，支持不同的符号，您可以将值写回文本文件。

# c# - 从流中读取 DOCX 文件

> ID：14806895
> 
> 赞同：1
> 
> 时间：2013-02-11T06:19:42.547
> 
> 标签：c#, web-services, stream, docx

我编写了以下代码，用于将两个文件（一个 XML 和一个 DOCX 文件）发布到 Web 服务中：

```
public void postMultipleFiles(string url, string[] files)
    {
        string boundary = "----------------------------" + DateTime.Now.Ticks.ToString("x");
        HttpWebRequest httpWebRequest = (HttpWebRequest)WebRequest.Create(url);
        httpWebRequest.ContentType = "multipart/form-data; boundary=" + boundary;
        httpWebRequest.Method = "POST";
        httpWebRequest.KeepAlive = true;
        httpWebRequest.Credentials = System.Net.CredentialCache.DefaultCredentials;
        Stream memStream = new System.IO.MemoryStream();
        byte[] boundarybytes = System.Text.Encoding.ASCII.GetBytes("\r\n--" + boundary + "\r\n");
        string formdataTemplate = "\r\n--" + boundary + "\r\nContent-Disposition: form-data; name=\"{0}\";\r\n\r\n{1}";
        string headerTemplate = "Content-Disposition: form-data; name=\"{0}\"; filename=\"{1}\"\r\n Content-Type: application/octet-stream\r\n\r\n";
        memStream.Write(boundarybytes, 0, boundarybytes.Length);
        for (int i = 0; i < files.Length; i++)
        {
            string header = string.Format(headerTemplate, "file" + i, files[i]);
            //string header = string.Format(headerTemplate, "uplTheFile", files[i]);
            byte[] headerbytes = System.Text.Encoding.UTF8.GetBytes(header);
            memStream.Write(headerbytes, 0, headerbytes.Length);
            FileStream fileStream = new FileStream(files[i], FileMode.Open,
            FileAccess.Read);
            byte[] buffer = new byte[1024];
            int bytesRead = 0;
            while ((bytesRead = fileStream.Read(buffer, 0, buffer.Length)) != 0)
            {
                memStream.Write(buffer, 0, bytesRead);
            }
            memStream.Write(boundarybytes, 0, boundarybytes.Length);
            fileStream.Close();
        }
        /*AJ*/
        httpWebRequest.ContentLength = memStream.Length;
        Stream requestStream = httpWebRequest.GetRequestStream();
        memStream.Position = 0;
        byte[] tempBuffer = new byte[memStream.Length];
        memStream.Read(tempBuffer, 0, tempBuffer.Length);
        memStream.Close();
        requestStream.Write(tempBuffer, 0, tempBuffer.Length);
        requestStream.Close();
        try
        {
            WebResponse webResponse = httpWebRequest.GetResponse();
            Stream stream = webResponse.GetResponseStream();
            StreamReader reader = new StreamReader(stream);
            response.InnerHtml = reader.ReadToEnd();
        }
        catch (Exception ex)
        {
            response.InnerHtml = ex.Message;
        }
        httpWebRequest = null;
    } 
```

在网络服务中，我检索到与以下内容相同的内容：

```
public string MultiFilePost()
{
    string xmls = "";
    string txt = "";
    XmlDocument xmldoc = new XmlDocument();

    if (HttpContext.Current.Request.InputStream != null)
    {

        StreamReader stream = new StreamReader(HttpContext.Current.Request.InputStream);
        /*First File*/
        Stream xmlStream = System.Web.HttpContext.Current.Request.Files[0].InputStream;
        StreamReader rd = new StreamReader(xmlStream);
        xmls = rd.ReadToEnd();
        /*Second File*/
        Stream txtStream = System.Web.HttpContext.Current.Request.Files[1].InputStream;
        rd = new StreamReader(txtStream);
        txt = rd.ReadToEnd();
    }

    return xmls;
} 
```

因此，我将输入流转换为字符串。我可以将字符串“xmls”转换为 XmlDocument 对象，但是在字符串 txt 中我收到了某种字符串，并且我需要一种方法来处理它，因为 XmlDocument 处理 XML 文件。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T09:26:30.570

使用[XmlDocument.Load 方法（流）](http://msdn.microsoft.com/en-us/library/e48zttz7.aspx)：

```
// First file
var xmlStream = System.Web.HttpContext.Current.Request.Files[0].InputStream;
var xmlDocument = new XmlDocument();
xmlDocument.Load(xmlStream);

// The same code for the second file processing.
// Second file
var wordDocStream = System.Web.HttpContext.Current.Request.Files[1].InputStream;
var wordXmlDocument = new XmlDocument();
wordXmlDocument.Load(wordDocStream); 
```

# 更新

要使用 Word 文档：

*   [开放式XML](http://msdn.microsoft.com/en-us/office/bb265236.aspx)
*   [封闭式XML](http://closedxml.codeplex.com/)

# ruby-on-rails - 考拉 Facebook for Rails

> ID：14806901
> 
> 赞同：0
> 
> 时间：2013-02-11T06:20:28.620
> 
> 标签：ruby-on-rails, timeout, koala, timeoutexception

如何在*Rails中使用**koala* gem for *Facebook*引发超时错误？

 *如果有人知道，请告诉我。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-11-22T09:42:10.980

您可以按如下方式使用 ruby​​ 的 Timeout 模块：

```
require 'timeout'
begin
   status = Timeout::timeout(5) do
      @koala_api.get_connection 'me', :feed
   end
rescue Timeout::Error
   # do something on timeout
end 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-08-10T02:19:22.367

最好的方法是： `Koala.http_service.http_options = {request: {open_timeout: 1, timeout: 1}}`*

# ruby-on-rails - Rails：管理非管理模型的管理路由

> ID：14806907
> 
> 赞同：0
> 
> 时间：2013-02-11T06:21:23.250
> 
> 标签：ruby-on-rails

我在尝试配置 rails 以使用“admin”命名空间路由管理非管理员模型时遇到问题。例如，一个`Widget`模型通常有一个 RESTful 路由，`/widgets`带有一个名为 的控制器`WidgetsController`，我有一个路由文件，用于命名路由和控制器：

```
namespace :admin do
  resources :widgets
end

class Admin::WidgetsController < ApplicationController
  def index
    @widgets = ::Widget.all
    respond_to do |format|
      format.html
    end
  end
  ...etc...
end 
```

在视图中，当我尝试使用路由方法进行创建时出现错误：

```
<% @widgets.each do |widget| %>
  <%= link_to 'Show', admin_widget(widget) %>
<% end %> 
```

错误：

```
undefined method `admin_widget' 
```

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T06:24:21.270

`path`我在方法名称的末尾丢失了。它应该是：

```
admin_widget_path(widget) 
```

代替`admin_widget`

# c# - 将 Xml 附加给定次数

> ID：14806909
> 
> 赞同：1
> 
> 时间：2013-02-11T06:21:27.243
> 
> 标签：c#, .net, xml, xmldocument

我正在附加到现有的 xml 文件：代码如下：我正在使用 C# .net 4.5 VS 2012 并创建 WPF 应用程序。

我怎么能附加这个说 30 次并且只将 D100 属性号更改为 2、3、4、5 等？其他数值相同！

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using System.Windows;
using System.Windows.Controls;
using System.Windows.Data;
using System.Windows.Documents;
using System.Windows.Input;
using System.Windows.Media;
using System.Windows.Media.Imaging;
using System.Windows.Navigation;
using System.Windows.Shapes;
using System.Xml;

namespace AppendX
{
    /// <summary>
    /// Interaction logic for MainWindow.xaml
    /// </summary>
    public partial class MainWindow : Window
    {
        public MainWindow()
        {
            InitializeComponent();
        }

        private void Button_Click_1(object sender, RoutedEventArgs e)
        {
            XmlDocument doc = new XmlDocument();
            doc.Load("C:\\Temp.xml");

            XmlNamespaceManager namespaces = new XmlNamespaceManager(doc.NameTable);
            namespaces.AddNamespace("flp", "http://www.w3.org/2001/flp");

            XmlNode nextNode = doc.SelectSingleNode("/flp:Tab/flp:Designs", namespaces);

            XmlElement D100 = doc.CreateElement("flp", "D100", "http://www.w3.org/2001/flp");
            D100.SetAttribute("Number", "2");

            XmlElement Code = doc.CreateElement("flp", "Code", "http://www.w3.org/2001/flp");
            Code.InnerText = "B";
            D100.AppendChild(Code);

            XmlElement Documented = doc.CreateElement("flp", "Documented", "http://www.w3.org/2001/flp");
            Documented.InnerText = "false";
            D100.AppendChild(Documented);

            nextNode.AppendChild(D100);

            doc.Save("test1.xml");

        }
    }
} 
```

这是我正在使用的示例 xml，对不起，我打算把它放上来！

```
<flp:Tab xmlns:flp="http://www.w3.org/2001/flp"   Title="Testing">
  <flp:Form Number="0" id="1005" />
  <flp:Rev Time="2013-01-21T15:08:00">
    <flp:Author Name="Brad" Aid="15" />
  </flp:Rev>
  <flp:Designs Id="D100">
    <flp:D100 Number="1">
      <flp:Code>A</flp:Code>
      <flp:Documented>true</flp:Documented>
    </flp:D100>
  </flp:Designs>
</flp:Tab> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T19:07:59.643

给定参数，创建一个单独的私有函数来处理文档元素的创建。前任：

```
private xmlelement dothework(string param1, string param2){

    'do all necessary work to set up the element in here and then return it

} 
```

我会像这样分离工作，为每个工作部分创建不同的函数，以便最终您可以循环并将每个部分附加到文档中。

# c# - 如何将枚举转换为int

> ID：14806910
> 
> 赞同：12
> 
> 时间：2013-02-11T06:21:38.973
> 
> 标签：c#, enums

在 C# 中，我们可以通过静态类型转换将 an转换为`enum`an `int`，如下所示：

```
int res = (int)myEnum; 
```

还有其他方法可以进行这种转换吗？

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-02-11T06:24:21.397

还有很多其他方法（包括`Convert.ToInt32`acrilige 提到的），但静态转换可能是最好的选择（就可读性和性能而言）

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2013-02-11T06:26:09.273

最好是：

```
int res = Convert.ToInt32(myEnum); 
```

或静态演员表

```
int res = (int)myEnum; 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-02-11T06:38:16.793

这是一个示例枚举：

```
public enum Books
{
    cSharp = 4,
    vb = 6,
    java = 9
} 
```

那么要使用的代码片段将是：

```
Books name = Books.cSharp;
int bookcount = Convert.ToInt32(name); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-11T08:26:47.460

你可以做

int enumInt = Convert.ToInt32(yourEnum);

# actionscript-3 - 设置项目弹性组合框

> ID：14806911
> 
> 赞同：0
> 
> 时间：2013-02-11T06:21:41.900
> 
> 标签：actionscript-3, apache-flex, actionscript, air

我有一个组合框（flex 4），我想设置一个项目。

```
var tempObject:Object;
tempObject.clientName="Raju";
clientList.selectedItem = tempObject; 
```

这是正确的吗？.但它显示了这个错误

```
*TypeError: Error #1009: Cannot access a property or method of a null object reference.* 
```

我的组合框：

```
<s:ComboBox id="clientList" width="14%" height="85%"change="clientList_changeHandler(event)"
    dataProvider="{clientListForcombo}" labelField="clientName"
    prompt="Select the  one"/> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T06:53:59.857

为什么不初始化 tempObject？

试试这个：

```
var tempObject:Object = new Object();
tempObject.clientName="Raju";
clientList.selectedItem = tempObject; 
```

# c++ - 应该使用哪种线程模型来创建 Feed Handler 或 Adapter

> ID：14806913
> 
> 赞同：0
> 
> 时间：2013-02-11T06:21:44.373
> 
> 标签：c++, asynchronous, winsock, feed, adaptor

嗨，所有的专家都在那里:)

这是我在这里的第一个问题。

问题描述 ：

我必须编写一个市场数据馈送处理程序。这将是一个 Windows 服务，将使用两个套接字。

Socket A：用于订阅应用程序和 Feed Handler 之间的通信（Feed Handler 将接受连接请求和项目请求）。

Socket B：用于 Feed Handler 和外部市场数据提供商之间的通信，例如路透社/彭博社。

在这两种情况下，请求/响应都将使用相同的端口。

注意：来自外部系统的数据量较低（此时外部系统只会发送已订阅的信息）。但是稍后我们可能想要扩展它，一些提供程序会抛出所有数据，并且 Feed Handler 必须根据订阅在本地过滤掉。

我的问题：

1.  我应该使用什么线程模型？
2.  我应该使用哪种 I/O 策略？
3.  记住这两种情况，我应该创建单独的请求/响应线程吗？

编辑 1：在阅读了一些关于 Winsock 的教程后，我打算使用事件对象进行异步行为。

这里需要关注的是，一个线程应该监听传入的客户端连接（接受它们）并连接到其他服务器，然后在两个不同的端口上发送/接收。

线程 A 1) 监听传入连接。(续) 2) 接收来自已连接客户端的订阅/取消订阅请求。（很少） 3) 连接到外部服务器（仅限一次）。4) 将来自客户端的请求转发到外部服务器。（很少） 5) 从外部服务器接收数据。（连续） 6）将此数据发送回连接的客户端。（连续的）

我的问题是一个线程可以同时充当客户端和服务器，使用异步 I/O 模型吗？

提前致谢。迪帕克

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T08:39:03.200

最简单的线程模型似乎是单线程同步的。如果您需要为提供者实现过滤器，请将其实现为套接字输入/套接字输出单独的进程。

# php - 如何禁用单击提交按钮并重新启用jQuery表单插件中的响应

> ID：14806916
> 
> 赞同：0
> 
> 时间：2013-02-11T06:22:03.193
> 
> 标签：php, jquery-forms-plugin

我希望能够禁用 jquery 表单插件中的提交按钮，然后在检索到响应时，它应该变为启用。我正在尝试通过下面的代码，但是一旦在 onlick 事件中我禁用了按钮，它就会以某种方式停止提交。虽然我可以更改按钮的类别。

我究竟做错了什么？

代码是这样的：

```
function timing(){
 d=Math.round(new Date().getTime() / 1000);
 $('input[name=timedate]').val(d);
 var btn1 = $('#post_global');  
 btn1.val('posting');
 btn1.removeClass('t_s').addClass('t_sDisabled');
 btn1.prop('disabled',true);    
  }

 (function() {
 $('form').ajaxForm({
dataType: 'json', 
beforeSubmit: validate,
success: processResponse

}); 
  })();  

 function processResponse(data) {
  document.getElementById('upfile').value = "";
  document.getElementById('fileinfo').innerHTML = "";
  document.getElementById('txt1').value="post anything...";
   var status = $('#status');   
if(data.errors == ""){
    status.hide().html(data.htmlResponse).fadeIn(1000);
} else{
alert(data.errors);
    }
var btn2 = $('#post_global');   
btn2.val('post');
btn2.removeClass('t_sDisabled').addClass('t_s');    
btn2.prop('disabled',false);
  } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T06:31:46.297

这就是我认为您正在寻找的答案。如果您想要更多，只需在下面评论您想要的内容：

```
$("#btn2").click(function() {
$('#btn2').attr("disabled", true);
//Do the request here
$('#btn2').attr("disabled", false);} 
```

可能是这个？

```
function timing(){
 d=Math.round(new Date().getTime() / 1000);
 $('input[name=timedate]').val(d);
 var btn1 = $('#post_global');  
 btn1.val('posting');
 $('#btn2').attr("disabled", true);
  }

 (function() {
 $('form').ajaxForm({
dataType: 'json', 
beforeSubmit: validate,
success: processResponse

}); 
  })();  

 function processResponse(data) {
  document.getElementById('upfile').value = "";
  document.getElementById('fileinfo').innerHTML = "";
  document.getElementById('txt1').value="post anything...";
   var status = $('#status');   
if(data.errors == ""){
    status.hide().html(data.htmlResponse).fadeIn(1000);
} else{
alert(data.errors);
    }
var btn2 = $('#post_global');   
btn2.val('post');
$('#btn2').attr("disabled", false);
  } 
```

# javascript - 使用 jQuery 调用 servlet

> ID：14806919
> 
> 赞同：0
> 
> 时间：2013-02-11T06:22:14.760
> 
> 标签：javascript, jquery, servlets

在卸载之前尝试调用 servlet 以使会话无效。servlet URL 映射在 web.xml 中可用。我可以调用 before unload 函数，但没有触发 servlet 调用。下面是代码库

```
$(window).bind("beforeunload", function () {
  alert("Before unload"); // This alert is getting triggered"
  killSession();
}

function killSession() {
  alert("killsession"); //This too gettting triggered
  $.ajax({
    url: Infrastructure.WEB_CONTEXT / +"KillSession",
    type: 'GET'
  });
} 
```

我错过了什么吗？有人可以建议解决这个问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T07:28:58.597

一旦检查了您提供的 url，并通过提供完整的详细信息进行尝试。例如端口号、IP 地址和 servlet 名称。我希望这可以解决您的问题。

# wpf - 绑定后单击 DataGrid 中的列

> ID：14806931
> 
> 赞同：1
> 
> 时间：2013-02-11T06:23:17.380
> 
> 标签：wpf, datagrid

我有以下数据网格：

```
<DataGrid SelectedItem="{Binding CurrentX}" ColumnWidth="*" ItemsSource="{Binding Model.Xlist, Mode=TwoWay}" AutoGenerateColumns="False">
        <DataGrid.Columns>
      <DataGridTemplateColumn Width="Auto" Header="GO">
                <DataGridTemplateColumn.CellTemplate>
                    <DataTemplate>
                        <Image Width="30" Height="30" Source="../Resources/xx.ico" MouseDown="Image_MouseDown">
                        </Image>
                    </DataTemplate>
                </DataGridTemplateColumn.CellTemplate>
            </DataGridTemplateColumn>
        </DataGrid.Columns>
</DataGrid> 
```

当我单击一行时，单击发生在绑定到 SelectedItem 之前，我希望它以相反的方式进行（首先是绑定，然后是单击事件），

有可能这样做吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T06:48:04.177

我有类似的问题。使用`MouseUp`事件：

```
<my:DataGridTemplateColumn Width="18" CanUserResize="False">
    <my:DataGridTemplateColumn.CellTemplate>
        <DataTemplate>
            <Image Width="16" Style="{StaticResource ImageStyle}">
                <i:Interaction.Triggers>
                    <i:EventTrigger EventName="MouseUp">
                        <cmd:EventToCommand Command="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type Window}}, Path=DataContext.ShowErrorMessageCommand}" />
                    </i:EventTrigger>
                </i:Interaction.Triggers>
            </Image>
        </DataTemplate>
    </my:DataGridTemplateColumn.CellTemplate>
</my:DataGridTemplateColumn> 
```

# iphone - 如何在翻转到下一个视图时消除空白框

> ID：14806932
> 
> 赞同：0
> 
> 时间：2013-02-11T06:23:19.753
> 
> 标签：iphone, ios, webview, flipboard

我目前正在使用[这个](https://github.com/mtabini/AFKPageFlipper)（AFKPageFlipper）

为了在我的应用程序中生成所需的翻板动画，有 4 个名为 1.html、2..so 的静态 html 页面

**加载视图**

```
- (void) loadView {
[super loadView];
self.view.autoresizesSubviews = YES;
self.view.autoresizingMask = UIViewAutoresizingFlexibleWidth | UIViewAutoresizingFlexibleHeight;

flipper = [[AFKPageFlipper alloc] initWithFrame:self.view.bounds] ;
flipper.autoresizingMask = UIViewAutoresizingFlexibleWidth | UIViewAutoresizingFlexibleHeight;
NSURLRequest *urlReq=[NSURLRequest requestWithURL:[NSURL fileURLWithPath:[[NSBundle mainBundle]
                                                                          pathForResource:@"1" ofType:@"html"]isDirectory:NO]];
;
//[web loadRequest:urlReq];

NSURLRequest *urlReq1=[NSURLRequest requestWithURL:[NSURL fileURLWithPath:[[NSBundle mainBundle]
                                                                           pathForResource:@"2" ofType:@"html"]isDirectory:NO]];
NSURLRequest *urlReq2=[NSURLRequest requestWithURL:[NSURL fileURLWithPath:[[NSBundle mainBundle]
                                                                           pathForResource:@"3" ofType:@"html"]isDirectory:NO]];
;
NSURLRequest *urlReq3=[NSURLRequest requestWithURL:[NSURL fileURLWithPath:[[NSBundle mainBundle]
                                                                           pathForResource:@"4" ofType:@"html"]isDirectory:NO]];

arr=[[NSArray alloc]initWithObjects:urlReq,urlReq1,urlReq2,urlReq3,nil];

flipper.dataSource = self;

[self.view addSubview:flipper];

 } 
```

**AFKFlipper 的数据源**

```
- (NSInteger) numberOfPagesForPageFlipper:(AFKPageFlipper *)pageFlipper 
 {

    NSLog(@"%i",arr.count);
    return [arr count];
 }

 - (UIView *) viewForPage:(NSInteger) page inFlipper:(AFKPageFlipper *) pageFlipper
{
 web= [[UIWebView alloc] initWithFrame:CGRectMake(0, 40, 320, 385)];
 [web loadRequest:[arr objectAtIndex:page-1]];

 return web;
} 
```

我可以翻阅多个网页视图，但我面临的问题是当我翻到一半时，我看不到我的下一个视图，它似乎是一个空白页面，在我完全翻转我的页面后它被加载 ![在此处输入图像描述](../Images/fcc80a5ee0732b572f457e3df444ba7c.png)

在翻转板中，您可以部分看到下一个视图和部分上一个视图，如果当前视图中途翻转，我应该怎么做才能显示我的下一个视图

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T07:47:55.213

我尝试了 AFKPageFlipper，但我不认为弄乱它的原始代码是任何解决方案。您可以尝试的是，准备好您要提供给 AFKPageFlipper 的所有视图。

```
NSMutableArray *webViewArray;

-(void)viewDidLoad
{
  webViewArray=[[NSMutableArray alloc]int];
  for(int ii=0;ii<4;ii++)
   {
    web= [[UIWebView alloc] initWithFrame:CGRectMake(0, 40, 320, 385)];
   [web loadRequest:[arr objectAtIndex:ii]];
   [webViewArray addObject:web];
   web=nil;

   }

}

 - (UIView *) viewForPage:(NSInteger) page inFlipper:(AFKPageFlipper *) pageFlipper
{
  return [webViewArray objectAtIndex:page];

} 
```

# java - 如何测试 java DBMS 应用程序的性能

> ID：14806934
> 
> 赞同：1
> 
> 时间：2013-02-11T06:23:39.990
> 
> 标签：java, database, junit, jenkins, performance-testing

这是我的场景：

我有一个 java 应用程序，它从数据库 D1 的表 T1 中读取数据，对其进行处理并将其放入另一个数据库 D2 的另一个表 T2 中。这是实时发生的，即，当在表 T1 中插入或更新记录时，应用程序将挑选数据，对其进行处理并将其推送到目标表。我希望使用测试（最好是 JUnit）和/或性能框架来监控这个应用程序的性能。在我的测试用例中，我希望有以下

*   在数据库 D1 的表 T1 上以固定时间间隔插入和更新固定数量的记录。
*   固定时间后，检查数据库 D2 的 T2 中存在的记录数或查找特定记录的存在。

我希望创建的测试应该是

*   与数据库无关
*   提供可以显示趋势的结果，并且可以使用 Jenkins 等 CI 工具进行配置

所以，我的问题是，测试这种场景的最佳方法是什么？是否有任何可用的工具可以帮助我实现这一目标？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-17T23:07:00.647

**与数据库无关**

为了实现这一点，我建议使用最简单的 SQL 和一些低级 JDBC 抽象层：

[DBUtils](http://commons.apache.org/dbutils/)

> Commons DbUtils 库是一小组旨在使使用 JDBC 更容易的类。JDBC 资源清理代码是普通的、容易出错的工作，因此这些类从您的代码中抽象出所有清理任务，让您首先完成您真正想要使用 JDBC 执行的操作：查询和更新数据。

[MyBatis](http://www.mybatis.org/core/)

> MyBatis 是一流的持久性框架，支持自定义 SQL、存储过程和高级映射。MyBatis 消除了几乎所有的 JDBC 代码和手动设置参数和检索结果。MyBatis 可以使用简单的 XML 或 Annotations 进行配置和映射原语、映射接口和 Java POJO（普通旧 Java 对象）到数据库记录。

两者都会为您解决问题。通过对细节的高度关注，您将设法提供足够灵活的解决方案并根据需要测试尽可能多的数据库。

**提供可以显示趋势的结果，并且可以使用 Jenkins 等 CI 工具进行配置**

定义几个[KPI](http://en.wikipedia.org/wiki/Key_performance_indicator)并确保您可以定期获取所有值。例如，您可以测量吞吐量（每秒记录数）。定期导出数据（例如 CSV 或属性）并使用[PlotPlugin](https://wiki.jenkins-ci.org/display/JENKINS/Plot+Plugin)进行可视化：

![在此处输入图像描述](../Images/65e169f75662084d16b49366ec7cf5f1.png)

您还可以查看相关问题：[How do I plot benchmark data in a Jenkins matrix project](https://stackoverflow.com/q/12719194/1435741)

**适当的测试**

请确保您的测试策略定义明确，并且您不会错过任何内容：

1.  [负载测试](http://en.wikipedia.org/wiki/Load_testing)
2.  [压力测试](http://en.wikipedia.org/wiki/Stress_testing)

# iphone - iphone的搜索功能？

> ID：14806941
> 
> 赞同：-3
> 
> 时间：2013-02-11T06:24:04.513
> 
> 标签：iphone, ios

我的数组就像

```
{
    "Samsung Tab",
    "Samsung Note",
    "Samsung Galaxy",
    "Samsung Galaxy Pro",
    "Nokia Lumia",
    "Nokia 5130",
    "Sony Xperia"
} 
```

诸如此类的东西。我有文本框类型 GALAXY 并单击按钮。我只想在下一个列表视图中显示 Samsung Galaxy 、 Samsung Galaxy Pro。谁能帮我？。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T06:45:54.830

使用谓词过滤数组，如下所示

```
NSArray *arrayMobiles= [NSArray arrayWithObjects:@"Samsung Tab",@"Samsung Note", @"Samsung Galaxy", @"Samsung Galaxy Pro", @"Nokia Lumia", @"Nokia 5130",@"Nokia 5130",@"Sony Xperia", nil];
NSString *strSearchkey = @"GALAXY";
NSPredicate *containPred = [NSPredicate predicateWithFormat:@"SELF contains[cd] %@", strSearchkey];
NSArray *arrayFilter = [arrayMobiles filteredArrayUsingPredicate:containPred];
NSLog(@"%@",arrayFilter);
//output 
"Samsung Galaxy",
"Samsung Galaxy Pro" 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-11T06:26:59.710

这可能会帮助你

```
- (void)searchArrayFrom: (NSString *) matchString{

NSString *upString = [matchString uppercaseString];
if (searchArray){[searchArray release];searchArray = nil;}
searchArray = [[NSMutableArray alloc] init];
NSMutableArray *temp = [internalEvents copy];

for (int i=0;i<[temp count];i++)
{
    NSString *str = [internalEvents objectAtIndex:i];
    // Add everyone when there's nothing to match to
    if ([matchString length] == 0)
    {
        [searchArray addObject:str];

        continue;
    }

    // Add the person if the string matches

    NSRange range = [[str uppercaseString] rangeOfString:upString];
    if (range.location != NSNotFound) {
        [searchArray addObject:str];
    }
}

[temp release];
temp = nil;
[tblView reloadData]; 
```

}

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-11T06:32:20.507

取两个`NSMutableArray`并将**一个数组添加到另一个数组**中`ViewDidLoad`，例如，

```
self.listOfTemArray = [[NSMutableArray alloc] init]; // array no - 1
self.ItemOfMainArray = [[NSMutableArray alloc] initWithObjects:@"YorArrayList", nil]; // array no - 2 

[self.listOfTemArray addObjectsFromArray:self.ItemOfMainArray]; // add 2array to 1 array 
```

**并编写以下 UISearchBar 的委托方法**

```
- (BOOL) textFieldDidChange:(UITextField *)textField
 {
        NSString *name = @"";
        NSString *firstLetter = @"";

    if (self.listOfTemArray.count > 0)
         [self.listOfTemArray removeAllObjects];

        if ([searchText length] > 0)
        {
                for (int i = 0; i < [self.ItemOfMainArray count] ; i = i+1)
                {
                        name = [self.ItemOfMainArray objectAtIndex:i];

                        if (name.length >= searchText.length)
                        {
                                firstLetter = [name substringWithRange:NSMakeRange(0, [searchText length])];
                                //NSLog(@"%@",firstLetter);

                                if( [firstLetter caseInsensitiveCompare:searchText] == NSOrderedSame )
                                {
                                    // strings are equal except for possibly case
                                    [self.listOfTemArray addObject: [self.ItemOfMainArray objectAtIndex:i]];
                                    NSLog(@"=========> %@",self.listOfTemArray);
                                }
                         }
                 }
         }
         else
         {
             [self.listOfTemArray addObjectsFromArray:self.ItemOfMainArray ];
         }

        [self.tblView reloadData];
} 
```

}

输出显示在您的`Consol.`

**此代码可能对您有帮助...谢谢:)**

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-11T06:32:30.643

您可以使用以下给定的功能：

```
- (void)searchAutocompleteEntriesWithSubstring:(NSString *)substring
{
        for (int i = 0; i < [yourArray count]; i++)
        {
            NSString *curString = [[yourArray objectAtIndex:i]lowercaseString];
            NSString *searchString = [substring lowercaseString];

            if ([curString rangeOfString:curStringSmall].location == NSNotFound)
            {
            }
            else
            {
                //This means searched text is found in your array. you can store it in new array. Which will give you only the search criteria matched element.
            }
        }
} 
```

您需要在单击搜索按钮时调用此函数。像 ：

```
-(void)searchButtonClicked
{
     [self searchAutocompleteEntriesWithSubstring:txtSearch.text];
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-11T06:40:45.240

你可能会使用 NSPrediction

```
NSString * SEARCH_KEYWORD = @"s";

NSMutableArray *array =
    [NSMutableArray arrayWithObjects:@"Bill", @"Ben", @"Chris", @"Melissa", nil];

NSPredicate *sPredicate =
   [NSPredicate predicateWithFormat:@"SELF contains[c] '%@'", SEARCH_KEYWORD];
[array filterUsingPredicate:sPredicate];
// array now contains { @"Chris", @"Melissa" } 
```

# java - return() 和简单返回的区别

> ID：14806947
> 
> 赞同：0
> 
> 时间：2013-02-11T06:24:22.513
> 
> 标签：java

我只是在编码，我想到一个简单的想法（*显然是问题*），如果我有这样的功能：

```
int fun1(int p){
  return(p); 
} 
```

我有这样的功能：

```
int fun1(int p){
  return p; ==> absence of parenthesis
} 
```

那么这两个有什么区别呢？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-11T06:26:05.403

没有不同。如果它使事情更清楚，您可以决定使用括号。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-11T06:29:53.883

这只是一个编码约定，否则**没有**任何区别

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-11T08:51:02.630

有零差异。这只是编写返回表达式的一种冗余方式。

它可以追溯到 C 编程的一些非常糟糕的过去，当时有些人想让 return 语句看起来像函数调用或 if/while 语句。

其中的谬误在于它们*不是*函数调用或 if/while 语句。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-11T06:37:40.497

实际上，这两者之间没有区别，由您决定要使用哪一个。

# c++ - C++ 控制台更改文本位置

> ID：14806950
> 
> 赞同：0
> 
> 时间：2013-02-11T06:24:47.120
> 
> 标签：c++, console-application

我还是 C++ 的新手，所以请耐心等待。

我目前正在制作控制台输出应用程序，并且想制作一个简单的矩阵计算器。所以我希望用户为矩阵的每个元素输入 4 个值。每个元素应位于屏幕上不同的 xy 位置。所以它组成了一个正方形，一个简单的 2x2 矩阵。

我不知道如何更改 C++ 中文本的位置。我之前使用过 Pascal 编程语言，你所要做的就是 'gotoXY(20,40)' 后跟一个语句。

我知道这可能是一个简单的问题，但我似乎无法解决。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T08:34:28.410

如果这是在 Windows 上，您应该使用`SetConsoleCursorPosition`. 我想我在这里为您提供了正确的帮助程序类：[控制台功能的帮助程序类](http://mariusbancila.ro/blog/2008/11/28/helper-class-for-console-functions/)。

# ruby - 在创建新的 Rails 应用程序时

> ID：14806951
> 
> 赞同：-5
> 
> 时间：2013-02-11T06:24:48.193
> 
> 标签：ruby, gem, openssl, rvm

[从https://rubygems.org/](https://rubygems.org/)获取 gem 元数据。无法加载 OpenSSL。您必须使用 OpenSSL 支持重新编译 Ruby，或将 Gemfile 中的源代码从“https”更改为“http”。rvm.io/packages/openssl 提供了使用 RVM 使用 OpenSSL 进行编译的说明。

我正在使用 Mac OS 10.8.2

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T16:00:01.247

[在 RVM => https://github.com/wayneeseguin/rvm/pull/1544](https://github.com/wayneeseguin/rvm/pull/1544)中有一种处理依赖项的新实验方法：

```
rvm get branch /features/improved_dependencies
rvm pkg remove
rvm remove 1.9.3
rvm install 1.9.3 
```

# c# - C#中的对象分配不起作用

> ID：14806952
> 
> 赞同：0
> 
> 时间：2013-02-11T06:24:51.357
> 
> 标签：c#, wpf, object, null, variable-assignment

```
CircuitBoard vBoard = this; 
// Find the desired circuit shape
CircuitShape vShape = vBoard.GetComponent(vId); 
```

在上面的陈述中，是在一定的时间内`vBoard`抛出。`null`任何的想法？

请帮忙。

先感谢您....

更多代码..这是一个公共功能

```
class CircuitBoard :Canvas
{
    public void Move(string iBoardId, string iCircuitShapeId, double iXCordinate, double iYCordinate)
        {
          CircuitBoard vBoard = this;

    // secutity check..
          if (null != vBoard)
          {
            string vId = PCBFactory.GetUniqueTag(iCircuitShapeId, vBoard);
            // Find the desired circuit shape
            CircuitShape vShape = vBoard.GetComponent(vId);
            if (vShape != null)
            {
               // do something...
            }
          }
        }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T07:04:27.313

你为什么要首先分配`this`一些东西？为什么不试试：

```
class CircuitBoard :Canvas
{
    public void Move(string iBoardId, string iCircuitShapeId, double iXCordinate, double iYCordinate)
    {
        string vId = PCBFactory.GetUniqueTag(iCircuitShapeId, vBoard);
        CircuitShape vShape = this.GetComponent(vId);
        if (vShape != null)
        {
           // do something...
        }
      }
    }
} 
```

根本不需要定义 vBoard。

# javascript - 如何使用 mocha 和 html 报告器测试基本的 javascript 文件？

> ID：14806957
> 
> 赞同：0
> 
> 时间：2013-02-11T06:25:19.443
> 
> 标签：javascript, mocha.js

如何使用 mocha 和 html 报告器测试基本的 Javascript 文件？

有人可以显示文件结构，它是如何链接的，请简明扼要。也许只是显示所有文件的代码并将测试用例文件与需要测试的文件分开。

到目前为止，我已经设法初始化了一个文件，所以我有一个 mocha.js、mocha.css 和 runner.html 文件，但是当我加载 runner.html 时，它无法识别我正在尝试测试的测试脚本。例如，它根本不显示有任何测试，而是显示测试的屏幕。

那么这有什么可能的问题呢？

提前谢谢你的帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-26T05:17:49.130

> 那么这有什么可能的问题呢？

清单：

1.  在您正在测试的功能中添加一个`<script src="your-source-file(s).js">`链接。
2.  在您的测试中添加一个`<script src="your-test-suite.js">`链接（应该在`mocha.js`您正在测试的源之后并且最好在之后）。
3.  调用`mocha.reporter('html');
4.  呼叫`mocha.run();`- 这应该是在其他所有事情之后。

例子：

```
<!DOCTYPE html>
<html>
  <head>
    <title>browser test runner</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="mocha.css" />
  </head>
  <body>
    <div id="mocha"></div>
    <!-- test framework -->
    <script src="chai.js"></script>
    <script src="mocha.js"></script>

    <!-- source -->
    <script src="../feature.js"></script>

    <!-- mocha setup -->
    <script>
        mocha.ui('bdd');
        mocha.reporter('html');
    </script>

    <!-- test suite -->
    <script src="tests.js"></script>

    <!-- runner -->
    <script>
        mocha.run();
    </script>
  </body>
</html> 
```

# php - 如何修复 PHP 中的“从空值创建默认对象”警告

> ID：14806959
> 
> 赞同：27
> 
> 时间：2013-02-11T06:25:48.910
> 
> 标签：php, object, warnings

我从我拥有的 joomla 安装中收到以下错误。

```
Warning: Creating default object from empty value in  /modules/mod_continuous_rss_scrolling/helper.php on line 54 
```

如何修复此错误？

* * *

## 回答 #1

> 赞同：67
> 
> 时间：2013-02-11T06:25:48.910

事实证明，作者错过了一个非常简单的修复和一般的良好做法，即您应该始终在尝试设置属性之前初始化对象。对此的非常简单的解决方法是`new StdClass;`在错误之前添加一个调用，它试图访问的变量。

```
$items[$i] = new StdClass;
$items[$i]->title   = $crs_post_title; 
```

第一行将修复警告显示。

这也将`/components/com_community/models/activities.php on line 387`通过以下修复解决问题。

```
$commentsResult[$comment->type . '-' . $comment->contentid] = new StdClass;
$commentsResult[$comment->type . '-' . $comment->contentid]->_comment_count = 0; 
```

# python - Python max 和 min 函数 - 贪婪？

> ID：14806968
> 
> 赞同：5
> 
> 时间：2013-02-11T06:26:10.540
> 
> 标签：python, iterator, max, min

`max`/`min`内置函数似乎是贪婪的，即当它不是唯一的情况下，它们将返回第一次出现的情况 。

```
>>> x = [('spam', 1), ('egg', 0), ('potato', 1)]
>>> max(x, key=lambda v: v[1])
('spam', 1)
>>> max(reversed(x), key=lambda v: v[1])
('potato', 1) 
```

这是由语言保证的，并且可以依赖于跨平台和以上版本，还是实现细节？

# iphone - 表头不隐藏

> ID：14806969
> 
> 赞同：1
> 
> 时间：2013-02-11T06:26:17.523
> 
> 标签：iphone, uitableview, header, uisearchbar

我正在使用表格视图标题视图搜索栏。问题是我滚动表格视图搜索栏也滚动。我希望始终在搜索栏中可见。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T06:52:59.663

只需不要在表格标题视图中添加您的搜索栏。在您的视图中添加搜索栏，然后在搜索栏下方添加表格视图。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T07:51:18.233

如果您将搜索栏添加为表格的标题视图，那么每当您滚动表格视图搜索栏时也会滚动。它的默认行为，但是如果你想在表格视图的顶部始终显示搜索栏，你可以应用 Dilip 所说的
检查这个链接：http:
[//ved-dimensions.blogspot.in/2009/02/iphone-development-adding -search-bar-in.html](http://ved-dimensions.blogspot.in/2009/02/iphone-development-adding-search-bar-in.html)

# ember.js - Ember 展开子控制器/视图

> ID：14806970
> 
> 赞同：0
> 
> 时间：2013-02-11T06:26:26.507
> 
> 标签：ember.js, ember-router

我如何构建它以使其工作？

我有很多笔记的项目。使用 itemController 列出注释。我需要这些笔记有一个可以通过路线切换的扩展视图（它是项目内部笔记的显示视图）。如何获得一条路线来切换页面上列出的特定注释以展开？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T08:22:41.120

您可以使用官方的 Ember 指南寻求帮助：[http](http://emberjs.com/guides/) ://emberjs.com/guides/ 。那里的示例是一个简单的应用程序，其中包含许多帖子（在您的案例项目中），每个帖子都有很多评论（在您的案例笔记中）。唯一缺少的是切换笔记的选项，而不是永久打开它。

仅使用指南，您的路由器应如下所示：

```
App.Router.map(function () {
    this.resource('project', {
        path: '/project/:project_id'
    }, function () {
        this.resource('note', { path: '/note/:note_id' }, function () {});
    });
});

App.ProjectController = Ember.ObjectController.extend({
    toggle: function(note) {
        var isOpen = !note.get('isOpen');
        if (isOpen) {
            this.transitionTo('note', note);
        } else {
            this.transitionTo('project', this.get('content'));
        }

        this.get('notes').forEach(function(note) {
            note.set('isOpen', false);
        });

        note.set('isOpen', isOpen);
    }
}); 
```

然后，您的项目模板应列出所有注释并提供打开注释和查看它的位置：

```
<script type="text/x-handlebars" data-template-name="project">
    {{#each note in notes}}
      <li>
        <button type="button" {{action toggle note}}>
          {{note.name}}
        </button>
      </li>
    {{/each}}

    {{outlet}}
</script>

<script type="text/x-handlebars" data-template-name="note">
  {{description}}
</script> 
```

澄清一下：ProjectController 是一个 ObjectController，其内容设置为当前打开的项目。ProjectController#notes 是当前加载项目的所有注释所在的位置。project/note.handlebars 将简单地描述注释，因为您希望它显示在项目页面中。

这是一个工作小提琴（添加了一些样板代码）：http: [//jsfiddle.net/ZcspT/6/](http://jsfiddle.net/ZcspT/6/)

编辑：

这是没有路线的版本（只有不同​​的部分）：

```
App.Router.map(function () {
    this.resource('project', {
        path: '/project/:project_id'
    });
});

App.NoteView = Ember.View.extend({
    templateName: 'note',
    content: null,
    classNameBindings: ['content.isOpen::hidden']
});

App.ProjectController = Ember.ObjectController.extend({
    toggle: function(note) {
        var isOpen = !note.get('isOpen');
        this.get('notes').forEach(function(note) {
            note.set('isOpen', false);
        });

        note.set('isOpen', isOpen);
    }
}); 
```

模板：

```
<script type="text/x-handlebars" data-template-name="project">
    {{#each note in notes}}
      <li>
        <a {{action toggle note}} href="#">{{note.name}}</a>     
      </li>
    {{/each}}

    <div id="noteSection">
       {{#each note in notes}}
         {{view App.NoteView contentBinding="note"}}
       {{/each}}
    </div>
</script> 
```

样式表：

```
.hidden {
  display: none;
} 
```

示例：http: [//jsfiddle.net/ZfWhc/1/](http://jsfiddle.net/ZfWhc/1/)

# iphone - 使用动画移动文本字段

> ID：14806971
> 
> 赞同：0
> 
> 时间：2013-02-11T06:26:32.690
> 
> 标签：iphone, uitextfield

我有 6 个文本字段，我不想将前 3 个文本字段向上移动。但我想要休息。当我点击 1 个文本字段时它不会移动，但是当我点击 2,3 等文本字段时，视图向下移动。

我使用的代码：-

```
- (void) animateTextField: (UITextField*) textField up: (BOOL) up
{

    const int movementDistance = 105; 

    const float movementDuration = 0.3f;

    int movement = (up ? -movementDistance : movementDistance);

    [UIView beginAnimations: @"anim" context: nil];

    [UIView setAnimationBeginsFromCurrentState: YES];

    [UIView setAnimationDuration: movementDuration];

    self.view.frame = CGRectOffset(self.view.frame, 0, movement);

    [UIView commitAnimations];

}

- (void)textFieldDidBeginEditing:(UITextField *)textField
{

if (textField==txtname) {

       toolphone.hidden = YES;
    }

    if (textField==txtcompanyname) {
       toolphone.hidden = YES;
    }
    if (textField==txtemail) {
        toolphone.hidden = YES;

    }

    if (textField ==txtsubject) {
        toolphone.hidden = YES;
    }

    if (textField ==txtphone) {
        [txtphone resignFirstResponder];
        toolphone.hidden = NO;
    }

    if (textField ==txtmessage) {
        toolphone.hidden = YES;
        [self animateTextField: textField up: YES];
    }

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-01-06T11:04:54.173

# 对于 IOS 斯威夫特

```
func textFieldDidBeginEditing(textField: UITextField) {
        animateTextField(textField, up: true)
    }

func textFieldDidEndEditing(textField: UITextField) {
        animateTextField(textField, up: false)
    }
func animateTextField (textField:UITextField, up:Bool) {

        var movementDistance = 80

        var movementDuration = 1.0
        var movement = CGFloat(up ? -movementDistance : movementDistance)
        UIView.beginAnimations("anim", context: nil)
        UIView.setAnimationBeginsFromCurrentState(true)
        UIView.setAnimationDuration(movementDuration)
        self.view.frame = CGRectOffset(self.view.frame, 0, movement)
        UIView.commitAnimations()
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T06:33:48.110

您可以检查文本字段名称以在特定文本字段上执行动画。

```
-(void) animateTextField: (UITextField*) textField up: (BOOL) up 
{
    if (textField!=1sttextfieldname||textField!=2ndtextfieldname||textField!=3rdtextfieldname) {
    const int movementDistance = 105;

    const float movementDuration = 0.3f;

    int movement = (up ? -movementDistance : movementDistance);

    [UIView beginAnimations: @"anim" context: nil];

    [UIView setAnimationBeginsFromCurrentState: YES];

    [UIView setAnimationDuration: movementDuration];

    self.view.frame = CGRectOffset(self.view.frame, 0, movement);

    [UIView commitAnimations];
    }
 } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-11T07:11:42.677

这可能会对您有所帮助。

[http://www.roostersoftstudios.com/2011/04/19/iphone-uitextfield-dynamically-moving-with-keyboard-tutorial/](http://www.roostersoftstudios.com/2011/04/19/iphone-uitextfield-dynamically-moving-with-keyboard-tutorial/)

[http://atastypixel.com/blog/a-drop-in-universal-solution-for-moving-text-fields-out-of-the-way-of-the-keyboard/](http://atastypixel.com/blog/a-drop-in-universal-solution-for-moving-text-fields-out-of-the-way-of-the-keyboard/)

他们也发布了项目。

# python - Django 正在为 Postgres 生成无效的 SQL

> ID：14806976
> 
> 赞同：4
> 
> 时间：2013-02-11T06:26:55.587
> 
> 标签：python, sql, django, postgresql

我是一个菜鸟 django 用户，我在使用 Model.objects.all 方法时遇到了一些问题。我有一个用户模型：（我知道以明文形式保存密码是不好的做法，但这只是一个玩具示例）

```
class UsersModel(models.Model):
    password = models.CharField(max_length=MAX_PASSWORD_LENGTH)
    user = models.CharField(max_length=MAX_USERNAME_LENGTH, primary_key=True)
    count = models.IntegerField() 
```

而且我有一个测试方法应该删除用户表中的所有条目：

```
def function(self):
    UsersModel.objects.all().delete() 
```

出于某种原因，调用 UsersModel.objects.all() 会引发错误

```
DatabaseError: column "cs169proj1_usersmodel.user" must appear in the GROUP BY clause or 
be used in an aggregate function
LINE 1: SELECT "cs169proj1_usersmodel"."user", "cs169proj1_usersmode... 
```

从谷歌搜索，我发现 SQL 中的这个特殊错误只出现在 Postgresql（我正在使用）上。任何人都知道如何解决/解决这个问题？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-11T06:35:00.013

听起来列名**`count`**被误解为[聚合函数](http://www.postgresql.org/docs/current/interactive/functions-aggregate.html)。

最佳解决方案：永远不要使用[**保留字**](http://www.postgresql.org/docs/current/interactive/sql-keywords-appendix.html)作为标识符。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2016-07-20T17:53:06.367

在使用 postgresql 从 django 1.6 升级到 1.9.8 时，我遇到了类似的问题。

在我的情况下，问题是由于 Django 1.9 中的更改至少需要 postgresql 9.1，如此处[所述](https://code.djangoproject.com/ticket/26148)。

[很好的 redhat/centos的](https://dba.stackexchange.com/questions/98144/how-to-upgrade-postgresql-8-4-to-9-4)postgresql 更新说明。

# java - 如何在 HBase 中设置 In-Memory

> ID：14806978
> 
> 赞同：1
> 
> 时间：2013-02-11T06:27:01.537
> 
> 标签：java, hadoop, hbase

我已经在我的 HDFS 0.20.0 上启动并运行 HBase 0.94.0。我正在做我的家庭作业，我必须将我的列族放入`In-Memory`我有两个列族 No 和 Subject 。

将它们设置为`In-Memory`

```
new HColumnDescriptor("No").setInMemory(true);
new HColumnDescriptor("Subject").setInMemory(true); 
```

当我检查我`localhost:60010`的时，表格详细信息仍然显示`IN_MEMORY => 'false'`为什么会发生这种情况？我需要做的不仅仅是设置吗`.setInMemory(true)`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T09:24:27.337

```
HTableDescriptor descriptor = new HTableDescriptor("Student92");
    HColumnDescriptor col1=new HColumnDescriptor("No".getBytes());
    HColumnDescriptor col2=new HColumnDescriptor("Subject".getBytes());
    col1.setInMemory(true);
    col2.setInMemory(true); 
```

这行得通！

# r - 在R中模拟时间序列随机变量？

> ID：14806979
> 
> 赞同：6
> 
> 时间：2013-02-11T06:27:14.417
> 
> 标签：r, time-series

我不得不承认我对 R 完全陌生。因此，我的问题可能很简单。

对于作业，我需要模拟一个随机游走系列。初始位置是实线上的一个不动点a。然后以长度 X1 进行第一步，并将随机游走过程的当前位置更改为 S(1)=a+X1。这个过程一直持续到 n=1000。

在生成随机变量 X~N(1,10^2) 1000 次后，我需要报告 S(n) 的值并显示这个随机游走系列的图。我还需要报告该系列的均值和方差。

这是我到目前为止所拥有的：

```
set.seed(1234)
x<-rnorm(1000,mean=1,sd=10)
a<--2 
```

我如何生成一个 S，以便我可以为每 n 最多 1000 个 S(n)？（如果这是一个非常初级的问题，我很抱歉。）

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-11T06:47:46.530

的每个元素`x`是一个步骤，因此，总行驶距离，即 S(N) 的值是元素的总和。此外，在每个处行进的距离`S(p)`等于`x`直到 index的随机游走向量的总和`p`。

使用`plot`并且`cumsum`您可以生成显示 S(n) 随时间变化的函数的图表：

![在此处输入图像描述](../Images/93ac2b5ff36b4e264542e7c2c1458bc7.png)

不要粗鲁，但我认为这类基本问题通常是你的主管或老师最能帮助你解决的问题。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-08-30T01:59:06.567

`M=1000; x = rnorm(M); plot(cumsum(x), type='l')`

# javascript - 使用 gjs，如何发出异步 http 请求以分块下载文件？

> ID：14806981
> 
> 赞同：10
> 
> 时间：2013-02-11T06:27:16.607
> 
> 标签：javascript, gtk, gjs

我开始使用我的第一个 javascript GTK 应用程序，我想下载一个文件并使用 Gtk.ProgressBar 跟踪它的进度。我能找到的关于 http 请求的唯一文档是这里的一些示例代码：

[http://developer.gnome.org/gnome-devel-demos/unstable/weatherGeonames.js.html.en](http://developer.gnome.org/gnome-devel-demos/unstable/weatherGeonames.js.html.en)

还有一些令人困惑的汤参考：

[http://www.roojs.org/seed/gir-1.2-gtk-3.0/gjs/Soup.SessionAsync.html](http://www.roojs.org/seed/gir-1.2-gtk-3.0/gjs/Soup.SessionAsync.html)

据我所知，我可以做这样的事情：

```
const Soup = imports.gi.Soup;

var _httpSession = new Soup.SessionAsync();
Soup.Session.prototype.add_feature.call(_httpSession, new Soup.ProxyResolverDefault());

var request = Soup.Message.new('GET', url);
_httpSession.queue_message(request, function(_httpSession, message) {
  print('download is done');
} 
```

下载完成时似乎只有一个回调，我找不到任何方法来为任何数据事件设置回调函数。我怎样才能做到这一点？

这在 node.js 中非常简单：

```
var req = http.request(url, function(res){
  console.log('download starting');
  res.on('data', function(chunk) {
    console.log('got a chunk of '+chunk.length+' bytes');
  }); 
});
req.end(); 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-11T19:38:21.727

感谢 javascript-list@gnome.org 的帮助，我已经弄清楚了。事实证明，Soup.Message 具有可以绑定的事件，包括一个名为 got_chunk 和一个名为 got_headers。

```
const Soup = imports.gi.Soup;
const Lang = imports.lang;

var _httpSession = new Soup.SessionAsync();
Soup.Session.prototype.add_feature.call(_httpSession, new Soup.ProxyResolverDefault());

// variables for the progress bar
var total_size;
var bytes_so_far = 0;

// create an http message
var request = Soup.Message.new('GET', url);

// got_headers event
request.connect('got_headers', Lang.bind(this, function(message){
  total_size = message.response_headers.get_content_length()
}));

// got_chunk event
request.connect('got_chunk', Lang.bind(this, function(message, chunk){
  bytes_so_far += chunk.length;

  if(total_size) {
    let fraction = bytes_so_far / total_size;
    let percent = Math.floor(fraction * 100);
    print("Download "+percent+"% done ("+bytes_so_far+" / "+total_size+" bytes)");
  }
}));

// queue the http request
_httpSession.queue_message(request, function(_httpSession, message) {
  print('Download is done');
}); 
```

# android - 如何在android的MediaCodec上下文中使用ByteBuffer

> ID：14806987
> 
> 赞同：13
> 
> 时间：2013-02-11T06:27:52.283
> 
> 标签：android, media, bytebuffer, encoder

到目前为止，我能够设置 MediaCodec 来编码视频流。目的是将我的用户生成的艺术品保存到视频文件中。

我使用用户艺术品的 android Bitmap 对象将帧推送到流中。

请参阅我在这篇文章底部使用的代码片段（它是完整的代码，没有任何修剪）：

MediaCodec 使用 ByteBuffer 来处理视频/音频流。

位图基于 int[]，如果转换为 byte[]，则需要 x4 的大小为 int[]

我做了一些研究来弄清楚在处理 MediaCodec 中的视频/音频流时 ByteBuffer 有哪些合同，但信息几乎接近 zilch。

那么，MediaCodec 中的 ByteBuffer 使用契约是什么？

在 MediaFormat 中指定帧尺寸是否自动意味着 ByteBuffers 具有宽度 * 高度 * 4 字节容量？

（我为每一帧一次使用一个位图对象）

谢谢你的帮助。

（已编辑，添加代码）

```
 import java.io.ByteArrayOutputStream;
    import java.io.DataOutputStream;
    import java.io.File;
    import java.io.FileOutputStream;
    import java.nio.ByteBuffer;

    import android.graphics.Rect;
    import android.graphics.Bitmap.CompressFormat;
    import android.media.MediaCodec;
    import android.media.MediaCodec.BufferInfo;
    import android.media.CamcorderProfile;
    import android.media.MediaCodecInfo;
    import android.media.MediaFormat;
    import android.util.Log;
    import android.view.View;

    public class VideoCaptureManager {

        private boolean running;

        private long presentationTime;

        public void start(View rootView, String saveFilePath){
            Log.e("OUT", saveFilePath);
            this.running = true;
            this.presentationTime = 0;
            this.capture(rootView, saveFilePath);
        }

        private void capture(final View rootView, String saveFilePath){
            if(rootView != null){
                rootView.setDrawingCacheEnabled(true);

                final Rect drawingRect = new Rect();
                rootView.getDrawingRect(drawingRect);

                try{
                    final File file = new File(saveFilePath);
                    if(file.exists()){
                        // File exists return
                        return;
                    } else {
                        File parent = file.getParentFile();
                        if(!parent.exists()){
                            parent.mkdirs();
                        }
                    }

            new Thread(){
                public void run(){
                    try{
                        DataOutputStream dos = new DataOutputStream(new FileOutputStream(file));

                        MediaCodec codec = MediaCodec.createEncoderByType("video/mp4v-es");
                        MediaFormat mediaFormat = null;
                        if(CamcorderProfile.hasProfile(CamcorderProfile.QUALITY_720P)){
                            mediaFormat = MediaFormat.createVideoFormat("video/mp4v-es", 720, 1280);
                        } else {
                            mediaFormat = MediaFormat.createVideoFormat("video/mp4v-es", 480, 720);
                        }

                        mediaFormat.setInteger(MediaFormat.KEY_BIT_RATE, 700000);
                        mediaFormat.setInteger(MediaFormat.KEY_FRAME_RATE, 10);
                        mediaFormat.setInteger(MediaFormat.KEY_COLOR_FORMAT, MediaCodecInfo.CodecCapabilities.COLOR_FormatYUV420Planar);
                        mediaFormat.setInteger(MediaFormat.KEY_I_FRAME_INTERVAL, 5);
                        codec.configure(mediaFormat, null, null, MediaCodec.CONFIGURE_FLAG_ENCODE);

                        codec.start();

                        ByteBuffer[] inputBuffers = codec.getInputBuffers();
                        ByteBuffer[] outputBuffers = codec.getOutputBuffers();

                        while(VideoCaptureManager.this.running){
                            try{
                                int inputBufferIndex = codec.dequeueInputBuffer(-2);
                                if(inputBufferIndex >= 0){
                                    // Fill in the bitmap bytes
                                    // inputBuffers[inputBufferIndex].
                                    ByteArrayOutputStream baos = new ByteArrayOutputStream();
                                    rootView.getDrawingCache().compress(CompressFormat.JPEG, 80, baos);
                                    inputBuffers[inputBufferIndex].put(baos.toByteArray());

                                    codec.queueInputBuffer(inputBufferIndex, 0, inputBuffers[inputBufferIndex].capacity(), presentationTime, MediaCodec.BUFFER_FLAG_CODEC_CONFIG);
                                    presentationTime += 100;
                                }

                                BufferInfo info = new BufferInfo();
                                int outputBufferIndex = codec.dequeueOutputBuffer(info, -2);
                                if(outputBufferIndex >= 0){
                                    // Write the bytes to file
                                    byte[] array = outputBuffers[outputBufferIndex].array(); // THIS THORWS AN EXCEPTION. WHAT IS THE CONTRACT TO DEAL WITH ByteBuffer in this code?
                                    if(array != null){
                                        dos.write(array);
                                    }

                                    codec.releaseOutputBuffer(outputBufferIndex, false);
                                } else if(outputBufferIndex == MediaCodec.INFO_OUTPUT_BUFFERS_CHANGED){
                                    outputBuffers = codec.getOutputBuffers();
                                } else if(outputBufferIndex == MediaCodec.INFO_OUTPUT_FORMAT_CHANGED){
                                    // codec format is changed
                                    MediaFormat format = codec.getOutputFormat();
                                }

                                Thread.sleep(100);
                            }catch(Throwable th){
                                Log.e("OUT", th.getMessage(), th);
                            }
                        }

                        codec.stop();
                        codec.release();
                        codec = null;

                        dos.flush();
                        dos.close();
                    }catch(Throwable th){
                        Log.e("OUT", th.getMessage(), th);
                    }
                }
                    }.start();

                }catch(Throwable th){
                    Log.e("OUT", th.getMessage(), th);
                }
            }
        }

        public void stop(){
            this.running = false;
        }
    } 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-04-02T17:39:22.783

的确切布局`ByteBuffer`由您选择的输入格式的编解码器确定。并非所有设备都支持所有可能的输入格式（例如，一些 AVC 编码器需要平面 420 YUV，其他需要半平面）。旧版本的 Android (<= API 17) 并没有真正提供一种可移植的方式来为`MediaCodec`.

在 Android 4.3 (API 18) 中，您有两种选择。首先，`MediaCodec`现在接受来自 Surface 的输入，这意味着您可以使用 OpenGL ES 绘制的任何内容都可以录制为电影。例如，参见[EncodeAndMuxTest 示例](http://bigflake.com/mediacodec/#EncodeAndMuxTest)。

其次，您仍然可以选择使用软件生成的 YUV 420 缓冲区，但现在它们更有可能工作，因为有 CTS 测试可以使用它们。您仍然需要对平面或半平面进行运行时检测，但实际上只有两种布局。有关示例，请参阅[EncodeDecodeTest](http://bigflake.com/mediacodec/#EncodeDecodeTest)的缓冲区到缓冲区变体。

# documentation - 在 doxygen 中，///< 和/// 之间有什么区别？

> ID：14806988
> 
> 赞同：0
> 
> 时间：2013-02-11T06:27:55.857
> 
> 标签：documentation, doxygen

我在 doxygen 中记录我的代码，发现有一个 doxygen 标签列表，其中两个是：1- ///<

2- ///

这些标签有什么区别？

我试图用谷歌搜索它，但谷歌在其搜索中忽略了这些标签！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T06:33:50.207

```
///< 
```

当您想要在对象之后进行单行注释时使用此选项。

```
/// 
```

这用于对象之前的单行注释

# excel - 如何在用户窗体鼠标悬停工具提示上换行？

> ID：14806994
> 
> 赞同：4
> 
> 时间：2013-02-11T06:28:39.553
> 
> 标签：excel, vba

我一直在尝试找到一种在鼠标悬停工具提示上放置换行符的方法

我想显示

> Full - 从外部完全覆盖 Partial - 仅覆盖来自外部的非空白 No - 仅在空白单元格上输入数据

至

> Full - 从外部完全覆盖
> Partial - 仅覆盖来自外部的非空白
> No - 仅在空白单元格上输入数据

有什么办法可以做到这一点

顺便说一句，使用 Excel 2010

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-13T18:22:38.253

`ControlTipText`excel 会简单地忽略属性中的换行符/回车符。一种可能的解决方法是使用隐藏的多行标签（格式化为工具提示），其可见性通过使用关联控件和用户窗体的`MouseMove`事件来切换 - 即`SomeControl_MouseMove`显示标`ParentForm_MouseMove`​​签并再次隐藏它（可能在延迟之后）。如果用户非常快速地移动指针，这种方法可能会有点命中或错过。另一个（更好的，恕我直言）解决方案是在表单的某处有一个永久可见的标签或文本框对象，其标题/值根据鼠标指针当前位于的任何控件而变化，再次使用`MouseMove`事件。

编辑：如果我怀疑您的工具提示与组合框/列表框控件相关联，您可能需要考虑将选项描述放在控件的第二列中？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-03-14T22:50:44.193

我试图让它变得简单（没有 api，非常短的代码）：

```
Private Sub ListBox1_MouseMove(ByVal Button As Integer, ByVal Shift As Integer, ByVal X As Single, ByVal Y As Single)
'If Events Then
    Dim list_index As Long, Zero As Long
    Zero = Me.ListBox1.TopIndex
    list_index = Y \ (8 + 2) + Zero ' ; 8 si the size of Font ; note \ is a integer division
    'Me.label1 = Y          'test label
    'Me.label2 = list_index 'test label
    'Me.label3 = Zero       'test label
    With Me.ListBox1
        .ControlTipText = .List(list_index, 1)
    End With
'End If
End Sub 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-12-03T20:18:09.880

这在 Access VBA 中有效 - 没有理由在 Excel VBA 中无效：**输入控件提示文本时，无论您想在何处换行，只需按 Shift-Enter。**

由于我们在其中输入控制提示文本的字段（在 Access 中）一次只显示一行，因此您必须使用向上和向下箭头滚动浏览该一次一行字段中的文本以确保您已正确输入所有内容。