# StackOverflow 问答 14930000-14930999

# javascript - 如何在 Javascript 中显示特定格式的日期？

> ID：14930005
> 
> 赞同：1
> 
> 时间：2013-02-18T05:25:08.160
> 
> 标签：javascript, jquery, ajax

如何`Monday, February 18, 2013 10:52`使用 Javascript 日期函数在我的 HTML 页面中显示日期时间格式？

更新：

我在尝试

```
var d=new Date();
var n=d.toString();
document.write(n); 
```

但我希望时间应该自动更新而不是页面刷新。我需要使用 AJAX 吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T06:03:01.337

我正在使用以下代码以我想要的格式显示日期

```
<script type="text/javascript">
                function makeArray() 
                {
                    for (i = 0; i<makeArray.arguments.length; i++)
                    this[i + 1] = makeArray.arguments[i];
                }

                var months = new makeArray('January','February','March','April','May',
                'June','July','August','September','October','November','December');
                var days = ['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'];
                var date = new Date();
                var day = date.getDate();
                var month = date.getMonth() + 1;
                var yy = date.getYear();
                var year = (yy < 1000) ? yy + 1900 : yy;
                var hours = date.getHours();
                var minutes = date.getMinutes();
                document.write(days[ date.getDay() ] + ", " + months[month] + " " + day + ", " + year + " " + hours +": " + minutes);
            </script> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-18T06:30:32.820

试试这个：- [http://jsfiddle.net/2Fj7m/](http://jsfiddle.net/2Fj7m/)

日期和时间会自动更新。

HTML:-

```
<body onload="startTime()">
    <div id="txt" ></div>
</body> 
```

JS：-

```
var months = new Array('January', 'February', 'March', 'April', 'May',
    'June', 'July', 'August', 'September', 'October', 'November', 'December');
var days = new Array('Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday');

function startTime() {
    var today = new Date();
    var h = today.getHours();
    var m = today.getMinutes();
    var s = today.getSeconds();
    var weekday = days[today.getDay()];
    var month = months[today.getMonth()];
    var year = today.getFullYear();
    day = today.getUTCDate();

    // add a zero in front of numbers<10

    m = checkTime(m);
    s = checkTime(s);
    document.getElementById('txt').innerHTML =weekday + ", " +month +" "+ day+", " + year+ " "+ h + ":" + m;
    t = setTimeout(function () {
        startTime()
    }, 500);
}

function checkTime(i) {
    if (i < 10) {
        i = "0" + i;
    }
    return i;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-18T05:32:19.513

如果你加载了 jQuery，你可以这样做：

HTML：

```
<div id='date'/> 
```

JavaScript：

```
$('#date').append(Date().toString()) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-18T05:33:12.780

您应该使用 javascript 调试器作为 firebug 或 chrome 的调试器，它将显示所有可用的本机 javascript 函数。

您可以使用

```
var myDate = new Date();

myDate.toLocaleFormat(); 
```

或者

```
myDate.toLocaleString(); 
```

两者都会给

```
Monday, 18 February, 2013 10:57:46 AM 
```

这与您在问题中提到的格式接近。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-18T06:15:03.747

`.Date()`您可以使用javascript 中的函数创建此格式

```
$(document).ready(function() {
      var monthNames = new Array("January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December");

      var dayNames = new Array("Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday");

      var today = new Date();
      var cDay = today.getDay();
      var cDate = today.getDate();
      var cMonth = today.getMonth();
      var cYear = today.getFullYear();

      var cHour = today.getHours();
      var cMin = today.getMinutes();
      var cSec = today.getSeconds();

      alert(dayNames[cDay]+ "," + " "+ monthNames[cMonth] + " " +cDate  + "," +cYear + " " +cHour+ ":" + cMin+ ":" +cSec );
}); 
```

# quartz.net - MVC 3 中的 Quartz.net 调度程序

> ID：14930009
> 
> 赞同：0
> 
> 时间：2013-02-18T05:25:26.167
> 
> 标签：quartz.net

嘿，朋友，我正在使用 Quartz.net 在 mvc3 应用程序中安排作业。我编写了一个示例代码来扫描另一台服务器中的文件。当我在本地机器上工作时，它工作正常。比我在本地发布应用程序并测试它。直到那时我工作正常。但是现在，当我在生产服务器中部署应用程序时，一切都是徒劳的。

当我第一次创建作业时，我可以在 cron 的石英表中看到这些作业，作业详细信息和触发器已存储在 mysql 数据库中。但它没有被安排。我的意思是，如果我想每 5 分钟执行一次某些工作，它就行不通。而且它也没有显示任何异常

我坚持下去。有什么办法可以解决我的问题。或者我需要为此配置的任何配置

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T09:07:17.663

这似乎是一个权限问题。

我建议你激活一个日志系统。
Quartz.net 使用[Common.Logging](http://netcommon.sourceforge.net/docs/2.1.0/reference/html/index.html)来跟踪错误。
您可以在此处阅读更多内容或[在](https://stackoverflow.com/a/9482539/219406)[此处](http://jvilalta.blogspot.co.uk/2009/04/configuring-quartznet-to-use-log4net.html)阅读我的答案（Log4Net）。 我过去使用过 Quartz.net + Common.Logging + NLog，我已经写了一些关于它的内容以及如何[配置](https://stackoverflow.com/a/6570161/219406)它。 应该适用于 Quartz.net 2.x 以及一些更改。

有了日志系统，您应该能够找出发生了什么。

# c# - HttpWebRequest 奇怪的行为

> ID：14930014
> 
> 赞同：0
> 
> 时间：2013-02-18T05:25:42.880
> 
> 标签：c#, asp.net-mvc, httpwebrequest

**更新** 看起来问题与[此](https://stackoverflow.com/questions/10531575/passing-a-dynamic-parameter-throws-runtimebinderexception-when-calling-method-fr)有关。我有这段代码要处理：

```
dynamic facebookResponse = facebookClient.Batch(new FacebookBatchParameter(HttpMethod.Get, "me"), new FacebookBatchParameter(HttpMethod.Get, "me", new { fields = "picture.type(large)" })); 
```

Errr 不知道为什么会这样！

我发现了一些奇怪的行为 HttpWebRequest。

```
// Send the image to blob storage.
var url = facebookResponse[1]["picture"]["data"]["url"];
byte[] imageBytes;
var request = (HttpWebRequest)HttpWebRequest.Create(url);
request.Timeout = 5000;
request.ReadWriteTimeout = 20000;
var response = (HttpWebResponse)request.GetResponse();

var validationResults = _imageService.UploadProfilePicture(response, url, newUserId).ToList(); 
```

在最后一行它抛出一个错误，`'object' does not contain a definition for 'ToList'`但如果我取出最后一行之前的所有行，它将进入函数。

可能的线程问题？

编辑：_imageService 只是通过 Ninject 传递给控制器​​的依赖项。

这是 UploadProfilePicture 函数：

```
public IEnumerable<ValidationResult> UploadProfilePicture(Stream s, string fileName, int userId)
{
    if (s == null) throw new ArgumentNullException("s");
    if (userId <= 0) throw new ArgumentNullException("userId");

    if (s.Length <= 0)
    {
        yield return new ValidationResult("", GlobalResources.FileContainsNoContent);
        yield break;
    }

    var maxProfilePictureSize = int.Parse(ConfigurationManager.AppSettings[ConfigurationManagerConstants.BlobMaxProfilePictureSize]);
    if (s.Length > maxProfilePictureSize)
    {
        yield return new ValidationResult("", string.Format(GlobalResources.ProfilePictureMustBeNoGreaterThan,
            ConfigurationManager.AppSettings[ConfigurationManagerConstants.BlobMaxProfilePictureSizeFriendlyText]));
        yield break;
    }

    const string defaultExtensionType = ".jpg";
    var container = GetCloudBlobContainer(ConfigurationManager.AppSettings[ConfigurationManagerConstants.BlobImageContainerName]);
    var uniqueBlobName = string.Format(ConfigurationManager.AppSettings[ConfigurationManagerConstants.BlobUserProfilePicturePath], userId, defaultExtensionType);
    var blob = container.GetBlockBlobReference(uniqueBlobName);
    blob.Properties.ContentType = "image/jpeg";

    var uploadImageExtension = Path.GetExtension(fileName);
    if (!string.IsNullOrWhiteSpace(uploadImageExtension) && !uploadImageExtension.Equals(defaultExtensionType, StringComparison.InvariantCultureIgnoreCase))
    {
        using (var ms = new MemoryStream())
        {
            ImageBuilder.Current.Build(s, ms, new ResizeSettings("format=jpg"));
            ms.Seek(0, SeekOrigin.Begin);
            blob.UploadFromStream(ms);
        }
    }
    else
    {
        blob.UploadFromStream(s);
    }
} 
```

# ios - Apple 可接受的终止应用程序的方式

> ID：14930021
> 
> 赞同：-1
> 
> 时间：2013-02-18T05:26:21.030
> 
> 标签：ios

我知道以前有人问过，但我需要一种方法来终止应用程序。我们的应用程序顶部有医疗免责声明。如果用户拒绝免责条款，我们将无法继续。我们可以将免责声明屏幕留在那里，但这很烦人。

我读到 Apple 拒绝使用 exit() 或任何自终止技术的应用程序。

知道可接受的解决方案是什么吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-18T05:53:01.003

基本上，你不能。

苹果说要做的是显示一条消息，指出如果不接受免责声明，该应用程序将无法使用。然后他们可以按主页按钮离开应用程序。如果您要退出，看起来应用程序已经崩溃，这是他们试图避免的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-18T06:21:53.250

没有 Apple 接受的终止应用程序的方式。但是当用户按下主页按钮时，您的应用程序可以退出。为此，您应该在应用程序的 plist 中将“应用程序不在后台运行”设置为 YES。至于免责声明，如果用户拒绝并留在该屏幕上，最好向用户显示警报。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-18T06:22:09.510

`From apple doc...`

> # [**不要以编程方式退出**](http://developer.apple.com/library/ios/#documentation/userexperience/conceptual/mobilehig/UEBestPractices/UEBestPractices.html)
> 
> * * *
> 
> 永远不要以编程方式退出 iOS 应用程序，因为人们倾向于将其解释为崩溃。但是，如果外部环境阻止您的应用程序按预期运行，您需要告诉您的用户这种情况并解释他们可以做些什么。根据应用程序故障的严重程度，您有两种选择。
> 
> **显示一个有吸引力的屏幕，描述问题并提出更正建议**。屏幕会提供反馈，让用户确信您的应用没有任何问题。它让用户可以控制，让他们决定是否要采取纠正措施并继续使用您的应用程序，或者按下主页按钮并打开另一个应用程序
> 
> **如果只有部分应用功能不可用，请在人们使用该功能时显示屏幕或提醒**。仅当人们尝试访问不起作用的功能时才显示警报。`

[如何以编程方式退出我的 iOS 应用程序？](http://developer.apple.com/library/ios/#qa/qa1561/_index.html)

# java - 没有 SQL 的 Java 表实现

> ID：14930024
> 
> 赞同：0
> 
> 时间：2013-02-18T05:26:36.697
> 
> 标签：java, linked-list, hashtable

我正在实现事务的 No-undo/redo 算法。我打算使用 Java 的内置功能而不是使用 SQL 表。但我不确定如何充分利用它们。因此，我们将非常感谢任何为我的实施提供正确方向的帮助或指示。我的任务如下。

每当我得到一个新事务时，我都必须将它插入到事务表中。假设我得到如下交易。

`b1;`

所以，我的交易表如下。

```
 TransactionID     Transaction_Status     Transaction_Items

       1                Active                   NIL 
```

现在，当我收到要写入具有相同事务 ID 的项目时，我必须单独更新 transaction_items 列。

我收到的交易项目如下。

`W1(X,2,0);`

```
TransactionID      Transaction_Status      Transaction_Items

     1                   Active                  X 
```

在我遇到提交事务后，

`C1;`

我的交易表应该更新如下。

```
TransactionID       Transaction_Status      Transaction_Items

      1                   Commit                   X 
```

我可以使用 SQL 表实现上述结构并轻松更新列。但我计划使用 java 本身提供的丰富实现。我决定使用链表来实现。但我无法在链表中设置键。基本上，我正在尝试实现一个链表数组。我无法清楚地理解这个概念。任何在正确方向上实施上述内容的帮助将不胜感激。

如果需要更多信息，请告诉我。

* * *

我正在使用 arraylist 来实现我讨论过的上述结构。set 语句覆盖了我之前设置的值。通过这种方式，我可以模拟db更新操作。假设最初我的 transactionitem arraylist 有以下项目。

X Y

现在我想在 X 上添加另一个 Z（比如 XZ）。我正在使用以 arraylist.size 作为上限的 for 循环遍历该特定实例。找到我的特定项目后，我会将现有值复制到本地字符串。之后，我将连接需要插入的所需值。完成后，我使用下面的行来进行实际更新。

transactionitem.set(i, transactionupdate);

感谢大家的帮助。如果您需要更多信息，请与我们联系。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T05:52:12.943

我认为您在数据库方面一直走在正确的轨道上，并且通过倾销它，您将损失很多。

在丰富性方面，使用本地 SQLite 数据库来保存您的对象真的很难被击败。

以下是一些仅在 Java 中很难实现的问题，但您可以从 SQLite(+Java) 免费获得它们：

*   对任何表格数据使用任意列列表，并为用户提供按任何列排序 - 您需要做的就是更改 ORDER BY 子句。
*   通过创建适当的索引，您可以保持最高性能，即使对象列表非常大。
*   使用标准 SQL 进行数据操作（使用索引 - 非常快！）。
*   您可以使用 SQLite 必须提供的真实事务，并且可以*始终保证数据的一致性*。
*   如果你的 Java 应用程序退出或更糟——崩溃，你所有的 Java 对象都消失了。但是，如果您将它们保存在数据库中，您只需在开始时从数据库中读取它们，您就可以从中断的地方继续 - 无需考虑序列化或反序列化（或者，至少它应该不是问题） .
*   在某些情况下，您不想将数据保存在磁盘上——这很好。只需使用 SQLite 内存数据库`:mem:`作为数据库文件名 - 使用 SQL 进行快速数据操作非常快速且非常方便。

# ruby-on-rails - 架构/设计挑战：使用社交媒体 API

> ID：14930026
> 
> 赞同：0
> 
> 时间：2013-02-18T05:26:43.613
> 
> 标签：ruby-on-rails, node.js, architecture, soa, saas

我们一直在开发基于社交媒体的 Rails 应用程序，它可以挖掘各种服务的数据，例如 twitter、facebook、linkedin 等等。我们在使用这些服务时面临着严重的性能问题。

例如，我们正在访问 Twitter user_timeline 以准备一些统计信息。由于 twitter 对[可以获取的推文数量施加了限制](https://dev.twitter.com/discussions/276)，我们必须使用分页来获取所有推文，这会导致多个 API 调用和阻塞 IO。因此，用户必须等待很多秒，这是不可接受的 UX。

我们是 Ruby/Rails 的新手，需要正确地架构/设计使用此类 API（Facebook、LinkedIn）的建议。请帮助我们。

**更新** 我们一直在探索 ruby​​(delayed_job, eventmachine) 和非 ruby​​(node.js) 解决方案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T05:41:39.473

通常在 Rails 世界中，如上所述的登录运行进程是通过后台服务完成的。

后台服务就像 Java 中的线程。你的工作流程是

1.  用户来到网页
2.  用户点击查看推文按钮（这将触发通过 twitter api 提取数据）
3.  推文提取作为后台进程启动
4.  页面将加载而无需等待 api 提取完成

并且有几个后台进程gem [delay_job](https://github.com/collectiveidea/delayed_job)或[sidekiq](http://mperham.github.com/sidekiq/)

# google-calendar-api - 将事件设置为锁定

> ID：14930041
> 
> 赞同：3
> 
> 时间：2013-02-18T05:27:35.477
> 
> 标签：google-calendar-api

我想插入一个“锁定”的新事件：不再对主要字段进行修改，如 API 网站上所说的“摘要”、“描述”、“位置”、“开始”、“结束”或“重复” : [https://developers.google.com/google-apps/calendar/v3/reference/events#resource](https://developers.google.com/google-apps/calendar/v3/reference/events#resource) 但是，事件出现在日历上后，我仍然可以对其进行修改。这里有人处理“锁定”事件吗？请帮帮我。

非常感谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2015-03-30T09:56:47.223

我遇到了同样的情况：我试图使用 API v3 的服务帐户插入锁定事件，但它不起作用。所以，经过一番研究，我找到了这个解释，并意识到锁定“主副本”事件是不可能的。如此处所述[https://developers.google.com/google-apps/calendar/v3/whats-new](https://developers.google.com/google-apps/calendar/v3/whats-new)

> 事件的锁定标志指示不能更改主要事件字段（“摘要”、“描述”、“位置”、“开始”、“结束”或“重复”）。尝试这样做会被 403 Forbidden 响应拒绝。这只能为参与者的活动副本设置，而不能为组织者（即主副本）设置。其他事件详细信息，例如扩展属性，仍然可以更改。这与“guestCanModify: false”不同，后者表示修改不会反映在用户以外的副本上。该字段是只读的。

# ios - 如何以编程方式限制 iPhone 中日期选择器中的特定年份？

> ID：14930045
> 
> 赞同：0
> 
> 时间：2013-02-18T05:27:39.877
> 
> 标签：ios, date, uidatepicker

如何以编程方式限制 iPhone 日期选择器中的特定年份？

例如，如果用户的出生日期是 1990 年，那么我需要限制用户选择从 1990 年开始的前几年（1989 年、1988 年*等*）。如何在日期选择器中限制这些年份？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-18T05:33:06.523

您可以使用：`[picker setMinimumDate: [NSDate date]];` 代替 [NSDate date] 根据您的要求设置您的要求。

# php - php静态属性

> ID：14930046
> 
> 赞同：14
> 
> 时间：2013-02-18T05:27:39.540
> 
> 标签：php, class, static

我有两个代码片段（关于`static`关键字），我希望它们具有相同的输出，但实际上输出是不同的。

问题是为什么？

**片段 1**

```
class base
{
    public static $var = 1;
}

class sub extends base
{
    public static $var = 2;
}

echo base::$var; // Outputs 1 
```

> 1

**片段 2**

```
class base2
{
    public static $var2 = 1;
}

class sub2 extends base2
{
}

sub2::$var2 = 2;
echo base2::$var2; // Outputs 2 
```

> 2

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2013-02-18T05:43:04.027

我想再补充一点。

STATIC 变量**不**与类的任何特定实例/对象相关联。因此，您使用父类引用或子类引用修改变量，相同的副本被修改。

因此，除了将 Public Static 理解为 Global 之外，请将其理解为与任何特定实例无关，因此对于任何类层次结构引用，您都可以更新静态变量，相同的内存位置也会得到更新。

--

维诺德

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2013-02-18T05:32:12.543

`Public static variable`就像`global`变量一样。

由于范围在`public static variable`全球范围内，您可以确保对 的任何更改`global variable`都可以在整个程序中看到。这个概念，您可以在您的示例程序中分析....

请查看[静态变量继承](http://globalconstant.scnay.com/2009/12/14/static-variable-inheritance-in-php/)。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2017-10-14T07:56:27.463

如果您将静态变量传递给子类，则该变量是共享的（它在两个类中始终具有相同的值）。如果您覆盖子类中的静态变量，那么它是一个新的静态变量，独立于父类的静态变量。

在**Snippet 1** `base::var`中并`sub::var`具有不同的内存分配，因为您`$var = 2;`在类中定义了`sub`.

在**Snippet 2** `base::var`中并`sub::var`具有相同的内存分配，因为您没有`$var2`在类中指定`sub2`。

这就是为什么`base:var`没有改变。`$var`如果您稍后像这样从`sub`班级更改，它也不会改变：

```
class base
{
    public static $var = 1;
}

class sub extends base
{
    public static $var = 2;
}
sub::var = 3
echo base::var; // Outputs 1 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-18T05:40:59.923

由于 sub2 类没有 var2 它采用 base2 类的值。因此，当您使用它分配新值时，`sub2::$var2 = 2;`它会更改为新值。

在第一个代码中，您已经在扩展类中覆盖了它。两个变量在它们各自的类中都有范围。

# java - 在不使用数组或字符串的情况下交换整数中的数字对

> ID：14930050
> 
> 赞同：-1
> 
> 时间：2013-02-18T05:28:19.343
> 
> 标签：java, algorithm

试图弄清楚一旦被拉开后如何重建数字......使用模运算符交换数字对。例如，调用 swapDigitPairs(482596) 的方法将返回 845269。它需要在不使用数组或字符串的情况下完成。如果该方法传递了一个奇数位数的整数，则最左边的数字不会移动。

编辑：交换 9 和 6，交换 2 和 5，交换 4 和 8。我了解如何将数字分开，但我正在寻找一些想法，如何在没有字符串或数组的情况下将它们放在一起. 任何想法表示赞赏

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T06:02:08.017

这是一个*临时伪*代码 - 希望有帮助

```
{
    int i = 0x842569;

    Do for each byte
    {
          for byte0
          {

               int  byte0Swapped = swapNibble (i & 0xFF);

                i = (i & 0xFFFFFF00) | byte0Swapped ;
          }
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T07:08:50.920

哈斯克尔：

```
swap num = 
  swap' num 1
    where swap' num factor =
            let a = mod num 10
                b = mod (div num 10) 10
            in next + factor * (10 * a + b)
                where next = if num == 0 
                                then 0
                                else swap' (div num 100) (100 * factor) 
```

*主>交换 482596
845269

# android - 如何将文件从列表视图移动到目录？

> ID：14930054
> 
> 赞同：0
> 
> 时间：2013-02-18T05:28:33.657
> 
> 标签：android, android-listview

我创建了一个列表视图，显示 sd 卡中的所有音频文件。现在我想将该列表中的任何文件移动到名为“Ankit_s”的文件夹中，但是在运行以下代码时，我遇到了这样的错误，

```
02-18 10:20:26.980: E/readfile(407): /sdcardasd.mp3 (No such file or directory) 
```

我的代码在`onListItemClick()`，

```
public class Pick extends ListActivity {

    //Setting SD card path. this is the place from where we retrieve the audio files
        private static final String MEDIA_PATH = new String(Environment.getExternalStorageDirectory().getPath());
        // To hold all songs   
        private List<String> songs = new ArrayList<String>();
        //To find out the Index of File, Currently selected one.
        private int currentPosition = 0;

    @Override

    protected void onCreate(Bundle savedInstanceState) 
    {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.user);

        //Below method bind all songs to ListView
        BindAllSongs();

    }

    private void BindAllSongs() {
        // TODO Auto-generated method stub
        //To hold all the audio files from SDCARD
                File fileListBeforeFiltering = new File(MEDIA_PATH);
                //Filter all the MP# format songs to list out
                //Checking for the MP3 Extension files existence 
                    if (fileListBeforeFiltering.listFiles(new FilterFilesByMp3Extension()).length > 0) 
                    {
                        //Loop thru all the files filtered and fill them in SongsList view that we have 
                        //Defined above.
                        for (File file : fileListBeforeFiltering.listFiles(new FilterFilesByMp3Extension())) 
                        {
                            //Adding all filtered songs to the list
                                songs.add(file.getName());
                        }

                        //Loading them to Listview using ArrayAdapter.

                        ArrayAdapter<String> allsongs = new ArrayAdapter<String>(this,R.layout.song_items, songs);
                        setListAdapter(allsongs);
                }

    }

    // Responding to OnClick Event to Listview
    @Override   
    protected void onListItemClick(ListView l, View v, int position, long id) {
        //Hold the currently clicked Item [Sending Path and Current song from list view
        currentPosition = position;

           try {
               File direct = new File(Environment.getExternalStorageDirectory() + File.separator+"Ankit_s");

               if(!direct.exists())
                {
                    if(direct.mkdir()); //directory is created;

                }

               File sourcepath = new File(MEDIA_PATH + songs.get(position));

               File fromFile=new File(sourcepath.getName());

               File toFile=new File(Environment.getExternalStorageDirectory()+ File.separator+"Ankit",fromFile.getName());

             java.io.FileInputStream fosfrom = new FileInputStream(fromFile);

             java.io.FileOutputStream fosto = new FileOutputStream(toFile);

             byte bt[] = new byte[1024];

             int c;

             while ((c = fosfrom.read(bt)) > 0) {

             fosto.write(bt, 0, c); 

             }

             Toast.makeText(Pick.this," moved successfully", Toast.LENGTH_LONG).show();

             fromFile.deleteOnExit();

            fosfrom.close();

            fosto.close();

            } catch (Exception ex) {

            Log.e("readfile", ex.getMessage());

             }
    }  
} 
```

请再给点建议。。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T05:55:17.043

您不需要添加`/mnt`路径，因此只需编辑以下行

```
File toFile=new File("/mnt/sdcard/Ankit_s/",fromFile.getName()); 
```

和

```
File toFile=new File("/sdcard/Ankit_s/",fromFile.getName()); 
```

现在它会正常工作。您还需要`WRITE_EXTERNAL_STORAGE`在您的 AndroidManifest.xml 文件中授予权限。

编辑，你需要检查文件是否存在，如果不存在，你需要按照以下语法创建新的，

```
File toFile=new File("/sdcard/Ankit_s/",fromFile.getName());

if ( !toFile.exists() )
{
     toFile.createNewFile();
} 
```

# javascript - 从 javascript 中的另一个 HTML 中提取值

> ID：14930056
> 
> 赞同：0
> 
> 时间：2013-02-18T05:28:42.157
> 
> 标签：javascript

我正在开发 WP8 浏览器检查应用程序。该应用程序按此顺序加载以下 HTML 页面：

1.  ***A.html***多次淡化图像，计算（并显示）帧速率。
2.  ***B.html***放大/缩小预先编写的文本，计算速度（和显示）和其他属性。

这两个工作正常。我现在需要加载一个 RESULTANT 页面 ( ***C.HTML*** )，它应该从 A.html 和 B.html中**提取计算的分数并以表格格式显示分数。**

为了保存内容（在临时文件中），我使用了：

```
<script type="text/javascript">
  window.onload = function () 
  {
    var sw : StreamWriter = new StreamWriter("HTML_Results.txt");
    sr.Write('xyz");

    //calculations done here
    sr.Write (result);
  }
</script> 
```

不幸的是，这不起作用。没有语法错误，但执行后的文本文件为空。

我想知道这是否是从 html 页面中提取值的最佳方法。请帮忙。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T06:02:09.607

```
<script type="text/javascript">
window.onload = function () 
{
  var sw : StreamWriter = new StreamWriter("HTML_Results.txt");
  sr.Write('xyz',true);

  //calculations done here
  sr.Write (result,true);
  //close streamwriter
  sr.Close();
}
</script> 
```

也许是复制粘贴错误，但 xyz 被错误引用为一个单字和一个双字。

您还省略了告诉 StreamWriter 是否覆盖的布尔值。

并且不要忘记关闭。

```
 sr.Write('xyz',true); 
```

# android - 从视图中移除一个 Imageview

> ID：14930059
> 
> 赞同：0
> 
> 时间：2013-02-18T05:28:46.583
> 
> 标签：android, android-view, android-viewbinder

我想根据一个代码从视图（android.view.View）中删除一个图像视图。条件是该图像视图的 src。如何从视图中删除一个图像视图。请帮忙

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-18T05:39:05.257

如果您的意思是根据特定条件**隐藏ImageView，则***删除，请执行以下操作：*

 **```
if (your_condition) {
    your_image_view.setVisibility(View.GONE);
} else {
    your_image_view.setVisibility(View.VISISBLE);
} 
```

如果您需要移除当前设置为 的图像`ImageView`，请在`if ... else`上面执行此操作（根据条件）

```
your_image_view.setImageResource(android.R.color.transparent); 
```

或者

```
your_image_view.setImageBitmap(null); 
```

如果您需要完全*删除*ImageView，请在*容器*`if....else`上的、 中调用它：`ImageView's`

 *```
container.removeView(your_image_view); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-18T05:38:11.517

要删除`imageview`，请使用

```
if(condition) {
     imageView.setVisibility(View.GONE);
} 
```

要使`imageview`隐藏/不可见，请使用

```
if(condition) {
     imageView.setVisibility(View.INVISIBLE);
} 
```

带回`imageview`，请使用

```
imageView.setVisibility(View.VISIBLE); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-18T05:35:25.097

例子：

```
LinearLayout linearLayout;
ImageView imageView;

if (condition) {
    linearLayout.removeView(imageView);
} 
```

我需要更多信息才能提供更好的答案。***

# sql-server-2008 - IBM WebSphere 7 JNDI 配置 - java.lang.NullPointerException 错误

> ID：14930061
> 
> 赞同：0
> 
> 时间：2013-02-18T05:28:54.683
> 
> 标签：sql-server-2008, websphere-7

![在此处输入图像描述](../Images/b2db2b33aedc4ac871453109032e8cbc.png)

尝试使用“sqljdbc4.jar”在 IBM Websphere 7 中创建与 MS SQL Server 2008 的 JNDI 连接，但是当我单击完成时出现以下 java.lang.NullPointerException 错误。

DSRA3601E:createDatasource 命令失败，原因如下：java.lang.NullPointerException。

# php - 尝试使用我创建的命名空间时出错

> ID：14930063
> 
> 赞同：1
> 
> 时间：2013-02-18T05:29:01.683
> 
> 标签：php, namespaces

*名为 tester.php 的脚本*

```
<?php
namespace my;
class Tester {
    public function greet() {
        echo "Hello ! <br />";
    }
} 
```

一个名为*tester1.php*的新脚本：

```
<?php
use my;

$obj = new Tester();
$obj->greet(); 
```

当我运行时，`tester1.php`我收到此错误：

```
Warning: The use statement with non-compound name 'my' has no effect
in /opt/lampp/htdocs/tester_1.php on line 2

Fatal error: Class 'Tester' not found in /opt/lampp/htdocs/tester_1.php on line 4 
```

为什么我会收到此错误？这两个脚本都在同一个目录`/opt/lampp/htdocs/`中。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T05:38:43.297

该[`use`运算符](http://php.net/manual/en/language.namespaces.importing.php)用于为类/接口/命名空间名称起别名，而不是导入命名空间以便可以使用它。要使用您的命名空间，您只需将其放在文件`namespace my;`的顶部`tester1.php`（并且还包括原始文件，以便您的类定义可用）。

```
<?php
namespace my;
include("tester.php");

$obj = new Tester();
$obj->greet(); 
```

如果您想别名为另一个名称，那么您可以使用`use`，例如，

```
<?php
namespace my;
use my\Tester as Blah;
include("tester1.php");

$obj = new Blah();
$obj->greet(); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-18T05:43:38.320

尝试

`<?php use my as Something;`

这会奏效。

完整的代码。

**第一.php**

```
<?php namespace my;
use my as Blah;
include("second.php");
$obj = new Tester();
$obj->greet();
```

**第二个.php**

```
<?php namespace my;
class Tester {
    public function greet() {
        echo "Hello ! <br />";
    }
} 
```

您需要`namespace`在任何代码之前声明，包括`doctype`

# jquery - 加载所有内容后淡入 div

> ID：14930067
> 
> 赞同：0
> 
> 时间：2013-02-18T05:29:10.270
> 
> 标签：jquery, html, fadein

我正在使用一个简单的加载来使用淡入淡出作为回调的内容填充 div。然后我对图像进行辅助淡入淡出，以减少它们的流行。

我想完全删除此弹出窗口，并且仅在加载所有图像后才使页面淡入，因此它们都作为一个整体加载。我如何实现这一目标？

```
$("#content").load("pages/test.htm", function () {
    $("#page").fadeTo(250, 1, "swing");
}); 
```

然后在加载的页面上

```
$('img').load(function (e) {
    $('img').fadeIn();
}); 
```

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T05:32:30.297

这是一个令人困惑的问题，但以下工作不起作用吗？

```
$('img').load(function() {
    $("#page").fadeTo(250,1,'swing');
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T05:33:06.267

```
$(window).load(function(){
    // do your fade in here
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-18T05:46:06.023

试试这个：

```
$("#content").load("pages/test.htm", function () {
    $("#page").fadeTo(250, 1, "swing",function(){
        $('img').fadeIn();
    });
}); 
```

# java - 如何检查字符串是否平衡？

> ID：14930073
> 
> 赞同：10
> 
> 时间：2013-02-18T05:29:34.390
> 
> 标签：java, string, stack, balance

我想测试输入字符串是否平衡。如果有匹配的左括号和右括号，括号或大括号，它将是平衡的。

```
example:
{} balanced
() balanced
[] balanced
If S is balanced so is (S)
If S and T are balanced so is ST

public static boolean isBalanced(String in)
{
    Stack st = new Stack();

    for(char chr : in.toCharArray())
    {
        if(chr == '{')
            st.push(chr);

    }

    return false;
} 
```

我在选择做什么时遇到问题。我是否应该将每个左括号或右括号、括号或大括号放在堆栈中，然后将它们弹出？如果我把它们弹出来，这对我有什么帮助？

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2013-02-18T05:34:59.720

1）对于每个开口支架：`{ [ (`将其推入堆栈。

2）对于每个右括号：`} ] )`从堆栈中弹出并检查括号类型是否匹配。如果不返回`false`；

**即**字符串中的当前符号是`}`，如果从堆栈中弹出是其他任何东西，`{`则`false`立即返回。

3）如果行尾和堆栈不为空，则返回`false`，否则`true`。

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2013-02-18T05:33:12.867

是的，堆栈是该任务的合适选择，或者您可以使用递归函数。如果您使用堆栈，那么想法是您将每个左括号推入堆栈，当您遇到右括号时，您检查堆栈顶部是否匹配它。如果匹配，则将其弹出，如果不匹配，则为错误。完成后，堆栈应该是空的。

```
import java.util.Stack;
public class Balanced {
    public static boolean isBalanced(String in)
    {
        Stack<Character> st = new Stack<Character>();

        for(char chr : in.toCharArray())
        {
            switch(chr) {

                case '{':
                case '(':
                case '[':
                    st.push(chr);
                    break;

                case ']':
                    if(st.isEmpty() || st.pop() != '[') 
                        return false;
                    break;
                case ')':
                    if(st.isEmpty() || st.pop() != '(')
                        return false;
                    break;
                case '}':
                    if(st.isEmpty() || st.pop() != '{')
                        return false;
                    break;
            }
        }
        return st.isEmpty();
    }
    public static void main(String args[]) {
        if(args.length != 0) {
            if(isBalanced(args[0]))
                System.out.println(args[0] + " is balanced");
            else
                System.out.println(args[0] + " is not balanced");
        }
    }
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-18T05:34:53.100

以下是`Java`检测字符串是否平衡的代码示例。

[http://introcs.cs.princeton.edu/java/43stack/Parentheses.java.html](http://introcs.cs.princeton.edu/java/43stack/Parentheses.java.html)

这个想法是——

*   对于每个开口大括号`( [ {`，将其推入堆栈。
*   对于右大括号`) ] }`，尝试`( [ }`从堆栈中弹出一个匹配的左大括号。如果找不到匹配的左大括号，则字符串不平衡。
*   如果在处理完完整的字符串后，堆栈为空，则字符串是平衡的。否则弦不平衡。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-18T05:33:20.280

好吧，粗略地说，如果它是平衡的，那意味着你的堆栈应该是空的。

为此，您需要在解析时弹出堆栈`}`

附加要求是检查`}`前面是`{`还是弹出的字符是`{`.

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2019-06-07T21:38:37.050

我编写了这段代码来解决这个问题，每个括号类型只使用一个整数（或者可能是一个字节）变量。

```
public boolean checkWithIntegers(String input) {

    int brackets = 0;

    for (char c: input.toCharArray()) {

        switch (c) {

            case '(':

                brackets++;

                break;

            case ')':

                if (brackets == 0)
                    return false;

                brackets--;

                break;

            default:

                break;
        }
    }

    return brackets == 0;
}

public static void main(String... args) {

    Borrar b = new Borrar();
    System.out.println( b.checkWithIntegers("") );
    System.out.println( b.checkWithIntegers("(") );
    System.out.println( b.checkWithIntegers(")") );
    System.out.println( b.checkWithIntegers(")(") );
    System.out.println( b.checkWithIntegers("()") );

} 
```

OBS

1.  我假设一个空字符串是平衡的。这可以通过以前的检查来改变。
2.  我只使用了一种类型的括号示例，但只需添加另一个 case 开关即可快速添加其他类型。

希望这有帮助。干杯!

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2015-02-19T18:01:27.080

```
import java.util.Stack;

public class SyntaxChecker {

    /**
     * This enum represents all types of open brackets. If we have a new type then
     * just add it to this list with the corresponding closed bracket in the other
     * ClosedBracketTypes enum  
     * @author AnishBivalkar
     *
     */
    private enum OpenBracketTypes {
        LEFT_ROUND_BRACKET('('),
        LEFT_SQUARE_BRACKET('['),
        LEFT_CURLY_BRACKET('{');

        char ch;

        // Constructs the given bracket type
        OpenBracketTypes(char ch) {
            this.ch = ch;
        }

        // Getter for the type of bracket
        public final char getBracket() {
            return ch;
        }

        /**
         * This method checks if the current character is of type OpenBrackets
         * @param name
         * @return True if the current character is of type OpenBrackets, false otherwise
         */
        public static boolean contains(final char name) {
            for (OpenBracketTypes type : OpenBracketTypes.values()) {
                if (type.getBracket() == name) {
                    return true;
                }
            }

            return false;
        }
    }

    /**
     * This enum represents all types of Closed brackets. If we have a new type then
     * just add it to this list with the corresponding open bracket in the other
     * OpenBracketTypes enum    
     * @author AnishBivalkar
     *
     */
    private enum CloseBracketTypes {
        RIGHT_ROUND_BRACKET(')'),
        RIGHT_SQUARE_BRACKET(']'),
        RIGHT_CURLY_BRACKET('}');

        char ch;
        CloseBracketTypes(char ch) {
            this.ch = ch;
        }

        private char getBracket() {
            return ch;
        }

        /**
         * This method checks if a given bracket type is a closing bracket and if it correctly
         * completes the opening bracket
         * @param bracket
         * @param brackets
         * @return
         */
        public static boolean isBracketMatching(char bracket, Stack<Character> brackets) {
            // If the current stack is empty and we encountered a closing bracket then this is
            // an incorrect syntax
            if (brackets.isEmpty()) {
                return false;
            } else {
                if (bracket == CloseBracketTypes.RIGHT_ROUND_BRACKET.getBracket()) {
                    if (brackets.peek() == OpenBracketTypes.LEFT_ROUND_BRACKET.getBracket()) {
                        return true;
                    }
                } else if (bracket == CloseBracketTypes.RIGHT_SQUARE_BRACKET.ch) {
                    if (brackets.peek() == OpenBracketTypes.LEFT_SQUARE_BRACKET.getBracket()) {
                        return true;
                    }
                } else if (bracket == CloseBracketTypes.RIGHT_CURLY_BRACKET.ch) {
                    if (brackets.peek() == OpenBracketTypes.LEFT_CURLY_BRACKET.getBracket()) {
                        return true;
                    }
                }

                return false;
            }
        }

        /**
         * This method checks if the current character is of type ClosedBrackets
         * @param name
         * @return true if the current character is of type ClosedBrackets, false otherwise
         */
        public static boolean contains(final char name) {
            for (CloseBracketTypes type : CloseBracketTypes.values()) {
                if (type.getBracket() == name) {
                    return true;
                }
            }

            return false;
        }
    }

    /**
     * This method check the syntax for brackets. There should always exist a
     * corresponding closing bracket for a open bracket of same type.
     * 
     * It runs in O(N) time with O(N) worst case space complexity for the stack
     * @param sentence The string whose syntax is to be checked
     * @return         True if the syntax of the given string is correct, false otherwise
     */
    public static boolean matchBrackets(String sentence) {
        boolean bracketsMatched = true;

        // Check if sentence is null
        if (sentence == null) {
            throw new IllegalArgumentException("Input cannot be null");
        }

        // Empty string has correct syntax
        if (sentence.isEmpty()) {
            return bracketsMatched;
        } else {
            Stack<Character> brackets = new Stack<Character>();
            char[] letters = sentence.toCharArray();

            for (char letter : letters) {

                // If the letter is a type of open bracket then push it 
                // in stack else if the letter is a type of closing bracket 
                // then pop it from the stack
                if (OpenBracketTypes.contains(letter)) {
                    brackets.push(letter);
                } else if (CloseBracketTypes.contains(letter)) {
                    if (!CloseBracketTypes.isBracketMatching(letter, brackets)) {
                        return false;
                    } else {
                        brackets.pop();
                    }
                }
            }

            // If the stack is not empty then the syntax is incorrect
            if (!brackets.isEmpty()) {
                bracketsMatched = false;
            }
        }

        return bracketsMatched;
    }

    /**
     * @param args
     */
    public static void main(String[] args) {
        String words = "[[][][]Anfield[[]([])[]]becons()]";
        boolean isSyntaxCorrect = SyntaxChecker.matchBrackets(words);

        if (isSyntaxCorrect) {
            System.out.println("The syntax is correct");
        } else {
            System.out.println("Incorrect syntax");
        }
    }
} 
```

非常欢迎对此提供任何反馈。如果您发现有问题或无用，请批评。我只是想学习。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2016-08-13T18:11:16.330

```
import java.util.*;
public class Parenthesis
{
    public static void main (String ...argd)
    {
        Scanner sc=new Scanner(System.in);
        System.out.println("enetr string");
        String s=sc.nextLine();
        Stack<Character> st=new Stack<Character>();  
        for (int i=0;i<s.length();++i)
        {
            if((s.charAt(i)=='(')||(s.charAt(i)=='{')||(s.charAt(i)=='['))
            {
                st.push(s.charAt(i));
            }
            else if(st.isEmpty()==false)
            {   
            switch(s.charAt(i))
            {
            case']':
                if(st.pop()!='[')
                {
                    System.out.println("unbalanced");
                    System.exit(0);
                }
                break;
            case'}':
                if(st.pop()!='{')
                {
                    System.out.println("unbalanced");
                    System.exit(0);
                }
                break;
            case')':
                if(st.pop()!='(')
                {
                    System.out.println("unbalanced");
                    System.exit(0);
                }
                break;
            }
            }
        }           
        if(st.isEmpty())
        {
            System.out.println("balanced paranthesis");
        }
        else 
            System.out.println("not balance");
    }   
} 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2019-10-17T07:43:32.573

对应的 Hackrrank 链接：[https ://www.hackerrank.com/challenges/balanced-brackets/problem](https://www.hackerrank.com/challenges/balanced-brackets/problem)

```
import java.util.Stack;

class BalancedParenthesis {
    static String isBalanced(String s) {
        return isBalanced(s.toCharArray());
    }

    private static String isBalanced(final char[] chars) {
        final Stack<Character> stack = new Stack<>();
        for (char eachChar : chars) {
            if (eachChar == '{' || eachChar == '[' || eachChar == '(') {
                stack.push(eachChar);
            } else {
                if (stack.isEmpty()) {
                    return "NO";
                }
                if (correspondingCloseBracket(stack.peek()) != eachChar) {
                    return "NO";
                }
                stack.pop();
            }
        }
        return stack.isEmpty() ? "YES" : "NO";
    }

    private static char correspondingCloseBracket(final char eachChar) {
        if (eachChar == '{') {
            return '}';
        }
        if (eachChar == '[') {
            return ']';
        }
        return ')';
    }
} 
```

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2021-09-05T14:32:04.003

我假设`null`or `empty`value 是一个平衡的字符串，我使用 a`Map`来跟踪每个开始/结束括号：

```
static boolean isBalanced(String value) {
    if (value == null || value.isBlank()) {
      return true;
    }

    if (value.length() % 2 != 0) {
      return false;
    }

    Map<Character, Character> bracketMirrors = Map.of('(', ')',
      '{', '}',
      '[', ']');

    Deque<Character> characters = new ArrayDeque<>();

    for (char c : value.toCharArray()) {
      if (bracketMirrors.containsValue(c)) {
        if (characters.isEmpty() || c != bracketMirrors.get(characters.pop())) {
          return false;
        }
      } else {
        characters.push(c);
      }
    }

    return characters.isEmpty();
  } 
```

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2022-01-15T09:38:20.620

```
def balance (string):

    if ((len(string)%2)!=0):
        return("Not Balanced")
    else:
        check_num=[]    
        def check(num1,num2):
            if ((num1=='['and num2==']') or (num1=='{'and num2=='}') or (num1=='('and num2==')')) :
                check_num.append('B')
            else:
                 check_num.append('N')

        i=0        
        while i < (len(string)-1):
            check(string[i],string[i+1])
            i+=2

        if 'N' in check_num:
             return("Not Balanced")
        else:
            return("Balanced") 
```

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2022-03-03T13:33:13.370

```
public class IsBalanced {

static Boolean isBalanced(String expStr) {
    Boolean balanced = false;

    int openedBraces = 0;
    int closeddBraces = 0;
    for (int i = 0; i < expStr.length(); i++) {
        if (expStr.charAt(i) == '{' || expStr.charAt(i) == '(' || expStr.charAt(i) == '[') {
            for (int j = i + 1; j < expStr.length(); j++) {
                if (expStr.charAt(i) == '{') {
                    if (expStr.charAt(j) == '}') {
                        closeddBraces++;
                        break;
                    }
                } else if (expStr.charAt(i) == '(') {
                    if (expStr.charAt(j) == ')') {
                        closeddBraces++;
                        break;
                    }
                } else if (expStr.charAt(i) == '[') {
                    if (expStr.charAt(j) == ']') {
                        closeddBraces++;
                        break;
                    }
                }
            }
            openedBraces++;
        }
    }
    System.out.println("openedBraces : " + openedBraces + " , closeddBraces : " + closeddBraces);
    if (openedBraces == closeddBraces) {
        balanced = true;
    }
    return balanced;
}

public static void main(String[] args) {
    // TODO Auto-generated method stub
    String str = "{[()]}[[]](";
    if (isBalanced(str))
        System.out.println("Balanced");
    else
        System.out.println("NotBalanced");
}

} 
```

# c# - 更新查询中的语法不正确：找不到

> ID：14930077
> 
> 赞同：0
> 
> 时间：2013-02-18T05:29:49.910
> 
> 标签：c#, asp.net, sql, ms-access, sql-update

我在我的 ASP.NET 应用程序中的一个 SQL 查询中遇到了一个奇怪的错误。我正在尝试更新**MS Access** Table 行，以下是我的代码：

```
try
{
strQry = @"Update UserMaster set Password=@Pwd, RoleID=@RoleID where UserID=@UserID";
cmd.Parameters.AddWithValue("@Pwd", strUserPwd);
cmd.Parameters.AddWithValue("@RoleID", intRoleID);
cmd.Parameters.AddWithValue("@UserID", intUserID);
cmd.Connection = con;
cmd.CommandText = strQry;
con.Open();
intReturn = cmd.ExecuteNonQuery();
con.Close();
}
catch(Exception ex)
{
    throw new Exception(ex.Message);
} 
```

据我所知，我能看到更新查询没有问题，因为我已经使用这种方法很长时间了，但是，我遇到`Syntax error in UPDATE statement`异常真的很奇怪。

谁能帮我吗

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-18T05:36:49.447

实际上`password`是保留字，您需要将其括在括号中`[]`
所以您的查询将变为

```
strQry = @"Update UserMaster set [Password]=@Pwd, RoleID=@RoleID where UserID=@UserID"; 
```

如果正确，请全部休息:)

请参阅[MS Access 2007 数据库中的保留关键字列表](http://office.microsoft.com/en-sg/access-help/access-2007-reserved-words-and-symbols-HA010030643.aspx)

**提示**：总是建议使用`non-reserved`关键词，即使你这样做了，也总是包括`[ ]`更安全的一面。匆忙中你没有意识到你搞砸了哪个保留关键词

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-02-18T05:36:07.387

我认为您正在使用`OleDb`连接到 MsAccess。

尝试将您的参数声明从更改`@parameter`为`?`这样。

更多：[OleDbParameter 类](http://msdn.microsoft.com/en-us/library/system.data.oledb.oledbparameter)

```
try
{
  strQry = @"Update UserMaster set Password=?, RoleID=? where UserID=?";
  var p1 = command.CreateParameter();
  p1.Value = strUserPwd;
  command.Parameters.Add(p1);

  var p2 = command.CreateParameter();
  p2.Value = intRoleID;
  command.Parameters.Add(p2);

  var p3 = command.CreateParameter();
  p3.Value = intUserID;
  command.Parameters.Add(p3);

  cmd.Connection = con;
  cmd.CommandText = strQry;
  con.Open();
  intReturn = cmd.ExecuteNonQuery();
  con.Close();
}
catch(Exception ex)
{
    throw new Exception(ex.Message);
} 
```

# jakarta-ee - 在 jboss 6 上找不到类定义错误，但该类存在于 jar 文件中

> ID：14930079
> 
> 赞同：1
> 
> 时间：2013-02-18T05:29:52.913
> 
> 标签：jakarta-ee, jar, classpath, noclassdeffounderror, jboss6.x

我创建了一个 jar 文件，其中包含一些用于分发的 API。

*   我的 jar 文件被添加到`lib`项目的文件夹中。
*   在尝试创建类的对象时抛出`ClassDefinitionNotFound`异常
*   我通过在 Eclipse 中创建一个演示项目来测试 jar，一切正常。
*   `deploy`相同的jar文件保存在JBOSS文件夹下我的程序可以使用

# javascript - 无法从 external.js 文件调用 javascript 函数

> ID：14930082
> 
> 赞同：0
> 
> 时间：2013-02-18T05:30:17.963
> 
> 标签：javascript

我无法调用名为 clear 的 javascript 函数，该函数接受一个字符串参数，即我通过在客户端单击时调用该函数传递的参数值。这是我的代码，请帮助我

```
<script type="text/javascript">       
    var _whichform = 'login'
    function clear(_whichform)
    {

        switch (_whichform)
        {
        case 'login':
               document.getElementById('<%=tbxUsername.ClientID%>').value = ''
               document.getElementById('<%=tbxPassword.ClientID%>').value = ''
               document.getElementById('<%=tbxFname.ClientID%>').value = ''
               document.getElementById('<%=tbxLname.ClientID%>').value = ''
               break;
          break;
         case 'company':
               document.getElementById('<%=tbxCompname.ClientID%>').value = ''
               document.getElementById('<%=tbxDescptn.ClientID%>').value = ''
               document.getElementById('<%=tbxCompanyEmail.ClientID%>').value = ''
               document.getElementById('<%=tbxStateCo.ClientID%>').value = ''
               document.getElementById('<%=tbxStateCo.ClientID%>').value = ''
               document.getElementById('<%=tbxCity.ClientID%>').value = ''
               document.getElementById('<%=tbxCompanyAddress.ClientID%>').value = ''
               document.getElementById('<%=tbxCpCountryCode.ClientID%>').value = ''
               document.getElementById('<%=tbxCpStateCode.ClientID%>').value = ''
               document.getElementById('<%=tbxPhone.ClientID%>').value = ''
               document.getElementById('<%=tbxCfCountryCode.ClientID%>').value = ''
               document.getElementById('<%=tbxCfStateCode.ClientID%>').value = ''
               document.getElementById('<%=tbxCffax.ClientID%>').value = ''
          break;

        }
    }
</script>
<input id="btnLoginCancel" type="button" value="Clear" onclick="clear('login')" class="buttons"/> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-18T05:32:26.367

你漏掉了一个分号。

```
var _whichform = 'login'; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T06:13:17.433

您在第二行中错过了一个分号，它应该 `var _whichform = 'login';` 也是为了测试和调试它总是更好地使用`IE`，因为它会表明您在第二行中错过了分号。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-18T09:51:02.927

有几点需要您注意。

**1.**`<script type="text/javascript"></script>`如果是外部js文件，那么你写错了，不需要在外部js文件中写 标签会抛出语法错误。可以直接从写函数开始，调用js文件（路径等）要小心

**2**、你的js文件中多处遗漏了分号，不需要定义 **Var _whichform**，因为你在调用函数的时候已经传参数了。

**3.**从开发人员的角度来看，最好使用 firebug 在 Firefox 上测试您的代码 它肯定有助于调试和编写更好的 javascript 代码。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-18T05:40:37.940

clear() 是浏览器中的本机函数。将您的函数命名为 myclear，它会起作用（前提是带有 id 名称的字段是正确的）。

clear 是 window.document 上的一个方法。在某些浏览器（例如 chromium）中，onclick 将在该上下文中执行。这可以通过添加 onclick="console.log(clear)" 来看到，你会得到类似的东西：function clear() { [native code] }

然后用分号结束所有语句总是一个好主意，以避免以后与换行符等混淆。

# lisp - 多于 1 行代码的宏

> ID：14930091
> 
> 赞同：4
> 
> 时间：2013-02-18T05:32:17.317
> 
> 标签：lisp, common-lisp

正在学习Common Lisp的宏系统，突然发现一个问题

```
(defun hello () (format t "hello ~%")) 
(defun world () (format t "world ~%"))
(defmacro call-2-func (func1 func2)
  `(,func1)
  `(,func2))

(macroexpand-1 '(call-2-func hello world)) 
(WORLD) 
T 
```

好。为什么我不能只从一个宏生成 2 个 LoC？我该如何解决？(~~progn 不会在更复杂的情况下工作......~~)

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-02-18T05:58:05.133

您的宏只需要返回*一种*可以调用这两个函数的形式。
相反，您正在生成两种形式（并且只使用最后一种。）

尝试：

```
(defmacro call-2-func (func1 func2)
  `(progn (,func1) (,func2))) 
```

或者，如果您不想仅限于 2 个功能：

```
(defmacro call-funcs (&rest funcs)
  `(progn ,@(mapcar #'list funcs))) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-07-04T17:08:22.157

上面的内容似乎不太清楚，所以让我补充一下……是的，您可以从宏中返回 2 行代码，但请记住函数和宏通常只返回 1 个值。您可以在函数中计算多个值，但它只返回最后一个值。下面的这个函数只返回 value-2（它仍然计算 value-1，它对 value-1 不做任何事情）。

```
(defun myfun () (compute-value-1) (compute-value-2)) 
```

如果要返回 2 个值，可以将它们包装在列表（或其他结构）中，也可以使用 #'values 返回多个值。

在这种情况下，您的宏只能返回一个语句，除非您将多个值包装在一个列表中或使用 #'values。它返回的内容也必须是正确的 lisp 代码，并且通常使用 PROGN

```
(defmacro call-2-func (func1 func2) `(PROGN (,func1) (,func2))) 
```

如果你用过

```
(defmacro call-2-func (func1 func2) `(,func1) `(,func2)) 
```

然后你的宏计算 2 个值，但它只返回最后一个。（如您在上面的宏扩展中看到的）

您可以使用计算 2 个值但只返回最后一个值的 defun 轻松看到这一点。

```
(defun myname () 1 2) 
```

使用 VALUES 有点奇怪。

```
(defmacro tttt () '(values (one) (one)))
(tttt)
1
1 
```

# android - 维护 CheckBox 行为

> ID：14930108
> 
> 赞同：0
> 
> 时间：2013-02-18T05:33:28.097
> 
> 标签：android, checkbox

我的布局中有一个全选复选框按钮和一个列表视图，每个视图右侧都有一个复选框。我为全选复选框添加了以下代码：

selectall.setOnCheckChangedListener 代码：-

```
for(int i=0; i < listView.getChildCount(); i++){
    RelativeLayout itemLayout = (RelativeLayout)listView.getChildAt(i);
    CheckBox cb = (CheckBox)itemLayout.findViewById(R.id.MyListViewCheckBox);
    cb.setChecked(true);
} 
```

在这里我维护每个列表视图项

```
holder.mcbGoupMember.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {

                @Override
                public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {
                    // TODO Auto-generated method stub

                    commonFriends.get(position).setChecked(isChecked);
                }
            }); 
```

现在我陷入了一种情况，我希望当我手动选择所有复选框项目时，此时应该自动选中全选按钮/复选框，反之亦然。

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T05:38:15.687

请参阅此示例程序[**有关listview 复选框滚动问题**](http://www.lalit3686.blogspot.in/2012/06/today-i-am-going-to-show-how-to-deal.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T06:00:51.497

您可以只简单计算一次检查的项目数。如果您选中一项，则将其加一，如果您取消选中一项，则将其减一。每次增加/减少后，检查此检查的项目数是否等于列表中的项目数，如果是，请检查全选。只需确保`selectall.setOnCheckChangedListener`将列表复选框值设置为它在`isChecked`. 例如：

```
public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {
  for(int i=0; i < listView.getChildCount(); i++){
      RelativeLayout itemLayout = (RelativeLayout)listView.getChildAt(i);
      CheckBox cb = (CheckBox)itemLayout.findViewById(R.id.MyListViewCheckBox);
      cb.setChecked(isChecked);
  }
} 
```

# apache - *.php 无法统计

> ID：14930112
> 
> 赞同：0
> 
> 时间：2013-02-18T05:33:49.497
> 
> 标签：apache

我的 apache 登录新服务器时出现非常奇怪的错误，显然我没有 *.php 文件。

```
[Mon Feb 18 08:02:32 2013] [error] [client ::1] script '/var/www/html/*.php' not found or unable to stat 
```

欢迎提出建议。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T05:39:13.030

无法统计只是意味着该文件不存在。

检查您的代码，并确保没有地方试图要求此 *.php。如果没有任何实际代码，调试起来有些困难。

# c++ - DirectX9 左右移动相机

> ID：14930117
> 
> 赞同：0
> 
> 时间：2013-02-18T05:34:17.140
> 
> 标签：c++, directx-9

根据这个网站： [http ://www.directxtutorial.com/Lesson.aspx?lessonid=9-4-5](http://www.directxtutorial.com/Lesson.aspx?lessonid=9-4-5)

```
3DXMATRIX* D3DXMATRIXLookAtLH(D3DXMATRIX* pOut,
                               CONST D3DXVECTOR3* pEye,
                               CONST D3DXVECTOR3* pAt,
                               CONST D3DXVECTOR3* pUp);

D3DXMATRIX* pOut,

// We know this one. It is the pointer to the matrix we are going to fill.

CONST D3DXVECTOR3* pEye,

// This parameter is a pointer to a vector which contains the exact position 
// of the camera. Considering our example above, we want to fill this struct 
// with (100, 100, 100).

CONST D3DXVECTOR3* pAt,

// This vector contains the exact location the camera should look at.
// Our example is looking at (0, 0, 0), so we will fill this struct 
// with those values.

CONST D3DXVECTOR3* pUp,

// This vector contains the direction of "up" for the camera. In other 
// words, what direction will the top of the screen be. Usually, game 
// programmers use the y-axis as the "up" direction. To set the camera 
// this way, you simply need to fill this struct with (0, 1, 0), or 
// 1.0f on the y-axis and 0.0f on the other two. 
```

我假设我所要做的就是改变 pEye 的 x 坐标和 pAt plus/minus 左右移动。但是，当我这样做时，会发生一些奇怪的事情。有什么我做错了吗？下面是我的代码！

```
void world_view::start_cam() {

    vPosition = D3DXVECTOR3 ( console_editor.window_w/2 , console_editor.window_h/2 , console_editor.window_h/2 );
    vLookAt = D3DXVECTOR3 ( console_editor.window_w/2 , console_editor.window_h/2 , 0.0f );
    vUp = D3DXVECTOR3 ( 0.0f , -1.0f , 0.0f );

    fov = D3DXToRadian(90);    // the horizontal field of view
    aspectRatio = (FLOAT)console_editor.window_w / (FLOAT)console_editor.window_h; // aspect ratio
    zNear = 1.0f;
    zFar = console_editor.window_h/2+10;

}

void world_view:: MoveLeft(float units) {

}

void world_view:: MoveRight(float units) {

    D3DXVECTOR3 vTemp = struct_world_view.vPosition;

vTemp.x = vTemp.x + units;
//vTemp.y = vTemp.y + units;
//vTemp.z = vTemp.z + units;

struct_world_view.vPosition = vTemp;

D3DXVECTOR3 vlTemp = struct_world_view.vLookAt;

vlTemp.x + units;
//vlTemp.y + units;
//vlTemp.z + units;

struct_world_view.vLookAt = vlTemp;

}

void world_view::UpdateCamera(){

    D3DXMatrixLookAtLH(&struct_world_view.cam,
                        &struct_world_view.vPosition,
                        &struct_world_view.vLookAt,
                        &struct_world_view.vUp);

    D3DXMatrixPerspectiveFovLH(&struct_world_view.cam_lens,
                               struct_world_view.fov,
                               struct_world_view.aspectRatio,
                               struct_world_view.zNear,
                               struct_world_view.zFar);

} 
```

![之前][1]![之后][2]

这是向右移动之前和之后的示例。任何澄清都会有很大帮助！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-18T05:51:01.493

移动相机的位置和它正在寻找的位置：

```
void world_view:: MoveRight(float units) {

struct_world_view.vLookAt.x += units;
struct_world_view.vPosition.x += units;

} 
```

编辑：另外-如果您只想向右移动，您可能需要检查负单位。

# mysql - Mysql查询优化外键

> ID：14930120
> 
> 赞同：2
> 
> 时间：2013-02-18T05:34:45.603
> 
> 标签：mysql, optimization, join, foreign-keys

我有一个主表和一个带有一个外键的子表。当我在这两个表之间加入并使用解释语句来分析性能时

1.  我得到的解释输出为“Type=ALL”，这被认为是性能最差的。如何提高此联接的性能。

2.  解释输出只显示“possible_keys: cid_index”而不是 key 和 keylength

这是一个测试用例

```
 CREATE TABLE `master` (
  `mid` bigint(20) NOT NULL AUTO_INCREMENT,
  `mname` varchar(20) NOT NULL,
  PRIMARY KEY (`mid`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=latin1

select * from master;
+-----+-------+
| mid | mname |
+-----+-------+
|   1 | one   |
|   2 | two   |
+-----+-------+
2 rows in set (0.25 sec)

 CREATE TABLE `child` (
  `cid` bigint(20) NOT NULL AUTO_INCREMENT,
  `cname` varchar(10) NOT NULL,
  `Ccid` bigint(20) DEFAULT NULL,
  PRIMARY KEY (`cid`),
  KEY `cid_index` (`Ccid`),
  CONSTRAINT `new_fk_constraint` FOREIGN KEY (`Ccid`) REFERENCES `master` (`mid`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=latin1

 select * from child;
+-----+-------+------+
| cid | cname | Ccid |
+-----+-------+------+
|   1 | Cone  |    1 |
|   2 | ctwo  |    2 |
+-----+-------+------+
2 rows in set (0.12 sec)

explain select m.*,c.* from master m join child c on  m.mid=c.Ccid \G
*************************** 1\. row ***************************
           id: 1
  select_type: SIMPLE
        table: m
         type: ALL
possible_keys: PRIMARY
          key: NULL
      key_len: NULL
          ref: NULL
         rows: 2
        Extra:
*************************** 2\. row ***************************
           id: 1
  select_type: SIMPLE
        table: c
         type: ALL
possible_keys: cid_index
          key: NULL
      key_len: NULL
          ref: NULL
         rows: 2
        Extra: Using where; Using join buffer
2 rows in set (0.23 sec) 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-13T17:06:20.777

如果表太小，没有太多要过滤的东西，性能可能不如预期。通常，如果 where 子句过滤超过 x%（大约 30%），则全表扫描会更有效。请检查[On mysql 性能](http://www.mysqlperformanceblog.com/2006/06/02/indexes-in-mysql/)

您也可以尝试强制索引并检查索引是否正在使用

```
explain select m.*,c.* 
from master m 
join child c force index(Ccid) 
on  m.mid=c.Ccid 
```

# iphone - 关于 iPhone 中的 Paypal 付款？（说明如下）

> ID：14930128
> 
> 赞同：1
> 
> 时间：2013-02-18T05:35:30.417
> 
> 标签：iphone, ios5, paypal, paypal-sandbox

我是 iphone 编程新手，我在 paypal 中很困惑..

没有登录到贝宝和没有贝宝帐户的信用卡支付宝付款。我想制作应用程序，我想在其中输入信用卡号和信用卡的其他信息并从我的应用程序购买东西。我必须做什么guyzz ..帮帮我出..提前感谢x。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T05:59:55.627

我认为这对你很有帮助。你可以试试下面的参考链接。

[使用 ios 的贝宝沙盒](http://haifa.baluyos.net/index.php?option=com_content&view=article&id=64%3aobjective-c-ios-paypal-integration-tutorial&catid=1%3aprogramming&Itemid=5)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T06:33:56.233

设置您的 SetExpressCheckoutRequestDetails 对象的 SOLUTIONTYPE=Sole 以使用户能够在没有 Paypal 帐户的情况下进行交易

例如。如果 objSetExpressCheckoutRequestDetails 是代码中 SetExpressCheckoutRequestDetails 类的对象，则添加行

```
objSetExpressCheckoutRequestDetails.SolutionType=SOLE; 
```

在您的代码中，无论您在哪里初始化您的贝宝对象

# html - 如何仅在 twitter bootstrap 中为桌面上的图像设置固定尺寸？

> ID：14930129
> 
> 赞同：0
> 
> 时间：2013-02-18T05:35:35.373
> 
> 标签：html, css, twitter-bootstrap

我有一个使用 twitter bootstrap 制作的网页。一切正常，但我想在桌面上查看网站时为某些图像手动设置高度和宽度（例如 height:30px ; width:60px :) 。我不希望这些尺寸适用于平板电脑或手机。我如何实现这一目标？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T11:18:16.203

您可以添加类`.visible-desktop`，然后`hidden-desktop`将所需宽度和高度的优化图像版本放入这些 div

[例如检查小提琴](http://jsfiddle.net/shail/TagtP/5/show/)

# ruby - 使用 + 运算符合并哈希

> ID：14930141
> 
> 赞同：2
> 
> 时间：2013-02-18T05:36:58.930
> 
> 标签：ruby

您是否看到这样做的任何缺点（除了猴子修补的明显缺点）？

```
class Hash
   def +(other)
     self.merge(other)
   end
end 
```

我发现这真的很方便，但也许有一些我没有考虑并且可能有问题的东西。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-18T06:10:59.657

我没有看到任何主要的缺点。一个非常小的缺点是它为调用堆栈增加了一个额外的级别，使其稍微变慢。为避免这种情况，您可以使用别名：

```
class Hash
  alias :+ :merge
end 
```

一个好处可能是您将能够使用`+=`语法糖，但我想不出您想要使用的用例`+=`而不是`merge!`. 它们之间的区别在于对象id是否改变。

# php - 打开用于发送电子邮件的端口

> ID：14930142
> 
> 赞同：0
> 
> 时间：2013-02-18T05:37:02.777
> 
> 标签：php, windows

我无法发送电子邮件。我尝试过使用 Yahoo 和 Gmail，但它似乎在我没有端口可以发送电子邮件的地方。我是否必须要求我的 ISP 在我的连接上打开一个端口，或者我是否必须在我的机器或服务器上打开一个端口，如果是这样，有人可以给我在我的机器上打开一个端口的步骤/方向或在服务器上。我有一台服务器，我通过它连接到互联网，所以我在网络中的本地机器上。我使用 PHP 来尝试发送电子邮件。我尝试配置我的 php.ini 文件，但出现错误：=

```
Failed to connect to mailserver at "localhost" port 587, verify your
"SMTP" and "smtp_port" setting in php.ini or use ini_set() 
in C:\wamp\www\buyme\views\forms\register_form.php on line 226 
```

第 226 行是我发送电子邮件的地方，默认邮件 ($to, $subject, $message, $headers); 我是否需要下载并安装其他东西才能正常工作？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T06:16:52.470

检查您主机的注册电子邮件，其中包括 ftp 设置、登录设置等。是否有任何关于您可以在应用程序中使用的 SMTP 服务器的信息。如果没有，请询​​问您的主机提供商是否在您的主机上运行任何 SMTP 服务。如果有，请询问其设置。也许有一个你不知道的不同的端口/安全配置。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T05:44:47.203

Windows 没有 sendmail 功能，因此它唯一的选择是使用 SMTP 通过另一个邮件服务器发送邮件。

假设您已为您尝试使用的邮件服务器正确配置了邮件设置。根据您的网络，您可能会被限制在使用的 smtp 端口上发送流量。要验证这一点，请使用命令提示符并尝试在指定端口上打开与邮件服务器的 telnet 连接。如果可行，您应该会看到某种问候消息。如果没有，您可能在某处有防火墙阻止您。

某些 SMTP 服务器在发送邮件时需要 TLS/SSL。我不确定 PHP 是否通过基本邮件命令支持此功能，但可以使用其他邮件库来代替。

# wordpress - 当我们点击帖子标题时调用一个函数

> ID：14930143
> 
> 赞同：0
> 
> 时间：2013-02-18T05:37:18.447
> 
> 标签：wordpress

在我的测试 WordPress 网站的首页上，我有 10 个帖子。当我们点击帖子标题或帖子特色图片时，它会将我们带到该特定帖子。当我们单击标题或图像时，我想在我的插件上调用一个函数。是否有任何**add_action()**？或建议我如何实现结果。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T05:59:36.140

您可以尝试覆盖函数“get_permalink”。

它可以在以下文件中找到 - [http://core.trac.wordpress.org/browser/tags/3.5.1/wp-includes/link-template.php](http://core.trac.wordpress.org/browser/tags/3.5.1/wp-includes/link-template.php)

# vb.net - 每次按下按钮时循环输出

> ID：14930146
> 
> 赞同：-1
> 
> 时间：2013-02-18T05:38:09.710
> 
> 标签：vb.net, loops

以下函数将 2 个数字相加，然后将总数移动到 val1 并允许用户添加更多数字。我需要打印每个计算的输出。（例如 2+2=4 nextline 4+2=6）目前我有一个打印第一个计算的标签。每次按下求和按钮时，如何创建一个打印 val1、val2 和结果的循环？

```
Sub sum(s As Object, E As EventArgs)
        val2.Text = txtinput.Text
        Dim result = CInt(val1.Text) + CInt(val2.Text)
        txtinput.Text = result
        Label1.Text = val1.Text & "+" & val2.Text & "=" & result
        val1.Text = result
        val2.Text = ""
End Sub 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T05:45:18.977

如果您`Label1`是要显示先前计算的控件，则您需要做的就是更改`Label1.Text = val1.Text & "+" & val2.Text & "=" & result`为`Label1.Text += vbNewLine & val1.Text & "+" & val2.Text & "=" & result`连接先前的输入。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T05:48:57.067

假设所有的`label`都由这个`Control` *（例如表单，面板）*处理，您可以使用 [.OfType](http://msdn.microsoft.com/en-us/library/bb360913.aspx)`Label.Text`来获取和的所有值`.Sum`

```
Dim sum = Me.Controls.OfType(Of Label)().Sum(Function(c) Int32.Parse(c.Text)) 
```

# php - 表格行与分隔符一起爆炸并将其与另一个进行比较并显示它

> ID：14930152
> 
> 赞同：0
> 
> 时间：2013-02-18T05:38:30.557
> 
> 标签：php, html

这是我的代码

```
<?php

$split_getCreatedfield = explode(",", "1,5,3");

$fieldsWithValue = explode("~","1->Sample 1~3->Sample 2~5->Sample 3~");

   for($c=0;$c<=count($split_getCreatedfield);$c++){

         for($b=0;$b<=count($fieldsWithValue)-2;$b++){

             $data = explode("->", $fieldsWithValue[$b]);

                 if($data[0]==$split_getCreatedfield[$c]){

                      echo "<td>"; 

                            echo $data[1];

                                 echo "</td>";

                  }
             }
        }
?> 
```

我想要这样的输出使用表

**标题 1 | 标题 2 | 标题 3**

**样品 1 | 样品 2 | 样品 3**

那么如果`$split_getCreatedfield`不匹配`$data[0]`

我想要这样的输出

**标题 1 | 标题 2 | 标题 3**

**样品 1 | | 样品 3**

# php - 如何获取关于元素的 DOM 节点深度？

> ID：14930157
> 
> 赞同：1
> 
> 时间：2013-02-18T05:39:03.217
> 
> 标签：php, dom

如何获取 DOM 节点相对于 HTML 元素的深度？（即 HTML 标签作为子节点，而不是文本节点）。

例如 ：

```
<div> // root node
  here is my text node // but it wont be considered in level increment
   <p> // level 1
      <label>  // level 2
             here is another text node
      </label>
   </p>
</div> 
```

这应该返回 2。

我已经尝试过了，但它不起作用：

```
function getDepth($node, $depth) {

foreach ($node->childNodes as $child):
    if($child->nodeType === 1):
        $depth++;
    endif;
    if ($node->childNodes):
        getDepth($child, $depth);
    endif;
endforeach;

return $depth;
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-18T06:02:40.240

向上走树。这样的事情应该做（未经测试）：

```
function getDepth($node)
{
    $depth = -1;

    // Increase depth until we reach the root (root has depth 0)
    while ($node != null)
    {
        $depth++;

        // Move to parent node
        $node = $node->parentNode;
    }

    return $depth;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-05-06T09:43:42.710

我推荐这个：

```
function findNodeLevel($node) { // $node is a DOMNode 
    $xpath = explode('/', $node->getNodePath());
    return count($xpath);
} 
```

# asp.net - Server.map 路径在 asp.net 中不起作用

> ID：14930166
> 
> 赞同：0
> 
> 时间：2013-02-18T05:40:01.823
> 
> 标签：asp.net

我正在使用此代码下载我的解决方案中存在的 excel 文件。我添加了一个文件夹 FileUpload 并添加了一个 Excel 文件 UploadCWF.xlsx。我的代码在本地主机上运行。但是当我将它托管到服务器时不起作用。我收到错误 - 找不到路径的一部分。我的代码 -

```
 string filePath = HttpContext.Current.Server.MapPath("~/FileUpload/");
        string _DownloadableProductFileName = "UploadCWF.xlsx";

        System.IO.FileInfo FileName = new System.IO.FileInfo(filePath + "\\" + _DownloadableProductFileName);
        FileStream myFile = new FileStream(filePath + "\\" + _DownloadableProductFileName, FileMode.Open, FileAccess.Read, FileShare.ReadWrite);

        //Reads file as binary values
        BinaryReader _BinaryReader = new BinaryReader(myFile);

        //Check whether file exists in specified location
        if (FileName.Exists)
        {
            try
            {
                long startBytes = 0;
                string lastUpdateTiemStamp = File.GetLastWriteTimeUtc(filePath).ToString("r");
                string _EncodedData = HttpUtility.UrlEncode(_DownloadableProductFileName, Encoding.UTF8) + lastUpdateTiemStamp;

                Response.Clear();
                Response.Buffer = false;
                Response.AddHeader("Accept-Ranges", "bytes");
                Response.AppendHeader("ETag", "\"" + _EncodedData + "\"");
                Response.AppendHeader("Last-Modified", lastUpdateTiemStamp);
                Response.ContentType = "application/octet-stream";
                Response.AddHeader("Content-Disposition", "attachment;filename=" + FileName.Name);
                Response.AddHeader("Content-Length", (FileName.Length - startBytes).ToString());
                Response.AddHeader("Connection", "Keep-Alive");
                Response.ContentEncoding = Encoding.UTF8;

                //Send data
                _BinaryReader.BaseStream.Seek(startBytes, SeekOrigin.Begin);

                //Dividing the data in 1024 bytes package
                int maxCount = (int)Math.Ceiling((FileName.Length - startBytes + 0.0) / 1024);

                //Download in block of 1024 bytes
                int i;
                for (i = 0; i < maxCount && Response.IsClientConnected; i++)
                {
                    Response.BinaryWrite(_BinaryReader.ReadBytes(1024));
                    Response.Flush();
                }
            }
            catch (Exception es)
            {
                throw es;
            }
            finally
            {
                Response.End();
                _BinaryReader.Close();
                myFile.Close();
            }
        }
        else

            System.Web.UI.ScriptManager.RegisterStartupScript(this, GetType(),
            "FileNotFoundWarning", "alert('File is not available now!')", true); 
```

请有人帮助我。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-18T05:57:25.827

您应该首先连接文件路径和文件名，然后使用 server.mappath 获取路径。

你应该写这样的代码

```
string filePath = HttpContext.Current.Server.MapPath("~/FileUpload/UploadCWF.xlsx");

 System.IO.FileInfo FileName = new System.IO.FileInfo(filePath); 
```

# php - 为 HighCharts 以正确的 JSON 格式格式化 PHP/MySQL 数据

> ID：14930167
> 
> 赞同：0
> 
> 时间：2013-02-18T05:40:05.257
> 
> 标签：php, mysql, json, highcharts

几天来，我一直在努力将一些数据组织成适当的 JSON 格式，以便可以将其绘制在 HighCharts 图表中。

我的计划是执行一个 jQuery 函数来调用一个 PHP 脚本，该脚本从 MySQL 数据库中提取几列天气数据。我可以在 JavaScript 端重新组织数据，但更愿意在 PHP 中完成所有数据组织，然后将一个正确的 JSON 结构输入到 HighCharts 引擎中。

我正在查看天气数据，因此我每分钟都会采样几列数据。我从 MySQL 检索的数据列是：JSTimestamp（这是一个 unix 时间戳 * 1000 用于 JavaScript）、avgOutdoorTemperature、avgIndoorTemperature、avgOutdoorHumidity、avgIndoorHumidity。我已将这些列中的每一列填充到它们自己的数组中。

我似乎无法理解将数据操作为以下 JSON/数组格式所需的 PHP 逻辑：

```
[
  [
    [JSTimestamp1, avgOutdoorTemperature1],
    [JSTimestamp2, avgOutdoorTemperature2],
    [JSTimestamp3, avgOutdoorTemperature3],
    [JSTimestampN, avgOutdoorTemperatureN]
  ],
  [
    [JSTimestamp1, avgIndoorTemperature1],
    [JSTimestamp2, avgIndoorTemperature2],
    [JSTimestamp3, avgIndoorTemperature3],
    [JSTimestampN, avgIndoorTemperatureN]
  ],
  [
    [JSTimestamp1, avgOutdoorHumidity1],
    [JSTimestamp2, avgOutdoorHumidity2],
    [JSTimestamp3, avgOutdoorHumidity3],
    [JSTimestampN, avgOutdoorHumidityN]
  ],
  [
    [JSTimestamp1, avgIndoorHumidity1],
    [JSTimestamp2, avgIndoorHumidity2],
    [JSTimestamp3, avgIndoorHumidity3],
    [JSTimestampN, avgIndoorHumidityN]
  ]
] 
```

我用虚拟数据填充了上述结构，它在 HighCharts 中绘制得很漂亮。这是一个示例演示，显示了图表的外观：[http ://highcharts.com/jsbin/afutef/11/edit#javascript,live](http://highcharts.com/jsbin/afutef/11/edit#javascript,live)

我目前的代码是：

```
<?php

include_once('./include/mysqldatabase.php');
include_once('./include/mysqlresultset.php');

date_default_timezone_set('America/New_York');

$MYSQL_HOST = 'ip_address';
$MYSQL_USER = 'username';
$MYSQL_PASS = 'password';
$MYSQL_NAME = 'weatherdata';

$db = MySqlDatabase::getInstance();
try {
    $conn = $db->connect($MYSQL_HOST, $MYSQL_USER, $MYSQL_PASS, $MYSQL_NAME);
}
catch (Exception $e) {
    die($e->getMessage());
}

$query = "
    select
        RecDate,
        unix_timestamp(RecDateTime)*1000 as JSTime,
        avgOutdoorTemperature,
        avgIndoorTemperature,
        avgOutdoorHumidity,
        avgIndoorHumidity
    from `rollup-minute-60`
    where 
        RecDate > 201301010000
    ";

$timeArray = array();
$avgOutdoorTemperatureArray = array();
$avgIndoorTemperatureArray = array();
$combinedArray = array();
$i = 0;

$seriesNames = array('Average Outdoor Temperature','Average Indoor Temperature', 'Average Outdoor Humidity', 'Average Indoor Humidity');

foreach ($db->iterate($query) as $r) {
    $jstime = $r->JSTime;
    $avgOutdoorTemperature = $r->avgOutdoorTemperature;
    $avgIndoorTemperature = $r->avgIndoorTemperature;
    $avgOutdoorHumidity = $r->avgOutdoorHumidity;
    $avgIndoorHumidity = $r->avgIndoorHumidity;

    $timeArray[$i] = (float)$jstime;
    $avgOutdoorTemperatureArray[$i] = (float)$avgOutdoorTemperature;
    $avgIndoorTemperatureArray[$i] = (float)$avgIndoorTemperature;
    $avgOutdoorHumidityArray[$i] = (float)$avgOutdoorHumidity;
    $avgIndoorHumidityArray[$i] = (float)$avgIndoorHumidity;    

    $combinedArray[$i] = array((float)$avgOutdoorTemperature, (float)$avgIndoorTemperature, (float)$avgOutdoorHumidity, (float)$avgIndoorHumidity);

    $i++;
}

echo "Combined array:<br>";
echo json_encode($combinedArray);
echo "<br><br><br>";

echo "Time array:<br>";
echo json_encode($timeArray);
echo "<br><br><br>";

$arraySize = sizeof($timeArray);
$seriesNameSize = sizeof($seriesNames);
$outputJSONArray = array();
$tempArray = array();

for ($i=0; $i<$seriesNameSize; $i++) {

    for ($j=0; $j<$arraySize; $j++) {
        $tempArray = array();

        array_push($tempArray, $timeArray[$j], $combinedArray[$j][$i]);
        echo "i=".$i.", j=".$j.", tempArray: " . json_encode($tempArray) ."<br>";

        $outputJSONArray[$i] = $tempArray;

     } 
}

echo json_encode($outputJSONArray);

?> 
```

使用上面的当前代码，我的输出数组只显示 $outputJSONArray 中的最后一个元素，而不是多维构造。

谁能帮我指出正确的方向？我在这个网站上找到了很多很好的信息来帮助我开始，但需要一点帮助来克服最后的障碍。

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T11:46:59.063

检查 Highcharts 常见问题解答：http: [//docs.highcharts.com/#preprocessing-data-from-a-database](http://docs.highcharts.com/#preprocessing-data-from-a-database) 第二个示例告诉您如何做到这一点：

```
<?php
while ($row = mysql_fetch_array($result)) {
   extract $row;
   $datetime *= 1000; // convert from Unix timestamp to JavaScript time
   $data[] = "[$datetime, $value]";
}
?>
var chart = new Highcharts.Chart({
      chart: {
         renderTo: 'container'
      },
      series: [{
         data: [<?php echo join($data, ',') ?>]
      }]
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T01:47:48.393

感谢您对 Paweł 的回复。我一直在使用您发布的示例，并且对单个时间序列有很好的理解。然而，我的困惑在于多个系列的正确格式。

我努力在 PHP 端处理数据以获取正确格式的数据：

```
[
  [
    [time1, y1],
    [time2, y2],
    [time3, y3]
  ]
  [
    [time1, z1],
    [time2, z2],
    [time3, z3]
  ]
  [
    ...
  ]
] 
```

然而，在今天早些时候玩了一些东西并最终在白板上画出了一个解决方案后，我发现了一个似乎可行的解决方案，并要求我为每个系列遍历收集的数据数组一次。它可能不是最佳的，但对于我测试它的几千个点来说效果很好。这是我的参考代码：

```
$seriesNames = array('Average Outdoor Temperature','Average Indoor Temperature');

foreach ($db->iterate($query) as $r) {
    $time = (float)$r->RecDateTime;
    $jstime = (float)($r->Timestamp*1000);
    $avgOutdoorTemperature = (float)$r->avgOutdoorTemperature;
    $avgIndoorTemperature = (float)$r->avgIndoorTemperature;

    $dataArray[] = array(array($jstime, $avgOutdoorTemperature), array($jstime, $avgIndoorTemperature));
}

$arraySize = sizeof($dataArray);
$seriesNameSize = sizeof($seriesNames);

for ($i=0; $i<$seriesNameSize; $i++) {
    $tempArray = array();
        for ($j=0; $j<$arraySize; $j++) {
            $tempArray[] = $dataArray[$j][$i];  
        } 
    $outputJSONArray[] = $tempArray;
}

echo json_encode($outputJSONArray); 
```

我想我可以执行多个查询并手动添加每个系列，但我最终打算使用的查询相当密集，并且宁愿只调用一次。

# firebase - 如何删除 Firebase 中的用户帐户？

> ID：14930168
> 
> 赞同：4
> 
> 时间：2013-02-18T05:40:16.607
> 
> 标签：firebase, firebase-security

我创建了多个帐户，如此[处](https://www.firebase.com/docs/security/simple-login-email-password.html)所述。

有没有办法删除一些用户帐户？

有没有办法查看所有现有的用户帐户？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-18T05:58:49.770

使用 Firebase 简单登录创建的用户帐户的删除和列表已在 Forge 中再次启用，并将列出电子邮件/密码哈希映射并允许您删除这些映射。

请记住，Firebase 只会自动存储简单登录的电子邮件地址/密码哈希组合，并将其与 Firebase 中的数据分开存储，这样您就不必担心安全地管理这些数据。

这意味着，如果您按照 /users/$user 之类的结构将用户帐户数据存储在 Firebase 树中，那么您始终可以通过 Forge（在 访问`https://<your-firebase>.firebaseio.com`）访问数据并在那里查看/修改您的数据。一旦我们在简单登录帐户管理功能方面取得进展，我将在这里跟进。谢谢！

# forms - ExtJs 4 中哪个布局最适合提供字段级安全性？

> ID：14930169
> 
> 赞同：1
> 
> 时间：2013-02-18T05:40:21.813
> 
> 标签：forms, layout, extjs, extjs4, field

我们的应用程序为客户端提供字段级别的安全性，客户端可以从后端配置特定字段不应显示在 UI 的表单中。

我们通过使用字段的隐藏属性来管理这个东西，为表单中的所有此类字段设置 hidden:true

但这会导致布局出现问题，因为当某些字段被隐藏时，布局开始看起来很奇怪。

在我们的布局中，表单中的每一行字段都是一个 xtype:'container'，并且所有字段都存在于它们各自的容器中。这些所有容器连接在一起成为表单项。

**预期的行为是，当其中一个字段设置为隐藏时，下一个字段会向上移动以取代其位置，这在此布局中不会发生。**

**有人可以指导提供此类功能的最佳布局吗？**

感谢您提前提供任何帮助。

PS：应用程序为 UI 使用 ExtJs 4.1

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T07:40:41.947

**[`Ext.form.FieldContainerView`](http://docs.sencha.com/ext-js/4-1/#!/api/Ext.form.FieldContainer)**为此使用。我不知道这是否会完全解决您的问题，但是在使用字段时，这个容器绝对是更好的选择。

# windows-server-2008 - 特斯拉 GPU 使用情况

> ID：14930170
> 
> 赞同：0
> 
> 时间：2013-02-18T05:40:27.040
> 
> 标签：windows-server-2008, gpgpu, nvidia, tesla

在我的机器中连接了三个 GPU。即 Tesla M2090。我想了解这些 GPU 的使用情况。有一个名为 NVIDIA SMI 的工具可以显示 GPU 的使用情况。但是当我尝试运行 Option nvidia-smi.exe -d 时（我想知道内存和 GPU 利用率）。请帮忙

驱动程序版本：275.65 操作系统：Windows Server 2008 R2

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-18T08:15:34.037

是的，我通过以下方式得到了它

[https://developer.nvidia.com/sites/default/files/akamai/cuda/files/CUDADownloads/NVML_cuda5/nvidia-smi.4.304.pdf](https://developer.nvidia.com/sites/default/files/akamai/cuda/files/CUDADownloads/NVML_cuda5/nvidia-smi.4.304.pdf)

我给出的命令如下

```
nvidia-smi.exe -q -d MEMORY,UTILIZATION 
```

# facebook - 应用请求被视为提醒

> ID：14930176
> 
> 赞同：0
> 
> 时间：2013-02-18T05:40:42.420
> 
> 标签：facebook, mobile, facebook-app-requests

我正在开发移动应用程序，用户可以通过 FB 应用程序（也有 FB 应用程序）请求邀请朋友。

当这个实现时，它工作得很好。通知出现在朋友 FB 中的地球图标下。没有实现当用户当时点击该通知时会发生什么。

经过几天的测试，它突然停止在全球范围内显示，但应用程序请求被视为提醒。也可以在 appcenter/requests 中看到请求。但不是在全球范围内。

现在我们添加了安装 FB 应用程序的后端，但在全球范围内仍然没有出现请求

经过对 FB 文档的大量研究，我发现应用程序请求需要由程序员删除。如何实现这一点？发送应用请求后，我没有将这些 ID 存储在任何地方。

请帮帮我。

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-10T11:30:32.203

经过大量 FB 文档后，我得到了这个解决方案。

对于每个应用请求，Facebook 都会在数据库中创建唯一 ID。

这些应用请求也可以在地球图标、应用中心、提醒中看到。

如果收到用户点击 pp 请求，则其开发人员有责任从 facebook 中删除该唯一 ID 并安装应用程序。

由于我们尚未删除唯一 ID，因此 FB 将未来我们的应用请求视为不在通知中的提醒。

现在删除了所有这些 ID，它开始再次出现在通知中。

# mysql - 社交网络 Android 应用程序的要求

> ID：14930181
> 
> 赞同：-2
> 
> 时间：2013-02-18T05:41:21.063
> 
> 标签：mysql, hadoop, amazon-web-services, social-networking

我计划制作一个用于社交网络的 android 应用程序，用户群最多为 10000。几乎具有社交网站的完整功能因此估计最大并发用户数为 1000，请在以下几点提供帮助

1.  MYSql 是否可以正常工作，还是应该将 MYSql 与 hadoop 一起使用？

2.  我应该使用 Amazon EC2 还是 GoDaddy.com 的共享主机帐户就足够了？

因为我无法估计项目的复杂性和可扩展性

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T15:41:47.550

1.  如果您问是否应该使用 Hadoop，我怀疑您不知道它的用途。在你的情况下，可能不会。

2.  共享主机可能还不够。但这取决于在没有更多信息的情况下无法估计的因素。

# ios - drawRect 适合动画代码吗？

> ID：14930183
> 
> 赞同：0
> 
> 时间：2013-02-18T05:41:28.507
> 
> 标签：ios, uiview

我将动画代码放在 UIView 子类的 drawRect 中。我真的在寻找类似 UIViewController 的 viewWillAppear 的东西。但我想使用 UIView 而不是 UIViewController。我正在使用下面的代码。将动画代码放在drawRect中是否合适？动画只是显示视图时的启动动画。

```
- (void)drawRect:(CGRect)rect
{

    [_graphView setFrame:CGRectMake(0.0f, 0.0f, 30.0 + (_defaultArray.count * STEP_X), self.frame.size.height)];
    [self setContentSize:CGSizeMake(30.0 + (_defaultArray.count * STEP_X), _graphView.frame.size.height)];

    float delayInSeconds = 0.25f;
    dispatch_time_t popTime = dispatch_time(DISPATCH_TIME_NOW, delayInSeconds * NSEC_PER_SEC);
    dispatch_after(popTime, dispatch_get_main_queue(), ^(void){

        if (_graphView.frame.size.width > GRAPH_WIDTH) [self setContentOffset:CGPointMake(_graphView.frame.size.width - GRAPH_WIDTH, 0.0f) animated:YES];

    });
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-18T06:11:10.613

不，这是一个糟糕的主意。在实现中您应该做的唯一一件事`-drawRect:`就是*绘制视图的内容*。您的任何代码都没有做任何接近此的事情。

（如果此视图是 的子类`UIScrollView`，则您可能根本不应该覆盖`-drawRect:`。）

该代码看起来更适合在视图控制器中，或者在视图的设置代码中（它是否创建 _graphView 本身？）。如果不了解更多关于代码的其余部分，很难准确地建议它属于哪里。

# reference - 同一页面上的 Tiki 锚点

> ID：14930186
> 
> 赞同：0
> 
> 时间：2013-02-18T05:41:45.997
> 
> 标签：reference, anchor, tiki-wiki

我有一个 Tiki 页面，其中一些标题格式如下。

```
!!!schedule(%milliSeconds, %method, %arguments) 
```

在另一个地方（同一个维基页面）我有一个简化的参考。

```
schedule() 
```

Tiki 能否自动引用`schedule()`to`schedule(%milliSeconds, %method, %arguments)`意思是**schedule** *()*将引用**!!!schedule** *(%milliSeconds, %method, %arguments)*

我希望这个描述有意义:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T03:38:18.330

好的，这是一个例子：

```
{JQ()}
$('.wikitext p').html( function(){
    return $(this).html().replace(/\s([^\)\s)]+)\(\)/gi, ' <a href="#$1_a_b_c_">$1()</a>');
});
{JQ} 
```

您可以将此带有 jQ​​uery 代码的 JQ 插件放在 wiki 页面的顶部（或者，如果您希望在每个页面上都放置它，那么在*Look & Feel*管理面板的*Customization* > *Custom JavaScript*部分**不使用 JQ 插件）。**然后，如果页面的任何段落中提到了 foo() 或 bar() 或任何 function() ，它将被转换为指向同一页面上的锚点的链接，例如

 ***```
<a href="#function_a_b_c_">function()</a> 
```

其中 _a_b_c_ 是标题中的参数 (a,b,c)，例如

```
!!Function(a,b,c) 
```

您需要更改 _a_b_c_ 以在呈现锚点时匹配它们（检查 HTML 源代码）或调整正则表达式。这超出了这个答案的范围。你可以在这里看到一个[演示](http://demo.luciash.eu/tikitrunk/Custom+anchor+links+with+jQuery)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T18:25:14.303

我不确定我是否理解正确，但也许您可以使用[Hotwords](http://doc.tiki.org/Hotwords)功能，将 schedule() 定义为链接到 YourWikiPageName#schedule(%milliSeconds, %method, %arguments) 的“热门词”。然后在 Tiki 中每次提到*schedule()*都会指向该页面上的那个锚点。***

# sql - 如何编写 SQL 'case' 命令？

> ID：14930187
> 
> 赞同：1
> 
> 时间：2013-02-18T05:41:47.887
> 
> 标签：sql, select

我有一个网格视图，它有一个类型和两个绑定到 `type1`和的列`type2`。

然后我添加一个脸颊框。

我想绑定数据，但是我的查询数据重复了。

这是我的查询

```
SELECT DISTINCT 
    userId, 
    MAX(CASE WHEN ApproverTypeID = 1 THEN ApproverTypeID END) AS Type1, 
    MAX(CASE WHEN ApproverTypeID = 2 THEN ApproverTypeID END) AS Type2
FROM         
    table1
GROUP BY 
    ApproverTypeID, userId 
```

我原来的表是这样的..

```
Name        Type
---------
    Name1     1
    Name2     1
    Name1     0 
```

但我想得到这样的输出......

```
Name       Type1    Type2
----------------
    Name1    1       0
    Name2    1       null 
```

我该怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T05:43:26.690

由于您没有提及您正在使用的数据库服务器，因此下面的查询将适用于几乎所有 RDBMS（*但不是全部*）

```
SELECT  Name,
        MAX(CASE WHEN Type = 1 THEN Type END) Type1,
        MAX(CASE WHEN Type = 2 THEN Type END) Type2
FROM    tableName
GROUP   By Name 
```

*   [SQLFiddle 演示](http://www.sqlfiddle.com/#!2/d13b49/2)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T08:27:27.553

您只需要删除 GROUP BY 子句的 ApproverTypeID，因为 ApproverTypeID 用于 MAX() 函数。之后，您还可以删除过多的 DISTINCT 子句。你会收到你想要的

```
SELECT userId, 
       MAX(CASE WHEN ApproverTypeID = 1 THEN ApproverTypeID END) AS Type1, 
       MAX(CASE WHEN ApproverTypeID = 2 THEN ApproverTypeID END) AS Type2
FROM table1
GROUP BY userId 
```

# javascript - 如何将文件大小更改为零？

> ID：14930188
> 
> 赞同：0
> 
> 时间：2013-02-18T05:41:50.303
> 
> 标签：javascript, windows, powershell, batch-file

我在 Windows 文件夹中有一堆文件。使用 CMD 批处理文件、JavaScript 批处理文件或 PowerShell，您将如何将文件转换为零长度文件？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-18T06:00:05.027

请在命令提示符下尝试：

```
copy /Y NUL filename >NUL 
```

*备注*：

`/Y`禁止确认文件覆盖

`NUL`是一个 Windows 设备文件（大致相当于 UNIX 中的 /dev/null），用于清空目标文件并抑制复制消息

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-18T06:32:37.893

创建一个批处理文件并将以下代码放入文件中，此批处理文件将使特定文件夹中的所有文件为零。

```
cd <DIRECTORY NAME>
@echo off
pushd %*
for %%j in (*) do type nul > "%%j"
popd 
```

希望这可能对您有所帮助。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-18T06:19:08.400

尝试

```
dir c:\myfolder  | ? { -not $_.psiscontainer }| % {new-item -Path $_.fullname -ItemType file -force} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-18T06:04:42.637

在 PowerShell 中，您只需要使用目录中的每个文件：

```
new-Item -path filename -type file -Force 
```

# objective-c - 重写 `init` 方法时，为什么重新定义它很重要？

> ID：14930189
> 
> 赞同：4
> 
> 时间：2013-02-18T05:42:04.680
> 
> 标签：objective-c

我有一个重写 init 方法的练习，所以我需要创建一个`init`方法来设置一些属性。

我的问题是：为什么我还需要定义原始`init`方法？万一新`init`方法不起作用？

这是我的`.h`文件：

```
#import <Foundation/Foundation.h>

#import "XYPoint.h"

@interface Rectangle: NSObject

@property float width, height, tx, ty;

-(XYPoint *) origin;
-(void) setOrigin: (XYPoint *) pt;
-(void) translate: (XYPoint *) point;
-(id) initWithWidth:(int) w andHeight:(int) h;
-(id) init;

@end 
```

并且`.m`（仅 init 方法）：

```
-(id) initWithWidth:(int)w andHeight:(int)h
{
    self = [super init];

    if (self)
    {
        [self setWidth:w andHeight:h];
    }

    return self;
}

-(id) init
{
    return [self initWithWidth:0 andHeight:0];
} 
```

我知道这样很好，但是如果有人可以解释我为什么会这样，我将不胜感激。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-18T06:04:09.887

这个想法是为您的对象设置一个初始化的中心点，而不是在每个 init 方法中散布变量的初始化。

您的特定示例对这种模式没有多大的公平，因为您正在初始化一个宽度为 0 高度为 0 的 Rectangle，并且默认 NSObject 实现默认将所有实例变量的内存重置为零，您的`initWithWidth:andHeight:`方法也是如此。但是，假设您在使用创建 Rectangle 对象时默认分配单位矩形（宽度 1，高度 1），

```
[[Rectangle alloc] init] 
```

然后不是这样做，

```
- (id)initWithWidth:(int)width andHeight:(int)height {
    self = [super init];
    if (self) {
        [self setWidth:width andHeight:height];
    }
    return self;
}

- (id)init {
    self = [super init];
    if (self) {
        [self setWidth:1 andHeight:1];
    }
    return self.
} 
```

你只是通过做集中初始化点，

```
- (id)initWithWidth:(int)width andHeight:(int)height {
    self = [super init];
    if (self) {
        [self setWidth:w andHeight:h];
    }
    return self;
}

- (id)init {
    return [self initWithWidth:1 andHeight:1];
} 
```

这也与[DRY](http://en.wikipedia.org/wiki/Don't_repeat_yourself) aka Don't Repeat Yourself 的原则密切相关。

这是一个微不足道的例子，然而，在大多数现实世界的对象中，您可能有一个更复杂的设置，包括通知注册、KVO 注册等，然后集中所有初始化逻辑就变得非常重要。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-18T05:52:03.007

你没有做。您通常有一个调用 super (self = [super initWithXX]) 的初始化程序，而其他初始化程序则遵循该初始化程序。

在您上面的具体示例中，这是一个好主意，因为 initWithWidth:andHeight 充当主初始化程序，因此如果您调用默认值，则需要在主初始化程序中运行的代码将被调用。

顺便说一句：根据现代 Objective-C 约定，在初始化参数中使用“和”这个词有点过时。

# android - 作为 Whats App 或 Hike 或 Facebook 单点登录

> ID：14930192
> 
> 赞同：0
> 
> 时间：2013-02-18T05:42:42.743
> 
> 标签：android, login

我做了一个聊天应用程序，在我的应用程序中有一个登录页面，但我不想再次使用这个页面，一旦用户第一次安装了应用程序。此页面不应一次又一次地出现。

我的意思是当用户第一次登录应用程序时，下次他回来时应用程序应该直接将他带到他的主页，如在 facebook、whatsapp 或远足中。

我认为这种方法称为单点登录 (SSO) 方法。我已经遍历了 stackoverflow，但还没有找到我感兴趣的任何相关链接。

请帮助我提供一个好的超链接或任何有用的解决方案，以便我继续前进。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T05:53:52.260

使用 SharedPreferences 将是要走的路。看看[这个](https://stackoverflow.com/questions/11042302/splashscreen-first-time-with-shared-preferences)线程寻求帮助。

# android - Android从客户端获取http请求

> ID：14930193
> 
> 赞同：2
> 
> 时间：2013-02-18T05:42:56.213
> 
> 标签：android, eclipse, google-api

我创建了一个应用程序，它可以连接 wifi 并充当防火墙来管理与其客户端的会话。

***例如：*** 如果我管理客户端的 http 请求和响应..在我验证了请求之后，那么只有 url 必须对它们可见。否则它必须说页面被阻止。

在谷歌提供的示例中[https://developers.google.com/analytics/devguides/collection/android/v2/sessions](https://developers.google.com/analytics/devguides/collection/android/v2/sessions) 它说它可以管理会话但我无法将它集成到我的项目中。任何人都可以从事类似的项目这个或任何使用analytics-api的人，帮助我解决这个问题

以及如何从用户那里获取请求页面 url..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T06:03:38.620

在您的活动中尝试此示例..通过此代码，您可以管理您的 http 请求和响应.. [session-handling-Exampe](http://www.lightrains.com/blog/simple-tip-session-handling-android#comment-1100)

希望能帮到你。。

# mysql - 需要帮助进行一个 mysql 查询以获得我的要求的预期结果

> ID：14930194
> 
> 赞同：1
> 
> 时间：2013-02-18T05:43:02.700
> 
> 标签：mysql, join, multi-select

我在我的范围内编写 mysql 查询以获得结果时遇到了一些问题。实际上我使用这个现有的查询得到了适当的结果，但它不是以适当的方式编写的。这是我的查询：

```
 SELECT c.ID, c.chn_name,c.chn_logo, 
    (SELECT ID FROM tv_showtime WHERE showtime<='2013-02-18 10:28:35' AND status='Enable' AND chn_id=c.ID ORDER BY ID DESC Limit 0,1) as currentshowid, 
    (SELECT tv_showtime FROM tv_showtime WHERE showtime<='2013-02-18 10:28:35' AND status='Enable' AND chn_id=c.ID ORDER BY ID DESC Limit 0,1) as currentshowtime , 
    (SELECT tv_showtime FROM tv_showtime WHERE showtime >'2013-02-18 10:28:35' AND status='Enable' AND chn_id=c.ID ORDER BY ID ASC Limit 0,1) as nextshowtime 
    FROM tv_channels AS c 
    WHERE c.status="Enable" 
    ORDER BY c.chn_name 
    LIMIT 0,10 
```

在这里，只有两个名为“tv_channels”和“tv_showtime”的表。我一次需要每个频道的一个记录（当前时间）。所以这里假设每个频道有 12 个频道和大约 30 个（每个频道可能不同）记录，我只需要显示当前节目的频道（更多说明：只显示具有当前节目时间和/或下一个节目时间的频道。 )

问题：我需要更多来自“tv_showtime”的字段值来显示其他所需的值。如果我要使用这种方式，那么我必须编写更多的内部选择查询，它会减慢我的网站加载速度。那么您能否建议或建议任何其他方式来编写此查询？

数据库表详细信息：

*   tv_channels [ID, chn_name, [其他必填字段]],
*   tv_showtime [ID, chn_id, showtime, show_name, hits, last_ip [以及更多字段]]

如果您需要更多详细信息来获得此问题，请告诉我。任何帮助或建议将不胜感激。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T13:11:29.193

要按某种顺序从表中选择最后（第一个）记录，您可以`LEFT JOIN`将表本身作为*任何*下一个（上一个）元素，并添加一个条件，即*没有*这样的元素。

```
SELECT c.ID, c.chn_name, c.chn_logo
  , curr_sh.ID AS currentshowid, curr_sh.showtime AS currentshowtime -- Continue with desired columns
  , next_sh.showtime AS nextshowtime -- Continue with desired columns
  FROM tv_channels AS c 
    LEFT JOIN tv_showtime AS curr_sh
      ON curr_sh.chn_id = c.ID
        AND curr_sh.showtime <= '2013-02-18 10:28:35'
        AND curr_sh.status='Enable'
    LEFT JOIN tv_showtime AS curr_next_sh
      ON curr_next_sh.chn_id = curr_sh.chn_id
        AND curr_next_sh.showtime >  curr_sh.showtime
        AND curr_next_sh.showtime <= '2013-02-18 10:28:35'
        AND curr_next_sh.status = 'Enable'
    LEFT JOIN tv_showtime AS next_sh
      ON next_sh.chn_id = c.ID
        AND next_sh.showtime > '2013-02-18 10:28:35'
        AND next_sh.status='Enable'
    LEFT JOIN tv_showtime AS next_prev_sh
      ON next_prev_sh.chn_id = next_sh.chn_id
        AND next_prev_sh.showtime <  next_sh.showtime
        AND next_prev_sh.showtime > '2013-02-18 10:28:35'
        AND next_prev_sh.status = 'Enable'
  WHERE c.status = 'Enable'
    AND curr_next_sh.ID IS NULL -- This gives us only the latest current show
    AND next_prev_sh.ID IS NULL -- This gives us only the earliest next show
    AND (curr_sh.ID IS NOT NULL OR next_sh.ID IS NOT NULL) -- This gives us 'which has current show time and/or next show time'
  ORDER BY c.chn_name 
  LIMIT 0,10 
```

但我不确定性能，以及这个解决方案是否是最优的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T13:55:50.550

正如另一个人所问的那样，但你没有对每场演出的“结束时间”做出回应，我不得不假设演出时间是开始的时间。也就是说，您如何根据 CURTIME()（而不是固定时间值）确定给定频道的当前节目正在运行。

获取当前时间之前存在的每个频道和 MAXIMUM SHOW Time...

同样，如何获得 NEXT Show？使用当前时间之后开始的 MINIMUM SHOW 时间获取每个频道。

所以，如果我有 1 个频道的以下记录并且当前时间是下午 2:15

```
Channel   ShowTime   Show_Name
1         12:30pm    Show "X"
1         01:00pm    Show "B"
1         01:30pm    Show "C"     
1         02:00pm    Show "D"      <-  Current Show
1         02:30pm    Show "Y"      <-  Next Show
1         03:00pm    Show "Z" 
```

当前正在运行的节目是 2:15 之前的最新节目（节目“D”从下午 2 点开始），下一个节目是当前时间之后的第一个节目（节目“Y”从下午 2:30 开始）。即使行不是按顺序排列的，上述方法也可以工作，因为我分别使用 MIN() 和 MAX() 来获取时间。

因此，我从频道表开始，对每个单独的预聚合查询进行左连接，以分别检测当前节目和下一个节目时间，并加入频道 ID，每个频道 ID 最多返回一条记录 --- 提供是符合条件的 WHERE CURTIME() 考虑范围内的记录。

从那开始，我再次将这些结果集重新加入到实际的电视时间表表中，但这一次是在频道上以及与相应当前或下一次匹配的时间。

所以现在，我已经准备好所有内容，并准备好使用各自的内容别名。现在，我只是抓住我想要呈现的列。

由于连接都是 LEFT-JOIN，每一边都可以有 NULL 值，所以您可能需要调整查询以防止使用 COALESCE() 出现空值，例如我已经采样...

```
SELECT
      TC.ID,
      TC.Chn_Name,
      TC.Chn_Logo,
      COALESCE( CurShowTimeDetail.ShowTime, 'no time' )  CurShowTime,
      COALESCE( CurShowTimeDetail.Show_Name, '' )        CurShowName,
      COALESCE( CurShowTimeDetail.Hits, 0 )              CurHits,
      COALESCE( NextShowTimeDetail.ShowTime, 'no time' ) NextShowTime,
      COALESCE( NextShowTimeDetail.Show_Name, '' )       NextShowName,
      COALESCE( NextShowTimeDetail.Hits, 0 )             NextHits
   from 
      TV_Channels TC

         LEFT JOIN ( SELECT 
                           ST.chn_id, 
                           MAX( ST.showtime ) CurShowTime
                        from
                           tv_showtime ST
                        where
                           ST.ShowTime < CURTIME()
                        group by
                           ST.chn_id ) CurrentShow
            ON TC.ID = CurrentShow.Chn_ID
            LEFT JOIN tv_showtime CurShowTimeDetail
               ON CurrentShow.Chn_ID = CurShowTimeDetail.Chn_ID
               AND CurrentShow.CurShowTime = CurShowTimeDetail.ShowTime

         LEFT JOIN ( SELECT 
                           ST.chn_id, 
                           MIN( ST.showtime ) NextShowTime
                        from
                           tv_showtime ST
                        where
                           ST.ShowTime > CURTIME()
                        group by
                           ST.chn_id ) NextShow
            ON TC.ID = NextShow.Chn_ID
            LEFT JOIN tv_showtime NextShowTimeDetail
               ON NextShow.Chn_ID = NextShowTimeDetail.Chn_ID
               AND NextShow.NextShowTime = NextShowTimeDetail.ShowTime 
```

# wix - WiX 中的“错误 -2147467259：创建 SQL 数据库失败”

> ID：14930196
> 
> 赞同：7
> 
> 时间：2013-02-18T05:43:08.333
> 
> 标签：wix, windows-installer, wix3.6

我想在安装过程中使用 WiX 3.6 创建一个数据库。我遵循了许多教程，但我认为我做错了什么。

```
<?xml version="1.0" encoding="UTF-8"?>
<Wix xmlns="http://schemas.microsoft.com/wix/2006/wi"
     xmlns:util="http://schemas.microsoft.com/wix/UtilExtension"
     xmlns:sql="http://schemas.microsoft.com/wix/SqlExtension">

    <Product Id="{A704CA9E-2833-4276-A8A8-148F1047332F}" Name="DbInstallerTest" Language="1033" Version="1.0.0.0" Manufacturer="Microsoft" UpgradeCode="2de42bd8-acc2-48bf-b3c6-09745d3a2ea4">
        <Package InstallerVersion="200" Compressed="yes" InstallScope="perMachine" />

        <MajorUpgrade DowngradeErrorMessage="A newer version of [ProductName] is already installed." />
        <MediaTemplate />

        <Feature Id="ProductFeature" Title="DbInstallerTest" Level="1">
            <ComponentGroupRef Id="ProductComponents" />
        </Feature>
    </Product>

    <Fragment>
        <Directory Id="TARGETDIR" Name="SourceDir">
            <Directory Id="ProgramFilesFolder">
                <Directory Id="INSTALLFOLDER" Name="DbInstallerTest" />
            </Directory>
        </Directory>
    </Fragment>

    <Fragment>
        <ComponentGroup Id="ProductComponents" Directory="INSTALLFOLDER">

            <Component Id="CMPDbInsatller"
                       Guid="{1749E57D-9CE4-42F8-924C-2A2E368B51E4}">
                <CreateFolder Directory="INSTALLFOLDER"/>
                <util:User Id="SqlUser"
                           Name="sa"
                           Password="Abc123@"/>
            </Component>
            <Component Id="cmp2"
                       Guid="{C3596364-61A0-4628-9153-1BA11DB4B778}">
                <CreateFolder Directory="INSTALLFOLDER"/>
                <sql:SqlDatabase Id="Id_db"
                                 Database="TestDatabase1"
                                 Server="(local)\SQLExpress"
                                 CreateOnInstall="yes"
                                 User="SqlUser"
                                 DropOnUninstall="yes">
                </sql:SqlDatabase>
            </Component>
        </ComponentGroup>
    </Fragment>
</Wix> 
```

上面的代码给出了以下错误。

> 错误 -2147467259：未能创建 SQL 数据库：TestDatabase1。错误详情：未知错误。

这是日志内容，

```
=== Logging started: 2/18/2013  11:00:59 ===
Action 11:00:59: INSTALL.
Action start 11:00:59: INSTALL.
Action 11:00:59: FindRelatedProducts. Searching for related applications
Action start 11:00:59: FindRelatedProducts.
Action ended 11:00:59: FindRelatedProducts. Return value 1.
Action 11:00:59: LaunchConditions. Evaluating launch conditions
Action start 11:00:59: LaunchConditions.
Action ended 11:00:59: LaunchConditions. Return value 1.
Action 11:00:59: ValidateProductID.
Action start 11:00:59: ValidateProductID.
Action ended 11:00:59: ValidateProductID. Return value 1.
Action 11:00:59: CostInitialize. Computing space requirements
Action start 11:00:59: CostInitialize.
Action ended 11:00:59: CostInitialize. Return value 1.
Action 11:00:59: FileCost. Computing space requirements
Action start 11:00:59: FileCost.
Action ended 11:00:59: FileCost. Return value 1.
Action 11:00:59: CostFinalize. Computing space requirements
Action start 11:00:59: CostFinalize.
Action ended 11:00:59: CostFinalize. Return value 1.
Action 11:00:59: MigrateFeatureStates. Migrating feature states from related applications
Action start 11:00:59: MigrateFeatureStates.
Action ended 11:00:59: MigrateFeatureStates. Return value 0.
Action 11:00:59: ExecuteAction.
Action start 11:00:59: ExecuteAction.
Action start 11:01:01: INSTALL.
Action start 11:01:01: FindRelatedProducts.
Action ended 11:01:01: FindRelatedProducts. Return value 0.
Action start 11:01:01: LaunchConditions.
Action ended 11:01:01: LaunchConditions. Return value 1.
Action start 11:01:01: ValidateProductID.
Action ended 11:01:01: ValidateProductID. Return value 1.
Action start 11:01:01: CostInitialize.
Action ended 11:01:01: CostInitialize. Return value 1.
Action start 11:01:01: FileCost.
Action ended 11:01:01: FileCost. Return value 1.
Action start 11:01:01: CostFinalize.
Action ended 11:01:01: CostFinalize. Return value 1.
Action start 11:01:01: MigrateFeatureStates.
Action ended 11:01:01: MigrateFeatureStates. Return value 0.
Action start 11:01:01: InstallValidate.
Action ended 11:01:01: InstallValidate. Return value 1.
Action start 11:01:01: RemoveExistingProducts.
Action ended 11:01:01: RemoveExistingProducts. Return value 1.
Action start 11:01:01: InstallInitialize.
Action ended 11:01:01: InstallInitialize. Return value 1.
Action start 11:01:01: ProcessComponents.
Action ended 11:01:01: ProcessComponents. Return value 1.
Action start 11:01:01: UnpublishFeatures.
Action ended 11:01:01: UnpublishFeatures. Return value 1.
Action start 11:01:01: UninstallSqlData.
Action ended 11:01:02: UninstallSqlData. Return value 1.
Action start 11:01:02: RemoveFiles.
Action ended 11:01:02: RemoveFiles. Return value 0.
Action start 11:01:02: RemoveFolders.
Action ended 11:01:02: RemoveFolders. Return value 1.
Action start 11:01:02: CreateFolders.
Action ended 11:01:02: CreateFolders. Return value 1.
Action start 11:01:02: ConfigureUsers.
Action start 11:01:02: CreateUserRollback.
Action ended 11:01:02: CreateUserRollback. Return value 1.
Action start 11:01:02: CreateUser.
Action ended 11:01:02: CreateUser. Return value 1.
Action ended 11:01:02: ConfigureUsers. Return value 1.
Action start 11:01:02: InstallFiles.
Action ended 11:01:02: InstallFiles. Return value 1.
Action start 11:01:02: InstallSqlData.
Action start 11:01:19: CreateDatabase.
Action ended 11:01:19: CreateDatabase. Return value 1.
Action ended 11:01:19: InstallSqlData. Return value 1.
Action start 11:01:19: RegisterUser.
Action ended 11:01:19: RegisterUser. Return value 1.
Action start 11:01:19: RegisterProduct.
Action ended 11:01:19: RegisterProduct. Return value 1.
Action start 11:01:19: PublishFeatures.
Action ended 11:01:19: PublishFeatures. Return value 1.
Action start 11:01:19: PublishProduct.
Action ended 11:01:19: PublishProduct. Return value 1.
Action start 11:01:19: InstallFinalize.
CreateDatabase:  Error 0x80004005: failed to create to database: 'TestDatabase1', error:

unknown error
Error 26201\. Error -2147467259: failed to create SQL database: TestDatabase1, error detail:

unknown error.
MSI (s) (94!44) [11:01:47:973]: Product: DbInstallerTest -- Error 26201\. Error -2147467259:

failed to create SQL database: TestDatabase1, error detail: unknown error.

CustomAction CreateDatabase returned actual error code 1603 (note this may not be 100%

accurate if translation happened inside sandbox)
Action ended 11:01:47: InstallFinalize. Return value 3.
Action ended 11:01:48: INSTALL. Return value 3.
Action ended 11:01:48: ExecuteAction. Return value 3.
Action ended 11:01:48: INSTALL. Return value 3.
=== Logging stopped: 2/18/2013  11:01:48 ===
MSI (c) (C0:94) [11:01:48:208]: Product: DbInstallerTest -- Installation failed.

MSI (c) (C0:94) [11:01:48:209]: Windows Installer installed the product. Product Name:

DbInstallerTest. Product Version: 1.0.0.0\. Product Language: 1033\. Manufacturer: Microsoft.

Installation success or error status: 1603. 
```

我在这里做错了什么？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2014-03-31T18:22:09.230

我们追了这个错误一周，*最后*通过进入 SQL Server 配置管理器 → SQL Server 网络配置 → MSSQLSERVER 的协议（对我们来说，默认实例）→ 启用命名管道和 TCP/IP 协议来解决它。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2014-04-24T15:43:27.223

我也面临这个确切的问题，我浏览了很多论坛来解决这个问题。这是唯一对我有用的东西。在我的计算机上，SQL Server Express Edition 数据库创建失败并显示 -2147467259：未能创建 SQL 数据库：

> 经过几天的黑客攻击，我终于找到了解决方案！您需要做的就是在连接字符串中使用 .\sqlexpress 而不是 localhost\sqlexpress 或 127.0.0.1\sqlexpress 。我认为（我在这里可能大错特错）当您在连接字符串安装程序中使用 .\sqlexpress 时使用共享内存而不是命名管道或 TCP/IP。

来源：*[-2147467259的解决方法：创建SQL数据库失败](http://geekrick.blogspot.in/2008/07/solution-to-2147467259-failed-to-create.html)*

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-02-18T14:34:54.143

Err 26201 更有用。您还应该在事件日志中看到更多信息。

您的代码表明您在 SQL 实例上使用混合模式并作为 SQL 登录名进行身份验证。这表明问题很可能是您的 SQL 服务帐户没有在默认位置创建 MDF 和 LDF 文件的权限。

有关更多信息，请参阅此线程：

[错误 26201。错误 -2147467259：未能创建 SQL 数据库](http://windows-installer-xml-wix-toolset.687559.n2.nabble.com/Error-26201-Error-2147467259-failed-to-create-SQL-database-td6163225.html)

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2014-04-11T15:48:57.537

因此，我的 WiX 安装程序日志中也出现错误，但略有不同。

环境：

*   网络服务器 = Windows 2008 R2
*   SQLServer = 带有 SQL Server 2008 R2 标准的 Windows 2008 32 位
*   混合模式认证
*   默认 SQL 实例

错误：

> ExecuteSqlStrings：在 C:\Windows\Installer\MSI1EC7.tmp 中输入 ExecuteSqlStrings，版本 3.6.3303.0
> 
> ExecuteSqlStrings：错误 0x80004005：无法连接到数据库：'DatabaseNameBla'
> 
> 错误 26203。无法连接到 SQL 数据库。(-2147467259 DatabaseNameBla) MSI (s) (20!30) [10:16:32:225]：产品：Bla 服务 -- 错误 26203。无法连接到 SQL 数据库。(-2147467259 数据库名称Bla )

研究：

*   Instance DB 在硬盘上似乎只剩下 1.6 GB。<<这可能很糟糕......
*   我的用户是系统管理员
*   通过 SQL 管理工具访问对同一用户没有问题。
*   SLQ 日志中没有任何内容可以帮助解决错误。只是噪音。

我的解决方案：

*   VM 有一个 D 盘，有 50 GB 可用空间
*   D 盘上的新数据库实例
*   新实例设置为混合模式
*   重新安装。成功！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！

概括：

因此，经过数小时试图弄清楚这笔交易是什么。在此错误的情况下，它与硬盘驱动器可用空间大小有关。由于 SQL Server 处于生产状态，我们无法扩展 C 驱动器以查看是否修复了默认实例。

# android - 如何在我的布局中放大图标图像？

> ID：14930198
> 
> 赞同：0
> 
> 时间：2013-02-18T05:43:27.417
> 
> 标签：android, image, layout-inflater

我正在尝试在我的列表视图顶部添加一个小的主页图标图像。您可以在下面看到我的适配器的代码。它非常适合设置动态文本，但是当我想添加图像时它会失败。

我没有收到任何运行时错误，只是没有加载图像。

引用的图像是 35x35 png 文件。

如何实施？我是安卓新手。请指导我。

> ```
>  LayoutInflater inflater = (LayoutInflater) getSystemService(Context.LAYOUT_INFLATER_SERVICE);
>       viewList = Nexttopic.this.getLayoutInflater().inflate(R.layout.activity_nexttopic, null);
>       dialogMarketList = new Dialog(Nexttopic.this);
>       dialogMarketList.requestWindowFeature(Window.FEATURE_NO_TITLE);
>       dialogMarketList.setContentView(viewList);
>       dialogMarketList.show();     
>       lvForDialog = (ListView) viewList.findViewById(R.id.List_view);
>       lvForDialog.setTranscriptMode(ListView.TRANSCRIPT_MODE_ALWAYS_SCROLL);
>       ArrayAdapter<String> adapter = (new ArrayAdapter<String>(Nexttopic.this, R.layout.row_topic, R.id.child_row,tnamelist));
>       ImageView home = (ImageView) findViewById(R.id.hme);
>       lvForDialog.setAdapter(adapter); 
> ```

row_topic xml 文件

```
 <?xml version="1.0" encoding="utf-8"?>  
       <RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
            android:orientation="horizontal"
           android:layout_width="fill_parent"
           android:layout_height="fill_parent" 
           android:weightSum="1">
         <ImageView      android:id="@+id/hme"  
            android:layout_height="wrap_content"
            android:layout_width="wrap_content" 
            android:layout_above="@+id/child_row"
            android:src="@drawable/homex"/>
          <TextView 
            android:id="@+id/child_row"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:textColor="@android:color/white"
            android:gravity="center_vertical"
            android:paddingLeft="6dip"
            android:minHeight="?android:attr/listPreferredItemHeight"
            android:background="@drawable/bg"/>
            </RelativeLayout> 
```

activity_nexttopic

```
 <RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
        xmlns:tools="http://schemas.android.com/tools"
        xmlns:android1="http://schemas.android.com/apk/res/android"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        tools:context=".Nexttopic" >

        <ListView
        android1:id="@+id/List_view"
        android1:layout_width="match_parent"
        android1:layout_height="250dp"
        android1:layout_centerHorizontal="true"
        android1:layout_centerVertical="true"
        android:background="@drawable/bg">
        </ListView>
        </RelativeLayout> 
```

# android - 他们利用什么来构建具有自定义图形和控件的 Android 应用程序？

> ID：14930202
> 
> 赞同：0
> 
> 时间：2013-02-18T05:44:10.637
> 
> 标签：android, graphics, controllers

我的意思是，当你刚刚开始开发并说你添加了一个滑块，那里有一个预定义的皮肤，你可以把它放在屏幕上的某个地方，但是在某些应用程序中，某个地方有一个旋钮之类的东西您可以旋转滑块以执行与滑块相同的操作。他们是怎么做到的，它需要openGL还是我不要求一个完整的教程或者只是好奇构建这样的东西需要什么东西

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T05:52:31.083

大多数情况下，如果没有提供开箱即用的东西，您将不得不构建自己的控件。

例如，您提到了一个*Knob*。这在 Android SDK 中不可用。这种控制可能被证明是有用的。

这是构建此类自定义控件的教程：http: [//go-lambda.blogspot.in/2012/02/rotary-knob-widget-on-android.html](http://go-lambda.blogspot.in/2012/02/rotary-knob-widget-on-android.html)

*这是上面链接的教程的最终结果的图像：*

![在此处输入图像描述](../Images/55590fdc2f3437dc164fcd1bb18bf6e4.png)

这是自定义滑块/搜索栏的示例：http: [//permadi.com/blog/2011/11/android-sdk-custom-slider-bar-seekbar/](http://permadi.com/blog/2011/11/android-sdk-custom-slider-bar-seekbar/)

这应该让您大致了解如何创建自己的自定义视图。

~~最后，我个人认为跟踪*几乎*所有好的自定义视图的最佳资源在这里：[http ://www.androidviews.net/](http://www.androidviews.net/)~~

androidviews.net 网站已关闭。[Android Arsenal](http://android-arsenal.com/)是一个列出多个第三方 Android 库的*新网站。*

# javascript - jquery ajax在请求跨域时返回状态码0

> ID：14930207
> 
> 赞同：0
> 
> 时间：2013-02-18T05:44:45.097
> 
> 标签：javascript, html, ajax, jquery

我正在尝试发出跨域请求，但服务器无法响应

```
Access-Control-Allow-Origin: * 
```

我正在尝试读取响应标头。当我尝试读取状态代码或就绪状态时，它返回 0。我的 ajax 请求代码如下。

```
$.ajax({
       url: "https://accounts.google.com/o/oauth2/auth",
       type: "POST",
        data:   {"response_type":"token","client_id":"6720XXXXXXX.apps.googleusercontent.com","redirect_uri":"http://localhost:51967/oauth2callback.aspx","scope":"https://www.googleapis.com/auth/calendar","state":"this is state information","approval_prompt":"auto"},            
                crossDomain: true
        }).always(function(jqxhr,testStatus,errorThrown)
        {
                alert(jqxhr.readyState);
                alert(jqxhr.status);
        }); 
```

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T05:52:03.603

你试过[这个jquery跨域](https://github.com/padolsey/jQuery-Plugins/tree/master/cross-domain-ajax/)插件吗？

另一种方法是`jsonp`用作响应类型

```
$.ajax({
   url: "https://accounts.google.com/o/oauth2/auth",
   type: "POST",
   dataType: 'jsonp',
   ... 
```

# java - 添加 DatePicker 时 ListView 消失

> ID：14930213
> 
> 赞同：1
> 
> 时间：2013-02-18T05:45:37.057
> 
> 标签：java, android, xml, listview, datepicker

我目前正在编写一个 Android 项目，但我的 xml 文件有问题。没有日期选择器，列表视图运行良好。但是，当我添加一个日期选择器（不编辑 java 文件）时，列表视图消失了。以下是我的 android xml 文件：

```
<?xml version="1.0" encoding="utf-8"?>    
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="fill_parent"
android:layout_height="wrap_content"
android:background="@drawable/background"
android:orientation="vertical" >

<LinearLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:orientation="vertical"
    >

    <TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="Enter Date"
        android:textColor="@android:color/white"
        android:textSize="25sp" />

  <DatePicker
        android:id="@+id/datePicker1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"/> 

     <Button
        android:id="@+id/confirm"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:text="Confirm" /> 

</LinearLayout>
<LinearLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:orientation="vertical"
    android:background="@android:color/background_dark" >

    <ListView
        android:id="@android:id/list"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:drawSelectorOnTop="false" />
</LinearLayout>

</LinearLayout> 
```

我的 xml 文件有问题吗？

更新：我发现即使使用日期选择器，列表视图也会出现在三星 Galaxy Y Duos 上，但仍然没有出现在三星 Galaxy Note 上

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-17T22:00:23.050

当我在同一布局中使用带有自定义适配器的 DatePicker 和 ListView 并且我的活动扩展 ListActivity 并调用 getListView() 时，我遇到了类似的问题。该列表出现在旧版本的 Android 上，但不在新版本上。我体验到我的适配器的 getView() 方法没有被调用。

我通过将 android:id="@android:id/list" 更改为自定义 id 并使用此 id 调用 findViewById 让它在新版本上工作，但是旧版本得到了“RuntimeException：您的内容必须有一个 ListView其 id 属性为 'android.R.id.list'”。为了让它在新旧版本上都可以工作，我使用了自定义 id 和 findViewById 方法，但是从 Activity 扩展而不是 ListActivity。也许有一些方法可以在不避免 ListActivity 的情况下处理这个问题，但这至少对我有用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T07:44:40.710

尝试为您的布局分配权重并查看。将 android:layout_weight="1" 添加到您的两个线性布局中（不要将其添加到您的主要线性布局中）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-18T06:55:07.443

请删除此行

```
xmlns:android="http://schemas.android.com/apk/res/android 
```

除了从顶部布局。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-18T05:50:17.317

我的猜测是 ListView 之前的小部件最终占用了所有垂直空间，而您的列表视图没有空间出现。尝试将 TextView、Button 和 DatePicker 的高度设置为 10dp 之类的，然后看看是否可以看到列表。如果可以，这是一个空间问题，您应该考虑使用 a`ScrollView`而不是 a `LinearLayout`。

# android - 来自 ANT 的 Android 库项目 JAR

> ID：14930220
> 
> 赞同：2
> 
> 时间：2013-02-18T05:46:05.147
> 
> 标签：android, ant, android-library, android-build

我在这篇博文中读到：[http](http://android-developers.blogspot.nl/2011/10/changes-to-library-projects-in-android.html) ://android-developers.blogspot.nl/2011/10/changes-to-library-projects-in-android.html我可以为我的库项目创建一个 .JAR 文件可以将其分发给外部人员以供利用。

我在哪里可以找到有关如何创建此 Library Jar 的文档？

有谁知道我需要通过 ANT 完成的步骤？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T02:51:34.093

这是创建lib项目的文档...

[http://developer.android.com/tools/projects/projects-cmdline.html#SettingUpLibraryProject](http://developer.android.com/tools/projects/projects-cmdline.html#SettingUpLibraryProject)

和这里

[http://developer.android.com/tools/projects/index.html#LibraryProjects](http://developer.android.com/tools/projects/index.html#LibraryProjects)

检查此以获取更多信息

[如何为Android库项目指定多个源目录](https://stackoverflow.com/questions/14605899/how-to-specify-multiple-source-directory-for-android-library-project)

# dicom - 如何计算 MPR 的 dicom 切片之间的空间？

> ID：14930222
> 
> 赞同：6
> 
> 时间：2013-02-18T05:46:13.893
> 
> 标签：dicom, slice

由于显示基于 Dicoms 的**MPR 视图。**我从一系列 dicom 文件中制作了一个 3D 数组。我从*冠状*和*矢状*面展示它。

```
My 3D array includes: 

 - z = count of dicoms
 - c = column value for every dicoms
 - r = Row value for every dicoms 
```

但我有一个问题。当切片之间有一些空间时，通过这种方式制作的图像不会显示正确的视图。因为我想不出他们之间的模拟距离！

我不知道如何计算切片之间的空间？我想在切片之间添加额外的空间。例如，如果切片之间的空间是 4。我必须添加 4 个时间 z 内部切片。

我希望达到我的意思。

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2013-02-27T15:39:35.543

Image Position (Patient) 和 Image Orientation (Patient) 是您在计算切片之间的距离时应该使用的两个**唯一属性。**有关更多详细信息，请参见[此处](http://www.itk.org/pipermail/insight-users/2008-November/027903.html)或[此处](http://groups.google.com/group/comp.protocols.dicom/msg/5016d604cbc9e828)。对于实际实现，请参见[此处](http://gdcm.sourceforge.net/html/classgdcm_1_1IPPSorter.html)，此实现还考虑了 Frame Of Reference UID 以及 Gantry/Detector Tilt。

这个问题是在 comp.protocols.dicom 上提出的问题 #1。

请参阅[ImageJ 错误](https://groups.google.com/group/comp.protocols.dicom/msg/eadf2bab086004d8)

* * *

我相信@Matt 的回答是错误的，让我在这里澄清一些事情。

*   **否**：'DICOM 没有**名为**Spacing Between Slices 的属性'。这是非常错误的（从技术上讲，它甚至没有任何意义）。

DICOM 定义了 IOD，它定义了 SOP 类实例中可用的一组必需属性。让我们考虑两个非常常见的情况：CT 图像存储（旧版）和 MR 图像存储（旧版）。所以我们需要比较两者之间的属性集：

1.  [CT 图像 IOD 模块](http://dicom.nema.org/medical/dicom/current/output/chtml/part03/sect_A.3.3.html)
2.  [MR 图像 IOD 模块](http://dicom.nema.org/medical/dicom/current/output/chtml/part03/sect_A.4.3.html)

现在假设我们要检查 MR Image Storage 支持`Spacing Between Slices`，很容易跳转到：

*   [MR 图像模块属性](http://dicom.nema.org/medical/dicom/current/output/chtml/part03/sect_C.8.3.html#sect_C.8.3.1)

然而，要找到 CT 图像存储的这个属性要困难得多：仅仅因为这个属性不存在（根据标准）。因此，您唯一会在**扩展**的SOP 类中找到此类属性（某些供应商可能认为 Spacing Between Slices 属性在其**扩展**的SOP 类实例中有意义）。

*   将切片之间的间距和切片厚度（0018,0050）混合在同一个答案中对于新用户来说非常混乱。

我同意切片厚度在 CT 图像存储和 MR 图像存储的标准中得到了完美定义，因为它们都包含 [Image Plane Module Attributes](http://dicom.nema.org/medical/dicom/current/output/chtml/part03/sect_C.7.6.2.html#table_C.7-10)，但是我们不要将一个交换为另一个。

我在这里找到了切片厚度与切片间距的一个很好的总结（如果您滚动到该部分，您甚至可以播放小演示）：

*   [CT 物理：CT 重建和螺旋 CT](http://xrayphysics.com/ctsim.html)

在步进和射击 CT 中，切片厚度和切片之间的间距是相同的，因此这里没有大问题。然而，对于螺旋 CT，这些值并不相同，并且可以在任何方向上变化（它们是独立的）。

> […] 切片厚度由探测器宽度和间距决定，而重建间隔（=切片之间的间距）可以任意选择。[…]

总之，为了计算（安全！）切片之间的间距（= 重建间隔），使用图像方向（患者）和图像位置（患者）要安全得多，因为它们在 MR 图像存储或 CT 图像存储实例中都可用。

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2013-02-18T19:51:58.617

DICOM 有一个名为 Spacing Between Slices (0018, 0088) 的属性，它给出了两个相邻切片之间的距离（垂直于图像平面），它还有一个名为 Slice Thickness (0018, 0050) 的属性，它给出了成像切片的厚度（图像平面存在于切片的中心，一半的体积在平面上方，一半在下方）。Image Position (Patient) (0020, 0032) 和 Image Orientation (Patient) (0020, 0037) 也是计算切片之间空间关系的有用属性。

有关更详细的说明，请参阅[DICOM 标准第 3 部分的 C.7.6.2 节](http://medical.nema.org/Dicom/2011/11_03pu.pdf)。（第 409 页）

**警告**：请注意，不同的供应商使用**相同**的dicom 标签来解决不同的问题。例如，属性 Spacing Between Slices (0018, 0088) 意味着两个**不同**的东西，具体取决于供应商。请参阅[此表](https://www.mr-tip.com/serv1.php?type=cam&sub=1)以获取指南，并查看[此线程](http://mriquestions.com/cross-talk.html#)以获取说明。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2017-08-04T20:38:08.343

正如前面的答案中所讨论的，如何计算 DICOM 切片之间的空间并不简单。让我们换一种说法：如何将 DICOM 切片存储在 3D 体积中，即用于渲染的等距切片列表（猜你想上传到 3D 纹理中）。

这是因为捕获 CT 切片的实际位置可能与放射科医生选择的位置不同。数据集可能已配置为捕获 1 mm 切片，但 CT 返回位置为 0.0 mm、0.997 mm、2.010 mm、...的切片

如果您使用诸如 Spacing Between Slices 之类的属性来计算 3D 体积的大小，您将很容易获得细微的舍入误差。不要去那里。

相反，必须使用 Image Position (Patient) (0020, 0032)，然后执行优化以计算切片如何适合网格。

实践中要考虑的典型问题：

*   缺少切片（插值？间隙？）
*   失步切片（硬件缺陷？数据缺陷？）

# java - 空的 JDateChooser

> ID：14930225
> 
> 赞同：1
> 
> 时间：2013-02-18T05:46:47.050
> 
> 标签：java, jdatechooser

我将 JDateChooser 用于 Javaapp（这是我第一次使用它）。当 JDateChooser 为空时，我想用如下代码捕捉错误：

```
if(dcs1.getDate().toString().isEmpty()){
       lblOk.setText("Empty");
   }else{
    Date d = dcs1.getDate();
    DateFormat df = new SimpleDateFormat("MM-dd-yyyy");
    String t = df.format(d);
    lblOk.setText(t);
   }
JLabel lblOk;
JDateChooser dcs1; 
```

但它不起作用。Any1可以帮助我。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-06-03T04:46:47.947

```
Date date;
date = JDateChooser.getDate();

if (date == null) 
        {
            JOptionPane.showMessageDialog(null, "Choose Date from Right Box.", "Error", JOptionPane.ERROR_MESSAGE);
            JDateChooser.grabFocus();
            return false;
        } 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2014-09-23T19:26:32.530

```
String s = ((JTextField)dateChooser.getDateEditor().getUiComponent()).getText();
if (s.equals("") {
    JOptionPane.showMessageDialog(null, "Please type birthday", "Warning!", JOptionPane.ERROR_MESSAGE);
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-12-09T08:20:45.043

```
if (jDateChooserBirthDate.getDate() == null) {
   JOptionPane.showMessageDialog(null, "Please type birthday", "Warning!", JOptionPane.ERROR_MESSAGE);
} 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2016-11-27T23:15:56.670

```
 if(jDateChooser1.getDate() == null){
    JOptionPane.showMessageDialog(this, "Date not selected","No   selection",JOptionPane.INFORMATION_MESSAGE);
    jDateChooser1.requestFocusInWindow();
   } 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2018-12-10T07:27:46.727

我使用了 DateChooserCombo。以下代码对我有用。

```
String test = dateChooserID.getText();
if(!test.equals("")){
//DO WHATEVER YOU WANT (DATE IS SELECTED IN THIS CASE);
}
else{
JOptionPane.showMessageDialog(this, "date not choosen");
} 
```

# clojure - 如何使用 Emacs/nrepl/Quil 在 Clojure 中编写代码？

> ID：14930226
> 
> 赞同：4
> 
> 时间：2013-02-18T05:46:57.697
> 
> 标签：clojure, quil, nrepl

我有一个相当标准的 Quil 文件，我正在使用 Emacs 和 nrepl 进行编辑。

```
(defn setup []
  (qc/smooth)
  (qc/frame-rate 24)
  (qc/background 200))

(defn draw []
  (draw-world))

(qc/defsketch run
  :title "Circles!"
  :setup setup
  :draw draw
  :size [800 600]
  :renderer :opengl) 
```

首先，我使用`C-c C-l`加载文件；这将创建一个草图窗口。然后我编辑我的`draw-world`函数，比如说，用不同的颜色绘制。我的问题是：

如何使用这个新功能更新当前的 Quil 窗口？

*`C-x C-e`似乎不起作用。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-18T06:34:55.607

在您要更改的函数中尝试`C-M-x`（这将评估当前的顶级表单）或`C-c C-k`在源缓冲区中尝试（这会评估当前缓冲区）。顺便说一句，`C-x C-e`应该也可以工作（它当然对我有用，但我很少使用它）。也许您没有使用 nrepl.el 的最新版本？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-05-24T20:45:12.437

我刚刚建立了一个示例项目来处理我在 Quil 中进行实时编码的工作流程。我从几个地方复制了一些基础知识，例如 Quil wiki 和论坛。

如果您查看项目的基本 core.clj 文件，您会发现它需要单独的“draw”和“setup”命名空间：

```
(ns basic-metronome.core
  (:use [basic-metronome.setup :only [HEIGHT WIDTH]])
  (:require [basic-metronome.draw :as dynamic-draw]
            [basic-metronome.setup :as dynamic-setup]
            [quil.core :as qc]))

(defn run-sketch []
  (qc/defsketch the-sketch
    :title "Hello Metronome"
    :setup dynamic-setup/setup
    :draw dynamic-draw/draw
    :size [WIDTH HEIGHT])) 
```

来自： [https ://github.com/mudphone/basic_quil_metronome/blob/master/src/basic_metronome/core.clj](https://github.com/mudphone/basic_quil_metronome/blob/master/src/basic_metronome/core.clj)

通过这种方式，我可以重新评估`C-c C-k`draw.clj 文件，而无需重新评估顶级核心命名空间（这可能会导致问题，例如您描述的在哪里看到一个新窗口）。

# android - 无法使对话框可点击

> ID：14930229
> 
> 赞同：0
> 
> 时间：2013-02-18T05:47:14.377
> 
> 标签：android, dialog, onclick

我无法使此对话框可点击。我只希望它应该包含一个图像，并且必须是可点击的。我已经添加了图像，但我无法使其可点击。

```
Dialog settingsDialog = new Dialog(this);
settingsDialog.getWindow().requestFeature(Window.FEATURE_NO_TITLE);
settingsDialog.setContentView(getLayoutInflater().inflate(R.id.iv, null));
settingsDialog.show(); 
```

请帮忙！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T06:11:27.847

尝试：

```
View v = getLayoutInflater().inflate(R.id.iv, null);
ImageView im = (ImageView) v.findViewById(R.id.<your image view ID>);
settingsDialog.setContentView(v);
im.setOnClickListener(new OnClickListener() {
    @Override
    public void onClick(View v) {

    }
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T06:38:51.817

如果您不想通过自定义警报对话框执行此操作，请使用此代码

AlertDialog.Builder 生成器；

```
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.dialog); 
```

builder = new AlertDialog.Builder(this);

```
 //builder.setMessage("Do you want to Exit Scramble?")
          builder.setCancelable(false)
           .setIcon(R.drawable.sly)

           .setTitle("  ")
          .setPositiveButton("ok", new DialogInterface.OnClickListener() {
           public void onClick(DialogInterface dlg, int id) {
             finish();

       }

       });

    builder.show();

    } 
```

[假设如果你不想有 OK 按钮，你肯定需要去自定义警报对话框。它很简单。参考这个网站： http](http://www.mkyong.com/android/android-custom-dialog-example/) ://www.mkyong.com/android/android-custom-dialog-example/

# python - Twisted - 发送文件层次结构

> ID：14930231
> 
> 赞同：1
> 
> 时间：2013-02-18T05:47:20.720
> 
> 标签：python, python-2.7, twisted

基本上，我想获取服务器上的文件层次结构并将其发送到已发送特定命令的连接客户端。我已经正确编写了我的代码，以便它能够检测到命令并将去它需要去的地方以生成层次结构，但这是我卡住的地方。除了发送一堆格式化的字符串（用于指定一个文件夹更深的标签等）之外，还有其他方法吗？我在想一个类似列表的东西，然后通过 transport.write 发送所述列表，但是当我这样做时，客户端没有收到它，或者至少 dataReceived 没有被触发。我不知道该怎么做。任何见解将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T09:34:21.473

您需要将字符串发送到另一端。这意味着您需要以某种方式序列化您的层次结构。除非您已经有一些特殊的方式来处理您的应用程序中的二进制数据，否则我建议您只使用一些标准。将您的层次结构保存为[json](http://docs.python.org/2/library/json.html)、[msgpack](http://pypi.python.org/pypi/msgpack-python/)、[protobuf](https://developers.google.com/protocol-buffers/docs/pythontutorial)、[thrift](http://pypi.python.org/pypi/thrift)或其他已经很好实现的东西。

然后只需使用另一侧的相同库解压即可。

# php - 500 服务器错误 - 无限循环

> ID：14930234
> 
> 赞同：0
> 
> 时间：2013-02-18T05:47:47.217
> 
> 标签：php, apache, zend-framework, kohana, virtualhost

## 症状

我正在尝试设置 2 个虚拟路径，一个用于我的每个 php 应用程序。一个使用 Kohana，另一个使用 Zend。两个主页都可以正常工作。然而，当我深入浏览 Kohana 应用程序时，我收到 500 Internal Server 错误。

由于我只安装了 Zend 框架应用程序，所以我只有一个默认主页。因此，在添加新页面后，我可能会发现我的 Zend 应用程序也存在此问题。但是，我不希望会出现这种情况，因为我在使用 Kohana 应用程序时没有遇到主页上缺少任何 CSS（有关此症状的更多信息，请参见 Kohana 引导部分）

## 阿帕奇错误日志

这是日志文件向我显示的内容，从下到上阅读以查看模式。

```
redirected from r->uri = /user/login, referer: http://app1:8080/
redirected from r->uri = /app1/index.php/user/login, referer: http://app1:8080/
redirected from r->uri = /app1/index.php/app1/index.php/user/login, referer: http://app1:8080/
redirected from r->uri = /app1/index.php/app1/index.php/app1/index.php/user/login, referer: http://app1:8080/

...continues for 7 more loops, the redirect uri growing in the same pattern each time

Request exceeded the limit of 10 internal redirects due to probable configuration error. Use 'LimitInternalRecursion' to increase the limit if necessary. Use 'LogLevel debug' to get a backtrace., referer: http://app1:8080/ 
```

所以从日志来看，很明显是我在代码中搞砸了导致的循环。我只是不知道是哪一个。

## httpd.conf

这是我添加到`httpd.conf`设置新的虚拟主机

```
<VirtualHost app1:8080>
    ServerName app1
    DocumentRoot /Applications/MAMP/htdocs/app1/
    SetEnv APPLICATION_ENV "development"
</VirtualHost>

# this is for the zend app that seems to be working fine
<VirtualHost app2:8888>
    ServerName app2
    DocumentRoot /Applications/MAMP/htdocs/app2/public
    SetEnv APPLICATION_ENV "development"
</VirtualHost> 
```

## 等/主机

我不认为这是问题所在，但为了彻底，这里是我添加到`hosts`文件中的内容：

```
127.0.0.1       app1
127.0.0.1       app2 
```

## .htaccess

我也不认为问题出在我的问题上，`.htaccess`因为我可以将整个内容注释掉，但仍然会收到此错误，但无论如何，这里就是这样，您可以看到我已经添加的内容以尝试修复它：

```
# Turn on URL rewriting
RewriteEngine On

# Installation directory
RewriteBase /

# Protect application and system files from being viewed
RewriteRule ^(?:application|modules|system)/ - [F,L]

# Rewrite all other URLs to index.php/URL
RewriteRule .* index.php [PT]

RewriteLogLevel 3
LogLevel debug 
```

## Kohana 引导程序

最后但同样重要的是，我对 Kohana`bootstrap.php`文件所做的更改为我提供了一个工作主页。在此更改之前，我得到了一个无 CSS 的 html 页面：

```
Kohana::init(array(
    //'base_url'   => '/app1/',
    'base_url'     => '/',
    'index_file'   => false
)); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T04:31:38.047

不幸的是，我无法弄清楚为什么会发生这种情况。我将 httpd.conf、.htaccess 和 etc/hosts 恢复为默认值。问题已解决，但我不得不使用 localhost。改天再尝试制作漂亮的开发网址。

# java - 启动画面图片不出现

> ID：14930235
> 
> 赞同：0
> 
> 时间：2013-02-18T05:47:49.710
> 
> 标签：java, image, swing, splash-screen

在我的程序中，我想用启动画面启动它几秒钟，然后启动程序的第一帧......

但是有2个问题。

首先出现启动画面，但本应在其中显示的照片没有出现

第二，当飞溅结束时，第一帧开始了，但它没有。

这是我的代码.....所以我需要知道问题出在哪里？

```
public class Splash extends JWindow {

    AbsoluteLayout absoluto;
    AbsoluteConstraints absimage,absrra;
    ImageIcon Image;
    JLabel jlabel;
    JProgressBar Barra;
    public Splash(){
         absoluto=new AbsoluteLayout();
         absimage = new AbsoluteConstraints(0,0);
         absrra = new AbsoluteConstraints(0,410);
         jlabel=new JLabel();
         Image=new ImageIcon("sales.png");
         jlabel.setIcon(Image);
         Barra=new JProgressBar();
         Barra.setPreferredSize(new Dimension(410,10));
         this.getContentPane().setLayout(absoluto);
         this.getContentPane().add(jlabel,absimage);
         this.getContentPane().add(Barra,absrra);
         new  Thread(){
             public void run(){
                 int i=0;
                 while(i<101){
                     Barra.setValue(i);
                     i++;
                     try {
                         sleep(30);
                     } catch (InterruptedException ex) {
                       //  Logger.getLogger(Splash.class.getName()).log(Level.SEVERE,null,ex);
                     }
                 }
                 System.exit(0);
             }
         }.start();
         this.pack();
         this.setLocationRelativeTo(null);
         this.setVisible(true);
    }

    public static void main (String args[]) throws SQLException, ClassNotFoundException{
        new Splash();
        loginForm a =new loginForm();
        a.setTitle("fram 1");
        a.setSize(700,600);
        a.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        a.setLocationRelativeTo(null);
        a.setVisible(true);
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-18T06:10:07.657

在不了解更多信息的情况下，我会说您遇到了一系列问题...

首先，这...

```
Image=new ImageIcon("sales.png"); 
```

`ImageIcon(String)`需要一个文件（来自本地磁盘），在这里你说图像必须存在于执行程序的同一目录中。如果图像是嵌入式资源，您将遇到麻烦。您将需要提供一个`URL`。

其次，我不知道是什么`AbsoluteLayout`，但我怀疑这是一种方便的说法`setLayout(null)`，并且没有证据证明，我怀疑你没有为标签提供任何宽度/高度信息，这意味着它将 0x0 .

您可以看一下[这个](https://stackoverflow.com/questions/14926425/layout-manager-for-background-images-and-text/14927149#14927149)示例，以了解使用`JLabel`其他组件作为后备容器的示例。

您还通过更新 EDT 外部的进度条违反了 Swing 的单线程规则。这是一个很大的，不，不。实际上，您最好使用`SwingWorker`.

有关更多详细信息，请查看[Swing 中的并发。](http://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html)

以下是同一问题的几个不同示例。

*   [为什么这不会绘制图像？](https://stackoverflow.com/questions/14915022/why-wont-this-draw-the-image/14915370#14915370)
*   [启动画面进度条未绘制](https://stackoverflow.com/questions/14802662/splash-screen-progress-bar-not-drawing/14803941#14803941)

在回答你问题的第二部分......

我会仔细研究很久`System.exit(0);`...

# sql - 在 informix 中更新查询语句

> ID：14930237
> 
> 赞同：0
> 
> 时间：2013-02-18T05:47:56.600
> 
> 标签：sql, hibernate, informix

我想从你们那里得到关于我在 sql 语句中的帮助。请在`Infomix`下面找到我的代码。我正在加入 5 个表并与主键链接。我需要的是，我必须根据 and 将 export_flag 列更新为`export_flag='N'`Y `country='MA'`。

但是现在我遇到了这样的语法错误

> 13:34:12 [更新 - 0 行，0.000 秒] [错误代码：-201，SQL 状态：42000] 发生语法错误。

我在我的 SQL 中找不到问题所在。

```
 update a set a.export_flag ='Y'
    FROM sc_ob_temp_audit AS a
    JOIN sc_ob_allocation  AS b
    ON a.sc_ob_profile_code = b.sc_ob_profile_code 
    AND a.sc_orig_country= b.sc_orig_country
    OUTER JOIN sc_fac_group AS f 
    ON b.sc_orig_country = f.sc_orig_country 
    AND b.sc_orig_sf_group_code = f.sc_fac_group_code
    OUTER JOIN sc_ob_prod_group AS d, JOIN gbl_produce AS e 
    ON d.sc_prod_cont_code = e.gp_cnt_cd
    AND b.sc_orig_country= d.sc_orig_country
    AND b.sc_prod_cont_group_code = d.sc_prod_group_code
    WHERE a.sc_orig_country ='MY'
    AND a.export_flag='N'; 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-18T06:16:06.713

Informix 不支持那种带有 JOIN 的 UPDATE — 请参阅[IBM Informix 11.70 InfoCenter](http://publib.boulder.ibm.com/infocenter/idshelp/v117/topic/com.ibm.sqls.doc/ids_sqs_1254.htm) for UPDATE 的语法。当遇到无法识别的语法时，它会给出错误 -201。

* * *

> 如果 Informix 不支持通过连接进行更新，那么如何连接表？无论如何，我稍后必须将此查询转换为 Hibernate。

我现在想进入休眠状态，拜托……你的意思是，你想让我解释你的查询并弄清楚该怎么做？没有表的模式（主键、外键特别相关！）？您肯定必须在 Hibernate 中修复它；我从来没有使用过它。

这是您的查询，重新格式化以使我觉得更好的可读性。

```
UPDATE a
   SET a.export_flag ='Y'
  FROM sc_ob_temp_audit AS a
  JOIN sc_ob_allocation  AS b
    ON a.sc_ob_profile_code = b.sc_ob_profile_code 
   AND a.sc_orig_country= b.sc_orig_country
  LEFT JOIN sc_fac_group AS f 
    ON b.sc_orig_country = f.sc_orig_country 
   AND b.sc_orig_sf_group_code = f.sc_fac_group_code
  LEFT JOIN sc_ob_prod_group AS d   -- ON clause missing (but there was a comma here)
  JOIN gbl_produce AS e 
    ON d.sc_prod_cont_code = e.gp_cnt_cd
   AND b.sc_orig_country= d.sc_orig_country             -- Part of missing ON clause?
   AND b.sc_prod_cont_group_code = d.sc_prod_group_code -- Part of missing ON clause?
 WHERE a.sc_orig_country ='MY'
   AND a.export_flag='N'; 
```

对我未经训练的眼睛来说，这看起来像是一种非常复杂的写作方式：

```
UPDATE sc_ob_temp_audit
   SET export_flag = 'Y'
 WHERE sc_orig_country = 'MY'
   AND export_flag = 'N' 
```

但是，大概所有的连接都做了一些有用的事情，以某种方式限制了更新的行集。所以，我们可以猜测它的意思是这样的：

```
UPDATE sc_ob_temp_audit
   SET export_flag = 'Y'
 WHERE sc_orig_country = 'MY'
   AND export_flag = 'N'
   AND sc_primary_key IN      -- Guessed at column; no schema for the DB; no keys!
       (SELECT a.sc_primary_key
          FROM sc_ob_temp_audit AS a
          JOIN sc_ob_allocation  AS b
            ON a.sc_ob_profile_code = b.sc_ob_profile_code 
           AND a.sc_orig_country    = b.sc_orig_country
          LEFT JOIN sc_fac_group AS f 
            ON b.sc_orig_country       = f.sc_orig_country 
           AND b.sc_orig_sf_group_code = f.sc_fac_group_code
          LEFT JOIN sc_ob_prod_group AS d
            ON b.sc_orig_country         = d.sc_orig_country
           AND b.sc_prod_cont_group_code = d.sc_prod_group_code
          JOIN gbl_produce AS e 
            ON d.sc_prod_cont_code = e.gp_cnt_cd
       ) 
```

如果实际上您在表上没有单列主键，则`sc_ob_temp_audit`必须使用带有 EXISTS 的相关子查询：

```
UPDATE sc_ob_temp_audit
   SET export_flag = 'Y'
 WHERE sc_orig_country = 'MY'
   AND export_flag = 'N'
   AND EXISTS
       (SELECT *         -- It does not matter what you list here in an EXISTS sub-query
          FROM sc_ob_temp_audit AS a
          JOIN sc_ob_allocation  AS b
            ON a.sc_ob_profile_code = b.sc_ob_profile_code 
           AND a.sc_orig_country    = b.sc_orig_country
          LEFT JOIN sc_fac_group AS f 
            ON b.sc_orig_country       = f.sc_orig_country 
           AND b.sc_orig_sf_group_code = f.sc_fac_group_code
          LEFT JOIN sc_ob_prod_group AS d
            ON b.sc_orig_country         = d.sc_orig_country
           AND b.sc_prod_cont_group_code = d.sc_prod_group_code
          JOIN gbl_produce AS e 
            ON d.sc_prod_cont_code = e.gp_cnt_cd
         WHERE a.pk_column1 = sc_ob_temp_audit.pk_column1
           AND a.pk_column2 = sc_ob_temp_audit.pk_column2
           AND ...
       ) 
```

我认为这有可能奏效；子查询上的 WHERE 子句应使用`a`标识子查询中的审计表，并使用全名标识 UPDATE 语句中的审计表。但是考虑到晚上的时间，我有可能会误会。

# asp.net - 将 asp.net.mvc 添加到 ASP.NET：Controllers 文件夹

> ID：14930241
> 
> 赞同：3
> 
> 时间：2013-02-18T05:48:24.400
> 
> 标签：asp.net, asp.net-mvc, asp.net-mvc-4

我有一个 ASP.NET 应用程序，我正试图将它变成一个混合的 ASP.NET / ASP.NET.MVC 4.0 应用程序。

我尝试创建一个名为“Controllers”的文件夹，并在其中放置一个 .cs 文件：

```
public class PlayerGroupController : Controller
{
    public PlayerGroupController()
    {

    }

    public string Index()
    {
        return "Hello World!";
    }

    public ActionResult LayoutTemplates()
    {
        return View();
    }
} 
```

任何访问“PlayerGroup/LayoutTemplates”的尝试都不起作用（只会出现“未找到”错误）

然后我把这个文件移到了`App_Code`，它工作正常。我很高兴我得到了一些工作，但我宁愿遵循控制器类位于名为`Controllers`.

我可以在某处设置一些神奇的设置，以便它开始识别`Controllers`为代码文件夹吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-18T05:55:18.293

如果项目配置为网站项目，则所有代码文件 (*.cs) 必须位于 ~/App_Code 或其子文件夹中。如果项目是 Web 应用程序项目，代码文件可以放在项目中的任何位置，并由 VS 编译成一个 DLL，该 DLL 最终位于 ~/bin 目录中，然后由 ASP.NET 加载。

MVC 专门针对 Web 应用程序项目 (WAP)，因此我建议创建一个新的 WAP 并将所有文件复制到其中，然后从那里开始。

# php - Jquery - 读取不同域的 iframe 的表数据

> ID：14930246
> 
> 赞同：0
> 
> 时间：2013-02-18T05:48:47.970
> 
> 标签：php, javascript, jquery, html

任何想法，页面从 iframe 中的不同域加载，其中包含一个表。我怎样才能得到那个表.. 使用任何语言，html，javascript，jquery，php 等..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T05:52:34.843

您可以在 PHP 中使用 CURL 来获取它 - 只需 curl iframe 正在加载的 url。这是开始做这种事情的简单指南（使用 PHP 抓取）。

[http://www.phpbuilder.com/columns/marc_plotz011410.php3](http://www.phpbuilder.com/columns/marc_plotz011410.php3)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T06:01:56.993

**编辑：**

您也可以在使用 PHP 发布表单后获取数据。试试这个：

```
$post = http_build_query(
    array(
        'var1' => 'some content',
        'var2' => 'doh'
    )
);

$opts = array('http' =>
    array(
        'method'  => 'POST',
        'header'  => 'Content-type: application/x-www-form-urlencoded',
        'content' => $post
    )
);

$context  = stream_context_create($opts);

$file = file_get_contents('http://example.com/submit.php', false, $context); 
```

`$file`现在包含对发布数据的响应。现在通过我在下面说的 simplehtmldom 解析它。

显然，由于跨域策略限制，它不会起作用。

如果你知道`src`iframe 的来源，你可以通过`CURL`或获取源`file_get_contents`，然后通过 DOM 结构读取以获取所需的表数据。

示例代码：

```
$file = file_get_contents( 'IFRAME_URL_HERE' ); 
```

获得源代码后，您可以使用名为 SimpleHTMLDom [http://simplehtmldom.sourceforge.net/的库轻松解析它](http://simplehtmldom.sourceforge.net/)

它可以像一两行代码一样为您提供所需的表格数据。（与 jQuery 非常相似的语法，只是用 PHP 编写的）。

如果您可以提供 iframe src 和您想要的表格数据，我可以给您一个工作示例。

希望能帮助到你。

# magento - Magento 自定义模块许可 - Magento Connect

> ID：14930250
> 
> 赞同：0
> 
> 时间：2013-02-18T05:49:41.963
> 
> 标签：magento, licensing, magento-1.7

我创建了一个自定义支付网关模块，它允许将特定银行的支付网关集成到一个人的 Magento 站点中。现在我想做的是将这个模块作为商业模块上传，以便其他人可以付费，下载并可以在他们的站点中使用它。

我的问题是我应该从下面使用哪种许可方法？商业模块是否需要遵循任何编码标准？是否需要采取其他程序？我应该如何进行？

![在此处输入图像描述](../Images/90aa165082b00fd0f8b8b1730315ecc5.png)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-18T05:57:23.527

大顺，用`Custom License`。然后，`License URL`您必须提供解释此许可证的自定义条款和条件的链接。如果您正在创建自定义条款，那么最好在您的网站上添加一个链接，例如 EULA（最终用户许可协议）？

例如它应该有什么，检查这个[http://magentools.com/eula/](http://magentools.com/eula/)

对于商业扩展，您需要提供一个链接，用户可以在该链接中导航以购买您的扩展。

您提供您的网站链接，您将在其中出售您的扩展程序。Magento 不出售您的扩展程序，它只是显示您的扩展程序并为买家提供指向您网站的链接。您将在 Magento（您的网站）之外处理付款，付款方式可以是任何东西，您将对其进行配置，Magento 不关心它，因为它超出了他们的范围。

最好的方法是配置您的付款方式，一旦付款完成，扩展程序将自动通过电子邮件发送给买家。如果您手动验证付款，请在扩展说明或您的条款中提及成功付款后需要 X 小时/天通过电子邮件发送扩展。

# java - 如何在 Jboss 中全局指定 html 页面？

> ID：14930252
> 
> 赞同：3
> 
> 时间：2013-02-18T05:49:55.223
> 
> 标签：java, jboss, jboss7.x, jboss5.x, jboss6.x

如果用户未被授权，我们有一个过滤器将用户重定向到 error.html。现在，我们将 error.html 页面保存在 WAR 中，但是有没有办法让 html 文件公开，以便每个 war 文件都可以访问这个错误页面？如果我们将这个 html 页面作为 jar 并保存在 server/default/lib 中，那就更好了。

这是过滤器中使用的示例。

```
`reqDespacher = request.getRequestDispatcher("error.html")`

```

并且访问网址是

```
http://localhost/Context_root/error.html 
```

任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T03:02:30.270

在 JBoss5 或 JBoss6 中，您可以复制并在您正在运行的服务器实例中定义此自`error.html`定义`/deployer/jbossweb.deployer/web.xml`。这将需要重新启动 JBoss 实例。错误代码 404 的示例：

```
<error-page>
            <error-code>404</error-code>
            <location><relative_path_to_error_html_file_under_jbossweb.deployer_folder></location>
</error-page> 
```

其次，不要像当前那样通过手动指定页面来重定向请求，而应该使用`<error-page>`and`<error-code>`部署指令来定义自定义错误页面。有关如何在 web.xml 上添加错误代码指令的详细示例，请参阅[指定默认错误页面中的 web-xml-in-servlet 。](https://stackoverflow.com/questions/7066192/specify-the-default-error-page-in-web-xml-in-servlet)

对于 JBoss AS7 全局错误页面配置，请查看[how-to-customize-jboss-as7-404-page](https://stackoverflow.com/questions/13476028/how-to-customize-jboss-as7-404-page)。

# jquery - 需要关于 jquery 确认框的帮助

> ID：14930259
> 
> 赞同：-4
> 
> 时间：2013-02-18T05:50:39.823
> 
> 标签：jquery

我需要一个自定义的 jquery 确认框，它看起来类似于 javascript 确认框。我需要在确认框中自定义字体（红色）吗？请帮助我并做必要的事情......！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T06:39:03.353

[在此处](http://jsfiddle.net/uCfJ3/1/embedded/result/)查看示例

```
$(document).ready(function() {
var $myDialog = $('<div></div>')
.html('You are going to open Facebook.com.<br/>Click OK to confirm.  Click Cancel to stop this action.')
.dialog({
    autoOpen: false,
    title: 'Confirm..?',
    buttons: {"OK": function() { 
                  $(this).dialog("close"); 
                  window.open('http://www.facebook.com');
                  return true;
             }, "Cancel": function() {
                  $(this).dialog("close");
                  return false;
             }
    }
});  

 $('#myOpener').click(function(e){
    return $myDialog.dialog('open');  
 });
}); 
```

[小提琴](http://jsfiddle.net/uCfJ3/1/)

# block - 如何从 NTFS 文件系统上的 MFT 获取文件的 LBA（逻辑块寻址）？

> ID：14930261
> 
> 赞同：0
> 
> 时间：2013-02-18T05:50:40.740
> 
> 标签：block, ntfs, addressing, ntfs-mft

我访问了 $MFT 文件并提取了文件属性。

给定来自 MFT 的文件属性，如何从 NTFS 文件系统上的 MFT 记录中获取文件的 LBA？

要计算 LBA，我知道文件的簇数。

可以用簇数来计算吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T03:07:28.977

我不完全确定你的问题——但如果你只是想在磁盘上找到文件的逻辑位置，有各种 IOCTL 可以实现这一点。

例如，MFT 文件记录：FSCTL_GET_NTFS_FILE_RECORD [http://msdn.microsoft.com/en-us/library/windows/desktop/aa364568(v=vs.85).aspx](http://msdn.microsoft.com/en-us/library/windows/desktop/aa364568(v=vs.85).aspx)

通过 HANDLE 在磁盘上的特定文件位置：FSCTL_GET_RETRIEVAL_POINTERS [http://msdn.microsoft.com/en-us/library/windows/desktop/aa364572(v=vs.85).aspx](http://msdn.microsoft.com/en-us/library/windows/desktop/aa364572(v=vs.85).aspx)

如果您尝试自己解析 NTFS，则需要遵循 $DATA 属性——这将始终是非常驻数据运行（除非它是可以驻留在 MFT 中的小文件）。Microsoft 的数据运行是包含在前两个半字节中的相当简单的数据结构，它们指定下一次数据运行的偏移量和长度。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-07-30T05:41:44.173

恕我直言，您应该通过做一些基本的算术而不是使用 IOCTL 和 FSCTL 来编写代码。您应该知道磁盘的大小和卷开始的偏移量（或使用 IOCTL_VOLUME_GET_VOLUME_DISK_EXTENTS 的每个范围）并将这些值存储在某处。然后只需将 LCN 乘以集群大小添加到磁盘上的范围的偏移量。

大多数时候你只需要处理一个范围。当您有多个范围时，您可以通过将 LCN 乘以集群的大小，然后按 IOCTL 返回的顺序减去 IOCTL 返回的每个范围的大小来确定集群的范围，如果下一个要减去的数字大于您当前的数字，则该特定 LCN 在该范围内。

# java - 泛型和静态内部类的问题

> ID：14930265
> 
> 赞同：0
> 
> 时间：2013-02-18T05:50:56.700
> 
> 标签：java, generics

所以我有一个使用泛型的类：

```
public class Deque<Item> implements Iterable<Item> 
```

在该类中，我有一个静态内部类，它也使用相同的泛型：

```
public static class Node<Item> {
        Node next; // pointer to next node
        Node prev; // pointer to previous node 
        Item data; // data contained in node

        public Node(Item item){
            this.data = item;
        }
    } 
```

麻烦的是，当我尝试将`data`使用 Item 泛型声明的内部变量中的变量的信息分配给在主类中使用 Item 泛型声明的变量时，如下所示：

```
Item data = oldNode.data; 
```

我收到以下错误：

```
type mismatch: cannot convert Object to Item. 
```

想法？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-18T05:59:24.333

你是如何声明 oldNode 的？

看看这个方法：

```
private void foo(Item item) {
    Node<Item> oldNode = new Node<Item>(item); // declaration using generics.
    Item data = oldNode.data; // compiles fine

    Node oldNode2 = new Node(item); // un-generic declaration. Compiler doesn't know if it's node a Node of something else.
    Item data = oldNode2.data; // compile error: type mismatch: cannot convert Object to item.
} 
```

您必须将 oldNode 声明为 a `Node<Item>`，以便编译器在后续代码中知道 oldNode.data 的类型为 Item。

# c# - 动态添加TextBox和Label后，DropDownList控件的SelectedIndexChanged事件不生效

> ID：14930267
> 
> 赞同：0
> 
> 时间：2013-02-18T05:51:01.713
> 
> 标签：c#, asp.net, dynamic-controls

我有三个`DropdownList`名字

1.  drp大学
2.  drp学院
3.  drpSupervisor

在我的页面中。如果列出的大学不足以供用户使用，则
In有一个大学列表，并且在最后一个索引中有 Others。像：`drpUniversity`

1.  美国大学，
2.  乔治华盛顿大学，
3.  佛罗里达医院健康科学学院
4.  和别的

现在，`drpUniversity_SelectedIndexChange`如果我在用户选择其他（或最后一个索引）时添加了 a`Label`和 a 。`TextBox`

**我的代码：**

```
 protected void drpUniversity_SelectedIndexChanged(object sender, EventArgs e)
 {
        if (IsPostBack)
        {
            if (drpUniversity.SelectedItem.Value.ToString() == "Others".ToString())
            {
                int rowcount = mytable.Rows.Count;
                HtmlTableRow row = new HtmlTableRow();
                row.ID = "tbl_row" + (rowcount + 1);
                HtmlTableCell cell1 = new HtmlTableCell();
                cell1.ID = "tbl_cell1" + (rowcount + 1);
                HtmlTableCell cell2 = new HtmlTableCell();
                cell2.ID = "tbl_cell2" + (rowcount + 1);
                cell1.Attributes["class"] = "contact";
                cell2.Attributes["class"] = "contact";
                TextBox tb = new TextBox();
                tb.ID = "tbQty" + (rowcount + 1);
                tb.Width = 276;
                Label lblotherUniver = new Label();
                lblotherUniver.ID = "lbluniversity";
                lblotherUniver.Text = "University Name";
                cell2.Controls.Add(lblotherUniver);
                cell1.Controls.Add(tb);
                row.Cells.Add(cell2);
                row.Cells.Add(cell1);
                mytable.Rows.Insert(8, row);
                mytable.DataBind();
            }
        }
  } 
```

**但是，问题是当它创建一个`TextBox`和一个`Lable`然后另一个`DropDownList`名为drpFaculty 和drpSupervisor 的`SelectedIndexChange`事件不起作用时。

在我的 drpSupervisor SelectedIndexChange 事件中有此代码：**

```
protected void drpSupervisor_SelectedIndexChanged(object sender, EventArgs e)
{
     txtSupervisorEmail.Text = drpSupervisor.SelectedItem.Value.ToString();
     txtSupervisorEmail.Visible = true;
} 
```

*从 drpUniversity 选择其他人后，这不起作用。
否则这是有效的。
请帮我解决这个问题。*

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T07:20:11.340

似乎您的代码中存在 javascript 错误。请检查浏览器中的 javascript 错误控制台。

# cordova - 如何为PhoneGap android准确实现FACEBOOK插件？

> ID：14930268
> 
> 赞同：3
> 
> 时间：2013-02-18T05:51:02.680
> 
> 标签：cordova, phonegap-plugins

我是PhoneGap的新手，我想知道PhoneGap android的facebook插件的确切程序。我只是想实现它并看看。我在线阅读了一些教程...它要求我从 facebook 开发人员网站下载 FBandroid SDK..我这样做并安装在以下路径中

```
adt-bundle-windows-x86\sdk\platform-tools 
```

用命令

```
adb install FBAndroid-2.0.apk 
```

在命令提示符中...我收到一条消息成功但是当我启动我的模拟器时...模拟器没有打开并且在我的 Eclipse 中的 Log cat 中...所有命令重新运行 2-3 小时..

或者

当我再次启动同一个模拟器时……它打开了，但我在模拟器主屏幕上找不到那个 F 符号。

**还请让我知道在此之前和之后的确切程序是什么？**

请指导我....

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T09:42:33.687

这是 facebook 插件在 android 和 iOS 上的完整指南。

[https://github.com/phonegap/phonegap-facebook-plugin](https://github.com/phonegap/phonegap-facebook-plugin)

按照步骤设置插件。

# java - Vaadin 与组件比例的相对大小？

> ID：14930271
> 
> 赞同：0
> 
> 时间：2013-02-18T05:51:45.600
> 
> 标签：java, vaadin

我正在制作一个 GridLayout，其中填充了一堆图片。GridLayout 本身设置为 SizeFull()，网格中的每个单独图像也是如此。

带有图片的网格位于另一个网格中，并且该网格设置了相对大小。

通过这种设置，图片网格保持在我想要的位置，适当地调整大小以适应它们应该的空间，但图片没有保持它们正确的正方形比例。他们随心所欲地挤压脂肪或瘦身。不过，我希望它们保留原始比例，因此它们会扩展以尽可能多地填充可用区域，同时保留这些比例。

如果我将宽度设置为 100%，或将高度设置为 100%，而另一个未定义，则它会保留比例，并适当扩展以适合设置为 100% 的那个，但另一个溢出嵌套网格之外布局在上部网格布局中的位置。

有人知道怎么做吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-27T08:27:58.133

您是否尝试将宽度和高度设置为百分比？因此，在 80 x 120 像素的图像上：

```
setWidth(66, Unit.PERCENTAGE) 
setHeight(100, Unit.PERCENTAGE) 
```

# android - 带有视图寻呼机的页面卷曲

> ID：14930279
> 
> 赞同：10
> 
> 时间：2013-02-18T05:52:21.597
> 
> 标签：android, opengl-es, android-viewpager, page-curl

我必须使用**Viewpager**实现**页面卷曲**，这样当用户滑动添加到视图寻呼机的布局时，就会产生页面卷曲效果。我已经下载[了 github.com/harism/android_page_curl](http://github.com/harism/android_page_curl)但它似乎只适用于图像，就像大多数其他实现一样。任何人都可以告诉我它的解决方法，以便我可以使用我拥有的视图执行页面卷曲添加到视图寻呼机？谢谢你。

 *** * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-11-20T08:49:23.590

你可以使用这个链接[https://github.com/MysticTreeGames/android-page-curl](https://github.com/MysticTreeGames/android-page-curl)

我希望这对你有帮助

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-04-23T13:08:56.587

此[链接](https://code.google.com/p/android-page-curl/)将帮助您。您可以在视图寻呼机的片段中使用 Page curl。**

# .htaccess - .htaccess 如果正则表达式不匹配如何重定向

> ID：14930282
> 
> 赞同：1
> 
> 时间：2013-02-18T05:52:37.177
> 
> 标签：.htaccess, mod-rewrite

如果正则表达式不匹配，我该如何进行重定向

```
RewriteEngine On    # Turn on the rewriting engine
RewriteRule    ^test/(admin)/([A-Z]{2}[0-9]{3})/(xml|json)$    http://localhost/username/index.php?type=$1&id=$2&format=$3  [L]
RewriteRule    ^test/(home|member)/([0-9]+)/(xml|json)$    http://localhost/username/index.php?type=$1&id=$2&format=$3  [L]
RewriteRule    ^test/.*$   http://localhost/username/error.php  [L] 
```

说如果 [AZ]{2}[0-9]{3} 不匹配，我将重定向到 error.php 页面，代码 id 声明无效输入，RewriteRule ^test/.*$ localhost/username/error.php [L] 这将是错误 url 路径的错误。

例子：

如果用户输入 localhost/username/test/admin/TA123/xml 这是有效的如果用户输入 localhost/username/admin/123/xmlll 这将重定向到 error.php 代码说 500 输入错误

如果用户输入 localhost/username/test/guest 这将重定向到 error.php 代码说 501 错误的 url

如果用户输入 localhost/username/test/home/TA123/xml 这将重定向到 error.php 代码说 502 输入错误

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-18T05:58:58.223

像这样的东西：

```
RewriteCond %{REQUEST_URI} ! ^[A-Z]{2}[0-9]{3}$
RewriteRule .* /error.php  [L] 
```

`RewriteCond`作为后续的守卫`RewriteRule`。

# c - 在 C 中打印整数数组（带循环）会产生意外的数字序列

> ID：14930284
> 
> 赞同：0
> 
> 时间：2013-02-18T05:52:46.637
> 
> 标签：c, arrays, printf

在我正在编写的程序中，我声明了这个变量：

```
 #define SIZE 5

 long  int clockNum [SIZE] = {98401, 526488, 765349, 34645, 127615}; 
```

如果我想打印它以便输出为：

```
098401
526488
765349
034645
127615 
```

我该怎么做？我尝试了下面的语句，但它似乎不起作用..

```
 for(i = 0; i < SIZE; i++)
    {

    printf ("%li\n",&clockNum[i]);
    }

    return(0); 
```

我得到的输出如下：

```
-1076048964
-1076048960
-1076048956
-1076048952
-1076048948 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-18T05:54:25.923

`&`从 printf中删除并让我们看看

```
for(i = 0; i < SIZE; i++)
{
   printf ("%li\n",clockNum[i]);
} 
```

这里`printf` `&`给出变量的地址值

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-18T05:56:27.327

从行中删除`&`符号，`printf ("%li\n",&clockNum[i]);`因为它给出了给定值的地址或变量而不是实际值。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-18T05:54:33.613

将您的呼叫更改`printf`为：`printf ("%li\n",clockNum[i]);`.

就像现在一样，您正在尝试打印地址而不是数字的值（但由于您传递的类型与您在格式字符串中指定的类型不匹配，结果是未定义的行为）。

如果您确实需要打印前导零以便所有值都显示为 6 位数字，您还需要将格式字符串更改为`%6.6li`.

# wpf - 在 WPF 中，如何处理在 KeyDown 事件中按住某个键后按下的修饰键？

> ID：14930290
> 
> 赞同：0
> 
> 时间：2013-02-18T05:53:11.663
> 
> 标签：wpf, keyboard, keyboard-events

我有一个 WPF 窗口，允许用户通过按箭头键四处移动。我通过挂钩 KeyDown 事件来做到这一点：

```
<Window ... KeyDown="Window_OnKeyDown"> 
```

按一下箭头键将窗口移动 1 个像素。显然，这很慢，所以我还允许用户按住 shift 键以更快地移动窗口，一次 5 个像素：

```
private void Window_OnKeyDown(object sender, KeyEventArgs e)
{
    var key = e.Key;
    var pixelAmount = e.KeyboardDevice.Modifiers == ModifierKeys.Shift ? 5 : 1;

    switch (key)
    {
        case Key.Up:
            Top = Top - pixelAmount;
            break;
        case Key.Down:
            Top = Top + pixelAmount;
            break;
        case Key.Left:
            Left = Left - pixelAmount;
            break;
        case Key.Right:
            Left = Left + pixelAmount;
            break;
    }
} 
```

`Shift`如果用户按下后跟箭头键，则此代码效果很好。`Shift`问题是，如果用户先按住箭头键，然后按下以加快移动速度，这将不起作用。这是因为`Window_OnKeyDown()`now 认为那`Shift`是活动键，并且 switch 语句是针对 Shift 键而不是已经按下的箭头键运行的。有谁知道我可以如何解决这种行为？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T06:44:11.603

如果用户在箭头键之后按下 Shift 键，e.Key 将变为 shift，因此此代码将不起作用。我能想到的唯一解决方案是使用

```
 bool Shift = (Keyboard.IsKeyDown(Key.LeftShift) || Keyboard.IsKeyDown(Key.RightShift)) 
```

并且要获取箭头键，您可以使用 Keyboard.IsKeyDown()，例如 Keyboard.IsKeyDown(Key.Up)

# java - 在 jar 文件中包含来自另一个应用程序的代码或参考代码的最简单方法是什么？

> ID：14930298
> 
> 赞同：0
> 
> 时间：2013-02-18T05:54:34.100
> 
> 标签：java, eclipse, ant, jar, compilation

我有一个命令行应用程序，我需要从另一个 jar 文件中引用它，我不想做的是将现有代码复制并粘贴到包含另一个应用程序源文件的项目中，因为这种方法会导致可维护性问题。

我考虑过执行以下操作：

1.  部署2个jar文件；将命令行应用程序作为进程运行（这种方法的问题是我不想处理孤立进程）。

2.  部署2个jar文件；使用反射调用命令行应用程序的主要方法。（我不确定这是一个好主意）。

3.  以某种方式引用包含命令行应用程序源代码的项目，并编写一个 ant 文件，将类文件复制到其他应用程序的 jar 文件中。

哪种方法最有意义？如果答案是 #3，我究竟需要如何设置 eclipse 项目和/或编写 ant 文件，以便我需要的类文件包含在新的 jar 文件中？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T06:08:08.620

在我看来，我更倾向于方法一。

假设您的命令行应用程序是 Jar1，而引用的第 3 方 jar 是 JAR2。只需将 JAR2 添加到类路径即可。就是这样。您可以从 Jar1 调用所有需要的类。由于它是一个命令行应用程序并且您不想处理孤儿进程，因此处理它的理想方法是，您应该从命令行应用程序处理它以杀死孤儿进程，类似于您在 finally 块中所做的事情尝试捕捉。

我对您的方法 2 迷失了方向，因为反射非常不鼓励/过时，因为在出​​现任何问题时很难调试

# c# - 拖动文本文件并在文本文件中打开文件

> ID：14930299
> 
> 赞同：0
> 
> 时间：2013-02-18T05:54:59.400
> 
> 标签：c#, drag-and-drop, listbox

我试图制作一个具有列表框和按钮的 C# 程序。我想要做的是拖动一个包含一组管道分隔字符串（例如，`test|2|3|4|1`）的文本文件并在列表框中显示文件内容。该按钮将用于清除列表框。有人可以推荐我如何做到这一点吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T06:13:44.593

For drag and drop you can do this:

```
// Drag and Drop Files to Listbox
private void listBox1_DragEnter(object sender, DragEventArgs e)
{
    if (e.Data.GetDataPresent(DataFormats.FileDrop, false))
        e.Effect = DragDropEffects.All;
    else
        e.Effect = DragDropEffects.None;
}

private void listBox1_DragDrop(object sender, DragEventArgs e)
{
    string[] files = (string[])e.Data.GetData(DataFormats.FileDrop, false);
    foreach (string fileName in files)
    {
       listBox1.Items.Add(fileName);  
    }
} 
```

For reading textfile you can go through this [solution](https://stackoverflow.com/questions/12967418/read-information-from-text-file-and-display-in-listbox)

# javascript - 带有 JS 的 link_to 上的 Rails 动态变量

> ID：14930305
> 
> 赞同：0
> 
> 时间：2013-02-18T05:55:39.323
> 
> 标签：javascript, ruby-on-rails, ruby-on-rails-3.2, link-to

我有表单来显示来自带有 js 的某个过滤器表单的所有列表，还有另一个按钮，该按钮指向同一控制器上的另一个操作，但仍然带有表单过滤器的值。对于 js 事情已经正确完成，但对于另一个按钮，我仍然感到困惑。

我的 BalanceTransactions 控制器：

```
def end_period
  #some coding
  respond_to do |format|
    format.html
    format.js
  end
end

def end_period_close
  year=params[:year]

  respond_to do |format|
    format.html { redirect to goal_path }
  end
end 
```

我的 end_period.html.erb：

```
<%= form_tag end_period_balance_transactions_path, :method => "get", :id => "headers_search" do %>
  <td><%= select_year(Date.today, :prompt => 'Choose year') %></td>
  <td><%= submit_tag "Check", :name => nil, :class => "btn btn-info", :remote => true %></td>
  <td><%= link_to "Close", nil, :id => "close_button", :class => "btn btn-danger" %></td>
<% end %>

<%= render :partial => 'end_period_table' %> 
```

当我单击 [Check] 按钮时，rails 会重新渲染部分，并且它可以很好地与过滤器配合使用。而且我仍然对如何为 [关闭] 按钮动态传递 [年份] 感到困惑。

我还尝试使用 balance_transactions.js.coffe，其中： $ ->
$("#close_button").click -> year = $("#date_year").val() $.get("end_period_close", {年：年 })

抱歉问题和语法不好，第一次发帖。

感谢和尊重， 克里斯托诺 Sugiarto

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T06:02:06.930

试试这个

```
$ ->
  $('#close_button').click ->
    $.ajax
      url: 'your url here' # appending .erb to the filename gives you access to named routes
      data:
        year: $('#date_year').val() 
```

# java - java中的GroupLayout重不重？

> ID：14930315
> 
> 赞同：-1
> 
> 时间：2013-02-18T05:56:38.133
> 
> 标签：java, swing, layout

我有兴趣知道组布局很重，而与边框、流、网格和框等两种或多种布局的组合相比。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T06:03:31.283

这太抽象了，它取决于两种情况下元素的确切组合。

尝试通过分析它们来比较这两种情况，有几个很好的 java 分析工具，如[Yourkit](http://yourkit.com/)或[JMeter](http://jmeter.apache.org/)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-18T06:30:22.837

GroupLayout 使用两种类型的排列——顺序排列和并行排列，并结合了层次结构。

通过顺序排列，组件只需一个接一个地放置，就像 BoxLayout 或 FlowLayout 沿一个轴所做的那样。每个组件的位置被定义为相对于前一个组件。第二种方式将组件平行放置——在同一空间中彼此重叠。它们可以沿垂直轴基线、顶部或底部对齐。沿着水平轴，如果组件大小不同，它们可以左对齐、右对齐或居中对齐。通常，在一个维度中平行放置的组件在另一个维度中是按顺序排列的，因此它们不会重叠。

这两种安排的强大之处在于它们可以分层嵌套。为此，GroupLayout 定义了布局组。一个组要么是顺序的，要么是并行的，并且可能包含组件、其他组和间隙。

顺序组的大小是包含元素大小的总和，并行组的大小对应于最大元素的大小（尽管，根据元素和基线所在的位置，基线的大小-aligned group 可能比最大元素稍大）。

定义布局意味着定义如何通过组合顺序和并行排列来对组件进行分组。

# regex - 正则表达式匹配一系列连续单词，除了最后一个空格外，还有空格

> ID：14930320
> 
> 赞同：2
> 
> 时间：2013-02-18T05:57:19.773
> 
> 标签：regex

我有一个单词列表，我想匹配这些单词的任何组合。假设我有单词`apple`，`orange`并且`mango`我正在使用以下字符串：

```
This place has the best apple pie. They also have orange, apple and mango-apple smoothie ... 
```

我到目前为止的正则表达式是`\b((apple|orange|mango)[\s-(,\s)]*)+`

它匹配正确的单词组合，但还匹配序列末尾的额外空格。我得到的比赛：

```
"apple "
"orange, apple "
"mango-apple " 
```

我知道为什么会这样。如何更改正则表达式以摆脱最后的最后一个空格？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-18T06:02:50.797

最后添加 a`\b`似乎对我有用。此外，`-`放在方括号中时应该放在最后。因此，您需要做的就是将您的正则表达式更改为：`\b((apple|orange|mango)[\s(,\s)-]*)+\b`

编辑：

根据您的评论，我已经尝试过：`\b((apple|orange|mango)([\s,-]+(apple|orange|mango))*)+\b`。您当前的正则表达式的问题在于，您还在末尾添加了空格，以便您可以匹配`apple mango`例如。

我建议的正则表达式应该匹配空格、破折号或逗号当且仅当它们后跟单词`apple`,`orange`或`mango`.

# php - 保存排序顺序并填充排序记录 jquery UI Sortable

> ID：14930324
> 
> 赞同：0
> 
> 时间：2013-02-18T05:57:28.400
> 
> 标签：php, jquery, jquery-ui, jquery-ui-sortable

嗨，我正在使用`jquery ui sortable`对我的 div 进行排序。我可以将 div oder 保存在数据库中，这是我的代码

```
<div style="margin:0 auto !important;">
    <ul id="sortable1" class="connectedSortable">
        <li id="one_1" class="ui-state-default"><div>Item 1</div></li>
        <li id="one_2" class="ui-state-default"><div>Item 2</div></li>
        <li id="one_3" class="ui-state-default"><div>Item 3</div></li>
        <li id="one_4" class="ui-state-default"><div>Item 4</div></li>
        <li id="one_5" class="ui-state-default"><div>Item 5</div></li>
    </ul>

    <ul id="sortable2" class="connectedSortable">
        <li id="two_1" class="ui-state-highlight"><div>Item 1</div></li>
        <li id="two_2" class="ui-state-highlight"><div>Item 2</div></li>
        <li id="two_3" class="ui-state-highlight"><div>Item 3</div></li>
        <li id="two_4" class="ui-state-highlight"><div>Item 4</div></li>
        <li id="two_5" class="ui-state-highlight"><div>Item 5</div></li>
    </ul>
</div>

<script type="text/javascript">
  jQuery(function() {

    var sortable1 = 'one_1,one_2,one_3,one_4,one_5';
    var sortable2 = 'two_1,two_2,two_3,two_4,two_5';

    jQuery( "#sortable1, #sortable2" ).sortable({
        update: function(event, ui) {

            var newOrder = jQuery(this).sortable('toArray').toString();
            if(jQuery(this).attr('id')=="sortable1"){
                sortable1 = newOrder;
            }
            else {
                sortable2 = newOrder;
            }

            console.log(sortable1);
            console.log(sortable2);
        }

    }).disableSelection();
  });
  </script> 
```

我可以正确地将排序的 div 顺序保存到 DB，但我不知道如何填充 div 以再次更正顺序。请帮我 。提前致谢 。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T06:51:43.330

与其将排序顺序作为逗号分隔值保存到数据库`1,2,3,4,5`，不如只保存“排序列”，例如`#sortable1`，当您加载 div 时，您只需将此值传递给您的 js 逻辑。

例子：

如果您将排序列名称保存在数据库中，`#sortable1`那么`#sortableN`您最终会得到

```
 var newOrder = jQuery(this).sortable('toArray').toString();
    if(jQuery(this).attr('id')== "<% $your_php_variable %>"){
        sortable1 = newOrder;
    }
    else {
        sortable2 = newOrder;
    } 
```

我不确定你是如何将 php 变量传递给 UI 的，这就是我放置的`<% $your_php_variable %>`. 在您的 php 代码中的某个时刻，您将设置`$your_php_variable = '#sortableX';`

# html - 如何在滑块中居中对象

> ID：14930326
> 
> 赞同：0
> 
> 时间：2013-02-18T05:57:56.713
> 
> 标签：html, css

我这里有一个演示：[DEMO](http://helios.hud.ac.uk/u0867587/Mobile_app/Text44.php)

您应该能够看到显示在滑块中的音频播放器。我遇到的问题是我不知道如何将音频播放器置于滑块的中间。如何实现这一点，我希望它适用于所有浏览器：

下面是显示滑块和链接到音频播放器本身的 iframe 的代码：

```
<style>
    #galleriaaudio_<?php echo $key; ?>{ width: 550px; height: 200px; background: #000; }
</style>

 <div id="galleriaaudio_<?php echo $key; ?>">
<?php
foreach ($arrAudioFile[$key] as $a) { ?>

<a href="audio.php?key=<?php echo $key; ?>&j=<?php echo $j; ?>&a=<?php echo $a; ?>"><img class="iframe" src="Images/audiothumbnail.png"></a>

<?php $j++; ?>
<?php } ?>
</div><br/>

         <script type="text/javascript">

            Galleria.loadTheme('jquery/classic/galleria.classic.min.js');
            Galleria.run('#galleriaaudio_<?php echo $key; ?>');

          </script> 

    <?php

} 
```

我使用 Galleria 作为我的滑块，如果您想查看，可以在此处找到文档：http: [//galleria.io/docs/](http://galleria.io/docs/)

更多信息：

我只希望滑块中的音频播放器在滑块中居中。

下面是完整代码，如果没有音频则显示空白，如果有一个音频则在页面上显示单个音频播放器（即下面的大部分代码），如果多个音频播放器则显示在 slder 中。这是针对每个问题的，即使我没有在下面的代码片段中包含每个问题的循环：

```
 //start:procedure audio
        $aud_result = '';
        if(empty($arrAudioFile[$key])){
          $aud_result = '&nbsp;';
        }else{

$j = 0;
if(count($arrAudioFile[$key]) == 1){
foreach ($arrAudioFile[$key] as $a) { 

        $info = pathinfo('AudioFiles/'.$a); 
?>

<script type="text/javascript">   
    $(document).ready(function(){

$("#jquery_jplayer-<?php echo $key.'-'.$j; ?>").jPlayer({
    ready: function () {
      $(this).jPlayer("setMedia", {
        <?php echo $info['extension'];?>: "<?php echo "AudioFiles/".$a; ?>"
      });
      $(this).bind($.jPlayer.event.play, function() { 
          $(this).jPlayer("pauseOthers");
        });
    },
    cssSelectorAncestor: "#jp_container_<?php echo $key.'-'.$j; ?>",
    cssSelectorAncestor: "#jp_interface_<?php echo $key.'-'.$j; ?>",
    solution:"flash,html",
    swfPath: "jquery",
    supplied: "<?php echo $info['extension'];?>"
});
}); 
</script>
  <div id="jquery_jplayer-<?php echo $key.'-'.$j; ?>" class="jp-jplayer"></div>
  <div id="jp_container_<?php echo $key.'-'.$j; ?>" class="jp-audio">
    <div class="jp-type-single">
      <div class="jp-gui jp-interface" id="jp_interface_<?php echo $key.'-'.$j; ?>">
        <ul class="jp-controls">
          <li><a href="javascript:;" class="jp-play" tabindex="1">play</a></li>
          <li><a href="javascript:;" class="jp-pause" tabindex="1">pause</a></li>
          <li><a href="javascript:;" class="jp-stop" tabindex="1">stop</a></li>
          <li><a href="javascript:;" class="jp-mute" tabindex="1" title="mute">mute</a></li>
          <li><a href="javascript:;" class="jp-unmute" tabindex="1" title="unmute">unmute</a></li>
          <li><a href="javascript:;" class="jp-volume-max" tabindex="1" title="max volume">max volume</a></li>
        </ul>
        <div class="jp-progress">
          <div class="jp-seek-bar">
            <div class="jp-play-bar"></div>
          </div>
        </div>
        <div class="jp-volume-bar">
          <div class="jp-volume-bar-value"></div>
        </div>
        <div class="jp-time-holder">
          <div class="jp-current-time"></div>
          <div class="jp-duration"></div>
          <ul class="jp-toggles">
            <li><a href="javascript:;" class="jp-repeat" tabindex="1" title="repeat">repeat</a></li>
            <li><a href="javascript:;" class="jp-repeat-off" tabindex="1" title="repeat off">repeat off</a></li>
          </ul>
        </div>
      </div>
    </div>
  </div>
<?php
}
}else if(count($arrAudioFile[$key]) > 1){

    ?>

<style>
    #galleriaaudio_<?php echo $key; ?>{ width: 550px; height: 200px; background: #000; margin:0; }
</style>

 <div id="galleriaaudio_<?php echo $key; ?>">
<?php
foreach ($arrAudioFile[$key] as $a) { ?>

<a href="audio.php?key=<?php echo $key; ?>&j=<?php echo $j; ?>&a=<?php echo $a; ?>"><img class="iframe" src="Images/audiothumbnail.png"></a>

<?php $j++; ?>
<?php } ?>
</div><br/>

         <script type="text/javascript">

            Galleria.loadTheme('jquery/classic/galleria.classic.min.js');
            Galleria.run('#galleriaaudio_<?php echo $key; ?>');

          </script> 

    <?php

}

}
//end:procedure audio 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T06:12:45.363

您可以通过添加`margin: 0 auto`到要居中的元素来居中。

```
.jp-audio {
  margin: 0 auto;
} 
```

请注意，这只适用于元素是块元素并且具有设定宽度的情况。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T06:16:20.487

应用这些样式，它应该工作

```
div.jp-audio {
margin: auto !important;
width: 85% !important; 
```

}

# groovy - 打破 Groovy 中的每个循环

> ID：14930328
> 
> 赞同：0
> 
> 时间：2013-02-18T05:58:35.787
> 
> 标签：groovy

如果满足特定条件，我将如何打破循环？

我的输入文件大约有 n 行。如果在第 m 行获得所需的信息，我需要中断循环而不是读取剩余的行。

```
new File("test.txt").readLines().reverseEach{line ->
   println line

   if(line.contains("Data"))
   break;
 } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-18T07:10:47.997

你可以`find`用来做这个。Find 在闭包第一次返回时结束循环`true`并返回最后找到的元素。

这个

```
(1..20).find{
    println it
    it == 5
} 
```

将是 groovy 控制台中的以下内容。

```
1
2
3
4
5
Result: 5 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T06:16:38.943

你不能只是打破封闭。您可以抛出异常并退出它，或者根本不使用闭包。读取数组/列表中的所有行并遍历它。

# jenkins - 查找 Jenkins 节点的 IP

> ID：14930329
> 
> 赞同：70
> 
> 时间：2013-02-18T05:58:38.057
> 
> 标签：jenkins

Windows 从节点通过“Java web start”连接到 Jenkins 服务器。节点的系统信息没有它的 IP 地址。

我必须遍历我们拥有的所有从节点，并找到哪台机器（IP 地址）对应于 Jenkins 中的从节点。

有没有办法从 Jenkins 本身找到从节点的 IP 地址？

* * *

## 回答 #1

> 赞同：77
> 
> 时间：2013-02-18T05:58:38.057

通过节点的脚本控制台（*Manage Jenkins* -> *Nodes* -> *Select a node* -> *Script Console*）我们可以执行groovy脚本。运行以下命令以获取 IP 地址。

```
println InetAddress.localHost.canonicalHostName 
```

* * *

## 回答 #2

> 赞同：26
> 
> 时间：2016-09-28T16:04:13.097

找出 IP的最**有效**且与**平台无关的方法可能****是 master 上**的“全局”脚本控制台的以下**常规代码**：

 **```
import hudson.model.Computer.ListPossibleNames

def node = jenkins.model.Jenkins.instance.getNode( "myslave" )
println node.computer.getChannel().call(new ListPossibleNames()) 
```

在控制台中，这会产生（例如）

```
Result
[192.168.0.17] 
```

结果是一个字符串列表，因为一台机器上可能有多个 IP 地址。

由于这不需要*特定于节点的*控制台，因此很容易在覆盖***所有*****节点****的代码周围添加一个循环***。*

 ** * *

## 回答 #3

> 赞同：18
> 
> 时间：2015-05-07T17:07:47.620

要在非 Windows 詹金斯奴隶上回答同样的问题：

获取 IP 地址：

```
println "ifconfig".execute().text 
```

获取主机名：

```
println "hostname".execute().text 
```

* * *

## 回答 #4

> 赞同：12
> 
> 时间：2018-11-19T19:16:06.603

## 从 Web 界面

转到节点的`Log`链接：

[http://jenkins.mycompany.com:8080/computer/my_node_name/log](http://jenkins.mycompany.com:8080/computer/%3Cnode_name%3E/log)

第一行应该是这样的：

```
JNLP agent connected from /10.11.12.123 
```

### 截屏

[![截屏](../Images/ea91f63e5ef4c2478e599690e0647564.png)](https://i.stack.imgur.com/PJ4sf.png)

* * *

## 回答 #5

> 赞同：7
> 
> 时间：2019-02-18T19:57:44.020

这与 deepak 解释的非常相似，但我在简短的步骤中添加了图像。

在 Jenkins 用户界面中单击：

管理 Jenkins -> 节点 -> 选择一个节点 -> 脚本控制台

然后运行 ​​println InetAddress.localHost.canonicalHostName

[![在此处输入图像描述](../Images/43abbbb36607213449ef04132df565e1.png)](https://i.stack.imgur.com/99wM2.png)

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2017-02-27T23:43:06.493

要获取 Windows 从站上的 ip：

导航到脚本控制台（*管理 Jenkins* ->*节点*->*选择一个节点*->*脚本控制台*）

```
println "ipconfig".execute().text 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2016-09-15T05:26:44.437

在你的 Jenkins 工作中，如果它在 groovy 中，或者回显 ifonfig sh "/sbin/ifconfig -a | grep inet"

* * *

## 回答 #8

> 赞同：-1
> 
> 时间：2018-05-24T15:08:19.047

也可以通过 Jenkins UI 找到：Manage Jenkins --> Manage Nodes --> 点击 Node name --> Configure

这应该显示该节点的公共和私有 IP 地址***

# c# - 异步等待最佳实践

> ID：14930331
> 
> 赞同：5
> 
> 时间：2013-02-18T05:58:45.383
> 
> 标签：c#, .net, asynchronous, frameworks, async-await

我已经掌握了异步等待的概念并且偶尔使用它，但是对于最佳实践确实有几个问题。

1.  是否可以在 while(condition) 循环中使用 await 来继续获取可能存在的数据，直到 while 条件发生变化，例如 stopProcessingMessages = false。

2.  在诸如 winforms 之类的应用程序中，当 UI 在其线程上运行时，在诸如单击按钮之类的操作上使用 async/await 相当简单，但是如果我想在整个控制台应用程序甚至是窗口中强制执行异步操作呢？服务。最初启动第一个等待任务的最佳实践是什么，是 Task.Run (() => ... )？

我希望我的第二个问题是有意义的。我想充分利用异步并充分利用它，但只需要了解如何在初始异步操作冒泡到所有其他异步功能之前启动它。

抱歉，我在火车上使用智能手机时没有使用正确的代码块。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-18T12:54:11.470

> 我已经掌握了异步等待的概念并且偶尔使用它，但是对于最佳实践确实有几个问题。

我有一篇[介绍`async`/`await`博客文章](http://blog.stephencleary.com/2012/02/async-and-await.html)，它比大多数介绍更详细，还介绍了几个最佳实践。

> 是否可以在 while(condition) 循环中使用 await 来继续获取可能存在的数据，直到 while 条件发生变化，例如 stopProcessingMessages = false。

你想避免紧密的循环。所以`while (condition) GetDataIfPresent();`会消耗大量的CPU。

或者，您可以使用`async`返回`null`（或其他） if `stopProcessingMessages`is的方法`true`。在这种情况下，您的代码将是`while (true)`，并且更类似于 TAP 的解决方案是使用`CancellationSource`而不是标志。

另请查看[TPL Dataflow](http://msdn.microsoft.com/en-us/devlabs/gg585582.aspx)；听起来它可能对您的情况有用。

> 控制台应用程序，甚至是 Windows 服务。最初启动第一个等待任务的最佳实践是什么

对于控制台应用程序，您可以`Wait`执行顶级任务。这是通常准则的可接受例外（即 to`await`而不是`Wait`）。`Wait`ing 将在控制台应用程序的持续时间内烧毁一个线程，但这通常不足以保证更复杂的解决方案。如果您确实想为您的控制台应用程序安装单线程上下文，您可以[`AsyncContext.Run`](http://nitoasyncex.codeplex.com/wikipage?title=AsyncContext)从我的[AsyncEx 库](http://nitoasyncex.codeplex.com/)中使用。

对于 Win32 服务，您通常[需要启动自己的线程](http://blogs.msdn.com/b/bclteam/archive/2009/02/19/in-depth-how-net-managed-services-interact-with-the-servicecontrolmanager-scm-kim-hamilton.aspx)。您可以`Task.Run`为此使用（如果您想要多线程上下文），也可以`AsyncContextThread`从 AsyncEx 使用（如果您想要单线程上下文）。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-18T06:15:15.327

早上好，

我宁愿在第一个场景中使用 TaskCreationOption 设置为“LongRunning”的常规任务，而不是异步/等待模式。这样，您的整个 while 块将在一个长时间运行的任务中执行。在每个 while 循环中使用 await 时，您将在每个循环中开始一个新任务 - 会起作用，但它可能不是那么理想；-)

关于你的第二个问题，我很抱歉，但我不明白你的意思。

希望这可以帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-18T06:20:08.963

使用循环来保留可能存在的数据是不合适的。您可以创建一个异步调用，完成后将自动调用回调方法。在这种情况下，“等待”阶段将发生在操作系统机制中以最佳方式处理正在使用的操作系统的等待阶段。

在这里查看以进一步研究该主题：http: [//msdn.microsoft.com/en-us/library/vstudio/hh191443.aspx](http://msdn.microsoft.com/en-us/library/vstudio/hh191443.aspx)

# grails - 如何配置 AtmosphereHandlerService：未找到 AtmosphereHandler 消息？

> ID：14930336
> 
> 赞同：0
> 
> 时间：2013-02-18T05:59:07.033
> 
> 标签：grails, websocket, comet, atmosphere

我动态地创建气氛处理器。在服务器重新启动的情况下，由于创建的处理程序丢失，我得到“未找到 AtmosphereHandler”异常。我想配置此消息，并将其发送给客户端，以便客户端可以发送请求以重新创建新的处理程序。我怎样才能做到这一点？

# java - 为 FindsByCssSelector 获取 HtmlUnitDriver 异常 NoClassDefFoundError

> ID：14930342
> 
> 赞同：0
> 
> 时间：2013-02-18T05:59:50.510
> 
> 标签：java, htmlunit

嗨，我正在使用 Java 并且正在使用 HtmlUnitDriver。我已经创建了对象

```
 `WebDriver webDriver = new HtmlUnitDriver(true);` 
```

我正在使用 selenium-htmlunit-driver-2.24.1.jar 和 selenium-java-2.24.1.jar。

当我运行我的代码时，我遇到了以下异常。

```
 Exception in thread "Thread-5" java.lang.NoClassDefFoundError: org/openqa/selenium/internal/FindsByCssSelector
    at java.lang.ClassLoader.defineClass1(Native Method)
    at java.lang.ClassLoader.defineClassCond(ClassLoader.java:631)
    at java.lang.ClassLoader.defineClass(ClassLoader.java:615)
    at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:141)
    at java.net.URLClassLoader.defineClass(URLClassLoader.java:283)
    at java.net.URLClassLoader.access$000(URLClassLoader.java:58)
    at java.net.URLClassLoader$1.run(URLClassLoader.java:197)
    at java.security.AccessController.doPrivileged(Native Method)
    at java.net.URLClassLoader.findClass(URLClassLoader.java:190)
    at java.lang.ClassLoader.loadClass(ClassLoader.java:306)
    at java.lang.ClassLoader.loadClass(ClassLoader.java:247) 
```

请指导我如何解决这个问题。如果这个异常有 jar，那么我应该使用哪个 Jar？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T07:27:24.837

确保所有相关的 jar（例如包和库 jar）都在类路径中。复制 jar 后，请务必清理并重新编译项目。

[您可以使用 jar 搜索引擎查找缺少的类的 jar。][1] [http://www.jarvana.com/jarvana/search?search_type=class&java_class=org.openqa.selenium.internal.FindsByCssSelector][1 ]

注意：始终建议使用官方发布的 jar，因为版本差异可能导致兼容性问题。

# java - 用于在 Logback 中压缩日志文件的单独线程？

> ID：14930343
> 
> 赞同：4
> 
> 时间：2013-02-18T05:59:51.937
> 
> 标签：java, performance, logging, logback

在 Logback 中，我们可以配置为： 1 当日志文件的大小达到 50MB 左右时，旋转文件并压缩它。所以我想知道它会在一个单独的线程中进行压缩，它会有任何性能问题吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-18T07:38:29.733

我调查了 logback-1.0.3。让我们考虑用例：

1.  您在代码中调用[Logger#error(String)](http://grepcode.com/file/repo1.maven.org/maven2/ch.qos.logback/logback-classic/1.0.3/ch/qos/logback/classic/Logger.java#Logger.error%28java.lang.String%29)。
2.  您的数据根据​​ Logger 配置[过滤。](http://grepcode.com/file/repo1.maven.org/maven2/ch.qos.logback/logback-classic/1.0.3/ch/qos/logback/classic/Logger.java#Logger.filterAndLog_0_Or3Plus%28java.lang.String%2Corg.slf4j.Marker%2Cch.qos.logback.classic.Level%2Cjava.lang.String%2Cjava.lang.Object%5B%5D%2Cjava.lang.Throwable%29)
3.  [将在buildLoggingEventAndAppend](http://grepcode.com/file/repo1.maven.org/maven2/ch.qos.logback/logback-classic/1.0.3/ch/qos/logback/classic/Logger.java#Logger.buildLoggingEventAndAppend%28java.lang.String%2Corg.slf4j.Marker%2Cch.qos.logback.classic.Level%2Cjava.lang.String%2Cjava.lang.Object%5B%5D%2Cjava.lang.Throwable%29)和[callApenders](http://grepcode.com/file/repo1.maven.org/maven2/ch.qos.logback/logback-classic/1.0.3/ch/qos/logback/classic/Logger.java#Logger.callAppenders%28ch.qos.logback.classic.spi.ILoggingEvent%29)之后调用[Appenders](http://grepcode.com/file/repo1.maven.org/maven2/ch.qos.logback/logback-core/1.0.3/ch/qos/logback/core/spi/AppenderAttachableImpl.java#AppenderAttachableImpl.appendLoopOnAppenders%28java.lang.Object%29)
4.  [在您的情况下，将在OutputStreamAppender](http://grepcode.com/file/repo1.maven.org/maven2/ch.qos.logback/logback-core/1.0.3/ch/qos/logback/core/OutputStreamAppender.java#OutputStreamAppender.append%28java.lang.Object%29)中调用 append 方法。
5.  基于触发器的[RollingFileAppender](http://grepcode.com/file/repo1.maven.org/maven2/ch.qos.logback/logback-core/1.0.3/ch/qos/logback/core/rolling/RollingFileAppender.java#RollingFileAppender.subAppend%28java.lang.Object%29)将在事件触发时 调用[翻转。](http://grepcode.com/file/repo1.maven.org/maven2/ch.qos.logback/logback-core/1.0.3/ch/qos/logback/core/rolling/FixedWindowRollingPolicy.java#FixedWindowRollingPolicy.rollover%28%29)
6.  在翻转方法中将调用[适当的压缩方法](http://grepcode.com/file/repo1.maven.org/maven2/ch.qos.logback/logback-core/1.0.3/ch/qos/logback/core/rolling/helper/Compressor.java#Compressor.compress%28java.lang.String%2Cjava.lang.String%2Cjava.lang.String%29)。

如您所见，所有内容都将被记录并压缩在与记录数据相同的线程中。因此，您不应该登录时间关键线程。

就个人而言，我认为登录同一个线程对于大多数应用程序来说并不重要，但这很大程度上取决于您的环境、性能要求等

如果要异步记录数据，可以使用[AsyncAppender](http://logback.qos.ch/manual/appenders.html#AsyncAppender)。在这种情况下，压缩也将在单独的线程中。

# html - 垂直菜单在 Opera 中水平显示

> ID：14930345
> 
> 赞同：1
> 
> 时间：2013-02-18T06:00:01.733
> 
> 标签：html, css, opera

所以我有一个在 Firefox 和 chrome 中正确显示的垂直菜单。但是，它在 Opera 中显示为水平的。我真的认为这只是代码中的一个简单调整，但我似乎无法缩小范围！

```
#liststyle2 {
    border-top-left-radius: 5px;
    border-top-right-radius: 5px;
    border-bottom-right-radius: 5px;
    border-bottom-left-radius: 5px;
    -webkit-border-top-left-radius: 5px;
    -webkit-border-top-right-radius: 5px;
    -webkit-border-bottom-right-radius: 5px;
    -webkit-border-bottom-left-radius: 5px;
    -moz-border-radius-topleft: 5px;
    -moz-border-radius-topright: 5px;
    -moz-border-radius-bottomright: 5px;
    -moz-border-radius-bottomleft: 5px;
    border: 1px solid #c7c7c7;
    background-color: #ececec;
    float: left;
    text-decoration: none;
    list-style-type: none;
    list-style: none;
    display: block;
    margin: 20px 0 0 0;
}

#liststyle2 li {
    text-decoration: none;
    position: relative;
}

#liststyle2 li a {
    padding: 17px 25px 15px 25px;
    font-size: 15px;
    float: left;
    min-width: 77px;
    text-decoration: none;
    text-align: center;
    display: block;
    font-weight: bold;
    color: #a3a3a3;
    border-bottom: 1px solid #c7c7c7;
    text-decoration: none;
}

#liststyle2 li a:hover{
    background-color: #e2e1e1;
}

#liststyle2 li:last-child a{
    border-bottom: none;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T06:09:48.353

如果我有 html 代码会更好。

我认为您应该删除此选项：

```
#liststyle2 li a {
    float: left;
} 
```

如果您必须将这些浮动`li a`到左侧。您必须将`#liststyle2 li a`宽度设置为等于的宽度`#liststyle2`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T06:04:59.627

对于每个浏览器的引擎，需要不同的转换前缀。也添加以下内容：

```
-o-border-top-left-radius: 5px;
-o-border-top-right-radius: 5px;
-o-border-bottom-right-radius: 5px;
-o-border-bottom-left-radius: 5px; 
```

在你的`#liststyle2`.

阅读更多关于[Opera](http://www.opera.com/docs/specs/presto2.12/ "Opera Presto 2.12 中的 Web 规范支持")的文档。

# android - 来自 AsyncTask 的 Listview 的自定义适配器

> ID：14930347
> 
> 赞同：2
> 
> 时间：2013-02-18T06:00:12.340
> 
> 标签：android, android-listview, android-asynctask

我正在尝试从服务器上的 MySQL 数据库中获取作物列表，并使用该列表填充 ListView。下面是我的代码：

这是 AsyncTask 类：

```
 class GetCropsList extends AsyncTask<String, Integer, ArrayList<String>> {

        private final ProgressDialog dialog = new ProgressDialog(CropsListActivity.this);

        @Override
         protected void onPreExecute() {
                dialog.setMessage("Please Wait.");
                dialog.setCancelable(true); 
                dialog.show();
            }

         @Override
         protected ArrayList<String> doInBackground(String... params) {

             ArrayList<String> list = null;
                String Lang=params[0];
                Log.i("lang",Lang);
                try {
                     HttpClient httpclient = new DefaultHttpClient();
                     HttpPost httppost = new HttpPost("http://10.0.2.2/Farm_O_Pedia/GetCropsList.php");

                    List<NameValuePair> nameValuePairs = new ArrayList<NameValuePair>(1);
                    nameValuePairs.add(new BasicNameValuePair("LanguageName",Lang));     
                    httppost.setEntity(new UrlEncodedFormEntity(nameValuePairs));

                    HttpResponse res= httpclient.execute(httppost);
                    Log.i("HTTP ok", res.toString());
                    HttpEntity entity = res.getEntity();
                    input=entity.getContent();
                } 

                catch (Exception e) {

                    Log.i("HTTP Failed", e.toString());
                } 

                try{
                    BufferedReader reader = new BufferedReader(new InputStreamReader(input,"UTF-8"));
                    sb = new StringBuilder();
                    sb.append(reader.readLine() + "\n");

                    String line="0";
                    while ((line = reader.readLine()) != null) {
                                  sb.append(line + "\n");
                    }

                    input.close();
                    result=sb.toString();
                    Log.i("JsonObj",result);

                }
               catch(Exception e){
                          Log.e("log_tag", "Error converting result "+e.toString());
                }
                try {
                    jArray=new JSONArray(result);
                    JSONObject obj=null;
                    for(int i=0;i<jArray.length();i++)
                    {
                        obj=jArray.getJSONObject(i);
                        list.add(obj.getString("crop_name"));
                    }

                } catch (JSONException e) {

                    e.printStackTrace();
                }

                return list;
            }

         protected void onPostExecute(final ArrayList<String> p_result) {

             super.onPostExecute(p_result);          

            if (dialog.isShowing()) 
            {
                dialog.dismiss();
            }

                    ArrayAdapter<String> adapter = new ArrayAdapter<String>(CropsListActivity.this,
                            R.layout.crops_listview,p_result ) {

                 public View getView(int position, View convertView, ViewGroup parent) {
                         View v = super.getView(position, convertView, parent);

                         ((TextView) v).setTypeface(tf);
                         ((TextView) v).setText(p_result.get(position));
                         ((TextView) v).setTextColor(Color.WHITE);
                         return v;
                 }

            };

                CropsList.setAdapter(adapter);

      }

    } 
```

我还注意不要触摸 doBackground 中的 UI。我的日志是：

```
02-18 11:20:44.301: E/AndroidRuntime(597): FATAL EXCEPTION: AsyncTask #2
    02-18 11:20:44.301: E/AndroidRuntime(597): java.lang.RuntimeException: An error occured while executing doInBackground()
    02-18 11:20:44.301: E/AndroidRuntime(597):  at android.os.AsyncTask$3.done(AsyncTask.java:200)
    02-18 11:20:44.301: E/AndroidRuntime(597):  at java.util.concurrent.FutureTask$Sync.innerSetException(FutureTask.java:274)
    02-18 11:20:44.301: E/AndroidRuntime(597):  at java.util.concurrent.FutureTask.setException(FutureTask.java:125)
    02-18 11:20:44.301: E/AndroidRuntime(597):  at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:308)
    02-18 11:20:44.301: E/AndroidRuntime(597):  at java.util.concurrent.FutureTask.run(FutureTask.java:138)
    02-18 11:20:44.301: E/AndroidRuntime(597):  at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1088)
    02-18 11:20:44.301: E/AndroidRuntime(597):  at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:581)
    02-18 11:20:44.301: E/AndroidRuntime(597):  at java.lang.Thread.run(Thread.java:1019)
    02-18 11:20:44.301: E/AndroidRuntime(597): Caused by: java.lang.NullPointerException
    02-18 11:20:44.301: E/AndroidRuntime(597):  at com.example.farm_o_pedia.CropsListActivity$GetCropsList.doInBackground(CropsListActivity.java:170)
    02-18 11:20:44.301: E/AndroidRuntime(597):  at com.example.farm_o_pedia.CropsListActivity$GetCropsList.doInBackground(CropsListActivity.java:1)
    02-18 11:20:44.301: E/AndroidRuntime(597):  at android.os.AsyncTask$2.call(AsyncTask.java:185)
    02-18 11:20:44.301: E/AndroidRuntime(597):  at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:306)
    02-18 11:20:44.301: E/AndroidRuntime(597):  ... 4 more
    02-18 11:20:45.660: E/WindowManager(597): Activity com.example.farm_o_pedia.CropsListActivity has leaked window com.android.internal.policy.impl.PhoneWindow$DecorView@40529ed8 that was originally added here
    02-18 11:20:45.660: E/WindowManager(597): android.view.WindowLeaked: Activity com.example.farm_o_pedia.CropsListActivity has leaked window com.android.internal.policy.impl.PhoneWindow$DecorView@40529ed8 that was originally added here
    02-18 11:20:45.660: E/WindowManager(597):   at android.view.ViewRoot.<init>(ViewRoot.java:258)
    02-18 11:20:45.660: E/WindowManager(597):   at android.view.WindowManagerImpl.addView(WindowManagerImpl.java:148)
    02-18 11:20:45.660: E/WindowManager(597):   at android.view.WindowManagerImpl.addView(WindowManagerImpl.java:91)
    02-18 11:20:45.660: E/WindowManager(597):   at android.view.Window$LocalWindowManager.addView(Window.java:424)
    02-18 11:20:45.660: E/WindowManager(597):   at android.app.Dialog.show(Dialog.java:241)
    02-18 11:20:45.660: E/WindowManager(597):   at com.example.farm_o_pedia.CropsListActivity$GetCropsList.onPreExecute(CropsListActivity.java:116)
    02-18 11:20:45.660: E/WindowManager(597):   at android.os.AsyncTask.execute(AsyncTask.java:391)
    02-18 11:20:45.660: E/WindowManager(597):   at com.example.farm_o_pedia.CropsListActivity.onCreate(CropsListActivity.java:80)
    02-18 11:20:45.660: E/WindowManager(597):   at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
    02-18 11:20:45.660: E/WindowManager(597):   at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1611)
    02-18 11:20:45.660: E/WindowManager(597):   at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1663)
    02-18 11:20:45.660: E/WindowManager(597):   at android.app.ActivityThread.access$1500(ActivityThread.java:117)
    02-18 11:20:45.660: E/WindowManager(597):   at android.app.ActivityThread$H.handleMessage(ActivityThread.java:931)
    02-18 11:20:45.660: E/WindowManager(597):   at android.os.Handler.dispatchMessage(Handler.java:99)
    02-18 11:20:45.660: E/WindowManager(597):   at android.os.Looper.loop(Looper.java:123)
    02-18 11:20:45.660: E/WindowManager(597):   at android.app.ActivityThread.main(ActivityThread.java:3683)
    02-18 11:20:45.660: E/WindowManager(597):   at java.lang.reflect.Method.invokeNative(Native Method)
    02-18 11:20:45.660: E/WindowManager(597):   at java.lang.reflect.Method.invoke(Method.java:507)
    02-18 11:20:45.660: E/WindowManager(597):   at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)
    02-18 11:20:45.660: E/WindowManager(597):   at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)
    02-18 11:20:45.660: E/WindowManager(597):   at dalvik.system.NativeStart.main(Native Method) 
```

任何帮助都是不言而喻的。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-18T06:07:43.980

在做Background()

只是替换这个

```
 ArrayList<String> list = null; 
```

和

```
 ArrayList<String> list = new  ArrayList<String>(); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-18T06:07:58.473

你应该初始化 Arraylist，

替换 doInBackground 中的代码

```
 ArrayList<String> list = new ArrayList<String>(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-18T06:09:07.080

```
 protected void onPostExecute(final ArrayList<String> p_result) {
    try {
                    jArray=new JSONArray(result);
                    JSONObject obj=null;
                    for(int i=0;i<jArray.length();i++)
                    {
                        obj=jArray.getJSONObject(i);
                        list.add(obj.getString("crop_name"));
                    }

                } catch (JSONException e) {

                    e.printStackTrace();
                }

                return list;
            }
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-18T06:10:17.830

你 doInBackground() 中有些东西是空的。去调试检查它是什么。

# gdb - gdb 的 rwatch 的 lldb 等价物是什么？

> ID：14930350
> 
> 赞同：3
> 
> 时间：2013-02-18T06:00:23.577
> 
> 标签：gdb, lldb, watchpoint

我处于读取观察点非常方便的情况。查看 lldb 的帮助，我可以找到该`watchpoint`命令，但它似乎只支持写入观察点（公认的一般来说更有用，但在我的情况下不会这样做）。

我知道 gdb 有一个`rwatch`设置读取观察点的命令。lldb有什么等价物吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-18T10:00:29.733

`watch set variable|expression`两者都采用`-w`/`--watch`参数指定`write`（默认）`read`、 或`read_write`. 例如

```
(lldb) wa s v -w read myvar 
```

# objective-c - 渲染单个 UIImage 并且必须应用旋转

> ID：14930351
> 
> 赞同：-3
> 
> 时间：2013-02-18T06:00:31.250
> 
> 标签：objective-c, uiimage, drawing, core-graphics, image-rotation

我使用 CGContextDrawImage 渲染了几个 UIImage 对象。但是当我对图像应用旋转时，它没有应用并且视图消失了。 `code here`

-(void)renderImage: (ItemView *)array {

```
 NSArray *selectedImages =  self.slideView.selectedView.subviews;

CGSize combinedSize = CGSizeMake(0, 0);
for (int i = 0; i < [selectedImages count]; ++i) {
    CGSize sourceSize = [selectedImages[i] size];
    NSLog(@"sdfsd %f %f ", sourceSize.width, sourceSize.height);
    combinedSize.width = MAX(combinedSize.width, sourceSize.width);
    combinedSize.height += sourceSize.height;
}

   UIGraphicsBeginImageContextWithOptions(self.view.frame.size, NO, 0);
CGContextRef context = UIGraphicsGetCurrentContext();
{

    CGContextTranslateCTM(context, 0, 768);
    CGContextScaleCTM(context, 1,-1);

    for (int i = 0; i < [selectedImages count]; ++i) {
        UIImageView *imageview = selectedImages[i];
        UIImage *sourceImage = imageview.image;

        CGContextSaveGState(context);

        float radians1 = atan2(imageview.transform.a, imageview.transform.b);

       CGFloat angle = [(NSNumber *)[imageview valueForKeyPath:@"layer.transform.rotation.z"] floatValue];

        printf("\n radians %f",radians1);
        printf("\n angle %f",angle);

        CGContextRotateCTM(context, radians(angle));
        CGContextDrawImage(context, imageview.frame, imageview.image.CGImage);
        CGContextRestoreGState(context);

        //CGContextDrawImage(context, imageview.frame, imageview.image);

    }

}
UIImage *combinedImage = UIGraphicsGetImageFromCurrentImageContext();
UIGraphicsEndImageContext();

UIImageWriteToSavedPhotosAlbum(combinedImage, nil, nil, nil); 
```

}

谢谢，

任何帮助，将不胜感激

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T06:39:59.363

假设您有一组源图像：

```
NSArray *sourceImages = ...;
// each element of sourceImages is a UIImage 
```

现在你想`count`从数组中取出第一张图像并将它们垂直连接成一个新图像。首先计算组合图像的大小：

```
CGSize combinedSize = CGSizeMake(0, 0);
for (int i = 0; i < count; ++i) {
    CGSize sourceSize = [sourceImages[i] size];
    combinedSize.width = MAX(combinedSize.width, sourceSize.width);
    combinedSize.height += sourceSize.height;
} 
```

接下来，创建该大小的图形上下文：

```
UIGraphicsBeginImageContextWithOptions(combinedSize, NO, 0); { 
```

现在将每个组件图像绘制到适当位置的图形上下文中：

```
 CGFloat y = 0;
    for (int i = 0; i < count; ++i) {
        UIImage *sourceImage = sourceImages[i];
        [sourceImage drawAtPoint:CGPointMake(0, y)];
        y += sourceImage.size.height;
    } 
```

最后，从上下文创建组合图像并处理上下文：

```
}
UIImage *combinedImage = UIGraphicsGetImageFromCurrentImageContext();
UIGraphicsEndImageContext(); 
```

阅读[*iOS 绘图和打印指南*- 绘图和创建图像](http://developer.apple.com/library/ios/documentation/2ddrawing/conceptual/drawingprintingios/HandlingImages/Images.html#//apple_ref/doc/uid/TP40010156-CH13-SW1)了解更多信息。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T05:14:08.247

我破解了答案。@rob mayoff：非常感谢帮助我的人。

```
 code here 
```

//渲染图像组的代码，不包括在特定视图中选择的图像

-(void)renderImage: (ItemView *)selectedItem {

```
NSArray *selectedImages =  self.slideView.selectedView.subviews;
int selectedItemIndex = [selectedImages indexOfObject:selectedItem];
if(selectedItem.image==nil){
    [selectedItem loadImageFromFile];
}

// first set
UIGraphicsBeginImageContextWithOptions(self.slideView.selectedView.frame.size, NO, 0);
for (int i = 0; i < selectedItemIndex; ++i) {

    if([selectedImages[i] isKindOfClass:[ItemView class]]){

        ItemView *imageview = (ItemView *)selectedImages[i];
        CGAffineTransform transform = imageview.transform;
        imageview.transform = CGAffineTransformIdentity;

        UIImage *image = [[UIImage alloc] initWithContentsOfFile:imageview.filename];
        UIImageView *renderImageView = [[UIImageView alloc] initWithImage:image]; //[imageview copy];
        renderImageView.frame = imageview.frame;
        renderImageView.bounds = imageview.bounds;
        imageview.transform = transform;
        renderImageView.transform = transform;
        renderImageView.center = CGPointMake(imageview.frame.size.width/2,imageview.frame.size.height/2);
        UIView *view = [[UIView alloc] initWithFrame:renderImageView.frame];
        view.backgroundColor = [UIColor clearColor];
        [view addSubview:renderImageView];
        [renderImageView release];
        [image release];
        imageview.image = nil;

        UIGraphicsBeginImageContext(imageview.frame.size);
        CGContextRef context1 = UIGraphicsGetCurrentContext();
        [view.layer renderInContext:context1];
        UIImage *result = UIGraphicsGetImageFromCurrentImageContext();
        UIGraphicsEndImageContext();

        [view release];

        [result drawAtPoint:imageview.frame.origin];
    }

}
UIImage *combinedImage1 = UIGraphicsGetImageFromCurrentImageContext();
UIGraphicsEndImageContext();
//UIImageWriteToSavedPhotosAlbum(combinedImage1, nil, nil, nil);

if (groupBgImage1) {
    [groupBgImage1 removeFromSuperview];
    [groupBgImage1 release];
    groupBgImage1 = nil;
}
groupBgImage1 = [[UIImageView alloc] initWithImage:combinedImage1];
[self.slideView.selectedView insertSubview:groupBgImage1 belowSubview:selectedItem ];

// second set
UIGraphicsBeginImageContextWithOptions(self.slideView.selectedView.frame.size, NO, 0);
for (int i = selectedItemIndex+1; i < [selectedImages count]; ++i) {

    if([selectedImages[i] isKindOfClass:[ItemView class]]){
        ItemView *imageview = (ItemView *)selectedImages[i];
        CGAffineTransform transform = imageview.transform;
        imageview.transform = CGAffineTransformIdentity;

        UIImage *image = [[UIImage alloc] initWithContentsOfFile:imageview.filename];
        UIImageView *renderImageView = [[UIImageView alloc] initWithImage:image]; //[imageview copy];
        renderImageView.frame = imageview.frame;
        renderImageView.bounds = imageview.bounds;
        imageview.transform = transform;
        renderImageView.transform = transform;
        renderImageView.center = CGPointMake(imageview.frame.size.width/2,imageview.frame.size.height/2);
        UIView *view = [[UIView alloc] initWithFrame:renderImageView.frame];
        view.backgroundColor = [UIColor clearColor];
        [view addSubview:renderImageView];

        [renderImageView release];
        [image release];
        imageview.image = nil;

        UIGraphicsBeginImageContext(imageview.frame.size);
        CGContextRef context1 = UIGraphicsGetCurrentContext();
        [view.layer renderInContext:context1];
        UIImage *result = UIGraphicsGetImageFromCurrentImageContext();
        UIGraphicsEndImageContext();

        [view release];

        [result drawAtPoint:imageview.frame.origin];
    }

}
UIImage *combinedImage2 = UIGraphicsGetImageFromCurrentImageContext();
UIGraphicsEndImageContext();
UIImageWriteToSavedPhotosAlbum(combinedImage2, nil, nil, nil);

if (groupBgImage2) {
    [groupBgImage2 removeFromSuperview];
    [groupBgImage2 release];
    groupBgImage2 = nil;
}
groupBgImage2 = [[UIImageView alloc] initWithImage:combinedImage2];
[self.slideView.selectedView insertSubview:groupBgImage2 aboveSubview:selectedItem ]; 
```

}

# jakarta-ee - 实体类是JavaBean？

> ID：14930352
> 
> 赞同：1
> 
> 时间：2013-02-18T06:00:38.067
> 
> 标签：jakarta-ee, jpa, ejb, entity, javabeans

我是学习 Java EE 的新手，仍然有很多概念让我感到困惑。我发现一个实体类看起来像一个 JavaBean。

1.  实体类是 JavaBean 吗？（请在这里解释一下）
2.  实体类和JPA有什么关系？（我的理解：JPA 是一种与实体类一起使用的技术/API，它保留数据库中的数据吗？）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-18T09:42:22.100

严格来说，`@Entity`它不是 JavaBean（JavaBean 约定需要一个公共的无参数构造函数，`@Entity`可以有受保护的等）但它们非常相似。`@Entity`实际上是一个 POJO（Plain Old Java Object）。您可以比较 JavaBeans 和 Entity 类的约定和要求：

1.  [JavaBeans 约定](http://en.wikipedia.org/wiki/JavaBeans#JavaBean_conventions)
2.  [实体类的要求](http://docs.oracle.com/javaee/6/tutorial/doc/bnbqa.html#bnbqb)

带有注释的类`@Entity`通常表示关系数据库中的表。您可以通过 JPA 使用它们对数据库执行插入/更新/.. 操作。一个例子：

```
UserTransaction utx;
EntityManager em;
//initialization of entity manager..
utx.begin();
 YourEntity entity = new YourEntity(); //your @Entity annotated class
 entity.setSomeParam(someValue);
 em.persist(entity);
utx.commit(); 
```

也可以看看：

*   [Java EE 6 教程（实体）](http://www.oracle.com/technetwork/articles/javaee/jpa-137156.html)
*   [Java 持久性 API](http://www.oracle.com/technetwork/articles/javaee/jpa-137156.html)

# excel - 将新数据复制到其他工作表中

> ID：14930356
> 
> 赞同：0
> 
> 时间：2013-02-18T06:01:02.183
> 
> 标签：excel, vba

我有一张名为 的工作表`mainData`，其中包含十种产品的所有数据。

当我在 中输入新数据时`mainData`，我想自动将新数据复制到另一个产品工作表的最后一行。当我输入新数据时`mainData`，如何识别新数据属于哪个产品的工作表，从而将新数据复制到产品工作表中？

我坚持将其复制到另一个工作表，因为我需要根据产品类型将其复制到另外十个工作表。

这是我对`mainData`:

```
With Sheets("mainData")
    LastRow = .Range("B" & .Rows.Count).End(xlUp).Row + 1

    .Range("B" & LastRow) = ComboBox1.Text
    .Range("C" & LastRow) = TextBox1.Text
    .Range("D" & LastRow) = TextBox2.Text
    .Range("E" & LastRow) = TextBox3.Text
    .Range("F" & LastRow) = TextBox4.Text
    .Range("G" & LastRow) = TextBox5.Text
    .Range("H" & LastRow) = ComboBox2.Text
    .Range("I" & LastRow) = TextBox6.Text
    .Range("J" & LastRow) = TextBox7.Text
    .Range("K" & LastRow) = TextBox8.Text

    Range("B32:B320").Select
    ActiveWorkbook.Worksheets("mainData").Sort.SortFields.Clear
    ActiveWorkbook.Worksheets("mainData").Sort.SortFields.Add Key:=Range("B32:B305") _
    , SortOn:=xlSortOnValues, Order:=xlAscending, CustomOrder:= _
    "prod1, prod2, prod3, prod4, prod5, prod6, prod7, prod8, prod9, prod10" _
    , DataOption:=xlSortNormal
With ActiveWorkbook.Worksheets("mainData").Sort
    .SetRange Range("B32:W305")
    .Header = xlYes
    .MatchCase = False
    .Orientation = xlTopToBottom
    .SortMethod = xlPinYin
    .Apply
End With 
```

这就是我的意思。当我在 mainData 工作表中输入新的 prod1 数据时，我想自动将其复制到产品 1 工作表的最后一行。我可以在 mainData 中输入多种类型的产品，即 prod2、prod4，那么如何将这些数据复制到其特定的产品工作表中？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T08:14:29.197

这是你正在尝试的吗？（**未经测试**）

我也没有做任何错误处理。我相信你会照顾好它:)

```
Dim prd As String
Dim ws As Worksheet
Dim LastRow As Long

'~~> Extract the number from the combobox
prd = Trim(Replace(ComboBox1.Text, "prod", ""))

'~~> Decide which sheet the data needs to be written to
'~~> Please ensure that sheets have names like "Product 1", "Product 2" etc
Set ws = ThisWorkbook.Sheets("Product " & prd)

'~~> Update it to the relevant sheet
With ws
    LastRow = .Range("B" & .Rows.Count).End(xlUp).Row + 1

    .Range("B" & LastRow) = ComboBox1.Value
    .Range("C" & LastRow) = TextBox1.Text
    .Range("D" & LastRow) = TextBox2.Text
    .Range("E" & LastRow) = TextBox3.Text
    .Range("F" & LastRow) = TextBox4.Text
    .Range("G" & LastRow) = TextBox5.Text
    .Range("H" & LastRow) = ComboBox2.Value
    .Range("I" & LastRow) = TextBox6.Text
    .Range("J" & LastRow) = TextBox7.Text
    .Range("K" & LastRow) = TextBox8.Text

    '~~> Sort the data
    With .Range("B2:W" & LastRow)
        .Sort Key1:=ws.Range("B2"), Order1:=xlAscending, Header:=xlYes, _
        OrderCustom:=1, MatchCase:=False, Orientation:=xlTopToBottom, _
        DataOption1:=xlSortNormal
    End With
End With

'~~> Update it in mainData
With Sheets("mainData")
    LastRow = .Range("B" & .Rows.Count).End(xlUp).Row + 1

    .Range("B" & LastRow) = ComboBox1.Value
    .Range("C" & LastRow) = TextBox1.Text
    .Range("D" & LastRow) = TextBox2.Text
    .Range("E" & LastRow) = TextBox3.Text
    .Range("F" & LastRow) = TextBox4.Text
    .Range("G" & LastRow) = TextBox5.Text
    .Range("H" & LastRow) = ComboBox2.Value
    .Range("I" & LastRow) = TextBox6.Text
    .Range("J" & LastRow) = TextBox7.Text
    .Range("K" & LastRow) = TextBox8.Text

    '~~> Sort the data
    With .Range("B2:W" & LastRow)
        .Sort Key1:=Sheets("mainData").Range("B2"), Order1:=xlAscending, Header:=xlYes, _
        OrderCustom:=1, MatchCase:=False, Orientation:=xlTopToBottom, _
        DataOption1:=xlSortNormal
    End With
End With 
```

# cakephp - CakePHP中的通配符路由和分页

> ID：14930358
> 
> 赞同：0
> 
> 时间：2013-02-18T06:01:17.797
> 
> 标签：cakephp, routing

在我的 Cake 应用程序中，我有以下路线：

```
Router::connect('/joints/*', array('controller'=>'joints', 'action'=>'view')); 
```

看起来很简单。我使用它是因为我使用的是 slugs 和命名参数，并且想要干净的 SEO 友好 url。

问题是这完全破坏了分页功能。

如何使用通配符，但仍允许索引视图上的所有分页按预期运行？

编辑：

以下似乎可行，但我想知道是否有更简单，更优雅的方式：

```
Router::connect('/joints', array('controller' => 'joints', 'action' => 'index'));
Router::connect('/joints/index/*', array('controller' => 'joints', 'action' => 'index'));
Router::connect('/burgers/*', array('controller'=>'burgers', 'action'=>'view')); 
```

# javascript - Jquery：每个语句只影响第一项

> ID：14930361
> 
> 赞同：2
> 
> 时间：2013-02-18T06:01:52.323
> 
> 标签：javascript, jquery, if-statement, jquery-selectors, each

我有一系列页面，其标题存储在 var 中。

我想创建一个脚本，对页面对应的导航链接做一些事情。在我的网站上，导航链接的标题和名称是相同的，所以我只使用 if 和 each 语句，如下所示：

```
$.each($("#menu ul li ul li ul"), function() {
  if($(this).find("a").html() == pagetitle){
    //DO SOMETHING
  }
}); 
```

问题是，这似乎只循环一次。它只抓取第一个 li 和一个标签，因此只能在一个页面上工作。

任何人都可以提出纠正这个问题的方法吗？

编辑：html：

```
<div id="menu">
    <ul>
    <li><a href="somewhere.html">enu Item</a>
      <ul>
        <li><a href="somewhere.html">Menu Item 2</a>
            <ul>
               <li><a href="somewhere.html">Menu Item 3</a></li>
               <li><a href="somewhere.html">Menu Item 4</a></li>
               <li><a href="somewhere.html">Menu Item 5</a></li>
               <li><a href="somewhere.html">Menu Item 6</a></li>
             </ul>
        </li>
        <li><a href="somewhere.html">Menu Item 7</a></li>
        <li><a href="somewhere.html">Menu Item 8</a></li>
      </ul>   
    </li>
    </ul>
</div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T06:10:41.510

因为你的代码选择了第三个`<ul>`，它会找到`<ul>`唯一一次..你必须选择直到`<li>`....我想你错过`<li>`了

```
 $.each($("#menu ul li ul li ul li"), function() {
   if($(this).find("a").html() == pagetitle){
//DO SOMETHING
 }
}); 
```

注意：这仅适用于第三个`<ul>`我认为这就是您所要求的..如果全部`<li>`那么您就可以使用

```
$.each('#menu li')... //as a selector 
```

[小提琴](http://jsfiddle.net/bipen/4ETRu/)中的例子

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T06:18:55.803

尝试使用这个脚本

```
$("#menu").find("li").each(function(){
  if ($(this).find('a').html() == pagetitle) {
    // do
  }
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-18T06:15:11.177

您可以像这样以更短的方式循环：

```
$.each($("#menu li"), function() {
  if($(this).find("a").text() == pagetitle){
     //DO SOMETHING
  }
}); 
```

## 笔记：

使用`.text()`而不是`.html()`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-18T06:06:19.000

Why not just:

```
$.each($("#menu a"), function() {
  if($(this).html() == pagetitle){
    //DO SOMETHING
  }
}); 
```

# objective-c - 将对象分配给本地对象会增加目标 C 中的保留计数

> ID：14930364
> 
> 赞同：1
> 
> 时间：2013-02-18T06:02:07.553
> 
> 标签：objective-c, cocoa-touch, object, memory-management, retain

我需要对以下代码进行一些说明。

我有一个包含 ClassA 对象的数组。然后我检索其中一个对象并将其分配给局部变量 object1。

```
 ClassA object1 = [ClassAObjectContainer objectAtIndex:0]; 
```

（Q.1 - 这增加保留计数吗？？我认为不是）

现在我删除对象

```
 [ClassAObjectContainer removeObjectAtIndex:0]; 
```

（ Q.2 - 所以现在 object1 指向已释放的实例？？如果我向它发送消息，它会崩溃吗？？

所以我应该使用 ClassA object1 = [[ClassAObjectContainer objectAtIndex:0] retain]; 如果我想保持对象活着并稍后使用它。

另一件事，当从方法返回对象时，哪种方法更好

```
- (ClassA *)calle
{
    ClassA *object1 = [[ClassA alloc] init];
    return [object1 autorelease];
}

- (void)Caller
{
    ClassA *object2 = [self calle];
    //now suppose object1 is auto-released, so in this case object2 points to deallocated instance?
} 
```

所以不应该更好吗-

```
- (void)CallerMethod
{
    ClassA *object2 = [[self calle] retain];
   // Do other works.
   /.....

    [object2 release];
} 
```

在这种情况下发生的另一件事，

```
- (ClassA *)calle2
    {
        ClassA *object1 = [[ClassA alloc] init];
        return [object1 autorelease];
    }

 - (void)CallerMethod
    {
        ClassA *object2 = [self calle];

        object2 = [self calle2];

    } 
```

这里是否有内存泄漏，或者由于 ClassA *object2 = [self calle] 是弱/赋值，在第二次初始化 object2 = [self calle2] 后没有问题，我们可以这样分配 100 个对象，不会发生内存泄漏。

谢谢你的时间。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-18T06:35:43.110

以下是答案

Q1：没有。对于简单赋值，retainCount 不会有任何变化。

Q2：它取决于Index处对象的ratainCount，即当它从数组中删除时，其retainCount将减1。如果retainCount在删除后变为0，则会导致崩溃，否则不会。

AutoRelease：使用方法（除了 new/copy）返回的自动释放对象时的黄金法则是保留它。一旦工作完成，你应该释放它。您可以根据需要进行尽可能多的初始化，但它可能会在创建的所有对象时使自动租赁池过载。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-18T06:35:42.037

> Q.1 - 这会增加保留计数吗？我认为不是

不一定，但它可能会暂时增加它。在返回对象之前执行`objectAtIndex:`can`retain`和`autorelease`对象，这将是一件非常友好的事情，因为......

> Q.2 - 那么现在 object1 指向已释放的实例？？如果我向它发送消息，它会崩溃吗？

如果`-objectAtIndex:`不注意返回如上所述的自动释放对象，它可能会。如果有任何疑问，您应该在将其从容器中取出之前自己保留该对象。因此，例如，文档`-[UIView removeFromSuperView]`说：

> 如果您打算重用视图，请确保在调用此方法之前保留它，并在以后酌情再次释放它。

那正是因为superview会释放视图。如果您没有保留它，它可能会在那时被释放。

> 所以我应该使用 ClassA object1 = [[ClassAObjectContainer objectAtIndex:0] retain]; 如果我想保持对象活着并稍后使用它。

当然，如果您想“以后”使用它，您应该保留它。如果您要“现在”使用它，那么您可能不需要保留该对象，这取决于（再​​次）`ClassAObjectContainer`它所说的内容。

我不确定我是否遵循您的其余问题。但是，一般来说，当您从其他方法取回一个对象时，您应该能够使用该对象而不保留它，除非您打算在接收它的方法结束后保留​​它。所以，如果你将它分配给一个实例变量或其他东西，你应该通过调用来获得对象的所有权`retain`。集合的行为使事情变得有点复杂——如果你从集合中获取一个对象，然后告诉该集合删除该对象，那么如果在删除后需要它，你真的应该首先保留该对象. 另一方面，如果您使用 ARC（为什么不使用呢？），您不必担心这些事情。

# windows-phone-8 - 我们可以在官方 Windows Phone 8 sdk 中使用 Microsoft.Phone.DeviceManufacturers 命名空间吗？

> ID：14930368
> 
> 赞同：1
> 
> 时间：2013-02-18T06:02:11.260
> 
> 标签：windows-phone-8

谁知道我们是否可以在官方 windows phone 8 sdk 中引用 Microsoft.Phone.DeviceManufacturers 组件？我想使用 ServiceAgent 类开发后台服务。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T09:49:54.520

来自 MSDN（[http://msdn.microsoft.com/en-us/library/windowsphone/develop/jj208461](http://msdn.microsoft.com/en-us/library/windowsphone/develop/jj208461(v=vs.105).aspx) (v=vs.105).aspx ）

“此 API 不打算直接从您的代码中使用。”

因此，不，您不能将它用于通过商店分发的普通 SDK 应用程序 - 这是一个受限 API。您可以在开发者解锁手机上加载的应用程序中使用它。

# zend-framework2 - Zend Framework 2 - ServiceManagerAwareInterface 和 ServiceLocatorAwareInterface 的区别

> ID：14930370
> 
> 赞同：0
> 
> 时间：2013-02-18T06:02:15.510
> 
> 标签：zend-framework2

刚学ZF2，有点迷糊。我对 ServiceManager 有一个大致的了解，并且了解如何添加服务，以及使用 ServiceManagerAwareInterface 能够将服务拉入一个类。然而，在我的搜索中，我遇到了一个 ServiceLocatorAwareInterface。

有人可以告诉我两者之间的区别以及我会使用哪些场景吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-18T07:31:47.507

`ServiceManagerAwareInterface`引入来满足 MVC 组件的特定需求，这需要服务定位器的特定实现。iirc 这个限制被取消并被`ServiceManagerAwareInterface`非正式地认为已弃用。

至于你，你不想依赖于特定的实现而不是依赖于合约即接口。因此，您应该更喜欢`ServiceLocatorAwareInterface`.

# javascript - 试图在流星中创建回复评论功能

> ID：14930372
> 
> 赞同：0
> 
> 时间：2013-02-18T06:02:27.173
> 
> 标签：javascript, meteor

我正在尝试回复评论选项，目前我有一个带有文本区域的输入字段，提交时会在屏幕上打印名称和评论。现在，我创建了第二个输入和文本区域，我希望稍后在该输入和文本区域中也打印到屏幕上，单击屏幕上的名称和评论旁边的回复按钮会弹出文本区域。但目前我想要工作的只是第二个输入和文本区域，用于在屏幕上打印任何内容。我基本上已经复制了以前的代码，只是更改了变量和函数名称，在它们之后添加了一个 1 现在它不起作用，它在我添加`{{> message1}}`到正文中的位置中断。页面上什至没有显示。这是现场网站[http://tuts.meteor.com的链接](http://tuts.meteor.com)

这是我正在使用的代码

**HTML**

```
<head>
  <title>tutorial</title>
</head>

<body>
 {{> messages}}
 {{> entry}}
 {{> entry1}}
</body>

<template name="messages">
    {{#each messages}}
        <!--echo of message template-->
        {{> message}}
    {{/each}}
</template>

<template name="message">
    <p><strong>{{name}}:</strong>{{message}}</p>
</template>

<template name="entry">
    <p><input type="text" id="name" placeholder="your name"></p>
    <p><textarea type="text" id="messageBox" placeholder="your message"></textarea></p>
    <p><input type="button" id="submit" value="submit"></p>
</template>

<template name="messages1">
    {{#each messages1}}
        <!--echo of message template-->
        {{> message1}}
        <a href="#">reply</a>
    {{/each}}

</template>

<template name="message1">
    <p><strong>{{name}}:</strong>{{message1}}</p>
</template>

<template name="entry1">
    <p><input type="text" id="name1" placeholder="your name"></p>
    <p><textarea type="text" id="messageBox1" placeholder="your message"></textarea></p>
    <input type="button" id="submit1" value="submit">
    </p>
</template> 
```

**JAVASCRIPT**

```
Messages = new Meteor.Collection('messages');
Messages1 = new Meteor.Collection('messages1');

if (Meteor.is_client){

   ////////// Helpers for in-place editing //////////

  // Returns an event_map key for attaching "ok/cancel" events to
  // a text input (given by selector)
  var okcancel_events = function (selector) {
    return 'keyup '+selector+', keydown '+selector+', focusout '+selector;
  };

  // Creates an event handler for interpreting "escape", "return", and "blur"
  // on a text field and calling "ok" or "cancel" callbacks.
  var make_okcancel_handler = function (options) {
    var ok = options.ok || function () {};
    var cancel = options.cancel || function () {};

    return function (evt) {
      if (evt.type === "keydown" && evt.which === 27) {
        // escape = cancel
        cancel.call(this, evt);
      } else if (evt.type === "keyup" && evt.which === 13) {
        // blur/return/enter = ok/submit if non-empty
        var value = String(evt.target.value || "");
        if (value)
          ok.call(this, value, evt);
        else
          cancel.call(this, evt);
      }
    };
  };//added as test

    Template.entry.events = {};

  /*  Template.entry.events[okcancel_events('#messageBox')] = make_okcancel_handler({
      ok:function(text, event){
        var nameEntry = document.getElementById('name');
        if(nameEntry.value != ""){
          var ts = Date.now() / 1000;
          Messages.insert({name: nameEntry.value, message: text, time: ts});
          event.target.value = "";
        }//if statment ends
      }
    });
  */

  Template.entry.events['click #submit'] = function() {
      var nameEntry = document.getElementById('name');
      if(nameEntry.value != ""){
          var ts = Date.now() / 1000;
          Messages.insert({name: nameEntry.value, message: $('#messageBox').val(), time: ts});
     }
  }

  Template.entry.events['click #submit1'] = function() {
      var nameEntry1 = document.getElementById('name1');
      if(nameEntry1.value != ""){
          var ts = Date.now() / 1000;
          Messages1.insert({name: nameEntry1.value, message1: $('#messageBox1').val(), time: ts});
      }
  }

  Template.messages1.messages1 = function () {
    return Messages1.find({}, { sort: {time: -1} });
  };

  Template.messages.messages = function () {
    return Messages.find({}, { sort: {time: -1} });
  };
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T07:18:24.520

您应该包含`{{messages1}}`而不是`{{message1}}`，并且应该将事件作为**函数**调用而`entry1`不是`entry`：

```
Template.entry1.events({'click #submit1' : function() {
    var nameEntry1 = document.getElementById('name1');
    if(nameEntry1.value != ""){
      var ts = Date.now() / 1000;
      Messages1.insert({name: nameEntry1.value, message1: $('#messageBox1').val(), time: ts});
    }
  }
}); 
```

如果将“messages1”重命名为“comments”，将“message1”重命名为“comment”，将“entry1”重命名为“enterComment”等等，也会更清楚。

```
<body>
 {{> messages}}
 {{> entry}}
 {{> enterComment}}
 {{> comments}}
</body> 
```

然后JS变成：模板。**enterComment** .events({...})

[http://tuts2.meteor.com/](http://tuts2.meteor.com/)

# macos - /private/etc/hosts 在 Mac OS X 10.8.2 上应该有什么权限

> ID：14930378
> 
> 赞同：3
> 
> 时间：2013-02-18T06:03:10.727
> 
> 标签：macos, osx-mountain-lion, hosts, hosts-file

我使用 SSH 打开了多个终端窗口以访问反向代理后面的网络服务器，并且正在更改我的主机文件以在网络服务器和公共 IP 之间交替。虽然没有注意，但我不小心执行`sudo chmod 777 /private/etc/hosts`了而不是现在打开它，`sudo nano /private/etc/hosts`我不确定我应该将它恢复到什么权限。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-18T06:05:06.830

```
% ls -ld /private/etc/hosts
-rw-r--r--  1 root  wheel  473 29 Jan 18:46 /private/etc/hosts 
```

# jquery - jQuery.ajax调用在app调用Success失败，在JSFiddle调用Success、Error、Complete？

> ID：14930379
> 
> 赞同：0
> 
> 时间：2013-02-18T06:03:11.557
> 
> 标签：jquery, ajax, json

经过大量搜索，（我真的理解，人们问了数百万个关于 Ajax 的问题，这似乎和其中很多一样，但我无法让任何解决方案发布到工作中）我不得不问 - 什么这是怎么回事？

我正在尝试创建一个应用程序，该应用程序显示我所在县的所有 SNAP 福利提供者，并允许用户输入这些市场的食品供应数据。

我将所有[数据都存储在 CartoDB 上](http://cdb.io/XVChAg)，并且我正在使用他们的 node.js 库在["/stores"](http://food-desert-mapper.jhk.me/stores)处返回数据。

我已经对 JSON 进行了 linted，该函数调用了 JSFiddle 上的所有三个回调，而不是没有。

我不明白出了什么问题。

```
$.ajax({
    dataType: "json",
    url: "/stores",
    success: function (data, code, jqx) {
        console.log("anything?");
        console.log(JSON.stringify(data));
    },
    error: function (jqx, err, ex) {
        console.log("no?");
        console.log(err);
    },
    complete: function (jqx, status) {
        console.log("dicks" + status);
    }
}); 
```

预先感谢您的协助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T16:08:34.087

弄清楚了。首先，Firebug 中有一个错误，它阻止了 console.log 打印，所以这可能是整个问题。从现在开始，我用警报进行测试。

其次，虽然我还没有验证，但也有可能在 Jquery 1.9.2 中使用不推荐使用的 ajax 命令形式也遇到了问题。这可能是错误的。他们的文件不是特别清楚。

# java - 使用 Bouncy Castle Java 生成 X509 证书

> ID：14930381
> 
> 赞同：13
> 
> 时间：2013-02-18T06:03:34.287
> 
> 标签：java, cryptography, x509certificate, bouncycastle

我正在寻找在 Java 中使用 BC 生成 X509 证书的示例或教程。

很多例子都有/使用过时的 API。我看了一下 BC，但它没有显示哪个类做了什么或没有正确的文档/示例。

请如果您对此有所了解，请将我指向一个教程，我可以在其中使用 BC 生成 X509 证书。[生成和写入文件的公钥和私钥]

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2014-11-06T14:51:33.423

创建 KeyPairGenerator：

```
private KeyPairGenerator createKeyPairGenerator(String algorithmIdentifier,
        int bitCount) throws NoSuchProviderException,
        NoSuchAlgorithmException {
    KeyPairGenerator kpg = KeyPairGenerator.getInstance(
            algorithmIdentifier, BouncyCastleProvider.PROVIDER_NAME);
    kpg.initialize(bitCount);
    return kpg;
} 
```

密钥对的创建：

```
private KeyPair createKeyPair(String encryptionType, int byteCount)
    throws NoSuchProviderException, NoSuchAlgorithmException
{
    KeyPairGenerator keyPairGenerator = createKeyPairGenerator(encryptionType, byteCount);
    KeyPair keyPair = keyPairGenerator.genKeyPair();
    return keyPair;
}

KeyPair keyPair = createKeyPair("RSA", 4096); 
```

将事物转换为 PEM（可以写入文件）：

```
 private String convertCertificateToPEM(X509Certificate signedCertificate) throws IOException {
    StringWriter signedCertificatePEMDataStringWriter = new StringWriter();
    JcaPEMWriter pemWriter = new JcaPEMWriter(signedCertificatePEMDataStringWriter);
    pemWriter.writeObject(signedCertificate);
    pemWriter.close();
    return signedCertificatePEMDataStringWriter.toString();
  } 
```

X509Certificate的创建：

```
X509v3CertificateBuilder certificateBuilder = new JcaX509v3CertificateBuilder(
    serverCertificate, new BigInteger("1"),
    new Date(System.currentTimeMillis()),
    new Date(System.currentTimeMillis() + 30L * 365L * 24L * 60L * 60L * 1000L),
    jcaPKCS10CertificationRequest.getSubject(),
    jcaPKCS10CertificationRequest.getPublicKey()
/*).addExtension(
    new ASN1ObjectIdentifier("2.5.29.35"),
    false,
    new AuthorityKeyIdentifier(keyPair.getPublic().getEncoded())*/
).addExtension(
        new ASN1ObjectIdentifier("2.5.29.19"),
        false,
        new BasicConstraints(false) // true if it is allowed to sign other certs
).addExtension(
        new ASN1ObjectIdentifier("2.5.29.15"),
        true,
        new X509KeyUsage(
            X509KeyUsage.digitalSignature |
                X509KeyUsage.nonRepudiation   |
                X509KeyUsage.keyEncipherment  |
                X509KeyUsage.dataEncipherment)); 
```

签署：

```
 ContentSigner sigGen = new JcaContentSignerBuilder("SHA256withRSA").build(signingKeyPair.getPrivate());

    X509CertificateHolder x509CertificateHolder = certificateBuilder.build(sigGen);
    org.spongycastle.asn1.x509.Certificate eeX509CertificateStructure =
      x509CertificateHolder.toASN1Structure();
    return eeX509CertificateStructure;
  }

  private X509Certificate readCertificateFromASN1Certificate(
    org.spongycastle.asn1.x509.Certificate eeX509CertificateStructure,
    CertificateFactory certificateFactory)
    throws IOException, CertificateException { //
    // Read Certificate
    InputStream is1 = new ByteArrayInputStream(eeX509CertificateStructure.getEncoded());
    X509Certificate signedCertificate =
      (X509Certificate) certificateFactory.generateCertificate(is1);
    return signedCertificate;
  } 
```

证书工厂：

```
 certificateFactory = CertificateFactory.getInstance("X.509",
        BouncyCastleProvider.PROVIDER_NAME); 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2013-02-18T17:39:03.913

X509v3CertificateBuilder似乎是要使用的类[。](https://www.bouncycastle.org/docs/pkixdocs1.5on/org/bouncycastle/cert/X509v3CertificateBuilder.html)[bouncycastle wiki](https://github.com/bcgit/bc-java/wiki/BC-%22Version-2%22---The-post-BC-1.46-changes)上有一些使用新 API 的示例。

# git - 在不克隆的情况下在 repo 中创建分支

> ID：14930383
> 
> 赞同：1
> 
> 时间：2013-02-18T06:03:46.820
> 
> 标签：git, github

我正在为一个介绍性网络课程做一些评分，我们正在使用 GitHub 来托管他们的文件。对我来说不幸的是，我们忘记告诉学生们`gh-pages`，以便他们可以在线查看他们的代码（每个人都只是在本地查看）。我不想将他们所有的 repos 克隆到我的计算机上，也不想在线手动添加分支。如果您没有存储库，是否有人知道在远程存储库上创建分支的终端命令？（我是他们所有回购的所有者）。我想做的只是编写一个脚本，在所有学生存储库上运行此命令并创建`gh-pages`分支。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T06:10:21.420

如果你无论如何都要写一个脚本，那有什么问题呢？伪代码：

```
for repo in repos
    git clone repo .
    git branch gh-pages
    git push origin gh-pages
    rm -rf . 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T06:27:14.573

你不能，github不提供在线创建分支的功能。

# objective-c - iPad相机方向问题

> ID：14930384
> 
> 赞同：0
> 
> 时间：2013-02-18T06:03:48.937
> 
> 标签：objective-c, ipad, ios5, ios6, camera

我正在实现一个关于相机模式功能的应用程序，但应用程序仅运行横向但相机在 iPad 的某些部分打开，仅剩余部分为黑色。

```
 if ([UIImagePickerController isSourceTypeAvailable:UIImagePickerControllerSourceTypeCamera]) {
        camPicker.sourceType =  UIImagePickerControllerSourceTypeCamera;
        camPicker.delegate = self;
        camPicker.allowsEditing = NO;
        [self presentModalViewController:camPicker animated:YES]; 
```

对于固定为的方向

```
if (interfaceOrientation == UIInterfaceOrientationLandscapeLeft) {
    return interfaceOrientation == UIInterfaceOrientationLandscapeLeft;

}else
{
    return interfaceOrientation == UIInterfaceOrientationLandscapeRight;

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T06:21:25.147

将方向设置为：

```
 - (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation
{
    return (interfaceOrientation == UIInterfaceOrientationLandscapeRight || interfaceOrientation == UIInterfaceOrientationLandscapeLeft);
} 
```

# syntax - 如何声明全局级别的可重载运算符？

> ID：14930385
> 
> 赞同：1
> 
> 时间：2013-02-18T06:03:50.433
> 
> 标签：syntax, f#, operators

基于：[是否可以为不同的参数计数定义同名运算符？](https://stackoverflow.com/questions/14929470/is-possible-to-define-same-named-operator-for-different-argument-count)

我想定义一些运算符，例如`+` 但让调用`-|-`例如

```
let a = -|- 1
let b = 1 -|- 1
let c = 1 -|- 1 1 1 1 
```

至少有 2 行可以使用，`+`但我怎样才能像这样声明自己的运营商？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-18T07:03:18.327

我认为一般来说没有一种简单的方法可以做到这一点。您可能可以使用`inline`混合了静态成员约束的运算符来涵盖您想要的*一些*情况，但我认为它不会很优雅。

但是，对于某些运算符名称，您可以定义单独的*前缀*和 中*缀*版本，涵盖前两种情况：

```
// Prefix version of the operator (when you write e.g. '+. 10')
let (~+.) a = a * 10
// Infix version of the operator (when you write e.g. '1 +. 10')
let (+.) a b = a + b

// Sample use
+. 10
10 +. 20 
```

你仍然不能写`10 +. 20 30 40`，因为那样你就需要一个重载的中缀运算符。

值得注意的是，您不能对所有运算符名称执行此操作。以下是中缀运算符允许的运算符名称的[F# 规范](http://fsharp.org/about/files/spec.pdf)中的语法定义：

> 中缀或前缀操作 :=
>       +, -, +., -., %, &, &&
> 
> prefix-op :=
>       infix-or-prefix-op
>       ~ ~~ ~~~ (和任何重复的 ~)
>       !OP (除了 !=)

PS：我通常不是自定义运算符的忠实拥护者-在某些情况下，它们很好，但是很难发现（您在 IntelliSense 中看不到它们），除非您使用标准运算符进行数值计算，通常很难理解它们的含义。所以我可能会考虑其他方法......

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-18T06:13:32.900

So what about a Discriminated Union:

```
type RHS = 
|One of int
|Two of int * int
... 
```

then

```
let (-|-) a b =
    match b with
    |One(a) -> ...
    |Two(a,b) -> ...
     ... 
```

Call it with:

```
1 -|- One(1)
1 -|- Two(1,1)
.... 
```

# bash - 在 bash 脚本中按住键时运行命令

> ID：14930389
> 
> 赞同：2
> 
> 时间：2013-02-18T06:04:12.103
> 
> 标签：bash

我正在尝试编写在按住键时播放音调的 bash 脚本。

这是我到目前为止所拥有的：

[https://github.com/thelazymastermind/pcspkr_keyboard/blob/master/keyboard.sh](https://github.com/thelazymastermind/pcspkr_keyboard/blob/master/keyboard.sh)

它可以工作，但是在按住键时无法连续播放音符。

如果这不能在 bash 中完成，那么如何使用 C 或 Python 来完成？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T06:30:14.180

看看这个项目：[http ://www.shellscriptgames.com/](http://www.shellscriptgames.com/)

他们使用`getch.c`是为了从用户那里获取关键输入......所以看起来纯 shell 不能提供你需要的东西。

# javascript - 为什么 Function.prototype 解析为函数？

> ID：14930390
> 
> 赞同：2
> 
> 时间：2013-02-18T06:04:23.573
> 
> 标签：javascript

当我执行代码时：

```
console.log(Function.prototype); 
```

它返回：

```
function Empty() {} 
```

（至少在 Chrome 中）

为什么会这样？我的印象是原型几乎总是直接的对象文字，而且我检查过的几乎所有其他地方似乎都是这种情况。我很好奇为什么 Function.prototype 解析为不同的东西。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-18T06:07:46.490

Because that is what ECMAScript 5 requires.

> **15.3.4 [Properties of the Function Prototype Object](http://es5.github.com/#x15.3.4)**
> 
> The `Function` prototype object is itself a Function object (its `[[Class]]` is "Function") that, when invoked, accepts any arguments and returns `undefined`.

Most *(or all?)* other native constructors have prototypes defined as the same type of object that is produced.

Considering that the prototype object holds the methods for that type, it makes sense that those methods should function properly when called on that object.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T07:08:32.197

首先注意一个对象的实际原型，就像一个对象继承行为的东西一样，存储在它的 __proto__ 属性中（在大多数实现中 - thx @thesystem）。Function 对象的“原型”属性是它自己的 __proto__，它是特殊的内置函数字面量单例对象`function(){}`（Chrome 的 console.log()`function Empty() {}`无论出于何种原因都必须打印它，但它是一样的）。由于所有函数都是对象（但并非所有对象都是函数），因此该对象的 __proto__ 是另一个特殊的内置文字单例对象`[object Object]`。`[object Object]`__proto__ 为空。`[object Object]`是原型链的根。

检查它的输出显示了事情是如何安排的（可从命令行解释器运行）。

```
print( Function.prototype === Function.__proto__ );
var f = new Funtion();
print( f.__proto__ === Function.prototype );
print( f.__proto__ );
print( f.__proto__.__proto__ );
print( f.__proto__.__proto__.proto__ ); 
```

现在，内置的 JavaScript 对象有一个名为“类”的属性。此属性是不可变的，由 JavaScript 引擎本身设置。JavaScript 将该类用于特殊的内部目的。Javascript 需要知道这一点，因此它知道可以调用 Function 对象（如 @thesystem 给出的先前答案的链接中所暗示的那样 - [http://es5.github.com/#x15.3.4](http://es5.github.com/#x15.3.4)）。从规范：

> “[[Class]] 内部属性的值由本规范为每种内置对象定义。宿主对象的 [[Class]] 内部属性的值可以是任何字符串值，除了“参数”、“数组”、“布尔”、“日期”、“错误”、“函数”、“JSON”、“数学”、“数字”、“对象”、“正则表达式”和“字符串”。值[[Class]] 的内部属性在内部用于区分不同种类的对象。请注意，本规范不提供程序访问该值的任何方法，除非通过 Object.prototype.toString（参见 15.2.4.2）。- [http://es5.github.com/#x8.6.2](http://es5.github.com/#x8.6.2)

Function 对象的原型 AKA 的“类”`function(){}`是“Function”。Function 的类也是“Function”。当一个新对象被创建时，Javascript 直接根据其构造函数的类属性设置它的类属性，这在对象的生命周期内是不可变的。

# shell - Visual Basic CMD/.bat 问题

> ID：14930393
> 
> 赞同：0
> 
> 时间：2013-02-18T06:04:52.723
> 
> 标签：shell, batch-file, cmd

我已经超出了困惑的地步。我已经尝试了一切。目前我正在尝试执行以下脚本；

```
Public Class Form1
Private Sub Button2_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles Button2.Click
    Shell("cmd.exe")
    SendKeys.Send("cd desktop")
End Sub 
```

基本上，只要我添加了字符串`"SendKeys.Send("{ENTER}")`，回复就是无尽的 CMD 框垃圾邮件。

我希望能够访问“桌面”然后访问 .bat 文件。这样，如果我将此程序发送给任何人，如果他们将 .bat 文件放在他们的桌面上，它会像在我的桌面上一样读回。唯一的问题是无论我付出什么努力，我都只会收到垃圾邮件。请帮忙？非常感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T13:11:44.900

这将在指定文件夹中打开一个命令窗口 - 这是您需要的吗？
`Shell("cmd.exe /k cd \temp", AppWinStyle.NormalFocus)`

**编辑：**
这将在用户桌面上运行一个批处理文件（路径+名称周围的引号，以防路径中有空格）

```
Dim path As String = Environment.GetFolderPath(Environment.SpecialFolder.Desktop)
System.Diagnostics.Process.Start("""" & path & "\test.bat""") 
```

# gcc - AC_CHECK_FUNCS 没有找到 shm_open

> ID：14930394
> 
> 赞同：0
> 
> 时间：2013-02-18T06:04:58.753
> 
> 标签：gcc, configuration, linker, ghc, configure

我在构建一个尝试检查 和 是否存在的项目时遇到`shm_open`问题`shm_unlink`。configure.ac 的相关行是：

```
# Avoid adding rt if absent or unneeded
AC_CHECK_LIB(rt, shm_open, [EXTRA_LIBS="$EXTRA_LIBS rt" CFLAGS="$CFLAGS -lrt"])

# needs -lrt on linux
AC_CHECK_FUNCS([shm_open shm_unlink]) 
```

这`AC_CHECK_LIB`条线成功了，但`AC_CHECK_FUNCS`两者都失败了。往里看`config.log`，我看到了

```
configure:4133: checking for shm_open in -lrt
configure:4158: /usr/bin/gcc -o conftest  -fno-stack-protector         -Wl,--hash-size=31 -Wl,--reduce-memory-overheads   conftest.c -lrt   >&5
configure:4158: $? = 0
configure:4167: result: yes
configure:4178: checking for shm_open
configure:4178: /usr/bin/gcc -o conftest  -fno-stack-protector    -lrt      -Wl,--hash-size=31 -Wl,--reduce-memory-overheads   conftest.c  >&5
/tmp/ccg0yu56.o: In function `main':
conftest.c:(.text+0xa): undefined reference to `shm_open'
collect2: ld returned 1 exit status 
```

看来这两个检查之间的唯一区别是`-lrt`参数的位置。当我尝试在一个简单文件上手动运行 gcc 时，我得到了相同的行为，即只有在`-lrt`源文件输入之后链接才会成功。

那么，我需要做什么才能`configure`确定`shm_open`并`shm_unlink`存在？我怀疑这是我的系统特有的东西，因为我正在配置的项目被广泛使用（`unix`与 ghc 编译器捆绑在一起的包），并且它曾经可以工作（当我使用 gcc-4.4 在不同的系统上构建这个包时） .5，它有效，但是该环境不再可用）。我首选的解决方案是更改系统/环境或配置一些标志组合，但是如果`configure.ac`我可以向上游发送标准修改，那也是可以接受的。

我尝试了 CFLAGS 和 LDFLAGS 的各种组合，但`-lrt`标志总是出现在输入文件之前，所以检查仍然失败。

我的系统是 Ubuntu 12.04（精确）

```
$gcc --version
gcc (Ubuntu/Linaro 4.6.3-1ubuntu5) 4.6.3
$ uname -a
Linux hostname 3.2.0-26-generic #41-Ubuntu SMP Thu Jun 14 17:49:24 UTC 2012 x86_64 x86_64 x86_64 GNU/Linux 
```

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T13:57:08.190

宏有完整的形式：

```
AC_CHECK_LIB (library, function, [action-if-found], [action-if-not-found], [other-libraries]) 
```

请注意`other-libraries`。此选项特别适用于您描述的情况 - pass`-lm`和`-lrt`其他普通人以避免链接器排序中未解决的引用。

检查文档页面以获取有关[AC_CHECK_LIB](http://www.gnu.org/savannah-checkouts/gnu/autoconf/manual/autoconf-2.69/html_node/Libraries.html)宏的更多信息

# hibernate - JPA/Hibernate：IN ?1 的集合参数导致“没有为参数 1 指定值”

> ID：14930401
> 
> 赞同：1
> 
> 时间：2013-02-18T06:05:47.877
> 
> 标签：hibernate, jpa, jdbc, parameters

我有一个 JPQL 查询

```
SELECT wu.tags, 
  (IF('tag2' IN wu.tags, 1,0) + IF('tag1' IN wu.tags, 1,0) +  0) AS score
FROM WorkUnit wu WHERE wu.tags IN ?1 
```

就像下面的例外一样使用。

发生了什么？我应该如何通过收集？对我来说似乎是 Hibernate 错误，因为它在 JDBC 级别搞砸了。

```
 String jpql =
        "SELECT wu.tags, (" + sb.toString() + " 0) AS score "
        + "  FROM WorkUnit wu WHERE wu.tags IN ?1";
    return em.createQuery( jpql )
            .setParameter(1, wu.getTags())
            //.setMaxResults(maxResults)
            .getResultList(); 
```

`wu.getTags()`返回`Set<WorkTag>`。

但这会引发：

```
java.sql.SQLException: No value specified for parameter 1
     at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1074)
     at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:988)
     at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:974)
     at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:919)
     at com.mysql.jdbc.PreparedStatement.checkAllParametersSet(PreparedStatement.java:2611)
     at com.mysql.jdbc.PreparedStatement.fillSendPacket(PreparedStatement.java:2586)
     at com.mysql.jdbc.PreparedStatement.fillSendPacket(PreparedStatement.java:2510)
     at com.mysql.jdbc.PreparedStatement.executeQuery(PreparedStatement.java:2259)
     at org.jboss.jca.adapters.jdbc.WrappedPreparedStatement.executeQuery(WrappedPreparedStatement.java:462)
     at java.lang.reflect.Method.invoke(Method.java:601)
     at org.hibernate.engine.jdbc.internal.proxy.AbstractStatementProxyHandler.continueInvocation(AbstractStatementProxyHandler.java:122)
     at org.hibernate.engine.jdbc.internal.proxy.AbstractProxyHandler.invoke(AbstractProxyHandler.java:81)
     at $Proxy72.executeQuery(Unknown Source)
     at org.hibernate.loader.Loader.getResultSet(Loader.java:1897)
     at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1698)
     at org.hibernate.loader.Loader.doQuery(Loader.java:832)
     at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:293)
     at org.hibernate.loader.Loader.doList(Loader.java:2382)
     at org.hibernate.loader.Loader.doList(Loader.java:2368)
     at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2198)
     at org.hibernate.loader.Loader.list(Loader.java:2193)
     at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:470)
     at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:355)
     at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:195)
     at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1248)
     at org.hibernate.internal.QueryImpl.list(QueryImpl.java:101)
     at org.hibernate.ejb.QueryImpl.getResultList(QueryImpl.java:257)
     at org.jboss.essc.web.dao.WorkDao.getWorkUnitsSimilarTo(WorkDao.java:89) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T08:11:44.157

JPQL/HQL 不支持`IN`in`SELECT`子句...实际上，可用的东西列表`SELECT`非常有限。

[http://docs.oracle.com/cd/E11035_01/kodo41/full/html/ejb3_langref.html#ejb3_langref_select](http://docs.oracle.com/cd/E11035_01/kodo41/full/html/ejb3_langref.html#ejb3_langref_select)

[http://docs.jboss.org/hibernate/orm/4.1/devguide/en-US/html/ch11.html#ql-expressions](http://docs.jboss.org/hibernate/orm/4.1/devguide/en-US/html/ch11.html#ql-expressions)

# java - Log4j 无法将文件写入码头日志目录

> ID：14930402
> 
> 赞同：1
> 
> 时间：2013-02-18T06:05:55.490
> 
> 标签：java, ubuntu, log4j, jetty

我有一个在 Jetty 8.0 上运行的应用程序。

我已将 log4j 配置为将日志写入文件。这是配置。

```
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE log4j:configuration SYSTEM "log4j.dtd">

<log4j:configuration xmlns:log4j="http://jakarta.apache.org/log4j/" debug="false">

    <appender name="consoleAppender" class="org.apache.log4j.ConsoleAppender">
        <param name="Threshold" value="DEBUG" />
        <layout class="org.apache.log4j.PatternLayout">
            <param name="ConversionPattern" value="%d%-5p  [%c{1}] %m %n" />
        </layout>
    </appender>

    <appender name="fileAppender" class="org.apache.log4j.RollingFileAppender">
        <param name="Threshold" value="INFO" />
        <param name="File" value="someLogFileName.log" />
        <layout class="org.apache.log4j.PatternLayout">
            <param name="ConversionPattern" value="%d%-5p  [%c{1}] %m %n" />
        </layout>
    </appender>

    <logger name="com.somename">
        <level value="debug" />
        <appender-ref ref="consoleAppender" />
        <appender-ref ref="fileAppender" />
    </logger>

</log4j:configuration> 
```

我什至为运行 Jetty 实例的用户设置了权限。

Jetty的日志目录有以下权限：

```
drwxrwsr-x  2 someuser somegroupuser   4096 Feb 18 05:27 logs 
```

但仍然出现异常。

```
java.io.FileNotFoundException: someLogFileName.log (Permission denied)
    at java.io.FileOutputStream.open(Native Method)
    at java.io.FileOutputStream.<init>(FileOutputStream.java:212)
    at java.io.FileOutputStream.<init>(FileOutputStream.java:136)
    at org.apache.log4j.FileAppender.setFile(FileAppender.java:294)
    at org.apache.log4j.RollingFileAppender.setFile(RollingFileAppender.java:207)
    at org.apache.log4j.FileAppender.activateOptions(FileAppender.java:165)
    at org.apache.log4j.config.PropertySetter.activate(PropertySetter.java:307)
    at org.apache.log4j.xml.DOMConfigurator.parseAppender(DOMConfigurator.java:295)
    at org.apache.log4j.xml.DOMConfigurator.findAppenderByName(DOMConfigurator.java:176)
    at org.apache.log4j.xml.DOMConfigurator.findAppenderByReference(DOMConfigurator.java:191)
    at org.apache.log4j.xml.DOMConfigurator.parseChildrenOfLoggerElement(DOMConfigurator.java:523)
    at org.apache.log4j.xml.DOMConfigurator.parseCategory(DOMConfigurator.java:436)
    at org.apache.log4j.xml.DOMConfigurator.parse(DOMConfigurator.java:999)
    at org.apache.log4j.xml.DOMConfigurator.doConfigure(DOMConfigurator.java:867)
    at org.apache.log4j.xml.DOMConfigurator.doConfigure(DOMConfigurator.java:755)
    at org.apache.log4j.xml.DOMConfigurator.configure(DOMConfigurator.java:891)
    at com.zedo.rtbui.server.RtbUILogger.<init>(RtbUILogger.java:22)
    at com.zedo.rtbui.server.RtbUILogger.init(RtbUILogger.java:28)
    at com.zedo.rtbui.server.InitServiceImpl.initialize(InitServiceImpl.java:59)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:601)
    at com.google.gwt.user.server.rpc.RPC.invokeAndEncodeResponse(RPC.java:561)
    at com.google.gwt.user.server.rpc.RemoteServiceServlet.processCall(RemoteServiceServlet.java:208)
    at com.google.gwt.user.server.rpc.RemoteServiceServlet.processPost(RemoteServiceServlet.java:248)
    at com.google.gwt.user.server.rpc.AbstractRemoteServiceServlet.doPost(AbstractRemoteServiceServlet.java:62)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:688)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:770)
    at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:558)
    at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:488)
    at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:119)
    at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:483)
    at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:233)
    at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:973)
    at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:417)
    at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:192)
    at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:907)
    at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:117)
    at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:250)
    at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:149)
    at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:110)
    at org.eclipse.jetty.server.Server.handle(Server.java:346)
    at org.eclipse.jetty.server.HttpConnection.handleRequest(HttpConnection.java:442)
    at org.eclipse.jetty.server.HttpConnection$RequestHandler.content(HttpConnection.java:941)
    at org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:801)
    at org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:224)
    at org.eclipse.jetty.server.AsyncHttpConnection.handle(AsyncHttpConnection.java:51)
    at org.eclipse.jetty.io.nio.SelectChannelEndPoint.handle(SelectChannelEndPoint.java:586)
    at org.eclipse.jetty.io.nio.SelectChannelEndPoint$1.run(SelectChannelEndPoint.java:44)
    at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:598)
    at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:533)
    at java.lang.Thread.run(Thread.java:722) 
```

有人可以指导我如何解决这个问题吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-18T17:47:31.743

您的 log4j 配置未指定将该日志文件写入哪个目录。

改变

```
<param name="File" value="someLogFileName.log" /> 
```

到

```
<param name="File" value="${jetty.home}/logs/someLogFileName.log" /> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-19T11:45:11.050

在不指定绝对路径的情况下，log4j 会尝试在 java 进程启动的目录中创建文件。我想在你的情况下它是码头之家。

您可以定义系统属性来更改此行为：

*   通过代码，确保它在 log4j 初始化之前运行

    System.setProperty("WORKDIR", WORKDIR);

*   通过命令行

    java -DWORKDIR=WORKDIR

在 log4j 配置中使用此系统属性：

```
 <param name="File" value="${WORKDIR}/someLogFileName.log" /> 
```

# c++ - 用可选参数覆盖虚函数

> ID：14930406
> 
> 赞同：3
> 
> 时间：2013-02-18T06:06:11.387
> 
> 标签：c++, inheritance, virtual, optional-arguments

为什么这个打印`23`作为输出；我的期望是`33`。有人可以对此有所了解。

```
struct A {
    virtual void f() {cout << "1";}
};

/* Private inheritance */
struct B : private A {
    void f(int x = 0) {cout << "2";}
};

struct C : B {
    void f(){cout << "3";}
};

int main() {
    C obj;
    B &ref = obj;
    ref.f();
    obj.f();
} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-18T06:12:01.113

struct 中的`f(int x = 0)`方法`B`不与`A`nor `C`struct 的`f()`方法共享签名。

# javascript - Using a variable to produce regex to use in replace function of javascript

> ID：14930407
> 
> 赞同：1
> 
> 时间：2013-02-18T06:06:13.477
> 
> 标签：javascript, regex, replace

```
var n=str.replace(/blue/g,"red"); 
```

This replaces blue in the string to red.

But I get only string blue as a string to replace. I need to replace all instances of it case insensitive as well. I am not able to keep blue in a variable and then use it in replace. I tried this. But it wont work.

```
var i = blue;
var rep = "/"+i+"/gi";
var n=str.replace(rep,"red"); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-18T06:08:54.147

Why not:

```
var i = "blue";
var p = new RegExp(i,"gi");
var n = str.replace(p, "red"); 
```

# c - Byte size of a pointer to pointer?

> ID：14930414
> 
> 赞同：0
> 
> 时间：2013-02-18T06:07:01.973
> 
> 标签：c, pointers

What is the byte size of a pointer to pointer? Is it the same as the byte size of a regular pointer(typically 4 on a 32bit machine, 8 on a 64bit machine - although not always)?

For example:

```
int *p;
int **q; 
```

what would the pointer to pointer q be?

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-18T06:12:43.040

标准不保证指针的大小相等。它只保证 sizeof(char) 等于 1。

因此 的大小`int *`不必与 的大小相同`float *`。

因此，要回答您的问题**， a 的大小`int *`并不“保证”等于 的大小`int **`**。

但在大多数编译器上，大小`int *`等于`int **`

**这是 C99 中的一段：6.2.5.26**

> 指向 void 的指针应具有与指向字符类型的指针相同的表示和对齐要求。(39) 类似地，指向兼容类型的合格或非合格版本的指针应具有相同的表示和对齐要求。所有指向结构类型的指针都应具有彼此相同的表示和对齐要求。所有指向联合类型的指针都应具有彼此相同的表示和对齐要求。指向其他类型的指针不需要具有相同的表示或对齐要求。
> 
> 39) 相同的表示和对齐要求意味着作为函数的参数、函数的返回值和联合成员的可互换性。

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2013-02-18T06:21:52.943

您没有具体说明您要询问的语言版本。C99 规格：

> 指向对象或不完整类型的指针可以转换为指向不同对象或不完整类型的指针。如果结果指针未正确对齐 57) 指向的类型，则行为未定义。否则，当再次转换回来时，结果将等于原始指针。

在第 6.3.2.3 节中

这有点保证所有指针肯定会像它们一样大小。

嗯，不。正如potatoswatter指出的那样。转换能力不保证相同的尺寸。

# android - how to access StageFright API's to decode h264 video and render from application layer on Android (Gb and ICS)

> ID：14930420
> 
> 赞同：1
> 
> 时间：2013-02-18T06:07:23.040
> 
> 标签：android, stagefright, surfaceflinger

Is there any sample code which gives me an idea about how to access StageFright API's to decode h264 video as well as Rendering the Decoded data (which will be in YUV420 ) using Surfaceflinger APIs from application layer on Android (GB,ICS).

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T16:21:42.560

在标准的 android 发行版中，有一个命令行实用程序也被调用`stagefright`，`frameworks\base\cmds\stagefright (ICS)`它将执行基于命令行的独立解码。

如果您希望在 a 上解码和显示数据`Surface`，那么您需要创建 a ，它是框架`MediaPlayer`之上更高级别的抽象。`Stagefright`可以`Surface`通过具体的`SetVideoSurface`方法来设置`MediaPlayer`。

# java - How to check condition in one to many relation model filed value in jpa

> ID：14930428
> 
> 赞同：1
> 
> 时间：2013-02-18T06:08:21.510
> 
> 标签：java, hibernate, jpa, playframework

I am using play framework(java) 1.2.4, jpa and hibernate.How can i check relation(oneToMany) model filed value on find error occurred

Contry model:

```
@Entity
public class Countries extends Model {

    @Required
    public String name;

    public String iso2;

    public String iso3; 

    @OneToMany(mappedBy="country", fetch=FetchType.EAGER,  cascade=CascadeType.All)
    public List<States> states;

    public Countries() { }

} 
```

State model:

```
@Entity
public class States extends Model {

   @Required
   public long country_id;

   @Required
   public String name;  

   @Required
   public long product_id; 

   @ManyToOne(fetch=FetchType.EAGER)
   @NotFound(action = NotFoundAction.IGNORE)
   @JoinColumn(name="country_id", nullable=false,insertable=false, updatable=false)
   public Countries country;

   public States() { }
} 
```

In Contry controller:

```
 List<Countries> countries = Countries.find("states.product_id =5").fetch(); 
```

When i check states table value (oneToMany) following error occurred:

```
 IllegalArgumentException occured : org.hibernate.QueryException: illegal attempt to dereference collection 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T12:17:45.090

我认为这样的事情会起作用，尽管它未经测试。

```
List<Countries> countries = Countries.find(
    "select c from Countries c, States s where s.country = c and s.product_id = ?", 5
); 
```

你可能需要 5 左右的报价，我忘了。您也可以使用 join 子句来做到这一点，但我认为这里没有必要。

此外，您的型号名称应该是单数，而不是复数。那应该让你感到困惑。这让我很困惑:-)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T21:22:34.833

方法`find`也支持正常的 JPQL 查询。以下是获取具有 product_id 5 状态的唯一国家/地区列表的直接替换：

```
SELECT DISTINCT(s.country) FROM States s WHERE s.product_id = 5 
```

# php - Post tweet to a user with Twitter API

> ID：14930430
> 
> 赞同：5
> 
> 时间：2013-02-18T06:08:49.363
> 
> 标签：php, twitter, twitter-oauth

I have been using the [**Twitter Oauth API**](https://github.com/abraham/twitteroauth) for posting tweets to my twitter timeline from my php application. It is working well.

```
<?php
$tweet = new TwitterOAuth($consumerKey, $consumerSecret, $OAuthToken, $OAuthSecret);
$message = "This is a test message.";
$tweet->post('statuses/update', array('status' => "$message"));
?> 
```

But i would like to know, is there an API that can post tweets to the timeline of my friends (those i am following on twitter) ? Or does the twitter API allow posting of tweets only to the authenticated user's timeline?

# java - parentActivityName not found in package android, despite using API 16 and support libs

> ID：14930432
> 
> 赞同：0
> 
> 时间：2013-02-18T06:09:02.530
> 
> 标签：java, android

I'm trying to work through the Android tutorial's demo app. I'm using the command line tools, *not* Eclipse. I've worked through to [Starting Another Activity](http://developer.android.com/training/basics/firstapp/starting-activity.html), but am getting the following error when I try to run "ant debug":

```
-code-gen:
[mergemanifest] Merging AndroidManifest files into one.
[mergemanifest] Manifest merger disabled. Using project manifest only.
     [echo] Handling aidl files...
     [aidl] No AIDL files to compile.
     [echo] ----------
     [echo] Handling RenderScript files...
[renderscript] No RenderScript files to compile.
     [echo] ----------
     [echo] Handling Resources...
     [aapt] Generating resource IDs...
     [aapt] C:\Users\Vultaire\code\android\MyFirstApp\bin\AndroidManifest.xml:17:         error: No resource identifier found for attribute 'parentActivityName' in package 'android' 
```

Although I really want to compile for API 15 for my Samsung S3, I'm targeting API 16 in my manifest to work around the parentActivityName errors. The problem is, I don't seem to be getting around it. It's like the `<uses-sdk>` tag is not being recognized.

I have API versions 14 through 17 installed, plus Android SDK tools/platform tools, and the android support library. I've copied in the appropriate Android support library version into libs/ for eventually building for API 15.

That's all the main details I can think of, but for completeness:

My Android manifest looks like this:

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
      package="net.vultaire.example"
      android:versionCode="1"
      android:versionName="1.0">
    <uses-sdk
        android:minSdkVersion="16"
        android:targetSdkVersion="16" />
    <application android:label="@string/app_name" android:icon="@drawable/ic_launcher">
        <activity android:name="MainActivity"
                  android:label="@string/app_name">
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
        <activity
            android:name="DisplayMessageActivity"
            android:label="@string/title_activity_display_message"
            android:parentActivityName="MainActivity">
            <meta-data
                android:name="android.support.PARENT_ACTIVITY"
                android:value="MainActivity"
                />
        </activity>
    </application>
</manifest> 
```

And my project tree looks like this:

```
MyFirstApp/
├── AndroidManifest.xml
├── ant.properties
├── build.xml
├── deploy.bat
├── libs
│   └── android-support-v13.jar
├── local.properties
├── make.bat
├── proguard-project.txt
├── project.properties
├── res
│   ├── drawable-hdpi
│   │   └── ic_launcher.png
│   ├── drawable-ldpi
│   │   └── ic_launcher.png
│   ├── drawable-mdpi
│   │   └── ic_launcher.png
│   ├── layout
│   │   └── main.xml
│   └── values
│       └── strings.xml
└── src
    └── net
        └── vultaire
            └── example
                ├── DisplayMessageActivity.java
                └── MainActivity.java 
```

Thanks for any pointers... Normally I can figure this stuff out, but I'm at wits end here.

# android - 适用于所有活动的 Android 倒计时

> ID：14930436
> 
> 赞同：-1
> 
> 时间：2013-02-18T06:09:13.817
> 
> 标签：android, timer

我正在制作一个包含大约 20 个活动的应用程序，我想在活动 1 开始并完成对最后一个活动的计数时启动一个计数计时器。我找到了一种方法来创建一个子类并在 1 活动中调用计时器但我不知道如何将计时器的值从活动 1 传递到活动 2 和从 2 到 3 。这是我的代码

子类

```
package com.mytimer;

import java.lang.ref.WeakReference;

import java.util.TimerTask;
import android.os.Handler;

import android.widget.TextView;

public class IncrementTask extends TimerTask {

    WeakReference<TextView> mRef;
    int counter = 0;
    Handler handler = new Handler();

    public IncrementTask(TextView text) {
        mRef = new WeakReference<TextView>(text);
    }

    public void run() {
        handler.post(new Runnable() {
            public void run() {
                mRef.get().setText("counter " + counter);
                counter++;
            }
        });
    }
} 
```

在我的活动 1

```
TextView mTextView = (TextView)findViewById(R.id.text);
        Timer timer = new Timer();
        IncrementTask task = new IncrementTask(mTextView);
        timer.scheduleAtFixedRate(task, 0, 1000);

        Button btn = (Button)findViewById(R.id.button1);
        btn.setOnClickListener(new OnClickListener(){
            @Override
            public void onClick(View v) {
                Intent i = new Intent (MainActivity.this, Page2.class);
                startActivity(i);

            }       
        }); 
```

我想知道如何将计时器的值传递给下一个活动而不是从 0 开始计时器任何帮助请

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-18T06:15:25.493

在我看来，使用 Fragments 而不是 Activity，因为如果您使用 Fragment，它可以在屏幕上显示两个 Fragment，其中包含计时器和您的剩余内容。

如果您使用活动，则在您从一个屏幕移动到另一个屏幕时无法显示准确的计时器值。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T06:15:04.893

后续活动如何开始？我想用 startActivity() 或 startActivivtForResult() ，如果是这种情况，你会在意图中打发时间。但这不是一个好的解决方案，因为在此过程中您会“浪费时间”，因为活动的凝视并不精确到秒。为什么不创建一个在流程结束时开始并在结束时结束的计时器活动？

# hadoop - Hadoop 虚拟集群 vs 单机

> ID：14930439
> 
> 赞同：4
> 
> 时间：2013-02-18T06:09:24.440
> 
> 标签：hadoop, cluster-computing, virtualization, virtual-machine

我有一个关于在单台机器上使用多个虚拟化节点与在单台机器本身上使用单节点的速度和性能的问题。

哪一个会表现更好？

之所以问这个问题，是因为我目前是在单机上学习hadoop，在网上看到一些教程展示了在单机上使用多个虚拟化节点。

先感谢您

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-18T06:39:20.543

虚拟化总是有一些开销，所以除非真的有必要，否则我不建议在虚拟化环境中运行 Hadoop。

话虽如此，我知道 VMWare 在使 Hadoop 在虚拟化环境中工作方面做了很多工作，并且他们已经发布[了一些基准](https://www.vmware.com/files/pdf/VMW-Hadoop-Performance-vSphere5.pdf)，他们声称在某些条件下，VM 的性能优于原生应用程序。我对 vSphere 的使用不多，但是如果您想进一步探索虚拟化，这可能是值得一看的。但不要认为这些数字是理所当然的，这实际上取决于您运行的硬件类型，因此在某些情况下，我认为您可能会通过虚拟机获得一些性能，但我从经验中猜测，在大多数情况下您会赢什么都得不到。

如果您刚刚开始使用 Hadoop 进行测试，我认为虚拟化是多余的。您可以非常轻松地在伪分布式模式下运行 Hadoop，这意味着您可以在同一个机器上运行多个 Hadoop 守护程序，每个守护程序作为一个单独的进程。这就是我开始使用 Hadoop 的方式，这是一个良好的开端。[您可以在此处](http://hadoop.apache.org/docs/r1.1.1/single_node_setup.html#PseudoDistributed)找到更多信息（或者可能需要另一个页面，具体取决于您运行的 Hadoop 版本）。

如果您想使用真实集群进行测试，但没有资源，我建议您查看 Amazon Elastic Map/Reduce：它可以按需提供集群，而且非常便宜。这样您就可以进行更高级的测试。更多信息[在这里](http://aws.amazon.com/elasticmapreduce/)。

底线是，我认为如果目的只是测试，你真的不需要虚拟集群。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-18T06:39:41.733

针对该主题进行的性能分析案例研究表明，与原生 Hadoop 集群相比，虚拟 Hadoop 集群的效率仅低 4% 左右：[Virtualized hadoop performance case study](https://www.vmware.com/files/pdf/VMW-Hadoop-Performance-vSphere5.pdf "虚拟化 Hadoop 性能案例研究")

# svn - 处理 Subversion (TortoiseSVN)，从哪里开始？

> ID：14930440
> 
> 赞同：1
> 
> 时间：2013-02-18T06:09:33.283
> 
> 标签：svn, tortoisesvn, sharpsvn, svn-client

我想在 (ASP+C#) 中开发一个处理版本控制的网站。在该应用程序中，我的场景如下：

用户登录应用程序并编辑帖子，网站可能会向所有用户显示帖子的先前版本和新版本？

我搜索并发现我必须使用（TortoiseSVN）。我在网上找到了手动执行此操作的解决方案。但是当我搜索如何用 C# 来做到这一点时？只有我发现使用（SharpSVN）。我已经下载了（SharpSVN），现在我很困惑：

1.  我应该从哪里开始 (SharpSVN) ？
2.  帖子的内容（可编辑或用于版本控制）保存在 SQL-Server 数据库中。如何将这些内容与（TortoiseSVN）一起使用？

**任何方向和建议，链接或经验？**

谢谢...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-18T13:31:14.823

如果您希望您的 ASP.NET 应用程序与存储库交互，SharpSVN 是首选方法。

CollabNet 有一个[使用 SharpSVN 的演练](http://sharpsvn.open.collab.net/docs/walkthrough.htm)

版本控制客户端无法访问存储在 SQL Server 中的内容。您需要直接查询数据库，或者使用一个框架来抽象它并与您的应用程序的构建方式相结合。

无论您做什么，都**不要**在 SQL Server 和 Subversion 存储库之间复制任何内容。它只会成为一个巨大的头痛。

# javascript - Dojo 菜单栏项在页面关闭后保持焦点

> ID：14930441
> 
> 赞同：1
> 
> 时间：2013-02-18T06:09:37.043
> 
> 标签：javascript, selection, dojo, menuitem

*   我有带有一些菜单栏项目的 dijit.MenuBar。
*   单击菜单栏项时，会打开一个弹出页面。
*   关闭弹出窗口后，菜单栏项仍处于焦点。
*   我的需要是，在弹出页面关闭后，菜单栏项不应该成为焦点。

这是我的菜单栏：

```
<div class="claro" id="menuDiv21" onclick="setWidgetproperty(this.id,'x','navMenu21');" onmousedown="setMenuBarProperty('navMenu21');" onmouseup="setDocStyle(this.id)" style="border:1px dotted white; left: auto; position: absolute; top: 620px;">
     <div dojotype="dijit.MenuBar" id="navMenu21" style="font-size:11pt;" title="MenuBar">
          <div dojotype="dijit.MenuBarItem" id="SearchMenu21" onclick="getWorklistManagerSearch('htmlTable2');setMenuId(this.id);" style="font-size:11pt;" title="menuBarItem">
               <img class="images" id="SearchMenu21" name="search5.png" onclick="setImgProperty(this.id)" src="images/uploads/search.png" style="height:20px; width:20px;">
               Search
          </div>
          <div dojotype="dijit.MenuBarItem" id="TaskMenu21" onclick="setMenuId(this.id);" style="font-size:11pt;" title="menuBarItem">
               <img class="images" id="TaskMenu21" name="task6.png" onclick="setImgProperty(this.id)" src="images/uploads/task.png" style="height:20px; width:20px;">
               Task
          </div>
          <div dojotype="dijit.MenuBarItem" id="AssignMenu21" onclick="javascript:popupwindow('assign.jsp', 'Assign', 900, 550)" style="font-size:11pt;" title="menuBarItem">
               <img class="images" id="AssignMenu21" name="assign7.png" onclick="setImgProperty(this.id)" src="images/uploads/assign.png" style="height:20px; width:20px;">
               Assign
          </div>
          <div dojotype="dijit.MenuBarItem" id="ModifyMenu21" onclick="getWorklistManagerModify();" style="font-size:11pt;" title="menuBarItem">
               <img class="images" id="ModifyMenu21" name="modify8.jpg" onclick="setImgProperty(this.id)" src="images/uploads/modify.jpg" style="height:20px; width:20px;">
               Modify
          </div>
          <div dojotype="dijit.MenuBarItem" id="OrderMenu21" onclick="setMenuId(this.id);" style="font-size:11pt;" title="menuBarItem">
               <img class="images" id="OrderMenu21" name="order9.jpg" onclick="setImgProperty(this.id)" src="images/uploads/order.jpg" style="height:20px; width:20px;">
               Order
          </div>
          <div dojotype="dijit.MenuBarItem" id="HistoryMenu21" onclick="getWorklistManagerHistory();" style="font-size:11pt;" title="menuBarItem">
               <img class="images" id="HistoryMenu21" name="history10.png" onclick="setImgProperty(this.id)" src="images/uploads/history.png" style="height:20px; width:20px;">
               History
          </div>
     </div>
</div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-07-11T16:24:32.907

如果您的菜单项打开了 dijit/Dialog，则 Dialog 的默认行为是在 Dialog 关闭时重新聚焦启动它的项目。

此行为由 Dialog 上的一个属性驱动，该属性`refocus`默认为`true`.

如果您在创建 Dialog 时传入`{refocus:false}`的行为将被关闭。

# c++ - 升压范围适配器类似于 transform 可以访问相邻元素

> ID：14930445
> 
> 赞同：1
> 
> 时间：2013-02-18T06:10:02.783
> 
> 标签：c++, boost, c++11, boost-range

我想创建一个由给定范围的相邻值转换的范围。有没有办法做到这一点？因此，我想制作一个在下面的代码中描述的相邻转换。

```
class Func{
public:
    typedef int result_type;

    int operator()(int a, int b, int c) {
        return a+b+c;        
    }

};

int main(){
    vector<int> v{1,1,1,1,1};
    auto rng = make_iterator_range( next(v.begin(), prev(v.end()) ) | adjacent_transformed( Func() );
    // rng shoud be {3, 3, 3}
} 
```

另一个快速的问题：将右值传递`Func()`到范围适配器中是否安全`boost::adaptors::transformed`？据我测试，它按预期工作。如果它是安全的，是否将 Func() 复制到`transformed`? `Func()`那么，复制成本高怎么办？

抱歉，如果这不是一个相关问题，但我不够熟练，无法理解提升范围的内部结构。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T08:04:22.200

你可以使用这样的东西。我认为它应该调整，但它的工作原理。

```
template<typename Iterator, typename Functor>
class iterator : public boost::iterator_adaptor<
                 iterator<Iterator, Functor>,
                 Iterator,
                 typename std::iterator_traits<Iterator>::value_type,
                 boost::forward_traversal_tag,
                 typename std::iterator_traits<Iterator>::value_type,
                 typename std::iterator_traits<Iterator>::difference_type
            >, private Functor
{
   typedef boost::iterator_adaptor<
                 iterator<Iterator, Functor>,
                 Iterator,
                 typename std::iterator_traits<Iterator>::value_type,
                 boost::forward_traversal_tag,
                 typename std::iterator_traits<Iterator>::value_type,
                 typename std::iterator_traits<Iterator>::difference_type
            > base_t;
public:
   friend class boost::iterator_core_access;

   iterator(Iterator current, Functor fnc):
      base_t(current),
      Functor(fnc)
   {
   }

   typename std::iterator_traits<Iterator>::value_type dereference() const
   {
      Iterator i = this->base();
      const Functor& fnc = *this;
      return fnc(*boost::prior(i), *i, *boost::next(i));
   }
};

template<typename Iter, typename Func>
iterator<Iter, Func> make_iterator(Iter i, Func f)
{
   return iterator<Iter, Func>(i, f);
}

template<typename F, typename R>
struct trans_range : public boost::iterator_range<
                     iterator<typename boost::range_iterator<R>::type,
                     F>>
{
   typedef boost::iterator_range<
                     iterator<typename boost::range_iterator<R>::type,
                     F>> base_t;
   trans_range(F f, R& r) :
      base_t(make_iterator(boost::begin(r), f), make_iterator(boost::end(r), f))
   {
   }
};

template< class T >
struct holder
{
   T val;
   holder( T t ) : val(t)
   { }
};

template<typename T>
struct trans_holder : holder<T>
{
   trans_holder(T r) : holder<T>(r) { }
};

template< template<class> class Holder >
struct forwarder
{
   template< class T >
   Holder<T> operator()( T t ) const
   {
       return Holder<T>(t);
   }
};

template<typename R, typename F>
inline trans_range<F, R> operator |(R range, const trans_holder<F>& f)
{
   return trans_range<F, R>(f.val, range);
}

forwarder<trans_holder> transformed = forwarder<trans_holder>(); 
```

[例子](http://liveworkspace.org/code/x4zvG%240)

# ruby-on-rails - 尝试使用 nginx 和 unicorn 将 rails 应用程序配置为 SSL 时出现太多重定向错误

> ID：14930452
> 
> 赞同：21
> 
> 时间：2013-02-18T06:10:33.523
> 
> 标签：ruby-on-rails, ssl, nginx, ssl-certificate, unicorn

我正在尝试使用 Nginx 和 Unicorn 使用 SSL 配置 Rails 应用程序。我正在尝试在本地进行设置。为此，我首先使用 OpenSSL for Nginx 创建了一个自签名证书。我按照[文档](https://www.digitalocean.com/community/articles/how-to-create-a-ssl-certificate-on-nginx-for-ubuntu-12-04)创建自签名证书。之后，我在块`nginx.conf`内配置如下：`http`

```
upstream unicorn_myapp {
    # This is the socket we configured in unicorn.rb
    server unix:root_path/tmp/sockets/unicorn.sock fail_timeout=0;
}

server {
    listen 80;
    server_name dev.myapp.com;
    rewrite ^/(.*) http://dev.myapp.com/$1 permanent;
}

server {
    listen                80;
    listen                443 ssl;
    server_name           dev.myapp.com;
    ssl                   on;
    ssl_certificate       /etc/nginx/ssl/server.pem;
    ssl_certificate_key   /etc/nginx/ssl/server.key;
    ssl_protocols         SSLv3 TLSv1;
    ssl_ciphers           ALL:-ADH:+HIGH:+MEDIUM:-LOW:-SSLv2:-EXP;
    ssl_session_cache     shared:SSL:10m;

    root root_path/public;

    location / {
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header Host $http_host;
        proxy_redirect off;

        if (!-f $request_filename) {
            proxy_pass http://unicorn_myapp;
            break;
        }
    }
} 
```

我尝试在本地设置它，并在本地启动 Unicorn。我映射`127.0.0.1`到`dev.myapp.com`. `/etc/hosts`但是在启动服务器后，当我尝试 ping 应用程序时，它在 Chrome 中给出了以下错误：

```
This webpage has a redirect loop
Error 310 (net::ERR_TOO_MANY_REDIRECTS): There were too many redirects. 
```

以及 Firefox 中的以下错误：

```
The page isn't redirecting properly 
```

显示`nginix.access.log`以下结果：

```
127.0.0.1 - - [18/Feb/2013:12:56:16 +0530] "GET / HTTP/1.1" 301 5 "-" "Mozilla/5.0 (X11;        Linux i686) AppleWebKit/537.4 (KHTML, like Gecko) Chrome/22.0.1229.79 Safari/537.4"
127.0.0.1 - - [18/Feb/2013:12:56:16 +0530] "-" 400 0 "-" "-"
127.0.0.1 - - [18/Feb/2013:12:56:16 +0530] "GET / HTTP/1.1" 301 5 "-" "Mozilla/5.0 (X11; Linux i686) AppleWebKit/537.4 (KHTML, like Gecko) Chrome/22.0.1229.79 Safari/537.4"
127.0.0.1 - - [18/Feb/2013:12:56:16 +0530] "-" 400 0 "-" "-"
127.0.0.1 - - [18/Feb/2013:12:56:16 +0530] "GET / HTTP/1.1" 301 5 "-" "Mozilla/5.0 (X11; Linux i686) AppleWebKit/537.4 (KHTML, like Gecko) Chrome/22.0.1229.79 Safari/537.4"
127.0.0.1 - - [18/Feb/2013:12:56:43 +0530] "-" 400 0 "-" "-"
127.0.0.1 - - [18/Feb/2013:12:56:43 +0530] "-" 400 0 "-" "-"
127.0.0.1 - - [18/Feb/2013:12:56:43 +0530] "-" 400 0 "-" "-"
127.0.0.1 - - [18/Feb/2013:12:56:43 +0530] "-" 400 0 "-" "-"
127.0.0.1 - - [18/Feb/2013:12:56:43 +0530] "GET / HTTP/1.1" 301 5 "-" "Mozilla/5.0 (X11; Linux i686) AppleWebKit/537.4 (KHTML, like Gecko) Chrome/22.0.1229.79 Safari/537.4"
127.0.0.1 - - [18/Feb/2013:12:56:43 +0530] "-" 400 0 "-" "-"
127.0.0.1 - - [18/Feb/2013:12:56:43 +0530] "GET / HTTP/1.1" 301 5 "-" "Mozilla/5.0 (X11; Linux i686) AppleWebKit/537.4 (KHTML, like Gecko) Chrome/22.0.1229.79 Safari/537.4"
127.0.0.1 - - [18/Feb/2013:12:56:43 +0530] "-" 400 0 "-" "-"
127.0.0.1 - - [18/Feb/2013:12:56:43 +0530] "GET / HTTP/1.1" 301 5 "-" "Mozilla/5.0 (X11; Linux i686) AppleWebKit/537.4 (KHTML, like Gecko) Chrome/22.0.1229.79 Safari/537.4"
127.0.0.1 - - [18/Feb/2013:12:56:43 +0530] "-" 400 0 "-" "-"
127.0.0.1 - - [18/Feb/2013:12:56:43 +0530] "GET / HTTP/1.1" 301 5 "-" "Mozilla/5.0 (X11; Linux i686) AppleWebKit/537.4 (KHTML, like Gecko) Chrome/22.0.1229.79 Safari/537.4"
127.0.0.1 - - [18/Feb/2013:12:56:43 +0530] "-" 400 0 "-" "-"
127.0.0.1 - - [18/Feb/2013:12:56:43 +0530] "GET / HTTP/1.1" 301 5 "-" "Mozilla/5.0 (X11; Linux i686) AppleWebKit/537.4 (KHTML, like Gecko) Chrome/22.0.1229.79 Safari/537.4"
127.0.0.1 - - [18/Feb/2013:12:56:43 +0530] "-" 400 0 "-" "-" 
```

任何人都可以帮我找到解决方案吗？

* * *

## 回答 #1

> 赞同：74
> 
> 时间：2014-02-15T05:50:45.703

您缺少标题：

```
proxy_set_header X-Forwarded-Proto https; 
```

让我引用一篇全面[的文章](http://seaneshbaugh.com/posts/configuring-nginx-and-unicorn-for-force_ssl)，它很好地解释了 Rails 如何在 Nginx 上处理 HTTPS：

> `force_ssl`依赖`HTTP_X_FORWARDED_PROTO`HTTP 标头来确定请求是否为 HTTPS 请求。如果未设置此设置，`https`那么您将最终出现无限重定向循环，因为您`force_ssl`总是认为转发的请求不是 HTTPS。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-10-09T05:02:24.043

复制评论中的答案，以便从“未回答”过滤器中删除此问题：

> 尝试将 'rewrite ^/(.*) http://...' 更改为 'rewrite ^/(.*) https://...' 并从第二个服务器块中删除 listen 80

〜回答每[家9](https://stackoverflow.com/users/317989/house9)

# php - 是否可以在不将“全局”放在函数前面的情况下访问变量？

> ID：14930456
> 
> 赞同：0
> 
> 时间：2013-02-18T06:10:44.177
> 
> 标签：php

我的代码比这复杂得多，但仅此而已：

```
$string = "wuddup";

function echothis() {
echo $string;
}

echothis(); 
```

有没有一种简单的方法可以做到这一点`global $string`？

原因是，我有一个检查登录功能，有很多变量，我在函数之外有配置变量......

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-18T06:13:43.673

Whatever happened to parameters?

```
function echothis($str) {
    echo $str;
}

echothis($string); 
```

If you are having issues with managing variables and their scope, chances are you need to refactor your code structure.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-18T06:14:42.903

只需创建一个类并向其添加静态变量。您可以从任何地方访问它，而无需创建该类的实例。

```
class base2 {
public static $var2 = 1; 
```

}

参考如下

```
echo base2::$var2; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-18T06:15:55.433

您可以让您的函数将变量作为参数或者包含所有这些参数的数组。

```
$all_variables = array(
  "string" => "wuddup",
  "number" => 6,
  "an_array" => array(1, 3, 4)
);

function example_func($args) {
  // does things
}

example_func($all_variables); 
```

或者，您可以创建一个类并通过`$this`.

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-18T06:16:04.883

您可以将配置变量定义为常量并在函数内部调用它们。

# javascript - 返回 [对象 HTMLSpanElement]

> ID：14930457
> 
> 赞同：3
> 
> 时间：2013-02-18T06:10:50.693
> 
> 标签：javascript, html

```
<form>
   <table>
     <tr>
        <td>Distance:</td>
        <td><input type="number" id="distance" onKeyUp="calculate();">m</td>
     </tr>
     <tr>
        <td>Time:</td>
        <td><input type="number" id="time" onKeyUp="calculate();">s</td>
     </tr>
     <tr>
        <td>Speed:</td>
        <td><span id="speed">21</span><span id="unit">&nbsp;m/s</span></td>
     </tr>
  </table>
</form>

<script type="text/javascript">

   var calculate = function() {
      var distance = document.getElementById("distance").value;
      var time = document.getElementById("time").value;
      var speed = distance/time;}
      if (speed=="Infinity" || speed=="NaN") {
         document.getElementById("speed").innerHTML="Invalid Input";
         document.getElementById("unit").innerHTML="";
      } else {
         document.getElementById("speed").innerHTML=speed;
      }

</script> 
```

我正在制作一个简单的速度计算器，但它不起作用。输出来自**[object HTMLSpanElement]** 任何帮助将不胜感激，因为我是 javascript 新手。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-18T06:15:52.610

`speed`最后一行中的变量与您设置的变量不同，因为它位于不同的范围内。

试试这个：

```
var calculate = function() {
  var distance = document.getElementById("distance").value;
  var time = document.getElementById("time").value;
  var speed = distance/time;

  if (speed=="Infinity" || speed=="NaN"){
    document.getElementById("speed").innerHTML="Invalid Input";
    document.getElementById("unit").innerHTML="";
  }else{
    document.getElementById("speed").innerHTML=speed;
  }
}; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-18T06:17:33.123

原因是范围：

```
var calculate = function() {
  var distance = document.getElementById("distance").value;
  var time = document.getElementById("time").value;
  var speed = distance/time;
}

// speed is not within the right scope anymore 
// because you closed the function above!
if (speed=="Infinity" || speed=="NaN"){
  document.getElementById("speed").innerHTML="Invalid Input";
  document.getElementById("unit").innerHTML="";
}else{
  document.getElementById("speed").innerHTML=speed;
} 
```

因为您的脚本在其中运行`document`，所以 的值`speed`被解析为元素`<span id="speed" ... >`。

移动函数内的最后一个 if 语句：

```
var calculate = function() {
  var distance = document.getElementById("distance").value;
  var time = document.getElementById("time").value;
  var speed = distance/time;

  if (speed=="Infinity" || speed=="NaN"){
    document.getElementById("speed").innerHTML="Invalid Input";
    document.getElementById("unit").innerHTML="";
  }else{
    document.getElementById("speed").innerHTML=speed;
  }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-18T06:17:39.983

这是一个不明显的问题。它有助于适当的缩进

```
var calculate = function() {
  var distance = document.getElementById("distance").value;
  var time = document.getElementById("time").value;
  var speed = distance/time;
}

if (speed=="Infinity" || speed=="NaN"){
  document.getElementById("speed").innerHTML="Invalid Input";
  document.getElementById("unit").innerHTML="";
} else{
  document.getElementById("speed").innerHTML=speed;
} 
```

您分配的值`speed`实际上并未在代码中的任何位置定义。不使用`speed`from inside of`calculate`是因为它在函数范围内。您实际分配的`speed`是浏览器根据`id`您提供给元素的内容自动创建的内容。

如果您将作业放在您的`calculate`中，问题将得到解决。

```
var calculate = function() {
  var distance = document.getElementById("distance").value;
  var time = document.getElementById("time").value;
  var speed = distance/time;

  if (speed=="Infinity" || speed=="NaN"){
    document.getElementById("speed").innerHTML="Invalid Input";
    document.getElementById("unit").innerHTML="";
  } else{
    document.getElementById("speed").innerHTML=speed;
  }
} 
```

# dns - 如何使用对应的 DS 验证 DNSKEY

> ID：14930460
> 
> 赞同：3
> 
> 时间：2013-02-18T06:11:03.080
> 
> 标签：dns

名称服务器上的 DNSKEY 可以通过使用存储在其父名称服务器上的 DS 来验证。根据 RFC4034：DS 记录通过包含该 DNSKEY RR 的摘要来引用 DNSKEY RR。

摘要是通过将 DNSKEY RR 的完全限定所有者名称的规范形式与 DNSKEY RDATA 连接起来，然后应用摘要算法来计算的。

```
 digest = digest_algorithm( DNSKEY owner name | DNSKEY RDATA);

  "|" denotes concatenation

 DNSKEY RDATA = Flags | Protocol | Algorithm | Public Key. 
```

以下示例显示了 DNSKEY RR 及其对应的 DS RR。

```
 dskey.example.com. 86400 IN DNSKEY 256 3 5 ( AQOeiiR0GOMYkDshWoSKz9Xz
                                         fwJr1AYtsmx3TGkJaNXVbfi/
                                         2pHm822aJ5iI9BMzNXxeYCmZ
                                         DRD99WYwYqUSdjMmmAphXdvx
                                         egXd/M5+X7OrzKBaMbCVdFLU
                                         Uh6DhweJBjEVv5f2wwjM9Xzc
                                         nOf+EPbtG9DMBmADjFDc2w/r
                                         ljwvFw==
                                         ) ;  key id = 60485
   dskey.example.com. 86400 IN DS 60485 5 1 ( 2BB183AF5F22588179A53B0A
                                          98631FAD1A292118 ) 
```

谁能向我解释如何根据 DNSKEY 生成 DS？我的具体问题是我应该如何连接并生成“DNSKEY RDATA”？提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-21T13:40:08.233

根据此[页面](http://www.mail-archive.com/opendnssec-user@lists.opendnssec.org/msg01788.html)上的信息：

> 实际上，摘要是在以下字段上计算的，连接起来：
> 
> DNSKEY 所有者名称：se。(0x 02736500) 标志：257 (0x0101) 协议：3 (0x03) 算法：5 (0x05) 公钥：Aw……</p>
> 
> 前四个字段，十六进制如下：02736500 0101 03 05，

我的问题是如何计算 DNSKEY 域名的值（在本例中为 se.）。我不知道的概念是“有线格式”。幸运的是，来自英国 Nominet 的 Roy Arends 向我清楚地解释了它是什么：

> 域名，在“wireformat”中是一组标签，其中每个标签前面都有一个长度值，并以空标签（值 0x00）结束
> 
> 对于“se”。线路格式为：02（“se”的长度）然后是 73 65（“s”和“e”的 ascii 值的十六进制表示，然后是空标签（值 00）：0x 02 73 65 00
> 
> 对于根 (".")，该值仅为 00，因此为 0x00
> 
> “dnssec-tools”是 12 个字符长，所以长度值是：0c 那么 dnssec-tools 十六进制的 ascii 表示：64 6e 73 73 65 63 2d 74 6f 6f 6c 73 “org”是 3 个字符长，所以长度值为：03，然后是 org 的十六进制 ascii 表示：6f 72 67 后跟空标签：00
> 
> 总而言之：“dnssec-tools.org”。是 0x0c646e737365632d746f6f6c73036f726700

谢谢阿吉安罗伊。

# android - 将 Android 位图转换为 LibGdx 的纹理

> ID：14930463
> 
> 赞同：3
> 
> 时间：2013-02-18T06:11:18.110
> 
> 标签：android, libgdx

我正在尝试通过转换将位图转换为 libGDX 纹理：

1.  安卓`Bitmap`到`byte[]`
2.  `byte[]`到 libGDX[`Pixmap`](http://libgdx.badlogicgames.com/nightlies/docs/api/com/badlogic/gdx/graphics/Pixmap.html)
3.  libGDX`Pixmap`到 libGDX`Texture`

我面临的问题是转换为纹理的位图正在从资产文件夹中的纹理打包器中绘制精灵表

```
public void onByteArrayOfCroppedImageReciever(byte[] bytes) {
    try {
        pmap=new Pixmap(bytes, 0, bytes.length);
        tex=new Texture(pmap);
        face=new Sprite(tex);
        // game.setScreen(new GameScreen(game, batcher, face));
    } catch(Exception e) {
        Gdx.app.log("KS", e.toString());
        e.printStackTrace();
    }
} 
```

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2014-01-23T21:06:20.603

如果目标是将 Android 位图转换为 libgdx 纹理，则根本不需要使用 Pixmap。您可以在简单的 OpenGL 和 Android GLUtils 的帮助下直接完成。尝试以下方法；它比您的解决方案快 100 倍。我假设你不在渲染线程中（你不应该很可能）。如果是，则无需调用 postRunnable()。

```
 Gdx.app.postRunnable(new Runnable() {
        @Override
        public void run() {
          Texture tex = new Texture(bitmap.getWidth(), bitmap.getHeight(), Format.RGBA8888);
          GLES20.glBindTexture(GLES20.GL_TEXTURE_2D, tex.getTextureObjectHandle());
          GLUtils.texImage2D(GLES20.GL_TEXTURE_2D, 0, bitmap, 0);
          GLES20.glBindTexture(GLES20.GL_TEXTURE_2D, 0);
          bitmap.recycle();
          // now you have the texture to do whatever you want
        }
      }); 
```

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2013-05-02T00:47:10.550

嗯，另一种可能性是您遇到了线程问题。我在 UI 线程上加载我自己的非托管纹理时注意到了这种问题，而 libgdx 在渲染线程上同时加载纹理。如果这是问题，简单的解决方案是使用 Gdx.app.postRunnable 将纹理的创建与渲染线程同步。IE：

```
public void onByteArrayOfCroppedImageReciever(byte[] bytes) {
    try {
        pmap=new Pixmap(bytes, 0, bytes.length);
        Gdx.app.postRunnable(new Runnable() {
            @Override
            public void run() {            
                tex=new Texture(pmap);
                face=new Sprite(tex);
            }
        });
    } catch(Exception e) {
        Gdx.app.log("KS", e.toString());
        e.printStackTrace();
    }
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-06-20T07:11:03.090

您必须在新线程上编写代码，因为 pixmap 类需要时间进行字节转换，并且有时会返回一个临时 pixmap，以防进程尚未完成，因此最好在单独的线程上运行，您的问题将得到解决。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-07-26T14:49:08.110

您是否致力于该运营渠道？这是进行您要求的转换的另一种方法：

1.  实现 com.badlogic.gdx.graphics.TextureData 以在构造函数中获取 android.graphics.Bitmap。
2.  在 prepare() 中，使用 Bitmap.getPixels 分配和填充 IntBuffer。
3.  使用 bitmath 将缓冲区中的数据从 ARGB 交换为 RGBA：`(arr[i] << 8) | (arr[i]>>24)`
4.  在 getType() 中返回 TextureData.TextureDataType.Compressed
5.  在 consumeCompressedData() 调用 glTexImage2D 将数据输入（预绑定）纹理。

您上面的管道包括像素数据的多个副本和重新压缩；此管道允许您将位图数据直接输入到纹理中，只需一个副本（无论如何都是字节格式转换所必需的）。这对你有用吗？

# android - 从广播接收器恢复活动

> ID：14930464
> 
> 赞同：2
> 
> 时间：2013-02-18T06:11:22.183
> 
> 标签：android, android-activity, broadcastreceiver

我正在尝试从广播接收器的`onReceive()`方法中恢复活动，如下所示：

```
Intent i = new Intent(context, TimerSet.class);
i.setFlags(Intent.FLAG_ACTIVITY_REORDER_TO_FRONT | Intent.FLAG_ACTIVITY_NEW_TASK);
context.startActivity(i); 
```

然而，活动 ( `TimerSet.class`) 被重新创建而不是恢复。我发现这个问题的唯一推荐解决方案是使用`FLAG_ACTIVITY_REORDER_TO_FRONT`但我已经在使用它。

此外， using`Intent.FLAG_ACTIVITY_NEW_TASK`不适合我的用例，但是当我不提供它时会出现以下异常：

```
android:util.AndroidRuntimeException: Calling startActivity() from outside of an 
Activity context requires the FLAG_ACTIVITY_NEW_TASK flag. Is this really what you 
want? 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-05-14T00:07:15.577

我不确定这是否正是你的问题，但我有一种情况，我收到通知，我想在不启动新实例的情况下启动我的应用程序（如果它已经在运行）我终于发现这些会起作用。如果活动已经在运行，则 FLAG_ACTIVITY_NEW_TASK 不会开始新的瞬间。但是，它会将其添加到现有堆栈中。因此，我们可以做一个 FLAG_ACTIVITY_CLEAR_TOP，这样 back 将把用户带到主屏幕而不是之前的状态。

```
intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TOP); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-18T06:15:51.757

删除 FLAG_ACTIVITY_NEW_TASK 标志。还要添加这个标志 -> FLAG_ACTIVITY_CLEAR_TOP。如果已经存在，这将阻止创建新活动。

# wordpress - 显示插件联系我们表格

> ID：14930466
> 
> 赞同：0
> 
> 时间：2013-02-18T06:11:50.837
> 
> 标签：wordpress

我是wordpress的新手。我只安装了联系我们表单的插件，但它如何在主页上显示。插件的链接在这里[http://wordpress.org/extend/plugins/visual-form-b​​uilder](http://wordpress.org/extend/plugins/visual-form-builder)

请帮我

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T09:24:56.040

这不是很复杂，请试试这个：

1.  在“Visual Form Builder”的 WordPress 后端构建一个新表单
2.  导航到应显示联系表单的页面/帖子
3.  所见即所得编辑器顶部的“媒体管理器”右侧是一个新按钮，可让您添加新表单。
4.  选择您的表格和印刷插页。

最好的祝福。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-11-26T19:32:37.647

嘿别担心这里是一个例子[http://www.guneet.in/contact/](http://www.guneet.in/contact/)

去添加新插件>>输入“bigcontact page”点击立即安装>>激活插件

然后进入插件设置。休息你会更好地理解它。

保持联系 ！！:)

# bash - ls: cannot access file : 没有这样的文件或目录

> ID：14930479
> 
> 赞同：1
> 
> 时间：2013-02-18T06:13:13.677
> 
> 标签：bash, shell, ls

在 shell 脚本中，我将不得不访问存储在 /usr/local/mysql/data 中的二进制日志。但是当我这样做时，

```
STARTLOG=000002
ENDLOG=000222
file=`ls -d /usr/local/mysql/data/mysql-bin.{$STARTLOG..$ENDLOG}| sed 's/^.*\///'`
echo $file 
```

我收到以下错误：

```
ls: cannot access /usr/local/mysql/data/mysql-bin.{000002..000222}: No such file or directory. 
```

但是，当我手动输入范围内的数字时，shell 脚本会正常运行而不会出错。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-18T06:39:02.860

在 bash 中，大括号扩展发生在变量扩展之前。这意味着您不能在内部使用变量`{}`并获得预期的结果。我建议使用数组和 for 循环：

```
startlog=2
endlog=222
files=()

for (( i=startlog; i<=endlog; i++ ));
   fname=/usr/local/mysql/data/mysql-bin.$(printf '%06d' $i)
   [[ -e "$fname" ]] && files+=("${fname##*/}")
done

printf '%s\n' "${files[@]}" 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-18T06:36:44.033

尝试使用`seq(1)`：

```
file=`ls -d $(seq --format="/usr/local/mysql/data/mysql-bin.%06.0f" $STARTLOG $ENDLOG) | sed 's/^.*\///'` 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-18T06:16:38.597

您想要 000002..000222 范围内的文件

但是由于引号，您要求使用该名称的文件

```
/usr/local/mysql/data/mysql-bin.{000002..000222} 
```

我会使用一个shell循环：[http ://www.cyberciti.biz/faq/bash-loop-over-file/](http://www.cyberciti.biz/faq/bash-loop-over-file/)

# jquery - 动态添加多个文本框的问题

> ID：14930481
> 
> 赞同：2
> 
> 时间：2013-02-18T06:13:22.397
> 
> 标签：jquery, html, textbox, jquery-effects

*   有两个内联文本框，旁边有一个“+”号。单击加号时，会添加一个新文本框，它将具有“+”和“-”符号，分别用于添加和删除文本框。我使用[这个](http://blogaddition.com/2013/01/dynamically-add-remove-text-box-using-jquery/)资源来实现我的文本框。现在，我只想为每个文本框添加 10 个文本框。表示关键字[] 的 10 个文本框和 link_name[] 的 10 个文本框，如您在输入标签的名称中所见。但是使用此代码它不起作用。

    **如果我继续为关键字[] 添加文本框，则会添加 19 个文本框，然后如果我尝试为 link_name[] 添加文本框，则它不会添加单个文本框并显示达到的最大限制。**

    如果添加反之亦然，它可以正常工作。

*   另一个问题是反弹效果不起作用。对效果不太熟悉，因此无法找到它不起作用的原因。

jQuery 和 HTML 如下所示：

**jQuery**

```
$(document).ready(function() {
    var id_1 = 2, max = 9, append_data;
    /*TEXT BOXES FOR LINK NAMES*/   
    /*If add_1 icon was clicked*/
    $("#add_1").live('click', function(){
        if($("div[id^='txt_']").length <9){ //Don't add new text box if limit is reached
            $(this).remove(); //remove add icon from the current text box
            var append_data = '<div id="txt_'+id_1+'" class="txt_div" style="display:none;"><div class="left"><input type="text" id="input_'+id_2+'" name="link_name[]"/></div><div class="right"><img src="add.png" id="add_1"/> <img src="remove.png" id="remove_1"/></div></div>';
            $("#textboxes_1").append(append_data); //append new text box in main div
            $("#txt_"+id_1).effect("bounce", { times:3 }, 300); //display block appended text box with silde down
            id_1++;
        }
        else{
            alert("Maximum 10 textboxes are allowed");  
        }
    })
    $("#remove_1").live('click',function(){
        var prev_obj = $(this).parents().eq(1).prev().attr('id'); //prev div id of this text_box
        $(this).parents().eq(1).slideUp('medium', function() { $(this).remove(); //remove this text box with a slide up
        if($("div[id^='txt_']").length >1){
            append_data = '<img src = "remove.png" id = "remove_1"/>';
        }
        else{
            append_data = '';
        }
        if($("#add_1").length< 1){
            $("#"+prev_obj+" .right").html('<img src = "add.png" id = "add_1"/>'+append_data);
        }
        });
    })

/*TEXT BOXES FOR KEYWORDS*/

    /*If add_2 icon was clicked*/
    var id_2 = 12, max = 19;
    $("#add_2").live('click', function(){
        if($("div[id^='txt_']").length <19){ //Don't add new text box if limit is reached
            $(this).remove(); //remove add icon from the current text box
            var append_data = '<div id="txt_'+id_2+'" class="txt_div" style="display:none;"><div class="left"><input type="text" id="input_'+id_2+'" name="keyword[]"/></div><div class="right"><img src="add.png" id="add_2"/> <img src="remove.png" id="remove_2"/></div></div>';
            $("#textboxes_2").append(append_data); //append new text box in main div
            $("#txt_"+id_2).effect("bounce", { times:3 }, 300); //display block appended text box with silde down
            id_2++;
        }
        else{
            alert("Maximum 10 textboxes are allowed");  
        }
    })
    $("#remove_2").live('click',function(){
        var prev_obj = $(this).parents().eq(1).prev().attr('id'); //prev div id of this text_box
        $(this).parents().eq(1).slideUp('medium', function() { $(this).remove(); //remove this text box with a slide up
        if($("div[id^='txt_']").length >1){
            append_data = '<img src = "remove.png" id = "remove_2"/>';
        }
        else{
            append_data = '';
        }
        if($("#add_2").length< 1){
            $("#"+prev_obj+" .right").html('<img src = "add.png" id = "add_2"/>'+append_data);
        }
        });
    })
}); 
```

**HTML**

```
<div id="textboxes_1" class="inline">
    <div id="text_1" class="text_div">
        <div class="left">
            <input type="text" id="input_1" value="Enter URL(s) here" name="link_name[]" />
        </div>
        <div class="right">
            <img src="add.png" id="add_1" />
        </div>
    </div>
</div>
<div id="textboxes_2" class="inline">
    <div id="text_11" class="text_div">
        <div class="left">
            <input type="text" id="input_11" value="Enter Keyword(s) here" name="keyword[]" />
        </div>
        <div class="right">
            <img src="add.png" id="add_2" />
        </div>
    </div>
</div>
<div style="clear:left;"></div>
<input type="submit" id="submit" name="submit" value="SUBMIT"> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-18T09:01:33.940

好的，所以答案很简单您犯了一些逻辑错误，下面是您的代码，其中包含注释中描述的一些修复：

```
$(document).ready(function() {
var id_1 = 2, max = 9, append_data;
/*TEXT BOXES FOR LINK NAMES*/   
/*If add_1 icon was clicked*/
$("#add_1").live('click', function(){
    if($("#textboxes_1 input").length <10){ //Don't add new text box if limit is reached
// Here You have to check #textboxes_1 for his own input's, and You have to give 10 not 9, becouse lenght is allways actual number of elements

        $(this).remove(); //remove add icon from the current text box
        var append_data = '<div id="txt_'+id_1+'" class="txt_div"><div class="left"><input type="text" id="input_'+id_1+'" name="link_name[]"/></div><div class="right"><img src="add.png" id="add_1"/> <img src="remove.png" id="remove_1"/></div></div>';
// in the code abowe You give id="input_'+id_2+'", I belive it should be id="input_'+id_1+'"
        $("#textboxes_1").append(append_data); //append new text box in main div
        $("#txt_"+id_1).effect("bounce", { times:3 }, 300); //display block appended text box with silde down
        id_1++;
    }
    else{
        alert("Maximum 10 textboxes are allowed");  
    }
})
$("#remove_1").live('click',function(){
    var prev_obj = $(this).parents().eq(1).prev().attr('id'); //prev div id of this text_box
    $(this).parents().eq(1).slideUp('medium', function() { $(this).remove(); //remove this text box with a slide up
    if($("div[id^='txt_']").length >1){
        append_data = '<img src = "remove.png" id = "remove_1"/>';
    }
    else{
        append_data = '';
    }
    if($("#add_1").length< 1){
        $("#"+prev_obj+" .right").html('<img src = "add.png" id = "add_1"/>'+append_data);
    }
    });
})

/*TEXT BOXES FOR KEYWORDS*/

/*If add_2 icon was clicked*/
var id_2 = 12, max = 19;
$("#add_2").live('click', function(){
    if($("#textboxes_2 input").length <20){ //Don't add new text box if limit is reached
// The same issue was here as well

        $(this).remove(); //remove add icon from the current text box
        var append_data = '<div id="txt_'+id_2+'" class="txt_div" ><div class="left"><input type="text" id="input_'+id_2+'" name="keyword[]"/></div><div class="right"><img src="add.png" id="add_2"/> <img src="remove.png" id="remove_2"/></div></div>';
        $("#textboxes_2").append(append_data); //append new text box in main div
        $("#txt_"+id_2).effect("bounce", { times:3 }, 300); //display block appended text box with silde down
        id_2++;
    }
    else{
        alert("Maximum 10 textboxes are allowed");  
    }
})
$("#remove_2").live('click',function(){
    var prev_obj = $(this).parents().eq(1).prev().attr('id'); //prev div id of this text_box
    $(this).parents().eq(1).slideUp('medium', function() { $(this).remove(); //remove this text box with a slide up
    if($("div[id^='txt_']").length >1){
        append_data = '<img src = "remove.png" id = "remove_2"/>';
    }
    else{
        append_data = '';
    }
    if($("#add_2").length< 1){
        $("#"+prev_obj+" .right").html('<img src = "add.png" id = "add_2"/>'+append_data);
    }
    });
}) 
```

});

# css - 如何在 gsp 页面中传递 servlet 上下文参数

> ID：14930484
> 
> 赞同：0
> 
> 时间：2013-02-18T06:13:38.960
> 
> 标签：css, grails, hyperlink

谁能知道如何在 gsp 页面中传递 servlet 上下文值。

我需要将 servlet 上下文值 customcss 传递给资源链接。

如果我在我的 gsp 页面中打印 ${application.customcss}，我会得到 main.css 的值。

但是当我尝试将其传递给文件链接时，它不会采用 ${application.customcss} 值。

```
<link rel="stylesheet" href="${resource(dir: 'css', file:'${application.customcss}')}" type="text/css"> 
```

在我的页面中，链接没有正确创建。它直接将 ${application.customcss} 作为文件。

```
 <link rel="stylesheet" href="/SAM-1.0/css/${application.customcss}" type="text/css"> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T06:19:16.003

尝试：

```
<link rel="stylesheet" href="${resource(dir: 'css', file: application.customcss)}" type="text/css"> 
```

`${resource(...`已经是 Groovy 代码了，不需要再用`${..}`里面的块了

# javascript - 用jquery浮动

> ID：14930486
> 
> 赞同：-2
> 
> 时间：2013-02-18T06:13:44.107
> 
> 标签：javascript, jquery, position, validation

我正在用 javascript 进行验证，并且需要在提交表单时为每个字段创建一个浮动 div

我正在使用`blur`检查字段，但不知道如何创建浮动 div

如下图所示

有人有想法吗？

> [字段 1] [浮动错误消息]
> 
> [字段 2] [浮动错误消息]
> 
> [字段 3] [浮动错误消息]

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T06:20:15.977

在模糊的字段之后附加浮动 div

```
$('input[type=text]').blur(function() {
  // do your validation
  if (error) {
    $('<p>')
      .text('Validation Error: '+error)
      .css('float', 'left')
      .insertAfter(this);
  }
}); 
```

恕我直言，最好将所有样式保留在 CSS 中。我会亲自将“.css()”调用替换为“.addClass()”，然后设置一个样式规则来浮动错误消息。如果使用这种方法，并且字段最初是这样包装的：

```
<div class="field">
  <label>Name:</label>
  <input type="text" name="name" placeholder...>
</div>
<div class="field">
  <label>Email:</label>
  <input type="text" name="email" placeholder...>
</div>
... 
```

然后清除验证就像这样简单：

```
$(this).siblings('.validation-error').remove(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T06:28:30.830

如果您要求技术，那么字段元素之后的任何内联元素都可以解决问题。前任。

```
<input type="text" name="firstName"><span>show on error</span><br />
<input type="text" name="lastName"><span>show on error</span><br />
<input type="text" name="empId"><span>show on error</span><br /> 
```

最初隐藏这些错误（通过样式）并在验证时通过脚本显示/隐藏它们，

```
if(err_cond_of_elem) 
    $(elem).next().show(); 
else 
    $(elem).next().hide(); 
```

**编辑：**

如果您的错误是动态的，那么您可以通过`.html()`JQuery 的方法添加它们

```
$(elem).next().html(custom_err_message).show(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-18T06:32:39.713

由于您没有提供任何标记或代码，我将为我的回复提供一个模式。这就是我将如何做到这一点。

1.) 在标记中使用文本输入和错误消息创建表单。所以标记可能是这样的：

```
<form id="whatever">
<fieldset>
<input type="text" id="1" value=""/><div id="error1">text for error 1</div>
<input type="text" id="2" value=""/><div id="error2">text for error 2</div>
<input type="text" id="3" value=""/><div id="error3">text for error 3</div>
</fieldset>
..
..
</form> 
```

2.) 创建您的 CSS 以向左浮动文本输入。错误 div 可以设置为 display:none, float:left; 这将确保在页面加载并正确浮动时隐藏错误消息。另外，我的理念是让 HTML 做 HTML，让 CSS 做 CSS，让 JS 做 JS。因此，与其用 jquery 操作 dom，不如在页面上放置标记和内容，并使用 css 来处理初始可见性和定位。不需要用 js 来做。

3.) 然后，在您检查模糊输入值的方法中，如果验证检测到错误，您所要做的就是使用 .show() 显示相应的错误。然后当用户纠正输入并通过验证检查时，将相应的错误设置为 .hide()。

# sencha-touch-2 - 更改表单面板标题 sencha touch

> ID：14930491
> 
> 赞同：0
> 
> 时间：2013-02-18T06:14:27.103
> 
> 标签：sencha-touch-2, title, formpanel

我需要在表单面板中更改我的标题

这是我的代码

```
view.js

    Ext.define('bluebutton.view.BlueButton.Loyalty', {
    extend: 'Ext.Container',
    xtype: 'loyaltycard',
       requires: [

    'bluebutton.view.BlueButton.TransactionList',
    'bluebutton.view.BlueButton.MemberPopUp',
     'bluebutton.view.BlueButton.MemberDetail',

      'bluebutton.view.BlueButton.CouponMain',

     'bluebutton.store.BlueButton.MemberList',
     'bluebutton.store.BlueButton.CouponList',

    'Ext.ux.keypad.Keypad',
    'Ext.Img',
    'Ext.carousel.Carousel'

    ],
    config: {
//        iconCls: 'add_black',
//        title :'Loyalty Point',
        styleHtmlContent: true,
        cls: 'styledContent',
//        
         layout: 'hbox',
         border: 3,
         ui: 'round',

         defaults: {
                margin : '10 10 10 10',
                 padding : 10
             },

        items :[

           {
                flex: 1,

                xtype :'formpanel',
                 id:'loyaltyform',
                items :[
                    {
                         xtype: 'fieldset',
                         cls :'containerRadious' ,

                        title: 'Welcome, new member ~<i><u>Kenny</u></i>',
                          defaults: {
                            labelWidth: '35%',
                            style: 'font-size:1.0em'
                        },
                        items: [
                            {

                                xtype: 'image',
                                src: 'resources/images/user3.png',
                                height: 100,
                                margin:20

                            },

                            {
                                xtype: 'textfield',
                                name : 'Name',
                                label: 'Name',
                                value :'Kenny Chow',
                                readOnly: true
                            },
                             {
                                xtype: 'textfield',
                                name : 'Age',
                                label: 'Age',
                                value :'20',
                                readOnly: true
                            },
                             {
                                xtype: 'textfield',
                                name : 'Point',
                                label: 'Point Available',
                                 value :'50',
                                 id :'point',
                                 readOnly: true
                            },
                             {
                                xtype: 'textfield',
                                name : 'lastVisited',
                                label: 'Last Visited',
                                id :'lastVisited',
                                value :'27/12/2012 11:53 AM',
                                readOnly: true
                            },

                            {
                                 xtype:'button',
                                 text: 'Scan',
                                 width : '100%',
                                 id: 'btnScan',

                            },

                        ]

                    }
                ]

            },

            {
                 flex: 2,
                 xtype :'carousel',
                  cls :'containerRadious' ,

                 items :[
                    {

                         xtype :'keypad',
                           layout: {
                            type: 'hbox',
                              pack: 'center'
                        },
                    },

                    {
                        xtype:'couponlistcard'

                    }

                 ]

            }

        ],

   }

}); 
```

控制器

```
 onbtnAddClick: function (e) {
              var loyaltyform =   Ext.getCmp('loyaltyform'); 
                var pointAvalaible = Ext.getCmp('point').getValue();
                var keyPadValue = Ext.getCmp('keypad_value').getValue();
                var consumerID = Ext.getCmp('keypad_value').getValue();
          Ext.getCmp('loyaltyform').setTitle('Changed Title');; 

} 
```

但我得到这个错误。

```
**Uncaught TypeError: Object [object Object] has no method 'setTitle'** 
```

以前有人遇到过这个问题吗？请帮忙

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T08:47:52.090

您收到错误的原因是因为 formpanel 没有方法`setTitle()`。要更改标题，您必须调用您的方法，该`setTitle()`方法`fieldset`位于您的窗体面板中。所以给你 fieldset 一个 ID 并使用它：

```
Ext.getCmp('yourFieldsetID').setTitle('Changed Title'); 
```

在 Sencha 文档中检查可用于面板和字段集的方法：

[http://docs.sencha.com/touch/2-1/#!/api/Ext.form.Panel](http://docs.sencha.com/touch/2-1/#!/api/Ext.form.Panel)

[http://docs.sencha.com/touch/2-1/#!/api/Ext.form.FieldSet](http://docs.sencha.com/touch/2-1/#!/api/Ext.form.FieldSet)

祝你好运！

# ruby - 重命名 gem 添加的方法

> ID：14930492
> 
> 赞同：3
> 
> 时间：2013-02-18T06:14:32.580
> 
> 标签：ruby, metaprogramming, sidekiq

我想将[Sidekiq gem 添加](https://github.com/mperham/sidekiq/blob/master/lib/sidekiq/extensions/class_methods.rb)`delay`的方法重命名为. 这个扩展方法被添加到 Ruby 中的所有类中。如何使用 Ruby 元编程来做到这一点？`sidekiq_delay`

我想这样做，以便 Sidekiq`delay`不会覆盖延迟作业的`delay`方法。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-18T06:20:04.033

包含相关 gem 后：

```
module Sidekiq::Extensions::Klass
  alias :sidekiq_delay :delay
  remove_method :delay
end 
```

# android - 如何在编辑文本android中使文本从左开始

> ID：14930495
> 
> 赞同：0
> 
> 时间：2013-02-18T06:14:51.363
> 
> 标签：android

当我开始输入编辑文本时，文本从左边框开始。我需要在编辑文本的边框线后一步开始输入文本。怎么做？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-18T06:16:14.083

只需添加填充：

```
android:paddingLeft="5dp" 
```

给你的`EditText`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T06:40:04.323

只需在您的`EditText`

```
<EditText android:paddingLeft="5sp"/> 
```

# php - Wordpress 通知：试图获取非对象的属性

> ID：14930499
> 
> 赞同：4
> 
> 时间：2013-02-18T06:15:05.030
> 
> 标签：php, wordpress, taxonomy

我在我的博客上设置了自定义帖子类型和分类的特殊页面。在分类页面上，我收到以下错误。谁能给我一些有关如何解决此错误的提示？

该页面加载正常并且可以按我的预期工作。但是如果我将调试设置为 true，我会收到以下错误。我想解决这个问题。我粘贴了循环中的成本，该循环以不同的标准在页面上运行两次。

```
Notice: Trying to get property of non-object in /home3/ans/public_html/wp-includes/post-template.php on line 29 
```

代码：

```
<?php
query_single('dealers', 'publish', '1', $taxtype, $value);
 ?>

 <?php if (have_posts()) : ?>
 <?php while (have_posts()) : the_post(); ?>

 <?php 
   $address=get_post_meta($post->ID, 'wpcf-street_address', TRUE); 
   $city=get_post_meta($post->ID, 'wpcf-city', TRUE); 
   $state=get_post_meta($post->ID, 'wpcf-state_abbreviation', TRUE); 
   $zip=get_post_meta($post->ID, 'wpcf-zip_code', TRUE); 
   $phone=get_post_meta($post->ID, 'wpcf-phone_number', TRUE); 
   $paid=get_post_meta($post->ID, 'wpcf-paid', TRUE);
   $post_id=get_the_ID();
   get_each_dealer_brand($post_id);?>

  <?php 
  echo "<ul class=\"ullisting\">";
  if($paid==1)
  {
   echo "<li><p class=\"plisting\"><strong><a href=\"";the_permalink(); echo  "\">";the_title();echo "</a></strong></p></li>";
    echo "<li><p class=\"plisting\">$address | $city, $state $zip</p></li>";
echo "<li><p class=\"plisting\">P: $phone</p></li>";
    echo "<li><p class=\"listing\"><span><small>$brands_list</small></span></p></li>";
 }
echo "</ul>";
?>

 <?php endwhile; ?>

 <?php
 wp_reset_query(); 
 wp_reset_postdata(); 
 unset($brands_list);
 ?> 
```

这是上面引用的函数：

```
 function query_single($posttype, $poststatus, $paidvalue, $taxtype, $value) {

     global $wp_query;
    $wp_query = new WP_Query();
  $args = array(
   'post_type' => $posttype,
   'post_status' => array($poststatus),
   'orderby' => 'rand', 
   'posts_per_page' => 20,
   'meta_query' => array(
       array(
           'key' => 'wpcf-paid',
           'value' => array($paidvalue),
           'compare' => 'IN',
       )
   ),
    'tax_query' => array(
            array(
                'taxonomy' => $taxtype,
                'field' => 'slug',
                'terms' => $value
            )
        )
    );
   return $wp_query->query($args);
   } 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2014-06-26T08:02:05.377

当您尝试访问主题内的帖子时会出现此错误，

在`page-template.php`我们有，

```
function get_the_ID() {
    return get_post()->ID;
} 
```

每当我们访问帖子时，我们需要检查以下条件并确保它默认工作，因为我们可能不会`wp_reset_postdata();`一直使用，

```
 global $post;    
//check if post is object otherwise you're not in singular post
  if( !is_object($post) ) 
     return;
//If Object
  $somevariable = get_post_meta(get_the_ID(), $something->get_the_id(), TRUE); 
```

希望这可以帮助。谢谢。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-12-18T20:15:04.013

您可以尝试在**ACTION**中执行您的命令（因为当时 wordpress 已经正常加载）。像这样：

```
ADD_ACTION('init','your_function');

function your_function(){
    YOUR CODES HEREEEEEEEEEEE............
} 
```

# java - 使用单个 HTML 文件创建 java 帮助

> ID：14930505
> 
> 赞同：-3
> 
> 时间：2013-02-18T06:15:45.523
> 
> 标签：java

我有一个包含 200 个定义的 HTML 文件，我不想创建 200 个 HTML 文件。我想使用该文件创建 java 帮助，这样如果用户单击 TOC（目录）列表，用户可以在不滚动该 html 文档的情况下访问特定定义。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T06:23:44.137

[首先学习如何使用JTree](http://docs.oracle.com/javase/tutorial/uiswing/components/tree.html)制作树状结构，然后学习如何使用 [JEditorPane](http://docs.oracle.com/javase/tutorial/uiswing/components/editorpane.html)在 Jframe 中显示 html 页面。

# javascript - 如何在Javascript中每分钟更新一次日期时间？

> ID：14930507
> 
> 赞同：1
> 
> 时间：2013-02-18T06:15:49.283
> 
> 标签：javascript, jquery, ajax

我正在使用以下代码在我的网页上显示日期。我需要每分钟更新一次。怎么做？

```
var d=new Date();
var n=d.toString();
document.write(n); 
```

目前它的静态，意味着当页面加载时，显示那一刻的日期时间。我必须每分钟更新一次时间而不刷新页面。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-18T06:37:25.900

## 尝试`setInterval()`：http: [//jsfiddle.net/4vQ8C/](http://jsfiddle.net/4vQ8C/)

```
 var nIntervId; //<----make a global var in you want to stop the timer
                       //-----with clearInterval(nIntervId);
        function updateTime() {
            nIntervId = setInterval(flashTime, 1000*60); //<---prints the time 
        }                                                //----after every minute

        function flashTime() {
            var now = new Date();
            var h = now.getHours();
            var m = now.getMinutes();
            var s = now.getSeconds();
            var time = h + ' : ' + m + ' : ' + s;
            $('#my_box1').html(time); //<----updates the time in the $('#my_box1') [needs jQuery]                
        }                             

        $(function() {
            updateTime();
        }); 
```

您可以使用`document.getElementById("my_box1").innerHTML=time;`而不是`$('#my_box1')`

## 来自 MDN：

`About setInterval : --->Calls a function or executes a code snippet repeatedly, with a fixed time delay between each call to that function.`

`About setTimeout : ----> Calls a function or executes a code snippet after specified delay.`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-18T06:34:22.097

这是每秒打印日期时间的方法

函数显示日期（）{

```
 var n=BuildDateString();
          document.write(n);
    window.setTimeout("displayDate();", 1000); // to print it every minute take 1000*60 
}

function BuildDateString()
{
    var today = new Date()
    var year = today.getYear()
    if (year < 2000)
        year = "19" + year
    var _day = today.getDate()
    if (_day < 10)
        _day = "0" + _day
    var _month = today.getMonth() + 1
    if (_month < 10)
        _month = "0" + _month
    var hours = today.getHours()
    var minutes = today.getMinutes()
    var seconds = today.getSeconds()
    var dn = "AM" 
    if (hours > 12)
    {
        dn = "PM"
        hours = hours - 12
    }
    if (hours == 0)
        hours = 12
    if (minutes < 10)
        minutes = "0" + minutes
    if (seconds < 10)
        seconds = "0" + seconds
    var DateString = _month+"/"+_day+"/"+year+" "+hours+":"+minutes+":"+seconds+" "+dn

    return DateString;
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-18T06:38:37.260

我正在使用以下方法：

```
var myVar=setInterval(function(){myDateTimer()},60000);

            function makeArray() 
            {
                for (i = 0; i<makeArray.arguments.length; i++)
                this[i + 1] = makeArray.arguments[i];
            }

            function myDateTimer()
            {
                var months = new makeArray('January','February','March','April','May',
                'June','July','August','September','October','November','December');
                var days = ['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'];
                var date = new Date();
                var day = date.getDate();
                var month = date.getMonth() + 1;
                var yy = date.getYear();
                var year = (yy < 1000) ? yy + 1900 : yy;
                var hours = date.getHours();
                var minutes = date.getMinutes();
                var finaldate = days[ date.getDay() ] + ", " + months[month] + " " + day + ", " + year + " " + hours +" : " + minutes;
                document.getElementById("showDateTime").innerHTML=finaldate;
            } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-18T06:50:06.573

就这样做

```
$(function(){
setInterval(function(){
    var d=new Date();
    var n=d.toString();
    $('#test').html(n);
},1000);
}); 
```

演示[http://runjs.cn/code/txlexzuc](http://runjs.cn/code/txlexzuc)

# c++ - 使用 MULTIPLE 字节的分隔符读取 C++ iostream

> ID：14930512
> 
> 赞同：2
> 
> 时间：2013-02-18T06:15:57.957
> 
> 标签：c++, iostream

我们知道要从输入流中读取，我们可以使用以下标准 C++ 函数

```
istream& getline (char* s, streamsize n, char delim ); 
```

但是我们只能提供一个字节/字符的分隔符。

如果我想使用多字节的分隔符，我应该怎么做？有什么好东西我可以利用，提升吗？

最好的，
林恩

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T08:34:51.573

我认为您可以使用`cin.get()`而不是`cin.getline()`. 每次读取一个字符，测试是否出现分隔符。

诠释主要（无效）{

```
string str;  
int length_of_delimiter = 3;  
const char *delimiter = "ABC";  
char temp = '0';  
bool over = false;  
cout<<"Enter the stream"<<endl;

temp =  cin.get();
int  i = 0;
while(over == false){ 
        for(i = 0; temp  == delimiter[i] && i < length_of_delimiter; i++){
            str += temp;
            temp = cin.get();
        }
        if(i == length_of_delimiter){
            //chop off the delimiter
            str.erase(str.end() - length_of_delimiter, str.end());
            over = true;
        }
        else {
            str += temp;
            temp = cin.get();
        }
}
cout<<"The stream we wanted is: "<<str<<endl;
return 0; 
```

}

# extjs - 将编辑的记录保存在单元格编辑网格中

> ID：14930513
> 
> 赞同：0
> 
> 时间：2013-02-18T06:16:00.520
> 
> 标签：extjs, extjs4

如何在单击保存按钮时保存已编辑的记录？

![在此处输入图像描述](../Images/062868ee3d810335e8c86868721b2028.png)

我的代码：

```
// create the Data Store
var store = Ext.create('Ext.data.Store', {
    //autoSync: true,
    autoLoad:true,
    autoDestroy: true,
    url: 'update_premise.php',
    model: 'Plant',
    proxy: {
        type: 'ajax',
        // load remote data using HTTP
        url: 'getLab.php',
        // specify a XmlReader (coincides with the XML format of the returned data)
        reader: {
            type: 'json'
        },
          writer: {
            type: 'json'

        }
    },
    sorters: [{
        property: 'lab_name',
        direction:'ASC'
    }]
});

var cellEditing = Ext.create('Ext.grid.plugin.CellEditing', {
    clicksToEdit: 1
});

// create the grid and specify what field you want
// to use for the editor at each header.
var grid = Ext.create('Ext.grid.Panel', {
    store: store,
    columns: [{
        id: 'lab_name',
        header: 'Common Name',
        dataIndex: 'lab_name',
        flex: 1,
        editor: {
            allowBlank: false
        }
    }],
    selModel: {
        selType: 'cellmodel'
    },
    renderTo: 'editor-grid',
    width: 600,
    height: 300,
    title: 'Lab?',
    frame: true,
    tbar: [
     {
         text: 'Save',
         handler: function ()
         {
               for (var i = 0; i <grid.store.data.items.length; i++) {
                 var record = grid.store.data.items [i];
                 if (record.dirty) {
                 }
             }
         }
     }
     ],
    plugins: [cellEditing]
}); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-07-22T10:58:16.243

您不需要通过 ajax 调用保存 sencha 会为您完成所有检查和保存。

```
 for (var i = 0; i <grid.store.data.items.length; i++) {
        var record = grid.store.data.items [i];
        if (record.dirty) {
            ...
        }
 } 
```

这部分可以替换为`store.sync();`

[http://docs.sencha.com/extjs/4.2.1/#!/api/Ext.data.AbstractStore-method-sync](http://docs.sencha.com/extjs/4.2.1/#!/api/Ext.data.AbstractStore-method-sync)

如果您想发送数据以更新到另一个 url，然后阅读您可以使用 api 对象配置您的代理，而不是单个 url 参数。

```
proxy: {
    type: 'ajax',
    api: {
        read    : 'getLab.php',
        create  : 'setLab.php',
        update  : 'setLab.php',
        destroy : 'deleteLab.php'
    }
    reader: {
        type: 'json'
    },
    writer: {
        type: 'json'

    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-07-22T10:35:25.647

基本上它取决于您的服务器端。如果你想通过 ajax 请求保存，你应该使用这样的东西：

```
Ext.Ajax.request({
    url: '/Some/Save',
    method: 'POST',
    params: {
        'RecordId': record.get('Id'),
        'RecordValue': record.get('Value')
    }
}) 
```

您应该在`if`语句中使用上面的代码：

```
if (record.dirty) {
    //Save code
} 
```

您也可以将所有行合并到一个大对象中并在请求中使用它。

至于单元格编辑器插件，它旨在自动保存记录。您应该使用该`validateedit`事件。文档在这里：[http ://docs.sencha.com/extjs/4.2.1/#!/api/Ext.grid.plugin.CellEditing-event-validateedit](http://docs.sencha.com/extjs/4.2.1/#!/api/Ext.grid.plugin.CellEditing-event-validateedit)

# javascript - 比较两个 Javascript 数组并删除重复项

> ID：14930516
> 
> 赞同：69
> 
> 时间：2013-02-18T06:16:10.063
> 
> 标签：javascript

如果它具有另一个数组的元素，是否还有其他更好的方法可以从一个数组中删除重复项？

```
<script>
var array1 = new Array("a","b","c","d","e","f");
var array2 = new Array("c","e");

for (var i = 0; i<array2.length; i++) {
    var arrlen = array1.length;
    for (var j = 0; j<arrlen; j++) {
        if (array2[i] == array1[j]) {
            array1 = array1.slice(0, j).concat(array1.slice(j+1, arrlen));
        }
    }
}
alert(array1);

</script> 
```

* * *

## 回答 #1

> 赞同：193
> 
> 时间：2013-02-18T06:20:21.380

```
array1 = array1.filter(function(val) {
  return array2.indexOf(val) == -1;
}); 
```

或者，随着 ES6 的可用性：

```
array1 = array1.filter(val => !array2.includes(val)); 
```

[filter() 参考这里](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter)

[indexOf() 参考这里](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/indexOf)

[包括（）参考这里](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/includes)

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2018-05-04T10:06:32.613

出于我无法理解的原因，诀窍是将外循环向下循环（i--），将内循环向上循环（j++）。

请参见下面的示例：

```
function test() {
  var array1 = new Array("a","b","c","d","e","f");
  var array2 = new Array("c","e");
  for (var i = array1.length - 1; i >= 0; i--) {
    for (var j = 0; j < array2.length; j++) {
      if (array1[i] === array2[j]) {
        array1.splice(i, 1);
        }
      }
    }
    console.log(array1)
  } 
```

我怎么知道这个？见下文：

```
for( var i =myArray.length - 1; i>=0; i--){
  for( var j=0; j<toRemove.length; j++){
    if(myArray[i] === toRemove[j]){
      myArray.splice(i, 1);
    }
  }
} 
```

或者

```
var myArray = [
  {name: 'deepak', place: 'bangalore'}, 
  {name: 'chirag', place: 'bangalore'}, 
  {name: 'alok', place: 'berhampur'}, 
  {name: 'chandan', place: 'mumbai'}
];
var toRemove = [
  {name: 'deepak', place: 'bangalore'},
  {name: 'alok', place: 'berhampur'}
];

for( var i=myArray.length - 1; i>=0; i--){
    for( var j=0; j<toRemove.length; j++){
        if(myArray[i] && (myArray[i].name === toRemove[j].name)){
            myArray.splice(i, 1);
        }
    }
}

alert(JSON.stringify(myArray)); 
```

在那张纸条上，谁能解释为什么外循环需要向下循环（--）？

祝你好运！

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2016-01-18T10:07:50.327

采用`Array.splice()`

```
var array1 = ['1', '2', '3', '4', '5'];
var array2 = ['4', '5'];
var index;
for (var i=0; i<array2.length; i++) {
    index = array1.indexOf(array2[i]);
    if (index > -1) {
        array1.splice(index, 1);
    }
} 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2018-06-06T19:01:24.517

使用 Set.prototype 构造函数：[https ://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set)

```
let array1 = Array('a', 'b', 'c', 'd', 'e', 'f')
let array2 = Array('c', 'e', 'g')
let concat = array1.concat(array2) // join arrays => [ 'a', 'b', 'c', 'd', 'e', 'f', 'c', 'e', 'g' ]

// Set will filter out duplicates automatically
let set = new Set(concat) // => Set { 'a', 'b', 'c', 'd', 'e', 'f', 'g' }

// Use spread operator to extend Set to an Array
let result = [...set]
console.log(result) // =>  [ 'a', 'b', 'c', 'd', 'e', 'f', 'g' ] 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2019-04-23T12:37:41.813

这是我的解决方案

`array1 = array1.filter(function(val) { return array2.indexOf(val.toString()) == -1; });`

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2019-10-22T11:13:45.610

这是我在 ES6 中删除重复项的解决方案。

```
let foundDuplicate = false;
existingOptions.some(existingItem => {
  result = result.filter(item => {
    if (existingItem.value !== item.value) {
      return item;
    } else {
      foundDuplicate = true;
    }
  });
  return foundDuplicate;
}); 
```

I used this approach because in my case I was having array of objects and indexOf was having problem with it.

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2020-07-09T11:01:12.347

arr1 = arr1.filter(val => !arr2.includes(val));

* * *

## 回答 #8

> 赞同：-1
> 
> 时间：2017-06-22T13:21:10.943

```
window.onload = function () {
        var array1 = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm'];
        var array2 = ['c', 'h', 'k'];
        var array3 = [];
        var SecondarrayIndexcount = 0;
        for (var i = 0; i < array1.length; i++) {
            for (var j = 0; j < array2.length; j++) {
                if (array1[i] !== array2[j]) {
                    if (SecondarrayIndexcount === (array2.length - 1)) {
                        array3.push(array1[i]);
                        SecondarrayIndexcount = 0;
                        break;
                    }
                    SecondarrayIndexcount++;
                }
            }
        }
        for (var i in array3) {
            alert(array3[i]);
        }
    }
</script> 
```

# iphone - 没有状态栏的截图

> ID：14930519
> 
> 赞同：4
> 
> 时间：2013-02-18T06:16:17.390
> 
> 标签：iphone, ios, screenshot, statusbar

我正在尝试使用[此](http://developer.apple.com/library/ios/#qa/qa1703/_index.html#//apple_ref/doc/uid/DTS40010193)代码截取屏幕截图：

```
- (void)viewDidLoad
{
    [super viewDidLoad];
    self.view.backgroundColor = [UIColor lightGrayColor];
// Do any additional setup after loading the view, typically from a nib.
}
- (void)viewDidAppear:(BOOL)animated{
    UIImageWriteToSavedPhotosAlbum([self screenshot], self, @selector(image: didFinishSavingWithError:contextInfo:), nil);
}

- (UIImage*)screenshot
{
// Create a graphics context with the target size
// On iOS 4 and later, use UIGraphicsBeginImageContextWithOptions to take the scale into consideration
// On iOS prior to 4, fall back to use UIGraphicsBeginImageContext
CGSize imageSize = [[UIScreen mainScreen] bounds].size;
if (NULL != UIGraphicsBeginImageContextWithOptions)
    UIGraphicsBeginImageContextWithOptions(imageSize, NO, 0);
else
    UIGraphicsBeginImageContext(imageSize);

CGContextRef context = UIGraphicsGetCurrentContext();

// Iterate over every window from back to front
for (UIWindow *window in [[UIApplication sharedApplication] windows])
{
    if (![window respondsToSelector:@selector(screen)] || [window screen] == [UIScreen mainScreen])
    {
        // -renderInContext: renders in the coordinate space of the layer,
        // so we must first apply the layer's geometry to the graphics context
        CGContextSaveGState(context);
        // Center the context around the window's anchor point
        CGContextTranslateCTM(context, [window center].x, [window center].y);
        // Apply the window's transform about the anchor point
        CGContextConcatCTM(context, [window transform]);
        // Offset by the portion of the bounds left of and above the anchor point
        CGContextTranslateCTM(context,
                              -[window bounds].size.width * [[window layer] anchorPoint].x,
                              -[window bounds].size.height * [[window layer] anchorPoint].y);

        // Render the layer hierarchy to the current context
        [[window layer] renderInContext:context];

        // Restore the context
        CGContextRestoreGState(context);
    }
}

// Retrieve the screenshot image
UIImage *image = UIGraphicsGetImageFromCurrentImageContext();

UIGraphicsEndImageContext();

return image;
} 
```

但是保存的图像的状态栏变白了，包括信号、时间和电池。我如何截取包括状态栏内容的屏幕截图？ ![在此处输入图像描述](../Images/0f1bfd53cc58bdd09a2955555729a59d.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T07:08:33.823

截图前隐藏状态栏如下：

> ([[UIApplication sharedApplication] setStatusBarHidden:YES];)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-03-20T12:03:49.007

**（使用 iOS 7 和自动布局测试）**

我将模拟器*的“截屏”*功能与一些条件代码编译结合使用。通过取消注释，`#define`我可以快速切换到启动屏幕*的“截屏”*模式

主要技巧是在打开屏幕出现时隐藏状态栏`view controller`，但动画很长，因此您有足够的时间在模拟器中点击屏幕截图命令，该命令会将屏幕截图放在您的桌面上（或采取如果您愿意，可以在设备上截屏）。

使用下面的代码，由于“ `UIStatusBarAnimationNone`”，状态栏会立即消失，但是“滑出屏幕”的动画时间很长（下面的代码中为 5000.0 秒）。因此，在条形图开始“移动”垂直大小的 20 个点中的 1 个点之前，您大约有 5000/20 = 250 秒的时间来截取屏幕截图（和一些咖啡）。

```
- (BOOL)prefersStatusBarHidden
{
    return YES;
}

- (UIStatusBarAnimation)preferredStatusBarUpdateAnimation
{
    #ifdef kTAKE_LAUNCHIMAGE_SCREENSHOT
       return UIStatusBarAnimationNone;
    #else
       return UIStatusBarAnimationSlide;
    #endif
}

- (void)removeStatusBarAnimated
{
    #ifdef kTAKE_LAUNCHIMAGE_SCREENSHOT
        [UIView animateWithDuration:5000.0 animations:^{
            [self setNeedsStatusBarAppearanceUpdate];
        }];
    #else
        [UIView animateWithDuration:2.0 animations:^{
            [self setNeedsStatusBarAppearanceUpdate];
        }];
    #endif
} 
```

有关在 iOS 7 中控制状态栏的更多信息，请在此处查看我的答案和代码：

[https://stackoverflow.com/a/20594717/1869369](https://stackoverflow.com/a/20594717/1869369)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-12-31T12:15:55.237

这是一个不隐藏状态栏的解决方案，只需使用正确的边界并注意 y 偏移量应该为负，这里的“地图”是填充状态栏下方屏幕的视图：（代码写在 ViewController 中）

```
UIGraphicsBeginImageContextWithOptions(self.map.bounds.size, NO, [UIScreen mainScreen].scale);
CGRect bounds = CGRectMake(0, -1*(self.view.bounds.size.height-self.map.bounds.size.height), self.map.bounds.size.width, self.map.bounds.size.height);

BOOL success = [ self.view drawViewHierarchyInRect:bounds afterScreenUpdates:YES];

UIImage* image = UIGraphicsGetImageFromCurrentImageContext();

UIGraphicsEndImageContext(); 
```

# java - 在java类Android开发中执行脚本

> ID：14930522
> 
> 赞同：-1
> 
> 时间：2013-02-18T06:16:23.883
> 
> 标签：java, android, class, scripting

我目前正在制作一个android应用程序。单击某个按钮时，此应用程序必须执行脚本。问题是，我不知道如何执行这个脚本。有人能帮帮我吗？如果可以，请给我所需的基本代码。您还可以向我展示如何在 On clicked switch 和 case 中执行它（我可能会使用 switch 和 case。我还不确定）。但我真正需要的只是执行脚本的代码，如果您不介意，请稍微解释一下。谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T06:20:22.593

可以在此处找到有关运行 UNIX 脚本的讨论。 [如何从 Java 代码运行 Unix shell 脚本？](https://stackoverflow.com/questions/525212/how-to-run-unix-shell-script-from-java-code)

如果它是 javascript，您需要加载脚本引擎并在该上下文中运行您的脚本。希望这可以帮助。我只是附上了我以前写过的脚本评估。

```
import javax.script.ScriptEngine;
import javax.script.ScriptEngineManager;
import javax.script.ScriptException;

public class OperatorAsVariable
{
    public static void main( String args[] ) throws ScriptException
    {
        String test = "+";
        System.out.println( 1 + test + 2 );
        ScriptEngineManager manager = new ScriptEngineManager();
        ScriptEngine engine = manager.getEngineByName( "js" );
        System.out.println( engine.eval( 1 + test + 2 ) );
    }

} 
```

# c++ - 窗口系统如何通知QApplication？

> ID：14930528
> 
> 赞同：1
> 
> 时间：2013-02-18T06:16:37.970
> 
> 标签：c++, qt, qt4

我开始用 C++ 学习 Qt，并试图弄清楚事件机制是如何工作的。我有点理解它是如何在应用程序本身中工作的，以及 QApplication 如何处理事件并将它们排队以处理和通知对象/小部件。

我仍然有一些悬而未决的问题：

1.  窗口系统如何通知 QApplication 本身有关事件的信息？
2.  窗口系统如何知道我的小部件的内部命名，以便它可以告诉 QApplication 小部件“x”被单击、聚焦等。
3.  如果窗口系统不知道小部件名称或没有对单击的小部件（或任何其他类型的事件）的引用，QApplication 如何确定需要通知哪个小部件。

在此先感谢您的帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-18T06:40:00.663

在 X11 上，Qt 轮询 xlib (Qt4) 或 XCB (Qt5) 的事件。使用 xlib，这将是 XNextEvent() 函数和其他相关函数：

[http://www.x.org/archive/X11R7.5/doc/man/man3/XMaskEvent.3.html](http://www.x.org/archive/X11R7.5/doc/man/man3/XMaskEvent.3.html)

如果您通过 grep 查找“XNextEvent”的 Qt 源代码，您可以找到使用它的地方。例如，在 Qt 4.8.4 源代码中：

```
$ grep -r XNextEvent
工具/qvfb/x11keyfaker.cpp: XNextEvent(dpy, &event);
src/plugins/platforms/xlib/qxlibscreen.cpp: XNextEvent(mDisplay->nativeDisplay(), &event);
src/gui/kernel/qwidget_x11.cpp: XNextEvent(X11->display, &ev);
src/gui/kernel/qguieventdispatcher_glib.cpp: XNextEvent(X11->display, &event);
src/gui/kernel/qeventdispatcher_x11.cpp: XNextEvent(X11->display, &event);
src/gui/kernel/qapplication_x11.cpp: XNextEvent(X11->display, &nextEvent);

```

对于 XCB，有 xcb_wait_for_event()。

一旦 Qt 有了事件，它就可以开始通过小部件层次结构和 QML 分派它。

当然，这仅适用于 X11（即 Unix 和 Linux）。其他平台有不同的方式将事件传递给应用程序。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-18T06:45:45.593

例如，在 Windows 中，QWidget 只是一个带有 hwnd 和所有其他相关内容的普通窗口。您甚至可以通过调用 EffectiveWinId() 方法来获取 hwnd。它使用标准的 Windows 消息循环来获取所有 Windows 事件的通知，您可以通过 QCoreApplication::setEventFilter 安装适当的过滤器来获得通知。但是 Qt 也有 QML 部分和其他非本地的东西，为了让它工作，它使用了一些内部簿记，这取决于“外星小部件”的性质

对于非外星小部件，上述所有内容都是正确的，而外星小部件则有所不同。Alien widgets 由 Qt 本身管理，它是一个 Qt 工作来识别应该传播什么 QWidget 动作以及动作是什么。Qt 从 4.4 开始默认使用外星小部件，但如果需要，它们可以很容易地被异化。

其他操作系统在实现上有所不同，但想法是相同的。

# svn - 在旧服务器上使用最新的 TortoiseSVN 客户端是否安全？

> ID：14930531
> 
> 赞同：0
> 
> 时间：2013-02-18T06:16:43.717
> 
> 标签：svn, version-control, tortoisesvn

我的 SVN 服务器版本是`1.7.6`，我当前的 Tortoise SVN 客户端是 1.7.10 (SVN 1.7.7)。网站上有可用的升级。在不破坏现有档案的情况下进行升级是否安全？

# bash - 如何删除 BASH 中仅包含数字的行？

> ID：14930538
> 
> 赞同：3
> 
> 时间：2013-02-18T06:17:31.890
> 
> 标签：bash

我有一个 TXT 文件。我怎样才能只删除那些只包含数字的行。例如：

```
This has some text.
1300
This has some more text.
1210
This has a text and some numbers. 12 
```

在上面的示例中，只有第 2 行和第 4 行将被删除，因为它们除了数字之外不包含其他符号。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-18T06:26:01.393

这是一个 awk 解决方案：

```
awk '! /^[0-9]+$/' input.txt 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-18T06:19:37.040

使用 grep：

```
grep -v -E '^[0-9]+$' < source.txt > destination.txt 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-11-10T21:52:26.313

sed 解决方案（将覆盖文件）：

```
sed -i '/^[[:digit:]]*$/d' filename.TXT 
```

# git - 通过 SSH 克隆时缺少 Git 提交

> ID：14930544
> 
> 赞同：3
> 
> 时间：2013-02-18T06:18:42.227
> 
> 标签：git

我负责公司的 Git 存储库。我们使用 Gitosis 来管理 Git 存储库。我通过 克隆了一个存储库`git clone git@gitserver:repo`，但根本找不到一些提交。`git show <commit>`返回`fatal: bad object f723e2ea9af0e380158d90c36e21a60991760d31`。

对象如下，只有一个包文件：

```
$ tree .git/objects/
.git/objects/
|-- info
|   `-- packs
`-- pack
    |-- pack-4d930eca23ad902fc4a4809d01b86c4217b0b262.idx
    `-- pack-4d930eca23ad902fc4a4809d01b86c4217b0b262.pack

2 directories, 3 files 
```

我在包文件中找不到提交：

```
$ git verify-pack -v .git/objects/pack/pack-4d930eca23ad902fc4a4809d01b86c4217b0b262.idx | grep f723e2e
$ 
```

当我使用本地文件系统克隆 Git 服务器上的存储库时，提交就在那里并且可以签出。

我可以找到提交（第一个）：

```
$ ls .git/objects/f7/
23e2ea9af0e380158d90c36e21a60991760d31  84f33d44863cbe6ca4ae03cddcc673048f04bb
3b1ef7031d634b4aa443925dd29cc779356caa  9807359a1c65f312a1d4642e5191416443e20b
6fbd26fccc5a8e89f221c9196eb8083e73632e 
```

通过 SSH 克隆时，我的用户如何获得所有提交？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T06:37:52.263

由于您可以在服务器上进行克隆，请尝试使用**[`git bundle`](https://stackoverflow.com/questions/5719369/git-bundle-bundle-tags-and-heads/5720366#5720366)**，它将为您提供*一个*文件。

然后将该文件复制到本地计算机上，并从该捆绑包中克隆。

如果可以，您可以在“捆绑”克隆之后检查：

*   将远程添加回 gitosis 存储库
*   从所述上游 gitosis repo 推/拉。

（注意：当您在损坏的 repo 上发现提交时，[请检查它们的大小是否为 0](https://stackoverflow.com/a/3425459/6309)，然后尝试[删除它](https://stackoverflow.com/a/11257689/6309)，或者[从另一个克隆中恢复它](https://stackoverflow.com/a/9943930/6309)）

# ruby-on-rails - 将大字数作为列存储在数据库中会更好，还是会有点矫枉过正？

> ID：14930547
> 
> 赞同：1
> 
> 时间：2013-02-18T06:19:01.560
> 
> 标签：ruby-on-rails

我从这个问题中得到以下信息：[Rails 中的字数？](https://stackoverflow.com/questions/2107621/word-count-in-rails)

`content.scan(/[\w-]+/).size`

属性会`posts` `content`很大（3000~4000 字之间）。我应该使用虚拟属性还是在数据库中创建列？（我不确定哪一个更容易，性能更好）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T07:01:43.087

我认为有一个单独的字数列将提高您的应用程序性能。但它不是一个好的数据库设计。我如何按以下顺序查看它

1.  业务（客户业务为先）
2.  应用程序（我们的应用程序应该允许客户简化他的业务，而不是根据我们的应用程序更改业务）
3.  DB只是一个保存数据的辅助模块（毫无疑问应该设计DB，:)）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-18T14:04:30.203

我建议使用虚拟属性。将这个值存入数据库并没有错，或许有道理，但重要的一点是“过早的优化是万恶之源”。使您的软件正确运行，并在以后需要时进行优化。在类似博客的应用程序中（我猜您正在这样做），当您遇到性能问题时，最好缓存整个 html 页面或页面片段。

# html - 我的图像只有一半显示。为什么？

> ID：14930548
> 
> 赞同：0
> 
> 时间：2013-02-18T06:19:06.917
> 
> 标签：html

我想显示四个图像 - 第一行两个和下面的两个。

出于某种原因，只有顶行显示，我只是不明白为什么。

这是非常简单的代码：

```
<img class="social" src="http://www.c5d.co.uk/racenight.png" alt="Race Night">
<img class="social2" src="http://www.c5d.co.uk/mothersday.png" alt="Mothers' Day>
<p>
<img class="social" src="http://www.c5d.co.uk/carlosax.png" alt="Carlo Sax>
<img class="social2" src="http://www.c5d.co.uk/eastersunday.png" alt="Easter Sunday"></p> 
```

网页是： [http ://www.c5d.co.uk/socialeventsfour.php](http://www.c5d.co.uk/socialeventsfour.php)

为什么不显示下面的两个图像？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T06:22:33.643

因为你忘了关门`"Mothers' Day`，`"Carlo Sax`在你的第二个和第三个`<img>`

这是更正后的：

[http://jsfiddle.net/ytmvy/2/](http://jsfiddle.net/ytmvy/2/)

```
<img class="social" src="http://www.c5d.co.uk/racenight.png" alt="Race Night">
<img class="social2" src="http://www.c5d.co.uk/mothersday.png" alt="Mothers' Day">
<p>
    <img class="social" src="http://www.c5d.co.uk/carlosax.png" alt="Carlo Sax">
    <img class="social2" src="http://www.c5d.co.uk/eastersunday.png" alt="Easter Sunday">
</p> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-18T06:24:53.400

```
<img class="social" src="http://www.c5d.co.uk/racenight.png" alt="Race Night" />
<img class="social2" src="http://www.c5d.co.uk/mothersday.png" alt="Mothers' Day" />
<p>
  <img class="social" src="http://www.c5d.co.uk/carlosax.png" alt="Carlo Sax" />
  <img class="social2" src="http://www.c5d.co.uk/eastersunday.png" alt="Easter Sunday" />
</p> 
```

您可以`/>`在使用 images( `img`) 时使用。`"`以及您的`alt`属性中明显缺失的部分。

# objective-c - 在 cocos2d 中向上滑动

> ID：14930553
> 
> 赞同：0
> 
> 时间：2013-02-18T06:19:22.953
> 
> 标签：objective-c, cocos2d-iphone

我正在尝试根据屏幕上的滑动方向移动精灵。到目前为止，这是我根据互联网上的示例提出的代码：

```
-(void)ccTouchesMoved:(NSSet *)touches withEvent:(UIEvent *)event{
UITouch *touch = [touches anyObject];
CGPoint location = [touch locationInView:[touch view]];
location = [[CCDirector sharedDirector]convertToGL:location];
endTouch = location;

float swipeLength = endTouch.x - beginTouch.x;
float swipeY = endTouch.y - beginTouch.y;    

if(swipeY > 0)
{
 if(swipeLength == 0){
 //Do action here
}}} 
```

现在，我的问题是，我需要限制 endTouch.x 范围。例如，它应该大于 100 但小于 150。我只想在向上或以某个角度从 50 到 120 度之间滑动时执行操作，而不是通过侧向或向下滑动。我该如何实施？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T07:14:57.993

我在理解你的问题时遇到了一些麻烦。但是，如果您只想向上滑动，您应该执行以下操作：

1.  得到`touchEnd.y - beginTouch.y`。
2.  如果结果是否定的，那么它不是向上滑动。
3.  否则继续计算斜率`float slope = (touchEnd.y - touchBegin.y)/(touchEnd.x - touchBegin.x)`。
4.  做一个门槛，如果坡度不够陡，那么就方向而言，滑动不是向上而是侧向。`if (abs(slope) >= threshold) { //It's an upward swipe }`

不确定您要解决的问题：

> 例如，它应该大于 100 但小于 150。

但是，如果您想限制构成向上滑动的角度，您可以执行以下操作：

1.  将度数转换为斜率 ( `tan(theta)`) 查看第二个等式，了解您使用的[原因](http://en.wikipedia.org/wiki/Slope)`tan(theta)`。
2.  因此，如果您希望坡度在 90 +- 30 度范围内：`threshold = tan((pi/180)*30)`

# r - 如何将 read.table 用于带有分隔符 \t 的文件

> ID：14930554
> 
> 赞同：0
> 
> 时间：2013-02-18T06:19:28.177
> 
> 标签：r, read.table

我想使用以下方法读取数据文件：

```
ds <- read.table(file="/data/ken/tmp/tt", header=F, 
                  sep="\t", quote="\"", dec=".",
                  fill=T, comment.char="", 
                  stringsAsFactors=F, 
                  colClass=rep("character", 6)) 
```

该文件`tt`如下所示，带有`\t`分隔符

```
20130129074502\thttp://xxx.com.cn/notebook/asus/526600_detail.html\t\t5025\t526600\t255dkmi 
```

但它不起作用：

```
caution:
In read.table(file = fcon, header = F, sep = "\t", quote = "\"",  :
  cols = 1 != length(data) = 6 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T06:33:58.483

我认为你把事情复杂化了，试试这个：

```
read.table(text=tt)
            V1                                                 V2   V3     V4      V5
1 2.013013e+13 http://xxx.com.cn/notebook/asus/526600_detail.html 5025 526600 255dkmi 
```

其中 tt 是：

```
tt ='20130129074502\thttp://xxx.com.cn/notebook/asus/526600_detail.html\t\t5025\t526600\t255dkmi' 
```

**编辑**

您可以逐行阅读，并使用 strsplit 拆分

```
sapply(readLines(file.name, n=-1),
                 function(x) strsplit(gsub('[\t|\t\\]','@',x),'@')) 
```

# c# - 如何启用映射实体的私有属性

> ID：14930556
> 
> 赞同：2
> 
> 时间：2013-02-18T06:19:53.213
> 
> 标签：c#, .net, entity-framework

一开始我不得不对我的英语说对不起。

我正在使用 EntityFramework 和代码优先方式。我脑子里只有一个想法，但我不知道如何使它成为现实。我不是编程的初学者，但我一直在使用流利的 NHibernate。

我有一个实体：

```
public class User
{
    [Key]
    public Int32 Id { get; set; }
    public String Name { get; set; }
    // This property should be mapped on DB
    private String Surname { get; set; }

    // This one shouldn't be mapped
    public String GetSurname { get { return Surname; } set { Surname = "SomePrefix." + value; }   }
} 
```

问题 1\. 如何映射实体的私有属性？

在上下文中，我无法在 OnModelCreating() 的 ovverride 中访问此私有属性。

问题 2\. 如何禁用一个公共属性的映射？

结果我想得到：当我尝试设置姓氏时，我在开头添加了前缀。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-18T06:37:09.043

实体框架不提供映射私有属性的方法，因为它需要读取/写入值到它们，所以它必须至少有一个公共的 get/set 属性。

在回答您的第二个问题时，您可以使用模型构建器（我描述映射的首选方式如下）

```
modelBuilder.Entity<User>().Ignore(u=>u.GetSurname); 
```

或添加属性

```
[NotMapped]
private String Surname { get; set; } 
```

# java - 通过 Eclipse 对已经存在的二进制 .class 文件进行 JUnit 测试？

> ID：14930557
> 
> 赞同：2
> 
> 时间：2013-02-18T06:19:54.437
> 
> 标签：java, eclipse, junit, build.xml

我必须在预编译的二进制 .class 文件上运行一些 JUnit 测试（在此之上没有 main() 函数的文件）。

我无论如何都不是 Java 菜鸟，但这是我第一次不得不处理这种情况——编译的二进制文件中没有 main（那么我将如何在编译的代码中执行方法？？） ，试图以某种方式调用我正在制作的 JUnit 测试用例中的方法，试图让 Eclipse 甚至承认存在 main()-less 二进制文件......编译的 .class 文件也是包的一部分（假设这个包叫做xyz）......我以前从来没有处理过这个。

如果我不能通过 Eclipse 做到这一点，我将如何在命令行上使用 Ant ？？？我以前制作过 build.xmls，但不是为了这样的东西。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-18T06:36:25.107

希望您拥有需要测试的 API。创建一个新的 Eclipse 项目，创建一些“binsource”文件夹，并在“Java Build Path”选项卡“Libraries”下的项目设置中，选择“添加类文件夹”，然后将此文件夹添加到项目类树中。在那里添加 JUnit 库。

现在只需在必须作为源添加的源文件夹“src”中编写 JUnit 测试类（标准设置）。JUnit 类应该编译，发现 binsource 文件夹中的类。然后只需右键单击项目根目录并选择“作为 JUnit 测试运行”。无需在任何地方使用 main()，但如果出于某种原因需要，您可以在源代码中定义它。

在更困难的情况下，您甚至没有适当的 API，请尝试使用 Eclipse（文件->打开）打开 binsource 类。这应该打开反编译器视图。它允许查看有哪些方法。

# installutil - 如何将参数传递给 installutil MyService.exe Parameter1 Parameter2

> ID：14930558
> 
> 赞同：4
> 
> 时间：2013-02-18T06:19:54.700
> 
> 标签：installutil

如何将参数传递给 installutil MyService.exe Parameter1 Parameter2

我的 MyService 是一个 Windows 服务。我想将参数传递给该服务。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-08-29T06:15:39.127

覆盖 ProjectInstaller 类的 install 方法

```
public override void Install(System.Collections.IDictionary stateSaver)
        {
              base.Install(stateSaver);
              string lParam1 = Convert.ToString(GetParam("Param1"));  

        }

        private object GetParam(string p)
        {
            try
            {
                if (this.Context != null)
                {
                    if (this.Context.Parameters != null)
                    {
                        string lParamValue = this.Context.Parameters[p];
                        if (lParamValue != null)
                            return lParamValue;
                    }
                }
            }
            catch (Exception ex )
            {

            }
            return string.Empty;
        } 
```

并使用安装服务**`installutil /Param1=value path_to_your_exename`**

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2020-04-22T15:28:04.267

首先，您需要将安装程序插入到您的服务中。但我想你已经结束了。否则请阅读以下内容：

[https://docs.microsoft.com/en-us/dotnet/framework/windows-services/how-to-add-installers-to-your-service-application](https://docs.microsoft.com/en-us/dotnet/framework/windows-services/how-to-add-installers-to-your-service-application)

正如@Sumeshk 提到的，您可以使用 installutil 将参数传递给此安装程序， `installutil /Param1=value path_to_your_exename`并通过`this.Context.Parameters`.

现在您想将这些参数作为参数传递给您的服务。诀窍是将它们附加到`assemblypath`安装之前，如您在此处看到的：

[如何在安装而不是每次启动时一劳永逸地将参数传递给 Windows 服务](https://stackoverflow.com/questions/1488851/how-to-pass-a-parameter-to-a-windows-service-once-and-for-all-at-install-instead)

因此，您必须覆盖安装程序方法`OnBeforeInstall`。然后，您可以通过附加参数来操作给定的组装路径。不要忘记在`OnBeforeInstall`最后调用基本方法：

```
protected override void OnBeforeInstall(IDictionary savedState)
{
    string oldPath = this.Context.Parameters["assemblypath"];
    string yourParam = this.Context.Parameters["Param1"];
    string pathWithParam = $"\"{oldPath}\" \"{yourParam }\"";
    this.Context.Parameters["assemblypath"] = pathWithParam;
    base.OnBeforeInstall(savedState);
} 
```

请注意，为避免参数或程序集路径中可能出现的空格问题，您应该用双引号将这些字符串框起来。用空格分隔每个参数。如果这样做，`ImagePath`您在注册表中的服务将由路径加上由空格分隔的参数组成。您可以在密钥中找到它`HKLM\SYSTEM\CurrentControlSet\Services\<your service name>`

现在您可以在方法的参数中评估您的服务中的`args`参数`OnStart`：

```
protected override void OnStart(string[] args)
{
    Debug.WriteLine("Param1: {args[0]}");
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-06-11T05:39:35.543

我对@Rouvens 帖子的评价太低了。我首先要感谢他的回答。但是，我想做一个小的更正。

您通过安装程序组件注册的参数不会像他声称的那样`HKLM\SYSTEM\CurrentControlSet\Services\<your service name>`直接传递给。`OnStart(string[] args)`

相反，它们遵循服务的构造函数：

```
public partial class MyService : ServiceBase
{
    string myArgument;

    public MyService(string[] args)
    {            
        InitializeComponent();

        this.myArgument= {args[0]}; // this is where you capture your argument
    }
} 
```

之后，您必须在不考虑 OnStart 参数的情况下传递这些值。

```
protected override void OnStart(string[] args)
{
    BusinessLogicControl.Main(new string[] { myArgument});
} 
```

# wordpress - iframe 没有加载谷歌地图

> ID：14930566
> 
> 赞同：1
> 
> 时间：2013-02-18T06:20:17.247
> 
> 标签：wordpress

我在一个弹出窗口中使用谷歌地图，该弹出窗口通过我使用类型的 Fancy 框

```
 <script>
  jQuery("#menu-item-1670 a").fancybox({
                'width'             : '75%',
                'height'            : '75%',
                'autoScale'         : true,
                       'zoomSpeedIn': 300,
                      'zoomSpeedOut': 300,
            'overlayOpacity'    : 0,
                'type'              : 'iframe'
            });
</script> 
```

但是当我点击谷歌地图时，第一次它会显示地图，但是当我尝试第二次点击时它不会显示出来..不知道为什么？这是我尝试实现的链接 [http://kelts.wpengine.com/](http://kelts.wpengine.com/) 属性详细信息选项卡->单击属性图。->第一次显示->不是第二次。

试过但没有运气！

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T12:12:23.537

第二次打开盒子，`src`属性`iframe`是`about:blank`。[这里](https://groups.google.com/forum/?fromgroups=#!topic/fancybox/1zIbmk31sgs)有一个线程可能会解决问题 - 它建议使用回调存储并`src`使用`onComplete`回调恢复它`onClosed`。

不确定它是否适用于您的特定情况，但似乎值得一试。

如果我正确阅读了该链接和您的来源，那么这应该可以解决问题：

```
<script>
   jQuery(document).ready(function() { 
      var mySRC ="";
      jQuery("#menu-item-1670 a").fancybox({
         'width'             : '75%',
         'height'            : '75%',
         'autoScale'         : true,
         'zoomSpeedIn'       : 300,
         'zoomSpeedOut'      : 300,
         'overlayOpacity'    : 0,
         'type'              : 'iframe',
         'onComplete': function() {
            // alert('onComplete called');
            mySRC = jQuery('#map_title iframe').attr('src'); 
         },
         'onClosed': function() { 
            // alert('onClosed called');
            jQuery('#map_title iframe').attr('src',mySRC); 
         } 
      });
   }); // ready 
</script> 
```

如果可行，请找出[JFK](https://stackoverflow.com/users/1055987/jfk)的答案并给他/她投票 - 看起来他/她是代码的来源。

# iphone - 如何在 iphone 模拟器中模拟重要的位置更新

> ID：14930573
> 
> 赞同：1
> 
> 时间：2013-02-18T06:21:33.473
> 
> 标签：iphone, ios, location

有什么方法可以检查模拟器中的重大位置变化而不是 GPS 更新

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2014-12-08T16:12:56.340

您可以使用模拟器的“免费驱动器”选项来做到这一点。

设置好用于监控重要位置更新的代码后，请执行以下操作：

1.  选择您的模拟器
2.  选择调试 -> 位置 -> 空闲驱动器
3.  向 CLLocationManager 的`didUpdateLocations`委托方法添加断点以捕获更新

信用：[https ://stackoverflow.com/a/10080178/1048331](https://stackoverflow.com/a/10080178/1048331)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-18T06:40:00.910

您可以使用类似[https://github.com/futuretap/FTLocationSimulator](https://github.com/futuretap/FTLocationSimulator)的东西。或修改它以更好地满足您的需求。

**编辑**

（我是作者之一：）[https://github.com/Azoft/FakeGPSUtility](https://github.com/Azoft/FakeGPSUtility) - 这个项目也很有帮助。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-18T06:30:23.410

选择`iPhone Simulator`-->`Debug`从`menu`--->中选择`set Location`。您还可以通过填充`longitude`和`latitude`值来提供自定义位置。

# jakarta-ee - 下拉列表的struts2验证

> ID：14930575
> 
> 赞同：1
> 
> 时间：2013-02-18T06:21:47.933
> 
> 标签：jakarta-ee, struts2, struts-validation

在一个表单中，我有使用 dropkick 插件的时尚选择框。我应该如何编写服务器端验证。我尝试使用一个隐藏字段，当我从选择框中选择任何值时，我将值分配给隐藏和

我为隐藏字段编写了服务器端验证

我的问题是当我单击提交按钮时，验证有效，但下拉菜单没有被选中

我有结构

```
<div class="dk_options">
<ul class="dk_options_inner">
<li class="dk_option_current"><a data-dk-dropdown-value="">Select State</a></li>
<li class=""><a data-dk-dropdown-value="1">AK</a></li>
<li class=""><a data-dk-dropdown-value="2">AL</a></li>
<li class=""><a data-dk-dropdown-value="3">AR</a></li>
<li class=""><a data-dk-dropdown-value="4">AZ</a></li>
<li class=""><a data-dk-dropdown-value="5">CA</a></li>
<li class=""><a data-dk-dropdown-value="6">CO</a></li>
</ul>
</div> 
```

我如何为下拉选择框编写服务器端验证。任何想法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T07:21:31.510

在服务器端使用您的原始选择名称。例如，您的页面应该是这样的：

html:

```
 <select name="color" class="change" tabindex="4">
          <option value="">Please select a color</option>
          <option value="#0084c7">Blue</option>
          <option value="#E15A01">Orange</option>
          <option value="#604A42">Brown</option>
  </select> 
```

Javascript：

```
 $(function () {
   $('.change').dropkick();
 } 
```

当您提交表单时，您可以通过名称“颜色”获取参数。

服务器：

```
String color = request.getParameter("color"); 
```

Struts 验证：

```
<validators>
    <field name="color">
        <field-validator type="requiredstring">
            <message key="requiredstring"/>
        </field-validator>
    </field>
</validators> 
```

# php - 多个函数调用不起作用

> ID：14930576
> 
> 赞同：-1
> 
> 时间：2013-02-18T06:21:52.140
> 
> 标签：php, class

运行此脚本时出现此问题：

> 致命错误：在第 16 行的 /opt/lampp/htdocs/test/index.php 中的非对象上调用成员函数 setAge()

```
<?php

class Student {

   public function setName($name,$value){
       $this->$name=$value;
   }
   public function setAge($name,$value){
       $this->$name=$value;
   }

}

$Student1=new Student;
$Student1->setName('name', 'sanjeewani')
         ->setAge('age', '26');

var_dump($Student1);
?> 
```

我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T06:23:12.513

你不能像这样链接方法，你需要它们返回对象才能做到这一点。否则，您必须分别调用每个方法。

```
 public function setName($name,$value){
       $this->$name=$value;
       return $this;
   }
   public function setAge($name,$value){
       $this->$name=$value;
       return $this;
   } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T06:24:49.287

对于“流利的接口”（如您所做的那样连续调用多个方法），您的方法需要`return $this`. 因为您正在对前者的返回值调用下一个方法。

如果你不这样做，你就不能使用流畅的界面风格。只需进行常规方法调用：

```
$Student1->setName('name', 'sanjeewani')
$Student1->setAge('age', '26'); 
```

另请注意，您的方法毫无意义。应该是`setAge(26)`，不是`setAge('age', 26)`。摆脱冗余。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-13T10:36:01.757

i did that for setting object attributes dynamically.if any student have some different feature. then i can setting this. when i print student object for any student i want to see different feature for different student. that the reason i used this.(just ignore the function name)

```
$Student1->setName('name', 'sanjeewani')
$Student1->setAge('age', '26'); 
```

# android - 在 Android 中显示来自同一个 GeoPoint 的多个 RoutePaths

> ID：14930579
> 
> 赞同：2
> 
> 时间：2013-02-18T06:21:52.810
> 
> 标签：android

我想显示来自 AB 和 AC 的相同 GeoPoint 装置的两条路径路径。

Route1 包含来自 AB 的 GeoPoints，Route2 包含来自 AC 的 GeoPoints。请帮我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T07:39:11.300

您是否使用过以下代码

```
String url = "http://maps.googleapis.com/maps/api/directions/json?origin="
                + currentLat
                + ","
                + currentLng
                + "&destination="
                + lat
                + "," + lng + "&sensor=false"; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T08:03:59.423

你为什么不使用[google-maps-android-api-v2](https://developers.google.com/maps/documentation/android/?hl=fr)并遵循这个：

[答案：使用 Google Maps Android API v2 在两点之间绘制路径](https://stackoverflow.com/questions/14702621/answer-draw-path-between-two-points-using-google-maps-android-api-v2)

# nosql - NoSQL 定义中的“分布式”是什么意思？

> ID：14930580
> 
> 赞同：3
> 
> 时间：2013-02-18T06:21:55.407
> 
> 标签：nosql

> NoSQL 定义：下一代数据库主要解决一些问题：非关系型、*分布式*、开源和水平可扩展。

水平可扩展的相同事物（或包括）分布吗？如果不是，那是什么意思？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-18T06:25:15.957

NoSQL 系统采用**分布式架构**，数据以冗余方式保存在多个服务器上。这样，系统可以很容易地通过增加更多的服务器进行横向扩展，并且可以容忍服务器的故障。

**水平可扩展性**是通过添加更多服务器来提高服务器速度或可用性的能力，通常使用集群和负载平衡。

**所以是的，两者都是相似的术语。水平可扩展性增加了分布式架构。**

**如果相同的数据存储在多个存储设备上，则**数据复制****

 ****SCHEMA FREE：** 在 Oracle 中，您将首先定义您的表结构，然后插入/删除您的数据，但 Schema free 的情况并非如此。没有架构迁移。您的代码定义了您的架构。所以没有更多的 Alter table 语句。

参考：[http ://en.wikipedia.org/wiki/NoSQL](http://en.wikipedia.org/wiki/NoSQL)

[http://searchcio.techtarget.com/definition/horizo​​ntal-scalability](http://searchcio.techtarget.com/definition/horizontal-scalability)**

# c# - ISubject 在哪里？

> ID：14930582
> 
> 赞同：3
> 
> 时间：2013-02-18T06:22:14.357
> 
> 标签：c#, .net, system.reactive

我的 VS2012 中使用 Net4.5 没有 ISubject，Subject 类。他们变得过时了吗？我应该只使用 IObservable 和 IObserver 吗？如果没有，我怎么能得到它们？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-18T06:24:03.090

在 Rx 1.x 中，[`ISubject`](http://msdn.microsoft.com/en-us/library/hh229572%28v=vs.103%29.aspx)在程序集中定义`System.Reactive`，因此您需要添加对它的引用。

在 Rx 2.x 中，`ISubject`在`System.Reactive.Interfaces`程序集（[Rx-Interfaces NuGet 包](http://nuget.org/packages/Rx-Interfaces/)）`Subject<T>`中定义并在`System.Reactive.Linq`程序集（[Rx-Linq NuGet 包](http://nuget.org/packages/Rx-Linq/)）中定义。您可以只添加对 Rx-Linq 的引用，因为它依赖于 Rx-Interfaces。

# xna - ClickOnce、XNA redist 和 F# redist

> ID：14930586
> 
> 赞同：2
> 
> 时间：2013-02-18T06:22:42.943
> 
> 标签：xna, clickonce

我有一个 ClickOnce 应用程序，其中包括其 XNA 和 F# 依赖项。不幸的是，安装程序停止，因为没有安装 XNA，我希望安装程序本身可以解决这个问题。

我在 Codeplex 托管应用程序。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T07:04:05.390

ClickOnce 会根据您在先决条件对话框中的要求安装先决条件。如果 XNA 尚未安装在机器上，并且您没有 (a) 在部署中本地提供程序集，或 (b) 将组件指定为先决条件，那么它不会只是找出并安装它们“任性”。

# java - Eclipse 代码样式未反映在项目中

> ID：14930597
> 
> 赞同：0
> 
> 时间：2013-02-18T06:23:31.540
> 
> 标签：java, eclipse

```
Eclipse Code Style. 
```

我想对`data_`我的一些字符串字段使用前缀。

我跟着这个链接

[http://maffelu.net/eclipse-adding-prefix-rule-for-fields/](http://maffelu.net/eclipse-adding-prefix-rule-for-fields/)

`data_`我在前缀列中设置字段。

我输入了`public String somevalue`；

但没有添加前缀。

请帮助我。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-18T06:32:11.280

前缀规则控制 getter/setter 的生成。因此，如果您将前缀定义为`data_`，并向您的类添加一个名为 的变量`data_age`，则生成的 getter/setter 将分别为`getAge`和`setAge`。

换句话说，您仍然需要输入变量，IDE 不会为您完成。

# java - p:commandButton inside p:dataTable/p:dataGrid/p:dataList in primefaces/jsf

> ID：14930600
> 
> 赞同：0
> 
> 时间：2013-02-18T06:23:45.107
> 
> 标签：java, jsf, primefaces, glassfish

我在 p:dataGrid 中有 ap:commandButton（我也尝试过 p:dataTable，p:dataList）

命令按钮操作侦听器方法未执行，但对服务器进行了 ajax 调用。

请注意，dataGrid 是延迟加载的。

请找到示例代码：

```
 <p:dataGrid id="portfolioView" value="#{controller.values}" var="p"
                      lazy="true" rendered="#{controller.hasValues()}"
                      style="width: 100%" paginator="true"  rows="20" columns="1">
            <p:column id="portfolioViewColumn">
              <h:panelGroup id="portfolioPanel" layout="block"
                            style="width: 95%; padding: 20px; margin-bottom: 5px; margin-top: 5px; border-radius: 5px"
                            styleClass="importantpanel_down_less_spread">
                <h:panelGrid columns="3" >
                  <p:graphicImage value="#{controller.photo}" width="60" height="60"/>
                  <h:panelGroup layout="block" style="width: 100%" >
                    <h:outputText value="#{controller.user.name}" style="font-weight: bold; font-size: 12px"/>
                    <br/>
                    <h:outputText value="#{p.dateString}"
                                  style="font-weight: bold; font-size: 12px; color: #454545/>
                    <br/>
                    <h:outputText value="#{p.portfolioTitle}"
                                  style="font-weight: bold; font-size: 14px; color: #454545"/>
                  </h:panelGroup>
                  <h:panelGroup layout="block" >
                    <h:form>
                    <p:commandButton icon="ui-icon-trash" id="deletePortfolio" value="Delete" title="Delete this portfolio"
                                     styleClass="fs-button-portfolio" actionListener="#{controller.deleteValue(p)}"/>
                    <p:commandButton icon="ui-icon-pencil" id="editPortfolio" value="Edit" title="Edit this portfolio"
                                     styleClass="fs-button-portfolio" actionListener="#{controller.editValue(p)}" />
                  </h:form>
                  </h:panelGroup>
                </h:panelGrid>
    </p:column>
    <p:dataGrid>

public void deleteValue(Portfolio portfolio) {
    try {
      System.out.println("Removing portfolio ...");
      portfolioFacade.remove(portfolio);
      JsfUtil.addSuccessMessage("Portfolio Removed", "You have deleted a portfolio from your timeline");
    } catch (Exception e) {
      JsfUtil.addErrorMessage("Failure", "Sorry! We have failed to remove this portfolio from your timeline.");
    }
  }

public void editValue(Portfolio portfolio) {
      System.out.println("Preparing portfolio edit...");
      this.currentPortfolio = portfolio;
  } 
```

我在 glassfish 3.1.2.2、primefaces 3.4、mojarra 上运行

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T11:34:28.197

当迭代组件中的命令组件被调用时，JSF 将在处理表单提交期间重复迭代组件以找到被调用的命令。因此，为了成功找到它，它要求在处理表单提交期间的`value="#{controller.values}"`和`rendered="#{controller.hasValues()}"`评估与在显示表单期间所做的**完全相同。**

你的具体问题表明它没有。如果`getValues()`返回一个不兼容的更改列表（即 bean 是请求范围的并且不保留基于请求参数的列表），或者如果`isHasValues()`返回`false`，那么 JSF 将无法重复它，因此也无法找到正在调用的命令。

因此，为了解决这个问题，您只需要确保在处理表单提交期间返回的值`getValues()`与`isHasValues()`在显示表单期间返回的值完全相同。一种简单的方法是将 bean 放在视图范围内（并确保您没有在 getter 方法中执行业务逻辑，而只是在（post）构造函数和（action）listener 方法中）。

### 也可以看看：

*   [未调用 commandButton/commandLink/ajax 操作/侦听器方法或未更新输入值](https://stackoverflow.com/questions/2118656/hcommandlink-hcommandbutton-is-not-being-invoked/2120183#2120183)- 第 4 点和第 5 点。

# php - 如何计算完整脚本中代码中的查询

> ID：14930604
> 
> 赞同：1
> 
> 时间：2013-02-18T06:24:09.970
> 
> 标签：php, mysql, sql

我的问题似乎是主观的，但对我来说知道答案对于在编码时制定良好的未来计划太重要了。

1.  如果我有一个包含 100 个文件的脚本，并且每个文件都有自己的查询，并且一些查询在包含的类中。如何计算脚本从特定文件中的数据库获取信息所花费的时间。？知道这一点会给我一个很好的价值来重新设计一些文件结构。

2.  为了保持程序或脚本的效率，是否有任何特定的最大查询数？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-12T20:53:13.573

1.  对于这种分析，我可以向您推荐 xhprof：[https ://github.com/facebook/xhprof](https://github.com/facebook/xhprof)
2.  它在很大程度上取决于查询的复杂性、数据库的大小和服务器的资源。如果您继续优化您的脚本，除了减少查询数量外，重用 MySQL 连接也肯定会有所帮助。（每次没有重新连接开销等）

# mysql - 在 Mac OS 上的 MySQL Workbench 上删除数据库时出现错误 1010

> ID：14930605
> 
> 赞同：0
> 
> 时间：2013-02-18T06:24:20.533
> 
> 标签：mysql, macos, mysql-workbench

在 Mac OS X 10.8.2 上的 MySQL Workbench 上删除数据库时出现以下错误。

> 错误 1010: 删除数据库时出错 (can't rmdir './nssj', errno: 66) SQL 语句: drop schema`NSSJ`

我试图在其中搜索此目录，`/usr/local/mysql`但找不到。

谁能告诉我我在这里缺少什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-04-09T06:24:43.710

从目录 bin/mysql/mysql5.6.12/data 中删除数据库

mysql5.6.12 是我的mysql 版本它取决于你的mysql 版本

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-18T06:32:14.453

停止 sql 工作台

1）删除 db -> /usr/local/mysql/bin/mysql （您要删除的那个）

2）转到数据库文件夹： cd /usr/local/mysql/data/

3）删除有问题的DB的DB文件夹

启动您的工作台

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-01-12T14:49:44.833

您可能没有在管理员帐户中运行；您无权删除该目录。

1.  在您的 finder 菜单栏中单击“go”并输入以下内容：usr/local/mysql/data
2.  选择/删除具有您要删除的相同数据库的目录 - 您可能会看到询问管理员用户名和密码以继续的对话框。
3.  输入管理员凭据后，该目录将消失。重新启动与数据库的会话，一切顺利。

希望这可以帮助

# php - jQuery获取特定选项标签选择的值

> ID：14930610
> 
> 赞同：1
> 
> 时间：2013-02-18T06:24:58.880
> 
> 标签：php, javascript, jquery, html

我有这个，

```
<select id="customUser_id" name="customUser_id">
  <option value="2" label="Friends Of Friends">Friends Of Friends</option>
  <option selected="selected" value="3" label="Friends Only">Friends Only</option>
  <option value="4" label="Specific People">Specific People</option>
  <option value="0" label="Only Me">Only Me</option>
</select> 
```

我想获得`Selected Option`使用 jQuery 的价值。

目前我正在使用`onchange()`这样的事件，

```
$('#customUser_id').change(function(){
    if(($(this).val()==2)){
        $("#customWallPost3").text("Only Friends of Friends can see this");
    }
    else if(($(this).val()==3)){
        $("#customWallPost3").text("Only Friends can see this");
    }
    else if(($(this).val()==4)){
        $("#customWallPost3").text("Only the people above can see this");
    }
    else if(($(this).val()==0)){
        $("#customWallPost3").text("Only I can see this");
    }
    else{
        $("#customWallPost3").text("");
    }
}); 
```

这仅在更改选项值时才有效，但我也想以此获得选定的选项值。提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T06:29:21.330

不知道你的要求是什么...

> 我也想用这个获得选定的选项值..

但要获得选定的选项值，您可以使用

```
 $('#customUser_id').val(); 
```

`<select>`这为您提供了带有 id的选定值`customUser_id`

**更新**

如果您想获取所选选项的文本，那么您可以执行

```
 $("#customUser_id option:selected").text(); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-18T06:33:57.930

不确定您的问题，因为 `$('#customUser_id').val()`它给出了选择的值。

尽管如此，如果您愿意，您可以使用它遍历每个选项，并且可以获取具有`selected`属性 的元素

```
$('#customUser_id').children().each(function() {
    if($(this).attr('selected')) {
        // here you have the element with _selected_ attribute
    }
}); 
```

如果你愿意，你可以直接得到`attribute`哪个被选中

```
var selectedElt = $('#customUser_id').children('[selected=selected]'); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-18T06:37:01.897

您可以以更友好的方式创建它 - 使用数组和函数：

`**[LIVE DEMO](http://jsbin.com/ixevij/12/edit)**`

```
var arr_Infos = [
  'Only I can see this',                    // option value 0
  '',                                       // option value 1
  'Only Friends of Friends can see this',   // option value 2
  'Only Friends can see this',              // option value 3
  'Only the people above can see this'      // option value 4 (don't use comma)
];

function popoulateInfo(){
   var sel =  $('#customUser_id').find(":selected").val();
   $('#customWallPost3').text( arr_Infos[ sel ] ); 
}
popoulateInfo();             // run immediately

$('#customUser_id').on('change', function(){   
  popoulateInfo();           // run on change
}); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-18T06:30:30.023

试试这个来获得选定值的值：

```
$('#customUser_id').val(); 
```

这是文档[http://api.jquery.com/val/](http://api.jquery.com/val/)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-18T06:31:16.923

您的意思是，如果您希望显示所选选项 - “只有我可以看到这个”或“只有朋友可以看到这个”等......加载时，您可以添加此代码`.ready()`而不是 on`.change()`

```
$('#customUser_id').ready(function(){
if(($(this).val()==2)){
    $("#customWallPost3").text("Only Friends of Friends can see this");
}
else if(($(this).val()==3)){
    $("#customWallPost3").text("Only Friends can see this");
}
else if(($(this).val()==4)){
    $("#customWallPost3").text("Only the people above can see this");
}
else if(($(this).val()==0)){
    $("#customWallPost3").text("Only I can see this");
}
else{
    $("#customWallPost3").text("");
}
}); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-02-18T06:33:37.217

使用触发器

```
$('#customUser_id').change(function(){
    // your code
}).trigger('change'); 
```

# android - 从查询中仅获取列名

> ID：14930611
> 
> 赞同：1
> 
> 时间：2013-02-18T06:25:00.000
> 
> 标签：android, sql, sql-server-2005

只想从 SQL Server 获取列名。我的输出是这样的：

```
anyType{anyType=ArrayOfAnyType{anyType=Finance; };
anyType=ArrayOfAnyType{anyType=MIS; };
anyType=ArrayOfAnyType{anyType=Purchase; };
anyType=ArrayOfAnyType{anyType=Sales; }; } 
```

我只想要名字：`Finance`, `MIS`, `Purchase`, `Sales`.

并且该值动态设置为按钮名称.....

喜欢

```
btn1.setText(String.valueOf(optionArray[i])); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T06:32:53.730

我从您的问题中了解到您想要获取列名

所以这是查询

```
SELECT * FROM sys.columns WHERE object_id = OBJECT_ID('dbo.yourTableName') 
```

# perl - perl 中的 NTLM 代理身份验证

> ID：14930612
> 
> 赞同：2
> 
> 时间：2013-02-18T06:25:07.257
> 
> 标签：perl, ntlm, proxy-authentication

我需要通过代理访问互联网页面。我需要使用 NTLM 或 Digest Auth Scheme

我在谷歌上搜索的代码不起作用。

下面的代码使用任何 Auth Header 发出 Web 请求。请帮助我通过 NTLM 代理身份验证获取网页。

```
GET (URL address blocked: See forum rules) HTTP/1.1
TE: deflate,gzip;q=0.3
Keep-Alive: 300
Connection: Keep-Alive, TE
Host: google.com
User-Agent: libwww-perl/6.02

my $ua = new LWP::UserAgent(keep_alive => 1);
$ua->proxy('http', $PROXY);
$ua->credentials('proxy', '', 'username','passwd');
ntlmv2(1);

my $req = GET  $url;
print "--Peforming request now...---------\n";

my $res = $ua->request($req);
if ($res->is_success) {
    print $res->content;
} else {
    print "Error: " . $res->status_line . "\n";
    print $res->headers()->as_string(), "\n";
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-18T08:39:15.130

从以下页面：[http ://www.perlmonks.org/?node_id=953031](http://www.perlmonks.org/?node_id=953031)

```
use strict;
use warnings;
use Authen::NTLM;
use LWP::UserAgent;
use HTTP::Request::Common;

my $url = 'http://www.google.de';

my $ntlm = Authen::NTLM->new(
    host     => $url,
    user     => 'user',
    password => 'password',
);
my $reply = $ntlm->challenge;

my $ua = LWP::UserAgent->new(keep_alive => 1);
$ua->env_proxy;
$ua->protocols_allowed(['http']);

my $req = GET $url;
print "====Performing request now=========";

my $res = $ua->request($req);
if ($res->is_success) {
    print $res->content;
} else {
    print "Error: " . $res->status_line . "\n";
    print $res->headers()->as_string(), "\n";
}
print "====Done with request===============";
ntlm_reset;
exit; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-01-20T07:26:09.697

这是我设法从需要 NTLM 身份验证的 Microsoft 代理后面工作的唯一片段。此代码改编自[Cosine Security](http://cosine-security.blogspot.com/2010/03/lwp-and-ntlm-proxy-authentication.html)，[`Authen::NTLM`由 Lee Man Chan](http://search.cpan.org/dist/Authen-NTLM/lib/Authen/NTLM.pm)使用。

```
#!/usr/bin/perl -w

use strict;
use LWP::UserAgent;
use Authen::NTLM;
use Authen::NTLM::HTTP;

my $url         = 'http://www.google.com';
my $proxy       = 'http://proxy.foobar.com:8080'; # Required
my $user        = 'username';                     # Required
my $pass        = 'passw0rd';                     # Required
my $nt_domain   = 'DOMAIN';                       # Optional can be blank ''
my $host_domain = 'foobar.com';                   # NOT blank. At least 1 char 'x'
my $machine     = 'hostname';                     # Optional can be blank ''

# Creates the LWP User Agent, tells it to use the supplied proxy, and sends the
# initial HTTP GET request for the supplied URL and takes in a response
my $ua = new LWP::UserAgent(keep_alive=>1);
$ua->proxy('http', $proxy);

my $req = HTTP::Request->new(GET => $url);

# 1) code:'407', message='Proxy Authentication Required
# (Forefront TMG requires authorization to fulfill the request. Access to the
# Web Proxy filter is denied.)'
my $res = $ua->request($req);
print "1) " , $res->is_success? "It worked!->" : "It didn't work!->";
print "code:'". $res->code ."', message='". $res->message . "'\n";

# Once the initial request has been sent out, the proxy will send back an NTLM 
# negotiate message
# We set up the NTLM authentication client response by passing ntlm hashes of
# the username, password, domain, and workstation hostname
my $client = new_client Authen::NTLM::HTTP(
    Authen::NTLM::lm_hash($pass), 
    Authen::NTLM::nt_hash($pass),
    Authen::NTLM::HTTP::NTLMSSP_HTTP_PROXY, 
    $user, 
    $nt_domain, 
    $host_domain, 
    $machine);

# Here we set the NTLM protocol flags that we wish to be accepted
my $negotiate_flags = 
    Authen::NTLM::NTLMSSP_NEGOTIATE_ALWAYS_SIGN |
    Authen::NTLM::NTLMSSP_NEGOTIATE_OEM_DOMAIN_SUPPLIED |
    Authen::NTLM::NTLMSSP_NEGOTIATE_OEM_WORKSTATION_SUPPLIED |
    Authen::NTLM::NTLMSSP_NEGOTIATE_NTLM |
    Authen::NTLM::NTLMSSP_NEGOTIATE_OEM;

# We then take the client data, and the flags and jam them into a header, and add
# it back to the original request, and resend it.
my $negotiate_msg = "Proxy-" . $client->http_negotiate($negotiate_flags);

my @pa = split(/:/,$negotiate_msg);

$req->header($pa[0] => $pa[1]);
# The proxy then sends back an NTLM challenge response, which we strip from the
# message and parse using the NTLM methods provided by the module

# 2) code:'407', message='Proxy Authentication Required ( Access is denied.  )'
$res = $ua->request($req);
print "2) " , $res->is_success? "It worked!->" : "It didn't work!->";
print "code:'". $res->code ."', message='". $res->message . "'\n";

my $challenge_msg = "Proxy-Authenticate: " . $res->header("Proxy-Authenticate");

my ($domain, $flags, $nonce, $ctx_upper, $ctx_lower)
    = $client->http_parse_challenge($challenge_msg);

# We set the next round of flags, take the Nonce which we gained from parsing the
# challenge message, and send back a final authentication message. Once the proxy
# recieves this, it processes the original GET request
my $auth_flags = 
    Authen::NTLM::NTLMSSP_NEGOTIATE_ALWAYS_SIGN | 
    Authen::NTLM::NTLMSSP_NEGOTIATE_NTLM | 
    Authen::NTLM::NTLMSSP_REQUEST_TARGET;
my $auth_msg = $client->http_auth($nonce, $auth_flags);

@pa = split(/:/,$auth_msg);
#print STDERR "pa[0] = '$pa[0]', pa[1] = '$pa[1]'\n";

$req->header($pa[0] => $pa[1]);

# 3) code:'200', message='OK'
$res = $ua->request($req);
print "3) " , $res->is_success? "It worked!->" : "It didn't work!->";
print "code:'". $res->code ."', message='". $res->message . "'\n";

if ($res->is_success) {
    print "##################################\n";
    print "Success: " . $res->status_line . "\n";
    print $res->headers()->as_string(), "\n";
    print "##################################\n";
    print $res->content;
} else {
    print "Error: " . $res->status_line . "\n";
    print $res->headers()->as_string(), "\n";
} 
```

-hq

# javascript - 为 JavaScript 以外的脚本打开 Eclipse 语法高亮

> ID：14930624
> 
> 赞同：2
> 
> 时间：2013-02-18T06:26:58.033
> 
> 标签：javascript, eclipse, syntax-highlighting, paperjs

当您在 Eclipse 中使用 Web Developer Tools 编辑 html 文件时，Eclipse 知道`<script type="text/javascript">`标记内的任何内容都是 JavaScript，并打开适当的帮助程序，例如语法突出显示。

但是，在编辑这样的标签内的文本时，我希望获得相同的帮助：

```
<script type="text/paperscript"> 
```

我在哪里可以告诉 Eclipse 将此标记内的文本识别为 JavaScript？

# mysql - 如何在我必须检查多个属性的关系数据库中选择属性？

> ID：14930630
> 
> 赞同：3
> 
> 时间：2013-02-18T06:27:43.710
> 
> 标签：mysql, sql, select, attributes, where

我有一个关系数据库，我有一个这样的表

```
 person1           age       job           gender
        +++++++++++++++++++++++++++++++++++++++++++++++++
         p1                22        abc           m
         p2                42        bng           f
         p3                38        xyz           m 
```

我必须选择他/她必须有年龄='42'，工作='bng'和性别='f'的人

我用过这样

```
Select person1.*
where person1.age='42' and person1.job='bng' and person1.gender='f'; 
```

但我什么也得不到。那么如何选择行呢？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-18T06:29:58.887

您缺少该`FROM`子句，并且字符串文字必须在`''`而不是双引号中。如果`age`是数字数据类型，请删除它周围的引号，如果不使用`''`. 就像是：

```
Select person1.*
FROM person1
where person1.age    = 42 
  and person1.job    = 'bng' 
  and person1.gender = 'f'; 
```

[**SQL 小提琴演示**](http://www.sqlfiddle.com/#!2/915b4/1)。

这应该给你行：

```
| PERSON1 | AGE | JOB | GENDER |
--------------------------------
|      p2 |  42 | bng |      f | 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-18T06:32:05.173

您在查询中丢失`From`了。如果 person1 不是您的表名，则使用 like

`Select tablename(whatever your table name).* from tablename(whatever your table name) where age=42 and job='bng' and gender='f';`

# android - 在 Android 中为图像添加框架或边框

> ID：14930634
> 
> 赞同：3
> 
> 时间：2013-02-18T06:28:12.737
> 
> 标签：android, border, image-editing

我是 Android 应用程序开发的新手，我想创建一个应用程序，我可以在其中为图库中的图像添加边框或框架。我搜索了一些博客，但没有得到答案。

我想像这样创建 [https://play.google.com/store/apps/details?id=com.tndev.loveframes&hl=en](https://play.google.com/store/apps/details?id=com.tndev.loveframes&hl=en)

谁能告诉我有关如何执行该应用程序的想法或任何概念？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-18T06:56:33.433

以编程方式：

```
ImageView i = new ImageView(mContext);
Drawable d = null;
i.setImageDrawable(d);
        i.setAdjustViewBounds(true);
        i.setScaleType(ScaleType.CENTER_INSIDE);
        i.setBackgroundColor(Color.WHITE); //providing color to the background. 
        i.setPadding(3,3,3,3);//providing padding to the image.
        i.setLayoutParams(new Gallery.LayoutParams(LayoutParams.WRAP_CONTENT, LayoutParams.WRAP_CONTENT)); 
```

要将一个图像覆盖在另一个图像上，请使用 Canvas 类并检查以下链接： [Android: How to overlay-a-bitmap/draw-over a bitmap?](https://stackoverflow.com/questions/1540272/android-how-to-overlay-a-bitmap-draw-over-a-bitmap)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T06:37:55.013

方法1。如果你想要边框，你可以把你的imageView放在一个布局中。

然后为布局设置背景颜色

为布局提供填充，以便图像和布局有空间（可以看到背景颜色）

方法2。您可以使用相对布局并将图像（第一个图像视图）放在边框（第二个图像视图）上。为此，边界应具有精确的大小。

样本布局：

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="match_parent"
android:layout_height="match_parent" >
<!-- Bottom layer -->
<ImageView 
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:src="bkgrnd"/>
<!-- Middle layer -->
<ImageView 
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:src="your_pic"/>
<!-- Top Layer -->
<ImageView 
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:src="ribbon_pic"/> 
```

# c# - 选中 WPF 复选框时触发事件

> ID：14930637
> 
> 赞同：9
> 
> 时间：2013-02-18T06:28:31.073
> 
> 标签：c#, wpf, events, checkbox

获取当前正在检查的内容的正确方法是什么`CheckBox`。到目前为止我所做的不会在`CheckBox`检查的项目上触发任何事件：

```
<ListBox Grid.RowSpan="3" Grid.Column="2" Grid.ColumnSpan="5" Margin="2" ItemsSource="{Binding MachinePositionList}">
    <ListBox.ItemTemplate>
        <HierarchicalDataTemplate>
            <CheckBox Content="{Binding posID}" IsChecked="{Binding IsChecked, Mode=TwoWay}">
                <i:Interaction.Triggers>
                    <i:EventTrigger EventName="Checked">
                        <i:InvokeCommandAction Command="{Binding CurrentCheckedPosition}" />
                    </i:EventTrigger>
                </i:Interaction.Triggers>                           
            </CheckBox>
       </HierarchicalDataTemplate>
    </ListBox.ItemTemplate>
</ListBox> 
```

非常感谢 ：-）。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-02-18T06:39:02.037

您可以使用选中的事件：

```
<CheckBox Name="myCheckBox" 
          Content="I am a checkbox!" 
          Checked="myCheckBox_Checked" 
          Unchecked="myCheckBox_Unchecked" /> 
```

这些事件的代码是：

```
private void myCheckBox_Checked(object sender, RoutedEventArgs e)
{
    // ...
}

private void myCheckBox_Unchecked(object sender, RoutedEventArgs e)
{
    // ...
} 
```

编辑：刚刚注意到您的复选框内容为“{Binding posID}”，因此您可以做的事情（因为您有一个复选框列表）在选中的事件中，例如：

```
if (sender != null)
{
     int posID = Convert.ToInt32(((CheckBox)sender).Name);
} 
```

这将为您提供“posID”，您也可以使用它来做您需要的事情。:D

# android - 片段替换android上未保留操作栏状态

> ID：14930643
> 
> 赞同：1
> 
> 时间：2013-02-18T06:29:06.873
> 
> 标签：android

我已经使用带有视图寻呼机的导航选项卡实现了夏洛克片段活动。该活动有 3 个选项卡

```
public static class TabsAdapter extends FragmentPagerAdapter implements
        ActionBar.TabListener, ViewPager.OnPageChangeListener
{
    private final Context mContext;
    private final ActionBar mActionBar;
    private final ViewPager mViewPager;
    private final ArrayList<TabInfo> mTabs = new ArrayList<TabInfo>();

    static final class TabInfo
    {
        private final Class<?> clss;
        private final Bundle args;

        TabInfo(Class<?> _class, Bundle _args)
        {
            clss = _class;
            args = _args;
        }
    }

    public TabsAdapter(SherlockFragmentActivity activity, ViewPager pager)
    {
        super(activity.getSupportFragmentManager());
        mContext = activity;
        mActionBar = activity.getSupportActionBar();
        mViewPager = pager;
        mViewPager.setAdapter(this);
        mViewPager.setOnPageChangeListener(this);
    }

    public void addTab(ActionBar.Tab tab, Class<?> clss, Bundle args)
    {
        TabInfo info = new TabInfo(clss, args);
        tab.setTag(info);
        tab.setTabListener(this);
        mTabs.add(info);
        mActionBar.addTab(tab);
        notifyDataSetChanged();
    }

    @Override
    public int getCount()
    {
        return mTabs.size();
    }

    @Override
    public Fragment getItem(int position)
    {
        TabInfo info = mTabs.get(position);
        return Fragment.instantiate(mContext,info.clss.getName(),
                info.args)

        ;

    }

    public void onPageScrolled(int position, float positionOffset,
            int positionOffsetPixels)
    {
    }

    public void onPageSelected(int position)
    {
        mActionBar.setSelectedNavigationItem(position);
    }

    public void onPageScrollStateChanged(int state)
    {
    }

    public void onTabSelected(Tab tab, FragmentTransaction ft)
    {
        Object tag = tab.getTag();
        for (int i = 0; i < mTabs.size(); i++)
        {
            if (mTabs.get(i) == tag)
            {
                mViewPager.setCurrentItem(i);
            }
        }
    }
    public void onTabUnselected(Tab tab, FragmentTransaction ft)
    {
    }
    public void onTabReselected(Tab tab, FragmentTransaction ft)
    {
    }
} 
```

我使用以下方法将一个片段替换为另一个片段

```
 public void replace_fragment(SherlockFragment frag,String tag)
    {
            setContentView(R.layout.main);
            android.support.v4.app.FragmentManager fragment = getSupportFragmentManager();
            FragmentTransaction ft = fragment.beginTransaction();
            ft.addToBackStack(null)
            .replace(R.id.fragment_container,frag,tag);

            ft.commit();

        } 
```

我的问题是按下后退键时操作栏状态未保留。

# php - Facebook PHP SDK $facebook->getSignedRequest() 获取用户 ID 和名称。（页面选项卡）

> ID：14930648
> 
> 赞同：1
> 
> 时间：2013-02-18T06:29:36.797
> 
> 标签：php, facebook, facebook-php-sdk

**Facebook页面标签问题**

好吧，我不知道怎么说，我想在facebook的页面选项卡上检索用户的id和用户名。

![在此处输入图像描述](../Images/86e34644bdf051816ed4646e1165dc7c.png)

然后，当您单击箭头指向的应用程序时，它应该如下所示。

![在此处输入图像描述](../Images/161e6c874df3eb14043de7f9acd07ee3.png)

我不明白为什么**Page Admin 和 Page Like 是 1**它应该输出用户的 ID 对吗？为什么**UserID 是 0**？我登录了，我已经喜欢这个页面了

然后我想将用户名和用户ID“检索给将使用此页面选项卡应用程序**的用户”。**

这是我的代码。

```
if(!@include("../sdk/facebook.php")) throw new Exception("Failed to include 'facebook.php'");
$app_id = "xxx"; // Your application id
$app_secret = "xxx"; // Your application secret
$facebook = new Facebook(array(
'appId' => $app_id,
'secret' => $app_secret,
'cookie' => true
));
$signedrequest = $facebook->getSignedRequest();
$fbp_id = $signedrequest["page"]["id"]; //Facebook Fan Page ID
echo $is_admin = $signedrequest["page"]["admin"]; echo " Page Admin <br>";
echo $is_liked = $signedrequest["page"]["liked"]; echo " Page Liked<br>";
echo $uid=$facebook->getUser(); echo " User ID<br>"; 
```

**好吧，我仍然可以使用$fbp_id**检索粉丝页面 ID，但我无法检索用户的 ID **，它只输出 0**。我怎样才能找回它？有什么解决办法吗？

如果你能帮助我会很高兴。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T18:31:21.613

首先，您必须获得用户的许可才能获取他/她的数据。有两种方法可以做到，最好的方法是

```
$loginUrl = $facebook->getLoginUrl(
 array(
 'redirect_uri' => $your_page_tab_url,
 'scope'  => 'email'
      ) 
```

获取此 url 后，检查 user_id 是否为 0，然后将他重定向到

```
<script type='text/javascript'>top.location.href = '$loginUrl';</script> 
```

但还有一件事是针对新的 PHP sdk，所以你必须更新你拥有的那个

# java - 检查队列是否包含对象

> ID：14930651
> 
> 赞同：5
> 
> 时间：2013-02-18T06:29:49.377
> 
> 标签：java

为一个`java.util.concurrent.BlockingQueue`

按照 Java 规范，对于一个方法`contains(Object o)`

如果我之前插入了一个新对象，例如：

```
Task task = new Task("taskname", "somevalue"); 
queue.put(task); 
```

在上面。后来尝试这样做：

```
Task task = new Task("taskname", "somevalue"); 
queue.contains(task); 
```

由于 BlockingQueue 只是一个接口，根据 Java 规范，这应该返回 true 还是不返回？

该类`Task`是`Serializable`这样的比较将基于字段值对吗？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-02-18T06:35:55.040

行为取决于`Task`类是否覆盖`equals`方法。根据`equals`方法的逻辑，这两个任务`may/may not`是相等的。

来自[阻塞队列的 Java 文档](http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/BlockingQueue.html#contains%28java.lang.Object%29)

> 布尔包含（对象o）
> 
> 如果此队列包含指定元素，则返回 true。更正式地说，当且仅当此队列包含至少一个元素 e 使得 o.equals(e) 时才返回 true。

如果该`equals`方法没有被覆盖，那么 Java 将使用for 相等检查[`equals`方法`Object`](http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/7-b147/java/lang/Object.java#Object.equals%28java.lang.Object%29)（检查对象引用是否相等）。

```
 public boolean equals(Object obj) {
    return (this == obj);
} 
```

由于这是两个不同的对象，所以对象引用 id 会不同，因此`contains`会返回`false`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-18T06:37:26.727

> 由于 BlockingQueue 只是一个接口，根据 Java 规范，这应该返回 true 还是不返回？

这是一个奇怪的问题。只要对象被创建，它就应该按照它的 interface( )`queue`所承诺的行为。`BlockingQueue`

接口是抽象的，因为它不能被自己实例化，但它是由实现它的类创建的所有对象的通用契约。

至于您的 concreate 问题，是否`queue.contains(task)`返回`true`取决于类如何`Task`定义其`equals`方法。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-18T06:37:39.320

这取决于您在`contains()`方法中编写的逻辑是什么。当您尝试实例化时，`BlockingQueue<Object>`它会迫使您实现一些方法并且`contains()`是其中的一种。

```
BlockingQueue<Object> a = new BlockingQueue<Object>()
{

    @Override
    public Object remove()
    {
        // TODO Auto-generated method stub
        return null;
    }

    @Override
    public Object poll()
    {
        // TODO Auto-generated method stub
        return null;
    }

    @Override
    public Object element()
    {
        // TODO Auto-generated method stub
        return null;
    }

    @Override
    public Object peek()
    {
        // TODO Auto-generated method stub
        return null;
    }

    @Override
    public int size()
    {
        // TODO Auto-generated method stub
        return 0;
    }

    @Override
    public boolean isEmpty()
    {
        // TODO Auto-generated method stub
        return false;
    }

    @Override
    public Iterator<Object> iterator()
    {
        // TODO Auto-generated method stub
        return null;
    }

    @Override
    public Object[] toArray()
    {
        // TODO Auto-generated method stub
        return null;
    }

    @Override
    public <T> T[] toArray( T[] a )
    {
        // TODO Auto-generated method stub
        return null;
    }

    @Override
    public boolean containsAll( Collection< ? > c )
    {
        // TODO Auto-generated method stub
        return false;
    }

    @Override
    public boolean addAll( Collection< ? extends Object> c )
    {
        // TODO Auto-generated method stub
        return false;
    }

    @Override
    public boolean removeAll( Collection< ? > c )
    {
        // TODO Auto-generated method stub
        return false;
    }

    @Override
    public boolean retainAll( Collection< ? > c )
    {
        // TODO Auto-generated method stub
        return false;
    }

    @Override
    public void clear()
    {
        // TODO Auto-generated method stub

    }

    @Override
    public boolean add( Object e )
    {
        // TODO Auto-generated method stub
        return false;
    }

    @Override
    public boolean offer( Object e )
    {
        // TODO Auto-generated method stub
        return false;
    }

    @Override
    public void put( Object e ) throws InterruptedException
    {
        // TODO Auto-generated method stub

    }

    @Override
    public boolean offer( Object e, long timeout, TimeUnit unit ) throws InterruptedException
    {
        // TODO Auto-generated method stub
        return false;
    }

    @Override
    public Object take() throws InterruptedException
    {
        // TODO Auto-generated method stub
        return null;
    }

    @Override
    public Object poll( long timeout, TimeUnit unit ) throws InterruptedException
    {
        // TODO Auto-generated method stub
        return null;
    }

    @Override
    public int remainingCapacity()
    {
        // TODO Auto-generated method stub
        return 0;
    }

    @Override
    public boolean remove( Object o )
    {
        // TODO Auto-generated method stub
        return false;
    }

    @Override
    public boolean contains( Object o )
    {
        // TODO Auto-generated method stub
        return false;
    }

    @Override
    public int drainTo( Collection< ? super Object> c )
    {
        // TODO Auto-generated method stub
        return 0;
    }

    @Override
    public int drainTo( Collection< ? super Object> c, int maxElements )
    {
        // TODO Auto-generated method stub
        return 0;
    }
}; 
```

# doctrine-orm - 在插入实体上显示“无效月份”的教义 2 oracle 日期时间列

> ID：14930670
> 
> 赞同：3
> 
> 时间：2013-02-18T06:31:17.353
> 
> 标签：doctrine-orm, zend-framework2

我正在做一个项目，我们将 Zend 2 和教义 2 与 oracle 数据库一起使用。我的实体有一个日期时间类型的字段 create_date。我的实体在下面

```
class Personnel
{

/**
 * @ORM\Column(type="string",unique=true, nullable=false)
 */
protected $login_name;
/**
 * @ORM\Column(type="datetime")
 */
protected $create_date;
public function __construct()
{
    $this->create_date = new \DateTime("now");
}

 public function get_login_name()
{
    return $this->login_name;
}

public function set_login_name($login_name)
{
    $this->login_name = $login_name;
} 
```

}

我保存这个实体

```
$user = new Personnel();
$user->set_login_name('Admin');
$this->getEntityManager()->persist($user);
$this->getEntityManager()->flush(); 
```

但显示错误

```
    SQLSTATE[HY000]: 一般错误: 1843 OCIStmtExecute: ORA-01843: not a valid month
     （分机\pdo_oci\oci_statement.c:148）

```

请帮我。

高级谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-05-26T08:48:31.850

在这里也发现了那个错误......它没有被调用 OracleSessionInit ！

但我不知道是缺少配置部分还是教义中的错误，如果您使用 oci8，默认情况下不会启用它

编辑：

刚刚找到它！我应该补充一点，您应该在 service_manager 的调用程序中添加一个指向 \Doctrine\DBAL\Event\Listeners\OracleSessionInit 的服务，所以它应该是这样的：

```
'invokables' => array(
    'oracle-session-init' => '\Doctrine\DBAL\Event\Listeners\OracleSessionInit'
), 
```

和这个：

```
'doctrine' => array (
    'driver' => array (
            /** here are your driver settings, such as annotations configs */
    ),
    'eventmanager' => array(
            'orm_default' => array(
                    'subscribers' => array('oracle-session-init')
            )
    )
), 
```

归功于： [http ://raymondkolbe.com/2012/06/19/doctrineormmodule-and-oraclesessioninit/](http://raymondkolbe.com/2012/06/19/doctrineormmodule-and-oraclesessioninit/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-11-21T21:22:04.833

Doctrine 默认不会调用它，即使您使用 OCI8。在我看来，这不是一个错误，因为您可以直接在 DB 中更改 NLS 参数，因为您不需要每次连接 OracleSessionInit 时都调用它。导致每个会话减少 1 个查询。:)

解决此问题的另一种方法是获取 \Doctrine\ORM\EntityManager 的实例并设置 OracleSessionInit，如下所示。**您还可以像我在此示例中所做的那样更改默认会话变量，将具有新值的数组传递给“NLS_SORT”。**

在`Module.php`：

```
public function getServiceConfig() {
    return array(
        'initializers' => array(
            function($instance, $services) {
                if ($instance instanceof \Doctrine\ORM\EntityManager) {
                    $instance->getEventManager()->addEventSubscriber(new \Doctrine\DBAL\Event\Listeners\OracleSessionInit(array(
                        'NLS_SORT' => 'WEST_EUROPEAN_AI',
                    )));
                }
            },
        ),
    );
} 
```

> Initializer：每次ServiceManager创建一个类的新实例时执行的回调。如果该类实现特定接口，这些通常用于将对象注入到新类实例中。

更多关于初始化器和 Zend\ServiceManager 配置[在这里](http://akrabat.com/zendservicemanager-configuration-keys/)。

# ios - iOS UIImageView 作为 UITableView 背景，防止旋转

> ID：14930671
> 
> 赞同：0
> 
> 时间：2013-02-18T06:31:32.740
> 
> 标签：ios, uitableview, uiimageview

您好，我在 UITableView 中有一个 UIImageView 设置为我的背景。纵向看起来不错。我希望单元格旋转，他们这样做，但是，我希望图像背景不旋转。

当它旋转时，其调整后的大小变小，周围有黑条。

这是部分实现我想要完成的代码。

```
UIImageView *imageView = [[UIImageView alloc] initWithImage:[UIImage imageNamed:@"image.png"]];

imageView.contentMode = UIViewContentModeScaleAspectFit;

self.tableView.backgroundColor = [UIColor clearColor];

self.tableView.backgroundView = imageView; 
```

我希望有一些代码可以使背景免于旋转。你们有什么感想？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T06:41:37.193

您需要自动调整图像视图的大小

```
UIImage *originalImage = [... whatever ...];

UIImage *imageToDisplay =
 [UIImage imageWithCGImage:[originalImage CGImage]
          scale:1.0
          orientation: UIImageOrientationUp];
UIImageView *imageView = [[UIImageView alloc] init];

            imageview.autoresizingMask= UIViewAutoresizingFlexibleWidth | UIViewAutoresizingFlexibleHeight | UIViewAutoresizingFlexibleLeftMargin | UIViewAutoresizingFlexibleRightMargin | UIViewAutoresizingFlexibleTopMargin | UIViewAutoresizingFlexibleBottomMargin; //or however you need to mask

imageView.contentMode = UIViewContentModeScaleAspectFit;

self.tableView.backgroundColor = [UIColor clearColor];

self.tableView.backgroundView = imageView; 
```

希望这可以帮助 ！！！

# database - 使用 Netbeans 在 Java 中编辑数据库结构字段名称和字段限制

> ID：14930692
> 
> 赞同：-1
> 
> 时间：2013-02-18T06:33:37.433
> 
> 标签：database, netbeans, derby

我很抱歉这个愚蠢的问题。

我有一个这样的数据库结构：

```
CREATE TABLE "CLIENT" (
  "AFM" INTEGER not null primary key,
  "FIRSTNAME" VARCHAR(30),
  "LASTNAME" VARCHAR(30),
  "ADDRESS" VARCHAR(30),
  "PHONE" INTEGER,
  "MAIL" VARCHAR(60)
); 
```

问题：

1）当我按下Netbeans上的“运行SQL”按钮时，数据库就创建好了。如果我编辑 e 字段，例如将字段“邮件”更改为“电子邮件”，我再次按下相同的按钮，但由于数据库已经存在，我得到一个错误。如何编辑数据库中字段的名称？

2) 正如您在上面看到的，我希望字段“LASTNAME”由 <30 个字符组成。如果我想要该字段相同：“AFM” INTEGER ?? 如果我写：“AFM” INTEGER(10) 我得到一个错误。

先感谢您。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-18T12:50:24.723

为了限制数值列的值，您需要使用检查约束：

```
CREATE TABLE CLIENT 
(
    AFM INTEGER not null primary key,
    FIRSTNAME VARCHAR(30),
    LASTNAME VARCHAR(30),
    ADDRESS VARCHAR(30),
    PHONE INTEGER,
    MAIL VARCHAR(60),
    constraint check_afm check (afm <= 10)
); 
```

尽管我看不到您可能必须限制主键列的值的原因。

如果该表已经存在，您将收到错误消息。如果您的表中还没有数据（或者您不介意丢失它），您可以使用以下方法简单地删除它：

```
drop table client; 
```

运行上面的 CREATE TABLE。

否则（如果你想保留数据）你需要一个 alter table 语句：

```
alter table client 
  add constraint check_afm check (afm <= 10); 
```

请注意，如果表中有任何行违反该检查约束，这将失败。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T10:03:49.043

1）您不能两次创建表。如果表已经存在，您需要使用“ [alter table](http://dev.mysql.com/doc/refman/5.1/en/alter-table.html) ”来更改字段名。

2）你得到哪个错误？作为旁注：Integer(n) 定义显示宽度（请参见[此处](http://dev.mysql.com/doc/refman/5.1/en/numeric-type-overview.html)）而不是值范围，以防您不知道这一事实。

# c - 无向图 - > 深度优先搜索 C 编程 - 计算连接组件的数量

> ID：14930693
> 
> 赞同：0
> 
> 时间：2013-02-18T06:33:37.293
> 
> 标签：c, depth-first-search

现在已修复。它成功地创建了一个 UNDIRECTED 图的邻接列表。此外，它执行深度优先搜索并计算图中连接组件的总数，同时还保持计算最小组件中的顶点数。谢谢@nm

PS - 这个问题不需要几个阵列，但我还是把它们放了。

```
#include <stdio.h>
#include <stdlib.h>

#define MAX 1000
int time=0;
int smallest_component = 100000;
int count=0;

//these are the value that will be used to mark vertices
enum 
{
    white, gray, black
}color;

// A structure to represent an adjacency list node
typedef struct _Node
{
    int dest;
    int color;
    struct _Node* next;
}Node;

/* This is the structure of the adjacency list
* It simply has an array of Nodes
*/
typedef struct _Adj
{
    Node *list;  // pointer to head node of list
}Adj;

int D[MAX];
int F[MAX];
int Color[MAX];

// Prototypes
void printGraph(Adj *list, int vertices);
void addEdge(Adj *list, int start, int end);
void DFS(Adj* list, int vertex);

int main(int argc, char **argv)
 {
 FILE *in = NULL;
int vertex1=0, vertex2=0;
int vertex_count=0;
Node *head = NULL;

int v=1;
int u=1;
int connected_components = 0;

//make sure enough arguments are supplied
if(argc!=2)
{
    printf("hw1 <vertices-file>\n");
    return 1;
}

//open the file
in = fopen(argv[1], "r");

//check to see if the file was opened
if(in == NULL)
{
    printf("The file could not be opened");
    return 2;
}

//START THE INSERTION OF THE VERTICES

//grab the first number. It is the number of vertices
fscanf(in, "%d", &vertex_count);
int vertices = vertex_count + 1;

//Create the struct pointer and call the function to create the Graph
Adj* list = (Adj*)malloc(sizeof(Adj)*vertices);

for(v=1; v<vertices; v++){
    Color[v] = white;
}

//run through each pair of numbers 
while(fscanf(in, "%d %d", &vertex1, &vertex2)!=EOF)
{   
    // create the first list    
    addEdge(list, vertex1, vertex2);
}

printf("\n\n");

Node *temp;

//run through the graph's nodes
for (v = 1; v < vertices; v++)
 {
    count = 0;
    if(Color[v] == white){
        DFS(list, v);
        connected_components++;

        if(smallest_component>count)
            smallest_component=count;
    }
 }

printf("The number of connected components is %d\n", connected_components);

printf("The smallest component has %d vertices\n", smallest_component);

free(list);

//printGraph(myGraph);
return 0;
}

//Run a DFS given the Adjacency list and vertex in the list
 void DFS(Adj* list, int vertex)
{
count++;
//printf("\nI am in DFS with node %d \n", vertex);

Color[vertex] = gray;

time = time + 1;
D[vertex] = time;
Node *temp;

for(temp = list[vertex].list; temp != NULL; temp = temp->next)
{   
        if(Color[temp->dest] == white)
            DFS(list, temp->dest);
}

//get the new time, color, and end time
time = time+1;
F[vertex] = time;

//this means that we backtracked and now the node is black
Color[vertex] = black;
 }

/*
* This function creates the edge between the two vertices.
 * Since we have an UNDIRECTED graph, when I create the edges, I create them for both       vertex and destination
  */
void addEdge(Adj* list, int v, int dest)
{
//create the edge between vertex and destination
Node* temp = (Node*)malloc(sizeof(Node));
temp->next = list[v].list;
temp->dest = dest;
list[v].list = temp;

//create the edge between dest and vertex
Node* temp2 = (Node*)malloc(sizeof(Node));
temp2->next = list[dest].list;
temp2->dest = v;
list[dest].list = temp2;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-18T17:15:16.613

您的数据结构表示有*向*图，而 DFS 连通分量计数算法仅适用于*无向*图。结果将不正确。

您需要调整数据结构以表示无向图。最简单的方法是为每个原始边添加对`(a, b)`边`(b, a)`。只需添加另一个调用`addEdge`.

# css - jquerymobile缩略图与长描述垂直对齐

> ID：14930695
> 
> 赞同：1
> 
> 时间：2013-02-18T06:33:44.813
> 
> 标签：css, jquery-mobile

我应该怎么做才能使列表视图中的缩略图垂直对齐？
列表视图项是从数据库动态生成的，因此列表项的高度会有所不同，因此在 css 中添加（填充/边距）顶部属性是没有问题的。

这是我的示例代码：

```
<ul>
<li><img src='The Thumbnail Image' /><h3>the list heading</h3><p>Long description here (white-space: normal)</p></li>
<li><img src='The Thumbnail Image' /><h3>the list heading</h3><p>Longer description here (white-space: normal)</p></li>
<li><img src='The Thumbnail Image' /><h3>the list heading</h3><p>Longest description here (white-space: normal)</p></li>
</ul> 
```

也许这会让我更清楚地了解我的情况：http: [//jsfiddle.net/QdatL/](http://jsfiddle.net/QdatL/)

非常感谢任何帮助。

最好的问候，
阿尔文。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T06:49:25.570

我添加了这段代码：

```
li {
   position: relative;   
}

img {
   position: absolute;
   top: 50%;
   left: 5px;
   margin-top: -40px; /* image height/2 */
} 
```

它奏效了！

**[演示](http://jsfiddle.net/QdatL/8/)**

# sql-server - 在 sql server 2008 中查询大表

> ID：14930696
> 
> 赞同：1
> 
> 时间：2013-02-18T06:33:47.263
> 
> 标签：sql-server, sql-server-2008, query-performance, large-data

我们有一个包含 2.5 亿条记录（唯一的 15 位数字。聚集唯一索引列）的表，平均每天至少会被 0.7 到 90 万个请求查询。

我们有多个应用程序访问此表。每个应用程序将尝试将 500,000 条数据与这 2.6 亿条记录进行比较。

我们的应用程序将向这个大表添加更多数据，这实际上减慢了其他应用程序的查询速度。

我们如何提高查询的性能？我们如何维护这张表？分区吗？ **环境：Win 2K8R2，SQL 2K8R2，64GB RAM，双处理器8核**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T08:31:56.373

如果多个应用程序只是试图比较数据，那么我相信这些不会写入表，缓存记录也应该有所帮助。还有一种叫做分片的技术，不幸的是 SQL 服务器没有提供它。但是 codeplex 上有一个库为 SQL Server 提供了这样的功能。它基本上试图平衡数据库上的负载。

我还没有测试过，但应该值得一试。如果你愿意，你可以在这里看到它[http://enzosqlshard.codeplex.com/](http://enzosqlshard.codeplex.com/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T08:37:28.170

## 1.使用临时表

在您感兴趣的数据子集（行和列）上创建临时表。临时表应该比原始源表小得多，并且可以轻松索引（如果需要）。

要创建临时表，您可以使用代码（未经测试），例如：

```
-- copy records from last month to temporary table
INSERT INTO
   #my_temporary_table
SELECT
    *
FROM
    er101_acct_order_dtl WITH (NOLOCK)
WHERE 
    er101_upd_date_iso > DATEADD(month, -1, GETDATE())

-- run other queries on temporary table (which can be indexed)
SELECT TOP 100
    * 
FROM 
    #my_temporary_table 
ORDER BY 
    er101_upd_date_iso DESC 
```

优点：

轻松处理任何数据子集。易于管理——它是临时的，它是桌子。不影响整体系统性能，如视图。临时表可以被索引。缺点：

它是数据的快照——但这对于临时查询来说可能已经足够了。

## 2\. 创建视图

与上面类似，但创建视图而不是临时表。

您可以在您感兴趣的数据子集上创建视图或索引视图，并在视图上运行查询——它应该只包含比整个表小得多的有趣数据子集。

优点：

很容易做到。它是最新的源数据。缺点：

仅适用于已定义的数据子集。对于具有高更新率的大型表可能效率低下。没那么容易管理。会影响整体系统性能。选择所有列在大表上运行星查询（SELECT * FROM）不是好事......

如果您有大列（如长字符串），则需要花费大量时间从磁盘读取它们并通过网络传递。

我会尝试将 * 替换为您真正需要的列名。

或者，如果您需要所有列，请尝试将查询重写为：

```
;WITH recs AS (
    SELECT TOP 100 
        id as rec_id -- select primary key only
    FROM 
        er101_acct_order_dtl 
    ORDER BY 
        er101_upd_date_iso DESC
)
SELECT
    *
FROM
    er101_acct_order_dtl
WHERE 
    id = rec.rec_id
ORDER BY 
    er101_upd_date_iso DESC 
```

## 脏读

可以加快查询速度的最后一件事是允许带有表提示 WITH (NOLOCK) 的脏读。

您可以将事务隔离级别设置为未提交，而不是提示：

```
SET TRANSACTION ISOLATION LEVEL READ UNCOMMITTED 
```

# http - Jmeter：如何在一个线程组中同时运行 2 个或多个不同的 HTTP 请求？

> ID：14930701
> 
> 赞同：1
> 
> 时间：2013-02-18T06:34:09.867
> 
> 标签：http, jmeter

我有以下 Jmeter 测试计划：

```
Test Plan
    Thread Group(thread number=10,Ramp-up Period=0, loop count=1)
        HTTP request 1
        HTTP request 2 
```

我的问题是如何在这个线程组中同时发送上述 2 个 HTTP 请求？

我的意思就像场景：

```
 start time      http quest
 13:00:00.000    1~10 HTTP request 1
 13:00:00.000    1~10 HTTP request 2 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-18T06:40:07.277

如果您真的希望这些请求同时启动，那么它们应该位于不同的线程组中。

# soap - 如何通过 JAXB Schemagen 从扩展自 java.util.Date 的自定义 Java 类生成 xsd

> ID：14930703
> 
> 赞同：1
> 
> 时间：2013-02-18T06:34:18.573
> 
> 标签：soap, jaxb, wsdl, schemagen

我有一个自定义 java 类“CustomDate1”扩展了 java.util.Date，我想通过 Schemagen 为它生成 XSD 文件。但似乎在 XSD 文件中，“customDate1”没有扩展项，我不知道为什么，也许 JAXB 不支持扩展日期的类？

Java 类：

```
public class CustomDate1 extends java.util.Date { 
```

}

XSD 文件：

`<xs:complexType name="customDate1">`

`<xs:sequence/>`

`</xs:complexType>`

乔伊

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T11:34:19.233

您的域对象是否需要扩展`java.util.Date`？下面是一个域类，它将生成您正在寻找的 XML 模式，并且可能更适合您。

**领域模型**

我们将利用`@XmlValue`type 属性上的注释`java.util.Date`。

```
import java.util.Date;
import javax.xml.bind.annotation.*;

@XmlAccessorType(XmlAccessType.FIELD)
public class Foo {

    @XmlValue
    private Date value;

    @XmlAttribute
    private String bar;

} 
```

**XML 模式**

在下面的模式中，我们看到有一个 extends 类型`xsd:dateTime`。

```
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<xs:schema version="1.0" xmlns:xs="http://www.w3.org/2001/XMLSchema">

  <xs:complexType name="foo">
    <xs:simpleContent>
      <xs:extension base="xs:dateTime">
        <xs:attribute name="bar" type="xs:string"/>
      </xs:extension>
    </xs:simpleContent>
  </xs:complexType>
</xs:schema> 
```

**模式生成代码**

以下 JAXB 代码可用于从 JAXB 模型生成 XML 模式。

```
import java.io.IOException;
import javax.xml.bind.*;
import javax.xml.transform.Result;
import javax.xml.transform.stream.StreamResult;

public class Demo {

    public static void main(String[] args) throws Exception {
        JAXBContext jc = JAXBContext.newInstance(Foo.class);

        jc.generateSchema(new SchemaOutputResolver() {

            @Override
            public Result createOutput(String namespace, String suggestedFileName)
                    throws IOException {
                StreamResult result = new StreamResult(System.out);
                result.setSystemId(suggestedFileName);
                return result;
            }

        });
    }

} 
```

# c# - 在 c# propertyGrid 中处理转义键

> ID：14930706
> 
> 赞同：0
> 
> 时间：2013-02-18T06:34:54.627
> 
> 标签：c#, propertygrid

我在 winform (c#) 中使用属性网格。一旦用户在属性中输入一些值并按下`Esc`键将清除该值。我只是想防止`Esc`清除值（按 Esc 键应该什么都不做）。我试过`PreviewKeyDown`但没有得到任何线索。

任何想法？

# selenium - 运行 selenium 服务器后使用 ruby 脚本打开新控制台的命令

> ID：14930713
> 
> 赞同：0
> 
> 时间：2013-02-18T06:35:36.480
> 
> 标签：selenium, ruby-on-rails-3.1, console, selenium-rc, rails-console

我正在尝试运行一个包含不同命令的脚本，这些命令是：

1) 系统“bundle exec rails s -e test -d”

2) 系统“bundle exec selenium-rc”

3) 系统“bundle exec rspec test/selenium/*_sel.rb”

现在当第 1 行执行服务器运行并且控制台的控制权被转移回来。但是在执行第 2 行之后，硒服务器运行，但控制台的控制权没有被转回，因为没有执行第 3 行。

所以我的问题是我们如何同时运行所有三个命令。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T07:09:20.800

我通过一些研究而不是第 2 行找到了解决方案，现在我正在使用以下代码运行 selenium 服务器

```
require 'selenium/rake/tasks'
JAR_FILE_PATTERN = "vendor/selenium-remote-control/selenium-server-*.jar"    
@port = 4444      
@jar_file = "YOUR_PROJECT_PATH/vendor/selenium-server-standalone-2.28.0.jar"   
@background = true   
@timeout_in_seconds = 3 * 60   
@wait_until_up_and_running = true  
@additional_args = []  
@additional_args << "-singleWindow"   

raise "Could not find jar file '#{@jar_file}'. Expected it under     #{JAR_FILE_PATTERN}"      unless @jar_file && File.exists?(@jar_file)    
remote_control = Selenium::RemoteControl::RemoteControl.new("0.0.0.0", @port, :timeout => @timeout_in_seconds)   
remote_control.jar_file = @jar_file    
remote_control.additional_args = @additional_args   
remote_control.log_to = @log_to   
remote_control.start :background => true       
if @background && @wait_until_up_and_running       
  TCPSocket.wait_for_service :host => @host, :port => @port     
end 
```

3) # 现在第 3 行来到这里

4) remote_control.stop #这条线停在那里 server

# android - 将 MorphoTouch 与安卓设备连接

> ID：14930717
> 
> 赞同：1
> 
> 时间：2013-02-18T06:35:45.933
> 
> 标签：android

是否可以使用 android 平板电脑添加 MorphoTouch 设备。并且还使用 USB 添加多个带有 android 的设备

# wpf - WPF 绑定到静态成员

> ID：14930720
> 
> 赞同：1
> 
> 时间：2013-02-18T06:35:49.927
> 
> 标签：wpf, binding

为什么这个简单的事情不起作用？它是 WPF + .NET 4.0 + VB.NET，我想要完成的只是将 ComboBox 绑定到类的静态属性：

```
<ComboBox ItemsSource="{Binding Source={x:Static local:CommonLists.JobStatusTypes }}" /> 
```

命名空间“本地”导入为：

```
xmlns:local="clr-namespace:MyProject1" 
```

课程是：

```
Friend NotInheritable Class CommonLists
    Public Shared ReadOnly Property JobStatusTypes As List(Of JobStatusType)
        Get
            ...
        End Get
    End Property
End Class 
```

顺便说一句，它执行得很好；只有 WPF 设计器（VS2010）有问题，告诉我“找不到类型 CommonLists”。

**编辑：** 问题似乎比这更普遍。我无法使用 xmlns 语法访问 WPF 中的任何命名空间。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T08:54:47.947

你可以试试这个，

```
 ItemsSource="{Binding Source={x:Static Member=local:CommonLists.JobStatusTypes}}" 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T08:55:36.630

好的。自己找到了答案。如果我像这样导入我的命名空间：

```
xmlns:local="clr-namespace:MyProject1;assembly=" 
```

无论是在设计器中还是在运行时，它似乎都可以正常工作。我在某处读到，在命名空间导入中添加**assembly=**（后跟什么都没有）告诉 XAML 查看当前程序集。

# python - django的SimpleListFilter类的lookup和queryset函数有什么区别

> ID：14930724
> 
> 赞同：1
> 
> 时间：2013-02-18T06:36:22.340
> 
> 标签：python, django, django-admin

我正在为 django amdin 中的简单列表过滤器阅读此内容

[https://docs.djangoproject.com/en/1.5/ref/contrib/admin/#django.contrib.admin.ModelAdmin.list_filter](https://docs.djangoproject.com/en/1.5/ref/contrib/admin/#django.contrib.admin.ModelAdmin.list_filter)

他定义了两个函数`lookups`和`queryset`

我想知道差异是什么，何时使用查找以及何时使用查询集。dores 查找是什么意思

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T07:10:12.540

`lookups`返回列表中将出现在右侧的项目（在示例中，列表将包含值 'in the 80's' 和 'in the 90's'）。

`queryset`定义选择特定查找时应在左侧显示哪些对象。

每个查找项由两个值组成；实际显示在屏幕上的值和另一个值，queryset 方法将使用它来过滤主对象列表。

如果用户选择 'in the 80's'，则 queryset 方法将采用值 '80s'（来自`self.value()`）并创建一个过滤器，返回生日在 80 年代的人。（这是 queryset 方法中的第一`if`条语句）。然后，管理页面中的主要对象列表由来自此过滤器的对象填充。

# wsdl - 在 mule 中使用带有用户名+密码的 WSDL？

> ID：14930726
> 
> 赞同：0
> 
> 时间：2013-02-18T06:36:27.197
> 
> 标签：wsdl, mule

我有一个带有这个 url ( `http://192.168.1.2:9095/postcode`) 的 wsdl，它在上面设置了用户名 + 密码。现在我想在我的 .mflow (configurationXML) 文件中使用这个 url 作为**wsdlLocation ，例如这些代码：**

```
 <flow name="PostCode" doc:name="PostCode">
    <http:inbound-endpoint host="localhost" port="8085"
            path="postcode/service" exchange-pattern="request-response" doc:name="HTTP">
        <cxf:proxy-service doc:name="post_code" service="PostcodeWSService"
            wsdlLocation="http://192.168.1.2:9095/postcode?wsdl" namespace="http://service.post.net/"
            payload="body" />
    </http:inbound-endpoint>

    <copy-properties propertyName="SOAPAction" />

    <http:outbound-endpoint address="http://192.168.1.2:9095/postcode"  doc:name="HTTP" encoding="UTF-8" responseTimeout="1000000"  exchange-pattern="request-response">
        <cxf:proxy-client payload="body" doc:name="post_code" />
    </http:outbound-endpoint>
</flow> 
```

但是当我在 MULE 中启动它时，出现以下错误：

* * *

```
 ERROR 2013-02-18 09:55:25,726 [main] org.mule.module.launcher.application.DefaultMuleApplication: null
java.io.IOException: Server returned HTTP response code: 401 for URL: http://192.168.1.2:9095/postcode?wsdl
    at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1305)
    at org.apache.xerces.impl.XMLEntityManager.setupCurrentEntity(Unknown Source)
    at org.apache.xerces.impl.XMLVersionDetector.determineDocVersion(Unknown Source)
    at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
    at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
    at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
    at org.apache.xerces.parsers.DOMParser.parse(Unknown Source)
    at org.apache.xerces.jaxp.DocumentBuilderImpl.parse(Unknown Source)
    at com.ibm.wsdl.xml.WSDLReaderImpl.getDocument(Unknown Source)
    at com.ibm.wsdl.xml.WSDLReaderImpl.readWSDL(Unknown Source)
    at com.ibm.wsdl.xml.WSDLReaderImpl.readWSDL(Unknown Source)
    at org.apache.cxf.wsdl11.WSDLManagerImpl.loadDefinition(WSDLManagerImpl.java:244)
    at org.apache.cxf.wsdl11.WSDLManagerImpl.getDefinition(WSDLManagerImpl.java:191)
    at org.mule.module.cxf.support.ProxyServiceConfiguration.getEndpointName(ProxyServiceConfiguration.java:54)
    at org.apache.cxf.service.factory.ReflectionServiceFactoryBean.getEndpointName(ReflectionServiceFactoryBean.java:1807)
    at org.apache.cxf.service.factory.ReflectionServiceFactoryBean.getEndpointName(ReflectionServiceFactoryBean.java:1799)
    at org.mule.module.cxf.builder.AbstractInboundMessageProcessorBuilder.build(AbstractInboundMessageProcessorBuilder.java:193)
    at org.mule.module.cxf.builder.AbstractInboundMessageProcessorBuilder.build(AbstractInboundMessageProcessorBuilder.java:66)
    at org.mule.module.cxf.config.FlowConfiguringMessageProcessor.initialise(FlowConfiguringMessageProcessor.java:94)
    at org.mule.processor.chain.AbstractMessageProcessorChain.initialise(AbstractMessageProcessorChain.java:79)
    at org.mule.processor.chain.AbstractMessageProcessorChain.initialise(AbstractMessageProcessorChain.java:79)
    at org.mule.endpoint.DefaultInboundEndpoint.createMessageProcessorChain(DefaultInboundEndpoint.java:163)
    at org.mule.endpoint.AbstractEndpoint.getMessageProcessorChain(AbstractEndpoint.java:517)
    at org.mule.endpoint.DefaultInboundEndpoint.start(DefaultInboundEndpoint.java:104)
    at org.mule.construct.AbstractFlowConstruct.startIfStartable(AbstractFlowConstruct.java:317)
    at org.mule.construct.AbstractPipeline.doStart(AbstractPipeline.java:259)
    at org.mule.construct.AbstractFlowConstruct$2.onTransition(AbstractFlowConstruct.java:143)
    at org.mule.construct.AbstractFlowConstruct$2.onTransition(AbstractFlowConstruct.java:139)
    at org.mule.lifecycle.AbstractLifecycleManager.invokePhase(AbstractLifecycleManager.java:141)
    at org.mule.construct.FlowConstructLifecycleManager.fireStartPhase(FlowConstructLifecycleManager.java:95)
    at org.mule.construct.AbstractFlowConstruct.start(AbstractFlowConstruct.java:138)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    at java.lang.reflect.Method.invoke(Method.java:597)
    at org.mule.lifecycle.phases.DefaultLifecyclePhase.applyLifecycle(DefaultLifecyclePhase.java:225)
    at org.mule.lifecycle.RegistryLifecycleManager$RegistryLifecycleCallback.onTransition(RegistryLifecycleManager.java:276)
    at org.mule.lifecycle.RegistryLifecycleManager.invokePhase(RegistryLifecycleManager.java:155)
    at org.mule.lifecycle.RegistryLifecycleManager.fireLifecycle(RegistryLifecycleManager.java:126)
    at org.mule.registry.AbstractRegistryBroker.fireLifecycle(AbstractRegistryBroker.java:80)
    at org.mule.registry.MuleRegistryHelper.fireLifecycle(MuleRegistryHelper.java:120)
    at org.mule.lifecycle.MuleContextLifecycleManager$MuleContextLifecycleCallback.onTransition(MuleContextLifecycleManager.java:94)
    at org.mule.lifecycle.MuleContextLifecycleManager$MuleContextLifecycleCallback.onTransition(MuleContextLifecycleManager.java:90)
    at org.mule.lifecycle.MuleContextLifecycleManager.invokePhase(MuleContextLifecycleManager.java:72)
    at org.mule.lifecycle.MuleContextLifecycleManager.fireLifecycle(MuleContextLifecycleManager.java:64)
    at org.mule.DefaultMuleContext.start(DefaultMuleContext.java:249)
    at org.mule.module.launcher.application.DefaultMuleApplication.start(DefaultMuleApplication.java:151)
    at org.mule.module.launcher.application.ApplicationWrapper.start(ApplicationWrapper.java:107)
    at org.mule.module.launcher.DefaultMuleDeployer.deploy(DefaultMuleDeployer.java:47)
    at org.mule.tooling.server.application.ApplicationDeployer.run(ApplicationDeployer.java:56)
    at org.mule.tooling.server.application.ApplicationDeployer.main(ApplicationDeployer.java:88)
Exception in thread "main" org.mule.module.launcher.DeploymentStartException: IOException: Server returned HTTP response code: 401 for URL: http://192.168.1.2:9094/iran/postcode?wsdl
    at org.mule.module.launcher.application.DefaultMuleApplication.start(DefaultMuleApplication.java:174)
    at org.mule.module.launcher.application.ApplicationWrapper.start(ApplicationWrapper.java:107)
    at org.mule.module.launcher.DefaultMuleDeployer.deploy(DefaultMuleDeployer.java:47)
    at org.mule.tooling.server.application.ApplicationDeployer.run(ApplicationDeployer.java:56)
    at org.mule.tooling.server.application.ApplicationDeployer.main(ApplicationDeployer.java:88)
Caused by: org.mule.api.lifecycle.LifecycleException: Failed to start inbound endpoint "endpoint.http.localhost.9094.iran.postcode"
    at org.mule.endpoint.DefaultInboundEndpoint.start(DefaultInboundEndpoint.java:122)
    at org.mule.construct.AbstractFlowConstruct.startIfStartable(AbstractFlowConstruct.java:317)
    at org.mule.construct.AbstractPipeline.doStart(AbstractPipeline.java:259)
    at org.mule.construct.AbstractFlowConstruct$2.onTransition(AbstractFlowConstruct.java:143)
    at org.mule.construct.AbstractFlowConstruct$2.onTransition(AbstractFlowConstruct.java:139)
    at org.mule.lifecycle.AbstractLifecycleManager.invokePhase(AbstractLifecycleManager.java:141)
    at org.mule.construct.FlowConstructLifecycleManager.fireStartPhase(FlowConstructLifecycleManager.java:95)
    at org.mule.construct.AbstractFlowConstruct.start(AbstractFlowConstruct.java:138)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    at java.lang.reflect.Method.invoke(Method.java:597)
    at org.mule.lifecycle.phases.DefaultLifecyclePhase.applyLifecycle(DefaultLifecyclePhase.java:225)
    at org.mule.lifecycle.RegistryLifecycleManager$RegistryLifecycleCallback.onTransition(RegistryLifecycleManager.java:276)
    at org.mule.lifecycle.RegistryLifecycleManager.invokePhase(RegistryLifecycleManager.java:155)
    at org.mule.lifecycle.RegistryLifecycleManager.fireLifecycle(RegistryLifecycleManager.java:126)
    at org.mule.registry.AbstractRegistryBroker.fireLifecycle(AbstractRegistryBroker.java:80)
    at org.mule.registry.MuleRegistryHelper.fireLifecycle(MuleRegistryHelper.java:120)
    at org.mule.lifecycle.MuleContextLifecycleManager$MuleContextLifecycleCallback.onTransition(MuleContextLifecycleManager.java:94)
    at org.mule.lifecycle.MuleContextLifecycleManager$MuleContextLifecycleCallback.onTransition(MuleContextLifecycleManager.java:90)
    at org.mule.lifecycle.MuleContextLifecycleManager.invokePhase(MuleContextLifecycleManager.java:72)
    at org.mule.lifecycle.MuleContextLifecycleManager.fireLifecycle(MuleContextLifecycleManager.java:64)
    at org.mule.DefaultMuleContext.start(DefaultMuleContext.java:249)
    at org.mule.module.launcher.application.DefaultMuleApplication.start(DefaultMuleApplication.java:151)
    ... 4 more
Caused by: org.mule.api.lifecycle.InitialisationException: SERVICE_CREATION_MSG
    at org.mule.module.cxf.config.FlowConfiguringMessageProcessor.initialise(FlowConfiguringMessageProcessor.java:98)
    at org.mule.processor.chain.AbstractMessageProcessorChain.initialise(AbstractMessageProcessorChain.java:79)
    at org.mule.processor.chain.AbstractMessageProcessorChain.initialise(AbstractMessageProcessorChain.java:79)
    at org.mule.endpoint.DefaultInboundEndpoint.createMessageProcessorChain(DefaultInboundEndpoint.java:163)
    at org.mule.endpoint.AbstractEndpoint.getMessageProcessorChain(AbstractEndpoint.java:517)
    at org.mule.endpoint.DefaultInboundEndpoint.start(DefaultInboundEndpoint.java:104)
    ... 27 more
Caused by: org.apache.cxf.service.factory.ServiceConstructionException: SERVICE_CREATION_MSG
    at org.mule.module.cxf.support.ProxyServiceConfiguration.getEndpointName(ProxyServiceConfiguration.java:69)
    at org.apache.cxf.service.factory.ReflectionServiceFactoryBean.getEndpointName(ReflectionServiceFactoryBean.java:1807)
    at org.apache.cxf.service.factory.ReflectionServiceFactoryBean.getEndpointName(ReflectionServiceFactoryBean.java:1799)
    at org.mule.module.cxf.builder.AbstractInboundMessageProcessorBuilder.build(AbstractInboundMessageProcessorBuilder.java:193)
    at org.mule.module.cxf.builder.AbstractInboundMessageProcessorBuilder.build(AbstractInboundMessageProcessorBuilder.java:66)
    at org.mule.module.cxf.config.FlowConfiguringMessageProcessor.initialise(FlowConfiguringMessageProcessor.java:94)
    ... 32 more
Caused by: javax.wsdl.WSDLException: WSDLException: faultCode=PARSER_ERROR: Problem parsing 'http://192.168.1.2:9095/postcode?wsdl'.: java.io.IOException: Server returned HTTP response code: 401 for URL: http://192.168.1.2:9095/postcode?wsdl
    at com.ibm.wsdl.xml.WSDLReaderImpl.getDocument(Unknown Source)
    at com.ibm.wsdl.xml.WSDLReaderImpl.readWSDL(Unknown Source)
    at com.ibm.wsdl.xml.WSDLReaderImpl.readWSDL(Unknown Source)
    at org.apache.cxf.wsdl11.WSDLManagerImpl.loadDefinition(WSDLManagerImpl.java:244)
    at org.apache.cxf.wsdl11.WSDLManagerImpl.getDefinition(WSDLManagerImpl.java:191)
    at org.mule.module.cxf.support.ProxyServiceConfiguration.getEndpointName(ProxyServiceConfiguration.java:54)
    ... 37 more
Caused by: java.io.IOException: Server returned HTTP response code: 401 for URL: http://192.168.1.2:9095/postcode?wsdl
    at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1305)
    at org.apache.xerces.impl.XMLEntityManager.setupCurrentEntity(Unknown Source)
    at org.apache.xerces.impl.XMLVersionDetector.determineDocVersion(Unknown Source)
    at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
    at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
    at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
    at org.apache.xerces.parsers.DOMParser.parse(Unknown Source)
    at org.apache.xerces.jaxp.DocumentBuilderImpl.parse(Unknown Source)
    ... 43 more 
```

* * *

当 WSDL 上没有用户名+密码时，我的代码可以工作，但是现在它有用户名+密码，我的代码不起作用？

如何在我的代码中传递该用户名+密码以扩展然后正常工作我的 wsdl 没有任何问题??????????

///////////////////////////////////////// ////////////

我更改了我的代码，如下所示：

（我编码了我的密码）

```
<http:connector name="httpConnector" doc:name="HTTP\HTTPS">
<service-overrides sessionHandler="org.mule.session.NullSessionHandler" /> 
```

```
<http:inbound-endpoint host="localhost" port="8085"
    path="MyService/Service"
    exchange-pattern="request-response" doc:name="HTTP">
<cxf:proxy-service 
    payload="envelope" 
    service="PostcodeWSService"
    wsdlLocation="http://postcode:%2A%25P%40%24T-C%40DE%25%2A@192.168.1.2:8082/postcode?wsdl"
    namespace="http://service.post.net/"
    validationEnabled="true" doc:name="SOAP" />     
</http:inbound-endpoint>

<outbound-endpoint 
    address="http://192.168.1.2:8082/postcode"
    exchange-pattern="request-response" doc:name="Generic">
<cxf:proxy-client payload="body" enableMuleSoapHeaders="true"  doc:name="SOAP"/>   
</outbound-endpoint> 
```

但我又遇到了这些错误：

```
ERROR 2013-02-19 08:03:17,092 [main] org.mule.module.launcher.application.DefaultMuleApplication: null
java.io.IOException: Server returned HTTP response code: 401 for URL: http://postcode:%2A%25P%40%24T-C%40DE%25%2A@192.168.1.2:8082/postcode?wsdl
    at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1305)
    at org.apache.xerces.impl.XMLEntityManager.setupCurrentEntity(Unknown Source)
    at org.apache.xerces.impl.XMLVersionDetector.determineDocVersion(Unknown Source)
    at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
    at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
    at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
    at org.apache.xerces.parsers.DOMParser.parse(Unknown Source)
    at org.apache.xerces.jaxp.DocumentBuilderImpl.parse(Unknown Source)
    at com.ibm.wsdl.xml.WSDLReaderImpl.getDocument(Unknown Source)
    at com.ibm.wsdl.xml.WSDLReaderImpl.readWSDL(Unknown Source)
    at com.ibm.wsdl.xml.WSDLReaderImpl.readWSDL(Unknown Source)
    at org.apache.cxf.wsdl11.WSDLManagerImpl.loadDefinition(WSDLManagerImpl.java:244)
    at org.apache.cxf.wsdl11.WSDLManagerImpl.getDefinition(WSDLManagerImpl.java:191)
    at org.mule.module.cxf.support.ProxyServiceConfiguration.getEndpointName(ProxyServiceConfiguration.java:54)
    at org.apache.cxf.service.factory.ReflectionServiceFactoryBean.getEndpointName(ReflectionServiceFactoryBean.java:1807)
    at org.apache.cxf.service.factory.ReflectionServiceFactoryBean.getEndpointName(ReflectionServiceFactoryBean.java:1799)
    at org.mule.module.cxf.builder.AbstractInboundMessageProcessorBuilder.build(AbstractInboundMessageProcessorBuilder.java:193)
    at org.mule.module.cxf.builder.AbstractInboundMessageProcessorBuilder.build(AbstractInboundMessageProcessorBuilder.java:66)
    at org.mule.module.cxf.config.FlowConfiguringMessageProcessor.initialise(FlowConfiguringMessageProcessor.java:94)
    at org.mule.processor.chain.AbstractMessageProcessorChain.initialise(AbstractMessageProcessorChain.java:79)
    at org.mule.processor.chain.AbstractMessageProcessorChain.initialise(AbstractMessageProcessorChain.java:79)
    at org.mule.endpoint.DefaultInboundEndpoint.createMessageProcessorChain(DefaultInboundEndpoint.java:163)
    at org.mule.endpoint.AbstractEndpoint.getMessageProcessorChain(AbstractEndpoint.java:517)
    at org.mule.endpoint.DefaultInboundEndpoint.start(DefaultInboundEndpoint.java:104)
    at org.mule.construct.AbstractFlowConstruct.startIfStartable(AbstractFlowConstruct.java:317)
    at org.mule.construct.AbstractPipeline.doStart(AbstractPipeline.java:259)
    at org.mule.construct.AbstractFlowConstruct$2.onTransition(AbstractFlowConstruct.java:143)
    at org.mule.construct.AbstractFlowConstruct$2.onTransition(AbstractFlowConstruct.java:139)
    at org.mule.lifecycle.AbstractLifecycleManager.invokePhase(AbstractLifecycleManager.java:141)
    at org.mule.construct.FlowConstructLifecycleManager.fireStartPhase(FlowConstructLifecycleManager.java:95)
    at org.mule.construct.AbstractFlowConstruct.start(AbstractFlowConstruct.java:138)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    at java.lang.reflect.Method.invoke(Method.java:597)
    at org.mule.lifecycle.phases.DefaultLifecyclePhase.applyLifecycle(DefaultLifecyclePhase.java:225)
    at org.mule.lifecycle.RegistryLifecycleManager$RegistryLifecycleCallback.onTransition(RegistryLifecycleManager.java:276)
    at org.mule.lifecycle.RegistryLifecycleManager.invokePhase(RegistryLifecycleManager.java:155)
    at org.mule.lifecycle.RegistryLifecycleManager.fireLifecycle(RegistryLifecycleManager.java:126)
    at org.mule.registry.AbstractRegistryBroker.fireLifecycle(AbstractRegistryBroker.java:80)
    at org.mule.registry.MuleRegistryHelper.fireLifecycle(MuleRegistryHelper.java:120)
    at org.mule.lifecycle.MuleContextLifecycleManager$MuleContextLifecycleCallback.onTransition(MuleContextLifecycleManager.java:94)
    at org.mule.lifecycle.MuleContextLifecycleManager$MuleContextLifecycleCallback.onTransition(MuleContextLifecycleManager.java:90)
    at org.mule.lifecycle.MuleContextLifecycleManager.invokePhase(MuleContextLifecycleManager.java:72)
    at org.mule.lifecycle.MuleContextLifecycleManager.fireLifecycle(MuleContextLifecycleManager.java:64)
    at org.mule.DefaultMuleContext.start(DefaultMuleContext.java:249)
    at org.mule.module.launcher.application.DefaultMuleApplication.start(DefaultMuleApplication.java:151)
    at org.mule.module.launcher.application.ApplicationWrapper.start(ApplicationWrapper.java:107)
    at org.mule.module.launcher.DefaultMuleDeployer.deploy(DefaultMuleDeployer.java:47)
    at org.mule.tooling.server.application.ApplicationDeployer.run(ApplicationDeployer.java:56)
    at org.mule.tooling.server.application.ApplicationDeployer.main(ApplicationDeployer.java:88)
Exception in thread "main" org.mule.module.launcher.DeploymentStartException: IOException: Server returned HTTP response code: 401 for URL: http://postcode:%2A%25P%40%24T-C%40DE%25%2A@192.168.1.2:8082/postcode?wsdl
    at org.mule.module.launcher.application.DefaultMuleApplication.start(DefaultMuleApplication.java:174)
    at org.mule.module.launcher.application.ApplicationWrapper.start(ApplicationWrapper.java:107)
    at org.mule.module.launcher.DefaultMuleDeployer.deploy(DefaultMuleDeployer.java:47)
    at org.mule.tooling.server.application.ApplicationDeployer.run(ApplicationDeployer.java:56)
    at org.mule.tooling.server.application.ApplicationDeployer.main(ApplicationDeployer.java:88)
Caused by: org.mule.api.lifecycle.LifecycleException: Failed to start inbound endpoint "endpoint.http.localhost.8085.MyService.Service"
    at org.mule.endpoint.DefaultInboundEndpoint.start(DefaultInboundEndpoint.java:122)
    at org.mule.construct.AbstractFlowConstruct.startIfStartable(AbstractFlowConstruct.java:317)
    at org.mule.construct.AbstractPipeline.doStart(AbstractPipeline.java:259)
    at org.mule.construct.AbstractFlowConstruct$2.onTransition(AbstractFlowConstruct.java:143)
    at org.mule.construct.AbstractFlowConstruct$2.onTransition(AbstractFlowConstruct.java:139)
    at org.mule.lifecycle.AbstractLifecycleManager.invokePhase(AbstractLifecycleManager.java:141)
    at org.mule.construct.FlowConstructLifecycleManager.fireStartPhase(FlowConstructLifecycleManager.java:95)
    at org.mule.construct.AbstractFlowConstruct.start(AbstractFlowConstruct.java:138)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    at java.lang.reflect.Method.invoke(Method.java:597)
    at org.mule.lifecycle.phases.DefaultLifecyclePhase.applyLifecycle(DefaultLifecyclePhase.java:225)
    at org.mule.lifecycle.RegistryLifecycleManager$RegistryLifecycleCallback.onTransition(RegistryLifecycleManager.java:276)
    at org.mule.lifecycle.RegistryLifecycleManager.invokePhase(RegistryLifecycleManager.java:155)
    at org.mule.lifecycle.RegistryLifecycleManager.fireLifecycle(RegistryLifecycleManager.java:126)
    at org.mule.registry.AbstractRegistryBroker.fireLifecycle(AbstractRegistryBroker.java:80)
    at org.mule.registry.MuleRegistryHelper.fireLifecycle(MuleRegistryHelper.java:120)
    at org.mule.lifecycle.MuleContextLifecycleManager$MuleContextLifecycleCallback.onTransition(MuleContextLifecycleManager.java:94)
    at org.mule.lifecycle.MuleContextLifecycleManager$MuleContextLifecycleCallback.onTransition(MuleContextLifecycleManager.java:90)
    at org.mule.lifecycle.MuleContextLifecycleManager.invokePhase(MuleContextLifecycleManager.java:72)
    at org.mule.lifecycle.MuleContextLifecycleManager.fireLifecycle(MuleContextLifecycleManager.java:64)
    at org.mule.DefaultMuleContext.start(DefaultMuleContext.java:249)
    at org.mule.module.launcher.application.DefaultMuleApplication.start(DefaultMuleApplication.java:151)
    ... 4 more
Caused by: org.mule.api.lifecycle.InitialisationException: SERVICE_CREATION_MSG
    at org.mule.module.cxf.config.FlowConfiguringMessageProcessor.initialise(FlowConfiguringMessageProcessor.java:98)
    at org.mule.processor.chain.AbstractMessageProcessorChain.initialise(AbstractMessageProcessorChain.java:79)
    at org.mule.processor.chain.AbstractMessageProcessorChain.initialise(AbstractMessageProcessorChain.java:79)
    at org.mule.endpoint.DefaultInboundEndpoint.createMessageProcessorChain(DefaultInboundEndpoint.java:163)
    at org.mule.endpoint.AbstractEndpoint.getMessageProcessorChain(AbstractEndpoint.java:517)
    at org.mule.endpoint.DefaultInboundEndpoint.start(DefaultInboundEndpoint.java:104)
    ... 27 more
Caused by: org.apache.cxf.service.factory.ServiceConstructionException: SERVICE_CREATION_MSG
    at org.mule.module.cxf.support.ProxyServiceConfiguration.getEndpointName(ProxyServiceConfiguration.java:69)
    at org.apache.cxf.service.factory.ReflectionServiceFactoryBean.getEndpointName(ReflectionServiceFactoryBean.java:1807)
    at org.apache.cxf.service.factory.ReflectionServiceFactoryBean.getEndpointName(ReflectionServiceFactoryBean.java:1799)
    at org.mule.module.cxf.builder.AbstractInboundMessageProcessorBuilder.build(AbstractInboundMessageProcessorBuilder.java:193)
    at org.mule.module.cxf.builder.AbstractInboundMessageProcessorBuilder.build(AbstractInboundMessageProcessorBuilder.java:66)
    at org.mule.module.cxf.config.FlowConfiguringMessageProcessor.initialise(FlowConfiguringMessageProcessor.java:94)
    ... 32 more
Caused by: javax.wsdl.WSDLException: WSDLException: faultCode=PARSER_ERROR: Problem parsing 'http://postcode:%2A%25P%40%24T-C%40DE%25%2A@192.168.1.2:8082/iran/postcode?wsdl'.: java.io.IOException: Server returned HTTP response code: 401 for URL: http://postcode:%2A%25P%40%24T-C%40DE%25%2A@192.168.1.2:808/postcode?wsdl
    at com.ibm.wsdl.xml.WSDLReaderImpl.getDocument(Unknown Source)
    at com.ibm.wsdl.xml.WSDLReaderImpl.readWSDL(Unknown Source)
    at com.ibm.wsdl.xml.WSDLReaderImpl.readWSDL(Unknown Source)
    at org.apache.cxf.wsdl11.WSDLManagerImpl.loadDefinition(WSDLManagerImpl.java:244)
    at org.apache.cxf.wsdl11.WSDLManagerImpl.getDefinition(WSDLManagerImpl.java:191)
    at org.mule.module.cxf.support.ProxyServiceConfiguration.getEndpointName(ProxyServiceConfiguration.java:54)
    ... 37 more
Caused by: java.io.IOException: Server returned HTTP response code: 401 for URL: http://postcode:%2A%25P%40%24T-C%40DE%25%2A@192.168.1.2:8082/postcode?wsdl
    at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1305)
    at org.apache.xerces.impl.XMLEntityManager.setupCurrentEntity(Unknown Source)
    at org.apache.xerces.impl.XMLVersionDetector.determineDocVersion(Unknown Source)
    at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
    at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
    at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
    at org.apache.xerces.parsers.DOMParser.parse(Unknown Source)
    at org.apache.xerces.jaxp.DocumentBuilderImpl.parse(Unknown Source)
    ... 43 more 
```

我怎么解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T11:02:57.603

尝试使用以下格式设置**wsdlLocation ：**

```
http://username:password@192.168.1.2:9095/postcode?wsdl 
```

# c++ - 如何避免使用 X11 在图形绘图中闪烁

> ID：14930732
> 
> 赞同：2
> 
> 时间：2013-02-18T06:36:39.377
> 
> 标签：c++, linux, x11, embedded-linux, xlib

我们正在窗口中绘制图形。我们每 50 毫秒使用从硬件接收到的值（例如传感器）更新曲线。我们需要以图形格式显示值。所以我们每 50 毫秒更新一次图表。这给出了闪烁的问题。我们正在 X11 中编写代码。有没有办法避免在 X11 中的图形绘图中闪烁。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T08:39:56.567

这里的关键字是双缓冲。但是我不知道 x11 是否提供了开箱即用的功能，或者您需要自己实现它，所以我会留下谷歌搜索给您；）

除此之外，您可以考虑减少更新频率。也许以 250、500 或 1000 毫秒的周期更新就足够了？当然，这取决于您的用例。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-19T09:37:12.283

别客气。唔。好吧，在这种情况下，我会检查将运行它的机器的 X-Server 设置。我最近得到了一张新的 vid 卡，发现 openGL 应用程序每秒运行的帧数更高，但质量很差——图像有明显的“撕裂”——你可以始终看到最后一个和当前帧。在我启用*等待 VSynch 之后*在 XServer 的设置中，问题消失了。但是，这听起来更像是我过去在 MS windows 下遇到的问题。在那种特殊情况下，每次我向控件发送新图像时，窗口都会重绘图像窗口下方的窗口/对话框的背景。因此，它不是简单地替换旧图像，而是将图像擦除为库存灰色，然后继续替换图像（grrr）。如果您可以使用足够快的屏幕录制软件，您可以在应用程序运行时录制视频，然后逐帧播放视频。或者，如果您搜索“禁用窗口背景重绘/擦除 X11”或类似内容，您可能会得到一些关注。:)

猜猜它还取决于你是使用 Gtk+、wxWidgets 还是仅仅使用原始 X11 代码。

# android - 使用 ListFragment 为 ListView 制作对象数组

> ID：14930735
> 
> 赞同：0
> 
> 时间：2013-02-18T06:36:50.680
> 
> 标签：android, listview, object, android-arrayadapter, listadapter

我似乎在将对象列表实现为简单的 ListView 时遇到了麻烦。

这是每个列表元素的对象类。包 com.example.android.fragments;

```
package com.example.android.fragments;

public class ListObject {
    public String objectname;   //name of schedule
    public boolean[] Days = {
            false,  //monday
            false,  //tuesday
            false,  //and soforth
            false,
            false,
            false,
            false};

    public int starthour, startminute, stophour, stopminute;    //times from TimePicker
    public boolean vibrate; 

    public ListObject()
    {
        objectname = null; //if doesnt work, do objectname = "";
        vibrate = false;
        starthour = 8;
        startminute = 0;
        stophour = 15;
        stopminute = 0;
    }

    public ListObject(String name, boolean[] newdays, boolean vib, int a, int b, int c, int d)
    {
        objectname = name;
        Days = newdays;
        vibrate = vib;
        starthour = a;
        startminute = b;
        stophour = c;
        stopminute = d;
    }

    @Override
    public String toString()
    {
        String startampm = "am";
        String stopampm = "am";
        if (starthour > 11) //turns into am/pm
        {
            startampm = "pm";
            starthour -= 12;
        }
        if (stophour > 11)  //turns into am/pm
        {
            stopampm = "pm";
            stophour -= 12;
        }

        String daysstring = null ;  //initializes string representing days activated
        for(int i = 0; i < 7; i++)  //add into string the correct days
        {
            if (Days[i] == true)
            {
                if(i == 0)
                    daysstring += "M, ";
                else if (i == 1)
                    daysstring += "Tu, ";
                else if (i == 2)
                    daysstring += "W, ";
                else if (i == 3)
                    daysstring += "Th, ";
                else if (i == 4)
                    daysstring += "F, ";
                else if (i == 5)
                    daysstring += "Sa, ";
                else
                    daysstring += "Su, ";
            }
        }
        daysstring = daysstring.substring(0, daysstring.length() - 3);  //removes the last ', '
        daysstring += ": ";

        String timestring = 
                starthour + ":" + startminute + " " + startampm + " - " + 
                stophour + ":" + stopminute + " " + stopampm;

        return objectname + "\n" + daysstring + timestring;
    }

} 
```

我的主要活动将布局设置为 mainlayout，这是一个 FrameLayout

```
package com.example.android.fragments;

import android.os.Bundle;
import android.support.v4.app.FragmentActivity;
import android.support.v4.app.FragmentTransaction;

public class MainActivity extends FragmentActivity 
        implements MainListFragment.OnListSelectedListener {

    /** Called when the activity is first created. */
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.mainlayout);

        // Check whether the activity is using the layout version with
        // the fragment_container FrameLayout. If so, we must add the first fragment
        if (findViewById(R.id.fragment_container) != null) { //meaning, if using phone version

            // However, if we're being restored from a previous state,
            // then we don't need to do anything and should return or else
            // we could end up with overlapping fragments.
            if (savedInstanceState != null) {
                return;
            }

            // Create an instance of ExampleFragment
            MainListFragment firstFragment = new MainListFragment();

            // In case this activity was started with special instructions from an Intent,
            // pass the Intent's extras to the fragment as arguments
            firstFragment.setArguments(getIntent().getExtras());

            // Add the fragment to the 'fragment_container' FrameLayout
            getSupportFragmentManager().beginTransaction()
                    .add(R.id.fragment_container, firstFragment).commit();
        }
    }

    public void onArticleSelected(int position) {

        // Capture the article fragment from the activity layout
        InfoFragment articleFrag = (InfoFragment)
                getSupportFragmentManager().findFragmentById(R.id.article_fragment);    //article_fragment exists in layout-large

        if (articleFrag != null) {
            // If article frag is available, we're in two-pane layout...

            // Call a method in the ArticleFragment to update its content
            articleFrag.updateArticleView(position);

        } else {
            // phone layout - swap frags

            // Create fragment and give it an argument for the selected article
            InfoFragment newFragment = new InfoFragment();
            Bundle args = new Bundle();
            args.putInt(InfoFragment.ARG_POSITION, position);
            newFragment.setArguments(args);
            FragmentTransaction transaction = getSupportFragmentManager().beginTransaction();

            // Replace whatever is in the fragment_container view with this fragment,
            // and add the transaction to the back stack so the user can navigate back
            transaction.replace(R.id.fragment_container, newFragment);
            transaction.addToBackStack(null);

            // Commit the transaction
            transaction.commit();
        }
    }
} 
```

这就是问题所在，在我应该在应用程序启动时打开的 ListFragment 中，我不能简单地创建 3 个对象并将它们放在我的 listlayout.xml 中定义的 listview 中，它的 ListView id 为主列表视图

```
package com.example.android.fragments;

import java.util.ArrayList;
import java.util.List;

import android.app.Activity;
import android.app.ListActivity;
import android.os.Build;
import android.os.Bundle;
import android.support.v4.app.ListFragment;
import android.view.View;
import android.widget.ArrayAdapter;
import android.widget.ListView;

public class MainListFragment extends ListFragment{ //used to extend ListActivity{
    OnListSelectedListener mCallback;

    // The container Activity must implement this interface so the frag can deliver messages
    public interface OnListSelectedListener {
        /** Called by ListFragment when a list item is selected */
        public void onArticleSelected(int position);
    }

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        // We need to use a different list item layout for devices older than Honeycomb
        int layout = Build.VERSION.SDK_INT >= Build.VERSION_CODES.HONEYCOMB ?
                android.R.layout.simple_list_item_activated_1 : android.R.layout.simple_list_item_1;

        //using this now to add properties
        ListView mainlist = (ListView)getView().findViewById(R.id.mainlistview);

        //INFO FOR MADE UP OBJECTS
        boolean[] Days1 = {         
                true,   //monday
                false,  //tuesday
                true,   //and soforth
                false,
                true,
                false,
                false};

        boolean[] Days2 = {
                false,  //monday
                false,  //tuesday
                false,  //and soforth
                false,
                true,
                true,
                true};

        boolean[] Days3 = {
                false,  //monday
                false,  //tuesday
                false,  //and soforth
                true,
                false,
                false,
                false};

        //create sample objects
        ListObject[] scheduleobjs = 
            {
                new ListObject("Club Practice", Days1, true, 1, 0, 5, 25),
                new ListObject("Work", Days2, true, 3, 30, 14, 20),
                new ListObject("Church", Days3, true, 12, 5, 14, 20)
            };

//        String[] liststring = 
//              {
//                  scheduleobjs[0].toString(),
//                  scheduleobjs[1].toString(),
//                  scheduleobjs[2].toString()
//              };
//        ArrayList<ListObject> arraylist;  //add objects to arraylist
//        arraylist.add(scheduleobjs[0]);
//        arraylist.add(scheduleobjs[1]);
//        arraylist.add(scheduleobjs[2]);

        String[] arraylist = new String[]
                {
                    scheduleobjs[0].toString(),
                    scheduleobjs[1].toString(),
                    scheduleobjs[2].toString()
                };

        ArrayAdapter<String> arrayadapter = new ArrayAdapter<String>(this, layout, arraylist);
//        setListAdapter(new ArrayAdapter<String>(getActivity(), layout, ))
        mainlist.setAdapter(arrayadapter);

        //inflate here???
    }

    @Override
    public void onStart() {
        super.onStart();

        // When in two-pane layout, set the listview to highlight the selected list item
        // (We do this during onStart because at the point the listview is available.)
//        if (getFragmentManager().findFragmentById(R.id.article_fragment) != null) {
//            getListView().setChoiceMode(ListView.CHOICE_MODE_SINGLE); COMMENTED OUT BECAUSE USED IN 2 PANE LAYOUT
//        }
    }

@Override
public void onAttach(Activity activity) {
    super.onAttach(activity);

    // This makes sure that the container activity has implemented
    // the callback interface. If not, it throws an exception.
    try {
        mCallback = (OnListSelectedListener) activity;
    } catch (ClassCastException e) {
        throw new ClassCastException(activity.toString()
                + " must implement OnListSelectedListener");
    }
}

    @Override
    public void onListItemClick(ListView l, View v, int position, long id) {
        // Notify the parent activity of selected item
        mCallback.onArticleSelected(position);

        // Set the item as checked to be highlighted when in two-pane layout
        getListView().setItemChecked(position, true);
    }
} 
```

您可以看到我已经注释掉了以前使用对象类的覆盖 toString() 执行此操作的尝试，我哪里出错了，实现它的最佳方法是什么？我想最终创建一个更好的列表视图，因为它只显示一个字符串，并且我想要不同大小和颜色的文本，每个对象都有一个复选框，但现在我只是想让它工作。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T06:57:23.213

只需创建一个扩展 ArrayAdapter 的自定义适配器。这里有一个例子：[http ://devtut.wordpress.com/2011/06/09/custom-arrayadapter-for-a-listview-android/](http://devtut.wordpress.com/2011/06/09/custom-arrayadapter-for-a-listview-android/)

# java - 使用 json.org JSON，您可以使用字符串来帮助重新创建枚举吗？

> ID：14930736
> 
> 赞同：0
> 
> 时间：2013-02-18T06:36:56.843
> 
> 标签：java, json, string, enums

我正在尝试从 JSON 字符串重新创建，这是一个包含枚举常量的集合（JSON 字符串的源）。我很难弄清楚如何从字符串重新创建枚举。枚举包含我需要访问的各种方法。

我看到的[这个](https://stackoverflow.com/questions/604424/java-convert-string-to-enum)和[这个](https://stackoverflow.com/questions/8174168/converting-a-string-to-the-enum-class)的答案产生了一个类，它使您能够迭代常量而不是重新创建原始枚举。我想在其他现有类周围传递枚举，而不必重写代码来处理新类。

这甚至可能吗？您可以使用 JSON 字符串来帮助重新创建枚举，以便您可以将其用作枚举吗？

编辑：奇怪，我有一个大红色横幅告诉我 Stack Overflow 需要外部 Javascript，现在我无法评论帖子......

感谢 Brian 在下面的回复，但它本质上与我在此处链接的两个相同，它不会导致您实际上拥有 enum 对象，只是通过不同方法获得的常量。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-18T06:58:57.767

Java中的an`enum`是一个类，编译器添加了一个静态`valueOf(String name)`方法。因此，如果您有：

```
enum MyEnum  { 
      ONE(1.0), TWO(2.0), THREE(3.0); 

      private double myDouble; 

      MyEnum(double d) {  
          myDouble = d;
      }

      public double getDouble() {
          return myDouble;
      }
} 
```

你可以说：

```
MyEnum e = MyEnum.valueOf("ONE");
assert(e.equals(MyEnum.ONE));
System.out.println(e.getDouble()); 
```

更流行的用于 Java 的 JSON 解析器可以很好地处理枚举。以下是 Gson 的示例：

```
public class App
{

    public static void main(String[] args) 
    {
        // Array containing your enum constants
        String json = "[\"ONE\",\"TWO\",\"THREE\"]";

        Type t = new TypeToken<Collection<MyEnum>>(){}.getType();
        Collection<MyEnum> c = new Gson().fromJson(json, t);

        for (MyEnum me : c)
        {
            System.out.println(me);
            switch(me)
            {
                case ONE:
                    System.out.println("This is equal to MyEnum.ONE");
                    break;
                case TWO:
                    System.out.println("This is equal to MyEnum.TWO");
                    break;
                case THREE:
                    System.out.println("This is equal to MyEnum.THREE");
                    break;
            }
            System.out.println(me.getDouble());

        }
    }    
} 
```

输出：

> ONE
> 这等于 MyEnum.ONE
> 1.0
> TWO
> 这等于 MyEnum.TWO
> 2.0
> 三
> 这等于 MyEnum.THREE
> 3.0

# azure - Windows Azure 企业帐户

> ID：14930740
> 
> 赞同：1
> 
> 时间：2013-02-18T06:37:13.340
> 
> 标签：azure

Windows Azure Enterprise 帐户和普通 Azure 帐户有什么区别

企业账号：- [https://ea.windowsazure.com/](https://ea.windowsazure.com/)

天蓝色：- [http://www.windowsazure.com](http://www.windowsazure.com)

订阅管理和管理员管理的界面在两者中是否不同？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-02-17T14:33:25.120

上周我与 Azure EA 销售代表进行了交谈，目前（2015 年 2 月）唯一的区别在于定价。Azure 网站上发布的价格是它们的“机架价格”。要获得他们所说的便宜 5%-20% 的 EA 定价，您需要事先同意每年至少花费 25,000 美元。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-01-10T18:36:04.843

除了 Microsoft 为您签署企业协议（假设承诺 25,000 美元）提供的价格优惠外，管理界面略有不同。

在典型的 Azure 订阅中，您只需...一个订阅。通过企业协议，您可以创建多个帐户，并且在每个帐户中您可以创建多个订阅。这有时用于希望使用退款模型并出于会计目的发布帐户或订阅的组织（例如营销、IT、运营）。作为替代方案，您可以将订阅用作隔离级别（例如 DEV、TEST、PROD）。

总之，可供消费的 Azure 服务是相同的，但计费设置、定价、使用报告和隔离为您提供更高级别的管理监督。

# css - jQuery UI draggable+sortable 保持draggable的css

> ID：14930741
> 
> 赞同：1
> 
> 时间：2013-02-18T06:37:16.367
> 
> 标签：css, jquery-ui, draggable, jquery-ui-sortable

当使用 jQuery UI draggable+sortable 时，draggable 元素在放入 sortable 时会丢失它的 css。这是我的代码，这是一个[js fiddle 演示](http://jsfiddle.net/y6KHn/1/)

尝试将可拖动的 div 放入 sortable 并查看它是否丢失了（在这种情况下）背景颜色和边框。有可能防止这种情况吗？

```
<script>
    $("#content").sortable({
        revert:true
    });
    $( "#draggable" ).draggable({
      connectToSortable: "#content",
      revert: "invalid",
      stop: function(event,ui) {
        $(ui.item).attr('id','draggable');
      }
    });
</script>
<style>
 #content {width:150px;}
 #draggable {   
    width:50px;
    height:50px;
    border:1px solid red;
    background-color:blue;} 
 .text {
    min-height:100px;
    width:100%;
    border:1px solid red;

    background-color:red;
 }
</style>
<div id="content">
    <div class="text">Item</div>
    <div class="text">Item</div>
    <div class="text">Item</div>
    <div class="text">Item</div>
    <div class="text">Item</div>
    <div class="text">Item</div>
</div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T07:02:26.107

拖拽会丢失ID。您可以通过将 css 附加到类来解决此问题。
在您的 html 中：

```
<div id="draggable" class="dragclass">Drag</div> 
```

在CSS中：

```
 .dragclass {   
    width:50px;
    height:50px;
    border:1px solid red;
    background-color:blue;} 
```

查看更新的小提琴：http: [//jsfiddle.net/y6KHn/2/](http://jsfiddle.net/y6KHn/2/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T07:27:39.650

或者，如果您需要 ID 做其他事情，您可以将此代码添加到您的可排序调用中：

```
 beforeStop: function (event, ui) { 
      newItem = ui.item;
  },
  receive: function(event,ui) {
      $(newItem).attr("id","draggable");     
  } 
```

更新小提琴：http: [//jsfiddle.net/y6KHn/5/](http://jsfiddle.net/y6KHn/5/)

请参阅[jquery：如何更新可拖动克隆 id？](https://stackoverflow.com/questions/5788391/jquery-how-to-update-draggable-clone-id)

# xml - 使用 Linq 解析 xml ，导入命名空间。仍然无法正确读取 xml，为什么？

> ID：14930742
> 
> 赞同：0
> 
> 时间：2013-02-18T06:37:16.797
> 
> 标签：xml, vb.net, linq, xml-namespaces

我的语言是asp.net。我使用 Linq 来解析 xml 文件。但是这个 xml 文件已经设置了命名空间。在加载 xml 文件之前。我尝试导入 xml 命名空间。但仍然无法正确解析 xml。

```
Imports <xmlns="abc">

<html>
<head>
<title>Do-Life</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="../../img/css.css" rel="stylesheet" type="text/css">
<script runat="server">
Sub Page_Load(ByVal sender as Object, ByVal e as System.EventArgs)
    If not isPostBack Then
....
Dim TYPINFO As XElement = XElement.Load(server.MapPath(filename))
    Dim tinfos As IEnumerable(Of XElement)      
    tinfos = From tf In TYPINFO...<typhinfo> Select tf
....
.... 
```

xml文件：

```
<?xml version="1.0" encoding="UTF-8"?>
<cwbtyphfcst xmlns="abc" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.cwb.wfc.typhoonfcstCE/namespace typhooninfor.xsd">
<announcement>
    ... 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T01:27:30.073

我知道这个问题。

如果我将 xml 内容修改为

```
<?xml version="1.0" encoding="UTF-8"?>
<cwbtyphfcst xmlns:ns="abc" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.cwb.wfc.typhoonfcstCE/namespace typhooninfor.xsd">
<announcement>
... 
```

将命名空间前缀名称标识为“ns”

并将命名空间导入为

```
Imports <xmlns:ns="abc"> 
```

最后，linq 是工作的一切。

# c# - 如何通过 c# 使用 SqlBulkCopy 插入记录后获取自动增量值

> ID：14930745
> 
> 赞同：2
> 
> 时间：2013-02-18T06:37:27.430
> 
> 标签：c#, sql, stored-procedures, sqlbulkcopy

我正在使用**SqlBulkCopy**类插入批量记录，但我想要新生成的`auto-increment`值（主键在子表中播放外键），因为在这些值的帮助下，我将使用子表（外键）进行插入。

请按照以下示例获得清晰的图片，

源表：创建表 StagingTable (personName varchar(50)) 插入 StaginTable values('Test1') .. .. .. insert into StaginTable values('Test10,000')

**目标表：**创建表 TargetTable (personId int identity(1,1), personName varchar(50)) insert into TargetTable values('Already1') .. .. insert into TargetTable values('Already10')

现在我在 TargetTable 中有 10 条记录，其中 10 条记录带有 personId（1 到 10），所以我的问题是将 10,000 条记录从 StagingTable 插入到 TargetTable 并使其成为 10,010 条记录，同时通过排除 10 个标识值，我只需要 10,000 个唯一标识值借助 sql server 2012 中的合并概念。

创建过程 Merge_GetNewIdentityValues As MERGE TargetTable AS T USING StagingTable AS S ON 1 != 1 当不匹配然后插入（personName）值（S.StagingTable）输出inserted.personId；-- 获取标识字段值【新插入的】

如何并发处理？“插入”关键字是在单独的上下文中播放，还是在用于不同用户调用相同存储过程的单个上下文中播放

谢谢， S.Venkatesh

# c# - Web 服务器上的 DateTime.Now 文化/格式

> ID：14930752
> 
> 赞同：0
> 
> 时间：2013-02-18T06:38:16.273
> 
> 标签：c#, asp.net, .net, datetime, datetime-format

为了测试，Web 服务器位于具有`Maori`文化的计算机上，其中短日期格式如下：`d/MM/yyyy`.

用户在具有`Hungarian`文化的计算机上，短日期格式为`yyyy.MM.dd.`

我创建了一个网页，加载页面时将在标签上显示 DateTime.Now。显示的日期是`2/18/2013 2:22:06 PM`。

所以现在我的问题是，为什么显示的日期是另一种格式/文化，我怀疑是英美？

其次，我需要将数据库中的日期（假设数据库位于具有不同文化的计算机上）与 DateTime.Now 进行比较。为此，我计划将数据库中的日期转换为与 Web 服务器的文化相匹配。但是考虑到我第一个问题的情况，我怎么知道 DateTime.Now 将采用哪种文化/格式？

编辑：使用的代码：

```
DateTime nowDateTime = DateTime.Now;
Label7.Text = nowDateTime.ToString().Trim(); 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-18T06:51:05.777

对于您问题的第一部分：您的代码基本上只是使用当前的线程文化。您可以确保将每个请求的当前线程文化设置为适合*该*请求的文化（基于接受标头等 - 请参阅），或者您可以将其显式传递给对等[`HttpRequest.UserLanguages`](http://msdn.microsoft.com/en-gb/library/system.web.httprequest.userlanguages.aspx)的所有调用。`ToString`

至于为什么它以美国英语格式出现 - 这很可能是网络*服务*运行的文化。这可能与桌面使用的文化不同。如果用户请求未提供任何信息，您应该努力确保*不*使用它，除非可能作为后备。（我很想选择一个明确的后备而不是使用服务的默认值。）

> 其次，我需要将数据库中的日期（假设数据库位于具有不同文化的计算机上）与 DateTime.Now 进行比较。

使用`DateTime.Now`几乎可以肯定是一个坏主意。在大多数情况下，您应该`DateTime.UtcNow`在数据库中使用和存储 UTC 日期/时间。（在某些情况下，您应该存储本地时间和时区，但即使那样您也不会使用`DateTime.Now`.）

> 为此，我计划将数据库中的日期转换为与 Web 服务器的文化相匹配。但是考虑到我第一个问题的情况，我怎么知道 DateTime.Now 将采用哪种文化/格式？

在与*字符串*表示形式相互转换时，文化主要是相关的。在数据库中存储值或检索值时，应避免任何此类转换。相反，请确保您在数据库（`DATETIME`或其他）中使用了适当的字段类型，然后在数据访问层中将其*作为 a获取。`DateTime`*如果您发现自己试图使用`DateTime.Parse`或类似的东西，那应该敲响警钟。您还没有告诉我们您正在使用什么数据访问技术，但几乎所有内容都允许您`DateTime`直接检索 a。（例如[`DbDataReader.GetDateTime`](http://msdn.microsoft.com/en-gb/library/system.data.common.dbdatareader.getdatetime.aspx)。）

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-18T06:44:19.203

在比较不同时区的日期时，将其作为 UTC 存储在数据库中是有意义的。然后，您可以轻松地将其与任何时区的任何其他日期进行比较（再次转换为 UTC）。

希望这可以帮助。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-18T07:19:27.057

根据您的编辑，我认为相关主题上的文化并不是真正的毛利人。试试这个来测试：

```
Label7.Text = CultureInfo.CurrentCulture.ToString(); 
```

如果是`"mi"`或`"mi-NZ"`，那就是毛利人。有的东西`"en"`会是英语、`"hu"`匈牙利语等等。

请注意，如果以编程方式更改当前区域性，则这只影响当前线程。不是其他线程。但是您是否尝试在 Windows 的控制面板中设置区域设置？

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-18T07:34:00.730

> 为什么显示的日期是另一种格式/文化，我怀疑是 Eng-US？

答：标签上的`DateTime.Now`呈现~~已经~~是英语文化，这可能是由于当前的 Web 服务器配置或它正在选择用户的请求文化。`2/18/2013 2:22:06 PM`~~~~`Maori`~~~~

 ~~可能的解决方案： **将其呈现在客户的文化中，即匈牙利文化**

1.  最简单和框架句柄，修改配置以适应用户的请求头
2.  手动，您需要为此编写代码，您需要处理`Page`'`InitializeCulture`事件并根据用户的请求标题更改`Culture`执行，这应该类似于`HttpRequest``Accept-Language``Accept-Language: hu-HU,en;q=0.8`

以上 1 点的代码示例

```
<system.web>
       <globalization
                  enableclientbasedculture="true"
                  uiculture="auto"
                  culture="auto">
       </globalization>
</system.web> 
```

为此，请参阅[Scott Hanselman 的关于全球化的帖子](http://www.hanselman.com/blog/GlobalizationInternationalizationAndLocalizationInASPNETMVC3JavaScriptAndJQueryPart1.aspx)，其中也可以将哪个概念应用于 Web 表单应用程序。

> 要读取数据库值，请使用代码片段，

```
var culture = CultureInfo.CreateSpecificCulture("mi-NZ");
DateTime.Parse(sqlDbReader["MyDateColumnName"], culture) 
```

参考：[Format SqlDataReader as date](http://www.wallaceit.co.uk/asp-net-vb/format-sqldatareader-as-date/169/article.aspx) and [MSDN - DateTime.Parse Method](http://msdn.microsoft.com/en-us/library/system.datetime.parse.aspx)~~

# jquery - 使用 JQuery 的嵌套中继器展开/折叠不起作用

> ID：14930753
> 
> 赞同：0
> 
> 时间：2013-02-18T06:38:21.103
> 
> 标签：jquery

结果的两级嵌套中继器示例

技能类别 1
技能 1
技能 2
技能 3
技能类别 2
技能 1
技能 2

```
and here is my Jquery
<script type="text/javascript">
    $(document).ready(function()
    {
        $(".expandhideContents").hide();

        $(".expandhideHeader").click(function()
        {
            $(this).next(".expandhideContents").slideToggle("fast"); 

        });
    }); 
```

我的问题是，当我单击技能类别 1 时，只有一个子中继器内的项目被切换，我怎样才能使我单击的类别中的所有项目展开或折叠？

这是我的html代码：

```
 <asp:Repeater ID="repeaterSkillCategory" runat="server" EnableViewState="true">
        <ItemTemplate>
            <tr class="expandhideHeader">
            <td width="500px"> 
                <asp:Label Font-Bold="true" ID="skillTypeName" runat="server" Text= <%#DataBinder.Eval(Container.DataItem,"SkillTypeName") %>></asp:Label>
                </td>
                <td></td>
                </tr>
                <asp:Repeater ID="repeaterSkills" runat="server" EnableViewState="true"  >
                    <ItemTemplate >

                        <tr class="expandhideContents">
                        <td ><div class="gbl-FormField candidate-Skills" >
                            <asp:HiddenField ID="hfSkillID" runat="server" Value=<%# DataBinder.Eval(Container.DataItem, "SkillID") %> />
                            <asp:Label ID="lblSkill" runat="server" Text= <%# DataBinder.Eval(Container.DataItem, "SkillName") %> /></div>
                        </td>
                        <td>
                            <div class="gbl-TextBoxField"><asp:TextBox ID="txtMonthsExperience" runat="server" Width="50px"></asp:TextBox><span class="gbl-FormValidator">
                            <asp:RegularExpressionValidator ID="revMonthsExperience" runat="server" ErrorMessage="Value must be a whole number." ControlToValidate="txtMonthsExperience" Display="Dynamic" SetFocusOnError="True" ValidationExpression="^\d+$"></asp:RegularExpressionValidator></span></div>
                        </td>
                    </tr>
                    </div>
                    </ItemTemplate>
                </asp:Repeater> 

         </ItemTemplate>

    </asp:Repeater> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T07:29:40.723

## `.nextUntil()`根据您的情况使用：http: [//jsfiddle.net/r2S33/](http://jsfiddle.net/r2S33/)

我想你有这种 html 结构：

```
<div class='expandhideHeader'>Skill page category 1</div>
    <div class='expandhideContents'>Skill 1</div>
    <div class='expandhideContents'>Skill 2</div>
    <div class='expandhideContents'>Skill 3</div>
<div class='expandhideHeader'>Skill page category 1</div>
    <div class='expandhideContents'>Skill 1</div>
    <div class='expandhideContents'>Skill 2</div>
    <div class='expandhideContents'>Skill 3</div> 
```

所以jQuery应该是这样的：

```
$(".expandhideHeader").click(function () {
    $(this).nextUntil('.expandhideHeader').slideToggle("fast");
}); 
```

# sql - 有没有其他合乎逻辑或更稳健的方式

> ID：14930756
> 
> 赞同：4
> 
> 时间：2013-02-18T06:38:45.807
> 
> 标签：sql, oracle, hibernate, select

我有一个 sql 查询

```
select count(salary)
from USER_DETAILS 
where salary>0 and salary<1000 union all
select count(salary)
from USER_DETAILS 
where salary>1000 and salary<10000 union all
select count(salary)
from USER_DETAILS 
where salary>10000 and salary<100000 
```

是否有任何其他合乎逻辑或更稳健的方式来执行相同的查询（最好在 hql 中）。

提前致谢

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-18T06:44:30.990

试试这个，

```
SELECT  COUNT(CASE WHEN salary >= 0 and salary <= 1000 THEN salary END) "salary >= 0 and salary <= 1000",
        COUNT(CASE WHEN salary >= 1000 and salary <= 10000 THEN salary END) "salary >= 1000 and salary <= 10000",
        COUNT(CASE WHEN salary >= 10000 and salary <= 100000 THEN salary END) "salary >= 10000 and salary <= 100000"
from    user_details 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-18T06:49:33.080

尝试使用 CASE 语句

```
select  
     count(case when sal between 0 and 1000 then 1 end)
     count(case when sal between 1000 and 10000 then 1 end) ,
     count(case when sal between 10000 and 100000 then 1 end)
from user_details; 
```

**注意**：您还有`else`可以放在末尾的关键字（如果需要）

例如参考
1.[这里](http://www.oracle-developer.net/display.php?id=206)
2.[这个符合你的要求](http://www.databasejournal.com/features/oracle/article.php/3344871/Oracles-CASE-Expression.htm)

# java - 只要 activemq 连接没有关闭，我的简单 prgram 就不会完成并退出

> ID：14930758
> 
> 赞同：2
> 
> 时间：2013-02-18T06:38:54.327
> 
> 标签：java, jms, activemq, message-queue

我编写了一个简单的程序，`ActiveMQ`如下所示：

```
 public static void main(String[] args) throws Throwable
    {
        final ActiveMQConnectionFactory conFactory = new ActiveMQConnectionFactory("tcp://localhost:61616");
        final QueueConnection connection = conFactory.createQueueConnection();
        final Session session = connection.createQueueSession(false, Session.AUTO_ACKNOWLEDGE);
        final Destination destination = new ActiveMQQueue("MJ_SAF");
        final MessageProducer producer = session.createProducer(destination);

        Message message = session.createTextMessage("test");
        message.setLongProperty(ScheduledMessage.AMQ_SCHEDULED_DELAY, 20);
        message.setLongProperty(ScheduledMessage.AMQ_SCHEDULED_PERIOD, 1);
        message.setIntProperty(ScheduledMessage.AMQ_SCHEDULED_REPEAT, 1);
        producer.send(message);
} 
```

当我执行此程序时，消息`ActiveMQ`会正确发送给代理，但我的程序不会退出并继续运行。当我将`connection.close();`语句添加到上述程序的末尾时，我的程序完成并正确退出。

我的问题是：这种行为的原因是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-18T07:07:52.853

只要有任何连接打开，（AMQ-）分配的处理从/向这些连接读取和写入消息的线程就会保持 VM 运行（这些不是守护线程）。

调试程序时可以看到线程。

# c++ - 无法在 Windows 8 上的 Cygwin 上编译基本的 C++ 程序

> ID：14930765
> 
> 赞同：1
> 
> 时间：2013-02-18T06:39:21.363
> 
> 标签：c++, windows, g++, cygwin

我是 Cygwin、Windows 和 C++ 的新手，所以请多多包涵。

这是我尝试使用 Cygwin 编译的 C++ 程序 (try.cpp)。

```
#include<iostream>
using namepsace std;

int main(void) {
        cout<<"Trying out CPP"<<endl;
        return 0;
} 
```

这是我正在使用的 Cygwin 版本（`uname -r`在 cygwin 终端上使用）：`1.7.17(0.262/5/3)`

这是我用来编译程序的命令： `g++ try.cpp`

这是我得到的错误：

```
$ g++ try.cpp
try.cpp:2: error: expected nested-name-specifier before "namepsace"
try.cpp:2: error: `namepsace' has not been declared
try.cpp:2: error: expected `;' before "std"
try.cpp:2: error: expected constructor, destructor, or type conversion before ';' token
try.cpp: In function `int main()':
try.cpp:5: error: `cout' undeclared (first use this function)
try.cpp:5: error: (Each undeclared identifier is reported only once for each function it appears in.)
try.cpp:5: error: `endl' undeclared (first use this function) 
```

FWIW，这就是我做的时候得到的`g++ -v`（我猜是我电脑上安装的 g++ 版本）”

```
Reading specs from /usr/lib/gcc/i686-pc-cygwin/3.4.4/specs
Configured with: /managed/gcc-build/final-v3-bootstrap/gcc-3.4.4-999/configure --verbose --program-suffix=-3 --prefix=/usr --exec-prefix=/usr --sysconfdir=/etc --libdir=/usr/lib --libexecdir=/usr/lib --mandir=/usr/share/man --infodir=/usr/share/info --enable-languages=c,ada,c++,d,f77,pascal,java,objc --enable-nls --without-included-gettext --enable-version-specific-runtime-libs --without-x --enable-libgcj --disable-java-awt --with-system-zlib --enable-interpreter --disable-libgcj-debug --enable-threads=posix --enable-java-gc=boehm --disable-win32-registry --enable-sjlj-exceptions --enable-hash-synchronization --enable-libstdcxx-debug
Thread model: posix
gcc version 3.4.4 (cygming special, gdc 0.12, using dmd 0.125) 
```

**我究竟做错了什么？**

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-18T06:42:49.760

您拼写错误/输入错误`namespace`为`namepsace`.

# drupal-7 - Drupal：显示最近的搜索结果

> ID：14930767
> 
> 赞同：0
> 
> 时间：2013-02-18T06:39:27.510
> 
> 标签：drupal-7

我想知道 Drupal 7 中是否有任何功能或模块可以获取其他用户的最后搜索结果。

例如，如果我进入搜索页面，那么在左栏中我会找到其他用户在之前的搜索中得到的结果。

TIA

杜什安特·乔希

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T06:45:31.603

Zeitgeist 模块应该为您做到这一点。

[http://drupal.org/project/zeitgeist](http://drupal.org/project/zeitgeist)

几乎所有东西都有一个模块。

# php - file_put_content() 方法不起作用

> ID：14930770
> 
> 赞同：-2
> 
> 时间：2013-02-18T06:39:39.017
> 
> 标签：php, mysql

```
<?php
function put()
    {
$result = mysql_query("SELECT * FROM members WHERE Website_Name = '$GLOBALS[str]'") or die(mysql_error());
?>
<div id='container' style='width:100%'>
<style>
h1 {font-size:45px;}
</style>
<div id='header' style='background-color:#FFFFFF;'>
<h1 style='margin-bottom:0;margin-top:0;height:20%;float:center;'>
<?php
while($row = mysql_fetch_array($result))
{?>
<table align='left'><tr><td><img src="$row[Website_Name]/index.jpg" align='center' width='240' height='170'></td></tr></table>
<table align='center'><br><tr><td><h1>"$row[Business_Name]"</td></tr></table>
<?php
}
 ?>

file_put_contents("'$GLOBALS[str]'/index.php",put()); 
```

我正在使用 file_put_contents() 方法..但它没有将数据写入文件。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T06:41:31.340

因为你的函数`put`没有***`return`***任何数据。它将文本写入输出，但它什么也不做`return`。因此没有任何内容写入文件。在此处了解函数返回值：[http ://www.php.net/manual/en/functions.returning-values.php](http://www.php.net/manual/en/functions.returning-values.php)

此外，我认为`"'$GLOBALS[str]'/index.php"`这不是一个有效的文件名。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T07:07:42.120

$data = "你的数据";

$file = uniqid().'.php'; //如果你不想创建文件，你可以使用你现有的文件。

$success = file_put_contents($file, $data);

# iphone - 如何在定位精度和电源效率之间找到平衡点？

> ID：14930772
> 
> 赞同：2
> 
> 时间：2013-02-18T06:39:51.457
> 
> 标签：iphone, cocoa-touch, core-location, cllocationmanager, background-process

我正在开发一个需要在前台和后台工作并发送位置数据的应用程序。我还没有编写代码，只是熟悉了 CoreLocation 如何确定要遵循的方法。从我到目前为止所做的阅读中，我收集到：

1.  使用 startMonitoringSignificantLocationChanges

    *   GPS从未激活
    *   当检测到无线电塔发生变化时，它只调用 didUpdateLocations（或 ios<6 的 didUpdateToLocation）
    *   desiredAccuracy 和 distanceFilter 属性都被忽略
2.  使用 startUpdatingLocation

    *   电池消耗更高
    *   每当手机中的某些硬件需要提供一些数据时，就会调用 didUpdateLocations。并且由于有多个硬件组件可用于定位（GPS、无线电、wifi），因此无法保证何时或多久调用一次 didUpdateLocations，或者新读数是否会比前一个读数更准确
    *   第一个数字通常不好，因为它们不依赖 GPS
    *   没有确定的方法可以知道我们是否拥有我们将获得的最佳位置：这只是在所有接收到的位置中挑选一个在给定时间窗口内具有最佳精度的位置的问题

然而，我没有看到太多关于任何中间路线的讨论或文档。如果我想提高功耗意识，但在用户大幅移动时获得相当准确的数据怎么办？似乎一种可能的折衷方法是：

*   打开 startMonitoringSignificantLocationChanges
*   在调用 didUpdateLocations 时切换到使用 startUpdatingLocation
*   稍等片刻，让 GPS 有机会获得一些好的读数并选择精度最高的读数
*   切换回使用 startMonitoringSignificantLocationChanges 等等...

据我所知，这种方法在前台和后台的工作方式相同，并将在 Apple 支持的两种标准方法之间提供一些折衷。

问题：
- 我的理解是否正确，我的“妥协”方法是否合理？
- 有没有人成功使用过这种方法？
- 这种方法有哪些注意事项？
- 有没有更好的折衷方法？

PS：我想我以后可以改进该方法以考虑估计的旅行速度，这样我就不会在人们旅行时经常使用 GPS。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T00:55:31.957

有多种方法可以解决这个问题，其范围从您希望这个电池意识代码获得的复杂程度。最简单的解决方案显然是始终使用 GPS，但是您可能会很快变得非常复杂，例如每 x 时间采样一次，找到最准确的，预测用户在下一个采样前的位置使用以前的样本等。

*   妥协的想法很好，但是您需要考虑您希望用户使用您的应用程序的程度、运行时间以及您需要数据的准确性。最后，在找出 GPS 和粗略数据的最佳组合是什么时，需要反复试验。您应该知道，重大变化不会经常发生，但显然这是相对的。如果您的应用程序依赖于以 60 英里/小时的速度驾驶汽车的用户，那么它可能不会花很长时间，但如果它有人四处走动，那么触发重大变化（如果有的话）可能需要更长的时间。
*   我个人以前没有使用过这种方法，但是我使用 CoreLocation 完成的所有应用程序都需要在短时间内非常准确的位置数据。
*   这种方法的注意事项是，它需要大量的试验和错误，并且可能会降低您的应用程序的性能。在开始编写此代码之前，您应该确定完成这项工作的时间是否最终会得到回报。此外，如果您确实决定根据样本确定用户在哪里旅行，您将需要确定这是否真的可以节省电池——这样的计算在电池方面可能会非常昂贵。
*   老实说，CoreLocation 并没有那么耗电，Apple 一直在不断改进它的能源使用。例如，查看 iOS 版 Moves。作为它的用户，我可以说电池效应几乎没有，而且它总是 24/7 全天候使用我的位置。

如果我没记错的话，Instruments 允许您监控电池使用情况，因此如果您决定做出妥协以帮助您进行试验和错误，您可以使用它。

希望这有帮助！

# java - 将解析的值和属性存储到arraylist

> ID：14930780
> 
> 赞同：0
> 
> 时间：2013-02-18T06:40:13.877
> 
> 标签：java, sax, saxparser

以下程序正确解析 xml 文件并显示其 name 元素值和 rel 的链接属性值。我想将这两个值存储在 ArrayList <UserDetail>

用户详细信息类：

```
public class UserDetail {

private String name;
private String mailid;

public String getMailid() {
    return mailid;
}

public void setMailid(String mailid) {
    this.mailid = mailid;
}

public String getName() {
    return name;
}

public void setName(String name) {
    this.name = name;
}
} 
```

SAX 解析类：

```
import java.util.ArrayList;
 import javax.xml.parsers.SAXParser;
 import javax.xml.parsers.SAXParserFactory;
 import org.xml.sax.Attributes;
 import org.xml.sax.SAXException;
 import org.xml.sax.helpers.DefaultHandler;

public class ReadXMLFile {

public static void main(String argv[]) {

    try {

        SAXParserFactory factory = SAXParserFactory.newInstance();
        SAXParser saxParser = factory.newSAXParser();

        DefaultHandler handler = new DefaultHandler() {

            boolean name = false;
            boolean link = false;

            public void startElement(String uri, String localName, String qName,
                    Attributes attributes) throws SAXException {

                //System.out.println("Start Element :" + qName);

                if (qName.equalsIgnoreCase("fullName")) {
                    name = true;
                }
                if (qName.equalsIgnoreCase("link")) {
                    System.out.println("\t" + attributes.getValue("rel"));
                }
            }

            public void endElement(String uri, String localName,
                    String qName, Attributes attributes) throws SAXException {
                if (qName.equalsIgnoreCase("fullName")) {

                    name = false;
                }
                if (qName.equalsIgnoreCase("link")) {
                    link = false;
                }
            }

            public void characters(char ch[], int start, int length) throws SAXException {

                if (name) {
                    System.out.println("First Name : " + new String(ch, start, length));
                    name = false;
                }

            }
          };

        saxParser.parse("D://abc.xml", handler);

    } catch (Exception e) {
        e.printStackTrace();
    }
} 
```

}

XML 文档：

```
 <feed>
   <entry>
     <fullName>Manish Sahu</fullName>
     <link rel='abc'/>
     <link rel='self'/>
     <link rel='edit'/>
  </entry>
</feed> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T07:09:55.847

保留对正在构建的当前用户对象的引用。

对于元素“条目”，在 startElement 处实例化一个新的 UserDetails，并将其存储到 endElement 的列表中（如果需要，可以在此处添加验证）。然后将当前用户设置为null，以避免意外修改（例如条目之外的链接元素）。

对于元素“link”，将“ref”属性的值添加到用户详细信息（在 UserDetails 中应该有一个 addLink 方法或类似方法，而不是一个标量设置器）。

对于元素“fullName”，将字符数据连接到 StringBuilder 中（因为字符可能会被多次调用，具体取决于解析器的实现）并在 endElement 处设置“当前用户”的名称，然后清除 SB。

```
public static void main(String argv[]) {

//must be final since it is referenced from an anonymous class
final List<UserDetail> users = new ArrayList <UserDetail>(); 

try {

    SAXParserFactory factory = SAXParserFactory.newInstance();
    SAXParser saxParser = factory.newSAXParser();

    DefaultHandler handler = new DefaultHandler() {

        String element;
        StringBuilder sb=new StringBuilder();
        UserDetails user=null;

        public void startElement(String uri, String localName, String qName,
                Attributes attributes) throws SAXException {
             this.element=qName;

             //create a new user
             if (element.equals("entry")) user = new UserDetails();

             //save attribute <link rel="...">
             if (element.equals("link")&&user!=null) 
                 user.addLink(attributes.getValue("rel"));
        }

        public void endElement(String uri, String localName,
                String qName, Attributes attributes) throws SAXException {
           if (element.equals("fullName")) {
                  //store the name given in character data
                  user.setName(sb.toString());
                  sb.setLength(0);
           } else if (element.equals("entry")) {                                    
              users.add(user); //store the current user
              user=null;                   
           }               
        }

        public void characters(char ch[], int start, int length) throws SAXException            {
            if (element.equals("fullName")) sb.append(ch, start, length);
        }
      };

    saxParser.parse("D://abc.xml", handler);

    //do something with the users
    for (UserDetails user;users) System.out.println(user.getName()+" "+user.getMailid());

} catch (Exception e) {
    e.printStackTrace();
   //catching Exception is not a good practice!
} 
```

}

我还没有编译上面的代码，但它与我在解析 XML 时所做的类似。当您处理更复杂的内容模型时，保存 qName 而不是设置标志会有所帮助。（在某些情况下，我使用维护一个堆栈，将元素名称推送到 startElement 并将其弹出到 endElement）。

# c# - 在 C# 中，是否可以限制类对定义它的文件的可访问性？

> ID：14930782
> 
> 赞同：5
> 
> 时间：2013-02-18T06:40:24.033
> 
> 标签：c#

我不能在另一个类中将其声明为私有，因为我有几个使用它的类。我也不希望它是内部的，否则它将暴露给同一程序集中的其他类。我希望它只能被同一文件中的类访问。在 C# 中可能吗？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-02-18T06:43:33.407

C# 语言中很少有在“源文件”级别完成的。

您最接近的方法是创建一个顶级类并有几个嵌套类：

```
class Foo
{
    internal class A
    {
        private Shared shared = new Shared();
    }

    internal class B
    {
        private Shared shared = new Shared();
    }

    private class Shared
    {
    }
} 
```

老实说，这不是一个非常令人愉快的解决方案。如果一个类需要对许多其他类可见，我通常更喜欢将其设置为内部类，*或者*将这些类提取到另一个程序集*，或者*使用共享类对同一程序集中的其他类可见t真的需要知道它。

# c# - 从代码隐藏访问 div 标签

> ID：14930785
> 
> 赞同：7
> 
> 时间：2013-02-18T06:40:36.130
> 
> 标签：c#, asp.net

我在 asp.net 和 c# 中工作。我的应用程序中有一个`div`标签。`class="something"`我需要在代码隐藏中访问这个**东西**类。我该怎么做..

**代码**：

```
 <div class="something">
//somecode
 <div> 
```

**注意**：我想在代码隐藏中访问**Something**类。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-02-18T06:51:01.550

给出`ID`和属性`runat='server'`为：

```
<div class="something" ID="mydiv" runat="server">
//somecode
<div> 
```

代码隐藏：

您可以**`something`**在此处修改样式。

```
mydiv.Style.Add("display", "none"); 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-18T06:45:47.797

如果您想在 CS 代码中访问它，请将其设为服务器标记。

```
<div class="something" runat="server" id="something">
//somecode
 <div> 
```

asp.net 不提供按类搜索的方法。所以你将不得不依赖ID。

CS：

```
something.InnerHtml = "some code"; 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-18T06:49:19.183

您需要 runat='server' 属性和 ID。

```
<div class="something" runat="server" id="TestDiv">
//somecode
<div> 
```

然后在后面的代码中：

```
protected void Page_Load(object sender, EventArgs e)
{
    TestDiv.InnerHtml += "test"; // The div is accessible
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2017-07-12T15:29:00.397

另一种可能有助于解决其他人在所选答案的评论中遇到的一些问题的解决方案是使用带有 FindControl() 方法的 Control 类来访问所需的元素。

例如：

```
Control myDiv = (Control)FindControl("myDiv");

myDiv.Visible = false; 
```

我发现这非常有效，希望它可以帮助其他人。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-18T06:44:05.847

您所能做的就是遍历所有控件，然后检查它`CssClass`是否是`something`

即，如果该 div 在带有 ID 的 div 内，`Div1`那么您将使用：

```
foreach (Control c in Div1.Controls)
{
    if (c.CssClass == "something")
    {
        // do the moves here
    }
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-02-18T06:47:16.763

div 标签用于使您的页面时尚。您可以在 div 中使用 id 和 class 属性，此 id 和 class 名称将调用 css 和 js

* * *

## 回答 #7

> 赞同：-3
> 
> 时间：2016-03-03T05:24:21.720

protected void Datalist_ItemDataBound(object sender, DataListItemEventArgs e) { System.Web.UI.HtmlControls.HtmlGenericControl div22 = (System.Web.UI.HtmlControls.HtmlGenericControl)e.Item.FindControl("something"); }

# c++ - 未在此范围内声明的类成员

> ID：14930787
> 
> 赞同：-1
> 
> 时间：2013-02-18T06:40:42.747
> 
> 标签：c++, c

我想编写一个确定性有限自动机并需要两个类。状态和转换，但我想在类中包含两个转换类型的对象，但我标记的状态不能识别一个转换。

翻译：

```
 #ifndef TRANS_H
 #define TRANS_H
 using namespace std;
 #include <string>
 class Trans
 {
     private:
         int direccion;
         string simbolo;

     public:
         Trans();
         Trans(int dir, string sim);
         void setsm(string sm);
         void setdir(int dir);
         int getdir();
         string getsm();
         virtual ~Trans();
 };
 #endif // TRANS_H 
```

翻译：

```
 #include "Trans.h"

 #include <string.h>
 Trans::Trans(int dir,string sim)
 {
     direccion=dir;
     simbolo=sim;
 }

 Trans::~Trans()
 {
     //dtor
 }
 void Trans::setsm(string sm){
     simbolo=sm;
 }
 void Trans::setdir(int dir){
     direccion=dir;
 }
 int Trans::getdir(){
     return direccion;
 }
 string Trans::getsm(){
     return simbolo;
 } 
```

Estado.h：

```
 #ifndef ESTADO_H
 #define ESTADO_H
 using namespace std;
 #include <string>
 #include "Trans.h"

 class Estado
 {
     private:
         int ident;
         bool estInit;
          bool estEnd;
          Trans transicion1;
          Trans transicion2;

     public: 
         Estado();
         ~Estado();
         Estado(int ident,bool inits,bool ends);
         void setIdent(int id);
         void setInitS(bool inits);
    void setEndS(bool ends);
    void setTrans1(Trans transis);
    void setTrans2(Trans transis);
         int getIdent();
    bool getInitS();
    bool getEndS();
    Trans getTrans1();
    Trans getTrans2();                 
 };

 #endif // TRANS_H 
```

Estado.c

```
 #include "Estado.h"
     #include "Trans.h"

     using namespace std;

     Estado::Estado(int ident,bool inits,bool ends)
     {
         this->ident=ident;
         this->estInit=inits;
         this->estEnd=ends;
     }
     Estado::Estado()
     {
         estInit=false;
         estEnd=false;
     }
     Estado::~Estado(){

}
void Estado::setIdent(int id){
    ident=id;
}
void Estado::setInitS(bool inits){
    estInit=inits;
}
void Estado::setEndS(bool ends){
    estEnd=ends;
}
void setTrans1(Trans transis){
transicion1=new Trans();
}
void setTrans2(Trans transis){
    transicion2=transis;
}
int Estado::getIdent(){
    return ident;
}
bool Estado::getInitS(){
    return estInit;
}
bool Estado::getEndS(){
    return estEnd;
}
Trans getTrans1(){
    return transicion1;
}
Trans getTrans2(){
    return transicion2;
} 
```

错误：

```
 g++ -c     -c -o Estado.o Estado.c 
 Estado.c: In function ‘void setTrans1(Trans)’: 
 Estado.c:30: error: ‘transicion1’ was not declared in this scope 
 Estado.c: In function ‘void setTrans2(Trans)’: 
 Estado.c:33: error: ‘transicion2’ was not declared in this scope 
 Estado.c: In function ‘Trans getTrans1()’: 
 Estado.c:45: error: ‘transicion1’ was not declared in this scope 
 Estado.c: In function ‘Trans getTrans2()’: 
 Estado.c:48: error: ‘transicion2’ was not declared in this scope 
 make: *** [Estado.o] Error 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-18T06:42:12.503

```
void setTrans1(Trans transis) 
```

不一样

```
void Estado::setTrans1(Trans transis) 
```

第一个声明了一个自由函数（与成员相反），因此类成员不能在内部直接访问。

# ruby-on-rails-3 - kaminari：未定义的方法“分页”用于#

> ID：14930788
> 
> 赞同：0
> 
> 时间：2013-02-18T06:40:44.520
> 
> 标签：ruby-on-rails-3, kaminari

在我的控制器中，我有：

```
@bills = Bill.where(:param1 => x, :param2 => y).sort_by {|u| u.created_at}.reverse.paginate(:page => params[:page]) 
```

当我尝试渲染时，我得到了上述错误。摆脱 where、sort 和 reverse 子句可以解决问题，但我需要它们。我怎么能两者兼得？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T06:56:41.370

当您调用时`sort_by {|u| u.created_at}`，您从 db 获取数据到数组并在 ruby​​ 端对其进行排序。

如果要对 ruby​​ 数组数据进行分页，请尝试以下操作：

```
@bills = Kaminari.paginate_array(Bill.where(:param1 => x, :param2 => y)).page(params[:page]).per(PER_PAGE_RECORDS)` 
```

但更好的方法是在数据库查询中对您的数据进行排序

```
@bills = Bill.where(:param1 => x, :param2 => y).order("created_at DESC").paginate(:page => params[:page]) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T06:57:04.290

使用 AR 链。sort_by 产生一个数组。

```
@bills = Bill.where(:param1 => x, :param2 => y).order('created_at DESC').paginate(:page => params[:page]) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-20T10:22:04.797

我将 gem meta_search ( [usage](http://railscasts.com/episodes/251-metawhere-metasearch) ) 与 gem will_paginate ( [link](https://stackoverflow.com/questions/3095727/will-paginate-rails-3-per-page) ) 结合使用。我认为它可以在这里帮助你。

# java - 从java将json数据添加到solr

> ID：14930795
> 
> 赞同：1
> 
> 时间：2013-02-18T06:41:10.087
> 
> 标签：java, solr, solrj

我想`solr 4.0`使用 java 添加数据。我有以下数组`List<Map<String, Object>> docs = new ArrayList<>();`。我正在使用`GSON`方法将数组转换为 json 对象。我想将这些数据提交给 solr。我怎么做？我读过[solrj](https://wiki.apache.org/solr/Solrj)但不知道如何让它工作。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-18T06:57:05.633

使用 solrj 客户端，您可以创建 SolrInputDocument 对象并将它们发布到 SolrServer 实例，无论是 HttpSolrServer 还是 EmbeddedSolrServer。SolrInputDocument 是一个名称值对集合，相当于您尝试发布的 json。如[https://wiki.apache.org/solr/Solrj#Adding_Data_to_Solr所述](https://wiki.apache.org/solr/Solrj#Adding_Data_to_Solr)

如果您真的想将 JSON 发送到 Solr 服务器，您可以使用 HTTPClient 之类的东西将 JSON 发布到[http://solrHost.com:8983/solr/update/json](http://solrHost.com:8983/solr/update/json)。

```
DefaultHttpClient httpClient = new DefaultHttpClient();
HttpPost postRequest = new HttpPost("http://solrHost.com:8983/solr/update/json");
StringEntity input = new StringEntity("{\"firstName\":\"Bob\",\"lastName\":\"Williams\"}");
input.setContentType("application/json");
postRequest.setEntity(input);
HttpResponse response = httpClient.execute(postRequest); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2015-04-29T10:45:57.313

要通过 Java 对 solr 进行索引/添加，请尝试此操作。Solr 使用类似 REST 的 API 来操作索引数据。

```
public void postSolr() {
try{
   DefaultHttpClient httpClient = new DefaultHttpClient();
    HttpPost post = new HttpPost("http://localhost:8983/solr/update/json?wt=json&commit=true");
    StringEntity entity  = new StringEntity("{\"add\": { \"doc\": {\"id\": \"26\",\"keys\": \"java,php\"}}}", "UTF-8");
    entity.setContentType("application/json");
    post.setEntity(entity);                
    HttpResponse response = httpClient.execute(post);
    HttpEntity httpEntity = response.getEntity();
    InputStream in = httpEntity.getContent();

    String encoding = httpEntity.getContentEncoding() == null ? "UTF-8" : httpEntity.getContentEncoding().getName();
    encoding = encoding == null ? "UTF-8" : encoding;
    String responseText = IOUtils.toString(in, encoding);
    System.out.println("response Text is " + responseText);
} catch (UnsupportedEncodingException e) {
    e.printStackTrace();
} catch (IOException e) {
    e.printStackTrace();
} catch (Exception e) {
    e.printStackTrace();
}
} 
```

成功发布时的响应：

响应文本为 {"responseHeader":{"status":0,"QTime":1352}}

# javascript - 如何在backbone.js中实现双向HTML绑定？

> ID：14930796
> 
> 赞同：0
> 
> 时间：2013-02-18T06:41:14.050
> 
> 标签：javascript, backbone.js, javascript-framework

我花了很多时间研究 JS 框架，我觉得backbone.js 是我需要的最好的。唯一的问题是严重缺乏任何模板。它说它可以通过第三方加载项对其开放，但我无法开始使用。我希望模型中的数据能够订阅。

这是我的模型和收藏：

```
window.colorItem = Backbone.Model.extend({
});

window.colorLibrary = Backbone.Collection.extend({
    model: colorItem
});

var colors = new colorLibrary(
    [
        {"unique_id":"1000","user_id":"1","color":"#66bf1c","note":"Enter a note!"},
        {"unique_id":"1001","user_id":"1","color":"#332c5d","note":"Enter a note!"}
    ]
); 
```

我怎么能简单地将这个模型附加到带有主干.js 的 DOM 上？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T02:44:20.567

您应该创建一个主视图，以您想要的方式显示模型信息。您将需要传递要在视图中显示或实例化的集合。之后，您必须从集合中获取每个模型以在页面上显示它们。您可以使用 jquery 并将其附加到您需要的对象上，或者这是我建议的，您可以为每个模型创建一个新视图。这样您就可以使用事件单独控制每个模型。

# ruby-on-rails - 从早期版本升级到 3.x（S3 存储）后回形针不生成缩略图/样式/大小

> ID：14930799
> 
> 赞同：5
> 
> 时间：2013-02-18T06:41:32.760
> 
> 标签：ruby-on-rails, paperclip

我在创建图像时为 Paperclip gem 定义的各种 :styles 在升级后停止工作。这些文件根本没有创建，但“原始”是（唯一的）。

```
class Image < ActiveRecord::Base
  belongs_to  :member
  has_many    :article_images, :dependent => :destroy
  has_many    :articles, :through => :article_images

  has_many    :member_photos, :dependent => :destroy
  has_one     :member_avatar, :dependent => :destroy

  validates_presence_of :member_id

  after_validation do |resource| 
    #since paperclip doesn't give a damn error message like an idiot
    resource.errors[:image] = resource.errors[:image_file_name] ?  resource.errors[:image_file_name] : resource.errors[:image_content_type]
  end

  before_save do |resource| 
    #set name to filename if no name sent
    resource.name = resource.image_file_name.split('.')[0].titleize if resource.name.blank? 
  end

  scope :for_slideshow, limit(5) 

  has_attached_file :image, 
    :styles => { 
      :original    => "1100x1100", #overwrites orig, for file storage efficiency
      :x_large     => "900x900",
      :large       => "600x600",
      :medium      => "300x300>",
      :thumb_1     => "100x100#",
      :thumb_2     => "50x50#",
      :thumb_3     => "25x25#"
      #To refresh image thumbs: rake paperclip:refresh CLASS=Image
    },
    :storage => :s3,
    :path => ":attachment/:id/:style.:extension",
    :s3_credentials => "#{::Rails.root}/config/s3.yml"

    #:url => "/system/:attachment/:id/:style/:filename"

  validates_attachment_content_type :image, :content_type=>['image/jpeg', 'image/png', 'image/gif', 'image/pjpeg', 'image/x-png'] #last two for IE 6-8
  validates_attachment_presence :image
  #validates_attachment_size :image, :less_than=>1.megabyte

end 
```

日志不再显示任何尝试：

```
 SQL (0.3ms)  INSERT INTO `images` (`caption`, `created_at`, `desc`, `image_content_type`, `image_file_name`, `image_file_size`, `image_updated_at`, `member_id`, `name`, `updated_at`) VALUES ('', '2013-02-18 06:34:55', '', 'image/jpeg', '525119_10151396740758260_611505697_n.jpeg', 111946, '2013-02-18 06:34:55', 719, '525119 10151396740758260 611505697 N', '2013-02-18 06:34:55')
[paperclip] Saving attachments.
[paperclip] saving images/4201/original.jpeg
[AWS S3 200 1.367095 0 retries] put_object(:acl=>:public_read,:bucket_name=>"mybucket.development/paperclip",:content_length=>111946,:content_type=>"image/jpeg",:data=>Paperclip::UploadedFileAdapter: 525119_10151396740758260_611505697_n.jpeg,:key=>"images/4201/original.jpeg") 
```

我错过了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T18:18:40.643

无论出于何种原因，降级到 2.8 已经“修复”了这个问题。但我想使用最新版本...

# .htaccess - 限制从外部访问网站内的文件

> ID：14930800
> 
> 赞同：0
> 
> 时间：2013-02-18T06:41:34.050
> 
> 标签：.htaccess, mod-rewrite

我试图限制从外部访问我网站内的文件/URL。即，如果用户键入 URL [http://www.mysite.com/url1](http://www.mysite.com/url1)，我希望他被重定向到主页。但是，一旦用户进入 mysite（通过单击某些链接等），他应该能够访问 mysite/url1。我尝试将 .htaccess 与以下内容一起使用：

```
RewriteCond %{HTTP_REFERER} !^http://mysite.com$ [NC]

RewriteRule .*url1.*$ /? [R,NS,NC,L] 
```

当有人键入 mysite/url1 时，他们会被重定向到我想要的主页。但是，当我尝试从我的网站中访问 mysite/url1 时，它仍然被重定向到我的网站。（如果呼叫来自我的程序，我不希望发生这种重定向）。

有人可以帮忙吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T07:06:00.200

放：

```
RewriteRule ^(url1)($|/) - [L] 
```

在其他重写之前。

# mysql - 将 12 小时制时间格式转换为 24 小时制，如 mysql

> ID：14930801
> 
> 赞同：1
> 
> 时间：2013-02-18T06:41:35.530
> 
> 标签：mysql, cakephp, time

我希望将 CakePHP 中以数组格式返回的时间转换为 MySQL 中的 24 小时格式。以下是代码：

```
$this->request->data['Rideoffer']['DepartureTime'] 
```

它返回：

```
array(
'hour' => '05',
'min' => '21',
'meridian' => 'am' 
```

)

现在我希望将其转换为 MySQL 时间格式：`00:00:00`- 24 格式，以便我可以检索与此特定时间匹配的记录。我怎么做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T07:48:19.243

cakephp helpers [**dateFormat**](http://book.cakephp.org/1.2/en/The-Manual/Core-Helpers/Form.html#options-dateformat)会帮助你。

`dateformat option`将允许您配置日期部分。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T08:16:16.560

当您使用 FormHelper 并且`departure_time`字段上的数据类型是`DATETIME`or`TIME`时，Cake 将“自动”正确处理所有查找和保存操作。

因此，实际的数据数组是独立`hour`的，`min`并且`meridian`字段不会影响它在数据库中的存储方式，这将很好地转换为，`05:21:00`而无需在您的模型或控制器中使用任何额外的逻辑。如果要查找这次匹配的所有记录，只需使用完整的时间戳查找即可。使用类似的东西：

```
$this->Rideoffer->find('all', array(
    'conditions' => array(
        'Rideoffer.departure_time' => '05:21:00'
    )
)); 
```

**更新**

在回复您的评论时，如果您想立即使用插入的值，请将其转换为 DateTime 对象并根据您的条件对其进行格式化。例如：

```
$time =& $this->request->data['Rideoffer']['DepartureTime'];
$date = new DateTime($time['hour'] . ':' . $time['min'] . ' ' . $time['meridian']); 
```

然后在您的查找中格式化日期：

```
$this->Rideoffer->find('all', array(
    'conditions' => array(
        'Rideoffer.departure_time' => $date->format('H:i:s')
    )
)); 
```

# android - 电子邮件地址未显示

> ID：14930804
> 
> 赞同：-1
> 
> 时间：2013-02-18T06:41:44.053
> 
> 标签：android

这是我用来发送电子邮件的代码..但是当我运行它时，我添加的 TO 地址字符串没有显示在屏幕上..没有收到任何错误..

```
Intent emailIntent = new Intent(Intent.ACTION_SEND);
emailIntent.setType(HTTP.PLAIN_TEXT_TYPE);
emailIntent.putExtra(Intent.EXTRA_EMAIL, new String[] {"ashwin.innodea@gmail.com"}); // recipients
emailIntent.putExtra(Intent.EXTRA_SUBJECT, "Email subject");
emailIntent.putExtra(Intent.EXTRA_TEXT, "Email message text");
startActivity(emailIntent); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T06:45:36.753

像这样试试

```
Intent email = new Intent(Intent.ACTION_SEND);
email.putExtra(Intent.EXTRA_EMAIL, new String[]{"ashwin.innodea@gmail.com"});         
email.putExtra(Intent.EXTRA_SUBJECT, "Email subject");
emailIntent.putExtra(Intent.EXTRA_TEXT, "Email message text");
email.setType("message/rfc822");
startActivity(Intent.createChooser(email, "Choose an Email client :")); 
```

# vb6 - 将_This_statement 转换为vb6

> ID：14930805
> 
> 赞同：1
> 
> 时间：2013-02-18T06:41:51.273
> 
> 标签：vb6

我遇到了一个问题来隐藏用 vb2010 编写的语句。我想将此语句转换为vb6，请任何人帮助我。代码是

```
str=Textbox1.Text.Chars(TextBox1.Text.Length - 1) 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-18T07:01:44.650

字对字翻译将是

```
myStr = Mid(Textbox1.Text, Len(Textbox1.Text), 1) 
```

但是你可以使用

```
myStr = Right(Textbox1.Text, 1) 
```

编辑

是 Mid & Right 是变体类型 而 Mid$ 和 Right$ 是字符串

```
myStr = Mid$(Textbox1.Text, Len(Textbox1.Text), 1)

'OR

myStr = Right$(Textbox1.Text, 1) 
```

# c# - 打开文件对话框并打开不同的文件

> ID：14930808
> 
> 赞同：0
> 
> 时间：2013-02-18T06:42:18.713
> 
> 标签：c#, winforms

我正在打开一个文件。要求是，如果用户在过滤器中选择文本，用户可以选择多个文件。但如果用户选择任何图像文件，则允许用户选择单个文件。

一种方法是捕获 dialog.FileOk 委托和初始检查。

我们还有其他方法可以实现相同的目标吗？

谢谢，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T07:25:26.600

[OpenFileDialog](http://msdn.microsoft.com/en-us/library/y1kh29w3.aspx)不为 FileSelected 或 FilterChanged 提供事件。因此，使用默认[OpenFileDialog](http://msdn.microsoft.com/en-us/library/y1kh29w3.aspx)您只能订阅 FileOk 事件并在用户做出选择后取消或接受它。如果您想即时更改设置（例如，当用户在过滤器中选择图像时禁用多个文件选择），那么您应该扩展[OpenFileDialog](http://msdn.microsoft.com/en-us/library/y1kh29w3.aspx)。不幸的是，默认值是密封的，因此您不能只继承它。所以，看看这些文章：

*   [在 .NET 中自定义 OpenFileDialog](http://www.codeproject.com/Articles/16276/Customizing-OpenFileDialog-in-NET)
*   [以简单的方式扩展 OpenFileDialog 和 SaveFileDialog](http://www.codeproject.com/Articles/19566/Extend-OpenFileDialog-and-SaveFileDialog-the-easy)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T15:42:20.613

使用以下代码：

```
private void button1_Click(object sender, System.EventArgs e)
{
    openFileDialog1.Filter = "Text Files (.txt)|*.txt|All Files (*.*)|*.*";
    openFileDialog1.FilterIndex = 1;

   if(openFileDialog1.ShowDialog() == DialogResult.OK)
   {
      System.IO.StreamReader sr = new 
         System.IO.StreamReader(openFileDialog1.FileName);
      MessageBox.Show(sr.ReadToEnd());
      sr.Close();
   } 
```

# html - HTML5 拖放 (DnD)：更改光标

> ID：14930811
> 
> 赞同：24
> 
> 时间：2013-02-18T06:42:42.900
> 
> 标签：html, drag-and-drop, mouse-cursor

在 HTML5 中将元素拖动到浏览器客户端区域时，如何将光标更改为我想要的任何光标？

到目前为止，我只能在拖动时显示默认光标（除了不支持拖放的地方没有光标）。

我不是在谈论以下任何内容：

*   用于`event.dataTransfer.setDragImage()`在光标旁边显示图像

*   用于`event.dataTransfer.dropEffect`在光标旁边显示副本或链接符号，或将光标更改为无符号

*   在 Firefox 中，使用`event.dataTransfer.mozCursor`, 因为它只能执行默认的系统行为，或者显示箭头光标，这两者都没有帮助（此外，我想要跨浏览器支持，虽然我主要针对 Chrome）

我尝试了许多其他技巧，包括使用 CSS`:hover`和`:focus`以及许多 JavaScript 技巧，但都无济于事。

谢谢你的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2021-05-06T15:28:25.200

这是一个仅限 CSS 的解决方案！

```
element:hover:active {
cursor: type;
} 
```

只需将元素选择器放在元素所在的位置并指定一个光标。这有点 hack，因为它不检测拖动，只同时悬停和单击。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2021-06-14T01:53:19.550

你可以用css改变它

```
#buttonId:hover {
    cursor: value;
} 
```

你可以在这里找到多个光标值：[https ://www.w3schools.com/cssref/pr_class_cursor.asp](https://www.w3schools.com/cssref/pr_class_cursor.asp)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-11-26T10:16:02.633

为此，您可以使用 CSS，如下所示：

```
#buttonID:hover:active {
cursor: *cursor-type*;
} 
```

您可以使用几种游标类型，它们是：

*帮助*；- 将显示默认光标，旁边有一个小问号

*等待*；- 将显示您的操作系统的默认加载光标动画

*十字准线*；- 会给你一个十字光标

*不允许*；- 将为您的光标显示一个图标

*放大*；- 将显示一个带有加号的放大镜

*抢*; - 将展示一只手，我认为这个最适合您的需求。

这些都是**cursor:**我知道的属性。你可能会发现一些有用的东西。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2020-12-04T15:10:51.117

嗨，通过使元素可拖动来试试这个需要添加给定的代码

```
<script>
function dragstart_handler(ev) {
// Add the target element's id to the data transfer object
ev.dataTransfer.setData("text/plain", ev.target.id);
}

window.addEventListener('DOMContentLoaded', () => {
// Get the element by id
const element = document.getElementById("p1");
// Add the ondragstart event listener
element.addEventListener("dragstart", dragstart_handler);
});
</script>

<p id="p1" draggable="true">This element is draggable.</p> 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2017-03-22T15:59:16.127

所以你想在拖动元素时更改光标？

```
$('YourElement').draggable({
     cursor: "crosshair"
}); 
```

有关更多信息，请参见[http://api.jqueryui.com/draggable/#option-cursor](http://api.jqueryui.com/draggable/#option-cursor)

# android - 如何在android中加载自定义列表视图时启用进度条

> ID：14930814
> 
> 赞同：1
> 
> 时间：2013-02-18T06:42:53.383
> 
> 标签：android

我需要在 listview(android) 中维护 3000 个列表项。但继续滚动会出错。为了管理这个，我计划在加载列表视图时显示进度对话框。

请建议我如何在android中做到这一点。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T06:46:01.360

您可以使用惰性列表来解决您的问题，这里是[链接](https://github.com/thest1/LazyList)检查。你可以找到你的解决方案。您可以使用异步任务，但将一次加载全部 3000 个项目。如果您使用 LazyList，那么您将首先加载几个项目，当您向下滚动时，更多项目将添加到您的列表中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T07:23:14.960

*ListView 本身就是一个出色的组件，可用于呈现 n 条记录。* *同一个视图有一次又一次的回收，避免内存泄漏和高效管理。*

**您必须使用：必须有效管理图像和视图持有者的惰性列表，以管理视图的可重用性。**

**回收理念：**

每次 ListView 需要在屏幕上显示新行时，它都会从其适配器调用 getView() 方法。如您所知，getView() 接受三个参数参数：行位置、convertView 和父 ViewGroup。

convertView 参数本质上是一个“ScrapView”。当 ListView 要求您回收行布局时，它将具有非空值。因此，当 convertView 不为空时，您应该简单地更新其内容而不是膨胀新的行布局。适配器中的 getView() 代码看起来有点像：

```
public View getView(int position, View convertView, ViewGroup parent) {
    if (convertView == null) {
        convertView = mInflater.inflate(R.layout.your_layout, null);
    }

    TextView text = (TextView) convertView.findViewById(R.id.text);
    text.setText("Position " + position);

    return convertView;
} 
```

View Holder 模式 在膨胀的布局中查找内部视图是 Android 中最常见的操作之一。这通常通过一个名为 findViewById() 的 View 方法来完成。此方法将递归地遍历视图树以查找具有给定 IDcode 的子项。在静态 UI 布局上使用 findViewById() 完全没问题，但正如您所见，ListView 在滚动时非常频繁地调用适配器的 getView()。findViewById() 可能会明显影响 ListViews 中的滚动性能——尤其是在您的行布局非常重要的情况下。

View Holder 模式是关于减少适配器的 getView() 中调用 findViewById() 的次数。实际上，View Holder 是一个轻量级的内部类，它保存对一行中所有内部视图的直接引用。充气后将其作为标签存储在行视图中。这样，您只需在首次创建布局时使用 findViewById()。这是之前应用了 View Holder 模式的代码示例：

```
public View getView(int position, View convertView, ViewGroup parent) {
    ViewHolder holder;

    if (convertView == null) {
        convertView = mInflater.inflate(R.layout.your_layout, null);

        holder = new ViewHolder();
        holder.textView01 = (TextView) convertView.findViewById(R.id.text);

        convertView.setTag(holder);
    } else {
        holder = convertView.getTag();
    }

    holder.textView01.setText("Position " + position);

    return convertView;
}

private static class ViewHolder {
    public TextView textView01;
} 
```

# jquery - 设置值 onClientClick() 并获取 onClick()

> ID：14930816
> 
> 赞同：0
> 
> 时间：2013-02-18T06:43:15.533
> 
> 标签：jquery, asp.net

我有一个 asp:button 和一个 asp:hiddenfield 像这样..

```
<asp:Button ID="btn_CreateContent" runat="server" Text="Upload" Height="25px" 
OnClientClick="UploadNewContent(event)" OnClick="btn_CreateContent_Click" />
<asp:HiddenField runat="server" ID="hdn_ContentID"></asp:HiddenField> 
```

我正在使用 jQuery 设置“hdn_ContentID”onClientClick() 的值。

```
$('#ctl00_GspaceOnlinePlaceHolder_hdn_ContentID').val(SomeID); 
```

然后我试图在服务器端获取该值 onClick()

```
protected void btn_CreateContent_Click(object sender, EventArgs e)
{
    string FileName = hdn_ContentID.Value;
} 
```

但我没有得到那个值.. 即得到 FileName = "";

请帮忙..

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-18T06:49:28.627

尝试使用以下代码设置隐藏字段值

尝试这个

```
$('#<%=hdn_ContentID.ClientID %>').val(SomeID); 
```

和

通过提示隐藏字段值的警报，确保您在隐藏字段中设置值

```
alert($('#<%=hdn_ContentID.ClientID %>').val()); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T06:56:47.487

最好尝试创建一个像这样的 html 隐藏字段

```
<input type="hidden"name="hdGM" id="hdGM" /> 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-02-18T06:51:20.213

您可以享受`ClientIDMode="Static"`以下优惠

```
<asp:HiddenField runat="server" ClientIDMode="Static" ID="hdn_ContentID">
</asp:HiddenField> 
```

它不会更改隐藏字段的客户端 ID。
然后在你的函数里面

```
 $('#hdn_ContentID').val(SomeID); 
```

还有在函数中使用`OnClientClick="UploadNewContent(event)"` 传递**事件的任何具体原因吗？**

# javascript - 托管更改后 Google Map Api V3 不显示

> ID：14930817
> 
> 赞同：2
> 
> 时间：2013-02-18T06:43:15.850
> 
> 标签：javascript, google-maps-api-3, hosting

我是 JavaScript 和 Google Maps API 的新手。我为我的客户网站制作了一些地图——我的上一张地图是一种带有海关标记的商店定位器——我使用 Google API 的第 3 版，传感器设置为 false，并且我不使用 API KEY。

我无法弄清楚为什么在更改托管后地图根本不显示。脚本似乎加载但只显示一个空白框，在第一个托管工作就像一个魅力，但第二个不起作用，第一个是 Linux Apache，第二个是 Windows IIS，我不认为问题是由于使用 Windows，因为它是一个带有静态 HTML 和 CSS 以及动态谷歌地图的页面。

这是第一次托管的网站 [http://ofimatic.com.ni/blandonmoreno/](http://ofimatic.com.ni/blandonmoreno/)

这是没有地图的网站[http://www.blandonmoreno.com/home.html](http://www.blandonmoreno.com/home.html)

为什么相同的代码在其他主机上不起作用？新主机有多个站点相同的 IP，并且都使用谷歌地图。这可能是问题吗？我看不到标签说我通过了 Google Maps API 的使用限制。我需要使用 API 密钥吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-18T07:14:07.427

应该很简单。

*   转到[谷歌 api 控制台](https://code.google.com/apis/console/)
*   导航到**API 访问**选项卡
*   为您的项目找到此“ **Web 应用程序的客户端 ID ”部分**
*   点击“**编辑客户端设置**”
*   您将看到一个包含当前项目设置的弹出窗口 ![编辑客户端设置窗口](../Images/b7b7e91c897ab5d276c2a93c72291adb.png)
*   **将JavaScript Origins**更改为新的一次（[http://ofimatic.com.ni/](http://ofimatic.com.ni/) ... 更改为[http://www.blandonmoreno.com/](http://www.blandonmoreno.com/) ... ）；
*   现在点击**更新**按钮

    我认为这应该对您有所帮助！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-31T04:53:09.603

嗨@lenon 很抱歉回复太晚了，但我认为这对其他人有用；问题出在谷歌地图的启动器功能上，我正在使用窗口加载功能在正文标签中启动脚本，因此多站点托管修改正文标签并且地图没有启动，我将启动器功能插入到末尾头部分中的地图脚本并再次工作。再次感谢你的帮助。

# c# - 主/细节编辑 - 将值传递给细节模型属性

> ID：14930820
> 
> 赞同：0
> 
> 时间：2013-02-18T06:43:37.727
> 
> 标签：c#, asp.net-mvc, asp.net-mvc-3, asp.net-mvc-4

我有两张桌子`Deal`和`DealDetail`. 我创建了两个控制器方法。

```
 //
    // GET: /DealDetail/Create/5

    public ActionResult Create(int id)
    {
        var deal = _db.Deals.Find(id);
        ViewBag.Deal = deal;
        return View();
    }

    //
    // POST: /DealDetail/Create/5

    [HttpPost]
    public ActionResult Create(int id, DealDetail dealdetail)
    {
        dealdetail.DealId = id;
        if (ModelState.IsValid)
        {
            _db.DealDetails.Add(dealdetail);
            _db.SaveChanges();
            return RedirectToAction("Index");
        }

        return View(dealdetail);
    } 
```

但是，如何确保使用 url`/DealDetail/Create/5`而不是发布以下 html 代码`/DealDetail/Create`？

```
@Html.Partial("_Deal", (Models.Deal)ViewBag.Deal)
@using (Html.BeginForm()) {
        ......
        <input type="submit" value="Create" />
    </fieldset>
} 
```

或者有没有办法在cshtml文件中设置（id）`DealDetail.DealID`的值？`ViewBag.Deal.DealId`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-18T06:54:09.807

我认为这应该可以满足您的需求：

```
Html.BeginForm("Create","DealDetail", new { id = Model.DealID }, FormMethod.Post); 
```

无论您是从 Model 还是 ViewBag 分配 id，重要的一点是分配 id，其余的应该由路由引擎和现有的 Controller 逻辑来完成。

# android - 如何实现android本地化 +

> ID：14930821
> 
> 赞同：0
> 
> 时间：2013-02-18T06:43:45.110
> 
> 标签：android, android-intent

在我的应用程序中，我想实现 android 本地化功能。我有一个数据库，里面充满了两种不同语言的字符串。如何在数据库上实现 android 本地化。请提供您的建议，并可能请提供好的示例或教程。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T06:51:45.653

首先，您可以使用获取当前语言环境

```
Locale locale = Locale.getDefault(); // current locale
Locale locale = getResources().getConfiguration().locale;  or you can ...
Log.d(logtag, "lang = " + locale.getLanguage()); 
```

并根据语言环境从数据库中获取您的字符串。

**[您可以在以下链接](http://www.icanlocalize.com/site/tutorials/android-application-localization-tutorial/)**上阅读有关**多语言 Android 应用程序的更多信息**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T06:58:52.543

在这里，我使用“BhashaSETTSinhalaTamil.ttf”字体为文本添加了泰米尔语本地化与此相同，您可以使用其他字体文件添加本地化。

```
Typeface font = Typeface.createFromAsset(getAssets(), "BhashaSETTSinhalaTamil.ttf");
        paragraphe1.setTypeface(font);
paragraphe1.setText("இது மத்திய மலை நாட்டின்"); 
```

# r - 在应用中使用来自不同矩阵的值

> ID：14930822
> 
> 赞同：1
> 
> 时间：2013-02-18T06:43:47.780
> 
> 标签：r

这个问题是对上一个问题的跟进：[min value(greater than 0) from column combined with row operation](https://stackoverflow.com/questions/14929693/min-valuegreater-than-0-from-column-combined-with-row-operation/)

本质上，我需要使用来自不同矩阵（相同行/列）的值作为参数传入 apply 的匿名函数。

我的代码是

```
apply(dv, 2, function(y) { y[y>0] <- (y[y>0] - 
                                       blacksch(min(
                                         ifelse(any(y>0), y[y>0], 0)),k,sigma,r,
                                                (min(ifelse(any(y>0), (which(y>0)/steps) *t ,0))))
                                     ); 
                          y }) 
```

`min( ifelse(any(y>0), y[y>0], 0))`需要来自不同的矩阵，`st`但与 dv 中的值位于完全相同的位置（行/列）。

例如，我可以有以下两个矩阵 dv 和 st：

```
> dv
     [,1] [,2] [,3]
[1,]    0    0    0
[2,]    0    0    3
[3,]    0    3    5
> st
     [,1]   [,2]   [,3]
[1,]  100 100.00 100.00
[2,]  100 100.00 102.95
[3,]  100 102.34 104.88 
```

我需要将第 2 列的值 102.34 传递给函数的第一个参数`blacksch`（因为这对应于与矩阵第 2 列中大于 0 的最小值相同的位置`dv`

所以我知道这不正确，但类似于：

```
apply(dv, 2, function(y) { y[y>0] <- (y[y>0] - 
                                           blacksch(st[minimum position of value greater than 0 in dv for each column],k,sigma,r,
                                                    (min(ifelse(any(y>0), (which(y>0)/steps) *t ,0))))
                                         ); 
                              y }) 
```

我想我还应该提一下，我不仅需要 的最小值`st`，还需要“当前”值（如果我要在循环中写这个，我会做类似于嵌套 for 循环的事情）

我的解决方案并不是真正的 R 方式（因此性能不佳）：

```
for(j in 1:paths)
{
  minrow=0
  for(i in 1:steps)
  {
    if (dv[i,j]>0 && minrow==0)
    {
      minrow=i
      bsminrow=blacksch(st[i,j],k,sigma,r, i/steps * t)
    }
    else if (minrow!=0)
    {
      dv[i,j]=blacksch(st[i,j],k,sigma,r,i/steps* t ) - bsminrow
    }
  }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T07:30:25.570

您可以通过更改您`apply`来`sapply`遍历列，例如：

```
sapply(1:ncol(dv), function(y) {       
               h <- st[,y]                ## y is column number     
               y <- dv[,y]                ## y is column now
               st.par <- ifelse(any(y)> 0,
                 h[head(which(y[order(y)] >0),1)], ## I order here to and I choose the first one
                                                   ## > 0
               h[1])
               st.par
               ###.....   here you call your custom function
               ###blacksch(st.par,...)
})

1] 100.00 102.34 102.95 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-18T09:32:47.077

一种加快速度的方法（特别是如果你有很多行）是使用`sort`match`partial`选项而不是`order`因为它获得所有索引> 0 （来自@agstudy的回答）。

```
lapply(seq_len(ncol(dv)), function(x) {
    idx <- ifelse (any(dv[,x] != dv[1,x]), 
            which(dv[,x] == sort(unique(dv[,x]), partial=2)[2]),
            seq_along(dv[,x]))
    st[idx, x]
})

# [[1]]
# [1] 100
# 
# [[2]]
# [1] 102.34
# 
# [[3]]
# [1] 102.95 
```

基本上，对于每一列，获取`dv's`第二个“最小”索引并从中获取相应的值`st`。如果`0`始终是您的最小值，那么它将为您提供与 agstudy 一样的确切结果。我想这就是你的情况。因为，如果最大值为0，你取哪一个？（当然这些是特殊情况，我会留给你）。此解决方案的工作方式与 agstudy 的相同，但如果您有更多行（因为它执行 a `partial sort`）会更快。

由于我不确定您想如何处理关系（如果有 > 1 倍的相同值 > 0），我将输出作为列表给出。如果您确定没有关系，您可以更改`lapply`为`sapply`. 例如，如果存在平局，则可以仅从`lapply`输出中选择第一个元素。我也会把这些特殊情况留给你。

# mule - 无法在 Mule 独立运行时部署 Mule 应用程序

> ID：14930826
> 
> 赞同：0
> 
> 时间：2013-02-18T06:44:06.497
> 
> 标签：mule

我收到以下错误，在 Mule 服务器中部署我的 mule 应用程序时，DataMapper 上似乎发生了错误，但同一个应用程序在 mule studio 中运行良好。我只有在应用程序中使用数据映射器时才会收到此错误，有什么可能错误的原因plz aait

> org.mule.module.launcher.DeploymentInitException：SAXParseException：cvc-complex -type.2.4.a：发现以元素“data-mapper:config”开头的无效内容。一个'`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T05:35:55.280

@genjosanzo，感谢您的提示，我使用的是社区版，现在骡子应用程序在企业版中运行良好 - 问题已关闭

# java - java中使用堆栈和回溯的n皇后谜题

> ID：14930827
> 
> 赞同：3
> 
> 时间：2013-02-18T06:44:10.293
> 
> 标签：java, stack, backtracking, n-queens

这是我在 java 中解决 n-queens 问题的代码。但是，当它应该是 92 时，输出是 0（在这种情况下是 8 个皇后的解数）。我们应该只使用堆栈和回溯（没有递归！！）。我真的被困住了！任何帮助将不胜感激！

```
import java.util.Stack;

public class NQueens {

  //***** fill in your code here *****
  //feel free to add additional methods as necessary

    public static Stack<Integer> s = new Stack<Integer>();
    public static int n ; 
    public static int total; 
    public static int i; 
    public static int Q; 

  //finds and prints out all solutions to the n-queens problem
  public static int solve(int n) {

     // i goes through each row to place a queen
      // x goes through the columns within each row 

      for(int i = 0; i <n; i++) {

          for(int x = 0; x<n; x++){

            if(conflict(x) == false){ // loop through each column and checks whether it conflicts with current position of queen

                s.push(x); // no conflict, push x 

                Q = s.get(x); // set current position of queen
                break; //break out of loop to move on to next row, i++ 

                }

            else if (conflict(x)==true){
                if(s.isEmpty() == true){
                    break; 
                }

                if(x==n-1){ // if its looped through all columns, and there's no valid position
                    s.pop(); //pop last entry 
                    i= -1; // and backtrack to previous row, to find another valid position for q in previous row 
                } 

            }

            if (s.size()==n){ // if stack size is n, then stack is full and a solution has been found
                total++; 
                System.out.print(s);// print solution 
                s.pop();
                i= - 1; //backtrack to find next solution
      }
            }

  } 
      return total; 
  }

public static boolean conflict(int k) {

if (Q==k|| (k-Q)== (i-(i-1))|| (Q-k)== (i-(i-1)) || k == s.pop()) { 

            return false; //there is a conflict!! k 

}
return true; //is conflict
}

  //this method prints out a solution from the current stack
  //(you should not need to modify this method)
  private static void printSolution(Stack<Integer> s) {
    for (int i = 0; i < s.size(); i ++) {
      for (int j = 0; j < s.size(); j ++) {
        if (j == s.get(i))
          System.out.print("Q ");
        else
          System.out.print("* ");
      }//for
      System.out.println();
    }//for
    System.out.println();  
  }//printSolution()

  // ----- the main method -----
  // (you shouldn't need to change this method)
  public static void main(String[] args) {

  int n = 8;

  // pass in parameter n from command line
  if (args.length == 1) {
    n = Integer.parseInt(args[0].trim());
    if (n < 1) {
      System.out.println("Incorrect parameter");
      System.exit(-1);
    }//if   
  }//if

  int number = solve(n);
  System.out.println("There are " + number + " solutions to the " + n + "-queens problem.");
 }//main()

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T07:25:34.800

对于初学者，`conflict()`需要检查每个元素`s`以确定是否存在冲突。

剩下的代码我没有分析，但我也觉得`conflict()`可以悄悄修改`s`.

# gcc - gcc 可以编译 x86 程序集还是只链接它？

> ID：14930830
> 
> 赞同：26
> 
> 时间：2013-02-18T06:44:15.087
> 
> 标签：gcc, assembly, compiler-construction, x86

gcc 可以生成程序集，但是如何使用 gcc 或其他编译器编译纯程序集？我知道 x86 汇编很困难，并且是另一个指令集，而不是我正在查看的 MIPS 和 Nios，但现在我想尝试直接编译 x86 asm。有如何做到这一点的说明，但其中包含一个 C 文件，我的第一个最基本的编译不需要 C 文件。

```
gcc -o test_asm asm_functions.S test_asm.c 
```

有创建`.o`文件的步骤

```
gcc -c asm_functions.S
gcc -c test_asm.c
gcc -o test_asm asm_functions.o test_asm.o 
```

但是我没有看到可以直接用 gcc 编译 x86 asm 的步骤。还有一个名为GNU as (GNU Assembler)的程序，它可以用来将x86汇编翻译成机器码吗？

## 测试

代码 (32.s)

```
.globl  _start

.text
_start:
        movl    $len, %edx
        movl    $msg, %ecx
        movl    $1, %ebx
        movl    $4, %eax
        int     $0x80

        movl    $0, %ebx
        movl    $1, %eax
        int     $0x80
.data
msg:
        .ascii  "Hello, world!\n"
        len =   . - msg 
```

脚步

```
$ gcc -c 32.s 
$ ls 32*
32.o  32.s
$ gcc -o 32 32.o 
32.o: In function `_start':
(.text+0x0): multiple definition of `_start'
/usr/lib/gcc/x86_64-linux-gnu/4.6/../../../x86_64-linux-gnu/crt1.o:(.text+0x0): first defined here
/usr/lib/gcc/x86_64-linux-gnu/4.6/../../../x86_64-linux-gnu/crt1.o: In function `_start':
(.text+0x20): undefined reference to `main' 
```

所以看起来它可能混合了 32 位和 64 位，我必须告诉编译器程序集是 32 位还是 64 位指令吗？

## 更新

该测试适用于 gcc。

```
$ cat hello.s
.data
.globl hello
hello:
.string "Hi World\n"

.text
.global main
main:
    pushq   %rbp
    movq    %rsp,       %rbp
    movq    $hello,     %rdi
    call    puts
    movq    $0,         %rax
    leave
    ret
$ gcc hello.s -o hello
$ ./hello 
Hi World 
```

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2013-02-18T06:49:38.043

你已经在做。

```
gcc -c asm_functions.S 
```

该步骤会生成一个目标文件`asm_functions.o`. 目标文件是“可链接”（相对于“可加载”）文件，其中包含机器代码，并附有一些关于链接器在链接时应如何修改代码的额外说明。`gcc`程序本身只是一个驱动程序，它`as`在幕后运行，供您制作`asm_functions.o`。因此，您确实可以选择直接运行，但通常运行前端`as`更容易。`gcc`

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2016-07-07T18:10:35.853

尽管更新有效，但原始代码可以通过简单地使用`gcc -nostdlib`. 例如，

```
gcc -nostdlib 32.s -o 32 
```

# delphi - 带有菜单的 FireMonkey 托盘图标

> ID：14930831
> 
> 赞同：0
> 
> 时间：2013-02-18T06:44:16.223
> 
> 标签：delphi, firemonkey, delphi-xe3, firemonkey-fm2

继续去年最喜欢的问题，随着 Delphi XE3 (Firemonkey 2) 的推出，无论是成熟的 OS 还是 iOS，在任何平台上仍然模糊地支持愚蠢的小托盘图标。

假设我们有一个使用平台相关代码的托盘图标。您将如何“单击”该图标以接收 FMX HD 表格（可能是菜单或更高级的高保真体验）？有一些棘手的事情需要克服，请想办法做到这一点，而无需在应用程序之外安装操作系统支持，例如 ActiveX/DCOM 组件... :-)

干杯!

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T00:43:32.263

不确定您是在寻找现有的组件来执行此操作，还是在想办法自己做。如果是前者，ApeSuite FM 组件[http://arcana.sivv.com/apesuite/](http://arcana.sivv.com/apesuite/)有一个跨平台的 TrayIcon 组件，可以转换为 OSX 上的菜单栏。

# android - Android：通过 URL 解析 XML

> ID：14930833
> 
> 赞同：0
> 
> 时间：2013-02-18T06:44:27.557
> 
> 标签：android, json, xml-parsing, android-listview

我一直在研究一些`JSON`并`XML`通过 URL 进行解析。我正在使用的 URL 给出`JSONObject`了我拥有的`XML`.

这是我为此所做的代码：

```
HttpClient hClient = new DefaultHttpClient();
        HttpGet hGet = new HttpGet(
                "URL for getting results");
        ResponseHandler<String> rHandler = new BasicResponseHandler();
        data = hClient.execute(hGet, rHandler);

        JSONObject json = new JSONObject(data);
        // get xml string form jsonObject
        String str_xml = json.getString("output");

        // now convert str_xml to xml document for xml parsing
        DocumentBuilderFactory factory = DocumentBuilderFactory
                .newInstance();
        DocumentBuilder db = factory.newDocumentBuilder();
        InputSource inStream = new InputSource();
        inStream.setCharacterStream(new StringReader(str_xml));
        Document doc = db.parse(inStream); // <<< getting xml Document here 
```

这是`JSONObject`我从中得到的`XML`：

```
{
"output": "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<Results>\n    <Feed prov=\"dmoz\">\n        <ResultSet id=\"webListings\" source=\"DMOZ\">\n            <Listing description=\" - A bike shop in Brisbane. Stocks mountain bikes, road bikes, and BMX bikes.\n                    \" rank=\"1\" siteHost=\"http://www.lifecycle.net.au/\" title=\"Lifecycle Bike Shop\">\n                <ClickUrl type=\"body\">http://www.lifecycle.net.au/</ClickUrl>\n            </Listing>\n            <Listing description=\" - Videos and pictures taken of both sport bikes and dirt bikes.\n                    \" rank=\"2\" siteHost=\"http://roadanddirt.com/\" title=\"Road and Dirt\">\n                <ClickUrl type=\"body\">http://roadanddirt.com/</ClickUrl>\n            </Listing>\n</Results>"
} 
```

现在，我必须`XML`在列表视图中解析和修复它们。`XML`这是我得到的样本：

```
<Results>
<Feed prov="dmoz" >
    <ResultSet id="webListings" source="DMOZ" >
        <Listing description=" - A bike shop in Brisbane. Stocks mountain bikes, road bikes, and BMX bikes. " rank="1" siteHost="http://www.lifecycle.net.au/" title="Lifecycle Bike Shop" >
            <ClickUrl type="body" >http://www.lifecycle.net.au/</ClickUrl>
        </Listing>
        <Listing description=" - Videos and pictures taken of both sport bikes and dirt bikes. " rank="2" siteHost="http://roadanddirt.com/" title="Road and Dirt" >
             <ClickUrl type="body" >http://roadanddirt.com/</ClickUrl>
        </Listing>
        <Listing description=" - Resource dedicated to pocket bike enthusiasts both in Australia and overseas. " rank="4" siteHost="http://www.pocket-bike-racing.com.au/" title="Pocket Bike Racing" >
            <ClickUrl type="body" >http://www.pocket-bike-racing.com.au/</ClickUrl>
        </Listing>
    </ResultSet>
</Feed>
</Results> 
```

有人可以帮我在列表视图中修复这些东西吗？帮助将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T06:50:48.333

下面提到的链接通过示例清楚地描述了如何在 android 中解析 XML。之后，您可以创建一个 listViewAdapter，并将数据插入到 listview 中。

> [http://developer.android.com/training/basics/network-ops/xml.html](http://developer.android.com/training/basics/network-ops/xml.html)

这可以帮助您使用 listView：

> [http://developer.android.com/guide/topics/ui/layout/listview.html](http://developer.android.com/guide/topics/ui/layout/listview.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T07:17:36.833

创建一个新的 xml 文件。将您的 xml 内容写入其中。然后开始使用 SAXParser 解析该 xml 文件。

```
InputSource is = new InputSource(new InputStream(xml_file));

SAXParserFactory spf = SAXParserFactory.newInstance();
SAXParser sp = spf.newSAXParser();
XMLReader xr = sp.getXMLReader();

dataHandler = new UIXMLHandler();
xr.setContentHandler(dataHandler);
xr.parse(is); 
```

**UIXMLHandler.java**

```
public class UIXMLHandler extends DefaultHandler {

    @Override
    public void startElement(String uri, String localName, String qName,Attributes atts){
        //here find the appropriate element, get it's attribute value if exist.
    }

    @Override
    public void endElement(String uri, String localName, String qName){
       //element ends
    }

    @Override
    public void characters(char[] ch, int start, int length){
      String data = new String(ch, start, length);
      data = data.trim();
      //data is the value you are going to use.
    }
} 
```

希望这可以帮助你。

# c# - 如何在控件模板资源中重用定义的样式

> ID：14930835
> 
> 赞同：3
> 
> 时间：2013-02-18T06:44:32.113
> 
> 标签：c#, wpf, controltemplates

我是 WPF 的新手。我不知道该怎么做。

我定义了这种风格 -

```
<Style TargetType="{x:Type Button}" x:Key="StandardButton">

<Setter Property="Background" Value="{StaticResource LightBackground}"/>

    <Setter Property="Foreground" Value="{StaticResource Foreground}"/>

</Style> 
```

我有一个控制模板 -

```
<ControlTemplate x:Key="ExpanderTemplate" TargetType="{x:Type Expander}">

<ControlTemplate.Resources>

        <Style TargetType="{x:Type Button}" /* Here I need to put above defined style */></Style> 

    </ControlTemplate.Resources>

</ControlTemplate> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T07:12:11.160

如果您希望所有人都`Buttons`使用`ControlTemplate`，`Style`只需`x:Key`从样式中删除并添加到`ControlTemplate.Resources`

```
<ControlTemplate.Resources>
    <Style TargetType="{x:Type Button}">
        <Setter Property="Background" Value="{StaticResource LightBackground}"/>
        <Setter Property="Foreground" Value="{StaticResource Foreground}"/>
    </Style>
</ControlTemplate.Resources> 
```

`Styles`with an `x:Key`will 必须在控件上声明`Style="{StaticResource StandardButton}"`，以应用于范围内的所有控件，`Resources`您只需声明`TargetType`

如果您已经`Style`在更高级别中定义了一个`Resources`并且您想应用到`Buttons`您`ControlTemplate`可以使用该`BasedOn`属性的所有内容。

例子：

```
<ControlTemplate x:Key="ExpanderTemplate" TargetType="{x:Type Expander}">
   <ControlTemplate.Resources>
      <Style TargetType="{x:Type Button}" BasedOn="{StaticResource StandardButton}" />
   </ControlTemplate.Resources>
</ControlTemplate> 
```

这将适用`StandardButton` `Style`于它定义的范围内的所有按钮`Resources`，在这种情况下，所有`Buttons`在`ExpanderTemplate`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T06:47:21.173

您可以使用 StaticResource 和您定义的资源的键名来引用您的样式

```
Style="{StaticResource StandardButton}" 
```

# php - 如何在codeigniter中返回新创建的缩略图名称

> ID：14930849
> 
> 赞同：0
> 
> 时间：2013-02-18T06:45:57.657
> 
> 标签：php, codeigniter

我是 codeigniter 的新手。我需要调整站点中的图像大小，并且我正在使用以下代码。

```
function resizeImage($imgName)
{

        $config['image_library'] = 'gd2';
        $config['source_image'] = "/var/www/folder/backgroundimages/".$imgName;
        $config['new_image'] = "/var/www/folder/backgroundimages/thumb/".$imgName;
        $config['create_thumb'] = TRUE;
        $config['maintain_ratio'] = TRUE;
        $config['width'] = 150;
        $config['height'] = 120;
        $this->image_lib->initialize($config);
        $this->image_lib->resize();

} 
```

这工作正常，拇指将使用名称 imagename_thumb.jpg 创建。

我想要的是从此函数返回新创建的拇指图像名称的名称。如何才能做到这一点 ？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T06:52:24.877

调整大小功能将拇指另存为`mypic_thumb.jpg`

> 上面的代码告诉 image_resize 函数在 source_image 文件夹中查找名为 mypic.jpg 的图像，然后使用 GD2 image_library 创建一个 75 X 50 像素的缩略图。由于启用了maintain_ratio 选项，拇指将尽可能接近目标宽度和高度，同时保留原始纵横比。缩略图将被称为 mypic_thumb.jpg

所以你可以回来

```
 $imgDetailArray=explode('.',$imgName)
 $thumbimgname=$imgDetailArray[0].'_thumb';
  return $thumbimgname.'.'.$imgDetailArray[1] 
```

“或者”

将 rawimage 作为参数传递给 resize 函数...

```
 function resizeImage($imgName,$rawimage)
 {
   ....... 
```

如果您要上传文件并调整其大小，您可以使用它`$this->upload->data()`来获取文件详细信息...此处的[文档](http://ellislab.com/codeigniter/user-guide/libraries/file_uploading.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T06:53:28.870

您已将图像名称指定为`$imgName`。那你为什么要这个名字？

您可以从该位置访问该拇指图像，

```
/var/www/folder/backgroundimages/thumb/$imgName 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-04-11T09:35:44.160

我`$config['thumb_marker'] = "";`在配置中使用删除**_thumb并**[在此处](http://localhost/mitspec2/Crud/user_guide/libraries/image_lib.html?highlight=thumbnail#processing-an-image)查看 CodeIgniter 的图像处理类文档以获取更多详细信息。

# objective-c - 如何在 iOS 应用中播放网络视频？

> ID：14930851
> 
> 赞同：-3
> 
> 时间：2013-02-18T06:46:14.003
> 
> 标签：objective-c, ios5

我想在我的 iOS 应用中播放视频。视频将从网络下载。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T06:55:03.473

这可能会帮助你

```
#import <UIKit/UIKit.h>
#import <MediaPlayer/MediaPlayer.h>

@interface ViewController : UIViewController

@property (nonatomic,strong)MPMoviePlayerController *moviePlayer;

@end

- (IBAction)playButtonEvent:(id)sender
{
      NSURL *url=[[NSURL alloc]initWithString:@"http://www.jplayer.org/video/m4v/Big_Bunny_Trailer.M4v"];
          _moviePlayer=[[MPMoviePlayerController alloc]initWithContentURL:url];
          [_moviePlayer.view setFrame:CGRectMake(20, 100, 380, 150)];
         [self.view addSubview:_moviePlayer.view];

      _moviePlayer.fullscreen=YES;
      _moviePlayer.allowsAirPlay=YES;
      _moviePlayer.shouldAutoplay=YES;
      _moviePlayer.controlStyle=MPMovieControlStyleEmbedded;
} 
```

# asp.net - 如何使用 vb 在 ASP.net 中删除特定的 gridview 列

> ID：14930855
> 
> 赞同：1
> 
> 时间：2013-02-18T06:46:34.363
> 
> 标签：asp.net, gridview

我正在谷歌中搜索这个答案，但我发现它不起作用。我使用 sql 查询填充我的 gridview：

```
adapter = New SqlDataAdapter("select * from tbl.scanner", con)
adapter.Fill(ds)
tblasset.DataSource = ds.Tables(0)
tblasset.DataBind() 
```

这是我在 gridview 中删除特定列的代码：

```
tblasset.Columns(1).Visible = False 
```

此代码不起作用。

我在那里的列数是 10。错误是：

```
Index out of range 
```

为什么会这样？我的代码错了吗？请帮助我，我是 asp.net 的新手

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T06:55:42.293

这会起作用，如果 GridView 列在设计时已知，您可以将`cell(1).Visible`属性设置`false`为[`GridView.RowCreated Event`](http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.gridview.rowcreated.aspx?cs-save-lang=1&cs-lang=vb#code-snippet-1)

```
Sub tblasset_RowCreated(ByVal sender As Object, ByVal e As GridViewRowEventArgs)
   e.Row.Cells(1).Visible = false;
End Sub 
```

请记住在 aspx 页面中附加事件。

```
<asp:GridView ID="tblasset" 
              OnRowCreated="tblasset_RowCreated"  
   .......... 
```

# php - 如何调整 PDO fetchAll() 以将键设置为创建的数组以匹配多表查询中的表名？

> ID：14930857
> 
> 赞同：0
> 
> 时间：2013-02-18T06:46:51.163
> 
> 标签：php, mysql, arrays, pdo

我正在通过 UNION ALL 查询三个结构相同的表中的列

```
 $sql="
(SELECT col1 FROM table1 WHERE col2 IN ('a','b','c') and col3 IS NOT NULL)
UNION ALL
(SELECT col1 FROM table2 WHERE col2 IN ('a','b','c') and col3 IS NOT NULL)
UNION ALL
(SELECT col1 FROM table3 WHERE col2 IN ('a','b','c')  and col3 IS NOT NULL)
"; 
```

然后我使用 PDO 准备该语句并执行它

```
$stmt = $pdo->prepare($sql);
$stmt->execute();   
$var = $stmt->fetchAll(PDO::FETCH_ASSOC); 
```

我的问题是产生的数组：$var，使用整数键并将每个结果拆分为一个子数组。我需要每个表的结果都在它们自己的子数组中，最好以表名作为键。

所以目前：

`print_r($var)`; 给出：

```
Array 
    (
    [0] => Array ( [col1] => asd) 
    [1] => Array ( [col1] => sdf) 
    [2] => Array ( [col1] => dfg) 
    [3] => Array ( [col1] => fgh)
    ) 
```

我想：

```
Array 
   (
[table1] => Array 
    (
     [0] => Array ( [col1] => asd) 
     [1] => Array ( [col1] => sdf) 
    )

[table2] => Array 
    (
     [0] => Array ( [col1] => asd)      
    )

[table3] => Array 
    (
     [0] => Array ( [col1] => asd)      
    )

    ) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T06:57:55.880

您不能在单个查询中执行此操作，但您可以使用 AS 关键字为列名加上相应的表名作为前缀，之后您只需对数组进行预处理以得出与您的规范类似的内容。

# javascript - JavaScript 包含不同的标头

> ID：14930859
> 
> 赞同：1
> 
> 时间：2013-02-18T06:47:12.583
> 
> 标签：javascript, html

我需要在 js 中为 html 页面添加不同的标题，但我不知道如何。在 php 中这很容易，但现在我用 Java 编写，在 html 页面上我只有 js 可以使用。任何想法 ？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T06:49:49.943

用这个：

```
xhr.setRequestHeader('header', 'value'); 
```

但我认为完成它的最简单方法是使用查询字符串而不是 HTTP 标头。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T07:24:22.977

```
jQuery(document).ajaxSend(function(event, xhr, settings) {
     ...

     // xhr is an XMLHttpRequest object
     xhr.setRequestHeader("X-CSRFToken", getCookie('csrftoken'));
} 
```

我认为您的问题可以通过上面的代码解决。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-18T14:56:28.727

我需要 php 中的 include() 之类的东西。我需要根据 url 添加不同的 html 头。

# ios - 枚举 ALAssetsLibrary 时，我可以区分屏幕快捷图像和相机拍摄的图像吗？

> ID：14930863
> 
> 赞同：2
> 
> 时间：2013-02-18T06:47:50.773
> 
> 标签：ios, objective-c, alassetslibrary

现在我只想获取屏幕快捷方式的图像。

枚举 ALAssetsLibrary 时，有什么方法可以区分屏幕快捷方式的图像和相机拍摄的图像吗？

非常感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T07:14:41.357

看看[这个](https://stackoverflow.com/questions/12953669/can-i-detect-if-an-imported-alasset-photo-was-taken-via-screenshot)。这可能会帮助你。没有直接的方法可以找到它。您将不得不使用一些技巧。

# java - 在 JOGL 中停止纹理的抗锯齿

> ID：14930864
> 
> 赞同：-1
> 
> 时间：2013-02-18T06:47:58.240
> 
> 标签：java, jogl, antialiasing

我对 JOGL 还很陌生，我试图让我所有的纹理都禁用抗锯齿。尽管出于某种原因，它仅适用于字母“S”的纹理。

这是我所有的课程：

主要：pastebin.com/qxCJKbbE

房间：pastebin.com/mKFSgqBp

主菜单：pastebin.com/tihb3wAX

渲染助手：pastebin.com/qfzXqCQY

i.imgur.com/qMRyG0j.png

此外，显然我不允许在没有更多声誉的情况下发布超过 2 个链接或图片，所以我只是拿走了 http:\\ 并链接了图像。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T09:53:39.833

`glTexParameterf`仅影响当前绑定的纹理。您应该在加载/设置期间为每个纹理设置不变的纹理参数。

为此，您还可以使用`Texture`该类的便捷方法，例如：

```
C = render.getTexture("E:\\MAndWorks\\resources\\font\\C.png");
C.setTexParameterf(GL2.GL_TEXTURE_MAG_FILTER, GL2.GL_NEAREST);
// (note that this also binds the texture behind the scenes) 
```

它对字母“S”起作用的原因是它是您在渲染过程中渲染的最后一个纹理，因此当您在下一次调用中设置纹理参数时它仍然被绑定`display`，有效地为“S”设置参数质地。

祝你好运。

# java - 使用 jstl 在 JSP 中预填充下拉列表

> ID：14930865
> 
> 赞同：0
> 
> 时间：2013-02-18T06:48:05.610
> 
> 标签：java, jsp, jstl

我有一个 JSTL 标签，它通过从 20 运行到 60 来填充年龄下拉列表，如下所示

```
<c:forEach begin="20" end="60" var="i">
   <option value="${i}">${i}</option>
</c:forEach> 
```

现在在编辑模式下，我想用来自 db 表的年龄填充年龄

假设年龄是 25 岁，那么应该在年龄 dd 中选择 25 岁。我尝试了一个代码，但这不起作用并显示 jspTagexception

```
<c:forEach begin="20" end="60" var="i">
 <option value="${i}" <c:when test ="${User.age == i}">selected</c:when>>${i}</option>
</c:forEach> 
```

如何在选择下拉列表中预先填充年龄。

谢谢您的回复

![在此处输入图像描述](../Images/8073c6612064431d734300df73371609.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T06:52:41.627

试试这个 ：

```
<c:if test="${User.age == i}"> selected="selected" </c:if> 
```

确保将用户对象从控制器传递给 jsp。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-18T06:56:22.820

使用错误的标签，何时应该与选择一起使用。请参阅此说明：

* * *

其工作方式类似于 Java 的 switch 语句，它允许您在多个备选方案之间进行选择。switch 语句有 case 语句的地方，标签有标签。switch 语句具有用于指定默认操作的默认子句，类似的方式具有默认子句。

* * *

如果喜欢，您可以使用：

```
<c:forEach begin="20" end="60" var="i">
 <option value="${i}" <c:if test ="${User.age == i}">selected</c:if>>${i}</option>
</c:forEach> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-18T06:57:27.113

您可以`Conditional operator`在其中使用，而不是`<c:when>`标签（仅与`<c:choose>`标签一起使用）：

```
<c:forEach begin="20" end="60" var="i">
    <option value="${i}" ${User.age == i ? 'selected' : ''}>${i}</option>
</c:forEach> 
```

# c# - 交叉开关滤波器将当前输入更改为复合

> ID：14930867
> 
> 赞同：0
> 
> 时间：2013-02-18T06:48:14.813
> 
> 标签：c#, directshow, capture

我是 DirectShow 的新手。我正在用 C# 编写一个应用程序，用于从模拟采集卡进行采集。我有一个模拟采集卡，我想知道如何将模拟交叉开关过滤器属性从“0：模拟调谐器输入”更改为“1：视频复合输入”。这是我的过滤器图

![过滤器图](../Images/74d34d726aaaf43c7bd27aceaab3231d.png)

我无法将 Tuner 的“Analog Video pin”连接到 Crossbar 滤波器的“Video Composite In”。我尝试运行 IAMCrossbar 过滤器的“Route”方法，但失败了。我不知道我的路径是否正确。请指导...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T11:28:42.033

`IAMCrossbar::Route`你是怎么做的。请务必阅读[使用 Crossbars](http://msdn.microsoft.com/en-us/library/windows/desktop/dd390991%28v=vs.85%29.aspx)了解详细信息 - 它是 C++ API，但我想您使用的是 DirectShow.NET，它具有类似的方法。

从下面的评论中提取的解决方案代码片段：

```
IAMCrossbar Xbar = (IAMCrossbar)pNM8001AnalogXbar; 
//hr = Xbar.CanRoute(1, 0); 
hr = Xbar.Route(1, 0); 
checkHR(hr, "Some NM8001AnalogXbar Problem"); //CONNECT NM8001 Analog TUNER and NM8001 Analog XBAR 
hr = pGraph.ConnectDirect(
  GetPin(pNM8001AnalogTuner, "Analog Video"), 
  GetPin(pNM8001AnalogXbar, "0: Video Tuner In"), 
  null); 
checkHR(hr, "Can't Connect NM8001AnalogTuner and NM8001AnalogXbar"); 
```

# java - Primefaces 数据表重叠

> ID：14930868
> 
> 赞同：-1
> 
> 时间：2013-02-18T06:48:20.600
> 
> 标签：java, jsf, web, primefaces

![在此处输入图像描述](../Images/f5fa3c3827ba3708e0612902b717a195.png)

任何想法家伙如何解决这些？我只是制作一个 UI，所以我的代码还没有连接到数据库或对象，因为我们只需要显示。我需要包装描述文本。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T16:32:49.140

使用 Firebug for Firefox 或 Developers Toolbar for IE 找到数据表页眉和页脚的 ID/名称/类，并在文件中根据需要/按 % 或按 px 更改数据表的宽度。您可能希望在每次修改样式时使用 !important 标记，以确保实现样式。

# java - 在java中解组具有名称值对的XML

> ID：14930871
> 
> 赞同：-1
> 
> 时间：2013-02-18T06:48:54.190
> 
> 标签：java, xml-parsing

```
<GetDeadlineOffset>
<deadlineCode>DeadlineCode</deadlineCode>
<parameters>
    <parameter name="Name1" value="Value1"/>
    <parameter name="Name2" value="Value2"/>
</parameters>
</GetDeadlineOffset> 
```

如何在我们没有指定 XSD 的情况下解组这种格式的 xml。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T22:27:04.557

如果您知道 XML 的样子，那么您可以生成 XSD，但这不是使用 XSteam 所必需的。

XStream 在他们的网站上有相当不错的文档，所以你会想从阅读开始。可以在这里找到快速概述：http: [//x-stream.github.io/tutorial.html](http://x-stream.github.io/tutorial.html)

您将要为 GetDeadlineOffset 和 Parameter 创建 bean，然后您应该能够使用`fromXml()`.

我倾向于使用注释，所以一旦你有了注释的 bean，你应该能够做这样的事情：

```
XStream xstream = new XStream();
xStream.processAnnotations(GetDeadlineOffset.class);
xStream.processAnnotations(Parameter.class);
GetDeadlineOffset getDeadlineOffset = (GetDeadlineOffset)xstream.fromXML(xml); 
```

# ios - iOS自定义披露指标的维度有哪些？

> ID：14930872
> 
> 赞同：7
> 
> 时间：2013-02-18T06:48:56.517
> 
> 标签：ios, uitableview

我希望在`UITableView`. 基本上我需要制作白色指标。

Apple 文档列出了视网膜和非视网膜显示屏的应用程序图标所需的尺寸，但我找不到披露指标等项目的推荐尺寸。

有人对为视网膜和非视网膜显示器创建披露图标的适当尺寸有什么建议吗？

想想看，应用程序如何知道该选择哪一个？

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2013-10-24T15:53:03.103

我们的应用在 iOS 7 中使用白色披露指示器。为了匹配 iOS 6.1 及之前的样式，我们使用与 iOS 7 披露指示器完全对应的自定义披露指示器图像。我们能够获得与 26x28 披露@2x.png 和 13x14 披露.png 的像素完美匹配。

![披露@2x.png](../Images/b4cdb31b325bd9ec301db20010654547.png) ![披露.png](../Images/032c02b011dce0a2d990f435bce9e465.png)

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2013-02-18T07:04:15.223

对于自定义披露指标，您可以使用`UITableViewCell`'`accessoryView`属性并设置您想要的任何大小。如果您要询问苹果使用的显示指示器尺寸，它们是：58x62 用于显示按钮、视网膜，19x28 用于显示指示器、视网膜。祝你好运！

# javascript - var A == var B == 1 寻找真实。不工作。是否可以？

> ID：14930879
> 
> 赞同：1
> 
> 时间：2013-02-18T06:49:37.433
> 
> 标签：javascript

不确定这是可行的，但我正在寻找一个真实的回报，例如.. var A = 100; 变量 B = 100;

```
(A == B == 100) 
```

我认为这将返回 true。因为 A == B（它们都是 100），因此它们都等于 100。

但它总是假的。

编辑::: 谢谢，是的 - 我很感激回复.. 我希望有一些比做 (A === 100) && ( B === 100) 等更漂亮的速记......但是非常感谢。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-02-18T06:51:50.203

要么它评估为

```
(A == B) == 100 
```

或作为

```
A == (B == 100) 
```

在这两种情况下，您都将布尔值与 100 进行比较。这当然总是错误的。你要

```
(A==100) && (B==100) 
```

要查看发生了什么，您可能需要将[下面的示例作为 JSFiddle 运行：](http://jsfiddle.net/PKh7c/5/)

```
var A = 100;
var B = 100;

alert("B == 100: " + (B == 100));
alert("A == (B == 100):" + (A == (B == 100)));
alert("A == B:" + (A == B));
alert("(A == B) == 100:" + ((A == B) == 100));
alert("A == B == 100):" + (A == B == 100));
alert("(A == 100) && (B == 100):" + ((A == 100) && (B == 100))); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-18T06:51:59.650

```
A== 100 && B == 100 
```

是你正在寻找的。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-18T06:52:55.810

它转换`true===100`为显然是`false`。您可以使用`a===b && b===100`

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-18T07:08:19.200

因为第二个表达式之后是它`(B == 100)`的值，所以它总是会被`A`比较`boolean``false`

那是：

```
A == (B == 100) 
```

变成

```
A == true 
```

哪个评价为`false`

所以正确的版本应该是：

```
(A == 100) && (B == 100) 
```

## [现场演示](http://jsfiddle.net/hZAat/1/)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-18T06:57:03.770

我认为它可以解释为

```
(A == B) && ((A == B) == 100) 
```

显然，这不是真的

# c# - BinarySearch 如何在两个邻居之间的数组中找到值？

> ID：14930881
> 
> 赞同：3
> 
> 时间：2013-02-18T06:49:46.397
> 
> 标签：c#, arrays, algorithm, find, binary-search

我有一个排序数组**double**。目标是在数组中查找索引。其中包含 <= 搜索值的值。

例如，数组包含`{0, 5, 12, 34, 100}`索引范围为 [0 .. 4] 的数字。

搜索值 = 25。我想得到 index=2 （出现范围在 12 到 34 之间）

我不明白在这种情况下如何运行二进制搜索。

```
 public class MyComparer : IComparer<double>
    {
        public int Compare(double x, double y)
        {
            //<-------- ???
        }
    }

    public double[] spline_x;

    MyComparer cmpc = new MyComparer();
    int i=Array.BinarySearch(spline_x, x, cmpc); 
```

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-02-18T06:58:35.317

当二分查找未在数组中找到项时，它返回一个负数，该负数是第一个大于 value 的元素的索引的按位补码。这是您可以使用它来查找范围的方法：

```
double[] spline_x = { 0D, 5D, 12D, 34D, 100D };
int i = Array.BinarySearch(spline_x, 25);
if (i >= 0)
{
    // your number is in array
}
else
{
    int indexOfNearest = ~i;

    if (indexOfNearest == spline_x.Length)
    {
        // number is greater that last item
    }
    else if (indexOfNearest == 0)
    {
        // number is less than first item
    }
    else
    {
        // number is between (indexOfNearest - 1) and indexOfNearest
    }     
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T03:25:06.920

不熟悉 C#，但简单的二进制搜索可以解决问题，找到最后一个数字 <= N，这是您所描述的边界。

```
int find_last(int num, const vector<int>&v, size_t begin, size_t end) {
  if (begin >= end) {
    return -1;
  }
  size_t mid = (begin + end) / 2;
  if (v[mid] > num) {
    // [mid, end) is bigger than num, the boundary is in [begin, mid)
    return find_last(num, v, begin, mid);
  }
  // v[mid] is qualified as <= N, search [mid+1, end) for
  // approaching a better boundary if exists.
  size_t index = find_last(num, v, mid+1, end);
  return (index == -1 ? mid : index);
} 
```

# c - 将编译的库链接到较新版本的 glibc

> ID：14930886
> 
> 赞同：9
> 
> 时间：2013-02-18T06:50:03.157
> 
> 标签：c, shared-libraries, glibc, ftdi

我正在开发一个使用 ftdi D2XX 驱动程序与 ENTTEC DMX usb pro 设备接口的项目。ftdi 驱动程序（libftdi2xx.so.1.1.12 存储在 /usr/local/lib/ 中）是针对 glibc v2.14 或更高版本编译的。

我正在 debian 7 上开发，它只支持 glibc v2.13。当执行我编写的 C 代码（调用 ftdi 驱动程序）时，它给出了一个错误：

```
./a.out: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.14' not found (required by /usr/local/lib/libftd2xx.so) 
```

这是有道理的，知道 glibc 版本不兼容。我已将最新版本的 glibc (v2.17) 下载并安装到我计算机上的临时目录 ('~/glibc-testing/install/lib/') 中，并使用以下调用：

```
~/glibc-testing/install/lib/ld-linux-x86-64.so.2 --library-path ~/glibc-testing/install/lib/ ./a.out 
```

通过这个调用，我能够成功运行 C 代码。

我想将此 C 代码编译为共享库。它将用于与 DMX 设备交互，并由基于 C# 开发的主应用程序调用。

我不确定如何前进。看起来我需要做的是告诉 fdti 驱动程序始终使用较新的 glibc，同时让应用程序的其余部分使用普通库。ftdi 2DXX 驱动程序仅提供预编译（无源代码可用）。有没有办法将此预编译程序链接到新库？

我研究了导出 LD_LIBRARY_PATH=/home/.../glibc/install/lib/ 的选项，但收效甚微。

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2016-09-23T08:11:32.000

您可以在自己的代码中提供缺少的功能，但请注意这些功能是版本化的，您可以提供地图文件或随代码一起做所有事情。例子：

```
#define SYMVER(ver, sym) __asm__(".symver " #sym "," #sym "@" #ver "\n")

SYMVER(GLIBC_2.14, foo);
int foo(int a, char *b)
{
    return 4;
} 
```

为了弄清楚要实现什么，您可以使用 readelf：

```
readelf -s /usr/local/lib/libftd2xx.so | grep '@GLIBC_2\.14' 
```

就是这样，就功能而言。

现在棘手的部分是让加载器相信它得到了正确的库（除非你想实现自己的加载器），因为你需要修补库以删除对 的引用`GLIBC_2.14`，因为它会专门查看 libc .

有几种方法可以继续；到目前为止，最简单的是替换`GLIBC_2.14`为`GLIBC_2.13`，请记住，您需要使用*替换*版本（即`GLIBC_2.13`）定义符号，因为版本是通过引用存储的。

这样你的程序就应该运行了。

现在，理论上你可以改为：

*   解析 ELF 文件，`DYNAMIC`在程序标题中找到类型条目，在那里搜索一个`VERNEED`条目，最后在该条目之后您应该找到可以修剪参考的需求表（您也可以使用`.gnu.version_r`节标题到达那里如果可供使用的话）。

*   或者，您可以编写一个链接标准加载器但用于`ptrace`覆盖查找的加载器。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-10-01T19:14:05.700

其中一种变体是将 debian 更新为 sid。

另一种选择是更改文件`/etc/ld.so.conf.d/libc.conf`和`/etc/ld.so.conf.d/x86_64-linux-gnu.conf`

这些文件包含在系统中搜索库的路径。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-03-31T17:49:05.753

您可以使用[PatchELF](https://nixos.org/patchelf.html)修改提供的共享库的 rpath：

```
$ patchelf --set-rpath /home/user/glibc-testing/install/lib/ libftdi2xx.so.1.1.12 
```

然后使用以下命令编译您的共享库：

```
$ gcc -Wl,-rpath=/home/user/glibc-testing/install/lib/ <rest of flags> 
```

您编译的任何可执行文件都必须使用以下命令进行编译：

```
$ gcc -Wl,-rpath=/home/user/glibc-testing/install/lib/  -Wl,--dynamic-linker=/home/user/glibc-testing/install/lib/ld-linux-x86-64.so.2 <rest of flags> 
```

# android - 我试图在 android 中开发货币转换器应用程序。我在 ArrayAdapter 中遇到错误，

> ID：14930891
> 
> 赞同：0
> 
> 时间：2013-02-18T06:50:15.463
> 
> 标签：android

它在下一行显示错误

```
ArrayAdapter<CharSequence> adapter = ArrayAdapter.createFromResource(
this, R.array.name, android.R.layout.simple_spinner_item);
adapter.setDropDownViewResource(android.R.layout.select_dialog_singlechoice);
val = getResources().getStringArray(R.array.value); 
```

错误消息是“数组无法解析或不是字段”。

```
import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStream;
import java.io.InputStreamReader;

import org.apache.http.HttpEntity;
import org.apache.http.HttpResponse;
import org.apache.http.client.ClientProtocolException;
import org.apache.http.client.HttpClient;
import org.apache.http.client.methods.HttpGet;
import org.apache.http.impl.client.DefaultHttpClient;
import org.json.JSONException;
import org.json.JSONObject;

import android.app.Activity;
import android.content.Intent;
import android.net.Uri;
import android.os.Bundle;
import android.os.Handler;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.AdapterView;
import android.widget.AdapterView.OnItemSelectedListener;
import android.widget.ArrayAdapter;
import android.widget.Button;
import android.widget.Spinner;
import android.widget.TextView;
import android.widget.Toast;

public class MainActivity extends Activity {
public int to;
public int from;
public String [] val;
public String s;
public Handler handler;

/** Called when the activity is first created. */
@Override
public void onCreate(Bundle savedInstanceState) {
super.onCreate(savedInstanceState);
setContentView(R.layout.activity_main);
Spinner s1 = (Spinner) findViewById(R.id.spinner1);
Spinner s2 = (Spinner) findViewById(R.id.spinner2);
ArrayAdapter<CharSequence> adapter = ArrayAdapter.createFromResource(
this, R.array.name, android.R.layout.simple_spinner_item);
adapter.setDropDownViewResource(android.R.layout.select_dialog_singlechoice);
val = getResources().getStringArray(R.array.value);
s1.setAdapter(adapter);
s2.setAdapter(adapter);
s1.setOnItemSelectedListener(new spinOne(1));
s2.setOnItemSelectedListener(new spinOne(2));
Button b = (Button) findViewById(R.id.button1);
b.setOnClickListener(new OnClickListener(){
public void onClick(View v) {
TextView t = (TextView) findViewById(R.id.textView4);
if(from == to)
{
Toast.makeText(getApplicationContext(), "Invalid", 4000).show();
}
else
{
try {
s = getJson("http://query.yahooapis.com/v1/public /yql?q=select%20*%20from%20yahoo.finance.xchange%20where%20pair%20in%20(%22"+val[from]+val[to]+"%22)&format=json&diagnostics=true&env=store%3A%2F%2Fdatatables.org%2Falltableswithkeys&callback=");
JSONObject jObj;
jObj = new JSONObject(s);
String exResult=                                                                                  jObj.getJSONObject("query").getJSONObject("results").getJSONObject("rate").getString("Rate"    );
t.setText(exResult);
} catch (JSONException e) {
// TODO Auto-generated catch block
e.printStackTrace();
}
catch (ClientProtocolException e) {
// TODO Auto-generated catch block
e.printStackTrace();
} catch (IOException e) {
// TODO Auto-generated catch block
e.printStackTrace();
}
}
}   

});
TextView credit = (TextView) findViewById(R.id.tv1);
credit.setOnClickListener(new OnClickListener(){

@Override
public void onClick(View v) {
Intent i = new Intent(Intent.ACTION_VIEW);
i.setData(Uri.parse("http://finance.yahoo.com"));
startActivity(i);
}

});
}
public String getJson(String url)throws ClientProtocolException, IOException {

StringBuilder build = new StringBuilder();
HttpClient client = new DefaultHttpClient();
HttpGet httpGet = new HttpGet(url);
HttpResponse response = client.execute(httpGet);
HttpEntity entity = response.getEntity();
InputStream content = entity.getContent();
BufferedReader reader = new BufferedReader(new InputStreamReader(content));
String con;
while ((con = reader.readLine()) != null) {
build.append(con);
}
return build.toString();
}
private class spinOne implements OnItemSelectedListener
{
int ide;
spinOne(int i)
{
ide =i;
}
public void onItemSelected(AdapterView<?> parent, View view,
int index, long id) {
if(ide == 1)
from = index;
else if(ide == 2)
to = index;

}

public void onNothingSelected(AdapterView<?> arg0) {
// TODO Auto-generated method stub  
}

}
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T09:40:43.573

在 res/values/strings 中，您需要声明您的数组名称和值，例如：

```
<string-array name="name">
    <item>name 1</item>
     <!-- Put the values u required in the array -->
    <item>name 2</item>
</string-array>

 <string-array name="value">
    <item>value1</item>
     <!-- Put the values u required in the array -->
    <item>value2</item>
</string-array> 
```

# ios - 在视图中添加谷歌搜索栏

> ID：14930899
> 
> 赞同：0
> 
> 时间：2013-02-18T06:51:26.200
> 
> 标签：ios, objective-c

我想要一个谷歌搜索栏。我创建了一个文本字段和一个搜索按钮，并尝试将其与搜索方法链接，但它不起作用。请帮助，因为我是 iOS 开发领域的新手。谢谢你。

这是“ViewController.m”

```
- (void)viewDidLoad
{
[super viewDidLoad];
self.view.backgroundColor= [UIColor cyanColor];
searchtext = [[UITextField alloc]initWithFrame:CGRectMake(0, 0, 200, 40)];
searchtext.delegate = self;
searchtext.borderStyle = UITextBorderStyleRoundedRect;
[self.view addSubview:searchtext];

search = [UIButton buttonWithType:UIButtonTypeRoundedRect];
[search setTitle:@"Search" forState:UIControlStateNormal];
[search setTitleColor:[UIColor blackColor] forState:UIControlStateNormal];
search.frame = CGRectMake(210, 0, 100, 30);
[self.view addSubview:search];
[search addTarget:self action:@selector(gotogooglesearch) forControlEvents:UIControlEventTouchUpInside];
-(void)gotogooglesearch{
NSMutableString *googleUrl = [[NSMutableString alloc] initWithString:@"http//www.google.com/search?q="];
NSString * searchString = [searchtext text];

[googleUrl appendString:searchString];

NSURL *url = [NSURL URLWithString:googleUrl];
NSURLRequest *requestObj = [NSURLRequest requestWithURL:url];

}
- (void)didReceiveMemoryWarning
{
[super didReceiveMemoryWarning];
}

@end 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T07:03:45.000

您还没有添加任何 UIWEBVIEW 来显示结果。如果您使用的是 UIWEBVIEW，那么

```
[self.web_view_obj loadRequest:Your_URL_STRING]; 
```

要在 safari 中打开它，

```
[[UIApplication sharedApplication] openURL:Your_URL_STRING]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T07:03:44.943

如果您打算在 safari 中打开 url，则可以使用它。

```
-(void)gotogooglesearch{
    NSMutableString *googleUrl = [[NSMutableString alloc] initWithString:@"http://www.google.com/search?q="];
    NSString * searchString = [searchtext text]; //use stringbytrimmingcharacter method to strip whitespaces and newlines.

    [googleUrl appendString:searchString];

    NSURL *url = [NSURL URLWithString:googleUrl];
    [[UIApplication sharedApplication] openURL:url];
} 
```

或者

您可以创建一个 UIWebView 插座。使用 self.webView 在您的代码中访问它。

```
-(void)gotogooglesearch{
    NSMutableString *googleUrl = [[NSMutableString alloc] initWithString:@"http://www.google.com/search?q="];
    NSString * searchString = [searchtext text]; //use stringbytrimmingcharacter method to strip whitespaces and newlines.

    [googleUrl appendString:searchString];

    NSURL *url = [NSURL URLWithString:googleUrl];
    NSURLRequest *requestObj = [NSURLRequest requestWithURL:url];
    [self.webView loadRequest:requestObj];
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-18T12:08:00.373

感谢大家的帮助。我真的得到了答案。刚刚创建了一个网络视图“googlesearch”并在其中加载了搜索。

```
-(void)gotogooglesearch{

NSString * searchString1 = [[NSString alloc] initWithFormat:@"%@",searchtext.text];
searchString1 = [searchString1 stringByReplacingOccurrencesOfString:@" " withString:@"+"];
NSString * searchString2 = [NSString stringWithFormat:@"http://www.google.com/search?q=%@",searchString1];

NSURL *url = [NSURL URLWithString:searchString2];
NSURLRequest *requestObj = [NSURLRequest requestWithURL:url];
[googlesearch loadRequest:requestObj];

} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-01-17T11:18:00.980

```
-(void)gotogooglesearch1{
    NSMutableString *googleUrl = [[NSMutableString alloc] initWithString:@"http://www.google.com/search?q="];
    NSString * searchString = [searchtext text]; //use stringbytrimmingcharacter method to strip whitespaces and newlines.

    [googleUrl appendString:searchString];

    NSURL *url = [NSURL URLWithString:googleUrl];
    NSURLRequest *requestObj = [NSURLRequest requestWithURL:url];
    [self.webView loadRequest:requestObj];
} 
```

# java - 如何在Android上删除一个文件夹中的所有文件和文件夹

> ID：14930908
> 
> 赞同：33
> 
> 时间：2013-02-18T06:52:08.850
> 
> 标签：java, android, file-io

我使用此代码删除所有文件：

```
File root = new File("root path");
File[] Files = root.listFiles();
if(Files != null) {
    int j;
    for(j = 0; j < Files.length; j++) {
        System.out.println(Files[j].getAbsolutePath());
        System.out.println(Files[j].delete());
    }
} 
```

它将删除 false where `Files[j]`is a folder。

我想删除文件夹及其所有子文件。
我该如何修改这个？

* * *

## 回答 #1

> 赞同：72
> 
> 时间：2013-02-18T06:57:57.113

检查此链接是否也[从 android 的内部存储中删除文件夹？](https://stackoverflow.com/questions/13410949/how-to-delete-folder-from-internal-storage-in-android).

```
void deleteRecursive(File fileOrDirectory) {

    if (fileOrDirectory.isDirectory())
        for (File child : fileOrDirectory.listFiles())
            deleteRecursive(child);

    fileOrDirectory.delete();

} 
```

* * *

## 回答 #2

> 赞同：43
> 
> 时间：2013-02-18T06:54:42.303

最简单的方法是使用Apache Commons IO 库中的[FileUtils.deleteDirectory](https://commons.apache.org/proper/commons-io/javadocs/api-1.4/org/apache/commons/io/FileUtils.html#deleteDirectory(java.io.File))。

```
File dir = new File("root path");
FileUtils.deleteDirectory(dir); 
```

请记住，这也会删除包含目录。

在 gradle 文件中添加这一行以获得 Apache

```
compile 'org.apache.commons:commons-io:1.3.2' 
```

* * *

## 回答 #3

> 赞同：18
> 
> 时间：2013-02-18T07:03:02.523

```
File file = new File("C:\\A\\B");        
    String[] myFiles;      

     myFiles = file.list();  
     for (int i=0; i<myFiles.length; i++) {  
         File myFile = new File(file, myFiles[i]);   
         myFile.delete();  
     }  
B.delete();// deleting directory. 
```

您可以这样编写方法：删除dir下的所有文件和子目录。如果所有删除都成功，则返回true。如果删除失败，该方法将停止尝试删除并返回false。

```
public static boolean deleteDir(File dir) {
    if (dir.isDirectory()) {
        String[] children = dir.list();
        for (int i=0; i<children.length; i++) {
            boolean success = deleteDir(new File(dir, children[i]));
            if (!success) {
                return false;
            }
        }
    }

    // The directory is now empty so delete it
    return dir.delete();
} 
```

* * *

## 回答 #4

> 赞同：7
> 
> 时间：2016-04-25T12:56:00.170

如果**storageDir**是目录

```
for(File tempFile : storageDir.listFiles()) {
    tempFile.delete();
} 
```

* * *

## 回答 #5

> 赞同：5
> 
> 时间：2015-03-27T21:25:56.807

对于您的情况，这非常有效 [http://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/FileUtils.html#cleanDirectory(java.io.File)](http://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/FileUtils.html#cleanDirectory(java.io.File))

```
File dir = new File("dir_path");
if(dir.exists() && dir.isDirectory()) {
    FileUtils.cleanDirectory(dir);
} 
```

如果你想删除文件夹本身。（它不必为空）。也可以用于文件。

[http://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/FileUtils.html#forceDelete(java.io.File)](http://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/FileUtils.html#forceDelete(java.io.File))

```
File dir = new File("dir_path");
if(dir.exists()) {
    FileUtils.forceDelete(dir);
} 
```

* * *

## 回答 #6

> 赞同：4
> 
> 时间：2013-02-18T06:56:09.863

你可以这样检查：

```
for(j = 0; j < Files.length; j++) {

    if(file.isDirectory()){
        for(File f : file.listFiles()){
        System.out.println(Files[j].getAbsolutePath());
        System.out.println(Files[j].delete());
    }
    else {
        System.out.println(Files[j].getAbsolutePath());
        System.out.println(Files[j].delete());
    }
} 
```

* * *

## 回答 #7

> 赞同：4
> 
> 时间：2013-02-18T07:00:09.373

您可以尝试使用此代码删除文件和子文件

```
public void deleteFile(File f){
String[] flist=f.list();
for(int i=0;i<flist.length;i++){
    System.out.println(" "+f.getAbsolutePath());
    File temp=new File(f.getAbsolutePath()+"/"+flist[i]);
    if(temp.isDirectory()){
       deleteFile(temp) ;
       temp.delete();
    }else{
    temp.delete();
    } 
```

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2019-10-16T20:37:51.650

### `rm -rf`比自己递归删除目录的性能要高得多*。*`FileUtils.deleteDirectory`

经过广泛的基准测试，我们发现 using`rm -rf`比 using 快几倍`FileUtils.deleteDirectory`。

当然，如果您有一个小的或简单的目录，那没关系，但在我们的例子中，我们有多个千兆字节和深度嵌套的子目录，`FileUtils.deleteDirectory`使用`rm -rf`.

这是我们的粗略 Java 实现：

```
// Delete directory given and all subdirectories and files (i.e. recursively).
//
static public boolean deleteDirectory( File file ) throws IOException, InterruptedException {

    if ( file.exists() ) {

        String deleteCommand = "rm -rf " + file.getAbsolutePath();
        Runtime runtime = Runtime.getRuntime();

        Process process = runtime.exec( deleteCommand );
        process.waitFor();

        return true;
    }

    return false;

} 
```

如果您正在处理大型或复杂的目录，则值得尝试。

* * *

## 回答 #9

> 赞同：1
> 
> 时间：2020-12-08T17:08:13.177

作为 kotlin 扩展功能，您可以执行此操作

```
fun File.deleteDirectoryFiles(){
    this.listFiles().forEach {
        if(it.isDirectory){
            it.deleteDirectoryFiles()
        }else{
            it.delete()
        }
    }

    this.delete()
} 
```

然后你可以做

```
file.deleteDirectoryFiles() 
```

* * *

## 回答 #10

> 赞同：1
> 
> 时间：2021-11-04T03:46:28.453

从 Kotlin 1.5.31 开始，有一个 Kotlin 扩展方法，其工作方式如下：

```
val resultsOfDeleteOperation = File("<Full path to folder>").deleteRecursively() 
```

根据文档：

> 删除该文件及其所有子文件。请注意，如果此操作失败，则可能已发生部分删除。返回：如果文件或目录被成功删除，则返回 true，否则返回 false。

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2015-09-30T16:15:22.517

这段代码对我有用。“imagesFolder”有一些文件和文件夹，这些文件和文件夹又包含文件。

```
 if (imagesFolder.isDirectory())
  {
       String[] children = imagesFolder.list(); //Children=files+folders
       for (int i = 0; i < children.length; i++)
       {
         File file=new File(imagesFolder, children[i]);
         if(file.isDirectory())
         {
          String[] grandChildren = file.list(); //grandChildren=files in a folder
          for (int j = 0; j < grandChildren.length; j++)
          new File(file, grandChildren[j]).delete();
          file.delete();                        //Delete the folder as well
         }
         else
         file.delete();
      }
  } 
```

* * *

## 回答 #12

> 赞同：0
> 
> 时间：2017-03-18T16:50:37.960

# #1

```
File mFile = new File(Environment.getExternalStorageDirectory() + "/folder");
try {
    deleteFolder(mFile);
} catch (IOException e) {
    Toast.makeText(getContext(), "Unable to delete folder", Toast.LENGTH_SHORT).show();
}

public void deleteFolder(File folder) throws IOException {
    if (folder.isDirectory()) {
       for (File ct : folder.listFiles()){
            deleteFolder(ct);
       }
    }
    if (!folder.delete()) {
       throw new FileNotFoundException("Unable to delete: " + folder);
    }
} 
```

### #2（根）

```
try {
    Process p = Runtime.getRuntime().exec("su");
    DataOutputStream outputStream = new DataOutputStream(p.getOutputStream());
    outputStream.writeBytes("rm -Rf /system/file.txt\n");
    outputStream.flush();
    p.waitFor();
    } catch (IOException | InterruptedException e) {
       Toast.makeText(getContext(), e.getMessage(), Toast.LENGTH_SHORT).show();
    } 
```

* * *

## 回答 #13

> 赞同：0
> 
> 时间：2017-12-11T00:10:28.570

// 删除文件夹及其内容

```
public static void DeleteFolder(File folder)
{
    try
    {
        FileUtils.deleteDirectory(folder);
    } catch (Exception ex)
    {
        Log.e(" Failed delete folder: ", ex.getMessage());
    }
} 
```

// 只删除文件夹内容

```
public static void DeleteFolderContents(File folder)
{
    try
    {
        FileUtils.cleanDirectory(folder);
    } catch (Exception ex)
    {
        Log.e(" Failed delete folder contents: ", ex.getMessage());
    }
} 
```

文档：[org.apache.commons.io.FileUtils.cleanDirectory](http://commons.apache.org/proper/commons-io/javadocs/api-2.5/org/apache/commons/io/FileUtils.html#cleanDirectory(java.io.File))

# php - php会话不会保存表单数据

> ID：14930911
> 
> 赞同：0
> 
> 时间：2013-02-18T06:52:24.997
> 
> 标签：php

这是我到目前为止所拥有的。问题是当我点击提交时，它会将我带到下一页，但会话不存储名字。如果我删除动作，所以它是 action="" 然后会话保存名字。为什么会发生这种情况，我该如何解决？

```
...html stuff...

<?php
session_start();
if(isset($_POST['submit'])){ $_SESSION['firstName'] = $_POST['firstName']; }
?>

<form method="POST" action="nextPage.php">
<input name="firstName" type="text" size="70"/>
...
<input type="submit" name="submit" value="Continue"/>
</form> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T06:56:42.543

$_POST['firstName'] 不存在，直到您将表单数据发布到此页面本身。这就是将操作设置为 "" 的原因，因为它将表单数据发布到自身。

否则，请在 nextPage.php 中使用这两行代码而不是此处，并在 nextPage 中设置会话变量。

```
session_start();
if(isset($_POST['submit'])){ $_SESSION['firstName'] = $_POST['firstName']; } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T06:55:27.993

用这个

```
...html stuff...
<?php
ob_start(); // add this
session_start();
if(isset($_POST['submit'])){ $_SESSION['firstName'] = $_POST['firstName']; }
?> 
```

# php - 关闭 apc.stat 的 APC 是否缓存该文件不存在？

> ID：14930915
> 
> 赞同：1
> 
> 时间：2013-02-18T06:52:38.083
> 
> 标签：php, caching, apc

我最近在我们的 PHP 服务器上看到了一些奇怪的行为。

我们将 PHP-FPM 5.3.8 与 APC 3.1.9 一起使用。apc.stat 标志被关闭，因此文件应该只从硬盘读取一次，然后缓存在内存中。在每次部署中，我们只需清除 APC。

我们的代码使用 symfony 框架，一旦代码第一次执行，它就会在 /cache 文件夹中生成 PHP 文件。从那时起，它应该读取 /cache 中的这些 PHP 文件以更快地执行。

我们的问题是有时 PHP 告诉我们 /cache 中的某些文件不存在，但是当我手动检查时，我发现这些文件存在。

我的怀疑是，在每次部署后的第一个请求期间，关闭 apc.stat 的 APC 缓存这些文件不存在，然后记住这些文件不存在而不是再次检查。实际上它们在第二个请求时确实存在，因为第一个请求生成了它们，只是在第一个请求时它们不存在。

关闭 apc.stat 的 APC 是否有可能表现得那样？它不仅缓存现有文件，还缓存哪些文件不存在？

# git - 用于 Git 更新的 RSS 提要

> ID：14930918
> 
> 赞同：4
> 
> 时间：2013-02-18T06:52:51.023
> 
> 标签：git, rss, updates

是否有可供我订阅的 Git 更新的 RSS/Atom 提要或邮件列表？我发现很难跟上最新版本，因为我无法知道新版本何时发布。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T08:08:06.463

对于 msysgit（windows 端口），它只是 Google Code 提供的提要：

[http://code.google.com/feeds/p/msysgit/downloads/basic](http://code.google.com/feeds/p/msysgit/downloads/basic)

但是由于 git 相关的东西有一个中心位置（[http://git-scm.com](http://git-scm.com)），更好的办法是从那里提供提要。也许你可以给他们写一个功能请求。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T08:02:49.510

[http://git-blame.blogspot.de/atom.xml](http://git-blame.blogspot.de/atom.xml)

您可能需要检查以下其他来源：

[http://git-blame.blogspot.de/](http://git-blame.blogspot.de/)

[https://www.google.com/calendar/embed?src=jfgbl2mrlipp4pb6ieih0qr3so%40group.calendar.google.com&ctz=America/Los_Angeles](https://www.google.com/calendar/embed?src=jfgbl2mrlipp4pb6ieih0qr3so%40group.calendar.google.com&ctz=America/Los_Angeles)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-18T08:07:29.457

有一个[Git 邮件列表](http://dir.gmane.org/gmane.comp.version-control.git)，您可以加入以保持最新状态。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-11-09T11:26:31.413

这并不容易，但我找到了。在官方页面[https://git-scm.com/community](https://git-scm.com/community)您可以找到指向用户列表存档的链接。在那里，您可以使用“搜索”和“Atom 提要”链​​接来获取带有公告的 atom 提要：[https ://public-inbox.org/git/?q=ANNOUNCE&x=A](https://public-inbox.org/git/?q=ANNOUNCE&x=A)

# c# - 考勤管理数据库设计

> ID：14930926
> 
> 赞同：1
> 
> 时间：2013-02-18T06:53:21.393
> 
> 标签：c#, asp.net, sql, sql-server, sql-server-2008

我正在为大学创建一个考勤管理网站，到目前为止我有这个：

```
AttendanceId Pk,
RollNo,
Date,
Lecture1,
Lecture2,
Lecture3,
Lecture4,
Lecture5...till lecture10 
```

每次讲座的出席情况都要记录。

我知道这不是一个很好的设计，因为有这么多的Lecture列，还有其他方法吗？

假设每天要记录 5000 名学生的出勤情况，这种表会占用多少空间？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-18T06:59:28.647

是的。您的表格没有以这种方式[***标准化。***](http://en.wikipedia.org/wiki/Database_normalization)更好的是，创建一个新表：

**`AttendanceLectures`**：

*   `AttendanceId`外键引用出勤表，
*   `LectureId`外键参考讲座表，
*   ...

使用复合键 ( `ATtendanceId`, `LectureID`)。

**`Lectures`**：

*   `LectureId`.
*   ...其他详细信息（如果有）

你的桌子`Attendances`是这样的：

*   `AttendanceId`PK,
*   `RollNo`,
*   `AttendanceDate`.

# java - 我的程序设计为顺序、迭代和递归地搜索 .txt 文件，我收到“错误：无法取消引用 int”

> ID：14930928
> 
> 赞同：0
> 
> 时间：2013-02-18T06:53:27.997
> 
> 标签：java

在 main 方法中，我尝试了 .equals() 和 .compareTo()，它们在第 88、94 和 100 行都给了我同样的错误。当我使用 == 时，它会编译，但在它运行：

```
Type the word you're searching for. Or type -1 to stop: curse
sequentialSearch()      : curse is not found (comparison=13040).
iterative binarySearch(): curse is not found (comparison=13).
recursive binarySearch(): curse is not found (comparison=13).
Type the word you're searching for. Or type -1 to stop: 
```

我知道“诅咒”一词在我正在搜索的文本文件中。

这是我到目前为止的代码。

```
import java.io.*;
import java.util.Scanner;
import java.util.ArrayList;

public class Search extends Object {
public static final String TO_STOP = "-1";
public static final int NOT_FOUND = -1;

public static int count1;
public static int count2;
public static int count3;

public Search()
{
    count1 = 0;
    count2 = 0;
    count3 = 0;
}

public static int sequentialSearch(ArrayList<String> array, String value)
{
    int low = 0;
    int high = array.size() - 1;
    for (int i = low; i <= high; i++){
        count1++;
        if (array.get(i) == value)
            return i;
    }
    return NOT_FOUND;
}

public static int binarySearch(ArrayList<String> array, String value)
{
    int low = 0;
            int high = array.size() - 1;
            while (low <= high) {
                int mid = (low + high)/2;
                if (array.get(mid) != value){
                    count2++;
                    high = mid - 1;
                } else if (array.get(mid) != value){
                    count2++;
                    low = mid + 1;
                } else
                    return mid;
            }
    return NOT_FOUND;
}

public static int binarySearch(ArrayList<String> array, int low, int high, String value)
{
    if (low > high)
                return NOT_FOUND;
            int mid = (low + high)/2;
            if (array.get(mid) != value){
                count3++;
                return binarySearch(array, low, mid-1, value);
            } else if (array.get(mid) != value){
                count3++;
                return binarySearch(array, mid+1, high, value);
            } else
        return mid;
}

public static void main (String [] args) throws IOException
{
    ArrayList<String> array = new ArrayList<String>();
    File fn = new File("sortedWords.txt");
    Scanner sc = new Scanner(fn);
    Scanner keyboard = new Scanner(System.in);
    boolean wantsToContinue = true;

        while(sc.hasNextLine()){
        String ln = sc.nextLine();
        array.add(ln);
        }

        do {
            System.out.print("Type the word you're searching for. Or type " + TO_STOP + " to stop: ");
            String word2search = keyboard.nextLine();

            if(word2search.equals(TO_STOP)){
                wantsToContinue = false;
            }
            else {
                int index;
                index = sequentialSearch(array, word2search);
                if (index.compareTo(NOT_FOUND))
                    System.out.println("sequentialSearch()      : " + word2search + " is not found (comparison=" + count1 + ").");
                else
                    System.out.println("sequentialSearch()      : " + word2search + " is found in [" + index + "] (comparison=" + count1 + ").");

                index = binarySearch(array, word2search);
                if (index.compareTo(NOT_FOUND))
                    System.out.println("iterative binarySearch(): " + word2search + " is not found (comparison=" + count2 + ").");
                else
                    System.out.println("iterative binarySearch(): " + word2search + " is found in [" + index + "] (comparison=" + count2 + ").");

                index = binarySearch(array, 0, array.size()-1, word2search);
                if (index.compareTo(NOT_FOUND))
                    System.out.println("recursive binarySearch(): " + word2search + " is not found (comparison=" + count3 + ").");
                else
                    System.out.println("recursive binarySearch(): " + word2search + " is found in [" + index + "] (comparison=" + count3 + ").");
                        }
    } while (wantsToContinue);
} 
```

}

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T06:58:02.120

您不能在 int 上使用 compareTo() 或 equals，因为 int 是原始类型。您必须使用 '==' 来比较原始类型。您只能在 Integer 对象上调用 compareTo() 或 equals() 方法。

第一个问题是您正在逐行读取输入文件并将每一行作为数组的条目。然后您尝试将输入的单词与文件中的整行进行比较。如果您正在尝试进行单词搜索，请尝试拆分将文件内容输入单词。

另一个错误是使用 == 来比较字符串。您不能使用 == 来比较字符串。请改用 equals() 方法。

# java - 使用字符串数组中的 ID 创建 TextView - Android

> ID：14930932
> 
> 赞同：1
> 
> 时间：2013-02-18T06:54:04.220
> 
> 标签：java, android, arrays, textview

在 Android 中，我想以编程方式创建多个具有各自 ID 的 TextView，以便我可以使用例如 FOR 语句来创建一定数量的具有自己 ID 的 TextView。

例如，

```
// Created TextView prior

for(int i=0;i<10;i++) {
    linearlayout.addView(ID);
} 
```

所以我想知道我是否有可能拥有一个具有几个不同 ID 的字符串数组，并以某种方式通过字符串数组的位置为每个 TextView 提供其 ID。因此，例如，当字符串数组为“frogs”时，TextView 的 ID 为“frogs”，然后随着 FOR 语句的增加，定义 TextView ID 的字符串数组的值也会增加（如果它甚至可能在全部）。

谢谢，布伦丹

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-18T07:01:42.790

> 所以我想知道我是否有可能拥有一个具有几个不同 ID 的字符串数组，并以某种方式通过字符串数组的位置为每个 TextView 提供其 ID

是的，你可以拥有：

```
String[] ids = new String[] {"1","2","3","4","5"};
for(int item = 0; item < ids.length; item++) 
 {
       TextView textView = new TextView(this);
       // careful id value should be a positive number.
       textView.setText(ids[item]);
       textView.setId(parseInt(ids[item]));
       ...
  } 
```

# java - Spring不使用mongo自定义转换器

> ID：14930933
> 
> 赞同：6
> 
> 时间：2013-02-18T06:54:06.103
> 
> 标签：java, spring, spring-mongo

我一直在尝试注册自己的编写自定义转换器来更改默认 ID 值。但它从未真正调用过。这是我的自定义转换器

```
public class EventKeyConverter implements Converter<Event,DBObject> {

    @Override
    public DBObject convert(Event object) {
        DBObject dbObject = DBObjectTransformer.toDBObject(object);
        dbObject.put("_id", KeyGenerator.getRandomKey());
        return dbObject;
    }

} 
```

这是我注册客户转换器的地方

```
@Override
@Bean
public CustomConversions customConversions() {
    List<Converter<?, ?>> converters = new ArrayList<Converter<?, ?>>();
    converters.add(new EventKeyConverter());
    return new CustomConversions(converters);
}

@Override
@Bean
public MappingMongoConverter mappingMongoConverter() throws Exception {
    MappingMongoConverter converter = new MappingMongoConverter(
            eventsMongoDbFactory(), mongoMappingContext());
    converter.setCustomConversions(customConversions());
    return converter;
}

@Bean
public MongoTemplate eventsMongoTemplate() throws Exception {
    final MongoTemplate template = new MongoTemplate(
            eventsMongoDbFactory(), mappingMongoConverter());
    template.setWriteResultChecking(WriteResultChecking.EXCEPTION);

    return template;
} 
```

当我保存一些对象时，这个转换器永远不会被调用。

**编辑 1**：我需要在所有存储库中将默认对象 ID 更改为一些自定义 ID（UUID + 随机键）。这就是我尝试使用 mongo 转换器的原因。

**编辑2：** 刚刚发现问题。在包含 customConversion() 的类中将 @Configuration 更改为 @Component 并且它工作正常。但仍然想知道这里发生了什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-08-15T16:06:34.417

`@Configuration`定义了一个 Spring 上下文片段，其中包含如果用`@Bean`返回新 bean 注释的方法并将它们放入上下文中。

`@Component`是一种说法“这个 Pojo 是 Spring bean”。然后，您需要一个`@ComponentScan`注解或等效的 XML 来扫描包中的`@Component`注解 bean。

因此，在您的情况下，您可以很好地创建转换器，但在添加 之前它没有注册为 Spring bean `@Component`，因此它最初无法正常工作。

# c# - 使用更新面板时未触发单击事件，更新面板外的按钮

> ID：14930938
> 
> 赞同：0
> 
> 时间：2013-02-18T06:54:12.050
> 
> 标签：c#, asp.net, ajax

在这里我想准备一个图表，当我点击 btnsearch 时，clickevent 正在触发，但是当我添加 updatepanel 和 Modalpopup 扩展器时，这个点击事件没有触发任何帮助都会得到帮助

## 。CS

```
protected void btnSearch_Click(object sender, EventArgs e)
    {
        if ((ddlEmp.SelectedValue != "0") & (dtFrom.Text.Trim() != "") & (dtTo.Text.Trim() != ""))
        {

            objWork.FK_EmployeeID = Convert.ToDecimal(ddlEmp.SelectedValue);

            IFormatProvider provider = new System.Globalization.CultureInfo("en-CA", true);
            String datetime = dtFrom.Text.Trim();
            DateTime dt = DateTime.Parse(datetime, provider, System.Globalization.DateTimeStyles.NoCurrentDateDefault);
            objWork.Fromdate = dt;

            provider = new System.Globalization.CultureInfo("en-CA", true);
            datetime = dtTo.Text.Trim();
            dt = DateTime.Parse(datetime, provider, System.Globalization.DateTimeStyles.NoCurrentDateDefault);
            objWork.Todate = dt;

            DataTable dtbl = objWork.Chart_ProjectWise_FilterWith_Emp_Date();
            // int i = ds.Tables[0].Rows.Count;
            ProjectWise.DataSource = dtbl;
            ProjectWise.Legends.Add("Percentage").Title = "Work duration of employees";
            // here i am giving the title of the x-axis
            ProjectWise.ChartAreas["ChartArea1"].AxisX.Title = "Project Name";
            // here i am giving the title of the y-axis
            ProjectWise.ChartAreas["ChartArea1"].AxisY.Title = "Duration";
            // here i am binding the x-axisvalue with the chart control
            ProjectWise.Series["Hours"].XValueMember = "ProjectName";
            // here i am binding the y-axisvalue with the chart control
            ProjectWise.Series["Hours"].YValueMembers = "Duration";
            ProjectWise.DataBind();
        }
    } 
```

**.aspx**

```
 <asp:Panel ID="Panel2" runat="server" Height="237px" Width="400px" BorderColor="WindowFrame"
                                BorderStyle="Solid" BorderWidth="2" BackColor="White">
                                <asp:Panel ID="Panel3" runat="server" Height="30px" BackColor=" #E6F0F3" HorizontalAlign="Center"
                                    CssClass="TopPanel">
                                    <asp:Label ID="Label1" runat="server" Text="Change Password" ForeColor="#1B548D" Font-Bold="True"
                                        Font-Size="Medium"></asp:Label>
                                </asp:Panel>
                                <br />

                                <asp:Label ID="lblInvalid" runat="server" ForeColor="Red" Font-Size="Small"></asp:Label>
                                <br />

                                <table cellpadding="2" cellspacing="2">
                                    <tr>
                                        <td style="font-size: small; padding-left: 10px">
                                            EmailID
                                        </td>
                                        <td>
                                            <asp:TextBox ID="txtChEmail" runat="server" Width="250"></asp:TextBox>
                                            <asp:RequiredFieldValidator ID="RequiredFieldValidator1" runat="server" 
                                                ControlToValidate="txtChEmail" ErrorMessage="*"></asp:RequiredFieldValidator>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="font-size: small; padding-left: 10px">
                                            Old Password
                                        </td>
                                        <td>
                                            <asp:TextBox ID="txtChOldPwd" runat="server" Width="250" TextMode="Password"></asp:TextBox>
                                            <asp:RequiredFieldValidator ID="RequiredFieldValidator2" runat="server" 
                                                ControlToValidate="txtChOldPwd" ErrorMessage="*"></asp:RequiredFieldValidator>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="font-size: small; padding-left: 10px">
                                            New Password
                                        </td>
                                        <td>
                                            <asp:TextBox ID="txtChNewPwd" runat="server" Width="250" TextMode="Password"></asp:TextBox>
                                            <asp:RequiredFieldValidator ID="RequiredFieldValidator3" runat="server" 
                                                ControlToValidate="txtChNewPwd" ErrorMessage="*" ></asp:RequiredFieldValidator>
                                                <br />
                                                 <asp:CustomValidator ID="CustomValidator1" 
                                                        ClientValidationFunction="PasswordValidate"
                                                        ControlToValidate="txtChNewPwd" runat="server"
                                                        ErrorMessage="Enter 6 to 12 characters."
                                                        Display="Dynamic"></asp:CustomValidator>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="font-size: small; padding-left: 10px">
                                            Confirm Password
                                        </td>
                                        <td>
                                            <asp:TextBox ID="txtChConPwd" runat="server" Width="250" TextMode="Password"></asp:TextBox>
                                            <asp:RequiredFieldValidator ID="RequiredFieldValidator4" runat="server" 
                                                ControlToValidate="txtChConPwd" ErrorMessage="*"></asp:RequiredFieldValidator>
                                            <br />
                                            <asp:CompareValidator ID="CompareValidator1" runat="server" 
                                                ControlToCompare="txtChNewPwd" ControlToValidate="txtChConPwd" 
                                                Display="Dynamic" ErrorMessage="Passwords do not match">
                                            </asp:CompareValidator>
                                        </td>
                                    </tr>
                                </table>

                                <br />
                                 <asp:UpdatePanel ID="UpdatePanel1" runat="server" UpdateMode="Conditional">
                                    <ContentTemplate>
                                      <asp:Panel ID="Panel4" runat="server" BackColor="#E6F0F3" 
                                    CssClass="bottompanel" Height="28px" HorizontalAlign="Center">
                                    <asp:Button ID="btnChange" runat="server" BackColor="#1B548D" Font-Bold="true" 
                                        ForeColor="#E6F0F3" onclick="btnChange_Click" Text="Change"/>
                                    <asp:Button ID="btnCancel" runat="server" BackColor="#1B548D" Font-Bold="true" 
                                        ForeColor="#E6F0F3" Text="Cancel" onclick="btnCancel_Click" />
                                </asp:Panel>

                                 </ContentTemplate>
                               <Triggers>
                                <asp:AsyncPostBackTrigger ControlID="btnChange" />
                                <asp:AsyncPostBackTrigger ControlID="btnCancel" />
                               </Triggers>
                                </asp:UpdatePanel>
                            </asp:Panel>

                            <asp:ModalPopupExtender ID="ModalPopupExtender1" runat="server" TargetControlID="Changepwd"
                                PopupControlID="Panel2" BackgroundCssClass="backgrd" CancelControlID="btnCancel"
                                onload="ModalPopupExtender1_Load" >
                                <Animations>

                                </Animations>
                            </asp:ModalPopupExtender>
                            <asp:Panel ID="Panel1" runat="server">
                                <table>
                                    <tr>
                                        <td>
                                            <table>
                                                <tr>
                                                <td class="style1">
                                                </td>
                                                    <td>
                                                        <asp:Label ID="lblSearch" runat="server" Text="Employee Name"></asp:Label>
                                                    </td>
                                                    <td>
                                                        <asp:DropDownList ID="ddlEmp" runat="server" AppendDataBoundItems="true">
                                                            <asp:ListItem Text="Select Employee" Value="0" Selected="True"></asp:ListItem>
                                                        </asp:DropDownList>
                                                    </td>
                                                    <td>
                                                        <asp:Label ID="lblDate" runat="server" Text="Date"></asp:Label>
                                                    </td>
                                                    <td>
                                                        <asp:TextBox ID="dtFrom" runat="server"></asp:TextBox>
                                                        <asp:CalendarExtender ID="CalendarExtender1" runat="server" TargetControlID="dtFrom"
                                                            Format="dd/MM/yyyy">
                                                        </asp:CalendarExtender>
                                                    </td>
                                                    <td>
                                                        <asp:Label ID="lblTo" runat="server" Text="to"></asp:Label>
                                                    </td>
                                                    <td>
                                                        <asp:TextBox ID="dtTo" runat="server"></asp:TextBox>
                                                        <asp:CalendarExtender ID="CalendarExtender2" runat="server" TargetControlID="dtTo"
                                                            Format="dd/MM/yyyy">
                                                        </asp:CalendarExtender>
                                                    </td>
                                                    <td>
                                                    </td>
                                                    <td>
                                                        <asp:Button ID="btnSearch" runat="server" Text="Prepare chart" ToolTip="Filter" OnClick="btnSearch_Click" />
                                                    </td>
                                                    <td>
                                                        <asp:Button ID="btnReset" runat="server" Text="Reset" OnClick="btnReset_Click" />
                                                    </td>
                                                </tr>
                                            </table>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td align="center">
                                            <asp:Chart runat="server" ID="ProjectWise" Width="900" Height="350" ImageStorageMode="UseImageLocation"
                                                Palette="Berry" PaletteCustomColors="Teal; DarkViolet">
                                                <BorderSkin BackColor="Transparent" PageColor="Transparent" SkinStyle="Emboss" />
                                                <Series>
                                                    <asp:Series Name="Hours" IsValueShownAsLabel="True" IsVisibleInLegend="true" LabelBorderColor="Transparent"
                                                        YValuesPerPoint="20" Color="Transparent" LabelBorderWidth="0" Palette="Pastel">
                                                    </asp:Series>
                                                </Series>
                                                <ChartAreas>
                                                    <asp:ChartArea Name="ChartArea1" BackColor="White">
                                                        <AxisY>
                                                            <MajorGrid LineColor="Gainsboro" />
                                                        </AxisY>
                                                        <AxisX>
                                                            <MajorGrid LineColor="Gainsboro" />
                                                        </AxisX>
                                                        <AxisX2>
                                                            <MajorGrid LineColor="Gainsboro" />
                                                        </AxisX2>
                                                        <AxisY2>
                                                            <MajorGrid LineColor="Gainsboro" />
                                                        </AxisY2>
                                                        <Area3DStyle Enable3D="true" />
                                                    </asp:ChartArea>
                                                </ChartAreas>
                                            </asp:Chart>

                                        </td>
                                    </tr>
                                </table>
                            </asp:Panel> 
```

**但是当我将下面的代码添加到 .aspx**时，点击事件没有触发

```
 <asp:Panel ID="Panel2" runat="server" Height="237px" Width="400px" BorderColor="WindowFrame"
                        BorderStyle="Solid" BorderWidth="2" BackColor="White">
                        <asp:Panel ID="Panel3" runat="server" Height="30px" BackColor=" #E6F0F3" HorizontalAlign="Center"
                            CssClass="TopPanel">
                            <asp:Label ID="Label1" runat="server" Text="Change Password" ForeColor="#1B548D" Font-Bold="True"
                                Font-Size="Medium"></asp:Label>
                        </asp:Panel>
                        <br />

                        <asp:Label ID="lblInvalid" runat="server" ForeColor="Red" Font-Size="Small"></asp:Label>
                        <br />

                        <table cellpadding="2" cellspacing="2">
                            <tr>
                                <td style="font-size: small; padding-left: 10px">
                                    EmailID
                                </td>
                                <td>
                                    <asp:TextBox ID="txtChEmail" runat="server" Width="250"></asp:TextBox>
                                    <asp:RequiredFieldValidator ID="RequiredFieldValidator1" runat="server" 
                                        ControlToValidate="txtChEmail" ErrorMessage="*"></asp:RequiredFieldValidator>
                                </td>
                            </tr>
                            <tr>
                                <td style="font-size: small; padding-left: 10px">
                                    Old Password
                                </td>
                                <td>
                                    <asp:TextBox ID="txtChOldPwd" runat="server" Width="250" TextMode="Password"></asp:TextBox>
                                    <asp:RequiredFieldValidator ID="RequiredFieldValidator2" runat="server" 
                                        ControlToValidate="txtChOldPwd" ErrorMessage="*"></asp:RequiredFieldValidator>
                                </td>
                            </tr>
                            <tr>
                                <td style="font-size: small; padding-left: 10px">
                                    New Password
                                </td>
                                <td>
                                    <asp:TextBox ID="txtChNewPwd" runat="server" Width="250" TextMode="Password"></asp:TextBox>
                                    <asp:RequiredFieldValidator ID="RequiredFieldValidator3" runat="server" 
                                        ControlToValidate="txtChNewPwd" ErrorMessage="*" ></asp:RequiredFieldValidator>
                                        <br />
                                         <asp:CustomValidator ID="CustomValidator1" 
                                                ClientValidationFunction="PasswordValidate"
                                                ControlToValidate="txtChNewPwd" runat="server"
                                                ErrorMessage="Enter 6 to 12 characters."
                                                Display="Dynamic"></asp:CustomValidator>
                                </td>
                            </tr>
                            <tr>
                                <td style="font-size: small; padding-left: 10px">
                                    Confirm Password
                                </td>
                                <td>
                                    <asp:TextBox ID="txtChConPwd" runat="server" Width="250" TextMode="Password"></asp:TextBox>
                                    <asp:RequiredFieldValidator ID="RequiredFieldValidator4" runat="server" 
                                        ControlToValidate="txtChConPwd" ErrorMessage="*"></asp:RequiredFieldValidator>
                                    <br />
                                    <asp:CompareValidator ID="CompareValidator1" runat="server" 
                                        ControlToCompare="txtChNewPwd" ControlToValidate="txtChConPwd" 
                                        Display="Dynamic" ErrorMessage="Passwords do not match">
                                    </asp:CompareValidator>
                                </td>
                            </tr>
                        </table>

                        <br />
                         <asp:UpdatePanel ID="UpdatePanel1" runat="server" UpdateMode="Conditional">
                            <ContentTemplate>
                              <asp:Panel ID="Panel4" runat="server" BackColor="#E6F0F3" 
                            CssClass="bottompanel" Height="28px" HorizontalAlign="Center">
                            <asp:Button ID="btnChange" runat="server" BackColor="#1B548D" Font-Bold="true" 
                                ForeColor="#E6F0F3" onclick="btnChange_Click" Text="Change"/>
                            <asp:Button ID="btnCancel" runat="server" BackColor="#1B548D" Font-Bold="true" 
                                ForeColor="#E6F0F3" Text="Cancel" onclick="btnCancel_Click" />
                        </asp:Panel>

                         </ContentTemplate>
                       <Triggers>
                        <asp:AsyncPostBackTrigger ControlID="btnChange" />
                        <asp:AsyncPostBackTrigger ControlID="btnCancel" />
                       </Triggers>
                        </asp:UpdatePanel>
                    </asp:Panel>

                    <asp:ModalPopupExtender ID="ModalPopupExtender1" runat="server" TargetControlID="Changepwd"
                        PopupControlID="Panel2" BackgroundCssClass="backgrd" CancelControlID="btnCancel"
                        onload="ModalPopupExtender1_Load" >
                        <Animations>

                        </Animations>
                    </asp:ModalPopupExtender> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-14T04:22:40.627

请参阅下面的帖子。它说在更新面板中加载时，asp.net 验证脚本没有正确加载。

[http://jeffreypaarhuis.com/2011/08/08/validation-not-working-in-updatepanel/](http://jeffreypaarhuis.com/2011/08/08/validation-not-working-in-updatepanel/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T07:11:39.910

请在里面插入一个更新面板

```
 <asp:Panel ID="Panel1" runat="server"> 
```

然后添加您的表格代码

```
<table>
                                <tr>
                                    <td>
                                        <table>
                                            <tr>
                                            <td class="style1">
                                            </td>
                                                <td>
                                                    <asp:Label ID="lblSearch" runat="server" Text="Employee Name"></asp:Label>
                                                </td>
                                                <td>
                                                    <asp:DropDownList ID="ddlEmp" runat="server" AppendDataBoundItems="true">
                                                        <asp:ListItem Text="Select Employee" Value="0" Selected="True"></asp:ListItem>
                                                    </asp:DropDownList>
                                                </td>
                                                <td>
                                                    <asp:Label ID="lblDate" runat="server" Text="Date"></asp:Label>
                                                </td>
                                                <td>
                                                    <asp:TextBox ID="dtFrom" runat="server"></asp:TextBox>
                                                    <asp:CalendarExtender ID="CalendarExtender1" runat="server" TargetControlID="dtFrom"
                                                        Format="dd/MM/yyyy">
                                                    </asp:CalendarExtender>
                                                </td>
                                                <td>
                                                    <asp:Label ID="lblTo" runat="server" Text="to"></asp:Label>
                                                </td>
                                                <td>
                                                    <asp:TextBox ID="dtTo" runat="server"></asp:TextBox>
                                                    <asp:CalendarExtender ID="CalendarExtender2" runat="server" TargetControlID="dtTo"
                                                        Format="dd/MM/yyyy">
                                                    </asp:CalendarExtender>
                                                </td>
                                                <td>
                                                </td>
                                                <td>
                                                    <asp:Button ID="btnSearch" runat="server" Text="Prepare chart" ToolTip="Filter" OnClick="btnSearch_Click" />
                                                </td>
                                                <td>
                                                    <asp:Button ID="btnReset" runat="server" Text="Reset" OnClick="btnReset_Click" />
                                                </td>
                                            </tr>
                                        </table>
                                    </td>
                                </tr>
                                <tr>
                                    <td align="center">
                                        <asp:Chart runat="server" ID="ProjectWise" Width="900" Height="350" ImageStorageMode="UseImageLocation"
                                            Palette="Berry" PaletteCustomColors="Teal; DarkViolet">
                                            <BorderSkin BackColor="Transparent" PageColor="Transparent" SkinStyle="Emboss" />
                                            <Series>
                                                <asp:Series Name="Hours" IsValueShownAsLabel="True" IsVisibleInLegend="true" LabelBorderColor="Transparent"
                                                    YValuesPerPoint="20" Color="Transparent" LabelBorderWidth="0" Palette="Pastel">
                                                </asp:Series>
                                            </Series>
                                            <ChartAreas>
                                                <asp:ChartArea Name="ChartArea1" BackColor="White">
                                                    <AxisY>
                                                        <MajorGrid LineColor="Gainsboro" />
                                                    </AxisY>
                                                    <AxisX>
                                                        <MajorGrid LineColor="Gainsboro" />
                                                    </AxisX>
                                                    <AxisX2>
                                                        <MajorGrid LineColor="Gainsboro" />
                                                    </AxisX2>
                                                    <AxisY2>
                                                        <MajorGrid LineColor="Gainsboro" />
                                                    </AxisY2>
                                                    <Area3DStyle Enable3D="true" />
                                                </asp:ChartArea>
                                            </ChartAreas>
                                        </asp:Chart>

                                    </td>
                                </tr>
                            </table> 
```

用于从搜索按钮回发帖子。

# mysql - SQL PDO INSERT 查询未将值输入表

> ID：14930942
> 
> 赞同：0
> 
> 时间：2013-02-18T06:54:24.353
> 
> 标签：mysql, pdo

我的 SQL PDO INSERT 查询似乎没有将数据插入表中，并且没有返回任何错误消息说明它为什么不能这样做。关于发生了什么的任何想法？

**更新：**`array(3) { [0]=> string(5) "00000" [1]=> NULL [2]=> NULL }`运行后我收到以下错误消息`var_dump($pdo->errorInfo())`

```
$dept = $_POST['dept'];
$module_id = $_POST['moduleCode'];
$day_id = $_POST['day'];
$period_id = $_POST['period'];
$length_id = $_POST['length'];
$semester = $_POST['semester'];
$round = $_POST['round'];
$group_size = $_POST['group_size'];
$room_structure = $_POST['room_structure'];
$lecture_style = $_POST['lecture_style'];
$roomAllocation = $_POST['roomAllocation'];
$notes = $_POST['notes'];

// insert request into table

$sql = "INSERT INTO ts_request
                (dept_id,
                module_id,
                day_id,
                period_id,
                length_id,
                semester,
                round,
                group_size,
                room_structure,
                lecture_style,
                park_id,
                allocation
                notes)
                VALUES 
                (:dept,
                :module_id,
                :day_id,
                :period_id,
                :length_id,
                :semester,
                :round,
                :group_size,
                :room_structure,
                :lecture_style,
                :park,
                :allocation
                :notes)";
$stm = $pdo->prepare( $sql );
$stm->execute( array( ':dept' => $dept, 
                                            ':module_id' => $module_id,
                                            ':day_id' => $day_id,
                                            ':period_id' => $period_id,
                                            ':length_id' => $length_id,
                                            ':semester' => $semester,
                                            ':round' => $round,     
                                            ':group_size' => $group_size,                                                                                                                                                                               
                                            ':room_structure' => $room_structure,                                                                                                                                                                               
                                            ':lecture_style' => $lecture_style, 
                                            ':park' => $park,   
                                            ':allocation' => $roomAllocation,                                                                                                                                                                                                                                                                                                                                                                                                                                           
                                            ':notes' => $notes ) );
$request_id = $pdo->lastInsertId();

// create allocation

$sql = "INSERT INTO ts_allocation
                (request_id,
                status)
                VALUES 
                (:request_id,
                :status";
$stm = $pdo->prepare( $sql );
$stm->execute( array( ':request_id' => $request_id, 
                                            ':status' => $status ) );
$allocation_id = $pdo->lastInsertId();

// insert weeks

$weeks = explode(",", $_POST["weeks"]);
for ($i = 0; $i < count($weeks); $i++) {
$sql = "INSERT INTO ts_week
                (request_id,
                allocation_id,
                week)
                VALUES 
                (:request_id,
                :allocation_id,
                :week)";
$stm = $pdo->prepare( $sql );
$stm->execute( array( ':request_id' => $request_id, 
                                            ':allocation_id' => $allocation_id,
                                            ':week' => $weeks[$i] ) );
}

// insert fac pref

$roomFac = explode(",", $_POST["roomFac"]);
for ($i = 0; $i < count($roomFac); $i++) {
$sql = "INSERT INTO ts_facpref
                (request_id,
                facilities_id)
                VALUES 
                (:request_id,
                :facilities_id)";
$stm = $pdo->prepare( $sql );
$stm->execute( array( ':request_id' => $request_id, 
                                            ':facilities_id' => $roomFac[$i] ) );
}

// insert room pref

$room_id = explode(",", $_POST["roomPref"]);
for ($i = 0; $i < count($room_id); $i++) {
$sql = "INSERT INTO ts_roompref
                (request_id,
                room_id)
                VALUES 
                (:request_id,
                :room_id)";
$stm = $pdo->prepare( $sql );
$stm->execute( array( ':request_id' => $request_id, 
                                            ':room_id' => $room_id[$i] ) );
}
var_dump($stm->errorInfo()); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T06:59:16.050

在每个语句之后使用 `var_dump($pdo->errorInfo())`AND `$stm->errorInfo();`来查看 PDO 给出的错误。

PS您的查询中有错误。你错过了最后一个括号：

```
$sql = "INSERT INTO ts_allocation
                (request_id,
                status
                VALUES 
                (:request_id,
                :status"; 
```

还有这个

```
$sql = "INSERT INTO ts_facpref
                (request_id,
                facilities_id,
                VALUES 
                (:request_id,
                :facilities_id"; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-18T07:45:55.453

我无法抗拒发布基于[safeMysql](https://github.com/colshrapnel/safemysql/blob/master/safemysql.class.php)的解决方案。
唯一需要做的改变是：表单字段名称必须与数据库列名称匹配（即`moduleCode`必须`module_id`在表单中）。解决此问题后，您可以摆脱 90% 的代码，使其成为 DRY（代表 Don't Repeat Yourself）。
第一个插入的代码将与以下 4 行一样小：

```
$allowed = array(dept_id, module_id, day_id, period_id, length_id, semester, round,
            group_size, room_structure, lecture_style, park_id, allocation, notes);
$data = $db->filterArray($allowed, $_POST);
$db->query("INSERT INTO ts_request SET ?u", $data); 
```

不用说，在如此小的代码中发现错误比在较大的代码中容易得多。
此外，让 PHP 为您构建查询将帮助您避免此类可悲的错误，例如手动创建的查询之间`allocation`和`notes`中缺少逗号或保留字冲突或其他任何错误

# plugins - Metatrader 插件：它是什么？

> ID：14930948
> 
> 赞同：4
> 
> 时间：2013-02-18T06:54:49.460
> 
> 标签：plugins, metatrader4, metatrader5

什么是 Metatrader 插件？我在一些促销和文章中看到了这个词。这些文章中描述的是一个物种专家，他插入了其他语言的库（不是 MQL4 / 5）。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-19T04:56:28.253

插件通常被称为在它自己的 MT 服务器中运行的 c++ 扩展。

就像 meta manager api 允许您作为经理扩展平台的操作一样，MT 插件允许您扩展服务器的实际交易逻辑。当然，不言而喻，您需要访问实际服务器才能部署一台。

# dart - Dart 中不同的 Map 实现有什么区别？

> ID：14930950
> 
> 赞同：52
> 
> 时间：2013-02-18T06:54:58.730
> 
> 标签：dart

Dart 有一个 Map 类型，具有[HashMap](https://api.dartlang.org/stable/2.1.0/dart-collection/HashMap-class.html)、[LinkedHashMap](https://api.dartlang.org/stable/2.1.0/dart-collection/LinkedHashMap-class.html)和[SplayTreeMap](https://api.dartlang.org/stable/2.1.0/dart-collection/SplayTreeMap-class.html)等实现。这些不同的 Map 实现之间有什么区别？

* * *

## 回答 #1

> 赞同：81
> 
> 时间：2013-02-18T06:54:58.730

Dart 内置了对 List、Set 和 Map 等集合的支持。Dart 有不同的 Map 实现。了解实现之间的优缺点可以帮助您做出明智的决定。

（注意：这是在 Dart M3 的时候写的，所以下面的内容可能与目前的文档不匹配。）

# 什么是地图？

Map 是一个关联容器，将键映射到值。键是唯一的，并且可以指向一个且只有一个值。键不能为空，但值可以为空。

# 地图文字

Dart 支持[Map 文字](https://www.dartlang.org/guides/language/language-tour#maps)，如下所示：

```
var accounts = {'323525': 'John Smith', '588982': 'Alice Jones'}; 
```

规范说地图文字必须保持插入顺序。这意味着`accounts`是 的一个实例`LinkedHashMap`。

规范还说 Map 文字键必须是字符串。这在未来可能会改变。

# 新地图（）

Dart 支持工厂构造函数，所以你可以像这样创建一个新的 Map 实例：

```
var accounts = new Map(); 
```

该类`Map`是抽象的，这意味着工厂构造函数实际上创建了一个子类的实例`Map`。那么实际的类型是`accounts`什么？

`HashMap`早期版本的 Dart从`new Map()`构造函数中创建了一个新的实例。但是，[Dart 错误 5803](http://code.google.com/p/dart/issues/detail?id=5803)指出，为了生成`{}`和`new Map`返回相同的类型，`new Map`将很快返回`LinkedHashMap`.

# LinkedHashMap（或 InsertionOrderedMap）

A`LinkedHashMap`按照插入的顺序遍历键和值。

*注意：* LinkedHashMap 可能会被重命名为 InsertionOrderedMap。关注[Dart bug 2349](http://code.google.com/p/dart/issues/detail?id=2349)以获得进展。

这是一个例子：

```
import 'dart:collection';
main() {
  var ordered = new LinkedHashMap();
  ordered['32352'] = 'Alice';
  ordered['95594'] = 'Bob';

  for (var key in ordered.keys) {
    print(key);
  }

  // guaranteed to print 32352, then 95594
} 
```

这是[LinkedHashMap 的源代码](http://code.google.com/p/dart/source/browse/trunk/dart/sdk/lib/collection/linked_hash_map.dart)。（如果此链接停止工作，可能是因为该类已重命名）

# 哈希映射

HashMap 不能保证保持插入顺序。当您遍历 HashMap 的键或值时，您不能期望特定的顺序。

HashMap 是使用[散列表](http://en.wikipedia.org/wiki/Hash_table)实现的。

以下是创建新 HashMap 的示例：

```
import 'dart:collection';
main() {
  var accounts = new HashMap();
} 
```

如果您不关心维护插入顺序，请使用 HashMap。

这是[HashMap 的源代码](http://code.google.com/p/dart/source/browse/trunk/dart/sdk/lib/collection/hash_map.dart)。

# SplayTreeMap

展开树是一种自平衡二叉搜索树，具有最近访问的元素可以快速再次访问的附加属性。它在 O(log(n)) 摊销时间内执行插入、查找和删除等基本操作。

```
import 'dart:collection';
main() {
  var accounts = new SplayTreeMap();
} 
```

SplayTreeMap 要求所有键的类型相同。

对于经常存储和访问的数据（如缓存），展开树是一个不错的选择。原因是他们使用树旋转来将元素带到根，以便更频繁地访问。性能来自树的自我优化。也就是说，经常访问的元素被移到更靠近顶部的位置。然而，如果树同样经常被访问，那么使用张开树图就没有什么意义了。

一个示例案例是调制解调器路由器以非常高的速率接收网络数据包。调制解调器必须决定哪个数据包进入哪条线路。它可以使用映射实现，其中键是 IP，值是目的地。对于这种情况，展开树图是一个不错的选择，因为大多数 IP 地址将被多次使用，因此可以从树的根部找到这些地址。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2019-05-28T06:52:48.723

有一个替代方案。

**多图**

```
import 'package:quiver/collection.dart';

algorithms() {
  var ordered = new ListMultimap();
  ordered.add('32352', 'Alice');
  ordered.add('95594', 'Bob');
  ordered.add('32352', 'Alice2');

  for (var key in ordered.keys) {
    print(key);
  }

  for (var value in ordered.values) {
    print(value);
  }

  // print in ascending order
  // flutter: 32352
  // flutter: 95594
  // flutter: Alice
  // flutter: Alice2
  // flutter: Bob
} 
```

# sql - vb.net插入行语句执行了两次

> ID：14930953
> 
> 赞同：2
> 
> 时间：2013-02-18T06:55:06.727
> 
> 标签：sql, vb.net, sqlcommand

在我的 vb.net 应用程序中，我需要将一些数据从一个表备份到另一个表。这是我的代码

```
con2.Open()
txt2 = "select * from pension where empno='" & empno & "' ORDER BY year"
cmd2 = New SqlCommand(txt2, con2)
reader2 = cmd2.ExecuteReader()
While reader2.Read
    yr = reader2("year")
    totpension = reader2("total")
    If dr <> yr Then
        dcrg = 0
        comm = 0
    End If
    tot1 = dcrg + comm + totpension
    con3.Open()
    txt1 = "Insert into over1 values('" & empno & "','" & name & "','" & yr & "','" & dcrg & "', '" & comm & "','" & totpension & "','" & tot1 & "')"
    cmd3 = New SqlCommand(txt1, con3)
    cmd3.ExecuteNonQuery()
    con3.Close()
End While
reader2.Close()
con2.Close() 
```

问题是它插入每条记录两次，我删除了 ORDER BY，同样的问题仍然存在。使用参数化查询也有同样的问题。

有人可以解释我的代码中有什么问题以及如何解决吗？提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T10:36:22.367

多件事，
如果您在养老金表中有每个员工的单一记录，则
使用`if reader2.Read`而不是`while reader2.Read`

如果问题仍然存在那么问题是您正在执行此方法两次。问题是如何？

1.  如果是一种方法。那么你可能会调用这个方法两次

    * * *

2.  如果它是一个事件，那么您可能正在处理此事件两次
    因此，请检查触发该事件的控制标记是否在那里调用该事件。像这样

    ```
    <asp:Button ID="btnSubmit" runat="server" Text="Submit" OnClick="btnSubmit_Click"/> 
    ```

    并检查事件的`Handled`属性

    ```
    Private Sub btnSubmit_Click(ByVal sender As Object, _
     ByVal e As StartEventArgs) Handles btnSubmit.Click 
    ```

    如果您定义了`OnClick`属性，则必须`Handles btnSubmit.Click`从事件中删除。

希望这会有所帮助。

# email - qmail中字符串的stralloc实现

> ID：14930955
> 
> 赞同：1
> 
> 时间：2013-02-18T06:55:08.997
> 
> 标签：email, qmail

在 qmail(MTA) 代码中通过 stralloc 函数使用的字符串的结束分隔符是什么？？？

```
stralloc str;
stralloc_copys(&str,"testing");
printf("%s\n", str.s); 
```

它实际上打印

> 测试Zjklfjndf

打印内容的正确方法是什么？？？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-18T07:02:16.487

因此没有分隔符，但您可以在 stralloc 存储的每个字符串的末尾找到 Z。存储在 stralloc 中的数据仅通过 len 进行查找。

并且正如 ansh 已经提到的那样，不要尝试通过 printf 打印数据，而是在字符串上运行 for 循环 len 次。

更多参考：[http ://cr.yp.to/lib/stralloc.html](http://cr.yp.to/lib/stralloc.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-18T06:58:19.810

在 stralloc \0 也是一个有效的内容，所以不要尝试通过 printf 打印数据

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-21T06:25:24.247

stralloc_0 将终止 Z 之后的其余内容。但是当你想打印时，打印到 str.len。

# wpf - 绑定到 DataGrid 中的列仅在换行后发生

> ID：14930956
> 
> 赞同：0
> 
> 时间：2013-02-18T06:55:09.850
> 
> 标签：wpf, mvvm, binding, datagrid

我有一个`WPF DataGrid`他的列绑定到位于 ViewModel 上的 ObservableCollection 中的变量，

这是代码：

```
 <DataGrid  SelectedIndex="{Binding SelectedXIndex,Mode=TwoWay}" DataContext="{Binding XViewModel}" ItemsSource="{Binding XList}" AutoGenerateColumns="False">
   <DataGrid.Columns>
        ...
      <DataGridTextColumn Header="{x:Static p:Resources.Name}" Binding="{Binding Name}"></DataGridTextColumn>
    </DataGrid.Columns>
</DataGrid> 
```

视图模型：

```
XList= ObservableCollection<X>

Class X = (Name- Implement notify property changed) 
```

当我编辑一列时，视图模型的更改仅通过换行符接收（而不是离开编辑状态） 为什么会发生这种情况？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T07:08:42.493

我找到了解决方案，代码如下：

```
 <DataGridTextColumn Header="{x:Static p:Resources.Name}" Binding="{Binding Name,UpdateSourceTrigger=LostFocus}"></DataGridTextColumn> 
```

# c# - GetProperty BindingFlags.IgnoreCase 在 c# 中没有公共和实例就无法工作

> ID：14930957
> 
> 赞同：15
> 
> 时间：2013-02-18T06:55:16.443
> 
> 标签：c#, reflection

```
 Type t = typeof(T);
  t.GetProperty("Company") 
```

如果我编写下面的代码，它将给出 null

```
 Type t = typeof(T);
t.GetProperty("company", BindingFlags.IgnoreCase) 
```

与此同时，如果我写这个工作正常。为什么会这样？

```
Type t = typeof(T);
t.GetProperty("company", BindingFlags.IgnoreCase|BindingFlags.Public | BindingFlags.Instance) 
```

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2013-02-18T06:59:05.120

*没有*有效的重载`BindingFlags`默认为`BindingFlags.Public | BindingFlags.Static | BindingFlags.Instance`. 这就是它在您的第一个片段中找到它的原因。

如果您*确实*指定 a `BindingFlags`，则必须指定*所有*相关标志 - 其中包括表示您是否要查看公共成员、是否要查看非公共成员、是否要查看实例成员以及是否要查看的标志查看静态成员。

当您*仅*指定`BindingFlags.IgnoreCase`时，您还没有说要查看其中任何一个，因此它不会找到任何东西。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-02-18T06:59:06.800

根据设计， [Type.GetProperty](http://msdn.microsoft.com/en-us/library/zy0d4103.aspx)要求您至少指定静态或实例：

> •您必须指定 BindingFlags.Instance 或 BindingFlags.Static 才能获得回报。

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2013-02-18T07:02:02.913

[`GetProperty(string name)`](http://msdn.microsoft.com/en-us/library/kz0a8sxy.aspx) **搜索具有指定名称的公共属性**（根据[MSDN](http://msdn.microsoft.com/en-us/library/kz0a8sxy.aspx)），但**搜索指定的属性，**完全按照您指定的方式使用指定的绑定约束。[`GetProperty(string, BindingFlags)`](http://msdn.microsoft.com/en-us/library/zy0d4103.aspx)

 **当您说`BindingFlags.IgnoreCase`时，它仅适用于 ，仅此`BindingFlag`而已。根据[docs](http://msdn.microsoft.com/en-us/library/zy0d4103.aspx)，您必须指定`BindingFlags.Instance`or`BindingFlags.Static`才能获得回报。**

# javascript - 如何通过单击第一个 div 值在第二个 div 中显示一个 div 值

> ID：14930958
> 
> 赞同：2
> 
> 时间：2013-02-18T06:55:23.647
> 
> 标签：javascript, html, ajax

这是我的html代码：

```
<html>
</head>
<body>
       <div id="link">
       <a href="http://www.google.com">google</a>
       </div>
       <div id="result"></div>
</body>
</html>
</html> 
```

我想输出类似这样的东西
点击谷歌然后它在那里显示导致其他div

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T07:17:15.527

试试下面的javascript代码

```
var el=document.getElementById("result");
el.innerHTML="<iframe src=\'http://www.google.com\'></iframe>"; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T07:12:32.440

试试看... [Google Web Search API](https://developers.google.com/web-search/docs/)

```

```
<script src="https://www.google.com/jsapi"
        type="text/javascript"></script>
    <script language="Javascript" type="text/javascript">

    google.load('search', '1');

    $('a').live('click',function OnLoad() {
      // Create a search control
      var searchControl = new google.search.SearchControl();

      // Add in a full set of searchers
      var localSearch = new google.search.LocalSearch();
      searchControl.addSearcher(localSearch);
      searchControl.addSearcher(new google.search.WebSearch());
      searchControl.addSearcher(new google.search.VideoSearch());
      searchControl.addSearcher(new google.search.BlogSearch());
      searchControl.addSearcher(new google.search.NewsSearch());
      searchControl.addSearcher(new google.search.ImageSearch());
      searchControl.addSearcher(new google.search.BookSearch());
      searchControl.addSearcher(new google.search.PatentSearch());

      // Set the Local Search center point
      localSearch.setCenterPoint("New York, NY");

      // tell the searcher to draw itself and tell it where to attach
      searchControl.draw(document.getElementById("searchcontrol"));

      // execute an inital search
      searchControl.execute("VW GTI");
    }
    google.setOnLoadCallback(OnLoad);

    </script> 
```

            回答 #3

赞同：0

时间：2013-02-18T07:16:00.693

最好的方法是制作 2 个不同的网页（您的初始页面和您的结果），然后将它们放入 iframe 中。你可以在这里看到一个演示：[链接](http://brettcass.com/demo/iframe1/)

            回答 #4

赞同：0

时间：2013-02-18T09:46:28.203

试试这个它的工作......

首先你创建一个 PHP 文件：-

```
<?php
$ch = curl_init($_POST['action']);
curl_setopt($ch, CURLOPT_POST, FALSE);
//curl_setopt($ch, CURLOPT_URL, $r->event_url);
curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, 0);
curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, 0);
curl_setopt($ch, CURLOPT_HEADER, 0);
curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
$html = curl_exec($ch);
curl_close($ch);
echo $html;
?> 
```

1.  javascript代码：-

    `function result(url)
    {
    $.ajax({ url: 'one.php',

             data: {action: url},

             type: 'post',

             success: function(output) {

                          $('#result').html(output);

                      }

    });

    }` 

     3.code for your html file:- 

```
 <body>
       <div id="link">
         <a href="javascript:void(0)" onclick="result('https://www.google.co.in/')">google</a>
       </div>
        <div id="result" height="200" width="200"></div>
  </body> 
```

```

# oracle - 默认值中的格式化 SysDate

> ID：14930960
> 
> 赞同：1
> 
> 时间：2013-02-18T06:55:33.000
> 
> 标签：oracle, database-design, time

在 Oracle 中，（与 pl-sql 开发人员一起）如何在列中使用格式化的默认值？（像这样： to_char(sysdate, 'HH:MM:SS') ）

我想创建这个社区>>

名称：f1

类型：日期

默认值：to_char(sysdate, 'HH:MM:SS')

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-18T07:04:34.580

Oracle 没有仅 TIME 列。即使您将列或变量设置为 HH24:MI:SS 它仍然会有一个日期元素。

仅存储时间的问题在于，如果没有日期，它很少有用。那么为什么不将日期时间存储在单个列中呢？

但是，如果您真的，真的，真的想要时间将“午夜后的秒数”存储为一个数字：

```
f1 number(5,0) default to_number(to_char(sysdate, 'sssss')) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-18T07:03:43.333

日期类型值不依赖于格式。
只有将日期转换为字符串时，才会涉及格式化。
您可以创建格式化的字符串值列：

```
create table t (
  id int,
  f1 varchar2(20) default to_char(sysdate, 'HH24:MI:SS')
); 
```

[SqlFiddle](http://www.sqlfiddle.com/#!4/db0f6/1)

# php - while 循环中的 strpos() 永远不会结束

> ID：14930965
> 
> 赞同：4
> 
> 时间：2013-02-18T06:56:07.040
> 
> 标签：php, while-loop, strpos

有一根绳子，

> $string = 'Foo, Bar, Test,';

**我要做的就是计算字符串中逗号的数量。**

但是一切都会导致无限的while循环。

所以，我试过#1：

$计数 = 0;

```
while($pos = strpos($string, ',') !== FALSE){
    $count++;
    // Never ends
} 
```

还有#2，

```
while(true){
  if ( strpos($string, ',') !== FALSE ){
     $count++;
  } else {
    break;
  }
} 
```

**他们都永远不会结束。问题出在哪里？**

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-18T06:58:22.340

你可以使用`substr_count()`：

```
substr_count($string, ','); 
```

在您的代码中，`strpos()`需要第三个参数才能从特定偏移量开始搜索，例如：

```
strpos($string, ',', 12); // start searching from index 12 
```

它不像迭代器那样工作。像这样的东西会起作用：

```
$start = 0;
while (($pos = strpos($string, ',', $start)) !== FALSE) {
  $count++;
  $start = $pos + 1;
} 
```

**更新**

如果你想得到真正的花哨：

```
class IndexOfIterator implements Iterator
{
  private $haystack;
  private $needle;

  private $start;
  private $pos;
  private $len;
  private $key;

  public function __construct($haystack, $needle, $start = 0)
  {
    $this->haystack = $haystack;
    $this->needle = $needle;
    $this->start = $start;
  }

  public function rewind()
  {
    $this->search($this->start);
    $this->key = 0;
  }

  public function valid()
  {
    return $this->pos !== false;
  }

  public function next()
  {
    $this->search($this->pos + 1);
    ++$this->key;
  }

  public function current()
  {
    return $this->pos;
  }

  public function key()
  {
    return $this->key;
  }

  private function search($pos)
  {
    $this->pos = strpos($this->haystack, $this->needle, $pos);
  }
}

foreach (new IndexOfIterator($string, ',') as $match) {
  var_dump($match);
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-18T06:59:55.103

[`strpos()`](http://www.php.net/manual/en/function.strpos.php)返回 的第一次出现`$needle`，因此除非您指定不同的`$offset`，否则您将始终得到相同的结果，因此是无限循环。

如果你坚持使用`strpos()`，试试这个：

```
$pos=0;
while(($pos = strpos($string, ',',$pos)) !== FALSE){
    $count++;
    $pos++;
    // This ends
} 
```

当然，您可以使用它[`substr_count()`](http://www.php.net/manual/en/function.substr-count.php)来使事情变得更容易。

**编辑**：

[现场演示](http://3v4l.org/LKlCd)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-18T06:58:27.857

试试这个 ：

```
$text = 'Foo, Bar, Test,';
echo substr_count($text, ','); 
```

参考： http: [//php.net/manual/en/function.substr-count.php](http://php.net/manual/en/function.substr-count.php)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-11-14T13:02:38.393

或者如果 substr_count 不合适，试试这个：

```
$pos = -1;
$count=0;
while( $pos = strpos($in, ',', $pos+1) !== FALSE){
     $count++;
     } 
```

我没有测试你是否绝对需要！==FALSE。如果您使用 mb_strpos ，则不会。

# css - 使用 css 为 Android 输入创建类似 Holo 的主题

> ID：14930979
> 
> 赞同：2
> 
> 时间：2013-02-18T06:56:48.860
> 
> 标签：css

有没有办法获得这种类型的输入：

[![全息主题](../Images/be29f8ab1e3a8721a4c472c9fc247240.png)](https://i.stack.imgur.com/vn0CW.png)
[（来源：[blogspot.com](http://1.bp.blogspot.com/-Mi2BW-8T8eY/TwNpdVemR_I/AAAAAAAABAc/-oOTaZ5M4_A/s400/Screenshot_2011-11-17-22-23-18.png)）]

在不使用图像的情况下在 css 中模仿？

我已经尝试创建一个 css 三角形，但我无法使用它使它在那里工作：[http](http://css-tricks.com/snippets/css/css-triangle/) ://css-tricks.com/snippets/css/css-triangle/我想到的唯一其他解决方案是图像。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-18T07:44:43.800

你可以以某种方式模仿它：

[http://jsfiddle.net/6Vhcw/](http://jsfiddle.net/6Vhcw/)

```
<span class="holo"><input type="text" /></span> 
```

```
span.holo > input[type='text'] {
    border:none;
    outline:none;
    padding:0px;
}
span.holo {
    border-bottom:solid 1px blue;
    position:relative;
    overflow:hidden;
    padding:1px 0px;
}
span.holo:after,
span.holo::after {
    content:' ';
    overflow:hidden;
    width:10px;
    height:10px;
    display:inline-block;
    position:absolute;
    left:99%;
    bottom:-1px;
    -moz-box-sizing:border-box;
    box-sizing:border-box;
    border:solid 5px transparent;
    border-bottom-color:blue;
    border-right-color:blue;
} 
```

不过，仅在 Chrome 桌面和 Palemoon（Firefox 桌面分支）上进行了测试。

奇怪的是，如果使用（在 Chrome 桌面上）`left:99%`会有一个像素边距。`left:100%`如果您不介意使用`calc()`，可以添加

```
left:99%;
left:-webkit-calc(100% - 1px);
left:-moz-calc(100% - 1px);
left:calc(100% - 1px); 
```

[http://jsfiddle.net/6Vhcw/1/](http://jsfiddle.net/6Vhcw/1/)

**编辑**：

刚刚意识到我可以使用`padding`将三角形“包含”到`span`：

[http://jsfiddle.net/6Vhcw/2/](http://jsfiddle.net/6Vhcw/2/)

```
span.holo {
    padding-right:10px;
}
span.holo:after,
span.holo::after {
    right:0px;
} 
```

**编辑**#2：

微调以“修复”怪异`bottom:-1px`：

[http://jsfiddle.net/6Vhcw/3/](http://jsfiddle.net/6Vhcw/3/)

```
span.holo {
    -moz-box-sizing:border-box;
    box-sizing:border-box;
}
span.holo:after,
span.holo::after {
    bottom:0px;
} 
```

# android - 扩展 Android View 类以添加阴影

> ID：14930984
> 
> 赞同：11
> 
> 时间：2013-02-18T06:57:06.973
> 
> 标签：android, android-layout, inheritance, view, android-view

我想扩展`LinearLayout`，以便在绘制布局时在其下方添加一个阴影。我已经尝试过覆盖该`onDraw`方法，但我有点迷茫。对此甚至图书馆建议的任何帮助将不胜感激！

这是我试图实现的阴影视图的示例。我不相信我可以在这里使用九个补丁，因为我需要视图的内容在白框中。这意味着我需要知道边界和 PNG 末端之间的距离。但是我相信不同的屏幕密度意味着这个距离总是相同的 PX 而不是相同的 DP。

所以要清楚，我需要一种方法来扩展 View 类，以便在将其添加到布局时在其下绘制阴影。请不要使用 XML 或 9Patch 解决方案。

![在此处输入图像描述](../Images/8218732d03067305320a935b3819a669.png)

谢谢

杰克

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-02-20T22:32:44.840

[我同意您对问题的评论：程序化阴影效果是一个糟糕的选择，您可以使用此处](https://stackoverflow.com/a/14982540/302645)所述的简单 9patch（或其中的一组）来实现相同的效果。

顺便说一句，我太好奇了，我下班后破解了一个解决方案。

**提供的代码是一个测试，应该是一个简单的概念证明**（所以请不要投反对票）。显示的一些操作**非常昂贵**，并且可能**严重影响性能**（周围有很多例子，看[这里](https://stackoverflow.com/questions/7523622/setshadowlayer-causes-slow-draw-time-in-gridview)，[这里](https://stackoverflow.com/questions/8749906/android-canvas-setshadowlayer-greatly-decreases-performance)得到一个想法）。对于偶尔显示的组件，它应该是***最后的解决方案。***

```
public class BalloonView extends TextView {

  protected NinePatchDrawable bg;
  protected Paint paint;
  protected Rect padding = new Rect();
  protected Bitmap bmp;

  public BalloonView(Context context) {
    super(context);
init();
  }

  public BalloonView(Context context, AttributeSet attrs) {
    super(context, attrs);
init();
  }

  public BalloonView(Context context, AttributeSet attrs, int defStyle) {
    super(context, attrs, defStyle);
    init();
  }

  @SuppressLint("NewApi")
  protected void init() {
    // decode the 9patch drawable
    bg = (NinePatchDrawable) getResources().getDrawable(R.drawable.balloon);

    // get paddings from the 9patch and apply them to the View
    bg.getPadding(padding);
    setPadding(padding.left, padding.top, padding.right, padding.bottom);

    // prepare the Paint to use below
    paint = new Paint();
    paint.setAntiAlias(true);
    paint.setColor(Color.rgb(255,255,255));
    paint.setStyle(Style.FILL);

    // this check is needed in order to get this code
    // working if target SDK>=11
    if( Build.VERSION.SDK_INT >= 11 )
      setLayerType(View.LAYER_TYPE_SOFTWARE, paint);

    // set the shadowLayer
    paint.setShadowLayer(
      padding.left * .2f, // radius
      0f, // blurX
      padding.left * .1f, // blurY
      Color.argb(128, 0, 0, 0) // shadow color
    );
  }

  @Override
  protected void onDraw(Canvas canvas) {
    int w = getMeasuredWidth();
    int h = getMeasuredHeight();

    // set 9patch bounds according to view measurement
    // NOTE: if not set, the drawable will not be drawn
    bg.setBounds(0, 0, w, h);

    // this code looks expensive: let's do once
    if( bmp == null ) {

      // it seems like shadowLayer doesn't take into account
      // alpha channel in ARGB_8888 sources...
      bmp = Bitmap.createBitmap(w, h, Config.ARGB_8888);

      // draw the given 9patch on the brand new bitmap
      Canvas tmp = new Canvas(bmp);
      bg.draw(tmp);

      // extract only the alpha channel
      bmp = bmp.extractAlpha();
    }

    // this "alpha mask" has the same shape of the starting 9patch,
    // but filled in white and **with the dropshadow**!!!!
    canvas.drawBitmap(bmp, 0, 0, paint);

    // let's paint the 9patch over...
    bg.draw(canvas);

    super.onDraw(canvas);
  }
} 
```

首先，为了获得程序化投影，您必须`Paint.setShadowLayer(...)`像[这里](https://stackoverflow.com/questions/3693234/custom-imageview-with-drop-shadow)所述那样处理。基本上，您应该为用于在自定义视图上绘制的对象定义一个***阴影层。***不幸的是，您不能使用对象来绘制 NinePatchDrawable，因此您需要将其转换为位图（第一次 hack）。此外，阴影层似乎无法与 ARGB_8888 图像一起正常工作，因此我发现为了获得适当阴影的唯一方法是在其下方绘制给定 NinePatchDrawable（第二次 hack）的 alpha 蒙版。`Paint``Canvas``Paint`

这是几个截图（在 Android 2.3.3@mdpi 和 4.2.2@xhdpi 上测试） ![在此处输入图像描述](../Images/74cdef88f5f7e6860e16b27c006fb63a.png) ![在此处输入图像描述](../Images/0514008c08ab05bc3cc345ee55734d0e.png)

**编辑：**为了彻底起见，我附上了测试中使用的 9patch（放置在`res/drawable/mdpi`） ![在此处输入图像描述](../Images/5006261249e41206757a5f9f528024a8.png)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-26T07:33:23.337

这是将阴影投射到布局、按钮等任何事物的最简单方法。 background.xml

```
 <?xml version="1.0" encoding="utf-8"?>
    <layer-list xmlns:android="http://schemas.android.com/apk/res/android">
        <item >
            <shape 
                android:shape="rectangle">
            <solid android:color="@android:color/darker_gray" />
            <corners android:radius="5dp"/>
            </shape>
        </item>
        <item android:right="1dp" android:left="1dp" android:bottom="2dp">
            <shape 
                android:shape="rectangle">
            <solid android:color="@android:color/white"/>
            <corners android:radius="5dp"/>
            </shape>
        </item>
    </layer-list> 
```

在你的 main.xml

```
<LineaLayout
android:layout_width="wrap_content"
android:layout_height="wrap_content"
android:background="@drawable/background"
/> 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-02-18T07:19:14.547

试试这个技巧。

**container_dropshadow.xml**

`

```
 <!-- Drop Shadow Stack -->
 <item>
    <shape>
        <padding android:top="1dp" android:right="1dp" android:bottom="1dp" android:left="1dp" />
        <solid android:color="#00CCCCCC" />
    </shape>
</item>
 <item>
    <shape>
        <padding android:top="1dp" android:right="1dp" android:bottom="1dp" android:left="1dp" />
        <solid android:color="#10CCCCCC" />
    </shape>
</item>
 <item>
    <shape>
        <padding android:top="1dp" android:right="1dp" android:bottom="1dp" android:left="1dp" />
        <solid android:color="#20CCCCCC" />
    </shape>
</item>
 <item>
    <shape>
        <padding android:top="1dp" android:right="1dp" android:bottom="1dp" android:left="1dp" />
        <solid android:color="#30CCCCCC" />
    </shape>
</item>
<item>
    <shape>
        <padding android:top="1dp" android:right="1dp" android:bottom="1dp" android:left="1dp" />
        <solid android:color="#50CCCCCC" />
    </shape>
</item>

<!-- Background -->
<item>
<shape>
        <solid android:color="@color/white" />
    <corners android:radius="3dp" />
</shape>
</item> 
```

然后你可以将它作为背景应用到 XML 布局中

线性布局 android:background="@drawable/container_dropshadow"

`

# ffmpeg - 从麦克风捕获的 FFmpeg 音频无法正常工作

> ID：14930986
> 
> 赞同：1
> 
> 时间：2013-02-18T06:57:08.940
> 
> 标签：ffmpeg, video-capture

我正在使用 ffmpeg-20130205-git-c2dd5a1-win64-static 版本，我正在尝试捕获音频和视频并将其发送到 FMS 服务器，我最初尝试使用以下代码

```
ffmpeg -r 25 -f dshow -i video="Logitech HD Pro Webcam C920":audio="Rear Input (SoundMAX Integrated Digital High Definition Audio)" -vcodec libx264 -b:v 600k -b:a 128k -f flv rtmp://127.0.0.1/live/mystream 
```

它通过以下错误

```
[dshow @ 00000000023f8920] Could not find audio device.
video=Logitech HD Pro Webcam C920:audio=SoundMAX Integrated Digital High Definit
ion Audio): Input/output error 
```

然后我修改了代码如下它的工作正常

```
ffmpeg -f dshow -i video="Logitech HD Pro Webcam C920":audio="Rear Input (SoundMAX Integrated" -b:v 600k -acodec libmp3lame -b:a 128k -f flv rtmp://127.0.0.1/live/mystream 
```

我无法理解为什么它不接受音频驱动程序的全名，如果我将 libx264 与 Logitech HD Pro Webcam C920 一起使用，它不提供视频，视频是空白的（注意：在使用 iball c2.0 相机时，我我能够得到视频）

我的代码有什么问题？如何以 libx264 格式发布？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-05T04:57:16.373

```
ffmpeg -f dshow -i video="Logitech HD Pro Webcam C920":audio="Rear Input (SoundMAX Integrated" -b:v 600k -acodec libmp3lame -b:a 128k -pix_fmt yuv420p -f flv rtmp://127.0.0.1/live/mystream 
```

添加 -pix_fmt yuv420p 后问题解决

# r - R包的扩展

> ID：14930988
> 
> 赞同：0
> 
> 时间：2013-02-18T06:57:23.147
> 
> 标签：r

假设我想在 R 中加载一些数据进行分析。我们以[这个例子为例](http://robjhyndman.com/tsdldata/data/nybirths.dat)。

我已经使用扩展名将这个文件保存在我的桌面上`.dat`，`.rdat`然后使用函数`load`。然而，两者都没有奏效。它找不到数据。

你能帮我弄清楚该怎么做吗？

我是 R 语言的新手。这就是为什么我不明白为什么它不起作用。

我是否也应该使用与目录有关的东西 - 我保存文件的位置还是什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-18T07:01:10.093

尝试：

```
X <- read.table("nybirths.dat") 
```

甚至：

```
X <- read.table("http://robjhyndman.com/tsdldata/data/nybirths.dat") 
```

而且，顺便说一句，请查看`save`and `load`with `?save`and的文档`?load`。

# objective-c - 仅在所有其他窗口之上的目标 C 后台应用程序 NSAlert 消息

> ID：14930999
> 
> 赞同：0
> 
> 时间：2013-02-18T06:57:58.673
> 
> 标签：objective-c, macos, cocoa, nsalert

我有一个客观的 C 背景应用程序。在某个阶段，我必须弹出一条 NSAlert 消息。警报消息显示正确，但我必须最小化这么多打开的窗口（应用程序文件夹或任何其他文件夹窗口）和其他应用程序窗口查看 NSAlert 窗口。

有什么办法可以提出来。我必须支持 10.5+ 。我尝试了以下方法。但没有任何效果 1\. [[NSApplication sharedApplication] activateIgnoreingOtherApps:YES]; 2\. SetFrontProcessWithOptions(&myPSN,0); 3.SetFrontProcess(&myPSN)

请帮忙 。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-18T07:38:25.867

您可以使用：

```
[myWindow setLevel:NSFloatingWindowLevel]; 
```

这会将 myWindow 放在所有其他窗口的顶部，即使在所有空间中！！！！