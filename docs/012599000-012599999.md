# StackOverflow 问答 12599000-12599999

# android - 那么如何在给定的布局中添加自定义垂直滚动条？

> ID：12599002
> 
> 赞同：0
> 
> 时间：2012-09-26T09:49:24.930
> 
> 标签：android, android-layout, scrollbar

好吧，我是新的android，必须设计这个页面

[http://cubixshade.com/images/list.jpg](http://cubixshade.com/images/list.jpg)

我应该用什么？tablelayout 会是最好的吗？相对布局？哪个控制器可以与它一起使用？

以及滚动条在 android 中是如何工作的？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-26T09:55:55.303

使顶层布局成为 ScrollView。

```
 <ScrollView xmlns:android="http://schemas.android.com/apk/res/android"
  android:layout_width="fill_parent"
  android:layout_height="fill_parent">

 </ScrollView> 
```

# wcf - 使用 NUnit 进行 WCF 调试

> ID：12599021
> 
> 赞同：1
> 
> 时间：2012-09-26T09:50:18.067
> 
> 标签：wcf, nunit, visual-studio-2012

问题：如何调试 WCF 服务 - 我无法在服务内打断点

使用 VS2012 和 NUnit/TestDriven

只要我在 WcfHostApplication 上的 Ctrl F5 之前启动了服务，我就可以很好地运行我的测试。我在 Visual Studio 中托管。

尝试将 Web.Config 放入 WcfHostConsoleApplication 并将调试设置为 true。 ![在此处输入图像描述](../Images/ab4b65091c28828167a8c8b0f37f1c79.png)

这个示例应用程序来自[这里](http://www.youtube.com/watch?gl=GB&v=Dn7ollDhbe4)

```
 //hack to get working as we're not using wsdl yet...mimicking what happens in wsdl
[ServiceContract(Namespace = "http://www.programgood.net/examples/2012/09/wcf")]
public interface IHelloWcfService
{
    [OperationContract]
    string SayHello(string msg);
}

namespace HelloWcfTests
{
    [TestFixture]
    public class HelloWcfServiceLibrary_Tests
    {
        [Test]
        public void SayHello_GivenHello_ShouldReturn()
        {
            //in reality add Service Ref.. using another special interface called IMetaDataExchange
            IHelloWcfService proxy = ChannelFactory<IHelloWcfService>.CreateChannel(
                new NetTcpBinding(),
                new EndpointAddress("net.tcp://localhost:9000/HelloWcfEndPoint"));

            string msg = "hello";
            string result = proxy.SayHello(msg);
            StringAssert.StartsWith("You entered: hello", result);
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-26T10:09:09.570

不要使用 Ctrl+F5 启动您的服务，因为它会在没有调试的情况下启动您的服务。

用 F5 启动它。

![调试](../Images/effad9a76145d6268c4158bcfd8b4b63.png)

# linq - LINQ 表达式中的循环

> ID：12599025
> 
> 赞同：0
> 
> 时间：2012-09-26T09:50:34.477
> 
> 标签：linq

> **可能重复：**
> [在 LINQ 表达式异常中检测到循环](https://stackoverflow.com/questions/8658278/a-cycle-was-detected-in-a-linq-expression-exception)

我有一个小问题。我有 2 个 IQueryable（A 和 B）。我想找到补数。为此，我使用除了：`A.Except(B)`

这将为我提供 A 中不在 B 中的所有数字。

这行得通。我的问题是我想这样做`A = A.Except(B)` 但这给我留下了一个错误：

```
A cycle was detected in a LINQ expression exception 
```

任何人都对我如何解决这个问题提出了建议。我不能只创建一个新的 IQueryable C 来保存 A.Except(B) 结果。因为我在以后的代码中需要 A repediatly。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-26T10:00:25.940

只需创建一个用于存储结果的中间列表。

```
var C = A.Except(B).ToArray(); 
```

`C`将保持您想要的结果，而`A`和`B`将保持不变。

# cordova - Phonegap 2.1 iOS：读取应用程序www文件夹中的文件

> ID：12599027
> 
> 赞同：2
> 
> 时间：2012-09-26T09:50:40.280
> 
> 标签：cordova, jquery-mobile

我尝试使用 Phonegap`getFile`功能在我的 iOS 应用程序（phonegap 2.1 + jquerymobile）中读取文件，但我总是有这个错误：

```
Error in error callback: File3 = TypeError: 'undefined' is not an object 
```

我的文件在`www/data/datajson.txt`其中并包含一些 json 数据。

**我的代码：**

```
document.addEventListener("deviceready", onDeviceReady, false);

function onDeviceReady() {
    window.requestFileSystem(LocalFileSystem.PERSISTENT, 0, gotFS, fail);
}

function gotFS(fileSystem) {
    //get www folder path
    var path = window.location.pathname;
    path = path.substr( path, path.length - 10 );
    var pathwww = path;
    console.log(pathwww); /* /var/mobile/Applications/{ID}/{APPNAME}.app/www/ */
    fileSystem.root.getFile("file//"+pathwww+"data/datajson.txt", null, gotFileEntry, fail);
    // result : Error in error callback: File3 = TypeError: 'undefined' is not an object
    pathwww.getFile("file///data/datajson.txt", null, gotFileEntry, fail);
    // result : Error in success callback: File2 = TypeError: 'undefined' is not a function
}

function gotFileEntry(fileEntry) {
    fileEntry.file(gotFile, fail);
}

function gotFile(file){
    readDataUrl(file);
    readAsText(file);
}

function readDataUrl(file) {
    var reader = new FileReader();
    reader.onloadend = function(evt) {
        console.log("Read as data URL");
        console.log(evt.target.result);
    };
    reader.readAsDataURL(file);
}

function readAsText(file) {
    var reader = new FileReader();
    reader.onloadend = function(evt) {
        console.log("Read as text");
        console.log(evt.target.result);
    };
    reader.readAsText(file);
}

function fail(evt) {
    console.log(evt.target.error.code);
} 
```

我不明白为什么我不能在我的`www`文件夹中导航并阅读我的`datajson.txt`文件。

谢谢你的帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-26T11:22:15.180

如果你想从你的应用程序中获取一个文本文件，你可以通过一个 'ajax' 调用来获取它

```
 $.ajax({
        url : 'data/datajson.txt',
        type : "get",
        dataType : "json",
        success : function(data, textStatus, jqXHR) {
            console.log('data loaded ' + JSON.stringify(data));
        },
        error : function(jqXHR, textStatus, errorThrown) {
            console.log('error loading data :' + errorThrown);
        }
    }); 
```

**编辑**

如果要写入文件，则不能将它们写入与您的应用程序相同的位置。您需要将它们写入应用程序的 Document 文件夹。这是在安装时创建的，因此您不能将文件放在 XCode 中。您必须在安装后复制文件。

当您调用时，您可以访问应用程序的 Document 文件夹`window.requestFileSystem`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-26T10:20:16.763

假设您的 HTML 文件在您的文件夹`www`中，您可以尝试以下操作：

```
document.addEventListener("deviceready", onDeviceReady, false);

function onDeviceReady() {
    window.requestFileSystem(LocalFileSystem.PERSISTENT, 0, gotFS, fail);
}

function gotFS(fileSystem) {
    fileSystem.root.getDirectory("data", {create: true}).getFile("datajson.txt", null, gotFileEntry, fail);
}

function gotFileEntry(fileEntry) {
    fileEntry.file(gotFile, fail);
}

function gotFile(file){
    readDataUrl(file);
    readAsText(file);
}

function readDataUrl(file) {
    var reader = new FileReader();
    reader.onloadend = function(evt) {
        console.log("Read as data URL");
        console.log(evt.target.result);
    };
    reader.readAsDataURL(file);
}

function readAsText(file) {
    var reader = new FileReader();
    reader.onloadend = function(evt) {
        console.log("Read as text");
        console.log(evt.target.result);
    };
    reader.readAsText(file);
}

function fail(evt) {
    console.log(evt.target.error.code);
} 
```

试一试，让我知道这是否可行。

# python - python从字典写入文件

> ID：12599033
> 
> 赞同：2
> 
> 时间：2012-09-26T09:51:13.400
> 
> 标签：python, python-3.x

我是 Python 新手，我知道那段代码非常简单并且缺少一些语句，实际上我需要从字典中写入文件。此代码运行但仅将 dict 中的最后一项写入文件，即`"heba6677..."`. 谢谢你的帮助。

```
ab={'engy':'011199887765',
    'wafa2':'87878857578',
    'heba':'6677553636'}
for name, mobile in ab.items():
    print ('Contact %s at %s' % (name, mobile))
    f=open('D:\glo.txt','w')
    f.write(name)
    f.write(mobile)
f.close() 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-26T10:16:53.607

如果您想继续向文件中添加行，请使用该`a`模式打开它，如[文档](http://docs.python.org/library/functions.html#open)中所述：

```
for (name, mobile) in ab.iteritems():
    with open(...., "a") as f:
        print ('Contact %s at %s' % (name, mobile))
        f.write(name)
        f.write(mobile) 
```

使用`w`as 模式意味着`writing`：您的文件将被覆盖。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-26T09:55:21.950

每次以`w`模式打开文件时，其先前的内容都会被删除。所以你应该只做一次，在循环之前。最重要的是，使用以下`with`语句：

```
ab={'engy':'011199887765',
    'wafa2':'87878857578',
    'heba':'6677553636'}
with open('D:\glo.txt','w') as f:
    for name, mobile in ab.items():
        print ('Contact %s at %s' % (name, mobile))
        f.write(lis)
        f.write(mobile) 
```

另外，我不知道是什么`lis`，但我会假设它在正确的位置。请注意，您的代码仅将`lis`数字写入文件，而不是名称。`lis`在循环中不会改变，所以每次迭代都一样。

# url - 带有文件夹的友好 URL 结构

> ID：12599035
> 
> 赞同：0
> 
> 时间：2012-09-26T09:51:19.253
> 
> 标签：url, seo, structure, building

我目前正在为保险网站构建 URL 结构。我希望有人能给我一些建议吗？我正在努力使其尽可能地对 SEO 友好！

例如，对于“旅行保险”，URL 链接是；

[http://www.example.com/travel_insurance/travel.html](http://www.example.com) **_**

然后是报价单；

[http://www.example.com/travel_insurance/quote/get_a_quote.html](http://www.example.com) **_**

那会是一个理想的结构吗？

任何建议/意见表示赞赏！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-26T15:09:42.860

Being an seo specialist, it is best practice to keep your URL's as short and descriptive as possible. If you want the actual page to rank online then add the keywords you wish to rank for in the URL. If you do not want the page to rank it won't matter much. Too many characters in the URL will not show up fully in search engine results snippets and can cuase a loss of potential clicks thru to your web page.

It is also best procatices to use a - Dash rather than _ underscore in your URL's.

I would go with:

[http://www.website.com/travel-insurance.html](http://www.website.com/travel-insurance.html)

[http://www.website.com/travel-insurance/get-a-quote.html](http://www.website.com/travel-insurance/get-a-quote.html)

Less folders, quicker path, easier to understand.

# c# - 在 mvc 3 中实现代码优先模型

> ID：12599036
> 
> 赞同：1
> 
> 时间：2012-09-26T09:51:27.853
> 
> 标签：c#, asp.net-mvc, ef-code-first

我正在尝试为我的简单博客站点使用代码优先模型，我习惯于首先使用数据库，但是一个有经验的人告诉我首先使用代码，但是我在实现这个时遇到了很多麻烦，即使是最简单的诸如将身份设置为键值，定义两个实体之间的关系，处理图像类型数据之类的事情。我确实想了解这种方法的内幕，我尝试了很多搜索，但没有得到所需的信息。有人可以帮我提供一些信息，例如从哪里开始，如何继续并获得代码优先模型的专业知识？

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-26T09:54:34.183

看看这个：[Entity Framework Code First to Database](http://msdn.microsoft.com/en-US/data/jj193542) on MSDN。

更好的是，本教程使用博客作为示例应用程序。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-26T09:57:16.863

有大量关于代码优先方法的教程。

可以从asp.net mvc官网入手：[http ://www.asp.net/mvc](http://www.asp.net/mvc)

这是另一个教程：[http](http://www.asp.net/mvc/tutorials/mvc-music-store/mvc-music-store-part-1) ://www.asp.net/mvc/tutorials/mvc-music-store/mvc-music-store-part-1 （代码优先方法）

你可以在这里找到很多项目：http: [//www.codeplex.com/](http://www.codeplex.com/)你只需要搜索

# zend-framework - Magento“无法发送标头；标头已发送”错误

> ID：12599037
> 
> 赞同：2
> 
> 时间：2012-09-26T09:51:36.543
> 
> 标签：zend-framework, magento

> **可能重复：**
> [PHP 已发送的标头](https://stackoverflow.com/questions/8028957/headers-already-sent-by-php)

我在 Magento 中有一个后端和前端错误，Stackoverflow 和 Google 上的其他帖子没有导致解决方案。

Magento 给出的错误：

```
Cannot send headers; headers already sent in /home/blackber/public_html/lib/aitpagecache/config.php, line 110
Trace:
#0 /home/blackber/public_html/lib/Zend/Controller/Response/Abstract.php(114): Zend_Controller_Response_Abstract->canSendHeaders(true)
#1 /home/blackber/public_html/app/code/core/Mage/Core/Model/App.php(1181): Zend_Controller_Response_Abstract->setHeader('Content-Type', 'text/html; char...')
#2 /home/blackber/public_html/app/code/core/Mage/Core/Controller/Varien/Front.php(80): Mage_Core_Model_App->getResponse()
#3 /home/blackber/public_html/app/code/core/Mage/Core/Model/Url/Rewrite.php(171): Mage_Core_Controller_Varien_Front->getResponse()
#4 /home/blackber/public_html/app/code/core/Mage/Core/Controller/Varien/Front.php(147): Mage_Core_Model_Url_Rewrite->rewrite()
#5 /home/blackber/public_html/app/Mage.php(459): Mage_Core_Controller_Varien_Front->dispatch()
#6 /home/blackber/public_html/index.php(114): Mage::run('bbunlock', 'website')
#7 {main} 
```

最近几天没有改变任何东西，目前有 2 家商店处于离线状态（相同的 Magento 安装）。

# sql - C# - 子实体的表结构

> ID：12599040
> 
> 赞同：1
> 
> 时间：2012-09-26T09:51:43.883
> 
> 标签：sql, database-design

抱歉，如果这听起来很菜鸟，这与继承类的数据库设计有关。

我目前有两种类型的用户在我的系统上注册，会员和员工。他们都拥有一些相同的财产（即姓名、出生日期、联系电话），同时拥有一些独特的财产供自己使用（即成员的会员编号，员工的工作人员职位）。目前，它们都在数据库中存储为 2 个不同的表，并且彼此没有关系。

我现在正在考虑创建一个名为 Person 的具有所有公共属性的实体，同时拥有一个名为 Member 的类和另一个都扩展系统中的 Person 类的 Staff。但是我在设计数据库时遇到问题。是否应该有一个名为 Person 的表具有 type 属性来表示人员的类型，或者我应该坚持现有的设计，其中 2 个表将它们分开？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-26T10:01:05.087

这取决于。

如果你不打算做多态查询，我会坚持你现在的设计。

这种设计在文献中被称为*“每个具体类的表”*

另一方面，如果您的大多数查询将像*“给我系统中的所有人员，无论他们是成员还是员工”*，您可能希望将它们全部放在一个名为 Person 的表中。

这种设计称为*“按类层次结构表”*

显然，这要求与继承类的属性对应的所有列在数据库中都必须为空。

如果这是不可接受的（我很难相信它会，但是......）并且为了完整起见，您最终可能会得到一个三类三表结构，这毫不奇怪称为*“每类表”*

这没有硬性规定，虽然我通常倾向于使用每个类层次结构中的表最有意义的系统，但对你来说可能是这样，也可能不是。

# java - JQuery无响应脚本错误

> ID：12599043
> 
> 赞同：0
> 
> 时间：2012-09-26T09:51:54.827
> 
> 标签：java, ajax, jquery, jquery-plugins

我有六个以上的功能，如下面的通过服务器将数据检索到 html 页面并更新 html，它会在查看网页时一直运行。我遇到的问题是一段时间后网页弹出警告，

***Firefox 中的警报弹出警告***

> 此页面上的脚本可能正忙，或者它可能已停止响应。您现在可以停止脚本，也可以继续查看脚本是否会完成。
> 
> 脚本：“http://../javax.faces.resource/jquery-1.7.2.js?ln=js:3983”

收到此警告后，网页功能无响应，是否有解决此问题的方法？是因为我的编码方式有问题吗？为什么它指向 jquery 库？

***代码：***

```
function myDatapoll(){

          $.ajax({

                  type : "GET",
                  url : '../jsonData/',
                  dataType : "json",
                  async : true,
                  cache : false,

                  success: function(data) {
                            if(data!=null){
                               if($("span[id='accBal-"+data.pID+"']").length>0){

                                   $("span[id='accBal-"+data.pID+"']").text(parseFloat(data.accBal).toFixed(2));
                               }else{
                                   $("#cash").html('<span id="accBal-'+data.pID+'">'+parseFloat(data.accBal).toFixed(2)+'</span>');
                               }
                           }
                       setTimeout('myDatapoll()',1000);
                  },
                  error : function() {

                  }
             });
      } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-26T10:42:48.897

试一试：把 a`setInterval`放在你的函数之外，而不是`setTimeout`:

```
setInterval('myDatapoll()',1000);

function myDatapoll(){
    //same as before but remove the setTimeout
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-26T11:05:41.833

在这种情况下不要使用 setInterval。使用 setInterval，myDatapoll() 每 1000 毫秒执行一次，无论请求是否完成。它只会增加麻烦。您实施的 setTimeout 方法是正确的方法。我不确定您为什么在 Firefox 中遇到该异常。

您确定数据类型吗？您正在请求一个 xhtml 文件并且数据类型设置为“json”？

# java - Java中垃圾收集的频率是多少？

> ID：12599044
> 
> 赞同：13
> 
> 时间：2012-09-26T09:52:01.360
> 
> 标签：java, garbage-collection

[Java HotSpot™ 虚拟机中的内存管理](http://www.oracle.com/technetwork/java/javase/memorymanagement-whitepaper-150215.pdf)文档的第 6 页包含以下段落：

> 年轻代收集相对频繁并且高效快速，因为年轻代空间通常很小并且可能包含许多不再引用的对象。
> 
> 在一定数量的年轻代集合中幸存下来的对象最终会被提升或永久保存到老年代。参见图 1。这一代通常比年轻代大，并且其占用增长更慢。因此，老年代收集很少，但需要更长的时间才能完成

有人可以在上面的陈述中定义“*频繁*”和“*不频繁”的含义吗？*我们是在说**微秒、毫秒、分钟、天**吗？

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-09-26T11:09:21.570

对此无法给出明确的答案。这实际上取决于很多因素，包括平台（JVM 版本、设置等）、应用程序和工作负载。

在一种极端情况下，应用程序可能永远不会触发垃圾收集器。它可能只是坐在那里什么都不做，或者它可能执行一个非常长的计算，其中在 JVM 初始化和应用程序启动之后没有创建任何对象。

在另一个极端，理论上有可能一个垃圾收集结束，另一个垃圾收集*在几纳秒内*开始。例如，如果您的应用程序处于从满堆死亡的最后阶段，或者如果它正在分配病态的大数组，则可能会发生这种情况。

所以：

> 我们是在说微秒、毫秒、分钟还是天？

可能是以上所有，但如果您在实践中观察前两个肯定会令人不安。

*表现良好*的应用程序不应过于频繁地运行 GC。如果您的应用程序每秒触发一次或两次以上的年轻空间收集，那么这可能会导致性能问题。过于频繁的“完整”收集更糟糕，因为它们的影响更大。但是，设计/实现不佳的应用程序表现出这样的行为当然是合理的。

* * *

还有一个问题是 GC 运行之间的间隔并不总是有意义的。例如，一些 HotSpot GC 实际上具有与正常应用程序线程同时运行的 GC 线程。如果您有足够的内核、足够的 RAM 和足够的内存总线带宽，那么持续运行的并发 GC*可能*不会明显影响应用程序性能。

术语注释：

*   严格来说，并发 GC 是 GC 可以与应用程序线程同时运行的一种。
*   严格来说，并行 GC 是 GC 本身使用多个线程的情况。
*   GC 可以是并发的而不是并行的，反之亦然。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-09-26T09:56:41.167

它是一个相对术语。年轻的收集可能每秒多次，最多几个小时。老年代收集可以每隔几秒钟收集一次，最多每天收集一次。在大多数系统中，您应该期望拥有比旧集合更多的年轻集合。

它极不可能是很多天。如果 GC 发生得太频繁，例如间隔 << 100 毫秒，你会得到一个`OutOfMemoryError: GC Overhead Exceeded`，因为 JVM 阻止了这种情况的发生。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-26T10:00:30.950

事实上，术语“频繁”、“不频繁”是相对的。事实上，时间安排并不是固定的。这取决于所讨论的系统。这取决于很多事情，例如：

*   您的堆大小和堆不同部分的设置（young、old gen、perm gen）
*   您的应用程序的内存行为。它创建了多少个对象，速度有多快？这些对象被引用了多长时间等？

如果您的应用程序是怪物内存吞噬者，那么 gc 会像它的生命一样运行。如果您的应用程序不需要太多的内存，那么 gc 将根据内存的使用间隔运行。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-10-29T23:05:29.390

TL DL：“频繁”和“不频繁”是相对术语，取决于内存分配率和堆大小。如果您想要一个精确的答案，您需要针对您的特定应用自行测量。

假设您的应用程序有两种模式，模式 1 分配内存并进行计算，模式 2 处于空闲状态。

如果模式 1 分配小于可用堆，则在完成之前不需要发生 gc。也许它使用的 RAM 太少，以至于它可以在不收集的情况下执行第二轮模式 1。然而，最终你会用完空闲堆，jvm 将执行“不频繁”的收集。

但是，如果模式 1 分配是年​​轻代堆的很大一部分或大于年轻代堆，则收集将更“频繁”地发生。在年轻代收集期间，存活的分配（想象整个模式1操作需要数据）将被提升到老代，给年轻代更多的空间。Young-gen 分配和收集现在可以继续。最终老代堆会用完，必须被收集，因此“很少”。

那么，频繁的频率是多少？这取决于分配率和堆大小。如果 jvm 经常碰到堆限制，它会经常收集。如果有很多堆（比如说100GB），那么jvm就不需要收集很长时间了。不利的一面是，当它最终进行收集时，可能需要很长时间才能释放 100GB，从而使 jvm 停止数秒（或数分钟！）。当前的 JVM 比这更智能，并且偶尔会强制收集（最好在模式 2 中）。使用并行收集器，如有必要，它可能会一直发生。

最终，频率取决于任务和堆，以及各种 vm 参数的设置方式。如果您想要一个精确的答案，您必须针对您的特定应用自行测量它们。

* * *

## 回答 #5

> 赞同：-2
> 
> 时间：2012-09-26T09:56:05.977

因为规范说“相对频繁”和不频繁（关于年轻代），我们无法以绝对单位估计频率，如微秒、毫秒、分钟或天

# javascript - 自动建议框，设置焦点

> ID：12599045
> 
> 赞同：0
> 
> 时间：2012-09-26T09:52:16.147
> 
> 标签：javascript, autocomplete, focus, search-suggestion

在输入字段上敲了一个简单的建议框..到目前为止，除了我似乎无法解决的两个问题外，所有工作都正常：

1) 当 onkeypress 事件触发时，输入框的值不正确 - 它错过了最后一个字符！因此，例如，如果您输入 3 个字符，则只有前两个字符会通过。所以有时建议并不完全准确！

2）我需要注意用户按下箭头键，然后将焦点设置到建议框中的第一个列表项！但似乎无法让它工作！

已包含代码供您查看！欢迎任何建议.. 但是我真的不想使用插件，因为我已经完成了这 95%..

这是jsfiddle链接！ [http://jsfiddle.net/beardedSi/kr4Cq/](http://jsfiddle.net/beardedSi/kr4Cq/)

注意 - 我刚刚注意到，在小提琴版本中，因为我在代码中放置了虚拟数组，它不再匹配建议 - 但这没关系，它在我的工作代码中工作正常！

```
 work = true;
function finish() {
    work = true;
}

var autoComp = $('.autoComp');
var skillInput = $('.new-skills input');

$('.new-skills input').keypress(function (e) {
    var param = $(skillInput).val();
    if (param.length > 0) {
        $.getJSON('/recruiter/home/GetAutocompleteSkills?term=' + param, function (data) {
            $(autoComp).slideDown().empty();
            var items = [];
            $.each(data, function (key, val) {
                items.push('<li><a href="">' + val + '</a></li>');
            });
            $(autoComp).append(items.join(''));
            $('.base-wrapper a').not('.button').click(function (e) {
                work = false;
                e.preventDefault();
                $(skillInput).val($(this).text());
                $(autoComp).empty().slideUp(500, finish);
            });

        });
    }

});

$(skillInput).keydown(function (e) {
    if (e.keyCode == 40) {
        console.log("down");
        $('.autoComp li:first:child').focus();
    }
});
$('.new-skills input').blur(function () {
    if (work == true)
        $(autoComp).slideUp();
}); 
```

# jquery - jQuery从表中选择值

> ID：12599046
> 
> 赞同：0
> 
> 时间：2012-09-26T09:52:16.323
> 
> 标签：jquery, html-table

我是 jQuery 新手，忙于创建基于表格的图表。我发现了一个很好的例子：[http ://coding.smashingmagazine.com/2011/09/23/create-an-animated-bar-graph-with-html-css-and-jquery/](http://coding.smashingmagazine.com/2011/09/23/create-an-animated-bar-graph-with-html-css-and-jquery/)

但我的问题是如何选择一个表并将它们放入一个数组中？

```
 <table id="data-table" border="1" cellpadding="10" cellspacing="0">
      <caption>
        table
      </caption>
      <thead>
        <tr>
          <td>month</td>
          <th scope="col">usage 1</th>
          <th scope="col">usage 2</th>

        </tr>
      </thead>
      <tbody>
        <tr>
          <th scope="row">jan</th>
          <td>1</td>
          <td>2</td>
        </tr>
        <tr>
          <th scope="row">feb</th>
          <td>3</td>
          <td>4</td>
        </tr>
        <tr>
          <th scope="row">march</th>
          <td>5</td>
          <td>6</td>
        </tr>
                    <tr>
          <th scope="row">april</th>
          <td>7</td>
          <td>8</td>
        </tr>
                    <tr>
          <th scope="row">may</th>
          <td>9</td>
          <td>10</td>
        </tr>
      </tbody>
    </table> 
```

如果我正在查看教程，我会看到它从左到右选择并将它们放在两个数组中。

```
 // Sort data into groups based on number of columns
    columnGroups: function() {
     var columnGroups = [];
   // Get number of columns from first row of table body
   var columns = data.find('tbody tr:eq(0) td').length;
   for (var i = 0; i < columns; i++) {
      columnGroups[i] = [];
      data.find('tbody tr').each(function() {
         columnGroups[i].push($(this).find('td').eq(i).text());
      });
   }
   return columnGroups;
} 
```

如何进入 5 个数组，值像 1,2 而不是 1,3,5,7,9，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-26T10:20:43.650

```
$(function(){
   var columnGroups = [],
       table = $('#data-table');

  table.find('tbody tr').each(function(index) {
     columnGroups[index] = [];
     $(this).find('td').each(function() {
         columnGroups[index].push($(this).text());
     });
  });

  console.log(columnGroups);
}); 
```

演示：http: [//jsfiddle.net/tdmvt/](http://jsfiddle.net/tdmvt/)

# c++ - c ++从堆栈中释放“_alloca” ted内存

> ID：12599048
> 
> 赞同：0
> 
> 时间：2012-09-26T09:52:19.220
> 
> 标签：c++, alloca

我知道 _alloca 的行为是在您离开函数时从堆栈中释放内存。有没有办法提前释放内存？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-26T10:39:59.320

没有。无论如何使用`_alloca`都没有意义——您可以编写一个高速池内存分配器，它可以更快地从堆中分配和解除分配，并且大小限制更少。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-26T10:30:57.173

不，没有（不包括明确地弄乱堆栈，例如在一个`asm`块中），但如果你需要类似的东西，你可以使用[`_malloca`](http://msdn.microsoft.com/en-us/library/5471dc8s.aspx)and 。[`_freea`](http://msdn.microsoft.com/en-us/library/k8984a8h.aspx)

编辑：正如 BoBTFish 所指出的：`If it was allocated on the stack, _freea does nothing`所以这个答案是不正确的 wrt 提前释放内存。但是，我认为最好不要删除它，因为它指向一种`_alloca`更安全的替代方法。

# ruby-on-rails-3 - rufus 调度程序异常

> ID：12599054
> 
> 赞同：0
> 
> 时间：2012-09-26T09:52:33.320
> 
> 标签：ruby-on-rails-3, rule-engine, rufus-scheduler

这让我有点发疯，我让 rufus 做一些调度来调用规则引擎 (ruleby)。所以我运行的大部分工作都在运行引擎中，然后在调度程序中。结果，当我遇到错误时，信息有点有限。

快进，我仍在处理我的代码，但现在我有这个异常错误：

```
'undefined method `+' for nil:NilClass' 
```

它以前没有发生过，我不确定它到底是什么时候开始的，以及它是否是我对代码所做的事情，或者是通过 http 推送进来的一些事件。我注释掉我认为导致它的代码，停止发生，我将代码放回原处，仍然没有发生，我将其放置一段时间，再次开始发生。我尝试在调度程序之外手动运行引擎（所以只是一次而不是每 x 分钟），没有发生。

把它放回调度程序运行几次，再次开始发生。我会用谷歌搜索上述错误，但谷歌不喜欢搜索中的 +。有人有什么想法可以指导我吗？当规则引擎运行时，它显然发生了一些事情，但在我回到尝试完成它之前，它已经运行了好几个星期。最好的想法是它在规则引擎运行期间一次将事件传递给它，并且缺少以前没有的东西。

真的很想知道它所指的 + 方法是/可能是/假设是什么。

# javascript - 如何创建链接以将用户主页设置为所有浏览器的 URL？

> ID：12599055
> 
> 赞同：0
> 
> 时间：2012-09-26T09:52:33.167
> 
> 标签：javascript, jquery, browser, hyperlink

> **可能重复：**
> [在 JavaScript 中设置默认主页](https://stackoverflow.com/questions/438108/set-default-home-page-in-javascript)

如何创建链接以将用户主页设置为所有浏览器的 URL？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-26T10:46:36.120

不，没有。它曾经在旧版本的 Internet Explorer 中是可能的，但幸运的是他们删除了它。

# java - Eclipse Juno - package-info.java 有什么用？

> ID：12599058
> 
> 赞同：34
> 
> 时间：2012-09-26T09:52:41.760
> 
> 标签：java, eclipse

在 Eclipse Juno 中创建新包时，将自动创建一个 java 文件 (package-info.java)。那个文件有什么用？在导入另一个类中的特定类时有用吗？

* * *

## 回答 #1

> 赞同：34
> 
> 时间：2012-09-26T09:55:53.387

`package-info.java`是一个[包注释文件](http://docs.oracle.com/javase/8/docs/technotes/tools/windows/javadoc.html#packagecomment)，Javadoc 使用它来为你的包提供自己的文档。

它是[在 Javadoc 5.0 中引入的](http://docs.oracle.com/javase/1.5.0/docs/guide/javadoc/whatsnew-1.5.0.html#newfeatures)，并取代了`package.html`.

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2012-09-26T10:00:23.667

package-info.java 文件包含包级文档和[注释](http://help.eclipse.org/juno/index.jsp?topic=/org.eclipse.jdt.doc.user/reference/ref-wizard-package.htm)。

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2016-09-15T09:54:54.240

它可用于包级别的文档。例如，Spring 团队在 Spring 框架的核心中广泛使用它。

除此之外，它还可以包含适用于包中所有类的注释。例如，这是一种避免为每个类的 Eclipse Null Analysis编写[NonNullByDefault注释的便捷方法。](http://help.eclipse.org/mars/index.jsp?topic=/org.eclipse.jdt.doc.isv/reference/api/org/eclipse/jdt/annotation/NonNullByDefault.html)

> 请注意，为了将注释应用到包，使用名为 package-info.java 的文件。

# gwt - 访问 Wsdl Web 服务客户端 GWT

> ID：12599060
> 
> 赞同：1
> 
> 时间：2012-09-26T09:52:50.077
> 
> 标签：gwt, soap, wsdl, client-side, wsdl2java

我正在从事 GWT 2.4 项目。我想访问 SOAP 服务。我使用 wsdl2java 生成服务类（servicestub、servicelocator，...）。但是这段代码是服务器端的。如何访问客户端的服务？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-26T12:49:12.657

中存在一些问题`Calling Cross Domain Web Services in AJAX`。你可以阅读这个问题的答案：[Accessing web Service from jQuery - cross domain](https://stackoverflow.com/questions/2697557/accessing-web-service-from-jquery-cross-domain)。[但是您可以使用RPC](https://developers.google.com/web-toolkit/doc/2.1/tutorial/RPC)调用服务器方法。然后服务器从 SOAP 中获取数据并返回给客户端。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-26T12:41:50.853

这样做真的很棘手（我什至不确定它是否可能），我更愿意将 SOAP 调用包装到服务器端服务中并从您的客户端调用它。

# asp.net-mvc - WCF 服务方法调用两次

> ID：12599067
> 
> 赞同：1
> 
> 时间：2012-09-26T09:53:05.817
> 
> 标签：asp.net-mvc, wcf, web-services

**我在服务器中有一个带有以下 web.config 的 wcf 服务。**

```
 <?xml version="1.0" encoding="utf-8"?>   
    <configuration>
    <connectionStrings>
    <add name="myconnection" connectionString="myconnectionstr"/>
   </connectionStrings>
    <system.serviceModel>
          <services>
             <service behaviorConfiguration="PSWebServis.PServisBehavior" name="PSWebServis.PServis">
                     <endpoint address="" binding="wsHttpBinding" contract="PSWebServis.IPServis" />  
                 <endpoint address="mex" binding="mexHttpBinding" contract="IMetadataExchange" /> 
                 <host>
                      <baseAddresses>
                           <add baseAddress="http://localhost:8000/" />  
                </baseAddresses>  
            </host>  
        </service> 
    </services>  
       <behaviors>
           <serviceBehaviors>       
               <behavior name="PSWebServis.PServisBehavior">
                       <serviceMetadata httpGetEnabled="true" /> 
                   <serviceDebug includeExceptionDetailInFaults="false" /> 
            </behavior>  
        </serviceBehaviors> 
    </behaviors>
</system.serviceModel> 
```

**这是客户端 web.config 中的相关部分。**

```
 <system.serviceModel>
<bindings>
  <wsHttpBinding>
    <binding name="WSHttpBinding_IPServis" />
  </wsHttpBinding>
</bindings>
<client>
  <endpoint address="http://sunucu:8000/PServis.svc" binding="wsHttpBinding"
    bindingConfiguration="WSHttpBinding_IPServis" contract="PSWebServis.IPServis"
    name="WSHttpBinding_IPServis">
    <identity>
      <servicePrincipalName value="host/SUNUCU" />
    </identity>
  </endpoint>
</client> 
```

**这是我在服务中的界面的一部分**

```
[ServiceContract]
public interface IPServis
{
    [OperationContract]
    string InsertMusteri(MusterilerModel musteri);
} 
```

**以及服务类中的相关部分。**

```
public class PServis : IPServis
{
    public string InsertMusteri(MusterilerModel musteri)
    {
        if (musteri != null)
        {

            DataTable dtSonuc = new DataTable();
            SqlCommand command = new SqlCommand("InsertMusteriModel", connection);
            command.CommandType = CommandType.StoredProcedure;
            command.Parameters.AddWithValue("@musteriTablo", musteri.KayitTablosu);
            command.Parameters.AddWithValue("@telefonTablo", musteri.TelefonKayit);
            command.Parameters.AddWithValue("@adresTablo", musteri.AdresKayit);
            connection.Open();
            command.ExecuteNonQuery();
            SqlDataAdapter adapter = new SqlDataAdapter(command);

            adapter.Fill(dtSonuc);
            connection.Close();

            return dtSonuc.Rows[0]["IslemDurum"].ToString();
        }

        return "Başarısız";
    }
 } 
```

**我的 MusterilerModel 类：**

```
[DataContract]
public class MusterilerModel
{
    [DataMember(Order=0)]
    public int MusteriID { set; get; }

    [DataMember(Order = 1)]
    public string Ad { set; get; }

    [DataMember(Order = 2)]
    public string Soyad { set; get; }

    [DataMember(Order=3)]
    public string KullaniciAdi { set; get; }

    [DataMember(Order = 4)]
    public string Email { set; get; }

    [DataMember(Order = 5)]
    public DateTime DogumTarihi { set; get; }

    [DataMember(Order=6)]
    public string GrupAdi { set; get; }

    [DataMember(Order=7)]
    public int Renk { set; get; }

    [DataMember(Order=8)]
    public decimal Bakiye { set; get; }

    [DataMember(Order=9)]
    public string Adres { set; get; }

    [DataMember(Order=10)]
    public string AdresAciklamasi { set; get; }

    [DataMember(Order=11)]
    public string Firma { set; get; }

    [DataMember(Order=12)]
    public string VergiDairesi { set; get; }

    [DataMember(Order=13)]
    public string VergiNo { set; get; }

    [DataMember(Order=14)]
    public int BayiID { set; get; }

    [DataMember(Order=15)]
    public string Il { set; get; }

    [DataMember(Order = 16)]
    public string Ilce { set; get; }

    [DataMember(Order = 17)]
    public decimal YemekPara { get; set; }

    [DataMember(Order=18)]
    public string Sifre { set; get; }

    [DataMember(Order=19)]
    public int GrupID { set; get; }

    [DataMember(Order=20)]
    public string BayiAdi { set; get; }

    [DataMember(Order=21)]
    public int SehirID { set; get; }

    [DataMember(Order=22)]
    public int IlceID { set; get; }

    [DataMember(Order=23)]
    public DateTime EvlilikYilDonumu { set; get; }

    [DataMember(Order=24)]
    public DateTime KayitTarihi { set; get; }

    [DataMember(Order=25)]
    public string KayitEdenPersonel { set; get; }

    [DataMember(Order=26)]
    public int KayitEdenPersonelID { set; get; }

    [DataMember(Order=27)]
    public bool AktifMi { set; get; }

    [DataMember(Order=28)]
    public string Aciklama { set; get; }

    [DataMember(Order=29)]
    public string OzelKod { set; get; }

    [DataMember(Order=30)]
    public int SatisID { set; get; }

    [DataMember(Order=31)]
    public DataTable KayitTablosu { set; get; }
    [DataMember(Order=32)]
    public DataTable TelefonKayit { set; get; }
    [DataMember(Order=33)]
    public DataTable AdresKayit { set; get; }
 } 
```

当我尝试使用 InsertMusteri 方法时，数据库中有 2 条记录。如您所见，我将我的信息放入数据表并将其发送到服务。我检查了数据表是否有超过 1 个值，但这不是问题。我不知道问题出在哪里。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-26T10:24:18.987

评论这一行

```
command.ExecuteNonQuery(); 
```

并检查它是否正常工作。我认为“填充”命令会执行您的命令。

# hibernate - 字符的休眠验证器

> ID：12599069
> 
> 赞同：5
> 
> 时间：2012-09-26T09:53:12.377
> 
> 标签：hibernate, hibernate-validator

是否可以验证字符是 M 还是 F，或者我是否需要使用带有正则表达式的字符串？

```
@Pattern(regexp = "^[MF]{1}$", message = "customer.sex.regex")
private String sex; 
```

我想用

```
private Character sex; 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-26T10:25:49.370

你应该这个正则表达式只接受 M 或 F。

```
@Pattern(regexp = "^[M|F]{1}$", message ="Must be M or F") 
```

在使用 as Character 的第二种情况下，您需要验证该字符是“M”还是“F”。其他可以设置为性别。

你不能使用`@Pattern`变量`Character`，你会得到以下异常。

> javax.validation.UnexpectedTypeException：HV000030：找不到类型的验证器：java.lang.Character。

# c# - 即使启用了 SSL，Request.URL 也始终返回 http

> ID：12599070
> 
> 赞同：8
> 
> 时间：2012-09-26T09:53:17.720
> 
> 标签：c#, asp.net, http, https, iis-7.5

我准备了一个 ASP.NET Web 应用程序 (ASP.NET V2.0)，并在我的 IIS (V7.5) 中对其进行了配置。我在我的应用程序中使用了 Request.Url.AbsoluteUri，它在我的服务器上运行良好。我在客户端的服务器机器（2008 R2 Server）上部署了 Web 应用程序。但是在我的客户端环境中，Request.Url.AbsoluteUri 总是返回 http url，即使他们启用了 SSL。我的客户端服务器机器上是否配置了任何 IIS 设置？请指导我

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-09-26T10:20:16.937

我以前见过这个。原因是生产站点的负载均衡器终止了 SSL 连接。它本身仅使用 HTTP 连接到 IIS。此方案是一种将 SSL 计算卸载到负载平衡器的方法。这意味着 IIS 应用程序永远不会看到 HTTPS 协议，尽管浏览器确实看到了它。

正如 spender 在评论中指出的那样，请查看到达您的应用程序的 HTTP 标头。负载均衡器可能会向它们添加信息，使您可以重建所有内容。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-02-18T10:51:28.310

如果要检查请求是 HTTP 还是 HTTPS。你应该检查标题。下面的链接真的帮助我解决了这个问题。

[http://www.bugdebugzone.com/2013/12/identifying-https-or-ssl-connection-in.html](http://www.bugdebugzone.com/2013/12/identifying-https-or-ssl-connection-in.html)

# css - 响应式 css 精灵 + 视网膜

> ID：12599071
> 
> 赞同：0
> 
> 时间：2012-09-26T09:53:18.753
> 
> 标签：css, responsive-design, media-queries, css-sprites

最近几天我读了很多关于这个话题的文章，但我没有找到解决方案。我有两个精灵集，一个用于正常显示的低质量，一个用于视网膜显示的高质量。

我的问题是，我的网站必须响应，图形应该根据浏览器窗口调整大小。但是有了这个`background-size`属性，我似乎无法告诉浏览器调整精灵的大小。这是我到目前为止得到的：

```
#logo-img {
  max-width: 100%;
  text-indent: -9999px;
  height: 85px;
  width: 360px;
  background-image: url('/images/sprites-sa026cef942.png');
  background-position: 0 -2609px;
  background-repeat: no-repeat;
  overflow: hidden;
  outline: 0 none !important;
  display: block;
  white-space: nowrap;
}
@media (-webkit-min-device-pixel-ratio: 1.5), (min--moz-device-pixel-ratio: 1.5), (-o-min-device-pixel-ratio: 3 / 2), (min-device-pixel-ratio: 1.5) {
    #logo-img {
      background-image: url('/images/sprites-retina-se61e802cf4.png');
      background-position: 0 -2601px;
      -webkit-background-size: 360px, auto;
      -moz-background-size: 360px, auto;
      -o-background-size: 360px, auto;
      background-size: 360px, auto;
    }
} 
```

HTML是

```
<a href="#" id="logo-img">
  <h1>My logo text</h1>
</a> 
```

一切正常，除了在移动设备上或调整浏览器窗口大小时。徽标被剪切，并且不会调整到浏览器窗口的大小。我正在玩，`max-width: 100%;`但这`height: auto;`只会影响轮廓，而不是里面的精灵。

希望有人知道解决方案。它不必与 IE8 兼容，但它会很好；）

**编辑** 在使用精灵之前，我曾经`background-size: contain;`确保背景图像的大小调整为元素的大小：

```
#logo-img {
  background:url(../images/sprites-retina/logo.png) no-repeat center center;
  background-size: contain;
  max-width: 100%;
  text-indent:-9999px;
  height: 85px;
  width: 360px;
  overflow: hidden;
  outline: 0 none !important;
  display: block;
  white-space: nowrap;
} 
```

这很好用，但是我不能使用精灵表。也许这说明了我的意思。

**编辑2**

我做了一个小提琴[http://jsfiddle.net/euvRD/2/](http://jsfiddle.net/euvRD/2/)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-26T09:56:43.447

我认为您需要从`background-size`行中删除逗号，并且您可能还想将高度设置`85px`为：

```
-webkit-background-size: 360px 85px;
-moz-background-size: 360px 85px;
-o-background-size: 360px 85px;
background-size: 360px 85px; 
```

但我认为，逗号是这里的主要问题。这对你有帮助吗？

# iphone - 在sqlite中使用行ID比较两个表

> ID：12599074
> 
> 赞同：0
> 
> 时间：2012-09-26T09:53:25.837
> 
> 标签：iphone, sql, ios, sqlite

我想从行 id 等于第一个表的第二个表中获取数据？任何人都可以帮助我使用语法或代码吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-26T09:58:15.753

有很多不同的方法可以做到这一点。

您可以使用`join`：

```
Select t2.* 
from tab2 t2
join tab1 t1 on t1.id = t2.id 
```

你也可以使用`in`运算符

```
Select * 
from tab2 t2
where t2.id in (  select t1.id
                  from table1 t1
               ) 
```

或者您可以使用`exists`运算符

```
Select * 
from tab2 t2
where exists
(
  selec 1
  from table1 t1
  where t2.id = t1.id
) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-26T09:59:07.343

由于您的问题被标记，`iPhone` `IOS`因此这可能是查询字符串

```
NSString *query = [NSString stringWithFormat:@"SELECT * FROM secondTable WHERE rowid = %d",yourRowID];
//where yourRowID is your first table id 
```

但是，如果您在谈论`Database`语法，那么请参阅此链接[表加入](http://sqlzoo.net/wiki/LEFT_JOIN)。

# c - 编译器和数据类型 => c 作为参考

> ID：12599076
> 
> 赞同：0
> 
> 时间：2012-09-26T09:53:31.933
> 
> 标签：c, gcc, compiler-construction

我在这篇文章中积累了三个不同但背景相似的问题。以下相同。

1.  从源 -> 可执行的步骤序列
2.  32/64 位版本的编译器
3.  c 数据类型大小对编译器的依赖性

### Q1：从源代码->可执行的步骤顺序

我认为以下是从源文件生成可执行文件的步骤

*   编写的源文件是用任何高级/中级语言编写的，并由编译器进行预处理。
*   当我们使用**GCC/G++**时，**gcc -save-temps -c**同时生成一个**.S 和一个 .O**文件，它们分别是程序集（可读）和目标代码（非人类可读）。
*   最后阶段是这个目标代码被链接以解析未知符号以创建机器（或）可执行代码。

所以这里的问题是这些假设对吗？我经常看到术语对象和机器代码可以互换使用。两者之间的确切区别是什么。？

### Q2：32/64 位版本的编译器

在 Q1 的上述步骤中，编译器类型的影响究竟在哪里。是不是生成的汇编代码被改变了？

### Q3：c 数据类型大小对编译器的依赖性

就 c 编程而言，数据类型的大小取决于编译器类型（或）硬件类型。请详细说明这些因素的依赖关系。尽管我在堆栈溢出中看到了与 Q3 的一些讨论，但我仍然对此感到困惑。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-26T10:34:51.757

**第一季度**

这是正确的，但可能没有组装阶段。而“预处理”是一个很好的小词，含义丰富。

对象代码和机器代码通常几乎相同。目标代码可能包含机器代码或一些可解释的代码，非机器代码。目标代码通常不是执行的最终代码，需要链接器进一步处理。包含机器代码的可执行文件通常需要一些类似于链接器的处理，但这部分是由操作系统完成的。希望可执行文件可重定位，也就是说，能够将它们加载到内存中的任何位置以在那里运行它们。重定位涉及在加载之后但在执行之前修复可执行文件内部的地址。在运行时链接到 DLL 是操作系统执行的另一个类似链接器的功能。

**第二季度**

“预处理”是开始出现类型及其大小的第一步。编译器必须执行类型检查、类型转换和代码/数据生成。在所有这些步骤中，类型都不容忽视。0xFFFF 是一个`int`还是一个`unsigned int`？编译器应该为指针保留多少内存？应该为 100 的数组分配多少空间`doubles`？编译器究竟是如何提升`chars`的`ints`？代码优化呢？所有这些问题的答案都需要知道字体大小。当然，生成的程序集或机器代码将取决于它们。

**第三季度**

理论上，类型大小取决于编译器。在实践中，为了避免模拟目标硬件不直接支持的类型的不必要开销，您拥有的类型直接对应于硬件支持的类型。C 在其起源和本质上几乎是一个可移植的汇编程序，这应该可以解释它的许多“奇怪之处”（太原始，让你很容易自爆，有许多未定义和特定于实现的行为，等等）。

# git - 在 centos 上设置 jenkins：ssh 密钥和 git 的问题

> ID：12599077
> 
> 赞同：8
> 
> 时间：2012-09-26T09:53:39.410
> 
> 标签：git, ssh, jenkins, centos, ssh-keys

经历了很多问题，但似乎没有什么能解决我的问题。或者更准确地说，我不确定我是否正确地完成了整件事。所以这里是：

已安装centos 6.3 操作系统。然后我按照以下指南安装詹金斯：

[https://wiki.jenkins-ci.org/display/JENKINS/Installing+Jenkins+on+RedHat+distributions](https://wiki.jenkins-ci.org/display/JENKINS/Installing+Jenkins+on+RedHat+distributions)

詹金斯工作正常。现在我正在尝试设置一个简单的构建作业，它需要克隆一个 git 存储库。（我已经安装了 git 插件）

在存储库 URL 中，我输入以下内容：git@gitserver:myrepo.git 当然我得到一个错误：stderr：主机密钥验证失败。

好的，我需要生成 ssh 密钥，一切都会好的。所以我做了以下事情：

```
su - jenkins 
```

但不幸的是，它不会切换到詹金斯用户。

猫 /etc/passwd

显示以下内容：

```
jenkins:x:496:492:Jenkins Continuous Build Server:/var/lib/jenkins:/bin/false 
```

所以似乎它没有通常的主目录。

问题是我如何为詹金斯生成密钥，或者如果上述步骤不是正确的方法，我该如何解决？

非常感谢！

**更新**：我生成了密钥（作为 root 用户）并将它们放在 jenkins 家中，并且完全正确并将公钥复制到 git 服务器。仍然没有帮助。

当我查看构建日志时，它说：

```
Started by user anonymous
Building in workspace /var/lib/jenkins/jobs/myrepo/workspace 
```

这个用户匿名是 jenkins 创建的另一个用户，还是运行命令的 jenkins？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-26T16:03:45.813

如果您能够安装 Jenkins RPM，我假设您具有 root 访问权限。以 root 身份登录时，您是否向 jenkins 用户发起了诉讼？如果没有，您应该这样做或使用

```
sudo su - jenkins 
```

如果您的登录用户具有 sudo 访问权限。

然后运行

```
ssh-keygen -t rsa 
```

为 jenkins 用户生成一个 RSA 密钥对，您可以将公钥上传到您的 git 服务器。如果您采用默认值，密钥将生成为 /var/lib/jenkins/.ssh.id_ra.pub。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-10-04T17:19:29.400

1 更改用户詹金斯登录设置

vi /etc/passwd

将 /bin/false 更新为 /bin/bash

2 苏-詹金斯

jekins 用户主页将是 /var/lib/jenkins

3 ssh-keygen

猫 .ssh/id_rsa.pub

将此密钥复制到 bitbucket

4 SSH git@bitbucket.org

这将在 .ssh/known_hosts 中设置 bitbucket ssh 密钥

现在您应该可以访问

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-26T12:28:40.953

我认为 .ssh 目录应该位于 /var/lib/jenkins 中。

为我工作

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-11-12T20:51:51.590

1）首先通过编辑 /etc/passwd 文件更改 jenkins 为真实用户

> /bin/false 到 /bin/bash

2) 登录到 jenkins 用户，现在 Jenkins 主目录将是 /var/lib/jenkins

```
su - jenkins 
```

3) 再次生成 ssh 密钥（密钥将在 /var/lib/jenkins/.ssh 中创建）

```
ssh-keygen -t rsa 
```

4) 复制 id_rsa.pub 密钥并粘贴到你的 git 的 authorized_keys 文件中

5）如果它不起作用，可能你必须检查你的 .ssh 目录和内容的权限

```
chmod 700 ~/.ssh && chmod 600 ~/.ssh/* 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2013-11-11T22:56:08.267

我在更改为 jenkins 用户时遇到问题。我需要在系统中正确创建用户，以便我可以登录。我运行了这个命令来帮助我在系统中创建 jenkins 用户：

```
su -s /bin/bash jenkins 
```

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2015-05-20T14:54:09.187

jenkins 是一个服务帐户，它没有设计外壳。人们普遍认为服务帐户不应该能够以交互方式登录。

我最初没有回答这个问题，因为它与已转移到服务器故障的问题重复。我应该在评论中回答而不是链接到答案。

如果由于某种原因你想以 jenkins 身份登录，你可以这样做：**sudo su -s /bin/bash jenkins**

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2015-05-07T08:16:22.823

为了以“jenkins”用户身份登录，也许你可以试试这个：

```
sudo -s -H -u jenkins 
```

并尝试调用：

```
bash-4.1$ whoami
jenkins 
```

希望能帮助到你。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2016-09-09T08:26:21.170

我做了什么：sudo -u jenkins ssh-keygen。到目前为止它有效

# jquery - 如何使div内容可拖动

> ID：12599078
> 
> 赞同：1
> 
> 时间：2012-09-26T09:53:40.687
> 
> 标签：jquery, html, input, draggable

我遇到了麻烦。

事实上，我有很多输入必须用从 1 到大约 100 的数字填充。

我实际上做的是用键盘填充输入。

但有时如果我做错了，我不记得哪个号码没有使用，哪个号码不可用。

所以我决定将数字写入div。

我想做的是使这个 div 可拖动。

当我将 div 拖到输入中时，它会用 div 的内容填充输入。实际上，我真的不知道如何进行。

如果输入充满了 div 内容，我也会尽可能让 div 消失。此外，如果输入被清除或数字被删除，它必须重新设置 div。

如果有人能给我一些关于如何进行的想法，我会很高兴。

接受我最大的尊重。

亲切的问候，

SP。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-26T10:09:21.797

这是您正在寻找的所有内容：

*   使用 jQuery UI 使元素可拖动：http: [//jqueryui.com/demos/draggable/](http://jqueryui.com/demos/draggable/)
*   使用 jQuery UI 使元素可放置：http: [//jqueryui.com/demos/droppable/](http://jqueryui.com/demos/droppable/)

# image-processing - 搜索工具的简单图像索引的起点是什么

> ID：12599083
> 
> 赞同：3
> 
> 时间：2012-09-26T09:53:59.593
> 
> 标签：image-processing, indexing, search-engine, go

我正在建设一个小型照片库网站，我需要一个检测重复图像的功能（不需要 100% 准确，就像 Google 图片搜索一样）。

我正在使用一种非常新的语言（Golang），所以我认为那里没有任何可用的库。

那么我的出发点是什么？请给我一些关于此的关键字。或者如果你有什么简单易懂的材料，请分享给我。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-26T10:31:39.707

我认为这篇[博文](http://www.hackerfactor.com/blog/index.php?/archives/432-Looks-Like-It.html)简单易懂。

# c++ - 平滑过渡到标准 3D 视图方向

> ID：12599084
> 
> 赞同：1
> 
> 时间：2012-09-26T09:54:01.280
> 
> 标签：c++, math, opengl, c++11

目前，我有一种机制可以通过修改模型视图矩阵来将视图定向到标准方向。
我想通过提供一个平滑的动画来增强用户体验，该动画将用户从当前视图方向带到标准视图方向，平滑过渡 - >（方向变化的恒定速率）。
理想情况下，过渡时间应少于 500 毫秒。

我已经实现了以下内容。

*   矩阵类
*   四元数（我可以从中提取矩阵）

我可以提取当前视图方向，并且我知道所有标准视图的视图方向。

我的问题：

1.  是否允许用户在转换进行时进行交互和更改视图方向。我认为是的，但不确定行为。无论系统状态如何，我都不希望应用程序冻结。
2.  如何分别在开始和结束时保持恒定的方向变化率和加速度和减速度。
3.  在过渡过程中（500 毫秒）应如何渲染帧。使用 std::thread 在 C++11 中是否有一种优雅的方式来执行此操作。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-26T10:07:02.910

如果您在渲染时已经在处理用户输入，则不需要单独的线程。如果您希望用户仍然拥有控制权，请不要让他们直接控制视图矩阵 - 而不是目标视图矩阵，只需将当前视图矩阵推向目标，每帧的一部分。

但是，这会使平滑的加速/减速变得复杂 - 比如说，您从一个小加速度开始，提高速度，然后用户移动相机：您是以低速重新开始，还是继续以同样的速度开始？这是一个设计决定，但我认为如果视图旋转的速度在中途改变，控件会感觉很奇怪。另外 - 如果您有加速/减速，根据定义，变化率不会是恒定的，所以您真的需要决定您想要什么，可能尝试两种解决方案，看看它是否“感觉正确”，因为缺少更好的短语。

# .net - 如何判断用户对其他 Outlook 邮箱的权限

> ID：12599086
> 
> 赞同：1
> 
> 时间：2012-09-26T09:54:07.423
> 
> 标签：.net, c#-4.0, outlook-2010, outlook-redemption

确定用户是否对其他 Outlook 邮箱拥有完整邮箱权限的最佳方法是什么？

我正在使用 Redemption 在用户有权访问的邮箱上使用搜索文件夹。如果他们只有某些文件夹的编辑权限，他们就看不到搜索文件夹，因为无法授予搜索文件夹权限。似乎使搜索文件夹可见的唯一方法是它们是否具有完整的邮箱权限（通过 Exchange 提供），因此我需要根据它们是否具有完整的邮箱权限来分支我的逻辑，但我无法弄清楚如何进行此检查.

如果我检查邮箱根文件夹的访问控制条目，我有权使用以下代码，它为空：

```
var folder = additionalMailbox.RootFolder;
var accessControlList = folder.ACL;
var currentUserRights = accessControlList.ACEofAddressEntry(currentUserAddressEntry); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-27T10:18:00.167

我通过测试查看用户是否可以看到附加邮箱上的搜索文件夹来做到这一点，因为这些只有在您拥有完全权限时才可见。然后我测试了搜索文件夹对象的 count 属性，当没有搜索文件夹时会抛出 COMException：

```
 private bool SearchFoldersVisible(RDOStore2 mailbox)
    {
        var searchFolders = mailbox.Searches;
        try
        {
            var throwErrorIfNoAccess = searchFolders.Count;
        }
        catch (COMException)
        {
            return false;
        }
        finally
        {
            Marshal.ReleaseComObject(searchFolders);
        }
        return true;

    } 
```

# regex - 替换所有不跟具体的换行符

> ID：12599088
> 
> 赞同：3
> 
> 时间：2012-09-26T09:54:14.480
> 
> 标签：regex, notepad++

我可以在 notepad++ 中轻松找到 '\n'，但我的问题是，当后面没有特定字符（本例中为“#”）时，我必须找到 '\n'。那么我是否将正则表达式与'\n'一起使用？可能吗？

例子 ：

```
Stuff to ignore
#Like that

Stuff
To change 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-26T10:00:25.727

尝试前瞻断言：

```
\n(?!#) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-26T10:13:37.023

[你可以在这个问题](https://stackoverflow.com/questions/1117807/regular-expression-to-match-every-new-line-chraracter-n-inside-a-content-ta)中找到一些细节，但首先要确保你的行尾是纯的`\n`。

Mac OS 的行尾是`\r`（OSX 是`\n`），Windows/DOS 是`\r\n`，而 UNIX 风格的则`\n`是 。

您正在寻找的正则表达式可能是`.*\n[^#].*`，指定`[^...]`（未设置）

但是您可以尝试使用 EOL 正则表达式字符`$`, 来代替：
`.*$[^#].*`

或者，正如[xdazz](https://stackoverflow.com/users/762073/xdazz)所说，试试`\n(?!#)`

# android - 如何获取存储在 android 设备中的播放列表的位置

> ID：12599089
> 
> 赞同：2
> 
> 时间：2012-09-26T09:54:13.977
> 
> 标签：android, file, filepath, playlist

我正在开发一个 android 应用程序，它从我的设备备份播放列表然后恢复它，所以我必须知道设备上播放列表的位置在哪里才能获取并备份它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-26T09:57:29.077

我认为您必须使用它`MediaStore.Audio.Playlists`来获取有关播放列表的所有详细信息。

[在此处](http://developer.android.com/reference/android/provider/MediaStore.Audio.Playlists.html)了解更多详细信息。

# asp.net-mvc - 当 ModelState 为 InValid 时调用 Ajax.BeginForm OnFailure

> ID：12599090
> 
> 赞同：6
> 
> 时间：2012-09-26T09:54:18.517
> 
> 标签：asp.net-mvc, asp.net-mvc-3, asp.net-ajax

当 ModelState 在控制器中无效时，我想调用“OnFailure”。

在我的登录视图中

```
 @using (Ajax.BeginForm("Login", new AjaxOptions { HttpMethod = "POST", UpdateTargetId = "Login",InsertionMode = InsertionMode.Replace, OnSuccess = "Success", OnFailure = "onError" }))
 {

 } 
```

在控制器中

```
[httpPost]
public ViewResult Login(LoginModel model)
{
   if (ModelState.IsValid)
   {

   }
   else
   { 
     ModelState.AddModelError("login is fail")
   }
   return View("Login",model)
} 
```

所以我想在 ModelState 有效时调用 onSuccess 方法，如果它失败则只调用 OnError 方法并显示模型状态中的所有错误。

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-09-26T10:24:47.827

这是你可以做的：

```
[HttpPost]
public ActionResult Login(LoginModel model)
{
    if (ModelState.IsValid)
    {
        // everything went fine and we want to redirect in this case =>
        // we pass the url we want to redirect to as a JSON object:
        return Json(new { redirectTo = Url.Action("SomeController", "SomeAction") });
    }
    else
    { 
        // there was an error => add an error message
        ModelState.AddModelError("login is fail")
    }

    // return a partial view instead of a full vire
    return PartialView("Login",model)
} 
```

然后你只需要 Success 函数：

```
@using (Ajax.BeginForm("Login", new AjaxOptions { HttpMethod = "POST", OnSuccess = "loginAjaxSuccess" }))
{

} 
```

您可以在其中测试在哪种情况下您是：

```
function loginAjaxSuccess(result) {
    if (result.redirectTo) {
        // the controller action returned a JSON result => it was a successful login
        // => we redirect the browser to this url
        window.location.href = result.redirectTo;
    } else {
        // the action returned a partial view with the form containing the errors
        // => we need to update the DOM:
        $('#Login').html(result);
    }
} 
```

顺便说一句，如果您在刷新表单时使用不显眼的客户端验证，则需要手动强制解析新的验证规则，否则下次尝试提交表单时，客户端验证将不会工作：

```
} else {
    // the action returned a partial view with the form containing the errors
    // => we need to update the DOM
    $('#Login').html(result);

    // Now that the DOM is updated let's refresh the unobtrusive validation rules on the form:
    $('form').removeData('validator');
    $('form').removeData('unobtrusiveValidation');
    $.validator.unobtrusive.parse('form');
} 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-09-26T12:14:15.643

当您在 ModelState 中检测到问题时，将响应对象的 StatusCode 设置为 400 之类的值（您可以从 System.Net.HttpStatusCode 类中获取代码）

这将触发 onfailure 方法。

硅

# android - System.currentTimeMillis() 返回 0

> ID：12599092
> 
> 赞同：0
> 
> 时间：2012-09-26T09:54:25.567
> 
> 标签：android, time, system

我很困惑。几天前，这工作正常。我做了一些更改，现在它的行为非常奇怪。

我第一次调用该函数时，它返回 0。第二次，稍后在代码中，它返回正确的时间。

我将大部分类文件粘贴在这里，以便你们进行诊断。

```
 requestWindowFeature(Window.FEATURE_NO_TITLE);
    getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);

    setContentView(R.layout.newsdetail);

    StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();
    StrictMode.setThreadPolicy(policy);
selectedNewsItem = newsList.get(_index);
            AlertDialog.Builder alert = new AlertDialog.Builder(NewsDetail.this);

            alert.setTitle(selectedNewsItem.getTitle());
            WebView wv = new WebView(NewsDetail.this);
            wv.getSettings().setUserAgentString("Mozilla/5.0 (SymbianOS/9.4; Series60/5.0 NokiaC6-00/20.0.042; Profile/MIDP-2.1 Configuration/CLDC-1.1; zh-hk) AppleWebKit/525 (KHTML, like Gecko) BrowserNG/7.2.6.9 3gpp-gba");
            wv.getSettings().setSupportZoom(false);
            wv.loadUrl(selectedNewsItem.getLink());
            wv.setWebViewClient(new WebViewClient()
            {
                @Override
                public boolean shouldOverrideUrlLoading(WebView view, String url)
                {
                    view.loadUrl(url);
                    startTime = System.currentTimeMillis();
                    return true;
                }
            });

            alert.setView(wv);
            alert.setOnKeyListener(new OnKeyListener()
            {
                boolean didItHappen = false;
                int happencount = 0;
                public boolean onKey(DialogInterface dialog, int keyCode, KeyEvent event)
                {
                    if(keyCode == event.KEYCODE_BACK)
                    {
                        happencount++;
                        endTime = System.currentTimeMillis();
                        Log.d("StartTime: ", String.valueOf(startTime));
                        Log.d("EndTime: ", String.valueOf(endTime));
                        totalTime = (endTime - startTime) / 1000;

                        if(happencount == 2)
                        {
                            Log.d("Time Spent: ", totalTime + " seconds");
                            didItHappen = true;
                        }
                    }
                    if(happencount == 2)
                    {
                        SharedPreferences shp;
                        SharedPreferences.Editor ed;                            
                        shp = getSharedPreferences("timespent", MODE_PRIVATE);
                        ed = shp.edit();

                        ed.putString("Title", selectedNewsItem.getTitle());
                        ed.putLong("Time", totalTime);
                        ed.putString("*****", "*****");                         
                        ed.commit();

                        startTime = 0;
                        endTime = 0;
                        totalTime = 0;
                        happencount = 0;
                    }

                    return false;
                }
            });
            alert.show();               
        }
    });
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-26T09:57:33.413

`startTime`? 我不确定您是否有证据表明`System.currentTimeMillis()`设置时返回 0 `startTime`。`shouldOverrideUrlLoading`在您的处理程序之前没有调用它的可能性更大，仅`onKey()`此而已。

# android - 使用 android 2.3.3 进行 Div 滚动

> ID：12599095
> 
> 赞同：0
> 
> 时间：2012-09-26T09:54:36.757
> 
> 标签：android, cordova

我的应用程序有问题。我正在 Android 2.3.3 上使用 Cordova 1.8.1。我正在尝试在 div 中使用滚动。但它不起作用。但适用于 Android 4.0.3。我补充说这个 div 是空的，但使用 ajax 我更新并添加更多内容。这是我的代码：

```
<div id="openDataContent" style="width: 100%;height:70%; margin:5px 0 0 0; overflow: scroll;-webkit-overflow-scrolling: touch;  box-shadow: 2px 0px 2px #1b698e;border:solid;"></div> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-26T10:18:01.953

在 Android 3.0 之前的 Android 设备中，溢出属性无法正常工作。但它是从Android 3.0或更高版本解决的。

我在开发应用程序时也遇到了这个问题。

此问题已通过使用按钮和动画元素的 margin-top 属性得到解决，以便将其更改为负值，从而创建滚动效果。

首先在 HTML 页面中添加一个向上和向下按钮

```
<a href="#" onclick="ScrollDiv('UP')" style="text-decoration:none;"><img id="ScrollUp" src="images/UpButton.png" style="position:absolute;float:right;top:30%;right:5px;z-index:100;" /></a>
<a href="#" onclick="ScrollDiv('DOWN')" style="text-decoration:none;"><img id="ScrollDown" src="images/DownButton.png" style="position:absolute; float:right;top:80%;right:5px;z-index:100;" /></a> 
```

比在 javasctipt 中添加函数 ScrollDiv()

```
function ScrollDiv(where)
{
    if(where != '' && where == 'UP')
    {
        $("#showAnim").css("margin-top", '-=100');
    }
    else
    {
        $("#showAnim").css("margin-top", '+=100');
    }
} 
```

在此代码中，单击 UP 按钮会将 margin-top 更改为负值，从而创建滚动效果。向下按钮也是如此。

如果达到滚动限制，您还可以添加启用或禁用向上和向下按钮的条件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-09-04T08:19:11.923

看看[http://www.seabreezecomputers.com/tips/scroll-div.htm](http://www.seabreezecomputers.com/tips/scroll-div.htm)

记得在 px 和 overflow/owerflow-x/overflow-y=scroll 中设置元素的高度或重量

# symfony1 - 添加另一个模块的表单

> ID：12599098
> 
> 赞同：-1
> 
> 时间：2012-09-26T09:54:56.350
> 
> 标签：symfony1, symfony-1.4, symfony-forms

我有一个名为的模块`main`，它是我的默认模块，还有一个名为`song`.

我想将我的`main`模块的“添加表单”放入我的`song`模块中。

我不知道我是否必须使用组件，如何以及在哪里处理表单。

请你帮助我好吗 ？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-26T11:46:43.703

你检查过文档吗？特别[是文档的这一部分](http://www.symfony-project.org/gentle-introduction/1_4/en/10-Forms)？

它通过使用基本的联系表格来涵盖表格系统：

*   您拥有创建表单实例并处理提交（验证、保存等）的控制器（`actions.class.php`在模块内部）`main`
*   然后是显示表单的模板 ( `contactSuccess.php`)

主要区别在于您可能有一个名为 Song 的模型，因此您必须使用 SongForm 而不是创建一个新模型（使用`new sfForm()`）。对于这一部分，您可以在同一文档页面上看到[基于模型的部分表单，](http://www.symfony-project.org/gentle-introduction/1_4/en/10-Forms#chapter_10_forms_based_on_a_model)它涵盖了文章模型的情况。

**编辑：**

一步一步：

在你的`main/actions/actions.class.php`：

```
public function executeIndex($request)
{
  $this->form = new SongForm();
  if ($request->isMethod('post'))
  {
    $this->form->bind($request->getParameter('song'));
    if ($this->form->isValid())
    {
      $song = $this->form->save();

      $this->getUser()->setFlash('notice', 'Thank you, the song has been added');

      $this->redirect('main/index');
    }
  }
} 
```

在您的模板中，`main/templates/indexSuccess.php`：

```
<?php if ($sf_user->hasFlash('notice')): ?>
  <div class="flash_notice"><?php echo $sf_user->getFlash('notice') ?></div>
<?php endif ?>

<?php echo $form->renderFormTag('main/index') ?>
  <table>
    <?php echo $form ?>
    <tr>
      <td colspan="2">
        <input type="submit" />
      </td>
    </tr>
  </table>
</form> 
```

你完成了。

我**真的**鼓励你阅读整个[Jobeet 教程](http://www.symfony-project.org/jobeet/1_4/Doctrine/en/)。你会学到很多东西。基本上我在这里描述的每一件事，都在本教程中。

对于该`sf_guard_user`字段，您应该将其重新定义为隐藏，然后为当前连接的用户设置一个默认值。

创建一个新表单：`/lib/form/CustomSongForm.class.php`

```
<?php

class CustomSongForm extends SongForm
{
  public function configure()
  {
    parent::configure();

    $this->widgetSchema['sf_guard_user_ud'] = new sfWidgetFormInputHidden();
  }
} 
```

然后你可以定义默认值，就像你说的：

```
}$this->form->setDefault('sf_guard_user_id', $this->getUser()->getId()); 
```

# perl - 为什么 Test::Spelling 将函数/方法名称标记为有错别字？

> ID：12599099
> 
> 赞同：2
> 
> 时间：2012-09-26T09:54:57.020
> 
> 标签：perl, spell-checking, perl-pod

假设我有这个虚拟 Perl 包`test.pm`：

```
package test;

use strict;
use warnings;

=head1 DESCRIPTION

=head2 env

Return the environment name.

=cut

sub env { return "environment name"; }

=head2 hst

Return the history file name.

=cut

sub hst { return "history file"; }

=head2 hst_dir

Return the directory containing the history file.

=cut

sub hst_dir { return "history directory"; }

1; 
```

`Test::Spelling`然后，我使用...从命令行运行拼写检查

```
$ perl -MTest::More -MTest::Spelling \
> -e 'pod_file_spelling_ok("test.pm", "spell check"); done_testing;' 
```

...，我的函数名称`env`和`hst`被标记为拼写错误，但`hst_dir`被接受：

```
not ok 1 - spell check
#   Failed test 'spell check'
#   at -e line 1.
# Errors:
#     env
#     hst
1..1
# Looks like you failed 1 test of 1. 
```

我知道我可以使用 列出自定义字典`add_stopwords()`，但在我看来，函数名称根本不应该进行拼写检查。

我错过了文档中的一些细则吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-26T10:27:44.770

你在拼写检查你的 POD，而不是你的代码。

`Test::Spelling`看到：

```
=head2 env
=head2 hst 
```

它怎么知道那是函数名（它根本不知道函数名的概念）？

它确实将 hst_dir 视为 perlish 关键字，由于下划线，whixh 不是单词中的正常字符。但这是最好的，没有停止的话......

# android - Android 代码 - 调用活动的随机数生成

> ID：12599101
> 
> 赞同：-6
> 
> 时间：2012-09-26T09:55:00.763
> 
> 标签：android

> **可能重复：**
> [使用 Java 在某个范围内](https://stackoverflow.com/questions/363681/generating-random-number-in-a-range-with-java)
> [生成随机数 如何在 Android 中生成特定范围内的随机数？](https://stackoverflow.com/questions/6029495/how-can-i-generate-random-number-in-specific-range-in-android)

这是我的主要活动场景；单击按钮时，我想生成一个从 1 到 4 的随机数基于输出，我想编写一个 if-else 来调用 4 个不同的活动

所以在点击时，如果生成了 4，那么调用活动 4 下一次可以生成 1 并且应该调用活动 1 等等....

有人可以帮我处理这段代码吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-26T10:01:25.313

```
 public void test1(){
    Random r = new Random();
    int index = r.nextInt(4)+1;

    Intent intent = null;

    switch(index){
    case 1:  intent = new Intent(this, Activity1.class);
        break;
    case 2:  intent = new Intent(this, Activity2.class);
        break;
    case 3:  intent = new Intent(this, Activity3.class);
        break;
    case 4:  intent = new Intent(this, Activity4.class);
        break;
    default:
     Log.e("ERROR", "");
            return;
    }
    if(intent != null){
       this.startActivity(intent);
    }
   } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-26T10:10:10.117

```
myBtn.setOnClickListener(new View.OnClickListener() {

        public void onClick(View v) {
            // TODO Auto-generated method stub

            Random r = new Random();
            int index = r.nextInt(4)+1;

            Intent intent;

            if (index == 4) {
                intent = new Intent(Activity.this, Activity4.class); 
            }
            else if (index == 3) {
                intent = new Intent(Activity.this, Activity3.class); 
            }
            else if (index == 2) {
            intent = new Intent(Activity.this, Activity2.class); 
            }
            else 
            intent = new Intent(Activity.this, Activity1.class);                    

            startActivity(intent);                
         }
    }); 
```

# c# - 更新查询不起作用 C# asp.net

> ID：12599102
> 
> 赞同：0
> 
> 时间：2012-09-26T09:55:06.367
> 
> 标签：c#, asp.net, sql-server, sql-update

在这个页面中只有这个查询

```
c1.cmd.CommandText = "update mechprofile set mech_status ='busy' where mech_regid ='" + alotmech + "'"; 
```

正在工作，其余查询不起作用。

```
public partial class customercare_alotmechanic : System.Web.UI.Page
{
    Class1 c = new Class1();
    Class1 c1 = new Class1();

    int sno;
    string license;
    string status;
    string alotmech;
    string mechregid;
    string mrg;
    protected void Page_Load(object sender, EventArgs e)
    {
            try
            {

                sno = Convert.ToInt32((Request.Form["sno"]));
                status = Request.Form["sta"];
                alotmech = Request.Form["Sel"];
                mrg = Request.Form["mechregid"];

                if (alotmech.Equals("Alloted"))
                {

                    c.con.Open();
                    c.cmd.CommandText = "update probprofile set Status = 'done' where Sno ='" + sno + "'";
                    c.cmd.ExecuteNonQuery();
                    c.con.Close();

                    c.con.Open();
                    c.cmd.CommandText = "update mechprofile set mech_status = 'free' where mech_regid ='" + mrg + "'";
                    c.cmd.ExecuteNonQuery();
                    c.con.Close();
                }
                else
                {
                    c.con.Open();
                    c.cmd.CommandText = "update probprofile set mechregid = '" + alotmech + "' where Sno ='" + sno + "'";
                    c.cmd.ExecuteNonQuery();
                    c.con.Close();

                    c1.con.Open();
                    c1.cmd.CommandText = "update mechprofile set mech_status ='busy' where mech_regid ='" + alotmech + "'";
                    c1.cmd.ExecuteNonQuery();
                    c1.con.Close();
                }

            }

            finally
            {
                string strScript = "<script>";
                strScript += "alert('ALOT MECHANIC PAGE..');";
                strScript += "window.location='problemstatus.aspx';";
                strScript += "</script>";
                Page.RegisterClientScriptBlock("strScript", strScript);

            }
    }
} 
```

在上面的代码中，更新命令不起作用...我在页面上有一个表单，其中方法=发布和操作 se 到运行更新查询的此页面。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-26T10:02:52.757

检查您的参数值是否正确：

```
If your data type is Nvarhcar so you should use N before your constants data. i.e.
"... column= N'"+ value+ "'"
Or if your data type is int so don't use '. i.e.
"... column= "+ value 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-26T10:03:01.583

您是否测试了要添加到查询语句后缀的变量的值？例如，在使用这些值进行更新之前检查 sno、status 和 mrg 是否实际上包含有效值。如果其中任何一个为空或包含与您的表设计有关的不可接受的值，则查询将失败。

你得到的错误声明是什么？我看到你有一个尝试......最后但没有抓住。您应该始终捕获异常以促进更好的错误处理。

# c# - 从另一个类的后台线程更新 GUI 控件

> ID：12599103
> 
> 赞同：1
> 
> 时间：2012-09-26T09:55:08.843
> 
> 标签：c#

我正在创建一个基于 Windows 的应用程序，它从服务器下载数据。我正在使用在不同类上创建的后台线程来执行这些下载操作。我想在富文本框（即主线程）上不断显示下载状态。但我无法做到这一点，使跨线程操作无效. 请帮我解决这个问题。

Form1.cs 上的方法

```
public void UpdateRichText(string Text)
{
    SetRichText(Text);                     
}

public delegate void SetRichTextTextDelegate(string text);
public void SetRichText(object number)
    {            
        if (InvokeRequired)
        {                
            this.BeginInvoke(new SetRichTextTextDelegate(SetRichText),text);                
            return;
        }

        richTextBox1.Text += number.ToString() + "\n";
    }
     private void button3_Click_1(object sender, EventArgs e)
    {
        demo d = new demo();
        d.display();
    } 
```

demo.cs 上的方法

```
 Form1 f = new Form1();
    public void display()
    {      
        Thread t = new Thread(new ThreadStart(call));
        t.Start(); 
    }

    public void call()
    {
    //when i call this method every time if(InvokeRequired) is false.
        f.UpdateRichText("Called from Thread");
    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-26T10:01:38.683

尝试将您的支票更改为：

```
if (richTextBox1.InvokeRequired) 
{
    richTextBox1.BeginInvoke(new SetRichTextTextDelegate(SetRichText),text); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-26T10:08:07.673

尝试使用以下

```
 if (richTextBox1.InvokeRequired)
            {
                richTextBox1.Invoke(new Action(delegate {  richTextBox1.Text += number.ToString() + "\n";  richTextBox1.ScrollToCaret(); }));

            }
            else
            {
                richTextBox1.Text += number.ToString() + "\n";
                richTextBox1.ScrollToCaret();
            } 
```

richTextBox1.Text += number.ToString() + "\n"; 可以改成如下，

**rtbEvents.AppendText(Environment.NewLine + number.ToString());**

# ruby - 获取 Ruby gem 的路径

> ID：12599105
> 
> 赞同：0
> 
> 时间：2012-09-26T09:55:14.573
> 
> 标签：ruby, gem

我实际上正在编写自己的 Ruby gem。它尚未打包并正在开发中。

如何获取 Gem 中文件的路径以及如何获取调用 gem 的路径？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-26T11:21:40.893

要获取 gem 所在的路径：

```
File.expand_path(File.join(File.dirname(__FILE__), '..')) 
```

从哪里调用 gem：

```
current_dir = Dir.pwd 
```

# oracle - Spring roo 和 jOOQ

> ID：12599110
> 
> 赞同：2
> 
> 时间：2012-09-26T09:55:27.893
> 
> 标签：oracle, spring, jpa, spring-roo, jooq

jOOQ 应该是标准 JPA 的替代品。有没有办法在 Roo 中使用它作为 JPA 提供者？甚至可能吗？

原因是：我们有 Oracle 数据库，jOOQ 可以快速轻松地连接到该数据库。另一方面，Roo 是非常有用的工具，但缺乏建立 Oracle 数据库连接。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-17T14:54:37.733

jOOQ 没有实现 JPA。它恰好支持一些 JPA 注释，这与实际实现 JPA 相去甚远。换句话说，不，你不能在 Spring Roo 中使用 jOOQ 作为 JPA 提供者

# eclipse - 无法让 Scala 工具在 Odersky 的 Coursera 课程中工作

> ID：12599113
> 
> 赞同：0
> 
> 时间：2012-09-26T09:55:42.590
> 
> 标签：eclipse, scala, ide, ubuntu-12.04

在[Odersky 的 scala 课程中](https://class.coursera.org/progfun-2012-001/wiki/view?page=ToolsSetup)，我正在尝试运行工具设置。

![我的日食看起来不像他们的日食](../Images/e6001fcc8c837a77acacdef10138ecbf.png)

我应该有的地方`Run As > 2\. Scala Application`我只有`Run As > Run Configurations`.

我需要做什么才能使我的屏幕像示例一样工作？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-26T14:01:48.010

尝试将 println 包装在 main 方法中。

```
def main(args: Array[String]) {
  println("Hello, world!")
} 
```

我有这个类似的问题，这就是我解决它的方法。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-26T14:26:44.360

我认为这实际上是课程材料的问题

第一课接着说……

为了使对象可执行，它必须扩展类型 App。将对象定义更改为以下内容：

```
object Main extends App {
  println(Lists.max(List(1,3,2)))
} 
```

所以在这种情况下，扩展 App 你应该能够运行它

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-26T14:43:18.117

由于[Carston Krebbs](https://www.coursera.org/user/i/d88f282fde9c1776a11970051de59b34)的原因，答案是删除

```
package greeter

object hello extends App { 
```

. 感谢其他尝试答案的人。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-26T11:15:17.307

我也在做这个课程。我看到的是我（从课程网站下载的eclipse）是我只能在调用main方法的Scala对象上使用“Run As Scala Application”（方法体在对象中）。

本课程有专门的论坛。在那里问这个问题。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-26T14:55:44.120

`-clean`使用该选项启动 eclipse 。这将清除某些缓存并很可能解决您的问题。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-09-26T12:46:32.043

由于我经常遇到 eclipse 的问题，所以我切换到了 intellij。

安装[intellij](http://www.jetbrains.com/idea/)和 intellij scala 插件。

获取 sbt 插件[sbt-idea](https://github.com/mpeltonen/sbt-idea)。

启动 sbt 并输入`gen-idea`.

打开idea项目并开始编程。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-09-27T18:52:24.530

保存你所拥有的。退出并重新打开 Eclipse。- 奥德斯基学生

# cordova - 手机差距和手机网站有什么区别？

> ID：12599114
> 
> 赞同：4
> 
> 时间：2012-09-26T09:55:48.330
> 
> 标签：cordova, mobile-website, mobile-webkit

我是电话间隙的新手。我想知道**电话差距和移动网站有什么区别。**我对此进行了研究，但我没有找到任何合适的解决方案。任何人都可以解释这一点或提供一些文件。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-26T20:01:22.943

@axis 确实指出了一个可行的第三个选项，我相信你已经考虑过，如果你有能力，我建议在大多数情况下编写本机应用程序。然而; 如果您想使用这种方法通过您的应用程序吸引最大数量的客户，您将不得不为不同的设备了解/学习不同的语言。这使得 HTML/CSS/Javascript 非常吸引人，尤其是当这三种技术是当今网络上最常用的技术时。

所以，回到问题上来：

**Phonegap 和移动网站：**

*   两者都使用 HTML/CSS/Javascript
*   两者都可以使用 JQuery Mobile 或 Sencha 等框架针对移动设备进行优化
*   两者都可以使用 Web 服务进行内容集成
*   两者都可以使用本地数据存储。

**电话间隙：**

*   可以放置在市场上，以供其他人在他们的设备上查找和安装您的应用程序。
*   驻留在设备上，可以像使用本机应用程序一样使用它的硬件（相机/gps/加速器/等）。
*   如果需要，可以扩展（通过插件）以使用本机设备代码。

**手机网站：**

*   您可以通过 Web 服务器控制应用程序的部署。（例如，您可以进行更改，并立即在所有设备上生效。）
*   减少对包含数据库内容的 Web 服务的依赖
*   您可以利用 PHP/Python/ASP 和其他为您生成 HTML/CSS/Javascript 的网页设计技术。

而且我敢肯定，这份清单绝不是两者之间差异的完整清单，但我希望我能找到亮点……

您还有什么具体问题吗？

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-09-26T10:02:35.610

Phonegap 使用 Web 相关技术作为目标平台的原生 API 与应用程序的用户定义业务逻辑之间的桥梁。

在后台 phonegap 使用了一个大的代码库/库，可以将您的 HTML/JS 转换为原生 API 调用。

大多数用户认为 HTML/JS 是一种更友好的解决方案，而不是 C/C++/Java/ObjC/C# 等，而且他们不需要良好的简历和对 HTML 或 JS 编码的深入了解；缺点是表演很糟糕，你基本上无能为力。通常，这些框架由在进入市场之前已经死掉的应用程序使用。

# c# - 可以将 FixedDocument 转换为 Drawing.Printing.PrintDocument 吗？

> ID：12599115
> 
> 赞同：3
> 
> 时间：2012-09-26T09:55:49.110
> 
> 标签：c#, wpf

我为工作编写了一个标签制作程序。它使用 opendialog 来提取数据。将其拆分并放在桌子上。那里没有问题。设置 FixedDocument 以打印用户控件标签以及存储固定文档数据的类都工作得很好。

我唯一的问题是当涉及到文本搜索和打印控制时，我无法忍受对 WPF 文档的限制。我已经使用了 printpreviewdialog，但这不使用 FixedDocument。

我需要知道它是否可以用一些简单的代码进行转换，或者我是否必须重写我的整个类并返回到 printpreviewdialog 使用的绘图。

调用代码如下。

```
private void button3_Click(object sender, EventArgs e)
{
    var avery = new Avery5160();
    DataTable data = (DataTable)dataGridView1.DataSource;

    var A5160 = avery.CreateDocument(data);
    PrintPreviewDialog ppd = new PrintPreviewDialog();

    ppd.Document = A5160;
    ppd.ShowDialog();
} 
```

错误是：

> 无法将类型“System.Windows.Documents.FixedDocument”隐式转换为“System.Drawing.Printing.PrintDocument”

感谢您的任何帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-28T19:12:54.310

I am not so sure there is a simple conversion. A simple (if not a little time-consuming) method would be to create a preview dialog with a document viewer to simulate what you would be seeing. Then printing using the FixedDocument's DocumentPaginator and a regular PrintDialog.

The answer to [this question](https://stackoverflow.com/questions/584551/how-do-i-do-print-preview-when-using-a-documentpaginator-to-print) shows how to do it by creating an XpsDocument that is then used with a custom PrintPreview class.

# spring - 实体属性未通过 hibernateTemplate 传递给 sql 语句

> ID：12599119
> 
> 赞同：2
> 
> 时间：2012-09-26T09:55:55.650
> 
> 标签：spring, hibernate

我正在学习 Spring 数据访问，并尝试通过 hibernateTempate 插入数据。这是我的代码：

**更新**

应用程序上下文.xml：

```
<?xml version="1.0" encoding="UTF-8"?> <beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:context="http://www.springframework.org/schema/context"
       xmlns:tx="http://www.springframework.org/schema/tx"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
       http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd
       http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-2.5.xsd">

    <context:annotation-config/>

    <context:component-scan base-package="com.eric.mvnlab"/>

    <context:property-placeholder properties-ref="properties"/>

    <bean id="properties" class="org.springframework.beans.factory.config.PropertiesFactoryBean">
        <property name="locations">
            <list>
                <value>classpath:application.properties</value>
            </list>
        </property>
    </bean>

    <bean id="messageSource" class="org.springframework.context.support.ReloadableResourceBundleMessageSource">
        <property name="basename" value="classpath:messages"/>
        <property name="defaultEncoding" value="${source.encoding}"/>
    </bean>

    <!-- DAO layer -->
    <tx:annotation-driven/>
    <bean id="transactionManager" class="org.springframework.orm.hibernate3.HibernateTransactionManager">
        <property name="sessionFactory" ref="sessionFactory"/>
    </bean>

    <bean id="dataSource" class="org.apache.commons.dbcp.BasicDataSource" destroy-method="close">
        ...
    </bean>

    <!-- Hibernate session factory -->
    <bean id="sessionFactory" class="org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean">
        <property name="dataSource" ref="dataSource"/>
        <!--<property name="packagesToScan" value="com.eric.mvnlab.model.*" />-->
        <property name="annotatedClasses">
            <list>
                <value>com.eric.mvnlab.model.Machine</value>
            </list>
        </property>

        <property name="hibernateProperties">
            <props>
                <prop key="hibernate.dialect">org.hibernate.dialect.HSQLDialect</prop>
                <prop key="hibernate.hbm2ddl.auto">create</prop>
                <prop key="hibernate.show_sql">true</prop>
            </props>
        </property>
    </bean>

</beans> 
```

MachineDAO.java

```
package com.eric.mvnlab.server.dao.impl;

import com.eric.mvnlab.model.Machine;
import org.springframework.stereotype.Repository;

@Repository("machineDao")
public class MachineDAO extends GenericHibernateDAOImpl<Machine, Integer> {
    public void addMachine(Machine machine) {
        getHibernateTemplate().save(machine);
    }

    public Machine findById(int id) {
        return (Machine) getHibernateTemplate().get(Machine.class, id);
    }
} 
```

主.java

```
package com.eric.mvnlab;

import com.eric.mvnlab.model.Machine;
import com.eric.mvnlab.server.dao.impl.MachineDAO;
import org.springframework.context.ApplicationContext;
import org.springframework.context.support.ClassPathXmlApplicationContext;

/**
 * Created with IntelliJ IDEA.
 * User: eric
 * Date: 9/25/12
 * Time: 3:15 PM
 * To change this template use File | Settings | File Templates.
 */
public class Main {
    public static void main(String[] args) {
        ApplicationContext context = new ClassPathXmlApplicationContext("applicationContext.xml");
        MachineDAO machineDAO = (MachineDAO)context.getBean("machineDao");
        machine.setHostname("MyLaptop");
        machine.setIpaddress("127.0.0.1");
        machineDAO.addMachine(machine);
    }
} 
```

机器.java

```
package com.eric.mvnlab.model;

import javax.persistence.Table;
import javax.persistence.Id;
import javax.persistence.Column;
import javax.persistence.Entity;
import javax.persistence.GeneratedValue;
import javax.persistence.GenerationType;

@Entity
@Table(name="MACHINE")
public class Machine {
    @Column(name="MID")
    @Id
    @GeneratedValue(strategy=GenerationType.IDENTITY)

    private int mid;

    @Column(name="HOSTNAME")
    private String hostname;

    @Column(name="IPADDRESS")
    private String ipaddress;

    public String getIpaddress() {
        return ipaddress;
    }

    public void setIpaddress(String ipaddress) {
        this.ipaddress = ipaddress;
    }

    public String getHostname() {
        return hostname;
    }

    public void setHostname(String hostname) {
        this.hostname = hostname;
    }

    public int getMid() {
        return mid;
    }

    public void setMid(int machineId) {
        this.mid = machineId;
    }
} 
```

Table Machine 有三列：mid、hostname 和 ipaddress。mid 是主键，是自动递增的。

当我运行 Main 时，我得到以下输出：

```
Hibernate: insert into MACHINE (MID, HOSTNAME, IPADDRESS) values (null, ?, ?)
Exception in thread "main" org.springframework.dao.InvalidDataAccessResourceUsageException: could not insert: [com.eric.mvnlab.model.Machine]; SQL [insert into MACHINE (MID, HOSTNAME, IPADDRESS) values (null, ?, ?)]; nested exception is org.hibernate.exception.SQLGrammarException: could not insert: [com.eric.mvnlab.model.Machine]
WARN  - JDBCExceptionReporter      - SQL Error: -798, SQLState: 428C9
    at org.springframework.orm.hibernate3.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:629)
ERROR - JDBCExceptionReporter      - DB2 SQL Error: SQLCODE=-798, SQLSTATE=428C9, SQLERRMC=MID, DRIVER=4.7.85 
```

谁能告诉我为什么实体属性数据没有传递给sql语句？

**注意：** 如果您使用的是 DB2 9.7，并且您可能会遇到此错误：

*org.hibernate.HibernateException：数据库没有返回本地生成的标识值*

是DB2 jdbc驱动的bug，解决方法是使用更高版本的驱动，比如10.1

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-26T12:19:09.737

Note that you configured Hibernate to use HSQLDB dialect, whereas your error message comes from DB2\. You need to configre a dialect that matches your DBMS, see [3.4.1\. SQL Dialects](http://docs.jboss.org/hibernate/core/3.6/reference/en-US/html/session-configuration.html#configuration-optional-dialects).

# ruby-on-rails - 一对多关系行为

> ID：12599131
> 
> 赞同：0
> 
> 时间：2012-09-26T09:56:31.560
> 
> 标签：ruby-on-rails

我对一对多关系有一种我没有得到的行为，这绝对让我发疯。

这是模型1：

```
class Account < ActiveRecord::Base
  belongs_to :organization, :autosave => true
  validates :organization, :presence => true
end 
```

这是模型2：

```
class Organization < ActiveRecord::Base
  has_many :accounts, :autosave => true
  validates :accounts, :presence => true
end 
```

现在，在 Rails 控制台中：

```
>> acc = Account.new
>> org = Organization.new
>> org.accounts << acc

>> org.accounts
[#<Account id: nil, organization_id: nil, created_at: nil, updated_at: nil>]

>> acc.organization
nil 
```

或相反：

```
>> acc = Account.new
>> org = Organization.new
>> acc.organization = org

>> acc.organization
#<Organization id: nil, created_at: nil, updated_at: nil>

>> organization.accounts
[] 
```

这是正常行为吗？我应该手动更新关系的双方吗？！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-26T10:03:20.967

答案很简单，先保存对象

```
acc = Account.new
org = Organization.new 
acc.organization = org
acc.save 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-26T10:03:55.407

参考[`this`](http://guides.rubyonrails.org/association_basics.html#has_many-association-reference)使用`build`

```
org = Organization.new
acc = org.build_account.new
org.save 
```

# .net - 无法使用 SendGrid 从 .NET Web 应用程序发送电子邮件

> ID：12599132
> 
> 赞同：0
> 
> 时间：2012-09-26T09:56:33.303
> 
> 标签：.net, smtp, sendgrid

我有一个想要使用 SendGrid smtp 服务器发送电子邮件的 .NET Web 应用程序。

它是一个简单的单页应用程序，其代码位于`Page_Load`. 我已经通过 Nu-Get 导入了对 SendGrid 的引用，并且引用也很好。代码在一段时间后到达 - 时出现超时错误`transportSMTP.Deliver(myMessage)`。有人可以帮忙吗？

```
Imports System.Net
Imports System.Net.Mail
Imports SendGridMail
Imports SendGridMail.Transport

Public Class _Default
    Inherits System.Web.UI.Page

    Protected Sub Page_Load(ByVal sender As Object, ByVal e As System.EventArgs) Handles Me.Load
        'Creating Email object for SendGrid
        Dim myMessage As SendGrid = SendGrid.GenerateInstance()
        myMessage.AddTo("RAMESHV@timken.com")
        myMessage.From = New MailAddress("myemail@domain.com", "Vikram Avadhaani")
        myMessage.Subject = "Testing the SendGrid Library"
        myMessage.Text = "<p>Show's over Amigo!</p> <br/> It ain't over, 'till its over!"

        'Create Credentials with UserName and Password
        Dim mailCredentials = New NetworkCredential("<user id>", "<password>")

        'Creating an SMTP Transport for sending email
        Dim transportSMTP As SMTP = SMTP.GenerateInstance(mailCredentials)  'SMTP
        Dim transportREST As REST = REST.GetInstance(mailCredentials)       'REST

        'Send the email
        transportSMTP.Deliver(myMessage)
        'transportREST.Deliver(myMessage)
    End Sub

End Class 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-02T06:23:04.070

找到解决方案： - 在框架 4.0 上使用 Visual Studio（2012 或 2010）打包云（.Azure）项目 - 登录到 Windows Azure 门户并上传包。如需帮助，请参阅 - [https://www.windowsazure.com/en-us/manage/services/cloud-services/how-to-create-and-deploy-a-cloud-service/](https://www.windowsazure.com/en-us/manage/services/cloud-services/how-to-create-and-deploy-a-cloud-service/)

（愚蠢的我，当我面前有解决方案时，我只是担心代理和其他东西：P）

# javascript - 导入浏览器实现的默认样式

> ID：12599134
> 
> 赞同：3
> 
> 时间：2012-09-26T09:56:34.397
> 
> 标签：javascript, html, css

我想像`span`默认复选框一样设置样式。
有什么方法可以导入由我们`styles`实现的`browser`并在我们的页面中使用它们！
谢谢 :)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-26T10:03:20.603

不是。很多浏览器的表单域控件默认样式不是浏览器实现的，而是操作系统实现的，考虑到用户的喜好/主题等。

如果您希望它看起来像用户习惯看到的默认复选框，您确实需要一个复选框。

你到底在做什么？

# java - 添加基本 Spring Security 支持后“链接不起作用”

> ID：12599135
> 
> 赞同：1
> 
> 时间：2012-09-26T09:56:39.327
> 
> 标签：java, spring, spring-mvc, spring-security

我有基本的**Spring MVC + Hibernate**应用程序。这是我的`web.xml`：

```
 <?xml version="1.0" encoding="UTF-8"?>
<web-app xmlns="http://java.sun.com/xml/ns/javaee"
           xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
           xsi:schemaLocation="http://java.sun.com/xml/ns/javaee
          http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd"
           version="2.5">

    <welcome-file-list>
        <welcome-file>index.jsp</welcome-file>
    </welcome-file-list>
    <listener>
        <listener-class>org.springframework.web.context.ContextLoaderListener
        </listener-class>
    </listener>
    <servlet>
        <servlet-name>dispatcher</servlet-name>
        <servlet-class>org.springframework.web.servlet.DispatcherServlet
        </servlet-class>
        <load-on-startup>1</load-on-startup>
    </servlet>
    <servlet-mapping>
        <servlet-name>dispatcher</servlet-name>
        <url-pattern>/</url-pattern>
    </servlet-mapping>
</web-app> 
```

一切都很好。然后我尝试通过添加以下内容来为应用程序添加基本的**Spring Security**`web.xml`支持：

```
<filter>
   <filter-name>springSecurityFilterChain</filter-name>
   <filter-class>org.springframework.web.filter.DelegatingFilterProxy
   </filter-class>
   <init-param>
      <param-name>contextConfigLocation</param-name>
      <param-value>/WEB-INF/security-context.xml</param-value>
   </init-param>
</filter>

<filter-mapping>
   <filter-name>springSecurityFilterChain</filter-name>
   <url-pattern>/*</url-pattern>
</filter-mapping> 
```

我的`/WEB-INF/security-context.xml`样子如下：

```
<?xml version="1.0" encoding="UTF-8" ?>
<beans:beans xmlns="http://www.springframework.org/schema/security"
             xmlns:beans="http://www.springframework.org/schema/beans"
             xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
             xsi:schemaLocation="http://www.springframework.org/schema/beans
             http://www.springframework.org/schema/beans/spring-beans-3.0.xsd 
             http://www.springframework.org/schema/security 
        http://www.springframework.org/schema/security/spring-security-3.0.xsd"> 

    <http>
        <intercept-url pattern="/index*" access="ROLE_USER"/>
        <form-login login-page="/login.jsp" default-target-url="/index" 
             authentication-failure-url="/login.jsp?error=true"/>
        <logout logout-url="/logout" logout-success-url="/index"/>
        <remember-me/>
    </http>

    <authentication-manager>
        <authentication-provider>
            <user-service>
                <user name="user" password="pass" authorities="ROLE_USER"/>
            </user-service>
        </authentication-provider>
    </authentication-manager>

</beans:beans> 
```

添加这些东西后，应用程序就会崩溃。它只是显示“*链接不起作用。尝试在 Google 中搜索它。* ”在 Chrome 中。我错过了什么？有任何想法吗？提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-26T15:29:48.637

谢谢大家。刚刚解决了。问题是我`http://www.springframework.org/schema/security/spring-security-3.0.xsd`在`/WEB-INF/security-context.xml`命名空间中使用了 3.1.2.RELEASE 版本的 spring-security 库。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-26T14:23:50.043

```
 <?xml version="1.0" encoding="UTF-8" ?> 
 <beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:security="http://www.springframework.org/schema/security"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.springframework.org/schema/beans
    http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
    http://www.springframework.org/schema/security
    http://www.springframework.org/schema/security/spring-security-3.0.xsd">
   <security:http>         
        <security:intercept-url pattern="/index*" access="ROLE_USER"/>         
        <security:form-login login-page="/login.jsp" default-target-url="/index"               authentication-failure-url="/login.jsp?error=true"/>         
    <security:logout logout-url="/logout" logout-success-url="/index"/>         <security:remember-me/>     
    </security:http>      
    <security:authentication-manager>         
    <security:authentication-provider>             
    <security:user-service>                 
    <security:user name="user" password="pass" authorities="ROLE_USER"/>             </security:user-service>         
    </security:authentication-provider>     
    </security:authentication-manager>  
    </beans> 
```

尝试使用上面的 security-context.xml 代码。

# code-coverage - Bullseye 用于基于 EDK 的应用程序

> ID：12599140
> 
> 赞同：0
> 
> 时间：2012-09-26T09:56:45.707
> 
> 标签：code-coverage, bullseye

有没有办法将基于 EDK2 的应用程序集成到 Bulls Eye Code Coverage 工具中？可执行文件将具有 .efi 扩展名，并且仅在 EFI shell 中打开。我相信，我还需要开发一个驱动程序来将覆盖数据捕获到外部磁盘中进行分析，因为该应用程序仅在 EFI Shell(BIOS) 中有效。

那么，对于整个 EFI 应用程序，有没有人知道如何做到这一点？

谢谢，普拉莫德

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-12-24T14:29:15.643

这些是我将 Bullseye 集成到 EDK2 中所采取的步骤（在按照网站上的说明安装 Bullseye 之后）：

1.  使用 /run/libcov-printf.c 并将“printf”替换为“AsciiPrint”。
2.  将所有文件从 /run/ 复制到您的 EDK $WORKSPACE
3.  创建库 .inf 文件并将 libcov-printf.c 添加到其 [Source] 部分
4.  将库实例添加到您的平台 .dsc 文件（可能是 MdeModulePkg.dsc）
5.  在 [LibraryClass] 下添加对应用程序 .inf 文件的库引用
6.  在您的应用程序源代码中添加 cov_dumpData()（通常在其退出点）。
7.  使用 EDK2 编译

您最终会得到一个 efi 二进制文件，您可以在目标上运行该二进制文件，并在应用程序到达其退出点后获取测量结果。输出数据可以重定向到一个文件（使用 EDK2 shell 中的 > 指令），然后由 covpost 处理以合并到构建过程中创建的 cov 文件中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-01T18:28:01.753

好吧，我不知道 EFI 是如何工作的。但是靶心覆盖支持自定义。当我为嵌入式系统工作时。我创建了打开/读/写函数来将覆盖数据写入不是文件而是串行电缆，我创建了主机应用程序来解释从串行电缆发送的数据并将它们保存到 cov 文件中。我不确定这是否适用于您的情况。但是，您可以从以下链接开始。 [http://www.bullseye.com/help/env-embedded.html](http://www.bullseye.com/help/env-embedded.html)

# sql - 创建/更新日期的 Sql 时间戳

> ID：12599141
> 
> 赞同：3
> 
> 时间：2012-09-26T09:56:46.457
> 
> 标签：sql, sql-server, sql-server-2008, tsql

在一些经常写入的日志表中，我希望能够存储一个相对顺序，以便我可以在这些表之间合并，并获得事情实际发生的顺序。

DateTime2 的分辨率不足。几行将获得完全相同的日期，因此无法判断哪个先发生。因为排序应该跨多个表工作，所以按 Id 排序已经过时了。

然后我开始查看时间戳。这适用于更新日期，但不适用于创建日期，因为每个表只能有一个时间戳列，并且它会自动更新。

这适用于 Microsoft Sql Server 2008。

有什么建议么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-26T10:06:40.737

您可以使用键入为`binary(8)`(same as [`rowversion`](http://msdn.microsoft.com/en-us/library/ms182776.aspx)) 并默认为的另一列来模拟它[`@@DBTS`](http://msdn.microsoft.com/en-us/library/ms187366.aspx)：

```
create table TX (
    ID int not null,
    Updated rowversion not null,
    Created binary(8) not null constraint DF_TX_Created DEFAULT (@@DBTS)
)
go
insert into TX (ID)
values (1),(2)
go
update TX set ID = 3 where ID = 1
go
insert into TX (ID)
values (4)
go
select * from TX 
```

结果：

```
ID          Updated            Created
----------- ------------------ ------------------
3           0x00000000000007D3 0x00000000000007D0
2           0x00000000000007D2 0x00000000000007D0
4           0x00000000000007D4 0x00000000000007D3 
```

笔记：

这些`Created`值将始终等于`rowversion`分配的最后一个值，因此在某种意义上，与`Updated`值相比，它们将“滞后”。

此外，来自单个语句的多个插入将接收*相同* `Created`的值，而`Updated`值将始终是不同的。

# data-structures - 稀疏图和密集图有什么区别？

> ID：12599143
> 
> 赞同：50
> 
> 时间：2012-09-26T09:56:54.337
> 
> 标签：data-structures, graph, graph-theory

我读到用邻接表表示稀疏图和用邻接矩阵表示密集图是理想的。但我想了解稀疏图和密集图之间的主要区别。

* * *

## 回答 #1

> 赞同：42
> 
> 时间：2012-09-26T10:00:05.133

***密集图***是边数接近最大边数的图。 ***稀疏图***是边数接近最小边数的图。*稀疏图*可以是[*断开的图*](http://mathworld.wolfram.com/DisconnectedGraph.html)。

* * *

## 回答 #2

> 赞同：37
> 
> 时间：2012-09-26T10:04:54.263

正如名称所示，稀疏图是稀疏连接的（例如：树）。通常边的数量在 O(n) 中，其中 n 是顶点的数量。因此邻接表是首选，因为它们需要为每条边提供恒定的空间。

密集图是密集连接的。这里的边数通常是 O(n^2)。因此邻接矩阵是首选。

为了进行比较，我们假设图有 1000 个顶点。

无论图是密集的还是稀疏的，邻接矩阵都需要存储 1000^2 = 1,000,000 个值。

如果图是最小连接的（即它是一棵树），则邻接表需要存储 2,997 个值。如果图是全连接的，则需要存储 3,000,000 个值。

* * *

## 回答 #3

> 赞同：15
> 
> 时间：2012-09-26T10:01:27.057

来自[C++ 中具有面向对象设计模式的数据结构和算法，p。534，布鲁诺·赖斯（Bruno P. Reiss）](https://web.archive.org/web/20160604215638/http://www.brpreiss.com/books/opus4/html/page534.html)：

> 通俗地说，边相对较少的图是稀疏的，边多的图是密集的。
> 
> 定义（稀疏图）：稀疏图是一个图 G = (V, E)，其中 |E| = O(|V|)。
> 
> 定义（密集图） 密集图是一个图 G = (V, E)，其中 |E| = Θ(|V| ² )。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2012-09-26T10:02:04.380

图的主要积分特征是顶点数 V 和边数 E。这两者的关系决定了图是稀疏的还是密集的（[此处](http://en.wikipedia.org/wiki/Dense_graph)为 wiki 页面）。

选择内存中图形表示背后的整个理论是关于确定最佳访问时间与内存占用的权衡，考虑主题域和使用细节。

通常，您希望拥有 O(1) 访问时间（从而将图形存储为密集邻接矩阵），除非您不能容忍内存占用，在这种情况下，您选择最合适的稀疏矩阵表示（[此处](http://en.wikipedia.org/wiki/Sparse_matrix)的 wiki 页面）。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2017-02-17T00:07:29.990

在数学中，稠密图是边数接近最大边数的图。相反，只有几条边的图是稀疏图。稀疏图和密集图之间的区别相当模糊，并且取决于上下文。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2021-01-23T06:14:50.753

稀疏图 - 边缘相对较少的图（通常如果边缘 < |V| log |V|）称为稀疏图。密集图 - 可能缺失的边相对较少的图（与完整图相比）称为密集图。

# asp.net - 为什么我的 ASP.NET UserControl 类型一直无法访问？

> ID：12599144
> 
> 赞同：1
> 
> 时间：2012-09-26T09:57:08.297
> 
> 标签：asp.net, webforms

我有一个 ASP.NET 网站，其中包含一个用户控件，它使用以下代码以编程方式添加到 ASP.NET Web 表单中：

```
var control = (Deal)LoadControl("Deal.ascx");
control.ImageFile = dealNode.SelectSingleNode("thumbnail").InnerText;
control.ProductName = dealNode.SelectSingleNode("product").InnerText;
control.PriceText = dealNode.SelectSingleNode("price").InnerText;
DealList.Controls.Add(control); 
```

Deal控件非常简单：

```
<%@ Control Language="C#" AutoEventWireup="true" CodeFile="Deal.ascx.cs" Inherits="Deal" %>
<div class="deal">
    <img id="DealImage" runat="server" class="dealimage" />
    <div class="dealtext"><asp:Label ID="DealLabel" runat="server"></asp:Label></div>
    <div class="dealprice"><asp:Label ID="DealPriceLabel" runat="server"></asp:Label></div>
</div> 
```

及其背后的代码：

```
public string ImageFile { get; set; }
public string ProductName { get; set; }
public string PriceText { get; set; }

protected void Page_Load(object sender, EventArgs e)
{
    this.DealImage.Src = "images/" + ImageFile;
    this.DealLabel.Text = ProductName;
    this.DealPriceLabel.Text = PriceText;
} 
```

当我在 Visual Studio 2010 中运行网站时，它通常运行良好。但是，每隔一段时间（通常在签入或重新启动 VS2010 之后），它就会放弃并且不会编译。我得到错误：

```
The type or namespace name 'Deal' could not be found (are you missing a using directive or an assembly reference?) 
```

问题是该行中的演员：

```
var control = (Deal)LoadControl("Deal.ascx"); 
```

如果我注释掉用户控件的 Page_Load 代码，重新编译，然后取消注释代码并重新编译，一切都会再次正常。

谁能告诉我发生了什么事？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-26T11:16:14.687

尝试在页面标记内添加对控件的引用：

```
<%@ Reference Control="MyUserControl.ascx" %> 
```

看[这里](http://msdn.microsoft.com/en-us/library/c0az2h86%28v=vs.100%29.aspx)

# image - 如何在 Sencha Touch 2 的标题栏中心放置图像？

> ID：12599149
> 
> 赞同：3
> 
> 时间：2012-09-26T09:57:25.487
> 
> 标签：image, touch, extjs, center, titlebar

我需要在 sencha touch 2 的标题栏中心放置一个图像，但我不能！我接触了 js 和 CSS，但这是不可能的……有什么想法吗？谢谢！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-26T11:31:04.623

试试这个对你有帮助..

它非常简单......标题：'给出带有位置的图像标签'

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-26T10:59:15.247

你可以`setTitle('<div class="logo"/>')` 尝试

```
.logo {
    background: url('../images/logo.png')  no-repeat center;
    width:100px; 
    height:40px
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-19T04:54:37.300

ImageTitleBar 类。

```
Ext.define('myapp.controls.ImageTitleBar', {
    extend: 'Ext.TitleBar',
    alias: 'widget.imageTitleBar',

    requires: [
        'Ext.Img'
    ],

    config: {
        imageSource: ''
    },

    applyInitialItems: function(items) {
        var me = this,
            defaults = me.getDefaults() || {};

        me.initialItems = items;

        me.leftBox = me.add({
            xtype: 'container',
            style: 'position: relative',
            layout: {
                type: 'hbox',
                align: 'center'
            },
            listeners: {
                resize: 'refreshTitlePosition',
                scope: me
            }
        });

        me.spacer = me.add({
            xtype: 'component',
            style: 'position: relative',
            flex: 1,
            listeners: {
                resize: 'refreshTitlePosition',
                scope: me
            }
        });

        me.rightBox = me.add({
            xtype: 'container',
            style: 'position: relative',
            layout: {
                type: 'hbox',
                align: 'center'
            },
            listeners: {
                resize: 'refreshTitlePosition',
                scope: me
            }
        });

        me.titleComponent = me.add({
            xtype: 'container',
            hidden: defaults.hidden,
            centered: true,

            layout: {
                type: 'hbox',
                align: 'middle'
            }
        });

        me.titleImage = me.titleComponent.add({
            xtype: 'img',
            width: 36,
            height: 36
        })

        me.titleLabel = me.titleComponent.add({
            xtype: 'title'
        });

        me.doAdd = me.doBoxAdd;
        me.remove = me.doBoxRemove;
        me.doInsert = me.doBoxInsert;
    },

    updateTitle: function(newTitle) {
        this.titleLabel.setTitle(newTitle);
        this.titleLabel.setHidden(!newTitle);

        if (this.isPainted()) {
            this.refreshTitlePosition();
        }
    },

    updateImageSource: function(newImageSource) {
        this.titleImage.setSrc(newImageSource);
        this.titleImage.setHidden(!newImageSource);

        if (this.isPainted()) {
            this.refreshTitlePosition();
        }
    }
}) 
```

# cakephp - 在 CakePHP 中配置多个应用程序使用通用控制器模型视图？

> ID：12599155
> 
> 赞同：1
> 
> 时间：2012-09-26T09:57:43.650
> 
> 标签：cakephp, cakephp-1.3

在 CakePHP 中为通用控制器、模型和视图开发多个应用程序的最佳方法是什么？有人想开发这种类型的应用程序吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-26T10:12:05.840

这就是插件的用途——您可以创建一组控制器、模型、视图（以及更多），将它们打包在一起，然后将它们部署到所有应用程序中。有关详细信息，请参阅[CakePHP 食谱](http://book.cakephp.org/2.0/en/plugins.html)。

使用这种方法会为您的 url 添加一个额外的插件部分，这可以通过提供路由规则来修复。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-09-26T10:22:36.757

有两种方法可以做到这一点。

1.  将常用的控制器、模型和视图打包为插件
2.  将您的通用代码放在一组单独的目录中，并`App::build()`在 bootstrap.php 中使用以包含这些目录：

```
 App::build(array(
      'plugins' => array('/full/path/to/plugins/', '/next/full/path/to/plugins/'),
      'models' =>  array('/full/path/to/models/', '/next/full/path/to/models/'),
      'views' => array('/full/path/to/views/', '/next/full/path/to/views/'),
      'controllers' => array('/full/path/to/controllers/', '/next/full/path/to/controllers/'),
      'datasources' => array('/full/path/to/datasources/', '/next/full/path/to/datasources/'),
      'behaviors' => array('/full/path/to/behaviors/', '/next/full/path/to/behaviors/'),
      'components' => array('/full/path/to/components/', '/next/full/path/to/components/'),
      'helpers' => array('/full/path/to/helpers/', '/next/full/path/to/helpers/'),
      'vendors' => array('/full/path/to/vendors/', '/next/full/path/to/vendors/'),
      'shells' => array('/full/path/to/shells/', '/next/full/path/to/shells/'),
      'locales' => array('/full/path/to/locale/', '/next/full/path/to/locale/')
  )); 
```

# database - 使用哪个属性作为PK？

> ID：12599158
> 
> 赞同：-1
> 
> 时间：2012-09-26T09:57:48.263
> 
> 标签：database, primary-key, normalization, entity-relationship, erd

我有一张名为 Vehicles 的表。而这张表有8个属性：

*   车辆识别码
*   注册号
*   制造商（本田、福特等）
*   模型
*   颜色
*   乘客人数
*   里程表的当前读数
*   特征

我应该使用 Vehicle ID 作为 PK 还是 reg_no 作为 PK？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-26T10:04:40.930

由于该表称为车辆，我会说车辆 ID。但这也取决于车辆是否多次输入数据库的事实，例如多个所有者。

# c - SO_REUSEADDR 是否有套接字可以使用相同地址的限制？

> ID：12599159
> 
> 赞同：0
> 
> 时间：2012-09-26T09:57:50.013
> 
> 标签：c, network-programming

是否有最大套接字数可以限制 REUSEADDR 套接字操作。我达到了文件描述符的最大数量，但我可以对所有套接字使用相同的地址和端口，重用地址操作的数量是否有限制？？？？如果有，我怎样才能得到号码

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-26T10:03:15.500

这取决于套接字的用途。如果它是 TCP 侦听套接字，则每个接口一次只能有一个，并且 SO_REUSEADDR 允许您做的就是忽略现在处于 TIME_WAIT 状态的任何剩余连接端口。如果是出站 TCP 连接，我什至不知道答案。如果它是多播 UDP 接收端口，您可以拥有任意数量的端口。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-05-24T06:10:21.617

在您的服务器中，将主机设置为“0.0.0.0”。这将强制套接字侦听任何接口。这可能是问题之一。

# android - 使用 Android 传感器确定广告牌的高度和宽度

> ID：12599160
> 
> 赞同：0
> 
> 时间：2012-09-26T09:57:56.100
> 
> 标签：android, trigonometry, android-sensors, gyroscope, sensormanager

在 Google Play 商店中有一个名为 Smart Measure 的应用程序，可用于测量对象的高度和宽度。我想将此功能集成到我正在开发的调查应用程序中。

首先，我用这个应用程序做了一两次测试，它似乎足够准确。是否有人对应用程序用于确定高度和宽度的这种技术的可能准确性有任何意见？

我将如何使用运动和位置传感器来确定大约 10 米外物体的高度和宽度？我可以处理的三角方面的事情，我只需要一种能确保至少 1 米精度的方法。

有没有可以使用的开源库？我知道这是一个开放式问题，但不确定是否要问这个问题。任何知识或帮助将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-26T10:11:03.213

我已经下载了这个应用程序，它看起来很不错。我认为这种方法是可靠的。应用程序的准确性在很大程度上取决于所使用的实际设备的硬件。传感器的准确度将是非常可变的。这些应用程序提供了将应用程序校准到您的设备的选项。我想说您需要自己进行测量，以了解使用一系列设备的准确性。

# c# - 重命名 XML 文件中的节点并为其提供参数？

> ID：12599161
> 
> 赞同：1
> 
> 时间：2012-09-26T09:58:03.633
> 
> 标签：c#, xml

我已经从数据集创建了一个 xml 文件，但是`<NewDataset>`我需要将第一个节点更改为，`<FormData>`并且我还需要添加一些参数，例如 Platform="Android" 和 Version="488"。

有什么方法可以在它仍然是数据集时更改它，还是在我更改它之后我必须调用文件然后保存它？

我对数据文件的了解很少，我真的需要一些帮助。

* * *

当前的 xml 文件

```
<NewDataSet>
  <FieldData>
    <property_details_gps_location>-29.77861, 31.008617</property_details_gps_location>
    <property_details_address_address1>27 MANJEE</property_details_address_address1>
    <property_details_address_address2>KENVILLE</property_details_address_address2>
    <property_details_address_city>ETHEKWINI</property_details_address_city>
    <property_details_address_state>KWAZULU NATAL</property_details_address_state>
  </FieldData>
</NewDataSet> 
```

* * *

我希望达到的目标：

```
<FormData Platform="Android" PlatformVersion="73" Version="488" DataVersion="1" Description="Investec - Res" FormId="d617a5e8-b49b-4640-9734-bc7a2bf05691" FileId="bce3a788-6725-4ce2-b965-1b55c6e7cc95" EncryptionVerification="" CreatedBy="Shaunm" EditedBy="Shaunm">
  <FieldData>
    <property_details_gps_location>-29.77861, 31.008617</property_details_gps_location>
    <property_details_address_address1>27 MANJEE</property_details_address_address1>
    <property_details_address_address2>KENVILLE</property_details_address_address2>
    <property_details_address_city>ETHEKWINI</property_details_address_city>
    <property_details_address_state>KWAZULU NATAL</property_details_address_state>
  </FieldData>
</FormData> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-26T10:16:38.863

您可以通过 LINQ to XML 轻松修改/添加元素/属性。

```
 XDocument doc = XDocument.Parse(dataSetObject.GetXml());
 doc.Root.Name  = "FormData ";
 doc.Root.Add(new XAttribute("Platform", "Android"));
 ...
 doc.Save("sample.xml"); 
```

要列出子节点，

```
foreach (XElement element in doc.Root.Element("FieldData").Descendants())
 {
   Console.WriteLine(element.Name + " : " + element.Value );
  } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-26T10:01:17.000

您可以使用 XSL-T 对原始流进行简单的转换。拥有它后，您可以在内存中编写或操作它。

# graphics - 硬连线功能和 GPU 与 CPU

> ID：12599163
> 
> 赞同：-1
> 
> 时间：2012-09-26T09:58:09.310
> 
> 标签：graphics, gpu, hardware-acceleration

为什么有些功能是硬连线的（主要是那些在游戏中使用的功能，比如交换帧缓冲区）？硬件加速一词是什么意思？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-26T16:27:04.973

我从未听说过通用计算中的硬连线。

硬件加速意味着应用程序的开发是为了利用运行应用程序的系统上的加速器。大多数传统的硬件加速器是大多数桌面系统中的 GPU。在超级计算中，加速器一词是指加速特定计算的 IBM PowerPC BQC、英特尔至强融核、GPU 或 FPGA 协处理器。

# sql - 将表达式转换为数据类型日期时间时出现算术溢出错误

> ID：12599167
> 
> 赞同：0
> 
> 时间：2012-09-26T09:58:15.113
> 
> 标签：sql, sql-server, sql-server-2008

在以下查询中：

```
SELECT 
  DU.MESSAGEINSERTDATE 
from [MYSMSREPORT].[DBO].[SIXDAYSHISTORY] 
where
  (CONVERT(NVARCHAR, CONVERT(DATETIME, MESSAGEINSERTDATE, 104), 112) 
  BETWEEN 
     CONVERT(NVARCHAR, CONVERT(DATETIME, 01/08/2008, 104), 112) 
  AND CONVERT(NVARCHAR,CONVERT(DATETIME,31/09/2012,104),112)) 
```

我有这个错误：

> 将表达式转换为数据类型日期时间的算术溢出错误

问题是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-26T10:16:54.173

9 月 31 日不是日期，因此 SQL 无法将其转换为日期。

顺便说一句，您应该以文化非特定格式 (yyyyMMdd) 对日期进行硬编码。`01/08/2012`可能会在您的服务器上转换为 8 月 1 日，但在另一个服务器上运行它可能是 1 月 8 日。20120801 将在**所有**机器上转换为 8 月 1 日。

另外，您为什么要将日期转换为`NVARCHAR`？您正在删除您拥有的索引的任何好处，并且还执行不必要的隐式和显式转换。假设`MESSAGEINSERTDATE`您可以使用 DATETIME 列

```
WHERE MESSAGEINSERTDATE BETWEEN '20120801' AND '20120930' 
```

如果您需要取消使用`MESSAGEINSERTDATE`时间

```
CAST(MESSAGEINSERTDATE AS DATE) 
```

# c# - 为什么我无法获取属性值，在 c#/xaml Metro 应用程序中将一个类设置为另一个类？

> ID：12599169
> 
> 赞同：1
> 
> 时间：2012-09-26T09:58:24.977
> 
> 标签：c#, oop, properties, microsoft-metro, windows-runtime

我在 WinRT 中开发一个应用程序，我需要将在一个类中设置的属性值传递给另一个类，但我无法获取它们。我下面的代码将向您解释我的问题。请注意，我已经在模拟器中对此进行了测试，并在清单中添加了定位功能。我已经在模拟器中[设置了位置。](http://michaelcrump.net/a-few-additional-options-inside-the-windows-simulator-in-vs11-beta)

主页.xaml

```
<Grid Background="{StaticResource ApplicationPageBackgroundThemeBrush}">
     <TextBlock x:Name="MyTextBlock"/>
</Grid> 
```

MainPage.xaml.cs

```
protected override void OnNavigatedTo(NavigationEventArgs e)
{
    MyClass objMyClass = new MyClass();
    MyTextBlock.Text = objMyClass.Lat.ToString() + ", " + objMyClass.Long.ToString();
} 
```

我的类.cs

```
public class MyClass
{
    public double Lat { get; set; }
    public double Long { get; set; }

    public MyClass()
    {
        FindLatLong();
    }

    public async void FindLatLong()
    {
        Geolocator geolocator = new Geolocator();
        var pos = await geolocator.GetGeopositionAsync();
        Lat = pos.Coordinate.Latitude;
        Long = pos.Coordinate.Longitude;
    }
} 
```

我得到输出“0,0”

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-26T10:03:05.907

FindLatLong 是异步执行的，因此不会在构造函数之后直接设置 Lat/Lon 属性

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-26T10:37:42.010

终于从 MSDN 论坛得到了我的[答案。](http://social.msdn.microsoft.com/Forums/en-US/winappswithcsharp/thread/fdecdee9-e019-4f81-bed9-5192145015bc/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-27T05:31:15.247

显示您的位置的另一种方法是实现**INotifyPropertyChanged**接口并将您的文本框绑定到类的属性。

# php - Symfony2 中的“Acme”代表什么？

> ID：12599170
> 
> 赞同：49
> 
> 时间：2012-09-26T09:58:30.433
> 
> 标签：php, symfony

Symfony2 中的标准捆绑包是“Acme”，但它代表什么？

* * *

## 回答 #1

> 赞同：77
> 
> 时间：2012-09-26T09:59:23.320

ACME（A Company (that) Makes Everything）是 Looney Tunes 中的一家虚构公司：[http ://en.wikipedia.org/wiki/Acme_Corporation](http://en.wikipedia.org/wiki/Acme_Corporation)

它用作[占位符名称](https://en.wikipedia.org/wiki/Placeholder_name)（如“foo”、“bar”等）。

![在此处输入图像描述](../Images/938f7723f42985cbe1b6ea5ada2a1585.png)

* * *

## 回答 #2

> 赞同：21
> 
> 时间：2013-03-26T23:45:41.503

它的意思是“一家（那）制造一切的公司”

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2012-09-26T10:12:31.183

*ACME*是这些标准包的根命名空间名称。您应该将其中的代码标识为您自己编写的代码，而不是您不应该接触的框架本身的代码。

您可以在介绍性章节[The Big Picture](http://web.archive.org/web/20121030234427/http://symfony.com/doc/2.0/quick_tour/the_big_picture.html)（存档副本）中找到该命名空间的用法。

它被用作示例，它暗示了*您公司*的名称，请参阅维基百科上的[Acme Corporation以获取一些文化参考。](http://en.wikipedia.org/wiki/Acme_Corporation)

但可以肯定的是，Symfony2 既不是电脑游戏也不是虚构电影，所以可能很难画出这条连接线。

*另请参阅：* **[[新手] 为什么选择 ACME 前缀？（symfony 框架论坛）](http://forum.symfony-project.org/viewtopic.php?f=3&t=35419)**（2011 年 5 月 21 日）

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-09-08T23:30:52.780

ACME 是一种简单有趣的方式，可以暗示它是“一家（那）制造一切的公司”，而不是一家名为`foo`or的公司`baz`。虽然它确实与卡通有关，但自谷歌趋势开始以来，这个词[的搜索趋势一直很大。](https://www.google.com/trends/explore?date=all&q=acme)

# jquery - 用jQuery隐藏html表格的中间列

> ID：12599173
> 
> 赞同：2
> 
> 时间：2012-09-26T09:58:33.070
> 
> 标签：jquery, html-table

有人问过类似的问题，但我不确定它们是否符合这种特殊情况，

我有一个 html 表格，如下所示。我想要实现的是隐藏/显示第 2 列和第 3 列，只要在第 1 列的任意位置单击。

如何使用 jQuery 切换显示第 2 列和第 3 列？

```
<table id="my_table">
    <thead>
        <tr>
            <th id="col1">First</th>
            <th id="col2">Second</th>
            <th id="col3">Third</th>
            <th id="col4">Fourth</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td id="col1">1</td>
            <td id="col2">1.1</td>
            <td id="col3">1.2</td>
            <td id="col4">1.3</td>
        </tr>
        <tr>
            <td id="col1">2</td>
            <td id="col2">2.1</td>
            <td id="col3">2.2</td>
            <td id="col4">2.3</td>
        </tr>
        <tr>
            <td id="col1">3</td>
            <td id="col2">3.1</td>
            <td id="col3">3.2</td>
            <td id="col4">3.3</td>
        </tr>
        <tr>
            <td id="col1">4</td>
            <td id="col2">4.1</td>
            <td id="col3">4.2</td>
            <td id="col3">4.3</td>
        </tr>
    </tbody>
    <tfoot>
        <tr>
            <th id="col1">f1</th>
            <th id="col2">f2</th>
            <th id="col3">f3</th>
            <th id="col4">f4</th>
        </tr>
    </tfoot>
</table> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-26T10:03:27.373

```
var rows = $('tr');
rows.find('th:first-child, td:first-child').on('click', function() {
    rows.find('td:eq(1), td:eq(2)').toggle()
    rows.find('th:eq(1), th:eq(2)').toggle()

    /* or simply 
       rows.find('td:eq(1), td:eq(2), th:eq(1), th:eq(2)').toggle(); */
}); 
```

示例 jsbin：http: [//jsbin.com/ucewoz/2/edit](http://jsbin.com/ucewoz/2/edit)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-26T11:05:50.630

您不能在每一行中使用相同的 ID。ID 必须是唯一的。您应该改用类。然后你可以写：

```
$('.col1').click(function() {
    $('.col2, .col3').toggle();
}); 
```

# android - 如何将经度和纬度发送到地图应用程序以在地图上显示特定坐标？

> ID：12599182
> 
> 赞同：1
> 
> 时间：2012-09-26T09:58:53.007
> 
> 标签：android, google-maps

我有一个应用程序，在其中单击按钮、更改位置或特定时间后，我可以获得经度和纬度值。我想用这个值在谷歌地图应用程序上显示它们。我正在使用意图显示位置的地图打开地图，但不知何故它没有显示我得到的坐标。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-26T10:14:35.573

这是我在我的一个应用程序中使用的一段工作代码。此代码还包括检查用户是否在他/她的设备上安装了 Google 地图。如果检查将应用程序返回为*已安装*，则该函数会将数据传递给应用程序。如果检查失败，它会显示一个 AlertDialog 通知用户未安装该应用程序。

```
protected void showMap() {

    boolean installedMaps = false;

    // CHECK IF GOOGLE MAPS IS INSTALLED
    PackageManager pkManager = getPackageManager();
    try {
        @SuppressWarnings("unused")
        PackageInfo pkInfo = pkManager.getPackageInfo("com.google.android.apps.maps", 0);
        installedMaps = true;
    } catch (Exception e) {
        e.printStackTrace();
        installedMaps = false;
    }

    // SHOW THE MAP USING CO-ORDINATES FROM THE CHECKIN
    if (installedMaps == true) {
        String geoCode = "geo:0,0?q=" + PLACE_LATITUDE + ","
                + PLACE_LONGITUDE + "(" + PLACE_NAME + ")";
        Intent sendLocationToMap = new Intent(Intent.ACTION_VIEW,
                Uri.parse(geoCode));
        startActivity(sendLocationToMap);
    } else if (installedMaps == false) {

        AlertDialog.Builder alertDialogBuilder = new AlertDialog.Builder(
                CheckinsDetails.this);

        // SET THE ICON
        alertDialogBuilder.setIcon(R.drawable.ic_launcher);

        // SET THE TITLE
        alertDialogBuilder.setTitle("Google Maps Not Found");

        // SET THE MESSAGE
        alertDialogBuilder
                .setMessage(R.string.noMapsInstalled)
                .setCancelable(false)
                .setNeutralButton("Got It",
                        new DialogInterface.OnClickListener() {
                            public void onClick(DialogInterface dialog,
                                    int id) {
                                dialog.dismiss();
                            }
                        });

        // CREATE THE ALERT DIALOG
        AlertDialog alertDialog = alertDialogBuilder.create();

        // SHOW THE ALERT DIALOG
        alertDialog.show();
    }
} 
```

下面提到的这行代码将其发送到谷歌地图，而不是只显示*Pin* ，还显示位置名称。

```
String geoCode = "geo:0,0?q=" + PLACE_LATITUDE + ","
                    + PLACE_LONGITUDE + "(" + PLACE_NAME + ")"; 
```

*编辑：*如果您不希望显示*PLACE_NAME*，请修改该特定行：`geo:latitude,longitude`而不是代码块中使用的行。

检查此链接以获取更多可能的组合，例如*缩放*：http : [//developer.android.com/guide/appendix/g-app-intents.html](http://developer.android.com/guide/appendix/g-app-intents.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-26T10:10:52.887

```
Double latitud = 37.40*1E6;
            Double longitud = -5.99*1E6;

            GeoPoint loc =
                new GeoPoint(latitud.intValue(), longitud.intValue());

            controlMapa.animateTo(loc);

            int zoomActual = mapa.getZoomLevel();

            for(int i=zoomActual; i<10; i++)
                controlMapa.zoomIn();
        } 
```

在哪里

```
 controlMapa = mapa.getController();

      mapa = (MapView)findViewById(R.id.linearLayout1); 
```

更多信息：[MapView 教程](https://developers.google.com/maps/documentation/android/hello-mapview)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-19T16:35:28.630

试试这个：

```
String url = "http://maps.google.com/maps?daddr="+ ze.getCoordenada().getLatitude() + ","+     ze.getCoordenada().getLongitude();
Intent goZe = new Intent(Intent.ACTION_VIEW);
goZe.setData(Uri.parse(url));
startActivity(goZe); 
```

您将收到使用浏览器或地图的提示

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-09-07T09:34:43.523

不知何故，在谷歌上使用这个字符串

```
String url = "http://maps.google.com/maps?daddr="+ ze.getCoordenada().getLatitude() + ","+     ze.getCoordenada().getLongitude(); 
```

选择谷歌地图时显示相反的经度和纬度，而网站是正确的。

也许我使用的是旧版本的谷歌地图

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2017-12-02T23:09:18.300

```
public void showMap(long latitude, long longitude) {
    String geoCode = "geo:0,0?q=" + latitude + ","
                        + longitude;
    Intent sendLocationToMap = new Intent(Intent.ACTION_VIEW, Uri.parse(geoCode));
    if (sendLocationToMap.resolveActivity(getPackageManager())!=null){
        startActivity(sendLocationToMap);
    }
    else {
        Toast.makeText(this,"No Application To handle the Request",Toast.LENGTH_SHORT).show();
    }
} 
```

# android - 如何在不进入对话框的情况下显示 SharedPreference 的值

> ID：12599183
> 
> 赞同：0
> 
> 时间：2012-09-26T09:58:55.460
> 
> 标签：android, android-layout, sharedpreferences

我在 XML 文件中定义的应用程序中有一些共享首选项。它们是 EditTextPreferences。我想在 Preference 屏幕上显示现有值，这样用户就不必进入 Preference Edit Dialog 来查看 Preference 的当前值。defaultValue 仅在对话框屏幕中可见。我想在主首选项屏幕中查看 defaultValue - 可能在 android:summary 的位置。我怎样才能做到这一点？

```
<EditTextPreference
  android:key="PREF_LT_500"
  android:title="Step 1"
  android:summary="I dont want a summary - I want to show current value"
  android:inputType="numberDecimal" 
  android:defaultValue="0.8952"
  android:dialogTitle="Enter Blah " /> 
```

提前致谢

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-09-26T10:38:41.817

你可以试试：

```
yourPrefrence.getText(); 
```

或更通用的解决方案：

```
SharedPreferences p = PreferenceManager.getDefaultSharedPreferences(this);

String ans = p.getString(keyStr, defaultValue); 
```

当这是一个上下文时，keyStr 是键，而 defaultValue 是一个默认值，以防找不到键（通常是“”）

# qt - QT sql编程

> ID：12599189
> 
> 赞同：-1
> 
> 时间：2012-09-26T09:59:15.527
> 
> 标签：qt, qthread, qtsql

包括“mythread.h

```
mythread::mythread(int ID, QObject *parent) :
QThread(parent)

{
    this->socketDescriptor = ID;
    db = QSqlDatabase::addDatabase("QODBC");
    db.setHostName("127.0.0.1");
    db.setDatabaseName("mydsn");

    if (db.open())
    {
        qDebug() << "DB is connected!";
        myquery->clear();
        myquery->exec("INSERT INTO phone_table(name_) VALUES ('asdhjs')");
        db.close();
    }
    else
    {
        qDebug() << "Db is not connected!" << db.lastError();
    }
} 
```

当我插入数据时，它出现错误 Myserver.exe Myserver.exe 已停止工作 Windows 正在检查问题的解决方案...谁能帮助我？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-26T12:42:12.323

试试这个，而不是你的两`myquery`行：

```
 QSqlQuery q(db);
    q.exec("INSERT INTO phone_table(name_) VALUES ('asdhjs')"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-26T12:30:49.737

您需要`myquery`使用数据库初始化对象。

尝试将您的代码更改为此。

```
if (db.open())
{
    qDebug() << "DB is connected!";

    // Allocate the query object.
    myquery = new QSqlQuery( db ); 
    myquery->clear();
    myquery->exec("INSERT INTO phone_table(name_) VALUES ('asdhjs')");
    db.close();
}
else
{
    qDebug() << "Db is not connected!" << db.lastError();
} 
```

# javascript - Jquery .css 和动态生成的图像？

> ID：12599190
> 
> 赞同：0
> 
> 时间：2012-09-26T09:59:18.437
> 
> 标签：javascript, jquery, css

我正在使用带有查询字符串参数的 url 生成一些缩略图，例如：

```
http://localhost:7229/GenerateImage.ashx?image=/media/map-v2.png&width=320&height=200 
```

我正在尝试使用 jquery 将此图像分配给元素的背景：

```
<div id="myDiv"></div>

<script type="text/javascript">
  $(document).ready(function() {
    $('#myDiv').css("background-image", "http://localhost:7229/GenerateImage.ashx?image=/media/map-v2.png&width=320&height=200");
  });
</script> 
```

但是图像没有显示。当我在浏览器窗口中输入 url 时，它确实按预期返回了一个图像。但由于某种原因，我无法使用 jquery 将其分配为背景图像。

有谁知道我在这里做错了什么？使用带有 css 的动态生成的图像有问题吗？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-26T10:01:51.397

这应该有效，您没有使用正确的背景图像语法：

```
<script type="text/javascript">
  $(document).ready(function() {
    $('#myDiv').css("background-image", "url(http://localhost:7229/GenerateImage.ashx?image=/media/map-v2.png&width=320&height=200)");
  });
</script> 
```

我还可以建议其他两项修改：

1.  您的 URL 中的图像参数应该是 URL 编码的
2.  使用起来更整洁，`$(function(){})`而不是`$(document).ready(function(){})`

所以以下将是重写：

```
<script type="text/javascript">
  $(function() {
    $('#myDiv').css("background-image", "url(http://localhost:7229/GenerateImage.ashx?image=%2Fmedia%2Fmap-v2.png&width=320&height=200)");
  });
</script> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-26T10:03:10.863

使用以下代码，它应该可以工作：

```
$('#myDiv').css("background-image", "url(http://localhost:7229/GenerateImage.ashx?image=/media/map-v2.png&width=320&height=200)"); 
```

您忘记应用 url() 来添加背景图像。

# codeigniter - 使用 FPDF 库的空白输出 PDF - codeigniter

> ID：12599192
> 
> 赞同：1
> 
> 时间：2012-09-26T09:59:25.147
> 
> 标签：codeigniter, fpdf

我将使用 FPDF 库生成 PDF 报告，但输出为空白。没有显示错误，我该如何解决这个问题？

无论如何，我在 LOCALHOST 中尝试了这段代码，它运行良好，但是当我将它上传到云端时，没有输出要显示..我试图让函数输出像这样..

```
$this->fpdf->OUTPUT('try.pdf','I'); but nothing happens.. 
```

注意：在我的输出 C:/backup/employee_..php 中，输出在文件夹中，没有错误并且工作正常.. 但是当我上传这个时，没有输出要显示

这是我的控制器：

```
public function backup_employees_pdf()
{

    $this->load->library('fpdf');   

    define('FPDF_FONTPATH',$this->config->item('fonts_path'));
    $this->fpdf =new FPDF('L', 'mm', 'Legal', true, 'UTF-8', false);
    $this->fpdf->AliasNbPages();
    $this->fpdf->AddPage();

    //load data
    $data = array();
    $row = $this->m_employee->load_data_employees();
    $data = $row->result();

    // Whatever written here will come in header of the pdf file.

    $this->fpdf->Image('assets/images1/mpowerstafflogo.jpg',10,5,50,50,'','www.mpowerstaff.com');
    $this->fpdf->SetFont('Arial','B',15);
    $this->fpdf->Cell(140);
    $this->fpdf->Cell(50,10,'Employee File Management Website',0,0,'C');
    $this->fpdf->Ln(5);
    $this->fpdf->Cell(140);
    $this->fpdf->Ln(5);
    $this->fpdf->SetFont('Arial','',12);
    $this->fpdf->Cell(140);
    $this->fpdf->Cell(50,10,'3F Room 305 Jackson Bldg. 926 Arnaiz Ave., San Loreno Village Makati City, 1223 PHILIPPINES',0,0,'C');
    $this->fpdf->Ln(5);     
    $this->fpdf->Ln(5);
    $this->fpdf->Cell(140);
    $this->fpdf->Cell(50,10,'Tel. (632) 810-4026 * 810-9121',0,0,'C');
    $this->fpdf->Ln(5);
    $this->fpdf->Ln(5);
    $this->fpdf->Cell(140);
    $this->fpdf->Cell(50,10,'Email: mpowerstaff@yahoo.com',0,0,'C');
    $this->fpdf->Ln(10);
    $this->fpdf->SetFont('Arial','B',12);
    $this->fpdf->Cell(140);
    $this->fpdf->Cell(50,10,'Employees Report',0,0,'C');
    $this->fpdf->Ln(15);

    // Colors, line width and bold font
    $this->fpdf->SetFillColor(105,100,231);
    $this->fpdf->SetTextColor(255);
    $this->fpdf->SetDrawColor(60,89,117);
    $this->fpdf->SetLineWidth(0.3);
    $this->fpdf->SetFont('', 'B');

    // Header   
    $w = array(35,80,40,40,40,40,61);

    $this->fpdf->Ln();

    //border LRTB
    $this->fpdf->Cell(5);
    $this->fpdf->Cell(90,10,'NAME',1,0,'C', 'LR');
    $this->fpdf->Cell(60,10,'ACCOUNT NUMBER',1,0,'C', 'LR');
    $this->fpdf->Cell(60,10,'ADDRESS',1,0,'C', 'LR');
    $this->fpdf->Cell(60,10,'BIRTHDAY',1,0,'C', 'LR');
    $this->fpdf->Cell(60,10,'CONTACT NO.',1,0,'C', 'LR');
    $this->fpdf->Ln(10);

    // Color and font restoration
    $this->fpdf->SetFillColor(224, 235, 255);
    $this->fpdf->SetTextColor(0);
    $this->fpdf->SetFont('');

    $fill = 0;
    //data
    foreach($data as $empsItem)
    {      
        $this->fpdf->Cell(5);
        $this->fpdf->Cell(90,10,$empsItem->name,1,0,'C',$fill);
        $this->fpdf->Cell(60,10,$empsItem->account_no,1,0,'C',$fill);
        $this->fpdf->Cell(60,10,$empsItem->address,1,0,'C',$fill);
        $this->fpdf->Cell(60,10,$empsItem->birthday,1,0,'C',$fill);
        $this->fpdf->Cell(60,10,$empsItem->contact_no,1,0,'C',$fill);
        $this->fpdf->Ln(10);
        $fill=!$fill;   
    }

    $this->fpdf->Ln(30);
    $this->fpdf->SetFont('Arial','B',10);
    $this->fpdf->Cell(20, 5,'Total Employees: '.$row->num_rows(), '', 0, 'LR', 0);

    $this->fpdf->SetY(184);
    $this->fpdf->SetFont('Arial','I',8);
    $this->fpdf->Cell(0,10,'Copyright. All Rights Reserved',0,0,'C');
    $this->fpdf->Cell(0,10,'Page '.$this->fpdf->PageNo().' of {nb}',0,0,'C');

    $dir = 'C:/backup/';
    $filename = "employee report";

    $this->fpdf->Output($dir.$filename.'.pdf');
} 
```

//====这是我的模型===//

```
public function load_data_employees()
{
    $query = $this->db->query("SELECT concat(e_first_name,' ',e_middle_name,' ',e_last_name) AS 'name',account_number AS 'account_no',address AS 'address',birthday AS 'birthday',contact_number AS 'contact_no'FROM tb_emp where status='available'");
    return $query;
} 
```

//== CONFIG.PHP==//

```
$config['fonts_path']= "./system/fonts/font/"; 
```

这就是细节。我试图解决这个问题，但仍然没有输出。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T07:11:57.030

我有同样的问题，这是我的解决方案：

而不是使用

```
$this->fpdf =new FPDF() 
```

我用了

```
$pdf = new FPDF(); 
```

那么你可以使用 $pdf->... 而不是 $this->pdf->...

这是一个例子：

```
define('FPDF_FONTPATH',$this->config->item('fonts_path'));
$this->load->library(array('fpdf','fpdf_rotate','pdf'));
$this->pdf->Open();
$pdf = new PDF();
$pdf->AliasNbPages();
$pdf->AddPage();
$pdf->SetFont('Arial', '', 12);
$pdf->SetDrawColor(0);
$pdf->MultiCell(100,5,"Test\n line of text");
$pdf->Output('test.pdf', 'D'); 
```

奇迹般有效 ;）

# sharepoint-2010 - 从文档中删除 sharepoint 2010 元数据。PDFSharp 问题

> ID：12599193
> 
> 赞同：0
> 
> 时间：2012-09-26T09:59:29.403
> 
> 标签：sharepoint-2010, metadata, pdfsharp, pdf-reader

我正在将 pdf 上传到 sharepoint 2010 文档库。当我下载文档时，它与阅读器完美阅读。但是，如果我尝试使用 PdfReader.Open() 读取它，我会收到这样的错误“不需要令牌 {0}”。我用记事本打开了文件，发现在 EOF 指令之后附加了一些附加的元数据。这里是：

```
 <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:o="urn:schemas-microsoft-com:office:office" __expr-val-dir="ltr" lang="en-us" dir="ltr">
<head><meta http-equiv="X-UA-Compatible" content="IE=8" /><meta name="GENERATOR" content="Microsoft SharePoint" /><meta name="progid" content="SharePoint.WebPartPage.Document" /><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta http-equiv="Expires" content="0" /><title>

</title><link rel="stylesheet" type="text/css" href="/_layouts/1033/styles/Themable/layouts.css?rev=aTcoNUf8p1YiDzYCg3%2FLIw%3D%3D"/>
<link rel="stylesheet" type="text/css" href="/_layouts/1033/styles/Themable/minimalv4.css?rev=QACXwfVflZPCtqqy8xasdg%3D%3D"/>
<script type="text/javascript">
// <![CDATA[
document.write('<script type="text/javascript" src="/_layouts/1033/init.debug.js?rev=%2FOmktAG7ectPWwTJWj46Jg%3D%3D"></' + 'script>');
document.write('<script type="text/javascript" src="/ScriptResource.axd?d=jo-qr0uliogUxPfGJgzwxlqqWGBr4ZQluJCkvu8GepmnwGeFGOBx2X6f7wOlonZsuHJrCfGg7ytQi9ybHdfIl1fvn6n8Vuaq0wsG6vUtnzOGD8fu_G39skSe9cmTWAC6F-_-We2xD8lqcXK1byyw96tPn4EBhYftzRXUJNfk2rFTka_l0&amp;t=ffffffffb868b5f4"></' + 'script>');
document.write('<script type="text/javascript" src="/_layouts/blank.debug.js?rev=jE3bS2JFTB63z3iWgauX9w%3D%3D"></' + 'script>');
document.write('<script type="text/javascript" src="/ScriptResource.axd?d=eK8NeFyqifiHIEBZsFu4DhSSm0KVdY12CSYlSDjGl2uBdrQ2ToscBqrAQ1ddvJKOdrp6VqIT5TQ9OqvDJASGOt1CljJjTdqIcylj3CjCbrU_l0ItIA5uEutZo6JDaaHbjt375r4t5aJWxuHVzPRF7kIr55lO5VXdkDUGYVkEvu5_erFl0&amp;t=ffffffffb868b5f4"></' + 'script>');
// ]]>
</script> 
```

还有更多要展示的，但应该足够了。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-26T10:14:07.990

也许修改 ReadTrailer 方法就足够了，如下所述：http: [//forum.pdfsharp.net/viewtopic.php?p =583#p583](http://forum.pdfsharp.net/viewtopic.php?p=583#p583)

如果问题仍然存在，请提供样本 PDF 文件以供进一步检查。

# android - 有没有办法在 Android 中读取 BBC 新闻应用的使用历史记录？

> ID：12599200
> 
> 赞同：0
> 
> 时间：2012-09-26T10:00:10.760
> 
> 标签：android, history

在我的项目中，我需要访问 BBC 新闻等新闻应用的使用历史（用户阅读的新闻）。BBC 新闻或任何其他新闻应用程序是否以某种文件或格式保存用户阅读的新闻历史记录？提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-26T12:25:40.453

> BBC 新闻或任何其他新闻应用程序是否以某种文件或格式保存用户阅读的新闻历史记录？

出于明显的隐私和安全原因，我希望他们不要以任何公开可读的方式。

# jquery - 在流体布局上尝试使用 Jquery 等高列 - 文本溢出。:(

> ID：12599201
> 
> 赞同：1
> 
> 时间：2012-09-26T10:00:19.973
> 
> 标签：jquery, css, equal-heights

我知道很多 css 不错的解决方案等...简而言之，我希望它能够工作，关于我是否有填充、边距、没有额外的标记、阴影、背景颜色......所以......我我只是在寻找它的 jquery 版本。

在 SO 上找到了一些。试图申请。似乎几乎可以工作。当您缩小窗口时，文本会重叠。如果禁用 js，则不会。

[http://jsfiddle.net/ApUYv/4/](http://jsfiddle.net/ApUYv/4/)

两个问题：

**1）我们如何避免文本重叠？**

**2）我们应该使用 document.ready 还是 window.load ？**

请注意：`overflow: auto;`可能不是一个选项，因为设计者不需要滚动条。:(

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-26T10:19:07.903

不确定，这是否是您要查找的内容。但是我更改了您的 javascript 代码以重新调整窗口调整大小时的列高度：http: [//jsfiddle.net/ApUYv/6/](http://jsfiddle.net/ApUYv/6/)

```
function resetHeight() {
   var maxHeight = 0;
   $(".equal-height").height("auto").each(function(){ 
       maxHeight = $(this).height() > maxHeight ? $(this).height() : maxHeight; 
   }).height(maxHeight);
}
resetHeight();
// reset height on resize of the window:
$(window).resize(function() { 
    resetHeight();
}); 
```

要在调整窗口大小时调整列大小，您需要使用回调 on `$(window).resize()`，因此我已将您的代码封装到 function`resetHeight`中。

然后，您需要在每次调用此函数时重新计算 maxHeight 并正确执行此操作，您需要将每个 div 的高度`auto`临时重置，以便任何先前的设置都不会弄乱您的`.each()`循环。此外，您需要将变量重置`maxheight`为`0`每次，因为之前的值仍在其中。

那是你想要的吗？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-26T10:08:21.280

1）除非我将其调整为非常小的尺寸，否则我看不到它重叠。您应该考虑为非常小的屏幕（如移动设备）添加`display:block;`媒体[查询](http://webdesignerwall.com/tutorials/css3-media-queries)，以便列变成行。

使用此媒体查询检查您的代码的[更新小提琴：](http://jsfiddle.net/gionaf/ALUYr/)

```
@media only screen and (max-width:400px /*change it to your needs*/) {
    #one, #two, #three, #four {
        float:none; display:block; width:100%; margin:1% 0; height:auto !important;
    }
}​ 
```

此外，为了防止在调整窗口大小时文本重叠，请将 jQuery 函数包装成：

```
$(document).on('load resize',function(){
    /* do the resizing stuff */
}); 
```

2)`$(window).load`将等到页面的每个元素（内部和**外部**）都被加载，所以通常`$(document).ready`是可取的，但这取决于您的具体情况。

# php - Zend Framework 2 如何设置 Doctrine 2 代理目录

> ID：12599208
> 
> 赞同：7
> 
> 时间：2012-09-26T10:00:42.367
> 
> 标签：php, doctrine-orm, zend-framework2

所以我在 Zend Framework 2 中使用 Doctrine 2 模块，根据 Jason Grimes 的教程（[http://www.jasongrimes.org/2012/01/using-doctrine-2-in-zend-framework-2/](http://www.jasongrimes.org/2012/01/using-doctrine-2-in-zend-framework-2/)）配置。

有时我会不断收到此错误：

> 您的代理目录必须是可写的。

如何设置代理目录？

这是我的 Doctrine 配置`module.config.php`：

```
'doctrine' => array(
    'driver' => array(
        __NAMESPACE__ . '_driver' => array(
            'class' => 'Doctrine\ORM\Mapping\Driver\AnnotationDriver',
            'cache' => 'array',
            'paths' => array(__DIR__ . '/../src/' . __NAMESPACE__ . '/Entity')
        ),
        'orm_default' => array(
            'drivers' => array(
                __NAMESPACE__ . '\Entity' => __NAMESPACE__ . '_driver'
            ),
        ),
    ),
), 
```

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2012-09-26T10:11:16.023

默认代理目录是`data/DoctrineORMModule/Proxy`. 我想你知道如何让它可写，对吧？

如果由于某种原因需要更改它，您可以覆盖相应的配置键：

```
<?php
return array(
    'doctrine' => array(
        'configuration' => array(
            '<YOUR DRIVER NAME (orm_default by default)>' => array(
                'proxy_dir' => 'data/DoctrineORMModule/Proxy',
                'proxy_namespace' => 'DoctrineORMModule\Proxy',
            )    
        )
    )
);
?> 
```

希望这可以帮助。

# java - 编译文件时出现内存不足异常

> ID：12599213
> 
> 赞同：3
> 
> 时间：2012-09-26T10:00:56.720
> 
> 标签：java, out-of-memory

```
 Compilefile.this.compileThread = new Thread() {
    @Override
    public void run() {
        try {
            synchronized (this) {
                Application.getDBHandler().setAutoCommit(false);
                MIBParserUtils.getDefaultMibsMap();
                compileSelectedFiles();
                Application.getDBHandler().CommitTrans();
                Application.getDBHandler().setAutoCommit(true);
            }
        }
        catch(OutOfMemoryError exp) {
            JOptionPane.showMessageDialog(null, "Compilation Stopped.. Insufficient Memory!!!");
            CompileMib.this.compileThread.interrupt();
            System.gc();

            dispose();
            NmsLogger.writeDebugLog(exp);   
        }
        finally {
        }
    } 
```

我试图在一个线程中编译一些文件。UI 选择了 200 多个文件进行编译。在编译期间`OutOfMemoryError`由于 Eclipse 中的内存不足而发生。我想停止线程并显示一个消息框并在我的应用程序中处理编译窗口。我写了下面的代码，但它不起作用。我可以捕获异常并处理它，还是有更好的解决方案？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-26T10:21:29.017

> 我可以处理 catch 块中的异常吗？

你当然可以赶上 OOME。但成功恢复完全是另一回事。这个答案讨论了一些问题：[https](https://stackoverflow.com/a/1692421/139985) ://stackoverflow.com/a/1692421/139985 。

另一件需要考虑的事情是 OOME 可能被抛出到不同的线程上：

*   该`compileSelectedFiles()`方法或其他方法之一可能正在另一个线程上完成工作并在那里抛出 OOME。

*   OOME 可能被抛出 Eclipse 的后台线程之一。

在任何一种情况下，这`catch`显然都不会抓住它。

值得注意的是，`System.gc()`在 OOME 之后调用是浪费时间。我可以保证它不会释放任何无论如何都不会释放的内存。您所做的只是*建议*JVM 将时间浪费在无济于事的事情上。如果幸运的话，JVM 会忽略这个建议。

* * *

我的建议是通过更改`-Xmx`eclipse.ini 文件中的 JVM 参数来增加 Eclipse 的堆大小。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-01T09:39:00.450

从 OOM 中恢复几乎总是没有可靠的方法，因为您尝试放入 catch 块中的任何内容都可能需要更多内存，而这是不可用的。而且GC在OOM被抛出之前已经尽力了，所以再问他也没用。

与往常一样，您可以通过 Xmx 选项增加应用程序可用的内存量，或者修复您的应用程序使其不需要那么多内存。

另一种可能的错误来源是内存泄漏。在这种情况下，只有 1 个操作过程：找到并修复它。[Plumbr](http://plumbr.eu)可以在这方面提供帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-26T10:07:12.260

您是否尝试将以下内容添加到 eclipse.ini（与 eclipse.exe 位于同一文件夹中）：

`-Xmx1024m`

这增加了 Eclipse 可用的堆空间。如果您的问题是在编译期间，这可能会解决它。它提供 1GB 的内存作为堆空间限制。`-Xmx512m`如果您不想分配这么多空间，请尝试。

# javascript - 如何制作具有多种颜色的指示器

> ID：12599216
> 
> 赞同：1
> 
> 时间：2012-09-26T10:01:08.263
> 
> 标签：javascript, jquery, html, extjs, gif

我想制作一个方形指示器，它会根据应用程序的某些状态改变它的颜色。我想要 4 种颜色，红色，绿色，蓝色，灰色。如何使用 Javascript/ExtJS/JQuery/HTML 或使用 gif 图像来实现这一点。

这些技术可以做到吗？

或者也许有其他方式？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-26T10:09:41.333

这是一个非常非常基本和简单的任务。首先，您需要一个具有特定背景颜色的方形 DIV，可以通过编程方式更改

HTML

```
<div id="indicator"></div> 
```

CSS

```
#indicator {
    position: relative; 
    width: 200px;
    height: 200px;
    background-color: white;
    border: 1px solid #dddddd;
} 
```

Javascript/jQuery

```
if(...some bad condition...)
    $('#indicator').css('background-color', 'red'); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-26T10:11:13.850

一个使用 JQuery 的小例子。假设 'state' 持有一个表示当前状态的数值：

```
<script type="text/javascript">
    $(document).ready(function() {
        // Select the div which will have the background color of the current state.
        var indicator = $('#state-div');
        switch(state) {
            case 0:
                indicator.css({'background-color': 'red'});
                break;
            case 1:
                indicator.css({'background-color': 'green'});
                break;
            // More cases for all the other states.
        }
    });
</script> 
```

除了更改 div 的背景颜色，您还可以更改图像的 src 属性或 div 的背景图像。

You could also use SVG for changing the color of an rect element. Consider d3.js for effectively working with SVG.

# youtube - Youtube 视频播放器

> ID：12599219
> 
> 赞同：0
> 
> 时间：2012-09-26T10:01:22.430
> 
> 标签：youtube, youtube-api

这是否可能只允许特定网站显示带有 iframe 嵌入代码的 youtube 视频？或使用 api

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-26T10:36:14.813

仅使用 iframe 代码是不可能的。您的 youtube 视频显示在 youtube 网站上。只要任何人都可以像这样访问 youtube 来观看此视频[http://www.youtube.com/watch?v=jJjg4JweJZU](http://www.youtube.com/watch?v=jJjg4JweJZU)

例如，任何人都可以使用 iframe 嵌入它。

您可以做的是限制对该视频本身的访问。据我记得，您可以指定是否任何人或只是您的朋友可以观看您的视频。

后一种情况可能不会阻止人们嵌入您的视频，但只要他们没有登录到 youtube 并且是您在那里的朋友，就会阻止他们观看它。

# mysql - mysql索引VS列

> ID：12599230
> 
> 赞同：1
> 
> 时间：2012-09-26T10:01:58.217
> 
> 标签：mysql, indexing, multiple-columns

请问用哪种方式设计表查询比较快？

案例A

图像表

## ID

1_20120930_aaaaa

9_20120930_ccccc

2_20120930_aaaaa

5_20120930_dddd

3_20120930_vvvvv

1_20120930_bbbbb

SELECT * FORM image WHERE id LIKE '1_%';

* * *

案例B

图像表

## 编号 | 日期 | 用户身份

aaaa|20120930|1

cccc|20120930|9

aaaa|20120930|2

dddd|20120930|5

vvvv|20120930|3

bbbb|20120930|1

SELECT * FROM image WHERE user_id = '1';

谢谢！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-26T10:04:46.607

它绝对是 CASE B。因为当您使用 like 运算符时，即使您在 id 列上定义索引，它也不会使用索引。所以在案例 B 中，您可以在 id 中创建一个索引并在 where 子句中使用它，以便更快地检索表中的数据。

# android - 在 android 中下载 youtube 视频

> ID：12599232
> 
> 赞同：3
> 
> 时间：2012-09-26T10:01:58.340
> 
> 标签：android

我想通过编程方式从你的视频管中下载视频..现在我可以流式传输这些视频.我在互联网上搜索..但没有完美的解决方案..请针对该问题提出可能的解决方案..谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-25T13:53:10.173

看看[这个](https://stackoverflow.com/questions/13537202/play-high-quality-youtube-videos-using-videoview#comment19679509_13537202)。我使用此函数从 youtube 视频中提取直接下载链接（它返回一个带有链接的数组）。您需要做的就是使用以下方法获取视频的 html 代码（不是移动版本！）：

```
 // url = youtube link (e.g. http://www.youtube.com/watch?v=fJ9rUzIMcZQ)
  public String DownloadText(String url) throws IOException{
      String userAgent = "Mozilla/5.0 (Windows NT 6.1; WOW64; rv:8.0.1)";
      HttpClient client = new DefaultHttpClient();
      client.getParams().setParameter(CoreProtocolPNames.USER_AGENT, userAgent);

      HttpGet request = new HttpGet(url);
      HttpResponse response = client.execute(request);

      String html = "";
      InputStream in = response.getEntity().getContent();
      BufferedReader reader = new BufferedReader(new InputStreamReader(in));
      StringBuilder str = new StringBuilder();
      String line = null;
      while((line = reader.readLine()) != null)
      {
          str.append(line);
      }
      in.close();
      html = str.toString();

      return html;
    } 
```

# linux - Qt版本无效

> ID：12599233
> 
> 赞同：3
> 
> 时间：2012-09-26T10:01:58.600
> 
> 标签：linux, qt, qt4, qt-creator, qmake

我在 Linux 上工作，我已经从源代码安装了 Qt Creator 2.5.2、Qt 库 4.7.4 和 4.4.3。由于版本之间不兼容，我无法直接安装二进制文件。Qt 4.7.4 和 Qt 4.4.3 的安装过程是相同的。我面临的问题是 Qt Creator 识别 Qt 4.7.4 但不是 Qt 4.4.3，但出现错误

> Qt 版本无效：无法确定 Qt 安装的二进制文件的路径，可能路径错误。

那么每个库都安装在`/home/$username/qt/Qt-$version`. 当我手动编译一个项目时

```
cd directory
/home/$username/qt/Qt-4.4.3/qmake $PATHPRO
make 
```

一切都是魅力，我可以运行该应用程序。

我尝试了什么？

*   重新编译 Qt-4.4.3
*   检查文件夹权限
*   重启 Qt Creator
*   在我的桌面上砸我的头

有什么想法吗？操作系统是 SUSE Enterprise 11-32 位。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-26T13:38:29.833

问题已解决：D。

QtCreator 通过使用一些`qmake properties`. 它通过执行命令来查询这些属性`qmake -query`。问题是这些变量都没有在 Qt 4.4.3 库中设置，而它们存在于 Qt 4.7.4 库中。

所以解决方案是使用设置属性

```
 home/$username/qt/Qt-4.4.3/bin/qmake -set VARIABLE VALUE 
```

其中 value 通常是目录的路径

4.7.4 中的变量：

```
 QT_INSTALL_PREFIX: home/$username/qt/Qt-4.7.4/
 QT_INSTALL_DATA:
 QT_INSTALL_DOCS:
 QT_INSTALL_HEADERS:
 QT_INSTALL_LIBS:
 QT_INSTALL_BINS:
 QT_INSTALL_PLUGINS:
 QT_INSTALL_IMPORTS:
 QT_INSTALL_TRANSLATIONS:
 QT_INSTALL_CONFIGURATION:
 QT_INSTALL_EXAMPLES:
 QT_INSTALL_DEMOS:
 QMAKE_MKSPECS: 
 QMAKE_VERSION:2.01a
 QT_VERSION:4.7.4 
```

我认为最重要的`QT_INSTALL_LIBS`是`QT_INSTALL_LIBS`和`QT_VERSION`。请参阅[配置 qmake 环境](http://doc.qt.digia.com/4.7-snapshot/qmake-environment-reference.html)。

# ios - 为什么 CSS background-size: cover 在 iOS 的纵向模式下不起作用？

> ID：12599234
> 
> 赞同：13
> 
> 时间：2012-09-26T10:02:01.367
> 
> 标签：ios, background, portrait, css

我正在尝试`splash-image`跨设备手动设置。我这样做是通过检查`orientation`（触摸设备）或`screen width vs. screen height`（无触摸）并相应地设置一个 url。

然后我通过 Javascript 添加这个 CSS 规则：

```
 document.styleSheets[3].insertRule('.initHandler:before { 
    background: url('+x+') no-repeat center center fixed; 
    -webkit-background-size: cover; 
    -moz-background-size: cover; 
    -o-background-size: cover; 
    background-size: cover; 
    }', 0) 
```

是根据`x`方向和屏幕尺寸加载的图像。

我的问题是这在`landscape`模式下工作正常，但在我的 iPad`portrait`模式下，加载了正确的图像（取决于纵向/横向），但它没有扩展到全屏尺寸。

**问题**：
我不能`background-size`在纵向模式下在 iOS 上使用 CSS 吗？

感谢帮助！

**编辑：**
刚刚在我的 Android 智能手机上试过。在那里工作正常。没有意义，为什么它在 iPad 上不起作用。

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2012-10-04T19:44:20.313

行。这是它的工作原理（感谢@iMeMyself）：

```
body {
    background: url(...) no-repeat center center fixed; 
    -webkit-background-size: 100%; 
    -moz-background-size: 100%; 
    -o-background-size: 100%; 
    background-size: 100%; 
    -webkit-background-size: cover; 
    -moz-background-size: cover; 
    -o-background-size: cover; 
    background-size: cover; 
    } 
```

所以首先将其设置为`100%`，然后设置为`cover`。这样，所有无法`cover`获得 100% 值的浏览器，而那些可以获得 100% 覆盖的浏览器。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-09-26T12:56:01.970

在检查方向时，请注意苹果文档中的这些要点 -

> **提供启动图像：**
> 
> *仅限 iPhone 的应用程序*可能只有一个启动图像。它应该是 PNG 格式，尺寸为 320 x 480 像素。将启动图像文件命名为 Default.png。
> 
> *仅限 iPad 的应用程序：*为每个支持的 PNG 格式的方向创建启动图像。每个启动图像必须为 1024 x 748 像素（横向）或 768 x 1004 像素（纵向）。
> 
> *通用应用程序：*包括 iPhone 和 iPad 的启动图像。
> 
> **更新 Info.plist 设置**指定 UISupportedInterfaceOrientations 和 UIInterfaceOrientation 的值

和

> **并非所有浏览器都能识别 background-size 的 cover 关键字，**因此，只需忽略它。

所以我们可以通过将背景大小设置为 100% 宽度或高度来克服这个限制*，具体取决于方向*。我们可以定位当前方向（以及 iOS 设备，使用 device-width）。有了这两点，我认为您可以`background-size:cover`在 iOS 上以纵向模式使用 CSS

以下是我在寻找解决方案时还遇到的一些其他资源：[灵活的可缩放背景图像](http://kimili.com/journal/flexible-scalable-background-image)、 [完全可缩放的背景图像](http://beingwicked.com/development/full-scalable-background-images/)、[完美的可缩放背景图像](http://css-tricks.com/perfect-full-page-background-image/)和[本次](http://wordpress.org/support/topic/background-image-problems-on-resize-iphoneipad)讨论。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2014-04-23T14:20:46.143

**代码在这里**

它为 ipad 修复背景图像

只需根据您的图像尺寸输入尺寸

```
/* Page background-image landscape for iPad 3 */
@media only screen
  and (min-device-width: 768px)
  and (max-device-width: 1024px)
  and (orientation: landscape)
  and (-webkit-min-device-pixel-ratio: 2) {
  .introduction-section {
    -webkit-background-size: 2024px 768px !important;
    background-size: 2024px 768px !important;
    background: url('background-image.jpg') no-repeat center top #000 !important;
  }
}
/* Page background-image portrait for iPad 3 */
@media only screen
  and (min-device-width: 768px)
  and (max-device-width: 1024px)
  and (orientation: portrait)
  and (-webkit-min-device-pixel-ratio: 2) {
  .introduction-section {
    -webkit-background-size: 2024px 768px !important;
    background-size: 2024px 768px !important;
    background: url('background-image.jpg') no-repeat center top #000 !important;
  }
}
/* Page background-image landscape for iPad 1/2 */
@media only screen
  and (min-device-width: 768px)
  and (max-device-width: 1024px)
  and (orientation: landscape)
  and (-webkit-min-device-pixel-ratio: 1) {
  .introduction-section {
    background: url('background-image.jpg') no-repeat center top #000 !important;
    -webkit-background-size: 2024px 768px !important;
    background-size: 2024px 768px !important;
  }
}
/* Page background-image portrait for iPad 1/2 */
@media only screen
  and (min-device-width: 768px)
  and (max-device-width: 1024px)
  and (orientation: portrait)
  and (-webkit-min-device-pixel-ratio: 1) {
  .introduction-section {
    background: url('background-image.jpg') no-repeat center top #000 !important;
    -webkit-background-size: 5024px 2024px !important;
    background-size: 5024px 2024px !important;
  }
} 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2017-10-04T17:36:40.790

根据[为 iPhone X 设计网站，](https://webkit.org/blog/7929/designing-websites-for-iphone-x/) iOS 11 为现有的`viewport`元标记引入了一个名为 的新扩展[`viewport-fit`](https://www.w3.org/TR/css-round-display-1/#viewport-fit-descriptor)，它提供对插入行为的控制。默认设置为`auto`，不会覆盖整个屏幕。

为了禁用默认插入行为并导致页面布局为屏幕的完整大小，您可以设置`viewport-fit`为`cover`如下所示：

```
<meta name='viewport' content='initial-scale=1, viewport-fit=cover'> 
```

如果没有此设置，用于初始屏幕和全尺寸英雄图像的现有技术可能无法在 iPhone X 或其他符合标准的 iOS 设备上按预期显示。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2016-11-02T12:09:23.930

据我所知，此方法适用于所有 IOS 设备。根据您的其他页面元素（标题等），您可能需要调整 &:before 伪元素的 z-index。

```
html {
    height:100% !important;
}

body {
    height:100%;
    min-height:100%;
    overflow-x:hidden;
    overflow-y:auto;
    // use your own class here //
    &.body-class { 
        // @screen-xs-max is a Bootstrap3 variable name //
        @media screen and (max-width:@screen-xs-max) {
            min-height:100vh;
            position:relative;
            &:before {
                position:fixed;
                top:0;
                left:0;
                right:0;
                bottom:0;
                display:block;
                content:"";
                z-index:-1;
                background-image:url(background-image.jpg);
                background-position:center;
                background-size:cover;
                // Add this unless you compile your LESS using a preprocessor which adds vendor prefixes //
                -webkit-background-size:cover;
            }
        }
    }
} 
```

# javascript - 当切换翻转发生变化时如何触发事件？

> ID：12599239
> 
> 赞同：0
> 
> 时间：2012-09-26T10:02:17.887
> 
> 标签：javascript, jquery-mobile

我正在尝试做一件非常简单的事情：使用 jQuery Mobile 1.1.1 框架，当切换翻转处于“手动”状态时，我想禁用一个字段。

这是HTML：

```
<div data-role="fieldcontain">
    <fieldset data-role="controlgroup">
        <label for="toggleswitch">                         
        </label>
        <select name="toggleswitch" id="toggleswitch" data-theme="b" data-role="slider">  
            <option value="off">gps</option>
            <option value="on">manual</option>
        </select>
    </fieldset>
</div> 
```

这是我的 JavaScript：

```
$('#toggleswitch').change(function(){
    console.log("toggle");
}); 
```

目前，我什至看不到控制台中的“切换”字样。我认为 change 方法甚至不会触发，但这是我在在线示例中找到的。

**编辑 -**我在这里复制了一个错误的例子：我实际测试的代码具有相同的“toggleswitch”id。代码现在按照我在记事本++ 上的方式进行编辑。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-26T10:05:21.153

您是否将代码放在 dom 就绪回调中？

```
$(function() {
   $('#toggleswitch').change(function(){ console.log("toggle"); });  
}); 
```

***PS：***如果使用 id 选择器，则无需指定元素类型。

***编辑：***

另请注意，您`toggleswitch3`在 html 中作为 id 使用，而`toggleswitch`在 javascript 中使用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-26T10:06:55.543

您`id`在 select 元素上是`toggleswitch3`，但在您使用的 JavaScript 代码中`toggleswitch`。名称需要在 HTML 和 JavaScript 中匹配，否则无法正常工作。

# ios - 在 iOS6 中，UIViewController 的视图位置在应用启动时是错误的

> ID：12599244
> 
> 赞同：4
> 
> 时间：2012-09-26T10:02:30.603
> 
> 标签：ios, uiviewcontroller, ios6

IEverything 在 iOS 6 之前工作正常。我像往常一样`UIViewController`在 a 中有一个子类。`UINavigationController`它的视图缩小了大约 20 px，就好像顶部有另一个状态栏一样。当我推并弹出视图时。视图又回到了正确的位置。我发现这是因为`UIViewControllerWrapperView`（通过使用获得`self.view.superview`）框架在 iOS 6 中以某种方式出错。

做 NSLog in`viewDidAppear`

在应用程序启动...

```
self.view.frame: {{0, 0}, {768, 891}} // was {{0, 0}, {768, 911}} in iOS5.1
self.view.superview: <UIViewControllerWrapperView: 0x9dddb80; frame = (0 20; 768 891); autoresize = W+H; layer = <CALayer: 0x9dddc30>> 
// was (0 0; 768 911); in iOS5.1 
```

推送和弹出视图控制器后（正确值）...

```
self.view.frame: {{0, 0}, {768, 911}}
self.view.superview: <UIViewControllerWrapperView: 0x9dddb80; frame = (0 0; 768 911); autoresize = W+H; layer = <CALayer: 0x9dddc30>> 
```

它以前从未发生过。这在 iOS 6 中是如何出现的？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-26T11:34:09.810

这是我当前在 viewDidAppear 中的脏修复。

```
// fix wrong UIViewControllerWrapperView frame by moving up and extending it back
CGRect wvFrame = self.view.superview.frame;
if (wvFrame.origin.y > 0) {
    wvFrame.size.height += wvFrame.origin.y;
    wvFrame.origin.y = 0;
    self.view.superview.frame = wvFrame;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-09-26T14:07:56.580

有比接受更好的解决方法。尝试在 viewDidLoad 中将 WantsFullScreenLayout 设置为 YES。

```
self.wantsFullScreenLayout = YES; 
```

# android - 如何获得显示模式

> ID：12599253
> 
> 赞同：1
> 
> 时间：2012-09-26T10:02:48.557
> 
> 标签：android, screen-resolution

我的 android 设备有一个`Display Mode`下`Settings -> Display`页面。此显示模式设置屏幕显示各种显示模式，例如`480i, 480p, 720p, 1080p, 1080i`等... 我的设备具有 Android OS 版本 2.3.3。请注意，这是一款定制的 Android 设备。

当我选择这些显示模式中的任何一种时，我的设备的模式都会改变。我需要以编程方式获取当前选择的显示模式值。

有什么办法可以做到吗？

`Settings`屏幕 _![<code>设置</code>屏幕](../Images/194ba30967d3c906c49ea55d76a99c95.png)

`Display Settings`屏幕 _![<code>显示设置</code>屏幕](../Images/ff4a1f5fd1020b31177c6189288776f6.png)

`Output Mode`微调 器![<code>输出模式</code>微调器](../Images/fb46f898d10453a7e6af859471b0a3b9.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-27T09:22:23.423

我有一个解决方案。

**第一种方式**

我看到了一个名为[About](https://play.google.com/store/apps/details?id=net.whph.android.about)的应用程序。此应用程序使用和列出`SystemProperties`列表。由此，我得到了所需的属性名称为.`propertyname``value``ubootenv.var.outputmode`

然后我得到了另一个线程，它从这里读取`SystemProperties`使用`getprop`android 命令：[Parsing Android getprop](https://stackoverflow.com/questions/9944747/parsing-android-getprop)

通过这种方式，现在我可以获取`display-output-mode`参数了。

**第二种方式**

我还尝试`android.os.SystemProperties`通过反射使用类并尝试调用`get`方法。但这`null`总是会回来。

无论如何，第一种方法是有效的。谢谢你的帮助 ：）

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2012-09-26T10:16:35.800

```
 Display display = getWindowManager().getDefaultDisplay();
    final Point size = new Point();

    try{
        display.getSize(size);
    }catch(NoSuchMethodError nsme){
        Log.w(TAG, "@ Error caz of display.getSize() : " + nsme);
        size.x = display.getWidth();
        size.y = display.getHeight();
    } 
```

`getSize()`从 API 级别 13 开始支持。这就是我们需要使用 try catch 块的原因。

# php - JSON 响应中的特殊字符 (ë)

> ID：12599258
> 
> 赞同：1
> 
> 时间：2012-09-26T10:02:53.817
> 
> 标签：php, ajax, json, special-characters

我的数据库存储了一些我必须通过 AJAX 获取的文本。这进展顺利，但仅当它不包含特殊字符（如 ë 或 ä）时。我发现一些关于这个主题的文章告诉我更改 AJAX 请求的字符集，但这些都不适合我。

当我启动萤火虫时，它对标题说：

**Antwoordheaders (荷兰语为 responseheaders)**
Cache-Control no-store, no-cache, must-revalidate, post-check=0, pre-check=0
Connection close
Content-Length 94
Content-Type text/html; charset=ISO-8859-15
Date Wed, 26 Sep 20 09:52:56 GMT
Expires Thu, 19 Nov 1981 08:52:00 GMT
Pragma no-cache
Server Apache
X-Powered-By PleskLin

**Verzoekheaders（requestheaders 的荷兰语）**
Accept text/html,application/xhtml+xml,application/xml;q=0.9, */* ;q=0.8
Accept-Encoding gzip, deflate
Accept-Language nl,en-us;q=0.7,en ;q=0.3
Authorization Basic c3BvdGlkczp6SkBVajRrcw==
Connection keep-alive
Content-Type text/html; charset=ISO-8859-15
Cookie __utma=196329838.697518114.1346065716.1346065716.1346065716.1; __utmz=196329838.1346065716.1.1.utmcsr=(直接)|utmccn=(直接)|utmcmd=(无); PHPSESSID=2h4vu8gu9v8fe5l1t3ad5agp86
DNT 1
主机 www.spotids.com
引荐来源[http://www.spotids.com/private/?p=16](http://www.spotids.com/private/?p=16)
用户代理 Mozilla/5.0 (Windows NT 6.1; WOW64; rv:14.0) Gecko/20100101 Firefox/ 14.0.1

两个标题都在谈论 charset=ISO-8859-15 应该包括像 ë 这样的字符，但它对我不起作用。

我用于此的代码（PHP）：

```
`$newresult = mysql_query($query2);    
    $结果 = 数组（）；
    而($row = mysql_fetch_array($newresult))
    {
        array_push($result, $row);
    }
    $jsonText = json_encode($result);
    回声 $jsonText;`
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-26T10:09:06.927

1.  确保将标头设置为 UTF-8：

    ```
    header('Content-Type: application/json; charset=utf-8'); 
    ```

2.  确保在任何查询之前使用 UTF-8 编码建立与数据库的连接：

    ```
    $query = mysql_query("SET NAMES 'UTF8'"); 
    ```

3.  据我所知，JSON 对任何不能用纯 ASCII 表示的字符进行编码。您应该在响应时解码该 JSON。

4.  尝试迁移到 PDO，因为`mysql_*`函数已被弃用。使用这个不错的[教程](http://wiki.hashphp.org/PDO_Tutorial_for_MySQL_Developers#Getting_Row_Count)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-26T10:12:31.720

来自 JSON RFC-4627：`JSON text SHALL be encoded in Unicode. The default encoding is UTF-8.` 使用`mb_convert_encoding`或`iconv`更改字符串编码。

并发送正确的标题：

```
header('Content-Type: application/json;charset=utf-8');
echo json_encode($data); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-26T10:10:28.400

验证 Content-Type 肉

```
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> 
```

# c# - GoBack 上的黑屏

> ID：12599260
> 
> 赞同：0
> 
> 时间：2012-09-26T10:02:55.510
> 
> 标签：c#, windows

我正在使用“mvvm light”编写一个 Windows 8 应用程序。但是我对页面的 GoBack 有疑问。它并非一直发生，而是每 5 次 GoBack 发生一次。我首先认为这是因为我的页面没有完全加载（但这不是找到解决方案的方法）。所以我完全迷路了。有人可以帮忙吗？问候。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-26T10:13:51.833

找到解决方案！由于一个晦涩的理由，GoBack 起作用了，但有时它会自动回忆我的前一页。为了解决这个问题，我初始化了导致调用下一页的值。

# python - 如何使用元编程缩写此 Python 代码？

> ID：12599271
> 
> 赞同：-1
> 
> 时间：2012-09-26T10:03:25.657
> 
> 标签：python

```
class SignedFileRequest(SignedRequest):
    def __init__(self, host, path, node_id = None, name=None, \
                 content_type=None, hash=None, ssl=False, expires=0):
        super(SignedFileRequest, self).__init__(host, path, ssl, expires)
        self.name = name
        self.content_type = content_type
        self.hash = hash
        self.node_id = node_id
    def get_name(self):
        return self.query_dict.get(NAME_KEY)
    def set_name(self, value):
        self.query_dict[NAME_KEY] = value
    def get_content_type(self):
        return self.query_dict.get(CONTENT_TYPE_KEY)
    def set_content_type(self, value):
        self.query_dict[CONTENT_TYPE_KEY] = value
    def get_hash(self):
        return self.query_dict.get(HASH_KEY)
    def set_hash(self, value):
        self.query_dict[HASH_KEY] = value
    def get_node_id(self):
        return self.query_dict.get(NODE_ID_KEY)
    def set_node_id(self, value):
        self.query_dict[NODE_ID_KEY] = value
    name = property(get_name, set_name)
    content_type = property(get_content_type, set_content_type)
    hash = property(get_hash, set_hash)
    node_id = property(get_node_id, set_node_id) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-26T10:11:36.167

您可以使用类装饰器：

```
def keyprop(keymap):
    def decorator(cls):
        for name, key in keymap.items():
            def getter(self):
                return self.query_dict.get(NAME_KEY)
            def setter(self, value):
                self.query_dict[NAME_KEY] = value
            setattr(cls, name, property(getter, setter))
    return decorator

keymap = {'name' : NAME_KEY,
          'content_type' : CONTENT_TYPE_KEY,
          'hash' : HASH_KEY,
          'node_id' : NODE_ID_KEY}

@keyprop(keymap)
class SignedFileRequest(SignedRequest):
    def __init__(self, host, path, node_id = None, name=None, \
                 content_type=None, hash=None, ssl=False, expires=0):
        super(SignedFileRequest, self).__init__(host, path, ssl, expires)
        self.name = name
        self.content_type = content_type
        self.hash = hash
        self.node_id = node_id 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-26T10:12:03.937

您可以使用[`__getattr__`](http://docs.python.org/reference/datamodel.html#object.__getattr__)and[`__setattr__`](http://docs.python.org/reference/datamodel.html#object.__setattr__)钩子而不是元类：

```
class SignedFileRequest(SignedRequest):
    __attr_map = dict(name=NAME_KEY, content_type=CONTENT_TYPE_KEY,
                      hash=HASH_KEY, node_id=NODE_ID_KEY)

    def __init__(self, host, path, node_id = None, name=None, \
                 content_type=None, hash=None, ssl=False, expires=0):
        super(SignedFileRequest, self).__init__(host, path, ssl, expires)
        self.name = name
        self.content_type = content_type
        self.hash = hash
        self.node_id = node_id

    def __getattr__(self, attr):
        if attr in self.__attr_map:
            return self.query_dict.get(self.__attr_map[attr])
        return super(SignedFileRequest, self).__getattr__(attr)

    def __setattr__(self, attr, value):
        if attr in self.__attr_map:
            self.query_dict[self.__attr_map[attr]] = value
        super(SignedFileRequest, self).__setattr__(attr, value) 
```

或者，可以使用相同的映射来创建类装饰器：

```
def add_property(klass, name, key):
    def getter(self):
        return self.query_dict.get(key)
    def setter(self, value):
        self.query_dict[key] = value
    setattr(klass, name, property(getter, setter))

def set_properties(**mapping):
    def decorator(klass):
        for name, key in mapping.iteritems():
            add_property(klass, name, key)
        return klass
    return decorator

@set_properties(name=NAME_KEY, content_type=CONTENT_TYPE_KEY,
                hash=HASH_KEY, node_id=NODE_ID_KEY)
class SignedFileRequest(SignedRequest):
    def __init__(self, host, path, node_id = None, name=None, \
                 content_type=None, hash=None, ssl=False, expires=0):
        super(SignedFileRequest, self).__init__(host, path, ssl, expires)
        self.name = name
        self.content_type = content_type
        self.hash = hash
        self.node_id = node_id 
```

或者，无论如何您都可以使用元类方法：

```
 def mapped_properties_meta(**mapping):
     def mapped_meta(name, bases, attrs):
         klass = type(name, bases, attrs)
         for name, key in mapping.iteritems():
             add_property(klass, name, key)
         return klass
     return mapped_meta

class SignedFileRequest(SignedRequest):
    __metaclass__ = mapped_properties_meta(
       name=NAME_KEY, content_type=CONTENT_TYPE_KEY,
       hash=HASH_KEY, node_id=NODE_ID_KEY)

    def __init__(self, host, path, node_id = None, name=None, \
                 content_type=None, hash=None, ssl=False, expires=0):
        super(SignedFileRequest, self).__init__(host, path, ssl, expires)
        self.name = name
        self.content_type = content_type
        self.hash = hash
        self.node_id = node_id 
```

后者重用`add_property`了装饰器方法中的功能。

# android - Facebook Android SDK：问题

> ID：12599274
> 
> 赞同：0
> 
> 时间：2012-09-26T10:03:38.807
> 
> 标签：android, facebook

我已将 Facebook sdk 与我的 Android 应用程序集成在一起。成功登录后，显示了**允许**按钮**安装**。有人知道原因吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-26T11:23:53.847

首先，您需要（授权）安装应用程序才能获得（在这种情况下给予）访问权限（允许）。

# blackberry - .cod 使用 Javaloader 安装在设备上，但在设备上找不到应用程序

> ID：12599277
> 
> 赞同：1
> 
> 时间：2012-09-26T10:03:58.307
> 
> 标签：blackberry, ant, blackberry-jde

我正在使用以下方法将我的黑莓鳕鱼加载到我的 USB 连接的 BB 曲线上：

```
/Users/JElsey/Development/tools/eclipse/plugins/net.rim.ejde.componentpack6.0.0_6.0.0.43/components/bin/javaloader -u load ./bin/SmartConf-BB/SmartConf-BB.cod 

RIM Wireless Handheld Java Loader
Copyright 2001-2010 Research In Motion Limited
Connected                 
Loading ./bin/SmartConf-BB/SmartConf-BBDone                    
1479568 bytes sent at ~1315171 bps
Disconnected 
```

`javaloader -u dir`我可以通过运行并查看我的应用程序来验证传输是否正确：

```
SmartConf$2dBB                                 0.0              1479568   Wed Sep 26 10:02:15 2012 
```

但是我实际上无法在任何地方看到设备上的应用程序。

1.  它未在应用程序菜单下列出
2.  在 Options > 3rd Part Apps 下看不到任何东西（不确定它是否应该在那里）
3.  连接到桌面管理器我看不到它在应用程序中列出。

随后，我无法通过桌面管理器安装该应用程序，当我尝试安装它时，所有文件（.cod、.alx 等）都是不可选择的，不确定这是否是这里的问题。

有关其他信息，我正在使用以下 ant 任务构建我的 .cod 文件：

```
<target name="client-bb">
        <property name="jde.home" location="/Users/JElsey/Development/tools/eclipse/plugins/net.rim.ejde.componentpack6.0.0_6.0.0.43/components/" />
        <property name="bb.src" location="/Users/JElsey/Development/projects/internal/SmartHelper/SmartConf/apps/SmartConf/blackberry/native/"/>
        <taskdef resource="bb-ant-defs.xml">
            <classpath>
                <pathelement location="./build-config/bb-ant-tools.jar"/>
            </classpath>
        </taskdef>
        <mkdir dir="./bin/SmartConf-BB"/>
        <rapc 
            srcdir="${bb.src}" 
            jdehome="${jde.home}" 
            destdir="./bin/SmartConf-BB/"
            output="SmartConf-BB"
        />
    </target> 
```

关于为什么 cod 文件似乎已加载但无法在设备上找到的任何建议？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-26T15:30:08.170

我真的很惊讶`bb-ant-tools`任务没有失败。它应该:) 检查日志可能是这样，但您需要添加`failonerror`属性。

您需要在节点`jdp`中嵌套`rapc`节点。请检查bb-ant-tools 的[文档以获取参数](http://bb-ant-tools.sourceforge.net/docs)

# java - 从 URL 检索编码值

> ID：12599282
> 
> 赞同：1
> 
> 时间：2012-09-26T10:04:16.670
> 
> 标签：java, web-services, single-sign-on, url-parameters, ondemand

我在 URL 中传递了一个编码的 SSO 令牌......所以 URL 看起来像

```
 http://127.0.0.1:7101/CRMOD_UCM-Sankalp-context-root/BrowseFile.jsp?token=%246%24zhxjx%2fpz6dVucl9cgG43ii2Tr4qVnNbeqJg8jCy6Jj7vRvXN4%3d%3b%246%24GlRGp%2fxfEM308NZGmY%2fhjHav2yjHSvbww1l0%2fCcCtcVjzl%2bCQFlQPdBRKO0t1XUmF0I6xLmfQ%2fnb7VgJeSYnvrAb9YUQQ3tvr%2fBZ%2bIRZiBAGU2%2fZg%3d 
```

但是当我检索变量的值并使用 out.println("SSO Token:"+request.getParameter("token")); 打印它时 它打印

$ 6 $ zhxjx / pz6dVucl9cgG43ii2Tr4qVnNbeqJg8jCy6Jj7vRvXN4 =; $ 6 $ GlRGp / xfEM308NZGmY / hjHav2yjHSvbww1l0 / CcCtcVjzl + CQFlQPdBRKO0t1XUmF0I6xLmfQ / nb7VgJeSYnvrAb9YUQQ3tvr / BZ + IRZiBAGU2 / ZG =

正确的令牌存在于 URL 中，为什么我在打印中得到如此不同的值...

请帮助......

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-26T10:12:26.840

`request.getParameter("token")`解码参数值，因此打印的值是 URL 中参数值的解码版本。

有关详细信息，请参阅[Java EE、url 中的重音、request.getParameter 错误值](https://stackoverflow.com/questions/5741989/java-ee-accent-in-url-request-getparameter-wrong-value)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-26T10:15:43.327

在 URL 中，令牌是[URL 编码](http://en.wikipedia.org/wiki/Percent-encoding)的。这是必要的，因为某些字符在 URL 中具有特殊含义。

通过 URL 编码值，这些特殊字符被替换为特殊字符的字符`%nn`代码`nn`的代码。

Java 会自动为您解码，以便您在调用时获得实际值，`request.getParameter("token")`而不是 URL 编码的值。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-26T11:07:43.410

如果要解码，则将获得编码值，然后使用以下代码。默认情况下，系统会为我们解码，但在您的情况下，它不会被解码，您必须显式解码 request.getParameter("token") 的值。

```
String token = request.getParameter("token").toString();
// To decode url
String decodedtoken = URLDecoder.decode(token , "UTF-8");
System.out.println("Decoded token value "+ decodedtoken);

// To encode url 
String encodedtoken = URLEncoder.encode(token , "UTF-8"); 
System.out.println("Encoded token value "+ encodedtoken); 
```

# makefile - 我的 Makefile 只是不起作用。

> ID：12599287
> 
> 赞同：0
> 
> 时间：2012-09-26T10:04:52.453
> 
> 标签：makefile

我有一个无法正常工作的makefile。你们能帮我找出错误在哪里吗？谢谢！

```
CC = gcc
FILES = workfile.c insert.c
TARGETS = exe
CFLAGS = -o
DBUG =
RM = rm -f
OBJS = *.o

#Master Rule

all: $(TARGETS)

#Build

exe: workfile.o insert.o
    $(CC) $(CFLAGS) $(DBUG) workfile.o insert.o exe

#workfile

workfile.o: workfile.c
    $(CC) $(DBUG) -c *.c

insert.o: insert.c
    $(CC) $(DBUG) -c *.c

clean:  
    $(RM) $(TARGETS) $(OBJS) 
```

错误如下

```
$make all
gcc  -c *.c
gcc -o  workfile.o insert.o exe
gcc: error: exe: No such file or directory
make: *** [exe] Error 1 
```

我什至尝试更改目标的名称。但没有帮助。无法继续下去。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-26T10:10:18.930

你`CFLAGS`的用错了。该`-o`选项应该放在前面`exe`，并且`CFLAGS`应该包含编译器的相关标志（`-O3 -Wall -Wextra -Werror`例如）。

试试这个：

```
CFLAGS = -Wall -Wextra -Werror

exe: workfile.o insert.o
    $(CC) $(CFLAGS) $(DBUG) workfile.o insert.o -o exe 
```

PS：您可以在需要时剥离`DBUG`并粘贴。这就是它在普通 Makefile 中的使用方式。`-g``CFLAGS`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-26T10:14:17.013

嗯，我明白了……你`-o`在 cflags 中有一个。我认为你不应该使用`-o`in`CFLAGS`因为它需要一个参数。

可以更改的重要部分：

```
CFLAGS = 
OUTFILE = fancy_exe
[...]
$(CC) $(CFLAGS) $(DBUG) workfile.o insert.o -o $(OUTFILE) 
```

这应该会更好......甚至跳过 outfile 变量并手动放置 exe。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-26T10:16:42.553

我不认为放入 是一个好主意`-o`，`CFLAGS`我宁愿从中删除`-o`。

`CFLAGS = -o`->`CFLAGS =`

现在您可以处理您的`exe`，输出路径应该`-o`立即跟随。

```
exe: workfile.o insert.o
    $(CC) $(CFLAGS) $(DBUG) workfile.o insert.o exe 
```

=>

```
exe: workfile.o insert.o
    $(CC) $(CFLAGS) $(DBUG) -o exe workfile.o insert.o 
```

所以完整的 makefile 应该如下所示：

```
CC = gcc
FILES = workfile.c insert.c
TARGETS = exe
CFLAGS =
DBUG =
RM = rm -f
OBJS = *.o

#Master Rule

all: $(TARGETS)

#Build

exe: workfile.o insert.o
    $(CC) $(CFLAGS) $(DBUG) -o exe workfile.o insert.o

#workfile

workfile.o: workfile.c
    $(CC) $(DBUG) -o workfile.o -c workfile.c

insert.o: insert.c
    $(CC) $(DBUG) -o insert.o -c insert.c

clean:  
    $(RM) $(TARGETS) $(OBJS) 
```

# ruby-on-rails-3 - has_many 在更新时删除关联

> ID：12599299
> 
> 赞同：0
> 
> 时间：2012-09-26T10:05:51.037
> 
> 标签：ruby-on-rails-3, activerecord, relationship, has-many

我认为这个很简单……但我不明白。我在两个模型（组合和 canvas_price）之间有一个 has_many-relationship：

组合.rb：

```
class Combination < ActiveRecord::Base
  has_many :canvas_prices, :dependent => :delete_all

  accepts_nested_attributes_for :canvas_prices,
                                :allow_destroy => true,
                                :reject_if => lambda { |a| a[:name].blank? }
end 
```

canvas_price.rb：

```
class CanvasPrice < ActiveRecord::Base
    belongs_to :combination
end 
```

在我的表单中，我有通过 JavaScript 删除嵌套 CanvasPrice 表单中的输入的链接。

我的问题是，当我删除这些字段中的一个或多个并更新组合时，关联的 CanvasPrices 不会被删除，尽管我要删除的 CanvasPrices 不在我的参数中。我如何实现这一目标？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-13T11:27:50.640

好的，很简单……就像在隐藏输入的帮助下添加_delete-param 一样简单，例如combination[canvas_prices][0][_delete] = true。

我认为可以直接在 has_many 或 accept_nested_attributes_for 方法中配置此行为。

# sql-server - 将 SQL Server Express 数据库复制到另一台服务器

> ID：12599313
> 
> 赞同：1
> 
> 时间：2012-09-26T10:07:16.100
> 
> 标签：sql-server

我需要将 SQL Server Express 数据库从一台服务器复制到另一台（虚拟）服务器。

我知道如何为数据库本身执行此操作 - 通过备份和恢复。我还查看了[this](https://stackoverflow.com/questions/3612149/copy-sql-server-express-database-to-another-computer)和[this](https://stackoverflow.com/questions/5034240/copying-database-from-one-sql-server-to-another)，它们展示了如何编写脚本 - 这很棒。

但是，我还需要使用它的权限，但不知道该怎么做。

任何指针都会受到热烈欢迎。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-26T10:13:39.110

登录名需要已经存在于目标服务器上，但是一旦它们存在，您可以使用如下脚本将登录名连接回用户：

```
sp_change_users_login 'Update_One', 'user-name', 'login-name' 
```

有关[sp_change_users_login](http://msdn.microsoft.com/en-us/library/ms174378.aspx)的更多信息，请参见 MSDN

登录是在服务器级别。用户位于每个数据库级别。通常我保持登录名和用户名相同以避免混淆，但它们可以不同。用户在数据库中定义权限，您并没有丢失它们，只是登录链接。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-26T10:16:09.787

作为 sp_change_users_login 的替代方法

```
 ALTER USER username WITH LOGIN = newlogin 
```

# cookies - 分析 _setDomainName 不再工作

> ID：12599315
> 
> 赞同：4
> 
> 时间：2012-09-26T10:07:21.210
> 
> 标签：cookies, google-analytics, subdomain

这突然停止工作。我们的页面上有 Google Analytics，几个月前我们调整了代码，以便 GA 的 cookie 仅设置为[www.igre123.com](http://www.igre123.com)而不是它的子域（我们从 igre123.com 重定向到 www.igre123.com ，以便用户始终使用 www。）。我们这样做是因为我们有两个子域提供来自（s.igre123.com 和 static.igre123com）的静态内容（css、js、缩略图等）。

为了防止为子域（并且只为 www.）设置 cookie，我们修改了我们的 GA 代码，使其看起来像这样：

```
...    
_gaq.push(['_setDomainName','www.igre123.com']);
_gaq.push(['_trackPageview']);
... 
```

这成功了，但现在它不再起作用了。有人知道为什么这停止工作了吗？不幸的是，我不知道这到底是什么时候停止工作的：/

编辑：否则跟踪工作没有问题。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-26T12:15:04.707

好吧，经过多次头部撞击后，我设法解决了这个谜团。事实证明`_gaq.push([]);`'s 的顺序是相关的。如果除了通常的`_setAccount`和之外，您还有`_trackPageView`任何其他 GA 调用（如`_setCustomVar`）设置 cookie，您必须告诉 GA 首先为哪个域设置 cookie。回想起来似乎很明显，但公平地说，这在文档中并不是很清楚。

无论如何，请务必先拨打电话`_setDomainName`，然后再拨打您可能有的任何其他 GA 电话。

# iphone - 我想从 MapKit for iPhone 中的坐标值中获取位置名称

> ID：12599316
> 
> 赞同：24
> 
> 时间：2012-09-26T10:07:24.307
> 
> 标签：iphone, xcode, ios5, mapkit

我想从坐标值中获取位置名称。这是代码，

```
- (void)viewWillAppear:(BOOL)animated {  
    CLLocationCoordinate2D zoomLocation;
    zoomLocation.latitude = 39.281516;
    zoomLocation.longitude= -76.580806;
    MKCoordinateRegion viewRegion = MKCoordinateRegionMakeWithDistance(zoomLocation, 0.5*METERS_PER_MILE, 0.5*METERS_PER_MILE);
    MKCoordinateRegion adjustedRegion = [_mapView regionThatFits:viewRegion];                
    [_mapView setRegion:adjustedRegion animated:YES];      
} 
```

所以，从那个纬度和经度，我想知道那个位置名称。

* * *

## 回答 #1

> 赞同：81
> 
> 时间：2012-09-26T10:19:40.213

以下代码适用于 ios5 及更高版本

```
 CLGeocoder *ceo = [[CLGeocoder alloc]init];
 CLLocation *loc = [[CLLocation alloc]initWithLatitude:32.00 longitude:21.322]; //insert your coordinates

[ceo reverseGeocodeLocation:loc
          completionHandler:^(NSArray *placemarks, NSError *error) {
              CLPlacemark *placemark = [placemarks objectAtIndex:0];
              if (placemark) {

                  NSLog(@"placemark %@",placemark);
                  //String to hold address
                  NSString *locatedAt = [[placemark.addressDictionary valueForKey:@"FormattedAddressLines"] componentsJoinedByString:@", "];
                  NSLog(@"addressDictionary %@", placemark.addressDictionary);

                  NSLog(@"placemark %@",placemark.region);
                  NSLog(@"placemark %@",placemark.country);  // Give Country Name
                  NSLog(@"placemark %@",placemark.locality); // Extract the city name
                  NSLog(@"location %@",placemark.name);
                  NSLog(@"location %@",placemark.ocean);
                  NSLog(@"location %@",placemark.postalCode);
                  NSLog(@"location %@",placemark.subLocality);

                  NSLog(@"location %@",placemark.location);
                  //Print the location to console
                  NSLog(@"I am currently at %@",locatedAt);
              }
              else {
                  NSLog(@"Could not locate");
              }
          }
 ]; 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-10-08T10:39:49.283

```
-(NSString *)getAddressFromLatLon:(double)pdblLatitude withLongitude:(double)pdblLongitude
{
  NSString *urlString = [NSString stringWithFormat:@"http://maps.google.com/maps/geo?q=%f,%f&output=csv",pdblLatitude, pdblLongitude];
  NSError* error;
  NSString *locationString = [NSString stringWithContentsOfURL:[NSURL URLWithString:urlString] encoding:NSASCIIStringEncoding error:&error];
   // NSLog(@"%@",locationString);

  locationString = [locationString stringByReplacingOccurrencesOfString:@"\"" withString:@""];
  return [locationString substringFromIndex:6];
} 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-09-26T10:18:41.470

使用此方法

```
CLGeocoder *geocoder = [[CLGeocoder alloc] init]; 

[geocoder reverseGeocodeLocation: zoomLocation completionHandler:^(NSArray* placemarks, NSError* error){
}
 ]; 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-26T10:13:36.167

在 iOS 5.0 及更高版本中，您可以使用Map Kit Framework`CLGeocoder`的 Core Location 框架，对于低于 5.0 的 iOS 。`MKReverseGeocoder`祝你好运！

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2016-04-13T13:07:55.217

**这是从当前位置获取地址字符串的块**

```
in .h file

typedef void(^addressCompletionBlock)(NSString *);

-(void)getAddressFromLocation:(CLLocation *)location complationBlock:(addressCompletionBlock)completionBlock;

in .m file
#pragma mark - Get Address
-(void)getAddressFromLocation:(CLLocation *)location complationBlock:(addressCompletionBlock)completionBlock
{
    //Example URL
    //NSString *urlString = @"http://maps.googleapis.com/maps/api/geocode/json?latlng=23.033915,72.524267&sensor=true_or_false";

    NSString *urlString = [NSString stringWithFormat:@"http://maps.googleapis.com/maps/api/geocode/json?latlng=%f,%f&sensor=true_or_false",location.coordinate.latitude, location.coordinate.longitude];

    NSError* error;
    NSString *locationString = [NSString stringWithContentsOfURL:[NSURL URLWithString:urlString] encoding:NSASCIIStringEncoding error:&error];
    NSArray *jsonObject = [NSJSONSerialization JSONObjectWithData:[locationString dataUsingEncoding:NSUTF8StringEncoding]
                                                          options:0 error:NULL];

    NSString *strFormatedAddress = [[[jsonObject valueForKey:@"results"] objectAtIndex:0] valueForKey:@"formatted_address"];
    completionBlock(strFormatedAddress);
} 
```

**并调用函数**

```
CLLocation* currentLocation = [[CLLocation alloc] initWithLatitude:[SharedObj.current_Lat floatValue] longitude:[SharedObj.current_Long floatValue]];

    [self getAddressFromLocation:currentLocation complationBlock:^(NSString * address) {
        if(address) {
            NSLog(@"Address:: %@",address);
        }
    }]; 
```

# jasper-reports - 如何在单独的 Excel 工作表中显示每个子报表

> ID：12599318
> 
> 赞同：9
> 
> 时间：2012-09-26T10:07:27.213
> 
> 标签：jasper-reports, ireport, export-to-excel

我想用*iReport* for *MS Excel*创建一个报告。

我的报告包括两个子报告。我需要将每个子报表放在单独的*Excel*表中，但生成的导出文件在一张表中包含所有数据。

我不知道此选项所需的设置是什么。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-09-26T11:18:15.340

您可以借助[**net.sf.jasperreports.export.xls.break.after.row**](http://jasperreports.sourceforge.net/config.reference.html#net.sf.jasperreports.export.xls.break.after.row)属性解决此问题。

您可以为报表中的“sheets break”元素（例如，*line*或*staticText*元素）设置此**net.sf.jasperreports.export.xls.break.after.row属性。**

 **在下面的示例中，我将*line*元素放入*Group Footer*带中，以便在 Excel 中为新组生成新工作*表。*

这是我的样本，主报告：

```
<?xml version="1.0" encoding="UTF-8"?>
<jasperReport ..>
    <parameter name="SUBREPORT_DIR" class="java.lang.String" isForPrompting="false">
        <defaultValueExpression><![CDATA["path_to_subreport"]]></defaultValueExpression>
    </parameter>
    <queryString>
        <![CDATA[SELECT id, addressId FROM document ORDER BY addressId]]>
    </queryString>
    <field name="ID" class="java.lang.Integer"/>
    <field name="ADDRESSID" class="java.lang.Integer"/>
    <group name="addressGroup">
        <groupExpression><![CDATA[$F{ADDRESSID}]]></groupExpression>
        <groupHeader>
            <band height="53">
                <subreport>
                    <reportElement x="189" y="0" width="200" height="31"/>
                    <subreportParameter name="addressId">
                        <subreportParameterExpression><![CDATA[$F{ADDRESSID}]]></subreportParameterExpression>
                    </subreportParameter>
                    <connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
                    <subreportExpression><![CDATA[$P{SUBREPORT_DIR} + "subreport_new_sheet_for_excel.jasper"]]></subreportExpression>
                </subreport>
                <staticText>
                    <reportElement x="0" y="33" width="100" height="20"/>
                    <textElement textAlignment="Center" verticalAlignment="Middle">
                        <font isItalic="true"/>
                    </textElement>
                    <text><![CDATA[ID]]></text>
                </staticText>
            </band>
        </groupHeader>
        <groupFooter>
            <band height="9">
                <line>
                    <reportElement x="1" y="5" width="100" height="1">
                        <property name="net.sf.jasperreports.export.xls.break.after.row" value="true"/>
                    </reportElement>
                    <graphicElement>
                        <pen lineWidth="0.0"/>
                    </graphicElement>
                </line>
            </band>
        </groupFooter>
    </group>
    <detail>
        <band height="20" splitType="Stretch">
            <textField>
                <reportElement x="0" y="0" width="100" height="20"/>
                <box>
                    <pen lineWidth="1.0"/>
                </box>
                <textElement/>
                <textFieldExpression><![CDATA[$F{ID}]]></textFieldExpression>
            </textField>
        </band>
    </detail>
</jasperReport> 
```

我的子报告：

```
<?xml version="1.0" encoding="UTF-8"?>
<jasperReport ...>
    <parameter name="addressId" class="java.lang.Integer" isForPrompting="false"/>
    <queryString>
        <![CDATA[SELECT city, street FROM address WHERE id = $P{addressId}]]>
    </queryString>
    <field name="CITY" class="java.lang.String"/>
    <field name="STREET" class="java.lang.String"/>
    <detail>
        <band height="20" splitType="Stretch">
            <textField>
                <reportElement x="0" y="0" width="258" height="20"/>
                <textElement/>
                <textFieldExpression><![CDATA["City: " + $F{CITY}]]></textFieldExpression>
            </textField>
            <textField>
                <reportElement x="258" y="0" width="297" height="20"/>
                <textElement/>
                <textFieldExpression><![CDATA["Street: " + $F{STREET}]]></textFieldExpression>
            </textField>
        </band>
    </detail>
</jasperReport> 
```

结果将是：

![MS Excel中生成的报告，使用net.sf.jasperreports.export.xls.break.after.row的案例](../Images/e4b3cf9c356c2feb125a68903e64267f.png)

***不***使用“break”元素的结果（我删除了带有***net.sf.jasperreports.export.xls.break.after.row***属性的行）将是：

![在 MS Excel 中生成的报告](../Images/5577b72a489eb5b00db68f8f166feed5.png)

* * *

[您可以在高级 Excel 功能](http://jasperreports.sourceforge.net/sample.reference/xlsfeatures/index.html#xlsfeatures)帖子中找到有关信息的更多信息。**

# iphone - 将 NSString 存储在一个数组中，然后在另一个视图控制器中显示它

> ID：12599319
> 
> 赞同：-2
> 
> 时间：2012-09-26T10:07:26.853
> 
> 标签：iphone, objective-c, xcode

我有 UserDetails 类：

```
@interface UserDetails: NSObject{

  NSString* resourceName;
  NSNumber* resourceId;

  } 
```

我在 B 类中有一个此类的对象（“用户”），我将它传递给另一个 C 类。现在我需要将不同用户的资源名称存储在一个数组中，并将其显示在另一个类 C（TableviewController）中。我在 C 类中使用以下语句：

```
NSMutableArray *arr (declaration)

Implementation:

 arr=[[NSMutableArray array] retain];
 arr=user1.resourceName;  (user1 is an object of UserDetails data class). 
```

错误：从“NSString”分配给“NSMutableArray”的指针类型不兼容。

你能帮我解决这个问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-26T10:12:19.727

您直接将stringValue“resourceName”分配给“arr”，这会给你错误。如果你想将resourceName存储在数组中..试试这个

```
arr=[[NSMutableArray array] retain]; // your initialization
 [arr addObject:user1.resourceName]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-26T10:12:51.563

这有点混乱，但您的主要问题是将字符串分配给数组（编译器会告诉您），您应该做的是将字符串添加到数组

```
NSMutableArray *array = [NSMutableArray array]; 
[array addObject:user1.resourceName]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-26T10:11:58.423

代替

```
arr=user1.resourceName; 
```

和

```
[arr addObject:user1.resourceName]; 
```

# ruby-on-rails - Heroku 应用程序迁移到 VPS，dns 失败

> ID：12599320
> 
> 赞同：0
> 
> 时间：2012-09-26T10:07:40.383
> 
> 标签：ruby-on-rails, heroku, dns

我已经从 Heroku 中删除了我的应用程序，但我忘记了从 Heroku 中删除我的自定义域。现在我被一个网站的两个版本困住了。.nl 工作正常，www..nl 给我错误消息“Heroku | 没有这样的应用程序”怎么办？我已经编辑了我的 DNS 记录，但仍然没有解决这个问题，

非常感谢，

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-26T12:38:33.527

如果您收到 Heroku 消息，那么您的 DNS 仍然指向 Heroku。除非您的 DNS 在那里发送流量，否则没有 Heroku 设置可以使其控制。

如果**http://something.nl**工作正常，但**http://www.something.nl**不工作，那么您可能没有正确更改所有 DNS 设置。

我能想到的唯一其他选择是您的 VPS 上的网络服务器正在将流量从 www 路由到 Heroku 应用程序，但这不太可能。

最后一个选项...如果一切正确，请等待更长时间的 DNS 传播。

# javascript - 如何在键盘弹出时禁用页面滚动

> ID：12599321
> 
> 赞同：4
> 
> 时间：2012-09-26T10:07:40.100
> 
> 标签：javascript, ios, ipad

我有一个带有输入字段的网站。

当输入字段获得焦点时，iPad 键盘会出现并且页面会自动向上滚动。关闭键盘时，不会滚动回原始位置。

是否可以使用 javascript 和/或 css 以编程方式禁用此行为（滚动）？

# css - 围绕浮动元素的文本敲击在 FF 中不起作用

> ID：12599326
> 
> 赞同：2
> 
> 时间：2012-09-26T10:08:13.530
> 
> 标签：css, text, word-wrap

我对文本及其围绕浮动元素的包装有疑问。

在 IE 中它是正确的以及我想要它的方式，而在 FF 中它表现得很奇怪......在 FF 中，文本换行太快，并且周围`div`没有像您期望的那样扩展。

我搜索了高低并测试了自己的蓝色，但没有结果。有人知道我该如何解决这个问题，所以它在 FF 中的行为也应该如此吗？我知道我可以通过设置宽度来解决它，但我想要一个动态布局（如果可能的话......）！下面的代码：

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
</head>

<body>

  <table style="border:2px solid steelblue;overflow:hidden;">
    <tr>
      <td style="width:100%;">
        <div id="page_content" style="float:left;background-color:#ffffff;">
          <div style="float:right;border:1px solid red;">
            ROTA FLOATED RIGHT
          </div>
          <p style="margin:0;border:1px solid green;">
            This is just a stupid text to show my point...
          </p>
        </div>
      </td>
    </tr>
  </table>

</body>

</html>
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-26T15:06:13.090

Try this one

Just put the 'float:left' in your 'p' tag like this.

```
<p style="margin: 0px; border: 1px solid green; float: left;"> This is just a stupid text to show my point... </p> 
```

Implement this one one and get the result as same in all the browsers

* * *

## 回答 #2

> 赞同：-3
> 
> 时间：2012-09-26T10:35:20.373

尝试这个：

```
<table style="border:2px solid steelblue;overflow:hidden;">
        <tr>
            <td id="page_content" style="background-color:#ffffff;border:1px solid green;">
                        This is just a stupid text to show my point...
            </td>
            <td style="border:1px solid red;">
                ROTA FLOATED RIGHT
            </td>
        </tr>
    </table>​ 
```

# javascript - IE 7 中没有列表的嵌套 CSS 计数器

> ID：12599330
> 
> 赞同：0
> 
> 时间：2012-09-26T10:08:29.070
> 
> 标签：javascript, css, internet-explorer-7, counter

我有以下 HTML 代码结构（示例）：

```
<p paraclass="M">Some Text</p>
<p paraclass="A1">enum 1</p>
<p paraclass="A1">enum 2</p>
<p paraclass="A2">enum 2.1</p>
<p paraclass="A2">enum 2.2</p>
<p paraclass="A1">enum 3</p> 
```

并希望它像这样呈现：

```
Some Text
1 enum 1
2 enum 2
   2.1 enum 2.1
   2.2 enum 2.2
3 enum 3 
```

这适用于 CSS-pseudotag，例如：

```
p[paraclass="A1"]:before{
   content:counter(A1);
   counter-increment:A1;
   counter-reset: A2;
 } 
```

不幸的是，这在 IE7 中不起作用。
什么是在不更改 HTML 的情况下在 IE7 中工作的好解决方案？
对于 JS 解决方案，我拥有有关我需要的计数器的所有信息（例如 ID、它们重置的计数器以及它们具有的列表样式类型）。有没有更好/更简单的方法？如果没有，我怎么能使用像“lower-roman”这样的反风格而不自己实现它们？
注意：可以使用 jQuery 1.6.2。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-26T10:21:25.297

首先，您的 HTML 无效。`paraclass`如果您使用 HTML 5 开发，则必须将属性重命名为，`data-paraclass`或者如果您使用 XHTML 开发，则必须添加名称空间。

其次，该`<p>`元素不被认为显示为列表。因此，我想鼓励您使用该`<ol>`元素，因为它是专门为此目的而设计的，并且受到所有浏览器的支持。

# html - HTML 5 Canvas - 实现每个按钮的平滑滚动

> ID：12599331
> 
> 赞同：0
> 
> 时间：2012-09-26T10:08:33.767
> 
> 标签：html, canvas, scroll, smooth-scrolling

我已经用谷歌搜索了一段时间，但我找不到解决我问题的好方法。

我有一个包含多个图像的画布。通过“左”和“右”按钮，我想平滑地水平滚动这些图像。我想一定有一种方法可以设置画布的焦点。我试过`translate`哪个效果很好，但我不想“跳”到下一部分，我想要一个平滑的滚动......

有任何想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-26T10:14:52.283

对于画布中的平滑动画，您需要使用该`requestAnimationFrame`方法（[http://paulirish.com/2011/requestanimationframe-for-smart-animating/](http://paulirish.com/2011/requestanimationframe-for-smart-animating/)）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-26T11:23:03.620

我认为这是[Greensock JS 补间库](http://www.greensock.com/get-started-js/)的工作。它可以补间您可以公开的任何对象的任何属性。

文档非常好，那里有很多资源可以帮助您入门。您还可以在论坛上询问有关您要做什么的问题。

我`TweenMax`多年来一直是一名 Flash 开发人员，现在我开始在 JS 开发中使用它。

根据@devnull69 的回答，它还利用`requestAnimationFrame`.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-26T13:00:57.913

好的，最后我找到了一种方法......虽然很基本。

```
function animate() {

draw();

if(globalVar<300){
    globalVar++;
    setTimeout("animate();", 100);
} } 
```

# android - 如何使用 MoSync Reload 构建 APK 文件？

> ID：12599332
> 
> 赞同：0
> 
> 时间：2012-09-26T10:08:49.320
> 
> 标签：android, build, apk, reload, mosync

我尝试使用 MoSync Reload 环境构建应用程序。
该项目确实通过 Web 界面 + android 客户端工作。
现在我想制作一个 Android 安装程序文件“.apk”。

所以我的问题很简单：
`How can I generate an Android "APK" file using MoSync Reload ?`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-26T10:27:26.313

于是看了一圈，发现 MoSync Reload 只能用于快速开发和测试。
如果要构建应用程序（适用于任何设备），则必须使用 MoSync SDK。

# java - 仅通过 Intent 分享到 LinkedIn 的班级名称

> ID：12599337
> 
> 赞同：3
> 
> 时间：2012-09-26T10:09:12.923
> 
> 标签：java, android, eclipse, linkedin

我目前正在为 Android 应用程序中的一些流行平台创建直接意图以共享一些文本。我目前正试图获得与 LinkedIn 合作的直接意图。

我目前有一个为 Twitter 工作的直接意图，如下所示：

```
shareIntent = new Intent(Intent.ACTION_SEND);
shareIntent.setClassName("com.twitter.android",
            "com.twitter.android.PostActivity"); 
shareIntent.setType("text/*");
shareIntent.putExtra(android.content.Intent.EXTRA_TEXT, text);           
startActivityForResult(shareIntent, 9); 
```

我现在需要的对 LinkedIn 来说是一样的。到目前为止，我在互联网上搜索后知道 LinkedIn 的基本包。那是“com.linkedin.android”（如果这是错误的，请纠正我）。但是，我缺少的关键部分是在 LinkedIn 应用程序中处理共享的类的名称。即 com.linkedin.android.?。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-26T12:45:33.630

我设法通过从 APK 中提取 LinkedIn Manifest 文件找到了意图。

班级名称是：`com.linkedin.android.home.UpdateStatusActivity`

我对任何感兴趣的人的代码是：

```
if(Utils.doesPackageExist(getSherlockActivity(), "com.linkedin.android"))
{           
    Intent shareIntent = new Intent(Intent.ACTION_SEND);
    shareIntent.setClassName("com.linkedin.android",
            "com.linkedin.android.home.UpdateStatusActivity"); 
    shareIntent.setType("text/*");
    shareIntent.putExtra(android.content.Intent.EXTRA_TEXT, shareText);           
    startActivity(shareIntent);
}
else
{
    Toast.makeText(getSherlockActivity(), "Please install the LinkedIn app to share your result", Toast.LENGTH_LONG).show();
} 
```

感谢 Ryszard Wiśniewski 在[http://code.google.com/p/android-apktool/上所做的工作](http://code.google.com/p/android-apktool/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-02-25T05:34:19.430

在我写作时，新的班级名称是：

`com.linkedin.android.infra.deeplink.DeepLinkHelperActivity`

所以大家一起：

```
Intent shareIntent = new Intent(Intent.ACTION_SEND);
shareIntent.setClassName("com.linkedin.android",
        "com.linkedin.android.infra.deeplink.DeepLinkHelperActivity"); 
shareIntent.setType("text/*");
shareIntent.putExtra(android.content.Intent.EXTRA_TEXT, shareText);           
startActivity(shareIntent); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-11-21T11:05:07.150

它是 com.linkedin.android.publishing.sharing.ShareActivity ，您可以下载此应用并查看您手机上当前运行的 Activity 名称是什么 [https://play.google.com/store/apps/details?id= com.willme.topactivity](https://play.google.com/store/apps/details?id=com.willme.topactivity) ...但是 com.linkedin.android.publishing.sharing.ShareActivity 似乎是一个私有类，当您访问 Twitter 时您无法访问

# php - 在mysql中使用php数组查询

> ID：12599338
> 
> 赞同：1
> 
> 时间：2012-09-26T10:09:19.890
> 
> 标签：php, mysql, arrays

我想用多个过滤器获取内容，现在只有一个。例如：

> SELECT * FROM Table1 WHERE status=true AND category = 'Camera' AND model = 'Samsung' AND type = 'New'

我想为它创建一个数组。但是因为我是这个新手，所以没有领先。

```
function getAllRequests($filter){
if(empty($filter)){
    $addfilter = '';    
    }else{
    $addfilter = 'AND cat_id=' . $filter;
    }
}

$sql = 'SELECT * FROM Table1 WHERE status=true' . $filter; 
```

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-26T10:13:56.630

这将使您更接近解决方案，尽管它不会替换`cat_id`查询中的 ，这肯定是错误的 - 尽管没有数组结构就不可能做太多事情：

```
function getAllRequests($filter)
{
    $addfilter="";
    if(!empty($filter))
    {
        foreach($filter as $val)
        {
            $addfilter. = ' AND cat_id=' . $val .'\'';
        }
    }
    return $addFilter;
}

$myFilters=getAllRequests($filter);
$sql = 'SELECT * FROM Table1 WHERE status=true' . $myFilters; 
```

另一方面，如果您的数组的结构如下：

```
array{ category => camera, model => samsung); // etc 
```

您可以使用以下内容：

```
function getAllRequests($filter)
{
    $addfilter="";
    if(!empty($filter))
    {
        foreach($filter as $key => $val)
        {
            $addfilter. = " AND `$key` = '$val'";
        }
    }
    return $addFilter;
}

$myFilters=getAllRequests($filter);
$sql = 'SELECT * FROM Table1 WHERE status=true' . $myFilters; 
```

编辑：您可以通过以下方式遍历所有过滤器：

```
function getAllRequests()
{
    $addfilter="";
    if(!empty($_REQUEST))
    {
    foreach($_REQUEST as $key => $val)
    {
        $addfilter. = " AND `$key` = '$val'";
    }
    }
    return $addFilter;
}

$myFilters=getAllRequests();
$sql = 'SELECT * FROM Table1 WHERE status=true' . $myFilters; 
```

您不需要传递`$_REQUEST`（这将适用于 GET 和 POST），因为它已经是一个超全局的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-26T10:16:23.140

```
function getAllRequests($filter){
if(empty($filter)){
$addfilter = '';    
}else{
$addfilter = 'AND cat_id=' . $filter;
 }
} 
```

$sql = 'SELECT * FROM Table1 WHERE status=true' 。$添加过滤器；

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-26T10:13:51.080

您可以使用另一种方法，即使用可选参数，它将使您的`WHERE`子句根据需要动态化。在这种方法中，您将所有参数的值直接传递给 sql 查询，如下所示：

```
SELECT * 
FROM Table1 
WHERE 1 = 1
  AND (@status   IS NULL OR status   = @statusParam)
  AND (@category IS NULL OR category = @categoryParam)
  AND (@model    IS NULL OR model    = @modelParam)
  AND (@type     IS NULL OR type     = @typeParam) 
```

然后，如果任何参数`@statusParam`、或传递给带有值的查询，则与包含该值的列的比较将被忽略。我使用了 predicate ，以防所有传递给查询的值和所有值在这种情况下所有子句都将被忽略，因为它不会出现，因为它总是 true 并且它会像.`@categoryParam``@modelParam``@typeParam``NULL``1 = 1``NULL``WHERE``WHERE 1 = 1``SELECT * FROM Table1`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-26T10:14:07.027

用这个

```
function getAllRequests($filter){
    if(empty($filter)){
      $addfilter = '';    
     }else{
      $addfilter .= 'AND cat_id=' . $filter;
    }
  return $addfilter;
}

$sql = 'SELECT * FROM Table1 WHERE status=true' . getAllRequests($filter); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-26T10:14:37.013

当您发送数组时，请确保它具有索引

```
 $conditions = array('category' => 'Camera', 'model' => 'Samsung' , 'type' => 'New') 
```

现在循环它。在你的其他情况下

```
foreach($conditions as $key =>$value){

    $addfilter .= 'AND ' . $key . ' = ' . $value;

} 
```

# database - 从两个列表中查找合适的数据结构进行删除

> ID：12599341
> 
> 赞同：2
> 
> 时间：2012-09-26T10:09:33.453
> 
> 标签：database, performance, algorithm, data-structures

这可能会被删除，因为涉及堆栈溢出中不太允许的想法共享，但在此之前，如果我能从可靠的程序员那里得到任何想法，这对我来说将是一个双赢的局面

假设您有一个**Student**类，存储在数据库中，并且该类有一个名为**favoriteTeachers**的列表属性。该列表不断被系统更新，并涉及教师的 ID。

您还有一个类**Teacher**，也存储在数据库中，同样有一个列表属性**favouriteStudents**。它再次不断更新并涉及学生的身份。

在我们的系统中，当学生调用一个函数（比如**notMyFavoriteTeacher**）时，我们的系统必须应用以下更改；

1.  从 favouriteTeacher 列表中删除给定教师的 id
2.  从给定老师的 favouriteStudent 列表中删除学生的 id

我试图考虑更新的行数可能会耗尽数据库，因此我没有将学生与他们最喜欢的老师映射到单独的表中作为**user_id,teacher_id**，而是创建了一个列并存储了一个包含教师 id 分隔的字符串逗号。（例如：“1,2,14,4,25”）。同样适用于**老师**。

然而，当我们调用这个函数时，我们也面临另一个问题。为了完成此操作，您需要将字符串转换为列表，通过线性搜索找到元素，然后删除，然后将列表转换为字符串并推送回 db。您还必须为**教师**类执行其他操作。如果我们**不**应用 string 方法，删除会更容易，但由于我们每天要处理 2k 次左右的删除和添加操作，我认为使用单独的表是**不可行的。**

我想问一下，为了减少操作的数量，可以选择一种数据结构来提高**效率吗？**

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-26T10:21:43.213

将关系作为数组存储在单列中违反了[第一范式](http://en.wikipedia.org/wiki/First_normal_form)，并且不应在没有充分理由的情况下这样做。尽管在某些情况下各种形式的非规范化*可能会*提高效率，但我不认为这种情况是其中之一。更糟糕的是，您将无法从数据库中获得强制参照完整性的帮助。并且某些操作会导致保证行扫描：删除教师时，您必须检查每个学生的每一行以从每个学生的收藏列表中删除该教师。删除学生也是如此。

关系数据库的设计和构建是为了将行链接到其他行。你需要一个很好的理由来阻止他们做他们设计要做的事情。您应该继续设计一个适当的关系模式，并且只有当实际测量表明它太慢时，您才应该担心它的性能。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-26T10:23:26.193

首先，我不明白您选择将最喜欢的教师/学生的 ID 存储为逗号分隔的字符串，因为无论是在逗号分隔值的情况下，还是在具有 studentId、teacherId 结构的表的情况下，您只需要 2 行更新/删除（第一个在 favoriteTeachers 表中，第二个在 favoriteStudent 表中）。

但是，考虑到您当前的数据结构，优化性能的一种方法是保持逗号分隔的字符串排序。我的意思是从行的形成开始，保持逗号分隔的 id，如“1、5、7、15”。这样，如果将其转换为列表，则可以执行二进制搜索，并且将花费 Log(n) 时间而不是 n。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-26T12:30:06.603

通过将 RDBMS 存储为字符串列表，您将失去任何 RDBMS 提供的所有好处。使用 Student_id 和最喜欢的 teacher_id 创建一个单独的表。在将其加入主表之前应用过滤条件（对于学生或教师）。

# windows - 注册表访问挂钩以保护驱动程序

> ID：12599343
> 
> 赞同：2
> 
> 时间：2012-09-26T10:09:35.537
> 
> 标签：windows, api, registry, hook, driver

我正在为 Windows NT 编写一个驱动程序，为用户空间应用程序提供 Ring-0 访问。我想制作一个具有专有权利的实用程序来执行任何用户的命令，这些命令将受到保护，不受任何外部有害影响。在网上冲浪我发现有必要挂钩一些本机内核函数，例如`NtOpenProcess`, `NtTerminateProcess`,`NtDublicateObject`等。我已经制作了一个可以保护应用程序的工作驱动程序，但后来我意识到最好也防止它受到外部尝试在操作系统启动期间删除驱动程序或禁止其加载，如防火墙。我将任务分为两部分：防止从物理上删除驱动程序`\system32\drivers\`和防止更改/删除负责加载驱动程序的注册表项（`HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services`）。

问题是我不明白如何挂钩从内核空间对注册表项的访问，甚至不确定是否有可能：ntdll 中与注册表一起使用的所有函数都在用户空间中，从内核空间不可用。此外，我可以从用户空间设置的所有 API 挂钩都将位于特定进程的内存上下文中。因此，我们需要将 Dll 注入到每个进程中，无论是当前进程还是新进程。

有没有一种方法可以在一个地方挂钩所有 NT 调用而不将 Dll 注入每个进程？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-27T09:00:10.910

你这样做是错误的。注册表调用也是 nt 系统调用并驻留在 SSDT 中（作为另一个 Zw* 系统调用）。但是挂钩 SSDT 是不好的做法。主要缺点 -`s don`由于 PathGuard，它无法在 x64 系统上运行。正确的方法是使用记录在案的操作系统的特定过滤机制。对于注册表调用，它是 Configuration Manager 回调。这个回调的 windows xp 版本有一些警告（一些设施未实现或伪造）但 xp 现在已经死了=）。使用它非常简单。您可以从本指南开始（和结束 =））[http://msdn.microsoft.com/en-us/library/windows/hardware/ff545879 (v=vs.85).aspx](http://msdn.microsoft.com/en-us/library/windows/hardware/ff545879(v=vs.85).aspx)

# php - Codeigniter 分页和带有动态参数的 MySQL 查询

> ID：12599356
> 
> 赞同：0
> 
> 时间：2012-09-26T10:10:31.020
> 
> 标签：php, mysql, codeigniter, pagination

让我详细解释我的问题

我有一张名为 products 的表

```
Products : Name , views , sale_wanted , added_date 
```

我在视图中列出了我的所有产品。
我正在通过标志处理想要的销售，表示 0 或 1。
有一些链接可以对列表进行排序。

```
Most Viewed    
Wanted    
For Sale    
New Arrivals 
```

现在，当用户单击时，所有列表都会根据参数 i am sendig 进行排序。
我想使用 Codeigniter 的分页类。
这里出现了一些问题。
当我单击让假设想要并发送一个参数时，它会列出所有想要的产品。

```
Now i click on a pagination link and the wanted parameter is gone 
and the list becomes without wanted parameter. 
```

其他锚点也是如此。
我必须限制它，所以它仍然有我的参数。
第二个问题是我看到的 Codeigniter 正在消失。
我需要一些用户可以选择的链接。意味着我想给用户功能来选择他想在一页中看到多少产品。

```
Let suppose 5 ,10 ,15 ,20 
```

选择较大的数字将减少页数。
而且我仍然想要相同的功能。
重要的一点是我想一次性处理所有这些意味着我不想为每个锚重复我的代码。我需要专家的建议以及有关 Pagination 库的任何帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-26T10:52:31.697

```
$seg=3
$noOfresultsToshow=$this->uri->segment('5')//use if else for by default no of results
$typeOfresult=$this->uri->segment('4'); //Most Viewed Wanted For Sale    New Arrivals
$config['total_rows'] = $countqueryresults;// mention the total rows here
$config['per_page'] = $noOfresultsToshow;
$config['uri_segment'] = $seg;
$this->pagination->initialize($config);
$data['yourvariable'] = $this->model_name->getData($config['per_page'], $this->uri->segment($seg),$typeOfresult);
$data['links'] = $this->pagination->create_links(); 
```

in your view file `echo $links;`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-27T07:43:30.717

我已经找到了解决这个问题的方法。

我在 Codeigniter 分页库中做了两种方法

他们来了

定义了两个新变量

```
var $base_link  =   '';
var $per_page_link  =   TRUE;
var $per_page_array =   array(); 
```

用户可以在初始化时定义它们

```
$config['per_page_link']    =   TRUE;
$config['per_page_array']   =   array(5,10,15,20);
$this->pagination->initialize($config); 
```

现在方法

```
public function create_per_page()
{
    $CI =& get_instance();

    $output =   '';
    $current    =   $CI->uri->segment(3,5);

    if($this->per_page_link === TRUE AND count($this->per_page_array) > 1){

        foreach($this->per_page_array as $row){

            if($current == $row){
                $output .=  $this->cur_tag_open . $row . $this->cur_tag_close;
                $output .=  '&nbsp;';                   
            }else{
                $output .=  '<a href="'.$this->base_link.$row.'/1">'.$row.'</a>';
                $output .=  '&nbsp;';
            }
        }

    }
    return  $output;
} 
```

另一个是 create_per_page_links()。我刚刚在其中复制了 create_links 方法的代码并对其进行了修改。在 create_per_page_links() 开始时，我添加了这些额外的行。

```
$this->per_page =   $CI->uri->segment(3,5);
$this->uri_segment  =   $CI->uri->segment(4,1); 
```

但是，这仅适用于分段。我没有用查询字符串测试它。此外，如果 per_page_link 为 FALSE，则两种方法都不起作用。调用 create_per_page_links 将生成以下内容

```
« First  < 1 2 3 4 5 >  Last » 
```

create_per_page 将生成以下内容

```
5 10 15 20 
```

并做了

# html - 响应式水平布局

> ID：12599357
> 
> 赞同：2
> 
> 时间：2012-09-26T10:10:33.387
> 
> 标签：html, css, layout

我有一个宽度：自动和高度：100% 的水平布局，但主体或容器不会拉伸以保持图像的纵横比。

我需要在此附加图像中看到这样的布局：

![在此处输入图像描述](../Images/dee78cb87f00ed14450f4dc71ee80318.png)

我将使用这些图像作为面板 div 的背景。

这是我的代码：

HTML

```
 <body>
      <div id="cover" class="panel">
      <img src=""/>
      </div>
      <div id="panel1" class="panel">
      <img src=""/>
      </div>
      <div id="panel2" class="panel">
      <img src=""/>
      </div>
      <div id="panel3" class="panel">
      <img src=""/>
      </div>
      <div id="panel4" class="panel">
      <img src=""/>
      </div>
 </body> 
```

CSS

```
* {
    margin: 0;
    padding: 0;
    height: 100%;
}

body {
    width: auto;
    height: 100%;
}

.panel {
    width: auto;
    height: 100%;
    float: left;
}

.panel img {
    width: auto;
    height: 100%;
    z-index: -1;
} 
```

你也可以在这个[jsfiddle](http://jsfiddle.net/iamthestig/rsPRz/)看到它。

我将 .panel 浮动到左侧，因此它将全部水平显示，但容器不能容纳所有面板的宽度，它们只是堆叠在一起。

注意：我不想有一个固定的，我需要它来响应。

这是我想要完成的一个示例（[jsfiddle](http://jsfiddle.net/iamthestig/cJUQa/)）。

如您所见，没有垂直滚动条，只有水平滚动条显示，当您调整视口大小时，图像会调整其宽度和高度并保持其纵横比。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-26T13:02:16.940

这是您原始小提琴的更新：http: [//jsfiddle.net/rsPRz/45/](http://jsfiddle.net/rsPRz/45/)

尝试尽可能接近您的原始代码...

## HTML

```
<html>
<body>
    <img src="http://i978.photobucket.com/albums/ae265/horizoncars/lambo-cover.jpg"
    /><img src="http://i978.photobucket.com/albums/ae265/horizoncars/lambo-left-2.jpg"
    /><img src="http://i978.photobucket.com/albums/ae265/horizoncars/lambo-left-1.jpg"
    /><img src="http://i978.photobucket.com/albums/ae265/horizoncars/lambo-right-1.jpg"
    /><img src="http://i978.photobucket.com/albums/ae265/horizoncars/lambo-right-2.jpg"/>
</body>
</html> 
```

## CSS

```
* {
    margin: 0;
    padding: 0;
    height: 100%;
}

body {
    overflow-x: scroll;
    overflow-y: hidden;
    white-space:nowrap;
}

img {
    display: inline-block;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-26T10:21:18.847

我认为你需要将它们全部保存在一个父 div 中，其宽度和高度将等于窗口的宽度和高度

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-26T11:01:40.620

您展示的示例工作正常，因为它具有单个图像。当您使用多个图像/ div 时，您应该将 div 的宽度平均分配给`max-width:100%`其中的图像。

例如，我只使用了 4 个 div。检查这个演示[http://jsfiddle.net/rsPRz/34/](http://jsfiddle.net/rsPRz/34/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-26T12:24:57.143

借助`div.container`jQuery 的一点点帮助，您可能会相处得很好。

更新链接：http: [//jsfiddle.net/rsPRz/37/](http://jsfiddle.net/rsPRz/37/)

```
widthSum = 0;
$('.panel img').each(function() {
   widthSum += $(this).width(); 
});
$('.container').width(widthSum); 
```

这对您来说是一个可能的解决方案吗？

# gwt - Gwt 架构：为什么要使用 MVP、Editors、RequestFactory、Gin 等？

> ID：12599358
> 
> 赞同：7
> 
> 时间：2012-09-26T10:10:36.840
> 
> 标签：gwt, architecture

我已经在 GWT 应用程序上工作了一年，但我们从未觉得需要使用任何这些框架或工具。

所以我觉得我们可能错过了。

我们以“代码背后”的方式来做。

这是一个关于我们如何构建代码的简单示例：

MyPanel.ui.xml：

```
<label ui:field="label"/>
<g:TextBox ui:field="box"/>
<g:Button ui:field="button"/> 
```

MyPanel.java：

```
@UiField
LabelElement label;
@UiField
TextBox box;
@UiField
Button button;

MyBean myBean;

Messages messages = GWT.create(Messages.class);
MyServiceAsync myServiceAsync = GWT.create(MyService.class);

...

protected void i18n() {
  label.setInnerText(messages.label());
  button.setText(messages.button());
}

...

@UiHandler("box")
void box_onValueChange(ValueChangeEvent<String> event) {
  myBean.setText(event.getValue());
}

@UiHandler("button")
void button_onClick(ClickEvent event) {
  myServiceAsync.sendData(myBean, new AsyncCallback<MyResponse>() {
     @Override
     public void onSuccess(ReponseDispoBean result) {
       Window.alert(result.message());
     }

     @Override
     public void onFailure(Throwable caught) {
       Window.alert(caught.getMessage());
     }
  });
} 
```

为了在面板（页面的一部分，每个都在自己的类中）之间进行通信，我们使用小部件或应用程序的事件总线来发送自定义事件。

为了导航，我们使用地点/标记器/活动和历史映射器

对于单元和功能测试，我们使用[gwt-test-utils](https://github.com/gwt-test-utils/gwt-test-utils)

就是这样。所以我想知道：这些工具有什么帮助？有什么令人信服的理由来使用它们？

谢谢

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-09-26T13:27:25.823

**编辑**和**GIN**处理减少样板文件。
例如，比较[没有](https://gist.github.com/780560/40d2fdefa97f8b7a73a1bbc0d78b122508c0a2b1)编辑器和[有](https://gist.github.com/780560/bb0fab5593f873f8bfddefe1b3047bd72ef76cfd)编辑器的同一*屏幕。* 当我说 GIN 处理减少样板时，只有当您已经使用**依赖注入**(DI) 时。如果您不使用 DI，那么[您可能应该](http://misko.hevery.com/code-reviewers-guide/flaw-constructor-does-real-work/)使用.

 **与 DI 类似，**MVP**有助于制作可测试的代码，尤其是关于测试*表示逻辑*（不一定是*业务逻辑*，也不是 UI）。*例如，你如何*展示东西并不重要，重要的是你在正确的时间展示了正确的东西。一个例子是错误：它们是在屏幕顶部显示为红色，还是在表单字段旁边，或者在表单字段上的工具提示中然后变成红色，这并不重要；重要的是您在正确的时间*向视图发送*正确的错误集。*如何*可以替换或修改（理想情况下也应该进行测试），但什么*是*相同的。
MVP 在构建多因素应用程序时也非常有用：如果移动设备、平板电脑和台式机之间的*屏幕*足够相似，那么您可以使用具有 3 个不同视图的同一个演示者（这就是 DI 的亮点！）。

至于**RequestFactory** (RF)，嗯，它是一种不同于 GWT-RPC 的客户端-服务器协议，具有自己的一组特性和限制。如果您对 GWT-RPC 没有问题，则不应切换（尽管我建议您查看 RF 是什么）。对我来说，RF 的主要特点是它是一个协议（基于 JSON）而不是一个 API：客户端和服务器上的类不必完全相同，只要它们*足够兼容*，客户端和服务器服务器相互理解（添加属性，将 an 更改`int`为 a`double`等）；与 GWT-RPC 相比，这是一个巨大的差异，在 GWT-RPC 中，即使您的类中发生非常微小和细微的变化，您也会遇到错误。

但最后，“<a href="http://en.wiktionary.org/wiki/if_it_ain%27t_broke,_don%27t_fix_it" rel="noreferrer">如果它没有坏，就不要修复它” .

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-26T12:37:42.073

MVP 只是将逻辑与视图代码分开，并帮助在 jvm 中运行测试，而不是使用慢速 GWTTestcase。

编辑器有助于将对象属性绑定到输入字段。这使得从和输入字段复制到对象的代码已过时。

杜松子酒有助于连接你的物品。同样，这使测试变得更加容易。您可以自行连接您的对象，但如果 gin 自动为您执行此操作，您为什么要这样做？

RequestFactory 是 RPC 方法的替代品，并且更加以数据为中心。它可以帮助您在批处理操作中获取数据，并且它使 DTO 的使用过时了。您当然可以坚持使用 RPC 方法。但也有一些缺点。您必须为每个服务创建一个 Serverlet，或者您可以使用命令模式。这导致了问题，您必须为非常请求创建一个操作、响应和处理服务。这是需要维护的大量代码。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-26T12:37:07.723

我可能建议看看的一件事是 RequestFactory 与 gwt rpc。它不需要对象是可序列化的，并且具有相当多的性能增强，例如仅通过网络发送差异。

我们还使用类似于 gin 的 ClientFactory 模式。我们使用它来根据正在使用的设备类型（平板电脑、移动设备、台式机）注入客户端类。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-26T12:54:10.897

你的方法没问题。事实上，我已经开始了许多这样的原型项目（而不是 gwt-test-utils，对于此类项目，我只使用 GWTTestCase）。你知道，有时这就是我们所需要的，而其他一切只会增加复杂性！所以它不仅适用于原型，而且对于一些实际项目来说确实可以很好地工作。

但结果往往是，我想重用一些组件，并使它们更具可配置性。这就是我重构为 MVP 的时候了。如果我还没有 Gin（实际上，现在我通常用 Gin 开始所有项目）。

因此，当*您*发现对它们的需求或某种优势（不是因为它们在理论上很棒或“时髦”）时，您可以添加这些东西。

顺便说一句，我不使用事件总线方法（除了小的、定义明确的事件集），因为事件系统的复杂性通常会爆炸。**

# hibernate - 此缓存管理器上不存在 Jboss infinispan

> ID：12599359
> 
> 赞同：0
> 
> 时间：2012-09-26T10:10:49.593
> 
> 标签：hibernate, jboss, jboss6.x, infinispan

我有 2 个不同的 jboss 彼此分开，但在同一个网络上。(JbossAS 6.1)

我有一个在一台服务器上运行良好的应用程序。使用 infispan 作为具有休眠功能的二级缓存。

但是在另一台服务器上，我收到以下消息，我该如何配置它，以便两个 jboss 都可以缓存来自服务器之一的应用程序。

```
 [org.infinispan.remoting.InboundInvocationHandlerImpl] (Incoming-20,null) Cache named persistence.unit:unitName=se.syll.plattform-ear.ear/se.syll.jobbcomponent-ejb.jar#se.syll.jobbcomponent.org.hibernate.cache.UpdateTimestampsCache does not exist on this cache manager! 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-06T17:25:34.130

您遇到了一个影响 JBoss 6 的非对称缓存问题：您必须确保在每个节点上以相同的方式定义所有缓存，并且几乎同时启动。

更好的解决方案是继续使用 JBoss AS 7.1。

# java - 我应该如何重构我的代码以避免Android上的主线程网络异常？

> ID：12599362
> 
> 赞同：0
> 
> 时间：2012-09-26T10:10:51.550
> 
> 标签：java, android, eclipse

在我的 MainActivity 我有一个像这样的类初始化：

```
Presentation presentation = new Presentation("link"); 
```

Presentation 是一个使用 Web 服务器上 .JSON 文件中的值进行初始化的类：

```
public Presentation(String URL) {
    // Do stuff
    doNetworking();
}
private doNetworking() {
    // Network access here
    // This throws the Network on Main Thread exception
} 
```

在我的 MainActivity 中，下一步我需要 Presentation 的所有值：

```
Presentation presentation = new Presentation();
// Do some stuff with it 
```

使用 AsyncTask 我不知道应该怎么做，到目前为止我有这样的东西： public Presentation(String URL) { // Do stuff new InitializePresentation().execute(URL); }

```
private class InitializePresentation extends AsyncTask<String, Void, Boolean> {
    // Amongst other things
    protected Boolean doInBackground(String... params) {
        // Do the networking stuff here
    }
} 
```

我需要的是重构这段代码，使它是异步的，但表现得像一个同步调用。任何帮助是极大的赞赏。

*编辑* 如何重构代码来实现这一点？

```
Bitmap b = new Bitmap();
Load bitmap from network;
Use bitmap in imageview; 
```

可以以这种方式使用吗？还是我必须像这样使用它

```
Async, doInBackground() {
   Load bitmap from network
   Use bitmap in imageview
   Continue with application
} 
```

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-26T10:14:47.750

您可以在执行网络操作时显示进度对话框：

```
private ProgressDialog progressDialog;
private Context context;

public InitializePresentation (Context context) {
    this.context = context;
}

@Override
protected void onPreExecute() {
    progressDialog = ProgressDialog.show(context, "", "loading", true);
}

/* 
 * @see android.os.AsyncTask#doInBackground(Params[])
 */
@Override
protected String doInBackground(String... arg0) {
    // Do the networking stuff here
}

@Override
protected void onPostExecute(final String result) {
    progressDialog.dismiss();
} 
```

# jquery - 滑动 div 的 - 需要的建议

> ID：12599366
> 
> 赞同：0
> 
> 时间：2012-09-26T10:11:11.270
> 
> 标签：jquery

刚刚制作了这段代码来隐藏 div 直到点击标题，完美运行，只是现在我有三个 div 在彼此下方，我只想扩展第一个，然后当另一个被点击时打开关闭和新的扩展。我的 Jquery 在下面

```
$(function(){
    $('.drop-dwn').click(function(){
        $(this).next('.slide1').slideToggle(300);
        return false;
    });
}); 
```

我的 HTML 标记是：

```
<div class="slide-panels">
                    <h4 class="drop-dwn">Oil & Gas</h4>
                        <div class="slide1">
                            <div class="checkbox"><input type="checkbox" name="" value=""> All</div>
                            <div class="checkbox"><input type="checkbox" name="" value=""> All</div>
                            <div class="checkbox"><input type="checkbox" name="" value=""> All</div>
                        </div>
                    <h4>SAP & Enterprise Solutions</h4>
                        <div class="slide2">
                            <div class="checkbox"><input type="checkbox" name="" value=""> All</div>
                            <div class="checkbox"><input type="checkbox" name="" value=""> All</div>
                            <div class="checkbox"><input type="checkbox" name="" value=""> All</div>
                        </div>
                    <h4>IT & Change Management</h4>
                        <div class="slide3">
                            <div class="checkbox"><input type="checkbox" name="" value=""> All</div>
                            <div class="checkbox"><input type="checkbox" name="" value=""> All</div>
                            <div class="checkbox"><input type="checkbox" name="" value=""> All</div>
                        </div>
                     </div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-26T10:16:53.467

```
<div class="slide-panels">
    <h4 class="drop-dwn">Oil & Gas</h4>
        <div class="first slide1">
            <div class="checkbox"><input type="checkbox" name="" value=""> All</div>
            <div class="checkbox"><input type="checkbox" name="" value=""> All</div>
            <div class="checkbox"><input type="checkbox" name="" value=""> All</div>
        </div>
    <h4 class="drop-dwn">SAP & Enterprise Solutions</h4>
        <div class="slide1">
            <div class="checkbox"><input type="checkbox" name="" value=""> All</div>
            <div class="checkbox"><input type="checkbox" name="" value=""> All</div>
            <div class="checkbox"><input type="checkbox" name="" value=""> All</div>
        </div>
    <h4 class="drop-dwn">IT & Change Management</h4>
        <div class="slide1">
            <div class="checkbox"><input type="checkbox" name="" value=""> All</div>
            <div class="checkbox"><input type="checkbox" name="" value=""> All</div>
            <div class="checkbox"><input type="checkbox" name="" value=""> All</div>
        </div>
</div>​ 
```

jQuery：

```
$('.first').slideDown(300);
$(function(){
 $('.drop-dwn').click(function(){
    $('.slide1').slideUp(300);
    $(this).next('.slide1').slideToggle(300);
    return false;
 });
});​ 
```

CSS：

```
.slide1{
  display:none;
 }​ 
```

[演示](http://jsfiddle.net/afshinprofe/RWPNE/3/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-26T10:19:40.200

诀窍是向上滑动所有 div，然后向下滑动您单击的那个。

所以给所有的div一个像'panel'这样的通用类和

```
$('.drop-dwn').click(function(){
   var _this = this;
   $(".panel").slideUp("fast", function() {
      $(_this).slideDown("fast");
   });
}); 
```

# javascript - 如何通过javascript为gridview设置visible="true"？

> ID：12599367
> 
> 赞同：0
> 
> 时间：2012-09-26T10:11:10.233
> 
> 标签：javascript

我有gridview的用户控件。
我已使 GridView 可见 =“假”。
当我单击一个按钮时，它应该显示出来。
这是我的代码，但我收到错误。

```
<script type="text/javascript">
    function showGrid() {
        alert("calling function");
        document.getElementById("<%= GridView1.ClientID%>").visibility = 'visible';
    }
</script>

<asp:Button ID="btnView" runat="server" OnClientClick="showGrid();" BackColor="Blue" BorderStyle="None" Font-Bold="true" ForeColor="White" Text="Show Grid" />

<asp:GridView ID="GridView1" runat="server" AllowPaging="True" ClientIDMode="Static" **Visible="false"**
    AllowSorting="True" AutoGenerateColumns="False" BackColor="White" 
    BorderColor="#DEDFDE" BorderStyle="None" BorderWidth="1px" CellPadding="4" 
    DataSourceID="SqlDataSource1" ForeColor="Black" GridLines="Vertical"> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-26T10:15:57.760

使用 Jquery 你可以做到

```
$(document).ready(function () {
    $('#GridView1').css('visibility','visible');
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-26T10:13:26.573

试试这个： document.getElementById('GridView1').style.visibility = 'visible';

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-26T10:26:41.677

如何将您的网格视图放在一个 div 中并使用一些简单的 JQuery，例如：

```
$('YourDivID').hide(); 
```

# javascript - 一个或多个“var”语句之间有什么区别吗？

> ID：12599371
> 
> 赞同：1
> 
> 时间：2012-09-26T10:11:30.043
> 
> 标签：javascript, jquery

> **可能重复：**
> [在 JavaScript 中使用 var 和不使用 var 的区别 使用](https://stackoverflow.com/questions/1470488/difference-between-using-var-and-not-using-var-in-javascript)
> [相同的 var 关键字初始化多个 javascript 变量有什么好处？](https://stackoverflow.com/questions/5455445/what-is-the-advantage-of-initializing-multiple-javascript-variables-with-the-sam)

我有以下代码：

```
var row = $link.attr('data-row'),
    a = 2,
    b = a; 
```

这是否与以下内容完全相同：

```
var row = $link.attr('data-row');
var a = 2;
var b = a; 
```

当我使用 jslint 时，它一直建议我只使用一个 var。人们通常会做什么来使代码更具可读性。还有一种方法可以阻止 jslint 抱怨吗？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-09-26T10:13:00.157

没有实际区别。使用最适合您的。`var`您可以通过在文件顶部添加以下指令来告诉 JSLint 允许许多语句：

```
/*jslint vars: true */ 
```

请注意，两种变体之间的*[速度没有差异：](http://jsperf.com/single-var-statement-vs-multiple-statements)*

![在此处输入图像描述](../Images/44e8d73090d56ad0b0a2648fc39a5d41.png)

[规范中处理变量声明](http://es5.github.com/#x10.5)的部分说明如下：

> *对于代码*中的每个*VariableDeclaration*和*VariableDeclarationNoIn d*，按源文本顺序执行
> 
>  **   令*dn*为*d*中的*标识符*。
> **   让*varAlreadyDeclared*成为调用*env 的*HasBinding 具体方法并传递*dn*作为参数的结果。*   如果*varAlreadyDeclared*为假，则
>     *   调用*env 的*CreateMutableBinding 具体方法，传递*dn*和 *configureBindings*作为参数。
>     *   调用*env 的*SetMutableBinding 具体方法，传递*dn*、 undefined 和*strict*作为参数。**

 **那里没有任何东西可以区分单独的语句和组合的`var`语句。**

# c# - WPF DataGrid 的 CollectionViewSource MVVM 实现

> ID：12599374
> 
> 赞同：11
> 
> 时间：2012-09-26T10:11:48.477
> 
> 标签：c#, wpf, mvvm, datagrid, collectionviewsource

我已经在 MVVM 中为 WPF DataGrid 实现了 CollectionViewSource 的小演示。我非常感谢任何帮助来验证实现并评论这是否是使用 CollectionViewSource 的正确方法。

```
public class ViewModel : NotifyProperyChangedBase
{       
    private ObservableCollection<Movie> _movieList;
    public ObservableCollection<Movie> MovieList
    {
        get { return _movieList; }
        set
        {
            if (this.CheckPropertyChanged<ObservableCollection<Movie>>("MovieList", ref _movieList, ref value))
                this.DisplayNameChanged();
        }
    }

    private CollectionView _movieView;
    public CollectionView MovieView
    {
        get { return _movieView; }
        set
        {
            if (this.CheckPropertyChanged<CollectionView>("MovieView", ref _movieView, ref value))
                this.DisplayNameChanged();
        }
    }

    public ViewModel()
    {
          MovieView = GetMovieCollectionView(MovieList);
    }

    private void DisplayNameChanged()
    {
        this.FirePropertyChanged("DisplayName");
    }

    public void UpdateDataGrid(string uri)
    {            
        MovieView = GetMovieCollectionView(new ObservableCollection<Movie>(MovieList.Where(mov => uri.Contains(mov.ID.ToString())).ToList<Movie>()));
    }

    public CollectionView GetMovieCollectionView(ObservableCollection<Movie> movList)
    {
        return (CollectionView)CollectionViewSource.GetDefaultView(movList);
    } 
```

XAML 视图：

```
 <Window.Resources>
     <CollectionViewSource x:Key="MovieCollection" Source="{Binding MovieList}">
    </CollectionViewSource>
  </Window.Resources>
   <DataGrid Name="MyDG" 
             ItemsSource="{Binding MovieView}" 
             AutoGenerateColumns="True" /> 
```

背后的代码：

```
public partial class MainWindow : Window
{
    public MainWindow()
    {
        InitializeComponent();
        this.Resources.Add("TagVM", new TagViewModel());
        this.DataContext = this.Resources["TagVM"];
    }

    private void Hyperlink_Click(object sender, RoutedEventArgs e)
    {
        string uri = ((Hyperlink)sender).NavigateUri.ToString();
        ((ViewModel)this.DataContext).UpdateDataGrid(uri);
    } 
```

Hyperlink_Click 处理程序调用 VM 的 UpdateDataGrid 方法，将逗号分隔的电影 ID 传递给它，然后使用扩展方法过滤 MovieList 集合。

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2012-09-26T10:27:32.323

您不应创建可观察集合和集合视图的新实例。将谓词分配给集合视图上的过滤器属性，并在您想要过滤集合时调用 Refresh。

```
public class ViewModel : NotifyProperyChangedBase
{       
    string uri;

    public ObservableCollection<Movie> MovieList { get; private set; }

    public CollectionView MovieView { get; private set; }

    public ViewModel(MoveList movieList)
    {
        MovieList = movieList;
        MovieView = GetMovieCollectionView(MovieList);
        MovieView.Filter = OnFilterMovie;
    }

    public void UpdateDataGrid(string uri)
    {     
        this.uri = uri;
        MovieView.Refresh();
    }

    bool OnFilterMovie(object item)
    {
        var movie = (Movie)item;
        return uri.Contains(movie.ID.ToString());
    }

    public CollectionView GetMovieCollectionView(ObservableCollection<Movie> movList)
    {
        return (CollectionView)CollectionViewSource.GetDefaultView(movList);
    }
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-28T14:10:21.917

这是实例化 CollectionViewSource 以在 DataGrid 中启用多重过滤的示例：http: [//www.codeproject.com/Articles/442498/Multi-filtered-WPF-DataGrid-with-MVVM](http://www.codeproject.com/Articles/442498/Multi-filtered-WPF-DataGrid-with-MVVM)

CollectionViewSource 在 XAML 视图中实例化，但绑定到在视图模型中实例化的对象集合。然后，视图模型使用 CollectionViewSource 过滤 DataGrid 中的数据。

至于实例化 CollectionViewSource 的*正确*方法是什么——这是值得商榷的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-26T10:17:38.527

您可以通过直接执行此操作跳过添加资源：`DataContext = new TagViewModel();`并正常执行绑定。但我强烈推荐使用依赖注入。

# php - 缓存控制失败

> ID：12599382
> 
> 赞同：1
> 
> 时间：2012-09-26T10:12:07.773
> 
> 标签：php, html

我的 index.php 页面一直被缓存，显示旧的计时器值和其他值，即使我正在使用它：

```
session_cache_limiter( 'nocache' );
session_start( );
header( 'Cache-Control: no-cache, must-revalidate, post-check=0, pre-check=0' ); 
```

防止浏览器缓存页面。我检查了 Firefly 中的标题输出，他们一直说：

```
Cache-Control:private, max-age=10800, pre-check=10800 
```

我曾经在 HTML META 中有这个：

```
<META HTTP-EQUIV="cache-control" content="no-cache" />
<META HTTP-EQUIV="Pragma" CONTENT="no-cache">
<META HTTP-EQUIV="Expires" CONTENT="-1"> 
```

但是已经禁用了这些以检查它们是否在干扰，但启用或禁用并没有什么区别。

感谢所有帮助！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-26T10:42:24.407

> FireFly 中的 headers 输出仍然是 Cache-Control private，max-age=10800，pre-check=10800，no-cache，must-revalidate，post-check=0，pre-check=0

这意味着由于您正在设置：

```
Cache-Control: no-cache, must-revalidate, post-check=0, pre-check=0 
```

您的应用程序/页面中的其他一些组件/配置正在设置：

```
Cache-Control: private, max-age=10800, pre-check=10800 
```

两者都发送给最终用户。当浏览器读取它们时，“Cache-Control：private”会覆盖您的值，从而导致页面被缓存。

注意：[默认情况下 header() 将覆盖之前设置的任何标题](http://www.php.net/manual/en/function.header.php)，因此可能是在您的代码行*之后*设置了某些内容，因为您的行应该覆盖之前的任何标题。

您需要找出设置这些“私有”缓存控制标头的内容并禁用/注释它，否则它将不起作用。也许稍后在您的代码中的其他部分？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-26T10:18:53.513

将缓存到期日期设置为旧日期。

```
header( 'Expires: Fri, 01 Jan 2010 00:00:00 GMT' ); 
```

# c# - 连续多次停止更新

> ID：12599383
> 
> 赞同：0
> 
> 时间：2012-09-26T10:12:08.670
> 
> 标签：c#, xna

我正在做一个乒乓球游戏。

当球击中任何一个桨时，它会触发声音效果。然而，问题在于 XNA 更新速度为 60 fps。因此，有时我会听到我的 sfx 触发器在初始碰撞期间刚刚开始发出微弱的声音。

我想让 SFX 触发器触发一次，然后不会再次发生，直到：A）球得分或 B）球与对面的球棒相撞。

我可以采取的最佳方法是什么？

这是我的触发器目前在我的球类中的样子：

```
 /// <summary>
    /// Draws a rectangle where the ball and bat collide. Also triggers the SFX for when they collide
    /// </summary>
    private void BatCollisionRectLeft()
    {
        // For the left bat
        if (ballRect.Intersects(leftBat.batRect))
        {
            rectangle3 = Rectangle.Intersect(ballRect, leftBat.batRect);
            hasHitLeftBat = true;
            lastHitLeftBat = true;
            lasthitRightBat = false;
            AudioManager.Instance.PlaySoundEffect("hit2");
            Speed += .2f;            // Gradually increases the ball's speed each time it connects with the bat
        }
    } 
```

然后在我的球的更新函数中调用该函数，该函数由 XNA 中的主要游戏类调用。

```
 /// <summary>
    /// Updates position of the ball. Used in Update() for GameplayScreen.
    /// </summary>
    public void UpdatePosition(GameTime gameTime)
    {
              .......

    // As long as the ball is to the right of the back, check for an update
        if (ballPosition.X > leftBat.BatPosition.X)
        {
            // When the ball and bat collide, draw the rectangle where they intersect
            BatCollisionRectLeft();
        }

        // As long as the ball is to the left of the back, check for an update
        if (ballPosition.X < rightBat.BatPosition.X)

        {   // When the ball and bat collide, draw the rectangle where they intersect
            BatCollisionRectRight();
        }
                     ........
              } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-26T15:26:52.007

您可以有一个布尔变量来指示之前的碰撞状态。

> 如果 myPreviousCollisionState =`false`和 myCurrentCollisionState = `true`-> 播放声音、改变方向等...

在更新调用结束时，您可以设置

`myPreviousCollisionState = myCurrentCollisionState`

显然，在游戏开始时，`myPreviousCollisionState = false`

使用该代码，您的声音将仅在碰撞的第一帧播放。

希望这可以帮助！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-26T11:05:38.950

解决方案看起来像这样。这段代码没有经过测试也没有功能，它只是为了这个想法。基本上，您有一个计时器会等待一段时间（毫秒），然后它才会再次播放声音；要再次播放声音，您的碰撞检测要求必须得到满足。这是简单的延迟计时器。

```
float timer = 0, timerInterval = 100;
bool canDoSoundEffect = true;
...
void Update(GameTime gt) {
    float delta = (float)gt.ElapsedTime.TotalMilliseconds;

    // Check if we can play soundeffect again
    if (canDoSoundEffect) {
        // Play soundeffect if collided and set flag to false
        if (ballRect.Intersects(leftBat.batRect)) {

            ... Collision logic here...

            AudioManager.Instance.PlaySoundEffect("hit2");
            canDoSoundEffect = false;
        }
    }
    // So we can't play soundeffect - it means that not enough time has passed 
    // from last play so we need to increase timer and when enough time passes, 
    // we set flag to true and reset timer
    else {
        timer += delta;
        if (timer >= timerInterval) {
            timer -= timerInterval;
            canDoSoundEffect = true;
        }
    }
} 
```

# iphone - wait_fences：未能收到回复：UIImagePickerController 中的 10004003

> ID：12599384
> 
> 赞同：1
> 
> 时间：2012-09-26T10:12:09.490
> 
> 标签：iphone, ios, ios5, ios4, iphone-sdk-3.0

当我编写下面提到的代码时出现此错误。基本上我想将 UIImagePickerController 捕获的视频保存到我的应用程序目录。我没有得到我犯错的地方。请帮助我..

> ```
> - (void) imagePickerController: (UIImagePickerController *) picker didFinishPickingMediaWithInfo: (NSDictionary *) info
> {
>     NSString *mediaType = [info objectForKey: UIImagePickerControllerMediaType];
>     [self dismissModalViewControllerAnimated:NO];
>     // Handle a movie capture
>     if (CFStringCompare ((__bridge_retained CFStringRef) mediaType, kUTTypeMovie, 0) == kCFCompareEqualTo)
>     {
>         NSArray  *documentPaths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
>         NSString *documentsDir  = [documentPaths objectAtIndex:0];
>         NSString *movieName = [NSString stringWithFormat:@"%@.mov",[self getNameForVideo]];
>         NSString *moviePath    = [documentsDir stringByAppendingPathComponent:movieName];
>         NSURL * movieURL = [info valueForKey:UIImagePickerControllerMediaURL];
>         NSData * movieData = [NSData dataWithContentsOfURL:movieURL];
>         if([movieData writeToFile:moviePath atomically:NO])
>         {
>             [self saveVideoInfoInDatabase];
>         }
>         else
>         {
>             NSLog(@"Video could not be saved to the document directry");
>         }
>     }
> } 
> ```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-26T11:06:45.843

这是内存限制的原因（以各种方式表现出来）。这也可能是下载完成和当时的 UI 之间的线程交互行为的原因。有人指出，当后者在前者之前创建时，显示 UIAlertView 和创建 UIWebView 存在问题。**如果您有一个快速下载连接（在模拟器和本地 Web 服务器中很可能是这种情况），那么您可能会发现下载完成太快以至于 UI 无法准备好显示通知下载完成**。

# javascript - 如何在谷歌地图生成的脚本中设置缩小属性？

> ID：12599387
> 
> 赞同：0
> 
> 时间：2012-09-26T10:12:17.613
> 
> 标签：javascript, google-maps

我使用 maps.google.com 站点生成了一个脚本，它显示了我所需的位置，但地图覆盖超出了我定义的屏幕。

任何人都指导我如何缩小 1-2 步并将地图叠加层带到屏幕内以查看它。

问题示例：212.124.100.44/andrida/location/

代码：

```
<iframe width="390" height="380" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" src="https://maps.google.com/maps?f=q&amp;source=s_q&amp;hl=en&amp;geocode=&amp;q=51+Bellingham+Road,+Arthurs+Seat,+Victoria+3936,+Australia&amp;aq=&amp;sll=-38.367965,144.97331&amp;sspn=0.010077,0.01929&amp;ie=UTF8&amp;hq=&amp;hnear=51+Bellingham+Rd,+Arthurs+Seat+Victoria+3936,+Australia&amp;t=m&amp;z=14&amp;ll=-38.367965,144.97331&amp;output=embed"></iframe><br /><small><a href="https://maps.google.com/maps?f=q&amp;source=embed&amp;hl=en&amp;geocode=&amp;q=51+Bellingham+Road,+Arthurs+Seat,+Victoria+3936,+Australia&amp;aq=&amp;sll=-38.367965,144.97331&amp;sspn=0.010077,0.01929&amp;ie=UTF8&amp;hq=&amp;hnear=51+Bellingham+Rd,+Arthurs+Seat+Victoria+3936,+Australia&amp;t=m&amp;z=14&amp;ll=-38.367965,144.97331" style="color:#0000FF;text-align:left">View Larger Map</a></small> 
```

任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-26T10:44:48.503

在嵌入之前，您应该能够看到自定义地图的链接。如果您不确定，请按照以下步骤操作：

1) maps.google.com 2) 搜索您要嵌入的位置 3) 单击打印按钮旁边的“链接”按钮 4) 您现在应该能够在链接按钮旁边看到一个弹出窗口 5) 单击“自定义”并预览嵌入的地图” 6）添加您想要的宽度、高度、缩小甚至重新定位位置，以便地址覆盖可见。7) 如果一切正常，只需复制嵌入代码

# c# - 如何将 datagridview 行添加到 xml 文件？

> ID：12599396
> 
> 赞同：1
> 
> 时间：2012-09-26T10:12:36.090
> 
> 标签：c#, xml, winforms, c#-4.0, datagridview

我是 C# 的初学者，我创建了一个`dataGridView1`在`Form`其中添加了一些行和列（*不使用`DataSet`and`Datatable`*）。现在我需要将数据发送`dataGridView1`到 xml 文件。每当我单击该按钮时，xml 文件都应该**更新。**我需要在不使用`Datatable`（或表格）的情况下执行此操作。我尝试了下面的代码（*不工作*）

**按钮点击**

```
 XmlTextWriter newXml = new XmlTextWriter("d:/newXML.xml", Encoding.UTF8);
        DataSet ds = new DataSet(dataGridView1.Rows.ToString()); /* May be I am missing something here */
        ds.WriteXml(newXml); 
```

xml 文件已成功创建但显示`<System.Windows.Forms.DataGridViewRowCollection />`在其中。

如果我`BindingSource bs = (BindingSource)dataGridView1.DataSource;`之前添加`DataSet`，则会显示错误“对象引用未设置为对象的实例”。

**注意：**如果 xml 文件不是他们的，那么它应该创建一个。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-26T10:21:52.290

欢迎来到**C#**世界！

解决问题的一个好的开始应该是使用**Serialization**，当您需要将对象保存到 XML 文件中时，它真的很方便。

我不知道您如何存储填充**DataGrid**的对象，但如果可以，您应该使它们可序列化，添加一些方法，如 Load()、Save() 等。

阅读此内容以获取更多信息：[MSDN - 序列化](http://msdn.microsoft.com/en-us/library/swxzdhc0.aspx)

你会发现很多关于如何做到这一点的信息，当你开始时实施起来有点苛刻，但可以为你节省大量的时间！

希望它会有所帮助。

**编辑 1：**

刚刚看到你的编辑，好像你没有使用对象，只是简单的插入。在那种情况下，我的解决方案将无助于考虑更复杂的情况......

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-26T10:27:09.783

您可以实例化 a并从您的控件中`DataTable`填充它：`dataGridView1`

```
 DataTable table = new DataTable("Customers");
        // copy the correct structure from datagridview to the table
        foreach (DataGridViewColumn column in dataGridView1.Columns)
        {
            table.Columns.Add(column.Name, typeof(string));
        }

        // populate the datatable from datagridview
        for (int rowIndex = 0; rowIndex < dataGridView1.Rows.Count; rowIndex++)
        {
            table.Rows.Add();
            for (int columnIndex = 0; columnIndex < dataGridView1.Columns.Count; columnIndex++)
            {
                table.Rows[rowIndex][columnIndex] = dataGridView1[rowIndex, columnIndex].Value;
            }
        } 
```

然后继续你的其余代码：

```
 DataSet ds = new DataSet();
    ds.Tables.Add(table);
    ds.WriteXml("d:/newXML.xml", System.Data.XmlWriteMode.IgnoreSchema); 
```

# php - PHP 要求不显示

> ID：12599397
> 
> 赞同：-1
> 
> 时间：2012-09-26T10:12:40.880
> 
> 标签：php, html, require

我这里有一个奇怪的问题。我正在尝试通过 php require() 函数为我的网站添加页脚，但它没有显示，而是显示了一个链接，将我重定向到[http://cjtekkit.net/function.require](http://cjtekkit.net/function.require)

[在http://cjtekkit.net/](http://cjtekkit.net/)自己检查问题

奇怪的是，我对网站顶部的标题和按钮做了同样的事情，但底部不会配合。

有什么想法或解决方案吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-26T10:14:45.420

这很简单：

`http://cjtekkit.net/main_look_bottom.html`- 未找到

该文件`main_look_bottom.html`丢失，`main_look_top.html`存在-您可以设置标题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-26T10:17:00.860

这是 PHP 给您的错误消息的一部分，但由于您的页面样式，它不可见。如果您在浏览器中查看源代码，您将看到它：

```
<b>Warning</b>:  require(/home/woutegx92/domains/cjtekkit.net/public_html/main_look_bottom.html) [<a href='function.require'>function.require</a>]: failed to open stream: No such file or directory in <b>/home/woutegx92/domains/cjtekkit.net/public_html/index.php</b> on line <b>33</b><br />
<br />
<b>Fatal error</b>:  require() [<a href='function.require'>function.require</a>]: Failed opening required '/home/woutegx92/domains/cjtekkit.net/public_html/main_look_bottom.html' (include_path='.:/usr/local/lib/php') in <b>/home/woutegx92/domains/cjtekkit.net/public_html/index.php</b> on line <b>33</b><br /> 
```

这意味着您尝试包含的文件不存在。

# java - JAXB XmlElementRef 查找整个类路径

> ID：12599399
> 
> 赞同：1
> 
> 时间：2012-09-26T10:12:45.107
> 
> 标签：java, spring, jakarta-ee, jaxb, jaxb2

嗨，有人可以解释如何解决以下问题。我有这样的班级结构..

```
 public class RequestWrapper implements Seriallizable
 {
    private List<Request> requests = null;
    @XmlElementRefs( { @XmlElementRef(type = Class1.class), @XmlElementRef(type = Class2.class), .. And so on } )
    public List<Request> getRequests()
    {
        return requests;
    }
 } 
```

这个 Request 类是一个 Abstract 类。项目中的许多类都扩展了这个 Request 类。出于这个原因，我不能通过声明许多 @XmlElementRef 注释来添加代码。

这个@XmlElementRefs 标记有什么办法可以查找整个类路径，而不是只查找声明的@XmlElementRef。

请尽快回复此帖...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-26T10:28:36.830

**意识到`JAXBContext`子类**

[**JAXB (JSR-222)**](http://jcp.org/en/jsr/detail?id=222)实现无法通过反射或扫描类路径来确定映射类型的子类。您将需要明确告诉 JAXB 包含它们。这可以通过以下方式之一完成。

***选项 #1 -`@XmlSeeAlso`注释***

注释是一种机制，`@XmlSeeAlso`您可以在映射类中利用它来包含其他类。这通常用于拉入 JAXB 应视为映射类的任何子类。

```
@XmlSeeAlso({Class1.class, Class2.class})
public class Request {
} 
```

***选项 #2 - 在创建时包含它们`JAXBContext`***

```
JAXBContext jc = JAXBContext.newInstance(Class1.class, Class2.class); 
```

* * *

**申请`@XmlElementRef`**

只要您`JAXBContext`知道所有子类，`Request`您就可以将映射简化为以下内容：

```
@XmlElementRef
public List<Request> getRequests()
{
    return requests;
} 
```

* * *

**了解更多信息**

*   [http://blog.bdoughan.com/2010/11/jaxb-and-inheritance-using-substitution.html](http://blog.bdoughan.com/2010/11/jaxb-and-inheritance-using-substitution.html)

# linq - 使用 DirectoryEntry LINQ C# 获取本地组中的所有用户

> ID：12599403
> 
> 赞同：1
> 
> 时间：2012-09-26T10:12:55.433
> 
> 标签：linq, directoryentry

我正在尝试围绕 LINQ 进行研究，以便弄清楚如何查询`DirectoryEntry`. 目前，我正在尝试在 C# 中编写一些代码，该代码将采用一个字符串变量，并根据该字符串给出一个组内的成员列表。

以下是我迄今为止设法弄清楚的

```
public static string[] GetAllUsersInGroup(string groupname)
{
    var names = new List<string>();
    var path = string.Format("WinNT://{0},computer", Environment.MachineName);
    var computerEntry = new DirectoryEntry(path);

    if (computerEntry != null)
    {
        using (computerEntry)
        {
            var menberNames = from DirectoryEntry childEntry
                                in computerEntry.Children.Find("testgroup", "group")
                              where childEntry.SchemaClassName == "User"
                              select childEntry.Name;

            foreach (var name in memberNames)
            {
                names.Add(name);
            }
        }
    }

    return names.ToArray();
} 
```

问题是我不能`Children.Find()`在 where 语句中使用。

虽然我想知道如何正确地做到这一点，但我真的很想弄清楚这一点，因为我还需要做其他查询。因此，如果有人知道任何可以找到此信息的好来源，请告诉我

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-26T10:23:52.930

我不太确定这一点。试试它是否适合你。

```
public static string[] GetAllUsersInGroup(string groupname)
{
    var path = string.Format("WinNT://{0},computer", Environment.MachineName);

    using (var computerEntry = new DirectoryEntry(path))
    {
        if (computerEntry != null)
        {
            return
                computerEntry.Children.SelectMany(childEntry => 
                    ChildEntry.Children.Find("Administrators", "group")
                        .Children.Select(child => child.Name))
                    .ToArray();
        }
        else 
        {
            return null;
        }
    }
} 
```

# powershell - 在 PowerShell 中将组添加到组的成员

> ID：12599405
> 
> 赞同：1
> 
> 时间：2012-09-26T10:13:01.893
> 
> 标签：powershell, active-directory, windows-server-2008-r2, active-directory-group

我想使用 PowerShell 将一个组添加到另一个组的成员。我已经看到了用 vbscript 做到这一点的方法，但是可以用 powershell 做到这一点吗？

我的环境： -Windows
Server 2008 R2
-PowerShell 2.0

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-26T10:59:51.883

一种方法是使用[ActiveDirectory 模块](http://technet.microsoft.com/en-us/library/ee617195.aspx)：

```
Import-Module ActiveDirectory

Add-ADGroupMember -Identity <samaccountname of destination group> -Members <samaccountname of group to add in> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-26T11:34:19.097

此脚本复制另一个指定组内的组成员

```
$Source_Group = "CN=SourceGroupName,OU=Groups,DC=domain,DC=com"
$Destination_Group = "CN=DestinationGroupName,OU=Groups,DC=domain,DC=com"

$Target = Get-QADGroupMember $Source_Group
foreach ($Person in $Target) {
    add-QADGroupMember -identity $Destination_Group -member $Person.dn
} 
```

[资源](https://sites.google.com/site/powershellandphp/powershell-1/active-directory/copy-group-members-to-another-group)

# c - 最优化的 strstr() 类函数，适用于我的代码

> ID：12599407
> 
> 赞同：1
> 
> 时间：2012-09-26T10:13:04.040
> 
> 标签：c, parsing, search, optimization, strstr

我正在编写 http 解析器并具有这些功能

```
int parse_useragent(char* buf, int length){
    buf[length] = '\0';
    if(strstr(buf, "MSIE") != NULL){
        return 1;
    }else if(strstr(buf, "Firefox") != NULL){
        return 2;
    }
    return DEFAULT_USERAGENT;
}

void parse_headers(unsigned char* buf, http_record_t * http){
    char * position = (char*)buf;
    char referer[] = "Referer";
    char useragent[] = "User-Agent";
    ...
    int length = getlinelength(position); // returns length of line
    while(length != 1){ // position points to start of line every iteration of cycle
        if(strncmp(position, useragent, sizeof(useragent)-1) == 0){
            http->useragent = parse_useragent(position, length);
            fprintf(stderr,"parsing useragent \n");
        }else if(strncmp(position, referer, sizeof(referer)-1) == 0){
            fprintf(stderr,"parsing referer \n");
            char * tmp = malloc(REFERER_LENGHT * sizeof(char));
            parse_referer(tmp,position, length);
            strncpy(http->referer,tmp, REFERER_LENGHT * sizeof(char) - 1);
        }else if(...

        position += length + 1;
        length = getlinelength(position);
    }
    return;
} 
```

`buf`指向http头的开始。

我`parse_useragent`对每个标题都有类似的功能，我真的需要优化它们。数据包长度通常小于 1000，行长很少超过 100 值。对这么短的字符串进行优化会有什么明显的效果吗？

我知道其中一些算法需要不同的解析方法，然后逐行解析。在这些特定条件下选择哪种方式？

*   [http://en.wikipedia.org/wiki/Boyer%E2%80%93Moore_string_search_algorithm](http://en.wikipedia.org/wiki/Boyer%E2%80%93Moore_string_search_algorithm)
*   [http://en.wikipedia.org/wiki/Rabin%E2%80%93Karp_string_search_algorithm](http://en.wikipedia.org/wiki/Rabin%E2%80%93Karp_string_search_algorithm)
*   [http://en.wikipedia.org/wiki/Knuth%E2%80%93Morris%E2%80%93Pratt_algorithm](http://en.wikipedia.org/wiki/Knuth%E2%80%93Morris%E2%80%93Pratt_algorithm)
*   [http://en.wikipedia.org/wiki/Suffix_tree](http://en.wikipedia.org/wiki/Suffix_tree)
*   [http://en.wikipedia.org/wiki/Suffix_array](http://en.wikipedia.org/wiki/Suffix_array)
*   [http://www.codeproject.com/Articles/250566/Fastest-strstr-like-function-in-C](http://www.codeproject.com/Articles/250566/Fastest-strstr-like-function-in-C)
*   [http://www.sanmayce.com/Railgun/index.html](http://www.sanmayce.com/Railgun/index.html)

感谢帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-26T11:46:49.473

如果您不介意将字符串硬编码到代码中，我认为 lex 将是完成此类任务的最快工具。因为它在源代码中显式地构建了一个有限状态自动机。

这是执行此任务的示例 lex 代码：

```
%option noyywrap
%{
enum Type{
    TFIREFOX = 0, TMSIE = 1
};
enum Type global_variable; /* the variable to store the parsing result */
%}

%%
FIREFOX {global_variable = TFIREFOX; yyterminate();}
MSIE {global_variable = TMSIE; yyterminate();}
. {}
%%

int lex_strstr(char *buf, int n)
{
    global_variable = -1;
    YY_BUFFER_STATE bs = yy_scan_buffer(buf, n);
    yy_switch_to_buffer(bs);
    yylex();
    return global_variable;
} 
```

将其存储在某个文件中，`resulte.l`并使用 flex 对其进行编译以获取 ac 头文件：

```
flex -o head.h result.l 
```

这里有一个例子来展示它是如何工作的：

```
#include "head.h"
int main()
{
    {
        char buf[] = "this is a test MSIE string\0\0";
        printf("%d\n", lex_strstr(buf, (sizeof buf)));
    }
    {
        char buf[] = "this is a test FIREFOX string\0\0";
        printf("%d\n", lex_strstr(buf, (sizeof buf)));
    }
    {
        char buf[] = "this is a test MSIEFIREFOX string\0\0";
        printf("%d\n", lex_strstr(buf, (sizeof buf)));
    }
    {
        char buf[] = "this is a test MIEFIEFOXdfa\0\0";
        printf("%d\n", lex_strstr(buf, (sizeof buf)));
    }
} 
```

结果：

```
1
0
1
-1 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-26T10:32:03.023

将您的字符串转换为长度前缀。

很多时间都浪费在寻找 C 字符串中的终止 nul 字符上，而带有长度前缀的字符串消除了这种浪费，同时增加了它自己的一点点开销。

在野外有一个库是 BSD 或 MIT 许可的（阅读：任何人都可以免费使用），它非常优化并且错误数量非常少。但是，对于我的生活，我想不出 lib 的名称。*可能*是Safestr 。[在此处](https://buildsecurityin.us-cert.gov/bsi/271-BSI.html)查找有关查找 Safestr 的提示，或[在此处](http://www.zork.org/safestr/)查找是否会为您加载页面。

# c++ - CreateWindowsEx() 失败并触发断点

> ID：12599408
> 
> 赞同：0
> 
> 时间：2012-09-26T10:13:05.903
> 
> 标签：c++, winapi, opengl, createwindowex

从我的应用程序打开 OpenGL 窗口时遇到问题。

我正在使用 64 位控制台应用程序，并且我想从该控制台中打开另一个窗口供 OpenGL 绘制。

调用在 CreateWindowEx() 处失败，并以“MyApp.exe 已触发断点”失败 以下代码初始化窗口本身。

```
bool OpenGL_Display::CreateGLWindow(char* title, int width, int height, int bits, bool fullscreenflag, int posX, int posY)
{
    GLuint      PixelFormat;            // Holds The Results After Searching For A Match
    WNDCLASS    wc;                     // Windows Class Structure
    DWORD       dwExStyle;              // Window Extended Style
    DWORD       dwStyle;                // Window Style
    RECT        WindowRect;             // Grabs Rectangle Upper Left / Lower Right Values
    WindowRect.left=(long)0;            // Set Left Value To 0
    WindowRect.right=(long)width;       // Set Right Value To Requested Width
    WindowRect.top=(long)0;             // Set Top Value To 0
    WindowRect.bottom=(long)height;     // Set Bottom Value To Requested Height

    hInstance           = GetModuleHandle(NULL);                // Grab An Instance For Our Window
    wc.style            = CS_HREDRAW | CS_VREDRAW | CS_OWNDC;   // Redraw On Size, And Own DC For Window.
    wc.lpfnWndProc      = NULL;                 // WndProc Handles Messages
    wc.cbClsExtra       = 0;                                    // No Extra Window Data
    wc.cbWndExtra       = 0;                                    // No Extra Window Data
    wc.hInstance        = hInstance;                            // Set The Instance
    wc.hIcon            = LoadIcon(NULL, IDI_WINLOGO);          // Load The Default Icon
    wc.hCursor          = LoadCursor(NULL, IDC_ARROW);          // Load The Arrow Pointer
    wc.hbrBackground    = NULL;                                 // No Background Required For GL
    wc.lpszMenuName     = NULL;                                 // We Don't Want A Menu
    wc.lpszClassName    = "OpenGL";                             // Set The Class Name

    if (!RegisterClass(&wc))                                    // Attempt To Register The Window Class
    {
        MessageBox(NULL,"Failed To Register The Window Class.","ERROR",MB_OK|MB_ICONEXCLAMATION);
        return FALSE;                                           // Return FALSE
    }

    dwExStyle=WS_EX_APPWINDOW | WS_EX_WINDOWEDGE;           // Window Extended Style
    dwStyle=WS_OVERLAPPEDWINDOW;                            // Windows Style

    AdjustWindowRectEx(&WindowRect, dwStyle, FALSE, dwExStyle);     // Adjust Window To True Requested Size
    HWND hwndC = GetConsoleWindow();
    // Create The Window
    if (!(hWnd=CreateWindowEx(  dwExStyle,                          // Extended Style For The Window
                                "OpenGL",                           // Class Name
                                title,                              // Window Title
                                dwStyle |                           // Defined Window Style
                                WS_CLIPSIBLINGS |                   // Required Window Style
                                WS_CLIPCHILDREN,                    // Required Window Style
                                0, 0,                               // Window Position
                                WindowRect.right-WindowRect.left,   // Calculate Window Width
                                WindowRect.bottom-WindowRect.top,   // Calculate Window Height
                                hwndC,                              // No Parent Window
                                NULL,                               // No Menu
                                hInstance,                          // Instance
                                NULL)))                             // Dont Pass Anything To WM_CREATE
    {
        KillGLWindow();                             // Reset The Display
        MessageBox(NULL,"Window Creation Error.","ERROR",MB_OK|MB_ICONEXCLAMATION);
        return FALSE;                               // Return FALSE
    }
} 
```

导致它的先前代码：

```
extern "C" __declspec(dllexport) void OpenGLDisplay_Init(int width, int height, int posX, int posY)
{
    oglDisp.Init_Display(width, height, posX, posY);
}

void OpenGL_Display::Init_Display(int width, int height, int posX, int posY)
{
    if (!CreateGLWindow("Ophthametrics Live Display", width, height, 24, false, posX, posY))
    {
        throw;
    }   
} 
```

那里出了什么问题？我不知道，我正在使用我用于另一个应用程序的代码，它工作得很好。在这里虽然它只是可怕地失败了（在原始代码中它不是控制台应用程序，而是一个没有控制台的 Win32 应用程序）。

最终的解决方案是在一个被调用的 DLL 中，一旦它被调用，它应该创建一个窗口供 OpenGL 绘制。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T12:07:03.987

“如果你把你的window proc指向一个真正的函数呢？”

slugo 写的，就是这样。

# android - 在 Android 中使用 Messenger 在 IPC 中传递对象

> ID：12599410
> 
> 赞同：0
> 
> 时间：2012-09-26T10:13:11.253
> 
> 标签：android, ipc, messenger

我在用于 IPC 的 Android 中使用 Messenger 而不是aidl。我有一个客户可以绑定的服务。**如何使用 IPC 的 Messenger Mechanism 将自定义对象表单服务传递给客户端，**以便客户端可以使用该对象来调用操作。我知道我们可以使用 Parcelable 或 databundle 发送简单的数据类型，但是自定义对象呢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-26T12:24:33.840

> 如何使用 IPC 的 Messenger Mechanism 将自定义对象表单服务传递给客户端，以便客户端可以使用该对象来调用操作。

你不能。一个进程中的应用程序不能保存来自另一个进程的对象，更不用说对它们“调用操作”了。

# c# - 带有字典的 AjaxControlToolkit 自动完成

> ID：12599411
> 
> 赞同：2
> 
> 时间：2012-09-26T10:13:16.703
> 
> 标签：c#, asp.net, autocomplete, ajaxcontroltoolkit

我正在使用 AjaxControlToolkit，并将其 AutoComplete 扩展绑定到文本框。

使用原始代码，我可以让它完美地工作。我的需求已经从仅仅查询和发送一组数据演变为必须使用密钥发送该数据。

例如：
当用户输入一些文本时，查询会在 3 个表中搜索一个可能性，然后发回所有结果。我现在想将这些结果绑定到从中获取的表中。
密钥不必显示在扩展器上，只需显示值。

我的想法是将结果绑定到字典，然后遍历它以获取值（将值绑定到字符串 [] 以返回自动完成），然后使用键在另一个文本框中分配所选变量的位置从。

当前代码**.aspx**：

```
<ajaxToolkit:AutoCompleteExtender ID="AutoCompleteExtender1" runat="server" TargetControlID="txtMainSearch" ServiceMethod="GetCompletionList" CompletionInterval="500" FirstRowSelected="True" CompletionListCssClass="completionList" CompletionListItemCssClass="listItem" CompletionListHighlightedItemCssClass="itemHighlighted"></ajaxToolkit:AutoCompleteExtender> 
```

**。CS**

```
[WebMethod, ScriptMethod]
public static string[] GetCompletionList(string prefixText)
{
    ArrayList srings = new ArrayList();

    int counter = 0;

    SqlConnection db = DataConn.SqlConnection();

    db.Open();
    SqlTransaction transaction = db.BeginTransaction();

    Dictionary<string, string> dictionary = new Dictionary<string, string>();

    try
    {
        SqlCommand command = new SqlCommand("[Table 1]" + prefixText + "[Var]", db, transaction);
        using (SqlDataReader reader = command.ExecuteReader())
        {
            while (reader.Read())
            {
                counter = counter + 1;
                dictionary.Add("ItemOne", reader["something"].ToString());
            }
        }

        command = new SqlCommand("[Table 2]", db, transaction);
        using (SqlDataReader reader = command.ExecuteReader())
        {
            while (reader.Read())
            {
                counter = counter + 1;
                dictionary.Add("ItemTwo", reader["something"].ToString());
            }
        }

        transaction.Commit();
    }
    catch (SqlException)
    {
        transaction.Rollback();
        dictionary.Add("Error", "Problem Getting Results");
    }

    if (counter == 0)
        dictionary.Add("Error", "There are no users to display");

    foreach (KeyValuePair<string, string> valuePair in dictionary)
    {
        srings.Add(valuePair.Value);
    }

    return null; //This isnt really null... Just accidently deleted the code
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-26T13:15:17.677

主要问题是您试图将重复的键添加到字典中。改为使用`List<KeyValuePair<string, string>>`集合：

```
var values = new List<KeyValuePair<string, string>>();

// select data from first table
foreach (var id in Enumerable.Range(1,10))
{
    values.Add(new KeyValuePair<string,string>("Table1_" + id.ToString(), Guid.NewGuid().ToString() );
}

//select data from the second table
foreach (var id in Enumerable.Range(1,10))
{
    values.Add(new KeyValuePair<string,string>("Table2_" + id.ToString(), Guid.NewGuid().ToString() );
}

if(values.Count == 0)
{
    values.Add(new KeyValuePair<string,string>("", "There are no users to display"));
}

return values.Select( pair => AutoCompleteExtender.CreateAutoCompleteItem(pair.Value, pair.Key)).ToArray(); 
```

提请注意从源表名称和键值本身生成的项的键。

然后，在页面上添加到 AutoCompleteExtender`OnClientItemSelected`客户端事件处理程序并在表单上添加隐藏字段以存储所选项目值：

```
<script type="text/javascript">
     function itemSelected(sender, args) {
          $get("<%= AutoCompleteSelectedValue.ClientID %>").value = args.get_value();
     }
</script>

<ajaxToolkit:AutoCompleteExtender ID="AutoCompleteExtender1" runat="server" TargetControlID="txtMainSearch"
     ServiceMethod="GetCompletionList" CompletionInterval="500" FirstRowSelected="True"
     CompletionListCssClass="completionList" CompletionListItemCssClass="listItem"
     CompletionListHighlightedItemCssClass="itemHighlighted"
     OnClientItemSelected="itemSelected">

<asp:HiddenField runat="server" ID="AutoCompleteSelectedValue" /> 
```

之后，您可以从 AutoCompleteSelectedValue 隐藏字段中获取选定的值并对其进行解析。

# java - 在java中不使用结果集获取表的元数据

> ID：12599412
> 
> 赞同：5
> 
> 时间：2012-09-26T10:13:16.177
> 
> 标签：java, jdbc

有没有办法在执行 select 语句之前获取特定表的元数据。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-09-26T10:16:45.393

```
DatabaseMetaData md = connection.getMetaData(); 
```

[`DatabaseMetaData`](https://docs.oracle.com/javase/8/docs/api/java/sql/DatabaseMetaData.html)你可以从这个界面学到很多关于表格的知识。

# wordpress - 如何拉取 wordpress.org 代码

> ID：12599413
> 
> 赞同：0
> 
> 时间：2012-09-26T10:13:15.653
> 
> 标签：wordpress

我是 wordpress 的新手，我得到了一个现有的 wordpress.org 网站。我想做的是在我的机器上创建该站点的本地副本。我将如何做到这一点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-26T10:17:14.537

最新版本的[wordpress 可在此处下载](http://wordpress.org/download/)。

但是，如果您想查看站点上的特定代码，或者将其复制到本地，那么您将需要使用 FTP 工具（例如 FileZilla）连接到托管您站点的服务器。

（显然，您需要知道该服务器的 FTP 凭据）。

如果正在使用它，您需要连接到数据库以从主机的例如 cPanel 中导出它（例如使用 phpMyAdmin）（同样，您需要相关的 cPanel 凭据）。请参阅[WordPress Codex - 备份您的数据库](http://codex.wordpress.org/Backing_Up_Your_Database)。

您需要在本地计算机上安装 Apache、mySQL 和 PHP。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-26T10:28:39.310

如果您有权访问该站点的服务器，则需要：
1\. 通过站点的管理面板备份该站点的数据库
2\. 下载 wordpress 安装的整个 webroot（`mget /remote/directory`在 FTP 中使用） 3\. 确保您已设置数据库具有正确的凭据。在 MySQL 中：
`CREATE USER 'name'@'localhost' IDENTIFIED BY 'Password';`
`CREATE DATABASE dbname;`
`GRANT ALL PRIVILEGES ON dbname TO 'name@'localhost';`
4\. 将 wordpress 安装到 web 目录
5.`wp-config.php`在现在安装的 webroot 中编辑文件以匹配您的数据库用户、密码和名称，以及主机名（如果需要）。
6\. 使用您在第一步中获得的备份从管理面板恢复数据库
7\. 通过将文件移动到 webroot 并避免所有覆盖从第二步恢复所有媒体（在 FTP 客户端中很容易。手动不那么容易。 )

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-26T10:17:07.353

通过 ftp 访问网站并下载 wordpress 文件夹。访问数据库管理面板并下载数据库副本后。

# asp.net-mvc - Win8 ASP.net HttpRouteUrl

> ID：12599415
> 
> 赞同：0
> 
> 时间：2012-09-26T10:13:24.523
> 
> 标签：asp.net-mvc, windows, winapi

我是 Win8 和 ASP.net 开发的新手，我为任何缺乏清晰度或规范表示歉意，因为我是一名 3D 图形程序员，从事开发 ASP.net 后端系统。目标是与目标 Win8 应用程序通信，以使用用户（管理员）通过 ASP.net 网站输入的数据。

我遇到了多个障碍和死胡同，因为它是新的 Win8 技术和很少的可靠参考资料。

在 HomeController.cs 我试图调用：

```
 public ActionResult Admin()
    {

        string apiUri = Url.HttpRouteUrl("DefaultApi", new { controller = "testModel", });
        ViewBag.ApiUrl = new Uri(Request.Url, apiUri).AbsoluteUri.ToString();

        return View();
    } 
```

这样我就可以启用路由到我的管理控制器。但是我在浏览器中得到以下输出：

[http://i.imgur.com/WX34S.png](http://i.imgur.com/WX34S.png)

我正在使用从 Internet 下载的示例项目作为骨架框架，因为它包含 WebApiConfig.cs 文件，而生成新的 VS2012 ASP.NET MVC Web 应用程序项目不包含此文件，我相信我需要它我能够指定要序列化为 JSON 并删除 XML 格式的点。

我已经清理了 bin 中的 .DLL 文件并清理了 obj 文件夹，以防它引用不再存在的对象。

我创建了其他几个项目，一个使用从向导生成的 VS2012 MVC Web 应用程序项目，它实现：

```
 Url.RouteUrl 
```

代替

```
 Url.HttpRouteUrl 
```

但我确信这不会达到相同的效果，因为我想通过互联网将 http 从服务器通信到目标应用程序。如果我尝试使用后者，则会出错：

```
 'System.Web.Mvc.UrlHelper' does not contain a definition for 'HttpRouteUrl' and no extension method 'HttpRouteUrl' accepting a first argument of type 'System.Web.Mvc.UrlHelper' could be found (are you missing a using directive or an assembly reference?) 
```

作为参考，这是我用来协助这部分项目的文章：

[http://www.asp.net/web-api/overview/creating-web-apis/using-web-api-with-entity-framework/using-web-api-with-entity-framework,-part-4](http://www.asp.net/web-api/overview/creating-web-apis/using-web-api-with-entity-framework/using-web-api-with-entity-framework,-part-4)

感谢您的帮助（这与 OpenGL 和 DirectX 非常不同）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-26T10:15:45.953

因为这是一个标准的 MVC 控制器动作，而不是 ApiController 动作，所以这个控制器中的 Url 属性就是标准的[UrlHelper](http://msdn.microsoft.com/en-us/library/system.web.mvc.urlhelper%28v=vs.108%29.aspx)。

您可以使用以下内容：

```
public ActionResult Admin()
{
    string apiUri = Url.RouteUrl(
        "DefaultApi", 
        new { httproute = "", controller = "Values" }, 
        Request.Url.Scheme
    );
    ViewBag.ApiUrl = apiUri;
    return View();
} 
```

请注意`httproute = ""`在 routeValues 参数中使用的 以及如何指定协议参数生成一个绝对 url，这样您就不需要通过创建新`Uri`对象和东西来调整..

# haskell - 数据类型的设计：隐式或显式状态

> ID：12599423
> 
> 赞同：0
> 
> 时间：2012-09-26T10:13:46.967
> 
> 标签：haskell, types, abstract-data-type

在处理一些内部状态时，我经常在设计数据类型时遇到问题。假设我有以下定义：

```
data Action a b c = Action { on :: a -> (c, b); off :: b -> a -> c } 
```

读取：一个动作，可以打开或关闭（需要 a 类型的值，产生一些 c 类型的值）。为了关闭它，需要一个类型为 b 的特殊数据，该数据由先前的`on`调用给出。

现在我设计了一个动作来跟踪它是打开还是关闭：

```
data StatefulAction a b c = Off (Action a b c) | On b (Action a b c) 
```

但是我也可以使用这个：

```
data State b = Off | On b   -- or type State b = Maybe b
data StatefulAction a b c = SA (Action a b c) (State b) 
```

哪一个更可取？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-26T10:23:00.260

从语义上讲，它是完全相同的东西。

从语法上讲，我想您应该选择使代码更具可读性的内容。`type`您也可以为此使用同义词。

# ios4 - 如何在ipad中找到最后一个视图宽度

> ID：12599429
> 
> 赞同：0
> 
> 时间：2012-09-26T10:14:02.447
> 
> 标签：ios4, uiview, cgrectmake

我在主视图中添加视图。如何找到最后插入的视图宽度？

```
 NSArray *noPotions = [NSArray arrayWithObjects:@"1",@"2",@"3",@"4", nil];
int list = [noPotions count];

int lastPosition = 10;

int widthValue = 100;

for (int i = 0; i < list ; i++) {
    UIView  *newView = [[UIView alloc]initWithFrame:CGRectMake(lastPosition, 10, widthValue, 60)];
    [newView.layer setBorderColor:[[UIColor blueColor] CGColor]];
    [self.view addSubview:newView];
    lastPosition = newView.bounds.size.width + 20;
    newView.layer.borderWidth = 4;

    [newView release]; 
```

在这段代码的最后一个位置总是得到 120。有人请帮帮我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-26T10:36:34.503

你总是可以先在 FOR 循环中给 UIViews 标签。

```
for (int i = 0; i < list ; i++) 
{
     UIView  *newView = [[UIView alloc]initWithFrame:CGRectMake(lastPosition, 10, widthValue, 60)];
     newView.tag = i;
     [newView.layer setBorderColor:[[UIColor blueColor] CGColor]];
     [self.view addSubview:newView];
     lastPosition = newView.bounds.size.width + 20;
     newView.layer.borderWidth = 4;

     [newView release];
} 
```

稍后，要访问任何视图，您总是可以从他们的标签中获取它。

假设我们想要一个位于数组最后一个元素的视图......

```
UIView* latestView = [self.view viewWithTag:[list count]-1]; 
```

# android - 在 Android 中为在线图像创建照片库

> ID：12599433
> 
> 赞同：0
> 
> 时间：2012-09-26T10:14:24.683
> 
> 标签：android, android-asynctask, gallery, android-gallery, photo-gallery

我有一组大约 100 个图片网址。像[http://www.site1.com/Image/img1.jpg](http://www.site1.com/Image/img1.jpg)和[http://www.site2.com/Image/phot1.jpg](http://www.site2.com/Image/phot1.jpg)。

我想要一个 android 应用程序来全屏显示所有图像并支持左右滑动，就像 android 中的默认图片库一样。不同之处在于图像将从 url 加载，而不是从 SD 卡加载。

在我不想一次加载所有图像的情况下，我还需要注意带宽使用。只加载前 3 张图片，然后一旦用户在第 3 张图片上，则在后端加载第 4 张图片。这是为了使加载更快，也为了节省带宽。

android中是否有任何这样的画廊实现示例，我可以开始使用。请在这方面帮助我。我将不胜感激在这方面的任何建议。我的意图是将在线图像作为原生照片应用程序加载到 android 应用程序中。谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-26T10:21:55.303

好吧，您要求实现完整的应用程序..而不是您应该提出具体问题..就像您做了某事并且遇到了一些错误..

无论如何，有许多框架/库/实用程序可以执行您的工作.. 我不认为，单个库/实用程序将执行您需要的所有内容。

因此，要从 url 加载图像，您可以使用 Droid-Fu

对于左右滑动并牢记记忆，您可以使用视图寻呼机和片段。

浏览每个示例，然后将它们组合成您的应用程序。

希望能帮助到你。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-26T10:37:39.917

官方图库应用程序的源代码或至少大部分源代码是 Android 开源项目的一部分。[您可以在https://android.googlesource.com/](https://android.googlesource.com/)找到访问 git 存储库 (-ies) 的说明 。您需要向下滚动到 platform/packages/apps/Gallery（以及 Gallery3d 和 Gallery2）。

在某些时候，您需要学习如何自己管理并发，例如，通过[创建固定线程池](http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/Executors.html#newFixedThreadPool%28int%29)。

# javascript - 将函数绑定到两个事件会导致函数执行两次

> ID：12599438
> 
> 赞同：0
> 
> 时间：2012-09-26T10:14:39.110
> 
> 标签：javascript, jquery

我正在绑定一个手风琴选项卡以在单击和聚焦时打开。但是每当我单击时，它都会执行两次该功能。我该如何阻止这种行为？我只希望它执行一个事件。单击或聚焦。

```
$("h2.radioBoxInActive").bind('click focus', function () {
        input = $(this).prev("span, input");
        $(".selected", app.element).removeClass("selected").slideUp();
        $(".radioBoxActive", app.element).removeClass("radioBoxActive");
        $("#" + input.attr("data-panel")).slideDown().addClass("selected");
        $(this).addClass("radioBoxActive");
    }); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-26T10:18:03.200

为了避免双重执行，只需绑定`focus`事件。即使用户使用另一个输入设备来选择复选框（例如通过键盘），这也将确保处理程序的执行

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-26T10:20:51.147

您可以保存上次执行的时间戳，以停止该函数几乎同时执行。

这只允许函数在最后一次执行超过 50 毫秒之前执行。

```
(function(){
    var lastExecuted = 0;
    $("h2.radioBoxInActive").bind('click focus', function () {
        var currentTime = new Date().getTime();
        var timeDelta = currentTime - lastExecuted;
        if (timeDelta > 50) {
            lastExecuted = currentTime;
            input = $(this).prev("span, input");
            $(".selected", app.element).removeClass("selected").slideUp();
            $(".radioBoxActive", app.element).removeClass("radioBoxActive");
            $("#" + input.attr("data-panel")).slideDown().addClass("selected");
            $(this).addClass("radioBoxActive");
        }
    });
})(); 
```

# php - Yii 框架为新的管理页面创建操作

> ID：12599443
> 
> 赞同：0
> 
> 时间：2012-09-26T10:14:52.410
> 
> 标签：php, yii

在创建管理页面时，如何在 yii 框架中添加按钮并为其编写自己的操作代码？我在视图文件中的代码是：

```
<?php echo CHtml::beginForm('Protected/GreetingsController/actionSubmit','get');?>
<?php echo CHtml::submitButton('submit',array('SiteController'=>'actionIndex'));?>
<?php echo CHtml::endForm(); ?> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-26T12:18:16.293

`CHtml::beginForm()`只会将`<form>`标签添加到您的 HTML 中。您需要了解 CHtml 函数如：button()、link()、ajaxButton() ...等是使用属性（例如[$htmlOptions](https://stackoverflow.com/questions/3896427/help-me-to-find-htmloption-description-in-yii)数组）作为满足您需要的选项来生成一些 HTML。

`action`对于这种情况，如果您想在某些地方精确地指向，`controller`您可以使用一个名为[beginWidget](http://www.yiiframework.com/doc/api/1.1/CBaseController#beginWidget-detail)的方法，如下所示：

```
<?php $form=$this->beginWidget('CActiveForm', array(
    'id'=>'login-form',
    'action' => "/controller-name/action-name",
  )
);?>

<?php echo CHtml::submitButton('Save'); ?>

<?php $this->endWidget(); ?> 
```

触发时的 button() 将发送到指定的`action`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-11-01T07:45:44.997

当您在 yii 框架上工作时，控制器负责显示视图页面。现在您看到了一个表单，并且您想向该表单添加操作。您转到该特定控制器并在此处调用该表单视图。

例如。你有一个注册表在这里。

```
<h2>Registration Form</h2>
<div class="form">
<?php echo CHtml::beginForm(); ?>

    <?php echo CHtml::errorSummary($model); ?>
<div class="row">
        <?php echo CHtml::activeLabel($model,'User Name'); ?>
        <?php echo CHtml::activeTextField($model,'username') ?>
    </div>

    <div class="row">
        <?php echo CHtml::activeLabel($model,'email'); ?>
        <?php echo CHtml::activeTextField($model,'email') ?>
    </div>

    <div class="row">
        <?php echo CHtml::activeLabel($model,'password'); ?>
        <?php echo CHtml::activePasswordField($model,'password') ?>
    </div>

    <div class="row">
        <?php echo CHtml::activeLabel($model,'Retype Password'); ?>
        <?php echo CHtml::activePasswordField($model,'retypepassword') ?>
    </div>

    <div class="row submit">
        <?php echo CHtml::submitButton('Register'); ?>
    </div>

    <?php echo CHtml::endForm(); ?>
</div><!-- form --> 
```

现在我没有在查看注册表单页面中插入任何操作。

现在我可以将此表单访问到我想要的任何控制器。

```
<?php
class yourController extends Controller
{
    public  function actionIndex() {

        $model = new RegisterForm ;
        $this->render('register',array('model'=>$model));
    }
} 
```

现在你可以随心所欲地做所有事情......

您应该需要添加模型，因为如果您没有添加模型类，那么我会给出错误。

你可以看到 yii 给出的完整文档，这样你就很容易理解了。

关联。 [http://www.yiiframework.com/doc/guide/1.1/en/form.model](http://www.yiiframework.com/doc/guide/1.1/en/form.model)

谢谢

# vb.net - VB.NET：检查文本框中的输入是否在字符串数组中

> ID：12599447
> 
> 赞同：1
> 
> 时间：2012-09-26T10:15:07.663
> 
> 标签：vb.net

```
Private Sub txtQty_GotFocus(ByVal sender As Object, ByVal e As System.EventArgs) Handles txtQty.GotFocus
   Dim strItem As String
   strItem = txtItem.Text
   Dim strArray As String
   strArray = itemArr(1)

   If String.Compare(strItem, strArray) = True Then
       MessageBox.Show("item in array!")
   End If
End Sub

Private Sub txtQty_TextChanged(ByVal sender As Object, ByVal e As System.EventArgs) Handles txtQty.TextChanged

    If txtItem.Text <> Nothing And txtQty.Text <> Nothing Then

        'create rows in the DataTable
        tblScItem.Rows.Add(itemArray())
    End If

    txtItem.Text = ""
    txtQty.Text = ""

End Sub 
```

这就是我声明我的数组的方式：

```
Function itemArray() As String()

        itemArr(0) = ""
        itemArr(1) = txtItem.Text
        itemArr(2) = Form2.cbGondola.SelectedItem
        itemArr(3) = txtQty.Text
        itemArr(4) = DateTime.Now
        itemArr(5) = Form1.txtLoginId.Text

        Return itemArr
End Function 
```

我似乎没有做适当的检查，帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-26T10:22:24.320

该[`String.Compare`方法](http://msdn.microsoft.com/en-us/library/84787k22.aspx)不返回布尔值，它返回一个整数。

如果字符串相等，则返回`0`.

```
If String.Compare(strItem, strArray) = 0 Then 
```

您应该在项目中设置`Option Strict`为`On`，以便编译器不允许从布尔值到整数的隐式转换。

# python - numpy 峰值跟踪器功能

> ID：12599449
> 
> 赞同：0
> 
> 时间：2012-09-26T10:15:09.510
> 
> 标签：python, numpy

> **可能重复：**
> [运行最大的 numpy 数组值](https://stackoverflow.com/questions/7251421/running-maximum-of-numpy-array-values)

是否有一个内置的 numpy 函数可以做到这一点？

```
def peak_track(array):
    max = 0
    max_array = np.zeros_like(array)
    for i, val in enumerate(array):
        if val > max:
            max = val
        max_array[i] = max
    return max_array 
```

# ajax - 相对文件路径

> ID：12599450
> 
> 赞同：0
> 
> 时间：2012-09-26T10:15:09.353
> 
> 标签：ajax, path

这是我很不解的一点，希望我能在这里解释清楚。

我有一个位于 c:/rootFolder/common/js/jsfile.js 中的 js 文件。在这个文件中，我使用了一个 AJAX 函数，该函数调用 rootFolder 中的一个文件，名为 update.aspx，如下所示：

```
...
...
httprequest.open("GET", "update.aspx", true);
... 
```

我在许多级别的文件夹中有许多文件将调用此函数。如果一个文件 c:/rootFolder/abc/abc.aspx 调用了这个函数，那么上面的 AJAX 将是：

```
httprequest.open("GET", "../update.aspx", true); 
```

所以我需要一种方法，以便我可以使路径相对更容易从任何 aspx 调用函数。我也在为这个项目使用 cookieless 会话，因此 URL 就像

http://localhost/S(abssadasdadd...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-27T02:23:58.570

经过一段时间的搜索，我开始怀疑应该有一些 html 或服务器可能会作为基础的东西。因此，我通过在页面顶部添加一个基本标签来解决这个问题，特别是在 HEAD 标签中。

```
<base href="www.abc.com" /> 
```

但是，我正在使用将会话 ID 放在 URL 中的无 cookie 会话。我如何将它添加到基础上（否则，它仍然不起作用）？简单回答如下：

```
string baseurl=  "http://" + servername + "/(S(" + HttpContext.Current.Session.SessionID + "))"; 
```

如果你有一个主文件，你可以将基础放在头部：

```
<base href="<%=baseurl%>" /> 
```

如果这些到位，您将轻松调用您的 css 和 js 文件：

```
<link type="text/css" href="common/css/style.css" rel="stylesheet" />
<script type="text/javascript" src="common/js/jscript.js"></script> 
```

# jenkins - 每个作业/节点禁用/启用 Jenkins 插件

> ID：12599453
> 
> 赞同：3
> 
> 时间：2012-09-26T10:15:30.200
> 
> 标签：jenkins, hudson, hudson-plugins, jenkins-plugins

有没有办法为每个作业或从节点禁用/启用插件？

我正在寻找一种方法来做到这一点，因为我公司的詹金斯管理员担心 groovy 系统插件带来的安全问题，并希望禁用除我之外的所有工作的插件。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-03T14:12:17.483

要回答原始问题，隐藏某些内容的方法是创建一个扩展**hudson.model.DescriptorVisibilityFilter**的类，并覆盖 filter() 方法，然后可以执行任意隐藏。我很确定它也适用于构建步骤。我不知道现有的插件会以可配置的方式做到这一点，所以如果你想要的话，可能是时候学习一些 Jenkins 插件编码了。

但是，正如上面的 Vladimir 所解释的，对于系统 groovy 构建步骤，这并不是很有用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-26T10:42:22.503

我不知道这样的功能，快速搜索什么也没显示。

但是，引用自[Groovy 插件页面](https://wiki.jenkins-ci.org/display/JENKINS/Groovy+plugin)：*只有具有**管理员权限**的用户才能添加系统 groovy 构建步骤并配置系统 groovy 脚本*

如果您的管理员对您拥有 Jenkins 的管理员权限感到不满意，他必须能够为您和您的工作设置单独的 Jenkins 主服务器。

# c++ - 如何使用opencv播放视频？

> ID：12599454
> 
> 赞同：1
> 
> 时间：2012-09-26T10:15:31.510
> 
> 标签：c++, opencv, computer-vision

我正在尝试使用`opencv`（视频是存储在磁盘上的 avi 文件）播放视频。但是，程序在以下行停止执行`cap_ffmppeg.cpp`：

```
if(!ffmpegCapture ||
   !icvRetrieveFrame_FFMPEG_p(ffmpegCapture,&data,&step,&width,&height,&cn))
   return 0; 
```

错误是：`Access violation reading location`...所以第一次`capture >> frame`运行时发生了段错误。

这是程序：

```
#include<iostream>
#include<fstream>
#include<cv.h>
#include<highgui.h>
#include<opencv2/nonfree/features2d.hpp>
using namespace std;
using namespace cv;

int main(int argc, char *argv[])
{
    if (argc <= 1)
    {
        printf("Usage: %s video\n", argv[0]);
        return -1;
    }

    VideoCapture capture(argv[1]);

    if(!capture.isOpened())
    {
        printf("Failed to open the video\n");
        return -1;
    }

    for(;;)
    {
        Mat frame;
        capture >> frame; // get a new frame from camera
    }

    return 0;
} 
```

知道我做错了什么吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-09-23T10:38:23.737

如果您使用 x64。请使用opencv_ffmpeg245_64.dll 这个解决可能会解决问题。或者将opencv_ffmpeg245_64.dll重命名为opencv_ffmpeg245可能会解决问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T10:56:35.457

原来OpenCV无法播放未压缩的视频。压缩它，一切都很好......不知道为什么存在原始问题。

# android-layout - 图片库就像 Google Play 上的图片库？（查看下一张图片）

> ID：12599455
> 
> 赞同：7
> 
> 时间：2012-09-26T10:15:39.500
> 
> 标签：android-layout, android-viewpager, android-gallery, android-image, android-scrollview

我试图实现一个像 Google Play 商店那样的图片库，下一张图片是可见的：![在此处输入图像描述](../Images/d6efd2cfa1222b260fd85641ba1988e9.png)

我为此尝试了不同的方法，但每种方法都陷入了死胡同：

**1\. 使用 PagerContainer**（[此处](https://gist.github.com/8cbe094bb7a783e37ad1)信息） 但此解决方案不适用于我在任何 2.x 设备上，因为下一个图像不可见，并且 ViewPager 仅在其边界内滚动（错误，[此处](https://stackoverflow.com/questions/12495344/viewpager-and-setclipchildrenfalse-workaround-for-2-x-devices)未发布答案）

**2\. 使用Horizo​​ntalScrollView** 这个解决方案在设计和功能方面被证明是好的，但是因为Horizo​​ntalScrollView 只支持一个子视图，它会绘制整个视图，所以我在某些设备上遇到了内存问题。我从服务器接收图像，它们的数量和大小都很大。所以这里也遇到了死胡同。

**3\. 使用Horizo​​ntalListView（[这里](https://github.com/dinocore1/DevsmartLib-Android/blob/master/devsmartlib/src/com/devsmart/android/ui/HorizontalListView.java)的信息）** 这听起来像是Horizo​​ntalScrollView的替代品，因为使用了适配器，所以内存问题得到了解决。但是，从服务器加载图像后，我无法正确修改此类以更改其测量值。正如你所看到的，它测量它的孩子，同时牢记父母的测量。当我定义视图时，尚未从服务器接收到图像，因此测量结果不正确。收到图像后，我无法正确强制重新测量视图。

**4\. 将 ViewPager 边距设置为负** 这个解决方案对我不起作用，因为一旦我开始滚动，测量值就没有正确显示。（第一个视图显示设置的边距，下一个图像可见。但是，开始滚动后，有些图像有边距，有些没有，有些只有一侧等。）我不知道这里是否有一个不断测量的解决方案视图和屏幕。

如果您认为它是正确的，我可以发布其中一种解决方案的代码。但我觉得 Google Play 使用了另一种我不知道的解决方案。我不想使用画廊，因为它已经被弃用了。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-25T14:17:32.433

这很简单，只需为此使用图库视图。您可以在 android sdk 示例中找到示例代码。并使用此链接获取教程[http://www.edumobile.org/android/android-beginner-tutorials/creating-image-gallery/](http://www.edumobile.org/android/android-beginner-tutorials/creating-image-gallery/)

# java - 用于 RESTful Web 服务的 JAX-WS 与 JAX-RS

> ID：12599459
> 
> 赞同：25
> 
> 时间：2012-09-26T10:15:46.883
> 
> 标签：java, rest, soap, jax-ws, jax-rs

嗨，我曾与 JAX-WS 合作过基于 SOAP 的 Web 服务。现在我想使用 REST，因为 REST 比 SOAP 具有优势，正如我从[这里](https://blogs.oracle.com/milan/entry/web_services_rest_vs_soap)研究的那样。

但从不同的文章中，我知道我们也可以从 JAX-WS 创建 RESTful Web 服务。但是大多数人说我们应该使用 JAX-RS 而不是 JAX-WS。

我的问题是 JAX-WS RESTful webservice 和 JAX-RS(jersey) 之间有什么区别。与 JAX-WS 相比，JAX-RS 有哪些优势？为什么我们应该将 JAX-RS 用于 RESTful Web 服务？

提前致谢。

* * *

## 回答 #1

> 赞同：37
> 
> 时间：2015-02-09T07:43:31.197

# TL;博士

JAX-WS 适用于基于 XML 的 Web 服务，例如 SOAP。JAX-RS 没有相同的限制。

JAX-WS 通常适用于具有良好定义的合同 (WSDL) 的服务器到服务器交互，并且通常当服务和客户端来自不同的组时。这是非常资源密集型的，因此对于网络或客户端设备功能不是最佳的客户端到服务器的交互是不可行的。

JAX-RS 面向客户端到服务器的交互，尽管服务器到服务器是可以的。由于它几乎没有服务义务，因此可以根据客户的需求进行调整。

# 更多信息

JAX-RS API 仅提供代码优先方法，而 JAX-WS 允许代码优先（通常不推荐）和使用 WSDL 文件的合同优先（更普遍推荐）。

JAX-RS 2.0 引入了客户端 API，它是 HttpUrlConnection 的智能包装器，具有更多映射能力，JAX-WS 也是一个包装器，但它在参考实现中处理的数据只是 XML。

JAX-RS 的优势在于创建的 API 更易于在不同的浏览器和移动设备中创建和消化消息，即 JSON 结构。它没有引入信封的概念，而是使用 HTTP。它没有引入密码学或安全性，它使用 HTTPS。

虽然 JAX-WS 在 HTTPS 上运行以进行加密，但它使用 WS-SecurityPolicy 等提供了安全性附加功能。此外，合同是使用 WSDL 牢固建立的，并且可以使用 ESB（如 DataPower）在应用程序之外进行验证。

# 那么选择什么

JAX-WS 通常适用于具有良好定义的合同 (WSDL) 的服务器到服务器交互，并且通常当服务和客户端来自不同的组时。这是非常资源密集型的，因此对于网络或客户端设备功能不是最佳的客户端到服务器的交互是不可行的。

JAX-RS 面向客户端到服务器的交互，尽管服务器到服务器是可以的。客户端和服务器之间唯一的合同义务是消息和请求标头。由于它几乎没有服务义务，因此可以根据客户的需求进行调整。

然而，使用 RESTful 服务 API 类似于像 Ruby 和 Python 那样进行元编程，这会将问题延迟到运行时，因为双方没有达成一致并在技术上强制执行的定义模式。因此，我不推荐任何地方的 RESTful 服务，但如果我可以控制这两个方面，我会推荐它，这通常发生在您构建使用静态 HTML/CSS/JS 的 Web 应用程序并与 RESTful 服务器进行对话时数据。

# jquery - Jquery Selector 修改具有某些标题的 div 的高度

> ID：12599464
> 
> 赞同：0
> 
> 时间：2012-09-26T10:16:02.103
> 
> 标签：jquery

我想修改标题包含 (0%) 的 div 的高度

这是我的 HTML 代码

```
<div>

<div class='chartsbar' style="height: 0%; background-color: rgb(7, 134, 205); color: rgb(255, 255, 255); width: 0.9730252100840335%; text-align: left;" title="11-09-2012 - 0 (0%)"></div>

<div class='chartsbar' style="height: 0%; background-color: rgb(7, 134, 205); color: rgb(255, 255, 255); width: 0.9730252100840335%; text-align: left;" title="12-09-2012 - 0 (18%)"></div>

<div class='chartsbar' style="height: 0%; background-color: rgb(7, 134, 205); color: rgb(255, 255, 255); width: 0.9730252100840335%; text-align: left;" title="13-09-2012 - 0 (10%)"></div>

</div> 
```

我试过像

```
$('div.chartsbar[title*="(0%)"]').height('1%'); 
```

但没有运气

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-26T10:35:43.817

JS 代码是正确的，但是您必须在包装器 div 上设置一些明确的高度。现在包装器 div 的高度为 0，0 的 1% 仍为 0。有关更多扩展解释，请查看[此答案](https://stackoverflow.com/a/1622097/1558311)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-26T10:19:19.977

```
$('.chartsbar[title="0%"]').css('height','1%'); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-26T10:23:56.427

```
$("div.chartsbar[title*='(0%)']").css('height','100px'); 
```

[jsFiddle](http://jsfiddle.net/TheJoeFletch/wmdZm/9/) ​</p>

# maven - Maven 不在目标目录中创建 .class 文件

> ID：12599469
> 
> 赞同：1
> 
> 时间：2012-09-26T10:16:28.343
> 
> 标签：maven, osgi, maven-bundle-plugin

我正在通过在 Eclipse 中使用 maven bundle 插件创建 osgi bundle。在我的应用程序中，我有非 maven jar 文件，大多数 java 类在我的应用程序中都依赖于该文件。我的 pom.xml 文件如下。

```
<build>
    ...

    <plugins>
        ....

        <plugin>
            <groupId>org.apache.felix</groupId>
            <artifactId>maven-bundle-plugin</artifactId>
            <version>2.2.0</version>
            <extensions>true</extensions>
            <configuration>
                <instructions>
                    <Bundle-Activator>org.myapp.Activator</Bundle-Activator>
                    <Include-Resource>a1.jar=${basedir}/src/main/java/lib/a1.jar,a2.jar=${basedir}/src/main/java/lib/a2.jar,a3.jar=${basedir}/src/main/java/lib/a3.jar</Include-Resource>
                    <Bundle-ClassPath>.,${basedir}/src/main/java/lib/a1.jar,${basedir}/src/main/java/lib/a2.jar,${basedir}/src/main/java/lib/a3.jar</Bundle-ClassPath>

                </instructions>
            </configuration>
        </plugin>
        <!-- Maven Compiler plugin -->
        <plugin>
            <inherited>true</inherited>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-compiler-plugin</artifactId>
            <version>2.3.1</version>
            <configuration>
                <includes>
                    <include>${project.basedir}/src/main/java/**</include>
                </includes>
                <source>1.6</source>
                <target>1.6</target>
            </configuration>
        </plugin>

        ....

    </plugins>
</build> 
```

通过使用它，我可以成功构建我的应用程序，并且我的最终 jar 包还包含所有需要的 jar 文件，但**问题是，最终包中没有 .class 文件，我的目标目录也不包含任何 .class 文件。**

如果我从 maven-compiler-plugin 中删除**包含标记**，那么我得到类不存在错误。

所以请告诉我上面的代码有什么问题，**它没有在目标目录和最终包中创建 .class 文件。**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-14T22:18:12.697

你的解释不是很清楚，你说吧

> 包含所有需要的 jar 文件

但是，然后你说

> 最终包中没有 .class 文件

所以它不包含所有需要的 jar 文件。话虽如此，您似乎缺少 key`export-package`和`private-package`BND 指令。[在此处](http://felix.apache.org/site/apache-felix-maven-bundle-plugin-bnd.html)查看 Maven 捆绑插件的文档

# c# - 使用数据 MVC 3 .NET 填充多选列表

> ID：12599470
> 
> 赞同：1
> 
> 时间：2012-09-26T10:16:28.603
> 
> 标签：c#, asp.net, sql-server, asp.net-mvc, entity-framework

我一直在 Google 和 Stackoverflow 上搜索有关如何使用可以选择的值填充多选框的解决方案。但没有运气。

```
public class PriceObj
{
    public int ID { get; set; }
    public decimal Price { get; set; }
    public string Name { get; set; }
    public string Description { get; set; }
    public virtual ICollection<PriceGroupObj> PriceGroup {get; set;}
}

public class PriceGroupObj
{
   public int ID { get; set; }
   public string Name { get; set; }
}

public class PriceDatabaseContext : DbContext
{
    public DbSet<PriceObj> PriceObjs { get; set; }
    public DbSet<PriceGroupObj> PriceGroupObjs { get; set; }

    protected override void OnModelCreating(DbModelBuilder modelBuilder)
    {
        base.OnModelCreating(modelBuilder);
        modelBuilder.Conventions.Remove<System.Data.Entity.ModelConfiguration.Conventions.PluralizingTableNameConvention>();

        modelBuilder.Entity<PriceObj>()
            .HasMany(g => g.PriceGroup)
            .WithMany()
            .Map(t => t.MapLeftKey("GroupID").MapRightKey("PriceID").ToTable("PriceGroup"));
    }

} 
```

然后我希望能够在价格对象的编辑视图中为价格选择所有适当的价格组。但我没有让它工作，它没有填充多选框中所有已经创建的组。

这是我在 Razor 视图中使用的代码：

```
@Html.ListBoxFor(model => model.PriceGroup, Model.PriceGroup.Select(pg => new SelectListItem { Text = pg.Name, Value = pg.ID.ToString() }), new { Multiple = "multiple" }) 
```

选择元素显示在网站上，但没有可供选择的值。

请帮我整理一下，我的链条掉在哪里了。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-09-26T10:41:08.580

使用适合您的视图要求的视图模型：

```
public class PriceViewModel
{
    public int[] SelectedPriceIds { get; set; }
    public IEnumerable<SelectListItem> Prices { get; set; }
} 
```

ListBoxFor 在您的视图模型上需要 2 个属性：

1.  `string[]`原始类型 ( , `id[]`, , ...)的集合属性`Guid[]`，它将保存所选元素的 id
2.  `IEnumerable<SelectListItem>`将保存所有项目列表的属性

然后在视图中：

```
@Html.ListBoxFor(x => x.SelectedPriceIds, Model.Prices) 
```

现在，您的控制器操作将将此视图模型传递给视图，而不是您的域对象，这些对象根本不适合您要实现的目标。在控制器操作中，您将从域模型中填充此视图模型。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-26T11:08:16.437

我可以在您的列表框中选择多个值，所以我会建议在另一种类型中执行此操作

你可以像下面这样使用......

你使用这个js文件..

```
<script type="text/javascript" src="@Url.Content("~/jquery-1.6.4.min.js")"></script>

    <script type="text/javascript" src="@Url.Content("~/chosen.jquery.js")"></script> 

<link href="@Url.Content("~/CSS/chosen.css")" rel="stylesheet" type="text/css" /> 
```

在你看来这个用途

```
<script type="text/javascript">
        $(document).ready(function() {
            $('.chzn-select').chosen();

        });
 </script>

@Html.ListBoxFor(model => model.CountryId,Model.Countries, new { @class = "chzn-select",data-placeholder="Choose a Country...", Style = "width: 150px;" }) 
```

您只需绑定您的列表框并像这样选择您的多个值。查看更多选择的 jquery ... [http://davidwalsh.name/jquery-chosen](http://davidwalsh.name/jquery-chosen)

![在此处输入图像描述](../Images/82895c3ea76735d4ebedbfc82ea77c18.png)

我想这会帮助你..

# php - 如何为此查询结果创建一个良好的循环

> ID：12599475
> 
> 赞同：0
> 
> 时间：2012-09-26T10:16:42.560
> 
> 标签：php, sql, codeigniter

我有一个查询，当我打印一个表格时，它给了我类似以下的结果：

```
+---------------------------------------------------------------------+
|    ID      |    Name     |    Color      |     Size     |    Qty    |
+---------------------------------------------------------------------+
|    1       |    First    |    Green      |      S       |     1     |
|    2       |    First    |    Green      |      L       |     2     |
|    3       |    First    |    Green      |      XL      |     1     |
|    4       |    First    |    Red        |      M       |     2     |
|    5       |    First    |    Red        |      L       |     3     |
|    6       |    Second   |    Blue       |      S       |     1     |
|    7       |    Second   |    Blue       |      M       |     4     |
+---------------------------------------------------------------------+ 
```

现在我想做一个概述（在现实生活中这些是产品），有人可以单击按钮进行编辑或删除。我想用 foreach 循环或其他东西循环它并打印出如下内容：

```
+========================================================================+
|    Name     |    Color      |     Size     |    Qty    |    Action     |
+========================================================================+
|    First    |    Green      |      S       |     1     |  Edit|Delete  |
|             |               |      L       |     2     |  Edit|Delete  |
|             |               |      XL      |     1     |  Edit|Delete  |
+------------------------------------------------------------------------+
|    First    |    Red        |      M       |     2     |  Edit|Delete  |
|             |               |      L       |     3     |  Edit|Delete  |
+------------------------------------------------------------------------+
|    Second   |    Blue       |      S       |     1     |  Edit|Delete  |
|             |               |      M       |     4     |  Edit|Delete  |
+------------------------------------------------------------------------+ 
```

但不知何故，我无法理解如何编程这个循环。还是我应该更改查询？我希望有人能帮帮忙。如果您需要更多信息，请告诉我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-26T10:25:51.917

您可以在数据库中执行其中的一些操作，这样可以更轻松地在代码中显示数据：

```
select 
    group_concat(ID) as id, 
    name, 
    color, 
    group_concat(size) as size, 
    group_concat(qty) as qty 
from 
    myTable
group by
    name,
    color 
```

结果将如下所示：

```
ID     | name  | color | size   | qty
1,2,3  | First | Green | S,L,XL | 1,2,1
etc... 
```

现在在您的代码中，这使得以您希望的方式输出变得更加容易。

```
echo "<table>";
while($row=someFetchFromDatabase($results))
{
    echo "<tr><td>".$row['name']."</td><td>".$row['color']."</td>";
    $temp=explode($row['size']);
    echo "<td>";
    foreach($temp as $val)
    {
        echo $val."<br>";
    }
    echo "</td>";
    $temp=explode($row['qty']);
    echo "<td>";
    foreach($temp as $val)
    {
        echo $val."<br>";
    }
    echo "</td>";
    $temp=explode($row['IDs']);
    echo "<td>";
    foreach($temp as $val)
    {
        echo "<a href='someLink.php?action=edit&ID=".$val."'>Edit</a> | <a href='someLink.php?action=delete&ID=".$val."'>Delete</a>";
    }
    echo "</td></tr>";
}
echo "</table>' 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-26T10:30:16.627

我不会对查询做任何事情。

In pseudo code (I don't speak PHP)...

```
variables $name = "", $colour = "";
for (every row)    
    if (row.name = $name) and (row.colour = $colour)
        display nothing for name and colour
    else
        display row.name
        display row.colour
        $name = row.name
        $colour = row.colour 
```

# java - 函数内部的类导致空指针异常

> ID：12599477
> 
> 赞同：0
> 
> 时间：2012-09-26T10:16:46.253
> 
> 标签：java, android

以下代码在执行期间导致空指针异常。它只是说空指针异常。

当我将 hotItem 类放在函数之外时，它可以正常工作。

一旦我把它放入函数中，它就会导致空指针异常。

我只想知道为什么会发生这种情况以及函数内部类的生命周期是什么。

```
private void getHotItem()
{   
    Gson gsonAdapter = new Gson();
    class hotItem
    {
        private String hotItemPK = ""; 
    }
    Type hotItemType = new TypeToken<List<hotItem>>(){}.getType();
    List<hotItem> hotItemList = new ArrayList<hotItem>();

    try
    {
        itemAccess.getHotItemList();
        itemAccess.start();
        itemAccess.join();
        hotItemList = gsonAdapter.fromJson(returnData, hotItemType);

        if(!hotItemList.isEmpty())
        {
            testText.setText(hotItemList.get(0).hotItemPK.toString());
        }
    }
    catch (InterruptedException e)
    {
        // TODO Auto-generated catch block
        e.printStackTrace();
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-26T10:22:13.370

请[在此处检查问题](http://code.google.com/p/google-gson/issues/detail?id=408)

解析度：

> 我猜你的类路径上有 gson.jar 和 gson-stream.jar；那是行不通的。
> 
> 问题在于，在 Gson 2.1 中，我们有一个自定义版本的 JsonReader，它添加了一些秘密钩子以使 MapTypeAdatperFactory 更快；这些钩子不适用于 gson-stream.jar 的 JsonReader 版本。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-26T11:23:40.673

我想我明白这里可能会发生什么。

问题在于它`HotItem`是一个内部类，这意味着它具有对封闭类实例的隐式引用。但是当该`gsonAdapter.fromJson`方法尝试创建 . 时`List<HotItem>`，它没有（可能没有）用于创建`HotItem`. 根据它的创建方式，它可能会使用`null`引用来创建它……这可能是 NPE 的原因。

如果这个（或类似的东西）是问题，那么另一种解决方法是声明`HotItem`为一个`static`类。

* * *

我还应该指出，以小写字母开头的类名是不好的风格。

# jasper-reports - TrueType RTL 字体在 jasperreport 导出的 PDF 中不起作用

> ID：12599478
> 
> 赞同：2
> 
> 时间：2012-09-26T10:16:51.377
> 
> 标签：jasper-reports, report, truetype, right-to-left, persian

我正在制作一份报告，其中包含在 iReport 中使用 jasperreports 4.7 的图表。我的报告包含一些使用波斯语 TTF 字体的波斯语 RTL 文本（并且我已将 jasperreport 配置为将此字体嵌入 PDF 文件中）。
当我在 iReport 内部查看器中测试结果时，一切正常，但是当我将其导出为 PDF 时，图表文本似乎已损坏，并且仅在图表的渲染类型为“图像”时才有效。此外，相同的报告在我的 debian 服务器上不起作用（即使我选择“图像”作为图表呈现类型）（在所有这些情况下，字体都嵌入并存在于导出的文档属性中）。
任何想法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-07-14T12:47:59.863

我在一个项目中遇到了同样的问题。我们最终将字体的 ttf 文件添加到 jasper jar 存档中。这样 jasper 可以识别字体并相应地导出。

# iphone - IOS 调用 didFinishLaunchingWithOptions 时的条件

> ID：12599487
> 
> 赞同：13
> 
> 时间：2012-09-26T10:17:06.143
> 
> 标签：iphone, objective-c, ios, xcode, cocoa

谁能告诉我，除了首次启动应用程序之外，委托函数 didFinishLaunchingWithOptions 在哪些情况下被 IOS 调用。我使用 XCode 将应用程序启动到设备中并删除了连接，然后尝试通过 wifi 向设备发送消息。然后我注意到 didFinishLaunchingWithOptions 被调用了几次。为什么会发生这种情况以及调用此函数时的条件是什么。我无法弄清楚所有场景。提前致谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-26T10:26:06.847

从[苹果文档](http://developer.apple.com/library/ios/#DOCUMENTATION/UIKit/Reference/UIApplicationDelegate_Protocol/Reference/Reference.html#//apple_ref/occ/intfm/UIApplicationDelegate/application%3adidFinishLaunchingWithOptions%3a)：

> 您应该使用此方法（以及相应的 application:willFinishLaunchingWithOptions: 方法）来完成应用程序的初始化并进行任何最终调整。**此方法在状态恢复发生后但在您的应用程序的窗口和其他 UI 呈现之前调用**。在此方法返回后的某个时间点，系统会调用您的应用程序委托的另一个方法来将应用程序移动到活动（前台）状态或后台状态。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2017-05-24T09:54:52.770

你的问题，谁能告诉我在什么情况下委托函数 didFinishLaunchingWithOptions 被 IOS 调用？

如果应用程序被杀死或处于终止状态并且用户收到本地通知或远程推送通知，并且用户点击通知，则在这两种情况下都会首先调用 didFinishLaunchingWithOptions。

当您使用“startMonitoringSignificantLocationChanges”监视位置更改时，也会调用 didFinishLaunchingWithOptions。来自苹果

> 如果您启动此服务并且您的应用程序随后终止，则系统会在新事件到达时自动将应用程序重新启动到后台。在这种情况下，传递给应用程序委托的 application( *:willFinishLaunchingWithOptions:) 和 application(* :didFinishLaunchingWithOptions:) 方法的选项字典包含关键位置，以指示您的应用程序是由于位置事件而启动的。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-26T10:22:04.227

[启动选项键](https://developer.apple.com/documentation/uikit/uiapplicationdelegate/launch_options_keys)中描述的此方案

# c# - NullReferenceException 从基类引用派生成员对象的公共成员

> ID：12599489
> 
> 赞同：2
> 
> 时间：2012-09-26T10:17:07.447
> 
> 标签：c#, .net, polymorphism, base, derived

由于这是我的第一篇 StackOverflow 帖子，我想简短地向管理该网站的人以及积极为他人提供帮助的人表示衷心的感谢*。*StackOverflow 一直是解决 C# 代码挑战的非常有用的资源。

**类描述：**在 MS VisualStudio 2010 C# .NET 控制台应用程序中，我具有以下基本/派生层次结构：

*   `Entry`->`DirEntry`
*   `Entry`-> `FileEntry`-> `AudioFileEntry`->`OutputFileEntry`

...后三个分别是以下基本/派生层次结构中的成员：

*   `Directory`-> `AudioDirectory`->`OutputDirectory`

...这样：

*   `Directory` 有会员`public FileEntry[] file_entries;`
*   `AudioDirectory` 有会员`public AudioFileEntry[] file_entries;`
*   `OutputDirectory`有会员`public OutputFileEntry[] file_entries;`

基类`Entry`的声明方式如下：

```
public class Entry : IComparable
{
    public string name;
    public int entryID;
    public int parentID;
    //(other code omitted)
} 
```

`Directory`也有`DirEntry[] dir_entries;`没有问题的成员 public，但请注意`DirEntry`不会被覆盖的更深（例如，`Directory`没有）。`AudioDirEntry`

**问题：** 当类型为或时，`NullReferenceException`尝试从基类方法或其他类中读取*公共*成员。`file_entries[n]``Directory``AudioDirectory``OutputDirectory`

没有相关的类、成员或方法是静态的。我试过使用`new`但`override`无济于事。尝试创建`file_entries`属性：

```
public class Directory
{
    public virtual FileEntry[] file_entries { get; set; }
}

public class AudioDirectory : Directory
{
    public override AudioFileEntry[] file_entries { get; set; }
    //(other code omitted)
} 
```

...失败并出现错误，“... `'app1.AudioDirectory.file_entries': type must be 'app1.FileEntry[]' to match overridden member 'app1.Directory.file_entries'`”

**目标：**`file_entries`在基类方法中引用的能力`Directory`，无论对象是哪种派生类型。我的直觉告诉我，我可能忽略了一些简单的事情，因为以上本质上就是多态性的全部内容，并且*应该*`dynamic`有一种方法可以在不求助于新类型的情况下实现这一点。

建议？

-涡轮

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-26T10:49:07.483

您的问题是，当您覆盖属性或方法时，您无法更改签名，即所涉及的类型。您可以使用 new 修饰符忽略此限制，但您必须清楚这意味着什么（稍后会详细介绍）。在您的情况下，您必须避免在子类中隐式定义属性，因为这将在子类中声明一个与基类中的不同的新变量。我的意思是您的代码将与此相同：

```
public class Directory
{
    private FileEntry[] _file_entries;
    public virtual FileEntry[] file_entries 
    {
        get { return _file_entries; }
        set{_file_entries = value;} 
    }
}

public class AudioDirectory
{
    private AudioFileEntry[] _sub_file_entries;
    public new AudioFileEntry[] file_entries 
    {
        get { return _sub_file_entries; }
        set{_sub_file_entries = value;} 
    }
} 
```

这意味着当您在 AudioDirectory 中设置 file_entries 时，在基类中访问的变量仍然为空。

一个可能的解决方案是：

```
public class Directory
{
    private FileEntry[] _file_entries;
    public virtual FileEntry[] file_entries 
    {
        get { return _file_entries; }
        set{_file_entries = value;} 
    }
}

public class AudioDirectory : Directory
{
    public new AudioFileEntry[] file_entries
    {
        get { return (AudioFileEntry[])base.file_entries; }
        set { base.file_entries = value; }
    }
} 
```

这应该可行，但要注意使用 new 修饰符会强制编译时绑定，这意味着执行的属性取决于声明变量的类型，而不是实例的实际打字错误。例如，在以下代码中，您有一个 AudioDirectory 实例，但第一次调用 file_entries 执行的是 AudioDirectory 版本，第二次调用的是 Directory 版本：

```
 AudioDirectory ad = new AudioDirectory();
        Directory d = ad;

        FileEntry[] fa = ad.file_entries;
        FileEntry[] fb = d.file_entries; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-26T10:31:11.010

> “'app1.AudioDirectory.file_entries'：类型必须是 'app1.FileEntry[]' 以匹配被覆盖的成员 'app1.Directory.file_entries'”

意味着您需要返回从基类覆盖的相同类型：

```
public class Directory
{
    public virtual FileEntry[] file_entries { get; set; }
}

public class AudioDirectory : Directory
{
    public override FileEntry[] file_entries { 
        get 
        {
           return new AudioFileEntry[] { new AudioFileEntry() };
        }
        set 
        {
           //(other code omitted)
        } 
    }
} 
```

如果您有其他问题，请提供您的所有代码。

# javascript - 无法在 IE 中找到错误

> ID：12599491
> 
> 赞同：0
> 
> 时间：2012-09-26T10:17:16.987
> 
> 标签：javascript, jquery, internet-explorer-8

我尝试调试 IE 8 开发人员工具中的错误。它表明错误如下，

`'length' is null or not an object JScript - script block, line 21 character 19`

但我找不到**脚本块，第 21 行字符 19**。那么有人对如何定位此错误有任何想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-26T10:28:42.837

您可以尝试启用调试模式我点击开始调试，当出现错误时，IE会为您定位块

[http://msdn.microsoft.com/en-us/library/ie/gg699336%28v=vs.85%29.aspx](http://msdn.microsoft.com/en-us/library/ie/gg699336%28v=vs.85%29.aspx)

# codeigniter - Active Records 更新我可以关闭转义吗？

> ID：12599492
> 
> 赞同：1
> 
> 时间：2012-09-26T10:17:26.020
> 
> 标签：codeigniter, activerecord

我正在尝试使用下面的代码来更新页数。我宁愿使用一个查询，而不是先运行一个查询来获取现有计数。有没有办法告诉 codeigniter 不要逃避查询？目前它把''放在'page_views + 1'周围，这打破了查询。

```
 $this->db->where('id', $charity);
 $this->db->update('charities', array('page_views' => 'page_views + 1')); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-26T10:27:22.700

像这样设置值，它允许禁用转义

```
$this->db->set('page_views', 'page_views + 1', false);
$this->db->where('id', $charity);
$this->db->update('charities'); 
```

# templates - 无法在 joomla 中上传新主题

> ID：12599493
> 
> 赞同：0
> 
> 时间：2012-09-26T10:17:33.800
> 
> 标签：templates, joomla

我使用 joomla，我是 Joomla 平台的初学者。我去扩展管理器：安装。尝试安装新模板时，其写作“未知存档类型”。存档类型为 .zip。我尝试通过这种方式安装/“上传包文件”，但我不能。而且，目录 Templates 是可写的 777 。有什么问题？预先感谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-26T19:00:44.047

1.  将文件解压缩到一个新文件夹中。
2.  然后将该文件夹压缩为 .zip 格式。
3.  现在再次上传包文件，您应该不会再次收到该错误。

确保您上传的 zip 文件中没有“zip”或“tar.gz”文件。也永远不要将文件夹和文件权限更改为 777。所有新手都会这样做，这对您的应用程序来说是一个非常严重的安全问题。正如@Lodder 所说，请您的主机执行所有文件夹 755 和文件 644。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-08-02T18:42:51.617

我遇到了同样的问题。问题是我试图上传一个 .rar 文件。由于某种原因，joomla 不支持此功能。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-26T11:38:24.610

我认为您也必须更改其他目录的权限。当然，也可以是其他东西。

查看此链接：[http](http://www.scribd.com/doc/2300161/Joomla-v-1-5-Template-Installation-Troubleshooting-Manual) ://www.scribd.com/doc/2300161/Joomla-v-1-5-Template-Installation-Troubleshooting-Manual 。它适用于 1.5 版。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-26T11:39:38.207

我能想到的唯一问题是，您需要在上传之前解压缩 ZIP。主文件中可能还有其他 zip 文件，因此会`Unknown Archive type`出现错误。

# reference - 哪个 DLL 文件包含 Aspose 的 TextFragment 类

> ID：12599496
> 
> 赞同：1
> 
> 时间：2012-09-26T10:17:40.270
> 
> 标签：reference, aspose

我正在尝试按照 Aspose 自己网站上的本教程将文本附加到 PDF`Aspose.Pdf for .NET`文档中[。](http://www.aspose.com/docs/display/pdfnet/Add+Text+in+an+Existing+PDF+File)

到目前为止一切顺利，直到这一行：

```
TextFragment textFragment = new TextFragment("main text"); 
```

我`Aspose.Pdf for .NET`通过 NuGet 添加了以下 using 语句：

```
using Aspose.Pdf; 
```

我的问题是我找不到`TextFragment`课程。我是否需要通过 NuGet 添加另一个 Aspose 引用，或者这是框架中其他地方的本机 .Net 类？我有 ReSharper，它没有建议添加任何引用。这是一个 .Net 4 客户端框架控制台应用程序。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-08T19:44:49.657

我叫内耶。我在 Aspose 担任支持开发人员/技术传播者。

请注意**TextFragment 类存在于 Aspose.Pdf.Text 命名空间下**。为了在您的代码中引用它，您可以添加完整的命名空间引用，即使用 Aspose.Pdf.Text；或者您可以提供完整的类路径，例如 Aspose.Pdf.Text.TextFragment。请参阅以下代码行

`Aspose.Pdf.Text.TextFragment textFragment = new Aspose.Pdf.Text.TextFragment("main text");`

请查看下图，其中显示了 VisualStudio intellisense 的建议。

![在此处输入图像描述](../Images/1e99bcd9728ed550e09b45ae72ac26fc.png)

@JMK，Aspose.Words for .NET 支持创建/操作 MS Word 文档的功能，它还提供将 Word 文件呈现为 PDF 格式的功能。因此，出于这个原因，有一些类，如 PdfCompliance、PdfTextCompression、PdfPermissions 等，但恐怕在 Aspose.Words for .NET 中不存在 PDF 类。事实上，Pdf 类存在于 Aspose.Pdf for .NET 的 Aspose.Pdf.Generator 命名空间下。

# postgresql - Postgresql - pg_dump - 没有找到匹配的模式

> ID：12599505
> 
> 赞同：4
> 
> 时间：2012-09-26T10:18:13.573
> 
> 标签：postgresql, database-schema, pg-dump

我正在尝试从 PostgreSQL 数据库创建备份，但收到以下错误：pg_dump: No matching schemas were found

我以 root 身份登录并运行命令

pg_dump -f db.dump --format=plain --schema=existing_schema --username=userx --host=localhost 数据库名

1.  我使用 userx 登录到 psql 并尝试了 \dt - 这给了我信息，名称为 existing_schema 的模式是公共的。
2.  我检查了 \l 以查看 databasename 是数据库名称。
3.  密码正确，否则无法访问psql。
4.  本地主机是正确的，从正在运行的进程中检查。也尝试了服务器的 IP 地址，但在这种情况下，pg_admin 给出了有关主机地址的错误。

\dl 的输出：

```

                  关系列表

架构 | 姓名 | 类型 | 所有者
--------+-------------------------------------------------+--- ----+-------
 公共 | 现有架构 | 表| 用户x

```

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2015-08-24T05:35:39.297

[您可以尝试使用此处](http://postgresql.nabble.com/pg-dump-t-quot-Table-quot-for-cmd-exe-td5731755.html)提到的反斜杠和双引号。

```
sudo -u postgres pg_dump -v Database_Name -t "\"Table_Name\"" 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-26T10:55:14.153

**架构**的名称是`public`.

`existing_schema`是公共架构中的表名。

从您的 pg_dump 命令行中不清楚您想要做什么。

如果要从*架构中导出**所有表*，则需要指定： *`public`*

 *```
--schema=公共

```

如果您只想导出表格，*则*`existing_schema`需要指定：

```
--table=existing_schema

```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2019-02-07T11:52:06.163

对于未来的谷歌用户，在我的例子中，我的模式有点（“my.schema”），解决这个问题的正确方法是转义：

```
pg_dump -U postgres -d mydatabase --schema \"my.schema\" 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-26T11:09:05.140

```
 \dn list out all the schema in the database 
```

如果您只想转储模式，

[参考](https://stackoverflow.com/questions/12564777/schema-only-backup-and-restore-in-postgresql/12564792#12564792)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2021-01-27T12:03:27.307

在我的情况下，架构名称是大写的，无论我尝试什么 ( `-n MYSCHEMA`, `-n "MYSCHEMA"`, `-n "\"MYSCHEMA\""`)，它都不起作用，直到我在数据库中将架构重命名为“myschema”。然后我可以倾倒所有`-n MYSCHEMA`,`-n "MYSCHEMA"`和`-n "\"MYSCHEMA\""`.

看起来 pg_dump 在内部使用小写字母，这意味着它没有引用命令行中给出的模式名称。

但是，当使用它调用 pg_dump 时`-n """MYSCHEMA"""`。

但是，当添加表名时，选项 -n 对我来说不再起作用了。如果架构和表名包含大写字母，我使用这个：

`pg_dump -f file.txt -t \"MySchema\".\"MyTable\"`.*

# bash - 从 bash 映射中检索时如何区分空字符串和空字符串

> ID：12599506
> 
> 赞同：3
> 
> 时间：2012-09-26T10:18:37.693
> 
> 标签：bash, testing, map, null, string

我无法找出如何在 bash 映射中检查 null （或未设置？）。也就是说，我想将我可以放置在地图中的空字符串与我在地图中根本没有放置任何东西的情况（对于那个特定的键）不同。

例如，查看代码：

```
#!/bin/bash

declare -A UsersRestrictions
UsersRestrictions['root']=""

if [[ -z "${UsersRestrictions['root']}" ]] ; then
    echo root null
else 
    echo root not null
fi

if [[ -z "${UsersRestrictions['notset']}" ]]; then
    echo notset null
else 
    echo notset not null
fi 
```

我希望“root”的测试给我'not null'，而“notset”的测试给我'null'。但我在这两种情况下都得到了相同的结果。我已经搜索了其他可能的方法，但到目前为止都给了我相同的结果。有没有办法做到这一点？

谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-26T10:52:04.637

Use `-z ${parameter:+word}` as your test condition. It will always be true if parameter is null or unset, otherwise it will be false.

From the bash man page:

> **${parameter:+word}**
> 
> Use Alternate Value. If parameter is null or unset, nothing is substituted, otherwise the expansion of word is substituted.

Test script:

```
#!/bin/bash

declare -A UsersRestrictions
UsersRestrictions['root']=""
UsersRestrictions['foo']="bar"
UsersRestrictions['spaces']="    "

for i in root foo spaces notset
do
    if [[ -z "${UsersRestrictions[$i]+x}" ]]; then
        echo "$i is null"
    else 
        echo "$i is not null. Has value: [${UsersRestrictions[$i]}]"
    fi
done 
```

Output:

```
root is not null. Has value: []
foo is not null. Has value: [bar]
spaces is not null. Has value: [    ]
notset is null 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-26T10:21:52.777

尝试以下操作：

```
if [[ -z "${UsersRestrictions['notset']}" && "${UsersRestrictions['notset']+x}" ]]; then
    echo "notset is defined (can be empty)"
else 
    echo "notset is not defined at all"
fi 
```

诀窍是连接一个虚拟`x`字符，它只会在定义变量时附加*（*无论它是否为空）。另请注意，第一个测试`root`应该给你`root null`，因为该值实际上是空的。如果要测试该值是否*不*为空，请`if [[ ! -z $var ]]`改用。

**[演示](http://ideone.com/sMtPG)**。

### 参考：

*   [高级 Bash 脚本指南：其他比较运算符](http://tldp.org/LDP/abs/html/comparison-ops.html)

# exception - C# IKVM 工具包未找到异常

> ID：12599507
> 
> 赞同：1
> 
> 时间：2012-09-26T10:18:40.357
> 
> 标签：exception, toolkit, ikvm

我正在使用 IKVM 0.46.0.2 将 java 应用程序包装到 Visual Studio 2010 C# 环境中的 dll 中。

代码是，只需使用 JFrame 创建一个 java swing 表单并弹出一些图片。

```
javax.swing.JFrame jf = new javax.swing.JFrame("Form title"); 
```

出现以下问题。

```
Exception : java.awt.AWTError : Toolkit not found: ikvm.awt.NetToolkit, IKVM>AWT>WinForms, Version=0.46.0.2, Culture=neutral, PublicKeyToken=13235d27fcbfff58

at : java.awt.Toolkit$2.run()
at : java.security.AccessController.doPrivileged(Object, AccessControlContext, CallerID)
at : java.security.AccessController.doPrivileged(PrivilegedAction action, CallerID)
at : java.awt.Toolkit.getDefaultToolkit()
at : java.awt.Window.getToolkit()
at : java.awt.Window.init(GraphicsConfiguration)
at : java.awt.window..ctor()
at : java.awt.Frame..ctor(String title)
at : javax.swing.JFrame..ctor(String title) 
```

我添加了参考文件

```
IKVM.AWT.WinForms
IKVM.OpenJDK.Core
IKVM.OpenJDK.SwingAWT
IKVM.OpenJDK.Text
IKVM.OpenJDK.Util
IKVM.Runtime 
```

我该怎么做才能解决这个问题？

感谢和抱歉我的英语

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-28T05:15:45.990

ikvm.awt.NetToolkit 类位于程序集 IKVM.AWT.WinForms 中。您确定 Visual Studio 已复制 dll 吗？

似乎是类加载的问题。你是如何编译你的java应用程序的。请参阅 wiki 以获取有关[类加载](http://sourceforge.net/apps/mediawiki/ikvm/index.php?title=ClassLoader)的帮助。

# git - 持续集成构建中的 Git“无法合并二进制文件”错误

> ID：12599509
> 
> 赞同：6
> 
> 时间：2012-09-26T10:18:44.277
> 
> 标签：git, merge, binaryfiles

我们有一个自动化系统，它将我们的开发分支合并到一个发布分支。

> 合并是通过命令完成的`git merge -s recursive -X theirs development`。

我们遇到的问题是在将开发合并到发布时，二进制文件的合并失败。

> 错误是：“ `warning: Cannot merge binary files: Resources/Main/Images/image.png (HEAD vs. development)`”。

如何在**没有用户交互**的情况下合并两个分支？从开发到发布的所有内容都可以“赢得”合并。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-10-08T22:38:13.983

看起来您在 之后有一个空间`-X`，请尝试：

```
git merge -s recursive -Xtheirs development 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-26T14:49:36.667

`git merge`允许使用合并策略，即在发生冲突时“我们的更改”总是获胜或“他们的更改”总是获胜。使用任一

```
git merge -X ours ... 
```

或者

```
git merge -X theirs ... 
```

# visual-studio-2010 - Visual Studio + PhoneGap

> ID：12599510
> 
> 赞同：3
> 
> 时间：2012-09-26T10:18:45.103
> 
> 标签：visual-studio-2010, cordova

我有一个跨平台的移动项目要做，我最终决定使用 PhoneGap。在 Visual Studio 2010 Ultimate 中安装 PhoneGap 2.0 后，我尝试了一个简单的示例：

```
<body>
    <h1>Hello Cordova</h1>
    <div id="welcomeMsg"></div>

    <script type="text/javascript">
      alert('bonjour'); 
    </script>
</body> 
```

模拟器（Windows Phone 模拟器）不显示任何内容。我不知道问题是来自模拟器还是因为 PhoneGap 没有执行 javascript 代码。

# c# - Process.Start() 的进度条

> ID：12599514
> 
> 赞同：1
> 
> 时间：2012-09-26T10:18:54.463
> 
> 标签：c#, progress-bar, backgroundworker, system.diagnostics

我在这个问题上尝试了很多链接，但找不到任何帮助。我有这段代码，我在其中执行一个 .exe 文件，该文件从网页检索数据并在我的列表框中显示结果。这需要时间并且窗口冻结，我决定使用 BackgoundWorker 但所有示例都使用循环来更新进度条，在我的情况下没有循环，我怎样才能使我的进度条增加？请帮我解决这个问题，这是我的代码，

```
 labelstat.Text = "Please wait..";
        // Start the child process.
        Process p = new Process();

        // Redirect the output stream of the child process.
        p.StartInfo.UseShellExecute = false;
        p.StartInfo.RedirectStandardOutput = true;
        p.StartInfo.WindowStyle = ProcessWindowStyle.Hidden;
        p.StartInfo.CreateNoWindow = true;
        p.StartInfo.FileName = "Out.exe";

        p.Start();
        // Do not wait for the child process to exit before
        // reading to the end of its redirected stream.
        // p.WaitForExit();
        // Read the output stream first and then wait.
        string output = p.StandardOutput.ReadToEnd();
        p.WaitForExit();

        checkedListBox1.Items.AddRange(output.Split(new string[] { "\r\n" }, StringSplitOptions.RemoveEmptyEntries)); 
```

我试着把这个放在

```
 backgroundWorker_DoWork 
```

方法，它在后台执行我的任务，但我不知道如何根据我的代码执行的过程增加进度条？：（ 非常感谢你..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-26T10:29:17.000

不确定您是否能够更改进度条，毕竟您怎么知道程序完成了多少工作百分比。你可以做的是保持 UI 响应。您可能已经使用后台工作程序完成了这项工作，但是您可以通过在程序写入输出流时向 UI 添加行来做更多事情（尽管考虑到它需要下载数据，您可能会发现直到一下子就完成了）。

您可以通过创建一个一直运行到`p.HasExisted`（表示程序完成）的循环来做到这一点。在该循环中，您将报告进度（[BackgroundWorker.ReportProgress](http://msdn.microsoft.com/en-us/library/a3zbdb1t.aspx)），可能会传递到目前为止的输出字符串数组。然后，在后台工作人员的进度更改事件处理程序中，您将使用您在报告进度时传入的数组对象更新您的 UI。

# java - 有数据不更新

> ID：12599527
> 
> 赞同：3
> 
> 时间：2012-09-26T10:19:45.023
> 
> 标签：java, mysql, prepared-statement

我的表格如下。

```
++++++++++++++++++++++++++++++++++++++++++++++++++
+   Id     :  TextBox                            +
+   Name   :  TextBox                            +
+   Mob    :  TextBox                            +
+   Photo  :  File Option                        +
+                                                +
+   Submit   Update                              +
++++++++++++++++++++++++++++++++++++++++++++++++++ 
```

我想要做的是更新相应 ID 的数据。对于更新，我有如下查询。

```
PreparedStatement pst = conn.prepareStatement("UPDATE myTable SET name=?, mob=?, photo=? WHERE id=?");
pst.setString(1, personName);
pst.setString(2, mobileNum);
pst.setBinaryStream(3, InputStreamData);
pst.setString(4, personId);
pst.executeUpdate(); 
```

**我有问题。我会用场景来解释。**

假设 id 是 1，我已经有了 personName & file 的数据。现在我只输入手机号码。. 我怎么能避免`pst.setBinaryStream(4, InputStreamData);`声明？我不想输入任何数据，因为数据已经存在。有没有可以插入数据的sql语句。

我只能预填充名称数据，但不能预填充文件数据。

## 编辑 1

对此的解决方案是，有许多 UPDATE 语句。但问题是我有很多领域。我不能使用这么多 UPDATE 语句。

## 编辑 2

我尝试的是读取照片数据并在 setBinaryStream 中设置该数据，如下所示。

```
pst.setBinaryStream(4, rst.getBinaryStream(1)); 
```

但它给了我错误

```
java.lang.AbstractMethodError: com.mysql.jdbc.PreparedStatement.setBinaryStream(ILjava/io/InputStream;)V

javax.faces.el.EvaluationException: java.lang.AbstractMethodError: com.mysql.jdbc.PreparedStatement.setBinaryStream(ILjava/io/InputStream;)V
at javax.faces.component.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:102)
at com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:102)
at javax.faces.component.UICommand.broadcast(UICommand.java:315)
at javax.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:794)
at javax.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1259)
at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:81)
at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:101)
at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:118)
at javax.faces.webapp.FacesServlet.service(FacesServlet.java:593)
at org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1542) 
```

--

```
Caused by: java.lang.AbstractMethodError: com.mysql.jdbc.PreparedStatement.setBinaryStream(ILjava/io/InputStream;)V
at com.sac.databean.PersonalInformationDataBean.editPersonalInfo(PersonalInformationDataBean.java:1530)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
at java.lang.reflect.Method.invoke(Method.java:597)
at javax.el.BeanELResolver.invokeMethod(BeanELResolver.java:779)
at javax.el.BeanELResolver.invoke(BeanELResolver.java:528)
at javax.el.CompositeELResolver.invoke(CompositeELResolver.java:257) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-26T10:25:52.960

当用户使用表单编辑他的个人信息时，表单应该预先填充他当前的姓名和电话号码。

这样，如果他只更改了他的电话号码，他将不会触摸包含他的姓名的姓名输入字段，并且表单将提交他的当前姓名和他的新电话号码。您可以更新数据库中的所有字段。

这是一个 UI 问题，而不是数据库问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-26T10:54:27.520

您可以使用两个 UPDATE 语句。一个用于个人信息，另一个用于文件。后者只会在用户实际上传新照片时执行（通过网络表单提交时很容易检查）。

或者，您可以有两个 UPDATE 语句，一个只更新个人信息，另一个更新个人信息和文件。和以前一样，后者将在用户实际上传新照片时执行。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-26T11:20:10.730

作为编辑 2 的一部分，您得到的错误是该方法尚未实现。

尝试查看[MySQL-BLOB-setBinaryStream](http://www.herongyang.com/JDBC/MySQL-BLOB-setBinaryStream.html)

测试 3 正在传递流的长度，并且该方法似乎已实现。

我假设您使用这些测试中使用的 JDBC 3.0。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-26T12:46:31.477

`pst.setBinaryStream(4, rst.getBinaryStream(1), (int) rst.getString(1).length());`成功了。

# objective-c - mach_inject 或 Simbl 用于将代码注入 Finder

> ID：12599528
> 
> 赞同：1
> 
> 时间：2012-09-26T10:19:46.473
> 
> 标签：objective-c, overlay, osx-snow-leopard, finder, simbl

我制作了一个 Simbl 插件，可以将代码注入 Finder。它运行良好，但每次重新启动时我都必须重新启动 Finder 以允许我的代码正确注入自身。

所以我做了这个 LaunchAgent ：

```
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
    <key>Label</key>
    <string>com.overlay.launcher</string>
    <key>KeepAlive</key>
    <false/>
    <key>RunAtLoad</key>
    <true/>
    <key>ProgramArguments</key>
    <array>
            <string>/bin/bash</string>
                    <string>-c</string>
                            <string>killall Finder; open /System/Library/CoreServices/Finder.app</string>
                            </array>
</dict>
</plist> 
```

我的插件只是在文件上显示覆盖或标记。

有没有更好的方法？

三天以来，我尝试使用 mach_inject 但它有点复杂，而且我不明白如何让我的插件正确注入 Finder 。我的插件在目标 C 中，我使用 swizzle 方法来覆盖 Finder 中的方法，是否可以使用 mach_inject 执行此操作？

# php - 检索插入的 id Codeigniter

> ID：12599530
> 
> 赞同：0
> 
> 时间：2012-09-26T10:19:57.223
> 
> 标签：php, mysql, codeigniter

嘿伙计们，我需要一点帮助。我想要的只是检索我的 member_id 以将其传递到我尝试使用的另一个表中 $this->db->insert_id(); 但它返回 0。但是当我在表中查找时，ID 值为 8。如何在我的另一个表中获得 8 的值？因为我试图在一次执行中运行两个查询。这是我的示例代码。

```
$member = array(
                    'member_id' => null, 
                    'account_type' => $this->input->post('mem_type'),
                    'username' => strtolower($this->input->post('username')),
                    'account_type' => $this->input->post('mem_type'),
                    'lastname' => ucwords($this->input->post('lastname')),
                    'firstname' => ucwords($this->input->post('firstname')),
                    'middlename' => ucwords($this->input->post('middlename')),
                    'gender' => $this->input->post('gender'),
                    'email' => strtolower($this->input->post('email')),
                    'mobile_number' => $this->input->post('contact'),
                    'password' => md5($this->input->post('password')),
                    'upline' => $this->input->post('referral'),
                    'account_created' => date('Y-m-d h:i:s')
                );
                $member_insert_id = $this->db->insert_id();

                $id = $this->input->post('referral');

                //count the selected id in upline
                $this->db->like('upline',$id);
                $this->db->from('member');
                $query =  1 + $this->db->count_all_results();   

                $this->member = 0;

                if($query < $this->reglvl1){
                    $this->member = 1;
                }

                if($query < $this->reglvl2){
                    $this->member = 2;
                }

                if($query < $this->reglvl3){
                    $this->member = 3;
                }

                if($query < $this->reglvl4){
                    $this->member = 4;
                }

                if($query < $this->reglvl5){
                    $this->member = 5;
                }

                $insert_downline = array(
                    'down_id' => null,
                    'level' => $this->member,
                    'fkmember' => $id, //referral id
                    'downline' => $member_insert_id //member id
                    );

                return $this->db->insert('downline',$insert_downline);
                return $this->db->insert('member',$member); 
```

我的另一个问题是当我在表中插入数据时。它只插入到第二个表中。这是我的表结构：

```
CREATE TABLE `member` (
    `member_id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT,
    `account_type` ENUM('REGULAR','DUPLICATE','CORPORATE','ADVANCE') NOT NULL,
    `username` VARCHAR(30) NOT NULL,
    `lastname` VARCHAR(50) NOT NULL,
    `firstname` VARCHAR(50) NOT NULL,
    `middlename` VARCHAR(50) NOT NULL,
    `gender` ENUM('Male','Female') NOT NULL,
    `email` VARCHAR(50) NOT NULL,
    `mobile_number` VARCHAR(50) NOT NULL,
    `password` VARCHAR(50) NOT NULL,
    `upline` VARCHAR(10) NOT NULL,
    `account_created` DATETIME NOT NULL,
    PRIMARY KEY (`member_id`),
    UNIQUE INDEX `username` (`username`),
    UNIQUE INDEX `mobile_number` (`mobile_number`),
    UNIQUE INDEX `email` (`email`)
)
COLLATE='utf8_general_ci'
ENGINE=InnoDB
AUTO_INCREMENT=3;

CREATE TABLE `downline` (
    `down_id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT,
    `level` INT(10) UNSIGNED NOT NULL,
    `fkmember` INT(10) UNSIGNED NOT NULL,
    `downline` INT(10) UNSIGNED NOT NULL,
    PRIMARY KEY (`down_id`),
    INDEX `fkmember` (`fkmember`),
    CONSTRAINT `downline_ibfk_1` FOREIGN KEY (`fkmember`) REFERENCES `member` (`member_id`)
)
COLLATE='utf8_general_ci'
ENGINE=InnoDB
AUTO_INCREMENT=3; 
```

我想要的是首先插入成员。如果该成员没有参考 ID，它将自动添加到该成员并在上线字段中插入一个“无”值。参考 ID 来自推荐使用以拥有会员资格的人。如果成员有一个参考 id，它也会添加到成员表和下线表中。但是下线表将验证用户是否是什么级别。我在水平查找方面没有问题。我的问题在我的下线专栏中。它总是存储到来自 $this->db->inser_id() 的值 0。我怎样才能获得正确的值？请帮帮我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-26T10:22:39.017

我认为`$this->db->insert('member',$member);`调用可能应该放在更远的位置，因为然后您尝试读取最后插入的 ID 并在`downline`表中使用它！否则，当您调用 时`$this->db->insert_id()`，实际上还没有插入任何内容，因此没有什么可读取的！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-26T10:25:09.467

你的代码应该是

编辑：

```
$member_insert_id = $this->db->insert_id(); 
```

这`id`仅在对数据库进行查询后立即返回。我没有看到您之前在成员表中插入记录的位置`$member_insert_id = $this->db->insert_id();`。也就是说，insert_id 无法获取任何内容。

如果你想获取之前添加的 Last id，你可以这样做。

```
$lastid=$this->db->query("SELECT MAX(member_id) FROM member"); 
```

# php - PHP 会话在 htaccess 重定向条件下消失 - 仅在 Chrome 中

> ID：12599533
> 
> 赞同：4
> 
> 时间：2012-09-26T10:20:06.117
> 
> 标签：php, .htaccess, session

我的项目挂在这个单一的问题上。

我在我的 htaccess 中有这段代码来实现一个平面 url 系统

```
Options +FollowSymlinks
RewriteEngine on
RewriteBase /

RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_URI} !^/page.php
RewriteRule (.*) page.php?pid=$1 [QSA] 
```

虽然此代码存在，但我无法访问在任何其他页面上的一个页面上创建的会话变量。即使页面是不经过重定向的静态 .php 页面，会话也会消失。只有此代码以某种方式阻止会话。

我已设置会话 cookie 路径和域以确保领域正确，但它不起作用。

任何帮助都会发自内心的感激。

有趣的是它只在 Chrome 上失败。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-02T08:52:23.963

`.htaccess`如果它不能在 Chrome 上运行，那是你的 Chrome 的错……浏览器`SESSION`在服务器端运行时无能为力。您应该通过 Chrome 从其他计算机上检查它，如果它正常工作，那么这正是您的 Chrome 故障，我以某种方式确定这一点......

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-30T02:48:21.313

根据您的评论：

> 我已设置此附加代码以确保会话 cookie 位于正确的路径和域中。ini_set('session.cookie_domain', '.bostonairporttaxicab.com'); ini_set('session.cookie_path', 'bostonairporttaxicab.com/';);

我认为您的 cookie_path 是错误的。它不应包含域名，因为路径是域名后面的部分。尝试将其设置为`/`并查看是否可以修复它。也许 Chrome 对它的解释与其他浏览器不同，因此拒绝了您的会话 cookie。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-23T11:21:38.367

您是否在每个页面上都开始了会话。

你将不得不写 session_start(); 在 php 之后的文件顶部的函数

Htaccess 文件在会话中没有任何作用，因为您的会话变量在您的会话处于活动状态之前仍然存在。

# android - 检测用于分享某些内容的分享者

> ID：12599538
> 
> 赞同：4
> 
> 时间：2012-09-26T10:20:21.807
> 
> 标签：android, android-intent, broadcastreceiver, share, intentfilter

在我目前正在处理的应用程序中，我需要知道用户用来共享内容的“ACTION_SEND 共享者”（Twitter、Facebook、SMS、电子邮件......）以用于统计目的。有没有办法做到这一点？

我有一些想法，其中之一是修改这些共享者的目标 Intent 以指向接收者 Intent，该接收者 Intent 将接收选择的共享者，对这些数据做任何我们需要的事情，然后调用目标共享者的最终 Intent（Twitter， Facebook、短信、电子邮件...）。对于这最后一步，我想我需要知道每个目标应用程序的共享操作。

问候

**更新1**

为了说明，我分享了我目前用来分享内容的方法，根据目标分享者自定义 Intent 额外内容：

```
 private void shareItem(String title, String link) {
    // Standard message to send
    String msg = title + " " + link;

    Intent share = new Intent(Intent.ACTION_SEND);
    share.setType("text/plain");

    List<ResolveInfo> resInfo = getPackageManager().queryIntentActivities(share, 0);
    if (!resInfo.isEmpty()) {
        List<Intent> targetedShareIntents = new ArrayList<Intent>();
        Intent targetedShareIntent = null;

        for (ResolveInfo resolveInfo : resInfo) {
            String packageName = resolveInfo.activityInfo.packageName;
            targetedShareIntent = new Intent(android.content.Intent.ACTION_SEND);
            targetedShareIntent.setType("text/plain");

            // Find twitter: com.twitter.android...
            if ("com.twitter.android".equals(packageName)) {
                targetedShareIntent.putExtra(android.content.Intent.EXTRA_TEXT, msg);
            } else if ("com.google.android.gm".equals(packageName)) {
                targetedShareIntent.putExtra(android.content.Intent.EXTRA_SUBJECT, title);
                targetedShareIntent.putExtra(android.content.Intent.EXTRA_TEXT, Uri.encode(title + "\r\n" + link));
            } else if ("com.android.email".equals(packageName)) {
                targetedShareIntent.putExtra(android.content.Intent.EXTRA_SUBJECT, title);
                targetedShareIntent.putExtra(android.content.Intent.EXTRA_TEXT, Uri.encode(title + "\n" + link));
            } else {
                // Rest of Apps
                targetedShareIntent.putExtra( android.content.Intent.EXTRA_TEXT, msg);
            }

            targetedShareIntent.setPackage(packageName);
            targetedShareIntents.add(targetedShareIntent);
        }

        Intent chooserIntent = Intent.createChooser(targetedShareIntents.remove(0), getResources().getString(R.string.share));
        chooserIntent.putExtra(Intent.EXTRA_INITIAL_INTENTS, targetedShareIntents.toArray(new Parcelable[] {}));
        startActivityForResult(chooserIntent, 0);
    }
} 
```

**解决了**

按照此链接上的指示进行操作：http: [//goo.gl/hf8Kg](http://goo.gl/hf8Kg)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-26T12:23:38.193

> 有没有办法做到这一点？

`PackageManager`您可以通过和显示您自己的选择器对话框`queryIntentActivities()`。

# google-drive-api - 使用 phonegap 进行 Google 驱动器身份验证

> ID：12599540
> 
> 赞同：2
> 
> 时间：2012-09-26T10:20:27.600
> 
> 标签：google-drive-api

我想在 phonegap 中使用 java 脚本对 Google Drive（Google 文档）进行身份验证。请给我任何建议

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-26T10:44:11.937

使用客户端流程：

[https://developers.google.com/accounts/docs/OAuth2UserAgent](https://developers.google.com/accounts/docs/OAuth2UserAgent)

# php - 通过 PHP SDK 编辑通过 Cloudfront 访问的 S3 文件的 ACL

> ID：12599541
> 
> 赞同：0
> 
> 时间：2012-09-26T10:20:36.937
> 
> 标签：php, sdk, amazon-s3, acl, amazon-cloudfront

我正在寻找一种解决方案来动态更新我的 S3 文件 ACL 并立即传播到 Cloudfront。

到目前为止，我可以更新 S3 上的 ACL，但如果我将文件设置为私有，它仍然可以通过 Cloudfront 公开访问，反之亦然。

我正在使用 S3 PHP SDK 这样做：将文件设置为公共

```
$s3 = new S3($awsAccessKey, $awsSecretKey);
if (($acp = S3::getAccessControlPolicy($bucket, $uri)) !== false) {
   $acp["acl"][] = array(
        "type" => "Group", "uri" => "http://acs.amazonaws.com/groups/global/AllUsers",  "permission" => "READ"
   );
   if (S3::setAccessControlPolicy($bucket, $uri, $acp)) {
      echo "true";
   }
} 
```

将文件设置为私有

```
$s3 = new S3($awsAccessKey, $awsSecretKey);
if (($acp = S3::getAccessControlPolicy($bucket, $uri)) !== false) {
  foreach($acp['acl'] as $key => $val) {
    if(isset($val['uri']) && 
        $val['uri'] == 'http://acs.amazonaws.com/groups/global/AllUsers')
        unset($acp['acl'][$key]);        
  }
  if (S3::setAccessControlPolicy($bucket, $uri, $acp)) {
    echo "true";
  }
} 
```

我已经读过要更新文件，您必须向 Cloudfront 发送无效请求： [强制 CloudFront 分发/文件更新](https://stackoverflow.com/questions/1268158/force-cloudfront-distribution-file-update)

我没有尝试过，但在我尝试之前，我想知道这是正确的解决方案。我还读到更新可能需要 15 分钟。有没有办法让它瞬间完成？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T06:33:35.860

实际上，从您的源代码来看，您并没有使用[官方 AWS SDK for PHP](http://aws.amazon.com/sdkforphp)中的 S3 支持——您可能使用的是由第三方开发人员维护的[Undesign S3 类。](http://undesigned.org.za/2007/10/22/amazon-s3-php-class)以防万一你不知道。:)

现在，对于你的问题：

由于 CloudFront 是一个*缓存*，它不会立即获取您在 S3 中所做的更改，直到您清除该缓存。所以是的，第一步是对 S3 对象进行更改，第二步是向 CloudFront 发出无效请求，指示它清除缓存。

我个人看到 CloudFront 需要 3-15 分钟才能完成失效。如果您查看[CloudFront 边缘站点](http://aws.amazon.com/cloudfront/#details)列表，我目前统计了分布在北美、欧洲、亚太地区和南美洲的 36 个边缘站点。CloudFront 必须遍历每个边缘站点，并确保为您要失效的对象清除缓存。

> 有没有办法让它瞬间完成？

现在？不。

不过，我确信它会尽可能快地移动。:)

# mef - 什么时候应该使用托管可扩展性框架？

> ID：12599544
> 
> 赞同：0
> 
> 时间：2012-09-26T10:20:48.770
> 
> 标签：mef

我为 Managed Extensibility Framework引用了[这个](http://msdn.microsoft.com/en-us/library/dd460648.aspx#the_problem_of_extensibility)和[这个链接。](http://www.codeproject.com/Articles/188054/An-Introduction-to-Managed-Extensibility-Framework)但仍然没有完全清楚某些部分。我很困惑.... 在哪种情况下应该使用 MEF，为什么？

MEF还有其他例子吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-28T19:28:56.803

MEF 对于大型应用程序特别有用，在这些应用程序中，随着代码库大小的增加，在远程部分之间注入依赖项将变得难以管理。我发现使用 MVVM 编写的大型 GUI 应用程序可以极大地受益于像 MEF 这样的 IoC 容器。

MEF 的基础是告诉它要创建什么，然后告诉它在哪里可以找到它应该创建的类型。

我还建议查看[Prism Event Aggregator](http://msdn.microsoft.com/en-us/library/microsoft.practices.composite.events.ieventaggregator.aspx)，它也有助于减少和清理大型应用程序的耦合。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-03T12:07:11.490

我写了一篇关于它的小文章（起初是法语，但由 Bing 翻译）你可以[在这里阅读](http://www.microsofttranslator.com/bv.aspx?from=&to=en&a=http://blog.mic-belgique.be/articles/mef-managed-extensibility-framework/)

# c - 如何使用 c socket api 发送文件。

> ID：12599547
> 
> 赞同：0
> 
> 时间：2012-09-26T10:20:56.303
> 
> 标签：c, sockets, ftp, datagram

从（纯文本）流套接字到可以发送文件的“东西”，我遇到了一个小问题。一个月前，我写了一个基本的聊天客户端。现在我希望能够发送和接收任何类型的文件。让我们使用 PDF 或图像。我将列出我正在使用的资源，以及我“认为”的正确方向。我只需要帮助连接点。

从我的研究看来，我需要先获取文件，将其转换为二进制文件，然后将其发送到 . 我猜我想要一种 TCP 风格，因为我非常关心文件的数据包是否按顺序/完全出现。

我读过关于套接字的 Beej.us。我也没有找到发送数据的部分。我确实找到了关于发送不同“数据类型”的部分，即浮点数等。

我猜我想要一个“数据报”而不是流。如果有人知道本书中的部分，我确实有我的 Unix Networking Programming 的副本。我找不到一个看起来像 . 经过 2、3 个小时的研究，我真的找不到任何简单或清晰的东西。大多数只是未回答的论坛问题..

这就是我要开始的。后来我会用自定义IP、端口等来改变它。从Beej获取数据报-发送者。从命令行参数发送文本..

```
#include <stdio.h>
#include <stdlib.h>
#include <unistd.h>
#include <errno.h>
#include <string.h>
#include <sys/types.h>
#include <sys/socket.h>
#include <netinet/in.h>
#include <arpa/inet.h>
#include <netdb.h>

#define SERVERPORT "4950"    // the port users will be connecting to

int main(int argc, char *argv[])
{
    int sockfd;
    struct addrinfo hints, *servinfo, *p;
    int rv;
    int numbytes;

    if (argc != 3) {
        fprintf(stderr,"usage: talker hostname message\n");
        exit(1);
    }

    memset(&hints, 0, sizeof hints);
    hints.ai_family = AF_UNSPEC;
    hints.ai_socktype = SOCK_DGRAM; // datagrams..

    if ((rv = getaddrinfo(argv[1], SERVERPORT, &hints, &servinfo)) != 0) {
        fprintf(stderr, "getaddrinfo: %s\n", gai_strerror(rv));
        return 1;
    }

    // loop through all the results and make a socket. 
    //I'm not sure about the need for a loop
    for(p = servinfo; p != NULL; p = p->ai_next) {
        if ((sockfd = socket(p->ai_family, p->ai_socktype,
                p->ai_protocol)) == -1) {
            perror("talker: socket");
            continue;
        }

        break;
    }

    if (p == NULL) {
        fprintf(stderr, "talker: failed to bind socket\n");
        return 2;
    }
// here is where we would send a file. Lets say ./img.png
// If I had to guess I'd need to write a custom packet, turn the file into binary, then to
//a packet. Then call send while we still have packets.
// Am I on the right track?
    if ((numbytes = sendto(sockfd, argv[2], strlen(argv[2]), 0,
             p->ai_addr, p->ai_addrlen)) == -1) {
        perror("talker: sendto");
        exit(1);
    }

    freeaddrinfo(servinfo);

    printf("talker: sent %d bytes to %s\n", numbytes, argv[1]);
    close(sockfd);

    return 0;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-26T10:30:07.143

啊，从哪里开始……？

首先，您需要 TCP（流），而不是 UDP（数据报）。数据报的大小是有限的，而 UDP 本质上是不可靠的。

其次，“将文件转换为二进制文件”：我想你会发现它就是这样存储在磁盘上的。;-)

第三，您可能希望在实际文件之前发送某种标题。标头通常包括文件名、文件大小以及允许您将其与您通过同一端口发送的任何其他消息（聊天？）区分开来的内容。

标头可以是固定大小的二进制数据块，或者更像是 HTTP 标头的可读性。

# git - 如何在 Bluehost 上安装 git 存储库

> ID：12599548
> 
> 赞同：11
> 
> 时间：2012-09-26T10:21:07.427
> 
> 标签：git, apache, ssh, bluehost

如果您输入：bluehost git repository 第一页上的所有结果和第二页上的一些结果，我已经尝试了几乎所有可以在 Google 上找到的东西，我已经尝试过了。我也试过这个非常有用的教程，但没有太大帮助，[8 种方法来共享你的 git 存储库](http://www.jedi.be/blog/2009/05/06/8-ways-to-share-your-git-repository/)到目前为止，这就是我得到的。使用 HTTP 方法时，我可以将存储库克隆/获取/拉取到我的计算机，但无法推送。它需要对 httpd.conf 进行更改，这在 Bluehost 上是不可能的。使用 CGI( [http://en.bainternet.info/2012/how-to-git-over-http](http://en.bainternet.info/2012/how-to-git-over-http) ) 方法和 HTTP 我总是得到 500 服务器错误。并且在使用 SSH 时，因为我确实可以访问 SSH shell，所以我得到“远程端意外挂断”。在 Google 上找到的大多数教程至少有 6 个月的历史，例如这个（[http://www.calzzani.com/blog/?p=92](http://www.calzzani.com/blog/?p=92)）提供了一个很好的解决方案，但是

> 在发现 bluehost 不再允许通过非交互式登录访问远程路径之前，我整个早上都在搞乱我的 .bashrc 文件。如果我能早点发现这个 4 小时就好了！

我浪费了 4 个多小时尝试解决方案，可以这样做吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-11-14T22:43:50.910

似乎 bluehost 现在为 git 安装提供了自己的支持主题

请参阅[VPS 或专用主机 - 安装 Git](https://my.bluehost.com/cgi/help/2383)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-01-09T19:44:57.263

wholladay 的链接很有帮助
，但这些文章也对我有帮助

安装 git 的简单过程
[http://willjackson.org/blog/installing-git-bluehost-shared-hosting](http://willjackson.org/blog/installing-git-bluehost-shared-hosting)

托管远程仓库
[http://www.calzzani.com/blog/?p=92](http://www.calzzani.com/blog/?p=92)

希望这些帮助

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2018-06-29T12:37:27.697

你需要运行：

```
yum install git --disableexcludes=main --skip-broken 
```

# c# - Resharper 快速修复将此限定符放在属性之前，而不仅仅是私有字段

> ID：12599549
> 
> 赞同：2
> 
> 时间：2012-09-26T10:21:11.887
> 
> 标签：c#, resharper-7.0

我正在使用 VS 2012 和 Resharper 7。在我的项目中，访问私有字段的约定总是带有“this”限定符，只是为了明确它是私有的（例如 this.myPrivateField）。不应使用 this 限定符访问属性。我们配置了 resharper 并且工作正常。但如果我使用快速修复选项，它总是将 this 限定符放在使用的属性之前（例如 this.MyPublicProperty）。有什么方法/设置可以改变这种行为吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T13:00:43.800

如果您确定还遵循将所有字段设为私有的非常标准的约定，您可以将该功能设置为“适用于此类中的字段”或“适用于字段”。

打开“对于此类中的字段”允许我在自动清理后拥有此代码：

```
public class MyClass
{
    private string myPrivateField;

    public string MyPublicProperty { get; set; }

    public void MyMethod()
    {
        this.myPrivateField = "Cucumber";
        MyPublicProperty = "Cucumber as well";
    }
} 
```

# python - 在 Python NLTK 中打开和预处理文件

> ID：12599550
> 
> 赞同：0
> 
> 时间：2012-09-26T10:21:14.547
> 
> 标签：python, regex, nltk

我是 Python NLTK 的新手，真的需要你的建议。我想打开我自己的 txt 文件并做一些预处理，比如用它的正则表达式替换单词。我已经尝试像在 NLTK 2.0 Cookbook 中那样做

```
import re
replacement_patterns = [
        (r'won\'t', 'will not'),
        (r'can\'t', 'cannot'),
        (r'i\'m', 'i am'),
        (r'ain\'t', 'is not'),
        (r'(\w+)\'ll', '\g<1> will'),
        (r'(\w+)n\'t', '\g<1> not'),
        (r'(\w+)\'ve', '\g<1> have'),
        (r'(\w+t)\'s', '\g<1> is'),
        (r'(\w+)\'re', '\g<1> are'),
        (r'(\w+)\'d', '\g<1> would'),
]
class RegexpReplacer(object):
    def __init__(self, patterns=replacement_patterns):
                self.patterns = [(re.compile(regex), repl) for (regex, repl) in patterns]

    def replace(self, line):
                s = line

                for (pattern, repl) in self.patterns:
                        (s, count) = re.subn(pattern, repl, s)

                return s 
```

它完美无缺，但我如何将它与我的 txt 文件一起使用？我试图做我自己的方式，但我认为这是错误的

```
 import nltk
f=open("C:/nltk_data/file.txt", "rU")
raw=f.readlines()
from replacers import RegexpReplacer
replacer=RegexpReplacer()
replacer.replace(raw) 
```

提前谢谢！！！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-26T14:50:52.510

我想您想先使用[read 方法](http://docs.python.org/tutorial/inputoutput.html)将所有文件内容读入一个字符串。

# c# - 如何在 C# 中的父用户控件的标签上显示字符串消息？

> ID：12599553
> 
> 赞同：0
> 
> 时间：2012-09-26T10:21:22.287
> 
> 标签：c#, user-controls

我的应用程序中有许多用户控件。其中一些是其他人的父控件。每个用户控件都有显示消息的标签。我想编写一个函数，如下所示：

```
public void ShowMessageInParent(UserControl control,string msg)
        { 
            //get 1st parent control and show message on its label.                   
        } 
```

我该怎么做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-26T10:32:29.310

我想你写了一个 CustomUserControl 女巫，里面有一个标签控件。

如果是这样，您应该使用

```
control.Parent.Controls.Find("Label", false); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-26T10:29:26.783

以下内容适用于 WPF 或 WinForms - 正如您所说的为时已晚，您正在谈论 ASP.NET：

我会创建一个事件`StatusMessageChanged`，其对应的类派生自`EventArgs`. 如果要更改消息，请调用事件。如果父控件已附加到事件，它可以评估参数并显示消息。

```
public class StatusMessageChangedEventArgs : EventArgs
{
    public StatusMessageChangedEventArgs(string message)
    {
        Message = message;
    }

    public string Message
    {
        get;
        private set;
    }
}

public event<StatusMessageChangedEventArgs> StatusMessageChanged;

protected void OnStatusMessageChanged(string message)
{
    if (StatusMessageChanged != null)
        StatusMessageChanged(this, new StatusMessageChangedEventArgs(message));
} 
```

# visual-c++ - 使用 SIFT 和 ORB 特征在 OpenCV 中训练 SVM 分类器

> ID：12599554
> 
> 赞同：4
> 
> 时间：2012-09-26T10:21:23.097
> 
> 标签：visual-c++, opencv, svm, sift

我正在尝试训练一个 SVM 分类器来识别一组 64x128 图像中的行人。我已经使用 HOG 功能完成了这项工作，现在我需要使用 SIFT 和 ORB 来实现相同的功能。对于 HOG 特征，我始终拥有相同数量的特征 (3780)，因此火车的矩阵是 image_number 乘以 3780。现在，使用 SIFT 提取器，我得到了不同大小的关键点。如何使用这些不同大小的关键点为分类器创建矩阵？

非常感谢您的帮助！

我解决了描述符的问题，将它们全部放在同一行。但是，我发现大多数描述符的值为 0，因此分类器无法正常工作。你知道我该如何解决这个问题吗？

这是一段代码：

```
DenseFeatureDetector detector;
SiftDescriptorExtractor descriptor;
vector<KeyPoint> keypoints;

//for every image I compute te SIFT
detector.detect(image, keypoints);
Mat desc;
descriptor.compute(image,keypoints, desc);
Mat v(1,30976,CV_32FC1);
    for (int j = 0; j<desc.rows; j++){
        for(int k = 0; k<desc.cols; k++){
            v.at<float>(0,128*j+k) = desc.at<float>(j,k);

        }
    } //now in vector v there are all the descriptors (the problem is that most of them have 0 value)

descriptormat.push_back(v);  //descriptormat is the cv::Mat that I use to train the SVM 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-04T03:16:05.460

通常，人们对 SIFT 或 ORB 特征进行矢量量化并构建直方图（词袋模型）。这将为每个训练和测试图像提供一个固定大小的向量。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-26T15:55:54.570

您可以创建一个大矩阵并 push_back 为每个图像计算的描述符。示例（未选中）

```
int main(int argc, char**argv)
{
    cv::SIFT sift;
    cv::Mat dataMatrix(0, 128, CV_32F); // 0 rows, 128 cols is SIFT dimension, I think there is a method that gives you the descriptor dimension exactly. type is 32F if I remember well, must check
    for (int i = 1; i < argc; ++i) {
      cv::Mat img = cv::imread(argv[i]);
      std::vector<cv::KeyPoints> kp;
      cv::Mat desc;
      sift(img, cv::noArray(), keypoints, desc);
      dataMatrix.push_back(desc);
    }

    // Now train SVM with dataMatrix
    assert(dataMatrix.rows > 0);
} 
```

# csrf-protection - 有没有办法记录某人对 Web 应用程序进行了 CSRF 攻击

> ID：12599558
> 
> 赞同：0
> 
> 时间：2012-09-26T10:21:34.930
> 
> 标签：csrf-protection

我了解 CSRF 的工作原理、工作原理以及如何缓解它。现在，我有一个 Web 应用程序，它容易受到 CSRF 的攻击，我想知道是否有人成功地对我的 Web 应用程序进行了 CSRF 攻击。如果有 CSRF，有没有办法记录它

谢谢苏西

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-26T10:27:25.090

只要您的应用程序本身不安全，没有比查看日志更好的机会，看看是否有来自未知站点/站点的引荐来源请求，这没有多大意义。但这仅在记录所有请求标头时才有效。

一旦你的应用程序是安全的，某处将是这样的代码

```
if is_csrf_attack
  log_csrf_attack
else
  go_on
end 
```

**编辑**：“没有多大意义”我的意思是你应该在不应该向你的网站发送请求的引荐来源标头中寻找 URL -> 这些网站调用你的 API/URL 没有多大意义。

# java - 如何处理 MapView 的 onClick 事件并打开 Google 地图应用程序？

> ID：12599560
> 
> 赞同：1
> 
> 时间：2012-09-26T10:21:46.450
> 
> 标签：java, android, android-mapview, android-maps, android-event

我的应用程序中有一个`MapView`。我已经让它按我的意愿工作，但我想处理所有`onClick`或等效的事件`MapView`并打开谷歌地图应用程序。

我读到我可以打开谷歌地图应用程序，但提出`Intent`这样的问题：

```
String uri = "geo:"+ latitude + "," + longitude;
startActivity(new Intent(android.content.Intent.ACTION_VIEW, Uri.parse(uri))); 
```

我怎样才能捕获我的上述事件`MapView`？我一直无法弄清楚这一点。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-26T10:39:29.280

您应该有一个`com.google.android.maps.Overlay`在您的活动中扩展的类并使用此类的`onTouchEvent()`方法。像这样：

```
class MyOverlay extends Overlay {

    @Override
    public boolean onTouchEvent(MotionEvent e, MapView mapView) {
         ....
    }
    ....
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-05T13:57:22.597

我使用了`onTap`这样的事件：

```
public boolean onTap(GeoPoint gptLocation, MapView mapMap) {

    String strCoordinates = String.format("%f,%f", gptCoordinates.getLatitudeE6() / 1E6, gptCoordinates.getLongitudeE6() / 1E6);
    String strUri = String.format("geo:%s?z=14", strCoordinates);
    Intent ittMap = new Intent(android.content.Intent.ACTION_VIEW, Uri.parse(strUri));
    ittMap.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
    this.ctxContext.startActivity(ittMap);
    return false;

} 
```

# ios5 - 如何在ios6中匹配ios5 max zoomlevel MKMapView

> ID：12599565
> 
> 赞同：1
> 
> 时间：2012-09-26T10:21:57.657
> 
> 标签：ios5, mkmapview, ios6

似乎最大缩放级别（您可以看到最大细节）在 iOS 6 上有所不同；我无法像在 iOS 5 中那样接近表面。

有人知道在 iOS6 中匹配 iOS 5 的最大缩放级别的方法吗？

如果我设置 delta lon/lat 0.000001、0.000001 的跨度（远远超出最大缩放限制）

我从 mapview.region.span 得到这些结果

```
// ios 5: actual span after zoom 0.002747, 0.001277
// ios 6: actual span after zoom 0.003460, 0.001608 
```

Google 支持的下一个可匹配缩放级别是：

```
// actual span after zoom 0.005493, 0.002553 
```

这是一个相当大的跳跃。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-08T14:46:49.673

我在 iOS 6 上遇到了同样的问题，但找不到解决方法。刚刚安装了 Xcode 4.6 DP1 并使用 Simulator 6.1 测试了我的应用程序。Max zoomlevel 现在似乎（几乎）相同。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-01-23T12:32:19.650

以下帖子描述了 iOS 7 及更高版本的解决方案：

[如何在 iOS MKMapView 上达到最大缩放级别](https://stackoverflow.com/questions/19658329/how-to-get-to-the-max-zoomlevel-on-ios-7-mkmapview)

它使用 MKMapCamera 来确定缩放级别。

# python - webapp2如何获取复选框值，并且名称相同？

> ID：12599566
> 
> 赞同：0
> 
> 时间：2012-09-26T10:22:02.543
> 
> 标签：python, webapp2

webapp2 如何从 jinja2 模板中获取复选框值，并且名称相同？数据结构是 Dict 吗？怎样才能得到它并通过它？

html模板：

...

```
{% for tablename in tablenames %}
<input type = "checkbox" name = "tn">{{tablename}}
{% endfor %} 
```

...

主要.py：

```
tn = self.request.get('tn') 
```

谢谢你们 ： ）

如何获取复选框值并将其传递给 tn ？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-26T10:45:43.843

我认为您的模板应该是...

```
{% for tablename in tablenames %}
    <input type="checkbox" name="tn" value="{{ tablename }}" />
{% endfor %} 
```

并且代码应该是（我相信在 WebApp2中`.GET`也可以处理vars）：`.POST`

```
tn = self.request.GET['tn'] 
```

# unix - 使用带有错误文件的 Unix 发送邮件

> ID：12599568
> 
> 赞同：0
> 
> 时间：2012-09-26T10:22:12.153
> 
> 标签：unix, grep, xargs, mailx

我有两个文件 (.csv)和`File1.csv`记录，在 Informatica 作业结束时生成。`File2.csv``'INVALID'`

我正在使用以下命令搜索文件名`'INVALID'`，然后如果其中一个文件有`'INVALID'`记录，我必须邮寄该特定文件，如果两者都有无效记录，则必须将这两个文件邮寄给用户。

```
$ grep -il "invalid" File1.csv File2.csv | xargs -I'{}' uuencode {} | mailx -s"files" mymail@gmail.com 
```

我收到附有两个文件但没有记录的邮件。

我还尝试使用 -a 附加文件：

```
$ grep -il "invalid" File1.csv File2.csv | xargs -I'{}' mailx -s"files" -a {} mymail@gmail.com 
```

但是上面的命令抛出错误：

```
mailx: illegal option -- a
Usage: mailx -eiIUdFntBNHvV~ -T FILE -u USER -h hops -r address
             -s SUBJECT -f FILE users 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-26T21:04:04.693

我认为其中的选项 `grep` 是您出错的地方。“l”（小 L）选项用于打印文件名而不是文件内容，基于 grep man：

```
 -l, --files-with-matches
      Suppress normal output; instead print the  name  of  each  input
      file  from  which  output would normally have been printed.  The
      scanning will stop on the first match. 
```

因此，如果您只是从第一个命令中删除“-l”，我认为它会通过电子邮件向您发送您需要的文件内容，因此命令如下：

```
$ grep -il "invalid" File1.csv File2.csv | xargs -I'{}' uuencode {} | mailx -s"files" mymail@gmail.com 
```

# python - Django-SocialRegistration 中的 KeyError

> ID：12599586
> 
> 赞同：0
> 
> 时间：2012-09-26T10:23:24.680
> 
> 标签：python, django

我正在使用 django-socialregistration，但我得到了 KeyError。

我在 view.py 上的代码如下：

```
def login_new(request):
    return render_to_response(
        'login_new.html', dict(
        facebook=FacebookProfile.objects.all(),
        twitter=TwitterProfile.objects.all(),
        openid=OpenIDProfile.objects.all(),
        linkedin=LinkedInProfile.objects.all(),
        github=GithubProfile.objects.all(),
        foursquare=FoursquareProfile.objects.all(),
        tumblr=TumblrProfile.objects.all(),
        instagram=InstagramProfile.objects.all(),
        ), context_instance=RequestContext(request)) 
```

并在模板文件（login_new.html）上

```
<html>
<head><title></title></head>
<body>

{% load openid %}
{% openid_form 'https://www.google.com/accounts/o8/id' 'login/with/google.png' %}

</body>
</html> 
```

错误发生在

```
{% openid_form 'https://www.google.com/accounts/o8/id' 'login/with/google.png' %} 
```

并在 /usr/lib/python2.7/site-packages/django/core/handlers/base.py 中

```
get_response response = callback(request, *callback_args, **callback_kwargs) 
```

在[文档的会话注释部分](http://django-socialregistration.readthedocs.org/en/latest/installation.html#note-on-sessions)，有以下声明：

“开始注册过程时，所有用户的临时数据都存储在用户的会话中。如果您在 127.0.0.1:8000 上开发，则必须将回调 URL 也设置为以 127.0.0.1:8000 开头，否则您返回站点时将获得一个新会话，并且 socialregistration 将无法找到临时数据并随后引发 KeyError。”

我认为这可能是这个错误的原因，但我不知道我能从这个声明中做些什么。我可以修改哪个文件？我可以执行什么命令？

提前致谢 ：）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-26T10:29:40.603

确保默认站点（来自[站点框架](https://docs.djangoproject.com/en/dev/ref/contrib/sites/)）指向`http://127.0.0.1:8000/`. 它默认为`www.example.com`.

# doctrine-orm - 教义用 getOneOrNullResult 抛出异常

> ID：12599596
> 
> 赞同：1
> 
> 时间：2012-09-26T10:24:10.560
> 
> 标签：doctrine-orm

Doctrine 抛出 Doctrine\ORM\NonUniqueResultException，代码如下：

```
$qb->select('a')
   ->from('TblGames', 'a')
   ->leftJoin('a.categories', 'b')
   ->leftJoin('a.user', 'c')
   ->where("a.gamId = $gid");
   ->andWhere("a.gamStatus = '1'");

$game = $qb->getQuery()->setHydrationMode(Doctrine\ORM\Query::HYDRATE_ARRAY)->getOneOrNullResult(); 
```

即使我尝试更改 ->getResult 也只返回 1 个结果。

* * *

**答：这是我的错误：$qb->select('a, b, c')**

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-09-26T14:16:54.883

你必须使用 setMaxResults(1)

# sql-server - SQL Server sysadmin 用户服务器角色

> ID：12599597
> 
> 赞同：0
> 
> 时间：2012-09-26T10:24:13.510
> 
> 标签：sql-server, sysadmin, rights-management

是否可以使用没有系统管理员服务器角色的用户从 VB.NET 应用程序读取/写入 SQL Server 2005 数据库？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-26T10:47:37.693

要读取数据库中的所有表，有一个名为 db_datareader 的数据库角色。要从数据库中的所有表中插入/更新/删除，有一个名为 db_datawriter 的数据库角色。

用户需要在实例级别映射到登录名，但不需要服务器角色，尤其是不需要 sysadmin。

# c# - 使用 c# 从 asp.net 母版页中的文本框获取文本到 contentpage

> ID：12599598
> 
> 赞同：1
> 
> 时间：2012-09-26T10:24:13.790
> 
> 标签：c#, asp.net

我有一个母版页和一个内容页。在我的母版页中，我有一个文本框、一个按钮和一个内容占位符。目的是使用用户在母版页中的文本框中输入的文本更改内容页中的文本（不分配到任何字段，只是内容页的文本/内容）。这是问题所在

即使我更改了文本框中的文本并单击了按钮，上一个文本也已更新，并且内容页面中没有任何更改...这是我在母版页中的代码

```
public partial class example : System.Web.UI.MasterPage
{
    FileInfo fil = new FileInfo("c:/documents and settings/administrator/my documents/visual studio 2010/Projects/WebApplication1/WebApplication1/contentpage.aspx");
    protected void Page_Load(object sender, EventArgs e)
    {
        contenttext.Text = File.ReadAllText(fil.ToString());
    }

    protected void clicked_Click(object sender, EventArgs e)
    {
        File.WriteAllText(fil.ToString(),this.contenttext.Text);
        Response.Redirect("contentpage.aspx");
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-26T11:06:22.867

```
// Gets a reference to a TextBox control that not in 
// a ContentPlaceHolder
Textbox txt = (Textbox) Master.FindControl("masterPageLabel");
if(txt != null)
{
    Textbox1.Text = Textbox2.Text;
} 
```

试试这个，然后点击后面代码中的按钮

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-04-05T19:26:33.767

**//.aspx页面**

这是 .cs page protected void Page_Load(object sender, EventArgs e) { for (int i = 1; i <= 5; i++) { TextBox tb = new TextBox(); tb.ID = "文本框" + i.ToString(); tb.Attributes.Add("runat", "server"); MyPanel.Controls.Add(tb); } }

```
 protected void btnReadTextBoxValue_Click(object sender, EventArgs e)
    {
        for (int i = 1; i <=5; i++)
        {
//Append the master page content place holder id with textbox then it find value and      work
            string str ="ctl00$ContentPlaceHolder3$"+"textbox" + i.ToString();
            TextBox retrievedTextBox = FindControl(str) as TextBox;
        if (retrievedTextBox != null)
        {
            lblResult.Text = ((TextBox)retrievedTextBox).Text;
            break;
        }
        else
        {
            lblResult.Text = "No text box has been created!";
        }

        } 
```

# php - htaccess 的目录特定问题

> ID：12599601
> 
> 赞同：2
> 
> 时间：2012-09-26T10:24:25.397
> 
> 标签：php, html, .htaccess

我有一个站点，其中包含以下文件夹

testing1 及其子文件夹：

我的文件夹

我的文件夹2

我的文件夹3

这是它的 .htaccess 文件：

```
 AddType application/x-httpd-php .html .htm
   php_value auto_append_file testing1.php 
```

这适用于主目录，但是如何从单个 .htaccess 文件中进行更改，而不必在每个目录中放置一个（我现在使用 cPanel 并复制并粘贴它们）。

目录 myfolder2 包含在 AXMAG 中创建的多页翻书（从 PDF 转换），这是一个翻书软件（还不能发布链接 - 但在 Google 上查找）。我想保持文件完好无损，但同时将站点通知附加到它们，即：

```
© My company here 2012\. Content copyrighted 
```

如何为自动附加和添加类型的 html .htm 执行每个目录的 .htaccess。

顺便说一句，当我将 .htaccess 放入时，myfolder2 在 HTML 页面上变为空白 - 我做错了什么？不过其他目录没有问题。

我会很感激这方面的任何帮助，虽然我可以做 htaccess 有一些我还是新手。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-26T12:12:28.717

.htaccess 通常通过级联目录来工作。如果您想充分利用它们，最易于维护的方法可能是在目录的顶层创建一个应用程序范围的 .htaccess 文件，然后根据您正在寻找的 .htaccess 功能将其他所有内容分组到子文件夹中。例如有类似的东西：

```
app/
  .htaccess <-- App wide settings
  php/
    .htaccess <-- PHP section settings which modify app-wide
    scripts/ <-- Some PHP settings here
  html/
    .htaccess <-- HTML section settings which modify app-wide
    pages/ 
    embeds/ 
```

# makefile - make 文件中的 $ 有什么作用？

> ID：12599603
> 
> 赞同：1
> 
> 时间：2012-09-26T10:24:28.780
> 
> 标签：makefile

我有一个示例 make 文件，其规则如下。我只是想知道这个有什么`$`用`$*.c`

我不确定它是否也是我的谷歌搜索所指向的宏。任何建议都是有帮助的。谢谢！

```
insert.o:   insert.c
    $(CC) $(DBUG) -c $*.c 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-26T10:31:40.510

`$*`通常是在隐式规则中匹配的词干。有关更多详细信息，请参阅[http://www.gnu.org/software/make/manual/html_node/Automatic-Variables.html](http://www.gnu.org/software/make/manual/html_node/Automatic-Variables.html)上的 gnu make special variables 。

对于像您这样的显式规则，没有词干，因此`$*`评估源文件减去扩展名，即 ，`insert`假设扩展名是可识别的。否则，它评估为无。

# php - Zend getParameters 不返回 url 路由中的内容

> ID：12599606
> 
> 赞同：0
> 
> 时间：2012-09-26T10:24:41.700
> 
> 标签：php, zend-framework

我有一个连接到 Zend 应用程序 API 的 iOS 应用程序。用户登录时，url和requests如下：

`url http://www.mydomain.com:82/user/login/user@gmail.com/40.636518/3.632524` `<NSMutableURLRequest http://www.mydomain.com:82/user/login/user@gmail.com/40.636518/3.632524>`

我们在哪里有用户电子邮件和纬度和经度。另外，我通过一个参数发送用户密码：

`password=sha1password0123456789&`

这些是我的路线：

```
routes.userlogin.route = '/user/login/:email/:latitude/:longitude'  
routes.userlogin.defaults.controller = user  
routes.userlogin.defaults.action = login 
```

这是控制器的代码：

```
...
$data = $this->getRequest()->getParams();
/* Here I print the $data object */
... 
```

因此，有时我将其作为 $data 接收（这没关系）：

```
Array(    
    [email] => user@gmail.com    
    [latitude] => 40.636518    
    [longitude] => 3.632524    
    [controller] => user    
    [action] => login    
    [password] => sha1password0123456789) 
```

还有一些时候，我得到了这个（这会导致登录崩溃）：

```
Array(    
    [controller] => user    
    [action] => login    
    [user@gmail.com] => 40.636301    
    [module] => default    
    [password] => sha1password0123456789) 
```

我是否以正确的方式检索参数？它通过 POST 方法完成的事务，我想我正在运行 ZendFramework-1.11.11。

编辑：AFAIK 这应该不是问题，但是上次崩溃的位置与正常的请求不同：

`http://www.mydomain.com:82/user/login/user@gmail.com/40.636518/3.632524` 对比 `http://www.mydomain.com:82/user/login/user@gmail.com/40.636301/3.632206`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-18T07:02:41.610

我已经解决了这个问题，这是一个问题`memcached`。我的应用程序目前正在与其他人共享同一个测试服务器，它似乎因为`Zend_Cache`缺少该`cache_id_prefix`属性而崩溃。

添加以下行以`AppPlugin.php`解决问题：

```
$frontendOpts = array(
            'caching' => true,
            'lifetime' => 1800,
            'automatic_serialization' => true,
            'cache_id_prefix'=>'APPLICATIONNAME_' // This solved the problem
            );
....
$cache = Zend_Cache::factory('Core', 'Memcached', $frontendOpts, $backendOpts); 
```

此行强制`memcached`来自**APPLICATIONNAME**的所有调用具有特定前缀，并防止位于同一服务器下的应用程序之间出现问题。

# android - Android - 重新建立连接时执行http请求

> ID：12599608
> 
> 赞同：0
> 
> 时间：2012-09-26T10:24:49.047
> 
> 标签：android, http, service, http-request

Iy Android 应用程序，当用户单击注销按钮时，我需要发送一个 http 请求，从推送通知服务中注销该用户。

当没有互联网连接时，用户可能会单击该按钮。在这种情况下，用户应注销，并在重新建立 Internet 连接时执行注销 http 请求。如果在执行请求时出现错误代码，则应再次发送。

是否有任何开源库可以开箱即用地启用此类功能？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-26T10:36:44.613

`"isAboutToUnregister":true`当用户单击取消注册时，您可以在共享首选项中放置一个标志。然后在取消注册完成后将其设置为`false`或删除它。

然后您可以检查它`onResume`并在 is 时执行注销操作`true`。

你不搞乱广播，你不搞乱服务。

您甚至可以在成功推送时检查标志。（这意味着用户在线，然后可以进行注销过程）

# youtube-api - 评论限制和嵌套评论

> ID：12599609
> 
> 赞同：1
> 
> 时间：2012-09-26T10:25:00.183
> 
> 标签：youtube-api

我使用 java Youtube api 从一个视频中提取评论，但我遇到了一些问题。事实上，我想一次性下载与某个特定视频相关的所有评论。有可能这样做吗？在我看来，有 25 条评论的限制。你能告诉我为了克服这个限制而必须改变的属性吗？

另一个问题请：我也有一个问题来识别对其他评论的回复的评论，可以检查一下。

我使用 Eclipse 编辑器。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-26T16:45:44.857

默认情况下，YouTube API 提要返回每个页面包含 25 个条目。[https://developers.google.com/youtube/2.0/developers_guide_java#Pagination](https://developers.google.com/youtube/2.0/developers_guide_java#Pagination)解释了使用 Java 客户端库处理分页的正确方法

回应另一条评论的评论将有一个

`<link rel="http://gdata.youtube.com/schemas/2007#in-reply-to" ...>`

如[https://developers.google.com/youtube/2.0/developers_guide_protocol_comments#Retrieve_comments中所述](https://developers.google.com/youtube/2.0/developers_guide_protocol_comments#Retrieve_comments)

# android - android中的图像按钮样式

> ID：12599610
> 
> 赞同：6
> 
> 时间：2012-09-26T10:25:01.467
> 
> 标签：android, button

嗨，我对 android 中的图像按钮选项感到困惑。我用以下 xml 创建了三个图像按钮

```
<ImageButton
        android:id="@+id/imageButton1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentRight="true"
        android:src="@drawable/folder_add" />

    <ImageButton
        android:id="@+id/imageButton4"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignTop="@+id/imageButton1"
        android:layout_toLeftOf="@+id/imageButton1"
        android:src="@drawable/search" />

    <ImageButton
        android:id="@+id/imageButton2"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignTop="@+id/imageButton4"
        android:layout_toLeftOf="@+id/imageButton4"
        android:src="@drawable/advancedsettings" 
        style="?android:attr/borderlessButtonStyle" /> 
```

但是输出就像按钮上带有图像的..请帮助我将图像仅显示为按钮..Thnx 提前！

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-09-26T10:26:17.470

把这个标签放在你的`ImageButton`

```
android:background="@null" 
```

这会做到的。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-09-26T10:29:51.403

您也可以使用透明颜色：这将解决您的问题。

```
android:background="@android:color/transparent" 
```

# java - java - obj.notify() 似乎不起作用

> ID：12599611
> 
> 赞同：1
> 
> 时间：2012-09-26T10:25:02.913
> 
> 标签：java, multithreading, synchronization, deadlock, notify

在我的 java 代码中， threadB 创建*nb* *threadA 并等待*myobj*的值等于*nb*。 *myobj*最初等于 0 并且每个 threadA 递增它，当它等于*nb*时，最后一个 threadA 通知 ThreadB。

运行程序时，不会通知 threadB 并且不会继续运行。谁能告诉我这段代码的问题在哪里？

```
public class Myclass {
    static Long myobj = new Long(0);
    static int nb = 1;

    public static void main(String[] args) {

        ThreadA[] threadA = new ThreadA[nb];
        ThreadB threadB = new ThreadB(threadA);
    }
}

public class ThreadA extends Thread {
    public ThreadA() {
        this.start();
    }

    public void run() {
        // do lot of computation
        Myclass.myobj = Myclass.myobj + 1;
        if (Myclass.myobj.intValue() == Myclass.myobj.nb) {
            synchronized (Myclass.myobj) {
                Myclass.myobj.notify();
            }
        }
    }
}

public class ThreadB extends Thread {
    ThreadA[] threadA;

    public ThreadB(ThreadA[] threadA) {
        this.threadA = threadA;
        this.start();
    }

    public void run() {
        for (int i = 0; i < threadA.length; i++) {
            threadA[i] = new ThreadA();
        }

        synchronized (Myclass.myobj) {
            while (Myclass.myobj.intValue() != Myclass.myobj.nb) {
                Myclass.myobj.wait();
            }
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-09-26T10:35:21.163

我对所有可能出错但没有引起问题的事情感到困惑。

真正的问题是

```
if (Myclass.myobj.intValue() == Myclass.myobj.nb) 
```

永远不会是真的，因为每次这被称为`myobj`<`nb`

* * *

我将如何编写这段代码？

```
int nb = ....

ExecutorService es = Executors.newFixedThreadPool(nb)
for (int i = 0; i < nb; i++)
    es.submit(new Runnable() {
        @Override
        public void run() {
            // do lot of computation
        }
    });
es.shutdown();
es.awaitTermination(1, TimeUnit.HOURS); 
```

* * *

这里有很多需要改进的地方，我觉得有必要列出来

*   使用正确的格式。
*   确实提供可能编译的代码
*   不要锁定可变字段。这不会像您期望的那样，因为您每次都会锁定不同的对象。
*   `Long`当你打算使用时不要使用`long`. 在这种情况下，您似乎想要使用`int`.
*   不要创建，`new Long(0)`因为您可以使用更有效的自动装箱。如果您这样做，请不要将其用作锁定对象。
*   不要`static`在线程之间使用可变字段。
*   不要延长`Thread`。创建一个传递给线程的 Runnable。
*   不要在构造函数中启动线程。
*   不要使用数组将线程传递给另一个线程。尤其是在该线程启动之前不会设置它。
*   仅读取/检查同步块内的受保护值。
*   我不会使用一个线程来创建另一个传递回原始线程的线程。

但是，您的基本问题是您正在等待与您正在通知的对象不同的对象。

```
synchronized(Myclass.myobj){ // lock the object you might be waiting on.
    Myclass.myobj=Myclass.myobj+1; // change this to another object.
    Myclass.myobj.notify(); // notify a different object.
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-26T10:34:01.387

您正在等待一个对象，并通知另一个对象，因为 ThreadA 将一个新对象分配给 Myclass.myobj 并通知这个新对象。

使用专用的锁定对象，并确保对 myObj 的每次访问都受到此锁定对象的保护。

或者更好的是，使用 java.util.concurrent 包中的更高级别的并发抽象。

# struts2 - 使用struts2迭代器标签在jsp中获取会话变量

> ID：12599612
> 
> 赞同：1
> 
> 时间：2012-09-26T10:25:05.443
> 
> 标签：struts2

嗨，我正在尝试从我的 jsp 中的会话中迭代列表。该列表包含复杂对象

我的代码如下所示

```
<s:if test="#session.rideDetails != null">    
    <s:iterator value="#session.rideDetails" status="ride123">
       <s:textfield name='test' value='<s:property value="#ride123.index"/>'></s:textfield>
       <s:textfield name='test1' value='<s:property value="#ride123.route.location.name"/>'></s:textfield>
   </s:iterator>
</s:if> 
```

但是我没有得到预期的结果，上面的代码中是否有任何语法错误？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-26T12:07:21.307

尝试这个：

```
<s:if test="#session.rideDetails != null">    
    <s:iterator value="#session.rideDetails" status="stat" var="ride">
       <s:property value="#stat.index"/>
       <s:property value="#ride.route.location.name"/>
   </s:iterator>
</s:if> 
```

您应该检查两点：

1.  `rideDetails`会话中有一个吗？
2.  使用该`var`属性来捕获每个骑行对象。

（该`var`属性不是必需的，但可以帮助保持清晰。）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-27T21:14:37.730

你不能在 Struts2 标签内有嵌套标签，所以不要

```
<s:textfield name='test' value='<s:property value="#ride123.index"/>'></s:textfield> 
```

利用

```
<s:textfield name="test" value="%{#ride123.index}" /> 
```

# objective-c - 两个不同线程上的两个 NSManagedObjectContext 可以同时保存（持久到磁盘）吗？

> ID：12599617
> 
> 赞同：0
> 
> 时间：2012-09-26T10:25:22.663
> 
> 标签：objective-c, core-data

Objective C 大师，我有一个简单的问题要问：

我现在有两个不同的线程在后台运行，每个线程都有一个`NSManagedObjectContext`分配的。

现在，问题是：同时`NSManagedObjectContext`使用公共/共享的两个保存 [persist to disk]是否安全`NSPersistentStoreCoordinator`？

换句话说，两个不同的后台线程可以同时持久化到磁盘吗？

非常感谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-26T11:12:08.230

`NSPersistentStoreCoordinator`不是线程安全的，但您不必担心。A`NSManagedObjectContext`知道如何在使用存储时（在保存期间）锁定存储。

因此，拥有多个共享同一个商店的上下文是正确的。这是[App Store 文档](http://developer.apple.com/library/mac/#documentation/cocoa/Conceptual/CoreData/Articles/cdConcurrency.html)中推荐的方法：

> 为每个线程创建一个单独的托管对象上下文并共享一个持久存储协调器。

希望有帮助。

# c#-4.0 - .Net 4.0 Office 2007 插件 MSI 安装

> ID：12599619
> 
> 赞同：2
> 
> 时间：2012-09-26T10:25:39.873
> 
> 标签：c#-4.0, vsto, outlook-addin, outlook-2007

我创建了一个 .Net 4.0 (x86) Office 2007 (32-bit) Outlook 插件。制作插件是容易的部分，制作安装程序有点乏味。

在对 VSTO 以及如何为其创建 MSI 进行了一些研究之后，我（以及其他几个开发人员进行验证）遵循了[“使用 Windows Installer 为 Office 解决方案部署 Visual Studio 2010 工具”](http://msdn.microsoft.com/en-us/library/ff937654.aspx)，手动检查了[“部署 VSTO 2010 解决方案”对于使用 Windows 安装程序的 Office 2007/2010”](http://archive.msdn.microsoft.com/VSTO2010MSI/Release/ProjectReleases.aspx?ReleaseId=4539)。我还进行了一些研究，例如测试[“如何分配 Excel VSTO 安装的装配位置？”](https://stackoverflow.com/questions/11535707/how-do-you-assign-the-assembly-location-of-an-excel-vsto-installation) 还有更多，我不记得一切。

所有必需的依赖项都已得到处理，手动双击 .vsto 文件即可成功安装它，并且用户可以使用它。（查看 Process Monitor 这似乎使用 SideBySide 安装，找不到与 Microsoft 指令指示的相同注册表项的任何使用。）

但是 MSI 安装仍然无法正常工作。它可以正常安装并按预期注册注册表项，但在 Outlook 启动时未加载插件。

根据文档正确编写了[VSTO 注册表项。](http://msdn.microsoft.com/en-us/library/bb386106.aspx)该插件似乎已在 Outlook（信任中心）中注册，我可以在那里手动启用它。但是，在手动激活 Outlook 后重新启动 Outlook 时，[LoadBehavior](http://msdn.microsoft.com/en-us/library/bb386106.aspx#LoadBehavior)注册表项从 3（已加载，启动时加载）更改为 0（已卸载，不自动加载）。插件在任何时候都没有注册（它应该注册一个工具栏+按钮）。

如何让 MSI 工作？

为什么指南不起作用？（.Net 4.0 中的变化？与 Office 2007 不兼容？只是完全错了吗？）

如何调试实际出了什么问题？我在事件日志中找不到任何有用的东西。

（PS！手动安装不是一个选项。文件必须自动部署到大量计算机。）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-21T09:18:55.020

我最终创建了一个 NSIS 安装程序，在其中执行带有静默标志的 vstoinstaller 来安装 VSTO。我还使用了有效的证书来签署二进制文件并（以编程方式）在 vstoinstall 之前的安装阶段将证书添加到受信任的存储区，以绕过 -300 错误代码。

# ios6 - ios 6 旋转后模态视图大小不正确

> ID：12599621
> 
> 赞同：3
> 
> 时间：2012-09-26T10:25:48.000
> 
> 标签：ios6, modalviewcontroller

我们有一个 ipad 应用程序，它支持横向左右方向。

```
- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation {
    // Overriden to allow any orientation.
    return (interfaceOrientation == UIInterfaceOrientationLandscapeLeft || interfaceOrientation == UIInterfaceOrientationLandscapeRight);
} 
```

我们通过调用将视图控制器显示为模态视图

```
childController.modalPresentationStyle = UIModalPresentationPageSheet;
    childController.modalTransitionStyle = UIModalTransitionStyleCoverVertical;
[parentController presentViewController:childController animated:childController.animated completion:^{
        childController->isBeingShowed = FALSE; 
```

当我们显示一个模式视图时： RootViewController(FullScreen)->SelectOption(500, 500) 旋转工作正常并且选择选项视图控制器具有它的原始大小。

当我们显示附加模式视图时：RootViewController(FullScreen)->SelectOption(500, 500)->Additional options(300, 300)，旋转后 SelectOption 视图控制器大小更改为全屏，而 AdditionalOptions 视图控制器保持指定的大小.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-27T08:50:38.107

小技巧解决了这个问题。

问题的根源在于，我将第一个模态视图作为 PageSheet 打开，当我从第一个模态视图打开第二个模态视图时，我得到了 MainView(FullScreen)，模态视图作为页面表打开，第二个页面表从上一个打开页表。这种架构导致了旋转问题。

**技巧：**现在我将第二个模态视图作为 FormSheet 打开，并重新计算坐标以对应 PageSheet 坐标系。所以现在它看起来像这个 MainView->PageSheet->FormSheet 并且问题已解决。

对不起，没有代码。

# ajax - 使用 Jackson 解析器在 Spring MVC 中映射 JSON 数据

> ID：12599625
> 
> 赞同：2
> 
> 时间：2012-09-26T10:25:54.723
> 
> 标签：ajax, post, spring-mvc, jackson, spring-3

客户端代码：

```
$.ajax({
        type: "POST",
        url: "../web/zittles",
        data: jsonformatdata,
        contentType: "application/json",
        dataType: "json",
    success: function(data)
        {
        alert("data from server : "+data);
        },
        error: function(jqXHR, textStatus, errorThrown)
        {
            alert("jqXHR.status = "+jqXHR.status); //getting status code 400 here
        }        
}); 
```

输出json数据：

```
{
        "id": 1,
        "No": "1234",
        "Desc": "Testing"
} 
```

Java类：

```
public class Fizzle implements Serializable
{
    private String id;
    private String No;
    private String Desc;
    // getters and setters 
} 
```

弹簧 3 控制器：

```
@RequestMapping(value = '/zittles', method = RequestMethod.POST, headers ="Content-Type=application/json")
    public @ResponseBody void doSomeThing (@RequestBody Fizzle fizzle) {

        //do something here
} 
```

app-servlet.xml 有

```
<mvc:annotation-driven/> 
```

Tomcat的/lib文件夹有

```
jackson-core-lgpl-1.9.10.jar
jackson-mapper-lgpl-1.9.10.jar 
```

收到状态码 400 错误 -

```
"The request sent by the client was syntactically incorrect" 
```

当我如下所示更改控制器代码时，它将 json 数据作为字符串。

```
public @ResponseBody void doSomeThing (@RequestBody String fizzle) {} 
```

理想情况下，杰克逊应该自动将 json 数据映射到 Fizzle 对象。

我在这里想念的是什么。要正确配置 Jackson 解析器，还需要做些什么吗？

请帮忙。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-26T13:47:26.530

Id 必须是 long 或 int，而不是 String

```
 private int id; 
```

**编辑**

也许试试这个 JSON：

```
{
        "id": 1,
        "no": "1234",
        "desc": "Testing"
} 
```

并在 Fizzle 类中将属性更改为小写

**Edit2** 测试这是 Jakson 问题还是 Spring 问题。将您的 JSON 保存到文件并尝试将其转换为对象：

```
ObjectMapper mapper = new ObjectMapper();
Fizzle fizzle = mapper.readValue(new File("c:\\fizzle.json"), Fizzle .class); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T12:18:51.620

我正在回答我自己的问题，因为它对我有用。感谢“真空”给我方向。我正在使用 List，因为我正在接收一组 json 数据。

```
@JsonTypeName
@RequestMapping(value = '/zittles', method = RequestMethod.POST, headers ="Content-Type=application/json")     
public @ResponseBody void doSomeThing (@RequestBody String fizzles) 
{          
     //do something here
     ObjectMapper mapper = new ObjectMapper();
     ArrayList list = mapper.readValue(new StringReader(fizzles), ArrayList.class);
     List<Fizzle> fizzles1 = mapper.convertValue(list, new TypeReference<List<Fizzle>>() {});
} 
```

# java - Maven项目中测试资源的公共位置

> ID：12599626
> 
> 赞同：2
> 
> 时间：2012-09-26T10:25:55.507
> 
> 标签：java, spring, maven, testng

我正在准备一个测试环境。对于我的项目。
我有一堆 Maven 项目，其中一些项目使用通用配置进行 Spring bean 测试（**test-context.xml**）。`src\test\resources`当我在每个项目中都有此配置时，所有测试都有效。当我想将该配置移动到单独的项目（**project-test**）以消除每个项目中的重复项时，我得到一个异常：

```
Caused by: java.io.FileNotFoundException: class path resource [test-context.xml] cannot be opened because it does not exist
    at org.springframework.core.io.ClassPathResource.getInputStream(ClassPathResource.java:157)
    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:328)
    ... 39 more 
```

*   我在带有测试的项目中添加了一个 Maven 依赖**项到项目**测试
*   **test-context.xml**没有进入**目标**目录
*   当我投入资源`src/main/resources`而不是`src/test/resources`它起作用时

从另一个项目添加测试资源以便在 TestNG 测试中可见的方法是什么？
在这种情况下将其移至`src/main/resources`最佳方式吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-26T10:31:04.910

您不能简单地依赖项目测试并期望资源`src/test/resources`通过。您将需要从您的`project-tests`项目中构建一个测试 JAR。幸运的是，这很简单，并且在另一个 SO 线程[Maven 中的共享测试代码中得到了很好的解释](https://stackoverflow.com/questions/174560/sharing-test-code-in-maven)

基本思想是`project-tests`使用分类器生成一个测试 jar 文件，然后将其用作项目中的依赖项。这种方法是您尝试做的最佳实践。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-26T11:53:09.177

Ramsinb 解决方案是正确的。但是，如果您只处理资源，则更喜欢为此设计更好的程序集，并共享一个 zip。

*   Here指南：[多个独立maven项目的通用测试数据](https://stackoverflow.com/questions/2970120/common-test-data-for-multiple-independent-maven-projects)
*   这里有一个例子（见我的回答）：[Maven - Depend onassembled zip](https://stackoverflow.com/questions/12298178/maven-depend-on-assembled-zip/12299646#12299646)

## 邮编项目：

**pom.xml**

```
<groupId>com.mycompany</groupId>
<artifactId>cfg_dev</artifactId>
<version>1.1.0</version>

<build>
    <plugins>
        <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-assembly-plugin</artifactId>
            <executions>
                <execution>
                    <id>cfg-main-resources</id>
                    <goals>
                        <goal>single</goal>
                    </goals>
                    <phase>package</phase>
                    <configuration>
                        <descriptors>
                            <descriptor>/src/main/assembly/resources.xml</descriptor>
                        </descriptors>
                    </configuration>
                </execution>
            </executions>
        </plugin>
    </plugins>
</build> 
```

**程序集描述符：** 它将产生这个工件：cfg_dev-1.1.0-resources.zip 请注意

1.  这是一个 zip 存档
2.  “分类器”是资源（如程序集名称）

    资源 zip false src/main/resources

## 主要项目：

**pom.xml**

请注意，

1.  这取决于一个 zip 存档
2.  依赖“分类器”是资源（如以前的程序集名称）

    ```
    <!-- Unit test dependency -->
    <dependency>
        <groupId>com.mycompany</groupId>
        <artifactId>cfg_dev</artifactId>
        <version>${project.version}</version>
        <classifier>resources</classifier>
        <type>zip</type>
        <scope>test</scope>
    </dependency>

    ... 
    ```

    src/test/resources true ${project.build.directory}/test-resources true

    ```
    <plugins>

        <!-- Unzip shared resources -->
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-dependency-plugin</artifactId>
            <executions>
                <execution>
                    <id>unpack-cfg-test-resources</id>
                    <goals>
                        <goal>unpack-dependencies</goal>
                    </goals>
                    <phase>generate-test-resources</phase>
                    <configuration>
                        <outputDirectory>${project.build.directory}/test-resources</outputDirectory>
                        <includeArtifacIds>cfg_dev</includeArtifacIds>
                        <includeGroupIds>${project.groupId}</includeGroupIds>
                        <excludeTransitive>true</excludeTransitive>
                        <excludeTypes>pom</excludeTypes>
                        <scope>test</scope>
                    </configuration>
                </execution>
            </executions>
        </plugin>
      </plugins> 
    ```

# text - 如何在 postscript 文件中写入弧形文本

> ID：12599627
> 
> 赞同：2
> 
> 时间：2012-09-26T10:25:55.267
> 
> 标签：text, postscript

我有这个，但我想要像弧一样的文本对齐。可能吗？

```
 /outputtext {
       /data exch def
       /rot exch def
       /xfont exch def
      /y1 exch def
     /x1 exch def
    /Times-Roman findfont
    xfont scalefont
    setfont
    x1 y1 moveto
    rot rotate
    data show

    rot neg rotate
 } def

% x y fontsize rotation (text) outputtext
20 300 12 0 (text1) outputtext
20 400 12 90 (text2) outputtext
20 500 12 90 (text3) outputtext
20 600 12 0 (text4) outputtext
showpage 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-27T05:48:13.943

不知道为什么要避免`translate`，也不清楚“动态”是什么意思。但是这段代码在没有翻译的情况下给出了*类似旋转的效果。*但是，如果不定义中心（使用`translate`and `rotate`，或代数使用`cos`and `sin`）并考虑（以某种方式）字符宽度，您就无法真正拥抱弧线。Adobe 示例代码完成了所有这些工作。我的代码没有。

![一些疯狂旋转的文字](../Images/03560888bd3245d1beb64c039325758b.png)

```
%!

/rottxt { 4 dict begin
    /ang exch def
    /str exch def
    /ang ang str length div def
    { pop pop ang rotate }
    str
    kshow
end } def

30 150 moveto
/Palatino-Roman 20 selectfont
(This   is) -20 rottxt
( some  ro) 20 rottxt
(tated   T) -40 rottxt
(ext!!!!!) -100 rottxt
showpage 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-26T11:00:18.627

Adobe 著名的[**蓝皮书**](http://www-cdf.fnal.gov/offline/PostScript/BLUEBOOK.PDF)（*PostScript Language Tutorial and Cookbook, Adob​​e Systems, Addison-Wesley 1985; ISBN 0201101793*）包含一个很好解释的例子。

请参阅第 168 页和以下屏幕截图：

![在此处输入图像描述](../Images/15d2ce2c7dc76211924392fb3bd5108c.png)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-09-24T08:34:53.350

我想我终于明白你想要做什么了。关于的部分`translate`真的让我陷入了循环。没什么好害怕的`translate`。这**将**是必要的。翻译是什么让你控制旋转中心的位置。

所以你想在一个圆圈上画文字，但你想动态地改变字体参数。圆弧中间的字体变化。这需要一些思考。当我有更多时，我会编辑。

# angularjs - AngularJS: ng-show / ng-hide not working with `{{ }}` interpolation

> ID：12599637
> 
> 赞同：193
> 
> 时间：2012-09-26T10:26:43.197
> 
> 标签：angularjs, ng-show, ng-hide

I am trying to show / hide some HTML using the `ng-show` and `ng-hide` functions provided by [**AngularJS**](http://docs.angularjs.org/api).

According to the documentation, the respective usage for these functions are as follows:

> ngHide – {expression} - If the expression truthy then the element is shown or hidden respectively. ngShow – {expression} - If the expression is truthy then the element is shown or hidden respectively.

This works for the following usecase:

```
<p ng-hide="true">I'm hidden</p>
<p ng-show="true">I'm shown</p> 
```

However, should we use a parameter from an object as the expression then the `ng-hide` and `ng-show` are given the correct `true`/`false` value but the values are not treated as a boolean so always return `false`:

**Source**

```
<p ng-hide="{{foo.bar}}">I could be shown, or I could be hidden</p>
<p ng-show="{{foo.bar}}">I could be shown, or I could be hidden</p> 
```

**Result**

```
<p ng-hide="true">I should be hidden but I'm actually shown</p>
<p ng-show="true">I should be shown but I'm actually hidden</p> 
```

This is either a bug or I am not doing this correctly.

I cannot find any relative information on referencing object parameters as expressions so I was hoping anyone with a better understanding of AngularJS might be able to help me out?

* * *

## 回答 #1

> 赞同：375
> 
> 时间：2012-09-26T13:08:33.850

The `foo.bar` reference should not contain the braces:

```
<p ng-hide="foo.bar">I could be shown, or I could be hidden</p>
<p ng-show="foo.bar">I could be shown, or I could be hidden</p> 
```

Angular [expressions](http://docs.angularjs.org/guide/expression) need to be within the curly-brace bindings, where as Angular [directives](http://docs.angularjs.org/guide/directive) do not.

See also [Understanding Angular Templates](http://docs.angularjs.org/guide/templates).

* * *

## 回答 #2

> 赞同：31
> 
> 时间：2013-04-27T17:47:27.247

You can't use `{{}}` when using angular directives for binding with `ng-model` but for binding non-angular attributes you would have to use `{{}}`..

Eg:

```
ng-show="my-model"
title = "{{my-model}}" 
```

* * *

## 回答 #3

> 赞同：18
> 
> 时间：2012-10-22T07:25:53.053

Try wrapping expression with:

```
$scope.$apply(function() {
   $scope.foo.bar=true;
}) 
```

* * *

## 回答 #4

> 赞同：7
> 
> 时间：2013-02-13T04:14:52.680

Since `ng-show` is an angular attribute i think, we don't need to put the evaluation flower brackets (`{{}}`)..

For attributes like `class` we need to encapsulate the variables with evaluation flower brackets (`{{}}`).

* * *

## 回答 #5

> 赞同：7
> 
> 时间：2014-10-15T07:12:00.427

```
<script src="http://code.angularjs.org/1.2.0-rc.2/angular.js"></script>
<script type="text/javascript">
    function controller($scope) {
        $scope.data = {
            show: true,
            hide: false
        };
    }
</script>

<div ng-controller="controller">
    <div ng-show="data.show"> If true the show otherwise hide. </div>
    <div ng-hide="!(data.hide)"> If true the show otherwise hide.</div>
</div> 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2016-10-13T20:33:59.053

remove {{}} braces around foo.bar because angular expressions cannot be used in angular directives.

For More: [https://docs.angularjs.org/api/ng/directive/ngShow](https://docs.angularjs.org/api/ng/directive/ngShow)

example

```
 <body ng-app="changeExample">
    <div ng-controller="ExampleController">
    <p ng-show="foo.bar">I could be shown, or I could be hidden</p>
    <p ng-hide="foo.bar">I could be shown, or I could be hidden</p>
    </div>
    </body>

<script>
     angular.module('changeExample', [])
        .controller('ExampleController', ['$scope', function($scope) {
          $scope.foo ={};
          $scope.foo.bar = true;
        }]);
</script> 
```

* * *

## 回答 #7

> 赞同：-1
> 
> 时间：2016-09-20T15:19:32.550

If you want to show/hide an element based on the status of one {{expression}} you can use `ng-switch`:

```
<p ng-switch="foo.bar">I could be shown, or I could be hidden</p> 
```

The paragraph will be displayed when foo.bar is true, hidden when false.

# android - android广播接收器以检测后台更改中的应用程序

> ID：12599639
> 
> 赞同：0
> 
> 时间：2012-09-26T10:26:49.407
> 
> 标签：android, background, broadcastreceiver, task

当其他应用程序进入后台时，是否有任何捕捉？我们可以注册任何广播接收器来接收该事件吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-26T12:21:48.680

出于明显的隐私原因，没有`Intent`关于进入或离开前台的活动的广播。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-26T12:33:41.547

您可以编写一个后台服务，定期监控正在运行的服务，如果有新服务出现，就会引发一个标志。使用它来获取正在运行的服务列表：

```
 public List<String> getRunningServices(Context context){
        ActivityManager activityManager = (ActivityManager) context
                .getSystemService(Context.ACTIVITY_SERVICE);
        List<ActivityManager.RunningServiceInfo> serviceList = activityManager
                .getRunningServices(Integer.MAX_VALUE);
        List<String> rServices = new ArrayList<String>();
        for (int i = 0; i < serviceList.size(); i++) {
            RunningServiceInfo serviceInfo = serviceList.get(i);
            ComponentName serviceName = serviceInfo.service;            
            rServices.add(serviceName.getClassName());      
        }
        return rServices;
   } 
```

# redis - 在多线程专用服务器上优化 Redis

> ID：12599641
> 
> 赞同：3
> 
> 时间：2012-09-26T10:26:58.083
> 
> 标签：redis

我将在具有 6 核、12 线程和 32 GB RAM 的专用服务器上运行 redis。我使用 redis 作为主数据存储。应用程序有许多哈希、集合和列表，但它们都构成同一个应用程序。为了利用所有线程，我可以在不同的端口上启动多个 redis 实例并为每个实例分配一些 redis 结构吗？这会有什么问题吗？我想在我的客户端代码中，我必须在不同的端口上建立多个连接来读取/写入应用程序数据..

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-26T16:34:13.550

Redis 是单线程的，您需要启动多个实例以利用多核或多 CPU 的优势。必须使用不同的端口，您可能还需要更改配置文件中的一些其他参数以避免冲突：

*   pid文件
*   港口
*   unixsocket
*   日志文件
*   dbfilename（或 dir）

在客户端代码中，每个 Redis 实例至少需要一个连接。

主要问题是一旦在不同的实例中添加了一些键，您就不能再运行涉及多个键的命令而不首先检查所有键是否在同一个实例上（例如，您不能再计算存储在不同 Redis 实例上的集合的交集，至少不使用 SINTER 命令）。

# ruby-on-rails - 使用正则表达式拆分数据

> ID：12599642
> 
> 赞同：0
> 
> 时间：2012-09-26T10:27:02.950
> 
> 标签：ruby-on-rails, ruby, regex

我有这样的数据

```
[{"search":true,"hidden":true,"index":"xyz"},{"search":true,"hidden":true,"index":"pqr","address":{"city":"xxxx"}}] 
```

我希望拆分数据得到：

1.  `{"search":true,"hidden":true,"index":"xyz"}`
2.  `{"search":true,"hidden":true,"index":"pqr","address":{"city":"xxxx"}}`

我的正则表达式很弱，请帮忙。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-26T10:34:56.050

如果您的数据是该格式的单个字符串，则很可能您有数据结构的[JSON](http://www.json.org/)表示。您应该使用 json 库将其解析为哈希数组：

```
require 'json'
require 'pp'

s = '[{"search":true,"hidden":true,"index":"xyz"},{"search":true,"hidden":true,"index":"pqr","address":{"city":"xxxx"}}]'

a = JSON[s]
pp a

# => [{"search"=>true, "hidden"=>true, "index"=>"xyz"},
# =>  {"search"=>true, "hidden"=>true, "index"=>"pqr", "address"=>{"city"=>"xxxx"}} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-26T10:32:12.930

尝试

```
collection = JSON.parse('[{"search":true,"hidden":true,"index":"xyz"},{"search":true,"hidden":true,"index":"pqr","address":{"city":"xxxx"}}]')
first = collection[0]
last = collection[-1] 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-26T10:32:53.070

```
arr = [{"search":true,"hidden":true,"index":"xyz"},{"search":true,"hidden":true,"index":"pqr","address":{"city":"xxxx"}}]

arr[0] #{"search":true,"hidden":true,"index":"xyz"}
arr[1] #{"search":true,"hidden":true,"index":"pqr","address":{"city":"xxxx"}} 
```

# model-view-controller - 是否存在基于通信的矢量绘图平台？

> ID：12599643
> 
> 赞同：1
> 
> 时间：2012-09-26T10:27:03.920
> 
> 标签：model-view-controller, networking, graphics, language-agnostic, vector-graphics

我有一个程序化矢量绘图平台的想法，但如果它存在，我宁愿自己不实现它。该平台应与语言无关，并近似于以下对其某些属性的描述：

1.  管理一组矢量显示器状态的服务器，并与：
2.  一类客户端连接以向这些显示器发送绘图指令
3.  连接以查看某些绘图上下文的状态并发送键盘/鼠标事件的类
4.  一个监听事件的类，并可能与#2 描述的客户端类进行通信，独立于图形服务器。
5.  理想情况下，#1 是跨平台的，#3 的客户端将有一个基于浏览器的查看器

这样的东西已经存在了吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-26T17:15:13.013

我一直在研究矢量图形库。

[http://www.vectoroid.com](http://www.vectoroid.com)

它加载 SVG 并可以将单个对象/组序列化为 JSON。所以你只需要通过管道发送它们。

这是一个早期项目，但我正在努力提高认识，这里有一个讨论列表。 [https://groups.google.com/forum/?fromgroups#!forum/vectoroid-discuss](https://groups.google.com/forum/?fromgroups#!forum/vectoroid-discuss)

目前有点光秃秃的:(

# jquery - jQuery 将一组 png 组合到一个图像时间轴动画中

> ID：12599648
> 
> 赞同：0
> 
> 时间：2012-09-26T10:27:22.447
> 
> 标签：jquery, png, gif, animated-gif

由于文本上的白色边框以及其他像素化和抖动问题，GIF 图像很难制作动画。因此，尽管缺乏对 IE 上的 PNG 的支持，特别是jQuery 对 PNG的影响，但我还是决定`fadeIn`这样做会导致黑色边框。`fadeOut`

我有一个文件夹

```
/cdn.com/ui/photo/1.png
/cdn.com/ui/photo/2.png
/cdn.com/ui/photo/3.png 
```

这是我的 HTML 代码，有没有办法添加延迟或以某种方式循环并更改 1-38 的来源并继续循环它 - 甚至可以自定义延迟？我只是希望它像完全加载的 gif 一样保持平稳循环。

```
<div class="m2m_badge">
    <a href="#"><img src="///cdn.com/ui/photo/1.png"/></a>
</div> 
```

这是我的 jQuery

```
$(function()
{
    var i = 0;
    var interval = setInterval(function()
    {
        $('div.m2m_badge a img').attr({ src: '//gc-cdn.com/ui/m2m/' + i + '.png' });
        i++;
        if(i === 38)
            clearInterval(interval);
    }, 250);
}); 
```

演示 - [http://jsfiddle.net/tXvuY/13/](http://jsfiddle.net/tXvuY/13/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-26T10:34:36.923

```
$(function()
{
    var i = 1;
    var interval = setInterval(function()
    {
        $('div.m2m_badge a img').attr({ src: 'http://www.gc-cdn.com/ui/m2m/' + i + '.png' }); 
        i++;
        if(i === 38)
            clearInterval(interval); //38 images has been shown, stop the interval
    }, 50); //50ms between each swap
}); 
```

这是一个[演示](http://jsfiddle.net/H6YGT/)

# 最后的工作

要有一个连续的循环，只需`i=1;`在`interval if`

```
$(function()
{
    var i = 1;
    var interval = setInterval(function()
    {
        $('img').attr({ src: 'http://www.gc-cdn.com/ui/m2m/' + i + '.png' });
        i++;
        if(i === 38)
            i=1; // SOLUTION
    }, 250); 
}); 
```

* * *

# android - 应用内购买可以防止软件盗版吗

> ID：12599654
> 
> 赞同：4
> 
> 时间：2012-09-26T10:27:36.737
> 
> 标签：android, in-app-purchase

我意识到如果开发人员在 Google Android Market 中发布付费应用程序。很快，付费应用程序将通过其他 Android 市场免费分发。当涉及到中国市场时，盗版问题尤其明显。例如，[我的水在哪里（中文）](http://www.wandoujia.com/apps/com.disney.WMW)

我想知道，应用内购买可以防止此类盗版问题吗？

**通过应用内购买购买额外物品**

1.  用户通过应用内购买购买额外的物品。
2.  一个秘密密钥，被写入用户偏好。密钥是在应用内购买期间根据用户使用的 Google 帐户生成的。我们不使用硬件 ID 的原因是，我们希望同一用户能够享受应用内购买项目，即使他正在使用其他设备。

**使用密钥进行验证**

1.  因此，当用户倾向于使用附加项目时，将始终进行验证。即使用户将密钥分发给其他人，它也不起作用。因为密钥仅对该特定用户有效。

我想知道，这是为打击 Android 应用盗版问题而实施的一种常见做法吗？因为我没有看到太多关于这种技术的讨论。不确定我是否错过了任何陷阱？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-27T02:45:44.127

类似的东西:)

这在很大程度上取决于应用内购买的类型：如果是他们从您的服务器下载的内容（图像、视频等），您可以在服务器上进行检查，除非有人入侵您的服务器，否则几乎不可能欺骗。

要添加/启用应用程序中已有的功能，您需要将他们购买的商品列表保存在某处，以便您的应用程序知道要启用哪些功能。如果您只是将其保存到文件/共享/首选项/DB，则有人可以简单地编辑它们（当然是在根设备上）并添加他们想要的任何项目。因此，您需要混淆您的项目缓存，使其更难修改。一种方法是在磁盘上对其进行加密并在您的应用程序中解密。如果您对所有设备使用相同的密钥，只需将文件/数据库复制到另一台设备即可启用这些功能而无需付费。这就是为什么您需要从特定设备的特定内容（MAC 地址、ANDROID_ID 等）中派生密钥的原因。如果可以使用 Google 帐户导出密钥，

至于使用硬件 ID，物品/订阅与用户 Google 帐户相关联，因此您可以在任何设备上使用 RESTORE_TRANSACTIONS 来获取购买的物品。使用硬件 ID 来混淆项目缓存不是问题，因为它仅用于在磁盘上存储东西，而不是获取购买状态，因此不会阻止用户在多个设备上使用应用程序。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-26T20:36:53.623

一般来说，应用内购买更能防止盗版。购买发生在游戏内部的事实使得盗版者更难用其他被黑的部分替换软件的部分。此外，应用内购买不太灵活，允许您使用冗余的保护方法。

您描述的方法可能没问题，具体取决于您隐藏密钥的程度。确实，密钥不能与其他人一起使用，但同一帐户可以一遍又一遍地使用它。我们的建议是遵循这个过程：

*   通过 TLS/SSL 使用您自己的服务器进行身份验证
*   获取仅对一次交易有效的密钥
*   使用密钥进行交易并立即忘记

这将更难破解。

祝你好运，如果您需要帮助，请告诉我。

# iphone - 错误线程 1：信号 SIGABRT

> ID：12599655
> 
> 赞同：-1
> 
> 时间：2012-09-26T10:27:37.127
> 
> 标签：iphone, ios

我的视图上有三个按钮。从名为“列表”的按钮中，我选择了一个表格视图控制器。当我运行我的应用程序并单击列表按钮时，它会在调试控制台中给出以下错误。

argc int 1 argv char ** 0x2fea6c70 *argv char * 0x2fea6d14 **argv char '/'

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-26T10:42:31.037

添加异常断点。

在 Navigator 窗格中从右侧数第二个按钮，单击“+”添加断点并选择异常断点。

# c# - 从另一个文件访问私有类

> ID：12599660
> 
> 赞同：3
> 
> 时间：2012-09-26T10:27:53.477
> 
> 标签：c#, .net, private

我想将我的 .cs 文件分开，主要是因为我认为这样看起来更整洁。在一个 .cs 文件中，我有 Form.cs。我在 .NET 框架 2.0 中工作。所以我有一个不同的 myClass.cs 文件，有几种方法。因为我希望表单的用户在访问方法中调用的 Web 服务之前进行身份验证，所以我希望信息是私有的。我在示例和教程中看到这通常在同一个文件中没有问题。但是，在我的目标中，我希望信息位于 class.cs 文件中。例如，我希望 myClass.cs 文件中的类看起来像这样（这还很粗糙）：

```
 private class SessionData
    {
        private String fTicket;
        private string otherData;

        public SessionData( String ticket, String otherData)
        {
            fTicket = ticket;
            fotherData = otherData;
        }

        public String getTicket{ return fTicket; };
    } 
```

然后在 form.cs 文件中访问它...

```
 private void LogOn_Click(object sender, EventArgs e)
    {

         myClass sessInfo = new myClass();

         string myTicket = sessInfo.SessionData();
         }
    } 
```

问题是因为它是私有的，我无法在 Form.cs 中访问它。甚至有可能做到这一点吗？我看过很多示例和提示，但总是在同一个文件中。无论如何，这是我脑海中的基本想法。如果有其他方法，我愿意征求意见！

我是否必须创建一个公共构造函数，有人可以举个例子吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-26T10:40:10.543

您可以在单独的文件中定义嵌套类，例如“SessionData.cs”，只需将其包装在应该可以访问它的部分类中。

```
public partial class Form1
{
    private class SessionData
    {
        public void getTicket();
    }
} 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-09-26T10:33:41.057

我认为，在不广播信息的意义上，凭证是否需要保持“私有”以及在类型范围意义上用于 OO 可访问性的术语“私有”存在混淆。两者不可互换，是完全不同的想法。

您尝试使用 C# 类型可访问性保护敏感信息的解决方案是荒谬的，并且绝对是错误的方法。我可能会问另一个问题，即在用户登录期间如何最好地保护敏感信息。

* * *

[**老答案：**]

我假设这`SessionData`是一个嵌套类？您不能在命名空间中定义私有类。

如果你定义了一个私有嵌套类，那么只有包含这个私有类的类型才能使用它，而不管构造函数的可访问性如何。

所以说真的，如果你想曝光`SessionData`，就公开吧。

如果代码都在同一个程序集中，你也可以使`SessionData`内部：

```
internal class SessionData { } 
```

此程序集之外的代码将无法引用`SessionData`。

# c# - oracle 3层架构错误

> ID：12599661
> 
> 赞同：0
> 
> 时间：2012-09-26T10:27:56.143
> 
> 标签：c#, asp.net, oracle

我正在使用 3 层架构进行 asp.net c# oracle 数据库连接。在我的业务层课程中，我遇到了这个错误。System.StackOverflowException 未处理

我遵循了一个使用 sql 数据库的教程，现在一切正常，没有错误，现在我需要使用 oracle 数据库来实现。

这是我遇到错误的部分代码

```
 public class BusSurvey
{
    DbAccess _dbAccess = new DbAccess();
    private DataSet _SurveyDS = new DataSet();
    public DataSet SurveyDS
    {
        get
        {
            return SurveyDS;
        }
        set
        {
            SurveyDS = value;
        }
    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-26T10:29:56.720

名称`property`和`field`相同，因此更改字段名称

```
 private DataSet _SurveyDS = new DataSet();
    public DataSet SurveyDS
    {
        get
        {
            return _SurveyDS;  <--- here 
        }
        set
        {
            _SurveyDS = value; <--- here
        }
    } 
```

# javascript - 算术运算符对 JavaScript Date 对象的转换不一致

> ID：12599662
> 
> 赞同：2
> 
> 时间：2012-09-26T10:27:57.813
> 
> 标签：javascript

什么 Javascript 语言规则导致以下转换怪异？

```
new Date() - 2 => number
new Date() * 2 => number
new Date() / 2 => number 
```

但

```
new Date() + 2 => string 
```

我原以为 + 运算符会使用对象的`valueOf()`方法`Date`将其转换为数字。就像下面的例子：

```
{valueOf: function() {return 1;}} + 2 => number 
```

a 的情况有什么不同`Date`？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-26T10:31:55.550

当你尝试做

```
new Date() + 2 
```

你正在做一个字符串连接（所以`new Date()`是返回一个`Date`对象的字符串表示等效于`(new Date()).toString()`），

在其他情况下，您使用算术运算符（在这种情况下`new Date()`，从“Epoch”返回毫秒）

要有一个*“一致的”*行为，只需使用一个类型强制，`+(new Date())`这样

```
+(new Date()) - 2 => number
+(new Date()) * 2 => number
+(new Date()) / 2 => number
+(new Date()) + 2 => number 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-26T10:35:35.877

这并不矛盾：只需尝试上面代码中隐式调用`d = new Date(); console.log(d);`的`toString`方法，默认返回一个字符串。由于 JS 是松散类型的，并且`+`是一个重载的运算符（连接字符串并进行算术运算），因此 date 对象和 int (2) 都被强制：

我猜这背后的逻辑是这样的：如果两个操作数都不是直接兼容的，那么两者都被强制为第三种类型：有点像*"Meeting each other half-way"*。默认情况下，日期会转换为字符串，数字也可以这样做，因此 JS 假定这是您想要的（这是最符合*逻辑*的解释）。
其他示例使用不同的操作数，没有解释的余地​​，因此使用日期对象的数值

不过，这很容易解决：

```
+(new Date()) + 2;//+ coerces new Date() to int 
```

这里[有更多信息](https://stackoverflow.com/questions/12007379/what-makes-new-date-1000-a-valid-javascript/12007624)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-26T13:03:04.347

在研究了 Javascript 规范之后，在加法运算符的上下文中，确实存在 Date 对象的特殊情况：

[http://ecma-international.org/ecma-262/5.1/#sec-11.6.1](http://ecma-international.org/ecma-262/5.1/#sec-11.6.1)

Date 对象的转换处理方式与其他对象不同：

> 在第 5 步和第 6 步中对 ToPrimitive 的调用中没有提供任何提示。除 Date 对象外，所有本机 ECMAScript 对象都处理没有提示的情况，就好像给出了提示 Number 一样；日期对象处理提示的缺失，就像给出了提示字符串一样。

我想我理解动机，但作为语言规则，这感觉很丑陋。

# sql-server-2012 - SQL Server Management Studio 2012/ALL Tools 通过命令行安装

> ID：12599663
> 
> 赞同：0
> 
> 时间：2012-09-26T10:27:57.750
> 
> 标签：sql-server-2012, sql-server-2012-datatools

好的，我设法找到了该站点，但是我感到疲倦和沮丧，所以我想是否有人知道命令行来通过命令行安装工具。服务器上的 SSMS 不再允许我更改维护计划，但它可以正常运行它们。

在用尽了 3 个小时的卸载/重新安装/注册 DLL/Blah/Blah/Blah 之后，我已经放弃了解决该问题。去在我的辅助计算机上安装工具，白痴卸载了 Internet Explorer，所以现在你不能从磁盘启动 SQL 安装。

因此，如果有人碰巧知道语法，我会非常感激，我只需要我不需要其他任何东西的工具。SSDT/SSMS/等。

[http://msdn.microsoft.com/en-us/library/ms144259.aspx](http://msdn.microsoft.com/en-us/library/ms144259.aspx)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-28T22:53:21.413

尝试使用

```
setup.exe /ACTION="Install" /IACCEPTSQLSERVERLICENSETERMS /Q /INDICATEPROGRESS /FEATURES="Tools" 
```

# soap - 如何在调用 SOAP 服务时修改客户端 IP 地址的 SOAP 标头信息

> ID：12599664
> 
> 赞同：1
> 
> 时间：2012-09-26T10:28:03.300
> 
> 标签：soap, service, web

我有一个 SOAP 服务器和多个 REST 客户端应用程序。REST 客户端应用程序，内部使用 WSDL 调用 SOAP 服务。

当我们调用 SOAP 服务器时，它会根据 SOAP Header 中的 IP 地址来识别客户端。我想实现一种机制，以便 SOAP 服务器无法识别客户端 IP 地址，并且似乎所有请求都来自同一个 IP。

我们可以在客户端修改此标头吗？如果是，请给我一些解决方案......

提前致谢

# c# - c#我如何检查一个对象是否已经在我的一个文本框中？如果是，则不要将其添加到文本框中

> ID：12599666
> 
> 赞同：0
> 
> 时间：2012-09-26T10:28:10.233
> 
> 标签：c#, textbox, tags

我有一个循环遍历 Form1 中的每个文本框并获取它们的标签，因为我需要比较对象 ID。在我的一个文本框中已经存在一个对象的情况下，我不想让用户再次添加这个对象，但是如果这个对象在任何一个文本框中都不存在，那么用户只能添加这个项目。

我已经在下面的这个循环中尝试过了，但它似乎不起作用，因为它一直告诉我“对象引用未设置为对象的实例。” **在这条线上 if (resval.types.xan_ID == tbItems.types.xan_ID)** 在我得到我想要的消息框之后，我怎样才能改变这个代码来实现这个目标。

```
 // Get the name which will be passed into the textbox
                        var resval = form2result.getValue();

                        //go through each of my textbox
                        foreach (TextBox tb in TextBoxList)
                        {
                            var tbItems = (ReportItems)tb.Tag;
                            if (tb.Text != "")
                            {
                                //if the item returned is the same as an item in the textbox
                                if (resval.types.xan_ID == tbItems.types.xan_ID)
                                {
                                    // display this message and break out of the loop
                                    MessageBox.Show("You have previously selected this report, please chose another");
                                    break;
                                }
                                    // otherwise add the item into the textbox.
                                else
                                {
                                    // otherwise add name to the textbox
                                    _dict[sender].Text = resval.ToString();
                                }
                            }   
                        } 
```

报告项目

```
public class ReportItems
{
    public DataSet1.xspGetAnalysisTypesRow types { get; set; }

    //Analysis types or Reports
    public ReportItems(DataSet1.xspGetAnalysisTypesRow analysisTypes)
    {
        types = analysisTypes;
    }

    //Return the name of this type. 
    public override string ToString()
    {
        return this.types.xan_Name;
    }
} 
```

getValueFunction（这是另一种形式）

```
 public ReportItems getValue()
    {
        ReportItems selection = (ReportItems)reportListBx.SelectedItem;

        // if user has selected a value             
            return selection;           
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-26T11:01:18.000

我不确定 _dict[sender] 和 TextBoxList 之间的链接是什么，但您没有将标记设置为与设置文本相同的点。假设这些是指同一个对象，这将在您下次使用此方法时导致错误，因为您将拥有一个没有标签的文本框。

```
 // Get the name which will be passed into the textbox
                    var resval = form2result.getValue();
                    // The user didn't select anything somehow.
                    if (resval == null)
                    {
                      MessageBox.Show("Nothing Selected"); 
                      return;
                    }
                    // resval hasn't been setup correctly.
                    if (resval.types == null)
                    {
                      MessageBox.Show("Internal Error"); 
                      return;
                    }
                    Boolean alreadyExists = false;
                    //go through each of my textbox
                    foreach (TextBox tb in TextBoxList)
                    {
                        var tbItems = (ReportItems)tb.Tag;
                        //The Textbox must contain text and tbItems must not be null
                        if (tb.Text != "" && tbItems != null)
                        {
                            //The tag has been set, but somehow the types are null?
                            if (tbItems.types == null)
                            {
                                MessageBox.Show("Internal Error");    
                            break;
                            }
                            //if the item returned is the same as an item in the textbox
                            if (resval.types.xan_ID == tbItems.types.xan_ID)
                            {
                                alreadyExists = true;
                                // display this message and break out of the loop
                                MessageBox.Show("You have previously selected this report, please chose another");
                                break;
                            }
                                // otherwise add the item into the textbox.
                        }   
                    }
                    if (!alreadyExists)
                    {
                        // otherwise add name to the textbox
                        _dict[sender].Text = resval.ToString();
                        //set the tag? 
                        _dict[sender].Tag = tbItems;
                    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-26T10:35:30.980

```
// Get the name which will be passed into the textbox
        var resval = form2result.getValue();
        ArrayList arrayList = new ArrayList();

        //go through each of my textbox
        foreach (TextBox tb in TextBoxList)
        {
            var tbItems = (ReportItems) tb.Tag;
            if (tb.Text != "") return;
            //if the item returned is the same as an item in the textbox
            /* Try this if the below line doesnt work
               if(string.IsNullOrEmpty(resval.types.xan_ID) || string.IsNullOrEmpty(tbItems.types.xan_ID) return;

               if (resval.types.xan_ID == tbItems.types.xan_ID) return;

            */
            if ((string)(resval.types.xan_ID) == (string)(tbItems.types.xan_ID)) return;
            // otherwise add the item into the textbox.

            // otherwise add name to the textbox
            arrayList.Add(resval.ToString());
        }

        foreach (var arr in arrayList)
        {
            // something = arr.ToString();

        } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-26T11:03:57.167

您可以使用 jquery 处理文本框的 onmouseover 或 onclick 事件（在哪个用户焦点上添加），并可以检查用户是否将对象添加到以前的文本框。

# iphone - 如何在ios5中使用identifierForVendor。？

> ID：12599668
> 
> 赞同：16
> 
> 时间：2012-09-26T10:28:15.713
> 
> 标签：iphone, ios5, ios6, uidevice

我使用以下代码获取标识符

```
 deviceName = [[UIDevice currentDevice]uniqueIdentifier]; 
```

但我收到警告 uniqueIdentifier 在 ios5 中已弃用。

那么如何获取ios5中的标识符值呢？

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2012-09-26T14:23:18.887

您可以使用以下代码

```
if ([[UIDevice currentDevice] respondsToSelector:@selector(identifierForVendor)]) {
    // This will run if it is iOS6 or higher
    return [[[UIDevice currentDevice] identifierForVendor] UUIDString];
} else {
   // This will run before iOS6 and you can use openUDID or other 
   // method to generate an identifier
} 
```

这样您就可以保持之前的最低要求。

此标识符对于来自一个供应商的所有应用程序都是唯一的。如果您想要**设备的唯一标识符，**您需要使用：

```
if (!NSClassFromString(@"ASIdentifierManager")) {
    // This will run before iOS6 and you can use openUDID, per example...
    return [OpenUDID value];
}
return [[[ASIdentifierManager sharedManager] advertisingIdentifier] UUIDString]; 
```

**警告**：如果设备是“通过空中”更新的，iOS6 上有一个错误会报告“空”标识符 -[更多信息](https://stackoverflow.com/q/12605257/505578)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-26T10:29:59.420

你不能再获得 UUID。禁止这样做，您的应用将被 Apple 拒绝。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-07-31T12:02:36.800

在 ios 7 中你最好使用 [UIDevice identifierForVendor] 否则你会遇到麻烦，因为只会返回一个假 MAC。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-26T14:39:09.410

**J.Costa**演示的方法适用于 iOS 6。

但是，如果您想在用户升级手机时或在您的多个应用程序中（除非它们共享相同的 Bundle Seed ID）在您的应用程序中保留相同的标识符，请使用：[https ://github.com/blackpixel/BPXLUUIDHandler](https://github.com/blackpixel/BPXLUUIDHandler)

很有用！

# iphone - 如何将格式化的 nsstring 转换为 NSNumber 或删除格式？

> ID：12599671
> 
> 赞同：2
> 
> 时间：2012-09-26T10:28:19.810
> 
> 标签：iphone, ios, xcode, ipad

我有一个像“1.23,45”这样的字符串，（德国/法国风格或其他风格）。如何将格式删除为普通字符串或 nsnumber？我只知道从数字转换为字符串。:(谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-26T10:40:53.353

```
NSNumberFormatter *formatter = [[NSNumberFormatter alloc] init];  
    [formatter setNumberStyle:NSNumberFormatterCurrencyStyle];
    [formatter setCurrencySymbol:@""];  

    NSLocale *locale = [[NSLocale alloc] initWithLocaleIdentifier:@"en_US"];
    [formatter setLocale:locale];
    NSString *formattedOutput = [formatter stringFromNumber:[NSNumber numberWithFloat:[aPrice floatValue]]];
    [locale release];
    [formatter release];
    NSLog(@"%@", formattedOutput]; 
```

进一步将 formattedString 转换为数字

```
NSNumber myNumber = [formattedOutput intValue]; //replace intValue by floatValue to get decimal output 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-30T16:22:37.703

您可以使用 a将 a 转换`NSString`为a ，但您必须告诉它您为字符串使用的语言环境（在本例中为德语）：`NSNumber``NSNumberFormatter`

```
// Create a number formatter that can convert from/to German currency:
NSNumberFormatter *formatter    = [[NSNumberFormatter alloc] init];
formatter.numberStyle           = NSNumberFormatterCurrencyStyle;
formatter.locale                = [[NSLocale alloc] initWithLocaleIdentifier:@"de_DE"];
[formatter setLenient:YES];

// Use the number formatter to create a NSNumber:
NSNumber *number                = [formatter numberFromString:@"1.23,45"];

// Return the number formatter to the current user's locale:
formatter.locale                = [NSLocale currentLocale];

// Finally, create a string from the NSNumber formatted in the user's locale:
NSString *formattedString       = [formatter stringFromNumber:number]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-26T10:52:26.980

It sounds like you need to do two things:

1) break the string into an arrays of substrings based upon comma separation

```
NSString *startString = @"1.23,45";
NSArray *subStringArray= [colorStr componentsSeparatedByString:@","]; 
```

2) convert each substring to a number

```
NSNumberFormatter * formatter = [[NSNumberFormatter alloc] init];
[formatter setNumberStyle:NSNumberFormatterDecimalStyle];
NSString *subString = [subStringArray objectAtIndex:0];
NSNumber *thisNumber = [formatter numberFromString:subString];
NSLog (@"thisNumber: %@", thisNumber); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-26T10:32:21.167

```
 NSNumber * myNumber  = [NSNumber numberWithInt:[@"1.23,45" intValue]]; 
```

或者

```
 NSNumber * myNumber  = [NSNumber numberWithFloat:[@"1.23,45" floatValue]]; 
```

**注意**：最好从字符串中修剪逗号（，）符号

**您可以使用以下方法**

```
+ (NSNumber *)numberWithChar:(char)value;
+ (NSNumber *)numberWithUnsignedChar:(unsigned char)value;
+ (NSNumber *)numberWithShort:(short)value;
+ (NSNumber *)numberWithUnsignedShort:(unsigned short)value;
+ (NSNumber *)numberWithInt:(int)value;
+ (NSNumber *)numberWithUnsignedInt:(unsigned int)value;
+ (NSNumber *)numberWithLong:(long)value;
+ (NSNumber *)numberWithUnsignedLong:(unsigned long)value;
+ (NSNumber *)numberWithLongLong:(long long)value;
+ (NSNumber *)numberWithUnsignedLongLong:(unsigned long long)value;
+ (NSNumber *)numberWithFloat:(float)value;
+ (NSNumber *)numberWithDouble:(double)value;
+ (NSNumber *)numberWithBool:(BOOL)value;
+ (NSNumber *)numberWithInteger:(NSInteger)value NS_AVAILABLE(10_5, 2_0);
+ (NSNumber *)numberWithUnsignedInteger:(NSUInteger)value NS_AVAILABLE(10_5, 2_0); 
```

# java - Java - 从哈希映射键创建排列

> ID：12599676
> 
> 赞同：1
> 
> 时间：2012-09-26T10:28:57.037
> 
> 标签：java, hash, hashmap

所以我有一个包含键和对象的哈希图。我想知道是否可以使用键创建多个排列。例如，如果我有：

1 - 对象 1 2 - 对象 2 3 - 对象 3 4 - 对象 4

获得随机订单。所以一个结果可能是：

3 - 对象 3 1 - 对象 1 2 - 对象 2 4 - 对象 4

到目前为止，我有：

```
Map<Integer, GeoPoint> mapPoints = new HashMap<Integer, GeoPoint>();
Map<Integer, GeoPoint> mapPointsShuffle = new HashMap<Integer, GeoPoint>();

    for (int t =0; t < 50; t ++){

        Collections.shuffle((List<?>) mapPoints);

        mapPointsShuffle.putAll(mapPoints);
    } 
```

所以这个想法是给我50个随机排列。但它回来了：

09-26 11:15:27.813: E/AndroidRuntime(20434): java.lang.ClassCastException: java.util.HashMap 不能转换为 java.util.List

有任何想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-26T10:35:53.117

您应该首先从 hashmap 键中创建一个列表：

```
List<Integer> keys = new List<Integer>(mapPoints.keySet()); 
```

`Collections`然后，您可以使用帖子显示方式中的方法对密钥列表进行洗牌。

但是，循环的最后一次调用没有意义：

```
mapPointsShuffle.putAll(mapPoints); 
```

即使您重新洗牌 50 次，这也会将相同的映射条目添加到另一个映射 50 次以上，从而产生您开始使用的映射，因为哈希映射是*无序*的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-26T10:31:18.733

**java.util.HashMap**没有实现**java.util.List**

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-26T10:36:45.110

您如何将地图投射到列表中？

Collections.shuffle((List) mapPoints);

你想洗牌吗？对于 HashMap，您无​​法预测返回键的顺序。因此，您最好在列表中获取键，然后随机播放。

# c - libspotify 和 glibc 版本

> ID：12599678
> 
> 赞同：1
> 
> 时间：2012-09-26T10:29:01.090
> 
> 标签：c, linux, spotify, glibc

我想开发一个使用 libspotify（最新最好的 libspotify-12.1.51-Linux-armv6）的 Linux 应用程序。我面临的问题是，与当前 libspotify 使用的版本相比，我的目标系统使用的 glibc 版本较旧（2.3.6）。如何在无需等待目标系统匹配更新的情况下继续操作？Spotify 是否有机会为较旧的 glibc 版本提供 libspotify 变体？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-27T12:48:13.680

很抱歉，libspotify 确实需要 glibc 2.7.0，这不是我们可以轻易改变的。如果这很容易，我们已经有了:-)。

因此，您最好的选择是为您的目标系统找到更新。

问候 //约翰

# objective-c - 使用 Modal Partial Curl，我想反转动画。我该怎么做？

> ID：12599681
> 
> 赞同：0
> 
> 时间：2012-09-26T10:29:14.350
> 
> 标签：objective-c, ios, uiviewanimationtransition

使用从一个视图到另一个视图的默认演示模式部分 curl segue，我想反转动画。因此，不是提升页面以显示第二个视图，而是一个页面落在第一个视图的顶部并显示第二个视图。然后，当用户完成第二个视图时，页面抬起以再次显示第一个视图。

我到底该怎么做？以某种方式使用自定义转换自己制作动画？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-26T11:06:00.680

你所追求的是带有动画的 UIView 传统。

```
 [UIView transitionFromView:youBaseView
                    toView:modalView
                  duration:3.0
                   options:UIViewAnimationOptionTransitionCurlDown
                completion:^(BOOL finished) {
                }]; 
```

这将使您获得您描述的效果。我认为完成这项工作的最快和最简单的方法是自定义 segue。只是 UIStoryboardSegue 的子类。这篇文章详细讨论了它：[How to create custom modal segue in 4.2 Xcode using storyboard](https://stackoverflow.com/questions/8097398/how-to-create-custom-modal-segue-in-4-2-xcode-using-storyboard)

然后为了解除模态视图，请执行以下操作：

```
[UIView transitionFromView:modalView
                    toView:yourBaseView
                  duration:3.0
                   options:UIViewAnimationOptionTransitionCurlDown
                completion:^(BOOL finished) { 
                [self dismissModalViewControllerAnimated:NO];
                }]; 
```

希望这会有所帮助。

# r - R 特殊数据框

> ID：12599684
> 
> 赞同：1
> 
> 时间：2012-09-26T10:29:24.280
> 
> 标签：r, xts, random-forest

我在问一个问题，这个问题是我昨天在这篇文章中提出的问题：[用于变量选择的随机森林](https://stackoverflow.com/questions/12584704/r-rolling-random-forest-for-variables-selection)。

我设法找出每个季度最重要的技术交易规则。我已经建立了一个数据框来放置这些 TTR 的名称。就是这样，我有一个季度的专栏。

```
 1       2     3      4       5     6     7       8       9      10           11
1          RSI2    RSI3  RSI2  RSI10    RSI2  RSI2  RSI2    RSI2    RSI2    RSI2         RSI2
2          RSI3    RSI4  RSI3  RSI20    RSI3  RSI3  RSI3    RSI4    RSI4    RSI3         RSI3
3          RSI4    RSI5  RSI4   EMA5    RSI4  RSI4  RSI5    RSI5    RSI5    RSI4         RSI4
4          RSI5   RSI10  RSI5  EMA20    RSI5  RSI5 RSI10    EMA5   RSI10    RSI5         RSI5
5         RSI10   RSI20 RSI10  EMA60    SMA5 RSI10 RSI20   EMA20   RSI20   RSI10        RSI10
6         SMA20   SMA60 RSI20    SMI     atr RSI20 SMA60   EMA60    SMA5   RSI20         SMA5
7         SMA60    pctB SMA20    ADX    pctB  EMA5   atr     atr   SMA60     atr        SMA20
8           atr calcs.1  pctB   pctB    macd EMA20  pctB     ADX    pctB     ADX        EMA20
9          pctB    <NA>  <NA>   macd myVolat EMA60  <NA>    pctB    macd    pctB        EMA60
10 myChaikinVol    <NA>  <NA> signal calcs.1  pctB  <NA>    macd  signal myVolat          ADX
11      myVolat    <NA>  <NA>  calcs    <NA>  macd  <NA>  signal   mySAR calcs.1         pctB
12        calcs    <NA>  <NA>   <NA>    <NA>  <NA>  <NA> myVolat myVolat    <NA> myChaikinVol
13         <NA>    <NA>  <NA>   <NA>    <NA>  <NA>  <NA> calcs.1    <NA>    <NA>      myVolat
14         <NA>    <NA>  <NA>   <NA>    <NA>  <NA>  <NA>    <NA>    <NA>    <NA>        calcs 
```

我已经添加`NA`以应对不同长度的行。

现在，我想回到我的数据集，它看起来像这样：

```
 daily.returns      RSI2     RSI3     RSI4     RSI5    RSI10    RSI20     SMA5    SMA20    SMA60     EMA5    EMA20    EMA60      atr      SMI      ADX oscillator        pctB      macd       signal myChaikinVol    mySAR   myVolat     calcs   calcs.1
2009-01-07  -0.015587635 97.964071 92.62210 87.21605 82.40040 66.95642 55.19221 19720.64 18655.29 17758.68 2556.777 2556.777 2556.777 82.06602 27.52145 17.31637         85  0.87092366 0.5930649 -0.220581024   -0.3211637 2369.876 0.2325009 0.3169638 0.2801128
2009-01-08  -0.008700162 43.766573 58.62387 62.97794 64.03382 60.23197 52.99739 19756.44 18666.60 17754.07 2566.499 2566.499 2566.499 80.33416 29.12141 16.86914         85  0.72197937 0.8929854  0.002132269   -0.3183377 2385.210 0.2201065 0.3169831 0.2654092
2009-01-09  -0.011980596 27.182247 44.97072 52.29336 55.50633 56.74068 51.80171 19776.92 18674.31 17750.34 2523.372 2523.372 2523.372 78.65886 29.37878 15.90677         85  0.67025741 0.9349831  0.188702427   -0.2613410 2403.582 0.2245705 0.3119865 0.2608195
2009-01-12  -0.014061295 13.371347 30.46561 39.97055 45.24210 52.16207 50.17764 19788.02 18683.05 17748.76 2524.466 2524.466 2524.466 78.58966 28.17871 14.80066         85  0.49082443 0.9958785  0.350137644   -0.2065359 2420.117 0.2217528 0.3128203 0.2615878
2009-01-13  -0.016693272  6.141462 19.52298 29.30404 35.68593 47.25383 48.32987 19772.25 18693.01 17749.35 2488.165 2488.165 2488.165 76.08326 25.34705 13.96936         80  0.26923307 0.8855971  0.457229531   -0.1845331 2434.998 0.2223591 0.3103439 0.2609330
2009-01-14  -0.047918393  2.712386 11.97834 20.69541 27.26891 42.10718 46.23469 19747.87 18694.16 17742.88 2449.353 2449.353 2449.353 75.42231 20.65686 13.99099         60 -0.01023467 0.6624063  0.498264880   -0.1131268 2445.040 0.2290943 0.3094655 0.2644883 
```

我想做的是`NA`在 TTR 不重要的时期放置一个。例如，如果 RSI2 TTR 在第一季度不显着，我想用`NA`s 替换数值，但如果 R​​SI2 在第五季度显着，我想保留数值。

最后，我应该得到一个与初始数据框尺寸相同的数据框。

任何的想法？谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-26T18:01:24.853

首先，您应该将规则存储在列表中，而不是 data.frame 中。这使您不必用 NA 填充每个“规则列表”以使它们具有相同的长度，并且还允许您使用`lapply`.

由于您没有提供任何数据，我做了一些：

```
#Load data
set.seed(42)
library(quantmod)
getSymbols('SPY')
SPY <- adjustOHLC(SPY)
dat <- dailyReturn(Cl(SPY))

#Add some TTRs
for (rule in c('RSI', 'SMA')){
  for (n in c(5, 10, 15, 20, 25)){
    newvar <- paste(rule, n, sep='_')
    FUN <- get(rule)
    dat <- cbind(dat, FUN(dat[,1], n=n))
    names(dat)[length(names(dat))] <- newvar
  }
}
dat <- na.omit(dat)
rulenames <- names(dat)[-1] 
```

请注意，这是一个`xts`对象，而不是 data.frame。这很重要，因为它将索引保持在`Date`格式中，而不是作为字符向量：

```
> dat[1:5, 1:5]
           daily.returns    RSI_5   RSI_10   RSI_15   RSI_20
2007-02-08  -0.001308450 40.06379 46.99824 48.59484 49.11738
2007-02-09  -0.007447249 26.65296 40.34267 44.35689 46.10753
2007-02-12  -0.003404196 42.49883 45.94447 47.58264 48.30373
2007-02-13   0.008434995 67.89045 58.59450 55.64932 54.07276
2007-02-14   0.006567123 62.45177 56.28547 54.23836 53.08886 
```

我还编了一些 TTR 供每年使用

```
#Make a list of rules for each year
library(lubridate)
dat$Year <- year(index(dat))
uniqueYear <- sort(unique(dat$Year))
rulesList <- lapply(uniqueYear, function(x) rulenames[runif(length(rulenames))>.5])
names(rulesList) <- uniqueYear 
```

请注意，我的 ruleList 实际上是一个列表：

```
> rulesList
$`2007`
[1] "RSI_5"  "RSI_10" "RSI_20" "RSI_25" "SMA_5"  "SMA_10" "SMA_20" "SMA_25"

$`2008`
[1] "RSI_10" "RSI_15" "SMA_5"  "SMA_10" "SMA_25"

$`2009`
[1] "RSI_5"  "RSI_15" "RSI_20" "SMA_5"  "SMA_15" "SMA_25"

$`2010`
[1] "RSI_5"  "RSI_10" "RSI_20" "SMA_5"  "SMA_20" "SMA_25"

$`2011`
[1] "RSI_20" "SMA_5"  "SMA_10" "SMA_15" "SMA_20" "SMA_25"

$`2012`
[1] "RSI_20" "SMA_5"  "SMA_10" "SMA_25" 
```

现在只需遍历每年，并将`dat`对象子集到正确的行（年）和列（TTR）：

```
#Apply the rules to each data.frame
data.by.year <- lapply(uniqueYear, function(year){
  rule_subset <- rulesList[[as.character(year)]]
  data_subset <- dat[dat$Year==year, rule_subset]
})
names(data.by.year) <- uniqueYear 
```

这`data.by.year`是一个列表（长度为 6），其中每个元素代表 1 年的数据，以及选定的 TTR。

```
> str(data.by.year[[1]])
An ‘xts’ object from 2007-02-08 to 2007-12-31 containing:
  Data: num [1:226, 1:8] 40.1 26.7 42.5 67.9 62.5 ...
 - attr(*, "dimnames")=List of 2
  ..$ : NULL
  ..$ : chr [1:8] "RSI_5" "RSI_10" "RSI_20" "RSI_25" ...
  Indexed by objects of class: [Date] TZ: 
  xts Attributes:  
List of 3
 $ tclass   : chr "Date"
 $ tzone    : chr ""
 $ na.action:Class 'omit'  atomic [1:25] 1 2 3 4 5 6 7 8 9 10 ...
  .. ..- attr(*, "index")= num [1:25] 1.17e+09 1.17e+09 1.17e+09 1.17e+09 1.17e+09 ...
> 
```

# java - 使用spring从java执行包含子句“ where col like N'myStr%'”的sql server查询

> ID：12599686
> 
> 赞同：1
> 
> 时间：2012-09-26T10:29:29.913
> 
> 标签：java, sql-server, spring, unicode

我的查询使用 sql server management studio 工作。但是我无法让查询使用命名参数和 springsJDBCTemplate。

所以实际的sql需要工作正常：

```
select colA from table1 where colb like N'lem%' 
```

以及我尝试过的片段：

```
String paramA = "N'lem%'";

select colA from table1 where colb like :paramA 
```

我正在使用名为ParamterJDBCTemplate 的弹簧。N 指定 nvarchar 和 unicode 编码，因为实际参数是用外语编码的，例如西里尔语。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-26T10:36:01.447

N' 在向 SSMS 中的文本 SQL 解析器呈现一些文本时很有用，但是当您通过 spring 使用参数化查询时，`DON'T`！字符串本身应该是 Unicode，框架通过将参数声明为 NVarchar 以及正确编组参数来为您处理它。

```
String paramA = "lem%"; 
```

我不相信您甚至不应该在字符串中使用单引号，我知道您之所以包含单引号只是因为 N' 表示法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-26T10:36:44.627

您可能想尝试转义序列

```
String paramA = "N\'lem%'"; 
```

[http://docs.oracle.com/javase/tutorial/java/data/characters.html](http://docs.oracle.com/javase/tutorial/java/data/characters.html)

# c# - 如何设置参数方向？

> ID：12599687
> 
> 赞同：-2
> 
> 时间：2012-09-26T10:29:33.710
> 
> 标签：c#, asp.net, sql-server, sql-parametrized-query

在我的代码中，我想分配参数方向但不知道该怎么做。

```
 Dim sqlParam(0 To 3) As SqlParameter
  sqlParam(0) = New SqlParameter("@reg", SqlDbType.VarChar, 20)
  sqlParam(0).Value = reg
  sqlParam(1) = New SqlParameter("@action_code", SqlDbType.VarChar, 30)
  sqlParam(1).Value = action_code
  sqlParam(2) = New SqlParameter("@user", SqlDbType.VarChar, 40)
  sqlParam(2).Value = Session("user_code").ToString()
  sqlParam(3) = New SqlParameter("@@ret_val", SqlDbType.[Char], 1, ) 
```

我想分配“@@ret_val”的 ParameterDirection。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-26T10:30:44.100

假设您正在调用存储过程，并且对它的返回值感兴趣：

```
sqlParam(3).Direction = ParameterDirection.ReturnValue 
```

如果是输出参数，请尝试：

```
sqlParam(3).Direction = ParameterDirection.Output 
```

或者查看[MSDN 文档](http://msdn.microsoft.com/en-us/library/yy6y35y8.aspx)。

# c++ - 复制令牌时访问冲突

> ID：12599688
> 
> 赞同：1
> 
> 时间：2012-09-26T10:29:35.927
> 
> 标签：c++, winapi, process

下面的代码生成：

> MyProgram1.exe 中 0x749ab763 处的未处理异常：0xC0000005：访问冲突写入位置 0x00d4eb38。

```
 SECURITY_ATTRIBUTES sa = {0};
    sa.nLength = sizeof(sa);
    STARTUPINFO si = {0};
    si.cb = sizeof(si);
    //si.cbReserved2 = sizeof(si);
    si.lpDesktop = L"winsta0\\default";

    CreateProcessAsUser(hUserTokenDup, NULL, L"Setup.exe", &sa, &sa, false, NORMAL_PRIORITY_CLASS | CREATE_NEW_CONSOLE, NULL, NULL, &si, &procinfo); 
```

代码有什么问题吗？请帮忙

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-26T10:36:50.543

从[`CreateProcessAsUser()`](http://msdn.microsoft.com/en-us/library/windows/desktop/ms682429%28v=vs.85%29.aspx)，指的是第三个参数：

> 此函数的 Unicode 版本 CreateProcessAsUserW 可以修改此字符串的内容。因此，**此参数不能是指向只读内存的指针（例如 const 变量或文字字符串）**。如果此参数是一个常量字符串，该函数可能会导致访问冲突。

改成：

```
WCHAR exeName[] = L"Setup.exe"; 
```

`exeName`并作为第三个参数传递。

# iphone - 无法识别的选择器发送到导致应用程序崩溃的实例

> ID：12599698
> 
> 赞同：-3
> 
> 时间：2012-09-26T10:30:11.197
> 
> 标签：iphone, ios, xcode, static-libraries

我已经创建了成功构建的静态库，我已经在我想要使用它的应用程序中添加了 .a 文件。但是应用程序在运行应用程序“无法识别的选择器发送到实例”时崩溃了错误。但是，如果我在应用程序中包含静态库源，我不会收到任何错误。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-26T10:35:07.933

您必须与图书馆链接。不要将源添加到应用程序目标，将库项目添加到应用程序项目，然后打开构建阶段选项卡，将静态库添加到目标依赖项并将二进制文件与库链接。

# php - PHP：结合使用（或不使用）'utf8_encode' 将 BOM 设置为 \xEF\xBB\xBF

> ID：12599699
> 
> 赞同：2
> 
> 时间：2012-09-26T10:30:16.113
> 
> 标签：php, utf-8, fopen, fwrite

使用以下代码时：

```
$myString = 'some contents';    
$fh=fopen('newfile.txt',"w");
fwrite($fh, "\xEF\xBB\xBF" . $myString); 
```

使用 PHP 函数首先对文本进行编码（示例中为 $myString）是否有任何意义，例如运行`utf8_encode($myString);`或类似`iconv()`命令？

假设`\xEF\xBB\xBF`首先将 BOM 输入到文件中，并且 UTF8 几乎代表了世界上的所有字符，我看不到以这种方式创建文件的任何潜在失败场景。换句话说，我看不到任何主要文本编辑器都无法正确解释新创建的文件并按预期显示所有字符的情况。这即使`$myString`是来自 HTML 表单的 PHP`$_POST`变量。我对吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-26T10:48:49.510

如果你的源文件是`UTF-8`编码的，那么字符串`$myString`也是`UTF-8`编码的，你不需要转换它。否则，您需要先使用`iconv()`转换编码，然后再将其写入文件。

并且 note`utf8_encode()`用于将 ISO-8859-1 字符串编码为 UTF-8。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-26T10:58:53.147

请注意，这`utf8_encode`只会转换`ISO-8859-1`编码的字符串。

一般来说，鉴于 PHP 仅支持[256 个字符](http://php.net/manual/en/language.types.string.php#language.types.string.details)的字符集，您需要对任何包含非 ASCII 字符的字符串进行 utf-8 编码，然后再将其写入 UTF-8。

BOM 是可选的（大多数文本文件阅读器现在将扫描文件以获取其编码）。

来自[维基百科](http://en.wikipedia.org/wiki/Byte_order_mark#UTF-8)

> Unicode 标准允许使用 UTF-8，[2] 的 BOM，但不要求也不推荐使用或反对使用它

# android - 自定义微调器适配器

> ID：12599703
> 
> 赞同：37
> 
> 时间：2012-09-26T10:30:31.033
> 
> 标签：android

我想为我的微调器应用自定义字体。我发现的唯一方法是创建一个自定义适配器。这是我的代码

```
 private class CustomAdapter extends ArrayAdapter {

    private Context context;
    private List<CharSequence> itemList;
    public CustomAdapter(Context context, int textViewResourceId,List<CharSequence> itemList) {

        super(context, textViewResourceId);
        this.context=context;
        this.itemList=itemList;
    }

    public TextView getView(int position, View convertView, ViewGroup parent) {

        TextView v = (TextView) super
                .getView(position, convertView, parent);
        Typeface myTypeFace = Typeface.createFromAsset(context.getAssets(),
                "fonts/gilsanslight.otf");
        v.setTypeface(myTypeFace);
        v.setText(itemList.get(position));
        return v;
    }

    public TextView getDropDownView(int position, View convertView,
            ViewGroup parent) {

        TextView v = (TextView) super
                .getView(position, convertView, parent);
        Typeface myTypeFace = Typeface.createFromAsset(context.getAssets(),
                "fonts/gilsanslight.otf");
        v.setTypeface(myTypeFace);
        v.setText(itemList.get(position));
        return v;
    }

} 
```

然后我用

```
List<CharSequence> itemList = new ArrayList<CharSequence>(
            Arrays.asList(items));

    mySpinnerArrayAdapter = new   CustomAdapter(context,android.R.layout.simple_spinner_item,itemList); 
    spinner.setAdapter(mySpinnerArrayAdapter); 
```

这样做之后，我的适配器是空的。谁能帮帮我吗 ？这些项目包含国家/地区列表。

亲切的问候，

* * *

## 回答 #1

> 赞同：56
> 
> 时间：2012-09-26T10:35:50.540

## 尝试

```
public View getView(int position, View convertView, ViewGroup parent) {

    LayoutInflater inflater = getLayoutInflater();
            View row = inflater.inflate(yourRowlayout, parent,
                    false);
       TextView make = (TextView) row.findViewById(R.id.Make);
        Typeface myTypeFace = Typeface.createFromAsset(context.getAssets(),
                "fonts/gilsanslight.otf");
        v.setTypeface(myTypeFace);
        v.setText(itemList.get(position));
        return row;
    }

public View getDropDownView(int position, View convertView, ViewGroup parent) {

        LayoutInflater inflater = getLayoutInflater();
                View row = inflater.inflate(yourRowlayout, parent,
                        false);
           TextView make = (TextView) row.findViewById(R.id.Make);
            Typeface myTypeFace = Typeface.createFromAsset(context.getAssets(),
                    "fonts/gilsanslight.otf");
            v.setTypeface(myTypeFace);
            v.setText(itemList.get(position));
            return row;
        } 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2014-11-07T12:52:39.730

在超类构造函数中将 itemList 作为参数传递

```
public CustomAdapter(Context context, int textViewResourceId,List<CharSequence> itemList) {

    super(context, textViewResourceId, itemList);
    this.context=context;
    this.itemList=itemList;
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-26T10:45:27.023

**试试这个**

在您的布局文件中：

```
<Spinner
     android:id="@+id/spinnerview"
     android:layout_width="180dp"
     android:layout_height="42dp"
     android:layout_marginLeft="105dp"
     android:layout_marginTop="45dp"
     android:background="@drawable/spinner_back"
     android:paddingLeft="5dp"
     android:spinnerMode="dropdown"
     android:visibility="visible" /> 
```

在你的里面`string.xml`：

```
 <string-array name="spinner_array_environtment">
        <item>Test</item>
        <item>Production</item>
 </string-array> 
```

在`onCreate()`方法中的 Java 文件中：

```
spinner_environment = (Spinner) findViewById(R.id.spinnerview);
            adapter = ArrayAdapter.createFromResource(this,
                    R.array.spinner_array_environtment, R.layout.spinner);
            adapter.setDropDownViewResource(R.layout.spinner);
            spinner_environment.setAdapter(adapter); 
```

`spinner.xml`在您的布局文件夹中创建新文件：

内部`spinner.xml`文件：

```
<?xml version="1.0" encoding="utf-8"?>
<TextView xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/spinnerTarget"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:textSize="25dp"
    android:textColor="#4C4646" /> 
```

而已！！！

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2014-06-07T06:07:18.063

最简单的，我认为:)

```
List<String> listOfItems = getListOfItems(); // returns ArrayList<String>

ArrayAdapter<String> spinnerAdapter = new ArrayAdapter<String>(this, android.R.layout.simple_spinner_item, listOfItems);

targetSpinner.setAdapter(spinnerAdapter); 
```

好的，简单地把一个字符串列表放在一个微调器中不应该强迫我们实现一个适配器。我认为这是一个代码污点，并且让模式有点疯狂。

技巧是 simple_spinner_item id - 该死的，我喜欢 R.id 机制，但这在文档中并不直观。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2016-03-29T16:44:59.457

**这对我有用**（使用 android.R.layout. simple_spinner_dropdown_item ）：

```
@Override
public View getView(int position, View convertView, ViewGroup parent) {
    CheckedTextView checkedTextView = (CheckedTextView) super.getView(position, convertView, parent);
    checkedTextView.setText(itemList.get(position));
    return checkedTextView;
} 
```

我认为这是一个更好的解决方案，因为您不会多次充气。

# jquery - Datepicker jquery ui在主视图的一部分中不起作用

> ID：12599705
> 
> 赞同：0
> 
> 时间：2012-09-26T10:30:31.337
> 
> 标签：jquery, datetimepicker

我的日期时间选择器有问题。

我在`view.htm`该负载处有 JavaScript 代码`view_part.htm`作为搜索结果。

在`view_part.htm`，我使用 jQuery UI 创建了日期时间选择器，但它没有显示出来。我在 处编写了 jQuery 代码，`view.htm`但它仍然无法正常工作。

这是我的代码：

```
for(i=0;i<sum;i++){
    $("#TGL_APPROVE_"+i).datepicker();
    $("#TGL_APPROVE_"+i).datepicker( "option", "dateFormat", "yy-mm-dd" );
} 
```

这是我的看法：

> ![http://i47.tinypic.com/xu452.jpg](../Images/c8726c512ee07b2bf3b4f7d26d1cd48e.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-26T10:34:43.773

问题看起来是因为您在 view_part.html 的内容实际进入 DOM 之前绑定了 datepicker。

您需要做的是在它被加载（通过 AJAX）并插入 DOM*之后绑定它。*

* * *

**更新**

```
$("#cont_list").load('<?=HOME?><?=APPID?>/cont_list?no_req={$row_request.NO_REQU‌​‌​EST} #list', function(data) {

   // bind datepicker here. 
   // Ensure 'sum' has a value before doing so.
   for(var i=0;i<sum;i++){
      $("#TGL_APPROVE_"+i).datepicker();
      $("#TGL_APPROVE_"+i).datepicker( "option", "dateFormat", "yy-mm-dd" );
   }
}); 
```

更好的是，如果您可以为要绑定 datepicker 的所有元素提供一个类，它会更容易。例如，如果您指定`class="attachdp"`这些元素，则将`for`循环替换为：

```
$(".attachdp').datepicker({ dateFormat: "yy-mm-dd" }); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-26T10:36:24.987

尝试使用 FireFox 的 Firebug 插件来查看任何 javascript 错误。

但是，要解决您的问题，如果您给这些输入一个类。让我们说“hasDatePicker”。

然后在您通过 AJAX 加载内容之后（或者您是否使用 iFrame？）

```
$(".hasDatePicker").datepicker( "option", "dateFormat", "yy-mm-dd"); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-26T10:36:25.647

将类添加到应支持数据选择器插件的所有文件。你将能够以更简单的方式做到这一点：

```
$(function() {
   $(".datapicker").datepicker();
 } 
```

这是document.ready()的快捷方式，所以当整个页面加载完毕后，会绑定datapickers

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-26T10:38:37.270

你怎么称呼 view_part.htm ？我假设通过 AJAX？

如果是 - 您应该在 ajax 回调中或在 view_part.htm 完全加载后调用 datepicker()。例如在 view_part 中：

```
<script>
$(function(){
for(i=0;i<sum;i++){
    $("#TGL_APPROVE_"+i).datepicker();
    $("#TGL_APPROVE_"+i).datepicker( "option", "dateFormat", "yy-mm-dd" );
}
});
</script> 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-26T10:46:30.480

我不知道您的变量`i`和`sum`在这里指的是什么，但根据您评论中的代码，您需要执行以下操作：

```
$("#cont_list").load('<?=HOME?><?=APPID?>/cont_list?no_req={$row_request.NO_REQU‌​EST} #list', function(data) { 
    for(i=0;i<sum;i++){
        $("#TGL_APPROVE_"+i).datepicker( "option", "dateFormat", "yy-mm-dd" );
    }
}); 
```

此处的回调确保**datepicker**在添加到 DOM 时绑定到您的元素。

# php - PHP SQL 连接表行作为键

> ID：12599706
> 
> 赞同：1
> 
> 时间：2012-09-26T10:30:33.353
> 
> 标签：php, sql, join

我想知道是否有人可以帮助我。我有以下两个表：

```
---Posts----

id  | title | content |  
544 | Alan  | Blah

---Postmeta----

metaid | post_id | meta_key | meta_value  
1      |  544    | age      | 45  
2      |  544    | email    | test@hotmail.co.uk 
```

我想通过 post_id 加入这两个表，然后显示 meta_keys。像这样的东西

```
SELECT posts.post_id, 
       postmeta.age, 
       postmeta.email, 
FROM 
       posts  
JOIN posts 
ON posts.post_id = postmeta.post_id 
```

任何帮助将非常感激。干杯

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-26T10:32:07.920

您需要`PIVOT`将表内的行`postmeta`分成列，使用`CASE`with`MAX`作为聚合函数来消除`NULL`s，如下所示：

```
SELECT p.id, pm.age, pm.email
FROM posts p
JOIN
(
   SELECT
     post_id,
     MAX(CASE WHEN meta_key = 'age'   THEN  meta_value END) AS age,
     MAX(CASE WHEN meta_key = 'email' THEN meta_value END) AS email
   FROM postsmeta
   GROUP BY post_id
) pm ON p.id = pm.post_id 
```

## 这是[sql fiddle 中的 Demo](http://www.sqlfiddle.com/#!2/55e31/6)

**请注意：**您当前将所有值存储在同一数据类型的一列中`age`，例如，您必须将值转换为查询中的值，以便稍后执行一些计算时获得它，我把这部分留给你。`email``varchar``age``INT``INT`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-26T10:34:37.890

```
SELECT
  posts.id,
  postmeta.key,
  postmeta.meta_value
FROM
  posts
JOIN
  postmeta ON posts.id = postmeta.post_id
WHERE
  postmeta.key IN ('age', 'email') 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-26T10:35:29.713

```
SELECT posts.id, 
       postmeta.age, 
       postmeta.email, 
       m.meta_key, 
       m.meta_value
FROM 
       posts  p
JOIN Postmeta m
ON p.id = m.post_id 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-26T10:32:38.470

应该是这样的

```
SELECT posts.post_id,
postmeta.age,
postmeta.email,
FROM
posts
JOIN postsmeta
ON posts.post_id = postmeta.post_id 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-26T10:42:21.240

加入**两次**表`postmeta`：

```
SELECT p.id, 
       pm1.meta_value AS age, 
       pm2.meta_value AS email
FROM 
       posts AS p
  LEFT JOIN 
       postmeta AS pm1
    ON pm1.post_id = p.id
   AND pm1.meta_key = 'age'

  LEFT JOIN 
       postmeta AS pm2
    ON pm2.post_id = p.id 
   AND pm2.meta_key = 'email' ; 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-09-26T10:44:32.673

不要将 meta_key 保存在新行中，而是尝试使您的表结构像这样

```
metaid | post_id | age | email  
1      |  544    | 45  | test1@hotmail.co.uk  
2      |  545    | 51  | test2@hotmail.co.uk  
3      |  546    | 20  | test3@hotmail.co.uk  
4      |  547    | 26  | test4@hotmail.co.uk 
```

您可以将更多字段添加到表结构中。

之后您可以进行简单的联接查询，这将节省您执行查询的时间和资源。像这样

```
SELECT posts.post_id, postmeta.age, postmeta.email FROM posts JOIN postmeta ON posts.post_id = postmeta.post_id; 
```

# android - Android/Google Analytics：如何从 EditText 中获取字符串并将其发送到 Google Analytics

> ID：12599722
> 
> 赞同：1
> 
> 时间：2012-09-26T10:31:32.523
> 
> 标签：android, google-analytics

我在搞乱“谷歌分析”来跟踪用户行为。我能够跟踪 pageViews 并单击按钮。

我在将字符串从 onClick() 方法上的 edittext 发送到分析服务器时遇到问题。

我试过使用：

```
tracker.trackEvent(arg0, arg1, arg2, arg3); 
```

但没有成功。请指导我哪里做错了。

这是我从edittext和OnClick（）中获取字符串的代码，我想将它发送到服务器：

```
tracker.trackEvent("Application Android",
                    "viewPageFromCategory", txt, 0);
            tracker.dispatch(); 
```

这里 txt 是来自 edittext 的字符串。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-30T22:01:38.253

您正在传递`0`事件“价值”。我认为这意味着该事件发生了 0 次，因此没有什么可跟踪的。

请参阅[https://developers.google.com/analytics/devguides/collection/gajs/eventTrackerGuide#Values](https://developers.google.com/analytics/devguides/collection/gajs/eventTrackerGuide#Values)：

> 该值被解释为一个数字，并且报告会根据每个事件计数添加总值

如果您启用 GA 库的详细调试，您可以更详细地看到正在向 Google 推送的内容（如果有的话）：

```
tracker = GoogleAnalyticsTracker.getInstance();
tracker.setDebug(true); /* send all updates to the log */
tracker.setDryRun(true); /* Do not actually send updates on the network */ 
```

# c# - 使用不同的值两次调用方法 使用 MOQ 进行单元测试

> ID：12599728
> 
> 赞同：5
> 
> 时间：2012-09-26T10:31:51.277
> 
> 标签：c#, visual-studio-2010, unit-testing, moq

我想测试一个构造，它在其中调用一个方法两次以获得两个不同的值

```
public class  stubhandler
{

public stubhandler()
{

string codetext = model.getValueByCode(int a,string b); // 1,"High"    result Canada
string datatext = model.getValueByCode(int a,string b); // 10, "Slow"   result Motion

}

} 
```

为了测试上面我使用了一个单元测试类

```
[TestMethod]
public void StubHandlerConstructor_Test()
{
Mock<Model> objMock = new Mock<>(Model);
objMock.Setup(m => m.getValueByCode(It.IsAny<int>,It.IsAny<string>)).Returns("Canada");

objMock.Setup(m => m.getValueByCode(It.IsAny<int>,It.IsAny<string>)).Returns("Motion");

stubhandler  classstubhandler = new stubhandler();

} 
```

上述方法通过，但 codetext 和 datatext 包含相同的值 Motion 我希望它们设置为

```
codetext = Canada
datatext = Motion 
```

我怎样才能做到这一点？

我试过`objMock.VerifyAll()`哪个没有通过测试？？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-26T11:56:18.320

如果使用 MOQ 4，可以使用 SetupSequence，否则可以使用 lambda

使用 SetupSequence 很容易解释。

使用 lambdas 并不太麻烦。重要的一点是返回值是**在声明设置时设置的**。如果一个刚刚使用

```
mockFoo.Setup(mk => mk.Bar()).Returns(pieces[pieceIdx++]); 
```

设置将始终返回pieces[0]。通过使用 lambda，评估被推迟到 Bar() 被调用。

```
public interface IFoo {
    string Bar();
}

public class Snafu {

    private IFoo _foo;
    public Snafu(IFoo foo) {
        _foo = foo;
    }

    public string GetGreeting() {
        return string.Format("{0} {1}",
                             _foo.Bar(),
                             _foo.Bar());
    }

}

[TestMethod]
public void UsingSequences() {

    var mockFoo = new Mock<IFoo>();
    mockFoo.SetupSequence(mk => mk.Bar()).Returns("Hello").Returns("World");

    var snafu = new Snafu(mockFoo.Object);

    Assert.AreEqual("Hello World", snafu.GetGreeting());

}

[TestMethod]
public void NotUsingSequences() {

    var pieces = new[] {
            "Hello",
            "World"
    };
    var pieceIdx = 0;

    var mockFoo = new Mock<IFoo>();
    mockFoo.Setup(mk => mk.Bar()).Returns(()=>pieces[pieceIdx++]);

    var snafu = new Snafu(mockFoo.Object);

    Assert.AreEqual("Hello World", snafu.GetGreeting());

} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-26T11:54:28.663

[Moq 文档](http://code.google.com/p/moq/wiki/QuickStart)说您*可以使用以下方法模拟*连续返回之类的东西`Callback`：

```
var values = new [] { "Canada", "Motion" };
int callNumber = 0;

mock.Setup(m => m.getValueByCode(It.IsAny<int>(), It.IsAny<string>()))
    .Returns((i,s) => values[callNumber])
    .Callback(() => callNumber++); 
```

这可以解决问题，但它不是最优雅的解决方案。[Matt Hamilton](http://madprops.org/blog/moq-triqs-successive-expectations/)在他的博文中提出了更好的方案，巧妙地使用了队列：

```
var values = new Queue<string> { "Canada", "Motion" };

mock.Setup(m => m.getValueByCode(It.IsAny<int>(), It.IsAny<string>()))
    .Returns(() => values.Dequeue()); 
```

调用`mock.Object.getValueByCode`两次，将分别产生`"Canada"`和`"Motion"`字符串。

# xamarin.android - 使用返回按钮关闭 Mvvmcross 教程

> ID：12599729
> 
> 赞同：2
> 
> 时间：2012-09-26T10:31:53.980
> 
> 标签：xamarin.android, mvvmcross

如果我在 MainMenuView 上运行[教程](https://github.com/slodge/MvvmCross/wiki/Tutorial-Part-1)的实现并按回将退出应用程序，但在我的应用程序中它只是转到 SplashScreenView 并被重定向回 MainMenuView 并且我无法在教程中找到它指定或覆盖的位置单击后退按钮

**编辑**：在这里找到解决方案[https://github.com/slodge/MvvmCross/blob/master/Sample%20-%20Tutorial/Tutorial/Tutorial.UI.Droid/SplashScreenActivity.cs](https://github.com/slodge/MvvmCross/blob/master/Sample%20-%20Tutorial/Tutorial/Tutorial.UI.Droid/SplashScreenActivity.cs)

```
[Activity(Label = "Tutorial.UI.Droid", MainLauncher = true, NoHistory = true, Icon = "@drawable/icon")]
public class SplashScreenActivity
    : MvxBaseSplashScreenActivity
{
    public SplashScreenActivity()
        : base(Resource.Layout.SplashScreen)
    {
    }

    protected override void OnViewModelSet()
    {
        // ignored
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-26T13:34:46.577

没有隐藏代码 - 它只是 android 后台堆栈。

您确定您的应用程序实际上正在干净地退出吗？听起来有点像您的应用程序崩溃并重新启动？检查调试日志以找出答案。

或者，也可能是您错过了启动画面上的 nohistory 标志

# c# - 实体框架与来自不同数据库的相同表名冲突

> ID：12599732
> 
> 赞同：5
> 
> 时间：2012-09-26T10:31:55.270
> 
> 标签：c#, entity-framework

我在 Visual Studio 2012 (C#) 中使用实体框架 4 和 MVC 3。

我*首先使用数据库*；有两个单独的数据库，每个数据库都有自己的命名空间和两个单独的 edmx 文件。每个数据库都有一个具有相同名称和字段（但内容不同）的表。当我添加第二个表时，我开始出现编译错误。

```
Ambiguity between 'Interface.CodeFormStatus.FormStatusCodeID' 
and 'Interface.CodeFormStatus.FormStatusCodeID' 
```

似乎有一些复杂的解决方法，或者我可以重命名其中一个表。有没有一个简单的解决方案，因为这一定是一个相当普遍的问题。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2014-12-23T21:14:32.930

我遇到了一种情况，我有两个数据库（一个是另一个的旧版本），我需要将它们集成到一个项目中。自然，几乎每个名字都有冲突。

我为每个数据库创建了两个单独的 edmx 文件，为了清楚起见，将每个文件放在自己的命名空间中。然后我编辑了每个实体名称以反映它来自哪个数据库 - （例如，两者中的“活动”变成了“v13Activities”和“v14Activities”）。

对于要在两个数据库之间镜像的操作，我编写了一个包含两个上下文的包装器。这使得我的代码的重复性大大降低，并且同步问题也更少。

希望这种方法对其他人有所帮助 - 这似乎是一个晦涩难懂的问题，而这个答案是 Google 上的最佳结果之一！

**更新：**在 EF 6.1+ 中，还有另一种解决方案。[您可以有“冲突”的名称，并在使用“数据库中的代码优先”选项](http://msdn.microsoft.com/en-us/data/jj200620.aspx)时用简单的命名空间将它们分开。我会提倡这种解决方案，因为旧的 XML .edmx 样式[将从 EF Core 开始逐步淘汰](https://www.techgig.com/skill/visualbasic/blog/EF7-What-Does-Code-First-Only-Really-Mean/576300)。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2018-04-25T14:59:42.030

[This worked for me.](https://social.msdn.microsoft.com/Forums/en-US/7259621b-228c-4570-88b2-cced9bce04b4/more-than-one-edmx-having-same-table-mapped?forum=adodotnetentityframework) Just click on the table in the designer (the graphical version not the code) Then in the properties next to the, "Name" attribute you can change the name to something different. This will just change the name within the designer and used more as an alias throughout the application.

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-26T11:02:04.507

如果您没有许多具有相同名称的表，那么您可以在设计器（您的`.edmx`文件）中编辑实体名称。因此，只需双击您的一个`CodeFormStatus`实体的名称并使其不同（例如，将其更改为`CodeFormStatusOther`）

# iphone - 如何在目标 c 中减小图像的大小

> ID：12599741
> 
> 赞同：5
> 
> 时间：2012-09-26T10:32:32.960
> 
> 标签：iphone, objective-c, web-services, soap, uiimagepickercontroller

问题是，当图像大小超过 60 kb 时，它不会将图像发布到 Web 服务，但如果图像大小小于 60 kb，则将其发布到 Web 服务。

如何减小目标 c 中图像的大小。以下是我正在使用的代码，

```
-(IBAction)sendEmail:(id)sender
{
    AppDelegate *appDelegate = (AppDelegate *)[[UIApplication sharedApplication] delegate];

    NSLog(@"TABLEDIC%@",appDelegate.tableDic);
    //Parsing
    recordResults = FALSE;

    NSString *soapMessage = [NSString stringWithFormat:@"<?xml version=\"1.0\" encoding=\"utf-8\"?>\n"
                             "<soap:Envelope xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\">\n"
                             "<soap:Body>\n"
                             "<CreateTextMail xmlns=\"http://tempuri.org/\">\n"
                             "<listid>%@</listid>\n"
                             "<fromid>%@</fromid>\n"
                             "<subject>%@</subject>\n"
                             "<replyto>%@</replyto>\n"
                             "<loginid>%@</loginid>\n"
                             "<fromname>%@</fromname>\n"
                             "<forward>%@</forward>\n"
                             "<subscribe>%@</subscribe>\n"
                             "<mailpriority>%@</mailpriority>\n"
                             "<recievermailtext>%@</recievermailtext>\n"
                             "<mailbody>%@</mailbody>\n"
                             "<emailname>%@</emailname>\n"
                             "<signature>%@</signature>\n"
                             "<listname>%@</listname>\n"
                             "<emailtype>%@</emailtype>\n"
                             "<imagecontent>%@</imagecontent>\n"
                             "<imagename>%@</imagename>"
                             "</CreateTextMail>\n"
                             "</soap:Body>\n"
                             "</soap:Envelope>\n",[appDelegate.tableDic valueForKey:@"tableID"],[appDelegate.tableDic valueForKey:@"fromname"],[appDelegate.tableDic valueForKey:@"subject"],[appDelegate.tableDic valueForKey:@"replyto"],[appDelegate.tableDic valueForKey:@"loginid"],[appDelegate.tableDic valueForKey:@"fromname"],forward.text,subscribe.text,[appDelegate.tableDic valueForKey:@"mailpriority"],receivermailtext.text,body.text,[appDelegate.tableDic valueForKey:@"emailName"],[appDelegate.tableDic valueForKey:@"signature"],[appDelegate.tableDic valueForKey:@"tableName"],emailType,strEncoded,imageName.text
                             ];

    NSLog(@"SOPA%@",soapMessage);

    NSURL *url = [NSURL URLWithString:@"http://www.xxx.net/xxx/xxx.asmx"];
    NSMutableURLRequest *theRequest = [NSMutableURLRequest requestWithURL:url];
    NSString *msgLength = [NSString stringWithFormat:@"%d",[soapMessage length]];

    [theRequest addValue:@"text/xml; charset=utf-8" forHTTPHeaderField:@"Content-Type"];
    [theRequest addValue:@"http://tempuri.org/CreateTextMail" forHTTPHeaderField:@"SOAPAction"];
    [theRequest addValue:msgLength forHTTPHeaderField:@"Content-Length"];
    [theRequest setHTTPMethod:@"POST"];
    [theRequest setHTTPBody:[soapMessage dataUsingEncoding:NSUTF8StringEncoding]];

    NSURLConnection *theConnection = [[NSURLConnection alloc] initWithRequest:theRequest delegate:self];

    NSHTTPURLResponse *urlResponse = nil;
    NSError *error = [[NSError alloc] init];
    NSData *responseData = [NSURLConnection sendSynchronousRequest:theRequest returningResponse:&urlResponse error:&error];

    NSString *result = [[NSString alloc] initWithData:responseData encoding:NSUTF8StringEncoding];
    NSLog(@"Response Code : %d",[urlResponse statusCode]);
    if([urlResponse statusCode] >= 200 && [urlResponse statusCode] < 300)
    {
        NSLog(@"Response: %@",result);
    }

    if( theConnection )
    {
        webData = [NSMutableData data];
    }
    else
    {
        NSLog(@"theConnection is NULL");
    }

    [subject resignFirstResponder];
    [replyto resignFirstResponder];
    [loginid resignFirstResponder];
    [fromname resignFirstResponder];
    [emailName resignFirstResponder];
    [signature resignFirstResponder];
    [listName resignFirstResponder]; 

}

-(void)takeCamera
{
    if([UIImagePickerController isSourceTypeAvailable:UIImagePickerControllerSourceTypeCamera])
    {
        NSLog(@"take a photo");
        UIImagePickerController *imagePicker = [[UIImagePickerController alloc] init];
        imagePicker.delegate = (id)self;
        imagePicker.sourceType = UIImagePickerControllerSourceTypeCamera;

        imagePicker.mediaTypes = [NSArray arrayWithObjects:(NSString *)kUTTypeImage, nil];
        imagePicker.allowsEditing = NO;
        [self presentModalViewController:imagePicker animated:YES];

        newMedia = YES;
    }
}

-(void)pickCameraRoll
{
    if([UIImagePickerController isSourceTypeAvailable:UIImagePickerControllerSourceTypeSavedPhotosAlbum])
    {
        UIImagePickerController *imagePicker = [[UIImagePickerController alloc]init];
        imagePicker.delegate = (id)self;
        imagePicker.sourceType = UIImagePickerControllerSourceTypePhotoLibrary;
        imagePicker.mediaTypes = [NSArray arrayWithObjects:(NSString *)kUTTypeImage, nil];
        imagePicker.allowsEditing = NO;
        [self presentModalViewController:imagePicker animated:YES];
        newMedia = NO;
    }
}

-(void)imagePickerController:(UIImagePickerController *)picker didFinishPickingMediaWithInfo:(NSDictionary *)info
{
    NSString *mediaType = [info objectForKey:UIImagePickerControllerMediaType];
    [self dismissModalViewControllerAnimated:YES];
    if([mediaType isEqualToString:(NSString *)kUTTypeImage])
    {
        UIImage *image = [info objectForKey:UIImagePickerControllerOriginalImage];
        imageView.image = image;
        NSData *myData = UIImagePNGRepresentation(image);
       // NSLog(@"NSData : %@",myData);

        [Base64 initialize];
        strEncoded = [Base64 encode:myData];
        NSLog(@"strEncoded : %@",strEncoded);

        if(newMedia)
            UIImageWriteToSavedPhotosAlbum(image, self, @selector(image:finishedSavingWithError:contextInfo:), nil);
        NSLog(@"image pick");
    }
    else if ([mediaType isEqualToString:(NSString *)kUTTypeImage])
    {

    }
}

-(void)image:(UIImage *)image finishedSavingWithError:(NSError *)error contextInfo:(void *)contextInfo
{
    if(error)
    {
        UIAlertView *alert = [[UIAlertView alloc]initWithTitle:@"Save Failed" message:@"Failed to save image" delegate:nil cancelButtonTitle:@"OK" otherButtonTitles:nil];
        [alert show];
    }
}

-(void)imagePickerControllerDidCancel:(UIImagePickerController *)picker
{
    [self dismissModalViewControllerAnimated:YES];
} 
```

设备中的问题是什么，它无法将图像发送到 Web 服务，但能够在 iphone 模拟器中成功发送。任何建议都会非常有帮助。提前致谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-26T13:00:58.407

对于解压缩图像使用以下代码，它循环直到图像大小减小到最大图像大小。

```
CGFloat maxCompressionFactor = 0.1f;
CGFloat compressionFactor = 0.9f;
int maxImageSize = 60 * 1024;

NSData *imageData = UIImageJPEGRepresentation(image, compressionFactor);

while ([imageData length] > maxImageSize && compressionFactor > maxCompressionFactor)
{
    compressionFactor -= 0.1;
    imageData = UIImageJPEGRepresentation(image, compressionFactor);
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-26T12:49:21.227

在牺牲图像质量的情况下，可以通过增加压缩来减小图像的大小。

使用：UIImageJPEG表示

```
UIImage *compressedImage = UIImageJPEGRepresentation(theImage, 0.5); 
```

# c++ - 开始新构建时从 Visual Studio 错误列表中删除旧条目。

> ID：12599744
> 
> 赞同：1
> 
> 时间：2012-09-26T10:32:40.683
> 
> 标签：c++, visual-studio-2010, visual-studio

VS 2010 有一个令人讨厌的习惯，即即使在您开始新构建之后也会保留旧错误（来自上次构建）。我看到这很好的场景，但我不需要它而且它很烦人，因为它迫使我通过输出窗口并在当前构建中搜索错误。

顺便说一句，如果这很重要，我将使用 VS 进行 C++ 开发 idk。

# wpf - 如何使用 mvvm 从 wpf 中的 ResourceDictionary 访问键值

> ID：12599751
> 
> 赞同：0
> 
> 时间：2012-09-26T10:32:58.840
> 
> 标签：wpf, mvvm

我在我的 WPF-MVVM 应用程序的 Resource 文件夹下创建了 Resource.fr-CA.xaml、Resource.en-US.xaml 文件。

我创建了 Resource.fr-CA.xaml 和 Resource.en-US.xaml 文件，如下所示：

**资源.fr-CA.xaml**

```
<system:String x:Key="EntUser_PhoneNo_Label">Num\u00e9ro de t\u00e9l\u00e9phone</system:String> 
```

**Resource.en-US.xaml**

```
<system:String x:Key="EntUser_PhoneNo_Label">Phone Number</system:String> 
```

我的应用程序包含一个组合框来选择不同类型的语言。

如果用户选择**法语**，那么我必须 从**Reource.fr-CA获取****“EntUser_PhoneNo_Label”**键值，或者如果用户选择**英语**，那么我必须从**Resource.en-US.xaml**获取值。

 ******请让我知道如何从后面的代码中从相应的 .xaml 文件的 ResourceDictionary 中获取键/值的解决方案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-26T13:25:42.387

这段代码运行良好：

```
 byte[] utf8String = Encoding.UTF8.GetBytes("Num\u00e9ro de t\u00e9l\u00e9phone"); 
   string str1 = Encoding.UTF8.GetString(utf8String); 
```

这也是：

```
public static class  StringDecoder
    {
        public static string Decode(string str)
        {
            if (str == null)
            {
                return null;
            }
            return HttpUtility.UrlDecode(str, Encoding.UTF8);
        }

    }
var str = StringDecoder.Decode("Num\u00e9ro de t\u00e9l\u00e9phone"); // returns Numéro de téléphone 
```******

# mysql - MySQL：获取具有不同参数的行

> ID：12599752
> 
> 赞同：2
> 
> 时间：2012-09-26T10:33:08.017
> 
> 标签：mysql, sql

假设我有下一张桌子

```
Table names
id | name
1  | mike
2  | john
3  | jack

Table attributes
name_id | skill
1 | css
1 | html
1 | php
2 | html
2 | java
2 | css
3 | java 
```

我需要获取所有具有 css 和 html 属性的 id 和名称。我试过使用“JOIN”，但要搜索的属性数量可能不同。

我还没有尝试过其他任何东西，因为我不知道该尝试什么。

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-26T10:35:32.507

尝试使用`GROUP BY ...`和`HAVING COUNT(DISTINCT ...)`：

```
SELECT name_id
FROM attributes
WHERE skill IN ('css', 'html')
GROUP BY name_id
HAVING COUNT(DISTINCT skill) = 2 
```

在线查看它：[sqlfiddle](http://sqlfiddle.com/#!2/5ecc7/1)

您可以加入以获取名称。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-26T10:35:16.360

```
select names.id, names.name
from
    names
        inner join 
    attributes
        on names.id = attributes.name_id
where skill in ('css','html')
group by names.id, names.name
having count(distinct skill) = 2 -- where 2 is the number of skills you are looking for 
```

# java - 如何使用 Spring MVC 和 Spring JdbcTemplate RowCallbackHandler 和流结果？

> ID：12599757
> 
> 赞同：1
> 
> 时间：2012-09-26T10:33:35.360
> 
> 标签：java, spring, rest, spring-mvc, callback

我目前有一个默认的 Spring 架构：Repostiory、Service、Controller (Spring WebMVC)、JacksonJson Mapper 作为“视图”。我所有的存储库/服务/控制器方法看起来像：

```
public Collection<Pet> findPetsWithName(String name) {} 
```

所以基本上每个层都会检索数据，进行一些计算并将其返回到下一层。

随着数据大小的增加，我使用 Spring JdbcTemplate、fetchsize 设置和 RowCallbackHandler 来“流式传输”数据库结果，而不是一次获取所有结果。

我现在的问题是：我可以将“回调”方法应用于所有层，不仅是存储库层，以便所有结果都进入回调函数，将它们作为集合返回？它适用于 SpringMVC 视图吗？我想我最终会得到一个链式回调：

RowCallbackHandler(ServiceCallbackHandler(ControllerCallbackHandler(SpringViewHandler(HttpSerlvetResponse))))

```
public void findPetsWithName(String name, Callback<Pet> callback) {} 
```

有没有人体验过这种方法？是否有现有的模式或模板？我认为只有大数据量才有好处，因为它更难设计。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-19T11:43:08.770

我唯一一次将数据从行映射器流式传输到响应是当我们在数据库中存储大型加密二进制数据并希望按原样流式传输它以由我们的 think 客户端解密时。

假设这是您正在考虑的那种情况，您应该使用 ResultSetExtractor。您可以从回调中的结果集中获取流（假设您的数据类型是 blob 等效的），并将其通过管道传输到响应输出流，该流被接受为您的 repo 方法的参数。

让我知道您是否希望实现一种设计，其中每一行都应映射到一个对象，并且回调机制应将对象逐个传递回更高层。

# jquery - 更改许多 ajax 调用的功能

> ID：12599758
> 
> 赞同：0
> 
> 时间：2012-09-26T10:33:37.093
> 
> 标签：jquery, ajax

假设您正在处理一个执行大量`jQuery.ajax`请求的项目。`"loading..."`现在您想在请求运行时显示一种消息。

你怎么能做到这一点？您不能更改所有`$.ajax`调用（例如，调用太多或保持一致的行为很重要）

需要一些指导...谢谢...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-26T10:39:04.797

检查此页面：[http ://api.jquery.com/category/ajax/](http://api.jquery.com/category/ajax/)

你会看到`.ajaxStart()`。检查该页面，我相信您会弄清楚的。由于您的个人资料显示：“非常热衷于学习新事物”，我不会全力以赴 :-)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-26T10:39:20.530

检查这个：[http ://api.jquery.com/ajaxStart/](http://api.jquery.com/ajaxStart/)

在该页面中，您将看到：

用于在 Ajax 请求启动时显示加载消息（并且没有一个已处于活动状态）。

```
$("#loading").ajaxStart(function(){
   $(this).show();
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-26T10:42:08.960

您可以像这样监听所有 ajax 事件：

```
$("#loading").bind("ajaxSend", function() {
    $(this).show();
}).bind("ajaxComplete", function(){
    $(this).hide();
}); 
```

此页面中的更多信息：http: [//docs.jquery.com/Ajax_Events](http://docs.jquery.com/Ajax_Events)

# c# - 如何连接 Azure 联合根数据库并在实体框架中应用联合？

> ID：12599762
> 
> 赞同：0
> 
> 时间：2012-09-26T10:33:59.903
> 
> 标签：c#, entity-framework-4, azure, azure-sql-database

我尝试了以下代码：

```
CrmEfEntities dc = new CrmEfEntities(federatedRootDBConnectionString);
string federationCmdText = @"USE FEDERATION Customer_Test_Federation (testId=100) WITH FILTERING=ON, RESET";
dc.ExecuteStoreCommand(federationCmdText);  
var count = dc.Projects.Count(); 
```

我收到异常消息 - {"Invalid object name 'dbo.Project'."} 它连接到联合根数据库。执行了联合 sql 命令。但我没有得到实体对象。我正在使用 EntityFramework 4.0 。有人知道这个吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-26T12:05:50.327

您必须在 USE FEDERATION 命令之前打开连接

```
using (DemoEntities db = new DemoEntities())
{
   db.Connection.Open();
   string federationCmdText = @"USE FEDERATION ProdutosFed(ID = 110) WITH RESET, FILTERING=OFF";
   db.ExecuteStoreCommand(federationCmdText); 
} 
```

# mod-rewrite - mod_rewrtie 重新映射和重定向

> ID：12599764
> 
> 赞同：0
> 
> 时间：2012-09-26T10:34:09.527
> 
> 标签：mod-rewrite

我想做的是：

如果 url [http://example.com/foo/foo.php](http://example.com/foo/foo.php)被调用，它应该用 301 重定向到[http://example.com/bar/foo.php](http://example.com/bar/foo.php)

和

如果 url [http://example.com/bar/foo.php](http://example.com/bar/foo.php)被调用，它会在内部调用 /bar/foo.php 脚本，但浏览器 url 不会改变（重新映射）。

我的规则看起来像这样

```
RewriteRule ^foo/foo.php(.*) bar/foo.php$1 [R=301]
RewriteRule ^bar/foo.php(.*)$ foo/foo.php$1 [PT] 
```

但这给了我太多重定向错误。

每个单独激活的规则都有效，但它们似乎相互冲突......

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-26T10:50:10.877

您可以匹配实际请求：

```
RewriteCond %{THE_REQUEST} ^[A-Z]{3,9}\ /foo/foo.php
RewriteRule ^foo/foo.php(.*) bar/foo.php$1 [R=301]
RewriteRule ^bar/foo.php(.*)$ foo/foo.php$1 [L] 
```

或者完全防止重写循环：

```
RewriteCond %{ENV:REDIRECT_STATUS} !200
RewriteRule ^foo/foo.php(.*) bar/foo.php$1 [R=301]
RewriteRule ^bar/foo.php(.*)$ foo/foo.php$1 [L] 
```

# algorithm - 使用多个堆进行堆排序

> ID：12599765
> 
> 赞同：1
> 
> 时间：2012-09-26T10:34:14.850
> 
> 标签：algorithm, sorting, heapsort

我在[http://students.ceid.upatras.gr/~lebenteas/Heapsort-using-Multiple-Heaps-final.pdf](http://students.ceid.upatras.gr/~lebenteas/Heapsort-using-Multiple-Heaps-final.pdf)`Heapsort`找到了使用多个堆的变体。该解决方案提出，代替传统算法，在每次交换之后，我们再做一次以将当前堆中的最高值带到根，我们可以做一些其他的事情。但是，我无法理解他们所说的“其他事物”到底是什么意思。`Heapsort``siftdown`

例如，有一次他们说**我们暂时“忘记”了根的存在。**这肯定意味着我们目前正在暂停最高元素与堆的最后一个元素的交换。然而，就在几行之后，他们说**到目前为止，已经在堆的排序部分转移了两个元素。**，这与尚未完成交换的命题背道而驰。同样在第97页的图中，缺少值为1的节点，我不知道如何。

谁能给我一个关于作者试图传达的确切内容的想法，以及它有多大价值？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-26T10:51:58.467

(The line you asked about is in section 2.3, so I will explain the variation of heapsort which is proposed in section 2.3:)

When the author says **we "forget" the existence of the root**, this does *not* mean that they are stalling the swapping of the highest element. The swap is done, but they temporarily delay rebuilding the heap. After swapping the highest element into the root position, they compare the roots of the 2 subheaps, and swap one or the other with the next-highest element. *Then*, after doing *2* swaps (rather than 1), they rebuild the heap.

Then they take this idea a step further in sections 3 and 4, and propose *another* variant of heapsort, which uses more than one heap.

How do you keep more than one heap in an array? (To make it concrete, let's talk about 2 heaps.) Well, how do you keep a single heap? The root goes at index 0, its children are at 1 and 2, then the children of the left subheap are at 3 and 4, etc., right?

To put 2 heaps together in an array, keep the 2 roots at 0 and 1\. The children of the first root go at 2 and 3, then the children of the 2nd root at 4 and 5... with such an arrangement, it is still possible to navigate up and down the tree by doing simple arithmetic operations on indexes.

The standard heapsort repeats 2 steps: swap the root with the last element in the "heap" area, then `siftDown` to rebuild the heap. *This* heapsort repeats the following 3 steps: compare the 2 roots to see which one is bigger, swap that one with the last element in the "heap" area, then call `siftDown` on the appropriate heap.

This requires an extra compare at each step, but the `siftDown` operations work on slightly shallower heaps, which saves more than a single compare.

# facebook - FB.login 出现在 IE 9 的页面后面

> ID：12599766
> 
> 赞同：0
> 
> 时间：2012-09-26T10:34:15.287
> 
> 标签：facebook, internet-explorer-9, facebook-javascript-sdk

我们已准备好部署 Facebook 应用程序，用户可以在其中搜索他们的一位朋友并选择此朋友。

单击输入标签时，我调用 FB.login() 并获得必要的权限。它适用于所有浏览器，但客户遇到一个奇怪的问题（我无法重现）。

单击输入标签时，来自 Facebook 的权限对话框会出现在网站后面（不会在前面弹出），给人一种失败的印象。客户可以在 IE 的组合窗口上悬停时找到它，但这并不直观。

她在 Win7 上使用 IE9（32 位）——和我和其他测试人员一样（除了被模拟 32 位）。她提到它之前已经按预期工作，但是在我测试了所有代码库之后，我仍然找不到解决方案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-01T18:16:54.583

问题仅发生在 Active Directory 场中的 PC 上。一旦他们选择更新所有 IE，问题就消失了。

# php - php glob() 替代品

> ID：12599768
> 
> 赞同：1
> 
> 时间：2012-09-26T10:34:22.243
> 
> 标签：php, wordpress

我有一个使用 glob() 函数的 wordpress 主题。问题是我的托管公司禁用了 glob()。如何修改代码以使其使用其他 php 函数（也许是 opendir() ？）

这是代码：

```
function yiw_get_tabs_path_files() {          
$theme_files_path = YIW_THEME_FUNC_DIR . 'theme-options/';
$core_files_path  = YIW_FRAMEWORK_PATH . 'theme-options/options/';

$tabs = array();

foreach ( glob( $theme_files_path . '*.php' ) as $filename ) {
    preg_match( '/(.*)-options\.(.*)/', basename( $filename ), $filename_parts );
    $tab = $filename_parts[1];

    $tabs[$tab] = $filename;
}

foreach ( glob( $core_files_path . '*.php' ) as $filename ) {
    preg_match( '/(.*)-options\.(.*)/', basename( $filename ), $filename_parts );
    $tab = $filename_parts[1];

    $tabs[$tab] = $filename;
}

return $tabs; 
```

}

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-26T10:40:58.883

您可以按照您的建议使用[opendir](http://php.net/manual/en/function.opendir.php)、[readdir](http://php.net/manual/en/function.readdir.php)和[closedir的组合。](http://php.net/manual/en/function.closedir.php)

```
// open the directory
if ($handle = opendir($file_path)) {

  // iterate over the directory entries
  while (false !== ($entry = readdir($handle))) {

    // match on .php extension
    if (preg_match('/\.php$/', $entry) {
      ...
    }
  }

  // close the directory
  closedir($handle);
} 
```

如果这些也被禁用，您可以尝试面向对象的[Directory](http://php.net/manual/en/function.dir.php)类。

# css - 如何在``元素中垂直对齐`inline-block`元素？

> ID：12599776
> 
> 赞同：3
> 
> 时间：2012-09-26T10:34:37.673
> 
> 标签：css, html

我无法设法垂直对齐`inline-block` `<span>`元素内的`<td>`元素（具有其默认`display: table-cell`样式）。

这两个元素都有固定的大小：`<td> is 24px tall and so is the``.

我希望这两个元素具有相同的渲染大小，因为它们都没有边距或填充。但是，它似乎`<td>`比预期的要高，我不知道为什么。

此[jsfiddle](http://jsfiddle.net/NxmhC/)中的示例。

您知道为什么会发生这种情况以及如何“修复”它吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-26T10:37:57.030

添加`font-size:0`到 td 类

```
td {
    height: 24px;
    vertical-align: middle;
    background-color: red;
    margin: 0;
    padding: 0; font-size:0
} 
```

更新了演示[http://jsfiddle.net/NxmhC/1/](http://jsfiddle.net/NxmhC/1/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-26T10:54:21.660

对齐跨度：

```
span.foo {
    display: inline-block;
    height: 24px;
    width: 16px;
    background-color: lime;
    margin: 0;
    padding: 0;
    vertical-align: top;
} 
```

# php - Magento 中锚定类别的产品数量

> ID：12599782
> 
> 赞同：0
> 
> 时间：2012-09-26T10:34:56.313
> 
> 标签：php, magento

我想要一个脚本或想法，通过它我可以获得锚定类别的产品数量。

我尝试`loadProductCount()`了类中的方法，`Mage_Catalog_Model_Resource_Eav_Mysql4_Category_Collection`但它没有返回产品计数，而是返回一个数组。请查看下面给出的数组：

```
Array
(
    [0] => Array
        (
            [entity_id] => 1
            [entity_type_id] => 3
            [attribute_set_id] => 0
            [parent_id] => 0
            [created_at] => 0000-00-00 00:00:00
            [updated_at] => 2011-10-31 16:14:51
            [path] => 1
            [position] => 0
            [level] => 0
            [children_count] => 163
        )

    [1] => Array
        (
            [entity_id] => 2
            [entity_type_id] => 3
            [attribute_set_id] => 3
            [parent_id] => 1
            [created_at] => 2011-10-31 16:14:51
            [updated_at] => 2012-09-07 20:51:21
            [path] => 1/2
            [position] => 1
            [level] => 1
            [children_count] => 163
        )

[2] => Array
    (
        [entity_id] => 117
        [entity_type_id] => 3
        [attribute_set_id] => 0
        [parent_id] => 2
        [created_at] => 2012-09-07 16:51:28
        [updated_at] => 2012-09-10 07:55:24
        [path] => 1/2/117
        [position] => 13
        [level] => 2
        [children_count] => 15
    ) 
```

……

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2015-08-24T18:29:43.043

如果您想要一个锚类别的所有产品，请使用此

```
Mage::registry('current_category')->getProductCollection()->count() 
```

例如，如果您想在`/template/catalog/category/view.phtml`使用的产品列表页面上显示产品数量：

```
<?php if( $_category->getIsAnchor() ): ?>
    <span class="product-count" ><span class="count"><?php echo $_category->getProductCollection()->count(); ?></span> Artikel</span>
<?php else: ?>
    <span class="product-count" ><span class="count"><?php echo $_category->getProductCount(); ?></span> Artikel</span>
<?php endif; ?> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-26T10:48:32.220

上的`getProductCount`功能`Mage_Catalog_Model_Category`应该返回您所追求的信息。

# php - 无法开启重写引擎

> ID：12599785
> 
> 赞同：0
> 
> 时间：2012-09-26T10:35:06.313
> 
> 标签：php, .htaccess, mod-rewrite

我在为我的网站实现 MVC 设计模式时遇到了一个问题。我在文件夹中有一个名为*“svce”*的文件夹`/www`（这是我的`DOCUMENT_ROOT`）。我创建了一个`.htaccess`文件并在其中编写了以下代码：

```
RewriteEngine On
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-l
RewriteRule ^(.+)$index.php?url=$1 [QSA,L] 
```

然后我编辑了`httpd.conf`文件并取消了`LoadModule rewrite_module modules/mod_rewrite.so`.

即使这样做了，`RewriteEngine`也不行。当我尝试使用 访问应用程序`http://localhost/svce/blahblah.php`时，它给了我一个默认的 404 错误页面。

IT 应该只向我显示`/svce`目录中的索引页。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-26T10:39:32.650

你错过了一个空间：

```
# here -----------v
RewriteRule ^(.+)$ index.php?url=$1 [QSA,L] 
```

如果没有那个空间，规则想要重写一个看起来像的 URI`/something/$index.phpurl=$1`并将其重写为`[QSA,L]`，这可能不是一个有效的资源。

此外，请确保您已`AllowOverride All`在服务器配置中进行设置。

# indy - 使用 TIdCmdTcpClient 读取

> ID：12599788
> 
> 赞同：0
> 
> 时间：2012-09-26T10:35:12.303
> 
> 标签：indy

我有一个 TIdCmdTCPClient，它从 tcp 服务器（用 C 编写）接收以 LF 结尾的命令到命令处理程序中，并相应地使用 TIdNotify 更新 UI。如果不是有时我需要使用 writeln 和 readln 以传统方式与服务器通信，那么一切都很好。如果我尝试这样做，则会出现诸如 UI 冻结、后续命令稍后到达等问题。

是否有一种特定的方法可以使 writeln-readln 对与 TIdCmdTCPClient 一起工作，因为它们与 TIdTCPClient 一起工作？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-27T01:02:13.797

请提供有关您正在实施的协议的更多信息。当您在命令处理程序事件中时，您当然可以发出额外的`WriteLn()`和`ReadLn()`调用，只要这是服务器期望您执行的操作。但是，如果您需要在`ReadLn()`带外调用，那么您将与`TIdCmdTCPClient`'s 的内部读取发生冲突。

# mono - 在 iOS6 中使用 Mono 处理方向

> ID：12599793
> 
> 赞同：0
> 
> 时间：2012-09-26T10:35:29.213
> 
> 标签：mono, xamarin.ios, monodevelop, ios6

对于这个问题，我在 XCode 上发现了同样的问题

[无法在 iOS 6 中处理方向？](https://stackoverflow.com/questions/12519693/unable-to-handle-orientation-in-ios-6)

我还没有找到 Mono 映射方法

```
this.windows.setRootViewController(viewControllerObj); 
```

Mono如何修复它？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-26T11:55:58.133

您在 AppDelegate 的 FinishedLaunching 方法中设置它：

```
public override bool FinishedLaunching (UIApplication app, NSDictionary options)
{
    [...]
    window.RootViewController = viewControllerObj;
    [...]
} 
```

# eclipse - 允许 FileFieldEditor 中不存在的文件

> ID：12599802
> 
> 赞同：1
> 
> 时间：2012-09-26T10:35:53.837
> 
> 标签：eclipse, eclipse-rcp

> **可能重复：**
> [jface.preference.FileFieldEditor 无法指定新文件](https://stackoverflow.com/questions/2536362/jface-preference-filefieldeditor-cant-specify-a-new-file)

我正在创建一个偏好页面，用户可以在其中指定一个文件来存储东西。当他们指定文件时，它可能存在也可能不存在（对于新文件，他们导航到目标目录，然后手动添加文件名） - 这没关系。我尝试将[FileFieldEditor](http://help.eclipse.org/indigo/index.jsp?topic=%2Forg.eclipse.platform.doc.isv%2Freference%2Fapi%2Forg%2Feclipse%2Fjface%2Fpreference%2FFileFieldEditor.html)用于简单的属性对话框。但是我不能让它接受一个不存在的文件名（还）。我能做些什么？

代码片段：

```
public class Preferences extends FieldEditorPreferencePage implements
    IWorkbenchPreferencePage {

public Preferences() {
    super(GRID);
}

public void createFieldEditors() {
    Composite parent = this.getFieldEditorParent();
    FileFieldEditor mf = new FileFieldEditor("SaveWhere", &Your destination file name:",parent);
    String[] extensions = { "*.xml" };
    mf.setFileExtensions(extensions);
    mf.setChangeButtonText("Pick one ...");
    this.addField(mf);
    }
} 
```

帮助表示赞赏。

# jsp - .xls 的下载无法在 Firefox 中运行

> ID：12599807
> 
> 赞同：0
> 
> 时间：2012-09-26T10:36:15.220
> 
> 标签：jsp

我有一个网站，我在其中上传了一个名为 abc.xls 的 excel 文件供客户下载。

但是，当我尝试在 firefox 上对 .xls 文件进行 ad/l 操作时，它不会下载，只会转到 domain.com/abc.xls 并且屏幕截图中显示了一些外来词。

我尝试使用 IE d/l 相同的文件，我能够成功地做到这一点。

有谁知道可能是什么问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-26T10:39:02.317

听起来您需要将 ContentType 设置为 'application/vnd.ms-excel'

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-26T10:42:20.187

尝试添加内容处置标头

```
resp.addHeader("Content-Disposition", "attachment; filename=excelTest.xls") 
```

# android - 注释前的 android-midi-lib 延迟

> ID：12599823
> 
> 赞同：1
> 
> 时间：2012-09-26T10:37:10.963
> 
> 标签：android, midi

我正在尝试生成 MIDI 文件并在 Android 上播放。我找到了 android-midi-lib，但几乎没有关于这个库的任何文档。我试图从这个库中运行示例。有用。但是在我的音符开始播放之前大约有 6 秒的延迟。我对笔记和midi格式一无所知。一切对我来说都是新的。

这是我的代码：

```
public class MyActivity extends Activity {

private MediaPlayer player = new MediaPlayer();

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);
    MidiTrack tempoTrack = new MidiTrack();
    MidiTrack noteTrack = new MidiTrack();

    // 2\. Add events to the tracks
    // 2a. Track 0 is typically the tempo map

    Tempo t = new Tempo();
    t.setBpm(228);

    tempoTrack.insertEvent(t);

    // 2b. Track 1 will have some notes in it
    for(int i = 0; i < 128; i++) {

        int channel = 0, pitch = i, velocity = 100;
        NoteOn on = new NoteOn(i*480, channel, pitch, velocity);
        NoteOff off = new NoteOff(i*480 + 120, channel, pitch, 0);

        noteTrack.insertEvent(on);
        noteTrack.insertEvent(off);
    }

    // It's best not to manually insert EndOfTrack events; MidiTrack will
    // call closeTrack() on itself before writing itself to a file

    // 3\. Create a MidiFile with the tracks we created
    ArrayList<MidiTrack> tracks = new ArrayList<MidiTrack>();
    tracks.add(tempoTrack);
    tracks.add(noteTrack);

    MidiFile midi = new MidiFile(MidiFile.DEFAULT_RESOLUTION, tracks);

    // 4\. Write the MIDI data to a file

    File output = new File("/sdcard/example.mid");
    try {
        midi.writeToFile(output);
    } catch(IOException e) {
        Log.e(getClass().toString(), e.getMessage(), e);
    }
    try {
        player.setDataSource(output.getAbsolutePath());
        player.prepare();
    } catch (Exception e) {
        Log.e(getClass().toString(), e.getMessage(), e);
    }
    player.start();
}

@Override
protected void onDestroy() {
    player.stop();
    player.release();
    super.onDestroy();
} 
```

}

我发现这种延迟取决于 NoteOn 构造函数中的第一个参数（也可能是 NoteOff）。我不明白什么是480号码。我试图改变这个数字，这个数字比轨道前的延迟更短，但整个轨道更短。

似乎 480 值的音符之间的时间对我来说很好，但我不需要在它们之前延迟。

请帮帮我！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-03T03:16:41.237

好的，我发现了问题所在。

根据这个网址[http://www.phys.unsw.edu.au/jw/notes.html](http://www.phys.unsw.edu.au/jw/notes.html)钢琴的 MIDI 值例如从 21 开始。所以如果我从 0 开始循环，那么前 20 个值将不会播放任何东西.

现在关于延迟。

循环应该是这样的：

```
delay = 0;
duration = 480; // ms
for (int i = 21; i < 108; ++i) {
       noteTrack.insertNote(chanel, i, velocity, delay, duration);
       delay += duration;
} 
```

延迟意味着应该在什么时间播放音符。因此，如果我们想一个一个地播放所有音符，我们需要将延迟设置为所有先前音符持续时间的总和。

# liferay-6 - Liferay Service Builder - 日期之间的 FinderImpl

> ID：12599826
> 
> 赞同：1
> 
> 时间：2012-09-26T10:37:21.637
> 
> 标签：liferay-6

使用 Liferay 6.0.6 ServiceBuilder 我正在尝试实现查找器方法。
我希望该方法返回创建日期在给定日期范围之间的所有对象。

我了解到 hibernate 提供了标准`Expression.between("date", dateFrom, dateTo)`。

我使用的Howerver`com.liferay.portal.kernel.dao.orm.SQLQuery`没有提供这样的标准。

也许我已经错过了 service.xml 中的某些内容，但我在这里发现的唯一 `<finder-column name="createDate" comparator=""/>`内容是我认为这没有帮助。

是否有不同的方法来实现这个查找器方法，因为我想/更改 service.xml？

感谢您的建议

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-27T06:31:30.497

进一步的调查让我想到了
`RestrictionsFactoryUtil.between("deleteDate", dateFrom, dateTo); DynamicQueryFactoryUtil.forClass(Test.class).add(criterion)`
所以有一个工作标准;）

# javascript - 如何通过 websockets 发送结构

> ID：12599830
> 
> 赞同：-1
> 
> 时间：2012-09-26T10:37:29.667
> 
> 标签：javascript, c++, json, html, websocket

我想发送一个结构

```
struct s {
    unsigned int a;
    unsigned short b;
    unsigned char str[16];

} 
```

如何使用javascript发送上述结构？而且我不能使用json。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-26T12:16:46.657

没有办法以您不必在服务器中进行任何解包的方式“发送结构”。struct 定义只对 C++ 服务器有意义，即使在那里也不能保证它映射到内存的方式。您将需要某种序列化（将程序数据转换为可解析的数据流以进行存储或传输），而 XML 和 JSON 等文本格式是一种简单而可靠的方法。我会选择 JSON，因为 Javascript 本身就支持它；您所要做的就是向对象添加属性，然后对其进行[JSON.stringify](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/JSON/stringify)。真正的工作是在服务器端。在那里，您需要使用诸如[JsonCpp](http://jsoncpp.sourceforge.net/)或[nosjob](http://fossil.wanderinghorse.net/repos/nosjob/index.cgi/index)之类的库来读取 JSON 数据。

# c - malloc 未分配正确的字节数

> ID：12599831
> 
> 赞同：-1
> 
> 时间：2012-09-26T10:37:31.153
> 
> 标签：c, malloc

gcc (GCC) 4.7.0 c89

我正在使用以下方法分配内存：

```
db_data_size = 32;
db->db_data[i]->name = malloc(db_data_size);

(gdb) p db_data_size
$24 = 32
(gdb) p sizeof(db->db_data[i]->name)
$25 = 8
(gdb) n
205   db->db_data[i]->email = malloc(db_data_size);
(gdb) p sizeof(db->db_data[i]->name)
$26 = 8 
```

在调试器中，我得到了 8 个字节，而不是我认为应该分配的 32 个字节。

我的结构是：

```
struct data {
    int id;
    int set;
    char *name;
    char *email;
};

struct database {
    struct data **db_data;
    size_t database_rows;
    size_t database_data_size;
}; 
```

我能想到的唯一想法是 char* 是 8 个字节，这就是我得到的。但是，在 malloc 中，我明确要求 32 个字节。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-26T10:39:52.100

```
sizeof(db->db_data[i]->name) 
```

告诉你大小

```
char *name; 
```

这是指针（指向字符）的大小。它不会告诉您分配块的大小；如果您需要记住这一点，则必须单独存放。

`8`64 位系统上指针的正确答案也是如此。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-26T10:41:38.560

`sizeof`是一个编译时运算符，它给出了数据类型的大小。它不会告诉您分配的内存块的大小，而是告诉您 a 的大小，`char*`在您的 64 位系统上是 8 个字节。

跟踪分配块的大小由您决定。

# ios - Phonegap (Cordova) mailto 与 CC 的链接不起作用

> ID：12599832
> 
> 赞同：2
> 
> 时间：2012-09-26T10:37:32.193
> 
> 标签：ios, cordova, mailto, carbon-copy

您好，我正在尝试添加一个简单的链接，例如：

```
<a href="mailto:me@mydomain.com&cc=me2@domain.com&subject=mysubject">Contact</a> 
```

IOS 中的邮件应用程序没有将每个内容放在电子邮件中的尊重字段（收件人、抄送、主题）中，而是将整个字符串放在“收件人”字段中。

我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-28T19:12:24.830

第一个查询字符串应以“？”开头 代替 ”＆”。

所以最终的结果是：

```
<a href="mailto:me@mydomain.com?cc=me2@domain.com&subject=mysubject">Contact</a> 
```

# vb.net - 如何操作通过引发事件解析的参数/参数？

> ID：12599835
> 
> 赞同：0
> 
> 时间：2012-09-26T10:37:44.270
> 
> 标签：vb.net, unit-testing, events

我有这个文本加载器类，我正在尝试为其编写测试。它的一个方法执行一个 RaiseEvent ，并将 CancelEventArgs 作为参数解析，所以是这样的：

```
Private Sub FireThisEvent()
    cancelEvent created here
    RaiseEvent HelloWorld(cancelEvent)

    If cancelEvent.Cancel Then
        'do smthg
    End If
End Sub 
```

事件的处理程序`HelloWorld`是我的 UI 类，它会弹出一个让用户决定是或否的弹出窗口，然后设置`cancelEvent.Cancel`为`True`or 或`False`。然后上述方法检查`cancelEvent`并相应地执行操作。

我的问题是，因为我只测试加载器类（而不是 UI），所以在引发事件之后如何操作，`cancelEvent`以便我可以测试 when `cancelEvent.Cancel`is`True`和 then ，when it is `False`。谢谢你。

我会模拟 UI 类吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-28T08:17:53.740

我对此的解决方案是在测试方法中添加一个事件处理程序，以便在引发事件时，测试方法将创建一个 CancelEventAgrs 并将其 Cancel 设置为 True/False。

```
Public Sub TestingMethod()
        Dim txt As TextLoader = Nothing
        AddHandler TextLoader.LoadingDoneEvent,
            (Sub(e As ComponentModel.CancelEventArgs)
                 e.Cancel = True
             End Sub)

        txt = New TextLoader()
        txt.FireThisEvent()
End Sub 
```

# javascript - 在下拉更改时禁用输入，在小提琴中有效，但在实时站点上无效

> ID：12599838
> 
> 赞同：0
> 
> 时间：2012-09-26T10:37:59.903
> 
> 标签：javascript, jquery

注意：这不是`Uncaught SyntaxError: Unexpected token ILLEGAL`错误！

我有一些代码可以在有人选择时禁用邮资输入字段`Collection Only`。

你可以看到它在这个小提琴上工作：http: [//jsfiddle.net/sZrLh/](http://jsfiddle.net/sZrLh/)

以下是网站上的 JavaScript，带有警报以查看正在发生的事情：

```
<script type="application/javascript">
    $("#postage_dropdown").change(function(){
        if($("#postage_dropdown").val() == "6"){
            $("#postage").prop('disabled', true);
            alert("1");
        }else{
            $("#postage").prop('disabled', false);
            alert("2");
        }
        alert("3");
    });
    alert("4");
</script> 
```

不，当把它放到我的网站上时，它似乎不起作用。看这里：[https ://secure1918.hostgator.com/~innoedge/sell.php](https://secure1918.hostgator.com/~innoedge/sell.php)

为什么它不起作用？我没有收到任何错误，使用`jQuery 1.8.2`. 所有其他错误都是 Facebook 和烦人的广告。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-26T10:42:47.737

我也遇到过奇怪的错误......你试过使用吗

```
$("#postage").attr('disabled', 'disabled'); 
```

和

```
$("#postage").attr('disabled', ''); 
```

? 可能值得一试 - 我发现有些似乎有效，有些则没有

# java - _id 和 $oid 的区别；mongo 数据库中的 $date 和 IsoDate

> ID：12599839
> 
> 赞同：16
> 
> 时间：2012-09-26T10:38:03.647
> 
> 标签：java, mongodb, morphia

我们正在使用 mongo db 将某些记录存储在生产数据库中。

我们看到我们的记录在生产数据库中，而我们在 qa 数据库中`"_id" : { "$oid" : "50585fbcb046b2709a534502"}`看到相同的记录。`"_id" : ObjectId(" 50585fbcb046b2709a534502 ")`对于我们`"ld" : { "$date" : "2011-12-03T17:00:00Z"}`在 prod 数据库中看到的日期，而`"ld" :ISODate("2011-12-03T17:00:00Z")`在 qa 数据库中看到的日期。我们已经在 qa 环境中成功测试了我们的查询，但担心它在生产中可能会失败

1) 我的 java 查询能否在 prod 和 qa 上无缝运行？（我正在使用 morphia api 进行查询） 2）它们在内部是否以相同的方式存储？

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-09-26T11:03:01.243

要回答这两个问题：

1.  是他们会
2.  是的，它们是相同的，它只是您正在查看的项目（控制台或应用程序）中关于它们如何显示的表示。控制台（无论如何，更高版本，大约 1.4+）将显示`ObjectId`并且`ISODate`（通常）直接从服务器语言（在您的情况下为 Java）中选择它会倾向于显示完整的对象属性（`$oid`在`$date`这种情况下）。

# php - 使用 Geonames.org 下载的反向地理编码使用什么算法？

> ID：12599845
> 
> 赞同：3
> 
> 时间：2012-09-26T10:38:30.977
> 
> 标签：php, mysql, geonames

我会使用 API Geonames，但我的应用程序无法访问互联网。所以它必须独立运行。我看到有许多来自 Geonames.org 的文件可供下载，但我没有看到任何软件可以帮助进行反向地理编码。我想提供纬度/经度并让它返回国家代码。我正在考虑下载数据并将其放入 MySQL 数据库。

反向地理编码使用什么算法，所以我可以在 geonames.org 下载中使用它。我的项目是用 PHP 编写的。谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-26T10:59:13.610

[Geonames](http://download.geonames.org/export/dump/A)为大多数国家/地区提供数据。该数据可以导入 MySQL 数据库。这可以使用 lat lng 进行搜索。

问题是文件中可能有太多数据无法满足您的要求。您可以消除所有所需国家/地区的 lat、lng 和国家/地区代码以外的所有字段，然后将它们合并到 1 条记录中。

MySQL 查询

`country code` 从55 和 55.5以及 -2 和 -1.5`XX`之间选择`lat``lng`

这将在 111kM 的“盒子”上提取数据。您可以更改范围以适应。

从下表可以看出，111kM“盒子”只在赤道（0°）有效。对于其他纬度，需要增加 lng 范围。

```
 lat                 lng
0°  110.574 km  111.320 km
15° 110.649 km  107.551 km
30° 110.852 km  96.486 km
45° 111.132 km  78.847 km
60° 111.412 km  55.800 km
75° 111.618 km  28.902 km
90° 111.694 km  0.000 km 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-26T10:48:44.050

geonames 下载主要在`.txt`文件中，这些可以通过 SQLYog 导入到 mysql 数据库中

**表结构**

```
CREATE DATABASE geonames;
USE geonames;

CREATE TABLE geoname (
geonameid int PRIMARY KEY,
name varchar(200),
asciiname varchar(200),
alternatenames varchar(4000),
latitude decimal(10,7),
longitude decimal(10,7),
fclass char(1),
fcode varchar(10),
country varchar(2),
cc2 varchar(60),
admin1 varchar(20),
admin2 varchar(80),
admin3 varchar(20),
admin4 varchar(20),
population int,
elevation int,
gtopo30 int,
timezone varchar(40),
moddate date
) CHARACTER SET utf8; 
```

**MYsql查询将数据导入此表**

```
LOAD DATA INFILE '/path/to/your/file/geoname.txt' INTO TABLE `geoname`; 
```

设置完成后，您可以根据纬度/经度查询此表以获取国家/地区名称

这是您可以参考的链接

[http://sgowtham.net/blog/2009/07/29/importing-geonames-org-data-into-mysql/](http://sgowtham.net/blog/2009/07/29/importing-geonames-org-data-into-mysql/)

[http://forum.geonames.org/gforum/posts/list/732.page](http://forum.geonames.org/gforum/posts/list/732.page)

希望这可以帮助！

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-26T15:33:54.903

您正在寻找的算法更多的是一种数据结构，而不是一个复杂的公式。Mysql 支持 R-tree 和空间索引查询。这个概念是一个层次树，以 lat long 对作为边界框，树的根在边界框中有整个世界。Kd-tree 也可以。在极少数情况下，您想要寻找四键或空间填充曲线。这是一个分形并将维度减少为一个数字。公式是 H(x,y) = H(x) + H(y)。分形还保留了一些邻近信息，我不知道它是如何用 R-tree 解决的。

# javascript - 如果变量为假，它将在 Javascript 中传递

> ID：12599850
> 
> 赞同：0
> 
> 时间：2012-09-26T10:38:39.183
> 
> 标签：javascript

如果`co.chkShowRSB`为假，预期的结果是什么？我希望它是错误的，但这是它的工作方式吗？为什么？

`var test = chkShow:co.chkShowRSB || true;`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-26T10:39:23.393

在`true`您的情况下，（所谓的“短路或”）运算符`true`的第二个操作数也是如此。`||`共同的规则是...

```
var x = a || b; // = a (and b won't be evaluated), if it's a truthy value, b otherwise
var y = a && b; // = a (and b won't be evaluated), if it's a falsy value, b otherwise. 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-26T10:40:17.637

```
false || true 
```

是真的。不存在带有“或真”的布尔项可以为假的情况。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-26T10:41:50.400

您应该使用三级运算符。如果 chkShow:co.chkShowRSB 为布尔值，您的代码将始终返回 true；

```
var test =  chkShow:co.chkShowRSB == false ? false : true; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-26T10:48:09.097

好的，所以你现在得到的图片是`x = false || true;`真实的。为什么？很容易知道*短路运算符*的使用与以下操作相同：

```
x = (false ? false : true); 
```

但是，它主要用于设置函数参数的默认值，所以我猜你假设`x`如果第一个操作数是`undefined`. 除了显式检查它们之外，没有办法专门过滤掉未定义的值。然后你应该使用：

```
x = val === undefined ? defaultVal : val; 
```

或者，因为`undefined`不需要`undefined`，并且您想*绝对*确定：

```
x = (function(val,undefined)//second argument will be the true undefined value
{
    return (val === undefined ? defaultVal : val);
})(val);//don't pass second argument 
```

# playframework - 玩morphia@Reference和抽象类关系

> ID：12599853
> 
> 赞同：2
> 
> 时间：2012-09-26T10:38:51.133
> 
> 标签：playframework, morphia

我没有找到关于这个特定“问题”的任何答案。我目前正在使用 Play 框架 1.2.5 和 Play Morphia 模块 1.2.9

好的，问题来了：我有一个抽象类 A（不是 @Entity，因为它是不允许的）和两个类 B 和 C，它们继承自从 Model 类扩展的类 A。B 类和 C 类具有 @Entity 注释。

我想知道是否有可能，例如在第四类 D 类中，引用 A 类？实际上我只是想使用多态行为，我需要访问在类 A 中定义的属性，而无需事先知道它是 B 类还是 C 类的实例，但无论如何我都需要使用 findById() 从数据库中检索这些对象方法。

我不知道它是否真的很清楚，但最终我的目标是在“A 类对象”上执行 findById()，并自动检索 B 类或 C 类的实例。

请问你能帮帮我吗 ？（也许如果我使用 @Entity(value="xxxx") 在 B 和 C 上设置相同的集合）

谢谢 ！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-27T14:40:56.403

您不能在“A 类对象”上执行 findById()，因为 MongoDB 只为使用 @Entity 注释声明的对象创建 ID。

# asp.net - 我可以在哪里清除会话变量

> ID：12599856
> 
> 赞同：2
> 
> 时间：2012-09-26T10:38:58.517
> 
> 标签：asp.net, c#-4.0

我是 .net 的新手，请帮忙，我正在使用会话变量在 aspx 页面中存储一些值。实际上，当用户离开页面转到其他页面时，我想清除会话值。我知道有 PageUnload 事件我可以清除会话，但我只需要在用户离开页面后清除会话。

还有其他方法可以清除 aspx 页面中的 Session 变量吗？？？？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-09-26T11:29:52.440

在离开当前页面后您要去的其他页面上，使用..

`Session.Remove("Variable_name");`.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-26T10:48:14.230

```
Session.Contents.Remove("mysession"); 
```

或者

```
Session.Contents.RemoveAll() 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-26T10:50:40.127

会话变量用于存储所有页面中单个用户使用的数据。您不必在您的场景中使用它。使用 ViewState 或页面变量。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-26T10:54:42.470

请记住只清除您需要的值，但是如果您想清除整个会话，那么：

```
Session.Clear() 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-26T11:01:11.307

```
Session.Abandon(); 
```

或更有效

```
Session["your_session_name"]=""; 
```

# javascript - 无法获取json回调的分类数据

> ID：12599859
> 
> 赞同：0
> 
> 时间：2012-09-26T10:39:02.497
> 
> 标签：javascript, jquery, json, getjson

我有一个从另一个域获取 json 数据的简短代码，我是 json 代码的新手，因此我无法理解如何仅获取类别下的数据，例如在此代码中：

```
$.getJSON("http://api.anywayanyday.com/api/NewRequest/?Route=2406MOWLON&AD=1&CN=0&CS=E&Partner=testapic&_Serialize=JSON&callback=?", function(data) {
    var code=data.Id;
    $.getJSON("http://api.anywayanyday.com/api/Fares/?R="+code+"&V=Matrix&VB=true&L=ru&_Serialize=JSON&callback=?", function(data) {
        var items = [];
        $.each(data, function(key, val) {
            items.push('<li>'+key+': '+val+'</li>');
        });
        $('<ul/>', {
            'class': 'my-new-list',
            html: items.join('')
        }).appendTo('#data2');
    });
}); 
```

我得到了货币、语言、排序依据等的列表，并且里面有一个航空公司类别和很多对象，我想要的只是获取这些航空公司对象及其名称（至少它们必须在 json 数据列表中）， 我该怎么做？！

谢谢大家的帮助，我真的很感激！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-26T10:56:21.903

您可以尝试此操作以在未排序列表中获取航空公司名称

```
$.getJSON("http://api.anywayanyday.com/api/NewRequest/?Route=2406MOWLON&AD=1&CN=0&CS=E&Partner=testapic&_Serialize=JSON&callback=?", function(data) {
    var code=data.Id;
    $.getJSON("http://api.anywayanyday.com/api/Fares/?R="+code+"&V=Matrix&VB=true&L=ru&_Serialize=JSON&callback=?", function(data) {
        var items = [];
        $.each(data, function(key, val) {
            if(val && (typeof val == 'object' || typeof val == 'array')){
                if(key == "Airlines"){
                    var airlineNames = [];

                    for(var x in val)
                        airlineNames.push(val[x].Name);

                    items.push('<li>'+key+': <ul><li>'+airlineNames.join('</li><li>')+'</li></ul></li>');
                }
            }else{
                items.push('<li>'+key+': '+val+'</li>');
            }
        });
        $('<ul/>', {
            'class': 'my-new-list',
            html: items.join('')
        }).appendTo('#data2');
    });
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-26T10:57:55.133

如果您只想要航空公司，如果您知道这是名称，则可以遍历“航空公司”。

```
var items = [];
$.each(data['Airlines'], function(i, airline) {
    items.push('<li>'+airline.Name+': '+airline.Code+'</li>');
}); 
```

# android - layout_below 包含布局内的项目

> ID：12599861
> 
> 赞同：8
> 
> 时间：2012-09-26T10:39:04.733
> 
> 标签：android, android-layout, android-relativelayout

我正在尝试找出一种方法来将布局中的项目与包含的布局中的项目对齐。

**这是一个视觉表示：** ![在此处输入图像描述](../Images/729dfa80ac8c585583cc09b51a54c2ab.png)

**这是我正在寻找的示例代码（显然不起作用）：**
**Main.xml**

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent" >
    <include
        android:id="@+id/info"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        layout="@layout/info" />
    //This would be the dark grey box
    <RelativeLayout
        android:layout_below="@id/item1">
    </RelativeLayout>
</RelativeLayout> 
```

**包含的.xml**

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="50dp">
    <ImageView
        android:id="@+id/item1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_centerHorizontal="true"
        android:layout_centerVertical="true"
        android:paddingLeft="100dp"/>
</RelativeLayout> 
```

我假设完成此操作的最佳方法是通过在代码中动态定位深灰色框，但我不知道从哪里开始。任何帮助都是极好的。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-26T10:44:56.803

你能把它放在你的包含下面吗？像这样的东西（而不是 item1 使用信息）：

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent" >
    <include
        android:id="@+id/info"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        layout="@layout/info" />
    //This would be the dark grey box
    <RelativeLayout
        android:layout_below="@id/info">
    </RelativeLayout>
</RelativeLayout> 
```

# iphone - UICollectionView 中的 iOS 断言失败

> ID：12599863
> 
> 赞同：29
> 
> 时间：2012-09-26T10:39:13.907
> 
> 标签：iphone, ios, uicollectionview

我收到错误...

```
*** Assertion failure in -[UICollectionView _dequeueReusableViewOfKind:withIdentifier:forIndexPath:], /SourceCache/UIKit/UIKit-2372/UICollectionView.m:2249 
```

尝试显示 UICollectionView 时。

导致它的线条是......

```
static NSString *CellIdentifier = @"Cell";

UICollectionViewCell *cell = [collectionView dequeueReusableCellWithReuseIdentifier:CellIdentifier forIndexPath:indexPath]; 
```

出队发生错误。

没有其他错误，所以我很难知道从哪里开始。

任何人都可以阐明这一点吗？

* * *

## 回答 #1

> 赞同：37
> 
> 时间：2012-11-10T10:53:43.790

您需要像下面这样注册：

```
[self.collectionView registerClass:[UICollectionViewCell class] forCellWithReuseIdentifier:@"MY_CELL"]; 
```

* * *

## 回答 #2

> 赞同：29
> 
> 时间：2012-09-26T10:48:34.077

一直在阅读文档（应该先这样做:)）

无论如何，我正在使用的 collectionView 位于单独的 xib 文件（不是故事板）中，并且来自文档......

```
Important: You must register a class or nib file using the
registerClass:forCellWithReuseIdentifier: or
registerNib:forCellWithReuseIdentifier: method before calling this method. 
```

谢谢

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2016-06-05T10:00:58.897

我有同样的问题。这是我解决它的方法。

移动

`[self.pictureCollectionView registerNib:[UINib nibWithNibName: bundle:nil] forCellWithReuseIdentifier:reuseID]`

在`- (void)viewDidLoad`,

而不是方法`- (void)awakeFromNib`。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2013-02-05T15:58:36.263

确保如果您使用该`registerNib:`方法：

```
UINib *nibH = [UINib nibWithNibName:HEADER_ID bundle:nil];
[collectionView registerNib:nibH
 forSupplementaryViewOfKind:UICollectionElementKindSectionHeader 
        withReuseIdentifier:HEADER_ID]; 
```

同样在**nib**文件中，当您选择顶级集合可重用视图时，使用属性检查器，并**确保**将`Identifier`其设置为与您传递给`withReuseIdentifier:`参数的值相同的值。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2018-09-12T15:40:29.277

我**只在 iOS 9 上遇到了这个崩溃**（iOS 10/11 工作正常）。

我没有 Flow Layout 的自定义子类，而是`headerReferenceSize`直接在现有的子类上设置。*所以在启用Section Header*的Interface Builder中我遇到了这个崩溃，**没有复选标记一切正常**并且标题显示正确，因为我在代码中设置了大小。

[![在此处输入图像描述](../Images/35855324fc1c0efdc963e058866bf228.png)](https://i.stack.imgur.com/RRjOR.png)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-09-26T10:41:03.927

代替

```
NSString *CellIdentifier = @"Cell"; 
```

和

```
static NSString *CellIdentifier = @"Cell"; 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2015-04-15T13:20:31.880

当使用具有唯一 ReuseIdentifiers 的多个 UICollectionViews 时，我看到此错误弹出。在 ViewDidLoad 你想像这样注册每个 CollectionView 的重用标识符：

```
[_collectionView1 registerClass:[UICollectionViewCell class] forCellWithReuseIdentifier:@"collectionView1CellIdentifier"];
[_collectionView2 registerClass:[UICollectionViewCell class] forCellWithReuseIdentifier:@"collectionView2CellIdentifier"]; 
```

然后，当您到达“- (UICollectionViewCell *)collectionView:(UICollectionView *)collectionView cellForItemAtIndexPath:(NSIndexPath *)indexPath”时，您要确保不要尝试将 collectionView1 的单元格设置为 collectionView2 的重用标识符，或者您会得到这个错误。

**不要这样做**：（或者collectionView2会看到错误的标识符并在看到它所期望的标识符之前抛出一个合适的）

```
UICollectionViewCell *cell = [collectionView dequeueReusableCellWithReuseIdentifier:@"collectionView1CellIdentifier" forIndexPath:indexPath];

if(collectionView != _collectionView1){
   cell = [collectionView dequeueReusableCellWithReuseIdentifier:@"collectionView2CellIdentifier" forIndexPath:indexPath];
}

cell.backgroundColor = [UIColor greenColor];
return cell; 
```

**这样做**：

```
UICollectionViewCell *cell;

if(collectionView == _collectionView1){
    cell = [collectionView dequeueReusableCellWithReuseIdentifier:@"collectionView1CellIdentifier" forIndexPath:indexPath];
}else{
   cell = [collectionView dequeueReusableCellWithReuseIdentifier:@"collectionView2CellIdentifier" forIndexPath:indexPath];
}

cell.backgroundColor = [UIColor greenColor];
return cell; 
```

# html - 从相机中捕获字符串。Getpicture

> ID：12599867
> 
> 赞同：0
> 
> 时间：2012-09-26T10:39:22.447
> 
> 标签：html, cordova, camera, base64

在 phonegap 文档中

[http://docs.phonegap.com/en/1.0.0/phonegap_camera_camera.md.html](http://docs.phonegap.com/en/1.0.0/phonegap_camera_camera.md.html)

使用 base 64 字符串给出的唯一示例是

在标签中渲染图像（参见下面的示例）

经过几天的搜索并试图弄清楚我不能得到字符串本身，所以我可以

将数据保存在本地 (LocalStorage) 将数据发布到远程服务器

请有人建议如何捕获图像并实际获取base64输出，以便我可以使用它。我几乎使用示例中的基本代码

IE

```
navigator.camera.getPicture(onSuccess, onFail, { quality: 50 }); 

function onSuccess(imageData) {
    var image = document.getElementById('myImage');
    image.src = "data:image/jpeg;base64," + imageData;
}

function onFail(message) {
    alert('Failed because: ' + message);
} 
```

提前感谢您的任何帮助..我为此失眠了很多..控制台日志只显示了一个很小的捕获..这不能是完整的图像

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-26T19:46:33.463

您处理发布数据的方式不正确。您将其作为字符串发送。而不是做 data:'make a big ole string'，你想要：data:{name:value, name2:value} 等。另外，在未来，我建议 Pastebin.com 分享你的代码，而不是RTF 文件。更快。:)

# android - 在android中的布局内自动从右到左移动图像

> ID：12599869
> 
> 赞同：0
> 
> 时间：2012-09-26T10:39:23.440
> 
> 标签：android, android-layout

我将布局中的图像从右向左移动，延迟为 1000 毫秒。该应用程序使用绝对布局并动态重绘图像。有没有其他方法可以做到？？喜欢滚动视图中的图像或一些动画？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-26T10:44:56.757

你可以在android中做逐帧动画；逐帧动画在 xml 文件中定义，然后在活动中用于启动动画。

为此，使用了 AnimationDrawable 类。

看到这个重复的问题[开始逐帧动画](https://stackoverflow.com/questions/2785336/starting-frame-by-frame-animation)可能会有所帮助。

几乎完全一样的例子可以从[这里](http://www.edumobile.org/android/android-development/frame-animation/)找到。

[你也可以在这里](http://android-er.blogspot.in/2012/02/apply-animation-on-button.html)查看另一个很好的例子，这是初学者指南。

# regex - 使用 RegEx 验证坐标输入

> ID：12599871
> 
> 赞同：0
> 
> 时间：2012-09-26T10:39:24.630
> 
> 标签：regex, silverlight

我想知道是否有人可以帮助进行一些 RegEx 验证。我有一个文本框，用户要在其中输入一组 XY 坐标，例如 123.345、543.123 我可以使用下面的 RegEx 位来检查单个 X 或 Y 坐标。 `var pattern = "^[0-9]+[.]?[0-9]*$";` 只允许输入数字和 1 个小数点。

但我不知道如何允许用户在 X 坐标后输入单个空格和/或逗号，然后继续输入 Y 坐标。

我知道使用两个不同的文本框会更容易，但由于应用程序和 UI 要求，我无法为 Y 坐标添加第二个文本框。

谢谢你的帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-26T10:43:36.543

试试这个 ：

> ^\d+(?:.\d+)?,\s\d+(?:.\d+)$

**解释 ：**

```
(1)    ^                 => Beginning of input
(2)    \d+(?:\.\d+)?     => Allow one or more digits followed optionally by a dot and one or more digits
(3)    ,\s               => Expect a comma and a single whitespace
(4)    \d+(?:\.\d+)      => See (1)
(5)    $                 => End of input 
```

**注意：** 如果您希望只有一个空格更改`,\s`为`,[ ]`.

# android - 应用程序恢复时无法启动活动 ComponentInfo NullPointerException 错误

> ID：12599872
> 
> 赞同：0
> 
> 时间：2012-09-26T10:39:27.847
> 
> 标签：android, android-intent, android-fragments, android-logcat, android-fragmentactivity

我的应用程序工作正常，但是当它在后台运行时，然后在恢复后停止在 logcat 上处理这些错误：

```
09-26 15:46:49.278: D/SqliteDatabaseCpp(5847): Registering sqlite logging func: /data/data/com.friends.roleon/databases/roleonDB
09-26 15:46:49.288: D/SqliteDatabaseCpp(5847): DB info: open db, path = /data/data/com.friends.roleon/databases , key = DvkadTace, flag = 6, file size = 34816
09-26 15:46:49.288: D/SqliteDatabaseCpp(5847): DB info: path = /data/data/com.friends.roleon/databases , key = DvkadTace, handle: 0x1f29030, type: w, r/w: (0,1), mode: truncate, disk free size: 213 M
09-26 15:46:49.318: D/SqliteDatabaseCpp(5847): DB info: close db, path = /data/data/com.friends.roleon/databases , key = DvkadTace, handle = 0x1f29030, type = w, r/w = (0, 0)
09-26 15:46:49.318: D/check(5847): create fragmentnull
09-26 15:46:49.559: D/SqliteDatabaseCpp(5847): DB info: open db, path = /data/data/com.friends.roleon/databases , key = DvkadTace, flag = 6, file size = 34816
09-26 15:46:49.599: D/SqliteDatabaseCpp(5847): DB info: path = /data/data/com.friends.roleon/databases , key = DvkadTace, handle: 0x1f4a208, type: w, r/w: (0,1), mode: truncate, disk free size: 213 M
09-26 15:46:49.649: D/SqliteDatabaseCpp(5847): DB info: open db, path = /data/data/com.friends.roleon/databases , key = DvkadTace, flag = 6, file size = 34816
09-26 15:46:49.649: D/AndroidRuntime(5847): Shutting down VM
09-26 15:46:49.649: W/dalvikvm(5847): threadid=1: thread exiting with uncaught exception (group=0x40aab228)
09-26 15:46:49.659: E/AndroidRuntime(5847): FATAL EXCEPTION: main
09-26 15:46:49.659: E/AndroidRuntime(5847): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.friends.roleon/com.friends.roleon.roleonMain}: java.lang.IllegalArgumentException: No view found for id 0x7f060038 for fragment RecordListFragment{40dd3b10 #2 id=0x7f060038}
09-26 15:46:49.659: E/AndroidRuntime(5847):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2205)
09-26 15:46:49.659: E/AndroidRuntime(5847):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2240)
09-26 15:46:49.659: E/AndroidRuntime(5847):     at android.app.ActivityThread.access$600(ActivityThread.java:139)
09-26 15:46:49.659: E/AndroidRuntime(5847):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1262)
09-26 15:46:49.659: E/AndroidRuntime(5847):     at android.os.Handler.dispatchMessage(Handler.java:99)
09-26 15:46:49.659: E/AndroidRuntime(5847):     at android.os.Looper.loop(Looper.java:156)
09-26 15:46:49.659: E/AndroidRuntime(5847):     at android.app.ActivityThread.main(ActivityThread.java:4987)
09-26 15:46:49.659: E/AndroidRuntime(5847):     at java.lang.reflect.Method.invokeNative(Native Method)
09-26 15:46:49.659: E/AndroidRuntime(5847):     at java.lang.reflect.Method.invoke(Method.java:511)
09-26 15:46:49.659: E/AndroidRuntime(5847):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)
09-26 15:46:49.659: E/AndroidRuntime(5847):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)
09-26 15:46:49.659: E/AndroidRuntime(5847):     at dalvik.system.NativeStart.main(Native Method)
09-26 15:46:49.659: E/AndroidRuntime(5847): Caused by: java.lang.IllegalArgumentException: No view found for id 0x7f060038 for fragment RecordListFragment{40dd3b10 #2 id=0x7f060038}
09-26 15:46:49.659: E/AndroidRuntime(5847):     at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:864)
09-26 15:46:49.659: E/AndroidRuntime(5847):     at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1080)
09-26 15:46:49.659: E/AndroidRuntime(5847):     at android.support.v4.app.BackStackRecord.run(BackStackRecord.java:622)
09-26 15:46:49.659: E/AndroidRuntime(5847):     at android.support.v4.app.FragmentManagerImpl.execPendingActions(FragmentManager.java:1416)
09-26 15:46:49.659: E/AndroidRuntime(5847):     at android.support.v4.app.FragmentActivity.onStart(FragmentActivity.java:505)
09-26 15:46:49.659: E/AndroidRuntime(5847):     at android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1195)
09-26 15:46:49.659: E/AndroidRuntime(5847):     at android.app.Activity.performStart(Activity.java:4548)
09-26 15:46:49.659: E/AndroidRuntime(5847):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2178)
09-26 15:46:49.659: E/AndroidRuntime(5847):     ... 11 more
09-26 15:46:49.679: D/SqliteDatabaseCpp(5847): DB info: path = /data/data/com.friends.roleon/databases , key = DvkadTace, handle: 0x1f5d218, type: w, r/w: (0,2), mode: truncate, disk free size: 213 M
09-26 15:46:49.829: W/System.err(5847): java.lang.NullPointerException
09-26 15:46:49.829: W/System.err(5847):     at com.friends.roleon.utility.DataBase.<init>(DataBase.java:27)
09-26 15:46:49.839: W/System.err(5847):     at com.friends.roleon.list.ListViewGenerator.RecordViewGenerator(ListViewGenerator.java:25)
09-26 15:46:49.839: W/System.err(5847):     at com.friends.roleon.list.record.RecordList$RecordListFragment$BackgroundTask.doInBackground(RecordList.java:97)
09-26 15:46:49.839: W/System.err(5847):     at com.friends.roleon.list.record.RecordList$RecordListFragment$BackgroundTask.doInBackground(RecordList.java:1)
09-26 15:46:49.849: W/System.err(5847):     at android.os.AsyncTask$2.call(AsyncTask.java:264)
09-26 15:46:49.849: W/System.err(5847):     at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:305)
09-26 15:46:49.849: W/System.err(5847):     at java.util.concurrent.FutureTask.run(FutureTask.java:137)
09-26 15:46:49.849: W/System.err(5847):     at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:208)
09-26 15:46:49.859: W/System.err(5847):     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1076)
09-26 15:46:49.859: W/System.err(5847):     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:569)
09-26 15:46:49.859: W/System.err(5847):     at java.lang.Thread.run(Thread.java:864)
09-26 15:46:49.869: D/error(5847): this is the exception :java.lang.NullPointerException
09-26 15:46:49.879: W/DBVersion(5847): 3
09-26 15:46:49.879: D/SqliteDatabaseCpp(5847): DB info: open db, path = /data/data/com.friends.roleon/databases , key = DvkadTace, flag = 6, file size = 34816
09-26 15:46:49.879: W/dalvikvm(5847): threadid=11: thread exiting with uncaught exception (group=0x40aab228)
09-26 15:46:49.879: D/SqliteDatabaseCpp(5847): DB info: path = /data/data/com.friends.roleon/databases , key = DvkadTace, handle: 0x1f77c90, type: w, r/w: (0,3), mode: truncate, disk free size: 213 M
09-26 15:46:49.889: E/AndroidRuntime_2_crash(5847): crash in the same process: AsyncTask #1
09-26 15:46:49.889: E/AndroidRuntime_2_crash(5847): java.lang.RuntimeException: An error occured while executing doInBackground()
09-26 15:46:49.889: E/AndroidRuntime_2_crash(5847):     at android.os.AsyncTask$3.done(AsyncTask.java:278)
09-26 15:46:49.889: E/AndroidRuntime_2_crash(5847):     at java.util.concurrent.FutureTask$Sync.innerSetException(FutureTask.java:273)
09-26 15:46:49.889: E/AndroidRuntime_2_crash(5847):     at java.util.concurrent.FutureTask.setException(FutureTask.java:124)
09-26 15:46:49.889: E/AndroidRuntime_2_crash(5847):     at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:307)
09-26 15:46:49.889: E/AndroidRuntime_2_crash(5847):     at java.util.concurrent.FutureTask.run(FutureTask.java:137)
09-26 15:46:49.889: E/AndroidRuntime_2_crash(5847):     at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:208)
09-26 15:46:49.889: E/AndroidRuntime_2_crash(5847):     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1076)
09-26 15:46:49.889: E/AndroidRuntime_2_crash(5847):     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:569)
09-26 15:46:49.889: E/AndroidRuntime_2_crash(5847):     at java.lang.Thread.run(Thread.java:864)
09-26 15:46:49.889: E/AndroidRuntime_2_crash(5847): Caused by: java.lang.NullPointerException
09-26 15:46:49.889: E/AndroidRuntime_2_crash(5847):     at com.friends.roleon.list.record.RecordList$RecordListFragment$BackgroundTask.doInBackground(RecordList.java:132)
09-26 15:46:49.889: E/AndroidRuntime_2_crash(5847):     at com.friends.roleon.list.record.RecordList$RecordListFragment$BackgroundTask.doInBackground(RecordList.java:1)
09-26 15:46:49.889: E/AndroidRuntime_2_crash(5847):     at android.os.AsyncTask$2.call(AsyncTask.java:264)
09-26 15:46:49.889: E/AndroidRuntime_2_crash(5847):     at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:305)
09-26 15:46:49.889: E/AndroidRuntime_2_crash(5847):     ... 5 more
09-26 15:46:49.909: D/SqliteDatabaseCpp(5847): DB info: close db, path = /data/data/com.friends.roleon/databases , key = DvkadTace, handle = 0x1f77c90, type = w, r/w = (0, 2) 
```

这是我的主要课程：

```
public class roleon extends SherlockFragmentActivity implements
        ActionBar.TabListener {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);

        getSupportActionBar().setNavigationMode(ActionBar.NAVIGATION_MODE_TABS);
        getSupportActionBar().setDisplayShowHomeEnabled(false);
        getSupportActionBar().setDisplayShowTitleEnabled(false);

        AddTab(getString(R.string.tab_home));
        AddTab(getString(R.string.tab_activities));
        AddTab(getString(R.string.tab_settings));
    }

    private void AddTab(String tabName) {
        ActionBar.Tab tab = getSupportActionBar().newTab();
        tab.setText(tabName);
        tab.setTabListener(this);
        getSupportActionBar().addTab(tab);
    }

    @Override
    public void onTabSelected(Tab tab, FragmentTransaction ft) {
        Fragment fragment = null;
        if (tab.getText().equals(getText(R.string.tab_home))) {
            fragment = new ModuleList.ModuleListFragment();
        } else if (tab.getText().equals(getText(R.string.tab_activities))) {
            fragment = new ActivityStatePager.FragmentDisplay();
        } else if (tab.getText().equals(getText(R.string.tab_settings))) {
            fragment = new PreferenceScreen.PreferenceScreenFragment();
        }
        getSupportFragmentManager().beginTransaction()
                .replace(R.id.fragment_container, fragment).commit();
    }

    @Override
    public void onTabUnselected(Tab tab, FragmentTransaction ft) {
        // Do nothing
    }

    @Override
    public void onTabReselected(Tab tab, FragmentTransaction ft) {

    }
} 
```

这是应用程序在恢复时崩溃的片段类：

```
public class ActivityStatePager extends SherlockFragmentActivity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        setTheme(R.style.Theme_Sherlock_NoActionBar);
        super.onCreate(savedInstanceState);

        if (savedInstanceState == null) {
            FragmentDisplay fragment = new FragmentDisplay();
            getSupportFragmentManager().beginTransaction()
                    .add(android.R.id.content, fragment).commit();
        }
    }

    @Override
    protected void onPause() {
        super.onPause();
         ActivityStatePager.this.finish();
    }

    @Override
    protected void onResume() {
        super.onResume();
        startActivity(new Intent(ActivityStatePager.this,
                roleon.class));
    }

    @Override
    protected void onDestroy() {
        super.onDestroy();
        ActivityStatePager.this.finish();
    }

    public static class FragmentDisplay extends SherlockFragment {
        // Static Declarations
        static final int NUM_ITEMS = 3;

        private View mLayout;

        @Override
        public View onCreateView(LayoutInflater inflater, ViewGroup container,
                Bundle savedInstanceState) {
            View v = inflater
                    .inflate(R.layout.fragment_pager, container, false);
            mLayout = v.findViewById(R.id.container);
            SetSpinner(v);
            return v;
        }

        @Override
        public void onActivityCreated(Bundle savedInstanceState) {
            super.onActivityCreated(savedInstanceState);
        }

        private void SetSpinner(View v) {
            Spinner eventspinner = (Spinner) v.findViewById(R.id.eventspinner);

            ArrayAdapter<CharSequence> adapter = new ArrayAdapter<CharSequence>(
                    getActivity(), android.R.layout.simple_spinner_item);
            adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);

            DataBase db = new DataBase(getActivity(), "EventStatus");
            ArrayList<Record> eventsArray = db.SelectStatusList();
            db.close();

            for (Iterator<Record> iterator = eventsArray.iterator(); iterator
                    .hasNext();) {
                Record record = (Record) iterator.next();
                adapter.add(record.getEventStatus());
            }

            eventspinner.setAdapter(adapter);

            eventspinner
                    .setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {
                        public void onItemSelected(AdapterView<?> parent,
                                View view, int pos, long id) {
                            CreateFragment(parent.getItemAtPosition(pos)
                                    .toString());
                        }

                        public void onNothingSelected(AdapterView<?> parent) {
                            // do nothing
                        }
                    });
        }

        public void CreateFragment(String fragLabel) {
            FragmentTransaction ft = getSherlockActivity()
                    .getSupportFragmentManager().beginTransaction();
            Fragment fragment = new ActivityListFragment(fragLabel);//fragLabel
            ft.add(((LinearLayout) mLayout).getId(), fragment).commit();
        }

        @Override
        public void onDestroyView() {
            super.onDestroyView();
        }

        public static class ActivityListFragment extends SherlockFragment {
            private String mFragTag;
            private View mFrameLayout;
            private View mView;

            public ActivityListFragment(String fragName) {
                mFragTag = fragName;
            }

            public ActivityListFragment(){
                // empty constructor
            }

            @Override
            public View onCreateView(LayoutInflater inflater,
                    ViewGroup container, Bundle savedInstanceState) {
                mView = inflater.inflate(R.layout.fragment_pager_list,
                        container, false);
                mFrameLayout = mView.findViewById(R.id.frame_layout);

                return mView;
            }

            public void onActivityCreated(Bundle savedInstanceState) {
                super.onActivityCreated(savedInstanceState);
                SetFragment();
            };

            public void SetFragment() {
                FragmentTransaction ft = getSherlockActivity()
                        .getSupportFragmentManager().beginTransaction();

                Fragment fragment = new RecordList.RecordListFragment();
                Bundle extras = new Bundle();
                extras.putString("eventstatus", mFragTag);
                fragment.setArguments(extras);

                ft.replace(((FrameLayout) mFrameLayout).getId(), fragment)
                        .commit();
            }

            @Override
            public void onDestroyView() {
                super.onDestroyView();
            }
        }
    }
} 
```

R.id.frame_layout 的 id: 0x7f060038 在 R.java 文件中

这就是我的 RecordList.RecordListFragment() 所做的：

```
@Override
        public View onCreateView(LayoutInflater inflater, ViewGroup container,
                Bundle savedInstanceState) {
            v = inflater.inflate(R.layout.record_list, container, false);
            mSP = PreferenceManager.getDefaultSharedPreferences(getActivity());
            GetIntent();
            getActivity().setTitle(label);
            new BackgroundTask().execute();
            return v;
        }

        private class BackgroundTask extends AsyncTask<Void, Void, Void> {
            ProgressDialog mDialog;

            protected void onPreExecute() {
                mDialog = ProgressDialog.show(getActivity(), "",
                        getString(R.string.progress_bar_loading), true);
            };

            @Override
            protected Void doInBackground(Void... params) {
                try {
                    mModule = new CRMModule(name, getActivity(),
                            getActivity().getIntent());
                    mEnableOptions = true;
                    rarray = ListViewGenerator.RecordViewGenerator(mSP,
                            getActivity(), name);
                    Log.d("values","in doinbackground"+mModule+","+rarray);
                    getActivity().runOnUiThread(new Runnable() {
                        @Override
                        public void run() {
                            // Amazing List View
                            View composer = v.findViewById(R.id.lsComposer);
                            mLsComposer = ((DynamicListView) composer);
                            try {
                                mLsComposer
                                        .setAdapter(mAdapter = new PaginationComposerAdapter(
                                                mSP, getActivity(),
                                                rarray, name,
                                                label, mEventStatus));
                                Options(men);
                            } catch (Exception e) {
                                Log.d("exception", "this is here at composer"+e);
                                e.printStackTrace();
                            }
                            if (mAdapter.getCount() > 10) {
                                mLsComposer
                                        .setLoadingView(getActivity()
                                                .getLayoutInflater()
                                                .inflate(
                                                        R.layout.lscomposer_loadingview,
                                                        null));
                            }
                            Log.d("complete","at the end");

                        }

                    });
                } catch (final Exception e) {
                    Log.d("error", "this is the exception :"+e);
                    getActivity().runOnUiThread(new Runnable() {
                        @Override
                        public void run() {
                            mEnableOptions = false;
                            // getActivity().supportInvalidateOptionsMenu();
                            MethodActivity.CheckLogin(mSP, getActivity()
                                    .getIntent(), getActivity(), e);
                        }
                    });
                }
                return null;
            }

            protected void onPostExecute(Void result) {
                mDialog.dismiss();
            };
        }; 
```

帮助解决我们的这个问题。提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-26T11:40:28.527

你不应该调用`finish()`，`onDestroy()`因为`onDestroy()`当有人已经调用`finish()`查看[android 文档](http://developer.android.com/reference/android/app/Activity.html#onDestroy%28%29)时会触发。与调用事件相同`finish()`，`onPause()`如果您要实现的是将 FragmentDisplay 与 ActivityStatePager 分离，您应该移动

```
if (savedInstanceState == null) {
        FragmentDisplay fragment = new FragmentDisplay();
        getSupportFragmentManager().beginTransaction()
                .add(android.R.id.content, fragment).commit();
    } 
```

进入`onResume()`事件并在事件上分离这个片段`onPause()`。使用您的代码，每次活动暂停时，您都会强制调用 onCreate()，这是一个昂贵的操作。

我认为例外`java.lang.IllegalArgumentException: No view found for id 0x7f060038`来自您的活动方式`onResume()`。

你也能展示什么`RecordList.RecordListFragment.BackgroundTask`吗？从`NullPointerException`那里开始。

**添加代码后编辑`RecordList.RecordListFragment.BackgroundTask`：**

好的，我想我明白了。避免在执行 doInBackground() 时访问 UIThread。使用`AsyncTask.publishProgress()`和覆盖`AsyncTask.onProgressUpdate()`在后台线程上仍有工作要做时对 UI 进行更改（查看[AsynTask](http://developer.android.com/reference/android/os/AsyncTask.html)上的文档）。在你的情况下，你应该把

```
 View composer = v.findViewById(R.id.lsComposer);
                        mLsComposer = ((DynamicListView) composer);
                        try {
                            mLsComposer
                                    .setAdapter(mAdapter = new PaginationComposerAdapter(
                                            mSP, getActivity(),
                                            rarray, name,
                                            label, mEventStatus));
                            Options(men);
                        } catch (Exception e) {
                            Log.d("exception", "this is here at composer"+e);
                            e.printStackTrace();
                        }
                        if (mAdapter.getCount() > 10) {
                            mLsComposer
                                    .setLoadingView(getActivity()
                                            .getLayoutInflater()
                                            .inflate(
                                                    R.layout.lscomposer_loadingview,
                                                    null));
                        }
                        Log.d("complete","at the end"); 
```

`onPostExecute()`因为您想在长时间的工作完成后对您的 UI 进行更改。

# windows-phone-7 - WP7 排序字典

> ID：12599881
> 
> 赞同：1
> 
> 时间：2012-09-26T10:40:06.240
> 
> 标签：windows-phone-7, sorteddictionary

我知道 SortedDictionary 在 WP7 中不可用......所以必须自己排序。

我找到了许多示例，目前正在使用此代码

```
Dictionary<string, TimetableClass> AllClasses = new Dictionary<string, TimetableClass>()
        {
            { "Maths", new TimetableClass {ClassName="Maths", Location="RM1"}},
            { "Physics", new TimetableClass {ClassName="Physics", Location="PM1"}},
            { "English", new TimetableClass {ClassName="English", Location="PM1"}},
            { "Algebra", new TimetableClass {ClassName="Algebra", Location="A1"}}

        };

        var sortedDict = new Dictionary<string, TimetableClass>();

        foreach (KeyValuePair<string, TimetableClass> singleclass in AllClasses.OrderBy(key => key.Value))
        {
            sortedDict.Add(singleclass.Key, singleclass.Value);
        } 
```

但是当我运行这个时，我在 foreach 上得到一个异常？

异常是未处理的参数异常 - “值确实在预期范围内”

真的不知道我在这里做错了什么。任何帮助表示赞赏。

*   谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-26T11:01:37.097

这应该工作

```
foreach (KeyValuePair<string, TimetableClass> singleclass in AllClasses.OrderBy(item => item.Key))
        {
            sortedDict.Add(singleclass.Key, singleclass.Value);
        } 
```

或者，如果你想根据 Object(Value) 进行排序，试试这个

```
foreach (KeyValuePair<string, TimetableClass> singleclass in AllClasses.OrderBy(item => item.Value.ClassName))
        {
            sortedDict.Add(singleclass.Key, singleclass.Value);
        } 
```

最后，您还可以利用它来代替 foreach 循环，而无需额外的“sortedDict”字典。

```
AllClasses = AllClasses.OrderBy(item => item.Key).ToDictionary(item => item.Key, item => item.Value); 
```

# sql - 按 xml 查询的结果分组

> ID：12599885
> 
> 赞同：0
> 
> 时间：2012-09-26T10:40:23.003
> 
> 标签：sql, xml, tsql, group-by, sqlxml

我有一个带有 XML 列（称为 MetaData）的表，如下所示：

```
<props>
  <prop name="bytes" value="194" />
  <prop name="error" value="File is a text file" />
  <prop name="mime-type" value="text/plain " />
</props> 
```

现在我有一些不同的错误，我可以在这里选择：

```
SELECT MetaData.value('(/props/prop[@name="error"]/@value)[1]', 'varchar(50)') Error,
       MetaData.value('(/props/prop[@name="mime-type"]/@value)[1]', 'varchar(50)') MimeType,
       *
FROM source
WHERE MetaData.exist('/props/prop[@name="error"]') = 1 
```

现在我想计算错误发生的频率：

```
SELECT MetaData.value('(/props/prop[@name="error"]/@value)[1]', 'varchar(50)') Error,
       COUNT(*) Count
FROM source
WHERE MetaData.exist('/props/prop[@name="error"]') = 1
GROUP BY Error 
```

但我收到错误消息：

> Meldung 207，Ebene 16，状态 1，Zeile 5
> Ungültiger Spaltenname '错误'。

这意味着类似：无效的列名“错误”

我在这里也试过这个：

```
Select Error, COUNT(Error) FROM (
    SELECT MetaData.value('(/props/prop[@name="error"]/@value)[1]', 'varchar(50)') Error
    FROM videos
    WHERE MetaData.exist('/props/prop[@name="error"]') = 1
)
GROUP BY Error 
```

但这会崩溃：

> Meldung 156, Ebene 15, Status 1, Zeile 6
> Falsche Syntax in der Nähe des GROUP-Schlüsselworts。

这意味着类似：关键字 GROUP 附近的语法错误

我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-26T10:43:28.303

唯一一次可以在同一查询中引用别名列是在 ORDER BY 子句中。您上次尝试的错误是必须为子查询指定一个表别名，我在下面使用了“X”，因为没有更好的名称。

```
SELECT Error, COUNT(Error) [Count]
FROM (
    SELECT MetaData.value('(/props/prop[@name="error"]/@value)[1]', 'varchar(50)') Error
    FROM source
    WHERE MetaData.exist('/props/prop[@name="error"]') = 1
) X
GROUP BY Error 
```

And`Count`是一个保留字，因此如果要使用它，则需要将其放在方括号中。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-26T10:44:51.050

在您的第二个查询中，您需要命名您的子查询

```
Select Error, COUNT(Error) FROM
( 
    SELECT MetaData.value('(/props/prop[@name="error"]/@value)[1]', 'varchar(50)') Error 
    FROM videos 
    WHERE MetaData.exist('/props/prop[@name="error"]') = 1 
) subqueryname
GROUP BY Error 
```

你几乎可以给它起任何你喜欢的名字。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-26T12:35:10.500

正确的。你也可以这样：

```
SELECT error, COUNT(*) errorCount
FROM
    (
    SELECT
        e.c.value ('@value', 'varchar(50)') Error
    FROM source s
        CROSS APPLY s.metadata.nodes('props/prop[@name="error"]') e(c) 
    ) x
GROUP BY error 
```

您也可以使用 XQuery 来执行此操作，尽管您希望您的预期结果看起来如何尚不清楚。试试这个：

```
DECLARE @source TABLE ( metadata XML )

INSERT INTO @source
SELECT '<props> 
  <prop name="bytes" value="194" /> 
  <prop name="error" value="File is a text file" /> 
  <prop name="mime-type" value="text/plain " /> 
</props>'

INSERT INTO @source
SELECT '<props> 
  <prop name="bytes" value="0" /> 
  <prop name="error" value="error 1" /> 
  <prop name="error" value="error 2" /> 
  <prop name="mime-type" value="text/plain " /> 
</props>'

SELECT
    MetaData.value('(/props/prop[@name="error"]/@value)[1]', 'varchar(50)') Error, 
    MetaData.value('(/props/prop[@name="mime-type"]/@value)[1]', 'varchar(50)') MimeType, 
    MetaData.value('count(/props/prop[@name="error"])', 'int') errorCount, 
    * 
FROM @source 
WHERE MetaData.exist('/props/prop[@name="error"]') = 1 
```

# css - DIV 向下和向右推，但没有 CSS 指令这样做

> ID：12599887
> 
> 赞同：-2
> 
> 时间：2012-09-26T10:40:33.413
> 
> 标签：css

我有一个名为 WADAContainer 的 div 标签，它强制将页面内容向下约 300 px 并位于其应位于的右侧。使用 chrome，CSS 没有指示这样做吗？我错过了什么可以做到这一点？

示例网址：[http ://tinyurl.com/d4yvoo4](http://tinyurl.com/d4yvoo4)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-26T10:43:29.490

您的 CSS 包含`160px 0 0 100px !important`此 WADAContainer 样式表第 21 行的边距。`margin:0`因为您已将其标记为 !important，所以稍后在样式表中它不会被覆盖。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-26T10:44:41.687

评论这一行。它会解决的。

```
.WADAContainer {
background: none repeat scroll 0 0 transparent !important;
/*margin: 160px 0 0 100px !important;*/
width: 950px;
} 
```

# clojure - 如何在运行时访问正在运行的 Clojure 应用程序的版本号？

> ID：12599889
> 
> 赞同：16
> 
> 时间：2012-09-26T10:40:36.597
> 
> 标签：clojure, continuous-integration, jenkins, leiningen, continuous-deployment

我有一个用 Clojure 编写的 Web 服务，它[不断交付](http://en.wikipedia.org/wiki/Continuous_delivery)。为了让我们的自动化部署工具知道已经部署了哪个版本的代码库，Web 服务应该提供一种方法来查询它是哪个版本。[该版本在Leiningen](https://github.com/technomancy/leiningen)构建工具中声明为项目设置的一部分，如下所示：

```
(defproject my-web-service "1.2-SNAPSHOT"
  ; ... rest of project.clj
  ) 
```

代码库被打包为一个 JAR 文件。

我们开发人员不想在每次提交时增加版本号。[相反，我们希望它在我们的持续集成](http://en.wikipedia.org/wiki/Continuous_integration)服务器（在本例中为 Jenkins）上触发新构建时自动递增。例如，当版本控制签入提示此代码库的第 40 秒构建时，版本为`1.2.42`.

对于已构建和部署的任何特定 JAR，我希望允许以某种方式查询版本号（例如，使用 HTTP 请求，但这是一个实现细节）。响应应包含字符串`1.2.42`。

如何使该版本号可用于正在运行的应用程序？

（可能重复，虽然它不包括 Jenkins 方面：[Embed version string from leiningen project in application](https://stackoverflow.com/questions/11235445/embed-version-string-from-leiningen-project-in-application)）

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-09-26T10:40:36.597

访问此版本号的一种方法是通过`MANIFEST.MF`存储在 JAR 文件中的文件。这将允许在运行时通过 Java 的[`java.lang.Package`](http://docs.oracle.com/javase/6/docs/api/java/lang/Package.html)类进行访问。这需要以下三个步骤：

1.  将 Jenkins 内部版本号传递给 Leiningen，以合并到`project.clj`的`defproject`声明中。
2.  指示 Leiningen 构造 a`MANIFEST.MF`的值为`Implementation-Version`。
3.  调用`Package#getImplementationVersion()`以获取对`String`包含版本号的访问权限。

## 1 - 获取 Jenkins 内部版本号

可以使用 Jenkins 的[环境变量](https://wiki.jenkins-ci.org/display/JENKINS/Building+a+software+project#Buildingasoftwareproject-JenkinsSetEnvironmentVariables)来访问内部版本号（很好命名`BUILD_NUMBER`）。这在 JVM 进程中可用，使用`System.getenv("BUILD_NUMBER")`. 在这种情况下，JVM 进程可以是 leiningen`project.clj`脚本，它是可以调用的 Clojure 代码`(System/getenv "BUILD_NUMBER")`。按照上面的示例，返回的字符串将为“42”。

## 2 - 在 MANIFEST.MF 中设置版本

构建 JAR 时，Leiningen 将`MANIFEST.MF`默认包含一个文件。它还有一个配置选项，允许在该文件中设置任意键值对。因此，当我们可以在 Clojure 中访问 Jenkins 内部版本号时，我们可以将其与静态版本声明结合起来`Implementation-Version`在清单中设置。相关部分`project.clj`如下所示：

```
(def feature-version "1.2")
(def build-version (or (System/getenv "BUILD_NUMBER") "HANDBUILT"))
(def release-version (str feature-version "." build-version))
(def project-name "my-web-service")

(defproject project-name feature-version
  :uberjar-name ~(str project-name "-" release-version ".jar")
  :manifest {"Implementation-Version" ~release-version}

  ... ) 
```

值得注意的是这个例子中的一些细节。`(if-let ...)`when 定义是允许开发者在`build-version`本地构建 JAR，而不需要模拟 Jenkins 的环境变量。`:uberjar-name`配置是允许创建一个使用 Maven/Ivy 约定命名的 JAR 文件。此示例中的生成文件将是`my-web-service-1.2.42.jar`.

使用此配置，当 Jenkins 在版本号 42 上调用 Leiningen 时，生成的 JAR 中的清单将包含“Implementation-Version: 1.2.42”行。

## 3 - 在运行时访问版本

现在我们要使用的版本字符串在清单文件中，我们可以在 Clojure 代码中使用 Java 标准库来访问它。以下代码段演示了这一点：

```
(ns version-namespace
  (:gen-class))

(defn implementation-version []
  (-> (eval 'version-namespace) .getPackage .getImplementationVersion)) 
```

请注意，为了调用`getImplementationVersion()`，我们需要一个`Package`实例，而要获得它，我们需要一个 的实例`java.lang.Class`。因此，我们确保从这个命名空间（对 的调用`(:gen-class)`）生成一个 Java 类（然后我们可以`getPackage`从该类访问该方法。

该函数的结果是一个字符串，例如“1.2.42”。

## 注意事项

值得注意的是，您可能需要担心一些陷阱，但对于我们的用例来说是可以接受的：

*   `project.clj`动态设置'调用中定义的版本字符串`(defproject ...)`可能会导致其他一些工具无法工作，如果它们依赖于被硬编码的版本
*   的语义`getImplementationVersion`被稍微滥用了。确实版本应​​该是: `pkg.getSpecificationVersion() + "." + pkg.getImplementationVersion()`，但由于没有其他任何东西读取这些值，我们可以只设置实现版本。请注意，正确执行此操作还需要将“规范版本”添加到清单中。

* * *

通过上述步骤，我正在运行的 Clojure 应用程序可以访问与打包代码的 Jenkins 构建相对应的版本号。

# .htaccess - .htaccess 301 使用变量重定向

> ID：12599892
> 
> 赞同：1
> 
> 时间：2012-09-26T10:40:43.720
> 
> 标签：.htaccess, redirect, http-status-code-301

我正在升级一个将使用新链接的网站。可以从旧 URL 中找出新 URL，因此我想在 .htaccess 中创建一些 301 条目来转发旧链接。

我知道这是可能的

```
Redirect 301 /orginalURL.html http://website.com/newURL.php 
```

但是我需要使用旧 url 的一部分来构造新的 url。这可能吗？旧网址示例

```
/index.php?page=/shop/bcat&c=47 
```

那应该是

```
/se/category/47 
```

在这种情况下，47 是我需要从旧 URL 到新 URL 的键。此外，我不能期望 /index.php 存在于所有旧链接中，因此它们也可能看起来像 /?page=/shop/bcat&c=47 。

任何可以在这里帮助我的人，我都可以自己弄清楚其余的重定向:)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-26T10:45:10.907

您需要使用 mod_rewrite 来匹配查询字符串。在文档根目录的 htaccess 文件中尝试这样的操作：

```
RewriteEngine On
RewriteCond %{QUERY_STRING} page=/shop/bcat&c=([0-9]+)
RewriteRule ^/?(index.php)?$ http://website.com/se/category/%1? [L,R=301] 
```

# erlang - 试图在 Erlang 中为 Project Euler #14 找到更快的解决方案

> ID：12599893
> 
> 赞同：0
> 
> 时间：2012-09-26T10:40:46.170
> 
> 标签：erlang

我试图为 Project Euler 的问题 14 编写一个解决方案。我最快的——不是下面那个——跑了 58 秒左右。我使用谷歌发现的最快看起来或多或少是这样的：

```
%% ets:delete(collatz) (from shell) deletes the table.

-module(euler) .
-export([problem_14/1]) .

collatz(X) ->
  case ets:lookup(collatz, X) of
    [{X, Val}] -> Val ;
    []         -> case X rem 2 == 0 of
                    true  ->
                      ets:insert(collatz, {X, Val = 1+collatz(X div 2)} ) ,
                      Val ;
                    false ->
                      ets:insert(collatz, {X, Val = 1+collatz(3*X+1)} ) ,
                      Val
                  end
  end .

%% takes 10 seconds for N=1000000 on my netbook after "ets:delete(collatz)".
problem_14(N) ->
  case ets:info(collatz) of
    undefined ->
      ets:new(collatz, [public, named_table]) ,
      ets:insert(collatz,{1,1}) ;
    _         -> ok
  end ,
  lists:max([ {collatz(X), X} || X <- lists:seq(1,N) ]) . 
```

但是空桌子仍然需要 10.5 秒。我发现 C++ 中最快的解决方案只需要 0.18 秒，快了 58 倍。所以我想即使 Erlang 不是为这样的东西而生的，也可以编写更好的代码。有人可能知道我可以尝试什么来提高速度吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-27T01:35:33.823

我已经加快了您的代码速度：指定 ets as `ordered_set`，使用按位运算并实现尾递归函数`max_size_index`，而不是将所有结果收集到列表中，然后遍历它以找到最大值（如我们的代码中所示）。

```
-module(collatz).
-compile(export_all).

size(1, _) ->
        1;
size(N, Hashset) ->
        case ets:lookup(Hashset, N) of
                [{N, Size}] ->
                        Size;
                [] ->
                        Size  = 1 + size( next(N), Hashset ),
                        ets:insert(Hashset, {N, Size}),
                        Size
        end.

next(N) when N band 1 == 0 ->
        N bsr 1;
next(N) ->
        (N bsl 1)+N+1.

max_size_index(1, _Hashset, {Index, MaxSize}) ->
        {Index, MaxSize};
max_size_index(N, Hashset, {Index, MaxSize}) ->
        CurrSize = size(N, Hashset),
        case CurrSize > MaxSize of
                true ->
                        max_size_index(N-1, Hashset, {N, CurrSize});
                false ->
                        max_size_index(N-1, Hashset, {Index, MaxSize})
        end.

problem_14(N) ->
        Hashset = ets:new(collatz_count, [public, ordered_set]),
        max_size_index(N, Hashset, {1,1}). 
```

在 shell 中测试 - 你的模块`euler`和我的模块`collatz`()

```
1> c(euler).
{ok,euler}
2> 
2> timer:tc(euler, problem_14, [1000000]). 
{4039838,{525,837799}}
3> 
3> c(collatz).
{ok,collatz}
4> 
4> timer:tc(collatz, problem_14, [1000000]). 
{2824109,{837799,525}} 
```

最后一个加速技巧 - 大间隔可以分成更小的间隔，并为每个小间隔并行产生计算（在其他节点上）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-29T09:41:03.300

一般来说，原始的 CPU 密集型操作并不是 Erlang 的强项。正如您所注意到的，问题是数据被复制到 ETS 表中或从 ETS 表中复制出来。中央 ETS 表也有锁定的优势：原子更新。因此，如果您愿意，您可以轻松获得更多核心来解决问题。但是，您不会接近 C++ 或 C 解决方案的速度。

对于此类问题，您遇到的另一个问题是可变性。Erlang 在其（顺序）核心中有（几乎）纯函数式语言。因此，您不能指望用一个临时哈希表或一个数组来击败一个 C++ 解决方案，它可以在其中存储它所操作的数百万个条目。您可以尝试该`array`模块，但我怀疑它会更快。

# logging - 如何通过用户交互记录应用程序脚本？

> ID：12599900
> 
> 赞同：1
> 
> 时间：2012-09-26T10:41:14.390
> 
> 标签：logging, google-apps-script

我想记录一个旨在作为服务运行并需要用户交互的应用程序脚本。日志日志（在谷歌脚本编辑器中）确实记录了“doGet start”条目，但没有记录“处理程序”条目......因为在谷歌编辑器中单击“执行”按钮不会显示 UiApp。

我发现有效查看 Ui 的唯一方法是发布脚本并执行其公共 url……但是我不知道在哪里可以找到日志。

欢迎任何提示，谢谢。

```
function doGet() {
  Logger.log("doGet start");
  var app = UiApp.createApplication().setTitle(" ");
  var handler = app.createServerHandler('selectionHandler');
  var docsUI = app.createDocsListDialog().addSelectionHandler(handler).showDocsPicker();
  return app;
}

function selectionHandler(e){
  var app = UiApp.getActiveApplication();
  Logger.log("handler");
  Logger.log(e.parameter);
  return app;
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-26T19:23:41.063

为了调试我的 Web 部署应用程序，我编写了一个库，它向应用程序添加了一个日志窗口，并允许将消息输出到该窗口。图书馆的项目密钥是`MHDTOOt9dn-ViHNtwfsIfJ5lu8m0d5vP9`. 有一个[演示](https://script.google.com/macros/s/AKfycbziFJ03JKDcMpKgBLpvzvFZZUFNYdMpbTfIX0qPkS7J6zF0OMON/exec)功能的演示。源代码也[可用](https://script.google.com/d/1w8FDhOz4hyighGd7sLE64uS-yxEVRQwF_X0JXjDLTfH8uab9pba9DQ9D/edit)。

我希望它可以帮助您解决 Logger 服务问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-26T12:10:44.987

有一个未解决的问题 -[问题 811](http://code.google.com/p/google-apps-script-issues/issues/detail?id=811)要求提供持久记录器功能。请为它加注星标以添加您的投票。在没有此功能的情况下，您可以将日志写入电子表格单元格或 Google Drive 中您可以看到的文档。到目前为止，您可以使用 Logger.getLog() 函数获取记录器的整个文本

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-26T15:44:10.380

还有一个关于 logger 的[更普遍的问题](http://code.google.com/p/google-apps-script-issues/issues/detail?id=1502)，该问题在 7 月份被报告（因为它在此之前曾经工作过......），我确实希望 Google 能够修复它，因为它比任何其他调试脚本的方法都方便得多。你也可以投票给它;-)

与此同时，Srik 的建议恐怕是唯一的办法……

编辑：当然还有 Megabyte1024 在上面的帖子中提到的实用程序库，它非常有用和方便。

# java - 如何验证在 EditText 中键入的字符串而不丢弃中间字符串？

> ID：12599908
> 
> 赞同：1
> 
> 时间：2012-09-26T10:41:44.700
> 
> 标签：java, android, regex

我正在尝试使用 TextWatcher 和正则表达式来验证用户输入。请注意，我有一个复杂的正则表达式：

```
edit.addTextChangedListener(new TextWatcher() {           
            private final Pattern m_regex = Pattern.compile("([a-zA-Z]{4}[ ]{0,1}){7}");

            @Override
            public void afterTextChanged(Editable s) {
                  String text = s.toString();
                  int length = text.length();

                  if(!m_regex.matcher(text).matches() && length > 0) {
                       s.delete(length - 1, length);
                  }
            }

            @Override
            public void beforeTextChanged(CharSequence s, int start, int count, int after) {}
            @Override
            public void onTextChanged(CharSequence s, int start, int before, int count) {}

        }); 
```

这里的问题是匹配器只能检查 2 个字符串状态：与提供的表达式匹配和不匹配，但对于输入验证，您还需要检查中间状态 - 当字符串与模式不匹配但也不与之矛盾时. 有什么方法可以使用我的正则表达式来验证输入的字符串`EditText`吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-26T11:58:42.593

与另一个正则表达式匹配。抱歉，如果答案看起来很愚蠢，但正如您之前所说，*matcher 只能检查 2 个字符串状态： match 和 no match*。

编辑：

我更好地理解了你的问题。你可以这样做：测试输入与这个正则表达式

```
^(([a-zA-Z]{4}[ ]{0,1}){0,6}([a-zA-Z]{0,4})|([a-zA-Z]{4}))$ 
```

这将验证文本是否被插入。如果没问题，让用户继续。仅当用户完成输入文本时才应使用您的正则表达式！-

或者，如果您想检查用户是否已完成编写，请执行以下操作：匹配我编写的正则表达式以查看文本是否正确。如果可以匹配您的，如果匹配，则用户已完成插入文本。

# socket.io - 如果客户端页面加载且服务器已关闭，请重试 socket.io 连接

> ID：12599914
> 
> 赞同：6
> 
> 时间：2012-09-26T10:42:20.873
> 
> 标签：socket.io

我在 LAN 应用程序中使用 SocketIO。

如果客户端启动并且服务器关闭，我怎样才能让它继续重试连接？

“connect_failed”事件不会触发，因为我在 socket.io 中收到 GET 错误：“ **http://172.20.2.10:8080/socket.io/1/?t=1348654723279** ”

所以我尝试了：

```
 var socket = io.connect('172.20.2.10',{port:8080});    
 var connected = false;

    socket.on('connect',function(){                                
                    connected = true;
                });
    socket.on('error', function (err) {
                    reconnect();
                });

    function reconnect(){
                    if (!connected){
                        var t = setTimeout( function() {
                            socket = io.connect('172.20.2.10',{port:8080});
                            reconnect();
                            console.log("Socket REC");
                        },1000);

                    }
                } 
```

但是它没有重新连接，我认为是因为JS错误......

如果可能，我会尽量避免页面刷新。

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-12-10T11:42:29.780

我们可以手动使用socket实例的reconnect方法。

```
socket.on('error', function (err) {
socket.socket.reconnect();
}); 
```

# php - 如果节点具有属性，我如何从 xml 中检索值？

> ID：12599924
> 
> 赞同：2
> 
> 时间：2012-09-26T10:42:35.440
> 
> 标签：php, xml, simplexml

> **可能重复：**
> [如何使用 SimpleXML 获取属性？](https://stackoverflow.com/questions/3410520/how-to-get-an-attribute-with-simplexml)

如何获取高度、长度、重量和宽度的值？因为它有属性？在其他值中，我在检索它时没有问题，只是这个值具有属性。

注意：高度，长度，重量和宽度部分只是问题

这是我如何检索它：

```
$from_amazon = array(
   'asin'     => $item->ASIN,
   'product_name'
              => $item->ItemAttributes->Title, 
   'image'    => $item->SmallImage->URL,
   'price'    => $item->ItemAttributes->ListPrice->FormattedPrice, 
   'product_description'
              => $item->EditorialReviews->EditorialReview->Content,
   'category' => $item->ItemAttributes->ProductGroup,
   'weight'   => $item->ItemAttributes->PackageDimensions->Weight
); 
```

![XML DOM](../Images/60fadeab3508cb15a5e5eb0026c6bbf9.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-26T10:56:06.800

看起来您正在使用 SimpleXML 来解析数据。您可以[在此处](http://php.net/manual/en/simplexmlelement.attributes.php)查看如何获取属性。

在你的情况下，它看起来像

```
$item->ItemAttributes->PackageDimensions->Weight->attributes()->Units 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-26T11:19:38.183

simplexml 库将为您返回该节点的对象。但你只想要它的文本。因此，您需要将其转换为字符串：

```
'weight'   => (string) $item->ItemAttributes->PackageDimensions->Weight
              ^^^^^^^^ 
```

这将为您提供作为该 XML 节点字符串的文本。

* * *

在[Simplexml 文档^(*文档*)](http://php.net/manual/en/simplexml.examples-basic.php)中，您可以在*Example #6 Comparing Elements and Attributes with Text*中找到：

> 要将元素或属性与字符串进行比较或将其传递给需要字符串的函数，您必须使用 (string) 将其转换为字符串。否则，PHP 将元素视为对象。
> 
> ```
> (string) $movies->movie->title 
> ```

# android - UI 组件名称

> ID：12599925
> 
> 赞同：0
> 
> 时间：2012-09-26T10:42:40.050
> 
> 标签：android

我是android开发的新手。我想在 Play 商店中实现这样的 Swipe fetcher 来浏览 To Free、Top Paid、New Top Free 等类别。通过滑动，页面会发生变化，但上一页的标题也可以在当前页面和下一页中看到。

是画廊吗？或任何自定义视图？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-26T10:46:55.807

您应该使用 ViewPager。这就是他们在 Play 商店中使用的东西。它在兼容性包中。

[http://android-developers.blogspot.co.il/2011/08/horizo​​ntal-view-swiping-with-viewpager.html](http://android-developers.blogspot.co.il/2011/08/horizontal-view-swiping-with-viewpager.html)

# scala - 如何用更大的元组编译 scala？

> ID：12599927
> 
> 赞同：6
> 
> 时间：2012-09-26T10:42:46.513
> 
> 标签：scala

我想编译具有更大元组参数数量限制的 Scala 分布 - 例如，50 而不是 22。（并且函数/案例类/等限制也增加了）

我假设那些 TupleN、FunctionN 等是在编译时生成的。但是在源目录中，我找到了所有的 Tuple1 到 Tuple22，并附注说明它们是生成的。

另外，我找到了 src/build/genprod.scala 文件，这似乎是需要的文件。但是运行它的正确方法是什么？

我换`MAX_ARITY`了`genprod`又换`MaxFunctionArity`了`Definitions.scala`，我还需要改变什么才能让它工作？

是否可以将生成的 scala 分布与 sbt 一起使用？还是有一些根本性的问题？

**注意：**我完全理解尝试以这种方式解决元组问题并不是很好，但在这种情况下，它更像是一个教育项目。

**编辑：**嗯，它变得有趣。由于 scala 编译器是自举的，我不能用更大的元组编译它，因为旧的编译器强制执行 22 限制。所以似乎首先我需要创建一个增加了限制的编译器，然后才编译更多的元组。我该怎么做？

**EDIT2：**现在我有一个问题 - 我试图增加 MaxFunctionArity 并运行`ant replacestarr-opt`，但它失败了`scala.Function23 not found`。如果我尝试添加 scala.Function23 等，它根本无法编译。有没有办法解决它？

**EDIT3：**我尝试按以下顺序执行命令：

```
ant build
# increase MaxFunctionArity
ant build
ant replacelocker
# generate TupleN classes
ant build

# this fails
ant replacelocker 
```

`ant replacelocker`似乎因为使用了编译器而失败，`starr`并且它仍然不允许超过 22 个参数。

我试图替换starr：

```
ant build
# increase MaxFunctionArity
ant build
ant replacelocker
ant replacestarr # failed 
```

但这失败了`scala.Function23 not found`。似乎是一个死锁 - 我需要改变它`MaxFunctionArity` *并*生成类，但我不能同时这样做，如果我试图分离这些动作，我会失败。

有没有办法解决这个问题？

**EDIT4：**我忘了提到在这个实验中我正在折磨 Scala 2.9.2，因为它是最后一个稳定版本。

**EDIT5：**由于我实际上设法使用编译器构建`quick`了带有大元组的`locker`编译器，因此我预计`starr`层存在一些问题。

所以我尝试执行以下操作（不更改任何内容）：

```
ant build
ant replacelocker
ant replacestarr 
```

最后一个命令失败了

```
Unable to find jar:file:/home/platon/Input/sources/scala-tupled/lib/scala-compiler.jar!/scala/tools/ant/sabbus/antlib.xml 
```

现在这很奇怪，为什么它不能自己建造？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-27T10:40:38.767

我查看了 2.10，其中 Product、Tuple 和 Function 的数量最多。

我修改了 genprod 以通过三个步骤进行更改：

1.  ProductN 和无壳元组 N。产品和元组的最大凹凸。
2.  将大小写添加到元组（需要 ProductN）。这是有效的，因为发出伴随模块的代码通过将参数截断为 MaxFunctionArity 来减少你的工作量。我认为 Namers 应该检查 MaxProductArity，并且同伴应该停止在 MaxFunctionArity 处扩展 Function。还生成和编译 FunctionN，没有元组和非柯里化，这需要应用 N 个参数。（对于 FunctionN，isFunctionType 仍然为 false。）
3.  最后碰撞 MaxFunctionArity 和全功能支持。

此 REPL 会话的格式被 Function26 上的 x windows 包装破坏，但您明白了：

```
 scala> val f: Function26 = null

    console>:7: error: trait Function26 takes type parameters

    scala> val f: Function26 = 

    y:Int,z:Int) => a+z 
    f: (Int, Int, Int, Int, Int, Int, Int, Int, Int, Int, Int, Int, Int, Int, Int, Int, Int, Int, Int, Int, Int, Int, Int, Int, Int, Int) => Int = <function26>

    scala> f(1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2)
    res0: Int = 3 
```

# xcode - 如何使用 Xcode 在 Heroku 上进行开发？

> ID：12599929
> 
> 赞同：1
> 
> 时间：2012-09-26T10:42:47.113
> 
> 标签：xcode, git, heroku

我想使用 XCode 和 git 将 php 代码拉-编辑-推到 Heroku。

我尝试使用本地 git 创建一个空的 XCode 项目，然后使用我的 Heroku 用户名和密码将远程作为 git@heroku.com:.git 添加到本地存储库。我想将 Heroku 中的内容提取到项目中并执行通常的项目开发任务，例如在 Xcode 中编辑/添加文件到项目并将它们推回 Heroku。但是，当我尝试拉时，Xcode 找不到遥控器，所以我无法拉。谁能帮我正确设置？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2019-07-16T09:23:23.013

从终端登录heroku并在Xcode中的.netrc中使用用户名和密码。'Push' 在 Xcode 中以这种方式工作。希望“拉动”也能奏效。

# azure - 在 azure 计算模拟器中不断更改 127.0.0.x 地址

> ID：12599931
> 
> 赞同：2
> 
> 时间：2012-09-26T10:42:55.430
> 
> 标签：azure, dns, localhost

我有一个包含 3 个 azure web 角色和 1 个工作角色的解决方案。

这些角色每个都有自己的天蓝色部署项目，因为它们需要不同的子域并且可能必须独立部署。

在开发对 url 敏感的方面（如跨多个子域的 cookie、角色之间的互连等）时，Azure 计算模拟器的不断变化的虚拟 IP（我目前有 127.0.0.2、127.0.0.3 和 127.0\. 0.8（由于某种原因没有介于两者之间））成为一个问题。此外，由于浏览器会将每个 IP 识别为不同的主机，因此我需要 dns 地址来实现跨子域的 cookie。

关于这个主题似乎没有很多信息材料，所以也许我的方法是错误的，但是你其他人如何解决这些情况？

1) 使用完整的 IIS 而不是 IIS Express。我不知道这是否是一个可行的解决方案，我想它会停止更改地址，但我希望尽可能长的轻量级 IIS Express。此外，我不确定是否可以使用稳定的子域（与生产的子域不同）而无需过多的手动工作。

2) 使用ServiceDefinition.csdef 中的hostHeader 属性。仅适用于手动更改主机文件，如果不删除主机文件条目，我将无法访问生产代码（容易出错且乏味）

3）某种形式的反向代理，但这真的感觉有点矫枉过正。

我希望我只是忘记了一些明显的事情；）

问候，
Pharao2k

[编辑] 我想要的只是让我的三个项目同时调试，同时包含一个包含所有三个主机名或一个 dns 名称（每个项目都有子域）的 url。也许我在尝试这个时失去了理智，但我似乎无法弄清楚如何做到这一点。

*   如果我使用 IIS Express 和三个 Azure 部署项目，每次按编译时，每个项目都会获得另一个 IP (127.0.0.X)。当然，每次按 F5 时，我都可以编辑主机文件并刷新 dns 缓存，但这是不可接受的。

*   如果我使用完整的 IIS 和三个 Azure 部署项目，它不会让我一次启动多个 -> 无法使用。

*   如果我为我的所有角色使用一个组合的 Azure 项目，那么我将必须维护至少 5 个 azure 项目......单个项目（对于真正的部署，正如我所说，它们必须是可独立部署的）和组合的一个。而且我很确定这会以某种方式让我发疯，而且这绝对不是一个经过测试的场景。 *[编辑 #2] 哇，即使在这里 IP 地址也会发生变化，所以回到修改主机文件 + dns 每次 F5 后刷新 -.-*

我无法想象我使用子域的情况如此不寻常，我不明白为什么其他人似乎没有遇到这个问题。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-26T10:53:40.033

I would suggest consolidating the Web Roles into a single role. You'll get an easier deployment to manage, better value of money (i.e. a smaller minimum deployment size) and a single dimension to scale.

You can use different port numbers or host headers to direct traffic to the correct endpoint.

There are plenty of articles available which describe how to do this, for example: [http://msdn.microsoft.com/en-us/library/windowsazure/gg433110.aspx](http://msdn.microsoft.com/en-us/library/windowsazure/gg433110.aspx)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-01T22:46:49.503

调出每个项目（参考项目，而不是 Azure 角色项目）的属性。转到项目属性-> Web。我检查了“使用本地 IIS 服务器”和“使用 IIS Express”。为了锁定，我在项目 URL 中设置了我想要的 URL。

我使用 http://localhost:[端口号] 但是一旦停止选择随机 IP 和端口，您应该能够根据需要配置服务器和主机文件。

# jquery - jQuery验证引擎不工作

> ID：12599934
> 
> 赞同：0
> 
> 时间：2012-09-26T10:43:22.763
> 
> 标签：jquery, jsp, jquery-validation-engine

我正在尝试在 jsp 中实现 jquery 验证引擎，但它不适合我。请看下面的代码：

```
<html lang="en"><head>

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4/jquery.min.js" type="text/javascript"></script>
<script src="jquery.validationEngine-en.js" type="text/javascript"></script>
<script src="jquery.validationEngine.js" type="text/javascript"></script>
<script type="text/javascript">

jQuery(document).ready(function(){
alert("hi");
jQuery("#empFrm").validationEngine();
});
</script>

<body>

<form:form method="post" action="" name="empForm" id="empFrm">

<input type="text"large" name="empId" class="validate[required] text-input" />
... 
```

警报即将到来，但验证引擎无法正常工作。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-18T17:08:26.867

我发现你的代码有一些错误。一对未关闭的标签和在适当位置没有结束引号的字段。此外，您不需要对常规字段使用“文本输入”。看看我这里有什么并比较

```
<html>
    <head> 
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4/jquery.min.js" type="text/javascript"></script> 
        <script src="jquery.validationEngine-en.js" type="text/javascript"></script> 
        <script src="jquery.validationEngine.js" type="text/javascript"></script> 
        <script type="text/javascript"> 
            jQuery(document).ready(function(){ 
                alert("hi"); 
                jQuery("#empFrm").validationEngine(); 
            }); 
        </script> 

    </head> 

    <body> 
        <form method="post" action="" name="empForm" id="empFrm"> 
            <input type="text" name="empId" class="validate[required]" /> 
        </form>
    </body>
</html>
```

# objective-c - 我的应用程序不会出现信箱，并且可以将对象移出游戏环境

> ID：12599939
> 
> 赞同：0
> 
> 时间：2012-09-26T10:43:40.423
> 
> 标签：objective-c, xcode, ios6, iphone-5

嗨，我正在开发一个应用程序，它几乎完成了，直到我拿到我的 iPhone 5 并在上面测试了我的应用程序，现在它在屏幕底部显示了一个大的白色矩形（看起来像屏幕的扩展）我假设该应用程序会自动为其自身设置信箱，这样就不会出现，并且您可以在屏幕上自由移动的对象会越过这个白色矩形，这会使游戏变得毫无用处。

xcode 上是否有一些设置必须为此发布。

或者如果可能的话，我可以添加一些简单的代码来确定 ios 设计的天气是 iphone 5 或 4s 还是更低，然后添加不同的对象屏幕？

![图片显示问题](../Images/c3a626e0d7c35581f85b7a232d7b1b43.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-26T10:51:47.330

告诉 iOS 是否使用更大屏幕尺寸的东西是`Default-568h@2x.png`文件的存在（见[这个答案](https://stackoverflow.com/questions/12395200/how-to-develop-or-migrate-apps-for-iphone-5-screen-resolution/12397309#12397309)）。

如果您添加了这样的文件（如果您将图像拖到 Xcode 中项目设置的 iPhone 5 启动图像部分，它可能会自动添加），那么这就是它为您提供全屏显示的原因。

如果是这种情况，一旦您删除了该文件，您就需要清理您的项目（请参阅[此答案](https://stackoverflow.com/questions/12536486/undo-auto-resizing-for-iphone-5-screen-after-adding-default-568h2x-png)）。

但是，如果您从未添加过`Default-568h@2x.png`文件并且它仍然为您提供全屏显示，那么恐怕我不知道出了什么问题:(

# cyclomatic-complexity - IF((A>B) AND (C>D)) 和 IF((A>B) OR (C>D)) 的圈复杂度

> ID：12599942
> 
> 赞同：6
> 
> 时间：2012-09-26T10:43:48.747
> 
> 标签：cyclomatic-complexity

我想知道两段代码的圈复杂度，

```
IF((A>B) AND (C>D)) 
{ a=a+b;c=c+d;} 
```

据我所知，上述代码的圈复杂度=2+1=3，

另一个代码

```
IF((A>B) OR (C>D))
{a=a+b;c=c+d;} 
```

上述代码的复杂度为=4+1=5，

上述复杂性是否正确？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2014-02-09T11:03:25.087

两种复杂度都相同且等于 3，以 4 种方式计算。我同意 Neil 使用 De Morgan 证明它们是相同的，我认为从对复杂性计数很重要的图表中可以看出相同。

# 图表

让我们从两个代码片段的图表开始。

![如果 + 或](../Images/6fe4eb2a31a7538fc4e983841716f029.png)

![如果 + 和](../Images/a9b9ba149415edbe426afe02f98ce186.png)

解释词：

1.  McCabe 图由基本块组成，这意味着我可以将许多语句合并为一个，只要控制在它们之间线性传递。
2.  我将您的代码视为简单的过程，一个入口点，一个出口点。
3.  出口点被添加为所有结束的接收器。请注意，因为我很少有从 McCabe 计算的代码构建图形的示例，但我记得没有一个示例是这样做的，但我认为这感觉很自然，考虑到什么是基本块以及节点/边的含义。
4.  出口和入口点之间的边缘仅与简化复杂度计算有关，因此注释和不同的标记（颜色，箭头）。
5.  基本块由可以非线性传递控制的指令分隔：while、for、if 等。
6.  引用 McCabe 本人的话，AND 和 OR 会增加复杂性 +1，因为它们基本上是`if and if`and `if or if`，所以有两个 if。因此我的第二个节点是一个单独的节点。

如您所见，两个代码段之间的数字没有区别。节点、边、区域都是一样的。区别在于哪个节点与哪个节点连接，这来自于短路的工作原理。显然，对于没有它的语言，图表需要有所不同。

# 复杂性定义

不止一个。复杂度等于

## 边 - 节点 + 2*（退出）

边 = 5；节点 = 4; 退出 = 1;

两种情况下的复杂度 = 5-4+2*(1) = 3。此定义不需要强连通图，因此我们删除添加的边。

## 边 - 节点 + 出口提供强连通图

边 = 6；节点 = 4; 退出 = 1;

两种情况下的复杂度 = 6-4+1 = 3。这个定义的出现是因为它在拓扑上更有意义，并且在循环计数（图形方式）方面更容易考虑。当您考虑计算许多例程/函数的复杂性时，它会更有用，比如类中的所有方法。因此，认为可以在循环中调用函数是有道理的。但我离题了。

## 地区

地区：3。

这来自欧拉公式，即 Regions + Nodes - Edges = 2 重新措辞：Regions = Edges - Nodes + 2

所以区域的数量与复杂性相同（假设一个出口点）。这是为了在单出口子例程中简化图表中的计数复杂性。

## 决策点 + 1

麦凯布本人指出

> 在实践中，复合谓词如 IF "c1 AND c2" THEN 被视为对复杂性有两个贡献，因为没有连接词 AND 我们将拥有 IF c1 THEN IF c2 THEN，它有两个谓词。由于这个原因和测试目的，在计算复杂度时，计算条件而不是谓词更方便

在这两个代码段中，我们都有一个复合条件，所以 Decisions = 2;

复杂度 = 2+1 = 3。

值得注意的是，圈复杂度从计数循环开始，但出于实际目的以计数条件结束。

# 进一步阅读

**首先尝试 McCabe 的论文**本身：[http ://www.literateprogramming.com/mccabe.pdf](http://www.literateprogramming.com/mccabe.pdf)

Wikipedia 有一篇很好的文章依赖于该论文，尽管我发现如果不遵循 BASIC BLOCKS 和 CONNECTED COMPONENTS 是不够的：

1.  [http://en.wikipedia.org/wiki/Cyclomatic_complexity](http://en.wikipedia.org/wiki/Cyclomatic_complexity)
2.  [http://en.wikipedia.org/wiki/Basic_block](http://en.wikipedia.org/wiki/Basic_block)
3.  [http://en.wikipedia.org/wiki/Connected_component_(graph_theory)](http://en.wikipedia.org/wiki/Connected_component_(graph_theory))

我在 Chambers 的页面上找到了一个简洁但很好的总结：http: [//www.chambers.com.au/glossary/mc_cabe_cyclomatic_complexity.php](http://www.chambers.com.au/glossary/mc_cabe_cyclomatic_complexity.php)

第 8 章中的“软件工程集成方法”一书有一个示例说明复杂性计算（尽管我认为他们在图上吃了一条边，图 8.7）。

[http://books.google.pl/books?id=M-mhFtxaaskC&lpg=PA385&ots=jB8P0avJU7&d&hl=pl&pg=PR1#v=onepage](http://books.google.pl/books?id=M-mhFtxaaskC&lpg=PA385&ots=jB8P0avJU7&d&hl=pl&pg=PR1#v=onepage)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-26T11:10:28.090

我认为它们具有相同的圈复杂度 3；这可以使用德摩根定律来证明。

```
IF((A>B) OR (C>D)) {a=a+b;c=c+d;} ELSE {}

IF(!((A>B) OR (C>D))) {} ELSE {a=a+b;c=c+d;}

IF(!(A>B) AND !(C>D)) {} ELSE {a=a+b;c=c+d;} 
```

另一种看待它的方法是获取图形并交换条件块和退出点（并反转它们之间的边），这会将其从 AND 转换为 OR 而不会更改节点或边的数量。

# model-view-controller - magento 方法保存引用 url 和关键字

> ID：12599945
> 
> 赞同：0
> 
> 时间：2012-09-26T10:44:02.917
> 
> 标签：model-view-controller, magento, controller, magento-1.7, referer

我的目标是在我们商店的任何页面上输入时将 url 引用和关键字保存在数据库中。我[检查了这个问题及其答案](https://stackoverflow.com/questions/4006183/magento-passing-data-between-a-controller-and-a-block)，试图对我的问题有所了解。

我遵循的方法是：

1.  有一个将坚持默认布局的块，以便将其加载到每个页面上（经过测试，正在工作）。该块将使用以下代码读取引用者：

    $request['url'] = $this->getRequest()->getServer('HTTP_REFERER');

2.  然后调用函数将 $request 传递给控制器​​： 这一步我还是不知道怎么做，使用重定向？或者也许通过调用 dispatchEvent 并在具有`postAction`函数的控制器上？

    ```
    //on the phtml file
    <div>
         <?php
              $request['url'] = getRequest()->getServer(‘HTTP_REFERER’);
              Mage::dispatchEvent("allpagescontroller", $request);
         ?>
    </div> 
    ```

3.  控制器将实例化我的模型并调用设置器来更新/插入需要的值

    ```
    //on the controller
    function postAction ($params)
    {
        $referer = $this->getRequest()->getPost();
    } 
    ```

4.  在模型上，我将拥有所有适当的代码来执行 CRUD 操作

它是否正确？我正在尝试按照这些步骤来遵循 Magento MVC 方法。现在我已经有了 phtml 文件上的所有代码。我正在获取引用，将其拆分并实例化模型以保存所有内容。但我知道这是不正确的。

现在在 config.xml 上我有：

> ```
> <?xml version="1.0"?>
> <config>
>     <modules>
>         <Dts_Allpages>
>             <version>0.1.0</version>
>         </Dts_Allpages>
>     </modules>
>     <global>
>       <models>
>           <allpages>
>               <class>Dts_Allpages_Model</class>
>               <resourceModel>allpages_mysql4</resourceModel>
>           </allpages>
>           <allpages_mysql4>
>                   <class>Dts_Allpages_Model_mysql4</class>
>                 <entities>
>                   <keywords>
>                       <table>keywords</table>
>                   </keywords>
>                   <referencedpages>
>                       <table>referencedpages</table>
>                   </referencedpages>
>               </entities>
>           </allpages_mysql4>
>         </models>
>         <blocks>
>             <allpages>
>                 <class>Dts_Allpages_Block</class>
>             </allpages>
>         </blocks>
>         <helpers>
>             <allpages>
>                 <class>Dts_Allpages_Helper</class>
>             </allpages>
>         </helpers>
>         <resources>
>             <allpages_write>
>                 <connection>
>                     <use>core_write</use>
>                 </connection>
>             </allpages_write>
>             <allpages_read>
>                 <connection>
>                     <use>core_read</use>
>                 </connection>
>             </allpages_read>
>         </resources>
>     </global>>
>     <frontend>
>       <routers>
>           <allpages>
>               <use>standard</use>
>               <args>
>                   <module>Dts_Allpages</module>
>                   <frontName>allpages</frontName>
>               </args>
>           </allpages>
>       </routers>
>         <layout>
>             <updates>
>                 <allpages>
>                     <file>allpages.xml</file>
>                 </allpages>
>             </updates>
>         </layout>
>     </frontend>  
> </config> 
> ```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-26T11:33:15.350

就 Magento MVC 流程而言，您的逻辑不正确。模板是程序流程的最后一站，你不应该在模板中插入**任何**逻辑，因为你的系统会变成不稳定的混乱。

您尝试实现的逻辑根本不需要任何视图。它甚至不需要控制器。如您所知，Magento 使用 Event-Observer 模式，您的任务只是要求它。

您应该创建您的观察者并从初始请求流中侦听一些事件。您可以侦听在每个页面请求上触发的任何事件，但不应太早 - 当系统本身尚未初始化时，也不应太晚，此时某些其他系统逻辑可以*重定向*，*转发或对***referrer**进行一些更改。我想`controller_action_predispatch`会满足你的需要。

在观察者中，您可以`HTTP_REFERER`使用模型层获取并将其保存在数据库中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-04-14T09:56:47.597

使用此代码`observer`

```
$url = Mage::helper('core/http')->getHttpReferer() ? Mage::helper('core/http')->getHttpReferer()  : Mage::getUrl();
Mage::app()->getFrontController()->getResponse()->setRedirect($url);
Mage::app()->getResponse()->sendResponse();
exit; 
```

# javascript - 旨在轻松构建基于 Web 的竞赛的 javascript 库

> ID：12599946
> 
> 赞同：1
> 
> 时间：2012-09-26T10:44:02.830
> 
> 标签：javascript, css, user-interface

我正在寻找一个旨在轻松构建基于 Web 的竞赛（例如摄影竞赛、论文竞赛、视频竞赛等）的 javascript 库。
我的网络应用程序正在使用[Bootstrap](http://twitter.github.com/bootstrap/index.html)。

我发现了几个此类 Web 应用程序的示例，例如：

1) [http://www.wufoo.com/](http://www.wufoo.com/)
2) [http://www.crowdtogether.com/create-a-contest](http://www.crowdtogether.com/create-a-contest)

关于 Bootstrap 有一个部分可以自定义变量，但是您需要下载样式。
实际上，我正在寻找一个实时解决方案，您可以：1）登录 2）在线创建上下文 3）将结果保存在服务器上。

我的问题是：

1）即使没有这样的 javascripit 库来进行 cline 端的工作，最接近的解决方案是什么？

2）我认为通过一般的javascript库来完成cline端的工作是相当复杂的。
所以也许一个好的起点应该是拥有一个能够读取 css 属性和编辑/移动 dom 内容的 javascript 库。有任何想法吗？

谢谢。

PS：
正如@AhmadAlfy 所建议的那样，`Backbone.js`, `Backbone.Marionette`,`underscore`和`jquery`对这种应用程序很有用。
还有什么想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-27T10:38:49.970

那么我会假设：

1.  您需要 JavaScript 中的所有客户端逻辑。
2.  您将在数据更改时更新部分 UI。
3.  模板将在客户端完成。

你需要 ：

1.  一种类似于 MVC 的模式，以保持代码整洁
2.  模板引擎。
3.  一种管理事件和回调的方法
4.  一种保留浏览器历史记录的方法（更新 URL - 返回按钮）

我建议您检查[Backbone.js](http://backbonejs.org/)。它通过提供以下功能为 Web 应用程序提供结构：

1.  具有键值绑定和自定义事件的模型
2.  具有丰富 API 的集合
3.  带有声明式事件处理的视图

让 Backbone 处理数据并使用 jQuery 和下划线（与 Backbone 捆绑）进行模板

# scala - Scala从for循环返回一个值

> ID：12599947
> 
> 赞同：5
> 
> 时间：2012-09-26T10:44:06.350
> 
> 标签：scala, functional-programming

我有以下一段代码

```
def my_function(condition: Int=>Boolean): Int = {
  for (i <- 0 to 10)
    if (condition(i)) return i

  return -1
} 
```

代码很简单：如果`condition`满足 1 到 10 之间的数字，则返回该数字，否则返回无效结果 (-1)。

它工作得很好，但它违反了一些函数式编程原则，因为`return`在`for`循环中。我怎样才能重构这个方法（我也有单元测试）并删除返回语句。我想我必须使用`yield`，但它似乎产生列表，我只需要一个值。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-09-26T10:49:02.437

这是您的代码的功能翻译：

```
def my_function(condition: Int => Boolean): Int = {
  (0 to 10).find(i => condition(i)).getOrElse(-1)
} 
```

或者更简洁地说：

```
def my_function(condition: Int => Boolean): Int = {
  (0 to 10).find(condition).getOrElse(-1)
} 
```

我使用了`find`将产生布尔值的函数作为参数的方法。该`find`方法返回集合中满足条件的第一项。它将项目作为 an 返回，`Option`因此如果没有令人满意的项目，则结果将为`None`。的`getOrElse`方法`Option`如果有则返回找到的结果，如果没有则返回`-1`。

但是，您不应该**使用**“错误代码”，例如在 Scala 编程中返回 -1。他们是不好的做法。相反，您应该抛出异常或返回一个`Option[Int]`这样的返回`None`值表示未找到任何值。正确的方法是这样的：

```
def my_function(condition: Int => Boolean): Option[Int] = {
  (0 to 10).find(condition)
}

println(my_function(_ > 5))   // Some(6)
println(my_function(_ > 11))  // None 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-09-26T11:19:57.260

您可以使用本机收集方法

```
def my_function(condition: Int => Boolean): Int =
  (1 to 10).find(condition).getOrElse(-1) 
```

通常在 scala 中，您应该使用 Option 返回来避免“错误代码”

```
def my_function(condition: Int => Boolean) : Option[Int] =
  (1 to 10).find(condition) 
```

同样，您可以使用 for-yield 理解

```
def my_function(condition: Int => Boolean): Int =
  (for (i <- 1 to 10; if condition(i)) yield i).headOption.getOrElse(-1) 
```

或带有选项

```
def my_function(condition: Int => Boolean): Int =
  (for (i <- 1 to 10; if condition(i)) yield i).headOption 
```

或使用递归作为@Jan 的建议

# java - java中关于加载图片的函数的速度

> ID：12599951
> 
> 赞同：0
> 
> 时间：2012-09-26T10:44:17.420
> 
> 标签：java

我测试使用两种方法在我的应用程序中加载超过 2m 大小的图片。

```
private void loadImages() {
        long currentTime=System.currentTimeMillis();
        MediaTracker mediaTracker = new MediaTracker(this);
        images = new HashMap<String, Image>();
        for (Iterator iterator = model.getAllImages().iterator(); iterator
                .hasNext(); mediaTracker.addImage(tempImage, 0)) {
            String filename = (String) iterator.next();
            try{
            tempImage=ImageIO.read(Game.class.getResourceAsStream(filename));
            }catch(Exception e){

        }
            //URL imageURL = getClass().getResource(filename);
        //  tempImage = getImage(getCodeBase(), imageURL.toString());
            images.put(filename, tempImage);
        }

        try {
            mediaTracker.waitForID(0);
        } catch (InterruptedException interruptedexception) {
        }
        System.err.println(System.currentTimeMillis()-currentTime);
    } 
```

我的测试结果显示`ImageIO.read()`速度比 . 慢两倍`getImage()`。有人能解释一下为什么吗？等你回复。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-26T10:53:37.947

I would say that two functions work in two different ways.

`ImageIO` is guaranteed to return you an image that can be painted immediately, where as `getImage` will return you a reference to a possible image which may be loaded at some time in the future, hence the reason you see paint methods that need `ImageObserver`

This would explain much of the difference between `BufferedImage` and `Image`. `BufferedImage` allows you direct access to things like the pixel and color model data

# php - 在 PHPUnit 中实现给定接口的模拟对象上的未定义方法？

> ID：12599957
> 
> 赞同：19
> 
> 时间：2012-09-26T10:44:48.980
> 
> 标签：php, unit-testing, symfony, mocking, phpunit

我是单元测试和 PHPUnit 的新手。

我需要一个模拟，我有一个完全控制，实现`ConfigurationInterface`接口。测试主体是`ReportEventParamConverter`对象，测试必须检查我的对象与界面之间的交互。

`ReportEventParamConverter`对象（这里简化）：

```
class ReportEventParamConverter implements ParamConverterInterface
{
    /**
     * @param Request $request
     * @param ConfigurationInterface $configuration
     */
    function apply(Request $request, ConfigurationInterface $configuration)
    {
        $request->attributes->set($configuration->getName(), $reportEvent);
    }

    /**
     * @param ConfigurationInterface $configuration
     * @return bool
     */
    function supports(ConfigurationInterface $configuration)
    {
        return 'My\Namespaced\Class' === $configuration->getClass();
    }
} 
```

这就是我试图模拟界面的方式：

```
$cls = 'Sensio\Bundle\FrameworkExtraBundle\Configuration\ConfigurationInterface';
$mock = $this->getMock($mockCls); 
```

我需要模拟两种方法的返回值：`getClass()`和`getName()`. 例如：

```
$mock->expects($this->any())
    ->method('getClass')
    ->will($this->returnValue('Some\Other\Class'))
; 
```

当我创建一个新的`ReportEventParamConverter`测试`supports()`方法时，我收到以下 PHPUnit 错误：

> 致命错误：调用未定义的方法 Mock_ConfigurationInterface_21e9dccf::getClass()。

```
$converter = new ReportEventParamConverter();
$this->assertFalse($converter->supports($mock)); 
```

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-09-26T11:06:33.240

这是因为在 ConfigurationInterface 中没有声明“getClass”方法。此接口中的唯一声明是方法“getAliasName”。

您只需要告诉模拟您将使用哪些方法：

```
$cls = 'Sensio\Bundle\FrameworkExtraBundle\Configuration\ConfigurationInterface';
$mock = $this->getMock($cls, array('getClass', 'getAliasName')); 
```

请注意，没有“getClass”声明，但您也可以存根/模拟不存在的方法。因此你可以模拟它：

```
$mock->expects($this->any())
    ->method('getClass')
    ->will($this->returnValue('Some\Other\Class')); 
```

但此外，您需要模拟“getAliasName”方法，只要它是接口的方法或抽象方法，并且必须“实现”。例如。：

```
$mock->expects($this->any())
   ->method('getAliasName')
   ->will($this->returnValue('SomeValue')); 
```

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2014-05-04T08:08:33.523

Cyprian 的回答帮助了我，但有一个问题需要注意。你可以模拟不存在的类，PHPUnit 不会抱怨。所以你可以做

```
$mock = $this->getMock('SomeClassThatDoesntExistOrIsMisspelledOrPerhapsYouForgotToRequire'); 
```

这意味着如果`ConfigurationInterface`在运行时该点不存在，您仍然会收到类似的消息

> 致命错误：调用未定义的方法 Mock_ConfigurationInterface_21e9dccf::getClass()。

**如果您确定该方法确实存在于该类中，那么可能的问题是该类本身不存在（因为您不需要它，或者您拼写错误等）。**

* * *

OP 正在使用*interface*。请注意，您必须`getMock`在不指定要覆盖的方法列表的情况下调用，或者如果这样做，则必须传递`array()`或传递所有方法名称，否则您将收到如下错误：

> PHP 致命错误：Mock_HttpRequest_a7aa9ffd 类包含 4 个抽象方法，因此必须声明为抽象方法或实现其余方法（HttpRequest::setOption、HttpRequest::execute、HttpRequest::getInfo、...）

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-04-01T16:23:24.003

Tyler Collier 的警告是公平的，但不包含有关如何围绕它进行编码的代码片段。请注意，这非常讨厌，您应该修复界面。添加了该警告：

```
$methods = array_map(function (\ReflectionMethod $m) { return $m->getName();}, (new \ReflectionClass($interface))->getMethods());
$methods[] = $missing_method;
$mock = $this->getMock($interface,  $methods); 
```

# javascript - 词法环境和功能范围

> ID：12599965
> 
> 赞同：62
> 
> 时间：2012-09-26T10:45:13.370
> 
> 标签：javascript, function

javascript中的词法环境和范围是一回事吗？

* * *

## 回答 #1

> 赞同：62
> 
> 时间：2018-05-04T11:49:07.627

根据我刚刚从“Javascript Ninja 的秘密，2/e”中学到的内容给出答案——

它们是不同的概念但相关，我们需要定义一个相关的概念 -**执行上下文和它的堆栈**来理解。

**执行上下文**和**执行上下文堆栈**：**执行上下文**是用于跟踪函数或全局代码执行的内部 javascript 构造。js引擎维护了一个栈数据结构——**执行上下文栈**或者**调用栈**，里面包含了这些上下文，**全局的执行上下文**停留在这个栈的底部。当函数开始执行时，会创建一个新的执行上下文并将其推送到堆栈中。特定的执行上下文跟踪相应函数的语句正在执行的指针。当相应函数的执行完成时，从堆栈中弹出一个执行上下文。

**词法环境**：内部 js 引擎构造包含**标识符变量映射**。（这里的**标识符**是指变量/函数的名称，**变量**是对实际对象[包括函数类型对象]或原始值的引用）。词法环境还持有对**父词法环境**的引用。

现在，对于每个**执行上下文**——1 **）**创建一个对应的词法环境；**2）**如果在该执行上下文中创建了任何函数，则对该词法环境的引用存储在该**函数的内部属性（** **[[Environment]]**）中. 因此，每个函数都会跟踪与其创建的执行上下文相关的词法环境。

 **并且每个词法环境都跟踪其父词法环境（父执行上下文的环境）。结果，每个函数都有一个附加的词法环境链。[注意：在js中函数是一个对象，通过语句创建一个函数就是创建一个Function类型的对象。所以像其他对象一样，函数可以保存内部和用户定义的属性]

**范围**：它是与语言无关的概念，指的是变量或函数对执行代码的可见性。在 js 中，变量或函数对执行代码是可见的，如果它在当前词法环境中或在封闭函数的词法环境链中。在全局代码的情况下，链不存在。

希望，你现在明白了..

Note: similar to function's case, by the introduction of **let and const** in es6, when a block begins to execute (**if** block, **for loop** block etc), a new lexical environment is also created having the parent function's lexical environment as parent.

* * *

## 回答 #2

> 赞同：30
> 
> 时间：2012-09-26T10:47:23.853

以下是规范中关于[词法环境](http://es5.github.com/#x10.2)的内容：

> 词法环境是一种规范类型，用于根据 ECMAScript 代码的词法嵌套结构定义**标识符与特定变量和函数的关联。**一个词法环境由一个环境记录和一个对外部词法环境的可能为空的引用组成。

基于此，我会说是的，这就是人们在说“范围”时通常所说的。

尽管可能有人认为“范围”实际上被定义为“[声明性环境记录](http://es5.github.com/#x10.2.1.1)”：

> 每个声明性环境记录都与一个包含变量和/或函数声明的 ECMAScript 程序范围相关联。声明性环境记录绑定由包含在其范围内的声明定义的标识符集。

如果您将“范围”视为包含标识符和值之间的绑定的事物，那么第二个定义可能更适合。如果您将其视为知道其祖先作用域的东西，那么第一个定义更适合。

*编辑*：第三个选项是“[执行上下文](http://es5.github.com/#x10.3)”。

* * *

## 回答 #3

> 赞同：28
> 
> 时间：2017-01-14T01:54:09.247

词法环境是编写它的函数的环境。也就是说，它所在的静态订单/位置，无论从哪里调用它。

变量/函数的范围基本上是变量可见/可访问的位置。

执行上下文是运行时任何时候执行堆栈的状态。那是当前的执行上下文。**

# c# - 如何优化向winform添加控件

> ID：12599967
> 
> 赞同：1
> 
> 时间：2012-09-26T10:45:20.480
> 
> 标签：c#, winforms, optimization, smart-device

我在**智能设备项目**中长时间绘制控件时遇到问题。

这是冻结应用程序的代码`~11s`：

```
SAdr = this.ExecuteSQL("select * from dba." + table);
while (SAdr.Read())
{
    PictureBox pBox = new PictureBox();
    pBox.Image = Program.ByteArrayToImage((byte[])SAdr["IMGDATA"]);
    pBox.Name = String.Format("pictureBox{0}#{1}",nameKey ,Int16.Parse(SAdr[colName].ToString()));
    pBox.Width = pBox.Height = size;
    pBox.Left = marginL;
    pBox.Top = marginT;
    pBox.SizeMode = PictureBoxSizeMode.StretchImage;
    pBox.Click += new EventHandler(pBoxTow_Click);

    if (counter < cols)
        marginL += size + space;
    else
    {
        marginL = 10;
        marginT += size + space;
        counter = 0;
    }
    panel.Controls.Add(pBox);
    counter++;
}
panelCenter.Controls.Clear();
panelCenter.Controls.Add(panel); 
```

这个时间是逐行测量`SAdr = this.ExecuteSQL("select * from dba." + table);`的`panelCenter.Controls.Clear();`。

**任何想法如何改进此代码？**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-26T10:49:23.060

您的单线程应用程序正在从数据库中获取数据，并且在该操作期间您的 GUI 冻结。您应该考虑从不同的线程访问数据库。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-26T10:51:11.810

将表中的数据读入一个数组（可能是数组，以存储图像）。然后一旦数据读取完成，才开始创建控件。从本地数组填充图片框将比从表中读取每个项目并同时填充它更快。

通过使用数组将数据库操作与 GUI 操作分开。

# iphone - 迁移到 iphone5 不起作用？

> ID：12599970
> 
> 赞同：1
> 
> 时间：2012-09-26T10:45:31.603
> 
> 标签：iphone, ios, ipad, xcode4.5, iphone-5

我在 iPhone 4 中有一个应用程序，工作正常。现在我想将它迁移到 5。我有一个启动视图控制器，用于显示带有 xib 的启动图像；xib 是在 Xcode 4.2 中生成的，因此它具有 320 480 框架视图和一个图像视图，其中添加了图像。现在我希望这一切也能在 iPhone 5 上运行。为此，我将图像大小更改为 640*1136，将其添加到该图像视图中，而不是使用的 640*960 之一。我添加了

```
if([[UIScreen mainScreen] bounds].size.height == 480)
    {
        [self.view setFrame:CGRectMake(0,0,320,480 )];
    }

    else 
    {
        [self.view setFrame:CGRectMake(0,0,320,568)];
        backgroundimage.image=[UIImage imageNamed:@"Default-568h@2x.png"];

        } 
```

不工作。这在图像之后的底部给了我一些空白空间。我也试过自动调整面具。那也没用。

![在此处输入图像描述](../Images/62a2170464a9dfcb2dc4933a81b08b58.png)

谁能把我从这个坑里解救出来？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-26T12:12:15.563

查看您的代码，我会检查两件事： - 确保 backgroundImage 正确连接到笔尖。- 删除您正在检索的图像的 @2x 关键字 [UIImage imageNamed:@"Default-568h"]。将附加@2x 以供您获取正确的文件。

除此之外，如果你有一个有效的发射 4 英寸发射图像 (Default-568h@2x.png)，你应该工作。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-26T11:01:24.500

我猜这`backgroundImage`是`UIImageView`控制器视图的子视图，在 xib 中设置为视图的完整大小。当您的应用在 iPhone 5 上运行时，它会自动为您设置视图的大小，但它不会调整子视图的大小，除非您设置了自动调整大小的掩码。有关如何做到这一点，请参阅我对[这个问题的回答。](https://stackoverflow.com/questions/12405392/ios-ipad-application-bottom-strange-white-area/12405540#12405540)

# android - 是否可以以编程方式更改操作栏 Sherlock 中的 TextValue 和图标？

> ID：12599971
> 
> 赞同：0
> 
> 时间：2012-09-26T10:45:31.650
> 
> 标签：android, actionbarsherlock

我想要实现的是以动态方式更改`TextView`以`ActionBar`显示某些字段的特定值。

我想要实现的是在 ABS 中创建一个类似徽章的解决方案，其中包含一些项目的计数器。我知道如何替换 ABS 中的图形，但这超出了我的理解范围。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-26T10:53:42.560

怎么样：

```
ActionBar actionBar = getSupportActionBar();
        if (actionBar != null)
        {
            actionBar.setBackgroundDrawable(getResources().getDrawable(R.drawable.background));
            actionBar.setIcon(R.drawable.icon);
            actionBar.setTitle(title);
        } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-03T05:53:43.483

尝试这个...

```
 int titleId = Resources.getSystem().getIdentifier("action_bar_title", "id", "android");

    TextView yourTextView = (TextView)findViewById(titleId);
    yourTextView.setText("TITLE TEXT"); 
```

# python - 描述符作为python中的实例属性

> ID：12599972
> 
> 赞同：26
> 
> 时间：2012-09-26T10:45:42.530
> 
> 标签：python, descriptor

对于这个问题：

> 为什么描述符不能是实例属性？

有人[回答](https://stackoverflow.com/questions/2954331/dynamically-adding-property-in-python)说：

> 描述符对象需要存在于类中，而不是实例中

因为这就是`__getattribute__`实现的方式。

一个简单的例子。考虑一个描述符：

```
class Prop(object):

    def __get__(self, obj, objtype=None):
        if obj is None:
            return self
        return obj._value * obj._multiplier

    def __set__(self, obj, value):
        if obj is None:
            return self
        obj._value = value

class Obj(object):

    val = Prop()

    def __init__(self):
        self._value = 1
        self._multiplier = 0 
```

考虑每个 obj 有多个 Prop 的情况：我需要使用唯一的名称来标识值和乘数（就像[这里](https://stackoverflow.com/questions/2954331/dynamically-adding-property-in-python)。拥有每个实例描述符对象将允许将`_multiplier`(和`_value`) 存储在描述符本身中，从而简化一些事情。

要实现每个实例描述符属性，您需要：

1.  创建每个实例类[见这里](https://stackoverflow.com/questions/2954331/dynamically-adding-property-in-python)
2.  覆盖`__getattribute__` [看这里](https://stackoverflow.com/questions/10232174/can-a-python-descriptor-be-used-to-instantiate-an-attribute-in-the-init-of-a)

我知道之前也有人提出过类似的问题，但我还没有找到真正的解释：

1.  为什么 Python 是这样设计的？
2.  存储描述符需要但每个实例的信息的建议方法是什么？

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-09-28T18:09:51.107

今年早些时候[在 Python-list 上提出了](https://mail.python.org/pipermail/python-list/2012-January/618570.html)这个确切的问题。我只想引用[Ian G. Kelly 的回答](https://mail.python.org/pipermail/python-list/2012-January/618572.html)：

> 行为是设计使然。首先，在类定义中保留对象行为简化了实现，也使实例检查更有意义。借用您的 Register 示例，如果“M”描述符是由某些实例而不是由类定义的，那么知道对象“reg”是 Register 的一个实例并不能告诉我任何关于“reg.M”是否是有效属性或错误。因此，我需要使用 try-except 构造来保护几乎所有对“reg.M”的访问，以防“reg”是错误类型的寄存器。
> 
> 其次，类与实例的分离还有助于将对象行为与对象数据分开。考虑以下类：
> 
> ```
> class ObjectHolder(object):
>     def __init__(self, obj):
>         self.obj = obj 
> ```
> 
> 不要担心这个类可能对什么有用。只需知道它旨在保存并提供对任意 Python 对象的无限制访问：
> 
> ```
> >>> holder = ObjectHolder(42)
> >>> print(holder.obj) 42
> >>> holder.obj = range(5)
> >>> print(holder.obj) [0, 1, 2, 3, 4] 
> ```
> 
> 由于该类旨在保存任意对象，因此有人可能希望在其中存储描述符对象甚至是有效的：
> 
> ```
> >>> holder.obj = property(lambda x: x.foo)
> >>> print(holder.obj) <property object at 0x02415AE0> 
> ```
> 
> 现在假设 Python 为存储在实例属性中的描述符调用了描述符协议：
> 
> ```
> >>> holder = ObjectHolder(None)
> >>> holder.obj = property(lambda x: x.foo)
> >>> print(holder.obj)
> Traceback (most recent call last):
>   File "<stdin>", line 1, in <module>
> AttributeError: 'ObjectHolder' object has no attribute 'foo' 
> ```
> 
> 在这种情况下，ObjectHolder 将无法简单地将属性对象保存为数据。仅将属性对象（描述符）分配给实例属性的行为就会*改变*ObjectHolder 的行为。它不会将“holder.obj”视为一个简单的数据属性，而是会在访问“holder.obj”时开始调用描述符协议，并最终将它们重定向到不存在且无意义的“holder.foo”属性，这当然是不是课程作者的意图。

如果您希望能够支持描述符的多个实例，只需使该描述符的构造函数接受一个名称参数（前缀），并使用该名称作为添加属性的前缀。您甚至可以在类实例中创建一个命名空间对象（字典）来保存所有新的属性实例。

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2012-09-28T18:19:58.900

大量高级功能仅在定义在类而不是实例上时才有效；例如，所有特殊方法。除了使代码评估更有效之外，这还明确了实例和类型之间的分离，否则它们往往会崩溃（因为当然所有类型都是对象）。

我不确定这是多么推荐，但您可以在实例中存储从描述符实例到属性值的映射：

```
class Prop(object):
     def __get__(self, obj, objtype=None):
        if obj is None:
            return self
        return obj._value * obj._multiplier[self]

    def __set__(self, obj, value):
        if obj is None:
            return self
        obj._value = value

class Obj(object):
    val = Prop()

    def __init__(self):
        self._value = 1
        self._multiplier = {Obj.val: 0} 
```

与其他两个建议的选项相比，这具有明显的优势：

1.  每个实例的类打破了面向对象并增加了内存使用；
2.  覆盖`__getattribute__`效率低下（因为所有属性访问都必须通过覆盖的特殊方法）并且很脆弱。

* * *

作为替代方案，您可以使用代理属性：

```
class PerInstancePropertyProxy(object):
    def __init__(self, prop):
        self.prop = prop
    def __get__(self, instance, owner):
        if instance is None:
            return self
        return instance.__dict__[self.prop].__get__(instance, owner)
    def __set__(self, instance, value):
        instance.__dict__[self.prop].__set__(instance, value)
class Prop(object):
    def __init__(self, value, multiplier):
        self.value = value
        self.multiplier = multiplier
    def __get__(self, instance, owner):
        if instance is None:
            return self
        return self.value * self.multiplier
    def __set__(self, instance, value):
        self.value = value
class Obj(object):
    val = PerInstancePropertyProxy('val')
    def __init__(self):
        self.__dict__['val'] = Prop(1.0, 10.0)
    def prop(self, attr_name):
        return self.__dict__[attr_name] 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2018-05-31T16:10:40.100

在 Python 3.6 中，这可以很容易地完成。也许它不是预期的，但是嘿，如果它有效，对吧？;)

[Python 3.6 添加了`__set_name__`方法](https://docs.python.org/3/reference/datamodel.html?highlight=__get__#object.__set_name__)：

> `object.__set_name__(self, owner, name)`
> 
> 在创建拥有类所有者时调用。描述符已分配给名称。
> 
> 3.6 版中的新功能。

使用此名称将内部值存储在实例的字典中似乎可以正常工作。

```
>>> class Prop:
...     def __set_name__(self, owner, name):
...         self.name = name
...     def __get__(self, instance, owner):
...         print('get')
...         return instance.__dict__.setdefault(self.name, None)
...     def __set__(self, instance, value):
...         print('set')
...         instance.__dict__[self.name] = value
... 
>>> class A:
...     prop = Prop()
... 
>>> a = A()
>>> a.prop = 'spam'
set
>>> a.prop
get
'spam' 
```

请注意，这不是一个完整的描述符实现，当然，如果您决定使用它，风险自负。

# sql - 交叉连接同一表中的 N 组行

> ID：12599977
> 
> 赞同：3
> 
> 时间：2012-09-26T10:45:57.160
> 
> 标签：sql, sql-server, join, cross-join

我有一个通用的“Dimension”和“DimensionMember”表。

```
CREATE TABLE [dbo].[Dimension]
(
    [ID] [int] NOT NULL IDENTITY(1, 1),
    [Label] [nvarchar] (255)
) 

CREATE TABLE [dbo].[DimensionMember]
(
[ID] [int] NOT NULL IDENTITY(1, 1),
[Label] [nvarchar] (255) NOT NULL,
[DimensionID] [int] NOT NULL
) 
GO
ALTER TABLE [dbo].[DimensionMember] ADD CONSTRAINT [FK_DimensionMember_DimensionID_Dimension_ID] FOREIGN KEY ([DimensionID]) REFERENCES [dbo].[Dimension] ([ID]) 
```

这些表存储了大量的维度和维度成员。

我想从可变数量的维度交叉连接维度成员。示例：来自 'Sex'、'Employment Type'、'Contract Type' 维度的交叉连接维度成员应产生以下组合

```
'Male,Full time, Employee'
'Female,Full time, Employee'
'Male,Part time, Employee'
'Female,Part time, Employee'

'Male,Full time, Contractor'
'Female,Full time, Contractor'
'Male,Part time, Contractor'
'Female,Part time, Contractor' 
```

组合的标签应通过连接维度成员的标签来创建（如上所示）。

先感谢您

## 更新

维度列表（例如“性别”、“就业类型”、“合同类型”）是动态的（由运行时的另一个查询生成）。

## 更新 2

修复了一个小错误（Dimension1 -> Dimension）。对不起！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-26T10:57:09.720

这个图案怎么样？（[SQL 小提琴](http://sqlfiddle.com/#!3/8c512/5/0)）

```
select a.label+','+b.label+','+c.label
from (select m.label from dimension1 d
  join dimensionmember m
      on m.dimensionid = d.id and d.label = 'sex') a
cross join (select m.label from dimension1 d
  join dimensionmember m 
      on m.dimensionid = d.id and d.label = 'Employment Type') b
cross join (select m.label from dimension1 d
  join dimensionmember m 
      on m.dimensionid = d.id and d.label = 'Contract Type') c 
```

当然，您需要知道要构建多少个子查询，因此 SELECT 中的连接部分需要多长时间。

* * *

**编辑**

这是一个可以做到这一切的（更新的[SQL Fiddle](http://sqlfiddle.com/#!3/8c512/12/0)）

```
;with base as (
   select m.label, d.id, dense_rank() over (order by d.id) rk
     from dimension1 d
     join dimensionmember m
       on m.dimensionid = d.id
    where d.label in ('sex','Employment Type','Contract Type')
), cte as (
   select cast(label as varchar(max)) list, rk
     from base
    where rk=1
union all
   select cast(cte.list+','+base.label as varchar(max)), base.rk
     from cte
     join base on base.rk=cte.rk+1
)
   select list
     from cte
    where rk=(select max(rk) from base) 
```

# java - 我需要在 android 中将 Web 服务中的值从一个屏幕打印到另一个屏幕

> ID：12599980
> 
> 赞同：0
> 
> 时间：2012-09-26T10:46:14.400
> 
> 标签：java, android

我正在尝试将 Web 服务中的值从一个屏幕显示到另一个屏幕，但我无法在下一个屏幕上打印这些值。

实际上我的模拟器正在运行，但只显示空屏幕

这是我的参考来源，请找到它并告诉我解决方案。

**Main_WB.java**

```
public class Main_WB extends Activity 
{
EditText edt1,edt2;
  //    TextView txt_1;

Button btn;

 @Override
 public void onCreate(Bundle savedInstanceState) 
 {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);

    edt1 = (EditText)findViewById(R.id.editText1);
    edt2 = (EditText)findViewById(R.id.editText2);
    btn = (Button)findViewById(R.id.button1);

    btn.setOnClickListener(new View.OnClickListener()
    {
    public void onClick(View v) 
    {
        getTMSChart(edt1.getText().toString(),edt2.getText().toString());
        Intent myint = new Intent(Main_WB.this,ResultActivity.class);
        startActivity(myint);
    }     
    });
  }

 private void getTMSChart(String FromDate,String ToDate)
 {
 //txt_1 = (TextView)findViewById(R.id.textView1);

 System.setProperty("http.keepAlive", "false");        
 SoapSerializationEnvelope envelope = new SoapSerializationEnvelope(SoapEnvelope.VER11);        

 envelope.dotNet = true;

 String NAMESPACE = "http://tempuri.org/";
 String URL = "http://54.251.60.177/TMSOrdersService/TMSDetails.asmx";
 String METHOD = "GetTMSChart";

 SoapObject request = new SoapObject(NAMESPACE, METHOD);        
 request.addProperty("FromDate", FromDate);               
 request.addProperty("ToDate", ToDate);

 envelope.setOutputSoapObject(request);
 HttpTransportSE androidHttpTransport = new HttpTransportSE(URL);

 try 
 {
    androidHttpTransport.call(NAMESPACE + METHOD, envelope);
    SoapObject result = (SoapObject) envelope.bodyIn;
    SoapObject root =  (SoapObject) ((SoapObject)(result).getProperty(0)).getProperty("NewDataSet");
    int tablesCount = root.getPropertyCount();

    for (int i = 0; i < tablesCount; i++)
    {
       SoapObject table = (SoapObject) root.getProperty(i);
       int propertyCount = table.getPropertyCount();

       int[] ord = new int[propertyCount];
       int[] fre = new int[propertyCount];
       int[] margin = new int[propertyCount];

    for (int j = 0; j < propertyCount; j++)
    {   
        String x,y;

        int orderNo = Integer.parseInt(table.getPropertyAsString("Order_No"));
        int freightRate = Integer.parseInt(table.getPropertyAsString("Freight_Rate"));
        int marginPercent = Integer.parseInt(table.getPropertyAsString("Margin_Percent"));

    //  String orderNo =  table.getPropertyAsString("Order_No");

        ord[j] = orderNo;
        fre[j] = freightRate;
        margin[j]= marginPercent;

        x = ord.toString();
        y = fre.toString();

        Intent myIntent = new Intent(Main_WB.this, ResultActivity.class);
        myIntent.putExtra("gotonextpage", x);
        startActivity(myIntent);

        // whatever you do with these values
          }                   
       }
    }   
    catch (Exception e) 
    {
    }   
    }      } 
```

**结果活动.java**

```
 public class ResultActivity extends Activity 
 {
String str;
TextView txtv;

 @Override
 public void onCreate(Bundle savedInstanceState)
 {
super.onCreate(savedInstanceState);
setContentView(R.layout.main1);

Bundle extras = getIntent().getExtras();
if(extras != null)
{   
 str = extras.getString("goto_next_page");
 }
else
{   
}

txtv = (TextView)findViewById(R.id.txtVw);
txtv.setText(str);
}} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-26T10:52:03.293

I would use [AsynkTask](http://developer.android.com/reference/android/os/AsyncTask.html).

And on `onPostExecute` I would start the activity.

That networking mixed with UI it to mess for me, does it run in Android 4 at all? - you should get an exception there with no network on UI thread or something like that, forgot the exception name. Anyway, try to separate the network and UI layers.

Also calling an asmx, I needed to se somewhere - forgot where - a param to true: isDotNet or similar the prope name.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-26T10:52:15.760

use

```
getIntent().getStringExtra("gotonextpage", "default"); 
```

instead of

```
getIntent().getExtras(); 
```

in the resultActivity. Note that you have to use the same key you used to put data, to retrieve it.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-26T10:53:09.020

First, you're calling your web service on the UI thread. That's a big no-no.

Second, your names don't match. You're setting the extra as "gotonextpage", but then trying to retrieve it in the second activity as "goto_next_page".

# string - c# LastIndexOf 用几句话

> ID：12599985
> 
> 赞同：1
> 
> 时间：2012-09-26T10:46:35.320
> 
> 标签：string, whitespace, lastindexof

我正在尝试在文本字符串中获取“hello world”的最后一个索引。

```
 string sourceText = "hello world. no yes what where hello world but not right in left hello world end of text";
            string searchIndex = "hello world";
            int index = sourceText.LastIndexOf(searchIndex);
            if (index != -1)
            {
                Console.Write(index);
            } 
```

但它总是返回-1。

# javascript - 在 IE 浏览器中，在状态栏显示 JavaScript 错误

> ID：12599989
> 
> 赞同：0
> 
> 时间：2012-09-26T10:46:40.977
> 
> 标签：javascript, internet-explorer, browser, dom-events, unobtrusive-javascript

在 IE 浏览器中，状态栏显示 JavaScript 错误。

错误信息是：

> 完成，但页面上出现错误（对象不支持方法的此属性）
> 文件：file_name.jsp
> 行号：200

但是 in 中没有任何 js`line number 200`代码`file_name.jsp`。

如何找到这个错误？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-26T10:52:52.887

您不会在 file_name.jsp 中找到任何 js 代码，您可以通过两种方法找到错误：

*   打开 f12 窗口设置 start debubbing 并查看错误发生在哪里
*   或者您可以在浏览器上右键单击您的页面并查看源代码并转到第 200 行，看看您是否可以找到任何 js 代码。

我建议你在 f12 中进行调试，看看你是否发现任何错误

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-26T10:49:20.097

您可以在 Internet Explorer 中按 F12 打开开发者工具。您可以使用它们直接跳转到发生错误的代码行。

# permissions - 在 javascript Alfresco 中以其他用户身份运行

> ID：12599991
> 
> 赞同：1
> 
> 时间：2012-09-26T10:46:41.337
> 
> 标签：permissions, tags, alfresco

我希望创建将由调用它的用户以外的其他用户执行的 Web 脚本。原因很简单：无权更改某些对象的用户可以向其添加/删除标签，因此此标签操作应与其他用户一样进行。

有没有办法在不干预 Java 的情况下将其作为 Web 脚本执行？

或者，换句话说，有没有办法在没有Java的情况下实现这个功能（在我没有写权限的对象上添加/删除标签）？

谢谢！

D

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-26T10:54:43.593

户外的一些任务，例如创建用户或组，需要管理员权限。如果您想以普通用户身份执行这些操作，您可以在 webscripts 中临时授予这些用户管理员权限。

`<authentication runas="admin">user</authentication>` 只需使用like [here](http://docs.alfresco.com/4.0/index.jsp?topic=/com.alfresco.enterprise.doc/references/api-ws-runas.html)更改 webscript 身份验证。

**或者**

描述符文件中没有改变，但在 webscript 控制器文件中。可以在[sudo like tools(1) here](http://fabiostrozzi.eu/2009/11/23/sudo-like-tool-for-alfresco-webscripts/)中找到编码的详细信息以及如何实现。和[sudo 之类的 tools(2)](http://fabiostrozzi.eu/2010/01/16/sudo-like-tool-for-alfresco-security-aspects/)。

希望它会有所帮助。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-09-26T12:19:30.440

就像 swemon 说的，你可以做到。webscript 声明文件（即 webscript.get.desc.xml）包含以下行：

```
<authentication>user</authentication> 
```

这就是它的运行方式 - 作为经过身份验证的用户。你也可以说：

```
<authentication>guest</authentication> 
```

这意味着任何人都可以运行 webscript。

最后，你可以说：

```
<authentication runas="admin">user</authentication> 
```

这意味着 webscript 将具有管理权限。

然后，您可以访问 javascript 控制器文件中所有需要的数据。

# websphere - 如何在WAS集群前配置一个HTTP Server？

> ID：12599992
> 
> 赞同：2
> 
> 时间：2012-09-26T10:46:41.110
> 
> 标签：websphere, websphere-7

我已经定义了一个由两个节点组成的 Websphere 8.5 集群，现在我想在集群前面放置一个 HTTP 服务器来平衡调用。当我从控制台添加一个新的 Web 服务器时，我可以选择Node1**或**Node2，但我想提供一个节点数组。
来自 Tomcat MOD_JK 背景，我曾经这样做是为了让平衡器选择哪个节点将为调用提供服务。
我应该手动编辑配置并添加对所有节点的引用（如何？）？谢谢路易斯

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-26T13:42:15.257

Speaking from experience with earlier versions of WebSphere, you define multiple such Web Servers. That is, define one for Node1, then a second one for Node2\.

Then when you deploy your application, select both the Application Server Cluster you want to deploy it to and **all** the Web Servers you want to participate in that cluster.

If you do this, the WebSphere plugin running under each of the Web Servers will maintain Session affinity by routing the user to the same Cluster member as long as it's available. See [http://ibm.co/S2UKKn](http://ibm.co/S2UKKn) and [http://ibm.co/QIs0Sg](http://ibm.co/QIs0Sg) .

To actually use multiple Web Servers, you will of course still need some kind of IP load balancer or sprayer. The WebSphere product family has one in its Edge Components ( [https://ibm.biz/BdxZwg](https://ibm.biz/BdxZwg) ), but there are many such software products or hardware devices.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-06T10:24:29.443

您应该创建一个新的非托管节点并将 Web 服务器配置存储在其中。当您重新生成插件配置文件时，它将被放置在非受管节点的配置目录中，然后您可以将新的配置文件复制到 Web 服务器插件的正确目录中。这是标准方法，在[本红皮书草案](http://www.redbooks.ibm.com/redpieces/abstracts/sg248056.html?Open)（第 13 章和第 16 章）中有详细描述

# android - 恢复第一个活动中的edittext值

> ID：12599993
> 
> 赞同：0
> 
> 时间：2012-09-26T10:46:42.727
> 
> 标签：android, android-intent

我在第一个活动中有两个`EditText`和一个。`Button`输入`EditText`值并单击按钮后，应用程序导航到第二个活动。返回第一个活动时，我的`EditText`值被清除，但我需要在`EditText`. 有人可以建议我一种方法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-26T10:50:13.743

`startActivityForResult()`使用而不是调用 Activity`startActivity()`并且不要完成您的第一个活动。

```
startActivityForResult(new Intent(YourFirstActivity.this,SecondActivity.class),0); 
```

**编辑：正如 Lucifer 建议的那样，当您调用第二个活动时，将您的 edittext 值存储在共享首选项中。在声明 edittext 后的第一个活动 onCreate() 方法中设置 sharedPreference 值。**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-26T11:24:19.720

试试这个代码。

```
Intent intent = new Intent(this, ActivityNameToLaunch.class);
intent.addFlags(Intent.FLAG_ACTIVITY_REORDER_TO_FRONT);
startActivity(intent); 
```

# c# - 如何使文本粗体和红色

> ID：12599994
> 
> 赞同：-2
> 
> 时间：2012-09-26T10:46:49.590
> 
> 标签：c#, c#-4.0

如何使以下异常返回 BOLD 和文本字体 RED？"return " ***WMI Error*** ";"的措辞

这将在后面的代码中用于在文本框中返回 WMI 参数...如下所示：

```
 private static string GetMOValue(ManagementObject mo, string name)
        {
            try
            {
                object result = mo[name];
                return result == null ? "" : result.ToString();
            }
            catch (Exception)
            {
                return "***WMI Error***";
            }
        }

        private void cmbHdd_SelectedIndexChanged(object sender, EventArgs e)
        {
            //try
            //{
                ManagementObjectSearcher mosDisks = new ManagementObjectSearcher("SELECT * FROM Win32_DiskDrive WHERE Model = '" + cmbHdd.SelectedItem + "'");
                foreach (ManagementObject moDisk in mosDisks.Get())
                {
                    //try
                    //{
                    txtSystemName.Text = GetMOValue(moDisk, "systemname");
                    txtType.Text = GetMOValue(moDisk, "MediaType");
                    txtModel.Text = GetMOValue(moDisk, "Model");
                    txtFirmware.Text = GetMOValue(moDisk, "FirmwareRevision");
..... 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-26T10:50:52.497

TextBox 不是网络浏览器。它支持使用单一字体显示文本 - 没有装饰、颜色等。您可以在运行时更改文本框的字体。

您可以处理`TextChanged`文本框的事件来实现这一点，但这不是很好的代码示例：

```
private void textBox1_TextChanged(object sender, EventArgs e)
{
  Font defaultFont = SystemFonts.DefaultFont;

  if(textBox1.Text.StartsWith("**") && textBox1.Text.EndsWith("**"))
  {
    textBox1.Font = new Font(defaultFont.FontFamily, defaultFont.Size, FontStyle.Bold);
    textBox1.ForeColor = Color.Red;
    // note: can't change text here as it will recursively trigger this handler
  }
  else
  {
    textBox1.Font = defaultFont;
    textBox1.ForeColor = SystemColors.ControlText;
  }
} 
```

更好的方法是使用一个简单的方法来设置文本和文本框属性。

the soapbox：请注意，我认为这种形式的检查文本是否有 ** 字符是不是错误，非常丑陋且不可靠。你应该做的是有类似的东西

```
Font defaultFont = SystemFonts.DefaultFont;
try
{ 
   textBox1.Text = GetMOValue(...);
   textBox1.Font = defaultFont;
   textBox1.ForeColor = SystemColors.ControlText;
}
catch(Exception ex)
{ 
   textBox1.Text = "ERROR";
   textBox1.Font = new Font(defaultFont.FontFamily, defaultFont.Size, FontStyle.Bold);
   textBox1.ForeColor = Color.Red;
}
// the Font and ForeColor properties are repeatedly set in case that previous
// try had the different result (e.g. previous => error, current => OK, so 
// we need to reset the attributes of textbox 
```

您可以使用 RichTextBox、WebBrowser 或一些自定义绘制的控件来支持更高级的格式。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-26T11:00:59.000

您应该检查该方法是否返回异常，如果是，则动态更改文本框的设置字体和颜色：

```
textBox.ForeColor = Color.Red;    
textBox.Font = new Font(textBox.Font, FontStyle.Bold); 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2018-12-06T10:46:01.133

```
 private void btnBold_Click(object sender, EventArgs e)
    {
        this.rtxText.SelectionFont = new System.Drawing.Font(rtxText.Font.FontFamily,Convert.ToInt16(nudFontSize.Value), System.Drawing.FontStyle.Bold ^ this.rtxText.SelectionFont.Style);
    }

    //ITALICS CODING
    private void btnItalics_Click(object sender, EventArgs e)
    {
        this.rtxText.SelectionFont = new System.Drawing.Font(rtxText.Font.FontFamily, Convert.ToInt16(nudFontSize.Value), System.Drawing.FontStyle.Italic ^ this.rtxText.SelectionFont.Style);
    }

    //UNDERLINE CODING
    private void btnUnderline_Click(object sender, EventArgs e)
    {
        this.rtxText.SelectionFont = new System.Drawing.Font(rtxText.Font.FontFamily, Convert.ToInt16(nudFontSize.Value), System.Drawing.FontStyle.Underline ^ this.rtxText.SelectionFont.Style);
    } 
```

# javascript - 我是否需要告诉 jslint 尚未在另一个函数中定义的函数？

> ID：12599997
> 
> 赞同：0
> 
> 时间：2012-09-26T10:46:55.833
> 
> 标签：javascript, jquery

我有这样的代码：

```
function dialog($link) {
    "use strict";

   function doDialogAjax() {
        $.ajax({
            cache: false,
            url: url,
            dataType: 'html'
        })
            .done(onDialogDone)
            .fail(onDialogFail);
   }

   function onDialogDone(data) {
        content = data;
   // ... 
   }
} 
```

jslint 抱怨 onDialogDone 尚未定义。我真的需要在我的代码顶部将它定义为全局吗？我问的原因是因为我不认为 onDialogDone 函数是全局的。它只是一个尚未在外部函数中定义的函数。

我是否正确地说以这种方式定义的函数在最后一个花括号之后的末尾不应有分号？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-26T10:52:12.200

You don't need to define it as a global, just define it before the ajax call. Which in fact doesn't matter for two reasons:

*   the function definition is [hoisted](http://elegantcode.com/2011/03/24/basic-javascript-part-12-function-hoisting/) anyway
*   the ajax call is asynchronous so the code below will execute before the callback is fired

Nevertheless, it's good to have jslint-compliant code but it's not a matter of life and death ;)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-26T10:52:50.720

Your code is perfectly fine. However, since `JSLint` uses a [*Pratt Parser (Top Down Operator Precedence)*](http://www.jslint.com/lint.html) to analyze your code, when it sees `onDialogDone` for the first time, it complains because it was not defined yet.

To prevent it from complaining, just move the function to the top. This way, `JSLint` will parse the definition first, and when it sees `.done(onDialogDone)`, it will **know** what the symbol `onDialogDone` refers to.

```
function onDialogDone(data) {
  // ...
}

function doDialogAjax() {
  // ...
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-26T10:50:24.730

`jslint`抱怨很多事情是因为它的作者认为它们是糟糕的风格，而不是因为它们本质上是不正确的。

在这种情况下，您的函数定义将被提升到范围的顶部，并且是完全有效的代码。

在分号问题上，包含一个并没有什么坏处。不过，ES5 规范并不要求它。