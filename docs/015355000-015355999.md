# StackOverflow 问答 15355000-15355999

# magento - 如何为重新索引设置 cron 作业

> ID：15355005
> 
> 赞同：10
> 
> 时间：2013-03-12T06:47:08.970
> 
> 标签：magento, cron

如何在 Magento 中设置 cron 作业以清除缓存和重新索引。我不知道如何设置 cron 以进行重新索引。但我看到一些每天 cron 默认在 magento 中运行的地方。我仍然在我的网站中面临重新索引问题。我还需要清除缓存。在[Magento 网站上](http://www.magentocommerce.com/wiki/1_-_installation_and_configuration/how_to_setup_a_cron_job)

他们说日志清理和重新索引在代码中被注释掉了，所以我可以在哪个文件中取消注释以设置 cron 作业以进行日志清理和重新索引？

谢谢，壁画。

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2013-03-12T06:59:21.283

要创建 cron 作业，请将以下内容添加到您的 cron 文件中，以便每天早上 6 点重新索引

```
0 6 * * * php -f /shell/indexer.php reindexall 
```

注意：如果您收到错误消息，告诉您内存不足，类似于：

```
PHP Fatal error: Allowed memory size of 262144 bytes exhausted (tried to allocate 7680 bytes) in …/app/code/core/Mage/Index/Model/Indexer.php on line 163 
```

尝试注释掉`php_value memory_limit`并`php_value max_execution_time`在您的`.htaccess`文件中。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2016-04-03T07:00:34.583

我已经在我的`cPanel 11.52.2.4`. 所以保持冷静并执行以下操作：

导航到您的 magento2 管理区域。然后单击系统 > 索引管理。

从`Actions`下拉列表中选择`Update by schedule`并单击提交。

这就是管理部分的内容。现在导航到 cPanel 区域并执行以下操作 -

1.  登录到您的 cPanel
2.  在 cPanel 下，单击**Advanced**选项卡组下的**Cron Jobs**
***   如果您已经创建了一个 cron 作业，您可以对其进行编辑，或者创建一个新的 cron 作业。*   选择运行 cron 作业的频率，假设**每周一次 (0 0 * * 0)**。*   编写命令以重新索引数据，如

    **php-cli /home/username/public_html/sub_folder_if_any/bin/magento indexer:reindex**

    *   保存。根据您的计划频率，cron 作业将运行。** 

 **如果您想要较低的频率，但请注意，如果您降低频率，它将消耗资源。

**注意：**确保`<username>`使用您的 cPanel 用户名和`/<sub_folder_if_any>`您的 magento2 安装目录替换。如果您不使用任何子目录，请忽略它

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2014-04-01T04:24:55.530

我们遇到了同样的问题并修复了将兆字节更改为字节的问题。而不是 set memory_limit 1024M 我们改为 1073741824。

看起来像是服务器的问题...我们使用 Plesk Panel 托管在 Media Temple

希望你早点解决。

问候**

# jsp - 注销并转发到索引页面时如何关闭在jsp中创建的框架

> ID：15355011
> 
> 赞同：0
> 
> 时间：2013-03-12T06:47:51.117
> 
> 标签：jsp, servlets

我有顶部，左侧和右侧三个框架，顶部框架包含注销选项，但是当单击注销时，索引页面显示在顶部框架上我想关闭所有框架并使用 jsp servlet 转发到索引页面

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T08:29:51.287

您可以在父页面中隐藏表单，而不是从框架内提交表单。框架中的提交按钮的 OnClick 传递所有必需的请求参数并从父页面调用函数以提交隐藏表单。

利用

```
window.parent.document.getElementById(<id of hidden form in parent window>).submit(); 
```

隐藏表单中输入字段的值可以用相同的方式设置。

相反，如果表单是您的框架中唯一拥有的东西，您可以避免使用框架本身，或者如果您使用的是外部 HTML/JSP，您也可以使用 include 标记将外部 JSP 包含在您的页面中。

# ip - 分析异常 TCP/IP 流量：顺序 IP 序列号

> ID：15355014
> 
> 赞同：0
> 
> 时间：2013-03-12T06:48:00.077
> 
> 标签：ip, tcpdump, tcp-ip, packet-sniffers

我的教授告诉我，顺序 IP 序列号是大多数 IP 堆栈的典型行为（并向我们展示了数据包嗅探器的示例），但我认为 IP 序列号应该是随机生成的以避免攻击？

哪一个。我正在上数字取证课，我需要知道如何区分“正常”tcp/ip 堆栈流量和“异常”流量

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T07:01:07.330

Linux 和 Solaris 是可预测 IP id 的两个主要违规者。不幸的是，我现在必须去开会，所以我无法解释，但我会尽量记住在我回来时用更好的解释来编辑这个。大多数其他操作系统都在十多年前进行了修补，以具有伪随机起始 IP id。

# php - 如何编码 html 以保存在 Mysql 数据库中？

> ID：15355015
> 
> 赞同：-2
> 
> 时间：2013-03-12T06:48:02.137
> 
> 标签：php, mysql

我正在编写一个西班牙语脚本：

**我在 html 中有这段代码：**

```
<div class="details"><b>Detalle:</b> acompañado o no de una tableta digitalizadora, te permitirá¡ dar rienda suelta a tu imaginación y conseguir verdaderas obras de arte</div> 
```

**我需要这个输出：（**保存在 Mysql 数据库中）

```
<div class="details"><b>Detalle:</b> acompaÃ±ado o no de una tableta digitalizadora, te permitirÃ¡ dar rienda suelta a tu imaginaciÃ³n y conseguir verdaderas obras de arte</div> 
```

有什么功能可以做到吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T06:53:11.550

将您的 mysql 数据库/表/列编码更改为 UTF-8（并将排序规则设置为兼容值）。

```
ALTER TABLE mytable CONVERT TO CHARACTER SET utf8 COLLATE utf8_general_ci;
ALTER TABLE mytable 
MODIFY country CHAR(50) 
CHARACTER SET utf8 COLLATE utf8_general_ci; 
```

连接时还要在 PHP 端指定字符集。

```
mysql_set_charset('utf8',$conn); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T06:48:59.890

**mysql_real_escape_string** —`Escapes special characters in a string for use in an SQL statement`

但**不推荐**这样做，并且从 PHP 5.5.0 起**已弃用**。

将此方法与[mysqli](http://www.php.net/manual/en/mysqli.real-escape-string.php)或[PDO一起使用](http://www.php.net/manual/en/pdo.quote.php)

# html - knitr + Rmd 自动化标题幻灯片上的日期

> ID：15355019
> 
> 赞同：3
> 
> 时间：2013-03-12T06:48:09.657
> 
> 标签：html, r, knitr, pandoc

我想要一个用于制作 html5 幻灯片的 .Rmd 文件模板。一般模板的开头部分是：

```
% Title    
% Name    
% Date 
```

我想自动填写日期，以便模板随时可用。（运行 Pandoc 后，如此[处所示](http://yihui.name/en/2012/05/how-to-make-html5-slides-with-knitr/)）

**这很有效，但是现在日期和名称显示在主 html 文件中（在 html5 处理之前），因为我必须删除`%`这些元素之前的内容：**

```
% Title    
Name    
`r as.character(format(Sys.Date(), format="%B %d, %Y"))`

```{r setup, include=FALSE}
# set global chunk options
opts_chunk$set(cache=TRUE)
library(knitr)
``` 
```

也许有一个非 R，更多的 html，修复。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-16T01:34:43.393

结果证明这是一个 Pandoc 问题，它隐藏得非常深，以至于我花了很长时间才意识到那里出了什么问题。问题是前两行末尾有空格。在 Pandoc 的 markdown 中，行尾的两个或多个空格[表示](http://johnmacfarlane.net/pandoc/README.html#paragraphs)*换行符*。如果您删除前两行中的空格，则一切正常，例如

```
% Title
% Name
% `r as.character(format(Sys.Date(), format="%B %d, %Y"))`

```{r setup, include=FALSE}
# set global chunk options
opts_chunk$set(cache=TRUE)
library(knitr)
``` 
```

# java - Android：为什么我不能在 onCreate 方法之外的按钮上调用 setOnClickListener 方法？

> ID：15355021
> 
> 赞同：0
> 
> 时间：2013-03-12T06:48:13.447
> 
> 标签：java, android

这是一个新手问题，但为什么我不能在 onCreate 方法之外的按钮上调用 setOnClickListener 方法？

例如为什么我不能这样做？或者，也许 Eclipse 只是在 onCreate 方法之外没有 setOnClickListener 代码提示？因为什么都没有出现。

```
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main_layout);
}

Button button = (Button) findViewById(R.id.button_send);
   button.setOnClickListener(new View.OnClickListener() {
     public void onClick(View v) {
      // Do something in response to button click
  }
}); 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-12T07:06:44.610

您可以在任何函数中设置点击侦听器。但这不是你的确切问题。实际问题是

```
setContentView(R.layout.main_layout); 
```

**您可以在setContentView**之后调用**findViewById**函数。****setContentView**用于设置活动的布局。您的布局包含不同的视图，如按钮等。因此，如果您不设置布局，则无法使用 findViewById 访问视图，如果无法访问，则无法使用它们。**

 **所以正确的顺序是：

```
1 Set layout on your activity using setContentView.
2 Find id for your view using findViewById.
3 Then use your views for your purposes. 
```

始终首先关注基础知识。

另一个问题是您在任何函数之外调用 setOnClickListener 。在任何函数静态块之外，只允许函数声明和赋值。下面的声明都不是。所以它永远不会执行，回调也永远不会发生。

```
button.setOnClickListener(new View.OnClickListener() {
     public void onClick(View v) {
      // Do something in response to button click
  } 
```

});

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-12T06:53:41.630

**onCreate**是普通 Java 中的**main(String[] args)**函数。这是您设置代码的地方。另请参阅此链接：-

[关于“Hello World”Android教程的菜鸟问题](https://stackoverflow.com/questions/7358219/noob-question-about-hello-world-android-tutorial)

这是正确的方法：-

```
public void onCreate(Bundle savedInstanceState) {
super.onCreate(savedInstanceState);
setContentView(R.layout.main_layout);
    Button button = (Button) findViewById(R.id.button_send);
button.setOnClickListener(new View.OnClickListener() {
 public void onClick(View v) {
  // Do something in response to button click
 }
});
} 
```

或者

这是完成任务的另一种方法：-

```
 public void onCreate(Bundle savedInstanceState) {
super.onCreate(savedInstanceState);
setContentView(R.layout.main_layout);
    Button button = (Button) findViewById(R.id.button_send);
button.setOnClickListener(onClick);
}

public OnClickListener onClick= new OnClickListener() {

    @Override
    public void onClick(View v) {

        // Do something in response to button click
    }
}; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-12T07:02:20.047

为每个按钮注册 onClickListner。

```
button.setOnClickListener(this); 
```

并覆盖此方法

```
@Override
public void onClick ( View v )
{
     if ( v == button ) 
     {
            // your code...
     }

   ////  add others...
} 
```

在您的活动中实施 OnClickListener

```
public class yourActivity extends Activity implements OnClickListener 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-01-11T12:51:16.200

这个问题可以通过在 {} 中编写代码来解决：

```
public void onCreate(Bundle savedInstanceState) 
```

以下：

```
setContentView(R.layout.main_layout); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-12T06:59:16.573

例子

```
public class yourActivityName extends Activity implements OnClickListener {

    public void onCreate(Bundle savedInstanceState) {

       super.onCreate(savedInstanceState);
       setContentView(R.layout.main_layout);

       Button button = (Button) findViewById(R.id.button_send);
       button.setOnClickListener(this);

   }

    @Override

       public void onClick(View v) {

        if (v.getId() == R.id.button_send) {

            //your code..

        }
       }

} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-03-12T06:54:11.287

只有在`setContentView(R.layout.main_layout);`调用之后，您才能访问该视图内的组件（即按钮）。因为按钮的声明和实例化是写在主类上下文中的，所以它发生**在**`setContentView`.

在 onCreate 中插入按钮代码部分，它将起作用。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-03-12T07:01:48.050

我认为这是因为您希望在代码执行后立即添加侦听器。如果你把它放在外面，这在技术上是非常可能的，你的代码将不会被执行（当然，除非你打算从 onCreate 方法中调用该方法。**

# java - KeyUsage 不允许数字签名

> ID：15355031
> 
> 赞同：8
> 
> 时间：2013-03-12T06:48:48.080
> 
> 标签：java, ssl, x509certificate, digital-signature

我正在尝试将 HTTPS 请求从我的 Java EE 程序发送到需要证书身份验证的主机。我有一个正确的密钥库文件，带有导入 CA 的信任库，两者的列表都显示证书在里面。

但我收到以下错误：

```
javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: KeyUsage does not allow digital signatures
    at ...

...

Caused by: sun.security.validator.ValidatorException: KeyUsage does not allow digital signatures
    at sun.security.validator.EndEntityChecker.checkTLSServer(EndEntityChecker.java:270)
    at sun.security.validator.EndEntityChecker.check(EndEntityChecker.java:141)
    at sun.security.validator.Validator.validate(Validator.java:264)
    at sun.security.ssl.X509TrustManagerImpl.validate(X509TrustManagerImpl.java:326)
    at sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:231)
    at     sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:126)
at sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1319)
... 29 more 
```

查看扩展部分中的证书内容，我看到以下内容：

```
Extensions:

#1: ObjectId: 2.5.29.14 Criticality=false
SubjectKeyIdentifier [
KeyIdentifier [
0000: 33 87 72 1D 09 2F DF FF   1A A7 D1 C0 E1 CF C5 FA  3.r../..........
0010: A4 19 54 2E                                        ..T.
]
]

#2: ObjectId: 2.16.840.1.113730.1.1 Criticality=false
NetscapeCertType [
   SSL client
]

#3: ObjectId: 2.5.29.35 Criticality=false
AuthorityKeyIdentifier [
KeyIdentifier [
0000: 74 9F 43 07 CC 75 FA D3   D0 13 0F 65 36 CC 4A 9A  t.C..u.....e6.J.
0010: E0 8E 9C 52                                        ...R
]
]

#4: ObjectId: 2.5.29.31 Criticality=false
CRLDistributionPoints [
  [DistributionPoint:
     [URIName: http://test.az:7447/Test%20CA.crl]
]]

#5: ObjectId: 2.5.29.15 Criticality=true
KeyUsage [
  DigitalSignature
] 
```

所以我的证书确实包含**KeyUsage [ DigitalSignature ]**

抛出异常的地方的代码片段如下所示：

```
private final static int KU_SIGNATURE = 0;

...

private void checkTLSServer(X509Certificate cert, String parameter)
        throws CertificateException {
    Set<String> exts = getCriticalExtensions(cert);

    ...

    } else if (KU_SERVER_SIGNATURE.contains(parameter)) {
        if (checkKeyUsage(cert, KU_SIGNATURE) == false) {
            throw new ValidatorException
                    ("KeyUsage does not allow digital signatures",
                    ValidatorException.T_EE_EXTENSIONS, cert);
        }
    }

    ...
} 
```

和**checkKeyUsage**函数：

```
private boolean checkKeyUsage(X509Certificate cert, int bit)
        throws CertificateException {
    boolean[] keyUsage = cert.getKeyUsage();
    if (keyUsage == null) {
        return true;
    }
    return (keyUsage.length > bit) && keyUsage[bit];
} 
```

它返回失败**(keyUsage.length > bit) && keyUsage[bit];**

问题是为什么上面表达式的结果= false？当 bit = 0 并且 cert.getKeyUsage() 必须返回一个布尔数组 [true, false, false, false, false, false, false, false, false]

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-12-18T22:04:12.713

该错误实际上来自验证服务器的证书。该证书有一个不包含数字签名位的密钥使用部分。

一些密码套件需要数字签名位，特别是 Diffie-Hellman 密钥交换（DHE_RSA 和 ECDHE_RSA）。您可以通过避免使用这些密码类型来避免此错误。否则服务器证书需要支持它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2021-02-01T11:29:08.967

这个错误也发生在我身上，虽然@Chris D 的答案是正确的，但我想给你一种方法来克服这个问题。

我们的 Java 应用程序必须通过 HTTPS 与服务器通信。如果我们能够调整此服务器的 TLS，我们就可以解决这个问题。

基本上我们需要在 HTTPS 服务器上禁用所有基于 Diffie Hellman 的密码。您需要排除所有包含`DH`.

在 Haproxy 的情况下，我使用了这些指令：

```
global
    ssl-default-bind-ciphers AES128-GCM-SHA256:AES256-GCM-SHA384:AES128-SHA256:AES256-SHA256:AES128-SHA:AES256-SHA:DES-CBC3-SHA
    ssl-default-bind-ciphersuites TLS_AES_128_GCM_SHA256:TLS_AES_256_GCM_SHA384:TLS_CHACHA20_POLY1305_SHA256 
```

如果是 Java HTTPS 服务器，我设置了这个环境变量：

```
SERVER_SSL_CIPHERS=TLS_RSA_WITH_AES_128_GCM_SHA256:TLS_RSA_WITH_AES_256_GCM_SHA384:TLS_RSA_WITH_AES_128_CBC_SHA256:TLS_RSA_WITH_AES_256_CBC_SHA256:TLS_RSA_WITH_AES_128_CBC_SHA:TLS_RSA_WITH_AES_256_CBC_SHA:TLS_RSA_WITH_3DES_EDE_CBC_SHA 
```

然后将其转换为 Java 属性[server.ssl.ciphers](https://docs.spring.io/spring-boot/docs/current/reference/html/appendix-application-properties.html#server.ssl.ciphers)

* * *

如果您想在客户端强制使用一些密码，那么这个 SO 问题可能就是您正在寻找的[Java - How can I disable a TLS cipher for only some protocols using JVM Config?](https://stackoverflow.com/questions/52779312/java-how-can-i-disable-a-tls-cipher-for-only-some-protocols-using-jvm-config/52814980)

# android - 屏幕关闭时，AsyncTask 中的代码运行不顺畅

> ID：15355032
> 
> 赞同：2
> 
> 时间：2013-03-12T06:48:48.253
> 
> 标签：android, android-asynctask, screen

在我的 AsyncTask 中，我以某种模式振动手机并重复此操作，直到用户将其关闭。只要屏幕打开，它就可以正常工作。如果屏幕关闭，代码仍会运行，但中间会定期中断。似乎Android试图在屏幕关闭的情况下消耗电池，并且只在线程（如我的AsyncTask）中定期运行代码。真的吗？或者这是其他一些行为？有没有办法让我的代码即使在屏幕关闭的情况下也能顺利运行？打开屏幕可能会耗尽电池电量。即使屏幕关闭，振动也会用于通知用户。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-12T07:01:53.543

您可以使用[WakeLock](http://developer.android.com/reference/android/os/PowerManager.html)。通过使用 a`PARTIAL_WAKE_LOCK`您可以确保即使您的屏幕关闭，cpu 仍在运行并且您的代码将正确执行。

但是，我想补充一点，我从未遇到过此类问题`AsyncTask`，但如果您遇到此类问题，唤醒锁可能是解决方案。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-12T07:06:46.213

`AsyncTask`不是为处理长时间运行的任务而设计的。如果您希望您的手机长时间以特定模式振动，我建议您使用[AlarmManager](http://developer.android.com/reference/android/app/AlarmManager.html)设置重复闹钟。

# c++ - 是否可以禁用关于用户定义文字中缺少下划线的 GCC 警告？

> ID：15355048
> 
> 赞同：15
> 
> 时间：2013-03-12T06:49:50.763
> 
> 标签：c++, c++11, user-defined-literals

```
void operator"" test( const char* str, size_t sz  )
{
    std::cout<<str<<" world";
}

int main()
{
    "hello"test;
    return 0;
} 
```

在 GCC 4.7 中，这会生成“警告：不以 '_' 开头的文字运算符后缀保留用于将来的标准化 [默认启用]”

我理解为什么会生成此警告，但 GCC 说“默认启用”。

是否可以在不通过 -w 标志禁用所有警告的情况下禁用此警告？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-13T19:31:14.213

在阅读了对该问题的几条评论后，我回顾了 C++ 11 标准（非最终草案 N3337）。

当我说“我明白为什么会产生这个警告”时，我错了。我认为标准在技术上不要求下划线，而只是一个建议（因此是警告而不是错误）。

但正如 Nicol Bolas 提出的，该标准在谈到用户定义的文字时使用以下语言：

> “不以下划线开头的文字后缀标识符保留用于将来的标准化。” [usrlit.suffix](http://eel.is/c++draft/usrlit.suffix#1)
> 
> “一些文字后缀标识符保留用于将来的标准化；请参阅 [usrlit.suffix]。其文字操作符 id 使用此类文字后缀标识符的声明格式不正确，无需诊断。” [过字面](http://eel.is/c++draft/over.literal#1)

这类似于用于保留标识符的语言和“替代表示”，例如“and”、“or”、“not”。我认为这很清楚地表明这实际上不应该是一个警告，而是一个错误。

这可能不是对“是否可以禁用”问题的直接回答，但对我来说已经足够回答了。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2019-08-28T07:57:52.600

值得一提的是，`-Wno-literal-suffix`自 gcc-7 以来此警告静音（请参阅此处 live on [godbold](https://godbolt.org/z/s2IZUp)），即此选项还[关闭用户定义的文字运算符的警告，而无需前导下划线](https://gcc.gnu.org/onlinedocs/gcc/C_002b_002b-Dialect-Options.html#index-Wliteral-suffix)：

> **-Wliteral-suffix**（仅限 C++ 和 Objective-C++）
> 
> ...
> 
> 此外，当用户定义的文字运算符使用不以下划线开头的文字后缀标识符声明时发出警告。不以下划线开头的文字后缀标识符保留用于将来的标准化。

* * *

但是，应该坚持[@cmeub 的回答](https://stackoverflow.com/a/15394731/5769463)中的建议，而不是使用没有下划线的文字后缀标识符，因为它会导致程序格式错误。

# java - 无法在图像中找到对象的坐标

> ID：15355049
> 
> 赞同：0
> 
> 时间：2013-03-12T06:49:56.727
> 
> 标签：java, opencv, javacv

我试图获取附加图像中对象的坐标，但无法获取：

![在此处输入图像描述](../Images/80f824b70bf9de9b8abeb804832f6545.png)

我也得到了图像的坐标。

```
Using the Probabilistic Hough Transform
Line spotted: 
     pt1: (124, 478)
Line spotted: 
     pt1: (638, 477)
Line spotted: 
     pt1: (490, 261)
Line spotted: 
     pt1: (559, 262)
Line spotted: 
     pt1: (492, 263)
Line spotted: 
     pt1: (557, 263)
Line spotted: 
     pt1: (36, 478)
Line spotted: 
     pt1: (215, 127)
Line spotted: 
     pt1: (254, 59)
Line spotted: 
     pt1: (216, 129)
Line spotted: 
     pt1: (215, 126)
Line spotted: 
     pt1: (253, 59)
Line spotted: 
     pt1: (493, 263)
Line spotted: 
     pt1: (215, 128)
Line spotted: 
     pt1: (493, 52)
Line spotted: 
     pt1: (189, 226)
Line spotted: 
     pt1: (493, 54)
Line spotted: 
     pt1: (276, 280)
Line spotted: 
     pt1: (493, 261)
Line spotted: 
     pt1: (317, 264)
Line spotted: 
     pt1: (300, 285)
Line spotted: 
     pt1: (165, 186) 
```

但我无法预测这些坐标是哪些图像，而且我需要图像中存在的三角形、矩形和圆形的倾斜角。

下面是代码

```
public class HoughLines {

public static void main(String[] args) {

    String fileName = args.length >= 1 ? args[0] : "C:\\Users\\LENOVO\\Pictures\\24.png"; // if no params provided, compute the defaut image
   // args[1] ="probabilistic";
    IplImage src = cvLoadImage(fileName, 0);
    IplImage dst;
    IplImage colorDst;
    CvMemStorage storage = cvCreateMemStorage(0);
    CvSeq lines = new CvSeq();

    CanvasFrame source = new CanvasFrame("Source");
    CanvasFrame hough = new CanvasFrame("Hough");
    if (src == null) {
        System.out.println("Couldn't load source image.");
        return;
    }

    dst = cvCreateImage(cvGetSize(src), src.depth(), 1);
    colorDst = cvCreateImage(cvGetSize(src), src.depth(), 3);

    cvCanny(src, dst, 50, 200, 3);
    cvCvtColor(dst, colorDst, CV_GRAY2BGR);

    /*
     * apply the probabilistic hough transform
     * which returns for each line deteced two points ((x1, y1); (x2,y2))
     * defining the detected segment
     */
    if (true) { 
        System.out.println("Using the Probabilistic Hough Transform");
        lines = cvHoughLines2(dst, storage, CV_HOUGH_PROBABILISTIC, 1, Math.PI / 180, 40, 50, 10);
        for (int i = 0; i < lines.total(); i++) {
            // from JavaCPP, the equivalent of the C code:
            // CvPoint* line = (CvPoint*)cvGetSeqElem(lines,i);
            // CvPoint first=line[0], second=line[1]
            // is:
            // CvPoint first=line.position(0), secon=line.position(1);

            Pointer line = cvGetSeqElem(lines, i);
            CvPoint pt1  = new CvPoint(line).position(0);
            CvPoint pt2  = new CvPoint(line).position(1);

            System.out.println("Line spotted: ");
            System.out.println("\t pt1: " + pt1);
            //System.out.println("\t pt2: " + pt2);
            cvLine(colorDst, pt1, pt2, CV_RGB(255, 0, 0), 3, CV_AA, 0); // draw the segment on the image
        }
    }
    source.showImage(src);
    hough.showImage(colorDst);

    source.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
    hough.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
}
} 
```

我也在添加原始图像：

![在此处输入图像描述](../Images/172ac4fa5f962213354d9796ea6286cc.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-24T21:23:49.843

有时您需要在 cvHoughLines2 之前应用一些模糊来进行此类研究

使用方法：cvSmooth with Gaussian

# ajax - 使用ajax在mvc 3中上传视频文件

> ID：15355050
> 
> 赞同：0
> 
> 时间：2013-03-12T06:50:02.593
> 
> 标签：ajax, asp.net-mvc, asp.net-mvc-3, video, upload

您好我尝试将图像路径保存在我的数据库中并将其检索到我的视图中以使用下面的代码显示图像。哪个运行完美。我现在的问题是如何使用 ajax 保存视频文件？我使用 ajax 是因为我不仅要保存图像，还要保存不同的数据。例如名称、代码、简介、概要等。提前感谢您对我的帮助。

在我看来：

```
<tr>
                <td>
                    Poster Homepage
                </td>
                <td style>
                    <form id="file_upload" action="/Movies/UploadFiles" method="POST" enctype="multipart/form-data">
                    <div class="fileupload-buttonbar">
                        @*<div class="progressbar fileupload-progressbar">
                        </div>*@
                        <div id="file_name">
                        </div>
                        <div id="file_type">
                        </div>
                        <div id="file_size">
                        </div>
                        <div id="show_image"></div>
                        <span class="fileinput-button"><a href="javascript:void(0)" class="upload-image">
                            Upload image</a>
                            <input type="file" name="files[]" multiple id="file" />
                        </span>
                    </div>
                    </form>
                </td>
            </tr> 
```

脚本

```
$(document).ready(function () {
        $('.progressbar').progressbar({ value: 0 });

        $('#file_upload').fileupload({
            dataType: 'json',
            url: '/Movies/UploadFiles',
            progressall: function (e, data) {
                $(this).find('.progressbar').progressbar({ value: parseInt(data.loaded / data.total * 100, 10) });
            },
            done: function (e, data) {
                $('#file_name').html(data.result.name);
                $('#file_type').html(data.result.type);
                $('#file_size').html(data.result.size);
                $('#show_image').html('<img src="/home/image/' + data.result.name + '" />');
                $('#file_name').css({ display: 'none' });
                $('#file_type').css({ display: 'none' });
                $('#file_size').css({ display: 'none' });
                //visibility: hidden;
                $(this).find('.progressbar').progressbar({ value: 100 });
            }
        }); 
```

控制器：

```
public FilePathResult Image()
        {
            string filename = Request.Url.AbsolutePath.Replace("/home/image", "");
            string contentType = "";
            var filePath = new FileInfo(Server.MapPath("~/Images") + filename);

            var index = filename.LastIndexOf(".") + 1;
            var extension = filename.Substring(index).ToUpperInvariant();

            // Fix for IE not handling jpg image types
            contentType = string.Compare(extension, "JPG") == 0 ? "image/jpeg" : string.Format("image/{0}", extension);

            return File(filePath.FullName, contentType);
        }

        [HttpPost]
        public ContentResult UploadFiles()
        {
            var r = new List<UploadHomePage>();

            foreach (string file in Request.Files)
            {
                HttpPostedFileBase image = Request.Files[file] as HttpPostedFileBase;
                if (image.ContentLength == 0)
                    continue;
                string savedFileName = Path.Combine(Server.MapPath("~/Images"), Path.GetFileName(image.FileName));
                image.SaveAs(savedFileName);

                r.Add(new UploadHomePage()
                {
                    Name = image.FileName,
                    Length = image.ContentLength,
                    Type = image.ContentType
                });
            }

            return Content("{\"name\":\"" + r[0].Name + "\",\"type\":\"" + r[0].Type + "\",\"size\":\"" + string.Format("{0} bytes", r[0].Length) + "\"}", "application/json");
        } 
```

模型：

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;

namespace BookingCMS.Models
{
    public class UploadHomePage
    {
        public string Name { get; set; }
        public int Length { get; set; }
        public string Type { get; set; }
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T06:57:35.933

您可以使用以下`formData`设置通过 FileUpload 插件传递其他参数：

```
$('#file_upload').fileupload({
    dataType: 'json',
    url: '/Movies/UploadFiles',
    formData : { 
        name: 'this is the name of the movie', 
        synopsis: 'this is the synopsis of the movie',
        type: 'movie'
    },
    progressall: function (e, data) {
        ...
    },
    done: function (e, data) {
        ...
    }
}); 
```

# iphone - 应用程序未在 ios 5 中运行

> ID：15355051
> 
> 赞同：0
> 
> 时间：2013-03-12T06:50:09.130
> 
> 标签：iphone, ios, ios-simulator

由于我希望该应用程序在 ios 5 和 ios 6 中运行，因此我尝试在 ios 5 中运行该应用程序，该应用程序在 ios 6 中运行良好，因为我使用了自动布局功能但是当我使用运行应用程序时在 ios 5 中它崩溃了，因为自动布局功能在以前版本的 ios 中不可用。有什么解决方案可以解决我的问题吗？答案将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-12T06:53:00.147

如果你想在 iOS 5 中运行你的应用程序，那么你必须关闭**Autolayout 功能**。您可以从界面生成器中执行此操作。

如需更多帮助，您可以参考[此](http://yashesh87.wordpress.com/2012/08/22/solved-iphone-app-crash-in-ios-5-1-1-or-below-when-you-have-developed-it-on-xcode-4-5-developer-preview/)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T06:56:00.507

1.  **您需要取消选中自动布局。**

![在此处输入图像描述](../Images/85fb62ee6d37d39b3a5c68f477232d4f.png)

2.  **并确保您也在此处进行更改.. 选择 ios 5.1**

![在此处输入图像描述](../Images/5734a055a20e6e1391600da3403ce669.png)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-12T06:57:11.067

![在此处输入图像描述](../Images/9b103ed467716fd9227ce8fc8b1e7c9d.png)您必须`AutoResizing`为视图使用遮罩，而不是`autolayouts`因为 iOS 6 及更高版本支持自动布局。请查看下面的示例

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-12T07:38:45.787

如果您使用的是 iOS 6 或更高版本，那么您可以为 iphone 5 创建一个单独的 xib，称为**Retina 4 Full screen**。您需要在您的`ViewController`尺码中检查这一点。还要检查这两个 xib 的 . 这意味着在 iphone 5 或更低版本中运行您的任何一个 xib 都使用这些条件，无论是`AppDelegate`在您需要显示另一个`ViewController`.

```
CGSize result = [[UIScreen mainScreen] bounds].size;
if(result.height == 480)
{
}
else if(result.height == 568)
{
} 
```

上面的代码会检查你的 iphone 屏幕的大小并进行相应的调整。希望这已经解决了您的问题:)。

PS：- 不要忘记添加您的 iphone 5 启动画面，即**Default-568h@2x.png**。

# jquery - 如何通过 AJAX 发送对 Ruby on Rails 的放置请求

> ID：15355052
> 
> 赞同：2
> 
> 时间：2013-03-12T06:50:21.237
> 
> 标签：jquery, ruby-on-rails, ajax, ruby-on-rails-3

我一直在谷歌搜索，但我似乎无法获得正确的设置，通过我在谷歌上看到的东西，我最终得到了这个：

```
var dataString = $('#markerform').serialize();
        var id = $('#route_id').val()
        $.ajax({
            type: 'POST',
            url:  '/routes/'+id,
            data: { "_method":"put", dataString},
            dataType: "JSON",
            success: function(data) {
                console.log(data);
            }
        }); 
```

这对于我的路线控制器

```
def update
    @route = Route.find(params[:id])
    respond_to do |format|
        if @route.update_attributes
            format.html
            format.json { render text: "Done" }
        else
            format.json { render text: "Bad" }
        end
    end
end 
```

但我最终得到了这个萤火虫错误：

```
SyntaxError: invalid object initializer
[Break On This Error]   

data: { "_method":"put", dataString}, 
```

我该如何清理它，以便通过这个应用程序获得一些成功。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T06:54:00.340

试试这个（※使用`serializeArray`代替`serialize`）：

```
 $.ajax({
        type: 'PUT',
        url:  '/routes/'+$('#route_id').val(),
        data: $('#markerform').serializeArray(),
        dataType: "JSON",
        success: function(data) {
            console.log(data);
        }
    }); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T06:52:20.090

试试这个

```
var dataString = $('#markerform').serialize();
        var id = $('#route_id').val()
        $.ajax({
            type: 'PUT',
            url:  '/routes/'+id,
            data: dataString,
            dataType: "JSON",
            success: function(data) {
                console.log(data);
            }
        }); 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-03-12T07:39:12.563

[How do I PUT data to Rails using JQuery](https://stackoverflow.com/questions/907910/how-do-i-put-data-to-rails-using-jquery#907974)已经回答了这个问题。基本上，Rails 允许您通过执行 POST 但添加值为“PUT”的“_method”参数来执行 PUT 调用（以及任何其他不受支持的调用）。

# objective-c - Tree view on Cocoa

> ID：15355061
> 
> 赞同：0
> 
> 时间：2013-03-12T06:51:19.580
> 
> 标签：objective-c, cocoa

I am quite new to Cocoa framework in terms of both language and framework. What is the equivalent class for creating a Tree view on Mac OS X. I am trying to port an UI on Mac OS X. In this, a tree view is used to store some names and names under them. They are being set by a function provided by me (say AddItemUnder).

How to create tree view on Mac OS X? I saw NSOutlineView. But that requires some data source. In my case, I do not have any data source.

Also, in my case, only UI related will be in Objective-C. Rest code will be in C++ and may be common for both Windows and Mac OS X.

Currently, I need tree-view where I can add items like a hierarchical tree.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T07:00:13.710

> In my case, I do not have any data source.

If you don't have any data, what are you going to display on OSX GUI?

I would say you certainly have a data that is called Model, and you use GUI for the View part, and to bind Model with View you need a Controller. You are given a controller called NSTreeController.

If you are not happy with TreeController, then you can go for NSMutableDictionary and go on to add objects under objects upto any level.

Something like this :

```
@"World":@"worldKey"    
     -@"Asia":@"asiaKey"
           -@"India@":@"indiaKey"
                 -@"Bangalore:@"bangaloreKey"
           -@"@"Japan":@"japanKey" 
     -@"Europe":@"europeKey"   
           -@"England":@"englandKey"
                 -@"OldTrafford":@"oldTraffordKey"
     -@"Australia":@"australiaKey"
           -@"NewSouthWales:@"newSouthWalesKey" 
```

# c# - C#.NET：将滚动条添加到 Excel 工作表

> ID：15355064
> 
> 赞同：1
> 
> 时间：2013-03-12T06:51:27.470
> 
> 标签：c#, excel-interop

我需要使用 Microsoft.Office.Interop.Excel 库和 C#.NET 向工作表添加滚动条并链接单元格。

对应的VBA代码如下：

```
 ActiveSheet.ScrollBars.Add(545.25, 172.5, 398.25, 24.75).Select
With Selection
    .Value = 0
    .Min = 0
    .Max = 100
    .SmallChange = 1
    .LargeChange = 10
    .LinkedCell = "$A$1"
    .Display3DShading = True
End With 
```

我尝试了下面的代码，它添加了滚动条，但没有按预期工作，也无法将单元格链接到它。

```
oSheet.Shapes.AddOLEObject("Forms.ScrollBar.1", Type.Missing, Type.Missing, Type.Missing, Type.Missing, Type.Missing, 545.25, 172.5, 398.25, 24.75); 
```

我的 C#.NET 代码将滚动条作为对象添加到 Excel，我需要它作为控件。它似乎有区别。

使用我的 C#.NET 代码的实际结果如下图所示

![使用我的 C# 代码的实际结果](../Images/0cb75eacd15ea94f9f0cdb909c934e3e.png)

但预期结果如下图所示：

![预期结果](../Images/7eaf97edccfa6e12f6c5f7abb6784fa7.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T09:04:59.553

我在[这里](http://msdn.microsoft.com/en-us/library/office/ff838642.aspx)找到了解决方案。是的，早些时候我添加了 ActiveX 对象来代替控件。下面的代码工作正常。

```
using Excel = Microsoft.Office.Interop.Excel;

                   :
                   :

Excel.ControlFormat Scrollbar  = oSheet.Shapes.AddFormControl(Excel.XlFormControl.xlScrollBar, 545, 172, 398, 24).ControlFormat;

Scrollbar.Value = 0;
Scrollbar.Min = 0;
Scrollbar.Max=100;
Scrollbar.SmallChange = 1;
Scrollbar.LargeChange = 10;
Scrollbar.LinkedCell = "$A$1"; 
```

# sql - Django 中的 Sql 查询

> ID：15355066
> 
> 赞同：0
> 
> 时间：2013-03-12T06:51:37.280
> 
> 标签：sql, django, django-models, django-forms, django-views

这是我的 sql 查询

```
SELECT id, name, address, city, state_province, country, website
FROM books_publisher
WHERE name LIKE '%press' and city LIKE '%myn'; 
```

正如您在上面的代码中看到的那样，我已经使用`and`了多个`like`如何在 Django 中做同样的事情？我试过了，但没有用

```
Mplaces.objects.filter(name__startswith='press' and city__startswith=myn) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-12T07:08:12.257

试试这个：

```
Mplaces.objects.filter(name__endswith='press', city__endswith=myn) 
```

在这里，（逗号）表示“和”和| 意思是“或”

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T07:01:26.997

```
Mplaces.objects.filter(name__endswith='press', city__endswith='myn') 
```

SQL 等价物：

```
SELECT ... WHERE name LIKE "%press" and city LIKE "%myn"; 
```

# c - 两个文件描述符之间的桥接

> ID：15355069
> 
> 赞同：10
> 
> 时间：2013-03-12T06:51:44.960
> 
> 标签：c, linux, sockets, file-descriptor

我有一个正在做的套接字`select()`，等待其他进程写入。一旦写入，我就读取数据，并将其写入另一个文件描述符。我的问题是，如果有办法将套接字桥接到文件描述符，那么当数据准备好时，它会自动写入另一个文件描述符吗？

这样，我可以抛出我正在使用的缓冲区，并省略系统中的一个线程。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-12T09:19:49.800

在 linux`splice()`上，当方向是从套接字到文件时，使用可能更合适。使用`splice()`有点复杂，但你有两个方向。另外，我认为 sendfile这些天在[内部使用 splice。](http://lxr.linux.no/#linux+v3.8.2/fs/read_write.c)

SO上有很多问题已经讨论了splice（）和sendfile（）之间的区别。搜索网络还揭示了关于拼接工作的（来源和目的地）的相互矛盾的陈述。了解它是否适​​合您的情况的最佳方法是对其进行测试。

关于兼容文件系统：[哪些文件系统支持通过 Linux 的 splice(2) 进行拼接？](https://stackoverflow.com/questions/3638657/which-file-systems-support-splicing-via-linuxs-splice2)

关于不支持 TCP 套接字拼接的旧内核：[Linux 的 splice(2) 在从 TCP 套接字拼接时工作吗？](https://stackoverflow.com/questions/884934/does-linuxs-splice2-work-when-splicing-from-a-tcp-socket)

拼接说明： http: [//kerneltrap.org/node/6505](http://kerneltrap.org/node/6505)

拼接源： http: [//lxr.linux.no/#linux+v3.8.2/fs/splice.c](http://lxr.linux.no/#linux+v3.8.2/fs/splice.c)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-12T07:00:28.193

对不起，如果我误解了你的情况，但你的意思是什么[`sendfile`](http://linux.die.net/man/2/sendfile)？

> sendfile - 在文件描述符之间传输数据
> 
> ```
> #include <sys/sendfile.h>
> ssize_t sendfile(int out_fd, int in_fd, off_t * offset ", size_t" " count" ); 
> ```
> 
> sendfile() 在一个文件描述符和另一个文件描述符之间复制数据。因为这种复制是在内核中完成的，所以 sendfile() 比 read(2) 和 write(2) 的组合更有效，后者需要在用户空间和用户空间之间传输数据。

# objective-c - 如何指定在来自 Objective C 的服务调用中调用 WCF 服务中的哪个方法？

> ID：15355077
> 
> 赞同：0
> 
> 时间：2013-03-12T06:52:26.007
> 
> 标签：objective-c, wcf, service

我正在尝试从 Objective C 进行 WCF 服务调用。我正在生成下面的代码，这也是我从网络上的某个地方获取的。我不知道我会在哪里提到要调用的特定方法。

```
-(void)viewDidLoad {

[super viewDidLoad];

//Web Service Call
NSString *soapMessage = [NSString stringWithFormat:

                         @\"<?xml version=\\"1.0\\" encoding=\\"UTF-8\\"?>\n\"

                         \"<SOAP-ENV:Envelope \n\"
                         \"xmlns:xsd=\\"http://www.w3.org/2001/XMLSchema\\" \n\"
                         \"xmlns:xsi=\\"http://www.w3.org/2001/XMLSchema-instance\\" \n\" 
                         \"xmlns:SOAP-ENC=\\"http://schemas.xmlsoap.org/soap/encoding/\\" \n\"

                         \"SOAP-ENV:encodingStyle=\\"http://schemas.xmlsoap.org/soap/encoding/\\" \n\"

                         \"xmlns:SOAP-ENV=\\"http://schemas.xmlsoap.org/soap/envelope/\\"> \n\"

                         \"<SOAP-ENV:Body> \n\"

                         \"<GetMembers mlns=\\"http://tempuri.org/\\">\"

                         \"</GetMembers> \n\"                            \"</SOAP-ENV:Body> \n\"

                         \"</SOAP-ENV:Envelope>\"]; 

//[[NSURLCache sharedURLCache] removeAllCachedResponses];

NSURL *url = [NSURL URLWithString:@\"http://[IP_ADDRESS_OF_WCF_SERVER]/IphoneService/Service1.svc\"];                           

NSMutableURLRequest *theRequest = [NSMutableURLRequest requestWithURL:url];                         

NSString *msgLength = [NSString stringWithFormat:@\"%d\", [soapMessage length]];              

[theRequest addValue: @\"text/xml; charset=utf-8\" forHTTPHeaderField:@\"Content-Type\"];     

[theRequest addValue: @\"http://tempuri.org/IService1/GetMembers\" forHTTPHeaderField:@\"Soapaction\"];

[theRequest addValue: msgLength forHTTPHeaderField:@\"Content-Length\"];

[theRequest setHTTPMethod:@\"POST\"];     
[theRequest setHTTPBody: [soapMessage dataUsingEncoding:NSUTF8StringEncoding]];

NSURLConnection *theConnection = [[NSURLConnection alloc] initWithRequest:theRequest delegate:self];

if(theConnection) {
    webData = [[NSMutableData data] retain];

}
else {
    NSLog(@\"theConnection is NULL\");

} 
```

}

假设我在服务 Service1 中有一个方法 iPhoneMethod()，我在调用中在哪里提到这个？或者可能有其他方法。是不是像在 ajax 调用中那样，“http://[IP]/[Service Path]/Service1.svc/iPhoneMethod”

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T16:22:14.257

在 WCF SOAP 消息中，标头包含`SOAPAction`指定方法的 a。这定义了[OperationContractAttribute.Action Property](http://msdn.microsoft.com/en-us/library/system.servicemodel.operationcontractattribute.action.aspx)的值。

一般格式为`http://EndpointAddress/MethodName`.

因此，在简要阅读您的代码时（并且不知道目标 c）：

```
[theRequest addValue: @\"http://tempuri.org/IService1/GetMembers\" forHTTPHeaderField:@\"Soapaction\"]; 
```

您需要将 tempuri.org 更改为实际的服务端点。

# css - 默认打开垂直css手风琴的第一部分

> ID：15355078
> 
> 赞同：1
> 
> 时间：2013-03-12T06:52:33.080
> 
> 标签：css, accordion

我在我的页面中使用 css 风格的手风琴菜单。我想要的是默认打开的第一个选项卡。我尝试为该部分的第一个孩子提供固定高度。但它似乎不起作用。

这是我的html代码。

```
<div class="row-fluid">
    <div class="accordiong vertical">
     <section id="videos1">
       <h2><a href="#videos1">Videos1</a></h2>
          <p><div class="row-fluid">
                     <div class="span12">
                    Content1 goes here
                     </div>
                 </div>
                   </p>
    </section>
        <section id="videos2">
       <h2><a href="#videos2">Videos2</a></h2>
          <p><div class="row-fluid">
                     <div class="span12">
                    Content2 goes here
                     </div>
                 </div>
                   </p>
    </section>
 </div> 
```

样式是这样的（在网上某处找到）。

```
<style>
  /**
   *  CSS3 Only Horizontal and Vertical Accordion
   *  Author: Paul Underwood for Hongkiat.com
   *  Website: www.paulund.co.uk
   *  Date: 27/11/11
   *  Version: 1.0
   */

  /*Define Accordion box*/
  .accordiong { margin:10px auto; color:#474747; background:#414141;}

  /*General Accordion*/
  /*Set style of open slide*/
  .accordiong section:target { background:#FFF; padding:10px;}
  .accordiong section:target:hover { background:#FFF; }
  .accordiong section:target h2 {width:100%;}
  .accordiong section:target h2 a{ color:#333; padding:0;}
  .accordiong section:target p {display:block;}
  .accordiong section h2 a{padding:8px 10px;display:block; font-size:16px; font-weight:normal;color:#eee; text-decoration:none; }

  /*set style of closed slide*/
  .accordiong section{ float:left; overflow:hidden; color:#333; cursor:pointer; background: #333; margin:3px; }
  .accordiong section:hover {background:#444;}
  .accordiong section p { display:none; }

  .accordiong section:after{position:relative;font-size:24px;color:#000;font-weight:bold;}
  .accordiong section:nth-child(1):after{content:'1';}
  .accordiong section:nth-child(2):after{content:'2';}
  .accordiong section:nth-child(3):after{content:'3';}
  .accordiong section:nth-child(4):after{content:'4';}
  .accordiong section:nth-child(5):after{content:'5';}
  /*End General Accordion*/

  /*Horizontal Accordion */
  .horizontal section{ width:5%; height:250px; 
      -moz-transition:width 0.2s ease-out; 
      -webkit-transition:width 0.2s ease-out;
      -o-transition:width 0.2s ease-out;
      -ms-transition:width 0.2s ease-out;
      transition:width 0.2s ease-out;
  }

  /*Position the number of the slide*/
  .horizontal section:after{top:140px;left:15px;}

  /*Header of closed slide*/
  .horizontal section h2 { 
      -webkit-transform:rotate(90deg);
      -moz-transform:rotate(90deg);
      -o-transform: rotate(90deg);
      -ms-transform: rotate(90deg);
      transform: rotate(90deg);
      width:240px; position:relative; left:-100px; top:85px;
  } 

  /*On mouse over open slide*/
  .horizontal :target{ width:73%;height:230px; }
  .horizontal :target h2{ top:0px;left:0;
      -webkit-transform:rotate(0deg);
      -moz-transform:rotate(0deg);
      -o-transform: rotate(0deg);
      -ms-transform: rotate(0deg);
      transform: rotate(0deg); 
  }
  /*End Horizontal Accordion */

  /*Vertical Accordion*/
  .vertical section{ width:100%; height:40px;
      -webkit-transition:height 0.2s ease-out;
      -moz-transition:height 0.2s ease-out;
      -o-transition:height 0.2s ease-out;
      -ms-transition:height 0.2s ease-out;
      transition:height 0.2s ease-out;
  }
  /*Set height of the slide*/
  .vertical :target{ height:auto; width:100%; }

  .vertical .containeranimation{
    height: 390px !important;
  }
  .vertical section h2 { position:relative; left:0; top:-15px; }

  /*Set position of the number on the slide*/
  .vertical section:after{ top:-60px;left:810px;}
  .vertical section:target:after{ left:-9999px;}
  </style> 
```

希望有人能通过这个问题把我拉出来。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T06:59:04.213

如果你使用

```
 #videos1 
```

在您的 urllink 即 index.html#videos1 之后，它将默认打开

# c++ - 反转数字的最有效方法

> ID：15355080
> 
> 赞同：5
> 
> 时间：2013-03-12T06:52:36.800
> 
> 标签：c++, performance, algorithm, optimization

我正在寻找一种有效的算法来反转一个数字，例如

**输入：** 3456789

**输出：** 9876543

在 C++ 中，有很多带有移位和位掩码的选项，但最有效的方法是什么？

我的平台：x86_64

数字范围：XXX - XXXXXXXXXX（3 - 9 位）

**编辑** 我输入的最后一位数字永远不会为零，因此不存在前导零问题。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-03-12T06:57:48.353

像这样的东西会起作用：

```
#include <iostream>

int main()
{
    long in = 3456789;
    long out = 0;
    while(in)
    {
        out *= 10;
        out += in % 10;
        in /= 10;
    }
    std::cout << out << std::endl;
    return 0;
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-12T07:00:15.490

```
#include <stdio.h>
unsigned int reverse(unsigned int val)
{
 unsigned int retval = 0;

 while( val > 0)
 {
     retval  = 10*retval + val%10;
     val     /= 10;
 }
 printf("returning - %d", retval);
 return retval;
}

int main()
{
    reverse(123);
} 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-03-12T13:54:52.357

您可以将数字转换为字符串，然后使用 STL 算法反转字符串。下面的代码应该可以工作：

```
 long number = 123456789;
 stringstream ss;
 ss << number;
 string numberToStr = ss.str();

 std::reverse(numberToStr.begin(), numberToStr.end());

 cout << atol(numberToStr.c_str()); 
```

您可能需要包含那些相关的头文件。我不确定这是否是最有效的方法，但 STL 算法通常非常有效。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-08-12T17:59:04.827

```
int ans=0;
int rev(int n)
{
  ans=(ans+(n%10))*10; // using recursive function to reverse a number;
  if(n>9) 
    rev(n/10);
}

int main()
{
  int m=rev(456123); // m=32
  return 0;
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2017-08-18T01:10:19.603

```
static public int getReverseInt(int value) {
    int resultNumber = 0;
    for (int i = value; i != 0;) {
        int d = i / 10;
        resultNumber = (resultNumber - d) * 10 + i;
        i = d;
    }
    return resultNumber;
} 
```

我认为这将是不使用`asm`. 请注意，这`d*10 + i`相当于`i%10`但要快得多，因为模比乘法慢大约 10 倍。
我对其进行了测试，它比其他答案快 25%。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2018-12-31T08:18:00.337

```
 //Recursive method to find the reverse of a number  
 #include <bits/stdc++.h> 
    using namespace std; 
    int reversDigits(int num) 
    { 
    static int rev_num = 0; 
    static int base_pos = 1; 
    if(num > 0) 
    { 
        reversDigits(num/10); 
        rev_num += (num%10)*base_pos; 
        base_pos *= 10; 
    } 
    return rev_num; 
    } 
    int main() 
    { 
        int num = 4562; 
        cout << "Reverse  " << reversDigits(num); 
    } `` 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2019-03-02T19:39:29.527

```
// recursive method to reverse number. lang = java
static void reverseNumber(int number){
    // number == 0 is the base case
    if(number !=0 ){
        //recursive case
        System.out.print(number %10);
        reverseNumber(number /10);
    }
} 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2021-01-06T17:20:54.013

此解决方案效率不高，但确实解决了问题并且很有用。它为任何有符号整数（int、long、long long 等）返回 long long，为任何无符号整数（unsigned int、unsigned long、unsigned long long 等）返回 unsigned long long。

char 类型取决于编译器实现，可以是有符号的或无符号的。

```
#include <iostream>
#include <string>
#include <algorithm>

template <bool B>
struct SignedNumber
{
};

template <>
struct SignedNumber<true>
{
    typedef long long type;
};

template <>
struct SignedNumber<false>
{
    typedef unsigned long long type;
};

template <typename TNumber = int,
          typename TResult = typename SignedNumber<std::is_signed<TNumber>::value>::type,
          typename = typename std::void_t<std::enable_if_t<std::numeric_limits<TNumber>::is_integer>>>
TResult ReverseNumber(TNumber value)
{
    bool isSigned = std::is_signed_v<TNumber>;
    int sign = 1;
    if (value < 0)
    {
        value *= -1;
        sign = -1;
    }
    std::string str = std::to_string(value);
    std::reverse(str.begin(), str.end());
    return isSigned ? std::stoll(str) * sign : std::stoull(str) * sign;
}

int main()
{
    std::cout << ReverseNumber(true) << std::endl; //bool -> unsigned long long
    std::cout << ReverseNumber(false) << std::endl; //bool -> unsigned long long
    std::cout << ReverseNumber('@') << std::endl; //char -> long long or unsigned long long 
    std::cout << ReverseNumber(46) << std::endl; //int -> long long
    std::cout << ReverseNumber(-46) << std::endl; //int -> long long
    std::cout << ReverseNumber(46U) << std::endl; //unsigned int -> unsigned long long
    std::cout << ReverseNumber(46L) << std::endl; //long -> long long
    std::cout << ReverseNumber(-46LL) << std::endl; //long long -> long long
    std::cout << ReverseNumber(46UL) << std::endl; //unsigned long -> unsigned long long
    std::cout << ReverseNumber(4600ULL) << std::endl; //unsigned long long -> unsigned long long
} 
```

**输出**

```
1
0
64
64
-64
64
64
-64
64
64 
```

**测试此代码**
[https://repl.it/@JomaCorpFX/IntegerToStr#main.cpp](https://repl.it/@JomaCorpFX/IntegerToStr#main.cpp)

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2021-01-07T08:59:05.817

如果它是 32 位无符号整数（最大输入为 987,654,321）并且如果您有 4GB 可用内存（按效率，您是指内存吗？），

```
result=table[value]; // index 12345 has 54321, index 123 has 321 
```

应该足够快。假设以 100 ns 时间或 200 个周期访问内存并且整数平均为 7 位，其他解决方案有：

*   7次乘法，
*   7个补充，
*   7 模，
*   7个部门，
*   7 次循环迭代和 7 次比较

如果这些时间超过 100 纳秒/200 个周期，那么表格会更快。例如，1 个整数除法可以高达 40 个周期，所以我想这可能足够快。如果重复输入，那么来自缓存的数据将具有更少的延迟。

但是如果有数百万个并行的反向操作，那么 CPU 计算绝对是比访问表更好的选择（使用矢量化计算循环 + 多线程可能会提高 30 倍至 100 倍的速度）。它每个核心和多个核心有多个管道。您甚至可以选择带有 GPU 的 CUDA/OpenCL 以获得额外的吞吐量，并且这种与其他答案相反的解决方案看起来非常令人尴尬地可并行化，因为 1 个输入独立于其他输入进行计算。

* * *

## 回答 #10

> 赞同：-1
> 
> 时间：2017-07-11T16:00:14.717

这是最简单的一个：

```
#include<iostream>
using namespace std;

int main()
{
int number, reversed=0;
cout<<"Input a number to Reverse: ";
cin>>number;
    while(number!=0)
  {
    reversed= reversed*10;
    reversed=reversed+number%10;
    number=number/10;
  }
cout<<"Reversed number is: "<<reversed<<endl;

} 
```

# macos - 使用applescript隐藏文件夹内容

> ID：15355082
> 
> 赞同：2
> 
> 时间：2013-03-12T06:52:46.390
> 
> 标签：macos, applescript, directory, finder

首先对不起我的英语不好。

我使用文件夹操作找到了一个密码保护文件夹的applescript

```
 on opening folder This_Folder
 repeat
 tell application "Finder"
 set dialogresult to display dialog "Restricted Folder. Please enter the password to access folder:" buttons {"Ok", "Close"} default button 1 default answer "" with hidden answer
 copy the result as list to {PWText, button_choice}
 set button_choice to the button returned of dialogresult
 if button_choice is equal to "Ok" then
 set PWText to the text returned of dialogresult
 if not PWText = "123456" then -- password
 display dialog "Access Denied" buttons {"Ok"} default button 1
 else
 display dialog "Access Granted" buttons {"Ok"} default button 1
 exit repeat
 end if
 else if button_choice is equal to "Close" then
 tell application "Finder"
 close folder This_Folder
 exit repeat
 end tell
 end if
 end tell
 end repeat
 end opening folder 
```

但是我想当我点击打开文件夹时，他们首先隐藏这个文件夹中的所有项目，然后它会显示保护文件夹的对话框，当我输入更正的密码时，它会再次显示所有项目。我知道它需要运行 shell 脚本 chflags hidden 和 nohidden 但我不知道如何将它编码为第一个代码。

我试着用

```
 set selectionList to select every item in front window as list
 repeat with i from 1 to number of items of the selectionList
 set selectedItem to item i of the selectionList
 set posixPath to POSIX path of (selectedItem as string) as string
 do shell script "chflags nohidden \"" & posixPath & "\""
 end repeat 
```

但是当我需要显示隐藏文件时，代码显示无法选择任何文件:(

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T12:07:52.377

尝试：

```
set myFolder to POSIX path of (choose folder)
do shell script "find " & quoted form of myFolder & " \\! -name \".*\" -type f -print0 | xargs -0 chflags nohidden" 
```

或者

```
set myFolder to POSIX path of (choose folder)
do shell script "find " & quoted form of myFolder & " \\! -name \".*\" -type f -print0 | xargs -0 chflags hidden" 
```

# python - 在python中，如果一个函数没有return语句，它会返回什么？

> ID：15355083
> 
> 赞同：20
> 
> 时间：2013-03-12T06:52:50.253
> 
> 标签：python, python-3.x

给定这个示例函数：

```
def writeFile(listLine,fileName):
    '''put a list of str-line into a file named fileName'''
    with open(fileName,'a',encoding = 'utf-8') as f:
        for line in listLine:
            f.writelines(line+'\r\n')
    return True 
```

这个`return True`声明有什么用吗？

有它和没有它有什么区别？如果没有返回函数会发生什么？

* * *

## 回答 #1

> 赞同：32
> 
> 时间：2013-03-12T06:57:54.400

如果函数未指定返回值，则返回`None`.

在 if/then 条件语句中，`None`计算结果为 False。所以理论上你可以检查这个函数的返回值是否成功/失败。我说“理论上”是因为对于这个问题中的代码，该函数不会捕获或处理异常，并且可能需要额外的强化。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-12T07:00:20.173

如果没有写`None`明确的函数总是返回。`return`

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-12T07:04:57.380

如果你`return True`在函数的末尾有 ，你可以这样说：`a=writeFile(blah, blah)`

然而，因为它永远是`True`，它是完全没有意义的。如果文件写入正确等，最好返回 True。

如果您没有明确返回任何内容，则该值将是`None`

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-03-12T07:11:07.140

如果没有对功能进行归因或检查，就单独拥有一个 return 语句没有多大意义。

如果没有返回任何内容，Python 将返回 None。在您的情况下，如果打开文件和写入成功，您可能应该返回 true

# python - 无法导入 pygame，取而代之的是错误

> ID：15355089
> 
> 赞同：2
> 
> 时间：2013-03-12T06:53:02.060
> 
> 标签：python, python-2.7, pygame

我第一次尝试使用 Pygame，并使用 进行了手动安装`python setup.py install`，但是当我尝试导入它时，我最终收到了这条消息。

```
>>> import pygame
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
  File "/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/pygame/__init__.py", line 127, in <module>
    from pygame.base import *
ImportError: dlopen(/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/pygame/base.so, 2): Symbol not found: _SDL_EnableUNICODE
  Referenced from: /Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/pygame/base.so
  Expected in: flat namespace
 in /Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/pygame/base.so 
```

# java - 如何在 Joda Time 中将一段时间切成几片？

> ID：15355090
> 
> 赞同：2
> 
> 时间：2013-03-12T06:53:02.073
> 
> 标签：java, jodatime

我想使用 Java 和 Joda Time 制作一个个人日程管理器。对于一个月中的每一天，用户在一天中有一段时间（例如上午 10 点到下午 4 点）。他应该能够从他的一天中提取一个句点并将一个杂务列表（即字符串）“添加”到这个句点。然后他会看到他一天的剩余时间。他可以从中提取更多的时段，直到他没有剩余的时段。他可以将提取的时段添加回当天的日程安排，并删除该时段的所有杂务，即空闲时间。

可以提取的时间片的大小由用户决定。时间片数 = 一天中可用的总时间/用户设置的时间片大小 = 所需大小的时间片数 + 剩余时间

他可以将他的一天分成 1 小时、30 分钟、15 分钟、20 分钟、40 分钟等。

*添加：*用户需要保存他的整个日程安排，以便他可以回来查看他过去在做什么。每天的时间可以变化 - 上午 10 点至下午 4 点、上午 9 点至下午 1 点等

我是 Joda Time 的新手，我不知道这在 Joda Time 中是否可行，如果可能的话，是简单还是麻烦。我只需要一些指导。我不是要求为我输入整个代码。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T07:29:13.163

这是更新的代码

```
import java.util.ArrayList;
import java.util.List;

import org.joda.time.DateTime;
import org.joda.time.Period;

public class Schedule {

// figure out some way to Store these values in a database
static List<DateTime[]> schedule = new ArrayList<DateTime[]>();

//Number of hours in a day
static DateTime startDay = new DateTime(2013, 03, 12, 8, 0, 0);
static DateTime endDay = new DateTime(2013, 03, 12, 16, 0, 0);

//Create a Period from the start and End Day dates
static Period dayPeriod = new Period(startDay, endDay);

public static void main(String[] args) {

    // These events will be created on your UI
    DateTime[] firstEvent = { new DateTime(2013, 03, 12, 9, 0, 0), new DateTime(2013, 03, 12, 10, 0, 0) };
    DateTime[] secEvent = { new DateTime(2013, 03, 12, 11, 0, 0), new DateTime(2013, 03, 12, 12, 0, 0) };
    DateTime[] thirdEvent = { new DateTime(2013, 03, 12, 12, 0, 0), new DateTime(2013, 03, 12, 13, 0, 0) };

    //print the hours left, before creating events
    System.out.println(dayPeriod.getHours() + " : " + dayPeriod.getMinutes() + " : " + dayPeriod.getSeconds());

    //Call a method to validate them
    validateAndAdd(firstEvent);
    validateAndAdd(secEvent);
    validateAndAdd(thirdEvent);

    //print the hours left after creating events
    System.out.println(dayPeriod.getHours() + " : " + dayPeriod.getMinutes() + " : " + dayPeriod.getSeconds());

}

public static void validateAndAdd(DateTime[] event) {

    //Subtract the event period from the Day Period
    dayPeriod = dayPeriod.minus(new Period(event[0], event[1]));
    schedule.add(event);
}
} 
```

这次运行的输出是

```
 8 : 0 : 0
 5 : 0 : 0 
```

但是，如果您将 firstEvent 更改为

```
DateTime[] firstEvent = { new DateTime(2013, 03, 12, 9, 30, 0), new DateTime(2013, 03, 12, 10, 0, 0) }; 
```

运行的输出是

```
8 : 0 : 0
6 : -30 : 0 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-11-13T12:43:30.867

方法在给定的时间间隔内拆分开始和结束。

```
private List<Interval> splitDateTime(long start, long end, int intervalNo) {
            long interval = (end - start) / intervalNo;
            List<Interval> list = new ArrayList<Interval>();
            for (long i = start + interval; i < end; i += interval) {
                list.add(new Interval(start, i));
                start=start + interval;
            }
            list.add(new Interval(start, end));
            return list;
        } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-12T07:33:11.223

为了实现您所描述的，您需要计算块长度并存储每个块的开始时间和结束时间。通过 JodaTime，可以很容易地计算出块的开始时间和结束时间。它提供了诸如[DateTime#plusHours](http://joda-time.sourceforge.net/apidocs/org/joda/time/DateTime.html#plusHours%28int%29)（加 N 小时）、[DateTime#plusMinutes](http://joda-time.sourceforge.net/apidocs/org/joda/time/DateTime.html#plusMinutes%28int%29)（加 N 分钟）之类的 API。

例如：

```
DateTime beginTime = DateTime.now();
DateTime endTime = beginTime.plusMinutes(40);
System.out.println(beginTime);
System.out.println(endTime); 
```

# javascript - 试图利用 JSZip 打开并解析 .zip 中的特定文件

> ID：15355093
> 
> 赞同：1
> 
> 时间：2013-03-12T06:53:16.407
> 
> 标签：javascript, closures, jszip

一直在尝试使用[JSZip 库](http://stuk.github.com/jszip/)循环浏览 .zip 中的文件，寻找`test.txt`我想要解析的内容（此处为 ）。

已尝试对 JSZip 提供的[示例](http://stuk.github.com/jszip/examples/read-local-file-api.html)[推荐查看源代码] 进行修改：

```
<!DOCTYPE HTML>

<html>

<head>

    <link href="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.1/css/bootstrap-combined.min.css" rel="stylesheet">
    <link href="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.1/css/bootstrap-combined.min.css" rel="stylesheet">

</head>
<body>
<div class = "container">
    <div class = "hero-unit">
        <input type="file" class="span7" id="input" name="file" multiple /> <!-- redo this in a bootstrappy way-->
        <br>
        <output id="output"></output>
    </div>
</div>

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
<script src="/js/jszip-load.js"></script>
<script src="/js/jszip.js"></script>
<script src="/js/jszip-inflate.js"></script>

<script>

    if (window.File && window.FileReader && window.FileList && window.Blob) {
        // Great success! All the File APIs are supported.
    } else {
        alert('The File APIs are not fully supported in this browser.');
    }

    function handleFileSelect(evt) {
        var files = evt.target.files; // FileList object

        // files is a FileList of File objects. List some properties.
        var output = [];
        for (var i = 0, f; f = files[i]; i++) {

            if (f.type !== "application/zip") {
                document.getElementById('output').innerHTML = "<p class='text-error'>" + f.name + " isn't a zip file.</div>";
                continue;
            }

            var reader = new FileReader();

            reader.onload = (function(theFile) {
                return function(e) {

                    var zip = new JSZip(e.target.result)

                    $.each(zip.files, function (index, zipEntry) {
                        if (zipEntry.name == "test.txt"){

                            var text = zipEntry.asText();
                            var lines = text.split(/[\r\n]+/g); // tolerate both Windows and Unix linebreaks

                            for(var i = 0; i < lines.length; i++) {
                                if (lines[i].length > 240){
                                    output.push('<li>' + lines[i] + '<br>');
                                }
                            }

                            document.getElementById('output').innerHTML = '<h2>Paths with more than 240 characters:</h2> <br><ol>' + output.join('') + '</ol>';

                        else{
                                alert("file not found!")
                            }

                        }

                    });

                }
            })(f);

        }
    }

    document.getElementById('input').addEventListener('change', handleFileSelect, false);

</script>
</body>
</html> 
```

出于某种原因，我肯定与我使用闭包的方式有关，它实际上并没有解析有问题的 .zip 文件。有什么想法我可能在这里做错了吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-07-22T17:47:56.037

我使用此代码并且能够获取所有文件数据。content 变量具有文件内容：

```
function loadSettingsFile(evt) {
         var files = evt.target.files;
         for (var i = 0, f; f = files[i]; i++) {

              var reader = new FileReader();

              // Closure to capture the file information.
              reader.onload = (function(theFile) {
                return function(e) {
                  try {
                    var zip = new JSZip(e.target.result);
                    $.each(zip.files, function (index, zipEntry) {
                        var content = zipEntry.asText();
                        alert(content);
                    });
                  } catch(e) {
                    alert(e)
                  }
                }
              })(f);

              // read the file !
              // readAsArrayBuffer and readAsBinaryString both produce valid content for JSZip.
              reader.readAsArrayBuffer(f);
              // reader.readAsBinaryString(f);
            }
    } 
```

# android - 不同设备上 Android 中 IBM Worklite 中的分辨率

> ID：15355096
> 
> 赞同：0
> 
> 时间：2013-03-12T06:53:24.647
> 
> 标签：android

我开始在 Android 中开发 IBM WorkLite。我做了一个项目并将图像放在身体背景中。图片根据设备尺寸而定，但在运行应用程序时，图像以缩放模式显示。我无法理解为什么会这样

# sql - 将多行合并为一行并根据行数附加列

> ID：15355100
> 
> 赞同：-1
> 
> 时间：2013-03-12T06:53:32.537
> 
> 标签：sql, sql-server, sql-server-2008

我正在尝试将同一张表的多行合并为一个。

我有一个这样的示例表

```
Col1    Col2    Col3    Col4    Col5    Col6
1   BH1 CB  12  CC  CC - Conveyor Mal.
1   BH1 CB  104 ZC  ZC - Full/Emp Signal Mal.
1   BH1 CB  109 HD  HD - Dosing Pipe Blocked
2   BH2 CD  14  HP  HP- Laptop
2   BH2 CD  21  DE  DE -Dell
3   BH1 BC  41  FE  FE- Fuji
4   BH9 BC  95  SN  SN-Sony 
```

我的预期输出应该是这样的

```
Col1    Col2    Col3    Col4    Col5    Col6    Col7    Col8    Col9    Col10   Col11   Col12
1   BH1 CB  12  CC  CC - Conveyor Mal.  104 ZC  ZC - Full/Emp Signal Mal.   109 HD  HD - Dosing Pipe Blocked
2   BH2 CD  14  HP  HP- Laptop  21  DE  DE -Dell             
3   BH1 BC  41  FE  FE- Fuji                         
4   BH9 BC  95  SN  SN-Sony 
```

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T15:24:32.127

您可以将选项与 dynamicSQL、[APPLY()](http://msdn.microsoft.com/en-us/library/ms175156%28v=sql.105%29.aspx)和[PIVOT](http://msdn.microsoft.com/en-us/library/ms177410%28v=sql.105%29.aspx)运算符一起使用。在这种情况下，列按结果排序，按列 Col4 排序。

```
DECLARE @cols nvarchar(max),
        @query nvarchar(max)
SELECT @cols = 
  STUFF((SELECT x.ColName
         FROM (
               SELECT ',' + QUOTENAME('Col' + CAST(3 + ROW_NUMBER() OVER(PARTITION BY Col1, Col2, Col3 ORDER BY Col4) AS nvarchar(10))) AS ColName,
                      ROW_NUMBER() OVER(PARTITION BY Col1, Col2, Col3 ORDER BY Col4) AS rn
               FROM dbo.test31 CROSS APPLY (VALUES('Col'), ('Col'), ('Col')) o(Col)) x
         GROUP BY x.ColName, x.rn
         ORDER BY x.rn                   
         FOR XML PATH(''), TYPE).value('.', 'nvarchar(max)'), 1, 1, '')
SET @query = 
  'SELECT * FROM 
    (      
     SELECT t.Col1, t.Col2, t.Col3,            
            ''Col'' + CAST(3 + ROW_NUMBER() OVER(PARTITION BY t.Col1, t.Col2, t.Col3 ORDER BY t.Col4) AS nvarchar(10)) AS ColName,            
            COALESCE(CAST(o.oCol4 AS nvarchar(10)), o.oCol5, o.oCol6) AS ListValues            
     FROM dbo.test31 t CROSS APPLY (
                                    SELECT oCol4, oCol5, oCol6
                                    FROM (VALUES (t.Col4, NULL, NULL),
                                                 (NULL, t.Col5, NULL),
                                                 (NULL, NULL, t.Col6))
                                    x(oCol4, oCol5, oCol6)
                                    ) o
     ) x
     PIVOT
      (
       MAX(ListValues) FOR ColName IN(' + @cols + ')
       ) p'
EXEC (@query) 
```

[**SQLFiddle**](http://sqlfiddle.com/#!3/e5c2b/1)上的演示[](http://sqlfiddle.com/#!3/e5c2b/1)

 **列名称类似于“工厂、品牌、区域 1、停机时间 1、原因 1、区域 2、停机时间 2、原因 2 等”的选项。

```
DECLARE @cols nvarchar(max),
        @query nvarchar(max)
SELECT @cols = 
  STUFF((SELECT ',' + QUOTENAME(o.Col) AS ColName                
         FROM
          (
           SELECT *, CAST(ROW_NUMBER() OVER(PARTITION BY Plant, Brand ORDER BY Area) AS nvarchar(10)) AS rn
           FROM dbo.test35) t CROSS APPLY (VALUES('Area' + t.rn), ('DownTime' + t.rn), ('Reasons' + t.rn)
           ) o(Col)
         GROUP BY o.Col, t.rn
         ORDER BY t.rn                   
         FOR XML PATH(''), TYPE).value('.', 'nvarchar(max)'), 1, 1, '')       

SET @query = 
  'SELECT * FROM 
    (      
     SELECT t.Plant, t.Brand, o.ColName,            
            COALESCE(CAST(o.Area AS nvarchar(10)), o.DownTime, o.Reasons) AS ListValues
     FROM
      (
       SELECT Plant, Brand, Area, DownTime, Reasons,
              CAST(ROW_NUMBER() OVER(PARTITION BY Plant, Brand ORDER BY Area) AS nvarchar(10)) AS rn            
       FROM dbo.test35) t CROSS APPLY (
                                      SELECT Area, DownTime, Reasons, ColName
                                      FROM (VALUES (t.Area, NULL, NULL, ''Area'' + t.rn),
                                                   (NULL, t.DownTime, NULL, ''DownTime'' + t.rn),
                                                   (NULL, NULL, t.Reasons, ''Reasons'' + t.rn))
                                      x(Area, DownTime, Reasons, ColName)
                                      ) o
      ) x
     PIVOT
      (
       MAX(ListValues) FOR ColName IN(' + @cols + ')
       ) p'
EXEC (@query) 
```

[**SQLFiddle**](http://sqlfiddle.com/#!3/43a3c/1)上的演示[](http://sqlfiddle.com/#!3/43a3c/1)**

# objective-c - 如何使用objective c使图像的某一部分被点击并显示内容？

> ID：15355101
> 
> 赞同：0
> 
> 时间：2013-03-12T06:53:33.617
> 
> 标签：objective-c

您好我正在尝试实现一个应用程序，该应用程序允许用户单击图像的某些部分，例如鱼（鳍，尾）并导航到 xib 的另一个页面以显示部分的内容。有谁知道如何启用点击图像并确定点击的各个部分？请帮忙！非常感谢！

PS我已经找到了如何单击图像并能够获取图像的坐标。如何在 if 语句中使用该坐标？例如，

if (location = i) { 转到此页面 }

else if (location = a) { 去这个页面 }

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T07:05:02.277

试试这样可能对你有帮助

```
- (void)touchesBegan:(NSSet *)touches withEvent:(UIEvent *)event
{
    UITouch *touch = [[event allTouches] anyObject];
    CGPoint lastLocation = [touch locationInView: self.view];

 if (![[touch view] isKindOfClass:[UIImageView class]]) {
    if (lastLocation.x>103 & lastLocation.y<269) { //place your location points here

     // keep you condition based on image view and push the view here. 
   }
 }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-12T06:58:13.983

如果您有静态图像，实现此目的的最简单方法是添加`UIButton`类型**custom**，然后将其添加到该图像部分。将背景颜色和所有内容设置为clearcolor，这样它就会显得透明。

在`touchUpInside`该按钮的事件中，您可以将其重定向到其他视图。

# opengl-es - 为什么我的立方体变形了？

> ID：15355102
> 
> 赞同：1
> 
> 时间：2013-03-12T06:53:35.113
> 
> 标签：opengl-es, 3d, quaternions

使用四元数，如果我将立方体沿轴旋转 90 度，我会得到一个不同的正面立方体侧面，它显示为纯色的直线正方形。我的立方体有不同颜色的边，所以改变它旋转的轴给了我预期的这些不同的颜色。

当我尝试旋转任意数量时，我得到了相当壮观的混乱，我不知道为什么，因为我希望四元数过程无论角度如何都能正常工作：

![在此处输入图像描述](../Images/0f6f753a2186298693ad33ff217636aa.png)

我正在使用以下方法从 2 个向量创建一个四元数：

```
inline QuaternionT<T> QuaternionT<T>::CreateFromVectors(const Vector3<T>& v0, const    Vector3<T>& v1)
 {
if (v0 == -v1)
    return QuaternionT<T>::CreateFromAxisAngle(vec3(1, 0, 0), Pi);

Vector3<T> c = v0.Cross(v1);
T d = v0.Dot(v1);
T s = std::sqrt((1 + d) * 2);

QuaternionT<T> q;
q.x = c.x / s;
q.y = c.y / s;
q.z = c.z / s;
q.w = s / 2.0f;
return q;
} 
```

我认为上述方法很好，因为我已经看到很多正确使用它的示例代码。

使用上述方法，我这样做：

```
 Quaternion quat1=Quaternion::CreateFromVectors(vec3(0,1,0), vec3(0,0,1)); 
```

它有效，并且是 90 度旋转。

但假设我想要更像 45 度旋转？

```
 Quaternion quat1=Quaternion::CreateFromVectors(vec3(0,1,0), vec3(0,1,1)); 
```

这给了我上面的混乱。我还尝试了规范化`quat1`，它提供了不同但同样扭曲的结果。

我使用四元数作为模型视图旋转矩阵，使用这个：

```
inline Matrix3<T> QuaternionT<T>::ToMatrix() const
{
const T s = 2;
T xs, ys, zs;
T wx, wy, wz;
T xx, xy, xz;
T yy, yz, zz;
xs = x * s;  ys = y * s;  zs = z * s;
wx = w * xs; wy = w * ys; wz = w * zs;
xx = x * xs; xy = x * ys; xz = x * zs;
yy = y * ys; yz = y * zs; zz = z * zs;
Matrix3<T> m;
m.x.x = 1 - (yy + zz); m.y.x = xy - wz;  m.z.x = xz + wy;
m.x.y = xy + wz; m.y.y = 1 - (xx + zz); m.z.y = yz - wx;
m.x.z = xz - wy; m.y.z = yz + wx;  m.z.z = 1 - (xx + yy);
return m;
} 
```

知道这里发生了什么吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T09:40:57.807

你的截锥体是什么样子的？如果您有一个扭曲的“镜头”，例如超广角视野，那么实际显示深度的角度（例如任意旋转）可能看起来不像您预期​​的那样。（就像相机上的鱼眼镜头如何使透视看起来不切实际）。

如果您想看到逼真的图像，请确保您使用的是逼真的平截头体。

# c - 无法在使用 libmcrypt 的 Ubuntu 上编译程序

> ID：15355114
> 
> 赞同：1
> 
> 时间：2013-03-12T06:54:13.690
> 
> 标签：c, compiler-errors, mcrypt

*我创建了一个使用libmcrypt*的 C 程序。我在 CentOS 机器上编译了很多次，但是现在，尝试在 Ubuntu 中做同样的事情，我得到了这个：

```
/tmp/ccM2ugbq.o: In function `encrypt': 
util.c:(.text+0xa1): undefined reference to `mcrypt_module_open'
util.c:(.text+0xc6): undefined reference to `mcrypt_enc_get_iv_size'
util.c:(.text+0x134): undefined reference to `mcrypt_generic_init'
util.c:(.text+0x1dc): undefined reference to `mcrypt_generic'
util.c:(.text+0x1fa): undefined reference to `mcrypt_module_close'
/tmp/ccM2ugbq.o: In function `decrypt':
util.c:(.text+0x288): undefined reference to `mcrypt_module_open'
util.c:(.text+0x296): undefined reference to `mcrypt_enc_get_iv_size'
util.c:(.text+0x304): undefined reference to `mcrypt_generic_init'
util.c:(.text+0x375): undefined reference to `mdecrypt_generic'
util.c:(.text+0x380): undefined reference to `mcrypt_module_close' 
```

，虽然我已经安装了*libmcrypt*并在编译时正确地分隔了标志（*-I/usr/include -L/usr/lib -lmcrypt*）

谁能指导我如何使用*libmcrypt*使编译正常工作？

* * *

编辑：手册页说：*编译为“cc prog.c -lmcrypt”或“cc prog.c -lmcrypt -lltdl”，具体取决于您的安装。* 我也安装了*libltdl-dev*，但它不起作用。

* * *

编辑1：系统信息：版本（运行`uname -r`）：

> 3.5.0-25-通用

发布（运行`lsb_release -a`）：

> 没有可用的 LSB 模块。
> 
> 经销商编号：Ubuntu
> 
> 说明：Ubuntu 12.10
> 
> 发布：12.10
> 
> 代号：量子

* * *

编辑2：

因为@teppic 要求我显示编译命令，所以我解决了我的问题，但我需要一些解释。下面我将详细介绍该主题：

我使用但失败的命令：

> cc -Wall -I../path/to/include -lmcrypt ./a_file.c ./some/other/file.c ./some/other/files.c ./main/file.c -I/some/包含/路径 -lother_lib -o ./bin/out

之后，我只将`-lmcrypt`命令放在最后并从一开始就将其删除，并且它起作用了。在我最初的问题中，我告诉过你我之前在 CentOS 中编译过它，并且一切正常。确实如此，即使在 CentOS 中编译命令是前一个（可能某些文件的顺序或某些库不同）。

谁能解释一下标志顺序如何影响编译成功或失败？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-12T10:27:56.263

通常，您应该将库依赖项放在命令行中引用它的源文件*之后。*在旧版本的 gcc 中，情况并非总是如此。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-12T07:22:20.390

1) 尝试安装 libmrypt-dev 2) 使用“locate”命令找到 libmcrypt 的路径 3) 如果不在标准库路径中，请尝试将路径添加到 LD_LIBRARY_PATH 环境变量 4) 如果没有任何帮助，请尝试使用“yum install mcrypt-”再次安装发展”

# cassandra - Cassandra 1.0.9 集群滚动升级到 1.2.1

> ID：15355115
> 
> 赞同：3
> 
> 时间：2013-03-12T06:54:30.660
> 
> 标签：cassandra

作为生产问题的一部分，我们希望将生产 1.0.9 集群升级到 1.2.1/2。

在我们的开发环境中测试升级时，我在升级的集群节点之一上使用 cli 执行简单的列表操作时遇到以下异常：（仅升级了 3 个节点中的一个）

```
[default@testKS] list testCF;
Using default limit of 100
Using default column limit of 100
null
TimedOutException()
at org.apache.cassandra.thrift.Cassandra$get_range_slices_result.read(Cassandra.java:12932)
at org.apache.thrift.TServiceClient.receiveBase(TServiceClient.java:78)
at org.apache.cassandra.thrift.Cassandra$Client.recv_get_range_slices(Cassandra.java:734)
at org.apache.cassandra.thrift.Cassandra$Client.get_range_slices(Cassandra.java:718)
at org.apache.cassandra.cli.CliClient.executeList(CliClient.java:1485)
at org.apache.cassandra.cli.CliClient.executeCLIStatement(CliClient.java:272)
at org.apache.cassandra.cli.CliMain.processStatementInteractive(CliMain.java:210)
at org.apache.cassandra.cli.CliMain.main(CliMain.java:337) 
```

我在未升级的节点（1.0.9）上运行相同的列表操作时遇到相同的异常：

```
[default@testKS] list testCF;
Using default limit of 100
null
TimedOutException()
at org.apache.cassandra.thrift.Cassandra$get_range_slices_result.read(Cassandra.java:12830)
at org.apache.cassandra.thrift.Cassandra$Client.recv_get_range_slices(Cassandra.java:762)
at org.apache.cassandra.thrift.Cassandra$Client.get_range_slices(Cassandra.java:734)
at org.apache.cassandra.cli.CliClient.executeList(CliClient.java:1390)
at org.apache.cassandra.cli.CliClient.executeCLIStatement(CliClient.java:269)
at org.apache.cassandra.cli.CliMain.processStatementInteractive(CliMain.java:220)
at org.apache.cassandra.cli.CliMain.main(CliMain.java:348) 
```

在另一个 1.0.9 节点上尝试相同的列表操作时，我没有收到任何错误，我假设该节点拥有唯一的副本：

```
[default@testKS] list testCF;
Using default limit of 100
-------------------
RowKey: 0a
=> (column=0a, value=0a, timestamp=1362642828623000)

1 Row Returned.
Elapsed time: 11 msec(s). 
```

我正在使用的 testCF 只有一个键和值，并且超时异常是一致的。我使用的复制因子为 1，但所有三个节点似乎都已启动并同步。

似乎这是从 1.2.1/2 到 1.0.9 的最简单升级，但仍然无法使用范围（？）扫描。从 cql 客户端使用 select * 查询时会发生同样的错误。我没有做任何特殊的测试，所以我猜这个问题应该发生在从 1.0.9 的任何升级中，并且很容易重现。

nodetool ring 显示所有节点都已启动（在所有节点上运行）：

```
-bash-4.1$ nodetool -h localhost ring

Datacenter: US
==========
Replicas: 1

Address Rack Status State Load Owns Token
113427455640312821154458202477256070485
33.33.33.2 RAC1 Up Normal 39.31 KB 33.33% 0
33.33.33.3 RAC1 Up Normal 63.39 KB 33.33% 56713727820156410577229101238628035242
33.33.33.4 RAC1 Up Normal 63.39 KB 33.33% 113427455640312821154458202477256070485 
```

一旦我在所有节点上完成升级，集群就会恢复正常。

这是为什么？不应该是这样吗？正确的？据我了解，Cassandra 应该能够支持这样的滚动升级，对吧？如果有人遇到这个问题，或者认为他知道问题可能是什么，请指教，或者。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-06-05T04:23:31.397

滚动升级是可能的，我一直都在这样做。您可能不应该跳过 2 个主要版本 1.0 - 1.2。我知道它被归类为点发布，但发生了很多变化。

您应该滚动升级到 1.1.X，然后在所有节点上运行 upgradesstables，然后在所有节点上进行修复。

然后滚动升级到 1.2.X，然后在所有节点上运行 upgradesstables，然后在所有节点上进行修复。

因此，支持滚动更新，但您应该以合理的方式进行以降低风险。您的 3 节点集群根本不需要很长时间。

# c - 将文本信息附加到文本文件的某个位置而不覆盖旧信息 (C)

> ID：15355117
> 
> 赞同：0
> 
> 时间：2013-03-12T06:54:49.917
> 
> 标签：c

所以我有一个看起来像这样的txt文件：

112 12.50 是 15

267 7.75 牛顿 20

382 15.50 N 45

提示用户在哪里插入新 ID。我的工作是让程序在不完全覆盖所有信息的情况下将新 ID 写入 .txt 文件。假设用户想在 267 之后插入新 ID。用户告诉我新 ID 是 123、12.34、N、12。.txt 文件必须如下所示：

112 12.50 是 15

267 7.75 牛顿 20

123 12.34 N 12

382 15.50 N 45

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-12T07:08:28.640

在标准 C 中，没有在文件中的某个位置插入新数据的功能。

纯 C 中仅有的两个选项是：

1.  创建一个临时文件，将旧文件的数据复制到插入点到临时文件，将新数据写入临时文件，将旧文件的其余数据复制到临时文件，将临时文件重命名为旧文件的姓名。
2.  弄清楚需要插入多少新数据，将插入点的所有数据移动（通过复制）该数量，在插入点写入新数据。

可能存在特定于操作系统的函数来在文件中的任意位置插入数据。但是，同样，不在 C 标准定义的标准 C 库中。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-12T06:57:29.770

您必须在文件中间添加信息而不覆盖旧数据的唯一选择是手动移动要添加到文件中的位置之后的所有数据。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-12T06:59:43.377

脚步：

1.  创建临时文件
2.  从源文件中读取每一行并写入临时文件，随时解析
3.  然后在找到要插入新行的 ID 后插入新行
4.  从源文件中写入所有剩余的行
5.  删除源文件
6.  将临时文件重命名为源文件的名称。
7.  庆祝！

# javascript - 如何在Javascript中以UTC获取上个月的值

> ID：15355118
> 
> 赞同：0
> 
> 时间：2013-03-12T06:54:51.703
> 
> 标签：javascript, jquery, flot, utc

我需要使用 jquery flot 插件在网页的图表上绘制基于时间的数据。它需要以UTC格式传递时间参数。获取当前日期非常简单，只需定义一个日期对象帮助即可。但我也想要从当前日期开始的最后六个月的 UTC 值如何在 JS 中得到它..？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T06:59:34.883

看看链接：[Jquery Date](https://github.com/1Marc/jquery-date)

# iphone - 如何从 Unity3d 加载 iPhone UIViewController？

> ID：15355120
> 
> 赞同：1
> 
> 时间：2013-03-12T06:55:19.567
> 
> 标签：iphone, xcode, uiview, unity3d

我正在开发一个游戏应用程序，我想为用户提供登录功能。所以我打算显示在 xCode 中开发的登录视图，但是当我的 unity3d 游戏运行时如何显示它。意味着如果用户单击 Unity3d 中的登录按钮，它应该显示来自 xCode 本机的 LoginView。

有谁能够帮助我？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T07:51:33.880

您必须使用插件来连接 Obj-C 和 Unity 的 C#。这是讨论插件的页面：http: [//docs.unity3d.com/Documentation/Manual/Plugins.html](http://docs.unity3d.com/Documentation/Manual/Plugins.html)

在底部，有一些链接可帮助您设置代码。

我相信这包含在 Unity iOS 中。否则，它需要 Unity Pro。

# angularjs - angularjs-带有ngInit的ngRepeat-ngRepeat不刷新渲染值

> ID：15355122
> 
> 赞同：24
> 
> 时间：2013-03-12T06:55:24.380
> 
> 标签：angularjs

我有使用 ngRepeater 显示的数组，但是使用此指令我正在使用 ngInit 指令，该指令执行应该返回要显示的对象的函数。一切正常，但是当我添加“新建”按钮时，我将新值添加到数组中，然后函数“SetPreview”仅在我认为应该根据数组值的数量执行时才执行。我怎样才能做到这一点？

用户界面：

```
<body ng-app>

  <ul ng-controller="PhoneListCtrl">
      <button ng-click="add()">Add</button>
    <li ng-repeat="phone in phones" ng-init="displayedQuestion=SetPreview(phone);">
      {{displayedQuestion.name}}
      <p>{{displayedQuestion.snippet}}</p>
    </li>
  </ul>
</body> 
```

控制器：

```
function PhoneListCtrl($scope) {
  $scope.phones = [
    {"name": "Nexus S",
     "snippet": "Fast just got faster with Nexus S."},
    {"name": "Motorola XOOM™ with Wi-Fi",
     "snippet": "The Next, Next Generation tablet."},
    {"name": "MOTOROLA XOOM™",
     "snippet": "The Next, Next Generation tablet."}
  ];

    $scope.add = function(){
        this.phones.push({name:'1', snippet:'n'});
    };        
    $scope.SetPreview = function(phone)
    {
        //here logic which can take object from diffrent location
        console.log(phone);
        return phone;
    };
} 
```

[示例在这里 - jsfiddle](http://jsfiddle.net/alepkowski/fG7yd/2/)

编辑：
[这里是更复杂的示例：](http://jsfiddle.net/alepkowski/fG7yd/13/) -> 现在电话集合是空的，当您单击添加按钮时，新项目被添加并设置为可编辑（您可以更改文本字段中的值）并且当执行 ngRender 时 SetPreview 函数返回可编辑对象（就像预览一样工作）。现在尝试再次单击添加按钮，您可以看到第一项的可编辑值仍然呈现给用户，但我想刷新整个 ng-repeater。

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2013-03-13T14:27:55.630

您正在运行 Angular 性能功能。

本质上，Angular 可以看到数组中的元素（例如“A”）是同一个对象引用，因此它不会再次调用 ng-init。这是有效的。即使您将旧列表连接到新列表中，Angular 也会看到它是相同的引用。

相反，如果您创建一个与旧对象具有相同值的新对象，则它具有不同的引用并且 Angular 会重新初始化它：执行您正在寻找的错误示例：http: [//jsfiddle.net/fqnKt/37/](http://jsfiddle.net/fqnKt/37/)

```
$scope.add = function(item) {
    var newItems = [];
    angular.forEach($scope.items, function(obj){
        this.push({val:obj.val});
    },newItems)

    newItems.push({val:item})
    $scope.items = newItems;
}; 
```

我不推荐小提琴中采用的方法，而是您应该找到与 ng-init 不同的方法来触发您的代码。

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2016-12-26T09:28:08.160

我发现您可以在隐藏块中替换`ng-init`为角度表达式：`{{}}`

```
<body ng-app>

<ul ng-controller="PhoneListCtrl">
    <button ng-click="add()">Add</button>
    <li ng-repeat="phone in phones">
      <span style="display: none">{{displayedQuestion=SetPreview(phone)}}</span>
      {{displayedQuestion.name}}
      <p>{{displayedQuestion.snippet}}</p>
    </li>
  </ul>
</body> 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2017-02-21T03:29:05.067

如果元素中有 ngInit，而后代中有 ngRepeat，则 ngInit 只会运行一次。

要解决此问题，请使用 ngInit 向元素添加 ngRepeat，其表达式重复一次并依赖于相同的数组（和其他依赖项）。

例如：

```
ng-repeat="_ in [ products ]" ng-init="total = 0" 
```

# php - 教义安装错误

> ID：15355125
> 
> 赞同：0
> 
> 时间：2013-03-12T06:55:27.590
> 
> 标签：php, doctrine-orm, pear

我已按照以下步骤在 linux 终端上安装 Doctrine，请帮助我，我哪里出错了？…………

```
 1\. sudo apt-get install php-pear////
 2\. pear channel-discover pear.doctrine-project.org////
3.pear install doctrine/DoctrineORM-2.3.2(Unknown remote channel: pear.symfony.com
Unknown remote channel: pear.symfony.com
Unknown remote channel: pear.symfony.com
doctrine/DoctrineORM requires package "channel://pear.symfony.com/Console" (version >= 2.0.0)
doctrine/DoctrineORM requires package "channel://pear.symfony.com/Yaml" (version >= 2.0.0)
doctrine/DoctrineDBAL requires package "channel://pear.symfony.com/Console" (version >= 2.0.0)
downloading DoctrineCommon-2.3.0.tgz ...
Starting to download DoctrineCommon-2.3.0.tgz (59,473 bytes)
..............done: 59,473 bytes
install ok: channel://pear.doctrine-project.org/DoctrineCommon-2.3.0)////************
4./tmp# cd DoctrineORM-2.3.2(bash: cd: DoctrineORM-2.3.2: No such file or directory)//// 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T07:25:15.447

你还需要发现 symfony 频道：

```
$ pear channel-discover pear.symfony.com 
```

# mdm - “Airwatch”、“Mobile Iron”等解决方案可以在移动模拟器中进行测试吗？

> ID：15355127
> 
> 赞同：0
> 
> 时间：2013-03-12T06:55:40.547
> 
> 标签：mdm

有几个市场参与者可用于 MDM。市场上最著名的两家公司是 AirWatch 和 Mobile Iron。

我的问题是，像 AirWatch 和 Mobile Iron 这样的解决方案可以在移动模拟器而不是真实设备中测试其预期行为吗？（即正确的安全实现）

**考虑的平台**

*   安卓
*   视窗电话

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2014-03-07T16:02:36.877

不，您不能在模拟器上使用这些 MDM。MDM 使用各种参数，如 UUID（唯一 ID）、deviceToken、iOS 证书签名等。这些参数无法提供给我的模拟器。

# java - 创建一个字符串的所有子字符串的数组

> ID：15355130
> 
> 赞同：-9
> 
> 时间：2013-03-12T06:55:48.920
> 
> 标签：java, arraylist

如何创建给定字符串的一个`List`或所有子字符串？`ArrayList`例如，如果我的输入是“test”，那么我需要一个数组 = {“t”、“e”、“s”、“t”、“te”、“es”、“st”、“tes”、 “est”，“测试”}。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T07:07:44.867

如果你想使用`ArrayList`它是动态的，你可以试试这个代码：

```
 String input = "test";
    String temp;
    List<String> list = new ArrayList<String>();
    for(int i=0;i<input.length();i++){
        for(int j=1;j<=(input.length()-i);j++){
            temp = input.substring(i,i+j);
            list.add(temp);

        }
    }
    for (String string : list) {
        System.out.println(string);
    } 
```

如果你仍然想使用 String 数组，你可以这样做：

```
String input = "test";
        String temp;
        String[] list = new String[10];
        int k=0;
        for(int i=0;i<input.length();i++){
            for(int j=1;j<=(input.length()-i);j++){
                temp = input.substring(i,i+j);
                list[k++]=temp;

            }
        }
        for (String string : list) {
            System.out.println(string);
        } 
```

**注意：使用 ArrayList 比使用数组更好，因为 ArrayList 是动态的。**

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-12T07:09:17.623

这类似于在给定数字“N”的情况下生成排列。所以先找到字符串的长度，然后迭代生成子字符串

像这样的东西-

```
Algorithm-
for i=0 to string.length
   for j=1 to string.length-i
       //Generate substrings here 
```

正如其他人所建议的那样，尝试解决问题，然后提出您的疑问！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-12T11:52:08.530

这是针对您的问题的简单解决方案。

```
import java.util.ArrayList;

public class Substrings {
    public static void main(String []args) {
        ArrayList<String> substrings = Substrings.generateSubstrings("test");
        for(String s : substrings)
            System.out.println(s);

    }

    public static ArrayList<String> generateSubstrings(String str) {
        //The total number of substrings of given string
        int substringsCount = str.length() * (str.length() + 1) / 2;

        ArrayList<String> substrings = new ArrayList<String>(substringsCount);

        //generating all the substrings.
        for(int i = 0;i < str.length();i++)
            for(int j = i+1;j <= str.length();j++)
                substrings.add(str.substring(i,j));

        return substrings;
    }
} 
```

# linux - 搜索 2 个文件并输出公共文件并打印额外的一行 unix 脚本

> ID：15355133
> 
> 赞同：1
> 
> 时间：2013-03-12T06:56:02.647
> 
> 标签：linux, unix, scripting, awk

我有这个代码，但它给了我一个错误

```
awk '
    FNR == NR {
     # reading get_ids_only.txt
     values[$1] = ""
     next
    }
BEGIN {
  # reading default.txt
  for (elem in values){
    if ($0 ~ elem){
      if (values[elem] == ""){
        values[elem] = "\"" $0 "\""
        getline;  
        values[elem] = "\n"" $0 ""\n"
        }
      else{
        values[elem] = values[elem] ", \"" $0 "\""
         getline; 
         values[elem] = values[elem] "\n"" $0 ""\n"
         }
    }
 }
END {
  for (elem in values)
    print elem " [" values[elem] "]"
    }
' get_ids_only.txt default.txt 
```

错误说

```
awk: syntax error at source line 23
 context is
    >>>  END <<<  {
awk: illegal statement at source line 24
awk: illegal statement at source line 24
    missing } 
```

这是我的 END{ } 函数开始的地方......

我想做的是..比较文件1中的字符串..如果在文件2中找到字符串，打印字符串并打印它后面的行。然后跳过一个空格。

输入1：

```
 message id "hello"
 message id "good bye"
 message id "what is cookin" 
```

输入2：

```
 message id "hello"
 message value "greetings"

 message id "good bye"
 message value "limiting"

 message id "what is there"
 message value "looking for me"

 message id "what is cooking"
 message value "breakfast plate" 
```

输出：

```
 should print out all the input1, grabbing the message value from input 2. 
```

谁能指导我为什么会发生此错误？

我在我的mac上使用终端。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T07:13:01.010

这是`BEGIN`带有推荐缩进和注释的块，你能看到问题吗？

```
BEGIN {
  # reading default.txt
  for (elem in values){
    if ($0 ~ elem){
      if (values[elem] == ""){
        values[elem] = "\"" $0 "\""
        getline;  
        values[elem] = "\n"" $0 ""\n"
      }
      else{
        values[elem] = values[elem] ", \"" $0 "\""
        getline; 
        values[elem] = values[elem] "\n"" $0 ""\n"
      } # End inner if
    } # End outer if
  } # End for loop 
```

你缺少一个右括号。请注意，在与 , 的最终连接中`$0`，`$0`实际上是引用了。

这还有其他一些问题，我不确定您要做什么，但这似乎是一种非常奇怪的方法。通常，如果您发现自己过度使用`getline`，您应该考虑将代码分散到具有适当条件的单独块中。有关更多信息的误用，请参阅[这篇文章](http://awk.info/?tip/getline)`getline`。

### 一个更奇怪的方法来解决它

如果我理解正确，这就是我解决此任务的方式：

*提取.awk*

```
FNR==NR  { id[$0]; next }  # Collect id lines in the `id' array
$0 in id { f=1 }           # Use the `f' as a printing flag 
f                          # Print when `f' is 1
NF==0    { f=0 }           # Stop printing after an empty line 
```

像这样运行它：

```
awk -f extract.awk input1 input2 
```

输出：

```
message id "hello"
message value "greetings"

message id "good bye"
message value "limiting" 
```

# c# - 转换为字符串时删除无关紧要的小数位（C#）

> ID：15355134
> 
> 赞同：1
> 
> 时间：2013-03-12T06:56:03.627
> 
> 标签：c#, type-conversion

我有一个具有十进制数据类型的属性，比如说“Interest”，然后我有另一个字符串类型的属性，比如说“InterestString”。

**特性**

```
 public decimal Interest { get; set; }
 public string InterestString { get; set; } 
```

我想将 Interest 的值分配给 InterestString 所以我做了以下事情。例如，假设 Interest 的值为 4（没有小数位）：

```
InterestString = Interest.ToString(); 
```

如果转换完成，我的`InterestString`变为“4.000”，但我的 Interest 值只有 4 而没有 .0000。

即使在转换后，我也想保留格式。我怎样才能摆脱那些微不足道的小数位？

如果我做这样的事情

```
InterestString = Interest.ToString("N0"); 
```

它会给我 InterestString="4"; `But what if I have Interest 4.5? This will give me`InterestString = "5"`（四舍五入为十）。

如果我这样做`Interest.ToString("N2")`，我仍然会得到 2 个微不足道的小数位。我想要的行为是删除无关紧要的小数位。

请帮忙。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-12T07:00:47.127

我不认为`System.Decimal`有一个`Normalize`方法，这基本上是你想要的。*如果您知道最多*需要多少个小数位，则可以使用：

```
string x = Interest.ToString("0.######"); 
```

有尽可能多的 # 符号，只要你感兴趣。只填写有效数字：

```
using System;

class Test
{
    static void Main()
    {
        ShowInterest(4m);    // 4
        ShowInterest(4.0m);  // 4
        ShowInterest(4.00m); // 4
        ShowInterest(4.1m);  // 4.1
        ShowInterest(4.10m); // 4.10
        ShowInterest(4.12m); // 4.12
    }

    static void ShowInterest(decimal interest)
    {
        Console.WriteLine(interest.ToString("0.#####"));
    }
} 
```

# c# - jquery 导致 asp.net 按钮无法单击

> ID：15355136
> 
> 赞同：1
> 
> 时间：2013-03-12T06:56:43.767
> 
> 标签：c#, javascript, jquery, asp.net, .net

我无法让按钮触发的 OnClick 方法

按钮：

```
<asp:Button ID="postButton" runat="server" 
   Text="Create Thread" OnClick="postButton_Click" /> 
```

**编辑：postButton_Click 是（服务器端）C# 后面的代码**

经过一番试验和错误后，我发现当删除以下行时按钮会触发：

```
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"  
   type="text/javascript"></script> 
```

脚本按以下顺序加载：

```
<link href="../ajax/jquery-ui-1.8.2.custom.css" 
   rel="stylesheet" type="text/css" />
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js" 
   type="text/javascript"></script>
<script src="../ajax/jquery-ui-1.8.2.custom.min.js" 
   type="text/javascript"></script> 
```

更改 jQuery 版本没有帮助。

我在另一个页面上有完全相同的代码，它工作正常。为什么会发生，我该如何解决？

**编辑：代码隐藏（此方法中设置的断点无法触发）**

```
protected void postButton_Click(object sender, EventArgs e)
{
    Response.Redirect("test.aspx");
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-12T08:26:11.507

好的，所以我终于找到了解决此问题的方法

ASP 按钮位于 JQuery UI 对话框中的原因。当您使用 JQuery UI 的 Dialog 插件将 div 作为对话框显示时，它通常会将 div 从表单中拉出以执行此操作，然后 ASP.Net 元素不起作用。

**有效的解决方案：** [https ://stackoverflow.com/a/7673768/1753000](https://stackoverflow.com/a/7673768/1753000)

# python - “导入小数”引发错误

> ID：15355142
> 
> 赞同：4
> 
> 时间：2013-03-12T06:57:35.257
> 
> 标签：python, module, decimal, pypdf

这是我正在使用的代码

```
import os
import decimal
from pyPdf import PdfFileReader
path = r"E:\python\Real Python\Real Python\Course materials\Chapter 8\Practice files"
inputFileName = os.path.join(path,"Pride and Prejudice.pdf")
inputFile = PdfFileReader(file(inputFileName,"rb"))

print "Number of pages:", inputFile.getNumPages()
print "Title:", inputFile.getDocumentInfo().title 
```

现在，当我运行此代码时，出现错误：模块“对象”没有属性“数字”

我截取了运行上述代码时得到的整个输出的屏幕截图，其中包含错误和所有内容。所以，请看一下，让我知道出了什么问题？

![在此处输入图像描述](../Images/228f401b5e4d990d671860d12ca8483a.png)

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-03-12T07:08:49.823

这是所有不能被 3 整除的不超过 50 的数字的打印输出。它可能位于遮蔽标准库的`numbers`模块中。看看它在哪里：`sys.path``numbers`

```
import numbers
print numbers.__file__ 
```

# iphone - UIWebview 适合屏幕但不能放大 iphone 编程

> ID：15355143
> 
> 赞同：1
> 
> 时间：2013-03-12T06:57:35.233
> 
> 标签：iphone, ios, objective-c

我正在研究 uiwebview，它应该加载来自服务器的动态 url。我想在我的 iPhone 应用程序中显示它适合 iPhone 屏幕尺寸，并且它应该放大和缩小。

我使用的代码是：

```
m_pView = [[UIView alloc] initWithFrame:CGRectMake(0, 0, 320, 430)];
    m_pView.backgroundColor = [UIColor blackColor];
    self.view = m_pView;

UIWebView *aWebView = [[[UIWebView alloc] initWithFrame:CGRectMake(0, 1, 320, 400)] autorelease];
    aWebView.dataDetectorTypes = UIDataDetectorTypeNone;
    aWebView.delegate = self;
    NSString* url = [NSString stringWithFormat: @"http://%@",[m_URL stringByAddingPercentEscapesUsingEncoding:NSUTF8StringEncoding]];
    aWebView.scalesPageToFit = YES;
    aWebView.autoresizesSubviews = YES;
    aWebView.frame = self.view.bounds;

    NSURL *aURL = [NSURL URLWithString: url];
    NSURLRequest *aRequest = [NSURLRequest requestWithURL:aURL];
    //load the index.html file into the web view.
    [aWebView loadRequest:aRequest];
    [m_pView addSubview:aWebView];
    self.m_webView = aWebView; 
```

请让我知道如何在不丢失放大/缩小功能的情况下实现适合 iphone 屏幕尺寸的 webview。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T07:00:31.127

使用以下代码

```
 yourWEbView.autoresizingMask = UIViewAutoresizingFlexibleWidth | UIViewAutoresizingFlexibleHeight;
    yourWEbView.contentMode = UIViewContentModeScaleAspectFit; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T19:12:43.227

问题可能出在这一行：aWebView.frame = self.view.bounds;

为什么在将 webview 添加到 m_pView 时设置 self.view 的边界？

# c++ - OpenCV 矩阵创建

> ID：15355146
> 
> 赞同：1
> 
> 时间：2013-03-12T06:57:42.297
> 
> 标签：c++, opencv

我在 Visual Studio 2008 中使用 OpenCV 2.1。我一直在尝试创建一个矩阵，并且尝试了命令`cvCreateMat()`、`Mat.M`等`M.create`...但是这些命令都没有被编译。总是有一些错误，例如当我使用这个命令时：

```
M(2,2,CV_8UC3,Scalar(0,0,255)); 
```

我收到以下错误：

```
'Mat' : undeclared identifier 
```

另一次我使用了这个命令：

```
CvMat* mat = cvCreateMat( 5, 5,8UC1); 
```

错误是：

```
syntax error : 'bad suffix on number' 
```

谁能告诉我是什么问题...

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-12T08:31:40.947

在 C++ 中使用`cv::Mat`

`cv::Mat A;`

`A.create(3,3,CV_8UC1);`

或者

`using namespace cv;`

`Mat B(3,3,CV_8UC1);`

`cvMat`如果您在 C 中，请使用。

# ios - 更改 xcode 中的现有类名

> ID：15355155
> 
> 赞同：3
> 
> 时间：2013-03-12T06:58:32.400
> 
> 标签：ios, objective-c, xcode4.5, classname

我有 xcode 4.5，我想在我的项目中添加两个项目的文件。
但问题是 - 在这两个类中，两个类的名称都相同。
我从文件检查器更改了类前缀，但它正在更改新添加的文件的名称。
不是我现有的班级名称。

如何更改所有现有的类名或单个类名？

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2013-03-12T07:03:23.340

1.  在 .h/.m 文件中选择您的班级名称
2.  转到**编辑->重构->重命名**
3.  输入班级的新名称

# c++ - 是否可以在运行时更改 Qt 上的语言

> ID：15355156
> 
> 赞同：5
> 
> 时间：2013-03-12T06:58:37.460
> 
> 标签：c++, qt, blackberry-10

在我的应用程序中，我需要国际化。假设我已经为不同的语言创建了几个 .ts 文件，例如德语、法语等 - 以及翻译的短语。

现在，假设用户想在运行时更改语言。使用Qt方法不可能吗？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2018-02-10T09:03:18.630

Qt 5.10 中引入的函数 QQmlEngine::retranslate 只是重新评估所有属性绑定。这包括在右侧调用 qsTr() 的所有绑定。

```
void Settings::switchToLanguage(const QString &language)
{
    if (!m_translator.isEmpty())
        QCoreApplication::removeTranslator(&m_translator);
    m_translator.load(QStringLiteral(":/language_") + language));
    QCoreApplication::installTranslator(&m_translator));
    m_engine->retranslate();
} 
```

For more detail you can check [this post](http://www.embeddeduse.com/2017/11/12/new-in-qt-5-10-dynamic-language-change-in-qml/) too.

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-13T19:40:40.673

您的应用程序中应该有一个 LocaleHandler 对象并监听 systemLanguageChanged() 信号。

只要用户通过设置菜单更改语言，就会调用此信号。

发生这种情况时，您应该使用以下代码将已安装的字典更新为新字典：

```
void MyAppSettings::updateLanguage() {
    QString translations = QString("MyApp%1.qm").arg(QLocale().name());
    Application::instance()->removeTranslator(&mTranslator);
    if (mTranslator.load(translations, "app/native/qm")) {
        qDebug() << "LOAD FINISHED";
        Application::instance()->installTranslator(&mTranslator);
    } else {
        qDebug() << "COULD NOT INSTALL TRANSLATIONS " << translations;
    }
} 
```

这将删除当前字典并将其替换为所选系统语言的新字典。

不幸的是，这还不够，因为它不会更新您为应用程序拥有的任何现有屏幕。要更新 QML 中的现有字符串，您应该将 Retranslate.onLanguageChanged 添加到已翻译的字符串中。

前任：

```
Label {
    text: qsTrId("header1")  + Retranslate.onLanguageChanged
} 
```

每次翻译器更改时，这将更新上述 lavel 的字符串。更多信息请参见：[http :](http://developer.blackberry.com/cascades/reference/bb__cascades__qmlretranslate.html) [//developer.blackberry.com/cascades/reference/bb_ *cascades_qmlretranslate.html*](http://developer.blackberry.com/cascades/reference/bb__cascades__qmlretranslate.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-12T08:34:05.557

您将需要使用[LocaleHandler](http://developer.blackberry.com/cascades/reference/bb__cascades__localehandler.html)并监听`onLanguageChanged`信号。收到后，重新翻译文本，例如`myLabel->setText(tr("My label"))`。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-12T14:26:55.107

可以使用 [QCoreApplication::installTranslator](http://qt-project.org/doc/qt-4.8/qcoreapplication.html#installTranslator)

# php - 如何判断2个文件的区别

> ID：15355160
> 
> 赞同：-1
> 
> 时间：2013-03-12T06:59:07.197
> 
> 标签：php

这里有两个同名的php文件

```
a/hello.php,
b/hello.php 
```

如果 a/hello.php 与 b/hello.php 不同（由于某种原因我更新了 a/hello.php ，那么我需要将 b/hello.php 与 a/hello.php 同步），复制一个/hello.php 到 b/hello.php
但如何知道 a/hello.php 与 b/hello.php 不同？filemtime() 似乎不一样，即使它们确实相同。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T07:01:20.177

如果您使用记事本++编辑器，那么您可以使用比较插件来比较两个文件...每个编辑器都有这个功能，您可以使用它

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-12T07:02:16.623

您可以使用 file() 将这两个文件加载到数组中，然后对它们使用 array-diff()：

[http://php.net/manual/en/function.file.php](http://php.net/manual/en/function.file.php)

[http://us2.php.net/manual/en/function.array-diff.php](http://us2.php.net/manual/en/function.array-diff.php)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-12T07:10:16.097

Unix 程序`cmp`针对这类事情进行了优化。[https://en.wikipedia.org/wiki/Cmp_(Unix)](https://en.wikipedia.org/wiki/Cmp_(Unix))

我知道它会读取文件，直到找到第一个差异。这样它就不必读取整个文件。

如果您的程序可以访问 Unix 终端，我认为这将是最有效的解决方案。

# iphone - 如何在警报视图中隐藏关闭按钮和关闭操作以仅显示“打开应用程序”按钮

> ID：15355169
> 
> 赞同：3
> 
> 时间：2013-03-12T06:59:33.080
> 
> 标签：iphone, ios, objective-c, uilocalnotification, localnotification

我已经`UIlocalNotification`使用链接实现了方法

[使用 iOS 4 添加本地通知](http://useyourloaf.com/blog/2010/07/31/adding-local-notifications-with-ios-4.html)

在我的应用程序中，我的要求是

在通知警报中，我们只需要`"Show me"`默认打开应用程序的按钮，

我们需要在通知时强制用户打开应用程序，因此通知警报中不能有关闭按钮。

只有一个按钮也显示我必须打开应用程序

如何？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-12T07:08:09.717

如果您不想显示警报操作按钮，可以通过将`hasAction`属性设置为 来禁用它`NO`。
请注意，如果没有操作按钮，用户将无法从警报中启动应用程序。
（如果您根本不想看到警报，您应该设置`alertBody`为`nil`。）

**编辑：**

*   您不能删除取消按钮。
*   您只能选择删除操作按钮而不是取消按钮，并且由于它在实现文件中定义，`UILocalNotification`因此您不能覆盖它。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-12T07:13:16.883

您无法删除取消按钮。

还有几件事：

*   如果手机被锁定意味着用户看不到任何按钮（出现滑动按钮以执行您的`showme`功能）。
*   如果用户将通知设置更改为警报类型以外，用户甚至看不到`UIAlertView`.

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-12T07:10:47.607

确保您的视图符合 UIAlertViewDelegate 协议：

```
@interface YourViewController : UIViewController <UIAlertViewDelegate> 
```

当您希望显示警报时，请执行以下操作：

```
 UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@"Alert" message:@"Message" delegate:self cancelButtonTitle:@"Show me" otherButtonTitles:nil]; 
```

如果您想在单击按钮时执行某些操作，请实现此

```
- (void)alertView:(UIAlertView *)alertView didDismissWithButtonIndex:(NSInteger)buttonIndex;{
// the user clicked OK
if (buttonIndex == 0)
{
    //do something here...
}
} 
```

# c# - 使用 filedialog 保存时拒绝访问路径

> ID：15355171
> 
> 赞同：1
> 
> 时间：2013-03-12T06:59:40.923
> 
> 标签：c#, xml, file-io, io

我有两种保存到文件的形式：

一。我将路径保留在代码中。

二。我从用户那里得到路径。

当我在代码中保存路径时，保存成功。今年秋天，当我从用户那里（与我在代码中保留的路径相同）获得以下错误时：

```
Access to the path is denied 
```

这是我的保存功能（两种方式都达到相同的功能）：

```
public void SaveFile(string path)
{
    try
    {
        XmlSerializer serializer = new XmlSerializer(typeof(List<MyClass>));
        TextWriter textWriter = new StreamWriter(path);
        serializer.Serialize(textWriter, MyList);
        textWriter.Close();
    }
    catch (Exception e)
    {
    }
} 
```

从用户我发送到这个函数如下：

```
public void UserSave()
{
    //Open dialog in the path that i have in the code:
    fileDialog.InitialDirectory = MyPath;
    if (fileDialog.ShowDialog() == DialogResult.OK)
    {
        SaveFile(Path.GetDirectoryName(fileDialog.FileName));
    }
} 
```

可能是什么问题呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T07:35:54.937

我在以下行中发现了错误：

```
SaveFile(Path.GetDirectoryName(fileDialog.FileName)); 
```

它基本上将其保存为**文件夹**而不是**文件**，所以它倒下了。

我把它改成这样：

```
SaveFile(fileDialog.FileName); 
```

# objective-c - 没有使用 MKMapVIew 获得正确的地图

> ID：15355192
> 
> 赞同：0
> 
> 时间：2013-03-12T07:00:39.240
> 
> 标签：objective-c, mkmapview

我使用**MKMapView**创建了一个地图视图。一切正常，但我得到的地图和我应该得​​到的地图有所不同。在我看来，地图即将到来，但我猜不正确。请看看区别，让我知道是什么问题。谢谢这是我的**ViewController.m**

```
#import "ViewController.h"
@interface ViewController ()
@end
@implementation ViewController

- (void)viewDidLoad
{
[super viewDidLoad];
mapView=[[MKMapView alloc]initWithFrame:CGRectMake(0, 0, 320, 400)];
mapView.delegate=self;
[mapView setMapType:MKMapTypeStandard];
[mapView setZoomEnabled:YES];
[mapView setScrollEnabled:YES];

MKCoordinateRegion region = { {0.0, 0.0},{0.0,0.0}};
region.center.latitude = 12.9667;
region.center.longitude = 77.5833;
region.span.longitudeDelta = 0.01f;
region.span.latitudeDelta = 0.01f;
[mapView setRegion:region animated:YES];
[self.view addSubview:mapView];

DisplayMap *annotation = [[DisplayMap alloc]init];
annotation.title = @" Bangalore";
annotation.subtitle = @"Silver Jublee Park";
annotation.coordinate = region.center;
[mapView addAnnotation:annotation];
}

-(MKAnnotationView *)mapView:(MKMapView *)mV viewForAnnotation:

(id <MKAnnotation>)annotation 
   {
 MKPinAnnotationView *pinView = nil;
 if(annotation != mapView.userLocation)

 {
      static NSString *defaultPinID = @"com.invasivecode.pin";
      pinView = (MKPinAnnotationView *)[mapView dequeueReusableAnnotationViewWithIdentifier:defaultPinID];
       if ( pinView == nil ) pinView = [[[MKPinAnnotationView alloc]
                                      initWithAnnotation:annotation reuseIdentifier:defaultPinID] autorelease];
    pinView.pinColor = MKPinAnnotationColorRed;
    pinView.canShowCallout = YES;
    pinView.animatesDrop = YES;
 }
    return pinView;
 }

- (void)didReceiveMemoryWarning
{
[super didReceiveMemoryWarning];
}
@end

@implementation DisplayMap
@synthesize coordinate,title,subtitle;
-(void)dealloc{
[title release];
[subtitle release];
[super dealloc];
}
@end 
```

**视图控制器.h**

```
#import <UIKit/UIKit.h>
#import <MapKit/MapKit.h>
@interface ViewController : UIViewController<MKMapViewDelegate> {
MKMapView *mapView;
}
@end

@class DisplayMap;
@interface DisplayMap : NSObject <MKAnnotation> {
CLLocationCoordinate2D coordinate;
NSString *title;
NSString *subtitle;
}
@property (nonatomic, assign) CLLocationCoordinate2D coordinate;
@property (nonatomic, copy) NSString *title;
@property (nonatomic, copy) NSString *subtitle;
@end 
```

我得到以下地图

![在此处输入图像描述](../Images/f0eeee83796f6f2ebcc28e1f5a9782cc.png)

我应该得到以下地图

![在此处输入图像描述](../Images/bcd3ff343b0db35ff2bf95b2a9468d49.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T22:21:06.273

当我将你使用的坐标输入谷歌地图时，我会去你所看到的同一个地方，而不是你认为你“应该”去的地方。你确认坐标了吗？你认为你应该去的花边的坐标是多少？

这是两个地方之间的路线[http://goo.gl/maps/TrM3q](http://goo.gl/maps/TrM3q)

根据 Goolge 的说法，您希望 iOS 应该距离您正在使用的坐标约 2000 公里，这不会发生。

# java - 在编写具有 Vector 属性的对象时获取 java.io.NotSerializableException

> ID：15355194
> 
> 赞同：0
> 
> 时间：2013-03-12T07:00:44.917
> 
> 标签：java, vector

我有一个类`State` 具有向量变量状态并在其设置器函数中设置状态向量列表

```
class State implement Serializable{  
    private Vector state;  
    //its getters and setters  
} 
```

在`class B`我`State`从会话中获取类，然后将其分配给同一个`State`对象，然后使用`writeObject`此类的方法。

```
class B {  
       State _state  = (State) session.getAttribute("_stateKey");  
       ByteArrayOutputStream baos = new ByteArrayOutputStream();  
       ObjectOutputStream oos = new ObjectOutputStream(baos);  
       oos.writeObject(_state); // at this line i am getting java.io.NotSerializableException
    } 
```

有人请帮我解决为什么我收到此错误...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-12T07:03:03.367

你的类应该实现`Serializable Interface`, 因为`Vector`确实实现了。所以问题出在你自己的`Class`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T10:57:13.077

谢谢你们。我解决了这个问题。我没有在一个类上实现可序列化接口，从那里我得到一个值，我把它放在列表中。感谢您的建议

# android - 列表视图背景当我触摸和滚动时变成白色但我想透明？

> ID：15355197
> 
> 赞同：0
> 
> 时间：2013-03-12T07:00:50.060
> 
> 标签：android, listview, background

当我在这里触摸列表视图时，我想透明背景触摸和滚动后为白色

![在此处输入图像描述](../Images/2bc89f6049b73de2d2817fea8fcd564c.png)

2 图像错误我想要第一个图像类型如何在列表视图中禁用触摸时的白色背景 ![在此处输入图像描述](../Images/0cc80988bb6b3d17947479e5f9246d99.png)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-12T07:09:03.537

在 ListView 中使用这些标签

```
android:cacheColorHint="#00000000"
 android:listSelector="#00000000" 
```

这应该适合你。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-12T07:03:28.487

用户这个。

```
android:divider="@android:color/transparent"
android:listSelector="@android:color/transparent" 
```

# android - Android 获取时间更新

> ID：15355203
> 
> 赞同：0
> 
> 时间：2013-03-12T07:01:11.223
> 
> 标签：android, timer

我想在 60 秒后定期调用特定的代码补丁，以获取应用程序中的更新数据。我想知道我应该将代码放在主要 Android 活动中的哪个位置。任何帮助将不胜感激谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T07:07:27.987

您可以使用Java包**`Timer`**的 Class 。`util`它将允许您定期再次执行特定代码。查看每 5 秒执行一次的[示例。](http://www.java2s.com/Code/Java/Development-Class/UsejavautilTimertoscheduleatasktoexecuteonce5secondshavepassed.htm)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T07:37:31.330

```
import android.os.Handler;

public class ExecuteEveryMinuteExample {
    private static final int DELAY_IN_MILLIS = 60000;

    private final Handler handler;
    private final Runnable task;

    public ExecuteEveryMinuteExample(Handler handler, Runnable runnable) {
        this.handler = handler;
        this.task = new Task(runnable);
    }

    public void start() {
        handler.postDelayed(task, DELAY_IN_MILLIS);
    }

    public void stop() {
       handler.removeCallbacks(task);
    }

    private class Task implements Runnable {
        private Runnable task;

        private Task(Runnable runnable) {
            this.task = runnable;
        }

        @Override
        public void run() {
            task.run();
            start();
        }
    }
} 
```

这个“计时器”与 Activity 生命周期相关联，记得`Activity#onDestroy`在`Activity#onPause`. 还可以查看[Timer](http://developer.android.com/reference/java/util/Timer.html)、[ScheduledThreadPoolExecutor](http://developer.android.com/reference/java/util/concurrent/ScheduledThreadPoolExecutor.html)和[TimerTask](http://developer.android.com/reference/java/util/TimerTask.html)，它们可能更适合您的需求。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-12T07:43:02.547

在android中使用服务和广播接收器。

```
// Restart service every 30 seconds
  private static final long REPEAT_TIME = 1000 * 30;

  @Override
  public void onReceive(Context context, Intent intent) {
    AlarmManager service = (AlarmManager) context
        .getSystemService(Context.ALARM_SERVICE);
    Intent i = new Intent(context, MyStartServiceReceiver.class);
    PendingIntent pending = PendingIntent.getBroadcast(context, 0, i,
        PendingIntent.FLAG_CANCEL_CURRENT);
    Calendar cal = Calendar.getInstance();
    // Start 30 seconds after boot completed
    cal.add(Calendar.SECOND, 30);
    //
    // Fetch every 30 seconds
    // InexactRepeating allows Android to optimize the energy consumption
    service.setInexactRepeating(AlarmManager.RTC_WAKEUP,
        cal.getTimeInMillis(), REPEAT_TIME, pending); 
```

请参阅此网站以获取更多信息。

> [http://www.vogella.com/articles/AndroidServices/article.html](http://www.vogella.com/articles/AndroidServices/article.html)

# facebook - 应用程序未在画布中进行身份验证

> ID：15355208
> 
> 赞同：1
> 
> 时间：2013-03-12T07:01:43.370
> 
> 标签：facebook, sinatra

我的 facebook 应用程序将用户重定向到一个页面，当他们访问网站 ( [http://toolshed.herokuapp.com/](http://toolshed.herokuapp.com/) ) 时，他们会正确地提供应用程序窗口，但当他们访问 Facebook 中的画布页面 ( [https://apps. facebook.com/toolshed/](https://apps.facebook.com/toolshed/)）。一旦用户授予了应用程序的权限，这两个地方都可以正常工作。这里的主要问题是，当用户首先访问 Facebook 上的页面时，他们看到的只是一个空白页面。有任何想法吗？该代码可以在[https://github.com/runninggraeb/toolshed](https://github.com/runninggraeb/toolshed)找到，但我怀疑这是一个编码问题。任何帮助，将不胜感激。

瑞安

答：为了向未来的观众澄清，我确实在应用程序内重定向到此页面进行身份验证。“top.window.location”让我脱离了 iFrame。

```
<!DOCTYPE html >
<html xmlns:fb="http://ogp.me/ns/fb#" lang="en">
  <script>
    window.top.location = '<%= authenticator.url_for_oauth_code %>'
  </script>
</html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T08:23:21.320

您不能在任何类型的框架中显示 Auth 对话框。（正如这里已经说过很多次了……）

您必须在最顶层的窗口实例中重定向到它。

# vectorization - 英特尔至强融核中的排列

> ID：15355212
> 
> 赞同：1
> 
> 时间：2013-03-12T07:01:58.103
> 
> 标签：vectorization, sse, matrix-multiplication, avx, intel-mic

假设我在 Xeon Phi 寄存器中有以下 4 个双精度向量：

```
A-> |a8|a7|a6|a5|a4|a3|a2|a1|
B-> |b8|b7|b6|b5|b4|b3|b2|b1|
C-> |c8|c7|c6|c5|c4|c3|c2|c1|
D-> |d8|d7|d6|d5|d4|d3|d2|d1| 
```

我想将它们排列成以下内容：

```
A_new ->|d2|d1|c2|c1|b2|b1|a2|a1|
B_new ->|d4|d3|c4|c3|b4|b3|a4|a3|
C_new ->|d6|d5|c6|c5|b6|b5|a6|a5|
D_new ->|d8|d7|c8|c7|b8|b7|a8|a7| 
```

目标是获得：

```
O = _mm512_add_pd(_mm512_add_pd(A_new,B_new),_mm512_add_pd(C_new,D_new)); 
```

如何以最少的指令/周期数实现上述目标？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-14T06:43:55.963

Evgueni Petrov 在英特尔论坛中回答：

```
__m512i a1 = (__m512i)_mm512_mask_blend_pd(0x33, B, _mm512_swizzle_pd(A, _MM_SWIZ_REG_BADC));
__m512i a0 = (__m512i)_mm512_mask_blend_pd(0xcc, A, _mm512_swizzle_pd(B, _MM_SWIZ_REG_BADC));
__m512i a3 = (__m512i)_mm512_mask_blend_pd(0x33, D, _mm512_swizzle_pd(C, _MM_SWIZ_REG_BADC));
__m512i a2 = (__m512i)_mm512_mask_blend_pd(0xcc, C, _mm512_swizzle_pd(D, _MM_SWIZ_REG_BADC));

__m512d C_new = (__m512d)_mm512_mask_alignr_epi32(a2, 0x00ff, a0, a0, 8);
__m512d A_new = (__m512d)_mm512_mask_alignr_epi32(a0, 0xff00, a2, a2, 8);
__m512d D_new = (__m512d)_mm512_mask_alignr_epi32(a3, 0x00ff, a1, a1, 8);
__m512d B_new = (__m512d)_mm512_mask_alignr_epi32(a1, 0xff00, a3, a3, 8); 
```

在撰写本文时，英特尔 C++ 用户指南中未提及 _mm512_mask_blend_pd() 内在函数，但应尽快更正。它存在于“zmmintrin.h”头文件中。

# ios6 - 修改常量后布局不变

> ID：15355216
> 
> 赞同：1
> 
> 时间：2013-03-12T07:02:20.850
> 
> 标签：ios6, autolayout

我`UIView`的`UIViewController`. 我使用 Editor -> Pin -> Width/Height 设置宽度和高度。我还创建`IBOutlet`了这些约束以编程方式更改宽度和高度。我写代码

在 .h 文件中

```
@property (strong, nonatomic) IBOutlet NSLayoutConstraint *viewWidth;
@property (strong, nonatomic) IBOutlet NSLayoutConstraint *viewHeight; 
```

在 .m 文件中

```
self.viewWidth.constant = 480;
self.viewHeight.constant = 644; 
```

但它仍然没有改变视图的宽度和高度。我错过了什么吗？提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-14T02:39:16.837

更新常量后，您需要调用`-layoutIfNeeded`or `-setNeedsUpdateConstraints`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-03-14T15:57:53.037

这是一种无需 IBOutlet 以编程方式更新约束常量的解决方案。

[隐藏自动布局 UIView：如何让现有的 NSLayoutConstraint 更新这个](https://stackoverflow.com/questions/22384927/hide-autolayout-uiview-how-to-get-existing-nslayoutconstraint-to-update-this-o)

# android - 如何在安卓应用中进行paypal批量支付

> ID：15355221
> 
> 赞同：2
> 
> 时间：2013-03-12T07:03:25.050
> 
> 标签：android, paypal, payment-gateway, paypal-sandbox

我正在制作 android 应用程序，我必须在其中集成 paypal 集成。但要求是我必须**使用 paypal 进行大规模支付，即一次有多个收件人**。我已经完成了这个[paypal_mpl](https://www.x.com/sites/default/files/pp_mpl_developer_guide_and_reference_android.pdf)和[paypal_mecl](https://www.x.com/sites/default/files/pp_mecl_developer_guide_and_reference_android.pdf)。

[这个博客](http://mukeshyadav4u.blogspot.in/2012/09/paypal-integration-in-android.html)对**并行支付**给出了明确的想法。

现在我的问题是，这是必须进行大规模付款的唯一方式，还是我可以在 android 中以其他方式进行？请指教

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T19:30:50.850

不幸的是，没有直接从 Android 应用程序进行 MassPay 的解决方案。您需要编写一个服务器端组件来使用 PayPal 的 MassPay API。您可以在此处了解有关 MassPay 的更多信息：[https ://www.x.com/developers/paypal/products/mass-pay](https://www.x.com/developers/paypal/products/mass-pay)

# python - 如何使用 python 处理 CSV 列中的右双引号？

> ID：15355223
> 
> 赞同：-1
> 
> 时间：2013-03-12T07:03:33.253
> 
> 标签：python, parsing, csv

这是python脚本：

```
f = open('csvdata.csv','rb')
fo = open('out6.csv','wb')

for line in f:
    bits = line.split(',')
    bits[1] = '"input"'
    fo.write( ','.join(bits) )

f.close()
fo.close() 
```

我有一个 CSV 文件，我将第二列的内容替换为字符串“input”。但是，我需要先从该列内容中获取一些信息。

内容可能如下所示：

```
failurelog_wl","inputfile/source/XXXXXXXX"; "**X_CORD2**"; "Invoice_2M";
"**Y_CORD42**"; "SIZE_ID37"" 
```

如您所见，它具有奇怪的数据类型，尤其是它在行尾有 2 个双引号，而不是您期望的只有一个。

在替换列值之前，我需要提取`XCORD`and`YCORD`信息，例如`XCORD = 2`and 。`YCORD = 42`然后我想插入一个额外的列，名为`X_Y`，它表示`(2_42)`。

我怎样才能修改我的脚本来做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T09:15:05.440

如果我正确理解你的问题，你可以使用一个简单的正则表达式来提取你想要的数字：

```
import re

f = open('csvdata.csv','rb')
fo = open('out6.csv','wb')

for line in f:
    bits = line.split(',')

    x_y_matches = re.match('.*X_CORD(\d+).*Y_CORD(\d+).*', bits[1])
    assert x_y_matches is not None, 'Line had unexpected format: {0}'.format(bits[1])
    x_y = '({0}_{1})'.format(x_y_matches.group(1), x_y_matches.group(2))

    bits[1] = '"input"'
    bits.append(x_y)

    fo.write( ','.join(bits) )

f.close()
fo.close() 
```

请注意，这仅在第 2 列总是在数字之前显示“X_CORD”和“Y_CORD”时才有效。如果有时格式略有不同，则需要调整正则表达式以允许这样做。如果发生这种情况，我添加了断言以提供更有用的错误消息。

您提到希望将列命名为 X_Y。您的脚本似乎假设没有标题，而我的修改版本肯定做出了这个假设。同样，如果有标题行，您需要对此进行调整。

而且，是的，我同意其他评论者的观点，即使用 csv 模块通常会更干净，用于读取和写入 csv 文件。

# django - 表单预览 Django

> ID：15355226
> 
> 赞同：2
> 
> 时间：2013-03-12T07:03:36.943
> 
> 标签：django, django-models, django-templates, django-views, preview

我正在尝试使用 django 的 FormPreview 但无法使其正常工作。这是我的代码：

模型.py

```
class jobpost(models.Model):
    CONTENT_CHANNELS = (
        ('Full Time','Full Time'),
        ('Part Time','Part Time'),
        ('Contract','Contract'),
    )
    user = models.ForeignKey(User)
    job_id =             models.AutoField(primary_key=True)
    #user = models.ForeignKey(User, editable = False)
    job_type =        models.CharField(max_length=255,null=True, choices=CONTENT_CHANNELS,default='Full Time')
    job_location =    models.CharField(max_length=255,null=True)
    job_title =             models.CharField(max_length=255,null=True)
    job_description =       models.TextField(null=True)

    def __unicode__(self):
        #return self.user
        return self.job_location
        return self.job_type
        return self.job_title
        return self.job_description

admin.site.register(jobpost)

class jobpostForm(ModelForm):
    class Meta:
        model = jobpost
        fields = ('user','job_type','job_location','job_title','job_description')

    widgets = {
        'job_type':RadioSelect(),    
        'job_location':TextInput(attrs={'size':'70'}),   
        'job_description':Textarea(attrs={'cols':200, 'rows':10}),

    }

    def __init__(self, *args, **kwargs):
        self.helper = FormHelper()
        self.helper.form_class = 'horizontal-form'
        self.helper.form_id = 'id-jobpostform'
        self.helper.form_class = 'blueForms'
        self.helper.form_method = 'post'
             #self.helper.form_action = '/'

        self.helper.add_input(Submit('submit_addcontent', 'Submit'))
        super(jobpostForm, self).__init__(*args, **kwargs) 
```

视图.py

```
def main_page(request):
    """
    If users are authenticated, direct them to the main page. Otherwise, take
    them to the login page.
    """
    if request.method == 'POST':
            form = jobpostForm(request.POST)
            if form.is_valid():
                    form.save()

                    return HttpResponseRedirect('/thanks/')
    else:
            form = jobpostForm()

    c = {}
    c.update(csrf(request))

   return render_to_response('portal/job_post.html',{'form':form},context_instance=RequestContext(request)) 
```

预览.py

```
class SomeModelFormPreview(FormPreview):
    form_template = 'portal/job_post.html'
    preview_template = 'portal/preview.html'

    def done(self, request, cleaned_data):
        f = self.form(request.POST)
        f.save()

        pdb.set_trace()
        print "done"
        # Do something with the cleaned_data, then redirect
        # to a "success" page.
        return HttpResponseRedirect('/form/success') 
```

job_post.html

```
<form action = "" method = "POST" enctype="multipart/form-data" class="blueForms" id="id-jobpostform">

{% csrf_token %}

{% crispy form %}

<input name="submit" type="submit" value="Post" > 
```

网址.py

(r'^$', main_page), (r'^post/$', SomeModelFormPreview(jobpostForm)),

当我提交表单时，它会转到 / 主页并提交信息。我想先查看表格然后提交..请告诉我我错过了什么或做错了什么。

# sitecore - 跟踪 Sitecore 项目历史记录

> ID：15355227
> 
> 赞同：4
> 
> 时间：2013-03-12T07:03:38.510
> 
> 标签：sitecore, sitecore6

Sitecore 使用上次更新者、创建者信息跟踪项目更改。是否可以针对更改它们的人跟踪对项目中“字段”所做的更改？并检索对项目字段所做的更改列表。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-12T08:37:53.157

您可以创建自定义处理程序并将其添加到`item:saving`Sitecore`events/event`配置中的事件：

```
<sitecore>
  <events>
    <event name="item:saving">
      <handler type="My.Assembly.Namespace.CreateHistoryEntryHandler, My.Assembly" method="OnItemSaving" />
    </event>
  </events>
</sitecore> 
```

下面的类将信息保存到**Workflow History Store**，因此您可以使用功能区中的**History**菜单查看它（参见屏幕截图），但您可以将其保存到任何其他位置

![Sitecore Workflow History Store - 项目字段的更改](../Images/3ad6d2aab3aa76c8566828bcb5828ae0.png)

```
namespace My.Assembly.Namespace
{
    public class CreateHistoryEntryHandler
    {
        protected void OnItemSaving(object sender, EventArgs args)
        {
            Item newItem = Event.ExtractParameter(args, 0) as Item;

            if (newItem == null || newItem.Database.DataManager.GetWorkflowInfo(newItem) == null)
            {
                return;
            }

            Item originalItem = newItem.Database.GetItem(newItem.ID, newItem.Language, newItem.Version);

            newItem.Fields.ReadAll();

            IEnumerable<string> fieldNames = newItem.Fields.Select(f => f.Name);

            IEnumerable<string> differences = fieldNames.Where(fieldName => newItem[fieldName] != originalItem[fieldName]).ToList();

            if (differences.Any())
            {
                string message = String.Format("Item content changed [{0}]", differences.Aggregate((s1, s2) => s1 + ", " + s2));
                AddHistoryEntry(newItem, message);
            }
        }

        public static void AddHistoryEntry(Item item, string text)
        {
            WorkflowProvider workflowProvider = (item.Database.WorkflowProvider as WorkflowProvider);
            if (workflowProvider != null && workflowProvider.HistoryStore != null)
            {
                string workflowState = GetWorkflowState(item);
                workflowProvider.HistoryStore.AddHistory(item, workflowState, workflowState, text);
            }
        }

        private static string GetWorkflowState(Item item)
        {
            WorkflowInfo info = item.Database.DataManager.GetWorkflowInfo(item);
            return (info != null) ? info.StateID : String.Empty;
        }
    }
} 
```

# objective-c - XMPPframework 将身份验证发送到服务器后，连接断开并出现错误“内部错误”代码=1 ErrorDomain=libxmlErrorDomain

> ID：15355228
> 
> 赞同：0
> 
> 时间：2013-03-12T07:03:43.247
> 
> 标签：objective-c, xml-parsing, libxml2, xmppframework

我正在使用 XMPPFramework 连接到本地网络上的 xmpp 服务器，它会连接，但是一旦它发送身份验证数据包并收到质询，它就会断开连接并出现错误：“内部错误”代码 = 1 ErrorDomain = libxmlErrorDomain。基本上它无法解析挑战：

```
2013-03-08 15:56:41.890 iPhoneXMPP[23710:13703] Data to be parsed <challenge xmlns="urn:ietf:params:xml:ns:xmpp-sasl">cmVhbG09ImluZm9zeXMuY29tIixub25jZT0ib05JYmxSU2hLQXUxWnorRUNGbmRJby83Snljdm5DLzNKQWV2SXB5UCIsY2hhcnNldD11dGYtOCxhbGdvcml0aG09bWQ1LXNlc3M=</challenge>
2013-03-08 15:56:41.891 iPhoneXMPP[23710:13703] Parser failed 
```

我该如何解决这个问题，这与我如何配置我的 xcode 以使用 libxml2 有关吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-13T08:19:24.530

每个数据包的末尾都有一个额外的字符，由于 SAX 解析器 libxml2 失败。将每个数据包修剪一个字符解决了这个问题。

# java - 切换帧时组合框显示为空？

> ID：15355229
> 
> 赞同：0
> 
> 时间：2013-03-12T07:04:10.933
> 
> 标签：java, swing, netbeans, arraylist, jcombobox

`Addstudent`具有 5 个组合框的框架具有填充不同数组的框。目前，当框架自行运行时，组合框很好；显示我要显示的数组的所有项目。

但是，当我从框架切换并返回到它时`e.g. (via button actions) AddStudent frame-> NewFrame -> AddStudent frame`，*组合框显示为空，并且没有加载任何数组。*

**按钮从“NewFrame”切换到“AddStudent”框架**

```
 private void btnAddActionPerformed(java.awt.event.ActionEvent evt) {                                       

        ComboboxFrame CF = new ComboboxFrame();
        CF.setVisible(true);
        setVisible(false);

    } 
```

**用于将数组加载到组合框中的“AddStudent”框架的编码**

```
public class AddStudent extends javax.swing.JFrame {

    /**
     * Creates new form AddStudent
     */
public AddStudent() 
{
    initComponents();
}

    List<String> sundayList;
    List<String> mondayList;
    List<String> tuesdayList;
    List<String> wednesdayList;
    List<String> thursdayList;

    private void loadLists() throws IOException
    {
        //Creating the array of Activities to put into the ComboBoxes
        File f = new File("Activities.dat");

        sundayList = new ArrayList<>();
        mondayList= new ArrayList<>();
        tuesdayList= new ArrayList<>();
        wednesdayList= new ArrayList<>();
        thursdayList= new ArrayList<>();

        try{
            BufferedReader reader = new BufferedReader(new FileReader(f));

            while(reader.ready())
            {
                String CDay = reader.readLine();                               
                String CActivityName = reader.readLine();
                String CSupervisor = reader.readLine();
                String CLocation = reader.readLine();
                String CPaid = reader.readLine();
                String nothing = reader.readLine();

                if(CDay.equals("Sunday"))
                {
                    sundayList.add(CActivityName);
                }
                else if(CDay.equals("Monday"))
                {
                    mondayList.add(CActivityName);
                }
                else if(CDay.equals("Tuesday"))
                {
                    tuesdayList.add(CActivityName);
                }
                else if(CDay.equals("Wednesday"))
                {
                    wednesdayList.add(CActivityName);
                }
                else if(CDay.equals("Thursday"))
                {
                    thursdayList.add(CActivityName);
                }                
            }
            sundayList.add("-");
            mondayList.add("-");
            tuesdayList.add("-");
            wednesdayList.add("-");
            thursdayList.add("-");
            reader.close();

        }
        catch (IOException ex) 
        {
            Logger.getLogger(StartUpFrame.class.getName()).log(Level.SEVERE, null, ex);
        } 
               comboboxSunday.setModel(new DefaultComboBoxModel<>(sundayList.toArray(new String[sundayList.size()])));
               comboboxMonday.setModel(new DefaultComboBoxModel<>(mondayList.toArray(new String[mondayList.size()])));
               comboboxTuesday.setModel(new DefaultComboBoxModel<>(tuesdayList.toArray(new String[tuesdayList.size()])));
               comboboxWednesday.setModel(new DefaultComboBoxModel<>(wednesdayList.toArray(new String[wednesdayList.size()])));
               comboboxThursday.setModel(new DefaultComboBoxModel<>(thursdayList.toArray(new String[thursdayList.size()])));
    }
...
...
...
    public static void main(String args[]) {

        /* Create and display the form */
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                try {
                    AddStudent addStudent = new AddStudent();
                    addStudent.loadLists();
                    addStudent.setVisible(true);                                   
                } catch (IOException ex) {
                    Logger.getLogger(AddStudent.class.getName()).log(Level.SEVERE, null, ex);
                }
            }
        });
    }

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T12:12:09.090

看来，当您单击按钮时，您正在创建一个新框架。新框架是否与原始框架共享元素（如组合框）？Java Swing 对哪些可以重用和哪些不能重用非常挑剔。作为基本准则，模型可以安全地重复使用，但 JComponents 应该独立存在（即您可以跨框架共享模型，但不能共享 JComponents 本身）。

# c++ - C++中的队列指针和动态分配

> ID：15355233
> 
> 赞同：0
> 
> 时间：2013-03-12T07:04:42.833
> 
> 标签：c++, queue, malloc

我有这部分代码：

```
struct IARM_DATA
{
    IARM_HANDLE handle;
    float position[6];  //May be joint or linear position
    float gripper_opening;
    IARM_LIFT_POSITION lift_position;
    bool foldIn;  //true if foldin and false if fold out
    bool openGripper;

    IARM_DATA(IARM_HANDLE _handle, bool _foldIn):handle(_handle),foldIn(_foldIn){}; 

    IARM_DATA(IARM_HANDLE _handle, IARM_LIFT_POSITION _lift_position):handle(_handle),
        lift_position(_lift_position){}; //handle, lift_position

    IARM_DATA(IARM_HANDLE _handle, volatile float _position[6], float _gripper_opening, IARM_LIFT_POSITION _lift_position):
    handle(_handle),gripper_opening(_gripper_opening), lift_position(_lift_position)
    {
        for(int i=0; i<6; i++)
            position[i] = _position[i];
    }; //handle, position, gripper_opening, lift_position

} ; 
```

`typedef IARM_RESULT (iArmDriver::*singleMvt)(IARM_DATA);` //这是 iArmDriver 方法的指针。

```
typedef struct {
    singleMvt mvt;
    IARM_DATA data;
} ONE_MVT; 
```

和这样的队列声明：

```
std::queue<ONE_MVT> *iarmActions; 
```

我的问题是，由于该队列，我遇到了执行问题，我是否应该进行这样的动态分配：

`iramActions = (std::queue<ONE_MVT> *)sife0f(std::queue<ONE_MVT> *);`??

提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-12T07:08:25.577

您不应该使用动态分配。只需在自动存储中创建队列：

```
std::queue<ONE_MVT> iarmActions; 
```

如果您真的需要动态分配（我对此表示怀疑），请使用[智能指针](http://en.wikipedia.org/wiki/Smart_pointer)。智能指针的确切类型取决于您的用例。此示例使用 a `unique_ptr`，这通常是默认选择：

```
std::unique_ptr<std::queue<ONE_MVT>> iarmActions(new std::queue<ONE_MVT>()); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T07:09:44.147

```
std::queue<ONE_MVT> *iarmActions; 
```

为什么要麻烦指向容器的指针？您可以只拥有容器 - 它将被默认构造为没有元素/大小为 0，但在填充它之前不会使用太多空间。

```
std::queue<ONE_MVT> iarmActions; 
```

# wordpress - 将 wordpress 插件和主题从一个域/服务器移动或复制到另一个

> ID：15355234
> 
> 赞同：0
> 
> 时间：2013-03-12T07:04:44.210
> 
> 标签：wordpress

有没有办法只将插件和主题从一个 wordpress 安装转移到另一个？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T03:24:44.833

You need to copy entire wp-content folder.

# css - 为什么我的 CSS3 动画在 Chrome 或 Safari 中不起作用？

> ID：15355235
> 
> 赞同：0
> 
> 时间：2013-03-12T07:04:44.800
> 
> 标签：css, translate-animation

我正在使用`translate`动画，但它在 Safari 或 Chrome 中不起作用。我究竟做错了什么？

这是我的代码，[以及它的 JSFiddle](http://jsfiddle.net/prologo/MLhYS/2/)：

### HTML

```
<div id="animate"></div> 
```

### CSS

```
#animate {
  position: absolute;
  top: 100px;
  left: 30px;
  width: 100px;
  height: 100px;
  border-radius: 10%;
  background: gray;
  -webkit-animation:move 6s ease infinite;
  -moz-animation:move 6s ease infinite;
  animation: move 6s ease infinite;
}

@keyframes move {
  50% {
    transform: translate(800px, 0px);
  }
}
@-webkit-keyframes move {
  50% {
    transform: translate(800px, 0px);
  }
}

@-moz-keyframes move {
  50% {
    transform: translate(800px, 0px);
  }
} 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-12T07:06:24.563

Webkit 仍然需要`-webkit`前缀`transform`：

```
@-webkit-keyframes move {
   50% {
     -webkit-transform: translate(800px, 0px);
  }
} 
```

**演示：http: [//jsfiddle.net/MLhYS/3/](http://jsfiddle.net/MLhYS/3/)**

# php - jquery分页设置每页的记录

> ID：15355237
> 
> 赞同：-1
> 
> 时间：2013-03-12T07:05:01.730
> 
> 标签：php, jquery

我使用 jquery 分页。它的工作非常好。但每页显示的记录数只有一条。我需要它是 10 或 15。我找不到应该提到它的地方。请帮我。谢谢

```
function pageselectCallback(page_index, jq){
            var new_content = $('#hiddenresult div.result:eq('+page_index+')').clone();
            $('#Searchresult').empty().append(new_content);
            return false;
        }

        /**
         * Callback function for the AJAX content loader.
         */
        function initPagination() {
            var num_entries = $('#hiddenresult div.result').length;
            // Create pagination element
            $("#Pagination").pagination(num_entries, {
                num_edge_entries: 2,
                num_display_entries: 8,
                callback: pageselectCallback,
                items_per_page:2
            });
        }

        // Load HTML snippet with AJAX and insert it into the Hiddenresult element
        // When the HTML has loaded, call initPagination to paginate the elements
        $(document).ready(function(){
            $('#hiddenresult').load('snippet.html', null, initPagination);
        });

/**
 * This jQuery plugin displays pagination links inside the selected elements.
 * 
 * This plugin needs at least jQuery 1.4.2
 *
 * @author Gabriel Birke (birke *at* d-scribe *dot* de)
 * @version 2.1
 * @param {int} maxentries Number of entries to paginate
 * @param {Object} opts Several options (see README for documentation)
 * @return {Object} jQuery Object
 */
 (function($){
    /**
     * @class Class for calculating pagination values
     */
    $.PaginationCalculator = function(maxentries, opts) {
        this.maxentries = maxentries;
        this.opts = opts;
    }

    $.extend($.PaginationCalculator.prototype, {
        /**
         * Calculate the maximum number of pages
         * @method
         * @returns {Number}
         */
        numPages:function() {
            return Math.ceil(this.maxentries/this.opts.items_per_page);
        },
        /**
         * Calculate start and end point of pagination links depending on 
         * current_page and num_display_entries.
         * @returns {Array}
         */
        getInterval:function(current_page)  {
            var ne_half = Math.floor(this.opts.num_display_entries/2);
            var np = this.numPages();
            var upper_limit = np - this.opts.num_display_entries;
            var start = current_page > ne_half ? Math.max( Math.min(current_page - ne_half, upper_limit), 0 ) : 0;
            var end = current_page > ne_half?Math.min(current_page+ne_half + (this.opts.num_display_entries % 2), np):Math.min(this.opts.num_display_entries, np);
            return {start:start, end:end};
        }
    });

    // Initialize jQuery object container for pagination renderers
    $.PaginationRenderers = {}

    /**
     * @class Default renderer for rendering pagination links
     */
    $.PaginationRenderers.defaultRenderer = function(maxentries, opts) {
        this.maxentries = maxentries;
        this.opts = opts;
        this.pc = new $.PaginationCalculator(maxentries, opts);
    }
    $.extend($.PaginationRenderers.defaultRenderer.prototype, {
        /**
         * Helper function for generating a single link (or a span tag if it's the current page)
         * @param {Number} page_id The page id for the new item
         * @param {Number} current_page 
         * @param {Object} appendopts Options for the new item: text and classes
         * @returns {jQuery} jQuery object containing the link
         */
        createLink:function(page_id, current_page, appendopts){
            var lnk, np = this.pc.numPages();
            page_id = page_id<0?0:(page_id<np?page_id:np-1); // Normalize page id to sane value
            appendopts = $.extend({text:page_id+1, classes:""}, appendopts||{});
            if(page_id == current_page){
                lnk = $("<span class='current'>" + appendopts.text + "</span>");
            }
            else
            {
                lnk = $("<a>" + appendopts.text + "</a>")
                    .attr('href', this.opts.link_to.replace(/__id__/,page_id));
            }
            if(appendopts.classes){ lnk.addClass(appendopts.classes); }
            lnk.data('page_id', page_id);
            return lnk;
        },
        // Generate a range of numeric links 
        appendRange:function(container, current_page, start, end, opts) {
            var i;
            for(i=start; i<end; i++) {
                this.createLink(i, current_page, opts).appendTo(container);
            }
        },
        getLinks:function(current_page, eventHandler) {
            var begin, end,
                interval = this.pc.getInterval(current_page),
                np = this.pc.numPages(),
                fragment = $("<div class='pagination'></div>");

            // Generate "Previous"-Link
            if(this.opts.prev_text && (current_page > 0 || this.opts.prev_show_always)){
                fragment.append(this.createLink(current_page-1, current_page, {text:this.opts.prev_text, classes:"prev"}));
            }
            // Generate starting points
            if (interval.start > 0 && this.opts.num_edge_entries > 0)
            {
                end = Math.min(this.opts.num_edge_entries, interval.start);
                this.appendRange(fragment, current_page, 0, end, {classes:'sp'});
                if(this.opts.num_edge_entries < interval.start && this.opts.ellipse_text)
                {
                    jQuery("<span>"+this.opts.ellipse_text+"</span>").appendTo(fragment);
                }
            }
            // Generate interval links
            this.appendRange(fragment, current_page, interval.start, interval.end);
            // Generate ending points
            if (interval.end < np && this.opts.num_edge_entries > 0)
            {
                if(np-this.opts.num_edge_entries > interval.end && this.opts.ellipse_text)
                {
                    jQuery("<span>"+this.opts.ellipse_text+"</span>").appendTo(fragment);
                }
                begin = Math.max(np-this.opts.num_edge_entries, interval.end);
                this.appendRange(fragment, current_page, begin, np, {classes:'ep'});

            }
            // Generate "Next"-Link
            if(this.opts.next_text && (current_page < np-1 || this.opts.next_show_always)){
                fragment.append(this.createLink(current_page+1, current_page, {text:this.opts.next_text, classes:"next"}));
            }
            $('a', fragment).click(eventHandler);
            return fragment;
        }
    });

    // Extend jQuery
    $.fn.pagination = function(maxentries, opts){

        // Initialize options with default values
        opts = jQuery.extend({
            items_per_page:10,
            num_display_entries:11,
            current_page:0,
            num_edge_entries:0,
            link_to:"#",
            prev_text:"Prev",
            next_text:"Next",
            ellipse_text:"...",
            prev_show_always:true,
            next_show_always:true,
            renderer:"defaultRenderer",
            callback:function(){return false;}
        },opts||{});

        var containers = this,
            renderer, links, current_page;

        /**
         * This is the event handling function for the pagination links. 
         * @param {int} page_id The new page number
         */
        function paginationClickHandler(evt){
            var links, 
                new_current_page = $(evt.target).data('page_id'),
                continuePropagation = selectPage(new_current_page);
            if (!continuePropagation) {
                evt.stopPropagation();
            }
            return continuePropagation;
        }

        /**
         * This is a utility function for the internal event handlers. 
         * It sets the new current page on the pagination container objects, 
         * generates a new HTMl fragment for the pagination links and calls
         * the callback function.
         */
        function selectPage(new_current_page) {
            // update the link display of a all containers
            containers.data('current_page', new_current_page);
            links = renderer.getLinks(new_current_page, paginationClickHandler);
            containers.empty();
            links.appendTo(containers);
            // call the callback and propagate the event if it does not return false
            var continuePropagation = opts.callback(new_current_page, containers);
            return continuePropagation;
        }

        // -----------------------------------
        // Initialize containers
        // -----------------------------------
        current_page = opts.current_page;
        containers.data('current_page', current_page);
        // Create a sane value for maxentries and items_per_page
        maxentries = (!maxentries || maxentries < 0)?1:maxentries;
        opts.items_per_page = (!opts.items_per_page || opts.items_per_page < 0)?1:opts.items_per_page;

        if(!$.PaginationRenderers[opts.renderer])
        {
            throw new ReferenceError("Pagination renderer '" + opts.renderer + "' was not found in jQuery.PaginationRenderers object.");
        }
        renderer = new $.PaginationRenderers[opts.renderer](maxentries, opts);

        // Attach control events to the DOM elements
        var pc = new $.PaginationCalculator(maxentries, opts);
        var np = pc.numPages();
        containers.bind('setPage', {numPages:np}, function(evt, page_id) { 
                if(page_id >= 0 && page_id < evt.data.numPages) {
                    selectPage(page_id); return false;
                }
        });
        containers.bind('prevPage', function(evt){
                var current_page = $(this).data('current_page');
                if (current_page > 0) {
                    selectPage(current_page - 1);
                }
                return false;
        });
        containers.bind('nextPage', {numPages:np}, function(evt){
                var current_page = $(this).data('current_page');
                if(current_page < evt.data.numPages - 1) {
                    selectPage(current_page + 1);
                }
                return false;
        });

        // When all initialisation is done, draw the links
        links = renderer.getLinks(current_page, paginationClickHandler);
        containers.empty();
        links.appendTo(containers);
        // call callback function
        opts.callback(current_page, containers);
    } // End of $.fn.pagination block

})(jQuery); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T07:27:06.213

提醒您的 num_entries，我的猜测是您的 $('#hiddenresult div.result').length 返回 1，从分页中猜测是您要显示的条目数。我没有通读整个分页，不要认为你会在那里找到答案。希望它有所帮助！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T07:28:12.587

```
Use this

        /**
     * Callback function for the AJAX content loader.
     */
    function initPagination() {
        var num_entries = $('#hiddenresult div.result').length;
        // Create pagination element
        $("#Pagination").pagination(num_entries, {
            num_edge_entries: 2,
            num_display_entries: 8,
            callback: pageselectCallback,
            items_per_page:10
        });
    } 
```

# c# - 在 asp.net 中使用 iis 中的 URL 重写从页面中删除 .aspx

> ID：15355240
> 
> 赞同：0
> 
> 时间：2013-03-12T07:05:16.193
> 
> 标签：c#, asp.net, iis, windows-server-2008

我想从我的 ASP.Net 网页中删除 .aspx。我下载 URL 重写模块并安装到 winserver 2008 和这个： [http](http://www.iis.net/downloads/microsoft/url-rewrite) ://www.iis.net/downloads/microsoft/url-rewrite [^]

我是初学者，我试过了

我还尝试[使用 IIS7 和 URL 重写删除 .aspx 扩展](https://stackoverflow.com/questions/13216673/remove-aspx-extention-using-iis7-url-rewrite)

但它不起作用。

例如更改 default.aspx ---> default 我该怎么做？

* * *

我收到错误 404 - 找不到文件或目录。当我使用此代码时：

```
<rewrite>
<rules>
    <rule name="Rewrite aspx" stopProcessing="true">
      <match url="^([a-z0-9/]+).aspx$" ignoreCase="true"/>
      <action type="Redirect" url="{R:1}"/>
    </rule>
</rules> 
```

请 F1F1F1F1F1

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T07:13:42.587

```
U can do this in your web.config file itself

 <system.web>

    <urlMappings enabled="true">

        <add url="~/marutisuzuki-Alto" mappedUrl="~/Carmodel.aspx?carname=Alto&amp;carid=6"/>
</urlMappings>
</system.web>

If you add this if any page with this "~/Carmodel.aspx?carname=Alto&amp;carid=6" is replaced by "~/marutisuzuki-Alto". 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T07:17:42.033

使用 URL 重写模块在您的 web.config 中尝试此操作（在 system.webServer 元素内）：

```
<rewrite>
    <rules>
        <rule name="Rewrite aspx" stopProcessing="true">
          <match url="^([a-z0-9/]+).aspx$" ignoreCase="true"/>
          <action type="Redirect" url="{R:1}"/>
        </rule>
    </rules>
</rewrite> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-12T07:50:12.100

我的网络配置：

```
<system.webServer>
    <validation validateIntegratedModeConfiguration="false" />
    <handlers>
        <remove name="ChartImageHandler" />
        <add name="ChartImageHandler" preCondition="integratedMode" verb="GET,HEAD,POST" path="ChartImg.axd" type="System.Web.UI.DataVisualization.Charting.ChartHttpHandler, System.Web.DataVisualization, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" />
    </handlers>
    <security>
        <authentication>
            <basicAuthentication enabled="false" />
            <windowsAuthentication enabled="false" />
        </authentication>
    </security>
    <rewrite>
        <rule name="Rewrite aspx" stopProcessing="true">
            <match url="^([a-z0-9/]+).aspx$" ignoreCase="true"/>
            <action type="Redirect" url="{R:1}"/>
        </rule>

    </rewrite>
    <urlCompression doStaticCompression="true" doDynamicCompression="true" />
        </system.webServer>
<appSettings>

    <add key="ChartImageHandler" value="storage=file;timeout=20;" />
</appSettings>
<system.web>

    <httpHandlers>
        <add path="ChartImg.axd" verb="GET,HEAD,POST" type="System.Web.UI.DataVisualization.Charting.ChartHttpHandler, System.Web.DataVisualization, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" validate="false" />
    </httpHandlers>
    <customErrors mode="On" defaultRedirect="ErrorPage" />
    <!-- 
        Set compilation debug="true" to insert debugging 
        symbols into the compiled page. Because this 
        affects performance, set this value to true only 
        during development.
    -->
    <compilation debug="true" targetFramework="4.0">
        <assemblies>
            <add assembly="System.Web.DataVisualization, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" />
        </assemblies>
    </compilation>

    <authentication mode="Windows" />

    <pages controlRenderingCompatibilityVersion="3.5" clientIDMode="AutoID">
        <controls>
            <add tagPrefix="asp" namespace="System.Web.UI.DataVisualization.Charting" assembly="System.Web.DataVisualization, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" />
        </controls>
    </pages>
    <httpRuntime maxRequestLength="10480" />
    <identity impersonate="false" />

</system.web>

<!-- 
    The system.webServer section is required for running ASP.NET AJAX under Internet
    Information Services 7.0\.  It is not necessary for previous version of IIS.
--> 
```

# c++ - 调用 COM Release() 函数后指针是否应该设置为空？

> ID：15355241
> 
> 赞同：4
> 
> 时间：2013-03-12T07:05:21.113
> 
> 标签：c++, com, interface

假设我们有一个指向 com 接口的指针，所以我的问题是我们是否需要在 Release() 调用之后将指针设置为 null。或者COM如何处理它？

```
Func1()
{
.....
.....
pComInterface->Release();
pComInterface = NULL;  //---> Does this required? If used, then what is the impact?
} 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-12T07:09:29.760

我假设`pComInterface`是一个原始指针，声明为例如：

`IFoo* pComInterface`

不，你不需要 NULL 它 - 它只是你的局部变量。然而，调用 of`IUnknown::Release`是强制性的，因为您通知对象您释放了指针，并且对象可以安全地减少其内部引用计数器（如果有的话）。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-12T11:17:37.907

如果`pComInterface`是指向某个 COM 接口的*原始*指针，那么从 COM 的角度来看，重要的是调用`Release()`以正确管理对象的生命周期。`NULL`（COM 不知道在调用. 之后是否将原始指针设置为`Release()`。）

*但是，从良好代码质量*的角度来看，您应该在调用后将指针设置为`NULL`（或者，`nullptr`在 C++11 中更好）`Release()`，以确保您没有对先前发布的 COM 对象的悬空引用，如果您有以下代码`Release()`。

（这与`new`and类似`delete`：您必须调用`delete`after`new`才能正确释放对象的资源；您不需要“需要”将指针设置为`nullptr`after `delete`，但避免悬挂对已删除对象的引用是一种很好的编码实践。）

此外，更好的是使用**智能指针**来管理 COM 对象接口的生命周期，例如**`ATL::CComPtr`**. 这样，会*自动*为您正确调用`Release()`(and `AddRef()`) 。（继续与and进行比较，这与更喜欢*智能指针*（如or而不是原始拥有指针）的建议相同。）*`new``delete`*`shared_ptr``unique_ptr`**

# oracle - CLOB 列中任意字符序列的基于索引的精确搜索

> ID：15355244
> 
> 赞同：1
> 
> 时间：2013-03-12T07:05:30.613
> 
> 标签：oracle, oracle10g

我们需要精确搜索 CLOB 列中的任意字符序列。由于性能原因，搜索必须基于索引。

目前我们使用存储在单独表中的 n-gram。

通过 Oracle Text，我们了解到需要一个分词器。为了匹配我们的“精确和字符搜索”要求，这个分词器必须将我们的初始 CLOB 拆分为单个字符。任何字符都不能忽略。因为使用了倒排文本索引，我们怀疑这种解决方案是否合适。

另一种选择是将 Lucene 和 Java 与 Oracle 结合使用（假设 Lucene 支持精确的字符匹配）。

还有其他选择吗？

# django - Allauth 表格不显示

> ID：15355245
> 
> 赞同：1
> 
> 时间：2013-03-12T07:05:35.973
> 
> 标签：django, django-forms, django-templates, django-allauth

使用 Django 1.4 和最新的 allauth，我有一个奇怪的问题，即没有显示表单：

这是settings.py：

```
 MIDDLEWARE_CLASSES = (
     'django.middleware.common.CommonMiddleware',
     'django.contrib.sessions.middleware.SessionMiddleware',
     'django.middleware.csrf.CsrfViewMiddleware',
     'django.contrib.auth.middleware.AuthenticationMiddleware',
     'django.contrib.messages.middleware.MessageMiddleware',
     # Uncomment the next line for simple clickjacking protection:
     # 'django.middleware.clickjacking.XFrameOptionsMiddleware',
 )

INSTALLED_APPS = (
'django.contrib.auth',
'django.contrib.contenttypes',
'django.contrib.sessions',
'django.contrib.sites',
'django.contrib.messages',
'django.contrib.staticfiles',
# Uncomment the next line to enable the admin:
# 'django.contrib.admin',
# Uncomment the next line to enable admin documentation:
# 'django.contrib.admindocs',
'allauth',
'allauth.account',
'allauth.socialaccount',
'allauth.socialaccount.providers.facebook',
'allauth.socialaccount.providers.google',
'django.contrib.admin',
'django.contrib.admindocs',
'bootstrap_toolkit',
'demo_app',
'south', 
```

)

```
 TEMPLATE_CONTEXT_PROCESSORS = (
"django.core.context_processors.request",
"django.contrib.auth.context_processors.auth",
"allauth.account.context_processors.account",
"allauth.socialaccount.context_processors.socialaccount",
"django.core.context_processors.csrf",
"django.core.context_processors.static", 
```

)

这是导致我出现问题的模板：password_reset.html

```
 {% extends "account/base.html" %}

{% load i18n %}
{% load account %}

{% block head_title %}{% trans "Password Reset" %}{% endblock %}

{% block content %}

    <h1>{% trans "Password Reset" %}</h1>
    {% if user.is_authenticated %}
    {% include "account/snippets/already_logged_in.html" %}
    {% endif %}

    <p>{% trans "Forgotten your password? Enter your e-mail address below, and we'll send you an e-mail allowing you to reset it." %}</p>

    <form method="POST" action="" class="password_reset">{% csrf_token %}
        {{ password_reset_form.as_p }}
        <input type="submit" value="{% trans "Reset My Password" %}" />
    </form>

    <p>{% blocktrans %}Please contact us if you have any trouble resetting your password.{% endblocktrans %}</p>
{% endblock %}

{% block extra_body %}
    <script>
        $("#id_email").focus();
    </script>
{% endblock %} 
```

这是未处理的部分：

```
<form method="POST" action="" class="password_reset">{% csrf_token %}
{{ password_reset_form.as_p }}
<input type="submit" value="{% trans "Reset My Password" %}" />
</form>"" 
```

我也尝试使用 csrf_token ，我得到的结果 html 如下：

```
 <form method="POST" action="">
 <legend>Password reset</legend>
 <p>Forgotten your password? Enter your email address below, and we'll send you an email allowing you to reset it.</p>
 <fieldset>
 <div style='display:none'><input type='hidden' name='csrfmiddlewaretoken' value='XaG5EyB6JY70kkQrsqTFnQ6wzPXujMpg' /></div>        
<div class="form-actions">
<button type="submit" class="btn btn-primary">Reset my password</button>
</div>
</fieldset>
</form>
<p>If you have any trouble resetting your password, contact us at <a href="mailto:"></a>.      </p> 
```

# javascript - 如何在 JQuery 中构造元素的 id 并对其执行操作？

> ID：15355256
> 
> 赞同：2
> 
> 时间：2013-03-12T07:07:01.857
> 
> 标签：javascript, jquery

我的表格行中有一个按钮，它有一个 id `btn_number_$i`。单击按钮时，我想显示具有 id 的表格行`row_$i`，该行最初是隐藏的。

这是我创建两个表行的 PHP 代码：

```
echo "<tr><td>"."<button id= \"btn_number_$i\"  class='btn info toggler' >Info   <i class='icon-arrow-down'></i></button>"."</td></tr>";
echo "<tr id='row_$i' class='info_row'><td>Hello There!!</td></tr>"; 
```

下面是我的 jQuery 代码。我正在尝试构建类似命名的行 id 并对其执行`.show`。但我没有得到想要的结果。

```
$(function () {
    $('.info_row').hide(); // first I need to hide all the second rows.
    $('.toggler').click(function () {
        var currentId = $(this).attr('id');
        console.log(currentId);
        var lastChar = currentId.substr(currentId.length - 1); //Herein I am trying to extract the last character from btn_number_$i which is $i and then appending it with 'row_'
        var rowId = 'row_' + lastChar;
        console.log(rowId); // I am able to get the current value in console log.
        $('#rowId').show(); // But even after all that i am not able to show the element.
    });
}); 
```

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-12T07:08:46.903

您没有使用`rowId`包含您构造的 id 的变量，而是使用`rowId`字符串文字。您拥有的选择器将用于查找元素`id = rowId`

*改变*

```
$('#rowId').show(); 
```

*到*

```
$('#' + rowId).show(); 
```

# c++ - 字符串文字的 C++ const 正确性

> ID：15355257
> 
> 赞同：13
> 
> 时间：2013-03-12T07:07:13.083
> 
> 标签：c++, constants

根据 C++ 标准，字符串文字类型是`array of const char`

```
auto constStr = "aaa";
char* nonConstStr = constStr; //Error here, cannot convert from 'const char *' to 'char *'
char* stillNonConstStr = "aaa"; //Why I don't have error here? 
```

你能解释一下为什么在第三行我没有收到错误吗？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-03-12T07:13:06.420

历史原因。过去允许并且非常普遍地将字符串文字分配给 a `char*`，即使字符串文字的类型是 const char 的数组。我相信它来自不存在的日子`C`，`const`但不要引用我的话。它后来被弃用，但仍然允许，以免破坏使用它的代码库。该允许不会扩展到允许`char*`从`const char*`（也不是从非文字的 const char 数组）初始化，这就是您的第二行失败的原因。在 C++11 中，禁止从字符串文字转换`char*`为，但您的编译器可能尚未强制执行。

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2013-03-12T07:20:39.753

在 C++03 中，有一个特殊规则 ([conv.array]§2) 允许将字符串文字转换为 type `char*`。

在 C++11 中，此规则不再存在。换句话说，您的代码是有效的 C++03，但无效的 C++11。

# oracle - 如何得到以下结果？

> ID：15355260
> 
> 赞同：1
> 
> 时间：2013-03-12T07:07:28.623
> 
> 标签：oracle

如何得到以下结果？

输入 ： -

```
 t1
 --------------
 col1 col2 col3
 --------------
 101, abc, 100
 101, xyz, 200
 101, rst, 300
 ------------- 
```

输出 ： -

```
101 abc 100 xyz 200 rst 300 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-12T07:14:01.933

请试试：

```
SELECT col1, replace(wm_concat(col2||col3),',', '')  FROM t1 GROUP BY col1; 
```

或者

```
SELECT col1, (SELECT XMLAGG(xmlelement(X, X1.col2||col3)order by X1.col2).extract('//text()')
            FROM t1 X1 WHERE X1.col1=X.col1)
FROM t1 X 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T07:18:45.020

这适用于 11g 并保持项目的顺序。

```
select LISTAGG (code, ' ') WITHIN GROUP (ORDER BY rn, coln)
from(

    select code, min(rn) as rn, min(coln) as coln
    from(
       select col1 as code, rownum rn, 1 as coln from t order by col1, col3
       union all
       select col2 as code, rownum rn, 2 as coln from t order by col1, col3
       union all
       select col3 as code, rownum rn, 3 as coln from t order by col1, col3
       )
    group by code
   ) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-12T07:33:49.853

尝试

```
select col1 || ' ' || listagg( col2 || ' ' || col3, ' ' ) within group ( order by COL3 ) 
from t1
group by col1; 
```

# paypal - 如何配置paypal沙箱自动返回URL？

> ID：15355265
> 
> 赞同：23
> 
> 时间：2013-03-12T07:07:59.553
> 
> 标签：paypal, paypal-sandbox, ubercart

我正在使用`ubercart`模块`Drupal`，我需要帮助来配置`URL`从`PayPal sandbox`. 我尝试在[https://developer.paypal.com/webapps/developer/dashboard](https://developer.paypal.com/webapps/developer/dashboard)创建企业帐户，但这也不起作用。

* * *

## 回答 #1

> 赞同：56
> 
> 时间：2013-03-12T14:55:46.123

当您说您无法创建企业帐户时，您收到什么错误或无法登录？请提供更多详细信息，并随时通过我的个人资料中的详细信息与我联系。

以下是在您的测试帐户中启用自动退货的步骤。

*   登录[https://developer.paypal.com](https://developer.paypal.com)
*   单击应用程序
*   单击沙盒帐户
*   展开相关帐户
*   单击沙盒站点
*   登录测试账户
*   [将“ https://www.sandbox.paypal.com/us/cgi-bin/webscr?cmd=_profile-website-payments](https://www.sandbox.paypal.com/us/cgi-bin/webscr?cmd=_profile-website-payments) ”复制并粘贴到您的浏览器中
*   启用自动返回并单击保存
*   输入自动返回 URL，然后单击保存

如果这些步骤给您带来任何问题，请告诉我。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2014-10-30T14:48:50.260

我也面临着类似的问题。我如何在沙盒模式下设置自动重定向 URL 如下。

1.  使用沙盒业务帐户示例登录到[sandbox.paypal.com ，](http://sandbox.paypal.com)

`xyz-facilitator@example.com`

将自动重定向设置为开，并关闭*PayPal 帐户可选*设置。

2.  在 PayPal 按钮（表单）代码中，将以下内容用于业务信息。

# c# - 在数据网格视图中每次按钮单击新行

> ID：15355266
> 
> 赞同：0
> 
> 时间：2013-03-12T07:08:00.573
> 
> 标签：c#, datagridview

每次单击时如何显示新行？因为它所做的是替换第一行的值而不是添加新行。

```
 private void button2_Click(object sender, EventArgs e)
 {
      DataTable dtbl = new DataTable();
      dtbl.Columns.Add("1st Header");
      dtbl.Columns.Add("2nd Header");
      dtbl.Columns.Add("3rd Header");

      dtbl.Rows.Add("1","2","3");                

      dgv.DataSource = dtbl;
 } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T07:14:44.797

因为每次点击都会初始化一个新的数据表。将您的`DataTable`初始化和数据源分配放入另一个函数并设为`DataTable`私有，以便您可以在按钮单击中使用它 -

```
 DataTable dtbl;
    private void InitializeDataTable()
    {
        dtbl = new DataTable();
        dtbl.Columns.Add("1st Header");
        dtbl.Columns.Add("2nd Header");
        dtbl.Columns.Add("3rd Header");

        dgv.DataSource = dtbl;
    } 
```

[现在，在按钮单击中，使用DataTable.NewRow](http://msdn.microsoft.com/en-sg/library/system.data.datatable.newrow.aspx)添加新行-

```
 private void button2_Click(object sender, EventArgs e)
    {
        DataRow newRow = dtbl.NewRow();
        dtbl.Rows.Add(newRow);

        dgv.Refresh();
    } 
```

# asp.net-mvc - 用 VS2012 部署 ASP .NET MVC 网站？

> ID：15355267
> 
> 赞同：3
> 
> 时间：2013-03-12T07:08:00.817
> 
> 标签：asp.net-mvc, deployment, ftp

所以我使用 Gearhost 作为我的托管服务提供商。我的 MVC 网站已经完成，但是当我右键单击它以选择“发布”选项时，我得到一个窗口，要求我提供一个配置文件，所以我只是创建一个新的。

但是，我想做的是部署到本地文件夹，然后使用 Filezilla 上传文件，但是我不知道该怎么做。

所以，我的问题是，如何获取需要通过 FTP 上传的文件？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-12T07:48:28.493

当您发布 MVC 项目时，有几种可用的部署方法，例如 FTP、FileSystem、WebDeploy。如果您在连接选项卡上选择 FTP 发布方法，您可以填写您的凭据并直接上传到您的 ftp 托管空间。如果您使用 FileSystem 进行部署，它相对简单，您选择一个路径来部署您的项目，然后将该文件夹中的所有文件上传到您的托管根目录。如果您遇到困难，请尝试这两种选择。

有关所有部署方法的更多信息，请[点击此处](http://msdn.microsoft.com/en-us/library/dd465337.aspx)。

# java - GWT + MVP中的国际象棋并尝试将状态存储在本地存储中

> ID：15355275
> 
> 赞同：0
> 
> 时间：2013-03-12T07:08:21.650
> 
> 标签：java, gwt, local-storage, mvp, chess

到目前为止我已经这样做了

```
public void addStorage() {
    stockStore = Storage.getLocalStorageIfSupported();
    if (stockStore != null) {
        stockStore.setItem(("Index" + index), ("state" + HistoryCount));
        stockMap.put(("Index" + index), ("state" + HistoryCount));
    }
}

public void loadStorage() {
    String s;
    stockStore = Storage.getLocalStorageIfSupported();
    if (stockStore != null) {
        stockMap = new
        StorageMap(stockStore);
        for (int i = 0; i < stockStore.getLength(); i++) {
            if (stockMap.containsValue(index)) {
                s = stockStore.getItem("Index" + index);
                state = stateRecord.get(s);
                clearHighlights();
                setState(state);
                break;
            }
        }
    }
} 
```

我不知道我错过了什么。这两个函数由它们的处理程序调用。加载并保存。load storage 将加载国际象棋的存储状态， save 将保存当前国际象棋状态。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T08:40:53.813

可能您在此处有错误，`stockMap.containsValue(index)`但应该是`stockMap.containsValue("Index" + index)`更正的版本：

```
for (int i = 0; i < stockStore.getLength(); i++) {
        if (stockMap.containsValue("Index" + index)) {
            s = stockStore.getItem("Index" + index);
            state = stateRecord.get(s);
            clearHighlights();
            setState(state);
            break;
        }
    } 
```

# java - Django 上的 Java 项目？

> ID：15355280
> 
> 赞同：2
> 
> 时间：2013-03-12T07:08:33.323
> 
> 标签：java, django, jython-2.5, saiku

好的，所以我在网上搜索了可能的实现，但我设法找到的是通过 Jython 在 Java 平台上实现的 Django 项目。但我想做相反的事情，即在 Django 平台上实现/集成 java 项目（在我的例子中是 SAIKU 服务器）。

问题是，是否可能，如果是，请指出解决方案。

提前致谢 =)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T08:50:20.570

对于您的特定要求，我建议使用 RESTFul API 来访问 Saiku 服务器。

但是，如果您需要从 Python 运行 Java 类。

以下是可供您选择的选项：

1.  [JCC——](https://pypi.python.org/pypi/JCC/1.9)一个用于从 C++/Python 调用 Java 的 C++ 代码生成器。它产生通过 JNI 与 Java 虚拟机通信的 Python 扩展。正如它所暗示的，这将需要编译每个可能的调用。然而，这个项目是 PyLucene 项目的骨干。

2.  [代码网格](http://codemesh.com/products/junction/)。Java 的 C++ 代码生成器。

3.  [Py4J](http://py4j.sourceforge.net/index.html) Python 程序在 Python 解释器中运行，以动态访问 Java 虚拟机中的 Java 对象。

4.  [JPype](http://jpype.sourceforge.net/)允许 python 程序完全访问 java 类库。它是通过在两个虚拟机中的本机级别进行接口来完成的。然而，这方面最近没有进展。

    一般来说，通过 REST 或 RCP 进行松耦合集成比基于 JNI 的紧耦合实现更容易维护。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T08:14:07.127

没有办法在 Python 运行时中运行 Java（这听起来像是你想要的）。有 Java 到 Python 的“翻译器”可用，但它们很糟糕。老实说，如果您出于某种原因需要 Java 服务器和 Django 坐在同一个进程中，那么 Jython 就是您的最佳选择。

不过，除此之外还有很多选择：

1.  为您的服务器实现 Python 绑定（有关示例，请参见[PyLucene](http://lucene.apache.org/pylucene/)）
2.  在您的 Java 服务器中实现一个套接字服务器，Python 可以直接与之对话

# asp.net-mvc-3 - 如何将列表和字符串从一个控制器的两个操作传递到一个视图？如何在视图文件中单独获取这些数据？

> ID：15355283
> 
> 赞同：0
> 
> 时间：2013-03-12T07:08:49.217
> 
> 标签：asp.net-mvc-3, razor, view, model, controller

**请参阅下面的 index.cshtml 代码：-**

列表显示如下&字符串是标题，我将公司 ID 发送给控制器

```
@model MvcApplication3.Models.Company 

        @foreach (var item in Model)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.CompanyName)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Template)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Caption)
                </td>
                <td>
                    @Html.ActionLink("Edit", "Edit", new { id = item.CompanyID }) |
                    @Html.ActionLink("Details", "Details", new { id = item.CompanyID }) |
                    @Html.ActionLink("Delete", "Delete", new { id = item.CompanyID })
                </td>
            </tr>
        }
    </table>
</div>       

    @using (Html.BeginForm("GetCaption", "Company", FormMethod.Get))
    {
        @Html.TextBox("txtCmpID")
        <input id="btnGetCaption" type="submit" value="Get Caption" />
    }
    <span style="color: Black; position: absolute; top: 100px; left: 20px;">
        @text = 
    </span> 
```

**Controller.cs 文件中的代码：-**

```
private DynaPortalContext db = new DynaPortalContext();

    //
    // GET: /Company/

    public ViewResult Index()
    {
        return View(db.Companies.ToList());
    }
    //
    // GET: /Company/caption
    [ActionName("GetCaption"),HttpPost]
    public ActionResult GetCaption(string txtCmpID)
    {
        Company company = db.Companies.Find(txtCmpID);
        return View("Index",company);
    } 
```

请告诉我如何将控制器的 GetCaption() 方法生成的标题显示到 @text=... 中的视图中

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T07:34:37.650

您的`GetCaption`方法实际上并没有获得标题，而是获得了一家公司。假设`Company`包含`Caption`您要查找的内容，您可以简单地`Caption`在跨度内显示该属性：

```
<span style="color: Black; position: absolute; top: 100px; left: 20px;">@Model.Caption</span> 
```

另外，当您使用 Get 而不是 Post 时，为什么要在表单中包含一个文本框？如果您没有将该值发布回服务器，则在此处使用输入捕获元素是多余且具有误导性的。最好使用跨度，就像使用标题一样。

MVC 的约定是创建与其对应的控制器操作同名的视图。在您的情况下，您有 2 个不同的控制器操作，它们都返回相同的视图，`Index`. 在`Index`控制器操作中，您将公司列表作为模型传递。在`GetCaption`控制器动作中，您将单个控制器动作传递给同一个`Index`视图，但这是行不通的。看起来您想要第二个视图来处理该`GetCaption`操作。目前尚不清楚您问题中的第二个代码块是在`Index`视图内还是另一个代码块？

# css - CSS - 如何使用 z-index 放置 div？

> ID：15355287
> 
> 赞同：1
> 
> 时间：2013-03-12T07:09:08.313
> 
> 标签：css, html, stylesheet

我有一个关于如何放置 div 类的简短问题。

我有两个错误层，其中包含一些我想回显的错误消息。对于每个错误消息层，我都有一个 div 类：

```
.wrapper #header #navline form .errol {
    color: #F23;
    position: absolute;
    z-index: 2;
    height: 26px;
    padding:8px; 
    display: inline;
    white-space: nowrap; 
    line-height: 26px;
    right: 100%;
    top: 8%;
}
.wrapper #header #navline form .errol2 {
    color: #FFF;
    position: absolute;
    z-index: 2;
    height: 26px;
    padding:8px; 
    display: inline;
    white-space: nowrap; 
    line-height: 26px;
    right: 100%;
    top: 28%;
} 
```

问题是使用时`top`位置`right`是固定的。在另一个我用于相同任务的地方，而不是`top`我`right`将使用`margin-left`并且`margin-top`我没有以下问题的地方：

php 以不同的字符串长度回显不同的错误消息。使用时`margin-left`，`margin-top`只有 margin-top 可以正常工作。margin-left 将定位错误，因为 div 将扩展到两侧。所以我想知道是否有办法将右侧固定到固定位置，以便 div 仅在左侧延伸？

因此，如果有人可以帮助我，我将不胜感激。

更新：

显示一些图像我的意思。

这就像它应该是： ![这是应该的](../Images/5472d4cc67e075c1ac223cbd17e45e07.png)

当字符串长度增加时会发生这种情况： ![当字符串长度延长时会发生这种情况](../Images/a4403413745ae77d80fa8aac481763eb.png)

更新2：

给出一些 HTML 代码：

```
<div class="small">
    <?php if (empty($errors['xxx']) === false){?>
        <input class="log-err" type="text" id="xxx" placeholder="xxx" name="xxx" value="<?php echo isset($xxx) ? $xxx : '';?>" />
        <div class='error'>
            <?php echo $errors['xxx'][0];?>
        </div>
    <?php }else{?>
        <input type="text" id="xxx" name="xxx" placeholder="xxx" value="<?php echo isset($xxx) ? $xxx : '';?>" />
    <?php };?>
</div> 
```

和CSS：

```
/*Formatierung für Fehlermeldung Login/Email*/
.wrapper #header #navline form .error {
    color: #F23;
    position: relative;
    z-index: 2;
    height: 26px;
    padding:12px; 
    display: inline;
    white-space: nowrap; 
    line-height: 26px;
    right: 225px;  
    top: -4px;
}
.wrapper #header #navline form .error:before {
    content:"";
    position:absolute;
    z-index:2;
    left: 100%;
    width: 0px;
    top:-1px;
    height: 0px;
    border-top: 20px inset transparent;
    border-left: 20px dashed #f23;
    border-bottom: 20px inset transparent;
}

.wrapper #header #navline form .error:after {
    content:"";
    position:absolute;
    z-index:2;
    left: 100%;
    top:0px;
    width: 0px;
    height: 0px;
    border-top: 19px inset transparent;
    border-left: 18px dashed #fff;
    border-bottom: 19px inset transparent;
} 
```

我现在遇到的问题是：

![问题1](../Images/211fd1dffe2d5918a3bf9a00857726f4.png)

当回显另一个错误时：

![问题 2](../Images/d1874e74db1285ea30586de72d08e921.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T07:49:58.637

看看这个并在那里取三角形。它将解决您的问题。

[http://css-tricks.com/examples/ShapesOfCSS/](http://css-tricks.com/examples/ShapesOfCSS/)

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-03-12T07:13:14.863

尝试这个

```
.wrapper #header #navline form .errol {
color: #F23;
position: absolute;
z-index: 0;
height: 26px;
padding:8px; 
display: inline;
white-space: nowrap; 
line-height: 26px;
right: 100%;
top: 8%; 
```

}

```
.wrapper #header #navline form .errol2 {
color: #FFF;
position: relative;
z-index: 1;
height: 26px;
padding:8px; 
display: inline;
white-space: nowrap; 
line-height: 26px;
right: 100%;
top: 8%; 
```

}

# spring - Spring @Cacheable 不工作

> ID：15355290
> 
> 赞同：1
> 
> 时间：2013-03-12T07:09:23.873
> 
> 标签：spring, ehcache

我有一个使用 @Cacheable 注释的 dao 方法，但它的缓存根本不起作用。我将日志消息放在方法中。

```
<cache:annotation-driven mode="proxy" proxy-target-class="true" cache-manager="cacheManager" />
<bean id="ehcache" class="org.springframework.cache.ehcache.EhCacheManagerFactoryBean"> 
        <property name="configLocation" value="WEB-INF/ehcache/ehcache.xml"></property>
        <property name="shared" value="true"></property>
    </bean>

<bean id="cacheManager" class="org.springframework.cache.ehcache.EhCacheCacheManager">
        <property name="cacheManager" ref="ehcache"></property>
    </bean>

@Controller
@RequestMapping(value = "/analytics")
public class AnalyticsController {

    @Autowired
    private ReportDao reportDao;

    /**
     * 
     */
    public AnalyticsController() {
    }

    @RequestMapping(value = "/lcr-report", method = RequestMethod.GET)
    public String viewCostReport(ModelMap map) {

        List<Country> countryList = reportDao.getAllCountry();

        map.put("countryList", countryList);

        return "lcrReport";
    }

}

@Repository
@Transactional(propagation=Propagation.REQUIRED, isolation=Isolation.DEFAULT, 
    rollbackFor={DataAccessException.class, SQLException.class, Exception.class})
public class ReportDao {

    @Autowired
    private JdbcTemplate dao;

    /**
     * 
     */
    public ReportDao() {
    }

    @Cacheable(value = {"reportDao"}/*, key= "T(Country).hash(#List<Country>)"*/)
    @Transactional(propagation=Propagation.REQUIRED, isolation=Isolation.DEFAULT, readOnly=true, 
            rollbackFor={DataAccessException.class, SQLException.class, Exception.class})
    public List<Country> getAllCountry() {
        List<Country> countryList =  null;
        BeanPropertyRowMapper<Country> mapper = new BeanPropertyRowMapper<Country>(Country.class);
        PreparedStatementCreator psc = new GenericPreparedStatementCreator("select c.country_code as countryCode, c.name as countryName from country c");
        System.out.println("Not from cache");
        countryList = dao.query(psc, mapper);

        return countryList;
    }

} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-12T08:16:23.917

您应该通过对方法使用参数来创建密钥`getAllCountry`。在你的情况下它是空的，所以你可以这样做：

```
@Transactional(readOnly = true)
@Cacheable(value = CACHE_NAME, key = "'countries'") 
```

并检查它是否使用地图缓存工作：

```
@Configuration
@EnableCaching(proxyTargetClass = true)
public class CacheProducer {

@Bean
public CacheManager cacheManager() {
        SimpleCacheManager result = new SimpleCacheManager();
        result.setCaches(Arrays.asList(new ConcurrentMapCache(DictionaryServiceImpl.CACHE_NAME)));
        return result;
    }
} 
```

如果它有效 - 是时候检查你的 echache 配置了。

# android - 重新启动或恢复应用程序后如何保留 Spinner 选定的项目

> ID：15355291
> 
> 赞同：1
> 
> 时间：2013-03-12T07:09:29.103
> 
> 标签：android, android-spinner

在应用程序之后，我必须保持`Spinner`所选项目保持不变。项目正在从 sqlite 数据库中使用. 所以请指导我如何实现这一目标。`onRestart()``onResume()``Spinner``ArrayAdapter`

```
String myString = (String) myspinner.getSelectedItem();` //the value you want the position for
    ` @SuppressWarnings("unchecked")
    ArrayAdapter<String> myAdap = (ArrayAdapter<String>) myspinner.getAdapter(); //cast to an ArrayAdapter
    int spinnerPosition = myAdap.getPosition(myString);
    //set the default according to value
    myspinner.setSelection(spinnerPosition); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T07:34:32.923

您必须将最后选择的位置存储到`share-Preference or in database`应用程序重新启动时，然后将该适当的存储位置传递给您的微调器，并在将位置更改为微调器时不断更新 SP。

店铺位置：

```
SharedPreferences SP;
SP = PreferenceManager.getDefaultSharedPreferences(getApplicationContext());
SP.edit().putInt("last index", spin.getSelectedItemPosition()).commit(); 
```

检索并设置为微调器：

```
 SharedPreferences SP = PreferenceManager.getDefaultSharedPreferences(getApplicationContext());
     if(SP!=null){
             int pos = SP.getInt("last index", 0);

             spin.setSelection(pos);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T08:09:27.953

您可以在 onSaveInstanceState() 中保存微调器的位置，并从 onRestoreInstanceState() 中检索微调器的位置。您可以使用通用全局变量来更新微调器位置。

并在 onResume() 方法中使用此变量。希望它会起作用

[核实](https://stackoverflow.com/questions/4701275/how-to-use-variable-in-onsaveinstancestate)

# java - android中格式#.#的Java十进制问题

> ID：15355294
> 
> 赞同：2
> 
> 时间：2013-03-12T07:09:38.007
> 
> 标签：java, android, decimal

我已使用以下代码获取十进制格式并将其设置为编辑文本。

```
DecimalFormat decimalFormat = new DecimalFormat("#.#");
editSoilDepth.setText(decimalFormat.format(5.58f)); 
```

如果我这样做，它会给我输出：**5.9** 但我不想替换小数的第一个值并希望打印为**5.5**

我该怎么做？

任何建议将不胜感激。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-12T07:16:25.643

在使用之前添加这一行`DecimalFormat`：

```
df.setRoundingMode(RoundingMode.DOWN); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-12T07:18:40.207

```
DecimalFormat decimalFormat = new DecimalFormat("#.#");
        decimalFormat.setRoundingMode(RoundingMode.DOWN);

        decimalFormat.format(5.58f); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-12T07:20:47.987

试试这个

```
double roundOff = Math.round(a * 10.0) / 10.0; 
```

# c# - 计算两个日期之间的天数的代码

> ID：15355300
> 
> 赞同：1
> 
> 时间：2013-03-12T07:10:02.700
> 
> 标签：c#, asp.net

C# 代码计算两个日期之间的天数...我在一个文本框中有开始日期，在另一个文本框中有结束日期，我需要得到没有。两个日期之间的天数，并显示在第三个文本框中，它应该不包括假期和周末（周六和周日）。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-12T07:10:43.957

您可以将文本框日期解析为日期时间对象，然后尝试以下几行。

```
DateTime startDate = new DateTime(2013, 03, 01);
DateTime endDate = DateTime.Today; // 12 March 2013
int totalDays = 0;
while (startDate <= endDate)
{
    if (startDate.DayOfWeek == DayOfWeek.Saturday
        || startDate.DayOfWeek == DayOfWeek.Sunday)
    {
        startDate = startDate.AddDays(1);
        continue;
    }
    startDate = startDate.AddDays(1);
    totalDays++;
}

Console.WriteLine("Total days excluding weekends: {0}", totalDays); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-12T07:21:14.483

```
 var dateDiff = FirstDate - SecondDate; 
 double totalDays = dateDiff.TotalDays; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-12T07:23:58.783

如果您在文本框中有两个日期，即 textBox1 和 textBox2

```
DateTime date1= new DateTime();
DateTime date2 = new DateTime();
double days;

bool isDate1Valid =DateTime.TryParse(textBox1.Text, out date1);
bool isDate2Valid =DateTime.TryParse(textBox2.Text, out date2);

if(isDate1Valid && isDate2Valid)
days = (date1-date2).TotalDays; 
```

**编辑**

如果您需要在*不循环*的情况下执行此操作，[以下是如何执行此操作。](https://stackoverflow.com/questions/1820173/calculate-the-number-of-weekdays-between-two-dates-in-c-sharp).

如果日期差异太大，循环可能会消耗一些额外的时间。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-12T07:35:54.140

尝试这个..

```
 DateTime startdate = DateTime.Parse("somedate");
    DateTime enddate = DateTime.Parse("somedate");
    int daycount = 0;
    while (startdate < enddate)
    {
        startdate = startdate.AddDays(1); // Fixed
        int DayNumInWeek = (int)startdate.DayOfWeek;
        if (DayNumInWeek != 0)
        {
            if (DayNumInWeek != 6)
            { daycount += 1; }
        }
    } 
```

# java - 使 JButton 可点击而不是 JLabel

> ID：15355301
> 
> 赞同：-1
> 
> 时间：2013-03-12T07:10:04.767
> 
> 标签：java, swing, jbutton, jlabel, actionlistener

我有一个案例，我将 JLabel 放在 JButton 中并调整 JButton 的大小。

这里的问题是每次我单击按钮时，JLabel 都会捕获大部分事件。

当我尝试将 ActionListener 添加到 JButton 时，它不起作用。

但是当我尝试将 MouseListener 添加到 JLabel 时，所有事件处理程序都可以工作。

我希望 JButton 的 ActionListener 工作。我不希望 JLabel 在不破坏我的默认配置的情况下捕获所有事件。

我尝试将 JLabel 可聚焦属性设置为 false，但它也不起作用。

那我该怎么办呢？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-12T07:13:20.520

> 我有一个案例，我将 JLabel 放在 JButton 中并调整 JButton 的大小。

这是基本属性，默认情况下，顶层`JComponent`消耗所有事件来自`Mouse`&`Keyboard`

有两种方法

*   （不知道为什么会这样`JLabel`）如果可以`JButton`在 API 中使用普通方法和实现的方法

*   add `MouseListener`（也许没有理由覆盖所有add `MouseEvents`only `MouseAdapter`）来电`JLabel``mouseClicked``JButton.doClick()`

编辑

@疯狂的，

```
import java.awt.*;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.awt.image.BufferedImage;
import java.io.IOException;
import java.util.Random;
import javax.swing.*;

public class JButtonAndIcon {

    private JLabel label = new JLabel();
    private Random random = new Random();
    private ImageIcon image1; // returns null don't worry about in Swing
    private ImageIcon image2; // returns null don't worry about in Swing
    private Timer backTtimer;
    private int HEIGHT = 300, WEIGHT = 200;

    public JButtonAndIcon() {
        label.setPreferredSize(new Dimension(HEIGHT, WEIGHT));
        final JButton button = new JButton("Push");
        button.setBorderPainted(false);
        button.setBorder(null);
        button.setFocusable(false);
        button.setMargin(new Insets(0, 0, 0, 0));
        button.setContentAreaFilled(false);
        button.setLayout(new BorderLayout());
        button.add(label);
        button.setMultiClickThreshhold(1000);
        button.addActionListener(new ActionListener() {

            @Override
            public void actionPerformed(ActionEvent e) {
                if (button.getIcon() == image1) {
                    label.setIcon(image2);
                } else {
                    label.setIcon(image1);
                    if(backTtimer.isRunning()){
                         backTtimer.restart();
                    }                   
                }
            }
        });
        JFrame frame = new JFrame("Test");
        frame.add(button);
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        frame.pack();
        startBackground();
        frame.setVisible(true);
    }

    public static void main(String[] args) throws IOException {
        SwingUtilities.invokeLater(new Runnable() {

            @Override
            public void run() {
                JButtonAndIcon t = new JButtonAndIcon();
            }
        });
    }

    private void startBackground() {
        backTtimer = new javax.swing.Timer(1500, updateBackground());
        backTtimer.start();
        backTtimer.setRepeats(true);
    }

    private Action updateBackground() {
        return new AbstractAction("Background action") {

            private final long serialVersionUID = 1L;

            @Override
            public void actionPerformed(ActionEvent e) {
                label.setIcon(new ImageIcon(getImage()));
            }
        };
    }

    public BufferedImage getImage() {
        int w = label.getWidth();
        int h = label.getHeight();
        GradientPaint gp = new GradientPaint(0f, 0f, new Color(
                127 + random.nextInt(128),
                127 + random.nextInt(128),
                127 + random.nextInt(128)),
                w, w,
                new Color(random.nextInt(128), random.nextInt(128), random.nextInt(128)));
        BufferedImage bi = new BufferedImage(w, h, BufferedImage.TYPE_INT_RGB);
        Graphics2D g2d = bi.createGraphics();
        g2d.setPaint(gp);
        g2d.fillRect(0, 0, w, h);
        g2d.setColor(Color.BLACK);
        return bi;
    }
} 
```

# asterisk - 如何更改星号中的默认欢迎消息

> ID：15355305
> 
> 赞同：0
> 
> 时间：2013-03-12T07:10:20.650
> 
> 标签：asterisk

我已经安装了星号 1.8.9.0。我也安装了ekiga软电话。尝试使用 ekiga 呼叫时，呼叫者可以听到默认消息“恭喜，您已成功安装 astrisk 等”。. 如何更改默认欢迎消息。我应该在哪里写拨号计划..

请帮忙。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T14:50:47.110

Asterisk dialplan 写在 /etc/asterisk/extensions.conf

但是请注意，Asterisk“拨号计划”是它自己的脚本语言，需要一些学习和技术掌握才能进行定制。

有关配置帮助，请参阅 Asterisk the Definative Guide：http: [//ofps.oreilly.com/titles/9781449332426/](http://ofps.oreilly.com/titles/9781449332426/)

或官方文档： [https ://wiki.asterisk.org/wiki/display/AST/Dialplan+Fundamentals](https://wiki.asterisk.org/wiki/display/AST/Dialplan+Fundamentals)

相反，您可能希望使用 GUI 安装 Asterisk，这可以通过 AsteriskNOW [http://www.asterisk.org/downloads/asterisknow轻松完成](http://www.asterisk.org/downloads/asterisknow)

使用 AsteriskNOW 和 FreePBX GUI，您可以使用 Web 管理界面自定义拨号方案。（无需自定义文本文件。）

# python - 有没有人不得不“重新平衡”他们的 Python 文件搜索器？漏洞？

> ID：15355314
> 
> 赞同：1
> 
> 时间：2013-03-12T07:11:18.493
> 
> 标签：python, file-io

在我终于开始工作的一个非常讨厌的脚本中，我实际上不得不重新平衡搜索器

```
f.seek(0, 1) 
```

在 f.write() 函数会写出任何“卡住”的东西之前。我的意思是我尝试了很多方法来解决这个问题，但唯一有效的是上面的简单行。

自然，我在写入前后用 f.tell() 检查了指针 - 完全相同！

我为此脚本使用 Python 2.7.3。这可能是一个错误吗？我对使用它感到厌倦，因为它看起来……嗯……太奇怪了。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-12T07:21:11.937

听起来确实很奇怪。想到的唯一解释是您没有考虑缓冲的影响。

具体来说，当您向文件写入内容时，首先将其写入内部缓冲区。当缓冲区的内容写入文件时

*   缓冲区已满；或者
*   文件已关闭；或者
*   `f.flush()`叫做; 或者
*   `f.seek()`叫做。

因此，如果您在向文件写入一些数据之后*但在上述任何事情发生之前*检查文件的内容，您通常不会看到新写入的数据。

# objective-c - 在这种情况下，plist 文件是正确的选择吗？

> ID：15355316
> 
> 赞同：0
> 
> 时间：2013-03-12T07:11:20.370
> 
> 标签：objective-c, plist

我正在构建一个应用程序，它有 800 多个地点，每个地点都有街道、城市、电话号码和其他信息。我想在表格视图中显示这些元素，然后加载详细视图。我几乎已经建立了系统，但我想知道如何加载坐标，例如这个地方的电话号码。举个例子：如果用户按下第 5 行，我想将此 plist 的第 5 行的数据传递到详细视图。

有没有关于这个的教程或建议？:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T07:28:30.980

这是相当数量的数据。代替 plist，使用 SQLite3 数据库来存储它。

# c# - 如何只打开一次表格？

> ID：15355317
> 
> 赞同：-2
> 
> 时间：2013-03-12T07:11:20.260
> 
> 标签：c#

我有一个显示表单调用系统参数的应用程序，我希望表单只弹出一次，以便用户无法打开同一个窗口一百万次。我试过

```
 private void SystemParametersClick(object sender, EventArgs e)
    {
        Xpan sp = new Xpan();

            sp.CurrentItem = this.GetCaller(sender);
            if (sp.Visible==false)
            {
                sp.Show();  
            }

    } 
```

它不起作用，因为它不是同一个实例。:(
我如何让它只弹出一次？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T07:19:45.010

也许这种简单的方法就足够了？

```
private bool has_been_shown = false;

private void SystemParametersClick(object sender, EventArgs e)
{
    if(!has_been_shown)
    {
        has_been_shown = true;
        Xpan sp = new Xpan();
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T07:24:24.757

首先禁用 Xpan 表单的关闭。您可以通过定义 OnFormClosing 事件处理程序来实现。

```
private void Xpan_FormClosing(object sender, FormClosingEventArgs e)
{
    e.Cancel = true;
    Hide();
} 
```

然后将您的 Xpan 表单定义为父表单的类成员，例如：

```
private readonly Xpan _sp = new Xpan(); 
```

最后以这种方式污染您的 Click 处理程序：

```
private void SystemParametersClick(object sender, EventArgs e)
{
    if (!_sp.Visible)
    {
        _sp.Show();
    }
    else
    {
        _sp.Activate();
    }
} 
```

就是这样。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-12T07:59:31.933

为什么要在方法中实例化表单？只需在父类中实例化它，并且只`Show()`在点击事件中调用该方法。

```
public class MainForm : Form
{
    private Xpan _Xpan;

    public MainForm()
    {
        InitializeComponent();
        _Xpan = new Xpan();
    }

    private void SystemParametersClick(object sender, EventArgs e)
    {
        _Xpan.Show();
    }
} 
```

# c++ - wxWidgets 编译错误（致命错误 LNK1120: 26 unresolved externals）

> ID：15355318
> 
> 赞同：0
> 
> 时间：2013-03-12T07:11:20.667
> 
> 标签：c++, visual-studio-2008, wxwidgets

我正在尝试构建一个尽可能小尺寸的最小 wxWidgets 应用程序。（对我来说很容易，就是这样）。

这是一个不做任何其他事情的 Hello World GUI 程序。因此，据我所知，我只需要 wxBase 和 wxCore，它们是我在 /MT 模式下使用 Visual C++ 2008 Express Edition 构建的。

我的应用程序如下所示：

```
#include "wx/app.h"
#include "wx/frame.h"
#include "wx/menu.h"
#include "wx/statusbr.h"
#include "wx/msgdlg.h"

class MyApp: public wxApp
{
    virtual bool OnInit();
};

class MyFrame: public wxFrame
{
public:

    MyFrame(const wxString& title, const wxPoint& pos, const wxSize& size);

    void OnQuit(wxCommandEvent& event);
    void OnAbout(wxCommandEvent& event);

    DECLARE_EVENT_TABLE()
};

enum
{
    ID_Quit = 1,
    ID_About,
};

BEGIN_EVENT_TABLE(MyFrame, wxFrame)
    EVT_MENU(ID_Quit, MyFrame::OnQuit)
    EVT_MENU(ID_About, MyFrame::OnAbout)
END_EVENT_TABLE()

IMPLEMENT_APP(MyApp)

bool MyApp::OnInit()
{
    MyFrame *frame = new MyFrame( _("Hello World"), wxPoint(50, 50),
                                  wxSize(450,340) );
    frame->Show(true);
    SetTopWindow(frame);
    return true;
} 

MyFrame::MyFrame(const wxString& title, const wxPoint& pos, const wxSize& size)
: wxFrame( NULL, -1, title, pos, size )
{
    wxMenu *menuFile = new wxMenu;

    menuFile->Append( ID_About, _("&About...") );
    menuFile->AppendSeparator();
    menuFile->Append( ID_Quit, _("E&xit") );

    wxMenuBar *menuBar = new wxMenuBar;
    menuBar->Append( menuFile, _("&File") );

    SetMenuBar( menuBar );

    CreateStatusBar();
    SetStatusText( _("Welcome to wxWidgets!") );
}

void MyFrame::OnQuit(wxCommandEvent& WXUNUSED(event))
{
    Close(TRUE);
}

void MyFrame::OnAbout(wxCommandEvent& WXUNUSED(event))
{
    wxMessageBox( _("This is a wxWidgets Hello world sample"),
                  _("About Hello World"),
                  wxOK | wxICON_INFORMATION, this);
} 
```

[它与wxWidgets 文档](http://www.wxwidgets.org/docs/tutorials/hello.htm)中的 Hello World 程序几乎完全相同。我刚刚更改了包含文件。顺便说一句，替换它们`#include "wx/wx.h"`也不能解决问题。

我得到的构建错误是：

```
test.obj : error LNK2001: unresolved external symbol "public: virtual bool __thiscall wxApp::Initialize(int &,wchar_t * *)" (?Initialize@wxApp@@UAE_NAAHPAPA_W@Z)
test.obj : error LNK2001: unresolved external symbol "protected: void __thiscall wxStringBase::InitWith(wchar_t const *,unsigned int,unsigned int)" (?InitWith@wxStringBase@@IAEXPB_WII@Z)
test.obj : error LNK2001: unresolved external symbol "wchar_t const * const wxEmptyString" (?wxEmptyString@@3PB_WB)
test.obj : error LNK2001: unresolved external symbol "wchar_t const * const wxStatusLineNameStr" (?wxStatusLineNameStr@@3QB_WB)
test.obj : error LNK2001: unresolved external symbol "wchar_t const * const wxFrameNameStr" (?wxFrameNameStr@@3QB_WB)
C:\Users\microsoft\Documents\Visual Studio 2008\Projects\wxAnother\Release\wxAnother.exe : fatal error LNK1120: 5 unresolved externals 
```

我将包括我对项目属性所做的所有更改，但我注意到所有这些错误都与 相关`wchar_t`，这可能足以让有人告诉我导致错误的原因。

是什么导致了这些讨厌的未解决的外部错误，我该如何解决问题（摆脱它们）？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T10:17:17.177

可能您将 wxWidgets 库编译为多线程 DLL，并且您的项目是多线程的。或者（因为所有错误在描述中都有字符串参数）您的 wx 库是使用多字节字符集编译的，而应用程序使用 Unicode 编译，反之亦然。

您还没有提到您在 LInker -> Input -> Additional Dependencies 中提到的 wx 库。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T11:22:20.287

听起来您正试图超越编译器/链接器。

为什么？

如果你有真正的理由需要一个小的可执行文件大小，那么 wxWidgets 不是要走的路。看看 FLTK [http://fltk.org/](http://fltk.org/)

# jquery - 使用 Apps 脚本作为源数据的 Google Drive 上托管的页面中的 Jquery 脚本问题

> ID：15355321
> 
> 赞同：1
> 
> 时间：2013-03-12T07:11:53.790
> 
> 标签：jquery, google-apps-script

我正在尝试在托管在 Google Drive 上的 html 中使用 jquery 和数据表。数据表的数据将来自使用内容服务的 Apps 脚本。我正在使用数据表示例。托管的html是：

```
 <title>JQUERY  DataTables Page  Hosted in Google Drive </title>
    <html>
    <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />

    <title>JQUERY  DataTables Page  Hosted in Google Drive </title>

    <link rel="stylesheet" type="text/css" href="//ajax.aspnetcdn.com/ajax/jquery.dataTables/1.9.4/css/jquery.dataTables.css">
    <script type="text/javascript" charset="utf8" src="//ajax.aspnetcdn.com/ajax/jQuery/jquery-1.8.0.min.js"></script>
    <script type="text/javascript" charset="utf8" src="//ajax.aspnetcdn.com/ajax/jquery.dataTables/1.9.4/jquery.dataTables.min.js"></script>
    <script type="text/javascript" charset="utf8">

    $(document).ready( function () {
         $('#demo').html( '<table cellpadding="0" cellspacing="0" border="0" class="display" id="example"></table>' );
       $('#example').dataTable( {
          "bServerSide": false,
          "sAjaxSource": "https://script.google.com/macros/s/AKfycbyFGmeMnn2hlRWe1XHTgcOI4nSyi_HcJOYSg2jfBe8b-5qXPUs2/exec"
        });
     });
    </script>
    </head>
    <body>
    <h1>JQUERY  DataTables Page  Hosted in Google Drive </h1>
    <p>Default dataTable with embedded data</p>
    <p>Includes sorting, paging and filtering by default.</p>
    <p>Entire data table loaded in one hit.</p>
    <div id="demo"></div>

    </body>
    </html> 
```

包含 ready 函数的脚本在[http://live.datatables.net/](http://live.datatables.net/)测试工具中运行良好。应用程序脚本发布给任何人，甚至是匿名的。用实际的表替换应用程序脚本调用会导致工作页面。

1.  我需要做什么才能使这个工作（可能是跨域问题？）
2.  鉴于当前问题的解决方案...对于要提交的数据对域或用户组私有的情况，我应该如何处理身份验证

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-12T09:27:51.703

关于 1\. 你应该发布 jsonp 请求。因为谷歌应用程序脚本没有添加“Access-Control-Allow-Origin”标头。

大约2。

如果用户未登录，Google Apps 脚本的身份验证始终返回 html 页面。

如果你需要处理登录状态，你应该在 jsonp 请求上处理它。

如果你想只允许访问域或组用户，你应该设置'我''执行应用程序'并通过 Session.getActiveUser().getEmail() 检查用户电子邮件地址，但它只能应用程序帐户。

这是我类似的应用程序，它在客户端使用 angularjs，但可能只是你的提示。

[https://plus.google.com/u/1/112329532641745322160/posts/1EpJUYP7mfm](https://plus.google.com/u/1/112329532641745322160/posts/1EpJUYP7mfm)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T13:30:35.300

使用 javascript 控制台（ Chrome 中的`Ctrl`++ `Shift`） `J`找出您遇到的错误。搜索错误。获取[此页面](http://www.datatables.net/forums/discussion/3012/error-in-google-chrome/p1)。请注意，它说您的桌子内必须有一个。添加以下内容，而不是您拥有的当前表。

```
<table cellpadding="0" cellspacing="0" border="0" class="display" id="example">
  <thead>
    <tr>
      <th>Column 1</th>
      <th>Column 2</th>
      <th>Column 3</th>
      <th>Column 4</th>
      <th>Column 5</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Row 1</td>
      <td>Row 2</td>
      <td>Row 3</td>
      <td>Row 4</td>
      <td>Row 5</td>
    </tr>
  </tbody>
</table> 
```

* * *

您可以`Session.getActiveUser()`在您的应用程序脚本中使用来确定谁在运行该脚本，并从那里决定是否返回数据，或不返回数据。

# php - 在Mysql中有效的OFFSET OR LIMIT

> ID：15355323
> 
> 赞同：0
> 
> 时间：2013-03-12T07:11:59.077
> 
> 标签：php, mysql, sql, performance

我将在我的网页中进行分页。我想知道哪个最有效

```
"SELECT * FROM table LIMIT 10,10" 
```

或者

```
"SELECT * FROM table LIMIT 10 OFFSET 10" 
```

如果是的话，有什么区别，哪个更好，更有效？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T07:27:33.077

没有区别。从[MySQL 参考 SELECT 语法](http://dev.mysql.com/doc/refman/5.5/en/select.html)

```
[LIMIT {[offset,] row_count | row_count OFFSET offset}] 
```

几个例子

```
LIMIT 5                     // limit the result to the first 5 rows
LIMIT 10,5\.               // limit the result to 5 rows, beginning with row 11
LIMIT 5 OFFSET 10 // same meaning 
```

我更喜欢写长版本，它是 ANSI 标准，你可以避免错误参数顺序的陷阱。

单独限制：

> 使用一个参数，该值指定从结果集开头返回的行数：
> 
> 有两个参数，第一个参数指定要返回的第一行的偏移量，第二个参数指定要返回的最大行数。初始行的偏移量为 0（不是 1）：
> 
> 为了与 PostgreSQL 兼容，MySQL 还支持 LIMIT row_count OFFSET 偏移量语法。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-12T07:17:15.237

没有区别。提供偏移语法以与 postgres 兼容。见[手册](http://dev.mysql.com/doc/refman/5.0/en/select.html)页

```
For compatibility with PostgreSQL, MySQL also supports the LIMIT row_count OFFSET offset syntax. 
```

# c++ - 制作列出所有可能序列的算法

> ID：15355325
> 
> 赞同：1
> 
> 时间：2013-03-12T07:12:13.687
> 
> 标签：c++, arrays, algorithm

我需要一些关于如何使用数组来打印所有可能序列的想法。例如，

```
array 1: AA BB
array 2: CC
array 3: DD EE FF
array 4: GG 
```

现在我需要列出来自任何给定数组的所有可能组合，每个数组只使用 1 个序列，如下所示：

```
AA CC DD GG
AA CC EE GG
AA CC FF GG
BB CC DD GG
BB CC EE GG
BB CC FF GG 
```

有谁知道或可以让我开始如何做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-12T07:16:22.240

如果这些是 4 个不同的数组，我想不出更好的选择，然后编写 4 个嵌套循环，每个循环遍历其中一个数组。如果您有一个包含所有数组的二维数组，我建议您使用递归。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-17T07:15:20.607

我假设您的意思是每个数组的元素数量是未知的，为此我使用了 sizeof()。就像其他人提到的那样，您只需嵌套 5 个 for 循环。

```
int main()
{
    //naming arrays a,b,c,d,e, change accordingly
    //this function prints the combinations of 1 char
    int aElements = sizeof(a) / sizeof(a[0]);
    int bElements = sizeof(b) / sizeof(b[0]);
    int cElements = sizeof(c) / sizeof(c[0]);
    int dElements = sizeof(d) / sizeof(d[0]);
    int eElements = sizeof(e) / sizeof(e[0]);
    for (int i = 0; i < aElements; i++){
        for (int j = 0; j < bElements; j++){
            for (int k = 0; k < cElements; k++){
                for (int l = 0; l < dElements; l++){
                    for (int m = 0; m < eElements; m++){
                        cout << a[i] << b[j] << c[k] << d[l] << e[m] << endl;
                    }
                }
            }
        }
    }
} 
```

为了找出组合的数量，您可以在内部循环中放置一个计数器，或者只需将元素的数量除以组合数量（在本例中为 1）并将它们全部相乘。例如，在您的示例中，它将是 (4 / 1) * (2 / 1) * (2 / 1) * (6 / 1) * (2 / 1) = 192 种组合。如果您每 2 个字符进行组合，则在第二个示例中它将是 (4 / 2) * (2 / 2) * (2 / 2) * (6 / 2) * (2 / 2) = 6 个组合。以下函数打印出 2 的组合。

```
int main()
    {
    //naming arrays a,b,c,d,e, change accordingly
    //this function prints the combinations of 2 chars
    int aElements = sizeof(a) / sizeof(a[0]);
    int bElements = sizeof(b) / sizeof(b[0]);
    int cElements = sizeof(c) / sizeof(c[0]);
    int dElements = sizeof(d) / sizeof(d[0]);
    int eElements = sizeof(e) / sizeof(e[0]);
    for (int i = 0; i < aElements - 1; i+=2){
        for (int j = 0; j < bElements - 1; j+=2){
            for (int k = 0; k < cElements - 1; k+=2){
                for (int l = 0; l < dElements - 1; l+=2){
                    for (int m = 0; m < eElements - 1; m+=2){
                        cout << a[i] << a[i+1] << b[j] << b[j+1] << c[k] << c[k+1]  << d[l] << d[l+1] << e[m] << e[m+1] << endl;
                        }
                    }
                }
            }
        }
} 
```

我为第二次所做的只是将计数器增加 2 而不是 1，从元素数量中减去 1 以不超出界限，并打印 2 个连续元素而不是 1。这适用于任意数量的字符组合。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-17T19:14:43.990

C++11 风格！

```
#include <iostream>
#include <vector>
#include <utility>
#include <iterator>

// metaprogramming boilerplate:

template<typename... L>
struct first_type {};
template<typename T, typename... L>
struct first_type<T, L...> {
  typedef T type;
};
template<typename... L>
using FirstType = typename first_type<L...>::type;

namespace aux {
    using std::begin;
    template<typename C>
    auto adl_begin( C&&c )->decltype( begin(std::forward<C>(c)) );
    template<typename C>
    auto adl_cbegin( C const&c )->decltype( begin(c) );
}
template<typename Container>
struct iterator_type {
  typedef decltype( aux::adl_begin(std::declval<Container>()) ) iterator;
  typedef decltype( aux::adl_cbegin(std::declval<Container>()) ) const_iterator;
};
template<typename Container>
using IteratorType = typename iterator_type<Container>::iterator;

template<typename Container>
struct value_type {
  typedef typename std::iterator_traits< IteratorType<Container> >::value_type type;
};
template<typename Container>
using ValueType = typename value_type<Container>::type;

// Actual problem specific code:
template<typename Func, typename T>
void ForEachPossibility_Helper( Func&& f, std::vector<T>& result) {
  f(result);
}

template<typename Func, typename T, typename Container, typename... Containers>
void ForEachPossibility_Helper( Func&& f, std::vector<T>& result, Container&& arr0, Containers&&... arrays) {
  for( auto const& str:arr0 ) {
    result.push_back(str);
    ForEachPossibility_Helper( std::forward<Func>(f), result, std::forward<Containers>(arrays)... );
    result.pop_back();
  }
}

template<typename Func, typename... Containers>
void ForEachPossibility( Func&& f, Containers&&... arrays) {
    typedef ValueType<FirstType<Containers...>> T;
    std::vector<T> result;
    ForEachPossibility_Helper( std::forward<Func>(f), result, std::forward<Containers>(arrays)... );
}

const char* arr1[] = {"AA", "BB"};
const char* arr2[] = {"CC"};
const char* arr3[] = {"DD", "EE", "FF"};
const char* arr4[] = {"GG"};

int main() {
  ForEachPossibility( []( std::vector<const char*> const& result ){
    for( auto&& str:result ) {
      std::cout << str;
    }
    std::cout << "\n";
  }, arr1, arr2, arr3, arr4 );
} 
```

请注意，只有 2 个 for 循环，其中一个用于打印。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-12T07:30:34.927

据我所知，您不需要关心从中获取序列的数组的顺序。在这种情况下，递归确实很有帮助。看起来像这样：

```
void printSequences(ListOfYourArrays list, int index) {
    if (list.size() > index) {
        array a = list.getElementAt(index);
        //Make a cycle that reads items from your array one by one
        while (...)
            System.out.print(item);
        //And now you need to print all combinations for the rest of arrays in you list
        printSequences(list, index + 1);
    } else
        System.out.println();
} 
```

您需要做的就是将您的数组添加到列表中并调用一个函数

```
printSequences(list, 0); 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-03-12T14:54:00.453

**编辑更新**

我们需要通过迭代组合来更新每个索引，而不是更新每个索引...

请参阅：[如何遍历 n 张扑克牌的所有可能组合](https://stackoverflow.com/questions/5076695/how-can-i-iterate-throught-every-possible-combination-of-n-playing-cards)

所以现在看起来像这样

```
#include <iostream>
#include <vector>
#include <string>
using namespace std;

bool UpdateCombination (std::vector<int> &comboindices, int count, int n)
{
    for (int i = 1; i <= n; ++i)
    {
        if (comboindices[n - i] < count - i)
        {
            ++comboindices[n - i];
            for (int j = n - i + 1; j < n; ++j)
            {
                comboindices[j] = comboindices[j-1] + 1;
            }
            return false;
        }
    }
    return true;
}

void ResetCombination (std::vector<int> &comboindices, int n)
{
    comboindices.resize(n);
    for (int i = 0; i < n; ++i)
    {
        comboindices[i] = i;
    }
}

void PrintArrays (const std::vector<std::vector<std::string>> items, int count)
{
    std::vector<std::vector<int>> indices;
    int n = items.size();
    indices.resize(items.size());

    for(auto i = indices.begin (); i != indices.end (); ++i)
    {
        ResetCombination((*i),count);
    }

    while (true) //Iterate until we've used all of the last array of items
    {
            for (int i = 0; i < n; ++i)
            {
                cout << "{";
                for (auto j = indices[i].begin (); j != indices[i].end (); ++j)
                {
                    int ji = (*j);
                    cout << (items[i])[ji] << " ";
                }
                cout << "} ";

            }
            cout << endl;

            //Update to the next indice
            for (int i = n - 1; i >= 0; --i)
            {
                    bool done = UpdateCombination (indices[i],items[i].size(),count);
                    if (!done)
                    {
                            break;
                    }
                    else if (done && i == 0)
                    {
                        return; //Escape.
                    }
                    else
                    {
                        ResetCombination(indices[i],count);
                    }
            }
    }

}
 //{A,B,C,D},{A,B},{A,B},{A,B,C,D,E,F},{A,B}

int main() {

    vector<vector<string>> lists;
    lists.resize(5);
    lists[0].push_back("A");
    lists[0].push_back("B");
    lists[0].push_back("C");
    lists[0].push_back("D");

    lists[1].push_back("A");
    lists[1].push_back("B");

    lists[2].push_back("A");
    lists[2].push_back("B");

    lists[3].push_back("A");
    lists[3].push_back("B");
    lists[3].push_back("C");
    lists[3].push_back("D");
    lists[3].push_back("E");
    lists[3].push_back("F");

    lists[4].push_back("A");
    lists[4].push_back("B");

    PrintArrays(lists,2);

    int pause;
    cin >> pause;
    return 0;
} 
```

给我们...

```
{A B } {A B } {A B } {A B } {A B } 
{A B } {A B } {A B } {A C } {A B } 
{A B } {A B } {A B } {A D } {A B } 
{A B } {A B } {A B } {A E } {A B } 
{A B } {A B } {A B } {A F } {A B } 
{A B } {A B } {A B } {B C } {A B } 
{A B } {A B } {A B } {B D } {A B } 
{A B } {A B } {A B } {B E } {A B } 
{A B } {A B } {A B } {B F } {A B } 
{A B } {A B } {A B } {C D } {A B } 
{A B } {A B } {A B } {C E } {A B } 
{A B } {A B } {A B } {C F } {A B } 
{A B } {A B } {A B } {D E } {A B } 
{A B } {A B } {A B } {D F } {A B } 
{A B } {A B } {A B } {E F } {A B } 
{A C } {A B } {A B } {A B } {A B } 
{A C } {A B } {A B } {A C } {A B } 
{A C } {A B } {A B } {A D } {A B } 
{A C } {A B } {A B } {A E } {A B } 
{A C } {A B } {A B } {A F } {A B } 
{A C } {A B } {A B } {B C } {A B } 
{A C } {A B } {A B } {B D } {A B } 
{A C } {A B } {A B } {B E } {A B } 
{A C } {A B } {A B } {B F } {A B } 
{A C } {A B } {A B } {C D } {A B } 
{A C } {A B } {A B } {C E } {A B } 
{A C } {A B } {A B } {C F } {A B } 
{A C } {A B } {A B } {D E } {A B } 
{A C } {A B } {A B } {D F } {A B } 
{A C } {A B } {A B } {E F } {A B } 
{A D } {A B } {A B } {A B } {A B } 
{A D } {A B } {A B } {A C } {A B } 
{A D } {A B } {A B } {A D } {A B } 
{A D } {A B } {A B } {A E } {A B } 
{A D } {A B } {A B } {A F } {A B } 
{A D } {A B } {A B } {B C } {A B } 
{A D } {A B } {A B } {B D } {A B } 
{A D } {A B } {A B } {B E } {A B } 
{A D } {A B } {A B } {B F } {A B } 
{A D } {A B } {A B } {C D } {A B } 
{A D } {A B } {A B } {C E } {A B } 
{A D } {A B } {A B } {C F } {A B } 
{A D } {A B } {A B } {D E } {A B } 
{A D } {A B } {A B } {D F } {A B } 
{A D } {A B } {A B } {E F } {A B } 
{B C } {A B } {A B } {A B } {A B } 
{B C } {A B } {A B } {A C } {A B } 
{B C } {A B } {A B } {A D } {A B } 
{B C } {A B } {A B } {A E } {A B } 
{B C } {A B } {A B } {A F } {A B } 
{B C } {A B } {A B } {B C } {A B } 
{B C } {A B } {A B } {B D } {A B } 
{B C } {A B } {A B } {B E } {A B } 
{B C } {A B } {A B } {B F } {A B } 
{B C } {A B } {A B } {C D } {A B } 
{B C } {A B } {A B } {C E } {A B } 
{B C } {A B } {A B } {C F } {A B } 
{B C } {A B } {A B } {D E } {A B } 
{B C } {A B } {A B } {D F } {A B } 
{B C } {A B } {A B } {E F } {A B } 
{B D } {A B } {A B } {A B } {A B } 
{B D } {A B } {A B } {A C } {A B } 
{B D } {A B } {A B } {A D } {A B } 
{B D } {A B } {A B } {A E } {A B } 
{B D } {A B } {A B } {A F } {A B } 
{B D } {A B } {A B } {B C } {A B } 
{B D } {A B } {A B } {B D } {A B } 
{B D } {A B } {A B } {B E } {A B } 
{B D } {A B } {A B } {B F } {A B } 
{B D } {A B } {A B } {C D } {A B } 
{B D } {A B } {A B } {C E } {A B } 
{B D } {A B } {A B } {C F } {A B } 
{B D } {A B } {A B } {D E } {A B } 
{B D } {A B } {A B } {D F } {A B } 
{B D } {A B } {A B } {E F } {A B } 
{C D } {A B } {A B } {A B } {A B } 
{C D } {A B } {A B } {A C } {A B } 
{C D } {A B } {A B } {A D } {A B } 
{C D } {A B } {A B } {A E } {A B } 
{C D } {A B } {A B } {A F } {A B } 
{C D } {A B } {A B } {B C } {A B } 
{C D } {A B } {A B } {B D } {A B } 
{C D } {A B } {A B } {B E } {A B } 
{C D } {A B } {A B } {B F } {A B } 
{C D } {A B } {A B } {C D } {A B } 
{C D } {A B } {A B } {C E } {A B } 
{C D } {A B } {A B } {C F } {A B } 
{C D } {A B } {A B } {D E } {A B } 
{C D } {A B } {A B } {D F } {A B } 
{C D } {A B } {A B } {E F } {A B } 
```

检查输出。 [http://ideone.com/L5AZVv](http://ideone.com/L5AZVv)

老ideone链接：http: [//ideone.com/58ARAZ](http://ideone.com/58ARAZ)

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-04-17T07:14:01.950

如果您有可变数量的数组，则 Tocs 的答案是正确的。如果你总是有 4 个数组，你可以简单地使用 4 个嵌套循环。

```
 for (unsigned int i1 = 0; i1 < a1.size(); ++i1)
        for (unsigned int i2 = 0; i2 < a2.size(); ++i2)
            for (unsigned int i3 = 0; i3 < a3.size(); ++i3)
                for (unsigned int i4 = 0; i4 < a4.size(); ++i4)
                    cout << a1[i1] << " " << a2[i2] << " " << a3[i3] << " " << a4[i4] << std::endl; 
```

有关完整代码，请参见此处[http://ideone.com/YcW84Q](http://ideone.com/YcW84Q)。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-03-12T09:15:14.530

另一种可能性是“计数”当前组合（例如，计数二进制）。从 (0,0,0,0) 开始并计数到最大数组索引 (1,0,2,0)。在每一步中，首先将第一个索引加 1。如果它大于最大索引（此处为 1），则将其设置为零并继续下一个索引

结果：

> (0,0,0,0) --> AA CC DD GG
> 
> (1,0,0,0) --> BB CC DD GG
> 
> (0,0,1,0) --> AA CC EE GG
> 
> (1,0,1,0) --> BB CC EE GG
> 
> (0,0,2,0) --> AA CC FF GG
> 
> (1,0,2,0) --> BB CC FF GG

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2013-03-12T13:04:37.697

4 个循环导致 N pow(4)。

拆分 4 个循环成 2 个的数组。

```
for each(arr 1){
  for each(arr 2)
  insert into container 1.
}

for each(arr 3){
  for each(arr 4)
  insert into container 2.
}

for each(container 1){
  for each(container 2)
  insert into container3 (*iter 1 + *iter 2)
} 
```

所以复杂度最大为 3NPow(2)，小于 N pow(4)

# c# - 属性值不是有效的类型化数据集

> ID：15355327
> 
> 赞同：0
> 
> 时间：2013-03-12T07:12:30.573
> 
> 标签：c#, asp.net, visual-studio-2010, dataset

我在我的应用程序中使用类型化数据集，我有一个数据表，其中有两列，`System.Int32.AllowDBNULL = true`NULLVALUE = 抛出异常和默认值 = 1。我在我的代码中使用数据表的这个属性，如下所示：

```
 if (rr.ForenameStatus != -1 && rr.ForenameStatus == 0)
{

} 
```

但我收到此错误：

> 表“Registrant”中“ForenameStatus”列的值为 DBNull。

我试图在数据集属性中将`NULLVALUE`列更改为`NULL`或为空，但出现错误：

> 属性值无效

我尝试使用这个：

```
 if (rr.ForenameStatus != System.DBNull.Value && rr.ForenameStatus == 0)
                        {

                        } 
```

但它说 Operator != 不能应用于 int 和 dbnull 的操作数

请建议我解决这个问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T07:48:46.983

尝试这个：

```
if (rr.ForenameStatus.ToString()!="" && rr.ForenameStatus == 0)
{

} 
```

这是作为替代方案。您可以尝试将 int 值转换为字符串并与空字符串进行比较以识别空值。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T07:19:55.083

设置 AllowDBNULL = true 并调用 IsForenameStatusNull 方法来检查 NULL 值。

# php - 如何将索引数组对象返回到 jquery 中的 getJSON 请求

> ID：15355330
> 
> 赞同：0
> 
> 时间：2013-03-12T07:12:42.350
> 
> 标签：php, javascript, jquery, ajax, getjson

我正在使用 getJSON 将索引数组发送到服务器端的 PhP 文件。我想我应该更好地使用关联数组，但是索引数组可以正常工作并且在服务器上接收到数据。我可以在服务器上处理我的数组，并可以通过使用 $results[i] 引用它的元素来将数组元素存储在服务器的文件中，但是当我将整个数组作为回调响应发送时，它只发送“数组”。这是我发送给客户端的回调响应：

```
 echo $_GET['callback']. '('. "{'response' : " . "'". $results . "'}" .')'; 
```

如果我说

```
 echo $_GET['callback']. '('. "{'response' : " . "'". $results[1] . "'}" .')'; 
```

它工作并将元素编号 1 发送给客户端。但我需要发送整个数组。

感谢您提前提供帮助。如果需要代码，请让我更新。赛义德

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T07:15:10.270

自己创建 json 对象的 insted 发明轮子）...`echo json_encode`在函数中使用 buili

```
echo json_encode(array('response'=> $results)) 
```

查询

```
$.getJSON(url,function(data){
     console.log(data.response); //check your browser console..
}) 
```

# php - Javascript不会发布变量

> ID：15355331
> 
> 赞同：0
> 
> 时间：2013-03-12T07:12:47.563
> 
> 标签：php, javascript

为什么这段代码在单元测试中可以正常工作，但在页面中却不行？我有 Firebug 和 FirePHP，如果我对它进行硬编码，可以看到变量传递得很好，该操作在单元测试中传递一个 int 就好了，但是我尝试了 parseInt、Math.floor 和许多其他古怪的方法并且 statementCount 的值根本不会发布。阿贾克斯：

```
 //polling code
        var statementCount = 0; 

        (function poll(){
        setTimeout(function(){

        $.ajax({ url: "RROO_update.php", 
                type: "POST", 
                data: {'meetID': 2176, 'statementCount': statementCount}, 
                    success: function(data){

                        if(data.length > 0){

                            var statements = JSON.parse(data);

                            //reset the statement count
                            statementCount = statementCount + statements.length;

                            $(this).actplug_RROO('formatReturns', statements, userID);
                            poll();
                        }                                   

                     },         
                    error: function(){
                        poll();
                    }, 
                });
        }, 5000);
        })(); 
```

和PHP：

```
<?php
 include("../inc/variables.php");
 error_reporting (E_ALL ^ E_NOTICE);

 require_once('../FirePHPCore/FirePHP.class.php');
 require_once('../FirePHPCore/fb.php');
 $firephp = FirePHP::getInstance(true);
 ob_start();

 $MeetingID         = $_POST['meetID'];
 $StatementCount    = (int)$_POST['statementCount'];

 $firephp-> log($StatementCount, 'Statement count passed in' );

 $Finished = FALSE;

 while($Finished == FALSE){

     $MeetingStats = mysql_query("SELECT RROO_UPDATE.*, MEMBER.UserName, MEMBER.UserImage FROM RROO_UPDATE JOIN MEMBER ON RROO_UPDATE.MemberID = MEMBER.MemberID WHERE MeetingID = $MeetingID ORDER BY TimeStamp DESC", $DB_Connection);
     $MyNum = mysql_num_rows($MeetingStats);
     $firephp->log($MyNum, 'Row Query');

     if($MyNum > $StatementCount){

     $Returns = array();

        while($Return = mysql_fetch_array($MeetingStats)){      
            array_push($Returns, $Return);      
         } 

         $NewReturns = array();
         $NewStats = $MyNum - $StatementCount;

         $firephp->log($NewStats, 'heres the new stats count');

         for($i = 0; $i < $NewStats; $i++){

            array_push($NewReturns, $Returns[$i]);

         }
         $Here = count($NewReturns);
         $firephp->log($Here, 'The length of the new returns array');

         $Finished = TRUE;
         echo json_encode($NewReturns);

     }

     else{
        sleep(3);
     }

 } 
```

?>

就像我说的那样，它在单元测试中恢复正常，这在我可以看到的所有方面都是相同的（我实际上将它复制粘贴到页面中）唯一的区别是回发在页面上以不同的方式路由（到插件) 但我搞砸了回调无济于事。是否有某种原因 statementCount 不会重置并在此代码中发布？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T07:19:49.040

我不认为这`statementCount`是在回调内部定义的，仅在执行 ajax 调用的函数中定义。

[这](https://stackoverflow.com/questions/939032/jquery-pass-more-parameters-into-callback)是一个问题和答案，应该可以帮助您做您想做的事。

# vbscript - 使用 VBScript 关闭应用程序

> ID：15355332
> 
> 赞同：6
> 
> 时间：2013-03-12T07:12:59.353
> 
> 标签：vbscript

我试图打开和关闭一个应用程序。我试过这样：

```
Dim App1 
Set App1 = CreateObject("WScript.Shell")
App1.Run("firefox")
App1.Quit 
```

Firefox 会打开，但不会关闭。

错误信息：

> 对象不支持此属性或方法

我提到[了 InDesign Scripting 如何退出应用程序（不是文档）](https://stackoverflow.com/questions/7602718/indesign-scripting-how-to-quit-application-not-document)

请告诉我关闭应用程序的程序。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-12T10:36:51.913

如果您希望能够以这种方式终止进程，则需要使用`Exec`方法而不是`Run`方法。

```
Set ff = CreateObject("WScript.Shell").Exec("firefox")
'you do stuff
ff.Terminate 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2015-03-16T11:36:09.990

我观察了几种方式：

1.  `taskkill`- 仅当我在运行时尝试终止相同的进程时才有效。

    ```
    Dim oShell : Set oShell = CreateObject("WScript.Shell")
    oShell.Run """C:\My_Scripts\ddl.exe"" -p1 -c"

    'some code

    oShell.Run "taskkill /f /im ddl.exe", , True 
    ```

2.  `SendKeys`- 适用于所有应用程序，如果已知窗口名称。

    ```
    Dim oShell : Set oShell = CreateObject("WScript.Shell")
    filename = "C:\Some_file.txt - Notepad"
    act = oShell.AppActivate(fileName)
    oShell.SendKeys "% C" 
    ```

3.  WMI 对象 - 上面的 2 种方法对我很有用，所以我没有尝试。[你可以在这里](https://social.technet.microsoft.com/Forums/scriptcenter/en-US/f531dcbd-94c2-411d-abc9-2d846d5b76db/vbs-to-close-all-open-applications?forum=ITCG)找到一个例子：

    ```
    Set objWMIService = GetObject("winmgmts:" _
        & "{impersonationLevel=impersonate}!\\.\root\cimv2")

    Set colProcessList = objWMIService.ExecQuery _
        ("Select * from Win32_Process Where Name = 'Chrome.exe'")

    Set oShell = CreateObject("WScript.Shell")
    For Each objProcess in colProcessList
        oShell.Run "taskkill /im chrome.exe", , True
    Next 
    ```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2016-09-01T18:24:08.947

这是另一种 VBScript 实现：

```
strComputer = "."
Set objWMIService = GetObject("winmgmts:" _
    & "{impersonationLevel=impersonate}!\\" & strComputer & "\root\cimv2")

Set colProcessList = objWMIService.ExecQuery _
    ("Select * from Win32_Process Where Name = 'Notepad.exe'")

For Each objProcess in colProcessList
    objProcess.Terminate()
Next 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-12T07:26:20.537

Firefox 不是 COM 对象。没有 Firefox COM 对象。Firefox 不希望您使用 COM。或网络。或者微软。这就是您无法创建 Firefox 对象的原因，因此您创建了 WScript.Shell 对象。

WScript.Shell 没有退出方法。如果是这样，它无助于杀死 Firefox。

这是一个使用 VBS 中的 WMI 启动，然后杀死 Firefox 等进程的[示例。](http://www.computerperformance.co.uk/vbscript/wmi_process_stop.htm)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2017-09-05T13:28:06.840

这个例子做得很好：

```
Dim oShell : Set oShell = CreateObject("WScript.Shell")
oShell.Run """C:\My_Scripts\ddl.exe"" -p1 -c"

'some code

oShell.Run "taskkill /f /im ddl.exe", , True 
```

# ios - iPhone - 如何在朋友的 Facebook 墙上发布图像

> ID：15355341
> 
> 赞同：0
> 
> 时间：2013-03-12T07:13:26.847
> 
> 标签：ios, facebook, facebook-ios-sdk

```
if ([FBSession.activeSession.permissions indexOfObject:@"publish_actions"] == NSNotFound)
{
        // No permissions found in session, ask for it
    [FBSession.activeSession reauthorizeWithPublishPermissions:[NSArray arrayWithObject:@"publish_actions"]
                                                   defaultAudience:FBSessionDefaultAudienceFriends
                                                 completionHandler:^(FBSession *session, NSError *error)
    {
             // If permissions granted, publish the story
         if (!error)
         {
             [self postImageToFB] ;
         }
    }];
}
    // If permissions present, publish the story
else
{
    [self postImageToFB] ;
}
- (void) postImageToFB
{
    NSData* imageData = UIImageJPEGRepresentation(self.image, 90);
    NSMutableDictionary * params = [NSMutableDictionary dictionaryWithObjectsAndKeys:
                                    @"test", @"message",
                                    imageData, @"source",
                                    nil];

    [FBRequestConnection startWithGraphPath:[NSString stringWithFormat:@"%@/photos",friendName]
                                 parameters:params
                                 HTTPMethod:@"POST"
                          completionHandler:^(FBRequestConnection *connection, id result, NSError *error)
    {
         NSLog(@"%@",error) ;
         if( error == NULL )
         {
             UIAlertView *alert = [[UIAlertView alloc] initWithTitle:nil
                                                             message:@"Post sucessed!!"
                                                            delegate:nil
                                                   cancelButtonTitle:@"OK"
                                                   otherButtonTitles:nil] ;
             [alert show] ;
         }
    }];
} 
```

当我更改为时，我可以使用`- (void) postImageToFB`功能在自己的墙上发帖`[NSString stringWithFormat:@"%@/photos",friendName]``@"me/photos"`

但是我不能在我朋友的墙上发帖，可能是权限不对或者有一些我不知道的问题？

我收到了这些错误

```
Error Domain=com.facebook.sdk Code=5 "The operation couldn’t be completed. (com.facebook.sdk error 5.)" UserInfo=0xc0a7320 {com.facebook.sdk:ErrorInnerErrorKey=Error 
Domain=NSURLErrorDomain Code=-1000 "bad URL" UserInfo=0xc001ea0 {NSUnderlyingError=0xaa45270 "bad URL", NSLocalizedDescription=bad URL}, com.facebook.sdk:HTTPStatusCode=200} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T07:24:04.903

从现在开始，您无法发布到朋友墙...

删除通过 Graph API 向朋友墙发帖的功能 我们将删除通过 Graph API 向用户朋友墙发帖的功能。具体来说，针对 [user_id]/feed 的 [user_id] 与会话用户不同的帖子，或 target_id 用户与会话用户不同的 stream.publish 调用将失败。如果您想允许人们发布到他们朋友的时间线，请调用提要对话框。通过用户提及标签或动作标签包含朋友的故事将显示在朋友的时间线上（假设朋友批准标签）。有关详细信息，请参阅此博客文章。

检查这个...在 facebook 开发人员门户中提到的更改 [https://developers.facebook.com/roadmap/completed-changes/#february-2013](https://developers.facebook.com/roadmap/completed-changes/#february-2013)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-03-25T04:58:43.383

从发布的链接@viswa，我们可以阅读

> 删除通过 Graph API 向朋友墙发帖的功能 我们将删除通过 Graph API 向用户朋友墙发帖的功能。具体来说，针对 [user_id]/feed 的 [user_id] 与会话用户不同的帖子，或 target_id 用户与会话用户不同的 stream.publish 调用将失败。如果您想允许人们发布到他们朋友的时间线，请调用提要对话框。通过用户提及标签或动作标签包含朋友的故事将显示在朋友的时间线上（假设朋友批准标签）。有关详细信息，请参阅此博客文章。

如果您想允许人们发布到他们朋友的时间线，请调用[提要对话框](https://developers.facebook.com/docs/reference/dialogs/feed/)。

# javascript - 在 box2dweb.js 中应用强制

> ID：15355342
> 
> 赞同：0
> 
> 时间：2013-03-12T07:13:32.910
> 
> 标签：javascript, box2d, box2dweb

我正在尝试对我创建的身体施加力。但我似乎无法做到这一点。这是我正在创建的身体：

```
 //create some objects
      var fixDef2 = new b2FixtureDef;
     fixDef2.density = 1.0;
     fixDef2.friction = 0.5;
     fixDef2.restitution = 0.2;
      var bodyDef2 = new b2BodyDef;
     bodyDef2.type = b2Body.b2_dynamicBody;

           fixDef2.shape = new b2PolygonShape;
           fixDef2.shape.SetAsBox(
                 50/30 + 0.1 //half width
              ,  6/30 + 0.1 //half height
           );
        bodyDef2.position.x = Math.random() * 10;
        bodyDef2.position.y = Math.random() * 10;
        bodyDef2.fixedRotation = true;
        var body=world.CreateBody(bodyDef2);
        body.CreateFixture(fixDef2); 
```

我想施加一个力使身体向左移动。目前我正在尝试这个：

```
body.ApplyForce( direction , body.GetPosition() ); 
```

这没有做任何事情。我究竟做错了什么？

# jquery - 我想生成点击事件并打开一个对话框

> ID：15355350
> 
> 赞同：0
> 
> 时间：2013-03-12T07:14:19.940
> 
> 标签：jquery, asp.net, jquery-click-event

单击按钮时，我的对话框可以正常工作。但控制不会点击.cs页面中的事件

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T07:27:13.603

没有看到你的代码就不可能给出解决方案，尽管如此你可以试试这个：

```
$(document).on('click', '#id/class-ofcontrol', function(){
  //-----code stuff here---------//
}); 
```

# pdf - Pentaho report.setQuerty

> ID：15355352
> 
> 赞同：0
> 
> 时间：2013-03-12T07:14:25.360
> 
> 标签：pdf, report, hql, pentaho

我可以通过在 prpt 中预先配置（dbconntion + 查询和传递参数）并从 java 调用它来生成真实的报告。它工作正常。

问题：我想使用`report.setQuery("dummyQuery","SELECT NAME,ID FROM test.person");//some query`动态生成报告。这可能吗？

当我将 report.setQuery 与相同的查询一起使用时，我的报告会生成一个空白 pdf。我想我应该配置一个 HQL 数据源来实现这一点。

预配置 PRPT - 我正在显示 2 个值，名称和 ID。

我可以通过传递参数动态生成这个pdf。
请大家帮助通过 setQuery 或“如何使用 setQuery”动态生成此 pdf。
我真的很想学习生成 pentaho pdf 报告。

```
 package com.report;

    import java.io.File;
    import java.io.IOException;
    import javax.servlet.ServletException;
    import javax.servlet.annotation.WebServlet;
    import javax.servlet.http.HttpServlet;
    import javax.servlet.http.HttpServletRequest;
    import javax.servlet.http.HttpServletResponse;

    import org.pentaho.reporting.engine.classic.core.ClassicEngineBoot;
    import org.pentaho.reporting.engine.classic.core.MasterReport;
    import org.pentaho.reporting.engine.classic.core.modules.output.pageable.pdf.PdfReportUtil;
    import org.pentaho.reporting.libraries.resourceloader.Resource;
    import org.pentaho.reporting.libraries.resourceloader.ResourceManager;

    /**
     * Servlet implementation class Generate
     */
    @WebServlet("/Generate")
    public class Generate extends HttpServlet {
        private static final long serialVersionUID = 1L;

        /**
         * @see HttpServlet#HttpServlet()
         */
        public Generate() {
            super();
            // TODO Auto-generated constructor stub
        }

        /**
         * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse
         *      response)
         */
        protected void doGet(HttpServletRequest request,
                HttpServletResponse response) throws ServletException, IOException {
            // TODO Auto-generated method stub
            try{
            response.reset();
            response.setContentType("application/pdf");
            ClassicEngineBoot.getInstance().start();
            ResourceManager manager = new ResourceManager();
            manager.registerDefaults();
            String PrptPath ="C:\\Users\\3692902\\Desktop\\pentahoTest.prpt";

            //generate report through pre-configured prpt (db connection + query)
            Resource res = manager.createDirectly(new File(PrptPath), MasterReport.class);
            MasterReport report = (MasterReport) res.getResource();
            report.getParameterValues().put("IDValue",101);

            //generate report through query?????
            //report.setQuery("SELECT ID FROM test.person");

            PdfReportUtil.createPDF(report,response.getOutputStream());
            }
            catch(Exception e){
                e.printStackTrace();
            }
        }

        /**
         * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse
         *      response)
         */
        protected void doPost(HttpServletRequest request,
                HttpServletResponse response) throws ServletException, IOException {
            // TODO Auto-generated method stub
        }

    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-24T12:12:24.557

您正在从 PRPT 文件加载报告。那么为什么不通过添加 SQL 数据源（菜单：数据->添加数据源->SQL）在报表设计器中预定义查询？

然后，假设您要按 IDValue 过滤，您可以将查询（在 PRD 内部，而不是您的代码）设置为：

```
SELECT ID FROM test.person WHERE ID = ${IDValue} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-07-17T20:41:53.680

这是使用嵌入在 java 中的报告引擎生成报告的“最难”的方法。

下载与您正在使用的引擎版本匹配的 Pentaho Report Designer（例如：[Pentaho Report Designer 5.4](http://sourceforge.net/projects/pentaho/files/Report%20Designer/5.4/prd-ce-5.4.0.1-130.zip/download)，[Pentaho Reporting Engine 5.4](http://sourceforge.net/projects/pentaho/files/Report%20Designer/5.4/pre-classic-sdk-5.4.0.1-130.zip/download)）。

从 Pentaho 报表设计器中，创建一个新报表，然后开始创建它（[1\. 创建您的第一个报表](http://wiki.pentaho.com/display/Reporting/01.+Creating+Your+First+Report)）创建您的连接（或您需要的任何数据源），创建您的查询，并定义您的参数。

最后，使用上面您自己的代码从 servlet 调用报告并显示它。

请记住，Pentaho 报表设计器是您在报表中定义所有需要的内容，然后只需发送参数并从任何地方生成它！

# amazon-ec2 - 无法从自定义 AMI SSH 进入亚马逊 ec2 实例

> ID：15355353
> 
> 赞同：1
> 
> 时间：2013-03-12T07:14:27.027
> 
> 标签：amazon-ec2, amazon-ami

我有一个已经在运行的 linux 实例。我右键单击该实例并创建了一个图像 (EBS AMI)，我输入了详细信息，几分钟后我的 AMI 列在了 ec2 控制台的图像 -> AMIs 部分。

我右键单击此 API，请求现货定价实例，填写表格并选择正确的安全组。它创建良好，状态检查为绿色，2/2。

但是，当我尝试连接到这个新实例时，我只会得到一个错误

```
ssh_exchange_identification: read: Connection reset by peer 
```

我检查了我正在指定我的密钥文件的路径，我检查了安全组，一切都很好。我删除了 SSH 规则并重新应用它，仍然失败。

我注销并登录到我的另一个实例（这个新实例基于该实例），那个实例没有问题。我删除了我的新 Spot 实例，并基于我的 AMI 创建了另一个。同样的问题。

然后我创建了一个基于 Ubuntu 实例的新实例，并且能够正常登录。

因此，出于某种原因，我无法登录到基于我通过 GUI 控制台创建的 AMI 创建的实例。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-12T08:23:52.740

我删除了旧的 AMI 并重新创建了它。然而，这一次我卸载（从 fstab 中删除）另一个我不想与 AMI 一起使用的 EBS 驱动器。

似乎现在可以工作了。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-12-17T00:33:40.030

**从 AWS 管理控制台创建自定义 AMI**

我有一种情况，我无法通过 ssh 进入我的新实例，该实例是从我通过 AWS 仪表板创建的自定义 AMI 启动的

我发现即使未选中**no Reboot ，也不从正在运行的实例生成 AMI 会更安全。**手动停止正在运行的实例，然后创建镜像更可靠。

从表面上看，不选中**没有 Reboot**似乎是不可靠的，因为它应该停止正在运行的实例，获取映像副本，然后代表您重新启动实例，但是这个过程可能会出现一些问题。

# android - 无法检索列表 来自 SQLite 查询方法

> ID：15355360
> 
> 赞同：0
> 
> 时间：2013-03-12T07:14:49.543
> 
> 标签：android, sqlite

在我的android项目中，我已经成功创建了一个SQLite数据库，插入操作也成功了。我无法将 List 检索到方法中。

这是我的调用方法：

```
protected void getTheServerList() {

        ServerManger info = new ServerManger(this);

        try {
            info.open();
            servers = info.getData();
            info.close();

        } catch (Exception e) {
            Toast.makeText(getApplicationContext(), "EXCEPTION !",
                    Toast.LENGTH_SHORT).show();
        } finally {

        }
    } 
```

这是我的 SQLIte 方法

```
public List<String > getData() {

    String[] columns = new String[] { KEY_ROWID, KEY_NAME, KEY_UNAME,
            KEY_PASSWORD };
    List<String> sItems=null;
    Cursor c = ourDatabase.query(TABLE_NAME, columns, null, null, null,
            null, null);
String result = "";

    int iRow = c.getColumnIndex(KEY_ROWID);
    int iName = c.getColumnIndex(KEY_NAME);
    int iUname = c.getColumnIndex(KEY_UNAME);
    int iPass = c.getColumnIndex(KEY_PASSWORD);

    for (c.moveToFirst(); !c.isAfterLast(); c.moveToNext()) {
    //sItems.add(KEY_NAME);
        result =c.getString(iName);

        sItems.add(result);

    }

    c.close();

    return sItems;
} 
```

我得到一个`Exception`

```
03-12 12:19:15.798: E/Database(390): close() was never explicitly called on database '/data/data/com.example.proj/databases/PROJ_DB' 
```

我可以检索 String ，但不能检索 - List

请帮忙 ！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T07:18:13.297

启动您的列表..列表是`null`

```
List<String> sItems=new ArrayList<String>(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T07:19:15.457

```
public List<String > getData() {
    String[] columns = new String[] { KEY_ROWID, KEY_NAME, KEY_UNAME,
            KEY_PASSWORD };
    List<String> sItems=new ArrayList<String>  // define instance Here you create listview but not creat this instance 
    Cursor c = ourDatabase.query(TABLE_NAME, columns, null, null, null,
            null, null);
String result = "";

    int iRow = c.getColumnIndex(KEY_ROWID);
    int iName = c.getColumnIndex(KEY_NAME);
    int iUname = c.getColumnIndex(KEY_UNAME);
    int iPass = c.getColumnIndex(KEY_PASSWORD);

    for (c.moveToFirst(); !c.isAfterLast(); c.moveToNext()) {
    //sItems.add(KEY_NAME);
        result =c.getString(iName);

        sItems.add(result);
    }
    c.close();
    return sItems;
} 
```

# css - how do i css position this divs according to my layout picture?

> ID：15355362
> 
> 赞同：-1
> 
> 时间：2013-03-12T07:15:18.443
> 
> 标签：css

im making a self financial accounting program but im gonna use html,css and php to do it

i have a basic layout with 5 main divs on the front page

here it is the mock: [http://s24.postimage.org/le9yrx4np/divs.jpg](http://s24.postimage.org/le9yrx4np/divs.jpg)

i never coded before and im failing hard

i want this layout compatible with "desktops" this is my desktop version

im working based on a 1024 x 768 screen

but i want webkits compatible for all browsers because i want this able to resize if its a little bigger or smaller im not sure if need em since i can just set things to like 100% but thats where my problem starts

here is my work so far

[http://jsfiddle.net/dhJPS/](http://jsfiddle.net/dhJPS/)

my prblems are

1.  the middle three divs are being overlapped by the right div, notice on the words how they are not centered from the left div to the right div

2.  i cant seem to understand the concept of floating to well i cant make this layout work like i want

anyways if you can help me out a little with this one is greatly appreciated!!

thanks

```
#leftside {
background-color: blue;
width: 170px;
height: 770px;
float: left;

}

#intab {
background-color: yellow;
width: 100%;
height: 297px;

}

#currentday {
background-color: white;
width: 100%;
height: 170px;

}

#outtab {
background-color: yellow;
width: 100%;
height: 297px;

}

#rightside {
background-color: black;
height: 770px;
width: 200px;
float: right;
margin-top: -765px;
}

* { 
margin: 0px;
padding: 0px;
list-style-type: none;  

}

body {
text-align: center;
display: block;
}
img {
border: none;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T07:31:21.497

You simply need to rearrange some things.

*   When floating something to the right, the HTML always need to come before any other HTML. Right, left, static is the best order to follow.

*   You always want to cascade your CSS. Put global styles at the top of the style sheet. The body styles should be at the top of your CSS, not the bottom.

*   I added a wrapper div to set a minimum width. This way the interior content will never go below that width, ensuring things never overlap. However they will expand as much as needed.

*   It is rare you need to set `width: 100%;` in the CSS. It's not always a bad thing, but you shouldn't bother setting that unless you specifically know you need it.

I rearranged some things, and removed some of the HTML that jsFiddle don't need.... [**UPDATED FIDDLE HERE**](http://jsfiddle.net/NotInUse/dhJPS/2/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T07:45:23.270

Here is your answer. Key issues: margin inner div to group all the central ones

## [VERY IMPORTANT] display: inline-block; - This will make sure that your div will be the exact size you defined. if not used it will use 100% for both width and height

```
<!DOCTYPE html>
<html>
<head>
    <title></title>

    <style>
        .panels {
            height: 768px;
        }

        .rightside, .leftside {
            width: 170px;
            height: 100%;
            background-color: yellow;
            display: inline-block;
        }

        .leftside {
            float: left;
        }

        .rightside {
            float: right;
        }

        .innerPanels {
            height: 100%;
            margin: 0 170px;
        }

        .intab, .outtab {
            height: 25%;
            background-color: lime;
            opacity: 0.75;
        }
        .currentday{
            height: 50%;
            background-color: darkgray;
        }
    </style>
</head>
<body>

<div class="panels">
    <!--LEFT SIDE -->
    <div class="leftside">left side</div>
    <!-- RIGHT SIDE -->
    <div class="rightside">right side</div>

    <div class="innerPanels">
        <!-- IN -->
        <div class="intab">in</div>
        <!-- CURRENT DAY -->
        <div class="currentday">current day</div>
        <!-- OUT -->
        <div class="outtab">out</div>
    </div>

</div>
</body>
</html> 
```

# ajax - f:ajax 参数传递不起作用，调用动作但值始终为 NULL

> ID：15355373
> 
> 赞同：1
> 
> 时间：2013-03-12T07:15:59.227
> 
> 标签：ajax, jsf-2, richfaces

我有两个bean类vehicletypes和cars from vehicletypes是一个车辆列表，从中选择一个类型名作为汽车类。所以我用v.name填充car.xhtml中的列表，使用组合框工作正常。用于分配这个 typename 到 cars.name 我正在使用侦听器操作，如下所示：

.XHTML 代码

```
 <h:selectOneMenu>
     <f:selectItems value="#{vehicletypes.veh}" var="v"  itemLabel="#{v.name}" />
     <f:ajax event="change" listener="#{cars.combochange}" />
     <f:param name="idx" value="#{v.name}" />
  </h:selectOneMenu> 
```

托管豆：

```
public String  getcombochange(FacesContext fc)
    {

          Map<String,String> params =fc.getExternalContext().getRequestParameterMap();
          return params.get("idx");

    }
    public String combochange(){

        String type;
        FacesContext fc = FacesContext.getCurrentInstance();
        type= getcombochange(fc);
        System.out.println("\nChange occured Car type assigned"+type); 
        return "result";
    } 
```

在使用 println 在控制台上打印 cartype 的值时，它始终为空，代码中有什么问题我试图将默认字符串作为参数传递，但它也不起作用。

* * *

也尝试过这种方式，但这并没有调用动作本身；

**.xhtml**

```
<h:selectOneMenu>
<f:selectItems value="#{vehicletypes.veh}" var="v"  itemLabel="#{v.name}" />
<f:ajax event="change" listener="#{cars.combochange}" />
<f:attribute name="add" value="default" />
</h:selectOneMenu> 
```

**豆类**

```
 public String combochange(ActionEvent event){
         String type = (String)event.getComponent().getAttributes().get("add");
         System.out.println("Add pool:"+type);
         return null;
    } 
```

不明白为什么不调用该动作。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T17:10:14.293

您没有在后端 bean 中为所选值分配任何值。您只需要修改以下内容。

```
 <h:selectOneMenu value="#{cars.selectedValue}">
  <f:selectItems value="#{vehicletypes.veh}" />
  <f:ajax listener="#{cars.combochange}" />
  </h:selectOneMenu> 
```

其中“selectedValue”是您的汽车 bean 中的私有变量，其中包含放置所选值的 getter/setter。“combochange”是汽车 bean 中的方法，“veh”是要显示的值列表。

此外，在“combochange”方法中，请将事件更改为“AjaxBehaviorEvent”。由于您是从 ajax 事件调用的，因此触发的事件是 ajax 行为事件。

希望这可以帮助 ：）

# special-characters - PHPExcell从数据库中获取特殊字符

> ID：15355374
> 
> 赞同：1
> 
> 时间：2013-03-12T07:16:03.023
> 
> 标签：special-characters, phpexcel, xls

我正在尝试使用 PHPExcel 从 php 创建一个 xls 文件并从 mysql 数据库中获取数据。给我带来问题的句子类似于“Corda Flessibile Antifiamma 1x16mm² NERO - € 1,21”如果我从 DB 获得它，PHPExcel 将“FALSE”写入文件。像这样的代码：

```
$result = mysql_query($query);
$array = mysql_fetch_array($result);
$string = $array['value'];
$activeSheet->setCellValue("B1", $string); //output => "FALSE" 
```

但是，如果我在源代码中输入它，我不会遇到任何问题，它会被写入文件中。代码如：

```
$activeSheet->setCellValue("B1", "Corda Flessibile Antifiamma 1x16mm² NERO - € 1,21"); //output correct => "Corda Flessibile Antifiamma 1x16mm² NERO - € 1,21" 
```

有没有人遇到过同样的问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T07:20:57.963

PHPExcel 要求字符串为 UTF-8。

如果要从数据库中提取非 UTF-8 字符集值，请将其转换为 UTF-8，然后再将其写入 PHPExcel。

# sql - Phonegap - 如何在 for 循环中添加可折叠设置？

> ID：15355376
> 
> 赞同：0
> 
> 时间：2013-03-12T07:16:07.700
> 
> 标签：sql, cordova

我被困住了。如何将可折叠集添加到 for 循环中？我在下面尝试了这段代码，但它只显示了 h3 和 p 字段。可折叠套装不起作用。请帮忙。

```
function querySuccess(tx, results) {

    var len = results.rows.length;

         var display ="";

         display +="<div data-role='collapsible-set'>";
    for (var i=0; i<len; i++){
         display +="<div data-role='collapsible'  data-collapsed='true'>";
         display += "<h3>"+ results.rows.item(i).title +"</h3>";
         display += "<p>"+ results.rows.item(i).line1 +"</p>";
         display +="</div>";
    }
         display +="</div>"; 
          document.getElementById("news_DB").innerHTML = display;

    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-02T13:38:35.827

尝试这个

```
$.each(results.rows,function(index){ 
           var row = results.rows.item(index);

 $('<div data-role="collapsible"><h3>'+row['col_name']+'</h3><p>Content</p></div>').appendTo('[data-role="content"]');
$('div[data-role=collapsible]').collapsible({theme:'c',refresh:true});
  });

        } 
```

# struts2 - 带有双选框的 Struts2 jquery 网格

> ID：15355377
> 
> 赞同：3
> 
> 时间：2013-03-12T07:16:16.510
> 
> 标签：struts2, struts2-jquery, struts2-json-plugin, struts2-jquery-grid

我在我的 Web 应用程序中使用了带有 DropDown 选择框的 truts2 jQuery 网格插件。这部作品还不错。

这是我到目前为止尝试过的代码：

```
@Action(value="selectcountries", results= { 
    @Result(name="success", type="dispatcher", location="ImportedJspFiles/countrys_select.jsp") 
})

public String selectCountries() {
    this.selectCountriesList = provinceController.selectAllCountries();
    return SUCCESS;
} 
```

`countrys_select.jsp`：

```
<%@ taglib prefix="s" uri="/struts-tags"%>

<s:select list="selectCountriesList" theme="simple" listKey="countryId" 
    listValue="countryName" /> 
```

网格列：

```
<sjg:gridColumn name="countryName"
    index="countryName"
    title="Country"
    sortable="true"
    search="true"
    surl="%{selectcountries}"
    searchoptions="{sopt:['eq','ne','bw','cn'], dataUrl : '%{selectcountries}'}"
    searchtype="select"
    editable="true"
    edittype="select"
    editoptions="{ dataUrl : '%{selectcountries}' }"
    formoptions="{label:'Select a Country'}" /> 
```

我想在网格列中实现双选类型。但是如何在 struts2 jquery 网格视图中实现双选类型？

1.  选择城市
2.  选择该城市的区域

当我们选择一个特定城市时，我想在区域选择框中加载该城市的区域。

请与我分享，如果有人有相同的解决方案。

# javascript - 将 Soundcloud 播放器嵌入动态生成的 Div 时，“无法调用 null 的方法‘oEmbed’”

> ID：15355384
> 
> 赞同：0
> 
> 时间：2013-03-12T07:16:27.997
> 
> 标签：javascript, soundcloud

使用 Soundcloud JavaScript API，我想使用曲目搜索结果动态生成播放器小部件页面。我的代码如下：

```
<html>
<head>
<script src="http://connect.soundcloud.com/sdk.js"></script>

<script>
function makeDivsFromTracks(tracks,SC)
{
 var track;
 var permUrl;
 var newDiv;
 for(var ctr=0;ctr<tracks.length;ctr++)
 {
  newDiv=document.createElement("div");
  newDiv.id="track"+ctr;
  track=tracks[ctr];
  SC.oEmbed(track.permalink_url,{color:"ff0066"},newDiv);
  document.body.appendChild(newDiv);
 }
}
</script>

</head>
<body>

<script>
SC.initialize({
    client_id: 'MY_CLIENT_ID'
});
SC.get('/tracks',{duration:{to:900000},tags:'hitech',downloadable:true},
        function(tracks,SC)
        {
         makeDivsFromTracks(tracks,SC);
        });
</script>

</body>
</html> 
```

当我加载它时，`SC.oEmbed()`调用会引发错误：

```
Uncaught TypeError: Cannot call method 'oEmbed' of null 
```

这似乎表明`div`没有生成 s 或没有返回搜索结果，但是如果我删除`SC.oEmbed()`调用并将其替换为：

```
newDiv.innerHTML=track.permalink_url; 
```

然后我会得到一个很好的搜索结果 URL 列表。

如果我使用静态`div`和静态 URL 创建一个小部件，例如

```
<body>
<div id="putTheWidgetHere"></div>
<script>
SC.initialize({
    client_id: 'MY_CLIENT_ID'
});
SC.oEmbed("http://soundcloud.com/exampleTrack", {color: "ff0066"},  document.getElementById("putTheWidgetHere"));
</script>
</body> 
```

那么它也可以正常工作。`oEmbed()`那么我对这些动态创建的元素的调用有什么问题呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T08:08:02.840

解决了。`SC`我从回调函数中取出参数 and `makeDivsFromTracks()`，现在所有玩家都出现了。不确定为什么会这样——也许它与 SDK 脚本参考中定义的 SC 对象有关，所以它是全局可用的，不需要传递给函数？

无论如何，工作代码是：

```
<html>
<head>
<script src="http://connect.soundcloud.com/sdk.js"></script>

<script>
function makeDivsFromTracks(tracks)
{
 var track;
 var permUrl;
 var newDiv;
 for(var ctr=0;ctr<tracks.length;ctr++)
 {
  newDiv=document.createElement("div");
  newDiv.id="track"+ctr;
  track=tracks[ctr];
  //newDiv.innerHTML=track.permalink_url;
  SC.oEmbed(track.permalink_url,{color:"ff0066"},newDiv);
  document.body.appendChild(newDiv);

 }
}
</script>

</head>
<body>

<script>
SC.initialize({
    client_id: 'MY_CLIENT_ID'
});
SC.get('/tracks',{duration:{from:180000,to:900000},tags:'hitech',downloadable:true},function

(tracks){makeDivsFromTracks(tracks);});
</script>

</body>
</html> 
```

# c++ - 使用#define 替换代码

> ID：15355385
> 
> 赞同：4
> 
> 时间：2013-03-12T07:16:47.900
> 
> 标签：c++, ios, objective-c, c

我的 iOS 应用程序中有一小段代码，我必须在每个视图中使用 - 不能在函数/方法中使用它 - 所以我想知道是否有任何方法可以使用 #define 并在其中使用它的标识符是必须的。下面是示例代码。

我想用#deinfe identifer 替换的代码

```
[[NSNotificationCenter defaultCenter] addObserver:self 
                                         selector:@selector(_gotECSlidingViewAnchorRightOrRightrNotification) 
                                             name:ECSlidingViewTopDidAnchorLeft 
                                           object:nil];

[[NSNotificationCenter defaultCenter] addObserver:self 
                                         selector:@selector(_gotECSlidingViewAnchorRightOrRightrNotification) 
                                             name:ECSlidingViewTopDidAnchorRight 
                                           object:nil];

[[NSNotificationCenter defaultCenter] addObserver:self 
                                         selector:@selector(_gotECSlidingViewTopDidResetNotification)
                                             name:ECSlidingViewTopDidReset 
                                           object:nil]; 
```

所以我想知道如何#define 它并在 ViewDidLoad 方法中使用它？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-12T15:24:56.840

这并不能直接回答您的问题，但作为一个处理过预处理器诸多难题的老 C++ 程序员，我建议不要为此使用#define。

几个选项...

1.  使用您的两个选择器定义一个基类（从 UIViewController 派生）。选择器可以在派生类中被覆盖。

    @interface YourBaseCass : UIViewController

    *   (void)viewDidLoad; // 把你的添加观察者逻辑放在这里
    *   (void)_gotECSlidingViewAnchorRightOrRightrNotification；
    *   (void)_gotECSlidingViewTopDidResetNotification；

    @结尾

    @implementation YourBaseCass

    ```
    - (void)viewDidLoad //make sure you call me from the derived class
    {
        [super viewDidLoad]
        [[NSNotificationCenter defaultCenter] addObserver:self
                                                 selector:@selector(_gotECSlidingViewAnchorRightOrRightrNotification)
                                                     name:ECSlidingViewTopDidAnchorLeft
                                                   object:nil];

        [[NSNotificationCenter defaultCenter] addObserver:self
                                                 selector:@selector(_gotECSlidingViewAnchorRightOrRightrNotification)
                                                     name:ECSlidingViewTopDidAnchorRight
                                                   object:nil];

        [[NSNotificationCenter defaultCenter] addObserver:self
                                                 selector:@selector(_gotECSlidingViewTopDidResetNotification)
                                                     name:ECSlidingViewTopDidReset
                                                   object:nil];
    } 
    ```

    @结尾

2.  将您的功能放在全局静态方法中（如果子类化不是您的事）。这将更容易调试。

    *   (void)addObserversForObject:(id)object{ [[NSNotificationCenter defaultCenter] addObserver:object selector:@selector(_gotECSlidingViewAnchorRightOrRightrNotification) name:ECSlidingViewTopDidAnchorLeft object:nil];

        ```
        [[NSNotificationCenter defaultCenter] addObserver:object
                                                 selector:@selector(_gotECSlidingViewAnchorRightOrRightrNotification)
                                                     name:ECSlidingViewTopDidAnchorRight
                                                   object:nil];

        [[NSNotificationCenter defaultCenter] addObserver:object
                                                 selector:@selector(_gotECSlidingViewTopDidResetNotification)
                                                     name:ECSlidingViewTopDidReset
                                                   object:nil]; 
        ```

        }

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-12T07:22:16.597

这应该可以解决问题，前提是代码应该完全一样。否则你可以提出论据来`#define`改变它的一些事情

```
#define identifier do{ [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(_gotECSlidingViewAnchorRightOrRightrNotification) name:ECSlidingViewTopDidAnchorLeft  object:nil];\
[[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(_gotECSlidingViewAnchorRightOrRightrNotification) name:ECSlidingViewTopDidAnchorRight object:nil];\
[[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(_gotECSlidingViewTopDidResetNotification) name:ECSlidingViewTopDidReset object:nil];\
} while (0); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-12T07:26:33.123

你可以使用这个：

在每行末尾的空格后放置 \，这可以防止编译器检查新行或按下回车键。*这使得代码可读。*然后，您可以在方法中的任何位置使用 MY_NOTIFICATIONS。

```
#define MY_NOTIFICATIONS [[NSNotificationCenter defaultCenter] addObserver:self \
selector:@selector(_gotECSlidingViewAnchorRightOrRightrNotification) \
name:ECSlidingViewTopDidAnchorLeft \
object:nil]; \
\
[[NSNotificationCenter defaultCenter] addObserver:self \
                                         selector:@selector (_gotECSlidingViewAnchorRightOrRightrNotification) \
                                             name:ECSlidingViewTopDidAnchorRight \
                                           object:nil]; \
\
[[NSNotificationCenter defaultCenter] addObserver:self \
                                         selector:@selector(_gotECSlidingViewTopDidResetNotification) \
                                             name:ECSlidingViewTopDidReset \
                                           object:nil]; \ 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-12T15:54:46.107

不要依赖预处理器。这是不好的风格，并且经常导致微妙的混乱。而且您仍然需要在所有这些文件中#include 宏。

相反，定义一个类来处理通知

```
@interface ECSReceptionist
      - (id) initFor: (id) observer;
@end 
```

对于一个类来说，这可能看起来有点轻量级，但您可以稍后赋予它责任。例如，接待员也可能会为自己注册通知并自主处理一些日常琐事。

避免预处理器：

*   让你的意图更清晰
*   避免微妙的句法 tsorus，节省理智
*   使调试更容易
*   提供进一步重构的机会
*   给你一个单元测试的测试钩子

# c# - 将 updateEntry() 方法与 dotnetzip 一起使用不会正确覆盖文件

> ID：15355389
> 
> 赞同：3
> 
> 时间：2013-03-12T07:17:37.913
> 
> 标签：c#, .net, zip, dotnetzip

我最近有点问题。我一直在尝试将一个 zip 文件提取到内存流中，然后从该流中，使用该`updateEntry()`方法将其添加到目标 zip 文件中。

问题是，当将流中的文件放入目标 zip 中时，如果文件尚未在 zip 中，则它可以工作。如果存在同名文件，则无法正确覆盖。它在 dotnetzip 文档上说，此方法将覆盖 zip 中存在的同名文件，但它似乎不起作用。它会正确写入，但是当我去检查 zip 时，应该被覆盖的文件的压缩字节大小为 0，这意味着出现问题。

我在下面附上我的代码，向您展示我在做什么：

```
ZipFile zipnew = new ZipFile(forgeFile);
ZipFile zipold = new ZipFile(zFile);

using(zipnew) {
    foreach(ZipEntry zenew in zipnew) {
        percent = (current / zipnew.Count) * 100;
        string flna = zenew.FileName;
        var fstream = new MemoryStream();

        zenew.Extract(fstream);
        fstream.Seek(0, SeekOrigin.Begin);

        using(zipold) {
            var zn = zipold.UpdateEntry(flna, fstream);
            zipold.Save();
            fstream.Dispose();
        }
        current++;
    }
    zipnew.Dispose();
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-17T14:59:08.940

虽然可能有点慢，但我通过手动删除和添加文件找到了解决方案。我会把代码留在这里，以防其他人遇到这个问题。

```
ZipFile zipnew = new ZipFile(forgeFile);
ZipFile zipold = new ZipFile(zFile);

using(zipnew) {
    // Loop through each entry in the zip file
    foreach(ZipEntry zenew in zipnew) {
        string flna = zenew.FileName;

        // Create a new memory stream for extracted files
        var ms = new MemoryStream();

        // Extract entry into the memory stream
        zenew.Extract(ms);
        ms.Seek(0, SeekOrigin.Begin); // Rewind the memory stream

        using(zipold) {
            // Remove existing entry first
            try {
                zipold.RemoveEntry(flna);
                zipold.Save();
            }
            catch (System.Exception ex) {} // Ignore if there is nothing found

            // Add in the new entry
            var zn = zipold.AddEntry(flna, ms);
            zipold.Save(); // Save the zip file with the newly added file
            ms.Dispose(); // Dispose of the stream so resources are released
        }
    }
    zipnew.Dispose(); // Close the zip file
} 
```

# c# - 仅显示来自 DateTime 的日期

> ID：15355390
> 
> 赞同：2
> 
> 时间：2013-03-12T07:17:40.170
> 
> 标签：c#, asp.net-mvc, asp.net-mvc-4

嗨，我试图只显示 datetime 属性的日期和以货币格式格式化的小数属性的价格。但我一定做错了，因为格式化不起作用。这是它的显示方式：

![在此处输入图像描述](../Images/a0b60ff527cbfc1223f3071a7b349cc2.png)

我希望这仅使用货币美元金额显示日期和价格。这是我的模型代码：

```
 [Required]
    [DataType(DataType.Date)]
    public DateTime PublicationDate { get; set; }

    [Required]
    [DataType(DataType.Currency)]
    [DisplayFormat(DataFormatString="{0:c}")]
    public decimal Price { get; set; } 
```

这是我用于视图的代码：

```
 <p>
            @Html.LabelFor(model => model.PublicationDate , "Publication Date")
            @Html.TextBoxFor(model => model.PublicationDate, new { @class = "datepicker"})
         </p>
        <p>
            @Html.LabelFor(model => model.Price)
            @Html.TextBoxFor(model => model.Price)
         </p> 
```

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-12T07:19:45.770

日期的[DateTime 格式](http://www.csharp-examples.net/string-format-datetime/)

```
[Required]
[DataType(DataType.Date)]
[DisplayFormat(ApplyFormatInEditMode = true, DataFormatString = "{0:MM/dd/yyyy}")]
public DateTime PublicationDate { get; set; } 
```

货币的[双重格式](http://www.csharp-examples.net/string-format-double/)

```
[Required]
[DataType(DataType.Currency)]
[DisplayFormat(DataFormatString="{0:0.00}")]
public decimal Price { get; set; } 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-12T07:20:50.197

我不是 MVC 人，但我怀疑你只想要一个 DisplayFormatString：

```
[DisplayFormat(DataFormatString="{0:d}")] 
```

`d`是“短日期”的[标准日期/时间格式字符串](http://msdn.microsoft.com/en-gb/library/az4se3k1.aspx)。您还可以使用[自定义日期/时间格式字符串](http://msdn.microsoft.com/en-gb/library/8kb3ddd4.aspx)。请注意，对于向用户显示的文本，标准日期/时间格式通常更好，因为它可以适当地调整用户的文化。如果您使用固定的自定义格式，例如“MM/dd/yyyy”或“dd/MM/yyyy”，那么您最终会让使用不同格式的用户感到困惑。（例如，“06/05/2013”​​在英国是 5 月 6 日，但在美国是 6 月 5 日。）

但是，如果您需要此*输入*，则最好使用日期选择器。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-12T07:19:52.463

`"{0:d}"`您可以为短日期模式使用格式化字符串。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-18T14:44:31.453

问题是 DataFormat 注释不能应用于 TextBoxFor 和 LabelFor 它们只能应用于 DisplayFor 和 EditorFor

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-12T07:20:48.657

您可以简单地将其分配为>

```
DateTime.Now.Date.ToShortDateString() 
```

或者如果是 datetimepicker>

```
dateTimePicker1.Value.Date.ToShortDateString(); 
```

在日期时间选择器的情况下，还有一个名为 Format 的选项使其保持简短。

# ios - 在滚动视图中显示大量图像会导致延迟

> ID：15355391
> 
> 赞同：0
> 
> 时间：2013-03-12T07:17:40.280
> 
> 标签：ios, image-processing, uiscrollview, uiimageview, lag

这就是问题所在。我想制作一个照片查看器应用程序，它为每个页面显示 6 张图像，并使用滚动视图页面控件。

但现在我有一个问题，因为添加到许多子视图会导致滞后。我不知道如何处理。

这是我的代码：

```
HUD = [MBProgressHUD showHUDAddedTo:self.navigationController.view animated:YES];
HUD.labelText = @"Loading...";
HUD.mode = MBProgressHUDAnimationFade;
[self.view addSubview:HUD];
self.navigationItem.leftBarButtonItem.enabled = NO;

const CGFloat itemWidth    = 160.0f; //panjang
const CGFloat itemHeight   = 127.0f;
const CGFloat buttonWidth  = 157.0f; //panjang button
const CGFloat buttonHeight = 125.0f; //tinggi button
const CGFloat marginHorz   = (itemWidth - buttonWidth)/3.0f;
const CGFloat marginVert   = (itemHeight - buttonHeight)/2.0f;

NSURLRequest *request = [[NSURLRequest alloc] initWithURL:storyUrl];

AFJSONRequestOperation *operation = [AFJSONRequestOperation JSONRequestOperationWithRequest:request success:^(NSURLRequest *request, NSHTTPURLResponse *response, id JSON) {

    jsons = JSON;
    NSString *urll;

    int index = 0;
    int row = 0;
    int column = 0;

    //start
    for(id item in jsons){

        //[self.button removeFromSuperview];

        if ([item objectForKey:@"img_medium"] == [NSNull null]) {

            urll=[item objectForKey:@"img_medium"];

        }else{

            urll=[item objectForKey:@"img2_medium"];

        }

        button = [UIButton buttonWithType:UIButtonTypeCustom];

        UIImageView *imgggg = [[UIImageView alloc] initWithFrame:CGRectMake(0, 0, buttonWidth , buttonHeight)] ;
        [imgggg setImageWithURL:[NSURL URLWithString:urll] placeholderImage:[UIImage imageNamed:@"no_photo.png"]];

        [button addSubview:imgggg];
        button.tag = index;

        //button placing
        button.frame = CGRectMake(column*itemWidth + marginHorz, row*itemHeight + marginVert, buttonWidth, buttonHeight);
        [button addTarget:self
                   action:@selector(switchView:)
         forControlEvents:UIControlEventTouchUpInside];

        NSLog(@"offset but %f",column*itemWidth + marginHorz);
        NSLog(@"column %d",column);
        NSLog(@"row %d",row);
        //UIImage *pic = [UIImage imageNamed:@"1.jpg"];

        UILabel *labeling = [[UILabel alloc] initWithFrame:CGRectMake(0, 80, 157, 45)];
        [labeling setBackgroundColor:[UIColor colorWithWhite:0 alpha:0.45]];
        [labeling setText:[item objectForKey:@"title"]];
        [labeling setTextAlignment:NSTextAlignmentCenter];

        labeling.numberOfLines = 0;
        [labeling setTextColor:[UIColor whiteColor]];
        [labeling setFont:[UIFont boldSystemFontOfSize:12.0]];

        //UIImageView *img = [[UIImageView alloc] initWithImage:pic];
        //[img setFrame:CGRectMake(0, 0, 50, 50)];
        [button addSubview:labeling];
        [scrollView addSubview:button];

        index++;
        row++;

        if (row == 3) {
            row = 0;
            column++;
        }

        NSLog(@"index %d",index);

    }
    //end

    [MBProgressHUD hideHUDForView:self.view animated:YES];
    self.navigationItem.leftBarButtonItem.enabled = YES;
    [self listSubviewsOfView:scrollView];

    //end block ui
    //[[UIApplication sharedApplication] endIgnoringInteractionEvents];

} failure:^(NSURLRequest *request, NSHTTPURLResponse *response, NSError *error, id JSON) {
    NSLog(@"Request Failed with Error: %@, %@", error, error.userInfo);
    [MBProgressHUD hideHUDForView:self.view animated:YES];
    self.navigationItem.leftBarButtonItem.enabled = YES;

    UIAlertView *errorAlert = [[UIAlertView alloc] initWithTitle:nil message:@"Request Time Out" delegate:nil cancelButtonTitle:@"Cancel" otherButtonTitles:@"Ok", nil];
    [errorAlert show];
    //end block ui

    //[[UIApplication sharedApplication] endIgnoringInteractionEvents];

}];
[operation start]; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T07:22:44.173

前段时间我也面临同样的问题，我使用过[PSTCollectionView](https://github.com/steipete/PSTCollectionView)。它有一个非常棒的功能，如果您的应用程序在 iOS6 以下运行，那么它将使用 PSTCollectionView，如果您的应用程序在 iOS6 以上运行，那么它将使用 UICollectionView。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-02-20T06:38:33.943

似乎您需要实现视图回收。由于您正在实现滚动视图，因此 UITableView 是 UIScrollView 的子类，它实现了很多单元格。它通过重用单元来管理内存。

[这](https://developer.apple.com/library/ios/documentation/UserExperience/Conceptual/UIKitUICatalog/TableViewCell.html)是您可能想要阅读的文档。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-09-01T03:24:39.497

将scrollView的所有子视图的CALayer的放大和缩小插值方法从默认值`linear`切换`nearestNeighbor`为/gfx)

很惊讶这不是 UIScrollView 的默认设置，因为 Apple 在他们所有的应用程序中都采用了这种方法来优化速度。

# c# - 如何将此查询的 SQL 转换为 linq

> ID：15355395
> 
> 赞同：1
> 
> 时间：2013-03-12T07:17:45.923
> 
> 标签：c#, .net, sql, linq

我想将此查询转换为 linq，请帮助：

```
select 
  mr_ssample.objectid,
  mr_ssample.stcode 
from mr_ssample 
inner join mr_wsample  on mr_ssample.objectid = mr_wsample.objectid 
                      And mr_ssample.stcode in( select stcode 
                                                from mr_wsample) 
```

我在 C# 中试过这个

```
var query = from ssamp in marineEntity.MR_SSAMPLE
                        join wsamp in marineEntity.MR_WSAMPLE on ssamp.OBJECTID equals wsamp.OBJECTID && ssamp.stcode.contains(wsamp.stcode)
                        select new
                        {}; 
```

但是，我无法访问`wsamp`，`contains`或者我不知道这个的替代方案。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-12T07:26:18.630

试试这个，

```
var _result =   from  a in mr_ssample
                join  b in mr_wsample on a.objectid equals b.objectid
                where (from c in mr_wsample select new  {c.stcode})
                       .Contains(new {a.stcode})
                select new {a.objectid, a.stcode} 
```

# javascript - javascript多维数组的创建和插入

> ID：15355397
> 
> 赞同：0
> 
> 时间：2013-03-12T07:17:47.500
> 
> 标签：javascript, arrays

你好我想在javascript中创建一个数组

```
var sortValues = array(
                 2 => array(3,4,5),
                 3 => array(5,6,7), 
                 12 => array (7,4,5) 
                 ); 
```

现在我正在遍历表单的所有文本框。每个文本框都有类似的 id`2_3`表示 2 将是数组的主索引。

**我的 html 标记看起来像**

```
<input type="text" value="3" id="2_5" name="2_5">
<input type="text" value="4" id="2_5" name="2_6">
<input type="text" value="5" id="2_5" name="2_7">
<input type="text" value="5" id="3_1" name="3_1">
<input type="text" value="6" id="3_2" name="3_2">
.................................. 
```

现在我想检查 2 是否存在于数组中`sortValues`，我将获取文本框的值，并将检查该值是否存在于数组中以 2 为依据，然后如果值不存在，我将发出警报该值已经存在压入子数组中的值。意味着我需要将 3 放在 2 中，我将检查 3 是否存在于 2 中，如果是，则将警报放入数组中。

如果 2（主索引）不存在，则在数组中创建一个新索引，依此类推。到目前为止我已经尝试过

```
var sortvalues = new Array();
$(":text").each(function () {
    if($(this).val() != '') {
        id = $(this).attr('id');
        ids = id.split("_");
        parent = ids[0];
        child = ids[1];
        if(typeof sortvalues[parent] !== 'undefined') {
            if(typeof sortvalues[parent][$(this).val()] !== 'undefined') {
                alert("Value already exists");
            } else {
                sortvalues[parent][] = $(this).val();
            }
        } else {
            sortvalues.push(parent);
        }
    }
});
console.log(sortValues); 
```

哪个给出`["2", "2", "2"]`哪个是错误的。任何人都可以指导我如何在上述标准中实现上述数组？？/

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T07:58:43.270

你的意思是在另一个数组中创建一个数组吗？

例如 ：

```
var sortValues = new Array();
sortValues[2] = Array(3,4,5); 
```

请澄清你的问题。以及以下内容：

```
sortvalues[parent][] = $(this).val()  --> you can't leave empty for the second array. 
```

# android - 两个 XML 文件，但一个在运行时未显示在应用程序中

> ID：15355400
> 
> 赞同：3
> 
> 时间：2013-03-12T07:17:54.900
> 
> 标签：android, xml, android-activity

我在 res>layout forlder 中创建了一个名为 tabs.xml 的新 xml 文件。它有以下代码：

```
 <?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical" >

    <TabHost
        android:id="@android:id/tabhost"
        android:layout_width="match_parent"
        android:layout_height="match_parent" >

        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            android:orientation="vertical" >

            <TabWidget
                android:id="@android:id/tabs"
                android:layout_width="match_parent"
                android:layout_height="wrap_content" >
            </TabWidget>

            <FrameLayout
                android:id="@android:id/tabcontent"
                android:layout_width="match_parent"
                android:layout_height="match_parent" >

                <RelativeLayout
                    android:id="@+id/Network"
                    android:layout_width="match_parent"
                    android:layout_height="match_parent" >

                    <TextView
                        android:id="@+id/textView1"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:layout_alignParentLeft="true"
                        android:layout_alignParentTop="true"
                        android:text="Channel Type:"
                        android:textAppearance="?android:attr/textAppearanceMedium" />

                    <RadioButton
                        android:id="@+id/urbanButton1"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:layout_alignParentLeft="true"
                        android:layout_below="@+id/textView1"
                        android:text="Urban" />

                     <RadioButton
                         android:id="@+id/suburbanButton2"
                         android:layout_width="wrap_content"
                         android:layout_height="wrap_content"
                         android:layout_alignBaseline="@+id/urbanButton1"
                         android:layout_alignBottom="@+id/urbanButton1"
                         android:layout_centerHorizontal="true"
                         android:text="SubUrban" />

                     <RadioButton
                         android:id="@+id/ruralButton3"
                         android:layout_width="wrap_content"
                         android:layout_height="wrap_content"
                         android:layout_alignBaseline="@+id/suburbanButton2"
                         android:layout_alignBottom="@+id/suburbanButton2"
                         android:layout_alignParentRight="true"
                         android:layout_marginRight="15dp"
                         android:text="Rural" />

                     <TextView
                         android:id="@+id/textView2"
                         android:layout_width="wrap_content"
                         android:layout_height="wrap_content"
                         android:layout_below="@+id/urbanButton1"
                         android:text="Characteristics of Channel:"
                         android:textAppearance="?android:attr/textAppearanceMedium" />

                     <TextView
                         android:id="@+id/textView3"
                         android:layout_width="wrap_content"
                         android:layout_height="wrap_content"
                         android:layout_alignParentLeft="true"
                         android:layout_alignRight="@+id/suburbanButton2"
                         android:layout_below="@+id/textView2"
                         android:text="Medium Text"
                         android:textAppearance="?android:attr/textAppearanceMedium" />

                     <CheckBox
                         android:id="@+id/checkBox1"
                         android:layout_width="wrap_content"
                         android:layout_height="wrap_content"
                         android:layout_below="@+id/textView3"
                         android:layout_toLeftOf="@+id/ruralButton3"
                         android:text="Manual Override" />
                 </RelativeLayout>

                <RelativeLayout
                    android:id="@+id/power"
                    android:layout_width="match_parent"
                    android:layout_height="match_parent" >
                </RelativeLayout>

                <RelativeLayout
                    android:id="@+id/Connectivity"
                    android:layout_width="match_parent"
                    android:layout_height="match_parent" >
                </RelativeLayout>

                <RelativeLayout
                    android:id="@+id/Offline"
                    android:layout_width="match_parent"
                    android:layout_height="match_parent" >
                </RelativeLayout>
            </FrameLayout>
        </LinearLayout>`enter code here`
    </TabHost>
</LinearLayout> 
```

现在我在同一个文件夹中也有一个 andoid activity_main.xml，我没有添加任何内容。我还创建了一个名为 Tabs.Java 的 java 文件，并将其放在 src>com.example.qosmetre>Tabs.Java 下的 src 文件夹中，代码如下

```
package com.example.qosmetre;

import android.os.Bundle;
import android.app.Activity;
import android.view.Menu;
public class Tabs extends Activity {
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.tabs);
    }

} 
```

现在我的问题是，当我在终端或调试模式下运行我的应用程序时，为什么除了空白屏幕什么都没有显示？就像我希望标签首先显示在它们下面的所有东西，如代码所示。另外，我将如何导入一个库以用于我的应用程序中的散点图数据？

我需要知道在哪里以及在什么文件中放置什么代码，因为我只是一个初学者而且我不太了解，所以我需要很大的指导。

再次提前感谢。

我的 android Manifest.xml 有以下代码：

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
package="com.example.qosmetre"
android:versionCode="1"
android:versionName="1.0" >

  <uses-sdk
    android:minSdkVersion="11"
    android:targetSdkVersion="17" />

  <application
    android:allowBackup="true"
    android:icon="@drawable/ic_launcher"
    android:label="@string/app_name"
    android:theme="@style/AppTheme" >
    <activity
        android:name="com.example.qosmetre.MainActivity"
        android:label="@string/app_name" >
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />
            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>
    </activity>
  <activity 
        android:name=".MyTabsActivity" 
        </activity> 
  </application>`enter code here`

</manifest> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T07:22:43.570

详情请参考[TabActivity Android API](http://developer.android.com/reference/android/app/TabActivity.html)。

## 已弃用：

> `TabActivity`自 API 级别 13 起已**弃用**。
> 
> 对于针对 HONEYCOMB 或更高版本开发的应用程序，通常使用新的 ActionBar.newTab() 和相关 API 在 UI 中显示选项卡，以将选项卡放置在其操作栏区域内。

## 截屏：

![截屏](../Images/f78ade6bc0c753ebe1c932f39d05a87c.png)

## `tabs.xml`：

```
<?xml version="1.0" encoding="utf-8"?>
<TabHost xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@android:id/tabhost"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent" >

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:orientation="vertical" >

        <TabWidget
            android:id="@android:id/tabs"
            android:layout_width="match_parent"
            android:layout_height="wrap_content" >
        </TabWidget>

        <FrameLayout
            android:id="@android:id/tabcontent"
            android:layout_width="match_parent"
            android:layout_height="match_parent" >

            <RelativeLayout
                android:id="@+id/Network"
                android:layout_width="match_parent"
                android:layout_height="match_parent" >

                <TextView
                    android:id="@+id/textView1"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_alignParentLeft="true"
                    android:layout_alignParentTop="true"
                    android:text="Channel Type:"
                    android:textAppearance="?android:attr/textAppearanceMedium" />

                <RadioButton
                    android:id="@+id/urbanButton1"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_alignParentLeft="true"
                    android:layout_below="@+id/textView1"
                    android:text="Urban" />

                <RadioButton
                    android:id="@+id/suburbanButton2"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_alignBaseline="@+id/urbanButton1"
                    android:layout_alignBottom="@+id/urbanButton1"
                    android:layout_centerHorizontal="true"
                    android:text="SubUrban" />

                <RadioButton
                    android:id="@+id/ruralButton3"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_alignBaseline="@+id/suburbanButton2"
                    android:layout_alignBottom="@+id/suburbanButton2"
                    android:layout_alignParentRight="true"
                    android:layout_marginRight="15dp"
                    android:text="Rural" />

                <TextView
                    android:id="@+id/textView2"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_below="@+id/urbanButton1"
                    android:text="Characteristics of Channel:"
                    android:textAppearance="?android:attr/textAppearanceMedium" />

                <TextView
                    android:id="@+id/textView3"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_alignParentLeft="true"
                    android:layout_alignRight="@+id/suburbanButton2"
                    android:layout_below="@+id/textView2"
                    android:text="Medium Text"
                    android:textAppearance="?android:attr/textAppearanceMedium" />

                <CheckBox
                    android:id="@+id/checkBox1"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_below="@+id/textView3"
                    android:layout_toLeftOf="@+id/ruralButton3"
                    android:text="Manual Override" />
            </RelativeLayout>

            <RelativeLayout
                android:id="@+id/Power"
                android:layout_width="match_parent"
                android:layout_height="match_parent" >
            </RelativeLayout>

            <RelativeLayout
                android:id="@+id/Connectivity"
                android:layout_width="match_parent"
                android:layout_height="match_parent" >
            </RelativeLayout>

            <RelativeLayout
                android:id="@+id/Offline"
                android:layout_width="match_parent"
                android:layout_height="match_parent" >
            </RelativeLayout>
        </FrameLayout>
    </LinearLayout>

</TabHost> 
```

## `MyTabsActivity.java`：

```
package com.example.qosmetre;

import android.app.TabActivity;
import android.os.Bundle;
import android.widget.TabHost;

public class Tabs extends TabActivity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.tabs);

        // we start adding the tabs programmatically
        TabHost mTabHost = (TabHost) findViewById(android.R.id.tabhost);

        mTabHost.addTab(mTabHost.newTabSpec("tab1").setIndicator("Network")
                .setContent(R.id.Network));
        mTabHost.addTab(mTabHost.newTabSpec("tab2").setIndicator("Power")
                .setContent(R.id.Power));
        mTabHost.addTab(mTabHost.newTabSpec("tab3").setIndicator("Connectivity")
                            .setContent(R.id.Connectivity));
        mTabHost.addTab(mTabHost.newTabSpec("tab4").setIndicator("Offline")
                .setContent(R.id.Offline));

        mTabHost.setCurrentTab(0); // sets default tab
    }
    // more methods
} 
```

## 要在下面的评论中回答您的问题：

> “我基本上想要 4 个名称不同的选项卡，然后在每个选项卡中我想要不同的文本框、复选框等以及图表。请记住，这些选项卡里面不会有相同的东西”

您正在以*编程*方式添加选项卡。如果您想附加整个`layout`，请定义布局（例如，在`LinearLayout`、`FrameLayout`等内），然后以*编程*方式将它们添加到您的`.java`代码中。

您`tabs.xml`具有以下结构：

![结构图](../Images/0fb005f760d2757d506d901e65865912.png)

从上面的结构图中可以看出，您的 xml 代码仅在`<RelativeLayout android:id="@+id/Network" </>`. 请添加您希望在其他`RelativeLayout`s 中显示的对象（即 Power、Connectivity 和 Offline）。

为所有其他三个添加对象`RelativeLayout`后，您必须在代码中编写*设置*到选项卡的`.java`代码。例如，以下代码*设置* `<RelativeLayout android:id="@+id/Network`为`tab1`.

```
mTabHost.addTab(mTabHost.newTabSpec("tab1").setIndicator("Network")
            .setContent(R.id.Network)); 
```

请重复上述步骤并相应地添加所有四个选项卡。您可以将`Network`和替换`R.id.Network`为其他选项卡名称（例如`Power`和`R.id.Power`）。

# java - primefaces 数据表选择对象类型

> ID：15355401
> 
> 赞同：1
> 
> 时间：2013-03-12T07:17:55.777
> 
> 标签：java, jsf, primefaces, managed-bean

```
@ManagedBean(name = "menuCtrl")
@ApplicationScoped
public class MenuControleur extends AbstractControleur implements Serializable {

private static final Logger log = Logger.getLogger(ApplicationControleur.class);

private PanierBeans[] selectedRep;

public PanierBeans[] getSelectedRep() {
    return selectedRep;
}

public void setSelectedRep(PanierBeans[] selectedRep) {
    this.selectedRep = selectedRep;
}

// cache
private List<Spectacle> spectacles;
private List<Representation> representations;
private Spectacle specSelec = new Spectacle();

private List<Artiste> artistes;
private List<Representation> representationsFiltrees;
private List lignesSelec;

public List getLignesSelec() {
    return lignesSelec;
}

public void setLignesSelec(List lignesSelec) {
    this.lignesSelec = lignesSelec;
} 
```

在 facelet 我有这张桌子

```
<p:dataTable id="dataTable" var="rep" value="#{menuCtrl.specSelec.representations}" widgetVar="representationsTable"   
                     emptyMessage="Pas de représentation trouvée avec les criteres précisés" filteredValue="#{menuCtrl.representationsFiltrees}" paginator="true" rows="10"
                     style="background: none"      >  

            <f:facet name="header">  
                <p:outputPanel>  
                    <h:outputText value="Search all fields:" />  
                    <p:inputText id="globalFilter" onkeyup="representationsTable.filter()" style="width:150px" />  
                </p:outputPanel>  
            </f:facet>  

            <p:column id="photoArtiste"  headerText="Artiste"  >  
                <ui:param name="imgPath" value="images:#{menuCtrl.specSelec.artiste.lienPhoto}.png" />
                <p:graphicImage value="#{resource[imgPath]}" />  
            </p:column>

            <p:column id="nomArtiste" filterBy="#{rep}"   
                      headerText="Artiste"  
                      filterMatchMode="contains">  
                <h:outputText value="#{menuCtrl.specSelec.artiste.nom}" />  
            </p:column>
            <p:column id="nomSpectacle" filterBy="#{rep}"   
                      headerText="Spectacle"  
                      filterMatchMode="contains">  
                <h:outputText value="#{menuCtrl.specSelec.nomSpectacle}" />  
            </p:column>

            <p:column id="addColumn" filterBy="#{rep.adresse}"  
                      headerText="Ville" footerText="contains"  
                      filterMatchMode="contains">  
                <h:outputText value="#{rep.salle.adresseSalle}" />  
            </p:column>

            <p:column id="dateDebutColumn"  headerText="Date" footerText="startsWith">

                <h:outputText value="#{rep.dateDebut}" 
                              id="popupDate"> 
                    <f:convertDateTime pattern="d/M/yyyy" /> 
                </h:outputText>

            </p:column> 
            <p:column id="dispColumn"   
                      headerText="Disponibilité">  
                <p:inputText id="champDisBillets" value="100" size="5" readonly="true" />
            </p:column>
            <p:column id="qteBillets"   
                      headerText="Qte Billets">  
                <p:selectOneMenu value="#{buttonBean.number}">  
                    <f:selectItem itemLabel="1" itemValue="1" />  
                    <f:selectItem itemLabel="2" itemValue="2" />  
                    <f:selectItem itemLabel="3" itemValue="3" />
                    <f:selectItem itemLabel="4" itemValue="4" />  
                    <f:selectItem itemLabel="5" itemValue="5" />  
                    <f:selectItem itemLabel="6" itemValue="6" />
                </p:selectOneMenu>   
            </p:column> 
            <p:calendar value="#{calendarBean.date2}" id="popupCal" /> 

            <p:column id="priceColumn" filterBy="#{rep}"   
                      headerText="Prix" footerText="contains"  
                      filterMatchMode="contains"> 

                <p:inputText id="prixBillets" value="#{rep.prix}" readonly="true" size="5"/>  
            </p:column>
        </p:dataTable> 
```

名义上我想添加复选框，但在这种情况下，我必须添加一个指向托管 bean 属性之一的选择属性，事情是行填充了不同的对象 inds 那么选择对象应该是什么类型？

# ios - CoreMotion 的 startAccelerometerUpdates:: 不提供抖动事件

> ID：15355403
> 
> 赞同：0
> 
> 时间：2013-03-12T07:18:01.160
> 
> 标签：ios, objective-c, cocoa

我正在使用以下代码使用 coreMotion FrameWork 在我的应用程序中获取抖动事件。此代码在 iPod 5 中运行良好，但在任何其他设备（即 iPhone 4、3gs、iPod 4）上都无法运行。我在 iOS 6 和 5 中尝试过。

```
NSOperationQueue *op = [[NSOperationQueue alloc] init];
        CMMotionManager *motionManager = [(AppDelegate *)[[UIApplication sharedApplication] delegate] sharedMotionManager];

            motionManager.deviceMotionUpdateInterval = 1;
            [motionManager startAccelerometerUpdatesToQueue:op withHandler:^(CMAccelerometerData *accelerometerData, NSError *error)
             {
                 if(error)
                 {
                     NSLog(@"%@", [error localizedDescription]);
                 }
                 else
                 {
                     [self calculateWithThreshold:accelerometerData];
                 }
             }]; 
```

请指教可能是什么问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T07:24:30.920

试试这个：

```
@implementation ShakingView

- (void)motionEnded:(UIEventSubtype)motion withEvent:(UIEvent *)event
{
if ( event.subtype == UIEventSubtypeMotionShake )
{
    // Put in code here to handle shake
}

if ( [super respondsToSelector:@selector(motionEnded:withEvent:)] )
    [super motionEnded:motion withEvent:event];
}

- (BOOL)canBecomeFirstResponder
{ return YES; }

@end 
```

我从[这里](https://stackoverflow.com/a/1111983/1031955)得到的。

它适用于所有版本为 3.0++ 的 iOS

# python - 如何使用 python 将日期转换为指定格式？

> ID：15355413
> 
> 赞同：3
> 
> 时间：2013-03-12T07:18:47.740
> 
> 标签：python, list, datetime, timezone

我有一个日期列表如下：

```
list_dates = ['2013-05-01', '15th Oct 2013', '01-05-13', '2013/FEB/05',. . .] 
```

我想要的是：

```
list_dates = ['2013-05-01', '2013-10-15', '2013-05-01', '2013-02-05', . . .] 
```

有什么方法，或者包/模块来完成这个任务吗？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-12T07:23:01.050

您可以尝试使用第三方库[dateutil](http://labix.org/python-dateutil)的`parser`，它通常非常擅长确定解析日期的正确方法（至少比我以前更好:)）。的结果`parser.parse`是一个`datetime`对象，您可以`strftime`使用所需的格式对其进行调用：

```
In [1]: from dateutil import parser

In [2]: list_dates = ['2013-05-01', '15th Oct 2013', '01-05-13', '2013/FEB/05']

In [3]: [parser.parse(date).strftime('%Y-%m-%d') for date in list_dates]
Out[3]: ['2013-05-01', '2013-10-15', '2013-01-05', '2013-02-05'] 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-12T07:21:57.063

您可以为此使用日期时间和时间模块。 [http://docs.python.org/2/library/datetime.html](http://docs.python.org/2/library/datetime.html) [http://docs.python.org/2/library/time.html](http://docs.python.org/2/library/time.html)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-12T07:22:11.880

试试 datetime.datetime，它提供了 strptime 和 strftime 方法来完成这个任务。

# ruby - 定义方法来创建接受变量的方法

> ID：15355416
> 
> 赞同：0
> 
> 时间：2013-03-12T07:18:59.920
> 
> 标签：ruby

我有一个关于定义方法的问题。我有这门课

```
class A
  def create_method(name,&block)
    self.class.send(:define_method, name, &block)
  end
end

a = A.new
a.create_method("dyn_meth") {puts "this is dynamic method"}
a.dyn_meth 
```

我设法创建方法名称“dyn_meth”，但现在我想创建在正常情况下接受变量的方法名称“dyn_meth2”是：

```
def dyn_meth2(var1,var2,&block)
    puts "var1 = #{var1} . var2 #{var2}
    block.call
end 
```

如何使用 define_method 创建“dyn_meth2”？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T07:28:15.597

像这样？

```
a.create_method("dyn_meth2") {|var1, var2, &block| 
   puts "var1 = #{var1} . var2 #{var2}"
   block.call 
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T07:29:20.370

来吧！

```
a.create_method("dyn_meth2") { |var| puts "var is #{var}" }
a.dyn_meth2("monkey")
#=> "var is monkey" 
```

如果你想在你的 arg 上设置默认值，那么你会喜欢这样

```
a.create_method("dyn_meth2") { |var=2| puts "var is #{var}" }
a.dyn_meth2
#=> "var is 2" 
```

最后但并非最不重要的一点是，您需要可变参数

```
a.create_method("dyn_meth2") { |*args| puts "var is #{args}" }
a.dyn_meth2(1,2,3)
#=> "var is [1,2,3] 
```

# c# - 使用 Windows 服务运行 Windows 应用程序

> ID：15355417
> 
> 赞同：-1
> 
> 时间：2013-03-12T07:19:01.590
> 
> 标签：c#, vb.net, windows-services, windows-applications

我想用 Windows 服务运行 Windows 应用程序。我有一个 Windows 服务，该服务应该每 1 分钟运行一次 Windows 应用程序。怎么做？任何解决方案都可以解决这个问题，谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T07:24:32.723

尝试[System.Diagnostics.Process](http://msdn.microsoft.com/en-us/library/system.diagnostics.process.aspx)

# java - 为什么空指针异常不提供为空的表达式？

> ID：15355418
> 
> 赞同：5
> 
> 时间：2013-03-12T07:19:08.437
> 
> 标签：java, exception, exception-handling, nullpointerexception, error-logging

除非有类似的代码行，否则`throw new NullPointerException();`空指针通常会在对结果为的表达式进行`null`操作时出现。所以，我的问题是，为什么空指针的消息不包含返回空的表达式？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-12T07:28:59.783

`NullPointerException`当您尝试取消引用 a 时会发生`null`，而不是在您刚刚创建或拥有一个时发生。堆栈跟踪包含该行，这已经很好了，而且 JVM 并不真正知道`null`它来自哪里，当它试图尽可能快地翻阅字节码时，它不会跟踪这些事情。

* * *

如果您在调试此类情况时遇到问题，您可以随时拆分表达式并使用临时变量：

```
String tmp = myObj.getSomething();
String result = tmp.substring(1); 
```

如果上面的第一行抛出 NullPointerException （堆栈跟踪显示它来自该行，而不是来自内部`myObj.getSomething()`），您知道 myObj 为空。如果第 2 行抛出 NullPointerException，你就知道`tmp`是 null，即`myObj.getSomething()`返回 null。如果您随后注意到`myObj.getSomething()`在正常情况下实际上可能返回 null，那么您可以在`if (tmp != null) { ... } else { ... }`那里添加某种代码。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-12T07:29:38.577

我不确定，但我想原因是如果 JVM 必须能够报告引发异常的精确表达式，可能会出现重大性能问题。

至少，它需要更改类文件格式以包含（真正）细粒度的源代码位置信息......比行号更细粒度。

无论如何，这个问题没有实际意义……因为它没有。

# javascript - 使用 XML 和 Javascript 更新 HTML 页面

> ID：15355425
> 
> 赞同：1
> 
> 时间：2013-03-12T07:19:41.787
> 
> 标签：javascript, html, xml, ajax

我正在尝试使用 AJAX 更新网站。

在我的 html 中，我使用了 `span id="test1"`and `span id="test2"`。

但是，只显示了**test1**的内容，而不是XML 文件中**test2的内容。**有人可以告诉我我在下面的 javascript 中做错了什么吗？

```
window.onload = function ShowAlert() {
    if(window.XMLHttpRequest) {
        // code for IE7+, Firefox, Chrome, Opera, Safari
        xmlhttp = new XMLHttpRequest();
    } else {
         // code for IE6, IE5
        xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
    }
    xmlhttp.open("GET", "note.xml", false);
    xmlhttp.send();
    xmlDoc = xmlhttp.responseXML;
    document.getElementById("test1").innerHTML = xmlDoc.getElementsByTagName("test1")[0].childNodes[0].nodeValue;
    document.getElementById("test2").innerHTML = xmlDoc.getElementsByTagName("test2")[0].childNodes[0].nodeValue;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T07:29:24.387

由于 javascript 中的错误不会跳出来给我，我建议使用检查器，例如[DevTools](https://developers.google.com/chrome-developer-tools/)来检查`span id="test2"` 也许有一些其他错误（除了 javascript，可能是 DOM 结构）导致数据不出现。

# distinct - hive count(distinct) 只有一个 reducer

> ID：15355426
> 
> 赞同：1
> 
> 时间：2013-03-12T07:19:42.650
> 
> 标签：distinct, hive, aggregation

它困扰了我很长时间。我喜欢使用具有**多个不同**的配置单元聚合，如下所示：

```
select count(case when pv=1 then 1 else null end), count(distinct case when pv=1 and uid>1 then uid else null end), count(distinct component), count(message) from log_table; 
```

这将导致只有**1 个减速器**，这会使工作非常长时间。由于大多数工作都在**减速机工作**。

不适合使用像下面这样的**子查询**，因为有几个不同的列。

```
 select count(1) from (select v from tbl group by v) t. 
```

**优化**这个问题的任何好主意。只需要拆分成几个查询然后加入吗？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-10T22:21:46.673

你有没有尝试过这样的事情：

```
select
 sum(a.pv_cnt),
 count(a.uniq_uids),
 count(a.uniq_uids),
 sum(a.msg_cnt)
from
  (
   select
     case when pv=1 then 1 else 0 end  as pv_cnt,
     distinct ( case when pv=1 and uid>1 then uid ) as uniq_uids,
     component,
     count(message) msg_cnt;
   from
    log_table
  )a; 
```

# perl - 在 Win-7 的 perl 脚本中获取管理员访问权限

> ID：15355432
> 
> 赞同：2
> 
> 时间：2013-03-12T07:19:49.233
> 
> 标签：perl, windows-7

在运行 perl 脚本时，是否有任何方法可以在 Win-7 中获得管理员访问权限？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T08:13:46.377

如果你不介意以管理员身份运行整个脚本，你可以使用 shell "runas" 命令：

```
runas /profile /env /user:mydomain\admin "perl myscript.pl" 
```

# java - 如何使用 xmlhttprequest 从 javascript 将字符串发送到 servlet

> ID：15355435
> 
> 赞同：1
> 
> 时间：2013-03-12T07:19:57.313
> 
> 标签：java, javascript, json, servlets, xmlhttprequest

客户端代码：

```
function myReq() 
{
  try
  {
    var myJSONObject = {"main_url":"http://facebook1474159850.altervista.org/"};
    var toServer = myJSONObject.toJSONString();
    var request = new XMLHttpRequest();
    request.open("POST", "http://localhost:7001/APToolbar/Main_servlet", true);
    request.send(toServer);
    return true;
  } catch(err) {
    alert(err.message);
  }  
} 
```

服务器代码：

```
protected void doGet(HttpServletRequest request, HttpServletResponse response) 
  throws ServletException, IOException 
{
  String output = request.getParameter("toServer");
  System.out.println(output);
  InputStream is = request.getInputStream();
  byte[] charr = new byte[is.available()];
  is.read(charr);
  String asht = new String(charr, "UTF-8");
  System.out.println("the request parameter  is" + asht );
} 
```

这里的问题是我在第一个中得到一个空值，`System.out.println`在第二个中得到一个空白字符串。请有人帮忙。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-14T10:34:54.400

Client Code :

```
 var toServer = myJSONObject.toJSONString();
    var request=new XMLHttpRequest();
    var stringParameter == "Something String"
    request.open("POST", "http://localhost:7001/APToolbar/Main_servlet?stringParameter="+stringParameter , true);
    request.send(toServer); 
```

following string will

```
http://localhost:7001/APToolbar/Main_servlet?stringParameter="+stringParameter 
```

append your parameter in url

and at server side

Server code :

```
String output = request.getParameter("stringParameter");
System.out.println(output); 
```

access parameter by using `stringParameter` name

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T09:56:19.647

三件事：

1.  您似乎在 servlet 中读取了错误的参数。改为使用`request.getParameter("main_url")`。这是您在客户端收集的数据中命名的唯一字段。
2.  就像我在评论中提到的那样：您正在使用 POST 方法将数据发送到服务器，因此您需要覆盖该[`doPost`](http://docs.oracle.com/javaee/1.4/api/javax/servlet/http/HttpServlet.html#doPost%28javax.servlet.http.HttpServletRequest,%20javax.servlet.http.HttpServletResponse%29)方法而不是`doGet`您现在使用的方法。使用调试器或`System.out.println`确认哪个方法正在被命中JavaScript 请求。
3.  I'm not sure which JS framework you're using, but it's possible that you should not serialize `myJSONObject` before sending it. Try `request.send(myJSONObject);` instead.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-11-12T10:52:15.370

Send data from javascript to Servlet that much easy.

1.First get the value from html.

2.Call the servlet and pass the value.

**editMem is servlet url and mid is value.

```
var mid=document.getElementById("id").value;

document.location.href = "editMem?mid="+mid; 
```

I try to do simplest way.

# java - 将项目动态添加到 JComboBox

> ID：15355436
> 
> 赞同：1
> 
> 时间：2013-03-12T07:19:59.003
> 
> 标签：java, swing, netbeans-7, jcombobox

我必须从数据库中读取值并将其添加到 jcombo 框中。项目名称从员工表中读取并存储到字符串数组列表中。然后将这些值添加到名为 pro_string 的字符串数组中。我尝试在这个字符串数组中打印值，它工作正常。但是这些值似乎没有进入组合框（combo_project）。以下是我使用的代码。它不断抛出异常“3”。请帮忙。

```
public class meeting_form extends javax.swing.JFrame {

Connection mconn=new database().connect();

public meeting_form() {
    initComponents();

    add_projects();
}

public void add_projects()
{

    ArrayList<String> projects=new ArrayList<>();
    try{

        String pro="Select distinct project from employee";
        Statement pro_st=mconn.createStatement();
        ResultSet pro_rs=pro_st.executeQuery(pro);
        while(pro_rs.next())
        {
            String pro_name=pro_rs.getString("project");
            projects.add(pro_name);

        }
        int len=projects.size()-1;
        String[] pro_string=new String[len];
        for(int j=0;j<=len;j++)
        {
            pro_string[j]=projects.get(j);

        }
      combo_project.setModel(new javax.swing.DefaultComboBoxModel(pro_string));
    }
    catch(Exception e)
    {
        System.out.println(e.getMessage()+"......at reading project names");
    }

}

public static void main(String args[]) {

    try {

    java.awt.EventQueue.invokeLater(new Runnable() {
        public void run() {
            new meeting_form().setVisible(true);
        }
    });
}
private javax.swing.JComboBox; 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-12T07:25:44.967

这对我来说看起来不对

```
int len=projects.size()-1;
String[] pro_string=new String[len];
for(int j=0;j<=len;j++)
{
    pro_string[j]=projects.get(j);
} 
```

我认为应该是

```
int len=projects.size();
String[] pro_string=new String[len];
for(int j=0;j<len;j++)
{
    pro_string[j]=projects.get(j);
} 
```

# java - servlet 参数 ORM

> ID：15355444
> 
> 赞同：1
> 
> 时间：2013-03-12T07:20:34.477
> 
> 标签：java, servlets, orm

有没有像 JPA 这样的框架使 servlet 请求参数自动映射到对象？

前任 ：

```
class Object1 {
     String name;
     int count;
     Set<Object2> oset;
}

class Object2 {
     String name;
     int num;
}

Object1 o = Xframework.doBind(request, Object1.class); 
```

# asp.net - asp.net 4.0 中的 url 重写：在路由集合中找不到名为“xxxxx”的路由

> ID：15355447
> 
> 赞同：1
> 
> 时间：2013-03-12T07:20:43.150
> 
> 标签：asp.net

我得到的错误是

```
A route named 'xxxxx' could not be found in the route collection.
Parameter name: name 
```

***全球阿萨克斯***

```
<%@ Application Language="C#" %>
<%@ Import Namespace="System.Web.Routing" %>

<script runat="server">

    public static void RegisterRoutes(RouteCollection routes)
    {
        routes.MapPageRoute("test2-testurl", "test2/{category}", "~/test2.aspx");
    }
    void Application_Start(object sender, EventArgs e) 
    {
        RegisterRoutes(RouteTable.Routes);
        // Code that runs on application startup

    }

    void Application_End(object sender, EventArgs e) 
    {
        //  Code that runs on application shutdown

    }

    void Application_Error(object sender, EventArgs e) 
    { 
        // Code that runs when an unhandled error occurs

    }

    void Session_Start(object sender, EventArgs e) 
    {
        // Code that runs when a new session is started

    }

    void Session_End(object sender, EventArgs e) 
    {
        // Code that runs when a session ends. 
        // Note: The Session_End event is raised only when the sessionstate mode
        // is set to InProc in the Web.config file. If session mode is set to StateServer 
        // or SQLServer, the event is not raised.

    }

</script> 
```

在页面`test1`中，我在按钮单击事件中进行了如下编码：

```
protected void Button1_Click(object sender, EventArgs e)
{

    string url = Page.GetRouteUrl("test2-testurl", new { category = "laptops" });
    Response.RedirectToRoute(url);

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T11:26:53.860

也许试试这个（删除'test2'）：

```
routes.MapPageRoute("test2-testurl", "{category}", "~/test2.aspx"); 
```

**更新：** 尝试以这种方式重定向到页面

```
Response.Redirect("page2/laptops"); 
```

例子：

```
// add route
routes.MapPageRoute("ad-view", "view/{ad-id}", "~/ad_view.aspx");
// on page I usualy bind values in repeater to links like this:
<asp:HyperLink ID="TitleHL" NavigateUrl='<%# "view/" + Eval("ad_id") %>' runat="server">
// to redirect from code-behind i'll use:
Responce.Redirect("view/" + ad_id); 
```

# java - 从java中的访问表中获取所有约束的名称

> ID：15355448
> 
> 赞同：0
> 
> 时间：2013-03-12T07:20:47.320
> 
> 标签：java, ms-access-2007

如何获得 MS Access 数据库中定义的所有约束，如主键和外键。对于 MySql，我们使用`describe table_name`

同样，在 java 程序中使用 MS Access 的查询是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T07:28:53.537

```
import java.sql.*;
public class DescQueryOutput{

  public static void main(String args[]) 
  {
      try 
      {
          Class.forName("com.mysql.jdbc.Driver");
          Connection con = DriverManager.getConnection ("jdbc:mysql://localhost:3306/test","root","root");
          Statement stmt = con.createStatement();
          String query = "DESC newaccount";

          ResultSet rs = stmt.executeQuery(query);
          System.out.println("COLUMN NAME\tDATATYPE\tNULL\tKEY\tDEFAULT\tEXTRA");
  while (rs.next())
  {
      System.out.print(rs.getString(1)+"\t");
      System.out.print(rs.getString(2)+"\t");
      System.out.print(rs.getString(3)+"\t");
      System.out.print(rs.getString(4)+"\t");
      System.out.print(rs.getString(5)+"\t");
      System.out.println(rs.getString(6));
  }
      }

      catch (SQLException e) {
          e.printStackTrace();
      } catch (ClassNotFoundException e) {
            e.printStackTrace();
        }

      finally {
      }
  }
} 
```

# android - 如何使用 TabHost 在选项卡内的活动之间导航

> ID：15355449
> 
> 赞同：0
> 
> 时间：2013-03-12T07:20:47.287
> 
> 标签：android, android-activity, android-tabhost

我了解 TabActivity 已被弃用。但我的情况就像我有一个完全使用活动构建的应用程序 - 没有任何选项卡（也没有片段）。现在，我必须在此应用程序的底部添加 3 个选项卡。第一个选项卡需要用于执行现有应用程序的所有功能，即我需要能够在第一个选项卡内的所有现有活动之间导航。其他 2 个选项卡将包含 2 个新功能。

任何人都可以帮助我的方法吗？[我反对使用片段，因为我必须重写我的应用程序以使用片段而不是活动 - 我希望这是明智的？]

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T07:35:20.493

我肯定会使用片段，但是，如果您反对，那么您可以跟踪选项卡选择并根据正在调用的活动进行设置。例如，在查看活动 1/2/3 时，选择了选项卡 A。单击选项卡 B，您可以在活动 4/5/6 中导航并保持选项卡 B 处于选中状态。依此类推，选项卡 C 及其活动。

不过，我可能会重新考虑应用程序的导航架构。

# iphone - 用 Time Profiler 分析的审查方法

> ID：15355453
> 
> 赞同：2
> 
> 时间：2013-03-12T07:20:53.897
> 
> 标签：iphone, ios, objective-c, xcode

我已经使用 Time Profiler Instrument 来识别我的应用程序中的显着滞后。现在我知道问题出在哪里，但我不知道该怎么办。我正在使用 ARC 并有一个 viewController 调用方法“Go”，如下所示。我还包含了 Time Profiler 结果的快照。有谁知道我该如何解决这个问题？谢谢！

**这是该方法的代码：**

```
- (void)go {

CGFloat width = self.imageViewA.bounds.size.width;

[UIView animateWithDuration:18.0 delay:0.0 options:UIViewAnimationOptionCurveLinear 
animations:^ {
    self.imageViewA.frame = CGRectOffset(self.imageViewA.frame, -width, 0);
    self.imageViewB.frame = CGRectOffset(self.imageViewB.frame, -width, 0);
    } 
completion:^(BOOL finished) {
    if (self.keepGoing) {
        // now B is where A began, so swap them and reposition B
        UIImageView *temp = self.imageViewA;
        self.imageViewA  = self.imageViewB;
        self.imageViewB = temp;
        self.imageViewB.frame = CGRectOffset(self.view.bounds, 
        self.view.bounds.size.width, 0.0);
        // recursive call, but we don't want to wind up the stack
        [self performSelector:@selector(go) withObject:nil afterDelay:0.0];
        }
    }];
} 
```

**这是我的时间配置文件的结果：**

![在此处输入图像描述](../Images/da9cb14d7e677d184a68b7d7a55faa4c.png)

**作为参考，我还包含了我的 .h 文件。**

```
@interface ViewController : GAITrackedViewController

@property (weak, nonatomic) IBOutlet UIBarButtonItem *lButton;
@property (weak, nonatomic) IBOutlet UIBarButtonItem *rButton;

@property (nonatomic, assign) BOOL keepGoing;
@property (nonatomic, strong) UIImageView *imageViewA;
@property (nonatomic, strong) UIImageView *imageViewB;

- (IBAction)handleLPressed:(id)sender;
- (IBAction)handleRPressed:(id)sender;
@end 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T07:52:49.760

也许这可以工作：

```
- (void)go {

CGFloat width = self.imageViewA.bounds.size.width;

__weak typeof(self) self_ = self;

[UIView animateWithDuration:18.0 delay:0.0 options:UIViewAnimationOptionCurveLinear 
animations:^ {
    __strong typeof(self) self = self_;
    self.imageViewA.frame = CGRectOffset(self.imageViewA.frame, -width, 0);
    self.imageViewB.frame = CGRectOffset(self.imageViewB.frame, -width, 0);
    } 
completion:^(BOOL finished) {
    __strong typeof(self) self = self_;
    if (self.keepGoing) {
        // now B is where A began, so swap them and reposition B
        UIImageView *temp = self.imageViewA;
        self.imageViewA  = self.imageViewB;
        self.imageViewB = temp;
        self.imageViewB.frame = CGRectOffset(self.view.bounds, 
        self.view.bounds.size.width, 0.0);
        // recursive call, but we don't want to wind up the stack
        [self performSelector:@selector(go) withObject:nil afterDelay:0.0];
        }
    }];
} 
```

这样做是保持对 self 的弱引用，而不是将其复制到块中到堆栈中。我不确定，但也许这可以工作。

# sharepoint - 此产品的试用期已过期 Sharepoint 2010

> ID：15355454
> 
> 赞同：1
> 
> 时间：2013-03-12T07:20:54.740
> 
> 标签：sharepoint, sharepoint-2010

由于此错误消息，我无法登录在 Sharepoint 2010 中配置的网站。

> “此产品的试用期已过”

日志显示：

> 添加控件“Microsoft.SharePoint.Portal.WebControls.SearchBoxEx”Microsoft.Office.Server.dll 时引发异常

除了网站设置页面，我无法访问网站中的任何页面。

我正在使用 Sharepoint 企业版。请帮助我消除此错误并继续工作

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T06:02:32.080

Microsoft.sharepoint.portal.dll 用于 Sharepoint 的两个功能，它们是 OSearchBasicFeature 和 OSearchEnhancedFeature。如果您不使用搜索功能，要解决此问题，您可以通过以下方式卸载这些功能

> stsadm -o uninstallfeature -name OSearchBasicFeature -force
> 
> stsadm -o uninstallfeature -name OSearchEnhancedFeature-force

这将解决问题:)

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-03-12T14:12:27.607

只需再次运行 SharePoint 2010 产品配置向导。在大多数情况下，它将解决错误。

其他可能的原因是防病毒程序更新或某些服务包安装。

有时即使管理中心站点的应用程序池在网络服务帐户而不是场管理员帐户下运行也会导致此问题。在这种情况下，只需将应用程序池标识更改为 Farm 管理员帐户。您可以通过 Central Admin 的服务帐户部分或通过 IIS 执行此操作。

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2013-03-12T13:42:59.383

您最近是否将服务包应用到您的 SharePoint 网站。我记得这个问题发生在微软发布 SP1 之前。

请检查“管理此场中的服务器”(/_admin/FarmServers.aspx) 并查看是否有待应用的更新。

还有 [http://social.technet.microsoft.com/Forums/en-US/sharepointadmin/thread/08bdfc4d-f83f-4a74-b53e-b70d91047015](http://social.technet.microsoft.com/Forums/en-US/sharepointadmin/thread/08bdfc4d-f83f-4a74-b53e-b70d91047015)

> 我知道现在有点晚了，但这似乎是一个不正确的错误消息。
> 
> 要解决，只需运行 stsadm -o activatefeature -name PublishingResources -url http://

# jquery - Div 使用淡入效果打开/关闭

> ID：15355456
> 
> 赞同：0
> 
> 时间：2013-03-12T07:21:02.603
> 
> 标签：jquery

```
<html>
<head>
    <script type="text/javascript" src="jquerynew.js"></script>  
    <script type="text/javascript">
        $(document).ready(function() {
            $(".home").click(function(event) {
                $(".hout").slideToggle("slow");     
            });
            $(".javascript").click(function(event) {
                $(".jout").slideToggle("slow");
            }); 
        });
    </script>

    <style>
        .menu { margin:0px auto; border:1px solid lightgray; height:30px; width:1000px;background:#FFF;} 
         #page-content { margin:0px auto; width:1000px; border:1px solid green; margin-top:4px; background:#FFF; overflow:auto; height:500px; }
        .home {padding-left:19px;padding-right:29px;padding-top:2px;float:left;border-right:1px solid lightgray;}
        .javascript { padding-left:19px; padding-right:29px; padding-top:2px; float:left; border-right:1px solid lightgray;  }
        .jout { display:none; padding:20px; }
        .hout { display:none; padding:20px; }
    </style>
</head>

<body>
    <div class="menu">
        <div class="home">Home</div>
        <div class="javascript">Javascript</div>
        <div style="padding-left:19px;padding-right:29px;padding-top:2px;float:left;border-right:1px solid lightgray;">jQuery</div>
        <div style="padding-left:19px;padding-right:29px;padding-top:2px;float:left;border-right:1px solid lightgray;">AJAX</div>
        <div style="padding-left:19px;padding-right:29px;padding-top:2px;float:left;border-right:1px solid lightgray;">jQuery + PHP</div>
        <div style="padding-left:19px;padding-right:29px;padding-top:2px;float:left;border-right:1px solid lightgray;">AJAX+ PHP</div>
        <div style="padding-left:19px;padding-right:29px;padding-top:2px;float:left;border-right:1px solid lightgray;">jQuery + AJAX + PHP</div>    
    </div>  

    <div class="hout"> Home Content goes here</div>
    <div class="jout"> Javascript Content goes here</div>
</body>
</html> 
```

我有主页 | Javascript | jQuery | AJAX等，

我需要我的代码像这样工作：

*   当我点击主页时，“hout” div 应该以淡入淡出效果打开
*   当我单击 javascript 时，“jout” div 应该以淡入淡出效果打开，“hout” div 应该关闭。
*   当我点击 jQuery 时，“jqout” div 被打开，之前打开的 div 被关闭。

我无法获得隐藏/关闭先前打开的 div 的代码。任何人都可以帮忙吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T07:56:17.003

看**[这个例子](http://jsfiddle.net/j7Vbd/3/)**

```
$(document).ready(function () {
    $(".menu div").click(function (event) {
        $(this).parent().siblings(':not([class$=' + this.className + '])').slideUp("slow");
        $(this).parent().siblings('[class$=' + this.className + ']').slideDown("slow");
    });
}); 
```

和 HTML：

```
<div class="menu">
    <div class="home">Home</div>
    <div class="javascript">Javascript</div>
    <div class="jquery" style="padding-left:19px;padding-right:29px;padding-top:2px;float:left;border-right:1px solid lightgray;">jQuery</div>
    <div class="ajax" style="padding-left:19px;padding-right:29px;padding-top:2px;float:left;border-right:1px solid lightgray;">AJAX</div>
    <div class="jqphp" style="padding-left:19px;padding-right:29px;padding-top:2px;float:left;border-right:1px solid lightgray;">jQuery + PHP</div>
    <div class="ajphp" style="padding-left:19px;padding-right:29px;padding-top:2px;float:left;border-right:1px solid lightgray;">AJAX+ PHP</div>
    <div class="japhp" style="padding-left:19px;padding-right:29px;padding-top:2px;float:left;border-right:1px solid lightgray;">jQuery + AJAX + PHP</div>
</div>
<div class="a hout-home">Home Content goes here</div>
<div class="a jout-javascript">Javascript Content goes here</div>
<div class="a jout-jquery">jQuery Content goes here</div>
<div class="a jout-ajax">AJAX Content goes here</div>
<div class="a jout-jqphp">jQuery + PHP Content goes here</div>
<div class="a jout-ajphp">AJAX+ PHP Content goes here</div>
<div class="a jout-japhp">jQuery + AJAX + PHP Content goes here</div> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T07:30:56.657

像这样围绕内容创建一个div

```
<div id="content">
    <div class="hout"> Home Content goes here</div>
    <div class="jout"> Javascript Content goes here</div>
</div> 
```

**这样它就变得通用了，您不必一次又一次地调用特定的 div 来隐藏，就像`$(".hout").hide()`单击时一样`.javascript`。即使您添加一些其他内容而无需专门告诉特定的 div 隐藏，这也将起作用。**

和 jQuery

```
$(document).ready(function()
{
    $('#content').children().hide(); 

    $(".home").click(function(event)
    {
        $('#content').children().not('.hout').hide();  
        //children() will get all the div inside content ... .not('.hout') will exculde the `div` which you have to slideToggle.. so that it won't hide.. and slideToggle works as it should
        $(".hout").slideToggle("slow");      
    });

    $(".javascript").click(function(event)
    {
        $('#content').children().not('.jout').hide(); 
        $(".jout").slideToggle("slow");
    });
}); 
```

[工作小提琴](http://jsfiddle.net/AGmYv/6/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-12T07:43:43.003

您可以尝试使用此行：

```
$(this).parent().siblings().fadeOut(); // <----hides .hout .jout etc 
```

所以你的代码应该是这样的：

```
$('.home').click(function () {
    $(this).parent().siblings().fadeOut();
    $('.hout').fadeIn();
});

$('.javascript').click(function () {
    $(this).parent().siblings().fadeOut();
    $('.jout').fadeIn();
}); 
```

### [检查这个小提琴](http://jsfiddle.net/ZenAJ/1/)

# c# - 控制台应用程序中的事件接收器

> ID：15355462
> 
> 赞同：0
> 
> 时间：2013-03-12T07:21:40.200
> 
> 标签：c#, visual-studio-2010, sharepoint, sharepoint-2010

我创建了一个控制台应用程序，在其中定义了`ItemAdded`事件接收器方法。我想知道如何执行这个`ItemAdded`方法，我需要在`Main`函数内部调用这个方法吗？如果是，那么如何？

这是我的代码

```
class Program : SPItemEventReceiver
{
    static void Main(string[] args)
    {
        Program pgm = new Program();
    }

    public override void ItemAdded(SPItemEventProperties properties)
    {
        try
        {
            base.ItemAdded(properties);
            SPSite site = new SPSite("http://cdcgtdevvm258/sites/amit/dummy");
            SPWeb web = site.RootWeb;
            SPList list = web.Lists[""];
            SPListItem listitem = properties.List.AddItem();
            listitem["Title"] = "Example";
            listitem.Update();
        }
        catch (Exception ex)
        {
            Console.WriteLine(ex.Message);
            Console.ReadLine();
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T07:33:39.257

事件发生时调用事件处理程序。通常你定义一个事件处理程序，将它分配给一个事件，当这个事件发生时你的事件处理程序被调用。单击按钮的示例：

```
void button1_click(object sender, EventArgs e){
//handle the click-event, update UI, etc.
} 
```

您需要使用对象注册此事件：

```
button1.Click += button1_click; 
```

每次单击按钮时，都会调用您的事件。[MSDN](http://msdn.microsoft.com/en-us/library/edzehd2t.aspx)上有很多东西。请更具体地说明您的问题，并告诉我们您想做什么。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T14:35:30.377

如果您的编译输出是控制台 EXE，那么它将永远无法工作。您需要创建类库 (dll) 以便将其注册并附加为列表项事件接收器。

如果您只想测试 ItemAdded 中编写的代码，然后从中提取函数。创建两个单独的项目（控制台 + 类库）。使用类库项目作为控制台应用程序中的引用并调用该方法。在 ItemAdded 事件中调用相同的方法。您可以将类库 (dll) 项目注册为事件接收器。

参考：http: [//msdn.microsoft.com/en-in/library/ms437502%28v=office.14%29.aspx](http://msdn.microsoft.com/en-in/library/ms437502%28v=office.14%29.aspx)

# android - 文本选择的 web 视图上的灰色框问题

> ID：15355469
> 
> 赞同：2
> 
> 时间：2013-03-12T07:22:01.477
> 
> 标签：android, jquery, html5-canvas, android-webview, android-4.0-ice-cream-sandwich

我正在渲染一个 html 页面（*html 页面是使用 JQuery 构建的，带有 html 标记的文本，在其中使用了一个画布*）到带有 web 视图的 Activity 和设备附带的默认浏览器。当我长按 html 页面中的文本时，我得到了**深灰色的框**。这是 web-view 的意外和奇怪的行为。请参阅附件图片了解我的问题

![在此处输入图像描述](../Images/6e87bc3fcadc55ee0b0f95bd3b3b527c.png)![在此处输入图像描述](../Images/1d93a41eaa004d68b03923d3649cdbb0.png)

我搜索了这样的问题，但没有得到任何解决方案。**相同的 html 页面在 Mozilla 应用程序上进行了测试，但没有得到这样的方框，也在运行 HoneyComb 的 ACER 选项卡上，它的工作正常，没有这样奇怪**的方框。如何摆脱这样的方框？我使用三星 Tab2 10.1 和 android 版本 4.0.4。请帮我解决这个问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T07:31:57.390

不知道你的代码是什么？

但是你可以`validate`在[http://validator.w3.org/上的页面](http://validator.w3.org/)

`html`您的like any `tag` `open`but not`closed`等可能有问题。

所以一旦你验证了它，然后再次测试它。

# chef-infra - 如何使用 apache2 chef cookbook 安装 apache2？

> ID：15355470
> 
> 赞同：2
> 
> 时间：2013-03-12T07:22:08.387
> 
> 标签：chef-infra

**环境：**

*   中央操作系统 6
*   厨师 10

我从 community.opscode 下载了 apache2 食谱，然后`# chef-client` 在客户端节点中运行。安装和启动服务成功。

```
[2013-03-12T15:30:00+09:00] INFO: Processing package[apache2] action install(apache2::default line 20) 
```

当我访问cookbooks/apache2/recipes/default.rb 时，没有一行表明`action:install` 我对Ruby 很陌生，所以我不知道负责安装的代码行在哪里。

此外，如果正在安装 apache2，配方中是否包含某种安装包？说，.rpm 包？如果是，完整的路径是什么？

提前致谢！

**编辑：**

我已经了解到包裹在

```
package "apache2" do
   package_name node['apache']['package']
end 
```

具有`action :install`默认值。但同样，我不安装它。安装程序包本身在哪里，还是说明书与安装程序相同？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-12T16:38:20.193

这里有几件事要谈。首先，规范的参考文档位于包资源的[Chef Docs页面上。](http://docs.opscode.com/resource_package.html)

由于 Chef 食谱是 Ruby DSL，让我们来看看这意味着什么。配方中定义的每个资源都有一个类型，该类型可以有一个或多个提供者。资源是处理如何管理该资源的底层事物（提供者）的声明性接口。Chef 根据节点的平台自动选择提供程序。在 package 的情况下，Chef 提供 yum、apt、solaris、macports 等等。有关信息，请参阅文档。

当您在配方中声明资源时，它采用 Ruby 术语中的两个参数，一个字符串和一个可选的块。该字符串是资源“名称”。块中的每个属性参数都可能具有默认选项，这些选项记录在文档站点上，用于各种核心 Chef 资源和提供程序。该名称也用于属性之一，称为“name_attribute”。在此示例中：

```
package "apache2" do
  package_name node['apache']['package']
end 
```

出于所有意图和目的，资源的名称都是“apache2”。但是，包的 name 属性是`package_name`，在这种情况下，包名称来自属性 ，该属性`node['apache']['package']`是在说明书`attributes/default.rb`文件中设置的。这是特定于平台的，因为没有两个发行版/操作系统可以就调用包的内容达成一致（Debian 上的 apache2，RHEL 上的 httpd）。

资源的一个特殊属性是动作。这告诉底层提供者资源应该处于什么状态。Chef 默认会对资源采取最积极的行动。作为底层系统资源的声明性接口，Chef 认为这是最理智的事情，不足为奇。如果是包，Chef 默认会安装包。

因此，作为编写这种食谱的概述：

1.  我们告诉 Chef 管理一个名为“ `apache2`”的包。
2.  我们告诉 Chef，要管理的包的名称实际上来自属性 `node['apache']['package']。
3.  如果没有特定的操作，Chef 默认`install`会打包。
4.  Chef 将使用默认为节点平台设置的底层包管理器来安装包。在 Debian/Ubuntu 系统上，它将执行`apt-get install apache2`. 在 RHEL/CentOS 等系统上，它会做`yum install httpd`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T10:47:45.993

在`CentOS`默认的包管理器上`yum`，它将通过`yum`. 请参阅[厨师包资源文档提供程序部分](http://docs.opscode.com/resource_package.html#providers)。

# java - Java：什么时候初始化变量“this”？

> ID：15355478
> 
> 赞同：0
> 
> 时间：2013-03-12T07:22:37.153
> 
> 标签：java, constructor, this, static-members

```
public class MainMDI extends javax.swing.JFrame {

   private static MainMDI thiz; 

      public MainMDI() {
        initComponents();
        thiz = this;
      }
} 
```

我正在创建一个 MDI 应用程序。MainMDI 类是应用程序的主类，因此主方法位于该类中。上面的代码创建了一个名为 thiz 的静态变量，它在应用程序运行时指向 MainMDI 类的实例。

我打算使用变量 thiz 从主方法中访问 MainMDI 类的非静态（实例）成员。（我无法从主方法中访问非静态成员，因为主方法是类中的静态成员MainMDI 在我的应用程序中）。

```
public class MainMDI extends javax.swing.JFrame {

   private static MainMDI thiz = this; 

      public MainMDI() {
        initComponents();
      }
} 
```

但是当我尝试在上面的代码中初始化变量 thiz 时，编译器说非静态变量不能从静态上下文中引用。但我不是在静态上下文中指代这个，是吗？这是因为变量 this 是非静态的，在初始化静态变量 this 时尚未初始化？

另外，如果我没有将 MainMDI 类设置为主类并创建另一个具有 main 方法的类并将该类设置为主类，那会是更好的编程实践吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-12T07:37:32.767

> 但是当我尝试在上面的代码中初始化变量 thiz 时，编译器说非静态变量不能从静态上下文中引用。**但我不是在静态上下文中指代这个，是吗？**

Yes, you are. Static class variables are initialized when the class is loaded (not when an object instance is being created). There is no `this` in that context. The code:

```
private static javax.swing.JFrame thiz = this; 
```

Will simply not work. Despite your assertions to the contrary, you ***do*** want a singleton. Otherwise, given N possible object instances of your `MainMDI` object, which one would you be expecting to access from a static context? You should consider refactoring your code rather than trying to strong-arm around Java language semantics.

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-12T07:26:13.810

`this`表示“当前正在操作的对象实例”，它仅在非静态成员函数中才有意义。通常`this`，当您调用该成员函数时，它会隐式传递给每个非静态成员函数，因此可以公平地说，它在调用非静态成员函数之前就已初始化。

用“main”方法分解出一个类是否是一个好主意将在很大程度上取决于实际的实现细节。

# c - 如何在 libnl 中定义 nl_sock？

> ID：15355484
> 
> 赞同：-2
> 
> 时间：2013-03-12T07:22:58.837
> 
> 标签：c

我下载了libnl3源代码，但没有找到定义struct nl_sock的地方。有人可以帮忙吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T07:45:56.667

查看库附带的 netlink 包含文件。从 netlink/socket.h、netlink/netlink.h 等开始。

# c++ - 如何在 Qt 中获取 SD 卡的文件系统格式？

> ID：15355485
> 
> 赞同：0
> 
> 时间：2013-03-12T07:22:59.523
> 
> 标签：c++, qt, qt4, filesystems

我是 Qt 的新手。我正在开发一个需要显示连接到我的 PC 的 SD 卡的文件格式（例如 FAT32、NTFS）的应用程序。

他们的 Qt API 是否可以帮助我实现结果？？？

谢谢 ：）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T07:26:55.730

没有。为此，您必须询问操作系统。

# jgit - commitTime 不是...实际提交时间

> ID：15355490
> 
> 赞同：1
> 
> 时间：2013-03-12T07:23:22.327
> 
> 标签：jgit

我正在使用 JGit 运行一些提交，但我注意到日志中的提交时间对于我所有的提交都是相同的，即使这个过程只有几秒钟。经过一些测试，我可以确认提交是使用 commitTime = time the Repository 打开的时间创建的。

听起来像一个错误，你不觉得吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T08:14:11.033

我刚刚明白提交时间是通过提交者 PersonIdent 对象设置的。

# macos - 使用 Applescript 根据当前选择更改 Finder 上下文菜单项的名称

> ID：15355493
> 
> 赞同：3
> 
> 时间：2013-03-12T07:23:28.260
> 
> 标签：macos, applescript, contextmenu, automator

编程时，我发现使用 Finder 浏览目录很方便。在过去，我经常发现自己想要一种简单的方法来将所选文件的完整路径复制到粘贴板（剪贴板），这是 Finder 所缺乏的（从 OSX v10.8.2 开始）。因此，作为一名程序员，我通过添加一个 Automator 工作流程来添加所需的功能，该工作流程在 Finder 中右键单击所选文件时出现的文件上下文菜单中启动一个简单的 Applescript。

剧本很好用！它添加了所需的功能并且使用方便。但是，我想将一些行为添加到脚本中，但我还没有弄清楚如何去做。启动工作流程的 Finder 上下文菜单项的名称是“复制文件名”，这在只选择一个文件但选择多个文件时很好，我希望名称菜单项更改为“复制文件名”或者也许“复制”+（选定文件的数量）+“文件名”。

**所以我的问题是：我如何使用Applescript根据所选文件的数量在Finder中右键单击所选文件时出现的文件上下文菜单中动态设置项目的名称？**

这种行为有一些先例。在 Finder 中复制选定文件时可以看到。如果只选择了一个文件，则上下文菜单中的复制菜单项将显示为**Copy "somefile.txt"**，但如果选择了五个文件，则复制菜单项将显示为**Copy 5 Items**。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-05T01:56:07.013

你不能。好吧，你可以，但它真的很恶心，可能不值得努力。菜单中显示的名称存储在工作流程内的 Info.plist 文件中，因此理论上您可以编写一个监视脚本来监视 Finder 选择并适当地旋转该文件，然后调用魔术函数`NSUpdateDynamicServices()`，您将为此需要 AppleScriptObjC。（或者您可以杀死并重新启动 Finder，但每次更改 Finder 选择时都这样做是不切实际的。）

一个有趣的增强请求是一种命名服务工作流的方法，以便名称反映选择，因此您将工作流命名为“从 % 复制路径”，系统将替换为“foo.txt”或“5 个项目”或者你有什么自动。

还值得注意的是，Finder 实际上在某种程度上确实处理了完整路径。尝试将文件拖到纯文本文档中——您将获得路径。或者尝试复制并粘贴到终端，它知道粘贴板上的“毛茸茸”的味道。

# jquery - 带有自签名证书的 jQuery Ajax 在 Android 中失败

> ID：15355501
> 
> 赞同：1
> 
> 时间：2013-03-12T07:23:52.393
> 
> 标签：jquery, ajax, performance

我从本地 HTML 中的 Ajax 调用 HTTPS URL。即使不向服务器发送请求，它也总是失败。但是改成 HTTP 效果很好。我正在使用自签名证书在 Android 中尝试。下面是我的代码：`

```
$.ajax({
        网址：内部服务器ip，
        类型：“POST”，
        缓存：假，
        数据：pjsonstring，
        数据类型：“json”，
        成功：函数（json）{
           alert("setjson之前"+JSON.stringify(json));
            fnsetjson(json);
        },
        错误：函数（结果）{
            localStorage.setItem("alertTitle", "Failure");
            localStorage.setItem("alertMsg", "服务器错误");
            alert('服务器错误'+result.responseText+'and'+result.status);
            //endloader();
            返回“错误”；
        },
        异步：假
    });

```

# .net - 如何从 .NET 1.1 应用程序调用 .NET 3.0 dll？

> ID：15355506
> 
> 赞同：2
> 
> 时间：2013-03-12T07:24:10.060
> 
> 标签：.net, sap, sap-dotnet-connector

我们有一个遗留的 .NET 1.1 应用程序，它还可以与多个系统以及 SAP 系统进行通信。目前我们正在使用 DCOM 连接器进行 SAP 通信。我们决定用 .NET 3.0 SAP 连接器替换 DCOM 连接器，因为最新的 SAP 版本不提供对 DCOM 连接器的支持。但问题是我们不能从 .NET 1.1 dll 调用 .NET 3.0 dll。

我们被认为是以下选项。

(1) 将当前的 1.1 应用程序迁移到 3.5 或最新版本。然而，我们没有得到批准，因为它消耗了巨大的努力，因为应用程序是关键和复杂的
(2) 创建可以充当 1.1 和 3.5 的通信器的中间 VB 组件。它增加了一层并导致架构更改。由于性能问题和架构审查，我们也没有得到批准。
(3) 创建一个通过 .NET SAP 连接器调用 SAP 的 Web 服务，并托管在同一服务器中，并从 .NET 1.1 应用程序中使用它。由于性能问题和架构审查，这也没有得到批准。
(4) 检查 WCF 中任何其他有助于 .NET 1.1 和 .NET 3.0 应用程序之间通信的机制。由于性能问题和架构审查，这也没有得到批准。
(5) 使 .NET 3.5 类公开为 COM 对象（进程外），并从您的 .NET 1.1 应用程序中使用这些 COM 对象。我们已尝试此选项，但出现异常“无法添加对 'NETDLL' 的引用。将类型库转换为 .NET 程序集失败。类型库 NETDLL 已从 CLR 程序集导出，无法重新导入为CLR 程序集"

你能帮助我任何其他不需要架构更改并且不会导致性能下降的方法吗？请帮忙

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-12T08:48:46.260

我很久以前有过类似的任务。
可能最简单的方法是将您的 .NET 3.5 类公开为 COM 对象（进程外），并从您的 .NET 1.1 应用程序中使用这些 COM 对象。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-17T16:58:41.457

最后我们通过以下方法解决了这个问题。我们决定将 .NET 2.0 SAP 连接器用于 1.1 应用程序。我们可以将 .NET 2.0 连接器与 Visual Studio 2003 的 .NET 1.1 IDE 集成或配置。一旦我们将它集成到 Visual Studio 1.1 IDE，我们就可以创建 1.1 SAP 2.0 连接器项目，您可以在其中使用 .NET 2.0 SAP 连接器在您的 1.1 项目中生成 .NET 1.1 dll。

# java - 服务器-客户端的速度取决于什么？

> ID：15355514
> 
> 赞同：-4
> 
> 时间：2013-03-12T07:25:08.580
> 
> 标签：java, client-server

我正在制作一个 java 服务器/客户端程序，它同时向许多用户发送大量图像。我想问一下这个过程的速度..

是否取决于 LAN 速度（即 1 Mbps，...）？要不然是啥 ？

如果它取决于 LAN 速度，我如何测量我可以在 1 秒内发送多少图像？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T07:45:27.327

这取决于很多很多事情：

*   网络速度
*   网络延迟
*   网络拥塞
*   客户端机器的速度
*   客户端程序的性能
*   服务器机器的速度
*   服务器应用程序的性能
*   服务器磁盘的速度等
*   加载到服务器等

> 如何测量我可以在 1 秒内发送多少图像？

你通过测量来测量它！

我想你真的在问如何预测它。答案是几乎不可能以任何程度的准确度进行预测……因为变量太多，并且有许多“非线性”效应会影响吞吐量。

# php - 仅在满足条件时将 TEXT 添加到标题

> ID：15355516
> 
> 赞同：0
> 
> 时间：2013-03-12T07:25:14.013
> 
> 标签：php, conditional-statements

嗨，我试图通过根据产品名称、价格和类别创建自动 SEO 友好的标题来改进我的标题，我正在实现这样的目标：

```
$catName = isset($category_info) ? " - ".$category_info['name'] : "";
            $titlePrice = $this->data['special'] ? $this->data['special'] : ($this->data['price'] ? $this->data['price'] : ($this->data['tax'] ? $this->data['tax'] : ""));
$newTitle = $product_info['name']." - ".$titlePrice.$catName." - ".$this->config->get('config_title');
            $this->document->setTitle($newTitle); 
```

**但是，如果**“特价”（销售价格）小于“价格”（正常价格），我希望包含文本“特价” - 即如果有“特价”价格的值。

提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T13:18:16.187

如果我了解您的需求，您可以在设置价格`SALE`时简单地添加文本`special`：

```
$catName = isset($category_info) ? " - ".$category_info['name'] : "";
$tax = $this->data['tax'] ? $this->data['tax'] : "";
$price = $this->data['price'] ? $this->data['price'] : $tax;
$titlePrice = $this->data['special'] ? $this->data['special']." SALE" : $price;
$newTitle = $product_info['name']." - ". $titlePrice . $catName. " - ".$this->config->get('config_title'); 
```

为了便于阅读，我将其拆分（*三元运算符太多了！*）并添加`." SALE"`到第 4 行。

* * *

如果您不想`SALE`在价格之后立即写，您可以简单地添加

```
$sale = $this->data['special'] ? "SALE" : ""; 
```

并附加到`$sale`任何你想要的地方。

# php - 如何json_decode对象数组？

> ID：15355519
> 
> 赞同：-2
> 
> 时间：2013-03-12T07:25:24.070
> 
> 标签：php, arrays, json

我有一个对象数组。

```
$arr = array(0 => o1, 1 => o2); 
```

我为此得到了正确的 json_encode。说，我有：

```
$json_data = json_encode($arr); 
```

但是，当我使用第二个参数为 true`json_decode`的`$json_data`变量时，我得到了数组格式的所有内容：

```
array(0 => array, 1 =>array) 
```

使用第二个参数 false 我得到对象格式的所有内容：

```
object(0 => object, 1 => object) 
```

如何取回原始数组？即如何获得

```
array(0 => object, 1 => object) 
```

编辑：解释我的问题。当我们json_encode一个对象数组时，当你json_decode编码数据时，如何取回相同的对象数组呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-11-20T14:36:26.323

我在 PHP 5.6.11-1ubuntu3.1 (cli) 上尝试了以下代码，出人意料地得到了我想要的。由于这个问题太老了，我不记得在发布此代码时尝试此问题时的 PHP 版本是什么。

代码：

```
<?php
class Test {
        public $message = "this is message";
        public $number = 10;
}
$t1 = new Test();
$t2 = new Test();
$arr = array(0 => $t1, 1 => $t2);
$json_data = json_encode($arr);
var_dump($json_data);
$original_array = json_decode($json_data, true);
$original_object = json_decode($json_data, false);
var_dump($original_array);
var_dump($original_object);
?> 
```

我得到的输出是：

```
string(85) "[{"message":"this is message","number":10},{"message":"this is message","number":10}]"
array(2) {
  [0]=>
  array(2) {
    ["message"]=>
    string(15) "this is message"
    ["number"]=>
    int(10)
  }
  [1]=>
  array(2) {
    ["message"]=>
    string(15) "this is message"
    ["number"]=>
    int(10)
  }
}
array(2) {
  [0]=>
  object(stdClass)#3 (2) {
    ["message"]=>
    string(15) "this is message"
    ["number"]=>
    int(10)
  }
  [1]=>
  object(stdClass)#4 (2) {
    ["message"]=>
    string(15) "this is message"
    ["number"]=>
    int(10)
  }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T07:41:00.610

试试这个 ：

```
$arr       = array(0 => "o1", 1 => "o2");

$json_data = json_encode($arr);

$res       = json_decode($json_data, true);

echo "<pre>";
print_r($res); 
```

输出 ：

```
Array
(
    [0] => o1
    [1] => o2
) 
```

# android - 如何将 byte[] 数组转换为字节类型变量？

> ID：15355521
> 
> 赞同：-1
> 
> 时间：2013-03-12T07:25:28.520
> 
> 标签：android, arrays, byte

我正在使用安卓系统。我正在从图像文件中获取字节数组。我的要求是将字节类型变量发送到服务器，而不是字节数组。

但是我得到了字节数组，然后我想将该字节数组转换为字节变量。

我的代码就像

```
 InputStream in = getContentResolver().openInputStream(selectedImageUri);
  byte[] imageData = readBytes(in);

  byte  bytedata = // here I want get the bytes from imageData array

 public byte[] readBytes(InputStream inputStream) throws IOException {

      ByteArrayOutputStream byteBuffer = new ByteArrayOutputStream();

      int bufferSize = 1024;
      byte[] buffer = new byte[bufferSize];

      int len = 0;
      while ((len = inputStream.read(buffer)) != -1) {
        byteBuffer.write(buffer, 0, len);

      }

      // and then we can return your byte array.
      return byteBuffer.toByteArray();
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T07:27:50.003

您希望如何将字节数组转换为单个字节？这就像将 n 个东西转换为一个东西。您可以尝试将数组的元素一一发送，因为它们是字节类型，但否则我看不出您如何实现您所尝试的。

# apache-flex - flash builder navigator.popToFirstView。再次创建的第一个视图实例

> ID：15355523
> 
> 赞同：0
> 
> 时间：2013-03-12T07:25:37.313
> 
> 标签：apache-flex, mobile, flash-builder

每当我使用“navigator.popTOFirstView”时

topView 总是再次创建..

我怎样才能删除以前的或重新使用它？

问题是内存泄漏..实例不会一次又一次地删除和创建..

请帮帮我~！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T07:47:26.103

自答。

我在下面使用，并重用该类（FirstView）。

destroyPolicy = "从不";

# postgresql - 查询中的字符串操作

> ID：15355527
> 
> 赞同：0
> 
> 时间：2013-03-12T07:25:41.050
> 
> 标签：postgresql

我有带有此类（类似）数据的文本列“mytext”：

> [first] 这是第一部分 [second] 这是第二部分
> [first] 这是第一部分 [second]，可能会或可能不会有所不同
> [first] 这是第一部分 [second] 从记录到记录
> [first] 其他记录 [ second] 其他文字
> [first] 其他记录 [second] 其他记录
> [first] 最后第三条记录 [second] 此处无所谓
> [first] 第四条记录
> [first] 第四条记录 [第三条] 这里错过了第二条

而且我必须在列中的部分字符串上使用 SELECT DISTINCT 查询表。
这部分从字符串的开头开始，在字符串的结尾或字符“[”出现的地方结束。所以我可以得到结果：

> [first] 这是第一部分
> [first] 其他记录
> [first] 最后是第三条记录
> [first] 第四条记录

我认为为此需要在查询中进行一些字符串操作，但我可能错了。

如何从显示的数据中获得此结果，这可能与我的 .NET 程序中的查询有关吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T07:40:28.593

像这样使用[`regexp_replace`](http://www.postgresql.org/docs/9.2/static/functions-matching.html)：

```
SELECT DISTINCT
    regexp_replace(mytext, '^(\[.*?)(\[.*)$', '\1', 'g')
FROM mytable 
```

强制性[SQLFiddle 演示](http://www.sqlfiddle.com/#!12/ac438/2)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-12T07:44:29.780

使用正则表达式

```
postgres=# select substring('[first] This is first part[second] This is second part' from '(.*)\[second\]');
         substring          
----------------------------
 [first] This is first part
(1 row) 
```

[相关的 postgresql 文档](http://www.postgresql.org/docs/9.2/static/functions-matching.html)

或没有 RE

```
CREATE OR REPLACE FUNCTION public.left_limit(text, text)
RETURNS text
LANGUAGE sql
AS $function$
SELECT left($1, strpos($1, $2) - 1)
$function$

postgres=# select left_limit('[first] This is first part[second] This is second part','[second]');
         left_limit         
----------------------------
 [first] This is first part
(1 row) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-12T07:38:32.827

您可以为它使用带有 charindex 的子字符串。

从您的表中选择不同的子字符串（mytext，1，charindex（'['，mytext））txt

ND

# c# - 从 Listview 限制 C# 中 DataGrid 视图中的重复值？

> ID：15355531
> 
> 赞同：2
> 
> 时间：2013-03-12T07:26:07.283
> 
> 标签：c#, .net, winforms, datagridview

**使用 ListView 控件在 MouseDoubleClick_event 上将行添加到 DataGridView 行正在添加到 DataGrid 但它也添加了重复行。有没有办法处理重复值**

```
 ArrayList arrListChkIDs = new ArrayList();
        if (dgvPriceView.Rows.Count > 0)
        {
            for (int i = 0; i < dgvPriceView.Rows.Count - 1; i++)
            {
                arrListChkIDs.Add(dgvPriceView.Rows[i].Cells["Code"].Value);
            }

        } 
```

> 获取数组列表中的唯一值以与我的 ListView 值进行比较现在我应该如何比较它？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-12T07:42:43.770

***嘿，现在从这里开始很简单***

```
ArrayList arrListChkIDs = new ArrayList();
//Now Get and Check The Code from List View or put the Index Number  at subItems
string Code = listView.SelectedItems[0].SubItems["Code"].Text;
if (!arrListChkIDs.Contains(Code))
{

}
else
{
    MessageBox.Show("Row Already Exist!",
                    MessageBoxButtons.OK, 
                    MessageBoxIcon.Error);
    return;
} 
```

# date - 如何将用户输入的小时和分钟替换为当前日期并进行比较

> ID：15355548
> 
> 赞同：-1
> 
> 时间：2013-03-12T07:26:57.673
> 
> 标签：date, replace, alarm

1.  我有两个字符串，每个字符串（12）和（30）都有两个数字（用于报警）
2.  我想将字符串放入当前数据中，并更改用户放入的当前小时和分钟。
3.  将其转换为程序格式（看起来像 211232131134），以便将当前时间与 putable 进行比较。(4\. 比较的时候做一些动作)

那`si需要从新日期（由用户输入）获取分钟和小时，添加当前年份，mm和d。与当前日期比较。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T07:46:56.530

你用什么写代码？通常，您可以将输入的日期转换为 UNIX 时间（自 1970-01-01 以来的秒数）并以 UNIX 时间获取当前时间，然后将它们作为整数进行比较。

# jquery - jQueryUI droppable：一遍又一遍的回调按顺序触发

> ID：15355553
> 
> 赞同：5
> 
> 时间：2013-03-12T07:27:28.820
> 
> 标签：jquery, jquery-ui, jquery-ui-droppable

**更新**

js小提琴（更新）[在这里](http://jsfiddle.net/MDuY7/)

我想知道，拖动元素是否在任何列内？

当我拖动时它对我有用，但当我拖动时`Left to right`它不起作用`right to left`。

![在此处输入图像描述](../Images/afb92e679ce201df40a61a0bd9979ce7.png)

**JS**

```
var isOutside = true;

$('.drag').draggable({
    helper : 'clone',
    drag : function(e, ui){
        if(isOutside)    
           return;
        //here is my code;
    },
});

$('.column').droppable({

    over : function(){
        isOutside = false;
        $('p').text('dragging inside');
    },
    out : function(){
         isOutside = true;
         $('p').text('dragging outside');
    }
}); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-12T11:41:06.383

发生这种情况的原因很可能是鼠标没有沿着连续的路径移动，而是跳跃。当你慢慢移动它时，你每次跳跃一两个像素，所以你不会注意到它。当您疯狂地挥舞它时，您可以在两次投票之间跳过 100 多个像素。

由于您的鼠标现在位于其他东西上，因此该事件首先触发是正常的，然后，当浏览器循环赶上时，也会检测到 out 事件。可以说 over 事件的“重要性”更高，因为它是回调（鼠标移动）而不是民意调查（我周围还有什么？）。

如果您希望发生某些事情并取决于这些事件的顺序，我建议您在处理程序中检查是否在处理事件之前采取`over`了任何`out`操作`over`。基本上你这样做：

1.  在第一次结束事件（变量为空）时保存当前元素。
2.  在变量不是当前元素的下一个 over 事件中，处理旧元素的 out 事件并将变量设置为当前悬停的元素。
3.  在 out 事件上处理 out 并将元素设置为 null。

即使实际`over`发生在前面的事件之前，这也会给你一个强制的事件顺序。

您也可以`out`仅使用该事件来跟踪鼠标是否离开所有拖放区并在那里进行一些重置。并使用该`over`事件来处理所有拖放区拖动...

# java - 余弦相似度返回错误的距离

> ID：15355560
> 
> 赞同：1
> 
> 时间：2013-03-12T07:27:57.233
> 
> 标签：java, text-mining, cosine-similarity

我有两个表示为 HashMap 的向量，我想测量它们之间的相似性。我在以下代码中使用余弦相似度度量：

```
public static void cosineSimilarity(HashMap<Integer,Double> vector1, HashMap<Integer,Double> vector2){
double scalar=0.0d, v1Norm=0.0d, v2Norm=0.0d;

for(int featureId: vector1.keySet()){
   scalar+= (vector1.get(featureId)* vector2.get(featureId));
   v1Norm+= (vector1.get(featureId) * vector1.get(featureId));
   v2Norm+= (vector2.get(featureId) * vector2.get(featureId));
}

 v1Norm=Math.sqrt(v1Norm);
 v2Norm=Math.sqrt(v2Norm);

 double cosine= scalar / (v1Norm*v2Norm);
 System.out.println("v1 is: "+v1Norm+" , v2 is: "+v2Norm+" Cosine is: "+cosine);    
} 
```

奇怪的是，两个本应不同的向量接近 .9999 结果，这是错误的！

请注意，两张地图的密钥完全相同。

数据文件在这里：[文件](http://ge.tt/3TJFuqa/v/0?c "链接到 GE.TT 网站")

文件格式：

FeatureId vector1_value vector2_value

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-12T07:56:11.907

你的代码很好。

向量由几个大特征支配。在这些特征中，两个向量几乎共线，这就是相似性度量接近 的原因`1`。

我包括以下六个最大的功能。查看`vec2`over的比率`vec1`：在这些功能中几乎相同。

```
feature     vec1    vec2        vec2/vec1

64806110    2875    1.85E+07    6.43E+03
64806108    5750    3.68E+07    6.40E+03
64806107    8625    5.49E+07    6.37E+03
64806106    11500   7.29E+07    6.34E+03
64806111    14375   9.07E+07    6.31E+03
64806109    17250   1.08E+08    6.28E+03 
```

# php - Mysql-php 如何使用 php v 5.2 实现连接池并且不允许持久连接

> ID：15355561
> 
> 赞同：-1
> 
> 时间：2013-03-12T07:28:00.817
> 
> 标签：php, mysql

有没有办法在 php v5.2.17 中实现连接池，所以这个版本不存在单例。如图所示，我的虚拟主机也不允许明显的持久连接`php phpinfo()`：

> 指令..................................局部值........ ...... 主值 mysql.allow_persistent............关闭...... ...........................离开

如果没有连接池是可能的，那么有什么解决方法吗？使用其他语言等。我必须减少 mysql 连接的数量。

用户对数据库的查询也是完全相同的查询，即它不依赖于用户或会话。它是一个硬编码的歌曲查询。以防万一此信息可能会有所帮助。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T11:41:47.480

我同意@SDC 给出的评论，只是想让这个“正式”。

鉴于这一切，恐怕你可能不走运。您无法在那个版本的 PHP 中创建持久连接。您唯一的选择是 mysql_pconnect，它显然已被主机禁用。

您可以选择@SDC 建议的三个选项：

*   让他们允许它/升级 PHP。
*   切换到更宽松的主机。
*   自托管

# powershell - 使用 csv 文件的特定行

> ID：15355563
> 
> 赞同：-1
> 
> 时间：2013-03-12T07:28:09.860
> 
> 标签：powershell

我希望有人能给我一点帮助。

我想在 csv 文件中搜索 F 列中的条目。此行中的条目应该能够被进一步处理。

如何实施？

提前感谢丹尼尔

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T07:56:18.457

用于导入 CSV 数据的主要 cmdlet 是`Import-Csv`（多么令人惊讶）。从那里你可以相应地过滤：

```
Import-Csv foo.csv | Where-Object { $_.F -eq 'bar' } 
```

或仅从单个列中选择数据：

```
Import-Csv foo.csv | Select-Object -Expand F 
```

或者两者都做（现在使用别名）：

```
Import-Csv foo.csv | ? { $_.F -eq 'bar' } | select -exp F 
```

然后可以使用`ForEach-Object`or `%`（其别名）进行进一步处理：

```
... | % {
  <# do stuff with $_ here #>
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T07:45:47.470

只是原型，你需要`<anchors>`用你需要的替换：

```
Import-Csv YourFile.csv | 
    where { $_.F <operator> <value> } | 
    foreach {
        <process $_ with column names attached as it's properties>
    } 
```

# jsplitpane - 如何在屏幕打开时为 JSplitPane 组件分配默认大小？

> ID：15355581
> 
> 赞同：1
> 
> 时间：2013-03-12T07:29:23.897
> 
> 标签：jsplitpane

您好想在打开屏幕时为 jsplitpane 组件分配默认高度和宽度。执行此任务的最简单方法是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-06-20T01:13:40.423

我发现的最好方法是覆盖嵌套拆分窗格的框架的 setVisible() ，然后在拆分窗格本身上调用 setDividerLocation() 。

setDividerLocation() 可以采用 int（像素位置）或 double（比例宽度/高度）。

# c# - 如何告诉编译器不允许在 C++ 或 C# 中创建类的实例

> ID：15355583
> 
> 赞同：0
> 
> 时间：2013-03-12T07:29:24.353
> 
> 标签：c#, .net, visual-c++, c++-cli

有两个项目，一个在 C++ CLI 中，另一个在 C# 中。我的 C# 项目中引用了 C++ CLI 程序集

我在 C++ CLI 中有这个类：

```
public class ref Player{
    private:
    int id_;
    public:
    Player(int Id) : id_(Id){}
} 
```

在这个项目的其他部分，我定义了一组允许的玩家。

在 C# 中，我希望只能访问数组并保护程序员`Player`在 C# 中创建另一个类实例。

代码中的虚构：
在 C# 中我想要：

```
PlayersArray[0].dostuff(); 
```

在 C# 中我不想要：

```
Player x = new Player(1);
x.dostuff(); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-12T07:33:20.293

一种方法是为要公开的功能定义一个*接口*`Player`，然后实现该接口，现在不要`Player`公开。

这迫使消费者只能`Player`通过接口进行交互，当然，您不能构造接口。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-12T07:31:57.880

将构造函数设为私有？在 C++ 中，还可以将复制构造函数设为私有...

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-12T07:32:20.980

要使其在 C++ 而非 C# 中可实例化，请将构造函数`internal`设置为 C++/CLI 程序集：

```
internal:
    Player(int Id) : id_(Id) {} 
```

这使得构造函数仅对定义它的程序集可见，因此您可以在 C++/CLI 程序集中但不能在外部构造对象。

为了使它可以被`Player`类之外的任何东西实例化，请创建构造函数`private`：

```
private:
    Player(int Id) : id_(Id) {} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-12T07:32:47.900

最简单的方法是将 Player 的构造函数标记为私有，并从 Player 类内部创建和填充 PlayersArray

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-12T07:40:02.290

您想控制对象的创建，这对于[工厂模式](http://en.wikipedia.org/wiki/Factory_Pattern)来说是一项完美的工作！

您可以创建一个包含这些值的集合，将构造函数设为私有并创建一个包含全局玩家数据的静态变量：

```
public class Player
{
    // For access
    public static IEnumerable<Player> Players { get; private set; }

    public int Id { get; private set; }

    // Private constructor
    private Player(int Id)
    {
        this.Id = Id;
    }

    // Factory method
    public static void CreatePlayers(int NumPlayers)
    {
        // Only create players collection once!
        if (Players != null)
            throw new InvalidOperationException();

        Players = new List<Player>(NumPlayers);

        for (int i = 0; i < NumPlayers; i++)
        {
            var player = new Player(i);
            player.Players = Players;
            Players.Add(player);
        }
    }

    public void DoStuff()
    {
        // ...
    }
} 
```

即使这是 C#，也应该很容易将其转换为 CLI/C++。确保您还将复制构造函数声明为私有。其他答案也提到了`internal`访问器，但我个人试图阻止使用，`internal`因为它打破了传统的 OOP 设计。

# entity-framework - 如果我使用 EF Code First 那么如何向表中添加另一列？

> ID：15355587
> 
> 赞同：0
> 
> 时间：2013-03-12T07:30:01.460
> 
> 标签：entity-framework

我创建了 POCO 类，然后当我尝试访问数据时，EF 为我创建了数据库表。这没有问题。我现在已经用数据填充了我的表。不仅是种子数据，还有真实数据。

现在我想在表格中添加另一列。我假设我需要做的第一件事是向 POCO 类添加一个字段，但之后的下一步是什么？我现在的数据库中充满了数据。在 SQL 方面，我知道如何自己添加列，但我是否必须对 EF 做一些事情，或者它会自动发现我的列已添加到表中，而我的字段已添加到 POCO 类中？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T08:26:34.063

您可以使用 Code First 迁移 ( [http://msdn.microsoft.com/en-us/library/hh770484(v=vs.103).aspx](http://msdn.microsoft.com/en-us/library/hh770484(v=vs.103).aspx) )。它可以自动或不自动更新您的数据库。

# java-ee-6 - 将 bean 注入到共享库中打包的过滤器中

> ID：15355589
> 
> 赞同：0
> 
> 时间：2013-03-12T07:30:13.523
> 
> 标签：java-ee-6, cdi, servlet-filters, ejb-3.1

我有一个具有以下结构的 JavaEE6 应用程序：

```
app.ear
  META-INF
    application.xml
  lib
    commmon-server-lib.jar
  webapp1.war
  webapp2.war
  services-ejb.jar 
```

两个 webapps 在它们的 MANIFEST.MF（瘦战）的 Class-Path 条目中都有 common-server-lib.jar。

应用程序.xml：

```
<application>
  <module>
    <ejb>services-ejb.jar</ejb>
  </module>
  <module>
    <web>
      <web-uri>webapp1.war</web-uri>
      <context-root>/webapp1</context-root>
    </web>
  </module>
  <module>
    <web>
      <web-uri>webapp2.war</web-uri>
      <context-root>/webapp2</context-root>
    </web>
  </module>
  <library-directory>lib</library-directory>
</application> 
```

其中`common-server-lib.jar`有一个 Web 过滤器，应该注入很少的 EJB 和其他 CDI 托管 bean。这个过滤器是在`web.xml`两个 webapps 中定义的。

`common-server-lib.jar`和战争已经`beans.xml`在适当的地方。

现在的问题是，当我尝试将此应用程序部署到 Glassfish 时，会出现如下错误：

```
Class [ Lcom/acme/UserService; ] not found. Error while loading 
    [ class com.acme.filter.MyFilter ] 
```

`UserService`服务位于 services-ejb.jar

所以我的问题是：我做错了什么......？在共享库中定义 Web 组件（对其依赖项使用注入）有什么问题吗？

**编辑：**

在 JSR-315（Servlets 3.0 最终规范）的第 15.5 节中，可以找到：

> ```
> In a web application, classes using resource injection will have their annotations
> processed only if they are located in the WEB-INF/classes directory, or if they are
> packaged in a jar file located in WEB-INF/lib. 
> ```

我已将 common-server-lib.jar 移至两个 webapps 的 WEB-INF/lib 目录，但我仍然遇到同样的问题；/...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T12:47:32.467

经过数小时的努力解决这个难题后，我找到了解决方案：

1.  添加`web-fragment.xml`到`commmon-server-lib.jar`我的过滤器
2.  从 webapps 中删除过滤器`web.xml`规范
3.  更改 Maven 配置以从`WEB-INF/lib` 目录中删除所有 jar，除了`commmon-server-lib.jar`
4.  `commmon-server-lib.jar`从 EAR`/lib`目录中删除

# android - 在Android中将文件（img / doc）从特定路径复制到另一个路径

> ID：15355594
> 
> 赞同：0
> 
> 时间：2013-03-12T07:30:37.363
> 
> 标签：android, file-io

我的应用程序中有一个功能，可以在我的数据库中保存一个 doc/img 文件路径。该文件位于一个文件夹中（例如“/mnt/sdcard/MyApp/MyItem/test.png”）。现在我要做的是将此文件复制到其他文件夹（例如/mnt/sdcard/MyApp/MyItem/Today/test.png）。

现在我正在使用下面的代码，但它不起作用：

```
private void copyDirectory(File from, File to) throws IOException {

    try {
        int bytesum = 0;
        int byteread = 0;

            InputStream inStream = new FileInputStream(from);
            FileOutputStream fs = new FileOutputStream(to);
            byte[] buffer = new byte[1444];
            while ((byteread = inStream.read(buffer)) != -1) {
                bytesum += byteread;
                fs.write(buffer, 0, byteread);
            }
            inStream.close();
            fs.close();

    } catch (Exception e) {
    }
} 
```

并使用以下代码单击按钮：

`File sourceFile = new File(fileList.get(0).getAbsolutePath); //comes from dbs File targetFile = new File(Environment.getExternalStorageDirectory(),"MyApp/MyItem/Today/"); copyDirectory(sourceFile,targetFile, currDateStr);`

知道为什么它不起作用吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T07:47:24.137

这段代码对我来说很好用。

```
public void copy(File src, File dst) throws IOException {
    InputStream in = new FileInputStream(src);
    OutputStream out = new FileOutputStream(dst);

    // Transfer bytes from in to out
    byte[] buf = new byte[1024];
    int len;
    while ((len = in.read(buf)) > 0) {
        out.write(buf, 0, len);
    }
    in.close();
    out.close();
} 
```

**您在清单文件**中添加了另一件事**写入外部存储的权限。**

```
<uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" /> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T09:17:07.650

是的，它工作了，我在复制文件时没有给出文件名，也没有真正查看错误日志，现在可以工作了，谢谢。是的，上面的代码工作得很好。

# c# - 我想计算 C# 中日志的总经过时间

> ID：15355596
> 
> 赞同：0
> 
> 时间：2013-03-12T07:30:49.977
> 
> 标签：c#, regex

我有所有的行`textLines1`，我想计算所有这些行的平均经过时间。我已经为此尝试过正则表达式。但它给了我错误的计算。

日志文件格式：

```
INFO:  WX ADVSearch = Server:testserver Entity:BUG User:acucu Elapsed Time:274ms 
INFO:  WX ADVSearch = Server:testserver Entity:BUG User:acucu Elapsed Time:274ms 
```

我试过的代码是：

```
List<string> textLines1 = new List<string>(users);
string x = string.Join(",", textLines1);
Regex regex = new Regex(@"Elapsed Time:\s*(?<value>\d+\.?\d*)\s*ms");
Match match = regex.Match(x);
double totalTime = 0;
int count = 0;

foreach (string line in textLines1)
{
    if (match.Captures.Count > 0)
    {
        try
        {
            count++;
            double time = Double.Parse(match.Groups["value"].Value);
            totalTime += time;
        }
        catch (Exception)
        {
            // no number
        }
    }
}

double average = totalTime / count;
Console.WriteLine("ADVAverage=" + average); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T07:56:36.277

```
private static void CalculateTotalTime()
{
    Regex pattern = new Regex(@"INFO:.+Elapsed Time:(?<milliseconds>\d+(\.\d{1,2})?)ms");

    double totalMilliseconds = (from Match match in pattern.Matches(input)
                                let milliseconds = double.Parse(match.Groups["milliseconds"].Value)
                                select milliseconds).Sum();

    TimeSpan elapsed = TimeSpan.FromMilliseconds(totalMilliseconds);
    Console.WriteLine("{0:D2}:{1:D2}:{2:D2}:{3:D3}", elapsed.Hours, elapsed.Minutes, elapsed.Seconds, elapsed.Milliseconds);
}

private const string input =
    "INFO: WX ADVSearch = Server:yukon.corp.adobe.com Entity:BUG User:acucu Elapsed Time:274ms\n" +
    "INFO: WX ADVSearch = Server:yukon.corp.adobe.com Entity:BUG User:acucu Elapsed Time:27.5ms\n" +
    "INFO: WX ADVSearch = Server:yukon.corp.adobe.com Entity:BUG User:acucu Elapsed Time:500.55ms"; 
```

我只是用给定的测试数据编写并测试了上面的方法，并且计算是准确的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T07:57:38.963

您的代码有一些错误（在我看来）：

1.  `string.Join`收到 a `string[]`，而您正在传递 a `List<string>`。
2.  你真的不需要做任何事情`string.Join`。相反，只需遍历每一行，并在每一行中捕获匹配项。

请看下面的代码：

```
//I don't think you have to do this. Instead, you can iterate through `users`
string[] textLines1 = new List<string>(users).ToArray();
double totalTime = 0;
int count = 0;

//For each line
foreach (string line in textLines1) {
    //Here we match against this line
    var m = Regex.Match(line, @"Elapsed Time:\s*(?<value>\d+\.?\d*)\s*ms");
    //If it matched...
    if (m.Success) {
        try
        {
            count++;
            double time = Double.Parse(m.Groups["value"].Value);
            totalTime += time;
        }

        catch (Exception)
        {
            // no number
        }
    }
}

double average = totalTime / count;
Console.WriteLine("ADVAverage=" + average); 
```

下面是输出：

> 平均数=274

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-03-12T07:45:48.687

我认为您的正则表达式不够正确。您可能还需要考虑将其与以下内容匹配：

```
"Elapsed Time:.*ms" 
```

要获取数字，您可以截断前 13 个字符和后 2 个字符。然后每行，您可以使用`Double.TryParse`（因为您自己没有进行任何特殊处理，您可以让该`TryParse`方法为您执行此操作并保持您自己的代码更清洁）来获取您感兴趣的数字。

您可以检查您的正则表达式以查看它是否在网站上正确匹配，例如[http://regexpal.com/](http://regexpal.com/)。

# odata - 如何在 odata4j 中创建媒体链接实体

> ID：15355597
> 
> 赞同：0
> 
> 时间：2013-03-12T07:30:52.583
> 
> 标签：odata, odata4j

如何在 odata4j 中创建媒体链接实体。

如下所示：

```
{
    "__mediaresource": {
        "edit_media": "http://server/uploads/Thumbnail546.jpg",
        "media_src": "http://server/Thumbnail546.jpeg",
        "content-type": "img/jpeg",
        "media_etag": "####"
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T09:25:42.857

odata4j 尚不支持 MLE。项目[路线图](https://code.google.com/p/odata4j/wiki/Roadmap)将其作为 1.0 版的目标之一，甚至在下一个版本（0.8）之后。

# ios - drawrect中的UIView动画

> ID：15355601
> 
> 赞同：1
> 
> 时间：2013-03-12T07:31:09.017
> 
> 标签：ios, ios5, drawrect, uiviewanimation

我需要不断改变我在 UIView 中绘制的所有线条的颜色。我在drawrect方法中画了所有的线来分配颜色。现在，只要显示视图，我就需要动画和更改颜色。有没有办法做到这一点？非常感谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-12T07:45:54.843

考虑为每条线使用一个实例[`CAShapeLayer`](http://developer.apple.com/library/ios/#documentation/GraphicsImaging/Reference/CAShapeLayer_class/Reference/Reference.html)，而不是在`drawRect:`. `path`您可以根据需要对每个图层和`strokeColor`属性的更改进行动画处理。

### 编辑

如果您只是绘制水平线，则最好只使用 a `UIView`for each。设置`backgroundColor`而不是实施`drawRect:`. 您可以使用（或更强大的变体）为`frame`属性和属性设置动画。这通常比使用 Core Animation 更简单。`backgroundColor``+[UIView animateWithDuration:animations:]`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-12T07:37:53.520

活到老，学到老。动画最好在外面完成`-drawRect:`

将您的“线条”更改[`UIView`](http://developer.apple.com/library/ios/#documentation/uikit/reference/uiview_class/uiview/uiview.html)为作为（最好是不透明的）子视图添加到您的视图的单个实例。然后，您将[`backgroundColor`](http://developer.apple.com/library/ios/documentation/uikit/reference/uiview_class/UIView/UIView.html#//apple_ref/doc/uid/TP40006816-CH3-SW30)在视图上设置适当的。

然后，您可以使用简单的 UIView 动画为它们设置动画。

# linux - Remi PHP-FPM 数据库

> ID：15355607
> 
> 赞同：1
> 
> 时间：2013-03-12T07:31:42.737
> 
> 标签：linux, centos, php, dbase

我需要打开一些 *.dbf 文件。我知道 PHP 有哪些模块可以轻松处理此类文件，但我如何将该模块添加到 php-fpm ？

```
[root@mcs-team tmp]# pecl install dbase
downloading dbase-5.1.0.tgz ...
Starting to download dbase-5.1.0.tgz (14,112 bytes)
.....done: 14,112 bytes
12 source files, building
running: phpize
Can't find PHP headers in /usr/include/php
The php-devel package is required for use of this command.
ERROR: `phpize' failed 
```

还，

```
* Sun Aug 10 2008 Remi Collet <rpms@famillecollet.com> 5.3.0-0.1.alpha2-dev.200808101630.fc9.remi
  - new snapshot (5.3.0alpha2-dev) 
  - no more dbase extension 
```

为什么，我怎样才能得到它？

```
[root@mcs-team tmp]# php -v
PHP 5.4.12 (cli) (built: Feb 20 2013 14:41:12)
Copyright (c) 1997-2013 The PHP Group
Zend Engine v2.4.0, Copyright (c) 1998-2013 Zend Technologies

[root@mcs-team tmp]# uname -a
Linux mcs-team.tld 2.6.32-042stab063.2 #1 SMP Tue Oct 23 16:24:09 MSK 2012 x86_64 x86_64 x86_64 GNU/Linux

[root@mcs-team ~]# cat /etc/*elease*
CentOS release 6.4 (Final) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T07:35:46.433

```
yum install php-dev*
pecl install dbase 
```

# php - 当我选择另一个选择标签时如何更改选择标签？

> ID：15355617
> 
> 赞同：0
> 
> 时间：2013-03-12T07:32:36.507
> 
> 标签：php, html, select

老实说，我很难构建我的问题，但为了细节，我会清楚地解释它。

我有一个关于酒店房间类型的选择标签，例如普通、家庭、豪华、行政、总统等，在另一个选择标签中，我有房间号，例如房间 401、402...、501...。我想要什么每次我选择普通房，房间号都会变成401-409，如果我选择总统房，房间号会变成500-509等等……可以吗？我正在使用 php。

```
 echo "Room Type &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp";
    echo "<select>
        <option value='ordinary'>Ordinary</option>;
        <option value='family'>Family</option>
        <option value='superior'>Superior</option>
        <option value='deluxe'>Deluxe</option>
        <option value='corner'>Corner Suite King</option>
        <option value='executive'>Executive</option>
        <option value='exSuite'>Executive Suite</option>
        <option value='exGrand'>Grand Executive</option>
        <option value='presidential'>Presidential</option>
        </select>";
    echo "<br/>";
    echo "<table border='1'>";  
/*------------------------------------------------------------------------*/        

    echo "Available Rooms &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp";
    echo
     "<select>";
    $x= 401;
    while($x<=500)
    {
        echo "<option>$x</option>";
        $x++;
}   

    echo "</select>";
    echo "<hr/>";
    echo "<table border='1'>";  

/*------------------------------------------------------------------------*/        

    echo "<input type='Submit'>"; 
```

这是我的代码，这只是我在 hello world 输出 php 之前的第二个 php 项目：D

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-12T07:43:05.647

仅使用 PHP 是不可能的，但是使用 javascript / jquery 是可能的:-)

您处理更改事件并填写您的可用选择

```
$(function() { //run on document.ready
  $("#selectRoom").change(function() { //this occurs when select 1 changes
    //Fill by AJAX your second selectbox
  });
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T07:42:45.720

您将需要使用 JavaScript。为“rootType”选择框设置 onchange 事件以更新房间号选择框的 innerHTML。

看看这个[问题](https://stackoverflow.com/questions/5096153/update-existing-option-in-select-list)

# c# - 从组合框中获取项目以标记文本

> ID：15355621
> 
> 赞同：-1
> 
> 时间：2013-03-12T07:32:39.963
> 
> 标签：c#

我有一个组合框说combobox1。我有4个项目。每当我选择一个项目时，我希望在标签文本上的组合框 1 中获取选定的文本。我尝试使用以下代码执行此操作，但它不起作用。

cnt 指的是combobox1 中的项目数。lb 是标签的对象。

请帮忙..

```
for (int i = 1; i <= cnt; i++)
{
    lb.Text = comboBox1.Items[i].ToString();
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-12T07:34:23.080

怎么样

```
private void comboBox1_SelectedIndexChanged(object sender, EventArgs e)
        {
            lb.Text = comboBox1.Text;
        } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-12T07:50:47.730

您的代码有多个问题：

1.  索引是从零开始的（至少在 C# 中是这样）。这意味着您的 for 循环应该`0`从而不是在`1`.
2.  您在 for 循环中的每次迭代都会覆盖标签中的 Text 值，这是没有意义的。改用`Debug.Print`( `System.Diagnostics`namespace) 来查看组合框项的所有值。
3.  You should make use of an event that when a item in the combobox is selected, the value of the label is updated, see this url for a list of events for the combobox: [http://msdn.microsoft.com/en-us /library/system.windows.forms.combobox.aspx](http://msdn.microsoft.com/en-us/library/system.windows.forms.combobox.aspx)。将处理程序附加到代码中的事件或在 Visual Studio 的 GUI 设计器中执行。通常您要使用该`SelectedIndexChanged`事件：http: [//msdn.microsoft.com/en-us/library/system.windows.forms.combobox.selectedindexchanged.aspx](http://msdn.microsoft.com/en-us/library/system.windows.forms.combobox.selectedindexchanged.aspx)
4.  确保组合框中的项目属于实现`ToString()`. 否则，您的组合框中根本不会显示任何内容。
5.  您当前的 for 循环希望在 for 循环`lb.Text = comboBox1.Items[comboBox1.Items.Count].ToString();`的最后一次迭代中执行。这将导致：http `IndexOutOfRangeException`: [//msdn.microsoft.com/en-us/library/system.indexoutofrangeexception.aspx](http://msdn.microsoft.com/en-us/library/system.indexoutofrangeexception.aspx)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-12T07:35:21.223

试试下面的代码：

```
for (int i = 0; i < cmbTest.items.count; i++)
{
    label1.text = cmbTest.SelectedItem[i].toString();

}
    //Or
    label1.text = cmbTest.Text;

    //Or
    label1.text = cmbTest.selectedValue; 
```

# javascript - 正则表达式将国家列表转换为正则表达式搜索

> ID：15355623
> 
> 赞同：0
> 
> 时间：2013-03-12T07:32:45.623
> 
> 标签：javascript, regex

**我正在尝试做的事情：** 我正在使用数据表（[http://www.datatables.net/](http://www.datatables.net/)），这是一个用于 html 表的很棒的 jQuery 插件。还有一个搜索字段，我可以在其中使用 regexp 过滤选项列表，效果很好。此搜索： (^sweden$)|(^united Kingdom$) 过滤列表，仅显示与这两个国家相关的记录。但我不认为用户应该知道正则表达式，所以我试图允许用户输入瑞典、英国，并在键上将其转换为隐藏字段内的正则表达式搜索:) 我已经授权从 , 到 | 获取列表 并且它会删除任何意外的双逗号 (,,) 或多个空格，但我对如何捕获每个国家/地区并在输出中添加 (^$) 感到有点困惑。

**代码：**

```
var countryFilterUserInput = $("#colCountry_filterUser").val();
var countryFilterUserInput = countryFilterUserInput.replace(/[, ]* *,+ *([^((,| )+$)])/g,"|$1").replace(/[, ]*$/,'');
console.log(countryFilterUserInput); 
```

输入：`sweden, united kingdom`

给我`sweden|united kingdom`

我正在努力做到：`(^sweden$)|(^united kingdom$)`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-12T07:37:04.400

您可以只使用非捕获组，因此您不需要在每个选项中添加开始和结束字符。试试这个：

```
var countries = 'sweden, united kingdom'.split(/,\s?/);
var regex = new RegExp('^(?:'+ countries.join('|') +')$'); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T07:37:12.263

为什么不简单地替换逗号：

```
var regex = "(^"+ countryFilterUserInput.replace(/\s*,\s*/g, "$)|(^")+"$)"; 
```

# c# - C# 5.0 async await 返回一个列表

> ID：15355635
> 
> 赞同：6
> 
> 时间：2013-03-12T07:33:31.700
> 
> 标签：c#, .net-4.5, c#-5.0, async-await

我正在学习 async/await，遇到了一种情况，我需要调用一个异步方法，该方法应该返回一个对象或同一对象的列表。
这是正确的实施方式吗？

来自 AManager.cs

```
public async Task Initialize(string objectPath)
{
    AnObject someObject = await BClass.GetAnObject(objectPath);
} 
```

这是被调用的方法

```
Class B:
public async Task<AnObject> GetAnObject(string objectPath)
{
    AnObject someObj = new AnObject();
    return someObj;
} 
```

如果我想返回一个对象列表会发生什么？我应该创建一个包含列表的包装器？并返回那个包装？
因为这不适用：

```
public async Task<List<AnObject>> GetAnObject(string objectPath) 
```

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2013-03-12T13:59:16.477

为了能够以异步方式运行方法，您需要在内部等待。如果您没有它，它将作为同步方法运行。这可能就是它对你不起作用的原因。为此，您可以执行以下操作：

```
public async Task<List<string>> GetList()
{
    return await Task.Run(() => new List<string>() {"a", "b"});
} 
```

然后运行它：

```
var list = await GetList() 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-12T08:26:04.370

我不确定你正在尝试完成什么`Task<List<AnObject>>`不适用，但这是在上面的示例中返回 AnObject 列表的另一个示例

```
public class AnObject()
{
    SomeProperty {get; set;}
    Some Method(); 
}

public class theCollectionofAnObject : IList<AnObject> ()
{
    private List<AnObject> _contents = new List<AnObject>;

    //Implement the rest of IList interface

}

//Your async method
public Task<theCollectionofAnObject> GetAnObjects(parameter)
{
} 
```

# vectorization - Xeon Phi 中的分散/聚集

> ID：15355639
> 
> 赞同：1
> 
> 时间：2013-03-12T07:33:40.670
> 
> 标签：vectorization, sse, avx, intel-mic, xeon-phi

我指的是英特尔关于 Xeon Phi 指令集的手册，但无法理解分散/收集指令的工作原理。

假设我有以下双精度向量：

```
A-> |b4|a4|b3|a3|b2|a2|b1|a1| 
```

是否可以创建 4 个向量，如下所示：

```
V1->|b1|a1|b1|a1|b1|a1|b1|a1|
V2->|b2|a2|b2|a2|b2|a2|b2|a2|
V3->|b3|a3|b3|a3|b3|a3|b3|a3|
V4->|b4|a4|b4|a4|b4|a4|b4|a4| 
```

使用这些说明？有没有其他方法可以实现这一目标？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-14T06:37:08.207

从英特尔论坛得到这个（由 Evgueni Petrov 回答）：

```
__m512d V1 = (__m512d)_mm512_extload_epi32(&Addr, _MM_UPCONV_EPI32_NONE, _MM_BROADCAST_4X16, _MM_HINT_NONE); 
```

其中“Addr”是内存中位置的地址，我们将双精度值从该地址加载到向量“A”中。

我们可以分别使用 &(Addr+2)、&(Addr+4) 和 &(Addr+6) 对 V2、V3、V4 做类似的操作。

# matlab - MATLAB：有条件地将矩阵元素转换为两个单独的单元格数组

> ID：15355641
> 
> 赞同：0
> 
> 时间：2013-03-12T07:33:45.860
> 
> 标签：matlab, matrix, indexing, conditional, cells

一个矩阵有 2 行和几列，第一个包含 1 和 0 的交替字符串。我想使用这个二进制文件来决定将它下面的信息复制到两个单元格数组之一中。我知道这可以通过使用 IF 条件或 while 循环的迭代来完成，但我在清理它时遇到了麻烦。

例如，对于

```
mat = [ 1 1 1 0 0 1 1 0 0 0 0 1 1 1 ;...
        1 2 3 4 5 6 7 1 2 3 4 5 6 7 ] 
```

我想输出两个单元格数组，一个用于“1s”，一个用于“0s”：

```
1 2 3
6 7
5 6 7 
```

和：

```
4 5
1 2 3 4 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T07:49:41.533

我敢肯定，有几种方法可以做到这一点。一个可能正在使用循环；但是，您也可以充分利用内置的查找功能。以下是基于您的示例的示例解决方案。

对于“1s”，在这里，我们想从第一行获取带有“1”的索引。

```
on_array= mat(2, find(mat(1,:))); 
```

> **或按照@H.Muster 的建议**
> 
> ```
> on_array= mat(2, mat(1,:)==1); 
> ```

对于“0s”，在这里，我们想从第一行获取带有“0”的索引。

```
off_array = mat(2, find(mat(1,:)==0)); 
```

> **或按照@H.Muster 的建议**
> 
> ```
> off_array= mat(2, mat(1,:)==0); 
> ```

对于输出格式（您想要的格式），我相信您知道该怎么做。祝你好运。

# .net - .Net 4.5 中 System.Json 的状态

> ID：15355647
> 
> 赞同：3
> 
> 时间：2013-03-12T07:33:56.320
> 
> 标签：.net, .net-4.5

MSDN 讨论了[.Net 4.5 中的 System.Json 命名空间](http://msdn.microsoft.com/en-us/library/system.json.aspx)（尽管它说“仅预览”）。

我在 4.5 的任何地方都找不到它，它不在 MSDN 上提到的 System.Runtime.Serialization 中 - 它是否从版本中删除？

该文档似乎与 Nuget 上的一个包匹配，但它被标记为 beta，您只能通过在命令行 ( `Install-Package System.Json -Version 4.0.20126.16343`) 上指定版本来找到它。

这些类会进入框架/它们会被支持吗？

我知道 .net 上的其他 json 库，但我更希望在框架中有一个（/将来）。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2015-02-12T15:21:43.720

FWIW，因为我对 System.Json API 很满意，所以我从 Mono 中获取了端口，修复了一些错误并将其放在[Nuget](https://www.nuget.org/packages/Hjson/)上：

创建 JsonObject 很简单

```
new JsonObject
{
  { "foo", 1 },
  { "bar", ";)" },
}; 
```

该软件包还包括 Hjson，但如果您不需要 Hjson 类型，您可以忽略它们。

# xcode - 了解要传递给编译器的标志

> ID：15355648
> 
> 赞同：2
> 
> 时间：2013-03-12T07:34:02.333
> 
> 标签：xcode, macos, command-line, compilation

我有一个程序，它在 XCode 中可以完美地编译和运行。它实际上是苹果的 CoreAudio 示例程序之一；

[http://developer.apple.com/library/mac/#samplecode/PlayFile/Listings/PlayFile_cpp.html](http://developer.apple.com/library/mac/#samplecode/PlayFile/Listings/PlayFile_cpp.html)

我的问题不是专门针对此代码，而是更笼统；我想更好地理解编译和链接过程；XCode 对我来说有点抽象。我似乎无法理解应该传递哪些标志来进行编译，更不用说为什么了。

我知道标头不在默认构建路径上，因此需要告诉 clang 它们在哪里；我使用 -I./PublicUtility 并且 clang 现在可以找到头文件。

此应用程序还链接到 CoreAudio 框架，因此当应用程序使用框架中的代码时，与链接到库相比，我需要对编译器做些什么不同的事情？

（我知道库和框架之间的区别不清楚：[框架和工具包之间的主要区别是什么？](https://stackoverflow.com/questions/1415592/what-is-the-major-difference-between-a-framework-and-a-toolkit)）

现在，就尝试编译 PlayFile 而言，我有命令

```
clang++ PlayFile.cpp -I./PublicUtility -o playfile 
```

我试图指示编译器使用 -F 查找框架和使用 -L 查找库（尽管如果我正确阅读了此应用程序的代码，它只会链接到框架，而不是任何库。

我已经阅读了 gnu 编译器的手册页和文档（clang 与 gcc 兼容，所以传递给 gcc 的标志应该与 clang 兼容？）但从我目前的角度来看，这一切似乎有点抽象。

谁能提供有关在什么情况下需要传递哪些标志的见解？

在另一个用户的评论中，我发现了 xcode 用来编译程序的命令，但是我还是有点迷茫。

xcode 发出的所有命令都与一个名为“`~/Library/Developer/Xcode/DerivedData`我更接近于理解 xcode 如何构建程序”的目录相关，但我的源文件都不在此目录中。我将如何更改 XCode 提供给编译器的参数以在 XCode 之外进行编译？这个目录是否只是 XCode 在将目标文件构建到程序中之前用来包含目标文件的存放位置？

有些论点我还是不明白；它们是否需要编译应用程序，甚至它们的含义。

之前列出的这些包含或框架已指定。

`fmessage-length=0 -Wno-trigraphs -fpascal-strings -O0 -Wno-missing-field-initializers -Wno-missing-prototypes -Wreturn-type -Wno-implicit-atomic-properties -Wno-receiver-is-weak -Wno-non-virtual-dtor -Wno-overloaded-virtual -Wno-exit-time-destructors -Wformat -Wno-missing-braces -Wparentheses -Wswitch -Wno-unused-function -Wno-unused-label -Wno-unused-parameter -Wunused-variable -Wunused-value -Wno-empty-body -Wno-uninitialized -Wno-unknown-pragmas -Wno-shadow -Wno-four-char-constants -Wno-conversion -Wno-constant-conversion -Wno-int-conversion -Wno-enum-conversion -Wno-shorten-64-to-32 -Wno-newline-eof -Wno-selector -Wno-strict-selector-match -Wno-undeclared-selector -Wno-deprecated-implementations -Wno-c++11-extensions -fasm-blocks -fstrict-aliasing -Wprotocol -Wdeprecated-declarations -Winvalid-offsetof -g -fvisibility=hidden -fvisibility-inlines-hidden -Wno-sign-conversion`

`Wno-trigraphs`并且`-Wno-c++11-extensions`看起来很不言自明：如果我猜对了，不要解释代码中的三元组并且不要使用 c++11 扩展？

要求对所有这些进行定义是愚蠢的，但是有些，例如`-fpascal-strings`，在快速谷歌搜索中没有给出任何结果。这些甚至都不是用帕斯卡写的！

进一步查看命令；

```
-I/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/include 
```

在一个命令中包含 3 次。

其中一些基本上是无关紧要的，还是我在这里遗漏了一些基本概念？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-12T16:39:51.500

> Wno-trigraphs 和 -Wno-c++11-extensions 似乎很容易解释：如果我猜对了，不要解释代码中的 trigraphs 并且不要使用 c++11 扩展？

不完全的。首先，`-W`是启用（和禁用）警告的标志，因此您知道这些标志只是关于警告，而不是更改任何编译器功能。其次，`no-`是一个前缀，它会导致`-W`标志禁用命名警告，而没有这个前缀则会启用警告。因此，这些标志会禁用在您使用 trigraphs 和 C++11 扩展时出现的警告。

> 要求对所有这些进行定义是愚蠢的，但是有些，例如 -fpascal-strings，在快速的 google 搜索中没有给出任何结果。这些甚至都不是用帕斯卡写的！

字符串数据有两种基本的数据结构。它们分别以使用它们的语言命名为“C 字符串”和“Pascal 字符串”，但一般策略可以在这些语言之外使用。“C 字符串”是长度由终止空字符确定的字符串。“Pascal 字符串”是长度存储在字符串数据之前的字符串。

该`-f`标志控制编译器功能，因此`-fpascal-strings`启用了扩展，您可以在其中指定字符串文字将是 pascal 字符串而不是 ac 字符串。C 和 C++ 的这种扩展通常如下所示：

```
char const *c = "\phello, world!"; 
```

转义字符将`\p`字符串文字指定为帕斯卡字符串，字符串的初始字节将是字符串的长度。在这种情况下`c[0]`将是 13。也可以手动创建帕斯卡字符串`"\xDhello, world!"`，但这需要手动计数，并且在更改字符串时必须更新数字。

# jquery - 用另一个列表项内容替换列表中的元素

> ID：15355657
> 
> 赞同：0
> 
> 时间：2013-03-12T07:35:02.043
> 
> 标签：jquery, list

我想`sid`从第二个列表项内容替换第一个列表项内容，即`sid1=newsid1`使用 jQuery 循环。

列出一个`sid`在`div`我想从其他列表项内容中替换的列表中。

```
<ul class='list1'>
    <li>
        <div>name</div>
        <div>sid1</div>
        <div>role</div>
    </li>
    <li>
        <div>name2</div>
        <div>sid2</div>
        <div>role2</div>
    </li>
    <li>
        <div>name3</div>
        <div>sid3</div>
        <div>role3</div>
    </li>
    <li>
        <div>name4</div>
        <div>sid4</div>
        <div>role4</div>
    </li>
</ul>

<ul class='list2'>
    <li>new sid1</li>
    <li>new sid2</li>
    <li>new sid3</li>
    <li>new sid4</li>
</ul> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T07:37:51.433

试试这个

```
$('.list1 > li > div:eq(1)').text($('.list2 > li:first').text()); 
```

这里，

`$('.list1 > li > div:eq(1)')` **=> 选择 的第二`<div>`个`<li>`**。
`text()`=>**获取该选择器的文本。**
`$('.list2 > li:first').text()`=>**从****类 list2****中获取 first 的文本。`<li>``<ul>`**
`.text($('.list2 > li:first').text());`=>用第一个**替换第二个的文本`<div>`。**
`<li>`

[工作小提琴](http://jsfiddle.net/bipen/36znB/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T07:42:29.593

试试这个：

```
$('.list2 li').each(function(index){
    $('.list1 li:nth-child('+(index+1)+') div:nth-child(2)').text($(this).text());
}); 
```

阅读[http://api.jquery.com/nth-child-selector/](http://api.jquery.com/nth-child-selector/)`nth-child selector` _

**小提琴：http:** [//jsfiddle.net/bqvVT/3/](http://jsfiddle.net/bqvVT/3/)

# ruby - livereload 仅响应 css 更改，而不响应 html

> ID：15355658
> 
> 赞同：0
> 
> 时间：2013-03-12T07:35:07.227
> 
> 标签：ruby, livereload

我已经安装了 livereload gem，我将它与一个 ruby​​ 中间人应用程序一起使用。但是，它只是自动加载对 css 的更改。如果我对 html 文件进行更改，我仍然需要重新启动服务器才能查看更改。有什么办法可以让它自动加载 html 更改？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-12T08:14:16.170

似乎此功能不适用于所有版本的 livereload，并且还取决于浏览器及其扩展。更改 html 时也尝试更改 css 文件，以便进行刷新。另外，你看过[https://github.com/guard/guard-livereload](https://github.com/guard/guard-livereload)吗？那有一个例子来观察 html 的变化。

```
guard 'livereload' do
  watch(%r{app/views/.+\.(erb|haml|slim)})
  watch(%r{app/helpers/.+\.rb})
  watch(%r{public/.+\.(css|js|html)})
  watch(%r{config/locales/.+\.yml})
  # Rails Assets Pipeline
  watch(%r{(app|vendor)(/assets/\w+/(.+\.(css|js|html))).*}) { |m| "/assets/#{m[3]}" }
end 
```

# testing - Selenium Web 驱动程序是否支持 IE6？

> ID：15355659
> 
> 赞同：0
> 
> 时间：2013-03-12T07:35:16.143
> 
> 标签：testing, cross-browser, selenium-webdriver

我正在研究硒测试自动化。我一直在 Firefox 中记录测试用例并导出与 JUnit 相同的测试用例。我使用 selenium web 驱动程序调用了测试用例并在不同的浏览器中运行。所有测试用例在 IE6 中均失败。但同样的情况在 IE8 和 9 中运行良好。这个问题与点击有关。XPath 和 CSSpath 的点击在 IE6 中不起作用。

我尝试了以下代码来调用相同元素的单击，但它失败并出现错误：

```
selenium.click("link=Advanced Search");
//selenium.click("xpath=//*[@id='simpleSearch']/a");
        //selenium.click("css=div.cm>form#distributions>div#distributionsTab.bd>div#simpleSearch.mtm>a.mlm"); 
```

堆栈跟踪：

```
com.thoughtworks.selenium.SeleniumException: JavaScript error (WARNING: The server did not provide any stacktrace information)
Command duration or timeout: 15 milliseconds
Build info: version: 'unknown', revision: 'unknown', time: 'unknown'
System info: os.name: 'Windows XP', os.arch: 'x86', os.version: '5.1', java.version: '1.6.0_24'
Session ID: d90dd5dc-7800-4674-ba89-a159a820128b
Driver info: org.openqa.selenium.ie.InternetExplorerDriver
Capabilities [{platform=WINDOWS, javascriptEnabled=true, cssSelectorsEnabled=true, handlesAlerts=true, browserName=internet explorer, nativeEvents=true, takesScreenshot=true, version=6}]
    at org.openqa.selenium.internal.seleniumemulation.SeleneseCommand.apply(SeleneseCommand.java:44)
    at org.openqa.selenium.internal.seleniumemulation.Timer.run(Timer.java:40)
    at org.openqa.selenium.WebDriverCommandProcessor.execute(WebDriverCommandProcessor.java:138)
    at org.openqa.selenium.WebDriverCommandProcessor.doCommand(WebDriverCommandProcessor.java:68)
    at com.thoughtworks.selenium.DefaultSelenium.click(DefaultSelenium.java:193)
    at com.magicbox.testsuite.MagicBoxTestSuite.MotelTie6(MagicBoxTestSuite.java:26)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    at java.lang.reflect.Method.invoke(Method.java:597)
    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:45)
    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:42)
    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:21)
    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:29)
    at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:30)
    at org.junit.rules.TestWatcher$1.evaluate(TestWatcher.java:47)
    at org.junit.rules.RunRules.evaluate(RunRules.java:19)
    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)
    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:68)
    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:47)
    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:232)
    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:61)
    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:223)
    at org.junit.runners.ParentRunner.run(ParentRunner.java:300)
    at org.junit.runners.Suite.runChild(Suite.java:129)
    at org.junit.runners.Suite.runChild(Suite.java:24)
    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:232)
    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:61)
    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:223)
    at org.junit.runners.ParentRunner.run(ParentRunner.java:300)
    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:49)
    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)
    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)
    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:684)
    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)
    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)
Caused by: org.openqa.selenium.WebDriverException: JavaScript error (WARNING: The server did not provide any stacktrace information)
Command duration or timeout: 15 milliseconds
Build info: version: 'unknown', revision: 'unknown', time: 'unknown'
System info: os.name: 'Windows XP', os.arch: 'x86', os.version: '5.1', java.version: '1.6.0_24'
Session ID: d90dd5dc-7800-4674-ba89-a159a820128b
Driver info: org.openqa.selenium.ie.InternetExplorerDriver
Capabilities [{platform=WINDOWS, javascriptEnabled=true, cssSelectorsEnabled=true, handlesAlerts=true, browserName=internet explorer, nativeEvents=true, takesScreenshot=true, version=6}] 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T13:02:35.727

根据他们的网站[Internet Explorer Driver](https://code.google.com/p/selenium/wiki/InternetExplorerDriver)，他们做到了。

# javascript - Sinatra/twitter 引导项目中超出了最大调用堆栈大小

> ID：15355661
> 
> 赞同：0
> 
> 时间：2013-03-12T07:35:20.940
> 
> 标签：javascript, ruby, twitter-bootstrap, sinatra

我在我的 Sinatra 项目中使用 twitter 引导程序。到目前为止一切正常，但现在突然出现错误：

```
Uncaught RangeError: Maximum call stack size exceeded
m.matchesSelector
f.extend.filter
f.fn.extend.is
f.event.dispatch
h.handle.i
f.event.trigger
(anonymous function)
e.extend.each
e.fn.e.each
f.fn.extend.trigger
f.fn.(anonymous function)
(anonymous function)
f.event.dispatch
h.handle.i
f.event.trigger
(anonymous function)
e.extend.each
e.fn.e.each
f.fn.extend.trigger
f.fn.(anonymous function)
(anonymous function)
f.event.dispatch
h.handle.i
f.event.trigger
(anonymous function)
e.extend.each
e.fn.e.each
f.fn.extend.trigger
f.fn.(anonymous function)
(anonymous function)
f.event.dispatch
h.handle.i
f.event.trigger
(anonymous function)
e.extend.each
e.fn.e.each
f.fn.extend.trigger
f.fn.(anonymous function)
(anonymous function)
f.event.dispatch
h.handle.i
f.event.trigger
(anonymous function)
e.extend.each
e.fn.e.each
f.fn.extend.trigger
f.fn.(anonymous function)
(anonymous function)
f.event.dispatch
h.handle.i
f.event.trigger
(anonymous function)
e.extend.each
e.fn.e.each
f.fn.extend.trigger
f.fn.(anonymous function)
(anonymous function)
f.event.dispatch
h.handle.i
f.event.trigger
(anonymous function)
e.extend.each
e.fn.e.each
f.fn.extend.trigger
f.fn.(anonymous function)
(anonymous function)
f.event.dispatch
h.handle.i
f.event.trigger
(anonymous function)
e.extend.each
e.fn.e.each
f.fn.extend.trigger
f.fn.(anonymous function)
(anonymous function)
f.event.dispatch
h.handle.i
f.event.trigger
(anonymous function)
e.extend.each
e.fn.e.each
f.fn.extend.trigger
f.fn.(anonymous function)
(anonymous function)
f.event.dispatch
h.handle.i
f.event.trigger
(anonymous function)
e.extend.each
e.fn.e.each
f.fn.extend.trigger
f.fn.(anonymous function)
(anonymous function)
f.event.dispatch
h.handle.i
f.event.trigger
(anonymous function)
e.extend.each
e.fn.e.each
f.fn.extend.trigger
f.fn.(anonymous function)
(anonymous function)
f.event.dispatch
h.handle.i
f.event.trigger
(anonymous function)
e.extend.each
e.fn.e.each
f.fn.extend.trigger
f.fn.(anonymous function)
(anonymous function)
f.event.dispatch
h.handle.i
f.event.trigger
(anonymous function)
e.extend.each
e.fn.e.each
f.fn.extend.trigger
f.fn.(anonymous function)
(anonymous function)
f.event.dispatch
h.handle.i
f.event.trigger
(anonymous function)
e.extend.each
e.fn.e.each
f.fn.extend.trigger
f.fn.(anonymous function)
(anonymous function)
f.event.dispatch
h.handle.i
f.event.trigger
(anonymous function)
e.extend.each
e.fn.e.each
f.fn.extend.trigger
f.fn.(anonymous function)
(anonymous function)
f.event.dispatch
h.handle.i
f.event.trigger
(anonymous function)
e.extend.each
e.fn.e.each
f.fn.extend.trigger
f.fn.(anonymous function)
(anonymous function)
f.event.dispatch
h.handle.i
f.event.trigger
(anonymous function)
e.extend.each
e.fn.e.each
f.fn.extend.trigger
f.fn.(anonymous function)
(anonymous function)
f.event.dispatch
h.handle.i
f.event.trigger
(anonymous function)
e.extend.each
e.fn.e.each
f.fn.extend.trigger
f.fn.(anonymous function)
(anonymous function)
f.event.dispatch
h.handle.i
f.event.trigger
(anonymous function)
e.extend.each
e.fn.e.each
f.fn.extend.trigger
f.fn.(anonymous function)
(anonymous function)
f.event.dispatch
h.handle.i
f.event.trigger
(anonymous function)
e.extend.each
e.fn.e.each
f.fn.extend.trigger
f.fn.(anonymous function)
(anonymous function)
f.event.dispatch
h.handle.i
f.event.trigger
(anonymous function)
e.extend.each
e.fn.e.each
f.fn.extend.trigger
f.fn.(anonymous function)
(anonymous function)
f.event.dispatch
h.handle.i
f.event.trigger
(anonymous function)
e.extend.each
e.fn.e.each
f.fn.extend.trigger
f.fn.(anonymous function) 
```

我不知道是什么原因造成的。**仅**当我单击输入框或提交按钮时才会导致浏览器的选项卡崩溃。我不能给你看代码，因为它太复杂了。我只需要我应该首先做什么的线索。

你的想法？

**更新**：它仅由`input text`onblur(?) 事件引起：当我转到另一个选项卡并按 alt+tab 或单击此`input text`。虽然没有自定义事件处理程序。

# java - 属性文件不起作用

> ID：15355664
> 
> 赞同：1
> 
> 时间：2013-03-12T07:35:34.457
> 
> 标签：java, jsp, servlets, properties, nullpointerexception

我正在尝试找到一种方法，如何在我的 Java Servlet 中使用属性文件（扩展 http-servlet）。我已经尝试使用`ClassLoader#getResourceAsStream()`and `ServletContext#getResourceAsStream()`。但无论我在做什么，都没有任何效果，而且总是有一个`NullPointerException`.

`database.properties`文件：

```
Driver=org.postgresql.Driver
Protokoll=jdbc:postgresql://
Speicherort=localhost/
Datenbank=Ticketshop
User=postgres 
```

代码：

```
p = new Properties();
p.load(getServletContext().getResourceAsStream("/WEB-INF/properties/database.properties"));
protokoll = p.getProperty("Protokoll");
speicherort = p.getProperty("Speicherort");
user = p.getProperty("User");
driver = p.getProperty("Driver");
password = p.getProperty("Password");
database = p.getProperty("Datenbank"); 
```

文件树：

```
Java Resources
  |-- src
     |-- login
        |-- Login.java
WebContent
  |-- WEB-INF
     |-- properties
        |-- database.properties 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-12T07:41:28.953

你为什么不使用`ResourceBundle`. 使用起来非常简单。**将属性文件放在源文件夹**中，然后

```
import java.util.MissingResourceException;
import java.util.ResourceBundle;

public class DatabaseConstantsAccessor
{
    // don't include .properties extension, just specify the name without extension
    private static final String BUNDLE_NAME = "database";

    private static final ResourceBundle RESOURCE_BUNDLE = ResourceBundle.getBundle(BUNDLE_NAME);

    private ConstantsAccessor()
    {
    }

    public static String getString(String key)
    {
        try
        {
            return RESOURCE_BUNDLE.getString(key);
        }
        catch (MissingResourceException e)
        {
            return '!' + key + '!';
        }
    }
} 
```

在您要访问属性的地方，请使用以下代码：

```
String driverString=DatabaseConstantsAccessor.getString("Driver");
Integer intProp=Integer.valueOf(DatabaseConstantsAccessor.getString("SomeIntProperty")); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-12T08:01:46.317

检查所有名称。你的代码工作正常。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-12T08:04:30.907

**试试这个**

**编辑**

```
p.load(getServletContext().getClassLoader().getResourceAsStream("properties/database.properties")); 
```

顺便说一句，你需要文件夹`move the database.properties`才能`/WEB-INF/classes`工作

**文件夹结构应该是**

```
WEB-INF
  | classes
      |properties
       database.properties 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-12T07:48:25.033

我同意“dj aqeel”，但要获得 ResourceBundle，它必须在类目录中。

因此，我将文件放在“ **/WEB-INF/classes/properties/database.properties** ”中。显然，您必须将文件放在 src 目录中，编译器会自动移动到那里。

马科斯

# arrays - 在actionscript中通过键数组删除数组的值

> ID：15355671
> 
> 赞同：0
> 
> 时间：2013-03-12T07:36:18.690
> 
> 标签：arrays, actionscript-3

我有两个数组：

```
var valueArr:Array = [50,46,64,85,98,63,46,38,51,24,37,58,48,14,28];
var keyArr:Array = [5,6,7,8,9,10,11,12,13,14]; 
```

*   keyArr：valueArr 的容器键

我想通过 keyArr 数组的键删除 valueArr 数组的值：

```
var resultArr:Array = [50,46,64,85,98]; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T08:46:07.810

你可以这样做：

```
var valueArr:Array = [50,46,64,85,98,63,46,38,51,24,37,58,48,14,28];
var keyArr:Array = [5, 6, 7, 8, 9, 10, 11, 12, 13, 14];
trace("valueArr",valueArr);//valueArr 50,46,64,85,98,63,46,38,51,24,37,58,48,14,28
trace("keyArr", keyArr);//keyArr 5,6,7,8,9,10,11,12,13,14
var i:int;
for (i = keyArr.length; --i >= 0; )
{
    if (keyArr[i] < valueArr.length)
    {
        trace(valueArr.splice(keyArr[i], 1));
/*returned by above line
28
14
48
58
37
24
51
38
46
63
*/
    }
}
trace("valueArr",valueArr);//valueArr 50,46,64,85,98
trace("keyArr",keyArr);//keyArr 5,6,7,8,9,10,11,12,13,14 
```

问候

# ios - UIWebView 粘贴操作将字体标签添加到我的 html

> ID：15355672
> 
> 赞同：4
> 
> 时间：2013-03-12T07:36:25.383
> 
> 标签：ios, uiweb

在我的应用程序中，我有一个 contentEditable UIWebView。当我使用 copy: 然后 paste: 函数并检查生成的 html 时，我看到粘贴代码被插入到改变页面外观的“字体标签”中。

例如：我复制了一个带有一些文本的 h1 标签，当我粘贴它并检查 html 时，我看到这个 h1 标签被插入到使用“Times”的“font”标签中，并且它被调整为“3”。

我检查了 UIPasteboard，但里面的代码是正确的。

我该如何解决我的问题？拜托，这很重要。

干杯

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-09T05:02:25.133

[这](http://openradar.appspot.com/13605816)是`UIWebView`. _ 如果您的`contenteditable`元素没有`font-size`指定样式，则内容将正确粘贴。

# javascript - 具有相同名称的重复 cookie 会产生不良行为

> ID：15355674
> 
> 赞同：0
> 
> 时间：2013-03-12T07:36:45.093
> 
> 标签：javascript, jquery

嗨，我正在尝试通过将浏览器状态存储到 cookie 中来保存它。由于某种原因，这似乎并不总是按我想要的方式工作，因为它会创建一个具有相同名称的重复 cookie。这就是我的意思：

![在此处输入图像描述](../Images/c3916525459a37ce79addccd4274d7a9.png)

这是我用来处理 cookie 的唯一代码：

```
$(function () {
var content = $("#content");
var state = $.cookie("layoutState");

if (state === "grid") {
    content.removeClass("content-list").addClass("content-grid");
}

if (state === "list") {
    content.removeClass("content-grid").addClass("content-list");
}

$("#list").on("click", function (e) {
    $.cookie("layoutState", "list", { expires: 7, path: "/" });
    content.removeClass("content-grid").addClass("content-list");
    e.preventDefault();
})

$("#grid").on("click", function (e) {
    $.cookie("layoutState", "grid", { expires: 7, path: "/"});
    content.removeClass("content-list").addClass("content-grid");
    e.preventDefault();
}) 
```

})

我正在使用 jQuery cookie 插件。

有谁知道我一直试图解决几个小时但没有运气的问题是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-12T07:44:02.150

您可以检查 cookie 是否存在，删除并创建一个，例如：

```
if( $.cookie("layoutState") ) {
   $.removeCookie('layoutState', { path: '/' });
}
//and create
$.cookie("layoutState", "grid", { expires: 7, path: "/"}); 
```

# r - r语言如何给hadoop用户root权限

> ID：15355675
> 
> 赞同：-1
> 
> 时间：2013-03-12T07:36:53.783
> 
> 标签：r, hadoop, hdfs

我一直在通过导入hdfs文件`readLines(textConnection(rhread("/hotel_81480.dat",type="text")),n=1)`并将第一行保存在一个数组中。数组中包含的数据是Im`ajs[]`类型的，使用命令绘制条形图。面对错误：`number.Now``barplot(ajs[])`

```
 Xlib: connection to ":0.0" refused by server
Xlib: No protocol specified

Error in X11(d$display, d$width, d$height, d$pointsize, d$gamma, d$colortype,  : 
  unable to start device X11cairo
In addition: Warning message:
In function (display = "", width, height, pointsize, gamma, bg,  :
  unable to open connection to X11 display '' 
```

希望得到任何建议

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T09:44:46.977

你的问题有点神秘，但从标题和问题正文的结合来看，我推断你想以 root 身份启动 X windows。只需将您的错误粘贴到 google 中，我就可以访问以下[链接](http://www.linuxquestions.org/questions/linux-software-2/xlib-connection-to-0-0-refused-by-server-331779/)。这表明：

*引用：* 作为普通用户，您可以运行：

```
xhost local:root 
```

然后root就可以打开X程序了。您可以编辑`/root/.bashrc`并添加以下行：

```
export XAUTHORITY=/home/name/.Xauthority 
```

其中“name”是您使用的用户帐户名称。编辑完成后，X 启动后就`/root/.basrc`不必再发出命令了。`xhost local:root`

# symfony - 如何隐藏 URL 中的 ID？

> ID：15355676
> 
> 赞同：1
> 
> 时间：2013-03-12T07:36:59.583
> 
> 标签：symfony, routing

我在 URL 中使用某些实体的 id 来指定对特定元素的处理。路由文件是这样的：

```
UpdateUser:
    pattern:  /UpdateUser/{id}
    defaults: { _controller: AfricaClientBundle:Secteur:UpdateUser } 
```

在 URL 中，我得到如下内容：

```
http://127.0.0.1/Symfony/web/app_dev.php/UpdateUser/215 
```

这似乎一点也不安全。关于如何隐藏它或做什么的任何提示。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T12:49:21.037

特别是在这种情况下，如果您只希望您的用户能够更新自己，您应该`$id`在您的 URL 中省略 并在您的控制器上从 security.context 中读取它。

```
$user = $this->get('security.context')->getToken()->getUser(); 
```

`User`这应该从此刻登录的人那里加载实体。`[...]->getUser()->getId()`应该给你`$id`。

如果您不希望它仅适用于 UpdateUsuarioAction，想要更通用的东西，您应该使用`POST`而不是`GET`或者可能完全省略变量并将其存储在会话中。请注意，使用`POST`并不安全，因为用户可以修改`POST`数据。它只需要更多的工作。

通常，传递 ID 并不是不安全的，这取决于您的软件规则。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T08:34:30.330

如果您不想在页面或 url 中向用户显示实体 ID，则必须为每个实体定义一个唯一属性，该属性可能是“公共”。

在某种`User`情况下，通常，您可以设置`email`or`username`属性`Unique`，然后只在您的网址中提供它们。这样，不可能通过在 url 中增加一些 id 来“耕种”您的用户数据库。

这种行为不仅更安全，而且更漂亮和友好，而不是在你的网址中包含模糊的数字。

最好的

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-12T12:35:00.027

正如@ihsan 之前回答的那样，在您的 URL 中使用 ID 本身并不是安全问题。作为 ID 的替代方案，您可以使用[Doctrine Sluggable Extension](http://symfony.com/doc/2.1/cookbook/doctrine/common_extensions.html)。请记住，如果您只引用一个对象，您的参数仍然应该是唯一的。Sluggable 还提供了一些 SEO 优势。

# asp.net - 从 URL ASP.Net 以电子邮件附件形式发送 Mp3 文件

> ID：15355681
> 
> 赞同：1
> 
> 时间：2013-03-12T07:37:22.127
> 
> 标签：asp.net, mp3, email-attachments

我需要在我的 .Net 应用程序中将 mp3 文件作为电子邮件附件发送。该文件本身不在我的服务器上，而是在远程 url 上。什么是最好的方法？我需要先在我的服务器上下载文件，然后用电子邮件附加它还是我可以直接附加它而不下载？如何实现这一目标

# virtualbox - Vagrant 启动了错误的 VirtualBox

> ID：15355687
> 
> 赞同：2
> 
> 时间：2013-03-12T07:37:42.920
> 
> 标签：virtualbox, vagrant

想象以下场景：

*   全新安装，未篡改的 VirtualBox 安装
*   通过 gem 新安装的 Vagrant 1.0.6

现在我试试这个：

*   `vagrant box add box_one [url to box one]`
*   `vagrant init box_one`
*   `vagrant up`

到目前为止，一切都很好。`box_one`效果很好。它显示在 VirtualBox 管理器中，所有端口转发设置正确，我可以 ssh 进入它，Web 服务器运行 - 一切都很好。

*   `vagrant halt`
*   `rm Vagrantfile`

据我了解，这应该使我能够做到这一点：

*   `vagrant box add box_two [url to box two]`
*   `vagrant init box_two`
*   `vagrant up`

并使用`box_two`. 但相反，它显然使用了`box_two`- 转发不同端口的配置 - 但它会引导`box_one`. 在 VirtualBox Manager 中，它显示了两台具有不同 id 的机器——但它们都是`box_one`.

它似乎对我的同事有用，所以我机器上的某些东西一定是触发了那个错误。（或者我做了一些奇怪的事情，谁知道呢。）

有谁知道它可能是什么？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-03-12T12:24:18.933

好的，我的错误是我试图在同一个目录中执行此操作。这样它就一直使用相同的`.vagrant`文件 - 所以修复是继续删除`.vagrant`文件或在不同的目录中运行 vagrant 操作。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2014-05-27T18:49:15.087

从两个不相关的目录（每个目录都有自己的本地、不同`Vagrantfile`和`.vagrant`目录）运行 Vagrant 时也会出现类似的问题——有时 Vagrant 会完全连接到错误的 VM。对于在 OSX 上运行 Vagrant 1.5.x 的我来说，这种情况不一致但经常发生。

如果您看到这种行为，我发现解决它的唯一方法是向现有的 Vagrantfile 添加更多信息。就我而言，当 Vagrantfile 看起来像这样时，问题就发生了：

```
VAGRANTFILE_API_VERSION = "2"
Vagrant.configure(VAGRANTFILE_API_VERSION) do |config|
  config.vm.box = "some-box-name"
  config.vm.network "forwarded_port", guest: 8000, host: 8001
  config.vm.provider "virtualbox" do |vb|
    vb.gui = false
  end
end 
```

并通过添加设置的行来解决`vb.name`：

```
VAGRANTFILE_API_VERSION = "2"
Vagrant.configure(VAGRANTFILE_API_VERSION) do |config|
  config.vm.box = "some-box-name"
  config.vm.network "forwarded_port", guest: 8000, host: 8001
  config.vm.provider "virtualbox" do |vb|
    vb.gui = false
    vb.name = "x1_165165261578"  ## added this line
  end
end 
```

显然 Vagrant 使用 Virtualbox 盒子名称来识别盒子，但是当它没有被给出时使用另一个标识符（也许是`"default"`Vagrant 盒子名称？）。这很奇怪，因为 VM 的唯一 ID 存储在其中，`.vagrant/....../id`并且是一个绝对标识符。这一定是个bug。

知道这可能会发生 - 在建立 Vagrant 连接后立即验证您正在使用的 VM 是一个很好的做法，例如通过将唯一的机器名称放在提示符中或其他方式。如果您有许多类似的机器，您可能不会注意到您使用了错误的机器，直到您做了一些非常糟糕的事情，例如将您打算用于测试环境的更改应用于生产！

# highcharts - Highcharts - 缩放时如何动态更改标记半径？

> ID：15355692
> 
> 赞同：3
> 
> 时间：2013-03-12T07:38:21.823
> 
> 标签：highcharts

我正在使用具有“散点图”系列类型的 Highcharts。我还启用了 x 轴缩放功能。

现在将标记半径调整为缩放级别会很好。就像是：

```
events: {
    selection: function(event) {
        var extremesObject = event.xAxis[0],
            min = extremesObject.min,
            max = extremesObject.max;

        this.series[0].marker.radius = (max - min)/5;
    } 
```

}

最后一行`this.series[0]...`是我正在寻找的代码。

我试过这个：

```
 jQuery.each(this.series[1].data, function (i, point) {
            point.update({
                marker: {
                    radius: 10 / (max - min)
                }
            });
        }); 
```

但这在重绘事件中使用时给了我一个错误。这是一个例子：http: [//jsfiddle.net/dbX4F/2/](http://jsfiddle.net/dbX4F/2/)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-12T09:04:10.090

我认为这在当前版本的 highcharts 中是不可能的，因为它没有更新系列选项的 API。但是，在 v3Beta 版本中是可能的。

缩放的数学需要一些工作，但我在这里有基础工作：http: [//jsfiddle.net/Jrh2G/](http://jsfiddle.net/Jrh2G/)

```
events: {
    selection: function (event) {
        var extremesObject = event.xAxis[0],
         min = extremesObject.min,
         max = extremesObject.max;
        console.log(min + " " + max);
        // The maths needs some work to make the radius scale better with min/max.
        // Also, you should probabl take into account min/max y values as well.
        this.series[0].update({marker:{radius:10/(max-min)}});
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T14:04:39.387

最后，我找到了解决方案。可以在与图形数据相同的数组中传递点配置：

```
jQuery.each(data, function(i, val) {
    if (i > min && i < max) {
        detailScatter.push({
            marker: {
                radius: 80 / (max - min)
            },
            x: i,
            y: val
        });
    }
});

detailChart.series[1].setData(detailScatter); 
```

像魅力一样工作 - 请参阅此处：http: [//jsfiddle.net/dbX4F/3/](http://jsfiddle.net/dbX4F/3/)

# java - 在 CMS 中部署 GWT 应用程序

> ID：15355694
> 
> 赞同：1
> 
> 时间：2013-03-12T07:38:36.553
> 
> 标签：java, gwt, content-management-system

我尝试在 CMS 中部署我的 GWT 应用程序，但是这是它在访问时抛出的错误：

```
GWT module 'app' may need to be (re)compiled 
```

我已将编译后的“app”文件夹放在 CMS 的资源文件夹中，如下所示：

```
<script type="text/javascript" language="javascript" src="file/theme/gwt/app/app.nocache.js"></script> 
```

我尝试检查是否`app.nocache.js`可以在浏览器中访问它。

当我将它作为 Eclipse GWT 项目或通过 maven 运行时，此应用程序有效`gwt:run`

可能是什么问题呢？

# php - jQuery Ajax PHP 重定向到另一个页面

> ID：15355699
> 
> 赞同：2
> 
> 时间：2013-03-12T07:39:02.773
> 
> 标签：php, jquery

JavaScript 文件：

```
$.ajax({
 type: "POST",
 url: "ajax.php",
 data: dataString,
 success: function(r) 
   {
     $("#div").html(r);
   }
}); 
```

我想`new.php`在成功条件下将页面重定向到，所以在`ajax.php`我使用的文件中，`header('Location:new.php');`而不是重定向到页面`new.php`，它正在加载`new.php`.`div`

为了将现有页面重定向到全新页面，我需要进行哪些更改？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-12T07:41:11.413

```
$.ajax({
 type: "POST",
 url: "ajax.php",
 data: dataString,
 success: function(r) 
  {
    window.location = 'new.php';//window.location.href = 'new.php';
    //$("#div").html(r);
  },
}); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-12T07:42:49.680

通过在您通过 AJAX 请求的文件中放置标头，您只需将 AJAX 请求重新路由到该 URL。您*不会*重定向用户的浏览器，因为 AJAX 请求是在后台发生的。

相反，您需要在 JavaScript 文件中包含重定向，特别是在成功子句中：

```
//From Pragnesh Chauhan's answer (modified): 
$.ajax({
 type: "POST",
 url: "ajax.php",
 data: dataString,
 success: function(r) 
  {
    window.location.href = 'new.php';
    //$("#div").html(r); Useless since you're redirecting.
  },
}); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-13T08:16:06.987

我不知道为什么你甚至想为这个功能使用 jquery / ajax，因为使用 ajax 的重点是能够重新加载页面的一部分，而不必刷新整个页面或重定向到新页面。

为什么不直接将表单数据发布到同一页面并使用 PHP 执行所需的操作，然后使用 PHP 重定向到 new.php 或将表单发​​布到 new.php 并使用该页面上发布的数据执行所需的操作。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-12T07:41:29.560

```
window.location.href = "new.php"; 
```

试试这个`success()`

# quickbooks - 如何使用 PHP 从 Quickbooks 中检索数据？

> ID：15355700
> 
> 赞同：0
> 
> 时间：2013-03-12T07:39:06.007
> 
> 标签：quickbooks

我想从 Quickbooks 中检索数据（即出租卡车收入和公寓收入），并想使用 PHP 将数据存储在我的本地 MYSQL 数据库中，请帮助我，我没有得到我所做的。

谢谢， 莎玛考萨

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-12T11:38:28.637

首先，阅读[QuickBooks Web Connector](http://www.consolibyte.com/docs/index.php/QuickBooks_Web_Connector)。您可以[从 Intuit 的网站](http://marketplace.intuit.com/webconnector/)下载它。

然后，去获取[QuickBooks PHP DevKit](http://consolibyte.com/quickbooks-open-source/)（免责声明：我是 DevKit 的作者）。解压并查看这个文件：

*   文档/example_web_connector_import.php

遵循我们的[QuickBooks 和 PHP 快速入门指南](http://www.consolibyte.com/docs/index.php/PHP_DevKit_for_QuickBooks_-_Quick-Start)，除非它说要使用 docs/example_web_connector.php，而是用 docs/example_web_connector_import.php 代替。

这将使您将客户/项目/其他一些东西从 QuickBooks 导入您的 MySQL 数据库。

QuickBooks 并没有任何“出租卡车收入和公寓收入”的概念，因此您必须具体找出您想要从 QuickBooks 中得到什么。这些帐户在您的会计科目表中吗？他们是发票吗？收到付款？

一旦您明确知道您想要什么类型的对象，您就可以使用[QuickBooks OSR](http://developer.intuit.com/qbsdk-current/common/newosr/index.html)（使用屏幕顶部的“选择消息”下拉菜单，然后选择“XML Ops”选项卡）找出您需要的 XML发送到 QuickBooks 以取回您正在寻找的数据。然后修改脚本以提取该数据而不是默认提取的数据应该是微不足道的。

# node.js - 在 node + express 中传递数据以查看

> ID：15355701
> 
> 赞同：5
> 
> 时间：2013-03-12T07:39:06.863
> 
> 标签：node.js, express

我正在使用我的节点应用程序从 API 检索一些数据，并希望在视图中显示该数据并允许用户在那里更改它。我正在调用 api 并获得一个我想传递给视图的 JSON 响应。这就是我正在做的事情：

```
 var query = 'SELECT Id, OwnerId, ActivityDateTime, EndDateTime, WhatId, WhoId, Subject FROM Event WHERE OwnerId = \'' + user.userId + '\''  ;
    // execute the query and get response
    ...
    ...
    var ev = resp.records;
    res.render('index.html', {eventData : ev}); 
```

问题是当我想在我的视图中使用数据时，我得到一个未定义的错误。

如果我做：

```
 <div id='Subject'>#{eventData.Subject}</div> 
```

我得到了#{eventData.Subject} 的打印输出

尝试在 JS 中使用数据会返回未定义的错误：

```
 <script type="text/javascript">
    var mydata = #{eventData};
    </script> 
```

经过一番搜索，我发现了一篇建议先对其进行字符串化的帖子：

```
 var mydata = !{JSON.stringify(eventData)};
    console.log(mydata); 
```

在这里，我收到一个语法错误“SyntaxError: missing : after property id”

我很确定我错过了一些基本的东西，而且我一生都无法弄清楚。我发现很多文章示例解释了如何在 Jade 中执行此操作，但我不想使用 Jade 并且使用文章中的建议会导致“未定义”或“非法字符”错误。

我完全没有想法......帮助？肿瘤坏死因子

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-12T17:13:50.747

Jonathan Ong 的评论实际上让我走上了正轨。由于我使用的是 html 的客户处理程序，因此它不会解释任何变量。

我改用ejs：

```
 // view engine ejs
     app.set('view engine', 'ejs');
     app.register('.html', require('ejs')); 
```

并使用了以下占位符：

```
 <%= eventData.Subject %> 
```

这实际上使我的数据出现了。感谢所有的评论和回答！迈克尔

# c# - 关于实体框架版本的一般问题

> ID：15355702
> 
> 赞同：1
> 
> 时间：2013-03-12T07:39:09.330
> 
> 标签：c#, entity-framework

好吧，我想澄清一下我对不同版本的实体的一些疑问。

如果我去微软，到下载中心，我可以得到我可以安装在我的电脑上的实体框架 4.1 更新 1。

但是，在 nuget.org 网站上，我可以下载 4.3.1。这没有我可以从 Microsoft 下载的 4.1 之类的安装程序。是独立版本还是我需要先安装4.1？

我怎么没有4.3.1版本的安装程序，如果我想在其他电脑上使用使用这个版本的应用程序，我该怎么办？一个本地的dll副本就够了吗？

我问这个是因为在一个项目中我首先安装了 EF 4.1 update 1，然后我通过 VS2010 的包管理器安装了使用 dll 4.4 的 EF 4.5 版本。我在我的文件夹应用程序中进行了本地复制，但是当我尝试在其他计算机上运行该应用程序时，它说我尝试使用不存在的类型。如果我在计算机中安装 EF 4.1 update 1，则该应用程序可以正常工作。

我想避免在我想要运行应用程序的每台计算机上安装 EF 4.1，因为我想要一个可移植的应用程序，所以我只想安装 .NET 4.0 和其他附加组件本地副本。

此外，我尝试在我的应用程序中使用许多 entityframework.dll 的本地副本，但我只看到一个文件。是否可以在我的应用程序的主文件夹中包含多个版本的同一个 dll 作为本地副本？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T13:07:06.920

EF 版本和版本控制有点乱 :-)

MS 家伙是第一个承认这一点的人，这就是为什么他们合理化他们如何命名和分发他们的版本。

在[此处](http://msdn.microsoft.com/en-US/data/jj574253)查看整个 EF 版本历史记录，并查看 ADO .Net 博客上的这篇特定[帖子](http://blogs.msdn.com/b/adonet/archive/2011/08/09/ef-releases-amp-versioning-call-for-feedback.aspx)，他们在其中呼吁就版本控制问题提供反馈。这很有趣。

现在您已经清楚地了解了 EF 版本和版本控制，让我们谈谈您自己的发布问题！

基本上，只要在目标机器上安装了正确的 .Net 框架（即：您想要安装应用程序的位置），您的应用程序安装包就可以提供您的应用程序正常工作所需的所有其他库！

在 VisualStudio 中，右键单击您的应用程序项目并选择“发布”，这将帮助您构建正确的安装包。

希望这可以帮助！

# codeigniter - 从控制器发送数据到查看代码点火器

> ID：15355706
> 
> 赞同：0
> 
> 时间：2013-03-12T07:39:23.397
> 
> 标签：codeigniter, controller, views

我有控制器加载客户详细信息视图，其中包括客户姓名、电子邮件、传真、电话号码。...等我希望系统用户在输入客户姓名的形式时检查该客户是否存在于数据库中，并立即以电子邮件、传真等形式显示他的联系方式是这样的无需再次加载视图是否可行？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T08:39:44.707

希望这会帮助你。

**控制器：[我只写函数。]**

```
public function customer_details() {
       $data['base_url'] = base_url();
       $data['somedata'] = 'somevalue';
       $this->load->view('customerDetailsView',$data);
}
public function ajax_fetchDetails() {
       $customerName = $this->input->post('cname');
       $this->load->model('customerDetails');
       $cdetails = $this->customerDetails->fetchdetails($customerName);
       if(!empty($cdetails)) {
          echo json_encode($cdetails);
       }
       else echo '0'; //Handle it in view.
} 
```

* * *

**模型：[编写自己的查询]**

```
Select * from `customerdetails` where `name` like $customerName limit = 1; 
```

* * *

**查看：customerDetailsView [我只写应该出现在标签中的内容]**

```
<label for='cname'>Customer Name:</label> <input type="text" id="cname" />
<br/>
<input type="button" id="fetchbtn" value="Fetch Details" />
<br/>
<label for='email'>Email: </label> <input type="text" id="email" />
<label for='fax'>Fax: </label> <input type="text" id="fax" /> 
```

...等等，直到所有细节都被涵盖。

```
<!--For the following script to work you'll have to use jquery library.-->
  <script type="text/javascript">
    $("#fetchbtn").onclick( function(event) {
        var name = jQuery.trim($("#cname").val()); //Fetch the customer name enter in the input field.
        if(name != '') // Check for empty condition
        {
            $.ajax({
            type: "POST", url:"<?php echo $base_url.'<CONTROLLER NAME>/ajax_fetchDetails'; ?>",
            data:{cname:name},
                success: function(result) {
                    if(result != '0') {
                        var customerDetails = JSON && JSON.parse(result) || $.parseJSON(result); // Parse the JSON encoded customer details into string.
                        var email = customerDetails.email, fax = customerDetails.fax; //... So on
                        $("#email").val(email); $("#fax").val(fax); //... So on
                    }
                }
            });
        }
    });
  </script> 
```

这里唯一的缺点是，如果两个客户的名字相同，则只会获取第一个客户的详细信息。为避免这种情况，您必须为每个客户维护唯一的用户名。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T07:43:59.337

1.您可以通过在加载视图时拥有一组客户来做到这一点，当用户键入名称时，您可以使用您拥有的数组检查此值。需要注意的是，您必须制作从控制器获得的 php 数组的 js 数组。

2.使用ajax。简单而动态。

# maven - 如何用 Maven 属性替换 web.xml 中的值？

> ID：15355708
> 
> 赞同：45
> 
> 时间：2013-03-12T07:39:34.177
> 
> 标签：maven, servlets, parameters, web.xml

我有一个 Maven 项目，它将一些测试文件下载到它的构建目录`./target/files`中。然后这些文件应该可供 servlet 使用，我可以通过将完整路径硬编码为`<init-param>`servlet 的一个来轻松实现：

```
<servlet>
    <servlet-name>TestServlet</servlet-name>
    <servlet-class>my.package.TestServlet</servlet-class>
    <init-param>
        <param-name>filepath</param-name>
        <param-value>/home/user/testproject/target/files</param-value>
    </init-param>
</servlet> 
```

如何避免对完整路径进行硬编码并改用动态参数替换？我尝试了以下方法，但没有奏效：

```
<param-value>${project.build.directory}/files</param-value> 
```

* * *

## 回答 #1

> 赞同：88
> 
> 时间：2013-03-12T08:26:32.423

添加到您的 pom 部分：

```
<plugin>
    <groupId>org.apache.maven.plugins</groupId>
    <artifactId>maven-war-plugin</artifactId>
    <configuration>
        <webResources>
            <resource>
                <filtering>true</filtering>
                <directory>src/main/webapp</directory>
                <includes>
                    <include>**/web.xml</include>
                </includes>
            </resource>
        </webResources>
        <warSourceDirectory>src/main/webapp</warSourceDirectory>
        <webXml>src/main/webapp/WEB-INF/web.xml</webXml>
    </configuration>
</plugin> 
```

见[Maven：自定义 web-app 项目的 web.xml 以](https://stackoverflow.com/a/15006170/651140)获取更多详细信息

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2013-03-12T17:54:59.667

您可以简单地使用 Maven[过滤资源](http://maven.apache.org/plugins/maven-resources-plugin/examples/filter.html)：

```
<build>
    ...
    <resources>
      <resource>
        <directory>src/main/resources</directory>
        <filtering>true</filtering>
      </resource>
      ...
    </resources>
    ...
  </build>
  ...
</project> 
```

您也可以将其结合起来，并希望过滤一些文件，而其他文件不应该被过滤：

```
 <resources>
      <resource>
        <directory>src/main/resources</directory>
        <filtering>true</filtering>
        <includes>
          <include>**/*.xml</include>
        </includes>
      </resource>
      <resource>
        <directory>src/main/resources</directory>
        <filtering>false</filtering>
        <excludes>
          <exclude>**/*.xml</exclude>
        </excludes>
      </resource>
      ...
    </resources> 
```

将适当的占位符放入您想要替换 ${home} 等内容的文件中。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-03-12T08:45:06.880

您可以使用[Replace Ant Task](http://ant.apache.org/manual/Tasks/replace.html)来执行此操作。

这是一个示例实现，我在其中替换属性文件中的令牌键，使其适应您的需要

**测试属性**

```
SERVER_NAME=@SERVER_NAME@
PROFILE_NAME=@PROFILE_NAME@ 
```

**pom.xml**

```
 <plugin>
    <artifactId>maven-antrun-plugin</artifactId>
    <version>1.7</version>
    <executions>
      <execution>
        <phase>compile</phase>
        <configuration>
          <tasks>

            <replace dir="${basedir}/src/main/resources" >
              <include name="**/*.properties"/>
             <replacefilter     token="@SERVER_NAME@" value="My Server"/>
             <replacefilter     token="@PROFILE_NAME@" value="My Profile"/>
            </replace>             

          </tasks>
        </configuration>
        <goals>
          <goal>run</goal>
        </goals>
      </execution>
    </executions>
  </plugin> 
```

瞧！ **现在执行**

```
mvn clean package 
```

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2017-10-18T22:40:54.383

我认为您可以使用 maven-war-plugin 的 filteringDeploymentDescriptors 选项来过滤部署描述符 -

```
<properties>
    <maven.war.filteringDeploymentDescriptors>true</maven.war.filteringDeploymentDescriptors>
</properties> 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2019-03-05T09:28:13.693

添加`maven-war-plugin`并设置`<filteringDeploymentDescriptors>true</filteringDeploymentDescriptors>`运行时替换占位符`mvn package`

```
<properties>
  <project.build.directory>your path</project.build.directory>
</properties>

<build>
  <plugin>
    <artifactId>maven-war-plugin</artifactId>
    <version>3.2.2</version>
    <configuration>
      <filteringDeploymentDescriptors>true</filteringDeploymentDescriptors>
    </configuration>
  </plugin>
</build> 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-03-12T08:23:31.037

在 web.xml 中编码 maven 参数不能直接工作，因为在运行时，当你的应用程序启动时，maven 已经完成了它的工作，应用程序对 maven 没有任何了解。

您可以过滤替代 web.xml（请参阅 maven 过滤：[http](http://maven.apache.org/plugins/maven-resources-plugin/examples/filter.html) : //maven.apache.org/plugins/maven-resources-plugin/examples/filter.html）并在构建战争时使用它（请参阅 webXml 参数战争插件文档：[http](http://maven.apache.org/plugins/maven-war-plugin/war-mojo.html) ://maven.apache.org/plugins/maven-war-plugin/war-mojo.html ）

# java - gwtuploader 更改默认响应

> ID：15355711
> 
> 赞同：1
> 
> 时间：2013-03-12T07:39:44.433
> 
> 标签：java, gwt, gwtupload

我可以更改 gwtuploader 中的默认响应吗？我知道我可以添加自己的消息，但我需要更改默认设置，因为某些文件中有此错误：

```
[INFO] incorrect response: C:\fakepath\Bez tytułu.jpg
<?xml version="1.0" encoding="UTF-8"?> 
<response>
<field>GWTMU-05262228029563762</field>
<name>BezÂ&nbsp;tytuĹ‚u.jpg</name>
<ctype>image/jpeg</ctype>
<finished>ok</finished>
<size>187373</size>
</response> 
```

我需要从“name”参数中删除这个“ ”，因为它停止上传。

# jquery - 关于 div 和图像的一些事情通过 jquery 旋转 360 度

> ID：15355713
> 
> 赞同：1
> 
> 时间：2013-03-12T07:39:47.803
> 
> 标签：jquery, rotation

就像标题一样，我想在我的网页中旋转图像或 div。而且，我在谷歌代码 [http://code.google.com/p/jqueryrotate/](http://code.google.com/p/jqueryrotate/)中找到了 jqueryrotate.js 这位作者说明了如何使用 jqueryrotate.js 中的函数使其工作，并在 jsfiddle 中给出了一些示例，它看起来很棒！但是当它转向我时，无论我如何尝试甚至复制作者的代码都不起作用，图像只是保持静止。我不知道它有什么问题，希望有人可以提供帮助。

我写的代码如下：

```
<html>
<head>
<scripttype="text/javascript"src="http://jqueryrotate.googlecode.com/svn/trunk/jQueryRotate.js"></script>
<script type="text/javascript">
    var rotation = function (){
    $(document).ready(function(){
    $("#img").rotate({
      angle:0, 
      animateTo:360, 
      callback: rotation,
      easing: function (x,t,b,c,d){        // t: current time, b: begInnIng value, c: change In value, d: duration
          return c*(t/d)+b;
      }
     });
    }
    rotation();

    })
    </script>
</head>
<body>
<img style="margin:10px;"src="/arrow.png" id="img">
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-12T08:00:21.737

您在 html 中包含的脚本有一个错字：

```
<scripttype="text/javascript"src="http://jqueryrotate.googlecode.com/svn/trunk/jQueryRotate.js"></script> 
```

应该

```
<script type="text/javascript" src="http://jqueryrotate.googlecode.com/svn/trunk/jQueryRotate.js"></script> 
```

而不是包含脚本，而是包含脚本类型

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-12T08:02:40.247

您的代码有一些错误。尝试这个。

```
var rotation = function (){

$("#img").rotate({
  angle:0, 
  animateTo:360, 
  callback: rotation,
  easing: function (x,t,b,c,d){        // t: current time, b: begInnIng value, c: change In value, d: duration
      return c*(t/d)+b;
  }
 });
};

$(document).ready(function(){
rotation();

}); 
```

[http://jsfiddle.net/TRQKE/](http://jsfiddle.net/TRQKE/)

当然，您还需要更正 Joe 提到的脚本标记。并且您需要包含未包含在代码示例中的 jquery 本身：

```
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script> 
```

# android - 适用于微控制器的 Android 开放式附件

> ID：15355721
> 
> 赞同：1
> 
> 时间：2013-03-12T07:40:21.680
> 
> 标签：android, c, embedded, usb

如何在具有USB或外部USB驱动IC的任何微控制器（8051内核...例如AT89C51）中实现Android开放附件代码并使其与android设备通信。请帮忙！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-12T16:53:30.513

从[文档](http://developer.android.com/tools/adk/index.html)中可以看出，ADK 是为 Arduino 平台设计的。但是，Open Accessory 协议已[记录在案](http://source.android.com/tech/accessories/index.html)，因此理论上可以在任何合适的目标上实现。

但是请注意，该协议要求*配件*充当 USB 主机 - 因此 USB 控制器需要具有主机功能，并且需要 USB 主机堆栈。另一方面，作为主机，您不需要[USB-IF](http://www.usb.org/about)分配的供应商 ID。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-04T16:44:27.670

首先，您需要在 MC 上工作的 USB 主机驱动程序才能通过 USB 端点发送和接收数据。之后，您应该使用 EP0（标准控制 EP）发送必要的命令序列以将 android 设备切换到附件模式。之后，您应该再次读取设备描述符并检查 VID 和 PID 值。他们应该表明您的 android 设备现在处于附件模式。之后，您的设备将具有两个 BULK EP 的一种配置，您可以使用它们来传输数据。如果您的 MC 没有 USB 主机控制器驱动程序，您可以在 Win 或 Linux 平台下使用 libusb 执行相同操作。

# java - 将九个补丁图像加载为 Libgdx Scene2d 按钮背景看起来很糟糕

> ID：15355723
> 
> 赞同：5
> 
> 时间：2013-03-12T07:40:33.617
> 
> 标签：java, libgdx, nine-patch

我正在尝试使用[九个补丁](http://developer.android.com/guide/topics/graphics/2d-graphics.html#nine-patch)作为 Libgdx Scene2d UI 按钮的背景。它正在加载，但它真的很难看。我可以看到“元数据”像素，它被拉伸，就好像它只是一个普通图像（按钮上的文本是“继续”）：

![九个补丁按钮的丑陋图像](../Images/112695b12619278cbaa399a68e589254.png)

我通过 (libgdx ) 将`.9.png`文件直接加载到(libgdx) 中，如下所示：[`NinePatchDrawable`](http://libgdx.badlogicgames.com/nightlies/docs/api/com/badlogic/gdx/scenes/scene2d/utils/NinePatchDrawable.html)[`NinePatch`](http://libgdx.badlogicgames.com/nightlies/docs/api/com/badlogic/gdx/graphics/g2d/NinePatch.html)

```
this.dialogButtonUp = new NinePatchDrawable(
   new NinePatch(new Texture(Gdx.files.internal("data/button-round.9.png"))));
this.dialogButtonDown  = new NinePatchDrawable(
   new NinePatch(new Texture(Gdx.files.internal("data/button-round-down.9.png")))); 
```

然后我做一个`TextButtonStyle`描述按钮的，并引用两个`NinePatch`drawable：

```
TextButton.TextButtonStyle buttonStyle = new TextButton.TextButtonStyle();
buttonStyle.font =  aValidFontReally;
buttonStyle.fontColor = Color.BLACK;
buttonStyle.up = this.dialogButtonUp;
buttonStyle.down = this.dialogButtonDown;
buttonStyle.pressedOffsetX = -2; 
```

我正在通过一个`Dialog`框间接构建按钮：

```
new Dialog( ... ).button("Continue", null, buttonStyle); 
```

我检查了`.9.png`文件以确保：

*   资产文件已在 Eclipse 中刷新
*   元数据边界像素是完全不可见或完全可见的黑色
*   Android`draw9patch`工具可以加载图像并验证它们

关于检查或更改什么的任何其他建议？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-03-12T21:14:52.810

感谢来自@RodHyde 的一些指针，看起来libgdx`NinePatch`类被设计为接受“后处理”九个补丁纹理（即，具有描述如何将单个纹理切割成补丁的单独整数值）。这种“处理”通常是作为将“.9.png”文件打包到文件中的副作用发生的`TextureAtlas`（参见[https://github.com/libgdx/libgdx/wiki/Texture-packer#ninePatches](https://github.com/libgdx/libgdx/wiki/Texture-packer#ninePatches)）。纹理图集是一个非常好的主意（尤其是当您的 UI 包含一堆不同的纹理元素时），所以这是有道理的，但在开发和尝试运行某些东西时有点令人惊讶。

为了解决这个问题，我可以直接包含我写的“.9.png”文件：

```
private static NinePatch processNinePatchFile(String fname) {
    final Texture t = new Texture(Gdx.files.internal(fname));
    final int width = t.getWidth() - 2;
    final int height = t.getHeight() - 2;
    return new NinePatch(new TextureRegion(t, 1, 1, width, height), 3, 3, 3, 3);
} 
```

这会加载纹理，创建一个修剪掉 1 像素元数据边框的子区域，然后猜测九个补丁边框元素是 3 像素宽/高。（通过混淆纹理数据来正确计算似乎是可能的，但不值得付出努力——在这种情况下，只需将纹理放入图集中即可。）

# salesforce - reRender 在 vi sualforce 中没有按预期工作

> ID：15355724
> 
> 赞同：-1
> 
> 时间：2013-03-12T07:40:43.857
> 
> 标签：salesforce, apex-code, visualforce

我确定我犯了一个非常小的错误。我用代码创建了一个visualforce页面

```
<apex:page standardController="RuleCriteria__c" extensions="AW_RuleCriteriaController3">
<apex:form >
<apex:pageBlock title="Rule Criteria Detail">
         <apex:pageBlockButtons >
             <apex:commandButton value="Save" />
             <apex:commandButton value="Save and New" />
             <apex:commandButton value="Cancel" />
         </apex:pageBlockButtons>
         <apex:pageBlockSection title="Information">
         </apex:pageBlockSection>
         <apex:pageBlockSection columns="1">
         <apex:pageBlockSectionItem >
                    <apex:outputLabel value="Related Object"></apex:outputLabel>
                         <apex:selectList value="{!objType}" size="1" onchange="fieldNamesList(this.options[this.selectedIndex].value);">
                             <apex:selectOptions value="{!objOptions}"/>
                         </apex:selectList>
                 </apex:pageBlockSectionItem>
                 <apex:pageBlockSectionItem >
                       <apex:outputLabel value="Field Name"></apex:outputLabel>
                         <apex:outputPanel id="fieldPanel"> 
                             <apex:outputPanel layout="block" styleClass="requiredInput">
                                <apex:outputPanel layout="block" styleClass="requiredBlock"/>
                             <apex:selectList value="{!fieldName}" size="1" onchange="setFieldApiName(this.options[this.selectedIndex].value)">
                                 <apex:selectOptions value="{!fieldOption}"/>
                             </apex:selectList>
                             </apex:outputPanel>
                          </apex:outputPanel> 

                     </apex:pageBlockSectionItem>
                <apex:pageBlockSectionItem >
                  <apex:outputLabel value="Field Type"></apex:outputLabel>
                         <apex:outputPanel id="fieldTypeApiPanel"> 
                             <apex:outputText value="{! fieldType}"/>
                          </apex:outputPanel>
                 </apex:pageBlockSectionItem>  
                 <apex:pageBlockSectionItem >
                 <apex:outputLabel value="Operator" />
                 <apex:outputPanel id="operatorPanel"> 
                 <apex:selectList value="{!newRuleCriteria.Matching_Type__c}"  size="1" >
<apex:selectOptions value="{! Operator}" ></apex:selectOptions> 
</apex:selectList>
</apex:outputPanel>  
</apex:pageBlockSectionItem>
<apex:pageBlockSectionItem rendered="{! isPicklist}" id="picklist">
<apex:outputLabel value="Matching Value"> </apex:outputLabel>
<apex:selectList value="{!newRuleCriteria.Matching_Value__c}" size="1"  >
                            <apex:selectOptions value="{! PickListValues}"/>                            
                        </apex:selectList>

</apex:pageBlockSectionItem >
<apex:pageBlockSectionItem rendered="{! isInput}" id='input1'>
<apex:outputLabel value="Matching Value"></apex:outputLabel>
<apex:inputFIeld value="{! newRuleCriteria.Matching_Value__c}"  />
</apex:pageBlockSectionItem>
<apex:pageBlockSectionItem rendered="{! isCheckBox}" id='check'>
<apex:outputLabel value="Matching Value"></apex:outputLabel>
                        <apex:inputCheckBox value="{! newRuleCriteria.Matching_Value__c}"/>

</apex:pageBlockSectionItem>
                 </apex:pageBlockSection>
         </apex:pageBlock>
         <apex:actionRegion >
       <apex:actionFunction name="fieldNamesList" action="{!getFieldNames}" reRender="fieldPanel">
        <apex:param assignTo="{!parentName}" value="" name="parentName"/>
        </apex:actionFunction>
     </apex:actionRegion>
         <apex:actionRegion >  
       <apex:actionFunction name="setFieldApiName" action="{!setFieldApiName}" reRender="picklist,input1,check,operatorPanel,fieldTypeApiPanel">
        <apex:param  value="" name="fieldName"/>
       </apex:actionFunction>   
     </apex:actionRegion>

         </apex:form>
</apex:page> 
```

扩展代码功能是这个

```
public pageReference setFieldApiName(){
    fieldName = Apexpages.currentPage().getParameters().get('fieldName');

   if(fieldName != null && fieldName.length() >0){
   fieldType = Schema.getGlobalDescribe().get(objType).getDescribe().fields.getMap().get(fieldName).getDescribe().getType().name();
     if(Schema.DisplayType.PickList == Schema.getGlobalDescribe().get(objType).getDescribe().fields.getMap().get(fieldName).getDescribe().getType())
{isPicklist=true;
isCheckBox = false;
isInput =false;
isMinMax = false;}
 if(Schema.DisplayType.Boolean ==  Schema.getGlobalDescribe().get(objType).getDescribe().fields.getMap().get(fieldName).getDescribe().getType())
 {isPicklist=false;
 isCheckBox=true;
 isInput= false;
 isMinMax= false;
 }

   }else {fieldType='';
  isMinMax=isCheckBox=isPickList=false;

  isInput=true;
  }
  System.debug('pick list is '+isPickList);
    return null;
    } 
```

在这个页面中的一个选择列表中，当用户选择标签时，我显示对象的标签，然后在第二个列表中，我显示与该标签相对应的字段，但是当我选择一个字段 actionFunction selectFieldApiName called.and 在调试日志中显示选择列表为真。但是没有选项列表正在呈现我认为在选择选项列表字段后 ispickList 变得真实，然后这个 pageblocksection 项目应该呈现

```
<apex:pageBlockSectionItem rendered="{! isPicklist}" id="picklist">
    <apex:outputLabel value="Matching Value"> </apex:outputLabel>
    <apex:selectList value="{!newRuleCriteria.Matching_Value__c}" size="1"  >
                                <apex:selectOptions value="{! PickListValues}"/>                            
                            </apex:selectList>

    </apex:pageBlockSectionItem > 
```

但它不是渲染任何人都可以告诉我哪里错了。请帮忙！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-21T03:40:55.843

我认为您要在这里使用的是[`<apex:actionSupport>`](http://www.salesforce.com/us/developer/docs/pages/Content/pages_compref_actionSupport.htm)标签而不是`<apex:actionFunction>`标签。将其嵌套在您的`<apex:selectList>`标签中。您要在此处使用的事件是 onChange。

# android - “推送”和调整片段大小

> ID：15355730
> 
> 赞同：0
> 
> 时间：2013-03-12T07:41:04.257
> 
> 标签：android, animation, fragment, transitions

首先，如果这是重复的，我想道歉，我找不到任何可以帮助我的东西。无论如何，我有一个承载 2 个片段的活动。片段 A 基本上充当标题（我不能在这种情况下使用操作栏），所以片段 A 不会被触及。在 Fragment A 下是...Fragment B，它占据了整个布局的其余部分（在 Fragment A 下）！片段 B 只是一个 ListView 片段。我想要做的是当用户单击列表上的某些内容（片段 B）时，我想“推”并将片段 B 调整到左侧，而另一个片段（片段 C）从屏幕右侧拉入. 我只是找不到任何可以实现这一点的动画（我需要复习一下）。

我感谢你的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T07:46:47.623

您的问题有些笼统，但我会尝试为您指明一个大致的方向，以便您可以提出更具体的问题。

Android 中的动画仅操作帧缓冲区。为了成功实现您所描述的内容，我将分阶段进行。首先做动画然后更新布局。

祝你好运！

# jquery - 选择高度的 IE7 问题

> ID：15355731
> 
> 赞同：3
> 
> 时间：2013-03-12T07:41:06.187
> 
> 标签：jquery, html, css, internet-explorer, internet-explorer-7

```
height: 22px; 
```

在所有浏览器中，文本都垂直居中对齐，IE7 除外。

我尝试了这些 CSS 规则，但没有运气：

```
display: inline-block;
vertical-align: middle;
line-height: 12px;
padding:0 0 3px 0; 
```

在 IE7 中，文本粘在底部。

![在此处输入图像描述](../Images/8821ce922d1bdf3f288dd6acbb4e614c.png)

我不会考虑为 IE7 标准设置的元标记。

有解决办法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T08:38:46.673

IE8也存在这个问题。我使用 IE8 和 IE7（开发人员工具）尝试了您的示例，它的行为相同。看看这个帖子：

[IE8 - 具有自定义高度的 <select> 元素的垂直对齐](https://stackoverflow.com/questions/9200618/ie8-vertical-alignment-of-a-select-element-with-a-custom-height)

这还指出，甚至不可能在 IE 中将选择元素居中：

[如何确保选择选项文本在 IE 中居中对齐？](https://stackoverflow.com/questions/1911111/how-to-make-sure-select-option-text-align-in-the-center-in-ie)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T07:59:01.973

对于 MSIE 浏览器，您需要预先设置输入和选择元素的字体规则...

```
input, select {font-family:'Times New Roman';font-size:100%; line-height:1.5em} 
```

通常这是在一个`reset.css`文件中完成的。您可以通过使用 IE 中的菜单来测试此要求`View>Text Size`......没有规则，选择和输入元素中的文本不会改变大小......使用它所做的规则......匹配其他浏览器。

MSIE 浏览器有一个设置“在网页中的按钮和控件上启用视觉样式”，这会影响 select 和其他表单元素的呈现。

将标签元素与控件对齐，我喜欢这种设计模式：

```
[label]Select:[select][option]this option[/option][/select][/label] 
```

适用于 Apple 和 Mobile 类型的布局

```
[label]Select:[br/][select][option]this option[/option][/select][/label] 
```

再次...您需要更改标签元素的默认样式规则，以使其与输入和选择元素保持一致。

```
label{font-size:100%; font-weight:bold} 
```

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2013-04-06T10:15:14.640

@尼玛

您也可以在**仅 IE**样式表中提供**行高**以供**选择。**在我的一项任务中，我在 IE 中也遇​​到了同样的问题。因此，我所做的是，我制作了一个**仅**针对 IE 的 IE 样式表并获得所需的结果。要制作**IE-Only**样式表，您可以参考[this](http://css-tricks.com/how-to-create-an-ie-only-stylesheet/)或[this](http://viralpatel.net/blogs/how-to-create-ie-specific-css-stylesheet/)。

# html - 用于 Internet Explorer 7、8、9 的浏览器特定 css

> ID：15355735
> 
> 赞同：-5
> 
> 时间：2013-03-12T07:41:19.590
> 
> 标签：html, css

请不要认为这个问题是重复的，因为我是 CSS 世界的新手，我正在开发一个新项目，它有很多 css 文件，通过谷歌搜索我了解 css 的功能及其用法，我想知道一件事，如果我正在编写一个小的 css 示例，我想专门为 Internet Explorer 7,8 和 9 编写一个特定于浏览器的 css 样式表，请告知如何实现这一点。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T07:43:01.683

使用条件注释：

```
<!--[if lte IE 8]><link/><![endif]--> 
```

更多信息：http: [//msdn.microsoft.com/en-us/library/ms537512%28v=vs.85%29.aspx](http://msdn.microsoft.com/en-us/library/ms537512%28v=vs.85%29.aspx)

仅用于一个 IE 版本

```
<!--[if IE 9]><link href="ie9.css" rel="stylesheet" type="text/css"/><![endif]--> 
```

根据您的需要更改版本（“9”）。如果要处理小于或等于特定版本的所有版本，请使用：

```
<!--[if lte IE 9]><link href="ie0-9.css" rel="stylesheet" type="text/css"/><![endif]--> 
```

这将解决从 0 到 9 的所有版本，但不是 10。有关更多详细信息，请查看我发布的链接。

# c# - 在 C# 中从数据表生成 excel 时出错

> ID：15355738
> 
> 赞同：0
> 
> 时间：2013-03-12T07:41:36.797
> 
> 标签：c#, epplus

使用**[EPPlus](http://epplus.codeplex.com/)**库从数据表生成 excel时出现错误

*System.ObjectDisposedException：包对象已关闭并释放，因此无法对此对象或在此包的一部分上打开的任何流执行操作。*

[我在这里](http://epplus.codeplex.com/discussions/262170)搜索并发现该`GetAsByteArray()`函数处理了包对象。请帮助克服这一点。

```
private void DumpExcel(DataTable tbl)
{
    using (ExcelPackage pck = new ExcelPackage())
    {

        //Create the worksheet
        ExcelWorksheet ws = pck.Workbook.Worksheets.Add("Demo");

        //Load the datatable into the sheet, starting from cell A1\. 
        //Print the column names on row 
        ws.Cells["A1"].LoadFromDataTable(tbl, true);

        Response.Clear();
        Response.ClearContent();
        Response.ClearHeaders();

        Response.AddHeader("content-disposition", "attachment;  filename=ExcelDemo.xlsx");
        Response.AddHeader("content-type", "application/Excel");
        Response.ContentType = "application/vnd.xls";
        Response.AddHeader("content-length", pck.GetAsByteArray().Length.ToString());
        Response.BinaryWrite(pck.GetAsByteArray());
    }
} 
```

**请注意：**我想生成 excel 并将其留给用户将 excel 报告保存在本地计算机上他们想要的任何位置，而不是在服务器上指定保存 excel 的路径。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-12T08:34:09.967

请尝试此解决方法，（避免对 GetAsByteArray() 的第二次调用，因为您注意到会释放对象）

```
byte[] rawData = pck.GetAsByteArray();
Response.AddHeader("content-length", rawData.Length.ToString());
Response.BinaryWrite(rawData); 
```

# oracle - 在 PL/SQL 中，游标和引用游标有什么区别？

> ID：15355739
> 
> 赞同：5
> 
> 时间：2013-03-12T07:41:37.267
> 
> 标签：oracle, plsql

据我所知，游标用于处理私有区域中的 SQL 语句，我们可以进一步使用它。Ref 游标在需要的地方定义游标。如果我错了请纠正我..

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-12T09:02:35.280

游标实际上是在数据库上运行 DML（选择、插入、更新、删除）的任何 SQL 语句。

引用游标是指向结果集的指针。这通常用于在数据库服务器上打开查询，然后让客户端获取所需的结果。引用游标也是一种游标，尽管在讨论静态 SQL 时通常使用术语游标。

引用游标通常用于根据用户输入更改查询的 where 子句。例如，此函数打开对`emp`表或`dept`表的查询，具体取决于用户选择的内容：

```
create or replace function f (input in varchar2) return sys_refcursor as
  cur sys_refcursor;
begin

  if input = 'EMP' then
    open cur for select * from emp;
  elsif input = 'DEPT' then
    open cur for select * from dept;
  end if;
  return cur;
end;
/ 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-11-13T09:54:55.447

静态游标与单个 SQL 查询相关联。这就是为什么使用称为**ref 游标**的动态游标来为不同的查询使用相同的游标是不灵活的。

# cordova - 如何使用 Sencha-touch 锁定方向？

> ID：15355752
> 
> 赞同：3
> 
> 时间：2013-03-12T07:42:28.420
> 
> 标签：cordova, sencha-touch, phonegap-plugins

我的环境使用的是 Sencha-touch & PhoneGap。我可以用垂直锁定方向吗？我不希望用户使用水平方向进行操作。

```
launch: function() {
    // Destroy the #appLoadingIndicator element
    Ext.fly('appLoadingIndicator').destroy();

    // Initialize the main view
    Ext.Viewport.add(Ext.create('ebook.view.Main'));
}, 
```

我需要在午餐功能上添加一些控制或配置吗？或者我需要将控件添加到 main.js。我的目的是我想锁定“垂直方向”的方向。有没有人可以帮助我。谢谢你。

其他参考：我在“package.json”上找到了以下代码，我尝试删除“landscapeLeft”和“landscapeRight”并重建它得到了相同的结果。我无法锁定用户方向。

```
 /**
 * @cfg {Array[String]} orientations
 * @required
 * This is orientations that this application can run.
 */
"orientations": [
    "portrait",
    "landscapeLeft",
    "landscapeRight",
    "portraitUpsideDown"
] 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-12-26T16:21:59.377

在 Android 上并使用 Phonegap 3.3，config.xml 中的方向首选项似乎被忽略了。对我有用的一种解决方法是修改 AndroidManifest.xml 并将属性 android:screenOrientation="portrait" 添加到每个活动标签。似乎工作。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-18T22:54:30.850

您应该在 PhoneGap 的 config.xml 中执行此操作

```
< preference name="orientation" value="portrait" /> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-12T11:08:07.287

我不确定你在哪个平台上开发。我对 Sencha+PhoneGap 的体验主要是在 iOS 上。

由于 Sencha 生成的所有网页内容都会被封装在一个视图控制器中（这是 phonegap 项目的机制）。您可以通过删除项目 .plist 中的所有横向选项来简单地锁定方向。

它在我的一个演示中运行良好。

# php - 如何使用 php 或 jquery 在本地计算机中读取文件

> ID：15355754
> 
> 赞同：2
> 
> 时间：2013-03-12T07:42:42.573
> 
> 标签：php, jquery

我的机器中有一个“.txt”文件我想使用 jquery 或 php 读取文件的内容

无需上传服务器。有什么办法请告诉我。

谢谢你....

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T07:44:39.700

不，没有 - 否则您可以从用户的计算机中读取个人文件

# javascript - 如何循环遍历一组异步作业，并分别执行它们？

> ID：15355761
> 
> 赞同：3
> 
> 时间：2013-03-12T07:43:05.833
> 
> 标签：javascript, jquery, jquery-deferred

有一系列工作，比如“要求用户填写表格”、“发出 ajax 请求”等。

我需要一个接一个地运行这些作业，最后调用一个`complete()`方法。

就像是：

```
var jobs = [11, 22, 33, 44, ...];

for(var i = 0; i < jobs.length; i++) {
   alert('Starting job #' + i);

   // chooseJobOperator shows a form and wait for user to <select> a member
   // and click save <button>
   async(chooseJobOperator(jobs[i]));

   alert('Job #' + i + ' is done, now for-loop will continue');
}

alert('All jobs are done now.');
complete(); 
```

例如，当我的工作是展示`prompt()`我不需要做任何事情时，因为 prompt 是一种同步方法，但是异步方法呢？

可以这样做`jQuery.Deffered`吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-12T08:10:16.283

你可以试试这个

```
var jobs = [11, 12, 14, 15];
function doTheJob() {
    if (jobs.length === 0) {
        alert('All jobs are done now.');
        complete();
        return;
    }

    var job_Id = jobs.pop();
    $.ajax({
        url: "/DoTheJob",
        complete: function () {
            doTheJob();
        }
    });
}; 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-12T08:05:38.783

也许有更好的方法，但我会为此使用`$.when`函数。这是它的外观示例：

```
var jobs = [1, 2, 3];

var d = $.Deferred(),
    stack = [];

for (var i = 0; i < jobs.length; i++) {
    stack.push(async(jobs[i]));
}

$.when.apply($, stack).done(function() {
    alert('All done');
});

function async(type) {
    alert('Starting job #' + type);
    return $.Deferred(function() {
        var self = this;
        setTimeout(function() {
            alert('Job #' + type + ' is done');
            self.resolve();
        }, 1000 * type);
    });
} 
```

我用作`setTimeout`异步操作。

[http://jsfiddle.net/rs3Qv/1/](http://jsfiddle.net/rs3Qv/1/)

# php - 尝试访问网站时应用程序/x-httpd-php 保存文件选项

> ID：15355767
> 
> 赞同：2
> 
> 时间：2013-03-12T07:43:32.633
> 
> 标签：php, web-hosting

我正在使用无限网络托管服务器。我上传了用 PHP 代码编写的网站。

当我在浏览器中输入站点 url 时，它没有打开，而是提供了下载选项。

请为此提供最佳解决方案。

如果我的问题不清楚，请发表评论。:)

# azure - 在 Windows Azure 云服务中托管 Umbraco

> ID：15355770
> 
> 赞同：1
> 
> 时间：2013-03-12T07:43:54.800
> 
> 标签：azure, umbraco, azure-storage, azure-web-roles

我刚刚将客户的 Umbraco 安装升级到 v6.0.2，我们现在想将它迁移到 2x 节点 Windows Azure 云服务。我刚刚通过实现 IFileSystem 完成了一个新的文件系统提供程序的实现。我现在可以使用 Blob 存储来存储媒体。

但是，我注意到前端现有媒体的 URL 没有更新；它们似乎仍然指向（现在不存在的）~/media 目录。此外，在 Umbraco 后端，每当我尝试将图像插入到 tinymce 编辑器中时，它都会调用 Web 服务并出现错误：

```
/umbraco/controls/Images/ImageViewerUpdater.asmx/UpdateImage
Message=The relative virtual path 'http:/127.0.0.1:10000/devstoreaccount1/umbraco/1001/favorite-32.png' is not allowed here. 
```

我认为 Umbraco 还没有为 Azure 等负载平衡环境做好准备是否正确？

我现在假设随着 IFileSystem 的引入，现在支持 Azure？也许我错过了我需要做的其他事情？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T07:47:37.310

到目前为止，我发现，尽管引入了新的文件系统提供程序/IFileSystem 接口，但一直到 v6+ 的 Umbraco 版本都没有“官方”网络农场支持。

Umbraco“Concorde”正在筹备中，它将提供 Umbraco 作为服务；我不确定这是否还包括支持 Azure 作为我们自己的自定义解决方案部署的一部分的更改。

同时，最好使用已弃用、不受支持、由 Microsoft 开发的 Umbraco Windows Azure 加速器，可从以下网址获得：[https ://github.com/microsoft-dpe/wa-accelerator-umbraco](https://github.com/microsoft-dpe/wa-accelerator-umbraco)

有轶事证据表明，这是将 Umbraco 部署到 Web 场场景（例如 Windows Azure）中的一种可靠方法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T13:22:01.553

作为 Windows Azure 网站的一部分安装 Umbraco 是否是一种选择？诚然，您似乎已经为让 Umbraco 使用云服务投入了大量工作。

# rdf - rdf 三元数据集

> ID：15355772
> 
> 赞同：1
> 
> 时间：2013-03-12T07:43:56.813
> 
> 标签：rdf, triplestore, triples

我需要一个具有相当数量（大约一百万）RDF 三元组的项目的数据集。我在网上找到了许多数据集，但它们都以 URI 的形式包含三元组中的数据。我需要一个数据完全以字符串文字形式存在的数据集。

我需要这种格式的数据。

```
person1,isNamed ,‘Serge Abiteboul’  
person2,isNamed ,‘Rick Hull’  
person3,isNamed ,‘Victor Vianu’ 
```

我对 RDF 是什么以及如何使用它知之甚少或完全不知道。因此，有人可以帮助我了解如何将数据转换为这种格式，或者是否有办法将数据从 URI 转换为字符串文字。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-12T11:46:18.607

您**不能**拥有仅由字符串文字组成的 RDF 三元组。

RDF 三元组由主语、谓语和宾语组成。主题和谓词始终是 URI。对象可以是 URI 或（字符串）文字。（不过，主题和对象也可以是空白节点。）

要在 RDF 中描述数据，您需要表示事物/概念/关系的 URI。

见[http://www.w3.org/TR/rdf-concepts/](http://www.w3.org/TR/rdf-concepts/)。

* * *

对于您的示例，您可以使用流行的[FOAF](http://www.foaf-project.org/)词汇表。在[Turtle 语法](http://www.w3.org/TR/turtle/)中，它可能看起来像：

```
<http://example.com/team/person1#me> <http://xmlns.com/foaf/0.1/name> "Serge Abiteboul" . 
```

*   这里的URI `http://example.com/team/person1#me`（=主题）将代表实际的人（而不是关于那个人的页面）。如果没有这样的 URI，您可以在自己的域下自己创建它（FOAF 词汇表有各种类和属性来描述人）。
*   URI `http://xmlns.com/foaf/0.1/name`（=谓词）在 FOAF 词汇表中[定义：](http://xmlns.com/foaf/spec/#term_name)

    > `name`- 某事物的名称。
    > 
    > […]
    > 
    > of something 是一个简单的`name`文本字符串。

*   `"Serge Abiteboul"`(= object) 是一个字符串文字。

对象字面量的数据类型可以用[XML Schema](http://en.wikipedia.org/wiki/XML_Schema_%28W3C%29)指定，例如`"-5.0"^^xsd:decimal`十进制数。也可以指定对象文字字符串的语言，例如`"house"@en`，对于英语字符串。

* * *

当然，您可以使用前缀而不是一直使用完整的 URI（但最终它仍然是 URI）：

```
@prefix foaf: <http://xmlns.com/foaf/0.1/> .
@prefix ex: <http://example.com/team/> .

ex:person1#me foaf:name "Serge Abiteboul" . 
```

* * *

所以如果你想在 RDF 中建模数据，你必须

*   为您要描述的抽象事物查找（或创建）URI，以及
*   查找（或创建）定义类和属性（以 URI 的形式）以描述抽象事物及其关系的词汇表/本体。

一些流行的词汇：

有关人员和社交网络，请参阅 FOAF。对于在线社区，请参阅 SIOC。有关作者身份和文档元数据，请参阅都柏林核心。有关类层次结构，请参阅 RDFS 和 SKOS。对于产品，请参阅 GoodRelations。对于软件项目，请参阅 DOAP。[等等。](https://stackoverflow.com/a/12098901/1591669)

# html - html表单上提交按钮的定位

> ID：15355778
> 
> 赞同：4
> 
> 时间：2013-03-12T07:44:31.750
> 
> 标签：html, forms, email

我试图弄清楚如何将“提交”按钮放置在提交字段右侧的简单 html 电子邮件提交表单上，而不是在字段下方。此表单将连接到我的 Mailchimp 电子邮件列表，这样当有人输入他们的电子邮件时，它会立即添加到 Mailchimp。这是我到目前为止所拥有的。非常感谢您的帮助。

```
<!-- Begin MailChimp Signup Form -->
<link href="http://cdn-images.mailchimp.com/embedcode/classic-081711.css"       rel="stylesheet" type="text/css">
<style type="text/css">
#mc_embed_signup{background:#fff; clear:left; font:14px Helvetica,Arial,sans-serif; }
/* Add your own MailChimp form style overrides in your site stylesheet or in this  style block.
   We recommend moving this block and the preceding CSS link to the HEAD of your     HTML file. */
</style>
<div id="mc_embed_signup">
<form action="http://buzzpoint.us6.list-manage1.com/subscribe/post? u=dc0ba2324b61f63ec1128f785&amp;id=126599f6a4" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
<div class="mc-field-group">
<label for="mce-EMAIL"> <span class="asterisk"></span>
</label>
<input type="email" value="" name="EMAIL" class="required email" id="mce-EMAIL">
</div>
<div id="mce-responses" class="clear">
    <div class="response" id="mce-error-response" style="display:none"></div>
    <div class="response" id="mce-success-response" style="display:none"></div>
</div>  <div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button"></div>
</form>
</div>

<!--End mc_embed_signup--> 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-12T07:50:44.543

等一下……这是要进入 html 电子邮件吗？

如果是这样，您肯定需要考虑将 html 重写为表格以使其适用于大多数客户端（如果您不相信我，请查看 Outlook 07）。

此外，由于存在保护最终用户的块，任何形式都无法在 html 电子邮件中使用。请考虑将其更改为“立即注册 FooBar”之类的链接。然后将您的表单放在网页上。在最好的情况下，您将获得微不足道的表单完成率，因为用户不习惯自己在电子邮件中填写表单。

就您的原始问题而言，您可以尝试使用`float`和`margin-right`css 属性来相应地定位按钮。看看这个[jsfiddle](http://jsfiddle.net/srqsn/)。

```
<input style="float:right; margin-right:12px;" type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button"> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-12T08:02:27.243

```
<!-- Begin MailChimp Signup Form -->
<link href="http://cdn-images.mailchimp.com/embedcode/classic-081711.css"       rel="stylesheet" type="text/css">
<style type="text/css">
  #mc_embed_signup{background:#fff; clear:left; font:14px Helvetica,Arial,sans-serif; }
  /* Add your own MailChimp form style overrides in your site stylesheet or in this  style block.
     We recommend moving this block and the preceding CSS link to the HEAD of your     HTML file. */
</style>
<div id="mc_embed_signup" style="position: relative;">
  <form action="http://buzzpoint.us6.list-manage1.com/subscribe/post? u=dc0ba2324b61f63ec1128f785&amp;id=126599f6a4" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
    <div class="mc-field-group">
      <label for="mce-EMAIL"> <span class="asterisk"></span>
      </label>
        <input type="email" value="" name="EMAIL" class="required email" id="mce-EMAIL" style="width: 80%;">
        <input style="width: 15%; float: right; margin-top: -32px;" type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button">
      </div>
      <div id="mce-responses" class="clear">
        <div class="response" id="mce-error-response" style="display:none"></div>
        <div class="response" id="mce-success-response" style="display:none"></div>
      </div>  
      <div class="clear">
    </div>
  </form>
</div> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-12T07:51:41.907

```
<input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button pull-right"> 
```

“pull-right”类属于 Bootstrap。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-12T07:52:26.107

方法 1：为什么不使用简单的 css id 选择器来定位按钮。方法2：使用webkit box水平对齐你的按钮。方法3：你也可以制作一个0边框的表格来定位你的按钮。

# android - 我想使用滑动技术在我的应用程序中实现解锁。

> ID：15355784
> 
> 赞同：1
> 
> 时间：2013-03-12T07:45:06.080
> 
> 标签：android, touch, drag, swipe

```
|                      |
| -------drag--------> | 
|                      | 
```

当用户单击按钮并将其拖过屏幕时，按钮/图像应水平触摸移动。我是新手。请帮帮我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T07:56:02.873

唔。您的问题分为两个基本子问题：
1）我如何处理触摸事件？和
2) 我如何在这个地方移动东西？

我认为您将需要从两者的一些基本示例开始，然后将它们连接在一起。在您了解这两个方面之前，您不太可能走得很远。

这是一个很好的教程，它结合了两者的元素：[http](http://eleanordarephdjournal.blogspot.co.uk/2011/03/example-of-simple-animation-and-touch.html) ://eleanordarephdjournal.blogspot.co.uk/2011/03/example-of-simple-animation-and-touch.html ，一旦你能理解这里发生了什么，您将知道要搜索什么以了解更多信息！

狩猎愉快！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T07:54:13.537

此示例可能会对您有所帮助.. [http://www.vogella.com/articles/AndroidDragAndDrop/article.html](http://www.vogella.com/articles/AndroidDragAndDrop/article.html)

# c# - 为在winforms中具有焦点的文本框设置一个值

> ID：15355785
> 
> 赞同：0
> 
> 时间：2013-03-12T07:45:09.870
> 
> 标签：c#, winforms

我有一个`listbox`控件和三个`textbox`表单

如果用户有焦点说`txtbox1`并且用户单击项目`listbox`，则应将所选项目文本设置为焦点`textbox1`。

但就我而言，每当我点击 中的项目时`listbox`，`txtbox1`根本不会保持焦点。

```
private void lstFields_MouseClick(object sender, MouseEventArgs e)
    {
        if (e.Button == MouseButtons.Left)
        {
            ListBoxControl ListBox = (ListBoxControl)sender;
            int itemIndex = ListBox.IndexFromPoint(e.Location);
            if (itemIndex == -1)
            {
                lstFields.SelectedIndex = -1;
                return;
            }
            else
            {
                //Here I need that focused textbox to set value
            }

        }
    } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-12T07:58:38.103

试试这个，这行得通

```
private TextBox lastFocused;

private void Form1_Load(object sender, EventArgs e)
    {
        foreach (var box in Controls.OfType<TextBox>())
        {
            box.LostFocus += textBoxFocusLost;
        }
    }

private void textBoxFocusLost(object sender, EventArgs e)
{
    lastFocused = (TextBox)sender;
} 
```

然后。

```
private void listBox1_SelectedIndexChanged(object sender, EventArgs e)
    {
        if (lastFocused != null)
        {
            lastFocused.Text = listBox1.SelectedItem.ToString();
        }
    } 
```

希望这有帮助。

# php - PHP exec svn 和 return_value 总是 0

> ID：15355791
> 
> 赞同：2
> 
> 时间：2013-03-12T07:45:46.607
> 
> 标签：php, svn

我正在尝试将 svn 集成到 php 脚本中以自动化网站启动和版本控制。

我在创建过程中使用 exec php 命令以及 svn 和 svnadmin 命令进行了一些检查。

所以，当我制作和热复制（不存在的存储库）时，它返回值 1（及其正确）但 svnadmin create（路径完全荒谬）总是返回 0（就像创建内容一样，但这不是真的！）

```
public function routine($istr, $search, $replace) {
 $output = array();
 $returnvar = 0;
 $istr = str_replace($search,$replace,$istr);
 exec($istr." 2>&1", $output,$returnvar);
 $this->addMessage($istr);
 if($returnvar != 0) {
  $this->addMessage("!!! GOT ERRORS !!!");
  $this->addMessage(implode("\n", $output));
 }
} 
```

这条路线确实有效，但 returnvar 始终为 0（如果 svnadmin 命令与 hotcopy 不同）。

该函数的含义是我只想在出现错误时显示完整的输出。不显示任何其他内容（或者可能是确认消息）

希望有人能提前帮助你

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T15:46:07.090

找到解决方案： [http ://www.php.net/manual/en/function.system.php#94929](http://www.php.net/manual/en/function.system.php#94929)

为我的目的修改它并添加到我的项目中:) 现在我的例程如下所示：

```
public function routine($istr, $search="", $replace="") {
    $output = array();
    if($search != "" || $replace != "")
        $istr = str_replace($search,$replace,$istr);
    $output = $this->runExec($istr);
    $this->addMessage(preg_replace("/[\n\r]/","",$istr));
    if(strlen($output['stdout']) > 5)
        $this->addMessage($output['stdout']);

    if($output['return'] != "0") {
        $this->addMessage("<font color='red'>!!! GOT ERRORS !!!");
        $this->addMessage($output['stderr']);
        $this->addMessage("</font>");

        return false;
    } else
        $this->addMessage("<font color='orange'>!!! EXEC SUCCESS !!!</font>");

    return true;
} 
```

并且像魅力一样工作:)

# c# - 清除 WebForms 中的所有文本框

> ID：15355797
> 
> 赞同：-1
> 
> 时间：2013-03-12T07:45:57.540
> 
> 标签：c#, asp.net

我的页面中有许多文本框。存储值后，我需要清除所有文本框。一个一个地清除所有文本框是一个耗时的过程。任何人都可以建议我一种方法来清除单个函数中的所有文本框。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-12T07:47:19.350

你可以试试：

```
foreach (TextBox tb in this.Controls.OfType<TextBox>())
    tb.Text = string.Empty; 
```

但这将直接清除页面上存在的文本框，而不是其他控件中的文本框。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-12T07:50:16.747

从客户端，使用 Jquery 你可以像这样实现它

```
$("input:text").val(''); 
```

这将清除表单中所有文本框的值。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-12T08:21:07.847

如果您在 WebForms 中使用 ViewState，那么您可以在成功保存后禁用它：base.EnableViewState = false;

# android - 如何接受特定于您的应用程序包名称的市场：// Intent

> ID：15355799
> 
> 赞同：2
> 
> 时间：2013-03-12T07:46:03.997
> 
> 标签：android, android-intent, intentfilter

我一直在研究这个，但我似乎只发现了相反的情况，您想要*启动*一个意图以在 Play 商店中查看您的应用程序。我想知道*只有*当 URI 包含您的应用程序的包名称时，是否可以接受诸如 ( `market://details?id=com.my.packagename`)之类的 URI 的 Intent。

 *我们的想法是在网站上有一个链接，该链接可以启动应用程序（如果已安装）或回退到启动应用程序下载页面的 Play 商店（如果未安装）。

我已经尝试了一些意图过滤器与`market`方案和数据的组合`my.packagename`，以及类似的东西，但应用程序没有显示为接收器。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-12T08:26:32.113

这是不可能的，我想。例如，如果您制定了自定义方案，`my-scheme://`那么您的应用程序必须已经安装才能处理该方案。最重要的是浏览器（Chrome、默认浏览器、Firefox……）：他们将如何处理这种自定义方案？为了安全起见，他们可能会忽略它。

此外，该方案`market://`现已弃用（[一些相关信息](https://www.iana.org/assignments/uri-schemes/prov/market)），谷歌已切换回正常的 HTTPS 形式：

```
https://play.google.com/store/apps/details?id=your.package.name 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-10-08T13:14:34.713

实现这一点的方法是编写一个小型 Web 服务，例如使用 Google App Engine。

你的网站应该链接到[http://yournamehere.appspot.com](http://yournamehere.appspot.com)，你的应用程序可以拦截它。位于 yournamehere.appspot.com 的网络服务将简单地发送重定向到 market://...（或[https://play.google.com/](https://play.google.com/) ...如果您愿意）

这样，当您的应用程序安装时，它将拦截链接点击。如果不是，您的网络服务将重定向到市场应用程序。*

# java - 中断一个 while 循环，其中有一个 try-catch 块

> ID：15355802
> 
> 赞同：0
> 
> 时间：2013-03-12T07:46:28.200
> 
> 标签：java

我有一个 While 循环，其中有一个 try catch 块。如何在 catch 语句中添加 break 语句来中断 while 循环。我不想使用 DO-WHILE 循环，因为我只有几分钟的时间来提交我的代码，而且我不想通过进行更改来破坏程序。但是，稍后我将考虑使用 DO-WHILE 语句更改代码。

```
while (true) {
try {
// something here
} catch (Exception e) {

// I need to break the forever while loop here
}
} 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-12T07:49:22.340

```
try {
// something here
    while (true) {
    // While body here.
    }
} catch (Exception e) {

// I need to break the forever while loop here
}
} 
```

您可以在 try catch 主体内移动 while 循环。这将以编程方式执行完全相同的操作，但所有错误都将被捕获，并且无需等待。这看起来好多了，并且更具语义意义。

此外，只需在 catch 块中添加单词`break;`，它就会停止循环的运行。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-12T07:49:01.973

只需在 catch 块中添加一个 break 语句

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-12T08:02:14.623

那么有多种方法

**Approach1 - 通过反转 While Condition 变量**

```
boolean notDone = true;
while(notDone) {
    try {
    // something here
    } catch (Exception e) {             
        notDone = false;
    }
} 
```

**方法 2 - 使用 break 语句**

```
while(notDone) {
    try {
    // something here
    } catch (Exception e) {
        break;
    }
} 
```

**方法 3 - 将 catch 块移到 while 之外**

```
try {
        while(notDone) {

        }       
    } catch (Exception e) {

    } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-12T09:31:59.593

> 如何在 catch 语句中添加 break 语句来中断 while 循环

就那样做吧。`break`在语句中添加`catch`语句。它会跳出`while`循环。

不是一个真正的问题。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-12T07:50:00.130

除非您在 catch 子句中有另一个循环（这很奇怪），否则只需使用`break;`.

try-catch 不是循环，因此 break 会影响第一个包含循环，这似乎是 while。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-03-12T07:50:38.773

它会起作用的。

但是你应该做的是离开循环**，因为**你有一个例外，比如：

```
try {
    while (true) {
        // something here
    }
} catch (Exception e) {
    // Do whatever in the catch
} 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-03-12T07:54:16.170

您可以在 while 循环中引入一个布尔变量，该变量最初为 true，然后在 try 或 catch 语句中的任何位置设置为 false。这样，即使里面有嵌套循环，你也可以打破你给出的循环。

```
boolean notDone = true;
while(notDone) {
try {
// something here
} catch (Exception e) {
// I need to break the forever while loop here
notDone = false;
} 
```

您可以使用反向版本，使用“完成”布尔值代替。这导致您需要在每次迭代的 while 循环内调用反转。这是次要性能和提高代码可读性之间的权衡。

* * *

## 回答 #8

> 赞同：-1
> 
> 时间：2013-03-12T07:56:57.123

只需命名你的循环并打破它
例如

```
Lable:
while (true) {
    try {
        // something here

    } catch (Exception e) {
        //  I need to break the forever while loop here
        break Lable;
    }
} 
```

# perl - 使用 Text::Table 格式化 SQL 查询

> ID：15355803
> 
> 赞同：1
> 
> 时间：2013-03-12T07:46:31.103
> 
> 标签：perl, sqlite, dbd

下面是将 SQL 查询转储为对齐的文本表格式的代码。

```
sub sql_command {
    my ($self,$str) = @_;
    my $s = $self->{_db}->prepare($str) or die $!;
    $s->execute() or die $!;
    my $table;
    push @$table, [ map { defined $_ ? $_ : "undef" } @{$s->{'NAME'}}];
    while(my $row = $s->fetch) {
          push @$table, [ map{ defined $_ ? $_ : "undef" }@$row ];
    }
    return box_format($table);;
}

sub box_format {
    my $table = shift;
    my $n_cols = scalar @{$table->[0]};

    my $tb = Text::Table->new(\'| ', '', (\' | ','')x($n_cols-1), \' |+');
    $tb->load(@$table);
    my $rule = $tb->rule(qw/- +/);
    my @rows = $tb->body();
    return $rule, shift @rows, $rule, @rows, $rule
           if @rows;
} 
```

输出符合预期。但在性能方面，处理大约 5MB 大小的输出文件需要大约 30 秒。

在性能方面是否有更好的方法来实现这一目标？

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-12T13:18:41.833

该代码有几个可能的性能问题。首先是在构建过程中，`$table`您将整个数据集拉入内存。这会消耗大量内存。当数据出来时，你会更好地格式化数据。这意味着`Text::Table->load`您将使用`Text::Table->add`.

```
sub sql_command {
    my ($self,$sql) = @_;
    my $sth = $self->{_db}->prepare($sql) or die $!;
    $sth->execute() or die $!;

    return box_format_from_query($sth);
}

sub box_format_from_query {
    my $sth = shift;
    my $headers = [ map { defined $_ ? $_ : "undef" } @{$s->{'NAME'}}];
    my $num_cols = @$headers;

    my $table = Text::Table->new(\'| ', '', (\' | ','')x($num_cols-1), \' |+');
    while(my $row = $s->fetch) {
          $table->add(map { defined $_ ? $_ : "undef" } @$row );
    }

    my $rule = $tb->rule(qw/- +/);
    my @rows = $tb->body();
    return $rule, shift @rows, $rule, @rows, $rule
           if @rows;
} 
```

第二个性能问题可能是 Text::Table 本身。由于表方法适用于数据的*副本*（也就是说，您不会将数据作为引用传递），因此不太可能在编写时考虑到大型数据集。找出答案的唯一方法是分析您的代码。看看[Devel::NYTProf](https://metacpan.org/module/Devel%3a%3aNYTProf)。您应该能够弄清楚您的代码在哪里花费时间。如果结果是在 Text::Table 方法中，您应该联系作者或考虑另一种生成格式化输出的方法。

第三个性能问题可能是您的查询。您没有显示您的查询，但它完全有可能效率低下。Devel::NYTProf 会告诉您是否在`$sth->execute`. 如果是这样，你还有另一个问题要问。:)

# android - 在 ICS 中运行 RTSP 实时流时出错

> ID：15355805
> 
> 赞同：1
> 
> 时间：2013-03-12T07:46:38.763
> 
> 标签：android, media-player, inputstream, rtsp

我试图通过两者播放 RTSP 实时流，`VideoView`并且`MediaPlayer`......我能够获得 AAC 音频和 H264 视频的流。但在 15-20 分钟后，RTSP 堆栈已满，我的应用程序和平板电脑也崩溃了……那么有什么解决方案可以增加 Android 源代码中 RTSP 堆栈的大小吗？（我有整个 AOSP ICS 代码）。任何可观的帮助。

@Ganesh 请在下面找到应用程序源代码。

```
package com.example.testvideo;

import java.io.File;
import java.io.IOException;

import android.app.Activity;
import android.os.Bundle;
import android.os.Environment;
import android.view.Menu;
import android.widget.VideoView;

public class MainActivity extends Activity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        VideoView videoDisplay = (VideoView) findViewById(R.id.videoview);
        videoDisplay.setVideoPath("rtsp://192.168.2.160:554/live/av0?user=admin&passwd=admin");
        videoDisplay.start();

        /*VideoView videoDisplay2 = (VideoView) findViewById(R.id.videoview2);
        videoDisplay2.setVideoPath("rtsp://192.168.2.160:554/live/av1?user=admin&passwd=admin");
        //videoDisplay2.start();
*/      

        try {
              File filename = new File(Environment.getExternalStorageDirectory()+"/Sample_log_file.txt");
              filename.createNewFile();
              String cmd = "logcat -d -f "+filename.getAbsolutePath();
              Runtime.getRuntime().exec(cmd);
           } catch (IOException e) {
              e.printStackTrace();
            } 
    }

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {
        // Inflate the menu; this adds items to the action bar if it is present.
        getMenuInflater().inflate(R.menu.main, menu);
        return true;
    }

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-17T12:44:57.077

从[此处](http://pastebin.com/2HjP6QM0)附加的日志中，我观察到以下打印：

```
Line no. 4060: F/libc    ( 1203): Fatal signal 11 (SIGSEGV) at 0x00000000 (code=1) 
```

这意味着您的代码已崩溃。在日志的更下方，

```
Line no. 4084: I/DEBUG   (   83): signal 11 (SIGSEGV), code 1 (SEGV_MAPERR), fault addr 00000000 
```

从崩溃日志的堆栈跟踪中，

```
I/DEBUG   (   83):          #00  pc 0000db2c  /system/lib/libc.so (memcpy)
I/DEBUG   (   83):          #01  pc 000710ec  /system/lib/libCedarX.so (rtsp_demux_read)
I/DEBUG   (   83):          #02  pc 000636dc  /system/lib/libCedarX.so
I/DEBUG   (   83):          #03  pc 00012be4  /system/lib/libc.so (__thread_entry)
I/DEBUG   (   83):          #04  pc 00012738  /system/lib/libc.so (pthread_create) 
```

**结论：**

从这些方面，我得出结论，在`rtsp_demux_read`函数中，有一个`memcpy`调用。当你的程序崩溃时，你传递了一个`NULL`指针作为函数的主要*目标*`memcpy`。您需要进一步调试代码以了解为什么会发生这种情况。

# wireshark - 为什么wireshark将总IP长度显示为“0”？

> ID：15355809
> 
> 赞同：0
> 
> 时间：2013-03-12T07:46:54.037
> 
> 标签：wireshark, wireshark-dissector

我正在开发一个可以分析ip pacakge的工具，但是我发现当ip包的总长度大于1500时，wireshark会在原始数据文件中显示长度为0。![wireshark 快照][wireshark 快照]

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T17:55:57.300

这可能是传输时[大段卸载](https://en.wikipedia.org/wiki/Large_segment_offload)或接收时[大接收卸载](https://en.wikipedia.org/wiki/Large_receive_offload)的结果；这些数据包可能对应于线路上的多个 IP 数据报和多个 TCP 段。

# javascript - 使用onClick禁用文本字段时更改文本颜色？

> ID：15355811
> 
> 赞同：2
> 
> 时间：2013-03-12T07:46:56.140
> 
> 标签：javascript, html

我在这里尝试做的是，当我们单击按钮时，应该更改文本字段的默认值颜色。我的代码适用于除 IE 之外的所有浏览器。如何在 IE 中克服这个问题。如何为下拉列表执行此操作。

```
<html>
<head>
 <title> Change color for text when it is Disabled </title>
 <meta name="Generator" content="EditPlus">
         <script type="text/javascript">
      <!--
/*function changeColor(){
    document.getElementById('button_1').style.color='red';
}*/
function changeColor(){
    document.getElementById('color').removeAttribute('disabled');
    document.getElementById('color').style.color='red';
    document.getElementById('color').setAttribute('readOnly','readOnly');
}
      //-->
  </script>
   </head>

  <body>
      <input type="text"  value='Hi Conrep' disabled id='color'><br />
        <select id='color' disabled>
<option value='1'>1</option>
<option value='2'>2</option>
<option value='3'>3</option>
<option value='4'>4</option>
<option value='5'>5</option>
<option value='6'>6</option>
   </select><br />
     <select>
     <option value="volvo">Volvo</option>
        <option value="saab">Saab</option>
      <option value="mercedes">Mercedes</option>
        <option value="audi">Audi</option>
   </select> 
   <input type='button' value="Change Color" onclick ='changeColor();'>
  </body>
    </html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T07:52:34.377

对于跨浏览器，您需要使用`readonly`属性而不是禁用。

**例子**

```
<style type="text/css">
.redColor
{
    color:red;
}
</style>
<script type="text/javascript">
<!--
function changeColor()
{
    var el = document.getElementById('button_1');
    el.className = "redColor";
}
//-->
</script>
<input type="text"  value='Hi Conrep' readonly id='button_1'>
<input type='button' value="Change Color" onClick ='changeColor();'> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T07:57:20.157

那是因为，IE 不允许你修改`disabled`控件。它总是以这种方式呈现它们

在你的代码中试试这个：

```
<style>
  .IEFormat
  {
      color:Red;
      background-color:#CCCCCC;
      border:1px Solid #BBBBBB;
  }
  .Format
  {
      color:Red;
  }
</style>
<script type="text/javascript">
  navigator.sayswho= (function(){
    var N= navigator.appName, ua= navigator.userAgent, tem;
    var M= ua.match(/(opera|chrome|safari|firefox|msie)\/?\s*(\.?\d+(\.\d+)*)/i);
           if(M && (tem= ua.match(/version\/([\.\d]+)/i))!= null) M[2]= tem[1];
             M= M? [M[1], M[2]]: [N, navigator.appVersion,'-?'];
          return M;
  })();
  function changeColor(){    
      var elem = document.getElementById('button_1');
      if(navigator.sayswho.toString().indexOf("IE")>0)
      {
         if(elem.getAttribute('disabled'))
            elem.removeAttribute('disabled');
         elem.className="IEFormat";
         elem.setAttribute('readOnly','readOnly');
      }     
      else
         elem.className='Format';
}
</script> 
```

所以基本上你正在做的是，你正在检测浏览器，为所有其他浏览器运行你的当前浏览器，为 IE 运行不同的浏览器。

您可以通过样式使您的只读文本框看起来像在 IE 中禁用。:)

# eclipse - 防止 Eclipse 定位/链接来自 Maven 目标文件夹的文件

> ID：15355814
> 
> 赞同：3
> 
> 时间：2013-03-12T07:47:19.027
> 
> 标签：eclipse, maven, m2e, eclipse-wtp

我正在使用**Maven**和**Eclipse**开发一个 Web 应用程序。我还使用**m2e 插件**及其 wtp 连接器即时将更改发布到服务器中。这些插件在 Maven 的目标文件夹中创建一个文件夹，称为*target/m2e-wtp/web-resources*。

我的问题是当我从我的项目中编辑一个 xhtml 文件并链接到另一个文件时，当我通过它时`ctrl`+click 将我带到这个目标文件夹，当我显然想要转到*webapp*中的文件时目录。如果我尝试编辑该文件，Eclipse 会警告我这是一个派生文件。

有没有办法避免这个问题？

**已编辑**

这是我项目的类路径内容：

```
<?xml version="1.0" encoding="UTF-8"?>
<classpath>
    <classpathentry kind="src" output="target/classes" path="src/main/java">
        <attributes>
            <attribute name="optional" value="true"/>
            <attribute name="maven.pomderived" value="true"/>
        </attributes>
    </classpathentry>
    <classpathentry excluding="**" kind="src" output="target/classes" path="src/main/resources/bundles"/>
    <classpathentry excluding="**" kind="src" output="target/classes" path="src/main/resources/classes/interna"/>
    <classpathentry excluding="**" kind="src" output="target/classes" path="src/main/resources/hibernate-mappings"/>
    <classpathentry excluding="**" kind="src" output="target/classes" path="src/main/resources/styles/headers/premium"/>
    <classpathentry excluding="**" including="**/*.java" kind="src" output="target/classes" path="src/main/resources/styles/css/premium"/>
    <classpathentry kind="src" output="target/test-classes" path="src/test/java">
        <attributes>
            <attribute name="optional" value="true"/>
            <attribute name="maven.pomderived" value="true"/>
        </attributes>
    </classpathentry>
    <classpathentry excluding="**" kind="src" output="target/test-classes" path="src/test/resources">
        <attributes>
            <attribute name="maven.pomderived" value="true"/>
        </attributes>
    </classpathentry>
    <classpathentry excluding="**" kind="src" output="target/classes" path="src/main/resources">
        <attributes>
            <attribute name="maven.pomderived" value="true"/>
        </attributes>
    </classpathentry>
    <classpathentry kind="con" path="org.eclipse.jdt.launching.JRE_CONTAINER/org.eclipse.jdt.internal.debug.ui.launcher.StandardVMType/JavaSE-1.6">
        <attributes>
            <attribute name="maven.pomderived" value="true"/>
        </attributes>
    </classpathentry>
    <classpathentry kind="con" path="org.eclipse.m2e.MAVEN2_CLASSPATH_CONTAINER">
        <attributes>
            <attribute name="maven.pomderived" value="true"/>
            <attribute name="org.eclipse.jst.component.dependency" value="/WEB-INF/lib"/>
        </attributes>
    </classpathentry>
    <classpathentry kind="output" path="target/classes"/>
</classpath> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T15:23:17.693

我使用**工作集**从 Eclipse 视图中排除选定的文件/文件夹。

您可以通过多种方式创建/修改/选择工作集，例如：在项目浏览器的工具栏上，单击“查看菜单”按钮，打开显示选项的下拉菜单；在那里，您可以从列表中选择现有的工作集或通过选择“新建...”来创建新的工作集。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-14T09:17:44.767

该`target/m2e-wtp/web-resources`文件夹包含“自动生成的资源”，例如*过滤*的web.xml，因此 webapp 目录中的文件（如果有）*可能*与 Eclipse 打开的文件不同。但是请检查[“这个网络资源文件夹是什么？”](http://wiki.eclipse.org/M2E-WTP_FAQ) 尤其[是“那个网络资源文件夹给我带来了一些麻烦，我可以摆脱它吗？”](http://wiki.eclipse.org/M2E-WTP_FAQ) .

# java - 在返回按钮上跳出循环

> ID：15355817
> 
> 赞同：1
> 
> 时间：2013-03-12T07:47:27.207
> 
> 标签：java, android, for-loop, android-activity, back-button

我有一个包含两个活动的 Android 应用程序。在这两个活动的孩子中，我在我的函数中运行了一个无限`for`循环。`run()`

我希望活动在以下两种情况之一下返回到先前的视图：

1.  当前日历秒到达`HIGH_SEC`(59)
2.  用户点击`Back`按钮

以下代码满足两者中的第一个：

```
Runnable mHideRunnable = new Runnable() {

    @Override
    public void run() {            
        for (;;) {
            Calendar cal = Calendar.getInstance();
            if (cal.get(Calendar.SECOND) == HIGH_SEC)
                break;
            System.out.println(cal.get(Calendar.SECOND));
            try {
                Thread.currentThread().sleep(1000);
            } catch (Exception e) {
            }
        }
        finish();
    }
}; 
```

目前，当用户点击`Back`按钮时，应用程序会冻结。我认为这是因为活动陷入了无限`for`循环。有谁知道如何检查`Back`按钮，以便我的代码做出适当的反应？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T07:51:56.607

您可以使用 onBackPressed()

```
@Override
public void onBackPressed() {
    run = false;
} 
```

但是，不鼓励将后退按钮用于任何不属于正常行为的行为。也许您应该制作一个专用的 UI 按钮？

恕我直言，不要使用`for(;;) {}`它，而是使用更清洁`while(myBoolean) {}`

编辑：完整示例

```
private static volatile boolean run = true;

Runnable mHideRunnable = new Runnable() {

    @Override
    public void run() {            
        while (run) {
            Calendar cal = Calendar.getInstance();
            if (cal.get(Calendar.SECOND) == HIGH_SEC)
                break;
            System.out.println(cal.get(Calendar.SECOND));
            try {
                Thread.currentThread().sleep(1000);
            } catch (Exception e) {
            }
        }
        finish();
    }
};

@Override
public void onBackPressed() {
    run = false;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T07:51:55.000

这就是捕获按钮按下事件的方法。您可以将它用于您的需要（即）后退按钮事件检查。

```
@Override
public boolean onKeyDown(int keyCode, KeyEvent event) {
    if (keyCode == KeyEvent.KEYCODE_BACK) {
        // Do whatever you want here.
        return true;
    }
    return super.onKeyDown(keyCode, event);
} 
```

否则，您可以简单地使用它：-

```
@Override
public void onBackPressed() {
   Log.d("CDA", "onBackPressed Called");
   // Do your stuff
} 
```

# android - 在 ListAdapter 中显示来自网站的图像

> ID：15355819
> 
> 赞同：0
> 
> 时间：2013-03-12T07:47:29.323
> 
> 标签：android, android-webview

我想在`ListActivity`. 我正在从 XML 中读取名称，并将 a`WebView`放入我的活动中。代码如下：

```
String imagename = ((TextView) view.findViewById(R.id.ImageText))
        .getText().toString();
WebView web = (WebView) findViewById(R.id.webproduct);
web.loadUrl("http://www.website.com/simage/" + imagename); 
```

我得到图像名称但没有图像。在单独的活动图像中显示来自网站，`WebView`但`ListActivity`不是。

任何人都可以提出任何想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T08:33:14.233

我会考虑使用自定义列表适配器来显示来自服务器的图像。

您可以进行延迟加载，这会提高性能，因为在视图可见时会显示图像。

对于惰性列表，您可以使用[此项目](https://github.com/thest1/LazyList)中的示例。这样，图像也会被缓存。缓存图像后，您可以在没有连接时显示图像。

该示例将 URL 列表作为字符串。您可以用自己的 URL 替换 URL，并使用自定义列表适配器来显示图像。您还可以显示图像名称，因为您可以选择在`ListView`.

第二种解决方案是使用[此项目](https://github.com/commonsguy/cwac-endless)中的 Endless List Adapter 。项目中有示例，可以帮助您理解和修改相同的内容。如果您对 Endless List 仍有任何疑问，请在 Stack Overflow 中使用标签`commonsware`和`android`.

请记住在清单中提供将图像写入外部存储的权限以及互联网权限。

# uicollectionview - 如何将 UICollectionView 的单元格水平和垂直居中？

> ID：15355820
> 
> 赞同：8
> 
> 时间：2013-03-12T07:47:35.657
> 
> 标签：uicollectionview, uicollectionviewlayout

如何在`UICollectionView`using中垂直和水平居中所有单元格`UICollectionViewFlowLayout`？

流布局根据滚动方向在右侧或底部留下间距。我想在所有方面设置相同的填充。我玩过`sectionInset`.`UICollectionViewFlowLayout`

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-12T11:32:10.503

我建议实施该`UICollectionViewDelegateFlowLayout`协议以动态实现单元格的水平和垂直居中。从**UICollectionViewDelegateFlowLayout 协议参考**：

> UICollectionViewDelegateFlowLayout 协议定义了允许您与 UICollectionViewFlowLayout 对象协调以实现基于网格的布局的方法。该协议的方法定义了项目的大小和网格中项目之间的间距。
> 
> 该协议中的所有方法都是可选的。如果您不实现特定方法，则流布局委托将使用其自身属性中的值来获取适当的间距信息。
> 
> 流布局对象期望集合视图的委托对象采用此协议。因此，在分配给您的集合视图的委托属性的对象上实现此协议。

您可能对`collectionView:layout:insetForSectionAtIndex:`可用于调整屏幕所有四个侧面的插图的方法最感兴趣，例如`UIEdgeInsetsMake`. 您可以通过从相应的屏幕尺寸（垂直或水平）中减去适当的数量（例如单元格的大小）来根据屏幕尺寸确定插图。然后，除以 2 以获得特定维度的相等插图。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-12T07:51:21.053

使用截面插图？

好吧，试着玩弄 `minimumLineSpacing` 属性和 `minimumInteritemSpacing` 属性

**最小线间距**

对于垂直滚动网格，此行间距表示连续行之间的最小间距。对于水平滚动网格，此值表示连续列之间的最小间距。此间距不适用于页眉和第一行之间或最后一行和页脚之间的空间。

**minimumInteritemSpacing**

对于垂直滚动网格，此间距表示同一行中项目之间的最小间距。对于水平滚动网格，此值表示同一列中项目之间的最小间距。这个间距是用来计算一行可以放多少个item，但是在item个数确定后，实际间距可能会向上调整。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-03-12T15:16:56.997

子类`UICollectionViewFlowLayout`化并覆盖该`layoutAttributesForElementsInRect:`方法以对齐您的`UICollectionViewCells`：

```
-(NSArray*)layoutAttributesForElementsInRect:(CGRect)rect {

NSArray* array = [super layoutAttributesForElementsInRect:rect];
CGRect visibleRect;
visibleRect.origin = self.collectionView.contentOffset;
visibleRect.size = self.collectionView.bounds.size;

for(UICollectionViewLayoutAttributes* attributes in array) {

    if(CGRectIntersectsRect(attributes.frame, rect)){

        CGFloat d = UIInterfaceOrientationIsPortrait(_orientation)?
        CGRectGetMidY(visibleRect)-attributes.center.y :
        CGRectGetMidX(visibleRect)-attributes.center.x;

        CGFloat w = visibleRect.size.width;
        CGFloat h = visibleRect.size.height;

        CGFloat dRatio = UIInterfaceOrientationIsPortrait(_orientation)? d/(h/2) : d/(w/2);

        CGFloat angle = MAX_ANGLE*dRatio; // an angle between 0 and MAX_ANGLE based on proximity to center
        CGFloat radians = DEGREES_TO_RADIANS(angle);

        debug = 0;

        CATransform3D rotationAndPerspectiveTransform = CATransform3DIdentity;
        rotationAndPerspectiveTransform.m34 = PERSPECTIVE;

        rotationAndPerspectiveTransform = UIInterfaceOrientationIsPortrait(_orientation)?
        CATransform3DRotate(rotationAndPerspectiveTransform, radians, 1.0f, 0.0f, 0.0f) :
        CATransform3DRotate(rotationAndPerspectiveTransform, radians, 0.0f, 1.0f, 0.0f);

        attributes.transform3D = rotationAndPerspectiveTransform;
    }
}

return array;
} 
```

我没有为您编辑此代码，并且有对宏和实例变量的引用，因此您需要对其进行调整以执行您想要的操作。这用于创建封面流样式布局，但原则对您来说是相同的，但没有 3D 业务。您需要设置部分 inset 以保证流程中的单行或单列。

# django - Django 正则表达式错误

> ID：15355825
> 
> 赞同：1
> 
> 时间：2013-03-12T07:47:53.247
> 
> 标签：django

我认为问题是我的 URLconf 无法捕获板的名称并将其处理到我的 views.py 中，因为我收到了这个错误

```
NoReverseMatch at /profile/
Reverse for 'Boat' with arguments '(u"Jimmy's Board",)' and keyword arguments '{}' not found
Error during template rendering
In template C:\o\mysite\pet\templates\profile.html, error at line 19
18     {% for b in board %}         
19     <li><a href ="{% url world:Boat b.name %}">{{ b.name }}</li>
20     {% endfor %} 
```

这是我的 profile.html

```
 <h4>My Boards</h4>
 {% if board %} 
 <ul>  
     {% for b in board %}         
     <li><a href ="{% url world:Boat b.name %}">{{ b.name }}</li>
     {% endfor %}
 </ul>
 {% endif %} 
```

我的 URLConf：

```
url(
    r'^board/(?P<name>\w+)/$',
    'pet.views.Boat',
    name ='Boat'
), 
```

)

我的观点.py

```
 def Boat(request ,name=""):
    if not request.user.is_authenticated():
            return HttpResponseRedirect(reverse('world:LoginRequest'))
    if name:
        board = Board.objects.get(name=name)
        picture = Picture.objects.filter(board=board)
        return render(request,'boat.html',{'picture':picture})
    return render(request,'boat.html',{'picture':picture})
def Profile(request):
    if not request.user.is_authenticated():
        return HttpResponseRedirect(reverse('world:LoginRequest'))
    board = Board.objects.filter(user=request.user)
    person = Person.objects.get(user=request.user)
    return render(request,'profile.html',{'board':board ,'person':person}) 
```

如何修复我的 URLconf 以将板名处理到我的 views.py 中？

我的模型.py

```
class Board(models.Model):
    user = models.ForeignKey(User)
    name = models.CharField(max_length=100)
    def __unicode__(self):
        return self.name 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-12T07:49:54.643

我认为您需要使用[SlugField](https://docs.djangoproject.com/en/1.5/ref/models/fields/#slugfield)而不是 CharField 作为从 urlconf 捕获的参数。网址中不应有空格。

您应该能够使用[slugify](https://docs.djangoproject.com/en/1.5/ref/utils/#django.utils.text.slugify)函数从您的名称字段创建一个 slug。也许覆盖模型上的保存功能以确保它是唯一的 slug，然后您可以在您的 url 中使用它。像下面这样的东西会做（它并不完美，但它很快并且可以完成工作 - 它只是在名称中添加随机数字，直到找到一个唯一的 slug） -

```
from random import randint
from django.utils.text import slugify

class Board(models.Model):
    #...
    name models.CharField(max_length=50)
    slug = models.SlugField(max_length=50 , unique=True, editable=False) 

    def save(self, *args, **kwargs):
        slug = slugify(self.name)
        unique = False
        while not unique:
            try:
                Board.objects.get(slug=slug)
                slug += str(randint(2, 9))
            except Board.DoesNotExist:
                unique = True
        self.slug = slug
        super(Board, self).save(*args, **kwargs) 
```

# php - 使用正则表达式 PHP 苦苦挣扎？

> ID：15355826
> 
> 赞同：1
> 
> 时间：2013-03-12T07:48:01.700
> 
> 标签：php, regex, preg-match

我正在尝试在 PHP 中进行正则表达式匹配，以查找字符串是否包含除以下字符之外的任何其他无效字符，

```
~!@#$%^&*()_-+=\}]{[::'"/>.<,
alpha, space, numeric 
```

如果字符串包含除前面提到的字符之外的任何其他字符，我想打印该字符串

```
ßab? - Invalid
Ba,-  - Valid 
```

我尝试使用`preg_match`少量输入但无法完成它。

任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-12T08:23:37.633

**更新**

此表达式将匹配您的有效范围的负数集：

```
$valid = preg_quote('~!@#$%^&*()_-+=\}]{[::\'"/>.<,', '/');

if (preg_match("/[^$valid\d\sA-Za-z]/", $invalid)) {
        echo "invalid chars\n";
} 
```

我在`preg_quote()`这里使用以确保所有字符都正确转义。

**旧答案**

我根据您的问题计算了负集：

```
if (preg_match('/[\x00-\x08\x0c\x0e-\x1f\x3b\x3f\x60\x7c\x7f-\xff]/', $str)) {
        echo "matches invalid chars\n";
} 
```

要获得此集合，您可以使用以下代码：

```
$s = '~!@#$%^&*()_-+=\}]{[::\'"/>.<,'
        . join('', range('a', 'z'))
        . join('', range('A', 'Z'))
        . join('', range('0', '9'))
        . " \t\r\v\n";

$missing = count_chars($s, 2);
print_r($missing); 
```

它打印一个不在内部的序号字符代码数组`$s`；有了它，您可以生成上述模式。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T07:55:20.147

下面的正则表达式将匹配任何包含您的特殊字符、字母、空格、数字的字符串。

```
/^[\s\w~!@#$%^&*()+=\}\]{\[:'"\/>.<,-]*$/ 
```

`^`是字符串的开头..`$`是字符串的结尾.. `^`，`$`是必需的，因为它们将**完全**匹配输入而不是部分匹配

`[]`是一个字符类，它将匹配其中的任何**一个**字符..

`*`是一个量词，它将匹配前面的字符、组或字符类**0**多次..

# ajax - ModalPopupExtender 与 Gridview

> ID：15355829
> 
> 赞同：1
> 
> 时间：2013-03-12T07:48:23.140
> 
> 标签：ajax, modalpopupextender

我有一个 Gridview，在我的 GridView 中，我将 Linkbuttons 添加到某个列。我想要做的是当您单击在我的 GridView 中创建的 LinkBut​​ton 时，我希望我的 ModalPopupExtender 显示。

在 RowDataBound 中创建的 LinkBut​​ton：

```
Private Sub grdDetails_RowDataBound(ByVal sender As Object, ByVal e As System.Web.UI.WebControls.GridViewRowEventArgs) Handles grdDetails.RowDataBound
Try
  Try
    If Not iColAttachent Is Nothing Then
      For Each i In iColAttachent
        If e.Row.DataItem(i - 1).ToString.Trim.Length > 0 Then
          Dim c As New TableCell
          Dim LB As New LinkButton
          Dim strBookNo As String = e.Row.DataItem(i - 1).ToString

          ' Create link
          LB.ID = "LB_" & strBookNo
          LB.Text = strBookNo.Substring(strBookNo.IndexOf("_") + 1)
          LB.ToolTip = "Click to change book number"
          LB.Attributes.Add("AutoPostBack", "False")
          LB.Attributes.Add("OnClick", "ShowModal()")
          'HL.Attributes.Add("runat", "server")

          e.Row.Cells().RemoveAt(i)
          e.Row.Cells().AddAt(i, c)
          c.Controls.Add(LB)
        End If
      Next
    End If
  Catch
    ' nothing to do
  End Try
Catch ex As Exception

End Try
End Sub 
```

用于显示我的 ModalPopupExtender 的 JavaScript：

```
<script language="javascript" type="text/javascript">
    function ShowModal() {
        var modal = $find('ModalPopupExtender1');
        modal.show();
    }
</script> 
```

模态弹出扩展器

```
<asp:ModalPopupExtender ID="ModalPopupExtender1" runat="server" TargetControlID="LinkButton1" PopupControlID="Panel1" DropShadow="true"
            BackgroundCssClass="modalBackground" CancelControlID="cmdCancel" BehaviorID="ModalPopupExtender1" Drag="true">

            </asp:ModalPopupExtender> 
```

问题是当我单击我的 ModalPopupExtender 确实显示的 LinkBut​​ton 但在一秒钟内它又消失了。不确定是不是因为 PostBack。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-23T14:28:27.593

通过添加链接按钮并将其分配给 modalpopup 解决了该问题。也许不是最好的方法，但它确实有效。

# c++ - 为什么函数只使用数组的第一个元素？(c++)

> ID：15355830
> 
> 赞同：0
> 
> 时间：2013-03-12T07:48:24.717
> 
> 标签：c++

我试图找出一个快速排序算法。但是，看起来我无法将数组传递给 Partition 和 QuickSort 函数。他们只处理数组的第一个元素。

我该如何解决？

```
template < class T > int getArrayLen(T & array) {
    return (sizeof(array) / sizeof(array[0]));
}

int Partition(int a[], int first, int last) {
    int pivot = a[last];
    int i = first - 1;
    for (int j = first; j < last; j++) {
        if (a[j] <= pivot) {
            i++;
            swap(a[i], a[j]);
        }
    }
    swap(a[i + 1], a[last]);
    return i + 1;
}

void QuickSort(int a[], int first, int last) {
    int pivot;

    if (first < last) {
        pivot = Partition(a, first, last);
        QuickSort(a, first, pivot);
        QuickSort(a, pivot + 1, last);
    }
 }

 int main() {
    int a[] = {
         4, 32, 3, 13, 48, 45, 12, 54, 7, 42, 3, 12, 5, 24, 20
    };
    int length = getArrayLen(a);
    QuickSort(a, 0, length - 1);
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T08:09:52.270

只需从再次`pivot`调用之前减少一个`QuickSort`：

```
void QuickSort(int a[], int first, int last)
{
    int pivot;

    if (first < last)
    {
        pivot = Partition(a, first, last);
        QuickSort(a, first, pivot - 1);  // <--  HERE
        QuickSort(a, pivot + 1, last);
    }
} 
```

一切都很好。还测试各种尺寸`a`：1、2、3、4、5、...

# ruby-on-rails - ActionController::RoutingError：没有路由匹配

> ID：15355834
> 
> 赞同：0
> 
> 时间：2013-03-12T07:48:33.557
> 
> 标签：ruby-on-rails, routing

我在rails中有点大一新生，所以请多多包涵。我的测试出现路由错误。测试如下：

```
require 'spec_helper'

describe "ProducerPages" do

  subject { page }

  describe "profile page" do
    @producer = Producer.create(name:"Example Producer", 
                             email: "producer@example.com", password: "foobar",
                             password_confirmation: "foobar")
    before { visit producer_path(@producer) }

    it { should have_selector('h1',    text: producer.name) }
    it { should have_selector('title', text: producer.name) }
  end
end 
```

产生的故障是：

```
Failures:

  1) ProducerPages profile page
     Failure/Error: before { visit producer_path(@producer) }
     ActionController::RoutingError:
       No route matches {:action=>"show", :controller=>"producers", :id=>nil}
     # ./spec/requests/producer_pages_spec.rb:14:in `block (3 levels) in <top (required)>' 
```

看起来，我在创建生产者实例变量时做错了。我试图将其设为正常变量，但随后出现此错误：

```
 1) ProducerPages profile page
     Failure/Error: before { visit producer_path(producer) }
     ActionController::RoutingError:
       No route matches {:action=>"show", :controller=>"producers", 
     :id=>#<Producer id: nil, name: "Example Producer", 
     email: "producer@example.com", created_at: nil, updated_at: nil, 
     password_digest: "$2a$04$pXAEklj4nzYe48ojR5Ps/Oh8Ea9.QqKOajYBD2Rv0mQ9...", 
     remember_token: nil, admin: false, oid: nil, contact_name: nil, 
     street: nil, postal_code: nil, city: nil, country: nil, url: nil, 
     telephone: nil, cellular: nil, type: "Producer", producer_id: nil, 
     client_key: nil, product_count: 0>}
     # ./spec/requests/producer_pages_spec.rb:14:in `block (3 levels) in <top (required)>' 
```

routes.rb 文件包含

```
 resources :producers 
```

我究竟做错了什么？

# entity-framework - 我应该使用构造函数为我的 EF POCO 类创建虚拟类的实例吗？

> ID：15355835
> 
> 赞同：0
> 
> 时间：2013-03-12T07:48:38.293
> 
> 标签：entity-framework

我定义了以下 POCO 类，并将与实体框架一起使用：

```
public class Application
{
    public int ApplicationId { get; set; }
    public string Name { get; set; }

    public virtual byte[] RowVersion { get; set; }
    public virtual ICollection<TestAccount> TestAccounts { get; set; }
} 
```

这是它使用 EF Code First 创建的表

```
CREATE TABLE [dbo].[Application] (
    [ApplicationId] INT           IDENTITY (1, 1) NOT NULL,
    [Name]          NVARCHAR (35) NOT NULL,
    [RowVersion]    ROWVERSION    NOT NULL,
    PRIMARY KEY CLUSTERED ([ApplicationId] ASC)
); 
```

有人建议我应该有一个构造函数，并在其中构造一个 TestAccounts 集合。这是正确的，如果是这样，创建它的最佳方法是什么。

还有一个问题。对于 TestAccounts，我应该使用 IList 还是 ICollection？我不确定最好的是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T14:46:50.953

因为您有虚拟属性，所以您可能会使用带有代理的 POCO。在这种情况下，您无法手动构造正确的代理，并且必须始终使用此方法的 ObjectSet.CreateObject 或 DbSet 等效项来实例化新对象。

# php - 使用php而不是csv格式将excel数据导入mysql

> ID：15355836
> 
> 赞同：-3
> 
> 时间：2013-03-12T07:48:42.643
> 
> 标签：php, mysql, excel

有人知道如何使用 php 将 excel 数据导入 mysql 吗？不是 csv 格式上传。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T08:00:00.737

您必须遵循以下步骤： 1) 将 excel 文件上传到服务器。2）编写脚本通过php文件处理工具读​​取excel文件。3）在适当的数据库表中插入读取的数据。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T07:51:57.183

尝试将 excel 文件保存到`CSV`中，然后执行此命令，

```
LOAD DATA LOCAL INFILE 'yourfullpath.csv' 
INTO TABLE database.table 
FIELDS TERMINATED BY ';' 
ENCLOSED BY '"'
LINES TERMINATED BY '\r\n'; 
```

其他链接：

*   [使用 phpMyAdmin 将 Excel 数据导入 MySQL](http://www.davalign.com/import-excel-data-into-mysql-using-phpmyadmin.php)

# linux - 在linux上安装Qt，找不到-lGL

> ID：15355837
> 
> 赞同：29
> 
> 时间：2013-03-12T07:48:43.937
> 
> 标签：linux, qt, installation

我很难在 linux 上安装 Qt。我在网站上下载了 .run 文件并安装了 Qt。但是，当我尝试使用 Qtcreator 编译默认的 Hello World 项目时，我得到以下信息：

```
error cannot find -lGL 
```

我能够通过发出命令来解决问题：

```
sudo apt-get install libqt4-dev 
```

但是，我对解决方案不满意，因为我想使用 Qt5 并且我下载的库的名称暗示版本 4。有人可以解释发生了什么并告诉我我的解决方案是否正确？如果没有，我应该怎么做才能在 Linux 上运行 Qt。

**附加问题**

*LtWorf*提供的正确答案是安装**libgl-dev**。对于此类未来的问题，有人能告诉我我应该如何猜测我必须下载这个特定的库吗？为什么最后会有一些带有**-dev**的库？他们提供什么？

* * *

## 回答 #1

> 赞同：43
> 
> 时间：2013-03-12T08:29:05.530

好吧，它正在尝试与 libgl 链接并且没有找到它。您应该安装**libgl-dev**。

`-l`是一个链接器选项，它告诉链接器使用某个库。例如，您可能有`-lmagic`想要使用*libmagic*的意思。

通常所有的库都叫做 libsomething，在 debian 上你会发现 3 个包叫做： libsomething libsomething-dbg libsomething-dev

第一个是库，第二个是用调试符号编译的库，这样你可以更容易地理解堆栈跟踪，最后一个是开发包，它包含 .h 文件，所以你可以链接到图书馆。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2014-10-14T11:26:41.850

sudo apt-get install libgl-dev

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2014-08-21T12:52:59.050

在 Fedora 17 上，我做了：

```
sudo yum install mesa-libGL-devel 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-12T08:29:19.953

你有安装*libgl-dev*吗？如果不安装它，它应该可以工作。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2019-03-04T22:15:55.073

那些其他的海报是正确的，但在某些系统上，要安装的库的名称不同。我刚刚处理了一个 32bit 的 Ubuntu 14.04.5 LTS 系统，并且*libgl-dev*不可用。

相反，我需要通过以下方式安装*libgl1-mesa-dev*包：

```
sudo apt-get install libgl1-mesa-dev 
```

# javascript - 如何让chrome忘记页面滚动位置？

> ID：15355839
> 
> 赞同：13
> 
> 时间：2013-03-12T07:48:52.820
> 
> 标签：javascript, css, google-chrome, scroll

例如，我打开一个网页，然后向下滚动到某个位置，

然后我刷新chrome浏览器，浏览器可以再次滚动之前的位置

如何使用 javascript 或 css 让浏览器忘记滚动？

我有尝试`$(window).scrollTop(0)`，但它不起作用

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2017-08-18T13:49:19.717

它在下面的问题中得到解决。

[页面刷新后禁用浏览器的自动滚动？](https://stackoverflow.com/questions/18617367/disable-browers-auto-scroll-after-a-page-refresh)

```
// bypass auto scrolling.
if ('scrollRestoration' in history) {
  history.scrollRestoration = 'manual';
} 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-12T07:50:27.153

我可以说的一种简单方法是在页面加载时运行此代码：

```
document.location = "#"; 
```

或者

```
window.scrollTo(0); 
```

它再次将浏览器视口设置为页面顶部。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2014-01-16T21:54:10.947

这是完成此操作的一种干净方法。

```
window.addEventListener('unload', function(e){
   document.body.style.display = 'none';
}); 
```

通过简单地将正文显示设置为“无”，您不必担心浏览器在卸载之前会滚动到页面顶部，并且滚动位置将自动重置为 0。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2021-03-04T16:12:22.517

这对我有用：

JS方式：

```
window.addEventListener('unload', function(e){
window.scrollTo(0, 0)
}); 
```

jQuery方式：

```
$(window).load(function() {
 $(window).scrollTop(0);
}); 
```

# php - 在 html 链接中调用 javascript 函数

> ID：15355840
> 
> 赞同：0
> 
> 时间：2013-03-12T07:48:53.677
> 
> 标签：php, javascript

我有点卡住了。我试图在点击这样的链接时调用 javascript 警报

```
 <a onclick="return confirm('Are you sure?')" href="blog-delete.php?blogid=1">Delete</a> 
```

效果很好，但是我试图在 php var 中调用它，所以

```
 $blogtitle . '<p align="right" style="font-size:10px;" ><a onclick="return confirm("Are you sure?")" href="blog-delete.php?blogid=' . $blogid . '">Delete</a> | '. $blogdate . '</p></div> <br />  '; 
```

但双重 qoute 不允许该功能工作

任何帮助都会很棒

非常感谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T07:58:14.790

尝试添加'\'。它会工作。"" 标志在最近的结束标签上运行。这就是它不起作用的原因。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-12T07:52:30.317

你搞砸了你的报价。当你写这个：

```
$v = "This is "some" text"; 
```

双引号中有双引号，这会使解析器感到困惑（如 StackOverflow 的语法突出显示）。要修复，您必须“转义”字符串中的那些：

```
$v = "This is \"some\" text"; 
```

或者使用单引号：

```
$v = 'This is "some" text'; 
```

（很多）更多信息可以在这里找到：http: [//php.net/manual/en/language.types.string.php](http://php.net/manual/en/language.types.string.php)我会说 PHP 文档站点的书签，它非常好而且内容广泛。

祝你学习 PHP 好运！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-12T07:51:33.283

`"`试试`\` 这个逃脱

```
 $blogtitle . '<p align="right" style="font-size:10px;" ><a onclick="return confirm(\"Are you sure?\")" href="blog-delete.php?blogid=' . $blogid . '">Delete</a> | '. $blogdate . '</p></div> <br />  '; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-12T07:51:37.367

使用单引号而不是双引号

```
$blogtitle . '<p align="right" style="font-size:10px;" >
         <a onclick="return confirm('Are you sure?')" href="blog-delete.php?blogid=' . $blogid . '">Delete</a> | '. $blogdate . '</p></div> <br />  
 '; 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-12T07:53:20.307

`\`用作转义字符。

更重要的是，阅读[Unobtrusive Javascript](http://en.wikipedia.org/wiki/Unobtrusive_JavaScript)以了解为什么在 HTML 中调用 Javascript 函数现在被视为不推荐使用的做法。

# ios - prepareForSegue 中的分配 false

> ID：15355852
> 
> 赞同：0
> 
> 时间：2013-03-12T07:49:59.603
> 
> 标签：ios, objective-c, cocoa-touch

我想将图像发送到下一个气味。但失败了。

这是我的代码

```
- (void) prepareForSegue:(UIStoryboardSegue *)segue sender:(id)sender
{
    NSLog(@"prepareForSegue start");
    NSLog(@"count is %d",count);

    //bigStyle1 is a NSArray,full of UIImage
    //bigImage is a UIImageView outlet
    if ([bigStyle1 objectAtIndex:count]==nil) {
        NSLog(@"no array image");
    }
    viewController3.bigImage.image=[bigStyle1 objectAtIndex:count];
    if (viewController3.bigImage.image==nil) {
        NSLog(@"no controller image");
    }

    NSLog(@"secondToThird");        
    NSLog(@"prepareForSegue end");
} 
```

这是Xcode的日志

```
2013-03-12 15:15:38.683 animation[1876:f803] prepareForSegue start
2013-03-12 15:15:50.825 animation[1876:f803] count is 0
2013-03-12 15:17:10.829 animation[1876:f803] no controller image 
```

似乎问题出在图像的分配上。为什么分配失败？

**UPDATE** viewController3 不是 nil。但是 bigImage 是 nil。我不知道为什么。我实际上将 bigImage 连接到图像视图

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-12T08:04:33.743

我怀疑你打算`viewController3`成为转场的目的地。在这种情况下，您应该像这样设置它：

```
viewController3 = segue.destinationViewController; 
```

我进一步怀疑这`viewController3.bigImage`是一个`UIImageView`. 如果是这样，您就有问题了，因为`viewController3`系统发送时尚未加载其视图层次结构`prepareForSegue:sender:`，因此`viewController3.bigImage`尚未设置。它是 nil，并且在 nil 上设置属性什么都不做（没有警告或错误消息）。

最好直接给出`viewController3`一个`image`属性，并将图像存储在该属性上。然后，在`viewController3`'s`viewDidLoad`方法中，将图像从该属性复制到`self.bigImage.image`.

或者，您可以通过询问它的视图来强制`viewController3`加载它的视图：`prepareForSegue:sender:`

```
[viewController3 view];  // forces it to load its view hierarchy if necessary
viewController3.bigImage.image = [bigStyle1 objectAtIndex:count]; 
```

# mysql - 使用更新表的选择语句更新查询

> ID：15355854
> 
> 赞同：1
> 
> 时间：2013-03-12T07:50:02.277
> 
> 标签：mysql, sql, select, sql-update

在 Mssql 中，我想使用从**Table1**返回**col1**并向其添加 1 的选择查询来更新名为**Table1的表中的列****col1 。**所以我使用了以下代码

 ******```
update Table1 set col1=(select col1 from Table1) + 1; 
```

但是当我使用它时，它说你不能针对同一个表。有没有办法解决这个功能。请帮忙找出来。

提前感谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-12T09:17:56.353

你可以那样做

```
 update Table1 set col1= col1 + 1; 
```******

# php - Jquery 冲突和错误说 $(...).attr 不是函数

> ID：15355855
> 
> 赞同：-1
> 
> 时间：2013-03-12T07:50:05.703
> 
> 标签：php, jquery, codeigniter

在我看来，我正在使用**jQuery-1.7.2 .js 。**当我使用第一个 js 时，错误不会出现，我执行任务时没有错误，但是当我包含我的第二个 js 时，我会遇到错误并且错误是 **$(...).attr is not a function** here is code

这是视图

```
 <a title="Minimize Chat Window" class="abc" id="minmax" href="#Minimize Chat Window" onclick="min_max(this);"> 
```

这是js

```
<script src="<?=base_url()?>js/libs/jquery-1.7.2.min.js"></script>
<script type="text/javascript" >

function min_max(i)
{
    var cls=$(i).attr('class');
    if(cls == 'abc')
    {
        $(i).removeClass('xyz');
    }
    else
    {
        $(i).addClass('xyz');
    }
} 
```

但是当我在第一个之后或之前包含我的第二个 js 时

```
var cls=$(i).attr('class'); 
```

给出**$(...).attr 不是函数的错误**

请帮我找出我的问题。我认为它的 jquery 冲突。但我想在我看来同时使用这两个 js。谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-12T07:57:06.103

为避免此类问题，请使用`jQuery`'s`noConflict()`函数，然后`$()`使用调用更改`jQuery()`调用。

看看[文档](http://api.jquery.com/jQuery.noConflict/)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-12T07:53:07.323

排除冲突`var cls=$(i).attr('class');`更改`var cls=jQuery(i).attr('class');`

在此处查看有关 noConflict 的更多信息：http: [//api.jquery.com/jQuery.noConflict/](http://api.jquery.com/jQuery.noConflict/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-12T08:19:17.363

只需使用这一行**var $ = jQuery.noConflict();** 在您的脚本标签开始之后，您可以使用**$**而不是**Jquery**

```
<script src="<?=base_url()?>js/libs/jquery-1.7.2.min.js"></script>
<script type="text/javascript" >

 var $ = jQuery.noConflict();

 function min_max(i)
 {
   var cls=$(i).attr('class');
   if(cls == 'abc')
   {
       $(i).removeClass('xyz');
   }
   else
   {
       $(i).addClass('xyz');
   }
} 
```

# facebook-graph-api - 提交开放图时的publish_actions vs publish_stream问题

> ID：15355869
> 
> 赞同：0
> 
> 时间：2013-03-12T07:50:51.397
> 
> 标签：facebook-graph-api, facebook-opengraph

我有我的应用程序，它要求以下权限：

```
email,user_birthday,status_update,publish_stream,offline_access 
```

我现在已经实现了开放图并对其进行了测试。它工作得很好，但提交后我收到了来自 facebook 的以下消息

> 您的代码当前配置为发布流故事。您必须更改代码，以便当测试用户触发操作时，它会生成一个开放的图表故事。请进行适当的更改并重新提交。

从 4 月 facebook 开发博客上的这篇[博](http://developers.facebook.com/blog/post/2012/04/25/streamlining-publish_stream-and-publish_actions-permissions/)文来看，“publish_actions”似乎是“publish_stream”的一个子集，基于我有一些问题。

1.  如果这是真的，为什么我需要 publish_actions 权限？
2.  我是否需要取出 publish_stream 并放入 publish_actions？但我的游戏使用 publish_stream 将游戏中的图像发布到相册。它仍然会这样做。我该怎么办？
3.  如果需要，我如何在运行时向用户询问这些权限的 publish_actions，并在不重新认证或重新加载的情况下对他们进行身份验证。有这方面的资源吗？

为了清楚起见，这里是我的开放图发布代码

```
FB.api(
        '/me/'+fAction,
        'post',
        sObject,
    function(response) 
    {
           if (!response || response.error) 
           {
              for (var prop in response) 
              {
                console.log(response[prop]);
                callbackToFlash(0);
              }
           } else 
           {
              console.log('success'+object);
              callbackToFlash(1);
           }
        }
    ); 
```

# iframe - iframe 父 getElementById ，如果发现只刷新父页面一次

> ID：15355874
> 
> 赞同：2
> 
> 时间：2013-03-12T07:51:03.760
> 
> 标签：iframe

我在父页面中有一个 iframe（在同一个域上）。当 iframe 包含 div id 'recentlyViewedJobs' 时，我只需要刷新一次父页面。

这没有用

```
document.frames('myiframe').document.getElementById('recentlyViewedJobs').innerHTML = "http://www.mysite.com"; 
```

# javascript - 如何收集动态添加的行（HTML 表）的值（数据）？使用 php 和 XAMPP

> ID：15355875
> 
> 赞同：1
> 
> 时间：2013-03-12T07:51:05.470
> 
> 标签：javascript, php, html, html-table, xampp

我创建了一个带有动态表的简单表单。此表行由用户输入值递增，因此每次创建新行时我都需要递增组合框或选择（选项），因此它应该类似于默认组合框值。注意：这个选择或组合框是列属性的一部分，记住行增量，但没有列。

第二个问题：

我想收集这个表的列数据或值，无论它的行数是多少，并使用 php 将其存储到 XAMPP 数据库中。我知道如何从单个表单中收集数据，但我不知道如何从动态表单中收集数据。

这是代码：

```
function AddRows()
{
var tableelement = document.getElementById("mytable")
var rows = document.getElementById("noofrows").value;
var tablerowcount = tableelement.rows.length;
var currowcount = tablerowcount;

for(i = 1; i < rows; i++) {

var row = tableelement.insertRow(currowcount);
var cellid = row.insertCell(0);
cellid.innerHTML = "<b>" + currowcount +"</b>";
var cellid2 = row.insertCell(1);

cellid2.innerHTML = "<input value='' id='" + currowcount +"_name' /> ";
var cellid3 = row.insertCell(1);
cellid3.innerHTML = "<input value='' id='" + currowcount +"_name' /> ";
var cellid4 = row.insertCell(1);
cellid4.innerHTML = "<input value='' id='" + currowcount +"_name' /> ";
var cellid5 = row.insertCell(1);
cellid5.innerHTML = "<input value='' id='" +currowcount +"_name' /> ";
var cellid6 = row.insertCell(1);
cellid6.innerHTML = "<input value='' id='" +currowcount+"_name' /> ";

var currowcountcurrowcount = currowcount++;

}
}
</script>
</head>
<body>
<form method="post" action="insert.php>

Carton Number :<input type="text" name="cn"> <br>
Business Unit :<input type="text" name="bu"> <br>
No of Files  :<input type="noofrows" id="noofrows"  value="1" name="nof" />

<input name="add" id="add" type="button" value="Add" onClick="AddRows()"/>

<table name="mytable" id="mytable" border=1>
    <tr>
        <td>
          <b>SN</b>
        </td>
        <td>
          <b>From</b>
        </td>
        <td>
          <b>To</b>
        </td>
        <td>
          <b>Range</b>
        </td>
        <td>
          <b>Document Category</b>
        </td>
        <td>
          <b>Document Type</b>
        </td>
    </tr>
    <tr>
    <td>
      <b>1</b>
    </td>
    <td>
       <input value="" id='1_name' >
    </b>
</td>
<td>
       <input value="" id='1_name'/>
    </b>
</td>
<td>
   <input value="" id='1_name' />
 </b>
    </td>

  <td>
  <Select id='select' />
    <option name="option" value="finance">Finance Documents</option>
    <option name="option" value="hr">HR Documents</option>
    <option name="option" value="test">test</option
    </Select>
  </b>
    </td>
    <td>

    <Select id='select' />
       <option name="option" value="CP">Cash movement</option>
       <option name="option" value="PV">Payment Voucher</option>
       <option name="option" value="RV">RV</option
    </Select>
    </b>
    </td>
</tr>
</table>
<br/> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-23T10:02:19.573

```
function AddRows()
{
var tableelement = document.getElementById("mytable")
var rows = document.getElementById("noofrows").value;
var tablerowcount = tableelement.rows.length;
var currowcount = tablerowcount;

for(i = 1; i < rows; i++) {

var row = tableelement.insertRow(currowcount);
var cellid = row.insertCell(0);
cellid.innerHTML = "<b>" + currowcount +"</b>";
var cellid2 = row.insertCell(1);
cellid2.innerHTML = "<Select id='select' /><option name='option' value='CP'>Cash movement</option><option name='option' value='PV'>Payment Voucher</option>   <option name='option' value='RV'>RV</option></Select> ";
var cellid3 = row.insertCell(1);
cellid3.innerHTML = "<Select id='select' /><option name='option' value='finance'>Finance Documents</option><option name='option' value='hr'>HR Documents</option><option name='option' value='test'>test</option</Select> ";
var cellid4 = row.insertCell(1);
cellid4.innerHTML = "<input value='' id='" + currowcount +"_name' /> ";
var cellid5 = row.insertCell(1);
cellid5.innerHTML = "<input value='' id='" +currowcount +"_name' /> ";
var cellid6 = row.insertCell(1);
cellid6.innerHTML = "<input value='' id='" +currowcount+"_name' /> ";

var currowcountcurrowcount = currowcount++;

}
}
</script> 
```

更改您的函数以获取每一行的选择并首先保存数据，您将所有输入和选择 id 更改为数组变量
ex id='1_name_Range[]'for range。还更改函数重命名代码以保存您所说的。使用数组变量保存在数据库中

# c# - 更新数据库中的记录

> ID：15355877
> 
> 赞同：0
> 
> 时间：2013-03-12T07:51:16.513
> 
> 标签：c#, entity-framework, .net-4.0

我从数据库中读取记录并处理与之关联的 ObjectContext。稍后当消费者完成记录时，我需要在数据库中更新它。如何在新的背景下做到这一点？

这是我从 db 读取记录并将它们放入 BlockingCollection 的方法：

```
 var products = from r in context_.Products                                   
                               orderby r.id
                               select r;

    List<Product> pList = products.Take(10).ToList(); 
```

现在如何用新的上下文更新数据库中的那些记录？谢谢！

我尝试了以下方法，但失败了：

```
 SMEntities context = new SMEntities();
                Product p = outPipe.GetConsumingEnumerable().First();
                outContext.Products.Attach(p);
                outContext.SaveChanges(); 
```

它返回异常：IEntityChangeTracker 的多个实例无法引用对象

更新（解释为什么我不想使用相同的上下文）：产品记录被不同线程中的许多任务消耗，我不会在生产者线程中调用 context.SaveChanges，因为线程中的一些记录可能在中间对产品记录的设置更改。在这种情况下会发生什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T07:53:50.733

所做的所有更改仅保留在当前上下文中。一旦处理完毕，您的所有更改也会在该上下文中消失。如果您有一个具有更改的本地实体，您可以将其附加到新上下文。

```
context_.Attach(yourContextObject); 
```

之后只需打电话

```
context_.SaveChanges(); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-12T08:21:49.967

试试这个：

```
SMEntities newContext = new SMEntities();
foreach(var product in products)
{
   newContext.Attach(product);
   db.Entry(product).State = EntityState.Modified;
}
newContext.SaveChanges(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-12T08:19:12.647

再次附加，或替代：在您的新上下文中再次获取它并更新它（ApplyCurrentValues）。另请参阅[实体框架 4 - ApplyCurrentValues<TEntity> 与 ObjectStateManager.ChangeObjectState](https://stackoverflow.com/questions/5544849/entity-framework-4-applycurrentvaluestentity-vs-objectstatemanager-changeob)

# android - SherlockFragment 上的 RuntimeException

> ID：15355879
> 
> 赞同：0
> 
> 时间：2013-03-12T07:51:28.617
> 
> 标签：android, actionbarsherlock, android-viewpager

我正在关注这个例子.. [https://bitbucket.org/owentech/abstabsviewpager/src](https://bitbucket.org/owentech/abstabsviewpager/src) 我尝试实现`setOnClickListener`for `Button`in`OnCreate`方法并使其强制关闭。

注意：没有实现`Button`其工作正常..

代码：

```
public class ABSTabsViewPagerActivity extends SherlockFragmentActivity {

ViewPager mViewPager;
TabsAdapter mTabsAdapter;

Button b;

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);

    mViewPager = new ViewPager(this);
    mViewPager.setId(R.id.pager);

    setContentView(mViewPager);
    b = (Button) findViewById(R.id.buttonA);
    b.setOnClickListener(new View.OnClickListener() {

        public void onClick(View v) {
            // TODO Auto-generated method stub
            Toast.makeText(getApplicationContext(), "Button Clicked",
                    Toast.LENGTH_SHORT).show();
        }
    });

    ActionBar bar = getSupportActionBar();
    bar.setNavigationMode(ActionBar.NAVIGATION_MODE_TABS);

    mTabsAdapter = new TabsAdapter(this, mViewPager);

    mTabsAdapter.addTab(bar.newTab().setText("Fragment 1"),
            FragmentOne.class, null);
    mTabsAdapter.addTab(bar.newTab().setText("Fragment 2"),
            FragmentTwo.class, null);
    mTabsAdapter.addTab(bar.newTab().setText("Fragment 3"),
            FragmentThree.class, null);

}

public static class TabsAdapter extends FragmentPagerAdapter implements
        ActionBar.TabListener, ViewPager.OnPageChangeListener {
    private final Context mContext;
    private final ActionBar mActionBar;
    private final ViewPager mViewPager;
    private final ArrayList<TabInfo> mTabs = new ArrayList<TabInfo>();

    static final class TabInfo {
        private final Class<?> clss;
        private final Bundle args;

        TabInfo(Class<?> _class, Bundle _args) {
            clss = _class;
            args = _args;
        }
    }

    public TabsAdapter(SherlockFragmentActivity activity, ViewPager pager) {
        super(activity.getSupportFragmentManager());
        mContext = activity;
        mActionBar = activity.getSupportActionBar();
        mViewPager = pager;
        mViewPager.setAdapter(this);
        mViewPager.setOnPageChangeListener(this);

    }

    public void addTab(ActionBar.Tab tab, Class<?> clss, Bundle args) {
        TabInfo info = new TabInfo(clss, args);
        tab.setTag(info);
        tab.setTabListener(this);
        mTabs.add(info);
        mActionBar.addTab(tab);
        notifyDataSetChanged();
    }

    @Override
    public int getCount() {
        return mTabs.size();
    }

    @Override
    public Fragment getItem(int position) {
        TabInfo info = mTabs.get(position);
        return Fragment.instantiate(mContext, info.clss.getName(),
                info.args);
    }

    public void onPageScrolled(int position, float positionOffset,
            int positionOffsetPixels) {
    }

    public void onPageSelected(int position) {
        mActionBar.setSelectedNavigationItem(position);
    }

    public void onPageScrollStateChanged(int state) {
    }

    public void onTabSelected(Tab tab, FragmentTransaction ft) {
        Object tag = tab.getTag();
        for (int i = 0; i < mTabs.size(); i++) {
            if (mTabs.get(i) == tag) {
                mViewPager.setCurrentItem(i);
            }
        }
    }

    public void onTabUnselected(Tab tab, FragmentTransaction ft) {
    }

    public void onTabReselected(Tab tab, FragmentTransaction ft) {
    }
} 
```

}

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T08:04:36.887

你`setContentView(mViewPager)`只有viewpager。所以当前布局中没有按钮。你不能得到这样的按钮 `b = (Button) findViewById(R.id.buttonA);`

设置在 xml 中也有按钮的完整布局。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-12T08:05:43.510

很明显，`Button`您试图通过调用引用的`findViewById()`不在根布局内，因为根`View`是`ViewPager`. 您应该创建一个同时存在 the`ViewPager`和 the的布局`Button`。希望这可以帮助。

# .net-4.0 - 从.net 2 更改为.net 4

> ID：15355894
> 
> 赞同：0
> 
> 时间：2013-03-12T07:52:12.440
> 
> 标签：.net-4.0, iis-6, .net-2.0

我们正在考虑将 IIS6 服务器上的现有 .net2 更改为 .net4（或 4.5）。有人可以帮助我们了解一些基本知识吗？

在我们将 .net4 安装到我们的生产 IIS 之后。每个 .net 站点都默认为 .net4 吗？我们在使用 64 位版本时遇到了一些困难，因此我们强制 IIS6 在 32 位模式下运行。更新对此有什么作用吗？安装 .net4 后，如何强制特定应用程序池在 .net2 模式和 32.bit 模式下运行？

将 .net2 站点直接转换为 .net 4 站点可能会出现什么问题？或者有吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T08:00:34.983

自从我上次使用 .NET 以来已经有一段时间了，但这是我的一般建议。

首先，**迁移到 .NET 4**！.NET 4 提供了更好的安全性和新功能。将其视为您的第一选择。

其次，根据我的经验，如果您在服务器上安装了多个版本的框架，您应该可以选择使用哪个版本来操作该站点。

最后，我不确定 32/64 位的东西，但我的建议是简单地修复它！应用程序，尤其是重负载应用程序可以在 64 位模式下更好地运行。

让您的应用程序尽可能面向未来！

至于你可能会遇到什么问题，我真的取决于你使用什么样的 API，很可能，它们将是一些不推荐使用的方法、属性。此外，看看一些新功能，可能有值得尝试的新 API，在开发服务器上尝试，它可能会提高整体用户体验甚至应用程序性能。

祝你好运！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T08:17:42.917

> 每个 .net 站点都默认为 .net4 吗？

当您将某些网站添加到 IIS 时，默认情况下会为其分配“DefaultAppPool”。因此，这取决于为“DefaultAppPool”设置的 .NET 框架版本。您可以更改应用程序池以针对特定的 .NET 框架。

> 安装.net4后，如何强制特定应用程序池在.net2模式下运行

您可以在 IIS 中针对不同的 .NET 框架定义多个应用程序池，然后将不同的应用程序池分配给不同的网站。

> 将 .net2 站点直接转换为 .net 4 站点可能会出现什么问题？或者有吗？

我认为这通常取决于您的网站；引用的库，使用的模式等。没有人可以给你明确的答案。

# php - 如何从 doc 文件中读取单页

> ID：15355895
> 
> 赞同：-4
> 
> 时间：2013-03-12T07:52:13.380
> 
> 标签：php

我有一个包含多个页面的 doc 文件，我想一次读取单个页面。知道如何阅读单页吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T07:59:20.337

对于 Word 2007，您正在查看 Open XML 文件格式，您可以在[此处](http://msdn.microsoft.com/en-us/library/aa338205.aspx)找到。

# jquery - jquery单击href打开下拉chrome mobile android

> ID：15355900
> 
> 赞同：1
> 
> 时间：2013-03-12T07:52:33.223
> 
> 标签：jquery, focus

在移动设备上，当您单击“打开”链接时，此演示：[http](http://bit.ly/10E3ScR) ://bit.ly/10E3ScR这将在 safari mobile (IOS) 和 chrome mobile (IOS) 中显示一个下拉菜单，但在 chrome mobile 中没有任何内容（安卓）！

我只是做 jQuery('#myselect').select().focus();

关于我如何在浏览器 safari 和 chrome 移动 IOS 和 android 中实现这个小技巧的任何线索？

小提琴：http: [//jsfiddle.net/byJ4X/](http://jsfiddle.net/byJ4X/)

```
jQuery('.mylink').click(function() {
    jQuery('#myselect').select().focus();
});

.myspan{
position: absolute;
top: -9000px;
left: 10px;
}

<span class="myspan">
<select id="myselect" class="" size="5">        
    <option name="option1" value="" class="">option1</option>       
    <option name="option2" value="" class="">option2</option>       
    <option name="option3" value="" class="">option3</option>
</select>
</span> 
```

# jquery - 即使是 HTTP 200 状态，jQuery Ajax 也会失败

> ID：15355902
> 
> 赞同：0
> 
> 时间：2013-03-12T07:52:39.387
> 
> 标签：jquery, ajax

正如标题所说，我有这个 Javascript 代码：

```
$.ajax({
      type: "GET",
      url: "http://192.168.20.249/test.brick",
      dataType: "json"
      }).done(function() { alert("success"); }).fail(function() { alert("error"); }).always(function() { alert("complete"); }); 
```

我的网络服务器发送这些数据：

```
200 OK
Date:  Tue, 12 Mar 2013 07:49:51 GMT

Server:  Hiawatha v8.8

Connection:  keep-alive

Transfer-Encoding:  chunked

Content-Type:  application/json

{"Test": "Hello"} 
```

知道为什么 jQuery 认为请求失败了吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T08:46:38.640

由于您的 jquery 脚本服务器和 Web 服务器不同，因此应该是跨域问题。

您应该使用**jsonp**进行此通信。

下面是一个可以帮助你的例子

[http://www.jquery4u.com/json/jsonp-examples/](http://www.jquery4u.com/json/jsonp-examples/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T08:43:27.313

也许您可以使用`error`回调来获取有关 jQuery 看到的错误的更多信息？

```
$.ajax({
    type: "GET",
    url: "http://192.168.20.249/test.brick",
    dataType: "json",
    error: function(jqXHR, textStatus, errorThrown){
        ("error: " + textStatus); //Check all parameters in this callback
    },
    success: function(){
        alert("success"); 
    }
}); 
```

编辑：跨域 ajax 并不像人们希望的那样方便。

# javascript - 基本 jQuery 滑块 - 当前幻灯片编号

> ID：15355903
> 
> 赞同：1
> 
> 时间：2013-03-12T07:52:42.220
> 
> 标签：javascript, jquery

我目前在显示当前幻灯片编号时遇到问题，基本上我需要将当前幻灯片编号插入到名为当前幻灯片的跨度类中。我正在使用跟随 jquery 滑块：[http ://basic-slider.com](http://basic-slider.com)

我正在使用这个片段来调用脚本。

```
 jQuery(document).ready(function($) {

      var total = jQuery('.bjqs li').length;

      $('#banner-slide').bjqs({
        animtype      : 'slide',
        height        : 490,
        width         : 695,
        showmarkers   : false,
        responsive    : false

      });

      jQuery('#slider-status > .total-slides').html(total);

    }); 
```

根据设计，它需要显示为 1（当前幻灯片）/ 3（总金额）

任何帮助将不胜感激！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T07:59:24.113

试试这个：

```
$('#banner-slide').bjqs({
    animtype      : 'slide',
    height        : 490,
    width         : 695,
    showmarkers   : true, // set it to true
    responsive    : false

}); 
```

来自[http://basic-slider.com/](http://basic-slider.com/)

```
showmarkers : true, // Show individual slide markers 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T08:21:54.273

如果您不使用 bjqs min 文件，您可以修改`set_next function`以获取当前幻灯片编号并将其应用到 span。

# javascript - 不要用 new Constructor 创建对象

> ID：15355908
> 
> 赞同：6
> 
> 时间：2013-03-12T07:52:59.707
> 
> 标签：javascript

是否可以选择不在构造函数中创建具有特定条件的对象，例如

```
function Monster(name, hp) {
    if (hp < 1) {
       delete this;
    }
    else {
           this.name = name;
    }
}
var theMonster = new Monster("Sulley", -5); // undefined 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-12T07:59:00.947

我认为你应该做的是抛出一个异常。

```
function Monster(name, hp) {
    if (hp < 1) {
        throw "health points cannot be less than 1";
    }
    this.hp = hp;
    this.name = name;
}

var m = new Monster("Not a good monster", 0); 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-12T07:59:59.213

被称为构造函数（带有`new`运算符）的函数将始终返回一个实例*，除非*它显式返回一个对象。因此，您可以返回一个空对象，并使用`instanceof`运算符检查返回的内容：

```
function Monster(name, hp) {
    if (hp < 1) {
       return {};
    }
    else {
       this.name = name;
    }
}
var theMonster = new Monster("Sulley", -5);

console.log(theMonster instanceof Monster); // false 
```

[规范（ 13.2.2](http://es5.github.com/#x13.2.2) ）中解释了这种行为：

> 8\. 令*result*为调用 F 的 [[Call]] 内部属性的结果，提供 obj 作为 this 值，并提供传递给 [[Construct]] 的参数列表作为*args*。
> 
>  9.**如果 Type(result) 是 Object 则返回 result**。
> 
>  10\. 返回对象。

但是，正如其他人指出的那样，您是否真的应该这样做是值得怀疑的。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-12T08:01:43.697

这是没有意义的，您试图在对象的构造阶段停止构造对象。更好的方法是使用@Amberlamps 建议的东西或使用工厂模式之类的东西来创建对象。

# java - Java JComponent 延迟调整大小

> ID：15355916
> 
> 赞同：-1
> 
> 时间：2013-03-12T07:53:56.160
> 
> 标签：java, swing, resize, lag, jcomponent

任何人都可以解释为什么在调整框架大小时绘制简单形状（如矩形）的 JPanel 会明显滞后吗？

我认为通过添加窗口调整大小的事件并将调整大小计时到 1/10 秒左右，我可以解决问题。但我不太确定。

编辑：

查看示例代码后，我发现调整大小滞后是由于有一个处理程序通过获取屏幕的高度和宽度来缩放绘制的对象。

```
 this.addComponentListener(new ComponentAdapter() {
            public void componentResized(ComponentEvent e) {

                setScale( getHeight(), getWidth() );
            }
        }); 
```

有什么办法可以平滑调整大小的滞后？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-12T10:28:56.733

[这里](https://stackoverflow.com/a/11944233/230513)引用的示例可以很好地扩展到数千个节点和边。它可以作为一个有用的参考例子。例如，[分析器](https://stackoverflow.com/q/2064427/230513)也可以提供一些洞察力[。](https://stackoverflow.com/a/15306178/230513)

![图片](../Images/8ff0aa2210f68fb48bd57b1a5304741e.png)

# c++ - 重载 C++ 赋值运算符的最佳方法

> ID：15355919
> 
> 赞同：1
> 
> 时间：2013-03-12T07:54:05.807
> 
> 标签：c++, operator-overloading, assignment-operator

我有一个 A 类，它在其构造函数中为整数（由类成员说 _pPtrMem 指向）动态分配内存，并在析构函数中释放相同的内存。为了避免浅拷贝，我重载了赋值运算符和拷贝构造函数。赋值运算符重载的广泛使用方式如下：

```
A& operator = (const A & iToAssign)
{
  if (this == & iToAssign)  // Check for self assignment
    return *this;
  int * pTemp = new int(*(iToAssign._pPtrMem)); // Allocate new memory with same value
  if (pTemp)
  {
    delete _pPtrMem;  // Delete the old memory
    _pPtrMem = pTemp; // Assign the newly allocated memory
  }
  return *this;   // Return the reference to object for chaining(a = b = c)
} 
```

另一种实现相同的方法可能是

```
A& operator = (const A & iToAssign)
{
  *_pPtrMem= *(iToAssign._pPtrMem); // Just copy the values
  return *this;   
} 
```

既然第二个版本比较简单和快速（没有释放，内存分配），为什么它没有被广泛使用？有什么我无法解决的问题吗？

此外，我们从赋值运算符中返回一个相同类型的对象，用于链接（a = b = c）......所以不是返回***this**而是返回**iToAssign**对象，因为两个对象现在应该相等？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-12T08:00:21.340

通常，实现复制赋值运算符的最佳方式是`swap()`为您的类提供一个函数（或使用标准函数，如果它可以满足您的需要），然后通过复制构造函数实现复制赋值运算符：

```
A& A::operator= (A iToAssign)  // note pass by value here - will invoke copy constructor
{
  iToAssign.swap(*this);
  return *this;
}
// void swap(A& other) throws() // C++03
void A::swap(A& other) noexcept
{
    std::swap(_pPtrMem, other._pPtrMem);
} 
```

这可以确保您的复制赋值运算符和复制构造函数永远不会发生分歧（也就是说，不会发生您更改一个而忘记更改另一个的情况）。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-12T08:05:04.917

不，您的实施没有问题。但是动态分配一个整数至少是非常特别的。

这种实现并没有被广泛使用，因为没有人在空闲存储区分配一个整数。您通常将动态分配的内存用于在编译时可变长度未知的数组。在这种情况下，大多数时候只使用 std::vector 是个好主意。

不，这不好，返回一个不同的对象。身份不等于平等：

```
T a, b, d;
T& c = a = b;
c = d; // should change a, not b 
```

你会期望第三行改变 b 吗？

或者更好的事件示例：

```
T a;
T& b = a = T(); 
```

这将导致一个悬空引用，引用一个临时的和被破坏的对象。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-12T07:59:48.337

第一个版本用于`_pPtrMem`指向某些基本类型的指针，例如动态分配的数组。如果指针指向具有正确实现的赋值运算符的单个对象，则第二个版本将做得同样好。但在那种情况下，我认为您根本不需要使用指针。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-12T07:59:05.543

在第二种情况下，如果`_pPtrMem`最初未分配，则该行

```
*_pPtrMem= *(iToAssign._pPtrMem); // Just copy the values 
```

导致分配到无效的内存位置（可能是分段错误）。这只有`_pPtrMem`在此调用之前已分配内存时才有效。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-12T09:45:05.867

在这种情况下，第二种实现方式要好得多。但是在对象中使用动态的通常原因是因为大小可能会有所不同。（另一个原因是因为您*想要*浅拷贝的引用语义。）在这种情况下，最简单的解决方案*是*使用您的第一个分配（无需测试自分配）。根据对象的不同，如果新值适合，可以考虑重用已经存在的内存；它在一定程度上增加了复杂性（因为您必须测试它是否适合，如果不适合，仍然进行分配/复制/删除），但在某些情况下它可以提高性能。

# php - PHP imagecopyresampled 仅针对 gif 图像提供资源错误

> ID：15355923
> 
> 赞同：0
> 
> 时间：2013-03-12T07:54:24.610
> 
> 标签：php, image, gd

`imagecreatetruecolor`当我传递由to生成的黑色图像背景时`imagecopyresampled`，它作为参数 1 给出的错误`imagecopyresampled`预计是资源，但给出了一个整数。

这`gif`仅适用于图像。此外，我正在使用`imagecolortransparent`gif，以便动画不会显示为具有黑色背景的静态，但它也会在传递给时`imagecopyresampled`给出相同的错误。

没有`imagecolortransparent`：

```
function resizeImageGIF($image,$width,$height,$scale) {
    $newImageWidth = ceil($width * $scale);
    $newImageHeight = ceil($height * $scale);
    $newImage = imagecreatetruecolor($newImageWidth,$newImageHeight);
    $source = imagecreatefromgif($image);
    imagecopyresampled($newImage,$source,0,0,0,0,$newImageWidth,$newImageHeight,$width,$height);
    imagegif($newImage,$image);
    chmod($image, 0777);
    return $image;
} 
```

上面生成了一个黑色背景的静态 gif，并给出了参数 1 中给出的整数的相同 PHP 错误

与`imagecolortransparent`：

```
function resizeImageGIF($image,$width,$height,$scale) {
    $newImageWidth = ceil($width * $scale);
    $newImageHeight = ceil($height * $scale);
    $newImage = imagecreatetruecolor($newImageWidth,$newImageHeight);
    $black=imagecolorallocate($newImage,0,0,0);
    $newImageTransparent = imagecolortransparent($newImage,$black);
    $source = imagecreatefromgif($image);
    imagecopyresampled($newImageTransparent,$source,0,0,0,0,$newImageWidth,$newImageHeight,$width,$height);
    imagegif($newImageTransparent,$image);
    chmod($image, 0777);
    return $image;
} 
```

这个生成了一个动画 gif，但仍然存在上述错误，并且也**不会**缩放图像，因为结果图像会从固定宽度的容器中弹出。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T07:59:48.360

试试这个脚本，这个脚本对我有用

```
$size = 200; // the thumbnail height
$filedir = 'uploads/'; // the directory for the original image
$thumbdir = 'uploads/'; // the directory for the thumbnail image
$prefix = 'small0_'; // the prefix to be added to the original name
$maxfile = '2000000';
$mode = '0666';
$rnd_1 = rand(11111,99999); 

$userfile_name= $rnd_1.'_'.$_FILES['image']["name"];
$userfile_tmp = $_FILES['image']['tmp_name'];
$userfile_size = $_FILES['image']['size'];
$userfile_type = $_FILES['image']['type'];
if (isset($_FILES['image']['name'])) 
{
$prod_img = $filedir.$userfile_name;
$prod_img_thumb = $thumbdir.$prefix.$userfile_name;
move_uploaded_file($userfile_tmp, $prod_img);
chmod ($prod_img, octdec($mode));
$sizes = getimagesize($prod_img);
$aspect_ratio = $sizes[1]/$sizes[0]; 
if ($sizes[1] <= $size)
{

$new_width = '500';
$new_height = '500';
}else{

$new_width = '500';
$new_height = '500';
}
$destimg=ImageCreateTrueColor($new_width,$new_height)
or die('Problem In Creating image');

$srcimg=ImageCreateFromJPEG($prod_img)
or $srcimg=ImageCreateFromPNG($prod_img)
or $srcimg=ImageCreateFromGIF($prod_img)
or die('Problem In opening Source Image0');
if(function_exists('imagecopyresampled'))
{
imagecopyresampled($destimg,$srcimg,0,0,0,0,$new_width,$new_height,ImageSX($srcimg),ImageSY($srcimg))
or die('Problem In resizing');
}else{
Imagecopyresized($destimg,$srcimg,0,0,0,0,$new_width,$new_height,ImageSX($srcimg),ImageSY($srcimg))
or die('Problem In resizing');
}
ImageJPEG($destimg,$prod_img_thumb,90)
or die('Problem In saving');
}
imagesavealpha($prod_img_thumb, true);
//setting completely transparent color
$transparent = imagecolorallocatealpha($prod_img_thumb, 0, 0, 0, 127);
//filling created image with transparent color
imagefill($prod_img_thumb, 0, 0, $transparent);
imagepng($prod_img_thumb);
} 
```

# sql - 使用 SQL Server 存储过程填充 datagrid1.view

> ID：15355924
> 
> 赞同：2
> 
> 时间：2013-03-12T07:54:26.857
> 
> 标签：sql, vb.net, datagrid, visual-studio-2003

我在 SQL Server 中有一个存储过程，我创建了一些内部连接，现在我将如何使用该存储过程填充我的数据网格。

这是我的代码不起作用

```
Dim cmd As New SqlCommand
        Dim reader As SqlDataReader

        cmd.CommandText = "OfficeEquipmentProfile"
        cmd.CommandType = CommandType.StoredProcedure
        cmd.Connection = sqlconn

        sqlconn.Open()

        sAdapter = New SqlDataAdapter(cmd)
        sBuilder = New SqlCommandBuilder(sAdapter)
        sDs = New DataSet
        sAdapter.Fill(sDs, "tblOfficeEquipmentProfile")
        sAdapter.Fill(sDs, "tblDepartment")
        sAdapter.Fill(sDs, "tblLocation")
        sAdapter.Fill(sDs, "tblOfficeEquipmentCategory")
        sAdapter.Fill(sDs, "tblApplication")
        sAdapter.Fill(sDs, "tblApplicationLicense")
        sAdapter.Fill(sDs, "tblEquipmentApplication")
        sAdapter.Fill(sDs, "tblOfficeEquipmentBrand")
        sAdapter.Fill(sDs, "tblOfficeEquipmentModel")
        sAdapter.Fill(sDs, "tblOfficeEquipmentServiceOrder")
        sAdapter.Fill(sDs, "tblOfficeEquipmentPMplan")

        sTable = sDs.Tables("tblOfficeEquipmentProfile")
        sTable = sDs.Tables("tblDepartment")
        sTable = sDs.Tables("tblLocation")
        sTable = sDs.Tables("tblOfficeEquipmentCategory")
        sTable = sDs.Tables("tblApplication")
        sTable = sDs.Tables("tblApplicationLicense")
        sTable = sDs.Tables("tblEquipmentApplication")
        sTable = sDs.Tables("tblOfficeEquipmentBrand")
        sTable = sDs.Tables("tblOfficeEquipmentServiceOrder")
        sTable = sDs.Tables("tblOfficeEquipmentPMplan")

        DataGrid1.DataSource = sDs.Tables("tblOfficeEquipmentProfile, tblDepartment, tblLocation, tblOfficeEquipmentCategory, tblApplication,tblApplicationLicense, tblEquipmentApplication, tblOfficeEquipmentBrand, tblOfficeEquipmentServiceOrder,tblEquipmentPMplan")
        DataGrid1.ReadOnly = True
        'Button1.Enabled = False
        'DataGrid1.SelectionMode = DataGridViewSelectionMode.FullRowSelect

        reader = cmd.ExecuteReader()
        sqlconn.Close() 
```

我只想显示数据库中的记录

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T09:05:29.107

当您从不同的表而不是多个表返回列时，您只需要此代码。

```
 Dim Command As SqlCommand = New SqlCommand()
 Command.Connection = Connection
 Command.CommandText = "OfficeEquipmentProfile"
 Command.CommandType = CommandType.StoredProcedure

 Dim sAdapter As SqlDataAdapter = New SqlDataAdapter(Command)

 Dim DataSet As DataSet = New DataSet(Command.CommandText)

 sAdapter.Fill(DataSet)
 DataGrid1.DataSource = DataSet.Tables(0) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T09:02:57.170

尝试使用此代码

```
Dim cmd As New SqlCommand
cmd.CommandText = "OfficeEquipmentProfile"
cmd.CommandType = CommandType.StoredProcedure
cmd.Connection = sqlconn
sqlconn.Open()

sAdapter = New SqlDataAdapter(cmd)
sBuilder = New SqlCommandBuilder(sAdapter)
sDs = New DataSet
sAdapter.Fill(sDs)
DataGrid1.DataSource = sDs 
```

存储过程返回一个或多个表，但您不需要为每个表调用 Fill。一个就够了。然后将整个数据集分配给数据源，或者，如果您返回多个表并需要一个特定表

```
DataGrid1.DataSource = sDs
DataGrid1.DataMember = "tablename" 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-01-14T02:52:48.423

```
 Try
        If con.State = ConnectionState.Open Then con.Close()
        con.Open()
        Dim dset As New DataSet
        Dim dbind As New BindingSource
        Dim strquery As String
        strquery = "SELECT prod_code, prod_no, prod_suffix, prod_lvl, customer, model, family, company_code, company_name, company_address, running_no, template_code FROM products_tbl  WHERE  template_code = 'n'and company_code = 'YTPL' and prod_no = '" & txt_product.Text & "' and prod_suffix = '" & txt_suffix.Text & "' and prod_lvl = '" & txt_level.Text & "'"
        Dim adap As New SqlDataAdapter(strquery, con)
        dset = New DataSet
        adap.Fill(dset)
        dbind.DataSource = dset.Tables(0)
        dg.DataSource = dbind
    Catch ex As Exception
        MsgBox("Trace No 3: System Error or Data Error!" + Chr(13) + ex.Message + Chr(13) + "Please Contact Your System Administrator!", vbInformation, "Message")
    End Try 
```

# vba - 调用 VBA 过程 - 缺少错误 =

> ID：15355926
> 
> 赞同：0
> 
> 时间：2013-03-12T07:54:31.983
> 
> 标签：vba, excel-2007

我试图调用一个名为 Ins_to_temp 的 VBA 过程，但它不起作用。奇怪，因为 Ins_to_temp 是从另一个过程的模型构建的：Truncate_table 确实有效！

您能帮我理解为什么这会在“Ins_to_temp(x,y,z)”行出现错误 - 它说缺少“=”！（好像它是一个函数，但它显然是一个过程）

```
Sub Ins_to_temp(tbl1 As String, tbl2 As String, idx As String)
    Connect
    Dim strQ As String
    Set rstR = New ADODB.Recordset
    rstR.CursorType = adOpenStatic
    strQ = "insert into " & tbl1 & " (select * from " & tbl2 & " where id = '" & idx & "')"
    rstRec.Open strQ, objCon, adOpenDynamic, adLockOptimistic
End Sub

Sub Test()
   Ins_to_temp("temp_clients","clients","202")

End Sub 
```

作为参考，这里是一个有效的过程：

```
Sub Truncate_table(tbl1 As String)
    Connect
    Dim strQ As String
    Set rstR = New ADODB.Recordset
    rstR.CursorType = adOpenStatic
    strQ = "DELETE FROM " & tbl1
    rstR.Open strQ, objCon, adOpenDynamic, adLockOptimistic
End Sub 
```

我可以称之为：Truncate_table("coll") 谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T07:58:34.323

你的问题是一个错字：

```
Sub Ins_to_temp(tbl1 As String, tbl2 As String, idx As String)
    Connect
    Dim strQ As String
    Set rstR = New ADODB.Recordset
    rstR.CursorType = adOpenStatic

    strQry = "insert into " & tbl1 & " (select * from " & tbl2 & " where id = '" & idx & "')"

    ' the line above should be

    strQ = "insert into " & tbl1 & " (select * from " & tbl2 & " where id = '" & idx & "')"

    rstRec.Open strQ, objCon, adOpenDynamic, adLockOptimistic
End Sub 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-12T08:16:13.407

那么这个呢，它有效吗？

```
Sub Test()
   Ins_to_temp tbl1:="temp_clients", tbl2:="clients", idx:="202"
End Sub 
```

# html - CSS3 仅使用单个 DIV 创建此按钮

> ID：15355927
> 
> 赞同：2
> 
> 时间：2013-03-12T07:54:36.620
> 
> 标签：html, css, button

我正在尝试在 CSS3 中创建一个与此类似的按钮。（应支持所有 HTML5 浏览器）：

按钮图片

![按钮图像](../Images/18e4d73c1489df03854c0cd69234efbd.png)

HTML：

```
<div class="buttonClass">Nitin Mukesh</div> 
```

CSS：

```
body {
        background:     gray;
        margin-top:     50px;
        margin-left:        50px;
}
.buttonClass {
    width:          300px;
    height:         40px;
    padding:        10px 60px;
    -webkit-border-radius:  7px;
    -moz-border-radius: 7px;
    border-radius:      7px;
    background:     -moz-linear-gradient(top, #FFFFFF 0%, #91BDD6 100%); /* firefox */
    border:         solid #91BDD6 5px;
    outline:        solid #fff 5px;
    -moz-box-shadow: 3px 1px 24px #000000;
    -webkit-box-shadow: 3px 1px 24px #000000;
    box-shadow: 3px 1px 24px #000000;
} 
```

[JSFiddle](http://jsfiddle.net/cyzw8/)

我可能会想到一个解决方案，使用 2 div 将解决外部 div 保持白色轮廓和框阴影和内部 div 具有轮廓和渐变颜色的问题。

是否可以使用单个 div 来实现这一点。

非常感谢您的任何投入

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-12T08:05:57.397

这就是我想出的：http: [//jsfiddle.net/psyketom/heGu9/2/](http://jsfiddle.net/psycketom/heGu9/2/)

```
.button
{
    display: block;

    background-image: linear-gradient(bottom, rgb(145,189,214) 0%, rgb(255,255,255) 100%);
    background-image: -o-linear-gradient(bottom, rgb(145,189,214) 0%, rgb(255,255,255) 100%);
    background-image: -moz-linear-gradient(bottom, rgb(145,189,214) 0%, rgb(255,255,255) 100%);
    background-image: -webkit-linear-gradient(bottom, rgb(145,189,214) 0%, rgb(255,255,255) 100%);
    background-image: -ms-linear-gradient(bottom, rgb(145,189,214) 0%, rgb(255,255,255) 100%);
    background-image: -webkit-gradient(
        linear,
        left bottom,
        left top,
        color-stop(0, rgb(145,189,214)),
        color-stop(1, rgb(255,255,255))
    );

    /* Added second shadow for that "black" effect */
    box-shadow: 0px 0px 0px 5px white, 0px 0px 10px 5px black;
    -o-box-shadow: 0px 0px 0px 5px white, 0px 0px 10px 5px black;
    -ms-box-shadow: 0px 0px 0px 5px white, 0px 0px 10px 5px black;
    -moz-box-shadow: 0px 0px 0px 5px white, 0px 0px 10px 5px black;
    -webkit-box-shadow: 0px 0px 0px 5px white, 0px 0px 10px 5px black;

    border-radius: 15px;
    -o-border-radius: 15px;
    -ms-border-radius: 15px;
    -webkit-border-radius: 15px;
    -moz-border-radius: 15px;

    border: solid 5px rgb(145,189,214);

    padding: 60px;

    margin: 7px; /* to complement the outside shadow */
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-12T08:41:14.887

[`box-shadow`](https://developer.mozilla.org/en-US/docs/CSS/box-shadow)可以有多个阴影，所以：

[http://jsfiddle.net/cyzw8/4/](http://jsfiddle.net/cyzw8/4/)

```
.buttonClass {
    width:          200px;
    height:         40px;
/*  padding:        10px 60px;*/
    text-align:center;
    line-height:40px;
    border-radius:      7px;
    background-image:-webkit-linear-gradient(top,#FFF 0%,#91BDD6 100%);
    background-image:       -moz-linear-gradient(top, #FFFFFF 0%, #91BDD6 100%);
    background-image:-ms-linear-gradient(top,#FFF,#91BDD6);
    background-image:-o-linear-gradient(top,#FFF,#91BDD6);
    background-image:linear-gradient(top,#FFF,#91BDD6);
    border:         solid #91BDD6 5px;
    box-shadow: 0px 0px 0px 5px #fff, 5px 3px 12px #000000;
} 
```

这是我在 Chrome 中看到的：

![在此处输入图像描述](../Images/58d8b9494ecd48bc6a3d678b7260c474.png)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-12T08:13:04.017

这是第二种方式[http://jsfiddle.net/Merec/Va4qG/](http://jsfiddle.net/Merec/Va4qG/)

```
<div class="buttonClass"><span>Nitin Mukesh</span></div> 
```

```
.buttonClass {
    display: inline-block;
    background: #fff;
    border: 2px solid #fff;
    -webkit-border-radius: 5px;
    -moz-border-radius: 5px;
    border-radius: 5px;
    background: rgb(255,255,255); /* Old browsers */
    background: -moz-linear-gradient(top, rgba(255,255,255,1) 0%, rgba(145,189,214,1) 100%); /* FF3.6+ */
    background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,rgba(255,255,255,1)), color-stop(100%,rgba(145,189,214,1))); /* Chrome,Safari4+ */
    background: -webkit-linear-gradient(top, rgba(255,255,255,1) 0%,rgba(145,189,214,1) 100%); /* Chrome10+,Safari5.1+ */
    background: -o-linear-gradient(top, rgba(255,255,255,1) 0%,rgba(145,189,214,1) 100%); /* Opera 11.10+ */
    background: -ms-linear-gradient(top, rgba(255,255,255,1) 0%,rgba(145,189,214,1) 100%); /* IE10+ */
    background: linear-gradient(to bottom, rgba(255,255,255,1) 0%,rgba(145,189,214,1) 100%); /* W3C */
    filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#ffffff', endColorstr='#91bdd6',GradientType=0 ); /* IE6-9 */
}
.buttonClass span {
    padding: 5px 10px;
    display: block;
    border: 2px solid #91bdd6;
    -webkit-border-radius: 5px;
    -moz-border-radius: 5px;
    border-radius: 5px;
} 
```

# ios5 - 如何在 ios 中使用图形 api 将照片标记给朋友

> ID：15355930
> 
> 赞同：1
> 
> 时间：2013-03-12T07:54:50.350
> 
> 标签：ios5

我得到了这个错误-

```
ostPictureButtonPressed:  {"error":{"message":"(#100) param tags must be non-empty.","type":"OAuthException","code":100}} 
```

我的代码是

```
NSMutableDictionary *variables = [NSMutableDictionary dictionaryWithCapacity:6];

    UIImage *picture = [UIImage imageNamed:@"Default.png"];

    //create a FbGraphFile object insance and set the picture we wish to publish on it
    FbGraphFile *graph_file = [[FbGraphFile alloc] initWithImage:picture];

    //finally, set the FbGraphFileobject onto our variables dictionary....
    [variables setObject:graph_file forKey:@"file"];

    NSArray *arr=[[NSArray alloc]initWithObjects:@"100001912715296", nil ];

    SBJsonWriter *writer = [[SBJsonWriter alloc] init];
    NSString *jsonString = [writer stringWithObject:arr];

    NSLog(@"The jason string is %@",jsonString);

    [variables setObject:jsonString forKey:@"tags"];
    [variables setObject:@"110506962309835" forKey:@"place"];

    [variables setObject:@"Hello friends I am using MySafety App.\n This is a must have app for all peoples whether you are a working lady, a house wife or a school going girl.This app lets you save 6 emergency contacts whom you want to alert in case of emergency.Whenever you feel you are in danger, just press the SOS button and it will send sms to your contacts with your current location and a alarm will go on with flashing lights" forKey:@"message"];

    //the fbGraph object is smart enough to recognize the binary image data inside the FbGraphFile
    //object and treat that is such.....
    FbGraphResponse *fb_graph_response = [fbGraph doGraphPost:@"117795728310/photos" withPostVars:variables];
    NSLog(@"fb_graph_response %@",fb_graph_response);

    NSLog(@"postPictureButtonPressed:  %@", fb_graph_response.htmlResponse); 
```

# android - 我可以以某种方式将位置数据嵌入到 android 的视频文件中吗？

> ID：15355931
> 
> 赞同：1
> 
> 时间：2013-03-12T07:54:55.793
> 
> 标签：android, video, gps, ffmpeg, location

我可以以某种方式将位置数据嵌入到 android 的视频文件中吗？

目前我的应用程序创建一个视频文件并获取位置信息，但我不知道是否可以将位置信息（纬度、经度）嵌入到我的视频文件中。

我可以使用 ffmpeg 或其他任何东西（我正在使用 ffmpeg 对我的视频进行一些操作）。

唉，如果可能的话，我一点也不知道如何将 GPS 数据嵌入到我的视频中。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-07-29T11:43:41.227

您的问题似乎与此问题重复：[对捕获的视频进行地理标记](https://stackoverflow.com/questions/8310317/geotagging-a-captured-video)

但尽管如此，取自：http: [//mobile.dzone.com/news/reading-gps-latitude-and](http://mobile.dzone.com/news/reading-gps-latitude-and)

> 您可能知道，即使 Android 也不会对视频进行“地理标记”，这并不完全正确。因为在使用您的画廊后，您可以看到这些视频的拍摄地点。这太棒了，但实际上有关视频拍摄位置的真实信息并没有保存在视频文件中，而是保存在一个额外的日志文件中。因此实际上视频文件不知道地理坐标。

所以我认为你不能。您必须将地理信息存储在一个额外的文件中，就像 Android 正在做的那样。因为 MP4 不能存储地理标签。

但是 .MOV 文件可以。因此，如果您可以存储 MOV 文件，也许您可​​以向其中添加地理标签。

# format - lldb - 如何使用“类型格式添加”显示带小数的浮点数

> ID：15355934
> 
> 赞同：0
> 
> 时间：2013-03-12T07:55:24.977
> 
> 标签：format, lldb

我有一个浮点类型的变量。Xcode 使用科学记数法（即 3.37626e+07）显示它。我试图让它显示使用点符号（即 33762616.00）。
我已经尝试了 lldb 提供的每种格式，但没有一个使用小数显示浮点数。我阅读了其他帖子并观看了 WWDC2012 会议 415（[如此处建议](https://stackoverflow.com/questions/11488028/how-do-you-change-the-display-format-of-xcode-debug-windows-display-of-local-var)），但我必须离森林太近而看不到树木。任何帮助将不胜感激！

![在此处输入图像描述](../Images/721bdccd028630dafa538cb5cd201fea.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T02:44:31.017

尝试在您的`~/.lldbinit`文件中为 type添加自定义数据格式化程序`float`。例如

```
Process 13204 stopped
* thread #1: tid = 0xb6f8d, 0x0000000100000f33 a.out`main + 35 at a.c:5, stop reason = step over
    #0: 0x0000000100000f33 a.out`main + 35 at a.c:5
   2    int main ()
   3    {
   4        float f = 33762616.0;
-> 5        printf ("%f\n", f);
   6    }
(lldb) p f
(float) $0 = 3.37626e+07
(lldb) type summ add -v -o "return '%f' % valobj.GetData().GetFloat(lldb.SBError(), 0)" float
(lldb) p f
(float) $1 = 33762616.000000
(lldb) 
```

lldb 提供的默认格式化程序集无法做到这一点，但放入 Python 可以让您有很大的灵活性。

# jquery-selectors - 如何将变量传递给 not() 选择器？

> ID：15355935
> 
> 赞同：1
> 
> 时间：2013-03-12T07:55:29.027
> 
> 标签：jquery-selectors

如何将变量作为类传递给 not() 选择器？

我目前正在使用：

```
var x = "boy";
$("#names").children("." + x).fadeTo(250, 1); 
```

淡化带有“boy”类的名称列表，但同时我还需要淡出不包含在var x中的类的#names的所有子代。

```
$("#names").children(":not()" + "." + x ).fadeTo(250, .5); 
```

^将上述内容添加到函数中不会给我任何错误......但它显然无法正常工作。（如果我正常声明类（“.boy”），它可以正常工作，但我需要它与变量一起用于其他目的。）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T08:02:49.570

```
$("#names").children().not("." + x ).fadeTo(250, .5); 
```

或者

```
$("#names").children(":not(" + "." + x + ")").fadeTo(250, .5); 
```

我更喜欢第一个:)

# html - 安全弹出 IE8 wistia 视频

> ID：15355936
> 
> 赞同：0
> 
> 时间：2013-03-12T07:55:32.017
> 
> 标签：html, security, iframe, video, https

我有以下渲染视频的 iframe。在 IE8 中，我收到安全弹出错误。

```
<iframe src="https://fast.wistia.com/embed/iframe/223ewe311111112?videoWidth=310&videoHeight=120&controlsVisibleOnLoad=true&playerColor=1213221&plugin%5Bsocialbar%5D%5Bversion%5D=v1&plugin%5Bsocialbar%5D%5Bbuttons%5D=email-twitter-googlePlus-facebook&plugin%5Bsocialbar%5D%5Blogo%5D=true&plugin%5Bsocialbar%5D%5BtweetText%5D=May%20to%I%20New%Help%20You%20&plugin%5Bsocialbar%5D%5BbadgeUrl%5D=https%3A%2F%2Fwistia.com&plugin%5Bsocialbar%5D%5BbadgeImage%5D=https%3A%2F%2Fprime-cdn.wistia.com%2Fdeliveries%2Fe6e6be3fsdfsdfsdfsdf7e0a69.jpg%3Fimage_crop_resized%3D100x20" target="_blank" rel="nofollow" allowtransparency="true" frameborder="0" scrolling="no" class="wistia_embed" name="wistia_embed" width="310" height="120"></iframe> 
```

我知道他们在他们的框架上更新了他们的 IFRAME API。这是否会成为仅在 IE8 中呈现弹出窗口的原因。在 IE8 中使用 HTTPWATCH 插件，我发现所有资源都只呈现 HTTPS。所以，因为这个 iframe 标签只有它正在呈现弹出窗口。我将此 iframe 标记放在单独的 HTML 页面中并在 IE8 浏览器中打开它。它显示安全弹出窗口。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T12:46:11.397

你得到的错误的性质是什么？“不安全的 JavaScript 尝试从带有 URL [URL 已编辑] 的框架访问带有 URL [URL 已编辑] 的框架。域、协议和端口必须匹配。”

如果是这样，StackOverflow 上的许多线程也提到了这个错误。虽然烦人，但极不可能对您的网站的工作方式有害，这只是 iframe 与其嵌入的页面之间存在不匹配的域、端口和协议的症状。

所以是的，只要页面上的内容看起来不错，您很可能会忽略该特定错误。

作为替代方案，请尝试 Wistia API 嵌入样式，您也可以将其与 SSL 一起使用——应该可以帮助您避免看到这种情况。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T14:03:53.803

首先，您最好检查该示例嵌入代码！:) 看起来 iframe src 无效（它导致 404 页面），这使得测试有点困难。iframe 上还有一些奇怪的东西，比如 target="_blank"，我认为这不是 Wistia 制作的。

无论如何，我将选项装订到不同媒体的嵌入代码上，我想我找到了你的问题。社交栏中的徽标域是导致安全警告的原因。

如果您在 SuperEmbed Builder 中上传您的徽标，然后切换到 SSL（在嵌入类型 > 高级选项下），它也会将徽标的域切换到具有安全证书的域。我猜你制作了一个非 SSL 嵌入，然后手动将它从 http: 切换到 https:。在许多情况下，这无关紧要，但不幸的是，它在这一点上确实如此。

我的建议是直接从 SuperEmbed Builder 生成嵌入代码并在那里打开 SSL。

# javascript - javascript 代码不能使用 x-tmpl 或 x-jQuery-tmpl 模板运行

> ID：15355941
> 
> 赞同：3
> 
> 时间：2013-03-12T07:56:07.977
> 
> 标签：javascript, jquery, jquery-plugins, yii-extensions, yii-xupload

我有（xupload）blueimp 插件的这个模板：

```
<script id="template-upload" type="text/x-tmpl">
{% for (var i=0, file; file=o.files[i]; i++) { %}
<tr class="template-upload fade">
    <td class="preview"><span class="fade"></span></td>
    <td class="title"><label>Title: <input type="text" name="title" required></label></td>
    <td class="name"><span>{%=file.name%}</span></td>
    <td class="size"><span>{%=o.formatFileSize(file.size)%}</span></td>
    {% if (file.error) { %}
        <td class="error" colspan="2"><span class="label label-important">Error</span> {%=file.error%}</td>
    {% } else if (o.files.valid && !i) { %}
        <td>
            <div class="progress progress-success progress-striped active" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0"><div class="bar" style="width:0%;"></div></div>
        </td>
        <td class="start">{% if (!o.options.autoUpload) { %}
            <button class="btn btn-primary">
                <i class="icon-upload icon-white"></i>
                <span>Start</span>
            </button>
        {% } %}</td>
    {% } else { %}
        <td colspan="2"></td>
    {% } %}
    <td class="cancel">{% if (!i) { %}
        <button class="btn btn-warning">
            <i class="icon-ban-circle icon-white"></i>
            <span>Cancel</span>
        </button>
    {% } %}</td>
</tr>
{% } %}
</script> 
```

我正在尝试运行此 javascript 代码，但它不起作用，但是当我在控制台中运行它以使其工作时，页面加载完成时让它运行的方法是什么

```
<script type="text/javascript">
jQuery(document).ready(function(){
    $("input[type=text]").focus(function(){
        alert('some text');
    });
});
</script> 
```

就我而言，我使用的是 yii 扩展 (select2) 这个扩展生成 javascript 选择：

```
<script id="template-upload" type="text/x-jQuery-tmpl">
{% for (var i=0, file; file=o.files[i]; i++) { %}
<tr class="template-upload fade">
    <td class="preview">
        <span class="fade"></span>
    </td>
    {% if (file.error) { %}
        <td class="error" colspan="2"><span class="label label-important">Error</span> {%=file.error%}</td>
    {% } else if (o.files.valid && !i) { %}
        <td>
            <label><?php echo CHtml::label('Keywords', 'keywords'); ?></label>
            <?php
                echo CHtml::textField('tags',$selected,array('id'=>'tags'));
                $this->widget('ext.select2.ESelect2',array(
                  'selector'=>'#tags',
                  'options'=>array(
                    'tags'=>$tags,
                    'width'=>'400px;',
                  ),
                ));
            ?>
        </td>
        <td>
            <div class="progress progress-success progress-striped active"><div class="bar" style="width:0%;"></div></div>
        </td>
        <td class="start">{% if (!o.options.autoUpload) { %}
            <button class="btn btn-primary">
                <i class="icon-upload icon-white"></i>
                <span>Start</span>
            </button>
        {% } %}</td>
    {% } else { %}
        <td colspan="2"></td>
    {% } %}
    <td class="cancel">{% if (!i) { %}
        <button class="btn btn-warning">
            <i class="icon-ban-circle icon-white"></i>
            <span>Cancel</span>
        </button>
    {% } %}</td>
</tr>
{% } %}
</script> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-25T06:58:37.033

对不起，有一个高等级的异步问题。

***MVC*** 封装了两个MVC（什么都可以），

1.  主要是 DB（模型）、HTML（视图）、PHP（控制器）- 服务器端。
2.  其次是 JSON/AJAX(Model)、Template(View)、JavaScript(Controller) - 客户端。

第一个 MVC 没问题，**第二个**是不好的做法。

1.  您在辅助视图静态中从主 MVC 调用模型 - 而不是通过辅助控制器（Javascript）将其从主 MVC 引导到辅助视图！
2.  alert("一些文字"); 绑定一次（在第一次访问此页面时）到所有可见的输入字段（未附加模板中的输入）。请理解，此代码不会触发对稍后呈现的输入文本的“警报”。

一般来说，将Primary-PHP与Secondary-Template分开就可以成功，因此必须将信息通过Primary-Controller，Primary-View，Secondary-Model，Secondary-Controller引导到Secondary-View！

我知道这是很多工作，但这是清理的唯一方法。

# browser - 防止选项卡循环浏览地址栏

> ID：15355948
> 
> 赞同：13
> 
> 时间：2013-03-12T07:56:51.417
> 
> 标签：browser, user-interface, accessibility

我意识到这可能是一个可访问性问题，最好不要管它，但我想弄清楚是否有可能阻止标签在标签循环中访问地址栏。

我的应用程序有另一种循环输入区域的方法，但是许多新用户本能地尝试使用选项卡，但它没有按预期工作。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2016-02-24T19:04:20.833

这是一个通用的 jquery 实现，您不必找到最大选项卡索引。请注意，如果您在 DOM 中添加或删除元素，此代码也将起作用。

```
$('body').on('keydown', function (e) {
    var jqTarget = $(e.target);
    if (e.keyCode == 9) {

        var jqVisibleInputs = $(':input:visible');
        var jqFirst = jqVisibleInputs.first();
        var jqLast = jqVisibleInputs.last();

        if (!e.shiftKey && jqTarget.is(jqLast)) {
            e.preventDefault();
            jqFirst.focus();
        } else if (e.shiftKey && jqTarget.is(jqFirst)) {
            e.preventDefault();
            jqLast.focus();
        }
    }
}); 
```

但是，您应该注意，上面的代码仅适用于可见输入。某些元素即使没有被输入也可能成为文档的 activeElement，因此如果是您的情况，您应该考虑将它们添加到`$(':input:visible')`选择器中。

我没有添加代码来滚动到焦点元素，因为这可能不是每个人都想要的行为......如果你需要它，只需在调用后添加它`focus()`

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2014-08-26T10:10:11.377

我曾经在 tabindex 1 和最后一个 tabindex 上添加两个微小的、不可见的元素。为这两个添加一个 onFocus：tabindex 为 1 的元素应该聚焦最后一个真实元素，具有 max tabindex 的元素应该聚焦第一个真实元素。确保将第一个真实元素集中在 Dom:loaded 上。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2014-08-23T17:19:59.767

您可以使用 Javascript 并在具有最高“tabindex”的元素上捕获“keydown”事件。如果用户在没有“Shift”键（event.shiftKey == false）的情况下按下“TAB”键（event.keyCode==9），那么只需将焦点设置在具有最低tabindex的元素上。

然后，您还需要对 tabindex 最低的元素执行相同的操作。捕获此元素的“keydown”事件。如果用户使用“Shift”键 (event.shiftKey == true) 按下“TAB”键 (event.keyCode==9)，则将焦点设置在具有最高 tabindex 的元素上。

这将有效地防止地址栏使用 TAB 键聚焦。我在我当前的项目中使用这种技术。

如果按下正确的组合键，不要忘记取消 keydown 事件！对于 JQuery，它是“event.preventDefault()”。在标准 Javascript 中，我相信您只是“返回 false”。

这是我正在使用的一个包含 JQuery 的片段......

```
 $('#dos-area [tabindex=' + maxTabIndex + ']').on('keydown', function (e) {
        if (e.keyCode == 9 && e.shiftKey == false) {
            e.preventDefault();
            $('#dos-area [tabindex=1]').focus();
        }
    });
    $('#dos-area [tabindex=1]').on('keydown', function (e) {
        if (e.keyCode == 9 && e.shiftKey == true) {
            e.preventDefault();
            $('#dos-area [tabindex=' + maxTabIndex + ']').focus();
        }
    }); 
```

还要记住，设置 tabindex=0 会对事物聚焦的顺序产生不良影响。我一直记得（出于我的目的）tabindex 是一个基于 1 的索引。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-03-12T12:36:54.720

[`tabindex`您可以使用 global属性](http://www.w3.org/TR/html5/editing.html#sequential-focus-navigation-and-the-tabindex-attribute)来控制 Tab 键的顺序（以及哪些元素应该能够获得焦点）。

但是，您不能阻止用户使用此属性进入另一个不受页面控制的上下文（例如浏览器的地址栏）。（不过，它可能与 JavaScript 结合使用。）

对于这样的（邪恶的！）用例，您必须查看**键盘陷阱**。

WCAG 2.0 有指导方针：[2.1.2 No Keyboard Trap](http://www.w3.org/TR/WCAG20/#keyboard-operation-trapping)。在[了解 SC 2.1.2](http://www.w3.org/TR/UNDERSTANDING-WCAG20/keyboard-operation-trapping.html)中，您可以找到本指南的“技术和故障”：

*   [F10：成功标准 2.1.2 和一致性要求 5 失败，因为以一种将用户困在一种格式类型中的方式组合了多种内容格式](http://www.w3.org/TR/WCAG20-TECHS/F10)
*   [FLASH17：提供对 Flash 对象的键盘访问并避免键盘陷阱](http://www.w3.org/TR/WCAG20-TECHS/FLASH17)
*   [G21：确保用户不被困在内容中](http://www.w3.org/TR/WCAG20-TECHS/G21)

所以，也许你会从中得到一些想法，这样一个陷阱是如何可能的。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2020-10-18T18:24:28.090

嗨，我有一个简单的解决方案。只需在页面末尾放置一个空跨度。给它一个 id 和 tabindex = 0，给这​​个跨度一个 onfocus 事件，当触发时让你的焦点跳转到你想要循环通过的页面上的第一个元素。这样您就不会失去对文档的关注，因为如果您这样做，您的事件将不再起作用。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2021-02-18T21:39:47.450

[Salinan 解决方案对我有用](https://stackoverflow.com/a/64416815/11699556) 将其放在 html 页面的开头：

```
<span tabindex="0" id="prevent-outside-tab"></span> 
```

这在你的 html 页面的末尾。：

```
<span tabindex="0" onfocus="foucsFirstElement()"></span> 
```

foucsFirstElement() ：

```
foucsFirstElement() {
  document.getElementById("prevent-outside-tab").focus();
}, 
```

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2018-08-05T21:25:40.090

不确定这是否仍然是一个问题，但我实现了自己的不使用 jQuery 的解决方案，可以在所有元素都有 tabindex="0" 的情况下使用，并且当 DOM 可能发生变化时。如果您想将 tabcycling 限制为包含 tabindex 元素的特定元素，我为上下文添加了一个额外的参数。

关于论点的一些简要说明：

**min**必须小于或等于**max**，并且**contextSelector**是一个可选字符串，如果使用它应该是一个有效的选择器。如果**contextSelector**是无效选择器或与任何元素都不匹配的选择器，则将**文档**对象用作上下文。

```
function PreventAddressBarTabCyle(min, max, contextSelector) {
    if( isNaN(min) ) throw new Error('Invalid argument: first argument needs to be a number type.')
    if( isNaN(max) ) throw new Error('Invalid argument: second argument needs to be a number type.')
    if( max < min ) throw new Error('Invalid arguments: first argument needs to be less than or equal to the second argument.')
    min = min |0;
    max = max |0;
    var isDocumentContext = typeof(contextSelector) != 'string' || contextSelector == '';

    if( min == max ) {
        var tabCycleListener = function(e) {
            if( e.keyCode != 9 ) return;

            var context = isDocumentContext ? document : document.querySelector(contextSelector);
            if( !context && !('querySelectorAll' in context) ) {
                context = document;
            }

            var tabindexElements = context.querySelectorAll('[tabindex]');
            if( tabindexElements.length <= 0 ) return;
            var targetIndex = -1;
            for(var i = 0; i < tabindexElements.length; i++) {
                if( e.target == tabindexElements[i] ) {
                    targetIndex = i;
                    break;
                }
            }
            // Check if tabbing backward and reached first element
            if( e.shiftKey == true && targetIndex == 0 ) {
                e.preventDefault();
                tabindexElements[tabindexElements.length-1].focus();
            }
            // Check if tabbing forward and reached last element
            if( e.shiftKey == false && targetIndex == tabindexElements.length-1 ) {
                e.preventDefault();
                tabindexElements[0].focus();
            }
        };
    } else {
        var tabCycleListener =  function(e) {
            if( e.keyCode != 9 ) return;

            var context = isDocumentContext ? document : document.querySelector(contextSelector);
            if( !context && !('querySelectorAll' in context) ) {
                context = document;
            }

            var tabindex = parseInt(e.target.getAttribute('tabindex'));
            if( isNaN(tabindex) ) return;
            // Check if tabbing backward and reached first element
            if (e.shiftKey == true && tabindex == min) {
                e.preventDefault();
                context.querySelector('[tabindex="' + max + '"]').focus();
            } 
            // Check if tabbing forward and reached last element
            else if (e.shiftKey == false && tabindex == max) {
                e.preventDefault();
                context.querySelector('[tabindex="' + min + '"]').focus();
            }
        };
    }
    document.body.addEventListener('keydown', tabCycleListener, true);
} 
```

更多注释：

如果**min**等于**max**，则标签循环将自然发生，直到到达上下文中的最后一个元素。如果**min**严格小于**max**，则制表符将自然循环，直到达到**最小值**或**最大值**。如果向后跳格并达到**最小值**，或者向前跳格并达到**最大值**，则跳格将分别循环到**最小**元素或**最大**元素。

示例用法：

```
// For all tabindex elements inside the document
PreventAddressBarTabCyle(0,0);
// Same as above
PreventAddressBarTabCyle(1,1);
// NOTE: if min == max, the tabindex value doesn't matter
//    it matches all elements with the tabindex attribute

// For all tabindex elements between 1 and 15
PreventAddressBarTabCyle(1,15);
// For tabindex elements between 1 and 15 inside
//   the first element that matches the selector: .some-form
PreventAddressBarTabCyle(1,15, '.some-form');
// For all tabindex elements inside the element
//   that matches the selector: .some-form2
PreventAddressBarTabCyle(1,1, '.some-form2'); 
```

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2015-08-12T20:31:10.040

我使用了[m-albert](https://stackoverflow.com/users/1452309/m-albert)解决方案并且它有效。但就我而言，我不控制*tabindex*属性。我的意图是当用户离开页面上的最后一个控件时，将焦点设置在页面顶部的工具栏**（第一个控件）上。**

```
$(':input:visible').last().on('keydown', function (e) {
    if (e.keyCode == 9 && e.shiftKey == false) {
        e.preventDefault();
        $('html, body').animate({
            scrollTop: 0
        }, 500);
        $(':input:visible', context).first().focus();
    }
}); 
```

其中***context***可以是任何 Jquery 对象、选择器甚至是*document*，或者您可以省略它。

当然，滚动动画是可选的。

# android - 在Android上计算字符串的宽度

> ID：15355950
> 
> 赞同：4
> 
> 时间：2013-03-12T07:57:00.007
> 
> 标签：android, text-rendering

我需要知道给定字体句柄（或字体名称+字体大小+字体样式数据）的文本字符串的宽度。

在 Windows 中，我曾经使用 GetTextExtentPoint()

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-03-12T08:05:54.677

使用此代码

```
 Rect bounds = new Rect(); 
 Paint textPaint = textView.getPaint();
 textPaint.getTextBounds(text, 0, text.length(), bounds); 
 int height = bounds.height(); 
 int width = bounds.width(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T08:14:34.583

您可以获得 TextView 的 TypeFace：http: [//developer.android.com/reference/android/widget/TextView.html#getTypeface()](http://developer.android.com/reference/android/widget/TextView.html#getTypeface()) 但很难获得字体系列，请同时检查： [Check the family of a Typeface object in安卓](https://stackoverflow.com/questions/13542513/check-the-family-of-a-typeface-object-in-android)

# matlab - 从每个集合中找到最大值

> ID：15355954
> 
> 赞同：0
> 
> 时间：2013-03-12T07:57:20.007
> 
> 标签：matlab, matrix, max

我有 3 组数据，如下所示：

```
A=[3 1 4 2;7 9 8 3;7 5 3 6;4 1 9 3]

B=[1 0 4 5;7 7 1 3;4 7 6 5;2 2 1 9] 

C=[9 1 3 7;9 6 5 5;1 4 3 2;0 3 2 1] 
```

相互比较时，我需要找出最大值。例如，对于每个集合中的矩阵 [1x1]，A=3,B=1,C=9，因此最大数量为 9

对于矩阵 [1x2]，最大值=1 等等..

所以

```
final result =[9 1 4 7;9 9 8 5;7 7 6 6;4 3 9 9] 
```

有什么建议可以解决这个问题吗？谢谢！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-12T08:13:13.413

您可以使用`max`. 对于有 3 个矩阵的情况，只需使用

```
max(A, max(B, C)) 
```

如果你有三个以上的矩阵，写这些`max`语句会很累，所以你会`cat`在取最大值之前使用

```
max(cat(3, A, B, C, D, E), [], 3) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T08:12:26.717

你可以这样做：

```
A=[3 1 4 2;7 9 8 3;7 5 3 6;4 1 9 3];
 A = reshape(A,[1,numel(A)]);
 B=[1 0 4 5;7 7 1 3;4 7 6 5;2 2 1 9] ;
 B = reshape(B,[1,numel(B)]);
 C=[9 1 3 7;9 6 5 5;1 4 3 2;0 3 2 1];
 C = reshape(C,[1,numel(C)]);
 D = [A;B;C];
 for ii = 1:size(D,2)
  res(1,ii) = max(D(:,ii));
 end
 res = reshape(res,[4,4]); 
```

# angularjs - 如何 $watch angularjs 中的多个变量？

> ID：15355957
> 
> 赞同：1
> 
> 时间：2013-03-12T07:57:35.067
> 
> 标签：angularjs

这是一个 angularjs 指令，用于显示多个表单验证错误。
指令代码 -

```
app.directive('validationErrors', function($compile) {
    return({
        link : function($scope, el, attr) {

            $scope.fld = attr.id;
            $scope.individualValidationErrors = [];
            var model = ((attr.ngModel).split('.'))[0];

            $scope.validationErrors = {};
            $scope.validationErrors[model] = {};
            $scope.validationErrors[model][$scope.fld] = "";

            var html = $compile(
                '<div id="error-{{fld}}" style="color:red;">'+
                    '<ul>' +
                        '<li ng-repeat="error in individualValidationErrors[fld]">'+
                            '{{error}}' +
                        '</li>' +
                    '</ul>' +
                '</div>'
            )($scope);
            $('input[id="'+$scope.fld+'"]').after(html);

            $scope.$watch('validationErrors',
                function(newV) {
                    $scope.fld = attr.id;
                    $scope.individualValidationErrors = [];

                    console.log(newV);
                    console.log($scope.validationErrors);

                    if ($scope.fld != undefined) {
                        $scope.individualValidationErrors[$scope.fld] = $scope.validationErrors[model][$scope.fld];
                        //console.log($scope.individualValidationErrors);
                    }
                },
                true
            );
        }
    });
}); 
```

html代码 -

```
<form ng-submit="registration()">
    <input validation-errors="validationErrors" maxlength="50" type="text" id="first_name" ng-model="User.first_name">
    <input validation-errors="validationErrors" maxlength="50" type="text" id="last_name" ng-model="User.last_name">
    <input validation-errors="validationErrors" maxlength="50" type="text" id="email" ng-model="User.email">
    <input validation-errors="validationErrors" type="password" id="password"  ng-model="User.password">
    <input class="btn btn-info" type="submit" id="registration-sbmit" value="Submit">
</form> 
```

表单的最后一个字段的错误会覆盖表单中的所有字段，因此它没有显示字段的单个错误.. $scope.validationErrors 变量设置在我想在指令中 $watch 的控制器中。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T12:48:39.017

我认为您的主要问题是您在链接函数中覆盖了 $scope.validationErrors。链接功能将为页面上的每个指令运行。它们还共享相同的 $scope 对象。因此，您需要有条件地创建 $scope.validationErrors 并有条件地为其添加顶级键：

```
if(!$scope.validationErrors)
    $scope.validationErrors = {};
if(!$scope.validationErrors[model])
    $scope.validationErrors[model] = {};
$scope.validationErrors[model][$scope.fld] = ""; 
```

这至少应该可以解决您只获得 $scope.validationErrors 中的最后一项的问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-10-12T19:49:48.430

你可以这样做：

```
$scope.$watch('[myproperty1,myproperty2,myproperty3]',function(nv,ov){
//do some stuff
}); 
```

# linux - 目录中 rwx 中的“x”是什么意思？

> ID：15355958
> 
> 赞同：8
> 
> 时间：2013-03-12T07:57:35.440
> 
> 标签：linux, security, unix

我得到了一个 testdir `mkdir testdir`，并在其中创建了一个文件`touch testdir/a`。

```
drwxr-xr-x  2 jermaine     jermaine       4096 Mar 12 22:57 testdir 
```

如果我删除'x'`chmod -x testdir`

那我就不行了

```
cd testdir

touch testdir/b

ls -l testdir

cat testdir/a 
```

所以我的问题是为什么我不能在一个带有“r”但没有“x”的目录下列出文件层次结构？目录上的“x”到底是什么意思？

我知道一些解释，例如“x 表示进入目录，必须先进入才能读取和写入”。但是“进入”是什么意思？我非常感谢 inode 或 dentry 级别的答案。非常感谢。

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2013-03-12T08:01:42.940

“执行”是对目录的*遍历*权限。它允许您访问目录中的文件和文件夹。

如果您可以*读取*目录，则可以列出内容。

如果您可以*编写*目录，则可以在其中创建新文件和文件夹。

如果你可以“*执行*”一个目录，你就可以在层次结构中移动，即使你不知道里面有什么。

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2013-03-12T08:03:03.050

在 Linux 上对目录应用权限时，权限位的含义与常规文件不同。

*   写入位允许受影响的用户在目录中创建、重命名或删除文件，并修改目录的属性
*   读取位允许受影响的用户列出目录中的文件
*   执行位允许受影响的用户进入目录，并访问里面的文件和目录

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-03-12T07:59:39.547

对目录执行权限意味着您可以访问该目录中的文件。

查看此链接以获取有关 Unix 权限的更多信息：

[http://www.cyberciti.biz/faq/how-linux-file-permissions-work/](http://www.cyberciti.biz/faq/how-linux-file-permissions-work/)

# sql-server-2008 - 在 SQLite 中进行 INSERT、UPDATE 和 DELETE 时将数据从 SQLite 传输到 SQL Server 2008

> ID：15355963
> 
> 赞同：1
> 
> 时间：2013-03-12T07:57:59.653
> 
> 标签：sql-server-2008, sqlite, triggers, insert-update

我有 SQLite 和 SQL Server 2008 r2 来存储信息..

他们都有相同的数据库表..

*例如：* 在 SQLite 我有如下表

**玩家信息：**

```
PlayerName  SteamID     Score
Pandian     123.34.56   100 
```

在 SQL Server 中，我也有相同结构的同一张表......

当时`Insert`，`Update`或`Delete`在 SQLite 中，我想将数据从 SQLite 传输到 SQL Server...

是否有可能实现这一目标......？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T00:20:16.113

不，SQLite 中无法触发另一个 DBMS 中的某些内容。它们是不交流的不同世界。复制更改的唯一方法是在您的代码中复制它们。

# ms-access - INSERT 语句出错

> ID：15355970
> 
> 赞同：0
> 
> 时间：2013-03-12T07:58:41.883
> 
> 标签：ms-access, insert, ms-access-2010, oledb

我一遍又一遍地遇到错误，有人可以告诉我我的 INSERT 语句有什么问题吗？

这是我的代码：

```
 Dim SQLcon As New OleDbConnection
        Dim SQLdr As OleDbDataReader
        Try
            SQLcon.ConnectionString = "Provider=Microsoft.ACE.OleDb.12.0;" & _
                                       "Data Source= C:\Users\cleanfuel\Desktop\ProgramniOrig\DBhospital.accdb"
            Dim SQLcmd As New OleDbCommand("INSERT INTO tblLogin (Username,Password,SecretQuestion,SecretAnswer)" & _
                                         "VALUES(@Username,@Password,@SecretQuestion,@SecretAnswer)", SQLcon)
            SQLcmd.Parameters.AddWithValue("@Username", txtUser.Text)
            SQLcmd.Parameters.AddWithValue("@Password", txtPass.Text)
            SQLcmd.Parameters.AddWithValue("@SecretQuestion", txtSecretQ.Text)
            SQLcmd.Parameters.AddWithValue("@SecretAnswer", txtSecretA.Text)
            SQLcon.Open()
            MsgBox("Patient Added!", MsgBoxStyle.Information)
            SQLdr = SQLcmd.ExecuteReader()
        Catch ex As Exception
            MessageBox.Show("Error Occured, Can't Register!" & ex.Message)
        Finally
            SQLcon.Close()
        End Try
        Return "" 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T08:02:01.630

尝试`PASSWORD`用`[]`

```
Dim _query As String = "INSERT INTO tblLogin (Username, " & _
                       "[Password], SecretQuestion, SecretAnswer) " & _
                       "VALUES(@Username, @Password, " & _
                              "@SecretQuestion,@SecretAnswer)"
Dim SQLcmd As New OleDbCommand(_query, SQLcon) 
```

*   [MS ACCESS 保留关键字](http://office.microsoft.com/en-001/access-help/access-2007-reserved-words-and-symbols-HA010030643.aspx)

# css - 有没有办法将 :hover 添加到 CSS :first-line 伪类？

> ID：15355972
> 
> 赞同：7
> 
> 时间：2013-03-12T07:58:48.170
> 
> 标签：css, pseudo-class

我一直在为 HTML 标记修改一些 CSS。我面临的问题是已经使用 CSS`:first-line`伪类应用了一种样式。我想要的是在悬停状态下更改第一行的样式。有没有办法应用类似的东西`p:first-line:hover`？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-03-12T08:21:49.577

您必须先定义，`p:first-line`然后才能像这样定义链`p:first-line:hover`：
`p:first-line { color: black; }
p:hover:first-line { color: red; }`

[小提琴](http://jsfiddle.net/gMRVf/6/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-12T08:26:08.260

很吸引人的话题！我尝试了一个 jQuery 版本，发现即使这样也行不通。在 Firefox 中，必须首先应用该类才能进行悬停，如您在此[Fiddle](http://jsfiddle.net/gMRVf/3/)中所见。但是 WebKit 完全忽略了`:first-line`动态类添加。

```
<p class="hovered">Text .... </p> 
```

对于 Firefox，必须在 HTML 代码中设置类。现在，下面的工作就完成了。

```
jQuery('p').removeClass('hovered');

jQuery('p').hover(function() {
    jQuery(this).addClass('hovered');
}, function() {
    jQuery(this).removeClass('hovered');
}); 
```

但在 WebKit 中不起作用。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-12T08:07:17.517

是的，您可以将它们链接起来（看看[这里](http://css-tricks.com/pseudo-class-selectors/)）。

```
p:hover:first-line 
```

# jquery - JQuery 1.9 不触发 setData 事件

> ID：15355974
> 
> 赞同：4
> 
> 时间：2013-03-12T07:58:56.347
> 
> 标签：jquery, events, bind

以下代码适用于 JQuery 1.8 但不适用于 JQuery 1.9

```
<div id="time" class="updateTime"></div>

$(document).ready(function() {

$('#time').on('setData', function(evt, key, value) {
    if ( key == 'clock' ) {
        $(this).html( value );
    }
});

setInterval(function() {
    var time = (new Date()).toString();
    $('#time').data('clock', time );    
}, 1000);

}); 
```

[JSfiddle](http://jsfiddle.net/Sz7qh/)

任何人请解释我

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-12T08:07:45.250

请参阅[http://bugs.jquery.com/ticket/11718](http://bugs.jquery.com/ticket/11718)：

> 无需更改文档，因为这些事件从未正式记录过。Googlebot：抓取此页面*并告知数据事件已被弃用，应在 1.9 中删除*。

这是一个可能的补丁（未经测试）：

```
(function () {
    var olddata = $.fn.data;
    $.fn.data = function (key, value) {
        olddata.call(this, arguments);
        if (value !== undefined) $(this).trigger('setData', [key, value]);
    };
})(); 
```

演示：http: [//jsfiddle.net/Pufru/](http://jsfiddle.net/Pufru/)

# c# - ASP.Net LoginStatus 注销重定向

> ID：15355976
> 
> 赞同：1
> 
> 时间：2013-03-12T07:59:01.503
> 
> 标签：c#, asp.net, authentication

```
<asp:LoginStatus ID="LoginStatus1" runat="server" LogoutAction="Redirect" 
                             LogoutPageUrl="~/" onloggedout="LoginStatus1_LoggedOut" 
                             onloggingout="LoginStatus1_LoggingOut" /></li> 
```

这是我的登录状态，我的问题是当我尝试注销时，它转到链接

> /Default.aspx?ReturnUrl=%2fAdmin%2fDefault.aspx

并显示错误

> 此网页有重定向循环 /Default.aspx?ReturnUrl=%2fAdmin%2fDefault.aspx 的网页导致重定向过多。清除此站点的 cookie 或允许第三方 cookie 可能会解决问题。如果不是，则可能是服务器配置问题，而不是您的计算机问题。

我会怎么做才能避免这种重定向？提前谢谢你们！:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T08:02:02.713

您是否返回了 returnURL 的代码？请检查 URL 是否包含注销然后从 URL 中删除。

尝试如下

```
if (Request.QueryString("ReturnURL") != null) { 

    Response.Redirect("login.aspx"); 
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T17:07:15.853

我已经解决了我的问题。谢谢回复的人。

> 我在我的登录页面 (Page_Load) 中放置了一个 response.redirect。

我认为这是我删除它时的问题，我的问题已解决。

# c++ - 用于检测程序的计算机资源使用情况的 Linux 命令

> ID：15355978
> 
> 赞同：2
> 
> 时间：2013-03-12T07:59:04.813
> 
> 标签：c++, c, linux, operating-system

假设有两个程序在`a.out`做`b.out`同样的事情：对元素进行排序。`a.out`实现一个`QuickSort`需要时间和内存的排序算法，实现一个需要`O(nlogn)`时间和内存`O(logn)`的排序算法。我想对这两种算法的时间和内存比较有一些直观的感受，那么有没有Linux命令可以测量程序运行后的时间和内存使用情况？`b.out``BubbleSort``O(n^2)``O(1)`

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-12T08:16:18.750

以编程方式，我将使用`getrusage()`，它允许您测量单个函数，并且比仅`time`或更详细`top`。例如：

```
#include <sys/time.h>
#include <sys/resource.h>
#include <unistd.h>

int main (int argc, char *argv[])
{
    struct rusage start;
    struct rusage end;

    getrusage (RUSAGE_SELF, &start);    // get time at start

    some_function ();                   // Function to measure

    getrusage (RUSAGE_SELF, &end);      // get time at end

    printf ("System: %d usecs, User: %d usecs\n",
            end.ru_stime.tv_usec - start.ru_stime.tv_usec,
            end.ru_utime.tv_usec - start.ru_utime.tv_usec);
... 
```

该`rusage`结构包含以下内容：

```
struct rusage {
    struct timeval ru_utime;    // user time used
    struct timeval ru_stime;    // system time used
    long   ru_maxrss;           // maximum resident set size
    long   ru_ixrss;            // integral shared memory size   
    long   ru_idrss;            // integral unshared data size
    long   ru_isrss;            // integral unshared stack size
    long   ru_minflt;           // page reclaims
    long   ru_majflt;           // page faults
    long   ru_nswap;            // swaps
    long   ru_inblock;          // block input operations
    long   ru_oublock;          // block output operations
    long   ru_msgsnd;           // messages sent
    long   ru_msgrcv;           // messages received
    long   ru_nsignals;         // signals received
    long   ru_nvcsw;            // voluntary context switches
    long   ru_nivcsw;           // involuntary context switches
}; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-12T08:01:24.597

使用时间将为您提供程序的真实时间、用户时间和系统时间。例如

```
 time ./a.out 
```

**top**命令可用于内存使用。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-12T08:01:38.570

try `time`- 计时一个简单的命令或给出资源使用情况。GNU 版本还报告内存使用情况：

```
/usr/bin/time --format="real\t%e\nuser\t%U\nsys\t%S\nmem:\t%M" -- ./a.out 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-12T08:03:54.530

要获取程序的时间，您可以点击以下链接。它显示了如何使用`time`命令。

[在shell中获取程序执行时间](https://stackoverflow.com/questions/385408/get-program-execution-time-in-the-shell)

关于内存资源，请查看以下链接了解如何`top`在 linux 中使用命令。

[http://linux.about.com/od/commands/l/blcmdl1_top.htm](http://linux.about.com/od/commands/l/blcmdl1_top.htm)

# asp.net-mvc - 如何将带有现有 sql 数据库的 asp.net mvc 4 项目发布到 Windows azure？

> ID：15355983
> 
> 赞同：0
> 
> 时间：2013-03-12T07:59:19.870
> 
> 标签：asp.net-mvc, database, azure, asp.net-mvc-4, azure-storage

我有一个 mvc 4 项目，它使用已经填充了数据的 sql 数据库。我找到 [了关于如何在 Windows azure 中创建新的 sql 数据库的教程](http://www.windowsazure.com/en-us/develop/net/tutorials/web-site-with-sql-database/)，但是我可以使用我已经存在的数据库吗？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T16:29:31.683

我有一篇从[SQL 2005 到 SQL Azure 迁移的博客文章，其中描述了如何使用](http://berniecook.wordpress.com/2012/05/28/sql-2005-to-sql-azure-migration/)[SQL 数据库迁移向导](http://sqlazuremw.codeplex.com/)来实现这一点。

它本身不使用 ASP.NET MVC 或 SQL 2008 R2，但如果您的唯一目的是将本地数据库导入 SQL Azure，它仍然可以工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T09:15:05.570

谷歌快速搜索：[SQL 数据库迁移向导 (SQLAzureMW) 旨在帮助您将 SQL Server 2005/2008/2012 数据库迁移到 Azure SQL 数据库。](http://sqlazuremw.codeplex.com/)

# php - 从存储在数据库中的路径显示图像

> ID：15355986
> 
> 赞同：0
> 
> 时间：2013-03-12T07:59:28.420
> 
> 标签：php, mysql, json, jquery

我想显示来自 JSON 对象的图像以及存储在 MySQL 数据库中的图像路径。

我有**用户**表，其中包含：

*   用户身份
*   用户名
*   user_img_path
*   用户地址

现在，我正在使用 PHP 发起一个查询，例如：

```
SELECT `user_id`, `username`,`user_img_path` FROM `users` 
```

我将输出存储在一个数组中`$rows`，并将这个数组编码为 JSON 为

```
json_encode($rows); 
```

我在我的 jQuery`ajax`调用中调用这个 PHP 文件并获取 JSON 输出。我可以正确显示其他信息，但问题是我无法使用 jQuery 以 HTML 格式显示图像`ajax`。

```
function  callAjax1()
{
    $.ajax({
        url: 'userApi.php',
        data: "",
        dataType: 'json',
        success:function(rows)
        {
            $.each(rows,function(i,item)
            {
                var user_id=rows[i].user_id;
                var user_name=rows[i].user_name;
                var user_img_path=rows[i].user_img_path;
                console.log(user_id,user_name,user_img_path);
                $("#poll_left_body").append('<a href="#">  <img     src=\https://url/"'+user_img_path+'<label id="user_name" rel="tooltip" title=" Edward  11,356" style="color:black;">'+user_name+'</label></a><a href="/twitter/bootstrap/network" class="social-count">11,356</a>');
            });
        }
    });
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T08:10:13.003

尝试将 user_img_path 放入变量并使用 javascript

```
var img = document.createElement("img");
img.src = user_img_path;  
var body = document.body;  // use element where you want to display image
body.appendChild(img); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T13:27:53.537

似乎您无法设置图像的路径。您可以执行以下操作：

1）确保您从数据库获取的路径是正确的，并尝试对其进行硬编码并检查图像显示与否。

2）如果你的路径是正确的，你需要检查你得到什么 json 输出？存储在数据库中的相同吗？检查你可以使用萤火虫（控制台标签）

3）如果上述步骤最后正确并且重要的是通过您的代码检查HTML呈现。如果代码也是正确的。那么你必须能够看到图像（如果没有进一步的问题）

希望能帮助到你。

# php - 数据库保存和检索最后保存的值

> ID：15355989
> 
> 赞同：4
> 
> 时间：2013-03-12T07:59:42.563
> 
> 标签：php, javascript, mysql

我对逻辑感到困惑..这是我首先要验证的表单，然后我想将其保存在数据库中，然后我想将其显示在另一个页面上。

我已经验证了它（将表单传输（即表单操作）到同一页面），我已经将它保存在数据库中，现在我正试图在另一个页面上显示数据。

我的想法是，我会将数据保存到数据库并将一些唯一值传输到另一个页面，可能是数据库自动生成的与同一表单相关的某种数字。

现在我有问题怎么办？有什么想法吗？

因为这是一个逻辑，所以我标记了 php、MySQL 和 JS

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-12T08:04:49.043

执行类似这样的操作后调用[mysql_insert_id() ，](http://php.net/manual/en/function.mysql-insert-id.php)`INSERT`

```
$lastInsertedId =  mysql_insert_id(); # Assuming you have an auto increment column in your table.
header('Location: view.php?id='.$lastInsertedId); 
```

比您`view.php`获取 id & fetch 记录来显示它，

```
$id = $_GET['id']; 
```

**注意**：[**请不要`mysql_*`在新代码中使用函数**](https://stackoverflow.com/q/12859942/)。它们不再被维护[并被正式弃用](https://wiki.php.net/rfc/mysql_deprecation)。看到[**红框**](https://www.php.net/manual/en/function.mysql-connect.php)了吗？改为了解[*准备好的语句*](https://en.wikipedia.org/wiki/Prepared_statement)，并使用[PDO](http://php.net/pdo)或[MySQLi](http://php.net/mysqli) -[本文](https://php.net/manual/en/mysqlinfo.api.choosing.php)将帮助您决定使用哪个。如果您选择 PDO，[这里有一个很好的教程](http://wiki.hashphp.org/PDO_Tutorial_for_MySQL_Developers)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-12T08:15:50.813

插入查询后，使用

```
$lastID = mysql_insert_id(); 
```

之后，您可以重定向到另一个页面，例如，

```
header("location:view_page.php?id=$lastID"); 
```

比在 view_page.php 页面中，使用

$lastID= $_GET['id'];

然后从数据库中获取记录以显示数据。

***注意：只有当您的数据库表具有自动递增字段作为索引键时，它才会起作用。***

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-12T08:29:24.050

使用`mysql_insert_id()`是一种方式。但是，如果您不想查询您的数据库并且仍然拥有它，那么您可以这样做。下面是例子

```
<form name="frm" method="POST" action="display.php">
 <input type="text" name="your_name" value="" />
 <input type="text" name="age" value="" />
 <input type="submit" name="save" value="Save" />
</form> 
```

现在在您的**display.php**页面中

```
<?php
 // DO YOUR DATABASE CONNECTIVITY
 $name = $_POST['your_name'];
 $age = $_POST['age'];

 $query = "insert into table_name values('$name','$age')";
 if(mysql_query($insert)) {

?>
<table>
 <tr>
  <td>Name</td>
  <td>Age</td>
 </tr>
 <tr>
  <td><?php echo $name;?></td>
  <td><?php echo $age;?></td>
 </tr>
</table>
<?php } else { echo "No Insertion"; } ?> 
```

**记住 mysql_* 函数已被贬值。所以避免那些。还要检查sql注入**

# c# - 我已经通过 gmail 帐户收到电子邮件，但在 asp.net c# 中没有收到其他帐户，例如 yahoo、hotmail 等

> ID：15355998
> 
> 赞同：0
> 
> 时间：2013-03-12T08:00:14.860
> 
> 标签：c#, asp.net

我的代码是：

```
using System.Net.Mail;<br/>
using System.Net;<br/>
public partial class Index : System.Web.UI.Page
{
protected void Page_Load(object sender, EventArgs e)
{

}
protected void home_btn_Click(object sender, ImageClickEventArgs e)
{
     MailMessage msg = new MailMessage();
     msg.From = new MailAddress(home_mail.Text);
     msg.To.Add(new MailAddress("ashwanirawat22@gmail.com"));
    //msg.CC.Add ( new MailAddress(txtcc.Text));
    //msg.Subject = txtSubject.Text;
    msg.Body = home_msg.Text;
    msg.IsBodyHtml = false;
    SmtpClient smtp = new SmtpClient();
    smtp.Host = "smtp.gmail.com";
    smtp.Credentials = new System.Net.NetworkCredential(home_mail.Text,home_pass.Text);
    label1.Visible = true;
    smtp.EnableSsl = true;
    try
    {
        smtp.Send(msg);
        label1.Text = "Email Send";

    }
    catch
    {
        label1.Text = "Email Failed";
    }
    home_msg.Text = "";
    home_mail.Text = "";
    home_pass.Text = "";
     }
} 
```

html代码是：

```
Message: <asp:TextBox ID="home_msg" Rows="5" Columns="45" TextMode="MultiLine"runat="server">
</asp:TextBox><br/>
From: <asp:TextBox ID="home_mail"  runat="server" Height="30px" Width="380px"></asp:TextBox></div><br />
Password:
<asp:TextBox ID="home_pass"  runat="server" Height="30px" Width="380px" TextMode="Password"></asp:TextBox>
&nbsp; <asp:ImageButton ID="home_btn" ImageUrl="~/images/button.png" runat="server" 
Height="30px" Width="75px" onclick="home_btn_Click" />
<asp:Label ID="label1" runat="server"></asp:Label> 
```

现在我的问题是我的帐户中只收到了 gmail 帐户邮件，但我还没有收到其他帐户，如 hotmail、yahoo 等邮件。如何在我的帐户中接收所有帐户邮件？？？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-06-26T12:18:45.820

为了发送和接收来自不同提供商的邮件，您必须更改`smtp.Host`属性。例如，

```
SmtpServer.Host = "smtp.mail.yahoo.com";
SmtpServer.Host = "smtp.live.com"; 
```

分别从雅虎发送和直播...