# StackOverflow 问答 14725000-14725999

# gwt - 标记 GWT 映射 V3 clickhandler 和 dblclickhandler

> ID：14725001
> 
> 赞同：0
> 
> 时间：2013-02-06T08:54:37.353
> 
> 标签：gwt, google-maps-api-3

我正在使用 gwt-maps-3.8.0，因为我想将 clickhandler 和 dblclickhandler 用于同一个标记。如果我们同时使用它，它就不起作用..请参考下面我的代码..

```
`VerticalPanel panel = new VerticalPanel();
GoogleMap mapWidget;
LatLng myLatLng = LatLng.create(13.774252, 80.190262);
        MapOptions myOptions = MapOptions.create();
        myOptions.setZoom(8.0);
        myOptions.setCenter(myLatLng);
        myOptions.setScaleControl(true);
        myOptions.setMapTypeId(MapTypeId.ROADMAP);
        mapWidget = GoogleMap.create(panel.getElement(), myOptions);
Marker marker = Marker.create();
        marker.setMap(mapWidget);
marker.addDblClickListener(new DblClickHandler() {

            @Override
            public void handle(MouseEvent event) {
                Window.alert("Double Click");
            }
        });
        marker.addClickListener(new ClickHandler() {

            @Override
            public void handle(MouseEvent event) {
                Window.alert("Single");
            }
        });` 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T12:03:41.300

看起来 Click (single) 处理程序将被触发。这就是正在发生的事情吗？

我怀疑当用户双击时，第一次点击会在检测到第二次点击之前触发点击事件。

我知道的唯一方法是有效地监听 ClickHandler 中的第二次点击。这是一个您可能会觉得有用的 Java 示例（不是 GWT）：http: [//blogs.sophiacom.fr/flex/2008/08/double-click.html](http://blogs.sophiacom.fr/flex/2008/08/double-click.html)

有谁知道更清洁的方法来做到这一点？

或者“如果我们同时使用它就不起作用”你的意思是标记没有出现吗？如果是这样，这可能是因为您没有设置标记位置：

```
marker.setPosition(myLatLng); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-21T07:06:35.070

我通过在 Single Click Handler 中调用一些异步调用来做到这一点，该调用延迟并允许对同一标记进行双击处理程序。[在此处](http://ameenit.blogspot.in/2013/02/marker-gwt-maps-v3-single-and-double.html)检查 GWT 代码

# c# - C#从字符串中删除电话号码？

> ID：14725004
> 
> 赞同：-7
> 
> 时间：2013-02-06T08:54:43.597
> 
> 标签：c#, regex, string

如何从字符串中删除以下格式的电话号码？

xxx-xxxxxxx 或 xxx-xxx-xxxx 或 xxxxxxxxxx

其中 x 是任意数字。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T09:04:53.337

这应该有助于：

```
var myRegex = new Regex(@"((\d){3}-1234567)|((\d){3}\-(\d){3}\-4567)|((\d){3}1234567)");
string newStringWithoutPhoneNumbers =  myRegex.Replace("oldStringWithPhoneNumbers", string.Empty); 
```

# ruby-on-rails - 更改列名并设置默认值

> ID：14725010
> 
> 赞同：3
> 
> 时间：2013-02-06T08:55:05.053
> 
> 标签：ruby-on-rails

我跑：

```
rails generate migration AddShowmsgColumnToPublishers show_msg:boolean
rake db:migrate 
```

但是现在，我想将列的名称更改为“hide_msg”并将默认值设置为 false。

请问我该怎么做？

我读到我必须做类似的事情：

**第一步：**

```
rails generate migration FixColumnName

class FixColumnName < ActiveRecord::Migration
  def change
    rename_column :publishers, :show_msg, :hide_msg
  end
end 
```

**第二步：**

```
rails generate migration add_default_value_to_hide_msg 
```

**第三步：**将文件编辑成：

```
def up
    change_column :profiles, :show_attribute, :boolean, :default => false
end

def down
    change_column :profiles, :show_attribute, :boolean, :default => nil
end 
```

**最后：**

```
rake db:migrate 
```

但是没有其他方法可以使用一个命令吗？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-06T09:16:19.170

您也可以在一次迁移中同时指定两者。例如

```
class FixColumn < ActiveRecord::Migration
  def up
    rename_column :publishers, :show_msg, :hide_msg
    change_column :publishers, :hide_msg, :boolean, :default => false
  end

  def down
    rename_column :publishers, :hide_msg, :show_msg
    change_column :publishers, :show_msg, :boolean, :default => nil
  end
end 
```

然后运行`rake db:migrate`。对我来说很好:)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-06T09:02:34.953

你可以做 rake `db:rollback STEP=2`。

您可以将 2 替换为您想要返回的任意数量的迁移。

然后简单地做：

```
rails generate migration AddHidemsgColumnToPublishers hide_msg:boolean

rake db:migrate 
```

# java - Java 分析 - Tomcat 服务器终止

> ID：14725016
> 
> 赞同：2
> 
> 时间：2013-02-06T08:55:39.467
> 
> 标签：java, profiling, yourkit

我正在尝试使用 yourkit jprofiler 分析我的基于 spring/hibernate 的应用程序。每当我运行分析应用程序（与 yourkit 一起）时，tomcat 服务器在我提交表单后终止。数据正在成功插入。我得到以下错误。

```
# An unexpected error has been detected by Java Runtime Environment:
#
#  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x6d8f6077, pid=1932, tid=5364
#
# Java VM: Java HotSpot(TM) Client VM (1.6.0-b105 mixed mode, sharing)
# Problematic frame:
# V  [jvm.dll+0x136077]
#
# An error report file with more information is saved as hs_err_pid1932.log
#
# If you would like to submit a bug report, please visit:
#   http://java.sun.com/webapps/bugreport/crash.jsp 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-06T09:02:40.250

有一个已知的错误和补救措施

> Sun Java (HotSpot) 客户端 JVM 可能由于 JVM 错误而在附加模式下崩溃
> 
> 由于 JVM 错误 [6776659](http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6776659) HotSpot 客户端 JVM 可能在附加模式下崩溃。

服务器 JVM 没有崩溃：`JVM option -server solves the problem`.

[参考](http://www.yourkit.com/docs/95/help/attach_agent.jsp)

# python - 从python读取csv文件

> ID：14725020
> 
> 赞同：0
> 
> 时间：2013-02-06T08:55:59.830
> 
> 标签：python, csv, xls

我在excel文件中有一些数据。我将文件更改为 .csv 文件并尝试编写一些 python 代码来读取文件。

但是我得到了一些不可预测的输出。我的代码是这样的：

```
INPUT_DIR = os.path.join(os.getcwd(),"Input")
OUTPUT_DIR = os.path.join(os.getcwd(),"Output")
print INPUT_DIR, OUTPUT_DIR 

def read_csv():    
    files = os.listdir(INPUT_DIR)
    for file in files:
        file_full_name = os.path.join(INPUT_DIR,file)
        print file_full_name
        f = open(file_full_name,'r')
        for line in f.readlines():
            print "Line: ", line

def create_sql_file():
    print "Hi"

if __name__ == '__main__':
    read_csv()
    create_sql_file() 
```

这给出了非常奇特的输出：

```
 C:\calcWorkspace\13.1.1.0\PythonTest\src\Input C:\calcWorkspace\13.1.1.0\PythonTest\src\Output
C:\calcWorkspace\13.1.1.0\PythonTest\src\Input\Country Risk System Priority Data_01232013 - Copy.csv
Line:  PK** 
```

有人知道这个问题吗？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-02-06T09:00:16.223

首先，确保使用 Excel 中的`Save As`菜单将文件从 Excel 转换为 csv。简单地更改扩展名是行不通的。您看到的输出是来自 Excel 的本机格式的数据。

转换文件后，使用[`csv`模块](http://docs.python.org/2/library/csv.html)：

```
import csv

for filename in os.listdir(INPUT_DIR):
   with open(os.path.join(INPUT_DIR,filename), dialect='excel-tab') as infile:
      reader = csv.reader(infile)
      for row in reader:
          print row 
```

如果要读取原始 Excel 文件，请使用[`xlrd`模块](http://www.python-excel.org/). 这是一个显示如何读取 Excel 文件的[示例。](https://raw.github.com/python-excel/tutorial/master/students/xlrd/simple.py)

# latex - 将乳胶表转换为组织模式表的工具？

> ID：14725022
> 
> 赞同：2
> 
> 时间：2013-02-06T08:56:06.163
> 
> 标签：latex, org-mode

我有一张比较大的乳胶桌。有没有工具可以帮助我将其转换为 org-mode？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T09:20:30.727

可能是[Pandoc](http://johnmacfarlane.net/pandoc/) (GPL)，*“用于从一种标记格式转换为另一种标记格式的 Haskell 库，以及使用该库的命令行工具”*。

# regex - AWK 代码解析器，区分除法和正则表达式

> ID：14725024
> 
> 赞同：2
> 
> 时间：2013-02-06T08:56:06.650
> 
> 标签：regex, parsing, awk, division

我正在研究通用代码解析器/荧光笔，一位用户报告说他在使用 AWK 代码时遇到了问题。

基本上，AWK 将“/”字符定义为除法运算符和正则表达式分隔符“/../”。我想知道如何区分这两者。什么时候是'/'除法运算符，它什么时候代表正则表达式的开始？

大多数网站只会告诉您“'/' 的含义取决于上下文”，但我想知道是否有一个简单的规则用于区分正斜杠的两种含义。

我从来没有使用过 AWK，我对它的内部一无所知，我只是在寻找一种解析 AWK 代码的方法。那么，根据上下文解析“/”的逻辑是什么。如果您愿意，可以编写文字说明或进行代码（或伪代码）演示。不过，我更喜欢不使用正则表达式的简单 C 代码。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-06T16:10:25.763

通常，`//`文字正则表达式永远不会紧跟在文字或变量名之前。前面可能有`~`,`!`和其他一些运算符。在某些情况下`//`隐含的意思是`$0 ~ //`。

`/`除法运算符之前总是有一个右值（变量、函数调用、文字、表达式），作为`/=`一种特殊情况。

请注意，`awk`对空格的处理不如`C`,

```
printf("%i", 1
/2/3); 
```

在 awk 中无效。然而，这些*是*有效的（ish）awk（用`gawk`and测试`nawk`）：

```
/a/+0/2 {print}     # regex /a/
b /a/+0/2 {print}   # not a regex (divide by zero)
## nawk will not accept anything after this line, gawk only
// {print}          # empty regex, awk is not C99
/**/ {print }       # dubious regex
/*/ { print "*/" }  # awk is not C
{print //}          # prints 1, equiv to ($0 ~ //)
/[/]/ { print }     # tricky regex 
```

这不是一个简单的任务，如果您熟悉标记化和解析，请从这里开始：

*   [http://ftp.math.utah.edu/pub/awkpretty/](http://ftp.math.utah.edu/pub/awkpretty/)
*   [在对 gawk 代码进行词法分析时区分除法和正则表达式](https://stackoverflow.com/questions/12665213/differentiating-division-from-regex-when-lexing-gawk-code)

（古代）`awkgram.y`（包含在 中`awkpretty`）比`gawk`'s 更简单。

您可能比解析以下输出做得更糟`awkpretty`：

```
$ awklex  '/a/+0/2 {print}'

# line 1 "/dev/stdin"
 47     token 47        /
335     REGEXPR a
 47     token 47        /
 43     token 43        +
333     NUMBER  0
 47     token 47        /
333     NUMBER  2
337     WHITESPACE       
123     token 123       {
319     PRINT   print
 59     token 59        }
125     token 125       }
  0     token 0 
```

不过，这将限制您使用`nawk`兼容的语法。

（如果您需要编译，`awkpretty`请注意使用旧的`bison`，`bison-1.35`为我使用 " `YACC=bison-1.35 -y"`before `configure`。）

**编辑：**的输出似乎有点奇怪`awklex`，标记 59 是`;`，最后`token 59`可能是一个隐含的终止符，但它被歪曲为`}`. 中的注释`awkunlex.awk`意味着它是一个错误。

```
$ awklex  '/a/+0/2 {print}' | gawk -f awkunlex.awk 
/a/+0/2 {print} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-06T14:34:28.523

POSIX 标准（[http://pubs.opengroup.org/onlinepubs/009695399/utilities/awk.html](http://pubs.opengroup.org/onlinepubs/009695399/utilities/awk.html)）说

```
In some contexts, a slash ( '/' ) that is used to surround an ERE could also
be the division operator. This shall be resolved in such a way that wherever
the division operator could appear, a slash is assumed to be the division
operator. (There is no unary division operator.) 
```

请参阅“语法”部分，[http](http://pubs.opengroup.org/onlinepubs/009695399/utilities/awk.html#tag_04_06_13_16) ://pubs.opengroup.org/onlinepubs/009695399/utilities/awk.html#tag_04_06_13_16 。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-06T12:10:00.030

我认为你必须研究“这是一个计算”。从中获得是/否，并采取适当的行动。正则表达式可以将自己伪装成有效的算术吗？我可能是错的，但无法想象它。

# php - 调用mysql存储过程后执行查询

> ID：14725025
> 
> 赞同：1
> 
> 时间：2013-02-06T08:56:09.477
> 
> 标签：php, mysql, stored-procedures

我对mysql中的存储过程有一些问题。这是我的存储过程代码：

```
DELIMITER $$

CREATE PROCEDURE `projects_grid`(in pagination varchar(100))
BEGIN
DECLARE a,b INT;
declare percent float;
DECLARE cur_1 CURSOR FOR SELECT id FROM tbl_projects;
    DECLARE CONTINUE HANDLER FOR NOT FOUND
SET b = 1;
drop temporary  table IF EXISTS tbl_temp ;
create Temporary table tbl_temp(id int,name varchar(100) charset utf8,project_name varchar(100) charset utf8,project_type varchar(100) charset utf8,start_date int,end_date int,percent varchar(5));
OPEN cur_1;
REPEAT
FETCH cur_1 INTO a;
set @name='';
set @project_type='';
set @project_name='';
set @b_date='';
set @e_date='';
set @percent='';
set @e_id='';
set @p_id='';
set @completed_rows_count=0;
set @rows_count=0;
select project, (select name from tbl_client where id=tbl_projects.employer_id) as name,(select name from tbl_project_type where id=tbl_projects.project_type_id) as project_name,contract_begin_date,contract_terminate_date into @project_name,@name,@project_type,@b_date,@e_date from tbl_projects where id=a;
SELECT count(PS.status) into @completed_rows_count FROM  tbl_projects_status AS PS JOIN tbl_projects_results AS S ON PS.projects_results_id = S.id where project_id=a and PS.status='1';
SELECT count(PS.status) into @rows_count FROM tbl_projects_status AS PS JOIN tbl_projects_results AS S ON PS.projects_results_id = S.id where project_id=a;
set percent=(@completed_rows_count/@rows_count)*100;
insert into tbl_temp values(a,@project_name,@name,@project_type,@b_date,@e_date,concat(percent,'%'));
UNTIL b = 1
END REPEAT;
CLOSE cur_1;
set @pagination=pagination;
set @query=concat('SELECT distinct(id),name,project_name,project_type,start_date,end_date,percent FROM tbl_temp ',@pagination);
PREPARE stmp FROM @query;
EXECUTE stmp;
DEALLOCATE PREPARE stmp;
END 
```

这是我的 php 代码：

```
<?php
require_once 'bootstrap.php';
$query="call projects_grid('')";
$result=mysql_fetch_array(mysql_query($query));
foreach($result as $record)
{
    echo $record;
}
$query="select count(*) from tbl_projects";
$result=mysql_query($query); // Boolean false given :(
$result=mysql_fetch_row($result);
echo $result[0];
?> 
```

当我在程序之后执行查询时，在调试模式下，系统显示我给定的布尔值是 false！。如何在调用存储过程后执行查询？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-28T07:18:43.887

最后我找到了答案：使用 mysqli 而不是 mysql。

```
$mysqli = new mysqli('your_hostname','your_username' ,'your_password','your_db_name');
$result=$mysqli->query($query);
$result->data_seek(0); 
```

执行查询后，您必须使用以下命令：

```
mysqli_free_result();
mysqli_next_result($mysqli); 
```

祝你好运！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T09:07:52.247

`mysql_query()`我们可以在其[手册页](http://www.php.net/manual/en/function.mysql-query.php#example-1662)中找到该功能的使用示例：

```
$result = mysql_query('SELECT * WHERE 1=1');
if (!$result) {
    die('Invalid query: ' . mysql_error());
} 
```

总结一下：

1.  `mysql_query()``false`查询失败时返回
2.  `mysql_error()`返回错误信息

[PS 您还可以看到*“此扩展自 PHP 5.5.0 起已弃用，将来将被删除”*警告，但我想您已经知道了。]

**编辑：** “*命令不同步；您现在无法运行此命令”*错误消息通常可以通过使用[mysql_free_result()](http://php.net/mysql_free_result)释放先前的结果集来修复。并不是说您的存储过程一定有问题——遗留的 mysql 扩展在设计时并没有真正考虑到存储例程。

# python - 在 Flask 应用程序中使用 Alembic 和 Flask-SQLAlchemy 检测对 models.py 的更改

> ID：14725029
> 
> 赞同：1
> 
> 时间：2013-02-06T08:56:22.160
> 
> 标签：python, sqlalchemy, flask, flask-sqlalchemy, alembic

我正在尝试将 Alembic 与 Flask-SQLAlchemy 和 Flask 一起使用。这是我的应用程序目录结构

```
/myapp
app.py
     /module1
     __init__.py
     views.py
          /module2
          __init__.py
          models.py
          alembic.ini
          /migrations
               env.py 
```

我在models.py 中有几个类。我想要的是一种方法，使 alembic 可以检查更改（如 models.py 中的任何新添加的类）并生成版本文件（在运行命令时），以便它反映在 upgrade() 函数中。

我如何做到这一点？我相信这应该是可能的，但不知道如何做到这一点！

PS：如果您需要任何额外的信息，请告诉我。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-06T10:49:32.180

```
alembic revision --autogenerate -m "<message_here>" 
```

和

```
alembic upgrade head 
```

是我需要的命令！

# java - 在 Jboss-Server 上部署 Web 应用程序

> ID：14725033
> 
> 赞同：0
> 
> 时间：2013-02-06T08:56:36.130
> 
> 标签：java, eclipse, jboss, jboss5.x

每次我们在项目中编写一些代码时，我们都需要清理项目，即使 Jboss 支持热部署，这也需要一些时间。是否有任何工具/技巧可以帮助我们在更短的时间内部署我们的 Web 应用程序？我正在使用 eclipse Juno 和 Jboss Application Server 5.1 请相应地指导。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T09:00:18.130

使用 maven 通过构建脚本进行热部署 [这](http://tech.tejusparikh.com/post/10920302006/jboss-hot-deploy-with-maven)可能会有所帮助

# php - 从 MySQL 数据库中填充动态添加的选择框

> ID：14725039
> 
> 赞同：0
> 
> 时间：2013-02-06T08:56:54.297
> 
> 标签：php, javascript

我在项目中的某个时候感到困惑。我在这里尝试做的事情如下：

从数据库中获取数据 使用按钮创建一个新的选择框 - 创建 使用数据库中的值填充此选择框 通过按钮删除该选择框的选项 - 删除

到目前为止我有 PHP/HTML 的代码：

```
 <button type="button" name="add" onclick="return false;" id="addField" class="nice_button">Добавить(ADD)</button>

   <button type="button" name="remove" onclick="return false;" id="remove" class="nice_button">Удалить(DELETE)</button>

 <tbody id="documentFields">
 <tr>
    <td>
        <select size="1" name="hardware[]" style='width:400px;'>
        <option value=""></option>
        <?php   while($hardware = $get_hardware->fetch_array()){
          echo "<option  value='".$hardware['st_id']."'>".$hardware['st_name']." ".$hardware['st_producer']." ".$hardware['st_model']."</option>";
        }
        ?>
        </select>
    </td>
</tr>
</tbody> 
```

到目前为止，我的 JS 脚本如下所示：

```
var g = 1;
var id = [ <? php echo $js_id; ?> ];
$(document).ready(function Product_add() {
    $("#addField").click(function () {
        $("#documentFields").append('<tr id="fieldset_p' + g + '"><td><select size="1" name="hardware[]" style="width:400px;"><option value=""></option></select></td></tr>');
        g++;
    });
});
$(document).ready(function Product_add() {
    $('#remove').click(function () { // similar to the previous, when you click remove link
        if (g > 1) { // if you have at least 1 input on the form
            g--; //deduct 1 from i so if i = 3, after i--, i will be i = 2
            $('#fieldset_p' + g + '').remove(); //remove the last fieldset  
        }
    });
}); 
```

问题是我不能附加 php 函数：while，所以我不能像以前那样填充这个选择框。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T09:07:08.707

在这种情况下，您可以使用 Ajax。

什么是ajax：

[http://en.wikipedia.org/wiki/Ajax_（编程）](http://en.wikipedia.org/wiki/Ajax_(programming))

它以特定格式提供仅包含您的信息的页面。然后用你的javascript调用它，然后将它解析到页面中。

文档如何在 jquery 中执行此操作：

[http://api.jquery.com/jQuery.ajax/](http://api.jquery.com/jQuery.ajax/)

* * *

更新：

代码示例：

```
$.get('ajax/test.html', function(data) {

    // read in data = = [{'option':'option 1'},{'option':'option 2'}]

      $.each(data, function(index, itemData) {
       /// do stuff
         $('<option>' + itemData.option + '</option>').appendTo('#myselectbox');
      });

}); 
```

# css - 字体在 IE 浏览器上不起作用

> ID：14725040
> 
> 赞同：2
> 
> 时间：2013-02-06T08:56:57.590
> 
> 标签：css, internet-explorer, font-face

我在 jquery 弹出窗口上应用了字体。它适用于 Chrome 和 Firefox，但不适用于 IE 浏览器。

```
Font Face Code in css
----------------------

@font-face {
font-family: "pt-sans";
    src: url("https://www.example.com/font/PTS55F.eot");
    src: local("pt-sans"),
     url("https://www.example.com/font/PTS55F.woff") format("woff"),
     url("https://www.example.com/font/PTS55F.ttf") format("truetype"),
     url("https://www.example.com/font/PTS55F.svg") format("svg"); 
 }

Code added in .htaccess
----------------------

# BEGIN REQUIRED FOR WEBFONTS

AddType font/ttf .ttf
AddType font/eot .eot
AddType font/otf .otf
AddType font/woff .woff

<FilesMatch "\.(ttf|otf|eot|woff)$">
    <IfModule mod_headers.c>
    Header set Access-Control-Allow-Origin "*"
    </IfModule>
</FilesMatch>

# END REQUIRED FOR WEBFONTS 
```

通过添加上面的代码 Font-face 正在页面上工作，但是当我在弹出字体上尝试相同的时候不起作用。

请帮助我。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-06T09:18:34.393

那是旧的 IE 错误 ;)

Bulletproof @font-face 语法：

```
@font-face {
    font-family: 'MyFontFamily';
    src: url('myfont-webfont.eot?#iefix') format('embedded-opentype'), 
         url('myfont-webfont.woff') format('woff'), 
         url('myfont-webfont.ttf')  format('truetype'),
         url('myfont-webfont.svg#svgFontName') format('svg');
    } 
```

### 什么？我不明白。

使这项工作有效的技巧是`?`遵循 EOT 文件名。**严重地**的。

### 浏览器兼容性

Safari 5.03、IE 6-9、Firefox 3.6-4、Chrome 8、iOS 3.2-4.2、Android 2.2-2.3、Opera 11

* * *

**编辑：**好像你有麻烦了，我正在研究类似的问题，似乎 IE 不能使用在站点域之外托管的 @fontface 字体（如果页面位于[http://www.mysite.com/page](http://www.mysite.com/page) -字体也必须在[http://www.mysite.com](http://www.mysite.com)出于某种原因，将 EOT 文件放在您的域上，然后再试一次。

这个类似的问题也将有所帮助：

*   [@font-face EOT 未通过 HTTPS 加载](https://stackoverflow.com/questions/7748140/font-face-eot-not-loading-over-https?rq=1)
*   [IE9 阻止下载跨域网络字体](https://stackoverflow.com/questions/5065362/ie9-blocks-download-of-cross-origin-web-font)
*   [使 Adob​​e 字体在 IE9 中与 CSS3 @font-face 一起使用](https://stackoverflow.com/questions/5587956/make-adobe-fonts-work-with-css3-font-face-in-ie9?rq=1)

他们很少有可能解决问题的办法。祝你好运！

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-06T09:22:45.677

在 css 中试试这个字体代码：

```
@font-face{
font-family:'pt-sans';
src:url('https://www.mysite.com/font/PTS55F.eot'); // IE9 Compat Modes
src:url('https://www.mysite.com/font/PTS55F.eot?#iefix') format('embedded-opentype'), // IE6-IE8
url('https://www.mysite.com/font/PTS55F.woff') format('woff'), // Modern Browsers
url('https://www.mysite.com/font/PTS55F.ttf') format('truetype'), // Safari, Android, iOS
url('https://www.mysite.com/font/PTS55F.svg#pt-sans') format('svg');  // Legacy iOS
font-weight:normal;
font-style:normal
} 
```

或者您可以将您的字体上传到：[http](http://www.fontsquirrel.com/fontface/generator) ://www.fontsquirrel.com/fontface/generator并获取 font-face 套件和 css，这也适用于所有浏览器。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-06T09:04:48.090

这是我使用的 hte 代码。但我从不需要任何 htaccess 代码。从来没有任何问题。

```
@font-face 
{    
    font-family: 'Robotothin';

    src: url('fonts/Roboto-Thin-webfont.eot');
    src: url('fonts/Roboto-Thin-webfont.eot?#iefix') format('embedded-opentype'),
         url('fonts/Roboto-Thin-webfont.woff') format('woff'),
         url('fonts/Roboto-Thin-webfont.ttf') format('truetype'),
         url('fonts/Roboto-Thin-webfont.svg#Robotothin') format('svg');

} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2014-07-28T11:43:52.477

这是一个老问题，但是我觉得最好现在回答它，因为即使在应用了所有可能的解决方案之后，我也遇到了与 IE 相同的问题。我假设这里有问题的网站托管在本地服务器上，这本质上是 IE 的问题。我花了一段时间才意识到，但我注意到我的实时网站有工作字体，而我的本地版本没有。默认情况下，IE 通常会应用一个设置来在本地托管网站（Intranet）的浏览器中显示兼容性视图模式，这意味着某些样式可能无法按预期正常工作，而且导入的字体通常也不起作用。

要禁用此设置，请通过单击右上角的齿轮/齿轮图标进入 IE 菜单 > 兼容性视图设置，然后取消选中“在兼容性视图中显示 Intranet 站点。这应该可以解决未来访问者的问题，我我正在使用 IE11 并且这种情况仍然存在，因此未来几年可能会保持不变，因为 IE 现在也只有无限的标签。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-12-04T22:04:16.613

归功于这个人/论坛： [http ://www.experts-exchange.com/Web_Development/Blogs/WordPress/Q_28367854.html](http://www.experts-exchange.com/Web_Development/Blogs/WordPress/Q_28367854.html)

**我在使用 IE11**时遇到了同样的问题，请在我的网站上使用字体 levenim。标题正确，一切都应如此。当我使用 CDN 或子域时，它不会加载，而在同一个域上时，它会完美加载。有什么问题？**文件名**。噗。

我使用“lvnm-webfont”作为文件基名，与字体名称不同。当它位于 CDN 或子域上时，它必须是 'levenim' 仅用于 IE。吃草对吗？我认为这与版权有关。

但是，当它是版权字体时，它会加载但从 CDN 或子域加载时不会使用，还有另一个问题。所以我对 IE 使用这个技巧只是为了加载字体（在 HTML 页面中）：

注意：*字体必须存在于域和子域中，并且必须在任何其他 CSS 之后加载（仅限 IE）*

```
<!--[if gte IE 7]]>
<style type="text/css">
@font-face {
    font-family: '__siteFont__';
    src: url('fonts/lvnm/lvnm-webfont.eot');
    src: local('☺'), url('fonts/lvnm/lvnm-webfont.woff') format('woff'), 
                     url('fonts/lvnm/lvnm-webfont.ttf') format('truetype'), 
                     url('fonts/lvnm/lvnm-webfont.svg#webfontTVnpYENL') format('svg');
    font-weight: normal;
    font-style: normal;
}
</style>
<![endif]--> 
```

我可以做得更高效，因为我可以在模板和 CSS 中使用 IF 语句来避免额外的服务器查找（我的框架的一部分）。像这样的东西：

在 CSS 中：

```
/* #IF !$is_msie */
<load font from CDN>
/* #ENDIF */ 
```

在 HTML 中：

```
<!-- #IF $is_msie -->
<load font from domain>
<!-- #ENDIF --> 
```

您也可以选择从您的域加载字体，但是当从子域提供 css 文件时，您不能这样做，您在 IE 中遇到了同样的问题。在这种情况下，您需要在 HTML（模板）中添加样式标记，如上面的示例，但没有 IE 的条件注释。

希望它有所帮助。

# internet-explorer - CSS3 关键帧不会覆盖 FF 和 IE10 中的默认背景颜色

> ID：14725044
> 
> 赞同：1
> 
> 时间：2013-02-06T08:57:11.150
> 
> 标签：internet-explorer, firefox, css, css-transitions, css-animations

在 chrome 中，这可以按预期工作：

“-webkit-animation:fadeBox 1s ease-in-out”覆盖 #lightbox{} 中的“background-color: rgba(255,255,255,.9)”。

但在 Mozilla 和 ie10 中，#lightbox 中的“背景颜色：rgba(255,255,255,.9)”似乎覆盖了动画：fadeBox 4s ease-in-out；而且我没有褪色效果。

我必须在#lightbox 中有“背景颜色：rgba(255,255,255,.9)”，所以当关键帧完成后，背景颜色保持白色。

不确定如何为 Firefox 和 IE10 处理此问题。

```
#lightbox {
    position: fixed;
    left: 0px;
    right: 0px;
    bottom: 0px;
    top: 0px;
    background-color: rgba(255,255,255,.9); <-----DEFAULT COLOR AFTER ANIMATION IS DONE
    z-index: 150;
    background-size: cover;
    -webkit-animation: fadeBox 1s ease-in-out;
    -moz-animation: fadeBox 4s ease-in-out;
    animation: fadeBox 4s ease-in-out;
}

@-webkit-keyframes fadeBox {
    0% { background-color: rgba(255,255,255,.0) }
    100% { background-color: rgba(255,255,255,.9) }
}

@-moz-keyframes fadeBox {
    0% { background-color: red }
    100% { background-color: red }
}

@keyframes fadeBox {
    0% { background-color: rgba(255,255,255.0) }
    100% { background-color: rgba(255,255,255.9) }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T11:13:08.997

您的问题是您的关键帧 CSS 不是有效的 CSS。特别是，在`@keyframes`IE 和 Mozilla 都在使用的 your 中，您`rgba()`只有三个参数，这对`rgba()`.

请注意，Firefox 中的 Web 控制台会告诉您您的错误：

```
[11:11:50.588] Expected an integer but found '255'.  Error in parsing value for 'background-color'.  Declaration dropped. @ file:///tmp/test.html:27
[11:11:50.588] Expected an integer but found '255.9'.  Error in parsing value for 'background-color'.  Declaration dropped. @ file:///tmp/test.html:28 
```

# javascript - 将 jQuery 卸载到自己的文件中

> ID：14725045
> 
> 赞同：3
> 
> 时间：2013-02-06T08:57:13.207
> 
> 标签：javascript, jquery, ruby-on-rails, ruby, ajax

我对将 jQuery 合并到它自己的文件中感到困惑。我可以用 jQuery 做我需要的事情，但我要么将每个函数放在它自己的 .js.erb 文件中，要么将它内联包含在 .html.erb 文件中，并用脚本标签包裹。如果我尝试将它们全部放在同一个文件中，我无法让它工作。

每当用户单击链接时，我都想要`replaceWith()`一个不同的链接，具体到它是哪个链接。`div`目前，我的每个链接都指向一个不同的操作，每个链接都有自己独特的 .js.erb 文件 - 所以我有大约 12 个文件，每个文件只有一个 jQuery 链接 - 这很有效，但看起来很混乱。

一个示例链接是这样的：

```
<%= link_to({:action => 'economics'}, remote: true) do %><div id="department" class="economics">Economics</div><% end %> 
```

以及相关的 jQuery（这也是文件economics.js.erb 中的唯一行）：

```
$('#target_div').replaceWith('<%= j render "economics" %>') 
```

我觉得必须有一种更清洁的方法来做到这一点。

* * *

感谢下面的评论，我让它工作了！这是通用代码

HTML - 远程数据是关键！

```
<div id="render_form" data-target="target_div" data-remote="true"> economics </div>
<div id="render_form" data-target="target_div" data-remote="true"> other </div>
<hr />
<div id="target_div">Nil</div> 
```

jQuery

```
$("div#render_form").click(function() {
    var targetId = $(this).data("target");
    var text = $(this).text();
    if (targetId.length > 0) {
        $(this).data("target");
        $('#' + targetId).text(text);
    }
}); 
```

[jsFiddle 可以在这里找到！](http://jsfiddle.net/QMDcz/)

感谢您的评论！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-06T09:40:33.790

因为我不熟悉 Ruby，所以在黑暗中拍摄，但据我了解，您可以将目标 div ID 添加到每个源 div：

```
<div id="department" class="economics" data-target="economics_target_div"> 
```

然后在你的主文件中有这个 jQuery 代码块：

```
$(document).ready(function() {
    $("div[data-target]").click(function() {
        var targetId = $(this).data("target");
        if (targetId.length > 0) {
            //prevent replacing again:
            $(this).data("target", "");
            $('#' + targetId).replaceWith(this);
        }
    });
}); 
```

这将遍历所有具有上述数据属性的 DIV 并处理它们的点击事件。

[现场测试用例](http://jsfiddle.net/QMDcz/)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T09:04:12.093

我不是 jQuery 专家，但总的来说，我喜欢将单个视图的所有 javascript 分离到单个文件中，而不是将它们内联。

我相信这是做到这一点的“Railsy”方式。理想情况下，每个视图都有一个 JS 文件。查看此博客了解更多一般信息（[http://xn--ncoder-9ua.dk/blog/2012/02/page-specific-javascript-in-rails-3/](http://xn--ncoder-9ua.dk/blog/2012/02/page-specific-javascript-in-rails-3/)）

现在，当我这样做时，我还要确保将 JS 包装进去，`$(document.ready(function()...`以确保脚本在页面加载时运行。试试看，看看它是否适合你。

# maven - 我们可以在 Maven 中使用文件夹名称作为工件 ID 吗？

> ID：14725049
> 
> 赞同：1
> 
> 时间：2013-02-06T08:57:23.700
> 
> 标签：maven, pom.xml

有没有办法使用文件夹名称作为工件 ID？所以我们不需要在 pom.xml 中定义一个特殊的工件 id。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T09:31:33.227

最好和标准的方法是在 pom.xml 中定义所有内容。我怀疑工件 id 有选项，因为它是主要和关键的构建参数。但是你可以玩 finalName

```
 <build>
    <finalName>${some-project-property}</finalName> 
```

# c# - 在 SignalR 1.0rc2 版本中找不到 Signalr IConnectionIdGenerator

> ID：14725051
> 
> 赞同：2
> 
> 时间：2013-02-06T08:57:35.100
> 
> 标签：c#, signalr

我曾经使用以下代码实现自己的连接 ID 生成器：

```
public class MyConnectionFactory : IConnectionIdGenerator
{
    public string GenerateConnectionId(IRequest request)
    {
        return MyUserManager.Instance.CurrentUserID.ToString();
    }
} 
```

这在 SignalR 0.5.3 版本中运行良好，但在更新到 SignalR 1.0rc2 版本后，找不到命名空间或类名。另外，我在这里找不到有关此重大更改的任何说明[https://github.com/SignalR/SignalR/blob/master/ReleaseNotes.md](https://github.com/SignalR/SignalR/blob/master/ReleaseNotes.md)你能帮我解决这个问题吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-06T09:03:54.317

这确实已经消失了，并且没有直接替代，因为您现在应该手动进行用户/连接映射。

我使用 HubPipelineModule 解决了它，并为该用户的所有连接设置了一个组。

```
public class AuthenticationHubPipelineModule : HubPipelineModule
{
    protected override bool OnBeforeIncoming(IHubIncomingInvokerContext context)
    {
        var id = MyUserManager.Instance.CurrentUserID.ToString();

        context.Hub.Groups.Add(context.Hub.Context.ConnectionId, id);

        return base.OnBeforeIncoming(context);
    }
} 
```

然后，当您想要联系用户时，您可以将其发送到该组，如下所示：

```
var context = GlobalHost.ConnectionManager.GetHubContext<YourHub>();
context.Clients.Group(userId).yourCallbackMethod(); 
```

希望这会有所帮助，伊夫

# javascript - TD 高度扩展了 Internet Explorer 中的动态内容

> ID：14725053
> 
> 赞同：0
> 
> 时间：2013-02-06T08:57:36.883
> 
> 标签：javascript, html, html-table

第一的; 我已经在这里和网上搜索过这个，但找不到有效的解决方案。我现在正在研究这个问题两天，所以我不得不问。

我有以下问题：

```
 <table width="650px" border="1" >
    <tr>
        <td style="height :5px">stay as you are</td>
        <td rowspan="3" id="content">
            empty
        </td>
    </tr>
    <tr>
        <td style="height :5px">please dont expand</td>
    </tr>
    <tr>
        <td style="background: red;height : 100%;">&nbsp;</td>
    </tr>
</table>
<input type="button" value="do" onclick="dontExpand()">
<script language="Javascript">
    function dontExpand() {
        var html = "";
        for (var i = 0; i < 100; ++i)
            html += "lorem ipsum<br>";
        document.getElementById("content").innerHTML = html;
    }
</script> 
```

[问题的 JSFiddle 示例，仅适用于 Chrome](http://jsfiddle.net/3xSRu/)

内容被Javascript动态修改后，左上角和中间的左侧单元格正在扩展。

我想它确实与 DocTypes 有关，但我不是专家。

有没有办法让 Internet Explorer 和 Firefox 只扩展左下角的单元格；上面的其他两个单元格应该保持原样。

请需要帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T09:03:53.857

所以前两个单元格必须只有 5px 高？如果您从第三个 td 中删除 height:100%，则在 FF 上它可以工作。

编辑：好吧，如果我在最后一个 div 上写 height:640px 而不是 100%，那么它有点工作。既然您知道表格的总高度是 650px，那么这应该不是问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T09:12:45.377

看这里同样的问题：[IE setting row height not working when using rowspan](https://stackoverflow.com/questions/6461528/ie-setting-row-height-not-working-when-using-rowspan)

我想一种解决方案是在添加内容后根据总高度更新内容后更改最后一个表格 col 的高度 - 10 px？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-06T11:02:07.617

```
var height = document.getElementById("content").offsetHeight; // to determine the content height.
table.style.height = height + 10 + "px"; 
```

进一步仅对 IE 执行此操作，因为删除高度：100% 在其他浏览器中有效

# python - 从 Python 运行的 bash 脚本运行 bash 命令时遇到问题

> ID：14725066
> 
> 赞同：0
> 
> 时间：2013-02-06T08:58:23.170
> 
> 标签：python, eclipse, bash

我正在从 Python 运行 bash 脚本。我的 IDE 是带有 PyDev 的 Eclipse。我已经安装了一个软件，它有一个`bull2flux`我想在我的 bash 脚本中运行的 bash 命令。`bull2flux`通常是这样运行的：

```
bull2flux someFile > outFile 
```

问题是当它直接在终端中调用时它工作正常，但从我的 python 脚本运行它时却不行。我得到错误`bull2flux: command not found`。我尝试从终端运行我的软件的编译版本，但发生了同样的错误。这是 Eclipse 的问题吗？我必须以某种方式获取命令吗？`bull2flux`来源于我的`.bashrc`文件，如下所示：

```
source path/to/software/bin/init.sh /dev/null 
```

附加信息：这是我在 bash 脚本中运行它的方式：

```
for file in ${folder_bml_files}/*
do
    #Other stuff here
    bulledFile="bulltmp"
    bull2flux ${file} > ${bulledFile}
    #Other stuff here
done 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T09:10:32.683

我假设执行脚本时 Bull2flux 可执行文件不在 PATH 中。在调用脚本之前尝试使用其完整路径或更新 PATH 变量。

**编辑：**如果 Bull2flux 只是一个 shell 函数（不是可执行文件），您可能必须从脚本中获取定义的 shell 脚本。尝试添加行

`source path/to/software/bin/init.sh /dev/null`

从您的 .bashrc 到您自己的 shell 脚本。

# php - 如何从 POP3 电子邮件中提取数据？

> ID：14725067
> 
> 赞同：4
> 
> 时间：2013-02-06T08:58:23.963
> 
> 标签：php, email, pop3

我使用 PHP 接收来自 POP3 服务器的电子邮件。我有一个包含标题和正文的原始字符串。如何以类或数组的形式解析标题和正文？

我所拥有的示例：

```
Return-path: Envelope-to: x@x.de Delivery-date:
Wed, 06 Feb 2013 09:35:37 +0100 Received: from mail by
host6.toxpress.com with spam-scanned (Exim 4.80.1) (envelope-from ) id
1U30Tc-0003sH-LQ for x@x.de; Wed, 06 Feb 2013
09:35:36 +0100 X-Spam-Checker-Version: SpamAssassin 3.3.2 (2011-06-06)
on host6.toxpress.com X-Spam-Level: X-Spam-Status: No, score=-1.9
required=5.0 tests=BAYES_00,FREEMAIL_FROM,
RCVD_IN_DNSWL_NONE,TVD_SPACE_RATIO autolearn=ham version=3.3.2
Received: from moh3-ve2.go2.pl ([193.17.41.86] helo=moh3-ve1.go2.pl)
by host6.toxpress.com with esmtp (Exim 4.80.1) (envelope-from ) id
1U30Tc-0003rk-2b for x@x.de; Wed, 06 Feb 2013
09:35:32 +0100 Received: from moh3-ve1.go2.pl (unknown [10.0.0.157])
by moh3-ve1.go2.pl (Postfix) with ESMTP id BC734AF611B for ; Wed, 6
Feb 2013 09:34:31 +0100 (CET) Received: from unknown (unknown
[10.0.0.108]) by moh3-ve1.go2.pl (Postfix) with SMTP for ; Wed, 6 Feb
2013 09:34:31 +0100 (CET) Received: from
43.dynamic.chello.pl [89.69.42.127] by poczta.o2.pl with
ESMTP id jtIGfv; Wed, 06 Feb 2013 09:34:31 +0100 Message-ID:
<51121593.3090008@o2.pl> Date: Wed, 06 Feb 2013 09:34:27 +0100 From:
Tomasz Reply-To: tomasz_smykrowski@o2.pl Organization: Tomasz
User-Agent: Mozilla/5.0 (Windows NT 6.1; rv:20.0) Gecko/20100101
Thunderbird/20.0a2 MIME-Version: 1.0 To: x@x.de
Subject: adaads Content-Type: text/plain; charset=ISO-8859-1;
format=flowed Content-Transfer-Encoding: 7bit X-O2-Trust: 2, 64
X-O2-SPF: neutral dsadasdsaas . 
```

而我希望能够做到的：

```
echo $from;
echo $replyTo;
echo $date;
echo $body;
echo $subject;
echo $charset; 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-10T21:00:08.600

查看[MIME 电子邮件消息解析器](http://www.phpclasses.org/package/3169-PHP-Decode-MIME-e-mail-messages.html)类。
根据作者的描述：

> 此类可用于解析和解码 MIME 电子邮件消息。它支持解码单个 RFC 2822 MIME 消息或以 mbox 格式聚合多条消息的存档。**解码后的消息数据以数组形式返回，该数组描述在消息文件或数据字符串中找到的一条或多条消息**。多部分消息的主体可以被解码为不同的子消息。消息正文数据可以解码并保存到单独的文件中，因此该类可以处理大于可用内存的消息。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-06T09:02:47.523

是的，当然有：`mailparse`

[http://php.net/manual/en/book.mailparse.php](http://php.net/manual/en/book.mailparse.php)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-06T09:05:28.317

**您可以使用bounce_driver.class**将电子邮件切成数组：

[https://github.com/cfortune/PHP-Bounce-Handler/blob/master/bounce_driver.class.php](https://github.com/cfortune/PHP-Bounce-Handler/blob/master/bounce_driver.class.php)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-06T09:25:08.017

我建议使用具有有用功能的 IMAP 扩展来读取 IMAP 和 POP 消息。使用 打开连接`imap_open`，然后使用 读取标头`imap_headerinfo`，它将返回一个包含所有标头（主题，收件人，...）的数组，然后用于`imap_body`获取消息的正文。无需使用 Regex 或其他函数即可轻松解析所有消息。你可以在[这里](http://garrettstjohn.com/entry/reading-emails-with-php/)找到一个简单的例子。

这是一个简单的输出`imap_headerinfo`：

```
stdClass Object (
    [Date] => 23 Apr 2003 22:10:21 +0100
    [Subject] => Top Deals: GBP 15 Gift Certificate Offer and at Least 30% off Recommended Books
    [message_id] => <.AAA-39045660-13180,1295.1051132221@mail-ems-103.amazon.com>
    [toaddress] => xxxx@yyyy.co.uk
    [to] => Array ([0] => stdClass Object ([mailbox] => xxxx [host] => yyyy.co.uk ) )
    [fromaddress] => "Amazon.co.uk" <foryou@amazon.co.uk>
    [from] => Array ( [0] => stdClass Object ( [personal] => Amazon.co.uk [mailbox] => foryou [host] => amazon.co.uk ) )
    [reply_toaddress] => "Amazon.co.uk" <foryou@amazon.co.uk>
    [reply_to] => Array ( [0] => stdClass Object ( [personal] => Amazon.co.uk [mailbox] => foryou [host] => amazon.co.uk ) )
    [senderaddress] => "Amazon.co.uk" <foryou@amazon.co.uk>
    [sender] => Array ( [0] => stdClass Object ( [personal] => Amazon.co.uk [mailbox] => foryou [host] => amazon.co.uk ) )
    [Recent] =>
    [Unseen] =>
    [Flagged] => F
    [Answered] =>
    [Deleted] =>
    [Draft] =>
    [Msgno] => 250
    [MailDate] => 23-Apr-2003 22:22:32 +0100
    [Size] => 36375
    [udate] => 1051132952
) 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-06T09:01:49.797

你试过 Zend 框架的`Zend_Mail`模块吗？

根据手册页： *Zend_Mail 可以从多个本地或远程邮件存储中读取邮件消息。它们都具有相同的基本 API 来计算和获取消息，其中一些实现了额外的接口以实现不那么常见的功能。*

[http://framework.zend.com/manual/1.12/en/zend.mail.read.html](http://framework.zend.com/manual/1.12/en/zend.mail.read.html)

```
$mail = new Zend_Mail_Storage_Pop3(array('host'     => 'localhost',
                                         'user'     => 'test',
                                         'password' => 'test'));

echo $mail->countMessages() . " messages found\n";
foreach ($mail as $message) {
    echo "Mail from '{$message->from}': {$message->subject}\n";
} 
```

# python - Pandas 在布尔索引中使用行标签

> ID：14725068
> 
> 赞同：6
> 
> 时间：2013-02-06T08:58:29.940
> 
> 标签：python, pandas

所以我有一个这样的DataFrame：

```
df = pd.DataFrame(np.random.randn(6, 3), columns=['a', 'b', 'c'])

      a         b         c
0  1.877317  0.109646  1.634978
1 -0.048044 -0.837403 -2.198505
2 -0.708137  2.342530  1.053073
3 -0.547951 -1.790304 -2.159123
4  0.214583 -0.856150 -0.477844
5  0.159601 -1.705155  0.963673 
```

我们可以像这样对它进行布尔索引

```
df[df.a > 0]

     a         b         c
0  1.877317  0.109646  1.634978
4  0.214583 -0.856150 -0.477844
5  0.159601 -1.705155  0.963673 
```

我们也可以像这样通过行标签对其进行切片：

```
df.ix[[0,2,4]]

    a         b         c
0  1.877317  0.109646  1.634978
2 -0.708137  2.342530  1.053073
4  0.214583 -0.856150 -0.477844 
```

我想同时执行这两项操作（所以我避免为了行标签过滤而制作不必要的副本）。我该怎么做呢？

我正在寻找的伪代码：

```
df[(df.a > 0) & (df.__index__.isin([0,2,4]))] 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-06T09:15:13.027

你几乎拥有它：

```
In [11]: df[(df.a > 0) & (df.index.isin([0, 2, 4]))]
Out[11]: 
          a         b         c
0  1.877317  0.109646  1.634978
4  0.214583 -0.856150 -0.477844 
```

# c# - “固定”的内部工作：处理内存位置或对象？

> ID：14725069
> 
> 赞同：4
> 
> 时间：2013-02-06T08:58:45.817
> 
> 标签：c#, arrays, fixed, unsafe

在托管/非托管数组互操作性中，我有一个没有通常的情况

```
fixed (byte* data = new byte[length])
{
    // work with the array
} 
```

而是我想固定一个数组，我只得到一个参考，像这样：

```
IntPtr dataPtr = camera.Image2d.GetDataBuffer();
fixed (byte* data = (byte *)dataPtr)
{
   // work with the array
} 
```

1）根据我的理解，底部代码也应该可以工作，因为“固定”会将内存位置固定在内存管理器中的低级别，而不关心指向它的任何对象？（意思是，我没有“根”/直接指针——即使可能没有任何这样的概念。）

还有一个问题：

2) 使用“固定”的要求来自与任何已执行代码同时运行的 CLR 内存管理器，因此它可以随时移动数组？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-06T09:12:19.327

1）第二个似乎不合适，因为使用`fixed`您试图固定指针的关键字，而不是实际的对象。`IntPtr`甚至不是（afaik）托管指针，而是非托管指针。

2)`fixed`创建一个指向指定托管变量的指针；如果没有 pinning，GC 可能会将变量重新定位到另一个内存位置，因此指针将变得无用。

来自[msdn](http://msdn.microsoft.com/en-us/library/f58wzh21.aspx)：

> 固定语句设置一个指向托管变量的指针，并在语句执行期间“固定”该变量。如果没有固定，指向可移动托管变量的指针将几乎没有用处，因为垃圾收集可能会不可预测地重新定位变量。C# 编译器仅允许您在固定语句中分配指向托管变量的指针。

# jquery - jquery在提交打开对话框之前等待按钮点击

> ID：14725072
> 
> 赞同：0
> 
> 时间：2013-02-06T08:58:59.053
> 
> 标签：jquery, submit, modal-dialog

我尝试将表单提交与 jquery 模态对话框一起使用。看下面的代码。

```
$(function() {

var sendConfirmation = false;

$( "#dialog-form" ).dialog({
  autoOpen: false,
  height: 300,
  width: 350,
  modal: true,
  buttons: {
    "Send": function() {
        sendConfirmation = true;
    },
    "Close": function() {
        $(this).dialog("close");
    }
  }
});

$("#send").submit(function(event) {
    //If user click on modal dialog "Send", then submit should be trigger.
    //And if user click "Close"
    $(this).trigger("recaptcha");
    return false;
    /*if(sendConfirmation) {
        return true;
    } else {
        return false;
    }*/

});

$("#send").bind("recaptcha", function() {
        $( "#dialog-form" ).dialog( "open" );
        //return false;
    }); 
  }); 
```

如果用户点击提交按钮，对话框将打开，提交应该等到模态对话框上的“确定”按钮被点击，然后提交应该被执行。
主要思想是，当用户单击提交按钮时，模态对话框将打开，并且在模态对话框上是recaptcha。用户输入recaptcha代码并单击OK按钮，数据应该被提交。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-06-03T11:14:13.070

JavaScript 是单线程的，由于 JavaScript 用于显示对话框并处理对其的任何点击，因此无法在不阻止 UI 的情况下阻止执行。尝试使用对话框按钮的回调函数

# excel - 将定义的名称分配给变量

> ID：14725079
> 
> 赞同：1
> 
> 时间：2013-02-06T08:59:40.590
> 
> 标签：excel, vba

我有以下代码，并且正在将我的头撞到墙上，为什么它不起作用。当使用范围为 $K10 的注释行时，当我分配一个命名范围 rngValidation 时它工作正常，它不起作用。“ptrValidationCells”的定义名称范围设置为$K10。

```
Sub FormatConditions_2()

    Dim rngToFormat As Range
    Dim rngValidation As Range

    Set rngToFormat = ActiveSheet.Range("inpInputCells")
    Set rngValidation = ActiveSheet.Range("ptrValidationCell")

'    rngToFormat.FormatConditions.Add Type:=xlExpression, Formula1:="=$K10<>FALSE"

    rngToFormat.FormatConditions.Add Type:=xlExpression, Formula1:="=rngValidation <>FALSE"

        With rngToFormat.FormatConditions(2).Interior
            .PatternColorIndex = xlAutomatic
            .Color = RGB(255, 192, 0)
            .TintAndShade = 0
        End With
        With rngToFormat.FormatConditions(2).Font
            .Bold = True
            .Italic = False
            .Color = RGB(192, 0, 0)
            .TintAndShade = 0
        End With

End Sub 
```

感谢您的帮助

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T09:19:39.577

FormatConditions 在 Workbook 环境中执行，而不是在 VBA 环境中执行（如果我可以这样说的话），因此您需要使用命名范围而不是 VBA 变量。

或者，

```
rngToFormat.FormatConditions.Add Type:=xlExpression, Formula1:="=" & rngValidation.Address & "<>FALSE" 
```

应该做的伎俩。

# vb.net - 本地主机测试问题

> ID：14725080
> 
> 赞同：0
> 
> 时间：2013-02-06T08:59:42.343
> 
> 标签：vb.net

![VN本地测试问题](../Images/b1652bf8996ca53baa966663ad183ef1.png)

大家好，我是 VB 新手，当我尝试在本地主机/本地机器上运行测试时，我遇到了如下所示的问题。我可以知道我应该怎么做才能完成这项工作。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T09:23:36.697

您的网站似乎不包含名为或任何默认页面的`DEFAULT.ASPX`页面`INDEX.HTML`。

您可以采取以下几个步骤来解决此问题：

1-确保包含默认页面

2-确保您的项目设置指向默认页面

3-确保您的 IIS 配置为使用默认页面

如果以上所有方法都不起作用，那么

4-通过访问现有的有效页面来测试您的应用程序

（即，不要尝试`http://localhost:port/`而是测试`http://localhost:port/mypage.aspx`）假设您的网站包含一个名为`mypage.aspx`

# php - 如何在 REST 请求中指定类型参数？

> ID：14725083
> 
> 赞同：1
> 
> 时间：2013-02-06T08:59:55.337
> 
> 标签：php, javascript, ruby-on-rails, node.js, rest

这是一个有点笼统的问题。外部的许多框架在**某种程度上**都有自己的解决方案，但这些都以某种方式受限于它们自己的实现。

对 RESTful Web 服务的请求是纯文本的，你将如何有效地对它们进行类型转换？`null`尽管 PHP 有类型提示，但当涉及到常量、类型、`undefined`javascript 或`nil`Basic`nothing`时，这尤其困难。

对于中型到大型项目，以每个方法为基础进行投射似乎不切实际。

这更像是一个理论问题，而不是编码问题，但欢迎您用代码解释您的观点。

**注意：**我们在 PHP、NodeJS 和 RoR 的上下文中讨论最佳/常见实践和假设。ASP.NET Web 服务和 Java Web 方法对此有自己的严格语法，所以我在这里将它们排除在外。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-02T03:13:35.430

REST 协议不涉及发送和接收的内容，它仅指定对资源（使用 URI 指定）的操作（GET、PUT、DELETE 等）。这些操作会发生什么完全取决于您。

我 90% 的时间都在使用 JavaScript，这是一种动态语言。所以我想你的问题更多是关于如何以静态方式使用动态语言？每种语言都有不同的类型检查方法和库来提供帮助。就 REST 而言，您可能会发现[http://json-schema.org/](http://json-schema.org/)是一种指定类型 JSON 的有用方式。以各种方式实现：http: [//json-schema.org/implementations.html](http://json-schema.org/implementations.html)

# refresh - 如何在除 F5 按键之外的网页中捕获不同模式的刷新事件？

> ID：14725085
> 
> 赞同：1
> 
> 时间：2013-02-06T09:00:01.443
> 
> 标签：refresh

我正在开发一个 MVC 应用程序，我需要在其中捕获不同模式的网页刷新事件。

* * *

1.  F5 按键
2.  查看 >> 刷新
3.  鼠标右键>>刷新
4.  单击地址栏旁边的刷新按钮（对于 IE 7）。
5.  Ctrl + R

* * *

当通过上述以下方式刷新页面时，我需要将变量设置为 false。我通过**window.onbeforeunload**事件尝试了它，但是当网页关闭时它也会被触发，其中我需要执行一些其他操作。我能够通过 e.keyCode == 116 捕获 F5 按键，但无法捕获其他按键。有没有什么通用的方法来捕捉所有这些刷新？

# jquery - jQuery dataTables makeEditable() 不是函数

> ID：14725091
> 
> 赞同：3
> 
> 时间：2013-02-06T09:00:22.110
> 
> 标签：jquery, jquery-datatables, jeditable

我是 Datatables 的新手，我正在尝试使表格可编辑，但我不断收到此错误：

> TypeError: $(...).dataTable(...).makeEditable 不是函数

我的 jQuery 脚本如下所示：

```
 $(document).ready( function () {
    var oTable = $('#data_table_wrapper').dataTable({
        "sDom": 'R<"H"lfr>t<"F"ip<',
        "bJQueryUI": true,
        "sPaginationType": "full_numbers",
        "aoColumn": [
                { "bVisible": true },
                { "bVisible": true },
                { "bSortable": false },
                    ]       
    }).makeEditable({
        sUpdateURL: "/abc.php"
    });
}); 
```

我包括这些文件：

```
jquery-1.9.1.min.js
jquery.dataTables.min.js
jquery.jeditable.js
jquery.dataTables.editable.js
jquery-ui.js
jquery.validate.js 
```

这些文件的所有链接都可以正常工作。谁能给我一些建议，好吗？为什么我不断收到该错误？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-02-06T10:37:01.410

导入必须按特定顺序：

> jquery.min.js
> 
> jquery-ui.min.js
> 
> jquery.dataTables.min.js
> 
> jquery.jeditable.js
> 
> jquery.dataTables.editable.js
> 
> jquery.validate.js

修复此问题后，更新到最新版本即可解决问题！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-05-05T12:24:39.583

对于 jQuery 版本 1.9.1，jQuery 数据表将不起作用。尝试改用 jQuery 版本 1.7.1。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-02-05T12:20:12.033

我的情况是：

(jQuery 3.x)

从 jQuery DataTables 网站我有以下内容：

```
<script>
    $(element).DataTable().makeEditable();
</script> 
```

所以 - 起初我不得不将“DataTable”更改为“dataTable”，给出：

```
<script>
    $(element).dataTable().makeEditable();
</script> 
```

然后它抛出了错误（在 jquery.dataTables.editable.js 中）： TypeError: $(...).live is not a function。我根据这个主题修复了[jQuery 1.9 .live() 不是函数](https://stackoverflow.com/questions/14354040/jquery-1-9-live-is-not-a-function) ：

第 655 行：

```
//$(".table-action-deletelink", oTable).live("click", function (e) {
$(oTable).on("click", ".table-action-deletelink", function (e) { 
```

# php - 根除电子邮件地址的模式

> ID：14725093
> 
> 赞同：0
> 
> 时间：2013-02-06T09:00:32.823
> 
> 标签：php, mysql, regex, database

我有一个包含大量电子邮件地址的文本文档，这些电子邮件地址是从 pdf 转换而来的。这是它的外观示例：

```
name1;someone@awebite1.com;;;
name2;someone@awebite2.com;;;
name3;someone@awebite3.com;;;
name4;someone@awebite4.com;;;
name5;someone@awebite5.com;;; 
```

等等... 600 多个联系人

任何人都知道要编写一个简单的 php 模式/表达式/正则表达式，我可以用它来一一分隔名称和电子邮件，以便我可以放入数据库？

数据库当然很简单：id | 联系方式 | 电子邮件

任何帮助将不胜感激！

我忘了提，我想用 php 来做。我会将代码合并到一个表单中以供将来使用。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-06T09:19:17.470

在 PHP 中，您可以使用[explode](http://php.net/manual/en/function.explode.php)函数拆分字符串。

```
$parts = explode(';', $inputString); 
```

返回的数组包含由 分隔的每个部分`;`。

为此，您的文本文档中的每一行都必须以`inputString`. 所以循环遍历返回的数组

```
preg_split('/\\n/',$docContent) 
```

并调用`explode`每个元素。上面`preg_split`返回一个数组，其中输入的每一行作为一个元素。

**两者结合**，

```
$lines = preg_split('/\\n/',$docContent);
foreach($lines as $line) {
   $parts = explode(';', $line);
   //$parts[0] is name and $parts[1] is email. ignore remaining elements
} 
```

**注意：**我对php只有一点了解。可能有更好的代码。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-06T09:14:58.320

怎么样：

```
LOAD DATA INFILE 'yourFile'
INTO TABLE yourTable
FIELDS TERMINATED BY ';'
LINES TERMINATED BY ';;;\n' 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-06T09:08:39.187

假设“联系”是指每行的第一个字段（对所有显示的值都表示“联系”），这样的事情将起作用：

```
cat contacts.txt | awk {'split($2,A,";"); print A[1]"|"$1"|"A[2]}' 
```

# css - 无法在 IE 中 CSS 旋转包含嵌入式 Youtube 视频的 iframe

> ID：14725094
> 
> 赞同：2
> 
> 时间：2013-02-06T09:00:33.403
> 
> 标签：css, internet-explorer, iframe, youtube, rotation

我想在我的网站上显示旋转的嵌入式视频。我使用 iframe 来显示视频。在我测试过的所有浏览器中，通过 css 转换旋转效果很好：

```
iframe{
    -moz-transform:    rotate(15deg);
    -o-transform:      rotate(15deg);
    -webkit-transform: rotate(15deg);
    -ms-transform:     rotate(15deg);
    transform:         rotate(15deg);
} 
```

但是，对于 youtube-video 和 IE 浏览器（至少 IE9）的特定组合，一旦视频加载，它根本不会旋转（尽管它被缩放以适应旋转的帧）。

看看：http: [//jsfiddle.net/uqYMX/](http://jsfiddle.net/uqYMX/)

正如所见，Vimeo 等其他视频源不是问题，即使在 IE 中也是如此。因此，我猜测它与 youtube iframe 的内容有关。

任何帮助将不胜感激！

*编辑：我也在 IE8 中使用过滤器转换对其进行了测试，结果与 IE9 中的结果相同。*

# android - 从java代码调用为Android编译的FFmpeg可执行文件的简单方法是什么？

> ID：14725097
> 
> 赞同：1
> 
> 时间：2013-02-06T09:00:55.787
> 
> 标签：android, ffmpeg, native

我已经为 Android 编译了 FFmpeg 以满足我在编解码器、多路复用器等方面的需求。现在我有一个可执行文件，据我所知，它应该放在我的项目目录中`<project-root>/external/<arbitrary-folder-name>/data/data/<my-app-package-name>/app_opt`。我现在里面有的是`app_opt`：

```
 .
├── bin
│   └── ffmpeg
├── include
│   ├── libavcodec
│   │   ├── avcodec.h
│   │   ├── avfft.h
│   │   ├── dxva2.h
│   │   ├── vaapi.h
│   │   ├── vda.h
│   │   ├── vdpau.h
│   │   ├── version.h
│   │   └── xvmc.h
│   ├── libavdevice
│   │   └── avdevice.h
│   ├── libavfilter
│   │   ├── asrc_abuffer.h
│   │   ├── avcodec.h
│   │   ├── avfiltergraph.h
│   │   ├── avfilter.h
│   │   ├── buffersink.h
│   │   ├── buffersrc.h
│   │   ├── version.h
│   │   └── vsrc_buffer.h
│   ├── libavformat
│   │   ├── avformat.h
│   │   ├── avio.h
│   │   └── version.h
│   ├── libavutil
│   │   ├── adler32.h
│   │   ├── aes.h
│   │   ├── attributes.h
│   │   ├── audioconvert.h
│   │   ├── audio_fifo.h
│   │   ├── avassert.h
│   │   ├── avconfig.h
│   │   ├── avstring.h
│   │   ├── avutil.h
│   │   ├── base64.h
│   │   ├── bprint.h
│   │   ├── bswap.h
│   │   ├── common.h
│   │   ├── cpu.h
│   │   ├── crc.h
│   │   ├── dict.h
│   │   ├── error.h
│   │   ├── eval.h
│   │   ├── fifo.h
│   │   ├── file.h
│   │   ├── imgutils.h
│   │   ├── intfloat.h
│   │   ├── intfloat_readwrite.h
│   │   ├── intreadwrite.h
│   │   ├── lfg.h
│   │   ├── log.h
│   │   ├── lzo.h
│   │   ├── mathematics.h
│   │   ├── md5.h
│   │   ├── mem.h
│   │   ├── opt.h
│   │   ├── parseutils.h
│   │   ├── pixdesc.h
│   │   ├── pixfmt.h
│   │   ├── random_seed.h
│   │   ├── rational.h
│   │   ├── samplefmt.h
│   │   ├── sha.h
│   │   ├── timecode.h
│   │   └── timestamp.h
│   ├── libpostproc
│   │   └── postprocess.h
│   ├── libswresample
│   │   └── swresample.h
│   └── libswscale
│       └── swscale.h
├── lib
│   ├── libavcodec.a
│   ├── libavdevice.a
│   ├── libavfilter.a
│   ├── libavformat.a
│   ├── libavutil.a
│   ├── libpostproc.a
│   ├── libswresample.a
│   ├── libswscale.a
│   └── pkgconfig
│       ├── libavcodec.pc
│       ├── libavdevice.pc
│       ├── libavfilter.pc
│       ├── libavformat.pc
│       ├── libavutil.pc
│       ├── libpostproc.pc
│       ├── libswresample.pc
│       └── libswscale.pc
└── share
    └── ffmpeg
        ├── examples
        │   ├── decoding_encoding.c
        │   ├── filtering_audio.c
        │   ├── filtering_video.c
        │   ├── Makefile
        │   ├── metadata.c
        │   └── muxing.c
        ├── ffprobe.xsd
        ├── libvpx-1080p50_60.ffpreset
        ├── libvpx-1080p.ffpreset
        ├── libvpx-360p.ffpreset
        ├── libvpx-720p50_60.ffpreset
        ├── libvpx-720p.ffpreset
        ├── libx264-ipod320.ffpreset
        └── libx264-ipod640.ffpreset 
```

我只需要在我的项目目录中放置`ffmpeg`下面吗？`bin``<project-root>/res/raw`

`ffmpeg`用命令字符串调用和输入它的最简单方法是什么？

我用有限的解码器和解复用器编译了 FFmpeg，因为我只需要音频提取。

请参阅：[当 --sysroot 指向另一个目录时，如何让 FFmpeg 找到已安装的库？](https://stackoverflow.com/questions/9123846/how-can-i-get-ffmpeg-to-locate-installed-libraries-when-sysroot-is-pointing-to)

我会在后台使用它，并在完成时在通知栏中通知用户。

我知道，在 SO 上，还存在其他类似的问题，但它们有点模糊或令人困惑，至少对我而言。我明白在这一点上我缺乏能力（实际上我的应用程序是由网络上的 java-code-snippets 组成的拼图，它们一起工作）。

我会很感激一些指导。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T16:48:42.227

尽管放置在 bin 文件夹中的可执行“ffmpeg”将在有根手机上运行，​​但它实际上并不是在适合一般分发的应用程序中分发 ffmpeg 的最佳方式。

更好的接口是使用标准 JNI 接口，其中 android 加载允许调用 ffmpeg 的共享库，然后调用 shell，android 方法用作 ffmpeg 的 CLI exec 的包装器。

[有关出色的示例，请参阅github](https://github.com/halfninja/android-ffmpeg-x264)上的“android-ffmpeg-x264”项目。

android JNI接口在[这里](https://github.com/halfninja/android-ffmpeg-x264/blob/master/Project/src/uk/co/halfninja/videokit/Videokit.java)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-05-30T08:37:25.467

不再支持上面链接的项目。可以在[http://writingminds.github.io/ffmpeg-android-java/找到更新的替代方案](http://writingminds.github.io/ffmpeg-android-java/)

# sql - 我可以将 Create/Alter Table、Procedure、Column、Views 等放入 Transaction 中吗？

> ID：14725100
> 
> 赞同：1
> 
> 时间：2013-02-06T09:01:04.503
> 
> 标签：sql, sql-server-2008

我的简单问题是，我可以将 Create/Alter Table、Procedure、Column、Views 等语句放入 Transaction 中吗？我的意思是这个？以下陈述是否有效？

```
BEGIN TRANSACTION [Tran1]
BEGIN TRY
    --CREATE ALTER Table Procedure 
    --CREATE ALTER Table Procedure 
END TRY
BEGIN CATCH
    ROLLBACK TRANSACTION [Tran1];
    DECLARE @ErrorNumber nchar(5), @ErrorMessage nvarchar(2048);
    SELECT
        @ErrorNumber = RIGHT('00000' + ERROR_NUMBER(), 5),
        @ErrorMessage = @ErrorNumber + ' ' + ERROR_MESSAGE();
    RAISERROR (@ErrorMessage, 16, 1);
END CATCH 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T09:10:40.820

据我所知，DDL 语句在读取提交隔离模式（悲观）下可以是事务性的，这是默认模式。

[msdn 链接](http://msdn.microsoft.com/en-us/library/ms191544.aspx)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-06T09:26:58.157

[事务中允许的 Transact-SQL 语句 (Sql Server 2008)：](http://msdn.microsoft.com/en-us/library/ms191544%28v=sql.100%29.aspx)您可以在显式事务中使用所有 Transact-SQL 语句，但以下语句除外：

```
ALTER DATABASE
DROP DATABASE
ALTER FULLTEXT CATALOG  
DROP FULLTEXT CATALOG
ALTER FULLTEXT INDEX    
DROP FULLTEXT INDEX
BACKUP  
RECONFIGURE
CREATE DATABASE
RESTORE
CREATE FULLTEXT CATALOG
UPDATE STATISTICS
CREATE FULLTEXT INDEX 
```

您也不能使用以下内容：

显式事务中的全文系统存储过程。有关详细信息，请参阅全文搜索存储过程 (Transact-SQL)。

sp_dboption 设置数据库选项或使用在显式或隐式事务中修改 master 数据库的任何系统过程。

# ruby-on-rails - 如何搜索belongs_to关联属性

> ID：14725102
> 
> 赞同：0
> 
> 时间：2013-02-06T09:01:18.553
> 
> 标签：ruby-on-rails, ruby-on-rails-3, scope, arel, rails-activerecord

我有两个实体`Posts`，`Comments`关联如下

```
class Post < ActiveRecord::Base
  attr_accessible :title, :msg
  has_many :comments
end

class Comment < ActiveRecord::Base
  attr_accessible :msg
  belongs_to :post
  scope :search, lambda { |msg| where(arel_table[:msg].matches('%#{msg}%'))}
end 
```

现在`scope :search`只搜索，`comments(msg)`我想写另一个范围来搜索`posts(msg)`。`comments`

这个怎么写？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T09:18:17.180

尝试以下方法（我更喜欢类方法而不是 lambda 作用域，因为它们看起来更干净且更易于阅读）

```
# comment.rb

def self.search(msg)
  where(arel_table[:msg].matches('%#{msg}%'))
end

def self.post_search(msg)
  joins(:post).where(Post.arel_table[:msg].matches("%#{msg}%"))
end 
```

# php - 哪个 PDF 库可以在现有 PDF > 1.4 中添加页面？

> ID：14725104
> 
> 赞同：1
> 
> 时间：2013-02-06T09:01:24.243
> 
> 标签：php, pdf, fpdf, zend-pdf, pdflib

我需要在现有 PDF 文档的第一页之后和最后一页中添加页面。我曾经用 Zend_Pdf 实现它，但发现它只能处理交叉引用表未压缩为流的 PDF（PDF 版本 1.5 中引入的功能）。

所以我正在寻找一个 PHP PDF-Library，它可以修改现有的 PDF 文档，其中包含存储在 ISO-32000-1（基于 PDF-1.7）中描述的流中的对象和外部参照表。

*   [TCPDF](http://www.tcpdf.org)不能修改，只能与[FPDI](http://www.setasign.de/products/pdf-php-solutions/fpdi/)结合使用（并且 FPDI 在免费版本中只能处理最高 1.4 的 PDF-Version）
*   Zend_PDF（如上所述）只能处理 PDF 版本最高为 1.4 的文件。也许从 github 尝试 ZF2 的 Zend_Pdf 版本是一个想法？
*   我发现 FPDF 只能处理 PDF 版本 1.4 的文件

是否有其他 PHP PDF 库可以满足我的需求？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T09:20:16.707

似乎 FPDI 可以合并不同的 pdf 文档，因此您可以先构建第一页，然后再构建其他页面，然后按指定顺序将其合并为一个（[Merge PDF files with PHP](https://stackoverflow.com/questions/4794435/merge-pdf-files-with-php)）

```
class concat_pdf extends FPDI {
     var $files = array();
     function setFiles($files) {
          $this->files = $files;
     }
     function concat() {
          foreach($this->files AS $file) {
               $pagecount = $this->setSourceFile($file);
               for ($i = 1; $i <= $pagecount; $i++) {
                    $tplidx = $this->ImportPage($i);
                    $s = $this->getTemplatesize($tplidx);
                    $this->AddPage('P', array($s['w'], $s['h']));
                    $this->useTemplate($tplidx);
               }
          }
     }
}

/* uses example :
$pdf =& new concat_pdf();
$pdf->setFiles(array("doc.pdf","pauta.pdf", "4bp.pdf", "5bp.pdf"));
$pdf->concat();
//$pdf->Output("newpdf.pdf", "I");//for printing on screen
$pdf->Output("newpdf.pdf", "F");//for saving it
*/ 
```

但是对于 1.4 以上的版本，使用了新的压缩，FPDI 通过解析器包支持它，但它不是免费的（100 欧元）。你可以看看有[没有办法让 FPDF/FPDI 或 Zend_Pdf 支持解析大于 1.4 的 PDF？](https://stackoverflow.com/questions/660425/is-there-a-way-to-make-fpdf-fpdi-or-zend-pdf-support-the-parsing-of-pdfs-greater)也。

# jakarta-ee - 在 Java EE 过滤器中读取响应正文

> ID：14725107
> 
> 赞同：1
> 
> 时间：2013-02-06T09:01:35.130
> 
> 标签：jakarta-ee, response, servlet-filters

如何读取 HTTPServletResponse 对象的内容

我有一个响应 JSONS 的 REST 架构。

例如 /loginresult.json 将使用 JSON 响应。

为了捕获这个请求/响应，我创建了一个过滤器

```
public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain)  throws IOException, ServletException {
    System.out.println("AccreditSecurityFilter::doFilter Called");
    HttpServletRequest request = (HttpServletRequest) req;
    HttpServletResponse response = (HttpServletResponse) res;

if(loginurl.equalsIgnoreCase(rebuildURI)){
            //READ THE RESPONSE
            //IF RESPONSE IS 1 THEN CONTINUE ELSE REDIRECT
        }
        else{
            System.out.println("other url");
        } 
```

如何读取响应对象（作为字符串或作为原始类型的对象）。这可能吗？

更多信息 - JSON 响应是“LoginResult”类型的序列化对象。

# objective-c - 读取磁盘中的文件加密而不挂载它

> ID：14725109
> 
> 赞同：0
> 
> 时间：2013-02-06T09:01:52.263
> 
> 标签：objective-c, macos

我在 mac OS X ML 10.8 中创建磁盘加密（使用 Disk utiliti 或使用命令 hdiutil ）。我想读取该磁盘中的文件，但我无法挂载它。因为当我挂载它时，另一个应用程序可以在我卸载之前读取它。请帮助我。（这里的hdiutil命令[http://developer.apple.com/library/mac/#documentation/Darwin/Reference/ManPages/man1/hdiutil.1.htm](http://developer.apple.com/library/mac/#documentation/Darwin/Reference/ManPages/man1/hdiutil.1.htm)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T09:23:52.690

我认为唯一合理的方法是挂载磁盘映像。要安全地执行此操作，您可以使用`-mountrandom`和`-nobrowse`选项`hdiutil attach`。这将以随机路径名安装磁盘映像，并防止它在 UI 中可见。

```
hdiutil attach -mountrandom /tmp -nobrowse /tmp/secret_image.dmg 
```

假设磁盘映像只有一个 HFS 分区，您可以像这样解析随机挂载路径：

```
hdiutil attach -mountrandom /tmp -nobrowse /tmp/secret.dmg | awk '$2 = /Apple_HFS/ { print $3 }' 
```

或者，您可以使用 -plist 选项以 plist XML 格式获取输出，该格式可以使用 XML 工具解析或使用`plutil -convert json`.

当然，具有 root 访问权限的攻击者仍然可以监视新的挂载并在您有机会卸载它之前拦截您的磁盘映像，但是如果您的攻击者具有 root 权限，那么几乎所有的赌注都没有了。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T09:32:46.467

为此，您必须自己读取和解密 dmg 文件，然后解释磁盘映像中的 HFS 文件系统以获取您的文件。这并不容易，但肯定是可能的。查看[HFSExplorer](http://catacombae.org.preview.binero.se/hfsx.html)源代码。

但我不会在这方面投入太多精力。要么使用更易于阅读的不同文件格式来存储加密数据，要么使用 pajps 解决方案。请记住，无论您做什么，一旦您解密您的文件，用户将能够获得解密的数据。你可以让这更难，但你不能阻止它。

# c++ - C++ operator== 不应该是关联的吗？

> ID：14725111
> 
> 赞同：1
> 
> 时间：2013-02-06T09:02:08.177
> 
> 标签：c++

为什么这个 C++ 代码打印它打印的内容？

```
#include <vector>
#include <stdio.h>

int p(const char *x) {
   printf("%s\n", x);
   return 0;
}

int main()
{
   if (p("LEFT") == p("RIGHT")) ;

   std::vector<int> v1;
   v1.push_back(1);
   std::vector<int>::iterator it = v1.erase(v1.begin());

   if (it == v1.end())
      printf("OK\n");
   else
      printf("FAIL\n");

   std::vector<int> v2;
   v2.push_back(1);
   if (v2.erase(v2.begin()) == v2.end())
      printf("OK\n");
   else
      printf("FAIL\n");

   return 0;
} 
```

我对 OK/FAIL 部分感到困惑。这与 LEFT/RIGHT 部分相矛盾。这里发生了什么事？

我的输出是：

```
LEFT
RIGHT
OK
FAIL 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-06T09:05:47.607

关联性与评估顺序无关。

实际上，您正在调用未指定的行为。您无法判断哪个部分`==`将首先评估。

想一想：

```
int x;  // x is 0 initially
int foo()
{
   x++;
   return x;
}
int goo()
{
   return x;
}

int main()
{
   bool b = foo() == goo();
} 
```

如果`foo`(returns 1) 先计算，`b`将是`true`(`goo`将返回 1)。

如果`goo`(returns 0) 首先计算，`b`将是`false`(`foo`将返回 1)。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-06T09:07:45.957

它保持关联不会影响评估其参数的顺序，这是语言未指定的。它只是意味着如果你写“a == b == c”，那么它将解释为 ((a==b) == c)。但它可以提前计算出a、b和c，并按照它喜欢的任何顺序。

# yii - 控制器和模块同名

> ID：14725119
> 
> 赞同：1
> 
> 时间：2013-02-06T09:02:38.380
> 
> 标签：yii

我有同名的控制器和模块：下载

```
'urlManager'=>array(
    'urlFormat'=>'path',
    'showScriptName'=>false,
    'rules'=>array(
        'http://'.SITE_DOMAIN.'/<action:(download)>/<url:.*>'=>'<action>',
        'http://<module:(download)>.'.SITE_DOMAIN.'/<code:\w{32}>'=>'<module>',
    ),
) 
```

所以我想链接如下：[http ://domain.com/download/dir1/dir2/file1.zip](http://domain.com/download/dir1/dir2/file1.zip)

被路由到：application/controllers/DownloadController

其中 $_GET['url']=='dir1/dir2/file1.zip'

和像这样的链接：http: [//download.site.com/some_code](http://download.site.com/some_code)

被路由到：application/modules/download/controllers/DefaultController.php

其中 $_GET['code']=='some_code'

但是现在两种类型的链接都被路由到：application/modules/download/controllers/DefaultController.php

我不明白为什么

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T11:14:26.123

Try with this:

```
'urlManager'=>array(
    'urlFormat'=>'path',
    'showScriptName'=>false,
    'rules'=>array(
        'http://'.SITE_DOMAIN.'/download/<url:.*>'=>'Download/index',
        'http://download.'.SITE_DOMAIN.'/<code:\w{32}>'=>'Download/Default/index',
    ),
) 
```

Note: both URLs will be routed to the index action of they own controller.

# python - Python - 从列表中打印多个最短和最长的单词

> ID：14725120
> 
> 赞同：3
> 
> 时间：2013-02-06T09:02:38.003
> 
> 标签：python, arrays, list, sorting

我需要浏览一个列表并打印其中最长的单词。我可以只为一个单词执行此操作，但不知道如何打印多个单词，例如，如果有两个单词的长度为三个字母。我试过了

```
list.sort (key=len, reverse =True)
print ("The longest word in the list is: " , list[0]) 
```

这有效，但只打印第一个最长的，这对超过一个最长的单词没有好处。

我也试过：

```
p=0
for item in list:
    if len (item) > p:
        s=item
        p = len(item)
print (s) 
```

这也和前面的代码一样

我还需要为列表中最短的单词执行此操作。

抱歉，如果这不是一个好问题，这是我的第一个问题。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-06T09:06:23.323

*首先，永远*不要用作`list`变量名，因为它会覆盖内置类型，并可能在以后造成麻烦。

您可以对最长的单词执行此操作：

```
for i in lst:
    if len(i) == max(lst, key=len):
        print(i) 
```

对于最短的词：

```
for i in lst:
    if len(i) == min(lst, key=len):
        print(i) 
```

第一个代码打印与最长字符串长度相同的字符串。第二个做同样的事情，但使用最短的字符串。

一个小的优化是在循环之前预先计算最大/最小长度，因此您不需要每次都重新计算它。

```
maxLen = max(lst, key=len)
for i in lst:
    if len(i) == maxLen:
        print(i) 
```

另一个循环也可以这样做。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-06T09:40:25.390

您现有的代码实际上可以修改为没有太多麻烦。不要在 中保留单个字符串，而是`s`保留 a `list`of 字符串。如果你找到一个与之前最长的长度相同的，`append`那就是它。如果你发现一个更长的，扔掉`list`并开始一个新的。像这样：

```
p=0
s=[]
for item in lst:
    if len(item) > p:
        s=[item]
        p=len(item)
    elif len(item) == p:
        s.append(item)
print(s) 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-06T09:31:29.497

Volatility 的答案很好，但让我们看看另一种方法来做到这一点。

如果您不仅将列表按排序顺序排列，而且将其分组为相同长度的批次，该怎么办？那么这很容易：打印第一组，然后打印最后一组。

Python 附带的一个函数可以为您进行分组[`itertools.groupby`](http://docs.python.org/2/library/itertools.html#itertools.groupby)，所以很*容易*：

```
l.sort(key=len) # puts them in order
groups = list(itertools.groupby(l, key=len))
print('The shortest words are: {}'.format(groups[0][1])
print('The longest words are: {}'.format(groups[-1][1]) 
```

你可以把它变成一个单行：

```
groups = list(itertools.groupby(sorted(l, key=len), key=len)) 
```

但是，我认为在这种情况下我不会。重复`key=len`的和所有这些额外的括号使它更难阅读。

同时，当您只需要第一个时，您可以避免创建整个组列表：

```
l.sort(key=len)
shortest = itertools.groupby(l, key=len)
print('The shortest words are: {}'.format(next(shortest)[1]))
longest = itertools.groupby(reversed(l), key=len)
print('The longest words are: {}'.format(next(longest)[1])) 
```

但是，除非`list`它真的很大，否则我不会担心这个。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-06T09:13:48.873

您可以使用 dict 来收集单词：

```
results = {}
for word in words:
   if len(word) not in results:
      results[len(word)] = []
   results[len(word)].append(word) 
```

接下来按键对字典进行排序，键是长度并打印单词。这首先打印最长的单词，要反转它，请删除`reverse=True`：

```
for i in sorted(results.keys(), reverse=True):
   print 'Number of words with length {}: {}'.format(i,len(results[i]))
   for word in results[i]:
      print word 
```

只打印最短和最长的：

```
shortest = sorted(results.keys())[0]
longest = sorted(results.keys(), reverse=True)[0]

print 'Shortest words:'

for word in results[shortest]:
   print word

print 'Longest words:'

for word in results[longest]:
   print word 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-06T09:24:19.813

也可以始终使用 lambda 函数

```
longest = len(sorted(list, key=len)[-1])
filter(lambda item: len(item) == longest, list) 
```

将产生最长的单词

```
shortest = len(sorted(list, key=len)[0])
filter(lambda item: len(item) == shortest, list) 
```

将产生最短的单词

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2013-02-06T09:06:39.133

```
list.sort (key=len, reverse =True)
print ("The longest 3 words in the list are: " , list[:3]) 
```

# wordpress - 在 wordpress 主题中重新排序

> ID：14725122
> 
> 赞同：0
> 
> 时间：2013-02-06T09:02:39.637
> 
> 标签：wordpress, post

我是 wordpress 的新手。在我的页面中，使用调用模板显示帖子。但现在我想重新排序此页面中的一些帖子。以下是我的代码，用于显示帖子。我如何编辑此代码以重新排序一些帖子标题。请帮助我。

```
 <?php 
/*
Template Name: Portfolio Page
*/
?>

<?php 
$et_ptemplate_settings = array();
$et_ptemplate_settings = maybe_unserialize( get_post_meta($post->ID,'et_ptemplate_settings',true) );

$fullwidth = isset( $et_ptemplate_settings['et_fullwidthpage'] ) ? (bool) $et_ptemplate_settings['et_fullwidthpage'] : false;
$et_ptemplate_showtitle = isset( $et_ptemplate_settings['et_ptemplate_showtitle'] ) ? (bool) $et_ptemplate_settings['et_ptemplate_showtitle'] : false;
$et_ptemplate_showdesc = isset( $et_ptemplate_settings['et_ptemplate_showdesc'] ) ? (bool) $et_ptemplate_settings['et_ptemplate_showdesc'] : false;
$et_ptemplate_detect_portrait = isset( $et_ptemplate_settings['et_ptemplate_detect_portrait'] ) ? (bool) $et_ptemplate_settings['et_ptemplate_detect_portrait'] : false;

$gallery_cats = isset( $et_ptemplate_settings['et_ptemplate_gallerycats'] ) ? (array) $et_ptemplate_settings['et_ptemplate_gallerycats'] : array();
$et_ptemplate_gallery_perpage = isset( $et_ptemplate_settings['et_ptemplate_gallery_perpage'] ) ? (int) $et_ptemplate_settings['et_ptemplate_gallery_perpage'] : 12;

$et_ptemplate_portfolio_size = isset( $et_ptemplate_settings['et_ptemplate_imagesize'] ) ? (int) $et_ptemplate_settings['et_ptemplate_imagesize'] : 2;

$et_ptemplate_portfolio_class = '';
if ( $et_ptemplate_portfolio_size == 1 ) $et_ptemplate_portfolio_class = ' et_portfolio_small';
if ( $et_ptemplate_portfolio_size == 3 ) $et_ptemplate_portfolio_class = ' et_portfolio_large';
?>

<?php get_header(); ?>

<div id="main-content" class="clearfix<?php if($fullwidth) echo(' fullwidth');?>">
    <div id="left-area">
        <?php get_template_part('includes/breadcrumbs','page'); ?>
        <div id="entries">
            <div class="entry post clearfix">
                <?php get_template_part('loop','page'); ?>

                <div id="et_pt_portfolio_gallery" class="clearfix<?php echo $et_ptemplate_portfolio_class; ?>">
                    <?php $gallery_query = '';
                    $portfolio_count = 1;
                    $et_open_row = false;
                    if ( !empty($gallery_cats) ) $gallery_query = '&cat=' . implode(",", $gallery_cats);
                    else echo '<!-- gallery category is not selected -->'; ?>
                    <?php 
                        $et_paged = is_front_page() ? get_query_var( 'page' ) : get_query_var( 'paged' );
                    ?>
                    <?php query_posts("showposts=$et_ptemplate_gallery_perpage&paged=" . $et_paged . $gallery_query); ?>
                    <?php if (have_posts()) : while (have_posts()) : the_post(); ?>

                        <?php $width = 260;
                        $height = 170;

                        if ( $et_ptemplate_portfolio_size == 1 ) {
                            $width = 140;
                            $height = 94;
                            $et_portrait_height = 170;
                        }
                        if ( $et_ptemplate_portfolio_size == 2 ) $et_portrait_height = 315;
                        if ( $et_ptemplate_portfolio_size == 3 ) {
                            $width = 430;
                            $height = 283;
                            $et_portrait_height = 860;
                        }                       

                        $et_auto_image_detection = false;
                        if ( has_post_thumbnail( $post->ID ) && $et_ptemplate_detect_portrait ) {
                            $wordpress_thumbnail = get_post( get_post_thumbnail_id($post->ID) );
                            $wordpress_thumbnail_url = $wordpress_thumbnail->guid;

                            if ( et_is_portrait($wordpress_thumbnail_url) ) $height = $et_portrait_height;
                        }

                        $titletext = get_the_title();
                        $et_portfolio_title = get_post_meta($post->ID,'et_portfolio_title',true) ? get_post_meta($post->ID,'et_portfolio_title',true) : get_the_title();
                        $et_videolink = get_post_meta($post->ID,'et_videolink',true) ? get_post_meta($post->ID,'et_videolink',true) : '';

                        $thumbnail = get_thumbnail($width,$height,'',$titletext,$titletext,true,'et_portfolio');
                        $thumb = $thumbnail["thumb"];

                        if ( $et_ptemplate_detect_portrait && $thumbnail["use_timthumb"] && et_is_portrait($thumb) ) {
                            $height = $et_portrait_height;
                        } ?>

                        <?php if ( $portfolio_count == 1 || ( $et_ptemplate_portfolio_size == 2 && (!$fullwidth && ($portfolio_count+1) % 2 == 0) ) || ( $et_ptemplate_portfolio_size == 3 && (($portfolio_count+1) % 2 == 0) ) ) {
                            $et_open_row = true; ?>
                            <div class="et_pt_portfolio_row clearfix">
                        <?php } ?>

                            <div class="et_pt_portfolio_item">
                                    <?php if ($et_ptemplate_showtitle) { ?>
                                        <h2 class="et_pt_portfolio_title"><a href="<?php the_permalink(); ?>"><?php echo $et_portfolio_title; ?></a></h2>
                                    <?php } ?>
                                    <div class="et_pt_portfolio_entry<?php if ( $height == $et_portrait_height ) echo ' et_portrait_layout'; ?>">
                                        <div class="et_pt_portfolio_image<?php if ($et_videolink <> '') echo ' et_video'; ?>">
                                            <?php print_thumbnail($thumb, $thumbnail["use_timthumb"], $titletext, $width, $height, ''); ?>
                                            <a href="<?php the_permalink(); ?>"><span class="et_pt_portfolio_overlay"></span></a>

                                            <a class="et_portfolio_zoom_icon <?php if ($et_videolink <> '') echo 'et_video_lightbox'; else echo('fancybox'); ?>" title="<?php the_title(); ?>"<?php if ($et_videolink == '') echo ' rel="portfolio"'; ?> href="<?php if ($et_videolink <> '') echo esc_url($et_videolink); else echo($thumbnail['fullpath']); ?>"><?php esc_html_e('Zoom in','Aggregate'); ?></a>
                                            <a class="et_portfolio_more_icon" href="<?php the_permalink(); ?>"><?php esc_html_e('Read more','Aggregate'); ?></a>
                                        </div> <!-- end .et_pt_portfolio_image -->
                                    </div> <!-- end .et_pt_portfolio_entry -->
                                    <?php if ($et_ptemplate_showdesc) { ?>
                                        <p><?php truncate_post(90); ?></p>
                                    <?php } ?>
                                </div> <!-- end .et_pt_portfolio_item -->

                        <?php if ( ($et_ptemplate_portfolio_size == 2 && !$fullwidth && $portfolio_count % 2 == 0) || ( $et_ptemplate_portfolio_size == 3 && ($portfolio_count % 2 == 0) ) ) {
                            $et_open_row = false; ?>
                            </div> <!-- end .et_pt_portfolio_row -->
                        <?php } ?>

                        <?php if ( ($et_ptemplate_portfolio_size == 2 && $fullwidth && $portfolio_count % 3 == 0) || ($et_ptemplate_portfolio_size == 1 && !$fullwidth && $portfolio_count % 3 == 0) || ($et_ptemplate_portfolio_size == 1 && $fullwidth && $portfolio_count % 5 == 0) ) { ?>
                            </div> <!-- end .et_pt_portfolio_row -->
                            <div class="et_pt_portfolio_row clearfix">
                            <?php $et_open_row = true; ?>
                        <?php } ?>

                    <?php $portfolio_count++; 
                    endwhile; ?>
                        <?php if ( $et_open_row ) { 
                            $et_open_row = false; ?>
                            </div> <!-- end .et_pt_portfolio_row -->
                        <?php } ?>
                        <div class="page-nav clearfix">
                            <?php if (function_exists('wp_pagenavi')) { wp_pagenavi(); }
                            else { ?>
                                 <?php get_template_part('includes/navigation'); ?>
                            <?php } ?>
                        </div> <!-- end .entry -->
                    <?php else : ?>
                        <?php if ( $et_open_row ) { 
                            $et_open_row = false; ?>
                            </div> <!-- end .et_pt_portfolio_row -->
                        <?php } ?>
                        <?php get_template_part('includes/no-results'); ?>
                    <?php endif; wp_reset_query(); ?>

                    <?php if ( $et_open_row ) { 
                        $et_open_row = false; ?>
                        </div> <!-- end .et_pt_portfolio_row -->
                    <?php } ?>
                </div> <!-- end #et_pt_portfolio_gallery -->

            </div> <!-- end .entry -->

        </div> <!-- end #entries -->
    </div> <!-- end #left-area -->

    <?php if (!$fullwidth) get_sidebar(); ?>

<?php get_footer(); ?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T11:58:30.567

模板的相关部分是这里的这一行；

```
<?php query_posts("showposts=$et_ptemplate_gallery_perpage&paged=" . $et_paged . $gallery_query); ?> 
```

该`query_posts`方法用于更改主 Wordpress 循环。在这种情况下，您有一个参数列表，它们全部融合在一起并用“&”字符分隔，但如果您查看[文档](http://codex.wordpress.org/Function_Reference/query_posts)，您还可以将一个数组传递给 query_posts() ，因为它可以布局和格式化，因此更容易修改像这样（注释`showposts`已被弃用，有利于`posts_per_page`）；

```
<?php query_posts( array( 'posts_per_page' => $et_ptemplate_gallery_perpage, 'paged' => $et_paged . $gallery_query, 'orderby' => 'title', 'order' => 'DESC' ) ); ?> 
```

[您可以通过查看此处的 Codex 来](http://codex.wordpress.org/Class_Reference/WP_Query#Order_.26_Orderby_Parameters)选择您的 orderby 选项。

# python - 如何在 Python 中集成信号

> ID：14725128
> 
> 赞同：1
> 
> 时间：2013-02-06T09:02:49.450
> 
> 标签：python, scipy, integrate, quad

我必须在我决定的范围内整合一个信号。

我用过这个方法：

```
def integrand(x,y):
    return y[x]

result=scipy.integrate.quad(integrand,t0,t1,args=(y))*0.2E-6 
```

y 是 500 微秒内 2500 个点的数组。例如，t0 是 700，t1 是 1500。0.2E-6 是信号的两个值之间的步长。

这是对的吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T13:26:58.043

并不真地。要集成采样函数，您可以使用[`scipy.integrate.simps`](http://docs.scipy.org/doc/scipy/reference/generated/scipy.integrate.simps.html)或[`scipy.integrate.trapz`](http://docs.scipy.org/doc/scipy/reference/generated/scipy.integrate.trapz.html)：

```
result_simps = scipy.integrate.simps(y[t0:t1+1], dx=0.2E-6)
result_trapz = scipy.integrate.trapz(y[t0:t1+1], dx=0.2E-6) 
```

# python - 服务器在python中发送数据

> ID：14725129
> 
> 赞同：-1
> 
> 时间：2013-02-06T09:02:58.667
> 
> 标签：python

我正在用python编写一个简单的客户端服务器应用程序，客户端正在侦听进入特定端口的每种类型的数据，并且我想在接收数据流时发送回连接的客户端（具有动态IP）一个字符串，在本例中为“001”。但是当我尝试发送消息时，它失败了！

```
#!/usr/bin/env python

import socket

TCP_IP = '192.168.1.115'        
TCP_PORT = 55001   
BUFFER_SIZE = 1024      
MESSAGE = '01'  

s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)    
s.bind((TCP_IP, TCP_PORT))     
s.listen(1)     

conn, addr = s.accept()         
print ('Connection address:', addr)      
while 1:       
    data = conn.recv(BUFFER_SIZE)     
    if not data: break      
    print ('received data:', data)      
    conn.send(data)  # echo       

print ('Sending data to client...')   

addr change every connection .. i cannot manage this! 

s.connect((addr, TCP_PORT))
s.send(MESSAGE)
data = s.recv(BUFFER_SIZE)
s.close() 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T09:14:05.433

（连接流）套接字是双向的，因此无需调用`connect`即可获得与客户端的连接——您已经拥有一个。

但是你想知道你的代码为什么会失败。它至少存在三个问题。

首先，在你调用`listen`或`connect`a之后`socket`，你不能再调用`connect`；你会得到一个例外（`EISCONN`在 POSIX 上，在 Windows 上是等效的）。您将不得不创建一个新的`socket`.

其次，客户端实际上是在与服务器相同的端口上进行连接的`bind`ed 和ing 吗？`listen`如果没有，你`connect`就不能工作。如果是这样，`bind`如果客户端和服务器在同一台机器上，则会失败。

第三，`addr`你得到的`accept`是一`(host, port)`对，而不仅仅是一个主机。所以，正如所写，你正在尝试`connect((('192.168.1.115', 12345), 55001))`，这显然是行不通的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T09:18:45.630

您正在尝试使用服务器侦听套接字 ( `s`) 回复客户端。这仅在 UDP 服务器中才有可能。由于这是一个 TCP 服务器，您必须使用`conn`它`s.accept()`来与远程客户端通信。

# android - AndEngine Physics Box2D - 即使没有任何传感器变化，AnimatedSprite 图像也会移动

> ID：14725131
> 
> 赞同：1
> 
> 时间：2013-02-06T09:03:13.517
> 
> 标签：android, box2d, andengine

我有一个 AnimatedSprite 作为播放器，我正在使用 IAccelerometerListener 来回移动到播放器。问题是即使设备放在桌子上没有任何移动，我的播放器也会向上或向右移动。

谁能指出我错过了什么。下面是我的代码。

```
public Scene onLoadScene() {
.....
physicsWorld = new PhysicsWorld(new Vector2(0, SensorManager.GRAVITY_EARTH), false);

    /** for POTRAIT */
    final Display display = getWindowManager().getDefaultDisplay();
    int cameraWidth = display.getWidth();
    int cameraHeight = display.getHeight();
    final Shape ground = new Rectangle(0,cameraHeight, CAMERA_WIDTH,0);
    final Shape roof = new Rectangle(0,cameraHeight - (player.getHeight() * 2)  , CAMERA_WIDTH, player.getHeight() / 2);
    final Shape left = new Rectangle(0,0, 2,cameraHeight);
    final Shape right = new Rectangle(cameraWidth , 0, 2, cameraHeight);

    final FixtureDef wallFixtureDef = PhysicsFactory.createFixtureDef(0, 0, 1);
    PhysicsFactory.createBoxBody(this.physicsWorld, ground, BodyType.StaticBody, wallFixtureDef);
    PhysicsFactory.createBoxBody(this.physicsWorld, roof, BodyType.StaticBody, wallFixtureDef);
    PhysicsFactory.createBoxBody(this.physicsWorld, left, BodyType.StaticBody, wallFixtureDef);
    PhysicsFactory.createBoxBody(this.physicsWorld, right, BodyType.StaticBody, wallFixtureDef);

    this.mMainScene.attachChild(ground);
    this.mMainScene.attachChild(roof);
    this.mMainScene.attachChild(left);
    this.mMainScene.attachChild(right);

    mMainScene.registerUpdateHandler(physicsWorld);
    final Body grd = PhysicsFactory.createBoxBody(physicsWorld, player, BodyType.DynamicBody, FIXTURE_DEF);

    this.mMainScene.attachChild(player);
    physicsWorld.registerPhysicsConnector(new PhysicsConnector(player,grd, true, true));

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T07:56:49.103

如果 x 和 y 值大于该阈值，您可以设置阈值并检查 onAccelerationChanged 方法，然后更新您的精灵，否则忽略该更新步骤。喜欢：

```
@Override
    public void onAccelerationChanged(AccelerationData pAccelerationData) {
        // TODO Auto-generated method stub
        if(pAccelerationData.getX() > THRESHOLD_X || pAccelerationData.getY() > THRESHOLD_Y) {
          // update your sprite now...

        }
    } 
```

# php - 使用mysql在php中实现多语言

> ID：14725135
> 
> 赞同：1
> 
> 时间：2013-02-06T09:03:26.403
> 
> 标签：php, mysql, sql, google-translate

我是 php 新手。在我的网站上，我创建了所有语言的列表框，但我不知道如何将我的英语内容翻译成中文或西班牙语，基本上我需要特定语言的翻译代码。

我制作了一个语言表，其属性为`Lang_id`, `Lang_name`。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T09:10:49.213

看看这里：[PHP 中的国际化](https://stackoverflow.com/questions/3760499/internationalization-in-php)。PHP 5.3 支持原生国际化 ( [http://de.php.net/manual/en/book.intl.php](http://de.php.net/manual/en/book.intl.php) )

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T09:16:57.367

制作专用页面，例如：“lang.php”，代码如下

```
0 = for English
1 = Italian
2 = French

$me_user_name = array('Username','nome utente','','','Nom d\'utilisateur') 
```

在您的网站上使用此数组。

例如：

```
echo $me_user_name[0] // to print in english 
```

# linux - 通过 unix 域套接字传递的数据是否跨越内核边界？

> ID：14725136
> 
> 赞同：0
> 
> 时间：2013-02-06T09:03:27.047
> 
> 标签：linux, sockets, kernel

我们正在为网络服务器编写一个代理，客户端程序将连接到本地 unix 域套接字以发送其数据，而不是直接通过 TCP 连接，然后代理应用程序将通过 TCP 转发它。

我的问题是：应用程序通过 unix 域套接字发送的数据在代理接收之前是否越过内核边界？我问的原因是，如果是这样，我们可以期望看到使用 splice(2) 的好处。如果没有，我们不会。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T09:56:33.410

当然 Unix 套接字通过内核，但你的问题是建立在一个误解之上的。您不会看到通过引入*另一个*复制步骤的好处`splice`。

# kinect-sdk - x-box 的 kinect 相机可以支持开发吗？

> ID：14725139
> 
> 赞同：0
> 
> 时间：2013-02-06T09:03:37.177
> 
> 标签：kinect-sdk

x-box 的 kinect 相机可以支持我开发应用程序吗？我不确定，因为它用于 x-box。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T03:20:35.377

是的，它可以。我已经为此使用了几个月了。如果通过开发应用程序是指 C# 或 C++，那么是的，如果您下载 Kinect for Windows SDK，您可以获得驱动程序。

我听说你也可以使用 OpenNI 获得 Linux 驱动程序，如果你正在寻找的话。唯一的细微差别是，如果您想编译成独立的 EXE，您必须向 Kinect for Windows SDK 开发团队支付许可费用。但是，由于您只问是否可以发展，因此答案是肯定的。此外，Kinect for Xbox 上的深度限制在 Kinect for Windows 上不存在。

# ms-access - 在 Access 中根据多个条件过滤子表单

> ID：14725140
> 
> 赞同：1
> 
> 时间：2013-02-06T09:03:40.187
> 
> 标签：ms-access

我有一个带有 2 个复选框和 2 个组合框的表单，以及一个显示相应结果的子表单。

可以使用以下组合框之一过滤我的子表单：-

```
Dim LSQL

LSQL = "select * from Queries"
LSQL = LSQL & " where RaisedBy = '" & cboRaisedBy & "'"

Form_frmMainSub.RecordSource = LSQL 
```

但是在所有 4 个条件上启用过滤器的最佳方法是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T11:02:51.387

什么是最好的很大程度上取决于要过滤的数据和链接字段。我通常喜欢使用链接子字段和主字段来过滤子表单，因为它完全不需要代码就可以很好地工作，但它可能不适合你。您可以将链接字段设置为控件的名称以及字段的名称。您还可以考虑混合使用链接子字段和主字段以及过滤器属性。更新 sql 也可以，但它会变得乏味，并且会干扰太多用户应用的过滤器。

# design-patterns - 在 .NET 中开始使用 IoC 的最佳方法是什么

> ID：14725146
> 
> 赞同：0
> 
> 时间：2013-02-06T09:04:02.300
> 
> 标签：design-patterns, dependency-injection, refactoring, inversion-of-control

我一直在阅读 IoC，这似乎是一个非常广泛和模糊的指南。我还负责重构企业系统，使其更易于维护和测试。IoC 承诺在系统的这两个方面帮助我。

开始使用 IoC 模式的最佳方法是什么？我应该专注于更具体的事情，比如依赖注入，还是应该尝试更深入地了解 IoC 的更广泛方面？

我对此很陌生，并且觉得自己有点过头了。任何意见，将不胜感激。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-06T10:08:53.067

这个问题只有一个可能的答案:-)。阅读[本书](http://www.manning.com/seemann/)：

![Mark Seemann 在 .NET 中的依赖注入](../Images/ae9527fda24968216bc9a15fee81f4e5.png)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-06T09:18:28.173

我会说从依赖注入开始。但是如果没有容器，你最终会做很多必须再次重构的工作。

因此，我将从学习如何在一个小型测试项目中使用容器开始，并确保在继续之前了解不同的生命周期范围。

您还可以阅读我的 IoC 文章： http: [//www.codeproject.com/Articles/386164/Get-injected-into-the-world-of-inverted-dependenci](http://www.codeproject.com/Articles/386164/Get-injected-into-the-world-of-inverted-dependenci)

# c# - 使用一个委托引用多个方法

> ID：14725149
> 
> 赞同：3
> 
> 时间：2013-02-06T09:04:10.440
> 
> 标签：c#, delegates

我目前是`sandpitting`代表。
在以下示例中是否`dd`引用`p.m` *和* `p.n`？
添加后我可以添加另一行以`p.m`再次运行`p.n`吗？还是我需要`d dd = p.m;`再次实施？

```
class Program
{
    private delegate int d(int x);

    static void Main(string[] args)
    {
        Program p;
        p = new Program();

        d dd = p.m;//d dd = new d(p.m);
        Console.WriteLine(dd(3).ToString());

        dd += p.n;//dd += new d(p.n);
        Console.WriteLine(dd(3).ToString());

        //<<is there now a quick way to run p.m ?

        Console.WriteLine("press [enter] to exit");
        Console.ReadLine();
    }

    private int m(int y)
    {
        return y * y;
    }
    private int n(int y)
    {
        return y * y - 10;
    }
} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-06T09:17:36.113

是的，在第一次赋值 ( `d dd = this.m;`) 之后，所有使用 using 进行的赋值`+=`也将被调用。

您可以使用 删除一个方法`-=`，请参阅以下示例；

```
d dd = p.m;//d dd = new d(p.m);
Console.WriteLine(dd(3).ToString()); //calls p.m

dd += p.n;//dd += new d(p.n);
Console.WriteLine(dd(3).ToString()); //calls boths p.m and p.n

dd -= p.n;
Console.WriteLine(dd(3).ToString()); // only calls p.m 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2015-07-18T01:01:48.917

```
//is there now a quick way to run p.m ? 
```

是的，除了 daryal 的帖子之外，这可以通过以下方式完成（同时仍保持多播委托）：

```
p.GetInvocationList()[0].DynamicInvoke(new object[] { 3 }); 
```

# c# - 使用 Web 服务失败

> ID：14725152
> 
> 赞同：0
> 
> 时间：2013-02-06T09:04:12.793
> 
> 标签：c#, web-services, sharepoint-2010, visual-studio-2012, webservice-client

这几天我测试了一个小应用程序，它应该被 web 服务读取一个 SPList 并显示内容。不幸的是它不起作用。我总是遇到同样的失败：

> System.Web.Services.Protocols.SoapException：引发了“Microsoft.SharePoint.SoapServer.SoapServerException”类型的异常。
> 
> 北 System.Web.Services.Protocols.SoapHttpClientProtocol.ReadResponse(SoapClientMessage 消息，WebResponse 响应，流 responseStream，布尔 asyncCall)
> 
> 北 System.Web.Services.Protocols.SoapHttpClientProtocol.Invoke(String methodName, Object[] 参数)
> 
> bei NeuerTestWebservice_4_2.webserviceSCC.Lists.GetListItems(String listName, String viewName, XmlNode query, XmlNode viewFields, String rowLimit, XmlNode queryOptions, String webID) in d:\VisualStudio2012\WebserviceTests\NeuerTestWebservice_4_2\NeuerTestWebservice_4_2\Web References\webserviceSCC\Reference.cs :泽勒 455。
> 
> 在 d:\VisualStudio2012\WebserviceTests\NeuerTestWebservice_4_2\NeuerTestWebservice_4_2\Form1.cs:Zeile 30 中的北 NeuerTestWebservice_4_2.Form1.btnFill_Click(Object sender, EventArgs e)。

我的网络参考如下所示：[http](http://rootwebsite.de/_vti_bin/Lists.asmx?wsdl/soap) ://rootwebsite.de/_vti_bin/Lists.asmx?wsdl/soap （好的 - 目前这是一个站点，但我想稍后选择网站和列表）这是我的代码：

```
 ...

    private void btnFill_Click(object sender, EventArgs e)
    {
        try
        {
           webserviceSCC.Lists service = new webserviceSCC.Lists();
           service.UseDefaultCredentials = true;

           XmlNode nodes = service.GetList("Inhalts- und Strukturberichte");  //don´t get a failure, if I add "?wsdl/soap" to the Webservice-Referenz ("/_vti_bin/Lists.asmx?wsdl/soap")
           XmlNode listItems = service.GetListItems("Inhalts- und Strukturberichte", "Alle Elemente", null, null, "100", null, null); //here (GetListItems) I get the failure always
          //XmlNode listItems = service.GetListItems("Inhalts- und Strukturberichte", null, null, viewFields, null, null, null);

                    ...
        }
        catch (Exception ex)
        {
            MessageBox.Show(ex.ToString());
        }
  } 
```

我测试了不同的网络服务参考。你有什么想法，因为我失败了吗？你有我的好榜样吗？

谢谢。

* * *

谢谢你。我之前测试过的网址 - 失败时没有变化。我也遇到了这个失败：

> 例外：抛出：“Die Datei oder Assembly "NeuerTestWebservice_4_2.XmlSerializers, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" oder eine Abhängigkeit davon wurde nicht gefunden。Das System kann die angegebene Datei nicht finden。” (System.IO.FileNotFoundException) 抛出 System.IO.FileNotFoundException：“Die Datei oder Assembly "NeuerTestWebservice_4_2.XmlSerializers, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" oder eine Abhängigkeit davon wurde nicht gefunden. Das System kann die angegebene Datei nicht finden。”

webservice初始化后直接：webserviceSCC_Sys.Lists service = new webserviceSCC_Sys.Lists(); 对这些信息有帮助吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T13:10:04.453

这是我调用两个不同的网络服务的方法，它可以正常工作。我怀疑您需要`service.Url`在您的财产上指定财产。

（请注意，我正在使用 using 语句来正确处理 Web 服务。）

```
public void TestPermissions(String objectName, String objectType, LoggedInUserDetails userDetails, string siteUrl)
{
    XmlNode perms;
    XmlNode userInfo;
    XmlNode permissions;
    XmlNode rolesFromUser;

    using (SharePermissions.Permissions permissionService = new SharePermissions.Permissions())
    {
        List<object> names = new List<object>();
        permissionService.Credentials = new NetworkCredential(
                userDetails.UserName,
                Decrypt(userDetails.Password, "utrfirfu7j6r" + userDetails.MacAddress));
        permissionService.Url = siteUrl + @"/_vti_bin/Permissions.asmx";

        perms = permissionService.GetPermissionCollection(objectName, objectType);
    }

    using (ShareGroups.UserGroup userGroupService = new ShareGroups.UserGroup())
    {
        userGroupService.Url = siteUrl + @"/_vti_bin/UserGroup.asmx";
        userGroupService.Credentials = new NetworkCredential(
            userDetails.UserName,
            Decrypt(userDetails.Password, "asdasdasdsad" + userDetails.MacAddress));

        permissions = userGroupService.GetRolesAndPermissionsForCurrentUser();
        userInfo = userGroupService.GetUserInfo(userDetails.ResolvedUserName);
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-08T04:48:04.983

您的 GetListItems() 参数导致错误。有关示例，请参见[http://msdn.microsoft.com/en-us/library/websvclists.lists.getlistitems.aspx](http://msdn.microsoft.com/en-us/library/websvclists.lists.getlistitems.aspx)。根据文档，viewName 参数（第二个）应该是视图的 Guid，或者默认视图的空字符串，而不是视图的名称。

# php - Zend 框架：Apc 缓存后端意外清除

> ID：14725166
> 
> 赞同：1
> 
> 时间：2013-02-06T09:04:55.137
> 
> 标签：php, zend-framework, caching, apc

我在 Zend Framework 中使用 Apc 后端缓存。当我做 GET 请求时它工作正常，我的对象存储在缓存中，我能够检索它们。

问题是，当我发出 POST 请求（它似乎是触发器）时，apc 缓存为空。这是 Zend 问题，还是由于 APC 配置？我搜索了文档，但没有看到有关请求类型（GET 或 POST）的信息。

你知道为什么我的缓存是空的吗？

谢谢

编辑：一些代码

**在控制器中：**

```
$cacheId = 'cache_key';
$cache = Cache_CacheHandler::getClassCache($cacheId);
if (($form = $cache->load($cacheId)) === false) { // cache missed
    ... 
```

**在引导程序中：**

/** * Zend 缓存初始化 */ protected function _initZendCache() { //Class Cache : stocke les objets $classCache = Zend_Cache::factory( 'Class', //Frontend 'Apc', //Backend array('cached_entity ' => 'MY_MODEL_NAME') );

```
Zend_Registry::set('classCache', $classCache); 
```

}

# mysql - 简单的 concat + left mysql 命令后破坏的 unicode

> ID：14725172
> 
> 赞同：0
> 
> 时间：2013-02-06T09:05:15.960
> 
> 标签：mysql, unicode

我发现了一些非常奇怪的mysql行为。

如果我运行以下命令：

```
mysql> select left(concat("A", "B®"), 3); 
```

然后输出如预期：

```
+-----------------------------+
| left(concat("A", "B®"), 3)  |
+-----------------------------+
| AB®                         |
+-----------------------------+
1 row in set (0.00 sec) 
```

但是，如果我用某个数字（在这种情况下为 1）更改“A”：

```
mysql> select left(concat(1, "B®"), 3); 
```

Unicode 字符“®”已损坏：

```
+---------------------------+
| left(concat(1, "B®"), 3)  |
+---------------------------+
| 1B?                        |
+---------------------------+
1 row in set (0.00 sec) 
```

任何人都知道如何解释这种奇怪的行为以及如何避免它？

上面的例子只是一个复制品，在现实生活中它是数字和前面未知的字符串（不是硬编码的字符串）的连接。

非常感谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T09:12:51.647

Mysql 不会从字面上将整数转换为字符串。它将数字转换为它的二进制表示，这是不一样的。“如果参数包含任何二进制字符串，则结果是二进制字符串。数字参数将转换为其等效的二进制字符串形式；如果您想避免这种情况，可以使用显式类型转换，如下例所示：

```
SELECT CONCAT(CAST(int_col AS CHAR), char_col); 
```

有关详细信息，请参阅[此](http://dev.mysql.com/doc/refman/5.1/en/string-functions.html#function_concat)。

如果有人有不同的意见，我也想从其他人那里阅读。

# ios - 如何动态定位 iPhone 的 UIDatePicker 控件

> ID：14725173
> 
> 赞同：1
> 
> 时间：2013-02-06T09:05:20.910
> 
> 标签：ios, uidatepicker

我以编程方式将 UIDatePicker 控件添加到视图中。我希望 DatePicker 以标准方式显示停靠在屏幕底部...

我正在为 DatePicker 设置框架，并且需要了解 3.5 英寸 iPhone 和 4 英寸 iPhone 的不同屏幕尺寸。

以下代码正在产生所需的结果，但我有几个问题......

```
// In ViewDidLoad
CGRect defaultFrame = CGRectMake(0,0,0,0);
_datePicker = [[UIDatePicker alloc] initWithFrame:defaultFrame];

CGRect bounds = [self.view bounds];
int datePickerHeight = _datePicker.bounds.size.height;
int navBarHeight = 44;
CGRect datePickerFrame = CGRectMake(0, bounds.size.height - (datePickerHeight + navBarHeight), 0, 0);
[_datePicker setFrame:datePickerFrame];

// In method responding to user tap
[self.view addSubview:_datePicker]; 
```

Q1。有没有更优雅的方法来做到这一点？除了用框架创建 DatePicker 之外，检查它的高度，然后设置它的框架......

Q2。该视图是一个 UITableView，位于 UINavigationController 内。当我得到 self.view 的边界时，大小包括整个视图，包括导航栏的 44。然而，当我用 addSubview 添加 DatePicker 时，如果我不包括导航栏的偏移量，它就会偏离底部 44...

当 [self.view bounds] 返回完整边界时，为什么 addSubview 在较小的范围内工作？

干杯，加文

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T13:08:55.327

问题是导航栏在视图加载初始化后将所有视图向下推。自动调整蒙版可能会有所帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-07T13:05:03.580

在对此进行了更多研究之后，我意识到我最初的问题是有缺陷的。目前尚不清楚我将 UIDatePicker 添加为子视图的位置。我已经更新了这个问题。

我现在有两个答案：

1) 在 ViewDidLoad 中定位并添加 UIDatePicker。使用 Autoresizing 来处理视图大小的变化。然后使其可见以响应用户点击控件：

```
- (void)viewDidLoad
{
    [super viewDidLoad];
    _tableView = (UITableView*)self.view;
    _tableView.backgroundColor = [UIColor colorWithRed:0.941 green:0.941 blue:0.913 alpha:1.000];
    _tableView.backgroundView = nil;

    _datePicker = [[UIDatePicker alloc] init];

    CGRect bounds = [self.view bounds];
    int datePickerHeight = _datePicker.frame.size.height;
    _datePicker.frame = CGRectMake(0, bounds.size.height - (datePickerHeight), _datePicker.frame.size.width, _datePicker.frame.size.height);
    _datePicker.autoresizingMask = UIViewAutoresizingFlexibleTopMargin;

    _datePicker.isHidden = YES;
    [self.view addSubview:_datePicker];

    [_datePicker addTarget:self action:@selector(datePickerChanged:) forControlEvents:UIControlEventValueChanged];
} 
```

2）只需根据需要为UIDatePicker设置框架，而不是在ViewDidLoad中：

```
- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath
{
    switch (indexPath.row) {
        case RowDate:
        {
            CGRect bounds = [self.view bounds];
            int datePickerHeight = _datePicker.frame.size.height;
            _datePicker.frame = CGRectMake(0, bounds.size.height - (datePickerHeight), _datePicker.frame.size.width, _datePicker.frame.size.height);
            [self.view addSubview:_datePicker];
            break;
        }

        default:
            break;
    }
} 
```

谢谢，加文

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-06T09:40:01.383

1.  对于`UIDatePicker`，您无需指定其大小。因为大多数时候你会希望它和屏幕一样宽并且它的高度是固定的。但是你仍然需要把它放在正确的位置。也就是说，您需要为它计算正确的位置，设置它的框架。

2.  因为大多数时候你不希望你`UIDatePicker`的`navBar`. 所以苹果会让`addSubview`工作就好像界限“更小”一样。

# r - xts 微秒问题

> ID：14725174
> 
> 赞同：0
> 
> 时间：2013-02-06T09:05:21.313
> 
> 标签：r, xts, zoo, hft

在 .RData 文件中保存了一个 xts 对象，然后在另一个 R 实例中再次打开它。我丢失了微秒时间戳。我在两个环境中都保留了相同的配置，包括digits.secs=6。

```
yum <- structure(c(262, 262, 262, 100, 100, 100, 120, 370, 370, 370, 367, 392), 
                 class = c("xts", "zoo"), 
                 .indexCLASS = c("POSIXct", "POSIXt"), 
                 tclass = c("POSIXct", "POSIXt"), 
                 .indexTZ = "UTC", tzone = "UTC", 
                 index = structure(c(1355821310.69496, 
                                    1355821310.73023, 1355821310.75223, 
                                    1355821310.8355, 1355821310.87186,
                                    1355821310.88684), 
                 tzone = "UTC", 
                 tclass = c("POSIXct", "POSIXt")), 
                 .Dim = c(6L, 2L), 
                 .Dimnames = list(NULL, c("SzX", "SzS")
                )
              ) 
```

任何指针？

# java - 上传前java重命名文件

> ID：14725179
> 
> 赞同：-1
> 
> 时间：2013-02-06T09:05:43.553
> 
> 标签：java, android

我有一个问题，**我有这样的源代码**

```
public int uploadFile(String sourceFileUri) {
     SharedPreferences myPref = PreferenceManager.getDefaultSharedPreferences(getApplicationContext());
    String upLoadServerUri = new String(myPref.getString("serverURL", Constants.URL)+"/upload.php");
    String fileName = picturePath;

    HttpURLConnection conn = null;
    DataOutputStream dos = null;  
    String lineEnd = "\r\n";
    String twoHyphens = "--";
    String boundary = "*****";
    int bytesRead, bytesAvailable, bufferSize;
    byte[] buffer;
    int maxBufferSize = 1 * 1024 * 1024; 
    File sourceFile = new File(picturePath); 
```

如何在上传前重命名 *图片路径*上的文件 。谢谢你

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T09:12:04.003

您可以尝试将其放在函数的乞求中：

```
File renamed =new File(sourceFileUri);
renamed.renameTo(new File("newfile.png")); 
```

然后你会打电话给renamed.getAbsolutePath(); 而不是 sourceFileUri。

# python - 加速 Numpy 数组 / OpenCV cv2 图像的迭代

> ID：14725181
> 
> 赞同：3
> 
> 时间：2013-02-06T09:05:49.383
> 
> 标签：python, performance, opencv, numpy, iteration

我有 3 个形状 > (500, 500) 的 numpy 数组。我正在尝试同时迭代它们。我尝试了两种不同的方法，但它们都很慢。

在这里`Ix_Ix_blur`，`Ix_Iy_blur`和`Iy_Iy_blur`大小相同。我正在尝试查找功能并将其绘制在 OpenCV 图像上。

* * *

方法一：

```
for i in xrange (Ix_Ix_blur.shape[1]):
    for j in xrange(Ix_Ix_blur.shape[0]):
        A = np.array([ [Ix_Ix_blur[j][i], Ix_Iy_blur[j][i]], 
            [Ix_Iy_blur[j][i], Iy_Iy_blur[j][i]] ])
        detA = (A[0][0]*A[1][1])-(A[0][1]*A[1][0])
        traceA = A[0][0]+A[1][1]

        harmonic_mean = detA/traceA
        if(harmonic_mean > thresh):
            cv2.circle(img, (i,j), 1, (0, 0, 255), -1, 8) 
```

这需要`7 seconds`512*512 大小的图像

* * *

方法二：

```
Ix_Iy_blur_iter = np.nditer(Ix_Iy_blur)
Iy_Iy_blur_iter = np.nditer(Iy_Iy_blur)
Ix_Ix_blur_iter = np.nditer(Ix_Ix_blur)

while(not Ix_Iy_blur_iter.finished):
    try:
        A = np.array([[Ix_Ix_blur_iter.next(), Ix_Iy_blur_iter.next()],[Ix_Iy_blur_iter.value, Iy_Iy_blur_iter.next()]])
    except StopIteration:
        break
    detA = (A[0][0]*A[1][1])-(A[0][1]*A[1][0])
    traceA = A[0][0]+A[1][1]

    harmonic_mean = detA/traceA
    if(harmonic_mean > thresh):
        i = Ix_Ix_blur_iter.iterindex/Ix.shape[0]
        j = Ix_Ix_blur_iter.iterindex - Ix.shape[0]*i
        cv2.circle(img, (j,i), 1, (0, 0, 255), -1, 8) 
```

这种方法似乎也需要`7 seconds`迭代相同大小的图像。

有没有其他方法可以减少迭代所需的时间？

配置：

*   Ubuntu 12.04
*   第三代酷睿 i5 处理器
*   4 GB 内存
*   2 GB ATI RADEON GPU（我已关闭）

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-06T12:19:08.307

首先，您可以使用`Ix_Ix_blur[j, i]`而不是`Ix_Ix_blur[j][i]`. `Ix_Ix_blur[j][i]`将创建一个非常慢的临时数组。

要使用 ndarray 加速元素访问，您可以使用 item() 方法，该方法返回 python 原生数值，并且您不需要创建临时数组 A。使用原生数值计算比 numpy 标量更快。

```
for i in xrange (Ix_Ix_blur.shape[1]):
    for j in xrange(Ix_Ix_blur.shape[0]):
        a, b, c = Ix_Ix_blur.item(j, i), Ix_Iy_blur.item(j, i), Iy_Iy_blur.item(j, i)
        detA = a*c - b*b
        traceA = a + c
        harmonic_mean = detA/traceA
        if harmonic_mean > thresh:
            cv2.circle(img, (i,j), 1, (0, 0, 255), -1, 8) 
```

对于您的特定问题，不必循环计算，您可以：

```
detA = Ix_Ix_blur * Iy_Iy_blur - Ix_Iy_blur**2
traceA = Ix_Ix_blur + Iy_Iy_blur
harmonic_mean = detA / traceA
for j, i in np.argwhere(harmonic_mean > thresh):
    cv2.circle(img, (i,j), 1, (0, 0, 255), -1, 8) 
```

# jquery - 防止在响应式网页设计中加载幻灯片的图像

> ID：14725187
> 
> 赞同：0
> 
> 时间：2013-02-06T09:06:16.053
> 
> 标签：jquery, responsive-design, slideshow

我在我们的网站上有一个幻灯片 jquery 插件。我正在努力使我的网站具有响应性。我不想在移动分辨率上显示幻灯片。但是它可以使用 隐藏`display:none`，但它会导致在移动设备上下载额外的无用信息。

有没有办法防止在手机上加载幻灯片图像？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T09:08:02.860

这可以通过使用[**媒体查询**](http://www.w3.org/TR/css3-mediaqueries/)并包含背景图片来完成

例如，如果您包含图像

```
@media (min-width: 768px) and (max-width: 979px) { 
  // css here only applied when min-width: 768px  and  max-width: 979px    

 } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-15T12:18:49.260

使用 JavaScript 怎么样？

像往常一样包含 jQuery 幻灯片插件，但要防止它（无论如何）自动启动。然后编写一个简单`if`的，它将检查`window`对象以查看当前视口（用户）尺寸。如果他们落入让我们称之为“*移动范围*”（就像在媒体查询中一样），那么根本不启动幻灯片。

如果幻灯片插件编写正确，它应该支持手动、非自动启动幻灯片，并且在幻灯片实际开始之前它不应该请求任何图像（从而限制带宽）。如果您的不支持这些，请考虑更改插件。周围有数百甚至数千个这样的插件。

# maven - 从 Maven 中的 POM 文件中读取属性文件

> ID：14725197
> 
> 赞同：22
> 
> 时间：2013-02-06T09:06:40.797
> 
> 标签：maven, pom.xml

为什么这不起作用？如何从属性文件中选择版本号。

在 pom.xml 中读取属性

```
<project>
  <build>
    <plugins>
      <plugin>
        <groupId>org.codehaus.mojo</groupId>
        <artifactId>properties-maven-plugin</artifactId>
        <version>1.0</version>
        <executions>
          <execution>
            <phase>initialize</phase>
            <goals>
              <goal>read-project-properties</goal>
            </goals>
          </execution>
          <configuration>
            <files>
              <file>dev.properties</file>
            </files>
          </configuration>
        </executions>
      </plugin>
    </plugins>
  </build>
</project> 
```

在 dev.properties

org.aspectj.aspectjrt.version=1.6.11

pom.xml 中的依赖

```
 <dependency>
            <groupId>org.aspectj</groupId>
            <artifactId>aspectjrt</artifactId>
            <version>${org.aspectj.aspectjrt.version}</version>
        </dependency> 
```

错误：依赖项必须是有效版本

* * *

## 回答 #1

> 赞同：98
> 
> 时间：2013-02-06T10:44:32.063

当您从命令行启动 Maven 时，它会经历多个阶段。这是对这些阶段的伪描述，我有意简化确切的顺序（冒着说出稍微不正确/乱序的事情的风险），以便您可以了解为什么您尝试做的事情行不通。

1.  首先它解析你的命令行，使用命令行定义的任何属性`-Dname=value`都被注入到`MavenSession`

2.  检查反应堆定义命令行选项以确定要构建的项目列表（也称为反应堆）应该是什么。`-N`表示仅构建 root `pom.xml`，`-pl`允许指定要构建的模块列表，`-am`并`-amd`允许分别从`-pl`. Maven 目前还没有解析任何`pom.xml`文件。

3.  分析`-P`配置文件激活规则以查看要激活的配置文件。

4.  现在 Maven 有足够的知识开始解析`pom.xml`文件了。它首先加载和解析 root `pom.xml`，即当前目录中的那个（或者如果你指定了一个替代`pom.xml`项`-f`）。这个初始解析只是专注于找出要构建的项目列表。仅在可能影响`<modules>`可用列表的情况下才考虑配置文件激活。中的 Group Id、Artifact Id、Version 和 Packaging 坐标`pom.xml`不能包含属性，因为此时还没有对 中的属性进行解析`pom.xml`。（细心的读者也会看到，这也解释了为什么您不能根据`pom.xml`，因为在这个阶段只解析了系统属性）

5.  一旦项目集得到验证，Maven 现在会对这些`pom.xml`文件进行更多解析，以构建构建扩展列表（如果有）和插件列表。在这个阶段，解析需要对`<properties>`每个项目中的 进行评估，因此这是对这些进行评估并“注入”到有效模型中的时候。因此，您可以使用系统属性和pom 属性来定义 (xpath) `/project/build/extensions`、`/project/build/pluginManagement/plugins/plugin`、`/project/build/pluginManagement/plugins/plugin/dependencies`和.`/project/build/plugins/plugin``/project/build/plugins/plugin/dependencies`

6.  现在 Maven 开始解析命令行中指定的目标和阶段列表。评估部分指定的目标以匹配插件列表。对于将执行插件目标的所有项目，匹配必须是唯一的（即，如果它是聚合器目标，则匹配仅在根处需要，但对于所有其他“正常”目标，插件短名称必须是所有项目都使用相同的插件）。生命周期阶段必须来自默认生命周期之一，或来自构建扩展中定义的生命周期。

7.  从解析的目标和阶段列表中，Maven 构建构建计划，即它将在哪些项目上以什么顺序执行。为了做到这一点，Maven 必须解析在 reactor 项目`pom.xml`文件中定义的项目依赖项列表。这是因为依赖关系可能由反应器内的另一个项目产生，从而强制项目执行的顺序。因此，您可以使用系统属性和 pom 属性来定义 (xpath) 中的坐标和其他依赖项`/project/dependencyManagement/dependencies/dependency`，`/project/dependencies/dependency` 但请注意，此时尚未执行任何插件。

8.  现在 Maven 有了构建计划，它开始按照它构建的顺序执行该计划。如果 CLI 上的第一个目标/阶段是一个目标，那么将调用该目标。如果第一个目标/阶段是默认构建生命周期中的一个阶段，那么 Maven 将从该`initialize`阶段开始并执行绑定到该阶段的所有插件......以类似的方式沿着阶段列表继续，然后是项目列表. 另请注意，`initialize`阶段仅作为默认构建生命周期的一部分执行。它不会在默认的干净或默认站点生命周期上执行，也不会在任何自定义生命周期上执行。（细心的读者会得出结论，这突出了该问题所尝试的技术的另一个问题）。注意：请记住，聚合器目标在反应器中形成“中断”，因此如果您要求 Maven 在`clean package foo:bar site`哪里运行`foo:bar`聚合器 mojo 目标，那么`clean package`将针对反应器中的所有项目运行，然后`foo:bar`将针对根运行，然后`site`将针对反应堆中的所有项目运行。换句话说，构建计划将采用最长连续运行的非聚合器目标和阶段，除以最长连续运行的聚合器目标。

9.  在调用每个 mojo（即绑定到阶段或直接从命令行指定的目标）之前，Maven 会评估该mojo`pom.xml`的有效性`<configuration>`。此时，Maven 已经可以使用系统属性、在 pom 中指定的属性*以及*`MavenSession`由先前执行的 mojos注入的任何属性。因此，`<configuration>`可以引用这些属性中的任何一个......

    **在旁边**

    现在有一个警告......如果你说 set (xpath ) to`/project/build/directory`然后`${some-property-i-will-set-via-a-mojo}`从你的*.*字面值*，*它是in 的类型，所以你实际上会发生的是. 如果您要注入的字段是 type ，则不需要进行类型转换，因此该值将直接注入，并且不会发生任何属性替换。`<configuration>``/project/build/directory``pom.xml` *`${project.build.directory}``${some-property-i-will-set-via-a-mojo}` *`java.io.File``MavenProject``new File(project.getBaseDir(),"${some-property-i-will-set-via-a-mojo}")``<configuration>``File`**

     **还有其他边缘情况，例如上面概述的情况，但*通常*属性替换将使用这些部分中的“mojo 注入”属性（例如[Mojo 的 Properties Maven Plugin](http://mojo.codehaus.org/properties-maven-plugin)提供的那些）`<configuration>`。它不会在这些部分之外工作。** 

 **所以这里是斯蒂芬对不同属性类型的快速经验法则：

**系统属性**

这些工作无处不在......但是*非常*危险，`/project/(parent/)?/(groupId|artifactId|version|packaging)`因为当项目作为传递依赖项被拉入时，您无法控制将定义哪些系统属性。使用`${...}`内部膨胀`/project/(parent/)?/(groupId|artifactId|version|packaging)`应该被认为等同于以 200 公里/小时的速度驾驶汽车，并用一个从方向盘突出的 30 厘米（12 英寸）金属钉代替安全气囊......哦，没有安全带......你刚刚有 10 个单位的酒精和两行可卡因。

**`pom.xml`属性**（和`settings.xml`属性）

这些在大多数地方都有效，但在内部永远不可用`/project/(parent/)?/(groupId|artifactId|version|packaging)`（因为在评估这些字段时它们尚未被解析）并且不可用于考虑活动配置文件（再次因为在评估配置文件激活时它们尚未被解析）

**Mojo 注入属性**

这些工作在`<configuration>`部分内，并且可能（由于注入的 Mojo`String`参数的递归插值）在间接使用时工作，但考虑到所涉及的不确定性，建议将它们的使用限制在`<configuration>`插件和报告部分。

# 最后一件事

想想当你的项目被列为依赖项时会发生什么。如果您已通过使用 mojo 从磁盘上的文件中提取依赖项来指定其依赖项`.properties`，则当您的依赖项已从 Maven 存储库中提取时，Maven 无法复制该依赖项。所以 Maven 将无法确定依赖关系。因此它永远无法工作。

您可以做的是使用外部系统（例如 ANT）`pom.xml`从模板生成，并将版本替换到该文件中。然后使用实例化的模板进行构建。

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2013-02-06T09:10:19.983

此`properties(dev.properties)`文件用于构建作业。

```
<files>
   <file>dev.properties</file>
</files> 
```

对于依赖项，您需要在 pom.xml 文件中添加如下内容。

```
<properties>

<org.aspectj.aspectjrt.version>1.6.11</org.aspectj.aspectjrt.version>
</properties> 
```**

# java - 使用 Super CSV 的自定义 bean 实例化

> ID：14725198
> 
> 赞同：2
> 
> 时间：2013-02-06T09:06:41.193
> 
> 标签：java, csv, supercsv

`CSVBeanReader`公开读取给定类型 bean 的[方法](http://supercsv.sourceforge.net/apidocs/org/supercsv/io/CsvBeanReader.html#method_summary)。

有没有办法传递一个实际的对象实例而不是对象类型（即自定义 bean 实例化）？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T09:52:38.033

**Update:**

I've just released [Super CSV 2.2.0](http://supercsv.sourceforge.net/release_notes.html), which enables [CsvBeanReader](http://supercsv.sourceforge.net/apidocs/org/supercsv/io/CsvBeanReader.html) and [CsvDozerBeanReader](http://supercsv.sourceforge.net/apidocs/org/supercsv/io/dozer/CsvDozerBeanReader.html) to both populate an existing bean. Yay!

* * *

I'm a Super CSV developer. There's no way to do this using the readers supplied with Super CSV ([CsvBeanReader](http://supercsv.sourceforge.net/apidocs/org/supercsv/io/CsvBeanReader.html) and [CsvDozerBeanReader](http://supercsv.sourceforge.net/apidocs/org/supercsv/io/dozer/CsvDozerBeanReader.html)) and it hasn't come up as a feature request before. You could submit a [feature request](http://sourceforge.net/p/supercsv/feature-requests/?source=navbar) and we'll consider adding it in the next release (which I'm hoping to get out this month).

The quickest solution for you is to write your own CsvBeanReader that allows this - just copy the source of CsvBeanReader into yours and modify as required.

I'd start by refactoring the `populateBean()` method into 2 methods (overloaded so one calls the other).

```
 /**
   * Instantiates the bean (or creates a proxy if it's an interface), and maps the processed columns to the fields of
   * the bean.
   * 
   * @param clazz
   *            the bean class to instantiate (a proxy will be created if an interface is supplied), using the default
   *            (no argument) constructor
   * @param nameMapping
   *            the name mappings
   * @return the populated bean
   * @throws SuperCsvReflectionException
   *             if there was a reflection exception while populating the bean
   */
  private <T> T populateBean(final Class<T> clazz, final String[] nameMapping) {

    // instantiate the bean or proxy
    final T resultBean = instantiateBean(clazz);

    return populateBean(resultBean, nameMapping);
  }

  /**
   * Populates the bean by mapping the processed columns to the fields of the bean.
   * 
   * @param resultBean
   *            the bean to populate
   * @param nameMapping
   *            the name mappings
   * @return the populated bean
   * @throws SuperCsvReflectionException
   *             if there was a reflection exception while populating the bean
   */
  private <T> T populateBean(final T resultBean, final String[] nameMapping) {

    // map each column to its associated field on the bean
    for( int i = 0; i < nameMapping.length; i++ ) {

      final Object fieldValue = processedColumns.get(i);

      // don't call a set-method in the bean if there is no name mapping for the column or no result to store
      if( nameMapping[i] == null || fieldValue == null ) {
        continue;
      }

      // invoke the setter on the bean
      Method setMethod = cache.getSetMethod(resultBean, nameMapping[i], fieldValue.getClass());
      invokeSetter(resultBean, setMethod, fieldValue);

    }

    return resultBean;
  } 
```

You can then write your own `read()` methods (based on the ones from [CsvBeanReader](http://supercsv.sourceforge.net/xref/org/supercsv/io/CsvBeanReader.html)), that accept bean instances (instead of their class), and call the `populateBean()` that accepts an instance.

I'll leave this as an exercise for you, but if you have any questions just ask :)

# java - 寻址未知服务器 ActiveMQ 时连接停止

> ID：14725201
> 
> 赞同：1
> 
> 时间：2013-02-06T09:07:18.797
> 
> 标签：java, queue, jms, activemq

我在 Java 中使用 ActiveMQ 和 JMS。

当我使用此网址发送消息时：

```
"failover:(tcp://host:61616)?connection.sendTimeout=1000&startupMaxReconnectAttempts=1" 
```

只要“主机”是我连接到的已知服务器，当然还有一个 ActiveMQ，一切正常。

问题是当我尝试向与我没有关系的未知服务器发送消息时 - 没有连接，发送会停止相当长的时间。

我想配置 url，这样就不会发生这种停顿。我尝试了示例中所示的超时，但它不起作用。我也尝试了同样不起作用的 soConnectionTimeout。

这种失速导致产品失速，这是一个大问题。

我该如何解决？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T11:53:46.293

您是否尝试过将 'connectionTimeout' 选项添加到 URI 中，如此[处](http://activemq.apache.org/tcp-transport-reference.html)所述？超时值控制连接调用失败之前的时间。

# php - 如何防止程序的进一步执行，直到事件在 as3 中完成？

> ID：14725202
> 
> 赞同：-1
> 
> 时间：2013-02-06T09:07:18.720
> 
> 标签：php, actionscript-3

我打算使用 php 收集数据，但目前我正在从 htm 文件中检索数据：代码如下：

```
var Data:String;
Data=getData("file:///C:/..../try.htm");
trace(Data);

function getData(url:String):String
{

    var phpFileRequest:URLRequest = new URLRequest(url);
    var phpLoader:URLLoader = new URLLoader();
    phpLoader.dataFormat = URLLoaderDataFormat.VARIABLES;

    phpLoader.addEventListener(Event.COMPLETE, showResult);
    phpLoader.load(phpFileRequest);
    var a:int=1;
    trace("Worked");

    function showResult (event:Event):void
    {

        import flash.text.*;
        Data= "" + event.target.data.systemResult;
        trace(Data);

    }
return Data;
} 
```

现在函数调用执行，添加事件侦听器，然后返回主代码并尝试跟踪变量 Data，结果为 null，稍后当事件完成时，它执行函数。我想要的是程序控件仅在事件完成并且 showResult() 执行后才返回。请帮忙

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T10:21:44.090

我只是想在 Vesper 的回答中添加一些内容。使用 EnterFrame 毫无意义，因为该事件正在执行相同的工作。只需等待事件被触发，然后再执行其他任何操作。

```
var Data:String;
var weAreReady:Boolean=false;
getData("file:///C:/..../try.htm");

function getData(url:String):void
{

var phpFileRequest:URLRequest = new URLRequest(url);
var phpLoader:URLLoader = new URLLoader();
phpLoader.dataFormat = URLLoaderDataFormat.VARIABLES;

phpLoader.addEventListener(Event.COMPLETE, showResult);
phpLoader.load(phpFileRequest);
}

function showResult(event:Event):void
{
    Data= "" + event.target.data;
    trace(Data);
    goFurther(); // this will be called when the data will be finally ready
} 
```

如果您想同时调用不同的请求并希望等待所有事件被触发，请再次避免将 EnterFrame 或 Timer 添加到混合中。首先，我会避免多个同时请求，而是将它们排队，这似乎是控制整个事情的更好方法。但如果你还是想这样做，我会这样写：

```
var Data:String;
var _total:int; //number of events
var _done:int;  //number of events triggered
var weAreReady:Boolean=false;
_total = 4;
_done = 0;

getData("file:///C:/..../try.htm");
getData("file:///C:/..../try2.htm");
getData("file:///C:/..../try3.htm");
getData("file:///C:/..../try4.htm");

function getData(url:String):void
{

var phpFileRequest:URLRequest = new URLRequest(url);
var phpLoader:URLLoader = new URLLoader();
phpLoader.dataFormat = URLLoaderDataFormat.VARIABLES;

phpLoader.addEventListener(Event.COMPLETE, showResult);
phpLoader.load(phpFileRequest);
}

function showResult(event:Event):void
{
    Data= "" + event.target.data;
    trace(Data);
    if(++_done == _total) goFurther(); // this will only be called when all the events have been triggered
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-06T10:15:07.350

您不能在 Flash 中进行同步下载。为了等待一个事件，而不是使用处理能力，使用进入帧监听器和一个标志。一个例子：

```
var Data:String;
var weAreReady:Boolean=false;
getData("file:///C:/..../try.htm");
addEventListener(Event.ENTER_FRAME,enterFrame);

function getData(url:String):void
{

var phpFileRequest:URLRequest = new URLRequest(url);
var phpLoader:URLLoader = new URLLoader();
phpLoader.dataFormat = URLLoaderDataFormat.VARIABLES;

phpLoader.addEventListener(Event.COMPLETE, showResult);
phpLoader.load(phpFileRequest);
}

function showResult(event:Event):void
{
    import flash.text.*;
    Data= "" + event.target.data.systemResult;
    trace(Data);
    weAreReady=true;
}
function enterFrame(e:Event):void {
    if (weAreReady) {
        removeEventListener(Event.ENTER_FRAME, enterFrame);
        goFurther(); // this will be called when the data will be finally ready
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-06T09:15:59.963

在 As3.0 中，只有使用 while() 循环的等待函数。

请参阅下面的帖子。

[动作脚本休眠功能](https://stackoverflow.com/questions/3009929/action-script-sleep-function)

[AS3-睡眠功能](http://www.kirupa.com/forum/showthread.php?232714-AS3-sleep-function)

遗憾的是，没有任何 ActionScript/Flash 没有与睡眠功能等效的功能。

我建议像下面的代码一样更改代码。

```
var Data:String;
getData("file:///C:/..../try.htm");

this.addEventListener("received", receivedHandler);
var isReceived:Boolean = false;
function receivedHandler(e:Event):void
{
    isReceived = true;
    trace("Data: ", Data);
    //do stuff
}

function getData(url:String):void
{

    var phpFileRequest:URLRequest = new URLRequest(url);
    var phpLoader:URLLoader = new URLLoader();
    phpLoader.dataFormat = URLLoaderDataFormat.VARIABLES;

    phpLoader.addEventListener(Event.COMPLETE, showResult);
    phpLoader.load(phpFileRequest);
    var a:int=1;
    trace("Worked");

    function showResult (event:Event):void
    {
        import flash.text.*;
        Data= "" + event.target.data.systemResult;
        dispatchEvent(new Event("received"));
    }
} 
```

# java - java如何删除JTextPane作为用户类型的内容？

> ID：14725206
> 
> 赞同：1
> 
> 时间：2013-02-06T09:07:44.377
> 
> 标签：java, swing, keylistener, jtextpane, documentlistener

我想`JTextPane`在用户输入时删除我的内容，我的意思是

```
JTextPane.addKeyListener(new java.awt.event.KeyAdapter()
{
   public void keyTyped(java.awt.event.KeyEvent evt)
   {
      searchFieldHandler(evt);
   }
});

private void searchFieldHandler(java.awt.event.KeyEvent evt)
{        
   text = searchField.getText() + String.valueOf(evt.getKeyChar());
   **searchField.setText("");**

   // doing sth with text
} 
```

但它不起作用（不删除内容并且最后输入的字符仍然存在）怎么做？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-06T09:13:14.340

如果[`DocumentListener`](http://docs.oracle.com/javase/7/docs/api/javax/swing/event/DocumentListener.html)您想在用户输入 textPane 后执行一些操作，则使用此选项，[`DocumentFilter`](http://docs.oracle.com/javase/7/docs/api/javax/swing/text/DocumentFilter.html)如果您想在输入出现在 textPane 上之前对其进行过滤，请使用此选项。

**看：**

*   [如何编写文档监听器](http://docs.oracle.com/javase/tutorial/uiswing/events/documentlistener.html)
*   [只允许在 JTextField 中输入数字和符号 (-)](https://stackoverflow.com/a/8017847/597657)

# mysql - 将 MySQL 类别树翻译成多种语言

> ID：14725209
> 
> 赞同：0
> 
> 时间：2013-02-06T09:07:48.017
> 
> 标签：mysql, database

我有一个巨大的 MySQL 数据表，其中包含类别和子类别，现在我需要将这个类别树翻译成其他语言。表有字段`id | parent_id | title`。

那么，对于这种情况，最好和最灵活的解决方案是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T09:17:03.130

也许我在这里没有遇到问题，但是为什么不为不同语言的新标题添加新列呢？我想 parent_id 不需要更改，因此您可以简单地添加 title_en、title_fr 等字段。

# web - Web 应用程序的应用程序生命周期管理 (TFS)

> ID：14725211
> 
> 赞同：0
> 
> 时间：2013-02-06T09:08:00.920
> 
> 标签：web, tfs, application-lifecycle, alm

我们正在开发一个网络应用程序（Javascript + php）。我们想开始使用 Team Foundation Server 以应用应用程序生命周期管理。但我们不知道从哪里开始！有什么好的指南或教程吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-06T15:42:36.043

If you are investigating TFS to be used as an ALM tool in your company, you probably want to take a look at the [free preview of the service that is available in the cloud](http://tfs.visualstudio.com/). That will allow you to see if this tool will get you what you need. There a lots of tools out there, but first you need to figure out what your problem is and what you are trying to solve. TFS may not be the solution you need, but it is a solution for certain teams.

You'll probably likely be using TFS as an ALM tool for the following:

1.  **Source Control.** Ensure you have version history on your changes. Note: You can now tap into GIT as your repository, if you don't want to use the TFS source control.
2.  **Continuous Integration.** You can make your build configurations deploy your files out to your environments, and run unit tests if necessary.
3.  **Bug Tracking.** Use the built-in work items to track all your bugs.
4.  **Requirements Tracking.** Use Scrum or Kanban for your project to take advantage of the boards that are available with the service. Work items like 'Stories' or 'Product Backlog Items' will let you track the work your team is delivering.
5.  **Burndown.** The built-in reports should help you report to your management on progress, though you'll have to see if the TFS ones meet your needs.
6.  **Test Cases.** Your QA team can write their test cases in TFS to document how to test the requirements. If you have the correct license, you can also tap in Microsoft Test Manager for your QA team to execute and plan their tests.

I would strongly advise doing some research into what ALM means, what it is used for, and why you should be doing it before deciding on a tool. The tool won't fix the problem, it just supports you in whatever you are doing to fix your problem.

# c++ - ADL 不查找静态成员函数吗？

> ID：14725214
> 
> 赞同：7
> 
> 时间：2013-02-06T09:08:12.213
> 
> 标签：c++, argument-dependent-lookup

这是来自参数依赖查找是否也只搜索名称空间或类的后续问题[？](https://stackoverflow.com/questions/11462474/does-argument-dependent-lookup-only-search-namespaces-or-classes-too), 其中@David Rodríguez 说“ADL 将查看类型的封闭命名空间，以及**类型**本身”。我可能听错了他试图说的话，但我正在尝试这个例子：

```
struct foo{
    static void bar(foo* z){}    
};

int main(){
    foo* z;
    bar(z);
} 
```

它不编译，产生错误 " 'bar' is not declared in this scope " 。ADL是否不考虑静态成员函数？我的意思是在示例关联类中`foo`，ADL 不会查看类内部吗？. 任何人都可以在这里简化规则吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-06T09:12:03.577

他大概是这个意思：

```
struct foo{
    friend void bar(foo* z){}    //not static, its friend now
};

foo* z;
bar(z); //fine now 
```

但从技术上讲`bar()`是不在*里面* `foo`。它*仍然*在`foo`.

--

编辑：

`friend`正如[他所说](https://stackoverflow.com/questions/11462474/does-argument-dependent-lookup-only-search-namespaces-or-classes-too)（强调我的） ，他确实是指：

> 最好的例子是在类型**内部定义的****友**元函数

 **他的例子进一步说明了这一点。可能您需要阅读“内部定义”，而不仅仅是“内部”。

“定义”这个词是唯一的区别，因为*看起来*函数的*名称* `bar`被引入到类的范围中，但实际上，名称`bar`被引入到封闭的命名空间中`foo`（参见 §3.3.1/3- 4 和§11.3/6)。

这是一个更好的例子：

```
namespace Demo
{
     struct foo
     {
       friend void bar(foo* z){}
     };
}

foo *z;
bar(z); //foo (type of z) is inside Demo, so is bar
        //(even though bar is defined inside foo!)

bar(NULL);    //error - NULL doesn't help ADL.
bar(nullptr); //error - nullptr doesn't help ADL.

bar(static<foo*>(NULL)); //ok - ADL 
```

请注意`bar`，即使将 name 引入了 namespace `Demo`，**它也是 hidden**，因此**不能**使用通常的 name-lookup 从外部使用：

```
using namespace Demo; //brings ALL (visible) names from Demo to current scope

bar(NULL); //STILL error - means bar is invisible 
```

或者，

```
Demo::bar(NULL);       //error - not found
Demo::foo::bar(NULL);  //error - not found 
```

希望有帮助。**

# c# - C# TCP 客户端无法连续获取超过 1 条消息

> ID：14725215
> 
> 赞同：1
> 
> 时间：2013-02-06T09:08:12.943
> 
> 标签：c#, tcpclient

我已经构建了一个可以连接到我的服务器的应用程序。一切运行顺利，但是当服务器同时向客户端发送消息时出现问题。例如当服务器连续发送 2 条消息时。客户只收到第一个。是否有可能连续收到一条以上的消息？

这是我的客户代码部分：

```
TcpClient clientSocket;
public string IPS= "###.###.###.###";
public int SocketS = ####;

public void ConnectingToServer()
{
    clientSocket= new TcpClient();
    clientSocket.Connect(IPS, SocketS);
    if (clientSocket.Connected)
    {
        serverStream = clientSocket.GetStream();
        byte[] outStream = System.Text.Encoding.ASCII.GetBytes();
        serverStream.Write(outStream, 0, outStream.Length);
        serverStream.Flush();
    }
}

// Function for send data to server.
public void SendDataToServer(string StrSend)
{
    if (clientSocket.Connected)
    {
        byte[] outStream = System.Text.Encoding.ASCII.GetBytes(StrSend);
        serverStream.Write(outStream, 0, outStream.Length);
        serverStream.Flush();
    }
}

// Function for receive data from server (I put this in looping).
public void getMessage()
{
    if (clientSocket != null)
    {
        if (clientSocket.Connected)
        {
            if (serverStream.DataAvailable)
            {
                int buffSize = 0;
                buffSize = clientSocket.ReceiveBufferSize;
                byte[] inStream = new byte[buffSize];
                serverStream.Read(inStream, 0, buffSize);
                string StrReceive= System.Text.Encoding.ASCII.GetString(inStream);
            }
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T09:31:34.630

socket 的发送/接收功能**并不能保证**您**提供的所有数据**都会**在一次调用**中发送/接收。这些函数返回实际发送/接收字节数。在您的情况下，您**不能忽略**`serverStream.Read(...)`方法调用的结果。

这就是为什么应用程序级协议应该被设计为交换事物（你称之为“消息”）。

设计协议的方法有很多，但让我们以下面的“消息”协议为例：

```
----------------------------------------------------
| Number of string bytes | String bytes in UTF-8   |
----------------------------------------------------
| 1 byte                 | 2 - ... bytes           |
---------------------------------------------------- 
```

发送“消息”：字符串应转换为**UTF-8（例如）表示，并以字节表示的****字节长度**发送（如上所述）。

接收消息：接收数据到内存缓冲区。提取“消息”的过程与发送消息相反。当然，您可以一次收到多个“消息”，因此请彻底处理缓冲区。

# 例子

我刚刚写[了一篇带有代码示例的小文章](http://brunov.info/blog/2013/02/09/tcpip-client-server-application-exchange-with-string-messages/)。

# javascript - 通过 Chrome 扩展程序注入的 JavaScript 未加载

> ID：14725217
> 
> 赞同：0
> 
> 时间：2013-02-06T09:08:16.563
> 
> 标签：javascript, google-chrome-extension, dom-events, inject, appendchild

我正在尝试通过 Chrome 扩展程序注入 JavaScript，但未`onload`调用脚本方法...

```
var scriptURL = 'http://'+response.scriptUrl,
    scriptTag = document.createElement('script');

scriptTag.type = 'text/javascript';
scriptTag.src = scriptURL;

function onload()
{
    alert('onload');
};

scriptTag.onload = onload;
$('head').append(scriptTag); 
```

任何想法为什么不发出警报？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T04:47:55.230

请试试这个：

```
var scriptURL = 'http://'+response.scriptUrl,
    scriptTag = document.createElement('script');

scriptTag.type = 'text/javascript';
scriptTag.src = scriptURL;

function onload()
{
    alert('onload');
};

scriptTag.onload = onload;
var head = document.getElementsByTagName('head')[0];
head.appendChild(scriptTag); 
```

# asp.net-mvc - 术语“脚手架”未被识别为 cmdlet、函数、脚本文件或可运行程序的名称

> ID：14725219
> 
> 赞同：2
> 
> 时间：2013-02-06T09:08:26.450
> 
> 标签：asp.net-mvc, nuget, scaffolding, nuget-package, asp.net-mvc-scaffolding

我一直在开发一个 ASP.NET MVC 4 项目，并且我一直在成功使用“ [MVSCaffolding](http://nuget.org/packages/MVCScaffolding) ”包，但几天前我注意到在创建新控制器时，例如 MVCScaffolding 的项目没有显示起来了。尝试运行脚手架命令也会导致以下错误：

```
The term 'scaffold' is not recognized as the name of a cmdlet, function, script file, or operable program. Check the spelling of the name, or if a path was included, verify that the path is correct and try again.
At line:1 char:9
+ scaffold <<<< 
    + CategoryInfo          : ObjectNotFound: (scaffold:String) [], CommandNotFoundException 
```

[我注意到此页面](http://blog.stevensanderson.com/2011/01/13/scaffold-your-aspnet-mvc-3-project-with-the-mvcscaffolding-package/)上已多次提及此问题，但未提供任何解决方案。

此外，“MVCScaffolding”包可以被相同环境下的其他项目在不同的解决方案中使用，但不是相同的解决方案，所以我猜它是这个解决方案特有的东西。我已经尝试手动或通过以下命令卸载并重新安装软件包，重新安装 nuget 并重新启动 VS 几次 :) ；

```
Uninstall-Package MvcScaffolding -RemoveDependencies
Install-Package MvcScaffolding 
```

我要寻找的首先显然是如何解决此特定问题，其次，通常在这种情况下，应该在哪里寻找才能开始调试问题？命令提示符如何确定命令是否可用？

提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-06T17:34:24.780

当在 Visual Studio 中打开解决方案时，MVC 脚手架定义了“脚手架”命令别名。T4Scaffolding.Core NuGet 包实际上是在其 init.ps1 中调用 Set-Alias 来执行此操作的包。您可以检查 T4Scaffolding NuGet 包的 init.ps1 是否正在运行。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-06-23T00:20:34.883

我知道这篇文章真的很老了.. 但是对于那些仍然面临 VS2013 问题的人，请尝试以下操作：

1.  Uninstall-Package T4Scaffolding <--如果你已经使用PM Console来安装它..

2.  通过右键单击“references”安装 -> Manage Nuget Packages -> Search for T4Scaffolding 并从那里安装它..

通过执行上述步骤，它对我来说就像一个魅力

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-09-24T21:43:43.160

通过 NuGetPackage 管理器添加 T4Scaffolding.Core 解决了我的问题。（版本 1.0.8）

# selenium - 如何使用 Selenium 调整 Web 元素的大小

> ID：14725220
> 
> 赞同：1
> 
> 时间：2013-02-06T09:08:29.840
> 
> 标签：selenium, selenium-webdriver, selenium-rc

我可以使用 selenium web 驱动程序调整 web 元素的大小吗？如果这是可能的，我如何检查操作是否使用硒按预期工作。

感谢您的回答。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2017-11-02T09:30:32.373

```
public void Resize(IWebElement element, int offsetX, int offsetY = 0)
{   
    int width = element.Size.Width;            
    Actions action = new Actions(driver);
    action.MoveToElement(element, width, 1);
    action.ClickAndHold().MoveByOffset(offsetX, offsetY).Release();
    action.Build().Perform();            
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T13:53:06.060

我发现了以下内容：
- 拖放在 Selenium 中可以正常工作
- selenium 中的元素没有调整大小的方法
- 如果一个元素是可调整大小的，在我的情况下是一个框架，HTML 站点中有一个元素用于调整大小（该元素可能是不可见的，但如果您将鼠标移到它上面，鼠标光标会发生变化）
- 您只需识别此元素并对其执行拖放操作

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-02-24T17:13:32.857

我还必须使用 selenium 调整大小\dragAndDrop .. 所以经过一些研究后我发现[了这个网站](https://code.google.com/p/selenium/wiki/AdvancedUserInteractions)，它告诉你如何在没有 Js 的情况下调整大小：

```
WebElement resizeable = this.getDriver().findElement(By.cssSelector(" enter your selector, mine was div.resize"));

Action resize = action.clickAndHold(resizeable).moveByOffset(X offset, Y offset).release().build();

resize.perform(); 
```

我试过了，它奏效了。至于拖动，您可以使用：

```
Actions builder = new Actions(driver);

Action dragAndDrop = builder.clickAndHold(someElement)
   .moveToElement(otherElement)
   .release(otherElement)
   .build();

dragAndDrop.perform(); 
```

阿维诺姆

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-06T09:16:32.210

您可以在css中设置高度和宽度，然后使用

```
getCssValue(java.lang.String propertyName) 
```

有关详细信息，请参阅[http://selenium.googlecode.com/svn/trunk/docs/api/java/org/openqa/selenium/WebElement.html 。](http://selenium.googlecode.com/svn/trunk/docs/api/java/org/openqa/selenium/WebElement.html)抱歉，我找不到任何示例代码！

雷切尔

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2018-01-15T05:55:50.673

```
import org.openqa.selenium.By;
import org.openqa.selenium.NoSuchElementException;
import org.openqa.selenium.StaleElementReferenceException;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.firefox.FirefoxDriver;
import org.openqa.selenium.interactions.Actions;
import org.openqa.selenium.support.ui.ExpectedConditions;
import org.openqa.selenium.support.ui.WebDriverWait;
import org.testng.annotations.Test;

public class ResizeExample {
    WebDriver driver;

    @Test
    public void testToResizeElement() {

        driver = new FirefoxDriver();
        driver.manage().window().maximize();
        driver.navigate().to("http://jqueryui.com/resizable/");
        WebDriverWait wait = new WebDriverWait(driver, 5);
        wait.until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(By.cssSelector(".demo-frame")));
        WebElement resizeableElement = driver.findElement(By.cssSelector(".ui-resizable-handle.ui-resizable-se.ui-icon.ui-icon-gripsmall-diagonal-se"));
        resize(resizeableElement, 50, 50);
    }

    public void resize(WebElement elementToResize, int xOffset, int yOffset) {
        try {
            if (elementToResize.isDisplayed()) {
                Actions action = new Actions(driver);
                action.clickAndHold(elementToResize).moveByOffset(xOffset, yOffset).release().build().perform();
            } else {
                System.out.println("Element was not displayed to drag");
            }
        } catch (StaleElementReferenceException e) {
            System.out.println("Element with " + elementToResize + "is not attached to the page document "  + e.getStackTrace());
        } catch (NoSuchElementException e) {
            System.out.println("Element " + elementToResize + " was not found in DOM " + e.getStackTrace());
        } catch (Exception e) {
            System.out.println("Unable to resize" + elementToResize + " - " + e.getStackTrace());
        }
    }

} 
```

# gnuplot - 使用“-”绘制多列

> ID：14725222
> 
> 赞同：2
> 
> 时间：2013-02-06T09:08:35.443
> 
> 标签：gnuplot

我试图弄清楚如何使以下代码工作而不必多次打印数据（并用'e'分隔副本）：

```
plot '-' using 1:2, '-' using 1:3
-1 0.000679244 0.000246399
-0.99875 0.000687629 0.000251162
-0.9975 0.000696107 0.000256024
-0.99625 0.000704678 0.000260987
-0.995 0.000713343 0.000266052
-0.99375 0.000722103 0.000271221
-0.9925  0.00073096 0.000276496
-0.99125 0.000739913 0.000281879
-0.99 0.000748965 0.000287372 
```

上面的代码生成错误消息：

```
warning: Skipping data file with no valid points 
```

我知道，我可以将数据写入文件并`plot 'file'`多次调用。有没有办法避免这种情况？谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T14:42:31.503

没有（好的）方法可以做到这一点。这是一个非常丑陋的黑客：

```
s = "-1 0.000679244 0.000246399\n-0.99875 0.000687629 0.000251162\n-0.9975 0.000696107 0.000256024\n-0.99625 0.000704678 0.000260987\n-0.995 0.000713343 0.000266052\n-0.99375 0.000722103 0.000271221\n-0.9925  0.00073096 0.000276496\n-0.99125 0.000739913 0.000281879\n-0.99 0.000748965 0.000287372"

plot sprintf('<echo "%s"',s) using 1:2, sprintf('<echo "%s"',s) using 1:3 
```

似乎我们可以通过在字符串中使用续行来使它看起来更漂亮...：

```
inline_file ="\
-1 0.000679244 0.000246399\n \
-0.99875 0.000687629 0.000251162\n \
-0.9975 0.000696107 0.000256024\n \
-0.99625 0.000704678 0.000260987\n \
-0.995 0.000713343 0.000266052\n \
-0.99375 0.000722103 0.000271221\n \
-0.9925  0.00073096 0.000276496\n \
-0.99125 0.000739913 0.000281879\n \
-0.99 0.000748965 0.000287372"

plot sprintf('<echo "%s"',inline_file) using 1:2, \
     sprintf('<echo "%s"',inline_file) using 1:3 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-12-16T16:21:49.437

由于 5.0 版 gnuplot 支持数据块，因此您可以更好地处理内联数据：

```
$data <<EOD
-1 0.000679244 0.000246399
-0.99875 0.000687629 0.000251162
-0.9975 0.000696107 0.000256024
EOD
plot $data u 1:2, '' u 1:3 
```

# java - 如何在 Java 中使用 PDFBox 检查 PDF 表单中的单选按钮

> ID：14725224
> 
> 赞同：1
> 
> 时间：2013-02-06T09:08:39.617
> 
> 标签：java, pdf, radio-button, pdfbox

如何使用 Java 中的 PDFbox 检查表单中的单选按钮 - PDf

我有一段用于检查复选框的代码，但无法对 PDRadioCollection 类执行相同操作

```
 PDDocument fdeb = null;

        fdeb = PDDocument.load("C:\\Users\\347702\\Desktop\\complaintform.pdf");

        PDAcroForm form = fdeb.getDocumentCatalog().getAcroForm();
        PDField feld3 = form.getField("loan");
        ((PDCheckbox) feld3).check();
        fdeb.save("C:\\Users\\347702\\Desktop\\complaintform.pdf");
        fdeb.close(); 
```

谁能帮帮我谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-08T18:10:30.293

解决方案应该如下。获取无线电集合字段的名称，而不是您尝试设置的特定按钮字段，然后设置需要设置的复选框字段的值。该`setValue()`方法应取消选中所有其他值。

```
PDRadioCollection coverage = theForm.getField("radio collection");
coverage.setValue("loan"); 
```

现在，如果这不起作用（我在早期版本中看到了一些关于此的嗡嗡声），另一种但不太理想的方法是让所有收音机集合的孩子并遍历它们。你打电话给你有兴趣设置`check()`的孩子，然后打电话给所有其他人。所以是这样的：`PDCheckbox``unCheck()`

```
PDRadioCollection coverage = theForm.getField("radio collection");
kids = coverage.getKids();
for (Object kid : kids) {
   if (kid instanceof PDCheckbox) {
      PDCheckbox checkbox = (PDCheckbox) kid;
      String partialName = checkbox.getPartialName();
      if (partialName.equals("loan")) {
         checkbox.check();
      } else {
         checkbox.unCheck();
      }
   }
} 
```

# c - 使用动态范围按名称调用

> ID：14725225
> 
> 赞同：0
> 
> 时间：2013-02-06T09:08:40.570
> 
> 标签：c, scope, dynamic-binding, dynamic-scope, callbyname

我在静态/动态范围内遇到以下问题：

下面的程序片段是用允许全局变量但不允许函数嵌套声明的编程语言编写的。

```
 global int i = 100, j = 5; 
 void P(x) { 
  int i = 10; 
  print(x + 10); 
  i = 200; 
  j = 20; 
  print (x); 
 } 
 main() {P(i + j);} 
```

> Q1。如果编程语言使用静态作用域和按需参数传递机制调用，上述程序打印的值是
> 
> (A) 115, 220 (B) 25, 220 (C) 25, 15 (D) 115, 105
> 
> Q2。如果编程语言使用动态作用域和按名称调用参数传递机制，则上述程序打印的值是
> 
> (A) 115, 220 (B) 25, 220 (C) 25, 15 (D) 115, 105

**我的想法：**

在 Q1：因为它是静态范围，并且根据需要调用，x 应该替换为 i + j。但这会导致本地名称冲突，因为已经有一个名为 i 的变量。所以它（全局 i）可能会被重命名，让我们说 i1，然后调用将是：

```
 first call: print(x+10) -> (i1 + j + 10) -> (100 + 5 + 10) -> 115
   second call: print(x) -> print(i1 + j) -> 105 (Already evaluated - call by need) 
```

关于 Q2：在动态作用域中，您首先在本地函数中搜索变量，然后在调用本地函数的函数中搜索，然后在调用该函数的函数中搜索，依此类推，直到调用堆栈。

根据名称调用：

```
print (i1 + j + 10) -> print (100 + 5 +10 ) -> 115 
```

第二个电话将是

```
print(x) -> print(i1 + j) -> (100 + 20) = 120 // Evaluate again - Call be name. 
```

这个答案正确吗？（选项中不存在）我缺少什么吗？（可能是动态绑定？）

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2014-02-02T12:28:56.053

# 第一季度

OP的答案是正确的（D）。事实上，由于 global`i`在执行过程中没有被修改，所以*call by need*和*call by value*`P`没有区别。

 **这是一个*确实*有所作为的示例：

```
global int i = 100, j = 5;

void IncreaseTheGlobal() {
    i = i + 1;            // static scoping means this is the GLOBAL i!
    print(i);
}

void P(x) {
    int i = 10;
    IncreaseTheGlobal();  // 101 (increased global i)
    print(i);             //  10 (local i)
    print(x);             // 106 (x is evaluated; picks up increased global i)
    IncreaseTheGlobal();  // 102 (2nd time increased global i)
    print(x);             // 106 (x not re-evaluated; unaffected by 2nd increase)
}

main() {
    print(i);             // 100 (original global i)
    P(i + j);
    print(i);             // 102 (new global i)
} 
```

正如 OP 已经指出的那样，第一次`x`被评估时，它会获取 global`i`在特定时刻具有的任何值。在初始评估之后，`x`不再受以后修改 global 的影响`i`。

# 第二季度

*按名称调用*通常用于宏语言。那么为什么不使用最著名的宏语言：C 预处理器呢？

```
#include <stdio.h>

int i = 100, j = 5;

#define print(num)  printf("%d\n", num)

#define P(x) {     \
    int i = 10;    \
    print(x + 10); \
    i = 200;       \
    j = 20;        \
    print(x);      \
}

main() {
    P(i + j);
} 
```

编译，运行，查看：25、220。

按名称调用与简单的搜索和替换一起使用；在的体内`P`，替换每一个出现的`x`by `i + j`。

```
int i = 10; 
print(i + j + 10);    // 10 + 5 + 10 = 25
i = 200;
j = 20;
print(i + j);         // 200 + 20 = 220 
```

换句话说， the`i`和`j`inside`i + j`只是在评估时获取恰好在范围内的任何内容的现值`x`。

所以正确答案是B，对吧？好吧，几乎……正确答案取决于`print`. 假设`print`实践也*按名称调用*，*并* `print`定义了自己的局部变量`i`，那么这将极大地改变结果。尝试这个：

```
#define print(num)  { int i = 0; printf("%d\n", num); } 
```

结果现在更改为 15、20。

这可能是动态作用域对代码的可维护性不利的最重要原因。函数的实现更改`print`（即使是像更改局部变量的名称这样微不足道的事情）可能会在更高级别上破坏函数。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-08T15:49:12.377

In the second part that is Call by name

The line i=200 will update the local i

Now while print(x) is called it will be replaced by print(i+j)=>print(200+20)=>220

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-04-22T22:35:07.160

对于第一季度：

```
int i = 10; 
print(x + 10); // print (i + j + 10); prints 10 + 5 + 10 = 25; local i gets used here

i = 200; 
j = 20; 

print (x); // print (i + j); call by need ensures, no reevaluation and i + j is 15\. 
```

所以，答案是 C - 25, 15**

# css - CSS 选择器：具有 id 的元素的子元素

> ID：14725226
> 
> 赞同：1
> 
> 时间：2013-02-06T09:08:49.313
> 
> 标签：css

id 下的元素是否有 CSS 选择器？就像上课一样。

我无法更改内部 ul 的类，但我只需要影响“the_id”中的 ul。我可以使用 javascript，但我希望有一个 css 解决方案。

```
<div id = "the_id">
    <ul>affected<ul>
</div>
<ul>not affected<ul> 
```

CSS：

```
#the_id ul{list-style:none} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-06T09:15:28.873

```
/* any descendant */
#the_id ul
   {list-style:none}

/* OR */

/* only children */
#the_id > ul
   {list-style:none;}

<div id="the_id">
    <ul><li>affected</li><ul>
</div>
<ul><li>not affected</li><ul> 
```

另外，使用`id="the_id"`代替`id = "the_id"`

# android - 使用 Robolectric for Android 测试 TextView 文本颜色

> ID：14725229
> 
> 赞同：4
> 
> 时间：2013-02-06T09:09:07.240
> 
> 标签：android, testing, robolectric

我正在尝试 TDD/测试 android 的 textView 的文本颜色。但是所有属性似乎都返回 0 或 null，有人知道为什么吗？

创建文本视图的代码：

```
public void setupTextView() {

    LinearLayout layout = (LinearLayout) findViewById(R.id.layout);
    TextView textView = new TextView(this);

    textView.setText(job.getName());

    if (job.getLastBuild().getBuildStatus().equals("SUCCESS")) {

        textView.setTextColor(Color.parseColor("#007000"));

    } else {

       textView.setTextColor(Color.parseColor("#FF0000"));

    }

    layout.addView(textView);

} 
```

我已经运行了应用程序并且上面的代码有效。

我尝试在测试代码中访问的属性：

```
@Test
public void firstTextViewShouldReflectPassingJobStatus() throws Exception {

    LinearLayout layout = layout = (LinearLayout) activity.findViewById(R.id.layout);

    TextView gomoTextView = (TextView) layout.getChildAt(0);

    System.out.println(gomoTextView.getCurrentTextColor()); //Returns 0
    System.out.println(gomoTextView.getTextColors()); //Returns null
    System.out.println(gomoTextView.getSolidColor()); //Returns 0
    System.out.println(gomoTextView.getCurrentHintTextColor()); //Returns 0

    //I also tried using `Robolectric.shadowOf()`:
    ShadowTextView shadowGomoTextView = Robolectric.shadowOf(gomoTextView);

    System.out.println(shadowGomoTextView.getTextColorHexValue()); //Returns 0
    System.out.println(shadowGomoTextView.getHintColorHexValue()); //Returns null

} 
```

**更新以回答评论**

我在单元测试类中有一个调用`onCreate()`：

```
private LinearLayout layout;
private HomeActivity activity;

@Before
public void setUp() throws Exception {

    activity = spy(new HomeActivity());
    Jenkins mockJenkins = TestUtilities.getTestJenkins();
    when(activity.getJenkins()).thenReturn(mockJenkins);

    activity.onCreate(null);
    layout = (LinearLayout) activity.findViewById(R.id.layout);

} 
```

以及 HomeActivity 类中的 onCreate 方法：

```
@Override
public void onCreate(Bundle savedInstanceState) {

    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);

    Jenkins jenkins = getJenkins();
    displayJenkins(jenkins);
} 
```

然后显示詹金斯调用其他方法，其中包括`setupTextView()`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-13T12:58:56.537

查看尚未实施的[来源。](https://github.com/pivotal/robolectric/blob/master/src/main/java/com/xtremelabs/robolectric/shadows/ShadowTextView.java)我建议你按照[这里](http://robolectric.blogspot.nl/2011/01/how-to-create-your-own-shadow-classes.html)的描述实现你自己的影子。

Robolectric 2.0 已[升级为 alpha 状态](http://robolectric.blogspot.nl/2013/01/robolectric-20-alpha-1.html)。我认为您的问题应该在发布期间得到解决，因为他们将尽可能多地使用真正的 Android 源代码。

# javascript - 使用 setinterval 进行图像幻灯片放映

> ID：14725230
> 
> 赞同：1
> 
> 时间：2013-02-06T09:09:07.853
> 
> 标签：javascript

我正在尝试使用 javascript 创建一个简单的图像幻灯片，但它不起作用。

```
<script>
var image=document.getElementById("aaa");
var img_array=["images/Chrysanthemum.jpg","images/desert.jpg","images/koala.jpg","images/penguins.jpg","images/hydrangeas.jpg","images/lighthouse.jpg","images/jellyfish.jpg"];
var index=0;
function slide()
{
    image.setAttribute("src",img_array[index]);
    index++;
    if(index>=img_array.length)
    {
    index=0;
    }
}
setInterval("slide()",2000);
</script>
</head>
<body>
<img id="aaa" src="images/tulips.jpg" width="400" height="400" name="image" />
</body> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-06T09:48:56.580

简单的方法：

```
window.onload = function() {
    var image=document.getElementById("aaa");
    var img_array=[...];
    var index=0;
    var interval = 2000;
    function slide() {
        image.src = img_array[index++%img_array.length];
    }

    setInterval(slide, interval);
} 
```

更好的方法：

更改`setInterval(slide,2000);`为：

```
setTimeout(function() {
    slide();
    setTimeout(arguments.callee, interval)
}, interval); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-06T09:39:39.640

您好，下面是您的代码的固定版本。

```
<script>
var image = document.getElementById("aaa");
var img_array=["http://png-4.findicons.com/files/icons/1008/quiet/256/java.png","http://icons.iconarchive.com/icons/tpdkdesign.net/refresh-cl/256/System-Java-icon.png"];
var index=0;
function slide()
{

    document["aaa"].src = img_array[index];
    index++;
    if(index>=img_array.length)
    {
    index=0;
    }
}
setInterval("slide()",2000);
</script>
</head>
<body>
<img id="aaa" src="http://www.tutorialsscripts.com/free-icons/programming-language/java-icons/purple-java-icon-256-x-256.gif" width="400" height="400" name="image" /> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-06T09:35:35.863

用以下内容替换您的 setinterval 调用

```
setInterval(function(){slide()},2000); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2019-01-29T08:41:38.557

代替

```
setInterval("slide()",2000); 
```

放

```
setInterval(slide,2000); 
```

* * *

## 回答 #5

> 赞同：-2
> 
> 时间：2017-09-22T12:34:50.700

**代码 ：**

```
function slideshow()
{
    var slides= ["background-image : url(image/1.jpg)","background-image : url(image/2.jpg)"];
    var i = 0;
    var divh = document.getElementById("demo").style ;
    while( i < slides.length)
    {           
        if( i == (slides.length-1) )
            {
                divh = slides[i];
                i = 0;
            }
        else
        {
            divh = slides[i];
             i++ ;
        }                      
    }
} 
```

# python - Python 模块权限

> ID：14725234
> 
> 赞同：1
> 
> 时间：2013-02-06T09:09:20.497
> 
> 标签：python, linux, eclipse

我在 Linux 中安装了一个 python 库，但我的脚本找不到这个模块。我注意到它是以root身份安装的。一旦我将所有者更改为我的用户，那么脚本就可以正常工作。我应该将权限更改为什么，以便所有用户都可以访问该库（我假设我应该将所有者更改为 root）？有没有办法只为文件或目录递归设置权限？

此外，由于 Eclipse 中的某些原因，库导入语句具有“未解析的导入”消息，即使我能够毫无问题地执行脚本。如果我改用库的本地副本，那么消息就会消失。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-06T10:25:24.427

让所有者独自一人，但使模块全部可读。目录应该是可执行的，因此人们可以列出其内容。`chmod`本身不能自动区分普通文件和目录，但是`find`可以，所以组合起来。

在使用 Python 2.7 的典型 Linux 机器上，你会这样做（以 root 身份）：

```
find /usr/lib/python2.7 -type f -exec chmod a+r {} \;
find /usr/lib/python2.7 -type d -exec chmod a+x {} \; 
```

根据需要更改目录。如果成功，这些命令将不会产生任何输出。

但是，如果您以正常方式安装模块（使用它们的`setup.py`脚本），则永远不必这样做。

（我无法帮助您使用 Eclipse。）

# android - JSON Android 和 Listview

> ID：14725239
> 
> 赞同：2
> 
> 时间：2013-02-06T09:09:43.493
> 
> 标签：android, json, listview, android-activity

我正在寻找一个很好的教程来将 JSON 解析为 Android 中的 Listview。

问题是我的 JSON 文件是这样的

```
[{"location_id":"823","company_id":"41","name":"Milj\u00f8station","address":"Aldersro \/ Aldersro 8","place":"","postal":"5700","city":"Svendborg","monday":"","tuesday":"","wednesday":"","thursday":"","friday":"","saturday":"","sunday":"","type":"2","lat":"55.061426149085","lng":"10.5927246809006","nocar":"0","distance":"0.00023254303859579"}] 
```

大多数教程从 Json 数组开始，然后是数据。我知道有很多示例，但我找不到与我的问题相匹配的示例。

我添加了代码，但仍然无法正常工作，这是我的 3 个课程。

**SingleMenuItemActivity**

```
public class SingleMenuItemActivity  extends Activity {

// JSON node keys
private static final String TAG_NAME = "name";
private static final String TAG_EMAIL = "email";
private static final String TAG_PHONE_MOBILE = "mobile";
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.single_list_item);

    // getting intent data
    Intent in = getIntent();

    // Get JSON values from previous intent
    String name = in.getStringExtra(TAG_NAME);
    String cost = in.getStringExtra(TAG_EMAIL);
    String description = in.getStringExtra(TAG_PHONE_MOBILE);

    // Displaying all values on the screen
    TextView lblName = (TextView) findViewById(R.id.name_label);
    TextView lblCost = (TextView) findViewById(R.id.email_label);
    TextView lblDesc = (TextView) findViewById(R.id.mobile_label);

    lblName.setText(name);
    lblCost.setText(cost);
    lblDesc.setText(description);
} } 
```

**JSON解析器**

```
public class JSONParser {

static InputStream is = null;
static JSONObject jObj = null;
static String json = "";

// constructor
public JSONParser() {

}

public JSONObject getJSONFromUrl(String url) {

    // Making HTTP request
    try {
        // defaultHttpClient
        DefaultHttpClient httpClient = new DefaultHttpClient();
        HttpPost httpPost = new HttpPost(url);

        HttpResponse httpResponse = httpClient.execute(httpPost);
        HttpEntity httpEntity = httpResponse.getEntity();
        is = httpEntity.getContent();           

    } catch (UnsupportedEncodingException e) {
        e.printStackTrace();
    } catch (ClientProtocolException e) {
        e.printStackTrace();
    } catch (IOException e) {
        e.printStackTrace();
    }

    try {
        BufferedReader reader = new BufferedReader(new InputStreamReader(
                is, "iso-8859-1"), 8);
        StringBuilder sb = new StringBuilder();
        String line = null;
        while ((line = reader.readLine()) != null) {
            sb.append(line + "\n");
        }
        is.close();
        json = sb.toString();
    } catch (Exception e) {
        Log.e("Buffer Error", "Error converting result " + e.toString());
    }

    // try parse the string to a JSON object
    try {
        jObj = new JSONObject(json);
    } catch (JSONException e) {
        Log.e("JSON Parser", "Error parsing data " + e.toString());
    }

    // return JSON String
    return jObj;
} } 
```

**AndroidJSONParserActivity**

```
public class AndroidJSONParsingActivity extends ListActivity {

// url to make request
private static String url = "http://webservice.xxx.com/webservice/getLocationList.php?lat=55.061424255371094&lng=10.592724800109863";

// JSON Node names
private static final String TAG_Location = "location_id";
private static final String TAG_Company = "company_id";
private static final String TAG_NAME = "name";
private static final String TAG_ADDRESS = "address";
private static final String TAG_PLACE = "place";
private static final String TAG_POSTAL = "postal";
private static final String TAG_CITY = "city";
private static final String TAG_MONDAY = "monday";
private static final String TAG_TUESDAY = "tuesday";
private static final String TAG_WEDNESDAY = "wednesday";
private static final String TAG_THURSDAY = "thursday";
private static final String TAG_FRIDAY = "friday";
private static final String TAG_SATURDAY = "saturday";
private static final String TAG_SUNDAY = "sunday";
private static final String TAG_TYPE = "type";
private static final String TAG_LAT = "lat";
private static final String TAG_LNG = "lng";
private static final String TAG_NOCAR = "nocar";

// contacts JSONArray
JSONArray contacts = null;

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);

    // Hashmap for ListView
    ArrayList<HashMap<String, String>> contactList = new ArrayList<HashMap<String, String>>();

    // Creating JSON Parser instance
    JSONParser jParser = new JSONParser();

    // getting JSON string from URL
    JSONObject json = jParser.getJSONFromUrl(url);

    try {

        // looping through All Contacts
        for(int i = 0; i < contacts.length(); i++){
            JSONObject c = contacts.getJSONObject(i);

            // Storing each json item in variable
            String location_id = c.getString(TAG_Location);
            String company_id = c.getString(TAG_Company);
            String name = c.getString(TAG_NAME);
            String address = c.getString(TAG_ADDRESS);
            String place = c.getString(TAG_PLACE);  
            String postal = c.getString(TAG_POSTAL);
            String city = c.getString(TAG_CITY);
            String monday = c.getString(TAG_MONDAY);
            String tuesday = c.getString(TAG_TUESDAY);
            String wednesday = c.getString(TAG_WEDNESDAY);  
            String thursday = c.getString(TAG_THURSDAY);
            String friday = c.getString(TAG_FRIDAY);
            String saturday = c.getString(TAG_SATURDAY);
            String sunday = c.getString(TAG_SUNDAY);
            String type = c.getString(TAG_TYPE);
            String lat = c.getString(TAG_LAT);
            String lng = c.getString(TAG_LNG);
            String nocar = c.getString(TAG_NOCAR);

        // creating new HashMap
            HashMap<String, String> map = new HashMap<String, String>();

            // adding each child node to HashMap key => value
            map.put(TAG_Location, location_id);
            map.put(TAG_Company, company_id);
            map.put(TAG_NAME, name);
            map.put(TAG_ADDRESS, address);
            map.put(TAG_PLACE, place);
            map.put(TAG_POSTAL, postal);
            map.put(TAG_CITY, city);
            map.put(TAG_MONDAY, monday);
            map.put(TAG_TUESDAY, tuesday);
            map.put(TAG_WEDNESDAY, wednesday);
            map.put(TAG_THURSDAY, thursday);
            map.put(TAG_FRIDAY, friday);
            map.put(TAG_SATURDAY, saturday);
            map.put(TAG_SUNDAY, sunday);
            map.put(TAG_TYPE, type);
            map.put(TAG_LAT, lat);
            map.put(TAG_LNG, lng);
            map.put(TAG_NOCAR, nocar);

                // adding HashList to ArrayList
            contactList.add(map);
        }
    } catch (JSONException e) {
        e.printStackTrace();
    }

    /**
     * Updating parsed JSON data into ListView
     * */
    ListAdapter adapter = new SimpleAdapter(this, contactList,
            R.layout.list_item,
            new String[] { TAG_NAME, TAG_LAT, TAG_Company }, new int[] {
                    R.id.name, R.id.email, R.id.mobile });

    setListAdapter(adapter);

    // selecting single ListView item
    ListView lv = getListView();

    // Launching new screen on Selecting Single ListItem
    lv.setOnItemClickListener(new OnItemClickListener() {

        @Override
        public void onItemClick(AdapterView<?> parent, View view,
                int position, long id) {
            // getting values from selected ListItem
            String name = ((TextView) view.findViewById(R.id.name)).getText().toString();
            String cost = ((TextView) view.findViewById(R.id.email)).getText().toString();
            String description = ((TextView) view.findViewById(R.id.mobile)).getText().toString();

            // Starting new intent
            Intent in = new Intent(getApplicationContext(), SingleMenuItemActivity.class);
            in.putExtra(TAG_NAME, name);
            in.putExtra(TAG_Location, cost);
            in.putExtra(TAG_Company, description);
            startActivity(in);

        }
    });
} } 
```

**日志猫中的错误**

```
 02-06 10:06:19.025: D/AbsListView(9115): Get MotionRecognitionManager 02-06 10:06:19.705: D/dalvikvm(9115): GC_CONCURRENT freed 206K, 6% free 12315K/12999K, paused 13ms+14ms, total 40ms 02-06 10:06:19.725: E/JSON Parser(9115): Error parsing data org.json.JSONException: Value [{"nocar":"0","company_id":"41","postal":"5700","thursday":"","monday":"","lng":"10.5927246809006","type":"2","city":"Svendborg","location_id":"823","distance":"0.00023254303859579","wednesday":"","address":"Aldersro \/ Aldersro 8","sunday":"","name":"Miljøstation","saturday":"","friday":"","tuesday":"","place":"","lat":"55.061426149085"},
02-06 10:06:19.730: D/AndroidRuntime(9115): Shutting down VM
02-06 10:06:19.730: W/dalvikvm(9115): threadid=1: thread exiting with uncaught exception (group=0x4100f2a0)
02-06 10:06:19.740: E/AndroidRuntime(9115): FATAL EXCEPTION: main
02-06 10:06:19.740: E/AndroidRuntime(9115): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.androidhive.jsonparsing/com.androidhive.jsonparsing.AndroidJSONParsingActivity}: java.lang.NullPointerException
02-06 10:06:19.740: E/AndroidRuntime(9115):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2100)
02-06 10:06:19.740: E/AndroidRuntime(9115):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2125)
02-06 10:06:19.740: E/AndroidRuntime(9115):     at android.app.ActivityThread.access$600(ActivityThread.java:140)
02-06 10:06:19.740: E/AndroidRuntime(9115):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1227)
02-06 10:06:19.740: E/AndroidRuntime(9115):     at android.os.Handler.dispatchMessage(Handler.java:99)
02-06 10:06:19.740: E/AndroidRuntime(9115):     at android.os.Looper.loop(Looper.java:137)
02-06 10:06:19.740: E/AndroidRuntime(9115):     at android.app.ActivityThread.main(ActivityThread.java:4898)
02-06 10:06:19.740: E/AndroidRuntime(9115):     at java.lang.reflect.Method.invokeNative(Native Method)
02-06 10:06:19.740: E/AndroidRuntime(9115):     at java.lang.reflect.Method.invoke(Method.java:511)
02-06 10:06:19.740: E/AndroidRuntime(9115):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1006)
02-06 10:06:19.740: E/AndroidRuntime(9115):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:773)
02-06 10:06:19.740: E/AndroidRuntime(9115):     at dalvik.system.NativeStart.main(Native Method)
02-06 10:06:19.740: E/AndroidRuntime(9115): Caused by: java.lang.NullPointerException
02-06 10:06:19.740: E/AndroidRuntime(9115):     at com.androidhive.jsonparsing.AndroidJSONParsingActivity.onCreate(AndroidJSONParsingActivity.java:69)
02-06 10:06:19.740: E/AndroidRuntime(9115):     at android.app.Activity.performCreate(Activity.java:5206)
02-06 10:06:19.740: E/AndroidRuntime(9115):     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1083)
02-06 10:06:19.740: E/AndroidRuntime(9115):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2064)
02-06 10:06:19.740: E/AndroidRuntime(9115):     ... 11 more 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-06T09:18:01.397

因为您的网络服务返回一个`JSONArray`而不是，`JSONObject`但您正试图将其转换为 JSONObject 。将您的`getJSONFromUrl`方法返回类型更改为，`JSONArray`而不是`JSONObject`as ：

```
public JSONArray getJSONFromUrl(String url) {
 JSONArray jsonarr=null;
    // Making HTTP request

    // try parse the string to a JSONArray
    try {
        jsonarr = new JSONArray(json);
    } catch (JSONException e) {

    }

    // return JSON String
    return jsonarr;  //<<<< return JSONArray instead of JSONObject
} 
```

并`getJSONFromUrl`从 Activity 的 onCreate 调用：

```
 JSONArray json = jParser.getJSONFromUrl(url);

try {

    // looping through All Contacts
    for(int i = 0; i < json.length(); i++){
        JSONObject c = json.getJSONObject(i);

        // put your parsing code here
    }
} catch (JSONException e) {
    e.printStackTrace();
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-10-13T13:24:52.810

我曾经使用过相同的教程，我通过替换 try-catch 块中 JSONParser 类中的代码解决了问题。这个类无论如何都没用，您可以在 onCreate() 中键入它或在您的 AndroidJSONParserActivity 类中编写方法：

```
HttpClient httpclient = new DefaultHttpClient();
httpclient.getParams().setParameter(CoreProtocolPNames.PROTOCOL_VERSION, HttpVersion.HTTP_1_1);
HttpGet request = new HttpGet(url);
HttpResponse response = httpclient.execute(request);
HttpEntity resEntity = response.getEntity();
String _response=EntityUtils.toString(resEntity); // content will be consume only once
Log.i(".......",_response);
JSONObject json = new JSONObject(_response);
JSONArray jarray = json.getJSONArray("array_name");
for(int i=0;i<jarray.length();i++)
{
    JSONObject jb = (JSONObject) jarray.get(i);
    String name = jb.getString("name");
} 
```

无论如何，您应该使用[AsyncTask在单独的线程而不是 UI 中进行解析](http://developer.android.com/reference/android/os/AsyncTask.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-06T09:27:54.053

```
try{
        // String t;
        Boolean found=false;

            JSONArray jArray = new JSONArray(result);
         int jArrayLength = jArray.length(); 
       ArrayList<String> listContents = new ArrayList<String>(jArrayLength);

            for(int i=0;i<jArray.length();i++){
                    JSONObject json_data = jArray.getJSONObject(i);
               // t[i]=json_data.getString("hotelname");

            listContents.add(json_data.getString("hotelname"));

            }

            arr = new String[listContents.size()];
            for(int i=0;i<listContents.size();i++)
                arr[i]= listContents.get(i);
             setListAdapter(new ArrayAdapter<String>(this,
                     android.R.layout.simple_list_item_1,arr));

    }
    catch(JSONException e){
            Log.e("log_tag", "Error parsing data "+e.toString());
    }

} 
```

public void onListItemClick(ListView parent, View v, int position, long id) { Intent myIntent = new Intent(getBaseContext(), Hotelinfo.class); myIntent.putExtra("酒店名称",arr[位置]);

```
 startActivity(myIntent);
        }

} 
```

# php - 如何处理 PHP + MySQL 时区和 MySQL GROUP BY [date] 查询？

> ID：14725240
> 
> 赞同：1
> 
> 时间：2013-02-06T09:09:44.477
> 
> 标签：php, mysql, drupal, datetime, timezone

我正在使用 Drupal 7、PHP 和 MySQL，并在从 MySQL 数据库查询时试图解决时区问题。

Drupal 可以很好地处理日期：所有日期都以 UTC 时间戳 int 的形式存储在数据库中，并且使用 PHP 5 的内置时区功能，通过每个用户配置文件中的时区设置在每个用户的基础上进行时区转换（所以每次运行 PHP 脚本时，脚本的时区都会设置为当前用户的时区）。

因此，只要我们坚持使用 PHP，这一切都很好，而且相当轻松。

当我们引入 MySQL 时，事情开始变得棘手，**因为似乎没有办法将当前 PHP 脚本时区与给定的 MySQL 查询完美同步**。似乎最佳实践要求在 PHP 中处理所有时区转换：只在数据库中查询原始时间戳，然后根据需要在 PHP 中进行转换。

在大多数情况下，这似乎是合理的（即使有时会慢一点），**但是我应该如何处理 MySQL GROUP BY [date] 查询**？例如，我正在构建一个模块来处理分析，并且经常想要执行以下操作：

```
GROUP BY YEAR(FROM_UNIXTIME(u.created)), MONTH(FROM_UNIXTIME(u.created)) 
```

所以我们遇到了时区问题......

想到的可能解决方案：

1.  硬编码时区：在我的模块中使用 date_default_timezone_set() 以确保 PHP 时区始终设置为系统时区（因此 MySQL 时区 = PHP 时区）。换句话说，分析时区将被硬编码，而不是尊重查看分析的用户的时区。这确实不理想，因为我们希望多个时区的用户能够使用他们的时区访问分析。此外， date_default_timezone_set() 似乎把 Drupal 搞砸了，因为它为整个脚本设置了时区，而不是仅仅在一个特定的函数中......

2.  忘记在查询中使用 GROUP BY：只需从数据库中获取所有原始数据（可能有数万行或数十万行），然后使用 for 循环在 php 中按日期对结果进行分组......这个解决方案似乎会资源密集度更高，速度更慢，而且有些荒谬。

所以我想我要问的是，我错过了什么吗？这里有我不知道的最佳实践吗？

非常感谢您的帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T09:52:16.717

I would consider an approach such as this

```
SET time_zone = '+02:00'; 
```

[http://dev.mysql.com/doc/refman/5.5/en/time-zone-support.html](http://dev.mysql.com/doc/refman/5.5/en/time-zone-support.html)

And have

```
GROUP BY FROM_UNIXTIME(u.created, '%Y-%m'); 
```

Since `FROM_UNIXTIME` bases it's time on `time_zone`, this should give desired result.

To undo the `time_zone` change afterwards, consider saving [`SELECT TIMEDIFF(NOW(), CONVERT_TZ(now(), @@session.time_zone, '+00:00'));`](https://stackoverflow.com/questions/2934258/how-do-i-get-the-current-time-zone-of-mysql#answer-3984412) first and then set it to saved value afterwards.

# android - 识别 Google Play 订阅用户

> ID：14725243
> 
> 赞同：9
> 
> 时间：2013-02-06T09:10:09.890
> 
> 标签：android, google-play, billing, google-play-services

如何为 Android 应用实施（自动更新）订阅。

我已阅读[文档](http://developer.android.com/google/play/billing/billing_overview.html)

据我了解，过程如下：

*   用户在应用程序上订阅此类订阅。这将生成一个购买令牌。
*   应用程序将此令牌**连同用于识别此用户的信息一起发送到服务器**
*   服务器将与此用户一起存储此购买令牌，并将订阅标记为有效
*   服务器通过 http-api 定期（通常每天一次）使用类似 cronjob 的方式验证此购买令牌
*   如果订阅不再有效，订阅将在服务器端被标记为无效。
*   如果应用程序向服务器请求需要订阅的资源，客户端将连同请求一起发送此用户身份字符串。然后我们检查数据库，如果这个用户的订阅仍然被标记为有效。

我现在的问题是，我们应该如何识别这些用户？我们是否有可以在应用程序和服务器之间共享的简单用户 ID？还是我们应该使用不同的东西？这里的最佳做法是什么？

我们已经在 ios 上进行了类似的订阅，并且我们使用设备的 uuid 来识别用户（至少只要我们能够使用 uuid）。

* * *

从下面的答案中，我们应该生成一个唯一的 ID。这对于每个设备（或每个应用程序安装）都是唯一的。但是，如果用户更改了他的设备或重新安装了应用程序，这个 id 就不再一样了。所以我不确定这个用例中的过程是如何的。我想到了这样的事情：

*   用户在他的第二台设备上使用相同的 google play 帐户登录。
*   随着应用程序启动（或变为活动状态），我们将获取用户订阅
*   然后，我们将从订阅中接收此购买令牌，并将它们与新的唯一 ID 一起发送到我们的后端服务器，就好像用户进行了新订阅一样。

这会是正确的过程吗？并保持购买令牌与第一台设备上的相同？

* * *

好的，我关于识别用户的问题得到了解答，提供的链接提供了足够的信息。如果我有一些问题，我会在关于 SO 的新线程中提出更多问题。

* * *

## 回答 #1

> 赞同：-3
> 
> 时间：2013-02-06T09:16:57.343

此链接可能对您有所帮助，因为您希望唯一地识别用户。请注意，用户的个人信息仅由 Google 掌握。您应避免获取用户的私人信息。 [http://www.pocketmagic.net/2011/02/android-unique-device-id/#.URIe_B3Wgr7](http://www.pocketmagic.net/2011/02/android-unique-device-id/#.URIe_B3Wgr7)

# javascript - 使用jquery动态创建元素

> ID：14725248
> 
> 赞同：9
> 
> 时间：2013-02-06T09:10:23.913
> 
> 标签：javascript, jquery, html, createelement

我正在尝试使用 jquery 创建元素。当我点击一个链接时，我想创建一个元素“p”，给它一些文本，然后把它放在我的一个 div 中。另外，我想检查点击了哪个链接，所以我可以将创建的“p”放在正确的 div 中。关于我在哪里做错的任何解决方案？

Javascript/Jquery

```
$(document).ready(function () {

function createElement() {
  var a = $("#menu").find('a').each(function(){
    if(a == "l1"){
    var text = $(document.createElement('p');
    $('p').text("Hej");
    $("#contentl1").append("text");
    }
  });
}

$("#menu").find('a').each(function () {
    $(this).click(function () {
        createElement();
    });
});

createElement();

}); 
```

HTML

```
 <html>

<head>
<title>Inl1-1</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="stylesheet" type="text/css" href="style-1.css">
<script type="text/javascript" src="http://code.jquery.com/jquery-latest.js"></script>
<script type="text/javascript" src="Uppg1.js"></script>
</head>

<body>

<ul class="meny" id="menu">
<li><a href="#" id="l1">Utvärdering/Feedback</a></li>
<li><a href="#" id="l2">Kontakt</a></li>
<li><a href="#" id="l3">Öppettider</a></li>
<li><a href="#" id="l4">Om Asperöd</a></li>
</ul>

<div id="contentl1">

</div>

<div id="contentl2">

</div>

<div id="contentl3">

</div>

<div id="contentl4">

</div>

</body>

</html> 
```

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2013-02-06T09:12:54.783

这是使用 jQuery添加带有文本*“Hej”*的新`<p>`元素的最佳方式：*`#contentl1`*

 *```
$("<p />", { text: "Hej" }).appendTo("#contentl1"); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-06T09:12:05.330

```
function createElement() {
  var a = $("#menu").find('a').each(function(){
    if(a == "l1"){
    var p = $("<p>");
    p.text("Hej");
    $("#contentl1").append(p);
    }
  });
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-06T09:12:37.897

我知道回答您的问题并不重要，但很难将此作为评论：

```
var a = $("#menu").find('a').each(function(){ <-- this "a" will only be created after the each completes
    if(a == "l1"){ <-- this "a" that you are verifying is a global variable
    var text = $(document.createElement('p');
    $('p').text("Hej");
    $("#contentl1").append("text");
    }
  }); 
```

你可以试试这个来解决你的问题：

```
function createElement() {
  if($(this).attr("id") == "l1"){
   $("#contentl1").append('<p>hej</p>');
  }
}

$("#menu a").each(function () {
    $(this).click(function () {
        createElement.apply(this);
    });
}); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-06T09:14:06.613

首先，点击函数可以像这样完成，而不必使用 .find()：

```
$('#menu a').click(function() { } 
```

.each() 循环可以像这样完成：

```
$('#menu a').each(function () {
    var aId = $(this).attr('id');
    var contentId = content + aId;
    $(contentId).append('<p>Hej</p>');
}) 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-06T09:32:10.663

像[这样的小提琴](http://jsfiddle.net/gnZ24/1/)？

```
$('#menu').on('click', 'a', function(e) {
    e.preventDefault();
    $('<p>').text($(this).text()).appendTo('#content'+this.id);
}); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-07-26T10:07:16.650

试试这个脚本，它会正确放置文本`div`。

```
$(document).ready(function () {

$("#menu").find('a').each(function () {
    $(this).on('click',function () {
        $("#content"+$(this).attr("id")).append("<p>link "+$(this).attr("id")+" is clicked</p>");
    });
});

}); 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2021-09-08T20:29:30.363

我个人喜欢将经典的 JS DOM 用于任务，因此这是您首先使用 JQuery 创建 DOM 对象的方法。返回的 DOM 对象是 HTML 的外部元素（p 标记），但内部 HTML 可以任意复杂。

```
var elP = $("<p>Hej</p>")[0]
// Do some other DOM manipulations of p
// eg: elP.someCustomTag='foobar'

$("#content1").append(elP) 
```*

# qml - 在 BlackBerry 10 App 中添加表情符号？

> ID：14725249
> 
> 赞同：1
> 
> 时间：2013-02-06T09:10:23.970
> 
> 标签：qml, blackberry-10, blackberry-cascades

我需要在我的应用程序中插入表情符号/笑脸。bb 10可以吗？任何内置代码或需要在应用程序中自定义该图像？我已经使用以下代码在文本字段和标签字段中启用了表情符号。它可以工作，但我需要使用表情符号弹出对话框选择表情符号

```
content {
      flags: TextContentFlag.Emoticons
   } 
```

我已附上图片以供参考。

谢谢，![在此处输入图像描述](../Images/0cb22d40562781b701022054108d034f.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-06T10:26:51.320

我认为目前 Emoticon 目前不存在我想是的，请参考路线图 [https://developer.blackberry.com/cascades/download/roadmap/](https://developer.blackberry.com/cascades/download/roadmap/)

# python - 编辑：如何在 Python 中声明结构数组

> ID：14725253
> 
> 赞同：1
> 
> 时间：2013-02-06T09:10:45.613
> 
> 标签：python, c, arrays, struct

## 全部编辑

```
import struct
from collections import namedtuple

FDResult = namedtuple('FDResult', ['DeviceID', 'PageNum'])
#bla = [FDResult(DeviceID='NR0951113', PageNum=[1,2,3,4]),
 #FDResult(DeviceID='NR0951114', PageNum=[17,28,63,64]),
 #FDResult(DeviceID='NR0951115', PageNum=[2,3,4,5])]

bla = [FDResult(DeviceID='NR0951115', PageNum=[1])] #how to declare bla as FDResult array and blank data inside,Length of bla should equal 0
bla.append(FDResult(DeviceID='NR0951112', PageNum=[2])) 
print(len(bla))

bla[0].PageNum.append(16) 
```

如何在 Python 中声明结构数组？
FDResult数组和里面的空白数据，bla的长度应该等于0

# 回答

```
FDResult = namedtuple('FDResult', ['DeviceID', 'PageNum'])
#bla = [FDResult(DeviceID='NR0951113', PageNum=[1,2,3,4]),
 #FDResult(DeviceID='NR0951114', PageNum=[17,28,63,64]),
 #FDResult(DeviceID='NR0951115', PageNum=[2,3,4,5])]
NodeList = []

Node = FDResult(DeviceID='NR0951113', PageNum=[1,2,3,4])
NodeList.append(Node)
print(len(NodeList))
NodeList[0].PageNum.append(16) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T09:37:03.610

如果长度`bla`应该为零，只需创建一个空列表：

```
bla = [] 
```

Python 列表可以包含任何类型的对象。如果`bla`只应该保存`FDResult`实例，那么作为程序员，您有责任不要在那里放任何其他东西。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T09:31:33.093

您可以像这样创建 namedtuple 数组。

```
from collections import namedtuple

MyStruct = namedtuple('MyStruct', 'Mark nPackLen nFlag nGisIp nPort sData sEnd')

NodeList = []
Node = MyStruct(None, '', '', '', '',  -1, 0)
for id in range(4):
     NodeList.append(Node) 
```

# python - ALSA & Python - 捕获多个单声道音频输入

> ID：14725257
> 
> 赞同：3
> 
> 时间：2013-02-06T09:11:01.840
> 
> 标签：python, linux, audio, ubuntu, alsa

我正在使用 python 音频 alsa 库与我的 M-Audio Delta 1010LT PCI 音频接口进行交互。该音频接口有 8 个模拟输入。我想分析一个特定单声道输入的信号。正在识别卡：

```
cat /proc/asound/cards 0 [M1010LT        ]: ICE1712 - M Audio Delta 1010LT
                  M Audio Delta 1010LT at 0xa000, irq 18 
```

之后，我使用命令“amixer”列出了所有设备名称（此处显示输入 ADC）

```
...
Simple mixer control 'ADC',0
Capabilities: volume volume-joined penum
Playback channels: Mono
Capture channels: Mono
Limits: 0 - 164
Mono: 142 [87%] [7.50dB]
Simple mixer control 'ADC',1
Capabilities: volume volume-joined penum
Playback channels: Mono
Capture channels: Mono
Limits: 0 - 164
Mono: 164 [100%] [18.50dB]
Simple mixer control 'ADC',2
Capabilities: volume volume-joined penum
Playback channels: Mono
Capture channels: Mono
Limits: 0 - 164
Mono: 164 [100%] [18.50dB]
Simple mixer control 'ADC',3
Capabilities: volume volume-joined penum
Playback channels: Mono
Capture channels: Mono
Limits: 0 - 164
Mono: 164 [100%] [18.50dB]
Simple mixer control 'ADC',4
Capabilities: volume volume-joined penum
Playback channels: Mono
Capture channels: Mono
Limits: 0 - 164
Mono: 164 [100%] [18.50dB]
Simple mixer control 'ADC',5
Capabilities: volume volume-joined penum
Playback channels: Mono
Capture channels: Mono
Limits: 0 - 164
Mono: 164 [100%] [18.50dB]
Simple mixer control 'ADC',6
Capabilities: volume volume-joined penum
Playback channels: Mono
Capture channels: Mono
Limits: 0 - 164
Mono: 164 [100%] [18.50dB]
Simple mixer control 'ADC',7
Capabilities: volume volume-joined penum
Playback channels: Mono
Capture channels: Mono
Limits: 0 - 164
Mono: 164 [100%] [18.50dB]
... 
```

之后，我使用命令“arecord -l”列出了录音硬件设备

```
arecord -l**** List of CAPTURE Hardware Devices ****
card 0: M1010LT [M Audio Delta 1010LT], device 0: ICE1712 multi [ICE1712 multi]
Subdevices: 1/1
Subdevice #0: subdevice #0 
```

我对吗？这是否仅显示 1 个录制子设备？不是应该显示8吗？

我还安装了 Mudita24——一个 envy24 视觉混音器。有了这个，我可以完美地调整和监控所有输入通道的电平。

之后我使用 GStreamer 做了一个小测试，效果也很好：

```
gst-launch-0.10 alsasrc card-name=0 device-name='ADC 0' ! queue ! alsasink card-name=0 device-name='DAC 0' 
```

但是我在使用以下卡和设备描述符来解决 python 的 alsa 中的某个单声道通道时遇到了麻烦：

```
'default'  // This one get's me channel 1 & 2 MIXED (I'd like to get them as seperated mono inputs)
'hw:0,0'   // recognizes device but the input value is 0
'hw:0,0,0' // returns same as hw:0,0
'hw:0,0,1' // Device or resource busy (pretty much every other value than 0 returns this)
'hw:0,1'   // No such file or directory 
```

如何使用 ALSA 处理特定的单声道输入通道？这是我正在使用的 python 库：[链接](http://pyalsaaudio.sourceforge.net/pyalsaaudio.html#)

这就是我尝试为每个频道创建设备的方式：

```
pcm.one_channel {
@args [ CHANNEL ]
@args.CHANNEL { type integer }
type dsnoop
ipc_key 20130206
slave {
    pcm "hw:0"
    channels 12
    rate 44000
}
bindings [ $CHANNEL ]
}

pcm.two_channel {
    @args [ CHANNEL ]
    @args.CHANNEL { type integer }
    type dsnoop
    ipc_key 20130206
    slave {
        pcm "hw:0"
        channels 12
        rate 44000
    }
    bindings [ $CHANNEL ]
}

pcm.three_channel {
    @args [ CHANNEL ]
    @args.CHANNEL { type integer }
    type dsnoop
    ipc_key 20130206
    slave {
        pcm "hw:0"
        channels 12
        rate 44000
    }
    bindings [ $CHANNEL ]
}

pcm.four_channel {
    @args [ CHANNEL ]
    @args.CHANNEL { type integer }
    type dsnoop
    ipc_key 20130206
    slave {
        pcm "hw:0"
        channels 12
        rate 44000
    }
    bindings [ $CHANNEL ]
}

pcm.five_channel {
    @args [ CHANNEL ]
    @args.CHANNEL { type integer }
    type dsnoop
    ipc_key 20130206
    slave {
        pcm "hw:0"
        channels 12
        rate 44000
    }
    bindings [ $CHANNEL ]
} 
```

我是否正确解释了您的建议？我也一直在网上寻找这个，并为这张卡找到了另外两个 .asoundrc（不幸的是也不起作用）。

```
#
# M-Audio Delta 1010
#

pcm.ice1712_capture {
    type dsnoop
    ipc_key 1024
    slave {
        pcm "hw:0"
        period_size 0
        buffer_size 65536
        rate 44100
        channels 10
        format "S16_LE"
    }
}

pcm.ice1712_playback {
    type dsnoop
    ipc_key 1024
    slave {
        pcm "hw:0"
        period_size 0
        buffer_size 65536
        rate 44100
        channels 10
        format "S16_LE"
    }
}

pcm.ice1712_duplex {
    type asym
    playback.pcm ice1712_playback
    capture.pcm ice1712_capture
}

pcm.ch1 {
    type plug
    ttable.0.0 1
    slave.pcm ice1712_duplex
}

pcm.ch2 {
    type plug
    ttable.1.1 1
    slave.pcm ice1712_duplex
}

pcm.ch3 {
    type plug
    ttable.0.2 1
    slave.pcm ice1712_duplex
}

pcm.ch4 {
    type plug
    ttable.1.3 1
    slave.pcm ice1712_duplex
}

pcm.ice1712_ch5 {
    type plug
    ttable.0.4 1
    slave.pcm ice1712_duplex
}

pcm.ice1712_ch6 {
    type plug
    ttable.1.5 1
    slave.pcm ice1712_duplex
}

pcm.ice1712_ch7 {
    type plug
    ttable.0.6 1
    slave.pcm ice1712_duplex
}

pcm.ice1712_ch8 {
    type plug
    ttable.1.7 1
    slave.pcm ice1712_duplex
}

pcm.ice1712_ch9 {
    type plug
    ttable.0.8 1
    slave.pcm ice1712_duplex
}

pcm.ice1712_ch10 {
    type plug
    ttable.1.9 1
    slave.pcm ice1712_duplex
} 
```

这里还有一个：

```
pcm.multi_capture {
    type multi
    slaves.a.pcm hw:0 
    slaves.a.channels 12

# First 8 channels of first soundcard (capture)
    bindings.0.slave a
    bindings.0.channel 0
    bindings.1.slave a
    bindings.1.channel 1
    bindings.2.slave a
    bindings.2.channel 2
    bindings.3.slave a
    bindings.3.channel 3
    bindings.4.slave a
    bindings.4.channel 4
    bindings.5.slave a
    bindings.5.channel 5
    bindings.6.slave a
    bindings.6.channel 6
    bindings.7.slave a
    bindings.7.channel 7

# S/PDIF section. Uncomment bindings if required.

# S/PDIF first soundcard (capture)
    #bindings.16.slave a
    #bindings.16.channel 8
    #bindings.17.slave a
    #bindings.17.channel 9
}

ctl.multi_capture {
    type hw
    card 0
}

pcm.multi_playback {
    type multi
    slaves.a.pcm hw:0
    slaves.a.channels 10

# First 8 channels of first soundcard (playback)
    bindings.0.slave a
    bindings.0.channel 0
    bindings.1.slave a
    bindings.1.channel 1
    bindings.2.slave a
    bindings.2.channel 2
    bindings.3.slave a
    bindings.3.channel 3
    bindings.4.slave a
    bindings.4.channel 4
    bindings.5.slave a
    bindings.5.channel 5
    bindings.6.slave a
    bindings.6.channel 6
    bindings.7.slave a
    bindings.7.channel 7

# S/PDIF section. Uncomment bindings if required.

# S/PDIF first soundcard (playback)
    #bindings.16.slave a
    #bindings.16.channel 8
    #bindings.17.slave a
    #bindings.17.channel 9
}

ctl.multi_playback {
    type hw
    card 0
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T10:11:14.647

该`amixer`工具不显示设备名称，而是显示混音器控件。

ICE1712 芯片确实只有一个捕获设备（正好有 12 个通道）。

* * *

要获取各个频道的虚拟设备，请尝试将以下内容添加到您的`~/.asoundrc`or中`/etc/asound.conf`：

```
pcm.one_channel {
    @args [ CHANNEL ]
    @args.CHANNEL { type integer }
    type dsnoop
    ipc_key 20130206
    slave {
        pcm "hw:0"
        channels 12
        rate 48000
    }
    bindings [ $CHANNEL ]
} 
```

然后使用设备名称，如`one_channel:0`,`one_channel:1`等。

# c# - 更改 DevComponents AdvTree 节点的字体颜色

> ID：14725261
> 
> 赞同：1
> 
> 时间：2013-02-06T09:11:45.143
> 
> 标签：c#, winforms, treeview, styles

我正在寻找更改 DevComponent AdvTree 上特定节点的字体颜色。我在 DevComponents 的“知识库”中找到了以下与改变风格有关的信息：

```
// Create new style
ElementStyle styleRightAligned = new ElementStyle();

// Set text alignment to right

styleRightAligned.TextAlignment = eStyleTextAlignment.Far;

advTree1.Styles.Add(styleRightAligned);

// Add new cell to the AdvTree

Cell cell = new Cell();

cell.Text = "Right";
cell.StyleNormal = styleRightAligned;

// Assign style to cell, same style can be assigned to any number of cells

node1.Cells.Add(cell); 
```

我无法理解 eStyleAlignment.Far 中引用了什么对象。

有没有人有在 DevComponents DotNetBar 中更改样式的经验？

谢谢，

安迪

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-14T11:46:07.743

I figured out how to do this. The AdvTree control has a Styles property. This is a collection; styles can be added to it at design time.

Then the code to change the style of a particular node is:

```
void ChangeNodeStyle(AdvTree tree, int node, int style)
{
    tree.Nodes[node].Style = tree.Styles[style];
} 
```

Thanks,

Andy

# javascript - JavaScript 错误仅出现在 IE 8 中，但没有其他浏览器

> ID：14725272
> 
> 赞同：0
> 
> 时间：2013-02-06T09:12:13.567
> 
> 标签：javascript, internet-explorer-8

我在我的代码中使用以下函数

```
function viewTearSheet(creativeId) {
    var url = "/Main?event_key=new_view_test_ad&isAjaxCall=true&fromCreateAdNewDesign=tear&"+"&creativeId=" + creativeId + "&testAdClick=primary";
    day = new Date();
    id = day.getTime();
    window.open(url, '" + id + "', 'toolbar=0,scrollbars=1,location=0,statusbar=0,menubar=0,resizable=0,width=1000,height=800,left = 320,top = 150');
} 
```

它适用于除 IE8 之外的所有浏览器。它在 IE8 中给出以下错误消息

```
User Agent: Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 5.1; Trident/4.0;
.NET CLR 2.0.50727; .NET4.0C; .NET4.0E)
Timestamp: Wed, 6 Feb 2013 07:06:38 UTC

Message: Invalid argument.
Line: 497
Char: 5
Code: 0
URI: https://test.juhu.abc.com/chakra/campaign/view.js?z=166 
```

我该如何解决这个..提前谢谢..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T09:18:18.590

该字符串`'" + id + "'`不是有效的窗口名称 - 不允许使用空格和加号，我强烈怀疑引号是。另请参阅[ie8 var w= window.open() -“消息：无效参数”。](https://stackoverflow.com/questions/710756/ie8-var-w-window-open-message-invalid-argument), [window.open 在 IE7-8-9b 中抛出无效参数](https://stackoverflow.com/questions/4840369/window-open-throws-invalid-argument-in-ie7-8-9b)和[window.open 无效参数错误](https://stackoverflow.com/questions/6255909/window-open-invalid-argument-error)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T09:18:25.833

可能是一条红鲱鱼，但在您的代码中，您有多个 & 符号和一个不需要的 + 任何原因尝试删除它，因为它可能是问题。

取而代之的是

```
 var url = "/Main?event_key=new_view_test_ad&isAjaxCall=true&fromCreateAdNewDesign=tear&"+"&creativeId=" + creativeId + "&testAdClick=primary"; 
```

泰这个

```
var url = "/Main?event_key=new_view_test_ad&isAjaxCall=true&fromCreateAdNewDesign=tear&creativeId=" + creativeId + "&testAdClick=primary"; 
```

此外，窗口名称中只允许使用普通字符，因此如果您的日期格式为 - 等，这也会中断 ie 8，请尝试用普通字符串替换 id 并查看问题是否仍然存在。如果是这样，那就是你的问题。

有关更多信息，请参阅 Bergi 的答案

# android - Google Drive getToken 类未找到异常

> ID：14725278
> 
> 赞同：0
> 
> 时间：2013-02-06T09:12:28.317
> 
> 标签：android, google-drive-api, google-play-services

我已经在我的 android 应用程序中集成了 Google Drive，当我在具有 android 版本 2.3.6 的设备上调试应用程序时，当我调用这个时，我得到了 ClassNotFoundException：

```
mCredential.getToken(); 
```

mCredential 设置如下：

```
mCredential = GoogleAccountCredential.usingOAuth2(context, DriveScopes.DRIVE); 
```

我在“调试”选项卡中看到：

```
Thread [<13> Thread-15] (Suspended (exception ClassNotFoundException))  
<VM does not provide monitor information>   
PathClassLoader.findClass(String) line: 240 
PathClassLoader(ClassLoader).loadClass(String, boolean) line: 551   
PathClassLoader(ClassLoader).loadClass(String) line: 511    
GoogleAuthUtil.f(Context) line: not available   
GoogleAuthUtil.getToken(Context, String, String, Bundle) line: not available    
GoogleAuthUtil.getToken(Context, String, String) line: not available    
GoogleAccountCredential.getToken() line: 192    
GoogleDrive.checkIfUserIsAuthenticated(Activity, boolean) line: 411 
GoogleDrive.access$4(GoogleDrive, Activity, boolean) line: 403  
GoogleDrive$1.run() line: 98 
```

有人能帮我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-20T14:25:03.200

我知道这是一个老问题，但我也把头发拉出来了。对我来说，ClassNotFoundException 是因为缺少字符串资源。显然，Google play 服务包含资源，并且必须作为库项目导入，而不是仅仅添加 .jar 作为依赖项。在 Eclipse 中执行此操作的说明如下：http: [//developer.android.com/google/play-services/setup.html](http://developer.android.com/google/play-services/setup.html)

一旦我完成了这些指令，我就会收到一个构建错误，说多个 dexed 库包含某些类或类似的东西。这个错误原来是因为我现在有两个对 google-play-services.jar 的引用。要修复该错误，请在项目资源管理器视图下，右键单击 bin 目录并单击删除。这将删除带有多个 google-play-services.jar 副本的 dexedLibs 文件夹。此时，我在项目的根目录以及“Android 依赖项”下引用了 google-play-services.jar。我右键单击项目根目录中的引用，然后转到 Build Path -> Remove From Build Path 以摆脱它。

# php - 编写一个将英国日期转换为相对时间的 PHP 函数

> ID：14725280
> 
> 赞同：0
> 
> 时间：2013-02-06T09:12:31.190
> 
> 标签：php

以以下格式转换英国日期和时间的最佳方法是什么：

`30/01/2013 13:30:06`

这是PHP 中的**d/m/YH:i:s**相对时间（即刚刚、几分钟前、30 分钟前、3 小时前、1 天前......等等）。我已经看过几个关于这个主题的教程，但它们都围绕着创建函数而没有任何明确的解释。我希望能在这件事上提供一些帮助。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-06T09:17:34.067

希望这可以帮助

```
function timeSince($ptime){
        $etime = time() - strtotime($ptime);

        if( $etime < 1 ){
            return 'less than 1 second ago';
        }

        $a = array( 12 * 30 * 24 * 60 * 60  =>  'year',
                    30 * 24 * 60 * 60       =>  'month',
                    24 * 60 * 60            =>  'day',
                    60 * 60             =>  'hour',
                    60                  =>  'minute',
                    1                   =>  'second'
        );

        foreach( $a as $secs => $str ){

            $d = $etime / $secs;     
            if( $d >= 1 ){

                $r = round( $d );
                return ' <font style="color:#0099ff"> ' . $r . ' ' . $str . ( $r > 1 ? 's' : '' ) . ' ago</font>';
            }
        }
    } 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-06T09:17:32.370

使用`mktime();`和`date();`

例如，如果您在格式中有一个特定的时间 `d/m/Y H:i:s`，并且您希望它是这样`d-m-Y H:s:i`，您可以使用将时间分解为块`explode();`，然后使用`date(new_format, mktime(current_format_chunks))`

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-06T09:17:52.620

编写自定义函数可能会有所帮助。剪切字符串并转换为数字。使用 mktime() 创建时间戳，将其与 time() 当前时间戳进行比较，并通过各种相对时间可能性进行切换（大小写）。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-06T09:17:30.323

`dd/mm/yyyy`需要`dd.mm.yyyy`根据[格式化规则](http://www.php.net/manual/en/datetime.formats.date.php)改成，否则会被当作`mm/dd/yyyy`

```
$dateString = '30/01/2013 13:30:06';
$dateObject = new DateTime(str_replace('/', '.', $dateString)); 
```

可选添加[DateTimezone](http://www.php.net/manual/en/class.datetimezone.php)作为 DateTime 构造函数的第二个参数。

然后你可以用当前日期做一个[差异，并使用](http://www.php.net/manual/en/datetime.diff.php)[dateintervals](http://www.php.net/manual/en/class.dateinterval.php)来获取相对时间

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-02-06T09:23:25.650

解析日期最直接和友好的方法是[DateTime](http://www.php.net/manual/en/book.datetime.php)扩展。它有一个名为的静态方法[`createFromFormat`](http://www.php.net/manual/en/datetime.createfromformat.php)：

```
$date   = '30/01/2013 13:30:06';
$format = 'j/m/Y G:i:s';
$time   = DateTime::createFromFormat($format, $date);
echo $time->format('l dS F \'y at H.i.s'); 
```

该方法采用自定义格式和日期字符串。因为您可以自己定义格式，所以它比“手动”解析要容易得多。

为了调整日期，您可以使用`add()`,`sub()`和`modify()`方法：

```
$time->add(new DateInterval('P3DT5H')); // 3 days and 5 hours
echo $time->format('l dS F \'y at H.i.s');

$time->sub(new DateInterval('P9DT1H')); // 9 days and 1 hours
echo $time->format('l dS F \'y at H.i.s');

$time->modify('-1 year -35 days');
echo $time->format('l dS F \'y at H.i.s'); 
```

如您所见，该`modify()`方法更易于使用。另外两种方法使用`DateInterval`类和一种尴尬的格式。这并不难（只需阅读文档并按照它说的做），但使用实际单词（即“-3 天 -7 小时”）更容易理解。

# c# - 客户端 -> WCF 服务 -> ASP.NET 网页之间的通信

> ID：14725281
> 
> 赞同：0
> 
> 时间：2013-02-06T09:12:31.410
> 
> 标签：c#, asp.net, wcf, web-services, visual-studio-2008

我尝试构建一个将数据发送到 WCF 服务的客户端。有一个 ASP.NET 网页应该接收这些信息并将它们放在文本字段等中。

这是我的客户端中的方法：

```
 OutlookPluginService.BookingRequest breq = new OutlookClient.OutlookPluginService.BookingRequest();
            breq.subject = "This is my subject";
            breq.numParticipants = 6;

            client.getBookingURL("1234", breq); 
```

此方法将数据发送到 WCF Web 服务并接收 ASP.NET URL。

这是我的 WCF 方法：

```
 public string getBookingURL(string guid, BookingRequest request,string token,string exitURL)
{
    BookingRequest breq = new BookingRequest();

    HttpContext current = HttpContext.Current;
    string baseUrl = current.Request.Url.Scheme + "://"
        + current.Request.Url.Authority
        + current.Request.ApplicationPath.TrimEnd('/') + '/'
        + "WebPage/Booking/BBooking.aspx";
    return baseUrl;
} 
```

我可以从这里访问数据，但我不知道如何将数据传输到 asp.net 网页。

是否可以通过会话解决此问题？

提前感谢您的帮助/想法

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T09:24:00.153

你有两个选择；

1）您可以使用池化，它以预定的时间间隔调用相关服务以获取新添加的数据。

或者

2) 您可以使用拉-推结构，使您能够将数据从 WCF 服务推送到 ASP.NET 应用程序。请参阅[如何在 C# asp.net 中实现 Push-Pull Web 应用程序](https://stackoverflow.com/questions/6060791/how-do-i-implement-a-push-pull-web-application-in-c-sharp-asp-net)

# javascript - javascript 不会在 html 对象上生成新的类名

> ID：14725288
> 
> 赞同：0
> 
> 时间：2013-02-06T09:13:09.833
> 
> 标签：javascript, html

我使用这个 javascript 通过扩展`DropDown`函数功能在类名上产生“切换”一个额外的单词，并在单击时将其删除：

```
function DropDown(el) {
    this.dd = el;
    this.initEvents();
}
DropDown.prototype = {
    initEvents: function () {
        var obj = this;
        obj.dd.on('click', function (event) {

            $(this).toggleClass('active');
            /* event.stopPropagation();*/
            return false;
        });
    }
}

$(function () {

    var dd = new DropDown($('#dd'));

    $(document).click(function () {
        // all dropdowns
        $('.wrapper-dropdown').removeClass('active');
    });

}); 
```

我希望 JavaScript 在其中生效的 HTML 看起来像，（我的目标是 class="wrapper-dropdown"）：

```
 <div class="wrapper">
     <div id='dd' class="wrapper-dropdown">1'st subject
         <ul class="dropdown">
             <li><a href="content.php?page=1">1</a></li>
             <li><a href="content.php?page=7">2</a></li>
             <li><a href="content.php?page=8">3</a></li>
         </ul>
     </div>
     <div id='dd' class="wrapper-dropdown">2'nd subject
         <ul class="dropdown">
             <li><a href="content.php?page=2">1</a></li>
             <li><a href="content.php?page=3">2</a></li>
         </ul>
     </div>
     <div id='dd' class="wrapper-dropdown">3'rd subject
         <ul class="dropdown"></ul>
     </div>
     <div id='dd' class="wrapper-dropdown">4'th subject
         <ul class="dropdown">
             <li><a href="content.php?page=9">1</a></li>
             <li><a href="content.php?page=11">2</a></li>
         </ul>
     </div> 
</div> 
```

问题是 JavaScript 仅对包装器 div 中的第一项生效

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T09:22:18.357

因为您有多个 div 且`id='dd'`- ID 必须是唯一的。

只需像这样向您的 div 添加一个`dd`类：

```
 <div class="wrapper-dropdown dd">1'st subject
     <ul class="dropdown">
         <li><a href="content.php?page=1">1</a></li>
         <li><a href="content.php?page=7">2</a></li>
         <li><a href="content.php?page=8">3</a></li>
     </ul>
 </div> 
```

并更改`el`：`var dd = new DropDown($('.dd'));`

# android - Android我在哪里可以得到本地相机应用程序拍摄的图像

> ID：14725291
> 
> 赞同：1
> 
> 时间：2013-02-06T09:13:17.663
> 
> 标签：android, android-camera, android-camera-intent

我正在使用本机相机应用程序来捕获图像，并且我没有使用 MediaStore.EXTRA_OUTPUT 来指定图像的路径。那么我如何使用意图获取图像。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T09:38:30.310

要使用相机捕获图像，请调用此意图

```
Intent cameraIntent = new Intent(android.provider.MediaStore.ACTION_IMAGE_CAPTURE);
startActivityForResult(cameraIntent, requestCode); 
```

并使用 onActivityResult 函数处理回调

```
protected void onActivityResult(int requestCode, int resultCode, Intent data) {

Bitmap mImageBitmap;
            Bundle extras = data.getExtras();
            mImageBitmap = Bitmap.createScaledBitmap(
                    (Bitmap) extras.get("data"), 100, 100, false);
} 
```

mImageBitmap 将保存您捕获的图像。希望能帮助到你 ：）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T09:26:50.077

看看[这个](https://stackoverflow.com/q/14586398/1965084)话题。你不使用 MediaStore.EXTRA_OUTPUT 是什么意思？After可以通过回调取回图像数据并将其保存为自定义位置的图片。

# ember.js - 视图中的属性绑定基于 2 条单独的数据

> ID：14725296
> 
> 赞同：1
> 
> 时间：2013-02-06T09:13:55.603
> 
> 标签：ember.js, handlebars.js

在我的 Ember.js 应用程序的视图控制器中，我有一个旅行类型数组和另一个具有当前用户旅行偏好的值。

在视图中，我需要根据当前旅行类型是否是用户的首选旅行偏好，将 CSS 类添加到元素中。

据我所知，我似乎无法思考如何将两者联系起来？任何帮助，将不胜感激。

为了这篇文章的好处，值是硬编码的，但是 travelType 和 travelPreferences 来自 AJAX 调用（并使用 Ember 对象）

**控制器：**

```
App.IndexController = Em.ArrayController.extend({
    user: {
         travelPreferences: [
              "1", 
              "3"
         ]
    }
    travelTypes: [
         { TravelTypeID: '1', TravelTypeDescription: 'Car' }, 
         { TravelTypeID: '2', TravelTypeDescription: 'Train' }, 
         { TravelTypeID: '3', TravelTypeDescription: 'Walking' }, 
         { TravelTypeID: '4', TravelTypeDescription: 'Bike' }
    ]
}); 
```

**看法**

```
<ul>
    {{#each travelTypes}}
        <li>{{TravelTypeDescription}}</li>
    {{/each}}
</ul> 
```

因此`<li>`，我需要`class="preferred"`输入 travelPreferences 数组中的 ID 是否与 travelType 的 ID 匹配。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T13:03:17.370

首先，我会将常规的 javascript 对象更改为 Ember 对象，这样我就可以使用 binging 功能：

```
 user: Ember.Object.create({
        travelPreferences: [
            "1",
            "3"
        ]
    }),
    travelTypes: [
    Ember.Object.create({
        TravelTypeID: '1',
        TravelTypeDescription: 'Car',
        preferred: false
    }),
    Ember.Object.create({
        TravelTypeID: '2',
        TravelTypeDescription: 'Train',
        preferred: false
    }),
    Ember.Object.create({
        TravelTypeID: '3',
        TravelTypeDescription: 'Walking',
        preferred: false
    }),
    Ember.Object.create({
        TravelTypeID: '4',
        TravelTypeDescription: 'Bike',
        preferred: false
    })], 
```

接下来，我将观察当前用户偏好的变化并更新旅行类型的首选属性：

```
onUserPreferencesChanged: function () {
    var controller = this;
    controller.get('travelTypes').map(function (travelType) {
        travelType.set('preferred', false);
    });
    this.get('user.travelPreferences').map(function (prefId) {
        controller.get('travelTypes').filterProperty('TravelTypeID', prefId).map(function (travelType) {
            travelType.set('preferred', true);
        });
    });
}.observes('user.travelPreferences.@each'), 
```

最后，我将绑定到旅行类型列表中每种旅行类型的首选标志。

```
 <ul> 
        {{#each travelTypes}} 
        <li {{bindAttr class = "preferred"}}>
            {{TravelTypeDescription}} 
        </li>
        {{/each}}
    </ul> 
```

这是一个工作小提琴，将其全部包装起来：http: [//jsfiddle.net/B4d6K/4/](http://jsfiddle.net/B4d6K/4/) 阅读有关框架的更多信息并使用绑定和视图机制，您将看到您可以用它做任何事情。这可能不是最干净的解决方案，也许你会在阅读后想出更好的东西。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T13:02:03.457

我最近问了一个类似的问题，关于迭代数组，然后使用一些条件逻辑来改变项目的反映方式。提供给我的答案对我来说非常有效。看：

[Handlebars Helper 根据条件逻辑将视图插入模板](https://stackoverflow.com/questions/14701815/handlebars-helper-to-insert-view-into-template-based-on-conditional-logic)

我建议使用 ArrayController 来迭代旅行类型。然后指定 itemController（它扩展了 ObjectController）来控制每个元素的显示。ObjectController 可以有一个方法*getTravelTypeClass*，您可以使用该方法根据某些逻辑为每种旅行类型返回所需的类。

# .net - XAML 中的引用会导致内存泄漏吗？

> ID：14725297
> 
> 赞同：2
> 
> 时间：2013-02-06T09:13:58.393
> 
> 标签：.net, wpf, xaml, memory-leaks

我有一个类，这是它的 XAML 部分方面：

```
<Grid x:Class="KETAB.KStudio.Stage.KPage" Name="Scaller"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:aero="clr-namespace:Microsoft.Windows.Themes;assembly=PresentationFramework.Aero"
    xmlns:model="clr-namespace:KETAB.KStudio.Models;assembly=KETAB.KStudio.Models"
    xmlns:p="clr-namespace:KETAB.KStudio.Stage"
      Cursor="None"
    xmlns:Header_Footer="clr-namespace:KETAB.KStudio.Stage.Header_Footer" AllowDrop="True"  Width="{Binding Path=Width}"  Height="{Binding Path=Height}"  >
    <Grid.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/KETAB.KStudio.Stage;component/Resources/StageResources.xaml"/>
                <ResourceDictionary Source="/KETAB.KStudio.UserControls;component/SharedDictionaryGreen.xaml" />
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </Grid.Resources>
<!--"{Binding ElementName=PagesList, Path=ScaleX}"--> 
    <Grid.LayoutTransform>
        <ScaleTransform   ScaleX="{Binding ElementName=PagesList, Path=ScaleX}"
                                         ScaleY="{Binding ElementName=PagesList, Path=ScaleY}"
                        ></ScaleTransform>
    </Grid.LayoutTransform>

    <!--Width="{Binding Path=Width}"  Height="{Binding Path=Height}"-->
    <aero:SystemDropShadowChrome Name="ShadowChrome" Opacity="0.75" Margin="0,0,-5,-5"  />  
    <!--Width="{Binding Path=Width}"  Height="{Binding Path=Height}"-->
    <Border  BorderBrush="{StaticResource dark}"  BorderThickness="1.5" Name="PageBorder"   >
        <!--Width="{Binding Path=WidthViewModel , RelativeSource={RelativeSource AncestorType={x:Type model:Page_ViewModel}}}"  Height="{Binding Path=Height , RelativeSource={RelativeSource AncestorType={x:Type model:Page_ViewModel}}}"-->

            <Grid  Name="Sizer"   >

            <Canvas Name="Layout"  Background="{StaticResource light}" ClipToBounds="True" Cursor="None"/>

            <Canvas Name="ImportedImageLayer"  Background="Transparent" ClipToBounds="True" Cursor="None"/>

            <p:InkSurface  x:Name="LayerInkSurface"  Cursor="None"  />

            <p:TempSurface  x:Name="TempSurface0" Cursor="None"  />
            <p:TempSurface  x:Name="TempSurface1" Cursor="None"  />

            <p:Surface  x:Name="LayerOnTopTools"  Cursor="None"  >

            </p:Surface>

            <p:Surface  x:Name="DraggingSurface0"  Cursor="None" />
            <p:Surface  x:Name="DraggingSurface1"  Cursor="None" />

            <Header_Footer:HeaderFooterView x:Name="MyHeaderView" VerticalAlignment="Top" PictureVerticalAlignment="Top"  MyVerticalAlignment="Top" />
            <Header_Footer:HeaderFooterView x:Name="MyFooterView" VerticalAlignment="Bottom" PictureVerticalAlignment="Bottom" MyVerticalAlignment="Bottom" />

            <Canvas  Name="GridsCanvas"  ClipToBounds="True"  IsHitTestVisible="False">

            </Canvas>

            <p:TopViewLayer  x:Name="PageTopView"  ClipToBounds="True" />

        </Grid>

    </Border>

</Grid> 
```

后面的代码有一个 dispose 方法，它将释放 XAML 中提到的实例：

```
public void Dispose()
{
LayerInkSurface.Dispose();
LayerOnTopTools.Dispose();
TempSurface0.Dispose();
TempSurface1.Dispose();

DraggingSurface0.Dispose();
DraggingSurface1.Dispose();
} 
```

但是，当我进行内存分析时，我发现导致内存泄漏的根路径是：

```
DraggingSurface0
DraggingSurface1
LayerOnTopTools 
```

这是因为我没有取消它们吗？应该做：

```
DraggingSurface0= null;
DraggingSurface1= null;
LayerOnTopTools= null; 
```

处理完之后？这真的很重要吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T10:17:33.490

查看这篇博文（可能是由于数据绑定）： [http ://svetoslavsavov.blogspot.se/2010/05/memory-leaks-in-wpf-applications.html](http://svetoslavsavov.blogspot.se/2010/05/memory-leaks-in-wpf-applications.html)

# actionscript-3 - 对 AS3 ByteArray 进行排序

> ID：14725302
> 
> 赞同：2
> 
> 时间：2013-02-06T09:14:10.297
> 
> 标签：actionscript-3, air, sorting

我正在设计一个 Air 应用程序，它需要在内存中存储数千条记录，并且需要通过各种键有效地对它们进行排序。

我想过使用`ByteArray`, 因为这样可以避免普通 AS3 对象的所有开销，并且可以让我更有效地使用内存。

但是，挑战在于如何对`ByteArray`. 我想到了两种可能：

1- 在 AS3 中实现快速排序或堆排序，并以这种方式对数组进行排序。但是，我不确定这是否足够高效。例如，ByteArrays 没有复制内存块的方法；它必须逐字节完成。

2- 创建一个 Air Native Extension (ANE)，它使用 C 获取 ByteArray 并对其进行排序。这样做的缺点是，对于它需要运行的所有平台来说，实现起来会更加困难。

你会推荐什么？你以前有做过类似事情的经验吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-06T10:25:13.553

我会说使用 Array 或 Vector 对象，有可能对数组进行排序，无论你想要什么键 via`sortOn()`和 Vectors via `sort()`，所以你可以实现你需要的任何行为，因为后者接受一个函数作为它的参数，[检查这里](http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/Vector.html#sort%28%29)。而且我相信您不会使用 ByteArrays，因为在对对象进行排序时实际所做的是对其中的链接进行排序，而 ByteArray 将包含实际数据。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-09-03T09:47:52.733

您永远不应该设计任何必须同时在内存中存储数十万个东西的东西。在你不需要的时候卸载东西。你知道100,000是多少吗？取一个字节并乘以 100,000 得到一个 MB。对于记录中的每 1 个字节的数据，您将生成 1MB 的内存。记录 100,000 个整数需要 4MB。

如果您的记录有 2 20 个字符串（名字和姓氏），则字符串字符用 8 个字节表示，因此您刚刚用 640 MB 的内存填充了名字和姓氏。大多数“坏”电脑都有什么…… 2GB 内存？Good Job 占了其中的 1/4。即使您设法通过超人的超级位移将其截断到 ByteArray 级别，您仍然在谈论将数据减少 8 倍。所以现在您只有名字和姓氏的 80MB，而没有其他数据。你可以靠它生存——除了我怀疑你的记录有比 2 个字符串更多的数据。20串？您正在消耗 800MB 的数据。一次卸载除 100 条记录之外的所有内容，这些名称的内存减少到 640KB。是的，您可以在排序时加载和卸载。

内存块的复制速度不会比字节快。全部都是一样。对象向量在切换时表现出色的原因是它们切换引用/指针/单个 32 位/64 位数字，而不是复制内存块。

不清楚你在排序什么。字节最多只能达到 256 的值，因此很明显，您为每条记录使用的字节数多于 1。您想评估每组...比如 2000+ 字节与另一组 2000+ 字节的对比？就像“啊，姓氏是字节 32-83，所以提取这些字节，对于每组 4 个字节，分别将它们位移 0、8、16、32 位，将它们加在一起，将它们的整数值连接成一个字符串，做比较，现在将字节 84-124 与下一个选项中的字节进行比较，现在将字节 0-2000 传输到位置 443530-441530 并且......这些记录中是否有可变长度的字符串或数组？哦，上帝.

Flash 不是在汇编中写入的地方！

Use objects and test the speed & memory consumption. If either makes you cry, use more conventional methods of reducing load; like offloading materials temporarily into text files. The ugliest you should be getting is avoiding objects by storing each individual property in a different Vector. Vector., etc and having the same index refer to one record across the board.

# java - 选择多个联系人 Android

> ID：14725305
> 
> 赞同：3
> 
> 时间：2013-02-06T09:14:24.763
> 
> 标签：java, android

我需要从我的手机中为我的 android 应用程序选择多个联系人。我在许多网站上搜索过，但没有人提出内置解决方案。URI 允许我选择单个联系人，但我想打开带有复选框的联系人视图。在这方面的任何帮助将不胜感激。

# c++ - 在 XYZ 坐标中有对象，如何将 Z 更改为 X 保持视觉几何完整？

> ID：14725306
> 
> 赞同：1
> 
> 时间：2013-02-06T09:14:27.410
> 
> 标签：c++, 3d, geometry, computational-geometry, cgal

所以我们有一个从 Maya 导出的对象。假设我们将它显示在 XYZ 轴上。我们看着它，它看起来像需要的那样。但我们希望在 ZYX 中看到相同的画面。如何对对象进行这样的更改？

（2d 中的示例）我们看到：

![在此处输入图像描述](../Images/97ebaa9cb92faf06a5e89b3e7c03529b.png)

我们需要看到：

![在此处输入图像描述](../Images/4f1e6192fca0727555098251f61588a0.png)

而 Y 应保持原样。如何用[CGAL](http://www.cgal.org/Manual/latest/doc_html/cgal_manual/packages.html)做这样的事情？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-06T10:16:25.460

您必须相对于平面执行对称`z=x`，这可以很容易地完成交换`x`和`z`坐标。

**编辑：**

如果您有复杂的结构并且交换坐标还不够，您可以使用CGAL 的[Affine_transformation_3](http://www.cgal.org/Manual/latest/doc_html/cgal_manual/Kernel_23_ref/Class_Aff_transformation_3.html)。

与以下

```
 Aff_transformation_3<Kernel> t (Kernel::RT m00,
 Kernel::RT m01,
 Kernel::RT m02,
 Kernel::RT m10,
 Kernel::RT m11,
 Kernel::RT m12,
 Kernel::RT m20,
 Kernel::RT m21,
 Kernel::RT m22,
 Kernel::RT hw = RT(1)); 
```

![在此处输入图像描述](../Images/e4c6feb52ea8cf0dbbf70ff92377ea21.png)

插入相对于平面的反射方程，就`z=x`完成了。

[在这里](http://en.wikipedia.org/wiki/Transformation_matrix#Reflection_2)，您可以找到转换的方程式。

# jakarta-ee - Eclipse 中的 JUnit 测试出现错误 206

> ID：14725307
> 
> 赞同：5
> 
> 时间：2013-02-06T09:14:36.423
> 
> 标签：jakarta-ee, junit

当我尝试在 Eclipse 中运行 JUnit 测试类时遇到问题。

> 执行命令行时发生异常。无法运行程序“C:\Program Files\Java\jre7\bin\javaw.exe”（在目录“C:\Users\User\Documents\Projects\MyProject”中）：CreateProcess error=206，文件名或扩展名太长

收到此错误后，我开始搜索如何解决问题...但是现在我生成了包含我需要的所有 jar 的 MANIFEST 文件，但我不知道如何将新的清单文件传递给项目和还有怎么处理我的 lib 目录中的罐子？

提前致谢！

编辑：

我有 SimpleTest 类和 TestRunner 类

```
public class SimpleTest {

     @Test
       public void testAssertions() {

          String str1 = new String ("abc");
          String str2 = new String ("abc");

          assertEquals(str1, str2);       
     }
    }

package com.epb.junit;

import org.junit.runner.JUnitCore;
import org.junit.runner.Result;
import org.junit.runner.notification.Failure;

public class TestRunner {
   public static void main(String[] args) {
      Result result = JUnitCore.runClasses(SimpleTest.class);
      for (Failure failure : result.getFailures()) {
         System.out.println(failure.toString());
      }
      System.out.println(result.wasSuccessful());
   }
} 
```

这里没什么有趣的，我只需要知道如何打包我正在使用的所有 JAR 文件，因为它们太多了......我用它们制作了一个清单文件，但我不知道如何传递它的 JAR 文件。

PS 我正在使用 Eclipse -> Run As -> JUnit Test 选项运行测试类。错误发生后，我创建了这个 TestRunner 类，并将其作为 Java 应用程序运行，但仍然出现错误 206。从我读到的内容中，我意识到我的构建路径太长了，因为有很多 JARS，所以现在我'正在寻找一种方法来缩短此路径并将罐子打包成一个。我尝试将 lib 文件夹导出到 Jar 文件中，但没有成功。

编辑 2

我刚才尝试的最后一件事是创建一个“路径 jar”，其中仅包含 Manifest.mf 文件。我把这个 jar 放在我的项目 Build Path 中，而不是所有其他 Jars 但仍然没有结果......现在项目的 Built Path 有错误......

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-11T09:44:24.793

您需要做的就是按照以下步骤操作：

1.  将您的 eclipse/plugins/org.eclipse.jdt.launching_3.4.*.jar 复制到 plugins 文件夹之外的安全位置，以便您始终可以恢复。
2.  关闭 Eclipse。
3.  将 *.jar 重命名为 *.zip
4.  **打开zip文件，将附件**中的4个类文件复制到org\eclipse\jdt\internal\launching（替换现有文件）
5.  转到zip文件中的META-INF并删除除MANIFEST.MF之外的所有文件
6.  将 MANIFEST.MF 提取到您的磁盘并使用文本编辑器对其进行编辑。
7.  删除从第一个“NAME：”条目开始的所有内容。
8.  确保在文件末尾留下*两*(2) 个换行符！
9.  保存 MANIFEST.MF 并将其复制回 zip 文件。
10.  将 *.zip 重命名为 *.jar
11.  将修改后的 jar 替换为 Eclipse/plugin 目录中的 jar！
12.  享受！

PS。**步骤 4 的附件**可以从这里下载：

> [https://bugs.eclipse.org/bugs/attachment.cgi?id=216637](https://bugs.eclipse.org/bugs/attachment.cgi?id=216637)

感谢创建这些步骤的 Markus Keller 先生！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-06-12T11:29:48.870

我通过执行以下操作解决了这个问题：

选择 Project ⟶ Properties ⟶ Google App Engine ⟶ ORM 并只包括包含您想要增强的类的目录。

# node.js - 如何远程登录到局域网中的计算机

> ID：14725309
> 
> 赞同：1
> 
> 时间：2013-02-06T09:14:41.003
> 
> 标签：node.js, tcp, telnet

我使用 node.js 创建了一个 TCP 服务器

服务器在端口 8xxx 上运行。

我在 iPad 上使用 telnet 测试过服务器，没问题。

运行服务器的计算机和 iPad 使用相同的 wifi 网络。

无线路由器连接到连接到 Internet 的 VDSL 调制解调器。

如何使用不在我局域网中的另一台计算机远程登录 TCP 服务器？

我是网络新手。请告诉我如何:) 谢谢！

P/s：对不起我的英语不好。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T09:34:16.037

如果有任何防火墙阻止传入连接，您应该能够使用您的 WAN IP 和您配置的端口连接到您的 TCP 服务器。

您可以通过访问以下网站找到您的 IP：[http ://whatismyipaddress.com/](http://whatismyipaddress.com/)

然后，尝试使用类似的东西从远程计算机连接`telnet [YOUR IP] [PORT]`

如果连接不起作用，请禁用所有软件防火墙和/或材料防火墙，它应该可以正常工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T09:35:39.683

在这种情况下，您将需要计算机（服务器）的公共 IP。通常，每次您登录 ISP 客户端时，公共 IP 都会更改。您可以使用 whatismyip.org 找到您的 IP。

现在，另一台机器也应该有互联网连接。然后使用您从 whatismyip 获得的公共 IP 远程登录。它会起作用的。

# c# - C#日期时间尝试解析不解析有效日期时间

> ID：14725314
> 
> 赞同：1
> 
> 时间：2013-02-06T09:15:05.630
> 
> 标签：c#

在 C# 中，当我传递一个日期示例时。毫米/日/年...

解析后显示这些结果

```
 // Example 1
 DateTime t = new DateTime();
 DateTime.TryParse("02/06/2013 00:00:00 PM", out t)

 // Example 2
 DateTime t = new DateTime();
 DateTime.TryParse("02/06/2013 00:00:10 PM", out t)

 // Example 3
 DateTime t = new DateTime();
 DateTime.TryParse("02/06/2013 00:10:10 PM", out t) 
```

结果是

```
2/6/2013 12:00:00 PM
2/6/2013 12:00:10 PM
2/6/2013 12:10:10 PM 
```

在 sql server 中传递日期时显示不正确的日期。如何解决这些类型或问题。如果这些类型的日期无效。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T09:17:58.827

如果您可以将日期格式化为以下形式，您将获得更好的结果`yyyy-MM-dd`- 否则您可能会遇到与语言环境相关的问题

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-06T09:20:10.517

无论文化如何，您都可以使用[DateTime.TryParseExact](http://msdn.microsoft.com/en-GB/library/system.datetime.tryparseexact.aspx)解析特定格式。我相信你需要 dd-MM-yyyy HH:mm:ss PM。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-06T09:56:53.447

可以使用 DateTime.ParseExact 或 DateTime.TryParseExact

例如。

```
 string dateString = "Mon 16 Jun 8:30 AM 2008"; //Valid
    string format = "ddd dd MMM h:mm tt yyyy";
DateTime dateTime;
if (DateTime.TryParseExact(dateString, format, CultureInfo.InvariantCulture,
    DateTimeStyles.None, out dateTime))
{
    Console.WriteLine(dateTime); // 6/16/2008 8:30:00 AM 
} 
```

**为 UTC 解析 DateTime**

DateTime.ParseExact(inputDate, "yyyy-MM-ddTHH:mm:ss.0000000Z", null).ToUniversalTime();

**以 M/d/yyyy 格式解析 DateTime**

DateTime.ParseExact(inputDate, "M/d/yyyy h:mm", CultureInfo.InvariantCulture);

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-06T09:58:16.057

您展示的解析似乎还不错。它们确实严重依赖于当前线程的当前文化。如果您不喜欢，请在调用中指定`CultureInfo.InvariantCulture`为格式提供程序。`TryParse`

您关于 SQL 服务器的问题尚不清楚。该服务器有哪些 SQL 软件以及哪些区域设置？你如何与它沟通？

一旦你有了你的`DateTime`value `t`，你可以用多种方式格式化它。例如，您可以使用

```
t.ToString("O") 
```

得到一个完全精确的“big-endian”字符串。请参阅[标准日期和时间格式字符串](http://msdn.microsoft.com/en-us/library/az4se3k1.aspx)和[自定义日期和时间格式字符串](http://msdn.microsoft.com/en-us/library/8kb3ddd4.aspx)。

PS！您不必`t`在声明它时分配（当它将用于`out`参数时）。

# eclipse - Maven中的pom.xml有什么用？

> ID：14725316
> 
> 赞同：34
> 
> 时间：2013-02-06T09:15:15.520
> 
> 标签：eclipse, maven, maven-plugin

我刚刚开始在 Eclipse 中使用 Maven。

我尝试在其中运行一个示例程序，但遇到了一些问题。错误在我的 pom.xml 文件中。Maven中的pom.xml文件有什么意义？

* * *

## 回答 #1

> 赞同：52
> 
> 时间：2013-02-06T09:36:25.477

简而言之，`pom.xml`它将拥有构建您的项目的所有信息。

例如，您要构建一个项目，而您只有`pom.xml`通过邮件发送给您的项目。如果有足够的条目，`pom.xml`那么这就是您所需要的！您可以将其导入 Eclipse，Maven 将从 CVS 下载您的源代码，下载各种依赖 jar（如 Spring，Apache Commons），运行您的测试用例，构建 jar/war，部署到您的 jboss/app 服务器，生成报告您的代码质量（也许使用声纳）。您要执行的每项任务都将以`goal`.

已经提供的链接足以供参考。

* * *

## 回答 #2

> 赞同：18
> 
> 时间：2013-10-11T06:23:24.027

POM 是一个 XML 文件，其中包含 Maven 使用的项目配置详细信息。它提供了项目所需的所有配置。

**POM**的意思是**Project Object Model**，顾名思义，它也定义了项目的模型。

在正常的项目开发中，您将根据需要添加 JAR 文件和库。在基于**Maven**的开发中，这些 JAR 文件、库使用这个**pom.xml**添加到项目中。在**pom**上下文中，我们将这些 JAR 文件、库称为**依赖项**。

* * *

## 回答 #3

> 赞同：10
> 
> 时间：2013-02-06T09:21:07.003

Maven 是一个构建工具，`pom.xml`是项目的主文件。

### 聚甲醛

该`pom.xml`文件是 Maven 中项目配置的核心。它是一个单一的配置文件，包含以您想要的方式构建项目所需的大部分信息。POM 非常庞大，其复杂性令人望而生畏，但无需了解所有复杂性即可有效地使用它。

如需更多参考，请查看*[Maven in 5 Minutes](http://maven.apache.org/guides/getting-started/maven-in-five-minutes.html)*。

* * *

## 回答 #4

> 赞同：6
> 
> 时间：2014-05-07T07:43:05.043

POM 代表*项目对象模型*。它是 Maven 中的基本工作单元。它是一个 XML 文件，其中包含有关用于构建项目的项目和配置详细信息的信息。它使用 POM XML 标签轻松下载所需的库。

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2014-11-26T11:16:17.770

pom.xml 是一个描述项目、配置插件和声明依赖项的文件。POM 为项目命名，为项目提供一组唯一标识符（称为坐标），并通过依赖项、父项和先决条件定义该项目与其他项目之间的关系。

POM 文件可以包含一个模块部分，它告诉 Maven 哪些目录有需要构建的 POM 文件。

在构建部分，您可以定义需要在项目中构建工件的插件。

* * *

## 回答 #6

> 赞同：4
> 
> 时间：2017-11-15T10:56:31.047

没有 Maven 时，需要将所有库 JAR 文件一一添加到项目中。但是有了 Pom.xml 就不需要一个个的添加库 JAR 文件了。

只需将依赖项添加到 Pom.xml，它就会自动将库 JAR 文件添加到项目中。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2022-02-05T17:49:14.117

pom.xml是你maven项目的一部分，使用pom.xml，maven生命周期就可以实现。pom.xml 是一个项目对象模型，它告诉所有第三方工具依赖项和库以及所需的插件，它将为您的项目提供所有内容，例如项目意味着任何基于 Java 的 Web 内容，如其本身。创建 maven 项目后，您将获得 pom.xml 博客，它可以处理您的项目

如果您想测试您的项目，您需要添加测试依赖项，这是 maven 社区，一旦添加，它将为您提供所有测试。

# ios - 等到 popToRootViewControllerAnimated:YES 动画完成

> ID：14725317
> 
> 赞同：3
> 
> 时间：2013-02-06T09:15:21.557
> 
> 标签：ios, cocoa-touch, animation, uinavigationcontroller

我有一个基于菜单的导航。菜单是一个tableView。每次用户按下该表中的一个条目时，我都想切换到另一个视图控制器，如果有任何视图被推送，我想先清理导航堆栈。

这就是我正在做的

```
- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath {

    [(UINavigationController *)self.tabBar.selectedViewController popToRootViewControllerAnimated:YES];

    self.tabBar.selectedIndex = indexPath.row;

} 
```

但

```
 self.tabBar.selectedIndex = indexPath.row; 
```

不要让 popToRoot 动画完成。有什么方法可以知道动画何时完成？

谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-06T09:19:57.250

在您的 rootViewController 中，当您调用 rootViewController 时，`- (void)viewDidAppear:(BOOL)animated`这意味着动画已完成。

您可以在 rootViewControllers 中编码`- (void)viewDidAppear:(BOOL)animated`

如果你想必须在你当前的 ViewController 中编码，我认为它有两种方式：

1.在rootViewController中添加一个`delegate`，当调用`- (void)viewDidAppear:(BOOL)animated`使用`delegate`发送消息时

2.在rootViewController中添加一个通知，当调用`- (void)viewDidAppear:(BOOL)animated`发布通知时。在您当前的 ViewController 中，您可以收到通知

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2015-07-21T16:59:18.697

已接受答案的委托或通知方法工作正常，但我发现此方法更方便，因为它不会将任何逻辑传递给仅作为过渡的中间目的地的根视图控制器。

您可以使用 Core Animation 事务。这样你就有了导航控制器不提供的完成块。

我在块之前捕获 tabbarcontroller 变量，因为如果我们不这样做，tabbarcontroller 将在块中为零。它不会创建任何保留周期，因为块结束并消失

```
[CATransaction begin];
UITabBarController *tabController = self.navigationController.tabBarController;
[CATransaction setCompletionBlock:^{
    tabController.selectedIndex = 2;
}];

[self.navigationController popToRootViewControllerAnimated:YES];

[CATransaction commit]; 
```

答案是从 Joris Kluivers 的答案中复制的 popViewController 的[完成块，它对](https://stackoverflow.com/questions/12904410/completion-block-for-popviewcontroller)我来说非常适合

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-10-22T20:18:37.680

没有答案对我有用，对我有用的唯一一个想法是跟踪哪个控制器以及何时出现。
示例： [https ://github.com/dzenbot/iOSBlocks/blob/master/Source/UIKit/UINavigationController%2BBlock.m](https://github.com/dzenbot/iOSBlocks/blob/master/Source/UIKit/UINavigationController%2BBlock.m)

此答案中提出的相同技术：[https](https://stackoverflow.com/a/20565780/1400119)
://stackoverflow.com/a/20565780/1400119 唯一的区别：github - 类别，答案 - 子类

# java - 如果容器身份验证失败，如何修改 Java servlet 响应标头？

> ID：14725322
> 
> 赞同：3
> 
> 时间：2013-02-06T09:15:35.777
> 
> 标签：java, servlets, http-headers, httpresponse

我有一个 Java EE 项目，其中包含受 Web 容器身份验证保护的 Web 服务。（HTTP-basic）（我们可以在这种情况下说：Web 服务是 servlet） A 想修改 servlet 响应标头。使用 servlet 过滤器不是一个好的解决方案，因为我想在用户身份验证失败的情况下访问响应对象。（在这种情况下，servlet 过滤器不会运行，因为容器不会调用它）

原因是，我想更改 HTTP 状态码 401 和 403。那是因为客户端是由 Web Start 分发的，我不想让 javaws 修改我的客户端应用程序请求标头。

有一个 ServletRequestListener 监听器，但它不适合我，因为我想访问响应对象，而不是请求。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T20:18:41.283

只需复制 entend 答案

在 web.xml 中：

```
<error-page>
    <error-code>401</error-code>
    <location>/error.jsp</location>
</error-page> 
```

错误.jsp：

```
<%@page contentType="text/html" pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <title></title>
    </head>
    <body>
        <%
        int status = response.getStatus();
        if (status == 401) {
            response.setStatus(403);
        }
        %>
    </body>
</html> 
```

# iphone - 如何检测最后一个条目，youtube gdata search api

> ID：14725324
> 
> 赞同：0
> 
> 时间：2013-02-06T09:15:46.003
> 
> 标签：iphone, search, youtube-api

我将 youtube search api 用于我的 iphone 应用程序。我一次请求 25 条记录。

```
 https://gdata.youtube.com/feeds/api/videos?q=%s&start-index=%d&max-results=25&v=2 
```

我想检测到查询捕获的最终记录。

例如：-认为“阿凡达电影”有 135 个结果，在第 135 条记录处我想表明没有更多的搜索结果。

我在视频列表末尾使用“更多”按钮。我想禁用更多按钮。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T15:51:40.723

如果您使用 Data API v3，当您“搜索”时，您将获得“pageInfo.totalResults”。你可以检查一下，你可以检查'nextPageToken'是否为空，所以这是最后一页。

' [https://developers.google.com/youtube/v3/docs/search/list#response](https://developers.google.com/youtube/v3/docs/search/list#response) '

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-06T17:42:48.753

对于版本 2 API，您可以通过 2 种方式检测最后一项：

**1.**

```
<openSearch:totalResults>108</openSearch:totalResults> 
```

如果您知道总数，则可以计算最后一项。

**2.下一个链接标签是否**返回，如`<link rel='next' type='application/atom+xml' href='https://gdata.youtube.com/feeds/api/videos?q=rawangboy&amp;start-index=108&amp;max-results=1&amp;restriction=US&amp;safeSearch=strict&amp;v=2'/>`

但是，您需要**safeSearch**参数以确保`<openSearch:totalResults>`它与您的最后一个项目索引等效，例如`https://gdata.youtube.com/feeds/api/videos?q=rawangboy&start-index=108&max-results=1&v=2&prettyprint=True&safeSearch=none`

或者更好的是，您可以按国家/地区/IP 进行**限制**，例如[https://gdata.youtube.com/feeds/api/videos?q=rawangboy&start-index=108&max-results=1&v=2&prettyprint=True&safeSearch=strict&restriction=US](https://gdata.youtube.com/feeds/api/videos?q=rawangboy&start-index=108&max-results=1&v=2&prettyprint=True&safeSearch=strict&restriction=US)

如果你没有放 safeSearch，`<openSearch:totalResults>`可能不正确，如这个截图所示（start-index 107 不可用，即使总数为 108） ![截图](../Images/f690d5a8c2b4c442c2d3ed1457b0fc84.png)

> 搜索查询不允许超过 1000 个的结果。如本文所述 [https://developers.google.com/youtube/2.0/reference#Limits_on_Retrieving_Results](https://developers.google.com/youtube/2.0/reference#Limits_on_Retrieving_Results) ‌​。

# maven - Maven生产EAR，我如何获得WAR？

> ID：14725325
> 
> 赞同：1
> 
> 时间：2013-02-06T09:15:46.987
> 
> 标签：maven, build, ear

我对 Java/构建管理相当陌生，我的部分任务是构建一个项目并运行它。有人告诉我在 Tomcat 下运行 WAR 文件。我使用 Maven 安装命令。我构建了应用程序，但我只能看到 EAR 文件。我不知道下一步是什么。谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T09:23:13.523

你 pom.xml 应该有这个`<packaging>war</packaging>`它`<packaging>ear</packaging>`现在应该是

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T09:18:25.007

可能`pom.xml`您项目中的文件已`packaging`定义为`ear`. 将其更改为`war`.

# c# - 为 NumericUpDown 绘制边框

> ID：14725328
> 
> 赞同：2
> 
> 时间：2013-02-06T09:15:52.087
> 
> 标签：c#, winforms, .net-4.0

我在应用程序中有一个用户表单。某些字段已验证。如果字段的值错误，则为此控件绘制红色边框。它是通过处理`Paint`此控件的事件来完成的。我扩展`TextField`并从这些类对象`DateTimePicker`中获取`Paint`事件。我上课有问题`NumericUpDown`。它确实会`Paint`正确触发事件，但会调用

```
ControlPaint.DrawBorder(e.Graphics, eClipRectangle, Color.Red, ButtonBorderStyle.Solid); 
```

完全什么都不做。有什么想法或建议吗？如果我找不到任何方法，我将添加一个面板来`NumericUpDown`控制并更改其背景颜色。

每次处理程序都连接到`Paint`我调用的事件`control.Invalidate()`以重新绘制它。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-09T00:07:25.767

试试这个：

```
public class NumericUpDownEx : NumericUpDown
{
    bool isValid = true;
    int[] validValues = new int[] { 1, 2, 3, 4, 5, 6, 7, 8, 9 };

    protected override void OnPaint(PaintEventArgs e)
    {
        base.OnPaint(e);

        if (!isValid)
        {
            ControlPaint.DrawBorder(e.Graphics, this.ClientRectangle, Color.Red, ButtonBorderStyle.Solid);
        }
    }

    protected override void OnValueChanged(System.EventArgs e)
    {
        base.OnValueChanged(e);

        isValid = validValues.Contains((int)this.Value);
        this.Invalidate();
    }
} 
```

假设您的值是 int 类型而不是小数。您的有效性检查可能会有所不同，但这对我有用。如果新值不在定义的有效值中，它将在整个 NumbericUpDown 周围绘制一个红色边框。

诀窍是确保在调用 base.OnPaint*后进行边框绘制。*否则边框会被覆盖。最好从 NumericUpDown 继承而不是分配给它的绘制事件，因为重写 OnPaint 方法可以让您完全控制绘制的顺序。

# typescript - 打字稿'使用'

> ID：14725329
> 
> 赞同：19
> 
> 时间：2013-02-06T09:15:56.750
> 
> 标签：typescript

在 C# 中，可以在文件顶部使用 using 子句，它允许在该命名空间中使用类型，而无需显式指定完整的命名空间来引用这些类型。TypeScript 是否为此提供了替代方案？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2015-04-27T20:43:34.383

在 TypeScript 中，最接近能够直接使用外部模块的是别名。如[TypeScript Handbook](http://www.typescriptlang.org/Handbook#modules-alias)所示，它的使用方式如下：

```
module Shapes {
    export module Polygons {
        export class Triangle { }
        export class Square { }
    }
}

import polygons = Shapes.Polygons;
var sq = new polygons.Square(); // Same as 'new Shapes.Polygons.Square()' 
```

这不会将接口放在模块的根范围内，因为如果更新了 Polygons 模块并清楚地表明您正在引用外部内容，这可能会引入命名冲突。

# html - 有没有办法在网站上禁用自动填写表格？

> ID：14725332
> 
> 赞同：2
> 
> 时间：2013-02-06T09:16:03.167
> 
> 标签：html

我最近才学会使用`HTML`和创建网站`PHP`。

我创建了一个网站，上面有一个测验，要求人们随机翻译单词。用户将他们的答案输入一个表格，网站会评估答案是否正确。

现在，当一个问题在会话中被问两次时，会显示自动填充，允许人们查看他们之前提交的内容。然而，对于试图测试他们的记忆力的人来说，这并不好。

我知道我可以在浏览器中关闭自动填写功能，但有没有办法可以调整`PHP`或`HTML`代码，以便自动关闭此特定表单的自动填写功能？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-02-06T09:16:55.097

`autocomplete="off"`应该做的伎俩！

将其放入您的`<form>`标签或每个`<input>`标签中，如下所示：

```
<form autocomplete="off" />
<!-- OR -->
<input type="text" autocomplete="off" value="Text" /> 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-06T09:18:03.987

对于每个`input`字段添加

```
autocomplete="off" 
```

所以：

```
<input type="text" name="demo" autocomplete="off" value="test" /> 
```

请参阅 [https://developer.mozilla.org/en/How_to_Turn_Off_Form_Autocompletion](https://developer.mozilla.org/en/How_to_Turn_Off_Form_Autocompletion)

这也可能与您如何在 Web 表单字段/输入标签上禁用浏览器自动完成功能的重复[？](https://stackoverflow.com/questions/2530/how-do-you-disable-browser-autocomplete-on-web-form-field-input-tag)

# openacc - 主机数据应该分配给 create 和 pcreate 子句吗？

> ID：14725333
> 
> 赞同：2
> 
> 时间：2013-02-06T09:16:06.477
> 
> 标签：openacc

我目前正在研究`openacc API`，我想知道是否可以在设备上创建一个数组，而主机上没有任何相应的分配数组。

假设我想使用我的旧的`cuda kernel`，并且只通过`openacc API`. 我需要一些仅在设备上使用的 256 个元素的数组。如果我只在主机上声明我的指针而不分配，它们可能有顺序地址。

如果我`present_or_create`在这些指针上使用了一个子句，我的大小为 256 个元素，我会在设备上以不同的数组结尾吗？或者主机上的连续地址，加上我的数组的长度，会被认为是同一个数组的一部分？

这里是一个例子：指针 A 的地址是 0，指针 B 的地址是 4。

如果我`pcreate`在`A[0:256]`and上执行两个操作`B[0:256]`，因为主机上的数据范围是`[0 , 1024]`and `[4 , 1028]`，我最终会在设备上使用两个不同的 256 个元素数组，还是最终只有一个具有 range 的数组`[0 , 1028]`？

我是否必须首先在主机上分配我的两个数组以确保有两个不同的数组，或者这种方法应该可以正常工作吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-22T17:53:23.357

我真的只能谈论 PGI 实现，但我认为 Cray 的工作方式类似。create/copy/present data 子句键在主机数据的地址上，以确定数据是否已经存在于设备上。如果你有一个指针 A 和一个指针 B 恰好具有相同的值（都指向同一个空间），那么 pcreate(A[0:256],B[0:256]) 将为 A 创建数据，然后 B 的 present_or_ 测试将看到数据已经存在。如果主机上的 A[0] 到 A[255] 与 B[0] 到 B[255] 重叠，则运行时也会看到重叠。重要的不是起始地址，而是整个范围。该模型是在设备上创建数据，该数据是主机上相同数据的镜像，“当前表”查找的“键”是主机地址范围。

在您的特定情况下，如果您的指针 A 的值为 0，那么，那是一个 NULL 指针并且被区别对待。因此，如果您有值为 4 的指针 A 和值为 8 的 B 并执行 pcreate(A[0:256],B[0:256])，您将为 A 复制 [4:256]，然后运行时会注意到您正在尝试移动重叠但不包含在现有空间中的 B 范围。这在规范中是不允许的，我们的编译器也不支持。支持这一点需要在设备上重新分配 A 的数据，这可能意味着设备地址会移动。由于可以捕获这些地址，并且旧的陈旧地址将不再有效，因此这是不安全的事情。

# java - 编译器错误和 Money 类分配

> ID：14725335
> 
> 赞同：0
> 
> 时间：2013-02-06T09:16:09.297
> 
> 标签：java, methods, parameters, constructor, compiler-errors

我不断收到错误“Money 类中的构造函数 Money 不能应用于给定类型；必需：无参数；找到 int、int；原因：实际参数列表和正式参数列表的长度不同”

另外这里是我将要评分的程序的目标列表，如果您发现我的代码中可能会遇到任何其他错误，请随时为我指出！

使用 BlueJ 创建具有两个整数实例变量、美元和美分的 Money 类。提供以下方法：

1.  初始化实例变量的两参数构造函数。构造函数应该检查美分值是否在 0 和 99 之间，如果不是，则将一些美分转移到美元变量以使其介于 0 和 99 之间。
2.  将美元初始化为 0 并将美分初始化为 1 的默认构造函数。它应该调用双参数构造函数。
3.  一个参数构造函数，在将美元值设置为 0 的同时初始化美分值。此构造函数还应检查美分值是否在 0 和 99 之间，如果不是，则将一些美分转移到美元变量以使其介于 0 之间和 99。
4.  美元和美分的存取器
5.  标准 toString 方法
6.  比较两个 Money 对象是否具有相同状态的标准 equals 方法。
7.  将 Money 对象作为参数的 plus 方法。它创建并返回一个新的 Money 对象，该对象表示正在调用其 plus() 方法的对象和参数的总和。它不会修改两个现有对象的值。

最后，创建一个创建多个 Money 对象的 MoneyDemo 类。此演示类应测试您已实现的所有构造函数和方法。

这是我的代码：

```
public class Money
 {
     private int dollars, cents;
     private static final int CENTS_PER_DOLLAR = 100;

     public void checkMoney(int dollars, int cents)
     {
         while (cents<0) 
         {
             cents += 100;
             dollars--;
         }
         while (cents>99) 
         {
             cents -= 100;
             dollars++;
         }
     }

     public Money()
     {
         this.cents = 1;
         this.dollars = 0;
     }

     public void initializeCents(int cents)
     {
         while (cents<0) 
         {
             cents += 100;
             dollars--;
         }
         while (cents>99) 
         {
             cents -= 100;
             dollars++;
         }
     }

     public int getDollars()
     {
         return dollars;
     }

     public int getCents()
     {
         return cents;
     }

     public String toString()
     {
         String str;
         dollars = dollars + cents / CENTS_PER_DOLLAR;
         cents = cents % CENTS_PER_DOLLAR;
         str = "Your total amount is: " + "$" + dollars + "." + cents +"";
         return str;
     }

     public Money plus(Money y) 
     {
         return new Money(y.dollars, y.cents);
     }
 }

public class MoneyDemo 
 {
     public static void main(String[] args) 
     {

         int dollars = 5;
         int cents = 80;
         Money x = new Money( dollars, cents);
         x.checkMoney();

         dollars = 7;
         cents = 70;
         Money y = new Money( dollars, cents);
         y.checkMoney();

         USMoney z = x.plus(y);

         System.out.println( "x: $" + x.dollars + "." + x.cents + "c");
         System.out.println( "y: $" + y.dollars + "." + y.cents + "c");
         System.out.println( "x.plus(y): $" + z.dollars + "." + z.cents + "c");
     }
 } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T09:17:48.327

你在打电话

`Money x = new Money( dollars, cents);`有两个论据

你已经将它定义为

```
public Money()  // no argument constructor
{
     this.cents = 1;
     this.dollars = 0;
} 
```

所以让它像这样：

```
public Money() // no argument constructor
{
     this.cents = 1;
     this.dollars = 0;
}
public Money(int dollars,int cents) // parametrized constructor
{
     this.cents = dollars;
     this.dollars = cents;
} 
```

这样它既可以用于无参数构造函数，也可以用于具有两个参数的参数化构造函数

更新：对于`plus`方法`

```
public Money plus(Money y) 
{
    Money m = new Money();
    int totalCents = y.cents + this.cents;
    int totalDollars = y.dollars + this.dollars;
    if(totalCents > 100)
    {
       totalDollars = totalDollars + (int)(totalCents / 100);
       totalCents = (int)(totalCents % 100);
    }

    m.dollars = totalDollars;
    m.cents = totalCents;

    return m;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T09:20:14.857

你得到的错误意味着你没有一个构造函数来接受你试图传递的参数（两个整数）。您拥有的唯一构造函数不带参数：

```
public Money() 
```

您需要创建一个新的构造函数，其内容为

```
public Money (int cents, int dollars) 

    //make sure that cents is between 0 and 99, if not transfer some cents to dollars 
```

您将需要第三个构造函数来满足您的分配＃3：

```
public Money (int cents) 
    initialize cents based on the parameter passed into it
    set dollars = 0 
```

您还需要覆盖 equals() 方法。

由于这是一个家庭作业，我不会告诉你如何做这些事情。

让我知道我是否可以与您讨论任何事情，或者更详细地解释任何事情。

# java - Java：2008 年后的正则表达式

> ID：14725339
> 
> 赞同：0
> 
> 时间：2013-02-06T09:16:28.600
> 
> 标签：java, regex

我在正则表达式中有一个小问题，我想检查我的字符串是否在 2008-13 的范围内。这是我不会放置正则表达式的

```
Array[k].startsWith("") 
```

到目前为止我已经尝试过：

```
(200+[8-9])|(201+[0-9]) 
```

和

```
^20+[0-1][0-9]$ 
```

但第二个我认为它会给我 2000-2019 年。

我将不胜感激任何帮助。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-06T09:23:26.133

试试下面的逻辑..

```
public class Lottery{

    // Do not change main().
    public static void main(String [] args) throws Exception{
       String[] myArray ={"2008","2009"};
       for (String val : myArray) {
           int year = Integer.parseInt(val);
           if(year<=2013 && year>=2008)
           {
               // To do
           }
            }

    } 

} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-06T09:20:00.163

正则表达式将是：

```
^200[89]|201[0-3]$ 
```

但是，除非您*被迫*使用单个正则表达式进行验证，否则我只需将其解析为整数，然后使用`if`语句检查范围。

您不希望这些`+`字符出现在其中，因为它们表示一个或多个前面的对象。因此`20+[89]`将允许`200000000000000009`.

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-06T09:20:22.937

对于类似任务，您最好的方法是解析`String`as`Integer`并比较整数，否则您提供的任何方法都容易出错。

还有一种可行的解决方案是：

```
(2008|2009|2010|2011|2012|2013) 
```

没有奇怪的边缘情况，易于理解。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-06T09:21:39.313

这是一个简单的正则表达式（可能不是最好的）：

```
20(08|09|10|11|12|13) 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-02-06T09:23:34.820

您的错误在于使用`+`. 修复您的正则表达式如下：

`(200[8-9])|(201[0-9])`

但最好提取年份，解析并验证为整数：

```
Pattern p = Pattern.compile("(\\d{4})");
Matcher m = p.matcher(str);
if (m.find()) {
    int year = Integer.parseInt(m.group(1));
    if (year > 2008  && year < 2019) {
        // do something
    }
} 
```

这对于将来的修改更加稳健：将来可以从文件、数据库等中读取年份的最高值和最低值。

# cuda - 持续记忆

> ID：14725340
> 
> 赞同：-1
> 
> 时间：2013-02-06T09:16:31.133
> 
> 标签：cuda, gpu-constant-memory

我编写了将整数复制到常量内存并在全局函数中使用它的代码，但它不能正常工作。我的意思是全局函数中没有“cuPrintf”工作并且没有打印！

我认为是因为“if(*num == 5)”，因为我删除它，所有“cuPrintf”都会打印我想要的！

我也尝试了“if(num == 5)”，但我的 Visual Studio 没有编译它并显示错误。

为什么“num”在“cuPrintf”中是正确的，但在“if”语句中是不正确的？

我应该如何在“if”语句中使用“num”？

```
#include "cuda_runtime.h"
#include "device_launch_parameters.h"

#include "stdio.h"
#include "stdlib.h"
#include "cuPrintf.cu"

__constant__ int* num;

__global__ void kernel(){
cuPrintf("\n num=%d\n",num);
if(*num == 5)
    cuPrintf("\n num is equal 5");
else
    cuPrintf("\n num is not equal 5");
}

void main(){    
int x;
printf("\n\nPlease enter x:");
scanf("%d",&x);
cudaMemcpyToSymbol( num, &x,sizeof(int)*1);

cudaPrintfInit();
kernel<<<1,1>>>();
cudaPrintfDisplay(stdout, true);
cudaPrintfEnd();

int wait;
scanf("%d",&wait);
} 
```

如果我改变：

```
__constant__ int* num; 
```

至

```
__constant__ int num; 
```

并改变：

```
cudaMemcpyToSymbol( num, &x,sizeof(int)*1); 
```

至

```
cudaMemcpyToSymbol( &num, &x,sizeof(int)*1); 
```

然后

```
cuPrintf("\n num=%d\n",num); 
```

任何输入都会显示“num=0”！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-06T17:36:44.900

“num”不应该是一个指针。我将您的代码更改为以下代码，适用于我（注意它需要 SM 2.0 或更高版本的 printf）：

```
#include "cuda_runtime.h"
#include "device_launch_parameters.h"

#include "stdio.h"
#include "stdlib.h"

__constant__ int num;

__global__ void kernel() {
    printf("\n num=%d\n", num);
    if (num == 5)
        printf("\n num is equal 5");
    else
        printf("\n num is not equal 5");
}

int main() {
    cudaError_t err;
    int x;
    printf("\n\nPlease enter x:");
    scanf("%d", &x);
    err = cudaMemcpyToSymbol(num, &x, sizeof(int) * 1);
    if (err != cudaSuccess) {
        printf("Error: %d\n", err);
        return 1;
    }

    kernel<<<1, 1>>>();
    err = cudaDeviceSynchronize();
    if (err != cudaSuccess) {
        printf("Error: %d\n", err);
        return 1;
    }
    return 0;
} 
```

# twitter-bootstrap - Bootstrap：流体表对于窗口来说太宽了

> ID：14725342
> 
> 赞同：21
> 
> 时间：2013-02-06T09:16:32.250
> 
> 标签：twitter-bootstrap, html-table, fluid-layout

我正在使用 twitter bootstrap 开发一个项目。我们有一个包含很多列的表格，并且几乎每次都会比浏览器窗口大。

这是右边发生的事情：

![问题](../Images/722e60898111ae27d01e1c061e1d883c.png)

表格边框保留在浏览器窗口中，而表格内容则不保留。如果我滚动，边框会留在原处，它们不会“跟随”浏览器窗口。

你可以[在这个 jsfiddle 上](http://jsfiddle.net/qN6L7/1/)看到问题。它适用于 Safari，不适用于 Chrome 或 Firefox。

布局是这样的：

```
<body>
  <div class='container-fluid'>
    <div class='row-fluid'>
      <div class='span1'>
        ... menusidebar here...
      </div>
      <div class='span11'>
        <table class="table table-striped table-bordered" style="white-space: nowrap">
          <thead>
            <tr>
            </tr>
          </thead>
          <tbody>
            <tr>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</body> 
```

我希望你能帮助我。如果您需要更多信息，请问，我很乐意提供。

这是一个 Rails 3.2 应用程序，使用 2.2.1.1 版本中的 gem bootstrap-sass（问题也出现在 2.2.2.0 中）。前三个数字反映了引导版本。

* * *

## 回答 #1

> 赞同：29
> 
> 时间：2013-09-20T17:09:58.500

这是唯一对我有用的解决方案......

```
    。桌子 {
        最大宽度：无；
        表格布局：固定；
        word-wrap：断词；
    }

```

* * *

## 回答 #2

> 赞同：23
> 
> 时间：2014-03-21T00:34:28.490

如果您使用的是 Bootstrap 3，另一种方法是将表格包装在

```
<div class="table-responsive"><table>...</table></div> 
```

这使得表格响应。

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2013-02-06T15:28:32.357

Bootstrap 将以下样式应用于表格：

```
table {
    max-width: 100%;
} 
```

如果您在自定义样式表中覆盖该属性，它应该有望解决问题。将其更改为“无”应该可以。

```
table {
    max-width: none;
} 
```

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2013-05-05T22:28:22.203

您可以应用样式=“溢出：自动；” 在您的桌子上放置一个水平滚动条。因此，设计仍将保持响应。按照代码：

```
.table-scrollable{
    overflow: auto;
} 
```

并在你的 div 上使用它：

```
<div class='span11 table-scrollable'> 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-09-28T19:52:13.963

应用样式=“溢出：自动；” 对我来说工作得很好

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2013-08-28T09:14:58.190

我在互联网的某个地方找到了解决方案......

```
table {table-layout:fixed} 
```

它使用引导程序 2 和 3 解决了 Firefox 和 IE 中的问题

# java - JBehave 是否像 Jasmine 一样工作？

> ID：14725343
> 
> 赞同：4
> 
> 时间：2013-02-06T09:16:47.313
> 
> 标签：java, unit-testing, jasmine, bdd, jbehave

我喜欢 JavaScript BDD 工具 Jasmine，因为它可以非常灵活地定义故事。Jasmine 中的故事可以这样构造，即先决条件故事在依赖于先前故事的故事之前运行。这使得测试代码具有高度的可重用性和可读性。

代码重用示例：

```
describe("parent story", function() {
  var a = 1;
  beforeEach(function(){
    a++;
  });

  it("should equal to 2", function() {
    expect(a).toBe(2);
  });

  describe("child story"), function(){
    beforeEach(function(){
      a++;
    });

    it("should equal to 3", function(){
      expect(a).toBe(3);
    });
  });
}); 
```

我对在 Java 世界中使用这个概念进行了一些研究，发现 Java 中最流行的 BDD 是 JBehave。然而，它似乎不像 Jasmine 那样灵活地为子故事重用之前故事中的测试代码。我看不出它如何像 Jasmine 示例那样将重用的变量从父故事传递到子故事中。

JBehave 有 GivenStories 概念要先于其他概念运行，但是我找不到如何将 GivenStories 中的状态传递给依赖它们的状态。

JBehave 能像 Jasmine 一样出色地完成这项工作吗？如果没有，Java 中是否有另一个 BDD 框架可以做同样的事情？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-05-03T05:53:23.493

JBehave 和 Jasmine 不太相似。Jasmine 与 rspec 更相似。JBehave 和 Cucumber（另一个 BDD 框架，我认为更流行）彼此之间的相似性比 Jasmine 或 rspec 更相似。

虽然 JBehave 没有 Jasmine 的嵌套上下文，但它当然可以在步骤之间传递状态。查看[http://jbehave.org/](http://jbehave.org/)：状态在 Steps 类的实例变量中传递。Cucumber 的工作方式类似，尽管至少 Ruby 版本（我不熟悉 Java Cucumber）更灵活，但在那种状态下，可以将任何步骤作为 Cucumber World 的实例变量从任何步骤传递到任何其他步骤。

不过要小心：在所有这些框架中，状态共享旨在允许您从多个步骤构建测试，而不是让测试相互依赖。测试可以共享代码，但是一个测试通过还是失败应该完全独立于另一个测试是通过还是失败。一旦你断言了某些东西，你就不再处于设置代码中，你正在测试，你不应该将你的状态重用于另一个测试。

# c# - DataContractSerializer / DataContractJsonSerializer 在序列化具有 Serializable 属性的类时失败

> ID：14725344
> 
> 赞同：1
> 
> 时间：2013-02-06T09:16:54.660
> 
> 标签：c#, asp.net, .net, clr

为什么使用`DataContractSerializer`或在具有属性`DataContractJsonSerializer`的类上序列化失败？`Serializable`

> 例外：“System.Runtime.Serialization.Json.DataContractJsonSerializer”不能被序列化。考虑用 DataContractAttribute 属性标记它，并用 DataMemberAttribute 属性标记你想要序列化的所有成员。如果类型是集合，请考虑用CollectionDataContract 属性”

`DataContractSerializer`s 适用于`DataContract`/`DataMember`属性，但它也适用于没有这些属性`Serializable`的类，除非类中有一个属性失败，生成上述异常。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T10:53:14.173

我解决了这个问题，我的类中有一个私有属性 Serializer，它返回 System.Runtime.Serialization.Json.DataContractJsonSerializer

```
 private XmlObjectSerializer Serializer
    {
        get
        {
            _serializer = _serializer ?? GetSerializer(GetType());
            return _serializer;
        }
    } 
```

即使它是私有的，DataContractJsonSerializer 也将它包含在序列化中。不仅是那个属性，还有私有字段。这就是您未指定 DataContract 和 DataMember 属性时的行为方式。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-06T09:50:34.800

I think you don't need to put [Serializable] in POCO class. It will automatically serialize your object even without putting them in your class.

# javascript - 动态输入日期格式以解析 D3.js

> ID：14725351
> 
> 赞同：0
> 
> 时间：2013-02-06T09:17:05.893
> 
> 标签：javascript, d3.js

我正在用函数解析日期

```
parseDate = d3.time.format("%m-%Y").parse; 
```

如果我给出的日期格式是月份和年份，它工作得很好。但我想在运行时动态地制作格式“%m-%Y”。因为有些时候我需要格式为 %d-%m-%Y .

那么如何使这个 parseDate 函数获取参数日期和格式？我在 json 数据中有格式。根据该数据，我将选择解析函数的解析函数给 parseDate 函数的参数。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T09:29:39.903

就像是

```
function parseDate(format, date) {
  return d3.time.format(format).parse(date);
} 
```

# android - onTouchListener 在 4.0 以上版本的 android 中不起作用，但在以下版本中起作用

> ID：14725353
> 
> 赞同：0
> 
> 时间：2013-02-06T09:17:10.993
> 
> 标签：android, android-4.0-ice-cream-sandwich, android-4.2-jelly-bean, ontouchlistener

嗨，我已经在我的服务类中实现了 ontouchlistener 并尝试获取在 android 2.3 上运行良好但不适用于更高版本的触摸事件。我正在努力解决这个问题，但即使在阅读了stackoverflow中的大量文档后我也没有得到任何解决方案，这是代码..请帮我解决这个问题

在 onCreate 方法中我定义了图像按钮

```
 ImageButton imageButton=new ImageButton(this);
imageButton.setBackgroundColor(Color.TRANSPARENT);
imageButton.setOnTouchListener(this);

    @Override public boolean onTouch(View arg0, MotionEvent arg1) {
Toast.makeText(getApplicationContext(), "Double touched "+DoubleTouch, 1000).show();
return false;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T11:21:09.220

你想使用代码`imageButton.setOnTouchListener(youActivityname.this);`

# sql - 使用另一个表中的随机值更新 SQL 表（无连接条件）

> ID：14725355
> 
> 赞同：3
> 
> 时间：2013-02-06T09:17:24.737
> 
> 标签：sql, random, common-table-expression

我正在编写一个脚本来匿名化包含患者数据的表格。我生成了一个包含 50,000 行匿名数据的表。

我需要的是患者表中的一些列，这些列要使用生成表中的数据进行更新。

当然，我已经阅读了有关更新表格以及如何从另一个表格中选择随机行的信息。我不知道如何在一个查询中组合它。

我已经将 CTE 视为一种可能的解决方案，但我不明白它是如何工作的。我遇到的主要问题之一是生成的表中没有任何键，即使它有它也不应该是相关的，因为我只想迭代患者表的所有行，用随机行更新其值从生成的表中。

我有以下内容：

```
Update Patients
Set Patients.pat_FirstName = fn.GivenName,
     pat_LastName = fn.SurName, 
     pat_StreetName = fn.StreetAddress,
     pat_PostalCode = fn.ZipCode,
     pat_City = fn.City,
     pat_DateOfBirth = fn.BirthDay,
from
     ( Select Top 1,
     GivenName, 
     SurName,
     StreetAddress,
     ZipCode,
     City,
     Birthday
from FakeNameGenerator tablesample(1000 rows)) as fn 
```

但这只会执行一次“随机”，用相同的值填充患者表中的每一行。就像我之前说的，它可以（应该？？）用 CTE（理货？）表解决，但是如何解决呢？

我快要掌握 C# 了，只需编写该死的东西......

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-06T12:19:10.447

另一种方法是向表中添加一个连续的数字`FakeNameGenerator`列

```
ALTER TABLE FakeNameGenerator ADD ID INT NOT NULL IDENTITY(1,1)

CREATE UNIQUE NONCLUSTERED INDEX ix ON FakeNameGenerator(ID) 
```

那么它就变成了生成1到50,000之间的随机数的问题

```
UPDATE P
SET P.pat_FirstName = F.GivenName /*...*/
FROM Patients P
INNER LOOP JOIN FakeNameGenerator F ON F.ID = (1 +  ABS(CRYPT_GEN_RANDOM(8)%50000)) 
```

该`INNER LOOP JOIN`提示强制使用嵌套循环连接`Patients`作为驱动表。它`FakeNameGenerator`为每一行寻找重新评估`ID`要寻找的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-06T10:58:03.177

[这里](https://dba.stackexchange.com/questions/30345/newid-in-joined-virtual-table-causes-unintended-cross-apply-behavior)有关于在子查询中使用随机排序的更详细的问答。但简而言之，我找不到通过从随机数据中选择前 1 个来使其正常工作的方法。我给源数据和样本数据都提供了一个随机 id（使用`ROW_NUMBER`），然后加入两者以获得随机更新：

```
WITH PatientCTE AS
(   SELECT  PatientID,
            pat_FirstName,
            pat_LastName,
            pat_StreetName,
            pat_PostalCode,
            pat_City,
            pat_DateOfBirth,
            rn = ROW_NUMBER() OVER(ORDER BY NEWID())
    FROM    Patients
), SampleData AS
(   SELECT  GivenName, 
            SurName, 
            StreetAddress, 
            ZipCode, 
            City, 
            Birthday,
            rn = ROW_NUMBER() OVER(ORDER BY NEWID())
    FROM    FakeNameGenerator
)
UPDATE  PatientCTE
SET     Patients.pat_FirstName = fn.GivenName,
        pat_LastName = fn.SurName, 
        pat_StreetName = fn.StreetAddress,
        pat_PostalCode = fn.ZipCode,
        pat_City = fn.City,
        pat_DateOfBirth = fn.BirthDay,
FROM    PatientCTE p
        INNER JOIN SampleData fn
            ON fn.rn = p.rn 
```

* * *

**编辑**

好的，所以看来我的测试没有可比性，我最初的想法是可行的。没有 DDL 和数据来测试我不能确定，但​​这应该工作：

```
UPDATE  Patients
SET     Patients.pat_FirstName = fn.GivenName,
        pat_LastName = fn.SurName, 
        pat_StreetName = fn.StreetAddress,
        pat_PostalCode = fn.ZipCode,
        pat_City = fn.City,
        pat_DateOfBirth = fn.BirthDay,
FROM    Patients
        CROSS APPLY
        (   SELECT  TOP 1 
                    GivenName, 
                    SurName, 
                    StreetAddress, 
                    ZipCode, 
                    City, 
                    Birthday
            FROM    FakeNameGenerator TABLESAMPLE(1000 ROWS)
            ORDER BY NEWID(), Patients.Patient_ID
        ) fn 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-09-20T14:21:31.160

作为一个额外的想法，GarethD 方法的问题在于，它需要第二个表中的行数与第一个表中的行数更多或相同。

因此，您可以将第二个表与第一个表进行交叉连接，并将结果限制为第一个表中的行数。

```
WITH PatientCTE AS
(
    SELECT  
         PatientID 
        ,pat_FirstName 
        ,pat_LastName 
        ,pat_StreetName 
        ,pat_PostalCode 
        ,pat_City 
        ,pat_DateOfBirth 
        ,rn = ROW_NUMBER() OVER(ORDER BY NEWID()) 
    FROM Patients
)
, SampleData AS
(
    SELECT TOP (SELECT COUNT(*) FROM PatientCTE )  
             GivenName 
            ,SurName 
            ,StreetAddress 
            ,ZipCode 
            ,City 
            ,Birthday 
            ,rn = ROW_NUMBER() OVER(ORDER BY NEWID())
    FROM FakeNameGenerator 

    CROSS JOIN PatientCTE 
)

UPDATE p
SET      p.pat_FirstName = fn.GivenName 
        ,p.pat_LastName = fn.SurName 
        ,p.pat_StreetName = fn.StreetAddress 
        ,p.pat_PostalCode = fn.ZipCode 
        ,p.pat_City = fn.City 
        ,p.pat_DateOfBirth = fn.BirthDay 
FROM PatientCTE AS p

INNER JOIN SampleData AS fn
    ON fn.rn = p.rn 
```

# html - Dojo dom-construct.place() 不工作

> ID：14725362
> 
> 赞同：0
> 
> 时间：2013-02-06T09:17:34.617
> 
> 标签：html, dom, dojo

我正在编写一个小部件，它采用所有子`<img>`标签，获取`src`属性，并且应该创建一个无序列表，其中子列表元素的背景是上述来源。但是，当我创建列表元素并告诉 dojo 将它们放在 master`<ul>`中时，它们最终会出现在外面。这个小部件是链中的第三个，如下所示：

```
+ ImageBox
    ++ AnimImageBox
    ++ SlideImageBox
         +++ AnimSlideImageBox (TBA) 
```

主列表创建：

```
buildRendering : function(){
    this.inherited(arguments);

    // Create the slidebox <ul>
    this.slideHolder = domConstruct.create('ul', {
        className : 'imagebox-slide'
    }, this.domNode, 'first');
} 
```

这是该`_lazyLoad`方法的块。它最初是在根`ImageBox`类中定义的，在这里被覆盖，称为 inside `postCreate()`：

```
var self = this;
query('img', this.domNode).forEach(function(image){
    // With each found image, push the src attribute into our class-wide array
    var src = domAttr.get(image, 'src');
    self.images.push(src);

    // Create an <li> for the slide block
    var li = domConstruct.create('li', {
        className : 'slide'
    }, self.slideHolder);

    // Destroy the <img /> element
    domConstruct.destroy(image);
}); 
```

类结构/方法调用概述：

**ImageBox.js**

```
buildRendering():
    - Creates the preloader
postCreate(): 
    + Calls _lazyLoad to extract image data, load, show progress, etc. 
```

**SlideImageBox.js**（我遇到的问题）

```
buildRendering():
    - Calls the superclass method, and then creates the <ul> element, placing to this.domNode
postCreate():
    - Just calls the superclass postCreate() method (via this.inherited(args))
_lazyLoad():
    - Overridden completely, is called correctly as tested with various log() calls. 
```

**预期结果**

```
<ul class="imagebox-slide">
    <li class="slide"><!--Content --></li>
    <li class="slide"><!--Content --></li>
    <li class="slide"><!--Content --></li>
</ul> 
```

**结果**

```
<ul class="imagebox-slide"></ul>
<li class="slide"><!--Content --></li>
<li class="slide"><!--Content --></li>
<li class="slide"><!--Content --></li> 
```

在每一步我都可以`log()`找到节点，所以我知道它们存在，但是这`domConstruct.create()`条线并没有将它们放入节点中。我已经不止一次像这样处理道场了，所以也许这与我在某个地方的继承有关？

也许已经很晚了，需要一双新的眼睛，或者这里有其他事情在起作用？

**编辑**

@DavidMcMullin，`place`我遇到的问题是隐式调用的`create`，抱歉我没有强调这一点。

@Frode，它需要从其他 2 个 .js 文件继承，我没有使用足够的提琴手来知道如何设置它，不过我会调查一下。

@Stephen，就是这样，结果，不知何故，创建顺序已经关闭，即使`log()`声明告诉我它不是，我想我已经尝试过了......我必须进行一些重构以适应在超类中调用的方法，但很高兴它现在可以工作。提出答案，我会接受。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T07:00:40.477

看不到此代码有任何明显错误的地方。我认为它应该工作。这可能与各个节点的放置顺序有关。

您是否尝试过在**postCreate中运行****buildRendering**代码？看起来**<ul>**元素是在放置**<li>**之后创建的（只是猜测） - 尝试将放置参数*'first'*更改为*'last'*以查看它是否出现在**<li>之后****'s**，如果确实如此，那么它会在创建**<li>**之后运行（只是一种预感，在黑暗中刺伤，因为在我看来一切都很好）。

 ********如果这可行，那么可能值得看看**this.inherited(arguments);的位置。**方法内。也许尝试将它移到**buildRendering**的末尾（在创建**<ul>**的代码之后）。********

# ajax - 如何在淘汰赛中重新绑定相同的视图模型

> ID：14725367
> 
> 赞同：0
> 
> 时间：2013-02-06T09:17:45.367
> 
> 标签：ajax, knockout.js

我想用新数据重新绑定相同的模型，或者你可以在调用 ajax 后说我想用全新的数据更新模型。

```
function returnData(url,data,type){
    $.post(url, data, function(returnedData) {

    if(type == "search")
    {
    ko.applyBindings(new SearchViewModel(returnedData,"#searchbox",url,data),$("#searchbox")[0]);   
    }
});
} 
```

这是为数据调用 ajax 的代码，当接收到新数据时，它会将其绑定到模型。第一次不是问题，但下一次它会加倍相同的数据。

```
returnData(doamin+"/1.0/search",{userid:"12033914132",keyword:""},"search"); 
```

当我输入一个新的搜索词时，我想调用相同的函数。

我知道我们可以使用 observable 来更新数据，但我想清除旧绑定并添加新绑定

```
function SearchViewModel(data,id,url,userdata) {
    var self = this;
    // Editable data

    var ParsedData = JSON.parse(data);

    self.Contacts = ko.observableArray(ParsedData.Contacts);
    self.Sms = ko.observableArray(ParsedData.Sms);
    self.Calendar = ko.observableArray(ParsedData.Calendar);
    self.Logs = ko.observableArray(ParsedData.Logs);
    self.Total = ko.toJS(self.Contacts).length+ko.toJS(self.Sms).length+ko.toJS(self.Calendar).length;
    self.ContactsCount = ko.toJS(self.Contacts).length;
    self.SmsCount = ko.toJS(self.Sms).length;
    self.CalendarCount = ko.toJS(self.Calendar).length;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T09:27:36.647

我只会应用一次绑定，然后使用[敲除映射插件](http://knockoutjs.com/documentation/plugins-mapping.html)来更新现有的视图模型：

```
function SearchViewModel() {
    var self = this;
    // Editable data

    self.Contacts = ko.observableArray();
    self.Sms = ko.observableArray();
    self.Calendar = ko.observableArray();
    self.Logs = ko.observableArray();
    self.Total = ko.toJS(self.Contacts).length+ko.toJS(self.Sms).length+ko.toJS(self.Calendar).length;
    self.ContactsCount = ko.toJS(self.Contacts).length;
    self.SmsCount = ko.toJS(self.Sms).length;
    self.CalendarCount = ko.toJS(self.Calendar).length;    
} 
```

您需要将 count 属性更改为[计算的 observables](http://knockoutjs.com/documentation/computedObservables.html)，但其他所有内容都应由映射插件映射：

```
var searchViewModel = new SearchViewModel();

function returnData(url,data,type){
    $.post(url, data, function(returnedData) {

    if(type == "search")
    {
      searchViewModel = ko.mapping.fromJS(returnedData);
    }
});
}
ko.applyBindings(new SearchViewModel(returnedData,"#searchbox",url,data),$("#searchbox")[0]); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-08T21:27:03.877

您可以将 SearchViewModel 存储在 observable 中。有了它，您可以更新您的 SearchViewModel 而无需任何映射或重新绑定。

```
function ViewModel() {
    var self = this;

    self.searchViewModel = ko.observable();
}

var viewModel = new ViewModel();
ko.applyBindings(viewModel, $("#searchbox")[0]); 

function returnData(url,data,type){
    $.post(url, data, function(returnedData) {

    if(type == "search")
    {
    // ko.applyBindings(new SearchViewModel(returnedData,"#searchbox",url,data),$("#searchbox")[0]);   
       viewModel.searchViewModel(new SearchViewModel(returnedData,"#searchbox",url,data));
    }
});
} 
```

看法：

```
<div id="#searchbox" data-bind="if: searchViewModel()">
    <div data-bind="with: searchViewModel()">
       ... your markup
    </div>    
</div> 
```

# c# - 如何在 ASP.NET 中使用正则表达式从请求 url 中提取文件名

> ID：14725368
> 
> 赞同：-1
> 
> 时间：2013-02-06T09:17:45.580
> 
> 标签：c#, asp.net, regex

我需要从请求 url 中提取只有 .aspx 扩展名的任何请求的文件名 + 扩展名。例如。如果请求的 url 是 - [http://www.abcd.com/index.aspx?a=1&B=2](http://www.abcd.com/index.aspx?a=1&B=2)那么它应该返回 index.aspx。如果请求的 url是[http://abcd.com/products/pages/page1](http://abcd.com/products/pages/page1)那么它应该返回空。如果请求的 url 是[http://abcd.com/images/img1.gif](http://abcd.com/images/img1.gif)那么它应该返回空。

编辑：如果 url 中的其他任何地方都有 aspx，那么它可能会造成实际问题。但是正确地转义`.`并在 url 中查找`.`，并获得第一个匹配项可能会解决问题，因为主机名通常不包含`.aspx`在其中。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T09:22:25.850

试试这个：

```
 Match fileNameMatch = Regex.Match("url", @"\w+\.aspx");
   string fileName = fileNameMatch.Value; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-06T10:03:27.053

我只是想把我的帽子扔在这里。

就像 StackOverflow 上的大多数问题一样。正则表达式并不是答案。我的意思是..这*是*一个答案..但它类似于唤醒一个巨人并要求它为你挤压一只蚂蚁。

```
System.Uri uri = new System.Uri("http://www.abcd.com/page/index.aspx?a=1&B=2'");
string fileName = Path.GetFileName(uri.LocalPath);
if (fileName.EndsWith(".aspx")) {
    // this is what you want
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-06T09:21:29.640

要仅提取以使用此正则表达式结尾的文件`.aspx`：

```
var r = new Regex(@"\w+\.aspx");
var match = r.Match(Request.RawUrl);

if (match.Success)
{
    //your logic here
    var filename = match.Value;
} 
```

# browser - 将 Mozilla 嵌入到混乱的应用程序中

> ID：14725369
> 
> 赞同：0
> 
> 时间：2013-02-06T09:17:44.533
> 
> 标签：browser, gtk, mozilla, clutter-gui

我想将 mozilla 嵌入到我的杂乱应用程序中。一种方法是使用 gtkmozembed 和 clutter-gtk；由于 Mozilla 已停止支持 gtkmozembed，我无法使用它。我无法使用 webkit，因为我要渲染的页面是专门为 firefox 编写的（我尝试使用 webkit 但失败了）。有人建议我一个方法进行！！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-09T06:54:09.697

没有意义听起来轻率，唯一的方法是为壁虎编写一个杂乱的后端。过去曾为 Moblin 做过（虽然不确定它的代码在哪里），但工作量很大。

基本上，Mozilla 似乎不希望您将 Gecko 嵌入到事物中，这就是他们不再支持 gtkmozembed 的原因。移植页面以使用 webkit 会简单得多。

# erlang - 在 ejabberd 中收集特定组件的统计信息

> ID：14725378
> 
> 赞同：0
> 
> 时间：2013-02-06T09:18:11.060
> 
> 标签：erlang, ejabberd

我想在 ejabberd 中收集有用的统计数据。

假设我想知道有多少消息被发送到一个或多个特定的内部组件，您认为这两种解决方案之间最好的是什么？

1.  使用 filter_packet 钩子设置一个新组件（基于 gen_mod + gen_server），并在特定函数中处理指向上述组件的所有消息。为了不打扰消息转发，我可以生成一个函数来尽快路由消息，然后使用一些 ets/mnesia/mysql 表轻松记录该组件中的数据。
2.  当我在感兴趣的组件中实际收到数据时记录数据。

你能告诉我哪种解决方案是最好的吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T10:30:44.510

如果目的是有一种机制来诊断生产中的系统，我认为您可以使用一个 gen_event 服务器，您可以永久或临时连接一个或多个事件处理程序。缺点是您必须在当前代码中生成事件。

![使用 gen_event 的监督树示例](../Images/0aa6390ccf0fc9f0eb76835b762598ad.png)

如果目的是分析/分析您的应用程序，您应该查看现有工具，例如观察者、pman...

编辑：

gen_event 的兴趣在于它是一种现成的行为，允许按需连接多个事件处理程序。

pman 允许您查看一个进程的所有消息发送、消息接收和函数调用。它们默认如下所示，我没有检查是否可以添加其他信息，例如时间戳，以及可以过滤的内容。

```
...
<0.60.0>: call  erlang:spawn_link(erlang, apply, [#Fun<util.3.13553350>,[]])
{trace,<0.60.0>,spawn,<0.180.0>,{erlang,apply,[#Fun<util.3.13553350>,[]]}}
<0.60.0>: link  <0.180.0>
<0.60.0>: call  erlang:now()
<0.60.0>: call  gen_event:notify(plc1, {store, t5_plc1, running, 1360156073108})
<0.60.0>: call  gen_event:send(plc1, {notify, {store, t5_plc1, running, 1360156073108}})
<0.60.0>:  !    To: plc1 Msg: {notify, {store, t5_plc1, running, 1360156073108}}
<0.60.0>: call  erlang:setelement(12, {state, t5_plc1, #Fun<testmngr.9.27375888>, #Fun<testmngr.10.27375888>, 46, forever, 0, 1, run, undefined, undefined, <0.179.0>, plc1}, <0.180.0>)
<0.180.0>: call  erlang:apply(#Fun<util.3.13553350>, [])
<0.180.0>: rec   timeout
<0.180.0>: call  gen_server:cast(manager_plc1, {complete, t5_plc1})
<0.180.0>: call  gen_server:do_cast(manager_plc1, {complete, t5_plc1})
<0.180.0>: call  gen_server:cast_msg({complete, t5_plc1})
<0.180.0>: call  gen_server:do_send(manager_plc1, {'$gen_cast', {complete, t5_plc1}})
<0.180.0>: call  erlang:send(manager_plc1, {'$gen_cast', {complete, t5_plc1}}, [noconnect])
<0.180.0>:  !    To: manager_plc1 Msg: {'$gen_cast', {complete, t5_plc1}}
<0.180.0>:  !    To: <0.60.0> Msg: {'$gen_event', {complete, 47}}
<0.60.0>: rec   {'$gen_event', {complete, 47}}
<0.180.0>: exit   normal
<0.60.0>: getting_unlinked   <0.180.0>
... 
```

# fancybox - facnybox - 从孩子关闭父母但保持孩子打开

> ID：14725386
> 
> 赞同：0
> 
> 时间：2013-02-06T09:18:26.733
> 
> 标签：fancybox, fancybox-2

我已经在这个网站和谷歌上彻底搜索了这个问题很多小时，虽然我很足智多谋，但我找不到这个问题的解决方案，如果可以做到的话，所以任何朝着正确方向的帮助真的很酷！

我有一个窗口（主页）和一个链接，这会在该窗口中打开一个fancybox（iframe），还有另一个链接可以打开另一个fancybox（iframe），但我不想要“框架中的框架”，看起来很傻，如何关闭第一帧并保持孩子打开？

“主页”上有几个链接需要执行此操作，因此在脚本中包含 url 将不起作用（很好）

这就是我的意思... [www.kamgar.nl](http://www.kamgar.nl)

此链接在主页中，将打开一个花式框...

```
<a href="/about" class="pop_up" title="About">About</a> 
```

这个链接在孩子中（上图），我需要它来打开（在新的花式框中）并关闭父节点（上图）

```
<a href="/message" class="message" title="Message">Message</a> 
```

还有剧本...

```
$(document).ready(function() {
$(".pop_up").fancybox({
    maxWidth    : 700,
    maxHeight   : 1000,
    fitToView   : false,
    afterLoad   : function () { $("#content, #page").fadeOut(100); },
    afterClose  : function () { $("#content, #page").fadeIn(10); },
    width       : '50%',
    height      : '80%',
    autoSize    : false,
    closeClick  : false,
    openEffect  : 'fade',
    closeEffect : 'fade',
    scrollOutside: false,
    padding     : '5',
    hideLoading : true,
    title       : false,
    nextClick   : false,
    type        : 'iframe',
    helpers     : { title : { type : 'over'} }
});
});

 $(document).ready(function() {
$(".message").fancybox({
    maxWidth    : 500,
    fitToView   : false,
    afterLoad   : function () { $("#content, #page").fadeOut(100); },
    afterClose  : function () { $("#content, #page").fadeIn(10); },
    width       : '90%',
    height      : 600,
    autoSize    : false,
    closeClick  : false,
    openEffect  : 'fade',
    closeEffect : 'fade',
    padding     : '5',
    modal       : false,
    hideLoading : true,
    title       : false,
    nextClick   : false,
    type        : 'iframe',
    helpers     : { title : { type : 'over'} }
});
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T20:40:19.640

我发现这是不可能的，但我通过触发隐藏链接来打开正在打开的页面找到了解决方法。

我知道令人困惑，但基本上该页面被调用两次而不是一次：一次为页面，然后页面通过隐藏链接通过 Fancybox 再次打开。

如果你去我的网站，我想你会明白的。

# android - 微调器默认主题到 EditText android

> ID：14725388
> 
> 赞同：5
> 
> 时间：2013-02-06T09:18:28.710
> 
> 标签：android, styles, android-edittext, spinner, android-theme

我有`EditText`并且我希望它显示在 Spinner 的相同主题中，带有背景和箭头，因为我已经制作了这个`EditText`Clickable 并且它打开了一个自定义弹出窗口

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2013-06-14T10:46:26.153

在您的 中使用以下样式`EditText`： `style="?android:attr/spinnerStyle"`

例如：

`<TextView
android:layout_width="match_parent"
android:layout_height="wrap_content"
style="?android:attr/spinnerStyle" />`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T09:24:44.290

看一下这个：

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical" >

    <EditText
        android:id="@+id/editText1"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:ems="10" 
        android:drawableRight="@drawable/apple">

        <requestFocus />
    </EditText>

</LinearLayout> 
```

# vba - 如何按位置从 Word 文档中获取所有书签元素的列表到数组：VBA / Word

> ID：14725395
> 
> 赞同：3
> 
> 时间：2013-02-06T09:18:53.740
> 
> 标签：vba, ms-word

我想获取 Word 文档中的所有书签，然后将它们推送到数组中。书签必须按它们在文档中的位置而不是按名称排序。

前任。这是文档中的书签列表，

```
[bm_s]  (header)
[bm_h]  (title)
[bm_a]  (footer) 
```

我希望书签保持它们的顺序，以便数组如下所示，

```
array {bm_s, bm_h, bm_a, } 
```

前任。它不应该如下所示，

```
array {bm_a, bm_h, bm_s, } 
```

我从文档工作中获取了所有书签。获取并推送到数组时，我以随机顺序获取所有书签。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-06T10:05:35.737

好的，所以我想通了，

如果其他人有兴趣获取与其在文档上的位置相关的所有书签，这就是它的完成方式。

```
Dim objDoc As Document
Set objDoc = ActiveDocument

For i = 1 To objDoc.Bookmarks.Count
Debug.Print objDoc.Range.Bookmarks(i) 'here you can change the code to push the bookmarks in an array
Next i 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2015-12-11T02:02:25.080

万一还有人想知道；您可以访问 MS Word 文档的不同部分，如下所示：

```
ActiveDocument.StoryRanges(wdPrimaryHeaderStory).Bookmarks.Count
ActiveDocument.StoryRanges(wdMainTextStory).Bookmarks.Count
ActiveDocument.StoryRanges(wdPrimaryFooterStory).Bookmarks.Count 
```

# javascript - 每次以相同的持续时间执行代码的方式是什么？

> ID：14725396
> 
> 赞同：0
> 
> 时间：2013-02-06T09:18:56.307
> 
> 标签：javascript, unix, optimization, operating-system, computer-science

假设您想对不同 JavaScript 循环的性能进行基准测试，如下所示：http: [//jsperf.com/fastest-array-loops-in-javascript/11](http://jsperf.com/fastest-array-loops-in-javascript/11)。或者您想使用 Unix`time`命令在命令行上对某些内容进行基准测试。

在计算机的深处，是什么阻止了代码每次都以完全相同的持续时间执行？我所说的“持续时间”是指，为什么`while (i--)`Node.js 中的 JavaScript 循环每次都不会花费 1.3284 毫秒？寻找晶体管和高级编程语言之间的联系（一些关键词或论文）。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T09:28:09.623

由于时间分辨率的原因，测量首先并不精确。例如，见[次。](http://linux.die.net/man/2/times)

如果有很多进程在运行，与只有少数进程竞争 CPU 时间相比，您将获得不同的挂钟时间。

缓存未命中、交换也会干扰，导致从一次运行到另一次运行的总体时间不同。

如果从磁盘读取文件，文件块的分配也会影响读取或写入文件所花费的时间。

# linux - 陷阱标志（TF）和监视器陷阱标志之间的区别？

> ID：14725401
> 
> 赞同：5
> 
> 时间：2013-02-06T09:19:04.193
> 
> 标签：linux, gdb, virtual-machine, intel, kvm

GDB 等调试功能通过设置 eflags 寄存器的 TF 标志来工作，这会在处理器每次执行指令后导致异常，让 gdb 等工具控制调试。当我们运行虚拟机时，如果使用 kvm 来执行您需要设置一个名为 MONITOR TRAP FLAG 的标志（当前英特尔软件手册 3c 的第 15 页），这将导致虚拟机在每条指令向管理程序提供调试后退出（VMEXIT）。

管理程序几乎可以设置 VM（来宾）的任何位/寄存器。当架构中已​​经存在这样的标志（EFLAG）时，为什么我们需要在 VMCS（虚拟 Macine 控制结构）中使用单独的标志？

我在某处读到，这样做的原因是，如果使用 EFLAGS，来宾可以覆盖 VMM（管理程序）的单步意图。

A：如果您没有控制权，模拟硬件有什么意义？

B：我遇到了一个问题，我需要设置 BTF（分支陷阱标志）（PG 689 vOLUME 3a INTEL 软件手册）。在正常情况下，这会在每个分支指令上导致 DEBUG EXCEPTION，但由于我想在 VM 上执行此操作，因此我无法确定要在 VMCS 中设置哪个位。在单步的情况下，似乎没有直接的方法可以做到这一点。谁能让我知道是否有某种方法可以使用其他方式做同样的事情？

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2016-06-01T02:02:41.780

# 不，没有分支监视器陷阱标志。

英特尔可能会制造一个，但还没有。

# 细节

让我们首先浏览并定义术语：

[请注意，所有这些仅与 Intel x86 有关]

## 陷阱标志 (TF)

如问题中所述，在执行指令后导致#DBG（通过异常0x1陷阱）。使用 RFLAGS 的第 8 位进行控制。

## 分支陷阱标志 (BTF)

TLDR：BTF 将 TF 的行为修改为仅在分支上触发异常。

从 2016 年 4 月版的英特尔 SDM 开始：

> 当软件同时设置 IA32_DEBUGCTL MSR 中的 BTF 标志（位 1）和 EFLAGS 寄存器中的 TF 标志时，处理器仅在导致分支的指令之后生成单步调试异常。 [1] 这种机制允许调试器单步执行由分支引起的控制传输。这种“分支单步”有助于在指令单步进一步缩小搜索范围之前将错误隔离到特定代码块。处理器在生成调试异常时清除 BTF 标志。调试器必须在恢复程序执行之前设置 BTF 标志以继续单步执行分支。
> 
> [1] 导致任务切换的 CALL、IRET 和 JMP 的执行永远不会导致单步调试异常（无论 BTF 标志的值如何）。调试器希望在切换到任务时出现调试异常，应在该任务的 TSS 中设置 T 标志（调试陷阱标志）。请参阅第 7.2.1 节，“任务状态段 (TSS)”。</p>

## 监控陷阱标志 (MTF)

MTF 是 VMCS 中的一个位，它在来宾中时在某些指令边界上触发 Monitor Trap Flag VMEXIT。

一般来说，只要客户机向前推进，就会发生退出，主机端不会发生任何比 MTF VMEXIT 优先级更高的事情。有一些奇怪的边缘情况，比如 REP MOV（可以中断的指令）和 SMI（对主机操作系统不可见的中断）。有关详细信息，请参阅 SDM 的 Monitor Trap Flag 部分（2016 年 4 月的 25.5.2）。

# 回应

> 当架构中已​​经存在这样的标志（EFLAG）时，为什么我们需要在 VMCS（虚拟 Macine 控制结构）中使用单独的标志？

Host 和 Guest State 需要分开。如果您正在调试运行 GDB 的客户机，主机需要能够触发 VMEXIT，而不是客户机内的异常。请注意，当设置了陷阱标志时，默认情况下会在当前上下文中触发异常（如果您在来宾中运行，则为来宾，如果您在主机中运行，则为主机）。

主机可以尝试在不使用 MTF 的情况下进行调试，方法是强制设置来宾的 TF 并使用 VMCS 中的异常位图在调试异常上配置 VMEXIT。不幸的是，如果来宾也启用了调试异常，那么主机就无法清楚地知道调试异常属于谁（如果我没记错的话，没有办法退出对 RFLAGS 的写入）。MTF 的存在使得调试运行调试器的 VM 成为可能。

> ...任何人都可以让我知道是否有某种方法可以使用其他方式做同样的事情？

没有分支监视器陷阱标志。您可以通过查看来宾 RIP（应该在 VMCS 中）上的解码指令来实现等效的东西，但这需要一堆额外的 VMEXITS。显然，这并不理想。

如果你在进入客人之前设置 BTF，事情会很快变得一团糟。它将被视为访客的 BTF，而不是与主机相关的 BTF。如果你还在 VMCS 中设置了 MTF，BTF 将不会延迟 MTF VMEXIT。另一方面，它会延迟客人的下一次调试陷阱。

每当客户机 VMEXIT 下一个时，如果 BTF 尚未被调试异常清除（退出时清除 IA32_DEBUGCTL），它将被破坏。您可以使用 MSR LOAD/STORE 列表保存该值，但这并没有多大作用。

# jquery - JQuery Sortable ConnectWith 不起作用

> ID：14725402
> 
> 赞同：9
> 
> 时间：2013-02-06T09:19:13.287
> 
> 标签：jquery, jquery-ui, jquery-ui-sortable

我有两个可排序的列表。我想连接这个列表，这样我就可以在两个方向上将项目从一个列表移动到另一个列表。我使用可排序的 connectWith，但我仍然无法将列表项从一个列表移动到另一个列表。

我还可以将项目从一个地方移动到另一个地方，但在同一个列表中。

这是代码：

```
<div class="category-container" data-id="1"> 
    <div class="category-header" data-id="1"> 
    </div>
    <ul class="list-items ui-sortable">
        <li class="item" data-id="3">
        <li class="item" data-id="43">
        <li class="item" data-id="28">
        <li class="item" data-id="24">
        <li class="item" data-id="21">
        <li class="item new" data-id="0">
    </ul>
</div>
<div class="category-container" data-id="2">
    <div class="category-header" data-id="2"> 
    </div>
    <ul class="list-items ui-sortable">
        <li class="item" data-id="17">
        <li class="item" data-id="8">
        <li class="item" data-id="9">
        <li class="item new" data-id="0">
    </ul>
</div> 
```

和jQuery：

```
 $(".list-items").sortable({
            connectWith: '.list-items',
            items: "li:not(.item.new)",
            placeholder: 'place-holder',
            scroll: false,
            tolerance: "pointer"
}).disableSelection(); 
```

我无法找出问题所在。

有人能帮我吗？

谢谢

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2013-02-07T11:22:27.673

我想通了。

问题是列表浮动属性。可排序的 connectWith 不适用于 css 浮点数。

[可排序的 connectWith 错误](http://bugs.jqueryui.com/ticket/4551)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2018-02-22T22:11:08.667

我只是想分享一些我刚刚意识到的东西，也许可以帮助别人。

将从另一个列表/表格**接收元素**（div/ul）的元素**必须有足够的“空间”来接收**（宽度和高度）并显示新元素。

[![架构](../Images/861fc87357e7c2aa02a0a4b16a2de37f.png)](https://i.stack.imgur.com/ka18n.png)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-06T10:30:56.443

好吧，对我来说，这个列表按预期工作。检查这个：http: [//jsfiddle.net/GSA2A/2/](http://jsfiddle.net/GSA2A/2/)

此外，您应该编写有效的 html，至少关闭您的标签。大多数浏览器可以根据您使用的 doctype 处理丢失的关闭的 li 元素。

您还可以使用：

```
$('#list1, list2').sortable({....... 
```

对我来说，在 id 上使用 sortable 函数和在组合这些列表的类上使用 connectWith 看起来更好，也更合乎逻辑。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2016-12-31T08:46:07.877

我将 ul 都分配给一个 id 并在 jQuery 文件中我得到两个 id 并使用 sortable(); 应用不同的参数，它对我有用你可以使用这个代码我正在使用 jquery-3.1.1.js，你尝试添加包含：'document'

```
$('#list, #thi').sortable({
  containment: 'document',
  tolerance: 'pointer',
  cursor: 'pointer',
  revert: true,
  opacity: 0.4,
  connectWith: '#list,#thi',
  update: function() {
    // alert('f');
    content = $(this).text();
    $('#fdk').text(content);
  }
});
```

```
<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<ul id="list">
  <li>School</li>
  <li>Name</li>
  <li>Roll</li>
</ul>
<ul id="thi">
  <li>School</li>
  <li>Name</li>
  <li>Roll</li>
</ul>

<div id="fdk">
</div>
```

# .net - 为什么 LogicalTreeHelper 不将列作为 DataGrid 的子项返回？

> ID：14725407
> 
> 赞同：3
> 
> 时间：2013-02-06T09:19:41.493
> 
> 标签：.net, wpf, vb.net, datagrid

```
<DataGrid Style="{DynamicResource DataGridStyle1}"
          x:Name="grdMyGrid">
    <DataGrid.Columns>
        <DataGridTextColumn Header="Header 1" />
        <DataGridTextColumn Header="Header 2" />
        <DataGridTextColumn Header="Header 3" />
    </DataGrid.Columns>
</DataGrid>

' I use this for the translation stuff
LogicalTreeHelper.GetChildren(grdMyGrid) 
```

为什么[LogicalTreeHelper](http://msdn.microsoft.com/en-us/library/system.windows.logicaltreehelper.aspx)不将列作为 DataGrid 的子项返回？

我为所有 WPF 控件执行通用功能。网格只是其中的一小部分。所有项目都被翻译，但网格列不被翻译，因为使用代码的递归翻译函数`LogicalTreeHelper.GetChildren(myFrameworkElement)`不会在网格内部传递。

该怎么办？

# php - 订单过程中 Prestashop 价格变化

> ID：14725417
> 
> 赞同：0
> 
> 时间：2013-02-06T09:20:25.080
> 
> 标签：php, prestashop

在 prestashop 的订单过程中是否可以更改价格？我需要制作根据某些条件增加运费的模块（不能在 presta 中做到，需要模块）。我尝试在一些钩子（hookBackBeforePayment、hookBeforeCarrier、hookProcessCarrier、hookExtraCarrier）上执行此操作，我只是尝试更改 ['total_price'] 或传递给钩子函数的其他变量。

将不胜感激任何帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-18T10:46:12.993

这听起来像是运营商模块应该处理的事情。不幸的是，关于这个主题的文档并不多，因此需要大量的试验和错误。[这里](http://doc.prestashop.com/display/PS14/Carrier+modules+-+functions,+creation+and+configuration)有一个简短的 PS 1.4 载体模块教程，可以帮助您入门。我还建议您阅读现有的其他免费送货模块的源代码。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-12-10T12:29:52.513

Order.php 中的 getFields() 函数携带下订单的所有数据。通过修改此数组，您可以为订单提供自定义价格。

```
public function getFields()
{
    if (!$this->id_lang)
        $this->id_lang = Configuration::get('PS_LANG_DEFAULT', null, null, $this->id_shop);
    $val = parent::getFields();
    $val['total_paid'] = 5678.88;
    $val['total_paid_tax_incl'] = 5678.88;
    $val['total_paid_tax_excl'] = 5678.88;
    $val['total_paid_real'] = 0;
    $val['total_products'] = 5678.88;
    $val['total_products_wt'] = 5678.88;

    return $val; //Return this array
    //return parent::getFields();
} 
```

实际上，您可以将此功能置于覆盖中以使您的 prestashop 可升级。版本：1.5.5.0

# ios - 异步下载 - 正确模式

> ID：14725418
> 
> 赞同：0
> 
> 时间：2013-02-06T09:20:25.880
> 
> 标签：ios, iphone, asynchronous, download, nsurlconnection

我需要从我的网站下载一些图片。我使用来自应用程序的图像的 url 创建了一个 XML 文件，我读取了这个文件并将所有 url 存储在一个数组中。

现在，我需要下载所有图像，我想异步地进行操作，我想知道最好的方法，现在我的代码是：

```
 for (int i=0; i<self.arrayAggiornamenti.count; i++) {

        Aggiornamento *aggiornamento = [self.arrayAggiornamenti objectAtIndex:i];
        NSMutableArray *arrayPath = aggiornamento.arrayPaths;

        for (int j=0; j<arrayPath.count; j++) {

            NSString *urlString = [NSString stringWithFormat:@"http://www.xxx.com/%@",[arrayPath objectAtIndex:j]];

            NSString *urlStringEncoded = [urlString stringByAddingPercentEscapesUsingEncoding:NSUTF8StringEncoding];

            NSURL *urlImage = [NSURL URLWithString:urlStringEncoded];

            NSURLRequest *requestImgage = [NSURLRequest requestWithURL:urlImage
                                                        cachePolicy:NSURLRequestReloadIgnoringLocalCacheData
                                                    timeoutInterval:60];

            self.imgData = [[NSMutableData alloc] init];

            self.imgConnection = [[NSURLConnection alloc] initWithRequest:requestImgage delegate:self startImmediately:YES];
        }
}

- (void) connection:(NSURLConnection *)connection didReceiveResponse:(NSURLResponse *)response{

    // Start parsing XML
    if (connection == self.xmlConnection) {
    }
    // Start download Totale
    else if (connection == self.toatalConnection) {
    }
    // Start connessione immagini
    else {        
        [self.imgData writeToFile:pathFile atomically:YES];
    }
}

- (void) connection:(NSURLConnection *)connection didReceiveData:(NSData *)data {

    if (connection == self.xmlConnection) {
    }
    else if (connection == self.toatalConnection) {
    }
    else {
        [self.imgData appendData:data];
    }

}
- (void) connection:(NSURLConnection *)connection didFailWithError:(NSError *)error {}

- (void) connectionDidFinishLoading:(NSURLConnection *)connection {

    if (connection == self.xmlConnection) {
    }
    else if (connection == self.toatalConnection) {
    }
    else if (connection == self.imgConnection){
    }
} 
```

使用此代码下载图像，但问题是如果我在 didReciveResponse 上添加 if else (connection==self.imgConnection) 应用程序仅下载第一张图像，为什么？这种方式下载多个图像是否正确？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T09:39:57.490

可能是因为您`self.imgData`在循环内分配。请参阅此链接以下载数组内的图像：[什么是异步图像下载以及如何下载太多图像？](https://stackoverflow.com/questions/2408010/what-is-asynchronous-image-downloading-and-how-can-i-download-too-many-images)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-06T09:40:32.293

看起来 self.imgConnection 在 for 循环中一次又一次地被过度使用。因此，当您收到来自 Internet 的任何连接的响应时，循环将多次覆盖它，并最终保存最后分配的对象。这样，您的 else if(connection==self.imgConnection) 只会为真一次。

此处的最佳做法是为每种类型的连接创建一个类。这样，您将能够使用连接类的一个实例下载一张图像并将其保存在该实例中，然后将其传递给您的调用者类。

# sql - 确定存储过程性能问题的最佳方法？

> ID：14725428
> 
> 赞同：0
> 
> 时间：2013-02-06T09:20:44.140
> 
> 标签：sql, sql-server

Strred 过程在 sql server profiler 中显示大量读取。

CPU 335886 读取 261841162 写入 7868 持续时间 340510

这只发生在某个帐户上。

我在这里确定问题的第一步是什么？

需要存储过程调优建议...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T09:44:19.417

尝试**数据库引擎优化顾问**

1.  使用 Sql Profiler 创建跟踪文件
2.  在数据库引擎优化顾问中使用它作为工作负载。
3.  尝试实施数据库引擎优化顾问给出的建议。

分析工作负载后，数据库引擎优化顾问可以建议您在数据库中添加、删除或修改物理设计结构。顾问还可以推荐应该收集哪些统计数据来备份物理设计结构。物理设计结构包括聚集索引、非聚集索引、索引视图和分区。数据库引擎优化顾问建议使用一组物理设计结构来降低查询优化器估计的工作负载成本。

参考这个：

[数据库引擎优化顾问概述](http://msdn.microsoft.com/en-us/library/ms173494%28v=sql.105%29.aspx)

[教程：数据库引擎优化顾问](http://msdn.microsoft.com/en-in/library/ms166575%28v=sql.105%29.aspx)

# kineticjs - 改变图像导致大滞后

> ID：14725432
> 
> 赞同：0
> 
> 时间：2013-02-06T09:20:53.717
> 
> 标签：kineticjs

我有一个问题，点击缩略图（导致画布上更改背景的迷你图片）后，页面会开始滞后，如果你越来越多地点击其他缩略图，滞后非常大，其他效果是更改后没有出现文本图像（这与我认为的这些滞后有关）有人可以告诉我问题出在哪里，或者只是查看我的代码并尝试修复它？

谢谢，因为我真的不知道问题出在哪里:(

[http://codepen.io/anon/pen/ydxIH](http://codepen.io/anon/pen/ydxIH)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T15:36:57.957

[http://codepen.io/anon/pen/bsdHp](http://codepen.io/anon/pen/bsdHp)

这里的主要错误是你在做：

```
 layer.add(yoda);
    layer.add(vrchnyText);
    layer.add(spodnyText);
    stage.add(layer); 
```

每次点击图片。

这减慢了一切，因为您不是在“更改”图片和文字，而是每次都在“添加”它。所以你要做的就是改变图片和文字，而不是每次都添加，然后重新绘制图层。

```
 vrchnyText.setText($(this).val().toUpperCase());
    layer.draw(); 
```

此外，您不需要每次都更改舞台和图片的宽度和高度，因为它始终是 500，这确实会减慢速度。

# asp.net-mvc-3 - mvc3中的Html下拉列表绑定

> ID：14725438
> 
> 赞同：0
> 
> 时间：2013-02-06T09:21:20.290
> 
> 标签：asp.net-mvc-3, jquery, html-select

我需要使用另一个 dropdownlist 绑定 @html.dropdownlist() 。

例如：ddl1：字母和数字。

1.  当我在 ddl1 中选择字母时，在 ddl2 中绑定 a、b、c、d 等字母
2.  当我在 ddl1 中选择数字时，在 ddl2 中绑定 1、2、3、4 等数字

在默认页面加载中

dd1：选择案例 dd2：选择 dd1

使用mvc3格式

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T10:07:17.770

我认为你需要 jquery 来做到这一点。

```
$("#Dropdown1").change(function () {
            var value= $("#Dropdown").val();
            if(value=="Letters")
        {
        populatedropdown(listofletters);
        }
       else if(value=="Numbers")
        {
        populatedropdown(listofnumbers);
        }
        });

 function populatecities(list) {
        $("#dropdown2").html('');
        $.each(list, function (id, option) {
            select.append($('<option></option>').val(id).html(option));
        });
    } 
```

我认为这会做到...

# php - 有条件地赋值

> ID：14725439
> 
> 赞同：0
> 
> 时间：2013-02-06T09:21:19.760
> 
> 标签：php, variables

我有这个功能：

```
function my_function($value1, $value2, $value3 = null){
    if($value1 || $value2 || $value3 == 'my_title' ){
        echo '<title>'.$value2.'</title>';
    }
}

my_function('my_css', 'my_title'); 
```

如您所见，我必须输入 echo $value2 因为我不知道如何使用 $value 1,2 或 3。我认为这可以通过执行以下操作来解决：

```
 if($value1 || $value2 || $value3 == 'my_title' $title = $value1 || $value2 || $value3 ){ 
```

这可能吗？

我希望你能理解我在这里想要达到的目标。

-------------------------------------------------- - 解决了 - - - - - - - - - - - - - - - - - - - - - - - - ---------

感谢 rohitarora 为这个问题提供了最佳答案。

我想与大家分享你帮助我制作的东西。

如果你有这个功能

```
function template_content($value1, $value2, $value3 = null){ global $title;
$value = array($value1, $value2, $value3);
for($i=0;$i<count($value);$i++)
{
    if (strpos($value[$i],'title: ') === 0 ){
        $title = explode("title: ",$value[$i]);
        echo "\t", '<title>'.$title[1].'</title>', "\n";
    } else if (strpos($value[$i],'css: ') === 0 ){
        $css = explode("css: ",$value[$i]);
        echo "\t", '<link rel="stylesheet" href="'.$css[1].'">', "\n";
    } else if (strpos($value[$i],'js: ') === 0 ){
        $js = explode("js: ",$value[$i]);
        echo "\t", '<script src="'.$js[1].'"></script>', "\n";
    }
}

} 
```

你可以调用这个函数

```
<!DOCTYPE html>
<html>
<head>
<?php template_content('css: http://google.com/style.css', 'title: hello', 'js: http://code.jquery.com/jquery-latest.min.js'); ?>
</head>
<body>
</body>
</html> 
```

你会得到这个惊人的结果

```
<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="http://google.com/style.css">
    <title>hello</title>
    <script src="http://code.jquery.com/jquery-latest.min.js"></script>
</head>
<body>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T09:24:57.357

```
$string = 'my_title';

switch ($string) {
     case $value1 :         $title = $value1;         break;
     case $value2 :         $title = $value2;         break;
     case $value3 :         $title = $value3;         break;
}

echo '<title>'.$title.'</title>'; 
```

这就是你需要的:)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-06T09:28:01.743

```
function my_function($value1, $value2, $value3 = null) {
    // make a array of all your values
    $title = array($value1, $value2, $value3);
    // for loop will run as the size of array like here there are three element in array value1,2,3
    for ($i = 0; $i < count($title); $i++)
    {
        // check if the string is there in the ith element in array
        if ($title[$i] == 'my_title')
        {
            echo '<title>'.$title[$i].'</title>';
        }
    }
}

my_function('my_css', 'my_title'); 
```

做数组，这是一个更好的方法。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-06T09:41:46.770

```
function my_function (){
    $args = func_get_args();

    foreach ($args as $arg){
        echo '<title>'.$arg.'</title>';
    }
}

my_function('my_css', 'my_title'); 
```

这个函数可以接受你给它的任意数量的参数，并打印标签内的每一个参数

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-06T09:53:05.240

该声明

```
if ($value1 || $value2 || $value3 == 'my_title') {
     // Some code
} 
```

不会返回您可能认为的结果：它的评估如下：如果*是* （它被评估为布尔值），`$value1`或者*is*，或者*equals*，则执行一些代码。`true` *`$value2``true` *`$value3``my_title`**

 **如果您想使用其中一个`$value1`，`$value2`或者`$value3`当它等于 时`my_title`，请使用以下内容：

```
function my_function($value1, $value2, $value3 = null) {
    $searchStr = "my_title";
    $r = "";
    switch ($searchStr) {
        case $value1:
            $r = $value1;
            break;
        case $value2:
            $r = $value2;
            break;
        case $value3:
            $r = $value3;
            break;
    }
    echo '<title>'.$r.'</title>';
} 
```

如果你对 switch 语句过敏（好吧，你真的不应该！），然后使用这个：

```
function my_function($value1, $value2, $value3 = null) {
    $searchStr = "my_title";
    $r = "";
    if ($value1 == $searchStr) {
        $r = $value1;
    }
    else if ($value2 == $searchStr) {
        $r = $value2;
    }
    else if ($value3 == $searchStr) {
        $r = $value3;
    }
    echo '<title>'.$r.'</title>';
} 
```

请注意，最好返回函数的结果，而不是立即回显它。**

# javascript - Jquery trigger('click') 和 on(change)

> ID：14725440
> 
> 赞同：0
> 
> 时间：2013-02-06T09:21:20.837
> 
> 标签：javascript, jquery, html, css, triggers

我正在尝试设置我的 input=file 的样式，因此我将其隐藏并改用按钮。在按钮的点击功能上我写了这段代码

```
$('button').click(function() {
    $('input[type=file]').trigger('click'); 
}); 
```

但我也想在选择文件后立即提交表格。所以我写了

```
$('input[type=file]').on('change', function() { 
    // select the form and submit
$(form).submit();
}); 
```

当我使用**触发器**隐藏输入 [type=file] 时，这不起作用，但是当我显示选择文件时。onChange 函数开始工作。

我需要知道 input[type=file] hidden 和使用 trigger 只提交表单。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T10:49:53.523

你甚至不需要按钮。您只能拥有输入字段并使用不透明度隐藏它，并且使用`:after`您可以设置*按钮*样式。请注意，`:after`不兼容 IE7 及更早版本：

HTML

```
<form>
    <input type="file">
</form> 
```

CSS

```
input[type="file"] {
    margin:19px;
    position:absolute;
    left:0;
    top:0;
    z-index:2;
    font-size:31px;
    clip:rect(0px, 123px, 40px, 0px);
    -ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
    filter:alpha(opacity=0);
    -moz-opacity:0;
   -khtml-opacity:0;
   opacity:0;
}
form:after {
    content:'upload file';
    font:small-caps 15px Georgia;
    letter-spacing:1px;
    border-radius:10px;
    border:1px solid #eee;
    width:100px;
    padding:10px;
    margin:20px;
    text-align:center;
    position:absolute;
    left:0;
    top:0;
    z-index:1;
    background-color:#f8f8f8;
}
form {
    color:#666;
}
form:hover:after {
    background-color:#f3f3f3!important;
    color:#c00;
} 
```

jQuery

```
$('input[type=file]').on('change', function () {
    $(form).submit();
}); 
```

这是演示：http: [//jsfiddle.net/kcKqX/](http://jsfiddle.net/kcKqX/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T09:49:10.470

我会建议一种比触发`click`. 使用 a`label`并将`input`按钮的所有样式应用于该标签。

HTML：

```
<input type="file" name="file" id="file_in" class="hidden" />
<label for="file_in" class="button">Add file</label> 
```

CSS：

```
.hidden {
display: none;
}

.button {
 background: #0f0;
} 
```

查询：

```
$('input[type=file]').on('change', function() { 
    // select the form and submit
$(form).submit();
});
// You can completely avoid the `trigger` code. 
```

# java - 使用 testNg 进行异步代码测试

> ID：14725445
> 
> 赞同：4
> 
> 时间：2013-02-06T09:21:26.083
> 
> 标签：java, testing, asynchronous

测试是否提供了一种测试异步代码的方法？

案例：客户端和服务器之间的请求/响应可以在异步模式下发生。我正在使用 TestNG 在课堂上编写类似`testDifferentPayload`,`testDifferentHeaders`的测试。`testDifferentConfig`目前，每个测试都在等待服务器的响应。

我可以并行运行测试以加快速度，但是有没有更好的方法来使用 testNg 进行异步代码测试？我在测试方法中看起来像我可以只做异步调用`sendMessageToServer`，并在所有测试的通用回调方法中做断言。

# jrebel - JRebel 不会重新加载 java swing ui

> ID：14725451
> 
> 赞同：3
> 
> 时间：2013-02-06T09:21:40.220
> 
> 标签：jrebel

我刚开始使用 jrebel。在监视我的类中的更改时它工作得很好，但问题是它不会重新加载 swing ui。

# jquery - Jquery 代码破坏了我的其余代码

> ID：14725452
> 
> 赞同：1
> 
> 时间：2013-02-06T09:21:43.480
> 
> 标签：jquery, wordpress

我有一些 Jquery 添加到其他 Jquery 的负载中（一切正常），但它破坏了我的其余代码。那里有一个错误，但我就是不知道在哪里！

```
//Retrieve the customization summary area:
var summary = $('#customise-area-3 p');

//Use jQuery to select all the checkboxes with the name hardware that are checked.
$('input[type=checkbox][name=hardware\[\]]:checked').each(function(k,v) {
    //Retrieve the value of the checkbox.
    var checkboxValue = v.val();

    //Add the checkbox value to the summary area:
    summary.innerHTML += checkboxValue + '<br />';
}); 
```

这是在 Wordpress 中，所以我的 Jquery 的所有其余部分都采用以下样式：

```
jQuery(document).ready(function( $ ) 
{
    $("#customise").click(function()
    {
        $(".entire_product").hide();
        $(".customise").show();
    });
}); 
```

* * *

为了让代码在 Wordpress 环境中工作，我做了以下工作：

```
jQuery(document).ready(function( $ ) 
{
   var summary = $('#customise-area-3 p').get(0);

   $('input[type=checkbox][name="hardware[]"]:checked').each(function(k,v) {
    //Retrieve the value of the checkbox.
    var checkboxValue = v.val();

    //Add the checkbox value to the summary area:
    summary[0].innerHTML += checkboxValue + '<br />';
});
}); 
```

尽管这可以阻止我的其余代码被破坏，但它实际上并没有做任何事情。即将选中的复选框值添加到摘要中。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T09:23:58.510

您在选择器中错误地使用了 \ 斜杠，并且您在错误的 jQuery 对象上使用了 innerHTML

改变

```
$('input[type=checkbox][name=hardware\[\]]:checked') 
```

到

```
$('input[type=checkbox][name="hardware[]"]:checked') 
```

如果您需要检查以硬件开头的名称，您最好使用通配符

```
$('input[type=checkbox][name^=hardware]:checked') 
```

改变

```
summary.innerHTML += checkboxValue + '<br />'; 
```

到

```
summary[0].innerHTML += checkboxValue + '<br />'; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T09:24:08.600

你的线

```
//Add the checkbox value to the summary area:
    summary.innerHTML += checkboxValue + '<br />'; 
```

正在尝试设置对象的 innerHTML，这看起来是您的代码中断的地方

你应该使用

```
summary.html(checkboxValue + '<br />'); 
```

那里可能还有其他类似的错误。但这是我唯一能看到的

# visual-studio-2010 - 如何从 ID2D1Bitmap 保存 bmp 文件

> ID：14725453
> 
> 赞同：0
> 
> 时间：2013-02-06T09:21:47.747
> 
> 标签：visual-studio-2010, directx, kinect, direct2d, kinect-sdk

我正在尝试使用 Kinect 从实时运行的视频中创建 bmp 文件。我正在开发一个应用程序，它在其上运行实时视频以放置图像。我使用的 IDE 是 Visual Studio Professional 2010。我正在使用 win32 用 C++ 开发的代码。
. 我想将视频与叠加的图像一起保存。现在我正在使用 ID2D1Bitmap 以叠加方式显示位图。但是我必须从带有叠加图像的视频中检索字节*数据。我正在尝试创建一个从 ID2D1Bitmap 检索字节*数据的 bmp 文件。但是直接转换无法检索到 byte* 数据。

```
 m_pd2d1RenderTarget->DrawBitmap(m_pd2d1Bitmap_Image,D2D1::Rect(120,140, 120+Height,140+Width));
            m_pd2d1RenderTarget->DrawBitmap(m_pd2d1Bitmap_Video);

  I copied the data to the ID2D1Bitmap using the function called,
           m_pd2d1RenderTarget->CopyFromMemory(NULL,pvideo_Data,video_Info.bmWidthBytes); m_pd2d1RenderTarget->CopyFromMemory(NULL, pBitmap_Data,Bitmap_Info.bmWidthBytes); 
```

但现在我想结合这两个位图并获取它的 byte* 数据。是否可以将这些位图转换为字节*？是否有任何直接转换可用于从 ID2D1Bitmap 获取字节 * 数据？？？。我还尝试将 ID2D1Bitmap 转换为 IWICBitmap。因为使用 IWICBitmap->Lock 可以检索 byte* 内容。因此，请帮助我解决以下疑问并提供宝贵的指导：

1.ID2D1Bitmap转byte*?。

2.如何将ID2D1Bitmap转换为IWICBitmap？。

提前致谢 ：）

问候，

维克。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T03:34:08.950

我在 C# 中按如下方式执行此操作。我们编写的代码从帧中捕获字节数组，创建一个 Image 类型，从下面的函数转换为 Bitmap 类型，然后保存为压缩的 jpeg 以供以后保存在文件系统上：

```
using (DepthImageFrame depthFrame = e.OpenDepthImageFrame())
                {
                    if (depthFrame == null) return;
                    byte[] pixels = GenerateColoredBytes(depthFrame, first);

                    int stride = depthFrame.Width * 4;
                    depthImage.Source = BitmapSource.Create(depthFrame.Width, depthFrame.Height, 96, 96, PixelFormats.Bgr32, null, pixels, stride);

                    Bitmap btmap = GetBitmap((BitmapSource)depthImage.Source);

                    // Encoder parameter for image quality
                    long quality = 100000;
                    EncoderParameter qualityParam = new EncoderParameter(System.Drawing.Imaging.Encoder.Quality, quality);
                    // Jpeg image codec
                    ImageCodecInfo jpegCodec = getEncoderInfo("image/jpeg");
                    EncoderParameters encoderParams = new EncoderParameters(1);
                    encoderParams.Param[0] = qualityParam;

                    var stream = new MemoryStream(); // Create MemoryStream
                    btmap.Save(stream, jpegCodec, encoderParams); //(stream, ImageFormat.Jpeg); // Save Bitmap as .jpeg in MemoryStream                    

                    depthPath = "_UserTrialImages/" + UsernameInput.username + "/Date-" + DateTime.Now.ToString("MM.dd.yyyy");
                    gamePath = depthPath + "/Game-" + gameNumber;
                    trajectoryPath = gamePath + "/Trajectory-" + trajectoryNumber;     // one trajectory per super bubble appearance

                    string depthFile = "image" + ind[5] + ind[4] + ind[3] + ind[2] + ind[1] + ind[0] + ".jpg";
                    string pathFile = trajectoryPath + '/' + depthFile;

                    imageNumberCounter();
                    newImg.pathFile = pathFile;
                    newImg.stream = stream;

                    // saves depth images in list
                    listOfImages.Add(newImg);
                } 
```

调用此函数：

```
Bitmap GetBitmap(BitmapSource source)
{
    Bitmap bmp = new Bitmap(source.PixelWidth, source.PixelHeight, System.Drawing.Imaging.PixelFormat.Format32bppPArgb);

    BitmapData data = bmp.LockBits(
      new System.Drawing.Rectangle(System.Drawing.Point.Empty, bmp.Size),
      ImageLockMode.WriteOnly,
      System.Drawing.Imaging.PixelFormat.Format32bppPArgb);

    source.CopyPixels(
      Int32Rect.Empty,
      data.Scan0,
      data.Height * data.Stride,
      data.Stride);

    bmp.UnlockBits(data);

    return bmp;
} 
```

我在 C++ 中没有此功能，但如果您在 .NET 4.0 中编码，则应该有与上述 C++ 中相同的功能。希望这可以帮助。

# asp.net - 通过局域网连接到 Visual Studio 调试 IIS Express 服务器

> ID：14725455
> 
> 赞同：89
> 
> 时间：2013-02-06T09:21:53.650
> 
> 标签：asp.net, asp.net-mvc, visual-studio-2012, visual-studio-debugging, iis-express

我有一个在 VS2012 中开发的测试 ASP.NET MVC3 应用程序。当我开始调试应用程序时，通过请求从主机访问`http://localhost:<portnumber>`. 但是，如果我尝试通过 Intranet 中的远程计算机访问相同的应用程序，`http://<ip>:<portnumber>`我会得到`HTTP error 400: Bad request. Invalid Host Name.`，就它在 IIS Express 上运行而言，任何服务器配置都无法访问。

有没有办法解决这个问题？

* * *

## 回答 #1

> 赞同：143
> 
> 时间：2013-03-21T03:13:34.980

**更新**

我制作了一个更好地描述该过程的视频，[https://youtu.be/5ZqDuvTqQVs](https://youtu.be/5ZqDuvTqQVs)

如果您使用的是 Visual Studio 2013 或更高版本，请确保以管理员身份运行它才能正常工作。

* * *

打开`%USERPROFILE%\My Documents\IISExpress\config\applicationhost.config`（在 VS2015 中可能是`$(solutionDir)\.vs\config\applicationhost.config`）文件。在里面你应该看到这样的东西：

```
<site name="WebSite1" id="1" serverAutoStart="true">
    <application path="/">
        <virtualDirectory path="/" physicalPath="%IIS_SITES_HOME%\WebSite1" />
    </application>
    <bindings>
        <binding protocol="http" bindingInformation="*:8080:localhost" />
    </bindings>
</site> 
```

更改`bindingInformation=":8080:localhost"`为`bindingInformation="*:8080:*"`（端口号，在我的情况下为 8080，会有所不同。）

**注意：**如果它不起作用，请尝试`bindingInformation="*:8080:`将 asterix 删除。

然后确保您的防火墙允许该端口上的传入连接。您可能需要重新启动系统或至少重新启动 Visual Studio 才能让 IISExpress 重新加载配置文件。

如果这不起作用，请查看以下答案：[https ://stackoverflow.com/a/5186680/985284](https://stackoverflow.com/a/5186680/985284)

* * *

## 回答 #2

> 赞同：47
> 
> 时间：2017-03-24T01:22:28.373

## VisualStudio 2015 非管理员

1.  在您的解决方案目录中，在文件中`.vs\config\applicationHost.config`更改行

    `<binding protocol="http" bindingInformation="*:44302:localhost" />`

    到

    `<binding protocol="http" bindingInformation=":44302:" />`

    （其中 44302 是您的端口）

2.  从管理员命令提示符：

    一世。启用非管理员绑定到端口

    `netsh http add urlacl url=http://*:44302/ user=Everyone`

    ii. 允许通过防火墙

    `netsh advfirewall firewall add rule name="IISExpress visualstudio app" protocol=tcp localport=44302 dir=in action=allow`

3.  从 VisualStudio 开始调试

* * *

## 回答 #3

> 赞同：22
> 
> 时间：2014-06-26T02:27:06.273

除了修改 iisexpress 配置文件外，有时您还需要运行如下命令。

**netsh http 添加 urlacl url=http://*:49419/ user=Everyone**

* * *

## 回答 #4

> 赞同：15
> 
> 时间：2016-03-09T12:47:45.653

**如何避免以管理员身份运行 Visual Studio**

使用[Garret](https://stackoverflow.com/a/24421480/200987)和[@shangkeyun 的答案](https://stackoverflow.com/a/24421480/200987)，您可以连接到正在运行的网站，而无需以管理员用户身份运行 Visual Studio：

1.  打开`%USERPROFILE%\My Documents\IISExpress\config\applicationhost.config`
2.  使用搜索您的网站`name=MySiteName`
3.  复制部分中的现有`<binding>`项目`<bindings>`。您现在应该有两行带有`binding`.
4.  删除 bindingInformation 中的“localhost”部分。
5.  它现在应该是这样的，假设端口是`12345`：

    ```
    <binding protocol="http" bindingInformation="*:12345:localhost" />
    <binding protocol="http" bindingInformation="*:12345:" /> 
    ```

6.  启用非管理员绑定到端口

    ```
    netsh http add urlacl url=http://*:12345/ user=Everyone 
    ```

编辑 2019：gregmac 添加了一个将 VS 实例列入白名单的步骤。我从来不需要这个，但无论如何都要列出它：

7.  `netsh advfirewall firewall add rule name="IISExpress visualstudio app" protocol=tcp localport=12345 dir=in action=allow`

* * *

## 回答 #5

> 赞同：10
> 
> 时间：2015-05-18T15:42:58.567

由于我无法在@Garret Fogerlie 的帖子中添加评论并回应评论者的问题（@Y.Ecarri 和@SamuelEdwinWard），我遵循 Garret 的建议，使用 Visual Studio 2013，在管理员模式下运行并更改`application.config`文件。

在启动调试并看到我收到相同的错误消息后，我返回`application.config`并看到已为我的站点创建了一个新条目，就像 Y.Ecarri 的问题一样。

所以我停止调试，**在 Visual Studio 中保持我的解决方案打开**，并再次编辑`application.config`文件以获取新条目。我也简单地完全删除了`*`歌曲`localhost`，所以我有以下新条目：

`<binding protocol="https" bindingInformation=":44300:" />`

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2017-04-11T18:44:52.003

你们中的一些人可能会花费大量时间来修改和测试您的 %USERPROFILE% 目录。如果您在**VS debug**上运行，请使用 $(solutionDir).vs\config\applicationhost.config

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2016-02-14T00:33:08.137

感谢 byteit：

转到 Documents/IISExpress/config 中的 applicationhost.config

找到您正在处理的特定站点的条目：

添加：

```
<binding protocol="http" bindingInformation="*:<your site port>:*" /> 
```

在现有的面前

```
 <binding protocol="http" bindingInformation="*:<your site port>:localhost" /> 
```

要在不使用 VS2013 的情况下实现解决方案，请在重新启动时为您创建一个新的网站 xml 条目。您将需要以管理员身份运行。

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2017-04-05T05:04:07.243

完成上述配置后，我不得不在管理模式下运行 Visual Studio。

[![在此处输入图像描述](../Images/db741eef4825c6973b273f4e7d4a34dd.png)](https://i.stack.imgur.com/muOKu.png)

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2014-12-17T18:48:58.773

这对我有用：

*   启动 IIS 管理器
*   添加一个指向项目文件夹的新虚拟目录（`C:\VSProjects`在我的情况下）
*   在 IIS 管理器中选择新的虚拟目录。从选项列表中选择`Directory Browsing`。右侧有一个`Enable`按钮。点击它。

现在我可以通过`mypcname\VSProjects\myProj\outputBinViewer`.

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2018-03-17T18:28:56.307

**在Visual Studio Code**中调试了一个非常相似的问题，我通过添加解决了它：

```
"env": {
      // ...
      "ASPNETCORE_URLS": "http://*:5000" // change to the port you are using
      // ...
}, 
```

..*启动.json*

显然，默认情况下它将http协议绑定到'localhost：5000'，因此它适用于*localhost*但不适用于*ip地址*- 既不是远程也不是本地。

如果您试图通过来自另一台计算机的请求来命中断点，请不要忘记检查您的防火墙设置（和/或防病毒）

希望这可以帮助

# java - 将 PrinterJob 对象拟合到 BufferedImage 的特定打印格式

> ID：14725456
> 
> 赞同：0
> 
> 时间：2013-02-06T09:21:56.723
> 
> 标签：java, eclipse, printing, graphics2d, printdialog

我使用 PrinterJob 对象来打印我的 Bufferedimage，我有一个 BufferedImage，我对其进行处理并将其发送到具有纸张格式等的打印机作业，但我无法使其适合我的卡片打印机。当我将它保存到我的硬盘并通过 Windows 打印管理器打印时，它在我的卡片打印机上打印得非常好，但是使用 PrinterJob 它变得太大并且不适合卡片

卡的大小是 86X54mm，我的缓冲图像的大小是 1300x816px 代码：

```
 PrinterJob printjob = PrinterJob.getPrinterJob();
    printjob.setJobName("CardPrint");

    Printable printable = new Printable() {

            public int print(Graphics pg, PageFormat pf, int pageNum) {

                    if (pageNum > 0) {
                            return Printable.NO_SUCH_PAGE;
                    }
                    JLayeredPane j1 = new JLayeredPane();
                    Dimension size = j1.getSize();

                    j1.print(bi.getGraphics());

                    Graphics2D g2 = (Graphics2D) pg;
                    g2.translate(pf.getImageableX(), pf.getImageableY());
                    g2.drawImage(bi, 0, 0, (int) pf.getWidth(), (int) pf.getHeight(), null);

                    return Printable.PAGE_EXISTS;
            }
    };

    Paper paper = new Paper();
    paper.setImageableArea(0, 0, 0, 0);
    paper.setSize(1.15, 0.72);

    PageFormat format = new PageFormat();
    format.setPaper(paper);

    printjob.setPrintable(printable, format);

    try {
            printjob.printDialog();
            printjob.print();

    } catch (Exception eee){
            System.out.println("NO PAGE FOUND."+eee.toString());

    } 
```

我发现 paper.setSize(1.15, 0.7); 以英寸为单位 ( [http://docs.oracle.com/javase/1.5.0/docs/api/java/awt/print/Paper.html](http://docs.oracle.com/javase/1.5.0/docs/api/java/awt/print/Paper.html) ) paper.setImageableArea(0, 0, 0, 0); 我不知道这个 setImageableArea。

有没有人知道当前的尺寸，我计算错误了吗？谢谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-06T10:11:06.080

第一次打印，“打印很有趣” - 记住，在凌晨 2 点重复这个...

基本上，您需要首先将纸张尺寸从 CM 转换为像素。Java 使用 72dpi 作为其 API。

所以你 8.6x5.4cm 的页面大小计算为 153.0708659856 x 243.7795273104 像素

然后您需要创建一个`Paper`满足这些页面要求的新...

这一切都需要被包装回 a`PageFormat`并交回给`PrintJob`.

在 中`Printable`，您需要缩放图像以“适合”可打印区域。图像缩放很有趣...

所以，对于我的测试，我有一个 800x1159 的图像，它被缩小到 166x241

有关图像缩放的更好讨论，请查看[此问题](https://stackoverflow.com/questions/11959758/java-maintaining-aspect-ratio-of-jpanel-background-image/11959928#11959928)

```
public class PrintTest02 {

    private static BufferedImage image;

    public static void main(String[] args) {
        try {
            image = ImageIO.read(new File("/path/to/image.png"));

            System.out.println(image.getWidth() + "x" + image.getHeight());

            PrinterJob pj = PrinterJob.getPrinterJob();
            if (pj.printDialog()) {
                PageFormat pf = pj.defaultPage();
                Paper paper = pf.getPaper();
//                        86X54mm
                double width = fromCMToPPI(8.6);
                double height = fromCMToPPI(5.4);
                paper.setSize(width, height);
                paper.setImageableArea(
                                fromCMToPPI(0.1),
                                fromCMToPPI(0.1),
                                width - fromCMToPPI(0.1),
                                height - fromCMToPPI(0.1));
                pf.setOrientation(PageFormat.PORTRAIT);
                pf.setPaper(paper);
                PageFormat validatePage = pj.validatePage(pf);
                System.out.println("Valid- " + dump(validatePage));
                pj.setPrintable(new MyPrintable(), validatePage);
                try {
                    pj.print();
                } catch (PrinterException ex) {
                    ex.printStackTrace();
                }
            }
        } catch (IOException exp) {
            exp.printStackTrace();
        }
    }

    protected static double fromPPItoCM(double dpi) {
        return dpi / 72 / 0.393700787;
    }

    protected static double fromCMToPPI(double cm) {
        return toPPI(cm * 0.393700787);
    }

    protected static double toPPI(double inch) {
        return inch * 72d;
    }

    protected static String dump(Paper paper) {
        StringBuilder sb = new StringBuilder(64);
        sb.append(paper.getWidth()).append("x").append(paper.getHeight())
                        .append("/").append(paper.getImageableX()).append("x").
                        append(paper.getImageableY()).append(" - ").append(paper
                        .getImageableWidth()).append("x").append(paper.getImageableHeight());
        return sb.toString();
    }

    protected static String dump(PageFormat pf) {
        Paper paper = pf.getPaper();
        return dump(paper);
    }

    public static class MyPrintable implements Printable {

        @Override
        public int print(Graphics graphics, PageFormat pageFormat,
                                         int pageIndex) throws PrinterException {
            System.out.println(pageIndex);
            int result = NO_SUCH_PAGE;
            if (pageIndex < 1) {
                Graphics2D g2d = (Graphics2D) graphics;
                System.out.println("[Print] " + dump(pageFormat));
                double width = pageFormat.getImageableWidth();
                double height = pageFormat.getImageableHeight();

                System.out.println("Print Size = " + fromPPItoCM(width) + "x" + fromPPItoCM(height));
                g2d.translate((int) pageFormat.getImageableX(),
                                (int) pageFormat.getImageableY());
                Image scaled = null;
                if (width > height) {
                    scaled = image.getScaledInstance((int)Math.round(width), -1, Image.SCALE_SMOOTH);
                } else {
                    scaled = image.getScaledInstance(-1, (int)Math.round(height), Image.SCALE_SMOOTH);
                }
                g2d.drawImage(scaled, 0, 0, null);
                result = PAGE_EXISTS;
            }
            return result;
        }

    }

} 
```

# python - Django：无法导入名称 WebApi

> ID：14725467
> 
> 赞同：0
> 
> 时间：2013-02-06T09:22:37.417
> 
> 标签：python, django

我正在尝试在我的 Django 应用程序中导入 shodan api 库：

```
from shodan import WebAPI 
```

该库是使用 easy_install 安装的，如果我从 python 提示符导入并使用它，它工作正常。

有什么帮助吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T09:37:41.577

例如在 settings.py 中：

```
INSTALLED_APPS = [
'django.contrib.auth',
'django.contrib.contenttypes',
'django.contrib.humanize',
'django.contrib.sessions',
'django.contrib.sites',
'django.contrib.markup',
'django.contrib.messages',
'django.contrib.staticfiles',
'django.contrib.admin',
'django.contrib.admindocs',

'shodan',
] 
```

# ms-access - 过滤数据库中的值

> ID：14725470
> 
> 赞同：1
> 
> 时间：2013-02-06T09:22:47.903
> 
> 标签：ms-access, ms-access-2010

我正在寻找某人来解释如何按列过滤 ms-access 数据库并仅显示值高于文本框中给定值的单元格？

示例：如果文本框中的给定值为 3：

```
Column1
1
2
3
4
5 
```

过滤...

```
Column1
4
5 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T10:44:21.270

您可以在查询中引用表单：

```
SELECT Column1
FROM ATable
WHERE Column1 > Forms!AForm!txtTextbox 
```

您还可以对表单应用过滤器，对于当前表单，您可能会说：

```
Private Sub txtTextbox_AfterUpdate()
    Me.Filter = "Column1>" & Me.txtTextbox
    Me.FilterOn = True
End Sub 
```

# javascript - 我应该使用哪些 HTML5 Canvas 工具来构建纸牌游戏？

> ID：14725471
> 
> 赞同：7
> 
> 时间：2013-02-06T09:22:48.873
> 
> 标签：javascript, node.js, html5-canvas, game-engine

我正在寻找使用 HTML5 Canvas 和 JavaScript 创建纸牌游戏，我想知道哪些 Canvas 工具可以让我的生活更轻松。

我找到[了 CreateJS](http://www.createjs.com)并做了一些笔记：

*   用于简化与 HTML5/CSS/JS 的复杂交互的库/工具套件
    *   [EaselJS](http://www.createjs.com/#!/EaselJS) - HTML5 Canvas 之上的抽象层
    *   [SoundJS](http://www.createjs.com/#!/SoundJS) - HTML5 音频的抽象层
    *   [TweenJS](http://www.createjs.com/#!/TweenJS) - 动画 HTML5 和 CSS 属性的库（很酷的缓动演示）
    *   [PreloadJS](http://www.createjs.com/#!/PreloadJS) - 用于预加载资产（JS、图像、声音、数据等）的库
*   [文档](http://www.createjs.com/Docs/EaselJS/)似乎很详尽
*   [大量的演示](http://www.createjs.com/#demos)；找不到入门指南/教程
*   免费和[开源](https://github.com/CreateJS/)（由 Adob​​e 和 Microsoft 赞助）

还有哪些其他工具/引擎可用于为浏览器制作纸牌游戏？

在 HTML5 Canvas 之外对我有帮助的工具/框架的加分项。我在后端使用 Node.js，并计划使用 Socket.IO/Express/MongoDB，因为这就是我所知道的。

注意：我在[这个 Google Doc](http://www.createjs.com/Docs/EaselJS/)中收集了一些关于游戏引擎/工具的笔记（包括上面的 CreateJS 笔记） 。随时将您的观点添加到此文档中。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T10:06:18.863

也许您想查看此[列表](https://gist.github.com/bebraw/768272)，但似乎您缺少一些基于 sprite 的画布库：

*   [游戏JS](http://gamejs.org)
*   [涂鸦js](http://lamberta.org/doodle-js)

我也可以推荐[下颚](https://github.com/ippa/jaws)，因为我在在线赌场游戏（宾果游戏）中使用过，效果很好。他们描述为：

> 简单而强大的游戏状态系统，可在菜单、游戏、高分列表和设置之间切换

# sql - sql制定正确的查询

> ID：14725472
> 
> 赞同：0
> 
> 时间：2013-02-06T09:22:53.813
> 
> 标签：sql

我有一个复杂的数据库结构，我正在尝试为其制定一个 sql 查询。首先是表的结构：

```
Table ANIMALS:
+---------+--------+
|    id   |  name  |
+---------+--------+
|    1    | Tiger  |
|    2    | Lion   |
|    3    | Cat    |
+---------+--------+

Table ANIMAL_ATTRIBUTES:
+---------------+-----------+
| attribute_id  | animal_id |
+---------------+-----------+
|            10 |         1 |
|            11 |         3 |
|            12 |         3 |
+---------------+-----------+

Table ATTRIBUTE_TEXT:
+--------------+-- ----------+
| attribute_id |    value    |
+--------------+-------------+
|           10 |  black      |
|           11 |  big        |
|           12 |  tail       |
+--------------+-------------+

Table INFORMATION:
+---------------+-----------+
| attribute_id  | filter_id |
+---------------+-----------+
| 10            |    20     |
| 11            |    21     |
| 12            |    22     |
+---------------+-----------+

Table FILTER:
+-----------+-----------------+
| filter_id | name            |
+-----------+-----------------+
|    19     | First           |
|    20     | Second          |
|    21     | Third           |
+-----------+-----------------+ 
```

需要检查 ATTRIBUTE_TEXT.value 是否有相应的 FILTER.id，并且应给出具有此值的 ANIMAL 作为结果（其他字段无关紧要）。到目前为止，我得到了这个：

```
select * 
from FILTER as f join INFORMATION as i ON (f.filter_id = i.filter_id) 
                 join ATTRIBUTE_TEXT as at ON (i.attribute_id = at.attribute_id) 
                 join ANIMAL_ATTRIBUTES as aa ON (at.attribute_id = aa.attribute_id)
                 join ANIMALS as a ON (aa.animal_id = a.id) 
where (f.filter_id = 20 and at.value like '%black%'); 
```

这应该给我作为animal.name的'TIGER'。

问题是我有更多 Filter.id 要检查相应的 ATTRIBUT_TEXT.value：例如

```
Filter 1:
Filter.id = 20 and ATTRIBUTE_TEXT.value = 'black'
and
Filter 2:
Filter.id = 21 and ATTRIBUTE_TEXT.value = 'big' 
```

如果两者都正确，则仅应返回结果“CAT”

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T09:32:53.513

您需要使用`OR`适当的括号：

```
select * 
from FILTER as f join INFORMATION as i ON (f.filter_id = i.filter_id) 
                 join ATTRIBUTE_TEXT as at ON (i.attribute_id = at.attribute_id) 
                 join ANIMAL_ATTRIBUTES as aa ON (at.attribute_id = aa.attribute_id)
                 join ANIMALS as a ON (aa.animal_id = a.id) 
where 
(f.filter_id = 20 and at.value like '%black%')
OR
(f.filter_id = 21 and at.value like '%big%') 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T09:50:12.563

如果您希望返回 'CAT' 并且它必须是 'big' 和 'black' 两者，则应添加额外的动物属性 ( `INSERT INTO ANIMAL_ATTRIBUTES SELECT 10,3`) 并使用如下查询：

```
select aa.animal_id
from FILTER as f join INFORMATION as i ON (f.filter_id = i.filter_id) 
                 join ATTRIBUTE_TEXT as at ON (i.attribute_id = at.attribute_id) 
                 join ANIMAL_ATTRIBUTES as aa ON (at.attribute_id = aa.attribute_id)
                 join ANIMALS as a ON (aa.animal_id = a.id)
where 
(f.filter_id = 20 and at.value like '%black%')
OR
(f.filter_id = 21 and at.value like '%big%')
GROUP BY aa.animal_id
HAVING count(aa.attribute_id)=2 
```

# media-player - JavaFX.MediaPlayer 通过 HTTPS？

> ID：14725473
> 
> 赞同：8
> 
> 时间：2013-02-06T09:22:59.117
> 
> 标签：media-player, javafx-2, javafx

我尝试使用 MediaPlayer 播放定义了 HTTPS url 的资源，它说协议不支持。

在 API 参考中，他们声明 FILE/HTTP/JAR 是受支持的协议（未提及 HTTPS）。

是否可以通过 HTTPS 以某种方式使用 url？在我看来，这似乎是一个很大的缺点......

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2018-07-06T13:44:58.573

这已针对 Java 9 进行了修复，后来又向后移植到了 Java 8。因此，Java 8 更新 91 及更高版本应该可以毫无问题地使用 HTTPS URL。

如果您使用的是不支持它的旧版 Java，那么不幸的是，您唯一的选择是通过 HTTPS 将文件复制到本地临时文件，然后播放。

# c# - 在 IIS 之外的单独进程中启动任务

> ID：14725475
> 
> 赞同：0
> 
> 时间：2013-02-06T09:23:03.703
> 
> 标签：c#, asp.net, multithreading, parallel-processing

在这个答案 [中，我应该如何在 ASP.NET 4 中执行长时间运行的任务？](https://stackoverflow.com/questions/5553001/how-should-i-perform-a-long-running-task-in-asp-net-4/5553068#5553068)他们建议在 IIS 之外的单独进程中启动任务。这可能吗？

那么在我的 asp.net 应用程序中，我可以将某些任务传递给不同的进程吗？不是线程而是进程。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T09:32:56.283

绝对有可能。

想想 Windows 服务。想想 MSMQ。想想 CreateProcess(...)。

# git - 推送失败后重新推送提交

> ID：14725476
> 
> 赞同：4
> 
> 时间：2013-02-06T09:23:04.993
> 
> 标签：git, push

昨天我在推送提交时遇到了问题，我的 Git 安装一定已经损坏了。现在我有一个提交，我的 Git 客户端认为是推送的，但实际上不是。

如何重新推送此提交？

我的 git 日志看起来像这样：

*   最新提交（也存在于远程）
*   一些提交（也存在于远程）
*   *大提交（远程不存在）*
*   其他提交（也存在于远程）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T10:21:19.367

我宁愿重新开始：

*   远程仓库的新本地克隆。
*   将远程添加到 repo 的第一个本地克隆，并将提交提取到新的本地 repo
*   挑选丢失的提交，将其应用到新的存储库中，然后推回远程存储库。

* * *

[OP](https://stackoverflow.com/users/138023/znarkus) znarkus[提到](https://stackoverflow.com/questions/14725476/re-push-commit-after-failed-push/14726587#comment20613676_14726587)：

> 原来是我的 Git 托管的问题

# php - 位于 webroot 中的文件上传插件会忽略对目标文件夹的动态更改

> ID：14725481
> 
> 赞同：0
> 
> 时间：2013-02-06T09:23:11.793
> 
> 标签：php, session, cakephp, uploadify

**是）我有的：**

我正在使用[uploadify](http://www.uploadify.com/documentation/)为我编写的 Intranet 应用程序上传文件。

我需要将文件上传到属于一个用户的目录（动态创建目录）。

**我明显不正确的解决方案:)**

任何用户登录后，我都会为他创建一个文件夹（标题为 user_id）。

**现在 uploadify.php 看起来像这样：**

```
 session_name("test_tool_cookie");
    session_start();
    $targetFolder = '/test_tool/app/webroot/uploadify/' . $_SESSION['Auth']['User']['user_id']; //Relative to the root
    //the 3 lines above are my only change to the script
//$targetFolder = '/test_tool/app/webroot/uploadify/tmpFile'; //this was here before my changes

    if (!empty($_FILES)) {
        $tempFile = $_FILES['Filedata']['tmp_name'];
        $targetPath = $_SERVER['DOCUMENT_ROOT'] . $targetFolder;
        $targetFile = rtrim($targetPath,'/') . '/' . $_FILES['Filedata']['name'];

        // Validate the file type
        $fileTypes = array('html' , 'docx', 'pdf', 'xls', 'xlsx', 'txt'); // File extensions
        $fileParts = pathinfo($_FILES['Filedata']['name']);

        if (in_array($fileParts['extension'],$fileTypes)) {
            move_uploaded_file($tempFile,$targetFile);
            echo '1';
        } else {
            echo 'Invalid file type.';
        }
    } 
```

**问题**

*   上面的脚本不会将文件上传到文件夹中（选中并且不会将文件上传到其他任何地方）。

*   如果我将 $targetFile 更改为静态值，它可以正常工作。

*   会话值是正确的（但被忽略）

**还有什么可以回答问题**

如果您建议一个易于与 cake php 集成并且可定制的良好多上传插件（带有简短描述），我会将您的问题标记为答案，因此数据库中的每个对象都可以拥有自己的文件夹。

请考虑您的答案，此问题的任何解决方案都会有很大帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T20:14:06.687

您是否尝试像[这里](http://www.uploadify.com/documentation/uploadify/using-sessions-with-uploadify/)的示例一样发送带有表单数据的会话名称？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-07T13:43:38.523

您应该检查`$_SERVER['DOCUMENT_ROOT']`返回的内容。

因为如果它返回，可以说`/home/your_username/public_html/test_tool/app/webroot`，我相信会发生什么，并且您正在添加`/test_tool/app/webroot/uploadify/`，您将永远无法上传文件。

从我的角度来看，您应该执行以下操作并保留其他所有内容：

```
// As long as $_SESSION['Auth']['User']['user_id'] has a value, it should work. If not, statically place a number there like /uploadify/1 to see if it works
$targetFolder = '/uploadify/' . $_SESSION['Auth']['User']['user_id']; //Relative to the root 
```

# highcharts - HighChart Tooltip 位置可以更改吗？

> ID：14725482
> 
> 赞同：2
> 
> 时间：2013-02-06T09:23:13.227
> 
> 标签：highcharts

我是 highcharts 的新手。默认情况下，Highchart 在图表本身内显示工具提示。这是否可以在图表外部显示工具提示，并与它用于显示内部的位置相同。有帮助吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-06T09:32:45.853

您可以定义自己的 div，然后使用工具提示格式化程序在其中显示信息。

示例：http: [//jsfiddle.net/Lqq9D/](http://jsfiddle.net/Lqq9D/)

```
tooltip: {
        formatter:function(){
            $('#tooltip').html('Point Y: '+this.y);
        }
    }, 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-06T09:29:38.080

是的，您可以使用 Tooltip.positioner 更改它，这里是 API 的链接：http: [//api.highcharts.com/highcharts#tooltip](http://api.highcharts.com/highcharts#tooltip)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-06T09:44:14.327

[同时默认工具提示和自定义工具提示](http://jsfiddle.net/VVFyf/)

上面是一个示例，您可以同时显示默认工具提示和您自己的自定义工具提示。归功于@Ricardo Lohmann，他在以下帖子中展示了如何创建自定义工具提示：

> [Highchart - 图例的工具提示](https://stackoverflow.com/questions/10225896/highchart-tolltip-for-legends)

```
// first of all we've to build a group to put the elements
this.SVGElements = this.chartVar.renderer.g().attr({'zIndex': 11}).add();

// build tooltip text
var textContainer = this.chartVar.renderer.text(text, coord[0], coord[1])
                .attr({
                    'zIndex': 10
                })
                .add(this.SVGElements);

// get text 'box'
var box = textContainer.getBBox();

// build  tooltip square according to the text location, then place the container behind the text
this.chartVar.renderer.rect(box.x - 5, box.y - 5, box.width + 10, box.height + 10, 5)
                .attr({
                    'stroke-width': 2,            // border width
                    'stroke': '#a8a8a8',        // border color
                    'zIndex': 9,
                    'fill': 'white',            // background color
                    'fill-opacity': 0.85,        // background opacity
                    'isShadow': true
                })
                .add(this.SVGElements); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-09-03T12:23:04.440

```
tooltip: {
              positioner: function () {
                    return { x: 45, y: 60 };
                }
            } 
```

用这个

# linux - 默认 tmp 位置

> ID：14725493
> 
> 赞同：0
> 
> 时间：2013-02-06T09:23:53.967
> 
> 标签：linux, disk-partitioning

如何更改 Ubuntu 中的默认 tmp 位置？

我正在为我的应用程序使用 Ubuntu。我已经看到许多 API 将它们的 tmp 文件存储在 /tmp 文件夹中。

在我的 Ubuntu 中，分配给 root 的总空间几乎没有 4 GB。这就是为什么我必须不断清理 /tmp 文件夹以避免磁盘空间错误。

我可以将 /tmp 更改为其他分区并为其分配更多空间吗？

* * *

更新：

我考虑过调整分区大小，但我不能冒数据丢失的风险。此外，我不能冒险影响 /tmp 文件夹中可能有一些数据的其他应用程序。

截至目前，我使用 shell 脚本每 10 分钟清理一次。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-06T09:55:05.647

许多应用程序`TMPDIR`在默认使用`/tmp`. 您的问题（可能还有其他问题）的一个简单的*部分*解决方案可能是拥有一个每个用户的临时目录，例如`/home/$USER/tmp`通过在每个用户的配置文件中设置`TMPDIR`变量。

这会将大多数临时文件移动到`/home`，并具有额外的优势，即用户将不再能够干扰其他用户的临时文件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T09:34:54.963

一般来说，这是可能的，但它可能非常危险。确保您的数据已备份。有很多工具可以做到这一点。你需要一些分区管理器`fdisk`（它是一个命令行），或者图形`GParted`

一般建议：对于您的根`\`，我推荐一些 20GB（标准桌面应用程序），因为`\tmp`这取决于您将使用哪种应用程序（资源要求高，或者只是开放式办公室）大约 1-2GB

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-06T09:35:12.770

我认为这是不可能的（至少以一种简单的方式）。即使是这样，我也不建议这样做，因为许多程序/脚本使用硬编码的*“/tmp”*，因此可能会出现各种错误。但是，您可以尝试将*/tmp*链接到其他目录，它可能会成功（这取决于您自己的实验，我自己没有尝试过）。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-06T09:35:40.170

您可以更改`/tmp`为符号链接或将其绑定安装在 fstab 中的某个位置。

# quartz.net - 使用 Quartz.net 在集群中的每台机器上运行 IStateful 作业

> ID：14725497
> 
> 赞同：0
> 
> 时间：2013-02-06T09:24:00.633
> 
> 标签：quartz.net

我正在运行一个石英.net 服务集群，所有读取标准 AdoJobStore。我正在寻找的行为在标题中进行了解释，我想在集群中的每台机器上运行有状态的作业。目前我相信一个有状态的工作将在整个集群中一次运行一个。我怀疑quartz.net 在集群功能中支持每台机器的有状态作业，因为我已经看了很长时间而且很努力，但是还有其他方法可以在quartz.net 中复制这种行为吗？

另一种方法是设置每个作业类型的线程数，而不是当前为每台机器指定线程数的情况，这基本上会给我我正在寻找的行为，那就是能够运行特定的作业每台机器一次输入一个。

有什么建议么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T18:05:59.273

如果工作的工作开始时间并不重要，你可以试试这些

您可以根据集群中的机器名称为触发器和作业使用正确的组名称（用于识别），并查看触发器的组名称是否对应于它正在触发的机器名称（附加触发器侦听器并在 VetoJobExecution 中进行相应检查并返回 false如果作业不应在该机器上运行，则返回 true）。

如果同一台机器一次又一次地选择停止的触发器，那么您可以在调度程序上尝试 Standby 和 StartDelayed 以避免这种情况。

这只是一个建议，我还没有验证它。

# javascript - 将字符串转换为表达式

> ID：14725498
> 
> 赞同：9
> 
> 时间：2013-02-06T09:24:01.983
> 
> 标签：javascript

有没有办法将字符串转换为表达式？

我的字符串：`var1 == null && var2 != 5`

我想用这个字符串作为 , 的`if()`条件`if(var1 == null && var2 != 5)`

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2013-02-06T09:28:43.560

使用`eval`. 这会做

```
if (eval(" var1 == null && var2 != 5"))
{
} 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-02-06T09:26:58.250

一种选择是创建并调用`new Function`：

```
var strExpr = "var1 == null && var2 != 5";
if (new Function("return " + strExpr)()) {
    // ...
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-06T09:27:44.227

要查看 eval 的工作原理，只需在控制台中编写：

```
console.log(eval("1==1"));
console.log(eval("1==2")); 
```

这将输出真假

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-06T09:28:15.493

1.) Java 和 Javascript 没有太多共同点，但名称和一些语法继承自 C。

2.）无论如何，你通常应该避免你正在尝试做的事情。在大多数语言和情况下，由于安全问题，不应使用这种做法。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-06T09:57:26.200

String() 函数将对象的值转换为字符串，可以做 eval(String)

```
<html>
<head>
<script>
function myFunction(){
    var var1 = new String("999 888");
    var var2 = "5";
    var var3;
    var var4 = 8;
    document.write(String(var2)+ "<br>");
    document.write(String(var4)+ "<br>");

    //5
    //8

    if(var3 === undefined && var2 != 6){
            alert('var1='+var1+' var2='+var2);
    }
    var ev=eval(String(var3 === undefined && var2 != 6));
    alert(ev);

    var ev1=eval("var3 === undefined && var2 != 6");
    alert(ev1);

}
</script>
</head>
<body>
<button onclick="myFunction()">Try it</button>
</body>
</html> 
```

试试看，祝你好运！

# winforms - 我们如何验证其中无线电是否选中的几个组框？

> ID：14725509
> 
> 赞同：0
> 
> 时间：2013-02-06T09:24:30.077
> 
> 标签：winforms, c#-4.0

我在 win 表单上有几个组框，每个组框至少有一个单选按钮。我试图从给定的 5 个组框中执行此操作，用户从基础组中选择一个单选按钮。如果用户想要更改选择，则应取消先前的选择。

我正在使用以下代码检查单选按钮是否被选中？

```
 var allRadios = AccountgroupBox.Controls.OfType<RadioButton>();
            bool anyChecked = allRadios.Any(rb => rb.Checked);
            if (anyChecked == false)
            {
                MessageBox.Show("Please select any from groupbox . . .  ..  .. ");
                result = false;
            } 
```

如果我使用上面的代码检查是否选择了单选按钮，则会出现另一个问题。如果我在第一个组框单选按钮上进行选择，则其他人将通过错误，因为我必须给出代码“Accountgroupbox”中给出的组框名称。

![winform上的分组框](../Images/506a0acb06306aa9e10d4e849b496338.png)

请给一些建议......

# java - Spring ResourceBundleMessageSource 没有采用默认的 messages.properties 文件

> ID：14725510
> 
> 赞同：1
> 
> 时间：2013-02-06T09:24:36.553
> 
> 标签：java, spring, internationalization

我正在使用 Spring ResourceBundleMessageSource 进行国际化。在我`fmt:message`用于表单字段标签的视图表单中。在验证器中，当字段值不正确时，我必须拒绝带有相应表单字段标签和错误消息的字段。例如`<fmt:message key"abc" /> <form:input name="xyz">`

错误消息将是：“abc 的值不正确”。

在验证器中，我不得不说 -

```
`errors.rejectValue("xyz", "error.message", new Object[] {getMessage("message.abc")})` 
```

弹簧配置：

```
<bean id="messageSource" class="org.springframework.context.support.ResourceBundleMessageSource"> 
 <property name="basename" value="MySource" /> 
</bean> 
```

在`getMessage`我`MessageSourceAccesor`用来从资源文件中读取消息。

我的资源文件名是`MySource.properties`，我的资源文件夹中没有其他特定于语言的文件，我也可以在 jsp 视图中从此文件中读取标签，但是`NoSuchMessage`当我尝试访问时出现异常（对于语言环境中的 abc）它来自验证器。

简短的问题是如何指示 spring 资源在未提供语言资源文件时使用默认属性文件（不带后缀的文件名）来搜索消息？

任何指针都将有助于继续前进。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-11-03T14:43:50.013

我遇到了同样的问题。在检查 spring mvc 的文档后，我的版本是 4.1.1，**ResourceBundleMessageSource**将“ ***basenames*** ”作为属性而不是“ ***basename*** ”

```
private String[] basenames = new String[0]; 
```

更新 Spring Web 应用程序上下文中配置的 ResourceBundleMessageSource bean 的属性名称，使其工作：D

```
<property name="basenames" value="messages"></property> 
```

我还不能发布我的截图，因为我需要 10 分，而且我是这里的新手 :D

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T10:40:42.337

我假设您正在使用 Spring MVC ，

您是否在应用程序上下文文件中配置了 Spring 资源包

**例子**

```
<beans:bean id="messageSource" class="org.springframework.context.support.ReloadableResourceBundleMessageSource">       
        <beans:property name="basename" value="classpath:messages" />
        <beans:property name="defaultEncoding" value="UTF-8" />
</beans:bean> 
```

[此链接使用带有 ResourceBundleMessageSource 示例](http://www.mkyong.com/spring/spring-resource-bundle-with-resourcebundlemessagesource-example/)的演示 Spring 资源包详细解释它

如果有帮助，请给帖子评分。

# actionscript-3 - 在标头中发送 cookie 以进行身份 验证

> ID：14725511
> 
> 赞同：0
> 
> 时间：2013-02-06T09:24:40.897
> 
> 标签：actionscript-3, session-cookies, siteminder

SWF 应用程序嵌入在使用 siteminder 进行 SSO 的网站中。用户单击打开包含 SWF 文件的 html 文件（安全）的链接。

在 SWF 文件中，有一些链接可将用户重定向到受站点管理员保护的另一个站点（同一域）。

当 SWF 文件被访问时，用户通过身份验证并登录。据我了解，这是通过访问安全站点时需要在标头中发送的 cookie 完成的。

问题：如果我单击 SWF 应用程序中的链接，是否可以“捕获”AS3 中的有效 cookie 并将其传递回网站？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T17:40:19.703

浏览器将自动在对服务器的所有后续请求中包含 cookie（只要为相关域和子域定义了 cookie。）

只要您只是将用户重定向到另一个网页，您就不必担心会话 cookie，原因与在 HTML 中添加简单的锚标记链接时不必担心 cookie 的原因相同。

# html - 使用视频控件在 html 中添加 flv/swf 视频

> ID：14725512
> 
> 赞同：0
> 
> 时间：2013-02-06T09:24:42.247
> 
> 标签：html

如何使用视频控件在 html 中添加 flv/swf 视频。任何人 ？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T09:54:00.287

也许你可能会这样工作

```
 <script src="/Portals/0/includes/swfobject.js" type="text/javascript"></script>
 <object width="400" height="350" id="FLVPlayer" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000">
 <param name="movie" value="http://www.RemoteServer.com/videos/FLVPlayer_Progressive.swf" />
 <param name="quality" value="high" />
 <param name="wmode" value="opaque" />
 <param name="scale" value="noscale" />
 <param name="salign" value="lt" />
 <param name="FlashVars" value="&amp;MM_ComponentVersion=1&amp;skinName=http://www.RemoteServer.com/videos/Corona_Skin_2&amp;streamName=http://www.RemoteServer.com/videos/OurVideo&amp;autoPlay=false&amp;autoRewind=false" />
 <param name="swfversion" value="8,0,0,0" />
 <!-- This param tag prompts users with Flash Player 6.0 r65 and higher to download the latest version of Flash Player. Delete it if you don’t want users to see the prompt. -->
 <param name="expressinstall" value="http://www.RemoteServer.com/videos/expressInstall.swf" />
  <!-- Next object tag is for non-IE browsers. So hide it from IE using IECC. -->
  <!--[if !IE]>-->
   <object width="400" height="350" type="application/x-shockwave-flash" data="http://www.RemoteServer.com/videos/FLVPlayer_Progressive.swf">
<!--<![endif]-->
<param name="quality" value="high" />
<param name="wmode" value="opaque" />
<param name="scale" value="noscale" />
<param name="salign" value="lt" />
<param name="FlashVars" value="&amp;MM_ComponentVersion=1&amp;skinName=http://www.RemoteServer.com/videos/Corona_Skin_2&amp;streamName=http://www.RemoteServer.com/videos/OurVideo&amp;autoPlay=false&amp;autoRewind=false" />
<param name="swfversion" value="8,0,0,0" />
<param name="expressinstall" value="http://www.RemoteServer.com/videos/expressInstall.swf" />
<!-- The browser displays the following alternative content for users with Flash Player 6.0 and older. -->
<div>
  <h4>Content on this page requires a newer version of Adobe Flash Player.</h4>
  <p><a href="http://www.adobe.com/go/getflashplayer"><img alt="Get Adobe Flash player" src="http://www.adobe.com/images/shared/download_buttons/get_flash_player.gif" /></a></p>
</div>
  <!--[if !IE]>-->
</object>
   <!--<![endif]-->
  </object>
 <script type="text/javascript">
<!--
  swfobject.registerObject("FLVPlayer");
  //-->
  </script> 
```

参考[1](http://www.adammer.com/blog/2009/07/how-to-add-flash-video-flv-with-controller-to-the-texthtml-module-in-dnn/) [2](http://www.templatemonster.com/help/how-to-embed-flv-video-into-html-page.html) [3](http://www.gromkov.com/faq/conversion/add_flash_video_to_website.html) [4](http://www.ehow.com/how_6881535_embed-flv-video-html.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T09:27:27.180

您需要一个播放器，那里有一些免费的，或者您可以编写自己的 Flash 播放器。

# c# - 文件流和 Windows 用户权限

> ID：14725520
> 
> 赞同：1
> 
> 时间：2013-02-06T09:25:01.757
> 
> 标签：c#, windows, file-permissions

我通过写入文件流来创建 .jpg 文件：

```
 using (FileStream fs = new FileStream(FileName, FileMode.CreateNew, FileAccess.Write))
                {
                    fs.Write(image, 0, image.Length);
                } 
```

我遇到的问题是，在某些情况下，文件是使用错误的访问权限创建的，更确切地说，它似乎没有任何所有者。“无法显示当前所有者。” 在高级安全设置下。唯一应该不同的是内容本身。我究竟做错了什么？使用 FileStream 时访问权限设置在哪里？

这是整个代码

```
 public void SaveImage(string path)
    {
        try
        {
            //Get the files data
            List<byte[]> files = GetFiles();

            if (files.Count == 0)
                throw new Exception("No data");

            //Calculate the path name
            string FileDirectory = Path.GetDirectoryName(path);
            if (FileDirectory.Length > 0)
                FileDirectory += "\\";

            string FileNameBase = Path.GetFileNameWithoutExtension(path);
            string FileExtension = Path.GetExtension(path);
            string FinalFileName = "";

            if (files.Count == 1)
            {
                FinalFileName = FileDirectory + FileNameBase + FileExtension;
                while (File.Exists(FinalFileName))
                {
                    FileNameBase = FileNameBase + DateTime.Now.ToString("yyyyMMddHHmmss");
                    FinalFileName = FileDirectory + FileNameBase + FileExtension;
                }
            }
            else
            {
                FinalFileName = FileDirectory + FileNameBase + "(1)" + FileExtension;
                while (File.Exists(FinalFileName))
                {
                    FileNameBase = FileNameBase + DateTime.Now.ToString("yyyyMMddHHmmss");
                    FinalFileName = FileDirectory + FileNameBase + "(1)" + FileExtension;
                }
            }

            for (int i = 0; i < files.Count; i++)
            {
                byte[] image = files[i];
                if (files.Count > 1)
                    FinalFileName = FileDirectory + FileNameBase + "(" + (i + 1).ToString() + ")" + FileExtension;
                else
                    FinalFileName = FileDirectory + FileNameBase + FileExtension;

                if (image.Length == 0)
                    throw new Exception("No data");

                //Store the image in the specified path
                using (FileStream fs = new FileStream(FinalFileName, FileMode.CreateNew, FileAccess.Write))
                {
                    fs.Write(image, 0, image.Length);
                }
            }
        }
        catch (FaultException<string> ex)
        {
            throw new SdkException(ex.Message, ex.Code, ex.Detail);
        }
        catch (FaultException ex)
        {
            throw new SdkException(ex.Message, ex.Code, "");
        }

    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T10:34:47.373

当文件没有创建好方法时，您可能会遇到异常？在这里您可以找到有关文件系统权限的更多信息：http: [//msdn.microsoft.com/en-us/library/system.security.accesscontrol.filesystemrights.aspx](http://msdn.microsoft.com/en-us/library/system.security.accesscontrol.filesystemrights.aspx)

# java - 用于存储 Clojure（或 JVM）应用程序使用的文件的常规位置

> ID：14725521
> 
> 赞同：3
> 
> 时间：2013-02-06T09:25:02.920
> 
> 标签：java, file, clojure, jvm, leiningen

我有一个用 Clojure 编写的应用程序。该应用程序正在帮助编写其他应用程序（例如，作为 的插件`leiningen`）。为此，它需要一个地方来编写一些文件，这些文件或多或少在内部使用，并且实际上不必扔在用户面前（尽管不需要对她隐藏它们）。

我一直在使用[`clojure.java.io/resource`](http://richhickey.github.com/clojure/clojure.java.io-api.html#clojure.java.io/resource)类似的东西，但似乎它只允许访问与应用程序捆绑在一起的资源，而不是创建新资源或修改现有资源。

我正在考虑只使用类似`~/.myapp/`的东西，但我怀疑`Clojure`, or `Java`, or`Leiningen`对此有一些约定，使用API​​​​和所有东西，可以为我节省一些麻烦。但是，由于我是这方面的新手，我不知道在哪里挖掘。

正如我所说，它是一个插件，`leiningen`但我不能真正使用`%project/out/`文件夹或类似的东西，因为我希望它能够在没有项目的情况下运行。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T09:55:24.003

我认为`~/.lein`您可以使用下面的子目录，可能类似于`~/.lein/plugin-name/your_stuff_here`.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-07T07:53:44.790

不幸的是，无论是在 java/clojure 世界还是在本地世界中，都没有一个最终公认的约定将程序的中间文件放在哪里。但是，我想，存在一些基本原则。

据我所知，大多数程序将它们需要的所有文件分成分发文件（不应修改的文件：图标和声音等资源或 jar 文件等二进制文件）、配置文件（用户可以直接或直接修改的文件）通过程序本身）和临时文件（我想很明显它们是什么）。

分发文件通常通过包管理器安装（主要在 linux 系统上），或者，如有必要，它们可以手动安装在某个预定义目录中，例如`/opt`. 在 Windows 系统上，这些通常由安装程序安装。这些文件不会直接更改，但通常可以由包管理器在升级时更新。

配置文件通常存储在用户主目录中（如果程序是用户应用程序）。很遗憾，但是对于这些文件的确切放置位置没有任何约定。这对 unix 系统（混乱）来说是一种痛苦`~`，但在 Windows IMO 上更糟，因为文件几乎可以在文件系统中的任何位置结束，因为在 Windows 下对文件系统配置限制性权限并没有被广泛接受。

但是，目前似乎有一种趋势（至少在 linux 世界中）将配置文件存储在`$XDG_CONFIG_HOME`环境变量的子目录中；此变量通常解析为`~/.config`路径。我确信使用这个目录进行配置是正确的。这些变量有一系列 ( `$XDG_{CONFIG,CACHE,DATA}_HOME`)，每个变量都用于特定类型的文件。我认为这是 freedesktop 标准。我不知道 Windows 是否有这样的东西，但很有可能；如果我有这样的需要，我会尝试找到一些关于此的信息并使用它。

许多程序允许明确设置配置目录的确切位置，例如 IntelliJ IDEA IDE。这也可以是一种选择。

临时文件通常存储在系统为临时文件提供的目录中。在 unix 系统下它通常是`/tmp`，在 Windows 下它可以是例如`C:\Users\%USER%\AppData\Local\Temp`。在 Java 中，您可以使用系统属性获取临时目录位置。在 Clojure 中，它看起来像

```
(System/getProperty "java.io.tmpdir") 
```

如果我没记错的话，clojure 标准库中甚至有一个函数可以让你获得这个值。

只有真正的临时文件应该存储在那里，因为这个目录可以被清除（在最近的 linux 发行版中，它甚至存储在 RAM 中）。

**TL;博士**

如果要存储持久的用户范围配置（工作、缓存等）文件，请使用`~/.config`unix 系统下的目录和 Windows 下的一些健全目录（需要更多谷歌搜索）；如果要存储在程序中完成某些工作后不需要的临时文件，请使用可以通过`"java.io.tmpdir"`系统属性获取的标准系统临时目录。

# css-float - Fluid 布局中 div 的固定宽度和动态高度

> ID：14725522
> 
> 赞同：0
> 
> 时间：2013-02-06T09:25:04.330
> 
> 标签：css-float, positioning, fluid-layout, css, fixed-width

我正在为一个应用程序开发流体布局，在该应用程序中，我希望根据父 div 的内容获得 div 的固定宽度和动态高度。基本上，我有一个侧面导航（side_nav）和“数据”div（app_forms）区域，其中侧面导航的固定宽度为 124px，剩余的正文区域以 % 定义。

我有 2 个问题

1.  侧导航高度不会根据“app_forms”div 高度增加

2.  当浏览器调整大小时，'apps_forms' div 正在崩溃

有人可以帮我解决这个问题，我已经摆弄了这个。

[http://jsfiddle.net/y42F9/](http://jsfiddle.net/y42F9/)

```
<div class="app_body">

   <div class="side_nav">
        <ul>
         <li ><a href="#" >Environments</a></li>
         <li class="events"><a href="#">Events</a></li>
         <li class="admin"><a href="#">Admin</a></li>
         <li class="help"><a href="#">Help</a></li>
       </ul>
  </div>

 <div class="app_forms">
     <div class="datagrid">datagrid area</div>
     <div class="info" >record info</div>  
 </div>

</div> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-11T10:37:22.803

在这里查看我的解决方案：http: [//jsfiddle.net/MdT6d/](http://jsfiddle.net/MdT6d/)（随意调整浏览器窗口的大小）

html:

```
<div class="app_body">
    <div class="side_nav">
        <div>one</div>
        <div>two</div>
        <!-- as much content here as you want -->
    </div>
    <div class="app_forms">
        blah blah <!-- as much content here as you want -->     
    </div>
</div>
<div class="footer">footer</div> 
```

CSS：

```
.app_body {
    width:100%;
    background-color: yellow;
}
.side_nav {
    width:122px;
    float:left;
    background-color: blue;

}
.app_forms {
    background-color: grey;
    margin-left: 122px;
}

.footer {
    height:38px;
    clear:both;
    background-color: red;
} 
```

我删除了您添加的与问题没有直接关系的 div.. 诀窍只是给 app_body 一个与 side_nav 宽度相等的左边距。

基本上，无论您向 app_body 添加多少内容，siden nav 的高度都是相同的。但是您可以让它看起来好像 side_nav 的高度与 app_body 的高度一起扩展。您只需给它一个背景颜色（或如有必要，沿 y 轴重复的背景图像）..

另外，如果您向 side_nav 添加更多内容，那么它也会自然增长.. 如果它增加了 app_body 的高度.. 您可以对 app_body 执行相同的技巧.. 基本上用包装器 div 包装 side_nav 和 app_body 并给出它与 app_body 相同的背景颜色（如有必要），使其看起来好像它的高度也随着 side_nav 增长

# php - 我如何在 json 中传递这个 javascript 对象？

> ID：14725525
> 
> 赞同：2
> 
> 时间：2013-02-06T09:25:13.167
> 
> 标签：php, javascript, regex, json, firefox

我正在编写一个 firefox 扩展，它使用 pagemod 和从 url 获取的正则表达式列表。

```
var pageMod = require("page-mod");
var Request = require("request").Request;
var hosters = Request({
  url: "http://foo.bar/foo",
  onComplete: function (response) {
    console.log(response.json.urls);
    var includeHosters = response.json.urls;
    pageMod.PageMod({
      include: includeHosters,
      contentScriptWhen: "start",
      contentScript: '',
      onAttach: function onAttach(worker) {
        // my code
      }
    });
  }
}).get(); 
```

我的服务器的响应如下所示：

```
{
    "urls": [
        "/.*foo.*/",
        "/.*bar.*/"
    ]
} 
```

问题是正则表达式只有在它们没有被引号括起来时才起作用。

这有效：

```
 include: [/.*foo.*/, /.*bar.*/], 
```

不工作：

```
 include: ["/.*foo.*/", "/.*bar.*/"], 
```

Json 要求将字符串括在引号中。

在服务器端，我正在使用 PHP，并将我的正则表达式放在这样的数组中：

```
<?
$regexes = array(".*foo.*",".*bar.*");
echo json_encode(array("urls" => $regexes)); 
```

这会产生 Firefox 无法使用的输出。

如何将我的正则表达式传递给 firefox 扩展？

也许我需要在扩展方面做一些 str_repl 的东西？

但是怎么做？我怎样才能正确地做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T09:28:09.627

JSON 格式没有为正则表达式定义任何内容，您必须在解码后构建它们。

假设你有这个解析数组：

```
var strs = [".*foo.*", ".*bar.*"]; 
```

然后你可以像这样制作一个正则表达式数组：

```
var regexs = strs.map(function(v){ return new RegExp(v) }); 
```

`/`如果您更喜欢使用as in发送您的正则表达式字符串

```
var strs = ["/.*foo.*/", "/.*bar.*/"]; 
```

然后你可以做

```
var regexs = strs.map(function(v){ return new RegExp(v.slice(1,-1)) }); 
```

# c++ - Qt 线程和循环问题

> ID：14725528
> 
> 赞同：0
> 
> 时间：2013-02-06T09:25:18.577
> 
> 标签：c++, multithreading, qt, qthread

这是 QThread 子类的 run 方法：

```
void crono::Controller::run() {

    //initialise timer
    int *i = & this->model->seconds_elapsed;

    for (*i = 0; *i < this->model->seconds_total; (*i)++) {

    //calculate current seconds/minutes/hours elapsed starting  from seconds_elapsed (*i)
    this->model->tick(); 

    //should display in the form the time elapsed
    this->vista->showTime(); 
    sleep(1000);

    }

    Beep(1000, 500); //beep when all is over

} 
```

控制器更新模型值。

QT 表单在启动时打开，我猜是在主应用程序线程中。

问题是鄙视调试 *i=0 和 seconds_total = X > 0，循环只执行一次，在第一次调试停止（它没有结束）之后，表单弹出但没有任何反应。

我唯一能猜到的是，控制器线程失去了优先级，再也没有获得 CPU。

如何避免这种情况？

***编辑*** 我正在尝试使用 QTimer，但运气不好。

我将更新声明为公共插槽，然后像这样实现：

```
void crono::Controller::update() { 

    this->modello->tick();
    this->vista->showTime();

    //eventually stop at some point (pointer to timer and timer->stop()? 
    //...
    //Beep(1000, 500);
} 
```

我在控制器（线程）对象中插入了 QTimer 而不是循环：

```
void crono::Controller::run() {

    //inizializzo timer
    int *i = & this->modello->secondi_trascorsi;

    QTimer *timer = new QTimer(this);
    connect(timer, SIGNAL(timeout()),this, SLOT(update()));
    timer->start(1000);

} 
```

我不知道为什么，但是 update() 方法永远不会被调用，而是被无限次调用。为什么？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2015-04-02T14:15:35.383

一个常见的混淆是`QThread`在它自己的单独线程中运行。不是这种情况; 相反，`QThread`在它控制的子线程中启动事件循环。`QThread`可以很容易地调用`QThreadManager`。

简而言之，不要 subclass `QThread`，因为您正在创建的功能驻留在主线程（而不是`QThread`处理的线程）中。创建一个 QObject 子类，其插槽连接到`started()`信号。然后使用`moveToThread()`并调用`run()`您的`QThread`实例。

此外，您不能直接从子线程调用主线程函数。您需要到主线程中的对象的排队连接信号才能显示对话框。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-06T13:51:45.617

正如蒂姆迈耶在他的评论中指出的那样，您需要`QThread:exec()`在实现结束时调用`QThread::run()`，这是为了启动线程的事件循环，这是信号/插槽机制工作所必需的。

但是，您似乎[做错了](http://blog.qt.digia.com/blog/2010/06/17/youre-doing-it-wrong/)。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-06T09:38:54.270

首先，`QThread`几乎不应该因为任何原因而被继承。

线程通常会像那里描述的那样完成：http: [//qt-project.org/doc/qt-4.8/QThread.html#details](http://qt-project.org/doc/qt-4.8/QThread.html#details)

如果您只需要线程计算一些时间并在一段时间后执行某些操作，也许您可​​以`QTimer`改用并将`QTimer::timeout()`信号连接到您的插槽以显示经过的时间。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-06T09:32:56.453

我确定你的循环应该是这样的：

```
//initialize timer
int elapsed = this->model->seconds_elapsed;

for (int i = 0; i < elapsed; i++) 
```

我认为不需要使用指针。把事情简单化。

如果这仍然不起作用，则说明您做错了其他事情，并且从您的代码中并不明显。

线程信号也不是使用`sleep`. 您应该查看信号量或条件变量等线程事件以用于线程信号发送。

如果您想定期更新值，为什么不使用 QTimer？

`sleep`只有很少的有效用途，我相信你正在解决一个不需要睡眠的问题。

# symfony - 如何正确嵌入注册表，以便我可以通过 FosUserBundle 进行电子邮件确认？

> ID：14725529
> 
> 赞同：1
> 
> 时间：2013-02-06T09:25:23.557
> 
> 标签：symfony, symfony-2.1, fosuserbundle

我有一个艺术家实体和一个简单的用户实体。

在我的网站上可以进行 2 次注册：一种用于艺术家，另一种用于普通用户。用户一切正常，他收到一封确认电子邮件等。效果很好，但是这一次，当艺术家在我的网站上注册时（我嵌入了 FosUserBundle 的 UserType 以便艺术家也在我的网站上注册为用户)，电子邮件确认检查输入的电子邮件的有效性，然后使用户不像简单用户那样发送。

我知道这不会发生，因为要求艺术家注册的操作不是 FosUserBundle 的 RegistrationController 的 registerAction，而是我的 ArtistController 的操作 newAction。

所以我尝试使用 RegistrationController 和 RegistrationFormHandler 的一些代码，但我无法让它工作，因为我无法使用例如我的 ArtistHandler 和令牌生成器中的邮件接口：

这是我的 ArtistHander.php

```
<?php

namespace My\Bundle\BrocBundle\Form;

use Symfony\Component\Form\Form;
use Symfony\Component\HttpFoundation\Request;
use Doctrine\ORM\EntityManager;

use My\Bundle\BrocBundle\Entity\Artist;

use FOS\UserBundle\Mailer\Mailer;
use FOS\UserBundle\Util\TokenGenerator;

class ArtistHandler
{
    protected $form;
    protected $request;
    protected $em;

    public function __construct(Form $form, Request $request, EntityManager $em, Mailer $mailer, TokenGenerator $tokenGenerator)
    {
        $this->form = $form;
        $this->request = $request;
        $this->em = $em;
        $this->mailer = $mailer;
        $this->tokenGenerator = $tokenGenerator;
    }

    public function process()
    {
        if ($this->request->getMethod() == 'POST') 
        {
            $this->form->bindRequest($this->request);

            if ($this->form->isValid() ) 
            {
                $this->onSuccess($this->form->getData());
                return true;
            }
        }

        return false;
    }

    public function onSuccess(Artist $artist)
    {

        $user = $artist->getUser();
        $user->setEnabled(false);

        if (null === $user->getConfirmationToken()) 
        {
            $user->setConfirmationToken($this->tokenGenerator->generateToken());
        }

        $this->mailer->sendConfirmationEmailMessage($user);

        $this->userManager->updateUser($user);

        $this->em->persist($artist);
        $this->em->flush();
    }

} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T09:31:38.333

如果你想使用邮件，你必须注入它，就像你正在做的那样`EntityManager`

所以：

*   将针对您的班级的注入添加到您的`service.yml`（或相关的）中`ArtistHandler`
*   修改`ArtistHandler`构造函数

有关更多信息，您还可以访问[此页面](http://symfony.com/doc/2.0/components/dependency_injection/introduction.html)（symfony2 文档；另一种方法）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T09:32:59.787

更新好吧，这就是我所做的，但不确定这是最好的方法吗？这样做，如果你们中的一个人认为有更好的方法，我会很乐意这样做而不是这个：

```
public function newAction()
{
    $em = $this->getDoctrine()->getEntityManager();
    $artist = new Artist();

    $mailer = new Mailer($this->get('mailer'), $this->get('router'), $this->get('templating'), array('confirmation.template'=> 'MyUserBundle:Registration:email.txt.twig', 'from_email' => array('confirmation' => 'mysenderadress@gmail.com')));
    $tokenGenerator = new TokenGenerator;
    $form = $this->createForm(new ArtistType, $artist);
    $formHandler = new ArtistHandler($form, $this->get('request'), $this->getDoctrine()->getEntityManager(), $mailer, $tokenGenerator);

    $confirmationEnabled = $this->container->getParameter('fos_user.registration.confirmation.enabled');

    if ($formHandler->process()) 
    {   

        $authUser = false;
        if ($confirmationEnabled) {
            $this->container->get('session')->set('fos_user_send_confirmation_email/email', $artist->getUser()->getEmail());
            $route = 'fos_user_registration_check_email';
        } else {
            $authUser = true;
            $route = 'fos_user_registration_confirmed';
        }

        $url = $this->container->get('router')->generate($route);
        $response = new RedirectResponse($url);

        if ($authUser) {
            $this->authenticateUser($artist->getUser(), $response);
        }

        return $response;
    }
    return $this->render('MyBrocBundle:Artist:new.html.twig', array('form' => $form->createView()));
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-25T21:33:32.570

我有同样的问题。我使用了不同的方法。`onSuccess`请仔细看看

```
<?php

namespace  UsersBundle\Form\Handler;

use FOS\UserBundle\Form\Handler\RegistrationFormHandler as BaseHandler;
use FOS\UserBundle\Model\UserInterface;
use UsersBundle\Entity\User;
use AdminBundle\EntityDao\EntidadDao;
use AdminBundle\EntityDao\RolDao;
use UsersBundle\EntityDao\UserDao;

class RegistrationFormHandler extends BaseHandler{
    private $auditUser;
    private $entId;
    private $userInterno;

    private $container;

    public function __construct($form, $request, $userManager, $mailer, $container){
        parent::__construct($form, $request, $userManager, $mailer);
        $this->container = $container;
    }

    public function processIns($entId, $userInterno, $auditUserIns, $confirmation = false){
        $this->auditUser = $auditUserIns;
        $this->entId = $entId;
        $this->userInterno = $userInterno;

        return $this->process($confirmation);
    }

    /*public function processUpd($confirmation = false, $auditUserUpd){
        $this->auditUserUpd = $auditUserUpd;
        return $this->process($confirmation);
    }*/

    public function process($confirmation = false){
        $user = $this->userManager->createUser();
        $this->form->setData($user);

        if ('POST' == $this->request->getMethod()) {
            $this->form->bindRequest($this->request);

            if ($this->form->isValid()) {

                $tmp = $user->getIdUsuario();

                //Si es update
                if(empty($tmp) ){
                    $user->setAuditUserIns($this->auditUser);
                    $user->setAuditDateIns(new \DateTime());

                    $tmp = $this->entId;
                    if( !empty($tmp)){
                        $entidadDao = new EntidadDao($this->container->get("doctrine"));
                        $entidad = $entidadDao->getEntidad($this->entId);
                        $user->setEntidad($entidad);
                    }

                //Si es Insert    
                }else{
                    $userDao = new UserDao($this->container->get("doctrine"));

                    //Se obtiene el registro de la BD
                    $tmp = $userDao->getUserEspecifico($user->getIdUsuario());

                    //Se le asigna al Formulario
                    $this->form->setData($tmp);

                    //Se realiza un merge con lo que se envio en el Request
                    $this->form->bindRequest($this->request);

                    $user = $tmp;
                    $tmp->setAuditUserUpd($this->auditUser);
                    $tmp->setAuditDateUpd(new \DateTime());
                }

                $rolDao= new RolDao($this->container->get("doctrine"));

                //Se asignan roles dependiendo del usuario interno
                if($this->userInterno =='false'){
                    $user->setRols($rolDao->getRolesEspecificos(
                            $user->getEntidad()->getEntImportador(),
                            $user->getEntidad()->getEntProductor(),
                            $user->getEntidad()->getEntComprador(),
                            $user->getEntidad()->getEntCompVend(),
                            $user->getUserTipo(),
                            $user->getUserInterno(),
                            $user->getUserInternoTipo()
                    ));
                }else{
                    $user->setRols($rolDao->getRolesEspecificos(
                            false,
                            false,
                            false,
                            false,
                            $user->getUserTipo(),
                            $user->getUserInterno(),
                            $user->getUserInternoTipo()
                    ));
                }

                //Hacer busqueda de los roles segun los campos de tipos y obtener el listado de objetos.
                $this->onSuccess($user, $confirmation);
                // do your custom logic here
                return true;
            }
        }

        return false;
    }

    protected function onSuccess(UserInterface $user, $confirmation){
        // Note: if you plan on modifying the user then do it before calling the 
        // parent method as the parent method will flush the changes

        //parent::onSuccess($user, $confirmation);

        if ($confirmation) {
            $user->setEnabled(false);
            $user->generateConfirmationToken();
            $this->mailer->sendConfirmationEmailMessage($user);
        } else {
            $user->setConfirmationToken(null);
            $user->setEnabled(true);
        }

        $this->userManager->updateUser($user);

        // otherwise add your functionality here
    }
} 
```

# android-softkeyboard - 在 BlackBerry 10 模拟器上运行 Android 应用程序时没有键盘

> ID：14725531
> 
> 赞同：1
> 
> 时间：2013-02-06T09:25:35.147
> 
> 标签：android-softkeyboard, blackberry-simulator, blackberry-10, blackberry-android

我在 BB10 Dev Alpha 模拟器 (10.0.10.261) 上运行了我的第一个 Android 应用程序，它运行良好，除了键盘根本没有出现。我的应用程序包含在适当时间显示和隐藏屏幕键盘的代码，但这不适用于 BB10 模拟器（在 Android 设备上运行良好）。这是模拟器的错误吗？有没有其他人在 BB10 上正确显示/隐藏了他们的 Android 键盘？

# jquery - 如何通过单击 jquery 重置对象

> ID：14725534
> 
> 赞同：0
> 
> 时间：2013-02-06T09:25:38.300
> 
> 标签：jquery, object

我有以下对象，我想做的是将该对象中的 page 值设置为另一个值，或者在用户单击 li.product 时将其重置，因为它使用 list.js 插件激活分页。我怎么能这样做？谢谢！

```
var options = {
        valueNames: ['packageid', 'categoryid',  'meta-package', 'meta-category', 'meta-brand', 'meta-company', 'meta-country'],
        page:24,
        plugins: [
            [ 'paging', {
                name: "duja",
                pagingClass: "bottomPaging",
                innerWindow: 1,
                outerWindow: 2
            } ]
        ]
    };

$('li.product').live("click",function() {
        displayItem($(this));
        $('.single').fadeIn();
        return false;
    }); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T09:31:16.050

你可以设置这样的东西，`options.page = 0;`

如果您想将所有内容都设置为空，那么`options = {};`

```
$('li.product').on("click",function() {
        displayItem($(this));
        $('.single').fadeIn();
        options.page = 0;
        return false;
    }); 
```

# java - 外部化 DEFAULT 配置属性

> ID：14725537
> 
> 赞同：2
> 
> 时间：2013-02-06T09:25:43.290
> 
> 标签：java, properties, groovy, configuration-files, gradle

很多项目都在使用配置文件，我发现很多帖子如何读取这些配置文件，如何将它们外部化，但我找不到任何关于如何生成示例配置文件的信息。

例如，如果您有一个包含各种配置属性的**company.config**文件，我希望每次构建项目时都会从我的源代码中自动生成一个**company.sample.config文件。**此示例文件应包含项目使用的所有配置属性，以及默认值和注释。

我使用 Java 和 Gradle，所以我在考虑一个 Gradle 插件。

外面有这样的东西吗？其他人是如何解决这个问题的？

* * *

> 稍后编辑：一些例子：

* * *

```
public class CompanyConfig {
private static final String PROPERTY1_DEFAULT = "Company.property1_default";
private static final String PROPERTY2_DEFAULT = "Company.property2_default";

/**
 * description 1
 */
private static final String PROPERTY1 = "Company.property1";
/**
 * description 2
 */
private static final String PROPERTY2 = "Company.property2";

private Config config;

public CompanyConfig(Config config) {
    this.config = config;
}

public String getProperty1() {
    return config.getProperty(PROPERTY1, PROPERTY1_DEFAULT);
}

public String getProperty2() {
    return config.getProperty(PROPERTY2, PROPERTY2_DEFAULT);
}
} 
```

基于上述代码，sample.conf 文件应如下所示：

```
**description 1
*Company.property1=Company.property1_default

**description 2
*Company.property2=Company.property2_default 
```

这样我就可以把sample.conf文件交给想配置项目的人了。这个人不知道我项目中的配置属性，所以他/她需要一个属性列表和每个属性的默认值。并且由于引入了新的人员并删除了其他一些人员，因此必须在每次构建时生成示例文件。

希望这能澄清我在这里问的问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T09:36:11.060

您可以借助 ant 构建脚本。借助以下代码。

```
<project>
<target name="default">

<propertyfile file="company.sample.config" comment="sample properties here.">

<entry key="program.AUTHOR" default="RAIS" />
<entry key="program.COMPANY" default="IGT" />
<entry key="program.COPYRIGHT" default="now" type="date" pattern="yyyy" />
<entry key="program.DESCRIPTION" default="" />
<entry key="program.VERSION" default="1.0.0" />
<entry key="program.BUILDNUM" value="1" />
<entry key="program.BUILDDATE" type="date" value="now" pattern="yyyyMMDDHHmmss" />
</propertyfile>

</target>
</project> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T09:44:39.573

我不知道有什么插件可以做到这一点，但如果你有一个不错的配置系统，那么它应该不难做到。例如，我使用基于 JSON 的配置系统：配置文件是一个简单的 JSON 文档，它直接映射到配置对象。要生成具有默认值的示例配置，您只需实例化基础对象并要求 JSON 将其写出，这是一个五行程序，可以轻松添加到构建脚本中。

# grails - 从视图发送的 HashMap 是控制器中的 String 对象

> ID：14725541
> 
> 赞同：1
> 
> 时间：2013-02-06T09:25:55.827
> 
> 标签：grails

1.  我正在从控制器发送 HashMap 以查看：

    ```
    def list2 =  [id:params?.id, title:params?.title, domain:params?.domain, orderOfSubpage:params?.orderOfSubpage]
    render(view: "list", model: [subpageInstanceList: list, subpageInstanceTotal:  list.getTotalCount(), searchParams:list2]) 
    ```

2.  当用户单击表头时，我将此 HashMap 发送回控制器：

    ```
    <g:sortableColumn property="id" title="Id" class="td-id-class subpage-td" params="['searchParams':searchParams]"/> 
    ```

3.  我正在检查在此处设置标志的调试器中的值：

    ```
    def map = params 
    ```

    值为：

    ```
    searchParams={id=, title=, domain=, orderOfSubpage=} 
    ```

4.  我正在尝试从这个已经是字符串的“地图”中获取值：

    ```
    def map2 = params?.searchParams
    def id = map2?.id //here is an Exception (checked in debugger) 
    ```

5.  我回来的例外是：

    ```
    Class groovy.lang.MissingPropertyException
    Message No such property: id for class: java.lang.String 
    ```

当我对 ArrayList 做**同样的事情**时，没有问题，一切正常，List 始终是 List。为什么将转换/转换映射到字符串？
**问题：**为什么返回给控制器的对象是字符串或者至少表现得像字符串？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T14:25:48.260

从[http://grails.org/doc/latest/ref/Tags/sortableColumn.html](http://grails.org/doc/latest/ref/Tags/sortableColumn.html)：

> params (可选) - 包含请求参数的 Map

你有：`<g:sortableColumn ... params="['searchParams':searchParams]"/>`。但是 searchParams 不是一个合适的请求参数，因为它本身就是一个映射。

明确添加您的所有值，例如 id、title、domain 和 orderOfSubpage，例如：

```
params="[id:searchParams.id, domain:searchParams.domain, ...]" 
```

甚至：

```
params="${searchParams}" 
```

# excel - 使用 VB 无法正确复制公式 - 带有完整代码

> ID：14725544
> 
> 赞同：0
> 
> 时间：2013-02-06T09:26:12.653
> 
> 标签：excel, vba

两个“Peter's”之前都帮我解决了这个问题，但我无法将完整的代码添加到我的评论中。

问题是：当我在下面的代码中添加“.FormulaR1C1”时，我收到一条“需要对象”的错误消息。它可以在没有“.FormulaR1C1”的情况下工作，但这会在实际公式中产生问题。

编码

Sheets(gcsCombinedSheetName).Cells(lngLastRow, columnletter).FormulaR1C1 = getConfigPosition.Offset(0, 2).Formula.R1C1

完整代码

```
Sub Pricing_format()

Dim lngLastRow As Long
Dim lngLastRow2 As Long
Dim Fundcolumn As Long
Dim rngToCheck As Range
Dim columnletter As String
Dim columnheader As String
Dim ActuateColumn As Long
Dim getConfigPosition As Range
Dim counter As Long
Dim getFormula As Variant
Dim Wk As Worksheet
Dim WB As Workbook

Application.ScreenUpdating = False
Application.DisplayAlerts = False
Application.Calculation = xlCalculationAutomatic

Set gRwksconfigeration = Sheets(gcsConfigSheetName)
gRnCT_FieldSearch_Brks = gRwksconfigeration.Range(CT_FieldSearch_Brks)
gRnCT_Fieldsearch_SecurID = gRwksconfigeration.Range(CT_FieldSearch_SecurID)
gRnCT_FieldSearch_BrokerFactor = gRwksconfigeration.Range(CT_FieldSearch_BrokerFactor)
gRnCT_Required_Col = gRwksconfigeration.Range(CT_Required_Col)
gRnCT_File_Loc = gRwksconfigeration.Range(CT_File_Loc)
gsInputFileName = Dir(gRnCT_File_Loc)

counter = 1

Set gwkscurrent = ActiveWorkbook

    With Sheets(gcsCombinedSheetName)
        .Cells.Clear
    End With

    Do

        lngLastRow2 = FindLastRow(gwkscurrent.Sheets(gcsCombinedSheetName).Name)

        'On Error GoTo OpenError
            Set gwkbInputdata = Workbooks.Open(gRnCT_File_Loc & gsInputFileName)
        'On Error GoTo 0

        With Sheets(1)

            Fundcolumn = Sheets(1).Cells.Find(What:=gRnCT_Fieldsearch_SecurID, after:=ActiveCell, LookIn:=xlValues, LookAt:=xlWhole, searchorder:=xlByColumns).Column
            lngLastRow = FindLastRow(Sheets(1).Name)

                If Application.WorksheetFunction.CountA(.Cells) > 0 Then

                    Set rngToCheck = Range(.Cells(1, Fundcolumn), .Cells(lngLastRow, Fundcolumn))

                    If rngToCheck.Count > 1 Then

                            On Error Resume Next
                            rngToCheck.SpecialCells(xlCellTypeBlanks).EntireRow.Delete
                            On Error GoTo 0
                        Else
                            If VBA.IsEmpty(rngToCheck) Then rngToCheck.EntireRow.Delete
                    End If

                End If

                On Error Resume Next
                    .Cells.Find(What:=gRnCT_FieldSearch_Brks, after:=ActiveCell, LookIn:=xlValues _
                        , LookAt:=xlWhole, searchorder:=xlByColumns, searchdirection:=xlNext).EntireColumn.Delete Shift:=xlToLeft
                On Error GoTo 0

                On Error Resume Next
                    .Cells.Find(What:=gRnCT_FieldSearch_BrokerFactor, after:=ActiveCell, LookIn:=xlValues _
                        , LookAt:=xlWhole, searchorder:=xlByColumns, searchdirection:=xlNext).EntireColumn.Delete Shift:=xlToLeft
                On Error GoTo 0

             lngLastRow = FindLastRow(Sheets(1).Name)

            Range(.Cells(1, 1), .Cells(lngLastRow, 1)).EntireRow.Copy gwkscurrent.Sheets(gcsCombinedSheetName).Cells(lngLastRow2 + 1, 1)

            ActiveWorkbook.Close False

        End With

        gsInputFileName = Dir

    Loop Until gsInputFileName = vbNullString

    Set getConfigPosition = Sheets(gcsConfigSheetName).Cells.Find(What:=gRnCT_Required_Col, after:=ActiveCell, LookIn:= _
            xlValues, LookAt:=xlWhole, searchorder:=xlByColumns, searchdirection:= _
            xlNext, MatchCase:=False, SearchFormat:=False).Offset(counter, 0)

    Do

        columnletter = getConfigPosition
        columnheader = getConfigPosition.Offset(0, 1)
        getFormula = getConfigPosition.Offset(0, 2)

            lngLastRow = FindLastRow(gcsCombinedSheetName)

            Sheets(gcsCombinedSheetName).Cells(lngLastRow, columnletter).FormulaR1C1 = getConfigPosition.Offset(0, 2).Formula.R1C1
            Sheets(gcsCombinedSheetName).Cells(2, columnletter) = getConfigPosition.Offset(0, 1)

            With Sheets(gcsCombinedSheetName)
               .Cells(lngLastRow, columnletter).Copy Range(.Cells(lngLastRow, columnletter), .Cells(3, columnletter))
            End With

            counter = counter + 1

            Set getConfigPosition = Sheets(gcsConfigSheetName).Cells.Find(What:=gRnCT_Required_Col, after:=ActiveCell, LookIn:= _
                    xlValues, LookAt:=xlWhole, searchorder:=xlByColumns, searchdirection:= _
                    xlNext, MatchCase:=False, SearchFormat:=False).Offset(counter, 0)

    Loop Until getConfigPosition = ""

    With Sheets(gcsCombinedSheetName).Rows("2:2")
                    .Font.Bold = True
                    .EntireColumn.AutoFit
    End With

    MsgBox ("Macro Complete") 
```

结束子

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T09:46:24.287

几点评论：

*   要解决您的问题，请替换`Formula.R1C1`为`FormulaR1C1`
*   你的缩进很奇怪。例如，不需要在 line 中缩进`lngLastRow = FindLastRow(gcsCombinedSheetName)`。通常只有在存在“子代码块”时才会缩进，例如在`For`循环、`If`语句等中。
*   `With`仅在访问对象的多个属性时使用。

    ```
    使用表格（gcsCombinedSheetName）
        .Cells.清除
    结束于
    ```

    可以替换为`Sheets(gcsCombinedSheetName).Cells.Clear`
*   考虑使用`Range.Resize`代替`Range(Cell1, Cell2))`- 通常前者更容易

最后但同样重要的是：您可以在 SO 中编辑问题，因此无需打开新问题！:-)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T09:45:03.480

我得到了它。当我在公式中使用 RC [] 引用并且只使用“.formula”而不是“.formulaR1C1”时，它可以工作。这违背了我理解的逻辑，但它奏效了。我要感谢“Peter A”和“Peter L”一直以来的支持。谢谢小伙子们。

# mysql - 将多行结果合并为一个

> ID：14725549
> 
> 赞同：3
> 
> 时间：2013-02-06T09:26:28.490
> 
> 标签：mysql, sql, group-by, pivot

我在按用户 ID 将多行结果组合成一行结果时遇到问题。

我得到这个结果：

```
||userID||eventTypeID||COUNT(*)||  
||  1   ||    1      ||    1   ||  
||  1   ||    2      ||    1   ||  
||  2   ||    1      ||    1   ||   
||  3   ||    2      ||    1   || 
```

我想要的是这样得到它：

```
||userID||eventTypeID ONE||COUNT()||eventTypeID TWO||COUNT()|| 
```

等等...

我无法弄清楚我是如何做到这一点的，我尝试过 pivotSQL 和 concat，但我无法让它工作。

我的 SQL 查询：

```
SELECT eventMatch.userID, eventMatch.eventTypeID, COUNT( * )   
FROM  `eventMatch` , activity, activityMatch  
WHERE eventMatch.activityID = activity.activityID  
AND activity.activityID = activityMatch.activityID  
AND activity.khID =1  
GROUP BY eventTypeID, userID  
ORDER BY userID ASC 
```

希望有人可以提供帮助，也许这很容易，但我已经尝试寻找解决方案 2 天了:-)

谢谢..

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T09:29:36.720

试试这个：

```
SELECT
  eventMatch.userID, 
  SUM(eventMatch.eventTypeID = 1) As TypeOne,
  SUM(eventMatch.eventTypeID = 2) As TypeTwo, 
  COUNT( * )   
FROM  `eventMatch` 
INNER JOIN activity      ON eventMatch.activityID = activity.activityID 
INNER JOIN activityMatch ON activity.activityID = activityMatch.activityID  
WHERE activity.khID =1  
GROUP BY userID  
ORDER BY userID ASC; 
```

* * *

## 更新 1

对于多种事件类型，您可以像这样动态地执行此操作：

```
SET @sql = NULL;
SELECT
  GROUP_CONCAT(DISTINCT CONCAT('SUM(IF(em.eventTypeID = ''',
      em.eventTypeID, ''', 1, 0)) AS Type',
      em.eventTypeID )
  ) INTO @sql
FROM  `eventMatch`       AS em;

SET @sql = CONCAT('SELECT em.userID, ', @sql,
                  ', COUNT( * )   
                  FROM  `eventMatch`       AS em
                  INNER JOIN activity      AS  a ON em.activityID = a.activityID 
                  INNER JOIN activityMatch AS am ON a.activityID = am.activityID  
                  GROUP BY em.userID  
                  ORDER BY em.userID ASC  ;');

prepare stmt 
FROM @sql;

execute stmt; 
```

## [SQL 小提琴演示](http://www.sqlfiddle.com/#!2/f60cb/1)

* * *

## 更新 2

如果您想从`EventTypes`表中排除所有类型，即使此类型在其他表中没有匹配项，您也应该在第一步中从该表中动态获取类型列表，`EventTypes`而不是从表中获取它们`eventmatch`然后执行动态查询方式与之前相同。像这样：

```
SET @sql = NULL;
SELECT
  GROUP_CONCAT(DISTINCT CONCAT('SUM(IF(em.eventTypeID = ''',
      em.eventTypeID, ''', 1, 0)) AS Type',
      em.eventTypeID )
  ) INTO @sql
FROM  eventTypes       AS em; -- <---------- this is what I changed.

SET @sql = CONCAT('SELECT em.userID, ', @sql,
                  ', COUNT( * )   
                  FROM  `eventMatch`       AS em
                  INNER JOIN activity      AS  a ON em.activityID = a.activityID 
                  INNER JOIN activityMatch AS am ON a.activityID = am.activityID  
                  GROUP BY em.userID  
                  ORDER BY em.userID ASC  ;');

prepare stmt 
FROM @sql;

execute stmt; 
```

## [更新的 SQL Fiddle 演示](http://www.sqlfiddle.com/#!2/712b2/2)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T09:29:54.960

做

```
GROUP BY eventMatch.userID, eventMatch.eventTypeID 
```

工作？

# sql-server-2008 - MS SQL 2008：查看“变量”而不是 JOIN

> ID：14725551
> 
> 赞同：0
> 
> 时间：2013-02-06T09:26:40.373
> 
> 标签：sql-server-2008

基本上我们有一个需要优化的视图。视图现在看起来像这样：

```
SELECT *
FROM IM_Data.history.v_SystemInfo si
INNER JOIN IM_Data..systemOutDates od ON
    si.TopId = od.TopId
    AND si.OutDate = od.OutDate
WHERE 
    TopId = 196 
```

如果我可以让视图是这样的（我显然不能）：

```
SELECT @OutDate = OutDate 
FROM IM_Data..systemOutDates
WHERE TopId = 196

SELECT *
FROM IM_Data.history.v_SystemInfo si
WHERE 
    TopId = 196 AND
    OutDate = @OutDate 
```

它会快 10 倍。所以我正在寻找的是一个对 SQL 有足够了解的人来帮助我解决这个问题。我基本上需要查询一次查询 TopDate，然后在所有行上使用相同的查询，而不是在每一行上加入（因为那是浪费时间）。

而且我无法删除 TopDate 并让查询视图的用户处理它，因为使用视图的遗留代码太多。所以唯一的选择是让用户按现在的方式查询它，但仍然以某种方式解决了连接的性能损失。

提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T09:40:07.770

不确定我是否理解您的问题，但您可以使用子查询或临时加入条件表以获得一个结果。如果没有您的结构示例，几乎不可能判断是否有更好的选择。我想这样的事情可能会接近你想要的 - 看看查询成本，看看它是否有帮助。

```
SELECT * FROM 
    IM_Data.history.v_SystemInfo AS si INNER JOIN 
    (SELECT TOP 1 OutDate FROM IM_Data..systemOutDates WHERE sourceId = si.TopId) AS    tblOutDate
WHERE 
    si.TopId = 196 AND si.OutDate = tblOutDate.OutDate 
```

# android - android listview 固定高度与屏幕大小无关

> ID：14725553
> 
> 赞同：0
> 
> 时间：2013-02-06T09:26:47.130
> 
> 标签：android, android-listview

我想要一个英文字母的列表视图，我希望这个列表视图保持固定并一直显示，我的意思是我不想让用户滚动它，因为他会看到这一切。我应该怎么做才能使其始终显示并适合所有移动设备的所有屏幕尺寸？我试过这样：

列表显示

```
<ListView
            android:divider="#000000"
            android:id="@+id/lv_profile_listview_with_search_alphabets"
            android:layout_width="0dip"
            android:layout_height="fill_parent"
            android:layout_weight="0.1"
             >
        </ListView> 
```

项目清单

```
<TextView
        android:id="@+id/tv_list_item_alphabet_oneAlphabet"
        android:layout_width="fill_parent"
        android:layout_height="0dip"
        android:layout_gravity="center_horizontal"
        android:background="@drawable/alphabet_selector"
        android:gravity="center_horizontal"
        android:textColor="#040404"
        android:textSize="10dip"
        android:typeface="sans" 
        /> 
```

但是在我的设备上，屏幕按钮上仍然有空白区域。

我猜的解决方案之一，我在我的适配器上以编程方式设置每个列表项的高度，比如

```
li.setHeight(ScreenHeight/26); 
```

但我不知道如何获得 ScreenHeight 也不是一个好方法。

请有任何帮助

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T09:43:36.927

设置项目高度是一个非常糟糕的主意。如果您想获得相对于屏幕尺寸的高度，您应该使用**垂直**线性布局，将项目**高度**设置为零并在其上添加权重。要禁用滚动尝试添加 android:clickable="false" 属性。

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical"
    android:weightSum="1" >

    <ListView
        android:divider="#000000"
        android:id="@+id/lv_profile_listview_with_search_alphabets"
        android:layout_width="match_parent"
        android:layout_height="0dp"
        android:layout_weight="0.3"
        android:clickable="false"/>

</LinearLayout> 
```

如果垂直布局的权重总和为 1，而您的权重为 0.3，则意味着它占用的屏幕高度略低于屏幕高度的 1/3。您可以通过权重和方向在 LinearLayout 中设置相对宽度或高度。例如，要使 ListView 的宽度为屏幕宽度的 0.5，并将高度设置为 match_parent，它会是这样的。请注意，如果 item 为 0dp ，LinearLayout 现在是**水平**和**宽度的**

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="horizontal"
    android:weightSum="1" >

    <ListView
        android:divider="#000000"
        android:id="@+id/lv_profile_listview_with_search_alphabets"
        android:layout_width="0dp"
        android:layout_height="match_parent"
        android:layout_weight="0.5"
        android:clickable="false"/>

</LinearLayout> 
```

在代码中根据屏幕大小设置项目高度是一种不好的做法。您可以自定义项目布局并从维度设置项目的 layout_height 并为不同的分辨率添加不同的维度

[http://developer.android.com/guide/topics/resources/more-resources.html#Dimension](http://developer.android.com/guide/topics/resources/more-resources.html#Dimension)

[http://developer.android.com/guide/topics/resources/providing-resources.html](http://developer.android.com/guide/topics/resources/providing-resources.html)

这些文章可能对您有所帮助

[http://developer.android.com/guide/practices/screens_support.html](http://developer.android.com/guide/practices/screens_support.html)

[http://developer.android.com/training/multiscreen/index.html](http://developer.android.com/training/multiscreen/index.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-06T09:48:53.303

要获得屏幕的高度，请执行以下操作：

```
 listView.getViewTreeObserver().addOnGlobalLayoutListener(new OnGlobalLayoutListener() {

    public void onGlobalLayout() {
      item.setMinimumHeight(listView.getHeight() / 26);
    }
  }); 
```

对于不允许滚动尝试：

```
listView.setScrollContainer(false) 
```

# sql - 在包中调用 SQL 查询中的任何函数而不在包规范中声明函数时出现错误

> ID：14725559
> 
> 赞同：-1
> 
> 时间：2013-02-06T09:26:55.363
> 
> 标签：sql, oracle, plsql, user-defined-functions

我在包中创建了一个返回 NUMBER 类型的函数，但没有在包规范中声明此函数。

我在 SQL 查询的另一个函数中调用这个函数，它在同一个包体中。我收到错误。

当我在包规范中声明函数时，它可以正常工作。

我想知道背后的原因。请任何人解释一下。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-07T09:45:40.807

与前向声明完全无关。

**这涉及您使用 SQL 查询来调用函数**的事实。似乎当使用语句调用函数时，您不再处于 PL/SQL 包的范围内，因此您只能调用公开可用的函数。

**至于为什么**，我只能猜测，所以不要想当然，但是**PL/SQL和SQL有不同的引擎**。因此，在执行 sql 查询时，即使在您的 pl/sql 包中，您也会转到 SQL 级别，它将根据 SQL 引擎再次检查权限。所以它不知道它是从一个 PL/SQL 包中执行的，你应该被允许调用私有函数。

我认为可以轻松检查引擎的差异，尝试使用 32000 的 varchar2，它将在您的 pl/sql 函数中工作。现在，如果您调用返回 a 的 pl/sql 函数`varchar2(32000)`，它将失败。这是我遇到的一个问题，但我没有任何数据库可以给你一个片段。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-02-06T09:40:32.327

您可以使用仅在包体中声明的函数，但您必须在首次使用它们之前声明它们：

```
create or replace package pkg_so is

  function get2 return number;

end pkg_so;
/
create or replace package body pkg_so is

  function get1 return number is
  begin
    return 1;
  end;

  function get2 return number is
  begin
    return get1 + 1;
  end;

end pkg_so;
/
select pkg_so.get2 from dual
/ 
```

* * *

## 回答 #3

> 赞同：-3
> 
> 时间：2013-02-06T15:20:15.173

是的，这称为前向声明。如果任何程序/函数未在包 sepcificarion 中声明。那么它必须在第一次在body中使用之前先在body中声明。

```
create or replace package pkg_so is

  function get2 return number;

end pkg_so;
/
create or replace package body pkg_so is

  function get1 return number is
  begin
    return 1;
  end;

  function get2 return number is
  begin
    return get1 + 1;
  end;

end pkg_so;
/
select pkg_so.get2 from dual
/ 
```

# mysql - 使用选择查询问题

> ID：14725567
> 
> 赞同：0
> 
> 时间：2013-02-06T09:27:10.607
> 
> 标签：mysql, sql, oracle

我正在使用选择查询按名称从表中选择特定记录。该表包含超过 25000 条记录。

表格格式为

```
|rcode|rname|vcode|vname|div_sec|ofrn|phone|dat| 
```

此外，它可能包含多个具有相同名称的记录。我正在使用以下查询

```
ResultSet rs=stmt.executeQuery("select * from newfarmer where rname='"+get+"'");
if(rs.next())
{
     rcode=rs.getString("rcode");
     out.print(rcode);
     out.print(" ");
} 
```

我必须找出给定 rname 的 rcode。现在使用上述查询的问题是，如果我搜索名称为“kannan”的记录，该表包含 6 个名称为“kannan”的记录

```
10001 kannan
10089 kannan
11826 kannan
12241 kannan
12389 kannan
19926 kannan 
```

现在，我的查询只获取了第一条记录并给出结果为**rcode="10001"**

如果我使用

```
while(rs.next())
{
     rcode=rs.getString("rcode");
     out.print(rcode);
     out.print(" ");
} 
```

它只会将最后一条记录打印为**rcode="19926"**。假设我想用 rcode 12241 获取“kannan”的记录，如何修改查询以获取记录？请注意，我必须只使用 rname 来获取详细信息。

这个问题有什么解决办法吗？请有人帮助我

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T09:34:24.773

实际上，第二个片段应该输出*所有*记录，`kannan`除非你抄错了。*这*将输出最后一个：

```
while(rs.next()) {
    rcode=rs.getString("rcode");
}
out.print(rcode);
out.print(" "); 
```

理想的解决方案是根据两列将查询更改为限制：

```
select * from newfarmer where rname = 'kannan' and rcode = '12241' 
```

但是，由于您认为这是一种可能性，因此您必须将它们全部获取并过滤出您想要的那些（但是与让 DBMS 这样做相比效率低下）。换句话说，类似：

```
while(rs.next()) {
    rcode=rs.getString("rcode");
    if (rcode == "12241") {       // or some other identifying condition.
        out.print(rcode);
        out.print(" ");
    }
} 
```

我的建议是返回并重新检查您是否需要仅`rname`用于获取记录。这似乎是一个奇怪的限制，并且使任何解决方案都远不如其他解决方案那么理想。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-06T09:47:37.360

The 2nd snipped would certainly retrieve all rows in the ResultSet, but be aware that there's no guaranteed order of the records unless you supply an order by clause in the SQL. Maybe that's why you think it's only getting the last - you're only looking at the first row returned, finding it's the id you expect last, and ignoring the rest. Just a possibility.

Is there an index on the rname column? If not, the query will be quite slow.

Also, this:

```
ResultSet rs=stmt.executeQuery("select * from newfarmer where rname='"+get+"'"); 
```

is a big, open invitation to SQL injection attacks. Insead use parameters in a prepared statement:

```
//Just prepare the statement once for multiple uses:
Statement stmt = conn.prepareStatement("select * from newfarmer where rname=?");

//use it:
stmt.setString(1, name);
ResultSet rs = stmt.execute(); 
// etc... 
```

# jquery - jQuery jAlert 选项列表

> ID：14725569
> 
> 赞同：0
> 
> 时间：2013-02-06T09:27:23.750
> 
> 标签：jquery, jquery-plugins

我正在使用 jAlert 插件，最近看到了一个我直到今天才关心的参数……是选项列表。

用法：

```
$.jAlert([message], [highlight level], function() {
    //callback
}, [options]); 
```

我已经搜索了一段时间，但在任何地方都没有看到选项列表。

有谁知道从哪里获取此列表的所有参数？

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T09:50:18.030

首先你确定有一些参数叫做`option`.

从插件 js 文件看来，与 jAlert 一起使用的参数是：

```
jAlert(msg, type, uid, alert_box_width, yoffset) 
```

# iphone - Iphone-如何连续旋转图像30秒并停在180度

> ID：14725575
> 
> 赞同：0
> 
> 时间：2013-02-06T09:27:39.867
> 
> 标签：iphone, animation, ios6, xcode4.5

到目前为止我有这个。我希望图像旋转大约 30 秒并停下来，然后面向另一个方向。

编辑。更改了代码。我有这个，但它会旋转并且不会停止 180 度。我希望它旋转几次并在相反的方向停止。

```
 CAKeyframeAnimation *animation = [CAKeyframeAnimation animationWithKeyPath:@"transform.rotation.z"];
  animation.duration = 0.60;//animation.duration = 0.60;
  animation.repeatCount = 1;//animation.repeatCount = 1000ˆ

//#warning remove comment brackets below

  animation.keyTimes = [NSArray arrayWithObjects:
                        [NSNumber numberWithFloat:0.0],
                        [NSNumber numberWithFloat:1.0], nil];

  animation.values = [NSArray arrayWithObjects:
                      [NSNumber numberWithFloat:0.0],
                      [NSNumber numberWithFloat:(degrees / 180)*M_PI], nil];

  animation.fillMode = kCAFillModeForwards; 
```

如何在图像仍旋转 180 度的情况下停止动画。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T12:40:32.767

怎么样

```
 CABasicAnimation *animation = [CABasicAnimation animationWithKeyPath:@"transform.rotation"];
animation.delegate = self;
animation.autoreverses = YES;
animation.repeatDuration = 30;
animation.duration = 1.0;
animation.fromValue = [NSNumber numberWithFloat:-degreeToRadian(180)];
animation.toValue=[NSNumber numberWithFloat:degreeToRadian(180)];
[self.button.layer addAnimation:animation forKey:@"animation"]; 
```

然后添加一个委托方法

```
- (void)animationDidStop:(CAAnimation *)theAnimation finished:(BOOL)flag
{
   self.button.transform = CGAffineTransformMakeRotation(degreeToRadian(180));
} 
```

我希望这是你想要的。

# c# - 将 XML 文档添加到函数

> ID：14725578
> 
> 赞同：0
> 
> 时间：2013-02-06T09:27:50.853
> 
> 标签：c#, .net

我得到了一个基本上就是这个方法的函数：

```
/// <summary>Extracts the parent id.</summary>
/// <param name="nameEntities">The name entities.</param>
/// <param name="tcdMakeId">The TCD make id.</param>
/// <returns>Parent Id.</returns>
public Nullable<int> ExtractParentId( IEnumerable<NameEntity> nameEntities, int childId )
{
    /* Do some Extraction here */
} 
```

在方法中，为参数等添加漂亮​​的 XML 文档完全没有问题。但是有没有办法用函数来做到这一点？我同事的 Intellisense 只给了他 Arg1、Arg2。

功能将是：

```
private Func<IEnumerable<NameEntity>, int, Nullable<int>> ExtractParentId
{
    get
    {
        return this._extractParentId = this._extractParentId ??
            new Func<IEnumerable<NameEntity>, int, Nullable<int>>( ( nameEntities, childId ) =>
            {
                /* Do some Extraction here */
            } );
    }
} 
```

好吧，我知道这不是一个完美的例子，但我不能在这里发布真正的代码（企业：/ 和方式很长），但这基本上是一个精简版。

非常感谢，马克

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T09:43:05.507

在我看来，您很像是在尝试重新发明代表轮：

```
/// <summary>
/// 
/// </summary>
/// <param name="nameEntities"></param>
/// <param name="childID"></param>
/// <returns></returns> <!--etc-->
private delegate Nullable<int> ExtractParentIdDelegate(IEnumerable<int> nameEntities, int childID);

/// <summary>
/// 
/// </summary>
private ExtractParentIdDelegate FuncExtractParentId
{
    get
    {
        return this._extractParentId = this._extractParentId ?? new ExtractParentIdDelegate(delegate(IEnumerable<int> nameEntites, int childID)
                                                                    {
                                                                            //
                                                                    });
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-06T10:04:56.323

与其使用通用委托`Func<...>`，不如为该属性声明一个特定的委托类型，并将文档作为委托定义的一部分。然后该属性将显示代表的文档。这就是您看到的*Arg1*和*Arg2*`Func<R,S,T>`的来源—— .

例如，试试这个：

```
 /// <summary>
    /// Using Func<int,int,int>, we get generic documentation
    /// </summary>
    public Func<int,int,int> UsingFunc{ get; }

    /// <summary>
    /// Example of a delegate with XML documentation as if it was a method.
    /// </summary>
    /// <param name="left">Left operand</param>
    /// <param name="right">Right operand</param>
    /// <returns>Whatever it returns</returns>
    public delegate int CustomDelegate(int left, int right);

    /// <summary>
    /// Using a custom delegate to get full documentation.
    /// </summary>
    public CustomDelegate UsingCustomDelegate{ get; } 
```

# android - 全局获取wakelock和在handler.postDelayed()块中定义的setResult()时不调用onActivityResult()

> ID：14725579
> 
> 赞同：0
> 
> 时间：2013-02-06T09:27:51.267
> 
> 标签：android, android-intent, android-wake-lock, android-handler

我有一些在屏幕打开时执行的代码，但是当我关闭屏幕电源时，执行中有一些问题（即使在全局获取 Wakelock 之后）。我有一个获取唤醒锁并调用活动的服务 - ExecuteScript 使用以下代码：

执行脚本.java：

```
 Intent intent = new Intent(this,ScriptActivity.class);
 intent.putExtra("code",code);
 intent.putExtra("type", type);  
 startActivityForResult(intent,REQUEST_CODE); 

 protected void onActivityResult(int requestCode, int resultCode, Intent data) {  
 super.onActivityResult(requestCode, resultCode, data);
 Log.d(TAG,"The result code value inside onActivityResult() is: "+requestCode +resultCode);
 if (resultCode == RESULT_OK && requestCode == REQUEST_CODE) {              
 Log.d(TAG,"ScriptActivity finished success!!"); 
 } 
```

在我的 ScriptActivity（调用 Service 并执行需要 30 秒的操作）中。但是，在我的情况下没有调用 onActivityResult() 。我不确定为什么会发生这种情况。请帮我。

我在 handler.postDelayed() 块中定义了 setResult()。我有如下代码：

ScriptActivity.java

```
Intent serviceIntent = new Intent(this,ScriptService.class);
serviceIntent.putExtra("code",code);
serviceIntent.putExtra("type",type);
startService(serviceIntent);
handler.postDelayed(new Runnable(){public void run(){     
Intent data = new Intent(ScriptActivity.this,ExecuteScript.class);
data.putExtra("returnKey1", "You can write the file to the server ");   
setResult(Activity.RESULT_OK, data);
Log.d(TAG,"**After calling the method startActivityTwo here*****");
finish();
}},30000); 
```

**更新：**使用绑定服务也不起作用。对此有什么想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T14:04:31.030

当我的活动有焦点并且我关闭屏幕时，它会停止。根据开发者页面，停止：在这种状态下，活动完全隐藏，对用户不可见；它被认为是在后台。停止时，活动实例及其所有状态信息（如成员变量）被保留，但不能执行任何代码。

此外，我修改了代码，以便我的服务可以直接调用 ScriptService 类，而无需任何活动。在我的服务的 onCreate() 方法中，我使用[在不同活动中将唤醒锁释放到](https://stackoverflow.com/questions/11274196/releasing-wakelock-in-different-activity-to-where-it-was-acquired)获取位置的链接来获取全局唤醒锁。

# x++ - 如何根据标题网格中的选定记录过滤线网格中的记录？

> ID：14725584
> 
> 赞同：0
> 
> 时间：2013-02-06T09:28:01.567
> 
> 标签：x++, axapta, dynamics-ax-2012

我有一个带有 2 个网格的表格。我想根据第一个网格（标题网格）中的选定记录显示第二个网格（线网格）中的记录，即我需要过滤第二个网格中的记录..怎么做？我在表单上使用查询作为数据源。 ![在此处输入图像描述](../Images/dfb3238e8940431f1875a17bf88c32e1.png)

如图所示，有一个名为活动编号的公共字段。现在，我需要在第二个网格中显示第一个网格中选定记录的记录（比如 VA-00015）。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-06T10:52:23.843

这称为[连接数据源](http://msdn.microsoft.com/en-us/library/aa608858%28v=ax.50%29.aspx)，并在链接中进行了说明。

如果您的数据源是基于查询的，那么您就不走运了：这些表要么是内部联接的，要么是外部联接的，因此通常的动态链接逻辑将不起作用。

您将不得不恢复到基于普通表的数据源。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-17T10:07:04.963

使用JoinSource，例如您可以有2 个数据源SalesTable 和SalesLines，在SalesLine 的详细数据源中将JoinSource 设置为SalesTable。现在，一旦您单击 SalesTabel 网格，SalesLine 网格将显示所选 SalesTable 的行，无需额外代码。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-07T05:22:43.630

您需要学习 Morph X 开发环境的基础知识，[这](https://www.4shared.com/rar/OnwA7IYd/AX_2012_Dev_Course_Complete.html)可能会对您有所帮助..

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-15T05:30:37.057

如果表单中的数据源是基于查询的，则没有可用于连接数据源的选项，并且我们不能添加任何额外的数据源：并且表是内连接或外连接的。因此，当您需要使用动态链接显示数据时，最好不要选择查询。

我做了同样的事情，并将不同的表作为数据源而不是查询。此外，我还为同一个表创建了两个不同的数据源，这些数据源通常在页眉和线网格中用于链接。

此外，我已经根据需要加入了数据源 a/c。我还为从不同数据源使用的字段创建了一些显示方法。

# python - 当依赖参数值依赖多个变量时如何在python中创建查找表

> ID：14725594
> 
> 赞同：1
> 
> 时间：2013-02-06T09:28:19.637
> 
> 标签：python, lookup-tables

我有一个如下所示的数据库，其中参数“b”的值取决于多个其他参数的值，即。a(1), a(2) ... a(n):

```
a(1),a(2),a(3),...,a(n) : b 
```

和这样的多行。'n' 的值也是动态的，并且在各种数据集之间变化。

在 Python 中为此类数据构建查找表的最佳方法是什么？

一种方法是使用嵌套字典，其中 **a(i)**的值作为**第 i**级键，但动态创建这样的字典似乎太麻烦了。

## 附加信息

我需要查找表来为 a(1)、a(2) ... a(n) 的值的不同组合查找变量 b 的值。在许多情况下，a(i) 的值是一个范围而不是一个特定的值。它不是 SQL 数据库。

我基本上必须遍历各种 a(i) 变量的值集，并为该特定值集找到变量“b”的适当值。

示例数据集：

```
a(1)    a(2)    b
1-2     1-2    5-15
1-2     3-4    16-30
3-10    1-4    10-30 
```

# azure - SignalR 和 Azure - 不可靠的消息传递？

> ID：14725595
> 
> 赞同：0
> 
> 时间：2013-02-06T09:28:32.673
> 
> 标签：azure, signalr

我在 Azure 云服务上运行 SignalR，我尝试使用 azure 消息总线跨实例进行通信。

我使用以下代码连接到消息总线：

```
GlobalHost.DependencyResolver.UseWindowsAzureServiceBus(
                "Endpoint=sb://<snip>;SharedSecretIssuer=<snip>;SharedSecretValue=<snip>",
                1, /* number of Instances */
                5 /* number of Topics*/
                ); 
```

然而，当这条线到位时，实际上只有大约 50% 的消息得到了返回。

如果我将此行注释掉，则处理 100% 的消息，但我仅限于运行一个实例。

我的天蓝色服务总线有什么特别需要做的吗？

另外，实例/主题的数量实际上有什么区别？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T10:34:00.273

约翰，

我认为实例数转化为每个主题的订阅数，所以这个数字应该等于您托管的实例数（RoleEnvironment.CurrentRoleInstance.Role.Instances.Count）。

我猜您缺少消息，因为此值已设置为 1 而不是 2（我猜这是您的实例数）

如果您应该达到任何服务总线配额，主题的数量将导致更多的主题用于在实例之间传递消息并增加吞吐量。

亲切的问候，伊夫

# java - java.lang.ClassCastException：net.sf.ehcache.hibernate.SingletonEhCacheRegionFactory 无法转换为 org.hibernate.cache.RegionFactory

> ID：14725596
> 
> 赞同：1
> 
> 时间：2013-02-06T09:28:37.303
> 
> 标签：java, spring, hibernate, ehcache, classcastexception

我正在尝试将 Ehcache (2.6.0) 配置为 Hibernate (3.6.4) 二级缓存。我在 spring 上下文文件中设置了以下属性

```
<prop key="hibernate.cache.use_second_level_cache">true</prop>
<prop key="hibernate.cache.use_query_cache">true</prop>
<prop key="hibernate.cache.region.factory_class">net.sf.ehcache.hibernate.SingletonEhCacheRegionFactory</prop> 
```

当我启动应用程序时，它失败并出现以下异常：`java.lang.ClassCastException: net.sf.ehcache.hibernate.SingletonEhCacheRegionFactory cannot be cast to org.hibernate.cache.RegionFactory`

这是堆栈跟踪：

```
Caused by: org.hibernate.HibernateException: could not instantiate RegionFactory [net.sf.ehcache.hibernate.SingletonEhCacheRegionFactory]
    at org.hibernate.cfg.SettingsFactory.createRegionFactory(SettingsFactory.java:423)
    at org.hibernate.cfg.SettingsFactory.buildSettings(SettingsFactory.java:280)
    at org.hibernate.cfg.Configuration.buildSettingsInternal(Configuration.java:2863)
    at org.hibernate.cfg.Configuration.buildSettings(Configuration.java:2859)
    at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1870)
    Caused by: java.lang.ClassCastException: net.sf.ehcache.hibernate.SingletonEhCacheRegionFactory cannot be cast to org.hibernate.cache.RegionFactory
    at org.hibernate.cfg.SettingsFactory.createRegionFactory(SettingsFactory.java:409) 
```

我查看了源代码并观察到了这 `SingletonEhCacheRegionFactory extends AbstractEhcacheRegionFactory`一点`AbstractEhcacheRegionFactory implements RegionFactory`

SettingsFactory.java:409 的代码是

```
 return (RegionFactory) ReflectHelper.classForName( regionFactoryClassName )
                    .getConstructor( Properties.class )
                    .newInstance( properties ); 
```

一切似乎都到位，但我仍然得到例外。有什么线索吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T12:20:35.343

您可以通过提供提供者类来尝试：

org.hibernate.cache.EhCacheProvider

并确保您已为 ehCache 添加了所需的 jar。

# python - 在子进程下使用 pexpect 有错误

> ID：14725599
> 
> 赞同：2
> 
> 时间：2013-02-06T09:28:44.260
> 
> 标签：python, ssh, pexpect

我用`pexpect`'s`pxssh`模型写了一个自动 ssh 登录程序。但是当我在 中使用相同的程序时`multiprocessing`，会发生此错误：

```
Exception in thread Thread-2:
Traceback (most recent call last):
  File "/usr/local/zenoss/lib/python2.6/threading.py", line 525, in __bootstrap_inner
    self.run()
  File "/usr/local/zenoss/lib/python2.6/threading.py", line 477, in run
    self.__target(*self.__args, **self.__kwargs)
  File "/usr/local/zenoss/lib/python2.6/multiprocessing/pool.py", line 259, in _handle_results
    task = get()
TypeError: ('__init__() takes exactly 2 arguments (1 given)', <class 'pexpect.EOF'>, ()) 
```

## 这是我的代码：

```
import pxssh
import multiprocessing

class ssh_linux:
    def __init__(self,q_host,linux_user,linux_pwd,linux_su_passwd,linux_port):
        timeout=5
        status,shell=self.ssh_login(q_host,linux_user,linux_pwd,timeout,linux_port)
        #i think this error--------
        if status:
            print 'conn ok!'
            self.set_env(shell)

    def ssh_login(self,q_host,linux_user,linux_pwd,timeout,linux_port):
        status=0
        try:
            s = pxssh.pxssh()
            s.login (q_host,linux_user,linux_pwd,port=linux_port,auto_prompt_reset=True,login_timeout=timeout)
            status=1
        except pxssh.ExceptionPxssh, e:
            s=str(e)
            print "ssh login fail!",s
            status=0
        return status,s

def do_calculation(data):
    run=ssh_linux(q_host,linux_user,linux_pwd,linux_su_passwd,linux_port)

def main():     
    pool_size = multiprocessing.cpu_count() * 2
    pool = multiprocessing.Pool(processes=pool_size,initializer=start_process,)
    pool.map(do_calculation,input_list)
    pool.close()
    pool.join() 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T13:18:07.907

感谢大家。我发现解决了这个问题。

这个问题是我的：**代码不规范** 我把我的代码改成这个，返回是好的：

```
 self.hostname = q_host
    self.username = linux_user
    self.password = linux_pwd
    self.su_pw=linux_su_passwd
    self.port=linux_port
    status,shell=self.ssh_login(self.hostname,self.username,self.password,self.timeout,self.port) 
```

# java - 使用 Html 或 JavaScript 在 Java 中滚动图像？

> ID：14725601
> 
> 赞同：0
> 
> 时间：2013-02-06T09:28:44.117
> 
> 标签：java, javascript, html, css

在我的应用程序中，我有 6 张图片。

我想在我的 Web 应用程序中一张一张地滚动这 6 张图片。

我正在尝试使用`marquee`标签在 HTML 中，但它正在移动，但我想要一张一张的图像。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T11:27:47.640

只需从 gitHub 下载该插件并使用它。这是非常直接的。您必须将容器 div 添加到迂回方法：这是代码。$(function() { $('containerDiv').roundabout({ easing: 'easeOutInCirc', duration: 1000 }); });

# windows-phone-8 - Skype 在 Windows Phone 8 上使用哪种类型的磁贴布局？

> ID：14725603
> 
> 赞同：1
> 
> 时间：2013-02-06T09:28:45.630
> 
> 标签：windows-phone-8, windows-phone, skype

![Skype WideTile](../Images/12531eef377bfe39c0fe397a0dcac780.png)

他们在使用[标志性瓷砖](http://msdn.microsoft.com/en-us/library/windowsphone/develop/jj207009(v=vs.105).aspx)吗？如果是，那么他们如何在左侧显示图标和计数，在右侧显示内容？在 MSDN 文档中，宽图标磁贴没有这种类型的图标和内容格式。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-25T08:56:21.900

Skype 使用的磁贴布局似乎是自定义磁贴布局。

创建它的一种方法是在代码中创建包含磁贴的所有内容（标题“Skype”除外）的图像。

Imagetools 库 ( [http://imagetools.codeplex.com/](http://imagetools.codeplex.com/) ) 可用于创建自定义 png 图像。或者您可以使用可写位图的渲染方法以位图的形式保存带有 tile 内容的网格并将其转换为.jpg

然后使用 png 或 jpeg 图像作为 FlipTileData 中的背景图像来创建类似的图块。

# ruby-on-rails - Rails 控制器内容到单独的配置文件中

> ID：14725605
> 
> 赞同：0
> 
> 时间：2013-02-06T09:29:19.497
> 
> 标签：ruby-on-rails, controllers

有人知道将控制器项目分离到单独文件中的好方法吗？我的控制器中有以下内容。

```
def admin?
    session[:password] == "password"
end 
```

但是我想将“密码”分成一个单独的文件，这样我就可以从公共 git repo 中忽略它？

是否有捷径可寻？不将其存储在数据库中？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T09:45:36.557

您可以尝试使用`ENV`变量。首先将环境变量设置为一个值。

`export MYAPPPASSWORD=1234`

然后在初始化程序中使用它

```
# config/initializers/my_app_password.rb
ENV['MYAPPPASSWORD'] = `printf "%s" $MYAPPPASSWORD` 
```

然后你可以打电话`ENV['MYAPPPASSWORD']`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T09:42:28.003

尽管在会话中存储密码并以这种方式使用它是一种不好的做法。但是，如果您有特定的理由这样做，那么您可以将其存储在 config 目录下或任何地方的 yml 文件中。我在 config 目录下给出示例：

在你的 /config/passwords.yml

```
password: your_password_text_here_without_quotes 
```

并在您的控制器/模型/任何地方加载文件并获取密码。

```
password = YAML.load_file("#{Rails.root}/config/passwords.yml")["password"] 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-06T09:44:17.163

您可以使用全局常量来处理这些设置。例如在 config 目录中定义一个 yml 文件：

```
#config/password.yml
password: MyPassword 
```

使用初始化程序在系统启动时加载您的设置。就像是：

```
#config/initializers/load_password.rb
conf_file = File.join(Rails.root, 'config', 'password.yml')
MY_CONFIG = OpenStruct.new YAML.load_file(conf_file) 
```

在您的整个项目中访问它：

```
MY_CONFIG.password 
```

但是您不应该使用这种方法来以这种方式处理密码。对于简单的身份验证，请查看此[基本身份验证的示例](http://api.rubyonrails.org/classes/ActionController/HttpAuthentication/Basic.html)

# java - 在tomcat会话结束之前运行方法

> ID：14725606
> 
> 赞同：0
> 
> 时间：2013-02-06T09:29:31.077
> 
> 标签：java, javascript, tomcat, tomcat7

在分配的 tomcat 会话到期之前，可以在 java 或 javascript 中运行一种方法吗？例如。用户 1 的会话到期，这又会“触发”一个方法在它到期之前运行吗？所以我的问题是，有没有办法判断会话是否过期（例如会话异常），然后会触发一个函数运行？

如果有人可以帮助我，我将不胜感激，谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T09:35:35.837

是的，您可以使用`HttpSessionListener#sessionDestroyed()`方法。

创建一个实现`HttpSessionListener`接口的类，并在方法中添加您的代码`sessionCreated(HttpSessionEvent sessionEvent)`

请参阅链接[会话侦听器示例](http://www.roseindia.net/servlets/ListenerSession.shtml)和[会话侦听器示例 2](http://www.mkyong.com/servlet/a-simple-httpsessionlistener-example-active-sessions-counter/)

尽管如此，[Javadocs 总是在那里](http://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpSessionListener.html)

来自 javadoc：

```
void sessionDestroyed(HttpSessionEvent se) 
   Receives notification that a session is about to be invalidated. 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T09:35:23.113

看看[HttpSessionListener](http://docs.oracle.com/javaee/5/api/javax/servlet/http/HttpSessionListener.html)。[您可以按照此处](http://www.mkyong.com/servlet/a-simple-httpsessionlistener-example-active-sessions-counter/)的说明实现此接口并使用 Web XML 对其进行配置。

# php - 我想让会话保持 10 分钟。然后取消设置或销毁它

> ID：14725616
> 
> 赞同：-5
> 
> 时间：2013-02-06T09:29:54.460
> 
> 标签：php, session-timeout

如果一个人闲置 10 分钟，那么我希望页面过期 -> 用户必须再次登录才能继续。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T09:34:14.560

```
ini_set("session.gc_maxlifetime","600");
session_start(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T09:32:03.000

```
session_start();
if( time() - $_SESSION['login_time'] > 600)
{
    header("Location:login.php");
} 
```

这将检查会话是否已运行超过 600 秒（10 分钟）。

当然首先你必须存储：

```
$_SESSION['login_time'] = time(); 
```

创建会话时。

# c# - 从列表中获取父母列表？

> ID：14725619
> 
> 赞同：0
> 
> 时间：2013-02-06T09:29:55.677
> 
> 标签：c#, sqlite

我正在编写一个小 C# 程序以递归方式扫描目录并获取每个文件的文件大小、其他一些信息，并将其全部添加到 sqlite 数据库中的表中。但是，我遇到了一些障碍-我想获取目录数据（下面的表结构）并将其转换为 List< Class > Class 是具有文件数据、目录数据**和**所有列表的类按顺序排列目录的父级（父级、祖父级等）。

目录表：

```
id int
parentID int
directoryName string 
```

我该怎么做呢？获取孩子列表很简单，但我发现如果不反复循环遍历目录列表，获取父母列表相当困难。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T10:04:26.840

我认为这`List<Class>` 不是正确的课程。

根据您要对列表执行的操作，`Dictionary<int, Class>`如果您的列表顺序不重要，我会使用 a，否则`SortedDictionary<int, Class>`如果您希望它按 ID 排序，或者`OrderedDictionary`您希望能够指定不同的方式排序。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T09:37:11.347

您可以使用[DirectoryInfo.GetParent()](http://msdn.microsoft.com/en-us/library/system.io.directory.getparent.aspx)

```
List<DirectoryInfo> parents = new List<DirectoryInfo>();
DirectoryInfo parent = di.Parent;
while(parent != null){
      parents.Add(parent);
      parent = di.Parent;
} 
```

# r - 在空设备中打开绘图

> ID：14725620
> 
> 赞同：1
> 
> 时间：2013-02-06T09:30:03.310
> 
> 标签：r, plot, suppress, r-grid

我正在使用该`treemap`包，我对如何`tmPlot`安排绘图矩形感到满意，我想为我自己的不同绘图提取网格。一个例子如下：

```
library(treemap)
data(GNI2010)
dat <- tmPlot(GNI2010,
          index=c("continent", "iso3"),
          vSize="population",
          vColor="GNI",
          type="value")[[1]][[1]] 
```

这样我可以存储我想要的矩形的坐标。问题是它也产生了一个情节。我可以看到几种防止情节产生的方法：

```
.Call("R_GD_nullDevice", PACKAGE = "grDevices")
#tmPlot here
dev.off() 
```

这实际上会将绘图发送到 NULL 设备，但会发出警告：

```
R_GD_nullDevice is deprecated and will be removed shortly 
```

我宁愿我的代码没有这样破坏。我也可以去掉相关部分`tmPlot`，只剩下我想要的部分。这是可能的，但会有点麻烦。我打算将包含它的函数放入包中。

简而言之，是否可以压制图形？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-07T01:23:10.223

一种似乎可行的方法是打开一个 NULL`pdf`设备。我最初在设备上尝试过这个`png`，但它不起作用。

```
pdf(NULL)
dat <- tmPlot(GNI2010,
          index=c("continent", "iso3"),
          vSize="population",
          vColor="GNI",
          type="value")[[1]][[1]]
dev.off() 
```

# perforce - 如何在 peforce 中压缩包含不包括 .exe 的源文件的分支

> ID：14725621
> 
> 赞同：0
> 
> 时间：2013-02-06T09:30:18.007
> 
> 标签：perforce, perforce-branch-spec

有人可以帮我找到如何在 perforce 中压缩包含源文件（不包括 .exe）的文件夹/分支

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T14:29:39.490

第一个问题是为什么你的 Perforce 中有一个 exe？

它是第 3 方 exe 还是您构建的输出？

首先，您将从客户端规范开始，例如：

```
Client: narain_win
Owner:  narain
Description:
        Client spec to create Zip version
Root:   null
Options:        nomodtime noclobber
SubmitOptions:  
View:
        //depot/my_branch/...     "//narain_win/c:/Zip Release/..." 
```

然后，使用连字符修改视图以删除您的 exe 文件，例如：

```
-//depot/my_branch/....exe "//narain_win/c:/Zip Release/..." 
```

然后，您将需要一个命令行操作来

1.  同步客户端规范
2.  压缩文件

对于第一项，您可以检查[p4 sync](http://www.perforce.com/perforce/r12.2/manuals/cmdref/sync.html)，但您必须选择正确的客户端规范，这可以通过调用来完成`p4 -c clientname cmd`。

一切同步后，使用您拥有的任何命令行 zip 工具，例如 WinZip、7Zip 等……还有很多选择。

# c++ - C++ 中的命名空间和打包

> ID：14725622
> 
> 赞同：6
> 
> 时间：2013-02-06T09:30:18.040
> 
> 标签：c++, architecture, namespaces, inversion-of-control, packaging

在打包代码中使用命名空间的最佳/最干净的方法是什么？

例如，在像**boost**这样的库中，似乎有非常有条理的命名空间管理，使用了一些技术来消除名称的歧义。然而，重要的是，人们不会看到太多类似的代码

```
typedef namespace1::namespace2::sth_else::a_class<namespace3::namespace4::b_class> type; 
```

通常，没有太多的跨命名空间，这表明良好的体系结构以及良好的命名空间管理。问题是：什么是好的命名空间管理？

假设我们有这样的文件结构：

```
component1/...  (depends on reusable_if)
component2/...  (depends directly on reusable_if and on component 1)
reusable/
reusable/some_part/
reusable/some_part/...
reusable/some_other_part/
reusable/some_other_part/...
reusable/SthThatUsesBothReusableParts.h   (implements reusable_if/ISth.h)
reusable/SthThatUsesBothReusableParts.cpp (implements reusable_if/ISth.h)
reusable_if/
reusable_if/ISth.h   (pure abstract class)
reusable_if/ISthElse.h (pure abstract class)
main.cpp (e.g. instantiates SthThatUsesBothReusableParts and passes to component1/2) 
```

之所以有 reusable_if/ 文件夹是因为 component1 和 component2 都想重用相同的接口（因此它们都没有“独占”这些接口）。此外，假设项目确实非常大，并且每个文件夹中的类都需要适当的命名空间。

您将如何在这样的项目中应用命名空间？假设我在 namespace 中声明所有类 reusable/ `::reusable`。我应该将 reusable_if 中的接口放入命名空间`::reusable`还是放入`::reusable_if`？或者可能没有，因为它被组件1和组件2使用？

component1 和 component2 中的命名空间呢？有什么要记住的吗？关键字`using`呢？假设我决定添加这个`::reusable_if`命名空间。我可以将`using reusable_if`头文件放入组件 1 和组件 2 中，前提`using ...`是放在命名空间`::component1`和`::component2`?

我愿意接受任何建议，也包括与上述示例不一定相关的建议。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-06T09:50:55.113

**Personal opinion disclaimer.** Your question basically asks for subjective answers, and will probably be closed for it, but I'll give it a shot.

* * *

Namespaces are primarily useful to avoid identifier clashes. There is "your" namespace (`mylib::`), and the namespaces of everybody else (`std::`, `boost::`, `icu::`, ...), and that is about as far as namespaces should be taken.

There is little benefit to be had by subdividing your project (as in, "your team's project") into sub-namespaces, *unless* you get a problem with identifier clashes -- in which case you should reconsider your strategy of calling your classes `X` and `Y`. ;-)

Things are a bit different in *huge* libs, like Boost. They effectively consist of many different projects, maintained by seperate teams, so there's a problem of project-specific identifiers clashing with each other if they were all lumped into `boost::` (and the clash possibly not showing up in casual testing).

If you stop looking at `boost::filesystem` as a "sub-namespace", and instead look at `boost::` as an "identity wrapper" for the individual projects `filesystem::`, `thread::`, `program_options::` and whatnot, so that they look more "Boost-ish", the picture becomes clearer.

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-06T10:02:10.433

这是我在项目中使用的。我的主要规则是每个目录都是一个命名空间，每个文件都是一个类，只有极少数例外（有时我将辅助函数分组到命名空间的子目录中`detail`，但没有另一个嵌套命名空间）。

1.  将您的整个项目保存在以您的项目命名的单个顶级命名空间中。

2.  将每个实用程序组件保存在顶级名称空间内，但位于单独的目录中。这是我唯一一次不让我的命名空间与我的目录树重叠。

3.  将项目中的每个可独立发布的组件保存在以组件命名的嵌套命名空间内。为方便起见，请提供一个以您的组件命名的标头，并在与您的命名空间对应的目录中或直接在项目的顶级目录中包含整个组件接口。

4.  将每个组件的实现保存在嵌套的命名空间内`detail`。与类相反，命名空间没有对`private`成员的语言支持，但 Boost 中的约定是命名空间`detail`不应由用户代码直接调用。

不需要比`project::component::detail::function()`或更多`project:::component::class.member()`的嵌套。如果您提供促进 ADL 的完整接口，您可以在项目中重用组件函数作为类型`function(x)`变量，而不必担心名称冲突。`x``project::component::class`

请注意，用鲍勃叔叔的话来说：“**重用的单位就是发布的单位**”。每个组件都应该提供一堆连贯且相互依赖的类和函数。特别是，它应该为该组件提供一个**完整的接口。**C++ 语言将通过**参数相关查找**(ADL) 来支持这一点。请参阅 Herb Sutter 的旧专栏“[命名空间和接口原则](http://www.gotw.ca/publications/mill08.htm)​​”。

`reuse_if`除非您在评论中提到的注意事项实际适用，否则两者的存在`component`和存在`reusable`可能是代码异味。组件应该是发布单元。如果您可以独立重用一段代码，请将其作为单独的组件。如果代码依赖于另一部分，请将其与其他代码一起发布。有关这些依赖关系，请参见 Sutter 的专栏。

# django - 如何在没有整个 Django 引擎的情况下使用 Django ORM 进行迁移？

> ID：14725625
> 
> 赞同：1
> 
> 时间：2013-02-06T09:30:39.170
> 
> 标签：django, django-models, migration

当我只使用 Django ORM 而不是整个 Django 引擎时，是否可以利用迁移？我的意思是，我在 Internet 的某个地方找到了该脚本：

```
#!/usr/bin/python
# -*- coding: utf-8 -*-

from django.conf import settings
settings.configure(
    DATABASES = {
        'default': {
            'ENGINE': 'django.db.backends.mysql',
            'NAME': 'roma_db',
            'USER': 'root',
            'PASSWORD': 'qweqweqwe'
        }
    },
    INSTALLED_APPS = ('south')
)
from django.db import models

class Game(models.Model):
    url = models.TextField()
    title = models.TextField()
    description=models.TextField()

    def __unicode__(self):
        return self.title

    class Meta:
        app_label = ''

def create_table(cls):
    from django.db import connection
    from django.core.management.color import no_style

    sql, references = connection.creation.sql_create_model(cls, no_style())
    cursor = connection.cursor()
    for q in sql:
        try:
            cursor.execute(q)
        except:
            pass

def main():
    create_table(Game)

if __name__ == "__main__":
    main() 
```

在我想迁移数据库之前，它非常适合我的需求。因为我没有`manage.py`- 我不知道该怎么做。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T09:36:56.657

当然，您可以使用您认为有用的 Django 的任何部分，而无需完全创建一个真正的 Django 项目。

使用自定义应用程序（通常在 PHP 中）和 Django 管理员来管理数据库是很常见的。您可以使用相同的方式使用 South（即迁移）或模板引擎，或任何您认为有用的东西，而无需编写完整的站点（即使用 URL 模式、视图等）。

例如，对于使用 South，首先您需要启动一个空白项目，因为无论如何您都需要 manage.py 和设置：

```
django-admin.py startproject <projectname> 
```

然后，启动一个新应用程序并手动编写初始模型或使用[inspectdb](https://docs.djangoproject.com/en/dev/howto/legacy-databases/)生成它们：

```
python manage.py inspectdb > models.py 
```

将您的应用程序和南添加到 settings.INSTALLED_APPS，就是这样，您可以更改模型并应用更改

```
manage.py migrate <appname> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-06T10:58:17.853

您不必使用完整的 Django 堆栈（即模板、URL 解析等），但您可能必须创建一个 Django 应用程序，因为 South 在应用程序上工作。你可以用一些技巧将所有必要的代码塞进一个文件中（[这篇文章解释了如何](http://fahhem.com/blog/2011/10/django-models-without-apps-or-everything-django-truly-in-a-single-file/)），但恕我直言，这不值得付出努力。只需将适当的应用程序创建为带有`models.py`文件的模块即可。

您不需要 manage.py，因为您可以[从代码中运行管理命令。](https://docs.djangoproject.com/en/dev/ref/django-admin/#running-management-commands-from-your-code)

# php - Laravel 4 仅迁移

> ID：14725627
> 
> 赞同：2
> 
> 时间：2013-02-06T09:30:49.023
> 
> 标签：php, zend-framework, laravel, laravel-4

我在 zend 中有一个应用程序，想添加一个迁移功能。正在查看 Laravel 4 迁移，它们非常好。Laravel 4 开发人员还说 4 中的所有内容都是模块化的，所以我可以只使用我想要的部分。仍然无法找到任何方法来做到这一点，并且想知道我如何只能使用 Laravel 4 的迁移部分并在其他任何地方插入？或者如何从 Laravel 中拉出任何一个模块并将其插入其他地方。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T03:46:56.623

Laravel 4 为此使用了部分交响乐和照明。

它不会像放入一个包然后执行“工匠迁移”那么简单，但您可以安装 L4 用于此目的的包。以下 composer.json 文件将我认为您需要的所有内容安装到供应商目录中。

```
 {
    "require": {
        "illuminate/database": "4.0.*@dev"
    },
    "require-dev": {
        "illuminate/console": "4.0.*"
    },
    "minimum-stability": "dev"
  } 
```

问题是你必须弄清楚如何使用它:-)我个人目前不知道。但是您可以通过查看 L4 源代码来了解如何为您的 zend 应用程序制作自己的工匠命令，以了解它们如何访问各种类（从 app/artisan 文件开始）。

[您可以在https://packagist.org/packages/illuminate/database](https://packagist.org/packages/illuminate/database)中查看Illuminate/database 的其他开发要求

你可能会从这篇关于工匠命令的文章中获得一些关于这个过程的帮助 [http://net.tutsplus.com/tutorials/php/your-one-stop-guide-to-laravel-commands/](http://net.tutsplus.com/tutorials/php/your-one-stop-guide-to-laravel-commands/)

# android - PJSIP apjsua ndk-build 使用 cygwin 和 swing “没有这样的文件或目录”错误

> ID：14725631
> 
> 赞同：1
> 
> 时间：2013-02-06T09:31:14.060
> 
> 标签：android, android-ndk, pjsip

我遵循了 Android 的 PJSIP 教程，并且成功构建了 PJSIP。但是我陷入了构建 apjsua 示例应用程序的困境。我使用带有 CYGWIN 和 SWING 的 Windows Vista。我在关闭 UAC 的情况下以管理员身份在 Vista 上启动 cygwin。我的目标是 Eclipse 中的 Android 项目。

在 ...pjsip-apps/src/apjsua 目录中启动 ndk-build 后，会出现以下错误输出：

```
Invoking SWIG...
swig -o jni/pjsua_app_wrap.c -package org.pjsip.pjsua -outdir src/org/pjsip/pjsua -java jni/pjsua_app.i
Unable to open file src\org\pjsip\pjsua\pjsua_appJNI.java: No such file or directory
make: *** [jni/pjsua_app_wrap.c] Error 1 
```

如果我在 cygwin 之外创建文件夹 ...src\org\pjsip\pjsua\ 并再次启动 ndk-build，则会出现以下输出：

```
Invoking SWIG...
swig -o jni/pjsua_app_wrap.c -package org.pjsip.pjsua -outdir src/org/pjsip/pjsua -java jni/pjsua_app.i
d:/.../swig -o jni/pjsua_app_wrap.c -package org.pjsip.pjsua -outdir d:/.../PjSipAndroid/pjsip-apps/src/apjsua/src/org/pjsip/pjsua/ -java jni/pjsua_app.i
Compile thumb  : pjsua_app <= pjsua_app_wrap.c
SharedLibrary  : libpjsua_app.so
arm-linux-androideabi-g++.exe: error: /cygdrive/d/.../PjSipAndroid/pjsip-apps/build/output/pjsua-arm-unknown-linux-androideabi/*.o: No such file or directory
make: *** [obj/local/armeabi/libpjsua_app.so] Error 1 
```

谁能告诉我我做错了什么？

# java - 字体后面的透明背景

> ID：14725640
> 
> 赞同：0
> 
> 时间：2013-02-06T09:31:30.553
> 
> 标签：java, opengl, textures, lwjgl, slick2d

使用 LWJGL 和 OpenGL，我想绘制一个带纹理的矩形。除此之外，我想使用 Slick 库编写一些文本。我的问题是，当我在矩形之前绘制文本时，字体具有透明背景。在这里看到它：

![在此处输入图像描述](../Images/c31fc32ef3d6d0eb142497f48340fb58.png)

如果我在矩形之后绘制文本，我看不到它。现在我用谷歌搜索了大约一个小时，找到了几种可能的解决方案，但没有一个对我有用。

编码 ：

FontVeranda.java

```
 /*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */
package bunchofpunch.fonts;

import java.nio.FloatBuffer;
import org.lwjgl.opengl.GL11;
import org.newdawn.slick.SlickException;
import org.newdawn.slick.UnicodeFont;
import org.newdawn.slick.font.effects.ColorEffect;

/**
 *
 * @author Alex
 */
public class FontVeranda 
{
    private UnicodeFont font;
    private boolean shouldRenderFont = true;

    public void loadFont()
    {
        java.awt.Font awtFont = new java.awt.Font("Veranda", java.awt.Font.BOLD, 14);
        font = new UnicodeFont(awtFont);
        font.getEffects().add(new ColorEffect(java.awt.Color.black));
        font.addAsciiGlyphs();
        try {
            font.loadGlyphs();
        } catch (SlickException e) {
            e.printStackTrace();
            System.exit(-1);
        }
    }

    public void toggleRender()
    {
        if(shouldRenderFont){
            shouldRenderFont = false;
        }else{
            shouldRenderFont = true;
        }
    }
    public void toggleRender(boolean doRender)
    {
        shouldRenderFont = doRender;
    }

    public void renderFont(float x, float y, String text, FloatBuffer orthographicProjectionMatrix, FloatBuffer perspectiveProjectionMatrix)
    {
        if(!shouldRenderFont) { return; }

        GL11.glMatrixMode(GL11.GL_PROJECTION);
        GL11.glLoadMatrix(orthographicProjectionMatrix);
        GL11.glMatrixMode(GL11.GL_MODELVIEW);

            GL11.glPushMatrix();

                GL11.glLoadIdentity();
                GL11.glDisable(GL11.GL_LIGHTING);

                font.drawString(x, y, text);

                GL11.glEnable(GL11.GL_LIGHTING);

            GL11.glPopMatrix();

        GL11.glMatrixMode(GL11.GL_PROJECTION);
        GL11.glLoadMatrix(perspectiveProjectionMatrix);
        GL11.glMatrixMode(GL11.GL_MODELVIEW);
    }
} 
```

这就是我所说的：

```
/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */
package bunchofpunch.game;

import bunchofpunch.fonts.FontVeranda;
import java.util.logging.Level;
import java.util.logging.Logger;
import org.lwjgl.LWJGLException;
import static org.lwjgl.opengl.GL11.*;
import org.lwjgl.opengl.GLContext;

/**
 *
 * @author Alex
 */
public class GameScreenHUD extends GameScreen
{
    float space = 20f;
    float width = 250f;
    float height = 200f;

    World world;

    public GameScreenHUD(World world){this.world = world;}

    @Override
    public void renderScreen() {

        //this is a instace of "FontVeranda.java"
        world.font.renderFont(Game.WIDTH-width+50, Game.WIDTH-height-space-160, "My Text is here", 
        World.orthographicProjectionMatrix, World.perspectiveProjectionMatrix);

        glMatrixMode(GL_PROJECTION);
        glLoadMatrix(World.orthographicProjectionMatrix);
        glMatrixMode(GL_MODELVIEW);

            glPushMatrix();

                glLoadIdentity();
                glDisable(GL_LIGHTING);

                TextureManager.hud.bind();

                glBegin(GL_QUADS);

                    glTexCoord2f(0, 1);
                    glVertex2f(Game.WIDTH-space-width, Game.HEIGHT-space);
                    glTexCoord2f(1, 1);
                    glVertex2f(Game.WIDTH-space, Game.HEIGHT-space);
                    glTexCoord2f(1,0);
                    glVertex2f(Game.WIDTH-space, Game.HEIGHT-height-space);
                    glTexCoord2f(0, 0);
                    glVertex2f(Game.WIDTH-space-width, Game.HEIGHT-height-space);

                glEnd();

                glEnable(GL_LIGHTING);

            glPopMatrix();

        glMatrixMode(GL_PROJECTION);
        glLoadMatrix(World.perspectiveProjectionMatrix);
        glMatrixMode(GL_MODELVIEW);
    }

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T19:18:51.427

问题是文本是用应用于四边形的每个字母的纹理绘制的。任何透明对象都必须在它们出现在前面的对象之后绘制。更改绘制顺序以最后绘制文本是唯一好的解决方案。基本上，您已经找到了解决方案。第二个画文字。虽然有一些方法可以在先绘制文本的同时获得你想要的效果，但我真的不推荐它们。

# android - 加快 Android 上的数据库查询

> ID：14725641
> 
> 赞同：0
> 
> 时间：2013-02-06T09:31:32.227
> 
> 标签：android, database, sqlite

我正在使用 SQLiteDatabase ( [http://developer.android.com/reference/android/database/sqlite/SQLiteDatabase.html](http://developer.android.com/reference/android/database/sqlite/SQLiteDatabase.html) )在 Android 上使用 SQLite

我正在开发一个圣经应用程序，它有一个包含以下列的表：

*   书：int
*   章节：int
*   诗句：诠释
*   wordIdx : 整数
*   强ID：字符串
*   词：字符串

每个句子都被分解成一系列 strongId/word 对，因此 wordIdx 用于对单词进行排序，strongId 只是索引中的索引，而 word 是句子中的单词。

所以我有 300,000 行，瓶颈似乎是我的查询，以获取每节经文的单词列表：

我的 SQL 实际上是这样的：

```
SELECT strongId, word FROM ? WHERE book=? AND chapter=? AND verse=? 
```

这是代码：

```
Cursor cursor = mBible.database().rawQuery("SELECT " + KEY_STRONGID + "," + KEY_WORD + " FROM " + tableName() + " WHERE " + KEY_BOOK + "=? AND " + KEY_CHAPTER + "=? AND " + KEY_VERSE + "=?" , new String[] { String.valueOf(mChapter.mBook.index()), String.valueOf(mChapter.index()), String.valueOf(verse) });

cursor.moveToFirst();

mWordList = new ArrayList<Word>();
do {
    mWordList.add(new Word(cursor.getString(1), cursor.getString(0)));
} while (cursor.moveToNext()); 
```

现在，我尝试将每一章放入自己的临时视图中（使用 CREATE TEMP VIEW），在我的示例中将记录减少到大约 400 条，但查询仍然需要很长时间

它需要 30 秒的时间来生成两个章节的文本以显示给用户（使用临时视图和不使用临时视图）。如果我设置一个虚拟单词列表以避免数据库查询，大约需要 5 秒。

我怎样才能提高这个性能？似乎临时视图对性能没有我希望的影响。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T11:49:55.647

视图不会改变查询的性能；它只是保存查询本身，而不是查询的*结果*。

如果您`sqlite3`在台式机上使用命令行工具打开数据库，则可以使用[EXPLAIN QUERY PLAN 命令](http://www.sqlite.org/eqp.html)检查查询的效率。

如果没有任何索引，您的查询总是会扫描整个表：

```
> sqlite3 bible.db
SQLite version 3.7.15.2 2013-01-09 11:53:05
Enter ".help" for instructions
Enter SQL statements terminated with a ";"
sqlite> EXPLAIN QUERY PLAN SELECT strongId, word FROM MyTable WHERE book=1 AND chapter=2 AND verse=3;
0|0|0|SCAN TABLE MyTable (~1000 rows) 
```

使用三个查找字段上的索引，SQLite 可以在索引中进行快速搜索，并且只需要从表中读取匹配的记录：

```
sqlite> CREATE INDEX b_c_v ON MyTable(book, chapter, verse);
sqlite> EXPLAIN QUERY PLAN SELECT strongId, word FROM MyTable WHERE book=1 AND chapter=2 AND verse=3;
0|0|0|SEARCH TABLE MyTable USING INDEX b_c_v (book=? AND chapter=? AND verse=?) (~8 rows) 
```

如果创建覆盖索引（查询中使用的*所有*字段，首先查找字段），SQLite 根本不需要从表中读取。但是，这并没有比普通索引带来很大的加速，并且可能不值得额外的存储成本：

```
sqlite> CREATE INDEX cov ON MyTable(book, chapter, verse, strongId, word);
sqlite> EXPLAIN QUERY PLAN SELECT strongId, word FROM MyTable WHERE book=1 AND chapter=2 AND verse=3;
0|0|0|SEARCH TABLE MyTable USING COVERING INDEX cov (book=? AND chapter=? AND verse=?) (~8 rows) 
```

* * *

请注意，SQLite 在查询中每个表最多可以使用一个索引，因此创建多个索引并不总是有意义的。使用 EXPLAIN QUERY PLAN 检查实际使用了哪些索引，以及是否可以创建一些索引来优化大多数查询。

另请参阅[查询计划](http://www.sqlite.org/queryplanner.html)文档。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-21T22:37:39.263

我最终创建了临时表，性能现在可以接受

# jquery - 从 JQuery 将数据发布到 WCF OData 服务

> ID：14725648
> 
> 赞同：0
> 
> 时间：2013-02-06T09:31:57.760
> 
> 标签：jquery, wcf-data-services, odata, put

我一直在努力解决这个问题，但我无法发现这个问题。我对 WCF 服务没有太多经验，所以我希望它可能是我错过的一些简单的东西。

我已经设置了这个 WCF OData 服务，像这样公开我们的实体模型：

```
 public static void InitializeService(DataServiceConfiguration config)
    {
        config.SetEntitySetAccessRule("*", EntitySetRights.All);
        config.SetServiceOperationAccessRule("*", ServiceOperationRights.All);
        config.DataServiceBehavior.MaxProtocolVersion = DataServiceProtocolVersion.V2;
    } 
```

现在我一直在使用 jQuery 毫无问题地访问该数据，但是一旦我更新了我获取的 jsonp-object，并将其放回服务以更新数据库，我将返回一个 HTTP 501 代码（未实现） .

这是我编写的将对象放回服务的代码：

```
 function commitData() {
         $.ajax({
            url: 'http://localhost:7634/API/Service.svc/tbl_bericht_vertalingen/?$format=json&Authorization=' + userGuid,
            contentType: 'application/json',
            type: 'PUT',
            data: jsonObject,
            dataType: 'json',
            error: function () { alert("oops!"); },
            success: updateCallback
        }); 
    }

    function updateCallback(result) {
        var record = result["d"];
        alert("Updated on record with ID " + record.Id);
    } 
```

jsonObject 与我之前从服务中收到的对象相同，具有一些更新的属性。

如前所述，调用这部分 jQuery 会导致我从服务中返回“501 - 未实现”。

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-07T18:29:08.933

听起来您的服务未配置为可更新。为了使您的服务支持更新，您必须提供 IUpdatable（或 IDataServiceUpdateProvider）的实现。

如果您使用实体框架作为您的提供者，这应该是开箱即用的。但是如果你使用反射提供者，你需要自己实现这个接口。提供此接口的最简单方法可能是在 DataService 中的“T”类上实现它。

有关更多信息，请查看这篇文章： http: [//msdn.microsoft.com/en-us/data/gg191846.aspx](http://msdn.microsoft.com/en-us/data/gg191846.aspx)（尝试搜索 IUpdatable 和 IDataServiceUpdateProvider），或其他堆栈溢出问题：[任何好的可更新示例WCF 数据服务实现](https://stackoverflow.com/questions/5827365/any-good-sample-for-an-updatable-wcf-data-service-implementation)

# java - Java Crystal Reports 上打印的不同值

> ID：14725653
> 
> 赞同：0
> 
> 时间：2013-02-06T09:32:15.617
> 
> 标签：java, swing, crystal-reports, crystal-reports-xi

我的 java 程序试图打印我的水晶报告时遇到问题。我在水晶报表编辑器上生成了报表的预览，如图所示，值为 11.80。

![Crystal Report Editor 的原始预览](../Images/7c57ef3f95f2e2ed1b466b1e16d5f525.png) 然后，我尝试从我的 java 程序中预览报告，该程序只调用报告并将其显示在 jpanel 上，结果我得到了 12.20。这怎么可能？除了数据库表（指向单个数据库）之外，在预览时报告中没有以编程方式进行任何修改，但它会产生不同的结果。我正在使用水晶报表 xi。

![在此处输入图像描述](../Images/fbf5ddaddccf5e89dbb686ba3816aa83.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-10T18:07:26.997

解决了这个问题。不知道发生了什么，但经过几次报告编辑后，他们得出了相同的答案。

# android - Android - 如何获取电子表格表单密钥

> ID：14725664
> 
> 赞同：1
> 
> 时间：2013-02-06T09:32:56.640
> 
> 标签：android, forms, google-sheets

我希望该应用程序使用 HTTP post 将详细信息填写到电子表格中。为此，我提到[了这个](https://stackoverflow.com/questions/6174962/using-android-to-submit-to-a-google-spreadsheet-form)链接。由在上述链接中提出问题的人创建的公共电子表格可以正常工作。但现在我想创建自己的电子表格并进行测试。但我无法获取我创建的电子表格的表单密钥。我也参考[了这个](http://blog.dfarooq.com/2012/10/using-google-spreadsheets-as-database.html)链接，但这对我没有帮助。如何获取表单密钥？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T09:47:58.257

在线打开电子表格并转到`Form -> Edit Form`。将弹出一个对话框，如下所示：

![弹出窗口](../Images/af01d294ee8b2c31d0d217786f1eca62.png)

之后简单地复制所有内容`formkey=`

# android - 如何检测 Android 应用程序启动/启动器

> ID：14725665
> 
> 赞同：-2
> 
> 时间：2013-02-06T09:32:58.593
> 
> 标签：android, android-broadcast

如何检测 Android 应用程序启动器/启动？

并简要给出一些想法。

我想检测启动器应用程序。哪个应用程序是启动器我想推送我的密码屏幕之后它将进入应用程序..它是同一个应用程序储物柜

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T10:23:29.080

```
import android.content.BroadcastReceiver;
import android.content.Context;
import android.content.Intent;
import android.os.Vibrator;
import android.widget.Toast;

public class MyBroadcastReceiver extends BroadcastReceiver {
  @Override
  public void onReceive(Context context, Intent intent) {
Toast.makeText(context, "Don't panik but your time is up!!!!.",
    Toast.LENGTH_LONG).show();
// Vibrate the mobile phone
Vibrator vibrator = (Vibrator) context.getSystemService(Context.VIBRATOR_SERVICE);
vibrator.vibrate(2000);
  }

} 
```

并在android清单文件中传递意图过滤器

# javascript - 防止 html 形式的 android 单词预测

> ID：14725668
> 
> 赞同：3
> 
> 时间：2013-02-06T09:33:05.727
> 
> 标签：javascript, android, html

我在 jqModal 框中制作了登录表单。一切正常，但如果我在 android（4.0.3 samsung Galaxy tab2）本机浏览器中打开该表单，当我尝试将登录名放入登录字段时，浏览器会打开带有单词预测的键盘。效果是我只能从预测的单词中输入第一个字母和空格。
我的问题是如何使用世界预测禁用键盘并使用标准浏览器键盘。

```
...
<a href="#" class="gotologin" title="login">Login</a>
...
<div class="jqmWindowLogin jqmID2" id="login_modal" style="display: none;">
    <div class="jqmContent">
        <div id="log_reg">
            <form action="<some action here>" method="post" id="login_form">
                <label for="login">login/email:</label>
                <input type="text" name="input_field_login" id="login" class="text" />
                <label for="pswd">password:</label>
                <input type="password" name="input_field_pass" id="pswd" class="text"/>
                <input type="submit" value="go" id="Image1"/>
            </form>
        </div>
    </div>
</div>
...

$('#login_modal').jqmShow();
$.fn.jqmShow=function(t){return this.each(function(){t=t||window.event;$.jqm.open(this._jqm,t);});};
//jqModal version 1.4 
```

我发现当在简单站点（wchich 仅包含链接和登录模式框）上将 jqmOverlay 位置从固定更改为绝对时，输入法工作正常，但在 cms 页面上仍然出现错误。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-02-17T00:36:09.790

您是否尝试过`autocomplete=false`输入的属性？

```
<input type="text" name="input_field_login" id="login" class="text" autocomplete="false" /> 
```

# javascript - 在 Javascript 中启用对 cookie 的只读访问

> ID：14725673
> 
> 赞同：2
> 
> 时间：2013-02-06T09:33:38.357
> 
> 标签：javascript, http, cookies

是否可以在仍然能够读取它们的同时禁用在 javascript 中设置 cookie？在我的网站中，我仅在 php 中设置 cookie，但我可以从 Javascript 中读取它们会很有用。我知道在创建 cookie 时有一个 httpOnly 标志，但它限制了 Javascript 的读写访问。我想限制写访问的原因当然是安全性，因为用户甚至可以从浏览器轻松设置 cookie，我想防止这种情况发生。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2017-02-09T11:07:27.820

您可以做的是创建两个 cookie：

MY_COOKIE_HTTP_ONLY

MY_COOKIE

在后端使用相同的值。一个仅是http，另一个不是。MY_COOKIE_HTTP_ONLY cookie 将用于后端，MY_COOKIE 将用于浏览器。如果攻击者在浏览器端更改 MY_COOKIE 的值，那基本上没问题，因为如果攻击者可以访问您的浏览器，他们可以做各种各样的事情，但只能在浏览器端。

另一方面，您将能够通过比较这些值来识别这种情况。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-06T09:34:35.563

最短的答案：不。这是不可能的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-01-09T09:10:15.417

正如其他人所说，您不能阻止用户在他们自己的计算机上编辑文件，这实际上是阻止他们编辑 cookie 所需要做的。

但这并不意味着你没有选择。您可以在 cookie 中包含身份验证代码（如[HMAC ）。](https://en.wikipedia.org/wiki/HMAC)用户仍然可以读取和更改该 cookie，但至少您将能够检测到他们何时这样做并忽略提供的数据。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2018-04-18T07:24:24.053

**您可以通过覆盖**setter来阻止浏览器设置 javascript cookie`document.cookie`

```
document.__defineGetter__("cookie", document.__lookupGetter__("cookie") );
document.__defineSetter__("cookie", function() {} ); 
```

# c++ - WinSock 发送多个请求和关闭问题

> ID：14725674
> 
> 赞同：1
> 
> 时间：2013-02-06T09:33:38.320
> 
> 标签：c++, winsock2

我需要在端口 55005 向服务器发送多个请求（命令）。我的第一个请求获取过程成功并且我也收到了输出。但是对于第二个请求，它会给出错误（WSAESHUTDOWN - 错误 10058）。在第一次请求后，我调用了 shutdown(ConnectSocket, SD_SEND); 然后只有服务器处理第一个请求并向我发送输出。现在可以重新打开套接字处理下一个请求吗？**

关机后如何处理多个请求（ConnectSocket，SD_SEND）？提前感谢您的建议。

**我发送第一个请求，等待第一个回复。在第一次请求回复后，我可以发送下一个请求。这是业务逻辑要求。我不想为每个请求打开一个新连接。**

快照代码从这里开始---------------->

```
**//This for loop will send multiple request to Servers.**
for(it = CommandList.begin(); it != CommandList.end() ; it++ )
{
    //get each command request & send it to server.
    std::string  sendBuf; // =  (*it);
     sendBuf= *it;
    int length = (int)strlen(sendBuf.c_str());
    //----------------------
    // Send an initial buffer
    iResult = send( ConnectSocket, (char*)sendBuf.c_str(), length, 0 );
    if (iResult == SOCKET_ERROR) {
        wprintf(L"send failed with error: %d\n", WSAGetLastError());
        closesocket(ConnectSocket);
        WSACleanup();
        return 1;
    }

    printf("Bytes Sent: %d\n", iResult);

    // shutdown the connection since no more data will be sent
    iResult = shutdown(ConnectSocket, SD_SEND);
    if (iResult == SOCKET_ERROR) {
        wprintf(L"shutdown failed with error: %d\n", WSAGetLastError());
        closesocket(ConnectSocket);
        WSACleanup();
        return 1;
    }

    // Receive until the peer closes the connection
    do {

        iResult = recv(ConnectSocket, recvbuf, recvbuflen, 0);
        if ( iResult > 0 )
            wprintf(L"Bytes received: %d\n", iResult);
        else if ( iResult == 0 )
            wprintf(L"Connection closed\n");
        else
            wprintf(L"recv failed with error: %d\n", WSAGetLastError());

    } while( iResult > 0 );
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T13:15:54.583

`shutdown`正如 Joachim 所说，在连接完成之前不要打电话。这个 TCP 套接字是一个“流”......东西可以随意来回。作为程序员，您必须确定“请求”和“响应”的开始和结束位置......不要使用`shutdown`它。

# jsf - 我有两个数据表，一个巢花药。代码如下： <h:datatable value="#{allUserBean.userList}" var="pmUsers"><h:column headerclass="tableHeader column8Heade
问问题
问问题 2013-02-06T09:33:43.303
113 次
This question shows research effort; it is useful and clear
1
This question does not show any research effort; it is unclear or not useful
Bookmark this question.
Show activity on this post.
我有两个数据表，一个巢花药。代码如下：
<h:dataTable value=" #{alluserbean.userlist}"="" var="pmUsers"><h:column headerclass="tableHeader column8Header"><f:facet name="header"><h:commandlink actionlistener="#{allUser.sortByEmpNo}" immediate="true"><h:panelgrid columns="2" columnclasses="colSortText,colSortImg"><h:outputtext value="Emp No."><h:panelgrid rendered="#{allUserBean.sortType == 0}"><h:graphicimage url="/images/sortup.gif" rendered="#{allUserBean.up}"><h:graphicimage url="/images/sortdown.gif" rendered="#{!allUserBean.up}"></h:graphicimage></h:graphicimage></h:panelgrid></h:outputtext></h:panelgrid></h:commandlink></f:facet></h:column><h:datatable var="iterm" value="#{pmUsers.userMultyResumeList}" "=""></h:datatable>` 显示成功，但无法显示userMultyResumeList的其他数据表。我使用了测试代码，它是错误的。所以值不为空，我不知道为什么 userList 代码为： private List <user>userList; userList = userService.getUsersByPMGroupNotIncluded("", groupIds); <h:datatable var="iterm" value="#{pmUsers.userMultyResumeList}" "="">请用这个替换这一行 <h:datatable var="iterm" value="#{pmUsers.userMultyResumeList}">jsf 4 1 回答 1 This answer is useful 0 <h:datatable var="iterm" value="#{pmUsers.userMultyResumeList}" "="">请用这个替换这一行 <h:datatable var="iterm" value="#{pmUsers.userMultyResumeList}">于 2013-02-06T09:54:21.237 回答 Related 2 c# - ConcurrentQueue one element is taken by two threads 1 asp.net - 如何从下拉列表中选择项目？ 3 c++ - C++11 是否支持 C11 的新特性？ 1 gruntjs - 使用 grunts 运行的 qunit 测试 grunt-contrib-qunit 在默认测试文件夹之外失败 3 google-app-engine - 谷歌云存储 CNAME URL 重定向 2 java - JVM 怎么知道没有参数的泛型类型参数？ 1 solr - 复制后solr端有很多ClientAbortException 8 python - 计算文本文件中的字母 1 javascript - 数组引用：将对象添加到对象数组 2 jquery - jqGrid GridUnload - 卸载后无法引用元素 我已经进行了长时间的努力寻找并试图弄清楚为什么 GridUnload 对我没有任何乐趣。因此，如果您发现这是重复的，请原谅。 我在 jQuery.dialog 中显示一个 jqGrid。第一次显示没有问题。当我关闭对话框并再次触发时，jqGrid 不显示。该对话框基于登录操作的 AJAX 响应触发。如果对话框关闭，我想卸载网格，这样如果再次尝试登录操作，它将再次显示对话框和网格。第二次网格是空白的 Reference php × 1429865 c/c++ × 756500 nginx × 49975 mongodb × 159057 mybatis × 3233 anaconda × 13410 pycharm × 14671 python × 1902243 vscode × 56040 docker × 110988 github × 49000 flask × 49129 ffmpeg × 24037 jmeter × 16910 matplotlib × 63493 bootstrap × 54641</h:datatable></h:datatable></h:datatable></h:datatable></user></h:column></h:datatable>

> ID：14725676
> 
> 赞同：1
> 
> 时间：
> 
> 标签：jsf

我有两个数据表，一个巢花药。代码如下：

```
<h:dataTable value="#{allUserBean.userList}" var="pmUsers">
  <h:column headerClass="tableHeader column8Header">
    <f:facet name="header">
      <h:commandLink actionListener="#{allUser.sortByEmpNo}" immediate="true">
        <h:panelGrid columns="2" columnClasses="colSortText,colSortImg">
          <h:outputText value="Emp No." />
          <h:panelGrid rendered="#{allUserBean.sortType == 0}">
            <h:graphicImage url="/images/sortup.gif" rendered="#{allUserBean.up}" />
            <h:graphicImage url="/images/sortdown.gif" rendered="#{!allUserBean.up}" />
          </h:panelGrid>
        </h:panelGrid>
      </h:commandLink>
    </f:facet>
    <h:outputText value="#{pmUsers.employeeNo}" />
  </h:column>
  <h:dataTable  var="iterm" value="#{pmUsers.userMultyResumeList}"">                       
    <h:outputText value="#{iterm}" />
  </h:dataTable> ` 
```

显示成功，但无法显示userMultyResumeList的其他数据表。我使用了测试代码，它是错误的。所以值不为空，我不知道为什么

userList 代码为：

```
private List<User> userList;
userList = userService.getUsersByPMGroupNotIncluded("", groupIds); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T09:54:21.237

```
<h:dataTable  var="iterm" value="#{pmUsers.userMultyResumeList}""> 
```

请用这个替换这一行

```
<h:dataTable  var="iterm" value="#{pmUsers.userMultyResumeList}"> 
```

# java - 编码给定的字节数组，使得输出只有小字母

> ID：14725679
> 
> 赞同：-1
> 
> 时间：2013-02-06T09:33:53.570
> 
> 标签：java, encoding, base64

我是加密和编码/解码的新手。我想对给定的字符串进行加密和编码，以便结果字符串只有小字母（不是大写字母、数字或任何特殊字符？）。Base64 用于编码。是否可以使用 Base64 实现编码并仅获取小字符的结果字符串。如果不是，哪种加密方法可以给出这样的结果？提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T09:37:14.217

```
public byte [] encode (byte [] data)
{
    ByteArrayOutputStream output = new ByteArrayOutputStream ();
    for (byte b: data)
    {
        output.write ((b & 0x0F) + 'a');
        output.write ((((b >>> 4) & 0x0F) + 'a');
    }
    return output.toByteArray ();
}

public byte [] decode (byte [] encodedData)
{
    int l = encodedData.length / 2;
    byte [] result = new byte [l];
    for (int i = 0; i < l; i++)
        result [i] = 
            (byte)(
                encodedData [l * 2] - 'a' + 
                ((encodedData [l * 2 + 1] - 'a') << 4)
            );
    return result;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T09:37:32.237

如果您只使用小写字母，它将不再是[base64](http://en.wikipedia.org/wiki/Base64)。如果您的字母表仅包含 16 个小写字符，则可以将其称为 base16。并将每个半字节（4 位）映射到其中一个字符。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-06T09:40:58.007

我建议您使用`org.jasypt.encryption.StringEncryptor#encrypt()`.

生成的加密文本采用**BASE64**编码，因此安全地存储为 US-ASCII 字符。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-06T09:43:57.340

[Base32](http://en.wikipedia.org/wiki/Base32)使用单大小写字符，因此它应该适合您的目的。您可以使用来自 Apache Commons的[Base32 实现](http://commons.apache.org/codec/apidocs/org/apache/commons/codec/binary/Base32.html)，或者您可以自己编写。

但是为什么你只想将你的输出限制为小写呢？

# verilog - 如何将 reg 值映射到其他模块的端口

> ID：14725682
> 
> 赞同：0
> 
> 时间：2013-02-06T09:34:05.200
> 
> 标签：verilog

我是verilog的业余爱好者。我正在尝试调用模块分隔符。但我在综合中遇到错误，例如“对向量 reg 'qtnt' 的引用不是合法的净左值”。我曾尝试使用电线作为输入，但是当我尝试为它们分配值时，收到一条错误消息。请帮忙

```
module euclid_mul(
  input[9:0] p0,p1,q0,
  input[19:0] tot,
  input clk,
  output reg [20:0] p2,
  output reg out_en,o1,o2
);
reg[20:0] dvr,dvd,qtnt,rem;
reg[9:0] ph;
reg[20:0] mul,res;
reg enable,f1;

initial f1=0;
initial enable=0;

divider div2(dvd,dvr,enable,qtnt,rem,f1);   

always @ (negedge clk)
  begin 
    if(f1==0) begin
      mul=q0*p1;
      ph=p0;
      res={11'b00000000000,ph[9:0]}-mul;
      if(res[20])
        begin
          o1=1;
          dvd=-res;
        end
      else
        dvd=res;
        o2=1;
        dvr=tot;
        enable=1;
      end
    end

    always @(posedge f1)
      begin
        if(res[20]) 
          begin 
            p2=tot-rem;
            out_en=1;
          end
        else
          begin
            p2=rem;
            out_en=1;
          end
        end
      endmodule 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T16:43:06.750

You may get more response if you formatted the code so that it was easier to read. Something like the following:

I have also pointed out a section where I think you are missing a begin and end statement. Also inside clocked sections you often want to use nonblocking assignments `<=`.

Since you have not provided the divider module, I would prefer to see ports named rather than specified in order, it might help us to know what it is likely to do, even better label it with its direction and width.

```
module euclid_mul(
  input       [9:0] p0,p1,q0,
  input      [19:0] tot,
  input             clk,
  output reg [20:0] p2,
  output reg        out_en,o1,o2
);
reg [20:0] dvr,dvd,qtnt,rem;
reg  [9:0] ph;
reg [20:0] mul,res;
reg        enable,f1;

initial begin
  f1     = 0;
  enable = 0;
end

divider div2(dvd,dvr,enable,qtnt,rem,f1);   
// My prefered style to help us understand conectivity.
//divider
//  divider_i0(
//    .divisor( dvd ), //input  [20:0]
//    .result ( res )  //output [20:0]
//);

always @ (negedge clk) begin 
  if(f1==0) begin
    mul = q0*p1;
    ph  = p0;
    res = {11'b00000000000,ph[9:0]}-mul;
    if ( res[20] ) begin
      o1  = 1;
      dvd = -res;
    end
    else begin //There was a missing begin
      dvd   = res;
      o2    = 1;
      dvr   = tot;
     enable = 1;
    end //Missing End
  end
end

always @(posedge f1) begin
  if(res[20]) begin 
    p2     = tot-rem;
    out_en = 1;
  end
  else begin
    p2     = rem;
    out_en = 1;
  end
end
endmodule 
```

Inputs can be `reg`s and driven from inside always or initial blocks, or wires driven from a single `assign` or another modules output.

Outputs should always be connected to wires, the module drives them.

# http - 如何在 URL 中将 HTTPS 替换为 HTTP？

> ID：14725686
> 
> 赞同：4
> 
> 时间：2013-02-06T09:34:17.903
> 
> 标签：http, c#-4.0, web-applications, https, global-asax

我需要在注册页面上使用 https，在其他地方使用 http。我在 global.asax 中编写了以下代码：

```
protected void Application_BeginRequest(object sender, EventArgs e)
{
    var currentUrl = System.Web.HttpContext.Current.Request.Url;
    if (currentUrl.AbsoluteUri.Contains("Registration"))
    {
        if (!currentUrl.Scheme.Equals(Uri.UriSchemeHttps,  StringComparison.CurrentCultureIgnoreCase))
        {
            //build the secure uri 
            var secureUrlBuilder = new UriBuilder(currentUrl);
            secureUrlBuilder.Scheme = Uri.UriSchemeHttps;
            //use the default port.  
            secureUrlBuilder.Port = string.IsNullOrEmpty(ConfigurationManager.AppSettings["HttpsPort"].ToString()) ? 443 : Convert.ToInt32(ConfigurationManager.AppSettings["HttpsPort"].ToString());
            //redirect and end the response. 
            System.Web.HttpContext.Current.Response.Redirect(secureUrlBuilder.Uri.ToString());
        }
    }
} 
```

这对于访问注册页面效果很好，但是当我访问其他页面时，该方案不会切换回 http。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-02-19T14:31:03.983

请在 Global.asax 页面中添加以下代码。

```
 protected void Application_BeginRequest(object sender, EventArgs e)
    {
        var currentUrl = System.Web.HttpContext.Current.Request.Url;
        if (currentUrl.AbsoluteUri.Contains("Registration"))
        {
            if (!currentUrl.Scheme.Equals(Uri.UriSchemeHttps, StringComparison.CurrentCultureIgnoreCase))
            {
                //build the secure uri 
                var secureUrlBuilder = new UriBuilder(currentUrl);
                secureUrlBuilder.Scheme = Uri.UriSchemeHttps;
                //use the default port.  
                secureUrlBuilder.Port = string.IsNullOrEmpty(ConfigurationManager.AppSettings["HttpsPort"].ToString()) ? 443 : Convert.ToInt32(ConfigurationManager.AppSettings["HttpsPort"].ToString());
                //redirect and end the response. 
                System.Web.HttpContext.Current.Response.Redirect(secureUrlBuilder.Uri.ToString());
            }
        }
        else if(currentUrl.Scheme.Equals(Uri.UriSchemeHttps, StringComparison.CurrentCultureIgnoreCase))
        {
                var secureUrlBuilder = new UriBuilder(currentUrl);
                secureUrlBuilder.Scheme = Uri.UriSchemeHttp;
                secureUrlBuilder.Port = 80;
                System.Web.HttpContext.Current.Response.Redirect(secureUrlBuilder.Uri.ToString());

        }
    } 
```

# c# - 有关 Windows 窗体中的选项卡的帮助

> ID：14725692
> 
> 赞同：2
> 
> 时间：2013-02-06T09:34:43.070
> 
> 标签：c#, winforms, tabcontrol

我目前正在从事一个小型项目，以适应 Visual Studio 2012 中的表单，因为我通常只使用控制台应用程序。我当前的布局设计为使用选项卡，用户将指定他们需要多少个选项卡用于此应用程序。然后他们填写一些信息，并将其格式化并输出到用户指定位置的文件中。关于问题。

为了阻止现有的重复选项卡，我使用以下内容：

```
private void comboTabs_SelectedIndexChanged(object sender, EventArgs e)
{
    if (comboSkills.SelectedIndex == 0)
    {
        tabControl1.TabPages.Remove(tab8);
        tabControl1.TabPages.Remove(tab7);
        tabControl1.TabPages.Remove(tab6);
        tabControl1.TabPages.Remove(tab5);
        tabControl1.TabPages.Remove(tab4);
    }
    //repeat for Index 1, 2 and so on
} 
```

将始终至少有 3 个选项卡，因此组合框上的第一个选项会删除选项卡 4 到 8。下一个选项会执行相同的操作，但随后会再次添加选项卡 4。这将继续进行以下选择。有什么方法可以让我更方便地做到这一点？

第二个问题，每个选项卡都有一系列文本框和组合框，用户可以从中选择信息。我遇到的问题是我需要确定用户选择了多少个选项卡，然后只从这些选项卡中提取信息。我知道我可以通过以下方式获得标签的数量：

```
int numberoftabs = tabControl1.TabCount; 
```

但在那之后，我似乎无法从他们那里读取信息。我打算做

```
for (int i = 0; i < numberoftabs; i++)
{
    //get textbox text of tab i and so on            
} 
```

有什么办法可以做到这一点吗？我希望使用选项卡布局，因为我非常喜欢我当前的布局。如果有区别，所有选项卡都具有相同的布局，并共享一个命名约定，例如选项卡 1 文本框 1 是 textTab1Name，选项卡 2 文本框 2 是 textTab2Name 等等。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T10:25:53.757

对于您问题的第一部分，您可以使用这段代码处理所有情况：

```
var tabCount = 5 - comboBox1.SelectedIndex;

for (var i = 0; i < tabCount; i++)
{
    tabControl1.TabPages.RemoveAt(7-i);
} 
```

对于第二部分，您将必须创建此方法：

```
private T GetControl<T>(string name) where T : Control
{
   return (T) this.Controls.Find(name, true).FirstOrDefault();
} 
```

然后你可以像这样编写你的文本检索循环：

```
for (int i = 0; i < numberoftabs; i++)  
{
    //get textbox text of tab i and so on            
    TextBox textBox1 = GetControl<TextBox>("textTab" + i + "Name");
    ...
    etc..
} 
```

# c++ - FLTK, wxWidgets, GTK - light, easy and portable

> ID：14725696
> 
> 赞同：2
> 
> 时间：2013-02-06T09:35:01.873
> 
> 标签：c++, c, gtk, wxwidgets, fltk

I know that it isn't first topic when somebody considering different GUI libraries. But I have a few specific questions and needs that "the others" didn't have.

(As usual) I'm novice programmer, learning C++ now (finishing thinking in c++) and my university wants me to learn some GUI for programming projects (I'm electronics student) - I'm writing this because personally I would like to know C++ a little bit better before learning some additional libraries. But reality is brutal in this case :).

I'm looking for **simple** (easy to write in) library that will work under **windows, linux and embedded systems** (embedded linux or any other lightweight ARM system, not necessary android) without much (best case - ANY) modifications. I would like this library to be **lightweight** (thats why I eliminated QT), **easy to use with other libraries** (for audio/video players or some network applications) **and languages** (I'd like to write also in C, which will be my primary language I believe, maybe some python, D or java). The documentation/tutorials should be also easy and simply written - my English skills are very basic, as you can see reading my post.

After googling for hours my vote is for GTK/GTKmm which allow me to use LXDE, XFCE and GNOME (light/medium/heavy) without installing additional libraries, write code in C, C++, D, Python, Java and almost every programming language that exists. On the other hand many peoples wrote that FLTK is very simple, most portable and probably the fastest one. WxWidgets has many positive opinions so... I just don't know, please help me.

Thanks for your replies,

Pawel

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T10:44:10.820

I heard that FLTK is lightweight but have never used so no much comments. I have used however GTK+ and wxWidgets. I would say go for wxWidgets as it is a wrapper around GTK+ in Linux. Apart from that here are added advantages

*   wxWidgets uses native widgets wherever possible
*   You can use wxBase library which makes it lightweight (at expense of some feature see [this](http://docs.wxwidgets.org/trunk/page_libs.html#page_libs_wxbase))
*   Great support than GTK+ IMHO (forum, IRC, mailing list, SO, et al)

Also you can read these entries

1.  [http://docs.wxwidgets.org/trunk/page_libs.html](http://docs.wxwidgets.org/trunk/page_libs.html)
2.  [http://wiki.wxwidgets.org/WxWidgets_Compared_To_Other_Toolkits](http://wiki.wxwidgets.org/WxWidgets_Compared_To_Other_Toolkits)
3.  [https://stackoverflow.com/questions/5141116/choosing-between-qt-gtk-and-wxwidgets](https://stackoverflow.com/questions/5141116/choosing-between-qt-gtk-and-wxwidgets)
4.  [https://stackoverflow.com/questions/1257894/wxwindows-vs-gtk-for-cross-platform-gui-programming](https://stackoverflow.com/questions/1257894/wxwindows-vs-gtk-for-cross-platform-gui-programming)
5.  [http://www.gidforums.com/showpost.php?p=37761&postcount=8](http://www.gidforums.com/showpost.php?p=37761&postcount=8)

I would personally suggest you go with wxWidgets!

# visual-c++ - 如何设置OpenGL坐标？

> ID：14725697
> 
> 赞同：3
> 
> 时间：2013-02-06T09:35:05.677
> 
> 标签：visual-c++, opengl, glut, freeglut

使用以下代码，我将三角形放在图表的右上角，这告诉我 0,0 在窗口的中心。我应该怎么做才能把它放在窗口的角落，即左下角？

```
#include <GL/glut.h>
void displayCube()
{

glClear(GL_COLOR_BUFFER_BIT);
glColor3f(1.0,1.0,1.0);
glBegin(GL_TRIANGLES);
    glVertex3f(0, 0, 0);
    glVertex3f(0.5, 0, 0);
    glVertex3f(0.25, 0.25, 0);
glEnd();
glFlush();
}

int main(int argc, char *argv[]){

glutInit(&argc,argv);
glutInitDisplayMode(GLUT_SINGLE);
glutInitWindowSize(500,500);
glutInitWindowPosition(0,0);
glutCreateWindow("Cube");
glutDisplayFunc(displayCube);
glutMainLoop();
return 0;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T09:53:16.317

OpenGL 使用一组矩阵变换从原始模型空间移动到屏幕/窗口空间。

在您的示例中，有默认的身份投影，因此您在每个方向的框**-1 到 1中“移动”。**

点`(0.0, 0.0, 0.0)`在中心。`(-1, 0, 0)`在左侧，`(1, 0, 0)`在右侧，`(0, 1, 0)`在顶部。

试着找出其余的:)

[http://www.songho.ca/opengl/gl_transform.html](http://www.songho.ca/opengl/gl_transform.html)

# alfresco - 如何从webscript调用外部restful webservice（retuns JSON数据）并在dashlet上显示数据？

> ID：14725704
> 
> 赞同：0
> 
> 时间：2013-02-06T09:35:18.700
> 
> 标签：alfresco

JSON数据：

```
{"user":[{"address":"HYD0","id":"0","name":"XXXX0"},
         {"address":"HYD1","id":"1","name":"XXXXX1"},
         {"address":"HYD2","id":"2","name":"XXXXXX2"}]} 
```

那么我应该如何在 webscript 中调用 restful webservice 并在免费标记模板和 dashlet 上显示数据？

其余的 Web 服务放置在某个位置，现在我想从 Web 脚本中调用它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-07T13:01:52.820

在 Share 中工作时，Surf 提供了一种访问其他系统以获取数据的方法。这是通过`remote`对象完成的，如果您查看许多 Share WebScript，您会看到如下内容：

```
var connector = remote.connect("alfresco");
var result = connector.get("/api/foo/bar?thing=stuff");
if (result.status == status.STATUS_OK)
{
   return eval('(' + result.response + ')');
} 
```

JavaScript 中的`remote`对象由[ScriptRemote](https://maven.alfresco.com/nexus/content/repositories/public/spring-surf-parent/apidocs/org/springframework/extensions/webscripts/ScriptRemote.html)对象提供。如果您浏览它的源代码，您会看到它是如何工作的并结合在一起的

最常见的用途是使用*alfresco*端点，它连接回 Alfresco 存储库层，因此您可以调用 repo webscripts。一种选择是让您通过 spring 配置定义自己的共享端点，然后您可以使用友好名称访问它。另一种是做[RSS Feed Utils](http://svn.alfresco.com/repos/alfresco-open-mirror/alfresco/HEAD/root/projects/slingshot/config/alfresco/site-webscripts/org/alfresco/utils/feed.utils.js)所做的事情并请求`http`端点，然后给出一个完整的 URL。

无论哪种方式，您都需要获取远程 URL，检查您是否获得了有效响应，评估它以获取数据，并将其存储在您的模型中。然后，该数据将在 FTL 中可用，以便根据需要进行渲染。

# xcode - 有人将tapjoy 集成到cocos2d 应用/游戏中吗？

> ID：14725705
> 
> 赞同：0
> 
> 时间：2013-02-06T09:35:20.137
> 
> 标签：xcode, cocos2d-iphone, tapjoy

这里有人将tapjoy 与cocos2d 集成了吗？如果是这样，我想问一下tapjoy示例项目中的_mainCtrl..

我应该改变什么？（因为我的 cocos2d 项目没有 UIViewController ....）

谢谢大家。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-05-14T21:33:47.647

这在 cocos2d v2.1 中对我有用：

要在 cocos2d 游戏中显示 TapJoy 优惠墙，首先导入以下内容：

```
#import "AppDelegate.h" //fixes 'Appcontrol' problem
#import <Tapjoy/Tapjoy.h> 
```

使用此代码使 tapjoy 优惠墙出现：

```
//get rootviewcontroller
AppController *app= (AppController*) [[UIApplication sharedApplication] delegate];
UIViewController *rootViewController=[app navController];

//Show offerwall
[TapjoyConnect showOffersWithViewController:rootViewController]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T11:42:09.500

在 AppDelegate.mm

```
 #import "TapjoyConnect.h"
 #define TAPJOY_APP_ID               @"c9a2551a-305d-47fd-a95b-b4d66e9a4ee6"
 #define TAPJOY_APP_SECRECT_KEY      @"5WbspdtRedZ8oAgmJOIS" 
```

//注意这些是SDK提供的ID。测试标识。为此总是显示广告。//对于您的id，只有在应用发布后才会显示广告。

```
- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions
{
   ...
   ...

       [TapjoyConnect requestTapjoyConnect:TAPJOY_APP_ID secretKey:TAPJOY_APP_SECRECT_KEY];

       [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(getFullScreenAd:) name:TJC_FULL_SCREEN_AD_RESPONSE_NOTIFICATION object:nil];

       [self showTapJoyAds];
      return YES;
}

- (void)getFullScreenAd:(NSNotification*)notifyObj
{
    [TapjoyConnect showFullScreenAd];
}

//call this in place where you want to show ads..
-(void)showTapJoyAds
{
   [TapjoyConnect getFullScreenAd];
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-06T10:22:02.850

Cocos2d 自带一个视图控制器。在您的项目中查找**RootViewController.h 。**

# sql - 无法将数据插入数据库字符串或二进制数据将被截断

> ID：14725709
> 
> 赞同：0
> 
> 时间：2013-02-06T09:35:28.940
> 
> 标签：sql, sql-server-2008, insert

```
 INSERT INTO [CVSUAT].[dbo].[UserLevel ]( 
  [Client_ID]
  ,[User_Level_Name]
  ,[User_Level_Description]
  ,[Created_by]
  ,[Created_Date]
  ,[Modified_by]
  ,[Modified_Date]
  ,[Delete_Flag]
  ,[Deactivate_Flag]) VALUES ('sndbsndbsdnbsndbsnbdnsbdn23','Client','','Client','2013-03-12 21:31:38.437','Client','2013-03-12 21:31:38.437','0','0') 
```

**消息 8152，级别 16，状态 4，第 1 行字符串或二进制数据将被截断。该语句已终止。**

![在此处输入图像描述](../Images/726218ab1738c0d4e485ddcf9bf0549c.png)

**注意：**我的表有一个空格 [UserLevel]，因为它是从以前开始的

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T09:41:27.297

这是由于试图将过多的数据放入列中造成的。

问题是，您的示例中指定的值对于您的架构图片中指示的列都不是太大。因此，我假设您给我们的值不是真实值，或者您在该表上有一个触发器，这实际上是导致错误的原因。

顺便说一句，您的`Delete_Flag`and`Deactivate_Flag`列不应该是数据类型位，而不是`char(1)`?

**编辑：**

哦，还有一件事 - 就像`Client_ID`nvarchar 一样，您可能希望在其中存储 unicode 数据。要在脚本中表明这一点，您应该在字符串上使用“N”前缀，如下所示：

```
INSERT INTO [CVSUAT].[dbo].[UserLevel ]( 
  [Client_ID]
  ,[User_Level_Name]
  ,[User_Level_Description]
  ,[Created_by]
  ,[Created_Date]
  ,[Modified_by]
  ,[Modified_Date]
  ,[Delete_Flag]
  ,[Deactivate_Flag]) VALUES (N'sndbsndbsdnbsndbsnbdnsbdn23','Client','','Client','2013-03-12 21:31:38.437','Client','2013-03-12 21:31:38.437','0','0') 
```

# c - 在linux内核中映射io设备地址？

> ID：14725710
> 
> 赞同：0
> 
> 时间：2013-02-06T09:35:32.303
> 
> 标签：c, linux, linux-kernel

```
printk(" start = %p , end = %p \n",res->start ,res->end );
fbi->reg_base = ioremap_nocache(res->start, res->end - res->start);
printk(" fbi->reg_base = %p \n",fbi->reg_base);
printk(" virt_to_phys(fbi->reg_base) = %p \n", virt_to_phys(fbi->reg_base));
printk(" virt_to_bus(fbi->reg_base) = %p \n", virt_to_bus(fbi->reg_base)); 
```

输出是

```
start = 72100000 , end = 72100fff 
fbi->reg_base = 70b10000
virt_to_phys(fbi->reg_base) = a0b10000
virt_to_phys(fbi->reg_base) = a0b10000 
```

为什么我不拿回来`0x72100000`？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T09:40:13.717

我想你不会取回那个地址，因为`ioremap_nocache`返回的地址不能保证是虚拟地址，正如它所说[的](http://mirror.linux.org.au/linux-mandocs/2.6.4-cset-20040312_2111/ioremap_nocache.html)：

> ioremap_nocache 执行*平台特定的操作序列，*以使总线内存 CPU 可通过 readb/readw/readl/writeb/writew/writel 函数和其他 mmio 帮助程序访问。**返回的地址不保证可以直接用作虚拟地址**。

# java - 单击列标题以升序显示 jqgrid

> ID：14725716
> 
> 赞同：0
> 
> 时间：2013-02-06T09:35:41.320
> 
> 标签：java, jquery, html, jqgrid, mvcgrid

目前我正在使用 java jqgrid 我想在单击列标题后显示已排序的网格。我已经使用了 onsortcol。但它不起作用。她是我的代码。onsort col 函数处于活动状态，但它不执行排序。谢谢提前

代码：

```
 jq(function() {
        var base = "<%=request.getContextPath()%>";
        var  records = -1;
        jq("#grid").jqGrid({
        url:base+'/admin/adminusermanagecrud.htm',
        datatype: 'json',
        mtype: 'GET',
        colNames:['', 'Name','Employee ID','User Name','Mobile','City','State','Is Active','Created Date','Role','Bank Name'],
        colModel:[
            {name:'id',index:'id',  width:55,editable:false,hidden:true},
            {name:'adminName',index:'adminName', width:175,editable:true,sortable:true, editrules:{edithidden:true,required:false}, editoptions:{size:25,readonly:false,disabled:false},search:false},
            {name:'adminEmployeeId',index:'adminEmployeeId', width:175,editable:true, editrules:{edithidden:true,required:false}, editoptions:{size:25,readonly:true,disabled:false},search:true},
            {name:'adminuserName',index:'adminuserName', width:175,editable:true, editrules:{edithidden:false,required:false}, editoptions:{size:25,readonly:false,disabled:false},search:true},
            {name:'mobile',index:'mobile', width:175,editable:true, editrules:{edithidden:false,required:false}, editoptions:{size:25,disabled:false},search:true},
            {name:'city',index:'city', width:175,editable:true, editrules:{edithidden:true,required:false}, editoptions:{size:25,disabled:true},search:true},
            {name:'state',index:'state', width:175,editable:true, editrules:{edithidden:true,required:false}, editoptions:{size:25,disabled:true},search:true},
            {width:165,formatter:linkFormat,editable:true,edittype:'select',editrules:{edithidden:true,required:false}, editoptions:{value:"0:Activate;1:De-Activate",size:25,disabled:false,multiple:false},search:false},
            {name:'createDate',index:'createDate',width:185,editable:true, editrules:{edithidden:true,required:false}, editoptions:{size:25,disabled:true},search:false},
            {name:'role',index:'role',width:175,editable:true,editrules:{edithidden:true,required:false},editoptions:{size:25,disabled:true},search:false},
            {name:'bankName',index:'bankName',width:175,editable:true,editrules:{edithidden:true,required:false},editoptions:{size:25,disabled:true},search:false}

        ],

        postData:{ 
        },
        loadError:function(xhr,status,error)
        {
            var base = "<%=request.getContextPath()%>";
            alert(status);
            if(xhr.status == '403' || xhr.status == '401' || status == 'parsererror')
                {
                    window.location.href = base+"/login.htm";
                }
        },
        rowNum:5,
        //rowList:[5,10,15,20],
        height: 150,
        //width:750,
        autowidth: true,
        rownumbers: true,
        pager: '#pager',
        sortname: 'adminName',
        scrollrows:true,
        viewrecords: true,
        sortorder: "asc",
        caption:"Admin Users Summary",
        onSortCol: function (index, columnIndex, sortOrder) {
            alert(index);
            return 'stop';
        },
        cellEdit: false,
        emptyrecords: "Search returned no results",
        loadonce: false,
        loadComplete: function()
        {
        },
        jsonReader : {
            root: function(obj)
            {
                if(obj.status == false)
                {
                    window.location.href = base+"/login.htm";
                }
                else
                {
                    records = obj.records;
                    return obj.rows;
                }
            },
            page: "page",
            total: "total",
            records: "records",
            repeatitems: false,
            cell: "cell",
            id: "id"
        },
        editurl:base+"/admin/edit.htm"
    });

    jq("#grid").navGrid('#pager',
            {edit:false,add:false,del:false,search:true,excel:true},

            { },
            { },
            { }, 
            { 
                sopt:['eq','cn', 'bw', 'ew'],
                closeOnEscape: true, 
                multipleSearch: false, 
                closeAfterSearch: true
             }
    );

    jq("#btnFilter").click(function()
    {
    jq("#grid").jqGrid('searchGrid',
        {
        multipleSearch: false, 
        sopt:['eq']
        }
        );
    });

}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T13:20:25.260

在您的控制器内部，您需要处理排序。类似的东西

```
var pagedQuery = filteredQuery.OrderBy(sidx + " " + sord).Skip((page - 1) * rows).Take(rows); 
```

您实际对数据集进行排序并将其返回给 jqGrid。

# php - 避免密码提示

> ID：14725717
> 
> 赞同：1
> 
> 时间：2013-02-06T09:35:45.510
> 
> 标签：php, unix

我想在`sudo ls -l`没有密码提示的情况下执行命令。

```
$streams = array(
    0 => array("pipe", "r"),  // stdin
    1 => array("pipe", "w"),  // stdout
    2 => array("pipe", "w")   // stderr
);
$process = proc_open('sudo ls -l', $streams, $pipes);
if (is_resource($process)) {
    list($stdin, $stdout) = $pipes;
    fwrite($stdin, "password\n"); //must write password, but not
    fclose($stdin);
    var_dump(stream_get_contents($stdout));
    fclose($stdout);
    $returnCode = proc_close($process);
    echo "Return code $returnCode\n";
} 
```

执行后密码提示依然存在，如何避免呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T09:46:48.153

您是否尝试将命令 ls 添加到`/etc/sudoers`文件？您可以自动让用户执行一些没有密码的命令。

```
user ALL= NOPASSWD: /bin/ls 
```

# html - 如何从 SharePoint 2013 套件栏中删除默认链接并添加我自己的链接

> ID：14725720
> 
> 赞同：2
> 
> 时间：2013-02-06T09:35:52.890
> 
> 标签：html, sharepoint, sharepoint-designer, sharepoint-2013

我有一个要求，我需要删除或隐藏套件栏中显示的默认链接，如 NewsFeed、SkyDrive、站点等。我想添加自己的链接并将此部分用作我的菜单。

因此，在添加时，我希望内容编辑器可以轻松配置这些项目。他们可以编辑需要显示的链接并控制顺序。没有硬编码链接。

如果有人可以在这方面提供帮助。

![套房酒吧定制](../Images/f3a4fcf22148f7cda7dce87a7b26df3d.png)

问候，导航

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-20T21:30:23.180

这可以通过显示这些链接的其他代表控件来完成。以下链接将有所帮助

[http://www.learningsharepoint.com/2013/02/10/addremove-links-in-top-suitebar-skydrivesitesnewsfeed-in-sharepoint-2013/](http://www.learningsharepoint.com/2013/02/10/addremove-links-in-top-suitebar-skydrivesitesnewsfeed-in-sharepoint-2013/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-10-21T08:21:42.667

You should create a custom delegate control that target the SuiteLinksDelegate ControlId. Add it to a Farm-scoped feature to make the custom delegate control active in the whole farm. If you do not like hard-coded links you can program against a custom SharePoint list that stores the configurable links.

To Add custom links you can use the approach described here: [http://zimmergren.net/technical/sp-2013-some-new-delegatecontrol-additions-to-the-sharepoint-2013-master-pages](http://zimmergren.net/technical/sp-2013-some-new-delegatecontrol-additions-to-the-sharepoint-2013-master-pages)

If you need to remove some built-in links while keeping others (I had this requirement) you can use code like this:

```
 public partial class SuiteLinksDelegate : MySuiteLinksUserControl
    {
        protected override void Render(HtmlTextWriter writer)
        {
            // save for later
            var httpwriter = (writer.InnerWriter as HttpWriter);

            // hijack the innerwriter
            var sb = new StringBuilder();
            var sw = new StringWriter(sb);
            var tw = new HtmlTextWriter(sw);
            writer.InnerWriter = tw;

            // call base
            base.Render(writer);

            // get the html
            var currentHtml = sb.ToString();
            XElement element = XElement.Parse(currentHtml);

            // remove SkyDrive link
            var suiteLinkNodes = element.Elements("li").ToArray();
            var remainingNodes = suiteLinkNodes.Where(node => !(node.ToString().Contains("ShellDocuments")));
            element.ReplaceNodes(remainingNodes);

            var modifiedHTML = element.ToString();

            // set back the old innerwriter
            writer.InnerWriter = httpwriter;

            // write delegate control html
            httpwriter.Write(modifiedHTML);
        }
    } 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-06T11:50:26.643

您可以使用 javascript 方法来隐藏此链接，如下面的链接所述

[http://www.tuyrcorp.com/sharepoint-2013-top-links-name-id-and-how-to-hide-them/](http://www.tuyrcorp.com/sharepoint-2013-top-links-name-id-and-how-to-hide-them/)

您也可以使用相同的 javascript 在下拉列表中添加新项目

希望这可以帮助

谢谢

# jquery - jquery cycle2 视频和图像在一起

> ID：14725722
> 
> 赞同：2
> 
> 时间：2013-02-06T09:36:01.267
> 
> 标签：jquery, video, youtube, slideshow, cycle

我有 jquery cycle2 在一个带有图像的网站上工作，另外我也可以让它与 youtube 视频一起工作。但我需要同时在幻灯片中包含图像和视频。

只是想知道这是否可能？每当我将两者放在一起时，图像永远不会只显示视频。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-07-09T13:14:53.363

只为让大家知道！这已由插件作者更新，现在它是插件的一部分。因此，您可以在同一个滑块中添加图像和 youtube 视频，而无需调整插件文件。

[http://jquery.malsup.com/cycle2/demo/video.php](http://jquery.malsup.com/cycle2/demo/video.php)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-19T12:12:11.697

这是可能的，但据我所知，如果不调整 jquery.cycle2.video.js。

更改第 27 行

从：

```
var markup, slide = $(this), url = slide.attr( 'href' ); 
```

至：

```
var markup, slide = $(this).find('a.youtube'), url = slide.attr( 'href' ); 
```

接下来更改 data-cycle-slides 属性

从：

```
data-cycle-slides=">a" 
```

至：

```
data-cycle-slides=">div.item" 
```

最后将所有幻灯片项目包装到 div 容器中

视频容器：

```
<div class="item">
    <a class="youtube" href="https://www.youtube.com/v/addYoutubeVideoIdHere?version=3&hl=en_US&rel=0">Video 1</a>
</div> 
```

图像容器：

```
<div class="item">
    <img src="addImagehere.jpg" alt="" />
</div> 
```

# opencv - 使用 Cmake 打开 CV

> ID：14725726
> 
> 赞同：1
> 
> 时间：2013-02-06T09:36:08.490
> 
> 标签：opencv, cmake, haar-wavelet

我正在做一个harr检测项目。我想使用 Opencv 附带的 .cpp 文件生成 exe 文件。我正在使用 CMake。当我尝试这样做时，我收到了这样的错误。不知道怎么解决。

> CMakeLists.txt:7 (ocv_check_dependencies) 处的 CMake 错误：未知的 CMake 命令“ocv_check_dependencies”。
> 
> 配置不完整，出现错误！

源码链接：C:/opencv/apps/haartraining

目标链接：D:/build

请帮我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-29T15:46:38.407

我正在研究一些涉及 Haar 检测的图像处理。起初我很难尝试使用 Cmake 进行配置，但我终于找到了不使用 Cmake 或其他方式的手动配置教程。它对我帮助很大，你可以在这里得到它。我希望它能完美运行，因为它也对我有用。单击此处-> [http://www.anlak.com/using-opencv-2-3-1-with-visual-studio-2010-tutorial/](http://www.anlak.com/using-opencv-2-3-1-with-visual-studio-2010-tutorial/)。本教程使用 open CV 2.3.1，但它也适用于需要 Cmake 矿石的最新版本。如果您有更多问题，请联系我，我会解释。祝你好运！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-07T09:22:06.867

看起来您需要在启用构建示例选项的情况下编译整个库（如果您使用的是 windows，那么我打赌您使用图形 cmake 界面，所以这应该不是问题），然后您会在 bin 中找到 .exe目录，

或者您需要将在 cmake 目录中找到的 OpenCVModule.cmake 文件包含到您尝试用于构建的 CMake 文件中。

我自己没有测试第二个选项，但是看起来您尝试使用的 CMake 文件不会加载它运行所需的所有宏，但是在使用根库 CMake 文件时会加载宏。

# rss - 关于构建 RSS 提要的问题

> ID：14725730
> 
> 赞同：1
> 
> 时间：2013-02-06T09:36:15.023
> 
> 标签：rss, feed, rss2

我是第一次构建 RSS 提要，我有一些简单、直接的问题，我无法在网络上找到这些问题，从某种意义上说，我很清楚地列出了这些问题。你能帮我理解以下内容吗

*   我应该在 RSS 生成中包含哪些项目？当我查询我的文章以获取提要时，我应该始终放入所有文章还是标准是什么？
*   我应该设置什么值`pubDate`？规范中写着*“频道内容的发布日期。比如《纽约时报》每天发布，发布日期每24小时翻转一次。那是频道的pubDate发生变化的时候。”* . 我不太明白如何将其应用于我的提要。我每天都有新文章，我应该将 pubDate 设置为今天早上 06:00 并每天更新吗？
*   lastBuildDate：如果我理解这个正确的是最新更新项目的日期？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T09:49:50.270

> 我应该在 RSS 生成中包含哪些项目？

您应该有一个包含您发布的所有新文章的通用提要（例如：新闻）。此外，如果您将网页分为几类，或者您有一些特定的提要（例如活动日历），那么最好为每个提要创建额外的单独 RSS

> 我应该为 pubDate 设置什么值？我不太明白如何将其应用于我的提要。我每天都有新文章，我应该将 pubDate 设置为今天早上 06:00 并每天更新吗？

始终设置`pubDate`为您的新闻/文章上线的时间。因此，如果您每天有新文章，pubDate 应该是它们向公众发布的日期。早上不是随机的时间。不是你开始写它们的那一刻。

> lastBuildDate：如果我理解这个正确的是最新更新项目的日期？

`lastBuildDate`是发布或修改任何结果的最近日期。通常你应该跳过它——特别是如果你的 lastBuildDate 只是一个最近的 pubDate。它是一个可选参数。

我仅将 lastBuildDate 用于日历 RSS 提要以显示日历的更新时间（因为在日历中，您不仅可以添加新条目，还可以经常编辑现有条目）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T09:52:02.187

*   你应该把每篇文章都放好，但最好是为不同的类别提供不同的提要，甚至是搜索关键词。您可以像任何动态页面一样使用查询字符串构建它。
*   这不是很重要，你可以放任何东西。我不认为供稿读者使用它。
*   理论上是内容更改的日期。所以最新更新项目的日期应该有效。

一些非常重要的事情，因为人们将在此页面上进行轮询（意味着页面上有很多请求） - 将其缓存在您的服务器上 - 服务和 Etag 标头和/或 LastModifiedDate。这样，如果客户端已经在缓存中，您的服务器可以只响应“未修改”。

# sql - 如何根据sql中的行数据变化重复列

> ID：14725734
> 
> 赞同：0
> 
> 时间：2013-02-06T09:36:32.493
> 
> 标签：sql, sql-server, tsql, pivot

Sql-server 这是我的表数据

```
Companyname  Qty  Amount   tax
A             1      2      2
A             2      4      2
B             1      2      3
C             1      2      2
C             3      2      2 
```

这是我的例外输出。

```
 A                  B                C
Qty  Amount   tax | Qty  Amount   tax  | Qty  Amount   tax
3       6      4     1       2     3      4      4      4 
```

公司可以增加

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T09:57:54.920

您可以使用动态 SQL 执行此操作：

```
DECLARE @Cols NVARCHAR(MAX) = STUFF((SELECT DISTINCT ',' + QUOTENAME(CompanyName + Col)
                                    FROM    T
                                            CROSS JOIN 
                                            (   VALUES 
                                                    ('_Qty'), 
                                                    ('_Amount'), 
                                                    ('_Tax')
                                            ) c (col)
                                    FOR XML PATH(''), TYPE
                                    ).value('.', 'NVARCHAR(MAX)'), 1, 1, '');

DECLARE @SQL NVARCHAR(MAX) = 
    '   SELECT  *
        FROM    (   SELECT  [Col] = CompanyName + ''_'' + col,
                            Value
                    FROM    T
                            UNPIVOT
                            (   Value
                                FOR Col IN ([Qty], [Amount], [Tax])
                            ) Upvt
                ) t
                PIVOT
                (   SUM(Value)
                    FOR [Col] IN (' + @cols + ')
                ) pvt;'

EXECUTE SP_EXECUTESQL @SQL; 
```

**[SQL Fiddle 示例](http://www.sqlfiddle.com/#!3/cdd55/3)**

但是我的建议是不要使用它。在应用程序端处理这样的数据。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T09:54:22.663

如果您希望每家公司有一行，那很简单`GROUP BY`；

```
SELECT Companyname, SUM(Qty) Qty, SUM(Amount) Amount, SUM(tax) tax
FROM myTable
GROUP BY Companyname 
```

如果您真的希望所有内容都在一行中，正如您预期的输出似乎表明的那样，它很可能需要动态 SQL，特别是如果您希望公司名称位于列名上方的一行。这将使您的查询*更加*复杂。

# javascript - c#代码生成的实时搜索过滤提交按钮

> ID：14725735
> 
> 赞同：0
> 
> 时间：2013-02-06T09:36:40.237
> 
> 标签：javascript

我有一个包含 50 多个输入提交按钮的 div。[我想像在Data Tables](http://datatables.net/)中那样实现实时过滤，问题是我不能将提交按钮保留在表格中，所以任何人都可以提出一些方法，这样我就可以在我在搜索文本框中输入内容时过滤这些输入按钮。这些输入提交按钮也是由面板内的 c# 编码生成的。

我试过[jquery.livesearch](https://github.com/nakajima/jquery-livesearch)

**jQuery**

```
 $('#searchbox').search('(".btn-pr").attr("value")', function (on) {
        on.reset(function () {
            $('.btn-pr').show();
        });
        on.empty(function () {
            $('#lblemp').show();
        });
        on.results(function (results) {
            $('.btn-pr').hide();

            results.show();
        });
    }); 
```

但是由于这个用于 ul 中的 li 数量，因此在`search`函数中传递的选择器是`#names li`，我应该传递什么选择器以及如何传递（代替**(".btn-pr").attr("value")**）以便它搜索那些提交按钮的值，并隐藏不匹配的值。

**aspx**

```
<div id="div_items2" style="float:right; margin-top:10px; width:500px; height:400px; margin-right:5px; overflow:auto;">

    <asp:Panel runat="server" ID="pnlCategories">

        <center><asp:Label ID="Label8" runat="server" Text="Estimate"></asp:Label></center><br />

    </asp:Panel>

    <asp:Panel runat="server" ID="pnlProducts" Visible="false" Width="100%">

        <center><asp:Label ID="Label5" runat="server" Text="Estimate | Category: "></asp:Label><asp:Label ID="lblCategory" runat="server" Text=""></asp:Label></center>

        <asp:Button ID="btnBack" runat="server" Text="Back" onclick="btnBack_Click" CssClass="btn-nav" /><br /><br />

    </asp:Panel>

</div> 
```

pnlProducts 面板是在运行期间使用这些输入按钮生成的。

# python - 如何将文本文件分成几部分并稍后重新加入（在python中）？

> ID：14725738
> 
> 赞同：-2
> 
> 时间：2013-02-06T09:36:43.157
> 
> 标签：python, file, python-2.7

我想知道如何将单个 txt 拆分为不同的部分（取决于文件的大小）并将其存储在不同的文件中以供执行。

完成每个文件的执行后，我想知道如何将它们合并回单个文件？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T09:52:33.113

Hopefully you're on *nix.

```
 man split 
```

and

```
 man cat 
```

# python - tkFileDialog.askdirecotry 循环直到'取消' - tkinter python

> ID：14725741
> 
> 赞同：2
> 
> 时间：2013-02-06T09:36:53.273
> 
> 标签：python, loops, tkinter

我正在尝试运行一个循环，让您选择一个目录，然后从该目录上传文件。当您按“取消”时，我无法让循​​环整齐地停止（没有错误）

```
def search_audit():
    chosen_dir = tkFileDialog.askdirectory(parent=root, initialdir=os.sep, title='please select a dir')
    return chosen_dir

def splunk_uploader(ip, port):
    #code to connect socket
    chosen_dir = search_audit()
    while chose_dir != 'NULL': #This won't work
        for path, subdirs, files in os.walk(chosen_dir):
            for filename in files:
                c = os.path.join(path, filename)
                f = open(c, 'r')
                while True:
                    #code sends file
                    s.send(line) #line errno points to, works fine first directory chosen
        chosen_dir = search_audit()
s.close() 
```

我希望程序运行并要求一个目录，直到我按下取消。它一直要求输入目录并运行，但是当我按下取消时，它会上传整个 C: 驱动器

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T12:02:19.677

`None`对照而不是检查值`'NULL'`。由于您现在编写的代码，它只会停止他们选择一个字面上名为`NULL`.

# c# - 旋转 log4net 不会重写相同的日志文件

> ID：14725742
> 
> 赞同：2
> 
> 时间：2013-02-06T09:36:56.397
> 
> 标签：c#, asp.net, log4net

我想将我的轮换日志限制为 500 MB。

因此，在 500MB 之后，相同的日志文件将被覆盖。

现在配置在 500MB 之后打开一个新的日志文件。

我怎样才能解决这个问题？

```
 <log4net>
    <appender name="RollingLogFileAppender" type="log4net.Appender.RollingFileAppender">
      <file value="D:\Products\Logs\MamClientServices\MamClientServiceLog.txt"/>
      <appendToFile value="true"/>
      <StaticLogFileAppName value="false"/>
      <rollingStyle value="Size"/>
      <maxSizeRollBackups value="5"/>
      <maximumFileSize value="500MB"/>
      <layout type="log4net.Layout.PatternLayout">
        <conversionPattern value="%date{dd MMM yyyy HH:mm:ss,fff}||[%thread]||%-5level||%logger||%message%newline"/>
      </layout>
      <lockingModel type="log4net.Appender.FileAppender+MinimalLock"/>
    </appender>
    <root>
      <level value="WARN"/>
      <appender-ref ref="RollingLogFileAppender"/>
    </root>
    <logger name="infrastructure" additivity="false">
      <level value="INFO"/>
      <appender-ref ref="RollingLogFileAppender"/>
    </logger>
    <logger name="system" additivity="false">
      <level value="INFO"/>
      <appender-ref ref="RollingLogFileAppender"/>
    </logger>
  </log4net> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-06T09:38:56.697

除非我遗漏了一些明显的东西，否则你告诉 log4net 维护 5 个文件：

```
<maxSizeRollBackups value="5"/> 
```

请参阅[文档](https://logging.apache.org/log4net/release/sdk/log4net.Appender.RollingFileAppender.MaxSizeRollBackups.html)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-17T20:43:36.090

要让它打开相同的日志文件，您可能需要执行以下操作：

```
<StaticLogFileAppName value="true"/> 
```

现在，您已将其设置为 false。根据[文档](https://logging.apache.org/log4net/release/sdk/log4net.Appender.RollingFileAppender.StaticLogFileName.html)，这就是指定是否应创建新文件的内容。

# c# - 插入排序 c#

> ID：14725750
> 
> 赞同：-2
> 
> 时间：2013-02-06T09:37:07.973
> 
> 标签：c#, insertion-sort

你们能帮我在 C# 中进行基本的插入排序吗？我有一个数组中的姓名和居住城市列表，需要通过比较居住城市来对该数组进行排序。列表必须按字母顺序排序。比较器已经设置并且可以工作了我只是有点迷失了插入排序器编程，因为这是我们第一次使用这种排序方法。

这是我到目前为止所尝试的：

```
public void InsertionSort()
{
    for (int i = 0; i < Count; i++)
    {
        Student cur = Attendees[i];
        for (int j = 0; j < Count; j++)
        {
            Student Sel = Attendees[j];
            if (cur.CompareTo(Sel) < 0)
            {
                Student temp = Attendees[j];
                Attendees[j] = Attendees[i];
                for (int k = i; k > j; k--)
                    Attendees[k] = Attendees[k - 1];
                Attendees[k + 1] = temp;
            }
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-06T10:18:35.487

试试这样...

```
public void InsertionSort()
{
    for (int i = 0; i < Count; i++)
    {
        int j = i;
        While(j > 0)
        {
            Student cur = Attendees[j];
            Student sel = Attendees[j-1];
            if (cur.CompareTo(Sel) < 0)
            {
                Student temp = cur;
                cur = sel;
                sel = temp;
                j--
            }
            else
                break;
        }
    }
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-06T10:16:00.710

```
public void InsertionSort()
{
    for (int i = 1; i < Count; i++) // Iterate beginning at 1, because we assume that 0 is already sorted
    {
        for (int j = i; j > 0; j--) // Iterate backwards, starting from 'i'
        {
            Student cur = Attendees[j - 1];
            Student tbs = Attendees[j]; // 'tbs' == "to be sorted"
            if (cur.CompareTo(tbs) < 0) // usually, classes that implement 'CompareTo()' also implement 'operator <()', 'operator >()' and 'operator ==()', so you could have just written 'cur < tbs'
            {
                Student temp = Attendees[j];
                Attendees[j] = Attendees[j - 1];
                Attendees[j - 1] = temp;
            }
            else
                break; // since 'tbs' is no longer > 'cur', it is part of our sorted list. We don't need to sort that particular 'tbs' any further
        }
    }
} 
```

请记住，此算法按降序对列表进行排序。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-09-15T06:06:09.250

```
int[] newarr = {2,1,5,3,7,6};
int a, b;
for (int i = 1; i < newarr.Length; i++)
{
    a = newarr[i];
    b = i - 1;
    while(b>=0 && newarr[b]>a)
    {
        newarr[b+1] = newarr[b];
        b=b-1;
    }
    newarr[b+1] = a;
} 
```

# jquery - 如何在 JS 文件中创建 HashMap（在 JQM 中）

> ID：14725751
> 
> 赞同：3
> 
> 时间：2013-02-06T09:37:09.143
> 
> 标签：jquery, jquery-mobile

我正在使用 JQuery Mobile 开发一个移动应用程序。想知道我是否可以像在 JAVA 和 JQuery Mobile 中那样创建 HashMap？

如果是，那么如何？如果可能的话，请给我一些例子。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-02-06T09:47:22.827

在纯 Javascript 中，可以创建与 java HashMap 非常相似的东西：

```
var hashmap = {}; 
```

在里面放点东西：

```
hashmap['key'] = 'value'; 
```

从中得到一些东西：

```
var value = hashmap['key']; 
```

对于大多数目的，这会做，但它与哈希图并不完全相同，请参见例如这个问题： [JavaScript Hashmap Equivalent](https://stackoverflow.com/questions/368280/javascript-hashmap-equivalent)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T09:43:04.777

Javascript (EcmaScript 5) 目前只有对象和数组。[ES Harmony](http://wiki.ecmascript.org/doku.php?id=harmony%3aproposals)将引入 Maps 和 Sets，但距离获得足够广泛的支持以有效使用它还有很长的路要走。

您可以使用普通对象，在大多数情况下，它的行为类似于 Java-Hashmap。

```
// initialisation
var o = { key:"value", "another key", 3};
// or
var o = {};
o.key = "value";
// access property
alert(o.key);         // dot-notation
alert(o["key"]);      // bracket notation, same as array[i]
// delete property
delete o.key; 
```

如果密钥是有效标识符，则不需要引用它，也可以使用点符号轻松访问它，如果不是（保留关键字或其中的空格或...），则需要使用双引号对其进行引用或单引号并用括号表示法解决它。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-09-24T07:54:22.683

在 JavaScript 中动态创建地图的一种简单方法是使用以下方式。

我正在使用包含 html 元素 id 的数组创建地图。最后，我想将 html 元素的 id 和值放在地图中的键值对中。

```
var selectedFilterValuesMap = {};

for (var i = 0; i < filterIdArray.length; i++) {        
    selectedFilterValuesMap[filterIdArray[i].trim()] = $("#"+filterIdArray[i].trim()).val();
} 
```

而且，我可以像这样访问地图中的值：

```
for(var x in selectedFilterValuesMap){
    alert("key - "+x+"\n val - "+selectedFilterValuesMap[x]);
} 
```

# c# - ElementHost 重绘

> ID：14725754
> 
> 赞同：0
> 
> 时间：2013-02-06T09:37:15.387
> 
> 标签：c#, .net, winforms, avalonedit, elementhost

我在我的*WinForms*应用程序中使用*AvalonEdit 。**AvalonEdit*被放置在带有*ElementHost*的控件上。应用程序具有Telerik 的*RadDock*，并且*AvalonEdit*可以放置在其窗口上。我经常遇到*ElementHost*重绘的问题。我不知道所有的症状，但我可以通过改变焦点和在编辑器上移动其他窗口来重现这个问题。在此之后，我的应用程序中的所有 WPF 控件都损坏并且无法重新绘制。强制重绘*ElementHost的唯一方法********正在调整大小。我可以改变例如宽度和 WPF 控件将被重绘。但这种“解决方案”是不可接受的。在 x64 和 x86 机器上，可以为停靠或浮动窗口、带有或不带有活动滚动条的窗口重现该问题。要“修复” *ElementHost*，我需要重新启动应用程序。
有人对我有什么建议吗？*******

# android - 没有以编程方式获得 SOAP Web 服务的正确响应

> ID：14725755
> 
> 赞同：3
> 
> 时间：2013-02-06T09:37:20.217
> 
> 标签：android, json, web-services, soap

我有以下代码从 SOAP Webservice 获取响应。

这是我在 SOAPUI 中的 SOAP 请求

```
<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:test="http://test.login/">
   <soapenv:Header/>
   <soapenv:Body>
      <test:Login>
         <!--Optional:-->
         <arg0>best_buyer_editor</arg0>
         <!--Optional:-->
         <arg1>welcome</arg1>
         <!--Optional:-->
         <arg2>Mobile</arg2>
      </test:Login>
   </soapenv:Body>
</soapenv:Envelope> 
```

这是我在 SOAPUI 中得到的响应

```
<soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
   <soap:Body>
      <ns2:LoginResponse xmlns:ns2="http://test.login/">
         <return>{"LoginDetails":{"Result":"Success","UserName":"Best Buyer Editor","token":"M7M5RMQU6","rolelist":["buyer_editor","admin_role"],"parties":[{"partynumber":"BEST","type":"self","sites":[{"companyname":"www.bestmanufacture.com","sitecode":"BESTTXUSA-1","siteaddress":"225 E Industrial Blvd Waco USA"},{"companyname":"www.bestmanufacture.com","sitecode":"BESTNYUSA-5","siteaddress":"20 Milburn St Buffalo USA"},{"companyname":"Best Engineers Manufacturing USA Inc","sitecode":"BESTHQ","siteaddress":"8976, Hope vision Lane Simple City USA"},{"companyname":"www.bestmanufacture.com","sitecode":"BESTNYUSA-6","siteaddress":"Cedar &amp; Ellicott Sts Batavia USA"},{"companyname":"www.bestmanufacture.com","sitecode":"BESTTXUSA-2","siteaddress":"9700 Richmond Ave Ste 201 Houston USA"},{"companyname":"www.bestmanufacture.com","sitecode":"BESTTXUSA-4","siteaddress":"3315 Ashlock Dr Houston USA"},{"companyname":"Best Engineers Manufacturing USA Inc","sitecode":"BESTWH","siteaddress":"1021, Industrial Bolevar San Macros City USA"},{"companyname":"www.bestmanufacture.com","sitecode":"BESTNYMEX-10","siteaddress":"271 Madison Ave Ste 1003 New York USA"},{"companyname":"www.bestmanufacture.com","sitecode":"BESTNYUSA-8","siteaddress":"271 Madison Ave Ste 1003 New York USA"},{"companyname":"Best Engineers Manufacturing Europe Inc","sitecode":"BESTMO","siteaddress":"789,Future Vision Towers London GBR"},{"companyname":"www.bestmanufacture.com","sitecode":"BESTNYUSA-7","siteaddress":"1580 Columbia Tpke Ste 5 Castleton On Hudson USA"},{"companyname":"www.bestmanufacture.com","sitecode":"BESTNYMEX-9","siteaddress":"271 Madison Ave Ste 1003 New York USA"},{"companyname":"www.bestmanufacture.com","sitecode":"BESTTXUSA-3","siteaddress":"2821 Lackland Rd Ste 340 Fort Worth USA"}]},{"partynumber":"DHL","type":"sponsors","sites":[{"companyname":"www.dhl.com","sitecode":"DHLTXUSA-2","siteaddress":"11311 N Central Expy Dallas USA"},{"companyname":"www.dhl.com","sitecode":"DHLNYUSA-7","siteaddress":"150 W 22nd St Fl 5 New York USA"},{"companyname":"www.dhl.com","sitecode":"DHLNYMEX-9","siteaddress":"One Markin Lane Wyoming USA"},{"companyname":"www.dhl.com","sitecode":"DHLNYUSA-6","siteaddress":"12685 State Route 38 Berkshire USA"},{"companyname":"www.dhl.com","sitecode":"DHLTXUSA-4","siteaddress":"2221 Canada Dry St Houston USA"},{"companyname":"www.dhl.com","sitecode":"DHLNYUSA-5","siteaddress":"521 5th Ave Rm 2130 New York USA"},{"companyname":"www.dhl.com","sitecode":"DHLTXUSA-1","siteaddress":"6505 N Houston Rosslyn Rd Houston USA"},{"companyname":"www.dhl.com","sitecode":"DHLTXUSA-3","siteaddress":"9405 N County Road 2000 Lubbock USA"},{"companyname":"www.dhl.com","sitecode":"DHLNYMEX-10","siteaddress":"One Markin Lane Wyoming USA"},{"companyname":"www.dhl.com","sitecode":"DHLNYUSA-8","siteaddress":"One Markin Lane Wyoming USA"}]},{"partynumber":"UPS","type":"sponsors","sites":[{"companyname":"www.ups.com","sitecode":"UPSTXUSA-3","siteaddress":"1455 West Loop S Houston USA"},{"companyname":"www.ups.com","sitecode":"UPSNYUSA-8","siteaddress":"1050 Hook Rd Farmington USA"},{"companyname":"www.ups.com","sitecode":"UPSNYMEX-10","siteaddress":"1050 Hook Rd Farmington USA"},{"companyname":"www.ups.com","sitecode":"UPSNYUSA-7","siteaddress":"1400 Broadway Fl 2 New York USA"},{"companyname":"www.ups.com","sitecode":"UPSTXUSA-4","siteaddress":"14902 Sommermeyer St Ste 100 Houston USA"},{"companyname":"www.ups.com","sitecode":"UPSNYMEX-9","siteaddress":"1050 Hook Rd Farmington USA"},{"companyname":"www.ups.com","sitecode":"UPSNYUSA-6","siteaddress":"101 Cranbrook Ext Tonawanda USA"},{"companyname":"www.ups.com","sitecode":"UPSNYUSA-5","siteaddress":"290 Barrett Hill Rd Mahopac USA"},{"companyname":"www.ups.com","sitecode":"UPSTXUSA-2","siteaddress":"11308 Midmorning Dr Austin USA"},{"companyname":"www.ups.com","sitecode":"UPSTXUSA-1","siteaddress":"3900 Harrisburg Blvd Houston USA"}]},{"partynumber":"HDEPO","type":"sponsors","sites":[{"companyname":"Home Depot USA.","sitecode":"HDEPOWH","siteaddress":"55031 Hdepo WH Road Bossier City USA"},{"companyname":"www.homeDepot.com","sitecode":"HDEPONYUSA-8","siteaddress":"166 Haverford Rd Hicksville USA"},{"companyname":"www.homeDepot.com","sitecode":"HDEPOTXUSA-4","siteaddress":"4901 Blaffer St Houston USA"},{"companyname":"Home Depot USA.","sitecode":"HDEPOHQ","siteaddress":"5031 Hdepo HQ Road Bossier City USA"},{"companyname":"www.homeDepot.com","sitecode":"HDEPONYMEX-9","siteaddress":"166 Haverford Rd Hicksville USA"},{"companyname":"www.homeDepot.com","sitecode":"HDEPONYUSA-6","siteaddress":"1790 Broadway Ste 702 New York USA"},{"companyname":"www.homeDepot.com","sitecode":"HDEPOTXUSA-3","siteaddress":"2203 Timberloch Pl Ste 252 The Woodlands USA"},{"companyname":"www.homeDepot.com","sitecode":"HDEPONYMEX-10","siteaddress":"166 Haverford Rd Hicksville USA"},{"companyname":"www.homeDepot.com","sitecode":"HDEPONYUSA-5","siteaddress":"1040 Avenue Of The Americas New York USA"},{"companyname":"Home Depot USA.","sitecode":"HDEPOMO","siteaddress":"5031 Hdepo MO Road Bossier City USA"},{"companyname":"www.homeDepot.com","sitecode":"HDEPOTXUSA-1","siteaddress":"14603 Chrisman Rd Houston USA"},{"companyname":"www.homeDepot.com","sitecode":"HDEPOTXUSA-2","siteaddress":"16103 University Oak San Antonio USA"},{"companyname":"www.homeDepot.com","sitecode":"HDEPONYUSA-7","siteaddress":"392 Pulteney St Corning USA"}]},{"partynumber":"GWILL","type":"sponsors","sites":[{"companyname":"www.goodwillconstruct.com","sitecode":"GWILLNYMEX-9","siteaddress":"3300 Northern Blvd Fl 2 Long Island City USA"},{"companyname":"GoodWill Supplies and Construction","sitecode":"GWILLHQ","siteaddress":"543, Light Ray Street Wellknown city In"},{"companyname":"www.goodwillconstruct.com","sitecode":"GWILLNYMEX-10","siteaddress":"3300 Northern Blvd Fl 2 Long Island City USA"},{"companyname":"www.goodwillconstruct.com","sitecode":"GWILLNYUSA-7","siteaddress":"1800 New Hwy Farmingdale USA"},{"companyname":"www.goodwillconstruct.com","sitecode":"GWILLNYUSA-8","siteaddress":"3300 Northern Blvd Fl 2 Long Island City USA"},{"companyname":"GoodWill Supplies and Construction","sitecode":"GWILLMO","siteaddress":"6789, Engineering Laner Large city GBR"},{"companyname":"www.goodwillconstruct.com","sitecode":"GWILLTXUSA-2","siteaddress":"945 McKinney St # 237 Houston USA"},{"companyname":"www.goodwillconstruct.com","sitecode":"GWILLNYUSA-6","siteaddress":"580 Broadway Menands USA"},{"companyname":"www.goodwillconstruct.com","sitecode":"GWILLTXUSA-3","siteaddress":"6921 Olson Ln Pasadena USA"},{"companyname":"www.goodwillconstruct.com","sitecode":"GWILLTXUSA-1","siteaddress":"7075 Ranch Road 2338 Georgetown USA"},{"companyname":"www.goodwillconstruct.com","sitecode":"GWILLTXUSA-4","siteaddress":"3839 Dilido Rd Dallas USA"},{"companyname":"www.goodwillconstruct.com","sitecode":"GWILLNYUSA-5","siteaddress":"1 Radisson Plz Ste 803 New Rochelle USA"},{"companyname":"GoodWill Supplies and Construction","sitecode":"GWILLHQ","siteaddress":"543, Light Ray Street Wellknown city USA"},{"companyname":"GoodWill Supplies and Construction","sitecode":"GWILLWH","siteaddress":"2345, Well formed lane Hope in city USA"}]},{"partynumber":"FEDEX","type":"sponsors","sites":[{"companyname":"www.fedex.com","sitecode":"FEDEXTXUSA-2","siteaddress":"400 Langford St Clint USA"},{"companyname":"www.fedex.com","sitecode":"FEDEXNYUSA-8","siteaddress":"3736 Kellogg Rd Cortland USA"},{"companyname":"www.fedex.com","sitecode":"FEDEXTXUSA-4","siteaddress":"5025 East Business 20 Abilene USA"},{"companyname":"www.fedex.com","sitecode":"FEDEXNYUSA-5","siteaddress":"637 New Loudon Rd Ste 2 Latham USA"},{"companyname":"Fedex USA.","sitecode":"FEDEXWH","siteaddress":"6754 Fedex WH  Road Fedex  City USA"},{"companyname":"www.fedex.com","sitecode":"FEDEXTXUSA-1","siteaddress":"4305 N Interstate 35 Denton USA"},{"companyname":"Fedex USA.","sitecode":"FEDEXHQ","siteaddress":"7800 Fedex HQ  Road Bossier City USA"},{"companyname":"www.fedex.com","sitecode":"FEDEXTXUSA-3","siteaddress":"14444 Stuebner Airline Rd Houston USA"},{"companyname":"www.fedex.com","sitecode":"FEDEXNYMEX-10","siteaddress":"3736 Kellogg Rd Cortland USA"},{"companyname":"www.fedex.com","sitecode":"FEDEXNYUSA-7","siteaddress":"65 Old Indian Rd Milton USA"},{"companyname":"www.fedex.com","sitecode":"FEDEXNYMEX-9","siteaddress":"3736 Kellogg Rd Cortland USA"},{"companyname":"Fedex USA.","sitecode":"FEDEXMO","siteaddress":"9600 Fedex MO Road Bossier City USA"},{"companyname":"www.fedex.com","sitecode":"FEDEXNYUSA-6","siteaddress":"1254 Erie Ave North Tonawanda USA"}]}]}}</return>
      </ns2:LoginResponse>
   </soap:Body>
</soap:Envelope> 
```

最后，这是我为获取此数据所做的代码。

```
URL = "http://test.tpsynergy.com:8080/tpsynergy/services/login";
SOAP_ACTION = "http://test.tpsynergy.com:8080/tpsynergy/services/login";
METHOD = "Login";
NAMESPACE = "http://test.login/";
SoapObject request = new SoapObject(NAMESPACE, "Login");
request.addProperty("arg0", "best_buyer_editor");
request.addProperty("arg1", "welcome");
request.addProperty("arg2", "Mobile");

Log.i(TAG, "Request for getting airport list" + request.toString());

SoapSerializationEnvelope envelope = new SoapSerializationEnvelope(SoapEnvelope.VER11);
envelope.setOutputSoapObject(request);
envelope.dotNet = true;
HttpTransportSE androidHttpTransport = new HttpTransportSE(URL);
try {
    androidHttpTransport.call(SOAP_ACTION, envelope);

    if (envelope.bodyIn instanceof SoapFault) {
                String str= ((SoapFault) envelope.bodyIn).faultstring;
                Log.i("", str);

     } else {
                SoapObject resultsRequestSOAP = (SoapObject) envelope.bodyIn;
                response = resultsRequestSOAP.getProperty(0).toString();

                 Log.i(" Login Webservice Response", "Responce ---->"
                         + (resultsRequestSOAP.getProperty(0).toString()));
            }

    } catch (Exception e) {

            Log.i(TAG, "Exception e" + e.toString());
        } 
```

执行上述代码后，我收到以下错误：

```
Unmarshalling Error: unexpected element (uri:"http://test.login/", local:"arg0"). Expected elements are <{}arg2>,<{}arg1>,<{}arg0> 
```

谁能告诉我为什么我不是通过我的代码在 SOAPUI 中获得成功。

我已经引用了许多 SO 链接，但无法解决我的问题。

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-09T04:39:10.240

在面对这个问题很长时间后，我找到了解决方案。任何人都可以尝试它，因为它对我来说非常好。

**我对上述问题的解决方案：**

首先，我在任何你想动态添加参数`txt file`的地方都做了一个像 SOAP 请求一样的请求。`{%key%}`制作这个txt文件并将其放入`raw`文件夹创建的`res`文件夹中。现在您将拥有`yourfilename.txt`如下所示：

```
<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:test="http://test.login/">
   <soapenv:Header/>
   <soapenv:Body>
      <test:Login>
         <!--Optional:-->
         <arg0>{%arg0%}</arg0>
         <!--Optional:-->
         <arg1>{%arg1%}</arg1>
         <!--Optional:-->
         <arg2>{%arg2%}</arg2>
      </test:Login>
   </soapenv:Body>
</soapenv:Envelope> 
```

现在您将在您的 java 文件中执行如下代码来访问正确的响应：

您将通过调用以下方法得到响应：

```
response = new sendSoapRequest(
                        getApplicationContext(), yourargument1, yourargument2, yourargument3); 
```

包含以下方法：

```
/**
     * Sends SOAP request to the web service.
     * 
     * @param requestContent
     *            the SOAP request XML
     * @return KvmSerializable object generated from the SOAP response XML
     * @throws Exception
     *             if the web service can not be reached, or the response data
     *             can not be processed.
     */
    public String sendSoapRequest(Context c, String arg0, String arg1,
            String arg2) throws Exception {

 URL = "PASTE YOUR WS URL";//"http://test.tpsynergy.com:8080/tpsynergy/services/login";
        String FinalString = getStringFromRaw(c);
        Log.i("TAG", "*********************** FinalString Before "
                + FinalString);

        FinalString = getFinalString(FinalString, arg0, arg1, arg2);

        Log.i("TAG", "***********************After Finallyyy   :  FinalString "
                + FinalString);

        // send SOAP request
        InputStream responseIs = sendRequest(FinalString);

        // create the response SOAP envelope
        SoapSerializationEnvelope envelope = new SoapSerializationEnvelope(
                SoapEnvelope.VER11);

        // process SOAP response
        parseResponse(responseIs, envelope);

        Object bodyIn = envelope.bodyIn;

        SoapObject resultsRequestSOAP = (SoapObject) envelope.bodyIn;
        String response = resultsRequestSOAP.getProperty(0).toString();

        Log.i(" Login Webservice Response",
                "Responce ---->" + response.toString());

        //

        if (bodyIn instanceof SoapFault) {
            throw (SoapFault) bodyIn;
        }

        return response.toString();
    }

    public String getFinalString(String ABC, String arg0, String arg1,
            String arg2) {
        // parse the template and replace all keywords

        HashMap<String, String> hashMap = new HashMap<String, String>();

        hashMap.put("arg0", arg0);
        hashMap.put("arg1", arg1);
        hashMap.put("arg2", arg2);

        StringBuffer sb = new StringBuffer();
        try {
            // find all keywords
            Pattern patern = Pattern.compile("\\{%(.*?)%\\}");
            Matcher matcher = patern.matcher(ABC);

            while (matcher.find()) {
                String keyName = matcher.group(1);

                Log.i("LOG_TAG", "Key Name" + keyName);
                String keyValue = hashMap.get(keyName);
                if (keyValue == null) {
                    keyValue = "";
                }
                // replace the key with value
                matcher.appendReplacement(sb, keyValue);
            }
            matcher.appendTail(sb);

            // return the final string
            return sb.toString();
        } catch (Throwable e) {
            Log.e("LOG_TAG", "Error parsing template", e);
            return null;
        }
    }

    private String getStringFromRaw(Context c) throws IOException {
        Resources r = c.getResources();
        InputStream is;
        if (MainActivity.PRODUCTION) {
            Log.i(TAG, "Inside Production Raw File");
            is = r.openRawResource(R.raw.logininfoproduction);
        } else {
            Log.i(TAG, "Inside Test Raw File");
            is = r.openRawResource(R.raw.logininfotest);
        }

        String statesText = convertStreamToString(is);
        is.close();
        return statesText;
    }

    private String convertStreamToString(InputStream is) throws IOException {
        ByteArrayOutputStream baos = new ByteArrayOutputStream();
        int i = is.read();
        while (i != -1) {
            baos.write(i);
            i = is.read();
        }
        return baos.toString();
    }

    /**
     * Sends SOAP request to the web service.
     * 
     * @param requestContent
     *            the content of the request
     * @return {@link InputStream} containing the response content
     * @throws Exception
     *             if communication with the web service can not be established,
     *             or when the response from the service can not be processed.
     */
    private InputStream sendRequest(String requestContent) throws Exception {

        // initialize HTTP post
        HttpPost httpPost = null;

        try {
            httpPost = new HttpPost(URL);
            httpPost.addHeader("Accept-Encoding", "gzip,deflate");
            httpPost.addHeader("Content-Type", "text/xml;charset=UTF-8");
            httpPost.addHeader("SOAPAction", "\"\"");
        } catch (Throwable e) {
            Log.e("LOG_TAG", "Error initializing HTTP post for SOAP request", e);
            // throw e;
        }

        // load content to be sent
        try {
            HttpEntity postEntity = new StringEntity(requestContent);
            httpPost.setEntity(postEntity);
        } catch (UnsupportedEncodingException e) {
            Log.e("LOG_TAG",
                    "Unsupported ensoding of content for SOAP request", e);
            throw e;
        }

        // send request
        HttpResponse httpResponse = null;
        HttpClient httpClient = new DefaultHttpClient();
        try {
            httpResponse = httpClient.execute(httpPost);
        } catch (Throwable e) {
            Log.e("LOG_TAG", "Error sending SOAP request", e);
            // throw e;
        }

        // get SOAP response
        try {
            // get response code
            int responseStatusCode = httpResponse.getStatusLine()
                    .getStatusCode();

            // if the response code is not 200 - OK, or 500 - Internal error,
            // then communication error occurred
            if (responseStatusCode != 200 && responseStatusCode != 500) {
                String errorMsg = "Got SOAP response code "
                        + responseStatusCode + " "
                        + httpResponse.getStatusLine().getReasonPhrase();
                // ...
            }

            // get the response content
            HttpEntity httpEntity = httpResponse.getEntity();
            InputStream is = httpEntity.getContent();
            return is;
        } catch (Throwable e) {
            Log.e("LOG_TAG", "Error getting SOAP response", e);
            // throw e;
        }
        return null;
    }

    /**
     * Parses the input stream from the response into SoapEnvelope object.
     */
    private void parseResponse(InputStream is, SoapEnvelope envelope)
            throws Exception {
        try {
            XmlPullParser xp = new KXmlParser();
            xp.setFeature(XmlPullParser.FEATURE_PROCESS_NAMESPACES, true);
            xp.setInput(is, "UTF-8");
            envelope.parse(xp);
        } catch (Throwable e) {
            Log.e("LOG_TAG", "Error reading/parsing SOAP response", e);

        }

    } 
```

现在您不必担心 ComplexType 请求参数或任何其他事情。因为您正在传递与 XML 相同的格式，因为请求就像 SOAPUI 工具正在传递一样。

现在您有了所需的正确响应。

希望它也适用于其他人。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T17:00:06.043

**我在另一个重复的问题中添加了以下评论，但以防万一你错过了。**

使用 TCP 监视器检查发送的 SOAP 请求是什么。我怀疑基于错误消息，元素 arg* 使用命名空间限定，因为 web 服务不希望它们那样。

```
<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:test="http://test.login/">
   <soapenv:Header/>
   <soapenv:Body>
      <test:Login>
         <!--Optional:-->
         <test:arg0>best_buyer_editor</test:arg0>
         <!--Optional:-->
         <test:arg1>welcome</test:arg1>
         <!--Optional:-->
         <test:arg2>Mobile</test:arg2>
      </test:Login>
   </soapenv:Body>
</soapenv:Envelope> 
```

# java - 在 JavaFX 2 中使用 Swing 组件

> ID：14725762
> 
> 赞同：1
> 
> 时间：2013-02-06T09:38:02.837
> 
> 标签：java, swing, javafx-2

我正在使用 JavaFx2。谁能给我在 JavaFX 中集成摆动组件的示例。我从 2 天开始就在寻找这个，但我没有得到正确的解决方案。有人说它在 JavaFX2 中是不可能的，还有一些有人说它很简单。我完全糊涂了。如果可能的话，你能把链接或任何样本分享给我吗？

谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T09:51:03.007

> i am using JavaFx2.Can any one give me the samples of integrating the swing components in JavaFX

*   this not possible for current `JavaFX 2.x`, this intergration (vice versa Swing and JavaFx) is in development, testing and will be possible in `Java8` with `JavaFX8`

*   all important (new, roadmap, rellase candinates) is on [FX Experience](http://fxexperience.com/)

# javascript - Metro 应用程序可以切换到上次运行的应用程序吗？

> ID：14725763
> 
> 赞同：1
> 
> 时间：2013-02-06T09:38:04.357
> 
> 标签：javascript, windows-8, microsoft-metro, windows-runtime, windows-store-apps

单击按钮时，我想返回上一个运行的应用程序，就像 android 或 Alt+Tab 上的后退按钮一样。有没有办法做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T15:41:23.930

There is no programmatic way to the last running app specifically. However, if you know what the app is, you can activate it using a protocol handler, if it has one. E.g. If you got activated because of some flow, and you know you want to return to AppB, and AppB supports a protocol, you can use the launcher API to launch: "Appb://foo", and that app will open.

# highcharts - Highchart - yAxis - 1,000 应该显示为 1000

> ID：14725772
> 
> 赞同：2
> 
> 时间：2013-02-06T09:38:28.637
> 
> 标签：highcharts

我在 Highchart API 中找不到我的问题的设置。

我在 jsFiddle [http://jsfiddle.net/qErT2/上举了一个例子](http://jsfiddle.net/qErT2/)

如何将 1,000 换成 1000 ？

```
Greetings 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T09:59:26.930

HighChart 数字格式与[PHP NUMBER FORMATS 相同](http://php.net/manual/en/function.number-format.php)

你可以在任何地方使用这种格式

**用于工具提示**

```
tooltip: {
    formatter: function () 
    {
        return '<b>' + this.series.name + '</b><br/>' + this.x + ' - <b>' + Highcharts.numberFormat(this.y, 0,'',''); + '</b>';
    }
} 
```

**对于 y 轴**

```
yAxis: {
    labels: {
        formatter: function () {
            return Highcharts.numberFormat(this.value, 0,'','');
        }
    }
}, 
```

[您的示例修改演示](http://jsfiddle.net/qErT2/1/)（工具提示）

和更新的[演示](http://jsfiddle.net/qErT2/3/)（工具提示和 yAxis 标签）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-06T09:58:20.053

看看 lang 选项[http://api.highcharts.com/highcharts#lang](http://api.highcharts.com/highcharts#lang)显然你可以使用 Highcharts.numberFormat() [http://api.highcharts.com/highcharts#Highcharts.numberFormat()](http://api.highcharts.com/highcharts#Highcharts.numberFormat())可以在工具提示格式化程序/标签格式化程序可根据需要显示数字。

[http://api.highcharts.com/highcharts#yAxis.labels.formatter](http://api.highcharts.com/highcharts#yAxis.labels.formatter)

# android - 调整 GridView (Android)

> ID：14725774
> 
> 赞同：0
> 
> 时间：2013-02-06T09:38:42.150
> 
> 标签：android, android-gridview

我对 Android 上的网格视图布局有疑问。我找不到消除网格视图中多余空间的解决方案。我提到了 gridview 的代码，如下所示：-

```
<?xml version="1.0" encoding="utf-8"?>
<GridView xmlns:android="http://schemas.android.com/apk/res/android"
android:id="@+id/gridview"
android:layout_width="fill_parent"
android:layout_height="fill_parent"
android:alwaysDrawnWithCache="true"
android:background="@android:color/background_dark"
android:clipChildren="true"
android:columnWidth="100dp"
android:gravity="center_horizontal"
android:horizontalSpacing="2dp"
android:numColumns="auto_fit"
android:padding="0dp"
android:scrollingCache="true"
android:smoothScrollbar="true"
android:stretchMode="columnWidth"
android:verticalSpacing="2dp" /> 
```

现在我的应用程序的网格视图看起来像这样 ![在此处输入图像描述](../Images/93fdf16ebdcffe828cc45500b3163444.png)

如图所示，有多余的空间我想删除它，它看起来像这样：-

![在此处输入图像描述](../Images/9254dbd89851d181d51e488c875f1f2c.png)

所以请给我解决方案..提前谢谢..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T09:47:20.277

You need to alter the value for `android:columnWidth` attribute for all layout types [hdpi,mdpi,xhdpi etc.] supported by your application.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-29T02:46:28.577

您可以使用 ：

`android:listSelector="@null"`

消除额外空间并尝试这个，对于 3 列单元格：

`android:numColumn = "3"`

# r - 以任意方式排序列表

> ID：14725778
> 
> 赞同：1
> 
> 时间：2013-02-06T09:38:50.720
> 
> 标签：r, list

有没有办法以任意方式订购列表？例如，使用向量对列表进行排序：

```
> a
[[1]]
[1] 1

[[2]]
[1] "B"

[[3]]
[1] 2

> b = c(3, 1, 2)
> magicfunction(a, b)
[[1]]
[1] 2

[[2]]
[1] 1

[[3]]
[1] "B" 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-06T09:41:29.227

你的意思是重新订购吗？

```
##Create some dummy data
R> a = list(3)
R> a[[1]] = 1; a[[2]] = "B"; a[[3]] = 2
R> b = c(3, 1, 2) 
```

然后只需使用数字向量进行排序：

```
R> a[b]
[[1]]
[1] 2

[[2]]
[1] 1

[[3]]
[1] "B" 
```

# python - 设计类属性以匹配 Python 中不一致的键

> ID：14725779
> 
> 赞同：0
> 
> 时间：2013-02-06T09:38:51.347
> 
> 标签：python, class, dictionary, attributes

我在写我的问题时遇到了一些困难，所以我的搜索查询可能写得不好，但我没有找到任何可以帮助我的东西。

我正在尝试通过以下方式解析文件：我使用正则表达式构建字典。然后我尝试创建对象，其中每个键的值填充我的类中每个属性的值。请参阅下面的代码。

```
for k, v in element.items():
  attr = k
  setattr(thisinstance, attr, v)
else:
  continue 
```

（这里的 thisinstance 指的是在代码中选择了上面正确的实例。）

如果键和属性是例如“所有者”，这将非常有效。但如果密钥是例如“所有者是”，则不能。我可以创建属性“the_owner_is”，但如何使键与该属性匹配？

到目前为止，我发现的不令人满意的解决方案是在评估与属性的相等性之前更改键值。有没有办法避免对每个变体进行硬编码？

提前谢谢你！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T09:43:18.453

属性（以及一般的所有名称）的名称中不能有空格。

用于`str.replace`更改键名

```
attr = k.replace(' ', '_') 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T10:21:17.140

您可以将整个字典分配到一个类属性中，并使用字典表示法来访问这些值。

# c# - GetSystemMetrics() 为 .NET 4.5 和 .NET 4.0 返回不同的结果

> ID：14725781
> 
> 赞同：7
> 
> 时间：2013-02-06T09:38:55.540
> 
> 标签：c#, .net-4.0, .net-4.5, getsystemmetrics

在 .NET 4.0 -> .NET 4.5 应用程序迁移过程中，我发现了一个非常奇怪的行为。我已经能够将此问题追溯到这个简短的代码片段：

```
class Program
{
    [System.Runtime.InteropServices.DllImport("user32.dll")]
    public static extern int GetSystemMetrics(int nIndex);

    static void Main(string[] args)
    {
        const int CXFRAME = 0x20;
        const int CYFRAME = 0x21;

        var dx = GetSystemMetrics(CXFRAME);
        var dy = GetSystemMetrics(CYFRAME);

        Console.WriteLine("{0}x{1}", dx, dy);
        Console.ReadKey();
    }
} 
```

`Target Framework = 4.0`当使用（以及 2.0、3.0、3.5）编译时，它会输出`8x8`

当用 编译时`Target Framework = 4.5`，它输出`4x4`

使用 MSVS2012 调试器运行此示例也始终输出`4x4`（使用*任何*目标框架）。

其他选项（目标框架配置文件、目标平台、启用/禁用 Aero）不会影响结果，唯一改变输出的是目标框架和使用调试器运行。我已经能够在 3 台计算机上重现此问题，不幸的是，它们在安装的软件方面几乎相同：

*   Windows 7 Ultmate SP1（俄语，已安装所有更新）和 MSVS2012（英语/俄语）更新 1
*   Windows 8（在虚拟机上）

目前我正在考虑修补一些使用反射`SystemParameters`调用的 .NET 类（例如），`GetSystemMetrics()`但我不确定如何获得正确的度量值。

问题：

*   我错过了什么吗？目标框架如何`GetSystemMetrics()`影响？
*   有没有办法`GetSystemMetrics()`从 .NET 4.5 应用程序调用并获得正确的结果？

我愿意接受有关解决此问题的任何建议。此外，如果您无法重现该问题，请在评论中留下简短的系统描述。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-06T10:18:48.273

所以，这实际上是一种设计行为，如果有人有类似的问题，这里的代码总是输出相同的结果：

```
const int CXFRAME = 0x20;
const int CYFRAME = 0x21;
const int CXPADDEDBORDER = 92;

var dx = GetSystemMetrics(CXFRAME);
var dy = GetSystemMetrics(CYFRAME);
var d  = GetSystemMetrics(CXPADDEDBORDER);
dx += d;
dy += d;

Console.WriteLine("{0}x{1}", dx, dy);
Console.ReadKey(); 
```

另请注意，`RibbonWindow`使用`WindowChrome`并作为 .NET 4.5 的一部分的 WPF 控件不知道此更改并显示混乱的窗口边框（幸运的是，我认为可以使用修改后的样式修复它）。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-06T09:56:50.633

根据微软的说法，这是设计使然。

请参阅此处了解完整详情：

*   [SystemParameters.WindowResizeBorderThickness 似乎返回了不正确的值 - Microsoft Connect](http://connect.microsoft.com/VisualStudio/feedback/details/763767/the-systemparameters-windowresizeborderthickness-seems-to-return-incorrect-value)（没有可用的存档版本）
*   [回归： ::GetSystemMetrics 提供不同的值 - Microsoft Connect](https://connect.microsoft.com/VisualStudio/feedback/details/753224/regression-getsystemmetrics-delivers-different-values)（[已归档](https://web.archive.org/web/20141223024016/https://connect.microsoft.com/VisualStudio/feedback/details/753224/regression-getsystemmetrics-delivers-different-values)）

尽管 MS 说这是“设计使然”，但我仍然认为这是一个错误！

# iphone - Tapku 日历 - 如何使用 Tapku 日历实现列表、日和月视图？

> ID：14725783
> 
> 赞同：0
> 
> 时间：2013-02-06T09:38:56.273
> 
> 标签：iphone, ios, calendar, tapku

我想使用 Tapku 库为我的 iPhone 应用程序实现一个日历应用程序，如月视图、日视图和周视图。月视图已经存在。所以我正在专注于日视图和周视图。如果有人对此有任何想法，请告诉我？

请让我知道如何开始实施 Day 和 MonthView。

提前致谢， Jayaprakash S

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T10:00:00.073

您可以参考这个 GitHub 链接来查看日历应用程序的实现，例如使用 Tapku 库的月视图、日视图和周视图。

[https://github.com/devinross/tapkulibrary/pull/57/files](https://github.com/devinross/tapkulibrary/pull/57/files)

或者，您可以尝试为 iPhone 应用程序提供日历用户界面的 MACalendarUI 项目。

[https://github.com/muhku/calendar-ui](https://github.com/muhku/calendar-ui)

# javascript - 检测在jquery中单击了哪个下拉框

> ID：14725785
> 
> 赞同：0
> 
> 时间：2013-02-06T09:39:01.437
> 
> 标签：javascript, jquery

我在多个下拉框上执行相同的功能`id: assignee, status , priority`。

```
$("#assignee , #status , #priority").change(function() { 

//text here

} 
```

但我想知道点击了哪个特定的下拉菜单。有什么方法可以做到这一点吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T09:40:34.913

只需使用以下内容：

```
$("#assignee, #status, #priority").change(function() { 
    if (this.id === "assignee") { ... }
}); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-06T09:40:52.357

用这个。在任何事件处理程序中，这都指向发生实际事件的元素：

```
$("#assignee , #status , #priority").change(function() { 
    var changedElementID = $(this).attr("id");
} 
```

另一种选择是使用[`event.target`](http://api.jquery.com/event.target/)：

```
$("#assignee , #status , #priority").change(function(e) { 
        var changedElementID = $(e.target).attr("id");
    } 
```

[在这里](http://api.jquery.com/category/events/event-object/)您可以找到有关其他事件对象属性的更多详细信息。

注意`this`和`e.target`都是 DOM 对象，而不是 jQuery 对象。所以你需要像上面的代码一样用 jquery 包装它来使用 jQuery 函数。如果只是获取一个 id - 您可以直接使用`this.id`或`e.target.id`更快。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-06T09:40:52.323

当事件被触发时，事件处理函数内部`this`指的是触发事件的元素，所以：

```
$('#assignee, #status, #priority').change(function(e) {
    // Use 'this' to refer to the element that triggered the event
    console.log(this.id);
    // will output assignee, status or priority depending on which changed
}); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-06T09:41:35.520

使用目标：

```
$("#assignee , #status , #priority").change(function(e) { 
        var changedElementID = $(e.target).attr("id");
    } 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-06T09:44:20.177

你在哪里绑定你`<option>`的传递`this`到函数并使用你自己的代码

```
$("#assignee , #status , #priority").change(function(boxID) { 
console.log($(boxID).val());    //Gives you the value of the selected drop down

//text here

} 
```

# vector - 绘制 7 维空间

> ID：14725786
> 
> 赞同：-5
> 
> 时间：2013-02-06T09:39:03.483
> 
> 标签：vector, draw, dimension

我需要在 7 维空间中表示向量。我如何绘制它们并在它们上绘制点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T09:41:06.680

我认为没有一种合理的方法可以绘制 7 维的东西。最好的办法是在较少的维度上绘制多个投影，例如 2 或 3。即使是 4 维度，男性也很难理解。

# javascript - 单独使用 jQuery 和 RequireJS

> ID：14725788
> 
> 赞同：1
> 
> 时间：2013-02-06T09:39:31.563
> 
> 标签：javascript, jquery, include, requirejs, require

我正在尝试加载和使用 jQuery，我不想使用 RequireJs+jQuery 捆绑包，因为我不打算使用最新版本。但是，似乎文档就绪事件没有被执行，

```
require.config({
    baseUrl: 'js/'
});

require([
    "jquery.min",
    "jquery.alpha",
    "jquery.beta"
], function($) {

    console.log('require js okay');

    define(['jquery'], function ($) {

        $(document).ready(function() {

            console.log('jquery has loaded');
            $('body').alpha().beta();

        });

    });

}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T09:30:22.520

jQuery[将自身导出为命名模块](https://github.com/jquery/jquery/blob/861a45b8fffc2073baa9f62b0648f395f0695f3e/src/exports.js)。这意味着您需要在配置选项中添加一个路径，以正确地将 jQuery 作为模块返回。

```
 paths: {
    "jquery": "js/jquery,
  }, 
```

# java-native-interface - 通过 jni 将二维矩阵从 java 传递到 C++ 文件

> ID：14725789
> 
> 赞同：1
> 
> 时间：2013-02-06T09:39:31.187
> 
> 标签：java-native-interface

我在 java_method() 方法中的文件 MyClass.java 中有一个 java 中的二维矩阵，我已经声明了一个本地方法说 c_method()。矩阵是浮点类型，如：

```
 float[][] pos_matrix; 
```

大小为 3by4，我已经在 java 中初始化了矩阵。现在我想将此矩阵传递给 jni 中的 cpp 文件。怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T15:30:05.290

两种选择：

1.  将矩阵编码为长度为 12 的一维数组，作为 float[] 传递。结果在`jfloatArray`本机方面。不能直接使用，请阅读`Get/ReleaseFloatArrayElements`
2.  使用方法（或类似方法）将 Java 矩阵包装在外观类中，`float GetValueAt(int,int)`并通过传递实例（在本机端产生结果）`jobject`在本机端访问，然后调用该方法（GetMethodID/CallFloatMethod）

选项 1 更简单（编码更少），选项 2 在“OO 方式”中更简洁 - 关注点分离。使用选项 1，您实际上可以在 JVM 不查看时修改数组。

# language-agnostic - 来自多种编程语言的保留关键字的单一集合？

> ID：14725790
> 
> 赞同：3
> 
> 时间：2013-02-06T09:39:36.740
> 
> 标签：language-agnostic, syntax-highlighting, keyword

我正在寻找每种编程语言的关键字列表的集合，最好是针对大量流行语言，最好是机器可读的格式。我只是从谷歌搜索中找不到这样的资源。有人熟悉这样的清单吗？

提示 - 许多编辑器将这样的列表作为其语法高亮配置的一部分。我查看了 Notepad++ 配置文件，但不幸的是，它完全混合了保留关键字和常用函数。例如，mysql 函数被列为 PHP 关键字。不幸的是，Emacs 使用每个模式的 Lisp 脚本。如果您正在使用带有文本语法突出显示配置文件的编辑器，该文件清楚地指定了大量语言的语言保留关键字，请告诉我。

我**不**打算构建语言分类器或从样本中自动推断关键字。这些是在 Stackoverflow 上已经讨论过的单独任务。我只是在寻找大量的语言关键字。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T11:05:19.997

[Ultraedit](http://www.ultraedit.com/)有[大量的语法文件](http://www.ultraedit.com/downloads/extras.html)，它们似乎将实际的保留字与函数区分开来。看看它是否符合要求。

# c# - 在 C# 中使用 System.Diagnostic.Process 及其 UninstallString 卸载程序

> ID：14725793
> 
> 赞同：0
> 
> 时间：2013-02-06T09:39:43.073
> 
> 标签：c#, registry, uninstallation, uninstallstring

我正在使用[此代码](http://abhi.dcmembers.com/blog/2009/03/17/uninstallation-from-c/) [（也尝试过）](https://stackoverflow.com/questions/9126104/how-to-uninstall-software-using-c-sharp-by-calling-software-uninstallstring-list)使用我的注册表中的卸载字符串卸载程序，但第一个链接的代码中有一些错误。我正在尝试修复它，但我无法弄清楚文件名中的内容以及参数中的内容。我的 UninstalString 是：

> rundll32.exe dfshim.dll，ShArpMaintain ItemMan.Client.application，Culture=neutral，PublicKeyToken=4f1069eb693dc232，processorArchitecture=msil

注册表中的目录是

> CurrentUser\SOFTWARE\Microsoft\Windows\CurrentVersion\Uninstall\9e648bbdf5bc3053

我遇到问题的部分：

```
 System.Diagnostics.Process FProcess = new System.Diagnostics.Process();
            FProcess.StartInfo.FileName = "rundll32.exe"; (Dont know if this is right though, but have tried various ways to write the FileName...)
            FProcess.StartInfo.Arguments = "9e648bbdf5bc3053";
            FProcess.StartInfo.UseShellExecute = false;
            FProcess.Start();
            FProcess.WaitForExit(); 
```

有了这个位，什么都不会发生。我尝试的所有其他方法都会引发错误。您将如何剪切/使用您的 uninstalString 卸载该程序

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T09:59:51.360

卸载字符串就是全部，第一个可执行文件之后的所有内容都是参数，因此您需要执行以下操作：

```
var start_info = new StartInfo() {
    FileName = "rundll32.exe",
    Arguments = "dfshim.dll,ShArpMaintain ItemMan.Client.application, Culture=neutral, PublicKeyToken=4f1069eb693dc232, processorArchitecture=msil",
    UseShellExecute = false
};

Process process = new Process(start_info);

process.Start();
process.WaitForExit(); 
```

# javascript - 基于标签切换的页面刷新

> ID：14725794
> 
> 赞同：0
> 
> 时间：2013-02-06T09:39:45.987
> 
> 标签：javascript, jquery, asp.net, html, session

在我的资源管理器中，我打开了一些标签/页面。我可以更改这些选项卡/页面上的一些全局信息，例如会话变量。
如果我在页面/选项卡上，我更改此会话 var 并切换回另一个选项卡，如何根据修改后的会话 var 刷新我的实际页面以显示正确的文本？

有一些事件吗？

非常感谢 ！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T09:41:26.530

使用 jQuery，您可能需要捕获窗口焦点事件

```
$(document).ready(function() {
    $(window).focus(function() {
      //Your logic here . . . (Refresh the content)
    });
}); 
```

# bpel - 通过 BPEL 运行时引擎的事件拦截事件和控制行为

> ID：14725795
> 
> 赞同：0
> 
> 时间：2013-02-06T09:39:50.763
> 
> 标签：bpel

我想 1\. 拦截事件和 2\. 通过 BPEL 运行时引擎的事件控制行为。我可以知道哪个 BPEL 运行时引擎支持这个吗？

1\. 例如，当调用服务名称“hello”时，我想从服务器接收事件“invoke_hello”。

对于 2\. 例如，当服务器并行调用 3 个服务“invoke_hello1”、“invoke_hello2”和“invoke_hello3”时，我可以通过说我只允许运行“invoke_hello1”来控制行为。

我很感兴趣是否有任何支持 1 或 2 或两者的 BPEL 引擎，其文档页面大致讨论了这一点（所以我可以利用这个特性）。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T11:17:21.427

*免责声明：我没有亲自使用过这些引擎的事件模块，所以我不能保证它们会按承诺工作。*

## 关于问题 1（事件通知）：

**Apache ODE**支持[Execution Events](https://ode.apache.org/ode-execution-events.html)。这些事件进入其数据库，您有多种检索事件的方法。你可以：

1.  查询数据库以读取它们。
2.  使用引擎[管理 API](https://ode.apache.org/management-api.html)通过 Web 服务执行此操作
3.  将您自己的事件侦听器实现添加到引擎的类路径中。

ODE 的事件涉及 BPEL 中活动的生命周期。所以你的“invoke_hello”应该映射到`ActivityXXX`ODE中的一个事件。

OpenESB 中包含的**Sun BPEL 服务引擎**[对警报有一些支持](http://wiki.open-esb.java.net/Wiki.jsp?page=BPELProcessLoggingAndAlerting)，但是关于如何使用它的文档并没有那么详细。显然，您可以使用警报级别注释活动，并在执行活动时生成事件。

## 关于问题 2（控制行为）：

这很难，我不确定是否有任何引擎在正常执行模式下真正支持这一点。实现此目的的一种直接方法是在调试模式下执行引擎并手动控制每个步骤。因此，您可以跳过“invoke_hello2”和“invoke_hello3”的继续，而继续“invoke_hello1”。

据我所知，ODE 没有调试器。另一方面，Sun BPEL 服务引擎[有一个相当不错的](http://wiki.open-esb.java.net/Wiki.jsp?page=TestingAndDebuggingBPELProcesses). 它集成在 Netbeans 中的 BPEL 编辑器中，这是一个可视化编辑器（使用 BPMN 结构来可视化 BPEL 活动），让您可以在每个活动之间跳转。

另一种选择是手动编写您自己的 Web 服务来拦截消息并根据您的选择将这些消息转发到引擎。但是，据我了解您的问题，您更喜欢开箱即用的引擎。

显然，Oracle BPEL[也支持事件](http://blog.vennster.nl/2012/11/eventing-hello-world.html)，并且[根据本教程](http://www.oracle.com/technetwork/articles/matjaz-bpel1-090575.html)还附带了一个调试器，但到目前为止我还没有亲自使用过这个引擎，所以我不会将它包含在这个答案中。

# java - 使用 IntelliJ IDEA IDE 进行 Selenium 自动化操作 IE9 时出错

> ID：14725797
> 
> 赞同：0
> 
> 时间：2013-02-06T09:39:53.697
> 
> 标签：java, selenium-webdriver

我的代码是：

```
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.ie.InternetExplorerDriver;

public class Example
{
    public static void main(String[] a)
    {
        WebDriver driver = new InternetExplorerDriver() ;
        System.setProperty("sun.net.spi.nameservice.provider.1", "dns,sun");
        driver.navigate();
        driver.get("http://www.google.com/");
        System.out.println("Page title is: " + driver.getTitle());
    }
} 
```

得到一个错误：

```
WARNING: This method of starting the IE driver is deprecated and will be removed in selenium 2.26\. Please download the IEDriverServer.exe from http://code.google.com/p/selenium/downloads/list and ensure that it is in your PATH.
Exception in thread "main" org.openqa.selenium.WebDriverException: Unexpected error launching Internet Explorer. Protected Mode settings are not the same for all zones. Enable Protected Mode must be set to the same value (enabled or disabled) for all zones. (WARNING: The server did not provide any stacktrace information)
Command duration or timeout: 289 milliseconds
Build info: version: '2.25.0', revision: '17482', time: '2012-07-18 21:09:54'
System info: os.name: 'Windows 7', os.arch: 'x86', os.version: '6.1', java.version: '1.7.0_13'
Driver info: driver.version: InternetExplorerDriver
Session ID: 0521cc95-3fbb-43c8-9073-7602d937450b
    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)
    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
    at java.lang.reflect.Constructor.newInstance(Constructor.java:525)
    at org.openqa.selenium.remote.ErrorHandler.createThrowable(ErrorHandler.java:188)
    at org.openqa.selenium.remote.ErrorHandler.throwIfResponseFailed(ErrorHandler.java:145)
    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:498)
    at org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:182)
    at org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:167)
    at org.openqa.selenium.ie.InternetExplorerDriver.startSession(InternetExplorerDriver.java:133)
    at org.openqa.selenium.ie.InternetExplorerDriver.setup(InternetExplorerDriver.java:106)
    at org.openqa.selenium.ie.InternetExplorerDriver.<init>(InternetExplorerDriver.java:52)
    at Example.main(Example.java:22)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:601)
    at com.intellij.rt.execution.application.AppMain.main(AppMain.java:120)

Process finished with exit code 1 
```

我不知道怎么了。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T09:46:23.273

警告说你应该怎么做：

警告：这种启动 IE 驱动程序的方法已被弃用，并将在 selenium 2.26 中删除。[请从http://code.google.com/p/selenium/downloads/list](http://code.google.com/p/selenium/downloads/list)下载 IEDriverServer.exe并确保它在您的 PATH 中。

[所以，首先，从http://code.google.com/p/selenium/downloads/list](http://code.google.com/p/selenium/downloads/list)下载 IEDriverServer.exe

启动IE驱动的正确方法是：

```
System.setProperty("webdriver.ie.driver", "path/to/ IEDriverServer.exe");
WebDriver driver = new InternetExplorerDriver() ; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-06T09:46:54.350

您使用的是旧版本的 Selenium 和 IEDriver。

从这里下载最新版本的 Selenium*和*IEDriverServer：

[https://code.google.com/p/selenium/downloads/list](https://code.google.com/p/selenium/downloads/list)

# izpack - Izpack 安装程序支持 64 位机器

> ID：14725800
> 
> 赞同：1
> 
> 时间：2013-02-06T09:40:02.010
> 
> 标签：izpack

我正在使用 Izpack 以安装程序的形式打包我的 java 应用程序。现在我想为我的应用程序安装程序包含 64 位支持。我的想法是为我的安装程序打包 32 位和 64 位 java 和 mysql 客户端，在安装时，我们的应用程序安装程序应根据服务器的体系结构安装 64 位或 32 位 mysql/java。

谁能帮我做这件事？我正在考虑制作一个具有 32 位和 64 位值的下拉框，并根据此值解压缩必要的文件。但这似乎很粗糙。有没有人有更好的主意？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-12-10T12:18:53.040

您可以使用 $SYSTEM_ 变量来访问 JAVA 变量并从中获取架构。

$SYSTEM_os_arch 将为您提供 jre 的体系结构，而不是机器的体系结构。如果这对你有用，我会从 os 架构中创建一个条件，并根据条件安装正确的支持应用程序。

# database - 清理来自网络用户的 R 查询

> ID：14725814
> 
> 赞同：3
> 
> 时间：2013-02-06T09:40:45.873
> 
> 标签：database, r, web-applications, sanitization

我们正在构建一个 Web 表单，它允许（受信任的）用户输入他们自己的 R 查询。他们将对数据库进行统计分析。

问题：

1.  就其基本形式而言，这有多危险？我是 R 新手，所以 - 他们能做的最糟糕的事情是什么？（假设数据库连接是非特权的）。
2.  有没有一种简单的方法来清理输入，以消除最大的风险？
3.  是否有可能将输入净化到我们可以向公众开放的程度？例如，我们不能冒 DOS 攻击的风险。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T21:26:51.720

结合上面的评论，以及来自 Josh O'Brien 指出的邮件列表线程的消息。

1.  非常。`system()`未受保护的 R 查询可以通过该函数执行其进程可以执行的任何操作。
2.  从列表中，对 'system' 和 'eval' 的 grepping 查询很有帮助（但有经验的 R 程序员可以轻松绕过）。[sandboxR](https://github.com/Rapporter/sandboxR)更进一步，增加了额外的安全性。但名单上的专家声称能够轻松绕过这一点。
3.  到目前为止，它看起来像没有。也许它可以通过白名单来完成（即，提供一个可以的功能列表，并阻止其他一切）。

# javascript - 有什么方法可以在 osx 浏览器的 javascript 中检测 ctrl + click 吗？没有 jQuery

> ID：14725824
> 
> 赞同：1
> 
> 时间：2013-02-06T09:41:17.980
> 
> 标签：javascript, events, click, mouse

使用香草js。有什么方法可以从 OSX 中获取“右键单击”（选项单击）？

```
function clickey(e)
{
  if(event.button==2 || /*how you'd do it in Java=)*/ e.getButton() == MouseButton.BUTTON3 )    
...    
} 
```

但是在js中，eeet怎么做？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-06T15:40:47.810

您需要收听该`contextmenu`事件。这在应显示上下文菜单时触发。因此，如果 鼠标*右键*或`ctrl`+ *mouse*。

如果不支持，那么您可以尝试检查`mousedown`事件在哪里`button`以及`2` 是否`ctrlKey`是`true`通过使用`ctrl`+*鼠标触发的*

```
document.addEventListener("contextmenu",function(event){

}); 
```

**或**（取决于浏览器支持的内容）

```
document.addEventListener("mousedown",function(event){
    if( event.ctrlKey || event.button == 2 ) {
    }
}); 
```

**编辑：**删除`which`信息

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-06T15:37:29.033

我对 OSX 没有经验，但[鼠标事件](https://developer.mozilla.org/en-US/docs/DOM/MouseEvent)可以选择检查修饰键。所以沿着这些路线的东西应该起作用：

```
DOMElement.addEventListener("click",function(event){
   // either check directly the button
   if (event.button == 2){}
   // or
   if (event.ctrlKey || event.altKey || event.metaKey){
       // do stuff
   }  
}); 
```

# loadrunner - Loadrunner - 选择接下来要执行的操作

> ID：14725830
> 
> 赞同：1
> 
> 时间：2013-02-06T09:41:38.993
> 
> 标签：loadrunner

我目前正在 VuGen 下编写脚本，我想知道是否有任何方法可以选择接下来要执行的操作。

例如，我的脚本中有 3 个动作，

*   在第一个动作中，我正在测试一个变量的值，如果这个值为 0，我想执行动作 2，然后执行动作 3
*   但如果值为 1，那么我只想执行动作 3。

有没有办法使这成为可能？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T14:02:55.170

1.  取消计划运行时设置中的操作
2.  这些是标准的 C 函数，所以....

    if ( myvariable == 0 ) { action2(); }

    if ( myvariable == 0 || myvariable == 1 ) { action3(); }

您可能想研究“C”语言进修课程。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-07T10:37:50.673

```
if(atoi(lr_eval_string("<{lock_count}>")) > 0)
{       

return 0;

}
else if(atoi(lr_eval_string("<{reflock_count}>")) > 0){
    return 0;
} 
```

我用这段代码来解决我的问题。在我只想在 var > 0 时执行的每个操作之前。所以，如果我的 lock_count 或我的 reflock_count > 0，那么我将忽略该操作并直接进入下一个操作

谢谢你的时间，你的回答让我有了这个想法:)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-28T21:13:33.897

这里有一点需要考虑，每次您在 LoadRunner 中创建一个新的“动作”时，都会在您保存脚本的脚本文件夹中创建一个全新的 .C 文件。如果您的代码足够小，这对您来说可能没什么大不了的，但对我来说，在性能测试脚本中添加膨胀有点自欺欺人。

我要做的是创建自己的自定义函数而不是新动作。我将自定义代码放在 vuser_init 部分的底部，并根据需要从 Action 中调用它们。当您在 Controller 中运行脚本时，您创建的所有自定义代码都会在初始化阶段加载到内存中，因为它会加载文件 vuser_init.c。

一旦你设置了所有函数，一些简单的 SWITCH 语句就可以运行你想要的代码，而无需向脚本目录添加更多文件。

# c# - 一个实体对象不能被多个 IEntityChangeTracker 实例引用

> ID：14725831
> 
> 赞同：3
> 
> 时间：2013-02-06T09:41:41.230
> 
> 标签：c#, asp.net, entity-framework, caching

我使用 EF 作为 ORM。

我处理`objectContext`每个请求。

我将实体保存在缓存层中，因为我的服务获得了大量流量。

我有时会`objectContext already disposed`收到从缓存中获取的某些实体的错误。

我已将此代码添加到从缓存中检索的元素中

```
if (maMDBEntities.Entry(group).State == EntityState.Detached)
{
    maMDBEntities.Groups.Attach(group);
} 
```

但现在我有时会收到此错误：

> 一个实体对象不能被多个 IEntityChangeTracker 实例引用。

从一开始就使用`Attach()`了不正确的解决方案？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-06T09:54:55.937

正如我们在您的另一个问题中告诉您的（[EF::attach(entity) 将解决 objectContext 已被废弃吗？](https://stackoverflow.com/questions/14724397/will-efattachentity-will-solve-objectcontext-is-already-desposed)），您必须先分离实体，然后再将其附加到另一个上下文！

如果`maMDBEntities`是一个新的上下文（不是加载数据的那个），那么从这个上下文的角度来看，EntityState 不是“附加的”。所以你的支票是不够的。

对于未加载实体的上下文，这`maMDBEntities.Entry(group).State == EntityState.Detached`将**始终是正确的。**

# ios - 与 UIActivityViewController 共享 ALAsset fullResolutionImage

> ID：14725833
> 
> 赞同：0
> 
> 时间：2013-02-06T09:41:43.400
> 
> 标签：ios, share, assets

似乎不可能在电子邮件中嵌入完整的分辨率资产。如果我使用 fullScreenImage 表示，它会很好地工作。我想图像大小应该有一些限制，但我找不到任何有关它的信息。我在 iPhone 4S 上，全分辨率图像为 2448 x 3264 像素。

代码：

```
ALAssetRepresentation *assetRepresentation = [_asset defaultRepresentation];
CGImageRef imageRef = [assetRepresentation fullResolutionImage];
UIImage *img = [UIImage imageWithCGImage:imageRef scale:[assetRepresentation scale] orientation:[assetRepresentation orientation]];

UIActivityViewController *activityController = [[UIActivityViewController alloc] initWithActivityItems:@[img] applicationActivities:nil];
[self presentViewController:activityController animated:YES completion:nil]; 
```

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-20T06:09:48.630

解决方案如下......而不是将 fullResolutionImage 添加到要共享的数据数组中，而是添加实际资产本身。

```
UIActivityViewController *activityController = [[UIActivityViewController alloc]    initWithActivityItems:@[_asset] applicationActivities:nil];
[self presentViewController:activityController animated:YES completion:nil]; 
```

其中 _asset 是图像的 ALAsset 实例。

# javascript - 带有 jsPlumb 的流程图

> ID：14725834
> 
> 赞同：0
> 
> 时间：2013-02-06T09:41:45.093
> 
> 标签：javascript, jquery, flowchart, jsplumb

我正在尝试使用 jsPlumb 创建流程图。我有两个元素，我想用一条线连接它们。我想要一条线，但不是我现在拥有的一个大点。我已经尝试在任何地方设置点的半径，但它似乎不受影响并且保持在默认的 20 像素。我究竟做错了什么？

```
<div id="start">Start</div>
<div id="msgtype">Lorem ipsum dolor sit amet</div>

jsPlumb.importDefaults({
    Endpoints : [ [ 'Dot', {radius:1} ], [ 'Dot', { radius:1 } ]]
});
var connectorPaintStyle = {
    lineWidth:4,
    fillStyle:'#333333',
    joinstyle:'round',
    outlineWidth:0,
    radius: 1,
}
var eleStart = jsPlumb.addEndpoint('start', {
    isSource:true,
    isTarget:false
});

var eleMsgtypeTop = jsPlumb.addEndpoint('msgtype', {
    isTarget:true,
    parameters:{
        endpoint:'dot',
        radius: 1
    },
    anchor: 'TopCenter',
    radius: 1,
    connectorStyle:connectorPaintStyle
});
jsPlumb.connect({ source:eleStart, 
        target:eleMsgtypeTop,
        connectorStyle:connectorPaintStyle,
        endpoint:[ 'Dot', { radius:1, hoverClass:'myEndpointHover' }],
        connectorStyle:connectorPaintStyle
}); 
```

制作这个：

![[]](../Images/b8d592dd0442d6169a315ac672f6342c.png)

[JSFiddle 演示](http://jsfiddle.net/Echilon/GT884/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T11:34:29.563

完整的最终解决方案是：

```
;(function () {
window.plumbify = {
    init: function () {
        jsPlumb.importDefaults({
            DragOptions: {
                cursor: 'pointer',
                zIndex: 2000
            },
            HoverClass: 'connector-hover'
        });

        var connectorStrokeColor = 'rgba(50, 50, 200, 1)',
            connectorHighlightStrokeColor = 'rgba(180, 180, 200, 1)',
            paintStyle = {
                lineWidth: 3,
                strokeStyle: '#a7b04b',
                outlineWidth: 1,
                outlineColor: '#666'
            },
            hoverPaintStyle = {
                strokeStyle: '#7ec3d9'
            };
        var connection1 = jsPlumb.connect({
            source: 'start',
            target: 'msgtype',
            connector: 'Bezier',
            cssClass: 'c1',
            endpoint: 'Blank',
            anchors: [[0.25, 1, 0, 0.5], [0.75, 0, 0, -0.5]],
            paintStyle: paintStyle,
            endpointStyle: {
                fillStyle: '#a7b04b'
            },
            overlays:[ 
                [ 'Arrow', { width:20, length:30, location:0.5, paintStyle: paintStyle } ], 
            ],
            hoverPaintStyle: hoverPaintStyle
        });

        // make all .window divs draggable
        jsPlumb.draggable(jsPlumb.getSelector('.window'));

    }
};
})();

jsPlumb.bind('ready', function () {
    jsPlumb.init();
    // chrome fix.
    document.onselectstart = function () {
        return false;
    };
    // render mode
    var resetRenderMode = function (desiredMode) {
        var newMode = jsPlumb.setRenderMode(desiredMode);
       plumbify.init();
    };
    resetRenderMode(jsPlumb.SVG);
}); 
```

导致：

![最终解决方案](../Images/af24e836c21b4c856b7a6851d429b17b.png)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-06T09:56:57.230

试试这个：http: [//jsfiddle.net/GT884/1/](http://jsfiddle.net/GT884/1/)

```
 ;(function () {

window.jsPlumbDemo = {

    init: function () {

        jsPlumb.importDefaults({
            DragOptions: {
                cursor: "pointer",
                zIndex: 2000
            },
            HoverClass: "connector-hover"
        });

        var connectorStrokeColor = "rgba(50, 50, 200, 1)",
            connectorHighlightStrokeColor = "rgba(180, 180, 200, 1)",
            hoverPaintStyle = {
                strokeStyle: "#7ec3d9"
            };
        var connection1 = jsPlumb.connect({
            source: "start",
            target: "msgtype",
            connector: "Bezier",
            cssClass: "c1",
            endpoint: "Blank",
            endpointClass: "c1Endpoint",
            anchors: ["BottomCenter", [0.75, 0, 0, -1]],
            paintStyle: {
                lineWidth: 6,
                strokeStyle: "#a7b04b",
                outlineWidth: 1,
                outlineColor: "#666"
            },
            endpointStyle: {
                fillStyle: "#a7b04b"
            },
            hoverPaintStyle: hoverPaintStyle
        });

        // make all .window divs draggable
        jsPlumb.draggable(jsPlumb.getSelector(".window"));

    }
};
})();

jsPlumb.bind("ready", function () {

jsPlumb.init();

// chrome fix.
document.onselectstart = function () {
    return false;
};

// render mode
var resetRenderMode = function (desiredMode) {
    var newMode = jsPlumb.setRenderMode(desiredMode);
    $(".rmode").removeClass("selected");
    $(".rmode[mode='" + newMode + "']").addClass("selected");

    $(".rmode[mode='canvas']").attr("disabled", !jsPlumb.isCanvasAvailable());
    $(".rmode[mode='svg']").attr("disabled", !jsPlumb.isSVGAvailable());
    $(".rmode[mode='vml']").attr("disabled", !jsPlumb.isVMLAvailable());

    //var disableList = (newMode === jsPlumb.VML) ? ",.rmode[mode='svg']" : ".rmode[mode='vml']"; 
    //  $(disableList).attr("disabled", true);              
    jsPlumbDemo.init();
};

$(".rmode").bind("click", function () {
    var desiredMode = $(this).attr("mode");
    if (jsPlumbDemo.reset) jsPlumbDemo.reset();
    jsPlumb.reset();
    resetRenderMode(desiredMode);
});

// explanation div is draggable
$("#explanation,.renderMode").draggable();

resetRenderMode(jsPlumb.SVG);

}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-07-13T19:18:25.407

```
 jsPlumb.addEndpoint(element.id,{
        ...
        paintStyle:{radius:1};
    }); 
```

# maven - maven 插件：“无法读取工件描述符”

> ID：14725836
> 
> 赞同：0
> 
> 时间：2013-02-06T09:41:48.997
> 
> 标签：maven, maven-3, maven-plugin

对于我的构建过程，我需要两个自定义 maven 插件（[请参见此处](https://github.com/rweng/velocity-maven-plugin2)）。使用`mvn install`.

但是，我需要让团队中的其他开发人员可以访问它并进行集成测试。

我注意到您可以在 github 上设置一个轻量级的 maven 存储库，这就是我现在所做的：[https ://github.com/rweng/mvn-repo](https://github.com/rweng/mvn-repo)

这适用于像 ch.yax.yocto.yocto-server 这样的普通依赖项，但是，它对我的​​插件失败并显示消息

```
[WARNING] The POM for com.arcanio.maven.plugin:velocity:jar:0.1-SNAPSHOT is missing, no dependency information available**
[ERROR] Plugin com.arcanio.maven.plugin:velocity:0.1-SNAPSHOT or one of its dependencies could not be resolved: Failed to read artifact descriptor for com.arcanio.maven.plugin:velocity:jar:0.1-SNAPSHOT: Could not find artifact com.arcanio.maven.plugin:velocity:pom:0.1-SNAPSHOT -> [Help 1] 
```

我尝试通过 替换我的存储库部分中的 github url `file:///`，尽管我怀疑问题出在此处。我也怀疑这是代理问题，因为许多用户报告了相同的错误。

mvn install 是否有可能部署 s.th。不同于我的部署命令

```
mvn -DaltDeploymentRepository=snapshot-repo::default::file:/Users/robin/Code/mvn-repo/ clean deploy 
```

提前感谢任何提示如何解决这个问题。

**编辑**

我刚刚将插件从本地存储库移动到 github 存储库，并注意到以下更改。

```
 D com/arcanio/maven/plugin/maven-metadata.xml
 D com/arcanio/maven/plugin/maven-metadata.xml.md5
 D com/arcanio/maven/plugin/maven-metadata.xml.sha1
 D com/arcanio/maven/plugin/velocity/0.1-SNAPSHOT/maven-metadata.xml
 D com/arcanio/maven/plugin/velocity/0.1-SNAPSHOT/maven-metadata.xml.md5
 D com/arcanio/maven/plugin/velocity/0.1-SNAPSHOT/maven-metadata.xml.sha1
 D com/arcanio/maven/plugin/velocity/0.1-SNAPSHOT/velocity-0.1-20130206.084855-1.jar
 D com/arcanio/maven/plugin/velocity/0.1-SNAPSHOT/velocity-0.1-20130206.084855-1.jar.md5
 D com/arcanio/maven/plugin/velocity/0.1-SNAPSHOT/velocity-0.1-20130206.084855-1.jar.sha1
 D com/arcanio/maven/plugin/velocity/0.1-SNAPSHOT/velocity-0.1-20130206.084855-1.pom
 D com/arcanio/maven/plugin/velocity/0.1-SNAPSHOT/velocity-0.1-20130206.084855-1.pom.md5
 D com/arcanio/maven/plugin/velocity/0.1-SNAPSHOT/velocity-0.1-20130206.084855-1.pom.sha1
 D com/arcanio/maven/plugin/velocity/maven-metadata.xml
 D com/arcanio/maven/plugin/velocity/maven-metadata.xml.md5
 D com/arcanio/maven/plugin/velocity/maven-metadata.xml.sha1
?? com/arcanio/maven/plugin/maven-metadata-local.xml
?? com/arcanio/maven/plugin/velocity/0.1-SNAPSHOT/_maven.repositories
?? com/arcanio/maven/plugin/velocity/0.1-SNAPSHOT/maven-metadata-local.xml
?? com/arcanio/maven/plugin/velocity/0.1-SNAPSHOT/velocity-0.1-SNAPSHOT.jar
?? com/arcanio/maven/plugin/velocity/0.1-SNAPSHOT/velocity-0.1-SNAPSHOT.pom
?? com/arcanio/maven/plugin/velocity/maven-metadata-local.xml 
```

所以`mvn install`确实会产生不同的东西。有谁知道为什么？我认为与本地存储库`mvn install`基本相同。`mvn deploy`

**编辑**

使用`mvn -DuniqueVersion=false`修复了独特的版本。见[这里](https://stackoverflow.com/questions/6920536/why-the-snapshot-name-always-has-date-in-its-jar-file-name-how-to-remove-it)。

**编辑**

`uniqueVersion=false` [不再适用于 maven 3](https://cwiki.apache.org/MAVEN/maven-3x-compatibility-notes.html#Maven3.xCompatibilityNotes-NonuniqueSnapshotDeployments)。所以问题保持不变，在存储库中找不到时间戳版本。我想我可能会错过一个 artifactid-snapshot pom。

**解决方案**

解决方案在[这里](https://stackoverflow.com/questions/13307742/how-to-run-a-snapshot-plugin)找到：

必须将存储库添加为 pluginRepository：

```
<pluginRepositories>
    <pluginRepository>
        <id>rweng-plugins</id>
        <url>https://github.com/rweng/mvn-repo/raw/master</url>
        <snapshots>
            <enabled>true</enabled>
            <updatePolicy>always</updatePolicy>
        </snapshots>
    </pluginRepository>
</pluginRepositories> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T11:17:47.020

此类事情的最佳解决方案是在您的公司中安装[存储库管理器。](http://maven.apache.org/repository-management.html)

# shell - :t 在 shell 脚本中

> ID：14725837
> 
> 赞同：1
> 
> 时间：2013-02-06T09:41:52.680
> 
> 标签：shell, tcl, csh

我试图理解以下代码中的 :t 但无法弄清楚，这些代码需要在 tcl 中转换。当我们打印它时，它会在斜杠上拆分单词 the 并返回最后一个元素。例如：用户 3、用户等

假设 d = /home/etc/user/user3

```
while 1 {
  set _f $_d:t  
   } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T10:12:43.570

您可能正在寻找`file tail`：

```
set _f [file tail $_d] 
```

用 开始 Tcl 变量名通常不是一种好的风格`_`，但如果你愿意，这样做是很合法的。

# database - Symfony2 + Doctrine 对象/数据库映射

> ID：14725840
> 
> 赞同：0
> 
> 时间：2013-02-06T09:42:15.263
> 
> 标签：database, symfony, doctrine, mapping, entity-relationship

我正在创建一个 CMS，可以添加/更新/删除/重新定位我们网站的所有页面等。我正在创建页面和 page_versions 之间的 oneToMany 关系，因此每次在 CMS 中修改页面时，副本将保存为page_version 以便我们可以在需要时恢复到此版本。此外，当某人当前正在编辑页面时，该页面将被锁定，因此其他用户无法同时对其进行编辑。每个页面也可以有一个父页面，每个页面可以有多个重写规则，使用与 rewrite_rules 表的另一个 oneToMany 关系。但是，有一些字段我不确定它们应该在哪个表中，以及在使用 Symfony2 和 Doctrine 实体关系进行映射时如何将它们用作对象。这是我目前的表：

```
page table

id
parent_id
locked

page_version table
page_id
title
content
enabled
position

rewrite_rules table
id
page_id
rewrite
canonical 
```

我的问题是：

1.  位置字段应该在页表还是 page_version 表中？每个页面的位置不会根据页面的版本而改变。这只会在所有页面的列表视图中更改。例如，如果您有“关于我们”页面的 5 个子页面，则可以订购这些页面以在前端呈现输出。
2.  rewrite_rules 表应该加入 page 表还是 page_version 表？同样，这将链接到页面而不是版本。如果有人编辑页面的某个版本并添加了重写规则，这将应用于该页面，而不仅仅是该页面的版本。即，如果您要恢复到旧版本，重写规则仍将适用于该版本。
3.  要使页面版本成为活动页面，这应该是页表中的简单字段还是 page_version 表中的简单字段？

    谢谢

    **更新**

这是我的 Page 和 PageVersion 类：

> ```
> class Page
> {
>     /**
>     * @ORM\OneToMany(targetEntity="PageVersion", mappedBy="page")
>     */
>    private $pageversions;
> } 
> ```

```
class PageVersion
{
    /**
     * @var page
     *
     * @ORM\ManyToOne(targetEntity="Page", inversedBy="pageversions")
     *
     */
    private $page;

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T19:57:02.250

考虑到版本关联从长远来看真的很烦人。此外，您可能应该删除`OneToMany`关系并仅保留`ManyToOne`它们的一侧。

这使得使用像[EntityAudit](https://github.com/simplethings/EntityAudit)这样的工具更容易对数据进行版本控制，不幸的是，这在我的情况下不起作用（不支持继承）。

所以我的建议是：

1.  如果它与版本属性无关，则不要这样做。版本控制是一个复杂的问题，也是一个昂贵的问题。雅尼。
2.  如果你想跟踪一个页面过去是否有重写规则，你需要对关联进行版本化，但是由于重写规则对每个版本没有影响，YAGNI。在我看来，您可能只是将页面与重写连接（也在这里：如果可能，保持关联单向）。
3.  您可能需要引用“页面”对象中的“活动”页面。这大大加快了查询速度，并且使您更容易使用 OOP API。

# php - Wordpress add_submenu_page 功能不起作用

> ID：14725842
> 
> 赞同：0
> 
> 时间：2013-02-06T09:42:19.033
> 
> 标签：php, wordpress, menu

我需要为 wordpress 管理员创建一个新菜单和一个子菜单项。菜单工作正常，但子菜单项（主菜单项的重复子菜单正在自动创建..我不想要那个）。两个子菜单项的 href 属性均为空白。我不明白菜单 slug 是什么。请帮忙..

```
 // create custom plugin settings menu  
       add_action('admin_menu', 'retail_create_menu');

       function retail_create_menu() { //create new top-level menu
          add_menu_page('Retailers', 'Retailers', 'administrator', __FILE__, 'generate_retailer_list', 'http://localhost/apsm/wp-content/themes/wp-mediamag/functions/retail.ico'); 
          add_submenu_page( __FILE__, 'Add Retailers', 'Add Retailers', 'administrator', 'add_ratilers.php', 'retailer_submenu_callback');
       } 
```

该文件位于我主题的文件夹中...

* * *

![这是菜单的样子](../Images/b6fec474b308d24f6e5ec4b7e96f24dd.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-15T09:31:43.943

隐藏该重复菜单的一个简单技巧：

```
add_submenu_page(
    '__FILE__',        // parent slug, same as main menu slug
    '',        // empty page title
    '',        // empty menu title
    'administrator',        // same capability as parent
    '__FILE__',        // same menu slug as parent slug
    'generate_retailer_list',        // same function as parent
) 
```

# c# - XAML 样式的变量

> ID：14725843
> 
> 赞同：4
> 
> 时间：2013-02-06T09:42:19.733
> 
> 标签：c#, wpf, xaml

我有以下内容`Style`：

```
<Style x:Key="ButtonBase" TargetType="Button">
        <Setter Property="Background" Value="#FF007BFF"/>
        <Setter Property="Foreground" Value="White"/>
        <Setter Property="Template">
            <Setter.Value>
                 <ControlTemplate TargetType="Button">
                      <ControlTemplate.Triggers>
                           <Trigger Property="IsPressed" Value=">
                                <Setter Property="Background" Value="Yellow" />
                                <Setter Property="Foreground" Value="Black" />
                           </Trigger>
                           <Trigger Property="IsPressed" Value="False">
                                <Setter Property="Background" Value="#FF007BFF" />
                                <Setter Property="Foreground" Value="White" />
                           </Trigger>
                      </ControlTemplate.Triggers>
                 </ControlTemplate>
             <Setter.Value>
        </Setter>
</Style> 
```

和一个继承的`Style`：

```
<Style x:Key="ElementButton" TargetType="Button" BasedOn="{StaticResource ButtonBase}">
        <Setter Property="Margin" Value="10"/>
        <Setter Property="Height" Value="200"/>
</Style> 
```

我想做的是能够在基本样式中设置任意变量：

```
<Setter Variable="HoverColor" Value="Pink"/> 
```

然后我就可以像这样使用我的触发器了：

```
<Trigger Property="IsPressed" Value=">
    <Setter Property="Background" Value="{TemplateBinding HoverColor}" />
    <Setter Property="Foreground" Value="Black" />
</Trigger> 
```

最后，我可以用我继承的样式覆盖它：

```
<Style x:Key="ElementButton" TargetType="Button" BasedOn="{StaticResource ButtonBase}">
    <Setter Property="Margin" Value="10"/>
    <Setter Property="Height" Value="200"/>
    <Setter Variable="HoverColor" Value="Red"/>
</Style> 
```

有没有办法做到这一点？我已经查看了静态资源，但这些资源不能被覆盖。另外，我不能使用任何需要代码隐藏的东西，因为我没有！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T14:51:56.647

这是一个很好的问题，我也经历过这种事情。可能有某种仅适用于 XAML 的方法可以工作，但我有一种感觉，如果有的话，它会感觉很笨拙。关于如何实现你想要的，我有一些建议。

首先，快速观察。您说您“没有代码隐藏”并且您的视图是“仅 XAML”。好吧，我从来没有见过至少没有*任何*代码隐藏*文件*的 UserControl 视图，所以我假设您的意思是您只是不想在其中放置任何代码（除了强制性的`InitializeComponent()`）。话虽如此，我将概述的方法不需要代码隐藏文件中的代码。

归根结底，听起来您真正想要的是定义一些自定义“变量”。这些建议就是这样做的，尽管可能不是您最初设想的那样。

解决您的问题的**第一种方法**是将您对样式感兴趣**的控件子类化并向其添加任何自定义依赖项属性。**例如，您可以将 子类`Button`化为类似`ButtonWithMyVariables`. 这些自定义依赖项属性之一将称为“HoverColor”，类型为`Color`，或者更恰当地说，称为“HoverBrush”类型`Brush`（如果您只想将其直接应用于背景或前景属性）。然后，您的基本 Style 可以将 HoverColor 设置为它想要的任何内容，并且您继承的 Style 可以覆盖它，或者您可以直接在 XAML 中的元素上覆盖它。我没有提供这种方法的代码示例（现在，除非要求），因为这是一种更常用的方法，我猜你已经熟悉了。

第二种**方法**是定义一个**自定义附加属性**。我还没有看到这种方法被广泛用于严格处理样式问题，可能是因为在这种情况下，为了让附加的“行为”充分发挥其作用，作者使用样式文件来做出反应（绑定）并应用基于视觉的更改在附加属性上，而不是附加属性中的代码更改回调在风格上做一些事情（但我想它仍然可以这样做）。但是，这种方法对许多人来说感觉“重量更轻”，因为您不需要对任何现有控件进行子类化。

第二种方法的示例可以在 MahApps.Metro 库中找到，特别是[**TextboxHelper 类**](https://github.com/MahApps/MahApps.Metro/blob/master/MahApps.Metro/Controls/TextboxHelper.cs)（包含附加属性）和[**Controls.TextBox.xaml 样式文件**](https://github.com/MahApps/MahApps.Metro/blob/master/MahApps.Metro/Styles/Controls.TextBox.xaml)（绑定到这些附加属性）。例如，我们在 TextBox 的控件模板中看到，这一行使用了 Watermark 附加属性：

```
<TextBlock x:Name="Message" 
           Text="{TemplateBinding Controls:TextboxHelper.Watermark}" Visibility="Collapsed"
                                   Foreground="{TemplateBinding Foreground}" IsHitTestVisible="False" Opacity="0.6" HorizontalAlignment="Left" VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                   Margin="6,0,0,0"/> 
```

现在您可以想象您可以将基本样式中的 Watermark 值设置为：

```
<Setter Property="Controls:TextboxHelper.Watermark" 
        Value="My helpful watermark for all!"/> 
```

然后以继承的样式覆盖它：

```
<Setter Property="Controls:TextboxHelper.Watermark" 
        Value="A more specific watermark!"/> 
```

使用任何一种方法，我们都可以定义我们想要的任何“变量”，并在样式设置器中轻松设置它们，在继承的样式中覆盖它们，`TemplateBind`在控件模板中或`Trigger`在它们之外。

# regex - AS3 删除字符串中单词后的字符

> ID：14725845
> 
> 赞同：1
> 
> 时间：2013-02-06T09:42:31.297
> 
> 标签：regex, actionscript-3, flash, air, flash-cs5

AS3 | 多夫空气 3.5 | 闪光 CS6

我已经从在线源中提取了 html，并将其放入一个字符串中，我将根据我提取的信息将其逐个拆分以构建一个 XML 文件。我需要搜索整个字符串以删除“info”之后的字符，直到字符“&”。整个字符串中有多个这样的实例，所以我认为最好使用 RegExp。欢迎提出其他建议。

```
//code from the website put into a full string
var fullString = new String(urlLoader.data);

//search string to find <info> and remove characters AFTER it up until the character '&'
var stringPlusFive:RegExp = /<info>1A2E589EIM&/g;

//should only remove '1A2E589EIM' leaving '<info>&'
fullString = fullString.replace(stringPlusFive,""); 
```

我无法弄清楚的问题是“1A2E589EIM”不一致。它们是随机数和字符，可能还有长度，所以我不能真正使用我上面写的内容。它总是会导致一个“&”。

提前感谢您的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T10:27:40.713

我认为正则表达式会更像

```
//search string to find <info> and remove characters AFTER it up until the character '&'
var stringPlusFive:RegExp = /<info>\w+&/g;

//should only remove '1A2E589EIM' leaving '<info>&'
fullString = fullString.replace(stringPlusFive,"<info>&"); 
```

现在，如果您要将字符串解析为 XML，您可以等到您拥有 XML 结构，然后从“信息”节点中删除信息字符串

```
//code from the website put into a full string
var fullString = new String(urlLoader.data);

//parse to XML
var xml:XML = XML(fullString),
    index:int, text:string;

for each(var info:XML in xml.descendants('info')){
  text = info.*[0].text();
  index = text.indexOf('&');
  if(index != -1){
    info.*[0] = text.substr(index);
  }
} 
```

我不确定对 *[0] 的矫揉造作，但应该是这样的。希望这可以帮助。

# android - 是否建议在 SharedPreference 中存储加密的 mIsPremium 标志

> ID：14725848
> 
> 赞同：0
> 
> 时间：2013-02-06T09:42:39.043
> 
> 标签：android, in-app-purchase, in-app-billing

从In-app Billing Version 3 API 示例中，我可以看到在启动过程中，应用程序将通过与 Google Play 服务通信[`TrivalDrive`](http://developer.android.com/training/in-app-billing/preparing-iab-app.html#GetSample)来检查用户是否购买了高级功能（标志）。`mIsPremium`

Google Play 服务会缓存这些信息，这样这样的查询就可以足够快地进行，而不需要经过网络层。但是，有时用户可能会清除 Google Play 的缓存。

因此，为了确保应用程序的响应性，是否建议在 SharedPreference 中存储一个加密的 mIsPremium 标志，这样在没有每次 IPC 与 Google Play 服务通信的情况下，我们仍然知道用户是否购买了该特定的应用内购买高级功能？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T18:43:26.323

您可以在 SharedPreferences 中缓存 mIsPremium 标志，并在您的应用程序中使用此值，直到您从 Google Play 应用程序收到实际值。

这样，您就不必等待商店的答复。

此外，您可以在每次收到来自 Store 的回调时覆盖 SharedPreferences 中的值。

# javascript - HTML绘制流程图

> ID：14725850
> 
> 赞同：3
> 
> 时间：2013-02-06T09:42:47.550
> 
> 标签：javascript, html, css, web-applications

我正在寻找在 HTML 中绘制一些流的最佳方法。这是面向用户的网站，他们选择一些选项，然后他们会看到一些由箭头连接的数字/实体，这些数字/实体是从某个数据表中提取的。它不需要太花哨但灵活（# 实体更改）。

什么是最好的工具？JS、HTML5、PHP、CSS？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-07T09:56:55.800

我还想看看[D3](http://d3js.org/)工具（数据驱动文档）——一个允许各种图形和图表的 JavaScript 库——流程和其他方式。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-07T09:54:48.743

下面是最常用的在线html绘制流程图的工具

[http://www.smashingapps.com/2011/08/26/45-free-online-tools-to-create-charts-diagrams-and-flowcharts.html](http://www.smashingapps.com/2011/08/26/45-free-online-tools-to-create-charts-diagrams-and-flowcharts.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-07T09:58:27.027

不要使用 HTML，在 HTML5上下文中使用嵌入**SVG 。**

例如 [使用 CSS 和 SVG 绘制流程图](https://web.archive.org/web/20130328172920/http://www.minimalg.it:80/blog/2012/web-development/drawing-flowcharts-with-css-and-svg/)。

# jquery - 隐藏/显示 使页面变大

> ID：14725852
> 
> 赞同：0
> 
> 时间：2013-02-06T09:42:56.317
> 
> 标签：jquery, css, html

我正在创建一份工作申请表。

当你点击显示 div 时；页面在垂直和水平方向上都变大了。

有人可以帮我理解为什么。

谢谢

*编辑：Firefox 我注意到了这个问题。*

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T10:18:21.627

在表格的最后你有一个 div：

```
<div style="position:relative;top:-204px;left:505px;">
<input type="submit" value="Submit Application" name="submit" id="submit">
</div> 
```

这是造成的。为其设置固定宽度。

# html - css，浮动替代

> ID：14725854
> 
> 赞同：11
> 
> 时间：2013-02-06T09:43:01.840
> 
> 标签：html, css

在我的网络应用程序中，我有一个工具栏，它是一个 div：

div 有 3 个跨度。3 个 span 的内容稍后会被填充。

并且各个跨度的大小每次都不同。

```
<div>
    <span id="ab1" style="display: inline-block;"></span>
    <span id="ab2" style="display: inline-block;"></span>
    <span id="ab3" style="display: inline-block;"></span>
</div> 
```

现在，我想，跨度“ab1”应该放在左边，“ab2”和“ab3”放在div的右边。

这可能没有向右/向左浮动吗？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-02-06T09:54:45.003

使用`position:absolute`和`text-align:right`

**CSS**

```
div{background:red; text-align:right; position:relative;}
#ab1{position:absolute; left:0; background:yellow;}
#ab2{background:yellow;}
#ab3{background:yellow;} 
```

**[演示](http://jsbin.com/uyemub/1/edit)**

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2018-06-10T10:23:32.627

您可以`display flex`用于容器和`margin-left: auto`#ab2。

```
div{
    display: flex;
}
#ab2{
    margin-left: auto;
} 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2017-06-18T06:07:06.063

使用和`flex`添加元素`order``span`

```
div {
    display: flex;
    flex-grow: 1;
    justify-content: space-between;   /* space-between / space-around  */
}

/* order the elements as you like ..  */
#ab1 {
    order: 0;
}

#ab2 {
    order: 1;
}

#ab3 {
    order: 2;
}

/* incase text in span is large margin may need */
span {
    margin-left: 10px;
} 
```

* * *

[演示](http://plnkr.co/edit/XvyoFBsVEIzKoMnQJq6Q?p=preview)

# javascript - 在 Flash 中嵌入 Google 地图

> ID：14725861
> 
> 赞同：0
> 
> 时间：2013-02-06T09:43:22.550
> 
> 标签：javascript, flash, google-maps

我正在做一个需要我使用谷歌地图的 Flash 项目。我读到一篇文章说“Google Maps API for Flash 已于 2011 年 9 月 2 日正式弃用”。我的问题是，是否可以在 Flash 项目中嵌入 google maps javascript 版本？我的另一个问题是，有没有人知道我可以用于闪存的任何地图工具，它们提供与谷歌地图相同的质量并且仍然受到支持？谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T16:47:47.703

我有同样的需求，也找不到一个好的现成解决方案，所以我在下面编写并注释了一个测试库，它可以作为任何类似项目的基础。

我没有依赖单个提供程序，而是在 Flash 中跨 Bing Maps V7、Google Maps V3 和 MapQuest Maps V7 JavaScript 地图实现了相同的功能。代码创建线条、动态标记和阴影等，并调用它们的高程 api。示例应用程序在一个 html 页面中为每种地图类型创建两个。

为此，您需要让 Flash 和 JavaScript 通过注册具有该项目唯一名称的函数来使用数据和/或闭包相互调用。

首先，每个地图都有一个唯一的 mapId，每个地图 MXML 组件使用其唯一的 mapId（例如 fname_mapId）注册一组外部方法，然后为传递 mapId、应用程序名称的三种地图类型之一创建一个带有参数化 src HTML 的 Flex-iFrame , 起始位置等

HTML 读取这些参数并通过应用程序名称从父框架获取 SWF 对象。它创建一个地图并使用地图注册侦听器，并使用其 mapId（例如 fname_mapId）向父框架添加回调，允许创建标记和线条，每个标记和线条都具有唯一的 id，并再次向父框架注册函数，现在还可以在其名称中包含标记或线 ID（例如 fname_mapId_[lineId|markerId]），以允许设置图标、阴影、线条颜色及其位置更改或删除。

HTML 还通过 mapId 注册函数来检查位置或路径的高程。这些调用 ajax 或例程来请求提升，回调 JavaScript，然后回调到 AS3 注册函数。

-C

测试操作和回调中的逻辑 - 旨在测试所有已实现的功能：

```
Double click on map:
    Create pin:
        - Set to default name
        - Add to map
        - Set icon and shadow (note Bing does not take shadows; Google can take a marker mask for clicking - not implemented)
        - Call to map for elevation
    Remove previous marker
    Log current markers (should be only 1)
    Create black line from start to pin:
        - Change line color to blue
        - Call to map for path elevation
    Remove previous line
    Log current lines (should be only 1)
Drag marker:
    Start:
        - only logs it was called
    Drag:
        - only logs it was called
    End:
        - Move line to new lat lng
        - Set line color to orange
        - Sets map to not accept double clicks
Double click marker:
    - Sets map to accept double clicks again (so after you drag you need to double click a marker to have map accept double clicks again)
Elevation callback:
    - Changes pin name to include elevation in name
    - Sets new icon and shadow for marker
Elevation path callback - set to 300m & 500m - is balloon at 500m on path going to hit? - error if elevation of path >=500, warn if >=300
    - Sets line color if path max elevation as sampled is:
        Purple:       elevation request error flag set
        Red:          at or above error level
        Red-Yellow:   at or above warning but requested distance not met
        Yellow:       at or above warning level
        Yellow-Green: below warning level but requested distance not met
        Green:        below warning level 
```

带有代码的帖子的其余部分太长了，链接太多，所以我不得不把它都放在这里 - 复制到纯文本编辑器中 - 代码的格式都很好，带有空格： http: [//pastebin.com/Jzq5E06F](http://pastebin.com/Jzq5E06F)

# c# - 选择 带有 Linq 的对象

> ID：14725862
> 
> 赞同：0
> 
> 时间：2013-02-06T09:43:26.847
> 
> 标签：c#, wpf, multithreading, linq

我需要帮助：我有一个带有关联线程的嵌套对象：

```
public class XNodeViewModel 
{
    private int id;
    private Thread workerThread;
    private bool _alivingThread;
    readonly ObservableCollection<XNodeViewModel> _children;

    private XNodeViewModel(...)
    {
        ...
        if (...)
        {
            workerThread = new Thread(DoWork) { IsBackground = true };
            workerThread.Start();
        }
    }
    public ObservableCollection<XNodeViewModel> Children
    {
        get { return _children; }
    }

    public int Level
    {
        get { return _xnode.Level; }
    }
    public Thread WorkerThread
    {
        get { return this.workerThread; }
    }
} 
```

在后面的 wpf 代码中，我引用了这个 ViewModel 并且我想要关联所有线程对象。我正在学习 Linq，**我知道有 Function SelectMany 来展平嵌套对象**：使用一个按钮，我想用这个函数停止所有线程：

```
public void StopAllThread()
{
    //_firstGeneration is my root object
    var threads = _firstGeneration.SelectMany(x => x.WorkerThread).ToList();
    foreach( thread in threads){
        workerThread.Abort();
    }
} 
```

但是编译器告诉我：

**错误 1 ​​无法从用法中推断方法“System.Linq.Enumerable.SelectMany(System.Collections.Generic.IEnumerable, System.Func>)”的类型参数。尝试明确指定类型参数。**

只有当我请求类型“线程”时。（如果我请求另一种类型的对象是可以的）我在哪里做错了？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T09:46:35.403

您需要使用`Select`而不是`SelectMany`：

```
var threads = _firstGeneration.Select(x => x.WorkerThread);
foreach(thread in threads)
    workerThread.Abort(); 
```

`SelectMany`用于展平列表列表。您的`WorkerThread`属性不返回列表，因此`SelectMany`是错误的方法。

# java - Java接口的不可变类和匹配构建器类的自动生成

> ID：14725863
> 
> 赞同：4
> 
> 时间：2013-02-06T09:43:28.937
> 
> 标签：java, design-patterns, immutability, builder-pattern

Java 存在哪些工具或库，它们将`interface`只使用访问器方法定义并自动生成不可变对象类以及用于增量构建新实例或通过创建新实例来更改现有实例的“构建器”类？

示例输入：

```
public interface Car {
    String getModelName();
    int getWheelCount();
} 
```

示例输出：

```
import javax.annotation.concurrent.Immutable;
import javax.annotation.concurrent.NotThreadSafe;

@Immutable
public final class ImmutableCar implements Car {

    @NotThreadSafe
    public static final class Builder implements Car {

        private String modelName;
        private int wheelCount;

        public Builder() {
        }

        public Builder(final Car car) {
            modelName = car.getModelName();
            wheelCount = car.getWheelCount();
        }

        public ImmutableCar build() {
            return new ImmutableCar(wheelCount, modelName);
        }

        @Override
        public String getModelName() {
            return modelName;
        }

        @Override
        public int getWheelCount() {
            return wheelCount;
        }

        public void setModelName(final String modelName) {
            this.modelName = modelName;
        }

        public void setWheelCount(final int wheelCount) {
            this.wheelCount = wheelCount;
        }
    }

    private final String modelName;
    private final int wheelCount;

    public ImmutableCar(final int wheelCount, final String modelName) {
        this.wheelCount = wheelCount;
        this.modelName = modelName;
    }

    @Override
    public String getModelName() {
        return modelName;
    }

    @Override
    public int getWheelCount() {
        return wheelCount;
    }

} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2015-07-02T09:59:39.187

[`Google`](https://github.com/google/auto/tree/master/value) have a tool called AutoValue that does this, except based on an abstract base class instead of an interface.

```
import com.google.auto.value.AutoValue;

class Example {
  @AutoValue
  abstract static class Animal {
    static Builder builder() {
      return new AutoValue_Example_Animal.Builder();
    }

    abstract String name();
    abstract int numberOfLegs();

    @AutoValue.Builder
    abstract static class Builder {
      abstract Builder name(String s);
      abstract Builder numberOfLegs(int n);
      abstract Animal build();
    }
  }
} 
```

Another similar tool is [Immutables](http://immutables.github.io/); this is probably a closer match to the question, as it uses an interface and generates an immutable implementation and a builder.

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2017-03-21T05:41:59.940

Immutables ([http://immutables.github.io](http://immutables.github.io)) annotation processor is the exact match for your needs. It is full-featured and very customizable (you know all those `set` vs `with` vs no-prefix wars, - use whatever you prefer). It can generate immutable implementation with builders for interfaces, abstract classes, annotations. In addition, it can generate builders to invoke static factory methods or POJO constructors and many other things.

```
@Value.Immutable
public interface ValueObject {
  String name();
  List<Integer> counts();
  Optional<String> description();
}

// Compile using annotation processor and use it like this
ValueObject valueObject =
   ImmutableValueObject.builder()
      .name("My value")
      .addCounts(1)
      .addCounts(2)
      .build(); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2015-07-02T09:20:12.090

[Lombok](https://projectlombok.org) allows code like this:

```
@lombok.Data
@lombok.Builder
public class ImmutableCar implements Car {
    private final @lombok.NonNull String modelName;
    private final @lombok.NonNull int wheelCount;
} 
```

The lombok annotations are processed at compile time (JSR-269) to generate the full class. It is also possible to look at the generated code by 'delomboking' via a Maven plugin.

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-06T10:58:23.760

查看[Eclipse Model2Text 项目](http://www.eclipse.org/modeling/m2t/?project=xpand)及其子项目，尤其是[Acceleo](http://www.eclipse.org/acceleo/)和[Xpand](http://wiki.eclipse.org/Xpand)。它们通常用于为 EMF 模型生成基于 EMF 的 Java 代码，但它们也可用于生成简单的 POJO。

however this functionality does not come out of the box: you'd have to create your own code generator and templates for it. see [Accelelo tutorial](http://wiki.eclipse.org/Acceleo/Getting_Started) .

EDIT:

one more idea - one so simple that it took me a day to realize it

you can use [Velocity](http://velocity.apache.org/), [Freemarker](http://freemarker.sourceforge.net/) or similar template library (which are normally used for html generation). though still you need to make a model somewhere, in a .txt or .xml file for example. here's a [tutorial on Velocity code generation](http://onjava.com/pub/a/onjava/2004/05/05/cg-vel1.html).

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-03-21T16:44:12.547

I just created an eclipse plugin [https://github.com/karajdaar/templator](https://github.com/karajdaar/templator).

It generates code based on Freemarker templates. The context to the Freemarker template is a [ICompilationUnit](http://publib.boulder.ibm.com/infocenter/iadthelp/v6r0/index.jsp?topic=/org.eclipse.jdt.doc.isv/reference/api/org/eclipse/jdt/core/ICompilationUnit.html) which allows fully access to named classes and their information. We are using it to generate DAOs for NoSQL databases, jersey client, tests, etc.

I think it can easily do what is required here.

# css - Kendo UI CurrencyTextBox 样式与 @Html.EditorFor 样式与 k-textbox 类

> ID：14725864
> 
> 赞同：1
> 
> 时间：2013-02-06T09:43:29.420
> 
> 标签：css, asp.net-mvc, telerik, kendo-ui

我正在使用 ASP.NET MVC 4 和 Kendo UI CurrencyTextBox 来帮助在视图的表单上显示数字。Kendo 不提供标准文本框控件，因此对于非数字文本框，我使用@Html.EditorFor。Kendo 提供了一些包含在 css 中的“主题”，我使用的是 kendo.default.min.css。显然我希望我的表单看起来一致并且所有控件（剑道与否）看起来都一样。阅读了类似的帖子，Telerik 工作人员建议在文本框中添加“k-textbox”类，因为我们使用的是 EditorFor 而不是 TextboxFor，我们不能直接应用 HTMLAttributes，但我们可以将字段包装在 div 中，以便它可以继承风格。

视图代码如下：

```
<div class="editor-field">
    @Html.LabelFor(m => m.illus_LoanAmount)
    @(Html.Kendo().CurrencyTextBoxFor(m => m.illus_LoanAmount)
    .Spinners(false)
    .Format("{0:£#,##0;(£#,##0)}"))    

    @Html.ValidationMessageFor(m => m.illus_LoanAmount)
</div>

<div class="editor-field">
    @Html.LabelFor(m => m.illus_RepaymentType)
    <div class="k-textbox">
        @Html.EditorFor(m => m.illus_RepaymentType)
    </div>
    @Html.ValidationMessageFor(m => m.illus_RepaymentType)
</div> 
```

下面看起来“有点”正确，但绝不是像素完美的，因此离生产还很遥远。我确保这不是我自己的 css 的结果，并且还尝试了使用 TextboxFor 的内联样式，但仍然没有运气。

![看起来不太正确的字段](../Images/b9fea5c676c80647e9e5dc5a57e9a07a.png)

我的解决方案是完全去掉 Kendo CSS 样式——但这似乎有点可惜。有没有人有像 Kendo/Telerik 一样制作标准控件的经验？

# facebook - 尽管 Fb 调试器正常，但帖子中的特色图片未显示

> ID：14725865
> 
> 赞同：1
> 
> 时间：2013-02-06T09:43:32.733
> 
> 标签：facebook, image, wordpress, hyperlink, facebook-opengraph

我正在用 WP 完成我的网站，一切似乎都很好，但是在 FB 中共享链接时，我无法从我的帖子中获取特色图片来显示。

我尝试了调试器，它看到图像正常并返回 200 响应代码。

[调试器测试结果在这里](https://developers.facebook.com/tools/debug/og/object?q=http://www.momento-marketing.es/analitica-web/que-es-la-analitica-web/)

图像尺寸为 300x227，所以我知道尺寸或比例没有问题。

包含关于图像的元是 http://www.momento-marketing.es/wp-content/uploads/2013/01/Blog-Analitica-300x227.jpg'/>

有人知道吗？非常感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T16:46:28.273

同样的问题...当您尝试通过移动网站在浏览器上分享它时，它会显示图像..尝试分享链接并替换[https://www.facebook.com/sharer/sharer.php?u =](https://www.facebook.com/sharer/sharer.php?u=)到[https://m.facebook.com/sharer.php?u=](https://m.facebook.com/sharer.php?u=)并且你看到它有效，所以一定是桌面 Facebook 网站的问题

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T15:52:28.837

我最近经历了非常不稳定的 Facebook 行为，即最近几天。将页面通过 Facebook 调试器（正确指定了 og 图像），它表示特定图像小于 200 x 200，而它远大于此。

过去很高兴地提供缩略图的几个页面不再这样做了。然而，一个非常大的图像（为了 Pinterest 的缘故）在页面上缩小了图像的大小，就可以了。

确实让 Facebook 感到不安的一件事 - 图像必须与页面托管在完全相同的域上。我发现当我使用我的域名的缩短版本（转发到完整的域名）时，会阻止缩略图出现。怀疑即使是一个子域，而不是另一个子域，也可能会扰乱事情。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-08-05T06:13:09.833

Wordpress 更改了在 facebook 时间线或 facebook 页面上显示图像的要求。甚至我也尝试了很多东西，最终找到了解决方案。这是如何做到的，

1.  从 wordpress.com 下载 WPSSO 插件
2.  安装插件
3.  然后导航到插件设置并找到“图像”选项卡
4.  将“打开图形尺寸”设置为 600 x 315
5.  现在在您的帖子中使用大于 600 x 315 的图片
6.  点击保存设置，现在尝试使用您的 facebook 调试器工具调试帖子。我相信这会解决你的问题。如果问题仍然存在，请发布它们，我们将尝试解决它。

注意 - 本教程取自此链接[Facebook 图像问题解决方案](http://facebook.idroidwarz.com/2015/08/01/how-to-resolve-facebook-thumbnail-issue/#more-6)

# view - Joomla 附加视图覆盖

> ID：14725866
> 
> 赞同：0
> 
> 时间：2013-02-06T09:43:35.537
> 
> 标签：view, overriding, joomla2.5

我想知道是否可以在我的 Joomla 2.5 模板中添加额外的视图覆盖，而无需创建全新的 MCV 模型。

例如。目前我有一个类别列表的覆盖。但是我想为类别列表进行另一个覆盖，并且要使其正常工作，它需要成为后端 aswel 中的一个可用选项。

因此，我可以在以下内容之间进行选择：

```
- categorylist
- categorylist-2 
```

所以说覆盖文件是 default.php，是否可以添加 default2.php 并以某种方式使其在后端可用，或者我只能通过复制整个 com_content 视图并将其更改为新的 MVC 模型来做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T20:22:22.593

我以前从未尝试过这个，但在测试时它确实让它在某种程度上起作用。我不确定这是否正是您正在寻找的，但它应该有所帮助。使用此方法，您将能够创建链接到此视图的菜单项。

假设您想要创建一个新的类别布局。您已经覆盖了模板中的默认布局，`templates/your-template/html/com_content/category/default.php`现在您需要第二个版本。

复制 default.php 并将其重命名为 default2.php。然后将 default.xml 文件从`components/com_content/views/category/tmpl/default.xml`to复制`templates/your_template/html/com_content/category/default.xml`并重命名为 default2.xml。

打开 default2.xml 并编辑顶部布局标签的标题属性。

转到菜单管理器并添加一个新菜单项，您应该会在列表中看到您的新标题！

# android - 如何构建具有许多相似视图/活动的应用程序？

> ID：14725872
> 
> 赞同：0
> 
> 时间：2013-02-06T09:43:54.737
> 
> 标签：android, android-layout, android-activity

### 背景：

我正在创建一个 Android 应用程序（我的第二个），但我不确定如何构建它。我遇到问题的应用程序部分基本上是一种简单的目录；用户单击一个按钮，该按钮打开一个包含标题 ( `TextView`) 和图像 ( `ImageView`) 的布局。

**图像清晰：** ![应用结构](../Images/975d571601148e1c7d465acca7d37d2f.png)

构建这个的最佳方法是什么？由于我对 Android 开发还很陌生，我的方法是为第一个视图（1 号）创建一个活动，为每个“产品”页面、“产品 1”、“产品”创建一个单独的活动2" 等以及单个项目视图的第三个活动。

我知道如何重用“单项”布局（第 3 项），但我不确定第 2 项的最佳方法是什么。

### 问题：

我应该为“产品 1”、“产品 2”、..、“产品 6”创建六个新活动并为每个活动创建相应的布局吗？还是我应该尽量减少活动数量？

任何帮助都是高度赞赏的。

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T09:56:38.790

您的应用程序就像一个树结构应用程序，因此三个活动/视图对于您的应用程序来说就足够了。

1.  产品类别列表（包含产品1、产品2等）
2.  产品列表（包含 Product1-1、Product1-2 等）
3.  产品（包含产品的图像）

您不应该为每个产品创建额外的活动，因为它会消耗太多的系统资源。

对于编码，您可以创建一个基类，因为这三个活动相似，并将共同的元素放入基类中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T09:52:55.203

如果您使用列表视图，前两个屏幕可以只是一个活动，将不同的数据传递到显示屏幕 2。屏幕 3 对所有人来说都是通用的，另一个活动。

如果您打算使用按钮保持上面显示的屏幕，那么您只需创建一个带有按钮的布局，将其用作列表视图中的行布局。活动逻辑将根据数据填充一行或多行。使用此选项，您也可以使用一个活动和一组布局来执行屏幕 1 和 2。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-02-06T09:50:26.510

你做一个布局： -

```
1\. layout one you can visible(visibility) first 6 textview and other will b gone(visibility).

2\. Layout two you can visible(visibility) textview what you want and other will b gone(visibility).

3\. Layout three you can visible(visibility) only image view and other will b gone(visibility). 
```

**注意：- 通过setText**更改 textview 值。

# r - 如何在R中的同一图中绘制时间序列的连续数据集的图形？

> ID：14725873
> 
> 赞同：1
> 
> 时间：2013-02-06T09:43:55.733
> 
> 标签：r, plot

我想为一周的时间序列数据绘制图表，例如：

```
Day1    Time    Day2  Time      Day3  Time.......Day7   Time
123    00:00hr  7897  00:00hr   4662  00:00hr    1235   00:00hr   
4562   01:00hr  4645  01:00hr   4564  01:00hr....7898    01:00hr
.....  .......   .... .......   ....  ...............    ......
.....  .......   ....  ......   ....  ...............       .....
.... ..... ....... ...............................................

4653   23:00    46456  23:00hr  7895  23:00hr    7892    23:00hr 
```

我想在同一张图中绘制上述时间序列数据的图。该图应该像它首先绘制第 1 天（所有 24 小时）的图，然后是第 2 天，第 3 天......连续。X 轴应该是时间索引，如 (day1,00),(day1,01).......(day2,00)...

请帮我解决这些问题

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T11:44:20.637

数据生成：

```
set.seed(1)
df <- data.frame(matrix(round(runif(24*7,0,1000), 0), ncol=7))
colnames(df) <- paste0("Day", 1:7)
df$Time <- c(sprintf("0%d:00", 0:9), sprintf("%d:00", 10:23))
df 
```

我相信，在这里，您不需要`Time`具有相同值的七列。

现在我们可以使用common`reshape`和`ggplot`routine：

```
require(reshape2)
require(ggplot2)
mdf <- melt(df, id.vars="Time")
g <- ggplot(mdf, aes(x=1:(24*7))) + geom_line(aes(y=value))
g 
```

这产生了情节：

![在此处输入图像描述](../Images/f754950048869d37395df7240c1cb289.png)

`x`轴的一些美学：

```
g + scale_x_continuous(breaks=seq(0, 24*7, 24), labels=0:7, name="Days") 
```

![在此处输入图像描述](../Images/bb91b88ededb9c5c4cfbb40deee13cfe.png)

基本图形解决方案：

```
plot(mdf$value, type="l") 
```

![在此处输入图像描述](../Images/2279d45770f32dd9222f8d035f39d381.png)

# iphone - 使用 cellForRowAtIndexPath: 方法修改现有的可重用单元格

> ID：14725874
> 
> 赞同：2
> 
> 时间：2013-02-06T09:43:57.217
> 
> 标签：iphone, ios, uitableview

我将 tableview 与可重复使用的单元格一起使用。在每个单元格上，我都有一个带有文本的 textField，我可以对其进行修改。如果文本为空，我删除该单元格。

假设我们有 100 行，我们想要修改第 1 行：我们点击它，给出一个空字符串 @""，向下滚动到第 50 位并点击这个单元格。

现在发生的事情是我们检测到另一个单元格上的点击手势，我调用方法 textFieldDidEndEditing: 来查看我是否应该从 tableview 中删除这个单元格。我使用 cellForRowAtIndexPath: 来获取修改后的单元格。

问题是出现了其他带有空文本字段的单元格。我删除了修改过的单元格，但只有一个。我认为这是可重复使用细胞的问题。

有人可以帮我解决这个问题吗？

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath {
    static NSString *ImageIdentyfier = @"StandardCellWithImageIdentifier";

    StandardCellWithImage *cellImage = (StandardCellWithImage *)[tableView dequeueReusableCellWithIdentifier:ImageIdentyfier];

    if(cellImage == nil) {
        cellImage = [[StandardCellWithImage alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:ImageIdentyfier];
    }
    cellImage.nameLabel.delegate = self;
    Item *item  = [self.mutableFetchResults objectAtIndex:indexPath.row];
    cellImage.nameLabel.text = item.itemText;
    cellImage.infoLabel.text = item.itemInfo;
    cellImage.checkbox.userInteractionEnabled = YES;
    cellImage.nameLabel.userInteractionEnabled = NO;
    if(item.itemIsChecked.boolValue == YES) {
        cellImage.checkbox.tag = indexPath.row;
        [cellImage.tapGesture addTarget:self action:@selector(didSelectedImageAtIndexPath:)];
        cellImage.checkbox.image = [UIImage imageNamed:@"checkbox-checked.png"];
    } else {
        cellImage.checkbox.tag = indexPath.row;
        [cellImage.tapGesture addTarget:self action:@selector(didSelectedImageAtIndexPath:)];
        cellImage.checkbox.image = [UIImage imageNamed:@"open-checkbox.png"];
    }
    return cellImage;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T09:54:32.373

当您从第 1 行滚动到第 50 行时，已存在的单元格将被重用 - 包括您的单元格与空文本字段。这就是为什么您多次看到它以及为什么您的删除例程只删除了一个而不是全部。

听起来您在`cellForRowAtIndexPath`方法中创建的单元格需要修复以确保不会将空文本字段自动复制到回收的单元格中。没有看到任何代码，这个练习留给你。

看了代码，thanx。看不到任何“简单”的修复，所以建议你应该**避免这个问题**。因此，也许您应该检查列表滚动，而不是检查单元格的点击。

您存在的问题只是因为正在编辑的单元格由于用户滚动列表而被回收。因此通过 a) 不要让用户在编辑文本时滚动或 b) 在用户开始滚动时停止文本编辑来解决问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-06T10:05:38.817

当你`textFieldDidEndEditing`被调用完成时，你应该检查文本是否是`""`如果是`""`我认为你应该从`dataSource`然后删除它`reloadData`

你的`- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath`方法应该这样写：

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{

    XXXXXXXCell *cell = [tableView dequeueReusableCellWithIdentifier: kIdentifier];
    if (cell == nil) {

        //Init cell, only init

    }

    //Setup the cells detail, such as the textField.text and so on

    return cell;

} 
```

# android - 将 Android 应用程序移植到 BB10 时不显示数字键盘

> ID：14725876
> 
> 赞同：5
> 
> 时间：2013-02-06T09:43:59.783
> 
> 标签：android, blackberry-10

我的应用程序中有一个`EditText`字段`inputType="number"`。选择字段时，出现普通键盘；它显示了没有数字的普通 Qwerty 键盘。

我希望键盘在键盘上显示数字键，而不是要求用户手动切换输入数字。有没有人遇到过类似的问题？有什么解决方法吗？

我在 Dev Alpha 设备上运行最新的 BB10 操作系统（2013 年 1 月 30 日发布）。

# python - 编写一个csv文件python

> ID：14725877
> 
> 赞同：2
> 
> 时间：2013-02-06T09:44:07.347
> 
> 标签：python, excel, csv

所以我有一个清单：

```
>>> print references
>>> ['Reference xxx-xxx-xxx-007 ', 'Reference xxx-xxx-xxx-001 ', 'Reference xxx-xxx-xxxx-00-398 ', 'Reference xxx-xxx-xxxx-00-399'] 
```

（列表比这长得多）

我需要编写一个 CSV 文件，看起来像这样：

```
Column 1:
Reference xxx-xxx-xxx-007
Reference xxx-xxx-xxx-001
[...] 
```

我试过这个：

```
c = csv.writer(open("file.csv", 'w'))
for item in references:
    c.writerows(item)
Or:
for i in range(0,len(references)):
    c.writerow(references[i]) 
```

但是当我打开创建的 csv 文件时，我得到一个窗口，要求我选择分隔符无论如何，我都有类似 R,e,f,e,r,e,n,c,es

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-06T09:47:18.367

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-06T09:48:01.297

`writerow`将可迭代的元素写入不同的列。这意味着如果您提供一个元组，则每个元素将在一列中。如果您提供一个字符串，每个字母将在一列中。如果您想要同一列中的所有内容，请执行以下操作：

```
c = csv.writer(open("file.csv", 'wb'))
c.writerows(references) 
```

或者

```
for item in references:
    c.writerow(references) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-06T09:49:49.170

```
c = csv.writer(open("file.csv", 'w'))
c.writerows(["Reference"])

# cat file.csv
R,e,f,e,r,e,n,c,e 
```

but

```
c = csv.writer(open("file.csv", 'w'))
c.writerow(["Reference"])

# cat file.csv
Reference 
```

Would work as others have said.

My original answer was flawed due to confusing `writerow` and `writerows`.

# forms - joomla 错误中的表单（phpmailer）

> ID：14725878
> 
> 赞同：-2
> 
> 时间：2013-02-06T09:44:12.170
> 
> 标签：forms, joomla, joomla2.5

我遇到了以下问题，我创建了一个文件夹（名为“forms”）来存储 phpmailer 的文件，然后我必须以这种方式将操作放入表单中：action="forms/mail.php"。

但是当我尝试它在 url 中打开一个未找到的页面 e 时，它​​显示为：“perfilo/index.php/forms/mail.php”，我试图删除“index.php/”部分并执行脚本看起来没有它也能工作。

谁能告诉我如何摆脱这个“index.php/”部分？我做错了什么还是什么？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T10:19:44.933

你走错了路。

搜索有关使用 Joomla 的文档！梅勒。

**一些帮助您入门的资源：**

[JFactory/getMailer](http://docs.joomla.org/JFactory/getMailer)

[如何从您的 Joomla 扩展程序发送电子邮件](http://www.ostraining.com/blog/how-tos/development/how-to-send-email-from-your-joomla-extension/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T17:51:52.763

你走错了路。

在 joomla 中，您需要实现一个联系表单。您可以像下面这样实现它。

Joomla 为您提供默认组件 com_contact 来自 com_contact\views\contact\tmpl\ 的任何文件，或者您可以使用自定义设计创建新布局。

您可以通过 wwww.domain.com/index.php?option=com_contact&view=contact&layout=default 或您的自定义布局访问 url 中的文件。

然后 joomla 本身提供了一些表单，如果你想定制你也可以这样做。

他们在表单中设置的联系控制器的操作。并发送邮件。

我得到了您的观点，您正在尝试创建自定义设计并将其设置为文章。如果你想遵循自己的方法。

你可以这样工作。表单操作留空。并且 onclick 你必须通过 jquery 设置操作然后提交

希望这可以解决您的问题

# scala - SBT：访问子项目的托管资源？

> ID：14725881
> 
> 赞同：6
> 
> 时间：2013-02-06T09:44:16.137
> 
> 标签：scala, plugins, sbt

在 SBT 插件中，我试图访问子项目的托管资源。

这是构建文件：

```
import sbt._
import Keys._
import play.Project._

object ApplicationBuild extends Build {
  val appName         = "demo"
  val appVersion      = "1.0-SNAPSHOT"
  val appDependencies = Seq(
    "org.jruby" % "jruby-complete" % "1.7.1"
  )

  val widgets = play.Project("widgets", appVersion, appDependencies, path = file("widgets"))
  val main = play.Project(appName, appVersion, appDependencies, path = file("demo"))
    .dependsOn(widgets)

} 
```

我正在使用 plugins.sbt 中定义的 SBT 插件。

现在，我需要在编译父项目（演示）期间使用子项目（小部件）中的资源文件。

到目前为止，我最接近的是 buildDependencies 设置键 - 但我只获取 ProjectRef 对象，唯一的信息是构建基础和项目 ID。我找不到进入该项目资源目录的方法。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2018-12-19T16:24:30.160

我不熟悉编写插件，但至少在你的`build.sbt`你可以[定义资源文件](https://stackoverflow.com/a/18604399/1080804)。

或者，`build.sbt`您可以再次[创建一个其他人引用的“通用”项目](https://stackoverflow.com/a/40795226/1080804)，例如：

```
lazy val common = (project in file("common"))
  .settings(
    Seq(
      includeFilter in unmanagedResources := new SimpleFileFilter(_.getCanonicalPath.startsWith((sourceDirectory.value / "main" / "resources").getCanonicalPath))
    )
  ) 
```

然后其他代码（例如任务）可以像这样引用：

```
lazy val doSomething = taskKey[Seq[File]]("Does something useful")
lazy val doSomethingSetting = doIt := {

  val resourceDir = (resourceDirectory in common in Compile).value
  println(resourceDir)

} 
```

所以你的其他项目可以运行这个或[引用那个目录](https://stackoverflow.com/a/18604399/1080804)

希望有一种直接的方法来实现插件与构建的解决方案之一？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-08-01T16:30:31.303

不幸的是，我不相信这是可能的。我正在尝试类似的东西，但在文档中发现了以下内容：

> 注意：在运行时，所有构建的所有插件都加载到构建类加载器的单独的父类加载器中。这意味着插件不会从构建定义中看到类或资源

请参阅：[SBT 插件](http://www.scala-sbt.org/release/docs/Extending/Plugins.html)

# include-path - 设置包含路径内部服务器错误 500

> ID：14725888
> 
> 赞同：0
> 
> 时间：2013-02-06T09:44:42.020
> 
> 标签：include-path

我一直试图让这段代码工作，它应该包含我其他目录的文件路径。我在 Xampp 服务器上运行它，但是每次我尝试打开 www/index.php 从 Xampp (php_error_log) 读取错误日志后，我都会收到 HTTP 500 错误（内部服务器错误），这就是回来：

```
PHP Fatal error:  require_once(): Failed opening required 'core/Core.php' (include_path='.;\xampp-portable\php\PEAR.') in C:\xampp-portable\htdocs\www\index.php on line 21 
```

参考代码是：

```
<?php

/**
 * bootstrap: instantiates Core
 * all requests are routed through this file
 */

error_reporting(E_ALL);

ini_set('url_rewriter.tags', '');
ini_set('display_errors', 'off');
ini_set('memory_limit', '128M');
set_include_path(get_include_path() .':'. realpath(dirname(__FILE__) . '/../bumblebee' . ':'));

define('PAYMENT_TEST', false);
define('C2C_BETA', false);
define('USE_SSL', true);

session_start();

require_once('.;/core/Core.php');
new Core();

?> 
```

下面是我的目录设置：

*   Xampp 根
    *   文档
    *   万维网
        *   索引.php
    *   核
        *   核心.php
    *   熊蜂
    *   还有 4 个目录与这段代码没有任何关系（据我所知）

我现在在黑暗中奔跑，主要是因为我没有自己编写这段代码。也很抱歉，如果这一切有点模糊，如果您想知道一些事情，请随时问我会尽力澄清情况。

PS 它是在 mac 上编写的，我现在正在编辑它以在 windows 上工作。

# android - 将自定义视图附加到 Android 键盘的顶部

> ID：14725889
> 
> 赞同：3
> 
> 时间：2013-02-06T09:44:50.410
> 
> 标签：android, keyboard

在Android软键盘顶部附加xml中定义的布局的最简单方法是什么。此视图应仅在键盘出现时出现。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T09:46:54.113

我认为最好的方法是检测键盘何时出现，然后将视图附加到屏幕底部（调整所有布局后它将位于键盘上方）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-13T10:20:25.233

我认为这篇文章与其他有很多关系：[如何在 WhatsApp 等软键盘上绘制视图？](https://stackoverflow.com/questions/16060579/android-how-to-draw-view-on-top-of-open-keyboard-like-whatsapp/16519421)这个问题有几个解决方案。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-05-20T17:11:47.393

我认为这样做更清洁。

1.  定义一个布局资源文件以用作您的自定义视图

2.  创建一个扩展此布局资源文件并将其作为视图返回的方法：代码片段

    public View returnPayKeyView(){
    View simpleView = getLayoutInflater().inflate(R.layout.simpleresource,null);

    返回简单视图；

    }

3.  使用 setCandidatesView 方法将此返回的视图设置为候选视图

返回的视图将显示在您的键盘上方，使用膨胀的 xml 布局资源。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2019-12-13T09:13:37.963

一种方法是将您通常的视图布局包装在 FrameLayout 中，并将您想要的位放在框架内的键盘上方，以及您的其他视图布局，布局重力为底部。

我的布局是这样的：

```
<?xml version="1.0" encoding="utf-8"?>
<FrameLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent">

    <ScrollView
        android:layout_width="match_parent"
        android:layout_height="match_parent">

        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="vertical">

            <!-- all your stuff... -->

        </LinearLayout>

    </ScrollView>

    <LinearLayout
        android:id="@+id/stuffAboveKeyboardLayout"
        android:layout_width="match_parent"
        android:layout_height="60dp"
        android:layout_gravity="bottom"
        android:orientation="horizontal"
        android:background="#DDD">

        <!-- stuff above keyboard... -->

    </LinearLayout>

</FrameLayout> 
```

缺点是即使键盘隐藏它也会显示 - 但是当键盘显示/隐藏时应该可以显示/隐藏视图：[如何检测软件键盘在 Android 设备上是否可见？](https://stackoverflow.com/questions/4745988/how-do-i-detect-if-software-keyboard-is-visible-on-android-device)

# maven - Maven 部署到远程服务器

> ID：14725904
> 
> 赞同：2
> 
> 时间：2013-02-06T09:46:20.207
> 
> 标签：maven, deployment, amazon-ec2, jetty

我想在 Amazon EC2 上部署。

但我无法部署.. 我需要一些帮助。

我使用*Maven*项目和*码头*组件。

这是我的代码。

**pom.xml**

```
<dependencies>
...
</dependencies>

<build>
  <finalName>MY_PROJ</finalName>
  <plugins>
    <plugin>
      <groupId>org.mortbay.jetty</groupId>
         <artifactId>maven-jetty-plugin</artifactId>
    </plugin>
  </plugins>

  <extensions>
    <!-- Enabling the use of FTP -->
    <extension>
      <groupId>org.apache.maven.wagon</groupId>
      <artifactId>wagon-ssh-external</artifactId>
      <version>1.0-beta-6</version>
    </extension>
    <extension>
      <groupId>org.apache.maven.wagon</groupId>
      <artifactId>wagon-ssh</artifactId>
      <version>1.0-alpha-6</version>
    </extension>
  </extensions>
</build>

<distributionManagement>
  <site>
    <id>EC2</id>
    <url>scpexe://ec2-XX-XX-XX-XX.compute-1.amazonaws.com:8080/www</url>
  </site>
  <repository>
    <id>EC2</id>
    <url>sftp://ec2-XX-XX-XX-XX.compute-1.amazonaws.com:8080/www</url>
  </repository>
</distributionManagement> 
```

**设置.xml**

```
<server>
  <id>EC2</id>
  <username>ubuntu</username>
  <privateKey>c:\MY_KEY.pem</privateKey>
  <passphrase></passphrase>
  <filePermissions>664</filePermissions>
  <directoryPermissions>775</directoryPermissions>
</server> 
```

而且，他们有一个错误。

情况1.运行（mvn）site-deploy

> 无法在项目 sabo_proj_mvc 上执行目标 org.apache.maven.plugins:maven-site-plugin:3.0:deploy (default-deploy)：上传站点时出错：执行文件传输命令时出错：退出代码 1 - 'ssh' 是不是内部或外部命令、可运行程序或批处理文件。

情况2.运行（mvn）部署

> 无法在项目 MY_PROJ 上执行目标 org.apache.maven.plugins:maven-deploy-plugins:2.7:deploy (default-deploy)：无法检索远程元数据 com.XXX:MY_PROJ:0.0.1-SNAPSHOT/maven-metadata .xml：无法将元数据 com.XXX:my_proj:0.0.1-SNAPSHOT/maven-metadata.xml 从/到 EC2 (sftp://ec2-XX-XX-XX-XX.compute-1.amazonaws.com :8080/www): 无法连接。原因：Session.connect：java.net.ConnectException：连接被拒绝：连接

请帮帮我

附言。请参阅本[文档](http://maven.apache.org/plugins/maven-deploy-plugin/examples/deploy-ssh-external.html)=> [http://maven.apache.org/plugins/maven-deploy-plugin/examples/deploy-ssh-external.html](http://maven.apache.org/plugins/maven-deploy-plugin/examples/deploy-ssh-external.html)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-07-01T16:47:45.510

在这两种情况下，maven 都清楚地确定了原因。

> 'ssh' 不是内部或外部命令、可运行程序或批处理文件。

你有 ssh 命令吗？它包含在您的 $PATH 中吗？

> 无法连接。原因：Session.connect：java.net.ConnectException：连接被拒绝：连接

这可能是由于防火墙限制，可能远程主机不允许来自您的主机的连接。验证您是否能够建立从主机到远程的 ssh 连接

# javascript - 在 deezer sdk 中设置画布大小

> ID：14725909
> 
> 赞同：0
> 
> 时间：2013-02-06T09:46:28.763
> 
> 标签：javascript, deezer

我正在尝试通过 Deezer JS sdk 设置画布高度。

我正在使用以下代码：

```
DZ.ready(function() {
    DZ.deezer.setCanvasSize(1400); // no problem, DZ.deezer.setCanvasSize is existent
}); 
```

问题是，setCanvasSize 函数使用对名为“app”的对象的引用。应用程序似乎在 deezer 页面的上下文中（但我的应用程序在它自己的 iframe 中运行）。当我尝试在我的 chrome 浏览器的 JS 控制台中调用代码时，它按预期工作。

但是当我从我的应用程序运行代码时，会抛出以下错误：

```
app is not defined dz.js:60
ReferenceError: app is not defined
     at Object.DZ.deezer.setCanvasSize (http://cdn-files.deezer.com/js/min/dz.js:68:258)
     at eval (eval at <anonymous> (https://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js:1:15535), <anonymous>:827:15)
     at Object.DZ.Event.resolve (http://cdn-files.deezer.com/js/min/dz.js:52:271)
     at Array.2 (http://cdn-files.deezer.com/js/min/dz.js:140:10)
     at Object.DZ.Event.triggerEvent (http://cdn-files.deezer.com/js/min/dz.js:55:342)
     at Object.DZ.player.onLoad (http://cdn-files.deezer.com/js/min/dz.js:133:10)
     at DZ.onDeezerLoaded (http://cdn-files.deezer.com/js/min/dz.js:7:52)
     at DZ.communication.receive (http://cdn-files.deezer.com/js/min/dz.js:99:1) 
```

关于如何解决这个问题的任何想法？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-05-11T08:02:46.583

您应该使用该`DZ.canvas`对象，而不是`DZ.deezer`如下：

```
// Set inApp size
DZ.canvas.setSize(1400); 
```

如果你想动态设置大小使用（加载 jQuery）：

```
// Set inApp size
DZ.canvas.setSize($(document.body).height()); 
```

# verilog - 合成过程中的错误

> ID：14725921
> 
> 赞同：0
> 
> 时间：2013-02-06T09:46:55.690
> 
> 标签：verilog, lattice-diamond

我为模拟目的编写了下面给出的 Verilog 代码。它在模拟过程中正常工作。

```
 module read_1(clk,reset);
 input clk,reset;
 reg [0:23]dataout;
 reg htpv;
 reg [0:23]e_data;
 reg[1:24]data_out;
 reg [25:0]cpv,cpv_round,e_av;
 reg [0:23]data[0:0]; 
 parameter threshold =8388608;
 integer i,f1;
 always @(negedge reset) 
  begin
   i=0;
   $readmemb("ppm_data.txt",data); 
   dataout=data[0];
   e_data=24'b0;
  end
always @(negedge clk)
  begin
   f1=$fopen("xxxx.txt","a");
   if(i==0)
   begin
   data_out=dataout[(i*24)+:24];
   e_av=(e_data[0:23])>>4;
   e_data=e_data<<24;
   cpv=data_out+e_av;
   cpv_round=(cpv<threshold)?0:16777215;
   htpv=(cpv_round==0)?1:0;
   e_data[0:23]=cpv-cpv_round;
   $fwrite(f1,"%b",htpv);
   i=i+1;
end
 $fclose(f1);
 end
endmodule 
```

现在我正在使用 Lattice Diamond 合成上述代码，在“地图设计”步骤中出现错误。错误如下： -

```
ERROR - map: Design is empty.
ERROR - map: Errors found in users design.  Output files not written. 
```

为什么我会收到这些错误以及如何解决它们。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T13:26:56.243

合成器很聪明，它消除了任何不能影响输出的逻辑。

你没有`output`s，只有`reg`s - 所以你所有的逻辑都被优化了，设计被视为空的。

请注意`$fopen`和`$fwrite`不可综合，因此不要算作“输出”

# c# - c#中的汇编是什么意思

> ID：14725929
> 
> 赞同：4
> 
> 时间：2013-02-06T09:47:22.257
> 
> 标签：c#, asp.net

我刚刚阅读了有关`Public`访问修饰符的信息。

它的访问级别是

1.  在同一程序集中可用的该类的派生类中。

2.  在同一个程序集中的类之外。

3.  在程序集外部可用的该类的派生类中。

4.  课外大会外。

汇编在这里是什么意思？谁能举个例子

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-06T09:48:41.437

程序集是 DLL 或 Exe 文件

[组装 (CLI)](http://en.wikipedia.org/wiki/Assembly_%28CLI%29)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-06T09:51:04.910

程序集对应于 Visual Studio 中单个项目的内容，或者对应于构建代码中的 DLL 或 EXE 的内容。

具有访问级别的项`internal`仅对同一程序集中的其他代码可见和可访问。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-06T09:50:10.230

在这种情况下，通常意味着在项目之外公开可用（.csproj）。这是因为项目通常定义程序集边界（当项目内置到 dll 或 exe 中时）。

相反，`Internal`访问修饰符将只允许访问项目（或程序集）内部。

# c# - C# 启用/禁用 Windows 7 / Windows 7 嵌入式防火墙

> ID：14725934
> 
> 赞同：1
> 
> 时间：2013-02-06T09:47:38.163
> 
> 标签：c#, windows, range, firewall, argumentexception

我正在开发一个项目，必须可以通过程序启用/禁用 Windows 7 Embedded 系统的集成 Windows 防火墙。

使用代码：

```
private static INetFwPolicy2 getCurrPolicy()
    {
        INetFwPolicy2 fwPolicy2;
        Type tNetFwPolicy2 = Type.GetTypeFromProgID("HNetCfg.FwPolicy2");
        if (tNetFwPolicy2 != null)
            fwPolicy2 = (INetFwPolicy2)Activator.CreateInstance(tNetFwPolicy2);
        else
            return null;
        return fwPolicy2;
    }

    public static bool GetFirewallStatus()
    {
        bool result = false;
        try
        {
            INetFwPolicy2 fwPolicy2 = getCurrPolicy();
            NET_FW_PROFILE_TYPE2_ fwCurrentProfileTypes;
            //read Current Profile Types (only to increase Performace)
            //avoids access on CurrentProfileTypes from each Property
            fwCurrentProfileTypes = NET_FW_PROFILE_TYPE2_)fwPolicy2.CurrentProfileTypes;
            result = (fwPolicy2.get_FirewallEnabled(fwCurrentProfileTypes));
        }
        catch (Exception e)
        {
            Console.WriteLine(e.ToString());
        }
        return result;
    }

    public static void SetFirewallStatus(bool newStatus)
    {
        try
        {
            NET_FW_PROFILE_TYPE2_ fwCurrentProfileTypes;
            INetFwPolicy2 currPolicy = getCurrPolicy();
            //read Current Profile Types (only to increase Performace)
            //avoids access on CurrentProfileTypes from each Property
            fwCurrentProfileTypes = NET_FW_PROFILE_TYPE2_)currPolicy.CurrentProfileTypes;
            currPolicy.set_FirewallEnabled(fwCurrentProfileTypes, newStatus);
        }
        catch (Exception e)
        {
            Console.WriteLine(e.ToString());
        }
    } 
```

发生的情况是，在 currPolicy 对象的每个函数调用中，我都会收到以下消息：

> System.ArgumentException：值不在预期范围内。

现在有我的问题：为什么我会收到这个错误，我怎样才能让它工作？

谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-19T07:23:42.607

再次阅读文档后，我遇到了“当您传递从 CurrentProfileTypes 属性获得的配置文件类型时，请确保您仅将一种配置文件类型传递给 get_FirewallEnabled 和 put_FirewallEnabled。请注意，get_CurrentProfileTypes 可以返回多个配置文件。”

（[http://msdn.microsoft.com/en-us/library/windows/desktop/aa365316%28v=vs.85%29.aspx](http://msdn.microsoft.com/en-us/library/windows/desktop/aa365316%28v=vs.85%29.aspx)）

是的，我实际上返回了不止一种配置文件类型。因此，当您只将一个配置文件传递给 FirewallEnabled 的 get 和 set 方法时，该 API 就可以工作。例如：

```
result = (fwPolicy2.get_FirewallEnabled(NET_FW_PROFILE_TYPE2_.NET_FW_PROFILE2_PUBLIC)); 
```

# iphone - Restore Button On In-App Purchase

> ID：14725936
> 
> 赞同：0
> 
> 时间：2013-02-06T09:47:45.253
> 
> 标签：iphone, xcode, ipad

my app reject reason "Restore Button On In-App Purchase" how can add this button i use MKSKProduct v.4.0

thanks

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T09:56:45.157

基本上，如果您的应用程序中有 IAP（具有可以恢复的产品），那么您需要为用户提供恢复其原始交易的能力（例如，如果他们购买了新设备）。

你不需要 MKStoreKit 来做这件事，简单的 StoreKit 就可以了。在需要的位置创建按钮，并将其连接到此方法：

```
- (IBAction)restoreCompletedTransactions:(id)sender
{
    [[SKPaymentQueue defaultQueue] addTransactionObserver:self];
    [[SKPaymentQueue defaultQueue] restoreCompletedTransactions];
} 
```

检查`restoreCompletedTransactions` [Apple 网站上](http://developer.apple.com/library/ios/#documentation/StoreKit/Reference/SKPaymentQueue_Class/Reference/Reference.html)的文档。

# javascript - 有人想帮我解决这个javascript逻辑吗？

> ID：14725938
> 
> 赞同：0
> 
> 时间：2013-02-06T09:47:55.317
> 
> 标签：javascript, dom

好的，这是我的问题。我对javascript有点陌生，所以请多多包涵。我没有在其他地方发现这个问题，实际上我认为这是我的逻辑不符合我的意愿;-)

我正在用 php 和 javascript 建立一个记忆游戏。我的问题是，当我第一次执行 clickCard 函数时，它会将变量 firstClick 设置为 True 并使用它的 innerHTML 值并执行 secondClick 等这么长时间，但如果猜测错误，则只有 secondClick 变为红色。这是因为我相信第一个参数是静态的（因此保存了 firstClick 的颜色值），我无法想出如何解决这个问题的解决方案。我尝试了不同的方法，例如创建条件，例如 if else(firstClick != 0 && firstClick != secondClick) {code} 等。

任何人都可以帮助我吗？

这是我的代码：

```
var firstClick = new Boolean();
firstClick.toString();

var secondClick = new Boolean();
secondClick.toString();
function clickCard(elem){               

    if(firstClick == 0){
        firstClick = document.getElementById(elem.id).innerHTML;
                    elem.style.backgroundColor = "green";   
        //alert(firstClick);
        }

    else{

        secondClick = document.getElementById(elem.id).innerHTML;
        //alert(secondClick);
        elem.style.backgroundColor = "green";

            if(firstClick == secondClick){
                alert(firstClick +" equals "+ secondClick);
                firstClick = new Boolean();
                secondClick = new Boolean();
            }

            else {
                alert(firstClick + " equals not " + secondClick);
                firstClick = new Boolean();
                secondClick = new Boolean();
                document.getElementById(elem.id).style.backgroundColor="red";
            }   
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T10:01:44.553

您的代码中有几个问题。看看我的更改并尝试理解它们，它应该可以工作：

1.  初始化布尔值`var bool = true/false;`
2.  不要将布尔值与 dom 元素混合
3.  将您的瓷砖保存在单独的变量中
4.  实际上将第一个图块的颜色设置为“红色”

代码：

```
var firstClick = true;
var piece1;
var piece2;

function clickCard(elem){               

    if(firstClick){
        piece1 = document.getElementById(elem.id);
        piece1.style.backgroundColor = "green";
        firstClick = false;  
    } else {

        piece2 = document.getElementById(elem.id);
        piece2.style.backgroundColor = "green";

        if(piece1.innerHTML == piece2.innerHTML){
            alert(firstClick +" equals "+ secondClick);
        } else {
            alert(firstClick + " equals not " + secondClick);
            piece1.style.backgroundColor="red";
            piece2.style.backgroundColor="red";
        }   
        firstClick = true;
    }
} 
```

现在高级做法是将其放入闭包中以保护您的“内部”值 firstClick 和 piece1/2，但这是另一回事；）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-06T09:53:00.760

你从来没有真正告诉第一个元素变成红色。您需要将第一个单击的元素保存在变量中，并在设置第二个元素的同时设置它。

请注意，您可能应该重新考虑您的逻辑。首先，您应该将游戏代码放在一个闭包中，并在那里生成棋盘以使其无法被外部访问，这样人们就无法通过查看源代码来作弊。然后当一张卡片被点击时，改变它的内容以显示卡片的价值，然后当你想把卡片翻过来时再次将其空白。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-06T09:58:08.570

您正在`innerHTML`为类型的变量赋值`Boolean`。这段代码并不完全清楚。布尔对象代表两个值：“真”或“假”。还`firstclick.toString()`返回变量的字符串值，`firstclick`不做其他任何事情。

检查这是否是您想要的。

```
var Clicked = true;
var First, Second;

function clickCard(elem){               

    if(Clicked){
        First = document.getElementById(elem.id);
        elem.style.backgroundColor = "green";   
        Clicked = false;
    } else {

        Second = document.getElementById(elem.id);
        elem.style.backgroundColor = "green";

        if(First.innerHTML == Second.innerHTML){
            alert(First.innerHTML +" equals "+ Second.innerHTML);
        } else {
            alert(First.innerHTML  + " equals not " + Second.innerHTML );
            First.style.backgroundColor="red";
            Second.style.backgroundColor="red";
        }   
        First = "";Second="";
        Clicked = true;
    }
} 
```

# delphi - 如何从字符串中删除控制字符？

> ID：14725944
> 
> 赞同：1
> 
> 时间：2013-02-06T09:48:17.240
> 
> 标签：delphi

我有一个包含一些尾随控制字符的字符串：

```
'ase_Record'#$A#9#9#9' 
```

我尝试使用`StringReplace`删除控制字符，但无法使其工作。如何删除这些控制字符？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-06T09:50:43.387

You can use [`Trim`](http://docwiki.embarcadero.com/Libraries/XE3/en/System.SysUtils.Trim):

```
MyString := Trim(MyString); 
```

From the [documentation](http://docwiki.embarcadero.com/Libraries/XE3/en/System.SysUtils.Trim):

> Trims leading and trailing spaces and control characters from a string.

Perhaps you only want to trim from the end of the string. In which case use `TrimRight`. And for completeness there is also `TrimLeft` for those times when you only want to trim from the start of the string.

# android - Android：将画布保存为 SD 卡上的 jpeg/png

> ID：14725946
> 
> 赞同：1
> 
> 时间：2013-02-06T09:48:34.287
> 
> 标签：android, canvas, bitmap, jpeg

我有 2 张图像，一张是从我的相机视图中获取的，另一张是在相机视图中。我想将这 2 个图像的组合保存在我的 SD 卡上。我想我必须使用 zork zith 画布，但我不知道如何将画布保存到 jpeg 中，即将画布中的数据写入 FileOutputStream

这是我的代码

```
 output = new File(imagesFolder, fileName);
            ImageView view = (ImageView) gameactivity.findViewById(R.id.imageView3);
            view.setDrawingCacheEnabled(true);
            Bitmap bitmap2 = view.getDrawingCache();   
            FileOutputStream fos = null;
            try {
                fos = new FileOutputStream(output);
                fos.write(data);
                fos.close();
            } catch (FileNotFoundException e1) {
                // TODO Auto-generated catch block
                e1.printStackTrace();
            }
              catch (IOException e) {
                    e.printStackTrace();
            }

            try {
                Bitmap bitmap = BitmapFactory.decodeFile(output.getAbsolutePath());
                Canvas canvas = new Canvas(bitmap);
                canvas.drawBitmap(bitmap2, null, null);
// HERE I HAVE TO SAVE THE CANVAS INTO JPEG
            } catch (IOException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            } 
```

你能告诉我这是一个好的开始吗？以及如何解决我的问题，我在堆栈上的类似帖子上找不到好的答案（因为我不想将画布绘制到视图中）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T10:05:40.137

画布只是绘制位图的一种手段。

你应该已经用`new Canvas(myBitmap);`. 因此，当您在 Canvas 上绘图时，它会绘制到您的位图。

所以使用`myBitmap`.

```
String fileName = Environment.getExternalStorageDirectory() + "/test.png";
OutputStream stream = new FileOutputStream(fileName);
/* Write bitmap to file using JPEG or PNG and 80% quality hint for JPEG. */
myBitmap.compress(CompressFormat.PNG, 80, stream);
stream.close(); 
```

# python - 使用python在字典中交叉多个列表

> ID：14725953
> 
> 赞同：0
> 
> 时间：2013-02-06T09:48:56.133
> 
> 标签：python

这一直困扰着我一整天。我需要向不同的人发送电子邮件，有些电子邮件可能有多个收件人，有些收件人会收到多个电子邮件。

所以假设我有一本这样的字典：

```
{
    'email4': ['msg1', 'msg4', 'msg5'], 
    'email2': ['msg1', 'msg3'], 
    'email3': ['msg1', 'msg2', 'msg4'], 
    'email1': ['msg1', 'msg2', 'msg3']
} 
```

我想制作类似的东西：

```
{
    'email1, email2, email3, email4': ['msg1'],
    'email1, email3': ['msg2'],
    'email1, email2': ['msg3'],
    'email3, email4': ['msg4'],
    'email4': ['msg5']
} 
```

我认为这将是字典之类的键和值的多重交集，无论如何，你明白了。

快速提问，我如何在 python 中做到这一点。

感谢您的帮助，祝您有美好的一天。

## 更新

1.  为什么使用电子邮件作为键 假设我要将电子邮件发送到电子邮件地址 4，而不是在单独的电子邮件中发送 msg1、msg4 和 msg5，我想将它们组合成 1 封电子邮件。
2.  元组键这只是一个演示，我当然可以使用元组，但这将如何解决我的问题？

谢谢大家

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T10:00:14.060

[`defaultdict`](http://docs.python.org/2/library/collections.html#collections.defaultdict)使用集合作为中间数据结构的示例：

```
#!/usr/bin/env python
# encoding: utf-8

from collections import defaultdict
from pprint import pprint

messages = { 
    'email4': ['msg1', 'msg4', 'msg5'],
    'email2': ['msg1', 'msg3'],
    'email3': ['msg1', 'msg2', 'msg4'],
    'email1': ['msg1', 'msg2', 'msg3']
}

intermediate = defaultdict(set)

for email, msgs in messages.items():
    for msg in msgs:
        intermediate[msg].add(email)

inverted = {tuple(v): k for k, v in intermediate.items()}
pprint(inverted)

# {('email2', 'email1'): 'msg3',
#  ('email3', 'email1'): 'msg2',
#  ('email4',): 'msg5',
#  ('email4', 'email2', 'email3', 'email1'): 'msg1',
#  ('email4', 'email3'): 'msg4'} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-06T09:59:37.080

第一个建议：消息索引和收件人列表键，易于使用：

```
from collections import defaultdict
from pprint import pprint

data = {
    'email4': ['msg1', 'msg4', 'msg5'], 
    'email2': ['msg1', 'msg3'], 
    'email3': ['msg1', 'msg2', 'msg4'], 
    'email1': ['msg1', 'msg2', 'msg3']
}

result = defaultdict(list)

for addr, msgs in data.iteritems():
    for msg in msgs:
        result[msg].append(addr)

pprint(result) 
```

如果您只想合并消息：

```
for addr, msgs in data.iteritems():
    data[addr] = '\n'.join(msgs)

print data 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-06T09:54:43.947

您首先需要制作一个与您现在拥有的字典“反向”的字典：其中键是消息，值是收件人：

```
{
    'msg1': ['email1', 'email2', 'email3', 'email4'],
    'msg2': ['email1', 'email3'],
    ... 
```

为此，您只需浏览您的字典一次。

一旦你有了第二个字典，解决你的问题就相当简单了。

# knockout.js - 插入第一项后敲除验证消息不起作用

> ID：14725955
> 
> 赞同：2
> 
> 时间：2013-02-06T09:49:06.977
> 
> 标签：knockout.js, knockout-validation

我找不到任何解决方案，所以这是我的问题：

我已经为一个小表单设置了验证，您可以在其中将项目添加到集合中（observableArray，稍后实际保存到 DB）。

第一个项目的验证工作正常，验证消息显示，但第二次验证消息不会显示（验证本身有效，您不能添加项目）。

这就是我所做的：

1.  例如在 newSchool 对象中设置验证

    ```
    self.City = ko.observable(item ? item.City : '').extend(
    {
        required: true
    }); 
    ```

2.  在 MainViewModel 中构建验证组

    `self.schoolErrors = ko.validation.group({ schools: self.newSchool }, { deep: true });`

3.  在 MainViewModel 中：检查错误，否则推送到集合中，使用新的默认值初始化 newSchool 可观察对象

    ```
    self.addSchool = function () {
        if (self.schoolErrors().length > 0) {
            self.schoolErrors.showAllMessages();
            return;
        }
        self.schools.push(self.newSchool());
        self.newSchool(new School());
        self.newSchool().load();
        self.schoolErrors = ko.validation.group({ schools: self.newSchool }, { deep: true  }); }; 
    ```

出于调试原因，我打印出学校对象中已验证可观察值的 isValid 和 isModified 值。这些似乎很好。在我插入第一项后， isValid 和 isModified 都返回为**false**。

唯一的问题，如前所述，不再显示验证消息。

对我来说也很奇怪：我不使用自定义验证消息模板，除非在一种情况下，我需要针对计算字段进行验证。这会出现，但“内置”验证消息不会。

任何想法？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-08T20:13:29.970

如果只是向敲除验证添加了一个拉取请求，它修复了敲除验证组对可观察数组中的更改没有反应的问题。

[https://github.com/Knockout-Contrib/Knockout-Validation/pull/223](https://github.com/Knockout-Contrib/Knockout-Validation/pull/223)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T13:29:16.000

遗憾的是，当插入新项目时，该组没有得到重新评估。订阅数组并明确执行。

```
this.items.subscribe(function() {
     this.errors = ko.validation.group(this);
     this.errors.showAllMessages();
}, this); 
```

[http://jsfiddle.net/fYrbt/](http://jsfiddle.net/fYrbt/)

在小提琴中，我使用 Github 作为 CDN，所以如果小提琴不起作用，请等待并重新加载。

# android - html5视频播放列表android

> ID：14725958
> 
> 赞同：1
> 
> 时间：2013-02-06T09:49:10.553
> 
> 标签：android, html, loops, video, autoplay

我目前正在开发具有一些本机和 html5 功能的应用程序。流式传输的内容将在 webview 中加载。

我需要一个带有播放列表、自动播放和自动重复（循环）的 html5 视频播放器。

我让它在我的 chrome 网络浏览器上运行。但由于某种原因，它无法在 android 上的 webview 中工作。

```
<video id="awesome_video" width="100%" height="100%" src="video/video.mp4" autoplay />

        <script type="text/javascript">
          var index = 1,
              playlist = ["video/video.mp4", "video/video2.mp4"],
              video = document.getElementById('awesome_video');

          video.addEventListener('ended', rotate_video, false);

          function rotate_video() {
            video.setAttribute('src', playlist[index]);
            video.load();
            index++;
            if (index >= playlist.length) { index = 0; }
          }
        </script> 
```

在android上它不会自动启动，当我触摸屏幕播放时，它需要一些时间来缓冲。但在那之后没有视频显示。

我知道适用于 android 的重复功能：

```
video.addEventListener('ended', function() 
{ 
   video.currentTime=0.1;
   video.play(); 
} 
```

在我的 android 应用程序中，我已经将我的 webview 设置为 chromeclient：

```
mWebView = (WebView) findViewById(R.id.wvMain);     
mWebView.setWebChromeClient(new WebChromeClient()); 
```

我可以让它在没有播放列表和自动播放的情况下工作（只是重复播放一个视频）。

希望有人知道如何在 android 设备上使用它，谢谢。

# javascript - 来自随机数组的 console.log 值给我变量未定义。JavaScript

> ID：14725961
> 
> 赞同：0
> 
> 时间：2013-02-06T09:49:18.957
> 
> 标签：javascript

我试图获取数组的值，但给了我错误 rand （我的变量）未定义。该数组工作正常并将值添加到一个类中。所以我真的不明白为什么它不工作。

这是我的功能。

```
 function AddEvent(){ 
            var AddEvent = "add"; 
            var addClass= document.getElementsByClassName(AddEvent); 
            addClass=addClass[addClass.length-1]; 
            addClass.addEventListener("click", addDiceEvent, true); 
            var diceArray = Array=[ 
            "one", 
            "two", 
            "three", 
            "four", 
            "five", 
            "six"]; 
            console.log("when set",addClass);
            function addDiceEvent() { 
                var rand = diceArray[Math.floor(Math.random() * diceArray.length)]; 
                dicesides_func.call(addClass,rand); 
               }      

    }    
// Console.log(rand) gives the error # Uncaught ReferenceError: rand is not defined #
AddEvent(); 
```

# android - 从数据库中删除的麻烦

> ID：14725963
> 
> 赞同：0
> 
> 时间：2013-02-06T09:49:19.573
> 
> 标签：android

从手机中获取联系人并将其显示在列表视图中，然后标记联系人并将其添加到列表视图中，从那里标记的列表视图正在添加，未标记的列表视图正在删除。

我用于此的代码是..

```
 @Override
    public View getView(int position, View convertView, ViewGroup parent) {
View view = null;
if (convertView == null) {
    x= position;
    LayoutInflater inflator = context.getLayoutInflater();
    view = inflator.inflate(R.layout.contactliststyle, null);
    final ViewHolder viewHolder = new ViewHolder();
    viewHolder.txtName = (TextView) view.findViewById(R.id.txtView_Name);
    viewHolder.txtNumber = (TextView)view.findViewById(R.id.txtView_Number);
    viewHolder.selection = (CheckBox)view.findViewById(R.id.checkbtn_selectContact);
    viewHolder.selection
            .setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {

                public void onCheckedChanged(CompoundButton buttonView,
                        boolean isChecked) {
                    ContactModel element = (ContactModel)viewHolder.selection
                            .getTag();
                    element.setSelected(buttonView.isChecked());
                    if(buttonView.isChecked())
                    {
                    String selectedName=element.getName();
                    String selectedNumber=element.getNumber();
                    System.out.println("etrtrt"+element.getName());
                    DatabaseHandler db = new DatabaseHandler(context);

                    Log.d("Insert: ", "Inserting ..");
                    db.addContact(new Contact(selectedName, selectedNumber));

                    }
                    else
                    {
                         String selectedName=element.getName();
                        String selectedNumber=element.getNumber();
                        System.out.println("Number"+selectedNumber);
                        System.out.println("Name"+selectedName);
                        DatabaseHandler db = new DatabaseHandler(context);
                        db.deleteContact(new Contact(selectedName,selectedNumber));
                    }

                }
            }); 
```

openHelper 类中删除联系人的代码是

```
// Deleting single contact
public void deleteContact(Contact contact) {

    SQLiteDatabase db = this.getWritableDatabase();
    db.delete(TABLE_CONTACTS, KEY_ID + " = ?",
            new String[] { String.valueOf(contact.getID()) });
    System.out.println("Deleted");
    db.close();
} 
```

联系人正在完美地添加到数据库中，但没有从数据库中删除......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T10:11:09.667

尝试这个

使用 getWritableDatabase().delete(TABLE_NAME, TABLE_ROW_ID + "="+rowId,null)

# android - android可扩展菜单（隐藏/取消隐藏菜单）

> ID：14725966
> 
> 赞同：1
> 
> 时间：2013-02-06T09:49:26.497
> 
> 标签：android, button, submenu, expandable

在我的应用程序布局中，我有一个设置按钮....当我们按下它时，它会显示一些子菜单....当我们再次按下它时，它将隐藏所有子菜单....看起来像可扩展的列表视图，但不完全一样....只是隐藏/取消隐藏菜单以便为其他视图腾出一些空间....我该怎么做？

这是我想要做的截图

[隐藏菜单](http://dl.dropbox.com/u/57465028/hide-menu.png)

[取消隐藏菜单](http://dl.dropbox.com/u/57465028/unhide-menu.png)

[这是](http://dl.dropbox.com/u/57465028/complete_search.xml)我的 xml 文件：

```
<RelativeLayout
android:layout_height="fill_parent"
android:layout_width="fill_parent">
    <EditText
        android:id="@+id/Editsearch"
        android:hint="Enter keyword..."
        android:layout_alignParentLeft="true"
        android:singleLine="true"
        android:layout_width="fill_parent"
        android:layout_toLeftOf="@+id/search"
        android:layout_height="wrap_content" />
    <ImageButton
        android:id="@+id/search"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:src="@drawable/button_search"
        android:layout_alignParentRight="true" />
    <Spinner
        android:id="@+id/province"
        android:layout_width="135dp"
        android:layout_height="45dp"
        android:layout_below="@+id/Editsearch"
        android:layout_toLeftOf="@+id/setting"
        android:textSize="12dip"
        android:textStyle="bold"
        android:background="@android:drawable/btn_default"
    />
    <ImageButton
        android:id="@+id/setting"
        android:layout_width="wrap_content"
        android:layout_height="45dip"
        android:layout_below="@+id/Editsearch"
        android:src="@drawable/button_setting"
        android:layout_alignParentRight="true" />
    <Spinner
        android:id="@+id/Category"
        android:layout_width="135dp"
        android:layout_height="45dp"
        android:text="Category"
        android:layout_below="@+id/Editsearch"
        android:layout_alignParentLeft="true"
        android:background="@android:drawable/btn_default" />
        <!-- Job Category title-->
    <TextView
        android:id="@+id/Title"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:textColor="#000000"
        android:typeface="serif"
        android:textSize="13dip"
        android:layout_below="@+id/province"
        android:layout_gravity="center"

        android:text="Total Job : 1982"
        android:textStyle="bold" />
    <ListView
        android:id="@+id/list"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_below="@+id/Title"
        android:listSelector="@drawable/list_selector" />
</RelativeLayout> 
```

预先感谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T09:56:52.940

这很简单。只需将这 3 个按钮放在一个布局中，然后在单击隐藏/取消隐藏按钮时将该布局的可见性设置为消失/可见。

编辑 ：

这就像将您喜欢隐藏/取消隐藏的微调器放在布局中并为其提供 ID。

```
<ImageButton
        android:id="@+id/setting"
        android:layout_width="wrap_content"
        android:layout_height="45dip"
        android:layout_alignParentRight="true"
        android:layout_below="@+id/Editsearch"
        android:src="@drawable/button_setting" />

    <RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent" 
    **android:id="@+id/submenu_layout"**
    android:layout_below="@+id/Editsearch"
    >
    <Spinner
        android:id="@+id/category1"
        android:layout_width="135dp"
        android:layout_height="45dp"
        android:layout_alignParentLeft="true"
        android:background="@android:drawable/btn_default"
        android:text="Category" />
    <Spinner
        android:id="@+id/category2"
        android:layout_width="135dp"
        android:layout_height="45dp"
        android:layout_alignParentLeft="true"
        android:layout_below="@id/category1"
        android:background="@android:drawable/btn_default"
        android:text="Category" />
    <Spinner
        android:id="@+id/category3"
        android:layout_width="135dp"
        android:layout_height="45dp"
        android:layout_alignParentLeft="true"
        android:layout_below="@+id/category2"
        android:background="@android:drawable/btn_default"
        android:text="Category" />
    </RelativeLayout> 
```

然后使用这个 id 在你的代码中引用这个布局。

```
RelativeLayout submenuLayout = (RelativeLayout) findViewById(R.id.submenu_layout); 
```

编辑2：

之后设置 imageButton 的 OnClick ：

```
 if(submenuLayout .getVisibility() == View.VISIBLE)
    submenuLayout .setVisibility(View.GONE);
    else
        submenuLayout .setVisibility(View.VISIBLE); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T10:00:26.927

使用此代码

使其在按钮单击时可见

```
themeUrlRow.setVisibility(View.VISIBLE); 
```

让它不可见

```
themeUrlRow.setVisibility(View.GONE); 
```

并在 xml 中将按钮放入布局中并使其不可见，并在 clicklistener 中添加上述代码。

**xml代码**

```
 <LinearLayout
               android:id="@+id/themeUrlRow"
            android:layout_width="fill_parent"
            android:gravity="center"
            android:visibility="gone" > />

            <Button
                android:id="@+id/register"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:gravity="center"
                android:text="Register" />

            <Button
                android:id="@+id/register"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:gravity="center"
                android:text="Register" />
        </LinearLayout> 
```

# python - 如何在 Django 中真正命名 auth_group_permissions？

> ID：14725967
> 
> 赞同：0
> 
> 时间：2013-02-06T09:49:30.260
> 
> 标签：python, django, fixtures

我想为 auth_group_permissions 表创建固定装置，但是如何将其命名为模型？'auth.group.permissions' 不对。

```
[
    {
        "model": "auth.group",
        "pk": 1,
        "fields": {"name": "manager"}
    },
    {
        "model": "auth.group",
        "pk": 2,
        "fields": {"name": "executive"}
    },
    {
        "model": "auth.group",
        "pk": 3,
        "fields": {"name": "ordinar"}
    },
    {
        "model": "auth.group.permissions",
        "pk": 1,
        "fields": {
                    "group_id": 1,
                    "permission_id": 7
                    }
    }

] 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T10:24:58.213

您可以在组中将它们定义为相关字段

```
 "model": "auth.group",
        "fields": {
            "name": "foo",
            "permissions": [
                ...
            ] 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-06T11:15:18.333

auth 应用程序中没有名为 group.permissions 的模型。但是类`Group`具有多对多字段权限，因此您应该将其用于您的目的。

试试这个夹具：

```
{
    "model": "auth.group",
    "pk": 1,
    "fields": {
        "name": "manager",
        "permissions" : [7]
    }
} 
```

# php - 直接从网络（PHP）打印到本地打印机 POS（销售点）

> ID：14725968
> 
> 赞同：-1
> 
> 时间：2013-02-06T09:49:32.703
> 
> 标签：php, html, windows, web, point-of-sale

是否可以从网站直接打印到打印机？也许如果我先写文件而不是把它保存到本地文件夹，保存后它会运行打印机？像打印机假脱机？

我现在使用网络对话框打印……但想将其直接发送到本地打印机。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T09:52:01.050

js打印功能应该可以，但是你会得到确认打印的对话框，这是浏览器上的一项安全措施，以防止黑客使用你的打印机。

您可以在浏览器设置中克服此对话。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T10:15:29.397

据我了解，您想要一个服务器端打印解决方案，对吧？

如果它是连接到为网页提供服务的服务器的启用网络的打印机，则可以使用[`lp`](http://linux.die.net/man/1/lp)Linux 命令。在 Windows 上，您可以使用该[`lpr`](http://technet.microsoft.com/en-us/library/cc731926.aspx)命令。

[可以使用wkhtmltopdf](http://code.google.com/p/wkhtmltopdf/)或[mpdf](http://mpdf1.com/manual/)从网页代码生成要打印的文件。

如果它不在同一个网络上，您可以在打印机网络上设置一个脚本，检查电子邮件地址并将附件从特定电子邮件发送到打印机。

# javascript - 如何计算每个选中的复选框

> ID：14725969
> 
> 赞同：29
> 
> 时间：2013-02-06T09:49:35.980
> 
> 标签：javascript, jquery, checkbox

这是我的代码：

它实际上计算选中的复选框并将其写入`<span class="counter"></span>`. 此代码适用于 Firefox，但不适用于 Chrome。

在 Chrome 上， .select_all 选中我想要的所有复选框，但不更新计数器。实际上，当我取消选中 .select_all 时，计数器会更新，这很奇怪。

重要事实：我不想计算 .counter 中的 .Select_all 复选框

```
jQuery(document).ready(function($){

$(function() {
    $('#general i .counter').text(' ');

    var generallen = $("#general-content input[name='wpmm[]']:checked").length;
    if(generallen>0){$("#general i .counter").text('('+generallen+')');}else{$("#general i .counter").text(' ');}
})

$("#general-content input:checkbox").on("change", function() {
    var len = $("#general-content input[name='wpmm[]']:checked").length;
    if(len>0){$("#general i .counter").text('('+len+')');}else{$("#general i .counter").text(' ');}
});

$(function() {
    $('.select_all').change(function() {
        var checkthis = $(this);
        var checkboxes = $(this).parent().next('ul').find("input[name='wpmm[]']");

        if(checkthis.is(':checked')) {
            checkboxes.attr('checked', true);
        } else {
            checkboxes.attr('checked', false);
        }
    });
});

}); 
```

编辑：这是代码的示例文档：http: [//jsfiddle.net/8PVDy/1/](http://jsfiddle.net/8PVDy/1/)

* * *

## 回答 #1

> 赞同：64
> 
> 时间：2013-02-06T10:06:57.203

您可以使用函数来更新计数器：

```
function updateCounter() {
    var len = $("#general-content input[name='wpmm[]']:checked").length;
    if(len > 0){
       $("#general i .counter").text('('+len+')');
    } else { 
       $("#general i .counter").text(' ');
    }
} 
```

并在复选框的状态更改时调用此函数（包括 selectAll 复选框）

这是一个更新的 jsFiddle：http: [//jsfiddle.net/8PVDy/4/](http://jsfiddle.net/8PVDy/4/)

* * *

## 回答 #2

> 赞同：43
> 
> 时间：2013-02-06T10:05:50.700

```
$('input[type="checkbox"]:checked').length 
```

* * *

## 回答 #3

> 赞同：11
> 
> 时间：2013-02-06T10:17:39.943

你可以这样做

```
$(document).ready(function(){
$('input[type="checkbox"]').click(function(){
    alert($('.test:checked').length);

});
}); 
```

我使用的 HTML

```
<input type="checkbox" name="test" class="test" value=""/>  
<input type="checkbox" name="test" class="test" value=""/>  
<input type="checkbox" name="test" class="test" value=""/>  
<input type="checkbox" name="checkAll" class="checkAll" value=""/> 
```

希望这可以帮助

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-02-06T10:07:27.777

要更新检查状态，请使用[jQuery.prop()](http://api.jquery.com/prop/)函数

代码：

```
$(function(){
    $('#general i .counter').text(' ');

    var fnUpdateCount = function() {
        var generallen = $("#general-content input[name='wpmm[]']:checked").length;
        console.log(generallen,$("#general i .counter") )
        if (generallen > 0) {
            $("#general i .counter").text('(' + generallen + ')');
        } else {
            $("#general i .counter").text(' ');
        }
    };

    $("#general-content input:checkbox").on("change", function() {
                fnUpdateCount();
            });

    $('.select_all').change(function() {
                var checkthis = $(this);
                var checkboxes = $("#general-content input:checkbox");

                if (checkthis.is(':checked')) {
                    checkboxes.prop('checked', true);
                } else {
                    checkboxes.prop('checked', false);
                }
                fnUpdateCount();
            });
}); 
```

演示：[小提琴](http://jsfiddle.net/arunpjohny/PBrcG/)

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2019-04-21T19:33:03.953

我发现在上述所有答案中缺少的是关于如何以有效方式收听点击的解释，因为该问题与 onChange 事件紧密耦合。另一件事是这个问题没有指定代码是否应该只在 Jquery 中我认为添加 vanilla JS 解决方案应该是一个好主意。

这是我将计算的复选框的 HTML 列表。我以更通用的方式解决了这个问题，以便更容易在不同的条件下应用。我计划在全球范围内按每个部分计算复选框。

```
<div class="wrapper">
  <section class="list list-1">
    <label for="id-11"><input type="checkbox" id="id-11"></label>
    <label for="id-12"><input type="checkbox" id="id-12"></label>
    <label for="id-13"><input type="checkbox" id="id-13"></label>
    <label for="id-14"><input type="checkbox" id="id-14"></label>
    <label for="id-15"><input type="checkbox" id="id-15"></label>
    <label for="id-16"><input type="checkbox" id="id-16"></label>
    <label for="id-17"><input type="checkbox" id="id-17"></label>
    <label for="id-18"><input type="checkbox" id="id-18"></label>
    <label for="id-19"><input type="checkbox" id="id-19"></label>
    <label for="id-110"><input type="checkbox" id="id-110"></label>
    <span class="list-score">Section 1: <span class="number">0</span></span>
  </section>

  <section class="list list-2">
    <label for="id-21"><input type="checkbox" id="id-21"></label>
    <label for="id-22"><input type="checkbox" id="id-22"></label>
    <label for="id-23"><input type="checkbox" id="id-23"></label>
    <label for="id-24"><input type="checkbox" id="id-24"></label>
    <label for="id-25"><input type="checkbox" id="id-25"></label>
    <label for="id-26"><input type="checkbox" id="id-26"></label>
    <label for="id-27"><input type="checkbox" id="id-27"></label>
    <label for="id-28"><input type="checkbox" id="id-28"></label>
    <label for="id-29"><input type="checkbox" id="id-29"></label>
    <label for="id-210"><input type="checkbox" id="id-210"></label>
    <span class="list-score">Section 2: <span class="number">0</span></span>
  </section>

  <section class="list list-3">
    <label for="id-31"><input type="checkbox" id="id-31"></label>
    <label for="id-32"><input type="checkbox" id="id-32"></label>
    <label for="id-33"><input type="checkbox" id="id-33"></label>
    <label for="id-34"><input type="checkbox" id="id-34"></label>
    <label for="id-35"><input type="checkbox" id="id-35"></label>
    <label for="id-36"><input type="checkbox" id="id-36"></label>
    <label for="id-37"><input type="checkbox" id="id-37"></label>
    <label for="id-38"><input type="checkbox" id="id-38"></label>
    <label for="id-39"><input type="checkbox" id="id-39"></label>
    <label for="id-310"><input type="checkbox" id="id-310"></label>
    <span class="list-score">Section 3: <span class="number">0</span></span>
  </section>

  <span class="total-score">Total: <span class="number">0</span></span>
</div> 
```

这是 JS 标记，它监听 div 内的所有点击，并在每个部分`.wrapper`的上下文中计算选定的输入。`.wrapper``.list`

```
const total = document.querySelector('.total-score .number')

document.querySelector('.wrapper').addEventListener('change', function(event) { // First we apply the ONLY one listener to do the listening for us - we don't need listener on each checkbox
  const numberAll = this.querySelectorAll('input[type="checkbox"]:checked').length // We count all selected inputs in side the main wrapper. 
  total.innerHTML = numberAll // We update the total counter

  const list = event.target.closest('.list') // We look and cache the closest section, wrapping the clicked checkbox element
  const numberList = list.querySelectorAll('input[type="checkbox"]:checked').length // Once found, we start to count the number of selected checboxes under the section
  list.querySelector('.list-score .number').innerHTML = numberList // We update the sectiona relevant counter
}) 
```

这是 JS 小提琴中的实时示例： [https ://jsfiddle.net/mkbctrlll/yak4oqj9/159/](https://jsfiddle.net/mkbctrlll/yak4oqj9/159/)

在 Vanilla JS 中，您必须知道将`change`侦听器应用于每个复选框是慢得多的解决方案。相反，您应该使用所谓的事件委托并将侦听器应用于包装元素甚至整个文档。

在这里你可以自己检查一下，列表中每个输入的监听变化有多慢：

[https://jsperf.com/change-listener-on-each-vs-event-delegation/1](https://jsperf.com/change-listener-on-each-vs-event-delegation/1)

较慢选项的代码（只是为了比较）：

```
document.querySelector('.wrapper').addEventListener('change', function() {
    const numberAll = this.querySelectorAll('input[type="checkbox"]:checked').length
    total.innerHTML = numberAll
  })

document.querySelectorAll('.list').forEach((list) => {
  list.addEventListener('change', function() {
    const numberAll = this.querySelectorAll('input[type="checkbox"]:checked').length
    this.querySelector('.list-score .number').innerHTML = numberAll
  })
}) 
```

以及我在 jQuery 中的解决方案：

```
$('.wrapper').change(function() {
  const numberAll = $(this).find('input[type="checkbox"]:checked').length
  total.innerHTML = numberAll

  const $list = $(event.target).closest('.list')
  const numberList = $list.find('input[type="checkbox"]:checked').length
  $($list.find('.list-score .number')).html(numberList)
}) 
```

PS 我也尝试将 jQuery 解决方案添加到基准测试中，但它的性能似乎是假的，所以我决定不使用它。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-02-06T10:09:46.247

试试这个。

```
$('.select_all').change(function() {
var num = $(this).find("input[name='wpmm[]']:checked").length;
$("#general .counter").html(num);
}); 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-02-06T10:12:16.737

修改了 select all-handler 以触发子类别复选框的 onchange 功能，如下所示

```
$(function() {
    $('.select_all').change(function() {
        var checkthis = $(this);
        var checkboxes = $(this).parent().next('ul').find("input[name='wpmm[]']");

        if(checkthis.is(':checked')) {
            checkboxes.attr('checked', true);
        } else {
            checkboxes.attr('checked', false);
        }
        // make sure to trigger the onchange behaviour for the checkboxes
        $("#general-content input:checkbox").change();
    });
}) 
```

我好像记得有一个更漂亮的方法可以触发它们，但是找不到

# oracleforms - 我们如何在 oracle 表单 11g 中集成帮助文件

> ID：14725972
> 
> 赞同：0
> 
> 时间：2013-02-06T09:49:41.027
> 
> 标签：oracleforms, helpfile

我需要在 oracle 表单 11g 中显示帮助内容。

我可以在表单的属性面板中看到“帮助书标题”属性，在 oracle 表单项中看到“帮助书主题”属性。但我无法获得有关如何使用它的任何信息。

请帮忙。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T22:07:27.670

Oracle Forms Services 不再支持这些属性。它们是客户端-服务器时代（Oracle Forms 6i 及更早版本）的遗物。

因此，您几乎可以靠自己来实现帮助文件。我建议创建可从您的 Forms 服务器访问的 HTML 文件，并使用内置的 web.show_document() 来显示它们，可能来自菜单项或按钮。

# javascript - ember.js and mongoDB find object by id

> ID：14725976
> 
> 赞同：1
> 
> 时间：2013-02-06T09:49:59.173
> 
> 标签：javascript, mongodb, ember.js

Cheers! I get Foo (for example) object from remote server with an ID, which looks like this:

```
id: "5110e8b5a8fefe71e0000197" 
```

But when I do:

```
App.Foo.find("5110e8b5a8fefe71e0000197") 
```

it returns array of objects, which is wrong, 'cause all ID's are uniq in mongo.

```
> Array[112] 
```

So, how to make it work?

**UPDATE:** My find function:

```
App.Foo.reopenClass({
  allFoos: [],
  find: function(){
    $.ajax({
      url: 'http://address/foos.json',
      dataType: 'jsonp',
      context: this,
      success: function(data){
        data.forEach(function(foo){
          this.allFoos.addObject(App.Foo.create(foo))
        }, this)
      }
    })
    return this.allFoos;
  }
}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T10:24:35.530

尝试使用这个：

```
App.Foo.findOne({_id: "5110e8b5a8fefe71e0000197"}) 
```

# php - APC upload progress gets stuck at end of upload

> ID：14725979
> 
> 赞同：1
> 
> 时间：2013-02-06T09:50:11.377
> 
> 标签：php, ajax, file-upload, progress-bar, apc

There is a [similar question](https://stackoverflow.com/questions/8893330/apc-file-upload-progress-status-getting-stuck-at-2100000-bytes-2-1mb) around on SO but this problem is somewhat different and the answer on the other question is not the cause of my problem.

I'm tracking upload progress using APC with a little script (which is called every second using ajax) like this:

```
<?php
if(isset($_GET['progress_key'])){
    $status = apc_fetch('upload_' . $_GET['progress_key']);
    if($status['current'] != ''){
        echo '{"current":' . $status['current'] . ', "total":' . $status['total'] . '}';
    }else{
        echo '{"current":0, "total":100}';
    }
}else{
    echo "{}";
}
?> 
```

Everything works fine except that APC reports upload progress until the upload is just about completed (I've tried with files of various sizes, it gets stuck at about 95 percent or so, file size seems irrelevant). Then `$status['current']` keeps reporting the same value until the upload script is done processing the uploaded file. The uploaded file is a pdf, from which a preview thumbnail is generated, which takes about 10 seconds, during this time APC keeps reporting the same value.

Does anyone have any idea what might cause this, and more importantly, how to fix this?

**Update** By the way, I have set apc.rfc1867_freq=0

# xslt - XSLT1 中的“标准”

> ID：14725982
> 
> 赞同：0
> 
> 时间：2013-02-06T09:50:17.563
> 
> 标签：xslt, xslt-1.0

我有一个带参数的模板。我怎样才能打印 n 次？

n 是参数的值。我必须使用 XSLT 1.0...

有一种更简洁的方法：

```
<xsl:for-each select="//*[position() &lt;= $count]">&#x9;</xsl:for-each> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T10:03:40.233

如果您的源 XML 包含`$count`元素，您的方法将起作用，但我不会说这是一个很好的方法。这更冗长，但我建议定义这样的模板：

```
 <xsl:template name="RepeatValue">
    <xsl:param name="times" />
    <xsl:param name="value" />

    <xsl:if test="$times > 0">
        <xsl:value-of select="$value" />
        <xsl:call-template name="RepeatValue">
           <xsl:with-param name="times" select="$times - 1" />
           <xsl:with-param name="value" select="$value" />
        </xsl:call-template>
    </xsl:if>
</xsl:template> 
```

然后，您将使用以下方法调用此模板：

```
<xsl:call-template name="RepeatValue">
   <xsl:with-param name="times" select="$count" />
   <xsl:with-param name="value" select="'&#x9;'" />
</xsl:call-template> 
```

# javascript - Dynamic form fields on change of combobox In extjs 4

> ID：14725984
> 
> 赞同：3
> 
> 时间：2013-02-06T09:50:19.193
> 
> 标签：javascript, extjs, extjs4

I have a combobox and now I want to create a dynamic textfields on change of this combo box in Extjs 4 and i am following the Mvc structure of Extjs . Mycombo is below

```
 {
                                    xtype : 'combo',
                                    store : 'product.CategoryComboBox',
                                    name: 'category',
                                    id:'category',
                                    displayField: 'name',
                                    valueField: 'idProductCategory',
                                    multiSelect : false,
                                    fieldLabel: 'Category',
                                    allowBlank: false,
                                    allowQueryAll : false,
                                    forceSelection : true,
                                    typeAhead: true,
                                    triggerAction: 'all',
                                    delimiter : ',',
                                    width: 300,
                                    queryMode:'local',
                                    listeners:{select:{fn:function(combo, value) {}
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-06T14:00:06.860

您可以将这样的 FieldSet 添加到表单中

```
{
    xtype: 'fieldset',
    itemId: 'field_container',
    layout: 'anchor',
    border: 0,
    style: { padding: '0' },
    fieldDefaults: {
        // field defaults
    },
    defaultType: 'textfield'
} 
```

因此，当组合框更改其值时，您只需执行以下操作

```
var container = this.down('fieldset[itemId="field_container"]');
container.removeAll();
var fieldsToAdd = [
    { name: 'field1', xtype: 'textfield', value: 'xxxxxx' },
    { name: 'field2', xtype: 'textfield', value: 'yyyyyyy' }
];
container.add(fieldsToAdd); 
```

这样，您可以根据组合框值决定 fieldsToAdd 包含的内容。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-06T12:16:28.290

为文本字段设置一个 id，然后配置`listeners`组合的属性，如下所示：

```
listeners: {
    change: function (combo, value) {
        Ext.get('idOfYourTextfield').setValue(value);
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-06T15:30:04.937

[字段容器](http://docs.sencha.com/ext-js/4-1/#!/api/Ext.form.FieldContainer)允许在同一行上有多个表单字段，因此您可以这样做：

```
{
    xtype: 'fieldcontainer',
    layout: 'hbox',
    items: {
        xtype: 'combo',
        // your config here
        listeners: {
            change: function () {
                this.up('fieldcontainer').add({
                    xtype: 'textfield',
                    value: this.getValue()
                });
            }
        }
    }
} 
```

* * *

## 编辑

我想你需要测试文本字段是否已经存在：

```
change: function () {
    var ct = this.up('fieldcontainer'),
        textField = ct.down('textfield');
    if (textField) {
        textField.setValue(this.getValue());
    } else {
        ct.add({
            xtype: 'textfield',
            value: this.getValue()
        });
    }
} 
```

# android - 将 SQL 服务器查询更改为 SQLite 中的等效查询

> ID：14725985
> 
> 赞同：2
> 
> 时间：2013-02-06T09:50:19.223
> 
> 标签：android, sql, sqlite, sql-server-2005

我有这个在 SQL 服务器中工作的查询：

```
Convert(datetime, [ChangedDate]) >= DATEADD(DAY, -3, CAST(GETDATE() AS DATE)) 
```

我想让它在 Android SQLite 数据库中工作。

据我了解，我需要使用类似的东西：`date('now','+14 day')`而不是`DATEADD`，但它给了我一个错误`datetime`（它可能是在 sqlite.convert(datetime,...)

您可以修改此查询以使其在 SQLite 上运行吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T10:02:42.023

SQLite 没有`date`数据类型。所以你不需要使用`convert`or `cast`。像这样的查询会起作用：

```
select  *
from    table1
where   col1 < datetime('now', '-3 days') 
```

[SQL Fiddle 的示例。](http://sqlfiddle.com/#!5/3d023/2/0)

有关更多详细信息，请参阅[SQLite 手册](http://www.sqlite.org/datatype3.html)：

> 1.2 日期和时间数据类型
> 
> SQLite 没有为存储日期和/或时间预留存储类。相反，SQLite 的内置日期和时间函数能够将日期和时间存储为 TEXT、REAL 或 INTEGER 值：
> 
> **TEXT**作为 ISO8601 字符串（“YYYY-MM-DD HH:MM:SS.SSS”）。
> 
> **REAL**作为儒略日数字，根据预测的公历，自公元前 4714 年 11 月 24 日格林威治中午以来的天数。
> 
> **INTEGER** 作为 Unix 时间，自 1970-01-01 00:00:00 UTC 以来的秒数。
> 
> 应用程序可以选择以任何这些格式存储日期和时间，并使用内置的日期和时间函数在格式之间自由转换。

# java - 如何在 DAO 层使用会话变量？

> ID：14725987
> 
> 赞同：2
> 
> 时间：2013-02-06T09:50:20.127
> 
> 标签：java, spring, jsf-2

我有一个 @SessionScoped ApplicationBean 用于存储用户登录信息并将其成功注入到其他托管 bean 中，如此[处](https://stackoverflow.com/questions/12356990/how-to-access-variable-in-sessionscoped-managed-bean)所述。

我也通过 @ManagedProperty 注释使用我的 Dao 接口，但我觉得我的用法有问题。

假设 StockDao 有一个公共方法 listStocks(String companyCode) ，并且 companyCode 在用户登录时存储在 ApplicationBean 中。

所以我的托管bean像这样调用DAO层

```
@ManagedProperty(value = "#{appBean}")
ApplicationBean appBean;

public void getStockList() {    
    return stockDao.listStocks(appBean.getCompanyCode());       
} 
```

这在 sql 需要 companyCode 的任何地方重复。

我觉得如果我的 DAO 层知道 companyCode（这意味着将 ApplicationBean 注入 DAO）会更好，我应该使用如下方法

```
public void getStockList() {    
    return stockDao.listStocks();       
} 
```

所以问题是，哪个 API 设计会更好，如果您投票支持第二个，我如何将 @SessionScoped bean 注入 DAO 层？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T10:31:42.747

对我来说，第一种方法更干净，我不想将 DAO 层与会话托管 bean 联系起来。

我将我的一般工件特别是 daos 和数据模型打包为单独的 Jar，没有任何外部依赖项这样我就可以使用相同的工件而无需任何修改，无论是 Web App、Stand Alone 还是 EJB

这使您的 Dao 独立于如何/从何处获取公司代码

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-06T10:46:41.997

您不在 DAO 层中使用会话变量。缺乏业务逻辑和用户界面正是它的原因所在：DAO：一个只负责抽象数据访问的层。

如果添加会话相关状态，您会将 DAO 层转换为 DAAMUIS 层（无处不在的*数据访问和杂项用户界面*层）。我并不是说 DAAMUIS 是错误的或邪恶的，只是这个问题需要重新表述。

# mysql - when I use perl to load infile into a mysql db,why the count returned is not correct?

> ID：14725989
> 
> 赞同：1
> 
> 时间：2013-02-06T09:50:22.483
> 
> 标签：mysql, perl

First,Greetings from Beijing before the Spring Festival --"过年好!".

I have a perl script to load data file into the database.The script runs good,but the returned information is always not correct.

**Problem**:

the code is like this :

```
 $sql_load="LOAD DATA LOCAL INFILE $FileName REPLACE INTO TABLE ".$TableName ;
     $sth=$dbi->do($sql_load) ;#or die "SQL Error: $DBI::errstr\n";
     if(DBI->err){
         print "      after connect, SQL Error:$DBI::errstr\n";
     }else{
         print "      $sth . Records Uploaded \n";
     } 
```

the output is like this:

```
 7 . Records Uploaded. 
```

**But Actually**:

the wc -l $FileName is 6 (including the first line which is the field names line), the count of data line is 5.

the returned count number is always equal the correct number plus 2.

**Question:**
I have googled for this question many times but with no luck,and didn't get useful info from the mysql docs too. How can I get the right count number?What does the plus 2 number mean?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T10:27:44.097

# erb - 客户端渲染：如何利用服务器/客户端模板？

> ID：14725996
> 
> 赞同：0
> 
> 时间：2013-02-06T09:50:46.360
> 
> 标签：erb, template-engine, mustache

我目前正在实现一个 ruby​​/sinatra 应用程序，它使用 erb 作为渲染引擎，使用客户端渲染，也使用把手/胡子模板。我正在实现某个列表视图，其中列表元素将在存在 javascript 时使用客户端解决方案呈现，而在不存在时回退到服务器端（以这种方式定位爬虫）。但是我留下了以下问题：我基本上有两个模板用两个不同的标记编写，它们产生相同的 html。我很想“一次编写，到处运行”。其他项目如何利用这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T20:18:42.397

我在 Sinatra 中使用过[sinatra-mustache](https://github.com/beatrichartz/sinatra-mustache)，效果很好。我没有将它用于来自相同模板文件的客户端和服务器端模板，但您应该也可以这样做。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-02T06:59:57.067

我发现答案是在服务器端使用您最喜欢的模板风格，但在模板将在客户端共享的情况下使用其他模板引擎。所以，我大部分时间都在使用 erb，其余时间使用[poirot](https://github.com/olivernn/poirot)（用于 Rails）。这在动作包上集成了 Mustache 模板，无论如何都可以处理多个模板引擎。Poirot 已经准备好在文档上编写模板以及客户端渲染库的助手。它还集成了车把和 hogan 模板，它们是胡须扩展。

至于 Sinatra，我尝试使用 erb 和[https://github.com/defunkt/mustache](https://github.com/defunkt/mustache)使用相同的方法，但是 poirot on rails 的良好集成必须手动完成。

# javascript - 检查文本字段是否仅包含数字且必须为 11 位

> ID：14725998
> 
> 赞同：2
> 
> 时间：2013-02-06T09:50:51.907
> 
> 标签：javascript, jquery, regex

我有这个功能来检查文本字段是否只包含数字，如果这个字段中有字母，那么应该显示一个错误

```
//Tel Validate
function is_valid_tel() {
 $this = $("#inputTel");
 var pattern = new RegExp("^[0-9]*$");
if(pattern.test($this.val())){ // valid
 if ($this.closest(".control-group").hasClass("error"))
  $this.closest(".control-group").removeClass("error");
  $this.siblings(".help-inline").css("display", "none");
return true;
} else { // error
 if (!$this.closest(".control-group").hasClass("error"))
  $this.closest(".control-group").addClass("error");
  $this.siblings(".help-inline").css("display", "block");
  return false;
 }
} 
```

当我在文本字段中输入字母时，我没有抛出任何错误。我的 jquery/javascript 是有限的，但我认为这至少可以工作？因为 reg exp 检查 0-9 之间的数字。我还想检查是否输入了一个数字，那么它是否匹配 11 位数字

任何帮助表示感谢

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-06T09:52:42.637

使用这个正则表达式`^\d{11}$`

**旧正则表达式**

`^`字符串开头

`[0-9]*`0位或更多位

`$`字符串结尾

**新的正则表达式**

`^`字符串开头

`\d{11}`11 位数字 ( `\d`== `[0-9]`)

`$`字符串结尾

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-06T09:52:53.990

试试下面的正则表达式

```
var pattern = new RegExp("^[0-9]{11}$"); 
```

这是一个更具可读性的版本：

```
var pattern = new RegExp("^\d{11}$"); 
```

[您将在此处](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/RegExp#Special_characters_in_regular_expressions)找到有关特殊字符的方便参考。