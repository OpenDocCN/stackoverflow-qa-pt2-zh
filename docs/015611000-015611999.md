# StackOverflow 问答 15611000-15611999

# c# - C# 根据 Combobox 选择向 texbox 添加值

> ID：15611000
> 
> 赞同：0
> 
> 时间：2013-03-25T09:02:04.957
> 
> 标签：c#, winforms

我们从组合框中选择了一个值，需要文本框中的相关信息。以下代码不适用于相同的情况。

```
 private void itemcode_SelectedIndexChanged(object sender, EventArgs e)
   {
            string selected = (string)itemcode.SelectedItem;
            SqlConnection conn3 = new SqlConnection(connString);
            conn3.Open();
            //For Redundency Checking Code of Supplier id.
            string iname = "select Itemname from Items where Itemcode='" +  
                            itemcode.SelectedItem.ToString() + "'";
            SqlCommand cmdRedun1 = new SqlCommand(iname, conn3);
            SqlDataReader dr1 = cmdRedun1.ExecuteReader();
            dr1.Read();
            itemname.Text = dr1["Itemname"].ToString();
            dr1.Close();
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-25T09:15:15.777

首先检查组合框的项目值，然后使用 StringFormat 创建查询，例如：

```
 string iname = String.Format("select Itemname from Items where Itemcode='{0}'",
 itemcode.SelectedItem.ToString()) ; 
```

//-- 那么请查看下面的代码：

```
SqlConnection SqlConn = new SqlConnection(this.ConnectionString);
SqlConn.Open();
SqlCommand SqlCmd = new SqlCommand(" Your Select....", SqlConn);
SqlCmd.CommandType = CommandType.Text;
SqlDataReader r = SqlCmd.ExecuteReader(CommandBehavior.CloseConnection);
//----need this 
while (r.Read())                
itemname.Text =  string.IsNullOrEmpty(r["Itemname"].ToString()) ?  
  string.Empty : r["Itemname"].ToString();           
 r.Close();
 if (SqlConn.State != ConnectionState.Closed)
      SqlConn.Close(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-25T09:15:23.257

您可以尝试 ExecuteScalar 而不是 SqlDataReader。

# ruby-on-rails - 在集成测试中使用命名路由是否合适？

> ID：15611002
> 
> 赞同：2
> 
> 时间：2013-03-25T09:02:13.677
> 
> 标签：ruby-on-rails, rspec

其中哪一种是编写集成（请求）测试的“正确”方式。

```
it "should be successful" do
  get "/about/terms"
  response.should be_success
end

it "should be successful" do
  get about_terms_path
  response.should be_success
end 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-25T10:11:39.827

这`about_terms_path`是正确的，因为自定义路由路径可能会在路由文件中更改，但路由名称应保持不变。

前者会导致脆弱的测试。

如果路由名称更改，Rails 应用程序中对该路由的所有引用都需要更改，您的 rspec 测试也需要更改。

如果路由的路径发生了变化，那么 Rails 应用程序或 rspec 测试中的任何内容都不需要更改。

**编辑：**

如果您想测试路线，请查看[https://www.relishapp.com/rspec/rspec-rails/docs/routing-specs](https://www.relishapp.com/rspec/rspec-rails/docs/routing-specs)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-25T13:24:09.813

我会说任何一个都可以，我个人更喜欢第一个。

集成测试是模仿人的眼睛和动作。人类可以看到“/about/terms”，但看不到“about_term_path”。

此外，还有两个建议：

1.  最好使用允许带有 Javascript 的 Web 驱动程序的 Capybara。这样，“get”就行不通了，改用“visit”

2.  无需在集成测试中检查响应，这是功能测试（控制器）的工作。直接进入真正的点。

**添加**

回答杰森的问题。是的，我总是在集成测试中使用硬编码路由，非常一致。

原因是**由外向内的方法**，这是验收测试驱动开发的关键。当我编写集成测试时，我不知道命名路由，因为 routes.rb 尚未修改。或者我应该知道，但那一刻我不在乎。

当 rspec 告诉我“没有匹配的路由”时，我说，很好，让我生成控制器并检查 routes.rb。

# iphone - 具有方向和动画的自定义 UIView layoutSubviews？

> ID：15611008
> 
> 赞同：2
> 
> 时间：2013-03-25T09:02:26.160
> 
> 标签：iphone, ios, uiview, core-animation, layoutsubviews

我处于两难境地，使用哪种方法来设置自定义 UIViews 的框架，其中包含许多子视图，并且仍然有动画并自动调整到旋转。当我创建一个新的视图控制器时，我通常会在 loadView 或 viewDidLoad 中分配我的自定义视图，例如：

```
-(void)viewDidLoad
{
    [super viewDidLoad];
    detailView = [[DetailView alloc] initWithFrame:CGRectMake(0, 0,      self.view.frame.size.width, self.view.frame.size.height)];
    detailView.autoresizingMask = UIViewAutoresizingFlexibleHeight|UIViewAutoresizingFlexibleWidth;
    self.view = detailView;    
} 
```

通常这个宽度和高度对于 iPhone5 屏幕是不正确的（实际的视图框架直到 viewWillAppear 才设置）但是由于 autoresizingmask 一切都可以解决。

然后在自定义 UIView DetailView 的 initWithFrame 中，我用 CGRectZero 分配所有子视图，例如：

```
-(id)initWithFrame:(CGRect)frame
{
    self = [super initWithFrame:frame];
    if (self)
    {
        label = [[UILabel alloc] initWithFrame:CGRectZero];
        [self addSubview:label];
    }
 } 
```

然后我覆盖 layoutsubviews 来设置所有子视图的所有框架。这适用于任何屏幕尺寸和任何方向，例如：

```
-(void)layoutSubviews
{
    [super layoutSubviews];
    label.frame = CGRectMake(0, 0, self.frame.size.width, self.frame.size.height);
} 
```

但是，我刚刚发现layoutSubviews在使用动画时并不是那么好，因为当您在动画块中使用动画时，layoutsubviews在动画中间被调用并且它完全破坏了动画，例如：

```
-(void)animateLabel
{
    [UIView animateWithDuration:0.4f animations:^
    {
        label.transform = CGAffineTransformMakeTranslation(100, 100);
    }];
} 
```

我相信通过为每个动画使用标志和在 layoutsubviews 中使用这些标志来设置动画块的正确开始或结束帧有一些丑陋的解决方法，但我认为我不应该为我想要的每个动画创建一个标志做.

所以我现在的问题是：我应该如何拥有一个带有动画的自定义 UIView，它也会自动调整自身以适应旋转？

我现在能想到的唯一解决方案（我不喜欢）：不要使用 layoutSubviews 而是使用自定义 UIView 的 setFrame/setBounds 方法来设置所有子视图的框架。然后在每次发生旋转时检查viewController，然后使用自定义UIView的setFrame/setBounds方法更改所有子视图的所有帧。我不喜欢这个解决方案，因为 iOS5 和 iOS6 中的旋转方法不同，我不想在每个 UIViewController 中使用它自己的自定义 UIView 来执行此操作。

有什么建议么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-25T12:38:02.593

我最近开始`viewDidLayoutSubviews`在`viewWillAppear`我的`UIViewControllers`.

是`viewDidLayoutSubviews`在轮换时调用。（来自评论）

该方法在所有内部布局已经完成后触发，因此应该设置所有最终帧，但仍然给您时间在视图可见之前进行调整，并且动画不应该有任何问题，因为您不是已经在动画块内。

视图控制器.m

```
- (void)viewDidLayoutSubViews {
    // At this point I know if an animation is appropriate or not.
    if (self.shouldRunAnimation)
        [self.fuView runPrettyAnimations];
} 
```

fuView.m

```
- (void)runPrettyAnimations {
    // My animation blocks for whatever layout I'd like.
}

- (void)layoutSubviews {
    // My animations are not here, but non animated layout changes are.
    // - Here we have no idea if our view is visible to the user or may appear/disappear
    // partway through an animation.
    // - This also might get called far more than we intend since it gets called on
    // any frame updates.
} 
```

# mysql - mysql - 将单元格的值设置为另一行中单元格的值

> ID：15611011
> 
> 赞同：1
> 
> 时间：2013-03-25T09:02:50.930
> 
> 标签：mysql, sql

我有一个 MySQL 查询，它为我的车辆跟踪“进出”时间生成一个表。

问题是“进入”时间与“退出”时间不同，因此在两者之间会丢失几秒钟或几分钟。

有没有办法将“输入”时间设置为等于前一行的“输出时间”，即使我需要将当前选择嵌入到新选择中？

您将在下图中看到第一行的出时间是`15:45:14`，下一行的入时间是`15:46:14`。所以在这种情况下，一分钟是`lost`

实际上，如果车辆离开了一个点，它会立即在通往下一个点的路上，所以我可以将时间设置为与前一行的`in`时间相等。`out`这样，时间永远不会`lost`

![在此处输入图像描述](../Images/be8250d9fe847de35bcd9dd0d46e3e8e.png)

我的查询的 sql 是：

```
select vehicle,InTime,OutTime from (select
      PreQuery.callingname as vehicle,
      PreQuery.geofence,
      PreQuery.GroupSeq,
      MIN( PreQuery.`updatetime` ) as InTime,
       UNIX_TIMESTAMP(MIN( PreQuery.`updatetime`))as InSeconds,
      MAX( PreQuery.`updatetime` ) as OutTime,
      UNIX_TIMESTAMP(MAX( PreQuery.`updatetime`))as OutSeconds,
      TIME_FORMAT(SEC_TO_TIME((UNIX_TIMESTAMP(MAX( PreQuery.`updatetime` )) - UNIX_TIMESTAMP(MIN( PreQuery.`updatetime`)))),'%H:%i:%s') as Duration,
      (UNIX_TIMESTAMP(MAX( PreQuery.`updatetime` )) - UNIX_TIMESTAMP(MIN( PreQuery.`updatetime`))) as DurationSeconds
   from
     ( select
              v_starting.callingname,
              v_starting.geofence,
              v_starting.`updatetime`,
              @lastGroup := @lastGroup + if( @lastAddress = v_starting.geofence 
                                         AND @lastVehicle = v_starting.callingname, 0, 1 ) as GroupSeq,
              @lastVehicle := v_starting.callingname as justVarVehicleChange,
              @lastAddress := v_starting.geofence as justVarAddressChange
           from
              v_starting,
              ( select @lastVehicle := '',
                       @lastAddress := '',
                       @lastGroup := 0 ) SQLVars
           order by
              v_starting.`updatetime` ) PreQuery
   Group By
      PreQuery.callingname,
      PreQuery.geofence,

      PreQuery.GroupSeq)  parent

      where (InTime>  DATE_SUB('2013-03-23 15:00', INTERVAL 24 HOUR) or OutTime> '2013-03-23 15:00' ) and vehicle='TT08' order by InTime asc 
```

MySQL 语法的深度非常大，但也可以在更简单的查询上完成。喜欢

```
select vehicle, intime,outtime from vehicletimes 
```

我想要的结果是这样的：

```
select vehicle, intime(outtime of row above),outtime from vehicletimes 
```

time 中的第一行可以保持原样，outtime 的最后一行可以保持不变。我只需要考虑最小时间和最大时间之间的每一秒。

一如既往地感谢任何帮助。

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-25T09:25:07.413

*对于您现有的记录，我认为这将为您提供每次*当前超时之前的最新时间：

```
select
 vt.vehicle, max(qGetMaxOut.outtime) as intime , vt.outtime

from 
 vehicle_times vt

 inner join 
 (
    select vehicle, outtime
    from vehicle_times 

 ) qGetMaxOut
 on qGetMaxOut.vehicle = vt.vehicle 
 and qGetMaxOut.outtime <= vt.intime 

group by
 vt.vehicle, vt.outtime 
```

如果您想*插入*一条新记录，但需要查找特定时间的上一个 in-time（即，如果您需要插入一条新记录，其入/出时间*早*于*最近*时间- 例如，插入一条以前以某种方式丢失的记录，并且此后添加了较新的时间条目）。如果您需要这种情况，请告诉我，如果您无法从上面解决，我会详细说明。

联接基本上将表“返回到自身”以提供另一个“副本”，但将“副本”中的结果限制为仅主表中当前车辆的那些行，并从车辆所在的副本中排除这些行out-time 比主表中的当前 in-time 更近。这样，您可以对副本执行 MAX() 以查找先前的退出时间。

我不知道您的具体要求，但我建议您尽可能存储*最准确的信息*。因此，如果“综合”一个值只是为了在一些报告上进行修饰，我会不理会数据，并整理报告，而不是丢失可能在跟踪中派上用场的数据。例如，如果将来您突然需要告诉您的老板“我们的车辆‘停放’并闲置多长时间？”会发生什么？

但是，如果您只想*插入一条忽略**实际*超时时间的新记录，并将其替换为*最新*记录的在时时间，那么以下查询将为您找到该值：

```
select
 vt.vehicle, max(vt.outtime) as intime

from 
 vehicle_times vt

group by 
 vt.vehicle 
```

我错过了你的要求吗？

# spring-integration - 带有自定义标头的春季集成入站电子邮件

> ID：15611012
> 
> 赞同：0
> 
> 时间：2013-03-25T09:02:57.903
> 
> 标签：spring-integration, gmail-imap, email-headers

我有一个 spring 应用程序，它通过 GMail 收件箱发送电子邮件并读取电子邮件，并处理任何已通过该帐户发送但由于无法识别收件人地址而返回的未送达邮件。

我已经完成了所有配置和工作，但我还在出站邮件上设置了一个自定义标头，我想在阅读返回的邮件时检索该标头。调试应用程序显示消息被正确读取，但缺少自定义标头值。

这是我的配置：

```
<mail:inbound-channel-adapter id="imapAdapter"
        store-uri="#{mailIntegrationProperties['mail.imap.url']}"
        java-mail-properties="mailIntegrationProperties" 
        channel="receiveEmailChannel"
        should-delete-messages="false" 
        should-mark-messages-as-read="true"
        auto-startup="true"
        max-fetch-size="#{mailIntegrationProperties['mail.max.fetch.size']}">
    <int:poller time-unit="SECONDS" fixed-rate="#{mailIntegrationProperties['mail.poller.seconds']}" />
</mail:inbound-channel-adapter>

<int:channel id="receiveEmailChannel" />

<bean id="mailMessageReceiver" class="com.myapp.integration.mail.EmailMessageReceiver" />

<int:service-activator input-channel="receiveEmailChannel" ref="mailMessageReceiver" output-channel="emailEventMessageQueue" method="receive" /> 
```

为简洁起见，我已将服务激活器的输出通道关闭，但系统按预期工作，但在处理消息时仅缺少自定义标头。

关于如何配置 Spring 以读取该自定义标头的任何想法？

干杯!

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-25T13:26:27.300

我假设您的意思是您在 SMTP 出站邮件上设置了一些“X-foo”标头，并希望在收到的邮件中看到它。

放在上面的消息的有效载荷`receiveEmailChannel`是接收到的mime消息；没有对标头进行过滤，收到的所有标头都将包含在其中。

如果您没有看到标题，则表示它不在消息中。

如果您在 javamail 属性中打开调试`<prop key="mail.debug">true</prop>`，您将在控制台中看到收到的消息（包括所有标头）。

# php - PhpUnit 为每个测试设置工作区目录

> ID：15611018
> 
> 赞同：1
> 
> 时间：2013-03-25T09:03:18.110
> 
> 标签：php, phpunit

我还没有找到任何描述如何将外部数据注入到 phpunit 中的 TestCases 中。我的目标是在 xml 配置文件中设置一个工作区目录，并从每个类中读取该目录的路径。现在我只能用全局变量来解决这个问题，这很恶心：

在引导程序中：

```
global $workspace;
$workspace = __DIR__ . '/../test/WorkSpace/'; 
```

在测试中：

```
class MyTest extends PHPUnit_Framework_TestCase
{
    protected $workSpace;

    public function __construct()
    {
        global $workspace;
        $this->workSpace = $workspace;
        parent::__construct();
    }

    //...
} 
```

为此的配置xml：

```
<?xml version="1.0" encoding="UTF-8"?>
<phpunit xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:noNamespaceSchemaLocation="http://phpunit.de/phpunit.xsd"
         backupGlobals="false"
         verbose="true"
         bootstrap="Application/bootstrap.php">
    <testsuites>
        <testsuite name="PHPUnit">
            <directory>test</directory>
        </testsuite>
    </testsuites>
</phpunit> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-25T09:13:51.643

您应该避免使用全局变量。为此，您可以在引导文件中[定义常量](http://php.net/define)。

我查看了文档，发现[您可以在 XML 文件中定义 PHP 值](http://www.phpunit.de/manual/3.8/en/appendixes.configuration.html)。

> **设置 PHP INI 设置、常量和全局变量**
> 
> 该元素及其子元素可用于配置 PHP 设置、常量和全局变量。它也可用于添加 include_path。

```
<php>
      <includePath>.</includePath>
      <ini name="foo" value="bar"/>
      <const name="foo" value="bar"/>
      <var name="foo" value="bar"/>
      <env name="foo" value="bar"/>
      <post name="foo" value="bar"/>
      <get name="foo" value="bar"/>
      <cookie name="foo" value="bar"/>
      <server name="foo" value="bar"/>
      <files name="foo" value="bar"/>
      <request name="foo" value="bar"/>
    </php> 
```

> 上面的 XML 配置对应如下 PHP 代码：

```
ini_set('foo', 'bar');
define('foo', 'bar');
$GLOBALS['foo'] = 'bar';
$_ENV['foo'] = 'bar';
$_POST['foo'] = 'bar';
$_GET['foo'] = 'bar';
$_COOKIE['foo'] = 'bar';
$_SERVER['foo'] = 'bar';
$_FILES['foo'] = 'bar';
$_REQUEST['foo'] = 'bar'; 
```

正如我上面所说，我建议您使用定义来使用常量，而不是全局变量。

# c++ - 仅使用标准 C++ 的图形？

> ID：15611024
> 
> 赞同：9
> 
> 时间：2013-03-25T09:03:50.017
> 
> 标签：c++, user-interface

我只想知道标准 C++ 是否允许 GUI 编程？

这有2个方面：

1.  UI 小部件，如窗口、对话框、按钮等
2.  画圆、矩形、样条等图形

我一直在为我的 UI 使用 Qt 并且没有看到有人只在 C++ 中做 GUI。

PS：我只关心 C++ 语言，我知道 Java 允许 GUI 编程！

**更新：**这里添加了一个新问题：[如果 C++ 没有这样的功能，像 Qt 这样的框架如何创建 GUI？](https://stackoverflow.com/questions/15611487/how-frameworks-like-qt-create-gui-if-c-has-no-functionality-for-that)

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-25T09:05:29.410

不，这是不可能的。C++ 适用于许多设备，其中一些设备根本不具备这种能力。

Qt 可以做到这一点，通常是因为运行它的操作系统确实提供了该功能。它通常作为一组 C 函数公开，这实际上意味着它们可以被 Qt 中的 C++ 代码调用。操作系统内部使用什么，谁知道呢。如今，它甚至可能将部分工作留给 GPU。

而在一些嵌入式系统上，Qt 只是获取一个指向屏幕内存的指针，然后自己完成所有的像素操作。当您必须与多个应用程序共享屏幕时，这不是一个解决方案，但对于单功能设备，它绝对可以工作。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-25T09:05:12.757

不，C++ 标准中没有关于 GUI 的内容。

框架使用操作系统设施。标准 C++ - 没有。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-03-25T09:12:24.603

不，它不包括在内。您可能想阅读语言创建者的解释：http: [//www.stroustrup.com/bs_faq.html#gui](http://www.stroustrup.com/bs_faq.html#gui)

GUI 框架使用操作系统 API 或窗口管理器 API 提供的低级工具。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-03-25T09:08:32.033

它允许它，从某种意义上说，它不会限制实现在选择时提供可用的 GUI 工具的能力。

该标准不需要提供可用的 GUI 环境——许多实现的运行时环境都没有可用的环境，因此没有强制性的标准接口。

也没有标准化的可选 GUI 界面。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-03-25T09:08:11.017

标准 C++ 不禁止 GUI 编程（IOW，它允许），但同时它不为此提供任何标准库功能。这超出了语言及其标准库的范围，并且是特定于操作系统/平台的。

您可以直接在纯 C++ 中执行的唯一图形操作是[ASCII art](http://en.wikipedia.org/wiki/ASCII_art)。:)

# c# - 具有固定页眉和页脚的 asp.net 可滚动网格视图

> ID：15611025
> 
> 赞同：0
> 
> 时间：2013-03-25T09:03:56.157
> 
> 标签：c#, asp.net, gridview

我看到很多关于这个问题的讨论，但它们是旧的，而不是跨浏览器。

我的 asp.net 项目中有一个 gridview 有很多行，我需要在用户滚动网格时固定标题，gridview 允许排序，因此用户可以单击标题。

也许使用分页可以解决我的问题，但我必须使用 scroll 。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-25T11:00:59.117

我建议你添加`scrollable div`

```
<div style="overflow:auto; widht:100%; height:YourHeight" >
<asp:GridView>
   .....
</asp:GridView>
</div> 
```

# javascript - 在函数内部出现意外的令牌 var

> ID：15611026
> 
> 赞同：0
> 
> 时间：2013-03-25T09:04:04.823
> 
> 标签：javascript, xmlhttprequest

我有一个 XmlHttpRequest，它在函数外部时可以工作，如果我把它放在里面，我会得到第 94 行`Uncaught SyntaxError: Unexpected token var .`

我的第 94 行是`var xmlhttp;`

我有谷歌，看看它应该工作的其他功能？

有任何想法吗 ？这就是我现在所拥有的。

```
function run(){
readXml();
}

function readXML{

var xmlhttp;
xmlhttp=new XMLHttpRequest();
xmlhttp.open("get", 'xml/stickers.xml', false);
xmlhttp.send();
var myXML = xmlhttp.responseXML;
stickers = myXML.getElementsByTagName("sticker");
for( i = 0; i<stickers.length; i++){

var idNod =  (stickers[i].getElementsByTagName("id")[0].childNodes[0].nodeValue); /*Get the ID*/
var id = idNod;
var textNod = (stickers[i].getElementsByTagName("text")[0].childNodes[0].nodeValue); /* Text*/
add_sticker(textNod);  /*Call creator function*/

var Xnod =  (stickers[i].getElementsByTagName("x")[0].childNodes[0].nodeValue)+'px';      /*Get the x position Add PX for pixel*/
var Ynod =  (stickers[i].getElementsByTagName("y")[0].childNodes[0].nodeValue)+'px';     /*Get the y position*/
var Znod =  (stickers[i].getElementsByTagName("z")[0].childNodes[0].nodeValue);     /*Get the y position*/
//console.log(Ynod)
//console.log(Xnod)

document.getElementById(id).style.top=Ynod;   /* Style the position if the div. well done */
document.getElementById(id).style.left=Xnod;
document.getElementById(id).style.zIndex=Znod;

} } 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-25T09:04:58.173

你忘记了`()`：

```
function readXML() {
// Here --------^ 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-25T09:06:28.680

您在函数声明中缺少 ()

```
function readXML() {

  var xmlhttp;
  ... 
```

# wpf - 使用双工通信异步调用 WCF 以获取数据库更改

> ID：15611027
> 
> 赞同：0
> 
> 时间：2013-03-25T09:04:08.420
> 
> 标签：wpf, wcf, sqldependency

我正在使用 WsDualHttpBinding 绑定来实现 WCF 异步服务以进行双工通信以获取数据库更改。

我已经实现了服务，但我不知道如何从客户端应用程序中调用它。

这是代码。

下面的代码是 WCF 服务

```
[ServiceContract()]
public interface ICustomerService
{
       [OperationContract(IsOneWay = true)]
        void GetAllCustomer();
}

public interface ICustomerServiceCallback
{
    [OperationContract(IsOneWay = true)]
    void Callback(Customer[] customers);
}

[ServiceContract(Name = "ICustomerService",
    CallbackContract = typeof(CustomerServiceLibrary.ICustomerServiceCallback),
    SessionMode = SessionMode.Required)]
public interface ICustomerServiceAsync
{
    [OperationContract(AsyncPattern = true)]
    IAsyncResult BeginGetAllCustomer(AsyncCallback callback, object asyncState);
    void EndGetAllCustomer(IAsyncResult result);
}

[DataContract]
public class Customer
{
    [DataMember]
    public string Name
    {
        get;
        set;
    }

} 
```

}

```
public class CustomerService :ICustomerService,IDisposable
{

    List<Customer> Customers = null;
    ICustomerServiceCallback callback;
    Customer customer = null;

    string constr = "Data Source=.;Initial Catalog=WPFCache;Persist Security Info=True;User ID=sa;Password=Password$2";

    public CustomerService()
    {
        callback = OperationContext.Current.GetCallbackChannel<ICustomerServiceCallback>();
        SqlDependency.Start(constr);
    }

    public void GetAllCustomer()
    {

            using (SqlConnection con = new SqlConnection(constr))
            {
                using (SqlCommand cmd = new SqlCommand())
                {
                    con.Open();

                    cmd.Connection = con;
                    cmd.CommandText = "GetHero";
                    cmd.CommandType = CommandType.StoredProcedure;

                    cmd.Notification = null;

                    // Create the associated SqlDependency
                    SqlDependency dep = new SqlDependency(cmd);
                    dep.OnChange += new OnChangeEventHandler(dep_OnChange);

                    SqlDataReader dr = cmd.ExecuteReader();
                    Customers = new List<Customer>();
                    while (dr.Read())
                    {
                        customer = new Customer();
                        customer.Name = dr.GetString(0);

                        Customers.Add(customer);

                    }
                }

                callback.Callback(Customers.ToArray());

            }

    }

    void dep_OnChange(object sender, SqlNotificationEventArgs e)
    {
        try
        {

            if (e.Type == SqlNotificationType.Change)
            {
               GetAllCustomer();
            }
        }
        catch (Exception ex)
        {

            throw ex;
        }
    }

    public void Dispose()
    {
        SqlDependency.Stop(constr);
    }
} 
```

我已将此 WCF 异步服务托管为控制台应用程序中的自托管。

这里是托管代码

> 类程序{

```
 static void Main(string[] args)
    {
        StartService();

    }

    internal static ServiceHost myServiceHost = null;

    internal static void StartService()
    {
        Uri httpbaseAddress = new Uri("http://localhost:8087/CustomerService/");

        Uri[] baseAdresses = { httpbaseAddress };

        myServiceHost = new ServiceHost(typeof(CustomerServiceLibrary.CustomerService));
        myServiceHost.AddServiceEndpoint(typeof(CustomerServiceLibrary.ICustomerService), new WSDualHttpBinding(), httpbaseAddress);

        ServiceDescription serviceDesciption = myServiceHost.Description;

        foreach (ServiceEndpoint endpoint in serviceDesciption.Endpoints)
        {

            Console.WriteLine("Endpoint - address:  {0}", endpoint.Address);
            Console.WriteLine("         - binding name:\t\t{0}", endpoint.Binding.Name);
            Console.WriteLine("         - contract name:\t\t{0}", endpoint.Contract.Name);
            Console.WriteLine();

        }

        myServiceHost.Open();
        Console.WriteLine("Press enter to stop.");
        Console.ReadKey();

        if (myServiceHost.State != CommunicationState.Closed)
            myServiceHost.Close();

    }

} 
```

在客户端应用程序中创建了一个 DuplexChannel 工厂实例这是代码。

> ```
>  private void Window_Loaded(object sender, RoutedEventArgs e)
>     {
>        EndpointAddress address = new EndpointAddress(new   Uri("http://localhost:8087/CustomerService"));
>         WSDualHttpBinding wsDualBinding = new WSDualHttpBinding();
>         DuplexChannelFactory<ICustomerServiceAsync> client = new    DuplexChannelFactory<ICustomerServiceAsync>(new InstanceContext(this), wsDualBinding, address);
>         App.channel = client.CreateChannel(); 
> ```

```
 } 
```

现在我的问题是如何调用

*   开始获取所有客户
*   EndGetAllCustomer

我的服务方法。

帮助我.... 非常感谢提前...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T21:33:16.017

你需要：

```
 InstanceContext instanceContext = new InstanceContext(YOUR_OBJECT_IMPLMENTS_CALLBACK); 
```

和

```
using (App.channel as IDisposable)
{
    App.channel.YOUR_METHOD_HERE();
} 
```

从 [这个](http://social.msdn.microsoft.com/forums/en-US/wcf/thread/30b99fe0-aefb-4cd0-bad5-aa5da7a0a43b)例子：

```
endPointAddr = "net.tcp://" + textBox2.Text + ":8000/FIXMarketDataHub";
                NetTcpBinding tcpBinding = new NetTcpBinding();
                tcpBinding.TransactionFlow = false;
                tcpBinding.Security.Transport.ProtectionLevel = System.Net.Security.ProtectionLevel.EncryptAndSign;
                tcpBinding.Security.Transport.ClientCredentialType = TcpClientCredentialType.Windows;
                tcpBinding.Security.Mode = SecurityMode.None;

                EndpointAddress endpointAddress = new EndpointAddress(endPointAddr);

                Append("Attempt to connect to: " + endPointAddr);

                InstanceContext instanceContext = new InstanceContext(??);

                IMarketDataPub proxy = DuplexChannelFactory<IMarketDataPub>.CreateChannel(instanceContext,tcpBinding, endpointAddress);

                using (proxy as IDisposable)
                {
                    proxy.Subscribe();
                    Append("Subscribing to market data");                    
                } 
```

另请参阅[微软示例](http://msdn.microsoft.com/en-us/library/ms576164.aspx)

# android - Typeface.createFromAsset NullPointerException - 仅有时

> ID：15611031
> 
> 赞同：1
> 
> 时间：2013-03-25T09:04:24.830
> 
> 标签：android, assets, android-inflate

在我的开始活动中，我调用`FontFactory.init(getApplicationContext());`将 Context 设置为 FontFactory 类。

我也有扩展的类，`TextView`并且在这个 TextView 的构造函数中有`setTypeface(FontFactory.Fonts.ROBOTO_LIGHT.getFont());`. 因此，文件中的字体在首次需要时加载，而不是在启动期间加载。

问题是**只有有时，而不是每次都会**出现**启动错误**和应用程序崩溃：

> InflateException: Binary XML file line .. - 错误膨胀类 LayoutWithExtendedTextView
> 
> 由字体 nativeCreateFromAsset、createFRomAsset 和 FontFactory.loadFont(FontFactory.java:46) 中的 NullPointerException 引起

第 46 行是`return Typeface.createFromAsset(assetManager, fontEnum.getPath());`

我的字体工厂类：

```
public final class FontFactory {

    public enum Fonts {
        ROBOTO_CONDENSED("fonts/Roboto-Condensed.ttf"), ROBOTO_LIGHT(
                "fonts/Roboto-Light.ttf"), ROBOTO_MEDIUM(
                "fonts/Roboto-Medium.ttf"), ROBOTO_REGULAR(
                "fonts/Roboto-Regular.ttf");

        private String path;
        private Typeface loadedFont = null;

        private Fonts(String path) {
            this.path = path;
        }

        public String getPath() {
            return path;
        }

        public void setLoadedFont(Typeface font) {
            this.loadedFont = font;
        }

        public Typeface getFont() {
            if (loadedFont == null) {
                this.loadedFont = FontFactory.loadFont(this);
            }
            return loadedFont;
        }
    }

    private static final String TAG = "FontFactory";
    private static AssetManager assetManager;

    public static void init(Context context) {
        assetManager = context.getAssets();
    }

    private static Typeface loadFont(FontFactory.Fonts fontEnum) {
        return Typeface.createFromAsset(assetManager, fontEnum.getPath());
    }
} 
```

加载资产时是否有一些延迟？

谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-09-05T10:32:45.043

方法 createFromAsset调用**nativeCreateFromAsset** **，**它是本机 C++ 代码。

```
static JNINativeMethod gTypefaceMethods[] = {
{ "nativeCreate",        "(Ljava/lang/String;I)I", (void*)Typeface_create },
{ "nativeCreateFromTypeface", "(II)I", (void*)Typeface_createFromTypeface },
{ "nativeUnref",              "(I)V",  (void*)Typeface_unref },
{ "nativeGetStyle",           "(I)I",  (void*)Typeface_getStyle },
{ "nativeCreateFromAsset",    "(Landroid/content/res/AssetManager;Ljava/lang/String;)I",
                                       (void*)Typeface_createFromAsset },
{ "nativeCreateFromFile",     "(Ljava/lang/String;)I",
                                       (void*)Typeface_createFromFile }
}; 
```

通过代码挖掘，我发现了以下**Typeface_createFromAsset**的实现。

```
static SkTypeface* Typeface_createFromAsset(JNIEnv* env, jobject,
                                        jobject jassetMgr,
                                        jstring jpath) {

NPE_CHECK_RETURN_ZERO(env, jassetMgr);
NPE_CHECK_RETURN_ZERO(env, jpath);

AssetManager* mgr = assetManagerForJavaObject(env, jassetMgr);
if (NULL == mgr) {
    return NULL;
}

AutoJavaStringToUTF8    str(env, jpath);
Asset* asset = mgr->open(str.c_str(), Asset::ACCESS_BUFFER);
if (NULL == asset) {
    return NULL;
}

return SkTypeface::CreateFromStream(new AssetStream(asset, true));
} 
```

该方法在以下两种情况下返回 null：

*   一、提供的资产管理器为空
*   其次，它无法从文件系统创建负载资产。

此外，[仅针对某些人阅读问题“无法制作原生字体”](https://stackoverflow.com/questions/12766930/native-typeface-cannot-be-made-only-for-some-people/)，该问题可能提供有关该问题的最完整信息（不值得在此处复制/粘贴）

# jquery - 覆盖 KendoUI 自动完成选择的值

> ID：15611035
> 
> 赞同：1
> 
> 时间：2013-03-25T09:04:55.463
> 
> 标签：jquery, kendo-ui, kendo-grid

如何覆盖获取用户选择或输入的值并将其放入触发输入的函数？

例如我的数据源是：

```
[
    {
        id: 1,
        name: "Tim"
    },
    {
        id: 2,
        name: "Bob"
    }
] 
```

我希望自动完成功能返回：

```
<span class="my-class">Tim</span> 
```

而不仅仅是`Tim`

我将它用作我的 KendoUI Grid 中单元格的编辑器，所以一旦不再编辑单元格，它的 HTML 就像这样：

```
<td role="gridcell"><span class="my-class">Tim</span></td> 
```

* * *

这是网格列的编辑器：

```
function partNumberScanner(container, options)
{
  partId = options.model.id;
  var autoC = $('<input class="k-input data-value-field="id" k-textbox part-sniffer" data-bind="value:' + options.field + '"/>')
  autoC.appendTo(container);
  autoC.kendoAutoComplete({
    dataTextField: "idealForm",
    dataValueField: "id",
    delay: 50,
    dataSource: {
      serverFiltering: true,
      transport: {
        read: {
          url: ROOT+"part/fetch-parts",
          type: "POST",
          dataType: "json"
        }
      },
      error: function(e) {
        alert(e.errorThrown+"\n"+e.status+"\n"+e.xhr.responseText) ;
      },
      schema: {
        id: "id",
        idealForm: "idealForm",
        manufacturer: "manufacturer"
      }
    },
    minLength: 5,
    filter: "contains",
    placeholder: "Start typing...",
    //template: '#= "<li class=\'k-item\' role=\'option\' data-manufacturer=\'"+manufacturer+"\'>"+idealForm+"</li>" #',
    select: function(e)
    {
      matchedPartData = this.dataItem(e.item.index());
      manufacturer = matchedPartData.manufacturer;
    },
    change: function(e) {
     // selectedPart = this.value();
      $.each(partData, function(i, v){
        if(partId == v.id)
        {
          targetId = i ;
          return false
        }
      })
      partData[targetId].manufacturer = manufacturer;
      grid.dataSource.sync();

    }
  });
} 
```

问题是`change`在单元格仍处于编辑模式时调用回调，因此我需要更改从`change`.

* * *

我正在制作用户输入零件编号的东西，如果发现零件以用户输入的内容开头，它们会显示在自动完成中并且可以选择。

输入值并且网格单元格离开编辑模式后，需要将引导弹出窗口放置在单元格中的值上。

希望我已经解释得足够好。

* * *

我之前尝试过类似的方法，但仍然无法正常工作。我有：

```
template: "<span data-content=''>#= partNumber #</span>" 
```

我需要做的是，一旦做出选择，就会进行 AJAX 调用，它会带回放入单元格的数据内容属性中的数据。

* * *

```
change: function(e) {
...
options.model.set(options.field, '<span class="part-intel">'+this.value()+'</span>');
grid.dataSource.sync();
$.ajax({
          url: ROOT+'part/partAnalysis',
          async: false,
          success: function(data)
          {
            element = container.find('span.part-intel');
            /*element.popover({
            html: true,
            content: data
          })*/
            alert(element.html()) // Shows undefined
           // element.popover('show');
          }
        })
}) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-25T12:34:52.840

要设置值，您应该使用`value`函数。`change`从事件处理程序内部执行此操作是：

```
change: function(e) {
    e.sender.value("New Value");
} 
```

**编辑**因为在您的情况下，您可以访问行模型，因为在编辑器功能`partNumberScanner`中您收到它，`options`您可以简单地执行以下操作：

```
change: function(e) {
    options.model.set(options.field, "New Value");
} 
```

# php - 如何仅允许上传 .doc 文件？

> ID：15611047
> 
> 赞同：1
> 
> 时间：2013-03-25T09:05:28.640
> 
> 标签：php, upload, doc

好吧，这是我的代码，但是当我尝试上传 doc 文件时，响应是“无效文件”.....非常感谢。顺便说一句，我的第二个问题涉及将上传文件重命名为所需格式“实际时间 + 原始标题”$date。

```
<?php
$datum = Date("j/m/Y/H/i/s", Time());
echo($date);

$allowedExts = array("doc");
$extension = end(explode(".", $_FILES["file"]["name"]));
if ((($_FILES["file"]["type"] == "application/msword"))
&& ($_FILES["file"]["size"] < 2000000)
&& in_array($extension, $allowedExts))
{
if ($_FILES["file"]["error"] > 0)
{
echo "Return Code: " . $_FILES["file"]["error"] . "<br>";
}
else
{    
echo "Upload: " . $_FILES["file"]["name"] . "<br>";
echo "Type: " . $_FILES["file"]["type"] . "<br>";
echo "Size: " . ($_FILES["file"]["size"] / 1024) . " kB<br>";
echo "Temp file: " . $_FILES["file"]["tmp_name"] . "<br>";
if (file_exists("uploaded_papers/" . $_FILES["file"]["name"]))
  {
  echo $_FILES["file"]["name"] . " already exists. ";
  }
else
  {
  move_uploaded_file($_FILES["file"]["tmp_name"],
  "uploaded_papers/" . $_FILES["file"]["name"]);
  echo "Stored in: " . "uploaded_papers/" . $_FILES["file"]["name"];
  }
  }
  }                                          
  else
  {
  echo "Invalid file";
  }
  ?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-25T09:40:06.787

试试这个，看看这是否适合你

```
 <?php

        $datum = Date("j/m/Y/H/i/s", Time());
        echo($date);
        $allowedExts = array("doc","docx");
        $extension = array_pop(explode(".", $_FILES["file"]["name"]));

        if ((($_FILES["file"]["type"] == "application/msword"))
        && ($_FILES["file"]["size"] < 2000000)
        && in_array($extension, $allowedExts))
        {
        if ($_FILES["file"]["error"] > 0)
        {
        echo "Return Code: " . $_FILES["file"]["error"] . "<br>";
        }
        else
        {    
            echo "hello";
        echo "Upload: " . $_FILES["file"]["name"] . "<br>";
        echo "Type: " . $_FILES["file"]["type"] . "<br>";
        echo "Size: " . ($_FILES["file"]["size"] / 1024) . " kB<br>";
        echo "Temp file: " . $_FILES["file"]["tmp_name"] . "<br>";
        if (file_exists("uploaded_papers/" . $_FILES["file"]["name"]))
          {
          echo $_FILES["file"]["name"] . " already exists. ";
          }
        else
          {
            //changed file name 
            $file_name = time()."_".$_FILES['file']['name'];
          move_uploaded_file($_FILES["file"]["tmp_name"],
          "uploads/" .$file_name);
          echo "Stored in: " . "uploaded_papers/" .$file_name;
          }
          }
          }                                          
          else
          {
          echo "Invalid file";
          }
          ?> 
```

变化

1.  使用 array_pop 而不是 end。
2.  将要上传的文件名更改为 currenttimestamp_orignalname.doc

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-25T09:11:16.447

改变这个：

```
$extension = end(explode(".", $_FILES["file"]["name"])); 
```

至：

```
$extension = array_pop(explode(".", $_FILES["file"]["name"])); 
```

Array_pop 给出数组的最后一个元素。

关于 Word 文档的正确 MIME 类型：http: [//fileext.com/faq/office_mime_types.php](http://filext.com/faq/office_mime_types.php)

```
.doc
application/msword
.docx
application/vnd.openxmlformats-officedocument.wordprocessingml.document 
```

所以我会去做这样的事情：

```
$allowedMimes = array( "application/msword" , "application/vnd.openxmlformats-officedocument.wordprocessingml.document" , "application/vnd.ms-word");

if ($_FILES["file"]["size"] < 2000000
&& in_array($_FILES["file"]["type"], $allowedMimes)) 
```

要查看上传文件的 MIME 类型，`echo $_FILES["file"]["type"];`请查看它不是图像。请发回 mimetype，以便我们查看“正常”文档是什么。用您自己的结果更新了 allowedMimes 数组。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-03-25T09:39:35.363

你为什么不做类似的事情

```
$extension = explode(".", $_FILES["file"]["name"]);

if($extension[1]=='doc' || $extension[1]=='docx'){
  ///begin uploads
}else{
   ///fail message
} 
```

# curl - 术语“卷曲”是什么意思

> ID：15611049
> 
> 赞同：-5
> 
> 时间：2013-03-25T09:05:30.627
> 
> 标签：curl, asana

在 Asana 开发者指南中，每个请求都提到了关键字“curl”是什么意思？如果我想发送相同的请求以获取 java/javascript 中的所有工作区，那么请求参数是什么。

curl --request PUT -u : [https://app.asana.com/api/1.0/workspaces/1337](https://app.asana.com/api/1.0/workspaces/1337) \ -d "name=Everyone%27s Favorite Workspace"

在 java 中。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-25T09:07:21.210

> cURL 是一个计算机软件项目，提供了一个库和命令行工具，用于使用各种协议传输数据。cURL 项目产生两个产品，libcurl 和 cURL。它于 1997 年首次发布。

资料来源：[维基百科](http://en.wikipedia.org/wiki/CURL)

# c++ - 带有额外“：”或“-”的文件名 c++

> ID：15611057
> 
> 赞同：2
> 
> 时间：2013-03-25T09:06:05.043
> 
> 标签：c++, visual-c++

我想创建一个带有“：”，“-”之类的字符的文件名。我尝试使用以下代码将日期和时间附加到我的文件名中。

```
Str.Format(_T("%d-%d-%d-%d:%d:%d.log"),systemTime.wDay ,systemTime.wMonth ,systemTime.wYear,systemTime.wHour,systemTime.wMinute,systemTime.wSecond);

std::wstring NewName=filename.c_str() + Str;

MoveFileEx(oldFilename.c_str(), NewName.c_str(), 2 ) 
```

MoveFileEx 因 Windows 错误代码 123（ERROR_INVALID_NAME）而失败。所以我认为问题出在我的新文件名上，其中包含“：”和“-”

谢谢，

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-25T09:07:52.247

实际上，您不能`:`在 windows 文件名中使用该字符。用别的东西代替它。如果程序依赖于名称，则修改它以解释替代分隔符。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-25T09:36:04.570

“我想创造……”不，你不想。不同的系统对文件名中的合法内容施加不同的约束。大多数现代系统确实允许相当长的名称（比如超过 100 个字符），并且不会对它们强加格式（尽管 Windows 仍然会处理最后一个之后的任何内容`.`，如果有的话，特别是，所以你要小心那里）。如果您不关心可移植性，您可以简单地遵循您所在系统的规则：在 Unix 下，no `'/'`or `'\0'`（但我也会避免 Unix shell 认为元字符的任何内容：any in `()[]{}<>!$|?*" \`and the至少反引号），并且我会避免以`'-'`. Windows 正式禁止`<>:"/\|?*`; 在这里，我`%`，它可以被解释为一个shell变量），我还要小心，如果有一个`.`，最后`.something`对系统是有意义的。（如果文件名已经以类似的结尾`.log`，那么在此之前的附加点没有问题。）

在大多数情况下，最好保守一点。你永远不知道你将来会使用什么系统。在我自己的工作中（在 Linux 下通过创建带有冒号的文件名而被烧毁，并且以后在 Windows 下甚至无法删除它），我几乎采用了只允许 '-'、'_' 和字母数字字符（以及仅在大小写上有所不同的禁止文件名 - 我认识的不止几个人只会对字母使用小写字母）。这比 Unix 和 Windows 限制得多，但谁知道未来会怎样。（对于我过去工作过的一些系统来说，这也太自由了。但是，这些希望永远消失。）

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-26T06:57:46.973

Windows 不允许创建少数特殊字符作为文件名。

但是，要使用当前日期和时间创建文件名，您可以使用此格式。

```
CTime CurrentTime( CTime::GetCurrentTime() );
SampleFileName = CurrentTime.Format( _T( " %m_%d_%y %I_%M_%S" ) ) + fileExtension; 
```

更多时间格式化，请参考[这里](http://msdn.microsoft.com/en-us/library/b6989cds%28v=vs.71%29.aspx)

# javascript - 无法通过猫鼬工作获得简单的passportjs

> ID：15611058
> 
> 赞同：0
> 
> 时间：2013-03-25T09:06:07.883
> 
> 标签：javascript, node.js, express, passport.js

我正在使用[passport-local-mongoose](https://github.com/saintedlama/passport-local-mongoose)并尝试使用存储库中的[登录示例设置一个简单的工作示例。](https://github.com/jaredhanson/passport-local/tree/master/examples/login)但是我遇到了问题，我收到一条错误消息，上面写着“错误：无法将用户序列化到会话中”。

我已经在[gist](https://gist.github.com/arunk/5235528)中重现了这个问题。（要运行 gist，您需要在 user.js 文件中替换 mongodb 服务器 IP 和数据库名称，并使用`username`和`password`值对 /register 端点进行 POST。）

在其中，您将看到端点“/setval”和“/getval”，它们在会话中设置值并检索它，表明会话支持正在工作。端点“/authtest”给出未经授权的响应，即使在对“/login”进行 POST 之后也是如此。端点 '/authdebug' 提供了更多信息 - 上面提到的错误。

有人对发生的事情有任何想法吗？我已经没有东西可以尝试了。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-25T11:03:36.400

我认为这`passport.authenticate`应该只用在实际用于验证用户的路由上；在你的情况下，这将是`/login`路线。

对于您要确保用户先前已通过身份验证的路由，例如`/authtest`，您需要一个中间件来检查用户是否已通过身份验证：

```
function ensureAuthenticated(req, res, next) {
  if (req.isAuthenticated()) {
    return next();
  }
  res.redirect('/login'); // or your login page
}
// and
app.get('/authtest', ensureAuthenticated, function(req, res) {
 ...
}); 
```

该中间件的替代方案是[connect-ensure-login](https://github.com/jaredhanson/connect-ensure-login)。

# html - 从 CSS 更改 SVG 文本的 x 值

> ID：15611064
> 
> 赞同：5
> 
> 时间：2013-03-25T09:06:30.100
> 
> 标签：html, css, svg

无论如何可以从我的样式表中更改此文本的 x 值吗？

< text class="jqx-chart-axis-text" x="7" y="11" width="50" height="37" cursor="default">70000

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2017-05-18T10:39:15.130

您可以使用`transform: translateX(5px)`更改文本元素的 x 坐标。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-25T09:37:41.890

您可以间接影响它，但`x`还不是 CSS 属性。

例如，您可以`text-anchor`使用 CSS 进行影响。将来应该希望也可以为`transform`in svg 内容设置样式，但并非所有浏览器都支持 atm。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-25T09:22:24.227

用于**样式**的 CSS不会**改变**值。在这种情况下，您需要使用 Javascript：

```
document.getElementById("jqx-chart-axis-text").setAttribute("x", "10"); 
```

演示：http: [//jsfiddle.net/5sh6X/](http://jsfiddle.net/5sh6X/)

# java - CXF WebService 测试期间 JAXB 中的 SAXParseException

> ID：15611068
> 
> 赞同：0
> 
> 时间：2013-03-25T09:07:00.477
> 
> 标签：java, xml, jaxb, wsdl, cxf

我是 JAXB 的新手。为我提供了一个 wsdl 文件，我使用*apache-cxf*实用程序*wsdl2java*获得了一些 java 类，我从中实现了我的 web 服务。但是当我在我的服务上开始客户端服务器测试时，我得到以下异常：

```
мар 25, 2013 12:19:36 PM org.apache.cxf.wsdl.EndpointReferenceUtils createSchema
WARNING: SAXException for newSchema()
org.xml.sax.SAXParseException; src-import.1.1: The namespace attribute 'http://www.aaa.com/bbb/ccc/ddd' of an <import> element information item must not be the same as the targetNamespace of the schema it exists in.
    at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
    at org.apache.xerces.util.ErrorHandlerWrapper.error(Unknown Source)
    at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
    at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
    at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
    at org.apache.xerces.impl.xs.traversers.XSDHandler.reportSchemaError(Unknown Source)
    at org.apache.xerces.impl.xs.traversers.XSDHandler.constructTrees(Unknown Source)
    at org.apache.xerces.impl.xs.traversers.XSDHandler.parseSchema(Unknown Source)
    at org.apache.xerces.impl.xs.XMLSchemaLoader.loadSchema(Unknown Source)
    at org.apache.xerces.impl.xs.XMLSchemaLoader.loadGrammar(Unknown Source)
    at org.apache.xerces.impl.xs.XMLSchemaLoader.loadGrammar(Unknown Source)
    at org.apache.xerces.jaxp.validation.XMLSchemaFactory.newSchema(Unknown Source)
    at org.apache.cxf.wsdl.EndpointReferenceUtils.createSchema(EndpointReferenceUtils.java:698)
    at org.apache.cxf.wsdl.EndpointReferenceUtils.getSchema(EndpointReferenceUtils.java:743)
    at org.apache.cxf.binding.soap.interceptor.SoapHeaderInterceptor.handleMessage(SoapHeaderInterceptor.java:107)
    at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:271)
    at org.apache.cxf.endpoint.ClientImpl.onMessage(ClientImpl.java:800)
    at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.handleResponseInternal(HTTPConduit.java:1590)
    at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.handleResponse(HTTPConduit.java:1488)
    at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.close(HTTPConduit.java:1307)
    at org.apache.cxf.io.CacheAndWriteOutputStream.postClose(CacheAndWriteOutputStream.java:50)
    at org.apache.cxf.io.CachedOutputStream.close(CachedOutputStream.java:229)
    at org.apache.cxf.transport.AbstractConduit.close(AbstractConduit.java:56)
    at org.apache.cxf.transport.http.HTTPConduit.close(HTTPConduit.java:622)
    at org.apache.cxf.interceptor.MessageSenderInterceptor$MessageSenderEndingInterceptor.handleMessage(MessageSenderInterceptor.java:62)
    at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:271)
    at org.apache.cxf.endpoint.ClientImpl.doInvoke(ClientImpl.java:530)
    at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:463)
    at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:366)
    at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:319)
    at org.apache.cxf.frontend.ClientProxy.invokeSync(ClientProxy.java:96)
    at org.apache.cxf.jaxws.JaxWsClientProxy.invoke(JaxWsClientProxy.java:133)

.............
INFO: Schema for: http://www.globe.com/warcraft/wsdl/amax
<?xml version="1.0" encoding="utf-8"?><xs:schema xmlns:tns="http://www.aaa.com/bbb/ccc/ddd" xmlns:xs="http://www.w3.org/2001/XMLSchema" targetNamespace="http://www.aaa.com/bbb/ccc/ddd" version="1.0">
<xs:import namespace="http://www.aaa.com/bbb/ccc/ddd"/>
........... 
```

为什么会生成这个中间 XML，它会自行导入？可以以某种方式取消此导入标签的出现吗？我想，原因可能在于最初的 wsdl，或者可能是一些错误。

提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-06-04T08:45:03.163

问题是因为在我生成的 ProxyServiceImpl 类中，我在 @WebService 注释中缺少一个***wsdlLocation ：***

```
@javax.jws.WebService(
                  serviceName = "ServiceName",
                  portName = "ServicePort",
                  targetNamespace = "http://www.aaa.com/bbb/ccc/ddd",
                  wsdlLocation = "path_to_wsdl",
                  endpointInterface = "ProxyService_class") 
```

当我添加它时，一切正常。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-25T13:38:11.013

正如例外所暗示的

org.xml.sax.SAXParseException；src-import.1.1：元素信息项的命名空间属性“ [http://www.aaa.com/bbb/ccc/ddd](http://www.aaa.com/bbb/ccc/ddd) ”不得与其所在架构的targetNamespace相同。

更改目标名称空间并尝试参考[这个](http://cs.au.dk/~amoeller/WWW/webservices/wsdlexample.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-12-17T14:20:27.240

您对 wsdlLocation 的回答对我有所帮助，但由于我还不能发表评论，所以我只会添加更多信息。作为一个选项，也可以修改 pom.xml 并在那里添加 wsdlLocation

```
<wsdlOption>
    <wsdl>${basedir}/src/main/resources/cxf/webservice.wsdl</wsdl>
    <wsdlLocation>classpath:cxf/webservice.wsdl</wsdlLocation>
<wsdlOption> 
```

# android - 没有菜单按钮的虚拟设备

> ID：15611070
> 
> 赞同：1
> 
> 时间：2013-03-25T09:07:07.073
> 
> 标签：android, avd

我找到了这个答案：“[在没有菜单按钮的情况下启动 ICS 模拟器](https://stackoverflow.com/questions/8468810/start-ics-emulator-without-menu-button)”，但最新的 AVD 管理器 GUI（v21.1）中不存在“硬件”属性列表。

如何在最新版本（21.1）的 AVD 管理器中创建没有菜单按钮的 ICS 模拟器？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-25T09:12:23.857

在新版本的 UI 中，您必须转到`Device Definitions`选项卡（`Android Virtual Device Manager`窗口内）来配置虚拟硬件。一旦您按照自己喜欢的方式设置了设备定义，您就可以`Create AVD...`根据该定义进行设置。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-25T09:12:24.327

您需要在“设备定义”下创建一个新设备，在那里您可以设置几个设置。然后根据您的自定义设备创建一个 avd。

# php - PHP 和 SQL 复选框

> ID：15611072
> 
> 赞同：0
> 
> 时间：2013-03-25T09:07:13.377
> 
> 标签：php, sql

我编写了一个表单，允许在我的 SQL 表中输入复选框，我将复选框设置为变量。

我想要的是当我显示表单时，它应该再次显示带有初始输入是或否输入的值的复选框。

```
<input type="checkbox" name="basic_inter" id="basic_inter" value="<? echo   
$rows['basic_inter']; ?>"> 
```

如果我以这种方式使用它，它不会显示复选框的值。显示复选框的最佳方式是由于表格是 Var 还是我将其回显到屏幕的方法？

```
// Connect to server and select database.
mysql_connect("$host", "$username", "$password")or die("cannot connect"); 
mysql_select_db("$db_name")or die("cannot select DB");

// get value of id that sent from address bar
$id=$_GET['id'];

// Retrieve data from database 
$sql="SELECT * FROM $tbl_name WHERE company_name='$query'";
$result=mysql_query($sql);
$rows=mysql_fetch_array($result);
?>
  <form name="form" method="post" action="control_adminupdateresellered.php">
  <input type="hidden" name="company_name" value="<?=$query?>" /> 
```

然后这是我使用的一些回显代码，其他没有完全包含在内，因为它们只是文本

```
<input type="checkbox" name="basic_inter" id="basic_inter" value="<? echo 
$rows['basic_inter']; ?>">
          </strong></div>              </td>
        <td width="81"><div align="right"><strong>LBS Add-on:<br>
          R500-00 P/M
        </strong></div></td>
        <td width="66"><div align="left"><strong>
          <input type="checkbox" name="lbs_inter" id="lbs_inter" value="<? echo  
$rows['lbs_inter']; ?>"> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-25T09:24:09.110

请试试这个

```
 <input type="checkbox" name="lbs_inter" id="lbs_inter" value="<? echo  
$rows['lbs_inter']; ?>" <?php if($rows['lbs_inter']=='yes'){ echo "checked";}?>> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-25T09:13:57.033

[http://www.w3schools.com/tags/att_input_checked.asp](http://www.w3schools.com/tags/att_input_checked.asp) 做一个 if 语句来回显检查 basic_inter 是否为 1？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-25T10:48:36.727

我只是将 mysql default_value 设置为“否”，当插入该值时，该值将更改为“是”，并且在输出时我会这样写->`<input type="checkbox" name="lbs_inter" id="lbs_inter" value="<? echo $rows['lbs_inter']; ?>" <?= (isset($rows['lbs_inter']) && $rows['lbs_inter']=='yes'? 'checked="checked"' : '' )?> />`

# highcharts - 升级到 Highstock 1.3

> ID：15611076
> 
> 赞同：0
> 
> 时间：2013-03-25T09:07:27.410
> 
> 标签：highcharts, highstock

我已经升级到最新的 Highstock 1.3。

我已经为我的系列启用`dataLabels`了`borderRadius`。

在 IE 中，图表以额外的高度呈现数据标签。

这可以在 Highchart 小提琴[链接](http://jsfiddle.net/gh/get/jquery/1.7.2/highslide-software/highcharts.com/tree/master/samples/highcharts/plotoptions/series-datalabels-box/)上看到。

快照：

![在此处输入图像描述](../Images/fac88a96767f301b9638344935787c92.png)

此外，数据标签的默认位置已在 latest 中更改`Highstock 1.3`。现在它呈现的值比早期版本高一点。

我在用

`dataLabels: { enabled: true, y: -3 }`

为`spline`系列。这是[示例](http://jsfiddle.net/mhardik/2AsaP/)。

快照：

![在此处输入图像描述](../Images/eac393707e727da3b4a0d4057c768750.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T10:42:11.397

确实它看起来像一个错误，所以我在这里报告了它[https://github.com/highslide-software/highcharts.com/issues/1669](https://github.com/highslide-software/highcharts.com/issues/1669)

# eval - 解析错误：语法错误，eval 行中出现意外的“图像”（T_STRING）

> ID：15611077
> 
> 赞同：0
> 
> 时间：2013-03-25T09:07:30.267
> 
> 标签：eval, exiftool, php-parse-error

我正在尝试创建一个页面来读取图像的元数据并允许用户对其进行编辑并将其保存到同一图像中。

在搜索互联网后，我发现 exiftool 作为解决方案，但我只能将其作为命令行而不是页面中的库。

我有这个代码： `eval('$metadata=' . `exiftool.exe -php -q $imagePath`); foreach ($metadata[0] as $key => $value) { if ($metadata[0][$key]!=$_POST[$key]){ if ($_POST[$key]=="") $_POST[$key]=" "; //if metadata is not set, than create an empty metadata eval('$metadata=' . `exiftool.exe "-$key=$_POST[$key]" $imagePath`); } }`

我收到了这个错误：

解析错误：语法错误，E:\xampp\htdocs\imgdata\index.php(30) 中的意外“图像”(T_STRING)：第 1 行的 eval() 代码

我试图用其他类似“和”替换`，但没有运气。我想念什么？关于如何做的更好的主意吗？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-02T17:54:41.487

我有同样的问题，但使用 Centos OS，并在这里找到了解决方案：

[在 apache 中使用子进程时出现“找不到命令”错误](https://stackoverflow.com/questions/8544953/command-not-found-error-when-using-subprocess-in-apache/8549087#8549087)

可能不适用于 Windows，但值得一看。基本上，答案建议指定完整的 exiftool 路径，而不是简单的 exiftool.exe。

如果这没有帮助，请查看 Apache 错误日志文件中的错误。

# javascript - 如何将本地 CSV 文件解析为电话间隙中的数组？

> ID：15611078
> 
> 赞同：0
> 
> 时间：2013-03-25T09:07:35.230
> 
> 标签：javascript, html, cordova, jquery-mobile

我的项目中有一个 CSV 文件，我想使用 jquery mobile 或 javascript 解析它。我想将我的本地 CSV 文件解析为原始数组并将其显示在列表视图中。我已经尝试过 CSVtoArray 和其他类似的功能，但它没有帮助。

如果您能帮助我解决我的问题，将不胜感激 - 可能是一些示例代码或一些有用的链接。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-05T19:02:23.843

我能想到的最简单的方法是：将行拆分为一个数组：`rows = csv.split('\n')`然后将每一行拆分为另一个数组（在循环中）：`row = rows[c].split(',')`

非常详细的算法，参考这个答案：[Javascript code to parse CSV data](https://stackoverflow.com/questions/1293147/javascript-code-to-parse-csv-data#answer-1293163)

# php - javascript如何传递多个参数？

> ID：15611080
> 
> 赞同：-4
> 
> 时间：2013-03-25T09:07:43.687
> 
> 标签：php, javascript

```
<?php 
   $a ='a'; 
    $b='b'; 
?>
<script type="text/javascript">
    var a=<?php json_encode($a); ?>;
    var b=<?php json_encode($b);   ?>;
    window.parent.clear(a,b); 
</script> 
```

这个 clear 函数已经在 js 中定义了。当我传递一个变量时，它会完美，但有 2 个变量会失败。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-25T09:11:21.413

即使使用单个参数，我也看不出它是如何工作的，因为您的`json_encode`调用是在 JavaScript 代码中，而不是在 PHP 中。

这是最小更改版本：

```
<?php 
    $a ='a'; 
    $b='b'; 
?>
<script type=text/javascript>
    var a=<?php echo json_encode($a)?>; 
    var b=<?php echo json_encode($b)?>;   
    window.parent.clear(a,b); 
</script> 
```

但您也可以这样做以避免创建这些全局变量`a`和`b`JavaScript 变量：

```
<?php 
    $a ='a'; 
    $b='b'; 
?>
<script type=text/javascript>
    window.parent.clear(
        <?php echo json_encode($a); ?>,
        <?php echo json_encode($b); ?>
    );
</script> 
```

（我假设这些值是占位符，`'a'`而`'b'`不是您的实际数据。）

或者，如果您使用短标签：

```
<?php 
    $a ='a'; 
    $b='b'; 
?>
<script type=text/javascript>
    window.parent.clear(
        <?=json_encode($a)?>,
        <?=json_encode($b)?>
    );
</script> 
```

...但很多人没有，看起来你不是。

* * *

旁注：您的`script`标签无效（尽管如果大多数浏览器接受它，我不会感到惊讶），因为您在属性值周围没有引号`type`，并且该值包含`/`. （如果值中包含 a，则不能省略引号`/`。）例如：

```
<script type=text/javascript>
<!-- Error here--^        --> 
```

要么在值周围加上引号：

```
<script type="text/javascript"> 
```

...或者`type`完全关闭：

```
<script> 
```

...因为 JavaScript 是`script`HTML5 的官方默认设置，并且始终是所有浏览器（甚至 IE）的默认设置。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-25T09:13:50.830

How are you trying to run that code?...i don't understand so clearly because I see that you're trying to use php code directly with javascript?

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-25T09:47:38.950

尝试这个：

```
<?php 
  $a = array('firstVal' => 'a'); 
  $b= array('secondVal' => 'b'); 
?>
<script type="text/javascript">
   var a=<?php echo json_encode($a); ?>;
   var b=<?php echo json_encode($b);   ?>;
   console.log(a.firstVal);
   console.log(b.secondVal);
   window.parent.clear(a,b);
</script> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-25T09:16:56.160

也许，你打算传递一个像这样的对象。

```
<?php 
    $a = array('a','b');
?>
<script type=text/javascript>
    var a=<?=json_encode($a)?>; 
    clear(a); 
</script> 
```

如果您使用：

```
<?php 
    $a ='a'; 
    $b='b'; 
?> 
```

你不能 json_encode `$a`&`$b`因为那些不是数组。

# python - MySQL-Python & Django 1.5.0：没有名为 mysql.base 的模块错误

> ID：15611085
> 
> 赞同：0
> 
> 时间：2013-03-25T09:07:55.200
> 
> 标签：python, mysql, django, ubuntu, mysql-python

我正在尝试用 Django 创建数据库表`python manage.py syncdb`并得到一个错误`Error was: No module named mysql.base`。我知道网上有很多这样的问题，但没有一个能帮助我。

蟒蛇版本：`2.7.3 (default, Aug 1 2012, 05:16:07) \n[GCC 4.6.3]`.

Django 版本：`(1, 5, 0, 'final', 0)`.

MySQL-Python 版本：`MySQL_python-1.2.4b4-py2.7-linux-i686`.

系统信息：`Linux Marlon 3.5.0-26-generic #42~precise1-Ubuntu SMP Mon Mar 11 22:19:42 UTC 2013 i686 athlon i386 GNU/Linux`

MySQL版本：`mysql Ver 14.14 Distrib 5.5.29, for debian-linux-gnu (i686) using readline 6.2`

我的`setting.py`文件：

```
...
DATABASES = {
  'default': {
    'ENGINE': 'django.db.backends.mysql', # Add 'postgresql_psycopg2', 'mysql', 'sqlite3' or 'oracle'.
    'NAME': 'a',                      # Or path to database file if using sqlite3.
    # The following settings are not used with sqlite3:
    'USER': 'a',
    'PASSWORD': 'a',
    'HOST': 'a',                      # Empty for localhost through domain sockets or '127.0.0.1' for localhost through TCP.
    'PORT': '',                      # Set to empty string for default.
  }
}
... 
```

错误代码：

```
`Traceback (most recent call last):
File "manage.py", line 10, in <module>
execute_from_command_line(sys.argv)
File "/usr/local/lib/python2.7/dist-packages/django/core/management/__init__.py", line 453, in execute_from_command_line
utility.execute()
File "/usr/local/lib/python2.7/dist-packages/django/core/management/__init__.py", line 392, in execute
self.fetch_command(subcommand).run_from_argv(self.argv)
File "/usr/local/lib/python2.7/dist-packages/django/core/management/__init__.py", line 272, in fetch_command
klass = load_command_class(app_name, subcommand)
File "/usr/local/lib/python2.7/dist-packages/django/core/management/__init__.py", line 77, in load_command_class
module = import_module('%s.management.commands.%s' % (app_name, name))
File "/usr/local/lib/python2.7/dist-packages/django/utils/importlib.py", line 35, in import_module
__import__(name)
File "/usr/local/lib/python2.7/dist-packages/django/core/management/commands/syncdb.py", line 8, in <module>
from django.core.management.sql import custom_sql_for_model, emit_post_sync_signal
File "/usr/local/lib/python2.7/dist-packages/django/core/management/sql.py", line 9, in <module>
from django.db import models
File "/usr/local/lib/python2.7/dist-packages/django/db/__init__.py", line 40, in <module>
backend = load_backend(connection.settings_dict['ENGINE'])
File "/usr/local/lib/python2.7/dist-packages/django/db/__init__.py", line 34, in __getattr__
return getattr(connections[DEFAULT_DB_ALIAS], item)
File "/usr/local/lib/python2.7/dist-packages/django/db/utils.py", line 93, in __getitem__
backend = load_backend(db['ENGINE'])
File "/usr/local/lib/python2.7/dist-packages/django/db/utils.py", line 45, in load_backend
raise ImproperlyConfigured(error_msg)
django.core.exceptions.ImproperlyConfigured: 'django.db.backends.mysql' isn't an available database backend.
Try using 'django.db.backends.XXX', where XXX is one of:
u'oracle', u'postgresql_psycopg2', u'sqlite3'
Error was: No module named mysql.base` 
```

并且`import MySQLdb`在交互式外壳中工作正常。

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-25T09:16:07.907

似乎您的 Django 安装有问题：它列出了 下可用的包`django.db.backends`，并且由于某种原因没有提及`mysql`。我会尝试完全删除 Django 并重新安装它。

（我也对你在 dist-packages 下有 Django 1.5 感到困惑。这是发行版提供的包，而 Django 1.5 太新了，还不能进入任何发行版。也许你有两个冲突的安装？）

# perl - 通过 ref 将参数传递给递归函数

> ID：15611086
> 
> 赞同：1
> 
> 时间：2013-03-25T09:07:58.380
> 
> 标签：perl, function, recursion, parameters, matrix

我正在尝试在 Perl 中执行递归函数。所以，我必须使用引用传递参数。我已经尝试了各种方式，但它不起作用。

请注意，这`@b`是一个矩阵。

错误重复出现并且是`Use of uninitialized value in numeric eq (==) at LCS.pl line ...`。我不知道它是指`$i`or`$j`还是`@b`。

这是代码：

```
$#ARGV+1 == 2 || die "USAGE: [PROGRAM] [v] [w]\n";

my $one = shift;
my $two = shift;
my @v = split("",$one);
my @w = split("",$two);
my $n = $#v+2;
my $m = $#w+2; 
my @b;

#### DO VARIOUS OPERATIONS...

&printLCS(\$n,\$m,\@b);

##################################################
sub printLCS
{
    my $i = shift;
    my $j = shift;
    my $arrayref = shift;
    my @b=@$arrayref;

    if( ($$i == 0) || ($$j == 0) ) {
        return;
    }

    if($b[$$i][$$j] == 3) { #diag
        &printLCS(\$i-1,\$j-1,\@b);
        print $v[$$i];
    }
    elsif($b[$$i][$$j] == 1) { #up
        &printLCS(\$i-1,\$j,\@b);
    }
    else { # left
        &printLCS(\$i,\$j-1,\@b);
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-25T09:27:29.180

我不太清楚任何东西是如何进入数组@b（或我重做的$b）的，但这更接近你想要的......我想。对其中一行的简短评论......

```
printLCS($i-1,$j-1,[@$b]); 
```

[@$b] 需要更多解释。$b 是一个数组引用，引用数组的单个标量 @$b 将引用转换为实际数组。所以你可以说@x=@$b 然后使用像 $x[1] 这样的数组语法来获取复制的 $b ref'd 数组中的元素。方括号是一个数组构造函数，用于复制方括号中的内容。我这样做的原因是我假设您希望在递归中传递数组的唯一副本，以便每个帧都是单独的。请参阅**perldoc perldsc**以获得对这类数据结构的良好处理。

```
$#ARGV+1 == 2 || die "USAGE: [PROGRAM] [v] [w]\n";

my $one = shift;
my $two = shift;
my @v = split("",$one);
my @w = split("",$two);
my $n = $#v+2;
my $m = $#w+2; 
my @b;

#### DO VARIOUS OPERATIONS...

printLCS($n,$m,\@b);

##################################################
sub printLCS
{
my $i = shift;
my $j = shift;
my $arrayref = shift;
my $b=$arrayref;

if(($i==0)||($j ==0))
{
    return;
}
if($b->[$i]->[$j] == 3) #diag
{
    printLCS($i-1,$j-1,[@$b]);
    print $v[$i];
}
elsif($b->[$i]->[$j] == 1) #up
{
    printLCS($i-1,$j,[@$b]);
}
else # left
{
    printLCS($i,$j-1,[@$b]);
}
} 
```

# php - PHP preg_match_all 的问题并且没有完全按照想要的方式返回

> ID：15611087
> 
> 赞同：2
> 
> 时间：2013-03-25T09:08:02.943
> 
> 标签：php, regex, preg-match-all

只是在做一个简单的模式匹配。虽然下面以某种方式返回了我想要的。它不是我想要的方式。例如结果输出：

一二三（）

一

而不是我想要的：one();two();three()

不知道为什么它忽略了 ; 的内爆分隔符。返回结果时。也不是为什么它在下一行包含“一个”这个词。它应该只匹配其列表中的单词，并添加检查以查看该单词是否使用 ()。因此留下诸如“一”“二”“三”之类的词。然而匹配 'one()' 或 'one(somestuff)'。

我在 preg_match_all 中使用了 # 作为分隔符。新线 $str 的回声，使其不会在此网站上创建滚动条。使用 echo 来格式化结果不会出现在最终代码中。只是使用它们来查看代码是如何返回的。

非常感谢任何有关如何解决此问题的帮助。我可能在代码方面有点愚蠢。

在“编辑 2”上。如果它可以作为更好的理解。我试图弄清楚如何捕获可能传递给 eval 的命令和/或函数。我正在尝试设计一个扫描“函数 val1(val2)”或“val1(val2)”的正则表达式。这也将合并 'val1' 和 '(val2)' 之间的任何空格。确定它是否是实际的命令/功能。据我所知，你可以做一些类似'die("die")' 或'die ("die")' 的事情。希望它在空白处合并两个单词，然后进行评估。仍在玩耍，试图为自己弄清楚这一点，并阅读。'Edit 2' 也匹配了大部分单词，但没有捕捉到所有单词。我也不希望它使 ) 作为表达式的可选匹配项。IE 它将匹配 'val1(val2)' 和 'val1 (val2)' ，当甚至可能没有任何东西要检查时。然后仅在遇到时针对白名单运行看到的潜在命令。这样用户提交'$you =“你好吗”;' 将通过评估权。而 'me($you)' 将被捕获并根据白名单进行评估。当甚至可能没有任何东西要检查时。然后仅在遇到时针对白名单运行看到的潜在命令。这样用户提交'$you =“你好吗”;' 将通过评估权。而 'me($you)' 将被捕获并根据白名单进行评估。

简单地说：要扫描潜在的命令 - 即“val1(val2)”，将其与白名单进行检查，然后对其进行评估。只有系统命令会被列入白名单。用户命令将被拒绝。即“preg_match_all”与用户创建的“myfunc”。

```
echo $str = " \$me = \"me\"; \$you = \"you\"; \$us = \$me . \$you; echo \$us;
            echo \$you; \$t = \"one() two() three()\"; ";

if (preg_match_all('#(one|two|three)\(.*\)#i',$str,$m)){
    echo "\n---\n";
        foreach ($m as $k => $v){
            echo $k . "=" . implode(";",$v)."\n";
        }
    echo "---\n";
} 
```

* * *

**编辑 1：**

```
$str = " \$me = \"me\"; \$you = \"you\"; \$us = \$me . \$you;
       echo \$us; echo \$you; \$t = \"one(two) two(1) three(2one)\"; ";

preg_match_all('#((one|two|three)\([\s\S]*?\))#i',$str,$m);
$t = implode(';',$m[1]);
if ($t != null))echo $t;
else echo "empty"; 
```

* * *

**编辑 2：**

```
$str = " \$me = \"me\"; \$you = \"you\"; \$us = \$me . \$you; echo \$us;
       echo \$you; \$t = \"eval($me)  one($two) two($1) three($2one)}meme1(you2) 
       this(that) die (\"meohmy\") function myfunc($me) empty() \"; ";

preg_match_all('#(([\w+]*)\([\s\S]*?\))#i',$str,$m);
    $t = implode(';',$m[1]);
        if ($t != null){
            echo $t;
            // check a whitelist for allowed commands vs ones captured here
        }else eval($str); 
```

*未命中：'死（“meohmy”）'*

*匹配：'die($this)' 和 'die($this'。而不是只匹配 'die($this)' 而忽略 'die($this'。*

* * *

**编辑3：**

```
$str = " \$me = \"me\"; \$you = \"you\"; \$us = \$me . \$you; echo \$us;
       echo \$you; \$t = \"eval($me)  one($two) two($1) three($2one)}meme1(you2) 
       this(that) die (\"meohmy\") these function myfunc($me) empty()\"; ";

$cmd = preg_match_all('#(([\w+])*([\s\S])\([\s\S]*?\))#i',$str,$m);
$t = implode(';',$m[1]);
    if ($t != null){
        echo "Result : " . $t . " [" . $cmd . "]\n";
        // check a whitelist for allowed commands vs ones captured here
    }else eval($str); 
```

*匹配：具有畸形结构的潜在命令。即'this($one that($one)'返回'this($one that($one)'。而不是只返回'that($one)'并排除'this($one'。到底哪个是'不是很关键，因为它会返回一个未列在白名单上的匹配项。并且 eval 的执行将停止。*

* * *

**编辑4：**

有关包含的代码，请参见上文。仅提供正则表达式。

```
$cmd = preg_match_all('#(\w*)\s*\(.*?\)#i',$str,$m); 
```

*位更清洁的回报：完全匹配数组和单词数组。尽管仍在研究如何让它在格式错误的比赛中停止。即匹配'func（val1）'但不包括'func（val1'。因为它不是正确的模式。目前正则表达式将匹配'func（val1 somefunc（val2）'。因为它只注意到它没有命中'）'在第一场比赛上。所以它会扫描直到匹配，然后将它们全部啮合在一起。而不是看到它的格式错误并排除它。*

想法：我读到的很多内容都指出，在 eval 之前，通过正则表达式为函数解析字符串是无效的。并且应该明确调用所需的功能。我认为这些人可能已经忘记了[function_exists](http://php.net/manual/en/function.function-exists.php)。或者比我的设计更好的正则表达式。可以有效地整理数据以传递给 function_exists。希望能及时让我的正则表达式变得比现在更好。所以最终的想法是。正则表达式函数的字符串，整理它们，然后使用 function_exists 扫描它们。然后毕竟，也许是消毒，评估它。

*示例返回：eval($me) 将输出到两个数组中：eval($me) 和 eval。*

我的编辑应该表明我很乐意提供帮助。虽然我也在努力为自己弄清楚。所以不仅仅是你能为我做的问题=）。我寻求理解，这样我就可以为自己做点什么。

**输入 ：**

eval($me) one($two) two($1) three($2one)}meme1(you2) this(that) die (\"meohmy\") function myfunc($me Holycrackers batman empty()

**输出：**

```
array (
  0 => 
  array (
    0 => 'eval($me)',
    1 => 'one($two)',
    2 => 'two($1)',
    3 => 'three($2one)',
    4 => 'meme1(you2)',
    5 => 'this(that)',
    6 => 'die   (\\"meohmy\\")',
    7 => 'myfunc($me holycrackers batman empty()',
  ),
  1 => 
  array (
    0 => 'eval',
    1 => 'one',
    2 => 'two',
    3 => 'three',
    4 => 'meme1',
    5 => 'this',
    6 => 'die',
    7 => 'myfunc',
  ),
) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-25T09:15:25.683

我不确定我的问题是否正确，但这是你所期望的吗？

```
<?php
$str = " \$me = \"me\"; \$you = \"you\"; \$us = \$me . \$you; echo \$us;
            echo \$you; \$t = \"one() two() three()\"; ";
$matches = array();
preg_match_all('/((one|two|three)\([\s\S]*?\))/i',$str,$matches);

echo implode(';',$matches[1]); 
```

# android - 带有 Adob e AIR 的 Android 上的 Google SSO

> ID：15611088
> 
> 赞同：0
> 
> 时间：2013-03-25T09:08:05.697
> 
> 标签：android, apache-flex, air, single-sign-on

我正在开发一个 flex/air 移动应用程序。谁能指出我提供 google sso/login 的 .ane （本机扩展名），或任何其他说明如何使用 google 登录验证 android 用户？我只需要电子邮件、名字、姓氏

谢谢你

# c++ - 如何动态确定用于参数化模板的类型并进行比较

> ID：15611089
> 
> 赞同：2
> 
> 时间：2013-03-25T09:08:09.523
> 
> 标签：c++, types, type-conversion

如果基于一个或多个类型参数创建类模板，如何在运行时查询这些类型？

例如：

```
template <typename T>
class Foo {
 public:
  typedef T TypeT;

  Foo() {}

  // assume i is in range
  void set(size_t i, T value) { store[i] = value; }
  T get(size_t i) { return store[i]; }

  void fast_copy(T* dest) { memcpy(dest, store, 100 * size_of(T)); }

  // ugly public data member
  T store[100];
};

void main() {
  Foo<double> fd;
  Foo<int> fi;

  // this is not C++!
  if (fd::TypeT == fi::TypeT) {

    // do a fast copy since the types match
    fd.fast_copy(fi.store);

  } else {

    // do a slower item by copy since the types don't match
    // and let the runtime perform the type conversion:
    for (size_t i = 0; i < 100; ++i) {
      fi.set(i, static_cast<fd::TypeT>(fd.get(i)));
    }
  }
} 
```

我想这样做的原因是因为我有包含浮点数、双精度数或整数数组的运行时对象，我想将它们复制到不同类型的数组中，但我不知道这些类型将是什么它们是在运行时确定的。在上面的示例中，用于实例化 fi 和 fd 的类型是已知的，但在完整示例中，fi 和 fd 将引用多态类，该类可以是任何基本数值类型的数组的容器。

该机制旨在成为一组返回浮点数、双精度或整数数组的函数与另一组需要浮点数、双精度或整数数组的函数之间的运行时可配置*桥梁*，并且类型可能相同也可能不同桥的两边。桥是不平凡的，它还做了一些其他的事情，但需要将一个类型的数组（或数组的容器）放入其中，并在另一个类型中生成另一种类型的数组 an（或数组的容器）最后，在类型相同和不同的情况下。

注意：这与我的[上一个问题](https://stackoverflow.com/questions/15606632)有关，如果这个问题更有意义，将替换它。

编辑：这里有更多关于我正在尝试做的事情的信息。

我有一个系统，*它的一侧*由一组*返回*数值结果的函数组成。有些返回单个浮点数或双精度数，有些返回单个整数，有些修改（因此“返回”）浮点数、双精度数或整数数组。有一大堆。我想将每一个（实际上，只是返回的数据，函数无关紧要）与我称之为“源”对象的东西相关联——这可能是`Source<T>`，其中 T 是数字类型。尽管我可能需要`SourceScalar<T>`并`SourceVector<T>`处理单个值或数组。无论如何，这个对象是“桥”的入口点。每个`Source<T>`对象存储在 Source 对象的异构集合中，并由唯一的“Source Key”引用。例如，一个这样的与源相关的函数可能会返回一个由 32 个浮点组成的数组，代表波表振荡器的最新输出。另一个可能会返回一个包含 32 个双精度数的数组，表示超过 32 个样本的峰值检测器输出。

*在系统的另一端*，我还有另一组功能。这些都以数值为参数。有些需要单个浮点数或双精度数，有些需要单个 int，有些需要相同的数组。这些也有一大堆。我有一个我称之为“Dest”对象的东西 -`Dest<T>`或者可能`DestScalar<T>`，`DestVector<T>`如上所述。该对象存储了一个与这些函数之一绑定的 std::function 包装器，因此它可以在必要时调用该函数。每个 Dest 对象都存储在 Dest 对象的异构集合中，并由唯一的“Dest Key”引用。例如，一个这样的函数可能是一个数字滤波器，它期望接收大小为 32 的数组，但不是浮点数的双精度数。

现在，在运行时，需要一个更高级别的系统（实际上由用户控制）来任意关联任何 Source 与任何 Dest。用户提供两个键 - source 和 dest - 系统将一侧的数据与另一侧的功能“连接”起来。所以在上面的例子中，它可能会尝试将波表振荡器的 32-float 阵列连接到数字滤波器的 32-double 阵列参数。在任何时候，这种关联也可能会被删除。如果来自峰值检测器的 32-double 阵列连接到数字滤波器的 32-double 阵列参数，那么它会希望传输/复制尽可能快，因为这些阵列属于同一类型。

**编辑 2：**这是一些可以编译的代码，是我可以构造的最简单的情况，它创建两个 Source 和 Dest 对象的集合，并动态地尝试“连接”它们。前两个调用`source_collection[1]->set(...)`正常工作，但后两个没有，最终调用 BaseDest 基类成员函数`set_item`，而不是`Dest<T>`. 这也使用了 typeid() 如果查询的类型相同则返回静态指针的观察，并比较这些指针的*值*以确定类型匹配。这可能是不安全的，最好只使用枚举。

*这一切让我感觉非常可怕——一定有更好的方法吗？*

```
#include <vector>
#include <typeinfo>
#include <cassert>
#include <boost/shared_ptr.hpp>
#include <boost/function.hpp>

class Source;    // fwd
class BaseDest;  // fwd

typedef boost::shared_ptr<Source>   SourcePtr;
typedef boost::shared_ptr<BaseDest> BaseDestPtr;

// target function that takes an array of doubles
void target_func_vd(double *array, size_t len) {
  for (size_t i = 0; i < len; ++i) {
    assert(array[i] == i);
  }
}

// target function that takes an array of floats
void target_func_vf(float *array, size_t len) {
  for (size_t i = 0; i < len; ++i) {
    assert(array[i] == i);
  }
}

// base class for Dest
class BaseDest {
public:
  BaseDest() {}
  virtual ~BaseDest() {}

  virtual void set(float *array, size_t len)  { /* not implemented, but can't be pure */ };
  virtual void set(double *array, size_t len) { /* not implemented, but can't be pure */ };

  virtual void set_item(size_t index, double item) { /* not implemented, but can't be pure */ };
  virtual void set_item(size_t index, float item) { /* not implemented, but can't be pure */ };
  virtual void finished(size_t len) = 0;

  virtual const std::type_info* get_type_info() const = 0;
private:
};

template <typename T>
class DestVector : public BaseDest {
public:
  typedef boost::function<void (T *, size_t)> Callable;

  explicit DestVector(Callable callable) : callable_(callable) { }

  virtual void set(T *array, size_t len) { callable_(array, len); }
  virtual void set_item(size_t index, T item) { buffer_[index] = item; }
  virtual void finished(size_t len) { callable_(buffer_, len); }

  virtual const std::type_info* get_type_info() const { return &typeid(T); };
private:
  Callable callable_;
  T buffer_[256];
};

// 'set' is overloaded by array type
class Source {
public:
  Source() {}
  void connect(const BaseDestPtr& dest) { dest_ = dest; }

  void set(float *array, size_t len) {
    if (dest_->get_type_info() == &typeid(double)) {
      // convert to double
      for (size_t i = 0; i < len; ++i) {
        dest_->set_item(i, array[i]);  // calls the base member function
      }
      dest_->finished(len);
    } else if (dest_->get_type_info() == &typeid(float)) {
      dest_->set(array, len);
    }
  }

  void set(double *array, size_t len) {
    if (dest_->get_type_info() == &typeid(float)) {
      // convert to float
      for (size_t i = 0; i < len; ++i) {
        dest_->set_item(i, array[i]);  // calls the base member function
      }
      dest_->finished(len);
    } else if (dest_->get_type_info() == &typeid(double)) {
      dest_->set(array, len);
    }
  }

private:
  BaseDestPtr dest_;
};

void main() {

  // test arrays
  float float_array[256];
  for (size_t i = 0; i < 256; ++i) {
    float_array[i] = static_cast<float>(i);
  }

  double double_array[256];
  for (size_t i = 0; i < 256; ++i) {
    double_array[i] = static_cast<double>(i);
  }

  // collection of Sources
  std::vector<SourcePtr> source_collection;

  SourcePtr s0(new Source());
  source_collection.push_back(s0);

  SourcePtr s1(new Source());
  source_collection.push_back(s1);

  // collection of Dests
  std::vector<BaseDestPtr> dest_collection;

  BaseDestPtr t0(new DestVector<float>(&target_func_vf));
  dest_collection.push_back(t0);

  BaseDestPtr t1(new DestVector<double>(&target_func_vd));
  dest_collection.push_back(t1);

  // create and invoke connections
  source_collection[0]->connect(dest_collection[0]);
  source_collection[0]->set(float_array, 256);  // this should end up passing float_array to target_func_vf, and it does

  source_collection[0]->connect(dest_collection[1]);
  source_collection[0]->set(double_array, 256); // this should end up passing double_array to target_func_vd, and it does

  source_collection[1]->connect(dest_collection[0]);
  source_collection[1]->set(double_array, 256); // this should end up passing double_array to target_func_vf, but it doesn't

  source_collection[1]->connect(dest_collection[1]);
  source_collection[1]->set(float_array, 256); // this should end up passing float_array to target_func_vd, but it doesn't
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-25T09:16:39.933

您可以使用重载。将此添加到您的班级

```
void copy(T & dest)
{
   fast_copy(&dest):
}

template<class U>
void copy(U & dest)
{
   for (size_t i = 0; i < 100; ++i) {
      dest.set(i, static_cast<TypeT>(get(i)));
} 
```

PS：更多的c++方式是定义copy-constructor或者assignment operator

编辑：如果你想要动态 mke 的东西更多态

```
struct BaseDest
{
   virtual void assign(const double * v, size_t cnt) = 0;
   virtual void assign(const float * v, size_t cnt) = 0;
//etc
}

template<class T>
struct DestImpl
{
   void assign(const double * v, size_t cnt)
   {
       assign_impl(v, cnt);
   }
   void assign(const float * v, size_t cnt)
   {
       assign_impl(v, cnt);
   }

   template<class U>
   void assign_impl(const U * v, size_t cnt)
   {
      for (size_t i = 0; i < cnt; ++i) {
         set(i, static_cast<T>(v[i])));
   }

   template<>
   void assign_impl<T>(const T * v, size_t cnt)
   {
      fast_copy(v, cnt);
   }
//stuff
}

struct Source
{
//blah
   template<class T>
   void set(const T * v, size_t cnt)
   {
     dest_->set(v, cnt);
   }

//blah
} 
```

# facebook-apps - 正文中的元标记

> ID：15611098
> 
> 赞同：0
> 
> 时间：2013-03-25T09:08:24.413
> 
> 标签：facebook-apps, meta-tags

我写了页面[http://www.consumerguide.com](http://www.consumerguide.com)。facebook 调试器抱怨正文中有一个元标记。[http://developers.facebook.com/tools/debug/og/object?q=http%3A%2F%2Fwww.consumerguide.com%2F](http://developers.facebook.com/tools/debug/og/object?q=http%3A%2F%2Fwww.consumerguide.com%2F)

但是在查看页面源代码时，body 标记内没有这样的元标记。

为了消除此错误，我需要更改什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-25T09:41:20.580

文档类型不允许“head”中的元素“noscript”。将所有“noscript”标签移动到“body”中。这应该有效。

[请参阅http://validator.w3.org](http://validator.w3.org/check?uri=http://www.consumerguide.com)上的第一个错误。

# forms - 单击按钮时Java提交表单

> ID：15611100
> 
> 赞同：0
> 
> 时间：2013-03-25T09:08:38.490
> 
> 标签：forms, submit

我想在用户单击按钮时运行该功能：activity.insertAvailability。此时我正在对函数中的变量进行硬编码。

当我从表中运行该功能时，该功能完美运行。现在我想在用户单击保存按钮时运行该功能。

这是代码

```
HTMLCode+="<br /><div align='center'><table class='TableBorder'>";

HTMLCode+="<tr class='TableData2'><td colspan='2'><br /><input class=SolidButton                  type='submit' value='Save' onClick='activity.insertAvailability(userSession.getDAOLayer().getConnection(), 34,  2503,'AM'', 1, 'test'');' /><br /><br /></td></tr>";

HTMLCode+="</table></div><br /><br />"; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-25T09:14:40.347

“activity.insertAvailability”是一个java函数吗？如果是，您应该通过 Ajax 调用来实现。你可以从[这里](http://javapapers.com/ajax/getting-started-with-ajax-using-java/)开始。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-25T09:20:10.087

您在这里有一些拼写错误：

改变

```
onClick='activity.insertAvailability(userSession.getDAOLayer().getConnection(), 34,  2503,'AM'', 1, 'test'');' 
```

和

```
onClick=\"activity.insertAvailability(userSession.getDAOLayer().getConnection(), 34,  2503,'AM', 1, 'test');\" 
```

# c# - 观看多个文件夹以获取大量传入文件的最佳方法是什么

> ID：15611105
> 
> 赞同：1
> 
> 时间：2013-03-25T09:09:04.763
> 
> 标签：c#, winforms

我需要查看 14 个不同的文件夹（每个文件夹都在同一个父文件夹中）以进行文件下载活动。这些文件夹中的每一个都将每秒接收 3-4 次 50k 文件。

我需要处理这些文件并将它们存储在不同的位置。我的问题是，监视传入文件的最优雅的方法是什么？

我应该使用 14`FileSystemWatcher`个“监视”文件夹并使用从它们触发的事件来进行处理吗？

或者计时器在这里会更有用吗？我可以使用一个计时器，然后遍历所有 16 个文件夹及其文件。

两种方法都感觉笨重，有没有其他我没有想到的方法？

任何想法和想法都非常感谢，谢谢。

编辑：刚刚意识到我可以代替使用十六个`FileSystemWatcher`实例，我可以只使用一个并将`IncludeSubdirectories`属性设置为 TRUE。

这个观察者是否能够捕捉到每个传入的文件？每秒大约有 3 x 14 = 42 个传入文件。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-25T09:31:17.737

当然，您可以使用`FileSystemWatcher`和类似的解决方案。

但是，您的问题似乎比简单地看文件更深。*您应该停下来问问自己——每秒*创建 3-4 个文件是否正确？

这个问题只是乞求使用某种数据库来代替。几乎任何称职的数据库都可以轻松处理这种负载。而且，您将能够使用数据库触发器作为您的即时通知机制。

# github - 将 github 项目导入 bitbucket

> ID：15611108
> 
> 赞同：1
> 
> 时间：2013-03-25T09:09:18.800
> 
> 标签：github, bitbucket

我按照本教程将我的 github 项目导入到 bitbucket：

[教程将 github 项目导入 bitbucket](https://confluence.atlassian.com/display/BITBUCKET/Importing+code+from+an+existing+project#Importingcodefromanexistingproject-UploadingorpushingaGitorMercurialprojecttoanemptyrepository)

工作得很好，除了我想导入我所有的分支，所以我做了：

```
git branch -a 
```

结果我得到了这个：

```
master
planB
stuffOnTheNewBranch
remotes/origin/HEAD -> origin/master
remotes/origin/master
remotes/origin/pageflipStuff
remotes/origin/planB
remotes/origin/stuffOnTheNewBranch 
```

全部推送后，当我检查bitbucket时，只有`master`, `planB`,`stuffOnTheNewBranch`被导入...如何推送所有分支？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-25T09:53:36.497

您将推送所有*本地*分支，而不是`remotes`命名空间中声明的分支。

如果要推送来自远程的所有分支，则`origin`必须首先为每个分支创建一个本地分支`origin`。
为此，请参阅“[将所有远程 git 分支跟踪为本地分支](https://stackoverflow.com/questions/379081/track-all-remote-git-branches-as-local-branches/6300386#6300386)”。

# jquery - 与其他表单元素重叠时，jQuery datepicker 不起作用

> ID：15611116
> 
> 赞同：4
> 
> 时间：2013-03-25T09:10:00.300
> 
> 标签：jquery, jquery-ui, jquery-mobile

我将 jQuery UI datepicker 与 jQuery mobile 一起使用。当 jQuery datepicker 显示并与其他表单元素重叠时，它不会选择选定的日期。相反，它选择背景表单元素。有什么办法可以解决这个问题吗？

```
<table width="100%"><tr><td><label for="txtAnkomstLS">Date 1:</label>  </td><td><label for="txtAvresaLS">Date 2:</label>   </td></tr><tr><td>

<input type="text" id="txtAnkomstLS" data-mini="true" /></td><td>             
<input type="text" id="txtAvresaLS" data-mini="true" /></td></tr></table>

<label for="select-choice-3" class="select">Field 1:</label>
            <table width="100%">                
            <tr><td width="50%">        <select name="select-choice-1" id="select-choice-1" data-mini="true"  data-theme="c">
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>

            </select></td><td width="50%">      <select name="select-choice-2" id="select-choice-2" data-mini="true"  data-theme="c">
                <option value="0">0</option>
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>

            </select></td></tr></table>

<label for="select-choice-3" class="select">Field 2:</label>
            <table width="100%">                
            <tr><td width="50%">        <select name="select-choice-3" id="select-choice-3" data-mini="true"  data-theme="c">
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>

            </select></td><td width="50%">      <select name="select-choice-4" id="select-choice-4" data-mini="true"  data-theme="c">
                <option value="0">0</option>
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>

            </select></td></tr></table>

         <label for="search">Textinput:</label>
         <input type="text" id="search" value=""  data-mini="true" /> 
```

```
$(function() {

    $( "#txtAnkomstLS" ).datepicker({ 
   });

    $( "#txtAvresaLS" ).datepicker({ 

    });

}); 
```

[http://jsfiddle.net/wQRDx/4/](http://jsfiddle.net/wQRDx/4/)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-25T10:40:21.367

一个肮脏的解决方案是使用覆盖

```
$.datepicker.setDefaults({
    beforeShow: function ( input, inst ) {
        setTimeout(function(){
            inst.dpDiv.css({
                zIndex: 10000
            });
        })
    }
}); 
```

演示：[小提琴](http://jsfiddle.net/arunpjohny/4AgVn/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-25T09:36:16.297

这是您的问题的解决方法，它将小部件的 z-index 设置为最大，因此可以选择它。

```
$.datepicker.setDefaults({
    beforeShow: function ( input, inst ) {
        inst.dpDiv.css({
            zIndex: function(index, value) {
                return $.ui.dialog.maxZ + 1;
            }
        });
    }
}); 
```

希望能帮助到你 ：）

# ios - IOS开发垂直按钮

> ID：15611118
> 
> 赞同：0
> 
> 时间：2013-03-25T09:10:03.973
> 
> 标签：ios

在我的项目中，我想做一个垂直按钮，文本也是垂直的，，，有人帮忙吗？！

完全一样的东西

![在此处输入图像描述](../Images/a49a8d28c1962e7732ad70c206ef176f.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-25T09:13:20.520

Use this code to rotate the button

```
btn.transform = CGAffineTransformMakeRotation(-M_PI / 2); 
```

And

```
btn.transform = CGAffineTransformMakeRotation(M_PI / 2); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-25T09:13:13.300

You can instead rotate a button by using :

```
yrButton.transform = CGAffineTransformMakeRotation(90.0*M_PI/180.0); 
```

This will give you 90 Degree rorate.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-25T09:13:20.247

try like this i hope it'l helps you,

```
btn.transform= CGAffineTransformMakeRotation(DEGREES_TO_RADIANS(270)); 
```

and define

```
#define DEGREES_TO_RADIANS(x) (M_PI * x / 180.0) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-25T09:13:49.883

You can use [CGAffineTransform](https://developer.apple.com/library/mac/#documentation/graphicsimaging/reference/CGAffineTransform/Reference/reference.html) for this purpose, it does the rotation according to your choice

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-25T09:15:18.570

您可以通过转换来实现这一点。

顺时针旋转：

```
button.transform = CGAffineTransformMakeRotation(90.0*M_PI/180.0); 
```

和逆时针：

```
button.transform = CGAffineTransformMakeRotation(-90.0*M_PI/180.0); 
```

第一个数字（90.0 或 -90.0）指定旋转按钮的角度（以度为单位）。

# java - 编写复习线程的最佳方法

> ID：15611120
> 
> 赞同：0
> 
> 时间：2013-03-25T09:10:07.123
> 
> 标签：java, multithreading

您好，我有一些配置要在可配置的时间跨度后刷新。这样做或遵循的最佳方法是什么就足够了？

```
@Override
    public void run()
    {
        try
        {
            while(true){
                if (isRefreshNeeded) {
                    refresh()
                }
            }
        }
        catch( Exception excep )
        {
            // Log and report exception 
        }
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-25T09:10:56.947

我建议使用 Timer 类，这就是它的用途。

使用您的代码不是一个好主意，因为它会一直迭代，从而消耗 CPU 周期。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-25T09:20:44.657

尝试使用 Timer 类：

```
long initialDelay = 100; // In millis
    long delay  = 1000; // In millis

    Timer timer = new Timer("Refresher thread");
    timer.schedule(new TimerTask() {

        @Override
        public void run() {
            // code to refresh the configurations

        }
    }, initialDelay, delay); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-25T09:19:15.863

`Timer`除了使用/`TimerTask`或更现代的`ScheduledExecutorService`/方法在一段时间后刷新之外`Runnable`，您也许应该使用侦听器（又名观察者）模式在更改和刷新之间建立因果关系。如果您对发布的代码更满意，则至少应该在循环`Thread.sleep()`结束时使用。`while`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-25T09:20:04.663

java.utl.concurrent 的 ScheduledExecutorService#scheduleAtFixedRate 中存在最干净的选项之一

[这](http://docs.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/ScheduledExecutorService.html#scheduleAtFixedRate%28java.lang.Runnable,%20long,%20long,%20java.util.concurrent.TimeUnit%29)是API文档

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-25T10:32:08.950

尝试使用[http://commons.apache.org/proper/commons-configuration/](http://commons.apache.org/proper/commons-configuration/)

我相信它已经足够简化，可以轻松使用。

# sql - “ROW_NUMBER”不是可识别的函数名称

> ID：15611131
> 
> 赞同：-4
> 
> 时间：2013-03-25T09:10:54.680
> 
> 标签：sql, sql-server, tsql, sql-server-2000, row-number

我的查询：

```
select 
    row_number() over(partition by line_no order by line_NO) as orce 
from tx_hsa_summ 
```

这是我使用 over 函数时的查询，我不断收到此错误

> 消息 195，级别 15，状态 10，第 1 行
> “row_number”不是可识别的函数名称。

这是我的数据库版本

```
Microsoft SQL Server 2000 - 8.00.2305 (Intel X86) May 14 2012 16:24:50 
Copyright (c) 1988-2003 Microsoft Corporation Enterprise Edition 
   on Windows NT 5.2 (Build 3790: Service Pack 2) 
```

请帮我解决这个问题。提前致谢

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-25T09:12:31.837

SQL Server 2000中没有`ROW_NUMBER()`功能，它在 SQL Server 2005 中提供。

# android - 无需构建即可生成 debug.keystore（只有 .apk）

> ID：15611134
> 
> 赞同：0
> 
> 时间：2013-03-25T09:10:59.220
> 
> 标签：android, web

我有一个用**HTML**、**CSS**、**JS制作的****项目，在****桌面**上运行良好。它使用 Google 上的身份验证 (OAuth) 来使用 Google API，它连接到 Google Drive。

 ******现在我想在**Android**上安装我的应用程序（使用phonegap builder我可以创建.apk。）

所以我创建了一个谷歌帐户（**谷歌控制台 API**），我选择了：

*   已安装的应用程序

*   安卓

然后我需要生成**证书的 SHA-1 指纹**，但我没有**debug.keystore**文件，因为我无法通过构建项目来生成它（显然它是一个 HTML、CSS、JS 项目，所以**我不能编译它**）。

我搜索了用 Eclipse 生成 debug.keystore**但**我的项目不是 Android 项目（我试图转换它的性质但它不起作用），所以我不知道如何生成它。

**总之**：我需要生成我的项目的 debug.keystore 以便使用证书的 SHA-1 指纹在 Google 上验证我的项目。

问候

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-25T09:26:44.400

这[如何](http://cleancodedevelopment-qualityseal.blogspot.in/2012/12/first-phonegap-app-with-android-using.html)可能会有所帮助。创建项目后，将 html、css、js 替换为您的代码，确保已将它们链接好。然后从 Eclipse 中，右键单击项目并选择 android 工具 > 导出签名的应用程序项目。在下一步中，使用密码创建一个密钥库。之后，您可以保存 apk，您将拥有一个本地密钥库文件。

此外，在注册您的应用程序以获取客户端 ID 时，请确保选择已安装的应用程序和 Android。******

# javascript - 在 $.get 函数之后编辑 JSON 格式

> ID：15611135
> 
> 赞同：0
> 
> 时间：2013-03-25T09:10:59.710
> 
> 标签：javascript, jquery, html, json

我需要更改从服务器接收到的 JSON 数据的格式，我很难理解 JSON 属性并且看起来非常令人生畏。任何建议/解决方案将不胜感激。

这是接收到的数据的样子。

```
[
  {
    "date": "2006-07-01T00:00:00.000Z",
    "date_processed": "2006-06-30T17:45:25.217Z",
    "amount": 98,
    "payment_type": "Debit Order",
    "status": "Collected"
  },
  {
    "date": "2006-08-01T00:00:00.000Z",
    "date_processed": "2006-07-28T17:20:54.000Z",
    "amount": 98,
    "payment_type": "Debit Order",
    "status": "Collected"
  }
] 
```

我需要这个看起来像：

```
 "page":1,
 "total":2,
 "rows":[
  {
    "cell": {
     "date": "2006-07-01T00:00:00.000Z",
     "date_processed": "2006-06-30T17:45:25.217Z",
     "amount": 98,
     "payment_type": "Debit Order",
     "status": "Collected"
     }
  },
  {
    "cell": {
     "date": "2006-07-01T00:00:00.000Z",
     "date_processed": "2006-06-30T17:45:25.217Z",
     "amount": 98,
     "payment_type": "Debit Order",
     "status": "Collected"
     }
  }
  ] 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-25T09:13:29.470

You can simply do:

```
 var oldJSON = [{}], //your JSON from the server

 newJSON = {
     "page":1,
     "total":oldJSON.length,
     "rows":[]
 };

 for (var i = 0, dataLen = newJSON.total; i < dataLen; i = i + 1) {
      newJSON.rows[i].cell = oldJSON[i]
 } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-25T09:14:48.100

```
 var targetObject = {page: 1, total: 2, rows: []}
    yourJSON.each(function (item) {
       targetObject.rows.push({cell: item});
    }); 
```

# java - Java 和 Hibernate，如何

> ID：15611140
> 
> 赞同：0
> 
> 时间：2013-03-25T09:11:20.180
> 
> 标签：java, database, hibernate

我必须为 Java 游戏保存一些数据。我为 hibernate 找到的所有指南都假定安装了 mysql 或其他数据库管理系统。我不能假设，既然它是一个游戏，我不知道谁会安装它。有办法以编程方式创建和使用数据库吗？这是一个好的解决方案吗？

谢谢

编辑：这是一个基于桌面的游戏

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-25T09:16:51.647

您可以使用嵌入式数据库之一，例如 JavaDB（例如[Derby](http://db.apache.org/derby/)）。此数据库的支持已添加到 JRE。因此，您的所有客户都需要安装 JRE。而且您无需任何安装和其他设置即可获得完整的关系数据库。

还有其他嵌入式数据库，如[HSQLDB](http://hsqldb.org/)、[SQLite](http://www.sqlite.org/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-25T09:15:54.217

H2 是嵌入式数据库的不错选择

[http://www.h2database.com/html/main.html](http://www.h2database.com/html/main.html)

您可以像使用任何其他关系数据库一样使用它，因此它可以与 Hibernate 一起使用。但是数据库可以存储在系统上的文件中，而不是存储在另一个进程/机器中（就像在更大的数据库中一样）。

还有其他嵌入式数据库，但我对 H2 有很好的经验

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-25T09:19:40.363

我更喜欢[HSQL](http://hsqldb.org/)。它更紧凑。只需一个 jar 文件即可安装和使用。

# javascript - kendoui 下拉列表中的值没有绑定

> ID：15611147
> 
> 赞同：0
> 
> 时间：2013-03-25T09:11:56.933
> 
> 标签：javascript, jquery, kendo-ui

我正在使用 kendoui 下拉列表。我正在动态加载下拉列表中的值。我写了这样的代码

```
 $("#dropdown").kendoDropDownList({
       dataSource:
        {
            transport: {
                read:
                 {
                  url: "/Projects/Dropdown",
                  type: "POST",
                  dataType: "json"
                 }
           },
        },
        dataTextField: "type",
        dataValueField: "type",
        value: "Type2",
      }); 
```

在控制器中我定义如下：

```
 public ActionResult Dropdown(int projectid, int controlid)
    {
       var values = Context.controloptions.Where(i => i.id== id).Select(i => new {              
        type = i.value
       }).ToArray();

       return Json(values, JsonRequestBehavior.AllowGet);
    } 
```

这些值将包含一个数组： `[{type="Type1"},{type="Type2"}]`。如何通过给出值来绑定“Type2”的值。我正在添加即将到来的价值的屏幕截图。

![在此处输入图像描述](../Images/f4bf7b43978d688d3b62e467fde90d0d.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-25T10:48:22.903

要么定义`DropDownList`为：

```
$("#dropdown").kendoDropDownList({
    dataSource   : {
        transport: {
            read: {
                url     : "/Projects/Dropdown",
                type    : "POST",
                dataType: "json"
            }
        }
    },
    value: "Type2"
}); 
```

或将数据返回`[{"type":"Type1"},{"type":"Type2"}]`并定义`DropDownList`为：

```
$("#dropdown").kendoDropDownList({
    dataSource   : {
        transport: {
            read: {
                url     : "/Projects/Dropdown",
                type    : "POST",
                dataType: "json"
            }
        }
    },
    dataTextField: "type",
    dataValueField: "type",
    value        : "Type2"
}); 
```

# windows-phone-7 - wp7和wp8之间的IsolatedStorageSettings有什么区别？

> ID：15611149
> 
> 赞同：0
> 
> 时间：2013-03-25T09:12:01.497
> 
> 标签：windows-phone-7, windows-phone-8

我将一些密钥存储到`IsolatedStorageSettings`中，它们在 WP7 上都运行良好。

现在，我已将我的应用程序升级到 WP8，但使用相同的`IsolatedStorageSettings`，现在所有设置键都丢失了。

我想我在反序列化的过程中做错了`IsolatedStorageSettings`什么？有没有其他人经历过这种情况或知道解决方法？

# mysql-error-1052 - 链接查询错误代码 1052

> ID：15611151
> 
> 赞同：0
> 
> 时间：2013-03-25T09:12:07.700
> 
> 标签：mysql-error-1052

尝试在查询中将两个表等值连接在一起时，我收到错误代码 1052 Column FireStationHome in field list is ambiguous

这是我在下面使用的代码：

```
SELECT FiremanID, FiremanHomeStation,StationPhone
FROM FIRE_REPORT AS F, FIRE_STATION AS FS
WHERE F.FiremanHomeStation = FS.FiremanHomeStation
AND StationPhone ='703'; 
```

通过阅读论坛，我了解到我需要通过链接键链接第一个关系。FiremanHomeStation 是我需要运行以下方向的唯一链接键。

显示号码以“703”开头的所有消防员的 FiremanID、FiremanHomeStation 和电话号码。

使用 Boyce Codd 方法，我对以下内容进行了规范化

```
FIRE_REPORT(FireID,Alarms,Address,FiremanID,FiremanName,FiremanPhone,FiremanHomeStation,StationAddress,StationPhone,TruckID,LicensePlate) 
```

规则：

> 每个火场可以分配数名消防员
> 每个火场可以分配数辆消防车
> 每个消防员可以分配到多个
> 火场 每个消防车并分配到多个火场
> 每个消防员有一个主站
> 每个站都是唯一的
> 每个站都有一个电话号码

主键

```
FireID, FiremanID, FiremanHomeStation,TruckID

FireID -> Alarms, Address
FiremanID -> FiremanName, FiremanPhone, FiremanHomeStation
FiremanHomeStation -> StationAddress, StationPhone
TruckID -> LicensePlate 
```

FIRE_REPORT( **FireID, FiremanID, FiremanHomeStation, TruckID** )
FIRE( ***FireID*** , Alarms, Address)
FIREMAN_ID( ***FiremanID*** , FiremanName, FiremanPhone)
FIRE_STATION( ***FiremanHomeStation*** , StationAddress, StationPhone)
TRUCK( ***TruckID*** , LicensePlate)

参照完整性约束
FIRE_REPORT 中的 FireID 必须存在于 FIRE
中的 FireID 中 FIRE_REPORT 中的 FiremanID 必须存在于 FIREMAN_ID 中的 FiremanID 中
FIRE_REPORT 中的 FiremanHomeStation 必须存在于 FIRE_STATION 中的 FiremanHomeStation 中
FIRE_REPORT 中的 TruckID 必须存在于 TRUCK 中的 TruckID 中

```
create schema project_george;<br>
use project_george;<br>

CREATE TABLE FIRE   (<br>
    FireID int(3) NOT NULL,<br>
    Alarms int(1) NOT NULL,<br>
    Address varChar(25) NOT NULL,<br>
        CONSTRAINT FIRE_PK PRIMARY KEY(FireID),<br>
        CONSTRAINT FIRE_FR_FK FOREIGN KEY(FireID)<br>
        REFERENCES FIRE_REPORT(FireID)<br>
        ON UPDATE CASCADE<br>
);<br>
CREATE TABLE FIREMAN_ID (<br>
    FiremanID int(3) NOT NULL,<br>
    FiremanName varchar(25) NOT NULL,<br>
    FiremanPhone char(10) NOT NULL UNIQUE,<br>
        CONSTRAINT FI_PK PRIMARY KEY(FiremanID),<br>
        CONSTRAINT FI_FR_FK FOREIGN KEY(FiremanID)<br>
        REFERENCES FIRE_REPORT(FiremanID)<br>
        ON UPDATE CASCADE<br>
);<br>
CREATE TABLE FIRE_STATION   (<br>
    FiremanHomeStation varChar(25) NOT NULL UNIQUE,<br>
    StationAddress varChar(25) NOT NULL,<br>
    StationPhone char(10) NOT NULL,<br>
        CONSTRAINT FS_PK PRIMARY KEY(FiremanHomeStation),<br>
        CONSTRAINT FS_FR_FK FOREIGN KEY(FiremanHomeStation)<br>
        REFERENCES FIRE_REPORT(FiremanHomeStation)<br>
        ON UPDATE CASCADE<br>
);<br>
CREATE TABLE TRUCK  (<br>
    TruckID int(3) NOT NULL,<br>
    LicensePlate char(5) NOT NULL UNIQUE,<br>
            CONSTRAINT TRUCK_PK PRIMARY KEY(TruckID),<br>
            CONSTRAINT TRUCK_RC_FK FOREIGN KEY(TruckID)<br>
            REFERENCES FIRE_REPORT(TruckID)<br>
            ON UPDATE CASCADE<br>
);<br>

CREATE TABLE FIRE_REPORT    (<br>
    FireID  int(3)  NOT NULL,<br>
    FiremanID int(3) NOT NULL,<br>
    FiremanHomeStation varChar(25) NOT NULL,<br>
    TruckID int(3) NOT NULL,<br>
        CONSTRAINT FR_PK PRIMARY KEY(FireID,FiremanID,FiremanHomeStation,TruckID),<br>
        CONSTRAINT FR_F_FK FOREIGN KEY (FireID)<br>
        REFERENCES FIRE(FireID) <br>
            ON UPDATE CASCADE,<br>
        CONSTRAINT FR_FID_FK FOREIGN KEY(FiremanID)<br>
        REFERENCES FIREMAN_ID(FiremanID)<br>
            ON UPDATE CASCADE,<br>
        CONSTRAINT FR_FS_FK FOREIGN KEY(FiremanHomeStation)<br>
        REFERENCES FIRE_STATION(FiremanHomeStation)<br>
            ON UPDATE CASCADE,<br>
        CONSTRAINT FR_TRUCK_FK FOREIGN KEY(TruckID)<br>
        REFERENCES TRUCK(TruckID)<br>
            ON UPDATE CASCADE<br>
);<br><br>

INSERT INTO FIRE VALUES(100, 1, '4025 Medford dr, Annandale VA 22003');<br>
INSERT INTO FIRE VALUES(101, 2, '7031 Little River Turnpike Suite 5A
Annandale, VA 22003-5958');<br>
INSERT INTO FIRE VALUES(102, 3, '7001 Little River Turnpike, Annandale, VA 22003 ');<br>
INSERT INTO FIRE VALUES(103, 4, '8333 Little River Turnpike Annandale, VA 22003');<br>
INSERT INTO FIRE VALUES(104, 5, '1600 Pennsylvania Ave NW  Washington, DC 20500');<br><br>

INSERT INTO FIREMAN_ID VALUES(100, 'Guliza Ormuzokova', '703-221-9918');<br>
INSERT INTO FIREMAN_ID VALUES(101, 'Lex Steele', '703-911-4450');<br>
INSERT INTO FIREMAN_ID(FiremanID,FiremanName,FiremanPhone) VALUES(102, 'George Putnam', '703-222-9918');<br>
INSERT INTO FIREMAN_ID VALUES(103, 'Steven Drasner', '571-939-1234');<br>
INSERT INTO FIREMAN_ID VALUES(104, 'Judy Miller', '571-999-1234');<br>
INSERT INTO FIREMAN_ID VALUES(105, 'Lily Thai', '703-911-4451');<br><br>

INSERT INTO FIRE_STATION VALUES('Station 29', '571 Broad st
Fairfax VA 22030', '703-200-9918');<br>
INSERT INTO FIRE_STATION VALUES('Station 229', '8914 Little River Turnpike, Fairfax, VA 22031 ', '703-900-4450');<br>
INSERT INTO FIRE_STATION VALUES('Station 429', '3988 University Dr, Fairfax, VA 22030 ', '571-900-1234');<br><br>

INSERT INTO TRUCK VALUES(1, 'burn29');<br>
INSERT INTO TRUCK VALUES(2, 'burn19');<br>
INSERT INTO TRUCK VALUES(3, 'burn09');<br><br>

/************I can't figure this on out!!!*** *****/<br>
SELECT FiremanID, FiremanHomeStation,StationPhone<br>
FROM FIRE_REPORT AS F, FIRE_STATION AS FS<br>
WHERE F.FiremanHomeStation = FS.FiremanHomeStation<br>
AND StationPhone ='703';<br> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-25T09:22:11.700

FiremanHomeStation 存在于两个表中，但您没有指定要从哪个表中获得结果，这是不明确的。

```
SELECT FiremanID, FS.FiremanHomeStation,StationPhone
FROM FIRE_REPORT AS F, FIRE_STATION AS FS
WHERE F.FiremanHomeStation = FS.FiremanHomeStation
AND StationPhone ='703'; 
```

应该管用

# c# - 如何修改下拉列表以在每个项目行上都有按钮？最后一行之后的文本框？

> ID：15611154
> 
> 赞同：1
> 
> 时间：2013-03-25T09:12:18.900
> 
> 标签：c#, asp.net, custom-server-controls

我希望将 DDL 修改为在每个项目行的最右侧有一个按钮，用户可以通过单击它来删除该项目。

我还希望在最后一个项目行之后的一行中添加一个文本框，用户可以在其中输入任何内容，然后按所述行最右侧的 ADD 按钮将此项目添加到列表中。

我也想让它更新，而不必关闭并重新打开它。

* * *

我意识到这可能很难，但我正在寻找从哪里开始的指针和提示。我没有做过类似的事情。

是否可能已经存在具有此类规范的自定义控件？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-25T09:27:56.640

您可以使用 jquery 或 ajax。如果你想使用 ajax，你可以简单地使用 dropdownextender--> [http://www.asp.net/ajaxLibrary/AjaxControlToolkitSampleSite/DropDown/DropDown.aspx](http://www.asp.net/ajaxLibrary/AjaxControlToolkitSampleSite/DropDown/DropDown.aspx)

您可以配置以显示带有所需模板和事件的网格视图或面板。

# python - 检测客户端何时与 Heroku 上的 Django 和服务器发送事件断开连接

> ID：15611162
> 
> 赞同：4
> 
> 时间：2013-03-25T09:12:45.470
> 
> 标签：python, django, heroku, server-sent-events

Heroku 关于[发送流响应](https://devcenter.heroku.com/articles/request-timeout#longpolling-and-streaming-responses)的文档说：

> “如果您正在发送流式响应，例如服务器发送的事件，您需要检测客户端何时挂断，并确保您的应用服务器及时关闭连接。”

我一直在使用[django-sse](https://github.com/niwibe/django-sse)在 Django 中使用服务器发送事件在 Heroku 上进行试验。它使用一个永远循环的迭代器，从 Redis 发布/订阅通道读取消息并将它们发送到客户端：

```
def iterator(self):
    connection = _connect()
    pubsub = connection.pubsub()
    pubsub.subscribe(self.get_redis_channel())

    for message in pubsub.listen():
        if message['type'] == 'message':
            event, data = json.loads(message['data'])
            self.sse.add_message(event, data)
            yield 
```

问题是，如果客户端断开连接，我想打破这个循环，这样我就可以关闭与 Redis 的连接。如何检测客户端何时断开连接？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-11-07T02:05:38.040

我在 Heroku 上的 Scala Play2 应用程序中遇到了类似的问题，它无法检测到客户端在 close() 或刷新或关闭窗口时关闭 SSE 连接的时间。启用新的[Heroku Labs websockets 功能](https://devcenter.heroku.com/articles/heroku-labs-websockets "Heroku 网络套接字")为我解决了这个问题。

更新：

我向 Heroku 寻求支持并告诉他们我的经历。这是他们的回答。

> 嗨劳埃德，
> 
> 这是一个已知问题，您认为新的 WebSocket 端点解决了该问题是正确的。我们不打算解决现有端点中的问题，但我们最终会将 WebSocket 端点推广给更广泛的受众。
> 
> 最好的，
> 
> 杰克

# django - 在 Django 中对内部 GenericRelation 字段进行排序

> ID：15611164
> 
> 赞同：0
> 
> 时间：2013-03-25T09:12:47.250
> 
> 标签：django

我有一个模型项目：

```
class Item(models.Model):
    comments = generic.GenericRelation(Comment)
    ... 
```

我的评论模型：

```
class Comment(models.Model):
    """
    Comment object for any model which want to integrate with the comment engine
    """
    content_type = models.ForeignKey(ContentType)
    object_id = models.PositiveIntegerField()
    content_object = generic.GenericForeignKey('content_type', 'object_id')
    comment = models.TextField(max_length=512)
    user = models.ForeignKey( User )
    created_date = models.DateTimeField(auto_now_add=True) 
```

在我的模板中，我有类似的东西，我在模板上下文中将 Items 设置为 Item.objects.all()：

```
{% for item in Items %} 
     {%for comment in item.comments.all %}
          <p> comment.comment</p>
     {%endfor%}
{%endfor%} 
```

我真正想要的是评论将按每个项目的 created_date 排序。如何设置如何对内部 genericRelation 进行排序？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-25T09:18:29.647

使用模型的元类

```
class Comment(models.Model):
    # attrs
    class Meta:
        ordering = ['created_date'] 
```

或使用在您的情况下稍微冗长的经理

```
class CommentManager(models.Manager):
    def get_queryset(self):
        return super(CommentManager, self).get_queryset().order_by('created_date')

class Comment(models.Model):
    # attrs
    objects = CommentManager() 
```

有关跨关系经理的更多信息： [https ://docs.djangoproject.com/en/dev/topics/db/managers/#controlling-automatic-manager-types](https://docs.djangoproject.com/en/dev/topics/db/managers/#controlling-automatic-manager-types)

# wpf - How to Style RibbonSplitButton ItemTemplate

> ID：15611168
> 
> 赞同：2
> 
> 时间：2013-03-25T09:12:58.047
> 
> 标签：wpf, ribbon

I have a RibbonSpitButton with an ItemSource and an ItemTemplate defined in this way:

```
<RibbonSplitButton x:Name="SplitButton3DViews" 
                                   ItemsSource="{Binding items}"
                                   Label="{String Views3D}"
                                   IsCheckable="False">
    <RibbonSplitButton.ItemTemplate>
        <DataTemplate>
            <RibbonMenuItem Header="{Binding Name}" ImageSource="{Binding Icon}" Command="{Binding cmd}"/>
        </DataTemplate>
    </RibbonSplitButton.ItemTemplate>
</RibbonSplitButton> 
```

Everithing works but the graphical results is this: ![enter image description here](../Images/d1f4d44ecc74604b912fcf1fb46d1a85.png)

How can I put icons of sub-items in the proper place (in the blue part of the menu)?

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-25T18:19:49.233

`RibbonMenuItem`您可以在资源中创建样式并在`RibbonSplitButton`那里设置适当的属性。

```
<ribbon:RibbonSplitButton x:Name="SplitButton3DViews" 
               ItemsSource="{Binding items}"
               Label="Views3D"
               IsCheckable="False" >
    <ribbon:RibbonSplitButton.Resources>
        <Style TargetType="{x:Type ribbon:RibbonMenuItem}">
            <Setter Property="Header" Value="{Binding Path=Name}" />
            <Setter Property="Command" Value="{Binding Path=cmd}" />
            <Setter Property="ImageSource" Value="{Binding Icon}" />
        </Style>
    </ribbon:RibbonSplitButton.Resources>                        
</ribbon:RibbonSplitButton> 
```

结果：

![在此处输入图像描述](../Images/aab5c2461042dacd59712bbf3e06e508.png)

# javascript - Updating a listview in Kendo UI Mobile from a remote databse

> ID：15611169
> 
> 赞同：0
> 
> 时间：2013-03-25T09:13:00.203
> 
> 标签：javascript, mysql, sqlite, kendo-ui, kendo-mobile

I am building an cross platform mobile app using Icenium in a very short period of time and as such I am trying to learn HTML5 and CSS in a very short period of time. I am using the Kendo UI Mobile framework to build the app and I need to link a load a list of events from a remote database and have that database populate a listview in the app.

The database can be anything as I have open access to the server and can put what ever I want on it. I literally don't know where to begin though, any help would be very good. ATM I was looking at a mySQL database as it was the easiest and most secure to maintain.

Any ideas / experience in this matter?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-16T16:58:19.060

您可以考虑将 KendoUI MVVM 数据模型和模板与 AJAX 一起使用。

发布到您的服务器端点 - 它应该返回一个 JSON 响应：

```
function getRoutineDetailData(e) {
            //get data from server
            $.ajax({
                url: "http://dot.com/your_endpoint.php",
                dataType: "jsonp",
                type: "GET",
                data: { userID: userID},
                success: function(response) {
                    routineInfo = response.results;
                    routine_viewModel.set("info", routineInfo);

                }
            });
    } 
```

现在绑定结果：

```
 //bind the results to the viewmodel            
        var routine_viewModel = kendo.observable({
            info: []
        }); 
```

视图还应该有一个模板：

```
 <script id="routineInfo-template" type="text/x-kendo-template">

        <div id="routineHeader" >
        <span id="RoutineText">${title} created on ${entry_stamp} by ${user_name}</span>
        </div>

    </script> 
```

然后，您的视图应该调用该函数以使用 data-show 执行服务器发布，并使用数据模型让您访问数据，即。模板中使用的 ${title}：

```
<div data-role="view" id="view-routineDetail" data-show="getRoutineDetailData" data-model="routine_viewModel" data-title="routineDetail">
<div id="routineInfo" data-template="routineInfo-template" data-bind="source: info" ></div>
</div> 
```

这是一个快速的解释，更多可以在[http ://docs.kendoui.c​​om/getting-started/mobile/mvvm 找到](http://docs.kendoui.com/getting-started/mobile/mvvm)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-25T14:49:10.947

您选择的数据库与您的前端无关。您可以使用任何数据库，如 SQL Server、Oracle、MySQL（如果您有预算限制）等。您的 Kendo 前端不会直接与您的服务器数据库对话；为此，您需要使用 .NET/Java/或任何服务器端技术编写 HTTP 服务。现在该服务将与您的数据库对话并将数据（最好是 JSON 格式）返回到 Kendo UI。

Kendo UI <-> HTTP 服务 <-> 数据库[独立于 UI]

# c# - "Database is locked" exception when using Massive with SQLite

> ID：15611179
> 
> 赞同：3
> 
> 时间：2013-03-25T09:13:26.237
> 
> 标签：c#, sqlite, massive

Recently I browse the micro ORMs and I like [Massive](https://github.com/robconery/massive/blob/master/Massive.Sqlite.cs) for SQLite because its simple. But I have now an issue.

I am just running some select statement followed by an update statement but I am getting an exception. Below is my code :

```
 var tbl = new Cust();
            var customers = tbl.All(where: "CustomerID > @0", orderBy: "FirstName", columns: "CustomerID,FirstName", args: 4);
            var firstCustomerName= customers.First().FirstName;

            var c = tbl.Update(new { FirstName = "Updated2" }, 4); //Exception is here!

            //Same happens even when using another object
            //var tbl2 = new Cust();
            //tbl2.Update(new { FirstName = "UpdatedName" }, 4);//Exception is here! 
```

The Exception Message is : "Database is locked", at a method below in the Massive.SQLite source

```
public virtual int Execute(IEnumerable<DbCommand> commands)
{
       var result = 0;
            using (var conn = OpenConnection())
            {
                using (var tx = conn.BeginTransaction())
                {
                    foreach (var cmd in commands)
                    {
                        cmd.Connection = conn;
                        cmd.Transaction = tx;
                        result += cmd.ExecuteNonQuery();
                    }
                    tx.Commit();//Here is the Exception!
                }
            }
            return result;     
} 
```

When I look at Massive.SQLite source i see that massive never closes connections but instead relays on the using statement to dispose the connection object, as you can see in the above code.

OpenConnection() in the above code is a method that returns a new connection every time called.

```
 public virtual DbConnection OpenConnection()
 {
            var result = _factory.CreateConnection();
            result.ConnectionString = ConnectionString;
            result.Open();
            return result;
 } 
```

If the case is that Massive is not closing the connection, and according to [this SO question](https://stackoverflow.com/questions/12741135/sqlite-database-is-locked-exception) Sqlite is not good at concurrent connections and I am supposed to close it, how can I close it then? - the connection is not exposed to me.

I want to hear the best practice from developers using Massive with SQLite.

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-14T13:33:51.387

SQlite 喜欢有一个打开的连接。

[Massive 正在正确管理连接，但它会在Query 方法](https://github.com/robconery/massive/blob/master/Massive.Sqlite.cs#L232-L242)中留下`ExecuteReader`“打开”状态，这可能[会导致问题：](http://sqlite.phxsoftware.com/forums/p/1625/6972.aspx)

罗伯特辛普森写道：

> 让读者保持开放可能会导致问题。在懒惰的垃圾收集器处理它之前，这些不会被清理。在任何情况下，至少在你的读者周围有 using() 语句肯定会更好。以下对象使用垃圾收集器将懒惰清理的非托管资源：
> 
> 如果我没记错的话，SQLiteCommand、SQLiteConnection、SQLiteDataReader 可能还有 SQLiteTransaction。

所以在方法中加上一个`using`，`ExecuteReader()`它`Query`应该可以正常工作：

```
public virtual IEnumerable<dynamic> Query(string sql, params object[] args)
{
    using (var conn = OpenConnection())
    {
        using (var rdr = CreateCommand(sql, conn, args).ExecuteReader())
        {
            while (rdr.Read())
            {
                yield return rdr.RecordToExpando(); ;
            }
        }
    }
} 
```

一些不需要更改 Massive 源的注意事项和其他解决方法：

*   您可以通过设置在 SQLite 中启用连接池`Pooling`：

    ```
    connectionString="Data Source=test.db;Version=3;Pooling=True;Max Pool Size=100;" 
    ```

*   **如果它从阅读器读取所有**数据，通常`Query`可以正常工作。但是您使用了哪个结合左阅读器打开。因此，如果您使用它评估查询也将起作用：**`First()``yield return``ToArray()`**

     **```
    var firstCustomerName= customers.ToArray().First().FirstName; 
    ```**

# windows - Start a program on remote computer without any third party software

> ID：15611181
> 
> 赞同：1
> 
> 时间：2013-03-25T09:13:42.927
> 
> 标签：windows, networking, process, wmi

I'm trying to find a way to start a program on a remote computer (in a domain environment, so I know all the credentials) without any third-party software like PSExec.

Now the problem is, that it should run interactively! (And in the best case, it should run in the current logged-in user context) I know WMI, and I know that you can start a process with WMI but it's not interactive. (You can start an interactive process with a scheduled task but then it runs as a system process and has system privileges(?))

Now lets say I want to write a C# application for the IT technicians to supervise the systems, do you have any idea which technique can be used to allow the IT technicians to start programs remotely without installing software?

Or, in other words, is there something else other than WMI-scheduled processes?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-25T15:26:44.833

如果这是适合您的解决方案，您也许可以自己编写 PSExec 所做的事情。如果我记得很清楚 PSExec 的工作原理，它首先使用管理员共享复制文件以在远程系统上运行（例如，\\PCNAME\ADMIN$\TEMP；如有必要，您可以使用权限连接到远程计算机使用该功能的凭据`WNetAddConnection2()`）。如果您在远程计算机上复制的文件可以作为系统服务运行（如果您编写了一个，则可能是这种情况），您可以使用`OpenSCManager()`,`CreateService()`和`StartService()`来启动它。服务可以在交互模式下运行（参见`SERVICE_INTERACTIVE_PROCESS`标志，它要求服务作为系统帐户运行）。然后，该服务可以模拟登录用户，可能通过使用`ImpersonateLoggedOnUser()`从他正在运行的进程之一获得的令牌`OpenProcessToken()`，但我从来没有试过看看这是否有效。

# fine-uploader - Error when attempting to parse xhr response text in fineUploader

> ID：15611183
> 
> 赞同：8
> 
> 时间：2013-03-25T09:13:44.080
> 
> 标签：fine-uploader

I bay this fine-uploader version 3.3.0 now, and integration all lib in my site i think uploads make working its ok, but no! i see error my javascript console:

```
[FineUploader] Sending upload request for 0

[FineUploader] xhr - server response received for 0

[FineUploader] responseText = 
```

and error firebug:

> [FineUploader] Error when attempting to parse xhr response text (SyntaxError: JSON.parse: unexpected end of data)

at line error: jquery.fineuploader-3.3.0.min.js(line 148)

i use params:

```
$(document).ready(function () {
    $('#uploader').fineUploader({
    request: {
        endpoint: '/upload/'
      },
    classes: {
        success: 'alert alert-success',
        fail: 'alert alert-error'
         }, 
    text: {
        uploadButton: '<i class="icon-upload icon-white"></i> file target'
      },
       validation: {
      sizeLimit: 31457280 

      },             
    debug: true

    });
  }); 
```

if i am write sizeLimit: 10485760 - it all right ok working! file uploads to finish. If write sizelimit: 31457280 file not uploads to end, process break to 2 or 3%. Help me! where bug? Please help me somebody!

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-04-30T14:10:58.417

以下日志消息：

> 尝试解析 xhr 响应文本时出错（SyntaxError: JSON.parse: unexpected end of data）

通常表明您的服务器未返回有效的 JSON 响应。这通常是由服务器端的意外错误引起的。请注意，您必须始终从服务器返回有效的 JSON 响应。如果您使用的是 IE9 或更早版本，请务必同时返回响应代码 200。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-12-31T06:26:27.167

我的脚本也遇到了同样的问题，该脚本可以在本地完美运行，但不能在服务器上运行。

我们需要确保的几点：

1.  [按照此处](https://stackoverflow.com/a/15888724/1773274)`endpoint`所述正确设置

2.  确保脚本最初要上传文件的目录（在我的情况下是 example-advanced\uploads ）是可写的。它应该有 777 权限。我在这里遇到了问题。

3.  `max_file_upload_limit`应相应设置。

可能还有更多。但这些是我迄今为止所面临的少数。希望这会对某人有所帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-06-03T10:24:55.227

对于coldfusion的人来说，这是解决我问题的代码

```
<cfoutput>

<cffile
action       = "upload"
fileField    = "QQFILE"
destination  = "#application.OSSandbox#"
accept       = "image/jpeg"
nameConflict = "MakeUnique"
result="imgUploadResult"
/>
<cfset json = CreateObject("component", "#application.CFCRoot#.json2")> // custom code to create a json object
<cfset dataset = json.encode(imgUploadResult,"array")>
<cfset dataset = REReplace(dataset,'("recordcount")','"success": true, \1')>

<cfcontent type="text/plain; charset=ISO-8859-1"><cfoutput>#dataset#</cfoutput>
</cfoutput> 
```

# ios - Handle HTTP Header Field name on iOS/OSX

> ID：15611184
> 
> 赞同：3
> 
> 时间：2013-03-25T09:13:44.613
> 
> 标签：ios, macos, asihttprequest, restkit, afnetworking

As we know HTTP header names are case insensitive which is specified in [RFC2616](http://www.ietf.org/rfc/rfc2616.txt).

However I found that all popular iOS/OSX framework such as [ASIHTTRequest](https://github.com/pokeb/asi-http-request) , [AFNetworking](https://github.com/AFNetworking/AFNetworking) ,[RestKit](https://github.com/RestKit/RestKit) test whether or not a header field exists using following code.

```
[[self responseHeaders] objectForKey:@"Keep-Alive"];
[[self responseHeaders] objectForKey:@"Content-Length"]; 
```

the responseHeaders is just an NSDictionary. I had thought CFNetwork layer would handle this however no clues found. Maybe this is a convention in real world?

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-23T13:55:27.513

实际上，该`-[NSHTTPURLResponse allHeaderFields]`方法返回一个不区分大小写的 NSDictionary 实例。`_CFCapitalizeHeader`这与CFNetwork 最新版本中删除的功能无关。不幸的是，它的源代码不再可用。

这是该`allHeaderFields`方法的简化调用图（OS X 10.8.3）

```
-[NSHTTPURLResponse allHeaderFields] -- Foundation
    CFHTTPMessageCopyAllHeaderFields() -- CFNetwork
        HTTPMessage::copyAllHeaderFields(__CFArray const**)
            MixedDict::copyAsOrdinaryDict(__CFAllocator const*, __CFArray const**) const
                CFDictionaryCreateMutable() 
```

该字典最终作为`allHeaderFields`方法的结果返回。这是传递给的[第三个参数](https://developer.apple.com/library/mac/documentation/CoreFOundation/Reference/CFDictionaryRef/Reference/reference.html#//apple_ref/c/tdef/CFDictionaryKeyCallBacks)`CFDictionaryCreateMutable`的样子：

```
version = 0
retain = _keyRetain(__CFAllocator const*, void const*) // __ZL10_keyRetainPK13__CFAllocatorPKv
release = _keyRelease(__CFAllocator const*, void const*) // __ZL11_keyReleasePK13__CFAllocatorPKv
copyDescription = _keyCopyDescription(void const*) // __ZL19_keyCopyDescriptionPKv
equal = _keyEqual(void const*, void const*) // __ZL9_keyEqualPKvS0_
hash = _keyHash(void const*) // __ZL8_keyHashPKv 
```

`_keyEqual`C++ 方法最终`CFStringCompare`使用该选项`kCFCompareCaseInsensitive`调用。

这就是为什么不关心 NSHTTPURLResponse 标头是否区分大小写的原因。

但是，非常不幸的是，这种行为没有记录在案。请欺骗雷达[#13715902](http://www.openradar.me/13715902)要求提供文件。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-02T05:14:24.510

我找到了答案。尽管没有关于此的文档。CFNetwork 层确实对标头字段进行了规范化。 [http://www.opensource.apple.com/source/CFNetwork/CFNetwork-129.9/HTTP/CFHTTPMessage.c](http://www.opensource.apple.com/source/CFNetwork/CFNetwork-129.9/HTTP/CFHTTPMessage.c) 工作在函数__CFCapitalizeHeader 中完成。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-25T09:21:30.587

我在我的应用程序中使用以下代码从服务器获取最后修改日期

```
lastModifiedStringFromServer = [[responseForDateFromServer allHeaderFields] objectForKey:@"Last-Modified"]; 
```

标头字段及其值采用 NSDictionary 格式。因此我们必须使用 objectForKey 来获取值。

# php - php equivalent of rs.conf() in mongodb ?

> ID：15611185
> 
> 赞同：1
> 
> 时间：2013-03-25T09:13:45.890
> 
> 标签：php, mongodb

how can I get the same result as rs.conf() gives. I am trying to get the replicaset node's status through php. So I was wondering if I can get the same output as rs.conf() gives in mongodb shell ?

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-25T09:26:40.890

您可以尝试使用`MongoDB::execute`

例子 ：

```
$db->execute('return rs.status();'); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-25T09:32:23.693

您可以通过 JS 进行操作，也可以通过以下方式直接访问数据库`command`：

[http://docs.mongodb.org/manual/reference/command/replSetGetStatus/#replSetGetStatus](http://docs.mongodb.org/manual/reference/command/replSetGetStatus/#replSetGetStatus)

```
$db->command(array('replSetGetStatus' => 1)); 
```

应该比`eval`ing 代码和持有 JS 全局锁稍快。

# sitecore - Sitecore 安全问题

> ID：15611192
> 
> 赞同：1
> 
> 时间：2013-03-25T09:13:53.023
> 
> 标签：sitecore, sitecore6

我们将网站的不同区域锁定为特定用户。例如，作为站点核心角色“UK_Editor”成员的用户可以查看所有其他国家/地区的内容（他们只有读取权限）。但是，在英国地区，他们可以完全访问。

问题是，用户仍然可以转到其他国家/地区的内容，并且“发布”按钮仍然可用。

有没有办法限制这个？

Sitecore v：6.5.0

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-25T10:03:53.873

您可以测试启用 Publishing.CheckSecurity 配置设置，应该会阻止用户发布应用了正确角色的其他站点内容。

> ```
>  <!--  PUBLISHING SECURITY
>         Check security rights when publishing?
>         When CheckSecurity=true, Read rights are required for all source items. When it is
>         determined that an item should be updated or created in the target database,
>         Write right is required on the source item. If it is determined that the item
>         should be deleted from target database, Delete right is required on the target item.
>         In summary, only the Read, Write and Delete rights are used. All other rights are ignored.
>         Default value: false
>   -->
>         <setting name="Publishing.CheckSecurity" value="true" /> 
> ```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-25T09:47:11.040

您也许可以覆盖`QueryState`类的`PublishItem`（在`Sitecore.Shell.Framework.Commands`）

阅读[此问题](https://stackoverflow.com/questions/6307773/sitecore-hide-button-in-ribbon)以获取更多信息。如果要隐藏按钮，则
需要返回。`CommandState.Hidden`你需要想出一些聪明的办法来确保他们都可以用他们的语言发布内容，但不能用其他人的语言发布。

[编辑]
可能会执行类似的操作，`if (Sitecore.Context.User.IsInRole('sitecore\englisheditor') && context.Items[0].Language == Sitecore.Data.Managers.GetLanguage('en')) {return base.QueryState(context)}`
否则您可以返回 CommandState.Hidden。不过，我并不完全确定 if 语句的第二部分。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-26T07:43:55.123

看看下面的博客文章，它描述了如何安全控制与在核心数据库中发布相关的 UI 项。

[http://www.cognifide.com/blogs/sitecore/why-and-how-hide-publish-site-buttons-in-sitecore/](http://www.cognifide.com/blogs/sitecore/why-and-how-hide-publish-site-buttons-in-sitecore/)

# python - 定期从我的 Dropbox 帐户下载文件

> ID：15611196
> 
> 赞同：1
> 
> 时间：2013-03-25T09:14:04.460
> 
> 标签：python, selenium, download, dropbox, dropbox-api

我有 django 应用程序，它需要刷新一些数据。此数据应从我的保管箱帐户下载（文件名和路径每次都相同）。我该如何实施？

我从使用 dropbox api、创建应用程序等开始——但这种方法有一个很大的缺陷——它需要用户转到生成的链接并授权给 dropbox 帐户。但我需要自动工作，脚本应该每天由 cron 执行，无需用户交互。

我想用 Selenium 打开这个链接，输入登录名和密码，确认使用应用程序。但我也认为这很难，应该是另一种方式:-)

或者也许我可以简单地生成一次文件链接，然后每次我想下载文件时使用它？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-25T16:25:43.573

您可以使用 API 并与您手动授权一次的预授权访问令牌连接（而不是让用户授权他们自己的帐户）。然后，您可以从您的帐户下载该文件，但请确保不要撤销访问令牌，例如通过[https://www.dropbox.com/account/applications](https://www.dropbox.com/account/applications)。

但是，如果您确实只需要下载文件，则使用共享链接可能会更容易：

[https://www.dropbox.com/help/167/en](https://www.dropbox.com/help/167/en) [https://www.dropbox.com/help/201/en](https://www.dropbox.com/help/201/en)

它们不会过期，但可以通过[https://www.dropbox.com/links](https://www.dropbox.com/links)撤销。

或者，如果您更喜欢使用 Public 文件夹，同样的想法：

[https://www.dropbox.com/help/16/en](https://www.dropbox.com/help/16/en)

# iphone - iphone如何在推特上自动发帖？

> ID：15611199
> 
> 赞同：2
> 
> 时间：2013-03-25T09:14:15.713
> 
> 标签：iphone, ios, twitter, autopostback

我想使用 iphone 应用程序在 Twitter 中自动发布我的静态链接（不使用对话框、取消选项、发送选项）。可能吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-10-03T07:12:13.877

我找到了这个链接：

[使用TWRequest](http://iosdevelopertips.com/core-services/ios-5-twitter-framework-part-2.html)在 iOS 5 中发布

[使用SLRequest](https://stackoverflow.com/questions/13330596/twrequest-is-deprecated-in-ios-6-0-what-can-i-use-instead)在 iOS 6+ 中发布

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-06-08T05:07:20.863

使用 Twitter 框架的这种方法：

```
NSString *statusesShowEndpoint = @"https://api.twitter.com/1.1/statuses/update.json";
NSDictionary *params = @{@"status": @"Hello, my first autopost tweet..."};

    NSError *clientError;
    NSURLRequest *request = [[[Twitter sharedInstance] APIClient]
                             URLRequestWithMethod:@"POST"
                             URL:statusesShowEndpoint
                             parameters:params
                             error:&clientError];

    if (request) {
        [[[Twitter sharedInstance] APIClient]
         sendTwitterRequest:request
         completion:^(NSURLResponse *response,
                      NSData  *data,
                      NSError *connectionError) {
             if (data) {
                 // handle the response data e.g.
                 NSError *jsonError;
                 NSDictionary *dicResponse = [NSJSONSerialization
                                               JSONObjectWithData:data
                                               options:0
                                               error:&jsonError];
                 NSLog(@"%@",[dicResponse description]);
             }
             else {
                 NSLog(@"Error code: %ld | Error description: %@", (long)[connectionError code], [connectionError localizedDescription]);
             }
         }];
    }
    else {
        NSLog(@"Error: %@", clientError);
    } 
```

# javascript - Jquery遍历列表

> ID：15611201
> 
> 赞同：1
> 
> 时间：2013-03-25T09:14:23.603
> 
> 标签：javascript, jquery

以下 jQuery 不适用于给定的选择框。

我想遍历选择框的所有选项。

我哪里错了？

我没有得到`alert("hi")`，IE`$("#FileType").find('x:option').each(function(){`没有执行。

```
<x:select id="FileType" width="210px">
        <x:option value="JPG">JPG</x:option>
        <x:option value="PNG">PNG</x:option>
        <x:option value="PDF">PDF</x:option>
        <x:option value="TIF">TIF</x:option>
        <x:option value="BMP">BMP</x:option>
</x:select>

$("#FileType").find('x:option').each(function(){
    alert("hi");                                
    if($(this).val() == AttachmentExtension)
    $("#FileType").val(AttachmentExtension);
}); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-25T09:24:05.003

您需要转义`:`选择器中的字符。

```
$("#FileType").find('x\\:option').each(function(){
// Your logic. 
}); 
```

这是jsFiddle。[http://jsfiddle.net/bVz6F/](http://jsfiddle.net/bVz6F/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-25T09:23:49.127

我不确定您的`select`/`option`标记使用什么技术命名空间，但最终结果`HTML`没有命名空间。改成：

```
$("#FileType").find('option').each(function(){
    alert("hi");                                
    if($(this).val() == AttachmentExtension)
    $("#FileType").val(AttachmentExtension);
}); 
```

# javascript - 多选下拉

> ID：15611202
> 
> 赞同：2
> 
> 时间：2013-03-25T09:14:27.397
> 
> 标签：javascript, jquery, html

你如何制作一个带有多选选项的组合框？使用 Javascript 或 HTML。允许您选择多个选项，但不提供组合/下拉结构。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-25T09:16:30.280

这不是标准的 HTML 功能。有一个下拉菜单或一个多选。您可以使用的是可以处理转换的库，例如[http://harvesthq.github.com/chosen/](http://harvesthq.github.com/chosen/)。

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2013-03-25T09:17:43.013

那这个呢？

```
<select multiple>
  <option value="1">Jan</option>
  <option value="2">Feb</option>
  <option value="3">Mar</option>
  <option value="4">Apr</option>
</select> 
```

# ios - UIWebView 不加载 URL，iOS

> ID：15611204
> 
> 赞同：9
> 
> 时间：2013-03-25T09:14:31.023
> 
> 标签：ios, uiwebview, uiwebviewdelegate

我正在尝试在我的应用程序启动时加载一个 URL。

我在我的 .nib 上拖动了一个 UIWebView 对象，我创建了一个属性插座，我将它连接到 webview 并在我的视图控制器中放置以下代码：

```
- (void)viewDidLoad
{
    [super viewDidLoad];
    NSString *fullURL = @"http://google.com";
    NSURL *url = [NSURL URLWithString:fullURL];
    NSURLRequest *requestObj = [NSURLRequest requestWithURL:url];
    [webView loadRequest:requestObj];
} 
```

但是我只是在设备上出现黑屏，就像根本没有视图一样。任何想法？

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2013-03-25T09:19:13.403

这是我在我的应用程序中使用的代码

```
- (void)viewDidLoad
{
    [super viewDidLoad];
    // Do any additional setup after loading the view.
    NSURL *websiteUrl = [NSURL URLWithString:@"http://www.google.com"];
    NSURLRequest *urlRequest = [NSURLRequest requestWithURL:websiteUrl];
    [myWebView loadRequest:urlRequest]; 
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-04-18T08:10:33.573

这是短的

```
- (void)viewDidLoad
{
    [super viewDidLoad];
    // Do any additional setup after loading the view from its nib.

        [myWebView loadRequest:[NSURLRequest requestWithURL:[NSURL URLWithString:@"http://www.google.com"]]];

} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2016-08-05T13:11:24.500

重启你的IOS模拟器。这确实不明显，但首先检查 IOS 模拟器中 Safari 中的任何站点。IOS模拟器重启后，我的webView在模拟器和设备上都成功打开了。

由阿米特

# jquery - 将一个元素的 Click 函数绑定到另一个元素的 click 函数

> ID：15611209
> 
> 赞同：0
> 
> 时间：2013-03-25T09:14:43.740
> 
> 标签：jquery, click

我在以下元素上有一个点击功能：

```
$('#make article > a, #latestInner article > a').click(function (e) {...}); 
```

现在我想将上面的点击绑定到以下内容：

```
$('#make article h4 a, #latestInner article h4 a, #models article h4 a').click(function (e) {...}); 
```

以便点击：

```
#make article > a, #latestInner article > a 
```

就像我点击了：

```
#make article h4 a, #latestInner article h4 a, #models article h4 a 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-25T09:16:31.357

jQuery`trigger()`会这样做：

```
$('#make article > a, #latestInner article > a').click(function() {
    $('#make, #latestInner, #models').find('article h4 a').trigger('click');
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-25T09:16:58.377

```
$('#make article > a, #latestInner article > a').click(function (e) {    
 ("#make article h4 a").trigger('click');    
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-25T09:29:13.393

尝试这个：

```
$('#make article > a, #latestInner article > a').click(function (e) {
    $('#make article h4 a').click();
    $('#latestInner article h4 a').click();
    $('#models article h4 a').click();
});

$('#make article h4 a, #latestInner article h4 a, #models article h4 a').click(function (e) {...}); 
```

希望能帮助到你 ：）

# mysql - 如何在其中一列中选择具有特定数字的行？

> ID：15611214
> 
> 赞同：3
> 
> 时间：2013-03-25T09:14:55.660
> 
> 标签：mysql, sql, string, select

在我的表的一个列中（比如说它被称为`foo`），它存储了一组 10 个数字，例如：

```
1, 5, 8, 3, 4, 6, 9, 7, 12, 15 
```

我希望选择我的表格中列中有数字的所有`6`行`foo`。

好吧，您可能会说，这听起来很简单，只需对列进行字符串搜索即可。但问题是，您还可以选择`16`其中包含的行，因为`16`包含`6`.

我也考虑过搜索`, 6,`，但我意识到如果`6`它位于字符串的末尾或前面，它将不匹配。

我该如何克服这个问题？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-25T09:15:59.290

使用名为`FIND_IN_SET`.

```
SELECT *
FROM   tablename
WHERE  FIND_IN_SET('6', REPLACE(foo,' ','')) > 0 
```

*   [SQLFiddle 演示](http://www.sqlfiddle.com/#!2/dcd64/2)
*   [FIND_IN_SET()](http://dev.mysql.com/doc/refman/5.0/en/string-functions.html#function_find-in-set)

从文档：

> 如果字符串 str 在由 N 个子字符串组成的字符串列表 strlist 中，则返回 1 到 N 范围内的值。字符串列表是由以“,”字符分隔的子字符串组成的字符串。如果第一个参数是一个常量字符串，而第二个参数是一个 SET 类型的列，则 FIND_IN_SET() 函数被优化为使用位算术。 **如果 str 不在 strlist 中或 strlist 是空字符串，则返回 0。** 如果任一参数为 NULL，则返回 NULL。如果第一个参数包含逗号 (“,”) 字符，此函数将无法正常工作。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-25T09:18:46.970

`', '`您可以在开头和结尾附加 a`foo`并搜索：

```
SELECT *
FROM bar
WHERE ', ' + foo + ', ' LIKE '%, 6, %' 
```

# ios - 在phonegap ios中指定其他平台应用程序图标

> ID：15611221
> 
> 赞同：0
> 
> 时间：2013-03-25T09:15:15.867
> 
> 标签：ios, cordova

我使用带有 xcode 4.5 的 phonegap 构建了应用程序。基本上我选择了模板作为基于 PhoneGap 的应用程序。并创建了简单的应用程序，成功地在设备（iPad 和 Android 手机）中安装了应用程序。我只能在所有设备上看到默认图标。如何指定吗？我需要在phonegap.plist中修改吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-25T09:35:09.283

每个平台都有自己处理应用程序图标的方式，因此您必须做更多的工作，而不仅仅是更新一个文件。

你看到[phonegap 的关于那个主题的 wiki 了](https://github.com/phonegap/phonegap/wiki/App-Icon-Sizes)吗？

# jquery - jquery查找段落标签的长度

> ID：15611228
> 
> 赞同：0
> 
> 时间：2013-03-25T09:15:25.617
> 
> 标签：jquery

我有一个像这样的段落标签`<p id="data">I am testing</p>`。如何在段落标签中找到此文本的长度？

```
$("#data").length; 
```

如果我也没有任何文本，它会输出 1。即使对于这个“我正在测试”，它也输出为 1。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-25T09:16:30.730

我假设您正在使用 jQuery。尝试这个

```
$("#data").text().length 
```

您必须将元素内容传递给长度函数。这是一个例子[http://jsfiddle.net/69JL9/](http://jsfiddle.net/69JL9/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-25T09:16:33.003

您需要获取内容的长度，如下所示：

```
$("#data").text().length; 
```

*通过您的示例`$("#data").length;`，您将获得与选择器匹配的元素数量，因此`1`无论元素是否有任何内容，您的输出都是。*

# android - ViewPort 不适用于 Android

> ID：15611230
> 
> 赞同：0
> 
> 时间：2013-03-25T09:15:29.310
> 
> 标签：android, html

我正在安卓标签和手机上测试 html 文件。不同分辨率的视口我使用了元视口：

> ```
> <meta name="viewport" content = "width=device-width , target-densityDpi=device-dpi , user-scalable = no , initial-scale=.51,maximum-scale=0.51,minimum-scale=0.51"/> 
> ```

但它不工作意味着不缩放我的 BG 图像。

我也试过了：

```
<meta name="viewport" content = "width=device-width;target-densityDpi=device-dpi ; user-scalable = no ;initial-scale=.51;maximum-scale=0.51;minimum-scale=0.51"/> 
```

唯一的区别是';' 但它 logcat 显示视口被忽略

我不明白为什么会这样

这是我的 css 文件：

```
body {
background-repeat: no-repeat;
margin: 0;

}

div { width: 1280px; height: 670px; }
home {

background-image: url('../images/abc_title.png');
width: 1280px;
height: 670px;
background-repeat: no-repeat;

}
abc_slide {

position: relative; background : transparent;
width: 129px;
height: 76px;
background: transparent; width : 129px; height : 76px;
margin-top: 80px;
margin-left: 80px;
        border: thin;

}
song_slide {

position: relative;
background: transparent;
margin-top: 80px;
margin-left: 80px; width : 129px;
height: 76px;
width: 129px;
    border: thin;

} 
```

HTML：

![在此处输入图像描述](../Images/63d59f227e9b0cade2199cbf2695f5c0.png)

通过这些设置，我在选项卡 2 7 上看到了以下情况：

![在此处输入图像描述](../Images/b60345668fe1f478aaec82f27ad78b02.png)

添加无重复卷轴后已经存在。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-06-24T16:49:38.110

首先，逗号是内容属性中的正确分隔符，如下所示：

```
<meta name="viewport" content="width=device-width, target-densitydpi=device-dpi, user-scalable=no, initial-scale=.51, maximum-scale=0.51, minimum-scale=0.51"/> 
```

你还有一些额外的空间。我希望 Android 上的 WebKit 实现能够容忍这种情况，但无论如何都要小心。:)

默认情况下，仅`normalScreens`启用了 Worklight 生成的 Android 环境。我怀疑，通过您显示的宽度/高度数字并且它是平板电脑，您有一个“大屏幕”，在 Android 中。请检查`AndroidManifest.xml`以下部分：

```
<supports-screens
    android:smallScreens="false"
    android:normalScreens="true"
    android:largeScreens="false"
    android:resizeable="false"
    android:anyDensity="false"
    /> 
```

根据[Android 文档](http://developer.android.com/guide/practices/screens_support.html)进行必要的调整。

您还可以`android:scrollbars="none"`在`WebView`XML 元素中设置`AndroidManifest.xml`. 请参阅[此问题的第二个答案](https://stackoverflow.com/questions/6273335/remove-scroll-bar-track-from-scrollview-in-android)。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2016-10-18T11:40:17.107

为了在 webView 中使用视口，您需要启用[setUseWideViewport](https://developer.android.com/reference/android/webkit/WebSettings.html#setUseWideViewPort(boolean))和[setLoadWithOverviewMode](https://developer.android.com/reference/android/webkit/WebSettings.html#setLoadWithOverviewMode(boolean))，否则 WebView 将忽略元视口标签。

```
mWebView.getSettings().setUseWideViewPort(true);
mWebView.getSettings().setLoadWithOverviewMode(true); 
```

参考：[WebView中的像素完美UI](https://developer.chrome.com/multidevice/webview/pixelperfect)

# wpf - 想要创建 XML 模式来验证两个 XMLS

> ID：15611232
> 
> 赞同：1
> 
> 时间：2013-03-25T09:15:39.280
> 
> 标签：wpf, xml, xsd

我有 2 个 XML 文件。我们可以将第一个文件称为 master ，因为它具有所有节点，而在第二个文件中只有很少的信息。我如何创建一个支持这两个文件的 xsd。

文件1：

```
 <Information ID="08" >
<description>office information</description>
<officeName>SBV</officeName>
<A id="234"> 
    <name>xyz</name>
    < age>23</age> 
    <dept>SE</dept>
</A> 
<B id="244"> 
    <name>lkj</name>
    < age>27</age> 
    <dept>Sales</dept>
</B>
<C id="264"> 
    <name>opi</name>
    < age>34</age> 
    <dept>Manufacture</dept>
</C> 
<D id="774"> 
    <name>yui</name>
    < age>25</age> 
    <dept>Production</dept>
</D>
</Information>

File2:
    <Information >
<description>Worker information</description>
<A id="234"> 
    <name>xyz</name>
    < age>23</age> 
    <dept>WP</dept>
</A> 
<B id="244"> 
    <name>lkj</name>
    < age>27</age> 
    <dept>WP</dept>
</B>
</Information> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-25T17:49:45.247

这是一个可能的模式 - 应该被视为一个起点。

```
<?xml version="1.0" encoding="utf-8"?>
<!--XML Schema generated by QTAssistant/XML Schema Refactoring (XSR) Module (http://www.paschidev.com)-->
<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" xmlns:xs="http://www.w3.org/2001/XMLSchema">
  <xs:element name="Information">
    <xs:complexType>
      <xs:sequence>
        <xs:element name="description" type="xs:string" />
        <xs:element minOccurs="0" name="officeName" type="xs:string" />
        <xs:element name="A">
          <xs:complexType>
            <xs:sequence>
              <xs:element name="name" type="xs:string" />
              <xs:element name="age" type="xs:unsignedByte" />
              <xs:element name="dept" type="xs:string" />
            </xs:sequence>
            <xs:attribute name="id" type="xs:unsignedByte" use="required" />
          </xs:complexType>
        </xs:element>
        <xs:element name="B">
          <xs:complexType>
            <xs:sequence>
              <xs:element name="name" type="xs:string" />
              <xs:element name="age" type="xs:unsignedByte" />
              <xs:element name="dept" type="xs:string" />
            </xs:sequence>
            <xs:attribute name="id" type="xs:unsignedByte" use="required" />
          </xs:complexType>
        </xs:element>
        <xs:element minOccurs="0" name="C">
          <xs:complexType>
            <xs:sequence>
              <xs:element name="name" type="xs:string" />
              <xs:element name="age" type="xs:unsignedByte" />
              <xs:element name="dept" type="xs:string" />
            </xs:sequence>
            <xs:attribute name="id" type="xs:unsignedShort" use="required" />
          </xs:complexType>
        </xs:element>
        <xs:element minOccurs="0" name="D">
          <xs:complexType>
            <xs:sequence>
              <xs:element name="name" type="xs:string" />
              <xs:element name="age" type="xs:unsignedByte" />
              <xs:element name="dept" type="xs:string" />
            </xs:sequence>
            <xs:attribute name="id" type="xs:unsignedShort" use="required" />
          </xs:complexType>
        </xs:element>
      </xs:sequence>
      <xs:attribute name="ID" type="xs:unsignedByte" use="optional" />
    </xs:complexType>
  </xs:element>
</xs:schema> 
```

就我而言，我使用[QTAssistant](http://www.paschidev.com)（我与它相关联）通过将 XSD 指向您发布的两个 XML 文档来自动创建 XSD。

这就是我所拥有的（它验证了两者）：

![在此处输入图像描述](../Images/c0c99e238a3e88872d01f99e732c0a2f.png)

接下来的步骤应该是“合理化”生成的 XSD。例如，如果您查看元素 A、B、C 和 D 的内容模型，它们都共享相同；如果确实是这种情况，那么你可以有一个全局类型声明，基本上可以重用。或者，可能是 C 和 D 必须以“两者兼有”的组合出现，在这种情况下，额外的调整可能会实现这一点。下面是一个基于上述评论的手动修改的模式，让您了解它的外观。请记住，**两个**XSD 都会验证您的 XML。

```
<?xml version="1.0" encoding="utf-8"?>
<!--XML Schema generated by QTAssistant/XML Schema Refactoring (XSR) Module (http://www.paschidev.com)-->
<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" xmlns:xs="http://www.w3.org/2001/XMLSchema">
    <xs:element name="Information">
        <xs:complexType>
            <xs:sequence>
                <xs:element name="description" type="xs:string"/>
                <xs:element minOccurs="0" name="officeName" type="xs:string"/>
                <xs:element name="A" type="atype"/>
                <xs:element name="B" type="atype"/>
                <xs:sequence minOccurs="0">
                    <xs:element name="C" type="atype"/>
                    <xs:element name="D" type="atype"/>
                </xs:sequence>
            </xs:sequence>
            <xs:attribute name="ID" type="xs:unsignedByte" use="optional"/>
        </xs:complexType>
    </xs:element>
    <xs:complexType name="atype">
        <xs:sequence>
            <xs:element name="name" type="xs:string"/>
            <xs:element name="age" type="xs:unsignedByte"/>
            <xs:element name="dept" type="xs:string"/>
        </xs:sequence>
        <xs:attribute name="id" type="xs:int" use="required"/>
    </xs:complexType>
</xs:schema> 
```

至此，可以看出后者在“源”方面更加紧凑。虽然内容模型非常相似。

![在此处输入图像描述](../Images/f2928110b6ed0fac19a3a84e0f500ac4.png)

# javascript - 图像中的背景颜色（Firefox）

> ID：15611239
> 
> 赞同：0
> 
> 时间：2013-03-25T09:16:23.540
> 
> 标签：javascript, css, firefox, background-color

我做了类似的事情来处理丢失的图像并用背景颜色替换它

```
<td width="34"><img onError="handleError(this, '#fff', 'fail');" src="'. $profileImg .'" alt="" height="'.$imgHeight.'" /></td> 
```

这就是处理该问题的 Javascript 函数：

```
 function handleError(elem, colorCode, state){
        if ((typeof(elem.onerror) === 'function' && state === 'fail')  || (elem.width === 0) ){
          elem.style.backgroundColor = colorCode;
          console.log(colorCode);
        }
      } 
```

console.log 行显示 firefox 进入了那里，但不会显示背景颜色......

PS：我也尝试过使用 JQuery ..

我究竟做错了什么 ？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-25T18:07:53.223

您的图像具有`alt=""`这意味着出错时它在标准模式下根本不会显示：图像的行为就像在`<span>`标准模式下带有 alt 文本一样。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-25T09:39:00.710

试试这个（只需保存为 html 文件并在任何浏览器中打开）

```
<html>
<head>
<script type="text/javascript">
function handleError(elem, colorCode, state){
        if ((typeof(elem.onerror) === 'function' && state === 'fail')  || (elem.width === 0) ){
          elem.style.backgroundColor = 'red';         
          console.log(colorCode);
        }
      }
</script>
</head>
<body>
<div class="q">
    <div><img  style="widht:200px;height:200px;disply:block;"onError="handleError(this, '#fff', 'fail');" src="'. $profileImg .'" alt="" height="'.$imgHeight.'" /></div>
</div>
<body>
</html> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-25T09:32:32.540

我只能假设您的图像`$imgHeight`被设置为`0`，最终导致图像在页面上不可见。

*然而*，使用背景作为`img`元素的后备可能不是一个好主意。不同的浏览器会以不同的方式处理未加载的图像（例如 IE 中的红十字）。您可能希望为图像的容器分配背景：

```
<td class="imgContainer">
    <img ... />
</td>

td.imgContainer {
    background:#fff;
} 
```

然后只需更改您的`handleError`功能以隐藏未加载的图像。

# python - 找到三个带有增量和总和的数字组合

> ID：15611244
> 
> 赞同：-6
> 
> 时间：2013-03-25T09:16:33.967
> 
> 标签：python

我想知道三个数字在代码/算法中的可能组合，增量为 5，总共为 100。请参见下面的示例。

5 10 85

5 15 80

5 20 75

.

.

10 15 75

谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-25T10:00:55.180

获取所有可能的组合并检查总和是否为 100。

在代码中它看起来像这样：

```
import itertools
base = range(5, 100, 5)
combis = itertools.combinations(base, 3)
for values in combis:
    if sum(values) == 100:
        print(values) 
```

这会给你所有的结果。你应该没有问题来计算它们。

如果您想学习，请尝试不使用 itertools。

# google-analytics - 谷歌分析中可能不安全的网站

> ID：15611248
> 
> 赞同：1
> 
> 时间：2013-03-25T09:16:42.120
> 
> 标签：google-analytics

我在谷歌分析统计中找到了一个带有**/__*可能的*_unsafe_*站点*_的网址。**

我不明白为什么？？

着陆页是安全的。

你知道这意味着什么吗？

# c# - 在 Asp.Net 中获取设置属性

> ID：15611251
> 
> 赞同：0
> 
> 时间：2013-03-25T09:16:50.513
> 
> 标签：c#, properties

我对.net 很陌生。我想知道什么是获取、设置属性？我无法理解这个？请问有人可以帮我举一些例子吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-25T09:25:11.673

在 .Net 中，Get 称为 Accessor，Set 称为 Mutators

哎呀，为了保留 DataAbstraction 概念，我们在类中保持 Data 成员私有。现在要从外部访问这些数据成员，我们需要某种机制来使用它。为此，我们定义了包含 Accessor 和 Mutator 的属性。有了这个，我们可以提供巨大的数据抽象。

您需要他们控制您的对象私有字段值。例如，如果您不想让整数使用空值或负值。此外，封装对于在对象成员的值更改时触发事件很有用。例子

```
bool started;
public bool Started
{
    get { return started; }
    set
    {
        started = value;
        if (started)
            OnStarted(EventArgs.Empty);
    }

} 
```

另一个例子

```
int positiveNumber;

public int PositiveNumber
{
    get { return positiveNumber; }
    set {
        if (value < 0)
            positiveNumber = 0;
        else positiveNumber = value;
    }
} 
```

并且只读属性的另一种实现可能如下

```
int positiveNumber;

public int PositiveNumber
{
    get { return positiveNumber; }

} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-25T09:19:43.343

这些是 mutator 方法，例如查看 Wikipedia 和解释，不必复制/粘贴；）

[http://en.wikipedia.org/wiki/Mutator_method](http://en.wikipedia.org/wiki/Mutator_method)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-25T09:22:32.610

您使用属性作为类的一部分来存储数据。

```
public class MyClass
{
    string ClassName { get; set;}
} 
```

如果你实例化这个类，你将能够设置它的`ClassName`字段。

这些属性然后在类中用于操作方法。

这`Set`将允许修改属性。这`Get`将允许从属性中提取数据。它们用于访问财产。

我建议你先阅读一些关于 c#/vb.net 的介绍书籍，以了解如何编程。

这将使您能够更多地了解您的要求。

# android - 是否可以在 Android 上以编程方式启用/禁用蓝牙网络共享？

> ID：15611258
> 
> 赞同：3
> 
> 时间：2013-03-25T09:17:14.357
> 
> 标签：android, bluetooth, tethering

是否可以在 Android 上以编程方式启用/禁用蓝牙网络共享？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-04-01T07:24:24.970

与 ling.s 的回答相反，蓝牙网络共享可以通过编程方式进行控制。[请参阅我在https://stackoverflow.com/a/22668259/705483](https://stackoverflow.com/a/22668259/705483)上发布的示例代码

在反射调用中将“isTetheringOn”替换为“setBluetoothTethering”并传入一个布尔参数（另请参见该答案中链接的第一个线程）。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-03-25T09:37:23.123

在线程中创建此功能

```
BluetoothAdapter btadapter = BluetoothAdapter.getDefaultAdapter();
                   btadapter.disable();
               btadapter.enable(); 
```

可能对你有帮助。

# c# - 试图把我的头缠在线程上

> ID：15611259
> 
> 赞同：9
> 
> 时间：2013-03-25T09:17:20.140
> 
> 标签：c#, multithreading

我正试图弄清楚线程是如何工作的，我相信我可能把它复杂化了。

原理解：

以前我认为线程仅限于单个类及其子类，没有一个类可以跨线程共享，线程之间的通信让我很难理解。

新认识：

但是我读得越多，似乎线程只是在同一代码中的随机点运行。您可以将其限制在某些区域，但理论上相同的代码可以在每个线程中运行多次。

换句话说，如果您将代码视为具有转弯和连接的道路系统，那么这些就是程序可以创建的流程，主线程只是通过它运行。如果生成了一个新线程，您所做的只是说明它应该从哪里开始，并且代码从那里开始，可以使用相同的类和命令，因此如果您将代码构建为“糟糕”，则存在两段代码的风险“崩溃”，但除此之外，对代码的读写没有限制，它都是同一个程序的一部分，只是“道路”上的多个“汽车”。

您可以将线程限制在某个区域内（循环/有限的代码部分），并且只在某些地方进行交互，或者您可以忽略它并希望避免“崩溃”。

* * *

使用线程的“新理解”对我来说更容易理解，所以理解正确吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-25T12:44:25.890

你已经成功了。一般来说，线程是用来做专门的工作的，不会相互重叠。如果主线程必须派生出一个子线程来完成**工作**，那么主线程几乎总是不会同时做这项**工作**。

它们重叠的区域需要“线程安全”，以免踩到彼此的脚趾；例如，多个工作线程填充主线程的集合。当您在 MSDN 上查找课程时，您会注意到底部的宣传语，说明它们是否具有内置的线程安全性，或者您需要通过使用 .net 的锁定、互斥锁或信号量自行完成。

# powerpoint - 以编程方式从 powerpoint 读取图像形状

> ID：15611262
> 
> 赞同：1
> 
> 时间：2013-03-25T09:17:25.520
> 
> 标签：powerpoint

我在 powerpoint 中插入了图像形状。并尝试以编程方式读取它。

我得到它作为包含矩形和折线的 Msogroup。那么如何从PowerPoint中读取图像形状

提前致谢

# javascript - Javascript将对象的方法作为函数传递

> ID：15611263
> 
> 赞同：2
> 
> 时间：2013-03-25T09:17:31.533
> 
> 标签：javascript, function, methods

今天我发现当你在 Javascript 中将对象的方法作为函数传递时会发生一种相当奇怪的行为。

```
 setTimeout(myObject.test, 100); // "this" is the global object window 
```

方法“test”被正确调用，但“this”不是对象“myObject”，而是全局对象“window”。当我做这样的事情时，我可以获得预期的行为：

```
setTimeout(function(){myObject.test()}, 100); // "this" is myObject 
```

这在我看来相当奇怪。谁能解释一下，为什么会这样。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-25T09:37:10.090

考虑一下 JavaScript 将如何解释这个伪表示`setTimeout(myObject.test, 100);`

```
function setTimeout(func, millisec) {
    //some code...
    func(); //"this" in func will point to window
    //some code...
} 
```

但是当你这样做时 - `setTimeout(function(){myObject.test()}, 100);`，`setTimeout`将执行你传递的匿名函数，所以`this`匿名函数仍将指向`window`，但该匿名函数调用另一个函数`myObject.test()`，因为函数作为对象的方法被调用，`this`将指向该对象.

你可以使用一个很酷的 JS 函数[bind](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Function/bind)来解决这个问题。

```
setTimeout(myObject.test.bind(myObject), 100); //now "this" will point to myObject. 
```

[JS Guru提供](https://stackoverflow.com/users/783743/aadit-m-shah)[了](https://stackoverflow.com/a/15587589/783743)更好的解释

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-25T09:28:00.687

运行时将为`setTimeout`on`window`对象执行函数参数（第一个参数），并且您将`test`方法直接作为参数，因此您`this`在第一种情况下会看到绑定到窗口对象。

在您的第二种情况下，在`window`object 上执行的函数是您的匿名函数`function() { myObject.test() }`，但是，该`test`方法是在 on 上调用的`myObject`，这就是您看到`this`绑定到的原因`myObject`

# android - 如何仅在画布中清除绘图？

> ID：15611266
> 
> 赞同：0
> 
> 时间：2013-03-25T09:17:41.300
> 
> 标签：android, android-canvas

我正在尝试开发一个应用程序。我现在想清除画布，我编写了清除屏幕的代码。它的工作..但是一个问题背景图像也被清除了。我只想清除图纸。如何只清除图纸？在这里，我动态设置背景图像。

```
package com.example.graphicsdraw;

import android.os.Bundle;
import android.app.Activity;
import android.content.Context;
import android.content.Intent;
import android.graphics.Bitmap;
import android.graphics.BitmapFactory;
import android.graphics.Canvas;
import android.graphics.Color;
import android.graphics.EmbossMaskFilter;
import android.graphics.MaskFilter;
import android.graphics.Paint;
import android.graphics.Path;
import android.graphics.PorterDuff;
import android.graphics.PorterDuffXfermode;
import android.view.Display;
import android.view.MotionEvent;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.Button;
import android.widget.RelativeLayout;
import android.widget.RelativeLayout.LayoutParams;

public class MainActivity extends Activity {
    private Button Back, Next, Erase,clrScreen;
    int FlagSet = 0, ImageSet = 0;
    static int Flag = 0;
    MyView myview;
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        myview = new MyView(this);
        RelativeLayout myLayout = new RelativeLayout(this);        
        myLayout.setLayoutParams(new RelativeLayout.LayoutParams(LayoutParams.FILL_PARENT, LayoutParams.FILL_PARENT)); 
        Back = new Button(this); 
        Back.setText("Back"); 
        Next = new Button(this);
        Next.setText("Next");
        Erase = new Button(this);
        Erase.setText("Eraser");
        clrScreen = new Button(this);
        clrScreen.setText("Clear");
        myLayout.addView(myview); 
        myLayout.addView(Back); 
        myLayout.addView(Next);
        myLayout.addView(Erase);
        myLayout.addView(clrScreen);
        RelativeLayout.LayoutParams params = new RelativeLayout.LayoutParams(60, LayoutParams.WRAP_CONTENT); 
        params.addRule(RelativeLayout.ALIGN_PARENT_BOTTOM); 
        params.addRule(RelativeLayout.ALIGN_PARENT_LEFT); 
        RelativeLayout.LayoutParams params2 = new RelativeLayout.LayoutParams(60, LayoutParams.WRAP_CONTENT); 
        params2.addRule(RelativeLayout.ALIGN_PARENT_RIGHT); 
        params2.addRule(RelativeLayout.ALIGN_PARENT_BOTTOM); 
        RelativeLayout.LayoutParams params3 = new RelativeLayout.LayoutParams(65, LayoutParams.WRAP_CONTENT); 
        params3.addRule(RelativeLayout.CENTER_HORIZONTAL); 
        params3.addRule(RelativeLayout.ALIGN_PARENT_BOTTOM);
        Erase.setLayoutParams(params3); 
        Erase.bringToFront(); 
        Next.setLayoutParams(params2); 
        Next.bringToFront(); 
        Back.setLayoutParams(params); 
        Back.bringToFront(); 
        clrScreen.setLayoutParams(params3); 
        clrScreen.bringToFront(); 
        this.setContentView(myLayout);

        Back.setOnClickListener(new OnClickListener() {
            @Override
            public void onClick(View arg0) {
                // TODO Auto-generated method stub
                Intent i = new Intent(MainActivity.this, MainActivity.class);
                Flag = Flag - 1;
                startActivity(i);
                finish();

            }
        });
        Next.setOnClickListener(new OnClickListener() {
            @Override
            public void onClick(View arg0) {
                // TODO Auto-generated method stub
                Intent i = new Intent(MainActivity.this, MainActivity.class);
                Flag = Flag + 1;
                startActivity(i);
                finish();

            }
        });

        Erase.setOnClickListener(new OnClickListener() {
            @Override
            public void onClick(View arg0) {
                // TODO Auto-generated method stub
                //mPaint.setXfermode(new PorterDuffXfermode(PorterDuff.Mode.CLEAR));
                /*Intent i = new Intent(MainActivity.this, MainActivity.class);
                Flag = Flag;
                startActivity(i);
                finish();*/
                mPaint = new Paint();
                mPaint.setXfermode(new PorterDuffXfermode(PorterDuff.Mode.SRC));
                mPaint.setColor(Color.BLUE);
                mPaint.setAntiAlias(true); 
            }
        });
        clrScreen.setOnClickListener(new OnClickListener() 
        {

            @Override
            public void onClick(View v) 
            {
                // TODO Auto-generated method stub
                myview.Clear_Drawing();

            }

        });

        mPaint = new Paint();
        mPaint.setAntiAlias(true);
        mPaint.setDither(true);
        mPaint.setColor(Color.WHITE);//0xffffffff
        mPaint.setStyle(Paint.Style.STROKE);
        mPaint.setStrokeJoin(Paint.Join.ROUND);
        mPaint.setStrokeCap(Paint.Cap.ROUND);
        mPaint.setStrokeWidth(10);
        mEmboss = new EmbossMaskFilter(new float[] { 1, 1, 1 }, 0.4f, 6, 3.5f);
        mPaint.setMaskFilter(mEmboss);
    }
    private Paint       mPaint;
    private MaskFilter  mEmboss;
    public  class MyView extends View 
    {
        MainActivity ma=new MainActivity();
        Bitmap  mBitmap = null;
        private Canvas  mCanvas;
        Path    mPath = null;
        private Paint   mBitmapPaint;
        Bitmap bmp;
        Display  display = getWindowManager().getDefaultDisplay();
        int width = display.getWidth();
        public MyView(Context c) {
            super(c);
            switch(Flag)
            {
            case 0:
                bmp = BitmapFactory.decodeResource(getResources(), R.drawable.a);
                break;
            case 1:
                bmp = BitmapFactory.decodeResource(getResources(), R.drawable.ic_launcher);
                break;
            case 2:
                bmp = BitmapFactory.decodeResource(getResources(), R.drawable.a);
                break;
            case 3:
                bmp = BitmapFactory.decodeResource(getResources(), R.drawable.ic_launcher);
                break;
            case 4:
                bmp = BitmapFactory.decodeResource(getResources(), R.drawable.a);
                break;
            case 5:
                bmp = BitmapFactory.decodeResource(getResources(), R.drawable.ic_launcher);
                break;
            case 6:
                bmp = BitmapFactory.decodeResource(getResources(), R.drawable.a);
                break;
            case 7:
                bmp = BitmapFactory.decodeResource(getResources(), R.drawable.ic_launcher);
                break;
            case 8:
                bmp = BitmapFactory.decodeResource(getResources(), R.drawable.a);
                break;
            case 9:
                bmp = BitmapFactory.decodeResource(getResources(), R.drawable.ic_launcher);
                break;
            case 10:
                bmp = BitmapFactory.decodeResource(getResources(), R.drawable.a);
                break;
            case 11:
                bmp = BitmapFactory.decodeResource(getResources(), R.drawable.ic_launcher);
                break;
            case 12:
                bmp = BitmapFactory.decodeResource(getResources(), R.drawable.a);
                break;
            case 13:
                bmp = BitmapFactory.decodeResource(getResources(), R.drawable.ic_launcher);
                break;
            case 14:
                bmp = BitmapFactory.decodeResource(getResources(), R.drawable.a);
                break;
            case 15:
                bmp = BitmapFactory.decodeResource(getResources(), R.drawable.ic_launcher);
                break;
            case 16:
                bmp = BitmapFactory.decodeResource(getResources(), R.drawable.a);
                break;
            case 17:
                bmp = BitmapFactory.decodeResource(getResources(), R.drawable.ic_launcher);
                break;
            case 18:
                bmp = BitmapFactory.decodeResource(getResources(), R.drawable.a);
                break;
            case 19:
                bmp = BitmapFactory.decodeResource(getResources(), R.drawable.ic_launcher);
                break;
            case 20:
                bmp = BitmapFactory.decodeResource(getResources(), R.drawable.a);
                break;
            case 21:
                bmp = BitmapFactory.decodeResource(getResources(), R.drawable.ic_launcher);
                break;
            case 22:
                bmp = BitmapFactory.decodeResource(getResources(), R.drawable.a);
                break;
            case 23:
                bmp = BitmapFactory.decodeResource(getResources(), R.drawable.ic_launcher);
                break;
            case 24:
                bmp = BitmapFactory.decodeResource(getResources(), R.drawable.a);
                break;
            case 25:
                bmp = BitmapFactory.decodeResource(getResources(), R.drawable.ic_launcher);
                break;
            case 26:
                bmp = BitmapFactory.decodeResource(getResources(), R.drawable.a);
                break;
            case 27:
                bmp = BitmapFactory.decodeResource(getResources(), R.drawable.ic_launcher);
                break;
            case 28:
                bmp = BitmapFactory.decodeResource(getResources(), R.drawable.a);
                break;
            case 29:
                bmp = BitmapFactory.decodeResource(getResources(), R.drawable.ic_launcher);
                break;
            case 30:
                bmp = BitmapFactory.decodeResource(getResources(), R.drawable.a);
                break;
            case 31:
                bmp = BitmapFactory.decodeResource(getResources(), R.drawable.ic_launcher);
                break;
            case 32:
                bmp = BitmapFactory.decodeResource(getResources(), R.drawable.a);
                break;
            case 33:
                bmp = BitmapFactory.decodeResource(getResources(), R.drawable.ic_launcher);
                break;
            case 34:
                bmp = BitmapFactory.decodeResource(getResources(), R.drawable.a);
                break;
            case 35:
                bmp = BitmapFactory.decodeResource(getResources(), R.drawable.ic_launcher);
                break;
            case 36:
                bmp = BitmapFactory.decodeResource(getResources(), R.drawable.a);
                break;
            case 37:
                bmp = BitmapFactory.decodeResource(getResources(), R.drawable.ic_launcher);
                break;
            case 38:
                bmp = BitmapFactory.decodeResource(getResources(), R.drawable.a);
                break;
            case 39:
                bmp = BitmapFactory.decodeResource(getResources(), R.drawable.ic_launcher);
                break;
            case 40:
                bmp = BitmapFactory.decodeResource(getResources(), R.drawable.a);
                break;
            case 41:
                bmp = BitmapFactory.decodeResource(getResources(), R.drawable.ic_launcher);
                break;
            case 42:
                bmp = BitmapFactory.decodeResource(getResources(), R.drawable.a);
                break;
            case 43:
                bmp = BitmapFactory.decodeResource(getResources(), R.drawable.ic_launcher);
                break;
            case 44:
                bmp = BitmapFactory.decodeResource(getResources(), R.drawable.a);
                break;
            case 45:
                bmp = BitmapFactory.decodeResource(getResources(), R.drawable.ic_launcher);
                break;
            case 46:
                bmp = BitmapFactory.decodeResource(getResources(), R.drawable.a);
                break;
            default:
                break;
            }
            //Display  display = getWindowManager().getDefaultDisplay();
           // int width = display.getWidth();
            mBitmap = Bitmap.createScaledBitmap(bmp, width, 350, true);
            //mBitmap = Bitmap.createBitmap(width, 350, Bitmap.Config.ARGB_8888);
            mCanvas = new Canvas(mBitmap);
            mPath = new Path();
            mBitmapPaint = new Paint(Paint.DITHER_FLAG);
            mBitmapPaint.setXfermode(new PorterDuffXfermode(PorterDuff.Mode.SRC)) ;                 

        }     
        protected void onDraw(Canvas canvas)
        {
            canvas.drawColor(Color.TRANSPARENT);
            canvas.drawBitmap(mBitmap, 0, 0, mBitmapPaint);
            canvas.drawPath(mPath, mPaint);
        }
        private float mX, mY;
        private static final float TOUCH_TOLERANCE = 4;
        private void touch_start(float x, float y) {
            mPath.reset();
            mPath.moveTo(x, y);
            mX = x;
            mY = y;
        }
        private void touch_move(float x, float y) {
            float dx = Math.abs(x - mX);
            float dy = Math.abs(y - mY);
            if (dx >= TOUCH_TOLERANCE || dy >= TOUCH_TOLERANCE) {
                mPath.quadTo(mX, mY, (x + mX)/2, (y + mY)/2);
                mX = x;
                mY = y;
            }
        }
        private void touch_up() {
            mPath.lineTo(mX, mY);
            mCanvas.drawPath(mPath, mPaint);
            mPath.reset();
        }
        public void Clear_Drawing()
        {
            //mBitmap = null;
            mPath = null;
            mBitmap = Bitmap.createBitmap(width, 350, Bitmap.Config.ARGB_8888);
            mPath = new Path();
        }
       public boolean onTouchEvent(MotionEvent event) {
            float x = event.getX();
            float y = event.getY();
            switch (event.getAction()) {
                case MotionEvent.ACTION_DOWN:
                    touch_start(x, y);
                    invalidate();
                    break;
                case MotionEvent.ACTION_MOVE:
                    touch_move(x, y);
                    invalidate();
                    break;
                case MotionEvent.ACTION_UP:
                    touch_up();
                    invalidate();
                    break;
            }
            return true;
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-25T09:38:33.360

这就像重置您的绘图工具并提供一个新的画布来绘制。

```
 mBitmap = Bitmap.createBitmap(mv.getWidth(),mv.getHeight() ,Bitmap.Config.ARGB_8888);      
 mCanvas = new Canvas(mBitmap);
 mPaint = new Paint();
 mPaint.setAntiAlias(true);
 mPaint.setDither(true);
 mPaint.setColor(0xFFFF0000);
 mPaint.setStyle(Paint.Style.STROKE);                               
 mPaint.setStrokeJoin(Paint.Join.ROUND);       
 mPaint.setStrokeCap(Paint.Cap.ROUND);
 mPaint.setStrokeWidth(0);
 mv.invalidate();// call invalidate to refresh the view's draw. 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-25T09:23:38.033

与其直接在背景上绘图，不如将`myview.setBackground()`其用于背景。继续使用`Bitmap.createBitmap(width, 350, Bitmap.Config.ARGB_8888)`创建一个空白位图用于绘图。

```
mBitmap = Bitmap.createScaledBitmap(bmp, width, 350, true);
setBackground(mBitmap);
mBitmap = Bitmap.createBitmap(width, 350, Bitmap.Config.ARGB_8888);
mCanvas = new Canvas(mBitmap); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-25T09:24:35.643

它肯定会清除背景图像，因为它是画布的一部分，您应该做的是使用框架布局放置背景作为第一个孩子并在其上创建透明画布并更改框架布局中第一个孩子的背景不要绘制画布上的图像

在透明画布下创建一个布局，当用户更改背景图像时，在下面的布局上更改该图像而不是在画布上，休息就好了

# cakephp - 使用 Js Helper 的 Cake PHP 事件链

> ID：15611269
> 
> 赞同：0
> 
> 时间：2013-03-25T09:17:51.993
> 
> 标签：cakephp, helper, method-chaining

你好你们那里的编码员，我想用 Js 助手做一个事件链，但不知道如何用食谱做这个。

场景：我有一个输入字段，它是用 ajax onkeyup 触发的。这很好用。

目标：应该在将 3 位数字放入字段后触发 ajax 调用，而不是每次都触发。

我的想法：也许帮手的束缚可以让我出去。我认为 return true 会告诉助手继续，否则什么也不做。但是我没有找到任何信息。到目前为止我的代码：

```
<?php $check = " 
    if($(this).val().length >3){
        return true;
    };"; ?>
<?php echo $this->Js->get('#ajaxSearchSCourier')->event('keyup', $check)->request(
    array('controller'=>'Posts', 'action'=>'index'),
        array(
            'update' => '#erfolgreich_ajax',
            'before' => $before,
            'success' => $success,
            'async' => true,
            'dataExpression' => true,
            'method' => 'post',
            'data'=>$this->Js->serializeForm(array('isForm'=>'false', 'inline'=>'true'))
        )
    );
?> 
```

我希望你有个主意。提前非常感谢，卡尔

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-25T14:43:40.460

忘记 JsHelper 并自己编写 js 代码。[在这里](https://stackoverflow.com/questions/12225788/cakephp-jshelper-add-remove-class/12225949#12225949)查看我的相关答案。

# iphone - 在哪里可以找到 @max.intValue

> ID：15611271
> 
> 赞同：2
> 
> 时间：2013-03-25T09:17:56.610
> 
> 标签：iphone, ios

我使用以下代码来获取最大值：

```
 NSArray *allValues = @[ [NSNumber numberWithInt:20],
                        [NSNumber numberWithInt:36],
                        [NSNumber numberWithInt:84],
                        [NSNumber numberWithInt:11],
                        [NSNumber numberWithInt:28]];

int max = [[allValues valueForKeyPath:@"@max.intValue"] intValue];
int min = [[allValues valueForKeyPath:@"@min.intValue"] intValue]; 
```

但我有一个问题，什么文件可以告诉我KeyPath链接@max.intValue或@min.intValue在哪里。如果我知道我可以知道的关键路径做其他效果

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-25T09:21:31.280

[您可以在Key-Value Coding Programming Guide](http://developer.apple.com/library/ios/#documentation/cocoa/conceptual/KeyValueCoding/Articles/CollectionOperators.html#//apple_ref/doc/uid/20002176-BAJEAIEE)中找到此信息：

> @最大限度
> 
> @max 运算符比较运算符右侧的键路径指定的属性的值，并返回找到的最大值。最大值是使用指定键路径上对象的 compare: 方法确定的。比较的属性对象必须支持相互比较。如果键路径右侧的值为 nil，则忽略它。
> 
> @min
> 
> @min 运算符比较运算符右侧的键路径指定的属性的值，并返回找到的最小值。最小值是使用指定键路径上的对象的 compare: 方法确定的。比较的属性对象必须支持相互比较。如果键路径右侧的值为 nil，则忽略它。

# asp-classic - 如何在经典asp中用斜线连接字符串？

> ID：15611272
> 
> 赞同：0
> 
> 时间：2013-03-25T09:18:12.070
> 
> 标签：asp-classic

以下是将文件路径重写为 url 路径的脚本

```
tempFileName = rs("filename")
tempFilePath = rs("path")
domainname = Request.ServerVariables("SERVER_NAME")

realUrl = Replace(tempFilePath, "c:\inetpub\wwwroot", domainname)

response.write("http://" & realUrl & "<br>")
                 ^^ 
```

脚本的最后一条语句带有两个斜杠，我不知道如何进行字符串连接。有谁知道？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-25T11:13:06.610

您的代码运行良好，因此我建议您使用新名称保存文件（用于测试目的）并将您的代码更新为

```
<%
tempFileName = rs("filename")
tempFilePath = rs("path")
domainname = Request.ServerVariables("SERVER_NAME")

Response.Write(tempFileName)
Response.Write("<br />")

Response.Write(tempFilePath)
Response.Write("<br />")

Response.Write(domainname)
Response.Write("<br />")

realUrl = Replace(tempFilePath, "c:\inetpub\wwwroot", domainname)
Response.Write(realUrl)
Response.Write("<br />")

response.write("http://" & realUrl & "<br>")
realUrl = "http://" & realUrl & "<br />"
Response.Write(realUrl)
%> 
```

这将写出每个步骤的值，我怀疑替换不起作用并且您有不希望的结果（OP 不清楚）。此代码还包括如何将新 URL 分配给`realUrl`.

# python - Django formset重复值

> ID：15611282
> 
> 赞同：2
> 
> 时间：2013-03-25T09:18:46.737
> 
> 标签：python, django, django-forms, duplicates

我正在使用 jQuery.formsets 在 Django 模板下动态创建更多表单。问题是我将重复的值输入到数据库中。

据我所知，jQuery.formsets 生成的 ID 是正确的，因为当我在视图下打印 request.POST 时，它会显示正确的值。

有问题的值是“观察者一/二/三”，在单击提交之前具有以下 ID：

*   id_form-0-observed_by_0
*   form-1-id_form-0-observed_by_0
*   form-2-id_form-0-observed_by_0

请求.POST：

```
<QueryDict: {u'form-1-form-INITIAL_FORMS': [u''], u'form-1-form-MAX_NUM_FORMS': [u''], u'commune': [u'Tartu'], u'additional_workgroups_view_0': [u''], u'form-0-observed_by_1': [u'3'], u'form-0-observed_by_0': [u'Observer ONE'], u'sample': [u''], u'remarks': [u''], u'access_edit': [u'private'], u'district': [u'Tartu'], u'country_1': [u'EE'], u'access_view': [u'public'], u'form-2-form-MAX_NUM_FORMS': [u''], u'substrate_1': [u''], u'substrate_0': [u''], u'geom': [u''], u'exact_date_and_time': [u''], u'latitude': [u'25.36698180'], u'csrfmiddlewaretoken': [u'AJTXFtEYQbX0pdBdvSe53443HKHN5dvg'], u'method': [u'MAP'], u'coordinate_uncertainty_in_meters': [u'200'], u'form-1-form-TOTAL_FORMS': [u''], u'elevation': [u''], u'country_0': [u'Estonia'], u'timespan_begin': [u'25-03-2013 11:08'], u'locality_text': [u'Ravila 19'], u'additional_users_view_0': [u''], u'timespan_end': [u''], u'form-TOTAL_FORMS': [u'3'], u'form-INITIAL_FORMS': [u'0'], u'form-2-form-INITIAL_FORMS': [u''], u'taxon_node_0': [u'Fungi'], u'taxon_node_1': [u'5'], u'district_ehak': [u''], u'form-2-observed_by_1': [u'3'], u'form-2-observed_by_0': [u'Observer THREE'], u'form-1-observed_by_0': [u'Observer TWO'], u'form-1-observed_by_1': [u'1'], u'form-2-form-TOTAL_FORMS': [u''], u'commune_ehak': [u''], u'additional_users_edit_0': [u''], u'form-MAX_NUM_FORMS': [u''], u'study': [u'2'], u'longitude': [u'15.69302410'], u'additional_workgroups_edit_0': [u''], u'remarks_sample': [u''], u'kingdom_helper': [u'5']}> 
```

但是，当我打印出表单集本身时，form0 和 form2 的值似乎是重复的。

```
<input type="hidden" name="form-TOTAL_FORMS" value="3" id="id_form-TOTAL_FORMS" />
<input type="hidden" name="form-INITIAL_FORMS" value="0" id="id_form-INITIAL_FORMS" />
<input type="hidden" name="form-MAX_NUM_FORMS" id="id_form-MAX_NUM_FORMS"/>
<tr>
    <th>
        <label for="id_form-0-observed_by_0"></label>
    </th>
    <td>
        <input style="width: 200px" name="form-0-observed_by_0" required="True" value="Observer THREE" id="id_form-0-observed_by_0" data-selectable-type="text" data-selectable-allow-new="false" data-selectable-url="/selectable/agent-personlookup/" type="text" class="span12"/>
        <input data-selectable-type="hidden" name="form-0-observed_by_1" id="id_form-0-observed_by_1" required="True" type="hidden" style="width: 200px" value="3" class="span12" />
    </td>
    </tr> 
<tr>
    <th>
        <label for="id_form-1-observed_by_0"></label>
    </th>
    <td>
        <input style="width: 200px" name="form-1-observed_by_0" required="True" value="Observer ONE" id="id_form-1-observed_by_0" data-selectable-type="text" data-selectable-allow-new="false" data-selectable-url="/selectable/agent-personlookup/" type="text" class="span12"/>
        <input data-selectable-type="hidden" name="form-1-observed_by_1" id="id_form-1-observed_by_1" required="True" type="hidden" style="width: 200px" value="1" class="span12"/>
    </td>
</tr>
<tr>
    <th>
        <label for="id_form-2-observed_by_0"></label>
    </th>
    <td>
        <input style="width: 200px" name="form-2-observed_by_0" required="True" value="Observer THREE" id="id_form-2-observed_by_0" data-selectable-type="text" data-selectable-allow-new="false" data-selectable-url="/selectable/agent-personlookup/" type="text" class="span12"/>
        <input data-selectable-type="hidden" name="form-2-observed_by_1" id="id_form-2-observed_by_1" required="True" type="hidden" style="width: 200px" value="3" class="span12"/>
    </td>
</tr> 
```

看法：

```
def observation_add(request):
if request.method == 'POST':
    print 'REQUEST POST START'
    print request.POST
    print 'REQUEST POST END'
    ObservedByFormset = formset_factory(ObservedByForm)
    observed_by_formset = ObservedByFormset(request.POST)
    print 'DEBUG: FORM BEFORE VALID:', observed_by_formset 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-25T17:21:28.500

原来是 jquery.dj.selectable.js 改变了隐藏字段的值，因此搞乱了后端。脚本必须准确地放置在表单 div 和 for 循环之间。

```
{% for form in formset.forms %}
<script type="text/javascript" src="/static/selectable/js/jquery.dj.selectable.js"></script>
<div id="table_rel"> 
```

# javascript - 什么导致IE7中的错误？

> ID：15611284
> 
> 赞同：0
> 
> 时间：2013-03-25T09:18:49.463
> 
> 标签：javascript, ajax

我正在使用这个 JS 代码来访问城市列表。它适用于烟花，chrome .etc 但在 ie7 中则不行。该行`document.getElementById(oDiv).innerHTML=xmlhttp.responseText;`导致错误。

当我将“responseText”更改为“readyState”、“statusText”、“readyState”时，脚本会起作用。只有“responseText”会导致问题。

这里有什么问题？

```
function showAjax(oDiv, countrycode, dowhat) {
    if (oDiv == "") {
        document.getElementById(oDiv).innerHTML = "";
        return;
    }
    if (window.XMLHttpRequest) { // code for IE7+, Firefox, Chrome, Opera, Safari
        xmlhttp = new XMLHttpRequest();
    } else { // code for IE6, IE5
        xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
    }
    xmlhttp.open('POST', 'ajax.php?dowhat=' + dowhat + '&countrycode=' + countrycode, true);
    xmlhttp.onreadystatechange = function () {
        if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
            document.getElementById(oDiv).innerHTML = xmlhttp.responseText;
            //document.getElementById(oDiv).innerHTML=xmlhttp.readyState;
        }
    }
    xmlhttp.send();
} 
```

`<a href='#' onclick="showAjax('citytd','$countrycode','listcities')">Click</a>` `<div id=citytd></div>`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-25T09:23:20.310

IE7（及之前，以及处于“兼容”模式的 IE8）存在问题`getElementById`，它会考虑一些不应该使用的 ID。我怀疑你有一个全局变量，或者另一个带有 的元素`name="citytd"`，而 IE 会选择它（尽管它不应该）。更多：[*......任何其他名字，都会闻起来很甜*](http://blog.niftysnippets.org/2010/03/by-any-other-name-would-smell-as-sweet.html)

# php - Xpath选择多个标签

> ID：15611289
> 
> 赞同：4
> 
> 时间：2013-03-25T09:18:57.990
> 
> 标签：php, xpath

我想要使​​用 PHP DOMXPath 查询的多个标签（td 和 th）。

我该怎么做？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-25T09:55:16.583

您可以使用`|`(Union) 运算符。这是一个例子：

```
$doc = new DOMDocument();
$doc->loadHTML('<table>
<tr>
<th>table header</th>
<td>table cell</td>
</tr>
</table>');

$xpath = new DOMXPath($doc);

$rows = $xpath->query('//tr');                        // select all <tr> elements anywhere in the document
$cols = $xpath->query('./th | ./td', $rows->item(0)); // select all <th>/<td> from context
                                                      // where context = first row
echo $cols->length;             // 2
echo $cols->item(0)->nodeValue; // table header
echo $cols->item(1)->nodeValue; // table cell 
```

# xml - Muenchian分组，计数组数

> ID：15611291
> 
> 赞同：1
> 
> 时间：2013-03-25T09:19:12.310
> 
> 标签：xml, xslt, muenchian-grouping

我正在使用 muenchian 分组来根据学生对主题和成绩进行分组。我可以计算每个学生选择的科目数量。但我无法计算学生人数。

**输入 XML**

```
<data>
  <school>MIT Kindergarden</school>
  <year>2013</year>
  <batch>B</batch>
  <result>
    <student>ABC</student>
    <id>001</id>
    <subject>ALG</subject>
    <grade>C</grade>
  </result>
  <result>
    <student>ABC</student>
    <id>001</id>
    <subject>HIS</subject>
    <grade>B</grade>
  </result>
  <result>
    <student>XYZ</student>
    <id>002</id>
    <subject>ALG</subject>
    <grade>C</grade>
  </result>
  <result>
    <student>XYZ</student>
    <id>002</id>
    <subject>ALG</subject>
    <grade>A</grade>
  </result>
</data> 
```

**XSLT**

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
    xmlns:msxsl="urn:schemas-microsoft-com:xslt" exclude-result-prefixes="msxsl">

  <xsl:output method="xml" indent="yes"/>

  <xsl:key name="group-by-id" match="data/result" use="id" />

  <xsl:template match="/">
    <schoolresult>
      <schoolname><xsl:value-of select="data/school" /></schoolname>
      <resultyear><xsl:value-of select="data/year" /></resultyear>
      <batch><xsl:value-of select="data/batch" /></batch>
      <totalstudent>[Could not find]</totalstudent>
      <xsl:for-each select="data/result[generate-id() = generate-id(key('group-by-id', id)[1])]">
        <student>
          <info>
            <name><xsl:value-of select="student" /></name>
            <id><xsl:value-of select="id" /></id>
            <subjectsopted>
              <xsl:value-of select="count(. | key('group-by-id', id))" />
            </subjectsopted>
          </info>
          <xsl:for-each select="key('group-by-id', id)">
            <subject>
              <name><xsl:value-of select="subject" /></name>
              <grade><xsl:value-of select="grade" /></grade>
            </subject>
          </xsl:for-each>
        </student>
      </xsl:for-each>
    </schoolresult>
  </xsl:template>
</xsl:stylesheet> 
```

**输出 XML**

```
<schoolresult>
  <schoolname>MIT Kindergarden</schoolname>
  <resultyear>2013</resultyear>
  <batch>B</batch>
  <studentscount>[Count not find]</studentscount>
  <student>
    <info>
      <name>ABC</name>
      <id>001</id>
      <subjectsopted>2</subjectsopted>
    </info>
    <subject>
      <name>ALG</name>
      <grade>C</grade>
    </subject>
    <subject>
      <name>HIS</name>
      <grade>B</grade>
    </subject>
  </student>
  <student>
    <info>
      <name>XYZ</name>
      <id>002</id>
      <subjectsopted>2</subjectsopted>
    </info>
    <subject>
      <name>ALG</name>
      <grade>C</grade>
    </subject>
    <subject>
      <name>ALG</name>
      <grade>A</grade>
    </subject>
  </student>
</schoolresult> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-25T12:20:09.510

如果您将此 XSLT 应用于您的源，您还将计算学生数：

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
xmlns:msxsl="urn:schemas-microsoft-com:xslt" exclude-result-prefixes="msxsl">

<xsl:output method="xml" indent="yes"/>

<xsl:key name="group-by-id" match="data/result" use="id" />

<xsl:template match="/">
    <schoolresult>
        <schoolname><xsl:value-of select="data/school" /></schoolname>
        <resultyear><xsl:value-of select="data/year" /></resultyear>
        <batch><xsl:value-of select="data/batch" /></batch>
        <totalstudent>
            <xsl:variable name="studentNumber" select="data/result[generate-id() = generate-id(key('group-by-id', id)[1])]"/>
            <xsl:value-of select="count($studentNumber)"/>
        </totalstudent>
        <xsl:for-each select="data/result[generate-id() = generate-id(key('group-by-id', id)[1])]">
            <student>
                <info>
                    <name><xsl:value-of select="student" /></name>
                    <id><xsl:value-of select="id" /></id>
                    <subjectsopted>
                        <xsl:value-of select="count(. | key('group-by-id', id))" />
                    </subjectsopted>
                </info>
                <xsl:for-each select="key('group-by-id', id)">
                    <subject>
                        <name><xsl:value-of select="subject" /></name>
                        <grade><xsl:value-of select="grade" /></grade>
                    </subject>
                </xsl:for-each>
            </student>
        </xsl:for-each>
    </schoolresult>
</xsl:template>
</xsl:stylesheet> 
```

输出如下所示：

```
<?xml version="1.0" encoding="UTF-8"?>
<schoolresult>
<schoolname>MIT Kindergarden</schoolname>
<resultyear>2013</resultyear>
<batch>B</batch>
<totalstudent>2</totalstudent>
<student>
    <info>
        <name>ABC</name>
        <id>001</id>
        <subjectsopted>2</subjectsopted>
    </info>
    <subject>
        <name>ALG</name>
        <grade>C</grade>
    </subject>
    <subject>
        <name>HIS</name>
        <grade>B</grade>
    </subject>
</student>
<student>
    <info>
        <name>XYZ</name>
        <id>002</id>
        <subjectsopted>2</subjectsopted>
    </info>
    <subject>
        <name>ALG</name>
        <grade>C</grade>
    </subject>
    <subject>
        <name>ALG</name>
        <grade>A</grade>
    </subject>
</student>
</schoolresult> 
```

我所做的只是`studentNumber`使用您已经定义的键添加一个变量并计算：

```
 <totalstudent>
            <xsl:variable name="studentNumber" select="data/result[generate-id() = generate-id(key('group-by-id', id)[1])]"/>
            <xsl:value-of select="count($studentNumber)"/>
        </totalstudent> 
```

# c# - 使用 ITextSharp 成功创建 PDF 但难以打开下载的 PDF

> ID：15611296
> 
> 赞同：0
> 
> 时间：2013-03-25T09:19:28.023
> 
> 标签：c#

我已经使用 itextsharp 生成了一个 pdf.. 并将其保存在我们的本地服务器中。我想在另一个按钮单击中下载此 pdf。生成 pdf 的代码工作正常。发生下载，但尝试打开它时出现了一些错误。“因为它不是支持的文件类型，或者文件已损坏

```
protected void createpdf_Click(object sender, EventArgs e)
{
    fs = new FileStream(Server.MapPath("pdf") + "\\" + "First PDF document.pdf",     FileMode.Create);

    document = new Document(PageSize.A4, 25, 25, 30, 30);

    writer = PdfWriter.GetInstance(document, fs);

    document.Open();

    document.Add(new Paragraph("Pdf Geneartion!"));

    document.Close();

    writer.Close();

    fs.Close();
} 
```

下载代码pdf

```
protected void download_Click(object sender, EventArgs e)
{
    try
    {
        fs = new FileStream(Server.MapPath("pdf") + "\\" + "FirstPDFdocument1.pdf", FileMode.Create);

        document = new Document(PageSize.A4, 25, 25, 30, 30);

        writer = PdfWriter.GetInstance(document, fs);

        using (MemoryStream ms = new MemoryStream())
        {
            document.Open();
            Response.Clear();

            Response.ContentType = "pdf/application";
            Response.AddHeader("content-disposition", "attachment;filename=PDFdocument1.pdf");

            Response.OutputStream.Write(ms.GetBuffer(), 0, ms.GetBuffer().Length);
        }
        writer.Close();
        fs.Close();
    }
    catch (Exception ex)
    {
        Response.Write(ex.ToString());
    }

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-25T09:22:57.823

一切看起来或多或少都是正确的，除了`ContentType`. 它应该`application/pdf`代替`pdf/application`. 此外，正如@lc 指出的那样，`MemoryStream`它看起来不像正在被写入。尝试这样的事情：

```
using (MemoryStream ms = new MemoryStream())
        {
            PdfWriter.GetInstance(document, ms);  // added
            document.Open();
            Response.Clear();

            Response.ContentType = "application/pdf";  // changed
            Response.AddHeader("content-disposition", "attachment;filename=PDFdocument1.pdf");

            Response.OutputStream.Write(ms.GetBuffer(), 0, ms.GetBuffer().Length);
        } 
```

# c++ - C++ | 在类中非法使用结构

> ID：15611301
> 
> 赞同：0
> 
> 时间：2013-03-25T09:19:42.810
> 
> 标签：c++, class, struct

```
 struct Ball {
                    SDL_Surface *picture;
                    SDL_Rect des;
                    SDL_Rect source;
                    int speedX;
                    int speedY;
                };

                class Block {
                public:
                    SDL_Surface *color;
                    SDL_Rect des;
                    SDL_Rect source;
                    bool activation;
                    bool invisibility;

                    bool checkHit (Ball *ball);
                    void makeInvisible();
                };

                bool Block::checkHit(Ball *ball)
                {
                    if (activation)
                    {

                            if (ball->des.x >= Block.des.x && ball->des.x <= Block.des.x + Block.source.w)
                            {
                                ball->speedY *= -1;
                                activation = false;
                                return true;
                            }
                            else return false;
                    }
                } 
```

当我想编译这个程序时，编译器在 Block::checkHit error C2275: 'Block' : 非法使用这种类型作为表达式时发现错误

我能做些什么 ？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-25T09:22:36.470

如果要访问 Block 自己的成员变量，只需删除`Block.`部分即可。

如果你想绝对明确，你也可以使用 use`this->des.x`而不是 plain `des.x`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-25T09:24:09.437

您在表达式中使用类名作为前缀。这是无效的语法，在类中您不需要前缀即可访问成员。`Block.des.x`用替换表达式`des.x`。

# ios - 无法访问uitableview中的不可见单元格

> ID：15611303
> 
> 赞同：0
> 
> 时间：2013-03-25T09:19:49.177
> 
> 标签：ios, uitableview

我有一个表格视图，每个单元格都有一个开关。我想在编辑模式下隐藏开关。我完成了以下代码

```
-(void)displaySwitch:(BOOL)status   {

    int count  = [self.tblView numberOfRowsInSection:0];
    int i;
    for (i = 0; i<count; i++) {
        UITableViewCell *eachCell = [self.tblView cellForRowAtIndexPath:[NSIndexPath indexPathForRow:i inSection:0]];
        //NSLog(@"%@",eachCell);
        NSArray *subViews = [eachCell.contentView subviews];
        for (UISwitch *eachObject in subViews) {
            if ([eachObject isKindOfClass:[UISwitch class]]) {

                CATransition *animation = [CATransition animation];
                animation.type = kCATransitionFade;
                animation.subtype = kCATransitionFromLeft;
                animation.duration = 1.4;
                animation.timingFunction = [CAMediaTimingFunction functionWithName:kCAMediaTimingFunctionEaseInEaseOut];
                [eachObject.layer addAnimation:animation forKey:kCATransition];
                eachObject.hidden = status;

            }

        }

    }

} 
```

它适用于所有可见的细胞。但我无法使用此代码访问任何不可见的单元格。单元格返回零。所以隐形单元格中的开关不会隐藏。我该如何克服这个问题。请帮我

还有一件事，动画在这里不起作用。但这是次要问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-25T09:28:42.487

修改了你的代码看看

```
-(void)displaySwitch:(BOOL)status onCell:(UITableViewCell*)cell   {

    NSArray *subViews = [cell.contentView subviews];
    for (UISwitch *eachObject in subViews) {
        if ([eachObject isKindOfClass:[UISwitch class]]) {

            CATransition *animation = [CATransition animation];
            animation.type = kCATransitionFade;
            animation.subtype = kCATransitionFromLeft;
            animation.duration = 1.4;
            animation.timingFunction = [CAMediaTimingFunction functionWithName:kCAMediaTimingFunctionEaseInEaseOut];
            [eachObject.layer addAnimation:animation forKey:kCATransition];
            eachObject.hidden = status;

        }
   }
} 
```

然后调用这个函数

```
-(UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath{
     UITableViewCell *cell=[tableView dequeueReusableCellWithIdentifier:CellIdentifier];

    if(cell == nil){

        //Cell initialization

    }

    [self displaySwitch:self.editing onCell:cell];
} 
```

# xml - 从 PostgreSQL 中的文件插入 XML

> ID：15611304
> 
> 赞同：3
> 
> 时间：2013-03-25T09:19:51.380
> 
> 标签：xml, file, postgresql, insert

我有几个 XML 文件，想将它们的内容插入到 PostgreSQL 表中。该表有两列 - id（序列类型）和一个 xml 类型列，我想在其中插入一个 xml 文件的内容（一行，一列 = 一个 xml 文件）。在文档中，我还没有找到如何从文件中插入 xml。

有一些简单的方法可以做到吗？

马立克

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-25T10:15:31.353

很方便，我刚刚写了一个示例，说明如何使用纯文本文件执行此操作，该文件同样适用于`xml`文件。请参阅[基于 txt 文件更新表行](https://stackoverflow.com/q/15606990/398670)的问题。

事实证明你可以这样做`psql`：

```
regress=> CREATE TABLE xmldemo(id serial primary key, blah xml);
regress=> \set test = `cat some.xml`
regress=> INSERT INTO xmldemo(blah) VALUES (:'test');
INSERT 0 1 
```

如果您正在做很多这样的事情，您可能希望[使用协同进程来](https://stackoverflow.com/questions/7942632/how-to-extrace-pg-backend-pid-from-postgresql-in-shell-script-and-pass-it-to-ano/8305578#8305578)[驱动`psql`](https://stackoverflow.com/questions/7942632/how-to-extrace-pg-backend-pid-from-postgresql-in-shell-script-and-pass-it-to-ano/8305578#8305578)，或者至少生成 SQL 并将其通过管道传输到`psql`的标准输入中，因此您不必一遍又一遍地进行所有连接设置/拆卸。

或者，使用外壳执行此操作：

```
#!/bin/bash
xmlfilename=$1
sep=$(printf '%04x%04x\n' $RANDOM $RANDOM)
psql <<__END__
INSERT INTO mytable(myxmlcolumn) VALUES (
\$x${sep}\$$(cat ${xmlfilename})\$x${sep}\$
);
__END__ 
```

随机分隔符生成是为了防止（不太可能）依赖于知道或猜测美元引用分隔符标签的注入攻击。

如果您使用适当的脚本语言和 PostgreSQL 客户端库（例如带有and的 Perl、带有Python 的 Python或带有gem 的Ruby ）来完成任何重要的工作，您将会*更加清醒和快乐。*在 shell 中对数据库进行大量工作会导致痛苦、痛苦和过度使用协同进程。`DBI``DBD::Pg``psycopg2``Pg`

# java - 从新线程回调到启动线程的类

> ID：15611305
> 
> 赞同：2
> 
> 时间：2013-03-25T09:19:59.013
> 
> 标签：java, multithreading, callback

我有一个类，我从中调用一个新线程。

```
public class MainClass{

 private void cleardata() {
                // do something on a separate thread
                new Thread(new Runnable() {
                    @Override
                    public void run() {
                        //Do Something
        //After this I would like to notify my MainClass that some thing has been done and pass a value. 
        }
      }
     }
   private void callbackFunc(int a){

    // Do something based on value of a 
  }
} 
```

我的 MainClass 中有一个函数。但是我如何从我的新线程中调用这个函数，以便接收回调。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-25T09:23:34.470

您应该能够`MainClass`通过其名称调用该方法，就像您直接从内部调用`MainClass`一样（而不是从内部类调用）。

如果您要调用的方法名称碰巧与您的内部类继承的方法名称冲突，`Object`那么您可以在调用前加上`MainClass.this`，例如`MainClass.this.toString()`调用`toString`on `MainClass`，而只`toString()`在内部类实例上调用它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-25T09:21:57.697

在这种情况下，将 MainClass 的实例传递给线程类（（在创建期间）），以便它可以在其上调用方法。拥有其他人建议的内部类也是一个不错的选择。

相似的东西-

```
class MainClass {

private void cleardata() {
    new Thread(new MyThread(this)).start();
} 
```

}

类 MyThread 实现 Runnable {

```
private MainClass mc;

MyThread(MainClass mc) {
    this.mc = mc;
}

public void run() {
    // do something
    // mc.someMethod();
} 
```

}

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-25T09:25:11.750

```
public class MainClass{

private void cleardata() {
        // do something on a separate thread
        new Thread(new Runnable() {
            @Override
            public void run() {
                callBackFunc(result); 
            }
        }
}

private void callBackFunc(int a) {

}
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-25T09:26:41.403

去做就对了：

```
public class MainClass{

  private void cleardata() {
            // do something on a separate thread
            new Thread(new Runnable() {
                @Override
                public void run() {
                    //Do Something
                    notifyTheClass("a parameter");
     }
  }

  private void notifyTheClass(String aParam) {
  //..do something else
  }  
 }
} 
```

但它与线程无关，这是关于内部类的。如果您希望主线程等到新线程完成，请使用[Futures](http://docs.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/Future.html)获取结果。或者使用其他一些多线程原语。

# asp.net-mvc - 如何注销当用户在未注销的情况下关闭 Web 应用程序

> ID：15611310
> 
> 赞同：4
> 
> 时间：2013-03-25T09:20:12.347
> 
> 标签：asp.net-mvc, asp.net-mvc-3, asp.net-mvc-4, asp.net-mvc-3-areas

我创建了 Asp.net MVC4 Web 应用程序。其中，当用户登录并进行一些浏览，然后从浏览器关闭应用程序而不注销时，之前登录的用户不会注销，当应用程序重新启动时，之前登录的用户会登录。

**我愿意的是，如果用户登录并关闭 Web 应用程序，那么用户应该立即注销。**

**注意 - 我现在还没有在 IIS 上部署应用程序。因此，由于 Web 是无状态的。因此，在部署应用程序的实际场景中，它是否可以正常工作。**

目前，我正在我的开发机器和浏览器上检查它。

我看过以下示例，但没有人有明确的解释

[关闭时自动将用户登出 asp.net 网站](https://stackoverflow.com/questions/5354627/automatically-logging-users-out-of-asp-net-website-on-close)

[当用户在没有注销的情况下关闭浏览器时如何终止会话](https://stackoverflow.com/questions/2910480/how-to-kill-the-session-when-user-closed-the-brower-without-logout)

那么，是否有任何事件可以像我们在桌面应用程序中那样处理或某种关闭。实际上，我以前没有使用过 Web 应用程序。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-11-07T13:13:20.367

尝试在身份验证时将属性 - “createPersistentCookie”设置为 false

例如：

```
 ' generate non-persistent cookie for the authenticated user
Dim authCookie As HttpCookie = System.Web.Security.FormsAuthentication.GetAuthCookie(_logonModel.UserName, False) 
```

# database - 对于可能非常繁忙的 Web 服务，我必须考虑哪些因素？

> ID：15611311
> 
> 赞同：1
> 
> 时间：2013-03-25T09:20:19.297
> 
> 标签：database, wcf, database-design, specifications, high-traffic

根据标题，假设我有一个 WCF Web 服务，在一天中的特定时间会遇到大量的流量/呼叫。对 Web 服务的每次调用都将调用对数据库的写入和从同一数据库的读取。

从技术上讲，我必须考虑什么（如果有的话）来保护数据库免受任何因频繁读写而产生的不良影响？

此外，考虑到这一点，WCF Web 服务的编码/结构是否必须有所不同？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-25T13:39:49.660

有两种基本方法：

*   限制输入。使用 WCF 中的限制功能来减少数据库的负载。
*   在 WCF 调用和您的数据库之间放置一层保护。例如，用于防止传入消息的队列和用于防止过度读取的缓存。

您选择哪一种将取决于您的情况。第一个实施起来非常便宜，因为它只是一个配置更改，但是您的 WCF 服务用户可能会注意到他们正在受到限制。第二个对服务的用户来说更好，但实施起来要贵得多。

# python - 根据Python中文件的内容替换字符串中的单词

> ID：15611314
> 
> 赞同：-4
> 
> 时间：2013-03-25T09:20:23.647
> 
> 标签：python

我有一个带有以下行的文本文件 - `a boy is drinking water`。假设我将此文件称为 A.txt

我的目标是`water` 用用户在 A.txt 中输入的任何内容替换这个词。并保持其他东西完好无损。如果 A.txt 更改为`a boy is drinking juice`并将 A.txt 作为参数传递给 Python 脚本，我希望输出为`a boy is drinking juice`.

我们如何才能只替换字符串中的那个特定字母。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-25T09:22:39.847

打开文件，检索内容。
要替换单词中的某个字符串，请使用`textFromFile.replace('oldtext','newtext')`
将内容保存到文件。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-03-25T09:35:16.327

使用此代码

```
namespace string_replace
{
class Program
{
    static void Main(string[] args)
    {
        string text = System.IO.File.ReadAllText(@"a.txt");
        //read the text to replace
        text.Replace("water","user_string");
        System.IO.File.WriteAllText(@"A.txt", text);
    }
  }
} 
```

# php - 未成功在 php 中创建 json

> ID：15611316
> 
> 赞同：0
> 
> 时间：2013-03-25T09:20:33.277
> 
> 标签：php, json

我有一个问题，
我从数组数据创建了多个 json，但是我有问题输出，json 子菜单或子菜单总是打印每个元素，该 json 子菜单应该打印在字段 media_menu_parent_id 的关系中

你能帮帮我吗？

我可以发布我的图片表，因为我的声誉 < 10 :(

这是我的代码控制器

```
header("Content-type: application/json; charset=utf-8");
    $main_arr = array();

    if (!$mediaId) {
        $main_arr['status'] = "nok";
        $main_arr['message'] = "Media id is null";
        $json = json_encode($main_arr);
        echo $json;
        exit();
    }

    $where = array( 'media_menu.status'=>1 ,
                    'media_menu.media_menu_parent_id'=>0,
                    'media_menu.media_id'=>$mediaId
                  );

    $count = $this->mediamenumodel->getCountMediaMenu($where);
    $result = $this->mediamenumodel->getMediaMenu($where,$offest,$page);

    if (!$result) {
        $main_arr['status'] = "nok";
        $main_arr['message'] = "Data not Found";
        $json = json_encode($main_arr);
        echo $json;
        exit();
    }

    $main_arr['rowCount'] = $count;
    $main_arr['media_id'] = $result[0]['media_id'];
    $main_arr['media_name'] = $result[0]['media_name'];

    $h=0;
    foreach($result as $key => $value)
    {    
        $where1 = array('media_menu_parent_id' => $value['media_menu_id']);
        $count1 = $this->mediamenumodel->getCountMediaMenu($where1);
        $getMediaMenu1 = $this->mediamenumodel->getMediaMenu($where1, $count1);

        $arr['media_menu_id']   = $value['media_menu_id'];
        $arr['media_menu_name'] = $value['media_menu_name'];
        $arr['media_menu_url']  = $value['media_menu_url'];
        $arr['thumbnail']       = !empty($value['thumbnail']) ? URL_CONTENT_MENU_THUMB.$value['thumbnail'] : "";

        if ($count1>0) {
            $i=0;
            $arr['lewat'] = "ok";
            foreach ($getMediaMenu1 as $key1 => $value1){
                $arr['submenu'][$i]['media_menu_id']    = $value1['media_menu_id'];
                $arr['submenu'][$i]['media_menu_name']  = $value1['media_menu_name'];
                $arr['submenu'][$i]['media_menu_url']   = $value1['media_menu_url'];
                $arr['submenu'][$i]['thumbnail']        = !empty($value1['thumbnail']) ? URL_CONTENT_MENU_THUMB.$value['thumbnail'] : "";

                $i++;

            }

        }

        $main_arrx[] = $arr;
        $h++;
    }

    $main_arr['data'] = $main_arrx;

    $json = json_encode($main_arr);
    echo $json; 
```

可以确定我的模型运行良好，我尝试修改数组格式，但没有成功

这是json输出：

```
{

"rowCount": 5,
"media_id": "1",
"media_name": "sites",
"data": [
    {
        "media_menu_id": "5",
        "media_menu_name": "Games",
        "media_menu_url": "",
        "thumbnail": "",
        "submenu": [
            {
                "media_menu_id": "7",
                "media_menu_name": "Games 2",
                "media_menu_url": "",
                "thumbnail": "",
                "submenu": [
                    {
                        "media_menu_id": "9",
                        "media_menu_name": "Games 2-2",
                        "media_menu_url": null,
                        "thumbnail": ""
                    },
                    {
                        "media_menu_id": "8",
                        "media_menu_name": "Games 2-1",
                        "media_menu_url": null,
                        "thumbnail": ""
                    }
                ]
            },
            {
                "media_menu_id": "6",
                "media_menu_name": "Games 1",
                "media_menu_url": null,
                "thumbnail": ""
            }
        ]
    },
    {
        "media_menu_id": "4",
        "media_menu_name": "Application",
        "media_menu_url": null,
        "thumbnail": "",
        "submenu": [
            {
                "media_menu_id": "7",
                "media_menu_name": "Games 2",
                "media_menu_url": "",
                "thumbnail": "",
                "submenu": [
                    {
                        "media_menu_id": "9",
                        "media_menu_name": "Games 2-2",
                        "media_menu_url": null,
                        "thumbnail": ""
                    },
                    {
                        "media_menu_id": "8",
                        "media_menu_name": "Games 2-1",
                        "media_menu_url": null,
                        "thumbnail": ""
                    }
                ]
            },
            {
                "media_menu_id": "6",
                "media_menu_name": "Games 1",
                "media_menu_url": null,
                "thumbnail": ""
            }
        ]
    },
    {
        "media_menu_id": "3",
        "media_menu_name": "Rich Content",
        "media_menu_url": null,
        "thumbnail": "",
        "submenu": [
            {
                "media_menu_id": "7",
                "media_menu_name": "Games 2",
                "media_menu_url": "",
                "thumbnail": "",
                "submenu": [
                    {
                        "media_menu_id": "9",
                        "media_menu_name": "Games 2-2",
                        "media_menu_url": null,
                        "thumbnail": ""
                    },
                    {
                        "media_menu_id": "8",
                        "media_menu_name": "Games 2-1",
                        "media_menu_url": null,
                        "thumbnail": ""
                    }
                ]
            },
            {
                "media_menu_id": "6",
                "media_menu_name": "Games 1",
                "media_menu_url": null,
                "thumbnail": ""
            }
        ]
    },
    {
        "media_menu_id": "2",
        "media_menu_name": "Top Download",
        "media_menu_url": null,
        "thumbnail": "",
        "submenu": [
            {
                "media_menu_id": "7",
                "media_menu_name": "Games 2",
                "media_menu_url": "",
                "thumbnail": "",
                "submenu": [
                    {
                        "media_menu_id": "9",
                        "media_menu_name": "Games 2-2",
                        "media_menu_url": null,
                        "thumbnail": ""
                    },
                    {
                        "media_menu_id": "8",
                        "media_menu_name": "Games 2-1",
                        "media_menu_url": null,
                        "thumbnail": ""
                    }
                ]
            },
            {
                "media_menu_id": "6",
                "media_menu_name": "Games 1",
                "media_menu_url": null,
                "thumbnail": ""
            }
        ]
    },
    {
        "media_menu_id": "1",
        "media_menu_name": "Hot Promo",
        "media_menu_url": "",
        "thumbnail": "",
        "submenu": [
            {
                "media_menu_id": "10",
                "media_menu_name": "Hot Promo 1",
                "media_menu_url": null,
                "thumbnail": "",
                "submenu": [
                    {
                        "media_menu_id": "9",
                        "media_menu_name": "Games 2-2",
                        "media_menu_url": null,
                        "thumbnail": ""
                    },
                    {
                        "media_menu_id": "8",
                        "media_menu_name": "Games 2-1",
                        "media_menu_url": null,
                        "thumbnail": ""
                    }
                ]
            },
            {
                "media_menu_id": "6",
                "media_menu_name": "Games 1",
                "media_menu_url": null,
                "thumbnail": ""
            }
        ]
    }
]

} 
```

我想要这样的输出：

```
{

"rowCount": 5,
"media_id": "1",
"media_name": "sites",
"data": [
    {
        "media_menu_id": "5",
        "media_menu_name": "Games",
        "media_menu_url": "",
        "thumbnail": "",
        "submenu": [
            {
                "media_menu_id": "7",
                "media_menu_name": "Games 2",
                "media_menu_url": "",
                "thumbnail": "",
                "submenu": [
                    {
                        "media_menu_id": "9",
                        "media_menu_name": "Games 2-2",
                        "media_menu_url": null,
                        "thumbnail": ""
                    },
                    {
                        "media_menu_id": "8",
                        "media_menu_name": "Games 2-1",
                        "media_menu_url": null,
                        "thumbnail": ""
                    }
                ]
            },
            {
                "media_menu_id": "6",
                "media_menu_name": "Games 1",
                "media_menu_url": null,
                "thumbnail": ""
            }
        ]
    },
    {
        "media_menu_id": "4",
        "media_menu_name": "Application",
        "media_menu_url": null,
        "thumbnail": ""
    },
    {
        "media_menu_id": "3",
        "media_menu_name": "Rich Content",
        "media_menu_url": null,
        "thumbnail": ""
    },
    {
        "media_menu_id": "2",
        "media_menu_name": "Top Download",
        "media_menu_url": null,
        "thumbnail": ""
    },
    {
        "media_menu_id": "1",
        "media_menu_name": "Hot Promo",
        "media_menu_url": "",
        "thumbnail": "",
        "submenu": [
            {
                "media_menu_id": "10",
                "media_menu_name": "Hot Promo 1",
                "media_menu_url": null,
                "thumbnail": ""
            }
        ]
    }
] 
```

}

谢谢，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-25T10:31:44.753

请试试这个：

```
foreach($result as $key => $value){ 
    $where1 = array('media_menu_parent_id' => $value['media_menu_id']);
    $count1 = $this->mediamenumodel->getCountMediaMenu($where1);
    $getMediaMenu1 = $this->mediamenumodel->getMediaMenu($where1, $count1);
    $arr = []; // reset before constructing a new parent.. 
```

# jquery - 添加 jquery 时 HTML 代码不呈现

> ID：15611320
> 
> 赞同：-1
> 
> 时间：2013-03-25T09:20:43.293
> 
> 标签：jquery, html, internet-explorer, browser, cross-browser

我在 JSP 页面中有以下 html，由于某种原因，如果`<script type="text/javascript"> $("#department").autocomplete("department.jsp",{minChars: 4});`在第一次添加之后`input type`，其余字段不会出现在 Internet Explorer 8 中，但在 Firefox 和 Chrome 中确实会出现。

这可能是什么原因？

```
<table width="583" border="0">
      <tr>
        <td>Employee No:</td>
        <td> <input type="text" id="employee " name="employee " size="30">          
                 <script type="text/javascript">
        $("#department").autocomplete("department.jsp");
           </script></td>
      </tr> 
```

以下代码不会在 IE 8 中呈现

```
 <tr>
        <td>Join Date </td>
        <td>
        <input type="text" id="jdate" name="jdate" size="30"/></td>
      </tr>
      <tr>
        <td>Contracrt </td>
        <td><input type="text" id="cont" name="cont" size="30"/></td>
      </tr>         
    </table> 
```

**编辑 1**

完整的 HTML 代码

```
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<%@ page contentType="text/html;charset=windows-1252"%>
<%@ taglib uri="http://java.sun.com/jsf/html" prefix="h"%>
<%@ taglib uri="http://java.sun.com/jsf/core" prefix="f"%>
 <html><head>
 <link rel="stylesheet" type="text/css" href="css/jquery.autocomplete.css" />
    <script type="text/javascript"
            src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
    <script src="js/jquery.autocomplete.js" type="text/javascript"></script>    

    </head>
    <body>
    <p>
      <f:view>
        <h:form id="employeefrm">
   <table width="583" border="0">
      <tr>
        <td>Employee No:</td>
        <td> <input type="text" id="employee " name="employee " size="30">          
                 <script type="text/javascript">
        $("#department").autocomplete("department.jsp");
           </script></td>
      </tr>
      <tr>
        <td>Join Date </td>
        <td>
        <input type="text" id="jdate" name="jdate" size="30"/></td>
      </tr>
      <tr>
        <td>Contracrt </td>
        <td><input type="text" id="cont" name="cont" size="30"/></td>
      </tr>         
    </table>

    <p>&nbsp;</p>
     </h:form>
      </f:view>
    </body>
</html> 
```

**编辑 2**

```
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd"> 
 <html><head>
 <link rel="stylesheet" type="text/css" href="css/jquery.autocomplete.css" />
    <script type="text/javascript"
            src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
    <script src="js/jquery.autocomplete.js" type="text/javascript"></script>             
    </head>
    <body>
    <p>

        <form id="employeefrm" method="post" action="emp.jsp" enctype="application/x-www-form-urlencoded">

    <table width="583" border="1">
      <tr>
        <td>Employee No:</td>
        <td> <input type="text" id="employee " name="employee " size="50">          
                 <script type="text/javascript">

      $("#department").autocomplete("department.jsp");

           </script></td>
      </tr>
      <tr>
        <td>Join Date </td>
        <td>
        <input type="text" id="jdate" name="jdate" size="30"/></td>
      </tr>
      <tr>
        <td>Contracrt  </td>
        <td><input type="text" id="cont" name="cont" size="30"/></td>
      </tr>      
    </table>         
          <p>&nbsp;</p>
     <input type="hidden" name="employeefrm" value="employeefrm" /></form>

    </body>
</html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-25T09:25:32.803

尝试这个 ：

```
 $(document).ready(function() {
 $("#department").autocomplete("department.jsp");});
} 
```

并把它放在前面

# excel - 复制/粘贴到多个单元格后类型不匹配？

> ID：15611325
> 
> 赞同：3
> 
> 时间：2013-03-25T09:20:51.850
> 
> 标签：excel, vba

我正在尝试制作一个在单元格更新时自动执行的小型 Excel 宏：

```
Private Sub Worksheet_Change(ByVal Target As Range)

    If Target.Value = "N/A" Then
        Target.Interior.Color = RGB(205, 201, 201)
    End If

    If Target.Value = "Pass" Then
        Target.Interior.Color = RGB(0, 255, 0)
    End If

    If Target.Value = "Fail" Then
        Target.Interior.Color = RGB(255, 0, 0)
    End If

End Sub 
```

但是，当我尝试在多个其他单元格中复制和粘贴任何单元格时，我收到此错误：

运行时错误“13”：类型不匹配。

为什么会这样，我该如何解决？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-25T09:29:53.260

因为在这种情况下，您在`Target`. 试试这个代码

*我已禁用`Events`，因为这是使用时的好习惯`Worksheet_Change`- 即使单元格颜色更改不会重新触发事件*

```
Private Sub Worksheet_Change(ByVal Target As Range)
Dim rng1 As Range

With Application
.EnableEvents = False
.ScreenUpdating = False
End With

For Each rng1 In Target.Cells
   Select Case rng1.Value
   Case "N/A"
    Target.Interior.Color = RGB(205, 201, 201)
   Case "Pass"
      Target.Interior.Color = RGB(0, 255, 0)
       Case "Fail"
      Target.Interior.Color = RGB(255, 0, 0)
    End Select
Next

With Application
.EnableEvents = True
.ScreenUpdating = True
End With

End Sub 
```

# c# - 如何模拟按 f2 使树视图节点可编辑

> ID：15611326
> 
> 赞同：0
> 
> 时间：2013-03-25T09:20:52.783
> 
> 标签：c#, winforms, telerik

我正在将 Telerik Q3 2010 的 radtreeview 控件用于 winForms，我想要执行以下操作，添加一个新节点后，它应该在编辑模式下添加，这在 Telerik 2010 中不受支持，所以我需要模拟按 F2 到使节点可编辑。我发现这个主题是关于同一主题的：[How to simulation press F2 button with keyboard focus on treeview in wpf?](https://stackoverflow.com/questions/10581070/how-to-simulate-pressing-f2-button-with-keyboard-focus-on-treeview-in-wpf) ，但我需要在 Winform 而不是 WPF 中这样做，你能帮我吗？

**编辑** 我使用了 sendKeys 方法 + tree.BeginEdit 但没有成功！这是我的代码：

```
 private void radButton6_Click(object sender, EventArgs e)
        {
            RadTreeNode newNode = new RadTreeNode();
            newNode.Text = "new Cabinet";
            newNode.Tag = "new Cabinet";
            cabinetsTree.Nodes.Add(newNode);
            cabinetsTree.SelectedNode = cabinetsTree.Nodes[cabinetsTree.Nodes.Count-1];
            cabinetsTree.ScrollToBottom(); //To set the focus on the new added node
            cabinetsTree.Focus();
            cabinetsTree.AllowEdit = true;
            SendKeys.Send("{F2}");
            cabinetsTree.BeginEdit();
        } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-25T11:34:13.287

节点应该有一个`BeginEdit()`允许用户重命名节点的方法。根据[文档](http://www.telerik.com/help/winforms/treeview-working-with-nodes-editing-nodes.html)。

> 使用 BeginEdit() 方法在选定节点上启动编辑

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-26T07:15:12.070

您应该首先允许在控件中编辑节点，然后使用节点的 BeginEdit 方法：

```
public partial class Form1 : Form
{
    RadTreeView tree = new RadTreeView();

    public Form1()
    {
        InitializeComponent();

        this.Controls.Add(tree);
        tree.Size = new Size(500, 500);
        tree.AllowEdit = true;

    }

    private void button1_Click(object sender, EventArgs e)
    {
        RadTreeNode newNode = new RadTreeNode();
        newNode.Text = "new Cabinet";
        tree.Nodes.Add(newNode);
        newNode.BeginEdit();
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-25T10:02:28.800

您可以通过捕获键盘上的按键事件并在按下 f2 键时将编辑模式设置为 true 来解决此问题。

# python - 如何在 NLTK 中保存自定义分类语料库

> ID：15611328
> 
> 赞同：0
> 
> 时间：2013-03-25T09:20:56.853
> 
> 标签：python, nlp, nltk

如何将新的语料库“保存”到 NLTK 语料库数据？

就我而言，在我在 NLTK 中创建了一个新的自定义分类语料库之后，就像在此页面中所说：[在 NLTK 和 Python 中创建自定义分类语料库](https://stackoverflow.com/questions/10463898/creating-a-custom-categorized-corpus-in-nltk-and-python)

我想像 NLTK 中已经安装的语料库一样使用它（比如 movie_reviews）。我怎样才能做到这一点？换句话说，我读过的新语料库（比如movie_reviews_0）怎么可以这样调用：

```
>>> import nltk
>>> from nltk.corpus import movie_reviews_0 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-25T09:40:01.443

您可以将其添加到您自己的`nltk_data/corpora`文件夹中，该文件夹应该位于您的主目录中。例如，如果您使用的是 Mac，它将位于`~/nltk_data/corpora`. 看起来您还必须将新语料库附加到`__init__.py`inside `.../site-packages/nltk/corpus/`。

# delphi - ClientDataset 在 datasnap 中从 Datasetprovider 重新排列表，在以 ' 开头的字符串上

> ID：15611330
> 
> 赞同：2
> 
> 时间：2013-03-25T09:21:01.460
> 
> 标签：delphi, delphi-xe3, datasnap, tclientdataset, firemonkey-fm2

在我的 Datasnap 服务器上，我查询一些记录并按字符串字段对它们进行排序。以 ' 开头的字符串在前面，这是默认行为。（数据库是interbase）

```
'Aaa
'Bbb
Aaa
Bbb 
```

当我在客户端上使用 tClientdataset 和 TDSProviderConnection 并通过 TDatasetProvider 连接到 TSQLDataset 时，客户端上的表如下所示：

```
'Aaa
aaa
'Bbb
bbb 
```

如何阻止这种情况？我确信服务器上的 TSQLdataset 中的顺序是正确的。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-25T09:46:23.170

我在发布后立即找到了答案，但我把它留在这里。

它是 TDatasetProvider 的一个选项

```
poRetainServerOrder : True 
```

很奇怪，这不是默认行为。

# jquery - 表单提交后的 Ajax 调用

> ID：15611331
> 
> 赞同：0
> 
> 时间：2013-03-25T09:21:11.910
> 
> 标签：jquery, ajax, form-submit

提交表单后，ajax 调用出现以下问题。

```
$('#EVE_fileupload').on('submit', function() 
{
    var apcID = $('#APC_UPLOAD_PROGRESS').val(); 

    GetUploadProgress(apcID);
    return true;
}); 
```

在这种情况下，GetUploadProgress 函数中的 Ajax 调用总是返回错误。我猜这是由于浏览器中的提交事件。当我在提交函数中“返回 false”时，ajax 调用正常并且我得到正确的响应消息。

有人给我提示吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-25T09:24:32.760

提交表单后，您必须防止页面刷新。这就是为什么当您返回 false 时您的表单正在工作的原因。

```
$('#EVE_fileupload').on('submit', function(e) 
{

    e.preventDefault();

    var apcID = $('#APC_UPLOAD_PROGRESS').val(); 

    GetUploadProgress(apcID);

}); 
```

# extjs - 我在 sencha-touch-2.0.0-gpl 文件中找不到 Sencha Cmd？

> ID：15611332
> 
> 赞同：0
> 
> 时间：2013-03-25T09:21:15.837
> 
> 标签：extjs, sencha-touch, cmd, sencha-touch-2

`sencha-touch-2.0.0-gpl`我在文件和 SenchaSDKTools 文件中找不到 Sencha Cmd 。有人可以向我指出它，还是有它不存在的原因？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-25T18:35:10.920

Sencha Cmd 不随框架提供。您需要单独下载

此外，您需要知道您的 Sencha Cmd 不适用于 Sencha Touch 2.0。它仅适用于 Sencha Touch 2.1.0 和最新版本。

如果您真的不想升级到 Sencha Touch 2.1（我不推荐），那么您需要使用 Sencha SDK Tools。

[为 Sencha Touch 下载 Sencha Cmd > 2.1.0](http://www.sencha.com/products/sencha-cmd/download) -[文档](http://docs.sencha.com/touch/2-1/#!/guide/command)

[下载 Sencha Touch < 2.1.0 的 Sencha SDK 工具](http://www.sencha.com/products/sdk-tools)-[文档](http://docs.sencha.com/touch/2-0/#!/guide/command)

# c# - 如何将背景图像设置为动态生成的图像

> ID：15611333
> 
> 赞同：0
> 
> 时间：2013-03-25T09:21:16.427
> 
> 标签：c#, gdi

我正在使用以下代码创建一些动态图像

```
System.Drawing.Image img = new Bitmap(300, 600);

Graphics drawing = Graphics.FromImage(img);

//paint the background
drawing.Clear(System.Drawing.Color.White);

//create a brush for the text
Brush textBrush = new SolidBrush(textColor);

drawing.DrawString(text, font, textBrush, 0, 0);

drawing.Save();

textBrush.Dispose();
drawing.Dispose(); 
```

我想使用图像（公司徽标）而不是白色背景，以使其像水印一样。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-25T09:49:00.297

将您的 textBrush 定义更改为如下所示：

```
int alpha = 128; // range from 0 (transparent) to 255 (opaque)
Brush textBrush = new SolidBrush(Color.FromArgb(alpha, textColor); 
```

# c# - 我可以在 WPF 网格中获取标题，从数据模板中获取其行吗？

> ID：15611336
> 
> 赞同：5
> 
> 时间：2013-03-25T09:21:30.997
> 
> 标签：c#, wpf, xaml

我正在使用彼此上方的网格来实现一个标题表，因此我可以指定列标题。标题有一个网格，表格中的每一行都有一个网格。这不是很实用，标题宽度必须指定两次。也许我可以拥有一个没有所有样式的 ListView/DataGrid？

我怎样才能摆脱这种多网格方法？

这是我得到的：

```
<StackPanel Orientation="Vertical">
  <Grid Margin="0, 10, 0, 0">
    <Grid.ColumnDefinitions>
      <ColumnDefinition Width="40" />
      <ColumnDefinition Width="70" />
    </Grid.ColumnDefinitions>
    <Grid.RowDefinitions>
      <RowDefinition />
    </Grid.RowDefinitions>
    <TextBlock Grid.Column="0" Grid.Row="0"
            Text="header 1" />
    <TextBlock Grid.Column="1" Grid.Row="0"
            Text="header 2" />
  </Grid>
  <ItemsControl ItemsSource="{Binding Entities}">
    <ItemsControl.ItemTemplate>
      <DataTemplate>
        <StackPanel Orientation="Vertical">
          <Grid Margin="0, 10, 0, 0">
            <Grid.ColumnDefinitions>
              <ColumnDefinition Width="40" />
              <ColumnDefinition Width="70" />
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
              <RowDefinition />
            </Grid.RowDefinitions>
            <TextBlock Grid.Column="0" Grid.Row="0"
               Text="{Binding Property1}" />
            <TextBlock Grid.Column="1" Grid.Row="0"
               Text="{Binding Property2}" />
          </Grid>
        </StackPanel>
      </DataTemplate>
    </ItemsControl.ItemTemplate>
  </ItemsControl>
</StackPanel> 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-03-25T09:47:11.627

您可以使用[Grid.IsSharedSizeScope](http://msdn.microsoft.com/en-us/library/system.windows.controls.grid.issharedsizescope.aspx)附加属性

```
<StackPanel Orientation="Vertical" Grid.IsSharedSizeScope="True">
  <Grid Margin="0, 10, 0, 0">
    <Grid.ColumnDefinitions>
      <ColumnDefinition SharedSizeGroup="First" Width="40" />
      <ColumnDefinition SharedSizeGroup="Second" Width="70" />
    </Grid.ColumnDefinitions>
    <Grid.RowDefinitions>
      <RowDefinition />
    </Grid.RowDefinitions>
    <TextBlock Grid.Column="0" Grid.Row="0"
            Text="header 1" />
    <TextBlock Grid.Column="1" Grid.Row="0"
            Text="header 2" />
  </Grid>
  <ItemsControl ItemsSource="{Binding Entities}">
    <ItemsControl.ItemTemplate>
      <DataTemplate>
        <StackPanel Orientation="Vertical">
          <Grid Margin="0, 10, 0, 0">
            <Grid.ColumnDefinitions>
              <ColumnDefinition SharedSizeGroup="First" />
              <ColumnDefinition SharedSizeGroup="Second" />
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
              <RowDefinition />
            </Grid.RowDefinitions>
            <TextBlock Grid.Column="0" Grid.Row="0"
               Text="{Binding Property1}" />
            <TextBlock Grid.Column="1" Grid.Row="0"
               Text="{Binding Property2}" />
          </Grid>
        </StackPanel>
      </DataTemplate>
    </ItemsControl.ItemTemplate>
  </ItemsControl>
</StackPanel> 
```

# spring - Spring中的多动作控制器问题

> ID：15611338
> 
> 赞同：0
> 
> 时间：2013-03-25T09:21:35.123
> 
> 标签：spring, spring-mvc

我有一个 jsp 页面，我必须从中将控件传递到下一页。我正在为此使用多动作控制器，但它给了我一个错误 404。

我的 JSP 文件是

```
<form id="form1" name="form1" method="post"  action="registerSuccessControl.htm" commandName="register" >
        <strong> <label> <label> <label>
                        <div align="center">Registeration</div>
                </label></strong> <label></label>
        <h1>&nbsp;</h1>
        <p>
            First Name <input type="text" name="textfield" accesskey="1"
                tabindex="1" /> <label>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                &nbsp;Last Name</label> <strong> <input type="text"
                name="textfield3" />
            </strong>
        </p> 
```

这是我的控制器

```
@RequestMapping("/registerSuccessControl.htm")
    public ModelAndView registerSuccessControl(@ModelAttribute("register") Register register,BindingResult brResult,HttpServletRequest request,HttpServletResponse response) throws Exception {
        System.out.println("RegisterSuccesssControl called");
        //logger.debug("Registration Page Accessed at "+new Date());
        System.out.println("I am In registerSuccess");

        RegistrationValidator uValidator=new RegistrationValidator();       
        uValidator.validate(register,brResult);     
        HashMap<String, BindingResult> resultMap = new HashMap<String, BindingResult>();
        if(brResult.hasErrors()){           
            resultMap.put("errors", errors);
            return new ModelAndView("Register",resultMap);
        }
        else 
            return new ModelAndView("Firm");
} 
```

我在同一个控制器中处理了其他请求并且它工作正常，但它不适用于这个链接。

# python - TKinter 8.5 中的布尔变量

> ID：15611340
> 
> 赞同：4
> 
> 时间：2013-03-25T09:21:43.873
> 
> 标签：python, tkinter

我在 python shell 中做了这个：

```
from Tkinter import *

v = BooleanVar() 
```

但我收到以下错误：

```
Traceback (most recent call last):
  File "<pyshell#52>", line 1, in <module>
    v = BooleanVar()
  File "/usr/lib/python2.7/lib-tk/Tkinter.py", line 320, in __init__
    Variable.__init__(self, master, value, name)
  File "/usr/lib/python2.7/lib-tk/Tkinter.py", line 185, in __init__
    self._tk = master.tk
AttributeError: 'NoneType' object has no attribute 'tk'
>>> 
```

然后在尝试使其正常工作的同时，我尝试了以下操作：

```
v = BooleanVar 
```

这奏效了。

所以我继续做下一个合乎逻辑的事情，检查变量是否已经初始化并得到这个：

```
>>> v
<class Tkinter.BooleanVar at 0xb6f666bc> 
```

然后我尝试使用该值进行初始化，`True`为此我使用了以下`set`方法：

```
v.set(True) 
```

为此我收到以下错误：

```
Traceback (most recent call last):
  File "<pyshell#63>", line 1, in <module>
    v.set(True)
TypeError: unbound method set() must be called with BooleanVar instance as first argument (got bool instance instead) 
```

**这**是怎么回事？

**请**帮我解决这个问题

**目标**我想将其用作与菜单中的复选按钮关联的变量

**规格**Linux mint 14、python 2.7、Tkinter 8.5

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-25T09:43:21.970

简短的回答：`root = tk.Tk()`先打电话。

* * *

长答案：引发错误的行，

```
self._tk = master.tk 
```

失败是因为`master`is `None`。但是，请查看此行上方的代码（在 Tkinter.py 中）：

```
class Variable:
    def __init__(self, master=None, value=None, name=None):

        if not master:
            master = _default_root
        ...
        self._tk = master.tk 
```

如果您将`master`小部件显式传递给`BooleanVar`（它是 的子类`Variable`），则`master`不会是`None`. 或者，如果`_default_root`不是`None`，那么`master`就不是`None`。

* * *

在普通的 Tkinter 应用程序中，您将在创建`BooleanVar`. 在这种情况下，`tk.BooleanVar()`不会引发错误。

`root = tk.Tk()`将`_default_root`全局变量设置为自身（只要`useTk`参数是`True`-- 默认情况下）。如果没有明确设置主控，则`_default_root`被`BooleanVar`用作小部件的主控`tk.BooleanVar(master)`。

所以总而言之，要么调用`root = tk.Tk()`或类似的东西来设置`_default_root`调用之前`tk.BooleanVar()`，要么传递一个显式的主小部件作为第一个参数`tk.BooleanVar(master)`：

```
In [1]: import Tkinter as tk

In [2]: root = tk.Tk()

In [3]: x = tk.BooleanVar()

In [4]: x.set(True)

In [5]: x.get()
Out[5]: 1 
```

# css - 将 div 包裹在图像周围

> ID：15611341
> 
> 赞同：7
> 
> 时间：2013-03-25T09:21:46.547
> 
> 标签：css

我在这样的图像周围有一个 div：

```
<div class="q">
    <img src="http://upload.wikimedia.org/wikipedia/commons/a/af/Bonsai_IMG_6426.jpg" />
</div> 
```

结果是 div 比图像大。我想将它包裹在图像周围，使其具有相同的高度和宽度（不设置尺寸）

```
img {
    z-index: -1;
    position: relative;
    width:300px;
}

.q {
    width:100%;
    height:100%;
box-shadow:inset 0px 0px 85px red;
-webkit-box-shadow:inset 0px 0px 85px red;
-moz-box-shadow:inset 0px 0px 85px red;
} 
```

我尝试了高度和宽度“自动”，但它也不起作用。

[提琴手](http://jsfiddle.net/WpGsx/1/)

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-03-25T09:28:40.567

你可以添加这些：

```
img {
    display: block;
}

.q {
    float: left;
} 
```

并删除：

```
.q {
    width: 100%
    height: 100%;
} 
```

**[jsfiddle](http://jsfiddle.net/WpGsx/4/)**

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-25T09:31:13.543

给你

```
<html>
<head>
<style type="text/css">
img {
    z-index: -1;
    position: relative;
    width:300px;
}

.q {
    width:300px;    
box-shadow:inset 0px 0px 85px red;
-webkit-box-shadow:inset 0px 0px 85px red;
-moz-box-shadow:inset 0px 0px 85px red;
}
</style>
</head>
<body>
<div class="q">
    <img src="http://upload.wikimedia.org/wikipedia/commons/a/af/Bonsai_IMG_6426.jpg" />
</div>
<body>
</html> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-25T09:24:25.780

将 div 的边距和填充设置为零：

```
div.q{
margin:0;
padding:0;
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2015-10-02T04:38:13.280

我发现这个方法最简单，

```
<div style="display:inline-block">

            <p style="float: left; padding-left: 20px">
                <img src="Images/user.png" style="height: 200px; width: 207px" />
            </p>
            <h4 style="text-align: center">Client Zone</h4>
            <p>So, he played with that child, the whole day long, and they were very merry.</p>
    </div> 
```

此示例中包含文本，但即使您使用`<h4>`最后一个`<p>`标签

```
<div style="display:inline-block;" > 
```

“显示：内联块；” 确保整个图像被包裹在`<div>`标签内。

# android - Google Maps android api 2：默认标记不可点击

> ID：15611344
> 
> 赞同：0
> 
> 时间：2013-03-25T09:21:54.733
> 
> 标签：android, google-maps, google-maps-android-api-2

在我的应用程序中，默认标记不可点击（与显示气球的设备中安装的谷歌地图相比）。这是正常的行为吗？

如何在点击时显示气球的默认行为？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T21:00:09.803

这些标记将不可点击。我们禁用了为他们显示信息窗口。还有一个与它们相关的错误：[http ://code.google.com/p/gmaps-api-issues/issues/detail?id=5062](http://code.google.com/p/gmaps-api-issues/issues/detail?id=5062)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-25T10:44:22.283

也许您没有为标记设置标题。如果没有标题，则不会弹出“气泡”。尝试`yourMarker.setTitle("Hello World!");`

# jquery - Raphael Freetransform 切换显示/隐藏句柄，对象在前面，对象可以移除

> ID：15611345
> 
> 赞同：4
> 
> 时间：2013-03-25T09:21:55.350
> 
> 标签：jquery, raphael

**更新**

我正在使用 Raphael Freetransform 显示来自用户上传的 imgs，
搜索了很长时间，如何在下面的事情
1)`click`切换`showhandle``hidehandle`？ **解决了**

2)**每次创建新的 Freetransform 对象时添加一个新按钮。
- 单击按钮对象可以被删除。**

3）**Raphael对象可以使用`toFront`，Freetransform怎么做**

使用 Raphael Freetransform 基本编码：

```
var paper = Raphael($('.canvas')[0], 1000, 1000);
var r_img = paper.image('img/path'+file_type, 100, 100, 200, 200);
paper.freeTransform(r_img).setOpts({drag:'self', scale:true, rotate:true, draw:[ 'bbox' ], keepRatio: true}); 
```

用户在画布中上传 2 个 img 后，输出源代码将是：

```
<image></image>
<image></image>
// 1st image handle
<path></path>
<circle></circle>
<path></path>
<circle></circle>
<path></path>
<rect></rect> // x8
// 2nd image handle
<path></path>
<circle></circle>
<path></path>
<circle></circle>
<path></path>
<rect></rect> // x8 
```

解决问题 2）
如果我创建一个 div 标签是按钮，我找不到 1 个组（图像和句柄）被选择。

解决问题 3)
如果`click`，`image`可以使用`toFront` [资源](https://stackoverflow.com/questions/6566406/svg-re-ordering-z-index-raphael-optional)，但是手柄怎么在前面呢？

[http://jsfiddle.net/Ls7FS/3/](http://jsfiddle.net/Ls7FS/3/)

```
 img.onload = function(){
    var img_width = this.width, img_height = this.height;
    var img_scale = img_width / 200;
    var new_height = img_height / img_scale;
    var ft, r_img = paper.image('img/'+path, 0, 0, 200, new_height), dragged = false;

    r_img.click(function(){
        // Toggle handles on click if no drag occurred
        if(!dragged){
            if( ft.handles.center === null){
                ft.showHandles();
                console.log('front');
                r_img.toFront();
                //r_img.remove();
            }else{
                ft.hideHandles();
            }
        }
    });
    ft = paper.freeTransform(r_img, {draw:[ 'bbox' ], keepRatio: true, size: 3 }, function(ft, events){
        if(events.indexOf('drag start') !== -1){
            dragged = false;
        }
        if(events.indexOf('drag') !== -1){
            dragged = true;
        }
    });
};
img.src = 'img/'+path; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-25T22:59:42.993

您不能同时绑定 mousedown 和拖动事件。

鼠标悬停也不起作用，因为鼠标悬停在手柄上会触发对象上的鼠标移出。

您可以在单击时显示手柄，释放鼠标并再次单击以拖动。然后，如果没有使用 FreeTransform 的回调函数发生拖动，您可以在单击时隐藏句柄。如果这是你所追求的，我可以给你一个例子。

**编辑**

示例代码（[http://jsfiddle.net/nNwx8/1/](http://jsfiddle.net/nNwx8/1/)）：

```
var
    paper = Raphael(0, 0, 500, 500),
    red   = paper.rect(200, 200, 100, 100).attr('fill', '#f00'),
    blue  = paper.rect(260, 260, 100, 100).attr('fill', '#00f')
    ;

register(red);
register(blue);

function register(el) {
    el.data('dragged', false);

    el.click(function() {
        // Toggle handles on click if no drag occurred
        if ( !this.data('dragged') ) {
            if ( this.freeTransform.handles.center === null ) {
                this.toFront();

                this.freeTransform.showHandles();
            } else {
                this.freeTransform.hideHandles();
            }
        }
    });

    paper.freeTransform(el, {}, function(ft, events) {
        if ( events.indexOf('drag start') !== -1 ) {
            el.data('dragged', false);
        }

        if ( events.indexOf('drag') !== -1 ) {
            el.data('dragged', true);
        }
    }).hideHandles();
} 
```

# jquery - 我如何使用 cake php 在 jquery 中包含 php 变量

> ID：15611347
> 
> 赞同：0
> 
> 时间：2013-03-25T09:22:01.153
> 
> 标签：jquery

我正在努力在 cake php 中制作多语言网站，我如何在 cake php 中的 jquery 中包含 php 变量

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-25T09:27:36.590

您不能直接合并它们...因为当任何浏览器执行javascript时...php代码已经执行...您所能做的就是通过echo将php变量中的值设置为js ..

这是一个小例子：

```
<?php
    $a = 2;
?>
<script type="text/javascript">
   var value =<?php echo $a;  ?>;
    // it prints var value =2; in your browser ...so...
    //  do some stuff with value in js....
</script> 
```

# android - 如何在 android Google Maps v2 上的标记上方添加文本？

> ID：15611351
> 
> 赞同：5
> 
> 时间：2013-03-25T09:22:22.793
> 
> 标签：android, google-maps-android-api-2

我制作了一个 android 应用程序，我想在标记上方（或下方）添加文本。我找到了这个链接[如何在谷歌地图上的标记上方添加文本？](https://stackoverflow.com/questions/11286258/how-to-add-text-above-a-marker-on-google-maps)但它适用于谷歌地图的旧api。所以我想知道我们是否可以用新的 api 做同样的事情？

我曾经尝试过用这段代码来做到这一点：

```
 Bitmap.Config conf = Bitmap.Config.ARGB_8888;
    Bitmap bm = BitmapFactory.decodeResource(getResources(), R.drawable.pin_favoris).copy(Bitmap.Config.ARGB_8888, true);
Canvas canvas = new Canvas(bm);
Paint paint = new Paint();
paint.setColor(Color.BLUE);
paint.setTextSize(25);
canvas.drawText("Favoris", 0, bm.getHeight(), paint); // paint defines the text color, stroke width, size
BitmapDrawable draw = new BitmapDrawable(getResources(), bm);
Bitmap drawBmp = draw.getBitmap();
// gMap.moveCamera(CameraUpdateFactory.newLatLngZoom(fakeMarker, 15));
gMap.addMarker(new MarkerOptions()
        .position(fakeMarker)
        .icon(BitmapDescriptorFactory.fromBitmap(drawBmp))
        ); 
```

但文字只能在位图中显示（不能在上面/下面）！

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-04-24T18:50:13.467

如果您只需要在标记上方添加文本，请执行以下操作：

```
mMap.addMarker(new MarkerOptions().position(point).title(
           "fsdfsdf sdfsdf")).showInfoWindow(); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-25T09:34:04.937

你试过这个：

```
gMap.addMarker(new MarkerOptions()
    .position(fakeMarker)
    .title("Favoris")
    .icon(BitmapDescriptorFactory.fromResource(R.drawable.pin_favoris))
); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-25T12:30:15.997

为什么不只是让你的位图/画布更大，然后你可以在标记上方绘制你的文本。

这应该会有所帮助：[如何在 Android 中增加 Canvas 大小？](https://stackoverflow.com/questions/3724996/how-to-increase-canvas-size-in-android)

# iphone - 对数组中的日期进行排序

> ID：15611363
> 
> 赞同：0
> 
> 时间：2013-03-25T09:22:48.237
> 
> 标签：iphone, ios, objective-c, xcode, sorting

**我有一个来自 Sqlite DB & 的数组如下：**

```
(

{ 
 id=1;
duedate = "01-Apr-2013";
},

{
 id=2;
duedate = "01-May-2013";
},

{
id=3;
duedate = "01-Jun-2013";
},

{
 id=4;
duedate = "11-Jul-2013";
}

) 
```

**我对数组进行排序的代码**

```
NSSortDescriptor *sortDesc = [[NSSortDescriptor alloc] initWithKey:@"duedate" ascending:YES];
[assessment_list sortUsingDescriptors:[NSArray arrayWithObject:sortDesc]]; 
```

**但这给出了错误的排序数组，如下所示**

```
(

{ 
 id=1;
duedate = "01-Apr-2013";
},

{
id=3;
duedate = "01-Jun-2013";
},

{
id=2;
duedate = "01-May-2013";
},

{
 id=4;
duedate = "11-Jul-2013";
}

) 
```

**我搜索了但我没有发现这个问题**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-25T09:41:12.877

您需要将字符串转换为日期以对它们进行排序

```
 NSArray *datesStringArray = @[@{@"duedate": @"01-Jun-2013"},@{@"duedate": @"01-Dec-2013"},@{@"duedate": @"01-Apr-2013"},@{@"duedate": @"11-Jul-2013"},];

    NSDateFormatter *dateFormatter = [NSDateFormatter new];
    [dateFormatter setDateFormat:@"dd-MMM-yyyy"];

    NSArray *sortedDateStringArray = [datesStringArray sortedArrayUsingComparator:^NSComparisonResult(id obj1, id obj2) {

        NSDictionary *dict1 = (NSDictionary *)obj1;
        NSString *string1 = dict1[@"duedate"];
        NSDictionary *dict2 = (NSDictionary *)obj2;
        NSString *string2 = dict2[@"duedate"];

        NSDate *date1 = [dateFormatter dateFromString:string1];
        NSDate *date2 = [dateFormatter dateFromString:string2];

        return [date1 compare:date2];

    }]; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-25T09:26:15.463

您需要分部分进行。

**第 1 部分**：将这些字符串转换为`NSDate`.

```
NSDateFormatter *df=[NSDateFormatter new];
[df setDateFormat:@"dd-MMM-yyyy"];
NSDate *date=[df dateFromString:string]; 
```

**第 2 部分**：然后使用排序技术/方式（选择器、描述符等）。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-25T09:26:28.067

这是因为它是按字母顺序排序的。

对于日期排序，您需要实现类似这样的方法

```
NSInteger dateSort(id dict1, id dict2, void* context){
NSDateFormatter *formatter = [[NSDateFormatter alloc] init];
[formatter setDateFormat:@"mm/dd/yyyy"];
NSDate *date1 = [formatter dateFromString:[dict1 objectForKey:@"duedate"]];
NSDate *date2 = [formatter dateFromString:[dict2 objectForKey:@"duedate"]];
    return [[date1 compare:date2];
} 
```

并像这样调用函数

```
[dateArray sortUsingFunction:dateSort context:NULL]; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-25T09:27:52.030

您可以将日期转换为时间间隔。

```
int t = [[NSDate date] timeIntervalSince1970]; 
```

并使用 int 值对数组进行排序

# html - 将 textarea 值传递给 jsp

> ID：15611364
> 
> 赞同：0
> 
> 时间：2013-03-25T09:22:48.833
> 
> 标签：html, jsp, textarea

我正在填充从 jsp 到 html 的字符串列表`<textarea>`。例如

`out.println("<textarea name='word_suggest' rows='10' id='word_suggest'>"); while(it.hasNext()){ out.println(it.next()); } out.println("</textarea>");`

我希望用户编辑 textarea 并将值读回 jsp（例如创建另一个字符串列表），以便我可以使用新列表。我可以在不使用`<form>`and`<post>`操作的情况下执行此操作，例如在同一页面内解决吗？

# php - 如何使用 PHP 解析这个 XML？

> ID：15611367
> 
> 赞同：0
> 
> 时间：2013-03-25T09:22:58.703
> 
> 标签：php, simplexml

我想为 url 解析 XML： [http ://www.opencellid.org/cell/get?key=myapikey&mcc=250&mnc=99&cellid=29513&lac=0](http://www.opencellid.org/cell/get?key=myapikey&mcc=250&mnc=99&cellid=29513&lac=0)

我是PHP的初学者并尝试了如下代码：

$url = " [http://www.opencellid.org/cell/get?key=myapikey&mcc=250&mnc=99&cellid=29513&lac=0](http://www.opencellid.org/cell/get?key=myapikey&mcc=250&mnc=99&cellid=29513&lac=0) ";

$xml = simplexml_load_file($url) 或 die("feed 未加载");

print_r($xml);

var_dump($xml);

我想为这个 XML url 做每个属性的回显，例如 lat、lon、range..。

我在 stackoverflow 中发现了许多 XML 非常标准的资源。我找不到用于这种 XML 格式的示例：

任何人都可以给我一个想法？谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-25T09:37:41.490

$url = " [http://www.opencellid.org/cell/get?key=myapikey&mcc=250&mnc=99&cellid=29513&lac=0](http://www.opencellid.org/cell/get?key=myapikey&mcc=250&mnc=99&cellid=29513&lac=0) ";

```
$xml = simplexml_load_file($url) or die("feed not loading");

$attr = array("lat", "lon"); //list attr you require

foreach($xml->cell as $cell){
    $data = $cell->attributes();

foreach ($attr as $key) {
//         echo "<br>key: $key, value: " . $data[$key];
//edit to insert
$columns[] = $key; 
$values[] = $data[$key];
}

echo $query = "insert into table_name(".implode(',',$columns).") values     (".implode(',',$values).")";
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-25T09:26:40.903

请试试这个

```
 $content = file_get_contents('http://www.opencellid.org/cell/get?key=myapikey&mcc=250&mnc=99&cellid=29513&lac=0');  
 $x = new SimpleXmlElement($content);  

foreach($x->cell as $entry) {  
         echo $entry['lat']."==".$entry['lon']; exit;
        } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-25T09:29:45.163

```
$url = "http://www.opencellid.org/cell/get?key=myapikey&mcc=250&mnc=99&cellid=29513&lac=0";

$ch = curl_init();
curl_setopt($ch, CURLOPT_URL, $url);
curl_setopt($ch, CURLOPT_HEADER, 0);
curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
$data = curl_exec($ch);
$status = curl_getinfo($ch,CURLINFO_HTTP_CODE);
curl_close($ch);

if($status==200){
    $x = new SimpleXMLElement($data,LIBXML_NOCDATA);
    echo 'lat: '.$x->cell['lat'];
    echo 'lon: '.$x->cell['lon'];
    echo 'range: '.$x->cell['range'];
} 
```

**更新：** 这是 curl 的替代方法。如果您安装了 curl，请使用 curl，它会更快。

```
$url = "http://www.opencellid.org/cell/get?key=myapikey&mcc=250&mnc=99&cellid=29513&lac=0";

$data = file_get_contents($url);
$x = new SimpleXMLElement($data,LIBXML_NOCDATA);
$lat = $x->cell['lat'];
$lng = $x->cell['lon'];
$range = $x->cell['range'];

echo 'lat: '.$lat.'<br>';
echo 'lng: '.$lng.'<br>';
echo 'range: '.$range.'<br>'; 
```

# c# - 在c#中拆分一个长字符串而不破坏一个单词

> ID：15611369
> 
> 赞同：0
> 
> 时间：2013-03-25T09:22:59.963
> 
> 标签：c#, c#-4.0, c#-3.0, c#-2.0, c#-5.0

我想在 c# 中打断一个长字符串而不打断一个单词 示例：S AAA BBBBBBB CC DDDDDD V Breaking Character on 7 Count

```
S AAA 
BBBBBBB
CC 
DDDDDD 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-25T09:25:01.897

使用`substring`函数c#

此链接可能对您有所帮助。

[http://www.dotnetperls.com/substring](http://www.dotnetperls.com/substring)

[http://msdn.microsoft.com/en-IN/library/system.string.substring%28v=vs.71%29.aspx](http://msdn.microsoft.com/en-IN/library/system.string.substring%28v=vs.71%29.aspx)

```
count=0;
for(int i=0;i<str.Length;i++)
{
 if(str.Length%7==0)
 input.Substring(count, 7);
 count++;
} 
```

希望您可以对此进行进一步的逻辑分析。

# php - 是否有可能使用 PHP 获取 Google Webmaster Tool (GWT) 数据？

> ID：15611372
> 
> 赞同：4
> 
> 时间：2013-03-25T09:23:10.610
> 
> 标签：php, api, export-to-csv, google-search-console

我正在尝试从**Google Webmaster Tool (GWT)**获取一些数据，我已经搜索了一些 API 文档和实现，但他们只从 GWT 返回了很少的数据。

***我的需求：***

需要从GWT获取以下数据，

(1)。TOP_PAGES

(2)。TOP_QUERIES

(3)。CRAWL_ERRORS

(4)。CONTENT_ERRORS

(5)。CONTENT_KEYWORDS

(6)。INTERNAL_LINKS

(7)。外部链接

(8)。社交活动

获取这些数据后，我需要为每个数据生成 Excel 文件。

***实现：***

我从上面得到了一些数据并生成到 Excel 文件中。例如，

(1)。TOP_PAGES

(2)。TOP_QUERIES

(3)。INTERNAL_LINKS

(4)。外部链接

(5)。CONTENT_KEYWORDS

***未达到：***

我仍然没有得到主要部分/数据，例如，

(1)。CRAWL_ERRORS

(2)。CONTENT_ERRORS

(3)。社交活动

***代码示例供您参考：***

我在 PHP 中为这个 GWT API 使用了两个文件，

***文件#1：***（gwdata.php）

```
 <?php
    /**
     *  PHP class for downloading CSV files from Google Webmaster Tools.
     *
     *  This class does NOT require the Zend gdata package be installed
     *  in order to run.
     *
     *  Copyright 2012 eyecatchUp UG. All Rights Reserved.
     *
     *  Licensed under the Apache License, Version 2.0 (the "License");
     *  you may not use this file except in compliance with the License.
     *  You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     *  Unless required by applicable law or agreed to in writing, software
     *  distributed under the License is distributed on an "AS IS" BASIS,
     *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     *  See the License for the specific language governing permissions and
     *  limitations under the License.
     *
     *  @author: Stephan Schmitz <eyecatchup@gmail.com>
     *  @link:   https://code.google.com/p/php-webmaster-tools-downloads/
     */

     class GWTdata
     {
        const HOST = "https://www.google.com";
        const SERVICEURI = "/webmasters/tools/";

        public $_language, $_tables, $_daterange, $_downloaded, $_skipped;
        private $_auth, $_logged_in;

        public function __construct()
        {
            $this->_auth = false;
            $this->_logged_in = false;
            $this->_language = "en";
            $this->_daterange = array("","");
            $this->_tables = array("TOP_PAGES", "TOP_QUERIES",
                "CRAWL_ERRORS", "CONTENT_ERRORS", "CONTENT_KEYWORDS",
                "INTERNAL_LINKS", "EXTERNAL_LINKS", "SOCIAL_ACTIVITY"
            );
            $this->_errTablesSort = array(0 => "http",
                1 => "not-found", 2 => "restricted-by-robotsTxt",
                3 => "unreachable", 4 => "timeout", 5 => "not-followed",
                "kAppErrorSoft-404s" => "soft404", "sitemap" => "in-sitemaps"
            );
            $this->_errTablesType = array(0 => "web-crawl-errors",
                1 => "mobile-wml-xhtml-errors", 2 => "mobile-chtml-errors",
                3 => "mobile-operator-errors", 4 => "news-crawl-errors"
            );
            $this->_downloaded = array();
            $this->_skipped = array();
        }

        /**
         *  Sets content language.
         *
         *  @param $str     String   Valid ISO 639-1 language code, supported by Google.
         */
            public function SetLanguage($str)
            {
                $this->_language = $str;
            }

        /**
         *  Sets features that should be downloaded.
         *
         *  @param $arr     Array   Valid array values are:
         *                          "TOP_PAGES", "TOP_QUERIES", "CRAWL_ERRORS", "CONTENT_ERRORS",
         *                          "CONTENT_KEYWORDS", "INTERNAL_LINKS", "EXTERNAL_LINKS",
         *                          "SOCIAL_ACTIVITY".
         */
            public function SetTables($arr)
            {
                if(is_array($arr) && !empty($arr) && sizeof($arr) <= 2) {
                    $valid = array("TOP_PAGES","TOP_QUERIES","CRAWL_ERRORS","CONTENT_ERRORS",
                      "CONTENT_KEYWORDS","INTERNAL_LINKS","EXTERNAL_LINKS","SOCIAL_ACTIVITY");
                    $this->_tables = array();
                    for($i=0; $i < sizeof($arr); $i++) {
                        if(in_array($arr[$i], $valid)) {
                            array_push($this->_tables, $arr[$i]);
                        } else { throw new Exception("Invalid argument given."); }
                    }
                } else { throw new Exception("Invalid argument given."); }
            }

        /**
         *  Sets daterange for download data.
         *
         *  @param $arr     Array   Array containing two ISO 8601 formatted date strings.
         */
            public function SetDaterange($arr)
            {
                if(is_array($arr) && !empty($arr) && sizeof($arr) == 2) {
                    if(self::IsISO8601($arr[0]) === true &&
                      self::IsISO8601($arr[1]) === true) {
                        $this->_daterange = array(str_replace("-", "", $arr[0]),
                          str_replace("-", "", $arr[1]));
                        return true;
                    } else { throw new Exception("Invalid argument given."); }
                } else { throw new Exception("Invalid argument given."); }
            }

        /**
         *  Returns array of downloaded filenames.
         *
         *  @return  Array   Array of filenames that have been written to disk.
         */
            public function GetDownloadedFiles()
            {
                return $this->_downloaded;
            }

        /**
         *  Returns array of downloaded filenames.
         *
         *  @return  Array   Array of filenames that have been written to disk.
         */
            public function GetSkippedFiles()
            {
                return $this->_skipped;
            }

        /**
         *  Checks if client has logged into their Google account yet.
         *
         *  @return Boolean  Returns true if logged in, or false if not.
         */
            private function IsLoggedIn()
            {
                return $this->_logged_in;
            }

        /**
         *  Attempts to log into the specified Google account.
         *
         *  @param $email  String   User's Google email address.
         *  @param $pwd    String   Password for Google account.
         *  @return Boolean  Returns true when Authentication was successful,
         *                   else false.
         */
            public function LogIn($email, $pwd)
            {
                $url = self::HOST . "/accounts/ClientLogin";
                $postRequest = array(
                    'accountType' => 'HOSTED_OR_GOOGLE',
                    'Email' => $email,
                    'Passwd' => $pwd,
                    'service' => "sitemaps",
                    'source' => "Google-WMTdownloadscript-0.1-php"
                );
                $ch = curl_init();
                curl_setopt($ch, CURLOPT_URL, $url);
                curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
                curl_setopt($ch, CURLOPT_CONNECTTIMEOUT, 30);
                curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false);
                curl_setopt($ch, CURLOPT_FOLLOWLOCATION, true);
                curl_setopt($ch, CURLOPT_POST, true);
                curl_setopt($ch, CURLOPT_POSTFIELDS, $postRequest);
                $output = curl_exec($ch);
                $info = curl_getinfo($ch);
                curl_close($ch);
                if($info['http_code'] == 200) {
                    preg_match('/Auth=(.*)/', $output, $match);
                    if(isset($match[1])) {
                        $this->_auth = $match[1];
                        $this->_logged_in = true;
                        return true;
                    } else { return false; }
                } else { return false; }
            }

        /**
         *  Attempts authenticated GET Request.
         *
         *  @param $url    String   URL for the GET request.
         *  @return Mixed  Curl result as String,
         *                 or false (Boolean) when Authentication fails.
         */
            public function GetData($url)
            {
                if(self::IsLoggedIn() === true) {
                    $url = self::HOST . $url;
                    $head = array("Authorization: GoogleLogin auth=".$this->_auth,
                        "GData-Version: 2");
                    $ch = curl_init();
                    curl_setopt($ch, CURLOPT_URL, $url);
                    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
                    curl_setopt($ch, CURLOPT_CONNECTTIMEOUT, 30);
                    curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false);
                    curl_setopt($ch, CURLOPT_FOLLOWLOCATION, true);
                    curl_setopt($ch, CURLOPT_ENCODING, true);
                    curl_setopt($ch, CURLOPT_HTTPHEADER, $head);
                    $result = curl_exec($ch);
                    $info = curl_getinfo($ch);
                    curl_close($ch);
                    return ($info['http_code']!=200) ? false : $result;
                } else { return false; }
            }

        /**
         *  Gets all available sites from Google Webmaster Tools account.
         *
         *  @return Mixed  Array with all site URLs registered in GWT account,
         *                 or false (Boolean) if request failed.
         */
            public function GetSites()
            {
                if(self::IsLoggedIn() === true) {
                    $feed = self::GetData(self::SERVICEURI."feeds/sites/");
                    if($feed !== false) {
                        $sites = array();
                        $doc = new DOMDocument();
                        $doc->loadXML($feed);
                        foreach ($doc->getElementsByTagName('entry') as $node) {
                            array_push($sites,
                              $node->getElementsByTagName('title')->item(0)->nodeValue);
                        }
                        return $sites;
                    } else { return false; }
                } else { return false; }
            }

        /**
         *  Gets the download links for an available site
         *  from the Google Webmaster Tools account.
         *
         *  @param $url    String   Site URL registered in GWT.
         *  @return Mixed  Array with keys TOP_PAGES and TOP_QUERIES,
         *                 or false (Boolean) when Authentication fails.
         */
            public function GetDownloadUrls($url)
            {
                if(self::IsLoggedIn() === true) {
                    $_url = sprintf(self::SERVICEURI."downloads-list?hl=%s&siteUrl=%s",
                      $this->_language,
                      urlencode($url));
                    $downloadList = self::GetData($_url);
                    return json_decode($downloadList, true);
                } else { return false; }
            }

        /**
         *  Downloads the file based on the given URL.
         *
         *  @param $site    String   Site URL available in GWT Account.
         *  @param $savepath  String   Optional path to save CSV to (no trailing slash!).
         */
            public function DownloadCSV($site, $savepath=".")
            {
                if(self::IsLoggedIn() === true) {
                    $downloadUrls = self::GetDownloadUrls($site);
                    $filename = parse_url($site, PHP_URL_HOST) ."-". date("Ymd-His");
                    $tables = $this->_tables;
                    foreach($tables as $table) {
                        if($table=="CRAWL_ERRORS") {
                            self::DownloadCSV_CrawlErrors($site, $savepath);
                        }
                        elseif($table=="CONTENT_ERRORS") {
                            self::DownloadCSV_XTRA($site, $savepath,
                              "html-suggestions", "\)", "CONTENT_ERRORS", "content-problems-dl");
                        }
                        elseif($table=="CONTENT_KEYWORDS") {
                            self::DownloadCSV_XTRA($site, $savepath,
                              "keywords", "\)", "CONTENT_KEYWORDS", "content-words-dl");
                        }
                        elseif($table=="INTERNAL_LINKS") {
                            self::DownloadCSV_XTRA($site, $savepath,
                              "internal-links", "\)", "INTERNAL_LINKS", "internal-links-dl");
                        }
                        elseif($table=="EXTERNAL_LINKS") {
                            self::DownloadCSV_XTRA($site, $savepath,
                              "external-links-domain", "\)", "EXTERNAL_LINKS", "external-links-domain-dl");
                        }
                        elseif($table=="SOCIAL_ACTIVITY") {
                            self::DownloadCSV_XTRA($site, $savepath,
                              "social-activity", "x26", "SOCIAL_ACTIVITY", "social-activity-dl");
                        }
                        else {
                            $finalName = "$savepath/$table-$filename.csv";
                            $finalUrl = $downloadUrls[$table] ."&prop=ALL&db=%s&de=%s&more=true";
                            $finalUrl = sprintf($finalUrl, $this->_daterange[0], $this->_daterange[1]);
                            self::SaveData($finalUrl,$finalName);
                        }
                    }
                } else { return false; }
            }

        /**
         *  Downloads "unofficial" downloads based on the given URL.
         *
         *  @param $site    String   Site URL available in GWT Account.
         *  @param $savepath  String   Optional path to save CSV to (no trailing slash!).
         */
            public function DownloadCSV_XTRA($site, $savepath=".", $tokenUri, $tokenDelimiter, $filenamePrefix, $dlUri)
            {
                if(self::IsLoggedIn() === true) {
                    $uri = self::SERVICEURI . $tokenUri . "?hl=%s&siteUrl=%s";
                    $_uri = sprintf($uri, $this->_language, $site);
                    $token = self::GetToken($_uri, $tokenDelimiter);
                    $filename = parse_url($site, PHP_URL_HOST) ."-". date("Ymd-His");
                    $finalName = "$savepath/$filenamePrefix-$filename.csv";
                    $url = self::SERVICEURI . $dlUri . "?hl=%s&siteUrl=%s&security_token=%s&prop=ALL&db=%s&de=%s&more=true";
                    $_url = sprintf($url, $this->_language, $site, $token, $this->_daterange[0], $this->_daterange[1]);
                    self::SaveData($_url,$finalName);
                } else { return false; }
            }

        /**
         *  Downloads the Crawl Errors file based on the given URL.
         *
         *  @param $site    String   Site URL available in GWT Account.
         *  @param $savepath  String   Optional: Path to save CSV to (no trailing slash!).
         *  @param $separated Boolean  Optional: If true, the method saves separated CSV files
         *                             for each error type. Default: Merge errors in one file.
         */
            public function DownloadCSV_CrawlErrors($site, $savepath=".", $separated=false)
            {
                if(self::IsLoggedIn() === true) {
                    $type_param = "we";
                    $filename = parse_url($site, PHP_URL_HOST) ."-". date("Ymd-His");
                    if($separated) {
                        foreach($this->_errTablesSort as $sortid => $sortname) {
                            foreach($this->_errTablesType as $typeid => $typename) {
                                if($typeid == 1) {
                                    $type_param = "mx";
                                } else if($typeid == 2) {
                                    $type_param = "mc";
                                } else {
                                    $type_param = "we";
                                }
                                $uri = self::SERVICEURI."crawl-errors?hl=en&siteUrl=$site&tid=$type_param";
                                $token = self::GetToken($uri,"x26");
                                $finalName = "$savepath/CRAWL_ERRORS-$typename-$sortname-$filename.csv";
                                $url = self::SERVICEURI."crawl-errors-dl?hl=%s&siteUrl=%s&security_token=%s&type=%s&sort=%s";
                                $_url = sprintf($url, $this->_language, $site, $token, $typeid, $sortid);
                                self::SaveData($_url,$finalName);
                            }
                        }
                    }
                    else {
                        $uri = self::SERVICEURI."crawl-errors?hl=en&siteUrl=$site&tid=$type_param";
                        $token = self::GetToken($uri,"x26");
                        $finalName = "$savepath/CRAWL_ERRORS-$filename.csv";
                        $url = self::SERVICEURI."crawl-errors-dl?hl=%s&siteUrl=%s&security_token=%s&type=0";
                        $_url = sprintf($url, $this->_language, $site, $token);
                        self::SaveData($_url,$finalName);
                    }
                } else { return false; }
            }

        /**
         *  Saves data to a CSV file based on the given URL.
         *
         *  @param $finalUrl   String   CSV Download URI.
         *  @param $finalName  String   Filepointer to save location.
         */
            private function SaveData($finalUrl, $finalName)
            {
                $data = self::GetData($finalUrl);
                if(strlen($data) > 1 && file_put_contents($finalName, utf8_decode($data))) {
                    array_push($this->_downloaded, realpath($finalName));
                    return true;
                } else {
                    array_push($this->_skipped, $finalName);
                    return false;
                }
            }

        /**
         *  Regular Expression to find the Security Token for a download file.
         *
         *  @param $uri        String   A Webmaster Tools Desktop Service URI.
         *  @param $delimiter  String   Trailing delimiter for the regex.
         *  @return  String    Returns a security token.
         */
            private function GetToken($uri, $delimiter)
            {
                $matches = array();
                $tmp = self::GetData($uri);
                //preg_match_all("#x26security_token(.*?)$delimiter#si", $tmp, $matches);
                preg_match_all("#46security_token(.*?)$delimiter#si", $tmp, $matches); 
                //return substr($matches[1][0],4,-1);
                return substr($matches[1][0],3,-1);
            }

        /**
         *  Validates ISO 8601 date format.
         *
         *  @param $str      String   Valid ISO 8601 date string (eg. 2012-01-01).
         *  @return  Boolean   Returns true if string has valid format, else false.
         */
            private function IsISO8601($str)
            {
                $stamp = strtotime($str);
                return (is_numeric($stamp) && checkdate(date('m', $stamp),
                      date('d', $stamp), date('Y', $stamp))) ? true : false;
            }
     }
?> 
```

***文件 #2：（*** index.php ）

```
<?php
include 'gwtdata.php';
include 'credentials.php';
try {  
      $website = "http://www.yourdomain.com/"; /* Add Your Website Url */             
      $gdata = new GWTdata();
      if($gdata->LogIn($email, $password) === true) 
      {                             
      $gdata->DownloadCSV($website,"Here Add Your Folder Path To Save CSV File With GWT Data");                     
      echo "Datas Are Successfully Downloaded";
      }
    } catch (Exception $e) {
         die($e->getMessage());
      }
?> 
```

任何人都可以在这方面帮助我，以获取所有这些数据并将其作为 Excel 文件使用 PHP 生成。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-14T17:39:16.660

> *[..] 我搜索了一些 API 文档和实现，[..]*
> *[..] 我在 PHP 中使用了两个文件来获取这个 GWT API，[..]*

我是您引用的代码（GWTdata PHP 类）的作者，首先要明确的是，此代码**既不是**由 Google 发布，**也不**是使用官方 API，而是一个自定义脚本处理来自 Web 界面的数据.

> *[..] 仅从 GWT 返回少量数据。[..]*

几周前，Google 网站管理员工具网络界面（再次用于处理数据请求）发生了一些变化。因此，它破坏了 PHP 类 GWTdata 的一些功能——例如下载爬取错误。

> *[..] 任何人都可以在这方面帮助我，以获取所有这些数据并将其作为 excel 文件使用 PHP 生成。[..]*

不幸的是，对于大多数数据，我/我们无能为力（因为数据不再可访问）。

> *[..] 我仍然没有得到主要部分/数据，例如*
> *1\. 抓取错误 [..]*

无论如何，您可以使用[这个后续项目](https://github.com/eyecatchup/GWT_CrawlErrors-php)来获取抓取错误。

**GwtCrawlErrors**（*从 Google 网站管理员工具下载网站抓取错误为 CSV*）：
[https ://github.com/eyecatchup/GWT_CrawlErrors-php](https://github.com/eyecatchup/GWT_CrawlErrors-php)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-09-11T03:23:17.270

PHP的[Google API 客户端](https://github.com/google/google-api-php-client)现在支持[Webmasters API](https://developers.google.com/webmaster-tools/?hl=pt)。PHP 库的文档（照常）稀缺，但它相当清晰地映射到[Webmasters API 参考中描述的方法，](https://developers.google.com/webmaster-tools/v3/?hl=pt)[并且代码](https://github.com/google/google-api-php-client/blob/a414aceb0af4da17240f0c17df097ecd841d17e8/src/Google/Service/Webmasters.php)中有一些示例，因此掌握起来并不难。

# ios - 自定义 UITableView 标题部分

> ID：15611374
> 
> 赞同：147
> 
> 时间：2013-03-25T09:23:16.833
> 
> 标签：ios, objective-c, swift, uitableview

我想`UITableView`为每个部分自定义标题。到目前为止，我已经实施

```
-(UIView *)tableView:(UITableView *)tableView viewForHeaderInSection:(NSInteger)section 
```

这种`UITabelViewDelegate`方法。我想要做的是获取每个部分的当前标题并添加`UILabel`为子视图。

到目前为止，我无法做到这一点。因为，我找不到任何东西来获取默认的节标题。第一个问题，**有没有办法获得默认的节标题**？

如果不可能，我需要创建一个容器视图，`UIView`但这次我需要设置默认背景颜色、阴影颜色等。因为，如果你仔细查看部分的标题，它已经被自定义了。

如何获取每个节标题的这些默认值？

* * *

## 回答 #1

> 赞同：293
> 
> 时间：2013-03-25T09:31:10.190

你可以试试这个：

```
 -(UIView *)tableView:(UITableView *)tableView viewForHeaderInSection:(NSInteger)section
{
    UIView *view = [[UIView alloc] initWithFrame:CGRectMake(0, 0, tableView.frame.size.width, 18)];
    /* Create custom view to display section header... */
    UILabel *label = [[UILabel alloc] initWithFrame:CGRectMake(10, 5, tableView.frame.size.width, 18)];
    [label setFont:[UIFont boldSystemFontOfSize:12]];
     NSString *string =[list objectAtIndex:section];
    /* Section header is in 0th index... */
    [label setText:string];
    [view addSubview:label];
    [view setBackgroundColor:[UIColor colorWithRed:166/255.0 green:177/255.0 blue:186/255.0 alpha:1.0]]; //your background color...
    return view;
} 
```

* * *

## 回答 #2

> 赞同：45
> 
> 时间：2015-05-05T06:38:33.437

选择的答案使用`tableView :viewForHeaderInSection:`是正确的。

只是在这里分享一个提示。

如果您使用的是故事板/xib，那么您可以创建另一个原型单元并将其用于您的“部分单元”。配置标题的代码类似于您为行单元格配置的代码。

```
- (UIView *)tableView:(UITableView *)tableView viewForHeaderInSection:(NSInteger)section {
    static NSString *HeaderCellIdentifier = @"Header";

    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:HeaderCellIdentifier];
    if (cell == nil) {
        cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:HeaderCellIdentifier];
    }

    // Configure the cell title etc
    [self configureHeaderCell:cell inSection:section];

    return cell;
} 
```

* * *

## 回答 #3

> 赞同：33
> 
> 时间：2016-01-10T16:28:02.740

[Lochana Tejas](https://stackoverflow.com/a/15611529/1136433)的 Swift 版本回答：

```
override func tableView(tableView: UITableView, viewForHeaderInSection section: Int) -> UIView? {
    let view = UIView(frame: CGRectMake(0, 0, tableView.frame.size.width, 18))
    let label = UILabel(frame: CGRectMake(10, 5, tableView.frame.size.width, 18))
    label.font = UIFont.systemFontOfSize(14)
    label.text = list.objectAtIndex(indexPath.row) as! String
    view.addSubview(label)
    view.backgroundColor = UIColor.grayColor() // Set your background color

    return view
} 
```

* * *

## 回答 #4

> 赞同：17
> 
> 时间：2013-03-25T09:46:21.530

如果您使用默认标题视图，则只能更改其上的文本

```
- (NSString *)tableView:(UITableView *)tableView titleForHeaderInSection:(NSInteger)section 
```

对于斯威夫特：

```
override func tableView(tableView: UITableView, titleForHeaderInSection section: Int) -> String? { 
```

如果您想自定义视图，您需要自己创建一个新视图。

* * *

## 回答 #5

> 赞同：10
> 
> 时间：2013-09-28T15:44:21.823

为什么不使用[UITableViewHeaderFooterView](https://developer.apple.com/library/ios/documentation/uikit/reference/UITableViewHeaderFooterView_class/Reference/Reference.html)？

* * *

## 回答 #6

> 赞同：8
> 
> 时间：2015-12-17T02:57:15.137

如果 headerInSection 没有显示，可以试试这个。

```
- (CGFloat)tableView:(UITableView *)tableView heightForHeaderInSection:(NSInteger)section
{
    return 45;
} 
```

这将返回给定部分的标题的高度。

* * *

## 回答 #7

> 赞同：6
> 
> 时间：2017-06-26T18:26:17.030

Swift 3 版本的 lochana 和 estemendoza 答案：

```
override func tableView(_ tableView: UITableView, viewForHeaderInSection section: Int) -> UIView? {

    let view = UIView(frame: CGRect(x:0, y:0, width:tableView.frame.size.width, height:18))
    let label = UILabel(frame: CGRect(x:10, y:5, width:tableView.frame.size.width, height:18))
    label.font = UIFont.systemFont(ofSize: 14)
    label.text = "This is a test";
    view.addSubview(label);
    view.backgroundColor = UIColor.gray;
    return view

} 
```

此外，请注意，您还必须实施：

```
override func tableView(_ tableView: UITableView, heightForHeaderInSection section: Int) -> CGFloat {
    return 100;
} 
```

* * *

## 回答 #8

> 赞同：6
> 
> 时间：2017-06-28T22:26:25.790

其他答案在重新创建默认标题视图方面做得很好，但实际上并没有回答您的主要问题：

> 有没有办法获得默认的节标题？

有一种方法 - 只需[`tableView:willDisplayHeaderView:forSection:`](https://developer.apple.com/documentation/uikit/uitableviewdelegate/1614905-tableview?language=objc)在您的委托中实施。默认的标题视图将被传递到第二个参数中，从那里您可以将其转换为 a [`UITableViewHeaderFooterView`](https://developer.apple.com/documentation/uikit/uitableviewheaderfooterview?language=objc)，然后根据需要添加/更改子视图。

**对象-C**

```
- (void)tableView:(UITableView *)tableView willDisplayHeaderView:(UIView *)view forSection:(NSInteger)section
{
    UITableViewHeaderFooterView *headerView = (UITableViewHeaderFooterView *)view;

    // Do whatever with the header view... e.g.
    // headerView.textLabel.textColor = [UIColor whiteColor]
} 
```

**迅速**

```
override func tableView(_ tableView: UITableView, willDisplayHeaderView view: UIView, forSection section: Int)
{
    let headerView = view as! UITableViewHeaderFooterView

    // Do whatever with the header view... e.g.
    // headerView.textLabel?.textColor = UIColor.white
} 
```

* * *

## 回答 #9

> 赞同：5
> 
> 时间：2015-06-24T15:05:13.770

这是可能的最简单的解决方案。以下代码可直接用于创建自定义节标题。

```
 -(UIView *)tableView:(UITableView *)tableView viewForHeaderInSection:(NSInteger)section
{
    SectionHeaderTableViewCell *headerView = [tableView dequeueReusableCellWithIdentifier:@"sectionHeader"];

    //For creating a drop menu of rows from the section
    //==THIS IS JUST AN EXAMPLE. YOU CAN REMOVE THIS IF-ELSE.==
    if (![self.sectionCollapsedArray[section] boolValue])
    {
        headerView.imageView.image = [UIImage imageNamed:@"up_icon"];
    }
    else
    {
        headerView.imageView.image = [UIImage imageNamed:@"drop_icon"];
    }

    //For button action inside the custom cell
    headerView.dropButton.tag = section;
    [headerView.dropButton addTarget:self action:@selector(sectionTapped:) forControlEvents:UIControlEventTouchUpInside];

    //For removing long touch gestures.
    for (UIGestureRecognizer *recognizer in headerView.contentView.gestureRecognizers)
    {
        [headerView.contentView removeGestureRecognizer:recognizer];
        [headerView removeGestureRecognizer:recognizer];
    }

    return headerView.contentView;
} 
```

注意：SectionHeaderTableViewCell 是在 Storyboard 中创建的自定义 UITableViewCell。

* * *

## 回答 #10

> 赞同：5
> 
> 时间：2015-07-09T13:43:11.997

尝试这个......

```
override func tableView(tableView: UITableView, willDisplayHeaderView view: UIView, forSection section: Int) 
{
    // Background view is at index 0, content view at index 1
    if let bgView = view.subviews[0] as? UIView
    {
        // do your stuff
    }

    view.layer.borderColor = UIColor.magentaColor().CGColor
    view.layer.borderWidth = 1
} 
```

* * *

## 回答 #11

> 赞同：4
> 
> 时间：2015-03-18T13:19:11.043

```
-(UIView *)tableView:(UITableView *)tableView viewForHeaderInSection:(NSInteger)section
{
    //put your values, this is part of my code
    UIView *view = [[UIView alloc] initWithFrame:CGRectMake(0, 0, self.view.bounds.size.width, 30.0f)];
    [view setBackgroundColor:[UIColor redColor]];
    UILabel *lbl = [[UILabel alloc] initWithFrame:CGRectMake(20, 5, 150, 20)];
    [lbl setFont:[UIFont systemFontOfSize:18]];
    [lbl setTextColor:[UIColor blueColor]];
    [view addSubview:lbl];

    [lbl setText:[NSString stringWithFormat:@"Section: %ld",(long)section]];

    return view;
} 
```

* * *

## 回答 #12

> 赞同：4
> 
> 时间：2019-10-20T19:43:28.587

# 完整的 2019 示例复制和粘贴

首先在故事板上设置“分组”：它必须在初始化时发生，你不能在以后真正设置它，所以在故事板上更容易记住：

[![在此处输入图像描述](../Images/c50810d7e82e2fc2060e1737e5195b4e.png)](https://i.stack.imgur.com/tfhBr.png)

下一个，

# *由于 Apple 错误，*必须*实现*heightForHeaderInSection 。**

 *```
func tableView(_ tableView: UITableView,
                   heightForHeaderInSection section: Int) -> CGFloat {
    return CGFloat(70.0)
} 
```

仍然存在一个 Apple 错误 - 十年了 - 如果您没有`heightForHeaderInSection`电话，它根本不会显示第一个标题（即索引 0）。

所以，`tableView.sectionHeaderHeight = 70`根本行不通，**它坏了**。

# 设置框架没有任何效果：

`viewForHeaderInSection`只需创建一个 UIView() 。

如果您**UIView(frame ...)**只是将视图的大小设置为由表确定，那么它是没有意义的/**什么都做不了。**

 **所以第一行将`viewForHeaderInSection`是简单`let view = UIView()`的，这就是你返回的视图。

```
func tableView(_ tableView: UITableView,
                       viewForHeaderInSection section: Int) -> UIView? {
    let view = UIView()

    let l = UILabel()
    view.addSubview(l)
    l.bindEdgesToSuperview()
    l.backgroundColor = .systemOrange
    l.font = UIFont.systemFont(ofSize: 15)
    l.textColor = .yourClientsFavoriteColor

    switch section {
    case 0:
        l.text =  "First section on screen"
    case 1:
        l.text =  "Here's the second section"
    default:
        l.text =  ""
    }

    return view
} 
```

就是这样 - 其他任何事情都是浪费时间。

另一个“挑剔”的苹果问题。

* * *

上面使用的便利扩展是：

```
extension UIView {

    // incredibly useful:

    func bindEdgesToSuperview() {

        guard let s = superview else {
            preconditionFailure("`superview` nil in bindEdgesToSuperview")
        }

        translatesAutoresizingMaskIntoConstraints = false
        leadingAnchor.constraint(equalTo: s.leadingAnchor).isActive = true
        trailingAnchor.constraint(equalTo: s.trailingAnchor).isActive = true
        topAnchor.constraint(equalTo: s.topAnchor).isActive = true
        bottomAnchor.constraint(equalTo: s.bottomAnchor).isActive = true
    }
} 
```

* * *

## 回答 #13

> 赞同：2
> 
> 时间：2013-03-25T09:32:01.377

如果我是你，我会创建一个返回 UIView 的方法，给定一个 NSString 来包含。例如

```
+ (UIView *) sectionViewWithTitle:(NSString *)title; 
```

在这个方法的实现中创建一个 UIView，添加一个带有你想要设置的属性的 UILabel，当然也将它的标题设置为给定的。

* * *

## 回答 #14

> 赞同：2
> 
> 时间：2017-03-03T10:31:57.620

@samwize 在 Swift 中的解决方案（所以支持他！）。出色的页眉/页脚部分也使用相同的回收机制：

```
func tableView(_ tableView: UITableView, viewForHeaderInSection section: Int) -> UIView? {
    let settingsHeaderSectionCell:SettingsHeaderSectionCell = self.dequeueReusableCell(withIdentifier: "SettingsHeaderSectionCell") as! SettingsHeaderSectionCell

    return settingsHeaderSectionCell
} 
```

* * *

## 回答 #15

> 赞同：2
> 
> 时间：2017-09-22T22:04:40.980

```
- (void)tableView:(UITableView *)tableView willDisplayHeaderView:(UIView *)view forSection:(NSInteger)section
{
    if([view isKindOfClass:[UITableViewHeaderFooterView class]]){

        UITableViewHeaderFooterView *headerView = view;

        [[headerView textLabel] setTextColor:[UIColor colorWithHexString:@"666666"]];
        [[headerView textLabel] setFont:[UIFont fontWithName:@"fontname" size:10]];
    }
} 
```

如果要更改节标题中 textLabel 的字体，则要在 willDisplayHeaderView 中进行。要设置文本，您可以在 viewForHeaderInSection 或 titleForHeaderInSection 中进行。祝你好运！

* * *

## 回答 #16

> 赞同：1
> 
> 时间：2018-11-14T17:22:54.963

**快速 4.2**

```
override func tableView(_ tableView: UITableView, willDisplayHeaderView view: UIView, forSection section: Int) {
    guard let header = view as? UITableViewHeaderFooterView else { return }

    header.textLabel?.textAlignment = .center // for all sections

    switch section {
    case 1:  //only section No.1
        header.textLabel?.textColor = .black
    case 3:  //only section No.3
        header.textLabel?.textColor = .red
    default: //
        header.textLabel?.textColor = .yellow
    }
} 
```

* * *

## 回答 #17

> 赞同：1
> 
> 时间：2017-10-27T19:00:36.953

调用此委托方法

```
-(NSString *)tableView:(UITableView *)tableView titleForHeaderInSection:(NSInteger)section{

return @"Some Title";
} 
```

这将有机会自动添加带有动态标题的默认标题。

您可以使用可重用和可自定义的页眉/页脚。

[https://github.com/sourov2008/UITableViewCustomHeaderFooterSection](https://github.com/sourov2008/UITableViewCustomHeaderFooterSection)

* * *

## 回答 #18

> 赞同：1
> 
> 时间：2015-11-27T11:28:09.867

**神奇地快速添加表格视图标题**

最近我试过这个。

我在整个 UITableView 中只需要一个标题。

就像我想要在 TableView 顶部的 UIImageView 一样。所以我在 UITableViewCell 上添加了一个 UIImageView 并自动将它添加为 tableViewHeader。现在我将 ImageView 连接到 ViewController 并添加了 Image。

我很困惑，因为我第一次做这样的事情。因此，为了消除我的困惑，打开 MainStoryBoard 的 xml 格式，发现 Image View 被添加为标题。

它对我有用。感谢 xCode 和 swift。

* * *

## 回答 #19

> 赞同：0
> 
> 时间：2015-03-13T22:46:12.777

除了titleForHeaderInSection，您可以简单地更改页眉、页脚的视图。在此处查看我的评论：[更改 UITable 部分背景颜色而不丢失部分标题](https://stackoverflow.com/questions/8413436/change-uitable-section-backgroundcolor-without-loosing-section-title/29043165#29043165)

* * *

## 回答 #20

> 赞同：0
> 
> 时间：2017-05-08T16:06:16.037

回到最初的问题（4 年后），而不是重建您自己的部分标题，iOS 可以在构建默认标题后立即调用您（使用 willDisplayHeaderView:forSection:)。例如，我想在节标题的右边缘添加一个图形按钮：

```
- (void)tableView:(UITableView *)tableView willDisplayHeaderView:(UIView *)view forSection:(NSInteger)section {
    UITableViewHeaderFooterView * header = (UITableViewHeaderFooterView *) view;
    if (header.contentView.subviews.count >  0) return; //in case of reuse
    CGFloat rightEdge = CGRectGetMaxX(header.contentView.bounds);
    UIButton * button = [[UIButton alloc] initWithFrame:CGRectMake(rightEdge - 44, 0, 44, CGRectGetMaxY(header.contentView.bounds))];
    [button setBackgroundImage:[UIImage imageNamed:@"graphIcon"] forState:UIControlStateNormal];
    [button addTarget:self action:@selector(graphButtonPressed:) forControlEvents:UIControlEventTouchUpInside];
    [view addSubview:button];
} 
```

* * *

## 回答 #21

> 赞同：0
> 
> 时间：2017-11-09T00:15:35.103

用于`tableView: willDisplayHeaderView:`自定义即将显示的视图。

这使您能够获取已经为标题视图创建的视图并对其进行扩展，而不必自己重新创建整个标题视图。

这是一个示例，它根据 BOOL 为标题部分着色，并向标题添加详细文本元素。

```
- (void)tableView:(UITableView *)tableView willDisplayHeaderView:(UIView *)view forSection:(NSInteger)section
{
//    view.tintColor = [UIColor colorWithWhite:0.825 alpha:1.0]; // gray
//    view.tintColor = [UIColor colorWithRed:0.825 green:0.725 blue:0.725 alpha:1.0]; // reddish
//    view.tintColor = [UIColor colorWithRed:0.925 green:0.725 blue:0.725 alpha:1.0]; // pink

    // Conditionally tint the header view
    BOOL isMyThingOnOrOff = [self isMyThingOnOrOff];

    if (isMyThingOnOrOff) {
        view.tintColor = [UIColor colorWithRed:0.725 green:0.925 blue:0.725 alpha:1.0];
    } else {
        view.tintColor = [UIColor colorWithRed:0.925 green:0.725 blue:0.725 alpha:1.0];
    }

    /* Add a detail text label (which has its own view to the section header… */
    CGFloat xOrigin = 100; // arbitrary
    CGFloat hInset = 20;
    UILabel *label = [[UILabel alloc] initWithFrame:CGRectMake(xOrigin + hInset, 5, tableView.frame.size.width - xOrigin - (hInset * 2), 22)];

    label.textAlignment = NSTextAlignmentRight;

    [label setFont:[UIFont fontWithName:@"Helvetica-Bold" size:14.0]
    label.text = @"Hi.  I'm the detail text";

    [view addSubview:label];
} 
```

* * *

## 回答 #22

> 赞同：0
> 
> 时间：2020-03-11T11:29:03.887

**斯威夫特 4.2**

在 Swift 4.2 中，表的名称略有变化。

```
 func tableView(_ tableView: UITableView, viewForHeaderInSection section: Int) -> UIView? {
        let view = UIView(frame: CGRect(x: 0, y: 0, width: tableView.frame.size.width, height: 18))
        let label = UILabel(frame: CGRect(x: 10, y: 5, width: tableView.frame.size.width, height: 18))
        label.font = UIFont.systemFont(ofSize: 14)
        label.text = list.objectAtIndex(section) as! String
        view.addSubview(label)
        view.backgroundColor = UIColor.gray // Set your background color

        return view
    } 
```

* * *

## 回答 #23

> 赞同：0
> 
> 时间：2017-03-10T13:10:08.317

如果您只想为 tableView 标题添加标题，请不要添加视图。在 swift 3.x 中，代码如下所示：

```
override func tableView(_ tableView: UITableView, titleForHeaderInSection section: Int) -> String? {
    var lblStr = ""
    if section == 0 {
        lblStr = "Some String 1"
    }
    else if section == 1{
        lblStr = "Some String 2"
    }
    else{
        lblStr = "Some String 3"
    }
    return lblStr
} 
```

您可以实现一个数组来获取标题的标题。

* * *

## 回答 #24

> 赞同：0
> 
> 时间：2021-06-02T15:54:46.360

**Swift 5 的代码**

***我们可以通过使用两个 tableView 委托函数来实现这一点：***

1]我们可以为该部分提供自定义高度：

```
func tableView(_ tableView: UITableView, heightForHeaderInSection section: Int) -> CGFloat {
    return 49
} 
```

2]然后我们可以创建自定义标题：

```
 func tableView(_ tableView: UITableView, viewForHeaderInSection section: Int) -> UIView? {
    let sectionV = UIView.init(frame: CGRect(x: 0, y: 0, width: tableView.frame.width, height: 48) )
    let titleLbl = UILabel.init(frame: CGRect(x: 25, y: 24, width: tableView.frame.width-150, height: 20) )
    let viewAllBtn = UIButton.init(frame: CGRect(x: tableView.frame.width-150, y: 15, width: self.view.frame.width - titleLbl.frame.width, height: 45))
    viewAllBtn.titleLabel?.font = UIFont.systemFont(ofSize: 15)
    viewAllBtn.setTitle("View All", for: .normal)
    viewAllBtn.setTitleColor(.systemBlue, for: .normal)
    viewAllBtn.tag = section
    titleLbl.text = dashboardTempData.data?[section].title
    titleLbl.font = UIFont.systemFont(ofSize: 21, weight: UIFont.Weight.medium)
    sectionV.backgroundColor = .systemBackground
    sectionV.addSubview(titleLbl)
    sectionV.addSubview(viewAllBtn)
    sectionV.bringSubviewToFront(viewAllBtn)
    return sectionV
} 
```

**它将创建一个节标题高度为 49 的标签和按钮*****

# javascript - 按钮元素不显示文本值

> ID：15611379
> 
> 赞同：0
> 
> 时间：2013-03-25T09:23:29.477
> 
> 标签：javascript, windows-8, windows-runtime, windows-store-apps, winjs

重现步骤：

1.  打开适用于 Windows 8 的 Visual Studio 2012 Express（Metro 应用程序开发）
2.  左窗格；选择 JavaScript 作为语言。右窗格；选择空白模板
3.  点击确定
4.  插入：`<button name="printbutton" value="Print" />`进入*default.html*
5.  调试 ( `F5`)

**问题：** 当我启动一个全新的 HTML5 + JavaScript Windows Store 应用程序，并且只添加 1 个元素，而不对解决方案进行任何进一步更改时，按钮元素 ( `value="Print"`) 的文本值不会出现。

* * *

为什么会这样，我做错了什么吗？请参阅下面的屏幕截图：

![在此处输入图像描述](../Images/637d1115559429ac566034416eab389f.png)

我尝试通过添加到元素将`Button`元素的文本颜色设置为白色（因为背景是深色），但这根本没有任何效果。`style="color:white"``Button`

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-25T09:39:58.340

尝试这个

```
<button name="printbutton" value="Print" style="color:white;">Print</button> 
```

# sql - 错误：ORA-01722：无效号码

> ID：15611386
> 
> 赞同：-3
> 
> 时间：2013-03-25T09:23:41.793
> 
> 标签：sql, oracle

```
CREATE OR REPLACE FUNCTION evaluation (a DATE,m Number)
RETURN VARCHAR2
IS
BEGIN
RETURN CASE
WHEN (floor(sysdate - a) < m) THEN 'Yes'
ELSE 'No'
END; 
```

我做错了吗，在执行以下代码时，如果显示如下错误：

```
Error: ORA-01722: invalid number 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-25T09:32:28.647

发布的代码缺少一个`END;`（第一个`END`结束`CASE`，因此需要第二个来结束该过程），但除此之外它正在工作，前提是您输入一个数字而不是无法转换为数字的字符串。

```
select evaluation(sysdate+3, 2) from dual;

YES

select evaluation(sysdate+3, '2') from dual;

YES

select evaluation(sysdate+3, 'a') from dual;

Error: ORA-01722: invalid number 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-25T11:30:19.503

包括另一端@last.....

```
CREATE OR REPLACE FUNCTION evaluation (a DATE,m Number)
RETURN VARCHAR2
IS
BEGIN
RETURN (CASE
WHEN (floor(sysdate - a) < m) THEN 'Yes'
ELSE 'No'
END);
END; 
```

# javascript - 使用 Javascript 检查页面是否不包含某个单词

> ID：15611389
> 
> 赞同：0
> 
> 时间：2013-03-25T09:23:49.490
> 
> 标签：javascript, search

```
var xpathResult = document.evaluate("(//text()[contains(., 'WORD')])[1]", document, null, XPathResult.FIRST_ORDERED_NODE_TYPE, null);
var node=xpathResult.singleNodeValue;
if (node==null) 
```

这将检查字符串。

有没有相反的？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-25T09:26:54.000

如果你只关心 body innerHTML 你可以使用这个：

```
document.body.innerHTML.indexOf("theWord") === -1 // doesn't contain 
```

# android - Android 上 WebView 中的 NullPointerException

> ID：15611390
> 
> 赞同：0
> 
> 时间：2013-03-25T09:23:54.547
> 
> 标签：android, android-listview, nullpointerexception, android-webview

什么是可能的错误？WebView 不打开网页。

**这是我的代码：**

```
listView.setOnItemClickListener(new OnItemClickListener() {
              @Override
            public void onItemClick(AdapterView<?> parent, View view, int position, long id) {
                  page = tab0_list.get(position).bee_path;
                  /*String url = "http://tvapp.pcrevue.sk";
                  Intent i = new Intent(Intent.ACTION_VIEW);
                  i.setData(Uri.parse(url + stranka));
                  startActivity(i);*/ // it works but can not aproximate

                  WebView webView = (WebView) listView.findViewById(R.id.pageInfo);
                  webView.getSettings().setJavaScriptEnabled(true);
                  webView.loadUrl("http://tvapp.pcrevue.sk" + page);
            }
          }); 
```

我的日志猫：

```
03-25 09:01:20.262: E/AndroidRuntime(835): java.lang.NullPointerException
03-25 09:01:20.262: E/AndroidRuntime(835):  at sk.pcrevue.Tab0$1.onItemClick(Tab0.java:91) 
```

**NullPointerException 上线：** webView.getSettings().setJavaScriptEnabled(true);

这对我不好，不工作 [Android Webview NullPointerException](https://stackoverflow.com/questions/15476601/android-webview-nullpointerexception)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-25T09:56:20.637

检查`webview`对象是否为空。并使用`view`而不是`listview`in

```
listView.findViewById(R.id.pageInfo); 
```

# c - 如何在不包含头文件的情况下处理 typedef

> ID：15611397
> 
> 赞同：5
> 
> 时间：2013-03-25T09:24:19.487
> 
> 标签：c, include, typedef

至于从事一个更大的项目，我想加入一些自己的类型（例如`myType`）。“冲进来”的方法是将这些类型定义放入标题中（比如说`myType.h`），以及处理这些类型的一堆函数。

如果我在某处使用新类型，我会将其包含`myType.h`到我的源文件中。美好的。

但是，如果我想在某处使用新类型作为函数签名中的参数，我需要将 包含`myType.h`到包含该函数的模块的标头中。使用一个或另一个 typedef，这对我来说似乎没问题，但是我拥有的类型越多，我需要的头文件中包含的内容就越多，可能包括更多的头文件，同时使用包含其他自己类型的类型。这导致了我所说的“**依赖地狱**”。

有没有一种聪明、时尚、最佳实践的方法来解决这个困境？

我知道将这些类型作为 void-pointer 传递的可能性，将它们强制转换回函数内部，但随后我失去了编译器的重要类型检查。

此外，`extern`这里被认为是最糟糕的做法..

**编辑：**

详细地：

`myType.h`：

```
#include "otherType.h"

typedef struct {
  char Name[32];
  int Size;
  otherType someType;
} myType;

processSomeHow(myType _myType, int NewSize); 
```

`otherType.h`

```
#define SOME_CONST 32

typedef struct { [...] } otherType; 
```

`someModule.h`：

```
#include "myType.h"

int specialProcessSomeHow(myType _myType); 
```

`someModule.c`：

```
int specialProcessSomeHow(myType _myType)
{
  int Size = 64;
  return(processSomeHow(_myType, Size));
} 
```

现在我`otherType.h`间接包含到. 甚至更糟糕的是，我将它包含到每个模块中，`someModule.h`包括 `someModule.h`现在我`SOME_CONST`到处都有，很难弄清楚它来自哪里。我必须维护两个包含树。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-25T10:54:58.723

就像在 gtk 库中一样，您可以使用一个头文件并根据需要对其进行拆分。

```
type.h
- myType.h
-- someType.h
- otherType.h
- List item 
```

并在您的 CONST 问题上：如果您只需要一个 c.file。不要在 HeaderFile 中使用它们。您可以将它们命名为“MY_TYPE_SOME_CONST”或“OTHER_TYPE_SOME_CONST”；

//编辑：

说清楚：只需添加“this.h”文件并命名。

```
#ifndef TYPE_H_
#define TYPE_H_

#include myType.h
#include someType.h
#include otherType.h

#endif /* TYPE_H_ */ 
```

现在您可以为每个需要您的类型的文件使用“#include this.h”。（this.h 不是真实的，将其命名为独特的名称）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-25T09:30:32.277

您可以（并且可能应该）为您的自定义类型使用前向声明。在此处查看详细信息：[typedef stuct with forward declaration in C](https://stackoverflow.com/questions/8156438/typedef-stuct-with-forward-declaration-in-c)

您的接口（标头）应该具有不完整的类型（即指向您的自定义类型的指针），并且在源代码（c 文件）中，您应该包含`My_Type.h`.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-25T11:13:32.870

您不必要地担心：没有“依赖地狱”，正是因为您为编译器提供了完成工作所需的所有信息。

这是我的规则：

*   总是，总是使用头球后卫。
*   每个 .h 文件都应该显式地#include 编译所需的所有其他 .h 文件，而*不是更多*的 .h 文件。

因此，如果 bh 使用来自 ah 的类型，则 bh must `#include "a.h"`。如果`b.c`使用 中的函数`a.h`，但`b.g`不使用其中的类型，那么`b.c`应该#include 啊

*   .h 文件中的函数不需要`extern`关键字，因为 IIRC 现代编译器正确地推断出这一点。
*   使用`extern`全局变量很可能不受欢迎，这是有充分理由的。

*   全局命名空间混乱。C++ 命名空间解决了这个问题，但在 C 中，您必须对所有全局类型、函数和`#defines`. 选择一个适合你的约定：我已经看到团队成功地为每个源文件使用了 LETTER-DIGIT-DIGIT 前缀，因此`foo.h`可能会变成（例如）`B04_foo.h`，并且所有函数/类型都获得相同的`B04_`前缀。这有点粗糙，但它有效。正如我所说，选择一个适合你的。

# c# - GarbageCollector 的替代品是什么？

> ID：15611404
> 
> 赞同：8
> 
> 时间：2013-03-25T09:24:37.533
> 
> 标签：c#, .net, wpf, garbage-collection

我有以下代码，它将`OutOfMemoryException`在运行时生成：

```
public partial class MainWindow : Window
{
    private DrawingVisual myVisual = new DrawingVisual();

    public MainWindow()
    {
        InitializeComponent();
    }

    private void Window_Loaded(object sender, RoutedEventArgs e)
    {
        myVisual = GetVisual();
        graphicsCanvas.AddVisual(myVisual);
    }

    private void Graphics_Canvas_MouseMove(object sender, MouseEventArgs e)
    {
        //get the data visual:
        DrawingVisual tempVisual = GetVisual();

        //first clear the current display data:
        graphicsCanvas.RemoveVisual(myVisual);

        //get the data visual:
        myVisual = tempVisual;

        graphicsCanvas.AddVisual(myVisual);

        //GC.Collect();
    }

    private DrawingVisual GetVisual()
    {
        double width = graphicsCanvas.ActualWidth;
        double height = graphicsCanvas.ActualHeight;

        DrawingVisual dV = new DrawingVisual();

        Rect clipRect = new Rect(0, 0, width, height);

        dV.Clip = new RectangleGeometry(clipRect);

        using (DrawingContext dC = dV.RenderOpen())
        {
            RenderTargetBitmap rTB = new RenderTargetBitmap((int)width, (int)height, 96, 96, PixelFormats.Pbgra32);

            if (rTB.CanFreeze)
            {
                rTB.Freeze();
            }

            dC.DrawImage(rTB, clipRect);
        }

        return dV;
    }
} 
```

其中 a`Graphics_Canvas`定义如下：

```
class Graphics_Canvas : Canvas
{
    private List<DrawingVisual> visuals = new List<DrawingVisual>();

    protected override int VisualChildrenCount
    {
        get { return visuals.Count; }
    }

    protected override Visual GetVisualChild(int index)
    {
        return visuals[index];
    }

    public void AddVisual(DrawingVisual visual)
    {
        visuals.Add(visual);

        base.AddVisualChild(visual);
        base.AddLogicalChild(visual);
    }

    public bool ContainsVisual(DrawingVisual visual)
    {
        return visuals.Contains(visual);
    }

    public bool HasVisuals
    {
        get { return visuals.Count > 0; }
    }

    public void RemoveAllVisuals()
    {
        for (int i = 0; i < visuals.Count; i++)
        {
            RemoveFromLogicalTree(visuals[i]);
        }

        visuals.Clear();
    }

    private void RemoveFromLogicalTree(Visual visual)
    {
        RemoveLogicalChild(visual);
        RemoveVisualChild(visual);
    }

    public void RemoveLastVisual()
    {
        if (visuals.Count > 0)
        {
            int index = visuals.Count - 1;

            RemoveFromLogicalTree(visuals[index]);
            visuals.Remove(visuals[index]);
        }     
    }

    public void RemoveVisual(DrawingVisual visual)
    {
        RemoveFromLogicalTree(visual);
        visuals.Remove(visual);            
    }
} 
```

创建的 XAML`Window`是这样的：

```
<Window
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="clr-namespace:csMemoryLeakTestProject" x:Class="csMemoryLeakTestProject.MainWindow"
    Title="MainWindow" 
    Background="Gray"
    Height="600" Width="800"
    WindowStartupLocation="CenterScreen"
    Loaded="Window_Loaded">
    <Grid>
        <local:Graphics_Canvas Margin="12" Background="White" x:Name="graphicsCanvas" MouseMove="Graphics_Canvas_MouseMove"/>
    </Grid>
</Window> 
```

现在，这只是一个例子来说明我的观点，即我不明白这里使用垃圾收集器的替代方法是什么......

如果您运行该程序，并继续将鼠标`Graphics_Canvas`移到`OutOfMemoryException`. 如果您在`GC.Collect()`我注释掉的地方添加，这不会发生（尽管内存确实增加了少量，原因超出我的范围，并希望与我的问题有关），并且程序继续运行。

那么，为什么不`GC`启动并清除此内存并停止发生异常？如果我犯了一些非常基本的错误，我会很高兴有人向我指出，这样我就可以超越这一点。

我在这个网站上多次看到程序员的其他建议说“永远不要使用垃圾收集器”。我想遵循最佳实践，但在这种情况下我看不到我还能做什么。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-03-25T09:30:33.920

`GC`程序无法管理太多内存不是错。在您的程序中，您可以：

```
private void Graphics_Canvas_MouseMove(object sender, MouseEventArgs e)
{
   ....
    //ADD ELEMENTS ON EVERY MOVE !
    graphicsCanvas.AddVisual(myVisual);

    //GC.Collect();
} 
```

Tou 为每次鼠标移动添加一个元素，因此增加集合大小。你会期望发生什么？

因此，在**90%**的情况下，这类问题的解决方案是*重新架构*您的代码。

例子：

几乎不可能每次都在 MouseMove 上将新元素添加到儿童视觉集合中。可能是重复使用已经存在的情况。

`GC`不*建议*显式使用 of ，但有时我们需要使用它。但是，我再说一遍，我几乎不敢相信在*这种情况下*您需要以这种方式管理程序。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-03-25T09:51:41.433

我认为这描述了可能使您的对象保持活力的原因；

[http://msdn.microsoft.com/en-us/library/bb613565.aspx](http://msdn.microsoft.com/en-us/library/bb613565.aspx)

简而言之; 事件处理程序中的引用可能仍然存在。

# java - 泛型扩展

> ID：15611406
> 
> 赞同：0
> 
> 时间：2013-03-25T09:24:40.673
> 
> 标签：java, generics

有一个方法：

```
protected List<? extends Object> retrieveData(TypeReference<List<? extends Object>> ref) 
```

当我尝试应用它时：

```
return (List<SomeClass>) retrieveData(new TypeReference<List<SomeClass>>() {}); 
```

我收到此通知

> AbstractJsonService 类型中的方法`retrieveData(TypeReference<List<? extends Object>>)`不适用于参数`(new TypeReference<List<SomeClass>>(){})`

不知道这里有什么问题。有什么建议么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-25T09:29:34.583

也许您可以尝试使用以下方法签名：

```
protected <E> E retrieveData(TypeReference<E> ref) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-25T09:44:49.997

`Not sure what's wrong here. Any suggestions?`

方法体中的类型`<? extends Object>`未知，此类型可能是也可能不是实例`List<SomeClass>`。编译器无法确定并阻止返回 a `List<SomeClass>`。

使用 a 时，`protected <T> T retrieveData(TypeReference<T> ref)`您有 T 的“固定”类型，编译器确定返回的类型与`TypeReference`'s 的类型相同。除此之外，编译器能够`List<SomeClass>`在调用方法时推断出类型 T `retrieveData(new TypeReference<List<SomeClass>>)`，不再需要进行强制转换`List<SomeClass>`。

# javascript - 如何在 web.config 中使用包含特殊字符的值声明变量

> ID：15611408
> 
> 赞同：0
> 
> 时间：2013-03-25T09:24:50.317
> 
> 标签：javascript, asp.net, web-config

我正在使用 javascript 从 web.config 文件中读取一些 URL 值。但不知道如何用包含特殊字符的值声明变量。网址如下：

```
http://roolpio.com/PDF/CustomPages/Ut/Reader.asp?SID=" + SessionId + "&Key0=4&Key4=1&J=Ut/Reader.asp&T=User 
```

如何用包含特殊字符的值声明这些类型的变量？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-25T09:33:33.610

这`web.config`是一个 XML 文件，因此您需要使用 XML 转义来转义 XML 字符。

这意味着，`&`变成`&amp;`.

请参阅[我需要在 XML 文档中转义哪些字符？](https://stackoverflow.com/questions/1091945/where-can-i-get-a-list-of-the-xml-document-escape-characters)：

```
"   &quot;
'   &apos;
<   &lt;
>   &gt;
&   &amp; 
```

# sql - SQL 查询仅显示已完成的 GROUPED BY 结果

> ID：15611409
> 
> 赞同：0
> 
> 时间：2013-03-25T09:24:54.057
> 
> 标签：sql, visual-studio, tsql, sql-server-2008-r2

我有一个查询，它查看 SQL Server 2008 R2 中一组数据的结果。从本质上讲，一个样本的人已经在几个月内每天进行几次调查。在 Visual Studio 中，我现在想写一份报告，只显示那些在整个时间段内从未错过调查的人。

假设列结构如下：

```
ID | UserRef | ResultRef | Date  | Time 
```

在哪里：

*   `ID`是行的唯一标识符

*   `UserRef`是每个参与者的唯一标识符

*   `ResultRef`表示调查是如何完成的（例如，“A”表示调查按时完成；“C”表示参与者完全错过了调查；“O”表示调查已完成，但迟到了；等等，等等， ETC）

*   `Date`并且`Time`是不言自明的

我想找到的是所有从未错过调查的人（即只在他们的调查中记录过“A” `ResultRef`）。

还值得记住的是，并非所有参与者都被邀请对所有调查做出回应：有些人会被邀请，但有些人只会被邀请参加其中的一些。

我一直在考虑一个`GROUP BY`查询，但无法弄清楚这个`WHERE`子句。

有什么建议么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-25T09:30:00.167

尝试这个

```
SELECT * FROM yourTable WHERE ResultRef = 'A' and UserRef NOT IN 
 (SELECT DISTINCT UserRef FROM yourTable 
  WHERE ResultRef != 'A') 
```

# xml - 如何在 xsl-loop 中更改变量值

> ID：15611415
> 
> 赞同：0
> 
> 时间：2013-03-25T09:25:09.783
> 
> 标签：xml, variables, xslt, param

我有一个 xsl，它看起来像：

```
<xsl:param name="relativeURL"/>
<xsl:param name="isPersonalPage" />
<xsl:template match="/">
    <xsl:call-template name="main_level" >
        <xsl:with-param name="urlMatched" select="siteMap/siteMapNode/siteMapNode/@url= $relativeURL" />
    </xsl:call-template>
</xsl:template>

<xsl:template name="main_level" match="/">
<div>
<xsl:param name="urlMatched" />
        <xsl:for-each select="siteMap/siteMapNode/siteMapNode">
                <xsl:choose>
                <xsl:when test="(@url = $relativeURL)">
                    <a class="top_link active">
                        <xsl:attribute name="href">
                            <xsl:value-of select="@url"/>
                        </xsl:attribute>
                            <xsl:value-of select="@topNavTitle"/>
                    </a>
                </xsl:when>
                <xsl:otherwise>
                            <xsl:choose>
                            <xsl:when test="($isPersonalPage = 'true') and (!($urlMatched))">
                                <a class="top_link active">
                                    <xsl:attribute name="href">
                                        <xsl:value-of select="@url"/>
                                    </xsl:attribute>
                                    <xsl:value-of select="@topNavTitle"/>
                                </a>
                            </xsl:when>
                            <xsl:otherwise>
                                <a class="top_link">
                                <xsl:attribute name="href">
                                    <xsl:value-of select="@url"/>
                                </xsl:attribute>    
                                <xsl:value-of select="@topNavTitle"/>           
                                </a>
                            </xsl:otherwise>
                            </xsl:choose>
                </xsl:otherwise>
                </xsl:choose>
        </xsl:for-each>
</xsl:template> 
```

所以，基本上我需要遍历节点并查看任何节点的 url 属性是否与特定 URL 匹配。如果是这样，将变量的值设置为其他东西。然后在被调用的模板“main_nav”中，我希望根据“urlMatched”变量的值做一些事情。但我不确定我是否可以在两者之间更改变量的值。谁能帮我解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-25T09:49:09.403

请记住，变量在 XSLT 中是只读的。也就是说，您只能将它们分配一次。之后它们是只读的。

请参阅此相关问题

[更新 xslt 中的变量](https://stackoverflow.com/questions/12673307/update-the-variable-in-xslt/12674683#12674683)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-25T09:34:35.627

这不需要 a `for-each`，因为当一侧是节点集时，equals 测试的工作方式。简单地

```
<xsl:variable name="urlMatched"
    select="siteMap/siteMapNode/siteMapNode/@url = $relativeUrl" /> 
```

将执行您需要的操作，因为如果左侧集合中的任何节点与右侧的值匹配，则表达式为 true，否则为 false。您应该可以稍后使用`<xsl:if test="$urlMatched">`.

至于在其他模板中使用该值，请记住 XSLT 中的变量是词法范围的 - 如果您想在另一个模板中使用该值，则需要传递一个参数

```
<xsl:template name="something">
  <xsl:param name="urlMatched" />
  <!-- template body here -->
</xsl:template>

...
  <xsl:call-template name="something">
    <xsl:with-param name="urlMatched"
    select="siteMap/siteMapNode/siteMapNode/@url = $relativeUrl" />
  </xsl:call-template> 
```

或者只是在被调用的模板而不是调用者中进行计算，因为`call-template`不会改变上下文，所以相同的选择表达式也可以在那里工作。

# jquery - jQuery Mobile 在本地存储数据并在互联网可用时同步

> ID：15611418
> 
> 赞同：0
> 
> 时间：2013-03-25T09:25:16.043
> 
> 标签：jquery, jquery-mobile, mobile, asynchronous

我是 jQuery Mobile 的初学者。我有一个简单的表格，它有 10 个字段。

我的要求是，当用户提交此表单时，检查互联网连接是否可用，然后将数据存储在数据库中，否则将数据存储在本地。每当互联网连接可用时，同步这些数据并上传到服务器。

我怎样才能做到这一点？请指导我。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-25T09:39:29.153

实现这一点的一种方法是对数据库使用标准的 jQuery ajax 调用。

如果它返回错误（除其他外，表明互联网连接可能不可用）复制或移动数据（取决于您需要什么）到专门用作挂起上传队列的数组。

然后通过 setInterval 运行一个函数来检查挂起的上传队列中是否有数据，如果有则尝试上传，如果成功则从队列中删除上传的数据。如果失败，请留下数据以供下次尝试。

# jax-ws - schemagen ant 任务未在 xsd 中创建命名空间

> ID：15611422
> 
> 赞同：0
> 
> 时间：2013-03-25T09:25:31.083
> 
> 标签：jax-ws

Schemagen ant 任务未在生成的 XSD 文件中生成命名空间。

在 src 文件夹中，同一个包“com.test”中有 5 个类 有人可以建议我解决这个问题吗？问候， 贾亚克里希纳

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-25T12:21:16.537

您应该发布一些关于您的课程的示例代码。现在我猜你可能想`package-info.java`在包中添加一个文件并添加一个`@XmlSchema`注释。像这样：

```
 @XmlSchema(namespace = "http://your.name.space/definition")
    package com.test; 
```

这有帮助吗？

# java - “compacting perm gen”值代表什么？

> ID：15611423
> 
> 赞同：4
> 
> 时间：2013-03-25T09:25:31.693
> 
> 标签：java, jvm, crash-reports, crash-dumps, jvm-crash

我正在调查我们的一个生产系统上的 JVM 崩溃，以下内存值在下面的 hs_err_pid 日志文件片段中代表什么？

```
Heap
 par new generation   total 1258624K, used 955445K [0x00000005c0000000, 0x00000006155b0000, 0x000000066aaa0000)
  eden space 1118784K,  73% used [0x00000005c0000000, 0x00000005f1e52598, 0x0000000604490000)
  from space 139840K,  98% used [0x000000060cd20000, 0x00000006153db100, 0x00000006155b0000)
  to   space 139840K,   0% used [0x0000000604490000, 0x0000000604490000, 0x000000060cd20000)
 tenured generation   total 2796224K, used 1745107K [0x000000066aaa0000, 0x0000000715550000, 0x00000007c0000000)
   the space 2796224K,  62% used [0x000000066aaa0000, 0x00000006d52d4d90, 0x00000006c2e0c400, 0x0000000715550000)
 compacting perm gen  total 482944K, used 482943K [0x00000007c0000000, 0x00000007dd7a0000, 0x0000000800000000)
   the space 482944K,  99% used [0x00000007c0000000, 0x00000007dd79fff0, 0x00000007dd7a0000, 0x00000007dd7a0000)
No shared spaces configured. 
```

我关心的是“compacted perm gen”用法：它是指最大分配的 perm gen 堆的使用百分比，还是最大堆的使用百分比，还是其他什么？提供的百分比似乎是已用/总数的除法，这是总分配的 perm gen 吗？由于我们`-XX:MaxPermSize`设置为 1GB...

是否有任何有用的资源（除了没有提及 hs_err 文件的[Oracle 白皮书）来解释在 JVM 崩溃时转储的数据？](http://www.oracle.com/technetwork/java/javase/memorymanagement-whitepaper-150215.pdf)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-06-03T09:41:04.393

我从未找到准确描述“紧致烫发”值的参考资料，但我们自己的调查证明，报告的值是：

> 当前使用的 PermGen / 当前分配的 PermGen

在我的问题示例中，这意味着已经为 PermGen 分配了 482944K 的内存，其中 482943K 已在 GC 时使用（99%）。我们的最大 PermGen 大小设置为 1048576K (1GB)，因此收集过程有大量预留资源可以重新分配。

对于那些遇到类似问题的人 - 我们最终解决了我们的问题。在我们的例子中，它原来是一个第三方库，它使用了[sun.misc.Unsafe](http://www.docjar.com/docs/api/sun/misc/Unsafe.html)类，当使用不正确时，它是出了名的[“不安全” 。](http://mishadoff.github.io/blog/java-magic-part-4-sun-dot-misc-dot-unsafe/)

在这种情况下，[克隆对象的一段逻辑将](https://code.google.com/p/powermock/source/browse/trunk/api/support/src/main/java/org/powermock/api/support/DeepCloner.java?r=1193)特定的 ClassLoader 传递给一些 sun.misc.Unsafe 操作以复制对象。在某些机器上，复制的对象经常以损坏的状态创建。当 JVM 尝试进行垃圾收集时，它最终会收获其中一个坏对象并崩溃。这总是导致我的问题中描述的错误。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-03T06:45:41.083

But just because you set MaxPermSize to 1GB doesn't mean HotSpot will honor it. I don't think I've ever gotten more than 512MB. Your JVM's 482MB is pretty close to this figure.

In any case, 512MB is plenty for PermGen since it's only used to hold classes' metadata, it won't grow in size unless more classes are loaded through ClassLoader. So the question is: do you really need more than 512MB to hold roughly the size of the bytecodes of all the necessary classes in memory?

It's very possible that your system actually has [memory leaks in PermGen](http://java.dzone.com/articles/what-permgen-leak).

# c# - 如何更新每个页面请求的样式表？

> ID：15611427
> 
> 赞同：0
> 
> 时间：2013-03-25T09:25:39.353
> 
> 标签：c#, asp.net, css, webforms, updatepanel

在我的 ASP.NET WebForms 项目中，我需要更新每个页面请求的样式表。

现在没问题 - 我添加了 css.ashx 处理程序

```
public void ProcessRequest(HttpContext context)
        {
            context.Response.ContentType = "text/css";
            Random r = new Random();
            int red = r.Next(0, 255);
            int green = r.Next(0, 255);
            int blue = r.Next(0, 255);

            string css = string.Format("body {{ background-color: rgba({0}, {1}, {2}, 1); }}", red, green, blue);
            context.Response.Write(css);
        } 
```

并将其放入母版页：

```
<link href="/Scripts/css.ashx?tmp=<%=(new Random()).Next() %>" rel="stylesheet" type="text/css" /> 
```

仍然没有问题。每个请求都会加载 Css。

UpdatePanel 出现问题：

```
<asp:UpdatePanel runat="server">
    <ContentTemplate>
        <asp:Button Text="Update" runat="server" OnClick="btnOk_Click" ID="btnOk" />
    </ContentTemplate>
</asp:UpdatePanel> 
```

按下“更新”按钮，css 将不会被更新。这是正确的行为，但我需要找到解决方法。

我的建议是在 MasterPage 中将块移动 到另一个`<link href="/Scripts/css.ashx" rel="stylesheet" type="text/css" />`：`UpdatePanel``UpdateMode="Always"`

```
<asp:UpdatePanel runat="server" UpdateMode="Always">
    <ContentTemplate>
       <link href="/Scripts/css.ashx?tmp=<%=(new Random()).Next() %>" rel="stylesheet" type="text/css" />
    </ContentTemplate>
</asp:UpdatePanel> 
```

它工作得很好，但我只能在表单元素中添加这个块。结果我有无效的 HTML 文档（链接元素位于正文中，而不是头部）。

我该如何预防？有任何想法吗？我不想为每个更新链接href的请求注册javascript。

# javascript - 将嵌入式 svg 转换为图像或画布（目标是捕获有关所选 div 容器的屏幕）

> ID：15611429
> 
> 赞同：0
> 
> 时间：2013-03-25T09:25:43.720
> 
> 标签：javascript, canvas, svg, jsplumb

对不起我的英语不好。

我想用 jsPlumb 绘制图表并导出捕获的图像。

Jsplumb 在 svg 中呈现如下：

```
<svg style="position:absolute;left:457.05px;top:227.65px;z-index:-5;" width="476.9" height="233.7" pointer-events="none" position="absolute" version="1.1" xmlns="http://www.w3.org/1999/xhtml" class="_jsPlumb_connector ent0 ent1 Line"><path d="M 112.95 178.35 L 363.95 55.35" pointer-events="all" version="1.1" xmlns="http://www.w3.org/1999/xhtml" style="" fill="none" stroke="black" stroke-width="5"/><path d="M 112.95 178.35 L 363.95 55.35" pointer-events="all" version="1.1" xmlns="http://www.w3.org/1999/xhtml" style="" fill="none" stroke="blue" stroke-width="3"/></svg> 
```

我想将此转换为画布（我可以使用 html2canvas 将其转换为图像 - 我尝试这种方式：[Google docs](https://docs.google.com/file/d/0B0lExpm98uKrZkdOZjBIVFdpV28/edit?usp=sharing)）或直接转换为图像。jsPlumb 在 html 而不是文件中生成 SVG，所以我不能使用**svgeezy**。我尝试使用canvg，但我不能（错误的文档）。

我需要一个客户端解决方案或更简单的服务器端解决方案。

jsPlumb 的示例代码：http: [//jsfiddle.net/WRUra/3/](http://jsfiddle.net/WRUra/3/)您只需将 div1 连接到 div2 或 div3 容器，并在 svg 中呈现连接器元素。

问候， Zserrbo

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-25T09:38:26.533

如果您使用画布模式，则可以轻松地将连接复制到另一个画布。

*   制作一个大画布，将所有画布连接复制到正确位置的画布
*   为每个 div 测量其顶部、左侧、宽度、高度，并获取内部文本
*   在大画布上绘制矩形
*   在矩形内绘制文本
*   将大画布导出到图像

# android - 从字符串打开可绘制资源

> ID：15611432
> 
> 赞同：1
> 
> 时间：2013-03-25T09:25:51.977
> 
> 标签：android

我需要从字符串中获取资源：

我所做的：

```
InputStream is = ctx.getResources().openRawResource(R.drawable.image1); 
```

我需要的：

```
InputStream is = ctx.getResources().openRawResource(getDrawable("image1")); 
```

任何人都知道如何实现 getDrawable() 功能？

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-25T09:29:48.273

用于`getResources().getIdentifier`使用字符串名称获取可绘制 ID 为：

```
int drwableid = ctx.getResources().getIdentifier("image1", 
                                         "drawable", ctx.getPackageName());
InputStream is = ctx.getResources().openRawResource(drwableid); 
```

# sql-server-2008 - 案例条件不适用于日期

> ID：15611433
> 
> 赞同：0
> 
> 时间：2013-03-25T09:26:01.060
> 
> 标签：sql-server-2008

我有一个包含这样数据的表：

```
Date
-------
1900-01-01 00:00:00.000
1900-01-01 00:00:00.000
1900-01-01 00:00:00.000
2012-02-02 00:00:00.000
2012-02-03 00:00:00.000
1900-01-01 00:00:00.000 
```

我需要一个查询，无论何时`1900-01-01 00:00:00.000`出现，我都需要检索列`''`，其他值需要相同

```
Select  case 
When CONVERT(VARCHAR(10),app.LastActivityDate,101) = '1900-01-01'  THEN ''
End as [Last Activity Date] from t_name 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-25T09:51:40.993

试试这个：

```
Select  case 
When app.LastActivityDate = cast('19000101' as datetime)
THEN ''
ELSE CONVERT(VARCHAR(10),app.LastActivityDate,101)
End as [Last Activity Date] from t_name 
```

# wpf - 如何使用 VB.NEW 和 WPF 将 DataGrid 中的选定项目显示到 TextBox

> ID：15611437
> 
> 赞同：0
> 
> 时间：2013-03-25T09:26:09.460
> 
> 标签：wpf, vb.net, datagrid

我被一个看似相当简单的问题所困扰，我正在使用*WPF*和*VB.NET 2010*。我用 MySQL 数据库中的数据填充了我`DataGrid`的数据*，*我希望当我单击 上的特定行时`DataGrid`，行内容显示在 a 中`TextBox`，我尝试使用*VB.NET WinForms*代码，但它似乎不起作用。

```
Dim i as integer
i = dgvGrid.CurrentRow.Index
textbox1.text = dgvGrid.Item(0, i).Value 
```

这是我在*WinForms*中使用的示例代码 请帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-27T07:48:06.677

我终于找到了如何做到这一点，

```
Dim row as datarowView = Ctype(Datagrid1.selectedItem(0),Datarowview)
textbox1.text = string.format(Trim(row("ColumnName").ToString 
```

ColumnName 只是 datagrid 中 columnheader 的名称

# node.js - 用 mocha 测试 express 应用

> ID：15611442
> 
> 赞同：0
> 
> 时间：2013-03-25T09:26:25.090
> 
> 标签：node.js, express, mocha.js

我有以下需要测试的请求：

```
curl -H "Accept: application/json" -H "Content-type: application/json" -X POST -d '{"content":{"value":"18.5", "date": "20120413"}}' 'http://SERVER:PORT/marks' 
```

我正在使用 expressjs 和 mocha。我没有找到在 mocha 的请求中添加一些标头并指定一些 json 参数的方法：

```
it('Checks creation of a new mark', function(done){
   request.post('http://SERVER:PORT/marks', function(err, response, body){
   // Some headers and parameters should be set in the request
   response.statusCode.should.equal(201);
  done();
}); 
```

});

下面的测试（GET 请求）运行良好：

```
it('Checks existence of marks for user dummyuser', function(done){
  request.get('http://SERVER:PORT/user/dummyuser/marks', function(err, response, body){
    response.statusCode.should.equal(200);
    done();
  });
}); 
```

**更新**

下面的工作就像一个魅力：（我虽然要求摩卡创造了某种变量）。

```
 request(
  { method: 'POST'
  , uri: 'http://SERVER:PORT/marks'
  , headers: { 'content-type': 'application/json' , 'accept': 'application/json' }
  , json: { "content":{"value":"18,5", "date": "2012-04-13"} }
  }
, function(err, response, body){
  response.statusCode.should.equal(201);
  done();
}); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-25T09:49:02.780

看看[文档](http://nodejs.org/api/http.html#http_http_request_options_callback)。关于如何使用自定义标题发布帖子有一个很好的解释。一种对我有用的方法可能是以下。

```
var options = {
  host: 'localhost',
  port: 80,
  path: '/echo/200',
  method: 'POST',
  headers: {
    "X-Terminal-Id" : terminalId
  }
};
var data = ""
var req = https.request(options, function(res) {
  res.on('data', function(d) {
    data += d;
  });
  res.on('end', function(err){
    //Check that data is as expected
    done(null, data)
  })
});
req.end();

req.on('error', function(err) {}
  done(err) 
}); 
```

# c# - 在 C# MVC 应用程序中绘制饼图

> ID：15611449
> 
> 赞同：0
> 
> 时间：2013-03-25T09:26:41.370
> 
> 标签：c#, asp.net-mvc, asp.net-mvc-3, asp.net-charts

我创建了一个 ASP.NET C# MVC3 项目，我需要显示一个饼图并使用以下控制器返回的值填充它；

我的控制器；

```
 public ActionResult Index()
        {
            var model = new TimeTrackerModel();
            model.TypeSchools = AllDataList.retrieveAlltypeSchool();
            return View(model);        

        } 
```

模型类型学校将返回`number of Primary, Secondary and Tertiary Schools in UK`.

现在，我需要将这些值显示在`PIE chart`. 如何`PIE chart`根据返回的值绘制一个。

1.) 我如何绘制饼图（我无法从工具栏中拖放图表工具） 2.) 我如何使用控制器给出的值填充饼图。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-25T09:41:25.493

1）为此，您将需要 js 库，我建议[Raphael](http://raphaeljs.com)：[http ://raphaeljs.com/pie.html](http://raphaeljs.com/pie.html)

2）您可以为您的模型或简单视图创建自定义视图模板

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-25T09:58:12.877

您不能在 mvc 视图页面中拖放控件。从控制器返回图表的方式取决于所使用的工具或库。绘制图表的方法有很多种：有些是

1.  Microsoft Chart：[代码项目中的 MS Chart 示例](https://www.google.com/url?sa=t&rct=j&q=&esrc=s&source=web&cd=3&cad=rja&ved=0CEQQFjAC&url=http://www.codeproject.com/Articles/65803/A-Guide-to-using-MSChart-for-NET&ei=8B5QUZHdJsuIrAfO6oDwCw&usg=AFQjCNHsmzhf0BEW8K2xJMuO8pjOAuJz2g&sig2=vojitS2oRGPP-Rr8D0Znew&bvm=bv.44158598,d.bmk)
2.  pdfReport：[也使用 MS Chart](http://pdfreport.codeplex.com)
3.  High Chart: [Highchart] 但不是免费用于非商业用途[3](http://dotnethighcharts.codeplex.com/) 因此，在选择最佳选项之前，请先找到他们的样本和文档。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-27T05:33:30.520

您还可以查看[jqPlot](http://www.jqplot.com)，它是一个非常流行的用于生成图表的 js 库。例如条形图、绘图、饼图等。

我建议您查看 jqplots 网站上的[饼图](http://www.jqplot.com/tests/pie-donut-charts.php)。他们还为您提供了清晰的示例。

# java - 将 Object 设置为 在 Spring MVC 中

> ID：15611452
> 
> 赞同：1
> 
> 时间：2013-03-25T09:26:54.360
> 
> 标签：java, forms, spring-mvc

我正在使用 Spring 3.2.1-RELEASE 库来开发应用程序...

是否可以将对象设置为 ..

例如：

```
<form:select path="var">
  <form:option value=Object1>One</form:option>
  <form:option value=Object2>Two</form:option>
</form:select> 
```

提前致谢..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-25T09:30:31.637

不，这是不可能的。

您可以做的是在您的控制器中有一个映射，其中键作为对象名称，值作为对象本身。然后根据选定的对象名称检索对象。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-25T09:33:31.430

您必须在控制器端的模型对象中设置值，并使用 JSTL 解析 jsp 中的值并填充值

可以在这个 SO question 中找到模拟代码

[如何将对象从 Spring 3.0 控制器传递到 JSP 视图并使用 JSTL 进行测试](https://stackoverflow.com/questions/2255352/how-to-pass-an-object-from-spring-3-0-controller-to-jsp-view-and-test-with-jstl)

# android - 我应该在客户端使用哪个蓝牙配置文件进行网络共享？

> ID：15611453
> 
> 赞同：1
> 
> 时间：2013-03-25T09:26:56.017
> 
> 标签：android, bluetooth, tethering

我应该在客户端使用哪个蓝牙配置文件进行网络共享？例如，我在我的 Android 设备上启用了网络共享，并希望在其他不支持网络共享的特定设备上使用 Internet。我知道有不同的蓝牙配置文件，是否可以为此目的使用其中一些（例如 PAN）？

谢谢！

# c++ - 多次输入一个文件到一个可执行文件

> ID：15611454
> 
> 赞同：-2
> 
> 时间：2013-03-25T09:27:05.433
> 
> 标签：c++, dev-c++

我正在研究一种学习算法，并且我正在使用输入文件从命令行提供输入，如下所示：- c:\user\document> SBP < input.txt

但是我想多次输入这个文件（不确定），直到训练错误不低于某个阈值，我该怎么做..

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-25T09:31:00.283

您可以在命令行上多次给出它，例如

```
 ./command.exe input.txt input.txt input.txt 
```

或给它一次

```
 ./command.exe input.txt 
```

并在需要时多次打开

```
int main(int argc, char **argv)
{
    for (int i = 0; i < 3; ++i) {
        std::ifstream f(argv[1]);
        // process input
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-25T15:15:53.390

我建议重新设计您的 SBP 程序，以包含学习迭代的循环。这样，您只需读取一次数据输入，然后在程序内部对其进行处理。或者，您可以考虑为您的程序提供参数输入文件（例如，最大迭代次数（将数据呈现给学习算法的次数）、错误阈值、一些其他参数，甚至是要读取的数据文件的名称（所以跳过从命令行提供它））。因此，最终您可能会提出以下输入：

```
c:\user\document> SBP < input_parameters.txt input_data.txt 
```

或者干脆

```
c:\user\document> SBP < input_parameters.txt 
```

坚持或多或少的标准用户界面是一件好事。

# visual-studio - 在 Windows Phone 8 上提升 asio

> ID：15611463
> 
> 赞同：3
> 
> 时间：2013-03-25T09:27:46.377
> 
> 标签：visual-studio, visual-c++, boost, windows-phone-8, boost-asio

在 windows phone 8 上编译 boost asio 时遇到问题。编译器无法搜索 mswsock.h。我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-25T09:46:30.757

我怀疑找不到它，因为它不适用于 Windows Phone。

要让它编译，您必须在源代码中删除对 Windows Phone 不可用的 API 的任何引用。

WP8 仅支持[MSDN 上列出](http://msdn.microsoft.com/en-us/library/windowsphone/develop/jj662956%28v=vs.105%29.aspx)的 Win32 API 。

# android - 多重继承——有出路吗？

> ID：15611466
> 
> 赞同：0
> 
> 时间：2013-03-25T09:27:54.740
> 
> 标签：android, multiple-inheritance, slidingmenu

我有点麻烦，我有一个使用传统菜单的应用程序（更像是一个社交网络应用程序），现在，我决定用基于 jfeinstein10/SlidingMenu 库的滑动式菜单替换该菜单。

据我所知并已阅读，集成该库的方法是使用滑动菜单类扩展主要活动，但是，我面临的问题是，由于我的应用程序使用谷歌地图 api，它已经扩展了地图活动,

```
 public class MainActivity extends MapActivity implements View.OnClickListener 
```

因此，我不确定如何进一步包含滑动活动，因为 java 不支持多重继承。此外，我不能使用其他类的实例。我知道还有其他一些方法，例如直接通过集成库的构造函数。任何帮助，谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-25T10:26:36.813

您应该使用 MapFragment API v2，因此您的活动可以扩展 SlidingFragmentActivity，并且您可以将 mapfragment 作为一个单独的单元放入其中。

我知道，这可能是一项艰巨的工作，但建议使用此解决方案，因为它的性能要好得多，并且自 3 月 1 日起不再支持 MapActivity，例如您不能再请求它的 API 密钥。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-25T10:19:58.357

有一种方法可以将其包含`Library Projects`在您的项目中。

1.  在您的工作区中导入库项目。

    > 文件 > 导入 > Android > 工作区中的现有代码 > 浏览到库项目 > 确定

2.  在您的项目中添加库项目的引用。

    > 右键单击您的项目 > 属性 > Android > 添加 > 选择您的库项目 > 确定

另一种方法是添加`jar`文件。

> 右键单击您的项目 > 属性 > Java 构建路径 > 库 > 添加外部 jar > 浏览到 jar 文件 > 确定

或者

> 在您的项目中创建一个名为*libs*的文件夹（如果尚未存在）。然后将jar文件复制到这个文件夹中。

完成此操作后，您可以根据需要使用库项目。

无需将其扩展到您的类名。它只需要导入。

```
import library_package_name.classname; 
```

希望这可以帮助 ！！

# jqgrid - jqGrid动态更改特定行的edittype

> ID：15611469
> 
> 赞同：3
> 
> 时间：2013-03-25T09:28:01.303
> 
> 标签：jqgrid, cell

在这篇[文章之后](https://stackoverflow.com/questions/7535942/solved-jqgrid-how-to-set-custom-editoptions-based-on-initial-column-values)，我找到了一些我想要的方法，但我遇到了一些麻烦。这是我的代码：

```
var myDlg = $("#dlgpers"),lastsel;
myDlg.jqGrid({
    url:'pers.php?id='+dataRow.id,
    mtype:'GET',
    datatype: "json",
    ajaxGridOptions: { cache: false },
    height:250,
    cmTemplate: {sortable:false},
    gridview: true,
    cellEdit:true,
    scroll:false,
    colNames:['Id','Label','Information','Type','Data'],
    colModel:[ 
        {name:'id',index:'id',hidden:true,key:true},
        {name:'label',index:'label',align:'right',width:100,editable:false,
            cellattr: function (rowId, val, rawObject, cm, rdata) {
                return ' style="font-weight:bold;margin-right:5px;border-left:0;border-top:0;" class="ui-state-active"' ;
            }
        },
        {name:'info',index:'info',width:200,editable:true,edittype:'text'},
        {name:'type',index:'type',width:30,hidden:true},
        {name:'data',index:'data',width:30,hidden:true}
    ],
    loadComplete: function () {
        var rowIds = myDlg.jqGrid('getDataIDs');
        $.each(rowIds, function (i, row) {
            var rowData = myDlg.jqGrid('getRowData',row);
            if (rowData.type == 'select') {
                myDlg.jqGrid('restoreRow', row);
                var cm = myDlg.jqGrid('getColProp', 'info');
                cm.edittype = 'select';
                cm.editoptions = { value: rowData.data };
                myDlg.jqGrid('editRow', row);
                cm.edittype = 'text';
                cm.editoptions = null;
                cm.editable = true;
            }else{
                myDlg.jqGrid('restoreRow', row);
                var cm = myDlg.jqGrid('getColProp', 'info');
                cm.edittype = 'text';
                cm.editoptions = null;
                cm.editable = true;
                myDlg.jqGrid('editRow', row);
                cm.edittype = 'text';
                cm.editoptions = null;
                cm.editable = true;
            }
        });
    }
}); 
```

结果为图像：

![在此处输入图像描述](../Images/2c9d4056e2fd38abf13edf8503baea2f.png)

和 JSON 响应：

```
{"page":1,"total":1,"records":1,"rows":[
{"cell":[0,"Nom ","LEBRUN","text",""]},
{"cell":[1,"Pr\u00e9nom ","Jacques","text",""]},
{"cell":[2,"Initiales ","LJ","text",""]},
{"cell":[3,"Fonction ","","text",""]},
{"cell"[4,"Service,"Administratif","select","0:Administratif;1:Commercial;2:Magasin;3:M\u00e9canique;4:Rejointage;5:Soudure;6:Tests"]},
{"cell":[5,"T\u00e9l\u00e9phone ","","text",""]},
{"cell":[6,"Email ","","text",""]},
{"cell":[7,"Statut ","CDI","select","0:CDI;1:CDD;2:App;3:Stg;4:Int"]},
{"cell":[8,"Entr\u00e9 le ","2008-10-06","text",""]},
{"cell":[9,"Sorti le ","0000-00-00","text",""]}]} 
```

我提交给您的两个问题：

1.  如您所见，第二行 (Prénom) 似乎不可编辑，但确实如此。
2.  我不明白为什么这些输入是可见的，因为我希望它们只有在我编辑某些单元格时才会出现。

非常感谢您为解决（并解释）我的错误方式提供的所有帮助。继和

**2013 年 3 月 29 日更新**

我已经应用了您的答案代码并且运行良好！非常感谢。但是我为另一个主题创造了另一种形式，这给我带来了一些麻烦。

这是这种新形式的代码：

```
 var showAbs=function(){
        $('#EditDialog').empty();
        var $table=$('<table></table>')
        .attr('id','dlgcong')
        .appendTo($('#EditDialog'));
        var myCong = $("#dlgcong");
        myCong.jqGrid({
            url:'xpabs.php?id='+id+'&y='+y,
            datatype: "json",
            height:"auto",
            cmTemplate: {sortable:false},
            gridview: true,
            colNames:['Type absence','Début','Fin','id'],
            colModel:[ 
                {name:'abs',index:'abs',width:155,editable:true,edittype:'select',
                    editoptions:{ 
                        dataUrl:"selabs.php", 
                    dataEvents: [
                            {
                                type: 'change',
                                fn: function(e) {
                                    $(this).parent().css('background-color','#'+$(this).find('option:selected').attr('colr'));
                                    if($(this).find('option:selected').attr('colr')=='ffffff'){
                                        $(this).parent().parent().find('input').datepicker('disable');
                                    }else{
                                        $(this).parent().parent().find('input').datepicker('enable');
                                        $(this).parent().parent().attr('changed',true);
                                    }
                                }
                            }
                        ]
                    },
                    cellattr: function (rowId, val, rawObject, cm, rdata) {
                        return ' style="background-color:#'+rawObject[4]+';color:white;"';
                    }
                },
                {name:'debut',index:'debut',align:'center',width:70,editable:true},
                {name:'fin',index:'fin',align:'center',width:70,editable:true},
                {name:'id',index:'id',hidden:true}
            ],
            jsonReader: {
                cell: "", 
                root: function (obj) { 
                    return obj; 
                } 
            },                  
            loadComplete: function (data) {
                var $self = $(this),
                        cm = $self.jqGrid("getColProp", "debut"),
                        idPrefix = $self.jqGrid("getGridParam", "idPrefix"),
                        l = data.length,
                        i,
                        item;
                for (i = 0; i < l; i++) {
                    item = data[i];
                    cm.editoptions = {
                        dataInit: function(element) {
                            $(element).datepicker({
                                setDate:item[1],
                                minDate:'01/01/'+y,
                                maxDate:'31/12/'+y,
                                onSelect: function( selectedDate,inst ) {
                                    $(element).val(selectedDate );
                                    $(element).parent().parent().attr('changed',true);
                                }
                            })
                        }
                    }
                }
                var cm = $self.jqGrid("getColProp", "fin");
                for (i = 0; i < l; i++) {
                    item = data[i];
                    cm.editoptions = {
                        dataInit: function(element) {
                            $(element).datepicker({
                                setDate:item[2],
                                minDate:'01/01/'+y,
                                maxDate:'31/12/'+y,
                                onSelect: function( selectedDate,inst ) {
                                    $(element).val(selectedDate );
                                    $(element).parent().parent().attr('changed',true);
                                }
                            })
                        }
                    }
                    $self.jqGrid("editRow", idPrefix + item[3]);
                }
                myCong.find('select').each(function(){
                    $(this).css({
                        backgroundColor:'transparent',
                        color:'white',
                        border:0,
                        width:155
                    });
                });
            },
            idPrefix: "cong",
            rowNum: 10000   
        });
        //********************
        //  Button ' Valider '
        //********************
        $('<input />')
        .attr({
            type:'button',          
        })
        .css({
            float:'right',
            marginTop:'5px'
        })
        .click(function(){
            var toBeSaved='';
            myCong.find('tr[changed=true]').each(function(idx){
                if(toBeSaved.length>0){
                    toBeSaved+='|';
                }
                toBeSaved+=$(this).find('td:eq(3)').text()+';';
                toBeSaved+=$(this).find('select option:selected').val()+';';
                toBeSaved+=$(this).find('input:eq(0)').val()+';';
                toBeSaved+=$(this).find('input:eq(1)').val();
            });
            if(toBeSaved.length>0){
                $.ajax({
                    url:'majpabs.php?id='+id+'&data='+toBeSaved,
                    async:false,
                    dataType:'json',
                    success:function(data){
                        myGrid.trigger('reloadGrid');
                        $('#newAbs').val(' Nouveau ').attr('disabled',false);
                    }
                });
            }
        })
        .val(' Valider les absences ')
        .appendTo($('#EditDialog'));
        //*******************
        //  Button ' Retour '
        //*******************
        $('<input />')
        .attr({
            type:'button',
            id:'newAbs'
        })
        .css({
            float:'left',
            marginTop:'5px'
        })
        .click(function(){
            showPers();
        })
        .val(' Retour ')
        .appendTo($('#EditDialog'));
        //********************
        //  Button ' Nouveau '
        //********************
        $('<input />')
        .attr({
            type:'button',
            disabled:false
        })
        .css({
            float:'left',
            marginTop:'5px',
            marginLeft:'7px'
        })
        .click(function(){
            if($(this).val()==' Nouveau '){
                var myRow = {abs:"0", debut:'00/00/'+y, fin:'00/00/'+y, id:'0'};
                myCong.jqGrid('addRowData','',myRow, 'last');
                $(this).val(' Sauver ').attr('disabled',true);
            }else{
            }
        })
        .val(' Nouveau ')
        .appendTo($('#EditDialog'));
    } 
```

结果为图像：

![在此处输入图像描述](../Images/8b889b04c8277f56f2f6e60cb39d4b96.png)

1.  如您所见，第一行不像其他行那样接收 select 和 datepicker。奇怪的 ！
2.  当我添加新行时，它不会接收 select 和 datepicker 作为第一行。我认为我对这种方法的理解是错误的。

我担心这些问题会打扰您，我查看了 wiki，但没有成功找到任何方法来纠正这些问题。我想找到一些更详细的教程来展示一些案例。

**非常**感谢您，如果您能再花一些时间给我一种使用 jqGrid.JiheL 提高效率的方法

**2013 年 4 月 1 日更新**

我已经应用了 Oleg 的建议，现在可以了。但麻烦依然存在。这是图像：

![在此处输入图像描述](../Images/e0fbcd384d4f22ad6ca08a3c8f9157f1.png)

对于第一行，选择框就可以了。第一个输入字段接收日期选择器，但第二个（称为“fin”的列）没有！所有其他行都接收良好的日期选择器，但不是第一行的最后一个字段。这是代码：

```
 loadComplete: function (data) {
                var $self = $(this),
                        idPrefix = $self.jqGrid("getGridParam", "idPrefix"),
                        l = data.length,
                        i,
                        item,
                        cm;
                for (i = 0; i < l; i++) {
                    item = data[i];
                    cm = $self.jqGrid("getColProp", "debut");
                    cm.editoptions = {
                        dataInit: function(element) {
                            //alert('deb'+i);
                            $(element).datepicker({
                                setDate:item[1],
                                minDate:'01/01/'+y,
                                maxDate:'31/12/'+y,
                                onSelect: function( selectedDate,inst ) {
                                    $(element).val(selectedDate );
                                    $(element).parent().parent().attr('changed',true);
                                }
                            })
                        }
                    };
                    $self.jqGrid("editRow", idPrefix + item[3]);
                    //
                    cm = $self.jqGrid("getColProp", "fin");
                    cm.editoptions = {
                        dataInit: function(element) {
                            //alert('fin'+i);
                            $(element).datepicker({
                                setDate:item[2],
                                minDate:'01/01/'+y,
                                maxDate:'31/12/'+y,
                                onSelect: function( selectedDate,inst ) {
                                    $(element).val(selectedDate );
                                    $(element).parent().parent().attr('changed',true);
                                }
                            })
                        }
                    };
                    $self.jqGrid("editRow", idPrefix + item[3]);
                }
                myCong.find('select').each(function(){
                    $(this).css({
                        backgroundColor:'transparent',
                        color:'white',
                        border:0,
                        width:155
                    });
                });
            }, 
```

下次，我希望你能帮我解决这个问题并关闭这个请求。非常感谢您花时间帮助新手。继和

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-25T11:57:02.273

我认为很多来自您代码中的常见问题。所以我试图更详细地回答你的问题。

首先，您发布了错误的 JSON 数据。线

```
{"cell"[4,"Service,"Administratif","select","0:Administratif;1:Commercial;2:Magasin;3:M\u00e9canique;4:Rejointage;5:Soudure;6:Tests"]}, 
```

包含两个错误：

1.  在“单元格”之后没有'：'
2.  没有`"`之后`"Service`

更改后的行将是这样

```
{"cell":[4,"Service","Administratif","select","0:Administratif;1:Commercial;2:Magasin;3:M\u00e9canique;4:Rejointage;5:Soudure;6:Tests"]}, 
```

并且可以读取 JSON 数据。下一个问题是在一个数组中使用数字和字符串。因为jqGrid代码[那行的bug](https://github.com/tonytomov/jqGrid/blob/v4.4.4/js/grid.base.js#L1384)

```
idr = ccur !== undefined ? ccur[idn] || idr : idr; 
```

ids 不能是整数值 0。我发布[了有关该错误的错误报告](http://www.trirand.com/blog/?page_id=393/bugs/small-bug-with-reading-id0/#p28519)。**要使用jqGrid的*现有代码***解决问题，您应该使用字符串而不是数字。例如线

```
{"cell":[0,"Nom ","LEBRUN","text",""]}, 
```

应该改为

```
{"cell":["0","Nom ","LEBRUN","text",""]}, 
```

如果没有更改，您将拥有**id duplicates**。第一行 (`{"cell":[0,"Nom ","LEBRUN","text",""]}`和`{"cell":[1,"Pr\u00e9nom ","Jacques","text",""]},`) 都将获得等于 1 而不是 0 和 1 的相同 id。**这是您描述的问题的主要原因。**

此外，我会向您推荐以下内容：

*   **删除`cellEdit:true`选项**。您`editRow`稍后在代码中使用。这意味着您使用[内联编辑](http://www.trirand.com/jqgridwiki/doku.php?id=wiki:inline_editing)而不是[单元格编辑](http://www.trirand.com/jqgridwiki/doku.php?id=wiki:cell_editing)，这意味着`cellEdit:true`. 您不能将两种编辑模式结合在一个网格中。
*   将`height:250`选项替换为`height:"auto"`
*   从中删除所有`index`属性`colModel`。删除`colModel`具有默认值 ( `edittype:'text'`, `editable:false`)的所有属性
*   `mtype:'GET'`删除具有默认值 ( , `scroll:false`)的 jqGrid 选项
*   JavaScript 中函数的所有参数都是*可选*的。因此，如果您不使用例如任何`cellattr`回调参数，您可以替换`cellattr: function (rowId, val, rawObject, cm, rdata) {...}`为`cellattr: function () {...}`
*   回调`loadComplete`有一个参数`data`，可以为您提供从服务器返回的所有数据。所以你不需要使用`getDataIDs`and `getRowData`。数组`data.rows`可以直接使用。
*   如果您使用回调`data`参数，您可以从网格`loadComplete`中删除不需要`'type'`的列。`'data'`
*   如果您放置关于`id`之后的信息，`'Label','Information'`那么您也可以使用`id`属性并从网格中`jsonReader`删除隐藏列。`id`例如，如果您`id`作为数组中的最后一个移动，`cell`您可以使用并从网格`jsonReader: {id: 4}`中删除隐藏列。`id`如果您添加额外`cell: ""`的属性，`jsonReader`您可以`"cell":`从输入数据中删除。如果您将使用定义为函数的`root`属性（请参阅[文档](http://www.trirand.com/jqgridwiki/doku.php?id=wiki:retrieving_data#jsonreader_as_function)），您可以从服务器响应中删除一些不需要的数据。`jsonReader`

例如服务器可以产生简化的数据

```
[
["Nom ","LEBRUN","text","","0"],
["Pr\u00e9nom ","Jacques","text","","1"],
["Initiales ","LJ","text","","2"],
["Fonction ","","text","","3"],
["Service","Administratif","select","0:Administratif;1:Commercial;2:Magasin;3:M\u00e9canique;4:Rejointage;5:Soudure;6:Tests","4"],
["T\u00e9l\u00e9phone ","","text","","5"],
["Email ","","text","","6"],
["Statut ","CDI","select","0:CDI;1:CDD;2:App;3:Stg;4:Int","7"],
["Entr\u00e9 le ","2008-10-06","text","","8"],
["Sorti le ","0000-00-00","text","","9"]
] 
```

相应的 jqGrid 可以是

```
$("#dlgpers").jqGrid({
    url: "pers.php?id=" + dataRow.id,
    datatype: "json",
    height: "auto",
    cmTemplate: {sortable: false},
    gridview: true,
    colNames: ["Label", "Information"],
    colModel: [
        {name: "label", align: "right", width: 100,
            cellattr: function () {
                return ' style="font-weight:bold;margin-right:5px;border-left:0;border-top:0;" class="ui-state-active"';
            }},
        {name: "info", width: 200, editable: true}
    ],
    jsonReader: {id: 4, cell: "", root: function (obj) { return obj; } },
    loadComplete: function (data) {
        var $self = $(this),
            cm = $self.jqGrid("getColProp", "info"),
            idPrefix = $self.jqGrid("getGridParam", "idPrefix"),
            l = data.length,
            i,
            item;

        for (i = 0; i < l; i++) {
            item = data[i];
            cm.edittype = item[2] === "select" ? "select" : "text";
            cm.editoptions = { value: item[3] };
            $self.jqGrid("editRow", idPrefix + item[4]);
        }
    },
    idPrefix: "dlg",
    rowNum: 10000 // to have no paging
}); 
```

查看[演示](http://www.ok-soft-gmbh.com/jqGrid/user2132268_1_.htm)：

![在此处输入图像描述](../Images/a37941040d15df946d5efbda902a1e4a.png)

# xml - 使用 Linq to xml 查询 XML

> ID：15611470
> 
> 赞同：1
> 
> 时间：2013-03-25T09:28:02.750
> 
> 标签：xml

如何使用 Linq To Access 检索元素客户、结果和原因的值。

```
 <?xml version="1.0"?>
 <!DOCTYPE CreateAccount>
  <CreateAccount>
  <Customer>tonytsund</Customer>
   <Result>Failed</Result>
   <Reason>Reseller/Password combination unknown</Reason>
   </CreateAccount> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-25T09:38:37.320

尝试这个：

```
XElement xe = XElement.Load(ur xml);
    var CusValue = from a in xe.Elements("Customer")
                   select a.Value;
    var ResultValue= from a in xe.Elements("Result")
                      select a.Value;
    Var ReasonValue= from a in xe.Elements("Reason")
                      select a.Value; 
```

# objective-c - “[__NSArrayM objectAtIndex:]：索引 10 超出范围 [0 .. 9]”

> ID：15611477
> 
> 赞同：-3
> 
> 时间：2013-03-25T09:28:26.720
> 
> 标签：objective-c

当我运行我的应用程序时，它通过发出警告“[__NSArrayM objectAtIndex:]: index 10 beyond bounds [0 .. 9]”而崩溃。任何人都可以帮助我纠正这个问题吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-25T09:36:56.920

您可以按照图片中的建议找到它给出此异常的位置

![在此处输入图像描述](../Images/40711f875bf297473f555cb8e042d1c4.png)

然后运行应用程序，断点应该指向您导致异常的确切代码行。

一切顺利。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-25T09:30:39.713

您的数组中有 10 个元素，它们的索引从 0 到 9，并且您试图获取索引为 10 的元素，这意味着 11。元素。但是数组中没有 11 个元素

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-03-25T09:30:59.123

相反，您可以使用以下方法

```
for(id object in arrHistoricData)
{
    // object returns value in array
} 
```

# python - Dumbo(Python)/Hadoop 意外输出

> ID：15611478
> 
> 赞同：0
> 
> 时间：2013-03-25T09:28:27.093
> 
> 标签：python, encoding, hadoop

我正在尝试使用 dumbo(Python)/haddop [https://github.com/klbostee/dumbo/wiki/Short-tutorial#jobs-and-runners执行以下代码](https://github.com/klbostee/dumbo/wiki/Short-tutorial#jobs-and-runners)

我正确地遵循了教程，我已经完成了每一步，但是当我在 hadoop 环境中运行代码时，我得到如下输出：

*SEQ/org.apache.hadoop.typedbytes.TypedBytesWritable/org.apache.hadoop.typedbytes.TypedBytesWritable...... �172.16.1.10��������������������172.16.1.12������������������172.16.1.30���� ��*

它应该返回带有连接计数器的 IP 地址列表。为什么会出现这些角色？是编码问题吗？我如何解决它？谢谢

另外，如果我尝试教程中的其他程序，我也会遇到同样的问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-27T08:49:59.697

我自己回答。该输出是 Dumbo 的序列化形式。没有错误。

要将其转换为可读文本，以下命令就足够了（答案在教程中！我没看到）

```
dumbo cat ipcounts/part* -hadoop /usr/local/hadoop | sort -k2,2nr | head -n 5 
```

# c# - WebBrowser 类 - 如何打印没有页眉/页脚的文档？

> ID：15611479
> 
> 赞同：4
> 
> 时间：2013-03-25T09:28:27.320
> 
> 标签：c#, .net, winforms, printing, browser

我正在使用`WebBrowser`该类来打开文档、更改值、保存和打印。问题是，它打印的文档包括页眉（“第 1 页，共 1 页”）和页脚（文档的根 + 日期）

我查看了文档并没有找到删除它们的方法。甚至可以使用`WebBrowser`还是我应该寻找替代品？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-25T10:30:57.743

有一个解决方案，可能不如它本来的那么干净。由于 WebBrowser 继承了 Internet Explorer 的设置，因此可以更改注册表中的值。幸运的是，这些值在 HKCU 之下，因此不需要管理权限。

看看[https://stackoverflow.com/a/1321314/1630928](https://stackoverflow.com/a/1321314/1630928)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-25T11:29:56.800

这样做的诀窍是将包含变量 ByRef SafeArray 的 Variant 传递给 WebBrowser 控件。我还没有弄清楚如何从 C# 中做到这一点。这是其他正在解决相同问题的人，他求助于使用托管 C++

[http://www.limilabs.com/blog/printing-in-webbrowser-control-custom-header-and-footer](http://www.limilabs.com/blog/printing-in-webbrowser-control-custom-header-and-footer)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-03-07T08:38:47.203

不是 C#，而是我基于现已失效的[KB267240](http://web.archive.org/web/20150107112218/http://support.microsoft.com/kb/267240)提出的 C++ 代码。它会在打印时删除页眉和页脚：

```
BOOL bRes = FALSE;

//Get IWebBrowser2 from your IE control
CComPtr<IWebBrowser2> pWebBrowser = this->GetIWebBrowser2();
if(pWebBrowser)
{
    HRESULT hr;
    COleVariant varNull;

    SAFEARRAYBOUND psabBounds[1];
    SAFEARRAY *psaHeadFoot;
    hr = S_OK;

    VARIANT vArg;
    BOOL bGot_vArg = FALSE;

    VARIANT vHeadStr, vFootStr;
    long rgIndices;
    VariantInit(&vHeadStr);
    VariantInit(&vFootStr);

    // Initialize header and footer parameters to send to ExecWB().
    psabBounds[0].lLbound = 0;
    psabBounds[0].cElements = 3;
    psaHeadFoot = SafeArrayCreate(VT_VARIANT, 1, psabBounds);
    if(psaHeadFoot)
    {
        // Argument 1: Header
        vHeadStr.vt = VT_BSTR;
        vHeadStr.bstrVal = SysAllocString(L" ");    //Must be at least one space
        if (vHeadStr.bstrVal)
        {
            // Argument 2: Footer
            vFootStr.vt = VT_BSTR;
            vFootStr.bstrVal = SysAllocString(L" ");    //Must be at least one space
            if(vFootStr.bstrVal)
            {
                rgIndices = 0;
                SafeArrayPutElement(psaHeadFoot, &rgIndices, static_cast<void *>(&vHeadStr));
                rgIndices = 1;
                SafeArrayPutElement(psaHeadFoot, &rgIndices, static_cast<void *>(&vFootStr));
                rgIndices = 2;
                SafeArrayPutElement(psaHeadFoot, &rgIndices, static_cast<void *>(&varNull));    //Set stream to NULL as we don't need it

                //NOTE: Currently, the SAFEARRAY variant must be passed by using
                // the VT_BYREF vartype when you call the ExecWeb method.
                VariantInit(&vArg);
                vArg.vt = VT_ARRAY | VT_BYREF;
                vArg.parray = psaHeadFoot;

                //Got it
                bGot_vArg = TRUE;
            }
        }
    }

    //Did we get all the vars?
    if(bGot_vArg)
    {
        if(SUCCEEDED(hr = pWebBrowser->ExecWB(OLECMDID_PRINT, OLECMDEXECOPT_PROMPTUSER, &vArg, NULL)))
        {
            //All good
            bRes = TRUE;
        }
    }
    else
    {
        //Use fallback (that will keep the footer & header)
        if(SUCCEEDED(hr = pWebBrowser->ExecWB(OLECMDID_PRINT, OLECMDEXECOPT_PROMPTUSER, varNull, varNull)))
        {
            //Printed via fallback
            bRes = TRUE;
        }
    }

    //Clean up
    VariantClear(&vHeadStr);
    VariantClear(&vFootStr);
    if(psaHeadFoot)
    {
        SafeArrayDestroy(psaHeadFoot);
        psaHeadFoot = NULL;
    }
} 
```

# blackberry-simulator - 在 Blackberry 10 中运行我的应用程序

> ID：15611480
> 
> 赞同：3
> 
> 时间：2013-03-25T09:28:27.593
> 
> 标签：blackberry-simulator, blackberry-10, blackberry-qnx

![错误图像](../Images/7a0d962a4d5f7c702fffa2a0f5ab3aa9.png)我是 Blackberry 10 开发的新手 我曾尝试运行 GE / Cascade 示例应用程序，但它引发了错误，如图所示“同步和启动应用程序遇到问题”我正在使用 BB10_0_10.261 模拟器我已跳过设置调试令牌部分。在黑莓模拟器中运行是否有必要？

我已将其设置为模拟器调试模式。但它仍然无法正常工作......我[在模拟器上也遵循了 BlackBerry 10 Cascades - Running 应用程序](https://stackoverflow.com/questions/14886073/blackberry-10-cascades-running-app-on-the-simulator)但它无法正常工作是什么问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-25T11:04:41.710

如果项目构建配置设置为模拟器调试，我认为您不需要调试令牌。

*此评论后上传的错误图片：*我确信错误对话框上有一个详细信息按钮，其中包含更多信息。
也许单击它，然后将输出粘贴到此处...

[此链接](http://www.youtube.com/watch?v=-ViNlh6RqvQ)应该可以帮助您正确设置环境

不耐烦的可以跳到3:20左右：）

教程很适合新手。

# encryption - 限制数据访问

> ID：15611481
> 
> 赞同：1
> 
> 时间：2013-03-25T09:28:28.423
> 
> 标签：encryption, data-protection

我有一个由 30 名开发人员组成的小组，他们可以访问一个高度敏感的数据库以进行调试。数据库中的所有数据均未加密。如果我们关心保护表中的某些列，例如 Salary，那么最好的方法是什么？

1) 确保开发人员无法查看他人工资的最佳方法是什么？但仅在需要时才授权和指定开发人员。

我正在考虑数据加密来加密工资列。但是，如果我们遇到薪水问题，我如何以最快的方式授予开发人员访问权限？将解密代码授予开发人员将再次允许他检查其他工资。

有什么建议吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-25T09:37:34.167

无论如何，您应该有一个单独的开发环境进行开发，因此您可以简单地将那里的薪水列设为 NULL（或给它随机值）。

对于最终的生产数据测试（也需要完成），您不需要所有 30 名开发人员都具有访问权限，因此请分配一些人来执行此操作并让他们访问产品数据。

您还可以通过将用户分配给角色来考虑基于行的安全性，并且只有 TRUSTED_DEV 可以查看所有记录，但这通常很痛苦（角色管理，测试需要更长的时间，因为他们不确定这是错误还是他们没有正确的访问）

# c++ - 如果 C++ 没有相应的功能，像 Qt 这样的框架如何创建 GUI？

> ID：15611487
> 
> 赞同：3
> 
> 时间：2013-03-25T09:29:01.237
> 
> 标签：c++, user-interface

从这里收到的问题的答案：[Graphics using Standard C++ only?](https://stackoverflow.com/questions/15611024/graphics-using-standard-c-only)

似乎是 C++ 本身没有 GUI 功能。那么在 C++ 中支持 GUI 的其他框架（如 Qt）是如何做到的呢？他们是否在内部使用其他语言，或者是否有其他用于 GUI 的标准库/协议？

而且我只关心 C++ 语言框架。

谢谢你。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-03-25T09:31:18.997

它们调用操作系统 API 或其他框架中的 API，以创建 GUI 组件。

例如。在 Windows 上，他们调用 Windows [`CreateWindow`](http://msdn.microsoft.com/en-us/library/windows/desktop/ms632679%28v=vs.85%29.aspx)API 来创建一个窗口。

例如，当一个框架在多个平台上工作时，它包含针对每个平台的不同 GUI 代码，`CreateWindow`在 Windows 或 Mac 上的任何 Mac 等价物上调用。

# .htaccess - 如何从问号右侧获取论点

> ID：15611488
> 
> 赞同：0
> 
> 时间：2013-03-25T09:29:04.680
> 
> 标签：.htaccess

如何重定向

/搜索？关键字=车辆

至

**/Search.php?Keyword=车辆**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-25T10:55:54.217

通过启用 mod_rewrite 和 .htaccess `httpd.conf`，然后将此代码放在您`.htaccess`的`DOCUMENT_ROOT`目录下：

```
Options +FollowSymLinks -MultiViews
# Turn mod_rewrite on
RewriteEngine On
RewriteBase /

RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d 
RewriteRule ^(.+)$ /$1.php [L,NC,QSA] 
```

# vb.net - 如何在datagridviw编辑控件显示事件中处理组合框列的选定索引更改和文本框列的按键事件？

> ID：15611500
> 
> 赞同：1
> 
> 时间：2013-03-25T09:29:38.277
> 
> 标签：vb.net

我在winform中有一个datagridview，其中存在四列。其中1个comboxcolumn和其他三个textboxcolumn。我已经正确处理了组合框选择的索引更改并且工作正常。我在 Datagridview_editigControlShowing() 事件上处理这个。现在我想处理其他三个文本框 keyprees 事件，因此用户只能输入数值。现在我在网上搜索了一些解决方案，但是当我在运行时单击组合框时在 editorControlShowing() 方法中添加另一个处理程序时，它显示错误。但是当我删除文本框的 addHandler 时，它工作正常。

我的代码看起来像

Private Sub dgvPurchase_EditingControlShowing(ByVal sender As Object, ByVal e As System.Windows.Forms.DataGridViewEditingControlShowingEventArgs) 处理 dgvPurchase.EditingControlShowing

```
 Dim editComboBox As ComboBox = TryCast(e.Control, ComboBox)
    If Not editComboBox Is Nothing Then
        AddHandler editComboBox.SelectedIndexChanged, AddressOf editComboBox_SelectedIndexChanged
    End If
    'RemoveHandler dgvPurchase.EditingControlShowing, AddressOf dgvPurchase_EditingControlShowing

End Sub 
```

现在有什么办法可以同时处理这两种情况，如果可以，请提供解决方案

# qt - qtpainterpath旋转

> ID：15611501
> 
> 赞同：1
> 
> 时间：2013-03-25T09:29:41.287
> 
> 标签：qt, qpainter

我有一个用画家路径绘制的圆圈，在里面我有与相同画家路径的线。我想旋转圆圈但不旋转其中的线？我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-25T10:00:36.463

绘制各个部分时需要使用保存和恢复功能。

模拟时钟可能接近您正在寻找的：

[http://qt-project.org/doc/qt-5.0/qtgui/analogclock.html](http://qt-project.org/doc/qt-5.0/qtgui/analogclock.html)

[http://qt-project.org/doc/qt-5.0/qtgui/analogclock-main-cpp.html](http://qt-project.org/doc/qt-5.0/qtgui/analogclock-main-cpp.html)

# javascript - 仅在表单元素之外触发 jquery 键事件

> ID：15611508
> 
> 赞同：2
> 
> 时间：2013-03-25T09:30:00.383
> 
> 标签：javascript, jquery

是否可以仅在表单元素之外触发键事件？

背景：我有一个代码可以在按下右键时加载下一页。但是，如果有人在表单元素中使用该键，我不想触发该事件。

当前代码：

```
$(document).keydown(function(e){
    if (e.keyCode == 37) { 

        var url = $('a#left').attr("href");

        if (url != '') { // require a URL
                window.location = url; // redirect
        }

    return false;
    }

    if (e.keyCode == 39) { 

        var url = $('a#right').attr("href");

        if (url != '') { // require a URL
                window.location = url; // redirect
        }

    return false;
    }
}); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-25T09:50:02.347

如果您的表单之外还有其他*字段*，我希望这可能非常有用

`**[LIVE DEMO](http://jsbin.com/ucokab/5/edit)**`

```
document.onkeyup = function( ev ){

  var key = ev.which || ev.keyCode ,
      aID = { 37:"left", 39:"right" }; 

  if( ! (/INPUT|TEXTAREA/i.test(ev.target)) && aID[key]) {
     var url = document.getElementById( aID[key] ).getAttribute('href');
     window.location = url;
  }

}; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-25T09:35:20.437

这是该概念的一个基本示例。您只需将事件处理程序添加到文档并检查其目标没有作为表单的父级。

**HTML**

```
<form>
    Inside form
    <input/>
</form>
Outside form
<input /> 
```

**Javascript**

```
 $(document).keyup(function(event){
        if($(event.target).parents("form").length == 0){
           alert("here");
        }
    }); 
```

**工作 POC：http:** [//jsfiddle.net/48NYE/](http://jsfiddle.net/48NYE/)

这个概念可以很容易地应用于您提供的脚本。

**修改您的脚本**

```
$(document).keydown(function(e){
    var outsideForm = $(e.target).parents("form").length == 0;
    if (e.keyCode == 37 && outsideForm) { 

        var url = $('a#left').attr("href");

        if (url != '') { // require a URL
                window.location = url; // redirect
        }

    return false;
    }

    if (e.keyCode == 39  && outsideForm){ 

        var url = $('a#right').attr("href");

        if (url != '') { // require a URL
                window.location = url; // redirect
        }

    return false;
    }
}); 
```

# sql - SQL Group 按最新条目

> ID：15611509
> 
> 赞同：0
> 
> 时间：2013-03-25T09:30:10.137
> 
> 标签：sql

我有三张桌子

```
table1      
PCName      PCID
PC1     001
PC2     002
PC3     003

table2
PCID        LastOnline
001     01.02.13
002     05.01.13
003     04.03.13

table3
PCID        PatchInstall
001     03.02.13
001     05.02.13
001     01.02.13
002     06.02.13
002     08.02.13            
003     01.02.13
003     09.02.13
003     10.02.13

I can get the information together like this
PCID    PCName  LastOnline  PatchInstall
001     PC1     01.02.13    03.02.13
001     PC1     01.02.13    05.02.13
001     PC1     01.02.13    01.02.13
002     PC2     05.01.13    06.02.13
002     PC2     05.01.13    08.02.13            
003     PC3     04.03.13    01.02.13
003     PC3     04.03.13    09.02.13
003     PC3     04.03.13    10.02.13 
```

但我只想记录最近 PatchInstall 日期的每台 PC。我曾尝试使用 GROUP BY 命令执行此操作，但没有任何运气。

有没有人知道如何使它成为可能？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-25T09:33:19.057

尝试这个：

```
SELECT 
  t1.pcid,
  t2.name,
  t2.LastOnLine,
  t3.LatestPatchInstall
FROM table1 AS t1
INNER JOIN table2 AS t2 ON t1.pcid = t2.pcid
INNER JOIN
(
  SELECT pcid, MAX(PatchInstall) AS LatestPatchInstall
  FROM table3
  GROUP BY pcid
) AS t3 ON t1.pcid = t3.pcid 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-25T09:33:01.670

假设`table1`和`table2`是一对一的关系，这就像使用`MAX`函数一样简单：

```
SELECT t1.PCID, PCName, LastOnline, MAX(PatchInstall) AS PatchInstall
FROM table1 t1
INNER JOIN table2 t2 ON t1.PCID = t2.PCID
LEFT OUTER JOIN table3 t3 ON t1.PCID = t3.PCID
GROUP BY t1.PCID, PCName, LastOnline 
```

`table1`如果不是 1 对 1 的关系，则每一对都会得到一行`table2`。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-25T09:34:22.937

尝试：

```
SELECT
  max(PatchInstall) over (partition by PCName)
FROM YourTable 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-25T09:49:22.313

另一种更简单的方法是使用`CTE`和`ROW_NUMBER()`

```
;WITH CTE AS
(
   SELECT T1.PCName,
          T2.LastOnline,
          T3.PatchInstall,
          ROW_NUMBER() OVER (PARTITION BY T1.PCID ORDER BY T3.PatchInstall DESC) AS RNK
   FROM Table1 T1
   INNER JOIN Table2 T2 ON T2.PCID = T1.PCID
   INNER JOIN Table3 T3 ON T3.PCID = T1.PCID
)

SELECT * FROM CTE
WHERE RNK = 1 
```

[SQL 小提琴演示](http://www.sqlfiddle.com/#!3/9ad69/18)

# javascript - 无需刷新即可运行 PHP 脚本的最简单方法

> ID：15611510
> 
> 赞同：0
> 
> 时间：2013-03-25T09:30:10.887
> 
> 标签：javascript, jquery, ajax

我有一个包含值的列表。

例子：

*   1
*   2
*   3

如果我单击 1 个值，我想运行一个 PHP 脚本，该脚本使用最后单击的数字更新该值。

我有：

```
 <a href="#" onclick="add('<?php echo $subiid ?>'); return false" title="add"><?php echo $subiid ?></a> 
```

其中 subiid 是要发布的值

在我的标题中，我有脚本：

```
<script type="text/javascript">
function toevoegenFavo(aid) {
  alert(aid);
}
</script> 
```

其中显示了一个具有正确值的警报框。

我想要做的是当我单击将发布到 PHP 脚本的值时，以更新数据库。

JavaScript、AJAX、jQuery 的最佳方式是什么？

**解决方案**

```
function toevoegenFavo(aid) {

alert("the picture is added");
$.post("favoriet.php", { aid: aid } );
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-25T09:36:53.657

将回调附加到所有列表元素的 .onclick 和 -

```
$.post("test.php", { name: 'valueWhichYouWannaSend', time: "2pm" } ); 
```

[文档](http://api.jquery.com/jQuery.post/)
第一个参数是 url，第二个参数包含您要发送的数据（作为对象）

# c# - 使用 UrlRewritingNet 删除 Traiing 正斜杠

> ID：15611511
> 
> 赞同：1
> 
> 时间：2013-03-25T09:30:11.573
> 
> 标签：c#, asp.net, seo, umbraco

我正在一个遗留的asp.net 和umbraco 网站上做一些工作。它使用 UrlRewritingNet 来设置 url 操作的规则。

我想在 UrlRewritingNet 文件中创建一个规则，以从 url 中删除尾部斜杠。

例如。[http://www.test.com/index.aspx/](http://www.test.com/index.aspx/)到[http://www.test.com/index.aspx](http://www.test.com/index.aspx)

你能帮忙吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-25T14:09:33.450

```
<add name="noendslash" 
            virtualUrl="^(.*)/$" 
            rewriteUrlParameter="IncludeQueryStringForRewrite" 
            redirect="Application"
            destinationUrl="~$1"
            ignoreCase="true" /> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-25T14:41:03.470

在更高版本的 IIS 中，您可以在 url 重写部分设置这些 SEO 规则，而无需更改代码。只需在网站的“url 重写”部分中“添加规则”即可：

![在此处输入图像描述](../Images/499949684b6381e37ceff0d1960b3d56.png)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-25T09:50:56.853

您可以使用该[`TrimEnd()`](http://msdn.microsoft.com/en-us/library/system.string.trimend%28v=vs.100%29.aspx)方法。

```
return inputString.TrimEnd('/'); // .NET 2 or newer 
```

或者

```
return inputString.TrimEnd(new char[] { '/' }); // legacy 
```

# php - 如果键不存在，如何合并数组并添加一个空元素

> ID：15611513
> 
> 赞同：1
> 
> 时间：2013-03-25T09:30:20.467
> 
> 标签：php, arrays, merge

我有这 3 个数组：

```
$a1 = array( 'a' => 1, 'b' => 2, 'c' => 3 );
$a2 = array( 'a' => 4, 'b' => 5, 'd' => 6 );
$a3 = array( 'a' => 7, 'c' => 8, 'd' => 9, 'x' => 10 ); 
```

我想合并它们，结果如下所示：

```
Array(
[a] => Array(
        [0] => 1
        [1] => 4
        [2] => 7
    )
[b] => Array(
        [0] => 2
        [1] => 5
        [2] => 
    )
[c] => Array(
        [0] => 3
        [1] => 
        [2] => 8
    )
[d] => Array(
        [0] => 
        [1] => 6
        [2] => 9
    )
[x] => Array(
        [0] => 
        [1] => 
        [2] => 10
    ) 
```

...我将在一个简单的表中使用数据，如下所示：

```
 col-1 col-2  col-3
a   1     4      7
b   2     5      -
c   3     -      8
d   -     6      9
x   -     -     10 
```

[array_merge_recursive](http://us.php.net/manual/en/function.array-merge-recursive.php)很接近，但没有给我空元素，所以我相信我需要一个循环来完成工作。我的问题是弄清楚我需要在那个循环中使用哪个函数。

我很乐意一次将 2 个数组与自定义用户函数合并。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-25T09:40:11.623

我认为最简单的方法是从所有输入数组中获取所有键的列表，然后迭代键列表以构造结果数组：

```
$keys = array_unique(
    array_merge(
        array_keys($a1),
        array_keys($a2),
        array_keys($a3)
    )
);

$result = array();
foreach ($keys as $key) {
    $result[$key] = array(
        isset($a1[$key]) ? $a1[$key] : null,
        isset($a2[$key]) ? $a2[$key] : null,
        isset($a3[$key]) ? $a3[$key] : null
    );
}

print_r($result); 
```

[看到它工作](http://codepad.org/mO2KExxO)

...或者，如果您想提供具有任意数量输入数组的数组数组：

```
$keys = array();
foreach ($arrs as $arr) {
    $keys = array_merge($keys, array_keys($arr));
}
$keys = array_unique($keys);

$result = array();
foreach ($keys as $key) {
    $result[$key] = array();
    foreach ($arrs as $arr) {
        $result[$key][] = isset($arr[$key]) ? $arr[$key] : null;
    }
}

print_r($result); 
```

[看到它工作](http://codepad.org/fXi0DDc0)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-25T09:46:50.913

尝试这个 ：

```
<?php
$a1    = array( 'a' => 1, 'b' => 2, 'c' => 3 );
$a2    = array( 'a' => 4, 'b' => 5, 'd' => 6 );
$a3    = array( 'a' => 7, 'c' => 8, 'd' => 9, 'x' => 10 );

$arr   = array($a1,$a2,$a3);
$cnt   = count($arr);

$res   = array();
foreach($arr as $key=>$val){
   foreach($val as $k=>$v){
     $res[$k][$key]  = $v;
   }
}
echo "<table>";
echo "<tr><td>&nbsp;</td><td>col-1</td><td>col-2</td><td>col-3</td></tr>";
foreach($res as $ky=>$vl){
   echo "<tr>";
   echo "<td>".$ky."</td>";
   for($i=0;$i<$cnt;$i++){
      if(array_key_exists($i,$vl)){
         echo "<td>".$vl[$i]."</td>";
      }
      else{
         echo "<td> - </td>";
      }
   }
   echo "</tr>";
}
echo "</table>";
?> 
```

输出 ：

```
 col-1   col-2   col-3
a   1       4       7
b   2       5       -
c   3       -       8
d   -       6       9
x   -       -       10 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-03-25T10:02:42.037

尝试这个

```
<?php
 $a1 = array( 'a' => 1, 'b' => 2, 'c' => 3 );
 $a2 = array( 'a' => 4, 'b' => 5, 'd' => 6 );
$a3 = array( 'a' => 7, 'c' => 8, 'd' => 9, 'x' => 10 );
  function merge_common_keys(){
$arr = func_get_args();
$num = func_num_args();

$keys = array();
$i = 0;
for($i=0;$i<$num;++$i){
    $keys = array_merge($keys, array_keys($arr[$i]));
}
$keys = array_unique($keys);

$merged = array();

foreach($keys as $key){
    $merged[$key] = array();
    for($i=0;$i<$num;++$i){
        $merged[$key][] = isset($arr[$i][$key])?$arr[$i][$key]:null;
    }
}
  return $merged;
  }

$merged = merge_common_keys($a1,$a2,$a3);

print_r($merged);

$table = "<table>";

$table .= "<tr><td></td><td>col1</td><td>col2</td><td>col3</td></tr>";

foreach($merged as  $key=>$value)
  {
    $row = "<tr><td>$key</td>";
     foreach($value as $subvalue)
 {
   $row .= "<td>$subvalue</td>"; 
 }
 $table .= $row;
}
$table .= "</table>";
echo $table;
?> 
```

ref : [PHP，用公共键合并数组](https://stackoverflow.com/questions/4072348/php-merging-arrays-with-common-keys)

查看现场演示[http://codepad.viper-7.com/v8Ol5H](http://codepad.viper-7.com/v8Ol5H)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-25T11:39:45.030

→ 在有任何答案之前已经开始了这个，即使已经有可以接受的答案，也决定完成它。这个版本更加动态，并且对表格的样式进行了一些自定义：

→**代码：**

```
/* Arrays from Question */  $a1 = array( 'a' => 1, 'b' => 2, 'c' => 3 ); $a2 = array( 'a' => 4, 'b' => 5, 'd' => 6 ); $a3 = array( 'a' => 7, 'c' => 8, 'd' => 9, 'x' => 10 );
/* Process Arrays       */  $result = handle_arrays( $a1, $a2, $a3 );
/* Create & Echo Table  */  echo ( array_table( $result ) );

function handle_arrays() {
    /* Get Arrays    */  $params = func_get_args(); $result = array();
    /* Merge Arrays  */  foreach( $params as $k=>$v ) { foreach( $v as $key=>$val ) { if( !array_key_exists( $key, $result ) ) $result[ $key ] = array(); $result[ $key ][ $k ] = $val; } }
    /* Handle Blanks */  for( $x = 0; $x < func_num_args(); $x++ ) { foreach( $result as $key=>$val ) { if( !array_key_exists( $x, $val ) ) { $result[ $key ][ $x ] = '-'; } ksort( $result[ $key ] ); } }
    /* Return Array  */  $return = array( func_num_args(), $result );
    return( $return );
}
function array_table( $array ) {
    /* Array # & Result Array */  $n = $array[ 0 ]; $a = $array[ 1 ];
    /* Style & Class Control  */  $padding_left = 10; $padding_right = 10; $col_align = "center"; $key_align = "left"; $table_class = ""; $col_class = ""; $row_class = ""; $field_class = "";
    /* Table & Column Headers */  $html = "<table class='{$table_class}'><tr><td style='padding-right:{$padding_right}px'></td>"; for( $x=0; $x<$n; $x++ ) { $html .= "<td style='padding-left:{$padding_left}px;padding-right:{$padding_right}px' class='{$col_class}'>col-$x</td>"; } $html .= "</tr>";
    /* Row and Fields Values  */  foreach( $a as $key=>$val ) { $html .= "<tr><td align='{$key_align}' class='{$row_class}'>$key</td>"; foreach( $val as $k=>$v ) { $html .= "<td align='{$col_align}' class='{$field_class}'>$v</td>"; } $html .= "</tr>"; } $html .= "</table>";
    return( $html );
} 
```

→**输出：**

```
 col-0   col-1   col-2
a     1       4       7
b     2       5       -
c     3       -       8
d     -       6       9
x     -       -       10 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-03-25T09:42:27.693

您需要创建类似的东西，例如`array_merge_recursive()`.

但是可能有一个更简单的解决方案，你说：

> 但不给我空元素，

但你知道它们不存在！

因此，如果您知道所需的最大列数（数组数量）并且循环，那么您总是可以这样做：

```
if(isset($row[$column])) {
   echo $row[$column];//your column
} else {
   echo 0;
} 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-03-25T09:43:40.323

```
function myMergeFunction() {

  $my_new_array = array();

  $arg_list = func_get_args();
  for ($i = 0; $i < count($arg_list); $i++) {

    foreach($arg_list[$i] as $key => $value) {
      if(!is_array($my_new_array[$key]))
        $my_new_array[$key] = array();

      $my_new_array[$key][] = $value

    }

  }

  return $my_new_array;

} 
```

你可以这样称呼它：

```
myMergeFunction($a, $b, $c, $d, [...]); 
```

# javascript - 编辑本地存储中的项目

> ID：15611520
> 
> 赞同：1
> 
> 时间：2013-03-25T09:30:40.623
> 
> 标签：javascript, html, local-storage

我正在尝试使用本地存储构建一个小型 Web 应用程序。我可以添加和删除项目，但编辑项目工作到一定程度。项目按照您的预期进行编辑，但是当您更新（刷新）页面时，我得到一个额外的项目和一个空项目。我想我快到了，但无法解决这个问题。请看我的小提琴：http: [//jsfiddle.net/willwebdesigner/786Qu/2/](http://jsfiddle.net/willwebdesigner/786Qu/2/)

```
 $(document).ready(function() { 

    var i = 0;
    var menuButtons = " <a class='delete' href='#'>delete</a> <a class='edit' href='#'>edit</a></li>";

    // Initial loading of tasks
    for( i = 0; i < localStorage.length; i++) {
        $("#tasks").append("<li id='task-" + i +"'>" + localStorage.getItem('task-' + i) + menuButtons);
    }

    // Add a task
    $("#tasks-form").submit(function() {
        if ( $("#task").val() != "" ) {
            localStorage.setItem( "task-" + i, $("#task").val());
            $("#tasks").append("<li id='task-" +i +"'>"+localStorage.getItem("task-" + i) + menuButtons);
            $("#task-" + i).css('display', 'none');
            $("#task-" + i).slideDown();
            $("#task").val("");
            i++;
        }
        return false;
    });  

    // Remove a task      
    $(document).on("click", "#tasks li a.delete", function() {
        localStorage.removeItem($(this).parent().attr("id"));
        $(this).parent().slideUp('slow', function() { 
            $(this).remove(); 
        });
        // This part resets all the IDs
        for( i = 0; i < localStorage.length; i++) {
            if( !localStorage.getItem("task-"+ i)) {
                localStorage.setItem("task-"+ i, localStorage.getItem('task-' + (i + 1) )); // Moves the id up a level
                localStorage.removeItem("task-"+ (i + 1) );  // Removes the id 1 up from the deleted item
            }
        }
    });

    // Edit a task
    $(document).on("click", "#tasks li a.edit", function() {

        var thisID = $(this).parent().attr("id");

        $(this).parent().html("<form><input class='taskEdit" + thisID + "' autofocus><input type='submit'></form>")
        .submit(function() {
             localStorage.removeItem("task-" + thisID);
             localStorage.setItem("task-" + thisID, $(".taskEdit" + thisID ).val());
             $(this).html(localStorage.getItem("task-" + thisID) + menuButtons);
             return false;
        });
    });

    // Reset all
    $("#reset").click(function() {
        localStorage.clear();                            
    });

}); 
```

感谢您的关注！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-25T10:25:28.153

在编辑时，您错误地附加了前缀，因此，您所要做的就是停止添加前缀

```
// Edit a task
$(document).on("click", "#tasks li a.edit", function() {

  var thisID = $(this).parent().attr("id"); // this is task-0

  $(this).parent().html("<form><input class='taskEdit" + thisID + "' autofocus><input type='submit'></form>")
    .submit(function() {
      //localStorage.removeItem("task-" + thisID); // it becomes task-task-0
      //localStorage.setItem("task-" + thisID, $(".taskEdit" + thisID ).val());
      localStorage.setItem(thisID, $(".taskEdit" + thisID ).val());
      $(this).html(localStorage.getItem(thisID) + menuButtons);
      return false;
    });
}); 
```

# ios - 无法启用与 NSNotification 的用户交互

> ID：15611522
> 
> 赞同：1
> 
> 时间：2013-03-25T09:30:47.937
> 
> 标签：ios, objective-c

我有一个按钮，当我单击它时，它会设置 userInteraction：`self.view.userInteractionEnabled = NO;`这有效，如果我单击该按钮，我将无法再单击它。然后我得到了一个`receiveNotification`我在另一个班级打电话的。

```
- (void) receiveNotification:(NSNotification *) notification
{    
   if ([[notification name] isEqualToString:@"EnableUI"]){
       self.view.userInteractionEnabled = YES;
       NSLog(@"Successfully received the %@ notification!",[notification name]);
   }
} 
```

程序输出告诉我收到通知，因为它打印出来`Successfully received the EnableUI notification!`但是，我仍然无法单击 UI 按钮...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-25T09:34:04.267

与其尝试在视图上设置 userInteraction（在这种情况下您似乎不需要），不如在按钮本身上设置交互？

**。H**

```
@property (strong, nonatomic) IBOutlet UIButton *buttonA;
@property (strong, nonatomic) IBOutlet UIButton *buttonB;
@property (strong, nonatomic) IBOutlet UIButton *buttonC; 
```

**.M**

```
@synthesize buttonA, buttonB, buttonC;

- (void) receiveNotification:(NSNotification *) notification
{  
   NSArray *buttonArray = [[NSArray alloc] initWithObjects:buttonA,buttonB,buttonC,nil];  
   if ([[notification name] isEqualToString:@"EnableUI"]){
      for(UIButton* button in buttonArray) {
         UIButton *tempElement = [buttonArray objectAtIndex:i];
         tempElement.userInteractionEnabled = YES;
      }
      NSLog(@"Successfully received the %@ notification!",[notification name]);
   }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-03-11T13:28:36.287

使用 UIButton.tag 标记应该禁用的按钮。

```
#define BUTTON_TAG_UNAUTH 123

- (void)disableButtonWithReason:(NSUInteger)reason
{
    NSArray *views = [self.view subviews];
    for (UIView *button in views) {
        //first checking tag cause more efficiently
        if (button.tag == reason && [button isKindOfClass:[UIButton class]]) {
            ((UIButton*)button).enabled = false;
        }
    }
}

- (void)disableButtonsDueToUnauthorized
{
    [self disableButtonWithReason:BUTTON_TAG_UNAUTH];
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-25T09:36:49.200

UIOperations 必须在主线程中完成。

我怀疑你不在主线程上。请在通知方法中查看

```
NSLog(@"%i", [NSThread isMainThread]); 
```

如果不是请检查您是否在主线程上调用 postNotification 方法。

如果是问题，请点击链接

[响应 NSNotifications 时，更新 UIViews 的最佳实践是什么](https://stackoverflow.com/questions/5292004/when-responding-to-nsnotifications-what-is-the-best-practice-for-updating-uivie)

# php - 在 Magento 下安装的 Wordpress - Php 未在小部件中执行

> ID：15611524
> 
> 赞同：0
> 
> 时间：2013-03-25T09:30:58.167
> 
> 标签：php, wordpress, magento, module

我安装了 Magento 并在 magento root (wp) 的子文件夹下安装了 wordpress。一切正常，除了如果在小部件中定义 php 则无法执行。

我在functions.php中创建了这个短代码：

```
function execute_php($html){
 if(strpos($html,"<"."?php")!==false){
      ob_start();
      eval("?".">".$html);
      $html=ob_get_contents();
      ob_end_clean();
 }
 return $html;
}
add_filter('widget_text','execute_php',100); 
```

此简码通常有效。它已在其他网站上成功测试。我还在 wordpress pages/posts/widgets 中安装了一个 php exec 插件。但是我的小部件中的 php 没有执行。什么都没有出现，但是如果我选择“查看页面源代码”，php 源代码会以红色显示为普通文本。

任何想法？

我正在使用 Fishpig Magento 模块在 Magento 下进行 wordpress 集成。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-04T13:27:46.937

WordPress 中的每个小部件都需要由 WordPress 集成手动支持才能工作。我已经添加了对尽可能多的小部件的支持，并且在 3.0 版（即将推出！）中，将支持更多！

要将此功能添加到您的集成博客，假设您使用的是文本小部件，您需要编辑文本小部件模板以查找短代码、解析它并执行 PHP

# jquery - Jquery 和 getJson，仅在使用 alert() 时有效

> ID：15611534
> 
> 赞同：1
> 
> 时间：2013-03-25T09:31:20.393
> 
> 标签：jquery, json, knockout.js, getjson

我的 jquery 有问题。它似乎表现得很奇怪。这就是正在发生的事情。我试图从 JSON 文件中获取一个方程，并用剔除可观察对象进行评估。

奇怪的是，它只在我使用任何 alert('') 消息时才有效，没有它，它就不起作用。

我用谷歌搜索了我的问题，我得到的答案是关于 ajax 调用。但我在这里使用 jQuery 函数 $getJSON

代码

```
 function loadData(fileName) { 
     var data = $.getJSON( fileName + ".json");
     return(data);
 }

     var res = 0;

     var Student = function(data) {
     var self = this;
     ko.mapping.fromJS(data, { }, self);
      var res = 0;
     self.result = ko.computed(function() {
        loadData("Eqn").done(function(data1) { 
            if (data1 && data1.eqn) {
                $.each(data1.eqn, function(key, value){
                    var str = value.Equation;
                    res = eval (str);
                }); 
            }
        });
        return(res);    
     });   
  }; 
```

如果我在 return() 之前添加警报，一切正常。

eqn.json

```
{
   "eqn":[
      {
         "Equation":"parseFloat(self.English()) + parseFloat(self.Japanese()) + parseFloat(self.Calculus()) + parseFloat(self.Geometry())"
      }
   ]
} 
```

数据.json

```
{
   "info":[
      {
         "Name":"Noob Here",
         "Major":"Language",
         "Sex":"Male",
         "English":"15",
         "Japanese":"5",
         "Calculus":"0",
         "Geometry":"20"
      },
      {
         "Name":"Noob Here",
         "Major":"Calculus",
         "Sex":"Female",
         "English":"0.5",
         "Japanese":"40",
         "Calculus":"20",
         "Geometry":"05"
      }
   ]
} 
```

完整的代码在[这里](http://jsbin.com/ipeseq/10/edit)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-25T09:42:18.290

编辑

所以主要问题是，依赖项是从 JSON 数据中获取的。以下解决方法被证明是解决方案：

```
self.eqn = ko.observable(null); 
self.reslut = ko.computed(function(){ return self.eqn() && eval( self.eqn() ); });
loadData("Eqn").done(function(data1) { 
  if (data1 && data1.eqn) { 
    $.each(data1.eqn, function(key, value){ 
      self.eqn( value.Equation;); 
    });
  }
}); 
```

============================================

您不能从异步函数返回。您需要设置一个可观察的助手，其值将在 getJSON 的回调中发生变化。

现在我不明白为什么你的计算不能是可观察的。

```
// let self.result be a simple observable
self.result = ko.observable();
// now call the function to update self.result
loadData("Eqn").done(function(data1) { 
    if (data1 && data1.eqn) {
        $.each(data1.eqn, function(key, value){
            var str = value.Equation;
            res = eval (str);
            // set the value of self.result to the result of 
            // your computing function
            self.result( res );
        }); 
    }
}) 
```

`ko.computed`仅当变量依赖于另一个变量时才需要使用`ko.observable`

```
var a = ko.observable("peter"),
    b = ko.computed(function(){ return "hi " + a (); }); 
```

在这种情况下，每当您更新 a 时，都会更新 b。因此您可以将其视为以下内容的简写

```
var a = ko.observable("peter"),
    b = ko.observable("hi peter");
a.subscribe(function(v){ b( "hi " + v ); }); 
```

# xml - 从变量构造字符串

> ID：15611539
> 
> 赞同：0
> 
> 时间：2013-03-25T09:31:40.190
> 
> 标签：xml, xslt, xslt-1.0

我在 XSLT 中有一个变量，其中包含数字（例如：1 或 2 或 5 或 7）。

我需要构造一个要在 HTML 中显示的字符串，以便该字符串是变量中空格键的数量。我需要将此字符串附加到 XSLT 中的一个值并在 HTML 中显示它。

知道如何以最好的方式做到这一点吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-25T10:12:44.413

如果我理解正确，您想要一种方法来获取一个数字并生成一个包含那么多空格的字符串。我处理这个的方法是创建一个包含一长串空格的变量，至少只要你将处理的最大数字

```
<xsl:variable name="spaces" select="'                                            '"/> 
```

并根据需要取其子串

```
substring($spaces, 1, $numSpaces) 
```

如果你想要在 HTML 中显示为空格的东西，你可以使用一串不间断的空格来代替

```
<xsl:variable name="spaces" select="'&#xA0;&#xA0;&#xA0;.......'"/> 
```

# html - Html 文件中的导航栏

> ID：15611541
> 
> 赞同：0
> 
> 时间：2013-03-25T09:31:53.643
> 
> 标签：html, navigation

我创建了一个网站。我为一个非常导航条码编写代码的地方。所有页面都需要有相同的导航栏。谁能告诉我如何在不重写的情况下做到这一点。我们可以从另一个文件中引用相同的代码吗？

我写的代码

```
<nav>
  <ul>
    <li><strong>Home</strong></li>
    <li><a href="about.html">About Us</a></li>
    <li><a href="clients.html">Our Clients</a></li>
    <li><a href="products.html">Our Products</a></li>
    <li><a href="services.html">Our Services</a></li>
    <li><a href="contact.html">Contact Us</a></li>
  </ul>
</nav> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-25T09:36:23.940

如果您使用 PHP aswel，

将导航 html 保存为 nav.html

然后你可以使用 PHP 包含它：

```
<?php
include ('nav.html');
?> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-25T09:51:06.770

不，这是不可能的。HTML5 是一种静态语言。但是，您可以创建一个 Javascript 来将您编写的代码添加到您的 html 代码中。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-25T10:50:12.960

使用 HTML 是不可能包含其他文件的。但是，您可以使用 shtml/服务器端包含。

# c# - 隐藏控制台窗口/外部更改项目启动类型

> ID：15611543
> 
> 赞同：0
> 
> 时间：2013-03-25T09:31:59.453
> 
> 标签：c#, xna, startup

我正在使用 C# 和 XNA 4.0 开发游戏，我的项目的启动类型是控制台应用程序（帮助调试高级元素）。

我的问题有两部分：

1.  是否可以从游戏代码中完全隐藏/禁用控制台窗口？
2.  如果没有，是否可以从外部应用程序（游戏启动器）更改启动类型？

我知道显而易见的解决方案是将我的启动类型设置为公开版本的“Windows 应用程序”，并将其作为调试和开发人员版本的控制台，但是我希望用户能够打开控制台以获取调试数据如果他们有问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T05:13:47.470

你真正需要的是像[log4net](https://logging.apache.org/log4net/)或[nlog这样的记录器](http://nlog-project.org/)

您可以通过 Nuget Visual Studio 扩展轻松安装它。

[然后，您可以通过baretail 之](http://www.baremetalsoft.com/baretail/)类的查看器监视日志文件

Console.WriteLine() 上的正则表达式搜索和替换

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T06:20:52.053

此堆栈溢出[答案](https://stackoverflow.com/a/15079092/124006)似乎表明您可以通过进行一些本机调用来打开控制台窗口。

本质上，您可以将应用程序的启动类型设置为 windows 应用程序，然后调用[AllocConsole](http://msdn.microsoft.com/en-us/library/windows/desktop/ms681944%28v=vs.85%29.aspx)将控制台注册到您的应用程序，它将 stdin、stdout 和 stderr 从进程重定向到控制台。

我仍然同意其他回答者的观点，某种日志框架会更有意义。如果您使用类似 log4net 的东西，您可以同时进行调试，在 log4net 配置中包含一个控制台附加程序，如果您将命令行参数传递给您的应用程序，则分配一个控制台。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-25T09:40:37.093

对我来说听起来像是 X/Y 问题，我会在这里重新考虑您的要求以及您解决问题的方法，您是否真的希望用户在遇到问题时查看命令提示符。

我会考虑编写一个调试类来为您处理所有这些并将其添加到您的主游戏循环中，以便它可以在需要时绘制到屏幕上

# frameworks - 什么时候是“积极开发”的产品

> ID：15611544
> 
> 赞同：1
> 
> 时间：2013-03-25T09:32:01.343
> 
> 标签：frameworks

我目前正在研究一个我们将使用框架的项目。我希望框架处于积极开发中，但是，你什么时候可以说它是？

我知道当在 x 个月内对源代码进行了提交时，您可以说它是“活跃的”。另一种看待它的方式是，它周围是否有一个活跃的社区并提供支持。另一种看待它的方式是，如果开发人员没有退出项目，这个问题是开发人员通常不会宣布这一点。

我确实想知道是否有人可以提供一套明确的标准，一个“活跃的”项目应该遵守。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T00:20:02.600

您为什么希望它首先处于“积极”发展状态。找到一个可行的、有良好文档并且得到很好支持的框架。

一个项目可能处于“活跃”的开发阶段，但仍然很糟糕。不要只选择开发人员提交多少代码或那罐东西。担心质量、信誉...

顺便说一句，如果您提供有关您正在寻找哪种框架的更多信息，我相信我们甚至可以给您一些建议；）

# visual-c++ - 错误：A 类使用正在定义的 B 类

> ID：15611547
> 
> 赞同：2
> 
> 时间：2013-03-25T09:32:09.487
> 
> 标签：visual-c++, compilation, header, managed-c++

我有一个 C++ 项目，我已经使用 C++/CLI 成功地用 .NET 类包装了该项目。我在`.h`文件中定义包装类。

我目前正在获取`Error C2460: Mixer uses Track, which is being defined`.

正如你在下面的代码中看到的，Mixer 在 var 中使用了 Track，`MainTrack`而 Track 也在 var 中使用了 Mixer `Parent`。如何让这 2 个类相互链接并成功编译？

```
#ifndef CPP_MIXER_NET_H
#define CPP_MIXER_NET_H

#pragma managed

// Mixer class
public ref class Mixer {
private:
    void Create();
    void Destroy();

public:

    // props
    Track MainTrack;

    Mixer();
    ~Mixer();
    !Mixer();

};

// Track class
public ref class Track {
private:
    void Create(Track^ parent);
    void Destroy();

public:

    // props
    Mixer Parent;
    Track Parent;

    // public constructor
    Track(Track^ parent);
    ~Track();
    !Track();

};

#endif 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-25T09:35:02.753

只需在最顶部声明​​您的类：

```
public class Mixer;
public class Track; 
```

# php - Joomla GEOIP Maxmind 重定向循环

> ID：15611554
> 
> 赞同：0
> 
> 时间：2013-03-25T09:32:41.130
> 
> 标签：php, redirect, joomla2.5, geoip

我正在尝试在我的 joomla 2.5 安装中实施 Geoip 服务。

我想要的是网站[http://www.example.com](http://www.example.com)重定向到法国语言的[http://www.example.com/fr](http://www.example.com/fr)。

我已经在模板文件的标题中包含了 maxmind geoip。但是重定向在循环中执行。

这就是我执行文件的方式：

```
<?php include_once('templates/my_template/geoip/country-redirect.php'); ?> 
```

这是我的重定向脚本：

```
$gi = geoip_open('templates/my_template/geoip/GeoIP.dat', GEOIP_MEMORY_CACHE);
$country = geoip_country_code_by_addr($gi, $_SERVER['REMOTE_ADDR']);
// prints the country code  your visitor is in
if($country == 'FR')
{
header('Location: http://www.example.com/fr');
exit();
}
else if($country == 'US')
{
header('Location: http://example.com');
exit();
}
// the end
geoip_close($gi); 
```

我认为因为脚本是从模板执行的，所以每次加载模板文件时都会执行，所以在重定向时它会不断地执行这个脚本。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-25T09:55:24.133

尝试这个：

```
 $addr = $_SERVER['SERVER_NAME'].dirname( $_SERVER['SCRIPT_NAME']);
   $fr = (($addr == 'www.example.com/fr')||($addr == 'example.com/fr'));
   if((!$fr)&&($country == 'FR')){ // if not at france and country is france
     header('Location: http://www.example.com/fr');
     exit(); // you exit here, so no else required
   }
   if(($fr)&&($country == 'US')){ // if at france and country is US
     header('Location: http://example.com');
     exit();
   } 
```

请注意，假定此脚本在 www.example.com/ 和 www.example.com/fr/ 目录中运行

# php - 替换所有的德语

> ID：15611555
> 
> 赞同：3
> 
> 时间：2013-03-25T09:32:47.850
> 
> 标签：php

我用它`str_replace`重命名`ü`为`ue`：

```
$headline = "für";
echo str_replace('ü','ue',$headline); // will output fuer 
```

现在，如果有**ö**、**ä**和**ß**怎么办。我需要将它们分别转换为 oe、ae、ss。我可以使用`preg_replace`吗？如果是，如何。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-25T09:34:29.790

您可以在中使用数组`str_replace`

```
str_replace(array('ü','ö'),array('ue',''),$headline); 
```

如果所有内容都需要替换为相同的字符，只需删除`array`from`replace`并将其保留为`ue`.

将您的替换正确地添加到两个数组中，它应该可以正常工作！

# c# - 窗口最上面的混乱 - 没有出路？

> ID：15611558
> 
> 赞同：4
> 
> 时间：2013-03-25T09:32:50.057
> 
> 标签：c#, wpf

在我的 WPF 应用程序中，我有一个全屏 *MainWindow*。从*MainWindow*用户可以打开一个*PreviewWindow*。PreviewWindow是一个模态窗口，因此它位于 MainWindow 之上*。*到目前为止，一切都很好。

*当PreviewWindow*打开时，用户仍然可以从 Windows 任务栏中选择*MainWindow 。*然后*PreviewWindow*隐藏在*MainWindow*下，但*MainWindow*是 inavtive 因为*PreviewWindow*仍然是唯一的活动窗口。对于用户来说，应用程序似乎不再响应。

 ***我不知道为什么我的用户会这样工作，但他们确实会这样做，这会引起很多混乱。

我们的第一个解决方案是将*PreviewWindow 设置*在最顶层，但这并没有太大帮助。从*PreviewWindow*用户可以打开*SaveDialog*。但是在*PreviewWindow*最上面，*SaveDialog*隐藏在*PreviewWindow*下。

我的想法是在用户打开*SaveDialog 之前将**PreviewWindow 放在*最上面。并在*SaveDialog*具有 endet 后再次使其位于最顶层。

 **这是唯一的方法吗？有没有办法在选择其父窗口时将模式窗口带回顶部？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-25T09:49:27.633

两件事情：

1.  确保您的 PreviewWindow 已`ShowInTaskbar`设置为`False`.
2.  设置`PreviewWindow.Owner = MainWindow`然后尝试同时使用`Show()`和`ShowDialog()`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-25T09:45:58.773

如果它是一个模态窗口，您应该使用[Window.ShowDialog()](http://msdn.microsoft.com/en-us/library/system.windows.window.showdialog.aspx)来显示它。

有什么理由你不能这样做吗？

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-25T10:50:21.880

其他答案不完整或不相关。对不起大家 ;）

使用 ShowDialog() 以等待第二个窗口结束，然后再继续第一个窗口。使用 Owner 属性链接窗口。

```
 previewWindow = new Window2();
   previewWindow.Owner = this;
   previewWindow.ShowDialog(); 
```

如果您愿意，可以使用 3 个或更多窗口（w1 启动 w2，w2 启动 w3，...）。在任务栏中选择第一个窗口时，将出现所有窗口。

您不需要设置 TopMost 或 ShowInTaskbar 属性（但如果您想要特定的行为，您可以）*****

# node.js - Webmatrix 2，缺少 node.js 模板

> ID：15611561
> 
> 赞同：1
> 
> 时间：2013-03-25T09:33:03.537
> 
> 标签：node.js, installation, webmatrix

我已经安装了 Webmatrix 2，但只安装了两个模板（Asp.net）。如何安装 node.js 模板？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-29T19:36:31.327

在 WebMatrix 2 安装中，您应该拥有三个 NodeJS 模板。如果没有打开 Web 平台安装程序，请确保您已安装 WebMatrix 2 Refresh 2。

注意：WebMatrix 3 处于测试阶段，可能想尝试一下。 [WebMatrix 3 预览版](http://www.microsoft.com/web/post/webmatrix-3-preview-release-notes)

# java - 将自定义形状添加到 JTextpane 并保存到新的 Word 文档

> ID：15611562
> 
> 赞同：1
> 
> 时间：2013-03-25T09:33:07.010
> 
> 标签：java, ms-word, drawing, apache-poi, document

如果我将 Word 文档加载到 中`JTextPane`，有没有办法可以将自定义形状放入其中，然后将其另存为新的 Word 文档？

我正在寻找的结果就像使用 MS Word 中的 Insert-> Shapes 将形状拖放到文档的任何位置一样。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-27T20:54:54.260

docx4all 是一个基于 Swing 的 docx 编辑器。

与 DocxEditorKit 一样，它建立在 docx4j 之上。

您需要对其进行扩展以支持您所描述的功能。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-25T11:53:54.737

您可以尝试扩展 DocxEditorKit [http://java-sl.com/docx_editor_kit.html](http://java-sl.com/docx_editor_kit.html)在那里添加您的功能

# android - GreenDAO：实体与 DAO 上下文分离

> ID：15611564
> 
> 赞同：3
> 
> 时间：2013-03-25T09:33:12.473
> 
> 标签：android, dao, greendao

我使用GreenDAO。但是，抛出这个异常：

```
"de.greenrobot.dao.DaoException: Entity is detached from DAO context". 
```

在生成的代码中，我找到了这段代码。

```
/** called by internal mechanisms, do not call yourself. */
public void __setDaoSession(DaoSession daoSession) {
    this.daoSession = daoSession;
    myDao = daoSession != null ? daoSession.getPeerGroupDao() : null;
} 
```

有人知道 GreenDAO 什么时候调用它吗？另外，如何触发它来调用。

谢谢。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-27T02:08:02.210

我找到解决方案。

当您调用 loadDeep 和 queryDeep 时，greenDAO 在内部调用 __setDaoSession。调用这些方法后，就建立了一对多或一对一的关系。如果你只是使用 SQLiteDatabase 来查询你的结果，你只是得到你的数据，但没有建立关系。

详细的可以去这个[网站](http://greendao-orm.com/documentation/relations/)

谢谢。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-12-16T09:10:25.197

要完成武王的回答，您自己实例化对象时也是同样的问题。要解决问题，只需将 daoSession 设置为对象

```
Product product = new Product(null, 1L, categoryId, null);
product.__setDaoSession(MyApplication.getDaoSession()); 
```

在你可以做之后

```
product.getCategory() 
```

# ios - NSDate 获取前一周、上个月的问题

> ID：15611568
> 
> 赞同：10
> 
> 时间：2013-03-25T09:33:20.663
> 
> 标签：ios, nsdate

我需要从当前日期获取前一周和一个月。

所以我找到了可以重新计算当前日期添加间隔的解决方案

```
- dateByAddingTimeInterval 
```

而这个参数：

`[[NSDate date] dateByAddingTimeInterval: -604800.0]`（用于获取前一周）

`[[NSDate date] dateByAddingTimeInterval: -2629743.83]`（用于获取上个月）

正如我认为的一周，这种方法效果很好，没有任何问题，因为每周有 7 天，间隔不会改变。但是对于月份我们有一个问题，因为每个月都有不同的天数。

* * *

## 回答 #1

> 赞同：35
> 
> 时间：2013-03-25T09:41:28.473

使用`NSDateComponents`它会很容易和准确

```
NSCalendar *calendar = [NSCalendar currentCalendar];
NSDateComponents *comps = [NSDateComponents new];
comps.month = -1;
comps.day   = -1;
NSDate *date = [calendar dateByAddingComponents:comps toDate:[NSDate date] options:0];
NSDateComponents *components = [calendar components:NSMonthCalendarUnit|NSDayCalendarUnit fromDate:date]; // Get necessary date components
NSLog(@"Previous month: %d",[components month]);
NSLog(@"Previous day  : %d",[components day]); 
```

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2013-03-25T09:41:10.727

**不要使用 903484 和 -23484 更改日期**

这样做：

```
NSCalendar *gregorian=[[NSCalendar alloc] initWithCalendarIdentifier:NSGregorianCalendar];
NSDateComponents *components=[[NSDateComponents alloc] init];

components.month=1;//next month
components.month=-1;//previous month
//similarly +1 and -1 will give you week and month day etc
components.week=1;
components.day=1;

NSDate *myMonth=[gregorian dateByAddingComponents:components toDate:today options:0];
NSDateComponents *components = [calendar components:NSMonthCalendarUnit|NSDayCalendarUnit fromDate:date]; 
NSInteger yourRequiredValue=[components day]; //day, month, week etc 
```

# javascript - 如何在jquery中为动态数据创建函数

> ID：15611571
> 
> 赞同：1
> 
> 时间：2013-03-25T09:33:29.140
> 
> 标签：javascript, jquery

我尝试创建聊天框关闭按钮，并尝试学习如何将我的 jquery 函数简化为**一个动态函数，您可以**[在此处](http://jsfiddle.net/ruslyrossi/GUSVu/4/)查看我的 jsfiddle

这是一些代码片段：

```
//Close chat
$('.close1').click(function () {
    //do what ever you want here
    $('.wrap_box1').hide();
});

$('.close2').click(function () {
    //do what ever you want here
    $('.wrap_box2').hide();
});

$('.close3').click(function () {
    //do what ever you want here
    $('.wrap_box3').hide();
}); 
```

这个脚本可能会循环到 10 或 20 次，所以我希望我有一个可以保存缩小这个脚本的函数。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-25T09:35:23.370

您可以分别对 p 使用公共类，对 div 和相关使用公共类。

**[现场演示](http://jsfiddle.net/GUSVu/5/)**

*html*

```
<p class='close'>Close 1</p>
<div class="wrap_box">Content here</div>
<p class='close'>Close 2</p>
<div class="wrap_box">Content here</div>
<p class='close'>Close 3</p>
<div class="wrap_box">Content here</div> 
```

*Javascript*

```
$('.close').click(function () {
    $(this).next('.wrap_box').hide();
}); 
```

**根据 OP 评论**编辑****

 **您使用了错误的类来绑定事件，您还需要 find 而不是 next

**[现场演示](http://jsfiddle.net/GUSVu/14/)**

*html*

```
<div class="wrap_box">
    <p class='close'>Close 1</p>Content here</div>
<div class="wrap_box">
    <p class='close'>Close 2</p>Content here</div>
<div class="wrap_box">
    <p class='close'>Close 3</p>Content here</div> 
```

*Javascript*

```
$('.wrap_box').click(function () {
    $(this).find('.close').hide();
}); 
```**

# weblogic - Weblogic 配置在启动时恢复错误的旧文件

> ID：15611572
> 
> 赞同：1
> 
> 时间：2013-03-25T09:33:30.857
> 
> 标签：weblogic

我正在从源环境为环境安装一个新的 weblogic 域，一旦我在 config.xml 和周围的域配置文件中配置了所有内容，我就会启动管理员，一切都很好。域中的设置是正确的。

然后我启动其中一个 JVM，在引导过程中，旧的 config.xml（来自源环境）连同它的备份一起出现，并使用旧的 config.xml。

为什么会这样？

我尝试删除服务器目录中的 domain_bak，我清理了 JVM 缓存，但旧文件仍然得到恢复。我看到他们在 domain_bak 的文件**deleted_files_index**中列出但只有他们的名字在那里，仅此而已。

该怎么办？？

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-26T16:40:36.613

当您提供错误的管理服务器 URL 时，通常会发生这种情况。即，如果您有 2 个域，第一个域的管理员在 7001 上监听，而域 2 的管理员在 8001 上监听。如果您不小心使用域 1 的管理员 url 启动了域 2 的托管服务器，那么来自域 1 的配置将被复制到域 2。

希望这是有道理的。

本质上检查您为 startmanagedweblogic.cmd 提供的内容

# cocos2d-iphone - Cocos2d-html5 和 socket.io 这个 undefined

> ID：15611576
> 
> 赞同：2
> 
> 时间：2013-03-25T09:33:34.317
> 
> 标签：cocos2d-iphone, socket.io

我只是让 socket.io 和 cocos2d-html5 工作。每次新客户端连接时，我都想在屏幕上放置一个新的 LabelTTF。随着应用程序的启动，我创建了一个主层，其中一个 Tilemaplayer 作为子层存储在 _tilemaplayer 中。

在我的主层上，我在 onEnter 中有以下代码：

```
var tilemap = new TilemapLayer();
this._tilemaplayer = tilemap;
this.addChild(tilemap);

socket = io.connect('hostname:port');
socket.on('connect', function(){
    socket.emit('setName', {name: 'Testname'})
})

socket.on('newClient', function(data){
    var testLabel = cc.LabelTTF.create(data.name, "Arial", 32);
    this._tilemaplayer.addChild(testLabel);
}) 
```

为什么这会给我一个 this._tilemaplayer 未定义的错误？我可以在主层的其他功能中访问它，为什么不在这里？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-22T02:36:42.827

我认为你的 socket.on 事件处理函数中的“this”不等于你的图层或场景的“this”。

您需要保存图层或场景的“this”的指针，代码如下：

```
var tilemap = new TilemapLayer();
this._tilemaplayer = tilemap;
this.addChild(tilemap);

socket = io.connect('hostname:port');
socket.on('connect', function(){
    socket.emit('setName', {name: 'Testname'})
});

_this = this;
socket.on('newClient', function(data){
    var testLabel = cc.LabelTTF.create(data.name, "Arial", 32);
    _this._tilemaplayer.addChild(testLabel);
}) 
```

# c# - 转换无效的日期时间

> ID：15611580
> 
> 赞同：0
> 
> 时间：2013-03-25T09:33:51.057
> 
> 标签：c#, timezone

我需要将 DateTime 从 UTC 转换为本地时间，为此我在使用 TimeZoneInfo IsInValidTime 方法转换为本地时间之前验证了日期时间。

我收到特定日期时间的无效日期时间，如何将此日期转换为有效日期？

这是示例代码：

```
_timeZoneInfo = TimeZoneInfo.FindSystemTimeZoneById("Central Standard Time");
var dateTime = "10/03/2013 2:12:00 AM";
DateTime universalFormatDateTime = Convert.ToDateTime(dateTime).GetUniversalFormatDateTime();
if (_timeZoneInfo.IsInvalidTime(universalFormatDateTime)) Console.Write("Invalid DateTime\n"); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-25T09:50:09.923

你用的是什么框架？

ToUniversalTime() 不是正确的选择吗？

```
DateTime universalFormatDateTime = Convert.ToDateTime(dateTime).ToUniversalTime() 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-25T09:41:19.487

您应该指定日期时间的 DateTimeKind。在执行验证之前添加：

```
universalFormatDateTime = DateTime
   .SpecifyKind(universalFormatDateTime,DateTimeKind.Local); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-25T09:48:55.097

我想这就是你想要实现的目标：

```
_timeZoneInfo = TimeZoneInfo.FindSystemTimeZoneById("Central Standard Time");
var dateTime = "10/03/2013 2:12:00 AM";
DateTime universalFormatDateTime = Convert
                                  .ToDateTime(dateTime, new CultureInfo("en-GB"))
                                  .ToUniversalTime();
if (_timeZoneInfo.IsInvalidTime(universalFormatDateTime))
    Console.WriteLine("Invalid DateTime");
else
    Console.WriteLine("Valid DateTime"); 
```

您可以查看[Convert.ToDateTime](http://msdn.microsoft.com/en-us/library/9xk1h71t.aspx)文章以供将来参考。

# jquery - 如何在 Jquery Mobile ListView 控件中使图像垂直居中？

> ID：15611581
> 
> 赞同：5
> 
> 时间：2013-03-25T09:34:00.530
> 
> 标签：jquery, html, css, listview, jquery-mobile

我有以下html，

[http://jsfiddle.net/2bWfL/168/](http://jsfiddle.net/2bWfL/168/)

```
<head> 
    <title>My Page</title> 
    <meta name="viewport" content="width=device-width, initial-scale=1"> 
    <link rel="stylesheet" href="http://code.jquery.com/mobile/1.3.0/jquery.mobile-1.3.0.min.css" />
    <script src="http://code.jquery.com/jquery-1.7.1.min.js"></script>
    <script src="http://code.jquery.com/mobile/1.3.0/jquery.mobile-1.3.0.min.js"></script>
</head> 
<body> 

<div data-role="page">

    <div data-role="header">
        <h1>My Title</h1>
    </div><!-- /header -->

    <div data-role="content">    
        <ul data-role="listview">
                    <li>

        <a href="#">
            <img width="80" height"80" src="http://www.gravatar.com/avatar/7efa2e4098f60c15d230436ca99d7250?s=32&d=identicon&r=PG" />
            <h3>New Latest One</h3>
            <p>$12,000</p>
        <input type="text" style="width:75px"/>
            </a>
            </li>
        </ul>

    </div><!-- /content -->

</div><!-- /page -->
<style>
        .ui-input-text{
            width: 75px;
        }
    </style>
</body> 
```

但图像不在垂直中心。如何让它居中？

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2013-03-25T09:50:44.513

我假设你想垂直对齐你的图像。如果是这样，您只需将此 css 应用于您的图像：

```
img {
    position:absolute;
    top:0;
    bottom:0;
    margin:auto;
} 
```

演示：http: [//jsfiddle.net/yWkGR/](http://jsfiddle.net/yWkGR/)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-25T09:50:48.243

# 解决方案

这是一个工作示例：http: [//jsfiddle.net/Gajotres/XawBx/](http://jsfiddle.net/Gajotres/XawBx/)

使用的CSS：

```
#test {
    position:absolute; 
    top:0; 
    bottom:0; 
    left:0; 
    margin:auto; 
    height:80px; 
    width:80px;       
} 
```

# 最后的笔记

如果您想了解更多关于如何自定义 jQuery Mobile 页面和小部件的信息，请查看这篇[文章](http://www.gajotres.net/learn-how-to-customize-jquery-mobile-application/)。它附带了许多工作示例，包括为什么 !important 对于 jQuery Mobile 是必需的。

# javascript - 将“显示全部”按钮替换为“显示更少”onClick？

> ID：15611585
> 
> 赞同：0
> 
> 时间：2013-03-25T09:34:11.917
> 
> 标签：javascript, jquery, html, toggle

我目前正在使用表格上的“全部显示”按钮来显示所有表格条目：

[http://jsfiddle.net/SCpgC/](http://jsfiddle.net/SCpgC/)

但是，我想知道，有没有一种方法可以在单击时切换“全部显示”以显示“减少显示”，以便用户可以返回上一个视图？

这是我正在使用的当前 JavaScript：

```
var numShown = 2; // Initial rows shown & index

    $(document).ready(function() {
        // Hide rows and add clickable div

        $('table').find('tr:gt(' + (numShown - 1) + ')').hide().end().after('<div class="more">Reveal All</div>');

        $('.more').click(function() {
            var numRows = $(this).prev().find('tr').show();
            $(this).remove();
        })
    }); 
```

非常感谢任何指针:-)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-25T09:48:30.540

这将适用于两种方式......如果**显示所有**它会**显示 div**，如果**显示更少**它会**隐藏 div**

尝试这个

[在这里工作小提琴](http://jsfiddle.net/bipen/SCpgC/1/)

```
$('.more').click(function() {
    if ($(this).hasClass("show")) {
        var numRows = $(this).prev().find('tr').show();
        $(this).text('Reveal Less');
        $(this).removeClass('show').addClass('hide');
    }
    else {
        $(this).prev().find('tr:gt(' + (numShown - 1) + ')').hide();
        $(this).removeClass('hide').addClass('show');
        $(this).text('Reveal All');
    }
}); 
```

并使用一些效果`fadeIn()`和`fadeOut()`

[小提琴与效果](http://jsfiddle.net/bipen/SCpgC/3/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-25T09:45:28.037

尝试这个：

```
var numShown = 2; // Initial rows shown & index
$(document).ready(function() {
    // Hide rows and add clickable div
    $('table').find('tr:gt(' + (numShown - 1) + ')').hide().end().after('<div class="more">Reveal All</div>');
    $('.more').on('click',function() {
        if ($(this).text()=="Reveal All") {
         $(this).prev().find('tr:gt(' + (numShown - 1) + ')').show();
            $(this).text("Reveal less");
        } else {
           $(this).prev().find('tr:gt(' + (numShown - 1) + ')').hide();
            $(this).text("Reveal All");
        }
    });
}); 
```

[http://jsfiddle.net/SCpgC/4/](http://jsfiddle.net/SCpgC/4/)

更新：这应该将表返回到以前的状态（不会隐藏所有内容）。还添加了 .on() 方法而不是 .click()

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-25T09:42:13.810

我认为这段代码应该可以工作：

```
var numShown = 2; // Initial rows shown & index
$(document).ready(function() {
    // Hide rows and add clickable div
    $('table').find('tr:gt(' + (numShown - 1) + ')').hide().end().after('<div class="more">Reveal All</div>');
    $('.more').click(function() {
        if ($(this).text()=="Reveal All") {
            $('table').find('tr:gt(' + (numShown - 1) + ')').show();
            $(this).text("Reveal less");
        } else {
            $('table').find('tr:gt(' + (numShown - 1) + ')').hide();
            $(this).text("Reveal All");
        }
    });
}); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-25T09:42:27.557

```
var numShown = 2; // Initial rows shown & index
var hideText = 'Hide all';
var revealText = 'Reveal all';

$(document).ready(function() {
    // Hide rows and add clickable div

    $('table').find('tr:gt(' + (numShown - 1) + ')').hide().end().after('<div class="more">' + revealText + '</div>');
    var numRows;
    $('.more').toggle(function() {
        numRows = $(this).prev().find('tr').show();
        $(this).text(hideText);
    }, function() {
        numRows = $(this).prev().find('tr').hide();
        $(this).text(revealText);
    });
}); 
```

编辑：抱歉，忘记了切换不适用于实时/开启

# php - php的Flash文件生成器

> ID：15611586
> 
> 赞同：0
> 
> 时间：2013-03-25T09:34:12.300
> 
> 标签：php, flash

我对此进行了调查，但没有发现任何可以专门回答我的问题的东西。

是否可以使用 php.ini 创建一个 swf。这是想法。你会得到一个表单，你可以在其中上传一堆图像。使用这些图像，我想创建一个具有链接的 Flash 文件，并且图像必须每五秒左右交换一次。这可能吗？我需要什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-25T10:31:58.403

我和 Ming 取得了很好的成绩，[http://www.php.net/manual/en/intro.ming.php](http://www.php.net/manual/en/intro.ming.php)。我猜你已经看过 html5/css3，它并不完全等同于闪光平滑度，但它正在关闭。

编辑：问题在于你不会在共享主机上得到它。你需要一个vps或类似的。

# c# - ServiceStack 缓存/会话锁

> ID：15611598
> 
> 赞同：1
> 
> 时间：2013-03-25T09:34:44.230
> 
> 标签：c#, session, servicestack

我正在使用 ServiceStack 的会话功能（即使用内存缓存），我尝试访问会话对象中的一个键，对其进行修改，然后保存会话：

```
var filesList = Session.Get<List<string>>("NewRequestUploadedFiles");
filesList.Add(fileName);
Session["NewRequestUploadedFiles"] = filesList; 
```

此代码可以通过来自客户端的多个并发请求并行调用，因此需要锁定此键。是否有任何内置方法可以实现对 ISession 的锁定？

目前我使用内存缓存，但将来我想将缓存提供程序更改为 Redis，所以如果有任何通用的方式，它是首选。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-25T16:19:01.717

您应该考虑使用[ServiceStack 的类型化会话](https://github.com/ServiceStack/ServiceStack/wiki/Sessions)，因为写入是原子的。

否则，如果您愿意，您可以[使用 Redis 维护分布式锁](https://github.com/ServiceStack/ServiceStack.Redis/wiki/RedisLocks)。如果它只是内存中的单个主机，则可以使用 C# 标准锁定语义。

# html - 如何在页脚上停止我的固定侧边栏

> ID：15611599
> 
> 赞同：1
> 
> 时间：2013-03-25T09:34:55.590
> 
> 标签：html, css

我的侧边栏有问题...它位于固定的 div 中，因此它与页面一起滚动...但是当它到达页面底部时。在较小的浏览器上，我的侧边栏与 ID 为“sub”的页脚重叠

这是我的侧边栏 css...

```
.sidebar.sticky {
    position: fixed;
    top: 0;
    max-width: 210px;
} 
```

我怎样才能阻止它重叠我的页脚？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-25T09:41:03.940

`margin-bottom`在您的 .sidebar css 中有一个属性。假设您的页脚的`20px`高度将 CSS 设置为`margin-bottom:20px;`

编辑：您还可以设置**底部：20px；**

**小提琴**：http: [//jsfiddle.net/WCuq3/](http://jsfiddle.net/WCuq3/)

# python - 如何在scrapy spider中传递用户定义的参数

> ID：15611605
> 
> 赞同：121
> 
> 时间：2013-03-25T09:35:13.893
> 
> 标签：python, scrapy, web-crawler

我正在尝试将用户定义的参数传递给scrapy 的蜘蛛。谁能建议如何做到这一点？

我在某处读到了一个参数`-a`，但不知道如何使用它。

* * *

## 回答 #1

> 赞同：224
> 
> 时间：2013-03-25T15:21:52.877

使用该选项在`crawl`命令中传递蜘蛛参数。`-a`例如：

```
scrapy crawl myspider -a category=electronics -a domain=system 
```

蜘蛛可以访问参数作为属性：

```
class MySpider(scrapy.Spider):
    name = 'myspider'

    def __init__(self, category='', **kwargs):
        self.start_urls = [f'http://www.example.com/{category}']  # py36
        super().__init__(**kwargs)  # python3

    def parse(self, response)
        self.log(self.domain)  # system 
```

取自 Scrapy 文档：[http ://doc.scrapy.org/en/latest/topics/spiders.html#spider-arguments](http://doc.scrapy.org/en/latest/topics/spiders.html#spider-arguments)

**2013 年更新**：添加第二个参数

**2015 年更新**：调整措辞

**2016 年更新**：使用更新的基类并添加超级，谢谢@Birla

**2017 年更新**：使用 Python3 超级

```
# previously
super(MySpider, self).__init__(**kwargs)  # python2 
```

**2018 年更新**：[正如@eLRuLL 指出的那样](https://stackoverflow.com/a/41123138/858913)，蜘蛛可以将参数作为属性访问

* * *

## 回答 #2

> 赞同：49
> 
> 时间：2016-12-13T14:07:27.923

以前的答案是正确的，但是您不必`__init__`每次要编写一个scrapy的蜘蛛时都声明构造函数（），您可以像以前一样指定参数：

```
scrapy crawl myspider -a parameter1=value1 -a parameter2=value2 
```

在您的蜘蛛代码中，您可以将它们用作蜘蛛参数：

```
class MySpider(Spider):
    name = 'myspider'
    ...
    def parse(self, response):
        ...
        if self.parameter1 == value1:
            # this is True

        # or also
        if getattr(self, parameter2) == value2:
            # this is also True 
```

它只是工作。

* * *

## 回答 #3

> 赞同：20
> 
> 时间：2015-09-08T11:33:51.443

使用 crawl 命令传递参数

> scrapy crawl myspider -a category='mycategory' -a domain='example.com'

传递参数以在 scrapyd 上运行，将**-a**替换为**-d**

> curl [http://your.ip.address.here:port/schedule.json](http://your.ip.address.here:port/schedule.json) -d spider=myspider -d category='mycategory' -d domain='example.com'

蜘蛛将在其构造函数中接收参数。

```
 class MySpider(Spider):
    name="myspider"
    def __init__(self,category='',domain='', *args,**kwargs):
        super(MySpider, self).__init__(*args, **kwargs)
        self.category = category
        self.domain = domain
```

Scrapy 将所有参数作为蜘蛛属性，您可以完全跳过**init**方法。请注意使用**getattr**方法获取这些属性，这样您的代码就不会中断。

```
 class MySpider(Spider):
    name="myspider"
    start_urls = ('https://httpbin.org/ip',)

    def parse(self,response):
        print getattr(self,'category','')
        print getattr(self,'domain','') 
```

* * *

## 回答 #4

> 赞同：10
> 
> 时间：2015-09-12T16:48:19.697

使用 -a 选项运行爬网命令时传递蜘蛛参数。例如，如果我想将域名作为参数传递给我的蜘蛛，那么我会这样做 -

> scrapy 抓取 myspider -a domain="http://www.example.com"

并在蜘蛛的构造函数中接收参数：

```
class MySpider(BaseSpider):
    name = 'myspider'
    def __init__(self, domain='', *args, **kwargs):
        super(MySpider, self).__init__(*args, **kwargs)
        self.start_urls = [domain]
        # 
```

...

它会工作:)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2020-01-28T13:56:12.207

或者，我们可以使用[ScrapyD](https://scrapyd.readthedocs.io/en/stable/)，它公开了一个 API，我们可以在其中传递 start_url 和蜘蛛名称。ScrapyD 具有停止/启动/状态/列出蜘蛛的 api。

```
pip install scrapyd scrapyd-deploy
scrapyd
scrapyd-deploy local -p default 
```

`scrapyd-deploy`会将蜘蛛以鸡蛋的形式部署到守护进程中，甚至它也会维护蜘蛛的版本。在启动蜘蛛时，您可以提及要使用的蜘蛛版本。

```
class MySpider(CrawlSpider):

    def __init__(self, start_urls, *args, **kwargs):
        self.start_urls = start_urls.split('|')
        super().__init__(*args, **kwargs)
    name = testspider 
```

`curl http://localhost:6800/schedule.json -d project=default -d spider=testspider -d start_urls="https://www.anyurl...|https://www.anyurl2"`

额外的好处是您可以构建自己的 UI 以接受来自用户的 url 和其他参数，并使用上述 scrapyd schedule API 安排任务

有关详细信息，请参阅[scrapyd API 文档](https://scrapyd.readthedocs.io/en/stable/api.html#schedule-json)

# android - 在Android中显示连续图像

> ID：15611611
> 
> 赞同：1
> 
> 时间：2013-03-25T09:35:23.560
> 
> 标签：android, video, bitmap

我想在一秒钟内显示大约 30 张照片，所以它们会像视频一样显示。

我在 while(TRUE) 循环中使用 Android ImageView，但 ImageView 没有像我预期的那样改变。

ImageView 每秒改变图片大约 1 次，所以想知道是否有另一种方法

显示我的照片？

照片是使用 Udp 从相机传输的，我首先需要存储在缓冲区中

比显示。

上述部分导致 ImageView 出现延迟。

部分代码是这样的

```
 public void receiveVideoRawData() throws IOException{
        socket_video = new DatagramSocket();
        byte[] buf_rcv = new byte[153600];
        DatagramPacket rawData = new DatagramPacket(buf_rcv, buf_rcv.length);
        Bitmap  image = null;
        socket_video.receive(rawData);//receive a raw data
        image = readMyRawData.readUINT_RGBImage(buf_rcv);//decode the raw data
        ByteArrayOutputStream blob = new ByteArrayOutputStream();
        Bitmap pBitmap = image ;
        pBitmap.compress(Bitmap.CompressFormat.JPEG, 1, blob);
        byte[] bitmapdata = blob.toByteArray();
        ardrone_Frame = BitmapFactory.decodeByteArray(bitmapdata , 0, bitmapdata.length);
      } 
```

显示部分

```
 Thread thread=new Thread  (new Runnable() {
     Message message;
    String obj="run";
    int i;
    long start;
    @Override
    public void run() {   
        // TODO Auto-generated method stub
         Log.e("///enter thread ","THREAD");
    while(true){     
        try { 
            Log.e("enter_video_thread","enter_video_thread");
            receiveVideoRawData();
            Log.e("///receiveVideoRawData ","receiveVideoRawData");
            message = handler.obtainMessage(1,obj);
                    handler.sendMessage(message);
            }

        } catch (IOException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }   
    }
}

});
public Handler handler = new Handler(){ 
    @Override
    public void handleMessage(Message msg) {
            super.handleMessage(msg);
            String MsgString = (String)msg.obj;
            if (MsgString.equals("run"))
            {         Log.e("///enter handler ","HANDLER");                                           
                          Toast.makeText(ArDroneMain.this,"save image ",Toast.LENGTH_SHORT).show();
                          //Bitmap bitmap = BitmapFactory.decodeFile(Environment.getExternalStorageDirectory()+ "/ArdroneVideo.jpg");
                          myImageView.setImageBitmap(ardrone_Frame);    ///Show the image    
                          Toast.makeText(ArDroneMain.this,"show image",Toast.LENGTH_SHORT).show();
             }

    }
}; 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-25T09:47:03.927

你可以把它做成动画。为您的动画制作图像并保存在 png 格式的文件夹中。使用下面的代码为这些图像设置动画

```
<animation-list xmlns:android="http://schemas.android.com/apk/res/android" android:oneshot="true">
 <item android:drawable="@drawable/rocket_thrust1" android:duration="200" />
 <item android:drawable="@drawable/rocket_thrust2" android:duration="200" />
 <item android:drawable="@drawable/rocket_thrust3" android:duration="200" />
 </animation-list> 
```

然后

```
AnimationDrawable rocketAnimation;

public void onCreate(Bundle savedInstanceState) {
  super.onCreate(savedInstanceState);
  setContentView(R.layout.main);

  ImageView rocketImage = (ImageView) findViewById(R.id.rocket_image);
  rocketImage.setBackgroundResource(R.drawable.rocket_thrust);
  rocketAnimation = (AnimationDrawable) rocketImage.getBackground();
}

public boolean onTouchEvent(MotionEvent event) {
  if (event.getAction() == MotionEvent.ACTION_DOWN) {
    rocketAnimation.start();
    return true;
  }
  return super.onTouchEvent(event);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-25T09:40:29.517

您始终可以使用 ffmpeg 创建图像的视频，也可以使用 timertask

```
delay=1000/totalImages;

myTimer = new Timer();
        myTimer.schedule(new TimerTask() {          
            @Override
            public void run() {

                            if(count==imgArr.length)
                              cancel();

                            imageView.setImageResource(imgArr[count]);
                            count++;    

            }

        }, 0, delay); 
```

# java - 响应给出错误

> ID：15611612
> 
> 赞同：0
> 
> 时间：2013-03-25T09:35:41.187
> 
> 标签：java, javascript, asana

我有以下代码在 asana 中创建任务。

```
String data = "{" + "    \"data\": {"
        + "\"workspace\":4661999437107,"
        + "\"name\": \"crmit solutions\","
        + "\"notes\": \"NOTES_ABOUT_TASK_GO_HERE\","
        + "\"assignee\": \"ravi.khare@crmit.com\"" + "}"
        // + "    \"options\": {" + "        \"fields\": \"name\"}" 
                + "}";

        HttpClient client = new HttpClient();
        client.getParams().setAuthenticationPreemptive(true);
        client.getParams().setParameter("http.useragent", "Test Client");
        client.getState().setCredentials(
                new AuthScope("app.asana.com", 443, "realm"),
                new UsernamePasswordCredentials(
                        "1k3qqT7O.RVRyxHdHRLiYSH710c6NpVl", ""));

        BufferedReader br = null;
        PostMethod method = new PostMethod(
                "https://app.asana.com/api/1.0/tasks");
        method.setDoAuthentication(true);

        try {
            method.setRequestBody(data);
            int returnCode = client.executeMethod(method);
            System.out.println("Return code: " + returnCode);
            br = new BufferedReader(new InputStreamReader(
                    method.getResponseBodyAsStream()));
            String readLine;
            while (((readLine = br.readLine()) != null)) {
                System.out.println(readLine);
            }
        } catch (Exception e) {
            System.out.println(e.getMessage());
        } finally {
            method.releaseConnection();
            if (br != null)
                try {
                    br.close();
                } catch (Exception fe) {
                    System.err.println(fe);
                }
        } 
```

但它给了我一个错误，说 Return code: 400 {"errors":[{"message":"workspace: Not the correct type"}]}

请帮忙 ！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-26T16:42:18.300

（我在 Asana 工作。）

此错误消息意味着您传入的 ID 4661999437107 引用了一个不是工作区的对象。使用`/workspaces`端点获取您所在的工作区的列表。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-25T09:41:14.967

这意味着传递的值`workspace`的类型**不正确**。交叉检查它接受的值的类型。

如果它的字符串，您的请求 json 需要在工作区的值周围加上**双引号（“”） 。**

如果它是一个数组，那么您的请求需要相应地框起来（值列表周围的**方括号[] ）。**

只要确保值的类型是同步的。

# java - 如何解决 clojure 中的此错误：java.lang.Exception: Too many arguments to def (NO_SOURCE_FILE:130)

> ID：15611615
> 
> 赞同：0
> 
> 时间：2013-03-25T09:35:52.303
> 
> 标签：java, clojure

我明白了

> java.lang.Exception：def 的参数太多（NO_SOURCE_FILE:130）

当我测试下面的地图时。请帮我解决错误。这是我的代码：

```
(def test_data
  "Create map test data for tbl_email "
   {:new-acc  1
    :email "test_get_account_3@mode-test.co"
    :token "pa55P0rt"
    :name "Mode Test"
    :idpass "0000"
    :msisdn 728547954}) 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-25T10:30:02.900

您可能正在使用低于 1.3 的 clojure 版本。1.3 之前的版本不支持`def`文档字符串。

如果必须使用 clojure 1.2 或更早版本，您可能应该升级到 clojure 1.5，或者在 var 的元数据映射中设置文档字符串。

# java - 方法 fetchDataByName(String) 未定义新的 FilterQueryProvider 类型

> ID：15611625
> 
> 赞同：0
> 
> 时间：2013-03-25T09:36:14.783
> 
> 标签：java, android, listview, adapter

我有以下方法，它从数据库中获取数据

```
public Cursor fetchDataByName(String inputText) throws SQLException {
       Log.w(TAG, inputText);
       Cursor mCursor = null;
       if (inputText == null  ||  inputText.length () == 0)  {
            mCursor = db.query(
            .......
            return mCursor;
       } 
```

我想在带有自定义适配器的 ListView 中显示结果，但代码中有错误。

```
dataAdapter.setFilterQueryProvider(new FilterQueryProvider() {
       public Cursor runQuery(CharSequence constraint) {
              return this.fetchDataByName(constraint.toString()); //error here
       } 
```

错误信息：

> 该方法`fetchDataByName(String)`未定义类型`new FilterQueryProvider`

该错误似乎不言自明，但我不知道如何解决它。如何更新我的代码以获得我想要的行为？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-25T09:42:36.147

您已`fetchDataByName()`在某个数据库类中定义，但尝试将此方法作为`FilterQueryProvider`. 如果你想从 访问它`runQuery()`，你必须有一个你的数据库类的实例。

```
class DatabaseAdapter {
    public Cursor fetchDataByName(String inputText) throws SQLException {
    ...
    }
}

DatabaseAdapter adapter = ...;

dataAdapter.setFilterQueryProvider(new FilterQueryProvider() {
                  public Cursor runQuery(CharSequence constraint) {
                      return adapter.fetchDataByName(constraint.toString());
                  } 
```

如果方法`fetchDataByName()`和调用`setFilterQueryProvider()`都在同一个类中，则可以省略`this.`

```
dataAdapter.setFilterQueryProvider(new FilterQueryProvider() {
                  public Cursor runQuery(CharSequence constraint) {
                      return fetchDataByName(constraint.toString());
                  } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-25T09:44:18.407

在匿名类中使用`this`不会有帮助，因为它引用当前对象，因此您可以尝试不使用`this`

或者

```
return OuterClassName.this.fetchDataByName(constraint.toString()); 
```

现在由于该`fetchDataByName(String)`方法抛出`SQLException`，那么您将必须包含一个`try catch`块，如下所示

```
public Cursor runQuery(CharSequence constraint) {
    try{
        return fetchDataByName(constraint.toString());
    }catch (SQLException e){
        e.printStackTrace();
    }
    return null;
} 
```

# asp.net - 如何为 RadGrid 行设置 RadToolTip？

> ID：15611628
> 
> 赞同：1
> 
> 时间：2013-03-25T09:36:22.723
> 
> 标签：asp.net, telerik, tooltip, radgrid

如何为 RadGrid 行设置 RadToolTip？

```
<asp:Label ID="lblCustomerName" runat="server" Text='<%# Eval("CustomerName") %>'>
</asp:Label>
<telerik:RadToolTip ID="RadToolTip3" runat="server" TargetControlID="lblCustomerName" 
    Width="400px" RelativeTo="Element" Position="BottomCenter"  AutoCloseDelay="50000">
             this is some content
</telerik:RadToolTip> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-05-08T16:19:40.483

挂钩 ItemCreated 事件，该事件为 RadGrid 中的每一行触发。然后您可以看到该行的工具提示。

```
protected void RadGrid1_ItemCreated(object sender, Telerik.Web.UI.GridItemEventArgs e)
{
    if (e.Item is GridDataItem)
    {
        GridDataItem gridItem = e.Item as GridDataItem;
        foreach (GridColumn column in RadGrid1.MasterTableView.RenderColumns)
        {
            if (column is GridBoundColumn)
            {
                //this line will show a tooltip based on the CustomerID data field
                gridItem[column.UniqueName].ToolTip = "CustomerID: " + 
                    gridItem.OwnerTableView.DataKeyValues[gridItem.ItemIndex]["CustomerID"].ToString();

                //This is in case you wish to display the column name instead of data field.
                //gridItem[column.UniqueName].ToolTip = "Tooltip: " + column.UniqueName;
            }
        }
    }
} 
```

[http://www.telerik.com/help/aspnet-ajax/grid-appearance-tooltips-for-grid-items.html](http://www.telerik.com/help/aspnet-ajax/grid-appearance-tooltips-for-grid-items.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-07-10T14:14:13.877

```
protected void rgCareActivity_ItemDataBound(object source, GridItemEventArgs e)
{
    if (e.Item is GridDataItem)
    {
        GridDataItem item = e.Item as GridDataItem;

        Control target = e.Item.FindControl("lblCustomerName");
        if (!Object.Equals(target, null))
        {
            if (!Object.Equals(this.RadToolTip3, null))
            {
                //Add the button (target) id to the tooltip 
                this.RadToolTip3.TargetControls.Add(target.ClientID, (e.Item as GridDataItem).GetDataKeyValue("ID").ToString(), true);
            }
        }
    }
}

protected void RadToolTip3_AjaxUpdate(object sender, ToolTipUpdateEventArgs e)
{    
    string strValue = e.Value;
    RadToolTip3.Text = strValue ;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-02-04T03:53:55.627

你可以试试这个。

```
protected void RadGrid1_ItemCreated(object sender, Telerik.Web.UI.GridItemEventArgs e)
{
    if (e.Item is GridDataItem)
    {
        GridDataItem gridItem = e.Item as GridDataItem;
        Control lblItem = gridItem.FindControl("lblCustomerName");
        Control toolTipItem = gridItem.FindControl("RadToolTip3");
        if (!Object.Equals(lblItem , null) && !Object.Equals(toolTipItem , null))
        {
            ((RadToolTip)toolTipItem).TargetControlID = lblItem.ID;
        }
    }
} 
```

# mysql - IF NOT EXISTS INSERT, ELSE UPDATE - 不工作？

> ID：15611630
> 
> 赞同：1
> 
> 时间：2013-03-25T09:36:24.527
> 
> 标签：mysql, sql, sql-insert

在这里我想更新 item_quatity 如果存在否则插入行

```
+----+--------+-----------+---------------+
| id |user_id | item_id   | item_quantity |
+----+--------+-----------+----------------+
|  1 | 16     | 4         | 1             |
|  2 | 5      | 6         | 2             |
+----+--------+-----------+---------------+

INSERT INTO user_items 
SET user_id = 16 ,item_id = 4 , item_quantity = 1 
ON DUPLICATE KEY 
UPDATE item_quantity = item_quantity + '1' ;

OR

    INSERT INTO user_items 
         (user_id,item_id,item_quantity) VALUES ('16','4','1') 
    ON DUPLICATE KEY 
    UPDATE item_quantity= item_quantity + '1' ; 
```

这个查询总是插入行，更新不起作用？？？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-25T09:37:39.483

存在什么？用户身份？item_id？还是两者兼而有之`user_id, item_id`？

在列上添加一个 UNIQUE 约束，`user_id,item_id`它将起作用，

```
ALTER TABLE user_items ADD CONSTRAINT tb_uq UNIQUE (user_id, item_id) 
```

也就是说，如果您想拥有唯一的复合列`user_id, item_id`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-25T09:48:53.543

```
insert into user_items (id, user_id ,item_id , item_quantity) values(3,16, 4, 1) 
on duplicate key update item_quantity = item_quantity + 1 
```

# radio - BlackBerry 10 Native SDK - CellID 总是返回 0

> ID：15611632
> 
> 赞同：0
> 
> 时间：2013-03-25T09:36:27.633
> 
> 标签：radio, blackberry-10, blackberry-cascades, blackberry-ndk

CellID 和 LocationAreaCode 在我的设备上总是返回零：

*示例代码：*

```
 int cellId = bb::device::CellularNetworkInfo().cellId();
    int LAC = bb::device::CellularNetworkInfo().locationAreaCode(); 
```

以上将*始终*为零

奇怪的是，信号强度确实返回了一个有效值（例如 -90）：

*示例代码：*

```
 int signalStrength = bb::device::CellularNetworkInfo().signalStrength(); 
```

我在 GSM 网络上，但出于兴趣，我尝试了 networkId 和 systemId，但它们仍然返回零

*额外信息：*
我在 hpp 中有 #include bb/device/CellularNetworkInfo
在我的 pro 文件中我添加了：LIBS += -lbbdevice
设备已连接到网络（可以拨打电话等）
我已经勾选了栏中的所有权限-描述符
我用[这个作为参考](http://developer.blackberry.com/cascades/reference/bb__device__cellularnetworkinfo.html#function-systemidchanged-sid)

有人知道 CellID 和 LAC 的值吗？
我哪里错了？

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-21T21:22:52.987

引用：

包含服务于 GSM/UMTS 网络的基站的地理区域标识符。权限：应用程序必须具有*read_radio_modem_data*权限才能访问此信息。

将此添加到您的 bar-descriptor.xml 将解决此问题：

```
<permission>read_radio_modem_data</permission> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-25T18:19:59.080

最后一个额外信息：您是否检查了应用描述符文件中所需的授权？

# silverlight - 在 Silverlight 中将数据绑定到子窗口上的 RadGridView

> ID：15611633
> 
> 赞同：0
> 
> 时间：2013-03-25T09:36:31.737
> 
> 标签：silverlight, data-binding, radgridview, childwindow

我可以将数据绑定到 xaml 页面上的 Telerik `RadGridView`，但我无法将数据绑定到`RadGridView`子窗口。我已经有一个包含数据的列表，但是当我打开弹出窗口时，需要将列表的数据绑定到网格。

关于如何实现这一目标的任何建议？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-25T13:16:40.193

一种解决方案可能是将 RadGridView itemsource 传递给 ChildWindow 的 Tag 属性，这样当您加载 chilWindow 时，您将可以访问 GridView 元素。

# php - Symfony 总是出现 404 错误

> ID：15611635
> 
> 赞同：2
> 
> 时间：2013-03-25T09:36:38.913
> 
> 标签：php, ubuntu, symfony, apache2

我是 Symfony 的初学者，我很难让它工作。我在我的机器（ubuntu）上运行 apache 2。看来我可以通过 url 访问配置：localhost/Symfony/web/config.php

另外，我可以通过这个 url 访问主页：localhost/Symfony/web/app_dev.php（我看到的第一个消息是：加载 Web 调试工具栏时发生错误（404：未找到）。你想要打开探查器？）。我唯一能回应的是取消（如果你尝试接受，我会收到 404 未找到）。

在那之后，没有任何效果。即便是 。始终找不到 404。

正如我所发现的，这可能是缓存的问题，也可能是 apache 配置的问题。但是无论我尝试什么都不能解决问题（其他人在stackoverflow中提出了类似的问题，但对我来说没有任何解决方法）。

有人知道吗？提前致谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-06-04T10:17:42.177

我以前也有这个问题，请看一下我的配置并尝试一下

在我的 .htaccess 里面：

大家好，我也遇到了这个问题。似乎“股票” .htaccess 是问题所在。我已经在我的环境中解决了这个问题，这是我的 .htaccess 和注释：

```
<IfModule mod_rewrite.c>
    RewriteEngine On
    RewriteCond %{REQUEST_URI}::$1 ^(/.+)/(.*)::\2$
    RewriteRule ^(.*) - [E=BASE:%1]
    RewriteCond %{ENV:REDIRECT_STATUS} ^$
    RewriteRule ^app_dev.php(/(.*)|$) %{ENV:BASE}/$2 [R=301,L]    ##### this is the part that you should tweak, have the .htaccess point the request to app_dev.php, since the routing.yml is empty initially
    RewriteCond %{REQUEST_FILENAME} -f
    RewriteRule .? - [L]
    RewriteRule .? %{ENV:BASE}/app_dev.php [L]        ##### this is the part that you should tweak, have the .htaccess point the request to app_dev.php, since the routing.yml is empty initially
</IfModule>

<IfModule !mod_rewrite.c>
    <IfModule mod_alias.c>
        # When mod_rewrite is not available, we instruct a temporary redirect of
        # the startpage to the front controller explicitly so that the website
        # and the generated links can still be used.
        RedirectMatch 302 ^/$ /app.php/
        # RedirectTemp cannot be used instead
    </IfModule> 
```

在 /etc/apache2/sites-available 中的“symfony”条目中：

```
<VirtualHost 127.0.1.15>
    ServerAdmin webmaster@localhost
    ServerName symfony
    DocumentRoot /var/www/Symfony/web
DirectoryIndex app.php
    <Directory /var/www/Symfony/web>
        Options Indexes FollowSymLinks MultiViews
    AllowOverride All
    Order allow,deny
    allow from all
</Directory>

ErrorLog ${APACHE_LOG_DIR}/error.log
# Possible values include: debug, info, notice, warn, error, crit,
# alert, emerg.
LogLevel warn
CustomLog ${APACHE_LOG_DIR}/access.log combined
</VirtualHost> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-25T09:45:38.283

Maby 看看你`.htaccess`或你的 appache 设置 ( `mod_rewrite`)

看看：[Symfony 404 错误](https://stackoverflow.com/questions/8854766/symfony-404-errors?rq=1)

# c# - EMGU CV C#中的傅里叶变换

> ID：15611644
> 
> 赞同：0
> 
> 时间：2013-03-25T09:36:57.763
> 
> 标签：c#, transform, fft, emgucv

我正在对 emgu cv 使用傅里叶变换做一个小实验。我的目标是对图像进行傅立叶变换，然后再次进行傅立叶逆变换，并检查图像是否显示。从数学上讲，它应该。

这是我的代码，我认为它是正确的

```
Image<Gray, float> image = new Image<Gray, float>("c://box1.png");
IntPtr complexImage = CvInvoke.cvCreateImage(image.Size, Emgu.CV.CvEnum.IPL_DEPTH.IPL_DEPTH_32F, 2);

CvInvoke.cvSetZero(complexImage);  // Initialize all elements to Zero
CvInvoke.cvSetImageCOI(complexImage, 1);
CvInvoke.cvCopy(image, complexImage, IntPtr.Zero);
CvInvoke.cvSetImageCOI(complexImage, 0);

Matrix<float> dft = new Matrix<float>(image.Rows, image.Cols, 2);
CvInvoke.cvDFT(complexImage, dft, Emgu.CV.CvEnum.CV_DXT.CV_DXT_FORWARD, 0);

Matrix<float> idft = new Matrix<float>(dft.Rows, dft.Cols, 2);
CvInvoke.cvDFT(dft, idft, Emgu.CV.CvEnum.CV_DXT.CV_DXT_INVERSE, 0);

IntPtr complexImage2 = CvInvoke.cvCreateImage(idft.Size, Emgu.CV.CvEnum.IPL_DEPTH.IPL_DEPTH_8U, 2);

CvInvoke.cvShowImage("picture", idft);
System.Threading.Thread.Sleep(99999); // to wait and see the picture 
```

我有两个问题：

1-错误：出现一个错误说“OpenCV：源图像必须有1、3或4个通道”我相信它与IDFT有关，但我无法解决它

2-它仍然显示输出图像，但不幸的是，它不是输入的原始图像。所有显示的是纯灰色图像。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-10T00:03:09.020

尝试这个

```
Image<Gray, Single> theImage = new Image<Gray, Single>("C://box1.png");
Image<Gray, Single> DFT = new Image<Gray, Single>(theImage.Size);
Image<Gray, Single> original = new Image<Gray, Single>(theImage.Size);

CvInvoke.cvDFT(theImage.Convert<Gray, Single>().Ptr, DFT.Ptr,  Emgu.CV.CvEnum.CV_DXT.CV_DXT_FORWARD, -1);
CvInvoke.cvDFT(DFT.Convert<Gray, Single>().Ptr, original.Ptr,  Emgu.CV.CvEnum.CV_DXT.CV_DXT_INVERSE, -1); 
```

这是灰度，对于 RGB 图像，您可以将图像拆分为灰度图像数组，并对每个通道执行上述过程。即使用 theImage.Split()

你不会得到一个精确的原始图像，但它应该是接近的

# php - 将 XML 节点值中的特殊字符转换为简单字符并保存为 XML 文件

> ID：15611649
> 
> 赞同：0
> 
> 时间：2013-03-25T09:37:18.057
> 
> 标签：php, xml, xml-parsing, transliteration

这是我的代码：

```
<?php
$dom = new DOMDocument();
$dom->load('http://services.gisgraphy.com/geoloc/search?lat=22.298569900000000000&lng=70.794301799999970000&radius=7000', true);
$dom->save('filename.xml');
?> 
```

我得到这种类型的输出：

```
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<results xmlns="http://gisgraphy.com">
    <numFound>1</numFound>
    <QTime>67</QTime>
    <result>
        <distance>1139.81967842778</distance>
        <name>Rājkot</name>// 
        <adm1Code>09</adm1Code>
        <adm1Name>State of Gujarāt</adm1Name>
        <asciiName>Rajkot</asciiName>
        <countryCode>IN</countryCode>
        <featureClass>P</featureClass>
        <featureCode>PPL</featureCode>
        <featureId>1258847</featureId>
        <gtopo30>139</gtopo30>
        <population>1177362</population>
        <timezone>Asia/Kolkata</timezone>
        <lat>22.299999237060547</lat>
        <lng>70.78333282470703</lng>
        <placeType>City</placeType>
        <oneWay>false</oneWay>
        <length>0.0</length>
        <google_map_url>http://maps.google.com/maps?f=q&amp;amp;ie=UTF-8&amp;amp;iwloc=addr&amp;amp;om=1&amp;amp;z=12&amp;amp;q=R%C4%81jkot&amp;amp;ll=22.329999237060548,70.78333282470703</google_map_url>
        <yahoo_map_url>http://maps.yahoo.com/broadband?mag=6&amp;amp;mvt=m&amp;amp;lon=70.78333282470703&amp;amp;lat=22.299999237060547</yahoo_map_url>
        <country_flag_url>/images/flags/IN.png</country_flag_url>
    </result>
</results> 
```

在上面的 XML 文件中，我想将`name`节点值中的特殊字符转换为简单字符，例如`Rājkot`包含`ā`我想转换为简单字符的特殊`a`字符。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-25T10:28:13.827

下面的代码使用 SimpleXML 扩展循环遍历每个元素，并通过将字符集转换为 UTF-8 来`result`修改其中元素的文本内容。`name`

```
<?php
  $results = new SimpleXMLElement('http://services.gisgraphy.com/geoloc/search?lat=22.298569900000000000&lng=70.794301799999970000&radius=7000', NULL, TRUE);
  foreach($results->result as $result) {
    $result->name = iconv('utf-8', 'ascii//TRANSLIT', $result->name);
  }
  $results->asXML('results_simple.xml');
?> 
```

以下是使用 DOMDocument 而不是 SimpleXML 的上述代码的替代版本...

```
<?php
  $doc = new DOMDocument();
  $doc->load('http://services.gisgraphy.com/geoloc/search?lat=22.298569900000000000&lng=70.794301799999970000&radius=7000');
  // retrieve all elements with a tag name of "name"
  $names = $doc->getElementsByTagName('name');
  foreach($names as $name) {
    $name->nodeValue = iconv('utf-8', 'ascii//TRANSLIT', $name->nodeValue);
  }
  $doc->save('results_dom.xml');     
?> 
```

最后，此代码使用 DOMDocument 递归遍历 XML 数据中的所有元素/节点，将转换应用于每个文本节点的值...

```
<?php
  function convertNodeValueChars($node) {
    if ($node->hasChildNodes()) {
      foreach ($node->childNodes as $childNode) {
        if ($childNode->nodeType == XML_TEXT_NODE) {
          $childNode->nodeValue = iconv('utf-8', 'ascii//TRANSLIT', $childNode->nodeValue);
        }
        convertNodeValueChars($childNode);         
      }
    }      
  } 

  $doc = new DOMDocument();
  $doc->load('http://services.gisgraphy.com/geoloc/search?lat=22.298569900000000000&lng=70.794301799999970000&radius=7000');
  convertNodeValueChars($doc->documentElement);
  $doc->save('results_dom.xml');     
?> 
```

您在此处发布之前是否搜索过类似的问题？

我通过简单的 Google 搜索**php edit xml element value**发现了许多相关问题...

*   [使用 PHP 更新 XML 节点](https://stackoverflow.com/a/4748307/2047725)
*   [在 PHP 中更改 XML 节点元素值并保存文件](https://stackoverflow.com/a/2956678/2047725)

为了转换字符，看看这个建议......

*   [如何将特殊字符转换为普通字符](https://stackoverflow.com/questions/9720665/how-to-convert-special-characters-to-normal-characters)

# javascript - jQuery 日期选择器在 ASP.Net MVC4 中无法正常工作

> ID：15611650
> 
> 赞同：1
> 
> 时间：2013-03-25T09:37:21.227
> 
> 标签：javascript, jquery, html, jquery-ui, asp.net-mvc-4

我需要在我的项目中实现 jQuery 日期选择器。这是我的脚本：

```
<script type="text/javascript">
    $(document).ready(function () {
        $("#datepicker").datepicker();
    });
</script> 
```

我在我的 HTML 中添加了这些链接：

```
<link rel="stylesheet" href="http://code.jquery.com/ui/1.10.2/themes/smoothness/jquery-ui.css" />
<script src="http://code.jquery.com/jquery-1.9.1.js"></script>
<script src="http://code.jquery.com/ui/1.10.2/jquery-ui.js"></script>

<label style="padding-left: 5px;">Date</label><input type="text" id="datepicker" /> 
```

但是我无法使用该代码显示下拉窗口。我怎么解决这个问题？当我查看页面的视图源时，该函数有一些额外的 jquery 脚本，例如：

```
 <link href="../../Content/Site.css" rel="stylesheet" type="text/css" />
    <link href="../../Content/themes/base/jquery-ui-1.9.2.css" rel="stylesheet" type="text/css" />
    <link href="/Scripts/jtable/themes/standard/jtable_empty.css" rel="stylesheet" type="text/css" />
    <link href="../../Content/application.css" rel="stylesheet" type="text/css" />
    <script src="../../Scripts/jquery-1.8.3.js" type="text/javascript"></script>
    <script src="/Scripts/jquery.unobtrusive-ajax.js" type="text/javascript"></script>
    <script src="../../Scripts/jquery-ui-1.9.2.js" type="text/javascript"></script>
    <script src="/Scripts/jtable/jquery.jtable.js" type="text/javascript"></script>
    <script src="../../Scripts/knockout-2.1.0.js" type="text/javascript"></script>
    <link href="/Scripts/jtable/themes/standard/jtable_empty.css" rel="stylesheet" type="text/css" />
    <link href="/Content/themes/base/jquery-ui-1.9.2.css" rel="stylesheet" type="text/css" />
    <script src="/Scripts/jtable/jquery.jtable.js" type="text/javascript"></script>
    <script src="/Scripts/jquery.cookie.js" type="text/javascript"></script>
    <script src="/Scripts/modernizr-1.7.min.js" type="text/javascript"></script>
    <script src="/Scripts/knockout-2.2.0.js" type="text/javascript"></script>
    <script src="/Scripts/advancedSearch/AdvancedSearch.js" type="text/javascript"></script>
    <script src="/Scripts/advancedSearch/jquery.validationEngine.js" type="text/javascript"></script>
    <script src="/Scripts/advancedSearch/jquery.validationEngine-en.js" type="text/javascript"></script>
    <link href="/Scripts/advancedSearch/validationEngine.jquery.css" rel="stylesheet" type="text/css" /> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-25T10:42:34.737

尽量使用`noConflict()`以避免冲突。

例子：

```
<script type="text/javascript" src="other_lib.js"></script>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript">
  $.noConflict();
  // Code that uses other library's $ can follow here.
</script> 
```

[看这里](http://api.jquery.com/jQuery.noConflict/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-25T10:44:47.503

你可以做以下

**先调用你的 jQuery 相关脚本**

```
<script type="text/jscript" src="http://code.jquery.com/jquery-1.9.1.js"></script>
  <script type="text/jscript" src="http://code.jquery.com/ui/1.10.1/jquery-ui.js"></script> 
```

**然后**

var jQueryVariable = jQuery.noConflict(true);

**现在使用 jQueryVariable 调用任何你想调用 jQuery 的日期选择器**

# java - 在 servlet 中实现 HTTP 基本身份验证

> ID：15611653
> 
> 赞同：7
> 
> 时间：2013-03-25T09:37:29.360
> 
> 标签：java, servlets, basic-authentication

我想编写一个 servlet 来包装一组资源并需要使用基本的 HTTP 身份验证来保护它们；在提供文件之前，将根据后端数据库检查提交的用户名/密码。

有人有这方面的工作例子吗？[我在http://www.coderanch.com/t/352345/Servlets/java/HTTP-basic-authentication-Web-Applications](http://www.coderanch.com/t/352345/Servlets/java/HTTP-basic-authentication-Web-Applications)尝试了示例，但它一直`IllegalStateException`在`sendError`调用中返回一个。

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2013-08-21T16:50:41.017

Here is some code that returns a Credential object (bean object holding login and password).

```
public Credentials credentialsWithBasicAuthentication(HttpServletRequest req) {
    String authHeader = req.getHeader("Authorization");
    if (authHeader != null) {
        StringTokenizer st = new StringTokenizer(authHeader);
        if (st.hasMoreTokens()) {
            String basic = st.nextToken();

            if (basic.equalsIgnoreCase("Basic")) {
                try {
                    String credentials = new String(Base64.decodeBase64(st.nextToken()), "UTF-8");
                    LOG.debug("Credentials: " + credentials);
                    int p = credentials.indexOf(":");
                    if (p != -1) {
                        String login = credentials.substring(0, p).trim();
                        String password = credentials.substring(p + 1).trim();

                        return new Credentials(login, password);
                    } else {
                        LOG.error("Invalid authentication token");
                    }
                } catch (UnsupportedEncodingException e) {
                    LOG.warn("Couldn't retrieve authentication", e);
                }
            }
        }
    }

    return null;
} 
```

It works well, even with a password as funky as :&=/?é$£.

Here is a basic unit test for the class, using jMock:

```
public void testCredentialsWithBasicAuthentication() {
    // Setup
    final HttpServletRequest request = context.mock(HttpServletRequest.class);

    AuthentificationHelper helper = new AuthentificationHelper();
    String login = "mickael";
    String password = ":&=/?é$£";
    String base64Hash = Base64.encodeString(login + ":" + password);
    final String authHeader = "Basic " + base64Hash;

    // Expectations
    context.checking(new Expectations() {
        {
            oneOf (request).getHeader("Authorization");
            will(returnValue(authHeader));
        }   
    });

    // Execute
    Credentials credentials = helper.credentialsWithBasicAuthentication(request);

    // Verify
    assertNotNull(credentials);
    assertEquals(login, credentials.getLogin());
    assertEquals(password, credentials.getPassword());

    context.assertIsSatisfied();
} 
```

# asp.net - 当我单击提交时，我想在四个相关表中插入信息，但出现服务器错误，有时违反主键约束

> ID：15611662
> 
> 赞同：0
> 
> 时间：2013-03-25T09:37:42.787
> 
> 标签：asp.net, vb.net

我正在使用以下代码：

```
SqlDataSource1.InsertCommand = "insert into tblCaller with (ROWLOCK) (CallerID,Name,Surname,Home_Tel,Work_Tel,Cellphone,Relation_Type,Relationship) values ('" & txtEnqNo.Text & "','" & txtName.Text & "','" & txtSurname.Text & "','" & txtHome.Text & " ','" & txtWork.Text & "','" & txtCell.Text & " ','" & RTypeDropDownList.SelectedValue & "','" & txtRelationshp.Text & "')"
SqlDataSource1.Insert()

SqlDataSource2.InsertCommand = "insert into tblBeneficiary with (ROWLOCK) (Ben_ID,CallerID,Name,Surname,Contact_No,Res_Address) values ('" & txtBenID.Text & "','" & txtEnqNo.Text & "','" & txtBenName.Text & " ','" & txtBenSurname.Text & "','" & txtContNo.Text & "','" & DropDownList17.SelectedValue & "')"
SqlDataSource2.Insert()

SqlDataSource3.InsertCommand = "insert into tblIncident with (ROWLOCK) (Incident_No,CallerID,Reg_Code,District,Local_Office,Municipality,Ward,Access_Type,Enquiry_Type,Grant_Type,Summary,Detailed,Priority,Log_Date,Status,Resolution,Resol_Date,Capturer,Assigned_To) values ('" & txtIncident.Text & "','" & txtEnqNo.Text & "','" & lblRegion.Text & " ','" & DropDownList5.SelectedItem.Text & "','" & DropDownList6.SelectedItem.Text & " ','" & txtMunicipal.Text & " ','" & txtWard.Text & "','" & AccessRadioButtonList.SelectedValue & "', '" & EnquiryRadioButtonList.SelectedValue & "','" & GrantRadioButtonList.SelectedValue & "','" & DropDownList1.SelectedValue & "','" & txtDetailed.Text & "','" & PriorityRadioButtonList.SelectedValue & "','" & txtDlog.Text & "','" & DropDownList16.SelectedValue & "',' " & txtResolution.Text & "','" & txtDResol.Text & "','" & GridView4.Rows(0).Cells(0).Text & "','" & DropDownList15.SelectedValue & "')"
SqlDataSource3.Insert()

SqlDataSource4.InsertCommand = "insert into tblHistory with (ROWLOCK) (Incident_No,Status,Resolution,Last_updated,Log_date,Capturer,Assigned_to,Updater) values ('" & txtIncident.Text & "','" & DropDownList1.SelectedValue & "','" & txtResolution.Text & "','" & txtDlog.Text & "','" & txtDlog.Text & "','" & GridView4.Rows(0).Cells(0).Text & "','" & DropDownList15.SelectedValue & "','" & GridView4.Rows(0).Cells(0).Text & "')"
SqlDataSource4.Insert() 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-25T09:50:07.427

编写 4 个独立的存储过程并在您的按钮单击代码中调用它们，如下所示 -

```
if(first stored procedure()>0)
   {
    if(second procedure()>0)
      {
        if(..)
         {
           ....
          }
      }
   } 
```

使用适当的 try catch 方法。

# cocoa - Apple 沙箱：禁用 NSDocument 对 Document-scoped 书签的原子保存

> ID：15611663
> 
> 赞同：4
> 
> 时间：2013-03-25T09:38:00.823
> 
> 标签：cocoa, sandbox, bookmarks, nsdocument, appstore-sandbox

我已经在 Apple 的开发者论坛上发布了这个问题，一周后没有收到任何回复，所以我希望我能在这里有更好的运气。

我创建了一个标准的基于文档的应用程序（使用 NSDocument，保存简单的 XML 文件），现在我需要扩展它以将文档范围的书签保存到用户选择的外部文件中。

一切正常，除了文档范围的书签在我从文件中读回它们后无法解析之外，事实证明这是由于 NSDocument 以原子方式写入文件。

**背景**

因为我发现通过 Apple 的开发者论坛或网络搜索很难找到有关报告错误的信息，所以我将快速记录我发现的内容，以防它对同一条船上的其他人有所帮助。

失败尝试返回的错误是：

> 错误域 = NSCocoaErrorDomain 代码 = 256 “无法打开文件“somefile.xml”。”

其中，令人困惑的是，somefile.xml 是（文件名组件）在下面的代码块中作为“relativeToURL:”传递的绝对 URL。

有[App Sandbox：document-scoped bookmark notsolving等报告；启用原子文件保存时，不返回任何](https://stackoverflow.com/questions/10259692/app-sandbox-document-scoped-bookmark-not-resolving-not-returning-any-error?lq=1)表明沙盒/书签存在问题的错误。

这个问题之前的报告没有给出同样的错误（他们通常指的是没有错误信息的失败），但是我创建了一个单独的测试应用程序（不使用 NSDocument）来测试这个，发现我能够重现写入文件时使用以下代码与上述相同的错误消息：

```
// HACK: Save a temporary value to the file so that the file exists when creating the bookmark
NSString *temp = @"Temp";
[temp writeToURL:saveURL atomically:NO encoding:NSUTF8StringEncoding error:&error];
// Create bookmark to imageURL relative to the save location
NSData *bookmarkData = [imageURL bookmarkDataWithOptions:NSURLBookmarkCreationWithSecurityScope includingResourceValuesForKeys:nil relativeToURL:[saveURL absoluteURL] error:&error];
if(bookmarkData == nil) return;
// Convert NSData to a string format.
NSString *bookmarkString = [bookmarkData base64EncodedString];
// Write the file.
[bookmarkString writeToURL:saveURL atomically:YES encoding:NSUTF8StringEncoding error:&error]; 
```

将最后一行更改为“atomically:NO”时，书签会正确解析，并且一切都按预期工作。

**NSDocument 和原子写作**

由于 NSDocument 的默认和推荐设置使用原子写入，并且这不适用于 Sandbox 的核心功能之一，我正在寻找一种方法使文档范围的书签和 NSDocument 一起工作，我认为这意味着找到一种方法来使 NSDocument 直接而不是原子地写入文件。

我还没有找到解决 Apple 框架故障的任何有效解决方案（在这些论坛上或更广泛的搜索中）。

我可以覆盖其中之一

*   writeSafelyToURL:ofType:forSaveOperation:error:
*   writeToURL：ofType：forSaveOperation：错误：
*   saveToURL:ofType:forSaveOperation:completionHandler:

但在每种情况下，文档都说“如果您覆盖此方法，请务必调用超类实现”，这可能会继续以原子方式保存文件。

我的目标是以一种我可以继续支持 Apple 推动开发人员（无论好坏）的其他用户体验期望的方式来做到这一点 - 例如。autosavesInPlace、版本等。但我愿意牺牲这些细节，以便有一个可以发布到 AppStore 的工作沙盒应用程序。

# session-cookies - PHP：关闭浏览器后继续获取旧的会话 ID

> ID：15611665
> 
> 赞同：0
> 
> 时间：2013-03-25T09:38:06.570
> 
> 标签：session-cookies, php

我已经设置了一个使用会话的 PHP5 脚本。启动会话很顺利，它还创建了一个 cookie（如预期的那样）。

然而，在关闭浏览器（Mac OSX Mountain Lion 上的 Firefox 19.0.2）并打开浏览器后，会话 ID 保持不变。即使过了几天。然而，当 session.cookie_lifetime 设置为 0

在 PHP 中，我使用它来启动会话：

```
//set cookie params: lifetime, path, domain, https, http-only
session_set_cookie_params(0, "/", null, false, true);

session_name('MySession');

//start session
session_start(); 
```

这是我的 PHP.ini

```
session.use_cookies = 1
session.use_only_cookies = 1
session.cookie_httponly = 1
session.cookie_lifetime = 0
session.cookie_path = /
session.gc_probability = 1
session.gc_divisor = 1000
session.gc_maxlifetime = 1440
session.hash_function = 1
session.hash_bits_per_character = 6
session.save_path = /var/lib/php5
session.name = PHPSESSID 
```

会话文件确实会在 /var/lib/php5 中被删除。在 session_destroy() 之后，文件将被删除。

但是，再次使用脚本（开始会话）后，我将获得旧的会话 ID。上周五我从我的电脑上注销了，现在我回来了，我仍然得到这个旧的会话 ID。我真的很想在关闭浏览器后有一个新的会话 ID（命令 Q）

我刚刚读到了 Firefox 的一个令人讨厌的“功能”，它为您存储 cookie，就好像您从未关闭过浏览器一样。

[Firefox 会话 cookie](https://stackoverflow.com/questions/777767/firefox-session-cookies)

我想这可能只是原因。因为我不希望这样，所以我需要找到解决方法。

你能给我建议吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-25T09:46:14.420

您必须在函数中设置 cookie 生命周期，否则它将保留在那里。您必须在那里提供一些过期时间。以下是贡献的一些示例[http://php.net/manual/en/function.session-set-cookie-params.php](http://php.net/manual/en/function.session-set-cookie-params.php)

# php - 如何搜索全文mysql字段以便在找到关键字时只返回一个句子（不返回整个字段）

> ID：15611668
> 
> 赞同：0
> 
> 时间：2013-03-25T09:38:13.423
> 
> 标签：php, mysql, sql, search, full-text-search

我有一个带有一些文本的全文字段。

然后我使用以下方法搜索关键字：`TABLENAME.FULLTEXT_FIELD REGEXP '[[:<:]]keyword'`

这将返回关键字在`fulltext_field`.

我想要实现的是返回一些围绕我的关键字的文本（比如谷歌搜索，在主页上它给你一个句子，这样你就可以得到你的关键字的上下文）。

这可以做到吗？

我认为在数据库级别解决它会更好，但如果这很难在 SQL 中完成，有人可以帮助在 PHP 中做同样的事情，即获取整个文本并在 php 中为我的网页仅提取一个句子。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-25T10:53:53.953

您始终可以返回包含您的文本的记录。

然后使用**strpos**确定文本开始的位置。然后在它之前和之后粘贴x个字符。

# function - Scala REPL：如何查找函数类型？

> ID：15611669
> 
> 赞同：10
> 
> 时间：2013-03-25T09:38:13.647
> 
> 标签：function, scala, types, read-eval-print-loop

在 Scala REPL 中可以找到值类型：

```
 scala> val x = 1
    x: Int = 1

    scala> :t x
    Int 
```

然而 Scala REPL 没有显示函数的类型信息：

```
 scala> def inc(x:Int) = x + 1
    inc: (x: Int)Int

scala> :t inc
<console>:9: error: missing arguments for method inc;
follow this method with `_' if you want to treat it as a partially applied function
       inc
       ^
<console>:9: error: missing arguments for method inc;
follow this method with `_' if you want to treat it as a partially applied function
          inc
          ^ 
```

如何在 Scala REPL 中查找函数类型？

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2013-03-25T09:48:02.460

遵循建议会很好地工作：

```
:t inc _
Int => Int 
```

更详细地说，这是必要的原因是 Scala 在“方法”和“函数”之间保持区别，“方法”在 JVM 中具有本机支持，但不是一流的，“函数”被视为实例`FunctionX`并被视为作为JVM的对象。尾随下划线的使用将前者转换为后者。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2018-02-07T15:55:43.980

您可以写下方法的名称并按 Tab。

```
Stream.fill<tab> 
```

给你：

```
def fill[A](n1: Int,n2: Int,n3: Int)(elem: => A): 
scala.collection.immutable.Stream[scala.collection.immutable.Stream[scala.collection.immutable.Stream[A]]]
def fill[A](n1: Int,n2: Int,n3: Int,n4: Int)(elem: => A): scala.collection.immutable.Stream[scala.collection.immutable.Stream[scala.collection.immutable.Stream[scala.collection.immutable.Stream[A]]]]
def fill[A](n1: Int,n2: Int)(elem: => A): scala.collection.immutable.Stream[scala.collection.immutable.Stream[A]]
def fill[A](n1: Int,n2: Int,n3: Int,n4: Int,n5: Int)(elem: => A): scala.collection.immutable.Stream[scala.collection.immutable.Stream[scala.collection.immutable.Stream[scala.collection.immutable.Stream[scala.collection.immutable.Stream[A]]]]]
override def fill[A](n: Int)(elem: => A): scala.collection.immutable.Stream[A] 
```

# xcode - UIPageViewController 自动滚动

> ID：15611671
> 
> 赞同：4
> 
> 时间：2013-03-25T09:38:17.347
> 
> 标签：xcode, ios6, pagecontrol

我正在使用带有 PageControl 的 UIPageViewController 在我的 PageViewController 中显示 3 个图像。一切都很完美。但是页面是否有可能在特定时间后自动滑动（滚动）到下一页？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-25T09:44:05.160

这可以通过以下方法实现

```
- (void)setViewControllers:(NSArray *)viewControllers direction:(UIPageViewControllerNavigationDirection)direction animated:(BOOL)animated completion:(void (^)(BOOL finished))completion; 
```

例如：

```
[pageVCObj setViewControllers:arrayOfViewControllers direction:UIPageViewControllerNavigationDirectionForward animated:YES completion:nil]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-25T09:55:56.783

使用 NSTimer 在特定时间后滚动。我希望以下代码对您有所帮助

```
[NSTimer scheduledTimerWithTimeInterval:2 target:self selector:@selector(move_pagination) userInfo:nil repeats:YES]; 
```

之后定义“move_pagination”方法，如

```
- (void)scrollingTimer {

UIScrollView *scrMain = (UIScrollView*) [self.view viewWithTag:1];

UIPageControl *pgCtr = (UIPageControl*) [self.view viewWithTag:12];

CGFloat contentOffset = scrMain.contentOffset.x;
// calculate next page to display
int nextPage = (int)(contentOffset/scrMain.frame.size.width) + 1 ;
// if page is not 10, display it
if( nextPage!=10 )  {
    [scrMain scrollRectToVisible:CGRectMake(nextPage*scrMain.frame.size.width, 0, scrMain.frame.size.width, scrMain.frame.size.height) animated:YES];
    pgCtr.currentPage=nextPage;
// else start sliding form 1 :)
} else {
    [scrMain scrollRectToVisible:CGRectMake(0, 0, scrMain.frame.size.width, scrMain.frame.size.height) animated:YES];
    pgCtr.currentPage=0;
} 
```

}

# sql-server - S-lock 在执行单选的进程中

> ID：15611672
> 
> 赞同：0
> 
> 时间：2013-03-25T09:38:23.150
> 
> 标签：sql-server, profiling, deadlock

我有 2 个进程之间的死锁，**processd38f8748**（第一个）和**process5b2988**（第二个）。

第一个进程是`SELECT`在单独的连接中运行的。没有在代码中为其打开显式事务。`SELECT`在同一连接中之前或之后没有可能运行过的 sql 请求。此选择需要获取第 356615 页上的共享锁。

第二个进程是一个`UPDATE`，它已经在页面 356615 上持有 IX 锁（很难确定系统中的确切位置，但我可以相信），同时它想要另一个页面 356614。这里一切正常。

现在，奇怪的是第二个进程无法获得第 356614 页上的锁，因为它已经被第一个进程持有。

这对我来说很奇怪，原因有两个：

*   我很确定这个选择是 sql-connection 中的唯一请求
*   IL 被重新提交。我认为对于这个 IL，一旦语句完成，所有 S 锁都会被释放。

这是死锁xml。

```
<deadlock-list>
 <deadlock victim="processd38f8748">
  <process-list>
   <process id="processd38f8748" taskpriority="0" logused="0" waitresource="PAGE: 7:1:356615" waittime="2369" ownerId="24096354927" transactionname="SELECT" lasttranstarted="2013-03-06T11:26:10.810" XDES="0x368701960" lockMode="S" schedulerid="4" kpid="5756" status="suspended" spid="60" sbid="0" ecid="11" priority="0" trancount="0" lastbatchstarted="2013-03-06T11:26:10.810" lastbatchcompleted="2013-03-06T11:26:10.810" clientapp=".Net SqlClient Data Provider" hostname="CWCEINAW" hostpid="2604" isolationlevel="read committed (2)" xactid="24096354927" currentdb="7" lockTimeout="4294967295" clientoption1="671088672" clientoption2="128056">
    <executionStack>
     <frame procname="adhoc" line="1" sqlhandle="0x02000000dffc7a241f9433fddb83b7f97a7c0369dbf6d467">
SELECT TOP 1 1
                FROM [WP_CashCenter_StockTransaction] AS [ST]
                    LEFT JOIN [WP_CashCenter_StockTransactionLine] AS [STL] ON ( [STL].[StockTransaction_id] = [ST].[id] )
                WHERE
                    [ST].[Status] IN (0, 1) AND
                    [ST].[Type] = 0 AND
                    ([ST].[StockContainerID] = 300000120244 OR [STL].[StockContainer_id] = 300000120244)     </frame>
    </executionStack>
    <inputbuf>
    </inputbuf>
   </process>
   <process id="process5b2988" taskpriority="0" logused="17268" waitresource="PAGE: 7:1:356614" waittime="2264" ownerId="24096354521" transactionname="user_transaction" lasttranstarted="2013-03-06T11:26:10.690" XDES="0x80021040" lockMode="IX" schedulerid="2" kpid="5832" status="suspended" spid="55" sbid="0" ecid="0" priority="0" trancount="2" lastbatchstarted="2013-03-06T11:26:10.920" lastbatchcompleted="2013-03-06T11:26:10.920" lastattention="2013-02-28T11:26:25.940" clientapp=".Net SqlClient Data Provider" hostname="CWCEINAW" hostpid="2604" loginname="cwcuser" isolationlevel="read committed (2)" xactid="24096354521" currentdb="7" lockTimeout="4294967295" clientoption1="671088672" clientoption2="128056">
    <executionStack>
     <frame procname="adhoc" line="1" stmtstart="702" sqlhandle="0x02000000f0a38d32edae20f54b42cd640b8022448db200b7">
UPDATE [WP_CashCenter_StockTransaction] SET [type] = @type, [status] = @status, [startdate] = @startdate, [enddate] = @enddate, [totalquantity] = @totalquantity, [totalvalue] = @totalvalue, [totalweight] = @totalweight, [datecreated] = @datecreated, [dateupdated] = @dateupdated, [stockorder_id] = @stockorder_id, [site_id] = @site_id, [stockowner_id] = @stockowner_id, [stocklocation_id] = @stocklocation_id, [stockcontainerid] = @stockcontainerid, [uid] = @uid, [machinenumber] = @machinenumber, [editor_id] = @editor_id WHERE [id] = @id     </frame>
     <frame procname="unknown" line="1" sqlhandle="0x000000000000000000000000000000000000000000000000">
unknown     </frame>
    </executionStack>
    <inputbuf>
(@type int,@status int,@startdate datetime,@enddate datetime,@totalquantity int,@totalvalue decimal(6,2),@totalweight decimal(5,5),@datecreated datetime,@dateupdated datetime,@stockorder_id bigint,@site_id int,@stockowner_id int,@stocklocation_id int,@stockcontainerid bigint,@uid uniqueidentifier,@machinenumber nvarchar(1),@editor_id int,@id bigint)UPDATE [WP_CashCenter_StockTransaction] SET [type] = @type, [status] = @status, [startdate] = @startdate, [enddate] = @enddate, [totalquantity] = @totalquantity, [totalvalue] = @totalvalue, [totalweight] = @totalweight, [datecreated] = @datecreated, [dateupdated] = @dateupdated, [stockorder_id] = @stockorder_id, [site_id] = @site_id, [stockowner_id] = @stockowner_id, [stocklocation_id] = @stocklocation_id, [stockcontainerid] = @stockcontainerid, [uid] = @uid, [machinenumber] = @machinenumber, [editor_id] = @editor_id WHERE [id] = @id    </inputbuf>
   </process>
  </process-list>
  <resource-list>
   <pagelock fileid="1" pageid="356615" dbid="7" objectname="Eindhoven_CWC.dbo.WP_CashCenter_StockTransaction" id="lock10f24cb00" mode="IX" associatedObjectId="72057594093830144">
    <owner-list>
     <owner id="process5b2988" mode="IX"/>
    </owner-list>
    <waiter-list>
     <waiter id="processd38f8748" mode="S" requestType="wait"/>
    </waiter-list>
   </pagelock>
   <pagelock fileid="1" pageid="356614" dbid="7" objectname="Eindhoven_CWC.dbo.WP_CashCenter_StockTransaction" id="lock17e539e00" mode="SIU" associatedObjectId="72057594093830144">
    <owner-list>
     <owner id="processd38f8748" mode="S"/>
    </owner-list>
    <waiter-list>
     <waiter id="process5b2988" mode="IX" requestType="convert"/>
    </waiter-list>
   </pagelock>
  </resource-list>
 </deadlock>
</deadlock-list> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-25T10:01:42.870

看起来读者和作者之间的访问顺序不同。我希望更新只搜索一次，`[Id] = @id`但它有一个页面并且想要另一个页面这一事实表明了一次扫描。你有索引`[Id]`吗？

# web-services - VB 6 连接到 Web 服务

> ID：15611674
> 
> 赞同：-1
> 
> 时间：2013-03-25T09:38:26.197
> 
> 标签：web-services, vb6

我有一个 Web 服务的 URL “ [http://webservices.daehosting.com/services/TemperatureConversions.wso?op=CelciusToFahrenheit](http://webservices.daehosting.com/services/TemperatureConversions.wso?op=CelciusToFahrenheit) ”

我想要的只是从 vb 6 代码中调用它。我是 VB 6 的新手。任何帮助将不胜感激。提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-25T09:50:00.987

将 webbrowser 控件添加到您的表单（它位于 Microsoft Internet 控件的组件中）并使用 .Navigate 方法

# android - Android：全局音频混响效果

> ID：15611676
> 
> 赞同：3
> 
> 时间：2013-03-25T09:38:30.213
> 
> 标签：android, audio, effects

我想在全局音频输出上添加混响效果，这意味着我想修改使用任何媒体播放器时可以听到的音频。

遗憾的是，我没有找到有效的示例，只有一些将效果应用于自创的 MediaPlayer 实例。

我试过这个，但没有一个奏效：

```
// try #1
EnvironmentalReverb eReverb = new EnvironmentalReverb(1, 0);
eReverb.setDecayHFRatio((short) 1000);
eReverb.setDecayTime(10000);
eReverb.setDensity((short) 1000);
eReverb.setDiffusion((short) 1000);
eReverb.setReverbLevel((short) 1000);
eReverb.setReverbDelay(100);
eReverb.setEnabled(true);

// try #2
PresetReverb mReverb = new PresetReverb(2,0);
mReverb.setPreset(PresetReverb.PRESET_LARGEROOM);
mReverb.setEnabled(true); 
```

任何人都可以帮忙吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-06-05T11:21:42.277

我认为是因为将某些方法与另一种方法值声音效果而不是感觉相结合，例如（“ **setReflectionsLevel** ”与“ **setRoomLeve** ”）

添加这两种方法并再次测试。

```
eReverb.setReflectionsLevel(-8500);
eReverb.setRoomLevel(-8500); 
```

# php - codeigniter 2：在默认控制器上出现 404 错误

> ID：15611679
> 
> 赞同：3
> 
> 时间：2013-03-25T09:38:33.853
> 
> 标签：php, routing, controller, codeigniter-2

我这样设置默认控制器

```
$route['default_controller'] = "InterviewController"; 
```

所以这里是 InterviewController 的代码

```
class InterviewController extends CI_Controller{
    private $em;

    function __construct() {
        parent::__construct();
    }

    public function index() {
        $commentsList = array();
        $commentsList['comments'] = $this->em->getRepository('Entities\Comment')->findPage(1, 10, 'DESC', $this->em->getRepository('Entities\Interview')->getLast()[0]->getId());
        $lastInterviewsAnons = array();
        $lastInterviewsAnons['lastInterviewsAnons'] = $this->em->getRepository('Entities\Interview')->getLast();
        $this->load->view('header');
        $this->load->view('navbar');
        $this->load->view('content', $lastInterviewsAnons);
        $this->load->view('addCommentPanel');
        $this->load->view('commentsList', $commentsList);
        $this->load->view('footer');
    }
} 
```

在我的本地机器上一切正常，但在服务器上我得到 404 错误。我只能通过输入完整的 url 来访问这个控制器，比如[http://mydomain.com/index.php/InterviewController](http://mydomain.com/index.php/InterviewController)。似乎路由文件中的指令不起作用。你有什么建议？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-25T10:19:01.167

请检查您的 htaccess 文件以获取重写代码。如果没问题，请尝试以下步骤。

1）将类名称更改为

```
 class Interview extends CI_Controller 
```

2) 文件名到 interview.php

3) 在 routes.php $route['default_controller'] = "interview";

# java - 如何保存表的顺序并防止并发问题

> ID：15611683
> 
> 赞同：1
> 
> 时间：2013-03-25T09:38:39.713
> 
> 标签：java, database, spring, hibernate, jpa

我有以下问题我必须保存表格中某些元素的顺序。这是通过订单号完成的。所以第一个元素有 ordering 1，第十个有 ordering 10 等等。我还保存了一个品牌价值，这意味着订购只在一个品牌的所有行内。我的配置是 Spring 3.1 和 Hibernate 4.1.6 和 Spring Data，我也使用 JPA 接口，底层是一个 Mysql 数据库。

我现在有一个保存方法，它通过命名查询获取最大值。然后将该值加一。现在使用对象设置器设置值。然后保存它。

```
 if(tag.getOrdering()==0) {
        int newOrderingNumber = tagRepository.getMaximumOrderingNumber();
        newOrderingNumber++;
        if(LOGGER.isDebugEnabled()) {
            LOGGER.debug("Next Ordering Number for Tag is " + newOrderingNumber);
        }
        tag.setOrdering(newOrderingNumber);
    } 
```

在这里，我有一个问题，如果两个线程同时执行此操作会发生什么。他们都会保存相同的价值。但是必须增加两次。我的问题是如何防止这种情况发生。首先，我尝试对 spring 事务的隔离级别做一些事情，但 JPA 不知道事务级别以及我发现如何扩展 jpadialect 的方法，例如这里（[http://amitstechblog.wordpress.com/2011/05/31 /supporting-custom-isolation-levels-with-jpa/](http://amitstechblog.wordpress.com/2011/05/31/supporting-custom-isolation-levels-with-jpa/)）但这不起作用，我的 Connection 始终是只读的 readOnly=false 标志设置不正确，我没有找出问题所在。我也认为这不会解决我的问题。

然后我尝试使用@Version 属性，但这不起作用，因为我不在一个对象实例上工作。这两个线程在两个不同的行上工作，所以版本控制不能解决问题。

所以现在我看到了四种不同的方法。

第一：我可以在我的代码中使用同步锁对象，让一个线程等待另一个线程释放对象上的锁

第二：我可以获得一个全表锁，我不知道如何使用休眠模式，而且它似乎也太大了，无法阻止整个表。

第三：当我没有排序可能相同的品牌列时，我可以添加一个唯一约束，该约束将抛出一个异常，我可以使用它再次增加它，直到它起作用。

第四：现在我找到了另一种可行的方法。我不保存订购号。相反，我添加一列，其中包含按顺序排列的下一个元素的 id。这意味着每个请求中都有一个带有订单的 Join，但我知道这个表没有很多行，所以性能并不重要。此外，订单更改时的更新也会容易得多。

那么解决这个问题的正确方法是什么。当更改顺序时必须更新所有对象时，我还必须解决该问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-25T11:19:08.513

使用 mysql 触发器应该可以让您非常直接地检查这个其他[SO 问题](https://stackoverflow.com/questions/11507758/creating-a-trigger-to-update-a-sort-order-column)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-26T08:20:58.187

我的问题的另一个解决方案是使 order 列和 brand 列都 UNIQUE ( ADD CONSTRAINT UNIQUE(order,brand) ) 。那么在一个特定品牌中可能只有一个订单号。然后我必须对 ConstraintViolationException 做出反应，并用新值重新插入。但我感谢它不是很好，因为您不确切知道 constraintViolationException 是否真的是由于 Unique 约束或其他一些 Constraint Violation

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-25T10:59:38.773

你试过[@OrderColumn](http://docs.oracle.com/javaee/6/api/javax/persistence/OrderColumn.html)吗？在有序列表的情况下如何处理并发是 JPA 提供者的业务（我正在考虑一些限制）。[这里](https://gist.github.com/michail-nikolaev/3840973)是有序树结构的示例。

您也可以尝试使用[JPA 锁](https://blogs.oracle.com/enterprisetechtips/entry/locking_and_concurrency_in_java)。见为`PESSIMISTIC`。

# asp.net - 文本文件的超链接如何在网络表单中打开？

> ID：15611684
> 
> 赞同：1
> 
> 时间：2013-03-25T09:38:41.697
> 
> 标签：asp.net

我有一个网络表单，我想创建一个指向文本文件的超链接，以便它在 Internet Explorer 的新窗口中打开。我添加了以下内容

```
<a href="file:///D:/Test/Test.txt" id="hplTest" runat="server">testhyperlink</a> 
```

现在，当我单击超链接时，什么也没有发生。没有错误。当我打开浏览器并输入`file:///D:/Test/Test.txt`时，文件正在打开。

如果有人可以帮助我，我将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-25T09:39:40.373

您不能在 href 中给出物理路径，`file://`而是给出 url。

```
<a href="http://www.yourdomain.com/Test/Test.txt" id="hplTest" runat="server">testhyperlink</a> 
```

如果文件在当前站点内，则使用相对路径。

```
<a href="~/Test/Test.txt" id="hplTest" runat="server">testhyperlink</a> 
```

~ 这里是根路径。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-25T09:43:49.610

您的示例中的物理路径是错误的。
您可以使用绝对路径

```
 <a href="http://myDomain/folder/Test.txt" id="hplTest" runat="server">testhyperlink</a> 
```

或者你可以使用相对路径

```
<a href="~/Test.txt" id="hplTest" runat="server">testhyperlink</a> 
```

`target`如果您想在新窗口中打开它，也可以在锚标签上使用

```
<a href="~/Test.txt" id="hplTest" runat="server"  target="_blank">testhyperlink</a> 
```

[MSDN的](http://msdn.microsoft.com/en-IN/library/system.web.ui.webcontrols.hyperlink.target.aspx)更多目标详细链接

# mysql - 导致调用函数时返回空值

> ID：15611689
> 
> 赞同：0
> 
> 时间：2013-03-25T09:39:05.790
> 
> 标签：mysql

我正在尝试创建一个从我的表中提取以 J 开头的任何员工姓名的函数

```
delimiter $$
create function myfunction(nume_persoane varchar (30)) returns int deterministic
begin
declare omcucap int;
select first_name into omcucap  from employee where id = nume_persoane and first_name = 'J%';
return omcucap;
end $$ 
```

当我调用`select myfunction(first_name) from employee;`它返回的函数时`null`。这是为什么？什么解释。。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-25T09:41:27.897

```
omcucap int; 
```

你的`first_name`是int类型吗？我不这么认为。

并考虑以下更改

```
UPPER(first_name) LIKE 'J%'; 
```

您不能将 = 用于 '%'

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-25T09:46:15.607

您的参数“nume_persoane”设置为员工的 ID

> 从员工中选择 first_name 进入 omcucap，其中 id = nume_persoane 和 first_name = 'J%'；

但是你用 first_name 调用你的函数

> 选择我的函数（first_name）

而且 first_name 不是 int 还是？但是您尝试将 first_name 插入到声明的变量中

> 声明 omcucap int；
> 选择 first_name 进入 omcucap ...

### 更新

使用这些功能：

```
delimiter $$
create function myfunction(p1 int) returns int
begin
declare eID int;
select id into eID  from employee where id = p1 and first_name LIKE 'J%';
return eID;
end $$ 
```

并使用这些选择语句执行该函数：

```
SELECT myfunction(id) FROM employee; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-25T09:44:44.763

要完成 shazin 答案，使其工作，您可能需要将 omcucap 声明为 varchar。

```
declare omcucap varchar(first_name size); 
```

而且我不认为 id 是 varchar。所以 nume_persoane 会`int(id size)`代替。返回类型将是`varchar(first_name size)`

你的功能将是

```
delimiter $$
create function myfunction(nume_persoane int(10)) returns varchar(50) deterministic
begin
declare omcucap varchar(50);
select first_name into omcucap  from employee where id = nume_persoane and first_name LIKE 'J%' LIMIT 1;
return omcucap;
end $$ 
```

50 是你的`first_name`尺寸，`10`是你的 id 尺寸。
我添加`LIMIT 1`声明以避免很少的结果问题。

**编辑**
如果您不想使用默认值，请使用：

```
select IFNULL(first_name, 'default_value') into omcucap[...] 
```

# c++ - 在 C++ 中比较两个多映射对象

> ID：15611691
> 
> 赞同：1
> 
> 时间：2013-03-25T09:39:21.403
> 
> 标签：c++, stl

我需要比较两个多图对象以确定它们是否相等

我知道通过使用 std::equal 我们可以比较两个向量对象的相等性，但是是否可以使用此算法与多图对象进行比较？

```
typedef std::multimap<std::string, std::string> HeaderMap;
HeaderMap _map,_secMap;

_map.insert(HeaderMap::value_type("A", "a"));
_map.insert(HeaderMap::value_type("B", "b"));

_secMap.insert(HeaderMap::value_type("A", "a"));
_secMap.insert(HeaderMap::value_type("B", "b"));

**std::equal(_map.begin(),_map.end(),_secMap.begin()); // is this true?** 
```

如果上面的代码片段不正确，我如何比较两个多映射对象？（我不会迭代对象并一一比较键和值）谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-25T09:42:26.523

您可以将它们与[`operator==`](http://en.cppreference.com/w/cpp/container/multimap/operator_cmp)：

```
map_ == secMap_; 
```

这将在内部逐个比较元素，直到找到第一个不相等的元素。没有办法避免这种情况。这是一个工作示例：

```
#include <map>
#include <string>
#include <iostream>

int main()
{
  typedef std::multimap<std::string, std::string> HeaderMap;

  HeaderMap m1, m2, m3;

  m1.insert(HeaderMap::value_type("A", "a"));
  m1.insert(HeaderMap::value_type("B", "b"));

  m2.insert(HeaderMap::value_type("A", "a"));
  m2.insert(HeaderMap::value_type("B", "b"));

  m3.insert(HeaderMap::value_type("A", "a"));
  m3.insert(HeaderMap::value_type("B", "b"));
  m3.insert(HeaderMap::value_type("C", "c"));

  std::cout << std::boolalpha;
  std::cout << (m1==m2) << " " << (m1==m3) << std::endl;    
} 
```

输出：

> 真假

请记住，带有前导下划线的名称是为实现保留的，因此您不应使用它们。

# google-apps-script - gmail 使用javascript 将gmail 内容导入myapplications？

> ID：15611697
> 
> 赞同：0
> 
> 时间：2013-03-25T09:39:35.873
> 
> 标签：google-apps-script

我需要帮助 gmail 获取内容。

我创建了 myapps

```
 Client ID: XXXXXXXX.apps.googleusercontent.com   
       Email address:   
       765792474035@developer.gserviceaccount.com
      Client secret:    
      k2f2j0fFEdAt_EDTE0ATeQ3x
      Redirect URIs:    http://localhost/
      JavaScript origins:   http://localhost/ 
```

我的 javascript 函数

```
 $('.invitecontact-gmail').click(function(){

          https: accounts.google.com/o/oauth2/auth?scope=htttp://ww.google.com/m8/feeds/redirect_uri=redirect_uri=http:///&response_type=token&client_id=XXXXXXXXX.apps.googleusercontent.com;

}); 
```

此链接 dipaly 错误：invalid_request redirect_uri：

如何在本地主机中打开谷歌应用程序我尝试了我的应用程序 redirect_url 放在本地主机中。同样的错误来了

任何人请帮助我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-25T19:25:27.670

通过将您的 URL 与[Google Developers - Implementing OAuth 2.0 Authentication](https://developers.google.com/youtube/v3/guides/authentication)的示例进行比较，可以发现一些语法错误和拼写错误。由于您收到的错误消息抱怨重定向 uri，因此您应该从正确开始。

> https：accounts.google.com/o/oauth2/auth?
> 范围= **http://ww.google.com/m8/feeds/redirect_uri=redirect_uri=** & response_type=token& client_id = **XXXXXXXXX.apps.googleusercontent.com** **;****`http:///`**

以下在语法上是正确的（为可读性添加了空格）：

```
https: accounts.google.com/o/oauth2/auth?
  scope=http://www.google.com/m8/feeds/&                << Check this URL
  redirect_uri=<SOME-VALID_URI>&                        << Placeholder
  response_type=token&
  client_id=XXXXXXXXX.apps.googleusercontent.com; 
```

您将需要确定您的应用程序的有效 URI 是什么，并替换占位符。例如，`redirect_uri=http://localhost/oauth2callback`。

# javascript - Sencha Touch itemtap 详情查看

> ID：15611708
> 
> 赞同：0
> 
> 时间：2013-03-25T09:40:12.413
> 
> 标签：javascript, extjs, sencha-touch-2

我对这个很生气，我在 sencha touch 2 中有一个列表，我的`controller`文件中有一个函数，可以控制列表上的点击并使用信息创建一个新视图，这是`controller`文件代码：

```
Ext.define('MyApp.controller.Details', {
extend: 'Ext.app.Controller',

config: {
    refs: {
         placesContainer:'placesContainer'
    },
    control: {
         'placesContainer places list':{
             itemtap: function(list,index,target,record) {
                 console.log("item "+record.get('name')+" pigiato");
                 var detailsView = Ext.create('MyApp.view.Details');
                 this.getPlacesContainer().push(detailsView);
                 detailsView.setData(record.data);
                 detailsView.getAt(0).setData(record.data); // will set data to first component in items array
                 detailsView.getAt(1).setData(record.data); // will set data to second component in items array
                 detailsView.getAt(2).setData(record.data); // will set data to second component in items array
             }
         }
    }
} 
```

});

现在......我如何指定和设置我的详细信息视图的标题，并点击列表项的名称？有人可以帮忙吗？？谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-25T09:56:57.663

像这样

```
var detailsView = Ext.create('MyApp.view.Details', {
  title: record.get('name')
}); 
```

希望这可以帮助

# linux - 在 unix 中移动文件集

> ID：15611710
> 
> 赞同：2
> 
> 时间：2013-03-25T09:40:16.673
> 
> 标签：linux, shell, unix

我有如下文件

```
Activ_23676_03-10-2013.log.gz
Activ_23676_03-11-2013.log.gz
Activ_23676_03-12-2013.log.gz
Activ_23676_03-13-2013.log.gz
Activ_23676_03-14-2013.log.gz
Activ_23676_03-15-2013.log.gz
Activ_23676_03-16-2013.log.gz
Activ_23676_03-17-2013.log.gz
Activ_23676_03-18-2013.log.gz
Activ_23676_03-19-2013.log.gz
Activ_23676_03-20-2013.log.gz
Activ_23676_03-21-2013.log.gz
Activ_23676_03-22-2013.log.gz 
```

在这些文件中，我只想移动`Activ_23676_03-[10-16]*`。我应该如何移动它们？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-25T09:41:32.623

简单地：

```
mv Activ_23676_03-1[0-6]* /path/to/new/location 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-25T10:17:25.347

这应该可以帮助你

`mv Activ_23676_03-1[0-6]* /destination`

`mv Activ_23676_03-[10-16]* /path/to/new/location` 将不起作用，因为它将移动所有文件。

# spring - 需要在 Spring Web-Flow 期间登录/注册

> ID：15611714
> 
> 赞同：0
> 
> 时间：2013-03-25T09:40:35.193
> 
> 标签：spring, spring-security, spring-webflow, spring-webflow-2

我有一个包含 4 个步骤的 Web 流程。我也正确配置了弹簧安全性。

在最后一步，我需要保存需要用户帐户的用户订单。因此，我需要确保用户在执行最后一步之前已登录。所以我想要的是： - 已经登录的用户将顺利进入最后一步 - 未登录的用户将不得不转到我们的注册/登录页面，之后他们将被重定向回来以继续流程。

注意：第一步不需要登录（或注册）。只有最后一步。

登录/注册后如何重定向回最后一步？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-25T12:54:09.370

想通了登录。只需添加：

```
 <secured attributes="ROLE_USER" /> 
```

到您要保护的流程元素。请参阅[Spring WebFlow 文档](http://static.springsource.org/spring-webflow/docs/current/reference/html/ch08s03.html)

我还没有解决它的注册。因为我们需要重新进入流程。有任何想法吗？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-25T10:01:23.423

您可以尝试重用 RequestCache（由 Spring Security 本身使用）。在最后一页的请求处理期间，您需要执行以下操作：

```
requestCache.saveRequest(request, response); 
```

`ExceptionTranslationFilter.sendStartAuthentication(...)`例如参见。

如果您的登录页面配置正确，那么 Spring Security 将自动添加`RequestCacheAwareFilter`到相应的文件管理器链中。`RequestCacheAwareFilter`会成功的。

**编辑。**它必须在 Spring MVC 环境中工作。我不确定 Spring Web-Flow （可能有更高级别的框架支持这种情况）

# android - eclipse 21.1.0 上的调试选项卡在哪里

> ID：15611718
> 
> 赞同：0
> 
> 时间：2013-03-25T09:40:45.360
> 
> 标签：android, eclipse

我刚刚从头开始下载并安装了 adt-bundle-windows-x86-20130219 并按照此处的安装信息[http://developer.android.com/sdk/installing/bundle.html](http://developer.android.com/sdk/installing/bundle.html)

eclipse 似乎运行正常，除了现在右上角没有用于调试的选项卡，只有 Java 和透视图。结果，当我尝试调试我的应用程序时，没有 logcat，我在任何地方的菜单上都找不到它

这一定是我做错了一些设置。谁能帮忙？谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-25T09:50:41.617

尝试在这里找到它：`Window`-> `Open Perspective`->`Other...`从这里打开它时，它将与最近使用的透视图一起放置在右上角。

如果到达断点，透视图也会自动打开。

# wordpress - WordPress | 在管理员的自定义菜单下添加自定义帖子菜单

> ID：15611719
> 
> 赞同：3
> 
> 时间：2013-03-25T09:41:01.243
> 
> 标签：wordpress, custom-post-type

我正在尝试创建一个插件，其中包含仪表板页面、配置页面、一些额外的配置页面和一些自定义帖子类型。

更具体地说，在管理员中，我喜欢通过函数**add_menu_page**和**add_submenu_page**在菜单中添加一些页面，并且我喜欢创建一些与插件相关的自定义帖子类型。

问题是，如何在插件菜单选项下对自定义帖子类型菜单进行分组。

**例如，假设我使用函数add_menu_page**创建菜单选项“MyPlugin”，然后在此菜单下方通过函数 add_submenu_page 添加页面“设置页面”、“做事页面”、“仪表板” **，**然后创建自定义帖子类型“汽车”。如何将“汽车”菜单放在 MyPlugin 菜单选项下？

我喜欢这样的最终结果：

```
Dashboard
    Home
    ...
Posts
    All Posts
    ...
Settings
    General
    ...
    ...
MyPlugin             <- How to add this menu structure ?
    Dashboard        <- How to add this menu structure ?
    Cars             <- How to add this menu structure ?
    Settings Page    <- How to add this menu structure ?
    Do stuff page    <- How to add this menu structure ? 
```

实际问题不是如何创建菜单结构，而是如何在 MyPlugin 菜单下添加“汽车”自定义帖子类型菜单。

注意我在“register_post_type”属性中尝试了以下选项，但没有成功

```
'show_in_menu'          =>  'admin.php?page=myplugin.php' 
```

这有可能实现吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2014-05-29T15:49:48.017

我有同样的问题，我证明了这个解决方案：

对于您的插件菜单页面，请尝试以下操作：

```
function my_plugin_menu(){
   add_menu_page( 
       'My Plugin', 
       'My Plugin', 
       'capabilities', 
       'my_plugin_index', 
       'my_plugin_function', 
       plugins_url( 'images/my_plugin_icon.png', __FILE__ ), 
       menu_position 
    );
// add some submenu pages
   ...
   ...
} 
```

在你的`register_post_type`函数中：

```
'show_in_menu' => 'my_plugin_index' // slug from your plugin menu page 
```

这会在您选择的位置显示您的菜单页面，并在子菜单中显示自定义帖子类型。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-28T10:12:38.980

在您的`register_post_type`, 添加这个小片段

```
"menu_position" => 100,// below second seperator 
```

这是菜单位置的位置

```
 2 Dashboard
 4 Separator
 5 Posts
 10 Media
 15 Links
 20 Pages
 25 Comments
 59 Separator
 60 Appearance
 65 Plugins
 70 Users
 75 Tools
 80 Settings
 99 Separator 
```

如果您将位置设置为大于 100，它将继续将它们添加到管理菜单的最底部。

我创建了一个自定义的wp帖子类型生成器（SITE GONE），您可以在右侧看到自定义帖子类型的位置，输入帖子类型名称，（复数）然后您可以在此选择菜单位置，它会更改位置以显示它将出现的位置，

如果您在构建菜单结构时遇到问题，试试这个

```
function myplugin_menu() {
    add_menu_page('MyPlugin', 'MyPlugin', 'add_users', __FILE__, 'myplugin-page-name', plugins_url('MyPluginFolder/images/icon.png') );
    add_submenu_page(__FILE__, 'Cars', 'Cars', 8, 'myplugin-cars-page', 'cars');
    add_submenu_page(__FILE__, 'Settings', 'Settings', 8, 'myplugin-settings-page', 'myplugin_settings_function');
    add_submenu_page(__FILE__, 'Do Stuff', 'Do Stuff', 8, 'myplugin-dostuff-page', 'myplugin_dostuff_function');
}
add_action('admin_menu', 'myplugin_menu'); 
```

[http://codex.wordpress.org/Function_Reference/add_menu_page](http://codex.wordpress.org/Function_Reference/add_menu_page)

# 3d - 使用 LaTeX 标签时 Matplotlib mplot3d 标签和刻度重叠

> ID：15611726
> 
> 赞同：2
> 
> 时间：2013-03-25T09:41:17.067
> 
> 标签：3d, matplotlib, latex, label, padding

使用 matplotlib 3d 绘图时如何避免标签和刻度的重叠？

下面的代码生成一个 matplotlib-figure。此图显示了在标签中使用 LaTeX 时标签填充和 3D 绘图的问题。（或许有足够权限的人可以发个对应的图）

如果在标签中不使用 LaTeX 有一个解决方案： [在 matplotlib 的 Axes3D 中调整标签定位](https://stackoverflow.com/questions/5525782/adjust-label-positioning-in-axes3d-of-matplotlib/15603305#15603305)

如果您使用 LaTeX 来呈现标签，那么开头的 \n 将被忽略（或产生错误）！从 \phantom 和 \vspace*，从 \mbox 到 minipage，我已经尝试了很多，但它不起作用！mplot3d + x,y,zlabel + LaTeX 有什么解决方案吗

在 mplot3d API 文档（[http://matplotlib.org/mpl_toolkits/mplot3d/api.html](http://matplotlib.org/mpl_toolkits/mplot3d/api.html)）中提到，参数 labelpad 没有被喷射实现“目前，labelpad 对标签没有影响。”。

例子：

```
import matplotlib.pyplot as pyplot  
import mpl_toolkits.mplot3d

from matplotlib.pyplot import rc  
rc('text', usetex = True)  
rc('font', size=9, family='serif', serif='Times')

fig = pyplot.figure(figsize=(8/2.5, 5/2.5))  
ax = fig.gca(projection='3d')

plot = ax.plot([.1,.2,.3],[.1,.2,.3])

xLabel = ax.set_xlabel('XxxXxxX')  
yLabel = ax.set_ylabel('YyyYyyY')  
zLabel = ax.set_zlabel('ZzzZzzZ')  # \n in here produces an error or is ignored see below   

pyplot.show() 
```

...我尝试过的事情：
ax.set_ylabel(r"\phantom{x}" "\n" r'ABC', linespacing=-0.5)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2015-09-01T14:05:24.093

我通过向下滚动找到了一个解决方案：[在 matplotlib 的 Axes3D 中调整标签定位](https://stackoverflow.com/questions/5525782/adjust-label-positioning-in-axes3d-of-matplotlib/26169316#26169316)

只需添加：

```
ax.xaxis._axinfo['label']['space_factor'] = 2.0
ax.yaxis._axinfo['label']['space_factor'] = 2.0
ax.zaxis._axinfo['label']['space_factor'] = 2.0 
```

这是唯一对我有用的解决方案。

# html - 将 li 向左对齐 IE8

> ID：15611732
> 
> 赞同：0
> 
> 时间：2013-03-25T09:41:21.697
> 
> 标签：html, css, html-lists

您好，我正在尝试将 LI 项目向左对齐。

这是我的代码。我尝试了几种解决方案，但似乎没有任何效果。

**CSS：**

```
ul {
    list-style:none;padding:0
} 
```

**HTML：**

```
 <table  border="0" cellspacing="0" cellpadding="0">   
     <tr>
      <td>
       <ul>
        <li>test</li>
        <li>test</li>
      </ul>     
      </td>  
    </tr>   
   </table> 
```

使用 Chrome，它们会正确地向左对齐。我也可以在 IE 8 中让它对齐吗？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-25T09:55:08.350

**CSS：**

```
ul{margin:0;padding:0;list-style:none} 
```

这行得通。谢谢

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-25T09:59:44.770

使用重置 css 代码：

```
html, body, div, span, applet, object, iframe,
h1, h2, h3, h4, h5, h6, p, blockquote, pre,
a, abbr, acronym, address, big, cite, code,
del, dfn, em, img, ins, kbd, q, s, samp,
small, strike, strong, sub, sup, tt, var,
b, u, i, center,
dl, dt, dd, ol, ul, li,
fieldset, form, label, legend,
table, caption, tbody, tfoot, thead, tr, th, td,
article, aside, canvas, details, embed, 
figure, figcaption, footer, header, hgroup, 
menu, nav, output, ruby, section, summary,
time, mark, audio, video {
    margin: 0;
    padding: 0;
    border: 0;
    font-size: 100%;
    font: inherit;
    vertical-align: baseline;
}
/* HTML5 display-role reset for older browsers */
article, aside, details, figcaption, figure, 
footer, header, hgroup, menu, nav, section {
    display: block;
}
body {
    line-height: 1;
}
ol, ul {
    list-style: none;
}
blockquote, q {
    quotes: none;
}
blockquote:before, blockquote:after,
q:before, q:after {
    content: '';
    content: none;
}
table {
    border-collapse: collapse;
    border-spacing: 0;
} 
```

# java - 在黑莓的 CustomMenu 中调用本机 MenuItem（切换应用程序、关闭等）

> ID：15611733
> 
> 赞同：6
> 
> 时间：2013-03-25T09:41:22.567
> 
> 标签：java, blackberry, menu, java-me

我需要在我的黑莓应用程序中创建一个自定义菜单，以便我可以管理它的外观。我设法通过创建一个扩展 a 的类并将我的自定义菜单作为抽象方法来创建我的`PopupScreen`自`MenuItem`定义`LabelField`菜单`invokeAction()`。我将该`invokeAction()`方法设为抽象以模拟 .run() 方法`MenuItem`。

![在此处输入图像描述](../Images/b8eae8ff94a19d6e7479d306949285ec.png)

一切都很好，但我记得一些事情。如果我的老板让我实现`MenuItem`像**Switch Application**和**Close**这样的 native 怎么办。我不认为实现**Close**会是一个问题，但是**Switch Application**和其他`MenuItem`像**Show Keyboard**这样的本机，这会给我一个问题。所以我想出了另一个解决方案，这是我的代码：

```
public CustomMenu(MainScreen screen) {
        super(vfm);
        Menu menu = screen.getMenu(0);
        for(int i = 0; i < menu.getSize(); i++){
            final MenuItem finalMenu = menu.getItem(i);
            vfm.add(new CustomMenuItem(finalMenu.toString(), Field.FOCUSABLE){
                protected boolean invokeAction(int action) {
                    finalMenu.run();
                    return true;
                }
            });
        }
    } 
```

这是我的构造函数`CustomMenu`。我接受一个实例`MainScreen`作为我的参数来获取列表`MenuItem`并将其添加到我现有的`CustomMenu`. 被`invokeAction()`覆盖的方法是`run()`方法的对应物`MenuItem`。这是我所做的结果：

![在此处输入图像描述](../Images/6c0b6de8357611b70fe21e4f15396923.png)

我设法将那些本机`MenuItem`放在我的`CustomMenu`但问题是当我调用（单击）那些本机`MenuItem`（切换应用程序，关闭）时，我得到了一个`IllegalStateException`. 有没有办法实现那些 native `MenuItem`？还是一种捕获方法的`run()`方法，`MenuItem`然后在 my 中调用它`CustomMenu`？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-06T23:11:19.177

## 更新

从 OP 获得更多澄清后，我相信正确的答案是您**不能**按照他们的要求...创建自己的菜单，并以[编程方式从内置菜单调用 MenuItem 命令/操作](http://supportforums.blackberry.com/t5/Java-Development/Invoke-Application-Switcher/td-p/314723)。

* * *

## 原始答案

如果我理解正确，您想要创建自己的菜单，但您不想使用内置的 BlackBerry 菜单，因为您的菜单需要看起来不同？

如果是这种情况，那么我会建议另一种方法。我认为黑莓*希望*你这样做的方式是[将你的 MenuItem 对象添加到内置的 Menu 中](http://docs.blackberry.com/en/developers/deliverables/11958/Create_a_menu_836422_11.jsp)`Screen`，然后在你的类的`makeMenu()`方法中更改菜单的各种属性：

```
protected void makeMenu(Menu menu, int context) 
```

这是[有关执行此操作的 BlackBerry 文档，](http://docs.blackberry.com/en/developers/deliverables/17971/Chng_appearance_of_a_menu_836418_11.jsp)这是一个示例，它结合了添加上面显示的菜单项以及对菜单外观的一些更改。希望您发现这是一种更简单的方法来做您想做的事，而不必将内置菜单中的 MenuItems*链接到您的：*

```
public class MenuScreen extends MainScreen {
   private Background _menuBackground;
   private Border _menuBorder;
   private Font _menuFont;
   private MenuItem _customMenuItems[];

   public MenuScreen() {
      setTitle("Custom Menu Sample");
      getMainManager().setBackground(BackgroundFactory.createSolidBackground(Color.BLACK));

      RichTextField f = new RichTextField("Creating a custom menu") {                   

         protected void paint(Graphics g) {
            int oldColor = g.getColor();
            g.setColor(Color.WHITE);
            super.paint(g);
            g.setColor(oldColor);
         }
      };
      add(f);

      // Customize the look (border/color/font) of the BB menu here:
      XYEdges thickPadding = new XYEdges(10, 10, 10, 10);
      _menuBorder = BorderFactory.createRoundedBorder(thickPadding, Border.STYLE_DOTTED);        
      _menuBackground = BackgroundFactory.createSolidTransparentBackground(Color.DARKMAGENTA, 80);

      try
      {
         FontFamily family = FontFamily.forName("BBCasual");
         _menuFont = family.getFont(Font.PLAIN, 30, Ui.UNITS_px);
      }
      catch (final ClassNotFoundException cnfe)
      {
         UiApplication.getUiApplication().invokeLater(new Runnable()
         {
            public void run()
            {
               Dialog.alert("FontFamily.forName() threw " + cnfe.toString());
            }
         });              
      }       

      // Add our own menu items, too
      _customMenuItems = new MenuItem[3];
      _customMenuItems[0] = new MenuItem("Hola Dora!", 110, 10) {
         public void run() {
            Dialog.inform("Hola Dora!");
         }
      };
      _customMenuItems[1] = new MenuItem("Close popup!", 111, 10) {
         public void run() {
            Dialog.inform("Close popup!");
         }
      };
      _customMenuItems[2] = new MenuItem("Hola Diego!", 112, 10) {
         public void run() {
            Dialog.inform("Hola Diego!");
         }
      };

      addMenuItem(_customMenuItems[0]);
      addMenuItem(_customMenuItems[1]);
      addMenuItem(_customMenuItems[2]);      
   }

   protected void makeMenu(Menu menu, int context)
   {
      menu.setBorder(_menuBorder);
      menu.setBackground(_menuBackground);
      menu.setFont(_menuFont);
      // invoking super.makeMenu() will add {Close, Switch Application, etc.} items
      super.makeMenu(menu, context);
   }
} 
```

## 结果

![在此处输入图像描述](../Images/c1d66165eba30145ad298e2d7d057a46.png)

**注意**：如果您只需要支持 OS 6.0 及更高版本，您还有其他一些选择（让我们知道）。此外，您编写自己的菜单的动机可能是因为您想更改字体颜色，我认为您无法使用我上面显示的代码来做到这一点。同样，如果这是您设计的一部分，请告诉我们。谢谢。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-06T10:12:47.343

这些链接**可能**对您有所帮助

[在 Blackberry 中创建 CUSTOM MENU(Blogspot)](http://alishaik001.blogspot.in/2013/04/create-custom-menu-in-blackberry-example.html)

和

[在 Blackberry(WordPress) 中创建自定义菜单](http://alishaik001.wordpress.com/2013/04/06/create-custom-menu-in-blackberry-example/)

# c# - C#-电子邮件的正则表达式，但不包括“hotmail,gmail,yahoo”

> ID：15611734
> 
> 赞同：1
> 
> 时间：2013-03-25T09:41:22.877
> 
> 标签：c#, regex

如何重写此正则表达式以匹配所有电子邮件地址，但不匹配
包含“ **hotmail、gmail 和 yahoo** ”的电子邮件地址。到目前为止，我写了这个：

```
^([a-zA-Z0-9_\-\.]+)@(?<!hotmail|gmail|yahoo)((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([a-zA-Z0-9\-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$ 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-25T09:57:15.967

通过删除 ，将负后瞻更改为负前瞻`<`，并将其重新定位如下

```
^([a-zA-Z0-9_\-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(?!hotmail|gmail|yahoo)(([a-zA-Z0-9\-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$ 
```

以上假设`"hotmail,gmail and yahoo"`将直接遵循`@`.

较短的等价物：

```
@"^([\w.-]+)@(\[(\d{1,3}\.){3}|(?!hotmail|gmail|yahoo)(([a-zA-Z\d-]+\.)+))([a-zA-Z]{2,4}|\d{1,3})(\]?)$" 
```

# javascript - Javascript/jquery 复杂加法

> ID：15611740
> 
> 赞同：0
> 
> 时间：2013-03-25T09:41:33.403
> 
> 标签：javascript, jquery

请参考下面的代码。

```
 currentAxis.Range.Start = 1956.9

    tempInterval = currentAxis.Range.Start

    currentAxis.Range.Interval = 0.4

    tempInterval += currentAxis.Range.Interval; 
```

它将返回值 `1957.3000000000001`而不是`1957.3`. 我不想使用该`toFixed()`方法删除点中的十进制值，因为有时间隔值会`0.0004` 在该点之后返回 4 位。根据间隔，它会有所不同。

我需要`1956.9 +0.4= 1957.3` 不使用`toFixed()`方法。我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-25T09:45:34.073

尝试乘以 10，固定为小数并除以 10。

使用 ：

```
Math.round((1956.9 +0.4)*10)/10           // Output 1957.3 
```

或者简单地说：

```
(((1956.9 + 0.4)*10)<<0)/10               // Output 1957.3 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-25T10:43:49.610

如前所述，这种不确定性是浮点数所固有的，[javascript 只支持浮点数](https://stackoverflow.com/questions/4703725/integers-in-javascript)而不是整数。但是，如果您的舍入误差在 1957.3000000000001 区域内，并且您关心的最精确计算在 1957.0004 区域内，那么您可以避免数百万次计算，而不必担心舍入误差会显着影响您的结果。

# css - IE9 中的背景图像无法正常工作

> ID：15611744
> 
> 赞同：2
> 
> 时间：2013-03-25T09:41:53.240
> 
> 标签：css, internet-explorer-9, background-image

我创建了一个带有背景图像的文本框。该代码在 Firefox 中正常工作，但在`IE9`. 这是我创建的代码：

```
<input type="text"class="tbox" />

.tbox
{
    height:40px;
    width:290px;
    padding-left:5px;
    padding-right:46px;
    background:url(user-image2.jpg) no-repeat right;
    background-size:40px 35px;
    border:2px solid rgba(128,255,0,1);
    position:relative;
} 
```

谁能帮我编写适合所有类型浏览器的代码..

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-25T10:03:02.247

一些评论指出它可能是兼容模式。它也可能是怪癖模式。这似乎是一个很可能的原因，因为您引用的 CSS 在 IE9 中应该非常好。

要检查浏览器的模式，请按 F12 调出开发工具窗口。该模式应显示在此窗口的右上角。如果它处于 IE7 或 IE8 模式或 quirks 模式，应该相当清楚。IE9 标准以外的任何东西都将成为您的问题。

所以现在的问题是如何避免浏览器使用错误的模式。

它可能选择错误的模式有几个原因。

*   *怪癖模式*- 这是一种 IE5 兼容模式。它会使您的页面看起来非常错误。IE9 进入 quirks 模式的最常见原因是如果您忘记`<!DOCTYPE>`在页面顶部包含声明，或者它存在但无效。

    通过确保 HTML 代码的第一行如下所示来解决此问题：

    ```
    <!DOCTYPE html> 
    ```

*   *IE7/8 兼容模式*- 如果 IE9 认为页面有错误提示它应该使用它们，或者如果用户已配置浏览器这样做，IE9 有时会进入兼容模式。[您应该通过W3C Validator](http://validator.w3.org/)运行您的 HTML 代码并更正它发现的任何错误；这可能会有所帮助。

    您还可以尝试通过包含元标记来强制 IE 使用其最佳可用呈现模式，如下所示：

    ```
    <meta http-equiv="X-UA-Compatible" content="IE=edge"> 
    ```

把它放在你的 HTML`<head>`部分。这将告诉 IE 尽可能避免使用兼容模式。

希望有帮助。

# c# - Windows 窗体组合框 Selecteditem

> ID：15611749
> 
> 赞同：0
> 
> 时间：2013-03-25T09:42:19.577
> 
> 标签：c#, combobox, windows-forms-designer

在列表视图行中编辑特定记录时，如何将该值获取到相应的组合框选定项/值？

组合框处于下拉列表样式模式，因此所选文本将不起作用。

我试过这个：

```
cbBrand.SelectedItem = lvMain.SelectedItems[0].SubItems[1].ToString(); 
```

但我进入`null`了相应的组合框 selecteditem ... :(

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-27T12:04:51.070

我让它像这样工作：

```
int xcb;
xcb = this.cbBrand.FindString(lvMain.SelectedItems[0].SubItems[1].Text);
this.cbBrand.SelectedIndex = xcb; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-25T09:48:35.453

您可以使用 SelectedValue 属性。

# php - 强迫用户在继续像推特一样之前关注其他人

> ID：15611750
> 
> 赞同：0
> 
> 时间：2013-03-25T09:42:22.540
> 
> 标签：php, jquery

我在本地微博平台上工作，我很乐意在注册期间让成员关注社区中一定数量的其他成员（比如说 5 个），从而禁用提交按钮，直到他们关注所需数量的成员。

我目前能够调用成员列表并允许新用户关注或取消关注成员，但似乎无法弄清楚如何强制他们在继续之前关注成员数量。

以下是我用来处理关注和取消关注的脚本：

```
$(document).ready(function()
{
    $("btn.red").hover(function()
    {
        $(this).text("Unfollow");
    },function()
    {
        $(this).text("Following");
    });
 });

 //Perform the Following and Unfollowing work
function follow_or_unfollow(id,action)
{
    var dataString = "username=<?php echo $username;?>&id=" + id;
    $.ajax({  
        type: "POST",  
        url: "follow.php",  
        data: dataString,
        beforeSend: function() 
        {
            if ( action == "following" )
            {
                $("#following"+id).hide();
                $("#loading"+id).html('<img src="assets/img/coming.gif" align="absmiddle" alt="Loading...">');
            }
            else if ( action == "follow" )
            {
                $("#follow"+id).hide();
                $("#loading"+id).html('<img src="assets/img/coming.gif" align="absmiddle" alt="Loading...">');
            }
            else { }
        },  
        success: function(response)
        {
            if ( action == "following" ){
                $("#loading"+id).html('');
                $("#follow"+id).show();

            }
            else if ( action == "follow" ){
                $("#loading"+id).html('');
                $("#following"+id).show();
            }
            else { }
        }
    }); 
} 
```

将不胜感激任何可能的帮助。提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-25T09:59:41.850

一个想法是：

在`follow.php`脚本中：

在完成关注某人的必要步骤后，检查用户是否关注了所需数量的用户，如果是，则回显“OK”，否则回显“KO”。

在 JavaScript 脚本中：

这将`response`在您的 javascript 回调中的变量中捕获：

```
success: function(response)
{
     if(response=='OK'){
          // do something to enable the user to continue. Like enable the continue button.
     } 
```

# objective-c - 从它的选项卡访问常规 UITabBarController 属性？

> ID：15611761
> 
> 赞同：0
> 
> 时间：2013-03-25T09:42:45.963
> 
> 标签：objective-c, xcode, sdk

我会描述我想做什么。我有登录页面（ViewController）。

登录后，我传递给 UITabBarController - MainTabBar.m。这个 MainTabBar 有 'key' 属性，它从登录页面获取用户密钥。

UITabBarController 有 2 个选项卡 - Tab1.m、Tab2.m。

我想从每个选项卡访问 MainTabBar 属性。

我该怎么做？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-25T09:47:57.913

假设 Tab1 和 Tab2 是 UIViewController 子类，您可以访问 Tab1.m 或 Tab2.m 中的 key 属性，如下所示：

```
#import MainTabBar.h
//...//

// Getting the parent TabBarController
MainTabBar *parentTabBarController = (MainTabBar *)self.tabBarController;

// Getting the key property from the parent TabBarController
NSString *theUserKey = parentTabBarController.key; 
```

希望能帮助到你！

# java - 从字符串中提取子字符串 - 正则表达式

> ID：15611762
> 
> 赞同：1
> 
> 时间：2013-03-25T09:42:46.163
> 
> 标签：java, regex

我有一个字符串说：

```
<encoded:2,Message request> 
```

现在我想从上面的行中提取`2`和`Message request`。

```
private final String pString = "<encoded:[0-9]+,.*>";
    private final Pattern pattern = Pattern.compile(pString);

    private void parseAndDisplay(String line) {

        Matcher matcher = pattern.matcher(line);
        if (matcher.matches()) {
            while(matcher.find()) {
                String s = matcher.group();
                System.out.println("=====>"+s);

            }
        }
    } 
```

这不会检索它。它有什么问题

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-25T09:44:18.937

您必须在您的正则表达式中定义组：

```
"<encoded:([0-9]+),(.*?)>" 
```

或者

```
"<encoded:(\\d+),([^>]*)" 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-25T09:53:57.773

尝试

```
 String s = "<encoded:2,Message request>";
    String s1 = s.replaceAll("<encoded:(\\d+?),.*", "$1");
    String s2 = s.replaceAll("<encoded:\\d+?,(.*)>", "$1"); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-25T09:48:38.323

尝试

```
"<encoded:([0-9]+),([^>]*)" 
```

此外，正如其他评论中所建议的，使用`group(1)`和`group(2)`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-25T09:58:43.927

试试这个：

```
 Matcher matcher = Pattern.compile("<encoded:(\\d+)\\,([\\w\\s]+)",Pattern.CASE_INSENSITIVE).matcher("<encoded:2,Message request>");

    while (matcher.find()) {
        System.out.println(matcher.group(1));
        System.out.println(matcher.group(2));
    } 
```

# jquery - 替代 animate.css 到 fadeInDown？

> ID：15611769
> 
> 赞同：0
> 
> 时间：2013-03-25T09:42:57.353
> 
> 标签：jquery, fadein, animate.css

我正在使用 jScrollPane，当我将 animate.css 应用于页面时它会崩溃。所以我需要一个fadeInDown的“东西”。我看到 jQuery 有自己的 fadeIn 函数，但我需要它在下降时淡入。你知道任何替代方案吗？如果它的跨浏览器会很棒。

编辑：对不起，我忘了提到页面加载时将使用fadeInDown，而不是通过单击或任何其他行为。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-25T09:47:09.523

你可以这样做：

```
$(elem1).click(function(){
   elemToFade = $(elem2);
   elemToFade.animate({'opacity':'0', 'top':'50px'}, 1000);
}); 
```

### [找一个简短的演示](http://jsfiddle.net/zNQSR/)

```
$('.elem').click(function(){
   elemToFade = $(this);
   elemToFade.animate({'opacity':'0', 'top':'50px'}, 1000, function(){
      elemToFade.hide();
    });
}); 
```

### [查找另一个演示](http://jsfiddle.net/zNQSR/1/)

* * *

反对最新评论：

```
function movenhide(elemToFade){
   elemToFade.animate({'opacity':'0', 'top':'50px'}, 1000, function(){
      elemToFade.hide();
    });
}

$(function(){  // <------on page load
   movenhide($('div'));
}); 
```

### [查找加载演示](http://jsfiddle.net/zNQSR/3/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-25T10:35:49.880

你可以试试[淡出](http://api.jquery.com/fadeOut/)

```
$(function() {
    $('#elem').fadeOut();
}); 
```

# multithreading - CoGetInterfaceAndReleaseStream 让我的线程挂起

> ID：15611771
> 
> 赞同：0
> 
> 时间：2013-03-25T09:43:06.337
> 
> 标签：multithreading, visual-c++, com

```
UINT __stdcall CExternal::WorkThread( void * pParam)
{
    HRESULT hr;
    CTaskBase* pTask;
    CComPtr<IHTMLDocument3> spDoc3;
    CExternal* pThis = reinterpret_cast<CExternal*>(pParam);

    if (pThis == NULL)
        return 0;

    // Init the com
    ::CoInitializeEx(0,COINIT_APARTMENTTHREADED);
    hr = ::CoGetInterfaceAndReleaseStream(
        pThis->m_pStream_,
        IID_IHTMLDocument3,
        (void**)&spDoc3);

    if(FAILED(hr))
        return 0;

    while (pThis->m_bShutdown_ == 0) 
    {
        if(pThis->m_TaskList_.size()) 
        {
            pTask = pThis->m_TaskList_.front();
            pThis->m_TaskList_.pop_front();

            if(pTask) 
            {
                pTask->doTask(spDoc3); //do my custom task
                delete pTask;
            }
        } 
        else
        {
            Sleep(10);
        }
    }

    OutputDebugString(L"start CoUninitialize\n");
    ::CoUninitialize(); //release com
    OutputDebugString(L"end CoUninitialize\n");
    return 0;
} 
```

上面让我的线程挂起的代码，唯一的输出是“start `CoUninitialize`”。

```
m_hWorker_ = (HANDLE)_beginthreadex(NULL, 0, WorkThread, this, 0, 0); 
```

这段代码启动了我的线程，但是线程无法安全退出，所以它等待。这段代码有什么问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-25T11:19:56.723

问题不在此代码中，尽管它违反了核心 COM 要求。这表示当您不再使用接口指针时应该释放它们，调用 IUnknown::Release()，并且单元线程线程必须泵送消息循环。尤其是消息循环很重要，当单线程对象（如浏览器）的所有者线程没有抽水时，您将陷入死锁。

CoUninitialize() 被迫清理 spDoc3 包装的接口指针，因为您自己没有这样做。从代码中可以清楚地看出，接口指针的所有者实际上是在另一个线程上运行的，通常要记住这一点，因为这几乎违背了启动自己的工作线程的意义。创建自己的 STA 线程并不能解决此问题，它仍然是错误的线程。

所以代理需要上下文切换到拥有浏览器对象的单元。这个单元的硬性要求是泵送一个消息循环，以便可以在正确的线程上分派调用，以便安全地调用 Release() 函数。当您的程序关闭时，该线程不再发送消息的可能性非常高。您应该能够在调试器中看到的东西，在 Debug + Windows + Threads 窗口中找到所有者线程并查看它在做什么。

死锁是常见的结果。修复它的唯一好方法是以正确的顺序关闭线程，这个必须在拥有浏览器对象的线程之前关闭。当线程具有这样的相互依赖关系时，干净地关闭多线程程序可能非常困难。C++11 std::quick_exit() 添加背后的灵感。

# iphone - 如何在mapView中添加折线

> ID：15611772
> 
> 赞同：0
> 
> 时间：2013-03-25T09:43:12.007
> 
> 标签：iphone, objective-c, xcode, cllocation, polyline

我会在我的地图视图中插入一条折线！我是这样做的

```
 CLLocationCoordinate2D coord[2];
coord[1].latitude = 45.42207;
coord[1].longitude = 9.123888;
coord[2].latitude = 45.422785;
coord[2].longitude = 9.12377;

MKPolyline *polyline = [[MKPolyline alloc] init];
polyline = [MKPolyline polylineWithCoordinates:coord count:2];

[self.mapView addAnnotation:polyline]; 
```

但是不工作并且有这个错误：EXC_BAD_ACCESS。怎么了？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-25T09:45:22.723

C 中的数组索引从索引 0 开始，而不是 1：

```
CLLocationCoordinate2D coord[2];
coord[0].latitude = 45.42207;
coord[0].longitude = 9.123888;
coord[1].latitude = 45.422785;
coord[1].longitude = 9.12377; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-25T09:57:37.373

尝试这个

```
CLLocationCoordinate2D coord[2];
coord[0].latitude = 45.42207;
coord[0].longitude = 9.123888;
coord[1].latitude = 45.422785;
coord[1].longitude = 9.12377;

MKPolyline *polyline = [[MKPolyline alloc] init];
polyline = [MKPolyline polylineWithCoordinates:coord count:2];

- (MKOverlayView *)mapView:(MKMapView *)mapView viewForOverlay:(id <MKOverlay>)overlay {

    MKPolylineView *polyLineView = [[MKPolylineView alloc] initWithPolyline:polyline];
    polyLineView.fillColor = [UIColor blueColor];
    polyLineView.strokeColor = [UIColor greenColor];
    polyLineView.lineWidth = 7;
    return polyLineView;
} 
```

# spring - Spring Web Api，解析 URL

> ID：15611774
> 
> 赞同：0
> 
> 时间：2013-03-25T09:43:14.870
> 
> 标签：spring, api, url, web

你好，我是春天的新人。我正在开发 Spring Web Api，但在使用正则表达式解析 URL 时遇到问题。我已经看过以下帖子：

```
http://stackoverflow.com/questions/7841770/optional-path-variables-in-spring-mvc-requestmapping-uritemplate
http://stackoverflow.com/questions/12516969/spring-mvc-getting-pathvariables-containing-dots-and-slashes
http://stackoverflow.com/questions/8998419/requestmapping-annotation-in-spring-mvc 
```

但我还没有找到解决我的问题的方法。我希望我的所有请求都映射到一个方法，URL 的长度可以是可变的，参数的数量也可以是可变的。我想用变量 pathValue 捕获整个 url，而不是直到斜杠 /：

@RequestMapping(value = "{pathValue}", method = RequestMethod.GET)

我在 Spring 中测试过的所有正则表达式都在斜杠 (/......./) 之间捕获内容，并且不考虑剩余的 URL。

要点是，我想在一个方法中解析 url，这意味着所有请求都映射到该方法。有没有办法在春天实现这一目标？

非常感谢您的帮助和建议。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-25T10:15:39.340

如果您真的想将所有请求分派给一个处理程序，那么您根本不需要 spring 方法分派器。

相反，您可以拥有自己的请求处理程序

```
<bean class="org.springframework.web.servlet.handler.SimpleUrlHandlerMapping">
     <property name="urlMap">
         <map>
              <entry key="/**" value="myCatchAllResourceHandler" />
         </map>
     </property>
     <property name="order" value="100000" />       
</bean>

<bean id="myCatchAllResourceHandler" name="myCatchAllResourceHandler"
      class="MyCatchAllResourceHandler">
</bean> 
```

您必须实现自己的请求处理程序

```
public class MyCatchAllResourceHandler extends HttpRequestHandler() {

    /**
     * Process the given request, generating a response.
     * @param request current HTTP request
     * @param response current HTTP response
     * @throws ServletException in case of general errors
     * @throws IOException in case of I/O errors
     */
    void handleRequest(HttpServletRequest request, HttpServletResponse response)
                   throws ServletException, IOException;
         System.out.println("I get invoked");       
    }
} 
```

**但老实说，这几乎就像把所有的 Spring MVC 都扔掉了！**

# c# - Html图像控件不显示图像

> ID：15611775
> 
> 赞同：0
> 
> 时间：2013-03-25T09:43:16.870
> 
> 标签：c#, html, image, src

下面是我的 html 图像控件：

```
<img alt="" src="C:\Users\hkalidindi\Desktop\Feedback.jpg" style="height: 19px; width: 20px"/> 
```

![我的 aspx 设计页面显示图像](../Images/f788ede0dcfabcb772708d1ff74f0858.png)

但调试后它没有显示任何图像：

![调试后图像不可见](../Images/cc89eeeb76d63285f77d14aac5f5b623.png)

我是 dotnet 的新手..请帮我解决这个问题...我知道如何在图像控件中显示图像，但我对 html 图像控件有点困惑...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-25T09:52:57.680

仅使用来自您网站内容的图像。因此，将图像复制到您的网站文件夹中，例如“图像”并以`<img alt="" src="..\images\Feedback.jpg" style="height: 19px; width: 20px"/>`. 或者您可以使用 Asp.NET Image 控件并使用在服务器代码中设置图像路径

```
myImage.ImageUrl=Server.MapPath("Images\Feedback.jpg"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-25T09:53:59.500

```
<img src="URL"> 
```

这里的 URL = 图片的 URL。

可能的值（对于 src）：

**绝对 URL** - 指向另一个网站（如 src="http://www.example.com/image.gif"）

**相对 URL** - 指向网站内的文件（如 src="image.gif"）

参考：[HTML src 属性](http://www.w3schools.com/tags/att_img_src.asp)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-25T09:44:59.470

“C:\用户\hkalidindi\桌面\”

仅在本地，尝试将其上传到[http://imageshack.us](http://imageshack.us)、[http://tinypic.com](http://tinypic.com)等网站，获取直接链接并将其放入源中。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-25T09:56:15.223

您正在尝试调用本地文件夹中的图像。将图像添加到解决方案中的“图像”文件夹并链接到该文件夹​​。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-25T10:02:14.867

确保从您网站应用程序/目录中的文件夹中引用图像。然后你可以简单地通过使用这样的标签来引用它：

```
<asp:Image id="imgFeedback" runat="server" ImageUrl="~/_common/img/feedback.jpg" /> 
```

或者在服务器端设置图片路径：

```
this.imgFeedback.ImageUrl = Server.MapPath("\_common\img\feedback.jpg\"); 
```

# c# - 在 C# 中有效使用指向任意内存位置的原始指针

> ID：15611778
> 
> 赞同：3
> 
> 时间：2013-03-25T09:43:32.207
> 
> 标签：c#, pointers, unmanaged, unmanaged-memory

在下面的代码中，我构建了一个指向位于任意内存位置的结构的指针：

```
[StructLayout(LayoutKind.Explicit)]
public struct S
{
    [FieldOffset(0)] int f0;
    [FieldOffset(4)] int f4;

    public static void Main() {
        unsafe {
            S* rawPtr = (S*)0x1234;
            rawPtr->f0 = 42;
        }
    }
} 
```

如果我将`f4`'s type 更改为`object`而不是`int`，则会收到错误[Compiler Error CS0208: Cannot take the address of, get the size of, or declare a pointer to a managed type ('type')](http://msdn.microsoft.com/en-gb/library/x2estayf%28v=vs.90%29.aspx)。

允许在（不仅仅是）级别`struct S`上在该类型上构建指针的约束是什么？`CIL``C#`

[MSDN 上的这个页面](http://msdn.microsoft.com/en-gb/library/y31yhkeb%28v=vs.90%29.aspx)说`sbyte`, `byte`, `short`, `ushort`, `int`, `uint`, `long`, `ulong`, `char`, `float`, `double`, `decimal`, `bool`, 枚举和指针是允许的，以及“仅包含非托管类型字段的用户定义的结构类型”，但没有指定什么是非托管类型是。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-25T11:17:31.060

我在网上找不到易于导航的 ECMA-335 版本，但[ECMA-334 第 27.2 段](http://en.csharp-online.net/ECMA-334%3a_27.2_Pointer_types)说：

> *非托管类型*是不是*引用类型*、 *类型参数*或泛型*结构类型*的任何类型，并且不包含类型不是*非托管类型*的字段。换句话说，*非托管类型*是以下之一：
> 
> *   `sbyte`, `byte`, `short`, `ushort`, `int`, `uint`, `long`, `ulong`, `char`, `float`, `double`, `decimal`, 或`bool`.
>     
>     
> *   任何*枚举类型*。
>     
>     
> *   任何*指针类型*。
>     
>     
> *   任何仅包含*非托管类型*字段的非通用用户定义*结构*类型。
>     
>     
> 
>  *[*注意*：构造类型和*类型参数*绝不是非 *托管类型*。*尾注*]*

 *结构的包装模式似乎与这种区别无关。*

# c++ - 为什么 delete 仅在 main 中起作用，而在将要删除的对象作为输入的函数中不起作用？

> ID：15611780
> 
> 赞同：0
> 
> 时间：2013-03-25T09:43:36.677
> 
> 标签：c++, class, instantiation, instances

我正在尝试创建两个类，它们的实例一起创建和删除。一个类是另一个类的基础：

```
class Interface;

class MyClass
{
friend class Interface;
private:
  MyClass() {}
public:
  static MyClass *NewInstance();
  Interface *ControlPanel;
};

class Interface : public MyClass
{
friend class MyClass;
private:
  Interface() {}
public:
  void Control1() {cout << "control1" << endl;}
  void Control2() {cout << "control2" << endl;}
  void Control3() {cout << "control3" << endl;}
}; 
```

应该创建和删除实例的两个成员函数是：

```
MyClass *MyClass::NewInstance()
{
  MyClass *inst = new MyClass;
  inst->ControlPanel = new Interface;
  return inst;
}

void DeleteMyClassInstance(MyClass *inst)
{
  delete inst->ControlPanel;
  inst->ControlPanel = 0;
  delete inst;
  inst = 0;
} 
```

我成功地将实例创建过程与`NewInstance()`创建实例的基类 ( ) 中的函数的使用联系起来。但是删除函数`DeleteMyClassInstance()`（`inst1``inst1->ControlPanel`

```
int main()
{
  MyClass *inst1 = MyClass::NewInstance();

  inst1->ControlPanel->Control1();

  DeleteMyClassInstance(inst1);

  inst1->ControlPanel->Control1();

  return 0;
} 
```

但是如果我将删除代码放在主函数中，它可以完美运行（`inst1->ControlPanel->Control1()`删除语句之后的语句不起作用，这就是我想要的）：

```
int main()
{
  MyClass *inst1 = MyClass::NewInstance();

  inst1->ControlPanel->Control1();

  delete inst->ControlPanel;
  inst->ControlPanel = 0;
  delete inst;
  inst = 0;

  inst1->ControlPanel->Control1();

  return 0;
} 
```

我的问题是：为什么将 delete 语句直接放在 main 函数中，而将它们放在单独的函数中并在 main 中使用它却不行？为什么我的`DeleteMyClassInstance()`函数中的代码会被编译器忽略？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-25T09:51:55.997

主要区别在于函数中的代码将`main`函数`inst=0`中的变量设置`main`为null。使用 in 中的代码`DeleteMyInstance`，该行`inst=0`仅将局部变量 in 设置`DeleteMyInstance`为 null （无用，因为在那之后它未使用 - 启用更多警告并且您的编译器可能会提到它）。它不会影响`main`.

所以，你的代码

```
DeleteMyClassInstance(inst1);
inst1->ControlPanel->Control1(); 
```

具有未定义的行为，因为您尝试使用已被删除的对象。UB 意味着任何事情都可能发生。如果它看起来有效，那可能是因为在您的实现中，`Control1`即使在空（或其他无效）指针上调用该函数仍然“有效”，因为该函数不使用`this`或任何数据成员。但不应依赖该实施细节。

请注意（如果您还没有的话）您的代码显示了一些糟糕的 C++ 风格。您不应该编写特殊函数来删除您的类拥有的对象，这就是析构函数的用途。而且您不必在析构函数中显式删除对象，这就是智能指针的用途。而且您不应该在不需要时使用动态分配，这就是自动变量和数据成员的用途。一定要把这段代码弄好一次，作为一个学习练习，幕后发生的事情，但这应该是为了尽快正确地完成它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-25T09:50:53.007

将您的 DeleteMyClassInstance 函数更改为。

```
void DeleteMyClassInstance(MyClass **inst)
{
  delete (*inst)->ControlPanel;
  (*inst)->ControlPanel = 0;
  delete (*inst);
  *inst = 0;
} 
```

# python-3.x - Python中的斐波那契数列逻辑

> ID：15611781
> 
> 赞同：0
> 
> 时间：2013-03-25T09:43:40.453
> 
> 标签：python-3.x, fibonacci

我正在阅读的教程有以下程序

```
# This program calculates the Fibonacci sequence
a = 0
b = 1
count = 0
max_count = 20
while count < max_count:
    count = count + 1
    old_a = a    # we need to keep track of a since we change it
    print(old_a,end=" ")   # Notice the magic end=" " in the print function arguments that
                           # keeps it from creating a new line
    a = b
    b = old_a + b
print() # gets a new (empty) line 
```

代码很完美。但是，我无法弄清楚如何计算序列。如何更改值以创建序列？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-25T09:53:08.597

如果您删除所有这些无关代码，它会更有意义：

```
while count < max_count:
    old_a = a
    a = b
    b = old_a + b 
```

这`old_a`可能会让你感到困惑。这是写这个的漫长道路：

```
a, b = b, a + b 
```

`a`与`b`和（同时）交换，`b`与`a + b`。请注意，它*与*编写不同：

```
a = b
b = a + b 
```

因为当你重新定义`b`时，`a`已经拥有它的新值，即等于`b`。

我还会通过在纸上写下来手动运行代码。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-25T10:01:09.467

此代码工作正常：

```
a, b = 0, 1
for _ in range(20):
        print a
        a, b = b, a+b 
```

# ios - 设置日期格式化程序

> ID：15611786
> 
> 赞同：-1
> 
> 时间：2013-03-25T09:43:59.903
> 
> 标签：ios, nsdateformatter

我有一些这样的代码：

```
NSString *dateStr = @"23 03 2013";
NSDateFormatter *df1 = [[NSDateFormatter alloc] init];
[df1 setDateFormat:@"d MM yyyy"];
NSDate *date1 = [df1 dateFromString:dateStr];
NSDateFormatter *df2 = [[NSDateFormatter alloc] init];
[df2 setDateFormat:@"MMMM d YYYY"];
NSString *s = [df2 stringFromDate:date1];
NSLog(@"my new Date is %@",s);

//Output : March 23 2013 
```

但我想要这样：2013 年 3 月 23 日，如何解决？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-25T09:44:52.317

利用：

```
[df2 setDateFormat:@"MMMM d'rd' YYYY"]; 
```

**注意，对于 21st, 22nd, rd, th 等，您需要检查使用条件，然后更改格式化程序*

```
NSString *dateStr = @"23 03 2013";
NSDateFormatter *df1 = [[NSDateFormatter alloc] init];
[df1 setDateFormat:@"d MM yyyy"];
NSDate *date1 = [df1 dateFromString:dateStr];
NSDateFormatter *df2 = [[NSDateFormatter alloc] init];

NSDateFormatter *dfDate=[NSDateFormatter new];
[dfDate setDateFormat:@"dd"];

NSCalendar *calendar = [NSCalendar currentCalendar];
NSDateComponents *components = [calendar components:NSMonthCalendarUnit|NSDayCalendarUnit fromDate:date1];

NSInteger dayValue=[components day];
/*
switch (dayValue) {
    case 1:
    case 21:
    case 31:
        [df2 setDateFormat:@"MMMM d'st' YYYY"];
        break;
    case 2:
    case 22:
        [df2 setDateFormat:@"MMMM d'nd' YYYY"];
        break;
    case 3:
    case 23:
        [df2 setDateFormat:@"MMMM d'rd' YYYY"];
        break;
    case 4:
    case 5:
    case 6:
    case 7:
    case 8:
    case 9:
    case 10:
    case 11:
    case 12:
    case 13:
    case 14:
    case 15:
    case 16:
    case 17:
    case 18:
    case 19:
    case 20:
    case 24:
    case 25:
    case 26:
    case 27:
    case 28:
    case 29:
    case 30:
        [df2 setDateFormat:@"MMMM d'th' YYYY"];
        break;

    default:
        break;
}
*/

NSArray *suffix=@[@"st",@"nd",@"rd",
              @"th",@"th",@"th",@"th",@"th",@"th",@"th",
              @"th",@"th",@"th",@"th",@"th",@"th",@"th",@"th",@"th",
              @"th",
              @"st",@"nd",@"rd",@"th",@"th",@"th",@"th",@"th",@"th",@"th",@"st"];
NSLog(@"%d",[suffix count]);

[df2 setDateFormat:[NSString stringWithFormat:@"MMMM d'%@' YYYY",suffix[dayValue - 1]]];

NSString *s = [df2 stringFromDate:date1];
NSLog(@"my new Date is %@",s); 
```

**注意：我使用了开关，您可以使用数组对其进行重构。**

现在你可以

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-25T09:55:33.303

直接它在IOS中不可用，但我使用以下代码实现了它

```
NSString *dateStr = @"23 03 2013";
NSDateFormatter *df1 = [[NSDateFormatter alloc] init];
[df1 setDateFormat:@"d MM yyyy"];
NSDate *date1 = [df1 dateFromString:dateStr];
NSDateFormatter *df2 = [[NSDateFormatter alloc] init];
[df2 setDateFormat:@"MMMM d YYYY"];
NSString *s = [df2 stringFromDate:date1];

NSDateFormatter *monthDayFormatter = [[NSDateFormatter alloc] init];
[monthDayFormatter setFormatterBehavior:NSDateFormatterBehavior10_4];
[monthDayFormatter setDateFormat:@"d"];
int date_day = [[monthDayFormatter stringFromDate:date1] intValue];
NSString *suffix_string = @"|st|nd|rd|th|th|th|th|th|th|th|th|th|th|th|th|th|th|th|th|th|st|nd|rd|th|th|th|th|th|th|th|st";
NSArray *suffixes = [suffix_string componentsSeparatedByString: @"|"];
NSString *suffix = [suffixes objectAtIndex:date_day];

NSLog(@"Suffix %@",suffix); 
```

# c# - 来自绑定源的数据绑定

> ID：15611787
> 
> 赞同：0
> 
> 时间：2013-03-25T09:44:00.233
> 
> 标签：c#, data-binding, datagridview, bindingsource

在我的 C# WinForm 中，我有一个绑定源和数据网格视图。在 Form_Load 事件上；

```
_bsCompany = new BindingSource();
_listOfCompany = CompanyService.GetListCompany();//Gets a listofCompany
_bsCompany.DataSource = _listOfCompany;

dgvCompany.DataSource = _bsCompany; 
```

我已将其绑定到文本框；

```
txtCompanyID.DataBindings.Add("Text", _bsCompany, "CompanyID"); 
```

这是有效的。当我单击 gridview 中的任何记录时，CompanyID 将显示在文本框中。

我的问题是，如果我从列表中删除其中一家公司，则绑定会卡住，并且文本框不会显示从 datagridview 中选择的值。删除项的值在删除后的文本框中；

我做错了吗？我需要清除并重新绑定文本框吗？

编辑：我已经像这样清除并重新绑定，但同样的问题。

```
txtCompanyID.DataBindings.Clear();
txtCompanyID.DataBindings.Add("Text", _bsCompany, "CompanyID"); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-27T11:42:21.610

Try this instead.

```
 txtCompanyID.DataBindings.Add("Text", dgvCompany.DataSource, "CompanyID"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-02-25T07:55:56.467

好的，我这样做了；（忘记用我如何解决这个问题来更新问题）

```
_listOfCompany.Remove(company);
_bsCompany.ResetBindings(true); 
```

这将重置控件和数据源之间的绑定

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-09-12T01:53:06.970

你可以试试这个

```
txtCompanyID.DataBindings.Add(new Binding("Text", _bsCompany, "CompanyID")); 
```

# php - Mysql在插入时抛出错误

> ID：15611788
> 
> 赞同：0
> 
> 时间：2013-03-25T09:44:03.173
> 
> 标签：php, mysql, sql, sql-insert

我有一张桌子

```
CREATE TABLE IF NOT EXISTS `employee` (
`ID` int(11) NOT NULL AUTO_INCREMENT,
`NAME` varchar(255) DEFAULT NULL,
`SALARY` int(11) DEFAULT NULL,
`DEPT` varchar(10) DEFAULT NULL,
PRIMARY KEY (`ID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1 AUTO_INCREMENT=1 ; 
```

如果我为上表插入值，如下所示，它会抛出错误

```
INSERT INTO employee ('NAME', 'SALARY', 'DEPT') VALUES ('user test', 10000, 'ADMIN'); 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-25T09:45:13.723

删除列名上的单引号。

```
INSERT INTO employee (NAME, SALARY, DEPT) VALUES ('user test', 10000, 'ADMIN'); 
```

单引号用于字符串文字，列名是标识符。服务器抛出异常，因为列需要标识符而不是字符串文字。用单引号包裹标识符会将其转换为字符串。

如果碰巧您拥有的列名和表名是 mysql 保留关键字列表中的关键字之一，则可以使用反引号来分隔。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-25T09:46:10.197

改变这个

```
INSERT INTO employee ('NAME', 'SALARY', 'DEPT') VALUES ('user test', 10000, 'ADMIN'); 
```

至

```
INSERT INTO employee (`NAME`, `SALARY`, `DEPT`) VALUES ('user test', 10000, 'ADMIN'); 
```

# jquery - 在哪里修改fancybox弹出元素位置行为？

> ID：15611790
> 
> 赞同：1
> 
> 时间：2013-03-25T09:44:12.707
> 
> 标签：jquery, css, fancybox, position

我在显示弹出图像的画廊中使用 fancybox 2.1.4。根据默认设置，fancybox 中包含弹出图像的框的位置，将出现固定到屏幕窗口。是否可以使弹出图像框出现固定到 html 页面，而不是屏幕？在哪里修改此弹出位置行为？是在 jquery.fancybox.js 还是 jquery.fancybox.css 中？因为我似乎找不到使其默认修复屏幕的“修复”规则。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-26T06:54:51.570

您必须设置 fancybox API 选项`autoCenter`并`locked`喜欢`false`：

```
$(function () {
    $(".fancybox").fancybox({
        autoCenter: false,
        helpers: {
            overlay: {
                locked: false
            }
        }
    });
}); 
```

在哪里？在您自己的自定义 fancybox 脚本中；无需弄乱原始文件。

见**[JSFIDDLE](http://jsfiddle.net/WSud4/)**

# android - AutoCompleteTextView 的 Suggest List 与软键盘 android 重叠

> ID：15611800
> 
> 赞同：4
> 
> 时间：2013-03-25T09:44:30.443
> 
> 标签：android, android-softkeyboard, autocompletetextview

我有一个`AutocompleteTextView`. 建议列表将在键入 3 个字符时出现。建议列表大小固定，即 8 。除了建议列表与软键盘重叠之外，一切都运行良好。我附上相同的屏幕截图 ![在此处输入图像描述](../Images/722070a29717af3437c4daf87977f02d.png)

应该怎么做，求建议。提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-25T09:55:37.337

尝试设置[android:dropDownHeight](http://developer.android.com/reference/android/widget/AutoCompleteTextView.html#setDropDownHeight%28int%29)

# c++ - 书中的代码未运行 - 旧语法或错误代码？

> ID：15611801
> 
> 赞同：0
> 
> 时间：2013-03-25T09:44:35.477
> 
> 标签：c++, string

我正在通过游戏编程学习开始 C++

在书中我有这个例子：

```
#include <iostream>
#include <cstdlib>
#include <ctime>

using namespace std;

int main (){

    string word1 = "Game";
    string word2("Over");
    string word3(3, '!');

    string phrase= word1 + word2 + word3;
    string phrase= word1 + "" + word2 + word3;

    cout<< " The phrase is: " << phrase << "\n \n";
    cout<< " The phrase has " << phrase.size() << "on it! \n\n";

    cout<< " The character at position 0 is " << phrase[0] << "on it! \n\n";

    cout<< "Changing the character at position 0 \n\n";
    phrase[0] = 'V';
    cout << "The phrase now is " << phrase << "\n\n";

    for( unsigned int i=0; i < phrase.size() ; i++){
        cout << " Character at position "<< i << "is : " << phrase[i] << "\n" ;
    }
    cout << "The word  'Over' begin at " << phrase.find("Over") << endl;

    if (phrase.find("eggplant")==string::npos)
    {
        cout<<"'Eggplant' is not in the phrase"<<endl;
    }
    phrase.erase(4,5);
    cout<<"phrase now is" << phrase << endl;

    phrase.erase();

    if(phrase.empty())
    {
        cout << "phrase is empty" << endl;

    }

    getchar();

} 
```

当我尝试运行代码时，调试会返回：

```
1>------ Build started: Project: GameTestExample, Configuration: Debug Win32 ------
1>  gameover.cpp
1>c:\users\victor\documents\visual studio 2012\projects\gametestexample\gametestexample\gameover.cpp(14): error C2784: 'std::_String_iterator<_Mystr> std::operator +(_String_iterator<_Mystr>::difference_type,std::_String_iterator<_Mystr>)' : could not deduce template argument for 'std::_String_iterator<_Mystr>' from 'std::string'
1>          c:\program files (x86)\microsoft visual studio 11.0\vc\include\xstring(420) : see declaration of 'std::operator +'
1>          c:\program files (x86)\microsoft visual studio 11.0\vc\include\xstring(420) : see declaration of 'std::operator +'
1>          c:\program files (x86)\microsoft visual studio 11.0\vc\include\xstring(420) : see declaration of 'std::operator +'
1>          c:\program files (x86)\microsoft visual studio 11.0\vc\include\xstring(420) : see declaration of 'std::operator +'
1>c:\users\victor\documents\visual studio 2012\projects\gametestexample\gametestexample\gameover.cpp(14): error C2784: 'std::_String_const_iterator<_Mystr> std::operator +(_String_const_iterator<_Mystr>::difference_type,std::_String_const_iterator<_Mystr>)' : could not deduce template argument for 'std::_String_const_iterator<_Mystr>' from 'std::string'
1>          c:\program files (x86)\microsoft visual studio 11.0\vc\include\xstring(288) : see declaration of 'std::operator +'
1>          c:\program files (x86)\microsoft visual studio 11.0\vc\include\xstring(288) : see declaration of 'std::operator +'
1>          c:\program files (x86)\microsoft visual studio 11.0\vc\include\xstring(288) : see declaration of 'std::operator +'
1>          c:\program files (x86)\microsoft visual studio 11.0\vc\include\xstring(288) : see declaration of 'std::operator +'
1>c:\users\victor\documents\visual studio 2012\projects\gametestexample\gametestexample\gameover.cpp(14): error C2784: 'std::move_iterator<_RanIt> std::operator +(_Diff,const std::move_iterator<_RanIt> &)' : could not deduce template argument for 'const std::move_iterator<_RanIt> &' from 'std::string'
1>          c:\program files (x86)\microsoft visual studio 11.0\vc\include\xutility(1947) : see declaration of 'std::operator +'
1>          c:\program files (x86)\microsoft visual studio 11.0\vc\include\xutility(1947) : see declaration of 'std::operator +'
1>          c:\program files (x86)\microsoft visual studio 11.0\vc\include\xutility(1947) : see declaration of 'std::operator +'
1>          c:\program files (x86)\microsoft visual studio 11.0\vc\include\xutility(1947) : see declaration of 'std::operator +'
1>c:\users\victor\documents\visual studio 2012\projects\gametestexample\gametestexample\gameover.cpp(14): error C2784: 'std::_Array_iterator<_Ty,_Size> std::operator +(_Array_iterator<_Ty,_Size>::difference_type,std::_Array_iterator<_Ty,_Size>)' : could not deduce template argument for 'std::_Array_iterator<_Ty,_Size>' from 'std::string'
1>          c:\program files (x86)\microsoft visual studio 11.0\vc\include\xutility(1801) : see declaration of 'std::operator +'
1>          c:\program files (x86)\microsoft visual studio 11.0\vc\include\xutility(1801) : see declaration of 'std::operator +'
1>          c:\program files (x86)\microsoft visual studio 11.0\vc\include\xutility(1801) : see declaration of 'std::operator +'
1>          c:\program files (x86)\microsoft visual studio 11.0\vc\include\xutility(1801) : see declaration of 'std::operator +'
1>c:\users\victor\documents\visual studio 2012\projects\gametestexample\gametestexample\gameover.cpp(14): error C2784: 'std::_Array_const_iterator<_Ty,_Size> std::operator +(_Array_const_iterator<_Ty,_Size>::difference_type,std::_Array_const_iterator<_Ty,_Size>)' : could not deduce template argument for 'std::_Array_const_iterator<_Ty,_Size>' from 'std::string'
1>          c:\program files (x86)\microsoft visual studio 11.0\vc\include\xutility(1662) : see declaration of 'std::operator +'
1>          c:\program files (x86)\microsoft visual studio 11.0\vc\include\xutility(1662) : see declaration of 'std::operator +'
1>          c:\program files (x86)\microsoft visual studio 11.0\vc\include\xutility(1662) : see declaration of 'std::operator +'
1>          c:\program files (x86)\microsoft visual studio 11.0\vc\include\xutility(1662) : see declaration of 'std::operator +'
1>c:\users\victor\documents\visual studio 2012\projects\gametestexample\gametestexample\gameover.cpp(14): error C2784: 'std::reverse_iterator<_RanIt> std::operator +(_Diff,const std::reverse_iterator<_RanIt> &)' : could not deduce template argument for 'const std::reverse_iterator<_RanIt> &' from 'std::string'
1>          c:\program files (x86)\microsoft visual studio 11.0\vc\include\xutility(1226) : see declaration of 'std::operator +'
1>          c:\program files (x86)\microsoft visual studio 11.0\vc\include\xutility(1226) : see declaration of 'std::operator +'
1>          c:\program files (x86)\microsoft visual studio 11.0\vc\include\xutility(1226) : see declaration of 'std::operator +'
1>          c:\program files (x86)\microsoft visual studio 11.0\vc\include\xutility(1226) : see declaration of 'std::operator +'
1>c:\users\victor\documents\visual studio 2012\projects\gametestexample\gametestexample\gameover.cpp(14): error C2784: 'std::_Revranit<_RanIt,_Base> std::operator +(_Diff,const std::_Revranit<_RanIt,_Base> &)' : could not deduce template argument for 'const std::_Revranit<_RanIt,_Base> &' from 'std::string'
1>          c:\program files (x86)\microsoft visual studio 11.0\vc\include\xutility(1031) : see declaration of 'std::operator +'
1>          c:\program files (x86)\microsoft visual studio 11.0\vc\include\xutility(1031) : see declaration of 'std::operator +'
1>          c:\program files (x86)\microsoft visual studio 11.0\vc\include\xutility(1031) : see declaration of 'std::operator +'
1>          c:\program files (x86)\microsoft visual studio 11.0\vc\include\xutility(1031) : see declaration of 'std::operator +'
1>c:\users\victor\documents\visual studio 2012\projects\gametestexample\gametestexample\gameover.cpp(14): error C2676: binary '+' : 'std::string' does not define this operator or a conversion to a type acceptable to the predefined operator
1>c:\users\victor\documents\visual studio 2012\projects\gametestexample\gametestexample\gameover.cpp(15): error C2374: 'phrase' : redefinition; multiple initialization
1>          c:\users\victor\documents\visual studio 2012\projects\gametestexample\gametestexample\gameover.cpp(14) : see declaration of 'phrase'
1>c:\users\victor\documents\visual studio 2012\projects\gametestexample\gametestexample\gameover.cpp(15): error C2784: 'std::_String_iterator<_Mystr> std::operator +(_String_iterator<_Mystr>::difference_type,std::_String_iterator<_Mystr>)' : could not deduce template argument for 'std::_String_iterator<_Mystr>' from 'const char [1]'
1>          c:\program files (x86)\microsoft visual studio 11.0\vc\include\xstring(420) : see declaration of 'std::operator +'
1>c:\users\victor\documents\visual studio 2012\projects\gametestexample\gametestexample\gameover.cpp(15): error C2784: 'std::_String_const_iterator<_Mystr> std::operator +(_String_const_iterator<_Mystr>::difference_type,std::_String_const_iterator<_Mystr>)' : could not deduce template argument for 'std::_String_const_iterator<_Mystr>' from 'const char [1]'
1>          c:\program files (x86)\microsoft visual studio 11.0\vc\include\xstring(288) : see declaration of 'std::operator +'
1>c:\users\victor\documents\visual studio 2012\projects\gametestexample\gametestexample\gameover.cpp(15): error C2784: 'std::move_iterator<_RanIt> std::operator +(_Diff,const std::move_iterator<_RanIt> &)' : could not deduce template argument for 'const std::move_iterator<_RanIt> &' from 'const char [1]'
1>          c:\program files (x86)\microsoft visual studio 11.0\vc\include\xutility(1947) : see declaration of 'std::operator +'
1>c:\users\victor\documents\visual studio 2012\projects\gametestexample\gametestexample\gameover.cpp(15): error C2784: 'std::_Array_iterator<_Ty,_Size> std::operator +(_Array_iterator<_Ty,_Size>::difference_type,std::_Array_iterator<_Ty,_Size>)' : could not deduce template argument for 'std::_Array_iterator<_Ty,_Size>' from 'const char [1]'
1>          c:\program files (x86)\microsoft visual studio 11.0\vc\include\xutility(1801) : see declaration of 'std::operator +'
1>c:\users\victor\documents\visual studio 2012\projects\gametestexample\gametestexample\gameover.cpp(15): error C2784: 'std::_Array_const_iterator<_Ty,_Size> std::operator +(_Array_const_iterator<_Ty,_Size>::difference_type,std::_Array_const_iterator<_Ty,_Size>)' : could not deduce template argument for 'std::_Array_const_iterator<_Ty,_Size>' from 'const char [1]'
1>          c:\program files (x86)\microsoft visual studio 11.0\vc\include\xutility(1662) : see declaration of 'std::operator +'
1>c:\users\victor\documents\visual studio 2012\projects\gametestexample\gametestexample\gameover.cpp(15): error C2784: 'std::reverse_iterator<_RanIt> std::operator +(_Diff,const std::reverse_iterator<_RanIt> &)' : could not deduce template argument for 'const std::reverse_iterator<_RanIt> &' from 'const char [1]'
1>          c:\program files (x86)\microsoft visual studio 11.0\vc\include\xutility(1226) : see declaration of 'std::operator +'
1>c:\users\victor\documents\visual studio 2012\projects\gametestexample\gametestexample\gameover.cpp(15): error C2784: 'std::_Revranit<_RanIt,_Base> std::operator +(_Diff,const std::_Revranit<_RanIt,_Base> &)' : could not deduce template argument for 'const std::_Revranit<_RanIt,_Base> &' from 'const char [1]'
1>          c:\program files (x86)\microsoft visual studio 11.0\vc\include\xutility(1031) : see declaration of 'std::operator +'
1>c:\users\victor\documents\visual studio 2012\projects\gametestexample\gametestexample\gameover.cpp(15): error C2676: binary '+' : 'std::string' does not define this operator or a conversion to a type acceptable to the predefined operator
1>c:\users\victor\documents\visual studio 2012\projects\gametestexample\gametestexample\gameover.cpp(17): error C2088: '<<' : illegal for class
1>c:\users\victor\documents\visual studio 2012\projects\gametestexample\gametestexample\gameover.cpp(20): error C2088: '[' : illegal for class
1>c:\users\victor\documents\visual studio 2012\projects\gametestexample\gametestexample\gameover.cpp(23): error C2088: '[' : illegal for class
1>c:\users\victor\documents\visual studio 2012\projects\gametestexample\gametestexample\gameover.cpp(24): error C2088: '<<' : illegal for class
1>c:\users\victor\documents\visual studio 2012\projects\gametestexample\gametestexample\gameover.cpp(28): error C2088: '[' : illegal for class
1>c:\users\victor\documents\visual studio 2012\projects\gametestexample\gametestexample\gameover.cpp(37): error C2088: '<<' : illegal for class
========== Build: 0 succeeded, 1 failed, 0 up-to-date, 0 skipped ========== 
```

所以，我的意思是，到底发生了什么？无法意识到这是否是诸如“旧语法”之类的问题，我以前从未见过类似的东西，或者代码是否错误（我也不敢相信，没有人会在书中做这样的失败）

我使用 Microsoft Visual Studio Premium 20112 作为开发环境

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-25T09:47:30.167

也用`#include <string>`。

# wso2 - WSO2 产品和 Carbon 版本的兼容性

> ID：15611802
> 
> 赞同：1
> 
> 时间：2013-03-25T09:44:38.067
> 
> 标签：wso2, wso2carbon, wso2dss

我想在 1 个碳管理控制台中包含多个 WSO2 产品。我从 Carbon 4.1.0 开始。但是，在安装功能时，并未列出所有产品（例如 BRS、Identity Server 等）。我知道这些将在未来添加（？）。

您可以在控制台中添加其他存储库，指向其他版本的 Carbon。

现在我的问题是：这会产生一个稳定的环境（多个碳版本）和可以协同工作的产品吗？这是要走的路吗（为多个产品配备 1 个管理控制台）？4.x 碳基产品是否与 3.x 碳基产品兼容？是否有 WSO2 产品版本的概述以及哪些 Carbon 版本包含这些功能？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-25T13:36:35.580

1) 如果没有仔细分析，不建议安装多个功能。实际上，产品经过仔细分析和经过验证的功能组合在一起以解决常见问题。例如，如果您结合了 AS + ESB 功能，是的，您可以拥有它，但它可能会导致 ESB 性能不佳，因为您的服务也托管在同一台服务器上。（同样有很多负面因素）。此外，一些组合没有在生产环境中正确测试，并且会出现一些无法识别的问题，但发布的产品也经过了正确测试并在生产中使用。

2) 不兼容。您不能在 4.x 中安装 3.x 功能。

3）您可以参考此产品概述 [http://wso2.com/products/carbon/release-matrix/](http://wso2.com/products/carbon/release-matrix/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-25T15:23:02.990

关于您最初的问题，在碳 4.1.0 下仍然只发布了 AS(5.1.0)。Rest 将在稍后发布（有时可能与 carbon 4.1.x 或 4.2.x 一起发布）。

# javascript - Facebook 广告转化跟踪 - fb_param.value

> ID：15611803
> 
> 赞同：0
> 
> 时间：2013-03-25T09:44:38.493
> 
> 标签：javascript, facebook, analytics, web-analytics, web-analytics-tools

我正在寻找一些关于安装 Facebook 提供的 Facebook 广告转换跟踪的建议，但奇怪的是，没有提供任何文档。

可以理解，代码是基本的并且*几乎*是不言自明的，但是代码行`fb_param.value = '0.00';`没有说明值应该是什么。考虑到它正在跟踪转换，我会想象它应该是转换的货币价值（例如订单总额），但我在网上看到的复制粘贴的每个代码片段都有这个值`0.00`。

这个对吗？还是我应该通过转化价值来提供？

```
<script type="text/javascript">
var fb_param = {};
fb_param.pixel_id = '6006337211872';
fb_param.value = '0.00';
(function(){
  var fpw = document.createElement('script');
  fpw.async = true;
  fpw.src = '//connect.facebook.net/en_US/fp.js';
  var ref = document.getElementsByTagName('script')[0];
  ref.parentNode.insertBefore(fpw, ref);
})();
</script>
<noscript><img height="1" width="1" alt="" style="display:none" src="https://www.facebook.com/offsite_event.php?id=6006337211872&amp;value=0" /></noscript> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-25T15:11:20.653

是的，`value`如果你想跟踪它，应该是转换的美元（或当地货币等值，我猜）价值：

[https://developers.facebook.com/docs/reference/ads-api/offsite-pixels/](https://developers.facebook.com/docs/reference/ads-api/offsite-pixels/) 文档有点稀疏，但 value 参数被提及为：

`You can specify how much a pixel fire is worth to you using the value field, which should be specified in cents and it defaults to 1 cent if you don't specify it.`

# delphi - TToolbar 与 TForm.DoubleBuffered 不兼容？

> ID：15611807
> 
> 赞同：7
> 
> 时间：2013-03-25T09:44:45.787
> 
> 标签：delphi, toolbar, vcl, delphi-xe3, doublebuffered

我正在使用德尔福 XE3。
当我创建一个新的 VCL 项目并在其上放置一个`TToolbar`时，一切正常 - 除非我激活`Form1.DoubleBuffered`.
从那一刻起，工具栏的绘制就被破坏了——在设计时，它要么是黑色的、透明的，要么是 IDE 的一部分（状态栏、工具栏等）被复制到其中。当我单击它以及更改为源代码 (F12) 并返回时，它会在这些选项之间切换。
在运行时，它总是黑色的。

有了`DrawingStyle=dsGradient`，一切都按预期工作。切换回来`dsNormal`再次打破它。

停用`Form1.DoubleBuffered`修复它。

任何提示如何解决该问题？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-25T10:06:28.963

正如本文所报道的[`When not to use DoubleBuffered`](http://chee-yang.blogspot.se/2010/02/when-not-to-use-doublebuffered.html)，某些控件喜欢设置为 true `TToolBar`，`TRichEdit`但在`DoubleBuffered`属性设置为 true 时效果不佳。

原因可以在文档中找到[`TWinControl.DoubleBuffered`](http://docwiki.embarcadero.com/Libraries/XE2/en/Vcl.Controls.TWinControl.DoubleBuffered)，其中一些 WinControls 无法在临时位图上绘制自己（当`DoubleBuffered`为 true 时会发生这种情况）。

一种解决方法是`TToolBar`将`TPanel`.

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-25T10:16:39.820

在我看来，解决方案是设置`TForm.DoubleBuffered`为`False`. 使用值`True`会导致各种其他问题。在我看来，这个属性在 XP 主题之前运行得相当好，但自从它们出现以来，使用`TForm.DoubleBuffered`一直不可行。

除了您遇到的问题外，我在使用 Windows Basic 主题时还遇到了很多绘画缺陷。我知道这不是主流，但我碰巧在远程访问中看到了很多。还有更多。当您双重缓冲表单时，您会停止主题动画的工作。例如，默认按钮会发出脉冲以指示它是默认按钮。

如果您在没有双缓冲表单的情况下调整大小闪烁，请使用[我对另一个问题的回答中的想法](https://stackoverflow.com/questions/8058745/tlabel-and-tgroupbox-captions-flicker-on-resize#8060672)。从评论看来，您想要对抗的闪烁似乎在油漆盒中。我显然不知道细节，但我的经验和直觉告诉你，你应该能够很容易地处理局部级别的闪烁。肯定不需要全局形式的宽双缓冲。

# mysql - MySQL IP 地址露营到 ISP

> ID：15611816
> 
> 赞同：0
> 
> 时间：2013-03-25T09:45:16.353
> 
> 标签：mysql, sql, if-statement, ip-address

我的 mySQL 数据库中有 2 个表。

第一个表是isp：

```
isp_ip_address | isp_name
-------------------------
157.55.33.0    | isp_3

157.55.0.0     | isp_1

193.219.9.0    | isp_2

65.55.213.0    | isp_4

195.182.85.226 | isp_5

78.58.5.117    | isp_6

78.58.5.0      |  isp_7 
```

第二个表是 user_stats：

```
uid | lastlogin_ip | lastlogin
------------------------------
111 | 78.58.83.111 | 2013-03-12

132 | 78.58.5.117  | 2013-03-12

258 | 195.182.85.226 | 2013-03-14

165 | 157.55.33.78  | 2013-03-12

822 | 65.55.213.216 | 2013-03-15

523 | 157.55.35.38 | 2013-03-12
..... 
```

等等。

我需要将用户 lastlogin_ip 与 isp_ip_address 进行比较，并在新表中插入 uid、lastlogin_ip 和 isp_name。我需要像这样比较ip_address：如果完整的lastlogin_ip等于isp_ip_address然后停止搜索并写入isp_name，如果它们不匹配，我需要比较firdt 3部分IP地址并做同样的事情，如果3部分不匹配，我需要比较IP地址的2部分并做同样的事情。

我尝试了以下 SQL 代码：

```
SELECT 
  user_stats.`uid`,
  user_stats.`lastlogin_ip`,
  isp.`isp`,
FROM
  stats.`user_stats` 
  LEFT JOIN stats.`isp` 
ON(
    IF(
      isp.isp_ip_address LIKE user_stats.`lastlogin_ip`,
      isp.isp_ip_address LIKE user_stats.`lastlogin_ip`,
      IF(
        SUBSTRING_INDEX(isp.isp_ip_address,'.',-1) LIKE SUBSTRING_INDEX(user_stats.`lastlogin_ip`,'.',-1),
        IF(
          SUBSTRING_INDEX(SUBSTRING_INDEX(isp.isp_ip_address,'.',3),'.',-1) LIKE SUBSTRING_INDEX(SUBSTRING_INDEX(user_stats.`lastlogin_ip`,'.',3),'.',-1),
          IF(
            SUBSTRING_INDEX(SUBSTRING_INDEX(isp.isp_ip_address,'.',2),'.',-1) LIKE SUBSTRING_INDEX(SUBSTRING_INDEX(user_stats.`lastlogin_ip`,'.',2),'.',-1),
            SUBSTRING_INDEX(isp.isp_ip_address,'.',1) LIKE SUBSTRING_INDEX(user_stats.`lastlogin_ip`,'.',1),
            NULL),
          SUBSTRING_INDEX(isp.isp_ip_address,'.',2) LIKE SUBSTRING_INDEX(user_stats.`lastlogin_ip`,'.',2)),
        SUBSTRING_INDEX(isp.isp_ip_address,'.',3) LIKE SUBSTRING_INDEX(user_stats.`lastlogin_ip`,'.',3)))); 
```

这段代码比较了部分 IP 地址，但它重复了行，这意味着如果它找到 3 个相等的部分和 2 个相等的部分，它将使用不同的 isp_name 值写入同一行两次。

您能否给我一个提示，我应该如何编辑此代码以使其正常工作？任何帮助，将不胜感激！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-25T10:17:57.027

您的加入条件与您的描述不符。当与负数一起使用时，`substring_index`返回 的右侧`ip`，而不是左侧。

无论如何，请尝试以下连接标准（未经测试）：

```
ON(
   isp.isp_ip_address = user_stats.lastlogin_ip
OR SUBSTRING_INDEX(isp.isp_ip_address,'.', 3) = SUBSTRING_INDEX(user_stats.lastlogin_ip,'.', 3)
OR SUBSTRING_INDEX(isp.isp_ip_address,'.', 2) = SUBSTRING_INDEX(user_stats.lastlogin_ip,'.', 2)
) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-25T14:03:11.433

非常未经测试，但希望能让你走上正轨：

编辑：qry 已修复语法并经过测试。

```
选择 match3.lastlogin_ip, ifnull(match3.isp_name, isp.isp_name) as isp_name FROM
(SELECT match4.lastlogin_ip, ifnull(match4.isp_name, isp.isp_name) as isp_name, isp.isp_ip_address FROM
  （从 user_stats 中选择 user_stats.lastlogin_ip、isp.isp_name、isp.isp_ip_address
  LEFT JOIN isp ON (user_stats.lastlogin_ip = isp.isp_ip_address)) 作为 match4
  LEFT JOIN isp ON (match4.isp_name 为 null 并且 SUBSTRING_INDEX(match4.lastlogin_ip,'.', 3) = SUBSTRING_INDEX(isp.isp_ip_address,'.', 3))) 作为 match3
LEFT JOIN isp ON (match3.isp_name 为空并且 SUBSTRING_INDEX(match3.lastlogin_ip,'.', 2) = SUBSTRING_INDEX(isp.isp_ip_address,'.', 2));

```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-25T10:37:09.810

将 IP 地址和 CIDR 存储为整数然后使用类似这样的东西不是更好吗：[有没有办法直接从 SELECT 查询中将 IP 与 IP+CIDR​​ 匹配？](https://stackoverflow.com/questions/595748/is-there-way-to-match-ip-with-ipcidr-straight-from-select-query)

1.  阅读这些查询更容易
2.  可能比你现在拥有的更快
3.  比较比子字符串比较更准确（在网络方面）。

# android - 通用图像加载器 - imageloader.displayimage 中的 Viewpager NullPointerException

> ID：15611818
> 
> 赞同：0
> 
> 时间：2013-03-25T09:45:19.770
> 
> 标签：android, url, arraylist, android-viewpager, universal-image-loader

我在[Pastie](http://pastie.org/7108410#94)的第 98 行得到了 NullPointerException ，在我的 locate 中得到了等于第 191 行`imageLoader.displayImage((String) myArr.get(position).get("image_url"), imageView, options, new SimpleImageLoadingListener()..`。

我所有的网址都存储在`ArrayList<HashMap<String, Object>>`

完整代码[http://pastie.org/7108410#94](http://pastie.org/7108410#94)

错误

```
 03-25 16:39:33.382: E/AndroidRuntime(18178): FATAL EXCEPTION: main
03-25 16:39:33.382: E/AndroidRuntime(18178): java.lang.NullPointerException
03-25 16:39:33.382: E/AndroidRuntime(18178):    at com.camitss.phnompenhcafe.ImagePagerActivity$ImagePagerAdapter.instantiateItem(ImagePagerActivity.java:191)
03-25 16:39:33.382: E/AndroidRuntime(18178):    at android.support.v4.view.ViewPager.addNewItem(ViewPager.java:801)
03-25 16:39:33.382: E/AndroidRuntime(18178):    at android.support.v4.view.ViewPager.populate(ViewPager.java:930)
03-25 16:39:33.382: E/AndroidRuntime(18178):    at android.support.v4.view.ViewPager.populate(ViewPager.java:881)
03-25 16:39:33.382: E/AndroidRuntime(18178):    at android.support.v4.view.ViewPager.onMeasure(ViewPager.java:1366)
03-25 16:39:33.382: E/AndroidRuntime(18178):    at android.view.View.measure(View.java:15479)
03-25 16:39:33.382: E/AndroidRuntime(18178):    at android.widget.RelativeLayout.measureChildHorizontal(RelativeLayout.java:617)
03-25 16:39:33.382: E/AndroidRuntime(18178):    at android.widget.RelativeLayout.onMeasure(RelativeLayout.java:399)
03-25 16:39:33.382: E/AndroidRuntime(18178):    at android.view.View.measure(View.java:15479)
03-25 16:39:33.382: E/AndroidRuntime(18178):    at android.widget.RelativeLayout.measureChildHorizontal(RelativeLayout.java:617)
03-25 16:39:33.382: E/AndroidRuntime(18178):    at android.widget.RelativeLayout.onMeasure(RelativeLayout.java:399)
03-25 16:39:33.382: E/AndroidRuntime(18178):    at android.view.View.measure(View.java:15479)
03-25 16:39:33.382: E/AndroidRuntime(18178):    at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:4824)
03-25 16:39:33.382: E/AndroidRuntime(18178):    at android.widget.FrameLayout.onMeasure(FrameLayout.java:310)
03-25 16:39:33.382: E/AndroidRuntime(18178):    at android.view.View.measure(View.java:15479)
03-25 16:39:33.382: E/AndroidRuntime(18178):    at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:4824)
03-25 16:39:33.382: E/AndroidRuntime(18178):    at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1396)
03-25 16:39:33.382: E/AndroidRuntime(18178):    at android.widget.LinearLayout.measureVertical(LinearLayout.java:681)
03-25 16:39:33.382: E/AndroidRuntime(18178):    at android.widget.LinearLayout.onMeasure(LinearLayout.java:574)
03-25 16:39:33.382: E/AndroidRuntime(18178):    at android.view.View.measure(View.java:15479)
03-25 16:39:33.382: E/AndroidRuntime(18178):    at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:4824)
03-25 16:39:33.382: E/AndroidRuntime(18178):    at android.widget.FrameLayout.onMeasure(FrameLayout.java:310)
03-25 16:39:33.382: E/AndroidRuntime(18178):    at com.android.internal.policy.impl.PhoneWindow$DecorView.onMeasure(PhoneWindow.java:2359)
03-25 16:39:33.382: E/AndroidRuntime(18178):    at android.view.View.measure(View.java:15479)
03-25 16:39:33.382: E/AndroidRuntime(18178):    at android.view.ViewRootImpl.performMeasure(ViewRootImpl.java:1966)
03-25 16:39:33.382: E/AndroidRuntime(18178):    at android.view.ViewRootImpl.measureHierarchy(ViewRootImpl.java:1212)
03-25 16:39:33.382: E/AndroidRuntime(18178):    at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:1385)
03-25 16:39:33.382: E/AndroidRuntime(18178):    at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1105)
03-25 16:39:33.382: E/AndroidRuntime(18178):    at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:4452)
03-25 16:39:33.382: E/AndroidRuntime(18178):    at android.view.Choreographer$CallbackRecord.run(Choreographer.java:725)
03-25 16:39:33.382: E/AndroidRuntime(18178):    at android.view.Choreographer.doCallbacks(Choreographer.java:555)
03-25 16:39:33.382: E/AndroidRuntime(18178):    at android.view.Choreographer.doFrame(Choreographer.java:525)
03-25 16:39:33.382: E/AndroidRuntime(18178):    at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:711)
03-25 16:39:33.382: E/AndroidRuntime(18178):    at android.os.Handler.handleCallback(Handler.java:615)
03-25 16:39:33.382: E/AndroidRuntime(18178):    at android.os.Handler.dispatchMessage(Handler.java:92)
03-25 16:39:33.382: E/AndroidRuntime(18178):    at android.os.Looper.loop(Looper.java:137)
03-25 16:39:33.382: E/AndroidRuntime(18178):    at android.app.ActivityThread.main(ActivityThread.java:4895)
03-25 16:39:33.382: E/AndroidRuntime(18178):    at java.lang.reflect.Method.invokeNative(Native Method)
03-25 16:39:33.382: E/AndroidRuntime(18178):    at java.lang.reflect.Method.invoke(Method.java:511)
03-25 16:39:33.382: E/AndroidRuntime(18178):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:994)
03-25 16:39:33.382: E/AndroidRuntime(18178):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:761)
03-25 16:39:33.382: E/AndroidRuntime(18178):    at dalvik.system.NativeStart.main(Native Method) 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-25T09:53:13.987

你`ImageLoader imageLoader`的总是空的。你需要初始化它。

尝试替换：

```
ImageLoader imageLoader; 
```

经过

```
ImageLoader imageLoader = ImageLoader.getInstance(); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-25T10:19:04.257

1.  在第 98 行设置断点并验证 imageView 不为空。
2.  在第 98 行之前添加调试日志消息并打印出 myArr.get(position).get("image_url") 以查看这是否是有效的 url 并且实际上不为空。
3.  设置断点时，验证 imageLoader 不为空

至于如何在 Eclipse 中调试，我建议看看[这个 SO question](https://stackoverflow.com/q/8551818/312312)和下面的答案

# asp.net - 如何在 ASP.NET 网站中实现无扩展名 URL

> ID：15611820
> 
> 赞同：0
> 
> 时间：2013-03-25T09:45:25.313
> 
> 标签：asp.net, url, iis-7, url-rewriting

我有一个 ASP.NET 网站，我必须为其实现无扩展 URL。我需要实现的一些示例是：

mysite/home.aspx 必须显示为 mysite/home；并且 mysite/reports/checkout.aspx?ShowLogin=False 必须显示为 mysite/reports/checkout?ShowLogin=False

我在网上广泛搜索了这个问题的答案，尝试实施某些解决方案，但我无法达到目标。如果有人在那里实现了这一点，请帮助我完成。谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-25T10:06:40.167

查看以下网站：-

[http://blogs.msdn.com/b/carlosag/archive/2008/09/02/iis7urlrewriteseo.aspx](http://blogs.msdn.com/b/carlosag/archive/2008/09/02/iis7urlrewriteseo.aspx)

**基本上使用IIS7 URL重写模块**的web.config文件中的以下代码......这将解决你的prblm我猜

```
<rewrite>
        <rules>
            <rule name="RewriteASPX">
                <match url="(.*)" />
                <conditions logicalGrouping="MatchAll">
                    <add input="{REQUEST_FILENAME}" matchType="IsFile" negate="true" />
                    <add input="{REQUEST_FILENAME}" matchType="IsDirectory" negate="true" />
                </conditions>
                <action type="Rewrite" url="{R:1}.aspx" />
            </rule>
        </rules>
    </rewrite> 
```

# javascript - 使用 WebdriverJS 测试 chrome webstore

> ID：15611822
> 
> 赞同：1
> 
> 时间：2013-03-25T09:45:29.987
> 
> 标签：javascript, node.js, css-selectors, selenium-webdriver, chrome-web-store

我在测试 chrome 网上商店时遇到了问题 - 使用[WebdriverJS](https://github.com/Camme/webdriverjs)和我自己的 node.js 脚本。

当尝试使用 css 选择器查询结果时，我几乎每次都从 WebDriver 服务器收到“没有这样的元素”错误。

```
var client = require('webdriverjs').remote();
client.init().url('https://chrome.google.com/webstore',function(result{console.log(result);})
      .setValue('#searchbox-input','sampleapp \n')
      .click('**?what should be here?**', function(result){console.log(result);}).end(); 
```

我正在努力解决这个问题 - **？这里应该有什么？**所以我可以自动点击显示的结果。

CSS 选择器的格式很奇怪，无法访问。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-21T19:57:38.147

由于 chrome 网上商店似乎没有单击和提交搜索的按钮，因此您可以改为发送回车符并获取它来触发搜索结果。尝试这样的事情：

```
var client = require('webdriverjs').remote();
client.init()
    .url('https://chrome.google.com/webstore')
    .setValue('#searchbox-input','sampleapp \u000D')
    .end(); 
```

"\u000D" 只是一个回车 unicode 代码。

# java - 退出无限循环需要什么条件？

> ID：15611823
> 
> 赞同：0
> 
> 时间：2013-03-25T09:45:30.837
> 
> 标签：java

我试图编写服务器端应用程序。从学校开始，我就认为我不应该让代码进行无限循环。但是，在我的服务器端应用程序中，我还没有找到在什么情况下应该退出无限循环的方法。编码

```
ServerSocket s = null;
s = new ServerSocket(5000 , 10);

Socket connection = null;
while(true)
{
    connection = s.accept();

    //create new thread to handle client
    new client_handler(connection).start();
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-25T09:48:06.063

当 JVM 在服务器上关闭时，您通常会退出循环。或者当抛出异常但未被捕获时。这是无限循环合理的一种情况。如果一切顺利，您的服务器将永远启动。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-25T09:47:00.380

使用`boolean`可以`false`在循环内部或外部的某个点设置的标志。

```
boolean started = true;
while (started) {
  ...
} 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-03-25T09:48:27.923

如果服务器应该无限期地运行并接受连接，则无需退出循环。

如果有一些命令或条件，当服务器应该终止时，就这样做

```
while(true) {
    connection = s.accept();

    //create new thread to handle client
    new client_handler(connection).start();

    if (condition)
       break;
} 
```

甚至更好

```
while (!condition) {
...
} 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2013-03-25T09:47:56.417

通常对于这些应用程序，您使用一些标志来表示终止，如下所示：

```
private volatile boolean shouldDie = false; //thevolatile bit is important
...
while (!shouldDie) {
   //do some work
} 
```

然后当您希望程序终止时，您只需将标志设置为 tru 并等待（这是为了优雅终止）

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2013-03-25T09:47:18.847

您的`while`陈述总是会评估为真，因为您已经传递了值`true`而不是使用任何条件

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-03-25T09:49:09.017

你总是可以这样做：

```
boolean loopCheck = true;
while(loopCheck)
{
//do stuff
loopCheck = false;
} 
```

在 PHP 中，不确定它是否适用于 java，我们可以这样做

```
while(true)
{
//do stuff
break;
} 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-03-25T10:02:49.063

```
Use a boolean flag.

boolean flag=true;
while(flag)
{
// Your code here

if(condition)   //condition to exit loop
{
flag=false;
}
} 
```

# android - 从非安卓蓝牙设备接收数据的安卓代码

> ID：15611827
> 
> 赞同：0
> 
> 时间：2013-03-25T09:45:41.433
> 
> 标签：android, bluetooth

我正在经历一个需要从非 Android 设备（例如，带有蓝牙加密狗的 PC）接收数据的场景。我需要显示自己的 UI，并希望通过我的应用程序本身处理传入的数据。那么有没有什么好的方法可以实现这个目标。

***- 编辑***

*正如@Trevor 在他的回答中提到的那样，以下段落没有任何意义，我只是在对该主题进行了长时间的研究后才明白这一事实。无论如何，谢谢大家的建议。*

到目前为止，我尝试过`listenUsingRfcommWithServiceRecord(...)`，`createRfcommSocketToServiceRecord(...)`但是通过这种方式，我们需要在两个设备上运行我们的应用程序。目前不是我的情况。

***- 编辑***

那么，有什么好方法可以从非 Android 设备接收数据吗？

提前致谢...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-25T11:17:45.727

您的问题有点含糊，因为您没有准确解释当您尝试连接到您尝试使用的任何蓝牙设备时发生了什么问题。您的第二段（*“到目前为止，我尝试使用 listenUsingRfcommWithServiceRecord(...) 和 createRfcommSocketToServiceRecord(...) 但是这样，我们需要在两个设备上运行我们的应用程序。目前不是我的情况。”*）没有对我有意义。

但是，我假设它是您尝试连接的 SPP 设备（即蓝牙到串行接口，或设置有虚拟 COM 端口的 USB PC 蓝牙加密狗）。在这种情况下，您可以按原样使用蓝牙聊天示例代码，除了使用 SPP UUID 的一项重要更改：

```
/** UUID for Serial Port Profile */
private static final UUID MY_UUID = UUID.fromString("00001101-0000-1000-8000-00805F9B34FB"); 
```

顺便说一句，如果您使用蓝牙聊天示例作为项目的基础，请注意我在蓝牙聊天代码中发现的一个错误，如果以比打字速度更快的速度接收到的字符，它会导致接收到的字符丢失。有关这方面的信息，请参阅我在此处给出的答案：[Android InputStream drop first two bytes (modified BluetoothChat)](https://stackoverflow.com/questions/12239692/android-inputstream-dropping-first-two-bytes-modified-bluetoothchat/12288979#12288979)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-25T09:54:53.940

在 android sdk 示例中看一下 BluetoothChat，

你需要两个线程来传递数据

```
private class ConnectThread extends Thread {
    private final BluetoothSocket mmSocket;
    private final BluetoothDevice mmDevice;

    public ConnectThread(BluetoothDevice device) {
        this.mmDevice = device;
        BluetoothSocket tmp = null;
        try {
            tmp = device.createRfcommSocketToServiceRecord(UUID.fromString(SPP_UUID));
        } catch (IOException e) {
            e.printStackTrace();
        }
        mmSocket = tmp;
    }

    @Override
    public void run() {
        setName("ConnectThread");
        mBluetoothAdapter.cancelDiscovery();
        try {
            mmSocket.connect();
        } catch (IOException e) {
            try {
                mmSocket.close();
            } catch (IOException e1) {
                e1.printStackTrace();
            }
            connectionFailed();
            return;

        }
        synchronized (PrinterService.this) {
            mConnectThread = null;
        }
        connected(mmSocket, mmDevice);
    }

    public void cancel() {
        try {
            mmSocket.close();
        } catch (IOException e) {
            Log.e("PrinterService", "close() of connect socket failed", e);
        }
    }
}

private class ConnectedThread extends Thread {
    private final BluetoothSocket mmSocket;
    private final InputStream mmInStream;
    private final OutputStream mmOutStream;

    public ConnectedThread(BluetoothSocket socket) {
        mmSocket = socket;
        InputStream tmpIn = null;
        OutputStream tmpOut = null;
        try {
            tmpIn = socket.getInputStream();
            tmpOut = socket.getOutputStream();
        } catch (IOException e) {
            Log.e("Printer Service", "temp sockets not created", e);
        }
        mmInStream = tmpIn;
        mmOutStream = tmpOut;
    }

    @Override
    public void run() {
        while (true) {
            try {
                if (!encodeData(mmInStream)) {
                    mState = STATE_NONE;
                    connectionLost();
                    break;
                } else {
                }
                // mHandler.obtainMessage(AbstractActivity.MESSAGE_READ,
                // bytes, -1, buffer).sendToTarget();
            } catch (Exception e) {
                e.printStackTrace();
                connectionLost();
                PrinterService.this.stop();
                break;
            }

        }
    } 
```

# java - 从 Android 中的 JSON 嵌套循环获取数据时出错

> ID：15611830
> 
> 赞同：0
> 
> 时间：2013-03-25T07:37:38.600
> 
> 标签：java, android, json

我试过了，但在 for 循环 optJSONObject(i) 中出现错误

```
{
    "response": {
        "code": 1,
        "message": "success"
    },
    "data": {
        "updates": [
                    {
                        "id":"67",                  
                        "date":"6 months ago",
                        "update_type": "7",
                        "update_id": "67",
                        "name":"ravi"
                    },
                    {
                        "id":"68",                  
                        "date":"3 months ago",
                        "update_type": "5",
                        "update_id": "68",
                        "name":"paresh"
                    },

                    {
                        "id":"69",                  
                        "date":"1 months ago",
                        "update_type": "6",
                        "update_id": "69",
                        "name":"sampath"
                    },

                    {
                        "id":"62",                  
                        "date":"9 months ago",
                        "update_type": "6",
                        "update_id": "62",
                        "name":"raju"
                             }
        ]
    }
} 
```

我为此尝试的代码是：

```
try {
    InputStream is = null;

    is =  getApplicationContext().getResources().openRawResource(R.raw.myfile);

    //CONVERTS STREAM OBJ IN STRING OBJ
    mJSONString             =   convertStreamToString(is);
    JSONObject obj          =   new JSONObject(mJSONString);
    JSONObject dataobj      =   obj.getJSONObject("data");
    JSONObject updateobj    =   dataobj.getJSONObject("update");

    //System.out.println(new JSONObject(update)toString(2));
    for(int i=0; i<updateobj.length(); i++){

        JSONObject object       =   updateobj.optJSONObject(i);
        mUpdates                =   new Mobile_UpdateActivity();

        mUpdates.update_id      =   object.getString("update_id");
        mUpdates.site_id        =   object.getString("site_id");
        mUpdates.update_type    =   object.getString("update_type");

        System.out.println(mUpdates.update_id);
        System.out.println(mUpdates.site_id);
        System.out.println(mUpdates.update_type);
    } 
```

}

但我在 **optJSONObject(i) 遇到错误

> 错误：JSONObject 类型中的 optJSONObject(String) 方法不适用于参数 (int)**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-25T09:53:15.827

尝试更换线路：

```
JSONObject updateobj    =   dataobj.getJSONObject("update"); 
```

至

```
JSONArray updateobj    =   dataobj.getJSONArray("update"); 
```

然后在 for 循环中：

```
JSONObject object       =   updateobj.optJSONObject(i); 
```

至

```
JSONObject object       =   updateobj.get(i); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-25T09:52:44.510

您收到以下警告：

> optJSONObject(i) 错误：JSONObject 类型中的方法 optJSONObject(String) 不适用于参数 (int)

因为在当前的 json 字符串`updates`中是一个`JSONArray`而不是，`JSONObject`但是您正在尝试将 JSONArray 转换为 JSONObject。您正在调用`JsonObject.optJSONObject`一个 JsonObject，它需要一个字符串作为参数，而不是 `JSONArray.optJSONObject`需要当前 JsonArray 中的项目索引。更改代码以避免当前警告：

```
 //...your code here...
    JSONObject obj          =   new JSONObject(mJSONString);
    JSONObject dataobj      =   obj.getJSONObject("data");

    // get update jsonArray from dataobj JSONObject 
    JSONArray updateobj    =   dataobj.getJSONArray("update");
    //...your code here... 
```

# content-management-system - smartImage 或 smartFile 的路径限制

> ID：15611835
> 
> 赞同：0
> 
> 时间：2013-03-25T09:46:05.227
> 
> 标签：content-management-system, aem

我们可以限制 smartimage 或 smartFile 的路径吗？就像当我从指定的路径文件夹中拖动图像时，只有在这种情况下它才会被添加。

例如 ddAccept 和 ddGroup

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-26T07:58:51.120

并不是说我完全理解它是如何`smartfile`工作的，而是从我所看到的：不，你不能在开箱即用的小部件版本中限制它。没有关于此功能的提示：[文档](http://dev.day.com/content/docs/en/cq/current/widgets-api/index.html?class=CQ.html5.form.SmartFile)和源代码 ( `/libs/cq/ui/widgets/source/widgets/html5/form/SmartFile.js`) 中都没有。

我建议您扩展 SmartFile / SmartImage 并覆盖`#initializeDragAndDrop()`以在那里添加您的逻辑。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-06-15T10:15:17.153

作为替代方案，您可以使用 pathfield xtype 在 dialog 中获取图像位置（href）。并在路径字段中将根路径设置为您想要的节点

# css - ie8 中的寻呼机占用额外空间

> ID：15611836
> 
> 赞同：0
> 
> 时间：2013-03-25T09:46:06.747
> 
> 标签：css

我的寻呼机在其他浏览器中看起来不错，但它需要额外的空间。

其他浏览器：

![在此处输入图像描述](../Images/a8ab61d03bec3332aa70dec443fab6ac.png)

即8 ![在此处输入图像描述](../Images/0095dfccca345ca2ef6c5da2443c554e.png)

html代码：

```
<ul class="pager"><li class="pager-current first">1</li>
<li class="pager-item"><a title="Go to page 2" href="/mi-mn-library">2</a></li>
<li class="pager-item"><a title="Go to page 3" href="/mi-mn-library">3</a></li>
<li class="pager-item"><a title="Go to page 4" href="/mi-mn-library">4</a></li>
</ul> 
```

我的CSS：

```
.item-list .pager {
clear: both;
text-align: center;
}
.item-list .pager li {
background-image: none;
display: inline;
list-style-type: none;
padding: 0.5em;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-25T09:59:44.587

尝试这个

```
<!--[if IE 8]>
    <style type="text/css" link rel="stylesheet" > 
      .item-list .pager li{
       padding:.2em;

        }
        </style>
<![endif]--> 
```

# javascript - 在轨道滑块上的动画后淡入特定类的下一个元素

> ID：15611837
> 
> 赞同：0
> 
> 时间：2013-03-25T09:46:06.803
> 
> 标签：javascript, jquery, orbit

我正在使用 Orbit 滑块，在每个幻灯片动画之后，您可以运行一个函数。

我有四个包含内容的类，并希望将它们全部隐藏在第一个 div 中，然后在第一个动画之后淡入/淡出以显示第二个，依此类推，直到幻灯片结束，它在哪里循环回到开头，因此内容与滑块保持同步。

HTML 标记：

```
<div class="contentSlider">Content for slider 1</div>
<div class="contentSlider">Content for slider 2</div>
<div class="contentSlider">Content for slider 3</div>
<div class="contentSlider">Content for slider 4</div> 
```

Orbit 插件脚本是：

```
<script type="text/javascript">
$(window).load(function() {
  $('#featured').orbit({
     animation: 'horizontal-push',   // fade, horizontal-slide, vertical-slide, horizontal-push
     animationSpeed: 800,             // how fast animtions are
     timer: true,                     // true or false to have the timer
     advanceSpeed: 10000,              // if timer is enabled, time between transitions 
     pauseOnHover: false,             // if you hover pauses the slider
     directionalNav: true,            // manual advancing directional navs
     captions: false,                 // do you want captions?
     captionAnimation: 'fade',        // fade, slideOpen, none
     captionAnimationSpeed: 800,      // if so how quickly should they animate in
     bullets: true,                   // true or false to activate the bullet navigation
     bulletThumbLocation: '',         // location from this file where thumbs will be
     afterSlideChange: function(){
     // function to keep the content below the slider in sync with the slider.
     }  
   }); 
});
</script> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-25T09:50:54.867

为什么你不能启用内置的标题：true，并将你的标题 html 内容放入其中

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-25T10:24:00.117

```
//set to correct bullet
  setActiveBullet(); 
```

在移位函数中 jquery.orbit.js 中的此行之前（jquery-orbit-1.2.3.js 中的第 332 行）

```
alert(activeSlide); 
```

它给出了当前的幻灯片值；根据当前幻灯片值，您可以隐藏或显示

```
eq(activeSlide) 
```

字幕类并使用它。（淡入或淡出）

# ruby-on-rails - 在 Rails3 中提交之前防止/验证子关系的创建

> ID：15611846
> 
> 赞同：0
> 
> 时间：2013-03-25T09:46:39.593
> 
> 标签：ruby-on-rails, ruby-on-rails-3, cancan

我试图阻止我的用户与不属于他们的记录在“多次通过”关联中创建关系。

我的用户通过 location_users 有很多位置。他们的位置通过location_shops有很多商店。我目前用 CanCan 保护了一些东西。

```
class User < ActiveRecord::Base
  has_many :locationusers
  has_many :locations, :through => :locationusers  
end

class Location < ActiveRecord::Base
  has_many :locationusers
  has_many :users, :through => :locationusers
  has_many :location_shops
  has_many :shops, :through => :location_shops
end

class Shop < ActiveRecord::Base
  has_many :location_shops
  has_many :locations, :through => :location_shops
end 
```

还有我的康康舞能力

```
class Ability
  can [:manage], Shop, { :locationusers => {:user_id => user.id }}
  can [:manage], Location, { :locationusers => {:user_id => user.id }}
end 
```

我可以通过此设置处理位置的创建/编辑，而我的用户只能查看/编辑他们自己的位置/商店。

问题是这些关系的建立。

如果用户发布了不属于他们的位置 ID，则无论他们是否有权创建关系，都会创建关系。当然，他们无法查看这种关系，但我需要首先阻止创建。

例如，具有 ID 314 的单个位置的用户

```
>> User.last.locations.map(&:id)
=> [314] 
```

创建新商店时，如果我更改发布的参数：

```
:shop=>{:shop_name=>"Ye Old Shoppe", :location_ids => [1,2,3,314]}} 
```

以上显然为四个位置创建了关系。我需要它在创建关系之前验证位置 ID。

我唯一能想到的就是在模型中添加 before_add ：

```
class Location
  has_many :location_shops
  has_many :shops, :through => :location_shops, :before_add => :check_location_ownership
end 
```

这是正确的方法吗？如果是这样， :check_location_ownership 应该是什么样子？或者，有没有更好的方法来阻止建立关系？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-25T10:39:47.593

尽管您所做的确实有意义，但我还可以想到另外两种方法。

1）在关系上使用`:conditions`选项。`has_many`

2) 自定义验证方法。

```
class Location
  has_many :location_shops
  has_many :shops, :through => :location_shops
  validate :check_location_ownership
end 
```

我个人会根据情况选择这三个中的一个。

# sql - 如何在 SQL 中进行时间相关分布？

> ID：15611852
> 
> 赞同：0
> 
> 时间：2013-03-25T09:47:00.917
> 
> 标签：sql

我有一个 SQL 表，其中保存了来自 primavera 的项目信息。假设我有如下所示的开始日期、结束日期、持续时间和总数量列。我如何使用这些信息在**几个月内分配总数量。**为了获得正确的每月分布，我需要什么样的附加列、sql 查询？

提前致谢。

列顺序：

```
itemname,quantity,startdate,duration,enddate

item1 -- 108 -- 2013-03-25 -- 720 -- 2013-07-26 
item2 -- 640 -- 2013-03-25 -- 720 -- 2013-07-26
  .
  . 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-25T13:29:59.983

我认为关键是按月打破记录。以下是如何执行此操作的示例：

```
with months as (
     select 1 as mon union all select 2 union all select 3 union all
     select 4 as mon union all select 5 union all select 6 union all
     select 7 as mon union all select 8 union all select 9 union all
     select 10 as mon union all select 11 union all select 12
    )
select item, m.mon, quantity / nummonths
from (select t.*, (month(enddate) - month(startdate) + 1) as nummonths
      from t
     ) t join
     months m
     on month(t.startDate) <= m.mon and
        months(t.endDate) >= m.mon; 
```

这是有效的，因为所有月份都在同一年内 - 如您的示例所示。您对如何计算拆分非常模糊。所以，我假设每个月从开始到结束都得到相同的数量。

# facebook - 使用 Facebook 应用程序发布到用户墙

> ID：15611853
> 
> 赞同：-1
> 
> 时间：2013-03-25T09:47:02.017
> 
> 标签：facebook

我有一个已授权我的应用程序的用户的用户 ID 列表 我
如何在他们的墙上发布帖子？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-25T10:31:34.217

在我的脑海中，这就是您需要使用有效的 access_token 和参数向其发送 POST 请求的内容

```
https://graph.facebook.com/USER_ID/feed 
```

# javascript - Javascript单例类默认值

> ID：15611857
> 
> 赞同：1
> 
> 时间：2013-03-25T09:47:09.103
> 
> 标签：javascript, singleton

如何在我的单例类中设置默认值。我在我的类中有这本字典，其中变量名“myVar”被赋值为 3。但是，在下面运行此代码不会返回值 3，而是返回未定义。

```
init = function() {
   var var1 = Singleton.myVar;
   console.log(var1); // Returns undefined
   var1 = 3;
   console.log(var1);; // Returns 3
   var var2 = Singleton.myVar;
   console.log(var2); // Returns undefined
} 
```

单例类：

```
 var Singleton = (function(){
        var instantiated;
        function init (){
            // all singleton code goes here
            return {
                myVar: 3,
                publicWhatever:function(){
                    alert('whatever')
                },
                publicProperty:2
            }
        }

        return {
            getInstance :function(){
                if (!instantiated){
                    instantiated = init();
                }
                return instantiated; 
            }
        }
    })() 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-25T09:53:54.597

为什么你的单例声明完全是一个函数？为什么不直接声明对象，如下所示：

```
var Singleton = {
    myVar: 3,
    publicWhatever:function(){
      alert('whatever')
    },
    publicProperty:2
}; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-25T09:48:58.323

您需要使用该`getInstance`函数来获取您的单例实例：

```
 var var1 = Singleton.getInstance().myVar; 
```

请注意，您的工厂似乎过于复杂。我明白使用[IIFE 的意义](http://benalman.com/news/2010/11/immediately-invoked-function-expression/)（你可以定义额外的私有字段或函数），但你可以使用 IIFE 并将你的单例工厂减少到

```
var Singleton = (function(){
  return {
    myVar: 3,
    publicWhatever:function(){
      alert('whatever')
    },
    publicProperty:2
  }
})(); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-25T09:50:07.080

为什么不这样做：

```
var Singleton = function() {

    return {
       ...
       myVar: 3,
       ...
    }

})(); 
```

而不是在单例内部有另一层？

# ruby-on-rails - Ransack搜索，如何通过拆分输入搜索参数来搜索每个单词

> ID：15611869
> 
> 赞同：5
> 
> 时间：2013-03-25T09:47:24.763
> 
> 标签：ruby-on-rails, ruby-on-rails-3, search, ransack

我目前正在尝试使用 对`ransack gem`Rails 中的模型进行搜索。就目前而言，我正在使用基本设置。

控制器：

```
def index
  @q = Person.search(params[:q])
  @people = @q.result(:distinct => true)
end 
```

看法：

```
<%= search_form_for @q do |f| %>
   <%= f.label :name_cont %>
   <%= f.text_field :name_cont %>
   <%= f.submit %>
<% end %> 
```

我设法找到了很多关于在多个字段上进行搜索的信息，但是，我还没有找到任何东西来帮助我拆分`:q`参数，从而使我能够搜索中的每个（未知数量的）单词以 的形式输入的搜索字符串`search for ??? AND ??? AND ??? ...`，而不是在一个部分中搜索整个字符串

有人能指出我正确的方向吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2016-08-12T19:15:25.670

这是一个使用自定义 Ransack 谓词的答案：

```
# config/initializers/ransack.rb

Ransack.configure do |config|
  config.add_predicate 'has_any_term',
  arel_predicate: 'matches_any',
  formatter: proc { |v| v.scan(/\"(.*?)\"|(\w+)/).flatten.compact.map{|t| "%#{t}%"} },
  validator: proc { |v| v.present? },
  type: :string
end

Ransack.configure do |config|
  config.add_predicate 'has_every_term',
  arel_predicate: 'matches_all',
  formatter: proc { |v| v.scan(/\"(.*?)\"|(\w+)/).flatten.compact.map{|t| "%#{t}%"} },
  validator: proc { |v| v.present? },
  type: :string
end 
```

搜索表单将使用自定义谓词，如下所示：

```
# In your view

# to search for any of the terms existing in my_field 
=search_form_for @search do |f|
  =f.search_field  :my_field_has_any_term

# to search for all of the terms existing in my_field 
=search_form_for @search do |f|
  =f.search_field  :my_field_has_every_term 
```

双引号的术语将被自动识别。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-09T19:52:36.317

在花了很多时间研究这个没有结果之后，我选择了一个自定义的、非洗劫的选项，效果很好。

在`View.html.erb`

```
<%= form_tag siteindex_search_allproducts_path, :method => 'get' do %>
    <b>Search: </b> <%= text_field_tag :search, params[:search] %>
    <%= submit_tag "Search", :name => nil %>
<% end %> 
```

在`Controller`

```
@findproducts = Allproduct.order('price ASC').search(params[:search]) 
```

在`model.rb`

```
def self.search(*args)
   return [] if args.blank?
   cond_text, cond_values = [], []
   args.each do |str|
       next if str.blank?  
       cond_text << "( %s )" % str.split.map{|w| "product_name LIKE ? "}.join(" AND ")
       cond_values.concat(str.split.map{|w| "%#{w}%"})
    end
    all :conditions =>  [cond_text.join(" AND "), *cond_values]
end 
```

# c++ - 在 OpenCV 中使用预计算特征的 BoW

> ID：15611872
> 
> 赞同：1
> 
> 时间：2013-03-25T09:47:38.343
> 
> 标签：c++, opencv, machine-learning, feature-detection

我需要做 BOW（词袋），但我只有描述的图像关键点。目前，我已经使用以下方法获得了词汇：

```
cv::BOWKMeansTrainer bowtrainerCN(numCenters); //num clusters
bowtrainerCN.add(allDescriptors);
cv::Mat vocabularyCN = bowtrainerCN.cluster(); 
```

所以现在我需要做分配，但我不能使用计算函数，因为它计算图像的描述符，我已经有了。是否有任何功能可以完成分配或让我手动计算？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-25T15:22:25.577

一旦使用`cv::BOWKMeansTrainer::cluster()`方法构建了词汇表（码本），您就可以将描述符（具有合适的大小和类型）与码本匹配。您首先必须选择您需要的匹配器类型以及要使用的规范。（见[opencv 文档](http://docs.opencv.org/modules/features2d/doc/common_interfaces_of_descriptor_matchers.html#descriptormatcher)）

例如，使用`cv::BFMatcher`和`L2 norm`

```
// init the matcher with you pre-trained codebook
cv::Ptr<cv::DescriptorMatcher > matcher = new cv::BFMatcher(cv::NORM_L2);
matcher->add(std::vector<cv::Mat>(1, vocabulary));
// matches
std::vector<cv::DMatch> matches;
matcher->match(new_descriptors,matches); 
```

然后，您的代码本中最接近 new_descriptors[i] 的代码字的索引将是

```
matches[i].trainIdx; 
```

# javascript - 试图在 Google Maps v3 中将 count 变量付诸行动监听器，但总是调用最后一个计数数字

> ID：15611878
> 
> 赞同：0
> 
> 时间：2013-03-25T09:47:57.077
> 
> 标签：javascript, google-maps, google-maps-api-3

早上好，

我有一段 JS 读取 XML 文件并创建一系列多边形，然后我向这些多边形添加了一个动作侦听器。

但是，作为该函数的一部分，我希望将 count 变量传递给该函数。

```
// Code to read XML file then loop through...

for (var i = 0; i < zones.length; i++)

// Create a "new" dbpolygon

dbpolygon = new google.maps.Polygon
({paths : polygonPoints});

// add to array

zonepolygons.push(dbpolygon);
zonepolygons[zonepolygons.length - 1].setMap(map);

var userclick =  new google.maps.event.addListener(dbpolygon, 'click',  function() 
{    
load_sample_results(field,i);
}); 
```

所以我每次都创建一个新的多边形，然后向那个新创建的多边形对象添加一个动作监听器。但是，该函数始终将变量“i”设置为 i 的最后一个计数，而不是创建时的计数。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-25T09:56:58.823

看看[Shog9的回答](https://stackoverflow.com/a/185283/2087904)

你必须用 let 或 with 语句来环绕你的 .addEventListener() 。

# sql - 找出制造商 B 生产的所有产品（任何类型）的型号和价格

> ID：15611884
> 
> 赞同：1
> 
> 时间：2013-03-25T09:48:14.807
> 
> 标签：sql, sql-server, tsql

我有 4 张桌子

台式**电脑**：

```
code    model   speed   ram hd      cd  price
------------------------------------------------
1       1232    500     64  5.0     12x 600.0000
10      1260    500     32  10.0    12x 350.0000
11      1233    900     128 40.0    40x 980.0000
12      1233    800     128 20.0    50x 970.0000
2       1121    750     128 14.0    40x 850.0000
3       1233    500     64  5.0     12x 600.0000
4       1121    600     128 14.0    40x 850.0000
5       1121    600     128 8.0     40x 850.0000
6       1233    750     128 20.0    50x 950.0000
7       1232    500     32  10.0    12x 400.0000
8       1232    450     64  8.0     24x 350.0000
9       1232    450     32  10.0    24x 350.0000 
```

台式**笔记本电脑**：

```
code    model   speed   ram hd      price       screen
------------------------------------------------------
1       1298    350     32  4.0     700.0000    11
2       1321    500     64  8.0 9   70.0000     12
3       1750    750     128 12.0    1200.0000   14
4       1298    600     64  10.0    1050.0000   15
5       1752    750     128 10.0    1150.0000   14
6       1298    450     64  10.0    950.0000    12 
```

台式**打印机**：

```
code    model   color   type    price
----------------------------------------
1       1276    n       Laser   400.0000
2       1433    y       Jet     270.0000
3       1434    y       Jet     290.0000
4       1401    n       Matrix  150.0000
5       1408    n       Matrix  270.0000
6       1288    n       Laser   400.0000 
```

表**产品**：

```
maker   model   Type
-----------------------
A       1232    PC
A       1233    PC
A       1276    Printer
A       1298    Laptop
A       1401    Printer
A       1408    Printer
A       1752    Laptop
B       1121    PC
B       1750    Laptop
C       1321    Laptop
D       1288    Printer
D       1433    Printer
E       1260    PC
E       1434    Printer
E       2112    PC
E       2113    PC 
```

这是我的问题。

找出制造商 B 生产的所有产品（任何类型）的型号和价格。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-09-08T21:25:09.197

```
select product.model, price from product, pc
where product.model = pc.model and maker = 'B'
union
select product.model, price from product, laptop
where product.model = laptop.model and maker = 'B'
union
select product.model, price from product, printer
where product.model = printer.model and maker = 'B' 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2019-02-19T12:58:30.783

尝试这个：

```
select distinct(product.model),pc.price 
from product inner join pc 
on pc.model=product.model
where product.maker='B'

union

select distinct(product.model),laptop.price 
from product inner join laptop
on laptop.model=product.model
where product.maker='B'

union

select distinct(product.model),printer.price
from product inner join printer
on printer.model=product.model
where product.maker='B' 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-25T09:55:51.147

尝试这个：

```
SELECT 
  pc.model,
  pc.price,
  p.type
FROM PC
INNER JOIN Product P ON PC.model = p.model AND p.Type = 'PC'
WHERE p.maker = 'B'
UNION ALL
SELECT 
  l.model,
  l.price,
  p.type
FROM Laptop AS l
INNER JOIN Product P ON l.model = p.model AND p.Type = 'LapTop'
WHERE p.maker = 'B'
UNION ALL
SELECT 
  pr.model,
  pr.price,
  p.type
FROM Printer AS pr
INNER JOIN Product P ON Pr.model = p.model AND p.Type = 'Printer'
WHERE p.maker = 'B'; 
```

## [SQL 小提琴演示](http://www.sqlfiddle.com/#!3/e976b/2)

这会给你：

```
| MODEL | PRICE |   TYPE |
--------------------------
|  1121 |   850 |     PC |
|  1121 |   850 |     PC |
|  1121 |   850 |     PC |
|  1750 |  1200 | Laptop | 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-25T10:03:14.330

目前尚不清楚您是否希望这是单独的列或行，但您可以`JOIN`使用类似于以下的表来获取单独列中的数据：

```
select p.model,
  Coalesce(c.price, 0) PC,
  Coalesce(l.price, 0) Laptop,
  Coalesce(t.price, 0) Printer
from product p
left join pc c
  on p.model = c.model
left join laptop l
  on p.model = l.model
left join printer t
  on p.model = t.model
where p.maker = 'B' 
```

请参阅[SQL Fiddle with Demo](http://www.sqlfiddle.com/#!3/4e66b/13)。

然后，如果您想将数据放在单独的行而不是列中，您可以使用*unpivot*函数：

```
select model, price, col
from
(
  select p.model,
    c.price PC,
    l.price Laptop,
    t.price Printer
  from product p
  left join pc c
    on p.model = c.model
  left join laptop l
    on p.model = l.model
  left join printer t
    on p.model = t.model
  where p.maker = 'B'
) src
unpivot
(
  price
  for col in (pc, laptop, printer)
) un 
```

请参阅[带有演示的 SQL Fiddle](http://www.sqlfiddle.com/#!3/4e66b/14)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-02-20T09:36:46.527

```
SELECT DISTINCT result.model, result.price FROM 
(
(SELECT PC.model, PC.price FROM PC JOIN Product ON PC.model=Product.model WHERE Product.maker='B')
UNION ALL
(SELECT Laptop.model, Laptop.price FROM Laptop JOIN Product ON Laptop.model=Product.model WHERE Product.maker='B')
UNION ALL
(SELECT Printer.model, Printer.price FROM Printer JOIN Product ON Printer.model=Product.model WHERE Product.maker='B')
) result 
```

正确的。

您的查询结果：

```
model               price

1121                850.0000

1750                1200.0000 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2017-10-06T06:52:56.880

演示 - [http://www.sqlfiddle.com/#!6/e976b/2 - 重用由](http://www.sqlfiddle.com/#!6/e976b/2)[Mahmoud Gamal](https://stackoverflow.com/a/15612023/435559)填充的输入数据

```
WITH CTE AS
(
SELECT model, price
from   PC 
UNION 
SELECT model, price
from   Printer 
UNION
SELECT model, price
from   Laptop 
)
SELECT C.model, C.price 
FROM   CTE as C INNER JOIN Product as P 
ON     C.model = P.model 
WHERE  P.maker = 'B'; 
```

* * *

## 回答 #7

> 赞同：-1
> 
> 时间：2014-05-15T10:44:02.990

```
select pc.model,pc.price 
from product 
    inner join pc on pc.model=product.model and maker ='b' 
union 
select laptop.model,laptop.price 
from  product 
    inner join laptop on product.model=laptop.model and maker ='b' 
union 
select printer.model,printer.price 
from product 
    inner join printer on product.model=printer.model and maker ='b' 
```

# android - 我使用片段对吗？

> ID：15611886
> 
> 赞同：4
> 
> 时间：2013-03-25T09:48:21.530
> 
> 标签：android, android-fragments

我对使用片段的意识形态正确方式有点困惑。

正如 Android 开发人员所说，

> Fragment 表示 Activity 中的一种行为或用户界面的一部分。您可以在单个活动中组合多个片段以构建多窗格 UI 并在多个活动中重用一个片段。您可以将片段视为活动的模块化部分，它有自己的生命周期，接收自己的输入事件，并且可以在活动运行时添加或删除（有点像“子活动”，您可以在不同的活动中重复使用）。

并且：

> 片段将应用程序功能和 UI 分解为可重用的模块 将多个片段添加到屏幕以避免切换活动

我对片段的使用方式如下：我只有一个主 Activity 和一大堆片段。我更喜欢替换片段，而不是开始活动。例如，我有`FeedsFragment`, `FriendsFragment`, `MessagesFragment`，当我从滑动菜单中选择某些东西时，我的`Activity`只是替换了 main `Fragment`。如果我要从其他 Fragment 启动一个 Fragment，我会将前一个 Fragment 放入 backstack。

有些片段需要Activity来改变actionbar，我直接通过

```
((MainActivity)getActivity()).setupActionBar(); 
```

目前我没有任何支持平板电脑布局的代码（如 android 开发人员的示例所示），但我打算添加它。

那么，这是正确的做事方式吗？还是我完全错过了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-25T10:06:23.963

如您所知，片段有自己的生命周期，您可以随时从活动生命周期中使用它的事件。

但是 Fragments 生命周期依赖于 Activity 生命周期，所以当 Activity 被销毁时，Fragment 也会被销毁。

```
// Create new fragment and transaction
Fragment newFragment = new ExampleFragment();
FragmentTransaction transaction = getFragmentManager().beginTransaction();    
// Replace whatever is in the fragment_container view with this fragment,
// and add the transaction to the back stack
transaction.replace(R.id.fragment_container, newFragment);
transaction.addToBackStack(null);    
// Commit the transaction
transaction.commit(); 
```

哟可以使用片段事务，在一个活动中替换它们，我认为你使用相同的方式，

我认为你没有错，使用片段而不是使用不同的活动没有问题。

**但是您应该考虑一下，您真的需要在一项活动中使用它们吗？如果您不需要在一项活动中显示它们，则不需要使用片段。**

> 片段必须始终嵌入到活动中，并且片段的生命周期直接受到宿主活动生命周期的影响。比如当activity暂停时，里面的所有fragment都会暂停，当activity销毁时，所有fragment也会暂停。然而，当一个活动正在运行时（它处于恢复的生命周期状态），您可以独立地操作每个片段，例如添加或删除它们。当您执行这样的片段事务时，您还可以将其添加到由 Activity 管理的回退堆栈中 - 活动中的每个回退堆栈条目都是发生的片段事务的记录。后退堆栈允许用户通过按下后退按钮来撤销片段事务（向后导航）。

结果，这并没有错，但我认为如果您不需要，创建不同的活动很容易维护。

![在此处输入图像描述](../Images/fbd9df51d83ef4e9b13a67d5825ae170.png)

# java - 虽然循环需要太多时间

> ID：15611898
> 
> 赞同：1
> 
> 时间：2013-03-25T09:49:09.217
> 
> 标签：java, oracle

此 select 语句返回 4k+ 行。在我的应用程序中占用时间的是 while 循环。仅循环就需要 2 到 4 分钟。关于如何优化它的任何想法？

不要太担心查询本身，因为它不会在查询响应上花费太多时间。

```
ArrayList<MembershipMemberInterestsVo> list = new ArrayList<MembershipMemberInterestsVo>();
StringBuffer sql = new StringBuffer();
            sql.append("SELECT to_char(mai.id_info) as id, ");
            sql.append("to_char(mai.field_title) as title, ");
            sql.append("to_char(mmi.member_id) as membership_id ");
            sql.append("FROM memserv_member_interests mmi, memserv_add_info mai ");
            sql.append("WHERE mmi.interests like '%-' || mai.memserv_id || '-%' ");
            sql.append("AND mai.soc_body_id = ? ");
            sql.append("UNION ");
            sql.append("SELECT to_char(mit.interest_id) as id, ");
            sql.append("to_char(mit.text) as title, ");
            sql.append("to_char(mit.member_id) as membership_id ");
            sql.append("FROM memserv_member_interest_text mit ");
            sql.append("WHERE society_id = ?");

            pstmt = conn.prepareStatement(sql.toString());
            pstmt.setString(1, societyId);
            pstmt.setString(2, societyId);

            rs = pstmt.executeQuery();

            MembershipMemberInterestsVo vo = null;
            while (rs.next()) {
                vo = new MembershipMemberInterestsVo();
                vo.setInterestId(rs.getString("id"));
                vo.setMembershipId(rs.getString("membership_id"));
                vo.setTitle(rs.getString("title"));
                vo.setSocietyId(societyId);
                list.add(vo);
            } 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-25T09:55:00.783

问题很可能出在您的 SQL 语句上。将 4,000 个条目添加到列表中，不会花费任何明显的时间。

如果这不是错字

```
WHERE mmi.interests like '%-' || mai.memserv_id || '-%' 
```

您最终将整个表作为结果集。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-25T09:51:43.370

我猜这不是while循环，而是从数据库中检索数据的时间必须花费大量时间——这是在迭代结果集期间。

不要在 while 循环中创建任何对象，只需遍历结果集并查看所需时间。应该差不多。

# c# - 有没有办法在 Windows Mobile 6.5 中“复制”MessageBox 功能？

> ID：15611904
> 
> 赞同：0
> 
> 时间：2013-03-25T09:49:31.173
> 
> 标签：c#, windows-mobile

有没有办法在 Windows Mobile 6.5 中“复制”MessageBox 或 DialogBox 的功能？

我开发了一个自定义消息框（带有绘制事件和混合等）以使 UI 看起来更好。但是，我不知道如何复制 MessageBox 功能，程序“冻结”和“等待”用户的响应（通常按确定或取消按钮）。

现在，作为一种解决方法，我禁用了整个屏幕，以便只有消息框会收到任何按键。然后有一个名为 OnMessageBoxClosed 的自定义事件。

然后，我将根据用户所做的选择（确定或取消）将要执行的实际代码放入事件的事件处理程序中。

如果有可能使这个自定义消息框表现得像一个普通的消息框，我会更喜欢。

谢谢！

# html - 在不影响布局的情况下，使内嵌链接的可点击区域更大

> ID：15611905
> 
> 赞同：14
> 
> 时间：2013-03-25T09:49:33.690
> 
> 标签：html, css, accessibility

我希望使链接的可点击区域大于它们实际的可访问性，因为对于目标用户来说，很难点击它们。大约 1.5 倍的大小可能是合适的。这些是普通文本中的链接，所以我实际上不能让它们变大，这会弄乱布局。

我利用 HTML5、CSS3、JS 甚至 Mozilla 的特定功能来实现这一点，因为最新的 Firefox 版本是唯一的目标，尽管基本的 CSS/HTML 而不是这样的黑客当然会更可取！

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-03-27T14:15:55.950

一种可行的选择是使用`:after`伪元素。像这样的东西：

```
a {
    position: relative
}
.bigger:after{
    content:"";
    padding: 50px;  
    position: absolute;
    left: -25px;
    top: -25px;
} 
```

数字可以随意调整。我可以立即看到的唯一缺点是您是否需要支持 IE8 之前的任何内容。[http://caniuse.com/#feat=css-gencontent](http://caniuse.com/#feat=css-gencontent)

这是一个[小提琴](http://jsfiddle.net/WD8Yh/1/)。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2013-03-25T09:54:26.463

您可以使用更大的填充来做到这一点。

例如：

```
.a{
    padding: 20px;
    margin: -20px; //lets keep the layout
} 
```

这里有一个活生生的例子：http: [//jsfiddle.net/u5kuJ/1/](http://jsfiddle.net/u5kuJ/1/)

**更新：**

用你的小提琴：http: [//jsfiddle.net/XXgqu/1/](http://jsfiddle.net/XXgqu/1/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-08-06T08:20:15.283

我已经对 gotohales 答案进行了更新，无论文本的长度如何，它都可以使用，然后添加一些填充。

[http://jsfiddle.net/vG7UY/2/](http://jsfiddle.net/vG7UY/2/)

```
a {
  position: relative;
}
  .biggerForMobile:before{
  content:""; 
  width:100%;
  height:100%;
  position:absolute;
  padding:12px;
  top:-10px;
  left:-10px;
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-12-05T07:22:25.230

您可以使用`:after`伪元素来填充元素，并使用`transform`和`position`可以将填充定位在元素中心的中心，而不会影响其他元素。

将 更改为`padding: 30px`您需要的任何填充。

```
.padded-click {
  position: relative; 
}
.padded-click:after{
  padding: 30px;
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
} 
```

注意：这是基于 gotohales 解决方案，这是一种很好的方法，但是使用带有像素值的顶部和左侧作为 gotohales 解决方案确实需要考虑我们正在填充的元素的宽度/高度，否则填充将偏离中心。

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2013-03-26T13:45:39.683

我很确定你不能做你所要求的。唯一想到的是添加填充、边距和行高。虽然这不是我最喜欢的解决方案，但根据站点的上下文，可能会有一个列出所有链接的页面，它有一个更大的目标。

此外，也许可以使用具有良好对比度的`outline`& `outline-offset`CSS 属性来让人们知道链接上。

另一件事是，需要更大目标的人更频繁地使用键盘来浏览网站，因此使您的网站对键盘更友好可能会有所帮助。例如，您是否有标题和侧边栏，通过代码，它们是否位于主要内容之前？如果是这样，放置一个或几个[跳过导航](http://webaim.org/techniques/skipnav/)链接（取决于布局）也可能会有所帮助。

# c# - 为什么 Random 总是做出相同的选择？

> ID：15611906
> 
> 赞同：1
> 
> 时间：2013-03-25T09:49:40.720
> 
> 标签：c#

当我执行以下代码时，我总是选择相同的颜色。

```
static void Main(string[] args)
        {
            string[] Colors = new string[10] { "Red", "Yellow", "Green", "Blue", "Purple", "White", "violet", "orange", "indigo", "blue" };
            for (int i = 0; i < 13; i++)
            {
                Random rnd = new Random();
                int code = rnd.Next(0, 9);
                string Color = Colors[code];
                Console.WriteLine(Color);
            }
            Console.ReadLine();
        } 
```

但是如果`随机rnd = new Random();' 在循环之外创建，则结果是唯一的。如果循环以更快的速度执行，那么输出将是相同的。假设我在 for 循环中执行了一些数据库插入操作，结果将是不同的（随机的）（使用断点逐步执行也会导致随机选择）。

***难道真的不可能在这么短的时间内提供不同的种子吗？***

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-25T09:51:18.650

Random 使用当前时间作为[种子](http://en.wikipedia.org/wiki/Random_seed)。当您在循环中创建它时，它发生得如此之快，以至于每次创建的时间都保持不变。所以种子是一样的，随机生成的值也是一样的。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-25T09:53:24.137

如果您不提供种子，`Random`将`Environment.TickCount`用于种子。在像这样的短循环中，整个循环完全有可能在一个滴答声中执行。所以种子每次都是相同的，因此你的“随机”数字也是。

只需对整个循环使用相同的随机对象。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-25T09:52:21.203

尝试使随机对象成为静态成员：

```
private static Random rnd = new Random(); 
```

这可以防止使用相同的种子（当前时间）构建多个随机对象，并防止生成相同的数字序列。

`Random`您的循环在每次迭代时使用相同的种子（当前时间）初始化一个新实例。每个实例都包含一系列不同的随机数。代码使用序列中的第一个数字，迭代完成后随机对象被丢弃，并实例化一个新`Random`对象。由于代码运行得非常快，下一个随机对象与前一个随机对象同时创建，因此它与那个具有相同的种子。新对象包含一系列不同的数字，但该序列与前一个相同（即，它们具有相同的第一个数字、第二个数字，等等）。代码再次使用相同序列中的第一个数字，这会导致重复数字。

如果您使`Random`对象成为静态成员，则随机序列创建一次，代码将使用该序列的下一个数字（不总是第一个数字），因此您将遍历各种随机数的序列。

如果您不想使随机对象成为静态成员，请尝试为其构造函数提供唯一种子。为此，您可以使用循环变量。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-03-25T09:56:45.010

随机在计算机编程中不是随机的；）您可以通过包含种子或使用包含随机的静态对象来使其“更加”随机：）

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-25T09:51:33.293

您需要保留相同的随机对象，原因如下：

*从一组有限的数字中以相等的概率选择伪随机数。选择的数字不是完全随机的，因为使用了明确的数学算法来选择它们，但它们对于实际目的来说是足够随机的。 **随机数生成从种子值开始。如果重复使用相同的种子，则会生成相同的数字序列**。*

[http://msdn.microsoft.com/en-gb/library/system.random.aspx](http://msdn.microsoft.com/en-gb/library/system.random.aspx)

# c# - 如何使用 C# 中的正则表达式将电子邮件地址替换为文本中的名称？

> ID：15611909
> 
> 赞同：2
> 
> 时间：2013-03-25T09:49:47.093
> 
> 标签：c#, .net, regex

假设现在是一个字符串，我如何用名称替换段落中的电子邮件地址？像 xx@yahoo.com.my = xx , .com, .ae

输入 = "联系 abc@yahoo.com 或 defg@hotmail.eu 了解更多详情"

输出 = "联系 Abc 或 Defg 了解更多详情"

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-25T10:04:40.237

既然你要一个正则表达式，我会给你一个。

```
Regex regex = new Regex(@"(\.|[a-z]|[A-Z]|[0-9])*@(\.|[a-z]|[A-Z]|[0-9])*");
foreach (Match match in regex.Matches(inputString))
{
    // match.Value == "xx@yahoo.com.my"
    string name = match.Groups[1]; // "xx"
    string domain = match.Groups[2]; // "yahoo.com.my"
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-25T09:56:20.483

```
int end = myString.IndexOf('@');

string name=myString.Substring(0, end); 
```

像这样试试。

您可以在此处引用子字符串函数>>

[http://www.dotnetperls.com/substring](http://www.dotnetperls.com/substring)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-25T10:04:23.643

```
Sting input = "contact abc@yahoo.com or defg@hotmail.eu for more details";
String pattern = @"(\S*)@\S*\.\S*";
String result = Regex.Replace(input , pattern , "$1"); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-04-27T20:55:08.553

```
public static string ReplaceEmail(string emailBody) {
        string scrubbedemailBody = emailBody;
        Regex regex = new Regex(@"(\.|[a-z]|[A-Z]|[0-9])*@(\.|[a-z]|[A-Z]|[0-9])*");
        scrubbedemailBody = regex.Replace(scrubbedemailBody, match => {
            return new string(' ', match.Length);
        });
        return scrubbedemailBody;
    } 
```

# html - Chrome/Firefox 和 IE 定位不同

> ID：15611912
> 
> 赞同：0
> 
> 时间：2013-03-25T09:49:57.287
> 
> 标签：html, css, cross-browser, css-float

我有以下布局： -

**html:** -

```
 <header>
    <div class="content-wrapper">
        <div id="headerContainer">
            <div class="headerProfileNotifications">
                <img src="Images/" alt="notification" />
            </div>
            <div class="headerProfilePhoto">
                <img src="Images/" alt="profile_photo" />
            </div>
            <div class="headerProfileDetails">
                <div class="headerProfileName">John Smith</div>
                <div class="headerProfileEmail">john.smith@someemail.co.uk</div>
            </div>
        </div>
    </div>
</header> 
```

**和CSS： -**

```
 header {
    padding-bottom: 5px;
   }

    #headerContainer {
    height: 33px;
    background-position: 10px 2px;
    padding-top: 2px;
   }

    .headerProfileNotifications {
    float: right;
    height: 22px;
    width: 29px;
    padding-right: 4px;
    margin: 5px;
   }

    .headerProfilePhoto {
    float: right;
    height: 33px;
    width: 22px;
    margin: 5px;
   }

    .headerProfileDetails {
    float: right;
    padding-right: 4px;
    font-size: 11px;
   }

    .headerProfileName {
    margin-top: 2px;
    float: right;
   }

    .headerProfileEmail {
    margin-top: 0px;
   } 
```

[**JSFiddle**](http://jsfiddle.net/X7ekM/)

然而，它看起来`Chrome/Firefox,`和它应该的样子是一样的，但`IE,`它的显示方式不同。

`css`我必须申请什么`IE`才能看起来完全一样`Chrome/Firefox?`

**感谢**您的帮助和时间

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-25T10:00:07.260

这可以解决问题：

```
 .headerProfileEmail {
    clear:both;
    float:right;
    margin-top: 0px;
   } 
```

# html - 从 twitter 引导模式中删除模式页脚

> ID：15611921
> 
> 赞同：2
> 
> 时间：2013-03-25T09:50:15.043
> 
> 标签：html, css, twitter-bootstrap

我想从我的模态中删除页脚。但它只是删除内容，而不是它所获得的空间。

这是我的代码...

```
<div class="modal hide fade">
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times; </button>
    <h3>Modal header</h3>
  </div>
  <div class="modal-body">
    <p>One fine body…&lt;/p>
  </div>
</div> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-11-21T17:30:14.620

如果您不在`<div class="modal-footer">`模态模板中使用 ' '，那么 bootstrap 将为您制作。我认为这就是为什么您在代码中看到页脚的原因。我的解决方案是在模板中隐藏页脚（最后一行）：

```
<div class="modal hide fade">
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;       </button>
    <h3>Modal header</h3>
  </div>
  <div class="modal-body">
    <p>One fine body…&lt;/p>
  </div>
  <div class="modal-footer" style="display:none"></div>
</div> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-11-12T17:22:45.957

尝试这个

`<div class="modal-footer" hidden="true"></div>`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-25T09:54:28.767

我很确定“额外空间”是`<p>`边距。试试这个CSS：

```
.modal .modal-body p {
    margin-bottom: 0;
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-25T09:58:11.843

我认为这是因为`modal-footer`课堂上的填充物。尝试覆盖它

```
.modal .modal-footer {
    padding: 4px;
} 
```

我保留它`4px`以保留圆角

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2018-04-11T13:28:32.597

您可以覆盖引导模式的 modal-header、modal-footer。

添加以下代码。

```
 .modal-footer{display: none;} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2020-02-27T06:03:41.623

这可以使用 jQuery 来实现

```
require(
[
    'jquery',
    'Magento_Ui/js/modal/modal'
],
function(
    $,
    modal
) {

    var options = {
        type: 'popup',
        responsive: true,
        innerScroll: true,
        buttons: []
    };

    $('#approvalsModal').modal(options,{
        closed: function(){
           // Do some action when modal closed
        }
    });

    $(".approvalsModal").click(function(){
        $("#approvalsModal").modal('openModal');    
    });

    }
); 
```

# performance - 查找以 key 结尾的记录的最快方法

> ID：15611922
> 
> 赞同：1
> 
> 时间：2013-03-25T09:50:25.787
> 
> 标签：performance, linq, entity-framework

我正在寻找最佳方法来搜索数百万条记录，这些记录包含保存为以指定字符串键结尾的 varchar 列的序列号。

我使用的是 EndsWith，但是如果发送多个查询，性能会很差。

有更好的方法吗？

**编辑：**

由于搜索键的长度可变，因此我无法创建包含序列号截止值的列。但是，我已经使用 Substring 和 Equals 与 EndsWith 进行了一些测试，并且我已将执行速度降低到 EndsWith 的 40%。

不过，我仍在寻找更好的解决方案:)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-25T10:07:38.060

^(不幸的是，在大多数数据库+)上搜索以特定模式结尾的字符串很困难，因为搜索字符串后缀不能使用索引。这会导致全表扫描，这在具有数百万行的表上可能会很慢。

如果您的数据库支持反向索引，请为您的字符串键列添加一个；否则，您可以通过模拟反向索引来提高性能：

*   添加一列用于反向存储您的字符串键
*   如果您的 RDBMS 支持[计算列](http://msdn.microsoft.com/en-us/library/ms191250%28v=sql.105%29.aspx)，则为反向键添加一个
*   否则，定义一个触发器，从键列填充反向列
*   在反转列上创建索引
*   通过传入您要查找的反向后缀，使用反向列进行搜索。

例如，如果您有这样的数据

```
key
-----------
01-02-3-xyz
07-12-8-abc 
```

那么扩充表将有

```
key           rev_key
-----------   -----------
01-02-3-xyz   zyx-3-20-10
07-12-8-abc   cba-8-21-70 
```

并且您的搜索`ENDS_WITH(key, '3-xyz')`会要求`STARTS_WITH(rev_key, 'zyx-3')`. 由于字符串索引通过前缀加速查找，“开始于”查找会更快。

* * *

^+一个值得注意的例外是 Oracle，它专门为此类情况提供[反向键索引。](http://www.orafaq.com/node/1918)

# android - 无法在 Google Play 上上传 APK 扩展文件

> ID：15611924
> 
> 赞同：0
> 
> 时间：2013-03-25T09:50:39.117
> 
> 标签：android, upload, unity3d, google-play, apk-expansion-files

我正在使用统一的 android，我正在尝试上传我的应用程序。这是一个 80Mo 应用程序，所以我不得不拆分它。这是我在播放器首选项（unity3d）中设置其他设置的方法：

*   包标识符：com.CompanyName.APKName（显然是一个例子）
*   捆绑版本：1.0
*   捆绑版本代码：1
*   最低 API：（最低）2.0.1
*   设备过滤器：仅 Armv7
*   安装位置：首选外部
*   图形级别：OpenGL ES 2.0
*   互联网：汽车
*   写访问：仅限内部
*   API：.NET 2.0 订阅

产品名称与 APK 名称不同。

我的文件名为： - APK：APKName - 扩展文件：main.1.com.CompanyName.APKName

在构建设置中，没有任何改变（开发构建仍然是 False）。（我没有使用补丁文件）。

我的问题是，当我上传 APK 扩展文件时，它卡在“处理”上。显然这是一个内部错误，谷歌播放上传失败，但屏幕上没有显示任何内容。几天来我一直在尝试上传它，但我无法在网上找到任何有帮助的东西。编辑：在 chrome 上我被困在处理和 Firefox 上，我被困在 99% ......

我已经看到这些帖子[StackOveflow post 1](https://stackoverflow.com/questions/14015134/how-do-i-upload-an-expansion-file-with-the-new-google-play-developer-console) [StackOverflow post2](https://stackoverflow.com/questions/11715855/steps-to-create-apk-expansion-file)但对我来说没有任何改变。

我正在关注本教程：[tutorial unity to google play](http://labs.exoa.fr/tutorial-unity-4-apk-splitting-google-play-obb/)

编辑：我无法通过旧控制台访问我的应用程序...我收到以下消息：“*无法加载应用程序列表。稍后再试。* ”

谢谢您的帮助

鲍里斯

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-25T17:16:38.470

如果您在应用程序包名称中保留示例工作，则无法将 apk 上传到 google play..

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-25T12:49:17.233

好的，我做到了！！！

我必须创建具有更高版本号的应用程序的另一个版本。然后我去了旧控制台，因为无法通过旧控制台访问我的应用程序，我不得不通过单击上传 apk 再次上传我的第一个 APK。上传后，旧控制台会显示一个错误，指出已经有一个具有该包名称的应用程序。关闭错误消息后，可以通过旧控制台访问该应用程序，因此我可以从那里上传我的版本 2（新版本）APK + 主 OBB。之后，我从旧控制台停用旧版本并将其删除。我回到了新的控制台设计，就是这样！！！！

抱歉用第二个帐户发帖，我将删除第一个帐户。

# android - 如何在网页上创建“发送到手机”按钮？

> ID：15611932
> 
> 赞同：7
> 
> 时间：2013-03-25T09:51:06.370
> 
> 标签：android, ios, mobile, facebook-social-plugins

我可以看到 Wooga 和其他开发人员开始在他们的 Facebook 游戏中包含这样的按钮，但在文档中找不到任何参考。

这里有一个按钮示例：[https](https://www.facebook.com/plugins/send_to_mobile.php?app_id=373748152681140&size=large) ://www.facebook.com/plugins/send_to_mobile.php?app_id=373748152681140&size=large它会向您手机上的 Facebook 应用程序发送一个推送通知，其中包含下载该应用程序的链接从应用商店。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-10-24T07:15:40.557

看起来像一些 Facebook 测试，他们也这样[做](http://www.insidefacebook.com/2012/08/09/facebook-looks-to-drive-app-installs-with-send-to-mobile-button-in-news-feed/)。我觉得还不是正式的

**编辑**：还在[这个](http://apps.facebook.com/slotscraze/)网站上找到代码：

```
<div id="toMobileOuter" style="position:absolute; top:2px; right:0px;">
            <iframe id="sendToMobile" frameborder="0" width="180px" height="24px"
                src="https://www.facebook.com/plugins/send_to_mobile.php?app_id=460738653945219&size=medium"></iframe>
</div> 
```

# xml - 如何从 Web API 操作返回 Xml 而不是 JSON？

> ID：15611933
> 
> 赞同：0
> 
> 时间：2013-03-25T09:51:06.547
> 
> 标签：xml, asp.net-mvc, json, asp.net-web-api

如何在 Web API 控制器中配置操作以返回 XML 而不是 JSON？

我有一个动作，它返回一个具有 XmlElement 属性的 UserProfile 对象：

```
[HttpGet]
        public UserProfile SearchByEmail(string siteName, string email)
        {
            var userProfile = this._profileFinderByEmail.Find(siteName, email);

            if (userProfile == null)
            {
                throw new HttpResponseException(HttpStatusCode.NotFound);
            }

            return userProfile;
        } 
```

当我运行此操作时，它返回 application/json 而不是 xml。我怎么能返回xml？

根据 Fiddler 判断，我发送的请求标头具有以下 Accept 标头键：

```
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8 
```

我希望它返回 xml 但它没有。

如何解决？

我还在 WebApiConfig 类中设置了以下值：

```
GlobalConfiguration.Configuration.Formatters.XmlFormatter.UseXmlSerializer = true; 
```

从 Chrome/网络选项卡查看，我可以看到以下错误：

```
Status Code:406 Not Acceptable 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-25T10:21:58.707

标题看起来是正确的，所以首先你应该检查格式化程序是否存在。您可以使用以下代码段输出所有已注册的格式化程序（您可以在操作方法中使用它）：

```
foreach (var formatter in GlobalConfiguration.Configuration.Formatters)
{
    System.Diagnostics.Debug.WriteLine(String.Format("{0}: {1}", formatter.GetType().Name, String.Join(", ", formatter.SupportedMediaTypes.Select(x=>x.MediaType))));
} 
```

结果将在*Visual Studio的**输出*窗口中可见（将*Show output from*设置为*Debug*）。你应该寻找这样的行：

 ***```
XmlMediaTypeFormatter: application/xml, text/xml 
```

如果它不存在，则意味着它以某种方式被删除，您需要在应用程序中找到该部分代码。如果它在那里，则很可能意味着`DataContractSerializer`无法序列化您的实体（您可以在[此处](http://msdn.microsoft.com/en-us/library/ms731923.aspx)阅读有关支持的类型的更多信息）。

您还提到您`XmlElement`在实体中使用属性。默认情况下`XmlMediaTypeFormatter`使用`DataContractSerializer`（如上所述）将忽略这些属性。如果您想将其切换到`XmlSerializer`您可以使用以下代码（例如在您的`Global.asax`）：

```
GlobalConfiguration.Configuration.Formatters.XmlFormatter.UseXmlSerializer = true; 
```

当然`XmlSerializer`有它自己的一组限制，您需要注意这些限制。***

# iis - Wix Web 应用程序修复

> ID：15611955
> 
> 赞同：1
> 
> 时间：2013-03-25T09:52:08.750
> 
> 标签：iis, web-applications, installation, wix

对于Windows应用程序安装程序..我可以进行修复（而不是卸载然后安装）我的问题是..通过wix安装程序安装Web应用程序后，它可以在IIS管理器上。我可以通过 wix 安装程序修复该 Web 应用程序吗（以避免卸载并再次安装）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-25T14:24:40.980

是的，带有 WiX 工具集的 IIS 标准自定义自定义操作（与 WiX 工具集提供的所有标准自定义操作一样）支持所有这些修复以及安装、卸载、修补、回滚。

# c++ - 使用返回类型作为派生类的指针

> ID：15611959
> 
> 赞同：0
> 
> 时间：2013-03-25T09:52:21.093
> 
> 标签：c++, class, pointers

是否可以在基类中有一个函数，其返回类型为指向派生类的指针？主要目标是供以后在您使用`Base`和`Derived`Class 设置值的地方使用。

```
Base B1;
B1.SetName("nameOfBase");
Derived* D1 = B1.CreateDerived("DerivedFromBase");//CreateDerived method will be in class Base
D1->SetMinPoint(0,1);//this method will be implemented in derived class
D1->SetMaxPoint(4,4);//this method will be implemented in derived class 
```

我在实施中遇到问题，我做了类似的事情

```
class Base
{
public:
  Base();
  bool SetName(char*);//or SetName(string)
  Derived* CreateDerived(char*); // or Derived* CreateDerived(string)
  ~Base();
protected:
  char baseName[20];// or string baseName
  Derived* derivedPtr[5];
};

class Derived: public Base
{
public:
  Derived();
  bool SetName(char*);//the name given in Derived* CreateDerived(char*) will be set here
  ~Derived(); 
}; 
```

当我尝试执行此操作并运行程序时，我会收到类似的错误

```
// Derived* CreateDerived(char*); // or Derived* CreateDerived(string)
error C2143: syntax error: missing ';' before '*'
error C4430: missing type identifier: int assumed. 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-25T10:00:20.967

是的，这是可能的。这似乎是一个有点可疑的设计，但没有什么能阻止你这样做。您只需要`Derived`在引用它之前声明类：

```
class Derived;  //forward declaration here

class Base
{
public:
  Base();
  bool SetName(char*);//or SetName(string)
  Derived* CreateDerived(char*); // or Derived* CreateDerived(string)
  ~Base();
protected:
  char baseName[20];// or string baseName
  Derived* derivedPtr[5];
};

class Derived: public Base
{
public:
  Derived();
  bool SetName(char*); //don't forget semi-colon
  ~Derived(); 
}; 
```

正如@psur 所提到的，您在 . 之后还缺少一个分号`SetName`。

我强烈建议在 C++ 中使用`std::string`而不是`char*`for 字符串。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-25T10:11:04.050

你不能让你的 CreateDerived 方法纯虚拟并在派生类中覆盖它吗？Base 类中方法的返回类型为**Base**，但派生类中的重写方法可以返回您需要的**Derived**实例。我认为那是**Template Method-Pattern**。

你的类继承应该总是表现得像一个 is-a 关系（Derived-Class **is-a** Base-Class）。我认为你的设计建议有点破坏这条规则。

# c# - 将 DateTime 转换为本地不起作用

> ID：15611960
> 
> 赞同：0
> 
> 时间：2013-03-25T09:52:24.810
> 
> 标签：c#, datetime, timezone, globalization, utc

在 MVC4 C# 应用程序中，我尝试将服务器时间转换为本地时间。它在本地工作，但在站点部署时不起作用。为了测试，我检查了部署站点中的一些代码结果。他们是：

```
25.03.2013 04:39:31 - DateTime.Now 
25.03.2013 09:39:31 - DateTime.UtcNow
25.03.2013 04:39:31 - DateTime.UtcNow.ToLocalTime()
25.03.2013 09:39:31 - SpecifyKind(DateTime.UtcNow, DateTimeKind.Local)
25.03.2013 04:39:31 - TimeZoneInfo.ConvertTimeFromUtc(DateTime.SpecifyKind(DateTime.UtcNow, DateTimeKind.Utc), TimeZoneInfo.Local)
25.03.2013 04:39:31 - TimeZoneInfo.ConvertTimeBySystemTimeZoneId(DateTime.UtcNow, TimeZoneInfo.Local.Id)
25.03.2013 04:39:31 - TimeZoneInfo.ConvertTime(DateTime.UtcNow, TimeZoneInfo.Local) 
25.03.2013 04:39:31 - TimeZoneInfo.ConvertTimeFromUtc(DateTime.UtcNow, TimeZoneInfo.Local)
25.03.2013 09:39:31 - TimeZoneInfo.ConvertTimeFromUtc(DateTime.UtcNow, TimeZoneInfo.Utc)
Utc - DateTime.UtcNow.Kind 
```

同时在我的电脑时间是：

**25.03.2013 13:39:31;**

我认为这取决于**全球化**。在配置文件中，我分别尝试了以下变体：

```
 <globalization  uiCulture="en-US"/>,

    <globalization culture="az" uiCulture="az" />,

    <globalization culture="auto" uiCulture="auto" />,

    <globalization culture="az-Latn-AZ" uiCulture="az-Latn-AZ" />,

    <globalization culture="en-US" uiCulture="en-US"/> 
```

但是，什么都没有改变。我的本地时区是**(UTC+04:00) 巴库**，我`DateTime.UtcNow`在所有代码中都使用了。谁能帮我转换服务器时间并像当地时间一样显示？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-25T09:59:05.067

问题是您的站点正在使用它所在服务器的时间和时区。您的问题的解决方案是您将服务器的日期时间（如果您有权这样做）更改为您在本地机器上的本地时间。

如果您想要使用代码的解决方案，您必须使用 Timezone 将 UTC time 转换为您的特定 timezone time 。此链接将为您提供帮助：http: [//msdn.microsoft.com/en-us/library/bb397769.aspx](http://msdn.microsoft.com/en-us/library/bb397769.aspx)

# tfs - 阻止查看 TFS 上的一些代码文件

> ID：15611964
> 
> 赞同：0
> 
> 时间：2013-03-25T09:52:43.000
> 
> 标签：tfs

我在 TFS 上有一个项目，其中包含一个类库和一个网站。我想阻止我的一些用户查看该类库的内容，但可以使用类库的结果（构建后创建的 DLL 文件）。有没有人可以帮助我解决这个问题？！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-25T10:01:03.587

然后，如果我没记错的话，您需要进入源代码管理的安全设置。为此，请`Source Control Explorer`在 Visual Studio 中打开您的项目，右键单击类库项目，单击`Security...`并研究那里的选项。

# mysql - 带有 MySQL 变量的动态 MySQL 语句，可能吗？

> ID：15611967
> 
> 赞同：0
> 
> 时间：2013-03-25T09:52:48.877
> 
> 标签：mysql, sql, select, mysql-select-db

我一直在想，是否可以使用变量动态更改 MySQL 选择语句。

前任。

```
SET @infile=1;
SELECT * 
IF( @infile )
INTO OUTFILE 'myfile.csv'
ENDIF
FROM my_table; 
```

还是我只需要使用我当前的解决方案

```
SELECT *
-- INTO OUTFILE 'myfile.csv'
FROM my_table; 
```

因此，当我想将数据加载到文件中时，我只会取消注释“INTO”行。我的陈述比这个例子大得多，所以如果可能的话，解决方案会让生活更轻松:)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-25T10:53:26.333

考虑创建视图，然后在需要时从视图导出到文件，例如，

```
CREATE VIEW `query1` AS select * FROM my_table;

IF (@infile)
   SELECT * INTO OUTFILE 'myfile.csv' FROM query1;
ELSE
   SELECT * FROM query1;
ENDIF 
```

# c# - C# async/await 如何与更通用的构造相关，例如 F# 工作流或 monad？

> ID：15611972
> 
> 赞同：36
> 
> 时间：2013-03-25T09:52:58.087
> 
> 标签：c#, f#, monads, async-await

C# 语言设计一直（历史上）旨在解决特定问题，而不是寻找解决潜在的一般问题：例如参见[http://blogs.msdn.com/b/ericlippert/archive/2009/07/09/ iterator-blocks-part-one.aspx](http://blogs.msdn.com/b/ericlippert/archive/2009/07/09/iterator-blocks-part-one.aspx)用于“IEnumerable 与协程”：

> 我们本可以让它更通用。我们的迭代器块可以看作是一种弱协程。我们本可以选择实现完整的协程，只是让迭代器块成为协程的一个特例。当然，协程也没有一流的延续那么通用。我们可以实现延续，在延续方面实现协程，在协程方面实现迭代器。

或[http://blogs.msdn.com/b/wesdyer/archive/2008/01/11/the-marvels-of-monads.aspx](http://blogs.msdn.com/b/wesdyer/archive/2008/01/11/the-marvels-of-monads.aspx)用于 SelectMany 作为（某种）Monads 的代理：

> C# 类型系统不够强大，无法为 monad 创建通用抽象，而这是创建扩展方法和“查询模式”的主要动力

我不想问为什么会这样（已经给出了很多好的答案，尤其是在 Eric 的博客中，这可能适用于所有这些设计决策：从性能到增加的复杂性，对编译器和程序员都是如此）。

我想了解的是 async/await 关键字与哪个“一般构造”相关（我最好的猜测是 continuation monad - 毕竟，F# async 是使用工作流实现的，据我所知，这是一个 continuation monad），并且它们与它的关系（它们有何不同？，缺少什么？，为什么会有差距，如果有的话？）

我正在寻找与我链接的 Eric Lippert 文章类似的答案，但与 async/await 而不是 IEnumerable/yield 相关。

> **编辑**：除了很好的答案，一些有用的链接到相关问题和建议的博客文章，我正在编辑我的问题以列出它们：
> 
> *   [`bind`使用 await的起点](http://blogs.msdn.com/b/pfxteam/archive/2012/08/15/implementing-then-with-await.aspx)
> *   [await后面状态机的实现细节](https://stackoverflow.com/questions/4047427/visual-studio-async-ctp-how-does-it-work/4047607#4047607)
> *   [关于 await 如何被编译/重写的其他细节](http://msdn.microsoft.com/en-us/magazine/hh456403.aspx)
> *   [使用延续的替代假设实现（调用/抄送）](https://stackoverflow.com/questions/4070237/how-could-the-new-async-feature-in-c-sharp-5-0-be-implemented-with-call-cc)

* * *

## 回答 #1

> 赞同：39
> 
> 时间：2013-03-25T13:10:23.080

*C# 中的异步编程模型与 F# 中的异步工作流*非常相似，后者是通用*monad*模式的一个实例。事实上，C# 迭代器语法也是这种模式的一个实例，虽然它需要一些额外的结构，所以它不仅仅是*简单的*monad。

解释这一点远远超出了单个 SO 答案的范围，但让我解释一下关键思想。

**一元操作。** C# async 本质上由两个原始操作组成。您可以`await`进行异步计算，也可以`return`从异步计算中获得结果（在第一种情况下，这是使用 new 关键字完成的，而在第二种情况下，我们正在重新使用该语言中已经存在的关键字）。

如果您遵循一般模式（*monad*），那么您会将异步代码转换为对以下两个操作的调用：

```
Task<R> Bind<T, R>(Task<T> computation, Func<T, Task<R>> continuation);
Task<T> Return<T>(T value); 
```

它们都可以很容易地使用标准任务 API 实现——第一个本质上是`ContinueWith`和的组合，`Unwrap`第二个只是创建一个立即返回值的任务。我将使用上述两个操作，因为它们更好地抓住了这个想法。

**翻译。**关键是将*异步代码*转换为使用上述操作的普通代码。

让我们看一个例子，当我们等待一个表达式`e`，然后将结果分配给一个变量`x`并评估表达式（或语句块）`body`（在 C# 中，您可以在表达式内部等待，但您总是可以将其转换为首先将结果分配给的代码一个变量）：

```
[| var x = await e; body |] 
   = Bind(e, x => [| body |]) 
```

我使用的符号在编程语言中很常见。的意思`[| e |] = (...)`是我们将表达式`e`（在“语义括号”中）翻译成其他表达式`(...)`。

在上述情况下，当您有一个带有 的表达式时`await e`，它会被转换为`Bind`操作，并且主体（await 之后的其余代码）被推入一个 lambda 函数，该函数作为第二个参数传递给`Bind`.

这就是有趣的事情发生的地方！该操作可以运行异步操作（由其类型表示），而不是*立即*评估其余代码（或在等待时阻塞线程），并且当操作完成时，它最终可以调用 lambda 函数（继续）运行身体的其余部分。`Bind``e``Task<T>`

翻译的想法是，它将返回某种类型的普通代码转换为`R`异步返回值的任务——即`Task<R>`. 在上面的等式中，返回类型`Bind`确实是一个任务。这也是我们需要翻译的原因`return`：

```
[| return e |]
   = Return(e) 
```

这很简单——当你有一个结果值并且你想返回它时，你只需将它包装在一个立即完成的任务中。这听起来可能没用，但请记住，我们需要返回 a`Task`因为`Bind`操作（以及我们的整个翻译）需要它。

**更大的例子。**如果您查看包含多个`await`s 的更大示例：

```
var x = await AsyncOperation();
return await x.AnotherAsyncOperation(); 
```

代码将被翻译成这样的：

```
Bind(AsyncOperation(), x =>
  Bind(x.AnotherAsyncOperation(), temp =>
    Return(temp)); 
```

关键技巧是 every`Bind`将其余代码变成一个延续（这意味着它可以在异步操作完成时进行评估）。

**继续单子。**在 C# 中，异步机制实际上并没有使用上述翻译实现。原因是如果只关注异步，可以进行更高效的编译（C# 就是这样做的）并直接生成状态机。但是，以上几乎就是异步工作流在 F# 中的工作方式。这也是 F# 中额外灵活性的来源——您可以定义自己的内容`Bind`并`Return`表示其他内容——例如处理序列的操作、跟踪日志记录、创建可恢复的计算，甚至将异步计算与序列结合起来（异步序列可以产生多个结果, 但也可以等待)。

F# 实现基于*continuation monad*，这意味着`Task<T>`（实际上，`Async<T>`）在 F# 中的定义大致如下：

```
Async<T> = Action<Action<T>> 
```

也就是说，异步计算是一些动作。当你给它`Action<T>`（一个延续）作为参数时，它会开始做一些工作，然后，当它最终完成时，它会调用你指定的这个动作。如果您搜索 continuation monads，那么我相信您可以在 C# 和 F# 中找到更好的解释，所以我会在这里停下来......

* * *

## 回答 #2

> 赞同：33
> 
> 时间：2013-03-25T15:20:23.753

托马斯的回答非常好。添加更多内容：

> C# 语言设计一直（历史上）旨在解决特定问题，而不是寻找解决潜在的一般问题

虽然这有*一些*道理，但我认为这不是一个完全公平或准确的描述，所以我将通过否认你的问题的前提来开始我的回答。

确实存在一个*范围*，一端是“非常具体”，另一端是“非常一般”，特定问题的解决方案属于该范围。C# 作为一个整体被设计为针对许多特定问题的高度通用的解决方案；这就是通用编程语言。您可以使用 C# 编写从 Web 服务到 XBOX 360 游戏的所有内容。

由于 C# 被设计为一种通用编程语言，因此当设计团队识别出特定的用户问题时，他们总是会考虑更一般的情况。LINQ 就是一个很好的例子。在 LINQ 设计的早期，它只不过是一种将 SQL 语句放入 C# 程序的方法，因为这是确定的问题空间。但在设计过程中，团队很快意识到排序、过滤、分组和连接数据的概念不仅适用于关系数据库中的表格数据，还适用于 XML 中的分层数据，以及内存中的临时对象。因此，他们决定采用我们今天拥有的更通用的解决方案。

设计的诀窍是找出在频谱上停止的地方是有意义的。设计团队可以说，查询理解问题实际上只是更一般的绑定 monad 问题的一个特例。绑定单子问题实际上只是在更高种类的类型上定义操作的更一般问题的一个特定情况。当然，类型系统有一些抽象......足够了。当我们开始解决 bind-an-arbitrary-monad 问题时，解决方案现在已经如此普遍，以至于最初推动该功能的业务线 SQL 程序员完全迷失了，我们没有并没有真正解决他们的问题。

自 C# 1.0 以来添加的真正主要特性——泛型类型、匿名函数、迭代器块、LINQ、动态、异步——都具有在许多不同领域中非常有用的特性。它们都可以被视为更一般问题的具体示例，但对于*任何问题的**任何*解决方案都是如此；你总是可以让它更通用。这些特性中的每一个的设计理念是找到一个点，即它们不能被更通用化*，而不会让用户感到困惑*。

 **既然我已经否认了你的问题的前提，让我们来看看实际的问题：

> 我想了解的是 async/await 关键字与哪个“一般构造”相关

这取决于你怎么看了。

async-await 功能是围绕`Task<T>`类型构建的，正如您所注意到的，monad。当然，如果你和 Erik Meijer 谈到这个，他会立即指出这`Task<T>`实际上是一个*共胞*；你可以`T`从另一端取回价值。

查看该功能的另一种方法是使用您引用的有关迭代器块的段落，并将“异步”替换为“迭代器”。与迭代器方法一样，异步方法是一种协程。如果您愿意，可以将其`Task<T>`视为协程机制的一个实现细节。

第三种看待特性的方式是说它是一种 call-with-current-continuation（通常缩写为 call/cc）。它不是 call/cc 的完整实现，因为它没有考虑注册延续时调用堆栈的状态。有关详细信息，请参阅此问题：

[c# 5.0 中新的异步特性如何用 call/cc 来实现？](https://stackoverflow.com/questions/4070237)

> 我会等着看是否有人（埃里克？乔恩？也许是你？）可以填写更多关于 C# 实际如何生成代码来实现等待的细节，

重写本质上只是迭代器块如何重写的一种变体。Mads 在他的 MSDN 杂志文章中详细介绍了所有细节：

[http://msdn.microsoft.com/en-us/magazine/hh456403.aspx](http://msdn.microsoft.com/en-us/magazine/hh456403.aspx)**

# ios - 更新 ios 和 xcode 后在部署时出现错误“Xcode 找不到安装此版本的软件映像”

> ID：15611973
> 
> 赞同：0
> 
> 时间：2013-03-25T09:53:06.513
> 
> 标签：ios, iphone, ios6

我不断收到错误：

部署时“Xcode 找不到安装此版本的软件映像”？

我将我的 iPhone 升级到了 6.1.3 版本，并且最近也将 xcode 更新到了最新版本。在此之前，我可以将我的应用程序部署到我的手机上，但现在我的应用程序不会部署到我的设备上。

我是否必须再次制作另一个配置文件和所有这些东西？（我在几个月前完成了这一切，当我还在使用 iOS 5 时，一切都正常了）。

谢谢，

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-05-14T04:46:18.887

我有这个问题。最终我发现刷新了我的配置文件（在管理器中，选择设备，在库中选择配置文件（左上角）并单击刷新（右下角）。然后我的设备准确地反映了我的配置文件并且一切正常。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-25T09:54:20.803

您需要将 Xcode 的版本升级到 4.6 才能使用 iOS 6.1.3 设备进行测试和部署。

Xcode 的最新版本是 4.6.1。您可以使用 Appstore 应用程序对其进行更新。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-03T11:21:46.127

在管理器窗口中看到消息“xcode 找不到安装此版本的软件映像”...这只是一个通知，而不是一个有问题的错误。

来源：[https ://stackoverflow.com/a/8537034/736384](https://stackoverflow.com/a/8537034/736384)

所以，如果是更新问题，**Rajan**的回答应该可以解决，如果不是：

该消息与您无法编译的问题无关。当您要编译时，Xcode 没有显示任何消息错误吗？

无论如何，您可以**尝试重新启动 Xcode** （如果它正在运行，请先退出**iTunes ）。**

# mysql - MySQL根据结果集确定列类型

> ID：15611978
> 
> 赞同：0
> 
> 时间：2013-03-25T09:53:23.843
> 
> 标签：mysql

假设我有一个存储过程或只是一个复杂的`SELECT`语句。我想知道*返回的列的类型是什么*。在 MySQL 中是否有可能，或者我必须使用一些编程访问并从那里读取结果值？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-25T10:02:47.950

如果您想知道列的类型，可以使用该`SHOW COLUMNS`语句。看看：[http ://dev.mysql.com/doc/refman/5.6/en/show-columns.html](http://dev.mysql.com/doc/refman/5.6/en/show-columns.html)

# c#-4.0 - 如何使用 value = null 检查拆箱可空类型的类型？

> ID：15611985
> 
> 赞同：0
> 
> 时间：2013-03-25T09:53:38.617
> 
> 标签：c#-4.0, nullable, unboxing

看看这个方法：

```
Dictionary<string,object> ViewModelParams = new Dictionary<string,object>();

AddParam(string paramKey,value)
{
    viewModelParams.Add(paramKey,value);
}

T GetParam<T>(string paramKey)
{
    if(viewModelParams[paramKey] is T)
        return (T)viewModelParams[paramKey];
    else
        throw exception...
} 
```

对于**Nullable**类型的表达式`if(viewModelParams[paramKey] is T)`，如果字典中的值为 null，则无法正常工作，以澄清：

```
int? item=null;
AddParam("key",item);
GetParam<int?>("key")// throw exception because of 
                     // (viewModelParams[paramKey] is T) is false 
```

[我知道可空类型（ Boxing Nullable Types](http://msdn.microsoft.com/en-us/library/ms228597%28v=vs.100%29.aspx) ）的装箱和拆箱概念，但我不知道`if(viewModelParams[paramKey] is T)`在这种情况下用哪个表达式替换？

# maven - Maven Pom父子配置文件问题

> ID：15611988
> 
> 赞同：0
> 
> 时间：2013-03-25T09:53:50.857
> 
> 标签：maven, maven-profiles

我在父 pom.xml 和子 pom.xml 中定义了配置文件，但是当我尝试`mvn install -P profile name`从父项目运行时，配置文件中定义的属性没有被复制

我的父 pom.xml 看起来像：

```
 <dependencies>
              <dependency>
              <groupId>xxx</groupId> 
              <artifactId>xxx</artifactId> 
              <version>0.0.1-SNAPSHOT</version>
              <type>pom</type>
            </dependency>
            </dependencies>

            <plugin>
            <artifactId>maven-resources-plugin</artifactId>
            <executions>
            <execution>
            <id>copy-resources</id>
            <phase>verify</phase>
                <goals>
                <goal>copy-resources</goal>
                </goals>
            <configuration>
                <outputDirectory>${basedir}/src/main/webapp/WEB-INF/classes</outputDirectory>                               <resources>
            <resource>
            <directory>deployment/${environment}</directory>
            </resource>
            </resources>
            </configuration>
            </execution>
            </plugin> 
```

我的孩子 pom.xml：

```
 <plugin>
        <artifactId>maven-resources-plugin</artifactId>
        <executions>
        <execution>
        <id>copy-resources</id>
        <phase>verify</phase>
            <goals>
            <goal>copy-resources</goal>
            </goals>

        </execution>
        </plugin> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-25T09:59:44.533

您需要从孩子那里参考您的父母：

```
<parent>
    <groupId>org.company.groupid</groupId>
     <!-- Artifact id of the parent here -->
    <artifactId>parentArtifactId</artifactId>
     <!-- Version of the parent here -->
    <version>1.0-SNAPSHOT</version>
</parent> 
```

# ruby-on-rails - Rails：如何设置 Active Record 关联？

> ID：15611991
> 
> 赞同：0
> 
> 时间：2013-03-25T09:53:54.663
> 
> 标签：ruby-on-rails, activerecord, associations

我对 Rails 比较陌生，做最简单的事情：关联用户和帖子。我读[了这个](http://guides.rubyonrails.org/association_basics.html)，但是我还需要做些什么才能让它工作（或者这是唯一的事情）？：

```
class User < ActiveRecord::Base
  has_many :posts, :dependent => :destroy
end

class Post < ActiveRecord::Base
  belongs_to :user
end 
```

**更新：** 我不能让它工作。当我与登录用户一起发帖时，我`@user.posts.any?`在控制台中发帖时会出错。我的代码：

post.rb

```
class Post < ActiveRecord::Base
  attr_accessible :title, :user_id
  belongs_to :user
  before_create :default_values 
```

user.rb（我使用设计）

```
class User < ActiveRecord::Base
  devise :database_authenticatable, :registerable,
         :recoverable, :rememberable, :trackable, :validatable

  attr_accessible :email, :password, :password_confirmation, :remember_me
  has_many :posts, dependent: :destroy
end 
```

20130320162700_create_posts.rb

```
class CreatePosts < ActiveRecord::Migration
  def change
    create_table :posts do |t|
      t.string :title
      t.integer :user_id

      t.timestamps
    end
  end
end 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-25T10:02:31.710

您应该确保在创建帖子表的迁移中包含用户的 ID。在您的迁移文件中（在 db/migrate 文件夹中，您将找到一个名为 20130325105934_create_posts.rb 的文件）

在文件中，您将找到迁移代码。沿着其他声明的属性添加

```
class CreatePosts < ActiveRecord::Migration
  def change
    create_table :posts do |t|
     ...... 
     t.integer :user_id
     ......
  end 
```

结尾

这应该足以让事情顺利进行:-)

在您的代码中，您可以创建一个新用户

```
@user = User.new(:login => "my_user", .....) 
```

然后使用这两种方式之一添加帖子（还有其他两种方式）。

```
post = Post.new(:title => "something", :text => "more of something", :user_id = @user.id) 
```

或者

```
 post = Post.new(:title => "something", :text => "more of something")
   @user.posts << post 
```

# android - Android：应用程序以空数据重新启动

> ID：15611996
> 
> 赞同：-1
> 
> 时间：2013-03-25T09:54:19.750
> 
> 标签：android

我的问题是当我尝试在一小时后重新启动应用程序时，应用程序以空数据打开，我相信内核会在不终止进程的情况下删除资源。请帮助我.thx

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-25T10:09:02.410

我猜你必须将数据存储在某种持久存储中。android平台上可用的选项很少：

[http://developer.android.com/guide/topics/data/data-storage.html](http://developer.android.com/guide/topics/data/data-storage.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-25T10:09:02.757

“空数据”是什么意思？如果您的意思是一些动态变量，那么它们的状态当然会在应用重启后丢失。

您应该处理应用程序关闭事件并保存所需的数据，然后恢复所需的数据。

例如，您可以处理`onPause()`要在其中保存数据并将所需数据存储在[`SharedPreferences`](http://developer.android.com/reference/android/content/SharedPreferences.html)或文件或`SQLite database`. `onResume()`然后在方法中恢复该数据。

我建议您阅读有关 Android[`Apps`](http://developer.android.com/guide/components/fundamentals.html#Components)和生命周期[`Activities`](http://developer.android.com/reference/android/app/Activity.html)的信息[`Fragments`](http://developer.android.com/guide/components/fragments.html)。

升级版：

您说您正在使用静态`ArrayList`并在那里存储数据，当然应用程序重启后数据会丢失。因此，您需要将数据保存`ArrayList`到`file`或`database`使用最简单的解决方案并将其存储在[`Bundle`](http://developer.android.com/reference/android/os/Bundle.html).

例子：

```
/**
* Saving data
*/
@Override
public void onSaveInstanceState(Bundle savedInstanceState)
{
    super.onSaveInstanceState(savedInstanceState);
    // Here you can save your data
    // If you want to store your ArrayList, it should implement Parselable
    savedInstanceState.putParcelableArrayList("STORE_KEY", yourArrayListWhichShouldImplementParcelable);
}

/**
* Restoring data
*/
@Override
public onRestoreInstanceState(Bundle savedInstanceState)
{
    super.onRestoreInstanceState(savedInstanceState);
    yourArrayList = (YourArrayList) savedInstanceState.getParcelableArrayList("STORE_KEY");
} 
```

像这样的东西

# axapta - 哪个是可用于负载测试 Microsoft Dynamics AX 2012 应用程序的最佳工具？

> ID：15611997
> 
> 赞同：1
> 
> 时间：2013-03-25T09:54:20.393
> 
> 标签：axapta, dynamics-ax-2012

我们应该对动态 ax 2012 应用程序的性能进行基准测试。我之前没有动态 ax 2012 或桌面应用程序负载测试的经验。如果有人做过同样的工作，请告诉我最好的可用选项。从我一直在阅读的内容来看，我已经收集到没有像应用程序基准工具包（适用于 ax 2009）适用于 ax 2012。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-03T13:19:44.727

目前，Microsoft 已经发布了一些基准测试白皮书，特别是“Microsoft Dynamics AX 2012 Day in the Life Benchmark”，它提供了有关环境大小的一些指导。如果您想进行自己的负载测试，目前没有简单的方法可以实现。您可以合理获得的最接近的是：

1.  使用 X++ 或 C# 编写大量例程或作业，调用 AX 服务并执行操作。这将使您可以执行诸如输入大量客户和订单以及为操作计时之类的操作。但是，这并没有对客户端性能进行基准测试。

2.  Visual Studio 2010 Ultimate 具有 UI 自动化测试工具，允许您附加到应用程序并创建执行某些操作的 UI 测试。您可以使用它在 Dynamics AX 客户端中进行手动测试，然后多次运行它们。显然，这仅在您需要测试客户端性能时才是理想的。

3.  根据 Convergence 2013 最近的帖子，Microsoft 应该会在 2013 年 4 月/5 月发布看似满足您要求的负载测试工具，因此从时间的角度来看，您实际上可能会走运，除非您的实施期限非常紧迫。

从性能的角度来看一些快速的经验法则：

*   不要虚拟化 SQL Server，微软说最好的情况下（你有一个非常好的 SQL 管理员），你会受到 15% 的性能影响，更糟糕的情况是接近 60%。

*   使用专用的 AOS 来处理诸如批处理作业之类的事情，因为随着系统变得越来越成熟，它们往往会越来越多地参与其中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-02-12T09:27:34.677

我会回答一个老问题，也许它会帮助一些未来通过谷歌登陆这里的人。

与此同时，还有一个用于动态 AX 2012 的应用程序基准 SDK。您可以[在此处](http://www.microsoft.com/en-us/download/details.aspx?id=39082)找到完整的文档。

基本上它是您从 Visual Studio 运行的一组测试，有一些可用的标准测试，SDK 允许您执行自己的测试

# c# - 与 Cortex-A15 相比，在 Cortex-A9 上运行时，对某个函数的调用次数显着增加

> ID：15611999
> 
> 赞同：1
> 
> 时间：2013-03-25T09:54:24.483
> 
> 标签：c#

我拥有 MS Surface 和三星 Ativ Tab。我对它们都运行了 touchXPRT 基准测试并分析了性能。我发现在图像的编码和解码过程中（使用windows.graphics.imaging库，C#），有一个函数（XYZW_YZXW_32bpp_NEON）在这个过程中的主要用途。在 Ativ 上显示 32 次调用此函数，在 Surface 上显示 192 次调用。（6倍差异）。我想进一步分析这一点并找出它发生的原因。krait CPU（在 Ativ 上）与 cortex-A15 非常相似，而 Surface 具有 Cortex-A9（tegra 3）。NEON 架构可能有所不同。我如何坚定并说NEON确实对此负责。我可以运行任何测试来确认这一点吗？我在 NEON 没有任何基础，我需要这方面的帮助。

touchXPRT 和底层操作系统的代码是一样的。谢谢