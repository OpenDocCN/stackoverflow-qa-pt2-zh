# StackOverflow 问答 12541000-12541999

# php - 如何在php中将html表格导出为ex cel或pdf

> ID：12541000
> 
> 赞同：16
> 
> 时间：2012-09-22T05:28:03.577
> 
> 标签：php

在我的 php 页面中，我有一个表，如果用户需要，他必须将该表导出到 excel 表。

显示表格的代码是：

```
$sql=mysql_query("SELECT * FROM attendance WHERE (year = '" . 
mysql_real_escape_string($_SESSION['year']) . "') and ( branch= '" . 
mysql_real_escape_string(($_SESSION['branch'])). "') and ( sem= '" . 
mysql_real_escape_string(($_SESSION['sem'])). "') and (sec= '" . 
mysql_real_escape_string(($_SESSION['sec'])). "')"); print "<body 
background='bg.jpg'>";                                                  
Print "<br><br><BR><center><table border 
cellpadding=3><tr><th>idno</th><th>name</th><th>subject</th><th>Held 
Classes</th><th>Attended Classes</th></tr>";   
while($data=mysql_fetch_array( 
$sql ))   { 

echo "<tr><td>".$data['idno']." </td><td>".$data['name'] . " 
<td>".$data['subject']." </td><td>".$data['heldcls'] . " 
<td>".$data['attendcls']." </td>"; } 
Print "</table><br><br><form action = excel.php method = POST><input type = 
'submit' name = 'submit' Value = 'Export to excel'></form></center>"; 
```

我如何将此表导出到excel表。**excel.php**中的代码应该是什么。请帮助我..提前谢谢你..

* * *

## 回答 #1

> 赞同：31
> 
> 时间：2012-09-22T05:31:41.330

您可以使用[CSV 函数](http://www.homeandlearn.co.uk/php/php10p6.html)或[PHPExcel](https://github.com/PHPOffice/PHPExcel)

或者你可以尝试如下

```
<?php
$file="demo.xls";
$test="<table  ><tr><td>Cell 1</td><td>Cell 2</td></tr></table>";
header("Content-type: application/vnd.ms-excel");
header("Content-Disposition: attachment; filename=$file");
echo $test;
?> 
```

.xlsx 文件的标题是`Content-type: application/vnd.openxmlformats-officedocument.spreadsheetml.sheet`

* * *

## 回答 #2

> 赞同：18
> 
> 时间：2013-03-28T18:26:23.697

如果你想要的只是一个简单的 Excel 工作表，试试这个：

```
header('Content-type: application/excel');
$filename = 'filename.xls';
header('Content-Disposition: attachment; filename='.$filename);

$data = '<html xmlns:x="urn:schemas-microsoft-com:office:excel">
<head>
    <!--[if gte mso 9]>
    <xml>
        <x:ExcelWorkbook>
            <x:ExcelWorksheets>
                <x:ExcelWorksheet>
                    <x:Name>Sheet 1</x:Name>
                    <x:WorksheetOptions>
                        <x:Print>
                            <x:ValidPrinterInfo/>
                        </x:Print>
                    </x:WorksheetOptions>
                </x:ExcelWorksheet>
            </x:ExcelWorksheets>
        </x:ExcelWorkbook>
    </xml>
    <![endif]-->
</head>

<body>
   <table><tr><td>Cell 1</td><td>Cell 2</td></tr></table>
</body></html>';

echo $data; 
```

这里的关键是xml数据。这将使 excel 不会抱怨该文件。

* * *

## 回答 #3

> 赞同：10
> 
> 时间：2012-09-22T05:35:39.800

使用 PHP Excel 生成 Excel 文件。您可以在这里找到一个名为 PHPExcel 的好软件：[https ://github.com/PHPOffice/PHPExcel](https://github.com/PHPOffice/PHPExcel)

并用于`PDF`生成使用[http://princexml.com/](http://princexml.com/)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2014-07-28T15:28:18.303

```
<script src="jquery.min.js"></script>
<table border="1" id="ReportTable" class="myClass">
    <tr bgcolor="#CCC">
      <td width="100">xxxxx</td>
      <td width="700">xxxxxx</td>
      <td width="170">xxxxxx</td>
      <td width="30">xxxxxx</td>
    </tr>
    <tr bgcolor="#FFFFFF">
      <td><?php                 
            $date = date_create($row_Recordset3['fecha']);
            echo date_format($date, 'd-m-Y');
            ?></td>
      <td><?php echo $row_Recordset3['descripcion']; ?></td>
      <td><?php echo $row_Recordset3['producto']; ?></td>
      <td><img src="borrar.png" width="14" height="14" class="clickable" onClick="eliminarSeguimiento(<?php echo $row_Recordset3['idSeguimiento']; ?>)" title="borrar"></td>
    </tr>
  </table>

  <input type="hidden" id="datatodisplay" name="datatodisplay">  
    <input type="submit" value="Export to Excel"> 
```

导出表.php

```
<?php
header('Content-Type: application/force-download');
header('Content-disposition: attachment; filename=export.xls');
// Fix for crappy IE bug in download.
header("Pragma: ");
header("Cache-Control: ");
echo $_REQUEST['datatodisplay'];
?> 
```

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2019-10-22T09:23:37.190

**将 Excel 导出到 Html 表的最简单方法**

```
$file_name ="file_name.xls";
$excel_file="Your Html Table Code";
header("Content-type: application/vnd.ms-excel");
header("Content-Disposition: attachment; filename=$file_name");
echo $excel_file; 
```

# iphone - iPhone应用程序中的相机控制

> ID：12541001
> 
> 赞同：1
> 
> 时间：2012-09-22T05:28:29.830
> 
> 标签：iphone, camera

我创建了一个包含相机选项的应用程序。在该相机视图中，我添加了一个帮助按钮，当用户要拍照时，该按钮应显示在该相机视图中。但在用户拍照后它应该隐藏。我只需要相机控件和照片预览，而不是帮助按钮。我应该在哪里为此编写函数。我发现很难做到这一点。等待回复。

# java - 连接行为 - DriverManager.getConnection() 和 DataSource.getConnection()

> ID：12541005
> 
> 赞同：9
> 
> 时间：2012-09-22T05:29:19.907
> 
> 标签：java, jdbc, connection, resultset

`DriverManager.getConnection()`如果我使用and获得连接对象`DataSource.getConnection()`，在这些对象上调用它们时它们的行为有何不同`.close()`？

在`.close()`方法调用之前，我从这两个不同的连接中获得了相关的`Statement`和对象。`ResultSet`获得这两个对象后不久，如果我说`connection1.close()`（通过`DriverManager.getConnection()`），它将使连接对象无效，并且我不应该/不允许访问相关的 Statement 和 ResultSet 对象。如我错了请纠正我？

第二种情况，现在如果我说`connection2.close()`（通过`DataSource.getConnection()`），它只是将它返回到池中。但连接仍然存在。我可以访问关联的`Statement`和`ResultSet`对象吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-22T08:11:28.213

如果我们假设一个（基本的）`DataSource`（即：一个不做连接池的），那么您获得的物理连接与从`DriverManager`（一些驱动程序甚至在内部使用来自 DataSource 的 DriverManager 或来自 DriverManager 的 DataSource ）。因此，这些连接的行为将相同。

现在，如果我们假设 a`DataSource`提供连接池，那么 DataSource 本身使用 a `ConnectionPoolDataSource`（或类似的内部机制）来获取 a `PooledConnection`。这个 PooledConnection 管理到数据库的实际物理连接。

当用户从 DataSource 请求连接时，DataSource 将检出一个 PooledConnection，并要求它提供一个`Connection`. PooledConnection 然后将创建一个使用或包装物理连接的逻辑连接（例如使用代理）。DataSource 会将该逻辑连接返回给用户。

对于用户来说，逻辑连接的行为应该在所有方面都与物理连接相同。因此，当用户关闭连接时，该逻辑连接和所有相关的 JDBC 对象将被关闭，并且其行为与物理连接关闭相同。

JDBC 4.1 第 11.1 节说：

> 连接池对客户端是完全透明的：客户端获得一个池连接并使用它，就像它获得和使用非池连接一样。

第 11.4 节：

> 如果应用程序尝试重用逻辑句柄，Connection 实现将引发 SQLException。

和

> 对于给定的 PooledConnection 对象，只有最近生成的逻辑 Connection 对象才有效。调用关联的 PooledConnection.getConnection 方法时，任何先前存在的 Connection 对象都会自动关闭。

然而，在后台，当逻辑连接关闭时，PooledConnection 将向 DataSource 发出信号，表明它可以重用，然后 DataSource 会将其返回到连接池，或者如果它关闭 PooledConnection（关闭物理连接）不再需要连接。

DataSource 还可以通过要求 PooledConnection 关闭逻辑连接来强制撤销用户的连接（例如，当连接签出时间过长时等）。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-22T07:16:08.100

> connection1.close()（通过 DriverManager.getConnection()），

这将关闭与数据库和所有资源建立的物理连接，即。结果集、语句、连接已发布。因此，连接关闭后您将无法访问它们。

> connection2.close()（通过 DataSource.getConnection()）

这是依赖于 DataSource 实现的，因此行为不需要在不同的 DataSource 实现之间保持一致。此外，在给定的 DataSource 实现中，连接的实际生命周期取决于各种其他参数，强烈建议不要将此连接与通过 DriverManager 获得的连接区分开来。

如果您真的希望在and关闭`ResultSet`后保留在 中的数据，您可以查看它是否适合您的用例。`Statement``Connection`[`CachedRowSet`](http://docs.oracle.com/javase/1.5.0/docs/api/javax/sql/rowset/CachedRowSet.html)

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-09-22T08:03:45.483

客户端缓存可能取决于用于连接不确定的驱动程序。但是，一旦连接关闭，某些驱动程序会特别阻止您使用语句或结果集。其他人在客户端维护结果集

# python - Google App Engine 是否支持 Python 的信号模块？

> ID：12541011
> 
> 赞同：3
> 
> 时间：2012-09-22T05:30:30.927
> 
> 标签：python, google-app-engine, signals, sandbox

> **可能重复：**
> [如何限制 Python 版 Google App Engine 中特定方法的允许执行时间？](https://stackoverflow.com/questions/4859734/how-can-you-limit-the-allowed-execution-time-of-specific-methods-in-the-python-v)

当我在 Eclipse 中运行以下代码时，没有任何反应，正如预期的那样：

```
import signal

def signal_handler(signum, frame):
    raise Exception, "Timed out!"
signal.signal(signal.SIGALRM, signal_handler) 
```

但是，当我尝试使用 GAE 运行它时，出现错误：

```
signal.signal(signal.SIGALRM, signal_handler)
AttributeError: 'module' object has no attribute 'signal' 
```

我的猜测是，GAE 运行的 Python 版本与 Eclipse 不同，它可能会删除/阻止某些模块，因为谷歌拥有这种能力。

我的代码来自：[如何限制 Python 中函数调用的执行时间](https://stackoverflow.com/questions/366682/how-to-limit-execution-time-of-a-function-call-in-python)

帮助？谢谢

# boolean - 作业：化简 f=Σ(8,12,13,14)+dΣ(3,7,9,10)

> ID：12541013
> 
> 赞同：0
> 
> 时间：2012-09-22T05:30:40.427
> 
> 标签：boolean

我正在使用卡诺图做布尔代数的这个问题`Simplify f=Σ(8,12,13,14)+dΣ(3,7,9,10)`..谁能告诉我这个问题中的 d 是什么？我知道这是一个愚蠢的问题，但我在谷歌上找不到。请告诉我这个问题是什么意思？我的意思是在没有 d 表达式的情况下直接简化是可以的，但是 d 表达式在这里表示什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-22T05:33:43.480

d 代表“不在乎”。单元格 3、7、8、10 不会影响 F 的值。这会有所帮助，因为如果忽略这些单元格，您可能可以获得更简单的表达式。

# erlang - Erlang Bit Syntax：它怎么知道它是 3 个组件？

> ID：12541021
> 
> 赞同：1
> 
> 时间：2012-09-22T05:31:58.870
> 
> 标签：erlang, bit-manipulation

我一直在阅读有关 Erlang 的书，以评估它是否适合我的项目，并且对[Learn You Some Erlang for Great Book](http://learnyousomeerlang.com/starting-out-for-real)的位语法部分感到困惑。

简单来说，代码如下：

```
1> Color = 16#F09A29.
15768105
2> Pixel = <<Color:24>>.
<<240,154,41>> 
```

令我困惑的是：`Color`变量是 24 位的，但是 Erlang 怎么知道它必须将变量（在第 2 行）分成三段？规则是怎么读的？

我试图阅读本章的其余部分，但它让我越来越困惑，因为我不明白它是如何划分数字的。你能解释一下位语法是如何工作的吗？它怎么知道它是 3 段，`<<154, 41>>`当我这样做时它怎么会变成：

```
1> Color = 16#F09A29.
15768105
2> Pixel = <<Color:16>>.
<<154,41>> 
```

之前谢谢。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-22T11:05:40.887

Color = 16#F09A29 是一个整数，可以写成十进制表示的 15768105，以及

> 00000000111100001001101000101001

以二进制表示。

当您定义二进制像素 = << Color:24 >>。它只是意味着您说“将 24 个不太重要的颜色位与二进制像素匹配”。所以 Pixel 有界

> 111100001001101000101001,

**没有任何分裂！** 当 shell 将其打印出来时，它会以十进制表示形式逐字节执行，即：

> 11110000 = 15*16 = 240, 10011010 = 9 * 16 + 10 = 154, 00101001 = 2 * 16 + 9 = 41 => << 240,154,41 >>

同样的，当你定义 Pixel = << Color:16 >> 时，它只需要 16 个较低的有效位并将它们分配给二进制 =

> 1001101000101001,

打印 10011010 =

> 9 * 16 + 10 = 154, 00101001 = 2 * 16 + 9 = 41 => << 154,41 >>。

在 <> 的情况下，二进制现在等于

> 100001001101000101001

（21个较低的有效位），当shell打印它们时，它像往常一样开始，将二进制文件分成字节，所以

10000100 = 8*16 + 4 = 132, 11010001 = 13 *16 +1 = 209，因为它只剩下5位01001，所以最后一块数据以5:9打印出来告诉我们最后一个值的大小不是8 位 = 1 个字节，但只有 5 位 =>

> << 132,209,5:9 >>。

二进制文件的好处是您可以使用大小规范“解码”它们（也许下面的示例更清楚）。

```
(exec@WXFRB1824L)43> Co=16#F09A29.
15768105
(exec@WXFRB1824L)44> Pi = <<Co:24>>.
<<240,154,41>>
(exec@WXFRB1824L)45> <<R:8,V:8,B:8>> = Pi.
<<240,154,41>>
(exec@WXFRB1824L)46> R.
240 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-22T05:35:56.513

Erlang 并没有真正“划分”任何东西。二进制文件只是连续的数据块。它是由 REPL 打印的默认人类可读表示，是一个以逗号分隔的字节值列表。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-22T05:40:28.763

它只是显示构成二进制文件的 8 位字节。您告诉它获取 24 位，并以每个字节的数字表示 (0-255) 呈现它们。

# parsing - （非 vbr）mp3 文件的长度（时间）

> ID：12541023
> 
> 赞同：0
> 
> 时间：2012-09-22T05:32:48.900
> 
> 标签：parsing, mp3, compression

我目前正在研究 mp3 格式以构建 mp3 解码器。经过一番思考，我发现计算歌曲长度的最简单方法是将大小除以比特率（考虑到 ID3 标签的大小等），然后将结果转换为分钟。在几首歌曲上使用这种方法，我得到了准确的时间。我一直假设歌曲的时间是纯音频数据的长度，但在这种方法中，帧也被“考虑”为歌曲的一部分（在计算时间时）。另外，我知道mp3文件中的音频数据是经过压缩的，所以解压后的大小当然会变大，这样时间计算就显得不准确了。我在这里错过了什么吗？因为它对我来说没有任何意义，歌曲长度是用压缩数据而不是未压缩数据计算的，并且每个 DWORD 帧都不会被忽略。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-22T05:39:57.937

> 我一直假设歌曲的时间是纯音频数据的长度，但在这种方法中，帧也被“考虑”为歌曲的一部分（在计算时间时）。另外，我知道mp3文件中的音频数据是经过压缩的，所以解压后的大小当然会变大，这样时间计算就显得不准确了。

当媒体流（如 MP3 文件）以恒定比特率压缩时，该比特率反映的是数据的压缩大小，而不是未压缩的大小。所以你的数学很好。

这种方法会让你失望的是元数据标签（例如，ID3）——它们是文件大小的一部分，但不计入比特率，因为它们不是音频数据。幸运的是，这些往往相对较小，因此它们不会对您的结果产生太大影响。

# c# - WPF应用程序的单元测试

> ID：12541027
> 
> 赞同：0
> 
> 时间：2012-09-22T05:33:49.143
> 
> 标签：c#, .net, wpf, unit-testing

这是一个简单的 WPF 应用程序代码的一部分：3 个文本框、一个下拉列表和一个按钮。通过单击按钮，将检查输入值。

```
 private void Button_Click_1(object sender, RoutedEventArgs e)
    {
        if (textBox1.Text.Length>127)
            throw new ArgumentException();
        if (string.IsNullOrEmpty(textBox2.Text))
            errorsList.Add("You must to fill out textbox2");
        else if (string.IsNullOrEmpty(textBox3.Text))
           errorsList.Add("You must to fill out textbox3"); 
       else if
        {
            Regex regex = new Regex(@".........");
            Match match = regex.Match(emailTxt.Text);
            if (!match.Success)
                errorsList.Add("e-mail is inlvalid");
        }
        //.....
     } 
```

我必须使用任何单元测试框架对其进行测试。我想知道是否可以在这里进行单元测试？我想不是吧？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-22T05:43:51.480

如果不进行重构，就不可能对您拥有的当前代码进行单元测试。您应该将该逻辑封装在 ViewModel 类中。我想你可以有类似的东西

```
DoTheJob(string1,string2,string3,...) 
```

和viev 模型`error/errorList/exList`一样。`ObservableCollections`有了这些前提条件，您可以编写一套单元测试来检查您的代码行为。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-23T11:14:49.440

所以基本上你需要一个代表你的 UI 的视图模型类

```
 public class ViewModel
    {
        public ViewModel()
        {
            ButtonClickCommand = new RelayCommand(Validate);
        }

        private void Validate()
        {
            if (Text1.Length > 127) 
                throw new ArgumentException();
            if (string.IsNullOrEmpty(Text2)) 
                ErrorList.Add("You must to fill out textbox2");
            else if (string.IsNullOrEmpty(Text3)) 
                ErrorList.Add("You must to fill out textbox3");
            else
            {
                Regex regex = new Regex(@".........");
                Match match = regex.Match(Email);
                if (!match.Success) ErrorList.Add("e-mail is inlvalid");
            }
        }

        public string Text1 { get; set; }
        public string Text2 { get; set; }
        public string Text3 { get; set; }
        public string Email { get; set; }
        public ObservableCollection<string> ErrorList { get; set; }
        public ICommand ButtonClickCommand { get; private set; }
    } 
```

并且 ViewModel 的实例应该附加到您的控件/窗口的 DataContext 属性。

在这种方法中，您可以按照您想要的方式对您的 ViewModel 进行单元测试 :)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-06-15T16:45:16.283

好吧，如果你命令绑定你的按钮

```
<Button Command="{Binding SayHello}">Hello</Button> 
```

然后在您的单元测试中，您应该能够在按钮上执行命令。

```
var button = GetMyButton();
button.Command.Execute(new object()); 
```

# javascript - 带有数字格式的 Jquery keydown() 在 android webview 上无法正常工作

> ID：12541028
> 
> 赞同：2
> 
> 时间：2012-09-22T05:33:49.613
> 
> 标签：javascript, android, jquery, html, webview

我在 android 浏览器/webview 上遇到了一个奇怪的行为。我正在测试一个将自动格式化为电话号码格式“（xxx）xxx-xxxx”的输入。但是后来发生的事情是，当我在 androids 键盘上点击或按任意数字时，第一个输入是这样的“（x”但随后光标位于“（”和“x”之间。有没有办法将光标放在后面“x”值？

我在 iPhone 和 windows 网络浏览器上对此进行了测试，它运行良好。如果我的 jquery 或 javascripts 有错误，请告诉我。

谢谢

HTML 代码：

```
<html>
    <head> 
        <title>Sample Phone Number Format</title>
        <script type="text/javascript" src="http://code.jquery.com/jquery-1.8.2.min.js"></script>
    </head>
    <body>
        <input type="text" id="phone" /> 

        <script type="text/javascript">
            $('#phone').on('keydown', function (event) {

                objval = $(this).val();
                if (event.keyCode == 46 || event.keyCode == 8) {} else {
                    if (!((event.keyCode > 47 && event.keyCode < 58) || (event.keyCode > 95 && event.keyCode < 106) || (objval.length > 13))) {
                        event.preventDefault();
                    } else {
                        if (objval.length == 0) {
                            $(this).val(objval + '(');
                            alert(objval + '(');
                        } else if (objval.length == 4) {
                            $(this).val(objval + ') ');
                            alert(objval + ') ');
                        } else if (objval.length == 9) {
                            $(this).val(objval + '-');
                            alert(objval + '-');
                        } else if (objval.length >= 14) {
                            if (event.keyCode == 9) {
                                return;
                            } else {
                                event.preventDefault();
                            }
                        }
                    }
                }
            });

            $('#phone').on('keydown', function (event) {

                var objVal = $(this).val();
                if(objVal.length < 14)
                {
                    validateCallerForm(objVal + String.fromCharCode((96 <= event.keyCode && event.keyCode <= 105)? event.keyCode-48 : event.keyCode));
                }
            });

            //Validates proper phone format, true if valid phone number, false otherwise
            function isValidPhoneNumber(elementValue) {
                var numberPattern = /^\(?(\d{3})\)?[- ]?(\d{3})[- ]?(\d{4})$/;
                return numberPattern.test(elementValue);
            }

            //validates entire caller form, also updates css classes for proper response
            function validateCallerForm(PhoneNumber) {

                if (isValidPhoneNumber(PhoneNumber)) {
                    alert("true");
                } else {
                    alert("false");
                }

            }
        </script>
    </body>
</html> 
```

给予 +50 赏金谁会正确回答这个问题

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T02:55:21.147

我重写了#phone keydown 事件的代码，这将适用于 iPhone、Android、webkit 浏览器。

```
$('#phone').on('keydown', function (event) {
    if (event.keyCode == 8 || event.keyCode == 37 || event.keyCode == 39) {
        // ignore if BKSPCE, left arrow, or right arrow
    } else {
        // validate if anything else
        inputval = $(this).val();
        var string = inputval.replace(/[^0-9]/g, "");
        var first3 = string.substring(0,3);
        var next3 = string.substring(3,6);
        var next4 = string.substring(6,10);
        var string = ("(" + first3 + ") " + next3 + "-" + next4);
        $(this).val(string);
    }
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T19:44:10.370

简短的回答是设置输入元素的`selectionStart`和`selectionEnd`属性。格式化值后，将这些属性设置为`this.value.length`。

```
this.selectionStart = this.value.length;
this.selectionEnd = this.value.length; 
```

但是，当光标不在文本末尾时，您会遇到麻烦。例如，用户手动将光标定位到文本内的某个位置。为了防止光标跳到末尾，您需要在格式化输入之前检测光标位置，然后在格式化后将光标放回适当的位置。

**编辑：** [这个 jsFiddle](http://jsfiddle.net/dkDPr/6/)可能会让你开始，但还不完美。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-26T12:20:37.033

我建议至少从现有插件开始，而不是通过您自己孤立的几轮解决问题。

[http://digitalbush.com/projects/masked-input-plugin/](http://digitalbush.com/projects/masked-input-plugin/)

[https://github.com/igorescobar/jQuery-Mask-Plugin](https://github.com/igorescobar/jQuery-Mask-Plugin)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-25T09:56:20.093

您必须首先定义用于键入和复制粘贴的侦听器，如下所示（不是必需的）：

```
$("#phone").keyup( function() {
    maskLine(this);
});
$("#phone").change( function() {
    maskLine(this);
}); 
```

然后，要管理光标位置，您必须缓存以前的电话号码，然后，如果需要，您可以比较差异并更新光标位置。所以声明，你必须声明一个像这样的全局数组：

```
var _cacheElementValues = new Array(); 
```

最后，您可以检查以下功能，它将您的掩码应用于电话号码字段并管理光标位置：

```
function maskLine( element ) {
    element = $(element);
    var maskedLine = '';
    var line = element.attr('value');

    // check the cache of the input and abord if no change since last treatment
    if (_cacheElementValues[element.attr('id')] != undefined && _cacheElementValues[element.attr('id')] == line) {
        return;
    }
    line = line.replace(/\D/g, ''); // remove all characters != digits
    line = line.substring(0, 10);
    if (line != '') {
        // apply mask
        if (line.length <= 2 ) {
            maskedLine = "(" + line;
        } else if (line.length < 6) {
            maskedLine = line.replace(/^([0-9]{3})([0-9]{0,3})/g, '($1) $2');
        } else {
            // mask : '(XXX) XXX-XXXX'
            maskedLine = line.replace(/^([0-9]{3})([0-9]{3})([0-9]{0,4})/g, '($1) $2-$3');
        }        
    }

    // define cursor position at the end of the input by default
    var pos = maskedLine.length;

    // Change cursor placement if necessary
    if (typeof element[0].selectionStart != 'undefined') {
        var start = element[0].selectionStart;
        var end   = element[0].selectionEnd;
        var insText = element[0].value.substring(start, end);

        // get current cursor placement
        if (insText.length == 0) {
            pos = start;
        } else {
            pos = start + insText.length;
        }

        // find how many digits typing since last mask application
        var previousLength = 0;
        if (_cacheElementValues[element.attr('id')] != undefined) {
            previousLength = _cacheElementValues[element.attr('id')].replace(/\s/g, '').length;
        }
        var diff = maskedLine.replace(/\s/g, '').length - previousLength;

        // if sum of new typing digit is > 0 : we change cursor placement
        if (diff > 0) {
            pos += (diff - 1) + Math.round((diff-1)/3);
            if (pos%6 == 0 && maskedLine.length >= pos+1) pos++;
        }
    }

    // update input data & cache
    element.val(maskedLine);
    _cacheElementValues[element.attr('id')] = maskedLine;

    // update cursor placement
    element[0].selectionStart = element[0].selectionEnd = pos;    
} 
```

您可以在 jsFiddle 上找到此示例：http: [//jsfiddle.net/UE9LB/5/](http://jsfiddle.net/UE9LB/5/)

我希望这个小小的解释可以解决你的问题；）享受！

ps：我为我糟糕的英语道歉：s

# sql-server - 如何获取所有列的唯一记录

> ID：12541029
> 
> 赞同：0
> 
> 时间：2012-09-22T05:33:50.563
> 
> 标签：sql-server

```
Pro_Code  Pro_Name         Size1    Size2   Size3   Size4   Size5   Size6
P001      Shirt                 M   L   XL  XXl SS  S
P002    T-shirt                 M   L   XL  SS  S   M
P003    Formal                  M   L   SS  S   M   XL 
```

检查此表中的记录，例如 Size1 有多个 M 条目，但如果我们想获取 DropDownlist 中的所有尺寸，它应该显示唯一条目，例如 size1 有多个 M 条目但在下拉列表中它应该只有一次 M。所有尺寸到 size6 都相同。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-22T05:36:29.230

尝试 DISTINCT[查看示例](http://blog.sqlauthority.com/2007/12/20/sql-server-distinct-keyword-usage-and-common-discussion/)

```
SELECT DISTINCT Size1  FROM TABLE 
```

如果你想把所有尺寸放在一起

```
SELECT Size1  FROM TABLE UNION
SELECT Size2  FROM TABLE UNION
SELECT Size3  FROM TABLE UNION
SELECT Size4  FROM TABLE UNION
SELECT Size5  FROM TABLE UNION
SELECT Size6  FROM TABLE 
```

**编辑**：

如果列中有空白，请避免使用空白.null 列

```
SELECT DISTINCT Size1  FROM TABLE where isnull(Size1,'')<>'' 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-22T05:36:42.367

使用不同的

[SQL DISTINCT 在 Select 查询中](http://www.w3schools.com/sql/sql_distinct.asp)

# php - 遍历 PHP 中远程托管在服务器上的 500 MB 文件的字节

> ID：12541038
> 
> 赞同：0
> 
> 时间：2012-09-22T05:35:43.677
> 
> 标签：php, file-get-contents

我有一个托管在远程服务器上的大文件（500 MB）。此文件包含使用 AMF3 嵌入的可识别字节块。这些块可以通过我提前设置的预定义字符串前缀来识别。在这种情况下，我在创建过程中的各个点将字符串“前缀”附加到文件中。

我想使用PHP遍历文件的整个长度，找到这些字符串前缀的确切位置，而不是在服务器上本地复制文件，但是我遇到了问题。现在，我正在使用一个简单的 file_get_contents 和一个指向远程服务器上文件的 HTTP URL，如下所示：

```
$file = file_get_contents('http://remote.server.com/file.xxx')

while($offset = strpos($file, 'prefix', $offset + 1)){

//find prefix string value here using regex
// store the position of the value somewhere

} 
```

不幸的是，它在非常大的文件上效果不佳，我收到 500 内部服务器错误。 **有没有更好的方法来遍历远程托管的整个文件的字节，而无需先在本地复制文件？**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-22T07:16:40.850

您可以使用`fopen()`然后以块的形式读取文件，而不是读取整个文件，一边搜索前缀字符串。但是，如果前缀恰好跨越块边界，这可能会变得棘手。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-22T07:53:44.537

这很粗糙

```
$file = fopen('http://remote.server.com/file.xxx');
 $contents = '';
while (!feof($file )) {

   $contents .= fread($file , 8192);
   $found = strpos($contents , 'prefix') ;
    if ($found  > 0)
         {
          //do your thing
          $contents  = substr($contents,$found,8192) ;
            } 
} 
```

# mysql - 如何从mysql表中计算排名

> ID：12541040
> 
> 赞同：2
> 
> 时间：2012-09-22T05:36:24.770
> 
> 标签：mysql, sql

> **可能重复：**
> [Mysql rank 函数](https://stackoverflow.com/questions/3333665/mysql-rank-function)

我在 MySQL 中有下表：

```
===================================================================
id  | member|  total_correct_question | time_taken_in_seconds |

===================================================================
1   |  abc  |     2                    |       4              |
2   |  def  |     3                    |       6              |
3   |  ghi  |     3                    |       4              |
4   |  jkl  |     3                    |       5              |
==================================================================== 
```

我想从 mysql 查询中显示每个用户的排名。任何人都可以建议我对此进行查询吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-22T05:46:15.057

try this:

```
 SELECT @i:=@i+1 AS rank,a.*
  FROM
      (SELECT * 
       FROM   Your_table  
       ORDER BY total_correct_question DESC,
                time_taken_in_seconds)a,(SELECT @i:=0) r 
```

# [SQL Fiddle demo](http://sqlfiddle.com/#!2/9354a/1)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-22T05:51:53.387

您可以创建一个从原始查询生成笛卡尔积的子查询，最有趣的是您可以将其递增一（*然后结果为 RANK Number*）。

```
SELECT    @rankNo:=@rankNo+1 RankNo,
          a.*
FROM      Table1 a, (SELECT @rankNo:=0) r 
ORDER BY `total_correct_question` DESC,
         `time_taken_in_seconds` ASC 
```

# [SQLFiddle 演示](http://sqlfiddle.com/#!2/6343b/6)

# c++ - stringstream::ignore(INT_MAX, '\n') 导致流失败

> ID：12541049
> 
> 赞同：0
> 
> 时间：2012-09-22T05:36:56.377
> 
> 标签：c++, stream, stringstream

`stringstream`我打电话时似乎总是失败`stringstream::ignore()`，即使这是在打电话后完成的`stringstream::clear()`：

```
#include <iostream>
#include <fstream>
#include <sstream>
#include <string>
#include <cassert>

using namespace std;

int main() {
    int a, b;
    stringstream ss;
    string str;
    ifstream inFile("file.txt");
    if(!inFile) {
        cerr << "Fatal: Cannot open input file." << endl;
        exit(1);
    }

    while(getline(inFile, str)) {
        ss << str;                // read string into ss
        ss >> a >> b;             // stream fails trying to store string into int

        ss.clear();               // reset stream state
        assert(ss.good());        // assertion succeeds

        ss.ignore(INT_MAX, '\n'); // ignore content to next newline
        assert(ss.good());        // assertion fails, why?
    }

    return 0;
} 
```

`file.txt`包含以下文本：

```
123 abc
456 def 
```

为什么后面是`ss.good()`假的`ss.ignore()`？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-22T07:21:41.413

`std::endl`输出`\n`并刷新流。然而，`stringstream::flush()`毫无意义，什么也不做。`flush`仅当底层缓冲区与终端等输出设备绑定时才有意义，但是，a`stringstream`无处可刷新内容。如果要清除字符串流的内容，请`ss.str("");`改为执行。但是，我可能会将代码更改为以下内容：

```
while(getline(inFile, str)) {
    ss.str(str);              // call ss.str() to assign a new string to the stringstream
    if(!ss >> a >> b)         // check if stream fails trying to store string into int
    {
        ss.clear();           // Read failed, so reset stream state
    }
    else
    {
        // Read successful
    }
    // Do other stuff
} 
```

Also, if you want to insert a newline into the stringstream, just do `ss << '\n';` and do not call `std::endl`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-22T05:36:56.377

事实证明，结尾没有换行符`ss`。执行以下语句后：

```
getline(infile, str);
ss << str; 
```

`ss`不会包含换行符，因为`getline()`不会在存储到第二个参数的字符串末尾添加换行符。结果，当这个语句被执行时：

```
ss.ignore(INT_MAX, '\n'); 
```

流失败，因为它到达流的末尾而没有找到要停止的换行符。

* * *

`ss.ignore()``ss.str()`如果用于存储字符串， 则不需要，它会替换流的全部内容。~~如果流失败，则应将其重置并将其内容设置为空字符串`""`。或者，`ss.ignore()`可以使用，但只要在读取数据后立即将换行符插入流中，这样就不会导致流失败——但如果稍后设置流的内容，这将是多余的使用`ss.str()`.~~

`ss.clear()`可以通过在为流分配文件下一行的内容之前调用来确保成功读取文件的下一行，因为流的旧内容会被覆盖`ss.str()`。流状态可以在循环开始时重置，即使流在循环后期失败也不会出现问题：

```
while(getline(inFile, str)) {
    ss.clear();   // make sure stream is good
    ss.str(str);  // overwrite contents of stream with str
    ss >> a >> b;
    // Even if the stream fails after this line, the stream is reset before each
    // line is stored into the stream, and no problems should occur while reading
    // and parsing subsequent lines in the file.

    // Code to validate and store data from file...
} 
```

# ember.js - createRecord() 后关联消失

> ID：12541052
> 
> 赞同：1
> 
> 时间：2012-09-22T05:37:13.850
> 
> 标签：ember.js

我有一个指向一个人的拨号器：

```
App.Dialer = DS.Model.extend({
    created_at:       DS.attr('date'),
    person:           DS.belongsTo('App.Person'),
    didCreate: function() { alert('didCreate: ' + this + ', ' + this.get('person')); }
});

App.Person = DS.Model.extend({
    name:             DS.attr('string'),
    dialers:          DS.hasMany('App.Dialer')
}); 
```

我创建了一个新的拨号器：

```
var d = App.store.createRecord(App.Dialer, {
    person:  App.Person.find(1)
});
alert('before commit: ' + d + ', ' + d.get('person'));
App.store.commit();
alert('after commit: '  + d + ', ' + d.get('person')); 
```

它在服务器上正确创建记录，并正确设置了 person_id。调用 commit() 之前和之后的两个警报语句也可以正常工作，同时填充了 dialer 对象和它的 person 对象。

但是，在创建记录后，当 Ember 调用我的 didCreate 事件处理程序时，人员关联消失了，而当我调用 this.get('person') 时，我得到了 'null'，即使 'this' 的值是新的 dialer 对象，与前两个警报具有相同的 id。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-23T23:52:37.123

**用于更新 (PUT)**

我发现 HTTP 服务器响应`204 No Content`（带有空正文）避免在多请求提交期间重置关联。

从历史上看，我更喜欢 REST API 来返回`200 OK`更新的数据，但这是避免在提交中途污染客户端数据的明智选择。

**用于创建 (POST)**

在您的 Dialer 模型上，编写一个回调以在事务完成后重新加载对象：

```
didCreate: function() {
  // Re-GET the backing data to populate associations that were wiped out during nested creation.
  Ember.run.next(this, function() {
    this.get('store').findQuery(App.Dialer, { ids: [this.get('id')] });
  });
} 
```

它会导致额外的 HTTP 请求，并且可能还需要服务器更改以返回查询的对象。对于我的 Rails 3.2 应用程序，我做了一个控制器操作，例如：

```
 def index
    if Array===params[:ids]
      @dialers = Dialer.find(params[:ids])
    else
      @dialers = []
    end
    render :index
  end 
```

# javascript - jquery.easing jQuery 冲突

> ID：12541057
> 
> 赞同：0
> 
> 时间：2012-09-22T05:38:12.340
> 
> 标签：javascript, jquery

我在一个页面中使用了根据菜单和幻灯片。我从使用 jquery.easing.1.3.js 到根据菜单使用“easeOutBounce”。

现在菜单工作正常。

但它与滑块冲突。我不需要 Slider 的这种效果。我不知道如何解决这个问题。

我不需要“easeOutBounce”影响此 URL 的底部幻灯片。

`$.easing.def = "easeOutBounce";`当我从我的代码中删除这一行时，幻灯片不是问题。但我需要这个效果来根据菜单。

我的代码是

```
<script>
    $(document).ready(function(){
        $.easing.def = "easeOutBounce";
        $('li.button a').click(function(e){
            var dropDown = $(this).parent().next();
            $('li.dropdown').not(dropDown).slideUp('slow');
            dropDown.slideToggle('slow');
            e.preventDefault();
        })
    });
</script>
<script>
    $(function(){
        $('#slides_two').slides({
            generateNextPrev: true,
            pagination: false,
            preload: true,
            preloadImage: 'images/loading.gif',
            generatePagination: false,
            play: 10000,
            slideSpeed: 3000,
            effect: 'slide',
            pause: 4000,
            hoverPause: true
        });
    });
</script> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-22T06:44:53.023

您可以为滑块使用**slideEasing**选项。这就是您的代码使用此选项的方式：

```
<script type="text/javascript">
      $(document).ready(function(){
    $.easing.def = "easeOutBounce";
    $('li.button a').click(function(e){
    var dropDown = $(this).parent().next();
    $('li.dropdown').not(dropDown).slideUp('slow');
    dropDown.slideToggle('slow');
    e.preventDefault();
})

      });
      </script>
      <script type="text/javascript">
    $(function(){

        $('#slides_two').slides({
            generateNextPrev: true,
            pagination: false,
            preload: true,
            preloadImage: 'images/loading.gif',
            generatePagination: false,
            play: 10000,
            slideSpeed: 3000,
            effect: 'slide',
            pause: 4000,
            hoverPause: true,
            slideEasing: "jswing"
        });

        });
</script> 
```

您可以[在此处](http://gsgd.co.uk/sandbox/jquery/easing/)查看缓动类型。

# c++ - 程序意外结束 - QT creator

> ID：12541060
> 
> 赞同：4
> 
> 时间：2012-09-22T05:38:47.530
> 
> 标签：c++, qt, qt-creator

我正在尝试使用 QT creator 来开发使用 QT 框架的 GUI/Console 应用程序。我正在使用 Windows XP。我安装了 QT 4.8.3 和 mingw。两者都安装没有任何错误。然后我安装了 QT creator。QT 版本：Qt 4.8.2 in PATH (4.8.2) Mingw(manual)
编译器路径：C:\MinGW\bin\g++.exe 调试器路径：C:\MinGW\bin\gdb.exe mkspec：win32-g++

```
 EnvironmentVariables:
 QTDIR, PATH, MinGW, 
 PATH includes 4.8.2\bin; mingw\bin 
 INCLUDE : 4.8.2\include 
```

当我尝试使用 qt creator 开发应用程序时，它已正确构建，并且生成的二进制文件也没有任何错误。但是当我尝试运行应用程序时，它崩溃了

程序意外结束。C:\Qt\4.8.2\examples\widgets\analogclock-build-desktop-Qt_4_8_2_in_PATH__4_8_2__Debug\debug\analogclock.exe 退出，代码为 -1073741819

此崩溃来自 QT 库提供的示例应用程序（它是模拟时钟）

请尝试帮助我，我是否需要设置任何变量或其他

非常感谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-23T09:38:13.137

我有完全相同的问题，昨天解决了。

如果 的输出`g++ --version`没有说类似`4.4`，这是二进制不兼容。您必须获得 MinGW 4.4。它包含在 QtSDK 中，或者至少包含在其中。接下来，配置您的 QtCreator 设置（“Build & Run > Toolchains”）。

# c++ - 变量在没有被初始化的情况下被使用

> ID：12541061
> 
> 赞同：1
> 
> 时间：2012-09-22T05:39:25.523
> 
> 标签：c++, variables, initialization

所以变量`hoursWorked`没有初始化。但是，如果我希望它等于用户存储在其中的任何内容，我应该如何初始化它？例如，我想`hoursWorked`成为任何人在其中输出的任何内容`cin`。这是我的代码：

```
#include <iostream>

using namespace std;

int main () 
{
   //Declare Variables
   double hoursWorked;
   double payRate;
   double incomeBeforeTax;

   payRate = 15;
   incomeBeforeTax = payRate * hoursWorked;

   cout << "Enter hours worked: ";
   cin >> hoursWorked;
   cout << endl;
   cout << incomeBeforeTax << endl; 

   return 0;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-22T05:45:30.907

The calculation of `incomeBeforeTax` which references `hoursWorked` needs to occur after you initialize it by reading from `cin`. Move that line after `cin >> hoursWorked;` and it will work:

```
payRate = 15.0;

cout << "Enter hours worked: ";
cin >> hoursWorked;

incomeBeforeTax = payRate * hoursWorked;

cout << endl;
cout << incomeBeforeTax << endl; 
```

C++, like most procedural languages evaluates your code in the order in which it is written. That is, `incomeBeforeTax = payRate * hoursWorked;` assigns a value to `incomeBeforeTax` based on the current values of `payRate` and `hoursWorked`. These must be defined and initialized before the assignment is performed. That is what `cin >> hoursWorked` does.

On a side note, `double` variables are best initialized with `double` literals so add `.0` to the value.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-09-21T19:38:30.933

通过使用

```
incomeBeforeTax = payRate * hoursWorked; 
```

在`hoursWorked`被初始化之前，你似乎表明了`incomeBeforeTax`需要的意图。保持这种意图的一种方法是创建一个函数并在需要时使用该函数`incomeBeforeTax`。

例子：

```
#include <iostream>

using namespace std;

int main () 
{
   //Declare Variables
   double hoursWorked;
   double payRate;

   // Define a function that encodes the intent of what
   // incomeBeforeTax needs to be.
   auto incomeBeforeTax = [&]() { return payRate*hoursWorked; };

   payRate = 15;

   cout << "Enter hours worked: ";
   cin >> hoursWorked;
   cout << endl;
   cout << incomeBeforeTax() << endl; 

   return 0;
} 
```

# java - java抱怨数组数组的Array Index Out of Bound

> ID：12541062
> 
> 赞同：0
> 
> 时间：2012-09-22T05:39:35.207
> 
> 标签：java, arrays

这段代码有什么问题？

```
public class HelloWorld {

        public static void main(String[] args) {
                int[] a={4,3,2,5,1,8,6,7};
                System.out.println(Arrays.toString(HelloWorld.split_array(a)[0])); //expect 4325 here
        } 

    public static int[][] split_array(int[] a){
            int [][] result={};
            int mid = (int) (a.length)/2;
            result[0] = Arrays.copyOfRange(a, 0, mid);
            result[1] = Arrays.copyOfRange(a, mid, a.length);
            return result;
        }

    } 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-22T05:48:48.673

You have declared an array with size zero like this:

```
int [][] result={}; 
```

You're trying to access the first and second element of it like this:

```
result[0] = Arrays.copyOfRange(a, 0, mid);
result[1] = Arrays.copyOfRange(a, mid, a.length); 
```

...but they aren't there because the size is zero.

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-22T05:50:15.647

您已初始化`result`为一个空数组。Java 中的数组不会像脚本语言那样自动增长。相反，您需要将它们分配到正确的大小。在这种情况下，您需要执行以下操作：

```
int [][] result = new int[2][]; 
```

这将创建一个大小为 2 的 int 数组的新数组，然后您可以按预期分配数组。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-22T05:53:17.313

问题不在于，`Arrays.copyOfRange(a, 0, mid);`而是在于`result[0]`，因为您尚未初始化数组。`

这是工作代码：

```
public class Test {
public static void main(String[] args) {
        Test h = new Test();
        int[] a = { 4, 3, 2, 5, 1, 8, 6, 7 };
        System.out.println(Arrays.toString(h.split_array(a)[0])); // expect 4325
                                                                    // here
    }
    public int[][] split_array(int[] a) {
        int[][] result = new int[2][];
        int mid = (int) (a.length) / 2;
        result[0] = Arrays.copyOfRange(a, 0, mid);
        result[1] = Arrays.copyOfRange(a, mid, a.length);
        return result;
    }

} 
```

# c# - 管理相似的对象类

> ID：12541063
> 
> 赞同：0
> 
> 时间：2012-09-22T05:39:43.040
> 
> 标签：c#, object, architecture

在 C# 中，我正在制作一个桌面应用程序，其中包含一个名为 Task 的类的对象列表。每个任务包含一些功能，这些功能将在任务执行时由任务执行。

我的问题是如何管理函数，因为有多种类型的函数，可能有一个带有要移动的类的函数（在这种情况下它需要矢量数据）可能还有一个要等待的类（在这种情况下它会需要一些整数数据）。

这样做的最佳方法是什么？

我的想法是让每种类型的函数都有自己的类（等待类和移动类），并且所有这些类都继承自具有函数 Execute() 的函数类。但即使这样也行不通，因为我需要让用户更改每个对象中的数据，并且由于没有相同类型的数据，因此变得非常困难。

这是一个关于架构的问题，因为我是编程新手，我知道我会在如何去做这件事上做出错误的决定，并且会使我的程序无法维护，**我当前设计的唯一问题是更改子类函数数据，例如知道请求向量数据而不是整数数据。**

FYI 会有很多 Function 子类我只举了两个例子，每个都有非常独特的数据。（接受资源链接）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-22T05:50:54.647

从我可以从您的帖子中得知，您谈论拥有扩展父类的类。您将定义一个父类（或接口），该类将具有您正在做的事情的基本方法。如果您选择一个接口，您只需制作方法存根。子类如果扩展父类可以选择覆盖该方法。如果它是一个实现接口的类，则该类将被迫制作接口中定义的方法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-22T09:29:28.607

从具有所有方法的基类/接口扩展，并使用属性网格用其独特的类特定数据填充每个子类。

# c# - 保存时外键为空

> ID：12541065
> 
> 赞同：0
> 
> 时间：2012-09-22T05:39:55.443
> 
> 标签：c#, .net, nhibernate, nhibernate-mapping

当试图在数据库中保存具有多对一关系的父母时，孩子不会使用正确的父亲 ID 进行更新。

我在这里发现了类似的问题，尽管它们对我不起作用：

[NHibernate 一对多外键为 NULL](https://stackoverflow.com/questions/4207758/nhibernate-one-to-many-foreign-key-is-null)

[nhibernate 多对一父级在插入时始终为空](https://stackoverflow.com/questions/8152707/nhibernate-many-to-one-parent-is-always-null-on-insert)

这是我的“父亲”映射，后跟它的类：

```
<?xml version="1.0" encoding="utf-8"?>
<hibernate-mapping assembly="FrancosPoS" namespace="FrancosPoS.DBMapping" xmlns="urn:nhibernate-mapping-2.2">
  <class name="order" table="`order`" lazy="true" >
    <id name="idOrder">
      <generator class="identity" />
    </id>
    <property name="price">
      <column name="price" sql-type="decimal(8,4)" not-null="true" />
    </property>
    <property name="cash">
      <column name="cash" sql-type="tinyint(1)" not-null="false" />
    </property>
    <property name="credit">
      <column name="credit" sql-type="tinyint(1)" not-null="false" />
    </property>
    <property name="obs">
      <column name="obs" sql-type="varchar(350)" not-null="false" />
    </property>
    <bag name="orderPsi" table="ordPsi" cascade="all" inverse="true">
      <key column="idOrdPastaI"/>
      <one-to-many class="ordPsi"/>
    </bag>
  </class>
</hibernate-mapping> 
```

班级：

```
namespace FrancosPoS.DBMapping
{    
    public partial class order
    {
        public order() { }
        public virtual int idOrder { get; set; }
        public virtual string price { get; set; }
        public virtual System.Nullable<int> cash { get; set; }
        public virtual System.Nullable<int> credit { get; set; }
        public virtual string obs { get; set; }
        public virtual IList<ordPsi> orderPsi { get; set; }
    }
} 
```

然后，我可以有尽可能多的 orderPsi 引用相同的订单：

```
<?xml version="1.0" encoding="utf-8"?>
<hibernate-mapping assembly="FrancosPoS" namespace="FrancosPoS.DBMapping" xmlns="urn:nhibernate-mapping-2.2">
  <class name="ordPsi" table="ord_psi" lazy="true" >
    <id name="idOrdPastaI">
      <generator class="identity" />
    </id>
    <many-to-one insert="false" update="false" lazy="false" name="order" class="order">
      <column name="idOrder" sql-type="int(11)" not-null="false" />
    </many-to-one>
    <property name="obs">
      <column name="obs" sql-type="varchar(50)" not-null="false" />
    </property>
    <property name="price">
      <column name="price" sql-type="decimal(8,4)" not-null="true" />
    </property>
  </class>
</hibernate-mapping> 
```

班级：

```
public partial class ordPsi
{
    public ordPsi() { }
    public virtual int idOrdPastaI { get; set; }
    public virtual order order { get; set; }
    public virtual string obs { get; set; }
    public virtual string price { get; set; }
} 
```

最后，为了保存它：

```
order order = new order();
ordPsi orderPsi = new ordPsi();

order.price = "321";
order.cash = 1;
order.credit = 0;

orderPsi.order = order;
orderPsi.price = "20.00";
order.orderPsi = new List<ordPsi>();
order.orderPsi.Add(orderPsi); //add the child to the father
orderDB.setOrder(order); 
```

使用数据库方法：

```
public string setOrder(order order)
{
    try
    {
        databaseConnection conn = new databaseConnection();
        conn.OpenConnection();

        conn.Session.SaveOrUpdate(order);

        conn.Commit();
        conn.CloseConnection();

        return "Success";
    }
    catch (Exception err)
    {
        return "Error: " + err;
    }
} 
```

一切都编译得很好并保存到数据库中，因为我没有空约束，但是 ordPsi 表没有用 orderID 更新。

我还尝试在提交之前保存这两个对象；离开 inverse="false" 而不设置“orderPsi.order = order”，但没有成功。

如果这有帮助，我最关注这两个教程：

[NHibernate 逆属性](http://www.emadashi.com/index.php/2008/08/nhibernate-inverse-attribute/)

[一对多与逆](http://ajlopez.wordpress.com/2011/05/28/nhibernate-3-part-7-one-to-many-with-inverse/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-22T07:39:56.833

在 OrdPsi 映射中删除 update="false" insert="false" - 它们明确告诉 NHibernate 在更新或插入时不要在列上设置值。所以 NHibernate 在插入时基本上会排除它，因此是空值。

# scala - Scala 隐式返回和 if-then-else 语句

> ID：12541072
> 
> 赞同：2
> 
> 时间：2012-09-22T05:41:57.877
> 
> 标签：scala

我的问题之一是 -**如果我们依赖隐式返回，它很容易出错**，

例如。

```
def foo(bar: Int): Int =
{
    if (f1(bar)) 0
    if (f2(bar)) 1 
    else -1
} 
```

有时我们只是忘记了`else`声明，为了解决这个问题，大括号被强制执行，例如，.eg

```
def foo(bar: Int): Int =
{
    if (f1(bar)) {
        0
    } else if (f2(bar)) {
        1
    } else {
        -1
    }
} 
```

但是新样式太`verbose`恕我直言，有什么办法解决吗？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-09-22T07:12:54.837

实际上，我从来没有遇到过这个问题，而且我犯了很多愚蠢的错误。我怀疑你完全有能力学会不跳过 else 语句。（请注意，大括号没有任何帮助；您仍然可以跳过`else`中间的那个。）

如果您真的真的发现这是一个问题，您可以滥用以下`match`声明：

```
true match {
  case _ if f1(bar) => 0
  case _ if f2(bar) => 1
  case _ => -1
} 
```

这将防止你犯任何错误。或者你可以自己写一个实用方法：

```
trait Conditional[+A] {
  def apply[B >: A](p: => Boolean, b: => B): Conditional[B]
  def or[B >: A](default: => B): B
}
class FoundIt[+A](it: A) extends Conditional[A] {
  def apply[B >: A](p: => Boolean, b: => B) = this
  def or[B >: A](default: => B) = it
}
class NothingYet[+A] extends Conditional[A] {
  def apply[B >: A](p: => Boolean, b: => B) = {
    if (p) new FoundIt(b) else this
  }
  def or[B >: A](default: => B) = default
}
def ifelse[A](p: => Boolean, a: => A) = (new NothingYet[A]).apply(p,a)

ifelse( f1(bar), 0 )( f2(bar), 1 ) or -1 
```

这对于长表达式来说有点乱，所以你也可以（`:paste`如果你想让它在那里工作，可以把它放在一个大块的 REPL 中）：

```
trait Predicate[+A] {
  def Or(p: => Boolean): Loadable[A]
  def Else[B >: A](default: => B): B
} 
trait Loadable[+A] {
  def Then[B >: A](b: => B): Predicate[B]
}
object NotYetTrue extends Predicate[Nothing] {
  def Or(p: => Boolean) = if (p) ActuallyLoad else SkipLoading
  def Else[B >: Nothing](default: => B) = default
}
object SkipLoading extends Loadable[Nothing] {
  def Then[B >: Nothing](b: => B) = NotYetTrue
}
object ActuallyLoad extends Loadable[Nothing] {
  def Then[B >: Nothing](b: => B) = new Loaded[B](b)
}
class Loaded[+A](a: A) extends Predicate[A] with Loadable[A] {
  def Or(p: => Boolean) = this
  def Else[B >: A](default: => B) = a
  def Then[B >: A](b: => B) = this
}
def If(p: => Boolean): Loadable[Nothing] = NotYetTrue.Or(p) 
```

现在唯一的技巧是你必须`:paste`在 REPL 中使用来编写一个多行语句，并将延续放在上一行的末尾：

```
If (f1(bar)) Then 0 Or
(f2(bar)) Then 1 Else
-1 
```

您还可以`Then { 0`在一行上使用并在下一行重新开始`} Or`，或者用括号/大括号和点编写所有内容（这是 REPL 友好的）：

```
If (f1(bar)) .Then (0) .
Or (f2(bar)) .Then (1) .
Else (-1) 
```

无论如何，所有这些技巧都很好地说明了如何使用 Scala 构建复杂的 DSL，但并不是解决问题的最佳方法。你应该学会对 if/else 语句更加小心；否则，人们会对你为什么不以标准方式做事感到困惑。（如果它是性能关键的，它可能会很慢——`match`非常好，但在`If`高性能循环中魔法并不好。）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-22T06:53:59.820

我明白了。没有足够的人说，对于一个函数来说，一个以上的条件太多了！

折叠一些功能以应用。也可以表示为 collectFirst。

```
object Ifless extends App {
  def f1(i: Int) = i == 1
  def f2(i: Int) = i == 2
  def p1(i: Int) = if (f1(i)) Some(0) else None
  def p2(i: Int) = if (f2(i)) Some(1) else None
  def default(i: Int) = Some(-1)  //whatever
  def f(i: Int): Int = {
    val ps = List(p1 _, p2 _, default _)
    ps.foldLeft(None: Option[Int])((r,v) => r match {
      case None => v(i)
      case x => x
    }) getOrElse -1  //whatever
  }
  println(f(1))
  println(f(2))
  println(f(3))
} 
```

IE，

```
object Ifless2 extends App {
  // imagine this is not a switchable match
  def fs: List[PartialFunction[Int, Int]] = List (
    { case 1 => 0 },
    { case 2 => 1 },
    { case _ => -1 }
  )
  def f(i: Int): Int = {
    fs.collectFirst { case pf if pf.isDefinedAt(i) => pf(i) } getOrElse -1
  }
  println(f(1))
  println(f(2))
  println(f(3))
} 
```

此外，太糟糕了 scalac 没有发出像臭名昭著的有用的东西，“警告：纯表达式在语句位置不做任何事情”。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-22T05:43:32.943

目前还不清楚你在问什么。如果你想让 scala 知道你的意思是`if`或者`else if`你什么时候输入了错误的东西......那么你可能不走运。您必须输入正确的命令，无论您是否遇到编译时错误，添加或删除大括号都不会改变。

如果您只想知道如何编写不带括号的 if-elseif-else，那么：

```
if (f1(bar)) 0
else if (f2(bar)) 1 
else -1 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-22T07:27:39.733

如果您有许多语句，则需要大括号。在这个特定的示例中，您有一个表达式，您可以完全*删除*大括号，这会使错误更加明显**并且**不那么冗长。此外，如果您使用 IDE，您可以重新格式化代码，这有助于指出问题。

这是一个没有任何大括号的格式化示例。

*   `foo`是正确的版本。
*   `foo2`是你*有时我们只是忘记了*一些东西。**请参阅语法错误。**
*   `foo3`也有`else`被遗忘的，但因为代码在一个大括号块中，编译器认为该`if (f1(bar)) 0`语句是一个有效的孤立语句。

![在此处输入图像描述](../Images/3f1dbda7915f9a3641e8d9dd85ac246b.png)

`foo2`如果我在截屏之前重新格式化了代码，那么 if/else 不匹配会更加明显。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-22T07:32:22.067

也许以下指导方针会有所帮助：

**(1)**没有分支的`if`语句`else`一定有副作用（因为表达式的结果类型是`Unit`）；因此，为避免上述错误，请始终使用花括号并将正文放在新行上，或者在该语句下方强制使用空行。代替...

```
if (f1(bar)) addToParent()  // addToParent has side-effect
if (f2(bar)) 1
else -1 
```

...使用...

```
if (f1(bar)) addToParent()

if (f2(bar)) 1
else -1 
```

...或者...

```
if (f1(bar)) {
  addToParent()
}
if (f2(bar)) 1
else -1 
```

结果是，您不应该在任何地方看到两个`if`直接在彼此下方对齐的关键字。换句话说，当你看到两个`if`s 相互重叠时，你一定是搞错了。

**(2)**如果您有多个检查，请使用显式大括号，或者如果它们相当短（如您的示例中），请将它们保持在一行：

```
if (f1(bar)) 0 else if (f2(bar)) 1 else -1 
```

因为这不会编译：

```
if (f1(bar)) 0 if (f2(bar)) 1 else -1

<console>:3: error: ';' expected but 'if' found.
              if (f1(bar)) 0 if (f2(bar)) 1 else -1
                             ^ 
```

* * *

如果 Scala 是一种纯函数式语言或者可以识别副作用，那么编译器当然会警告您。IDE 也可以在这里为您提供帮助。我在 IntelliJ IDEA 中试过这个（因为它有很多智能警告），但它没有给出警告。我认为这是一个很好的情况，演示文稿编译器可以立即发现奇怪的分支，因为它们要么是未使用的文字（如您的情况），要么是对似乎没有副作用的方法的调用（返回类型不是`Unit`并且根据样式指南方法没有空括号）。

# python - 在python中转换列表的最有效方法是什么

> ID：12541074
> 
> 赞同：3
> 
> 时间：2012-09-22T05:42:42.767
> 
> 标签：python

所以我在python中有这个列表，

```
a=  [[1,2,3,4],
     [2,4,5,1],
     [3,4,6,2],
     [2,3,4,5]] 
```

并希望将列表读取水平变为垂直。

```
b=    [[1,2,3,2],
       [2,4,4,3],
       [3,5,6,4],
       [4,1,2,5]] 
```

最好的方法是什么，最有效的方法是什么？我对编程很陌生，很抱歉成为菜鸟。谢谢。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-09-22T05:46:38.000

You can do it like that:

```
zip(*your_list) 
```

Proof:

```
>>> a = [[1, 2, 3, 4], [2, 4, 5, 1], [3, 4, 6, 2], [2, 3, 4, 5]]
>>> zip(*a)
[(1, 2, 3, 2), (2, 4, 4, 3), (3, 5, 6, 4), (4, 1, 2, 5)] 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-09-22T05:47:44.330

Check out [numpy](http://numpy.scipy.org/) library. You can put your list into an array and transpose it like this:

```
a = array ([[1,2,3,4],
       [2,4,5,1],
       [3,4,6,2],
       [2,3,4,5]])
a.transpose() 
```

P.S.: Explanation of [Tadeck](https://stackoverflow.com/users/548696/tadeck)'s solution is very easy. `zip` has the following signature:

`zip(seq1 [, seq2 [...]]) -> [(seq1[0], seq2[0] ...), (...)]`

So, it takes a number of sequences (we don't know how much exactly) and then builds tuples in the following order: takes first element of **every** sequence ant puts them in the tuple, then takes second element of **every** sequence and puts them in the second tuple and so on. It returns list of all tuples it build during its execution.

`*lst` - is, in fact, unpacking of arguments list. You can read more about it in the [following note](http://docs.python.org/tutorial/controlflow.html#unpacking-argument-lists).

I hope, now everyone understands how this pretty piece of code works. :)

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2012-09-22T06:38:59.920

你问*效率*。您可以为此使用[timeit](http://docs.python.org/library/timeit.html)。

```
>python -m timeit -s "a = [[1,2,3,4],[2,4,5,1],[3,4,6,2],[2,3,4,5]]" "zip(*a)"
1000000 loops, best of 3: 0.569 usec per loop

>python -m timeit -s "a = [[1,2,3,4],[2,4,5,1],[3,4,6,2],[2,3,4,5]]" "map(None, *a)"
1000000 loops, best of 3: 0.644 usec per loop    

>python -m timeit -s "a = [[1,2,3,4],[2,4,5,1],[3,4,6,2],[2,3,4,5]]" "[[row[i] for row in a] for i in xrange(len(a[0]))]"
1000000 loops, best of 3: 1.43 usec per loop    

>python -m timeit -s "from numpy import array; a = array([[1,2,3,4],[2,4,5,1],[3,4,6,2],[2,3,4,5]])" "a.transpose()"
1000000 loops, best of 3: 0.249 usec per loop 
```

对于一个大数据集`[[1,2,3,4],[2,4,5,1],[3,4,6,2],[2,3,4,5]]*1000000`

```
>python -m timeit -s "a = [[1,2,3,4],[2,4,5,1],[3,4,6,2],[2,3,4,5]]*1000000" "zip(*a)"
10 loops, best of 3: 400 msec per loop

>python -m timeit -s "a = [[1,2,3,4],[2,4,5,1],[3,4,6,2],[2,3,4,5]]*1000000" "map(None, *a)"
10 loops, best of 3: 458 msec per loop

>python -m timeit -s "a = [[1,2,3,4],[2,4,5,1],[3,4,6,2],[2,3,4,5]]*1000000" "[[row[i] for row in a] for i in xrange(len(a[0]))]"
10 loops, best of 3: 770 msec per loop

>python -m timeit -s "from numpy import array; a = array([[1,2,3,4],[2,4,5,1],[3,4,6,2],[2,3,4,5]]*1000000)" "a.transpose()"
1000000 loops, best of 3: 0.251 usec per loop 
```

如果您的列表长度不同，则`zip`截断为最短的长度。您可以使用 'map' 或`itertools.izip_longest`用`None`.

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-22T06:11:15.987

另一种方法是：

```
a=  [[1,2,3,4],
     [2,4,5,1],
     [3,4,6,2],
     [2,3,4,5]]
a = [[row[i] for row in a] for i in range(len(a[0]))] 
```

# google-maps - 如何在谷歌地图中显示多个标记？

> ID：12541075
> 
> 赞同：0
> 
> 时间：2012-09-22T05:43:30.190
> 
> 标签：google-maps, google-maps-api-3

我需要在单个 Google 地图中显示多个标记

我试图放置代码，

```
 <link href="http://code.google.com/apis/maps/documentation/javascript/examples/default.css" rel="stylesheet" type="text/css" /> 
    <script src="http://maps.google.com/maps?file=api&v=2&key=my_key" type="text/javascript"></script>
     <script type="text/javascript"> 

 function initialize() {
 latLngs = [ 
  new google.maps.LatLng(44.3118328, -79.5549532),
  new google.maps.LatLng(44.3118325, -80.5549533),
  new google.maps.LatLng(44.3118326, -81.5549534),
  new google.maps.LatLng(44.3118327, -82.5549535)
  ];

var latlng = new google.maps.LatLng(44.3118328, -79.5549532);
   myOptions = {
 zoom: 15,
  center: latlng,
  mapTypeId: google.maps.MapTypeId.ROADMAP
   };

  var map = new google.maps.Map(document.getElementById("map_canvas"),
   myOptions);

      var contentString = '<div id="mapinfowindow">'+'1970 Thompson St <br> Innisfil' + '<br>' + '$329,900'
 +'<a href="http://www.something.com/Featured_Listings_files/1970%20Thompson%20-%20Brochure.pdf"><br><br>View Brochure</a></div>';

  var infowindow = new google.maps.InfoWindow({
   content: contentString,
  });

    var image = new google.maps.MarkerImage(
 'images/marker.png',
  new google.maps.Size(50,50),
 new google.maps.Point(0,0),
new google.maps.Point(25,50)
 ); 

  var shadow = new google.maps.MarkerImage(
       'images/markershadow.png',
       new google.maps.Size(78,50),
     new google.maps.Point(0,0),
    new google.maps.Point(25,50)
     );

  var shape = {
    coord:                        [28,3,32,4,35,5,37,6,38,7,39,8,40,9,42,10,42,11,43,12,44,13,44,14,44,15,45,16,45,17,45,18,45,19,45,20,45,21,45,22,45,23,44,24,44,25,44,26,43,27,43,28,42,29,41,30,41,31,40,32,39,33,39,34,38,35,37,36,36,37,35,38,34,39,33,40,32,41,31,42,30,43,29,44,28,45,26,46,24,47,24,47,22,46,21,45,19,44,18,43,17,42,16,41,15,40,14,39,13,38,12,37,12,36,11,35,10,34,9,33,9,32,8,31,7,30,7,29,6,28,5,27,5,26,4,25,4,24,4,23,4,22,3,21,3,20,3,19,3,18,4,17,4,16,4,15,4,14,5,13,6,12,6,11,7,10,8,9,9,8,10,7,12,6,14,5,16,4,20,3,28,3],
    type: 'poly'
    };

    var markers = new Array(latLngs.length);

     for (var i = 0; i < markers.length; i++) {
    markers[i] = new google.maps.Marker({
   position: latLngs[i],
   title:"Marker "+i,
   icon: image,
   shadow: shadow,
   map: map,
  shape: shape
 });
 markers[i].setMap(map);     
 }

 for (var i2 = 0; i2 < markers.length; i2++) {
   google.maps.event.addListener(markers[i2], 'click', function() {
   infowindow.open(map,markers[i2]);
  });
 }
 }

</script> 
    <div id="map_canvas" style="width: 691px; height: 466px; overflow:hidden;" class="bdr-grey">            </div> 
```

这给了我 javascript 错误`google.maps.MapTypeId undefined`

而且我还需要在其中实现多个标记。

所以请帮我做到这一点..

谢谢你给我的时间。。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-22T08:35:51.260

问题是您正在嵌入 Google Maps API v2 ( `http://maps.google.com/maps?file=api&v=2&key=my_key`)，但您使用的是 Google Maps API v3 的方法和对象。由于您的其余代码适用于 Google Maps v3，因此请尝试像这样调用 Google Maps API：

```
<script type="text/javascript"
src="https://maps.google.com/maps/api/js?sensor=set_to_true_or_false"> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-09-28T10:09:26.813

```
 <script type="text/javascript" language="javascript">

     window.onload = function () {
         if (window.XMLHttpRequest) {// code for IE7+, Firefox, Chrome, Opera, Safari
             xmlhttp = new XMLHttpRequest();
         }
         else {// code for IE6, IE5
             xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
         }
         xmlhttp.open("GET", "StoreLocations.xml", false);
         xmlhttp.send();
         xmlDoc = xmlhttp.responseXML;
         var x = xmlDoc.getElementsByTagName("CityName");

         var mapOptions = {
             center: new google.maps.LatLng(39.8634242, -98.18818149999998),
             zoom: 3,
             mapTypeId: google.maps.MapTypeId.ROADMAP
             //  marker:true
         };

         var infoWindow = new google.maps.InfoWindow();
         var map = new google.maps.Map(document.getElementById("map_canvas"), mapOptions);

         for (i = 0; i < x.length; i++) {
             var latitudetest = x[i].getElementsByTagName("latitude")[0].childNodes[0].nodeValue;
             var longitudetest = x[i].getElementsByTagName("longitude")[0].childNodes[0].nodeValue;
             var data = '<div style="min-width:175px;text-align:left; min-height:80px;color:#000000;font-family:arial,sans-serif;font-style:normal; font-size:13px;">' + '<span style="font-weight:bold;font-size:13px;color:#000000;font-family:arial,sans-serif;font-style:normal; ">' + '1-800 Car Cash of' + '&nbsp;' + x[i].getElementsByTagName("storename")[0].childNodes[0].nodeValue + '</span>' + '<br/>' + x[i].getElementsByTagName("address")[0].childNodes[0].nodeValue + '<br/>' + x[i].getElementsByTagName("name")[0].childNodes[0].nodeValue + '&nbsp;' + x[i].getElementsByTagName("zipcode")[0].childNodes[0].nodeValue + '<br/>' + x[i].getElementsByTagName("phoneno")[0].childNodes[0].nodeValue + '<br/>' + '<div style="padding-top:6px;">' + '<a href="https://maps.google.com/maps?daddr=' + x[i].getElementsByTagName("address")[0].childNodes[0].nodeValue + "," + x[i].getElementsByTagName("name")[0].childNodes[0].nodeValue + '" style="font-family:arial,sans-serif;font-style:normal;text-decoration: none;color:Blue; font-size:13px;" target="_blank">' + "Get Directions" + '</a>' + '</div>' + '</div>';
             var myLatlng = new google.maps.LatLng(latitudetest, longitudetest);
             var bluePin = new google.maps.MarkerImage('http://maps.google.com/mapfiles/ms/micons/blue-dot.png',
            new google.maps.Size(32, 32),
            new google.maps.Point(0, 0),
            new google.maps.Point(14, 35));
             var pinShadow = new google.maps.MarkerImage('http://maps.google.com/mapfiles/ms/micons/msmarker.shadow.png',
            new google.maps.Size(59, 32),
            new google.maps.Point(0, 0),
            new google.maps.Point(14, 35));
             var marker = new google.maps.Marker({
                 position: myLatlng,
                 icon: bluePin,
                 shadow: pinShadow,
                 map: map,
                 title: x[i].getElementsByTagName("name")[0].childNodes[0].nodeValue
             });
             (function (marker, data) {
                 google.maps.event.addListener(marker, 'click', function (e) {
                     infoWindow.setContent(data);
                     infoWindow.open(map, marker);
                 });
             })(marker, data);
         }
     }
</script> 
```

我已经从每个商店位置的 xml 文件中加载了纬度和经度。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-09-22T06:12:35.270

检查这个脚本，

```
 <script type="text/javascript">

        var locations = [
      ['Bondi Beach', 16.7997751, 96.15659660000906, 4],
      ['Coogee Beach', 16.7897762, 96.15659660008007, 5],
      ['Cronulla Beach', 16.775815, 96.13637070000004, 3],
      ['Manly Beach', 16.7996784, 96.15659660000609, 2],
      ['Maroubra Beach', 16.7497795, 96.15659660050010, 1]
    ];

        var map = new google.maps.Map(document.getElementById('map'), {
            zoom: 13,
            center: new google.maps.LatLng(16.7997751, 96.15659660000006),
            mapTypeId: google.maps.MapTypeId.ROADMAP
        });

        var infowindow = new google.maps.InfoWindow();

        var marker, i;

        for (i = 0; i < locations.length; i++) {
            marker = new google.maps.Marker({
                position: new google.maps.LatLng(locations[i][1], locations[i][2]),
                map: map
            });

            google.maps.event.addListener(marker, 'click', (function (marker, i) {
                return function () {
                    infowindow.setContent(locations[i][0]);
                    infowindow.open(map, marker);
                }
            })(marker, i));
        }

  </script> 
```

# objective-c - Objective-c iOS - Can't receive delegate methods in my custom class

> ID：12541078
> 
> 赞同：1
> 
> 时间：2012-09-22T05:43:45.370
> 
> 标签：objective-c, delegates, cllocationmanager

My custom class needs to receive the "didUpdateToLocation" CLLocationManagerDelegate method, however i can't seem to make the following code work.

Header file.

```
#import <Foundation/Foundation.h>
#import <CoreLocation/CoreLocation.h>
#import <MapKit/MapKit.h>

@interface MyCurrentLocation : NSObject<MKAnnotation,CLLocationManagerDelegate,MKMapViewDelegate>
{
    CLLocationCoordinate2D coordinate;
}

@property (nonatomic, assign) CLLocationCoordinate2D coordinate;
@property (nonatomic, copy) CLLocationManager *locationManager;

-(MyCurrentLocation *)init;

@end 
```

Implementation file.

```
#import "MyCurrentLocation.h"

@implementation MyCurrentLocation

-(BLCurrentLocation *)init
{
    self = [super init];
    if (self) {
        _locationManager = [[CLLocationManager alloc] init];
        _locationManager.delegate = self;
        _locationManager.distanceFilter = kCLDistanceFilterNone;
        _locationManager.desiredAccuracy = kCLLocationAccuracyNearestTenMeters;
        [_locationManager startUpdatingLocation];
    }
    return self;
}

- (void)locationManager:(CLLocationManager *)manager didUpdateToLocation:(CLLocation *)newLocation fromLocation:(CLLocation *)oldLocation
{
    NSLog(@"Did we receive a location?");
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-22T05:59:54.477

我不知道为什么，但也许您可以尝试实现此委托方法以查看是否无法注册位置服务。

```
- (void)locationManager:(CLLocationManager *)manager didFailWithError:(NSError *)error{
    UIAlertView *alertView = [[UIAlertView alloc] initWithTitle:@"Error" message:@"Please make sure Location Service is ON" delegate:nil cancelButtonTitle:@"OK" otherButtonTitles:nil, nil]; 
    [alertView show]; 
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-22T06:02:22.127

您必须响应其他委托方法，例如错误回调。此外，检查 CLLocationManager 的 + (CLAuthorizationStatus)authorizationStatus 类方法以确定您是否能够使用位置服务。

# java - Adding filter to image in swing

> ID：12541081
> 
> 赞同：2
> 
> 时间：2012-09-22T05:44:04.130
> 
> 标签：java, image, swing

I need to set filter to the image.. I make this :

```
 int type = BufferedImage.TYPE_INT_RGB;
        double panelHeight = frame.getHeight();
        double panelWidth = frame.getWidth();
        BufferedImage image = null;
        try {
            image = ImageIO.read(new File(frame.getURL()));
        } catch (IOException e1) {
            e1.printStackTrace();
        }
        int height = image.getHeight();
        int width = image.getWidth();
        for(int h=1; h < height-1; h++) {
            for(int w=1; w < width-1;w++) {
                float color = ((1f/9f*image.getRGB(w-1, h-1))+(1f/9f* image.getRGB(w, h-1))+(1f/9f* image.getRGB(w+1, h-1))+
                        (1f/9f* image.getRGB(w-1, h))+(1f/9f* image.getRGB(w, h))+(1f/9f* image.getRGB(w+1, h))+
                        (1f/9f* image.getRGB(w-1, h+1))-(1f/9f* image.getRGB(w, h+1))-(1f/9f* image.getRGB(w+1, h+1)));
                image.setRGB(w, h,(int)color);   
            }
        }
        //save im into a file 
        frame.setFilteredImage(Resizer.resize(image, panelHeight, panelWidth)); 
```

frame has url of my image. I get it using `frame.getURL()`

And in result I want to see my image with blur filter but instead it gives me ![enter image description here](../Images/f91e7b0b281fe192a270e5565ef965c3.png)

So may be someone know where I make a mistake???

Or may be you know another good way to set filter using such matrix

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-22T05:59:07.243

使用模糊过滤器

```
public class Java2DExample extends JFrame {
  private JMenu filterMenu = new JMenu("Image Filters");

  private ImagePanel imagePanel;

  private MyFilter invertFilter = new InvertFilter();

  private MyFilter sharpenFilter = new SharpenFilter();

  private MyFilter blurFilter = new BlurFilter();

  private MyFilter colorFilter = new ColorFilter();

  public Java2DExample() {
    super("Java 2D Image Processing Demo");
    imagePanel = new ImagePanel(Java2DExample.class.getResource("yourImage.png"));

    JMenuBar menuBar = new JMenuBar();
    setJMenuBar(menuBar);
    filterMenu.setMnemonic('I');

    JMenuItem originalMenuItem = new JMenuItem("Display Original");
    originalMenuItem.setMnemonic('O');

    originalMenuItem.addActionListener(new ActionListener() {
      public void actionPerformed(ActionEvent action) {
        imagePanel.displayOriginalImage();
      }

    });

    JMenuItem invertMenuItem = createMenuItem("Invert", 'I', invertFilter);
    JMenuItem sharpenMenuItem = createMenuItem("Sharpen", 'S', sharpenFilter);
    JMenuItem blurMenuItem = createMenuItem("Blur", 'B', blurFilter);
    JMenuItem changeColorsMenuItem = createMenuItem("Change Colors", 'C', colorFilter);

    filterMenu.add(originalMenuItem);
    filterMenu.add(invertMenuItem);
    filterMenu.add(sharpenMenuItem);
    filterMenu.add(blurMenuItem);
    filterMenu.add(changeColorsMenuItem);

    menuBar.add(filterMenu);

    getContentPane().add(imagePanel, BorderLayout.CENTER);

  }

  public JMenuItem createMenuItem(String menuItemName, char mnemonic, final MyFilter filter) {
    JMenuItem menuItem = new JMenuItem(menuItemName);
    menuItem.setMnemonic(mnemonic);
    menuItem.addActionListener(new ActionListener() {
      public void actionPerformed(ActionEvent action) {
        imagePanel.applyFilter(filter);
      }

    });
    return menuItem;
  }

  public static void main(String args[]) {
    Java2DExample application = new Java2DExample();
    application.setDefaultCloseOperation(EXIT_ON_CLOSE);
    application.pack();
    application.setVisible(true);
  }
}

interface MyFilter {
  public abstract BufferedImage processImage(BufferedImage image);
}

class BlurFilter implements MyFilter {
  public BufferedImage processImage(BufferedImage image) {
    float[] blurMatrix = { 1.0f / 9.0f, 1.0f / 9.0f, 1.0f / 9.0f, 1.0f / 9.0f, 1.0f / 9.0f,
        1.0f / 9.0f, 1.0f / 9.0f, 1.0f / 9.0f, 1.0f / 9.0f };
    BufferedImageOp blurFilter = new ConvolveOp(new Kernel(3, 3, blurMatrix),
        ConvolveOp.EDGE_NO_OP, null);
    return blurFilter.filter(image, null);
  }
}

class ImagePanel extends JPanel {

  private BufferedImage displayImage;

  private BufferedImage originalImage;

  private Image image;

  public ImagePanel(URL imageURL) {
    image = Toolkit.getDefaultToolkit().createImage(imageURL);
    MediaTracker mediaTracker = new MediaTracker(this);
    mediaTracker.addImage(image, 0);

    try {
      mediaTracker.waitForAll();
    } catch (InterruptedException e) {
      e.printStackTrace();
    }
    originalImage = new BufferedImage(image.getWidth(null), image.getHeight(null),
        BufferedImage.TYPE_INT_RGB);
    displayImage = originalImage;
    Graphics2D graphics = displayImage.createGraphics();
    graphics.drawImage(image, null, null);

  }

  public void applyFilter(MyFilter filter) {
    displayImage = filter.processImage(displayImage);
    repaint();
  }

  public void displayOriginalImage() {
    displayImage = new BufferedImage(image.getWidth(null), image.getHeight(null),
        BufferedImage.TYPE_INT_RGB);

    Graphics2D graphics = displayImage.createGraphics();
    graphics.drawImage(originalImage, null, null);
    repaint();
  }
  public void paintComponent(Graphics g) {
    super.paintComponent(g);
    Graphics2D graphics = (Graphics2D) g;
    graphics.drawImage(displayImage, 0, 0, null);
  }
  public Dimension getPreferredSize() {
    return new Dimension(displayImage.getWidth(), displayImage.getHeight());
  }
  public Dimension getMinimumSize() {
    return getPreferredSize();
  }
}

class SharpenFilter implements MyFilter {
  public BufferedImage processImage(BufferedImage image) {
    float[] sharpenMatrix = { 0.0f, -1.0f, 0.0f, -1.0f, 5.0f, -1.0f, 0.0f, -1.0f, 0.0f };
    BufferedImageOp sharpenFilter = new ConvolveOp(new Kernel(3, 3, sharpenMatrix),
        ConvolveOp.EDGE_NO_OP, null);
    return sharpenFilter.filter(image, null);
  }
}

class InvertFilter implements MyFilter {
  public BufferedImage processImage(BufferedImage image) {
    byte[] invertArray = new byte[256];

    for (int counter = 0; counter < 256; counter++)
      invertArray[counter] = (byte) (255 - counter);

    BufferedImageOp invertFilter = new LookupOp(new ByteLookupTable(0, invertArray), null);
    return invertFilter.filter(image, null);

  }
}

class ColorFilter implements MyFilter {
  public BufferedImage processImage(BufferedImage image) {
    float[][] colorMatrix = { { 1f, 0f, 0f }, { 0.5f, 1.0f, 0.5f }, { 0.2f, 0.4f, 0.6f } };
    BandCombineOp changeColors = new BandCombineOp(colorMatrix, null);
    Raster sourceRaster = image.getRaster();
    WritableRaster displayRaster = sourceRaster.createCompatibleWritableRaster();
    changeColors.filter(sourceRaster, displayRaster);
    return new BufferedImage(image.getColorModel(), displayRaster, true, null);

  }
} 
```

参考：[http ://www.java2s.com/Code/Java/2D-Graphics-GUI/ImageFilter.htm](http://www.java2s.com/Code/Java/2D-Graphics-GUI/ImageFilter.htm)

# css - CSS background:none inside a div with a background?

> ID：12541082
> 
> 赞同：0
> 
> 时间：2012-09-22T05:44:17.483
> 
> 标签：css, background

I have div wrapper and the background is white, I also have a body background (its an image) I want to have a div inside my wrapper with no white background, basically I am looking to make that div transparent to the wrapper background.

```
<div style="background:none;">ghjhjghjghj</div> 
```

Any suggestions?

**Edit:**

I'm trying to make the body background appear trough a `div` that is inside another `div` that have a white background. Is this possible?

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-22T06:18:14.800

透明背景颜色适用于这个简单的示例......

[http://jsfiddle.net/rD93B/1/](http://jsfiddle.net/rD93B/1/)

更多 HTML/CSS 将有助于识别您遇到的问题。

并在容器 div 上使用白色背景颜色更新了 jsfiddle ...

[http://jsfiddle.net/rD93B/3/](http://jsfiddle.net/rD93B/3/)

另一个更新....

[http://jsfiddle.net/rD93B/6/](http://jsfiddle.net/rD93B/6/)

这显示了容器 div 的背景颜色而不显示背景图像

**CSS**

```
div#outer {
  background-color: green;
  background-image: url(http://static4.grsites.com/archive/textures/red/red001.jpg);
  width: 200px;
  height: 200px;
  z-index: 1;
}

div#inner {
  background-color: inherit;
  background-image: none;
  width: 100px;
  height: 100px;
  border: solid 2px yellow;
  color: yellow;
  z-index: 0;
} 
```

**HTML**

```
<div id="outer">
<div id="inner">
</div>
</div> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-22T05:52:13.427

使用 background-color 属性并将其设置为：在您的内部 div 上透明。

```
<div style="background-color: transparent;">ghjhjghjghj</div> 
```

# vba - adodb recordcount returning wrong values

> ID：12541086
> 
> 赞同：0
> 
> 时间：2012-09-22T05:44:50.790
> 
> 标签：vba, excel, resultset, adodb

I am querying the excel using the below code to get the rows matching a certain condition:

```
For i = 90 To Worksheets("My Sheet").Range("E65536").End(xlUp).Row
' This for loop is to iterate through the list of dates in the excel sheet
Value = Worksheets("My Sheet").Range("E" & i).Value - #1/1/1900# + 2
'Using the above line i am converting the date i want to filter the date 
 'into numeric
strQuery = "SELECT * FROM [My another sheet$A3:I" & LastRow & "] WHERE [Date1]< " &
Value & " AND ([somefield] = 'dog' or [somefield] = 'cat')"
    ' Here in the SQL query i am trying to see how many cats and dogs are satisfying with my date criteria
    Set rs = New ADODB.Recordset
        With rs
            .ActiveConnection = cn
            .Source = strQuery
            .CursorType = adOpenDynamic
            .CursorLocation = adUseClient
            .LockType = adLockOptimistic
            .Open
        End With

' Executing the select query on excel as database using ADODB api
    If rs.RecordCount = 0 Then        
        Else
            rs.MoveLast        
    End If
 Worksheets("My Sheet").Range("F" & i).Value = rs.RecordCount
 rs.Close
 ' Moving to the next date in the list
Next 
```

I have data something like this

1.  01/01/2012 dog A
2.  02/01/2012 cat B
3.  03/01/2012 cat C
4.  04/01/2012 rat D
5.  05/01/2012 cat E
6.  06/01/2012 parrot F

and my list has dates like this

1.  12/31/2010 - Here i have to find how many cats and dogs are purchased from the shop with date less than this date
2.  12/31/2011 - Here i have to find how many cats and dogs are purchased from the shop with date less than this date

The purpose of the for loop is to iterate through these dates and modifying the select query This are the values i am receiving from the above code

`32 35 37 44 57 64 71 78 84 86 89 91 91` But i should get these values `32 36 37 47 57 66 73 81 84 89 90 91 91` I read somewhere like that we should issue the command `rs.movelast` before using the record count property but still it is showing wrong result on some iterations..

Is it because of the loop and i am using the same record set.

The reason i know the count should be is because i just did the same filtering on excel columns and it is showing different count

There is no datatype changing in the columns i.e. each column has same data structure from start to end

Please help me on this.

I hope the question is clear..please let me know if more details are needed.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-22T13:45:48.217

尝试这个。它消除了循环。Sheet7 有一个日期列表，而 Sheet8 有数据。

```
Sub groupbydate()
    sSQL = "TRANSFORM Count(b.Dates) AS CountOfDates " _
    & "SELECT 'Total' AS Total " _
    & "FROM [Sheet7$] a, [Sheet8$] b " _
    & "WHERE b.Animal In ('cat','dog') " _
    & "AND b.[dates]<=a.[dates] " _
    & "GROUP BY 'Total' " _
    & "PIVOT a.Dates"

    strFile = ActiveWorkbook.FullName

    strCon = "Provider=Microsoft.ACE.OLEDB.12.0;Data Source=" & strFile _
        & ";Extended Properties=""Excel 8.0;HDR=Yes;IMEX=1"";"

    ''Late binding, so no reference is needed

    Set cn = CreateObject("ADODB.Connection")
    Set rs = CreateObject("ADODB.Recordset")

    cn.Open strCon

    rs.Open sSQL, cn, 3, 3

    For i = 1 To rs.Fields.Count
        Worksheets("Sheet8").Cells(1, 5 + i) = rs.Fields(i - 1).Name
    Next
    Worksheets("Sheet8").Cells(2, 6).CopyFromRecordset rs

    ''Tidy up
    rs.Close
    Set rs = Nothing
    cn.Close
    Set cn = Nothing

End Sub 
```

# google-apps-script - Google spreadsheet: Insert empty row between non-duplicate row?

> ID：12541088
> 
> 赞同：1
> 
> 时间：2012-09-22T05:45:06.407
> 
> 标签：google-apps-script, google-sheets

I have a google spreadsheet.

My problem is, in my google spreadsheet, when duplicate row is found, I cannot insert an empty row between them. But if different i.e. *non-duplicate* row found, I can insert an empty row between them.

Please help me.

# eclipse - how to get data from database with parameter

> ID：12541089
> 
> 赞同：2
> 
> 时间：2012-09-22T05:45:10.543
> 
> 标签：eclipse, parameters, android-listview

I'm trying to show a list with the list items from my database having 2 parameters, but the list didn't show.

Here's my query database from php:

```
$query = mysql_query("SELECT d.model_name from detail_product d join brand b on d.id_brandtype = b.id_brand join biketype t on d.id_biketype = t.id_type  where d.id_brandtype = 1 and d.id_biketype=1"); 
```

I've set the parameter there.

and here's my DAO:

```
public class info_xc_dao { 
```

public final static int VIEW_POL_XC = 0;

```
private static final String URL_VIEW_POL_XC = ServerConfiguration.SERVER_URL
        + "polygon_xc.php";

private int Action;
pol_xc_Result pol_xc_Result;

public info_xc_dao(pol_xc_Result pol_xc_Result) {
    // TODO Auto-generated constructor stub
    this.pol_xc_Result = pol_xc_Result;
}

public void view_pol_xc() {
    Action = VIEW_POL_XC;
    new ConnectionHandler(connectionResult, null, URL_VIEW_POL_XC,
            ConnectionHandler.GET);
}

public ConnectionResult connectionResult = new ConnectionResult() {

    @Override
    public void gotResult(String result, String message) {
        // TODO Auto-generated method stub
        if (result != null) {
            switch (Action) {
            case VIEW_POL_XC:
                try {
                    JSONObject jsonObject = null;
                    jsonObject = new JSONObject(result);
                    int response = jsonObject.getInt("result");
                    if (response != 0) {
                        JSONArray jsonArray = new JSONArray(
                                jsonObject.getString("data"));

                        ArrayList<Entity_Detail_Product> arrayList = new ArrayList<Entity_Detail_Product>();
                        for (int i = 0; i < jsonArray.length(); i++) {
                            JSONObject pol_xc = new JSONObject(jsonArray
                                    .get(i).toString());

                            Entity_Detail_Product ent_detail_product = new Entity_Detail_Product();
                            ent_detail_product.setModel_name(pol_xc
                                    .getString("model_name"));
                            arrayList.add(ent_detail_product);
                        }
                        pol_xc_Result.gotResult(arrayList, null, Action);

                    } else {
                        String error_message = jsonObject
                                .getString("message");
                        pol_xc_Result.gotResult(null, error_message,
                                Action);
                    }
                } catch (JSONException e) {
                    // TODO: handle exception
                    pol_xc_Result.gotResult(null,
                            "Failed parsing data from database. Please try again.. "
                                    + e.getMessage(), Action);
                    Log.e("CON ERROR", e.getMessage());
                }
            }
        } else {
            pol_xc_Result.gotResult(null, message, Action);
            Log.e("CON ERROR", message);
        }
    }
};

public static abstract class pol_xc_Result {
    public abstract void gotResult(Object obj, String message, int action);
} 
```

and here's my activity to call DAO.

```
public class Information_XC_Activity extends ListActivity {
WebView mWebView;
TextView tv;
private Adapter_DetailPolXC adapterDetailPolXC;

private ListView mainListView;

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.info_xc);

    final ActionBar actionBar = (ActionBar) findViewById(R.id.actionbar);
    actionBar.setTitle(getString(R.string.app_name));

    int index = getIntent().getIntExtra("text", 0);

    mWebView = (WebView) findViewById(R.id.webview_xc);

    String temp = "<html><body>" + "<p align=\"justify\">"
            + getString(R.string.xc_info + index) + "</p> "
            + "</body></html>";
    mWebView.loadData(temp, "text/html", "utf-8");

    ArrayList<Entity_Detail_Product> arraylist = new ArrayList<Entity_Detail_Product>();

    adapterDetailPolXC = new Adapter_DetailPolXC(this, R.layout.info_row,
            arraylist);
     setListAdapter(adapterDetailPolXC);

    new info_xc_dao(response).view_pol_xc();
}

pol_xc_Result response = new pol_xc_Result() {
    @Override
    public void gotResult(Object obj, String message, int action) {
        // TODO Auto-generated method stub
        // actionBar.setProgressBarVisibility(View.INVISIBLE);

        @SuppressWarnings("unchecked")
        ArrayList<Entity_Detail_Product> arrayList = (ArrayList<Entity_Detail_Product>) obj;
        AlertDialog.Builder builder = new AlertDialog.Builder(
                Information_XC_Activity.this);

        if (arrayList == null) {
            builder.setIcon(R.drawable.alert_warning);
            builder.setTitle("Error");
            builder.setMessage("Data Not Found !");
            builder.setNegativeButton("Ok",
                    new DialogInterface.OnClickListener() {
                        public void onClick(DialogInterface dialog,
                                int which) {
                        }
                    });
            AlertDialog alert = builder.create();
            alert.show();

        } else {
            for (Entity_Detail_Product entity_Detail_Product : arrayList) {
                adapterDetailPolXC.add(entity_Detail_Product);
            }
            adapterDetailPolXC.notifyDataSetChanged();
        }

    }

};

private class Adapter_DetailPolXC extends
        ArrayAdapter<Entity_Detail_Product> {
    private ArrayList<Entity_Detail_Product> items;

    public Adapter_DetailPolXC(Context context, int textViewResourceId,
            ArrayList<Entity_Detail_Product> items) {
        super(context, textViewResourceId, items);
        this.items = items;
    }

    @Override
    public View getView(int position, View convertView, ViewGroup parent) {
        // TODO Auto-generated method stub
        View v = convertView;
        if (v == null) {
            LayoutInflater layoutInflater = (LayoutInflater) getContext()
                    .getSystemService(Context.LAYOUT_INFLATER_SERVICE);
            v = (View) layoutInflater.inflate(R.layout.info_xc, null);
        }
        Entity_Detail_Product adapter_Detail_Product = items.get(position);
        if (adapter_Detail_Product != null) {
            TextView textView = (TextView) v.findViewById(R.id.tv_test);
            if (textView != null)
                textView.setText(adapter_Detail_Product.getModel_name());
        }
        return v;
    }

} 
```

and here's my logcat :

```
09-22 12:41:30.239: W/IInputConnectionWrapper(12808): showStatusIcon on inactive InputConnection
09-22 12:41:33.129: E/HttpResponse(12808): {"result":1,"data":[{"0":"1","id_brand":"1","1":"Polygon","brand_name":"Polygon"},{"0":"2","id_brand":"2","1":"United Bike","brand_name":"United Bike"},{"0":"3","id_brand":"3","1":"WimCycle","brand_name":"WimCycle"}]}
09-22 12:41:35.009: E/HttpResponse(12808): {"result":1,"data":[{"0":"1","id_type":"1","1":"Cross Country (XC)","type_name":"Cross Country (XC)"},{"0":"2","id_type":"2","1":"Bicycle Motocross (BMX)","type_name":"Bicycle Motocross (BMX)"},{"0":"3","id_type":"3","1":"Free Ride (FR)","type_name":"Free Ride (FR)"},{"0":"4","id_type":"4","1":"DownHill (DH)","type_name":"DownHill (DH)"},{"0":"5","id_type":"5","1":"DirtJump (DJ)","type_name":"DirtJump (DJ)"},{"0":"6","id_type":"6","1":"Road Bike (RB)","type_name":"Road Bike (RB)"}]}
09-22 12:41:37.219: D/PhoneWindow(12808): couldn't save which view has focus because the focused view com.android.internal.policy.impl.PhoneWindow$DecorView@405440f0 has no id.
09-22 12:41:37.519: I/webclipboard(12808): clipservice: android.sec.clipboard.ClipboardExManager@405d4d40
09-22 12:41:37.839: V/webview(12808): OnSizeChanged: Enter 
09-22 12:41:37.859: E/HttpResponse(12808): {"result":1,"data":[{"0":"1","id_type":"1","1":"Cross Country (XC)","type_name":"Cross Country (XC)"},{"0":"2","id_type":"2","1":"Bicycle Motocross (BMX)","type_name":"Bicycle Motocross (BMX)"},{"0":"3","id_type":"3","1":"Free Ride (FR)","type_name":"Free Ride (FR)"},{"0":"4","id_type":"4","1":"DownHill (DH)","type_name":"DownHill (DH)"},{"0":"5","id_type":"5","1":"DirtJump (DJ)","type_name":"DirtJump (DJ)"},{"0":"6","id_type":"6","1":"Road Bike (RB)","type_name":"Road Bike (RB)"}]}
09-22 12:41:38.169: E/CON ERROR(12808): No value for model_name
09-22 12:41:38.859: V/webview(12808): ZoomScale 3 mPreserveZoom: false
09-22 12:41:38.889: D/CONTEXT(12808): m_mainFrame->editor()->hasComposition not 
09-22 12:41:38.959: D/CONTEXT(12808): m_mainFrame->editor()->hasComposition not 
```

![enter image description here](../Images/d839cf41919ac2b6eaf5733bd54a323e.png)

# c - 字符串比较

> ID：12541094
> 
> 赞同：1
> 
> 时间：2012-09-22T05:45:50.913
> 
> 标签：c, string, compare

我是 C 新手。
我有一个代码可以读取该行的第一个单词，这是其中的一部分：

```
scanf(Line, "%s", Word);
printf("%s\n", Word); 
```

此代码读取并打印该行中的第一个单词。但是，我需要将该行的第一个单词与另一个单词进行比较。有什么建议么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-23T15:04:18.737

`strcmp(str1,str2)` 将 C 字符串 str1 与 C 字符串 str2 进行比较。此函数开始比较每个字符串的第一个字符。如果它们彼此相等，则继续以下对，直到字符不同或到达终止空字符。

返回一个整数值，表示字符串之间的关系：

1.  零值表示两个字符串相等。
2.  大于零的值表示第一个不匹配的字符在 str1 中的值大于在 str2 中的值；
3.  小于零的值表示相反。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-22T05:54:12.410

使用`strcmp(firststring, secondstring)`它将返回`0`,`1`或`-1`.

如果两个字符串相同，则`strcmp()`函数将返回`0`。

如果不匹配的第一个字符在 中具有更大的值`firststring`，它将返回`1`。

否则，它将返回`-1`。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-22T05:52:08.947

看一下strcmp

[http://faq.cprogramming.com/cgi-bin/smartfaq.cgi?answer=1057537653&id=1043284385](http://faq.cprogramming.com/cgi-bin/smartfaq.cgi?answer=1057537653&id=1043284385)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-22T05:54:19.840

您希望根据某些字符拆分单词。在这种情况下 ' '。您应该找到空间的索引，然后将这两个单词存储到两个新字符串中。

# maven - 从 Maven Central 下载的依赖项没有恶意软件？

> ID：12541098
> 
> 赞同：1
> 
> 时间：2012-09-22T05:46:33.433
> 
> 标签：maven, malware

我是 Maven 的新手，并试图将其用于 Android 构建。我心中有这个疑问，这也是由 Jason Van Zyl[在这里](http://pages.citebite.com/j5t4a2d3bgjy)的采访引发的。

**我的问题**

如何确保我们从 Maven Central 下载的依赖项没有恶意软件或没有损坏？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-22T07:03:12.927

你永远不能确定它没有恶意软件，即它总是有可能的。

Maven Central 托管开源项目，因此源代码始终可以从某个地方获得，因此如果您需要确保没有恶意软件并确保兼容的许可条款，您应该下载源代码并自行构建，而不是使用 Maven Central。

我敢肯定，如果工件中确实包含恶意软件，那么运行 Maven Central 的人员会根据相关政策来调查此类事情并进行处理。

...

重无贪污。Maven 对许多事情使用哈希摘要来确保数据无损坏，您的 Maven 客户端和 Maven 存储库可以配置为始终验证。服务器上的文件通常还具有数据校验和的 *.md5 或 *.sha1 URL。

JAR 本身也有内在的校验和。它们基于 ZIP 文件，并且它们确实具有应该检测大多数损坏的校验和方案。ZIP 目录始终位于文件的末尾，因此也会检测到短/截断的文件。

显然，这些机制不是 100% 可靠，但可能被认为是 99.99% 可靠。

...

作为一个软件生产者，把东西放在 Maven 中心。我会敦促你总是在你的 JAR 上签名。这是一种机制，允许每个独立的软件生产者签署他们生产的原始 JAR，然后通过互联网上的任何机制分发它。任何用户（理论上）都可以从任何来源下载它，并能够验证它没有被篡改。

不幸的是，Maven Central 没有确保源代码与二进制文件一起可用的策略，或者没有强制执行 JAR 签名的策略。因此，从安全的角度来看，Maven Central 有助于让您的本地开发顺利进行，但如果您确实关心安全性，请不要使用它。

您需要实施自己的安全策略（或支付他人费用）以代表您实施。

要管理您的安全环境，您可能希望查看可以在本地网络上运行的 Maven 存储库之一，例如 Sonatype Nexus（这是开源和免费版本，启用了大多数功能）。

...

注意我没有阅读您提供的链接，但现在可以阅读。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-23T04:37:15.900

建议自己构建软件而不是从中央存储库下载它是一个非常糟糕的主意。上传到中心的内容受到非常严密的保护，您可以在 settings.xml 中为 Maven 执行的每次下载启用严格的校验和检查。

如果校验和匹配，您将在中央拥有工件的精确副本，并且在上传期间它们会受到非常密切的监控，并且一旦上传就不会更改。

此外，您只能通过公司控制的存储库管理器（例如 Nexus）间接使用 Central，如果您需要更多的安全性、许可和审计工具和报告，您可以查看 Sonatype Nexus Professional 和 Sonatype Insight 等工具或类似产品。

# octave - Octave genetic algorithm not using lower bounds

> ID：12541102
> 
> 赞同：2
> 
> 时间：2012-09-22T05:47:43.803
> 
> 标签：octave, genetic-algorithm

Is there a trick to getting Octave's genetic algorithm solver to respect upper and lower bounds? For example,

```
options = gaoptimset('Generations', 10);
nvars = 6;
LB = ones(1,nvars);
UB = LB*10;
[soln, fval, exitflag] = ga(@fitnessfcn, nvars, [], [], [], [], LB, UB, [], options) 
```

The solver returns a solution with undetermined bounds. For example,

```
soln = 0.551420   1.369775  -0.313379  -0.038621   0.274696   1.359802 
```

UPDATE: I checked the scripts in the Octave package. I am pretty sure the ga function does not use the upper and lower bounds arguments. It does seems to read some upper/lower bound information from the gaoptim set. I'll play around with it when I have some time.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-16T08:27:14.937

根据 0.10 版，作为参数传递的边界似乎`ga`几乎被忽略了。目前，指定边界的唯一方法是通过参数`PopInitRange`of `gaoptimset`，这需要一个 2xN 矩阵，其中包含第一行中的 LB 和第二行中的 UB。如果提供了 2x1 向量。

LB 和 UB 参数应该模仿原始 Matlab 的`ga`功能，但显然实现是在采取他自己的方式。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-04-27T11:52:24.497

## 问题

我可以确认`ga()`octave *ga*数据包中的实现没有使用参数边界。

## 解决方法

我通过检查我的 score 函数`ParaOutOfRangePenalty`中的边界并在违反边界时给出一个恒定的高罚分来解决这个限制。您可以在您的`fitnessfcn()`:

```
% Your problem specific score calculation goes here:
score = myfitnessfcn(data,parameters);

% Add score for each parameter outside limits to create a "soft" punishment
score = score + sum(parameters(:) < lowerBound))*ParaOutOfRangePenalty;
score = score + sum(parameters(:) > upperBound))*ParaOutOfRangePenalty; 
```

## 结果

我发现 octave`ga()`算法显然尊重使用这种方法的边界。

# validation - how can i set validation for multi select list in cakephp

> ID：12541103
> 
> 赞同：0
> 
> 时间：2012-09-22T05:48:14.113
> 
> 标签：validation, cakephp-2.0, multi-select

I have a form with multi select box:

```
echo $this->Form->input('emp_id',       array(  'options' => array( $arr),
                                                                'empty' => '(choose one)',
                                                                'div'=>'formfield',
                                                                'error' => array(   'wrap' => 'div',
                                                                                    'class' => 'formerror'
                                                                                ),
                                                                'label' => 'Team Members',
                                                                'type' => 'select', 'multiple' => true,
                                                                'style' => 'width:210px; height:125px;'
                                                        )); 
```

I selected multiple values from this list box and click the `SAVE` button.

But it displays the validation message.

How can i solve this?

```
class TravancoDSRGroup extends AppModel {
        var $name = 'TravancoDSRGroup'; 
        var $useTable = 'dsr_group'; // This model uses a database table 'exmp'
        var $validate = array(
                    'emp_id' => array(
                            'rule' => 'notEmpty',
                            'message' => 'The employee field is required'
                    )
            );

} 
```

This is the model code....

If it is possible...?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-23T14:35:53.573

您不必明确指定

```
'type' => 'select' 
```

如果您从控制器设置“emps”，它将允许蛋糕的自动魔法工作。只需添加

```
$this->set(compact('emps')); 
```

发布**debug($this->request->data)**的输出，以便更好地理解问题。

您是否定义了与 emp 的 hasMany 或 HABTM 关系？要保存多个值，您必须定义 hasMany 或 HABTM 关系，如果您希望将其保存为 CSV，则必须在“beforeSave”中自己进行处理。

# php - Sorting from smallest to largest

> ID：12541105
> 
> 赞同：1
> 
> 时间：2012-09-22T05:48:33.230
> 
> 标签：php, mysql, sql, sorting

I have a field capacity in mytable .

I want to sort the fetch data by capacity from smallest to largest

these values are

```
6" x 12"
6" x 12"
6" x 18"
6" x 12"
10" x 20"
12" x 24" 
```

I want this results

```
6" x 12"
6" x 12"
6" x 12"
6" x 18"
10" x 20"
12" x 24" 
```

if I using this query

```
select * from mytable order by capacity ASC 
```

than the result is

```
10" x 20"
12" x 24"
6" x 12"
6" x 12"
6" x 12"
6" x 18" 
```

if I using this query

```
select * from mytable order by capacity + 0 ASC 
```

than the result is

```
6" x 12"
6" x 12"
6" x 18"
6" x 12"
10" x 20"
12" x 24" 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-22T06:10:29.313

对于表来说，这是一个非常糟糕的模式。最好的方法是创建一个表格，将它们（*值*）分成两列：*宽度*和*高度*。例子，

```
CREATE TABLE Dimension
(
   ID INT AUTO_INCREMENT,
   `Width` INT,
   `Height` INT,
   CONSTRAINT tb_pk PRIMARY KEY (ID)
); 
```

然后你现在可以像这样插入你的记录，

```
INSERT INTO Dimension (`Width`, `Height`) VALUES (6, 12), (6,18), (10, 12); 
```

并简单地使用这个查询来订购结果

```
SELECT *
FROM Dimension
ORDER BY (`width` * `height`) DESC 
```

* * *

但是要在不更改架构的情况下回答您的问题，`USER DEFINE FUNCTION`请在您的服务器中创建一个，

```
CREATE FUNCTION SPLIT_STR
(
  x VARCHAR(255),
  delim VARCHAR(12),
  pos INT
)
RETURNS VARCHAR(255)
RETURN REPLACE(SUBSTRING(SUBSTRING_INDEX(x, delim, pos),
       LENGTH(SUBSTRING_INDEX(x, delim, pos -1)) + 1),
       delim, ''); 
```

然后使用这个查询，

```
SELECT CAST(SPLIT_STR(REPLACE(`capacity`, '"', '') ,'x', 1) as SIGNED) width,
       CAST(SPLIT_STR(REPLACE(`capacity`, '"', '') ,'x', 2) as SIGNED) height
FROM tableName
ORDER BY  (width * height) DESC 
```

# [SQLFiddle 演示](http://sqlfiddle.com/#!2/ad0fe/6)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-22T06:02:44.357

你应该试试这个...

```
SELECT *, SUBSTRING_INDEX(capacity, 'x', 1) AS width, 
    SUBSTRING_INDEX(capacity, 'x', -1) AS height 
FROM mytable 
ORDER BY width+0 ASC, height+0 ASC 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-22T05:57:16.653

更改此查询

```
select * from mytable order by capacity ASC 
```

至

```
select * from mytable order by trim(capacity) ASC 
```

两天前它也帮助了我......

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-22T05:50:28.753

一种方法是循环遍历结果并将每个值相乘。之后使用自定义排序，您可以获得您正在寻找的结果。

```
$sortedArray = array();
$array       = array(
    '6" x 12"', '6" x 18"', '6" x 12"', '6" x 12"', '10" x 12"'
);

// loop through rowset
foreach ($array as $row) {
    $parts = explode(' x ', str_replace('"', '', $row));
    $sortedArray[][($parts[0] * $parts[1])] = $row;
}

// custom sort - PHP 5.3 required for anonymous functions
usort($sortedArray, function($a, $b) {
    return (array_keys($a) > array_keys($b));
}); 
```

或者，如果您没有 PHP 5.3，那么您可以像这样简单地更改 usort：

```
function mySort($a, $b)
{
    return (array_keys($a) > array_keys($b));
}

usort($sortedArray, 'mySort'); 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-09-22T06:10:03.163

如果您无法重构数据库以将大小存储在两个数字列中，但您想在 mysql 中实现排序而不是 php 后处理，您可以尝试提取维度并将值转换为数字，例如

```
SELECT dimensions
FROM mytable
ORDER BY
    CAST(SUBSTRING_INDEX(dimensions, '"', 1) AS SIGNED) * 
    CAST(SUBSTRING_INDEX(LEFT(dimensions, LENGTH(dimensions)-1), ' ', -1) AS SIGNED)
    ASC 
```

或者，更好的是，类似于 Ashwini 的回答：

```
SELECT dimensions
FROM mytable
ORDER BY
    (SUBSTRING_INDEX(dimensions, 'x', 1) + 0) * 
    (SUBSTRING_INDEX(dimensions, 'x', -1) + 0)
    ASC 
```

您可能需要调整两个子字符串索引部分。

另一种提取所需值的方法：

*   提取第一个维度（从开头到第一个“的子字符串：`LEFT(dimensions, INSTR(dimensions, '"'))`

*   提取第二个维度（从 x 到末尾小于 1 的子字符串）：RIGHT(LEFT(dimensions, LENGTH(dimensions-1)), INSTR(dimensions, 'x') + 1)

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-09-22T06:19:10.957

如果可以的话，为自己做点好事。为这些数据创建 2 个单独的列，如果您不想在 PHP 中连接这些值，请使用 SQL 联系：

```
select contact(width, '" x ', height, '"') as capacity from mytable order by width asc, height asc 
```

此外，分别按宽度和高度排序更有效并产生所需的结果。

# cordova - Is it able to test phonegap application outside emulator?

> ID：12541107
> 
> 赞同：1
> 
> 时间：2012-09-22T05:48:44.773
> 
> 标签：cordova, emulation

When develop a phonegap application, it sometimes need to deploy the application to an android emulator to test it. It's not convenient sometimes.

Is there any tool to test a phonegap application outside emulator? For example some browser plugins for desktop browsers?

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-22T07:44:25.480

波纹模拟器可让您使用 chrome 插件在 chrome 中测试您的 phonegap 应用程序。

这是 chrome 网上商店中的插件：[https ://chrome.google.com/webstore/detail/geelfhphabnejjhdalkjhgipohgpdnoc](https://chrome.google.com/webstore/detail/geelfhphabnejjhdalkjhgipohgpdnoc)

这是涟漪主页： [https ://developer.blackberry.com/html5/download/ripple](https://developer.blackberry.com/html5/download/ripple)

如果你想要本地文件访问，你必须做两件事：

1.  使用 --allow-file-access-from-files 标志启动 chrome
2.  转到 chromes 扩展页面，找到波纹插件，选中“允许访问文件 URL”复选框

# parsing - FParsec 组合器转 Parser 直到解析器 ?

> ID：12541115
> 
> 赞同：1
> 
> 时间：2012-09-22T05:49:55.843
> 
> 标签：parsing, f#, fparsec

我敢肯定，对此有一个非常简单的答案，但是我整天都在盯着它看，但我想不通。

根据教程，我正在实现一个 JSON 解析器。为了挑战自己，我自己实现了`number`解析器。

这是我到目前为止得到的：

```
let jnumber =
    let neg = stringReturn "-" -1 <|> preturn 1
    let digit = satisfy (isDigit)
    let digit19 = satisfy (fun c -> isDigit c && c <> '0')
    let digits = many1 digit
    let ``int`` =
        digit
        <|> (many1Satisfy2 (fun c -> isDigit c && c <> '0') isDigit) 
```

麻烦的是那`digit`是一个`Parser<char,_>`，而第二个选项`int`是一个`Parser<string,_>`。我通常会只使用组合器`digit`变成`Parser<char,_>`，还是我应该做其他事情？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-22T08:07:27.133

`|>>`运算符就是您要找的。我引用[FParsec 参考](http://www.quanttec.com/fparsec/reference/primitives.html#members.:124%3a:62%3a:62%3a)：

```
val (|>>): Parser<'a,'u> -> ('a -> 'b) -> Parser<'b,'u> 
```

> 解析器 p |>> f 应用解析器 p 并返回函数应用程序 fx 的结果，其中 x 是 p 返回的结果。
> 
> p |>> f 是 p >>= fun x -> preturn (fx) 的优化实现。

例如：

```
let jnumber =
    let neg = stringReturn "-" -1 <|> preturn 1
    let digit = satisfy (isDigit)
    let digit19 = satisfy (fun c -> isDigit c && c <> '0')
    let digits = many1 digit
    (digit |>> string) (* The operator is used here *)
    <|> (many1Satisfy2 (fun c -> isDigit c && c <> '0') isDigit) 
```

您可能想阅读[有关解析 JSON 的 FParsec 教程，](http://www.quanttec.com/fparsec/tutorial.html#parsing-json)该教程非常密集地使用此运算符。

# c# - Oracle.DataAccess 版本无法加载

> ID：12541119
> 
> 赞同：5
> 
> 时间：2012-09-22T05:50:32.283
> 
> 标签：c#, wpf, oracle

我在使用`Oracle.DataAccess`in时遇到问题`WPF`。我使用`Oracle.DataAccess v4.0` 没有任何问题。但现在它更新到版本 4.112，当我在设计器中添加对此版本的引用时，`WPF`无法加载。它给了我以下错误：

```
System.BadImageFormatException
Could not load file or assembly 'Oracle.DataAccess, 
Version=4.112.3.0, Culture=neutral, 
PublicKeyToken=89b483f429c47342' or one of its dependencies. 
An attempt was made to load a program with an incorrect format. 
```

请注意，程序运行没有任何问题。我读到这可能是由于属性中的“目标 cpu”。我测试了 x64 和 x86，但没有任何变化。我怎么解决这个问题。提前致谢

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-24T05:32:47.697

问题出在我的**Oracle.DataAccess.dll**文件上。我已经下载了**ODAC 11 XCopy**并将 Oracle.DataAccess.dll 从 \odp.net4\odp.net\bin\4 复制到我的 OracleClient 的 \odp.net\bin\4 文件夹并替换了 dll。现在它就像一个魅力。

希望对其他人有帮助

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-22T07:00:31.187

我遇到了同样的问题，我通过将依赖项 DLL 放入 Oracle.DataAcces 来解决。检查此链接[使用 Oracle 客户端 11 部署 .NET 应用程序所需的最低设置是什么？](https://stackoverflow.com/questions/923283/what-is-the-minimal-setup-required-to-deploy-a-net-application-with-oracle-clie)

希望它应该有所帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-03-18T16:24:34.617

我已经处理过这个问题太多次了。下面是一些我经常用来部署应用程序的 PowerShell。

```
$target = "\\SERVER\c$\PROJECT"
$oracleBin = "C:\oracle\product\11.2.0\client_1\BIN\"
$projectHome = "C:\Users\USER\Code\CSharp\PROJECT\bin\Release\"
$files = @(
($oracleBin + "oci.dll"),
($oracleBin + "orannzsbb11.dll"),
($oracleBin + "oraocci11.dll"),
($oracleBin + "OraOps11w.dll"),
($projectHome + "EntityFramework.dll"),
($projectHome + "EntityFramework.xml"),
($projectHome + "Oracle.DataAccess.dll"),
($projectHome + "PROJECT.exe")
#,($projectHome + "PROJECT.exe.config")
)
foreach($f in $files) {
    copy-item $f $target
} 
```

我可以为努力解决此问题的人添加两个注释：

1.  根据您在 Visual Studio 中引用 Oracle.DataAccess.dll 的位置，您可以找到正确的 Oracle 主目录（即您的 client_1\bin 所在的位置）。我有多个 Oracle 家庭，所以这是我必须克服几次的问题。
2.  以上适用于 Oracle 11g。如果您有 Oracle 12c，我相信类似的过程会起作用，但某些文件名从 *11.dll 更改为 *12.dll。

![在此处输入图像描述](../Images/fad5fdbd7c9c51a79f1fcf1d4a4bff81.png)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-09-17T13:45:45.773

另一种解决方案是从[64-bit Oracle Data Access Components (ODAC) Downloads](http://www.oracle.com/technetwork/database/windows/downloads/index-090165.html)下载并执行“ODAC112030Xcopy.zip”中的 install.bat 文件。

# iphone - 如何在 iPhone 中获取按钮背景图像？

> ID：12541125
> 
> 赞同：4
> 
> 时间：2012-09-22T05:52:13.057
> 
> 标签：iphone, ios, button, background

目前我正在使用 iPhone 应用程序，我已经创建了两个按钮并为这两个按钮设置了图像，当用户触摸 button2 然后在 button2 中显示 button1 图像时，我尝试了我的最佳水平，但我无法解决这个问题，请任何人帮助我

提前致谢

我试过这个：

```
 btn1 = [UIButton buttonWithType:UIButtonTypeCustom];
    [btn1 setImage:[UIImage imageNamed:@"4.png"] forState:UIControlStateNormal];
    btn1.frame=CGRectMake(61, 60, 50, 50);
    [btn1 addTarget:self action:@selector(Button1Method) forControlEvents:UIControlEventTouchUpInside];
    [self.view addSubview:btn1];  

    btn2 = [UIButton buttonWithType:UIButtonTypeCustom];
    [btn2 setImage:[UIImage imageNamed:@"8.png"] forState:UIControlStateNormal];
    btn2.frame=CGRectMake(112, 60, 50, 50);
    [btn2 addTarget:self action:@selector(Button2Method) forControlEvents:UIControlEventTouchUpInside];
    [self.view addSubview:btn2]; 

-(void)Button2Method
{

 [btn2 setImage:[UIImage imageNamed:btn1.currentBackgroundImage] forState:UIControlStateNormal];

} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-22T05:57:41.840

试试这个：-

```
[btn2 setImage:btn1.currentImage forState:UIControlStateNormal]; 
```

And `currentBackgroundImage`is an`UIImage`并且您将其视为 a`NSString`这是错误的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-22T05:59:06.443

用这个

```
 UIImage *img = btn1.currentImage;
        [btn2 setImage:img forState:UIControlStateNormal]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-22T06:07:52.403

这是因为您正在将图像设置为按钮`btn1 setImage:`并访问背景图像`btn1.currentBackgroundImage`

所以改变你的代码**测试**

```
-(void)Button2Method
{
    [btn2 setImage:btn1.imageView.image forState:UIControlStateNormal];
} 
```

# python - Flask - 嵌套的rest api - 使用methodview以外的东西还是我做了一个糟糕的设计？

> ID：12541129
> 
> 赞同：6
> 
> 时间：2012-09-22T05:53:15.077
> 
> 标签：python, api, rest, flask

刚从 Flask 开始，跟着[http://flask.pocoo.org/docs/views/](http://flask.pocoo.org/docs/views/)

假设我有一个基本的 REST api，在这种情况下用于症状：

```
/
    GET - list
    POST - create

/<symptomid>
    GET - detail
    PUT - replace
    PATCH - patch
    DELETE - delete 
```

我可以使用 Flask 非常干净地实现这一点`MethodView`，如下所示：

```
from flask import Blueprint, request, g
from flask.views import MethodView
#...

mod = Blueprint('api', __name__, url_prefix='/api')

class SymptomAPI(MethodView):
    """ ... """

    url = "/symptoms/"

    def get(self, uid):
        if uid is None:
            return self.list()
        else:
            return self.detail(uid)

    def list(self):
        # ...

    def post(self):
        # ...

    def detail(self, uid):
        # ...

    def put(self, uid):
        # ...

    def patch(self, uid):
        # ...

    def delete(self, uid):
        # ...

    @classmethod
    def register(cls, mod):
        symfunc = cls.as_view("symptom_api")
        mod.add_url_rule(cls.url, defaults={"uid": None}, view_func=symfunc,
                         methods=["GET"])
        mod.add_url_rule(cls.url, view_func=symfunc, methods=["POST"])
        mod.add_url_rule('%s<int:uid>' % cls.url, view_func=symfunc,
                 methods=['GET', 'PUT', 'PATCH', 'DELETE'])

SymptomAPI.register(mod) 
```

但是，假设我想在这些个别症状上附加另一个 api：

```
/<symptomid>/diagnoses/
    GET - list diags for symptom
    POST - {id: diagid} - create relation with diagnosis

/<symptomid>/diagnoses/<diagnosisid>
    GET - probability symptom given diag
    PUT - update probability of symptom given diag
    DELETE - remove diag - symptom relation 
```

然后我将有 4 个 GET 而不是上面的两个。

1.  你认为这是一个糟糕的 api 设计吗？
2.  `MethodView`适合这种设计吗？（如果设计还不错）
3.  您将如何实施这些路线？

所以......在写这个问题时，我找到了一个不错的解决方案。只要我在这里，我还不如发布我的问题和解决方案。任何反馈仍将不胜感激。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-09-22T05:53:15.077

我觉得设计还可以。`MethodView`应该非常棒。您可以像这样将路线放在一起：

```
class SymptomDiagnosisAPI(MethodView):
    """
    /<symptom_id>/diagnoses/
        GET - list diags for symptoms
        POST - {id: diagid} - create relation with diagnosis

    /<symptom_id>/diagnoses/<diagnosis_id>
        GET - probability symptom given diag
        PUT - update probability of symptom given diag
        DELETE - remove diag - symptom relation
    """

    def get(self, symptom_id, diagnosis_id):
        if diagnosis_id is None:
            return self.list_diagnoses(symptom_id)
        else:
            return self.symptom_diagnosis_detail(symptom_id, diagnosis_id)

    def list_diagnoses(self, symptom_id):
        # ...

    def post(self, symptom_id):
        # ...

    def symptom_diagnosis_detail(self, symptom_id, diagnosis_id):
        # ...    

    def put(self, symptom_id, diagnosis_id):
        # ...    

    def delete(self, symptom_id, diagnosis_id):
        # ...    

    @classmethod
    def register(cls, mod):
        url = "/symptoms/<int:symptom_id>/diagnoses/"
        f = cls.as_view("symptom_diagnosis_api")
        mod.add_url_rule(url, view_func=f, methods=["GET"],
                         defaults={"diagnosis_id": None})
        mod.add_url_rule(url, view_func=f, methods=["POST"])
        mod.add_url_rule('%s<int:diagnosis_id>' % url, view_func=f,
                         methods=['GET', 'PUT', 'DELETE'])

SymptomDiagnosisAPI.register(mod) 
```

# php - PHP ZipArchive 带有文件夹的大型 ExtractTo

> ID：12541132
> 
> 赞同：-1
> 
> 时间：2012-09-22T05:53:18.290
> 
> 标签：php, zip, limit, unzip, ziparchive

我在使用 ZipArchive extractTo 时遇到问题。

我有一个 +300Mb ZIP 文件，每个文件夹有 100 个文件夹和 +3k XML 文件。当我开始这个过程时，它会运行到 20 个文件夹和内部档案并停止工作。

这是我的解压缩功能...

```
public function unzip_files($zipfile, $parent_folder)
{
    ini_set('memory_limit', '512M');
    set_time_limit(0);      

    $zip = new ZipArchive;
    $res = $zip->open($zipfile);

    if( $res === true )
    {
        if( $zip->extractTo(HCAT_UPLOADS . $parent_folder) );
        {
            $zip->close();

            print '<strong>'. basename($zipfile) .'</strong> '. __('unziped correctly', self::$ltd) .'.<br />';

            return true;
        }
        else
        {
            print __('Failed to unzip', self::$ltd) .' <strong>'. basename($zipfile) .'</strong>.<br />';

            return false;
        }
    }
    else
    {
        print __('Failed to unzip', self::$ltd) .' <strong>'. basename($zipfile) .'</strong>.<br />';

        return false;
    }
} 
```

如何解压缩所有文件夹？有什么提示吗？:)

谢谢！
**R**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-24T12:47:29.500

ZipArchive 将 ExtractTo 限制为 65535 个文件，并且无法进行偏移。

因此，BTW 发现的最佳解决方法是使用 shell 命令：

```
public function unzip_files($zipfile, $parent_folder)
{
    $disableds = explode(', ', ini_get('disable_functions'));

    if( !in_array('exec', $disableds) )
    {
        exec("unzip -o $zipfile -x -d $parent_folder");

        print '<strong>'. basename($zipfile) .'</strong> '. __('unziped correctly', self::$ltd) .'.<br />';
    }
} 
```

最好的！
**R**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-09-01T13:10:06.393

**它对我有用..!!** 因为我们的应用程序之一在 PHP 5.3 中运行 -`extractTo()`这不允许我们上传超过 65KB 的 ZIP 文件。

`exec("unzip -o $zipFileName -x -d $uploadedPath");`

例子：

```
$zip_obj = new ZipArchive();
$zip_obj_data = $zip_obj->open($zipFileName);
if ($zip_obj_data === true) {
    #$zip_obj->extractTo($uploaded_path);
    #$zip_obj->close();
    $disableds = explode(', ', ini_get('disable_functions'));
    if( !in_array('exec', $disableds) )
    {
        $zipfile = $zipFileName;
        exec("unzip -o $zipfile -x -d $uploaded_path");
    } 
    unlink($zipFileName);

} 
```

注意：'exec' 命令不属于 PHP 安全组，使用此命令可能会带来风险。

# php - 通过jquery连续刷新页面一定的时间间隔

> ID：12541141
> 
> 赞同：-1
> 
> 时间：2012-09-22T05:54:20.867
> 
> 标签：php

我有一个自定义控件保存在一个 div 中，它仅在刷新时更改其内容，所以我正在考虑使用只能刷新 div 的东西。我正在尝试做类似脸书墙的概念。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-22T06:00:03.110

试试这样

```
<html>
<head>
<!-- For ease i'm just using a JQuery version hosted by JQuery- you can download any version and link to it locally -->
<script src="http://code.jquery.com/jquery-latest.js"></script>
<script>
$(document).ready(function() {
 $("#responsecontainer").load("response.php");
  var refreshId = setInterval(function() {
  $("#responsecontainer").load('response.php?randval='+ Math.random());
 }, 9000);
 $.ajaxSetup({ cache: false });
});
</script>
</head>
<body>

<div id="responsecontainer">
</div>
</body>
</html> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-22T06:03:24.527

您可以使用 setInterval 连续执行操作。用 clearInterval(intv) 清除它；

```
var intv = setInterval(function(){
 //do stuff here every 5 seconds
}, 5000);

setTimeout(function(){
  clearInterval(intv);
}, 30000); 
```

以上将每 5 秒执行一次，然后在 30 秒后取消轮询。

# java - 流写入异常

> ID：12541142
> 
> 赞同：0
> 
> 时间：2012-09-22T05:54:45.577
> 
> 标签：java, sockets, io

我正在做套接字编程。我有两个名为 Server.java 和 client.java 的文件。两个程序都成功运行并成功地相互发送数据。昨天我在 client.java 文件中添加了以下几行：

```
 //old line
     out.writeUTF(dbdata); //dbdata was written successfully and sent to the server program
     try
     {
          //my socket connection object name is sock
            String data1="1000";
            System.out.println(data1);
            out.writeUTF(data1);   this line causes the error
     }

     catch(Exception e)
     {
            System.out.println("Exception :: "+e);
     } 
```

当执行 out.writeUTF(data1) 行并 catch 捕获它并将异常显示为 BROKEN PIPE 时。

读取 data1 的 server.java 的内容如下：

```
 String data1;
     try
     {
            data1=in.readUTF();
     }
     catch(Exception e)
     {
            System.out.println("Server Exception :: "+e);
     } 
```

我还检查了在 out.writeUTF(data1) 之前是否使用 isConnected() 打开了连接，并且在我执行 isConnected() 的 catch 中发生异常之后。两次都只显示 True。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-22T10:03:09.737

'Broken pipe' 表示您已写入已被另一端关闭的连接。换句话说，应用程序协议错误。缓解措施不是这样做，要么通过修复这一端使其不写入不需要的数据，要么修复另一端使其读取所有想要的数据。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-22T11:29:24.353

@EJP 是对的。异常意味着套接字在写调用完成之前关闭，并且可能在它开始之前关闭。无法知道有多少数据被传递到另一端。

谜题的另一部分是为什么`isConnected()`要返回`true`。这是由[javadoc](http://docs.oracle.com/javase/7/docs/api/java/net/Socket.html#isConnected%28%29)解释的，它说：

> *“注意：关闭套接字不会清除其连接状态，这意味着如果在关闭之前成功连接，则此方法将为已关闭的套接字返回 true（参见 isClosed()）。”*

# jstl - 迭代集合并在html行jstl中显示

> ID：12541143
> 
> 赞同：1
> 
> 时间：2012-09-22T05:54:48.623
> 
> 标签：jstl

我几乎到处都在寻找这个逻辑，但我确信我做得不好，因此提出了这个问题。

我有一个Arraylist，它需要迭代并以以下格式显示

用户 1 用户 2 用户 3
用户 4 用户 5 用户 6 用户 7用户 8 用户
9

我可以使用普通的 JSP scriptlet 但不使用 JSTL 来做到这一点。我曾尝试使用 JSTL，但它会从列表中跳过一些条目。这是我的代码

```
 <tr>
        <c:forEach var="party" items="${partiesList}">
        <c:set var="ctr" value="${ctr+1}" scope="page"/>
        <c:choose>
        <c:when test="${ctr le 3}">
            <td>
                <figure>
                    <img src="images/${party.avatarUrl}" onclick="showHide('','${party.screenName}')" class="avaimg" alt="${party.screenName}">
                    <figcaption><spring:message code="user.${party.screenName}" text="${party.screenName}"/></figcaption>
                </figure>
            </td>
        </c:when>
        <c:otherwise>
    </tr>
    <c:set var="ctr" value="0" scope="page"/>
    </c:otherwise>
    </c:choose>
    </c:forEach> 
```

任何帮助，将不胜感激。

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-23T09:47:25.387

您可以通过使用`varStatus`属性和模运算符 ( `%`) 来做到这一点。

```
<table>
  <c:forEach var="party" items="${partiesList}" varStatus="status">
    <c:if test="${status.index % 3 == 0}"><tr></c:if>
    <td>${status.index}</td>
    <c:if test="${status.index % 3 == 2}"></tr></c:if>
  </c:forEach>
</table> 
```

`varStatus`将返回一个[`LoopTagStatus`](http://docs.oracle.com/javaee/6/api/javax/servlet/jsp/jstl/core/LoopTagStatus.html)对象，在`index`哪里

> 当前轮次迭代的索引。如果在底层数组、java.lang.Collection 或其他类型的子集上执行迭代，则返回的索引相对于底层集合是绝对的。索引从 0 开始。

您可以使用[模](http://en.wikipedia.org/wiki/Modulo_operation)运算符来检查是否需要开始或关闭新行。

* * *

另一种方法是循环遍历列表，将其输出为无编号列表并使用 CSS 以您想要的方式对其进行样式设置。我就是这样解决它的。您的 CSS 外观示例：

```
ul.my-class { overflow: hidden; width: 600px; }
ul.my-class li { float: left; width: 200px; } 
```

# android - 触摸方法开始时，Finger Paint 不绘制点

> ID：12541144
> 
> 赞同：2
> 
> 时间：2012-09-22T05:54:57.667
> 
> 标签：android, touch, paint

我已经实现了以下代码。让我知道当着陆方法开始时我必须在哪里更改代码以绘制点。

目前在 touch MOVE 方法运行时线条绘制流畅。但如果我点击然后点不是绘图。

我想在开始 TOUCH DOWN 方法时画点。

请给出任何解决方案。

```
 mPaint = new Paint();
        mPaintText = new Paint();
        mPaint.setAntiAlias(true);
        mPaint.setDither(true);
        mPaint.setColor(Color.BLUE);
        mPaint.setStyle(Paint.Style.STROKE);
        mPaint.setStrokeJoin(Paint.Join.ROUND);
        mPaint.setStrokeCap(Paint.Cap.ROUND);
        mPaint.setStrokeWidth(7);

        mCanvas = new Canvas();
        mPath = new Path();

@Override
    public boolean onTouch(View arg0, MotionEvent event) {
        float x = event.getX();
        float y = event.getY();

        switch (event.getAction()) {
        case MotionEvent.ACTION_DOWN:

                 touch_start(x, y);
             invalidate();
                 break;

               case MotionEvent.ACTION_MOVE:
               touch_move(x, y);
            invalidate();
                break;

               case MotionEvent.ACTION_UP:
               touch_up();
           invalidate();

                break;
        }
        return true;
    }

private float mX, mY;
    private static final float TOUCH_TOLERANCE = 4;

    private void touch_start(float x, float y) {

mPath.reset();
        mPath.moveTo(x, y);
        mX = x;
        mY = y;

}

    private void touch_move(float x, float y) {
        float dx = Math.abs(x - mX);
        float dy = Math.abs(y - mY);
        if (dx >= TOUCH_TOLERANCE || dy >= TOUCH_TOLERANCE) {
            mPath.quadTo(mX, mY, (x + mX) / 2, (y + mY) / 2);
            mX = x;
            mY = y;
        }
    }

private void touch_up() {
        mPath.lineTo(mX, mY);

        mCanvas.drawPath(mPath, mPaint);

        Paint newPaint = new Paint(mPaint); // Clones the mPaint object
        mPath = new Path();

    }

@Override
    protected void onDraw(Canvas canvas) {

        canvas.drawPath(mPath, mPaint);

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-23T07:04:12.587

试试这个，[Android FingerPaint 样例不画点？](https://stackoverflow.com/questions/17251416/android-fingerpaint-sample-does-not-draw-dot)

# php - PHP类文件链接问题？

> ID：12541145
> 
> 赞同：0
> 
> 时间：2012-09-22T05:55:08.963
> 
> 标签：php, oop, class, include

我说过在我的网站中实现面向对象的设计。我正在使用php，遇到了一个问题。

按照我的倾向，我喜欢为每个文件定义一个类——仅此而已。通常，如果我没记错的话，在大多数语言中，如果类位于同一目录中，则可以调用它们，而不必显式链接到主程序（我可能是错的，或者是虚拟机独有的）。

现在，当我没有将类文件链接到主文件时，php 会发送错误。最重要的是，除非我定义到父类文件的链接，否则子类将不会执行。

我是否必须明确地将我的所有文件链接在一起？

以下是我的一些代码片段的详细信息：

```
<?php 

include_once 'VRC_Header2.php';
include_once 'UserService.php'; //Child class file of DB_MySQL.php
include_once 'DB_MySQL.php'; //Parent class
    //Without the two links above, this file will not execute 
```

然后是子类：

```
class UserService extends DB_MySQL

{... 
```

任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-22T06:05:20.597

您必须将所有类文件相互包含。否则其他页面将无法理解该类的存在位置。

你可以使用`namespace`概念。

[http://php.net/manual/en/language.namespaces.php](http://php.net/manual/en/language.namespaces.php)

但是在这你必须包含类文件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-22T06:07:41.950

是的，在 PHP 中，您必须在实例化它们之前包含所有需要的类。

避免这种情况的一种方法是使用自动加载：

[http://php.net/manual/en/language.oop5.autoload.php](http://php.net/manual/en/language.oop5.autoload.php)

它用于大多数 PHP 框架（例如 Zend 框架）。

# ruby-on-rails - Rails：设计与会话资源冲突的登录路由

> ID：12541148
> 
> 赞同：1
> 
> 时间：2012-09-22T05:56:38.710
> 
> 标签：ruby-on-rails, devise, routes

在使用带有 Rails 的 Devise 成功注册后，我遇到了登录问题。

我得到这个错误。

没有路线匹配 [POST] "/sessions/user"

我不确定为什么。我有一个名为“会话”的模型，这可能是为什么？

这是视图-

```
<ul class="nav pull-right">
        <% if user_signed_in? %>
          <li><%= link_to current_user.full_name, edit_user_registration_path %></li>
          <li><%= link_to "log out", destroy_user_session_path, method: :delete %></li>
        <% else %>
          <li><%= link_to "Register", new_user_registration_path %></li>
          <li><%= link_to "Log in", new_user_session_path %></li>
        <% end %>
</ul> 
```

这是'rake routes'的输出

```
 new_user_session GET    /users/sign_in(.:format)       devise/sessions#new
        user_session POST   /users/sign_in(.:format)       devise/sessions#create
destroy_user_session DELETE /users/sign_out(.:format)      devise/sessions#destroy
       user_password POST   /users/password(.:format)      devise/passwords#create
   new_user_password GET    /users/password/new(.:format)  devise/passwords#new
  edit_user_password GET    /users/password/edit(.:format) devise/passwords#edit
                     PUT    /users/password(.:format)      devise/passwords#update
cancel_user_registration GET    /users/cancel(.:format)        devise/registrations#cancel
   user_registration POST   /users(.:format)               devise/registrations#create
 new_user_registration GET    /users/sign_up(.:format)       devise/registrations#new
edit_user_registration GET    /users/edit(.:format)          devise/registrations#edit
                     PUT    /users(.:format)               devise/registrations#update
                     DELETE /users(.:format)               devise/registrations#destroy
            sessions GET    /sessions(.:format)            sessions#index
                     POST   /sessions(.:format)            sessions#create
         new_session GET    /sessions/new(.:format)        sessions#new
        edit_session GET    /sessions/:id/edit(.:format)   sessions#edit
             session GET    /sessions/:id(.:format)        sessions#show
                     PUT    /sessions/:id(.:format)        sessions#update
                     DELETE /sessions/:id(.:format)        sessions#destroy
                root        /                              sessions#index 
```

我已经四处搜索，但没有找到任何重复项，如果您在这里发现了什么，请告诉我。感谢您对此的帮助。

登录页面——

```
<div class="row">
<div class="span4">
  <%= simple_form_for(resource, :as => resource_name, :url => session_path(resource_name),     html: {class: "well"} ) do |f| %>

  <fieldset>
    <legend>Sign in</legend>

      <%= f.input :email %>
      <%= f.input :password %>

    <% if devise_mapping.rememberable? -%>
      <div><%= f.input :remember_me, as: :boolean %> </div>
    <% end -%>

    <div><%= f.button :submit, "Sign in" %></div>
  </fieldset>  
  <% end %>

  <%= render "devise/shared/links" %>
  </div>

  <div class="span8">
    <h2>Signing in is easy and secure!</h2>
  </div>
</div> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-22T22:17:49.407

好的，Devise 定义了一个与您自己的路由冲突的方法 session_path：[https ://github.com/plataformatec/devise/blob/master/lib/devise/controllers/url_helpers.rb#L9](https://github.com/plataformatec/devise/blob/master/lib/devise/controllers/url_helpers.rb#L9)

在为 Session 模型指定路由时，您需要重命名 Session 模型或提供不同的名称。就像是：

```
# routes.rb
resources :sessions, as: :logins 
```

# html - 使用引导侧导航栏

> ID：12541150
> 
> 赞同：7
> 
> 时间：2012-09-22T05:56:50.803
> 
> 标签：html, asp.net-mvc-3, twitter-bootstrap

我已经实现了引导程序，如果你去：http: [//twitter.github.com/bootstrap/javascript.html#affix](http://twitter.github.com/bootstrap/javascript.html#affix)

我想在左侧栏上应用一个词缀，当我向下滚动时，侧栏会保持滚动。我不能让它工作。我什么都试过了。我需要做任何想法或技巧才能使其正常工作？

我尝试了数据元素和javascript方式，都不起作用。我也实现了 bootstrap.js、bootstrap.cs 和 bootstrap-responsive.cs。

```
<div class="container">
    <!-- Docs nav
    ================================================== -->
    <div class="row">
        <div class="span3 bs-docs-sidebar" data-spy="affix" data-offset-top="200" >

            <ul class="nav nav-list bs-docs-sidenav">
                <li><a href="#AccountId"><i class="icon-chevron-right"></i>My Account</a></li>
                <li><a href="#tutorialid"><i class="icon-chevron-right"></i>My Tutorials</a></li>
                <li><a href="#buttonDropdowns"><i class="icon-chevron-right"></i>My Articles</a></li>
                <li><a href="#navs"><i class="icon-chevron-right"></i>Help</a></li>
            </ul>

        </div>
        <div class="span9">
            <!-- Typography
             ================================================== -->
            <section id="AccountId">
                <div class="page-header">
                     <h1>My Account</h1>

                </div>
                <div class="bs-docs-example">
                     <h3><b>Change Password</b></h3>

                    <div>
                        <label>Current Password</label>
                        <input type="text" />
                        <label>New Password</label>
                        <input type="text" />
                        <label>Confirm Password</label>
                        <input type="text" />
                        <br />
                        <input type="button" class="btn btn-primary" value="Submit" />
                    </div>
                     <h3><b>Tutorial Settings</b></h3>

                    <div>
                        <label>Current Password</label>
                        <input type="text" />
                        <label>New Password</label>
                        <input type="text" />
                        <label>Confirm Password</label>
                        <input type="text" />
                        <br />
                        <input type="button" class="btn btn-primary" value="Submit" />
                    </div>
                     <h3><b>Article Settings</b></h3>

                    <div>
                        <label>Current Password</label>
                        <input type="text" />
                        <label>New Password</label>
                        <input type="text" />
                        <label>Confirm Password</label>
                        <input type="text" />
                        <br />
                        <input type="button" class="btn btn-primary" value="Submit" />
                    </div>
                </div>
            </section>@* Tutorials *@
            <section id="tutorialid">
                <div class="page-header">
                     <h1>My Tutorials</h1>

                </div>
                <div class="bs-docs-example"></div>
            </section>
        </div>
    </div>
</div> 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-22T09:37:59.770

它不起作用，因为您将词缀添加到`div`while 您应该将其添加到`ul`.

如果您检查[Twitter Bootstrap Javascript 页面](http://twitter.github.com/bootstrap/javascript.html)的源代码，他们就是这样做的。

我试图用你的代码来做它并且它有效:)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-18T19:00:56.310

转到 application.js，第 19 行。

这将允许您为 sidenav 进行自定义填充，以便在您想要的适当位置停止。

# url - BlogEnginet.net 到 Jekyll 的迁移而不破坏 URL

> ID：12541158
> 
> 赞同：1
> 
> 时间：2012-09-22T05:58:06.263
> 
> 标签：url, github, migration, jekyll, blogengine.net

我目前使用 BlogEngine.net 作为我的博客平台。我着迷于 Jekyll 的美丽和简洁，并想转向它。

我找到了 2 个有助于迁移现有帖子的资源：http: [//doingthedishes.com/2011/04/14/moving-to-jekyll.html](http://doingthedishes.com/2011/04/14/moving-to-jekyll.html)和[http://philippkueng.ch/migrate-from-blogengine-dot-网络到jekyll.html](http://philippkueng.ch/migrate-from-blogengine-dot-net-to-jekyll.html)。我还没有尝试这些方法。但是，我担心 URL 结构冲突，这可能会导致指向我在其他地方引用的帖子的链接断开。

BlogEngine.net 使用 URL 结构“ ***http://sitename.com/post/title-of-the-post.aspx*** ”。我不确定在迁移到 jekyll 后是否可以保留相同的 URL 结构（我已经检查了 Jekyll 的永久链接[https://github.com/mojombo/jekyll/wiki/Permalinks](https://github.com/mojombo/jekyll/wiki/Permalinks)，但我认为它没有帮助） . 请告诉我如何解决从 blogEngine.net 迁移到 jekyll 的问题，而不会破坏 URL 和失去 SEO 排名。

编辑：我想在不支持重定向的 Github 页面上托管我的静态博客。有没有办法可以使用 Github 或者我应该选择支持 htaccess 重定向的主机？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-22T07:24:39.030

您可以使用 Jekyll 维护相同的 URL 结构。在 _config.yml 文件中添加以下内容，

```
permalink: /post/:title.aspx/index.html 
```

Jekyll 从 _posts 文件夹中文件的 URL 部分选择 :title。

例如：文件名：2012-06-09-title-of-the-post.markdown，标题：title-of-the-post

由于我的[博客](http://aravindavk.in)由 Jekyll 提供支持，因此我使用这种带有 .aspx 扩展名的新 URL 格式在本地进行了测试。有效。

Jekyll 创建一个名为“title-of-the-post.aspx”的文件夹而不是文件，并在该文件夹中创建 index.html。所以不需要重定向。

# javascript - 两个选择选项上的 onChange 事件

> ID：12541162
> 
> 赞同：0
> 
> 时间：2012-09-22T05:58:57.387
> 
> 标签：javascript, jquery, html

当 dropdown1 更改时，是否可以更改 dropdown2 的值的限制？这是我的代码

```
<!--DROPDOWN 1-->
<p class="">From</p>
<select name="From" id="From" onChange="displayVal(this)">
<option value="any">Any</option>
<option value="none">None</option>
<option value="10000">&pound;10,000</option>
<option value="20000">&pound;20,000</option>
<option value="30000">&pound;30,000</option>
<option value="40000">&pound;40,000</option>
<option value="50000">&pound;50,000</option>
<option value="60000">&pound;60,000</option>
<option value="70000">&pound;70,000</option>
<option value="80000">&pound;80,000</option>
<option value="90000">&pound;90,000</option>
<option value="100000">&pound;100,000</option>
<option value="110000">&pound;110,000</option>
<option value="120000">&pound;120,000</option>
<option value="130000">&pound;130,000</option>
<option value="140000">&pound;140,000</option>
<option value="150000">&pound;150,000</option>
<option value="150001">&pound;150,000+</option>
</select>

<!--DROPDOWN 2-->
<p class="">To</p>
<select name="To" id="To">
<option value="any">Any</option>
<option value="none">None</option>
<option value="10000">&pound;10,000</option>
<option value="20000">&pound;20,000</option>
<option value="30000">&pound;30,000</option>
<option value="40000">&pound;40,000</option>
<option value="50000">&pound;50,000</option>
<option value="60000">&pound;60,000</option>
<option value="70000">&pound;70,000</option>
<option value="80000">&pound;80,000</option>
<option value="90000">&pound;90,000</option>
<option value="100000">&pound;100,000</option>
<option value="110000">&pound;110,000</option>
<option value="120000">&pound;120,000</option>
<option value="130000">&pound;130,000</option>
<option value="140000">&pound;140,000</option>
<option value="150000">&pound;150,000</option>
<option value="150001">&pound;150,000+</option>
</select> 
```

我想要的是当我将 dropdown1 更改为`none`dropdown2 选项时只会显示`none`而不会显示其他。而且我还想要的是，如果我将 dropdown1 的值更改为一个数量，例如`30000`， dropdown2 将仅显示大于`30000`包含 option的值`any`。有没有办法在 javascript 或 jQuery 中做到这一点？对不起。我是 javascript 和 jQuery 的新手。提前谢谢你！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-22T06:18:44.110

**演示**：http: [//jsfiddle.net/LsaLA/1/](http://jsfiddle.net/LsaLA/1/)

**代码**：

```
function setTo() {
    var f = $('#From').val();
    var t = $('#To');
    t.children().hide();
    if( f == 'none' ) {
        t.children('[value="none"]').show();
        t.val('none');
    }
    else if( t == 'any' ) {
        t.children().show();
        t.val('any');
    }
    else {
        f = parseInt(f, 10);
        t.children().each(function() {
            if( $(this).val() == 'any' ) {
                $(this).show();
                t.val('any');
            }
            else {
                var v = parseInt($(this).val(), 10);
                if(!isNaN(v) && v >= f) {
                    $(this).show();
                }
            }
        });
        t.val('any');
    }
}

$('#From').change(setTo);

//call it on load as well
setTo(); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-22T06:23:06.483

试试这个：http: [//jsfiddle.net/F6xnL/4/](http://jsfiddle.net/F6xnL/4/)

```
$("#From").change(function() {
$("#To").attr("disabled", false).children().each(function() {
    $(this).attr('disabled', false);
});

if ($(this).val() === 'any') return;
if ($(this).val() === 'none') {
    $("#To").val("none").attr("disabled", true);
    return;
}

var pound = parseInt($(this).val());
$("#To").children().each(function() {
    var val = $(this).val();
    if (val === 'none' || val === 'any') {
        $(this).attr('disabled', true); return;
    }
    if (parseInt($(this).val()) <= pound) {
        $(this).attr('disabled', true);
    }
});
});​ 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-22T06:13:58.857

```
$('#From').change(function(){
    if($(this).val() == 'none'){
        $('#To').prop('disabled', true);
    }else if((true == $('#To').prop('disabled')) && ($(this).val() != 'none')){
       $('#To').prop('disabled', false);          
    }
    $('#To option').each(function(){
        if($(this).val() < $('#From').val()){
            $(this).hide(0);
        }else{
            if($(this).css('display') == 'none'){
                $(this).show(0);   
           }
        }            
    });
}); 
```

未经测试，但这应该有效。我有点啰嗦。

# c++ - 这个 c++ 程序缺少什么？打印计算

> ID：12541169
> 
> 赞同：-1
> 
> 时间：2012-09-22T06:01:29.217
> 
> 标签：c++, visual-studio-2010

```
#include <iostream>
#include <iomanip>
using namespace std;

int main () // print to console: 3.0*5.0=15.00
{
double a;
double b;
a =(3.0);
b =(5.0);
cout << "  " << fixed << setprecision (1) << a << "\n" << endl;
cout << "* " << b << "\n" << endl;
cout << "------" << endl;
cout << fixed << setprecision (2) << a*b << "\n" << endl;

return 0;
}

int calculate (int a, int b, int c) // print to console: (7.1*8.3)-2.2=56.73
{
double a;
    double b;
    double c;
    a = (7.1);
    b = (8.3);
    c = (2.2);
    cout << "  " << fixed << setprecision (1) << a << "\n" << endl;
    cout << "* " << b << "\n" << endl;
    cout << "- " << c << "\n" << endl;
    cout << "------" << endl;
    cout << setprecision(2) << (a*b)-c << "\n" << endl;
}
int calculation (int a, int b, int c) // print to console: 3.2/(6.1*5.0)=0.10
{
double a;
double b;
double c;
a=(3.2);
b=(6.1);
c=(5.0);
cout << "  " << fixed << setprecision (1) << a << "\n" << endl;
    cout << " /(6.1*5.0)" << endl; //how can I use variables instead of using quotes?
cout << "------" << endl;
cout << setprecision(2) << a/(b*c) << "\n" << endl;

system("PAUSE");

return 0;
} 
```

我使用了一个重复的布局，我希望它可以垂直打印 3 个函数，以便小数点全部对齐。我似乎无法在没有错误的情况下进行打印，并且认为我对错误输出的理解不足以进行必要的更改。我不知道我是否正确地重新定义了变量，或者我是否正确地将它们组合在一起（使用 {}）。

感谢任何可以帮助我完成这项工作的人。

这是输出：

```
(7): error C2082: redefinition of formal parameter 'a'
(8): error C2082: redefinition of formal parameter 'b'
(9): warning C4244: '=' : conversion from 'double' to 'int', possible loss of data
(10): warning C4244: '=' : conversion from 'double' to 'int', possible loss of data
(21): error C2082: redefinition of formal parameter 'a'
(22): error C2082: redefinition of formal parameter 'b'
(23): error C2082: redefinition of formal parameter 'c'
(24): warning C4244: '=' : conversion from 'double' to 'int', possible loss of data
(25): warning C4244: '=' : conversion from 'double' to 'int', possible loss of data
(26): warning C4244: '=' : conversion from 'double' to 'int', possible loss of data
(34): error C2601: 'calculation' : local function definitions are illegal
(20): this line contains a '{' which has not yet been matched
(51): fatal error C1075: end of file found before the left brace '{' 
```

我将如何解决这些错误？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-22T06:04:37.880

在以下情况下您错过了右括号：

```
int calculate (int a, int b, int c) // print to console: (7.1*8.3)-2.2=56.73
{
    ....
    ....
    cout << setprecision(2) << (a*b)-c << "\n" << endl;
} 
```

^^^^

由于您在两个函数中都有相同的命名符号，因此缺少大括号会导致符号名称被多次使用，从而违反了单一定义规则，从而导致重新定义错误。

另外，请注意@Ed.S 在评论中正确指出的内容。

此外，请注意您可能需要在程序逻辑中考虑的类型转换警告。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-22T06:06:56.677

你错过了`}`after 你的`int calculate`功能。虽然不相关，但您也不必多次调用`fixed`和。`setprecision`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-22T06:07:09.087

首先：

int main(int, int) - 非常非标准的程序入口点

下一个 ：

```
int main (int a, int b) // print to console: 3.0*5.0=15.00
{
double a;
double b; 
```

您正在重新定义形式参数 a 和 b

就是这样，这就是你的编译器所说的：

```
(7): error C2082: redefinition of formal parameter 'a'
(8): error C2082: redefinition of formal parameter 'b' 
```

.

```
int calculate (int a, int b, int c) // print to console: (7.1*8.3)-2.2=56.73
{
double a;
    double b;
    double c; 
```

您有相同的局部变量和形式参数名称，我认为这不是您所期望的。

最后一个：

**您在计算**函数末尾缺少右括号“}” 。

```
#include <iostream>
#include <iomanip>
using namespace std;

int main () // print to console: 3.0*5.0=15.00
{
double a;
double b;
a =(3.0);
b =(5.0);
cout << "  " << fixed << setprecision (1) << a << "\n" << endl;
cout << "* " << b << "\n" << endl;
cout << "------" << endl;
cout << fixed << setprecision (2) << a*b << "\n" << endl;

return 0;
}

int calculate () // print to console: (7.1*8.3)-2.2=56.73
{
    double a;
    double b;
    double c;
    a = (7.1);
    b = (8.3);
    c = (2.2);
    cout << "  " << fixed << setprecision (1) << a << "\n" << endl;
    cout << "* " << b << "\n" << endl;
    cout << "- " << c << "\n" << endl;
    cout << "------" << endl;
    cout << setprecision(2) << (a*b)-c << "\n" << endl;
}
int calculation () // print to console: 3.2/(6.1*5.0)=0.10
{
    double a;
    double b;
    double c;
    a=(3.2);
    b=(6.1);
    c=(5.0);
    cout << "  " << fixed << setprecision (1) << a << "\n" << endl;
    cout << b << "*" << c << endl; //how can I use variables instead of using quotes?
    cout << "------" << endl;
    cout << setprecision(2) << a/(b*c) << "\n" << endl;

    system("PAUSE");

    return 0;
} 
```

# mysql - MYSQL如何查找字符串附近的数字

> ID：12541170
> 
> 赞同：1
> 
> 时间：2012-09-22T06:01:30.817
> 
> 标签：mysql

我在某个领域有以下变体之一：

```
Amount Used: 4/11
Amount Used : 4 / 11
4 / 11  Amount Used 
```

我表中的每一行都包含其中一个具有不同数字集的变体。

**是否有可能在 string 附近找到*数字*** `Amount Used`，**而不管它附近的语法可能有什么微小的变化？**

我至少开始了：

```
SELECT * FROM mytable WHERE
`file` LIKE '%Amount Used%' 
```

但不知道从这里去哪里

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-22T06:04:07.973

试试这个：

当您替换常量时（即，使用的数量，：），您将获得变量编号

```
SELECT trim(replace(replace(`file`,'Amount Used',''),':','')) as `values`
FROM mytable 
WHERE `file` LIKE '%Amount Used%' 
```

# [SQL Fiddle 演示](http://sqlfiddle.com/#!2/3da2f/6)

# java - java字符串相等

> ID：12541172
> 
> 赞同：-2
> 
> 时间：2012-09-22T06:01:36.940
> 
> 标签：java, string

可以通过两种方式初始化字符串：

```
String s="ABCD"; 
```

或者

```
String s=new String("ABCD"); 
```

这两个是相同的还是不同的？？我再次注意到

```
String s="ABCD";
String z="ABCD";
boolean b=s.equals(z); 
```

结果为真，但

```
String s=new String("ABCD");
String z=new String("ABCD");
boolean b=s.equals(z); 
```

结果为假。谁能解释一下为什么会这样？？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-09-22T06:16:45.543

你所有的例子都必须有结果`true`，即使[是第二个](http://ideone.com/WVkWt)

为什么？该类`String`有一个重写的`equals`方法来检查两个字符串是否相同 - 以逐个字符为基础。另一方面，运算符 == 检查两个字符串引用是否指向同一个对象。

因此，例如：

```
String a = new String("asd"); //new object, will add to pool though
String b = new String("asd"); //new object
String c = "asd"; //will use the pool
boolean b1 = (a == b); //false, different objects (same contents though)
boolean b2 = (a.equals(b)); //true, same contents
boolean b3 = (a == c); //false, different objects
boolean b3 = (a.equals(c)); //true, same contents 
```

还有一点需要注意的是 Java 池化字符串。如果您在代码中的某处使用字符串文字，JVM 将汇集该值，当您再次使用它时，在代码中的其他地方，JVM 将检测到它并指向您对它的引用。字符串是不可变的，所以这是非常安全的。

我要强调的最后一件事是构造`String b = new String("asd");`。在这种情况下，将创建一个新的 String 对象（因为 operator `new`）。即使“asd”已经存在于字符串池中，字符串`b`也会指向一个单独的内存位置，并带有一个新对象。

如果池中不存在“asd”，那么不仅会`b`指向非池化区域，还会将“asd”添加到池中，以防万一（以备将来参考）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-22T06:48:31.043

建议大家阅读和分析String.class的源码，尤其是equals和intern方法，另外还要研究一下java的内存结构。

# 字符串#等于

```
/**
 * Compares this string to the specified object.  The result is {@code
 * true} if and only if the argument is not {@code null} and is a {@code
 * String} object that represents the same sequence of characters as this
 * object.
 *
 * @param  anObject
 *         The object to compare this {@code String} against
 *
 * @return  {@code true} if the given object represents a {@code String}
 *          equivalent to this string, {@code false} otherwise
 *
 * @see  #compareTo(String)
 * @see  #equalsIgnoreCase(String)
 */
public boolean equals(Object anObject) {
if (this == anObject) {
    return true;
}
if (anObject instanceof String) {
    String anotherString = (String)anObject;
    int n = count;
    if (n == anotherString.count) {
    char v1[] = value;
    char v2[] = anotherString.value;
    int i = offset;
    int j = anotherString.offset;
    while (n-- != 0) {
        if (v1[i++] != v2[j++])
        return false;
    }
    return true;
    }
}
return false;
} 
```

# 字符串#intern

```
/**
 * Returns a canonical representation for the string object.
 * <p>
 * A pool of strings, initially empty, is maintained privately by the
 * class <code>String</code>.
 * <p>
 * When the intern method is invoked, if the pool already contains a
 * string equal to this <code>String</code> object as determined by
 * the {@link #equals(Object)} method, then the string from the pool is
 * returned. Otherwise, this <code>String</code> object is added to the
 * pool and a reference to this <code>String</code> object is returned.
 * <p>
 * It follows that for any two strings <code>s</code> and <code>t</code>,
 * <code>s.intern()&nbsp;==&nbsp;t.intern()</code> is <code>true</code>
 * if and only if <code>s.equals(t)</code> is <code>true</code>.
 * <p>
 * All literal strings and string-valued constant expressions are
 * interned. String literals are defined in &sect;3.10.5 of the
 * <a href="http://java.sun.com/docs/books/jls/html/">Java Language
 * Specification</a>
 *
 * @return  a string that has the same contents as this string, but is
 *          guaranteed to be from a pool of unique strings.
 */
public native String intern(); 
```

# 内存结构

[http://www.yourkit.com/docs/kb/sizes.jsp](http://www.yourkit.com/docs/kb/sizes.jsp)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-22T06:25:12.680

对不起，但我认为。

```
String s=new String("ABCD");
String z=new String("ABCD");
boolean b=s.equals(z); 
```

它应该是返回真请再次检查..!!

您的问题在不同方面是正确的（使用 == 运算符）有两种方法可以在 Java 中创建 String 对象：

*   使用 new 运算符。例如，

    `String str = new String("Hello");`

*   使用字符串文字或常量表达式）。例如，

    `String str="Hello"; (string literal) or`
    `String str="Hel" + "lo"; (string constant expression).`

**字符串字面**
量字符串分配，就像所有的对象分配一样，在时间和内存上都被证明是昂贵的。JVM 在实例化字符串文字时会执行一些技巧以提高性能并减少内存开销。为了减少在 JVM 中创建的 String 对象的数量，String 类保留了一个字符串池。每次您的代码创建字符串文字时，JVM 首先检查字符串文字池。如果该字符串已存在于池中，则返回对池实例的引用。如果池中不存在字符串，则实例化一个新的 String 对象，然后将其放入池中。Java 可以进行这种优化，因为字符串是不可变的，并且可以共享而不必担心数据损坏。

所以从你的问题

```
String s="ABCD";
String z="ABCD";
boolean b=s==z; 
```

我应该返回`true`，因为两个对象具有相同的引用。

但万一

```
String s=new String("ABCD");
String z=new String("ABCD");
boolean b = s==z; 
```

它将返回`false`，因为两个对象不同

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-09-22T06:12:08.767

当我们调用以下语句时

```
String s="ABCD";
String z="ABCD"; 
```

然后它将在字符串池中检查，如果池中已经存在，则将地址引用到变量。
但是当我们调用`new`关键字然后明确表示要创建新内存时。

* * *

## 回答 #5

> 赞同：-3
> 
> 时间：2012-09-22T06:14:10.037

我对此不确定，但我在第二个例子中猜测

```
String s=new String("ABCD");
String z=new String("ABCD"); 
```

它像对象一样声明，因此当您尝试检查相等性时，肯定会给您`false`（对象不能等于对象）

* * *

## 回答 #6

> 赞同：-4
> 
> 时间：2012-09-22T06:08:10.030

```
String s="ABCD";
String z="ABCD"; 
```

引用内存池中的相同字符串。然而

```
String s=new String("ABCD");
String z=new String("ABCD"); 
```

为字符串生成单独的内存空间。所以输出是这样的。这也回答了你的第一个问题。

# python - 使用 Python 连接到远程机器时出现套接字错误

> ID：12541173
> 
> 赞同：2
> 
> 时间：2012-09-22T06:01:46.990
> 
> 标签：python, unix, ssh, paramiko

我正在使用 Python 的 paramiko 包连接到远程 Unix 机器。我写了这段代码：

```
import paramiko
import sys
import os
import os.path
passwd = "XXX"
ssh = paramiko.SSHClient()
ssh.set_missing_host_key_policy(paramiko.AutoAddPolicy())
ssh.connect("173.15.13.28", "root", password=passwd)
stdin, stdout, stderr = ssh.exec_command('ls')
x = stdout.readlines()
print x
for line in x:
   print line
ssh.close() 
```

执行后我收到此错误：

```
 Traceback (most recent call last):
    File "<pyshell#9>", line 1, in <module>
      ssh.connect("173.15.13.28", "root", password="--------")
    File "C:\Python27\lib\site-packages\paramiko\client.py", line 282, in connect
      for (family, socktype, proto, canonname, sockaddr) in socket.getaddrinfo(hostname, port,socket.AF_UNSPEC, socket.SOCK_STREAM):
    gaierror: [Errno 10109] getaddrinfo failed 
```

我不知道问题是什么。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-22T06:13:25.007

[connect()](http://paramiko-docs.readthedocs.org/en/latest/api/client.html#paramiko.client.SSHClient.connect)方法的第二个参数是端口号，默认为 22。您将“root”放在那里，这是行不通的。使用关键字参数`username="root"`。也就是说，试试这个：

```
ssh.connect("173.15.13.28", username="root", password=passwd) 
```

另请参阅：[python paramiko，尝试建立 SSH 连接时出现 getaddrinfo 错误](https://stackoverflow.com/questions/5301378/python-paramiko-getaddrinfo-error-when-trying-to-establish-an-ssh-connection)

# r - 使用 strptime 会导致数据集中的重复日期

> ID：12541174
> 
> 赞同：0
> 
> 时间：2012-09-22T06:01:52.013
> 
> 标签：r, strptime

第一关，抱歉这里没有任何可重现的数据，但我不知道如何重现这个问题。但我会尽我最大的努力列出我所做的事情的逐步清单以及任何相关信息。任何有关故障排除的想法将不胜感激。

我的问题是这样的：

我有一个大型时间序列数据集，我将其读入 R。我最终转换为 zoo，但现在我将其保留为数据框。使用`read.csv`我将数据读入 R。使用`str`查看我得到的数据：

```
> str(Met)
'data.frame':   568354 obs. of  18 variables:
 $ time_local                          : Factor w/ 568354 levels "2006-08-06 03:15:00",..: 1 2 3     4 5 6 7 8 9 10 ... 
```

注意- Met$time_local 是我关心的，我已经删除了 str 读数的所有其他列。

如果我使用搜索重复项

```
Dup<-Met$time_local[duplicated(Met$time_local)] 
```

我什么都得不到

```
str(Dup)
Factor w/ 568354 levels "2006-08-06 03:15:00",..: 
```

如果我使用 strptime 将日期/时间数据转换为 POSIXlt 或 POSIXct 对象

```
MetStrp<-strptime(Met$time_local, "%Y-%m-%d %H:%M:%S")
str(MetStrp)
POSIXlt[1:568354], format: "2006-08-06 03:15:00" "2006-08-06 03:20:00" "2006-08-06 03:25:00" ... 
```

然后搜索重复项

```
Dup<-MetStrp[duplicated(MetStrp)]
> head(Dup)
[1] "2007-03-11 02:00:00" "2007-03-11 02:05:00" "2007-03-11 02:10:00"
[4] "2007-03-11 02:15:00" "2007-03-11 02:20:00" "2007-03-11 02:25:00"
> str(Dup)
 POSIXlt[1:60], format: "2007-03-11 02:00:00" "2007-03-11 02:05:00" "2007-03-11 02:10:00" ... 
```

我现在有 60 个重复项（稍后在我创建动物园对象时会抛出一些东西）。

有趣的是，如果我将 POSIXlt 格式更改为 POSIXct

```
ct<-as.POSIXct(MetStrp)
str(ct)
POSIXct[1:568354], format: "2006-08-06 03:15:00" "2006-08-06 03:20:00" "2006-08-06 03:25:00" ... 
```

我得到相同的重复，但偏移了一个小时

```
Dup<-ct[duplicated(ct)]
> head(Dup)
[1] "2007-03-11 01:00:00 PST" "2007-03-11 01:05:00 PST" "2007-03-11 01:10:00 PST"
[4] "2007-03-11 01:15:00 PST" "2007-03-11 01:20:00 PST" "2007-03-11 01:25:00 PST"
> str(Dup)
 POSIXct[1:60], format: "2007-03-11 01:00:00" "2007-03-11 01:05:00" "2007-03-11 01:10:00" ... 
```

如果我选择使用查找重复位置

```
Dup_loc<-which(duplicated(MetStrp) | duplicated(MetStrp,fromLast=TRUE)) 
```

我得到 120 个重复的位置。最终成为 POSIXlt 和 POSIXct 重复项的组合。

```
str(Dup_loc)
int [1:120] 62470 62471 62472 62473 62474 62475 62476 62477 62478 62479 ... 
```

POSIXct 日期始终为 1-2 小时，POSIClt 日期始终为 2-3 小时

要查看重复项：

```
Test<-MetStrp[Dup_loc]

>Test
[1] "2007-03-11 01:00:00" "2007-03-11 01:05:00" "2007-03-11 01:10:00"
[4] "2007-03-11 01:15:00" "2007-03-11 01:20:00" "2007-03-11 01:25:00"
[7] "2007-03-11 01:30:00" "2007-03-11 01:35:00" "2007-03-11 01:40:00"
[10] "2007-03-11 01:45:00" "2007-03-11 01:50:00" "2007-03-11 01:55:00"
[13] "2007-03-11 02:00:00" "2007-03-11 02:05:00" "2007-03-11 02:10:00"
[16] "2007-03-11 02:15:00" "2007-03-11 02:20:00" "2007-03-11 02:25:00"
[19] "2007-03-11 02:30:00" "2007-03-11 02:35:00" "2007-03-11 02:40:00"
[22] "2007-03-11 02:45:00" "2007-03-11 02:50:00" "2007-03-11 02:55:00"
[25] "2008-03-09 01:00:00" "2008-03-09 01:05:00" "2008-03-09 01:10:00"
[28] "2008-03-09 01:15:00" "2008-03-09 01:20:00" "2008-03-09 01:25:00"
[31] "2008-03-09 01:30:00" "2008-03-09 01:35:00" "2008-03-09 01:40:00"
[34] "2008-03-09 01:45:00" "2008-03-09 01:50:00" "2008-03-09 01:55:00"
[37] "2008-03-09 02:00:00" "2008-03-09 02:05:00" "2008-03-09 02:10:00"
[40] "2008-03-09 02:15:00" "2008-03-09 02:20:00" "2008-03-09 02:25:00"
[43] "2008-03-09 02:30:00" "2008-03-09 02:35:00" "2008-03-09 02:40:00"
[46] "2008-03-09 02:45:00" "2008-03-09 02:50:00" "2008-03-09 02:55:00"
[49] "2009-03-08 01:00:00" "2009-03-08 01:05:00" "2009-03-08 01:10:00"
[52] "2009-03-08 01:15:00" "2009-03-08 01:20:00" "2009-03-08 01:25:00"
[55] "2009-03-08 01:30:00" "2009-03-08 01:35:00" "2009-03-08 01:40:00"
[58] "2009-03-08 01:45:00" "2009-03-08 01:50:00" "2009-03-08 01:55:00"
[61] "2009-03-08 02:00:00" "2009-03-08 02:05:00" "2009-03-08 02:10:00"
[64] "2009-03-08 02:15:00" "2009-03-08 02:20:00" "2009-03-08 02:25:00"
[67] "2009-03-08 02:30:00" "2009-03-08 02:35:00" "2009-03-08 02:40:00"
[70] "2009-03-08 02:45:00" "2009-03-08 02:50:00" "2009-03-08 02:55:00"
[73] "2010-03-14 01:00:00" "2010-03-14 01:05:00" "2010-03-14 01:10:00"
[76] "2010-03-14 01:15:00" "2010-03-14 01:20:00" "2010-03-14 01:25:00"
[79] "2010-03-14 01:30:00" "2010-03-14 01:35:00" "2010-03-14 01:40:00"
[82] "2010-03-14 01:45:00" "2010-03-14 01:50:00" "2010-03-14 01:55:00"
[85] "2010-03-14 02:00:00" "2010-03-14 02:05:00" "2010-03-14 02:10:00"
[88] "2010-03-14 02:15:00" "2010-03-14 02:20:00" "2010-03-14 02:25:00"
[91] "2010-03-14 02:30:00" "2010-03-14 02:35:00" "2010-03-14 02:40:00"
[94] "2010-03-14 02:45:00" "2010-03-14 02:50:00" "2010-03-14 02:55:00"
[97] "2011-03-13 01:00:00" "2011-03-13 01:05:00" "2011-03-13 01:10:00"
[100] "2011-03-13 01:15:00" "2011-03-13 01:20:00" "2011-03-13 01:25:00"
[103] "2011-03-13 01:30:00" "2011-03-13 01:35:00" "2011-03-13 01:40:00"
[106] "2011-03-13 01:45:00" "2011-03-13 01:50:00" "2011-03-13 01:55:00"
[109] "2011-03-13 02:00:00" "2011-03-13 02:05:00" "2011-03-13 02:10:00"
[112] "2011-03-13 02:15:00" "2011-03-13 02:20:00" "2011-03-13 02:25:00"
[115] "2011-03-13 02:30:00" "2011-03-13 02:35:00" "2011-03-13 02:40:00"
[118] "2011-03-13 02:45:00" "2011-03-13 02:50:00" "2011-03-13 02:55:00" 
```

据我所知，我没有在上面看到任何重复的时间戳。所以我不确定是怎么回事，但有些不对劲。

据我所知，我所做的只是将因子数据集转换为基于时间的数据集。所以我不知道为什么我在动物园里得到一个重复的错误，并`duplicated`在没有出现重复的时候找到重复的错误。

再次，对此事的任何想法将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-22T06:14:27.400

我要给你三个字：“夏令时”。我根据提供的证据预测，在您所在的地区，2007 年 3 月 11 日是夏令时转换发生的日期。请注意，它们发生在凌晨 1-2 点的时间范围内。

# javascript - 如何将值传递给javascript（googleMap）中的函数

> ID：12541179
> 
> 赞同：1
> 
> 时间：2012-09-22T06:02:46.807
> 
> 标签：javascript, google-maps, google-maps-api-3

到目前为止，我正在关注[https://developers.google.com/maps/documentation/javascript/directions](https://developers.google.com/maps/documentation/javascript/directions)地图计算特定点之间的距离，但我需要它接收不同的值并根据这些值计算距离，我可以使用选择标签按如下方式执行，但我需要自动完成，因此当用户打开页面时，应将值发送到函数以计算距离。（我试图将值传递给 calcRoute 函数，但它不起作用）

另一个问题是我如何将列表（用于航点部分）传递给函数？

```
 function calcRoute() {
            var travel = document.getElementById("mode").value;   << currently it is done manually
            var origin = document.getElementById("origin").value; << manually
    var request = {
      origin: origin,
      destination: '238 Elizabeth St,Los Angeles, CA',
      waypoints:[{location: "George Street,Los Angeles,CA"}],
      travelMode: travel
    };
    directionsService.route(request, function(response, status) {
      if (status == google.maps.DirectionsStatus.OK) {
        directionsDisplay.setDirections(response);
      }
    });
  } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-22T07:01:21.093

尝试如下更改 calcRoute 函数定义。

```
function calcRoute(){
  var travel = document.getElementById("mode").value; 
  var origin = document.getElementById("origin").value; 
```

至

```
function calcRoute(x,y){
  if(x && y){
    // your code to process your parameter values
    var travel = x
    var origin = y
  }else{
    // your code to process, if no parameters given (for default functionality)
    var travel = document.getElementById("mode").value;   << currently
    var origin = document.getElementById("origin").value; << manually
  } 
```

当你想传递不同的值时，尝试调用带有参数的 calcRoute 函数

希望能帮助到你 ：）

# java - 以编程方式确定 IP 地址是通过 dhcp 分配还是在 Java 中手动设置

> ID：12541186
> 
> 赞同：8
> 
> 时间：2012-09-22T06:04:26.920
> 
> 标签：java, network-programming

有什么方法可以发现本地网络接口的地址是通过 DHCP 分配的，还是通过 Java 静态设置的？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-04T17:35:08.023

因此，正如您只要求 Win NT 的“解决方案”，这是我的代码。它列出了具有当前配置值的网络接口。

注意EnableDHCP 注册表键值，我想这就是重点。

正如我在您的问题下的评论中已经提到的那样，您需要最简单的 JNI 包装器。

希望这可以帮助。

更多信息在这里：http: [//support.microsoft.com/kb/314053](http://support.microsoft.com/kb/314053)

```
#include <windows.h>

#define NETCARD_ROOT    L"SOFTWARE\\Microsoft\\Windows NT\\CurrentVersion\\NetworkCards"
#define TCPIP_ROOT  L"SYSTEM\\CurrentControlSet\\services\\Tcpip\\Parameters\\Interfaces"

int _tmain(int argc, _TCHAR* argv[])
{

    //First enumerate all network adapters

    HKEY hNetCardsKey;
    LSTATUS lStatus = ERROR_SUCCESS;

    lStatus = RegOpenKey(HKEY_LOCAL_MACHINE, 
        NETCARD_ROOT, 
        &hNetCardsKey);

    if(ERROR_SUCCESS == lStatus)
    {
        DWORD dwCards = 0L;
        DWORD dwMaxSubkeyNameLen = 0L;
        lStatus = RegQueryInfoKey(hNetCardsKey, NULL, NULL, NULL, &dwCards, 
            &dwMaxSubkeyNameLen, NULL, NULL, NULL, NULL, NULL, NULL);

        if(ERROR_SUCCESS == lStatus && dwCards)
        {
            for(DWORD i = 0; i < dwCards; i++)
            {
                TCHAR wszCurrentCardIdxName[MAX_PATH];
                wszCurrentCardIdxName[0] = '\0';
                lStatus = RegEnumKey(hNetCardsKey, i, 
                    wszCurrentCardIdxName, MAX_PATH);

                if(ERROR_SUCCESS == lStatus)
                {
                    TCHAR wszAdapterKeyName[MAX_PATH];
                    wszAdapterKeyName[0] = '\0';

                    wsprintf(wszAdapterKeyName, L"%s\\%s", NETCARD_ROOT, 
                        wszCurrentCardIdxName);

                    HKEY hCardNameKey;

                    lStatus = RegOpenKey(
                        HKEY_LOCAL_MACHINE, 
                        wszAdapterKeyName, 
                        &hCardNameKey);

                    if(ERROR_SUCCESS == lStatus)
                    {
                        TCHAR wszServiceNameGuid[MAX_PATH];
                        TCHAR wszAdapterName[MAX_PATH];

                        DWORD dwSize = sizeof(wszServiceNameGuid);
                        wszServiceNameGuid[0] = '\0';
                        RegQueryValueEx(
                            hCardNameKey, 
                            L"ServiceName",
                            NULL, 
                            NULL,
                            (LPBYTE)wszServiceNameGuid,
                            &dwSize);

                        dwSize = sizeof(wszAdapterName);
                        RegQueryValueEx(
                            hCardNameKey, 
                            L"Description",
                            NULL, 
                            NULL,
                            (LPBYTE)wszAdapterName,
                            &dwSize);

                        OutputDebugStringW(wszServiceNameGuid);
                        OutputDebugStringW(L"\n");

                        RegCloseKey(hCardNameKey);

                        //Get parameters
                        TCHAR wszCardParamKey[MAX_PATH];
                        wszCardParamKey[0] = '\0';
                        wsprintf(wszCardParamKey,L"%s\\%s", TCPIP_ROOT, wszServiceNameGuid);

                        HKEY hParamKey = NULL;

                        lStatus = RegOpenKey(
                            HKEY_LOCAL_MACHINE, 
                            wszCardParamKey, 
                            &hParamKey);

                        if(ERROR_SUCCESS == lStatus)
                        {
                            DWORD dwEnabledDHCP = 0L;
                            DWORD dwDWSize = sizeof(DWORD);
                            TCHAR wszStaticIP[32];
                            TCHAR wszDHCPIP[32];
                            DWORD dwIPSize = sizeof(wszDHCPIP);

                            ZeroMemory(wszDHCPIP, dwIPSize);
                            ZeroMemory(wszStaticIP, dwIPSize);

                            lStatus = RegQueryValueEx(
                                hParamKey, 
                                L"EnableDHCP", 
                                NULL, NULL, 
                                (LPBYTE)&dwEnabledDHCP, 
                                &dwDWSize);

                            if(SUCCEEDED(lStatus))
                            {
                                wprintf_s(L"Adapter : %s [%s] \n\tDHCP : %s\n", 
                                    wszServiceNameGuid, 
                                    wszAdapterName,
                                    dwEnabledDHCP 
                                    ? L"Yes" : L"No");
                            }

                            lStatus = RegQueryValueEx(
                                hParamKey, 
                                L"IPAddress", 
                                NULL, 
                                NULL, 
                                (LPBYTE)&wszStaticIP, 
                                &dwIPSize);

                            if(SUCCEEDED(lStatus))
                            {
                                wprintf_s(L"\tConfigured IP Address : %s\n", wszStaticIP);
                            }

                            dwIPSize = sizeof(wszDHCPIP);
                            lStatus = RegQueryValueEx(
                                hParamKey, 
                                L"DhcpIPAddress", 
                                NULL, 
                                NULL, 
                                (LPBYTE)&wszDHCPIP, 
                                &dwIPSize);

                            if(SUCCEEDED(lStatus))
                            {
                                wprintf_s(L"\tDHCP IP Address : %s\n", wszDHCPIP);
                            }

                            wprintf_s(L"\n");

                            RegCloseKey(hParamKey);
                        }

                    }
                }
            }
        }

        RegCloseKey(hNetCardsKey);
    }

    return 0;
} 
```

**简单输出：**

```
Adapter : {6EC2554F-3359-43A2-AADB-57F427DC72FC} [Marvell Yukon 88E8072 PCI-E Gigabit Ethernet Controller]
        DHCP : No
        Configured IP Address : 192.168.5.10
        DHCP IP Address : 192.168.1.102

Adapter : {2A28BDA8-ED1D-4E6E-8990-485EE1836828} [Sony Ericsson Device 0016 USB Ethernet Emulation (NDIS 5)]
        DHCP : Yes
        Configured IP Address :
        DHCP IP Address : 0.0.0.0

Adapter : {491DC095-155F-4572-B975-2E1703C17632} [Microsoft Windows Mobile Remote Adapter]
        DHCP : Yes
        Configured IP Address :
        DHCP IP Address : 169.254.2.2

Adapter : {5F987E64-E804-42DA-9453-8E479B6FC835} [Broadcom 802.11b/g Network adapter]
        DHCP : Yes
        Configured IP Address :
        DHCP IP Address : 192.168.1.14 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T14:13:53.413

对不起，不，我不这么认为。
你不能通过 JAVA 来做到这一点，因为 java 与操作系统网络的接口只是 JVM。
可以总结一个 jni 来完成这项任务。

# facebook - 获得查看 Facebook 中所有用户信息的权限

> ID：12541196
> 
> 赞同：0
> 
> 时间：2012-09-22T06:05:50.343
> 
> 标签：facebook, facebook-graph-api

当我使用 Facebook 中的搜索框并尝试查找用户时，它会在我输入时显示所有匹配用户的列表，以及有关他们的其他信息，例如他们居住的城市，以及我何时输入他们的墙/时间线，我可以看到更多信息。但是，当我使用 Facebook Graph API 搜索用户时，我只能获得基本信息，并且必须对结果中的每个用户都有权限才能获得更多信息。这是为什么？有没有一种方法可以在没有每个用户权限的情况下查看所有用户的更多信息？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-22T12:57:14.710

> […] 当我进入他们的墙/时间线时，我可以看到更多信息。

不过，只有当他们的个人资料对公众可见时。否则，如果您不是他们的朋友，您将不会在用户的个人资料上看到太多内容。

> 但是，当我使用 Facebook Graph API 搜索用户时，我只能获得基本信息，并且必须对结果中的每个用户都有权限才能获得更多信息。
> 
> 这是为什么？

因为，作为一个普通用户，你在 Facebook 上浏览几个搜索结果自然与为应用程序提供访问从 ID 1 到 99999999999 的每个 Facebook 用户的所有信息的能力完全不同，然后构建一些巨大的数据挖掘关于它的事情......我认为这应该很明显。

# java - 在按键上显示图像并让它保持在屏幕上直到线程停止

> ID：12541198
> 
> 赞同：1
> 
> 时间：2012-09-22T06:06:26.430
> 
> 标签：java, image, background, while-loop, key

我想做一个八字和十字架游戏，所以你用鼠标选择一个框，然后在键盘上用 X 或 O 输入答案。我已经让框选择工作但似乎无法让 x 和 o 工作。我的代码可能不是最好的，因为这是我制作的第一款游戏。

这是我的主要课程：

```
package com;

import javax.swing.*;

import java.awt.event.*;
import java.awt.*;

public class Board extends JPanel implements ActionListener, MouseListener,
        KeyListener {

    public int box = 1;
    public int x, y;
    public int cx1, cy1, cx2, cy2, cx3, cy3, cx4, cy4, cx5, cy5;

    public boolean player1 = true;
    public boolean player2 = false;
    public boolean box1 = false;
    public boolean box2 = false;
    public boolean box3 = false;
    public boolean box4 = false;
    public boolean box5 = false;
    public boolean box6 = false;
    public boolean box7 = false;
    public boolean box8 = false;
    public boolean box9 = false;
    public boolean xpress = false;
    public boolean cross1 = false;
    public boolean cross2 = false;
    public boolean cross3 = false;
    public boolean cross4 = false;
    public boolean cross5 = false;

    public Thread t;
    Timer time;

    JButton cross, naught;

    Image Board, Select, Cross, Cross2, Cross3, Cross4, Cross5, Naught;

    Board() {
        super();
        x = 0;
        y = 60;

        t = new Thread();
        time = new Timer(5, this);
        time.start();
        t.start();
        setFocusable(true);

        addMouseListener(this);
        addKeyListener(this);

        ImageIcon i = new ImageIcon(getClass().getResource(
                "/images/Board_N+C.png"));
        Board = i.getImage();
        ImageIcon i1 = new ImageIcon(getClass().getResource(
                "/images/Select_N+C.png"));
        Select = i1.getImage();
        ImageIcon i2 = new ImageIcon(getClass().getResource(
                "/images/Cross_N+C.png"));
        Cross = i2.getImage();
        Cross2 = i2.getImage();
        Cross3 = i2.getImage();
        Cross4 = i2.getImage();
        Cross5 = i2.getImage();

        ImageIcon i3 = new ImageIcon(getClass().getResource(
                "/images/Naught_N+C.png"));
        Naught = i3.getImage();

    }

    public void paint(Graphics g) {
        super.paint(g);
        Graphics2D g2d = (Graphics2D) g;

        g2d.drawImage(Board, 0, 60, null);
        if (cross1) {

        }

        if (x < 170 && y < 230 && !xpress) {
            g2d.drawImage(Select, 0, 60, null);

            repaint();
        } else if (x < 340 && x > 170 && y < 230 && !xpress) {
            g2d.drawImage(Select, 170, 60, null);
            repaint();

        } else if (x < 510 && x > 340 && y < 230 && !xpress) {
            g2d.drawImage(Select, 340, 60, null);
            repaint();

        } else if (x < 170 && y < 400 && y > 230 && !xpress) {
            g2d.drawImage(Select, 0, 230, null);
            repaint();

        } else if (x < 340 && x > 170 && y < 400 && y > 230 && !xpress) {
            g2d.drawImage(Select, 170, 230, null);
            repaint();

        } else if (x < 510 && x > 340 && y < 400 && y > 230 && !xpress) {
            g2d.drawImage(Select, 340, 230, null);
            repaint();

        } else if (x < 170 && y < 570 && y > 400 && !xpress) {
            g2d.drawImage(Select, 0, 400, null);
            repaint();

        } else if (x < 340 && x > 170 && y < 570 && y > 400 && !xpress) {
            g2d.drawImage(Select, 170, 400, null);
            repaint();

        } else if (x < 510 && x > 340 && y < 570 && y > 400 && !xpress) {
            g2d.drawImage(Select, 340, 400, null);
            repaint();
        }
        if (xpress && !player2) {
            if (x < 170 && y < 230) {
                cross1 = true;
                while (cross1) {
                    g2d.drawImage(Cross, 0, 60, null);
                    System.out.println("Cross");

                }repaint();
                xpress = false;
            } else if (x < 340 && x > 170 && y < 230) {
                repaint();

            } else if (x < 510 && x > 340 && y < 230) {
                repaint();

            } else if (x < 170 && y < 400 && y > 230) {
                repaint();

            } else if (x < 340 && x > 170 && y < 400 && y > 230) {
                repaint();

            } else if (x < 510 && x > 340 && y < 400 && y > 230) {
                repaint();

            } else if (x < 170 && y < 570 && y > 400) {
                repaint();

            } else if (x < 340 && x > 170 && y < 570 && y > 400) {
                repaint();

            } else if (x < 510 && x > 340 && y < 570 && y > 400) {
                repaint();
            }
        }
    }

    public void mouseClicked(MouseEvent me) {

        x = me.getX();
        y = me.getY();
    }

    @Override
    public void actionPerformed(ActionEvent e) {
    }

    public void mouseEntered(MouseEvent arg0) {
    }

    public void mouseExited(MouseEvent arg0) {
    }

    public void mousePressed(MouseEvent arg0) {
    }

    public void mouseReleased(MouseEvent arg0) {
    }

    public void keyPressed(KeyEvent e) {
        int key = e.getKeyCode();
        if (key == e.VK_X) {
            if (player1) {
                xpress = true;
                player1 = false;
                player2 = true;
            }
        }

    }

    public void keyReleased(KeyEvent e) {

    }

    public void keyTyped(KeyEvent e) {

    }

} 
```

如何在按键时显示图像并将其保留在屏幕上直到线程停止？

希望有人可以提供帮助。如果您需要更多信息，请询问。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-22T10:47:28.320

您显然不知道线程在 Java 中是如何工作的。

```
t = new Thread();
time = new Timer(5, this);
time.start();
t.start(); 
```

首先，创建`Thread`不会做任何事情（然后有一个线程启动并立即死亡，因为它什么都不做）。

其次，您最好有一个非常好的理由每 5 毫秒触发一次计时器。这将限制事件调度线程，最终消耗您的 CPU 并使您的程序停止运行。

花点时间通读一遍

*   [Java中的并发](http://docs.oracle.com/javase/tutorial/essential/concurrency/)
*   [Swing 中的并发性](http://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html)

**例子**

这是一个非常简单的示例，BYO 图像...

```
public class PopShowAndFadeImage {

    /**
     * @param args the command line arguments
     */
    public static void main(String[] args) {

        JFrame test = new JFrame("Test");
        test.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        test.setSize(700, 1000);
        test.setLocationRelativeTo(null);
        test.setLayout(new BorderLayout());
        test.add(new ImagePane());
        test.setVisible(true);

    }

    protected static class ImagePane extends JPanel {

        private BufferedImage background;

        private Image image;
        private Timer timeOut;

        public ImagePane() {

            timeOut = new Timer(1000, new ActionListener() {

                @Override
                public void actionPerformed(ActionEvent e) {

                    image = null;
                    repaint();

                }
            });
            timeOut.setRepeats(false);
            timeOut.setCoalesce(true);

            setFocusable(true);

            InputMap im = getInputMap(WHEN_FOCUSED);
            ActionMap am = getActionMap();

            im.put(KeyStroke.getKeyStroke(KeyEvent.VK_SPACE, 0), "HitMe");
            am.put("HitMe", new AbstractAction() {

                @Override
                public void actionPerformed(ActionEvent e) {

                    if (background == null) {
                        try {
                            background = ImageIO.read(getClass().getResource("/MT011.gif"));
                        } catch (IOException exp) {
                            exp.printStackTrace();;
                        }
                    }

                    image = background;

                    repaint();

                    timeOut.restart();

                }
            });

        }

        @Override
        protected void paintComponent(Graphics g) {

            super.paintComponent(g);

            if (image != null) {

                int width = getWidth() - 1;
                int height = getHeight() - 1;

                Graphics2D g2d = (Graphics2D) g;
                int x = (width - image.getWidth(this)) / 2;
                int y = (height - image.getHeight(this)) / 2;

                g2d.drawImage(image, x, y, this);

            }

        }

    }

} 
```

**更新**

只是对您面临的一些问题的快速概述。

您承认自己是 Java/编程新手，但您已经开始涉足自定义图形和动画。自定义图形已经够难了，动画更是一个数量级。

这是您需要的一些背景元素。

*   很好地理解基本的编程原则（if、循环等）——这是基本的东西
*   对面向对象编程有很好的理解。这对大多数人来说都不是微不足道的
*   对 Swing API 有很好的理解，尤其是绘画的工作原理
*   对 Graphics/Graphics2D API 有很好的理解。这绝非易事
*   很好地理解线程以及它们与 Swing API 的关系。这绝非易事
*   至少对动画原理有基本的了解。

从你所说的看，你似乎在掌握爬行之前就试图飞翔。我并不是说你做不到，但你的理解和知识存在很大差距，这将使你难以实现目标。

说到动画，我使用[Timing Framework](http://java.net/projects/timingframework/pages/Home)，但你也可以看看[Trident](http://kenai.com/projects/trident/pages/Home)

我将尝试将一些示例放在一起，但是我之前发布的示例将完全按照您的标题要求进行

# jsf - 注销后，浏览器历史记录中所有受限页面仍然可用，如何防止？

> ID：12541200
> 
> 赞同：1
> 
> 时间：2012-09-22T06:06:35.780
> 
> 标签：jsf, jsf-2, logout, browser-history

这是我的注销方法：

```
public String logout() throws IOException, ServletException 
{
    FacesContext context = FacesContext.getCurrentInstance();
    ExternalContext ec = context.getExternalContext();
    HttpSession session = (HttpSession) ec.getSession(false);
    HttpServletResponse response = (HttpServletResponse) ec.getResponse();
    final HttpServletRequest request = (HttpServletRequest)ec.getRequest();
    session.invalidate();
    Cookie[] cookies = request.getCookies();  
    Cookie opentoken = null;  
    for(Cookie c : cookies){  
        if (c.getName().equals("opentoken")){ 
            if (session != null){  
            opentoken = c;  
            opentoken.setMaxAge(0);  
            opentoken.setValue("");  
            response.addCookie(opentoken);
            response.sendRedirect(request.getContextPath()); 
            response.setHeader("Pragma", "no-cache"); 
            response.setHeader("Cache-Control", "no-cache"); 
            response.setHeader("Cache-Control", "no-store"); 
            response.setHeader("Cache-Control", "must-revalidate"); 
            response.setHeader("Expires", "Mon, 8 Aug 2006 10:00:00 GMT");//past date 
            }
            break;  
        }
    }
    context.getExternalContext().getSessionMap().remove("#{LogoutBean}");
    return "login.xhtml?faces-redirect=false";
} 
```

调用此方法后，浏览器历史记录中的导航仍然有效。我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-22T09:37:39.287

当您设置响应标头时，它仅适用于*当前*响应，而不适用于所有先前的响应（受限页面）或未来的响应（redirect(!) 及之后的响应）。您实际上想要关闭对受限请求的*所有*响应的浏览器缓存。事实上，正如您在评论中猜到的那样，您应该为此使用[servlet 过滤器](https://stackoverflow.com/tags/servlet-filters/info)。

另一个问题是，当您调用 时`response.setHeader()`，您基本上会*覆盖*任何先前设置的标头。您不想这样做，如果并且不存在，`must-revalidate`则完全没有效果。您需要将逗号分隔的值设置为单个标题，或使用.`no-cache``no-store``response.addHeader()`

总而言之，你的 webapp 中应该有一个这样的类：

```
@WebFilter("/app/*")
public class NoCacheFilter implements Filter {

    @Override
    public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException {
        HttpServletResponse response = (HttpServletResponse) res;
        response.setHeader("Cache-Control", "no-cache, no-store, must-revalidate"); // HTTP 1.1.
        response.setHeader("Pragma", "no-cache"); // HTTP 1.0.
        response.setDateHeader("Expires", 0); // Proxies.
        chain.doFilter(req, res);
    }

    // ... (just implement init() and destroy() with empty bodies).
} 
```

此示例假定所有受限页面都在`/app/*`URL 模式后面可用。如果您的不同，例如`/secured/*`, `/user/*`,`/admin/*`等，那么您需要`@WebFilter`相应地更改 URL 模式。

完成后，您`logout()`可以简化如下：

```
public String logout() {
    ExternalContext ec = FacesContext.getCurrentInstance().getExternalContext();
    ec.invalidateSession();

    if (ec.getRequestCookieMap().get("opentoken") != null) {
        ec.addResponseCookie("opentoken", null, Collections.<String, Object>singletonMap("maxAge", 0));
    }

    return "login.xhtml?faces-redirect=true";
} 
```

# jquery - 如何在下拉列表上应用 onblur 事件？

> ID：12541201
> 
> 赞同：3
> 
> 时间：2012-09-22T06:06:37.550
> 
> 标签：jquery, asp.net, asp.net-mvc-3

当我的焦点从下拉列表中消失时，我想触发一些 javascript 函数。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-22T06:10:35.727

您需要`onblur`使用一些 javascript 在客户端附加事件

```
 $("mydropdown").blur(function(){

    // here goes your code
    } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-22T06:14:15.443

例如应该像这样工作：

[http://jsfiddle.net/3Kfch/2/](http://jsfiddle.net/3Kfch/2/)

通常更好的是触发选择，这可以使用 jQuery librarfy to javascript 来完成。这是一个例子。

[如何从下拉菜单中选择并调用 javascript 函数](https://stackoverflow.com/questions/5323375/how-can-select-from-drop-down-menu-and-call-javascript-function)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-22T06:15:14.657

我建议像

```
 $("body").delegate("#sliderSelect", "change", function(){}) 
```

否则，即使您没有更改选择，事件也会触发焦点。委托还允许更动态的下拉菜单。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-09-22T06:16:26.330

尝试这个：

```
$("#DropDownListID").on("blur", function(){

// Your code

}); 
```

# api - Linkedin：权限请求不起作用

> ID：12541205
> 
> 赞同：0
> 
> 时间：2012-09-22T06:07:24.413
> 
> 标签：api, zend-framework, linkedin

当我尝试从linkedin请求其他权限时，除了基本权限外，我没有在对话框中获得任何权限列表。any1 可以指出我的解决方案。我尝试对权限进行urlencoding，但仍然没有得到任何响应。这是我的代码：我在单击“使用 Linkedin 注册”按钮时调用此函数。

```
public function linkedinaccessAction()
{
    $this->_helper->layout->disableLayout();
    $this->_helper->viewRenderer->setNoRender();

    $scope = 'r_basicprofile+r_emailaddress+r_network+r_contactinfo';

    $options = array(
                            'version' => '1.0',
                            'siteUrl' => 'http://localhost/project/development/',
                            'callbackUrl' => 'http://localhost/project/development/signup/linkedinaccess',
                            'requestTokenUrl' => 'https://api.linkedin.com/uas/oauth/requestToken?scope=' . $scope,
                            'userAuthorizationUrl' => 'https://api.linkedin.com/uas/oauth/authorize',
                            'accessTokenUrl' => 'https://api.linkedin.com/uas/oauth/accessToken',
                            'consumerKey' => 'myconsumerkey',
                            'consumerSecret' => 'myconsumersecret'
                        );

    $consumer = new Zend_Oauth_Consumer( $options );

    if (!isset($_SESSION ['LINKEDIN_ACCESS_TOKEN'])){
        if(! empty ( $_GET )){
            //consumer = new Zend_Oauth_Consumer( $options );
            $accessToken = $consumer->getAccessToken ( $_GET, unserialize ( $_SESSION ['LINKEDIN_REQUEST_TOKEN'] ) ); 
            echo $accessToken;
            $_SESSION ['LINKEDIN_ACCESS_TOKEN'] = serialize ( $accessToken );
        }else{
            $requestToken = $consumer->getRequestToken();
            $_SESSION ['LINKEDIN_REQUEST_TOKEN'] = serialize ( $requestToken );
            $consumer->redirect();
        }
    }else{
        $accessToken = unserialize ( $_SESSION ['LINKEDIN_ACCESS_TOKEN'] ); 

        // Use HTTP Client with built-in OAuth request handling
        $client = $accessToken->getHttpClient($options);

        // Set LinkedIn URI
        $client->setUri('https://api.linkedin.com/v1/people/~');
        // Set Method (GET, POST or PUT)
        $client->setMethod(Zend_Http_Client::GET);
        // Get Request Response
        $response = $client->request();

        // Get the XML containing User's Profile
        $content =  $response->getBody();
        print_r($content);
    }

} 
```

谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-28T05:00:17.197

经过严格的搜索终于从这个[Linkedin帖子中得到了解决方案](https://developer.linkedin.com/comment/17801#comment-17801)

需要在 getRequestToken 调用中请求linkedin 权限：

```
$requestToken = $consumer->getRequestToken(array('scope' =>'r_emailaddress')); 
```

# umbraco - 在 umbraco azure 上使用用户控件时出错

> ID：12541209
> 
> 赞同：1
> 
> 时间：2012-09-22T06:07:48.533
> 
> 标签：umbraco, umbraco-blog

我正在使用的用户控件在我的 umbraco 上运行良好，即安装在本地机器上，但是当我将它上传到 azure 网站上时，用户控件显示如下错误

```
 Error reading usercontrols/MdriveReg.ascx

    The following list shows the Public Properties from the Control. By checking the Properties and click the "Save Properties" button at the bottom, umbraco will create the corresponding Macro Elements.

       System.Web.HttpParseException (0x80004005): Could not load type 'MdriveUmbraco.MdriveReg'. ---> System.Web.HttpParseException (0x80004005): Could not load type 'MdriveUmbraco.MdriveReg'. ---> System.Web.HttpException (0x80004005): Could not load type 'MdriveUmbraco.MdriveReg'. at System.Web.UI.TemplateParser.GetType(String typeName, Boolean ignoreCase, Boolean throwOnError) at System.Web.UI.TemplateParser.ProcessInheritsAttribute(String baseTypeName, String codeFileBaseTypeName, String src, Assembly assembly) at System.Web.UI.TemplateParser.PostProcessMainDirectiveAttributes(IDictionary parseData) at System.Web.UI.TemplateParser.ProcessException(Exception ex) at System.Web.UI.TemplateParser.ParseStringInternal(String text, Encoding fileEncoding) at System.Web.UI.TemplateParser.ParseString(String text, VirtualPath virtualPath, Encoding fileEncoding) at System.Web.UI.TemplateParser.ParseString(String text, VirtualPath virtualPath, Encoding fileEncoding) at System.Web.UI.TemplateParser.ParseFile(String physicalPath, VirtualPath virtualPath) at System.Web.UI.TemplateParser.ParseInternal() at System.Web.UI.TemplateParser.Parse() at System.Web.Compilation.BaseTemplateBuildProvider.get_CodeCompilerType() at System.Web.Compilation.BuildProvider.GetCompilerTypeFromBuildProvider(BuildProvider buildProvider) at System.Web.Compilation.BuildProvidersCompiler.ProcessBuildProviders() at System.Web.Compilation.BuildProvidersCompiler.PerformBuild() at System.Web.Compilation.BuildManager.CompileWebFile(VirtualPath virtualPath) at System.Web.Compilation.BuildManager.GetVPathBuildResultInternal(VirtualPath virtualPath, Boolean noBuild, Boolean allowCrossApp, Boolean allowBuildInPrecompile, Boolean throwIfNotFound, Boolean ensureIsUpToDate) at System.Web.Compilation.BuildManager.GetVPathBuildResultWithNoAssert(HttpContext context, VirtualPath virtualPath, Boolean noBuild, Boolean allowCrossApp, Boolean allowBuildInPrecompile, Boolean throwIfNotFound, Boolean ensureIsUpToDate) at System.Web.Compilation.BuildManager.GetVPathBuildResult(HttpContext context, VirtualPath virtualPath, Boolean noBuild, Boolean allowCrossApp, Boolean allowBuildInPrecompile, Boolean ensureIsUpToDate) at System.Web.UI.TemplateControl.LoadControl(VirtualPath virtualPath) at umbraco.developer.assemblyBrowser.Page_Load(Object sender, EventArgs e) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-24T21:06:41.467

我不是 Azure 专业人士，但它看起来无法加载您的用户控件正在引用的程序集（MdriveUmbraco.dll？）。

该程序集是否存在于网站的 bin 文件夹中？也许它在您本地机器的 GAC 中，因此在那里没有问题？

程序集是否需要签名才能在 Azure 中运行？也许你需要签名？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-26T05:45:15.173

问题是我的 .dll 文件没有正确加载，所以我创建了一个新项目，将其编码为我的要求，然后我构建它并将其放入我在 windows azure 中运行的 umbraco 中，它可以正常工作。

问题出在我的 .dll 文件上

# python - 如何修复此语法错误？我很困惑

> ID：12541213
> 
> 赞同：0
> 
> 时间：2012-09-22T06:08:30.920
> 
> 标签：python, syntax-error

这是我所做的所有编码，但我不断收到此语法错误。将在底部进行更多说明。

```
def main():
    ActualValue()
    AssessedValue()
    printResult()

def ActualValue()
    global actual_value
    actual_value = float(input("Enter actual value:\t"))

def AssessedValue()
    global assessed_value
    global property_tax
    assessed_value = 0.6 * actual_value
    property_tax = assessed_value / 100 * 0.64

def printResult():
    print "n\For a property valued at $", actual_value
    print "The assessed value is $", assessed_value
    print "The property tax is $", property_tax

actual_value = None
assessed_value = None
property_tax = None

main() 
```

那是我的代码：

它一直说我有语法错误：

```
def printResult():
    print "n\For a property valued at $", actual_value
    print "The assessed value is $", assessed_value
    print "The property tax is $", property_tax 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-22T06:12:45.037

你有`\n`向后的转义序列。

此外，您需要确保所有函数定义的行尾都有一个冒号。

另外，`print`是 Python 3 中的一个函数。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-22T06:54:52.173

`print`是 Python 3 中的一个函数：

```
def printResult():
    print("\nFor a property valued at $", actual_value)
    print("The assessed value is $", assessed_value)
    print("The property tax is $", property_tax) 
```

我修好了你的`\n`换行符转义码。

您可能想使用该[`.format()`方法](http://docs.python.org/py3k/library/string.html#formatstrings)来格式化您的输出：

```
def printResult():
    print("\nFor a property valued at ${0}".format(actual_value))
    print("The assessed value is ${0}".format(assessed_value))
    print("The property tax is ${0}".format(property_tax)) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-22T07:25:45.363

只是为了澄清白金蔚蓝所说的。

```
def main():
    actualValue()
    assessedValue()
    printResult()

def actualValue():
    global actual_value
    actual_value = float(input("Enter actual value:\t"))

def assessedValue():
    global assessed_value
    global property_tax
    assessed_value = 0.6 * actual_value
    property_tax = assessed_value / 100 * 0.64

def printResult():
    print "\nFor a property valued at $", actual_value
    print "The assessed value is $", assessed_value
    print "The property tax is $", property_tax

actual_value = None
assessed_value = None
property_tax = None

main() 
```

这应该工作

# c# - 2D赛车游戏中的地图格式

> ID：12541214
> 
> 赞同：3
> 
> 时间：2012-09-22T06:08:41.140
> 
> 标签：c#, xna, 2d, racing

我在 XNA 上编写简单游戏的经验很少，但现在我不知道如何解决我的问题。

所以，我想写一个简单的赛车二维街机，我不知道如何为这个游戏做地图。

我决定这样做：

1.  我在 mspaint 中绘制了一张图片地图。黑色 - 它的草，白色 - 它的道路，红色 - 道路标记，蓝色 - 水，绿色 - 森林等；

2.  加载图像后，我在 XNA 中覆盖纹理 - 在白色上放置道路纹理，在黑色上放置草纹理等。

所以我有2个问题。

1.  我认为在正确的方向？
2.  我如何知道所需像素中的颜色以及如何倒入所有白色，而不是单独倒入每个像素？第二个问题不需要，因为我可以用普通纹理做第二张图像，然后把它放在第二层，对吧？

抱歉英语真的很差。并感谢您提前回答。

![地图图像样本](../Images/14d6d7cf290b31e288a9e90a5b44139c.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-22T10:06:33.703

在 MSDN 论坛中，昵称 Mad Martin 的[人](https://profile.create.msdn.com/Profile.aspx?crn=Mad%20Martin)[建议这样做](http://xboxforums.create.msdn.com/forums/p/108381/639241.aspx#639241)：

> 使用您想要的纹理混合在屏幕上绘制最终图片。直接绘制这个纹理。现在您的游戏逻辑需要知道道路在该纹理中的位置。我能想到的方法有两种：
> 
> *   使道路成为样条曲线并计算游戏的确切布局。对于初学者来说可能有点陡峭，但最强大。
> *   只用两种颜色（黑色没有道路，白色道路）制作一个像你一样的单独纹理。然后，您可以通过汽车的坐标检查您是否在路上。您可以在 CPU 上执行此操作，通过使用 Texture2D.GetData 将纹理重新排列到数组中，或者您可以在 GPU 上执行此操作。无论哪种方式都需要一点点摆弄，所以你的车不会挂在路边。

我认为这是非常有用的答案，所以我关闭了问题。

# uiviewcontroller - 在内存警告（Apple doc 缺陷）中卸载 iOS 6 中的视图的正确方法是什么？

> ID：12541216
> 
> 赞同：11
> 
> 时间：2012-09-22T06:09:03.623
> 
> 标签：uiviewcontroller, ios6, didreceivememorywarning

在 iOS 6 中，`viewWillUnload`并且`viewDidUnload`已弃用，并且 UIViewControllers 不再卸载在内存警告期间在屏幕上不可见的视图。[View Controller Programming Guide](http://developer.apple.com/library/ios/#featuredarticles/ViewControllerPGforiPhoneOS/ViewLoadingandUnloading/ViewLoadingandUnloading.html#//apple_ref/doc/uid/TP40007457-CH10-SW1)有一个如何手动恢复此行为的示例。

这是代码示例：

```
- (void)didReceiveMemoryWarning
{
    [super didReceiveMemoryWarning];
    // Add code to clean up any of your own resources that are no longer necessary.
    if ([self.view window] == nil)
    {
        // Add code to preserve data stored in the views that might be
        // needed later.

        // Add code to clean up other strong references to the view in
        // the view hierarchy.
        self.view = nil;
    }
} 
```

代码示例下方是以下注释：

> 下次访问视图属性时，视图将完全按照第一次时的方式重新加载。

这里有一个明显的缺陷。如果尚未加载其视图的视图控制器收到内存警告，它将在行中加载其视图，`if ([self.view window] == nil)`然后继续清理并再次释放它。充其量，这是低效的。在最坏的情况下，如果加载了复杂的视图层次结构和支持数据，它会使内存条件变得更糟。我在 iOS 模拟器中验证了这种行为。

我当然可以对此进行编码，但对于 Apple 文档来说，出现这样的错误似乎很奇怪。我错过了什么吗？

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-09-22T15:22:37.717

在视图控制器中正确检查正在加载和显示在屏幕上的视图是：

`if ([self isViewLoaded] && [self.view window] == nil)`

我在 iOS 6 中使用类似于 iOS 5 的视图控制器卸载视图和清理的完整解决方案如下：

```
// will not be called in iOS 6, see iOS docs
- (void)viewWillUnload
{
  [super viewWillUnload];
  [self my_viewWillUnload];
}

// will not be called in iOS 6, see iOS docs
- (void)viewDidUnload
{
  [super viewDidUnload];
  [self my_viewDidUnload];
}

// in iOS 6, view is no longer unloaded so do it manually
- (void)didReceiveMemoryWarning
{
  [super didReceiveMemoryWarning];
  if ([self isViewLoaded] && [self.view window] == nil) {
    [self my_viewWillUnload];
    self.view = nil;
    [self my_viewDidUnload];
  }
}

- (void)my_viewWillUnload
{
  // prepare to unload view
}

- (void)my_viewDidUnload
{
  // the view is unloaded, clean up as normal
} 
```

# bison - 初学者野牛弯曲

> ID：12541217
> 
> 赞同：2
> 
> 时间：2012-09-22T06:09:34.820
> 
> 标签：bison, lex, flex-lexer

如何打印发生错误的行号。我尝试`yylineno`在`yyerror()`函数中使用并`%option yylineno`在`.l`文件中写入，但编译后它给我一个错误“ `yylineno undeclared (first use in this function)`”，如果我初始化`yylineno`为 1，它会给我这个错误：

```
error: redefinition of yylineno
lex.yy.c:273: note: previous definition of yylineno was here 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-23T03:20:36.373

还有第二种方法可以让 flex 提供全局变量 yylineno：命令行 switch `-l`。如果这对您不起作用，您可以管理自己的全局，如 Levine 等人。建议。在任何匹配换行符的规则中增加它。

```
%{
    int mylineno = 1;
%}
%%
* * * 
\n  { mylineno++; } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-23T07:43:16.957

您可能会遇到多种问题，但很难猜测哪一种是相关的。

1.  您在 Flex 源（`.l`文件和从源创建的目标文件）中定义了变量，但您没有在 Bison 语法（`.y`文件）或标头中声明它，因此在编译语法时它是未声明的。

2.  您确实在语法中声明了它，但您仍然遇到问题。从语法或词法分析器生成的文件中片段的顺序`.c`可能不是您所期望的，因此您最终会在声明变量之前引用它。引用它的代码可能出现在一个`%{ ... %}`块中，它可能出现在第二个`%%`部分标记之后，它可能出现在一个语法（或词法分析器）操作块中，或者它可能出现在源代码中的某个其他位置。如果这些中的每一个都引用了`yylineno`变量在块中有一个纯声明（最好通过标题），那么代码应该没问题。您尝试消除重复，但冒着重复自己的风险（如果您的标头是幂等的，这应该不是一个大问题），您可以确保在所有适当的部分中声明它。

请注意，默认情况下，语法不包括来自词法分析器的信息；您必须确保正确声明和定义共享信息。

# apache-flex - flex中的过早EOF错误

> ID：12541218
> 
> 赞同：3
> 
> 时间：2012-09-22T06:09:59.093
> 
> 标签：apache-flex, eof

当我在 flex 中运行以下代码时，我在最后一行得到过早的 EOF 作为错误。如果定义部分被删除，则不会产生错误。为什么会这样？

```
%{
     #include <stdio.h>
       int x = 0;
}%

%%
"a"  {x=x+1; printf("id %d",x); }
%%

int yywrap(void)
{
    return 0;
}

int main(void)
{
int x = 0;
    yylex();
    return 0;
} 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-03-08T19:29:24.497

您的代码的第三行有问题。它应该是 %} 而不是 }%

尝试这个 ：

```
%{
x = 0;
%}

%%
[a]  {x++; printf("id %d",x); }
%%

int main(void)
{
    yylex();
    return 0;
} 
```

我不知道您打算做什么，但是一个工作示例将为输入文件中遇到的每个*a打印一个**id*看起来像这样：

 *```
%{
x = 0;
%}

%%
[a]  {x++; printf("id %d ",x); }
%%

int main(int argc,char * argv[])
{
  yyin = fopen(argv[1],"r");
  yylex();
  fclose(yyin);
  return 0;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-22T15:04:32.563

您想从 yywrap 返回 true (1)，而不是 0。

从[弹性手册](http://westes.github.io/flex/manual/Generated-Scanner.html#index-yywrap_0028_0029)：

> 当扫描仪收到来自 的文件结束指示时`YY_INPUT`，它会检查该`yywrap()`功能。如果`yywrap()`返回 false（零），则假定该函数已继续执行并设置`yyin`为指向另一个输入文件，并继续扫描。如果它返回真（非零），则扫描器终止，向其调用者返回 0。*

# javascript - 有没有 window.showModalDialog & window.open 的替代品

> ID：12541220
> 
> 赞同：0
> 
> 时间：2012-09-22T06:10:04.320
> 
> 标签：javascript

我想在我的项目中使用具有自定义风格的弹出窗口，例如地址栏不显示返回值，自定义关闭按钮最终将如下所示：

![在此处输入图像描述](../Images/ac2c9eb6d003f3c891edb3879b6eb081.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-22T06:17:14.100

然后你应该使用某种定制的弹出窗口和对话，比如

```
http://umairj.com/27/how-to-create-simple-modal-dialogue-using-jquery/ 
http://www.jquery4u.com/windows/14-jquery-modal-dialog-boxes/ 
```

# ruby-on-rails - Rails Devise 在注册后立即阻止登录，而不使用 Confirmable

> ID：12541224
> 
> 赞同：2
> 
> 时间：2012-09-22T06:10:47.860
> 
> 标签：ruby-on-rails, devise, devise-confirmable

用例：

1.  管理员应该能够创建用户，并且它不应该尝试登录。
2.  公共用户可以创建帐户，注册后他应该被重定向到登录页面，而不是立即登录。

有人可以帮我吗？

谢谢 ：）

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-22T06:33:49.947

您需要做的是覆盖 Devise 的 RegistrationsController 创建方法。

[这里](https://stackoverflow.com/questions/3546289/override-devise-registrations-controller)有一个很好的解释。

这是设计创建动作：

```
 # POST /resource
  def create
    build_resource

    if resource.save
      if resource.active_for_authentication?
        set_flash_message :notice, :signed_up if is_navigational_format?
        sign_in(resource_name, resource)
        respond_with resource, :location => after_sign_up_path_for(resource)
      else
        set_flash_message :notice, :"signed_up_but_#{resource.inactive_message}" if is_navigational_format?
        expire_session_data_after_sign_in!
        respond_with resource, :location => after_inactive_sign_up_path_for(resource)
      end
    else
      clean_up_passwords resource
      respond_with resource
    end
  end 
```

覆盖控制器后，只需删除`sign_in(resource_name, resource)`

您还可以设置方法`after_sign_up_path_for(resource)`以满足您的需求

# android - android中的图像按钮加载时间慢

> ID：12541225
> 
> 赞同：1
> 
> 时间：2012-09-22T06:10:48.410
> 
> 标签：android, performance, scrollview, imagebutton

我正在用一堆图像按钮制作一个滚动视图。不幸的是，这个视图需要很长时间才能加载 - 以至于用户可能会假设它是一个错误而关闭应用程序。

关于如何使这个过程更快的任何想法？

```
<ScrollView xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:tools="http://schemas.android.com/tools"
android:layout_width="fill_parent"
android:layout_height="fill_parent" >

<TableLayout
    android:layout_height="fill_parent"
    android:layout_width="fill_parent"
    >
    <TableRow> 
        <ImageButton
            android:id="@+id/ImageButtonCone"
            android:layout_width="160dp"
            android:layout_height="200dp"
            android:scaleType="fitCenter"
            android:background="@drawable/cone" 
            />
        <ImageButton
            android:id="@+id/ImageButtonCube"
            android:layout_width="160dp"
            android:layout_height="200dp"
            android:scaleType="fitCenter"
            android:background="@drawable/cube" 
            />
    </TableRow>
            <TableRow> 
        <ImageButton
            android:id="@+id/ImageButtonCylinder"
            android:layout_width="160dp"
            android:layout_height="200dp"
            android:scaleType="fitCenter"
            android:background="@drawable/cylinder" 
            />
        <ImageButton
            android:id="@+id/ImageButtonTrapezoidalprism"
            android:layout_width="160dp"
            android:layout_height="200dp"
            android:scaleType="fitCenter"
            android:background="@drawable/trapezoidal_prism" 
            /> 
```

ETC...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-24T20:19:56.523

我已经解决了这个问题......我在drawable-mdpi文件夹中只有png，但在其他drawable文件夹中没有。我已经制作了每个 png 的副本并将它们粘贴到 drawable-ldpi、drawable-mdpi 和 drawable-xhdpi 中，现在它可以在手机和模拟器上快速运行。

据推测，模拟器正在采用中等清晰度的 .png，但手机想要采用不同的分辨率但无法做到。

# razor - 是否可以使用 servicestack 在剃刀视图中设置断点？

> ID：12541228
> 
> 赞同：7
> 
> 时间：2012-09-22T06:11:20.370
> 
> 标签：razor, servicestack

我正在尝试服务堆栈中的新剃须刀视图内容，我有这个视图：

```
@inherits ServiceStack.Razor.ViewPage<ServiceStackRazorCrud.Api.UserPageResourceResponse>
@{
    var m = Model;  // <-- I have a breakpoint in this line.
    var req = Request; 
    var res = Response;
} 
```

当我设置断点并运行应用程序（控制台应用程序）时，我可以看到视图已编译，但当我在浏览器中请求视图时调试器不会中断。我认为这是因为视图是在应用程序启动或类似的情况下动态编译的。是否有可能以某种方式让断点工作？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-05-30T19:51:55.450

AFAIK 无法以这种方式调试视图（目前使用 3.9.43，我相信更高版本对编译错误有更好的诊断）。

尝试保持视图代码简单，仅限于简单的循环/渲染，并在 DTO 上使用扩展方法进行任何复杂的逻辑/处理，这确实允许调试。您还可以考虑使用[logging](https://github.com/ServiceStack/ServiceStack.Logging)或简单的 Debug 扩展方法：

```
using ServiceStack.Html;
public static class HtmlHelperExtensions
{
    public static bool IsDebug(this HtmlHelper htmlHelper)
    {
    #if DEBUG
        return true;
    #else
        return false;
    #endif
    }
}

@using ServiceStack.Text
@inherits ServiceStack.Razor.ViewPage<ServiceStackRazorCrud.Api.UserPageResourceResponse>
@{
    var m = Model;  
}

@if (this.Html.IsDebug())
{
    <div class="debug">@(this.Model == null ? "m == null" : Model.Dump())</div>
} 
```

# c# - C#中的单字节数组到二维字节数组？

> ID：12541229
> 
> 赞同：3
> 
> 时间：2012-09-22T06:11:23.187
> 
> 标签：c#, arrays, bytearray

我有一个字节数组

```
byte[] d = new byte[64]; 
```

现在我想将它转换为二维字节数组，如..

```
byte[,] data = new byte[8,8]; 
```

谁可以帮我这个事

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-22T06:15:09.340

这可能是一种方法。

```
byte[] d = new byte[64];
byte[,] data = new byte[8,8];

int row = 0;
int column = 0;

for(i=0; i < d.Length; i++)
{
   row = i%8;
   column = i/8;
   data [row, column] = d[i];    
} 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-09-22T06:20:00.747

您可以使用[Buffer.BlockCopy 方法](http://msdn.microsoft.com/en-us/library/system.buffer.blockcopy.aspx)：

```
byte[] d = new byte[64];
byte[,] data = new byte[8,8];

Buffer.BlockCopy(d, 0, data, 0, 64); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-22T06:27:09.497

像这样的东西怎么样

```
byte[] d = new byte[64];

for (byte i = 0; i < d.Length; i++)
    d[i] = i;

byte[,] data = new byte[8, 8];

Enumerable.Range(0, 8).ToList().
    ForEach(i => Enumerable.Range(0, 8).ToList().
        ForEach(j => data[i, j] = d[i * 8 + j])); 
```

# c# - 如何处理两个或多个应用程序配置？

> ID：12541231
> 
> 赞同：-1
> 
> 时间：2012-09-22T06:11:25.833
> 
> 标签：c#, app-config, configuration-files, .net-assembly

让我们想象一下我的解决方案中有三个项目。第一个是可执行**的**，另外两个是类库。

每个项目都有自己的`app.config`文件，其中包含一些`httpBinding`数据、一些用户设置和连接字符串。

然后我构建解决方案，我得到的（在 EXE 的 bin 目录中）是唯一`app.config`具有与可执行项目相关的 XML 元素的文件。

所以，问题。我该如何使用另外两个配置（已成功构建到其相应的项目 bin 文件夹中？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-22T06:20:56.077

您需要将设置放在 .dll 中的 dll 库中`setting file of executable`。或者您可以`separate libraries`对解决方案中的所有项目进行处理设置。默认设置文件查看 app.config。

# java - 这是非常简单的 java 代码，但无法识别错误。我遇到语法错误

> ID：12541233
> 
> 赞同：1
> 
> 时间：2012-09-22T06:11:40.360
> 
> 标签：java, eclipse

这是我的简单java代码。当我编译/运行程序时，Eclipse IDE 显示语法错误。语法错误对我没有任何意义

```
class A {
    int x;
    int z;
    int s;

    A(int a,int b) {
        x=a;
        z=b;
    }

    void display() {
        System.out.println("x+y :"+(x+z));
    }
}

class B extends A
{
    B(int a, int b, int c) {
        x=a;
        z=b;
        s=c;
    }

    void display() {
        System.out.print("In B class...");
        System.out.println("x+y+s :"+(x+z+s));
    }
}

public class Simple {
    public static void main(String[] args) {
        A ob=new A(10, 20);
        B ob2=new B(20, 30, 40);
        ob.display();
        ob2.display();
    }
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-22T06:21:14.863

在您的类 A 中，您提供了一个接受两个参数的构造函数，并且您没有为 A 定义无参数构造函数。因此，当您尝试实例化*扩展 A 的*B 时，它会失败，因为它无法调用`A()`

有两种方法可以解决这个问题：

*   为 A 提供无参数构造函数

就像是：

```
class A{
    int x;
    int z;
    int s;

    public A(){
    }

    public A(int a,int b){
        x=a;
        z=b;
    }

    void display(){
        System.out.println("x+y :"+(x+z));
    }
} 
```

*   调用 super(a, b) 作为 B 的构造函数中的第一条语句。

例如：

```
class B extends A
{
    B(int a, int b, int c){
        super(a,b);
        x=a;
        z=b;
        s=c;
    }

    void display(){
        System.out.print("In B class...");
        System.out.println("x+y+s :"+(x+z+s));
    }
} 
```

如果您是 Java 新手，您可能想阅读Java 中的[继承](http://docs.oracle.com/javase/tutorial/java/IandI/subclasses.html)和[创建对象](http://docs.oracle.com/javase/tutorial/java/javaOO/objectcreation.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-22T15:13:47.613

这里有几点需要考虑：-

*   当您声明一个没有任何构造函数的类时，编译器会通过插入一个默认构造函数来为您执行此操作，即一个空的零参数构造函数。
*   如果您明确声明了单参数构造函数（或任何其他构造函数），编译器不会添加任何默认构造函数。
*   每次创建类的实例时，都会在继承层次结构中自上而下调用构造函数。所以，如果你不使用继承，那么实例化一个类首先会调用 Object 类的构造函数（这是任何继承或非继承层次结构的顶级类）
*   我们使用 super() 调用超类构造函数，但如果我们没有显式完成它，编译器会为我们添加这个。如果你自己添加它，请确保它应该是构造函数的第一条语句。您可以将参数传递给 super，以调用超类的非零参数构造函数，但编译器仅添加零参数 super()。

现在，说了这么多，让我们转到您的代码。在您的类 A 中，您已经声明了一个三参数构造函数，因此编译器不会添加任何内容。所以，恰恰是您没有任何零参数构造函数那里。现在，您的**类 B 扩展了 A**，因此实例化该类将调用**超类**构造函数，此处为 A。现在，由于您没有在 B 类中添加任何 super() 调用，编译器将自动添加。但是，编译器添加的是：**super()**，它将调用 A 的零参数构造函数，我们看到你没有。

那么，你怎么能解决这个问题？

将默认构造函数添加到您的 A 类：-

```
class A {
    public A() {
    }
} 
```

或者在 B 的构造函数中添加显式 super() 调用作为您的第一条语句，以调用您的 3-arg A 的构造函数：-

```
class B extends A {
    public B(int a, int b) {
          super(a, b, 19);
          /* More Code */
    }
} 
```

与 super() 类似，您也可以在构造函数中使用 this() 来调用同一个类的构造函数。同样的规则适用于 this().. 它应该是构造函数中的第一条语句..

因此，我们可以看到我们可以在构造函数中使用 super() 或 this()。

我希望这么多信息至少可以解决您当前的问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-22T07:41:34.903

如果要将值设置为超类中定义的属性，请在子类构造函数中调用 super() 方法。

因此，您的子类构造函数应如下所示

```
public B(int a, int b, int c){
    // The following statement will automatically sets the values to the base class             properties (which are already derived into derived class).
    super(a, b);
    // No Need of setting the values to the super class properties... The above statement will automatically sets the values...
    s=c;
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-22T06:40:29.363

您的超类有两个 args 构造函数，当您在 B 类的构造函数中扩展类 A 时，您已经调用了超类的两个 args 构造函数。将您的子类构造函数代码更改为此。

```
B(int a, int b, intc) {
   super(a,b); //this has to be in the first line inside the constructor.
    //do your things
  } 
```

[这个链接解释了它](http://docs.oracle.com/javase/tutorial/java/IandI/super.html)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-22T06:16:32.770

类a定义“A类”在哪里？数据字段定义在哪里（B 类的 x、z、s 和 A 类的 x、z）？请编辑您的帖子

帖子编辑后，我尝试编译它，错误应该如下：

Simple.java:17：找不到符号符号：构造函数 A() 位置：类 A B(int a, int b, int c){ ^ 1 错误

这意味着您应该在创建类 B 时调用类 A 的某个构造函数，因为 B 扩展了 A。您没有默认构造函数，因为您创建了自己的构造函数。

像这样重写 B 的构造函数，你会没事的：

```
B(int a, int b, int c){
    super(a,b);
    s=c;
} 
```

祝你好运！

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-09-22T06:20:28.740

（缺乏）格式使其难以阅读。类 A 定义的开始在代码块之外。

看起来您没有在 B 类中定义 int 字段。应该是：

```
 class B extends A
 {
     int s;

  ...
  } 
```

编辑：看起来你在我发布答案时重新格式化并更改了它......

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-09-22T06:25:35.367

您已经明确声明了 A 类的构造函数，因此 B 类应该明确调用其父级的 - 类 A - 构造函数。

将以下代码添加到 B 类的构造函数中：

```
super(a, b); 
```

然后您的 B 类构造函数将如下所示：

```
B(int a, int b, int c) {
    super(a, b);
    x = a;
    z = b;
    s = c;
} 
```

PS，请注意您粘贴的代码的格式。很难阅读。

* * *

## 回答 #8

> 赞同：-1
> 
> 时间：2012-09-22T06:18:11.647

首先，发布 eclipse 给出的错误会很有帮助。

但无论如何，您的语法错误源于您没有定义变量的数据类型，例如 x、z、s 等。

例如，

```
int x = a;
int z = b; 
```

等等

# jquery - Twitter Bootstrap 和选择的 jQuery 插件不起作用

> ID：12541234
> 
> 赞同：4
> 
> 时间：2012-09-22T06:11:44.100
> 
> 标签：jquery, twitter-bootstrap, forms, jquery-chosen

我正在使用 Twitter Bootstrap + Chosen。

我正在调用 Chosen 进行选择，但它不起作用（例如，它使用 Twitter Bootstrap 样式），直到您单击页面中的链接，该链接通过 Ajax 抓取另一个页面（订单表单）并通过显示它花式盒子；此页面也使用 Chosen。单击该按钮后，选择将正确应用于选择。

页面的头部看起来相同；首先调用 jQuery，其他 jQuery 插件（滑块 UI）工作正常。选择的路径是正确的。删除 Bootstrap 进行测试并没有帮助（它只是显示为无样式，直到订单页面被抓取。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-20T17:04:11.993

我长期使用 Twitter Bootstrap 和 Chosen 美丽的下拉菜单。我从来没有遇到过这样的问题。您可能会在引导 CSS 或丢失/覆盖样式之前插入选择的 CSS。这是完整的工作代码...

```
<!DOCTYPE html>
<html lang="en">
    <head>

        <meta charset="utf-8" />

        <!-- scale the devices -->
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />

        <!-- include bootstrap css files -->
        <link rel="stylesheet" type="text/css" href="/bootstrap/css/bootstrap.css" />
        <link rel="stylesheet" type="text/css" href="/bootstrap/css/bootstrap-responsive.css" />

        <title>Twitter Bootstrap + Choosen</title>

        <!--[if lt IE 9]>
            <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->        

        <!-- includ jquery and bootstrap script -->
        <script type="text/javascript" src="//code.jquery.com/jquery-latest.js"></script>
        <script type="text/javascript" src="/bootstrap/js/bootstrap.js"></script>

        <!-- choosen -->
        <link rel="stylesheet" type="text/css" href="/chosen/chosen.css" />
        <script type="text/javascript" src="/chosen/chosen.jquery.min.js"></script>

        <script type="text/javascript">
        $(document).ready( function() { 
            // chosen select
            $("form select").chosen({no_results_text: "No results matched"});
        });
        </script>
    </head>

    <body>
        <!-- container -->
        <div class="container">

            <!-- content -->
            <div class="row">
                <div class="span12">
                    <!-- user form -->
                    <form method="post" action="" class="form-horizontal">
                        <div class="control-group">
                            <label for="group_id" class="control-label">User Group : </label>
                            <div class="controls">
                                <select name="group_id" id="group_id" class="input-xlarge">
                                    <option value="">select...</option>
                                    <option value="1">Administrator</option>
                                    <option value="3"selected="selected">Users</option>
                                    <option value="4">Random</option>
                                    <option value="5">Super New</option>
                                    <option value="6">Famous</option>
                                </select>
                            </div>
                        </div>
                    </form>
                    <!-- // end form -->
                </div>
            </div>
            <!-- // end content -->

        </div>
        <!-- // end container -->
    </body>
</html> 
```

这是图片附件/屏幕截图（原样）

![Twitter Bootstrap + 选择的 jQuery 插件](../Images/21f1f282a5f574ee26569c7964268b4e.png)

希望这可以帮助。谢谢！！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-22T06:24:28.167

`$('select').Chosen()`文件准备好后你打电话了吗？

```
$(document).ready(function,{

     $('select').Chosen();

}); 
```

# java - Java web 服务 MYSQL 连接管理

> ID：12541238
> 
> 赞同：0
> 
> 时间：2012-09-22T06:12:23.680
> 
> 标签：java, web-services, jdbc, jdbc-pool

我在 Web 服务中遇到了 MySQL 连接。

```
public class DBAccessLayer
{
    private Connection connection = null;
    private Statement statement = null;
    private String DBFormatter = "'";
    private String key;
    private static DataSource datasource = null;
    private static boolean _isInitiated = false;
    private static boolean _isInitializing = false;

    public DBAccessLayer()
    {
        key = ConstantValues.getKey();
        SetPoolSettings();
    }

    private void SetPoolSettings()
    {
        try
        {
            if (!_isInitiated && !_isInitializing)
            {
                _isInitializing = true;

                PoolProperties p = new PoolProperties();
                p.setUrl("jdbc:mysql://localhost:3306/DBName?autoReconnect=true");
                p.setDriverClassName("com.mysql.jdbc.Driver");
                p.setUsername("root");
                p.setPassword("password");
                p.setJmxEnabled(true);
                p.setTestWhileIdle(false);
                p.setTestOnBorrow(true);
                p.setValidationQuery("SELECT 1");
                p.setTestOnReturn(false);
                p.setValidationInterval(30000);
                p.setTimeBetweenEvictionRunsMillis(30000);
                p.setMaxActive(100);
                p.setInitialSize(10);
                p.setMaxWait(10000);
                p.setRemoveAbandonedTimeout(60);
                p.setMinEvictableIdleTimeMillis(30000);
                p.setMinIdle(10);
                p.setLogAbandoned(true);
                p.setRemoveAbandoned(true);
                p.setFairQueue(true);
                p
                    .setJdbcInterceptors("org.apache.tomcat.jdbc.pool.interceptor.ConnectionState;org.apache.tomcat.jdbc.pool.interceptor.StatementFinalizer");
                datasource = new DataSource();
                datasource.setPoolProperties(p);

                _isInitiated = true;
            }
        }
        finally
        {
            _isInitializing = false;
        }
    }

    public void OpenConnection() throws SQLException
    {
        if (connection == null || connection.isClosed())
            connection = datasource.getConnection();

        if (statement == null || statement.isClosed())
            statement = connection.createStatement();

    }

    public Statement getStatement() throws Exception
    {
        if (connection == null || connection.isClosed())
            connection = datasource.getConnection();
        statement = connection.createStatement();
        return statement;
    }

    public void CloseConnection()
    {
        try
        {
            if (statement != null)
                statement.close();
        }
        catch (Exception ignore)
        {
            ignore.printStackTrace();
        }

        try
        {
            if (connection != null)
                connection.close();
        }
        catch (Exception ignore)
        {
            ignore.printStackTrace();
        }
    }
} 
```

这是我用来连接 Web 服务中的数据库的课程。我有一些使用相同 Web 服务运行的石英计划作业。

我在每个 Web 服务方法调用和每个作业开始时调用 OpenConnection() 方法，最后阻塞 CloseConnection()。

但是我经常收到此错误，而我在尝试中仅关闭一次连接 - finally 块。

> com.mysql.jdbc.exceptions.jdbc4.MySQLNonTransientConnectionException：语句关闭后不允许任何操作。

所以我的网络服务方法看起来像

```
private DBAccessLayer _DBAccessLayer = null;

private DBAccessLayer getDBAccessLayer()
{
    if (_DBAccessLayer == null)
        _DBAccessLayer = new DBAccessLayer();
    rerurn _DBAccessLayer;
}

public void dummyCall()
{
    try
    {

        getDBAccessLayer.getStatement().executeQuery("Some query");

    }
    finally
    {
        getDBAccessLayer.CloseConnection();
    }
} 
```

# php - 使用 JSON，将变量从 php 传递到 javascript

> ID：12541242
> 
> 赞同：1
> 
> 时间：2012-09-22T06:13:08.733
> 
> 标签：php, javascript, json

我想知道为什么它不起作用？

check_login.php

```
<?php
session_start();
$data = array("username" => "true");
echo json_encode($data);
?> 
```

我的 js 文件 var 链接名；

```
$.ajax({
    type: "POST",
    url: "check_login.php",
    dataType: "json",
    success: function(json){
    if(json.username != "true")
    {
      //do something
    }
    }
}); 
```

在检查用户是否已在 php 文件中登录后，我试图获取用户名，例如传递会话变量。但是目前传递一个字符串似乎已经有问题了。有谁知道我在这里做错了什么？

仍然无法使用上面的代码。有人想在这里帮助我吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-22T06:16:52.947

您的 PHP 代码中有错误。第 3 行中不需要方括号 ]。当然，您应该使用 echo json_encode($data);

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-22T06:19:27.767

```
 `if(json.data.username != "true")` is wrong you do not have data object

    `if(json.username != "true")` try this 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-22T06:19:35.473

您应该回显 json 数据，以便使用 ajax 获得的页面包含字符串数据。

```
<?php
session_start();
$data = array("username" => "true");
echo(json_encode($data));
?>

$.ajax({
    type: "POST",
    url: "check_login.php",
    dataType: "json",
    success: function(json){
       console.log(json)
    }
}); 
```

有时您可能需要将 php 中标头的内容类型设置为 json。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-02-15T21:17:08.550

尝试发送标头

```
header("Content-Type: application/json", true);
print json_encode($data); 
```

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2012-09-22T06:17:08.683

```
 return json_encode($data); 
```

我认为您必须返回数据，而不仅仅是对其进行 json 编码！

# vba - AutoFit 不适用于换行文本

> ID：12541248
> 
> 赞同：3
> 
> 时间：2012-09-22T06:13:56.750
> 
> 标签：vba, excel

我在牢房里有一个 Chr(10)

```
cell.WrapText = False
cell.EntireRow.AutoFit ' AutoFit works
' ------------ but:
cell.WrapText = True
cell.EntireRow.AutoFit ' AutoFit works only if the cell has less then five lines. 
```

如果我添加一些字符（多一行）- AutoFit 不起作用。文本在第一行和最后一行被剪切。
版本 - 著名的 excel 2010

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-22T08:41:16.617

这取决于数据有多大以及列的宽度是多少。行可以扩展的最大高度的原因是`409.5 (546 pixels)`. 如果您手动增加行高，您会注意到在特定高度之后，您将无法增加行高。检查那个高度是多少 :) 宽度的概念也是如此。这适用于行和列。在列的情况下，最大宽度为`254.86 (1789 pixels)`

我将此代码用于演示目的。

```
Option Explicit

Sub Sample()
    ActiveCell.WrapText = True
    ActiveCell.EntireRow.AutoFit
    MsgBox ActiveCell.RowHeight
End Sub 
```

看这个截图

**这有效**

![在此处输入图像描述](../Images/9ae931cfc113d11521cff6bc246f4794.png)

**这不**

该行已达到最大值。它不能超越这一点。

![在此处输入图像描述](../Images/9ca0d895c0a5eddd2cef3c1178e4b2e8.png)

处理此问题的最佳方法是增加列的宽度。

**跟进**

它不起作用的原因是因为您在该行中有多个包含数据的列，并且您试图只设置 1 个单元格的 WrapText，因此它不起作用。当您有多列数据时，您必须使用`cell.EntireRow.WrapText = True`而不是`ActiveCell.WrapText = True`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-03-05T17:59:14.627

一个相关的解决方案，以防它帮助某人。我有“换行文本”的数据和单元格中的换行符，这些数据来自从使用“Char（10）”的公式中复制数据。我需要换行符。

例如，单元格中的数据应如下所示：
城市：纽约 (1950)
国家：美国

但它显示的是这样的：
城市：
纽约 (1950)
国家：
美国

选择列并单击以自动调整导致略有改善：
城市：纽约
（1950）
国家：美国

第二次重复手动自动调整将文本转换为所需格式。
如果一行中有更多以空格分隔的文本，则需要更多的自动调整尝试，最终格式会被完全纠正。

所以在我的 VBA 代码中，我复制了这个并重复了自动调整代码，我知道会解决我的问题的次数：

```
'Adjust column Width
        wsSched2.Columns("F:CZ").EntireColumn.AutoFit
        DoEvents
        wsSched2.Columns("F:CZ").EntireColumn.AutoFit
        DoEvents
        wsSched2.Columns("F:CZ").EntireColumn.AutoFit 
```

（它可能在没有“DoEvents”的情况下工作。我没试过）

# javascript - 是否存在观察者模式优于发布订阅者模式的情况？

> ID：12541262
> 
> 赞同：0
> 
> 时间：2012-09-22T06:15:26.730
> 
> 标签：javascript, design-patterns, observer-pattern, publish-subscribe

我正在阅读[http://addyosmani.com/resources/essentialjsdesignpatterns/book/#designpatternsjavascript](http://addyosmani.com/resources/essentialjsdesignpatterns/book/#designpatternsjavascript)以了解有关设计模式的更多信息。

**我现在想知道是否存在观察者模式比发布订阅者模式更好的情况？**

在我看来，发布-订阅者模式更加灵活和容易。

问候

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-22T07:56:18.553

实现拖放处理程序时可能会出现一种情况。

观察“ondrag”和“ondrop”是不必要的间接。当调度“ondrop”时，想象必须调用每个订阅“ondrop”的对象。可能高达数百万。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-05T06:40:46.960

另一种情况是处理菜单和子菜单。当子菜单关闭时，您是否发布“on-menu-close”主题？如果是这样，那么所有菜单都将关闭包括嵌套和非嵌套菜单。实际上，您只希望关闭最后一个菜单。

# sql - 在 SQL Server 2008 的 where 子句中使用 if-else

> ID：12541265
> 
> 赞同：1
> 
> 时间：2012-09-22T06:15:47.420
> 
> 标签：sql, sql-server, sql-server-2008, tsql

我需要在`where`条款中实施。

我在语句中尝试过，但在语句`case`中不能使用`case`

```
where 
    if  start_mth < end_mth
        mth_no between start_mth and end_mth
    else start_mth > end_mth
        mth_no between start_mth and 12
                      or
        mth_no between 1 and end_mth 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-22T06:25:56.747

```
where 
((start_mth<end_mth) and (mth_no   between start_mth and end_mth)) or
((start_mth>end_mth) and ((mth_no  between start_mth and 12) or (mth_no   between  1 and end_mth))) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-22T06:28:49.337

```
WHERE 
(start_mth < end_mth AND mth_no BETWEEN start_mth and end_mth)
OR
(start_mth >= end_mth AND 
     (mth_no  BETWEEN start_mth AND 12 
         OR mth_no BETWEEN 1 AND end_mth)) 
```

# ajax - 外部页面未加载到具有 ajax 函数的 div 中，同时在变量中发布 json 代码

> ID：12541267
> 
> 赞同：0
> 
> 时间：2012-09-22T06:16:00.187
> 
> 标签：ajax, json, load

我想用 ajax 在 div 中加载 javascript 代码，为此我正在这样做

```
$(".pagination_btn").click(function(){
    var start = 20;
    var json = '{"offer":[{"city_id":"55","city":"Melbourne","name":"Space Hotel","address":"380 Russell St","price_no_vat":"250.96","currency":"AUD","type":"hotel","description":"The 3-star Space Hotel in Melbourne"}]}';  
    $.ajax({
        type:"POST",
        url:"search_result.php",
        data: "start="+ start +"&json="+ json,
        success: function()
        {  
            $('#search_result_cont').load("search_result.php");
        } 
    });//ajax ends
}); // click function ends 
```

我在这里所做的是将一个起始值和 json 代码发布到名为 start 和 json 的变量中，并且我想加载到 div#search_result_cont 中。但是当我单击按钮时，它会显示空白页。可能是我在 div 中加载页面的方法是错误的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-22T06:30:34.407

```
 data: {start: start, json: json} 
```

您需要构造要作为对象发送的数据。. . . 您的 json 数据也是如此，必须将其编码为 javascript 对象

喜欢

```
 json: {name: 'something', address: {street: 'xxx', city: 'yyy'}} etc 
```

除此之外，你能分享一下 search_result.php 的 php 代码吗？. .

如果 php 文件不包含任何 html 元素。. .它将是空白的，因为它没有任何东西可以显示............

# objective-c - 在 Objective-C 中，指定初始化程序总是被调用的规则并不总是被遵守？

> ID：12541268
> 
> 赞同：4
> 
> 时间：2012-09-22T06:16:05.250
> 
> 标签：objective-c, ios, designated-initializer

我们能否相信在 Objective-C 中，规则是类的指定初始化程序总是被确定调用？或者我们可以说，它应该几乎总是正确的，除了几个例外？例如，对于`UIView`，[文档](https://developer.apple.com/library/ios/#documentation/UIKit/Reference/UIView_Class/UIView/UIView.html#//apple_ref/doc/c_ref/UIView)说：

> 初始化框架：
> 
> 如果您以编程方式创建视图对象，则此方法是 UIView 类的指定初始化程序。子类可以重写此方法以执行任何自定义初始化，但必须在其实现开始时调用 super。
> 
> 如果您使用 Interface Builder 来设计您的界面，那么当您的视图对象随后从 nib 文件加载时，不会调用此方法。nib 文件中的对象被重构，然后使用它们的 initWithCoder: 方法进行初始化

或者我们可以说，如果是以编程方式，则规则应该始终适用于设计良好的类，但 Interface Builder 有点不同，因为它有点“复活”或以非编程方式构建对象。如果是这样，当我们进行 iOS 编程时，它们是否通常是其他例外？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-22T07:28:42.647

*事实上，使用 Interface Builder 设计的类未归档且未初始化。*

归档涉及类未初始化但未归档，因此该`initWithCoder:`方法负责在使用 Interface Builder 配置的归档属性加载控件时设置控件。

您应该将初始化操作放在`awakeFromNib:`加载对象后在每种情况下调用的方法中，这样您就可以确保您的初始化语句将被调用。

# ruby-on-rails-3 - rails mailer 默认：to

> ID：12541279
> 
> 赞同：0
> 
> 时间：2012-09-22T06:17:15.500
> 
> 标签：ruby-on-rails-3, actionmailer

我发现我所有的`UserMailer`功能都发送邮件到`user.email`，我正在寻找一种将其设置为默认值的方法，以前有人尝试过或想过类似的黑客攻击吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-22T09:03:52.517

一般来说，我所拥有的不是我所有的邮件程序类都继承`ActionMailer::Base`，而是用我的通用邮件程序类继承它们，该类继承了 ActionMailer

您可以在`default :to` 其中指定将用于所有邮件类的..

# cordova - Visual Studio 2012 中的 Phonegap

> ID：12541280
> 
> 赞同：7
> 
> 时间：2012-09-22T06:17:29.577
> 
> 标签：cordova, visual-studio-2012, cordova-2.0.0

有谁知道如何使 PhoneGap 的项目模板在 Visual Studio 2012 中工作？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-11-10T18:19:30.180

我认为我无法打开我的 PhoneGap 项目的原因是因为 PhoneGap(Cordova) 面向 Windows Phone 7.5 及更低版本。默认情况下，Visual Studio 2012 不支持 Windows Phone 开发，需要在[此处](http://dev.windowsphone.com/en-us/downloadsdk)单独安装 Windows Phone 8 。

不幸的是，您需要运行 Windows 8 才能成功安装，并且由于我仍在运行 Windows 7，因此我无法走得更远。也许安装了这个的人可以告诉我们它是否适用于 PhoneGap(Cordova)

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2013-04-29T21:32:39.837

Visual Studio 和 Window Phone 模拟器在虚拟机上效果不佳。如果您将模拟器安装在单独的分区上，则成功的机会更大。我仍在使用 Window 7。

您还可以参考这本书：Mobile JavaScript Application Development, CH 5, section : PhoneGap - create a Window Phone Application @ page 122 / 168

祝你好运

D

# sql - Postgres SQL：当表具有开始和结束日期列时，每个日期获取一个结果

> ID：12541289
> 
> 赞同：4
> 
> 时间：2012-09-22T06:19:00.863
> 
> 标签：sql, postgresql, date, range

这有点类似于[Getting date list in a range in PostgreSQL](https://stackoverflow.com/questions/11391085)，但不完全相同（我认为）。

我有一个 SQL 表，其中每一行都包含一个开始和结束日期。我想形成一个查询，以便对于每一行，对于这个范围内的每个日期，我得到一个结果。

例如：`id=1, title=MyRange, start=2012-08-05, end=2012-08-08`

询问：`SELECT * FROM myTyble where id=1 AND ...`

结果：

```
 id=1, title=MyRange, date=2012-08-05
 id=1, title=MyRange, date=2012-08-06
 id=1, title=MyRange, date=2012-08-07
 id=1, title=MyRange, date=2012-08-08 
```

我意识到唯一和主键行将在此结果集中重复，但这对我来说并不重要。任何想法都会非常受欢迎！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-22T06:47:13.617

[`generate_series`](http://www.postgresql.org/docs/current/interactive/functions-srf.html#FUNCTIONS-SRF-SERIES)您可以像从中选择一样轻松地加入。这样的事情应该可以解决问题：

```
select t.*
from generate_series('2010-01-01'::timestamp, '2013-01-01'::timestamp, '1 day') as s(d)
join your_table t on (s.d between t.start and t.end) 
```

你会提供你想要的真实日期，而不是`2010-01-01`当然`2013-01-01`。

较旧的版本，例如 8.3，没有`generate_series`与时间戳一起使用的 a，但您可以通过使用`generate_series`从初始日期生成日期偏移量来伪造它：

```
select t.*
from generate_series(0, 1096) dt(d)
join your_table t on ('2010-01-01'::date + dt.d between t.start and t.end) 
```

和以前一样，调整`0`、`1096`和`'2010-01-01'`以匹配您的数据。

# php - PHP永久旋转图像文件

> ID：12541290
> 
> 赞同：3
> 
> 时间：2012-09-22T06:19:05.410
> 
> 标签：php, javascript, jquery, html

我希望用户能够顺时针或逆时针永久旋转图像文件。我已经尝试过 imagejpeg($rotate) 但似乎无法使其正常工作。

```
 <form method="GET" action="rotate.php">
                Rotate:<input type="radio" name="rotate" value="clockwise">Clockwise
                <input type="radio" name="rotate" value="counterclockwise">Counter clockwise
                <input type="Submit" name="Submit1"/>
            </form> 
```

我试图让用户能够选择单选按钮方向并单击“提交”。然后显示的图像将更新旋转到他们选择的任何方向，并在再次使用时永久保持这种状态。有什么帮助或方向吗？

```
 <img src=\"uploads/$user/$folder/$image\"/></a>"; 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-22T06:25:57.887

使用`imagerotate()`它将永久旋转图像。

```
<?php
// File and rotation
$filename = 'test.jpg';
$degrees = 180;

// Content type
header('Content-type: image/jpeg');

// Load
$source = imagecreatefromjpeg($filename);

// Rotate
$rotate = imagerotate($source, $degrees, 0);

// Output
imagejpeg($rotate);
?> 
```

[http://php.net/manual/en/function.imagerotate.php](http://php.net/manual/en/function.imagerotate.php)

或者您可以使用 jquery 来使用它

[http://www.linein.org/examples/jquery_rotate/](http://www.linein.org/examples/jquery_rotate/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-22T06:29:39.573

如果你想*永久*旋转你的图片，HTML 或 CSS 是不可行的。您将需要一些服务器端脚本来存储旋转的图片。

你应该看看[GD 库](http://php.net/manual/fr/ref.image.php)。对于这种图像处理，我一直在使用[Imagine library](https://github.com/avalanche123/Imagine)，这是一个基于 GD 的库。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-01-27T23:59:30.603

如果其他人需要这个。这是一个将原始图像替换为旋转图像的函数：

```
 public function autoRatateImage($src, $exifCode = ''){

        if($exifCode == ''){
            $exif = exif_read_data($src);
        }else{
           $exif['Orientation'] = $exifCode; 
        }
        $source = imagecreatefromjpeg($src);
        if (!empty($exif['Orientation'])) {
            switch ($exif['Orientation']) {
                case 3:
                    $image = imagerotate($source, 180, 0);
                    break;

                case 6:
                    $image = imagerotate($source, -90, 0);
                    break;

                case 8:
                    $image = imagerotate($source, 90, 0);
                    break;
            }
            if (file_exists($src)) {
                unlink($src);
            }
            imagejpeg($image, $src , 100);  
        } 

    } 
```

# iphone - iphone 中从 web 服务加载数据时如何禁用 UIView 的用户交互？

> ID：12541293
> 
> 赞同：1
> 
> 时间：2012-09-22T06:19:16.660
> 
> 标签：iphone

嗨，如何在从 Web 服务加载数据时禁用**用户交互**。`UiView`

我使用以下行来禁用用户交互，但它不起作用。

```
self.view.userinteractionenabled=NO; 
```

当网络服务结束时，我替换了**YES 。**

它不起作用，这会产生`UINavigation`问题。点击时会出现更多视图`didSelectRow`。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-22T06:30:24.003

```
self.view.userinteractionenabled = NO; 
```

这意味着用户无法触摸，`self.view`但如果页面有`tabbarController`或`navigationController`用户可以触摸两者。

因此，当您的 Web 服务完成时，只需添加一个新`UIView`的 on`window`并将其从 superview 中删除即可。

添加方法：-

```
view = [[UIView alloc]initWithFrame:CGRectMake(0.0, 0.0, 320.0, 480.0)];
[view setBackgroundColor:[UIColor blackColor]];
[view setAlpha:0.5];
AppDelegate *appdelegate = (AppDelegate *)[[UIApplication sharedApplication]delegate];
[appdelegate.window addSubview:view]; 
```

然后写

```
[view removeFromSuperview]; 
```

完成您的网络服务后。当然，您必须导入`Appdelegate.h`才能使用`Appdelegate`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-22T10:08:35.103

您正在设置 view 的 userInteraction ，因此它会禁用您的视图，但 navigationBack 按钮位于 window 上，因此请禁用窗口的 userInteraction 而不是禁用您的视图。

**这是代码**

```
AppDelegate *appdelegate = (AppDelegate *)[[UIApplication sharedApplication]delegate];
appdelegate.window.userInteractionEnabled = NO; 
```

# javascript - Internet Explorer 中的 jQuery 隐藏/显示问题

> ID：12541297
> 
> 赞同：0
> 
> 时间：2012-09-22T06:19:53.783
> 
> 标签：javascript, html, internet-explorer

```
<script type="text/javascript">
    function unhide(divID) {
        var item = document.getElementById(divID);
        if (item) {
            item.className=(item.className=='hidden')?'unhidden':'hidden';
        }
    }
</script> 
```

我试图弄清楚这段代码有什么问题。它为除 IE 之外的所有浏览器切换隐藏/取消隐藏。直接网站是[http://lilacparadise.x10.mx/comics/](http://lilacparadise.x10.mx/comics/)。我正在帮助一个朋友，但我对 javascript 的经验很少。有人可以指出我修复此代码的正确方向吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-23T04:51:08.563

`className`在 IE 中可能无法正常工作。你能试试这个，让我知道它是否有效，

```
<script type="text/javascript">
    function unhide(divID) {
        var item = document.getElementById(divID);
        if (item) {
           if(item.getAttribute('class')=='hidden'){
               item.setAttribute('className', "unhidden") || item.setAttribute('class', "unhidden");
           }else{
               item.setAttribute('className', "hidden") || item.setAttribute('class', "hidden");
           }

        }
    }
</script> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-22T07:57:11.700

抱歉，我遇到了电脑问题，不得不重新启动。

首先，如果您有权访问页面本身，请*去掉这一行*：

```
<script type="text/javascript" src="jquery-1.3.1.js"></script> 
```

并将其替换为：

```
<script type="text/javascript" src="http://code.jquery.com/jquery-1.7.2.min.js"></script> 
```

那个版本的 jQuery 是在 2009 年 1 月发布的。那很古老，是时候摆脱它了。我在下面使用的[`$.fadeToggle()`](http://api.jquery.com/fadeToggle/)方法是在 1.4.4 中引入的。

您应该能够弄清楚我在下面做了什么。如果您有任何问题，请告诉我。这*不是*拖放。下面的小提琴演示中还有更多的 CSS，但我只包含了与演示相关的部分。

```
$(function load(){
    var $my = $('#my'),
        $comment = $my.find('.comment'),
        $siblings = $my.find('.siblings');

    $my.click(function toggle(){
        $comment.text($siblings.not(':hidden').text());

        $siblings.toggleClass('green').fadeToggle();
    });
});​ 
```

[**http://jsfiddle.net/userdude/ULDKg/**](http://jsfiddle.net/userdude/yfJRN/)

这是它使用的 CSS 和标记：

```
.siblings.hidden {
    display: none;
}
.siblings.green {
    background: green;
}

<div id="my">
    <div class="comment">Click for the comment...</div>
    <div class="siblings green">I don't know...</div>
    <div class="siblings hidden">What is it?</div>
</div>​ 
```

我已经在 Firefox、Chrome 和 IE 7-9 中进行了测试，并且运行良好。但您至少需要 v1.4.4 或更高版本。

另请注意，这[使用`$(document).ready()`](http://api.jquery.com/ready/). 这意味着它一直等到页面被解析并且 DOM 准备好被访问（完整地）。您可以改用`$(window).load()`它，它会起作用，但是您在此处看到的内容模仿了已经完成的内容（没关系）。请记住，您*需要*它至少等到页面被解析，或者没有任何包装器方法的代码需要*遵循*它正在访问的元素。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-22T06:25:44.657

我不是 100% 确定你的问题。我会建议你在 jquery 中使用切换而不是函数。剩下的 jquery 会小心的。

CSS部分。

```
.hidden
{
display:none
}

.visi
{
display:block
} 
```

jQuery 部分。

```
$("#divid").click(function () {
      $(this).toggleClass("hidden");
    });
}) 
```

希望这会有所帮助

# java - 排序方法在运行时崩溃

> ID：12541300
> 
> 赞同：0
> 
> 时间：2012-09-22T06:20:12.563
> 
> 标签：java, sorting

所以我一直在尝试运行我的 LibraryTest.java 程序，但是当它必须使用 sortBooksByTitle() 和 sortBooksByNumPages() 时它会崩溃。这两种排序方法都可以编译，但是当我尝试运行测试类时，它崩溃了。这是我的三个java文件。

**图书.java**

```
public class Book {

    private String author;
    private String title;
    private int numPages;

    public Book() {
        title = "EMPTY";
    }

    public Book(String titleIn, String authorIn, int numPagesIn) {
        title = titleIn;
        author = authorIn;
        numPages = numPagesIn;
    }

    public String getAuthor() {
        return author;
    }

    public String getTitle() {
        return title;
    }

    public int getNumPages() {
        return numPages;
    }

    public String toString() {
        return title + " by " + author + " (" + numPages + " pages)";
    }
} 
```

**图书馆.java**

```
import java.util.Random;
import java.util.Arrays;

public class Library {

    private Book[] array;
    private int count;
    private Random randomBook = new Random();

    public Library(int numBooks) {
        array = new Book[numBooks];
        count = 0;
    }

    public int getCount() {
        return count;
    }

    public void addBook(Book b) {
        //check if program can add new book

        if (count < array.length) {
            array[count] = b;
            count++;

        } //if array is full, a message is thrown 
        else {
            System.out.println("The Library is full!");
        }

    }

    //Adds content of a library to another library.
    public void addLibrary(Library l) {
        for (Book b : l.array) {
            addBook(b);
        }
    }

    //Returns a book after receiving a String input.
    public Book getBook(String book) {
        for (int i = 0; i < array.length - 1; i++) {
            String titleBook = array[i].getTitle();
            if (titleBook.equals(book)) {
                return array[i];
            }
        }
        Book newBook = new Book();
        return newBook;

    }

    //Returns the book located in the array index given by the input.
    public Book getBook(int index) {
        if (index < array.length) {
            System.out.printf("num: %d", index);
            return array[index - 1];

        }

        Book newBook = new Book();
        return newBook;
    }

    //Uses the random number generator and returns a book located in the array which
    //index is the random number obtained.
    public Book getBook() {
        int num = randomBook.nextInt(array.length);
        //System.out.printf("random num: %d", num);
        return array[num];

    }

    //Sorts books alphabetically.
    public void sortBooksByNumPages() {
        for (int i = 0; i < array.length - 1; i++) {
            for (int j = i + 1; j < array.length; j++) {
                if (array[i].getNumPages() > array[j].getNumPages()) {
                    Book temp = array[i];
                    array[i] = array[j];
                    array[j] = temp;
                }
            }
        }
    }

    //Sorts books by number of pages in ascending order.
    public void sortBooksByTitle() {
        for (int i = 0; i < array.length - 1; i++) {
            for (int n = i; n < array.length; n++) {
                if (array[n].getTitle().compareToIgnoreCase(array[i].getTitle()) < 0) {
                    Book temp = array[i];
                    array[i] = array[n];
                    array[n] = temp;
                }
            }
        }

    }

    //Output each book's information.
    public String toString() {
        String s = "Number of books: " + count + "\n";
        for (int i = 0; i < array.length; i++) {
            s = s + array[i] + "\n";
        }
        return s;
    }
} 
```

**库测试.java**

```
public class LibraryTest {

    public static void main(String args[]) {
        Library lib = new Library(3);
        Book b1 = new Book("Java: How to Program", "Deitel and Deitel", 1496);
        lib.addBook(b1);

        Book b2 = new Book("A Brief History of Time", "Stephen Hawking", 212);
        lib.addBook(b2);

        Book b3 = new Book("The Art of War", "Sun Tzu", 384);
        lib.addBook(b3);

        Book b4 = new Book("Ender's Game", "Orson Scott Card", 352);
        //  This addBook call should fail since the Library lib is full
        lib.addBook(b4);

        Book b5 = new Book("The Singularity is Near", "Ray Kurzweil", 672);

        Library lib2 = new Library(10);
        lib2.addBook(b4);
        lib2.addBook(b5);

        System.out.print("\n\nOriginal library contents\n");
        //  This should display that there are 3 books in the library & info
        System.out.print(lib);

        System.out.print("\n\nAfter combining libraries\n");
        lib2.addLibrary(lib);
        lib = lib2;
        //  This should display that there are 5 books in the library & info 
        System.out.print(lib);

        System.out.print("\n\nSorted by title\n");
        try {
            lib.sortBooksByTitle();
        } catch (Exception e) {
            System.out.println(e.toString());
            System.out.println(e.getMessage());
        }
        //  This should display the books in alphabetical order by title
        System.out.print(lib);

        /*
        * System.out.print("\n\nSorted by number of pages\n");
        * lib.sortBooksByNumPages(); // This should display the books in
        * increasing order of the number of //pages each one has
        * System.out.print(lib);
        */

        //  This should display Ender's Game
        System.out.print("\n\nBook 2:\n" + lib.getBook(1));
        //  This should display the EMPTY book
        System.out.print("\n\nBook 20:\n" + lib.getBook(20));

        System.out.print("\n\nBook 'The Art of War':\n"
                + lib.getBook("The Art of War"));

        //  This should randomly display a book from the library (potentially 
        //different each time)
        System.out.print("\n\nRandom book:\n" + lib.getBook());
    }
} 
```

这 3 个文件再次编译得很好，但是当我尝试运行时崩溃。请帮帮我。谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-22T06:40:32.750

问题出`NullPointerException`在您的`sortBooksByTitle()`方法中。抛出异常的具体行是 `if (array[n].getTitle().compareToIgnoreCase(array[i].getTitle()) < 0).`

发生这种情况是因为当您创建时，您`lib2`通过调用`new Library(10)`which 将其数组初始化为大小 10。在调用`sortBooksByTitle()`该数组时包含 5 本书和 5 个`null`值。一旦循环遍历了 5 本书，它就会点击 a`null`并调用`getTitle()`它，这会导致你的 NPE。

# menu - OpenText Content Server 10 中的功能菜单，不起作用

> ID：12541309
> 
> 赞同：0
> 
> 时间：2012-09-22T06:21:27.000
> 
> 标签：menu, opentext, livelink

我有 OpenText Content Server 10，但是在我的浏览器中，当我单击功能菜单的一些文档时，我的 CS10 挂起，LiveLink Builder 也挂起。

功能菜单不起作用，有没有办法可以再次启用它。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-10-04T06:08:39.497

将 about:blank 添加到 IE 中的受信任站点

这应该工作

# vb.net - 在 Visual Basic 2010 中映射网络驱动器

> ID：12541310
> 
> 赞同：1
> 
> 时间：2012-09-22T06:21:35.590
> 
> 标签：vb.net, visual-studio-2010, network-share, network-drive

我花了几个月的时间尝试获取有关如何映射网络驱动器、断开它们以及重新映射网络驱动程序的 Visual Basic 2010 代码。

我需要能够将其映射到配置文件文件夹，如下所示：完整路径；“\10.10.10.12\Profile 文件夹”。我需要登录才能访问网络文件夹`/user:Domainname\UserName Password`，然后通过消息确认映射是否成功。

映射后，我将请求配置文件名称并检查网络上是否存在此类配置文件文件夹。如果存在，则返回一条消息，说明配置文件存在，并删除配置文件文件夹，覆盖任何文件夹属性，例如只读等。

还有其他任务，但他是我陷入死胡同的地方。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T00:06:47.223

这个问题很老，但也许OP仍在寻找。不久前，我写了一个 HTA 页面来将网络地址映射到虚拟驱动器。代码是 VBScript，因此使用 WScript 库，它不是 VB.net 的本机部分。有关更多信息，请参阅[StackOverflow 上的 VB.Net 中的 WScript 。](https://stackoverflow.com/questions/9590211/wscript-in-vb-net)

连接脚本：

```
SUB doLogOn()
Dim objNetwork, errNum, ojbFSO, strDrive, iNum
Set objFSO = CreateObject("Scripting.FileSystemObject")
If objFSO.FolderExists("\\MyServer\MyFolder\") = False Then
   strDrive = "J:"
   Set objNetwork = CreateObject("WScript.Network")
   On Error Resume Next
   objNetwork.MapNetworkDrive strDrive, "\\MyServer\MyFolder", False, "username", "password"
   If Err.Number <> 0 Then
          Err.Clear
   End If
   Set objFSO = Nothing
   Set objNetwork = Nothing
End If
END SUB 
```

就个人而言，我还没有找到在.Net 中做同样事情的代码。上面显示的 VBScript 非常原始。不过，我希望它加上绑定 WScript 的信息能给你一两个想法。

编辑：[在这里查看 Eric Dalnas 的代码](http://www.mredkj.com/vbnet/vbnetmapdrive.html)

# session - 其他用户仍可访问受登录过滤器限制的页面

> ID：12541311
> 
> 赞同：0
> 
> 时间：2012-09-22T06:21:40.527
> 
> 标签：session, jsf-2, servlet-filters

我在我的登录应用程序中使用过滤器。我想要一些只有管理员才能访问的页面。我将这些页面保存在管理文件夹中，并在我的项目中实现了过滤器。但是其他用户仍然可以通过 URL 访问页面。

我哪里错了？

```
import java.io.IOException;

import javax.servlet.Filter;
import javax.servlet.FilterChain;
import javax.servlet.FilterConfig;
import javax.servlet.ServletException;
import javax.servlet.ServletRequest;
import javax.servlet.ServletResponse;

import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import javax.servlet.http.HttpSession;

public class LoginFilter implements Filter {

    @Override
    public void init(FilterConfig config) throws ServletException {
        // If you have any <init-param> in web.xml, then you could get them
        // here by config.getInitParameter("name") and assign it as field.
    }

    @Override
    public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException {
        HttpServletRequest request = (HttpServletRequest) req;
        HttpServletResponse response = (HttpServletResponse) res;
        HttpSession session = request.getSession(false);

        if (session == null || session.getAttribute("user") == null) {
            response.sendRedirect(request.getContextPath() + "/Login.xhtml"); // No logged-in user found, so redirect to login page.
        } else {
            chain.doFilter(req, res); // Logged-in user found, so just continue request.
        }
    }

    @Override
    public void destroy() {
        // If you have assigned any expensive resources as field of
        // this Filter class, then you could clean/close them here.
    }

} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-22T06:27:04.460

理论上有两个可能的原因：

*   过滤器根本不运行
*   过滤器不保护应用程序的页面。

我知道这听起来微不足道，但你能指定过滤器是否运行，如果是，你会来 chain.doFilter(req,res) 吗？

# c - OpenMPI 矩阵乘法

> ID：12541312
> 
> 赞同：3
> 
> 时间：2012-09-22T06:22:05.030
> 
> 标签：c, matrix, openmpi

我正在用 C 语言学习 OpenMPI。当我用这个程序做矩阵乘法时，我遇到了一些麻烦，结果是错误的。程序可以编译，但我觉得我的矩阵乘法算法有问题。

我解决这个问题的方法是使用 MPI_Scatter 来分散矩阵 A，然后转置矩阵 B。然后是 MPI_Scatter 矩阵 B。一旦它们被分散，我就进行矩阵乘法的计算并将结果收集回根进程。我不确定我是否遗漏了什么，但我还没有完全理解 Scatter and Gather。我知道使用 Send 你可以从不同的进程发送到单个进程和 Recv，但是这如何与 Scatter 和 Gather 一起工作。如果我在这段代码的某个地方犯了错误，请告诉我。谢谢。

我的源代码：

```
#define N 512
#include <stdio.h>
#include <math.h>
#include <mpi.h>
#include <sys/time.h>
print_results(char *prompt, float a[N][N]);
 int main(int argc, char *argv[]) {
  int size, rank, blksz, i, j, k;
  float a[N][N], b[N][N], c[N][N];
  char *usage = "Usage: %s file\n";
  float row[N][N], col[N][N];
  FILE *fd;
  int portion, lowerbound, upperbound;
  double elapsed_time, start_time, end_time;
  struct timeval tv1, tv2;

  MPI_Init(&argc, &argv);
  MPI_Comm_rank(MPI_COMM_WORLD, &rank);
  MPI_Comm_size(MPI_COMM_WORLD, &size);
  blksz = (int) ceil((double) N / size);
  /*
  if (argc < 2) {
      fprintf (stderr, usage, argv[0]);
      return -1;
  }
  if ((fd = fopen(argv[1], "r")) == NULL) {
         fprintf(stderr, "%s: Cannot open file %s for reading.\n", argv[0],argv[1]);
         fprintf(stderr, usage, argv[0]);
         return -1;
 }
 */

//Read input from file for matrices a and b.
//The I/O is not timed because this I/O needs
//to be done regardless of whether this program
//is run sequentially on one processor or in
//parallel on many processors. Therefore, it is
//irrelevant when considering speedup.
if (rank == 0) {
    for (i = 0; i < N; i++)
        for (j = 0; j < N; j++)
            a[i][j] = i + j;
    for (i = 0; i < N; i++)
        for (j = 0; j < N; j++)
            b[i][j] = i + j;
    /*
    for (i = 0; i < N; i++) {
        for (j = i + 1; j < N; j++) {
            int temp = b[i][j];
            b[i][j] = b[j][i];
            b[j][i] = temp;
        }
    }
    */
}

//TODO: Add a barrier prior to the time stamp.
MPI_Barrier(MPI_COMM_WORLD);
// Take a time stamp
gettimeofday(&tv1, NULL);
//TODO: Scatter the input matrices a and b.
    MPI_Scatter(a, blksz * N, MPI_FLOAT, row, blksz * N, MPI_FLOAT, 0,
        MPI_COMM_WORLD);
    MPI_Scatter(b, blksz * N, MPI_FLOAT, col, blksz * N, MPI_FLOAT, 0,
        MPI_COMM_WORLD);
//TODO: Add code to implement matrix multiplication (C=AxB) in parallel.
for (i = 0; i < blksz && rank * blksz + i < N; i++) {
    for (j = 0; j < N; j++) {
        c[i][j] = 0.0;
        for (k = 0; k < N; k++) {
            c[i][j] += row[i][j] * col[j][k];
        }
    }
}
//TODO: Gather partial result back to the master process.
MPI_Gather(c, blksz * N, MPI_FLOAT, c, blksz * N, MPI_FLOAT, 0,
        MPI_COMM_WORLD);
// Take a time stamp. This won't happen until after the master
// process has gathered all the input from the other processes.
gettimeofday(&tv2, NULL);
elapsed_time = (tv2.tv_sec - tv1.tv_sec) + ((tv2.tv_usec - tv1.tv_usec)
        / 1000000.0);
printf("elapsed_time=\t%lf (seconds)\n", elapsed_time);
// print results
MPI_Barrier(MPI_COMM_WORLD);
print_results("C = ", c);
MPI_Finalize();

}

print_results(char *prompt, float a[N][N]) {
int i, j;
printf("\n\n%s\n", prompt);
for (i = 0; i < N; i++) {
    for (j = 0; j < N; j++) {
        printf(" %.2f", a[i][j]);
    }
    printf("\n");
}
printf("\n\n");
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-22T19:42:55.370

你的计算内核是错误的。`b`据说是转置的，并且 c i [,j]只是 row `i`from`a`和 row `j`from的点积`b`，最里面的循环应该是：

```
for (k = 0; k < N; k++) {
    c[i][j] += row[i][k] * col[j][k];  // row[i][k] and not row[i][j]
} 
```

除了您的矩阵之外，`float`但在（注释掉的）转置代码中，`temp`变量是`int`. 它可能适用于那种特殊情况，因为你用整数初始化`a`和`b`使用整数的元素，但在一般情况下不起作用。

否则分散/聚集部分看起来很好。请注意，如果`N`不能被 MPI 进程的数量整除，您的代码将无法工作。要处理这些情况，您可能需要考虑使用`MPI_Scatterv`and `MPI_Gatherv`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-23T01:09:30.887

希望您正在尝试进行矩阵乘法。不需要转置矩阵。

你不能分散矩阵 b 。因为对于矩阵中的每一行，`a`您都需要整个`b`矩阵。广播 b 矩阵是正确的。

```
MPI_Scatter(a, blksz * N, MPI_FLOAT, row, blksz * N, MPI_FLOAT, 0,MPI_COMM_WORLD);
MPI_Bcast(b, N * N, MPI_FLOAT, 0,MPI_COMM_WORLD); 
```

正如@Hristo lliev 所提到的，您的乘法代码需要更改。

```
for (i = 0; i < blksz && rank * blksz + i < N; i++) {
    for (j = 0; j < N; j++) {
        product[i][j] = 0.0;
        for (k = 0; k < N; k++) {
            product[i][j] = product[i][j]+ row[i][k] * b[k][j];
        }
    }
} 
```

此实现的正确数组声明是

```
float row[blksz][N] , product[blksz][N] 
```

使用gather来组合`product`来自根节点的所有节点的数组。

```
MPI_Gather(product, blksz * N, MPI_FLOAT, c, blksz * N, MPI_FLOAT, 0,MPI_COMM_WORLD); 
```

你需要使用`MPI_Scatterv`和`MPI_Gatherv`

# c++ - 为什么在 C++ 中允许删除空指针

> ID：12541314
> 
> 赞同：8
> 
> 时间：2012-09-22T06:22:45.250
> 
> 标签：c++, delete-operator

我记得在某处读到它是`delete NULL`C++ 中的有效操作所必需的，但我不记得为什么它应该如此。有人可以提醒我吗？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-09-22T06:24:52.520

**确切原因：**

*   因为 C++ 标准委员会是这样决定的。

**可能的推理：**

*   `delete`因为在调用用户代码之前检查每个指针是否为 NULL 会导致太多的代码膨胀。

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2012-09-22T06:25:52.383

该规则不是严格必要的，因为没有它，语言*也可以*存在；这只是标准委员会的决定。空指针不是有效的内存地址。但是，我愿意相信每个决定都是有原因的，而这些原因是值得了解的。

此规则简化了对指针可能为空的故障案例和其他实例的管理。这是一种简单、廉价的检查方式，并且为语言增加了明显的便利性。

例如，如果存在许多会导致动态内存分配的条件，但也存在其他不会导致动态内存分配的条件，则可以方便地`delete`在末尾粘贴 a 而不用担心它。

```
// contrived example
void foo(int n) {
    char *p = nullptr;
    switch(n) {
        case whatever:
        case something_else:
            p = new char[n];
            break;
    }

    // some code...

    delete [] p;  // look Ma, no check!
} 
```

如果`delete nullptr`是非法的，那么每次调用`delete`都会被......

```
if(ptr) 
```

......那将是蹩脚的。既然这将是规范，一个本质上是强制性的约定，为什么不完全消除检查的需要呢？为什么每次调用都需要额外的 5 个字符（最少）`delete`？

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-09-22T08:07:27.900

首先，`NULL`它永远不是一个有效的指针值（在托管的 C++ 程序中），因此对于指针是否指向活动对象没有歧义。其次，内部内存管理逻辑无论如何都必须进行自己的检查才能进行簿记，因此强制指针为非空可能不会有任何收获。

所以现在我们知道没有什么*反对*这条规则的，这里有一个有利于它的大论据：它使编写代码变得更加容易。考虑这个简单的异常处理分配代码：

```
T * p1 = NULL;
T * p2 = NULL;
T * p3 = NULL;

try
{
    p1 = new T;
    p2 = new T;
    p3 = new T;
}
catch (...)
{
    delete p1;
    delete p2;
    delete p3;

    throw;
} 
```

这是简单而整洁的。如果我们需要在任何地方添加 NULL 检查，这会使代码的可读性大大降低，并使代码的逻辑变得模糊。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-09-22T06:30:37.950

因为标准委员会知道**没有**程序可以让 NULL 指向一个有效的对象，即 NULL 不能指向一个有效的内存，所以写是安全的，正是`delete NULL`因为它*实际上*并没有删除任何东西。既然这是安全的，那么它可以让您无需在之前检查 NULL `delete`：

```
//if (ptr != NULL) NOT NEEDED
   delete ptr; //safe even if ptr == NULL 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2012-09-22T08:09:47.540

因为库实现者只需编写`if (ptr == nullptr) return;`一次。作为用户，您必须在整个程序中编写 9999999999 次。因此，这是一个简单的案例，在内部`delete`进行操作要简单得多。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-09-22T06:24:52.870

删除空指针无效（如果释放函数是标准库[2] 中提供的函数），因此在调用 delete 之前无需检查空指针。

还要检查 [删除 NULL 指针是否安全？](https://stackoverflow.com/questions/4190703/is-it-safe-to-delete-a-null-pointer)它可以帮助你

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-09-22T07:34:14.517

好吧，我确实清楚地记得删除指针的规则`const`（现在可以）随着标准化而改变，即它们在 ARM 注释参考手册中有所不同。

但我不确定删除 0；我认为它一直受到支持。

无论如何，这只是*为了方便*，对于检查成本微不足道的操作，并且编译器可能/可能比某些用户定义的删除包装函数更有效地完成它。

# android - Andengine LiveWallpaper timerHandler 不工作

> ID：12541319
> 
> 赞同：2
> 
> 时间：2012-09-22T06:24:14.777
> 
> 标签：android, andengine, live-wallpaper, game-physics

我在 Andengine 中制作了一个简单的动态壁纸。在其中，我使用了`timerHanlder`旋转圆圈的 a 。但问题是当我将它用作动态壁纸时，`timerhandler`它不起作用并且`sprite`在场景中是静态的（不旋转）。这是代码。我无法弄清楚问题可能是什么。请帮我。

```
{     
    BitmapTextureAtlas firstCircleAtlas;
    ITextureRegion firstCircleRegion;
    Sprite firstCircle;
    Scene mScene;
    int angle=0;
    @Override
    public void onCreateResources(OnCreateResourcesCallback pOnCreateResourcesCallback) throws Exception {
        BitmapTextureAtlasTextureRegionFactory.setAssetBasePath("gfx/");
        firstCircleAtlas=new BitmapTextureAtlas(128,128,TextureOptions.BILINEAR_PREMULTIPLYALPHA);
        this.mEngine.getTextureManager().loadTexture(firstCircleAtlas);
        firstCircleRegion=BitmapTextureAtlasTextureRegionFactory.createFromAsset(firstCircleAtlas, getApplicationContext(), "3.png", 0, 0);
        firstCircle=new Sprite(0,0,firstCircleRegion);
        mScene=new Scene();
        mScene.attachChild(firstCircle);
        mEngine.setScene(mScene);
        firstCircle.setRotation(90);

        mScene.registerUpdateHandler(new TimerHandler(1f, new ITimerCallback() {

            @Override
            public void onTimePassed(TimerHandler pTimerHandler) {
                if(angle==360)
                {
                    angle=0;
                }
                angle++;
                    firstCircle.setRotation(angle);             
            }
        }));
    }

    @Override   
    public void onCreateScene(OnCreateSceneCallback pOnCreateSceneCallback)
            throws Exception {

    }

    @Override
    public void onPopulateScene(Scene pScene,OnPopulateSceneCallback pOnPopulateSceneCallback) throws Exception {

    }
   }
}

  } 
```

# python - 我如何对这个视图进行 json 编码？

> ID：12541322
> 
> 赞同：1
> 
> 时间：2012-09-22T06:24:45.810
> 
> 标签：python, sqlalchemy, pylons, pyramid

python 和 Pyramid 的新手。

我有一个分页视图。我如何对其进行 json 编码？当我尝试这个时，我得到一个错误“0x2d16d90> 的对象不是 JSON 可序列化的”：

```
@view_config(route_name="paginate")  
def paginate(request):
    query = DBSession.query(MyTable)
    page_url = paginate.PageURL_WebOb(request)
    customers = paginate.Page(query, 
                     page=int(request.params.get("page", 1)), 
                     items_per_page=25, 
                     url=page_url)

    if "partial" in request.params:
        # Render the partial list page
        return render_to_response("templates/my_json.jinja2",
                                  {"customers": json.dumps(customers)},
                                  request=request)
    else:
        # Render the full list page
        return render_to_response("templates/my.jinja2",
                                  {"customers": customers},
                                  request=request) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-22T06:49:05.673

JSON 是一种严格的文本格式。您不能只是将 SQLAlchemy 扔给编码器并期望它可以正常工作，您需要确定对象的编码是什么样的。

一种方法是让您的 SQLAlchemy 对象实现一个额外的方法，该方法返回一个简单的 python 字典；一个*可以*序列化的。这意味着它只能使用字符串作为键，并且只能包含列表、元组、数字和/或字符串。

一个示例方法可能是：

```
def json_dump(self):
    return dict(name=self.name, phone=[p.number for p in self.phonenumbers]) 
```

这将返回一个带有`name`和`phone`键的字典，其中的`phone`键包含来自（纯粹出于示例目的）电话号码关系的电话号码列表。

然后，您可以使用该信息创建`json.dumps`可以处理的新字典列表：

```
if "partial" in request.params:
    customer_json_data = [c.json_dump() for c in customers]
    # Render the partial list page
    return render_to_response("templates/my_json.jinja2",
                              {"customers": json.dumps(customer_json_data)},
                              request=request) 
```

[即将推出的 Pyramid 1.4 添加了对通过方法 hook](http://docs.pylonsproject.org/projects/pyramid/en/1.4-branch/narr/renderers.html#serializing-custom-objects)`json`在渲染器中序列化自定义对象的特定支持，以及对适配器为您进行转换的支持。[`__json__`](http://docs.pylonsproject.org/projects/pyramid/en/1.4-branch/narr/renderers.html#serializing-custom-objects)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-22T06:32:10.657

您确定要呈现一个模板来发送您的 JSON 响应吗？我过去做过类似的事情：

```
return HttpResponse(
        json.dumps(customers),
        status=200,
        mimetype="application/json") 
```

仅供参考：这是上面的 Django 代码......我不确定 Pylons 的等价物是什么，但我正在查找它......

# asp.net - WebSecurity 类中的自定义 IIdentity

> ID：12541325
> 
> 赞同：2
> 
> 时间：2012-09-22T06:25:04.087
> 
> 标签：asp.net, asp.net-membership, membership-provider

使用简单的会员 WebSecurity 类，有没有办法扩展它，以便我可以在身份验证票证中存储自定义 IIdentity？还是我需要推出自己的 WebSecurity 课程（我希望不需要）？

# sql-server - 将 Excel 工作表中的数据导入表 SQL Server

> ID：12541327
> 
> 赞同：0
> 
> 时间：2012-09-22T06:25:12.120
> 
> 标签：sql-server, excel

我的电脑上有一张包含数据的 Excel 表格。我想将此数据导出到存储在 SQL Server 2005 数据库中的表中。导入/导出向导不显示从我的 PC 上的 Excel 工作表导入到 SQL Server 上的表中的选项，而只显示在 SQL Server 上的数据库之间。

我读到我必须将 excel 表移动到 SQL 服务器，然后编写查询。我到底要在哪里移动 excel 表？

如果有人可以帮助我逐步进行操作，那将非常有帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-22T07:11:16.553

尝试使用 SQLWorkbench（开源）。如果 excel 和数据库具有相同的结构，您可以轻松地将数据从 excel 导入表中

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-22T08:40:35.547

尝试使用此右键单击数据库并转到任务单击该选择导出或导入数据库选择Excel工作表源然后选择具有相同结构的数据库表，否则请点击此链接 [在此处输入链接描述](http://www.databasejournal.com/features/mssql/article.php/3580216/SQL-Server-2005-Import--Export-Wizard.htm)

# python-3.x - Python3：如何找出我使用的 GTK+ 版本？

> ID：12541328
> 
> 赞同：1
> 
> 时间：2012-09-22T06:25:20.230
> 
> 标签：python-3.x, ubuntu-12.04, gtk3

我需要找出我正在使用的 GTK+ 版本。问题是似乎涉及很多不同的版本号，我不确定哪些是最相关的。

我的系统是 Ubuntu 12.04，标配有 libgtk2.0-0，但是当我安装 Python 3.2 开发环境时，我还安装了许多其他包来绑定到 GTK3。

大多数时候，这一切都“正常工作”，但我想实现一些（在 devhelp 中）仅在 GTK 3.2 版中可用的东西。不用说，我问的原因是Python在API中找不到方法。

所以，现在我想知道我能做些什么（如果有的话），但首先我需要弄清楚我的系统上有什么。

[这个问题](https://stackoverflow.com/questions/126141/how-do-you-find-out-which-version-of-the-gtk-ubuntu-is-using)似乎指向了正确的方向，但它已经过时了四年。有没有人有任何可以帮助的最新信息？

编辑：感谢@ptomato 和@Pablo 提供有用的答案。我现在的问题是如何理解出现的不同象形文字。dpkg 输出给出（除其他外）以下内容

```
bob@bobStudio:~$ dpkg -l libgtk* | grep ^i
ii  libgtk-3-0                             3.4.2-0ubuntu0.4                        GTK+     graphical user interface library
ii  libgtk-3-bin                           3.4.2-0ubuntu0.4                           programs for the GTK+ graphical user interface library
ii  libgtk-3-common                        3.4.2-0ubuntu0.4                        common files for the GTK+ graphical user interface library
ii  libgtk-3-dev                           3.4.2-0ubuntu0.4                        development files for the GTK+ library
ii  libgtk-3-doc                           3.4.2-0ubuntu0.4                        documentation for the GTK+ graphical user interface library
[etc....] 
```

在 Python3 shell 中，我得到以下信息

```
>>> from gi.repository import Gtk
>>> Gtk.MAJOR_VERSION, Gtk.MINOR_VERSION, Gtk.MICRO_VERSION
(3, 4, 2) 
```

如果我阅读正确（我不确定我是否正确），这意味着我使用的是 GTK+ 版本 3.4.2，但由于库上的数字，即`libgtk-3-0`. 另外，如果我使用的是 3.4.2，为什么在 3.2 中标记为可用的方法不存在？

有人可以解释不同的数字是什么意思吗？

EDIT2：更具体地说，我正在调查的方法是`Gtk.Grid().get_child_at()`. 来自 DevHelp GTK+ 手册，

```
gtk_grid_get_child_at ()

GtkWidget *         gtk_grid_get_child_at               (GtkGrid *grid,
                                                         gint left,
                                                         gint top);
Gets the child of grid whose area covers the grid cell whose upper left corner is at left, top.

grid :    a GtkGrid
left :    the left edge of the cell
top :     the top edge of the cell
Returns : the child at the given position, or NULL
Since 3.2 
```

我尝试在当前项目中使用此方法，并在堆栈跟踪中收到以下消息；

```
 neighbour = self.parent.grid.get_child_at(x, y)
AttributeError: 'Grid' object has no attribute 'get_child_at' 
```

但是，如果我使用的是 Gtk 3.4.2，并且该方法“自 3.2 以来”可用，那似乎没有多大意义。也许我在其他地方犯了错误？

这是一个说明错误的简短测试程序（请参阅标记为 <-------- 的行）

```
from gi.repository import Gtk

window = Gtk.Window()
grid = Gtk.Grid()
window.add(grid)

# the callout method
def on_button_clicked(widget):
    origin = grid.get_child_at(0, 0) #<-------------
    if widget == origin:
        print('You clicked (0,0)')
    else:
        print('You clicked (1,0)')

# add a couple of widgets
button00 = Gtk.Button()
button10 = Gtk.Button()
button00.set_label('(0,0)')
button10.set_label('(1,0)')
grid.attach(button00, 0, 0, 1, 1)
grid.attach(button10, 1, 0, 1, 1)

# attach the callouts
button00.connect("clicked", on_button_clicked)
button10.connect("clicked", on_button_clicked)

# display the window
window.connect("delete-event", Gtk.main_quit)
window.show_all()
Gtk.main() 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-22T16:09:44.820

在 Python 提示符下键入以下内容或在脚本中执行等效操作：

```
>>> from gi.repository import Gtk
>>> Gtk.MAJOR_VERSION, Gtk.MINOR_VERSION, Gtk.MICRO_VERSION
(3, 4, 3) 
```

此数字是您正在使用的 GTK 的实际版本号。包表示该`libgtk-3-0`包是针对3.0系列的，后续每个主版本号为3的版本都兼容。如果他们将包重命名为 3.2 等，那么您将无法升级它，并且所有其他包都会损坏。

至于`Gtk.Grid.get_child_at()`，它在我的 Gtk 3.4.2 的 Python 设置中也不可用。这很奇怪，因为 Python API 是从 C API 自动生成的。如果您遇到这样的问题，那么首先要做的是仔细检查您的程序中是否没有其他错误：

```
>>> from gi.repository import Gtk
>>> grid = Gtk.Grid()
>>> 'get_child_at' in dir(grid)
False 
```

所以真的没有办法。有时方法`(skip)`在文档注释中被标记，这意味着它们是仅限 C 语言的，不应该出现在其他语言的绑定中；所以也检查一下。GTK 源代码[在此处](http://git.gnome.org/browse/gtk+/tree/gtk/gtkgrid.c)在线；搜索`get_child_at`，你会看到没有`(skip)`注释。所以这也不是问题。

接下来要做的是检查 PyGObject 源代码是否有覆盖。有时某些方法会被更 Pythonic 的东西所取代；例如，它会`grid[0, 0]`比 Pythonic 多得多`grid.get_child_at(0, 0)`，如果 PyGObject 团队想到这一点，那就太棒了。

```
>>> grid[0, 0]
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
TypeError: 'Grid' object has no attribute '__getitem__' 
```

没有这样的运气。[所以在这里](http://git.gnome.org/browse/pygobject/tree/gi/overrides/Gtk.py)查看 PyGObject 的 GTK 覆盖并搜索`get_child_at`,`Grid`等。没有提及。

所以我能想到的唯一可能是一个错误。访问[http://bugzilla.gnome.org](http://bugzilla.gnome.org)并报告 Python 绑定中缺少此方法。如果你觉得雄心勃勃，为什么不`grid[0, 0]`向他们推荐这个符号呢？

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-22T06:30:57.293

打开您喜欢的 shell 并使用当前安装的 gtk 名称

```
 rpm -q gtk2
 rpm -ql --info gtk2-2.8.20-1 |less 
```

或仔细查看此页面。 [http://forums.fedoraforum.org/showthread.php?t=119358](http://forums.fedoraforum.org/showthread.php?t=119358)

我认为这应该适用于debian

```
 dpkg -l | grep libgtk 
```

更多信息可以在这里找到[http://manpages.ubuntu.com/manpages/lucid/man1/dpkg.1.html](http://manpages.ubuntu.com/manpages/lucid/man1/dpkg.1.html)

# java - Android：如何安排后台服务重复运行

> ID：12541340
> 
> 赞同：2
> 
> 时间：2012-09-22T06:27:16.307
> 
> 标签：java, android

我在服务中有一个 AsyncTask，它获取 RSS 提要并将它们存储在 SQLiteDatabase 中。该服务从主 Activity 启动。我需要每隔 4 小时左右执行一次 AsyncTask 以提取 RSS 提要。我尝试使用 TimerTask 如下，但这似乎不起作用。后台任务只运行一次。关于如何最好地实施此方案/任何替代方案的任何想法？

```
public class FeedReader extends Service{

    private void getFeedsRegularly() {
        timer.scheduleAtFixedRate(new TimerTask() {

        @Override
        public void run() {
        handler.post(new Runnable() {

        @Override
        public void run() {
            new BgTask().execute(feedURL);

        }
            });
            }
    }, 0, UPDATE_INTERVAL);
    }

    private class BgTask extends AsyncTask<...> 
    {...}
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-22T06:30:45.610

对于这样的设定时间表，您应该使用[AlarmManager](http://developer.android.com/reference/android/app/AlarmManager.html)。您可以使用它来设置您的应用程序每 4 小时运行一次。

这不仅方便，而且还可以提高电池性能，因为您的应用程序不会在后台连续运行，只是为了每四个小时执行一次 AsyncTask。取而代之的是，Android 会在适当的时候运行您的应用程序，您可以开始工作，然后等待闹钟再次响起。

# android - 无法在 Android WebView 中播放 Flash 视频

> ID：12541342
> 
> 赞同：4
> 
> 时间：2012-09-22T06:27:40.337
> 
> 标签：android, android-layout, android-intent, android-widget

我正在尝试在 webview中显示此[URL 。](http://api.virool.com/offers/wall/53dfddc7655ed1ca32e617cf80f7484c?suid=2)当我在我的设备中运行它时，我得到了 Flash 视频列表。当我点击任何视频时，我得到以下错误。

![在此处输入图像描述](../Images/32f9c04d38d41418be241aafbc9e2e6b.png)

我从 Google Play 下载了几个 Flash 播放器，但总是得到相同的结果。我正在三星选项卡上对此进行测试，我的项目版本是 4.0。

它还在其他所有设备中给出相同的结果。

这是我的[活动课](http://pastie.org/4778831)

&这是我的[清单文件](http://pastie.org/4778832)

我还需要做什么其他尝试？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-22T06:30:29.947

将此添加到您的 Applications Manifest XML 下的标记中

> 活动

标记并重新加载

> 安卓：硬件加速=“真”

# php - XAMPP - PHP 不在虚拟主机上解析

> ID：12541345
> 
> 赞同：1
> 
> 时间：2012-09-22T06:27:57.743
> 
> 标签：php, parsing, xampp, virtualhost

我已经为我的本地机器设置了一个虚拟主机。

这是我的`/etc/hosts`文件中的内容：

```
127.0.0.1   localhost local.dev
127.0.1.1   tomica-ubuntu

# The following lines are desirable for IPv6 capable hosts
::1     ip6-localhost ip6-loopback
fe00::0 ip6-localnet
ff00::0 ip6-mcastprefix
ff02::1 ip6-allnodes
ff02::2 ip6-allrouters 
```

这是我的虚拟主机的配置`/opt/lampp/etc/extra/httpd-vhosts.conf`：

```
<VirtualHost *:80>
    DocumentRoot "/opt/lampp/htdocs/dev"
    ServerName local.dev
</VirtualHost> 
```

在我的`/opt/lampp/htdocs/dev/index.html`我有这个：

```
<html>
<body>
    <p>HTML</p>
    <?php echo 'PHP' ?>
</body>
</html> 
```

但是当我`http://local.dev`在浏览器中打开时，我只看到：

```
HTML 
```

但是，如果我打开文档源，我可以看到：

```
<html>
<body>
    <p>HTML</p>
    <?php echo 'PHP' ?>
</body>
</html> 
```

如果我检查页面的 DOM，有：

```
<html>
<body>
    <p>HTML</p>
    <!--<?php echo 'PHP' ?>-->
</body>
</html> 
```

另外，如果我重命名`/opt/lampp/htdocs/dev/index.html`一切`/opt/lampp/htdocs/dev/index.php`似乎没问题。

为什么我的 PHP 代码没有在 .html 文档中解析？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-22T06:32:45.713

默认情况下`mod_php`不会告诉 Apache 让它处理带有`.html`扩展名的文档。如果您使用[`AddHandler`指令](http://httpd.apache.org/docs/2.2/mod/mod_mime.html#addhandler)更改处理程序类型：

```
AddHandler php-script .html 
```

然后 Apache 就会知道你想让 PHP 处理带有`html`扩展名的文件的内容。

默认情况下不启用此功能的原因是因为通过 PHP 解释器运行文档会产生成本（CPU、内存使用量、最终用户时间）。浪费时间是没有意义的——所以在 mod_php 的默认设置中，HTML 文件（通常是静态事务）不会通过 PHP 解释器。

# zend-framework - 将 zend 框架项目从 apache 移动到 windows-server-2008

> ID：12541347
> 
> 赞同：0
> 
> 时间：2012-09-22T06:28:32.650
> 
> 标签：zend-framework, windows-server-2008

我在 XAMPP 上开发了一个网站（Zend Framework 1.x 运行该网站），我的网络服务器在 linux 上运行，所以 htaccess 可用，一切正常。现在，我的客户想要将项目移动到他自己的网站空间 - 安装了 PHP 的 Windows Server 2008。

我现在该怎么办？我在哪里可以找到更多信息？（由于现有的 Zend Server 很难使用谷歌，所以大多数点击都与这件事有关）

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-22T06:41:48.950

你可以从这里开始：http: [//blog.richardknop.com/2011/09/making-zend-framework-run-under-iis/](http://blog.richardknop.com/2011/09/making-zend-framework-run-under-iis/)

要注意的真正重要的事情是如何安装和配置重写模块，因为您当前的 .htacces 不适用于 IIS。

# java - 当我在 netbeans 编辑器中更改我的项目中的 java 文件时，是否有必要清理和构建整个项目

> ID：12541348
> 
> 赞同：0
> 
> 时间：2012-09-22T06:28:38.023
> 
> 标签：java, netbeans

在过去的一年里，我一直在用 java 做一个项目。当我开始这个项目时，它很小。但现在它正在成长为一个大项目，所以我的问题是，当我对我的 java 文件进行更改时，是否有必要清理和构建我的整个项目。当我只构建我最终更新的文件时，还有其他方法可以对源文件进行更改吗？我正在使用 netbeans 来编辑我的项目中的文件。当我使用该功能`compile on save`时，整个工作变得非常缓慢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-22T07:09:02.627

这是清理/构建（运行速度慢）或“保存时编译”（运行速度快）之间的平衡。

您将项目分解成小块，将那些完整或很少更改的部分编译成 Jar，然后将这些 Jar 导入您的项目。这样你就不需要编译没有改变的代码。

缺点是管理有点复杂，因为当您更改其中一个库时，您需要记住复制到它的链接位置 - 不要直接链接到，`dist/jar`因为这可能会锁定该文件，使新的构建成为不可能。

# ios - 如何在 iOS6 中获取行车路线数据？

> ID：12541349
> 
> 赞同：3
> 
> 时间：2012-09-22T06:28:41.190
> 
> 标签：ios, map, routes, direction

我想从 UIMapView 绘制 2 个点（当前位置和选定的注释）之间的路线。在 6 之前的 iOS 版本中，我使用 lat,long 向 google 发出请求，然后接收到的数据被解码并转换为折线。所有这些都按预期工作。

同样的方法适用于 iOS6，但它是否正确（向谷歌请求路由数据）？

你能分享你的想法吗？

谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-04T12:18:40.523

根据[Google Directions API 服务条款](https://developers.google.com/maps/documentation/directions/#Limits)：

> 注意：Directions API 只能与在 Google 地图上显示结果结合使用；禁止使用路线数据而不显示请求路线数据的地图。

由于 iOS 6 中的 MapKit 不再提供 Google 地图，因此在 MapKit 地图上使用 Google 路线 API 似乎违反了 Google 的服务条款。您将需要找到另一种生成行车路线的方法，或者找到一种在 iOS 6 中显示 Google 地图的方法，您可以通过该地图使用 Google 路线。

# sql - 如何在 over 函数中使用 partition by 和 order by？

> ID：12541355
> 
> 赞同：7
> 
> 时间：2012-09-22T06:29:46.640
> 
> 标签：sql, sql-server-2008

我正在使用 SQL Server 2008 R2。

我正在尝试编写一个显示以下内容的查询：

```
select productname, unitprice,categoryid, sum(unitprice) 
over (partition by categoryid order by unitprice desc) As PriceSum
from Products 
```

我希望结果是按单价订购产品，同时按类别划分产品。我收到此错误：`Incorrect syntax near 'order'.` 我做错了什么？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-09-22T08:07:38.693

你没有做错什么。SQL Server 2008 不支持使用窗口函数运行聚合。

SQL Server 2012 终于完全支持窗口函数，包括运行聚合。所以如果你真的需要这个，你将需要升级。

请参阅 SQL Server 2012 的此 SQLFiddle：[http ://sqlfiddle.com/#!6/5303f/1](http://sqlfiddle.com/#!6/5303f/1)

# datagrid - Flex 4.5 spark datagrid Itemrenderer 内存泄漏

> ID：12541357
> 
> 赞同：0
> 
> 时间：2012-09-22T06:29:58.993
> 
> 标签：datagrid, memory-leaks, flex4, itemrenderer

我们有包含许多 ItemRenderer 的 Spark dataGrid。我们每次加载超过 200 行。这会导致我们的应用程序发生内存泄漏。那么有什么方法可以释放 ItemRenderers 吗？

分析时问题几乎与[此相似](https://stackoverflow.com/q/7643926/842112)

> 实例不断增加，我使用 arrayCollection 作为数据提供者。我什至调用 dataprovider (arrayCollection) .removeAll() 并且显示变为空白，但 itemRenderer 的实例数并没有下降。然后我在分析器中运行垃圾收集器，项目渲染器仍然保留在内存中。如何从内存中删除 itemRenderers？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2020-11-05T21:38:12.587

make sure your item renderers do not use event handlers in the mxml, as mxml event handlers do not use weak references and thus never get GCed.

For example: I had an itemrenderer component in mxml that looked like <s:ItemRenderer creationComplete="OnCreationComplete">

instead I created a base class: public class ItemRendererBase extends ItemRenderer and in the constructor added the event listener this.addEventListener(FlexEvent.CreationComplete, OnCreationComplete, false, 0, true)

for sub component event handlers such as <s:Button click="OnClickButton"/> remove the inline event wiring and instead wire the event handler in your override OnCreationComplete with false, 0, true to use a weak reference.

also make sure you manually invoke the GC collection for testing this and I recomend using adobe scout

# c# - 为什么属性设置器默认为公共

> ID：12541359
> 
> 赞同：-1
> 
> 时间：2012-09-22T06:30:17.107
> 
> 标签：c#, .net

为什么getter和setter的默认访问修饰符是public而不是private？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-22T06:38:06.493

属性的`get`和`set`部分不默认为公共，它们默认为它们所属属性的可见性。与所有其他类型的成员一样，属性本身的默认可见性是私有的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-22T06:37:51.870

因为它`C#`是这样设计的。

*   定义字段
*   定义属性以访问该字段

因此，*预期*的默认行为是您创建字段`private`并以一种能够`write and read`从调用者（任意的，不仅是派生的）到字段的方式创建属性，因此属性**和** `get/set`方法（如果不是，则将属性公开没有任何意义）变成`public`.

这只是*预期的默认*行为，仅此而已。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-22T06:40:49.247

我认为这是因为该属性有自己的访问修饰符，实际上描述了一组两种方法：SomeType getProp() 和 void setProp(SomeType)。默认情况下，这些方法被视为属性。但是如果你想改变它们的可见性，你可以使用额外的修饰符（例如 Prop{get;private set;}）。

# python - TypeError：“编码”是此函数的无效关键字参数

> ID：12541370
> 
> 赞同：40
> 
> 时间：2012-09-22T06:31:12.100
> 
> 标签：python, python-3.x

我的 python 程序无法打开文本文件。当我使用基本打开文件进行读取时，出现 ascii 错误。有人通过让我添加一个在空闲时运行良好的编码参数来帮助我，但是当我通过终端运行程序时，我收到以下错误消息：“TypeError：'encoding' is an invalid keyword argument for this function”我该怎么做读入这个文本文件以使用它的数据？

```
try:
    import tkinter as tk
    from tkinter import *
except:
    import Tkinter as tk
    from Tkinter import *

import time
import sys
import os
import random

flashcards = {}

def Flashcards(key, trans, PoS):
    if not key in flashcards:
        flashcards[key] = [[trans], [PoS]]
    else:
        x = []
        for item in flashcards[key][0]:
            x.append(item)
        x.append(trans)
        flashcards[key][0] = x
        x = []
        for item in flashcards[key][1]:
            x.append(item)
        x.append(PoS)
        flashcards[key][1] = x

def ImportGaeilge():
    flashcards = {}
    with open('gaeilge_flashcard_mode.txt','r', encoding='utf8') as file:
        for line in file:
            line1 = line.rstrip().split("=")
            key = line1[0]
            trans = line1[1]
            PoS = line1[2]
            Flashcards(key, trans, PoS)

def Gaeilge():
    numberCorrect = 0
    totalCards = 0
    ImportGaeilge()
    wrongCards = {}
    x = input('Hit "ENTER" to begin. (Type "quit" to quit)')
    while x != quit:
        os.system('cls')
        time.sleep(1.3)
        card = flashcards.popitem()
        if card == "":
## WRONG CARDS
            print ("Deck one complete.")
            Gaeilge()
        print("\n\n")
        print(str(card[0])+":")
        x = input("\t:")
        if x == 'quit':
            break
        else:
            right = False
            for item in card[1]:
                if x == card[1]:
                    right = True
                    print("\nCorrect!")
                    numberCorrect += 1
            if right == False:
                print(card[0])

        totalCards += 1
        print("Correct answers:", str(numberCorrect) +"/"+str(totalCards))

Gaeilge() 
```

gaeilge_flashcard_mode.txt：

```
I=mé=(pron) (emphatic)
I=mise=(n/a)
you=tú=(pron) (subject)
you=tusa=(emphatic)
y'all=sibh=(plural)
y'all=sibhse=(emphatic)
he=sé=(pron)
he=é=(n/a)
he=seisean=(emphatic)
he=eisean=(n/a)
she=sí=(pron)
she=í=(n/a)
she=sise=(emphatic)
she=ise=(emphatic)
him=é=(pron)
him=eisean=(emphatic)
her=í=(pron)
her=ise=(emphatic)
her=a=(adj) 
```

* * *

## 回答 #1

> 赞同：47
> 
> 时间：2012-09-22T06:57:08.677

您尝试运行它的终端可能使用 Python 2.x 作为标准。

尝试在终端中专门使用命令“Python3”：

`$ Python3 yourfile.py`

（经过测试并确认 2.7 会给出该错误并且 Python3 可以很好地处理它。）

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2018-04-19T16:38:37.603

使用`io.open()`而不是`open`为我删除此错误，例如：

```
import io
with io.open('gaeilge_flashcard_mode.txt','r', encoding='utf8') as file:
    for line in file:
        line1 = line.rstrip().split("=")
        key = line1[0]
        trans = line1[1]
        PoS = line1[2]
        Flashcards(key, trans, PoS) 
```

[参考：看这个答案](https://stackoverflow.com/a/25050323/5706413)

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-12-13T19:42:12.837

+1 给 The Unfun Cat 以获得关于 Linux 等的正确答案。

然而，对于 Windows 用户，调用“Python3”通常是行不通的。但是如果你已经安装了 Python 3.3（或者如果你已经下载并安装了 Python Launcher for Windows），你可以输入：

```
C:\scr>py -3 yourfile.py 
```

实际上，这个启动器也支持 shebang 语法，所以在你的脚本文件中添加以下第一行将可以跨平台工作（/usr/bin 在 Windows 上被忽略）：

```
#! /usr/bin/python3 
```

之后，假设 windows\py.exe 是 .py 文件的默认处理程序，您只需键入：

```
C:\scr>yourfile.py 
```

如果“.PY”在您的 PATHEXT 环境变量中，您只需键入：

```
C:\scr>yourfile 
```

更多信息：

[http://docs.python.org/3/whatsnew/3.3.html](http://docs.python.org/3/whatsnew/3.3.html)

[http://www.python.org/dev/peps/pep-0397/](http://www.python.org/dev/peps/pep-0397/)

# c - 为什么编译器会抱怨这个例子？

> ID：12541372
> 
> 赞同：1
> 
> 时间：2012-09-22T06:31:45.493
> 
> 标签：c

我正在阅读维基百科上的[Typedef](http://en.wikipedia.org/wiki/Typedef)。该页面上提到的示例是

```
typedef int km_per_hour ;
typedef int points ;

km_per_hour current_speed ;
points high_score ;
...

void congratulate(points your_score) {
if (your_score > high_score)
... 
```

更进一步，它说这我无法理解为什么？

```
void foo() {
unsigned int a;         // Okay
unsigned km_per_hour b; // Compiler complains
long int c;             // Okay
long km_per_hour d;     // Compiler complains
... 
```

为什么编译器会抱怨 unsigned 和 long？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-22T06:36:59.830

您不能在'd 类型之前`signed`或`unsigned`之前添加。并且 只能修改基本整数类型并直接执行此操作。`typedef``signed``unsigned`

编译器解析或`signed`单独`unsigned`或接近`char`,`short`和. 在所有其他情况下，它们被视为无效/意外/放错位置。`int``long`

从这个意义上说，`signed`不要`unsigned`用作`const`或`volatile`修饰符。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-22T06:39:09.753

`typedefs`不能修改或使用之类的`macros`。你有`km_per_hour`as `int`，所以它只能这样使用！

您应该更改的定义`typedefs`或定义新的定义以摆脱编译器问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-22T06:36:11.227

您不能使用额外的说明符修改 typedef。你应该只写 km_per_hour b; 和 km_per_hour d；我希望这有帮助。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-22T06:37:33.540

因为你已经定义了一个类型——即把剑插在地上，做你的案子。

然后你就不能四处走动，改变你的情况。这在法庭和编译器中都行不通。

对不起这个比喻。

# responsive-design - 响应式内容：防止使用 css 代码下载内容：显示：无！在移动浏览器上重要吗？

> ID：12541374
> 
> 赞同：0
> 
> 时间：2012-09-22T06:32:05.330
> 
> 标签：responsive-design

我想知道CSS声明如何：

```
display: none !important; 
```

将由移动浏览器处理内容交付。

是否用于防止移动浏览器（Android、iOS 等）下载内容。

该声明被诸如foundation3之类的框架用于在不应该应用时隐藏设备中的内容。

最好的问候，亚历克斯

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-22T13:31:35.120

“显示：无”只会隐藏您的内容。不幸的是，这些资产仍将被下载。请参阅此详细列表，使用“显示：无”隐藏图像以及各种浏览器的反应。[http://timkadlec.com/2012/04/media-query-asset-downloading-results/](http://timkadlec.com/2012/04/media-query-asset-downloading-results/)

至于文本内容，据我所知，作为文档的一部分，它将被浏览器读取并下载。

您可以通过打开浏览器的检查器并在下载页面时查看网络选项卡来亲自看到这一点。显示下载的每个资产以及下载所需的持续时间。制作各种[对象](http://jsfiddle.net)，如图像、文本块、带有背景图像的空 div 等，并将“显示：无”应用于所有对象。然后刷新页面并观察网络选项卡，您将看到正在下载的内容。

在手机上使用“display: none”隐藏内容不是一个好主意，您可以通过 ajax 和 Jquery 有条件地加载内容。我建议调查一下。

# android - openGL ES - 在触摸时将渲染模式从 RENDERMODE_WHEN_DIRTY 更改为 RENDERMODE_CONTINUOUSLY

> ID：12541378
> 
> 赞同：1
> 
> 时间：2012-09-22T06:32:42.427
> 
> 标签：android, events, opengl-es, touch

当我触摸屏幕时，我想将渲染模式从 RENDERMODE_WHEN_DIRTY 更改为 RENDERMODE_CONTINUOUSLY。

我需要什么：最初对象应该是静止的。触摸屏幕后，它应该会自动移动。我的物体的运动是抛射运动，它工作正常。

我得到了什么：强制关闭和 NULL 指针异常。

我的代码：

公共类 BallThrowGLSurfaceView 扩展 GLSurfaceView{

```
MyRender _renderObj;
Context context;
GLSurfaceView glView;

public BallThrowGLSurfaceView(Context context) {
    super(context);
    // TODO Auto-generated constructor stub
    _renderObj = new MyRender(context);
    this.setRenderer(_renderObj);
    this.setRenderMode(RENDERMODE_WHEN_DIRTY);
    this.requestFocus();
    this.setFocusableInTouchMode(true);
    glView = new GLSurfaceView(context.getApplicationContext());
}

@Override
public boolean onTouchEvent(MotionEvent event) {
    // TODO Auto-generated method stub
    if (event != null)
    {
        if (event.getAction() == MotionEvent.ACTION_DOWN)
        {
            if (_renderObj != null)
            {   Log.i("renderObj", _renderObj + "lll");
                // Ensure we call switchMode() on the OpenGL thread.
                // queueEvent() is a method of GLSurfaceView that will do this for us.
                queueEvent(new Runnable()
                {
                    public void run()
                    {
                        glView.setRenderMode(RENDERMODE_CONTINUOUSLY);      
                    }
                });
                return true;
            }
        }
    }
    return super.onTouchEvent(event);   
} 
```

}

PS：我知道我在这方面犯了一些愚蠢的错误，但无法弄清楚它到底是什么。

# jquery - 如何在 jquery 多选 asp 下拉列表中设置选中的值

> ID：12541381
> 
> 赞同：0
> 
> 时间：2012-09-22T06:32:56.290
> 
> 标签：jquery, asp.net, jquery-ui

我已经将此脚本用于 jquery 多选，因为我根据数组中的值获取数组中的值，它应该在 jquery 多选中检查。

asp 下拉列表 id: **ddlDepartment**

**hdnDepartment**在这个隐藏字段中，我将获得所有被检查的值

```
$(document).ready(function () {
            var revalue = new Array();
            if (document.getElementById("<%=hdnDepartment.ClientID %>").value != "") {
                var str = document.getElementById("<%=hdnDepartment.ClientID %>").value;
                var obj = $("#<%=ddlDepartment.ClientID %>");
                alert(obj);
                revalue = str.split(',');
                var i;
                for (i = 0; i < revalue.length; i++) {
                  //should reload that values in the checked in jquery multiselect 
                }

            }
        }); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-22T07:02:47.477

将 hdnDepartment 放在周围的 div 中

```
<div id="departmentCheck">
      <input type="hidden" value="true,true,false,false" id="hdnDepartment" />
</div> 
```

jquery应该是

```
$(document).ready(function () {
   var revalue = new Array();

    if ($('#departmentCheck input').val() != "") {

        var str = $('#departmentCheck input').val();
        revalue = str.split(',');
         var counter=0;

         $('#idOfMultiselect option').each(function(k,v){

            try{

               //if catch if there is no index at counter in revalue then default to false
               $(v).attr('checked', revalue[counter]);

             }
             catch{
                $(v).attr('checked',false);

             }

            counter++;

           });

            }
        }); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-23T11:18:27.633

如果我正确理解了您的问题，则无需将隐藏的元素包围在一个元素中。你得到元素的方式几乎是正确的；您错过了选择器中的哈希（即“#”）。

假设您使用的是 jQuery 1.6+，我相信以下代码将解决您的问题：

```
$(document).ready(function() {
    var values = $("#<%=hdnDepartment.ClientID %>").val();
    $.each(values.split(','), function(i, val) {
        $("#<%=ddlDepartment.ClientID %> option").eq(i).prop('checked') = (val === 'true');
    });
});​ 
```

# jquery - 如何将 JQuery 图像滑块与母版页一起使用？

> ID：12541382
> 
> 赞同：1
> 
> 时间：2012-09-22T06:33:31.390
> 
> 标签：jquery, asp.net, .net, html, css

我的情况是 jquery 在没有母版页的 aspx 页面中工作，但是母版页很糟糕。这就是我正在做的事情......我在 Home.aspx 页面的 mysite 中使用 jquery 图像滑块。

下面是带有母版页的 Home.aspx：

```
<%@ Page Title="" Language="C#" MasterPageFile="~/Site.Master" AutoEventWireup="true"
    CodeBehind="Home.aspx.cs" Inherits="WebApplication3.Home" %>

<asp:Content ID="Content1" ContentPlaceHolderID="HeadContent" runat="server">
</asp:Content>
<asp:Content ID="Content2" ContentPlaceHolderID="MainContent" runat="server">
    <div id="main">
        <h1>
            Apple-like Slideshow Gallery</h1>
        <div id="gallery" style="border: 1px solid red;">
            <div id="slides">
                <div class="slide">
                    <img src="Images/imac.jpg" />" width="920" height="400" alt="side" /></div>
                <div class="slide">
                    <img src="Images/iphone.jpg" />
                    width="920" height="400" alt="side" /></div>
                <div class="slide">
                    <img src="Images/macbook.jpg" />
                    width="920" height="400" alt="side" /></div>
            </div>
        </div>
    </div>
</asp:Content> 
```

这是 Master.aspx 编码：

```
<%@ Master Language="C#" AutoEventWireup="true" CodeBehind="Site.master.cs" Inherits="WebApplication3.SiteMaster" %>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head runat="server">
    <title></title>

    <link href="Styles/demo.css" rel="stylesheet" type="text/css" />
    <script src="Scripts/jquery-1.4.1.min.js" type="text/javascript"></script>
    <asp:ContentPlaceHolder ID="HeadContent" runat="server">
    </asp:ContentPlaceHolder>
</head>
<body>
    <form runat="server">
    <div class="page">
        <div class="clear hideSkiplink">
            <asp:Menu ID="NavigationMenu" runat="server" CssClass="menu" EnableViewState="false"
                IncludeStyleBlock="false" Orientation="Horizontal">
                <Items>
                    <asp:MenuItem NavigateUrl="~/Default.aspx" Text="Home" />
                    <asp:MenuItem NavigateUrl="~/About.aspx" Text="About" />
                </Items>
            </asp:Menu>
        </div>
        <asp:ContentPlaceHolder ID="MainContent" runat="server" />
    </div>
    </form>
</body>
</html> 
```

请帮我把这两个库放在哪个页面上：

```
<link href="Styles/demo.css" rel="stylesheet" type="text/css" />
         <script src="Scripts/jquery-1.4.1.min.js" type="text/javascript"></script> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-22T07:10:27.100

我已经找到了自己问题的答案，所以我想与大家分享。我在 Home.aspx 中做了一些小改动，我在内容占位符中添加了图像滑块的脚本路径。

在这里你可以看到区别：

```
<%@ Page Title="" Language="C#" MasterPageFile="~/Site.Master" AutoEventWireup="true"
    CodeBehind="Home.aspx.cs" Inherits="WebApplication3.Home" %>

<asp:Content ID="Content1" ContentPlaceHolderID="HeadContent" runat="server">
<script src="Scripts/script.js" type="text/javascript"></script>
</asp:Content>
<asp:Content ID="Content2" ContentPlaceHolderID="MainContent" runat="server">
    <div id="main">
        <h1>
            Apple-like Slideshow Gallery</h1>
        <div id="gallery" style="border: 1px solid red;">
            <div id="slides">
                <div class="slide">
                    <img src="Images/imac.jpg" />" width="920" height="400" alt="side" /></div>
                <div class="slide">
                    <img src="Images/iphone.jpg" />
                    width="920" height="400" alt="side" /></div>
                <div class="slide">
                    <img src="Images/macbook.jpg" />
                    width="920" height="400" alt="side" /></div>
            </div>
        </div>
    </div>
</asp:Content> 
```

# ruby - 我们如何在使用 ruby 的套接字编程中将 mp3 文件从客户端传输到服务器

> ID：12541387
> 
> 赞同：1
> 
> 时间：2012-09-22T06:34:45.370
> 
> 标签：ruby, sockets

嗨，我看到了将二进制文本文件从客户端传输到服务器以及从服务器传输到客户端的代码。但是我可以在使用 Ruby 的套接字编程中将 mp3 格式或任何音频文件从客户端传输到服务器吗？！

我尝试了以下代码服务器端

```
file = open('/pentest/windows/songs/temp.mp3', "rb") 
fileContent = file.read 
client.puts(fileContent) 
```

客户端：

```
sock = TCPSocket.open(host, port) 
data = sock.read 
destFile = File.open('/tmp/temp.mp3', 'wb') 
destFile.print data 
destFile.close 
```

它没有成功..你能建议吗

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-29T19:23:41.840

尝试这个，

在客户端

```
 require 'socket'
        SIZE = 1024 * 1024 * 10
        TCPSocket.open('127.0.0.1', 12345) do |socket| 
          File.open('c:/file.mp3', 'rb') do |file|
              while chunk = file.read(SIZE)
                socket.write(chunk)
              end
          end
        end 
```

在服务器中

```
 require 'socket'
         require 'benchmark'
         SIZE = 1024 * 1024 * 10
         server =  TCPServer.new("127.0.0.1", 12345)
         puts "Server listening..."            
         client = server.accept       
         time = Benchmark.realtime do
           File.open('c:/file.mp3', 'w') do |file|
             while chunk = client.read(SIZE)
               file.write(chunk)
             end
         end
        end 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-22T07:04:33.483

是的。mp3 文件无论如何都是二进制格式。您可以通过套接字传输的数据类型没有任何限制。

# iphone - iPhone ARKit 中的位置在一处重叠

> ID：12541392
> 
> 赞同：5
> 
> 时间：2012-09-22T06:35:24.983
> 
> 标签：iphone, objective-c, xcode, augmented-reality

我正在将 ARKit 用于我的增强现实应用程序之一。但我面临的问题是相机中的位置相互重叠。

当我尝试使用硬编码数据时，我能够在不同位置显示数据。现在我正在从服务器获取数据并将它们显示在 ARKit 上。这显示了所有相互重叠的位置。

这是我的代码：

```
for (NSDictionary *drop in drops)
{
    CLLocation *tempLocation = [[CLLocation alloc] initWithLatitude:[[[drop objectForKey:@"latitude"] objectForKey:@"text"] floatValue] longitude:[[[drop objectForKey:@"longitude"] objectForKey:@"text"] floatValue]];
    tempCoordinate = [ARGeoCoordinate coordinateWithLocation:tempLocation];
    tempCoordinate.inclination = M_PI/30;
    tempCoordinate.title = [[drop objectForKey:@"DropText"] objectForKey:@"text"];
    tempCoordinate.subtitle = [[drop objectForKey:@"DropPlace"] objectForKey:@"text"];
    tempCoordinate.type=[[[drop objectForKey:@"DropType"] objectForKey:@"text"] intValue];
    [tempLocationArray addObject:tempCoordinate];
    [tempLocation release];

}
[viewController addCoordinates:tempLocationArray];
[viewController startListening]; 
```

这显示所有滴重叠。我需要有关如何解决此问题的解决方案，或者我在这里做错了什么，将位置显示在另一个位置。请注意，我案例中的所有水滴都有不同的纬度和经度。我已经测试过了。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-10-26T07:01:17.130

我的代码没有问题，问题出在服务器上，它为我提供了相同地理位置的所有数据。一旦我开始获取不同地理位置的数据，我的问题就解决了。

# objective-c - 升级到 iOS 6 后 UISegmentedControl 的显示问题

> ID：12541394
> 
> 赞同：2
> 
> 时间：2012-09-22T06:35:53.417
> 
> 标签：objective-c, ios, uisegmentedcontrol, uiappearance

自从升级到 iOS 6 后，我的所有 UISegmentedControl 都出现了显示问题，我对其进行了一些自定义。这就是它的样子。

![UISegmentedControl](../Images/06a96cd2ed1d488abd8f83b4b0b376d3.png)

在 iOS 5 上完全没有问题，如果我在 iPhone 4 (iOS 5) 模拟器中运行，它显示正确。

这是我正在使用的代码：

```
UIImage *segmentUnselected = [[UIImage imageNamed:@"segmentedcontrol"] resizableImageWithCapInsets:UIEdgeInsetsMake(0, 15, 0, 15)];
UIImage *segmentSelected = [[UIImage imageNamed:@"segmentedcontrol_selected"] resizableImageWithCapInsets:UIEdgeInsetsMake(0, 15, 0, 15)];
[[UISegmentedControl appearance] setBackgroundImage:segmentUnselected forState:UIControlStateNormal barMetrics:UIBarMetricsDefault];
[[UISegmentedControl appearance] setBackgroundImage:segmentSelected forState:UIControlStateSelected barMetrics:UIBarMetricsDefault];
[[UISegmentedControl appearance] setBackgroundImage:segmentUnselected forState:UIControlStateDisabled barMetrics:UIBarMetricsDefault];

UIImage *segmentDivider = [UIImage imageNamed:@"segmentedcontrol_divider"];

[[UISegmentedControl appearance] setDividerImage:segmentDivider
                             forLeftSegmentState:UIControlStateNormal
                               rightSegmentState:UIControlStateNormal
                                      barMetrics:UIBarMetricsDefault];

[[UISegmentedControl appearance] setDividerImage:segmentDivider
                             forLeftSegmentState:UIControlStateDisabled
                               rightSegmentState:UIControlStateDisabled
                                      barMetrics:UIBarMetricsDefault]; 
```

我使用的图像应该没问题，它们有两种尺寸正常和@2x。告诉我你是否希望我提供一些细节。

**[更新]**

使用“正常” imageNamed:@"" 删除 cap inset 可调整大小的图像为我解决了这个问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-25T09:55:57.267

我遇到了同样的问题： [升级到 iOS 6 影响外观代理](https://stackoverflow.com/questions/12569300/appearance-proxy-affected-by-upgrade-to-ios-6#comment16935147_12569300)

有人建议我删除分隔线，但仍会显示一个空闲的蓝色空间： ![在此处输入图像描述](../Images/159effa00dbacf4ff64982e73a714bb9.png)

我有两个不同高度的分段控制器。看起来在 iOS6 中，按钮的背景图像没有正确调整大小，而是发生在分隔符上。所以可能我们必须对所有分段控制器使用相同的高度，直到它们发布修复。

或者

您可以为每个具有自定义高度的分段控制器创建一个子类，并使用该特定类上的外观代理应用图像

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-23T05:51:04.730

设置分段控件中每个条的宽度，它对我有用。但是对于 6 以外的任何 ios 版本，我只指定整个分段控件的宽度。

这应该可以解决分隔线很大并使分段控制按钮超出框架的问题。

```
float version = [[[UIDevice currentDevice] systemVersion] floatValue];
if (version >= 6.0) {
    [[UISegmentedControl appearance] setWidth:70 forSegmentAtIndex:0];
    [[UISegmentedControl appearance] setWidth:70 forSegmentAtIndex:1];
}else{
    segmentedControl.frame = CGRectMake(0, 0, 139, 30);
} 
```

# logging - Scriptella 如何生成日志文件？

> ID：12541400
> 
> 赞同：0
> 
> 时间：2012-09-22T06:36:36.813
> 
> 标签：logging, etl, scriptella

我希望 Scriptella 为每个要 ETLed 的原始文件生成一个日志文件，这只是 log4j 为 java 应用程序所做的。如何使这成为可能？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-07-06T19:07:35.390

可以直接从 ETL 文件调用任何日志记录 API。实现这一目标的最简单方法可能是使用带有内置 Rhino 支持（JavaScript）的脚本驱动程序：

```
<!DOCTYPE etl SYSTEM "http://scriptella.javaforge.com/dtd/etl.dtd">
<etl>
    <connection id="log4j" driver="script"/>

    <connection id="jul" driver="script"/>

    <script connection-id="jul">
        java.util.logging.Logger.getLogger("testLogger").info("This is JUL message");
    </script>

    <script connection-id="log4j">
        //For demo purposes!!!
        //Configures log4j to use console for output
        //Normally log4j should be configured by using a config file
        org.apache.log4j.BasicConfigurator.configure();
    </script>

    <script connection-id="log4j">
        org.apache.log4j.Logger.getLogger("testLoggerName").info("This is LOG4J message");
    </script>
</etl> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T10:33:43.563

你可以像这样声明一个连接

```
<connection id="log" driver="text" url="D:/tmp/out.log"/> 
```

然后像这样在您的查询中使用它

```
<query connection-id="dbConnectionIn">
    select * from table
    <script connection-id="log">
        Result  $column1, $comun2 
    </script>
</query> 
```

现在这会将其记录到 D:/tmp 下的文件中

# linux - 为什么 ctags -R 。不要为子目录中的源代码生成索引？

> ID：12541403
> 
> 赞同：1
> 
> 时间：2012-09-22T06:37:01.903
> 
> 标签：linux, vim, indexing, editor, ctags

当前目录：

```
[mirror@home libevent]$ ls
arc4random.c            bufferevent_sock.c     epoll.c                event_tagging.c      evutil.c           l                        Makefile.am         strlcpy-internal.h
autogen.sh              buffer_iocp.c          epoll_sub.c            evmap.c              evutil_rand.c      libevent_openssl.pc.in   Makefile.nmake      test
b                       changelist-internal.h  evbuffer-internal.h    evmap-internal.h     evutil_time.c      libevent.pc.in           minheap-internal.h  time-internal.h
buffer.c                ChangeLog              evconfig-private.h.in  evport.c             ht-internal.h      libevent_pthreads.pc.in  mm-internal.h       util-internal.h
bufferevent_async.c     ChangeLog-1.4          evdns.3                evrpc.c              http.c             LICENSE                  poll.c              whatsnew-2.0.txt
bufferevent.c           ChangeLog-2.0          evdns.c                evrpc-internal.h     http-internal.h    listener.c               ratelim-internal.h  whatsnew-2.1.txt
bufferevent_filter.c    compat                 event.3                evsignal-internal.h  include            log.c                    README              WIN32-Code
bufferevent-internal.h  configure.in           event.c                evthread.c           iocp-internal.h    log-internal.h           sample              win32select.c
bufferevent_openssl.c   defer-internal.h       event-internal.h       evthread-internal.h  ipv6-internal.h    m4                       select.c
bufferevent_pair.c      devpoll.c              event_iocp.c           evthread_pthread.c   kqueue.c           make_epoll_table.py      signal.c
bufferevent_ratelim.c   Doxyfile               event_rpcgen.py        evthread_win32.c     kqueue-internal.h  make-event-config.sed    strlcpy.c 
```

测试目录中有一些文件：

```
[mirror@home libevent]$ ls test/
bench.c              Makefile.am            regress_dns.c   regress_listener.c  regress_ssl.c        regress_zlib.c     test-fdleak.c    test-time.c      tinytest_local.h
bench_cascade.c      Makefile.nmake         regress_et.c    regress_main.c      regress_testutils.c  rpcgen_wrapper.sh  test-init.c      test-weof.c      tinytest_macros.h
bench_http.c         regress_buffer.c       regress.h       regress_minheap.c   regress_testutils.h  test-changelist.c  test-ratelim.c   tinytest.c
bench_httpclient.c   regress_bufferevent.c  regress_http.c  regress.rpc         regress_thread.c     test-dumpevents.c  test-ratelim.sh  tinytest_demo.c
check-dumpevents.py  regress.c              regress_iocp.c  regress_rpc.c       regress_util.c       test-eof.c         test.sh 
```

**测试目录中有很多具有 main() 函数的文件**：

```
[mirror@home libevent]$ find test/ -regex .*.c -exec grep main {} +
test/regress.c:struct testcase_t main_testcases[] = {
test/test-weof.c:main(int argc, char **argv)
test/regress_dns.c:/* FIXME: We should move this to regress_main.c if anything else needs it.*/
test/regress_buffer.c:  size_t remaining;
test/regress_buffer.c:  remaining = v[0].iov_len - 512;
test/regress_buffer.c:  tt_int_op(remaining, ==, v[0].iov_len);
test/regress_buffer.c:  remaining -= 8;
test/regress_buffer.c:  n = evbuffer_reserve_space(buf, remaining+64, v, 2);
test/regress_buffer.c:  tt_int_op(remaining, ==, v[0].iov_len);
test/regress_buffer.c:  remaining -= 1;
test/regress_buffer.c:  n = evbuffer_reserve_space(buf, remaining+64, v, 2);
test/regress_buffer.c:  tt_int_op(remaining, ==, v[0].iov_len);
test/regress_buffer.c:  /* Drain some of the remaining chunk, then add it to another buffer */
test/regress_main.c:    { "main/", main_testcases },
test/regress_main.c:main(int argc, const char **argv)
test/regress_main.c:    if (tinytest_main(argc,argv,testgroups))
test/tinytest.c:static int in_tinytest_main = 0; /**< true if we're in tinytest_main().*/
test/tinytest.c:        if (!in_tinytest_main) {
test/tinytest.c:                       " called from within tinytest_main.\n");
test/tinytest.c:tinytest_main(int c, const char **v, struct testgroup_t *groups)
test/tinytest.c:        ++in_tinytest_main;
test/tinytest.c:        --in_tinytest_main;
test/test-eof.c:main(int argc, char **argv)
test/test-ratelim.c:main(int argc, char **argv)
test/tinytest_demo.c:main(int c, const char **v)
test/tinytest_demo.c:   /* Finally, just call tinytest_main().  It lets you specify verbose
test/tinytest_demo.c:   return tinytest_main(c, v, groups);
test/test-time.c:main(int argc, char **argv)
test/bench_cascade.c:main(int argc, char **argv)
test/test-dumpevents.c:   remain in the future.
test/test-dumpevents.c:main(int argc, char **argv)
test/test-changelist.c:main(int argc, char **argv)
test/test-init.c:main(int argc, char **argv)
test/test-fdleak.c:main(int argc, char **argv)
test/bench_http.c:main(int argc, char **argv)
test/bench.c:main(int argc, char **argv)
test/bench_httpclient.c:main(int argc, char **argv) 
```

但在我使用之后：

```
ctags -R . 
```

打开vim，然后

```
:tag main
:g ] 
```

状态栏只显示：

```
E433: No tags file
E426: tag not found: main 
```

怎么了？**标签文件已经加载，为什么没有标签文件？**这令人困惑……

似乎由 ctags 生成的索引包含这些文件，其中包括主要功能：

```
3643 main    sample/dns-example.c    /^main(int c, char **v) {$/;"   f
3644 main    sample/event-read-fifo.c        /^main(int argc, char **argv)$/;"       f
3645 main    sample/hello-world.c    /^main(int argc, char **argv)$/;"       f
3646 main    sample/http-server.c    /^main(int argc, char **argv)$/;"       f
3647 main    sample/le-proxy.c       /^main(int argc, char **argv)$/;"       f
3648 main    sample/signal-test.c    /^main(int argc, char **argv)$/;"       f
3649 main    sample/time-test.c      /^main(int argc, char **argv)$/;"       f
3650 main    test/bench.c    /^main(int argc, char **argv)$/;"       f
3651 main    test/bench_cascade.c    /^main(int argc, char **argv)$/;"       f
3652 main    test/bench_http.c       /^main(int argc, char **argv)$/;"       f
3653 main    test/bench_httpclient.c /^main(int argc, char **argv)$/;"       f
3654 main    test/regress_main.c     /^main(int argc, const char **argv)$/;" f
3655 main    test/test-changelist.c  /^main(int argc, char **argv)$/;"       f
3656 main    test/test-dumpevents.c  /^main(int argc, char **argv)$/;"       f
3657 main    test/test-eof.c /^main(int argc, char **argv)$/;"       f
3658 main    test/test-fdleak.c      /^main(int argc, char **argv)$/;"       f
3659 main    test/test-init.c        /^main(int argc, char **argv)$/;"       f
3660 main    test/test-ratelim.c     /^main(int argc, char **argv)$/;"       f
3661 main    test/test-time.c        /^main(int argc, char **argv)$/;"       f
3662 main    test/test-weof.c        /^main(int argc, char **argv)$/;"       f
3663 main    test/tinytest_demo.c    /^main(int c, const char **v)$/;"       f
3664 main_callback   sample/dns-example.c    /^main_callback(int result, char type, int count, int ttl,$/;"  f       file:
3665 main_testcases  test/regress.c  /^struct testcase_t main_testcases[] = {$/;"    v       typeref:struct:testcase_t 
```

但是为什么 tag main, g ] 找不到包含 main 函数的文件列表？

**即使启用了 autochdir，romainl 的解决方案也适用于 :tag name**

我已经运行了：set tags=./tags,tags，即使当前目录更改为其他目录也可以工作，因为 autochdir 已启用，但 g ] 有时可能不起作用，为什么？

但 g ] 有时不起作用：

错误信息是**E257: cstag: tag not found**

**编辑 2**：.vimrc 的内容

```
cat ~/.vimrc
set autoindent
colorscheme desert
set number 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-22T07:21:24.017

这个`E433`错误意味着 Vim 没有找到你的`tags`文件，所以，不，**标签文件还没有加载。**

键入`:set tags`应输出如下内容：

```
./tags,tags 
```

这是默认值，它的意思是“查找`tags`位于当前文件目录中的文件，*然后*在当前目录中”。

因为您有`set autochdir`，所以您可能最终会进入一个没有`tags`文件的目录。例如，在`test`。

为了确保 Vim 找到你的`tags`文件，你应该使用类似的东西：

```
set tags=./tags,tags;$HOME 
```

这意味着“查找`tags`位于当前文件目录中的文件，*然后*在当前目录中*然后*在任何父目录中查找`$HOME`”。

***编辑***

好吧，上面的设置对我来说已经按预期工作了很长时间。但这是我刚刚做的小实验（`set autochdir`当然是用 ）：

1.  我在`~/workspace/accordion/`里面只包含一个文件，`accordion.js`.

2.  我做`$ ctags -R .`:`~/workspace/accordion/tags`是创建的。

3.  我愿意`$ mkdir -p aa/bb/cc/dd/ee/ff`。

4.  我愿意`$ vim aa/bb/cc/dd/ee/ff/test.js`。

5.  在 Vim 中，我会*按照预期*`:tag *mini`跳转到方法的声明，即位于中`mini()`的构造函数的成员。`Accordion()``~/workspace/accordion/accordion.js`

 *因为我已经`set tags=./tags,tags;$HOME`在我的`~/.vimrc`Vim 中正确地从一个目录爬到另一个目录，直到它到达`~/worspace/accordion/tags`. 即使我在一个不切实际的深度文件树中很深。

```
Is there an accordion/aa/bb/cc/dd/ee/ff/tags ? no, let's go up…
Is there an accordion/aa/bb/cc/dd/ee/tags ? no, let's go up…
Is there an accordion/aa/bb/cc/dd/tags ? no, let's go up…
Is there an accordion/aa/bb/cc/tags ? no, let's go up…
Is there an accordion/aa/bb/tags ? no, let's go up…
Is there an accordion/aa/tags ? no, let's go up…
Is there an accordion/tags ? yes! let's scan it! 
```

正如另一位评论者反复问您但没有成功，`:pwd`您在子目录中时的输出是什么？这是另一个请求： 的输出是`:call tagfiles()`什么？*

# asp.net - 检查必填字段之一未填写

> ID：12541404
> 
> 赞同：1
> 
> 时间：2012-09-22T06:37:13.353
> 
> 标签：asp.net, validation

我在 asp 中有注册表单，它有 30 个输入框，它们都有 RequiredFieldValidator 。当用户单击提交时，我如何发现至少有一个输入未填写并在提交按钮和输入控件旁边显示错误？

```
<fieldset>
        <legend>title :</legend>
        <asp:Table ID="Table3" runat="server">
            <asp:TableRow runat="server">
                <asp:TableCell runat="server"> :</asp:TableCell>
                <asp:TableCell runat="server">
                    <asp:TextBox ID="txtMadrakTahsili" runat="server" CssClass="Width"></asp:TextBox><asp:RequiredFieldValidator ID="RequiredFieldValidator13" runat="server" 
            ErrorMessage="*" Display="Dynamic" ControlToValidate="txtMadrakTahsili"></asp:RequiredFieldValidator>
                    </asp:TableCell>
                <asp:TableCell runat="server">reshte :</asp:TableCell>
                <asp:TableCell runat="server">
                    <asp:TextBox ID="txtReshteTahsili" runat="server" CssClass="Width"></asp:TextBox><asp:RequiredFieldValidator ID="RequiredFieldValidator25" runat="server" 
            ErrorMessage="*" Display="Dynamic" ControlToValidate="txtReshteTahsili"></asp:RequiredFieldValidator></asp:TableCell>
                <asp:TableCell ID="TableCell7" runat="server">mahale akhz :</asp:TableCell>
                <asp:TableCell ID="TableCell8" runat="server">
                    <asp:TextBox ID="txtMahalAkhzMadrak" runat="server" CssClass="Width"></asp:TextBox><asp:RequiredFieldValidator ID="RequiredFieldValidator14" runat="server" 
            ErrorMessage="*" Display="Dynamic" ControlToValidate="txtMahalAkhzMadrak"></asp:RequiredFieldValidator></asp:TableCell>
            </asp:TableRow>
            <asp:TableRow runat="server">
                <asp:TableCell runat="server">avg</asp:TableCell>
                <asp:TableCell runat="server">
                    <asp:TextBox ID="txtMoadel" runat="server" CssClass="Width"></asp:TextBox><asp:RequiredFieldValidator ID="RequiredFieldValidator15" runat="server" 
            ErrorMessage="*" Display="Dynamic" ControlToValidate="txtMoadel"></asp:RequiredFieldValidator></asp:TableCell>
            </asp:TableRow>
        </asp:Table>
    </fieldset> 
```

如果一个 og 输入未填写，则在此按钮旁边显示错误！

```
<p style="float:left; clear:both;">
        <asp:Button ID="Button1" runat="server" Text="ثبت اطلاعات" Height="54px" 
            style="margin-right: 0" Width="119px" onclick="Button1_Click" /></p> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-22T06:51:11.977

```
<asp:RequiredFieldValidator ID="RequiredFieldValidator13" runat="server" 
    ErrorMessage="The textbox is empty" Text="*" 
Display="Dynamic" ControlToValidate="txtMadrakTahsili"> 
```

当你使用`Text="*"``Textbox`时，如果您将其放在 附近，它会显示在旁边`Textbox`。

当您想一起显示所有验证错误时，该`ErrorMessage`属性很有用。

所以如果你想显示`Error Messages`关联的`Textboxes`话我建议你使用`ASP.NET` `ValidationSummary`控件

**[验证摘要控制](http://msdn.microsoft.com/en-us/library/dd5c6s6h%28v=vs.71%29.aspx)**

**例子：**

```
<asp:ValidationSummary ID="ValidationErrors" runat="server"
DisplayMode="BulletList" HeaderText="There are some errors on the page./> 
```

# android - 获取视图中显示的计时器的值

> ID：12541405
> 
> 赞同：2
> 
> 时间：2012-09-22T06:37:26.293
> 
> 标签：android, time, chronometer

我正在使用计时器在我的 android 应用程序中显示时间。

我想获取屏幕上显示的计时器值。我试着用

```
int stoppedMilliseconds = 0;
          String chronoText = chronometer.getText().toString();
          String array[] = chronoText.split(":");
          if (array.length == 2) {
            stoppedMilliseconds = Integer.parseInt(array[0]) * 60 * 1000
                + Integer.parseInt(array[1]) * 1000;
          } else if (array.length == 3) {
            stoppedMilliseconds = Integer.parseInt(array[0]) * 60 * 60 * 1000 
                + Integer.parseInt(array[1]) * 60 * 1000
                + Integer.parseInt(array[2]) * 1000;
          }
          chronometer.setBase(SystemClock.elapsedRealtime() - stoppedMilliseconds); 
```

并获得我使用的价值`long elapsedMillis = SystemClock.elapsedRealtime() - chronometer.getBase();`

它对我来说显示了一个特定的数字，它看起来不像屏幕上显示的时间。如果屏幕上的计时器显示 1 秒，我想得到精确的 1 秒而不是任何随机数。

有没有人可以帮我解决这个问题？

# java - 类似于 a^b 的快速函数

> ID：12541410
> 
> 赞同：3
> 
> 时间：2012-09-22T06:38:12.203
> 
> 标签：java, performance, function, pow

这有点晦涩，但我需要一个可以非常快速地计算并且类似于 a^b 的函数，其中 a 在 0 和 1 之间并且 b 非常大。对于许多 b，它将一次计算一个 a。理想情况下，结果将在 0.4% 以内。提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-22T07:11:29.713

对于您的特定情况（“一次计算一个 a 的多个 b”），我建议采用以下方法：

准备表格数据以供稍后在特定计算中使用：

*   确定 N 使得 2^N 对于每个可能的 b 都小于 b。

*   计算表 t：对于每个小于 N 的 n，t[n]=a^(2^n)。这实际上是通过 t[k+1]=t[k]*t[k] 完成的。

计算 a^b：

*   使用 b 的二进制表示，将 a^b 计算为 t[i1] *t[i2]* ...*t[ik] 其中 i1..ik 是 b 的二进制表示中非零位的位置。

这个想法是为不同的 b 重用 a^(2^n) 的值。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-22T06:48:00.980

将我的评论纳入答案：

既然您提到它`b`足够大以四舍五入为整数，那么一种方法是通过平方使用[二进制指数算法。](http://en.wikipedia.org/wiki/Exponentiation_by_squaring)

`Math.pow()`很慢，因为它需要处理非整数幂。因此，在您的情况下可能会做得更好，因为您可以利用整数幂算法。

* * *

与往常一样，对您的实现进行基准测试，看看它是否真的比`Math.pow()`.

* * *

这是 OP 发现的一个实现：

```
public static double pow(double a, int b) {
    double result = 1;
    while(b > 0) {
        if (b % 2 != 0) {
            result *= a;
            b--;
        } 
        a *= a;
        b /= 2;
    }

    return result;

} 
```

* * *

这是我的快速和肮脏（未优化）的实现：

```
public static double intPow(double base,int pow){
    int c = Integer.numberOfLeadingZeros(pow);

    pow <<= c;

    double value = 1;
    for (; c < 32; c++){
        value *= value;
        if (pow < 0)
            value *= base;
        pow <<= 1;
    }

    return value;
} 
```

这应该对所有积极的事情都有效`pow`。但我没有将它与`Math.pow()`.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-04-30T12:51:34.970

[Apache FastMath](https://commons.apache.org/proper/commons-math/javadocs/api-3.3/org/apache/commons/math3/util/FastMath.html#pow(double,%20int))`double pow(double d, int e)`为指数为整数的情况提供函数。

该[实现基于 Veltkamp 的 TwoProduct 算法](https://commons.apache.org/proper/commons-math/javadocs/api-3.3/src-html/org/apache/commons/math3/util/FastMath.html#line.1613)。用法类似于标准`Math.pow`函数：

```
import org.apache.commons.math3.util.FastMath;
// ...
FastMath.pow(3.1417, 2); 
```

# php - 按键显示数组顺序的最佳方式

> ID：12541411
> 
> 赞同：2
> 
> 时间：2012-09-22T06:38:38.413
> 
> 标签：php, arrays, sorting

```
<?php
$array = array(
    "1" => 'Hi',
    "4" => 'are',
    "3" => 'How',
    "7" => 'my',
    "6" => 'you',
    "9" => 'brother',
);

forEach($array as $key => $value) {
    echo $key;
    echo ':-';
    print_r($value);
    echo '<br/>';
}
?> 
```

这段代码的输出是

```
1:-Hi
4:-are
3:-How
7:-my
6:-you
9:-brother 
```

但我需要按键显示这个订单。请告诉我哪种方法最简单

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-22T06:42:03.013

使用[ksort](http://php.net/manual/en/function.ksort.php)

```
ksort($array);

foreach($array as $key => $value) {
    echo $key;
    echo ':-';
    print_r($value);
    echo '<br/>';
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-22T06:40:58.100

PHP 的好处是它有一个功能适用于所有事物。您可以使用该`ksort`函数按其键对数组进行排序：http: [//php.net/manual/en/function.ksort.php](http://php.net/manual/en/function.ksort.php)

您的新代码如下所示：

```
<?php
$array = array(
"1" => 'Hi',
"4" => 'are',
"3" => 'How',
"7" => 'my',
"6" => 'you',
"9" => 'brother',
);

ksort($array);

forEach($array as $key => $value) {
echo $key;
echo ':-';
print_r($value);
echo '<br/>';
}
?> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-22T06:42:41.217

使用`ksort()`，这将按关键顺序排列。

```
<?php
$array = array(
"1" => 'Hi',
"4" => 'are',
"3" => 'How',
"7" => 'my',
"6" => 'you',
"9" => 'brother',
);
ksort($array);

forEach($array as $key => $value) {
echo $key;
echo ':-';
print_r($value);
echo '<br/>';
}
?> 
```

# mysql - 两个mysql表的比较操作执行时间过长

> ID：12541416
> 
> 赞同：0
> 
> 时间：2012-09-22T06:39:10.627
> 
> 标签：mysql

我有 vps Mem:524 (215used) Swap:524(75used) ，mysql 5.1.61 和三个表。

具有一列“数据”的表“新”包含 100 000 条记录。

> 记录1
> 
> 记录2
> 
> 记录3

具有一列“数据”的表“旧”包含 1 000 000 条记录。

> 记录1
> 
> 记录4
> 
> 记录5

表“结果”也有一列“数据”。

我将表“新”与“旧”表进行比较，并将不在“旧”表中的“结果”记录插入到“结果”表中。在这个例子中，它将是

> 记录2
> 
> 记录3

我使用查询

```
INSERT INTO result 

SELECT data FROM new 

LEFT JOIN old USING (data) 

WHERE old.data IS NULL 
```

我的问题 - 这个查询执行一个多小时甚至更多（我等不及了）。

我想知道这种mysql操作的更快捷的方法。理想 - 10-20 分钟。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-22T06:53:37.293

我认为这个查询会更快：

```
insert into result
select data 
from new n
where not exists 
(select 1 from old where data = n.data) 
```

`data`并且对归档`new`和`old`表（但不在表中）的索引`result`将显着提高性能。

您可以通过以下方式添加索引：

```
create index ind1 on old(data) 
```

# javascript - 对齐初始化代码有什么问题？

> ID：12541417
> 
> 赞同：1
> 
> 时间：2012-09-22T06:39:27.623
> 
> 标签：javascript, code-formatting

来自[Google JavaScript 样式指南](http://google-styleguide.googlecode.com/svn/trunk/javascriptguide.xml?showone=Code_formatting#Code_formatting)：

> 长标识符或值会为对齐的初始化列表带来问题，因此总是更喜欢非对齐的初始化。例如：

```
CORRECT_Object.prototype = {
  a: 0,
  b: 1,
  lengthyName: 2
}; 
```

> 不像这样：

```
WRONG_Object.prototype = {
  a          : 0,
  b          : 1,
  lengthyName: 2
}; 
```

错误的看起来更好。我不明白他们在谈论什么样的问题。在冒号前插入几个制表符会以什么方式损害我的代码？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-22T06:48:52.917

两者都没有*错*。它更像是个人喜好而不是任何东西。避免那些额外的制表符/空格字符，将减少文件大小的一些字节，但如果您使用某种压缩器或压缩器，则无关紧要，因为这些*额外的*字符将被剥离。所以你可能应该坚持你最喜欢的，因为这并不重要。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-22T06:56:31.077

我认为问题在于，当它们相距如此之远时，要分辨左边的哪个键与右边的哪个值并不容易。

您可以妥协并使用制表位停止对齐，因此大多数值都会对齐，但不会有任何巨大的水平空间。

# jsf - 删除重复的错误消息 在 JSF 中

> ID：12541418
> 
> 赞同：0
> 
> 时间：2012-09-22T06:39:55.163
> 
> 标签：jsf

我有一个数据表，它的列包含输入文本字段，其中包含必需的 true 和必需的消息属性。因此，只要该数据表列中的一个以上字段为空，它就会多次显示相同的错误消息。但我只想显示该消息一次。

谁能帮我解决这个问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-22T09:48:58.303

不要使用`<h:messages>`. 改用`<h:message>`可以绑定到特定输入的。

```
<h:column>
    <h:inputText id="foo" required="true" />
    <h:message for="foo" />
</h:column> 
```

# php - 提交表单后PHP保持复选框选中

> ID：12541419
> 
> 赞同：11
> 
> 时间：2012-09-22T06:40:05.347
> 
> 标签：php, html

大家好，我有一个联系表和验证码在那里。我希望在提交表格后检查检查。我发布了文本框值，它显示正确，但复选框不起作用。这是我的代码。

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org /TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Untitled Document</title>
</head>

<body>
<form action = "" name="frmSubmit" method="post">
<input type="checkbox" name="txtCheck" value="<?php echo $_POST['txtCheck'];?>"  /><br />
<label>Name</label><br />
<input type="text" name="txtName" id="NameTextBox" value="<?php echo $_POST['txtName']; ?>" />
<br />
<label>E Mail</label><br />
 <input type="text" name="txtEmail" id="EmailTextBox" value="<?php  echo $_POST['txtEmail'];?>" />
 <input name="BtnSubmit" type="submit" onclick="MM_validateForm('NameTextBox','','R','EmailTextBox','','R');return document.MM_returnValue" value="Send" />
</form>
</body>
</html> 
```

提交表单后如何保留复选框。？

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2012-09-22T06:47:39.903

改变

```
<input type="checkbox" name="txtCheck" value="<?php echo $_POST['txtCheck'];?>"  /><br /> 
```

到

```
<input type="checkbox" name="txtCheck" value="your value" <?php if(isset($_POST['txtCheck'])) echo "checked='checked'"; ?>  /><br /> 
```

这将保持复选框选中..

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-22T06:44:42.980

如果提交的值不为空，则将`checked="checked"`属性添加到复选框：

```
<input type="checkbox" name="txtCheck" value="1" <?php if (!empty($_POST['txtCheck'])): ?> checked="checked"<?php endif; ?> /> 
```

但是，您可以保持该`value`属性不变。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-22T06:46:29.797

```
<input type="checkbox" name="txtCheck" <?php if($_POST['txtCheck']>0){ ?>checked="checked" <? }?> /> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-22T06:46:38.793

试试这个：

```
$checked = "";
if ($_POST['txtCheck']) {
  $checked = "checked";
  // May need to be "checked='checked'" for xhtml
}
<input type="checkbox" name="txtCheck" <?php echo $checked;?>  /><br /> 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2018-10-16T09:44:09.797

通过在复选框标签字段中应用三元条件，我们可以设置是否在表单提交时选中

```
<input type="checkbox" value="1" name="nofollow" <?=isset($_POST['nofollow'])?"checked":''; ?> > 
```

# javascript - Gridster 的替代品？

> ID：12541423
> 
> 赞同：22
> 
> 时间：2012-09-22T06:40:37.223
> 
> 标签：javascript, jquery, animation, drag-and-drop, grid

我已将[Gridster](http://gridster.net/)库用于使用拖放式多列网格的项目。遗憾的是，Gridster 仅支持 Internet Explorer 9+。我需要找到一个类似的易于使用的库，它可以让我使用 IE8 做同样的事情，并且如果可能的话还兼容 IE7 和 IE6。

那么，对于旧的 IE，有没有类似 Gridster 的库？我在这个项目中使用 jquery，所以基于 jquery 的库也可能很棒。

PS 我找到了一个叫[AnimaDrag](http://wayfarerweb.com/jquery/plugins/animadrag/)的，但它不如 Gridster 好，而且有点糟糕。

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2013-12-13T16:25:28.090

还有Shapeshift：[https ://github.com/McPants/jquery.shapeshift](https://github.com/McPants/jquery.shapeshift)

和网格：http: [//ksylvest.github.io/jquery-gridly/](http://ksylvest.github.io/jquery-gridly/)

这是 Gridster 的不错替代品。（但请注意，Gridly 仅适用于方形瓷砖）

编辑：Packery 也很有趣：[http](http://packery.metafizzy.co/) ://packery.metafizzy.co/ 。但是，它需要商业项目的商业许可证，否则：

> 对于非商业、个人或开源项目和应用程序，您可以根据 GPL v3 许可的条款使用 Packery。

编辑 2：这个也可能有用：[https ://github.com/uberVU/grid](https://github.com/uberVU/grid)

* * *

## 回答 #2

> 赞同：16
> 
> 时间：2015-05-08T19:03:10.200

你可以试试 Gridstack：[https](https://github.com/troolee/gridstack.js) ://github.com/troolee/gridstack.js 这是一个早期版本，但严格基于 gridster，它也是响应式的。

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2013-03-04T14:07:25.780

[注意，我在项目的 github 页面上发布了这个答案，内容是关于某人提出的类似问题。所以检查那里，以防这个答案被纠正！- https://github.com/ducksboard/gridster.js/issues/74]

过去几天我遇到了类似的问题——尽管我只需要 IE8 支持（尽管它似乎在 IE7 中工作）。问题是代码正在正确更新页面，但 IE 不会在鼠标移动时获取/评估数据行和数据列的更改。我从上面的解决方案中尝试了几件事，通过使用modernizr 和类似的库，最后尝试绑定到 IE only 'propertychange' 事件但没有成功。

这似乎是 IE8 的限制，它不会在鼠标向下/移动时重新评估正在使用 CSS 属性的元素。但是，它确实检测到类和内联更改（这就是您可以拖动框的原因）。

因此，我能找到的唯一解决方案是在需要使用 jQuery .toggle() 更新小部件时在代码中添加/删除假类。因此，当预览和小部件被传递新的 data-col 和 data-row 属性时，我在代码中添加了它。这迫使 IE8 接受更改并瞧瞧预览工作。

现在我确信除了不使用 IE8 之外还有一个（很多）更好的解决方案，它不能保证 IE8 的兼容性，但是如果你遇到困难，那么你可能会发现这很有帮助！

ps 我只需要担心 IE8+，IE7 在使用modernizr 和类似插件时似乎没问题。但是没有在 IE6 中尝试过，但我怀疑它会起作用。

[编辑]

在下面的评论之后，我现在上传了一个示例——尽管我无法让 IE8 与 JSFiddle 一起玩得很好。所以它在 IE8 中工作的例子就在这里：

[https://s3-eu-west-1.amazonaws.com/707074webfiles/gridster/ie8test.html](https://s3-eu-west-1.amazonaws.com/707074webfiles/gridster/ie8test.html)

我已经包含了 IE9.js，它（大部分）在这种情况下为预览添加了透明效果。

gridster.js 文件的修改副本在这里：

[https://github.com/Grozzer/gridster.js/blob/master/dist/jquery.gridster.js](https://github.com/Grozzer/gridster.js/blob/master/dist/jquery.gridster.js)

它确实包括与小部件大小调整相关的许多其他更改。但是，如果您只想要 IE8 更改，那么我想最好的答案是搜索它以查找 ie8compat。

在编写 ie8 的行更改时：

*   717：添加了 IE8 兼容性选项
*   2054 - 2056：为预览小部件添加了 .toggle 选项
*   2433 - 2435：为上移的任何小部件添加了 .toggle 选项
*   2488 - 2490：为向下移动的任何小部件添加了 .toggle 选项

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2019-05-04T15:16:17.003

那些看着这个想要做出反应的人有 react-grid-layout 似乎并没有解决太多问题：

[https://github.com/STRML/react-grid-layout](https://github.com/STRML/react-grid-layout)

或反应策展人：

[https://github.com/codetrove-development/react-curator](https://github.com/codetrove-development/react-curator)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-22T07:20:27.740

没错，gridster 支持 Internet Explorer 9+、Firefox、Chrome、Safari 和 Opera。
如果您希望支持较旧的 IE 浏览器（6+），为什么不围绕[jQuery draggable](http://jqueryui.com/demos/draggable/)和[jQuery droppable构建功能](http://jqueryui.com/demos/droppable/)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-10-30T08:55:20.457

您是否尝试过使用 polyfill 来模拟 gridster 的数据集功能？ [http://www.orangesoda.net/jquery.dataset.html](http://www.orangesoda.net/jquery.dataset.html)可能是一个不错的选择。

# javascript - vbscript：从经典的asp xml对象获取属性到javascript

> ID：12541424
> 
> 赞同：1
> 
> 时间：2012-09-22T06:40:38.997
> 
> 标签：javascript, asp-classic

我在将 xml 对象中的属性从经典 asp 中获取到 JavaScript 时遇到问题。以下是我的代码：

```
if(len>0){
<%for xx=0 to SNodes.length-1%>//asp code
{
 //Javascript code
var IXmlNode=xmlnewObj.createElement("I");
IXmlNode.setAttribute("a",document.getElementById('a'+xx).value);
IXmlNode.setAttribute("X","<%=SNodes.item(xx).getAttribute("PP")%>");
xmlnewObj.documentElement.appendChild(IXmlNode); 
<% next %>//asp code
}
} 
```

这里`SNodes`有xml，如：

```
<tag><tag1 a="iii" PP="asdasdf"/><tag1 a="aaa" PP="asdasdf"></tag> 
```

只有这条线困扰着我：

```
IXmlNode.setAttribute("X","<%=SNodes.item(xx).getAttribute("PP")%>"); 
```

这条线有什么问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-22T07:22:04.143

您首先要输出哪种 javascript？就目前而言，你会得到这样的东西，它永远不会起作用：

```
if (len > 0) {
    {
        var IXmlNode = xmlnewObj.createElement("I");
            IXmlNode.setAttribute("a", document.getElementById('a' + xx).value);
        IXmlNode.setAttribute("X", "PP");
        xmlnewObj.documentElement.appendChild(IXmlNode);
    }
    {
        var IXmlNode = xmlnewObj.createElement("I");
        IXmlNode.setAttribute("a", document.getElementById('a' + xx).value);
        IXmlNode.setAttribute("X", "PP2");
        xmlnewObj.documentElement.appendChild(IXmlNode);
    }
} 
```

它可以像这样工作，但我仍然怀疑这是你需要的：

```
if (len > 0) {
    (function() {
        var IXmlNode = xmlnewObj.createElement("I");
            IXmlNode.setAttribute("a", document.getElementById('a' + xx).value);
        IXmlNode.setAttribute("X", "asdasdf");
        xmlnewObj.documentElement.appendChild(IXmlNode);
    })();
    (function() {
        var IXmlNode = xmlnewObj.createElement("I");
        IXmlNode.setAttribute("a", document.getElementById('a' + xx).value);
        IXmlNode.setAttribute("X","asdasdf");
        xmlnewObj.documentElement.appendChild(IXmlNode);
    })();
} 
```

你最好的选择可能是将它变成一个函数并将你的 asp 变量传递给它：

```
if(len>0){
    <%for xx=0 to SNodes.length-1%>//asp code
    {
        xmlAppender(<%=xx%>, <%=SNodes.item(xx).getAttribute("PP")%>);
    }
    <% next %>
 }

var xmlAppender = function(i, childData) {
        var IXmlNode = xmlnewObj.createElement("I");
        IXmlNode.setAttribute("a", document.getElementById('a' + i).value);
        IXmlNode.setAttribute("X", childData);
        xmlnewObj.documentElement.appendChild(IXmlNode);
    };​ 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-22T06:47:53.820

使用反斜杠将第二个参数中的引号转义到 setAttribute 函数，或使用单引号。

# twitter-bootstrap - 内嵌文本的 twitter bootstrap 2.1 按钮

> ID：12541436
> 
> 赞同：0
> 
> 时间：2012-09-22T06:43:21.967
> 
> 标签：twitter-bootstrap

自 Twitter bootstrap 2.1 版以来，我的按钮不再与它们前面的文本垂直对齐。

显然，在以前的版本中， btn 类有一个 left: float ，现在不再是这种情况了。

我想改变我的页面以适应这种变化取决于我，但我不知道如何改变它。

这是 2.0 版中它的样子：http: [//jsfiddle.net/Sherbrow/5N6FQ/](http://jsfiddle.net/Sherbrow/5N6FQ/)

这是 2.1 版中的一个：http: [//jsfiddle.net/ndemoreau/UKwEU/](http://jsfiddle.net/ndemoreau/UKwEU/)

我能做些什么？

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-22T13:07:08.563

2.0 和 2.1 之间发生了很多变化，其中很多都与字体大小和行高有关。这是我想出的：[演示（jsfiddle）](http://jsfiddle.net/Sherbrow/UKwEU/2/)

```
h1 small { vertical-align: middle; }
h1 small .btn-group {
    display: inline-block;
    vertical-align: text-top;
} 
```

**我怀疑这真的是 centered**，但它应该足够接近。如果它在现实条件下不起作用（不同的按钮大小等），您应该尝试使用边距。

在 Firefox 15、Google Chrome 24 和 IE 9 上测试。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-08-07T10:04:17.100

将表格内的文本和按钮包装在单独的单元格中几乎可以为您提供解决方案。然后，您可以使用填充将按钮准确定位到您想要的位置。

这就是您需要的所有 css，它使您可以很好地控制定位：

```
.textbefore  {  }
.buttonafter { padding-top: 4px; padding-left: 8px; } 
```

一个有效的[JSFiddle 演示](http://jsfiddle.net/horduringi/DNVEH/)。

# php - 使用 jQuery ajax 的 PHP JSON 结果

> ID：12541437
> 
> 赞同：0
> 
> 时间：2012-09-22T06:43:36.613
> 
> 标签：php, jquery, ajax, json

我有以下 PHP 代码，它从发布的表单字段创建了 JSON 请求。

```
<?php
if ( isset($_POST['data']['Affiliate'])) { //Where ['data']['Affiliate'] is an array of posted field names of the form.
    $data = $_POST['data'];

    $base = 'https://api.whatever.com/Api?';

    $params = array(
        'Format' => 'json'
        ,'account' => $data['Affiliate']
    );

    $url = $base . http_build_query( $params );
    $result = file_get_contents( $url );
    $result = json_decode( $result );

    echo "<pre>";
    print_r( $result );
    echo "</pre>";
?> 
```

`print_r( $result )`打印以下内容。

```
stdClass Object
(
    [request] => stdClass Object
        (
            [Format] => json
            [account] => stdClass Object
                (
                    [country] => US
                    [address1] => asdasd
                    [city] => asdasd
                    [zipcode] => asdasd
                    [phone] => asdasd
                )
        )

    [response] => stdClass Object
        (
            [status] => -1
            [data] => 
            [errors] => Array
                (
                    [0] => stdClass Object
                        (
                            [err_code] => 3
                            [err_msg] => A user already exists with this email address.
                            [attribute_name] => Email
                            [publicMessage] => User account or user is not valid.
                        )
                    [1] => stdClass Object
                        (
                            [err_code] => 1
                            [err_msg] => City cannot be blank.
                            [attribute_name] => city
                        )
                )
        )
) 
```

我如何使用 JQuery Ajax 来实现相同的结果并打印出`<li>`标签中的错误数组。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-22T06:54:24.687

```
var errorsArr='';
var affiliate='';
//affiliate is your data of $data['Affiliate'] which you can get using jquery or js..
$.ajax({
    url:'https://api.whatever.com/Api?'
    data:{Format: 'json',account : affiliate},
    dataType:'json',
    success:function(data){
      errorsArr=data.response.errors;
    }
  }
}); 
```

您将在errorsArr 中得到所有错误。它是一个 json 数组，您可以对其进行迭代以获得所需的输出

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-22T06:55:56.917

我建议您不要像在此处那样将 JSON 解码为 PHP 对象，而是保留纯 JSON，将其提供给您的 AJAX 请求，然后在客户端进行解码（我相信有一个特殊的 jquery ajax 函数可以获得并已经为您解码。请参阅 Ravi 的答案）

但是，如果您不想这样做：为什么不访问您从中获得的对象的字段`json_decode()`？
我相信这`$result->$response->$errors`是您正在寻找的一系列错误。

# android - Galaxy Tab 10 布局限定符

> ID：12541442
> 
> 赞同：5
> 
> 时间：2012-09-22T06:44:54.057
> 
> 标签：android, layout, tablet

我正在开发一个可以在手机和平​​板设备上运行的应用程序。我在模拟器上测试过，效果很好。但是当我在真正的三星 Tab 上启动它时，它会使用手机布局。为了让平板电脑使用平板电脑布局，我应该使用哪些限定符？我尝试使用 layout-sw600dp 但它不起作用。

谢谢 ！

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-22T06:58:21.187

Android设备中的布局选择如下

layout -> Default（对手机布局有用），layout-large -> 5" 到 7" 平板电脑（如 Galaxy Note、Kindle Fire 等），layout-xlarge -> 7" 以上的平板电脑，layout-swdp -> 不管屏幕的当前方向，您的应用程序的 UI 至少有 dps 宽度可用。（在 Android 3.2 及更高版本中引入，这可能是 600dp dint 适合您的原因）。

更多详情 [http://developer.android.com/guide/practices/screens_support.html](http://developer.android.com/guide/practices/screens_support.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-10-27T10:18:04.987

会把它作为评论，因为它只完成了桑托什的回答，但我无权评论:)

因为我对它失去了一些神经（对不起，如果我太笨了），让我的应用程序忽略替代的 layout-x 文件夹，以免其他人，并且因为它没有明确地写在关于不同屏幕尺寸的 android 文档/教程中（一个提醒这个的链接会很好......），如果在你的清单中你没有这种类型的指令，以上所有都不会工作......

```
<supports-screens android:resizeable="true"
            android:smallScreens="true"
            android:normalScreens="true"
            android:largeScreens="true"
            android:xlargeScreens="true"
            android:anyDensity="true"
    /> 
```

# assembly - MIPS 上的 $zero 真的是硬件零吗？

> ID：12541443
> 
> 赞同：6
> 
> 时间：2012-09-22T06:45:58.873
> 
> 标签：assembly, mips, cpu-registers

我对 x86-64 汇编有点坚定（也许不是专家），但是从一个平台的汇编器到下一个平台的汇编器，许多方面都是相似的，所以我也在尝试回答实际上不在我知识范围内的问题，我偶然发现了几个关于 MIPS 汇编的问题。

这唤醒了我对细节的兴趣，所以我检查了几个在线资源以获取详细信息。[mips.com](http://www.mips.com)有很多内容可供阅读，但仅供参考：

寄存器只是传统的`$zero`零还是硬件零？

一些消息来源说它通常为零，另一些则声称它始终为零。还是后者只是假设它为零，因为它通常是？

提前感谢您的澄清（和/或指向 MIPS 网站上特定文档的指针，因此我不需要抓取我实际上不需要的信息）。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-09-22T21:55:19.353

可以在*MIPS32® 程序员架构第一卷：MIPS32® 架构简介*(pdf)中找到对此的**明确答案，可从****[mips.com 获得](http://www.mips.com/products/product-materials/processor/mips-architecture/)**（需要注册）。根据该文档中的第 2.4.8.1 节：

 *> 两个 CPU 通用寄存器具有指定的功能：
> 
> *   r0 被硬连线为零值，并且可以用作任何结果要被丢弃的指令的目标寄存器。当需要零值时，r0 也可以用作源。
>     
>     
> *   r31 是 JAL、BLTZAL、BLTZALL、BGEZAL 和 BGEZALL 使用的目标寄存器，而指令字中没有明确指定。否则 r31 用作普通寄存器。
>     
>     
> 
> 其余寄存器可用于通用用途。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-09-22T07:08:19.703

前 5 名的参考资料说它是一个硬（re|ired）零。

而且，无论多么令人惊讶，MIPS 并不是唯一拥有如此奇怪寄存器的人。

作为比较，TI 的 MSP430 有两个特殊寄存器：R2（*状态寄存器*）和 R3（*常数发生器*）。当您通过它们读取内存操作数（或直接读取 R3）时，您会获取以下预定义常量之一：-1、0、1、2、4、8。该常量取决于寄存器编号和访问类型（直接、索引、间接、间接+自动增量）。这减少了代码大小和（AFAIR）执行时间，因为否则立即常量占用 16 位并且需要获取。*

# asp.net-mvc - 在 linq 查询中将类型赋予匿名类型

> ID：12541449
> 
> 赞同：0
> 
> 时间：2012-09-22T06:46:58.437
> 
> 标签：asp.net-mvc, linq

我要做的是从我的数据库中获取特定值并将其解析到视图中以将其显示在表中。我遇到了与传递到字典中的模型项的类型相同的问题[.... {Models.App} 但我传递的是 {Models.App, System.Double}](https://stackoverflow.com/questions/6521775/the-model-item-passed-into-the-dictionary-is-of-type-models-app-but-what)并尝试以类似的方式解决我的问题。所以基本上我在模型中创建了一个类：

```
 public Vehicle manur_name {get; set;}
 public Vehicle manur_date { get; set; }
 public Vehicle daily_hire_rate { get; set; } 
```

但是当我在 linq 查询的控制器中使用它时，它给了我和错误。

```
 var s = from veh in db.Vehicles
 join c in db.VehicleCategories on veh.vehicle_category_code equals  c.
 join m in db.Models on veh.model_code equals m.model_code
 join man in db.Manufacturers on veh.manufacturer_code equals man.manufacturer_code
 where c.vehicle_category_description == cat && m.body_style == b                         
            select new CarClass {
                          manur_name = man.manufacturer_name, 
                          manur_date = m.model_code, 
                          daily_hire_rate = veh.daily_hire_rate}; 
```

它给了我错误：

> 错误：无法将“十进制”类型隐式转换为“carRentalMVC.Models.Vehicle” 无法将“字符串”类型隐式转换为“carRentalMVC.Models.Vehicle” 无法将“字符串”类型隐式转换为“carRentalMVC.Models.Vehicle”

这是解决问题后我在控制器中的内容：

```
 CarRentalDatabaseDataContext db = new CarRentalDatabaseDataContext();
    public ActionResult Index(String cat, String b, String sort)
    {
        String day_hire = "Daily hire rate";
        String man_date = "Manufacturing date";
        string man_n = "Manufacturer's name";

        var s = db.Vehicles.Where(c => c.Model.body_style == b)
             .Select(u => new CarClassViewModel { 
                 manur_name = u.Manufacturer.manufacturer_name, 
                 model_code = u.model_code,
                 daily_hire_rate = u.daily_hire_rate,
                 manur_date = u.manufacturing_date
             })
             .Distinct(); //I don't need repeating data

        //this is for sorting them, but I haven't implemented this in the view yet. 
        if (sort == man_n){s = s.OrderBy(c=>c.manur_name);}
        else if (sort == man_date){s = s.OrderBy(c =>c.manur_date);}
        else if (sort == day_hire){s = s.OrderBy(c => c.daily_hire_rate);}
        else{s = s.OrderBy(c => c.daily_hire_rate);}

        var v = s.Select(u => new CarClassViewModel
        {
            manur_name = u.manur_date,
            model_code = u.model_code,
            daily_hire_rate = u.daily_hire_rate,
        }); //this is for returning values I need

        return View(v); //I've tried View(v.ToList()) as well
    } 
```

现在这会在我的表中返回空行。我不为该方法解析数据是否重要？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-22T06:50:44.970

> 我不确定我做错了什么。

您的数据模型非常混乱。即使将命名约定放在一边，查看您的属性：

```
public Vehicle manur_name {get; set;}
public Vehicle manur_date { get; set; }
public Vehicle daily_hire_rate { get; set; } 
```

汽车的制造商名称*不是*车辆 - 它可能是一个字符串。汽车的制造日期*不是*车辆 - 它可能是`DateTime`. 汽车的每日租金*不是*车辆 - 它可能是`decimal`. 所以你的模型应该是这样的：

```
public string ManufacturerName { get; set; }
public DateTime ManufacturingDate { get; set; }
public decimal DailyHireRate { get; set; } 
```

让您的数据模型正确，其他一切都应该变得*简单*得多。话虽如此，这看起来也很可疑：

```
manur_date = m.model_code 
```

A "date" and a "code" don't sound like the same thing to me.

# linq - 使用 LINQ 在其他两个项目之间选择项目

> ID：12541456
> 
> 赞同：1
> 
> 时间：2012-09-22T06:47:59.967
> 
> 标签：linq, collections, dictionary

我正在尝试从字典中的键下方的单个集合创建字典集合是每个“k”类型的文件，每个键的值是“a”类型的文件。换句话说，我正在尝试建立父子关系，但文件名是唯一的，并不表示“a”和“k”文件类型之间的关系。唯一的关系是文件日期。例如，文件 4 将是一个键 b/c，它的类型为“k”，它的值将是文件 3 和 2，因为它们的文件日期大于文件 3 的日期。文件 1 不应包含为文件 4 的子文件，因为它的类型为“k”，即使它的日期大于文件 3。

可使用的单一集合：

```
IEnumerable<IFile>

file name   file type   file date
file1       k           2013-01-01
file2       a           2012-03-30
file3       a           2012-02-27
file4       k           2012-02-23
file5       a           2011-03-31
file6       k           2011-02-24
file7       a           2010-08-24
file8       a           2010-03-31
file9       k           2010-02-26 
```

期望的输出：

```
Dictionary<IFile, IEnumerable<IFile>>

key     value
file1   none b/c no files of type "a" exist with a date greater than file1
file4   file3, file2
file6   file5
file9   file8, file7 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-22T06:56:59.223

您可以执行以下操作：

```
var result = data.Where(x => x.Type == 'k')
                 .ToDictionary(x => x.Name,
                               x => data.Where(a => a.Type == 'a' &&
                                               a.Date >= x.Date)
                                        .Select(a => a.Name)
                                        .ToList()); 
```

但是，这并不能*完全*得到您想要的 - 因为 2010-02-26 的条目将包括*所有*未来的条目。所以这不仅仅是这种关系的一个例子：

> 例如，文件 4 将是一个键 b/c，它的类型为“k”，它的值将是文件 3 和 2，因为它们的文件日期大于文件 3 的日期。

听起来它实际上是：

> 例如，文件 4 将是一个键 b/c，它的类型为“k”，它的值将是文件 3 和 2，因为它们的文件日期大于文件 3 的日期*并且它们的文件日期小于文件 1 的日期*。

那会更棘手。你可能想要这样的东西：

```
var orderedKeys = data.Where(x => x.Type == 'k')
                      .OrderBy(x => x.Date)
                      .Concat(null); // You'll see why in a minute...

// Just for convenience. Could make this more efficient, admittedly.
var values = data.Where(x => x.Type == 'a').ToList();

var result = orderedKeys.Zip(orderedKeys.Skip(1),
                             (current, next) => new { current, next })
                        .ToDictionary(pair => pair.current.Name,
     // Sorry for the formatting...
     pair => values.Where(v => v.Date >= pair.current.Date &&
                               pair.next == null || v.Date < pair.next.Date)
                   .Select(v => v.Name)
                   .ToList()); 
```

那就是如果你想成为*真正*的 LINQ-y。不过，遍历按日期排序的键和值会更有效：

```
var ordered = data.OrderBy(x => x.Date);
var result = new Dictionary<string, List<string>>();
var currentList = null;
foreach (var item in ordered)
{
    if (item.Type == 'a' && currentList != null)
    {
        currentList.Add(item.Name);
    }
    else if (item.Type == 'k')
    {
        currentList = new List<string>();
        result[item.Name] = currentList;
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-22T14:21:49.477

这是一个相当简单的基于 LINQ 的解决方案（非常简洁，没有我的所有评论）：

```
// first, get the key files in order by date
var orderedKeys = files.Where(f => f.Type == 'k')
   .OrderBy(f => f.Date)
    // since I'm going to be enumerating this multiple times, call ToList() so we only
    // do the sort and filter once (if you don't care you could just inline this below)
    .ToList();

// start with all files of type 'a'
var dict = files.Where(f => f.Type == 'a')
    // group the 'a' files by the last key file whose date is <= the date of the 'a'
    // file. Since we've sorted the key files, this should be the correct parent for a
    .GroupBy(f => orderedKeys.Where(key => key.Type == 'k').Last(key => key.Date <= f.Date))
    // finally, convert the groups to a Dictionary
    .ToDictionary(g => g.Key, g => g); 
```

请注意，这有点低效，因为它循环遍历每个“a”文件可枚举的orderedKeys（如果文件列表不太大，简洁可能是值得的）。为避免这种情况，您可以使用非 LINQ 迭代解决方案，首先对整个文件列表进行排序。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-22T16:38:11.960

您可以使用[此答案](https://stackoverflow.com/a/11438442/480799)`Split`中的扩展方法来获取每个键的项目。然后，您可以使用项目的键并将序列转换为.`Zip``Dictionary`

```
var orderedFiles = files.OrderBy(f => f.Date).ToArray();
var keys = orderedFiles.Where(f => f.Type == 'k');
// Call Skip(1) to skip the items that are before any keys.
var itemGroups = orderedFiles.Split(f => f.Type == 'k').Skip(1);
var result = keys.Zip(itemGroups, (key, items) => new { key, items })
                 .ToDictionary(x => x.key, x => x.items); 
```

这是扩展方法：

```
public static IEnumerable<IEnumerable<TSource>> Split<TSource>(
    this IEnumerable<TSource> source,
    Func<TSource, bool> predicate)
{
    List<TSource> group = new List<TSource>();
    foreach (TSource item in source)
    {
        if (predicate(item))
        {
            yield return group.AsEnumerable();
            group = new List<TSource>();
        }
        else
        {
            group.Add(item);
        }
    }
    yield return group.AsEnumerable();
} 
```

# c# - Datalist控件的图像项上的自定义工具提示

> ID：12541460
> 
> 赞同：1
> 
> 时间：2012-09-22T06:48:35.240
> 
> 标签：c#, asp.net, tooltip, qtip2

我的用户控件中有一个 datalist 控件，并且我有图标图像 "detail.png" 。现在我想在该图像的点击事件上显示一些自定义的工具提示（比如这个[qTip_Tooltip ）。](http://craigsworks.com/projects/qtip2/demos/#ajax)问题是工具提示内容应该来自数据库。

图片中有两张桌子.. 1\. StudentMaster 。2\. StudentCategoryMaster。在使用工具提示之前，我有一个单独的页面，我们可以在其中查看特定学生的详细信息，如下所述。当我们必须查看特定学生的详细信息时，我必须传递 2 个参数，即。学生 ID 和学生类别 ID。像这样

aspx 代码

`<a href='<%# FormatStudentId((int)Eval("studentId"), (int)Eval("studentCategoryId")) %>'>`

.cs 代码

```
protected string FormatStudentId(int studentId, int studentCategoryId)
{
    return "StudentDetails.aspx?studentId=" + studentId.ToString() + "&studentCategoryId=" + studentCategoryId.ToString();
} 
```

因此，当我们必须显示 tooltiup 时，必须使用这 2 个 ID 传递工具提示。因此，动态工具提示场景将出现。

我的问题是，如何实现这一目标？请帮我。感谢您的阅读，我想我很清楚enuf，如果没有，请询​​问我的详细信息，我会给你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-22T07:43:49.673

details.png 将包含特定学生的工具提示？您可以按照与示例相同的方式并动态填充 p 标签

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-22T09:22:31.697

按照您想要的方式使用`<AjaxControlToolkit:HoverMenuExtender>`和编辑。`<div>``<asp:Panel>`

像这样..

```
<asp:Panel ID's ...>
<div style="">
<%#Eval("studentDescription")%>
<br />
</div> 
```

谷歌这个扩展器，你会发现很多很好的例子。

# javascript - 使用 jquery 加载内容

> ID：12541465
> 
> 赞同：0
> 
> 时间：2012-09-22T06:50:04.237
> 
> 标签：javascript, jquery-ui, jquery

好的，问题来了：在我的索引页面中，我有 4 个选项卡菜单、主页/联系方式/关于/常见问题解答和 #content div。当我单击每个选项卡时，结果会出现在#content div 中。

主页按钮的内容已经写入索引页面，而所有其他选项卡都是外部页面。以下脚本只能完美调用外部页面。

代码：http: [//jsfiddle.net/gf5US/](http://jsfiddle.net/gf5US/)

如您所见，在第一次加载时，会显示“主页选项卡的内容”，如果您单击常见问题解答，则会加载 faq.php，但是我无法返回主页。我该如何解决这个问题，以便我可以在同一索引页面中显示外部页面和本地 div 之间的组合？（一个建议是将主页设为外部页面，但这不是我想要的）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-22T07:06:50.050

在我看来，这里只有两种方法可以做到这一点，因为其中一种内容`#content`被其他选项卡的内容替换，您需要取回主页的内容。现在您可以选择通过 Ajax 或普通 GET 请求来获取它。

一种是通过 Ajax 在索引页面中加载 Home 选项卡的内容（通过在文档就绪事件处理程序中使用 jQuery 的 load 方法加载它），在这种情况下，您当前的脚本将按原样工作。但是，我不知道你为什么不想要这个。

当用户单击主页选项卡时，另一种方法可以加载完整的索引页面。对于这个脚本将是

```
$(function() {
$('#nav a').click(function() {
    var page = $(this).attr('href');
    var id = $(this).attr('id');
    if (id == 'home') {
        window.location.href = "index.php";
    } else {
        $('#content').load(page + '.php');
    }
    return false;
    });
}); 
```

# html - div溢出页面宽度

> ID：12541466
> 
> 赞同：0
> 
> 时间：2012-09-22T06:50:30.370
> 
> 标签：html, css

我会直截了当地解决我的问题。我从另一个运行良好的站点复制了我站点的模板。到目前为止，我已经解决了大多数问题，除了一个我无法找出问题所在。每当在我的 iPhone 上加载 web 应用程序时，页面的宽度都会设置为设备默认值，但我可以水平滚动页面并看到空白空间![看我所见](../Images/800d7eccb6c559aac58843f13f42663f.png)以前是否有人遇到过这个问题，如果有，是否有解决方法? 该页面可以在这里查看：**链接已删除**随意查看源代码。（我没有写大部分，它很乱，但到目前为止效果很好）。谢谢您的帮助！

**编辑：**我假设它是一个 div 使页面像它一样溢出，这就是为什么我把它放在标题中。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-22T07:09:44.407

我强烈建议使用 Adob​​e Shadow 来调试问题： http: [//labs.adobe.com/technologies/shadow/](http://labs.adobe.com/technologies/shadow/)

是的，我知道这是一个建议，而不是答案。

# android - jQuery UI Dialog 后面的链接在 Android 上是可点击的

> ID：12541467
> 
> 赞同：1
> 
> 时间：2012-09-22T06:50:37.827
> 
> 标签：android, jquery, html, jquery-ui, dialog

我正在使用 jQuery UI 对话框来显示外部 html 文件的内容。

它适用于除 Android 之外的所有浏览器和设备，其中对话窗口后面的页面上的链接是可点击的 - 即，如果我点击对话窗口内的某个地方并且下面有一个链接。它们实际上并没有链接到任何地方，但链接周围会出现一个大的绿色框。

我怎样才能阻止这种情况发生？

```
$('#myBtn').click(function(e){
    var width = $(window).width() * 0.8;
    $('#dialog').html('');
    $('#dialog').load('retail.html').dialog({
        autoOpen: false,
        title: 'Browse By Genre',
        width: width,
        height: 'auto',
        position: ['top',20],
        modal: true
    $('#dialog').dialog('open');
}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-24T17:54:49.210

当我弹出对话框时，我实际上隐藏了页面。我在使用 android 和对话框时遇到了很多问题。我也在手指输入的中心点击。

# java - ！过滤器是什么意思？

> ID：12541470
> 
> 赞同：1
> 
> 时间：2012-09-22T06:51:01.887
> 
> 标签：java, object, web-crawler, crawler4j

我最近实现[了 Crawler4j](http://code.google.com/p/crawler4j/)，我试图通过逐行分解代码来自学代码。我无法理解下面代码行中的 !FILTERS 对象的含义。

```
 @Override
    public boolean shouldVisit(WebURL url) {
            String href = url.getURL().toLowerCase();
            return !FILTERS.matcher(href).matches() && href.startsWith("http://www.ics.uci.edu/");
    } 
```

如果有人帮助我理解，将不胜感激！过滤器

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-22T06:53:12.803

它只是一个条件的否定......你应该这样阅读它：

```
! ( FILTERS.matcher(href).matches() ) [...] 
```

基本上，如果过滤器与 href 不匹配，并且 href 以“http://www.ics.uci.edu/”开头，则该函数将返回 true。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-22T06:53:09.260

的相反值`FILTERS.matcher(href).matches()`。基本上感叹号也称为`negate`符号。

如果此条件：`FILTERS.matcher(href).matches()`返回 true，则将其更改为 false。

# android - 我对 Android 和 Eclipse 环境都很陌生...无法运行我的第一个应用程序

> ID：12541474
> 
> 赞同：1
> 
> 时间：2012-09-22T06:51:27.903
> 
> 标签：android

我对 android 应用程序开发和 Eclipse 环境非常陌生。我按照以下步骤在我的工作空间上运行我的第一个 Android 应用程序。

1.  安装了 Eclipse 4.2(Juno) 版本。
2.  安装JDK 7U7 64位版本。
3.  为 Eclipse 安装了 ADT 插件。
4.  Eclipse-> 新建 Android 项目。
5.  无需对代码进行任何更改，只需运行项目即可。

以下是控制台消息，我得到：

```
12:03:49,155 INFO  [main] Main  - javax.xml.transform.TransformerFactory=null
12:03:49,157 INFO  [main] Main  - java.endorsed.dirs=C:\Program Files\Java\jre7\lib\endorsed
12:03:49,162 INFO  [main] Main  - launchFile: C:\Users\chandu\workspace\.metadata\.plugins\org.eclipse.wst.xsl.jaxp.launching\launch\launch.xml
12:03:49,219 FATAL [main] Main  - No embedded stylesheet instruction for file: file:/C:/Users/chandu/workspace/My%20First%20App/res/layout/activity_main.xml
org.eclipse.wst.xsl.jaxp.debug.invoker.TransformationException: No embedded stylesheet instruction for file: file:/C:/Users/chandu/workspace/My%20First%20App/res/layout/activity_main.xml
    at org.eclipse.wst.xsl.jaxp.debug.invoker.internal.JAXPSAXProcessorInvoker.transform(JAXPSAXProcessorInvoker.java:225)
    at org.eclipse.wst.xsl.jaxp.debug.invoker.internal.JAXPSAXProcessorInvoker.transform(JAXPSAXProcessorInvoker.java:186)
    at org.eclipse.wst.xsl.jaxp.debug.invoker.internal.Main.main(Main.java:73)
Caused by: org.eclipse.wst.xsl.jaxp.debug.invoker.TransformationException: No embedded stylesheet instruction for file: file:/C:/Users/chandu/workspace/My%20First%20App/res/layout/activity_main.xml
    at org.eclipse.wst.xsl.jaxp.debug.invoker.internal.JAXPSAXProcessorInvoker.transform(JAXPSAXProcessorInvoker.java:214)
    ... 2 more 
```

在此先感谢您提供有关此问题的任何帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T08:07:45.550

您似乎正在尝试运行 activity_main.xml 文件。如果您在 Project Explorer 视图中的当前选择位于文件 activity_main.xml 上，则可能会发生这种情况。关闭文件的编辑器并将当前选择设置为 Project Explorer 中的项目根节点，然后尝试运行应用程序。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-22T06:57:18.007

是的。它也从未对我有用。我使用带有插件的 NetBeans 7 IDE。

说明在这里： http: [//kenai.com/projects/nbandroid/pages/Install](http://kenai.com/projects/nbandroid/pages/Install) 主页在这里：http: [//kenai.com/projects/nbandroid](http://kenai.com/projects/nbandroid)

祝你好运

# c++ - 在 ListView 中启用分组 - 句柄无效？

> ID：12541475
> 
> 赞同：0
> 
> 时间：2012-09-22T06:51:31.743
> 
> 标签：c++, winapi, listview, grouping, common-controls

我不明白以下情况：

```
 HWND hListView = CreateWindowEx( 0, WC_LISTVIEW, NULL, WS_CHILD | WS_VISIBLE |
                                   LVS_REPORT | LVS_EDITLABELS | LVS_SHOWSELALWAYS, 0,
                                   0, rcl.right - rcl.left, rcl.bottom - rcl.top,
                               hMain,( HMENU ) 1000, inst, NULL);
    int error = GetLastError();//error=0;
    //ListView is displayed correctly
    //Some Code for columns
    //Now trying to enable grouping via SendMessage or following macro returns error:6?
    //What the...
    ListView_EnableGroupView(hListView, TRUE);
    error = GetLastError();//error=6;ERROR_INVALID_HANDLE
    //Some Code for Items 
```

那么我错过了什么;D？当句柄就在上面时出现这个错误很有趣，为其他事情工作（列，行/项目）

Edit_1 - 7:27（格林威治标准时间）：是的，在创建列/项目/组和各种组合之后放置它总是错误 6，这里是代码：

```
 //Groups - Send-Recv
LVGROUP lvg;
lvg.cbSize = sizeof(LVGROUP);
lvg.mask = LVGF_HEADER | LVGF_GROUPID;

lvg.pszHeader = L"Gr1";
lvg.iGroupId = 1;
ListView_InsertGroup( hListView, - 1, & lvg );
//MessageBoxA(NULL, i2s(GetLastError()).c_str(), "ERROR2", MB_OK | MB_ICONERROR);
lvg.pszHeader = L"Gr2";
lvg.iGroupId = 2;
ListView_InsertGroup( hListView, - 1, & lvg );
    //Enable
ListView_EnableGroupView(hListView, TRUE);
//error 6 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-22T11:02:18.143

仅当您从 Windows api 函数获得失败返回代码**并且**文档告诉您 api 函数设置了最后一个错误*时，才调用 GetLastError()。*

 **您对 ListView_EnableGroupView() 的使用也不是这种情况。**

# jquery - 使用 jquery ajax 重定向到另一个域

> ID：12541478
> 
> 赞同：-2
> 
> 时间：2012-09-22T06:51:38.737
> 
> 标签：jquery, json

> **可能重复：**
> [jquery（ajax）重定向到另一个域](https://stackoverflow.com/questions/12540846/jquery-ajax-redirect-to-another-domain)

我有以下格式的 jQuery Ajax 请求：

```
$.ajax({
        url: 'xyz.com',
        cache: false,
        success: function(data){}
      ); 
```

如果请求失败（服务器没有响应），我如何重定向到另一个域。

我通过以下方式使用 jquery getJson 做了同样的事情：

```
$.getJSON('xyz.com',function(result) {})
 .error(
    function(xhr, textStatus, errorThrown){
        if (xhr.status == 500) {
            $.getJSON('zxy.com', function(result){});
        }
    });
}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-22T06:58:07.397

**演示**：http: [//jsfiddle.net/dYgfG/](http://jsfiddle.net/dYgfG/)

**代码**：

```
var domain = "http://xyz.com";

try {
    $.ajax({
        url: domain,
        cache: false,
        success: function(data){},
        error: function() {
            alert('ajax error: so redirecting');
            redirectUser();
        }
    });
}
catch(e) {
    alert('exception: so redirecting');
    redirectUser();
}

function redirectUser() {
    window.location.href = domain;        
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-22T06:53:46.997

我认为您应该使用 : `crossDomain`ajax 属性。检查jquery api[链接](http://api.jquery.com/jQuery.ajax/)

# c# - 故事板只运行一次

> ID：12541479
> 
> 赞同：0
> 
> 时间：2012-09-22T06:51:49.963
> 
> 标签：c#, wpf, xaml

这是我的代码：

```
 <Style  TargetType="ContentControl" x:Key="MenuItemsStyle">
                <Setter Property="Background" Value="Transparent"/>
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate>
                          <Border Name="mainBorder" VerticalAlignment="Stretch" HorizontalAlignment="Stretch">
                                        <Border.Style>
                                            <Style TargetType="Border">
                                                <Setter Property="BorderThickness" Value="1.2"/>
                                                <Setter Property="Background" >
                                                    <Setter.Value>
                                                        <SolidColorBrush Color="Transparent"/>
                                                    </Setter.Value>
                                                </Setter>
                                                <Setter Property="BorderBrush" >
                                                    <Setter.Value>
                                                        <SolidColorBrush Color="Transparent"/>
                                                    </Setter.Value>
                                                </Setter>
                                                <Style.Triggers>
                                                    <EventTrigger RoutedEvent="Border.MouseEnter">
                                                        <BeginStoryboard Storyboard="{StaticResource BorderEnterStoryBoard}"/>
                                                    </EventTrigger>
                                                    <EventTrigger RoutedEvent="Border.MouseLeave">
                                                        <BeginStoryboard Storyboard="{StaticResource BorderLeaveStoryBoard}"/>
                                                    </EventTrigger>
                                                </Style.Triggers>
                                            </Style>
                                        </Border.Style>
                                        <ContentPresenter VerticalAlignment="Stretch" HorizontalAlignment="Stretch"
                                                          Content="{TemplateBinding ContentControl.Content}">
                                            <ContentPresenter.Triggers>
                                                <EventTrigger RoutedEvent="ContentPresenter.MouseDown">
                                                    <BeginStoryboard Storyboard="{StaticResource ViewPort3DStoryBoard}"/>
                                                </EventTrigger>
                                            </ContentPresenter.Triggers>
                                        </ContentPresenter>
                                    </Border>
                         </ControlTemplate>
                    </Setter.Value>
                </Setter>
                <Style.Triggers>
                    <EventTrigger RoutedEvent="ContentControl.MouseDown">
                        <BeginStoryboard Storyboard="{StaticResource ContentControlStoryBoard}"/>
                    </EventTrigger>
                </Style.Triggers>
            </Style> 
```

如您所见，我在窗口资源中创建了 4 个故事板，然后将它们用于样式和模板。

1.**我怎样才能运行一次故事板？**用户单击内容控件后，内容控件现在填充窗口空间，如果用户再次单击内容控件，我希望动画（情节提要）不再运行。（我想停止所有情节提要均采用边框样式，模板和内容控件样式） 2.我怎样才能更好地做到这一点（我的意思是使用 1 或 2 个故事板并调用它们一次，例如在鼠标按下内容时调用所有内容）

**编辑：** 故事板在这里：

```
<Window.Resources>

        <Storyboard Name="ViewPort3DStoryBoard" x:Key="ViewPort3DStoryBoard">
            <DoubleAnimation Storyboard.TargetName="aar3D" Storyboard.TargetProperty="Angle" From="0" To="90" Duration="0:0:0.2"/>
            <DoubleAnimation Storyboard.TargetName="aar3D" Storyboard.TargetProperty="Angle" From="-90" To="0" Duration="0:0:0.25" BeginTime="0:0:0.2"/>
        </Storyboard >
        <Storyboard Name="ContentControlStoryBoard" x:Key="ContentControlStoryBoard">
            <DoubleAnimation Storyboard.TargetProperty="(ContentControl.Width)" To="{x:Static SystemParameters.PrimaryScreenWidth}" Duration="0:0:0.45" BeginTime="0:0:0"/>
            <DoubleAnimation Storyboard.TargetProperty="(ContentControl.Height)" To="{x:Static SystemParameters.PrimaryScreenHeight}" Duration="0:0:0.45" BeginTime="0:0:0"/>
            <ThicknessAnimation To="0" Storyboard.TargetProperty="(ContentControl.Margin)" Duration="0:0:0.25" BeginTime="0:0:0"/>
            <DoubleAnimation To="0" Storyboard.TargetProperty="(Canvas.Top)" Duration="0:0:0.25" BeginTime="0:0:0"/>
            <DoubleAnimation To="0" Storyboard.TargetProperty="(Canvas.Left)" Duration="0:0:0.25" BeginTime="0:0:0"/>
        </Storyboard>
        <Storyboard Name="BorderEnterStoryBoard" x:Key="BorderEnterStoryBoard">
            <ColorAnimation From="Transparent" To="#FF007ACC" Duration="0:0:0.1" Storyboard.TargetProperty="(Border.BorderBrush).(SolidColorBrush.Color)"/>
            <ColorAnimation From="Transparent" To="#26FFFFFF" Duration="0:0:0.1" Storyboard.TargetProperty="(Border.Background).(SolidColorBrush.Color)"/>
        </Storyboard>
        <Storyboard Name="BorderLeaveStoryBoard" x:Key="BorderLeaveStoryBoard">
            <ColorAnimation From="#FF007ACC" To="Transparent" Duration="0:0:0.3" Storyboard.TargetProperty="(Border.BorderBrush).(SolidColorBrush.Color)"/>
            <ColorAnimation From="#26FFFFFF" To="Transparent" Duration="0:0:0.3" Storyboard.TargetProperty="(Border.Background).(SolidColorBrush.Color)"/>
        </Storyboard>
</Window.Resources> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-22T17:53:51.633

VB

```
 Dim s As New Storyboard
   s = CType(FindResource("YourStoryBoardName"), Storyboard)
   s.Begin() 
```

C＃

```
 Storyboard s 
    s = this.FindResource("YourStoryBoardName") as Storyboard;
    s.Begin(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-23T11:35:26.630

Fillbeavior Stop 应该可以解决问题

[http://msdn.microsoft.com/en-us/library/system.windows.media.animation.timeline.fillbehavior.aspx](http://msdn.microsoft.com/en-us/library/system.windows.media.animation.timeline.fillbehavior.aspx)

# android - Android：使用主题自定义自动完成文本视图的列表

> ID：12541481
> 
> 赞同：0
> 
> 时间：2012-09-22T06:52:21.350
> 
> 标签：android, autocomplete, android-theme

我想自定义我的自动完成文本视图的下拉列表。我已经使用 android:dropDownVerticalOffset="10dp" 来获取列表，现在我必须为列表使用特定的主题。下面是我要使用的主题。

![自动完成文本视图的主题](../Images/f7a155b5487a767ec993bb842a50cb38.png)

我尝试使用 android:dropDownAnchor=""，但根本没有成功。请帮助克服这个问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-22T07:24:06.777

使用自定义适配器为 AutoCompleteTextView 提供自定义视图。

```
public class AutoCompleteAdapter extends BaseAdapter implements Filterable{

    ArrayList<String> search;

    public AutoCompleteAdapter() {
        super();
        search = new ArrayList<String>();
    }

    @Override
    public int getCount() {
        return search.size();
    }

    @Override
    public PcsContact getItem(int index) {
        return search.get(index);
    }

    @Override
    public long getItemId(int position) {
        return position;
    }

    @Override
    public View getView(final int position, View convertView, ViewGroup parent) {           
        //use ur custom view here. Inflate the view from xml.
        return convertView;
    }

    @Override
    public Filter getFilter() {

        return new Filter() {

            @Override
            protected void publishResults(CharSequence constraint, FilterResults results) {
                if (results != null && results.count > 0) {
                    notifyDataSetChanged();
                }
            }

            @Override
            protected FilterResults performFiltering(CharSequence constraint) { 

                results.values = search.clone();
                results.count = search.size();

                return results;
            }
        };
    }       
} 
```

使用 Spannable String 将未键入的结果设置为粗体询问我是否需要更多帮助。

# java - 为什么会有两个“新意图”？他们会做出两个不同的意图吗？

> ID：12541482
> 
> 赞同：0
> 
> 时间：2012-09-22T06:52:26.920
> 
> 标签：java, android

对于下面的代码，如您所见，一个`new Intent`在 中`bindService()`，另一个`new Intent`出现在`startService()`. 我只是想知道最终是否会有两个意图？还是两个Intent都还可以？

```
bindService(new Intent(this, MusicPlayerService.class),
        mPlaybackConnection, Context.BIND_AUTO_CREATE);
startService(new Intent(this, MusicPlayerService.class)); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-22T07:02:30.127

这段代码相当于：

```
Intent intent = new Intent(this, MusicPlayerService.class);
bindService(intent, mPlaybackConnection, Context.BIND_AUTO_CREATE);
startService(intent); 
```

`Intent`在您提供的代码中，每次都会创建一个相同的对象。

代码在它们都做同样的事情的意义上是等价的。但是，始终使用一个 Intent 会非常非常快，因为该对象只创建一次。除此之外，两者都是正确的，并且都做同样的事情。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-22T07:37:01.403

我不认为这段代码，

```
bindService(new Intent(this, MusicPlayerService.class),
        mPlaybackConnection, Context.BIND_AUTO_CREATE);
startService(new Intent(this, MusicPlayerService.class)); 
```

相当于，

```
 Intent intent = new Intent(this, MusicPlayerService.class);
bindService(intent, mPlaybackConnection, Context.BIND_AUTO_CREATE);
startService(intent); 
```

在第一个中，创建了两个不同的意图。但是在第二个中，只创建了一个意图，所以最好使用第二个代码。

# c# - 如何在特定时间间隔内将“图像”一个地方移动到另一个地方

> ID：12541483
> 
> 赞同：0
> 
> 时间：2012-09-22T06:52:35.487
> 
> 标签：c#, winforms, visual-studio-2010, image, timer

我怎样才能将`Image`一个地方移动到另一个地方，特别是`time intervals`在`C#`？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-22T11:51:27.747

通过使用 System.Windows.Forms.Timer 类，您可以实现您所需要的。

```
System.Windows.Forms.Timer t = new System.Windows.Forms.Timer();

t.Interval = 15000; // specify interval time as you want
t.Tick += new EventHandler(timer_Tick);
t.Start();

void timer_Tick(object sender, EventArgs e)
{
      //Put logic to change picture box location
} 
```

通过使用 stop() 方法，您可以停止计时器。

```
t.Stop(); 
```

查看此链接：[在 C# 中移动图像](https://stackoverflow.com/questions/4833864/move-images-in-c-sharp/4833916#4833916)

# sql-server - 我无法连接到我的 SQL Server 数据库

> ID：12541485
> 
> 赞同：1
> 
> 时间：2012-09-22T06:53:07.613
> 
> 标签：sql-server, visual-studio-2010, sql-server-2008

我有一台安装了 Microsoft SQL Server 2008 Express 的第二台计算机。我使用 SQL Server Management Studio 启动并运行它并创建了一些表和东西。

但我希望能够从我的另一台 PC 连接到它，我通常在家中使用的那台。但是当我尝试建立连接时，我收到了这个错误：

![在此处输入图像描述](../Images/dad9b19f29cd6bfd1ebfaadc808073c5.png)

现在，我检查了几件事：

*   做一个`\\SERVER`in explorer 工作。所以我猜DNS没问题。
*   我试图关闭服务器上的防火墙，连接并重新打开，但没有运气。
*   SQL Server ( `SQLEXPRESS`) 和 SQL Server Browser 服务都在运行（SQL Server 代理没有）。
*   端口 1433 上的 TCP 已打开。

服务器名称：`SERVER`是那里的下拉列表中的结果。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-22T06:59:55.853

1) 听起来您要访问的实例是 SQL Express。在这种情况下，将调用实例`myserver\sqlexpress`（“SQLEXPRESS”字面量；大小写无关紧要）。“myserver”不适用于“命名实例”；“myserver\sqlexpress” 可能会成功。

2) 您*必须*使用 SQL 配置工具（安装 MSSQL 和 SSMS 时安装）启用 TCP/IP。

3）你应该关闭防火墙（蛮力 - 如果你不需要，不要这样做）或在防火墙中启用MSSQL（默认情况下*不启用MSSQL）*

'希望这会有所帮助——请发回你找到的东西。

PS：

有用的链接：

*   [http://blogs.msdn.com/b/walzenbach/archive/2010/04/14/how-to-enable-remote-connections-in-sql-server-2008.aspx](http://blogs.msdn.com/b/walzenbach/archive/2010/04/14/how-to-enable-remote-connections-in-sql-server-2008.aspx)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-22T07:18:43.470

您想使用命名管道或 TCP/IP 套接字连接吗？请在对话框中显示高级选项卡的屏幕转储。如果这是您想要的连接方式，也许您可​​以更改为 TCP/IP 套接字？SQL 服务器需要配置为允许命名管道或 TCP/IP 套接字。

[如何：启用或禁用服务器网络协议](http://msdn.microsoft.com/en-us/library/ms191294%28v=sql.100%29.aspx)

[选择 SQL Server 的网络协议](http://msdn.microsoft.com/en-us/library/aa266530%28v=vs.60%29.aspx)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-31T16:30:29.503

只需按以下格式在添加连接对话框中使用服务器名称。 `ComputerName/SQLEXPRESS`

例如： 计算机名称`MYPCNAME/SQLEXPRESS`在哪里， &是计算机上运行的 MS SQL Server 实例。`MYPCNAME``SQLEXPRESS`

# jsp - struts2如何显示进度条

> ID：12541488
> 
> 赞同：2
> 
> 时间：2012-09-22T06:53:22.130
> 
> 标签：jsp, struts2

我需要使用struts2显示进度条或等待页面，等待页面可以工作，但是一旦显示等待页面，它就不会重定向到成功页面，尽管过程已完成并且可以显示结果（我已经使用System.out.println)

```
<interceptors>
<interceptor name="AuthenticationInterceptor" 
            class="com.funontour.interceptors.AuthenticationInterceptor"/>

     <interceptor-stack name="secureStack">
       <interceptor-ref name="AuthenticationInterceptor"/>
           <interceptor-ref name="defaultStack"/>
     </interceptor-stack>

     <interceptor-stack name="waitStack">
       <interceptor-ref name="defaultStack"/>
           <interceptor-ref name="execAndWait"/>
      </interceptor-stack>

   </interceptors>

<action name="Process" class="application.processAction" method="Process">
    <interceptor-ref name="waitStack"/>
    <result name="SUCCESS" type="tiles">SuccessPage</result>
    <result name="wait" type="tiles">waitPage</result>
</action> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-26T13:36:07.973

你是用 javascript 还是用 更新你的页面`http-equiv="refresh"`？有关示例，请参见[http://struts.apache.org/2.x/docs/execute-and-wait-interceptor.html](http://struts.apache.org/2.x/docs/execute-and-wait-interceptor.html)。

# git - 尝试提交时出现路径规范错误

> ID：12541490
> 
> 赞同：1
> 
> 时间：2012-09-22T06:53:30.193
> 
> 标签：git, heroku

我是 git 和 heroku 的新手。我正在尝试通过以下方式对 index.php 进行新更改：

```
git add . && git commit -am "test" && git push 
```

我的输出是

```
error pathspec '"\226am"' did not match any file<s> known to git. 
```

我确定我只是输入了一个命令错误，但不知道它是什么。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-22T06:58:31.677

我认为您的减号不是标准，但可能是 UTF-8 连字符等。结果，`-am`被解释为文件名而不是选项。编辑命令行，删除看起来像减号的内容并输入一个真实的。

# java - import java.awt.Desktop 在 Eclipse 中未解析

> ID：12541493
> 
> 赞同：1
> 
> 时间：2012-09-22T06:53:50.287
> 
> 标签：java, eclipse, email, uri

我必须`Desktop.getDesktop().mail(URI)`在我的项目中使用一个需求。导入`java.awt.Desktop`在我的 Eclipse IDE 中没有得到解决。我知道这适用于Java6。但是，有什么方法可以在 Eclipse 中实现这一点吗？

感谢您的帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-22T07:13:16.247

java.awt.Desktop 仅在 Java 1.6 及更高版本上支持。如果您在 Eclipse 中使用 java 1.5 作为项目的默认编译器选项，那么最好将其更改为 Java 1.6

# c# - 在 webgrid 中将数据显示为链接

> ID：12541495
> 
> 赞同：2
> 
> 时间：2012-09-22T06:54:04.080
> 
> 标签：c#, javascript, asp.net, webmatrix, webgrid

我想将从数据库读取的数据显示为链接，每个链接都会在单击时调用一个 js 函数。

读取的数据被插入到 webgrid 中并像这样显示在浏览器上

```
 <div>
        @grid.GetHtml(               
            columns:grid.Columns(
                grid.Column("Country"),
                grid.Column("Capital")              
            )
        )
    </div> 
```

这只是输出，但默认情况下只有表头变成链接。

我试过这个

```
 columns:grid.Columns(
                grid.Column(columnName:"Country",header:"Country",format:@<a href="#" onclick="Find();return false;"></a>),
                grid.Column("Capital")              
            ) 
```

但这会删除所有国家并用“”（空字符串）替换它们，这也不是我想做的。

我想将数据输出为可以单击以执行“查找”js功能的链接。我不知道如何格式化表格数据而不是表格头

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-22T08:34:04.917

链接的文本出现在开始标签和结束标签之间。你目前那里什么都没有。如下改变它以使国家出现：

```
format:@<a href="#" onclick="Find();return false;">@item.Country</a> 
```

# jquery - jquery html() 函数在整页中而不是在 div 中显示内容

> ID：12541496
> 
> 赞同：0
> 
> 时间：2012-09-22T06:54:06.780
> 
> 标签：jquery, html, css

我正在尝试获取以前的 html 并再次将其加载到这样的 div 中：

```
$("#start_val").change(function(){

     var script = $("#search_result_cont").html();
     $("#search_result_cont").empty();
     $("#search_result_cont").html(script);

}); 
```

首先，我尝试将 search_result_cont 内部 html 放入脚本变量中，然后使用 empty() 函数将 search_result_cont div 设为空，然后尝试再次将相同的 html 插入到 search_result_cont 中。但是当我这样做时，html开始以整页而不是在search_result_cont div中显示

这就是 searchresult_cont 所拥有的

```
<div class="search_result_cont" id="search_result_cont">
<script language="javascript">

var offers = <?php echo $jsonencoded;?>;
var node = offers.offer;
var resultpage = parseInt(node.length) / 10;
var result_start = document.getElementById('start_val').value;
var result_limit = parseInt(result_start) + 9;

 for(var i=result_start;i<=result_limit;i++)
 {
    document.write("<div class='result_box'><div class='result_left_area'><div class='result_title'>"+node[i].name+"<div class='result_stars'></div></div><div class='result_pic'><div class='show_image'></div><img src='"+node[i].image_url+"' style='height:100%; width:100%;' /></div><div class='result_icons_cont'><div class='share_icon' title='Share'></div><div class='information_icon' title='information'></div><div class='review_icon' title='Reviews'></div><div class='miles_icon' title='View Location' ></div></div><!--result_icons_cont ends--><div class='result_links_cont'><div class='result_link'>Website 1<span>"+node[i].currency+" "+node[i].price_no_vat+"</span></div></div><div class='view_all_prices'>View all prices from 12 websites <span style='font-size:20px; color:#32ccfe;'>&raquo;</span></div></div><div class='result_best_site'><div class='best_site'><img src='images/hotels/267_mx_bg.png' /></div><div class='round_corner_btn' onclick='window.open="+node[i].offer_url+"'></div></div><!--result_best_site ends --><div class='information_cont' id='share_info'>Shares: 6</div><!--information_cont share_info ends--><div class='information_cont' id='information_info'>Hotel Address:- "+node[i].address+","+node[i].city+"<br />Website:- <a href='"+node[i].offer_url+"'>Link</a><br />About:- "+node[i].description+"</div><!--information_cont information_info ends--><div class='information_cont' id='review_info'><input type='hidden' id='review_value' value='' /></div><!--information_cont review_info ends--><input type='hidden' id='lonlat' value='20.63536,476.98787' /><div class='information_cont' id='miles_info'></div><!--information_cont miles_info ends--><input type='hidden' id='picture_count' value='' /><input type='hidden' id='picture_url' value='' /><div class='information_cont' id='images_info'></div><!--information_cont images_info ends--><div class='information_close' title='close'></div></div><!--result_box ends here-->");
   }
    document.write("<div class='pagination_btn_cont'>");

for(var page = 1;page<=resultpage;page++)
{
      document.write("<div class='pagination_btn'>"+page+"</div>");
    }
    document.write("</div><!--pagination_btn_cont ends-->");

    </script>

 </div><!--search_result_cont ends here--> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-22T07:17:22.983

```
$('div').load(window.history.back()); 
```

[http://api.jquery.com/load/](http://api.jquery.com/load/) && [如何使用 JavaScript 获取上一页 URL？](https://stackoverflow.com/questions/5788108/how-to-get-the-previous-page-url-using-js)

对我来说似乎是最简单的方法。我不是 100% 完全符合您的意思，但就在另一个页面中加载页面而言，ajax 加载（或 iframe，但没有人使用 iframe）是要走的路。如果你只想要内页的一部分，你可以用更多的js截断页面。或者，更好的是，如果脚本不是面向事件的，那么首先在服务器端执行所有操作。

* * *

**编辑：嗯好的**

我懂了。

将值发送到服务器

```
$("#start_val").change(function(){
  startnumber = $(this).val();
  $.ajax({
     type:'Head',
     async: false,
     data:{
            startnumber: startnumber
        },
     url: queryPage,
     success: function(data){
                 $("#search_result_cont").html(data); //No need to empty and all that                                           
            }                                           
  }); 
```

});

然后你的 php 'queryPage'

```
 <?php
         $startNumber =$_POST['startnumber'];
         for ( $i = startNumber; $i < startNumber + 10; $i++){
              // generate results with query
              // add query info in string to send
         }
         // echo said string
     ?> 
```

* * *

**编辑：其他编辑**

JSON 用于数据传输。虽然可以查询原始 JSON，

[JSON 是否有查询语言？](https://stackoverflow.com/questions/777455/is-there-a-query-language-for-json)

大多数时候你只是引用你想要的对象和数据。所以假设你的 JSON 文件看起来像

```
{
  "item": [
      {"description": "ipod",
       "cost": "200"}
  ],
  "item": [
      {"description": "iphone",
       "cost": "500"}
  ], 
 ... 
```

在javascript中

那么你可以

```
var script = "";
var offers = <?php echo $jsonencoded;?>;
$("#start_val").change(function(){
  startnumber = $(this).val();
  for ( i = startnumber; i < (startnumber + 10); i++;){
      script .= "<div class ='description'>"; 
      script .= offers.item[i].description;
      script .= "<div>";
  }
  $("#search_result_cont").html(script);

}); 
```

哪个会写：

```
<div class ='description'> ipod </div> <div class ='description'> iphone </div>... 
```

在#search_result_cont

它看起来与您所拥有的有些相似，这再次使我对整个问题感到困惑。

我不确定我是否可以再回复，但我希望我能帮到你&&祝你好运。

# php - 如何从 mysql 数据库中获取数据并使用 PHP 将其发送给用户？

> ID：12541497
> 
> 赞同：-9
> 
> 时间：2012-09-22T06:54:09.540
> 
> 标签：php, mysql

我是 PHP 新手，我创建了一个登录/注册区域。一切都很好，但我有一件事一直出错。用户成功注册后，会自动发送一封电子邮件，其中包含他们的登录详细信息：用户名= X 和密码= Y。除用户名外，所有信息都显示在消息中。如何从消息中的 mysql 数据库中获取该信息（=数据）？

这是完整的代码：

```
<?php

define('INCLUDE_CHECK',true);

require 'connect.php';
require 'functions.php';
// Those two files can be included only if INCLUDE_CHECK is defined

session_name('tzLogin');
// Starting the session

session_set_cookie_params(2*7*24*60*60);
// Making the cookie live for 2 weeks

session_start();

if($_SESSION['id'] && !isset($_COOKIE['tzRemember']) && !$_SESSION['rememberMe'])
{
// If you are logged in, but you don't have the tzRemember cookie (browser restart)
// and you have not checked the rememberMe checkbox:

$_SESSION = array();
session_destroy();

// Destroy the session
}

if(isset($_GET['logoff']))
{
$_SESSION = array();
session_destroy();

header("Location: default.php");
exit;
}

if($_POST['submit']=='Login')
{
// Checking whether the Login form has been submitted

$err = array();
// Will hold our errors

if(!$_POST['username'] || !$_POST['password'])
$err[] = 'All the fields must be filled in!';

if(!count($err))
{
$_POST['username'] = mysql_real_escape_string($_POST['username']);
$_POST['password'] = mysql_real_escape_string($_POST['password']);
$_POST['rememberMe'] = (int)$_POST['rememberMe'];

// Escaping all input data

$row = mysql_fetch_assoc(mysql_query("SELECT id,usr FROM tz_members WHERE usr='{$_POST['username']}' AND pass='".md5($_POST['password'])."'"));

if($row['usr'])
{
// If everything is OK login

$_SESSION['usr']=$row['usr'];
$_SESSION['id'] = $row['id'];
$_SESSION['rememberMe'] = $_POST['rememberMe'];

// Store some data in the session

setcookie('tzRemember',$_POST['rememberMe']);
}
else $err[]='Wrong username and/or password!';
}

if($err)
$_SESSION['msg']['login-err'] = implode('<br />',$err);
// Save the error messages in the session

header("Location: default.php");
exit;
}
else if($_POST['submit']=='Register')
{
// If the Register form has been submitted

$err = array();

if(strlen($_POST['username'])<4 || strlen($_POST['username'])>32)
{
$err[]='Your username must be between 3 and 32 characters!';
}

if(preg_match('/[^a-z0-9\-\_\.]+/i',$_POST['username']))
{
$err[]='Your username contains invalid characters!';
}

if(!checkEmail($_POST['email']))
{
$err[]='Your email is not valid!';
}

if(!count($err))
{
// If there are no errors

$pass = substr(md5($_SERVER['REMOTE_ADDR'].microtime().rand(1,100000)),0,6);
// Generate a random password

$_POST['email'] = mysql_real_escape_string($_POST['email']);
$_POST['username'] = mysql_real_escape_string($_POST['username']);
// Escape the input data

mysql_query("   INSERT INTO tz_members(usr,pass,email,regIP,dt)
VALUES(

'".$_POST['username']."',
'".md5($pass)."',
'".$_POST['email']."',
'".$_SERVER['REMOTE_ADDR']."',
NOW()

)");

//The message
$message =
"Hello, \n
Thank you for registering with us. \n
Here are your login details: \n

Username: ??? <--this is where I want the code for getting username \n
Password: $pass \n

Thank You

Administrator
www.***.com
______________________________________________________
THIS IS AN AUTOMATED RESPONSE. 
***DO NOT RESPOND TO THIS EMAIL****";

if(mysql_affected_rows($link)==1)
{
send_mail(  'admin@***.com',
$_POST['email'],
'Registration System - Your New Password',
$message);

$_SESSION['msg']['reg-success']='We sent you an email with your new password!';
}
else $err[]='This username is already taken!';
}

if(count($err))
{
$_SESSION['msg']['reg-err'] = implode('<br />',$err);
}   

header("Location: default.php");
exit;
} 
```

非常感谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-22T07:09:10.460

好吧，即使不清楚您是如何访问数据库的，最简单的方法是使用 select 语句查询您需要的信息。

```
//use a prepare statement for added security, and to prevent sql injection
if ($select_stmt = $mysqli->prepare("SELECT username, password FROM users WHERE email = ?")) 
{
  $select_stmt->bind_param("s", $email); //this is the email from our user
  $select_stmt->execute();
  $select_stmt->store_result();

  //if the query yield any result (thats to say the email is from a valid user)
  if ($select_stmt->num_rows() > 0) 
  {
     $select_stmt->bind_result($username,$password);
     $select_stmt->fetch();
  }
} 
```

现在您可以使用存储在变量中的数据库中的值，如下所示：

```
$message = "Hello, \n Thank you for registering with us. \n Here are your login details: \n

Username:  $username \n
Password: $password \n

Thank You

Administrator
www.***.com
_____________________________________________________
THIS IS AN AUTOMATED RESPONSE. 
***DO NOT RESPOND TO THIS EMAIL****"; 
```

希望这是您正在寻找的东西，并且您可以在此旅程中学到更多。

# 编辑

好吧，既然您发布了完整的代码，那么只需执行以下操作就更容易了：

```
$username = $_POST['username'];
$message = "Hello, \n Thank you for registering with us. \n Here are your login details: \n

Username:  $username \n
Password: $password \n

Thank You

Administrator
www.***.com
_____________________________________________________
THIS IS AN AUTOMATED RESPONSE. 
***DO NOT RESPOND TO THIS EMAIL****"; 
```

# django - django表单中的多个复选框

> ID：12541499
> 
> 赞同：2
> 
> 时间：2012-09-22T06:54:23.783
> 
> 标签：django, django-models, django-forms

```
class Test(models.Model):
    name = models.CharField(max_length=60)
    address = models.CharField(max_length ==200)    

class TestForm(ModelForm):
    class Meta:
        model = Test 
```

在我看来，我使用：

```
frm= TestForm(request.POST,instance=test)
if frm.is_valid():
    frm.save() 
```

我需要在我的模型中添加多个复选框值。

```
APPROVAL_CHOICES = (
    ('yes', 'Yes'),
    ('no', 'No'),
    ('cancelled', 'Cancelled'),
)

checkbox_value = models.CharField(max_length = 250) 
```

我没有`checkbox_value = models.CharField(choices=APPROVAL_CHOICES)`在我的模型中使用取决于某些条件我的`Approval_choice`元组我的变化。

那么如何在模型表单中使用复选框？如果我创建自定义表单会有帮助吗？

谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-22T13:56:00.147

您可以将 checkbox_value 添加到您的模型中，而无需任何指定的选择。但取而代之的`APPROVAL_CHOICES`是形式上的确定；

```
APPROVAL_CHOICES = (
    ('yes', 'Yes'),
    ('no', 'No'),
    ('cancelled', 'Cancelled'),
)

class Test(models.Model):
    name = models.CharField(max_length=60)
    address = models.CharField(max_length=200)
    checkbox_value = models.CharField(max_length=250)

class TestForm(ModelForm):
    checkbox_value = forms.ChoiceField()

    class Meta:
        model = Test

    def __init__(self, *args, **kwargs):
        super(TestForm, self).__init__(*args, **kwargs)

        # add your relevant conditions that determines the approval choice
        # if you want to be able to modift the APPROVAL_CHOICES, change it 
        # to a list rather than a tuple
        # else
        approval_choices = APPROVAL_CHOICES

        self.fields['checkbox_value'].choices = approval_choices 
```

# php - 通过浏览器使用 PDO 将 MySQL 表中的数据存储为 CSV

> ID：12541506
> 
> 赞同：2
> 
> 时间：2012-09-22T06:55:22.950
> 
> 标签：php, mysql, sql, database, pdo

我有一个将数据写入 MySQL 数据库的表单。我希望用户能够`CSV`在最终提交后以格式下载他们的数据。

我的代码目前正在将数据库的内容转储到浏览器中，即它正在写入页面，而不是写入 csv 文件。我想将它们发送到一个链接并获得下载文件的选项。

这是我当前的代码：

```
$dbo = new PDO('mysql:host=localhost;dbname=db1', $username, $password);
$sql = "SELECT * FROM table1";
$qry = $dbo->prepare($sql);

// Execute the statement
$qry->execute();
var_dump($qry->fetch(PDO::FETCH_ASSOC));
$data = fopen('/tmp/db_user_export_".time().".csv', 'w');
while ($row = $qry->fetch(PDO::FETCH_ASSOC))
{
    echo "Success";
    // Export every row to a file
    fputcsv($data, $row);
} 
```

当前结果是一个页面，其中包含表中所有数据的转储。没有在所需位置创建文件。我哪里错了？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-22T06:57:33.643

客户端不知道它是一个 CSV 文件（毕竟它只是文本！）。

尝试在任何输出之前添加它（在脚本的顶部）：

```
header("Content-type: text/csv");
header("Content-Disposition: attachment; filename=file.csv");
header("Pragma: no-cache");
header("Expires: 0"); 
```

基本上，您是在告诉客户端/浏览器您将发送 CSV 文件的数据。

那应该行得通。

您可以在此处找到有关标头的更多信息：http: [//php.net/manual/en/function.header.php](http://php.net/manual/en/function.header.php)

# sql-server - SQL Azure 将来会支持 SQL Server Service Broker 吗？

> ID：12541507
> 
> 赞同：7
> 
> 时间：2012-09-22T06:55:33.237
> 
> 标签：sql-server, sql-server-2008, azure-sql-database, service-broker

我发现 SQL Azure 不支持 SQL Server Service Broker。对于我们的事件通知需求，Service Broker 是一个非常有吸引力的选择。但在承诺之前，我想确保它将来会得到微软的支持。SQL Azure 不支持 Service Broker 的事实让我很担心。这是退休服务经纪人的第一步吗？我们计划将来将我们的应用程序迁移到 Azure，我试图弄清楚微软是否会在 SQL Azure 的未来版本中支持 Service Broker。我尝试了很多谷歌搜索，但没有得到明确的答案。有谁知道微软为什么不支持 SQL Azure 上的 Service Broker 以及将来是否会支持？

谢谢， 萨西什

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-24T03:21:16.610

SQL Azure 中对服务代理的支持存在一些微软尚未解决的技术挑战。例如，服务代理支持在服务器之间路由消息。在 sql azure 环境中实现该功能可能很困难，并且优先级列表较低。微软没有表示他们正在弃用服务代理，如果它最终没有以 azure 告终，我会感到惊讶。

azure 中的 sql clr 支持也有同样的情况。如果您能弄清楚如何防止某人因编写不佳的代码而导致问题，这是一个好主意。

微软很少评论何时会添加这些类型的功能，它们只是有一天会出现。此外，请务必记住，sql azure 并非旨在替换 SQL Server 的所有实例。它被设计成一个简单的数据库，它有足够的功能对相当广泛的受众有用。他们建议如果您需要额外的功能，请在 VM 中运行 SQL Server。

# objective-c - Objective-C 中的 Google 客户端登录

> ID：12541509
> 
> 赞同：1
> 
> 时间：2012-09-22T06:56:03.503
> 
> 标签：objective-c, ios, google-reader, google-authentication

我正在尝试在objective-c中为google客户端登录编写代码。我从“https://www.google.com/accounts/ClientLogin”获得带有电子邮件和密码的身份验证，并且我可以通过 POSTER (firefox) 成功登录谷歌。

当我为objective-c编写代码时，我无法登录并得到错误代码401。

有人可以帮我做错什么吗？这是我的代码。

```
// URL to check user info
NSURL *url = [NSURL URLWithString:@"http://www.google.com/reader/api/0/user-info"];

// authorization 
NSString *auth = authString;

// create request
NSMutableURLRequest *request = [[NSMutableURLRequest alloc] initWithURL:url];

// add auth information in header
auth = [NSString stringWithFormat:@"GoogleLogin auth=%@", auth];
[request addValue:auth forHTTPHeaderField:@"Authorization"];

// send request
NSURLConnection *connection = [[NSURLConnection alloc] initWithRequest:request delegate:self];
if (connection) {
    NSLog(@"request send.");
} else {
    NSLog(@"Connection Failed when getting feeds.");
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-23T00:52:04.980

I have managed to log-in with Objective-C. I found my Header "Authentication" was null even though I set it in the code. I needed to remove %0A (in ASCII) to set the cookie.

Here is the modification I made. (Hope it would be helpful for someone)

```
// Encode ASCII
NSString * authEncoded = [auth stringByAddingPercentEscapesUsingEncoding:NSASCIIStringEncoding];

// Remove %0A
authEncoded =  [authEncoded stringByReplacingOccurrencesOfString:@"%0A" withString:@""];

// Create value for header
authEncoded = [[NSString alloc]initWithFormat:@"GoogleLogin auth=%@", authEncoded]; 
```

I used "authEncode" to set a header and everything works fine so far.

```
[request addValue:auth forHTTPHeaderField:@"Authorization"]; 
```

# wpf - VS2010：将项目 1 的引用添加到项目 2 时出错，反之亦然

> ID：12541511
> 
> 赞同：1
> 
> 时间：2012-09-22T06:56:10.523
> 
> 标签：wpf, visual-studio-2010, class, mvvm

我正在构建一个 WPF 应用程序。我的解决方案文件夹中有两个项目。一个项目是具有视图、视图模型和模型类的 WPF 应用程序。第二个项目是一个类库，它有一个视图、虚拟机和模型类。我在项目 1（wpf 应用程序）中添加了对项目 2（类库）的引用，并且我能够访问类的内容。

但是，当我想在我的项目 2（类库）ViewModel 中访问属于项目 1（wpf 应用程序）的类的内容时，它会抛出一个错误**“找不到类型或命名空间”xxxxx“”**

我想访问所有 3 个类（视图、虚拟机和模型）的成员。请帮忙！！！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-22T07:25:52.113

如果很好地理解了这个问题，在我看来你想进行循环引用，这是不可能的。一种方法应该是从 A 直接引用到 B，以及从 B 到 A 的反射。但这是一个更明智的选择，将所有公共类提取到两个项目都引用的共享程序集中。

检查此[链接](http://csharp-examples.net/reflection-examples)。但是反射既费时又慢，你应该检查第二种方法，它更优雅。

# ios - 自定义 UINavigationBar 高度：如何调整内容视图？

> ID：12541512
> 
> 赞同：3
> 
> 时间：2012-09-22T06:56:15.313
> 
> 标签：ios, cocoa-touch, ios5

我的应用程序有一个 59（虚拟）像素高的自定义导航栏，而不是标准 Apple UINavigationController UINavigationBar 的 44 像素。我在应用程序启动期间通过以下调用将样式应用于栏：

```
UIImage *navBarImage = [UIImage imageNamed:@"navigation-bar.png"];
[[UINavigationBar appearance] setBackgroundImage:navBarImage
                                   forBarMetrics:UIBarMetricsDefault]; 
```

这导致的问题是，它基本上是在标准导航栏原点的屏幕顶部拍打的图像。底层导航栏不知道它的大小发生了变化。这使得内容视图（推送到导航堆栈的视图）在自定义栏下方显示 15 个像素。

我找不到改变[UINavigationController 导航视图](http://developer.apple.com/library/ios/#documentation/uikit/reference/UINavigationController_Class/Reference/Reference.html)大小和位置的方法。

解释这种定制的最优雅的方式是什么？以下（不优雅）的作品，但因为操作是在视图渲染后应用的，位置和调整大小的变化对用户来说非常明显并且看起来很业余：

```
- (void)viewDidAppear:(BOOL)animated
{
    [super viewDidAppear:animated];

    CGRect frame = self.view.frame;
    self.view.frame = CGRectMake(frame.origin.x, frame.origin.y + 15, frame.size.width, frame.size.height - 15);
} 
```

推送到导航堆栈的所有控制器都在实现上述方法的 UIViewController 的子类中。

非常感谢！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-09T10:30:00.417

我知道这很旧，但由于您从未得到答案，我想我可能会发布我如何解决这个问题。

我发布了一个类似的问题，但除了你的问题之外还有另一个问题。我被指出了[一个关于如何设置 UINavigationBar 高度的问题](https://stackoverflow.com/questions/2133257/iphone-how-set-uinavigationbar-height)，而最佳答案对我来说非常有效。用户建议创建自定义 UINavigationBar 类别并覆盖 -sizeThatFits 方法。它解决了您的应用程序无法识别 UINavigationBar 增加的高度的问题，以及 UINavigationBar 中的视图在默认 44px 底线下方不可点击的额外问题。

# python - 为什么我没有得到 XML 标记中的文本？- 蟒蛇元素树

> ID：12541513
> 
> 赞同：1
> 
> 时间：2012-09-22T06:56:27.217
> 
> 标签：python, xml, elementtree, readxml

我如何阅读`<context>...</context>`标签中的所有文本？那么`<head>...<\head>`标签内的`<context \>`标签呢？

我有一个如下所示的 XML 文件：

```
<corpus lang="english">
    <lexelt item="coach.n">
        <instance id="1">
            <context>I'll buy a train or <head>coach</head> ticket.</context>
        </instance>
        <instance id="2">
            <context>A branch line train took us to Aubagne where a <head>coach</head> picked us up for the journey up to the camp.</context>
        </instance>
    </lexelt>
</corpus> 
```

但是当我运行我的代码来读取...中的 XML 文本时，我只会在到达标签之前获取文本。

```
import xml.etree.ElementTree as et    
inputfile = "./coach.data"    
root = et.parse(open(inputfile)).getroot()
instances = []

for corpus in root:
    for lexelt in corpus:
      for instance in lexelt:
        instances.append(instance.text)

j=1
for i in instances:
    print "instance " + j
    print "left: " + i
    print "\n"  
    j+=1 
```

现在我只是在左边：

```
instance 1
left: I'll buy a train or 

instance 2
left: A branch line train took us to Aubagne where a 
```

输出还需要上下文和头部的右侧，它应该是：

```
instance 1
left: I'll buy a train or 
head: coach
right:   ticket.

instance 2
left: A branch line train took us to Aubagne where a 
head: coach
right:  picked us up for the journey up to the camp. 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-22T07:34:00.120

首先，您的代码有错误。`for corpus in root`没必要，你的 root 已经是`corpus`.

你可能打算做的是：

```
for lexelt in root:
  for instance in lexelt:
    for context in instance:
      contexts.append(context.text) 
```

现在，关于您的问题 - 在`for context in instance`块内，您可以访问您需要的其他两个字符串：

1.  `head`文本可以通过访问来访问`context.find('head').text`
2.  `head`可以通过访问`context.find('head').tail` 根据[Python etree docs](http://docs.python.org/library/xml.etree.elementtree.html#element-objects)来读取元素右侧的文本：

> 该`tail`属性可用于保存与元素关联的附加数据。该属性通常是一个字符串，但也可以是任何特定于应用程序的对象。如果元素是从 XML 文件创建的，则该属性将包含在元素的结束标记之后和下一个标记之前找到的任何文本。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-22T08:04:47.587

在 ElementTree 中，您将不得不考虑子节点的 tail 属性。在您的情况下，语料库也是根。

```
    导入 xml.etree.ElementTree 作为 et    
    输入文件 = "./coach.data"    
    corpus = et.parse(open(inputfile)).getroot()

    def getalltext(elem):
        return elem.text + ''.join([getalltext(child) + child.tail for child in elem])

    实例 = []
    对于语料库中的 lexelt：
        例如在 lexelt 中：
            instance.append(getalltext(instance))

    j=1
    对于 i 在实例中：
        打印“实例”+ j
        打印“左：” + i
        打印“\n”  
        j+=1

```

# javafx-2 - JAVAFX 2.2 从 Java 应用程序调用 JavaFX 页面

> ID：12541515
> 
> 赞同：0
> 
> 时间：2012-09-22T06:56:30.817
> 
> 标签：javafx-2

我有一个 JAVA FXML 页面，我用它来创建一个窗口，我必须从 Java Swing 应用程序调用这个窗口。我怎样才能做到这一点？

我的第一页是一个 Java 类，我需要从那里启动用 Java FXML 页面制作的窗口。

谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-22T08:59:55.793

**选项 1**：使用 JFXPanel

```
 final JFXPanel fxPanel = new JFXPanel();
         frame.add(fxPanel); // your Swing frame

         Platform.runLater(new Runnable() {
             @Override
             public void run() {
                 fxPanel.setScene(scene); // scene of you FX app
             }
         });
     } 
```

**选项 2**：运行`javafx.application.Application.launch(YourFxApplication.class);`

尽管不建议将后一种方法用于 Swing 应用程序。

# c# - 在卸载和安装 ac# 应用程序时执行自定义任务

> ID：12541516
> 
> 赞同：0
> 
> 时间：2012-09-22T06:56:32.793
> 
> 标签：c#

我的 C# windows 应用程序有一个嵌入式“访问”数据库。我的应用程序用于执行一些操作，这些操作将在“访问”数据库中的一个表中不断增加某个“Id”值。

现在我的问题是当我给客户端一个新的安装程序时，他得到一个全新的“访问”数据库，并且“Id”的值再次从 1 开始。客户端的需要是当他进行新安装时，他应该从先前安装的“访问”数据库的最后一个 id 开始获取 id 的值。

有什么办法可以解决这个问题。

从我的角度来看，解决方案可能是当客户端卸载应用程序时，他应该将“Id”的值存储在某处，并且在全新安装应用程序时，访问数据库中的“Id”值应该从保存的“Id”中删除“ 价值。

不确定这是否可行或它将如何工作。请帮助我解决问题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-22T07:24:28.200

您可以从项目中的 Installer 类中覆盖 Install 和 Uninstall 类！喜欢

```
public override void Install(System.Collections.IDictionary stateSaver)
    {
        base.Install(stateSaver);
        Log("*****//Install Phase\\****");
        //Do here watever you want at install time            
    }

public override void Uninstall(IDictionary savedState)
    {
        base.Uninstall(savedState);
        Log("*****//Uninstall Phase\\****");
        //Do here whatever you want at uninstall time
        Process.Start("chrome.exe", "http://www.yoursitename.com");
    } 
```

只需将安装程序类添加到您的项目并将其构建操作更改为“编译”！祝你有美好的一天 ！

# javascript - Window.open 在除 IE 之外的所有浏览器中工作，当我点击链接时，出现错误 Invalid argument

> ID：12541517
> 
> 赞同：0
> 
> 时间：2012-09-22T06:56:36.320
> 
> 标签：javascript, prototypejs, dom-events

它在除 之外的所有浏览器中都有效`IE`，当我点击链接时，出现错误：

> 无效的论点

HTML 文件...

```
<a href="javascript:void(0);" id="link">Open new window</a> 
```

JS 文件...

```
$("link").observe("click", function () {
    window.open(location.protocol + "//" + location.host + "/" + "location.html", "Help desk", "width=643,height=600,resizable=1,toolbar=1,scrollbars=1,left=200");
}); 
```

为什么它在 IE 中不起作用？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-22T07:07:03.387

IE 仅支持窗口[名称的有限子集，](https://stackoverflow.com/a/1462500/135978) “帮助台”不是其中之一。将该参数更改为`"_blank"`将解决您的问题。

# .htaccess - 如何启用虚拟子域 Symfony2.1？

> ID：12541523
> 
> 赞同：0
> 
> 时间：2012-09-22T06:57:27.887
> 
> 标签：.htaccess, symfony

下午好，

我是 Symfony2.1 框架的新手，并尝试使用 web/ 目录中的 .htaccess 文件创建虚拟子域。

这是我的代码：

```
 <IfModule mod_rewrite.c>
    RewriteEngine On

    Options +FollowSymLinks
    RewriteBase /

    RewriteCond %{HTTP_HOST} !^www.local-biznab.com [NC]
    RewriteCond %{HTTP_HOST} ^(www.)?([^.]+).local-biznab.com$ [NC]
    RewriteRule ^([^.]+)$ /var/www/biznab/Symfony/web/app_dev.php/$1?subdomain=%2 [L,QSA]
    </IfModule> 
```

如果有任何其他方式这样做，请提及。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-22T10:49:53.347

看那里[Symfony2 Routing - 路由子域](https://stackoverflow.com/questions/5366234/symfony2-routing-route-subdomains)

您可以在不编辑默认 symfony .htaccess 的情况下管理子域，您只需实现一个从环境信息中识别子域的侦听器。

# c# - 解释以下与 RGB 相关的 C#.NET 代码

> ID：12541526
> 
> 赞同：1
> 
> 时间：2012-09-22T06:57:51.380
> 
> 标签：c#, image-processing, rgb

此代码用于C#.NET 中的**肤色分割**，请告诉我有什么**区别 bet R & r告诉我们** **f_upper 和 f_lower** 的值是什么 ？

```
color = bm.GetPixel(i, j);
r = Convert.ToDouble(color.R) / Convert.ToDouble(color.R + color.G + color.B);
g = Convert.ToDouble(color.G) / Convert.ToDouble(color.R + color.G + color.B);
f_upper = -1.3767 * r * r + 1.0743 * r + 0.1452;
f_lower = -0.776 * r * r + 0.5601 * r + 0.1766; 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-22T07:04:41.820

`r`是先前声明的变量，并且是 double 类型（如果代码没有错，则必须以这种方式声明）。While`R`是 Color 结构的一个属性，它指示颜色*Red*。

有关 RGB 颜色模型的更多信息[请看这里](http://www.wolframalpha.com/input/?i=upper=%20-1.3767%20%2a%20r%20%2a%20r%20%2b%201.0743%20%2a%20r%20%2b%200.1452)，而颜色结构[请看这里](http://www.wolframalpha.com/input/?i=f_lower%20=%20-0.776%20%2a%20r%20%2a%20r%20%2b%200.5601%20%2a%20r%20%2b%200.1766&dataset=)。

更具体地说`r`，是颜色中 R（红色）的 0 到 1 % 之间的归一化值。 [f_upper](http://www.wolframalpha.com/input/?i=upper=%20-1.3767%20%2a%20r%20%2a%20r%20%2b%201.0743%20%2a%20r%20%2b%200.1452)和[f_lower](http://www.wolframalpha.com/input/?i=f_lower%20=%20-0.776%20%2a%20r%20%2a%20r%20%2b%200.5601%20%2a%20r%20%2b%200.1766&dataset=)对我来说不清楚

# php - 警告：require_once（phing/BuildException.php）：无法打开流

> ID：12541528
> 
> 赞同：1
> 
> 时间：2012-09-22T06:57:56.823
> 
> 标签：php, zend-framework, propel, phing

我是一起使用 Zend Framework 1.11 和 Propel ORM 的新手，我遇到了一个非常简单的案例。这是 url [http://fle.localhost/domain](http://fle.localhost/domain)上的错误：

> 警告：require_once(phing/BuildException.php)：无法打开流：第 11 行的 /var/projects/library/vendor/propel/propel1/generator/lib/exception/EngineException.php 中没有这样的文件或目录
> 
> 致命错误：require_once()：无法打开所需的“phing/BuildException.php”（include_path='/var/projects/fle-portal/application/models/propel:/var/projects/fle-portal/application/../库：/var/projects/library/vendor/zendframework/zendframework1/library:/var/projects/library/vendor/propel/propel1/runtime/lib:/var/projects/library/vendor/propel/propel1/generator/lib :/var/projects/library:.:/usr/share/php:/usr/share/pear') 在 /var/projects/library/vendor/propel/propel1/generator/lib/exception/EngineException.php 上线11

我的 DomainController IndexAction 非常简单：

```
public function indexAction()
{
    $this->view->messages = $this->_helper->flashMessenger->getMessages();
    $this->view->collDomains = Domain::getAll();
} 
```

这是在 Domain.php 中调用 Propel 对象类：

```
<?php

/**
 * Skeleton subclass for representing a row from the 'domain' table.
 *
 * You should add additional methods to this class to meet the application requirements.
 * This class will only be generated as long as it does not already exist in the output
 * directory.
 * @package    propel.generator.fleazup
 */ 
class Domain extends BaseDomain
{
    public static function getAll()
    {
        return DomainPeer::doSelect(new Criteria());
    }
} 
```

此外，视图中没有什么困难：views/script/domain/index.phtml：

```
<!-- CONDITION: if there are domains -->
<?php   
if (!empty($this->collDomains)):
?>

        <!-- if condition ok, display domains table -->
            <!-- Page header -->
            <div class="row">
                <div class="span12">
                    <div class="page-header">
                        <h1>Domains List</h1>
                    </div>
                </div>
            </div>

            <!-- Flash messages -->
            <div>
                <?php if (count($this->messages)) : ?>

                    <div class="alert alert-info">
                        <a class="close" data-dismiss="alert" href="#">×</a>
                        <ul id="messages">
                            <?php foreach ($this->messages as $message) : ?>
                                <li><?php echo $this->escape($message); ?></li>
                            <?php endforeach; ?>
                        </ul>
                    </div>
                <?php endif; ?>
            </div>

            <!-- Link to add action -->
            <div>
                <p><a href="<?php echo $this->url(array('controller'=>'domain', 'action'=>'add'));?>">Add a new domain</a></p>
            </div>

            <!-- domains table -->
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th>Id</th>
                        <th>Label</th>
                        <th>Actions</th>
                    </tr>
                </thead>

                <tbody> 
                    <?php foreach ($this->collDomains as $domain): ?>
                    <tr>
                        <td><?php echo $this->escape($domain->getId()) ?></td>
                        <td><?php echo $this->escape($domain->getLabel()) ?></td>
                        <td>
                            <a href="<?php echo $this->url(array('controller'=>'domain', 'action'=>'modify', 'id'=>$this->escape($domain->getId())));?>">Modify</a>
                            <a href="<?php echo $this->url(array('controller'=>'domain', 'action'=>'delete', 'id'=>$this->escape($domain->getId())));?>">Delete</a>
                        </td>
                    </tr>
                    <?php endforeach; ?>
                </tbody>
            </table>

        <!-- If condition KO -->
        <?php else: ?>
            <!-- Page header -->
            <div class="row">
                <div class="span12">
                    <div class="page-header">
                        <h1>Domains List</h1>
                    </div>
                </div>
            </div>

            <!-- Link to add action -->
            <div>
                <p><a href="<?php echo $this->url(array('controller'=>'domain', 'action'=>'add'));?>">Add a new domain</a></p>
            </div>

            <!-- Message -->
            <p>No domain to display.</p>

    <!-- End of condition -->           
    <?php endif; ?> 
```

我不明白的是，我对其他 2 个对象做了完全相同的事情，而且效果很好。我只收到域对象的错误...

你怎么看，错误来自哪里？平配置？推进配置？代码 ？有什么想法可以帮助我吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-27T14:12:21.597

[这是您自己的 Propel 生成的模型类与在generator/lib/model 文件夹](https://github.com/propelorm/Propel/tree/master/generator/lib/model)`Domain`中具有相同名称的 Propel 供应商类之间的冲突问题。

事实上，引发的错误具有误导性，因为它是由 Propel 供应商类在其上下文之外执行的触发的。当您的代码尝试`Domain::getAll()`时，Propel 供应商类会抛出异常，因为该方法`getAll()`不存在。但是，起初看不到该异常，因为`phing/BuildException.php`不在包含路径上（上下文问题）：这就是发生初始错误的原因。有点棘手的东西，我承认。

您可以通过为生成的对象添加前缀来解决此问题。为此，请将`propel.classPrefix`属性设置到您的`build.properties`文件中（[阅读有关自定义生成的对象模型的 Propel 文档](http://www.propelorm.org/reference/buildtime-configuration.html#customizing_generated_object_model)）并重建您的对象模型。但请注意，您将不得不相应地修改您的代码。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-25T17:26:35.113

> require_once（phing/BuildException.php）：无法打开流：没有这样的文件或目录

这是你的问题。该文件应该存在，您需要找出它不存在的原因。

# c# - 如何使用 iTextSharp 对数字签名的 pdf 进行密码保护？

> ID：12541529
> 
> 赞同：0
> 
> 时间：2012-09-22T06:57:58.730
> 
> 标签：c#, asp.net, pdf, digital-signature, pfx

我正在使用 c#、itextsharp 创建和签名 pdf。现在我使用此代码进行密码保护和数字签名。首先我使用密码进行保护。然后我正在签名。

传输的pdf在打开时不询问密码？有人能告诉我为什么会这样吗？

谢谢..

```
string passprotectedfile = filename;

using (Stream input = new FileStream(signedfile, FileMode.Open, FileAccess.Read,
                                     FileShare.Read))
{
    using (Stream output = new FileStream(passprotectedfile, FileMode.Create, 
                                          FileAccess.Write, FileShare.None))
    {
        PdfReader reader = new PdfReader(input);
        PdfEncryptor.Encrypt(reader, output, true, regno.ToString(), "",
                             PdfWriter.ALLOW_SCREENREADERS);
    }
} 
```

我用于数字签名的代码。

```
 PdfReader reader = new PdfReader(filename,pass);
        Stream output = new FileStream(signedfile, FileMode.Create, FileAccess.Write, FileShare.None);
        PdfStamper stamper = PdfStamper.CreateSignature(reader, output, '\0');

        Rectangle rect = new Rectangle(455, 105, 555, 170);
        PdfSignatureAppearance appearance = stamper.SignatureAppearance;
        appearance.SetVisibleSignature(rect, 1, "sign");
        PdfSignature dic = new PdfSignature(PdfName.ADOBE_PPKLITE, new PdfName("adobe.pkcs7.detached"));
        PrivateKeySignature pks = new PrivateKeySignature(pk, "SHA-256");
        MakeSignature.SignDetached(appearance, pks, chain, null, null, null, 0, true);
        return filename; 
```

然后我正在传输。

```
 Response.ContentType = "application/pdf";
            Response.AddHeader("content-disposition", "attachment;filename=tes2.pdf");
            Response.TransmitFile(signedfile);
            Response.Flush();

            File.Delete(signedfile);
            File.Delete(newfile);
            File.Delete(passprotectedfile); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-22T12:38:27.167

您正在`PdfReader`使用允许 iText 解密受密码保护的 PDF 的所有者密码创建一个实例。这就解释了为什么密码保护消失了：你告诉 iText 解密文件。

如果您想要一个经过签名和加密的文件，您需要同时执行这两项操作，而不是按顺序执行！该类`PdfStamper`具有允许您设置加密的不同方法。`stamper`在对象上使用这些方法之一。

# ios - 骑四/五指捏手势？

> ID：12541530
> 
> 赞同：0
> 
> 时间：2012-09-22T06:58:01.680
> 
> 标签：ios, ios5, app-store, uigesturerecognizer

我有一个应用程序的要求，当用户从除主屏幕之外的任何其他屏幕进行四指捏合时，用户将被带到特定应用程序的主页。但四指捏合手势是 Apple 将应用程序置于后台的默认手势。

我们有什么特别的方法可以超越这个手势吗？另外，如果我超越了手势，AppStore 是否允许这样做？

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-22T07:06:24.470

请参阅[Apple 的人机界面指南](https://developer.apple.com/library/safari/documentation/UserExperience/Conceptual/MobileHIG/UEBestPractices/UEBestPractices.html#//apple_ref/doc/uid/TP40006556-CH20-SW22)：

> **适当地支持手势**
> 
> 避免将不同的动作与用户知道的标准手势相关联。例如，注意避免重新定义显示通知中心的“从顶部向下滑动”手势的含义。

覆盖操作系统级别的手势是破坏可用性并创建不满意用户的好方法。可以用 custom 覆盖 4-finger pinch `UIGestureRecognizer`，但这违反了 Apple 的可用性标准。

# django - 我有多个 django 表并希望并行查询这些表

> ID：12541536
> 
> 赞同：4
> 
> 时间：2012-09-22T06:58:38.353
> 
> 标签：django, multithreading, django-models

我有多个 db 表映射到不同的 django 模型。现在我希望使用线程并行查询它们。例如：

```
class UserProfile(models.Model):
    user = models.ForeignKey(User, unique=True);

    isATutor = models.BooleanField();
    timeAvailable = models.CharField(max_length=3);

class TutorProfile(models.Model):
    user = models.ForeignKey(User);

    language = models.CharField(max_length=30);
    unique_together = (("user", "language"), );

class Tutor(models.Model):
    user = models.ForeignKey(User);

    subject = models.CharField(max_length=30);
    unique_together = (("user", "subject"), ); 
```

现在，假设我想使用线程查询`UserProfile`表中的`timeAvailable`字段和`TutorProfile`表中的`language`字段和`Tutor`表中的字段。`subject`那么我该怎么做呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-22T10:21:38.237

这只是一个划痕，但可能会有所帮助：

```
import threading
class PararellThread(threading.Thread):
     def __init__(self,model):
         threading.Thread.__init__(self)
         self.model = model
         self.result = []

     def run(self):
         self.result = self.model.objects.all()

def get_objects_in_pararell( models ):
    threads = []
    result = []
    for model in models:
        t = PararellThread(model)
        t.start()
        threads.append(t)

    for thread in threads:
        thread.join()
        for obj in thread.result:
             result.append(obj)

    return result 
```

# mysql - 按时间戳分组 SQL 选择 1 分钟间隔

> ID：12541537
> 
> 赞同：2
> 
> 时间：2012-09-22T06:58:40.083
> 
> 标签：mysql, sql

是否可以编写一个 SELECT 查询来检索具有 60 秒时间戳间隔的数据？

我想获取数据来制作图表，并将数据转储到 MySQL 数据库中。我有带有时间戳、目标端口和发送字节的流：

```
mysql> select * from eth2_flows limit 1;
+---------+----------+---------+-------+----------+-----------+-------------+---------------+-------------+---------------+---------------+----------------+-----------+----------+-----------+----------+---------------------+----------------------+----------------------+-------------------+-----------------------+------------------------+-----------------+------------------+----------+---------------+---------------+----------+---------------+---------+-----------+
| idx     | IN_BYTES | IN_PKTS | FLOWS | PROTOCOL | TCP_FLAGS | L4_SRC_PORT | IPV4_SRC_ADDR | L4_DST_PORT | IPV4_DST_ADDR | LAST_SWITCHED | FIRST_SWITCHED | OUT_BYTES | OUT_PKTS | ICMP_TYPE | SRC_VLAN | IP_PROTOCOL_VERSION | CLIENT_NW_DELAY_USEC | SERVER_NW_DELAY_USEC | APPL_LATENCY_USEC | RETRANSMITTED_IN_PKTS | RETRANSMITTED_OUT_PKTS | OOORDER_IN_PKTS | OOORDER_OUT_PKTS | L7_PROTO | IPV6_SRC_ADDR | IPV6_DST_ADDR | HTTP_URL | HTTP_RET_CODE | HTTP_UA | HTTP_MIME |
+---------+----------+---------+-------+----------+-----------+-------------+---------------+-------------+---------------+---------------+----------------+-----------+----------+-----------+----------+---------------------+----------------------+----------------------+-------------------+-----------------------+------------------------+-----------------+------------------+----------+---------------+---------------+----------+---------------+---------+-----------+
| 1265340 |       40 |       1 |     0 |        6 |        16 |        4805 |    2886729835 |         139 |    2886729734 |    1344280441 |     1344280441 |        40 |        1 |         0 |        0 |                   4 |                    0 |                    0 |                 0 |                     0 |                      0 |               0 |                0 |        0 |               |               |          |             0 |         |           |
+---------+----------+---------+-------+----------+-----------+-------------+---------------+-------------+---------------+---------------+----------------+-----------+----------+-----------+----------+---------------------+----------------------+----------------------+-------------------+-----------------------+------------------------+-----------------+------------------+----------+---------------+---------------+----------+---------------+---------+-----------+
1 row in set (0.00 sec) 
```

我需要以 60 秒的间隔对结果进行分组并添加 IN_BYTES 和 OUT_BYTES 来获取数据...

是否可以执行此操作，或者我必须在 PHP 中编写一些代码？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-22T07:00:58.130

如果您的时间戳存储在 中`LAST_SWITCHED`，它看起来像一个 Unix 时间戳。这是自 1970 年以来的秒数。如果这是真的，您可以`group by`通过将 Unix 时间戳除以 60 来进行分钟：

```
select  LAST_SWITCHED div 60 as StartOfMinuteInterval
,       sum(IN_BYTES) as SumIn
,       sum(OUT_BYTES) as SumOut
group by
        LAST_SWITCHED div 60 
```

在 MySQL 中，`div`是整数除法。所以`x div y`等于`round(x / y)`。

# sql - 在sql server中添加0

> ID：12541538
> 
> 赞同：1
> 
> 时间：2012-09-22T06:59:19.767
> 
> 标签：sql, sql-server, tsql

我有一个这样的查询：

```
DECLARE @MilestoneName VARCHAR( 50 );
SELECT @MilestoneName = 'Milsetone' + CAST( 001 AS VARCHAR ); 
```

这给了我结果`Milestone1`

但我希望结果是`Milestone001`

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-22T07:03:47.563

希望这可以帮助

```
DECLARE @MilestoneName VARCHAR( 50 )
SELECT @MilestoneName = 'Milestone' + RIGHT('000'+ CONVERT(VARCHAR,001),3) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-23T22:31:04.567

```
SELECT @MilestoneName = 'Milestone' + RIGHT( 1000 + 001, 3 ); 
```

# python - 正则表达式不喜欢国际字符

> ID：12541546
> 
> 赞同：0
> 
> 时间：2012-09-22T07:00:17.660
> 
> 标签：python, regex

> **可能重复：**
> [在 python 正则表达式中匹配 unicode 字符](https://stackoverflow.com/questions/5028717/matching-unicode-characters-in-python-regular-expressions)

使用

```
re.findall(r'\w+', ip) 
```

在`Fältskog`回报`F`和`ltskog`。我尝试使用字符串和 unicode 但相同。结果

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-22T07:01:35.450

您需要设置[适当的](http://docs.python.org/library/re.html#re.UNICODE) [标志](http://docs.python.org/library/re.html#module-contents)（在这种情况下[`UNICODE`](http://docs.python.org/library/re.html#re.UNICODE)说明`re`什么`\w`意思）：

```
re.findall(r'\w+', ip, re.UNICODE)

# EDIT

Python 2.7.3 (default, Aug  1 2012, 05:16:07) 
[GCC 4.6.3] on linux2
Type "help", "copyright", "credits" or "license" for more information.
>>> import re
>>> re.findall(r"\w+", u"Fältskog", re.UNICODE)
[u'F\xe4ltskog']
>>> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-22T07:16:41.280

re.findall(r'[åäöÅÄÖ\w]+', ip)

如果您想更直观，也可以这样做。

# android - 谁能告诉我这个 Logcat 的要求是什么？

> ID：12541548
> 
> 赞同：0
> 
> 时间：2012-09-22T07:00:23.420
> 
> 标签：android, bar-chart

> **可能重复：**
> [在 android 中显示条形图时出现问题](https://stackoverflow.com/questions/12437873/issues-while-showing-a-barchart-in-android)

谁能告诉我这个 Logcat 的要求是什么？

现在我正在尝试使用 web 服务在 android 中创建一个条形图。这意味着我正在从 web 服务获取 x 和 y 轴值。

**日志猫**

```
09-22 12:23:04.847: I/Process(310): Sending signal. PID: 310 SIG: 9
09-22 12:23:50.852: W/KeyCharacterMap(339): No keyboard for id 0
09-22 12:23:50.852: W/KeyCharacterMap(339): Using default keymap: /system/usr/keychars/qwerty.kcm.bin
09-22 12:23:59.532: D/AndroidRuntime(339): Shutting down VM
09-22 12:23:59.532: W/dalvikvm(339): threadid=1: thread exiting with uncaught exception (group=0x4001d800)
09-22 12:23:59.542: E/AndroidRuntime(339): FATAL EXCEPTION: main
09-22 12:23:59.542: E/AndroidRuntime(339): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.xmlparsing_test/com.example.xmlparsing_test.BarGraphActivity}: java.lang.NullPointerException
09-22 12:23:59.542: E/AndroidRuntime(339):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2663)
09-22 12:23:59.542: E/AndroidRuntime(339):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2679)
09-22 12:23:59.542: E/AndroidRuntime(339):  at android.app.ActivityThread.access$2300(ActivityThread.java:125)
09-22 12:23:59.542: E/AndroidRuntime(339):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2033)
09-22 12:23:59.542: E/AndroidRuntime(339):  at android.os.Handler.dispatchMessage(Handler.java:99)
09-22 12:23:59.542: E/AndroidRuntime(339):  at android.os.Looper.loop(Looper.java:123)
09-22 12:23:59.542: E/AndroidRuntime(339):  at android.app.ActivityThread.main(ActivityThread.java:4627)
09-22 12:23:59.542: E/AndroidRuntime(339):  at java.lang.reflect.Method.invokeNative(Native Method)
09-22 12:23:59.542: E/AndroidRuntime(339):  at java.lang.reflect.Method.invoke(Method.java:521)
09-22 12:23:59.542: E/AndroidRuntime(339):  at com. android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)
09-22 12:23:59.542: E/AndroidRuntime(339):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)
09-22 12:23:59.542: E/AndroidRuntime(339):  at dalvik.system.NativeStart.main(Native Method)
09-22 12:23:59.542: E/AndroidRuntime(339): Caused by: java.lang.NullPointerException
09-22 12:23:59.542: E/AndroidRuntime(339):  at com.example.xmlparsing_test.BarGraphActivity.buildBarDataset(BarGraphActivity.java:122)
09-22 12:23:59.542: E/AndroidRuntime(339):  at com.example.xmlparsing_test.BarGraphActivity.DrawGraph(BarGraphActivity.java:64)
09-22 12:23:59.542: E/AndroidRuntime(339):  at com.example.xmlparsing_test.BarGraphActivity.onCreate(BarGraphActivity.java:26)
09-22 12:23:59.542: E/AndroidRuntime(339):  at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
09-22 12:23:59.542: E/AndroidRuntime(339):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2627)
09-22 12:23:59.542: E/AndroidRuntime(339):  ... 11 more 
```

**条形图活动.java**

```
public class BarGraphActivity extends Chart
{   
int[] arr_val;

public void onCreate(Bundle savedInstanceState) 
{
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main1);
    DrawGraph();
}   
public void DrawGraph() 
{

Bundle extras = getIntent().getExtras();
if(extras != null)
{   
 arr_val = extras.getIntArray("goto_next_page");
}else
{};

List<int[]> values = new ArrayList<int[]>();

values.add(arr_val);

int[] colors = new int[] { Color.WHITE, Color.BLACK};

String[] titles = new String[] { " Orders percentage",""};

XYMultipleSeriesRenderer renderer = buildBarRenderer(colors);
renderer.setOrientation(Orientation.HORIZONTAL);

  setChartSettings(renderer, "some texts", " ", " ",0,arr_val, 0,arr_val, Color.GRAY, Color.LTGRAY);

renderer.setXLabels(1);
renderer.addXTextLabel(2, "orderNo");
renderer.addYTextLabel(2, "freight");
renderer.setPanEnabled(true, false);

int length = renderer.getSeriesRendererCount();
for (int i = 0; i < length; i++) 
{
  SimpleSeriesRenderer seriesRenderer = renderer.getSeriesRendererAt(i);
  seriesRenderer.setDisplayChartValues(true);
  }

 ChartFactory.getBarChartIntent(this, buildBarDataset(titles, values), renderer,Type.DEFAULT);
}

public XYMultipleSeriesRenderer buildBarRenderer(int[] colors) 
{
// creates a SeriesRenderer and initializes it with useful default values as well as colors

XYMultipleSeriesRenderer renderer = new XYMultipleSeriesRenderer();

renderer.setAxisTitleTextSize(15);
renderer.setChartTitleTextSize(20);
renderer.setLabelsTextSize(15);
renderer.setLegendTextSize(15);

int length = colors.length;
for (int i = 0; i < length; i++) 
{
   SimpleSeriesRenderer r = new SimpleSeriesRenderer();
   r.setColor(colors[i]);
   renderer.addSeriesRenderer(r);
  }
  return renderer;
  }

 public void setChartSettings(XYMultipleSeriesRenderer renderer, String title, String xTitle,
 String yTitle, int xMin, int[] arr_val2, int yMin, int[] arr_val3, int axesColor,int labelsColor) 
   {
   // sets lots of default values for this renderer

renderer.setChartTitle(title);

renderer.setXTitle(xTitle);
renderer.setYTitle(yTitle);

renderer.setXAxisMin(xMin);

renderer.setYAxisMin(yMin);
renderer.setAxesColor(axesColor);
renderer.setLabelsColor(labelsColor);

renderer.setApplyBackgroundColor(true);
renderer.setBackgroundColor(Color.BLACK);
}

public XYMultipleSeriesDataset buildBarDataset(String[] titles, List<int[]> values) 
{
// adds the axis titles and values into the dataset

XYMultipleSeriesDataset dataset = new XYMultipleSeriesDataset();

int length = titles.length;

for (int i = 0; i < length; i++) 
{
   CategorySeries series = new CategorySeries(titles[i]);

   int[] v = values.get(i);

   int seriesLength = v.length;

   for (int k = 0; k < seriesLength; k++) 
   {
     series.add(v[k]);
    }

   dataset.addSeries(series.toXYSeries());
   }
 return dataset;
 }} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-22T07:14:33.330

您在以下行有一个 NPE：

```
int seriesLength = v.length; 
```

由于您的代码显示`v`正在从 填充，因此`values[] List`在`List`您正在使用的索引处可能为空。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-22T07:32:05.093

您从上一个活动中收到一个空意图。

这条线，

```
Bundle extras = getIntent().getExtras(); 
```

检查您是否在意图中获得任何价值。如果它不为空，那么这行肯定有一个空值，

```
arr_val = extras.getIntArray("goto_next_page"); 
```

# ios - 自定义 UITableViewCell 中的 UITextField 不可见

> ID：12541551
> 
> 赞同：4
> 
> 时间：2012-09-22T07:00:45.803
> 
> 标签：ios, uitableview, uitextfield

我正在创建一个带有一个标签和一个文本字段的自定义 UITableViewCell（以编程方式，通过子类化）。

这段代码

```
#import "TextCell.h"

@implementation TextCell

- (id)initWithStyle:(UITableViewCellStyle)style reuseIdentifier:(NSString *)reuseIdentifier
{
    self = [super initWithStyle:style reuseIdentifier:reuseIdentifier];
    if (self) {
        UITextField *subjectField = [[UITextField alloc] initWithFrame:CGRectMake(59, 11, 399, 21)];

        subjectField.font = [UIFont systemFontOfSize:17];
        subjectField.placeholder = @"(placeholder)";

        [self.contentView addSubview:subjectField];

        self.textField = subjectField;
    }
    return self;
} 
```

导致不可见的文本字段：

![隐形场截图](../Images/54d8e2596672b2254cb74dcc9b5a5741.png)

但是，如果我选择此单元格，文本字段将变为可见：

![在此处输入图像描述](../Images/7fdc532abb1614d9a5fb0ec973db4c1b.png)

如果我实施

```
- (void)layoutSubviews
{
     self.textField.frame = CGRectMake(59, 11, 399, 21);

     /* thus text field init method becomes initWithFrame:CGRectZero;
} 
```

文本字段变得可见，但标签消失并且单元格的宽度突然增加：

![在此处输入图像描述](../Images/d3bd37152a021f2c33eb606c3e7ea201.png)

请指出我正确的方向。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-22T07:06:26.447

第一次尝试时，文本字段将位于标签后面，因此不可见。我假设这是您正在使用的单元格的标准标签？在您访问它之前不会创建它，默认情况下它是单元格的整个宽度，因此它会覆盖您的文本字段。使用您自己的带有特定框架的自定义标签来避免这种情况。

在第二个示例中，您忘记了调用`[super layoutSubviews]`，这是非常重要的。

# javascript - JavaScript/Jquery 游戏边界碰撞检测

> ID：12541556
> 
> 赞同：1
> 
> 时间：2012-09-22T07:01:27.350
> 
> 标签：javascript, jquery, collision-detection

> **可能重复：**
> [jQuery/Javascript 碰撞检测](https://stackoverflow.com/questions/4230029/jquery-javascript-collision-detection)

我正在学习如何用 JavaScript 编写代码，并且我正在使用 jQuery 库。我有一个用 WASD 键在屏幕上移动的播放器。我希望他在到达比赛边界时停下来。我用了两个`div`s，一个叫做playground（游戏发生的区域），另一个叫做player。我有他们这样设置：

```
<div id="playground">
    <div id="player"></div>
</div> 
```

球员的动作很好，但我希望他在到达操场边缘时停下来。请深入解释您的答案，因为我是 JavaScript 编程的新手。任何帮助将非常感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-22T07:21:02.823

所以你需要使用这样的东西：

```
 if (this.__move.left) {
      if (!this.isPlaying("walk_left"))
        this.stop().animate("walk_left", 10);
    } 
```

这是一个非常好的示例和演示。试试[http://craftyjs.com/demos/tutorial/tutorial.html](http://craftyjs.com/demos/tutorial/tutorial.html)

# jquery - JQuery Datepicker 仅适用于月份和年份

> ID：12541559
> 
> 赞同：0
> 
> 时间：2012-09-22T07:01:54.253
> 
> 标签：jquery, datepicker

我正在使用 jquery Datepicker UI。我只需要使用这个 UI 显示月份和年份。我得到了使用以下代码：

```
$(function() {
         $('.date-picker').datepicker( {
        changeMonth: true,
        changeYear: true,
        showButtonPanel: true,
        dateFormat: 'yy-mm',
        onChangeMonthYear: function(dateText, inst) { 
            var month = $("#ui-datepicker-div .ui-datepicker-month :selected").val();
            var year = $("#ui-datepicker-div .ui-datepicker-year :selected").val();
            $(this).datepicker('setDate', new Date(year, month, 1));

        }
    });
}); 
```

HTML：

```
<input type='text' id='date' name='eattdate' class='date-picker' value='".$date."' style='width:105px;'> 
```

这工作正常，它默认显示当前月份和年份。但我想选择月份和年份。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-05-10T22:00:44.903

首先，我相信你错过了日历的隐藏（我猜你想要那个，因为你只处理几个月和几年，但我可能错了）。因此，如果这确实是您的意图，请使用：

```
.ui-datepicker-calendar {
    display: none;
} 
```

在您的 CSS 文件中。

现在，对于没有在之前选择的日期开启的日期选择器，可以引入一个`beforeShow`，如下：

```
$(function() {
     $('.date-picker').datepicker( {
        changeMonth: true,
        changeYear: true,
        showButtonPanel: true,
        dateFormat: 'yy-mm',

        onChangeMonthYear: function(dateText, inst) { 
            var month = $("#ui-datepicker-div .ui-datepicker-month :selected").val();
            var year = $("#ui-datepicker-div .ui-datepicker-year :selected").val();

            $(this).datepicker('setDate', new Date(year, month, 1));
        },

        beforeShow: function() {
            var dateText = $(this).val();
            var isPopulated = dateText.length > 0;

            if (isPopulated) {
                var selectedDate = $.datepicker.parseDate("yy-mm-dd", dateText + "-01");

                $(this).datepicker("option", "defaultDate", selectedDate);
                $(this).datepicker("setDate", selectedDate);
                $(this).datepicker("refresh");
            }
        }
    });
}); 
```

我相信这应该能得到你想要的。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-09-22T07:05:42.243

尝试这个：

```
defaultDate: new Date() 
```

# sql-server - 使用脚本更改 SQL Server 身份验证模式

> ID：12541560
> 
> 赞同：17
> 
> 时间：2012-09-22T07:02:04.407
> 
> 标签：sql-server, sql-server-2008-r2

我想知道有人如何仅通过脚本更改 sqlserver 身份验证模式？

我需要一个脚本在查询窗口中运行并将身份验证更改为混合模式。任何想法？

* * *

## 回答 #1

> 赞同：34
> 
> 时间：2012-09-22T07:07:37.977

对于仅 Windows 模式：

```
EXEC xp_instance_regwrite N'HKEY_LOCAL_MACHINE', 
    N'Software\Microsoft\MSSQLServer\MSSQLServer', N'LoginMode', REG_DWORD, 1 
```

使用`2`而不是`1`混合身份验证。

更改此设置后，您必须重新启动 SQL Server。你不能从 T-SQL 做到这一点。在命令提示符下，它类似于`net stop mssqlserver`then `net start mssqlserver`。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2014-12-02T14:21:58.207

虽然这不是这个问题的严格答案，但当我试图找出如何**使用脚本更改数据库以部分包含**时，我不断地遇到这个和类似的帖子。

如果您尝试做同样的事情，那么您想要：

```
ALTER DATABASE blah
SET CONTAINMENT=PARTIAL 
```

# javascript - 开放层。未选择新功能（多层）

> ID：12541561
> 
> 赞同：3
> 
> 时间：2012-09-22T07:02:20.827
> 
> 标签：javascript, openlayers

这是一个例子：http: [//jsfiddle.net/runixer/6FDQ3/12/](http://jsfiddle.net/runixer/6FDQ3/12/)

重现问题：在底部工具栏的帮助下绘制一些特征，并尝试突出显示它们。只有最后（第三）层的特征会突出显示。我觉得这个错误在我的代码中，但我无法弄清楚:(

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-23T06:43:47.923

似乎只有一个 SelectFeature Control 可以处于活动状态：http: [//lists.osgeo.org/pipermail/openlayers-users/2012-June/025307.html](http://lists.osgeo.org/pipermail/openlayers-users/2012-June/025307.html)

解决方案是对所有矢量图层使用一个 SelectFeature：http: [//jsfiddle.net/6FDQ3/13/](http://jsfiddle.net/6FDQ3/13/)

# java - 存储 TableRows 的 ArrayList，然后将其读回：如何做到这一点？

> ID：12541571
> 
> 赞同：0
> 
> 时间：2012-09-22T07:04:48.107
> 
> 标签：java, android, ioexception, tablerow, objectoutputstream

我想尝试用一小组 TextViews 创建一个 TableRow，每个 TextViews 都保存一个原始字符串数据。我想，也许如果我存储这些 TableRows 的 ArrayList，并且如果成功地来回读/写，我会简化很多时间来在 Android 屏幕上创建数据表或图表。

从表面上看，我觉得我必须创建很多 View 的子类，并为所有这些实现 Serializable。这完全超出了我的能力。

**我的主要问题是：是否可以将一组 TextView 存储到 TableRow 中，创建一个充满 TableRows 的数组，并将它们中的每一个单独添加到 TableLayout 中？**

到目前为止，我无法超越使用 ObjectOutputStream 保存数据，因为它不断抛出 NotSerializableException、InvalidAccessException、IllegalAccessException、EOFException、IOException 等各种不同的异常。

如果我的概念不是很好，请问我应该在哪里重新考虑？我应该改变什么，我应该如何存储数据组？提前致谢。

事不宜迟，这是我用来尝试保存 TableRows 的 ArrayList 的代码，以及我在过去 12 小时内不停地工作的所有笨蛋。

```
package tt.tt;

import java.io.BufferedInputStream;
import java.io.BufferedOutputStream;
import java.io.FileInputStream;
import java.io.FileNotFoundException;
import java.io.FileOutputStream;
import java.io.IOException;
import java.io.ObjectInputStream;
import java.io.ObjectOutputStream;
import java.io.Serializable;
import java.io.StreamCorruptedException;
import java.util.ArrayList;
import java.util.List;
import java.util.Random;
import android.app.Activity;
import android.os.Bundle;
import android.util.Log;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.Button;
import android.widget.TableLayout;
import android.widget.TableRow;
import android.widget.TextView;

public class Test extends Activity implements OnClickListener, Serializable {

    private static final long serialVersionUID = 2466231508464769438L;

    public class Format implements Serializable {
        private static final long serialVersionUID = 1L;
        public String name;
        public long points;
        public int position;
    }

    List<Format> formats = new ArrayList<Format>();
    TableRow row;
    TableLayout layout;

    @Override
    public void onCreate(Bundle b) {
        super.onCreate(b);
        setContentView(R.layout.table);
        layout = (TableLayout) this.findViewById(R.id.table);
        Button make = (Button) this.findViewById(R.id.make);
        make.setOnClickListener(this);
        Button retrieve = (Button) this.findViewById(R.id.retrieve);
        retrieve.setOnClickListener(this);
    }

    public void onClick(View v) {
        switch (v.getId()) {
            case R.id.make:
                make();
                break;
            case R.id.retrieve:
                retrieve();
                break;
        }
    }

    public void make() {
        Random r = new Random();
        Format f = new Format();
        f.name = r.toString();
        f.points = r.nextLong();
        f.position = r.nextInt(10);
        formats.add(f);

        FileOutputStream out;
        try {
            out = this.openFileOutput("format", Activity.MODE_PRIVATE);
            ObjectOutputStream output = new ObjectOutputStream(new BufferedOutputStream(out));
            output.writeObject(formats);
            output.flush();
            output.close();
        }
        catch (FileNotFoundException e) {
            Log.d("Test", "Can't save data", e);
        }
        catch (IOException e) {
            Log.d("Test", "Can't save data", e);
        }

        TextView text = new TextView(this);
        text.setText(Integer.toString(f.position));
        row = new TableRow(this);
        row.addView(text, 0, TableRow.LayoutParams.WRAP_CONTENT);
        text = new TextView(this);
        text.setText(f.name);
        row.addView(text, 1, TableRow.LayoutParams.WRAP_CONTENT);
        text = new TextView(this);
        text.setText(Long.toString(f.points));
        row.addView(text, 2, TableRow.LayoutParams.WRAP_CONTENT);

        layout.addView(row);
    }

    public void retrieve() {
        layout.removeAllViews();
        FileInputStream in;
        try {
            in = this.openFileInput("format");
            ObjectInputStream input = new ObjectInputStream(new BufferedInputStream(in));
            List<Format> temp = (List<Format>) input.readObject();
            input.close();
        }
        catch (FileNotFoundException e) {
            Log.d("Test", "Can't load data", e);
        }
        catch (StreamCorruptedException e) {
            Log.d("Test", "Can't load data", e);
        }
        catch (IOException e) {
            Log.d("Test", "Can't load data", e);
        }
        catch (ClassNotFoundException e) {
            Log.d("Test", "Can't load data", e);
        }
    }

} 
```

不幸的是，当我在这里到达这条线时：

```
output.writeObject(formats); 
```

它抛出一个错误，从 Logcat 检索：

```
09-22 14:50:43.658: D/Test(29362): Can't save data
09-22 14:50:43.658: D/Test(29362): java.io.NotSerializableException: android.widget.TableLayout
09-22 14:50:43.658: D/Test(29362):  at java.io.ObjectOutputStream.writeNewObject(ObjectOutputStream.java:1364)
09-22 14:50:43.658: D/Test(29362):  at java.io.ObjectOutputStream.writeObjectInternal(ObjectOutputStream.java:1671)
09-22 14:50:43.658: D/Test(29362):  at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:1517)
09-22 14:50:43.658: D/Test(29362):  at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:1481)
09-22 14:50:43.658: D/Test(29362):  at java.io.ObjectOutputStream.writeFieldValues(ObjectOutputStream.java:979)
09-22 14:50:43.658: D/Test(29362):  at java.io.ObjectOutputStream.defaultWriteObject(ObjectOutputStream.java:368)
09-22 14:50:43.658: D/Test(29362):  at java.io.ObjectOutputStream.writeHierarchy(ObjectOutputStream.java:1074)
09-22 14:50:43.658: D/Test(29362):  at java.io.ObjectOutputStream.writeNewObject(ObjectOutputStream.java:1404)
09-22 14:50:43.658: D/Test(29362):  at java.io.ObjectOutputStream.writeObjectInternal(ObjectOutputStream.java:1671)
09-22 14:50:43.658: D/Test(29362):  at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:1517)
09-22 14:50:43.658: D/Test(29362):  at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:1481)
09-22 14:50:43.658: D/Test(29362):  at java.io.ObjectOutputStream.writeFieldValues(ObjectOutputStream.java:979)
09-22 14:50:43.658: D/Test(29362):  at java.io.ObjectOutputStream.defaultWriteObject(ObjectOutputStream.java:368)
09-22 14:50:43.658: D/Test(29362):  at java.io.ObjectOutputStream.writeHierarchy(ObjectOutputStream.java:1074)
09-22 14:50:43.658: D/Test(29362):  at java.io.ObjectOutputStream.writeNewObject(ObjectOutputStream.java:1404)
09-22 14:50:43.658: D/Test(29362):  at java.io.ObjectOutputStream.writeObjectInternal(ObjectOutputStream.java:1671)
09-22 14:50:43.658: D/Test(29362):  at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:1517)
09-22 14:50:43.658: D/Test(29362):  at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:1481)
09-22 14:50:43.658: D/Test(29362):  at java.util.ArrayList.writeObject(ArrayList.java:644)
09-22 14:50:43.658: D/Test(29362):  at java.lang.reflect.Method.invokeNative(Native Method)
09-22 14:50:43.658: D/Test(29362):  at java.lang.reflect.Method.invoke(Method.java:511)
09-22 14:50:43.658: D/Test(29362):  at java.io.ObjectOutputStream.writeHierarchy(ObjectOutputStream.java:1053)
09-22 14:50:43.658: D/Test(29362):  at java.io.ObjectOutputStream.writeNewObject(ObjectOutputStream.java:1404)
09-22 14:50:43.658: D/Test(29362):  at java.io.ObjectOutputStream.writeObjectInternal(ObjectOutputStream.java:1671)
09-22 14:50:43.658: D/Test(29362):  at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:1517)
09-22 14:50:43.658: D/Test(29362):  at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:1481)
09-22 14:50:43.658: D/Test(29362):  at tt.tt.Test.make(Test.java:75)
09-22 14:50:43.658: D/Test(29362):  at tt.tt.Test.onClick(Test.java:55)
09-22 14:50:43.658: D/Test(29362):  at android.view.View.performClick(View.java:3549)
09-22 14:50:43.658: D/Test(29362):  at android.view.View$PerformClick.run(View.java:14400)
09-22 14:50:43.658: D/Test(29362):  at android.os.Handler.handleCallback(Handler.java:605)
09-22 14:50:43.658: D/Test(29362):  at android.os.Handler.dispatchMessage(Handler.java:92)
09-22 14:50:43.658: D/Test(29362):  at android.os.Looper.loop(Looper.java:154)
09-22 14:50:43.658: D/Test(29362):  at android.app.ActivityThread.main(ActivityThread.java:4945)
09-22 14:50:43.658: D/Test(29362):  at java.lang.reflect.Method.invokeNative(Native Method)
09-22 14:50:43.658: D/Test(29362):  at java.lang.reflect.Method.invoke(Method.java:511)
09-22 14:50:43.658: D/Test(29362):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)
09-22 14:50:43.658: D/Test(29362):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)
09-22 14:50:43.658: D/Test(29362):  at dalvik.system.NativeStart.main(Native Method) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-22T13:54:56.797

经过长时间的星际争霸 2 会议，想通了。所有这些问题的真正解决方案是**不为嵌套类实现接口 Serializable，**无论是公共的、受保护的还是私有的。

我发誓，如果你在嵌套类中实现该接口，它也会尝试序列化外部类中的其他元素，在这种情况下，就是 Activity 类。当然，它会失败。你不能序列化一个 Activity 类，有这么多不可序列化的成员和实例，如果你这样做，就不可能让它工作。

就这样。

```
package tt.tt;

import java.io.BufferedInputStream;
import java.io.BufferedOutputStream;
import java.io.FileInputStream;
import java.io.FileNotFoundException;
import java.io.FileOutputStream;
import java.io.IOException;
import java.io.ObjectInputStream;
import java.io.ObjectOutputStream;
import java.io.StreamCorruptedException;
import java.util.ArrayList;
import java.util.List;
import java.util.Random;
import android.app.Activity;
import android.os.Bundle;
import android.util.Log;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.Button;
import android.widget.TableLayout;
import android.widget.TableRow;
import android.widget.TextView;

public class Test extends Activity implements OnClickListener {

    List<Format> formats = new ArrayList<Format>();
    TableRow row;
    TableLayout layout;

    public void onClick(View v) {
        switch (v.getId()) {
            case R.id.make:
                make();
                break;
            case R.id.retrieve:
                retrieve();
                break;
        }
    }

    @Override
    public void onCreate(Bundle b) {
        super.onCreate(b);
        setContentView(R.layout.table);
        layout = (TableLayout) this.findViewById(R.id.table);
        Button make = (Button) this.findViewById(R.id.make);
        make.setOnClickListener(this);
        Button retrieve = (Button) this.findViewById(R.id.retrieve);
        retrieve.setOnClickListener(this);
    }

    public void make() {
        Random r = new Random();
        Format f = new Format();
        f.position = r.nextInt(10);
        f.name = r.toString();
        f.points = r.nextLong();
        formats.add(f);

        FileOutputStream out;
        try {
            out = this.openFileOutput("format", Activity.MODE_PRIVATE);
            ObjectOutputStream output = new ObjectOutputStream(new BufferedOutputStream(out));
            output.writeObject(formats);
            output.flush();
            output.close();
        }
        catch (FileNotFoundException e) {
            Log.d("Format", "Can't save data", e);
        }
        catch (IOException e) {
            Log.d("Format", "Can't save data", e);
        }
    }

    public void retrieve() {
        formats.clear();
        FileInputStream in;
        try {
            in = this.openFileInput("format");
            ObjectInputStream input = new ObjectInputStream(new BufferedInputStream(in));
            formats = (ArrayList<Format>) input.readObject();
            input.close();
        }
        catch (FileNotFoundException e) {
            Log.d("Format", "Can't load data", e);
        }
        catch (StreamCorruptedException e) {
            Log.d("Format", "Can't load data", e);
        }
        catch (IOException e) {
            Log.d("Format", "Can't load data", e);
        }
        catch (ClassNotFoundException e) {
            Log.d("Format", "Can't load data", e);
        }
        int count = 0;
        while (count < formats.size()) {
            Format f = formats.get(count);
            row = new TableRow(this);
            TextView temp = new TextView(this);
            TableRow.LayoutParams params = new TableRow.LayoutParams(TableRow.LayoutParams.WRAP_CONTENT, TableRow.LayoutParams.WRAP_CONTENT, 1f);
            temp.setText(Integer.toString(f.position));
            row.addView(temp, 0, params);
            temp = new TextView(this);
            temp.setText(f.name);
            row.addView(temp, 1, params);
            temp = new TextView(this);
            temp.setText(Long.toString(f.points));
            row.addView(temp, 2, params);
            layout.addView(row);
            count++;
        }
    }
} 
```

和格式类：

```
package tt.tt;

import java.io.Serializable;

public class Format implements Serializable {
    private static final long serialVersionUID = 1L;
    public String name;
    public long points;
    public int position;

    @Override
    public String toString() {
        return new StringBuilder().append(Integer.toString(position)).append("    ").append(name).append("     ").append(points).toString();
    }
} 
```

# iphone - 如何在sqlite中编写复杂的选择

> ID：12541572
> 
> 赞同：0
> 
> 时间：2012-09-22T07:04:49.547
> 
> 标签：iphone, sql, sqlite, isqlquery

我有如下的sql：

```
PRAGMA foreign_keys = 1;

CREATE TABLE people ( pid INTEGER   PRIMARY KEY, name TEXT );
CREATE TABLE groups ( gid INTEGER   PRIMARY KEY, name TEXT );

CREATE TABLE p_g_bridge (
        pid INTEGER   NOT NULL   REFERENCES people,
    gid INTEGER   NOT NULL   REFERENCES groups,
    PRIMARY KEY ( pid, gid )
);

-- people
INSERT INTO people VALUES ( 1, 'Alice' );
INSERT INTO people VALUES ( 2, 'Bob' );
INSERT INTO people VALUES ( 3, 'Charlie' );

-- groups
INSERT INTO groups VALUES ( 1, 'users' );
INSERT INTO groups VALUES ( 2, 'admin' );
INSERT INTO groups VALUES ( 3, 'web' );
INSERT INTO groups VALUES ( 4, 'db' );
INSERT INTO groups VALUES ( 5, 'nobody' );

-- everyone in users
INSERT INTO p_g_bridge VALUES ( 1, 1 );
INSERT INTO p_g_bridge VALUES ( 2, 1 );
INSERT INTO p_g_bridge VALUES ( 3, 1 );

-- Alice and Bob into admin
INSERT INTO p_g_bridge VALUES ( 1, 2 );
INSERT INTO p_g_bridge VALUES ( 2, 2 );

-- Charlie into web
INSERT INTO p_g_bridge VALUES ( 3, 3 );

-- Alice and Charlie into db
INSERT INTO p_g_bridge VALUES ( 1, 4 );
INSERT INTO p_g_bridge VALUES ( 3, 4 ); 
```

下面是表格：

```
select * from groups;
gid         name      
----------  ----------
1           users     
2           admin     
3           web       
4           db        
5           nobody    
sqlite> select * from people;
select * from people;
pid         name      
----------  ----------
1           Alice     
2           Bob       
3           Charlie   

sqlite> select * from p_g_bridge;
select * from p_g_bridge;
pid         gid       
----------  ----------
1           1         
2           1         
3           1         
1           2         
2           2         
3           3         
1           4         
3           4 
```

我希望查询所有都是“用户”的人，即）结果必须如下：

```
pid         name      
----------  ----------
1           Alice     
2           Bob       
3           Charlie 
```

我写一个这样的查询：

```
sqlite> select * from people where people.pid = (select p_g_bridge.pid from p_g_bridge where p_g_bridge .gid = (select groups.gid from groups where groups.name = 'users')); 
```

IT 给出的结果如下：

```
pid         name      
----------  ----------
1           Alice 
```

但是查询必须返回如上所述的结果。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-22T07:10:19.017

您`IN`不希望`=`您的子选择。 `IN`检查成员资格，`=`从子查询中提取一个值（第一个，最后一个，它是特定于实现的），或者当有多个结果时抛出错误。

```
select *
from people
where people.pid IN 
    (
    select p_g_bridge.pid
    from p_g_bridge
    where p_g_bridge.gid IN
        (
        select groups.gid
        from groups
        where groups.name = 'users'
        )
    ); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-22T07:10:50.727

试试这个，告诉我结果是什么

```
select people.pid, people.name
where
people.pid=p_g_bridge.pid
and
groups.pid=p_g_bridge.gid
and
groups.name = 'users' 
```

# php - 检查来自不同表的 2 行它们是否相同

> ID：12541574
> 
> 赞同：0
> 
> 时间：2012-09-22T07:04:56.340
> 
> 标签：php, mysql

我有 2 张桌子 1 是“kiraci”，其他的是“kira”。这两个表都有一个“KIRACI_ID”。

“kiraci KIRACI_ID”是一个主键（auto_increment）。“kira KIRACI_ID”是整数。

所以我想要的是当我发布一个值时，我想检查“kiraci KIRACI_ID”中是否有这样的值，如果有，那么它将在“kira KIRACI_ID”中设置这个值。

```
$id = $_POST["id"];

mysql_connect(localhost,root);
$dbname = "kiracilar";
mysql_select_db($dbname);
$query= "SELECT kiraci.KIRACI_ID, kira.KIRACI_ID";
mysql_query($query) or die('Query "' . $query . '" failed: ' . mysql_error()); 

$query2= "INSERT INTO kira (KIRACI_ID) VALUES ('$id')";
mysql_query($query2) or die('Query "' . $query2 . '" failed: ' . mysql_error()); 
```

所以我需要一个查询或其他东西来检查我认为的这两个查询？（使用 PHP5，Phpmyadmin）。

如果你能帮助我，那就太好了。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-22T07:11:15.197

使用这个查询

```
$query= "SELECT kiraci.KIRACI_ID from kiraci where kiraci.KIRACI_ID ='your post value' ";
$sql = mysql_query($query);
$row = mysql_num_rows($sql);
if($row > 0)
{
    $query2= "INSERT INTO kira (KIRACI_ID,Kira,Odeme) VALUES ('$id','$kira','$odeme')";
    mysql_query($query2) or die('Query "' . $query2 . '" failed: ' . mysql_error()); 
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-22T07:06:17.687

你需要的是`UNION[ALL]`：

```
SELECT KIRACI_ID
FROM kiraci
UNION
SELECT KIRACI_ID
FROM kira 
```

# java - 如何添加/导入 org.h2.jdbcx.JdbcConnectionPool？它位于 Netbeans 7 / H2 的什么位置

> ID：12541575
> 
> 赞同：1
> 
> 时间：2012-09-22T07:05:01.483
> 
> 标签：java, netbeans, h2

我正在 Netbeans 7 和 h2 数据库中使用 Java 7 开发一个小型应用程序。无法解析以下语句。

```
import org.h2.jdbcx.JdbcConnectionPool; 
```

错误堆栈如下所示。

> 创建的目录：C:\Users\root\Desktop\ShopProject2\build\empty 将 26 个源文件编译到 C:\Users\root\Desktop\ShopProject2\build\web\WEB-INF\classes 警告：[options] 引导类路径未与 -source 1.5 C:\Users\root\Desktop\ShopProject2\src\java\dao\JdbcConnection.java:8 一起设置：错误：包 org.h2.jdbcx 不存在导入 org.h2.jdbcx.JdbcConnectionPool ; C:\Users\root\Desktop\ShopProject2\src\java\dao\JdbcConnection.java:15: 错误：找不到符号 private static JdbcConnectionPool pool = JdbcConnectionPool.create(url, username, password); 符号：类 JdbcConnectionPool 位置：类 JdbcConnection C:\Users\root\Desktop\ShopProject2\src\java\dao\JdbcConnection.java:15: 错误：找不到符号私有静态 JdbcConnectionPool pool = JdbcConnectionPool.create(url, username, 密码）; 象征：
> 变量 JdbcConnectionPool 位置：类 JdbcConnection 注意：一些输入文件使用未经检查或不安全的操作。注意：使用 -Xlint:unchecked 重新编译以获取详细信息。3 个错误 1 ​​个警告

有人可以帮忙吗？提前谢谢了。内存

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-22T07:30:12.473

不确定 Netbeans 是否包含 H2 数据库的 JDBC 驱动程序，但您可以[从 H2 站点下载它](http://www.h2database.com/html/download.html)。

另外，请参阅[关于 how-to-setup-classpath-in-netbeans](https://stackoverflow.com/questions/7598623/how-to-setup-classpath-in-netbeans)的问题。

# gwt - gchart没有出现

> ID：12541591
> 
> 赞同：1
> 
> 时间：2012-09-22T07:07:06.763
> 
> 标签：gwt, gchart

我正在使用 GChart 中的这个简单示例

```
 public void displayGChart(final ArrayList<ResultDTO> result){

        GChart c = new GChart();
        c.setChartTitle("<b>x<sup>2</sup> vs x</b>");
        c. setChartSize(150, 150);
        c. addCurve();
         for (int i = 0; i < 10; i++) 
             c.  getCurve().addPoint(i,i*i);
         c.getCurve().setLegendLabel("x<sup>2</sup>");
         c. getXAxis().setAxisLabel("x");
         c. getYAxis().setAxisLabel("x<sup>2</sup>");

    verticalPanel.add(c);
    verticalPanel.add(new Label("test"));
} 
```

当我运行应用程序时，我没有收到任何错误，我可以在浏览器上看到这个“测试”，但没有别的，没有图表出现..

我已经添加了罐子和

```
 <inherits name='com.googlecode.gchart.GChart' /> 
```

任何想法可能是什么原因

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-22T15:14:11.730

请致电 c.update(); 将图表添加到面板后，如下所示：

```
 verticalPanel.add(c);
    c.update();
    verticalPanel.add(new Label("test")); 
```

这也在这里描述：[http](http://clientsidegchart.googlecode.com/svn/trunk/javadoc/com/googlecode/gchart/client/package-summary.html) ://clientsidegchart.googlecode.com/svn/trunk/javadoc/com/googlecode/gchart/client/package-summary.html ：

> 没有图表？这些示例仅定义图表。要实际显示它，您必须添加和更新它：

```
 // Use this typical GChart boilerplate to test out these examples:
    GChart gchart = new GChartExample00(); 
    RootPanel.get().add(gchart);
    gchart.update(); 
```

# javascript - 防止触发无线电输入的两个绑定事件中的第二个

> ID：12541602
> 
> 赞同：0
> 
> 时间：2012-09-22T07:09:17.560
> 
> 标签：javascript, jquery, dom

我有以下代码：

```
<form [attributes]>
  <input class="bound" type="radio" name="radioGroup" value="1" id="Radio1" />
  <label for="Radio1">One</label>

  <input class="bound" type="radio" name="radioGroup" value="2" id="Radio2" />
  <label for="Radio2">Two</label>

  <input type="submit" value="Submit" />
</form> 
```

现在，这些东西被预先填充了——所以，如果用户登陆这个页面——可能会预先选择一个单选按钮。但是我希望即使单击单选按钮也能触发事件处理程序，所以我使用两个`$.on()`使用“单击”和“更改”：

```
<script type="text/javascript">
  $(function() {
    $(document.body).on('click', '.bound', function(event) {

      console.log( 'called click handler' );
      event.stopPropagation();

    });
    $(document.body).on('change', '.bound', function(event) {

      console.log( 'called change handler' );
      event.stopPropagation();

    });

  });
</script> 
```

当您单击单选按钮时，它会触发这两个事件。我希望只有一个事件被解雇。是否有可能/可行的方法来实现这一目标？我认为`event.stopPropagation()`或`event.stopImmediatePropagation()`会工作，但似乎没有。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-22T07:16:09.240

我认为您不需要 2 个事件处理程序。

```
$(function () {
    $(document.body).on('change', '.bound', function (event) {
        console.log('called change handler');
    });
    // fire it for pre-selected
    $('.bound:checked').change();
}); 
```

***[工作演示。](http://jsfiddle.net/44M6Z/)***

​</p>

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-09-22T07:13:25.213

您可能想使用 event.stopImmediatePropagation()

这将告诉 jQuery 不要触发任何剩余的订阅者。

[http://api.jquery.com/event.stopImmediatePropagation/](http://api.jquery.com/event.stopImmediatePropagation/)

# regex - 使用 ` grep 文件 只是一个简单的问题。我怎样才能（递归地）找到所有包含

> ID：12541604
> 
> 赞同：0
> 
> 时间：2012-09-22T07:10:14.697
> 
> 标签：regex, grep

只是一个简单的问题。我怎样才能（递归地）找到所有包含`<?`（而不是`<?php`）的文件？

谢谢！凯文

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-22T07:15:22.183

使用该`--perl-regexp`标志，以便您可以使用更强大的 perl 兼容正则表达式和负前瞻：

```
grep -Prl '<\?(?!php)' . 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-22T07:18:20.460

好

```
 grep -r \<\? SomeDir 
```

将捕获所有出现的`<?`（并且您可以使用`fgrep`）

然后，您要删除所有出现的 php.ini 文件。你可能会使用

```
grep -r \<\? SomeDir | grep -v php 
```

这应该给你一个足够好的近似值（但有点错误，因为它会跳过包含 `<?` 而`php`不是一起的行）。您可以将第二个替换为`grep`a`awk`或 a`cut`以打印文件名。

你也可以使用

```
grep -rl `<\?[^p][^h]` 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-22T07:14:12.397

你想要的正则表达式是`<\?(?!php)`

# javascript - 使用 jquery 访问 iframe 的 a 我看过一些关于访问 iframe 内数据的文章，所以我在 iframe 中加载的页面中有一个像这样的表：...

所以我只想在那个 iframe 中显示这个表，没有任何标题或其他 div 或任何东西 我怎么能用 jQuery 做到这一点？ 问问题 问问题 2012-09-22T07:10:39.743 6381 次 This question shows research effort; it is useful and clear 1 This question does not show any research effort; it is unclear or not useful Bookmark this question. Show activity on this post. 我看过一些关于访问 iframe 内数据的文章，所以我在 iframe 中加载的页面中有一个像这样的表：...

所以我只想在那个 iframe 中显示这个表，没有任何标题或其他 div 或任何东西 我怎么能用 jQuery 做到这一点？ 更新： html 代码如下所示：我将表格添加到

| ...... // and so on 所以，我只想在那个 iframe 中显示这个 div 阿迪尔的更新： $(window).load(function () { var filteredContents = $('.test').contents().find('.div_iframe').html(); $('.test').contents().find('body').html(filteredContents); }); HTML 看起来像这样： 
[/message.html?msjId=268](/message.html?msjId=268)

[/message.html?msjId=260](/message.html?msjId=260)

以及现在应该显示的表格，它们应该是两个不同的表格，但目前两者都是同一张表格，但与第一个表格msjId重复msjId... 您必须使用 jquery 加载方法而不是准备好。加载时确保加载 iFrame html。另一方面，ready 确保当前页面中的 html 元素准备就绪。 $(window).load(function () { var filteredContents = $('#iframeId').contents().find('.table').html(); $('#iframeId').contents().find('body').html(filteredContents); }); 根据 OP 请求进行更新。 当你有两个元素时，你可以使用 ids 而不是 class，请阅读选择器

[/message.html?msjId=268](/message.html?msjId=268)

[/message.html?msjId=260](/message.html?msjId=260)

$(window).load(function () { var filteredContents1 = $('#frame1').contents().find('.div_iframe').html(); $('#frame1').contents().find('body').html(filteredContents1); var filteredContents2 = $('#frame2').contents().find('.div_iframe').html(); $('#frame2').contents().find('body').html(filteredContents2); }); javascriptjqueryjquery-uiiframe 4 2 回答 2 This answer is useful 1 尝试以下操作： $('iframe-id').contents().find('body').html($('.table').html()); 但 iframe 页面必须与您的包含页面来自同一个域，否则您将收到权限被拒绝错误。 于 2012-09-22T07:28:29.547 回答 This answer is useful 1 您必须使用 jquery 加载方法而不是准备好。加载时确保加载 iFrame html。另一方面，ready 确保当前页面中的 html 元素准备就绪。 $(window).load(function () { var filteredContents = $('#iframeId').contents().find('.table').html(); $('#iframeId').contents().find('body').html(filteredContents); }); 根据 OP 请求进行更新。 当你有两个元素时，你可以使用 ids 而不是 class，请阅读选择器

[/message.html?msjId=268](/message.html?msjId=268)

[/message.html?msjId=260](/message.html?msjId=260)

$(window).load(function () { var filteredContents1 = $('#frame1').contents().find('.div_iframe').html(); $('#frame1').contents().find('body').html(filteredContents1); var filteredContents2 = $('#frame2').contents().find('.div_iframe').html(); $('#frame2').contents().find('body').html(filteredContents2); }); 于 2012-09-22T07:13:19.697 回答 Related 2 backbone.js - 您如何使用速记“事件”对象从视图中监听模型中的更改事件？ 1 javascript - Strange Javascript Number Behavior - Cannot tell difference between 1 and 10 2 php - Jquery validation of a form split across multiple hidden DIVs 2 c# - 输出文本文件 3 javascript - Google 表单的动态 iframe 高度 3 git-tfs - 使用 git-tfs fetch 获取最新会导致合并冲突 1 sorting - Topological sort on an incidence matrice 1 h.264 - Converting between SDP's sprop-parameter-sets and mkv's CodecPrivate 1 python - Socket not defined error in client application 1 php - PHP/SQL PDO 准备/执行插入语句不起作用 Reference php × 1429865 c/c++ × 756500 nginx × 49975 mongodb × 159057 mybatis × 3233 anaconda × 13410 pycharm × 14671 python × 1902243 vscode × 56040 docker × 110988 github × 49000 flask × 49129 ffmpeg × 24037 jmeter × 16910 matplotlib × 63493 bootstrap × 54641

> ID：12541608
> 
> 赞同：1
> 
> 时间：
> 
> 标签：javascript, jquery, jquery-ui, iframe

我看过一些关于访问 iframe 内数据的文章，所以我在 iframe 中加载的页面中有一个像这样的表：`<table class="table">...</table>`所以我只想在那个 iframe 中显示这个表，**没有任何标题或其他 div 或任何东西**我怎么能用 jQuery 做到这一点？更新：html 代码如下所示：我将表格添加到`<div>`

```
<div id="test">
<br>
<table class="table">
<thead>
<tr>
<th> ...... // and so on 
```

所以，我只想在那个 iframe 中显示这个 div**阿迪尔**的更新：

```
$(window).load(function () {
        var filteredContents = $('.test').contents().find('.div_iframe').html();
        $('.test').contents().find('body').html(filteredContents);
}); 
```

HTML 看起来像这样：

```
<iframe class="test" width="100%" height="100%" src="/message.html?msjId=268" style="height:100%;width:100%;">
<iframe class="test" width="100%" height="100%" src="/message.html?msjId=260" style="height:100%;width:100%;"> 
```

以及现在应该显示的表格，它们应该是两个不同的表格，但目前两者都是同一张表格，但与第一个表格`msjId`重复`msjId`...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-22T07:28:29.547

尝试以下操作：

```
$('iframe-id').contents().find('body').html($('.table').html()); 
```

但 iframe 页面必须与您的包含页面来自同一个域，否则您将收到权限被拒绝错误。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-22T07:13:19.697

您必须使用 jquery 加载方法而不是准备好。加载时确保加载 iFrame html。另一方面，ready 确保当前页面中的 html 元素准备就绪。

```
$(window).load(function () {  
      var filteredContents = $('#iframeId').contents().find('.table').html();
      $('#iframeId').contents().find('body').html(filteredContents);
}); 
```

**根据 OP 请求进行更新。**当你有两个元素时，你可以使用 ids 而不是 class，请阅读**[选择器](http://api.jquery.com/category/selectors/)**

```
<iframe id="frame1" width="100%" height="100%" src="/message.html?msjId=268" style="height:100%;width:100%;">
<iframe id="frame2" width="100%" height="100%" src="/message.html?msjId=260" style="height:100%;width:100%;">

 $(window).load(function () {
     var filteredContents1 = $('#frame1').contents().find('.div_iframe').html();
     $('#frame1').contents().find('body').html(filteredContents1);

     var filteredContents2 = $('#frame2').contents().find('.div_iframe').html();
     $('#frame2').contents().find('body').html(filteredContents2);

 }); 
```

 |
| --- |

# javascript - DOMElement 是可渲染的吗？

> ID：12541609
> 
> 赞同：3
> 
> 时间：2012-09-22T07:10:45.967
> 
> 标签：javascript, html, dom

有没有办法检查元素是否可渲染？

例如，我想要一些方法返回`true`等`br` `a` `div` `body` `html`

但要返回`false`等`head` `style` `script`

我试过`if(!el.style) return false;`了，但看起来很均匀`head`并且`style`有`.style`

有可能还是我应该只列出可呈现的标记名？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-22T09:30:41.473

我想我有一个简单的解决方案。检查创建时有哪些元素`display: none`。

[JsFiddle在这里](http://jsfiddle.net/web5me/n9JfR/1/)

```
function isDefaultVisible(domElement) {
    var el = document.createElement(domElement.tagName);
    return window.getComputedStyle(el,null).getPropertyValue('display') != 'none';
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-22T08:36:50.363

所有元素都可以渲染。这实际上取决于浏览器的默认样式表。有关更多信息，请参阅这篇精彩的文章：

[http://mathiasbynens.be/notes/css-hidden-elements](http://mathiasbynens.be/notes/css-hidden-elements)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-22T08:26:36.110

```
function isElementRenderable(el){
    if(el.nodeType != 1) return false;
    if(el instanceof HTMLHeadElement || el instanceof HTMLLinkElement ||
       el instanceof HTMLTitleElement|| el instanceof HTMLMetaElement ||
       el instanceof HTMLBaseElement || el instanceof HTMLStyleElement||
       el instanceof HTMLScriptElement)
    return false;
    return true;
} 
```

# ruby-on-rails - 使用 accept_nested_attributes_for 在表单中进行了哪些更改

> ID：12541611
> 
> 赞同：0
> 
> 时间：2012-09-22T07:10:56.527
> 
> 标签：ruby-on-rails, forms, field, nested-attributes

关于这篇文章：[tracking activerecord objects](http://archives.ryandaigle.com/articles/2008/3/31/what-s-new-in-edge-rails-dirty-objects)

我需要知道使用accepts_nested_attributes_for 以大形式更改了哪些字段。

目前，该表格按预期运作良好。但除此之外，我还在做关于用户更改的“日志历史记录”。

我已经尝试过哈希映射，但对我来说真的很复杂，因为模型不小，谈论上面的文章可能存在更好的跟踪变化的方法。

我的模型是（以防万一）：

```
class Customer < ActiveRecord::Base
  has_many   :addresses

  attr_accessible :nom, :prenom, :langue, :nationalite, :codeFiscal, :hidden_status, :subscribed
  attr_accessible :addresses_attributes, allow_destroy: true

  accepts_nested_attributes_for :addresses
end

class Address < ActiveRecord::Base
  belongs_to :customer
  has_many   :telephones

  attr_accessible :flag, :societe, :titre, :persContact, :rue, :rue1, :nopostal, :lieu, :pays
  attr_accessible :hidden_status
  attr_accessible :telephones_attributes

  accepts_nested_attributes_for :telephones, :reject_if => :all_blank, :allow_destroy => true
end

class Telephone < ActiveRecord::Base
  belongs_to :address

  attr_accessible :typeNumero, :numeroTel
end 
```

（型号很正常）。

有什么想法吗？如果我被迫映射哈希，你有关于如何做的小样本吗？

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-16T02:24:33.890

经过几个选项（感谢Beerlington）和我想要的上面相同的文章：

阅读：[ActiveRecord::Dirty](http://ar.rubyonrails.org/classes/ActiveRecord/Dirty.html)

```
def update
    @customer = Customer.find(params[:id])
    @customer.assign_attributes(params[:customer])
    if @customer.valid?
      # If changued I revise the record in the model
      @customer = @customer.requires_log if @customer.changed?
      # and very useful: @customer.changes gives you an array con every changue
      @customer.save
    end
    # similar for addresses and phones but into a loop:
    # @customer.addresses.each do |address|   ...  end
    # I didn't put it because it is repetitive
  end 
```

该过程中的重要事项是：

1.  要应用 assign_attributes 而不是保存以在保存前跟踪更改。
2.  在这种特殊情况下适用有效吗？只跟踪正确的变化。
3.  使用变更，然后保存等。

# c# - 如何在 C# 中使用 OAuth 连接到 Tumblr API？

> ID：12541617
> 
> 赞同：1
> 
> 时间：2012-09-22T07:11:50.240
> 
> 标签：c#, oauth, tumblr

我正在尝试开发一个 C# 简单应用程序来与[Tumblr v2 APIs](http://www.tumblr.com/docs/en/api/v2#auth)交互。我想在 Tumblr 上发布照片和文字。

我找到了这个库 RestSharp：[https ://github.com/restsharp/RestSharp/blob/master/RestSharp.IntegrationTests/oAuth1Tests.cs](https://github.com/restsharp/RestSharp/blob/master/RestSharp.IntegrationTests/oAuth1Tests.cs)

DevDefined.OAuth - .Net 的 OAuth 消费者和提供者实现：[http ://code.google.com/p/devdefined-tools/wiki/OAuth](http://code.google.com/p/devdefined-tools/wiki/OAuth)

我无法正确使用 OAuth 进行 Tumblr 身份验证。有没有人在 C# 中有一个完整的工作示例来说明它是如何工作的？

谢谢。

# ios - 关闭游戏中心后应用程序停止响应触摸

> ID：12541618
> 
> 赞同：2
> 
> 时间：2012-09-22T07:11:52.363
> 
> 标签：ios, game-center

关闭任何 Gamecenter 覆盖后，覆盖正确消失，我的游戏窗口再次显示，但它不响应触摸。我搜索了谷歌的答案并提出了很多建议，但没有任何效果。这是我当前的代码：

```
 GKGameCenterViewController *gameCenterController = [[GKGameCenterViewController alloc] init];
    if (gameCenterController != nil)
    {
       window = [[UIApplication sharedApplication] keyWindow];
       gameView = [[window subviews] objectAtIndex:0];

       gameCenterController.gameCenterDelegate = self;
       gameCenterController.viewState = GKGameCenterViewControllerStateAchievements;
       tempVC=[[UIViewController alloc] init];

       [[UIApplication sharedApplication].keyWindow addSubview:tempVC.view];
       [tempVC presentViewController: gameCenterController animated: YES completion:nil];
    }

 - (void)gameCenterViewControllerDidFinish:(GKGameCenterViewController *)gameCenterViewController
 {
     [tempVC dismissViewControllerAnimated:YES completion:nil];
     [tempVC.view removeFromSuperview];
     [tempVC release];

     [window becomeFirstResponder];
     [window bringSubviewToFront:gameView];
     [window makeKeyAndVisible];
 } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-27T09:02:07.587

您需要在关闭动画完成后释放游戏中心视图控制器并使主窗口成为第一响应者。这是正确的代码：

```
- (void)gameCenterViewControllerDidFinish:
(GKGameCenterViewController *)gameCenterViewController {

    [tempVC dismissViewControllerAnimated:YES completion: ^(void) {
        [tempVC.view removeFromSuperview];
        [tempVC release];

        [window becomeFirstResponder];
        [window bringSubviewToFront:gameView.view];
        [window makeKeyAndVisible];
     } ];
} 
```

# javascript - 如何在页面的中间部分加载页面

> ID：12541620
> 
> 赞同：4
> 
> 时间：2012-09-22T07:12:06.130
> 
> 标签：javascript, jquery, html, css

我正在创建一个网页，设计师希望通过水平滚动（从左到右）来完成所有导航。我已经对水平布局进行了编码。但是，他希望能够启动水平布局以加载列表中的一个中间 div，从而使用户能够向任一方向滚动。一个例子是，如果我有一个水平 5 个 div 的列表（1、2、3、4、5），并且我希望页面从 div 3 开始，从而允许用户从左到右滚动以到达 div 2 或其他方式到达 div 4。目前默认从 div 1（左）开始，这意味着用户最初只能滚动一种方式。

这是布局： ![在此处输入图像描述](../Images/53e60f360277d61bc2a318bbde238006.png) [点击这里查看大图](https://i.stack.imgur.com/nAkIr.jpg)

我也搜索了该网站，但答案是使用锚/名称标签技术，但我想直接在中间部分页面上加载页面。

以下是类似的问题：

*   [如何在网站底部加载网页。](https://stackoverflow.com/questions/9937946/how-to-have-a-web-page-load-at-the-bottom-of-the-site)

*   [如何将页面加载到页面中间（而不是顶部）？](https://stackoverflow.com/questions/2977472/how-to-have-a-page-load-to-the-middle-of-the-page-instead-of-top)

附带说明一下，我目前正在学习 jQuery 和 Javascript，但还处于早期阶段 - 仍在通过 codeacademy 拖网，还没有进入任何真实世界的代码。所以目前我正在使用插件作为一种学习方式，但希望在几个月内我可以构建自己的东西！

我只是想知道如何实现这一点。

如果您可以拥有一些简单的 javascript/jQuery 代码（jsfiddle），我们将不胜感激。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-26T04:54:49.897

好的，在搜索了 2 天后，我在“雅虎答案”中找到了答案，我忘记为链接添加书签，但这是我得到的代码。

```
 $(window).load(function(){

        $(document).ready(function(){
         scrollTo(($(document).width() - $(window).width()) / 2, 0);
    });
}); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-22T15:13:57.793

### 没有 JavaScript

只需为布局中的每个 div 创建一个 id，并将默认布局的 id 设置为默认锚点，这样当页面加载时，它立即进入该部分。
将上一页的链接设置为上一个布局id的锚点，类似于下一个布局id。因此，只要单击这些链接，它们的锚点就会显示它们，而其他链接则被隐藏。
这种方法的缺点是你不会看到滚动效果，因为这需要 JavaScript；但是，它应该按预期工作。

### 使用 JavaScript

如前所述，只需为布局中的每个 div 创建一个 id。创建 3 个 JavaScript 变量，一个用于当前、上一个和下一个布局 ID。并将默认单元格的 id 设置为该变量。**或者** 您可以创建一个 JavaScript 对象，该对象将包含 3 个属性：当前布局 ID、上一个布局 ID 和下一个布局 ID。**使用window.onload**或 jquery 的**$(document).ready()**
函数 将 JavaScript 函数附加到页面加载过程。使用 jQuery 中的**animate**函数，将当前布局 id 传递给它。这将简单地将页面滚动到传递的 id 以及滚动效果。 您应该立即实现目标。

# iphone - iphone UILocalNotification 以 3 个月为重复间隔

> ID：12541622
> 
> 赞同：0
> 
> 时间：2012-09-22T07:12:17.480
> 
> 标签：iphone, uilocalnotification

我需要设置一个 uilocalnotification ，它从现在开始 3 个月后首先触发，之后每隔 3 个月重复一次。

我将开火日期设置为从现在起 3 个月，如果我将 iPhone 日期更改为提前 3 个月，它就会到来。

但在那之后如何将重复间隔设置为 3 个月。比如假设 1 月 3 日，然后是 4 月 3 日，然后是 7 月 3 日等等。

请帮我

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-22T13:56:08.210

试试 UILocalNotification 的这个属性：

```
 UILocalNotification *alarm = [[UILocalNotification alloc] init];
    alarm.fireDate = date;
    alarm.timeZone = [NSTimeZone localTimeZone];
    alarm.alertBody = msg;
    alarm.alertAction = @"Show";

    alarm.repeatInterval = NSMonthCalendarUnit*3;

    alarm.soundName = UILocalNotificationDefaultSoundName;
    alarm.applicationIconBadgeNumber = 1;
    [app scheduleLocalNotification:alarm];
    [alarm release]; 
```

我希望它对你有帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-22T09:33:44.697

我自己没有尝试过，但是从文档中我认为

```
notification.repeatInterval = NSQuarterCalendarUnit; 
```

做你想做的事。

**更新：**我现在已经对此进行了测试，正如 user1001011 报告的那样，它不起作用。但似乎还有其他问题`NSQuarterCalendarUnit`，例如

*   [我想在 NSDateComponents 类中获得四分之一的值](https://stackoverflow.com/questions/11618784/i-want-to-get-a-quarter-value-in-nsdatecomponents-class)
*   [http://openradar.appspot.com/9270112](http://openradar.appspot.com/9270112)

所以，不幸的是，答案似乎是：做不到。

# javascript - 是否可以在 window 或 window.location 上进行原型设计？

> ID：12541624
> 
> 赞同：3
> 
> 时间：2012-09-22T07:12:19.767
> 
> 标签：javascript

我想编写一个属于位置类的查询解析方法，但没有任何运气

`window.location.prototype`

或者

`window.prototype`

我的目标是按照以下方式做一些事情：

```
window.location.prototype.parseQuery = function(key){
   //run a test on this.search to see if it contains key and return the val
} 
```

窗口是不可变的吗？还是我没有正确引用它？

TIA

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-22T07:23:18.393

当对象已经存在并且只有其中一个时，您不需要原型。您可以直接向对象添加方法。

```
window.parseQuery = function() { /* your code here */}; 
```

或者

```
window.location.parseQuery = function() { /* your code here */}; 
```

此外，该`window`对象是浏览器中的全局对象，因此任何全局函数都已经是该`window`对象的方法。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-22T07:29:59.223

您应该直接在`window.location`

```
window.location.parseQuery = function(key){
   //run a test on this.search to see if it contains key and return the val
} 
```

`prototype`是函数的属性，而`window.location`不是函数。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-22T07:19:25.130

呸! 在询问之前应该进行更多测试...

答案是`Window.prototype`。在 Chrome 中工作，尚未在其他地方测试过。

根据给出的答案，似乎没有必要在 Window 上进行原型设计，因为它是一个单一的全局对象。所以这是我的解决方案...

```
window.location.getQueryItem = function(key){
            if(this.search.indexOf(key + "=") != -1){
                reg = new RegExp(key + '=(.*?)(\&|$)', 'i');
                return this.search.match(reg)[1];
            }
                    return null;
        } 
```

# iphone - 如何在 iphone 中处理不同的屏幕尺寸

> ID：12541629
> 
> 赞同：1
> 
> 时间：2012-09-22T07:13:12.487
> 
> 标签：iphone, objective-c, screen, iphone-5

> **可能重复：**
> [如何处理 iPhone 5 的屏幕尺寸？](https://stackoverflow.com/questions/12396545/how-to-deal-with-iphone-5-screen-size)

iphone 5 有不同的屏幕尺寸，其他的有不同的屏幕尺寸。我如何编程以使我的应用程序对两种使用都可靠？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-22T07:28:31.223

如果您使用的是 IB，那么一切都会为您完成。

但是，如果您将自定义对象放在屏幕上，那么您需要知道将它们放在哪个设备上。我这样做的方式是如此使用：

> [[UIScreen mainScreen] 边界];

然后如果高度是 1136，那就是 iPhone 5。

# php - 将数组中的 $_POST 数据直接插入 MySQL 语句有多安全？

> ID：12541633
> 
> 赞同：2
> 
> 时间：2012-09-22T07:13:31.037
> 
> 标签：php, mysql, arrays

我创建了一个简单的函数来使用函数和数组将数据发布到 mysql 表中。该数组是从表单上的 $_POST 项目构建的。我想知道的是：是否存在我没​​有看到的潜在安全漏洞？

这是功能：

```
 public function add_sql_data($table,$array){
            $tot = count($array);
            $c=0;
            foreach($array as $k => $v){
                $fields = $fields.$k;
                $values = $values."'".$v."'";
                $c++;
                if($c < $tot){
                    $fields = $fields.","; 
                    $values = $values.","; 
                }
            }
            $sql = "INSERT INTO ".$table."(".$fields.") values(".$values.")";
            if (mysql_query($sql)){
                return "succesfull";
            }else{
                return "error";
            }
        } 
```

我曾尝试使用我知道的少量 PHP 来创建 SQL 注入，但在我看来，该数组实际上正在阻止任何有害的语法运行。谢谢！！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-22T07:29:59.440

这**不安全**。不要直接从`$_POST`MySQL 中插入数据。请阅读[SQL 注入](http://php.net/manual/en/security.database.sql-injection.php)。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-09-22T08:41:51.763

## 一点都不安全

在问题的 sql 中 - 没有清理或转义。考虑像这样的单个表单输入会发生什么：

*   '他说'不可能''
*   '废话'）'
*   '"), (从表限制中选择字段 1))--'

在第一个中，会出现某种语法错误，在第二个中也会出现。

第 3 次只是您正在实现的那种注射的冰山一角的暗示。在这里，我们将另一个表的值注入到这个插入语句中，如果该字段对最终用户可见，他们可以执行类似的操作来探索您的数据库并访问他们不应该看到的信息。只需[google sql injection](https://www.google.com/search?q=examples%20of%20sql%20injection)，您就会发现无穷无尽的示例列表。

## 正确的方式

你真的，真的应该使用[PDO](http://php.net/manual/en/book.pdo.php)，最好使用[准备好的语句](http://php.net/manual/en/pdo.prepared-statements.phpmysql.php)，而不是旧的 mysql_* 函数。

一个类似于你正在做的可以安全注射的事情的例子是：

```
$dbh = new PDO('mysql:host=localhost;dbname=test', $user, $pass);
$stmt = $dbh->prepare("INSERT INTO table (name, value) VALUES (?, ?)");
$stmt->bindParam(1, $name);
$stmt->bindParam(2, $value);

// insert one row
$name = 'one';
$value = 1;
$stmt->execute(); 
```

`$name`这样，无论是什么或是什么都无关紧要`$value`-它们将被适当地转义。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-22T07:43:01.307

您可以尝试这样的代码..

```
public function add_sql_data($table,$array){
        $tot = count($array);
        $c=0;
        foreach($array as $k => $v){
            $fields = $fields.$k;
            $values = $values."'".$v."'";
            $c++;
            if($c < $tot){
                $fields = $fields.","; 
                $values = $values.","; 
            }
        }
    /* To protect MySQL injection you can do like this */
    $values= stripslashes($values);
    $values = mysql_real_escape_string($values);

        $sql = "INSERT INTO ".$table."(".$fields.") values(".$values.")";
        if (mysql_query($sql)){
            return "succesfull";
        }else{
            return "error";
        }
    } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-22T08:18:02.883

我看到 3 个问题：

1.  您正在使用旧的 mysql_* 函数。它们已被弃用，很快就会退出 PHP
2.  你对[SQL 注入持开放态度](http://en.wikipedia.org/wiki/SQL_injection)
3.  您容易受到[跨站脚本攻击](http://en.wikipedia.org/wiki/Cross-site_scripting)

通过以这种方式插入数据（函数，将所有数据放在一个数组中），您离使用参数绑定仅几步之遥，女巫解决了 SQL 注入问题。对于跨站点脚本使用，必须使用验证机制。

# java - 雅皮德配置？

> ID：12541635
> 
> 赞同：0
> 
> 时间：2012-09-22T07:13:34.853
> 
> 标签：java, playframework, playframework-1.x, japid

我正在使用 play-1.2.5，当我执行`play japid:gen`命令时它显示我们出现以下错误。

```
~ Oops. conf/routes or conf/application.conf missing.
~ /home/ifkaar/Downloads/play-1.2.5 does not seem to host a valid application. 
```

不知道为什么，一切似乎都很好。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-22T07:30:03.257

您应该`play japid:gen`在播放应用程序下运行，而不是播放框架本身。

尝试以下操作：

1.  cd 到您想要托管您的播放应用程序的任何目录
2.  跑`play new myApp`
3.  cd myApp
4.  在应用程序项目文件夹中编辑`conf/dependencies.yml`并将 japid 添加到文件中
5.  跑`play japid:gen`

我建议你通读 play 文档以获得一些基本的了解

# c# - 通过传递单个值获取多个索引

> ID：12541642
> 
> 赞同：0
> 
> 时间：2012-09-22T07:14:56.513
> 
> 标签：c#, arrays

> **可能重复：**
> [列表索引搜索](https://stackoverflow.com/questions/11292260/list-index-search)

我必须在值相同的 int[] 中获取索引，因此我必须在 int[] 中获取相同值的所有索引 num。

前任。

```
int[] xx = {4,5,4,3,2} 
```

我在用

```
Array.indexOf(xx, 4); 
```

它会返回 0，但我想得到 0 和 2。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-22T07:20:00.683

怎么样

```
int[] xx = {4,5,4,3,2};

int search = 4;

var result = xx.Select((b, i) => b.Equals(search) ? i : -1).Where(i => i != -1); 
```

[在这里](https://stackoverflow.com/questions/11292260/list-index-search/11292303#11292303)阅读我的原始答案。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-22T07:21:41.553

我认为没有任何内置的单行代码（Nikhil 的方法与 LINQ 一样接近），但它很容易编写：

```
public static IEnumerable<int> FindAllIndexes(this IEnumerable<T> haystack,
                                              T needle) where T : IEquatable<T>
{
    int index = 0;
    foreach (var item in haystack)
    {
        if (item.Equals(needle))
        {
            yield return index;
        }
        index++;
    }
} 
```

将其用作：

```
foreach (var index in array.FindAllIndexes(4))
{
    ...
} 
```

如果您真的愿意，可以使用自定义比较器编写重载。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-22T07:26:52.467

```
using System;
using System.Linq;

class Program
{
    static void Main(string[] args)
    {
        int[] xx = { 4, 5, 4, 3, 2 };
        int findValue = 4;
        var indexes = xx.Select((val, index) => new { Value = val, Index = index })
            .Where(x => x.Value == findValue)
            .Select(x => x.Index);
        foreach (var index in indexes)
            Console.WriteLine(index);
    }
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-22T07:22:58.947

您可以通过使用迭代器来做到这一点。

```
public IEnumerable<int>
GetIndexes(int[] xx, int toSearch )
{
  // Yield even numbers in the range. 
  for (int i= 0; i < xx.Length; i++)
  {
      if (xx[i] == toSearch)
      {
          yield return xx[i];
      }
  }
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-22T07:24:16.197

您可以简单地使用这样的方法（如果可以使用序列而不是数组）：

```
static IEnumerable<int> AllIndexesOf(int[] xx, int value) {
    for (int i = 0; i < xx.Length; ++i) {
        if (xx[i] == 4) {
            yield return i;
        }
    }    
} 
```

# java - 在 Java 中打印对话框

> ID：12541647
> 
> 赞同：0
> 
> 时间：2012-09-22T07:16:06.740
> 
> 标签：java, printing

我需要在打印机上打印一个带有一些组件的对话框，并且是在纸上挑衅。我正在使用的应用程序是使用 Swings 制作的 Java 桌面应用程序。我为此使用 Netbeans 7.2。我怎样才能完成这项任务？我需要导入任何外部库还是可以使用内置的 Java 库来完成。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-22T07:33:37.293

您可以使用内置的 java 库...来自“javax.swing”

```
JOptionPane.showMessageDialog(frame,"Message Content"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-02-07T03:12:35.400

```
import javax.swing.jOptionPane;

class DialogBox {
  public static void main (String [] args) {
    JOptionPane.showMessageDialog(null, " Your name ");
    JOptionPane.showMessageDialog(null, " your name /n another name ");
  }
} 
```

我希望这有帮助

# wpf - 如何从默认的 DataGridColumnHeader 派生出我自己的 DataGridColumnHeaderStyle？

> ID：12541654
> 
> 赞同：0
> 
> 时间：2012-09-22T07:16:48.233
> 
> 标签：wpf, styles, wpfdatagrid

我为 DataGridColumnHeader 做了一个样式，我想从默认的 DataGridColumnHeader 派生它，所以我这样做：

```
 <Style TargetType="{x:Type DataGridColumnHeader}" x:Key="ColumnHeaderStyle" BasedOn="{StaticResource {x:Type DataGridColumnHeader}}">
    <Setter Property="Template">
        <Setter.Value>
            <ControlTemplate TargetType="{x:Type DataGridColumnHeader}">
                <Grid VerticalAlignment="Stretch" HorizontalAlignment="Stretch" >
                    <TextBlock Grid.Column="1" Grid.Row="0"  Text="{TemplateBinding Content}" HorizontalAlignment="Center">
                    </TextBlock>
                  ......
               </Grid>
            </ControlTemplate>
        </Setter.Value>
    </Setter>
</Style> 
```

但它不起作用，似乎DataGrid没有`defaultStyle`了，我认为问题是在上面的代码中为DataGridColumnHeader设置模板，但我该怎么办？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T08:01:03.813

好吧，我只需要设置模板的 ContentTemplate ！

```
<Style TargetType="{x:Type DataGridColumnHeader}" x:Key="ColumnHeaderStyle" BasedOn="{StaticResource {x:Type DataGridColumnHeader}}">
<Setter Property="ContentTemplate">
    <Setter.Value>
        <DataTemplate>
            <Grid VerticalAlignment="Stretch" HorizontalAlignment="Stretch" >
                <TextBlock Grid.Column="1" Grid.Row="0"  Text="{TemplateBinding Content}" HorizontalAlignment="Center">
                </TextBlock>
              ......
           </Grid>
        </DataTemplate>
    </Setter.Value>
</Setter> 
```

# ruby-on-rails - 强制重装！来自 rails 3.2 控制台中的 lib 目录

> ID：12541655
> 
> 赞同：2
> 
> 时间：2012-09-22T07:16:49.270
> 
> 标签：ruby-on-rails, ruby-on-rails-3.2, irb

我在一个文件中有一个简单的类`lib/simple.rb`。

在控制台 ( `rails c`) 我有几个问题：

1.  Rails 似乎无法加载文件，即使`application.rb`包含`config.autoload_paths += %W(#{config.root}/lib/**)`. 如何使 Rails 3.2 表现得像以前的 Rails 2.x（我在 Rails 2.x 中从来没有遇到过这种自动加载的问题——Rails 3 似乎退步了 :( ）

2.  如果我对控制台进行更改`simple.rb`并调用`reload!`，它不会重新加载文件。我必须`load "#{Rails.root}/lib/simple.rb`让它重新加载。有没有办法`reload!`像以前在 Rails 2.x 中那样工作？即只是让它重新加载所有文件而不必使用`load`？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-30T12:08:48.750

它应该是包含您要加载的类的文件夹。因此，应

```
config.autoload_paths += %W(#{config.root}/lib) 
```

如果您的应用是`threadsafe!`，请更改`config.autoload_paths`为`config.eager_load_paths`. 一旦你这样做，`reload!` **应该**像你描述的那样行事。

# web-services - 处理 WSDL 文档时出错

> ID：12541661
> 
> 赞同：0
> 
> 时间：2012-09-22T07:18:00.700
> 
> 标签：web-services, apache, webservice-client

我有一个代码，我正在尝试运行它。我认为它使用 Apache，但我不知道它是如何工作的。代码中没有错误，但是当我运行它时，出现以下错误。是我做错了什么还是来自网络服务？

```
java.net.ConnectException: Connection timed out: connect
    at org.apache.axis.client.Service.initService(Service.java:250)
    at org.apache.axis.client.Service.<init>(Service.java:204)
    at msg.soa.oneits.net.definitions.OneitsServiceLocator.<init>(OneitsServiceLocator.java:21)
    at MainLoopDet.main(MainLoopDet.java:27) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-22T07:22:16.900

检查您的端点。如果 IP/端口配置不正确，通常会出现连接超时。还可以通过发送类似的请求来检查您的网络服务是否已启动并正在运行`http://<IP>:port/context/<yourservicepath>?wsdl`

# java - 事务中只允许祖先查询

> ID：12541662
> 
> 赞同：0
> 
> 时间：2012-09-22T07:18:02.853
> 
> 标签：java, google-app-engine, objectify

Transactions 中只允许 Ancestor 查询的原因是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-22T07:45:10.873

祖先查询将结果集限制为特定的实体组。作为一个概念模型，将实体组视为单个机器上的实体集群；你只能在一台机器上运行一个事务。XG 事务是跨越多台独立机器的 2pc 进程。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-22T15:21:11.193

我建议阅读两篇文章的组合，它可以让您很好地了解如何在数据存储上处理事务：

[https://developers.google.com/appengine/articles/life_of_write](https://developers.google.com/appengine/articles/life_of_write) https://developers.google.com/appengine/articles/transaction_isolation

如果您想了解它在分布式数据存储节点网络中的工作原理，请阅读 BigTable 白皮书。

[http://research.google.com/archive/bigtable.html](http://research.google.com/archive/bigtable.html)

数据存储区构建在 BigTable 之上，因此了解 BigTable 的工作原理可以让您很好地了解数据存储区中发生的情况。

# .net - 如何将属性值中具有特殊字符的xml文件解析为java.parser不接受.how替换特殊字符

> ID：12541666
> 
> 赞同：-1
> 
> 时间：2012-09-22T07:18:33.753
> 
> 标签：.net, sql, xml, tsql

我正在尝试使用 DOM 或 SAX 解析 java 中的 xml 文件。

问题是在解析时，如果我的 xml 包含像特殊字符一样的属性值`< > "`，那么解析器会抛出`ParserException`。

例如 xml 文件：

```
<?xml version="1.0" encoding="UTF-8"?>
<abc>
     <check name="bike" value="apache<is good model">
     <check name="car" value="tata "sumo">
</abc> 
```

在这个例子中，xml 元素`<check>`有一个属性值，它包含`<`or `"`。

解析器将其视为无效并引发解析器异常。

现在我的问题是在将 xml 文件解析为解析器之前，检测 xml 文件属性值中的特殊字符并且必须用符号替换。

例如：

如果 xml 包含`<`

```
<check name="bike" value="apache<is good model"> 
```

替换为空格

```
<check name="bike" value="apache is good model"> 
```

请给我建议。可以通过什么方法完成...我们可以使用 XSD 来完成...提前谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-22T07:29:37.910

`<`并且`>`是 XML 中的预定义实体，不能作为属性或值的一部分被接受。有关有效 XML 和 HTML 字符列表的参考，请查看[wiki](http://en.wikipedia.org/wiki/List_of_XML_and_HTML_character_entity_references)页面

如果您希望`<`用作 XML 值，请改用[CDATA](http://en.wikipedia.org/wiki/CDATA)标记

```
<element  attr="elemAttr">
<value>
<![CDATA[< allowed here]]>
</value>
</element> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-22T18:31:39.383

如果您可以控制输入，请将有问题的`<`字符替换`&amp;lt;`为解析器应该接受的字符。

如果您无法控制输入，请弄清楚如何捕获异常。

# java - 添加/更改影响父级 setBounds 的 JLabel

> ID：12541673
> 
> 赞同：0
> 
> 时间：2012-09-22T07:19:56.060
> 
> 标签：java, swing

我还是 Java 的新手，我很喜欢玩弄它，所以请在这件事上取笑我。我知道布局管理器，但我对摆动的机制很感兴趣，所以我使用的是绝对定位。任何见解将不胜感激。

因此，当我将 JLabel 添加到 JPanel 时，我注意到了一个令人讨厌的行为。例如，如果我这样设置：

```
JFrame frame=new JFrame("Test Frame");
frame.setSize(800,500);
frame.setLocationRelativeTo(null);
frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
frame.setResizable (false);
JPanel conPane=new JPanel();
conPane.setLayout(null);
frame.setContentPane(conPane);
conPane.setBounds(0,0,1600,1000);
conTP.setFocusable(true);
frame.setVisible(true); 
```

所以现在我移动 conPane 面板......

```
conPane.setBounds(-200,-200,1600,1000); 
```

然后制作一个新的 JLabel....

```
ImageIcon ico=new ImageIcon("directory/testimage.gif");
JLabel myLabel=new JLabel(ico);myLabel.setLayout(null);
myLabel.setBounds(300,300,200,200); 
```

并将其添加到 conPane...

```
conPane.add(myLabel); 
```

并且它将 conPane 重置回它的起始位置。基本上是在未经我许可的情况下做 setBounds(0,0,1600,1000) ；

如果我移动标签、更改它的图标或几乎做任何涉及更改 conPane 的子级的事情，也会发生这种情况。

我怎样才能阻止它？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-22T09:06:09.550

> 并且它将 conPane 重置回它的起始位置

从本质上讲，这是错误的。这是错误的，因为您的假设是错误的：您假设

```
contPane.setBounds(....) 
```

*实际上没有*效果时会产生效果：负责布局组件的 layoutManager 是*其父*组件的管理器（在这种情况下，它是 RootPaneLayout ，您绝对不想搞砸）。无论您做什么，该经理都会将其设置为框架的大小（- 插图 - 菜单栏）。您可以通过为 contentPane 设置边框来可视化：

```
contPane.setBorder(BorderFactory.createLineBorder(Color.RED, 5)); 
```

归根结底，即使您坚持不使用它来浪费时间 ，也*绝对没有办法学习所有有关布局的知识。*

# c# - 关于 Url.Content 扩展的智能感知

> ID：12541675
> 
> 赞同：1
> 
> 时间：2012-09-22T07:20:04.970
> 
> 标签：c#, razor, resharper, intellisense

使用 MVC Razor 时，您经常编写 @Url.Content("~/images/someimage.png") 并在该字符串上获得智能感知 - 它以某种方式知道这是一条路径。

我为 Url.Content() 创建了一个扩展方法，但在输入路径参数时它没有得到智能感知。

有谁知道您是否可以在参数上添加某种属性，或者是否有更好的方法（覆盖？）我可以插入并更改默认 Url.Content 的行为？

```
 public static string ContentExtended(this UrlHelper urlHelper, string contentPath)
    {
        string result = urlHelper.Content(contentPath);

        // do stuff here to remove application folder name on godaddy hosting

        return result;
    } 
```

**编辑：我使用 resharper，只是意识到这可能是普通 VS 用户实际上没有的特定于 resharper 的功能。我禁用了 Resharper intellisense，只是打开了常规的 VS intellisense，并且路径特定的自动完成功能不起作用。所以这是一个更清晰的功能，而不是编程问题**

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-22T18:33:18.673

马特，这确实是 ReSharper 的功能。您需要使用 PathReferenceAttribute 属性标记 contentPath 参数。您可以从 ReSharper → 选项 → 代码检查 → 代码注释将其实现复制到您的项目中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-22T07:25:10.953

您需要提供 XML 文档：

```
/// <summary>
/// Lorem ipsum...
/// </summary>
/// <param name="urlHelper">The helper to provide content to</param>
/// <param name="contentPath">The path to the content</param> 
```

这不仅适用于扩展方法 - 它是您为所有内容提供文档（由 IntelliSense 获取）的方式。

如果您谈论的不止这些，就智能感知建议可能的值而言，*这*可能是一个属性......

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-22T18:47:00.443

试试这个[http://mvccontrib.codeplex.com/wikipage?title=T4MVC](http://mvccontrib.codeplex.com/wikipage?title=T4MVC)以获得静态内容智能感知。

# scala - 在scala中使用'->'和'<-'运算符

> ID：12541676
> 
> 赞同：0
> 
> 时间：2012-09-22T07:20:07.810
> 
> 标签：scala

> **可能重复：**
> [Scala 标点符号（又名符号、运算符）](https://stackoverflow.com/questions/7888944/scala-punctuation-aka-symbols-operators)

scala中的目的`->`和运算符是什么？`<-`是否有任何有用的文档可以解释 scala 中使用的各种运算符 - 我似乎太经常困惑了:)

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-09-22T07:23:35.093

这两个运营商是非常不同的。

`->`运算符用于`Tuple2`制作 .

```
scala> 1 -> 2
res0: (Int, Int) = (1,2) 
```

在`<-`for 语句中使用的意思是像“in”这样的东西。因此，对于每个`x`in `someList`，以下意味着 print `x`：

```
for(x <- someList) println(x) 
```

# php - 在wordpress中保存页面后div id消失

> ID：12541677
> 
> 赞同：1
> 
> 时间：2012-09-22T07:20:15.530
> 
> 标签：php, wordpress

我在 wordpress 中遇到了一个奇怪的问题，因为在 wordpress 中保存页面后，“id”属性从“”中消失了。

这意味着如果我尝试将“”保存在页面中，则保存后会显示“”。

我没有解决这个问题的线索。

所以请帮助我尽快解决这个问题。

提前致谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-22T08:30:38.193

此处详细描述了问题和解决方案：[http ://wordpress.org/support/topic/wp_update_post-strips-css-id-attribute?replies=7](http://wordpress.org/support/topic/wp_update_post-strips-css-id-attribute?replies=7)

简而言之，这是由于 WordPress 的[KSES](http://codex.wordpress.org/Function_Reference/wp_kses)模块，根据 WordPress，

> ...确保只有允许的 HTML 元素名称、属性名称和属性值加上合理的 HTML 实体才会出现在 $string 中。

根据帖子，其中一位贡献者通过*“在调用之前插入以下代码”解决了这个问题`wp_update_post`。*

```
global $allowedposttags;
$allowedposttags['div'] = array('align' => array (), 'class' => array (), 'id' => array (), 'dir' => array (), 'lang' => array(), 'style' => array (), 'xml:lang' => array() );
$allowedposttags['iframe'] = array('src' => array () ); 
```

对于全球解决方案，请确保包括：

```
define('CUSTOM_TAGS', true); 
```

# html - html/css：当鼠标悬停时，通过链接增加字体大小的位置移动

> ID：12541683
> 
> 赞同：3
> 
> 时间：2012-09-22T07:21:15.297
> 
> 标签：html, css, hyperlink, hover, font-size

我想在我的网页中制作一个`html`/`css`菜单，其中包含四个链接（水平位于页面顶部中心）。

我希望将鼠标悬停在 ( `a:hover`) 上时增加菜单链接字体大小。

但我遇到的问题是，当字体大小增加（in`IE 8`和`Chrome`链接

我尝试做 a`table`而不是 the ，`inline-block`但它造成了更大的混乱。

我也试过玩，`margin`但`padding`也没有用。

我是 html/css 的新手，所以对 html/css 中的任何内容的任何建议都将不胜感激，并原谅我的英语不好。

这是我的代码：

```
<html>
<head>
<title>Home page</title>
<style type="text/css">

body {
    font-family:Palatino, ‘Book Antiqua’, Georgia, Garamond, ‘Times New Roman’, Times, serif;
    font-size: 13px;
    color: #000060;
    background-color: #005070;
    background-repeat:repeat-x;
    text-align:center;
}

.menu
{
    height:64px;
    width:100%;
    background-image:url(img/bglb2.png);
    background-repeat:repeat-x;
    text-align:center;
}

.menuLink, .menuLink:visited
{
    color:#FFFFFF;
    background-image:url(img/btk.png);
    text-decoration:none;
    font-size: 20px;
    width:132px;
    height: 32px;
    padding: 10px;
    display:inline-block;
    margin-left: 10px;
    margin-right: 10px;
    margin-top: 6px;
}

.menuLink:hover
{
    color:#CC7011;
    background-image:url(img/bto.png);
    font-size: 26px;
}
</style>
</head>

<body>
<div class="menu">
    <a class="menuLink" href="index.html">Home</a>
    <a class="menuLink" href="page1.html">Page1</a>
    <a class="menuLink" href="page2.html">Page2</a>
    <a class="menuLink" href="page3.html">Page3</a>
</div>

</body>
</html> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-22T07:24:19.857

尝试在`line-height`您的菜单链接中添加一个固定的链接（例如，`line-height:26px;`）。

这样，当您增加字体大小时，文本行的高度不会改变。默认值为`line-height`，`normal`这意味着菜单每行的高度将随字体大小调整。

更多信息：[http ://www.w3.org/wiki/CSS/Properties/line-height](http://www.w3.org/wiki/CSS/Properties/line-height)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-22T07:30:46.887

您可以编辑您的 css 类来解决问题，这里是更新的类：

```
.menuLink:hover
{
    color:#CC7011;
    background-image:url(img/bto.png);
    font-size: 26px;
    padding:0px 10px 10px 10px;
} 
```

希望它能解决你的问题

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-22T10:15:39.490

将您的 HTML 代码更改为

```
 <div class="menu">
 <ul>
   <li><a class="menuLink" href="index.html">Home</a></li>
   <li> <a class="menuLink" href="page1.html">Page1</a></li>
   <li><a class="menuLink" href="page2.html">Page2</a></li>
   <li><a class="menuLink" href="page3.html">Page3</a></li>
</ul>
</div> 
```

添加此样式

```
 ul,li{
display:inline-block;
list-style:none;
line-height:60px;
vertical-align:bottom;
 } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-09T11:16:14.457

`Chrome`我为此找到了一个完美的简单解决方案，它`IE`一直对我`Firefox`有用`win7`。

我在链接 ( ) 中放置了一个包含一个单元格的表格，该单元格`<a>`具有相同的`width`和`height`as `<a>`（这是图像尺寸）。

还做了表：`text-align:center`。确保表格内的`text-align:center`文本将水平居中。并且表格的优点是即使在鼠标悬停时字体大小发生变化，文本也会垂直居中。当字体大小增加时，该表还防止链接图像和其他链接移动。

我删除了所有`padding`. 因为如果我将 ( `height`, `width`) 与 ( `padding`) 结合起来，它将在不同的浏览器上产生不同的结果（尤其是`IE`and `Chrome`）。

将东西放入其中可能是一个错误的想法，`<a>`但它确实适用于大多数浏览器。

我还将这行代码作为我的 html 文件的第一行：

`<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">`

这使得我不知道为什么`<table>`从链接继承了所有东西，但它确实简化了一些东西。`<a>`

所以结果代码是：

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
<title>Home page</title>
<style type="text/css">

body {
    font-family:Palatino, ‘Book Antiqua’, Georgia, Garamond, ‘Times New Roman’, Times, serif;
    font-size: 13px;
    color: #000060;
    background-color: #005070;
    background-repeat:repeat-x;
    text-align:center;
}

.menu
{
    height:64px;
    width:100%;
    background-image:url(img/bglb2.png);
    background-repeat:repeat-x;
    text-align:center;
}

.menuLink, .menuLink:visited
{
    color:#FFFFFF;
    background-image:url(img/btk.png);
    text-decoration:none;
    font-size: 20px;
    width:152px;
    height: 52px;
    display:inline-block;
    margin-left: 10px;
    margin-right: 10px;
    margin-top: 6px;
}

.menuLink:hover
{
    color:#CC7011;
    background-image:url(img/bto.png);
    font-size: 26px;
}

table.ml
{
    text-align: center;
    width:152px;
    height: 52px;
}
</style>
</head>

<body>
<div class="menu">
    <a class="menuLink" href="index.html"><table class="ml"><tr><td>Home</td></tr></table></a>
    <a class="menuLink" href="page1.html"><table class="ml"><tr><td>Page1</td></tr></table></a>
    <a class="menuLink" href="page2.html"><table class="ml"><tr><td>Page2</td></tr></table></a>
    <a class="menuLink" href="page3.html"><table class="ml"><tr><td>Page3</td></tr></table></a>
</div>

</body>
</html> 
```

谢谢你们。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-07-18T08:16:29.057

前段时间我有同样的问题。我为“.menuLink”做了一个[带有](http://jsfiddle.net/Tztz9/1/)注释更改的 FIDLE。

```
.menuLink, .menuLink:visited {
    color:#FFFFFF;
    background-image:url(img/btk.png);
    text-decoration:none;
    font-size: 20px;
    width:132px;
    /* height: 32px; */ /* removed */
    padding: 0 10px; /* changed here */
    line-height: 52px; /* added code */
    display:inline-block;
    vertical-align: middle; /* Added code */
    margin-left: 10px;
    margin-right: 10px;
    margin-top: 6px;

    /* In case you have longer 2 words text */
    white-space: nowrap;
    overflow: hidden; /* to hide overflowed text */
} 
```

希望这会帮助其他人，或者如果我的解决方案很好，你可以修改你的代码

# actionscript-3 - 闪光碰撞

> ID：12541685
> 
> 赞同：0
> 
> 时间：2012-09-22T07:21:32.707
> 
> 标签：actionscript-3, flash, flash-cs3

你好，你能帮我解决我正在做的 tut 吗？这是 tut 网站[http://as3gametuts.com/2012/06/20/platformer-12/comment-page-1/#comment-800](http://as3gametuts.com/2012/06/20/platformer-12/comment-page-1/#comment-800)

好吧，我不知道子弹没有与敌人碰撞的代码有什么问题..这是它的代码..

```
 function fireBullet():void {
    var playerDirection:String;
       if(player.scaleX < 0){
        playerDirection = "left";
    } else if(player.scaleX > 0){
        playerDirection = "right";
    }
    var bullet:Bullet = new Bullet(player.x - scrollX, player.y - scrollY, playerDirection, xSpeed);
    back.addChild(bullet);
    bulletList.push(bullet);
    bullet.addEventListener(Event.REMOVED, bulletRemoved);

}
var bulletList:Array = new Array();
function bulletRemoved(e:Event):void {
e.currentTarget.removeEventListener(Event.REMOVED, bulletRemoved); //this just removes the eventListener so we don't get an error
bulletList.splice(bulletList.indexOf(e.currentTarget), 1); //this removes 1 object from the bulletList, at the index of whatever object caused this function to activate
}
//bullet

//enemies
var enemyList:Array = new Array();
function addEnemy(xLocation:int, yLocation:int):void{
var enemy:Enemy = new Enemy(xLocation, yLocation);
back.addChild(enemy);
enemy.addEventListener(Event.REMOVED, enemyRemoved);
enemyList.push(enemy);
}
function addEnemy1(xLocation:int, yLocation:int):void{
var enemy1:Enemy1 = new Enemy1(xLocation, yLocation);
back.addChild(enemy1); 
enemy1.addEventListener(Event.REMOVED, enemyRemoved);
enemyList.push(enemy1);
}
function enemyRemoved(e:Event):void{
e.currentTarget.removeEventListener(Event.REMOVED, enemyRemoved); //this just removes the eventListener so we don't get an error
enemyList.splice(enemyList.indexOf(e.currentTarget), 1); //this removes 1 object from the enemyList, at the index of whatever object caused this function to activate
}

addEnemiesToLevel1();

function addEnemiesToLevel1():void{
addEnemy(272.8, 19.8);
addEnemy(959, 278.8);
addEnemy1(374.1, 305.1);
addEnemy1(966, 29);
} 
```

这是主循环

```
//main loop 
function loop(e:Event):void{

if(back.collisions.hitTestPoint(player.x + leftBumpPoint.x, player.y + leftBumpPoint.y, true)){
    trace("leftBumping");
    leftBumping = true;
} else {
    leftBumping = false;
}

if(back.collisions.hitTestPoint(player.x + rightBumpPoint.x, player.y + rightBumpPoint.y, true)){
    trace("rightBumping");
    rightBumping = true;
} else {
    rightBumping = false;
}
/* 
if(back.hitTestPoint(player.x + upBumpPoint.x, player.y + upBumpPoint.y, true)){
    trace("upBumping");
    upBumping = true;
} else {
    upBumping = false;
}
//added upbump

if(back.hitTestPoint(player.x + upBumpPoint1.x, player.y + upBumpPoint1.y, true)){
    trace("upBumping");
    upBumping = true;
} else {
    upBumping = false;
}
if(back.hitTestPoint(player.x + upBumpPoint2.x, player.y + upBumpPoint2.y, true)){
    trace("upBumping");
    upBumping = true;
} else {
    upBumping = false;
}
*/
if(back.collisions.hitTestPoint(player.x + downBumpPoint.x, player.y + downBumpPoint.y, true)){
    trace("downBumping");
    downBumping = true;
} else {
    downBumping = false;
}
 if(back.collisions.hitTestPoint(player.x + downBumpPoint1.x, player.y + downBumpPoint1.y, true)){
    trace("downBumping");
    downBumping = true;
} else {
    downBumping = false;
}

    if(leftPressed){
        xSpeed -= speedConstant;
         player.scaleX = -1

    } else if(rightPressed){
        xSpeed += speedConstant;
         player.scaleX = 1
    }

    /*if(upPressed){
        ySpeed -= speedConstant;

    } else if(downPressed){
        ySpeed += speedConstant;

    }*/
 if(leftBumping){
    if(xSpeed < 0){
        xSpeed *= -0.5;
    }
}

if(rightBumping){
    if(xSpeed > 0){
        xSpeed *= -0.5;
    }
}
/*up bump 
if(upBumping){
    if(ySpeed < 0){
        ySpeed *= -0.3;
    }
}
 */
if(downBumping){ //if we are touching the floor
     if(ySpeed > 0){
          ySpeed = 0;
     }
     if(upPressed){ //and if the up arrow is pressed
          ySpeed = jumpConstant; //set the y speed to the jump constant
     }
} else {
     ySpeed += gravityConstant;
}
//max speed
if(xSpeed > maxSpeedConstant){ //moving right
     xSpeed = maxSpeedConstant;
} else if(xSpeed < (maxSpeedConstant * -1)){ //moving left
     xSpeed = (maxSpeedConstant * -1);
}
//min sped
if(Math.abs(xSpeed) < 0.5){
     xSpeed = 0;
}

//keycollection
if(keyCollected == false){ // if we still haven't collected the key
    if(player.hitTestObject(back.other.doorKey)){ // and if the player collides with the key
        back.other.doorKey.visible = false; // hide the key from view
        keyCollected = true; // set our Boolean to true
         //key score
          score += 40;
        }
         updateScore(score);
}
if(doorOpen == false){ // if the door hasn't been opened yet
     if(keyCollected == true){ // and if the player has already collected the key  
          if(player.hitTestObject(back.other.lockedDoor)){ // check if the door and the player are touching
               // if all of these conditions are met...
               back.other.lockedDoor.gotoAndStop(2); // ...switch the door's image to its 2nd frame
               doorOpen = true; // ...set the variable to true
          }
     }

}

    xSpeed *= friction;
    ySpeed *= friction;

    scrollX -= xSpeed;
    scrollY -= ySpeed;

    back.x = scrollX;
    back.y = scrollY;

    mount.x=scrollX * 0.6;
    mount.y=scrollY * 0.6;

    sky.x = scrollX * 0.4;
    sky.y = scrollY * 0.4;

 //movement logic

if(player.currentLabel != animationState){
     player.gotoAndStop(animationState);
}

if( ( leftPressed || rightPressed || xSpeed > speedConstant || xSpeed < speedConstant *-1 ) && downBumping){
     animationState = "running";
}
if( ( leftPressed || rightPressed || xSpeed > speedConstant || xSpeed < speedConstant *-1 ) && downBumping){
     animationState = "running";
} else if(downBumping){
     animationState = "idle";

} else {
     animationState = "jumping";
}
if (enemyList.length > 0) // if there are any enemies left in the enemyList{
for (var i:int = 0; i < enemyList.length; i++) // for each enemy in the enemyList
{
    if (bulletList.length > 0) // if there are any bullets alive
    {
        for (var j:int = 0; j < bulletList.length; j++) // for each bullet in the bulletList
        {
            if ( enemyList[i].hitTestObject(bulletList[j]) )
            {
                trace("Bullet and Enemy are colliding");
                enemyList[i].removeSelf();
                bulletList[j].removeSelf();
            }

            // enemyList[i] will give you the current enemy
            // bulletList[j] will give you the current bullet
            // this will check all combinations of bullets and enemies
            // and see if any are colliding
        }
    }
}
  }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-23T01:27:59.207

我想我可以回答我自己的问题.. -_- 放置`enemy.addEventListener(Event.REMOVED, enemyRemoved); on 'function addEnemy(xLocation:int, yLocation:int):void{`不合适，因为它会立即将数组变为 0；所以这个物体不可能与它发生碰撞..我将移除的敌人转移到主循环中..它工作得很好..

# c++ - C++ cin.getline 只读取一个字符

> ID：12541688
> 
> 赞同：0
> 
> 时间：2012-09-22T07:22:01.053
> 
> 标签：c++, getline, cin

我正在使用 Xcode 4.5，我的程序中有以下代码：

```
char strChar[5];
cin.getline(strChar, 5);
int i = atoi(strChar); 
```

当我开始尝试输入一个数字时，在按下第一个数字后，控制台将不再接受任何输入（除了回车键，在这种情况下程序只会立即返回零）。显然，我要接受多个字符，我该如何做到这一点？

谢谢回答我的问题

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-22T07:27:55.173

如果你想读一行，写起来可能更容易：std::getline(std::cin, str)，其中str的类型是std::string。您的示例仅读取 5 个字符。

注意：如果你想读取的不仅仅是一个数字，而是多行上的一堆数字，你应该把它们全部放入一个循环中。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-24T02:57:41.107

*****更新*********** 2012 年 10 月 4 日*********

**Apple 已发布修复此问题的更新。XCODE 4.5.1 (4G1004)**

这是 Xcodes 最新版本 (4.5) 中的一个已知错误。Apple 知道这一点，并且正在开发补丁。目前截至发稿时，没有已知的解决方法。现在你只需要在终端中运行程序。

** 注意在较新版本的 Xcode 中，命令行工具不会自动安装 ** 安装进入 Xcode -> 首选项 -> 下载 ->*安装命令行工具*

在终端中运行 C++ 程序：

1.) 打开终端。

2.) 导航到正确的目录

3.) 键入“make projectName”减去引号

4.）执行程序：“./projectName”减去引号

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-22T07:30:58.757

请注意：您的代码没有将字符串读入“str”，只是“strChar”。

# asp.net - div elemenet 中的 asp:ValidationSummary 和样式

> ID：12541698
> 
> 赞同：0
> 
> 时间：2012-09-22T07:23:56.123
> 
> 标签：asp.net, css, validation, html

```
<div style="width:100%; background-color:Aqua; text-align:center; vertical-align:middle; height:30px;">
<asp:ValidationSummary ID="ValidationSummary1" runat="server" HeaderText="Error" />
</div> 
```

如果没有错误，我不想显示 div 元素。我不想用js，只用asp控件！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-22T07:39:51.933

一种选择是创建新的 webcontrol 并从 ValidationSummary 派生它并覆盖 Render 方法，以便像您想要的那样用 div 包装您的真实 ValidationSummary。

```
protected override void Render(HtmlTextWriter output) {
   writer.Write("<div class=\"validationsummary-wrap\">");

   //Write the derived validation summary
   base.Render(writer);

   writer.Write("</div>");
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-22T07:41:09.190

使用`height:auto; line-height:30px;`而不是`height:30px;`

```
<div style="width:100%; background-color:Aqua; text-align:center; vertical-align:middle; height:auto; line-height:30px;">
<asp:ValidationSummary ID="ValidationSummary1" runat="server" ForeColor="Black" HeaderText="Fill" />
</div> 
```

# mysql - 在mysql中，如何根据不同的表动态创建视图？

> ID：12541700
> 
> 赞同：2
> 
> 时间：2012-09-22T07:24:12.253
> 
> 标签：mysql, sql, database, view

可能看标题还不太清楚。我是 mysql 的新手，现在我有一个以每天的日期命名的表，所以每天表的名称都不同。

例如，现在表：

```
mysql> show tables;
+----------------+
| Tables_in_mydb |
+----------------+
| mytab_20120922 |
+----------------+ 
```

现在我创建一个视图，用于从今天的表中选择所有（mytab_20120922）：

```
mysql> create view myview as (select * from mytab_20120922); 
```

明天，表的名称将有所不同：

```
mysql> show tables;
+----------------+
| Tables_in_mydb |
+----------------+
| mytab_20120923 |
+----------------+ 
```

那么使用`myview`查看mytab_20120923中的所有数据将是错误的。有什么好主意可以解决这个问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-11T12:26:30.160

奥尔多我认为这是一个床设计，应该按照评论中的建议更改设计，如果你真的想这样做，可以通过创建一个[存储过程来使用](http://dev.mysql.com/doc/refman/5.0/en/stored-routines.html)[MySql Prepared Statements](http://dev.mysql.com/doc/refman/5.0/en/sql-syntax-prepared-statements.html) ，该存储过程从今天的表中动态创建一个选择并执行它，然后从该存储过程中进行选择。

# javascript - 在 jQuery Ajax 成功中隐藏 div 无法正常工作

> ID：12541702
> 
> 赞同：1
> 
> 时间：2012-09-22T07:24:16.540
> 
> 标签：javascript, asp.net-mvc

我有一个 jQuery 脚本，我将在删除该记录后隐藏 div。这是jQuery。

```
$(document).ready(function () {
    $(".deleteComment").click(function ()
     {
        alert("asd");

        var Id = $(this).attr("id");

        var url1 = "@Html.Raw(Url.Action("DeleteComment", "Comment", new { id = "idValue" }))";
        url1=url1.replace("idValue",Id );
        alert(url1);

        $.ajax(
        {
            type: 'post',
            url: '/Comment/DeleteComment',
            dataType: 'json',
            data:
            { 
              'EId' : Id    
            },
            success: function (data) 
            {
                alert ("Hello");
                var commentBlock = $(this).closest('div');
                commentBlock.hide('slow');                                   
            }                
        }); 
```

问题仅在以下代码中：

```
success: function (data) 
{
    alert ("Hello");
    var commentBlock = $(this).closest('div');
    commentBlock.hide('slow');
} 
```

如果我将上面的代码放在脚本的开头，那么它可以正常工作。如果我成功了，那么它就会失败。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-22T07:40:58.080

`this`将引用 Igor 提到的 ajax 对象，他的意思是这个。

```
$(document).ready(function()) {
    var self = this;

    ...
    $.ajax(
        ...

        success: function(data) {
            $(self).closest("div").hide("slow");
        }
    );
} 
```

# sqlite - 如何在 sqlite 提示符下打开 sqlite

> ID：12541703
> 
> 赞同：0
> 
> 时间：2012-09-22T07:24:15.733
> 
> 标签：sqlite

我可以在 shell 提示符下打开 sqlite db：

```
sqlite3 test.db 
```

当我输入 sqlite3 进入 sqlite 环境时，如何在 sqlite 提示符下打开 test.db？

输入是没有用的

```
~$ sqlite3
SQLite version 3.7.13 2012-06-11 02:05:22
Enter ".help" for instructions
Enter SQL statements terminated with a ";"
sqlite> sqlite3 test.db 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-22T07:42:57.273

这些[`sqlite3`](http://www.sqlite.org/sqlite.html)工具总是打开作为参数给出的数据库文件。如果没有文件名，它将打开一个随机名称的临时数据库。

之后无法更改数据库。

# android - 滚动单击android中的下一步和后退按钮

> ID：12541711
> 
> 赞同：1
> 
> 时间：2012-09-22T07:24:56.933
> 
> 标签：android, android-layout, button, scroll, scrollview

我有一个与在 android 中滚动相关的小问题。这是我的xml文件

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:tools="http://schemas.android.com/tools"
android:layout_width="match_parent"
android:layout_height="match_parent" >

<VideoView 
    android:layout_height="match_parent"
    android:layout_width="fill_parent"
    android:id="@+id/video"
    />

<RelativeLayout 
    android:layout_width="fill_parent"      
    android:layout_height="wrap_content"
    android:layout_alignParentBottom="true"
    android:visibility="invisible"
    android:id="@+id/channelview" >

    <Button 
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:background="@drawable/back"
        android:layout_alignParentLeft="true"
        android:id="@+id/backbtn"
        />

    <HorizontalScrollView 
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_toRightOf="@+id/backbtn"
        android:layout_toLeftOf="@+id/nextbtn"
        android:id="@+id/scroll" >

        <LinearLayout
            android:id="@+id/imageholder"
            android:layout_width="wrap_content"
            android:layout_height="match_parent"
            android:orientation="horizontal" >
        </LinearLayout>
    </HorizontalScrollView>

    <Button 
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:background="@drawable/next"
        android:layout_alignParentRight="true"
        android:id="@+id/nextbtn"
        />

</RelativeLayout> 
```

问题是我正在向线性布局动态添加 Imageviews（超过 50 个），我不确定如何通过单击水平滚动视图两侧添加的下一个和上一个按钮来使其滚动。默认情况下，如果我在滚动视图上滑动它会滚动，但我也想通过单击按钮来滚动任何一种方式。谁能建议我如何使用示例代码完成它。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-22T07:32:15.733

这样滚动视图可以向上或向下滚动。

```
scrollview.post(new Runnable() {

    @Override
    public void run() {
        // to scroll down
        scrollview.fullScroll(ScrollView.FOCUS_DOWN);
        // to scroll up
        scrollview.fullScroll(ScrollView.FOCUS_UP);
    }
}); 
```

# linux - 从 $PATH 中排除特定目录

> ID：12541713
> 
> 赞同：2
> 
> 时间：2012-09-22T07:25:06.967
> 
> 标签：linux, bash, unix

我的系统上有多个 MPI 变体。每一个都用于编译特定的应用程序。我正在寻找一个脚本来从 $PATH 中排除特定目录，以使用相应的 MPI 包装应用程序执行。有什么简单的方法吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-22T08:41:27.770

也许是这样的：

```
with-excluded-path () {      
    echo "$PATH" | sed "s,$1:,,g"
}

or 

with-excluded-path () {
    echo "$PATH" | awk -vORS=":" -vRS=":" '$1 == "'$1'" { next }; {print $1}'
}

PATH=$(with-excluded-path "/path/to/exclude") /bin/application 
```

或者简单地将所需的 MPI 路径添加到 PATH 的头部：

```
export PATH="/opt/the/mpi/i/want:$PATH" 
```

# javascript - 即使在 $(document).ready 中，JavaScript 也不会使用 jquery ajax 表单重新加载

> ID：12541720
> 
> 赞同：0
> 
> 时间：2012-09-22T07:26:17.310
> 
> 标签：javascript, jquery, ajax

我有这段代码可以通过切换显示更多/更少我的评论。它工作得很好。但是我有另一种添加评论的形式，该形式使用 jQuery ajax。因此，在添加表单后，脚本无法正常工作。我必须重新加载整个页面才能显示它正常工作。在源代码中，我看到加载了脚本。它也在重新加载的部分中。

也许我应该改变准备加载？

**编辑：** onload 也无济于事；（

```
<script>
    $(document).ready( function () {
        $(".comment p").each(function() {
            var val = $.trim(this.innerHTML);
            var parsed = val.split(/\s+/);
            var cut = parsed;

            // for each word
            for (var i = 0, k = 0; i < parsed.length; i++) {
                k += parsed[i].length + 1;

                if (k - 1 > 50) {
                    cut = parsed.slice(0, i);
                    break;
                }
            }

            // if one long word
            if (cut.length == 0) {
                cut.push(parsed[0].substring(0, 50));
            }

            val = cut.join(" ");

            // if the text is long enough to cut
            if (cut.length != parsed.length) {
                this.innerHTML = val.replace(/[.,;?!]$/, "")
                    + "<span>...</span> ";

                $("<span />")
                    .css("display", "none")
                    .html(parsed.slice(cut.length).join(" ") + " ")
                    .appendTo(this);

                $("<a />", {
                    href : "#",
                    text : "[show more]"
                }).on("click", function(e) {
                    var sh = this.innerHTML == "[show more]";
                    $(this).prev("span").toggle(sh).prev("span").toggle(!sh);
                    this.innerHTML = sh ? "[show less]" : "[show more]";
                    e.preventDefault();
                }).appendTo(this);
            } else {
                this.innerHTML = val;
            }
        });
    });
</script> 
```

**编辑：**我的 ajax 调用看起来像这样（我正在使用 CodeIgniter）：

```
$.ajax({
    url : "<?php echo site_url('comments/add'); ?>",
    type : 'POST',
    data : form_data,
    success : function(msg) {
        var pathname = window.location.pathname;
        $('.comments-tbl-div').load(pathname + ' .comments-tbl-div');
        $('#comment-form-part').html(msg);
    }
}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-22T07:40:28.470

问题是 ready 事件仅被触发一次（在加载文档时）。ajax 引擎在准备好文档后触发成功事件。所以你应该重新调用你的 showMore 引擎。

首先，将您的代码放入可调用函数中

```
<script>
        function showMoreEngine($els) {
            $els.each(function() {
            var val = $.trim(this.innerHTML),
                parsed = val.split(/\s+/),
                cut = parsed;

            // for each word
            for (var i = 0, k = 0; i < parsed.length; i++) {
                k += parsed[i].length + 1;

                if (k - 1 > 50) {
                    cut = parsed.slice(0, i);
                    break;
                }
            }

            // if one long word
            if (cut.length == 0) {
                cut.push(parsed[0].substring(0, 50));
            }

            val = cut.join(" ");

            // if the text is long enough to cut
            if (cut.length != parsed.length) {
                this.innerHTML = val.replace(/[.,;?!]$/, "")
                    + "<span>...</span> ";

                $("<span />")
                    .css("display", "none")
                    .html(parsed.slice(cut.length).join(" ") + " ")
                    .appendTo(this);

                $("<a />", {
                    href : "#",
                    text : "[show more]"
                }).on("click", function(e) {
                    var sh = this.innerHTML == "[show more]";
                    $(this).prev("span").toggle(sh).prev("span").toggle(!sh);
                    this.innerHTML = sh ? "[show less]" : "[show more]";
                    e.preventDefault();
                }).appendTo(this);
            } else {
                this.innerHTML = val;
            }
        });
        }
</script> 
```

在就绪事件中调用此函数

```
 $(document).ready(function(e) { showMoreEngine($(".comment p"))}); 
```

在你的 ajax 引擎中

```
 $.ajax({
        url : "<?php echo site_url('comments/add'); ?>",
        type : 'POST',
        data : form_data,
        success : function(msg)
                  {
                        var pathname = window.location.pathname;
                        // added here a callback function
                        $('.comments-tbl-div').load(pathname + ' .comments-tbl-div',{},function() {showMoreEngine( $(this).find('.comment p') )});
                        $('#comment-form-part').html(msg);
                        showMoreEngine( $('#comment-form-part').find('.comment p') );
                    }
                }); 
```

我认为您可以优化代码......但这可以作为一个起点。

# view - Yii 中的回调操作处理程序

> ID：12541721
> 
> 赞同：0
> 
> 时间：2012-09-22T07:26:20.417
> 
> 标签：view, event-handling, controller, yii, action

这是我的问题：我开发了一个用户可以自己添加内容的网站。该内容通过要从 db 中提取的 id 和/或别名获取标识符。目标不是为包含该内容的每个页面创建视图和控制器。我们不应该为他们寻找那些。相反，我们在 actionIndex() 中处理 URL，获取定义适当内容的 URL 部分并进一步将其加载到模板中。例如：

1.  我们有一个主要部分产品。它的视图位于

    /views/Products/index.php

2.  我们有一个控制器：

    ProductsController 扩展控制器

3.  我们有一个默认方法 actionIndex()

所以当我们得到这样的 URL 时：

```
/mysite/Products/some_product_alias 
```

...我们应该在 actionIndex() 中处理它，这样它就不会将我们引导到 404 页面，而是通过别名“some_product_alias”获取数据，将其加载到产品模板中（我猜它应该是 /views/Products/index.php 或另一页）。同时，它需要保留为静态页面定义控制器/actionMethod 的可能性，这些静态页面是站点的主要部分并且是主菜单。那就是它应该这样工作：如果它可以在控制器中找到现有的 actionMethod，它只会调用它。如果找不到它，它会寻找从 DB 中的 URL 提取的别名。如果它存在，那么它会获取数据并将其加载到模板中。当然，这项任务很容易完成，但不幸的是，我是 Yii 的新手，仍然不知道该怎么做 :( 非常感谢您的帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-22T09:25:27.533

您应该查看 Yii 文档以参数化您在[此处找到的路线](http://www.yiiframework.com/doc/guide/1.1/en/topics.url)

它的要点是您必须修改主配置文件并将此路由映射为不是控制器/操作，而是控制器/{alias}，默认操作为视图，因此如下所示：

```
 'rules'=>array(
    '<controller:\w+>/<id:\d+>'=>'<controller>/view',
  ), 
```

这将映射像 Products/15 这样的路由以使用操作 Products/view 并将 GET 参数 id 设置为 15

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-24T18:16:57.087

答案（它的第一部分）几乎是 DeadAlready 告诉的。但这里有必要补充一点。1\. 我们应该在 urlManager 中为我们的别名设置一个规则（是的！）：

```
Product/<alias:\w+>' =>  'product/index' 
```

请注意，它将在控制器中调用 actionIndex() 并且不会通过别名查找方法。2.我们必须指向一个变量$alias（它的名字与一个模式子串相同，即“$alias”/”

```
function actionIndes($alias){
   ...handle event...
} 
```

之后，我们可以处理事件以从 DB 获取数据。

# java - 在java中浏览html文件

> ID：12541722
> 
> 赞同：-1
> 
> 时间：2012-09-22T07:26:22.190
> 
> 标签：java, swing, html-parsing, awt

> **可能重复：**
> [在 Java 表单中显示相同的 HTML 页面](https://stackoverflow.com/questions/12540998/display-html-page-the-same-in-java-forms)

我想在 Java Swing 应用程序中显示一个 HTML 文件。我正在使用以下代码，它显示指定的 URL 网页，但我想显示存储在特定位置的静态 HTML 页面，例如`D:\\new folder\test.html`. 这怎么可能？除了 JEditorpane 之外，Swing 中还有其他有用的工具吗？

我正在使用以下代码

```
try {
    URL url= new URL("http://www.lawcrux.com");
    htmlPane = new JEditorPane();
    htmlPane.setContentType("text/html");
    htmlPane.setPage(url);
    htmlPane.addHyperlinkListener(this);

    JScrollPane jsp= new JScrollPane(htmlPane);

    cp.add(jsp);
    jsp.setBounds(750, 50, 600, 600);  
} catch(Exception ex) {} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-22T07:30:02.100

试试这个：

```
File htmlFile = new File("c:/web.html");
htmlPane.setPage(htmlFile.toURI().toURL()); 
```

# facebook-graph-api - 如何按类别对数据进出 Facebook 页面进行排序？

> ID：12541725
> 
> 赞同：0
> 
> 时间：2012-09-22T07:26:33.393
> 
> 标签：facebook-graph-api, facebook-javascript-sdk

我正在尝试按类别或标签对来自 Facebook 页面的帖子进行排序。有什么方法可以发布和检索按类别排序的数据？这是我的概念：

我想使用标签名称“general_discussions”发布：

```
$.post('https://graph.facebook.com/fb_page/feed/?access_token='+sess.accessToken,{
    "message": "The content of the post",
    "tag": "general_discussions" //just an example
},function(resp){
    console.log(resp);
}); 
```

...并使用“tag”对所有帖子进行排序：“general_discussion”，我这样做：

```
$.get('https://graph.facebook.com/fb_page/feed/?tag=general_discussions&access_token='+sess.accessToken,function(resp){
    console.log(resp);
}); 
```

facebook上有没有办法做这样的事情？

# sql - SQL“NOT IN”的关系代数等价物

> ID：12541731
> 
> 赞同：6
> 
> 时间：2012-09-22T07:27:50.137
> 
> 标签：sql, relational-algebra

是否存在与 SQL 表达式等效的关系代数`NOT IN`？

例如，如果我有关系：

```
A1  |  A2
----------
x   |  y
a   |  b
y   |  x 
```

我想删除 A1 在 A2 中的关系中的所有元组。在 SQL 中，我可能会查询：

```
SELECT
    *
FROM
    R
WHERE
    R.A1 NOT IN
        (
        SELECT
            A2
        FROM
            R
        )
/ 
```

真正难倒我的是如何在关系代数选择运算符中进行子查询，这可能吗？：

σ[这里的一些子查询]R

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-22T07:33:01.477

在关系代数中，您可以使用笛卡尔积来做到这一点。就像是：

R - ρ [a1,a2] (π [a11,a21] (σ [A11 = A22] (ρ [a11,a21] (R) x ρ [a12, a22] (R))))

*   将 R、fe 的列从 a1 重命名为 a11（左手）和 a12（右手）
*   用重命名的列取 R 的叉积
*   选择 a11 等于 a22 的行
*   投影出 a12 和 a22 并保留 a11 和 a21
*   重命名为 a1 和 a2

这为您提供了匹配的行。从 R 中减去它以找到不匹配的行。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-10-02T22:29:06.980

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2019-11-24T19:40:38.737

A direct answer to a more general question:

```
SELECT
    *
FROM
    R
WHERE
    R.A1 NOT IN
        (
        SELECT
            A2
        FROM
            S
        ); 
```

The answer is:

```
R-R "bowtie" [R.A1=S.A2] ("pi" [A2] S ) 
```

# iphone - 下拉列表实现

> ID：12541736
> 
> 赞同：2
> 
> 时间：2012-09-22T07:28:21.043
> 
> 标签：iphone, ios, uibutton

![在此处输入图像描述](../Images/ff39917c9bb932b28595e8971f4390f1.png)

如何在图像中单击按钮时实现下拉列表？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-22T08:42:28.610

这使它看起来真的像一个下拉列表。这是我用来创建一个的代码。为此首先导入框架，制作动态视图并添加背景图像。然后在动态视图中添加表格。

```
-(IBAction)DropDownTable:(id)sender
    {
        UIView *BackGrView = [[UIView alloc] initWithFrame:CGRectMake(0, 0, 100, 200)];

        BackGrView.hidden = NO;
        if(TableView.frame.origin.y ==203)
        {
            [UIView beginAnimations:nil context:NULL]; 
            [UIView setAnimationDuration:0.5f];
            [TableView setFrame:CGRectMake(224, 204, 27, 160)];
            [UIView commitAnimations];
            [self.view TableView];
        }

        else if (TableView.frame.origin.y == 204)
        {
            [TableView setFrame:CGRectMake(224, 203, 27, 0)];
            BackGrView.hidden = YES;
        }

        [self.view addSubview:TableActivityLevel];
    } 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-22T09:32:38.263

我认为下面的链接将有助于实现一些修改。请通过以下链接：

1.  [http://www.cocoacontrols.com/platforms/ios/controls/zpopovercontroller](http://www.cocoacontrols.com/platforms/ios/controls/zpopovercontroller)
2.  [http://www.cocoacontrols.com/platforms/ios/controls/tspopover](http://www.cocoacontrols.com/platforms/ios/controls/tspopover)
3.  [http://www.cocoacontrols.com/platforms/ios/controls/wepopover](http://www.cocoacontrols.com/platforms/ios/controls/wepopover)

这里`UITableView`用于显示弹出框。您可以实现一个`Section`方法`TableView`来实现您想要的相同效果。

谢谢...

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-22T08:45:35.147

使用自定义视图非常简单。供您参考，我可以向您展示其实现步骤：

1.  使用弹出动画获取 UIView 并在其中添加一个 UITableView，在其背景中具有弹出类型的图像。使用顶部的箭头修复此图像，这将使其具有与实际 UIPopOverController 类似的效果。
2.  创建 UITableView 的自定义标头。
3.  其次，将 UIView 的颜色改为浅灰色。
4.  使用动画相应地管理此 UIView 的弹出/显示和关闭/隐藏。

* * *

## 回答 #4

> 赞同：-2
> 
> 时间：2012-09-22T08:43:19.290

单击该按钮时，显示（Sectioned Table View）`UITableview`如图所示（希望您了解创建`UITableView`），然后使用`cellForRowIndex`委托加载您的列表视图内容。在选择表格的行时，您可以获取值并将 UITableView 隐藏在`didselectrowatIndexPath`委托中。

# c - 确定字符串文字的长度

> ID：12541739
> 
> 赞同：17
> 
> 时间：2012-09-22T07:28:36.277
> 
> 标签：c, arrays, string, literals

给定一个指向字符串字面量的指针数组：

```
char *textMessages[] = {
    "Small text message",
    "Slightly larger text message",
    "A really large text message that "
    "is spread over multiple lines"
} 
```

如何确定特定字符串文字的长度 - 比如说第三个？我尝试使用 sizeof 命令如下：

```
int size = sizeof(textMessages[2]); 
```

但结果似乎是数组中指针的数量，而不是字符串文字的长度。

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2012-09-22T09:18:11.890

如果您希望在*编译时*计算数字（而不是在运行时使用`strlen`），那么使用类似的表达式是完全可以的

```
sizeof "A really large text message that "
       "is spread over multiple lines"; 
```

不过，您可能希望使用宏来避免重复长文字：

```
#define LONGLITERAL "A really large text message that " \
                    "is spread over multiple lines" 
```

请注意，返回的值`sizeof`包括终止 NUL，因此是`strlen`.

* * *

## 回答 #2

> 赞同：19
> 
> 时间：2014-01-11T20:41:27.503

我的建议是使用**strlen**并打开编译器优化。

例如，在 x86 上使用 gcc 4.7：

```
#include <string.h>
static const char *textMessages[3] = {
    "Small text message",
    "Slightly larger text message",
    "A really large text message that "
    "is spread over multiple lines"
};

size_t longmessagelen(void)
{
  return strlen(textMessages[2]);
} 
```

运行后`make CFLAGS="-ggdb -O3" example.o`：

```
$ gdb example.o
(gdb) disassemble longmessagelen
   0x00000000 <+0>: mov    $0x3e,%eax
   0x00000005 <+5>: ret 
```

即编译器已将调用替换为`strlen`常量值 0x3e = 62。

不要浪费时间执行编译器可以为您做的优化！

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-22T08:34:02.787

**strlen**为您提供字符串的长度，而**sizeof**将返回您作为参数输入的**数据类型的大小（以字节为单位）。**

[斯特伦](http://msdn.microsoft.com/en-us/library/78zh94ax%28v=vs.71%29.aspx)

[大小](http://msdn.microsoft.com/en-us/library/4s7x1k91.aspx)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-22T07:30:10.427

[`strlen`](http://www.cplusplus.com/reference/clibrary/cstring/strlen/)也许？

```
size_t size = strlen(textMessages[2]); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-22T07:30:34.123

您应该使用`strlen()`库方法来获取字符串的长度。 `sizeof`将为您提供一个指针的大小`textMessages[2]`，该指针取决于机器（4 个字节或 8 个字节）。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-09-22T12:46:18.343

您可以利用数组中的值是连续的这一事实：

```
const char *messages[] = {
    "footer",
    "barter",
    "banger"
};

size_t sizeOfMessage1 = (messages[1] - messages[0]) / sizeof(char); // 7   (6 chars + '\0') 
```

大小是通过使用元素的边界来确定的。第一个元素的开头和第二个元素的开头之间的空间是第一个元素的大小。

这包括终止`\0`. 当然，该解决方案仅适用于常量字符串。如果字符串是指针，您将获得指针的大小而不是字符串的长度。

**这不能保证有效**。如果字段对齐，这可能会产生错误的大小，并且编译器可能会引入其他警告，例如合并相同的字符串。此外，您的数组中至少需要两个元素。

* * *

## 回答 #7

> 赞同：-1
> 
> 时间：2012-09-22T12:17:08.413

我会告诉你一些事情，根据我的知识数组，指针是一样的，**除非**你使用`sizeof`.

当您`sizeof`在指针上使用时，无论指针指向什么，它都将始终返回**4 BYTE**，但如果它在数组上使用，它将返回**数组多长（以字节为单位）？**.

在您的示例中，这里`*textMessage[]`是指针数组，因此当您使用`sizeof(textMessage[2])`它时，它将返回**4 BYTE**，因为`textMessage[2]`它是一个指针。

我希望它对你有用。

# php - MVC 中的 AJAX 控制器

> ID：12541740
> 
> 赞同：-2
> 
> 时间：2012-09-22T07:28:38.860
> 
> 标签：php, ajax, oop, model-view-controller, controller

我正在构建一个系统，同时学习和实现 OOP 和 MVC。

我唯一不确定的是如何将 AJAX 合并到我的 MVC 结构中，所以我所采用的是一种控制器，它响应来自 AJAX 请求的不同“模式”，该请求访问并返回来自各种对象的结果我的系统。

这是执行此操作的好方法，还是我通过使用与系统中的其他控制器非常不同的控制器来打破 MVC 规则？

这是我的 AJAX“委托人”：

```
session_start() ;
function __autoload($classname)
{
include('/controllers/'.$classname.'.php') ;
}

// Deligator for contact operations.

if($_POST['mode'] == 'OPPORTUNITY_COUNT')
{
$contactManager = new ContactManager($_SESSION['userid']) ;

echo $contactManager->fetchOpportunityCount() ;

}
elseif($_POST['mode'] == 'PROSPECT_COUNT')
{
$contactManager = new ContactManager($_SESSION['userid']) ;

echo $contactManager->fetchProspectCount() ;

}
elseif($_POST['mode'] == 'CUSTOMER_COUNT')
{
$contactManager = new ContactManager($_SESSION['userid']) ;

echo $contactManager->fetchCustomerCount() ;

}
else
{
echo 'Error: Unknown mode.' ;
exit() ;
} 
```

* * *

仅供参考这是我向路由器发送数据的方式：

```
socket.on('UPDATE_OPPORTUNITY_DATA', function(date){
    $.ajax({data: 'mode=OPPORTUNITY_COUNT', success: function(data){
        $('#opportunityCount').html(data) ;
        shaker('#opportunityCount') ;
        }
    })
}) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-22T08:34:33.207

作为 Ninsuo 路由的一个小替代方案，它绝对有效。我觉得它违反了 DRY 原则，因为你必须在不断增长的 switch 语句中添加一些东西，同时还要创建一个新函数，当你可以拥有时对应一些代码会自动执行此操作。

```
if(method_exists($selected_controller,$_POST['either the url end or something')
{
    //I typically use reflection to tell if a method is public or private
    $reflection = new ReflectionMethod($this, $function);
    if($reflection->isPublic())
    {
        call_user_func_array(array($selected_controller,$function), $_POST['blah or url']);
    }
    else
    {
        //Render 404 - The method is protected or private
    }

}
//Render 404 - no such method exists in the controller 
```

本质上，在您选择了要使用的控制器之后，您只需检查相应的方法是否存在，然后运行它;]。

我也更喜欢利用你的类已经被解析、函数名被索引以及调用函数将是一个时间复杂度为 1 的简单哈希调用这一事实的技术。与不断增长的事物列表相反这没有利用您已经拥有的工具..这导致您在多个地方重复自己的代码。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-22T07:46:28.557

对于 MVC 架构来说看起来并不算太糟糕，但你做的不是很好，就是在同一个文件中进行路由和操作。我建议你：

```
session_start() ;
function __autoload($classname)
{
include('/controllers/'.$classname.'.php') ;
}

// Routing for contact operations.

$out = null;
switch ($_POST['mode'])
{
    case 'OPPORTUNITY_COUNT':
            $controller = new ContactController;
            $out = $controller->opportunityCountAction($_SESSION['userid']);
            break ;
    case 'PROSPECT_COUNT':
            $controller = new ContactController;
            $out = $controller->prospectCountAction($_SESSION['userid']);
            break ;
    case 'CUSTOMER_COUNT':
            $controller = new ContactController;
            $out = $controller->customerCountAction($_SESSION['userid']);
            break ;
    default:
            break ;
}

if (is_null($out)) {
    echo 'Error: Unknown mode.' ;
    exit();
}

echo $out; 
```

然后你使用管理器方法调用来实现你的 ContactController。

关于路由和控制器之间区别的一些有趣的[文档。](https://softwareengineering.stackexchange.com/questions/135495/in-mvc-what-is-the-difference-between-controller-and-router)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-22T07:39:48.847

有很多方法可以做到这一点，但最简单的是，在您的控制器中，您的操作仅适用于 ajax 请求。因此，它不是返回一个 html，而是返回一个 json 字符串。

我不确定您正在使用的框架，但我给出了一个通用示例。

```
class yourController {
function updateAction()
{
  // do an normal page view 
  $this->renderView('view');  // this will be greatly different for different frameworks
}

function ajaxUpdateAction()
{
//do the ajax processing

echo json_encode($data);
die;

}

} 
```

# algorithm - 运行时间 t(n) = t(n-2) + (n-2)²

> ID：12541743
> 
> 赞同：1
> 
> 时间：2012-09-22T07:28:49.687
> 
> 标签：algorithm, big-o, big-theta

谁能告诉我以下解决方案是否正确？

我正在尝试计算**t(n) = t(n-2) + (n-2)²的运行时间**

进一步评估

**=> t(n)=t(n-4) + (n-2)² + n²**

**=> t(n)=t(n-6) + (n-6)² + (n-2)² + n²**

...因为它减少了 2，所以它大约有 n/2 项，并且通过扩展我们拥有的所有正方形 (n/2) * (n²)，它等于 n³。所以运行时间是**theta(n³)**

这是正确的解决方案吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-22T07:36:02.963

是的，以上是完全正确的（除了第一行的小例外应该`t(n) = t(n-4) + (n-4)^2 + (n-2)^2`根据问题定义，并更正后面的内容 - 但它不影响渐近结果）。

为了证明这一点，我们可以使用[数学归纳法](http://en.wikipedia.org/wiki/Mathematical_induction)：

```
Claim: t(n) <= n^3
base: T(2) = 2 (assumption - otherwise we'll get stuck)
let's assume the assumption is true for each n<k for a certain k.
t(k) = t(k-2) + (k-2)^2 <= (k-2)^3 + (k-2)^2 = 
     = k^3 -6k^2 + 12k -8 + k^2 - 4k + 4
     = k^3 -5k^2 + 8k - 4 
```

剩下的就是证明这一点[`5k^2 >= 8k - 4`](http://www.wolframalpha.com/input/?i=5k%5E2%20%2b4%20%3E%208k%20)，我们已经完成了。该等式适用于每个`k>=2`- 证明它是作为练习留下的。

从上面我们可以得出 t(n) 在 中`O(n^3)`。使用类似的方法，我们可以证明它也在 中`Omega(n^3)`，因此它是`Theta(n^3)`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-22T07:35:54.437

[使用这个在线计算器](http://www.wolframalpha.com/input/?i=%20t%28n%29%20=%20t%28n-2%29%20%2b%20%28n-2%29%5E2&dataset=)，您可以看到 Θ(n^3) 结果。

![n^3](../Images/ea56c1c908314b9ef1069c109764f0bd.png)

正如我所想，右乘法会产生 Θ(n^3)。

# macos - Git使文件名的第一个字母大写

> ID：12541746
> 
> 赞同：9
> 
> 时间：2012-09-22T07:29:35.530
> 
> 标签：macos, git, case-sensitive

我有一个有趣的情况，我想将文件名的第一个字母更改为大写，然后 git 提交该更改。

```
$ mv filename.ext Filename.ext
$ git add Filename.ext
$ git commit -m "Made filename title case." 
```

但是 git（至少在 OSX 上）根本没有将大小写的更改视为更改，因此无需提交任何内容。

如何更改此文件并提交该更改？

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2012-09-22T07:35:02.610

问题是 HFS+（Mac 的文件系统）不区分大小写。你可以试试`git mv --force filename.ext Filename.ext`。

# regex - 正则表达式匹配文本中的单词 2 次

> ID：12541751
> 
> 赞同：2
> 
> 时间：2012-09-22T07:30:00.490
> 
> 标签：regex

我需要匹配在文本中出现 2 次的英文文本中的单词。我试过了

```
(^|\ )([^\ ][^\b]*\b).*\ \2\b 
```

但这并不匹配所有行。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-22T07:49:42.047

您的正则表达式存在一些问题。例如，`\b`字边界不能在字符类中使用，因此`[^\b]*`不会按预期工作。

你可能想要类似的东西

```
(?s)\b(\w+)\b.*\b\1\b 
```

这将匹配从单词第一次出现到最后一次出现的整个文本。这可能不是您真正想要的。

另一个想法：

```
(?s)\b(\w+)\b.*?\b\1\b 
```

这将仅匹配从单词第一次出现到下一次出现的文本。

这两种方法的问题在于，例如在文本中

```
foo bar bar foo 
```

正则表达式将匹配 from `foo`to `foo`，盲目地忽略中间存在重复`bar`。

因此，如果您确实想查找所有重复出现的单词，请使用

```
(?s)\b(\w+)\b(?=.*?\b\1\b) 
```

**解释：**

```
(?s)       # Allow the dot to match newlines
\b(\w+)\b  # Match an entire word
(?=        # Assert that the following regex can be matched from here:
 .*?       #  Any number of characters
 \b\1\b    #  followed by the word that was previously captured
)          # End of lookahead 
```

# batch-file - 使用命令行批处理程序以递归方式（文件夹方式）读取包含文件完整路径的文本文件从源文件夹复制到目标文件夹

> ID：12541754
> 
> 赞同：1
> 
> 时间：2012-09-22T07:30:07.857
> 
> 标签：batch-file, command-line

读取包含文件完整路径的文本文件以递归方式从源文件夹复制到目标文件夹（文件夹明智）list.txt 包含从根目录到文件的各种文件的完整路径我试过 xcopy /s 源目标它工作正常，但我`enter code here`想从明智地列出并粘贴到目标文件夹中。如果我的目标文件夹是

我可以使用命令读取文件：

```
FOR /F "eol=; tokens=* delims=, " %i in (D:\List.txt) do @echo %i 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-23T08:30:49.310

好吧，我想没有人可以说你没有发布任何代码。至于它的相关性......嗯......

好的，你的信息很不清楚。你有不完整的句子和想法，还有一些看似随意的陈述。但我会尽力提供帮助。

我不知道“递归地从源文件夹复制到目标文件夹”是什么意思。您的意思是要将源中的所有子目录复制到目的地吗？

您说您要将列表文件从根目录复制到目标文件夹。要复制的文件的实际列表包含在`List.txt`位于驱动器 D:根目录中的一个名为的文件中。

我可以假设当您说“明智地粘贴到目标文件夹中”时，您的意思是您希望将文件复制到文件夹/目录中`wise`吗？那是对的吗？路径是`wise`什么？

有了你提供的信息，我可以帮你一点。

好的，拥有要复制的文件列表以及想要从源目录中复制子目录的想法是有问题的，除非要复制的某些文件列表的路径将它们放在这些子目录中。我会假设是这种情况。

由于您说源是根目录，并且`List.txt`位于 D:\ 的根目录中，因此我将假设 D:\ 是您所说的根目录。你提到了一个文件夹`wise`，所以我假设它是目标文件夹。另外，由于您说它`list.txt`包含要复制的文件的整个路径，我们可以忽略 sorce 目录，因为它是路径的一部分。

因此，做出这些假设，这是您的代码。

```
@echo off
set dest=d:\wise
set list=d:\list.txt

for /f "tokens=*" %%x in (%list%) do copy %%x %dest% 
```

很短很甜。

如果没有样本数据和预期结果，我将无法做得更好。

您提到`XCOPY`了，但是由于使用 xcopy 复制单个文件并没有真正发挥它的力量，所以我改用它`copy`。

如果这不是您需要的，请尝试更清楚。用完整的句子和完整的想法说话。不是句子片段和随机陈述，例如您的“ `enter code here`”陈述。我不知道那是什么意思。

# jquery - 如何将选项添加到用 jQuery？我有以下 HTML： <select id="AccountID" name="AccountID"><option value="02">AA</option> <option value="01">BB</option> <option value=" 00">CC</option></select> 是否可以使用 jQuery 插入另一个选项使其成为这

> ID：12541760
> 
> 赞同：0
> 
> 时间：2012-09-22T07:30:32.553
> 
> 标签：jquery

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-22T07:31:33.427

您可以使用`prepend`方法：

```
$('#AccountID').prepend('<option value="99">Select Account ..</option>'); 
```

[http://jsfiddle.net/NJ8Bv/](http://jsfiddle.net/NJ8Bv/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-22T07:35:12.530

试试这个：

```
$('#AccountID').prepend('<option value="99">Select Account..</option>'); 
```

或者

```
$("#AccountID").prepend(new Option("Select Account..", "99")); 
```

**[JSFIDDLE](http://jsfiddle.net/NJ8Bv/3/)**

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-22T07:35:47.227

尽可能避免使用 html 标记。尝试这个：

```
$('#select').append($("<option></option>").attr("value",'my_val').text('This is my option')); 
```

# python - 如何使用 Python 列出目录

> ID：12541764
> 
> 赞同：8
> 
> 时间：2012-09-22T07:30:47.310
> 
> 标签：python, list, directory

> **可能重复：**
> [如何在python中列出目录的所有文件](https://stackoverflow.com/questions/3207219/how-to-list-all-files-of-a-directory-in-python)

如何使用 python 列出所有目录内容并将其添加到列表中？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-22T07:30:47.310

使用 Python，有很多方法可以做到这一点，但这是我所知道的最简单的一种。

请查看评论以了解输出的细节。

```
from os import listdir
list = listdir("C:\Users\Hello\World\Python Programs")
print list #Outputs the whole list
print len(list) #Checks for the length of the list
print list[26] #Outputs a specific element in the list 
```

祝你好运！

# javascript - Evernote javascript 书签导入器

> ID：12541767
> 
> 赞同：2
> 
> 时间：2012-09-22T07:31:01.910
> 
> 标签：javascript, xml, evernote

Evernote 用户 'iwqnna' 创建了一个很棒的 javascript 工具，用于将 html 书签导入 Evernote：http: [//jsfiddle.net/kT4nj/](http://jsfiddle.net/kT4nj/)（[此处](http://discussion.evernote.com/topic/27609-tool-import-chrome-netscape-bookmarks-to-evernote/page__gopid__159970#entry159970)有说明）。不幸的是，它不会导入可包含在 Google 书签中的附加注释。你知道我可以如何修改 javascript 导入工具来维护这些附加信息吗？

在我从（从 Google 书签中导出）导入的 html 文件中，附加注释数据位于`<DD>`标记之后。

例如

```
<H3 ADD_DATE="1344874450147601">Tag name here</H3>
<DL><p>
<DT><A HREF="url 1 here" ADD_DATE="date here">Bookmark 1 name here</A><DD>More detailed note about bookmark 1 here
<DT><A HREF="url 2 here" ADD_DATE="date here">Bookmark 2 name here</A><DD>More detailed note about bookmark 2 here
</DL> 
```

此外，虽然现有工具成功地将笔记导入 Evernote 桌面，但同步通过此脚本导入的笔记似乎存在一些问题。活动日志说：

例如

> 21:13:41 [576] 86% 跳过注释“此处的注释名称”标记为不可同步 (0x4) 本地标志 (ENML_VALIDATION)

有任何想法吗？这是我在运行 Windows 时最接近令人满意的导入解决方案，我非常感谢一些帮助清除最后一个障碍。非常感谢。

# python - Python 3：文档中的 list.append()

> ID：12541772
> 
> 赞同：2
> 
> 时间：2012-09-22T07:32:12.727
> 
> 标签：python, python-3.x, methods

您能否建议我在文档中的哪里可以找到有关应用于列表的“附加”方法的任何信息。

我是说

```
L = [1, 2, 3]

L.append(3)         # The method modifies the list itself and L = L.append(4) is a             mistake. 
```

我可以找到关于数组的内容，但由于未知原因，我未能找到关于列表的内容。

在我的教科书中，我可以读到“附加”会修改列表本身而不返回值。所以，我只想在文档中找到这些信息，其次，学习如何使用手册。

先感谢您。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-22T07:36:28.790

Python 中的所有函数都返回值。这是`None`为了`list.append`方法（强调它修改了它的参数（`self`）*就地*）。

[本教程](http://docs.python.org/dev/tutorial/datastructures.html)中列举了所有列表方法。据我所知，没有更完整的参考。

的文档字符串`list.append()`指定它返回`None`. `help(list.append)`在 Python shell 中运行。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-02-21T18:09:31.490

内置类列表的官方文档有点难找，但它确实存在：

[班级名单](https://docs.python.org/3.7/library/stdtypes.html?highlight=list#list)

正如所解释的，列表实现了所有常见和可变的序列操作。“追加”属于可变序列操作。可悲的是，可变序列操作的文档与教程中解释的内容或多或少相同。因此，似乎确实没有官方文档可以更详细地解释该方法（尽管我同意无论如何都不会分享太多细节）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-08-27T20:18:57.277

> 我可以找到关于数组的内容，但由于未知原因，我未能找到关于列表的内容。

我也是新手，但据我了解，python 中的 list 与大多数其他语言中的数组等效（但不完全相同），例如 C 中的数组。所以如果你找到数组的答案，你必须接受它作为一个列表。

# vb.net - 从 QC 的测试实验室中间选择测试

> ID：12541776
> 
> 赞同：0
> 
> 时间：2012-09-22T07:32:33.720
> 
> 标签：vb.net, visual-studio-2010, vbscript, hp-quality-center

我在 QC 中进行了大约 800 次奇怪的测试。我有一个 vbscript，它将在我运行脚本时运行并将测试实验室中的所有测试用例标记为 PASS。唯一担心的是，脚本总是从第一个测试开始运行，直到我指定的最后一个测试（比如从第一次测试到第 700 次测试或从第一次测试到第 140 次测试）。我想更改代码，以便我可以从中间运行脚本，例如从第 500 次测试到第 600 次或从第 430 次测试到第 450 次测试等等。我尝试在我的代码中编辑所有可能的值，但没有用。有人可以帮我破解吗？

发布代码

```
Option Explicit

Dim j
Dim qcServer
Dim tdc
Dim testset
Dim TSetFact
Dim tsTreeMgr
Dim npath
Dim tsFolder
Dim tsList
Dim tSetName

qcServer = "http://testdirector.mot.com/qcbin"
'nPath = "Root\Execution\Build_1.0"
nPath = "Root\Execution\Build_1.0"
tSetName  = "Test Folder"

WScript.Echo qcserver

Set tdc = CreateObject("tdapiole80.tdconnection")

tdc.InitConnectionEx qcServer

tdc.Login "username", "password"

tdc.Connect "DEFAULT", "TEAMMate"

If tdc.ProjectConnected = True Then
WScript.Echo "Connected to the Project Columbus"
End If

WScript.Echo "Logged in ??"
WScript.Echo tdc.LoggedIn 
WScript.Echo "Connected ??"
WScript.Echo tdc.Connected 
WScript.Echo "Server name"
WScript.Echo tdc.ServerName 
WScript.Echo "Domain name"
WScript.Echo tdc.DomainName
WScript.Echo "Project name"
WScript.Echo tdc.ProjectName 
WScript.Echo "username"
WScript.Echo tdc.UserName 

Set TSetFact =  tdc.TestSetFactory
Set tsTreeMgr = tdc.TestSetTreeManager
Set tsFolder = tsTreeMgr.NodeByPath(nPath)

If tsFolder Is Nothing Then
WScript.Echo "Testset folder not found"
End If
WScript.Echo "Test set folder exists"

Set tsList = tsFolder.FindTestSets(tSetName)

If tsList Is Nothing Then
WScript.Echo "Testset not found"
End If

If tsList.Count > 1 Then
WScript.Echo "Multiple Testsets found with same name"
End If
If tsList.Count < 1 Then
WScript.Echo "Testset not found"
End If

WScript.Echo "Testset exists"
Set testset = tsList.Item(1)
WScript.Echo testSet.Name

Dim TSTestFact
Dim TestSetTestsList
Dim thetest

    Set TSTestFact = testSet.TSTestFactory
    Set TestSetTestsList = TSTestFact.NewList("")
    j = 0

    Dim sID
    Dim sName

    For Each thetest In TestSetTestsList
    j = j + 1 
    If j > 737 Then    **j > 737 indicates run up to 737th test in the test lab) **
    Exit For
    End If 
    'sID = thetest.ID
    sName = thetest.Name
    'WScript.Echo sID
    If j > 0 Then 
    WScript.Echo "testcase found for execution"
    Dim runName
    Dim RunF
    Dim theRun
    Dim runStepF
    Dim lst
    Dim Item
    Dim runtitle

    'Set runtitle = "Run"

    runName = thetest.ID
    Set RunF = thetest.RunFactory
    Set theRun = RunF.AddItem(runName)
    theRun.Status = "Passed"
    theRun.Post   

    theRun.CopyDesignSteps
    theRun.Post 

    Set runStepF = theRun.StepFactory
    Set lst = runStepF.NewList("")
    For Each Item In lst
     Item.Status = "Passed"
     Item.Post
    Next    
    End If     
    WScript.Echo sName
    Next

'Set ObjRun = QCUtil.CurrentRun
'Dim sf1 as StepFactory
'Dim s1 as step

'Set sf1 = ObjRun.StepFactory
'Set s1 = sf1.NewList("")

'For i = 1 To s1.count
's1.Item(i).Field("ST_EXPECTED") = "Your Expected"
's1.Item(i).Field("ST_ACTUAL") = "Your Actual"

'Next

's1.Post

'Disconnect
If tdc.Connected Then
tdc.Disconnect
WScript.Echo "Disconnected QC session successfully"
End If

'Log off the server
If tdc.LoggedIn Then
tdc.Logout
WScript.Echo "Logged off from the Server successfully"
End If

'Release the TDConnection object.
tdc.ReleaseConnection
WScript.Echo "Released the connection"
'Check status
Set tdc = Nothing 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-24T07:51:32.367

看来代码应该适用于编号为 737 或更大的测试用例。另请查看 Quality Center 帮助以获取可能有帮助的 OTA 参考。您可以从此处下载 Mercury Quality Center *Open Test Architecture API 参考*(OTA_API_Reference.chm) 和*站点管理 API 参考* (Site_Admin_API_Reference.chm) 文件：http: [//technologicaguru.blogspot.com.au/2008/03/quality-center -open-test-architecture.html](http://technologicaguru.blogspot.com.au/2008/03/quality-center-open-test-architecture.html)

自己没有尝试过，乍一看，您可以尝试用以下代码替换部分代码，指定要查询的测试用例编号范围的上下限：

```
Dim sID
Dim sName
Dim testCaseStart
Dim testCaseEnd
'Change testCaseStart and testCaseEnd to required test case range 
testStartVal = 500
testEndVal = 600

For Each thetest In TestSetTestsList
  If j >= testCaseStart And j <= testCaseEnd then 
    'sID = thetest.ID
    sName = thetest.Name
    'WScript.Echo sID
    If j > 0 Then 
      WScript.Echo "testcase found for execution"
      Dim runName
      Dim RunF
      Dim theRun
      Dim runStepF
      Dim lst
      Dim Item
      Dim runtitle

      'Set runtitle = "Run"

      runName = thetest.ID
      Set RunF = thetest.RunFactory
      Set theRun = RunF.AddItem(runName)
      theRun.Status = "Passed"
      theRun.Post   

      theRun.CopyDesignSteps
      theRun.Post 

      Set runStepF = theRun.StepFactory
      Set lst = runStepF.NewList("")
      For Each Item In lst
        Item.Status = "Passed"
        Item.Post
      Next    
    End If     
    WScript.Echo sName
  End If
  j = j + 1
Next 
```

# java - java中的网络摄像头错误

> ID：12541777
> 
> 赞同：0
> 
> 时间：2012-09-22T07:32:54.453
> 
> 标签：java, webcam

我正在尝试在 java 应用程序中使用我的 cam，但我得到了一些错误，这是我的代码。很简单有人告诉我我的代码有什么问题：

```
import java.util.Vector;
import javax.media.CaptureDeviceInfo;
import javax.media.CaptureDeviceManager;
import javax.media.Manager;
import javax.media.MediaLocator;
import javax.media.Player;
import javax.swing.JFrame;
public class Main extends JFrame {

    public Main(){

        super("Jcam");
        try {

        Vector v = CaptureDeviceManager.getDeviceList(null);
        CaptureDeviceInfo cam = null;
        for(int i=0;i<v.size();i++)
        {
            CaptureDeviceInfo dev = (CaptureDeviceInfo) v.elementAt(i);
            if(dev.getName().startsWith("vfw"))
            {
                cam = dev;
                break;
            }
            System.out.println(dev.getName());

        }
        if (cam == null){ System.exit(0); }
        MediaLocator ml = cam.getLocator();
        Player p = Manager.createRealizedPlayer(ml);
        add(p.getVisualComponent());
        p.start();
        } catch (Exception e) {

        }
        setSize(700, 700);
        setVisible(true);
    }
    /**
     * @param args
     */
    public static void main(String[] args) {
        new Main();
    } 
```

这是日志

```
Exception in thread "VFW Request Thread" java.lang.UnsatisfiedLinkError:     JMFSecurityManager: java.lang.UnsatisfiedLinkError: no jmvfw in java.library.path
    at com.sun.media.JMFSecurityManager.loadLibrary(JMFSecurityManager.java:206)
    at com.sun.media.protocol.vfw.VFWCapture.<clinit>(VFWCapture.java:19)
    at com.sun.media.protocol.vfw.VFWSourceStream.doConnect(VFWSourceStream.java:241)
    at com.sun.media.protocol.vfw.VFWSourceStream.run(VFWSourceStream.java:763)
    at java.lang.Thread.run(Unknown Source) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-12T19:00:13.557

尝试下载并包含独立于平台的发行版。当我尝试在 Windows 上使用 jmf 时，我遇到了同样的错误 - 但是当我从使用 Windows 分发版切换到独立于平台的分发版时，它起作用了。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-16T08:46:23.940

解决了..它因为 64 位操作系统..jmf 在 64 位上不起作用

# android - Android开发：有没有Eclipse的插件，我和朋友可以同时开发？

> ID：12541778
> 
> 赞同：0
> 
> 时间：2012-09-22T07:32:55.653
> 
> 标签：android, eclipse, eclipse-plugin

Eclipse 有没有插件，我和朋友可以同时开发？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-22T07:34:59.493

有许多用于源代码版本控制的插件（SVN、GIT、CVS），如果这是您所要求的。（对不起，如果我误解了这个问题！）

我建议你看看[http://subclipse.tigris.org/](http://subclipse.tigris.org/) (SVN)！

（如果您需要免费的 SVN/GIT 存储库：[https](https://xp-dev.com/) ://xp-dev.com/或[http://code.google.com](http://code.google.com)）

# c# - asp.net c#中的网页截图

> ID：12541780
> 
> 赞同：0
> 
> 时间：2012-09-22T07:33:17.907
> 
> 标签：c#, asp.net, email, screenshot

我得到了网站的截图。问题是我在屏幕上有文本框。当我截屏时，文本框的值没有出现。有人可以指导我重新排列代码。谢谢

```
protected void Button1_Click(object sender, EventArgs e)
{
    MailMessage msg = new MailMessage(txt_From.Text, txt_To.Text);
    try
    {
        msg.Subject = txt_Subject.Text;
        msg.Body = "<br /><b>form:</b> " + form1 + "<br /><b>From:</b> " + txt_From.Text + "<br /><b>To:</b> " + txt_To.Text + "<br /><br /><br /><br /><b>Name:</b><hr />" + TextBox1.Text + "<br /> <br /><b>Date:</b><br /><hr /><br />" + TextBox2.Text + "<br /><br />";
        msg.IsBodyHtml = true;
        WebRequest mywebReq;
        WebResponse mywebResp;
        StreamReader sr;
        string strHTML;
        StreamWriter sw;

        // Put user code to initialize the page here

        mywebReq = WebRequest.Create("http://localhost:4101/WebForm2.aspx");
        mywebResp = mywebReq.GetResponse();
        sr = new StreamReader(mywebResp.GetResponseStream());
        //sr = new StreamReader(mywebResp.GetResponseStream(), System.Text.Encoding.ASCII);
        strHTML = sr.ReadToEnd();
        sw = File.CreateText(Server.MapPath("Report.htm"));
        sw.WriteLine(strHTML);
        sw.Close();
        Response.WriteFile(Server.MapPath("Report.htm"));

        Attachment objAttachment = new Attachment(@"C:\Users\2714\Documents\Visual Studio 2010\Projects\Certificate\Certificate\Report.htm");
        msg.Attachments.Add(objAttachment);
        System.Net.Mail.SmtpClient objSmtpClient = new SmtpClient("10.238.52.200", 25);
        objSmtpClient.Send(msg);
    }
    catch (Exception ex)
    {
        throw ex;
    }    
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-22T08:26:30.113

当您捕获网页时，看不到用户输入的任何内容是合乎逻辑的 - 实际上不存在，您只需加载页面，您希望在文本框中看到什么？

如果您出于调试原因尝试获取报告并且您赢得了查看问题发生时页面上发生的情况，那么您需要使用构建（尽可能）页面的 dom 并将其发送到的 javascript 库你。所有这些操作都要求用户制作它们 - 捕获网页并通过电子邮件发送，即使您可以使其自动化，如果用户想向您展示它们的类型，他也必须嘲笑。

一个示例[http://experiments.hertzen.com/jsfeedback/](http://experiments.hertzen.com/jsfeedback/)和库[http://html2canvas.hertzen.com/](http://html2canvas.hertzen.com/)可以捕获用户在屏幕上看到的内容。

relative ：[如何将 HTML 元素转换为画布元素？](https://stackoverflow.com/questions/2732488/how-can-i-convert-an-html-element-to-a-canvas-element/6789627#6789627)

# opencv - OpenCV中相机校准期间的错误

> ID：12541783
> 
> 赞同：2
> 
> 时间：2012-09-22T07:33:57.530
> 
> 标签：opencv, camera-calibration

我正在使用opencv进行相机校准。我正在使用“烹饪书编程”中给出的相同代码。

我正在用智能手机拍摄棋盘的照片。然后我正在使用 opencv 程序为我进行相机校准。当我有非常大的棋盘时，程序只适用于一组图像。它不适用于其他图像集，并且我收到运行时错误“断言失败 ![在此处输入图像描述](../Images/4864eec33baf6a51f469c64126f31f51.png)

我不知道我的代码出了什么问题。代码如下：-

```
int main()
{
CameraCalibrator calibrateCam;
std::vector<std::string> filelist;
char buff[100];

for(int i=0;i<21;i++)
{
    sprintf(buff,"..\\Train\\3\\%d.jpg",i+1);
    filelist.push_back(buff);
}
cv::Size boardSize(4,3);
double calibrateError;
int success;
success = calibrateCam.addChessboardPoints(filelist,boardSize);
}

class CameraCalibrator{
public:
   std::vector<std::vector<cv::Point3f>> objectPoints;
   std::vector<std::vector<cv::Point2f>> imagePoints;
   //Square Lenght
   float squareLenght;
   //output Matrices
   cv::Mat cameraMatrix; //intrinsic
   cv::Mat distCoeffs;
   //flag to specify how calibration is done
   int flag;
   //used in image undistortion
   cv::Mat map1,map2;
   bool mustInitUndistort;
public:
    CameraCalibrator(): flag(0), squareLenght(36.0), mustInitUndistort(true){};
    int addChessboardPoints(const std::vector<std::string>& filelist,cv::Size& boardSize){
        std::vector<std::string>::const_iterator itImg;
        std::vector<cv::Point2f> imageCorners;
        std::vector<cv::Point3f> objectCorners;
        //initialize the chessboard corners in the chessboard reference frame
        //3d scene points
        for(int i = 0; i<boardSize.height; i++){
            for(int j=0;j<boardSize.width;j++){
                objectCorners.push_back(cv::Point3f(float(i)*squareLenght,float(j)*squareLenght,0.0f));
            }
        }
        //2D Image points:
        cv::Mat image; //to contain chessboard image
        int successes = 0;

        for(itImg=filelist.begin(); itImg!=filelist.end(); itImg++){
            image = cv::imread(*itImg,CV_LOAD_IMAGE_GRAYSCALE);
            std::cout<<*itImg<<"\n";

            bool found = cv::findChessboardCorners(image, boardSize, imageCorners);

            cv::drawChessboardCorners(image, boardSize, imageCorners, found);                      
            cv::cornerSubPix(image, imageCorners, cv::Size(5,5),cv::Size(-1,-1),
                cv::TermCriteria(cv::TermCriteria::MAX_ITER+cv::TermCriteria::EPS,30,0.1));
            //if we have a good board, add it to our data
            if(imageCorners.size() == boardSize.area()){
                addPoints(imageCorners,objectCorners);
                successes++;
            }
        }

        return successes;
    }
    void addPoints(const std::vector<cv::Point2f>& imageCorners,const std::vector<cv::Point3f>& objectCorners){
        //2D image point from one view
        imagePoints.push_back(imageCorners);
        //corresponding 3D scene points
        objectPoints.push_back(objectCorners);
    }
    double calibrate(cv::Size &imageSize){
        mustInitUndistort = true;
        std::vector<cv::Mat> rvecs,tvecs;
        return
            cv::calibrateCamera(objectPoints, //the 3D points
                imagePoints,
                imageSize, 
                cameraMatrix, //output camera matrix
                distCoeffs,
                rvecs,tvecs,
                flag);

    }
    void remap(const cv::Mat &image, cv::Mat &undistorted){
        std::cout << cameraMatrix;
        if(mustInitUndistort){ //called once per calibration
            cv::initUndistortRectifyMap(
                cameraMatrix,
                distCoeffs,
                cv::Mat(),
                cameraMatrix,
                image.size(),
                CV_32FC1,
                map1,map2);
            mustInitUndistort = false;
        }
        //apply mapping functions
        cv::remap(image,undistorted,map1,map2,cv::INTER_LINEAR);
    }
}; 
```

在相机校准类中，它成功打开图像，但在 findChessboardCorners 行上失败。. .

请帮助我。一个示例棋盘图像如下。该算法在第一张图像上无法找到角点。. . . :-![在此处输入图像描述](../Images/7478187f00e932c958f312e4a7a166d8.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-22T20:19:20.447

首先，在`cv::findChessboardCorners`您`boardSize`的错误中，您将其定义为`cv::Size boardSize(4,3);`应该是什么时候，`cv::Size boardSize(5,4);`因为您的电路板每行有 5 个内角，每列有 4 个角。

此外，您应该添加检查以防找不到角落。在您的代码中，之后

```
bool found = cv::findChessboardCorners(image, boardSize, imageCorners); 
```

您继续并调用类似的函数，如果没有角`cv::drawChessboardCorners`，这些函数将不起作用。`cv::cornerSubPix`这部分应该是：

```
for(itImg=filelist.begin(); itImg!=filelist.end(); itImg++)
{
    image = cv::imread(*itImg,CV_LOAD_IMAGE_GRAYSCALE);
    std::cout<<*itImg<<"\n";

    bool found = cv::findChessboardCorners(image, boardSize, imageCorners);

    if (found)  // continue only if corners have been found
    {
        cv::drawChessboardCorners(image, boardSize, imageCorners, found);                      
        cv::cornerSubPix(image, imageCorners, cv::Size(5,5),cv::Size(-1,-1), cv::TermCriteria(cv::TermCriteria::MAX_ITER+cv::TermCriteria::EPS,30,0.1));

        //if we have a good board, add it to our data
        if(imageCorners.size() == boardSize.area())
        {
            addPoints(imageCorners,objectCorners);
            successes++;
        }
    }
    else    // if no corners found
    {
        std::cout<<"No corners found in image"<<std::endl;

        // Do anything else you want here
    }
} 
```

另外，为什么你的黑色方块周围有红色边框？我还没有研究如何准确`cv::findChessboardCorners`检测角点，但这很可能导致算法失败。没有它你能试试新板吗？当我们在这里时，上角的光反射也可以发挥一些作用，因为黑色的强度值是非常浅的灰色。您是否在 OpenCV 提供的示例图像中尝试了您的算法？

# java - java: 克隆方法违规

> ID：12541788
> 
> 赞同：8
> 
> 时间：2012-09-22T07:34:17.293
> 
> 标签：java, clone, cloneable

后面的代码：

```
class A implements Cloneable
{
    int i, j;

    A(int i, int j)
    {
        this.i = i;
        this.j = j;
    }

    A()
    {
    }
}

class B extends A
{
    int l, m;

    B()
    {
    }

    B(int l, int m)
    {
        this.l = l;
        this.m = m;

    }

    public static void main(String l[])
    {
        A obj = new A(1, 2);
        B obj1 = (B) obj.clone(); // ERROR
    }
} 
```

我知道我违反了克隆的含义，因为我试图将一个对象的字段分配给一个完全不同的对象。但它的错误声明让我感到困惑。

声明：“错误：clone() 在对象中具有受保护的访问权限”

扩展 A 也应该`clone()`对 B 可用？如果是这样，那么 i 和 j 的值也应该复制到 l 和 m 吗？这可能吗 ？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-09-22T07:36:05.153

[clone()](http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#clone%28%29)是受保护的方法，要在子类中访问，请使用`public`访问权限覆盖它。

```
class A implements Cloneable{
    .....
    @Override
    public Object clone() throws CloneNotSupportedException{
      return super.clone();
    }
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-22T08:44:04.663

来自[Cloneable的 Javadoc](http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Cloneable.html)

> 按照惯例，实现此接口的类应使用公共方法覆盖 Object.clone（受保护的）。有关覆盖此方法的详细信息，请参阅 Object.clone()。
> 
> 请注意，此接口不包含 clone 方法。因此，不可能仅凭借实现该接口的事实来克隆对象。即使以反射方式调用 clone 方法，也不能保证它会成功。

`Clone`是 java 的早期设计之一，它有缺陷

关于访问- `When a method is protected, it can only be accessed by the class itself, subclasses of the class, or classes in the same package as the class`.

因此，只有当您位于恰好位于同一个包中时，它才能以您的方式访问`A`和分类`B``java.lang`

你可以在里面提供一些这样的方法`A`。

```
public A copy() throws CloneNotSupportedException {
        return (A) clone();
    } 
```

**正确实施**

```
 @Override
    public Object clone() throws CloneNotSupportedException {
        return super.clone();
    }; 
```

另请记住，父母不是孩子的类型，因此从 A 到 B 的转换将不起作用。Child 是 Parent 的类型，因此从 B 到 A 的转换将起作用。

# jquery - 防止对特定 div 元素的 jquery 操作

> ID：12541789
> 
> 赞同：0
> 
> 时间：2012-09-22T07:34:42.410
> 
> 标签：jquery, show-hide

好的，这就是我正在做的事情：

[我的小提琴](http://jsfiddle.net/nishantjani/DFNhu/)

如您所见，如果您单击“这是一些文本”，表格的切换是完美的，但是当我单击执行时，我不希望表格切换，我只想转到 javascript 函数并执行预期的操作，我不希望在单击“开始”按钮时显示表格。如果我单击按钮以外的任何其他位置，即超出按钮“开始”或`<div>`表格显示切换中的其他任何位置，我该如何防止这种情况发生？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-22T07:50:39.050

也使用 jquery click 作为您的按钮，并在里面使用 e.stopPropagation。

```
$('document').ready(function(){
$('#sample').click(function(){
    $('#dynamic_text').toggle();
});
$('#demo').click(function(e){
    alert("button click");
    e.stopPropagation();
});
});​ 
```

这是 jsfiddle 供您参考：http: [//jsfiddle.net/DFNhu/12/](http://jsfiddle.net/DFNhu/12/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-22T08:08:40.207

试试这个代码：

```
 $('document').ready(function(){
        $('#sample').click(function(e){
           if(e.target == this)
           {
              $('#dynamic_text').toggle();
           }
        });
    }); 
```

演示：http: [//jsfiddle.net/DFNhu/13/](http://jsfiddle.net/DFNhu/13/)

# java - Java中PHP的CURLOPT_POSTFIELDS等价物是什么

> ID：12541790
> 
> 赞同：3
> 
> 时间：2012-09-22T07:34:47.593
> 
> 标签：java, http-post

我正在尝试为 putlokcer 网站编写一个上传器类，他们有 API 支持。

根据他们的文档，他们给出了一个上传示例，如下所示

```
// Variables to Post
$local_file = "/path/to/filename.avi"; 
$file_to_upload = array(
    'file'=>'@'.$local_file, 
    'convert'=>'1', //optional Argument
    'user'=>'YOUR_USERNAME', 
    'password'=>'YOUR_PASSWORD', 
    'folder'=>'FOLDER_NAME'   // Optional Argument
); 

// Do Curl Request
$ch = curl_init(); 
curl_setopt($ch, CURLOPT_URL,'http://upload.putlocker.com/uploadapi.php'); 
curl_setopt($ch, CURLOPT_POST,1); 
curl_setopt($ch, CURLOPT_POSTFIELDS, $file_to_upload); 
curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
$result=curl_exec ($ch); 
curl_close ($ch); 

// Do Stuff with Results
echo $result; 
```

现在我正在尝试使用 java.net 包在 Java 方面进行转换，如下所示，

BufferedInputStream bis = null; BufferedOutputStream bos = null; 尝试 { URL url = new URL("http://upload.putlocker.com/uploadapi.php"); URLConnection uc = url.openConnection(); uc.setDoOutput(true); uc.setDoInput(true); uc.setAllowUserInteraction(false);

```
 bos = new BufferedOutputStream(uc.getOutputStream());
        bis = new BufferedInputStream(new FileInputStream("C:\\Dinesh\\Naruto.jpg"));

        int i;

        bos.write("file".getBytes());

        // read byte by byte until end of stream
        while ((i = bis.read()) != -1) {
            bos.write(i);
        }

        bos.write("user=myusername".getBytes());
        bos.write("password=mypassword".getBytes());
        br = new BufferedReader(new InputStreamReader(uc.getInputStream()));
        String k = "",tmp="";
        while ((tmp = br.readLine()) != null) {
            System.out.println(tmp);
            k += tmp;
        }
    } catch (Exception e) {
        System.out.println(e);
    } 
```

我收到“没有通过有效登录名或文件”的响应，这意味着我的 HTTP POST 请求没有发送有效的帖子文件。

谁能解释我如何使用 java.net 包完成这项工作？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-22T09:11:16.823

在为表单发布构建请求正文时，您必须遵循特定的格式，当您在 PHP 中使用 curl 时，您会隐藏很多复杂性。[我建议您查看此问题](https://stackoverflow.com/questions/1378920/how-can-i-make-a-multipart-form-data-post-request-using-java)的答案中描述的 Apache HTTPComponents 客户端之类的东西，而不是尝试自己动手。

（尽管如果您确实想手动操作，详细信息[在此答案中](https://stackoverflow.com/questions/2793150/how-to-use-java-net-urlconnection-to-fire-and-handle-http-requests/2793153#2793153)）

# windows - BrowseForFolder() 窗口不在前台打开，隐藏 (Perl Win32::GUI)

> ID：12541794
> 
> 赞同：0
> 
> 时间：2012-09-22T07:35:08.047
> 
> 标签：windows, perl, winapi

调用 Perl`Win32::GUI::BrowseForFolder()`时，桌面（自然）上有几个较早的窗口。事实证明，`BrowseForFolder()`窗户隐藏在那些窗户后面。这有时令人困惑和烦人，因为您可能没有意识到程序正在询问您的文件夹名称，并且您可能认为存在错误。（这与（例如） `Win32::GUI::GetOpenFileName()`or不同`GetSaveFileName()`，后者确实在前台弹出！）。

我的问题是：如何让`BrowseForFolder()`前台出现？

一种可能性是找到它的句柄，然后将其提升到前台。

请注意，`-addexstyle => WS_EX_TOPMOST`它没有效果（见下文）。

这是一个完整的（可编译和运行的）代码示例。（5.014 不是必需的）

```
use strict;

use warnings;
use 5.014;      
use Win32::GUI();
use Win32::GUI qw{ WS_EX_TOPMOST};
my ($InputDir, $TopDir, $InputFileName, $dw, $dh, $desktop, $Window);

$TopDir = 'D:\My documents';    # Change this to an existing direcotry of yours
$desktop = Win32::GUI::GetDesktopWindow();
$dw = Win32::GUI::Width($desktop);
$dh = Win32::GUI::Height($desktop);
$Window = Win32::GUI::Window->new( -name => 'main', -text => 'Main window',
    -pos => [20/100*$dw, 20/100*$dh], -size => [50/100*$dw, 60/100*$dh],
    -onTerminate => \&TerminateWindow,
    -addexstyle => WS_EX_TOPMOST,   -dialogui => 1, -tabstop => 1, -cancel => 1, );
$Window -> AddButton ( -name => 'ButtonCommit', -pos => [10,10], 
    -size =>[16/100*$dw,3.5/100*$dh], -text => 'Commit changes', -onClick => \&Commit);
sub Commit {
$InputDir = Win32::GUI::BrowseForFolder( -root => $TopDir, -includefiles => 1,
                -title => 'Select directory for parameter file', 
                -text =>'Selext directory for parameter file',
                -size => [50/100*$dw, 50/100*$dh], -addexstyle => WS_EX_TOPMOST,);
$InputFileName = Win32::GUI::GetOpenFileName( -title  => 'Select the input file',
    -directory => $InputDir, -file   => "\0" . " " x 256,
    -filter => ["Text files (*.txt)" => "*.txt", "All files", "*.*", ],
    -text => 'text Select input file');
} # end sub Commit
$Window ->Show();
Win32::GUI::Dialog();
sub TerminateWindow {
return -1;
} 
```

单击“提交更改”按钮，然后最小化主窗口，然后您才能看到“隐藏”`BrowseForFolder()`窗口。

请注意，该`BrowseForFolder()`窗口隐藏在其他窗口后面，您需要最小化其他窗口才能访问它。所有其他 Perl`Win32::GUI`窗口确实在前台打开。

此外，请注意，它通常在 Perl窗口`-addexstyle => WS_EX_TOPMOST`中没有效果。`Win32::GUI`

注意：更改`D:\My documents`为现有目录。

相关问题：如何找到桌面窗口句柄？如果我们能找到`BrowseForFolder()`' 的句柄，我们可以将它提升到前台。

（注意：PerlMonks 上交叉发布的类似问题：http://perlmonks.org/?node_id= [994815](http://perlmonks.org/?node_id=994815)）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-22T12:26:38.453

如果你删除

```
-addexstyle  => WS_EX_TOPMOST, 
```

从主窗口（也从浏览器），它跳到前台。该标志用于无论如何都应该位于顶部的窗口 - 通常是一些小部件。

# java - n 个数的排列

> ID：12541798
> 
> 赞同：-1
> 
> 时间：2012-09-22T07:35:43.420
> 
> 标签：java, algorithm, permutation, combinatorics

我需要为数字列表生成所有排列。数字列表将从 1 到 n。排列的大小也可以是 1 到 m。因此，如果给定 n=4，m=3，我需要有排列：

```
111
112
113
114
121
122
123
124
131
132
133
134
142
142
143
144
211..... 
```

等等..

还应该使用哪个递归/迭代，为什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-22T08:14:01.920

这是一种算法，它按词汇顺序从前一个排列返回下一个排列：

1.  找到满足 a[k] < a[k + 1] 的最大索引 k。如果不存在这样的索引，则排列是最后一个排列。
2.  找到最大的索引 l 使得 a[k] < a[l]。由于 k + 1 是这样一个索引，所以 l 是很好定义的并且满足 k < l。
3.  将 a[k] 与 a[l] 交换。
4.  反转从 a[k + 1] 到最后一个元素 a[n] 的序列。

尝试实施它。

# memory - 在 OpenGL ES 下获取有关 GPU 内存的可靠信息

> ID：12541804
> 
> 赞同：2
> 
> 时间：2012-09-22T07:36:52.467
> 
> 标签：memory, opengl-es-2.0, gpu

如何在 OpenGL ES 环境中获得有关为 GPU 操作保留的内存的可靠信息？例如，我如何确定可以使用多少内存来存储纹理？OpenGL中有专门用于内存检查的API或一类函数吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-07T16:39:28.837

这个问题很老了，但我只是偶然发现它，所以我会回答。

您可以使用[glGetIntegerv](http://www.opengl.org/sdk/docs/man/xhtml/glGet.xml) 和 GL_MAX_TEXTURE_SIZE 来了解您的 GPU 允许什么。

没有其他内存检查功能，但您应该查询扩展、系统渲染缓冲区功能以及可以为每个功能推送的数据量。

在同一页面中检查以 GL_MAX_ 开头的常量

使用“现代”OpenGL，您还可以检查 glGetString 支持的着色语言版本

# blackberry - HttpConnection 在真实设备中不起作用 - 黑莓

> ID：12541805
> 
> 赞同：1
> 
> 时间：2012-09-22T07:36:57.290
> 
> 标签：blackberry, blackberry-eclipse-plugin, blackberry-jde

这是我的代码

```
public String Serverconnection(String url) {

    String line = "";

    if (DeviceInfo.isSimulator()) {
        url = url + ";deviceSide=true";
    }
    try {
        HttpConnection s = (HttpConnection) Connector.open(url);//*i get the exception here*
        s.setRequestProperty("Content-Type",
                "application/x-www-form-urlencoded");
        s.setRequestProperty(
                "Accept",
                "text/html,application/xml,application/xhtml+xml,text/html;q=0.9,text/plain;q=0.8,image/png,*/*;q=0.5");
        s.setRequestProperty(HttpHeaders.HEADER_ACCEPT_CHARSET, "UTF-8");
        s.setRequestMethod(HttpConnection.GET);
        InputStream input = s.openInputStream();
        byte[] data = new byte[10240];
        int len = 0;
        StringBuffer raw = new StringBuffer();

        while (-1 != (len = input.read(data))) {
            raw.append(new String(data, 0, len));
        }

        line = raw.toString();

        input.close();
        s.close();
    } catch (Exception e) {
        System.out.println("response--- excep" + line + e.getMessage());
    }
    return line;

} 
```

当我在模拟器中运行时，此代码工作正常。但在真实设备中，我得到了异常**“详细信息不可用 - VM 不支持”“未指定 APN”。**

我怎样才能解决这个问题？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-22T07:41:45.217

参考知识中心文章[《建立HTTP或socket连接的不同方式》](http://www.blackberry.com/knowledgecenterpublic/livelink.exe/fetch/2000/348583/800451/800563/What_Is_-_Different_ways_to_make_an_HTTP_or_socket_connection.html?nodeid=826935&vernum=0)

将连接字符串附加到您的 url。然后尝试

```
private static String getConnectionString(){
String connectionString="";
if(WLANInfo.getWLANState()==WLANInfo.WLAN_STATE_CONNECTED){
    connectionString="?;interface=wifi";
}

else if((CoverageInfo.getCoverageStatus() & CoverageInfo.COVERAGE_MDS) == CoverageInfo.COVERAGE_MDS){
     connectionString = "?;&deviceside=false";
}
else if((CoverageInfo.getCoverageStatus() & CoverageInfo.COVERAGE_DIRECT)==CoverageInfo.COVERAGE_DIRECT){
    String carrierUid=getCarrierBIBSUid();
    if(carrierUid == null) {
        connectionString = "?;deviceside=true";
    }
    else{
        connectionString = "?;deviceside=false?;connectionUID="+carrierUid + "?;ConnectionType=mds-public";
    }               
}
else if(CoverageInfo.getCoverageStatus() == CoverageInfo.COVERAGE_NONE) {          
        }
    return connectionString;
} 
```

**编辑 ： -**

```
private static String getCarrierBIBSUid()
{
    ServiceRecord[] records = ServiceBook.getSB().getRecords();
    int currentRecord;

    for(currentRecord = 0; currentRecord < records.length; currentRecord++)         {             if(records[currentRecord].getCid().toLowerCase().equals("ippp"))             {                 if(records[currentRecord].getName().toLowerCase().indexOf("bibs") >= 0)
            {
                return records[currentRecord].getUid();
            }
        }
    }

    return null;
} 
```

# xcode - appDelegate 在哪里？

> ID：12541808
> 
> 赞同：3
> 
> 时间：2012-09-22T07:37:29.180
> 
> 标签：xcode, cocoa, appdelegate

我是 XCode/Obj-C 的新手，所以这可能是一个坏问题：

我在 XCode 中创建了一个新的 Cocoa 应用程序，并且想要更改我的 appDelegate 文件中的某些内容。问题是，我没有 appDelegate 文件。我应该做一个吗？（如何）？还是 XCode 应该默认为我制作一个？（为什么不是？）

# php - 下拉列表的动态变量 onchange，包括允许连接到多个数据库的 PHP

> ID：12541809
> 
> 赞同：1
> 
> 时间：2012-09-22T07:37:39.163
> 
> 标签：php, mysql, ajax, database, connection

我需要连接到数据库，但它似乎拒绝了 AJAX 请求。我要它做的是选择选项时，它将其发送到Connect.php，以便数据库可以连接。

我得到的错误是`"You have not selected a database"`在`$database`建立连接之前没有设置。所以它返回那个错误。因为如果我将数据库设置为测试，那么它会连接但仅连接到我硬编码到 connect.php 文件中的选定数据库。

这是 AJAX 和 javascript 所在的地方：

```
 <link rel="shortcut icon" 
href="http://www.iconj.com/ico/t/w/tw971ajo31.ico" type="image/x-icon" />

  <script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript">
function changeDatabase()
{
    var selname = $("#database option:selected").val();  
    $.ajax({ url: "login.php",
        data: {"selname":selname},
        type: 'post',
        success: function(output) {

            $("#own").html(output);

            $.ajax({
              data: {database: output},
              url: "connect.php"
           });
        }

       });
}
window.onload =  changeDatabase();
</script> 
```

这是填充下拉列表的位置：

```
<form>
    <select name="database" id="database" onchange="changeDatabase();">
          <?php
               $sql="SELECT client_code,company_name FROM `propworx_shared_data`.client_info  WHERE `client_info`.active = 1 ORDER BY company_name ASC" ;
        $result =mysql_query($sql);

        while ($rows=mysql_fetch_assoc($result))
        {
            $client_code = $rows['client_code'];
            $company_name = $rows['company_name'];
            echo  '<option value="'.$client_code.'">'.$company_name.'</option>';
         } 
             echo 'database';
         ?>
         </select>
         </form> 
```

这些都是php网页。这是连接所在的connect.php。

```
<?php 
$connect_error = 'Sorry we are down for maintainence';
$link = mysql_connect("127.0.0.1","root","") or die($connect_error);

        $database = $_GET['database']; //This alwast seems to be undefined.

    mysql_select_db($database, $link);

?> 
```

# c - 指针和数组的奇怪行为

> ID：12541810
> 
> 赞同：0
> 
> 时间：2012-09-22T07:37:54.577
> 
> 标签：c, arrays, pointers

我是 C 的新手。

我正在尝试获取一个 char 数组（一个字符串）并通过分隔符将其分解为 2 个字符串。这是我的代码：

```
#include <stdio.h>
#include <stdlib.h> 
#include <string.h>

int main() {
    char line_array[260];
    char *line = line_array;
    scanf("%s", line_array);
    char *line2 = strdup(line);
    char *command = strtok(line2, " "); // WORKS FINE = open
    printf("%s %c\n", command, *(line+4)); // PRINTS: open (prints only command, *(line+4) is empty)
    return 0;
} 
```

在我得到字符串的第一部分（它说“工作正常=打开”）后，我想要实现的是打印从 command_array[strlen(command)] 到数组末尾的所有字符，但没有我尝试过的工作。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-22T08:11:15.930

看了你新的更新问题和代码，终于知道你的问题`scanf`了，您输入“abcdefg 9”，`scanf("%s"，value)`只会得到`abcdefg`值，并将“9”留在标准输入缓冲区中。因此您需要使用`gets(value)`来获取所有输入，然后`strtok`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-22T07:44:46.333

你可以使用：

```
printf("%s\n", filename+4); 
```

它将字符串文件名从第 5 个字符打印到字符串结尾

%c 只打印一个字符

*(filename+4) 从字符串文件名中获取第 5 个字符代码。

filename+4 给出字符串文件名的第 5 个字符的地址

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-22T07:48:58.483

在 C 的表达式中，所有表达式`chars`都隐式转换为`ints`first。当`char`参数传递给可变参数函数（如`printf()`）时，它们也会隐式转换为`ints`. 但我看不出有什么问题。

但是，我看到的`explodestr()`是缺少返回 a 的 return 语句`char`，这恰好是一个整数。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-22T07:49:33.557

如果您的目标是读取一行并将其拆分为第一个空格字符，您可以尝试：

```
#include <stdio.h>
#include <stdlib.h> 
#include <string.h>

int main() {
  char* line = NULL;
  size_t linesiz = 0;
  if (getline(&line, &linesiz, stdin) > 0) {
    char* space = strchr (line, ' ');
    if (space) {
       *space = (char)0; // to end the chunk before 
       printf ("first chunk is %s\n", line);
       printf ("after space have %s\n", space+1);
    }
  }
  return 0;
} 
```

不要忘记在编译器中启用所有警告并学习如何调试。在 Linux 上，这意味着使用调试器进行编译`gcc -Wall -g` 和使用。`gdb`

顺便说一句，如果您知道所有行都以一个单词（不带空格）开头，然后是一些空格字符（如空格、制表符、回车、换行符......），然后是一些整数，您可以声明

```
int i=0;
char buf[30];
memset (buf, 0, sizeof(buf)); // zero the buf 
```

然后使用

```
if (scanf("%30s %d", buf, &i)>=2) { /* do something with buf & i */ } 
```

你们很多人想阅读的手册页`feature_test_macros(7)`

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-22T08:42:19.930

只是`strtok`循环调用。如果要解析相同的字符串，请将第一个参数设置为 NULL。这将修改字符串，但我们在此示例中制作了一个副本以供使用。

```
#include <stdio.h>
#include <string.h>

int main(void)
{
    char line_array[260];
    char *line, *p;

    fgets(line_array, sizeof(line_array), stdin);
    line = strdup(line_array);

    p = strtok(line, " ");
    while (p) {
        puts(p);
        p = strtok(NULL, " ");
    }

    free(line);
    return 0;
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-09-22T09:04:22.720

你的最后一行......应该是

`printf( "%s\n", ( line + 4 ) );`

，你已经完成了你所期望的。

**原因：**

**1.** %c 一次只能打印一个字符。

**2.** C 语言中字符串总是处理基地址，所以也需要去掉星号。希望你的问题得到解答。

# jquery - 如何使用 jquery/mootools 在 iframe 中添加“scrolling=no”？

> ID：12541816
> 
> 赞同：1
> 
> 时间：2012-09-22T07:38:41.923
> 
> 标签：jquery, iframe, mootools, modal-dialog

我有一个链接

```
<a class="modal" rel="{handler: 'iframe', size: {x: 500, y: 400}}" href="http://localhost/site/index.php">Site</a> 
```

在灯箱中打开它的href。我想从 iframe 中删除卷轴，我发现了这个['"scorlling=no"'](https://stackoverflow.com/a/4856854/902161)。我找不到在 iframe 中添加这个属性的方法。我试过这个

```
jQuery(document).ready(function($) {
    $(".modal").click(function() {
      $("#sbox-content iframe").attr("scrolling","no")
    });
}); 
```

但它不起作用。这是可能的还是最好的方法是什么？
谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-22T07:42:32.153

你可以试试这个：

```
 <a class="modal" rel="{handler: 'iframe', size: {x: 500, y: 400},scrolling:no}" href="http://localhost/site/index.php">Site</a> 
```

不确定，但你可以试一试。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-22T07:42:40.760

尝试`site/index.php`改用`http://localhost/site/index.php`，iframe 在浏览器中受到保护——尤其是当它们显示来自其他域的页面时。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-22T07:53:30.937

`overflow: hidden`为`iframe`作品指定。**演示**：http: [//jsfiddle.net/6RGxh/](http://jsfiddle.net/6RGxh/)

* * *

指定文件`overflow: hidden`中的`<html>`元素`localhost/site/index.php`。

# android - 基于服务器的通知如何在 android 上工作？

> ID：12541818
> 
> 赞同：1
> 
> 时间：2012-09-22T07:38:58.913
> 
> 标签：android

我注意到像whatsapp这样的应用程序在用户当时没有实际使用该应用程序的情况下发出通知。服务器如何在不使用 C2D 的情况下向应用程序发送消息通知？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-22T07:45:11.443

WhatsApp 作为后台服务永久运行，因此始终可以从服务器接收数据：

![WhatsApp](../Images/446a5eedbaede893e81a5d719ce828ec.png)

# vb.net - 需要在 VB.net 中增加一个字节的存储容量？

> ID：12541824
> 
> 赞同：-1
> 
> 时间：2012-09-22T07:40:04.680
> 
> 标签：vb.net, byte

我有字节...

```
Dim endframe As Byte 
```

现在我知道我可以在那个字节中存储一个从 0 到 255 的数据值。但我想将其存储为 0 到 500。我可以这样做吗？如果是，那么我该如何实现呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-22T07:41:44.230

您不能使用(Short) [data type来代替](http://msdn.microsoft.com/en-us/library/47zceaw7%28v=vs.71%29.aspx)*字节*类型。`System.Int16`

使用`StreamWriter or BinaryWriter`类方法将数据写入流。

# sql - 如何编写 SQL 查询以获取必须具有某些特定值组合的行

> ID：12541825
> 
> 赞同：1
> 
> 时间：2012-09-22T07:40:10.317
> 
> 标签：sql, sqlite

我有一张这样的桌子。

```
Image_ID    Person_Ref  FileName    Effect_Ref
1            1           EU000101.jpg            1
2            1           EU000106.jpg            6
3            2           EU000201.jpg            1
4            2           EU000202.jpg            2
5            2           EU000203.jpg            3
6            3           EU000301.jpg            1
7            3           EU000306.jpg            6
8            4           EU000401.jpg            1
9            5           EU000501.jpg            1
10           5           EU000504.jpg            4
11           5           EU000505.jpg            5
12           6           EU000601.jpg            1
13           6           EU000604.jpg            4
14           6           EU000605.jpg            5
15           7           EU000701.jpg            1
16           7           EU000704.jpg            4
17           7           EU000705.jpg            5
18           8           EU000801.jpg            1
19           8           EU000806.jpg            6 
```

**现在我想获取所有必须具有 Effect_Ref 的 Person_Ref，比如说 1、2、3**

我尝试过这样的事情，但我知道这不是我想要的

```
select distinct * from Images where Effect_ref IN (1,2,3) order by Effect_ref 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-22T07:42:14.000

您需要计算与您的条件匹配的记录实例（*等于提供的参数的数量 in ）。`IN`*试试这个，

```
SELECT Person_REF
FROM tableName
WHERE Effect_REF IN (1,2,3)
GROUP BY Person_REF
HAVING COUNT(*) = 3 
```

# [SQLFiddle 演示](http://sqlfiddle.com/#!7/8f661/2)

# jquery - 隐藏一个 使用 jQuery 而不使用 ID 或类

> ID：12541838
> 
> 赞同：3
> 
> 时间：2012-09-22T07:41:52.247
> 
> 标签：jquery, wordpress, html

我想`<div>`在我的网站页面中隐藏以下内容，但这`<div>`会动态改变它的位置，所以我不能使用代码`$("div:eq(0)").hide();`

```
<div style="background: #ebebeb; border-top: 1px solid #ccc; border-right: 1px solid #ccc;
border-left: 1px solid #ccc; padding: 5px; font-size: 12px; position: fixed; right: 3%; 
bottom: 0px; -webkit-border-radius: 3px 3px 0px 0px; border-radius: 3px 3px 0px 0px;">
Powered by <a href="http://bizmate.in">Bizmate</a></div> 
```

关于如何隐藏该元素的任何建议？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-22T07:48:06.713

你可以试试这个

```
$('div[style*=background: #ebebeb; [...]').hide(); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-22T07:49:17.257

`$('div a[href="http://bizmate.in"]').parent().hide();`应该管用。

**演示**：http: [//jsfiddle.net/C4pYy/](http://jsfiddle.net/C4pYy/)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-22T07:50:24.187

首先，您真的不应该将所有这些样式都内联。它使您的 html 变得混乱，并且由于您混合了样式和布局，因此设计不佳。最好把它拿出来，用css选择器，用`<style></style>`标签包裹起来；为此，您还应该向 中添加一个类，`<div>`以使这些选择更易于执行且更易于维护。

话虽这么说，下面的函数 using[`.filter()`](http://api.jquery.com/filter/)将做你想要的......

```
$("div").filter( function() { 
    return $(this).find("a[href^='http://bizmate.in']").length > 0;
}).hide(); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-22T07:43:26.850

为什么不添加一个 id 然后使用`$('div#myId').hide()`？

```
<div id="myId" style="background: #ebebeb; [...]">[...]</div> 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-09-22T07:49:39.943

尝试

```
$("a[href='http://bizmate.in']",  $("#container")).closest('div').hide(); 
```

假设在给定 html 的父元素中，您可以找到一个带有 id="container" 的元素，这将确保在该容器中找到正确的内容，而不是在其他地方，因为这样的链接非常常见。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-09-22T07:51:44.587

我认为您必须为其分配一个 ID，如果不能，为什么不呢？

这是无论如何隐藏它的代码：

**JSfiddle-示例**

使用 id、没有 id 以及链接内容的隐藏代码：

[http://jsfiddle.net/9eLAJ/3/](http://jsfiddle.net/9eLAJ/3/)

# java - 检索数据时出错

> ID：12541842
> 
> 赞同：-1
> 
> 时间：2012-09-22T07:42:28.770
> 
> 标签：java, android, json

我尝试将信息表单数据库（mysql）检索为列表视图，这很好，但是如果我单击列表上的项目以显示信息，它会在 logcat 中显示此问题

```
09-20 21:40:12.125: E/AndroidRuntime(5003): FATAL EXCEPTION: main
09-20 21:40:12.125: E/AndroidRuntime(5003): android.os.NetworkOnMainThreadException
09-20 21:40:12.125: E/AndroidRuntime(5003):     at android.os.StrictMode$AndroidBlockGuardPolicy.onNetwork(StrictMode.java:1084)
09-20 21:40:12.125: E/AndroidRuntime(5003):     at libcore.io.BlockGuardOs.connect(BlockGuardOs.java:74)
09-20 21:40:12.125: E/AndroidRuntime(5003):     at libcore.io.IoBridge.connectErrno(IoBridge.java:127)
09-20 21:40:12.125: E/AndroidRuntime(5003):     at libcore.io.IoBridge.connect(IoBridge.java:112)
09-20 21:40:12.125: E/AndroidRuntime(5003):     at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:192)
09-20 21:40:12.125: E/AndroidRuntime(5003):     at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:459)
09-20 21:40:12.125: E/AndroidRuntime(5003):     at java.net.Socket.connect(Socket.java:842)
09-20 21:40:12.125: E/AndroidRuntime(5003):     at org.apache.http.conn.scheme.PlainSocketFactory.connectSocket(PlainSocketFactory.java:119)
09-20 21:40:12.125: E/AndroidRuntime(5003):     at org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:144)
09-20 21:40:12.125: E/AndroidRuntime(5003):     at org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:164)
09-20 21:40:12.125: E/AndroidRuntime(5003):     at org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:119)
09-20 21:40:12.125: E/AndroidRuntime(5003):     at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:360)
09-20 21:40:12.125: E/AndroidRuntime(5003):     at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:555)
09-20 21:40:12.125: E/AndroidRuntime(5003):     at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:487)
09-20 21:40:12.125: E/AndroidRuntime(5003):     at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:465)
09-20 21:40:12.125: E/AndroidRuntime(5003):     at com.ksu.sms.JSONParser.makeHttpRequest(JSONParser.java:62)
09-20 21:40:12.125: E/AndroidRuntime(5003):     at com.ksu.sms.ViewCourseStudent$GetCourseDetails$1.run(ViewCourseStudent.java:91)
09-20 21:40:12.125: E/AndroidRuntime(5003):     at android.os.Handler.handleCallback(Handler.java:605)
09-20 21:40:12.125: E/AndroidRuntime(5003):     at android.os.Handler.dispatchMessage(Handler.java:92)
09-20 21:40:12.125: E/AndroidRuntime(5003):     at android.os.Looper.loop(Looper.java:137)
09-20 21:40:12.125: E/AndroidRuntime(5003):     at android.app.ActivityThread.main(ActivityThread.java:4340)
09-20 21:40:12.125: E/AndroidRuntime(5003):     at java.lang.reflect.Method.invokeNative(Native Method)
09-20 21:40:12.125: E/AndroidRuntime(5003):     at java.lang.reflect.Method.invoke(Method.java:511)
09-20 21:40:12.125: E/AndroidRuntime(5003):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)
09-20 21:40:12.125: E/AndroidRuntime(5003):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)
09-20 21:40:12.125: E/AndroidRuntime(5003):     at dalvik.system.NativeStart.main(Native Method) 
```

这是我检索整个信息并显示为列表的代码

```
package com.ksu.sms;

import java.util.ArrayList;
import java.util.HashMap;
import java.util.List;

import org.apache.http.NameValuePair;
import org.json.JSONArray;
import org.json.JSONException;
import org.json.JSONObject;

import android.app.ListActivity;
import android.app.ProgressDialog;
import android.content.Intent;
import android.os.AsyncTask;
import android.os.Bundle;
import android.util.Log;
import android.view.View;
import android.widget.AdapterView;
import android.widget.AdapterView.OnItemClickListener;
import android.widget.ListAdapter;
import android.widget.ListView;
import android.widget.SimpleAdapter;
import android.widget.TextView;
import android.widget.Toast;

public class ViewALLCourseStudent extends ListActivity {

    // Progress Dialog
    private ProgressDialog pDialog;

    // Creating JSON Parser object
    JSONParser jParser = new JSONParser(); //class

    ArrayList<HashMap<String, String>> coursesList;

    //url to get all products list
    private static String url_all_course = "http://10.0.2.2/SmsPhp/view_all_course.php";
    // JSON Node names
    private static final String TAG_SUCCESS = "success";
    private static final String TAG_course = "course";
    private static final String TAG_CourseID = "CourseID";
    private static final String TAG_Name = "Name";

    // course JSONArray
    JSONArray courses = null;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.view_all_course_student);

        coursesList = new ArrayList<HashMap<String, String>>();

        // Loading courses in Background Thread
        new LoadAllCourses().execute();

        // Get list view
        ListView lv = getListView();
     // on seleting single course
        // launching Edit course Screen
        lv.setOnItemClickListener(new OnItemClickListener() {

             public void onItemClick(AdapterView<?> parent, View view,
                     int position, long id) //one of the list
             {
                 // getting values from selected ListItem
                 String CourseID = ((TextView) view.findViewById(R.id.CourseID)).getText()
                         .toString();
                 // Starting new intent
                 Intent ViewCourseStudent = new Intent(getApplicationContext(),
                         ViewCourseStudent.class);
                 // sending Course ID to next activity
                 ViewCourseStudent.putExtra(TAG_CourseID, CourseID);

                 // starting new activity and expecting some response back
                 startActivityForResult(ViewCourseStudent, 100);
             }
         });

     }
 // Response from view course Activity

    @Override
   protected void onActivityResult(int requestCode, int resultCode, Intent data)
    {
        super.onActivityResult(requestCode, resultCode, data);
        // if result code 100
        if (resultCode == 100) {
            // if result code 100 is received
            // means user view course
            // reload this screen again
            Intent intent = getIntent();
            finish();
            startActivity(intent);
        }

}
    /**
     * Background Async Task to Load all course by making HTTP Request
     * */
    class LoadAllCourses extends AsyncTask<String, String, String>
    {

        /**
         * Before starting background thread Show Progress Dialog
         * */
        @Override
        protected void onPreExecute() {
            super.onPreExecute();
            pDialog = new ProgressDialog(ViewALLCourseStudent.this);
            pDialog.setMessage("Loading Courses. Please wait...");
            pDialog.setIndeterminate(false);
            pDialog.setCancelable(false);
            pDialog.show();
        }
        /**
         * getting All products from u r l
         * */
        @Override
        protected String doInBackground(String... args) {
            // Building Parameters
            List<NameValuePair> params = new ArrayList<NameValuePair>();
            // getting JSON string from URL
            JSONObject json = jParser.makeHttpRequest(url_all_course, "GET", params);

            // Check your log cat for JSON response
            Log.d("All courses: ", json.toString());

            try {
                // Checking for SUCCESS TAG
                int success = json.getInt(TAG_SUCCESS);

                if (success == 1) {
                    // course found
                    // Getting Array of course
                    courses = json.getJSONArray(TAG_course);

                    // looping through All courses
                    for (int i = 0; i < courses.length(); i++)//course JSONArray
                    {
                        JSONObject c = courses.getJSONObject(i); // read first

                        // Storing each json item in variable
                        String CourseID = c.getString(TAG_CourseID);
                        String Name = c.getString(TAG_Name);

                        // creating new HashMap
                        HashMap<String, String> map = new HashMap<String, String>();

                        // adding each child node to HashMap key => value
                        map.put(TAG_CourseID, CourseID);
                        map.put(TAG_Name, Name);

                        // adding HashList to ArrayList
                        coursesList.add(map);
                    }
                } else {
                    Toast.makeText(getBaseContext(),"there is no course" ,Toast.LENGTH_LONG).show();
                }

            } catch (JSONException e) {
                e.printStackTrace();
            }

            return null;
        }   

        /**
         * After completing background task Dismiss the progress dialog
         * **/
        protected void onPostExecute(String file_url) { 
              // dismiss the dialog after getting all products 
              pDialog.dismiss(); 

              /** 
              * Updating parsed JSON data into ListView 
              **/ 
              ListAdapter adapter = new SimpleAdapter( 
                                ViewALLCourseStudent.this, coursesList, 
                                R.layout.list_item, new String[] { TAG_CourseID, 
                                        TAG_Name}, 
                                new int[] { R.id.CourseID, R.id.Name }); 
               // updating listview 
               setListAdapter(adapter); 
        } 

    }
} 
```

最后，如果数据库为空，它也会在 logcat 中显示此问题

```
09-20 22:07:20.665: E/AndroidRuntime(5260): FATAL EXCEPTION: AsyncTask #1
09-20 22:07:20.665: E/AndroidRuntime(5260): java.lang.RuntimeException: An error occured while executing doInBackground() 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-22T07:59:20.057

这个问题有两个解决方案。

1）不要在主 UI 线程中编写网络调用，为此使用异步任务。

2) 在 setContentView(R.layout.activity_main); 之后将以下代码写入 MainActivity 文件；

```
if (android.os.Build.VERSION.SDK_INT > 9) {
    StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();
    StrictMode.setThreadPolicy(policy);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-22T07:46:51.107

为什么要`runOnUiThread()`在 AsyncTask 的后台线程中使用？使用它的全部目的是使操作在后台线程上运行。

无论哪种方式，您都可以做两件事来解决这个问题。

1.  使用低于蜂窝的 API 构建您的应用程序：

    `<uses-sdk android:minSdkVersion="8" android:targetSdkVersion="9" />`

2.  删除`runOnUiThread()`AsyncTask 的部分，并让代码在后台线程中运行。

# asp.net - html到pdf中表格的虚线边框样式

> ID：12541845
> 
> 赞同：0
> 
> 时间：2012-09-22T07:42:41.383
> 
> 标签：asp.net, html, css, itextsharp

我在过去 24 小时内一直在观察，但还没有成功。基本上我在 ITextSharp 有一个小问题：

我需要为 html 到 pdf 场景中的表格创建虚线边框样式。

这是我的标记：

```
<table style='border-style: dashed; border-width: 2px'>
  <tr>
    <td>content goes here</td>
  </tr>
</table> 
```

# blackberry - 以编程方式让所有进程在黑莓上运行

> ID：12541849
> 
> 赞同：0
> 
> 时间：2012-09-22T07:43:11.907
> 
> 标签：blackberry, process

以编程方式，我如何：

a) 找到我的 Blackberry 上运行的所有进程？

b) 哪些进程在后台运行？

是否有我可以查看的 api 或文档，或者可以获得一个编码示例？

提前感谢您的帮助

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-22T07:53:21.943

[看看这个答案](https://stackoverflow.com/a/7742987/119114)，一定要注意实际答案下方的评论。您需要请求设备上的**所有**模块句柄，然后为每个模块句柄检查它们是否正在运行。

此外，[请参阅此 BlackBerry 论坛回复](http://supportforums.blackberry.com/t5/Java-Development/Get-all-hidden-Application-Processes/m-p/452405/highlight/true#M89870)，并在此处引用内容，因为它是非 SO 站点：

* * *

1.  获取所有模块句柄（可能没有兄弟姐妹）
2.  遍历句柄列表并过滤掉库类型（留给我们 CLDC/Midlet）
3.  获取应用程序描述符（主）和关联的 PID
4.  如果 PID 存在，则暗示进程正在运行（可能是可见或不可见的隐藏后台进程，无 UI）。

* * *

另一个相关的 API 是[ApplicationManager.getVisibleApplications()](http://www.blackberry.com/developers/docs/5.0.0api/net/rim/device/api/system/ApplicationManager.html#getVisibleApplications%28%29)，它允许您列出正在运行的应用程序，这些应用程序是可见的（不是后台*服务*）。

至于哪些在后台，你会从上面得到进程ID，然后你可以根据当前的前台进程ID检查它们（只有一个可以在前台......所有其他都在后台）。[从ApplicationManager.getForegroundProcessId()](http://www.blackberry.com/developers/docs/5.0.0api/net/rim/device/api/system/ApplicationManager.html#getForegroundProcessId%28%29)获取前台进程 ID

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-24T12:22:55.017

```
This code will help you to find out current running applications

ApplicationManager appMan = ApplicationManager.getApplicationManager();
        ApplicationDescriptor appDes[] = appMan.getVisibleApplications();

        for (int i = 0; i < appDes.length; i++) 
        {
                  result = appDes[i].getModuleName();
          System.Out.Println("Currently Running application " +result ) 
        } 
```

# google-apps-script - 在 GA 电子表格上运行脚本而不更改以前的电子表格数据

> ID：12541852
> 
> 赞同：0
> 
> 时间：2012-09-22T07:43:44.843
> 
> 标签：google-apps-script, google-sheets

我在 Google 电子表格上有一些数据和公式。我想在其上运行一个新脚本，该脚本从 Google Analytics 检索数据并将其显示在电子表格的某些特定单元格（在脚本中提到）中。但问题是，当我运行脚本时，电子表格上所有以前的数据和公式都丢失了。有什么方法可以保留以前的数据，同时运行脚本。？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-07T13:34:40.900

[`Sheet.clear()`](https://developers.google.com/apps-script/reference/spreadsheet/sheet#clear%28%29)除非您想清除所有以前的内容，否则不要使用。

# iphone - 这段代码能否很好地调整 iPhone 5 的大小

> ID：12541858
> 
> 赞同：0
> 
> 时间：2012-09-22T07:44:12.573
> 
> 标签：iphone, objective-c, iphone-5

这段代码能否很好地调整 iPhone 5 的大小

```
view.autoresizingMask = UIViewAutoresizingFlexibleWidth | UIViewAutoresizingFlexibleHeight; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-22T14:40:01.850

为了让应用程序使用 iPhone 5 的整个屏幕，您只需在应用程序中包含 4" 屏幕的启动图像。否则无论自动调整蒙版大小，它都不会占据整个屏幕。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-22T09:05:37.293

为了在 Xcode 4.5 中获得 iPhone 5 模拟器：转到：iOS Simulator->Hardware-> Devices，然后选择 iPhone Retina 4-inch

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-24T23:53:29.530

有两件事需要发生。

1.  正如@mifki 所说，您需要包含 iPhone 5 的默认启动图像。这将允许在您的应用程序中使用全高。

2.  仅当您的代码设置为使用视图的边界定位其视图时，设置自动调整大小的掩码才有效。如果您的代码仅通过设置自动调整大小掩码来使用硬编码坐标将不起作用。

# android - Android webview 有时会加载内容

> ID：12541862
> 
> 赞同：1
> 
> 时间：2012-09-22T07:44:37.227
> 
> 标签：android, webview, loading

我的 webview 有问题，因为它有时会加载内容，有时不会。
我注意到 2.2 和 2.3.3 的 Android 版本没有问题，只有 4.0.4 的 Android 版本。

我的代码是：

```
public class MywebviewActivity extends Activity {

public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);

    this.getWindow().requestFeature(Window.FEATURE_PROGRESS);
    setContentView(R.layout.mywebview);
    final Activity MywebviewActivity = this;        
      // Makes Progress bar Visible
      getWindow().setFeatureInt(Window.FEATURE_PROGRESS, Window.PROGRESS_VISIBILITY_ON);
      android.webkit.WebView wv = 
      (android.webkit.WebView)this.findViewById(R.id.myWebView); 
      wv.setWebChromeClient(new WebChromeClient() {     
      public void onProgressChanged(WebView view, int progress)   
      {
       //Make the bar disappear after URL is loaded, and changes string to Loading...
          MywebviewActivity.setTitle("Loading...");
          MywebviewActivity.setProgress(progress * 100); //Make the bar disappear after URL is loaded

      // Return the app name after finish loading
      if(progress == 100)
          MywebviewActivity.setTitle(R.string.web_app_name);
        }
  });

      wv.setScrollBarStyle(View.SCROLLBARS_INSIDE_OVERLAY);
      wv.getSettings().setJavaScriptEnabled(true);
      wv.setHorizontalScrollBarEnabled(false);
      wv.loadUrl("http://mypagename.com/android/server/app/ver10/page1.html");

    }

public void onBackPressed() {
    android.os.Process.killProcess(android.os.Process.myPid());
    return;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-22T07:56:37.390

硬件加速使用 GPU 执行在 View 的画布上执行的所有绘图操作。检查应用程序是否硬件加速：

> View.isHardwareAccelerated()

如果视图附加到硬件加速窗口，则返回 true。如果返回 false ，则添加

> 机器人：硬件加速=“真”

为了`<activity`

清单文件中的元素。

# android - 使用Dropbox上传文件导致android中的空指针异常

> ID：12541865
> 
> 赞同：0
> 
> 时间：2012-09-22T07:44:58.597
> 
> 标签：android

任何人都可以在android中使用dropbox上传文件时找到空指针异常的原因。下面是我的代码。我给出的“uFilePath”值是“/mnt/sdcard/Download/myImg.jpg”，其中myImg。 jpg是我要上传的文件...

```
 @Override
           protected Boolean doInBackground(Void... params) {
           // TODO Auto-generated method stub
            FileInputStream fis=null;
           File file= new File(uFilePath, "myImg.jpg");
           uFileLen=file.length();
            try {
            fis = new FileInputStream(file);
            System.out.println("file="+file.getName()+" "+fis.toString()+" "+file.getPath());
            DropboxAPI.Entry newEntry = uDBApi.putFileOverwrite("myImg.jpg", fis, uFileLen, null);

            } catch (FileNotFoundException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
             } catch (DropboxException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
         }finally {
          if (fis != null) {
            try {
                fis.close();
            } catch (IOException e) {}
        }
    }
    return null;

} 
```

这是logcat消息----

```
09-22 03:27:17.335: E/AndroidRuntime(10331): FATAL EXCEPTION:   AsyncTask #1
09-22 03:27:17.335: E/AndroidRuntime(10331): java.lang.RuntimeException: An error occured while executing doInBackground()
09-22 03:27:17.335: E/AndroidRuntime(10331):    at android.os.AsyncTask$3.done(AsyncTask.java:278)
09-22 03:27:17.335: E/AndroidRuntime(10331):    at java.util.concurrent.FutureTask$Sync.innerSetException(FutureTask.java:273)
09-22 03:27:17.335: E/AndroidRuntime(10331):    at java.util.concurrent.FutureTask.setException(FutureTask.java:124)
09-22 03:27:17.335: E/AndroidRuntime(10331):    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:307)
09-22 03:27:17.335: E/AndroidRuntime(10331):    at java.util.concurrent.FutureTask.run(FutureTask.java:137)
09-22 03:27:17.335: E/AndroidRuntime(10331):    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1076)
09-22 03:27:17.335: E/AndroidRuntime(10331):    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:569)
09-22 03:27:17.335: E/AndroidRuntime(10331):    at java.lang.Thread.run(Thread.java:856)
09-22 03:27:17.335: E/AndroidRuntime(10331): Caused by: java.lang.NullPointerException
09-22 03:27:17.335: E/AndroidRuntime(10331):    at com.example.downloadupload.UploadPicture.doInBackground(UploadPicture.java:63)
09-22 03:27:17.335: E/AndroidRuntime(10331):    at com.example.downloadupload.UploadPicture.doInBackground(UploadPicture.java:1)
09-22 03:27:17.335: E/AndroidRuntime(10331):    at android.os.AsyncTask$2.call(AsyncTask.java:264)
09-22 03:27:17.335: E/AndroidRuntime(10331):    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:305)
09-22 03:27:17.335: E/AndroidRuntime(10331):    ... 4 more
09-22 03:27:25.343: E/WindowManager(10331): Activity com.example.downloadupload.MainActivity has leaked window com.android.internal.policy.impl.PhoneWindow$DecorView@41275178 that was originally added here
09-22 03:27:25.343: E/WindowManager(10331): android.view.WindowLeaked: Activity com.example.downloadupload.MainActivity has leaked window com.android.internal.policy.impl.PhoneWindow$DecorView@41275178 that was originally added here
09-22 03:27:25.343: E/WindowManager(10331):     at android.view.ViewRootImpl.<init>(ViewRootImpl.java:383)
09-22 03:27:25.343: E/WindowManager(10331):     at android.view.WindowManagerImpl.addView(WindowManagerImpl.java:279)
09-22 03:27:25.343: E/WindowManager(10331):     at android.view.WindowManagerImpl.addView(WindowManagerImpl.java:215)
09-22 03:27:25.343: E/WindowManager(10331):     at android.view.WindowManagerImpl$CompatModeWrapper.addView(WindowManagerImpl.java:140)
09-22 03:27:25.343: E/WindowManager(10331):     at android.view.Window$LocalWindowManager.addView(Window.java:537)
09-22 03:27:25.343: E/WindowManager(10331):     at android.app.Dialog.show(Dialog.java:278)
09-22 03:27:25.343: E/WindowManager(10331):     at com.example.downloadupload.UploadPicture.<init>(UploadPicture.java:52)
09-22 03:27:25.343: E/WindowManager(10331):     at com.example.downloadupload.MainActivity.onClick(MainActivity.java:66)
09-22 03:27:25.343: E/WindowManager(10331):     at android.view.View.performClick(View.java:3558)
09-22 03:27:25.343: E/WindowManager(10331):     at android.view.View$PerformClick.run(View.java:14157)
09-22 03:27:25.343: E/WindowManager(10331):     at android.os.Handler.handleCallback(Handler.java:605)
09-22 03:27:25.343: E/WindowManager(10331):     at android.os.Handler.dispatchMessage(Handler.java:92)
09-22 03:27:25.343: E/WindowManager(10331):     at android.os.Looper.loop(Looper.java:137)
09-22 03:27:25.343: E/WindowManager(10331):     at android.app.ActivityThread.main(ActivityThread.java:4514)
09-22 03:27:25.343: E/WindowManager(10331):     at java.lang.reflect.Method.invokeNative(Native Method)
09-22 03:27:25.343: E/WindowManager(10331):     at java.lang.reflect.Method.invoke(Method.java:511)
09-22 03:27:25.343: E/WindowManager(10331):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:790)
09-22 03:27:25.343: E/WindowManager(10331):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:557)
09-22 03:27:25.343: E/WindowManager(10331):     at dalvik.system.NativeStart.main(Native Method) 
```

# sql-server - 在单个查询中更新来自 2 个不同表的数据的查询

> ID：12541872
> 
> 赞同：0
> 
> 时间：2012-09-22T07:45:30.780
> 
> 标签：sql-server

我有一个表`X_Data`，其中一些数据基于`Itemcodes`. 我有另一个`Item_Master`存储项目详细信息的表。在这两个表中都有一个名为 的列`leadtime`。但是在 table 中`X_Data`，它通过一些存储过程计算得到更新。

在某些情况下，我需要用`Item_Master`表中的数据刷新这些数据。我不想为此包含任何循环或存储过程。

是否可以`X_Data`使用单个查询更新表中所有项目的数据？

# actionscript-3 - as3 在没有事件的情况下调用事件函数？

> ID：12541873
> 
> 赞同：2
> 
> 时间：2012-09-22T07:45:35.837
> 
> 标签：actionscript-3, flash, function, events

我首先通过单击按钮调用了以下函数。

```
function chooseRosaryIN(evt:Event)
{
    TweenLite.to(chooseRosary, 3, {y:chooseRosaryY,  ease:Cubic.easeOut});
} 
```

稍后，如果我想调用与常规函数调用相同的函数，我该怎么做？可以做到吗？例如，如果我称之为 chooseRosaryIN();

我收到此错误： **场景 1，图层“功能”，第 1 帧，第 227 行 1136：参数数量不正确。预期 1。**

我宁愿不编写两个函数来调用这个补间。有任何想法吗？谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-22T08:07:47.550

将请求的参数更改为 null ：

```
function chooseRosaryIN(evt:Event = null) {
    TweenLite.to(chooseRosary, 3, {y:chooseRosaryY,  ease:Cubic.easeOut});
} 
```

您也可以使用 '... args' ：

```
function chooseRosaryIN(... args) { 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-22T08:11:57.057

我刚刚找到了答案。此代码也有效。我可以调用它并在函数中添加一个“null”。

```
function chooseRosaryIN(evt:Event) 
    {
    TweenLite.to(chooseRosary, 3, {y:chooseRosaryY,  ease:Cubic.easeOut});
    }
chooseRosaryIN(null); /// WORKS without an event call. :) 
```

在此页面上找到答案：[http ://www.actionscript.org/forums/showthread.php3?t=179842](http://www.actionscript.org/forums/showthread.php3?t=179842)

# xml - 如何进行 XML 解析

> ID：12541878
> 
> 赞同：0
> 
> 时间：2012-09-22T07:46:40.860
> 
> 标签：xml, qtp

这是我的示例 XML 文件：

```
<Cars>
     <Make name="Maruthi">
         <Model>
             <Name>Wagnor</Name>
             <Release>2000</Release>
         </Model>
     </Make>
     <Make name="Maruthi">
         <Model>
              <Name>Swift</Name>
              <Release>2005</Release>
         </Model>
     </Make>
     <Make name="Hundai">
         <Model>
             <Name>i10</Name>
             <Release>2003</Release>
         </Model>
     </Make>
</Cars> 
```

我想检索 Make Name 为 = Maruthi 的所有汽车（所以在这里我期待三辆汽车中有两辆）

```
Set o_XML=XMLUtil.CreateXMLFromFile("E:\Programming Samples\QTP Samples\Cars.xml")
set o_ChildPath=o_XML.ChildElementsByPath("/Cars/Make/[name='Maruthi']") 
```

'这里 XMLUtil 是 QTP 提供的实用程序对象，但我没有看到任何问题。

唯一的问题是评估表达式。我尝试了不同的表达式，但我得到“表达式必须评估为节点集”。

有人可以在这里帮忙吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-22T18:49:30.973

看起来好像您正在尝试将 XPath 表达式传递给`ChildElementsByPath`. 如果它接受 XPath（抱歉，我不使用该工具并且在 Web 上找不到文档），您希望表达式为`/Cars/Make[name='Maruthi']`（删除最后一个斜杠）。如果它不接受 XPath，您可能希望使用`/Cars/Make`并使用您自己的代码来过滤掉不需要的品牌。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-22T07:54:38.823

为什么不使用 JAXB 解析器。它会为您获取汽车对象列表，然后您可以检索“Maruthi”品牌的所有汽车。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-22T07:59:43.653

也许您需要一个 XML 标头？你可以在这里阅读：

[是否需要有效的 XML 文件 xml 标头声明](https://stackoverflow.com/questions/7007427/is-a-valid-xml-file-required-xml-header-declaration-xml-version-1-0-encodin)

# java - 工具的设计架构

> ID：12541879
> 
> 赞同：0
> 
> 时间：2012-09-22T07:46:44.087
> 
> 标签：java, database, swing, architecture

我需要一个工具来捕获数据，然后将其保存在 excel 文件中并生成用于数据库执行的 sql。

为了解决同样的问题，我开始设计和开发一个框架，该框架将读取 xml 文件并呈现摆动屏幕以进行数据捕获并将其保存在 excel 中。现在，我已经到了可以在 excel 中获取数据的阶段。现在，我无法进一步决定方法。我有一种方法可以从 excel 表中获取数据并构建 sql，但对这种方法没有信心。

我正在考虑的方法是开发更多的 xml（数据库中的每个 Schema 一个），其中包含所需的数据库表结构的副本。在 GUI xml 中，我将提供一个名为“databaseMapping”的新标签，其中包含 SCHEMA_NAME;TABLE_NAME;COLUMN_NAME。当用户要求为特定文件生成 sql 时，我会读取与该 excel 相关的屏幕 xml 并找出数据库映射，然后构建 sql。但我看到了这种方法的挑战：-

1）在 excel 中，列将对应于多个表，并且列可能分散在不同的工作表中，因此读取和构建 sql 将是一项资源消耗活动。

2）读取excel本身很慢（使用POI），所以应用程序的性能会随着excel的增长而下降。我相信 POI 不支持处理来自不同工作表的整个列并构建新的工作簿或工作表？如果可以做到这一点，那么它仍然可以管理。读取每一行然后读取每个单元格以在 db 表结构中构建新的临时工作表以生成 sql，这对我来说似乎不太正确。

图形用户界面 XML

```
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<DataDetails>
    <Page pageId="1">
        <Column columnName="Branch ID">
            <dataType>String</dataType>
            <maxLength>3</maxLength>
            <isMandatory>true</isMandatory>
            <isUnique>true</isUnique>
            <defaultValue></defaultValue>
            <forbiddenCharacters></forbiddenCharacters>
            <limitedChoices></limitedChoices>
            <databaseMapping></databaseMapping>
        </Column>

        <Column columnName="Branch Name">
            <dataType>String</dataType>
            <maxLength>10</maxLength>
            <isMandatory>false</isMandatory>
            <isUnique>true</isUnique>
            <defaultValue></defaultValue>
            <forbiddenCharacters></forbiddenCharacters>
            <limitedChoices></limitedChoices>
            <databaseMapping></databaseMapping>
        </Column>

        <Column columnName="Branch Type">
            <dataType>String</dataType>
            <maxLength>15</maxLength>
            <isMandatory>false</isMandatory>
            <isUnique>true</isUnique>
            <defaultValue></defaultValue>
            <forbiddenCharacters></forbiddenCharacters>
            <limitedChoices></limitedChoices>
            <databaseMapping></databaseMapping>
        </Column>

        <Column columnName="Location">
            <dataType>String</dataType>
            <maxLength>3</maxLength>
            <isMandatory>false</isMandatory>
            <isUnique>true</isUnique>
            <defaultValue></defaultValue>
            <forbiddenCharacters></forbiddenCharacters>
            <limitedChoices></limitedChoices>
            <databaseMapping></databaseMapping>
        </Column>

        <Column columnName="Pincode">
            <dataType>String</dataType>
            <maxLength>3</maxLength>
            <isMandatory>false</isMandatory>
            <isUnique>true</isUnique>
            <defaultValue></defaultValue>
            <forbiddenCharacters></forbiddenCharacters>
            <limitedChoices></limitedChoices>
            <databaseMapping></databaseMapping>
        </Column>
    </Page>
    <Page pageId="2">
        <Column columnName="Business Line">
            <dataType>String</dataType>
            <maxLength>3</maxLength>
            <isMandatory>false</isMandatory>
            <isUnique>true</isUnique>
            <defaultValue></defaultValue>
            <forbiddenCharacters></forbiddenCharacters>
            <limitedChoices></limitedChoices>
            <databaseMapping></databaseMapping>
        </Column>

        <Column columnName="Branch Currency">
            <dataType>Date</dataType>
            <maxLength></maxLength>
            <isMandatory>false</isMandatory>
            <isUnique></isUnique>
            <defaultValue></defaultValue>
            <forbiddenCharacters></forbiddenCharacters>
            <limitedChoices></limitedChoices>
            <databaseMapping></databaseMapping>
        </Column>

        <Column columnName="Action">
            <dataType>String</dataType>
            <maxLength>10</maxLength>
            <isMandatory>false</isMandatory>
            <isUnique>true</isUnique>
            <defaultValue></defaultValue>
            <forbiddenCharacters></forbiddenCharacters>
            <limitedChoices>ComboBoxTest_Single.xlsx - ACTION;ACTION </limitedChoices>
            <headerName>CODE_SUB_ID</headerName>
            <databaseMapping></databaseMapping>
        </Column>
    </Page>
</DataDetails> 
```

DB XML（建议）

```
<?xml version="1.0" encoding="UTF-8"?>
<table name="tablename">
    <column name="column1">
        <dataType>varchar</dataType>
        <length>20</length>
        <nullAllowed>Y</nullAllowed>
        <defaultValue></defaultValue>
        <isPrimaryKey>Y</isPrimaryKey>
    </column>

    <column name="column2">
        <dataType>timestamp</dataType>
        <length></length>
        <nullAllowed>Y</nullAllowed>
        <defaultValue></defaultValue>
    </column>

    <column name="column3">
        <dataType>varchar</dataType>
        <length>20</length>
        <nullAllowed>Y</nullAllowed>
        <defaultValue></defaultValue>
    </column>

    <column name="column4">
        <dataType>decimal</dataType>
        <lengthIntegerPart>24</lengthIntegerPart>
        <lengthFractionalPart>6</lengthFractionalPart>
        <nullAllowed>Y</nullAllowed>
        <defaultValue></defaultValue>
    </column>

    <column name="column5">
        <dataType>integer</dataType>
        <length>1</length>
        <nullAllowed>Y</nullAllowed>
        <defaultValue></defaultValue>
    </column>

    <column name="column6">
        <dataType>varchar2</dataType>
        <length>30</length>
        <nullAllowed>N</nullAllowed>
        <defaultValue></defaultValue>
    </column>

    <column name="column7">
        <dataType>date</dataType>
        <length></length>
        <nullAllowed>Y</nullAllowed>
        <defaultValue></defaultValue>
    </column>

    <column name="column8">
        <dataType>decimal</dataType>
        <lengthIntegerPart>24</lengthIntegerPart>
        <lengthFractionalPart>6</lengthFractionalPart>
        <nullAllowed>N</nullAllowed>
        <defaultValue></defaultValue>
    </column>
</table> 
```

谢谢 ！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-22T15:34:03.373

我会使用[嵌入式数据库](https://stackoverflow.com/q/57102/230513)，例如[H2](https://stackoverflow.com/tags/h2/info)，并在旅行用户回家时同步他们的更改。

如果您追求您建议的方法，您可能能够利用这种[*数据库模式定义语言*](http://dbsdl.sourceforge.net/)(DBSDL)，它使用“XSLT 以 SQL 语句的形式生成 DDL”。

# coffeescript - 如何从 didInsertElement 中访问 element 和 elementId

> ID：12541886
> 
> 赞同：0
> 
> 时间：2012-09-22T07:47:55.763
> 
> 标签：coffeescript, ember.js

使用[Ember.CollectionView](http://emberjs.com/api/classes/Ember.CollectionView.html)我想访问和操作每个子视图插入的 DOM 元素。我遇到的问题是我不知道如何从内部获取对元素的引用`didInsertElement`。这是[jsFiddle](http://jsfiddle.net/arasbm/nevW2/69/) ——coffeescript 的摘要如下：

```
window.App = Ember.Application.create()
window.App.initialize()

App.Item = Em.View.extend
  didInsertElement: () ->
    console.log ">>> element is: ", this.element

App.items = Em.ArrayController.create()

App.items.set('content',[
    Em.Object.create({title:"AN", id:"item-one"}),
    Em.Object.create({title:"Epic", id:"item-two"}),
    Em.Object.create({title:"View", id:"item-three"})
])

App.EpicView = Ember.CollectionView.extend
  classNames: ['epic-view']
  contentBinding: 'App.items'
  itemViewClass: 'App.Item' 
```

`this.element`未定义。我也试过打电话`element`，这也是未定义的。[根据文档](http://emberjs.com/api/classes/Ember.CollectionView.html#property_element)，视图中有一个元素属性可用，但我不知道如何访问它，我不确定它是否可以从内部获得`didInsertElement`。

如何获取刚刚插入视图的 DOM 元素的 id？理想情况下，我不想在 DOM 中搜索它，因为视图应该已经知道它在 DOM 中插入了什么。

ps：我使用的是**Ember 1.0pre**

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-23T07:26:48.090

使用 get('element') 或 get('elementId') 访问 Ember 中的属性

# sql - SQL 排序查询

> ID：12541888
> 
> 赞同：-1
> 
> 时间：2012-09-22T07:47:58.803
> 
> 标签：sql

大家好，请看我下面的表格

```
Name
----------
Banaskantha - 66-DV
Banaskantha - 66-MM
Banaskantha-Dv
Banaskantha-MM
Bharuch - 77-RP
Bharuch-RP
hg-SR 
```

但我希望这张表按以下顺序

```
Name
-------------
Banaskantha-Dv
Banaskantha-MM
Banaskantha - 66-DV
Banaskantha - 66-MM
Bharuch-RP
Bharuch - 77-RP
hg-SR 
```

我怎样才能做到这一点 ？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-22T08:16:22.930

试试下面的 sql 语句：

```
 SELECT name, 
       case isnumeric(SUBSTRING(name, LEN(name)-4,2))
     when 1 then
             left(name, len(name)-8) + 'z' + RIGHT(name, 2) + '-' + SUBSTRING(name, LEN(name)-4,2)
         else name 
   end as sortby
FROM [your table name]
order by sortby 
```

该查询添加了一个用于排序目的的字段。该字段的值取决于名称字段中是否包含数值。如果是，则将其转换为前缀（即'Banaskantha'）+'z'（因此它将低于任何没有后缀的前缀实例）、后缀（即'DV'）+数值。如果它没有数值，则保留原始值。

我做了几个假设：

1.  数值总是从末尾 5 个字符开始
2.  当字段值中有数值时，前缀（即 Banaskantha）和“-”之间以及“-”和数值之间总是有空格
3.  当字段值中没有数值时，前缀和后缀之间没有空格。

如果其中一个假设不正确，请相应地重写 SQL 语句。

让我说问题开始是因为字段值没有一致性。在这种情况下，我建议在表中创建一个字段以进行排序，并根据插入和更新触发器填充它。

# android - Android 浏览器/GUI（古吉拉特语）上的印度语言渲染不正确

> ID：12541892
> 
> 赞同：4
> 
> 时间：2012-09-22T07:49:14.453
> 
> 标签：android, browser, fonts, render

我有一个专门用于在 Android 设备上查看的网站，我使用的是古吉拉特语，但我在正确渲染古吉拉特语字体时遇到了很大问题，我至少想要一个解决方法来让古吉拉特语字体正常工作，默认情况下，任何 Android 版本都不支持. 我就这样做了，

解决方法： - 植根手机 - 为古吉拉特语找到正确的 unicode 字体 - 用古吉拉特语字体替换 System/fonts 中现有的 DroidSansFallback.ttf（对 ICS 的 system/etc 文件夹中的 fontsfallback.xml 进行一些额外的更改）

这帮助我至少查看古吉拉特语文本，但渲染不正确。

问题：

1) 半格式问题，半格式字母没有正确渲染，因为它们应该组合但它们没有，

[如果您在unicode.org](http://unicode.org/faq/indic.html#17)上参考此常见问题解答，它清楚地定义了它应该如何呈现，我还通过使用 [unicodeLookup][7] 对每个字母使用 html 代码来使用提到的“零宽度连接器”，但它没有效果。

无论如何，这个问题不是主要的，因为它不正确但仍然不正确。

2）这个渲染问题导致文本打印不正确，请参见下面的两个图像，第一个正确渲染为在 PC 上可见，第二个是来自 Android 原生浏览器的屏幕截图

[图片](http://s15.postimage.org/kvw13p62z/image.jpg)

标记为 1 的问题是第一个问题，标记为 2 的问题是第二个问题，如果你用谷歌搜索“天城文 - Unicode Consortium ch09”，你会得到一个关于这个问题的 pdf 文件（只需转到“图 9-8。天城文中的渲染顺序") 清楚地解释了正确呈现脚本的方法。似乎这些语言不支持 android 用来呈现脚本的任何内容，如果可以对 Android OS 进行任何更改以按正确顺序呈现字体，请提供帮助。

这绝对不是字体的问题，因为我尝试使用 Windows 操作系统使用的 Shruti 字体，渲染这些复杂的脚本是个问题

可能的解决方案：（不需要）

1）使用带有位图字体的opera mini（不是我的解决方案）

2) 使用图片而不是文本（同样不是我的解决方案，因为我的网站将有 300 行列表，而且对于移动设备也是如此，不想增加页面大小）

请给我一个适当的解决这个问题，提前谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-28T03:15:10.343

渲染古吉拉特语（和其他“复杂”脚本，即使用半格式、上下文格式、重新排列等的脚本）需要的不仅仅是字体；它还需要文本布局。文本布局功能通常由主机操作系统或在某些情况下由应用程序提供。Android 一直在改进对文本布局的支持，但即使是最新版本的所有脚本仍然不完整。换句话说：即使是最新版本的 Android，您也无法仅使用字体轻松解决此问题。

可能的解决方法：

*   开发某种插件或扩展程序，以纠正古吉拉特语布局并要求用户下载/安装插件以使用您的网站。这可能是一条非常高阻抗的路径，需要大量的字体专业知识、软件开发和目标书写系统的知识。更不用说给您的用户带来的不便了。

*   开发古吉拉特语字体的自定义版本，并在您的站点中使用不需要文本布局的相应自定义文本；通过@font-face (webfont) 提供字体。如果您没有字体开发经验，这也可能是相当具有挑战性的，但这可能是最好的途径。

*   将文本渲染为图像；对于已知客户端不支持复杂脚本的情况，进行浏览器嗅探并提供图像。这很可能在很多时候都失败（很难跟踪浏览器功能，更不用说从一开始就可靠地检测浏览器的问题）。但保证给出正确的结果。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-11-12T05:46:19.297

如果您想在所有设备上查看您的网站，只需将 webfonts 放入您的网站。网络字体是您放置在服务器上的嵌入字体，并且通过适当的 css 链接，每个人都可以查看它，而无需在设备上安装字体。

对于其他没有网络字体的网站，请使用 firefox for android，然后获取插件[https://addons.mozilla.org/en-us/android/addon/gujarati-fonts-package](https://addons.mozilla.org/en-us/android/addon/gujarati-fonts-package)。现在您可以查看所有古吉拉特语字体的网页，无需任何复杂的程序或 root android。

# c++ - C++ 事件信号和后台线程

> ID：12541894
> 
> 赞同：0
> 
> 时间：2012-09-22T07:49:24.790
> 
> 标签：c++, multithreading, events, visual-c++

这是我在 C++ 代码实现中遇到的问题。

在主线程中，创建了一个显示带有取消按钮的静态文本的对话框，该按钮还旋转了一个子线程。

在后台线程（或子线程）中检查数据库以查看某个状态字段是否已更新。如果更新，则返回 true，否则继续定期轮询数据库。

预期行为 - 显示带有取消按钮的对话框，继续显示它，直到子线程发出事件信号或用户点击取消按钮。

我在主线程中创建了一个未发出信号状态的事件，该事件状态将由子线程修改（当状态字段更新时）。

问题是如果我阻塞主线程直到它从后台线程得到响应，用户无法点击对话框中的取消按钮，它总是伴随着沙漏符号。

不知道下面的代码有什么问题。

```
HANDLE mainThread = NULL;
HANDLE ghWriteEvent; 

MainMethod()
{
mainThread = GetCurrentThread() ;
dlgCancelDialog dog // dialog with cancel button .

    ghWriteEvent = CreateEvent( NULL, TRUE,  FALSE,  TEXT("WriteEvent") ); 
HANDLE hThread = CreateThread(0,0, childThread, &threadData,0,NULL);
dlg.showDialog(); // Show dialog with cancel button .

    DWORD  dwWaitResult = WaitForSingleObject( ghWriteEvent, INFINITE); 
 //AT THIS POINT i WANT TO SAY WAIT FOR SIGNAL EVENT OR WAIT UNTIL CANCEL OPERATION IS HIT , BUT THE DIALOG IS SHOWN WITH HOURGLASS SYMBOL.
  switch (dwWaitResult) 
   {
    // Event object was signaled
    case WAIT_OBJECT_0: 
   break;
  }
dlg.hideDialog(); 
```

} //子线程代码。

```
childThread(LPVOID lpParam)
{
while(!databaseIsUpdated) // Check database.
{   
    Sleep(1000);

}
if (! SetEvent(ghWriteEvent) ) 
    {

        return 0;
    }
return 0;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-22T07:55:45.410

你不应该等待 INFINITE 因为你阻塞了你的对话线程。

所以我的建议是，使用 SetTimer(hDlg, 500, 1, NULL) 创建计时器并在 DlgProc 中处理 WM_TIMER，如下所示：

```
case WM_TIMER:
{
 DWORD  dwWaitResult = WaitForSingleObject( ghWriteEvent, 0);  //We will not wait

 if(dwWaitResult  == WAIT_OBJECT_0)  //We are signaled, exit now
    dlg.hideDialog();
}
break; 
```

这将检查每 500 毫秒的事件状态。如果发出信号，则对话结束，如果没有，则继续。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-22T12:29:41.113

您也可以使用 MsgWaitForMultipleObjectsEx() ：http: [//msdn.microsoft.com/en-us/library/windows/desktop/ms684245%28v=vs.85%29.aspx](http://msdn.microsoft.com/en-us/library/windows/desktop/ms684245%28v=vs.85%29.aspx)

# javascript - Magento 管理面板 - 下拉菜单不起作用/显示

> ID：12541900
> 
> 赞同：1
> 
> 时间：2012-09-22T07:49:57.687
> 
> 标签：javascript, magento, admin

在 Magento 中登录我的管理面板后，管理面板中的下拉菜单未显示。JavaScript 错误控制台显示了一些错误。经过一番谷歌搜索后，我尝试了：

*   将 js 文件夹的权限更改为`755`
*   js 文件夹中的所有 .js 文件和 index.php 到`644`

最后我还尝试用 Magento 包的原始 js 文件夹替换 is 文件夹。但是似乎没有任何效果。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-22T22:25:59.857

下拉菜单不显示的原因是 Magento 使用 JavaScript 将类分配给悬停的菜单元素，并使用 CSS 中的这些类来显示下拉菜单。javascript 中的错误会阻止加载出现在错误行之后的所有其他 javascript。

不要用默认文件夹替换 js 文件夹 - 每个新的 js 都是有原因的（听起来您的网站是自定义的，因此删除负责自定义功能的 js 文件对您没有帮助）。相反，您必须努力修复每个 javascript 错误。

请提供有关这些错误的更多数据或指向您网站的链接。

# java - 如何关闭 OpenGL 活动

> ID：12541901
> 
> 赞同：1
> 
> 时间：2012-09-22T07:49:57.430
> 
> 标签：java, android, android-activity

我的活动显示 CUBE 3D（简单的 OpenGL 示例）有问题。当我在手机或模拟器上按返回键时，它应该返回主菜单，但没有返回任何内容。有什么线索吗？

这是代码：

```
public class Graphic3D extends Activity {
   private GLSurfaceView glView;  // Use subclass of GLSurfaceView (NEW)

   @Override
   protected void onCreate(Bundle savedInstanceState) {
      super.onCreate(savedInstanceState);
      // Allocate a custom subclass of GLSurfaceView (NEW)
      glView = new MyGLSurfaceView(this);
      setContentView(glView);  // Set View (NEW)
   }

@Override
public void onBackPressed() {
    super.onBackPressed();
    // ????????
}

@Override
   protected void onPause() {
      super.onPause();
      glView.onPause();

   }

   @Override
   protected void onResume() {
      super.onResume();
      glView.onResume();
   }
} 
```

MySurfaceView 类：

```
public class MyGLSurfaceView extends GLSurfaceView {
   Graphics3DRenderer renderer;    // Custom GL Renderer

   // For touch event
   private final float TOUCH_SCALE_FACTOR = 180.0f / 320.0f;
   private float previousX;
   private float previousY;

   // Constructor - Allocate and set the renderer
   public MyGLSurfaceView(Context context) {
      super(context);
      renderer = new Graphics3DRenderer(context);
      this.setRenderer(renderer);
      // Request focus, otherwise key/button won't react
      this.requestFocus();  
      this.setFocusableInTouchMode(true);
   }

   // Handler for key event
   @Override
   public boolean onKeyDown(int keyCode, KeyEvent evt) {
      switch(keyCode) {
         case KeyEvent.KEYCODE_DPAD_LEFT:   // Decrease Y-rotational speed
            renderer.speedY -= 0.3f;
            break;
         case KeyEvent.KEYCODE_DPAD_RIGHT:  // Increase Y-rotational speed
            renderer.speedY += 0.3f;
            break;
         case KeyEvent.KEYCODE_DPAD_UP:     // Decrease X-rotational speed
            renderer.speedX -= 0.3f;
            break;
         case KeyEvent.KEYCODE_DPAD_DOWN:   // Increase X-rotational speed 
            renderer.speedX += 0.3f;
            break;
         case KeyEvent.KEYCODE_VOLUME_DOWN:// Zoom out (decrease z)
            renderer.z -= 0.4f;
            break;
         case KeyEvent.KEYCODE_VOLUME_UP: // Zoom in (increase z)
            renderer.z += 0.4f;
            break;
         case KeyEvent.KEYCODE_DPAD_CENTER:
             renderer.speedY = 0;
             renderer.speedX = 0;
             renderer.z      = -6.0f;
             break;
      }
      return true;  // Event handled
   }

   // Handler for touch event
   @Override
   public boolean onTouchEvent(final MotionEvent evt) {
      float currentX = evt.getX();
      float currentY = evt.getY();
      float deltaX, deltaY;
      switch (evt.getAction()) {
         case MotionEvent.ACTION_MOVE:
            // Modify rotational angles according to movement
            deltaX = currentX - previousX;
            deltaY = currentY - previousY;
            renderer.angleX += deltaY * TOUCH_SCALE_FACTOR;
            renderer.angleY += deltaX * TOUCH_SCALE_FACTOR;
      }
      // Save current x, y
      previousX = currentX;
      previousY = currentY;
      return true;  // Event handled
   }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-22T07:53:12.853

在一个 Activity 中，调用`finish()`会关闭当前的 Activity。如果您还没有关闭主菜单 Activity，它应该会自行“打开”。

如果您需要重新启动一个 Activity，例如如果您的菜单 Activity 关闭，您可以执行以下操作。

```
Intent i = new Intent(getApplicationContext(), Menu.class);
startActivity(i);
finish(); 
```

# shopify - Shopify “应用程序/已卸载” webhook 缺少“HTTP_X_SHOPIFY_HMAC_SHA256”

> ID：12541903
> 
> 赞同：1
> 
> 时间：2012-09-22T07:50:16.247
> 
> 标签：shopify, webhooks

我不知道发生了什么，但 Shopify Webhook“应用程序/卸载”没有返回“HTTP_X_SHOPIFY_HMAC_SHA256”值。它不在请求中的任何位置。如果没有 HMAC，则无法验证呼叫是否针对 Shopify。

我看到我的其他 Webhook 调用正在获取 HTTP_X_SHOPIFY_HMAC_SHA256 值，但它在“应用程序/已卸载”webhook 中完全缺失。

关于我做错了什么的任何想法？Shopify 现在只是有问题吗？

谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-24T17:59:35.653

再次感谢您的提醒！这个问题是在周五晚上介绍的。

从那时起，我们已经确认删除了 50 个 api 权限，这些权限没有发送“app/uninstall”webhook 订阅的 HMAC 标头。我们今天解决了这个问题，并为所有受影响的应用重新发送了“应用/卸载”webhook 通知。

如果您仍然看到任何意外的违规行为，请告诉我们！

最佳，丹尼斯技术支持工程师 Shopify

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-24T15:01:01.777

确认这是一个合法的回归。我们正在调查/修复。

# file - 剪切名称中包含空格的文件

> ID：12541904
> 
> 赞同：-1
> 
> 时间：2012-09-22T07:50:22.283
> 
> 标签：file, shell, cut

有一个文件`/home/tiger/Desktop/shell practice`。我想从中删除 9 个空格：

```
cut -c 10- '/home/tiger/Desktop/shell practice'
cut: /home/tiger/Desktop/shell practice: No such file or directory 
```

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-23T02:32:04.240

```
cut -c 10- '/home/tiger/Desktop/shell\ practice' 
```

有朋友告诉我怎么解决。

# android - 从另一个活动获取数据时获取 Null 值

> ID：12541906
> 
> 赞同：0
> 
> 时间：2012-09-22T07:50:27.243
> 
> 标签：android, android-intent

嗨，我在将图像路径发送到另一个活动时遇到空指针异常

这是我的代码下面

```
public void onActivityResult(int requestCode, int resultCode, Intent data) {
    if (resultCode == RESULT_OK) {
        System.out.println(requestCode + ",      " + resultCode);
        if (requestCode == SELECT_PICTURE) {

            if (data.getData() != null) {
                    Uri selectedImageUri = data.getData();
                    String path = getPath(selectedImageUri);
                    System.out.println("PATH  =  "+path);
                    Intent _intent = new Intent(MainActivity.this,AndroidFaceDetector.class);
                    _intent.putExtra("mypath", path);
                    startActivityForResult(_intent, CROPPED_FACE_IMAGE);
            }
            else
            {
                Toast.makeText(MainActivity.this, "Please try again", Toast.LENGTH_SHORT).show();
            }
        }
        else {
            setImage(data);
        }

    }
} 
```

现在在 AndroidFaceDetector 类

```
 @Override
  public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(new myView(this));
    Intent _intent = getIntent();
    path = _intent.getStringExtra("mypath");
    System.out.println("Path is gettting "+path); //here i am getting null value
} 
```

因为

在这里，我得到的路径值为 null.. 任何机构都可以解决这个问题....

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-22T08:01:34.503

在您的第二个活动中尝试使用此代码而不是您的代码，

```
path = _intent.getString("mypath"); 
```

（或者）

```
Bundle bundle = this.getIntent().getExtras();
String pic = bundle.getString("mypath"); 
```

如果您希望传递图像而不是 URI 意味着尝试此代码

在您的第一个活动中，

```
 Bitmap bitmap = BitmapFactory.decodeResource(getResources(), R.drawable.icon);

        Intent intent = new Intent();
        intent.setClass(AndroidPassingBitmap.this, AndroidReceiveBitmap.class);
        intent.putExtra("Bitmap", bitmap);
        startActivity(intent); 
```

在你的第二个活动中，

```
Bitmap bitmap = (Bitmap)this.getIntent().getParcelableExtra("Bitmap");
  ImageView viewBitmap = (ImageView)findViewById(R.id.bitmapview);

  viewBitmap.setImageBitmap(bitmap); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-22T08:04:18.953

在下面编写代码以从意图中获取数据，它将解决您的问题。

```
Bundle bdl=getIntent().getExtras();
String path=bdl.getString("mypath"); 
```

有关更多信息，请参见下面的链接。

[在android中的活动之间传递位图](https://stackoverflow.com/questions/11720589/can-not-pass-bitmap-between-activities-in-android/11720640#11720640)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-22T08:43:05.693

在第二个活动中尝试这样

```
 Intent myintent = getIntent();
        if(null != myintent.getExtras())
        {
              // do your work here 
        String path = myintent.getExtras().getString("mypath");          
        }
        else
        {
              // not here you can't get values
               Toast.makeText(getApplicationContext(),"No Recor Here..",12).show();    
        } 
```

# ruby - 红宝石中的浮点精度

> ID：12541907
> 
> 赞同：1
> 
> 时间：2012-09-22T07:50:33.367
> 
> 标签：ruby

我正在编写一个使用浮点数的 ruby​​ 程序。我在精度上有问题。例如

```
1.9.3p194 :013 > 113.0 * 0.01
# => 1.1300000000000001 
```

因此

```
1.9.3p194 :018 > 113 * 0.01 == 1.13
# => false 
```

这正是我的应用程序需要正确进行的那种计算。

这是预期的吗？我应该如何处理这个？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-22T08:09:28.103

这是浮点数的固有限制（即使 0.01 也没有精确的二进制浮点表示）。您可以使用 Aleksey 提供的技术，或者，如果您想要完美的精度，请使用 ruby​​ 中捆绑的 BigDecimal 类。它更冗长，更慢，但它会给出正确的结果：

```
require 'bigdecimal'
=> true
1.9.3p194 :003 > BigDecimal.new("113") * BigDecimal("0.01")
=> #<BigDecimal:26cefd8,'0.113E1',18(36)> 
1.9.3p194 :004 > BigDecimal.new("113") * BigDecimal("0.01") == BigDecimal("1.13")
=> true 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-22T07:53:43.090

在使用 float 进行计算时，您应该使用 sigma 方法 - 这意味着不比较两个值，而是将它们的绝对差与非常小的值进行比较 - 例如 1e-10。

```
((113 * 0.01) - 1.13).abs<1e-10 
```

# java - 最佳做法是什么？

> ID：12541910
> 
> 赞同：2
> 
> 时间：2012-09-22T07:51:03.493
> 
> 标签：java, oop, javabeans

什么是 bean 变量的最佳 Java 编码标准：

**1\. 我应该使用原始数据类型吗？
2.我应该使用包装类型吗？**

还是两者都一样？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-09-22T07:54:29.950

这取决于。两者的存在都是有充分理由的。

应尽可能首选基元。它们成本更低，并且不可为空，从而避免了很多潜在的错误。

包装器可用于表示可空值（例如，在 JPA 中，表示数据库中的可空列值，或在 JAXB 中，表示 XML 元素的可选元素或属性）。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-09-22T07:55:06.163

那要看。
例如，您的 bean 可能会填充来自数据库的信息。
根据定义，列可能包含可为空的数据。
在这种情况下，您将考虑使用非基本类型——即整数。
但是，您可能希望使用原始类型 + 操作，因此会发生自动装箱/拆箱（即 - 自动从整数转换为整数，具体取决于您的代码），这可能会稍微损害性能。

总而言之，
尽量使用原始的，在可能需要保持 Null 值的情况下使用非原始的。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-09-22T07:58:22.667

尽可能使用原语，但在需要存储空值时不要使用它们

例子：

```
Boolean isObject;
boolean isPrimitive;

int xPrimitive;
Integer xObject; 
```

如果您存储这些值，您会发现它们不相等。

```
// isObject == null
// isPrimitive == false

// xPrimitive == 0
// xObject == null 
```

因此，最佳实践是对您的应用程序有意义的任何事情。进行优化时，您希望在对象上使用原语以减少内存开销 - 但前提是它不与您的业务和逻辑要求冲突。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-09-22T07:58:49.250

通常最好使用原语而不是包装器。包装器非常适合诸如

```
Integer.toString(myInt); 
```

这个方法来自一个包装类，但`myInt`它是一个原语。在一般使用中，原语将完成您需要的所有工作

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-09-22T07:52:17.410

我使用原始类型。

例如：

```
private int i;
private boolean b;

public int getI()
{
}

public void setI(int i)
{
    this.i = i;
}

public boolean getB()
{
}

public void setB(boolean b)
{
    this.b = b;
} 
```

并使用 setter 和 getter。谢谢

# c# - 添加两个int数组

> ID：12541914
> 
> 赞同：1
> 
> 时间：2012-09-22T07:52:05.293
> 
> 标签：c#, arrays

我必须添加两个 int[] 数组，其中一个 mian int[] 数组最初是空的。我想在主数组中添加另一个数组的元素。在主数组中，将在主数组的最后一个位置添加更多的附加项。

我有一个数组 -

```
var planetNotInRange = new int[7] ;

if(planetSign.Contains(tempFrind))
{
    var result = planetSign.Select((b, k) => b.Equals(tempFrind) ? k : -1)
                           .Where(k => k != -1).ToArray();

    // Here I want to add this result Array in to the planetNotInRange array, 
    // when ever there is some value in the result array.
} 
```

这是在循环中将给出一些整数数组。现在我想一个接一个地在 PLanetInRange Array 中连接。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-22T08:01:37.093

如果您想向其中添加元素，听起来您不应该从数组开始。一旦创建了一个数组，它的大小就固定了。

使用 a`List<int>`代替，您可以使用

```
list.AddRange(array); 
```

无论如何，我通常建议在数组上使用列表（和其他集合类型）。显然，数组很有用，但*它们*比其他集合更原始和低级。

# c - select()、poll() 还是 epoll() ？对于 sysfs 属性

> ID：12541922
> 
> 赞同：8
> 
> 时间：2012-09-22T07:53:07.803
> 
> 标签：c, linux, embedded-linux, epoll, beagleboard

我正在处理 gpio 中断。我在“/sys/class/gpio/gpio38/value”中有一个文件。**每当属性值**发生变化时，我都想要一个通知。那么我怎样才能在用户空间中实现这一点。由于我已经收集了信息，我可以使用 select()、poll() 或 epoll()。那么哪个对这个应用程序是正确的？或者请建议我是否可以使用 /proc/irq 或其他东西。谢谢 ：）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-22T08:05:40.087

我在[这里](http://www.kernel.org/doc/Documentation/gpio.txt)找到了一些可能有帮助的东西：

> GPIO 信号的路径类似于 /sys/class/gpio/gpio42/（用于 GPIO #42），并具有以下读/写属性：
> 
> "value" ... 读取为 0（低）或 1（高）。如果 GPIO 配置为输出，则可以写入该值；任何非零值都被视为高。
> 
> 如果引脚可以配置为产生中断的中断并且它已被配置为产生中断（参见“边缘”的描述），您可以对该文件进行 poll(2)，并且 poll(2) 将在中断发生时返回触发。如果使用 poll(2)，请设置事件 POLLPRI 和 POLLERR。如果使用 select(2)，请在 exceptfds 中设置文件描述符。在 poll(2) 返回后，lseek(2) 到 sysfs 文件的开头并读取新值或关闭文件并重新打开以读取值。

虽然它说它适用于“gpio42”，但我猜这可能适用于您的情况。如果没有，请在我的回答中发表评论。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-23T19:07:52.830

你可以使用它们中的任何一个。这里的重点是您打开 sysfs 文件以获取 GPIO 线的值（例如`/sys/class/gpio/gpio42/value`，然后阻止它。

线路状态的变化被表示为异常条件而不是写入（可能是直观的）。

在选择的情况下：

```
fd_set exceptfds;
int    res;    

FD_ZERO(&exceptfds);
FD_SET(gpioFileDesc, &exceptfds);

res = select(gpioFileDesc+1, 
             NULL,               // readfds - not needed
             NULL,               // writefds - not needed
             &exceptfds,
             NULL);              // timeout (never)

if (res > 0 && FD_ISSET(gpioFileDesc, &exceptfds))
{
     // GPIO line changed
} 
```

# javascript - 奇怪的JS函数问题

> ID：12541933
> 
> 赞同：0
> 
> 时间：2012-09-22T07:54:26.080
> 
> 标签：javascript, jquery, jquery-ui, button, twitter-bootstrap

我正在开发网站。在同一页面上使用 2 个库：jQuery UI 和 Twitter Bootstrap。

我单步执行组合框代码，当它调用 .button() 时，它进入 bootstrap.min.js，而不是 jqui.js。问题是，如何解决这两个库之间的冲突？

顺便说一句，这是[jsFiddle](http://jsfiddle.net/sBXRn/)，它在没有引导程序的情况下运行良好

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-22T08:04:42.003

如果按钮是唯一的冲突，那么您可以在加载引导程序后保存 $.fn.bootstrap_button = $.fn.button，然后加载 jqueryui。或者您可以配置和下载不带按钮小部件的引导程序。

# c - 使用 Visual Studio 8 的 C 源代码出现错误 C2491

> ID：12541934
> 
> 赞同：0
> 
> 时间：2012-09-22T07:54:29.157
> 
> 标签：c, visual-studio, compiler-construction

我真的是 C 的菜鸟。我只需要编译一个 ANSI C 源代码就可以得到一个 dll。在编译期间，我收到此错误：

```
 C2491: 'SelectML': definition of dllimport function not allowed 
```

其中 SelectML 是具有此定义的公共函数：

```
int CALLINGCONV SelectML(WORD fid, int nSlot)
{
  WORD SW;
  int x;
  BYTE pSend[2];
  pSend[0]=(BYTE)((fid&0xff00)>>8);
  pSend[1]=(BYTE)(fid&0x00ff);
  x=SendAPDUML(hCards[nSlot],APDU_SELECT,2,0,pSend,0,&SW);
  if (x!=C_OK) return x;
  if (SW!=0x9000) return SW;
  return C_OK;
} 
```

我确定C源是好的，也许它只是一个Visual Studio配置......

这是另一个链接的标题：

```
#ifndef LIBSIAECARDT_H
#define LIBSIAECARDT_H

#ifdef __cplusplus
extern "C" {
#endif

#if !defined(USE_STDCALL)
#define USE_STDCALL 1
#endif

#ifdef _WIN32
#   if USE_STDCALL == 1
#       define CALLINGCONV_1 _stdcall
#   else 
#       define CALLINGCONV_1
#   endif

#   if defined(LIBSIAE_EXPORTS)
#       define LIBSIAEAPI __declspec(dllexport)
#   else
#       define LIBSIAEAPI __declspec(dllimport)
#   endif

#   define CALLINGCONV LIBSIAEAPI CALLINGCONV_1

#else // ! _WIN32
#   define CALLINGCONV 
#   define LIBSIAEAPI
#   define CALLINGCONV_1
typedef unsigned int UINT;
#endif  // _WIN32 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-22T08:27:36.750

引用[MSDN](http://msdn.microsoft.com/en-us/library/62688esh.aspx)说明了一切。不要定义函数。宣言很好。您在这里所做的是定义 SelectML，它肯定会生成您的 C2491 错误。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-22T09:35:42.583

通常将像 CALLINGCONV 这样的宏有条件地定义为 __declspec(dllimport) 或 __declspec(dllexport) 以便可以在库源代码和使用该库的代码中使用相同的头文件。您的构建可能应该定义一些使它使用 dllexport 的东西。检查如何定义 CALLINGCONV 或（最好）查阅代码附带的任何构建文档。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-09-22T14:30:16.037

这是一个替代方案。停止使用 MSVC。在 C90 之后，他们明确放弃了对任何东西的支持。对 C 代码使用实际的 C 编译器。

# ios - 子类化 UILabel 以使其“可点击”

> ID：12541941
> 
> 赞同：1
> 
> 时间：2012-09-22T07:55:42.887
> 
> 标签：ios, uilabel, subclass

`UILabel`为了使标签表现得像一个链接，我将其子类`FDTouchableLabel`化：如果用户点击标签，它会将其颜色更改为`highlightedTextColor`并**在 target 上执行选择器**。

标签有一个`selector`属性和一个`target`（弱）属性，以及一个`addTarget:action:`方法。

问题是当我调用它时（从标签本身）：

```
[self.target performSelector:self.action]; 
```

我得到（我想是）一个**ARC 警告**：“PerformSelector 可能会导致泄漏，因为它的选择器是未知的”。

有真正的问题吗？这段代码真的会泄露吗？

（我已经知道隐藏警告的技巧，对此不感兴趣。想了解真正的*问题*。）

# java - JAVA分部发送文件

> ID：12541943
> 
> 赞同：0
> 
> 时间：2012-09-22T07:55:47.817
> 
> 标签：java, jakarta-ee, client-server, java-server

我正在用 JAVA 编写一个客户端-服务器程序，在该程序中我将文件从服务器发送到客户端。由于文件大小可能非常高，因此我决定将文件分成 5 个部分，然后在 5 中将其发送到同一个客户端不同的线程。

*   我的算法是使用[Java Zip API](http://docs.oracle.com/javase/6/docs/api/java/util/zip/ZipOutputStream.html)并创建一个要发送的文件的 zip 文件，然后我将 Zip 文件分成 5 个部分。问题是 [ZIP API][2] 中没有可以分割文件的方法。 这是我所指的通过 Thread 发送文件[的教程。](http://edinkysoft.appspot.com/jsp/articles/javafilesocket.html)任何可以指导我的人我的算法有什么问题还是我必须使用不同的策略？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-22T08:13:44.447

您应该将拉链部分与拆分部分分开。如果您必须将这些发送给客户端，您可能不想在等待客户端请求下一个块时将完整的 zip 文件保存在内存中......所以最简单的方法是先压缩到磁盘，然后分块提供该文件。到那时，它是否是一个 zip 文件实际上并不重要——事实上，对于某些文件类型（例如图像、声音、视频），您可能根本不想通过一个 zip 文件。

我建议你告诉客户文件名和大小，然后让客户请求它想要的文件的任何部分。然后它可以决定使用什么块大小：您只需要寻找文件的正确位并提供客户端请求的尽可能多的数据。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-22T08:11:52.717

分解文件不是 ZIP 功能。您可以从生成的 zip 文件创建多个字节数组（通过对数组进行分段）并在不同的线程中发送每个段。这将类似于过去的下载管理器所做的事情。

然后客户端将有代码以正确的顺序重新组装字节数组。您可能需要为每个片段添加一些附加信息，例如正确的序列、要恢复的文件名以及预期的片段数。

# jquery - 每次调用一个新函数 .each 经历 3 个周期

> ID：12541945
> 
> 赞同：0
> 
> 时间：2012-09-22T07:56:08.110
> 
> 标签：jquery, ajax, each

我有一个加载 XML 文件并吐出内容的 Jquery 脚本。但是，我想将这些内容格式化为一个表格，每行 3 列。目前，它排了很长的一排，我在谷歌上没有找到任何关于在 .each 加载了几个项目之后调用新函数的信息。

重申一下，我想在*if(hideproduct == ""){}*成功执行 3 次之后执行*函数 newrow() 。*

 *```
var product_xml = "xml/products_loaded.xml"
function xmlParser() {
$.ajax({
    type: "GET",
    url: product_xml,
    dataType: "xml",
    success: function(xml) {

        function newrow(){
            $("#output").append("</tr><tr>")
        }

        $(xml).find("SAVED_EXPORT").each(function(){

            var productcode = $(this).find("productcode").text()
            var productname = $(this).find("productname").text()
            var productprice = $(this).find("productprice").text()
            var hideproduct = $(this).find("hideproduct").text()

            if(hideproduct == ""){
                $("#output").append("<td class='product' id='" + productcode + "'>"
                + "<a href='/i/" + productcode + ".htm' title='" + productname + ", " + productcode + "'>" + productname + "</a><br>"
                + "<span><font class='text colors_text'><b><span class='price'>Our Price</span>: </b></font> $" + productprice + "</span><br>"
                + "<img src='/v/vspfiles/photos/" + productcode + "-1.jpg' border='0' alt='" + productname + "'>"
                + "</td>");;

            }
        })      
    }
})
} 
```

提前感谢任何对如何解决此问题有想法的人。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-22T07:58:53.923

关键是您需要在`.each`存储状态之外的计数器变量：

```
var count = 0; 
```

因为您不能在回调函数中使用局部*声明*来存储`var`状态变量。*`.each`*

 *然后，在`if (hideproduct ...)`块内，计算它被调用的次数：

```
++count; 
```

如有必要，调用该函数

```
if (count === 3) {
    newRow();
    count = 0;
} 
```

* * *

碰巧你的`newRow()`函数无论如何都不起作用，因为你不能使用`.append`.

更好的解决方案是：

```
var tr = null;
var count = 0;

$(xml).find("SAVED_EXPORT").each(function() {
     if (hideproduct === "") {
         if (tr === null) {    // create a new row
             tr = $('<tr>').appendTo('#output');
         }

         tr.append(...);       // add your content

         if (++count % 3 === 0) {
             tr = null;        // force a new <tr> on the next iteration
         }
     }
}); 
```

请注意如何`<tr>`仅在必要时创建新内容，然后将`<td>`元素中的新内容直接添加到该内容中，而不是添加到`#output`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-22T08:00:17.983

那这个呢？

```
 var i = 1;
    $(xml).find("SAVED_EXPORT").each(function(){

        [...]

        if(hideproduct == ""){
            [...]
            if(i%3 == 0)
                newRow();
            i++;
        }
    }); 
```

我不确定你想在哪里测试“3-test”，但你明白了！基本上， i%3 == 0 测试将检查 i 是否是 3 的倍数（0,3,6,9...）。**

# android - Android Google Map rootdirection 未在起点和终点之间显示

> ID：12541947
> 
> 赞同：1
> 
> 时间：2012-09-22T07:56:17.467
> 
> 标签：android

当我试图在我的android应用程序中加载起点和终点之间的goodle-map根方向时，我得到下面的错误是错误日志，下面给出了我的代码a。

谢谢。

```
class MapOverlay extends com.google.android.maps.Overlay {
    Road mRoad;
    Boolean toastindex=true;
    ArrayList<GeoPoint> mPoints;
    MapRouteActActivity c;
    public MapOverlay(Road road, MapView mv,MapRouteActActivity c) {
        mRoad = road;
        this.c = c;
        if (road.mRoute.length > 0) {

            mPoints = new ArrayList<GeoPoint>();
            System.out.println("===MAP Points===" + mPoints);
            for (int i = 0; i < road.mRoute.length; i++) {

                System.out.println("===road.mRoute.length===" + road.mRoute.length);
                mPoints.add(new GeoPoint((int) (road.mRoute[i][1] * 1000000),(int) (road.mRoute[i][0] * 1000000)));
                System.out.println("===++++MAP Points++++===" + mPoints);
            }
            int moveToLat = (mPoints.get(0).getLatitudeE6() + (mPoints.get(
                    mPoints.size() - 1).getLatitudeE6() - mPoints.get(0).getLatitudeE6()) / 2);
            int moveToLong = (mPoints.get(0).getLongitudeE6() + (mPoints.get(
                    mPoints.size() - 1).getLongitudeE6() - mPoints.get(0).getLongitudeE6()) / 2);
            GeoPoint moveTo = new GeoPoint(moveToLat, moveToLong);

            MapController mapController = mv.getController();
            mapController.animateTo(moveTo);
            mapController.setZoom(12);
        }
    }

    @Override
    public boolean draw(Canvas canvas, MapView mv, boolean shadow, long when) {
        super.draw(canvas, mv, shadow);
        drawPath(mv, canvas);
        return true;
    }

    public void drawPath(MapView mv, Canvas canvas) {
        int x1 = -1, y1 = -1, x2 = -1, y2 = -1;
        Paint paint = new Paint();
        paint.setColor(Color.GREEN);
        paint.setStyle(Paint.Style.STROKE);
        paint.setStrokeWidth(3);
        try {
            //cd: for (int i = 0; i < mPoints.size(); i++) {
             for (int i = 0; i < mPoints.size(); i++) {
                Point point = new Point();
                mv.getProjection().toPixels(mPoints.get(i), point);
                x2 = point.x;
                y2 = point.y;
                if (i > 0) {
                    canvas.drawLine(x1, y1, x2, y2, paint);
                }
                x1 = x2;
                y1 = y2;
            }
        } catch (Exception e) {
            // TODO: handle exception
            if (toastindex==true) {
                Toast  toast;
                toast=Toast.makeText(c, "Google map not avaliable now ,please come back later", Toast.LENGTH_SHORT);
                toast.show();
                toastindex=false;
            }
            c.finish();
        }
    }
}

  09-24 13:05:03.828: I/System.out(10427): in checkinternet()
09-24 13:05:03.838: I/System.out(10427): Connected to the internet
09-24 13:05:03.848: W/audio_hw_primary(87): get audio.routing failed
09-24 13:05:03.858: D/ViewRootImpl(10427): pckname = com.bookacab
09-24 13:05:03.878: I/System.out(290): [INFO:83399783]: LogSource: Running flush
09-24 13:05:03.878: I/System.out(290): [INFO:83399784]: LogSource: Sending payload [bytes=272]
09-24 13:05:04.078: I/System.out(290): [INFO:83399985]: LogSource: Response [http=200,length=208]
09-24 13:05:04.078: I/System.out(290): [INFO:83399986]: LogSource: Read id 63, status code 200
09-24 13:05:04.098: I/System.out(290): [INFO:83400008]: LogSource: Running flush
09-24 13:05:04.098: I/System.out(290): [INFO:83400009]: LogSource: Sending payload [bytes=272]
09-24 13:05:04.858: I/System.out(290): [INFO:83400765]: LogSource: Response [http=200,length=208]
09-24 13:05:04.858: I/System.out(290): [INFO:83400766]: LogSource: Read id 64, status code 200
09-24 13:05:04.878: I/System.out(290): [INFO:83400785]: LogSource: Running flush
09-24 13:05:04.878: I/System.out(290): [INFO:83400787]: LogSource: Sending payload [bytes=247]
09-24 13:05:04.968: I/wpa_supplicant(414): [CTRL_IFACE]SIGNAL_POLL
09-24 13:05:05.808: I/System.out(290): [INFO:83401717]: LogSource: Response [http=200,length=209]
09-24 13:05:05.808: I/System.out(290): [INFO:83401718]: LogSource: Read id 65, status code 200
09-24 13:05:05.828: I/System.out(290): [INFO:83401738]: LogSource: Running flush
09-24 13:05:05.828: I/System.out(290): [INFO:83401739]: LogSource: Sending payload [bytes=247]
09-24 13:05:05.878: D/dalvikvm(290): GC_CONCURRENT freed 464K, 10% free 7153K/7879K, paused 2ms+2ms
09-24 13:05:05.998: I/System.out(290): [INFO:83401908]: LogSource: Response [http=200,length=209]
09-24 13:05:05.998: I/System.out(290): [INFO:83401908]: LogSource: Read id 66, status code 200
09-24 13:05:06.008: I/System.out(10427): =====c_srclat======12.8871752
09-24 13:05:06.008: I/System.out(10427): =====c_srclog======77.6001091
09-24 13:05:06.008: I/System.out(10427): =====c_deslat======12.9151013
09-24 13:05:06.008: I/System.out(10427): =====c_deslog======77.6127996
09-24 13:05:06.008: I/ActivityManager(147): START {cmp=com.bookacab/.MapRouteActActivity (has extras)} from pid 10427
09-24 13:05:06.068: E/ActivityThread(10427): Performing pause of activity that is not resumed: {com.bookacab/com.bookacab.NewCabtype}
09-24 13:05:06.068: E/ActivityThread(10427): java.lang.RuntimeException: Performing pause of activity that is not resumed: {com.bookacab/com.bookacab.NewCabtype}
09-24 13:05:06.068: E/ActivityThread(10427):    at android.app.ActivityThread.performPauseActivity(ActivityThread.java:2674)
09-24 13:05:06.068: E/ActivityThread(10427):    at android.app.ActivityThread.performPauseActivity(ActivityThread.java:2662)
09-24 13:05:06.068: E/ActivityThread(10427):    at android.app.ActivityThread.handlePauseActivity(ActivityThread.java:2640)
09-24 13:05:06.068: E/ActivityThread(10427):    at android.app.ActivityThread.access$800(ActivityThread.java:123)
09-24 13:05:06.068: E/ActivityThread(10427):    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1154)
09-24 13:05:06.068: E/ActivityThread(10427):    at android.os.Handler.dispatchMessage(Handler.java:99)
09-24 13:05:06.068: E/ActivityThread(10427):    at android.os.Looper.loop(Looper.java:137)
09-24 13:05:06.068: E/ActivityThread(10427):    at android.app.ActivityThread.main(ActivityThread.java:4424)
09-24 13:05:06.068: E/ActivityThread(10427):    at java.lang.reflect.Method.invokeNative(Native Method)
09-24 13:05:06.068: E/ActivityThread(10427):    at java.lang.reflect.Method.invoke(Method.java:511)
09-24 13:05:06.068: E/ActivityThread(10427):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)
09-24 13:05:06.068: E/ActivityThread(10427):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)
09-24 13:05:06.068: E/ActivityThread(10427):    at dalvik.system.NativeStart.main(Native Method)
09-24 13:05:06.098: W/MapActivity(10427): Recycling dispatcher android_maps_conflict_avoidance.com.google.googlenav.datarequest.DataRequestDispatcher@410c4368
09-24 13:05:06.108: V/MapActivity(10427): Recycling map object.
09-24 13:05:06.168: I/System.out(10427):  MURALI: srclat=====12.8871752
09-24 13:05:06.168: I/System.out(10427):  MURALI:   =====77.6001091
09-24 13:05:06.168: I/System.out(10427):  MURALI: deslat=====12.9151013
09-24 13:05:06.168: I/System.out(10427):  MURALI: deslog=====77.6127996
09-24 13:05:06.168: I/System.out(10427):  MURALI: paddress=====2nd Main Rd,Bangalore,Karnataka 560076
09-24 13:05:06.168: I/System.out(10427):  MURALI: daddress=====BTM 2nd Stage
09-24 13:05:06.188: D/dalvikvm(10427): GC_CONCURRENT freed 332K, 7% free 8703K/9287K, paused 2ms+12ms
09-24 13:05:06.208: W/CursorWrapperInner(10427): Cursor finalized without prior close()
09-24 13:05:06.208: W/CursorWrapperInner(10427): Cursor finalized without prior close()
09-24 13:05:06.218: I/System.out(10427): -----------------urlString.toString()------------http://maps.google.com/maps?f=d&hl=en&saddr=12.8871752,77.6001091&daddr=12.9151013,77.6127996&ie=UTF8&0&om=0&output=kml
09-24 13:05:06.218: I/System.out(10427): MURALI: ENTRY - getConnection 
09-24 13:05:06.218: I/System.out(10427): MURALI: passed url is: http://maps.google.com/maps?f=d&hl=en&saddr=12.8871752,77.6001091&daddr=12.9151013,77.6127996&ie=UTF8&0&om=0&output=kml
09-24 13:05:06.218: I/System.out(10427): MURALI: after openConnection conn = libcore.net.http.HttpURLConnectionImpl:http://maps.google.com/maps?f=d&hl=en&saddr=12.8871752,77.6001091&daddr=12.9151013,77.6127996&ie=UTF8&0&om=0&output=kml
09-24 13:05:06.218: D/ViewRootImpl(10427): pckname = com.bookacab
09-24 13:05:06.268: V/TabletStatusBar(214): setLightsOn(true)
09-24 13:05:06.278: I/MapActivity(10427): Handling network change notification:CONNECTED
09-24 13:05:06.278: E/MapActivity(10427): Couldn't get connection factory client
09-24 13:05:06.318: I/ActivityManager(147): Displayed com.bookacab/.MapRouteActActivity: +247ms
09-24 13:05:06.508: I/System.out(10427): MURALI: after getInputStream() ************* 
09-24 13:05:06.508: I/System.out(10427): EXIT: getConnection 
09-24 13:05:06.518: I/System.out(10427): MURALI: inputStream is: libcore.net.http.ChunkedInputStream@411ee898
09-24 13:05:06.518: I/System.out(10427): MURALI: After getConnection libcore.net.http.ChunkedInputStream@411ee898
09-24 13:05:06.518: W/System.err(10427): org.apache.harmony.xml.ExpatParser$ParseException: At line 1, column 801: not well-formed (invalid token)
09-24 13:05:06.518: W/System.err(10427):    at org.apache.harmony.xml.ExpatParser.parseFragment(ExpatParser.java:515)
09-24 13:05:06.518: W/System.err(10427):    at org.apache.harmony.xml.ExpatParser.parseDocument(ExpatParser.java:474)
09-24 13:05:06.518: W/System.err(10427):    at org.apache.harmony.xml.ExpatReader.parse(ExpatReader.java:321)
09-24 13:05:06.518: W/System.err(10427):    at org.apache.harmony.xml.ExpatReader.parse(ExpatReader.java:279)
09-24 13:05:06.518: W/System.err(10427):    at javax.xml.parsers.SAXParser.parse(SAXParser.java:390)
09-24 13:05:06.518: W/System.err(10427):    at javax.xml.parsers.SAXParser.parse(SAXParser.java:187)
09-24 13:05:06.528: W/System.err(10427):    at com.bookacab.map.RoadProvider.getRoute(RoadProvider.java:21)
09-24 13:05:06.528: W/System.err(10427):    at com.bookacab.MapRouteActActivity$2.run(MapRouteActActivity.java:82)
09-24 13:05:06.528: I/System.out(10427): MURALI: After getRoute mRoad com.bookacab.map.Road@412479a0
09-24 13:05:06.528: I/System.out(10427): THE NAME IS:::::::::::::::::null
09-24 13:05:06.528: I/System.out(10427): the des is::::::::::::::::::null
09-24 13:05:06.528: I/System.out(10427): the des is:::::::::++++++++++++++++++++++++++++++++:::::::::null   null
09-24 13:05:06.548: I/System.out(10427): MURALI: After  sendEmptyMessage
09-24 13:05:06.658: D/dalvikvm(147): GC_FOR_ALLOC freed 450K, 16% free 10419K/12359K, paused 58ms
09-24 13:05:06.658: W/ActivityManager(147): Duplicate finish request for ActivityRecord{412bac60 com.bookacab/.MapRouteActActivity}
09-24 13:05:06.668: D/ViewRootImpl(10427): pckname = com.bookacab
09-24 13:05:06.668: I/WindowManager(147): MediaPlayer.is not PlayingVideo
09-24 13:05:06.678: I/InputReader(147): Reconfiguring input devices.  changes=0x00000004
09-24 13:05:06.678: I/InputReader(147): Device reconfigured: id=2, name='ft5x_ts', surface size is now 800x480, mode is 1
09-24 13:05:06.688: I/ActivityManager(147): Config changed: {1.0 0mcc0mnc en_IN layoutdir=0 sw640dp w1066dp h592dp lrg land finger - 
```

# nlp - 处理 CRF++ 工具包中的 test.java

> ID：12541951
> 
> 赞同：0
> 
> 时间：2012-09-22T07:57:18.413
> 
> 标签：nlp

***安装 CRF++ 工具包***后，我尝试***在 CRF++-0.54/java 文件夹下运行程序“test.java”***。为此，***我输入***：

```
java -cp /home/amira/CRF++-0.54/java/org/chasen/crfpp test 
```

但是，我有以下错误：

```
Exception in thread "main" java.lang.NoClassDefFoundError: test
Caused by: java.lang.ClassNotFoundException: test
    at java.net.URLClassLoader$1.run(URLClassLoader.java:217)
    at java.security.AccessController.doPrivileged(Native Method)
    at java.net.URLClassLoader.findClass(URLClassLoader.java:205)
    at java.lang.ClassLoader.loadClass(ClassLoader.java:321)
    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:294)
    at java.lang.ClassLoader.loadClass(ClassLoader.java:266)
Could not find the main class: test. Program will exit. 
```

在 README 文件中，有命令**java -classpath CRFPP.jar test -d ../dic**。但是，问题是我***找不到 CRFPP.jar 的类路径***。此外，我不明白命令中的**../dic*****指***的是什么。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-08T11:51:17.633

1.  根据您的机器设置在 java 目录的 Makefile 中进行更改。
2.  提供正确的 Java 路径和您正在使用的编译器。
3.  `make java`在 swig 目录中运行。
4.  在java目录下运行`make all`。
5.  在 java 目录中运行 make 之前，请确保模型文件位于正确的位置，否则将无法打开模型文件。
6.  在java目录下运行`make test`。

# java - 带有按钮和弹出窗口的一般帮助/建议

> ID：12541952
> 
> 赞同：2
> 
> 时间：2012-09-22T07:57:38.160
> 
> 标签：java, swing, user-interface, jbutton, jpopupmenu

嗨，提前感谢！

我一直在做一个游戏项目，不，我正在研究制作一个基本的 GUI。简而言之，这就是我想要实现的目标：

主要组件是一个 J(Scroll) 面板，用于容纳移动的游戏内对象。我希望玩家能够将鼠标悬停在对象上并获得某种与悬停对象的位置相关的信息弹出窗口。其次，我希望用户能够用鼠标左键单击对象以“选择”对象，并且还能够用鼠标右键单击以打开对象旁边的弹出菜单。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-22T08:06:52.927

您应该在面板中添加鼠标侦听器。像这样：

```
panel.addMouseListener(new MouseAdapter() { 
  public void mousePressed(MouseEvent me) { 
    System.out.println(me); 
  } 
}); 
```

# ios - UIButton TouchUpInside 有时不触发

> ID：12541956
> 
> 赞同：4
> 
> 时间：2012-09-22T07:58:49.913
> 
> 标签：ios, uibutton

我正在以编程方式创建 UIButtons 并设置它们的目标。大多数情况下，TouchDown-TouchDragInside-TouchUpInside 链似乎工作正常，但如果我快速执行此事件链（大约每秒 2-3 次），绑定到 TouchUpInside 的方法有时不会触发。

据我了解，UIEvent 将始终触发，即使它们没有立即触发。这是一个我似乎无法找到的已知问题吗？我能做些什么呢，除了触摸的东西变慢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-05T15:37:46.930

我认为您创建的按钮可以切换和单击。如果是这样，这两个手势也不会处理好，您可以在按钮上添加滑动手势，它可以很好地工作；希望可以帮助您。

# android - 是否可以对我的所有 apk 版本使用相同的 keyhash？

> ID：12541959
> 
> 赞同：1
> 
> 时间：2012-09-22T07:59:16.090
> 
> 标签：android

我已经在 android 市场上传了一个应用程序，同时在我的手机中安装它要求 keyhash 。所以我新插入了我的 keyhash 。（在我的手机中）现在我在 android 市场发布了下一个版本，然后现在它也要求 keyhash .

登录失败：invalid_key:Android 密钥不匹配。您的密钥“8Ioc4p/jMXoU9Lezug4nzmZfFUg”与您的应用程序设置中指定的允许密钥不匹配。[在http://www.facebook.com/developers](http://www.facebook.com/developers)检查您的应用程序设置

1）是否有可能为我的所有apk版本使用相同的keyhash。2）如果我为每个版本使用不同的 keyhash，facebook 配置会影响与否。

# android - 如何使用 Graph API 查找 Facebook 用户上次使用我的应用程序的时间？

> ID：12541963
> 
> 赞同：0
> 
> 时间：2012-09-22T07:59:36.923
> 
> 标签：android, facebook-graph-api, multiplayer

我是一名独立游戏开发人员，正在开发一款多人 Android 游戏。我现在需要实现一个功能，**我想在其中显示我的游戏的 Facebook 好友活动。**

我已经知道如何确定有多少朋友在玩我的游戏（或使用我的应用程序）。但是，现在我还要显示他们上次玩我的游戏时的内容。

所以，总结一下：

**如何使用 Graph API 查找 Facebook 用户上次使用我的应用程序的时间？假设我的游戏有一个授权的 Facebook 会话，每个用户都在玩它。这甚至可能吗？**

我知道我可以编写自己的服务器端代码来跟踪用户在我的游戏上的活动。但我想我可以避免这一切，如果 Facebook 可以给我信息。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-22T12:50:55.217

> 我知道我可以编写自己的服务器端代码来跟踪用户在我的游戏上的活动。

这就是你必须做的。

> 但我想我可以避免这一切，如果 Facebook 可以给我信息。

不，此信息无法通过 API 或 FQL 获得。

# apache-flex - 设置数据提供者

> ID：12541967
> 
> 赞同：0
> 
> 时间：2012-09-22T07:59:43.577
> 
> 标签：apache-flex

我有这样的 php 服务。

```
 <stockproductservice:StockproductService id="stockproductService"
                                             fault="Alert.show(event.fault.faultString + '\n' + event.fault.faultDetail)"
                                             showBusyCursor="true"/> 
```

它使用 php 服务。

我应该如何在 itemRedenerer 中设置数据提供者？

```
 <s:DataService source="{stockproductService.getAllStockproduct1()}"/> 
```

和

```
 <s:WebService source="{stockproductService.getAllStockproduct1()}"/> 
```

不工作。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-22T09:03:41.503

如果您的问题是如何设置 WebService 以最简单的形式填充 dataProvider，它可能是这样的：

```
<?xml version="1.0" encoding="utf-8"?>
<s:Application xmlns:fx="http://ns.adobe.com/mxml/2009" creationComplete="creationCompleteHandler(event)"
               xmlns:s="library://ns.adobe.com/flex/spark" 
               xmlns:mx="library://ns.adobe.com/flex/mx" minWidth="955" minHeight="600">

    <s:List dataProvider="{restaurants}" labelField="name" />

    <fx:Declarations>
        <s:WebService id="RestaurantWS" wsdl="http://examples.adobe.com/flex3app/restaurant_ws/RestaurantWS.xml?wsdl" /> 
        <s:CallResponder id="getRestaurantsResult" 
                         result="restaurants = getRestaurantsResult.lastResult as ArrayCollection"/> 
    </fx:Declarations>

    <fx:Script>
        <![CDATA[
            import mx.collections.ArrayCollection;
            import mx.events.FlexEvent;

            [Bindable]
            public var restaurants:ArrayCollection;

            protected function creationCompleteHandler(event:FlexEvent):void
            {
                getRestaurantsResult.token = RestaurantWS.getRestaurants(); 
            }

        ]]>
    </fx:Script>
</s:Application> 
```

# xcode - Xcode：如何处理基于相同源代码的许多略有不同的目标/应用程序

> ID：12541968
> 
> 赞同：4
> 
> 时间：2012-09-22T08:00:02.173
> 
> 标签：xcode, targets

对于我们公司的一款产品，我们需要生成稍有改动的iOS应用（不同的logo，Info.plist中的设置稍有不同等）；但基本上它们都基于相同的源代码。

现在我们开始获得一些牵引力，在 Xcode 主项目中有 20-30 个不同的方案和目标变得有点烦人——而且让同事修改它是一件痛苦的事，因为它往往会时不时地破坏一些东西。

不幸的是，我对 Xcode 的内部结构不是很熟悉。但我很确定其他人之前已经解决了这个问题。

我想到的一些想法：

*   有一个单独的 Xcode 项目和...
    *   ...使用框架/库导入“基本代码”。
    *   ...将“基本代码”添加为项目（依赖项？）

不确定这里的最佳做法是什么；理想情况下，项目代码和客户应用程序目标的配置应该有明确的分离。更理想的是，这将是由同事维护的，而不会有意外破坏基本代码的风险。

有什么想法/想法/建议吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-20T11:57:09.860

这取决于用例。您是否需要发布（存档）同步部署的目标？还是这些客户端定制是独立发布的？开发团队有多大？

无论哪种方式，实际上只有几个选择。

**选项1**

将产品作为单独的目标进行管理。这基本上就是你现在正在做的事情。您可以对其进行设置，以便构建一个目标来构建所有目标，从而为自己节省一些痛苦。这里的主要缺点是您要单独管理图像/plist 数据。

这是我通常处理它的方式。自定义通常是一次性的，您可以指定不同的预编译标头来更改某些功能差异。

**选项 2**

在 CVS 中将产品作为单独的分支进行管理。这可能有点让人头疼，但如果有一个更大的团队在代码库中工作，效果会更好。将功能代码保留在一个分支上。为每个产品维护一个独立的分支。根据需要将功能分支中的更改合并到产品分支中。

**选项 3**

将产品作为单独的子项目进行管理。这与选项 1 非常相似，因为您仍然需要单独维护设置，但优点是您在更改项目文件的基础 xml 时不太可能弄乱其他产品。

要考虑的因素是开发团队的规模以及团队现有的工作流程。

# java - 以表格格式打印 LinkedHashMap

> ID：12541970
> 
> 赞同：1
> 
> 时间：2012-09-22T08:00:23.863
> 
> 标签：java, iterator, hashmap

我正在寻找更好的算法来通过其键以表格格式打印 LinkedHashMap。我在这里解释场景，

```
//hashmap goes like this
LinkedHashMap<String , ArrayList<String>> hash=new LinkedHashMap<String,ArrayList<String>>();

// put some values in some arraylist
ArrayList<String> value1=Arrays.asList("s1", "s2", "s3");
ArrayList<String> value2=Arrays.asList("s4", "s5", "s6");
ArrayList<String> value1=Arrays.asList("s7", "s8", "s9");

// put values in hashmap
hash.put("key1",value1);
hash.put("key2",value2);
hash.put("key3",value3); 
```

`html`现在，我希望表格中的输出应该是这样的。

```
key1 key2 key3

s1    s4   s7

s2    s5   s6

s3    s6   s9 
```

什么是这样做的好方法？谢谢 。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-22T08:12:03.113

如果你正在使用**JSP**页面，试试这个

LinkedHashMap> hash=new LinkedHashMap>();

```
// put some values in some arraylist
ArrayList<String> value1=Arrays.asList("s1", "s2", "s3");
ArrayList<String> value2=Arrays.asList("s4", "s5", "s6"); 
ArrayList<String> value1=Arrays.asList("s7", "s8", "s9");

// put values in hashmap
hash.put("key1",value1);
hash.put("key2",value2);
hash.put("key3",value3); 
```

```
<% 
  for(Entry<String, ArrayList<String>> en: hash.entrySet()) {
      %>
   <td> 
     <% en.getKey(); %>
   </td>
 <%  }
 %>
 </td>
  </tr> 
```

您也可以使用 JSTL 标记来执行此操作。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-22T08:13:54.137

尝试，

```
 StringBuffer sb=new StringBuffer();
 sb.append("<tr>");
 sb.append("<td>" + hash.get("key1").get(0) + "</td>");
 sb.append("<td>" + hash.get("key2").get(0) + "</td>");
 sb.append("<td>" + hash.get("key3").get(0) + "</td>");
 sb.append("</tr>"); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-22T08:19:46.643

以下代码应该做

```
public static void main(String[] args) {
        // hashmap goes like this
        LinkedHashMap<String, List<String>> hash = new LinkedHashMap<String, List<String>>();

        // put some values in some arraylist
        List<String> value1 = (List<String>) Arrays.asList("s1", "s2", "s3");
        List<String> value2 = (List<String>) Arrays.asList("s4", "s5", "s6");
        List<String> value3 = (List<String>) Arrays.asList("s7", "s8", "s9");

        // put values in hashmap
        hash.put("key1", value1);
        hash.put("key2", value2);
        hash.put("key3", value3);

        int count = 0;
        boolean exit = false;
        while (!exit) {
            for (String key : hash.keySet()) {
                String value = hash.get(key).get(count);
                System.out.printf("\t" + value);
            }
            System.out.printf("\n");
            count++;
            if (count == hash.get("key1").size()) {
                exit = true;
            }
        }

    } 
```

以下是所需的输出：

```
s1  s4  s7
s2  s5  s8
s3  s6  s9 
```

# javascript - 比较 LI 中的所有 DIV，并将该 DIV 的最大高度设置为 LI 中的其他 DIV

> ID：12541972
> 
> 赞同：0
> 
> 时间：2012-09-22T08:00:46.020
> 
> 标签：javascript, jquery

我有一些代码如下：

HTML：

```
 <ul id="product-matrix" class="clearfix">
    <li class="product product-medium">
        <a href="#" class="showQuickViewPan">
            <img src="../images/556116.jpg" class="product-image" height="243" width="243" />
        </a>    
        <div class="swatch-container">
          <p class="visually-hidden">Color Options:</p>
        </div>   
        <div class="product-info">
          <h2> <a href="#"> Travelpro FlightPro Rolling Tote</a> </h2>
          <p class="price-original price-small"> <span>regular&nbsp;</span>$299.99</p>
        </div>
        <div class="ratings-info">
            <a class="ratingsimage" href="#"><img src="../images/rating-5.0.gif" alt=""/></a>
            <span class="reviewcount">(<a href="#">5</a>)</span>
        </div>    
        <img src="../images/Online_Exclusive_v1_m56577569836982197.gif" alt="" />    
        <img src="../images/OnlyAtKohls_Burg_v1_m56577569836982195.gif" alt="" />
    </li>
    <li class="product product-medium">
        <a href="#" class="sr-item-new"><span class="sr-new-img"></span>
            <img src="../images/742063_Black.jpg" class="product-image" height="243" width="243"/>
        </a>
        <div class="swatch-container">
            <p class="visually-hidden">Color Options:</p>
            <ul class="clearfix"><li></li></ul>
        </div>
        <div class="product-info">
            <h2><a href="#">Columbia Wool Jacket</a></h2>
            <p class="price-original"><span>original&nbsp;</span>$200.00</p>
        </div>
        <div class="ratings-info">
            <a class="ratingsimage" href="#"><img src="../images/rating-5.0.gif" alt=""/></a>
            <span class="reviewcount">(<a href="#">5</a>)</span>
        </div>
        <img src="../images/Online_Exclusive_v1_m56577569836982197.gif" />
        <img src="../images/Online_Exclusive_v1_m56577569836982197.gif" />
     </li>
...
    </ul> 
```

在上面的代码中，**产品信息**DIV 可能有 2 到 10 行文本，所以现在我想要实现的是我想计算**产品信息**DIV 的高度（）并将相同的高度分配给所有产品-所有 LI 中的信息 DIV，我无法解决。任何帮助是极大的赞赏。谢谢！！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-22T08:14:31.813

找到最大高度，然后使用 jQuery 设置为所有其他 div。

```
$('document').ready(function(){
    var maxHeight = 0;
    $(".product-info").each(function(){
        maxHeight = Math.max(maxHeight, $(this).height());     
    });
    $(".product-info").height(maxHeight);
});​ 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-22T08:22:53.523

您可以利用`$.map`一次获取所有高度，然后用于`Math.max.apply`查找该集合的最大值：

```
var max = Math.max.apply(null, $(".product-info").map(function() {
    return $(this).height();
}));
$(".product-info").height(max); 
```

见[http://jsfiddle.net/q8gzz/1/](http://jsfiddle.net/q8gzz/1/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-22T08:08:01.367

使用 JQuery，您可以在页面加载后检索 DIV 的高度并将此值应用于其他元素：

```
$('document').ready({
    var newHeight = $('#product-info').height();
    $('li').each(function(){
        $(this).height(newHeight);
    });
}); 
```

下面的评论是正确的，没有元素ID可以作为参考。因此，在引用元素中添加一个 ID 并替换“#product-id”

# iphone - 无效的转换说明符“2”

> ID：12541973
> 
> 赞同：0
> 
> 时间：2012-09-22T08:00:49.130
> 
> 标签：iphone, objective-c, gdata, ios6

我正在尝试在 iOS 6 和 iphone 5 中构建我的应用程序。我在我的应用程序中使用 gdata-objectivec-client-1.10.0 但是当我构建我的应用程序时它会在 GDataDateTime.m 文件中给出这个错误. 任何人都可以帮我解决这个问题。

```
 timeString = [NSString stringWithFormat:@"T%02ld:%02ld:%0l2d%@", 
```

**错误是“来自说明符 2 的无效对话”**

![在此处输入图像描述](../Images/7f7826e0a8391ef6e996d9f3b53b875e.png)

现在它在交换“l”和“2”后给出了这个错误。任何帮助 ![在此处输入图像描述](../Images/b96a05981e408bb508f4f18bdd6af640.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-12T11:01:23.583

主要问题是，我使用的是旧的 GData sdk。我只是将编译器从 Apple LLVM 4.1 更改为 LLVM GCC 4.2，它可以完美地编译应用程序。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-22T08:07:27.510

最后一个不是`%02ld`字母“l”和“2”交换。

编辑：而不是：

```
timeString = [NSString stringWithFormat:@"T%02ld:%02ld:%0l2d%@", 
```

写：

```
timeString = [NSString stringWithFormat:@"T%02ld:%02ld:%02ld%@", 
```

# php - PHP & Javascript : 一种使用 php 创建 javascript 字典的通用方法

> ID：12541975
> 
> 赞同：-1
> 
> 时间：2012-09-22T08:01:06.887
> 
> 标签：php, javascript

> **可能重复：**
> [使用 GET 将 JavaScript 数组发送到 PHP 脚本的最佳方法是什么？](https://stackoverflow.com/questions/1156054/whats-the-best-way-to-send-javascript-array-to-php-script-using-get)

我只想知道创建 javascript 字典的最佳方法是什么。

就像假设我有一个 php 数组，我想提供该数组的值（循环迭代）

到键值形式的 javascript 字典？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-22T08:05:50.233

如果您正在谈论提供整个数组（您似乎想要这样做），您可以简单地使用`json_encode`数组将其编码为 JSON（它是 JavaScript 的子集）。

# c# - C# 整数组合

> ID：12541980
> 
> 赞同：1
> 
> 时间：2012-09-22T08:01:51.270
> 
> 标签：c#, .net, integer, permutation, combinations

我想使用单个整数选择整数**组合**
， 就像我有一个数字一样`1234`。现在我想要的是：`1,2,3,4,12,23,34,123,234,1234`

请帮忙..??

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-22T08:08:59.507

如果我理解正确，您需要给定字符串的所有子字符串（在本例中为数字 1234）。因此，对于长度为 n 的*字符串*，有*n 个*长度为 1 的子字符串、*n* - 1 个长度为 2 的子字符串，等等，直到一个长度为*n*的子字符串。

鉴于您可以使用两个嵌套循环轻松解决此问题，例如：

```
public static IEnumerable<int> Foo(int x) {
  string s = x.ToString();
  for (int length = 1; length <= s.Length; length++) {
    for (int i = 0; i + length < s.Length; i++) {
      yield return int.Parse(s.Substring(i, length));
    }
  }
} 
```

（未经测试，可能有栅栏错误，但你明白了。）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-22T08:09:50.817

这篇关于[使用 C# 泛型的排列、组合和变体的文章怎么样？](http://www.codeproject.com/Articles/26050/Permutations-Combinations-and-Variations-using-C-G)

用代码讨论排列和组合的地方。

# jsp - 如何在 JSP 文件中包含 Facelets 文件？

> ID：12541981
> 
> 赞同：3
> 
> 时间：2012-09-22T08:01:52.520
> 
> 标签：jsp, jsf-2, include, facelets

我有一个 JSP 页面`main.jsp`，我想在该页面中包含一个 Facelets 页面`menu.xhtml`。我怎样才能做到这一点？我搜索了很多，似乎没有任何办法。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-22T09:52:20.297

那是不可能的。Facelets (XHTML) 基本上是 JSP 的继承者，应该被用作 JSP 的替代品。您应该将所有旧版 JSP 页面迁移到现代 Facelets。然后您可以使用 Facelets`<ui:include>`来包含另一个 Facelets 文件。

### 也可以看看：

*   [从 JSF 1.2 迁移到 JSF 2.0](https://stackoverflow.com/questions/4441713/migrating-from-jsf-1-2-to-jsf-2-0/4532870#4532870)
*   [如何使用 JSF 2.0 Facelets 在 XHTML 中包含另一个 XHTML？](https://stackoverflow.com/questions/4792862/how-to-include-another-xhtml-in-xhtml-using-jsf-2-0-facelets/4793959#4793959)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-22T22:04:16.723

制作 main.xhtml。[使用OmniFaces resourceinclude](http://showcase.omnifaces.org/components/resourceInclude)包含 jsp 。

所以基本上你制作了一个虚拟的 xhtml 页面并包含带有omnifaces的jsp和正常的jsf方式的jsf。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-22T12:28:13.653

作为临时黑客，您可以从嵌入在 JSP 页面中的 IFrame 中调用 JSF 页面。

# delphi - 使用 Delphi 7 使用 TIdUDPServer (Indy 10) 读取广播数据时出现异常

> ID：12541983
> 
> 赞同：0
> 
> 时间：2012-09-22T08:02:21.033
> 
> 标签：delphi, indy, indy10

我在尝试使用 TIdUDPServer 的 OnUDPRead 事件读取从我创建的 IdUDPClient 客户端发送的广播数据时遇到问题。我尝试使用以下问题中显示的示例，但无济于事。

[如何在 Delphi 中发送广播消息](https://stackoverflow.com/questions/3480729/how-can-i-send-a-broadcast-message-in-delphi)

[使用 TIdUDPServer 读取数据](https://stackoverflow.com/questions/10585088/reading-data-with-tidudpserver)

我能够将 TIdUDPServer 绑定到我指定的端口：

```
procedure TForm1.Button1Click(Sender: TObject);
begin
  IdUDPServer1.BroadcastEnabled := True;
  IdUDPServer1.DefaultPort := StrToInt(edit2.Text);
  IdUDPServer1.Bindings.Add.IP := '0.0.0.0';
  //IdUDPServer1.ThreadedEvent:=True;
  IdUDPServer1.Active := True;
end; 
```

IdUDPServer1UDPRead 成功触发，表明 UDP 服务器正在工作，但我在这一行出现异常 -> DataStringStream.CopyFrom(AData, AData.Size);

> 例外：模块“IndyUDPReceiver.exe”中地址 004BA415 的访问冲突。读取地址 74736574

```
procedure TForm1.IdUDPServer1UDPRead(Sender: TObject;
  AData: TStream; ABinding: TIdSocketHandle);
var
  DataStringStream: TStringStream;
  msg: string;
begin
  try
    DataStringStream := TStringStream.Create('');
    try
      DataStringStream.CopyFrom(AData, AData.Size);
      msg := DataStringStream.DataString;
      Memo1.Lines.Add(msg);
    finally
      DataStringStream.Free;
    end;
  except
    on E: Exception do
    begin
      Memo1.Lines.Add('Exception:' + E.Message);
      DataStringStream.Free;
    end;
  end;
end; 
```

我已将完整的客户端和服务器上传到：[http ://www.2shared.com/file/5SRweGIa/Indy_UDP.html](http://www.2shared.com/file/5SRweGIa/Indy_UDP.html)

感谢任何指针。:)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-24T02:43:18.517

您是否偶然从旧版本的 Delphi 和/或 Indy 升级您的项目，却忘记检查事件处理程序的签名更改？该事件很久以前就`TIdUDPServer.OnUDPRead`停止使用`TStream`它的参数。`AData`它改为使用`TIdBytes`：

```
procedure TForm1.IdUDPServer1UDPRead(AThread: TIdUDPListenerThread; const AData: TIdBytes; ABinding: TIdSocketHandle);
var
  msg: string;
begin
  msg := BytesToString(AData, Indy8BitEncoding);
  Memo1.Lines.Add(msg);
end; 
```

几周前，我们不得不更改`AData`XE3 的参数以最终解决所有 2009+ 版本中 Delphi 和 C++ 之间的 RTTI 不兼容问题：

```
procedure TForm1.IdUDPServer1UDPRead(AThread: TIdUDPListenerThread; const AData: array of Byte; ABinding: TIdSocketHandle);
var
  msg: string;
begin
  msg := BytesToString(AData, Indy8BitEncoding);
  Memo1.Lines.Add(msg);
end; 
```

# c++ - 优化只有 3 个不同值的数组？如何设计？

> ID：12541987
> 
> 赞同：0
> 
> 时间：2012-09-22T08:03:16.827
> 
> 标签：c++, c, arrays, performance, optimization

我正在尝试 C++ 中的资源不敏感功能。我正在实现一个包含 10000 条记录的数组，但任何记录都只有 3 个可能的值，即 0、1、2。所以我想知道如果我可以只保存每个实例的一个实例并进行逻辑管理，而不是为 10000 个实例存储所有 3 个实例的内存。不知道具体如何实现。

例如，我的数组将是这样的。

{1, 0, 0, 1, 2, 1, 1, 1, 0, 2, 2, 0, 0, 0, 2,......}

我们也可能会获得超过 10000 条记录

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-22T08:07:02.613

听起来您可以创建一个 2500 字节的数组，每个字节有 4 个值（每个值占用 2 位）。使用位移/屏蔽访问任何单个值。我怀疑这将比对值进行分组的方案更简单，并且会更加“类似数组”以进行访问。当然，很难确定，因为我们不知道您需要对这些值做什么。

您*实际上*可以将 5 个值放入每个字节（因为 3 ⁵是 243），因此您只需要一个大小为 2000 的字节数组......但访问代码会有些棘手。除非你*真的*需要它，否则我会抵制这种额外的复杂性。

此外，如果值相对稀疏——例如几乎所有内容都是 0，只有几个 1 和 2——那么您显然可以更有效地存储它。

编辑：好的，所以我很长时间没有做过任何 C++，但它会是这样的：

```
// Entirely untested. Please test thoroughly, and make sure you understand it
// before using it.
int get_value(unsigned index)
{
    // TODO: Argument validation
    unsigned raw_index = index / 4;
    unsigned index_within_byte = (index % 4) * 2;

    return (array[raw_index] >> index_within_byte) & 3;
}

void set_value(unsigned index, int value)
{
    // TODO: Argument validation
    unsigned raw_index = index / 4;
    unsigned index_within_byte = (index % 4) * 2;

    int mask = 0xff ^ (3 << index_within_byte);
    array[raw_index] = (array[raw_index] & mask) | (value << index_within_byte);
} 
```

编辑：进一步考虑，您甚至可能想要创建一个由`uint32_t`或`uint64_t`代替字节的数组，并将 16 或 32 个“真实”值放入每个数组元素中。我怀疑在大多数处理器上可能会提高内存访问效率。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-22T08:13:27.887

制作一个 的向量`std::pair<int, int>`，使得`first`该对中包含 0、1 或 2，并`second`包含该特定元素被看到的次数。

所以对于你的例子

> {1, 0, 0, 1, 2, 1, 1, 1, 0, 2, 2, 0, 0, 0, 2,......}

你可以像这样存储它

> {<1, 1>, <0, 2>, <1, 1>, <2, 1>, <1, 3>, <0, 1>, <2, 2>, <0, 3>, < 2，...>...}

只有当有很多连续重复并且不需要直接访问时，您才能看到它是好的。

# node.js - 使用 Node.JS 创建 JPG 文件

> ID：12541989
> 
> 赞同：1
> 
> 时间：2012-09-22T08:03:27.983
> 
> 标签：node.js, download, base64, jpeg, decoding

在我的 node.js 服务器中，我正在从另一台服务器下载文件。下载的文件是用Base64编码两次的JPG图像数据，这意味着我必须对其进行两次解码。给出的是我的代码。

```
var base64DecodedFileData = new Buffer(file_data, 'base64').toString('binary');
var tmp = base64DecodedFileData.split("base64,");
var base64DecodedFileData = new Buffer(tmp[1], 'base64').toString('binary');                                                                                                           
var file = fs.createWriteStream(file_path, stream_options);
file.write(base64DecodedFileData);
file.end(); 
```

我知道我的图像数据在我第一次解码时是有效的（我通过第二次解码验证了在线 base64 解码器中的数据并且我得到了正确的图像），但是当我第二次解码并创建一个文件时这个数据。我没有得到有效的 JPG 文件。

我已经将它与实际图像进行了比较，两个文件的开头和结尾似乎都很好，但我构建的文件中有些地方不对劲。构建的文件也比原始文件大。

PS：我在第二次解码之前进行拆分，因为第一次解码后的数据以

数据：; base64，数据开始

有什么想法吗。法鲁克·阿尔沙德。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-22T11:46:53.923

我已经解决了我的问题。问题似乎出在 node.js 的解码中，所以我编写了一个 C++ 插件来完成这项工作。这是代码。如果我们只对图像文件进行一次编码，我很确定问题仍然存在。

.js 文件

ModUtils.generateImageFromData(file_data, file_path);

c++ 插件：这使用来自 [http://www.adp-gmbh.ch/cpp/common/base64.html的 base64 C++ 编码器/解码器](http://www.adp-gmbh.ch/cpp/common/base64.html)

```
#define BUILDING_NODE_EXTENSION
#include <node.h>
#include <iostream>
#include <fstream>
#include "base64.h"

using namespace std;
using namespace v8;

static const std::string decoding_prefix = 
"data:;base64,";

// --------------------------------------------------------
//  Decode the image data and save it as image
// --------------------------------------------------------
Handle<Value> GenerateImageFromData(const Arguments& args) {
HandleScope scope;

// FIXME: Improve argument checking here.
// FIXME: Add error handling here.

if ( args.Length() < 2) return v8::Undefined();

Handle<Value> fileDataArg = args[0];
Handle<Value> filePathArg = args[1];
String::Utf8Value encodedData(fileDataArg);
String::Utf8Value filePath(filePathArg);
std::string std_FilePath = std::string(*filePath);

// We have received image data which is encoded with Base64 two times
// so we have to decode it twice.
std::string decoderParam = std::string(*encodedData);
std::string decodedString = base64_decode(decoderParam);

// After first decoding the data will also contains a encoding prefix like 
    // data:;base64,
// We have to remove this prefix to get actual encoded image data.
std::string second_pass = decodedString.substr(decoding_prefix.length(),     (decodedString.length() - decoding_prefix.length()));
std::string imageData = base64_decode(second_pass);

// Write image to file
ofstream image;
image.open(std_FilePath.c_str());
image << imageData;
image.close();

return scope.Close(String::New(" "));
//return scope.Close(decoded);
}

void Init(Handle<Object> target) {

// Register all functions here
target->Set(String::NewSymbol("generateImageFromData"),
    FunctionTemplate::New(GenerateImageFromData)->GetFunction());
}

NODE_MODULE(modutils, Init); 
```

希望它对其他人有帮助。

# sql - 从表中删除记录（多对多关系）

> ID：12541991
> 
> 赞同：1
> 
> 时间：2012-09-22T08:03:52.207
> 
> 标签：sql, oracle

我有三张桌子：

```
PERSON
-ID_PERSON
-NAME
-SURNAME

PERSON_ADDRESS
-ID_PERSON
-ID_ADDRESS

ADDRESS
-ID_ADDRESS
-NR_LOCAL
-NR_HOME
-PLACE 
```

我想删除 id_person=1 的 ADRESS 表中的所有记录

我的查询（在 oracle 中）

```
DELETE * FROM address INNER JOIN person_addres ON
address.id_address=person_addres.id_address 
WHERE person_addres.id_person=1 ; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-22T09:52:45.440

在您的情况下`person`，`address`表具有多对多关系。这意味着一个人可以拥有多个地址，而一个地址可能同时属于多个人。您想删除特定人的地址，并且想从`address`表中删除它。让我们考虑以下情况。根据`person_address`表格，ID=1 的人有一个 ID=2 的地址，ID = 2 的人有相同的地址（ID=2）。如果您删除了与人员 #1 (ID = 1) 相关的地址记录，会发生什么？第 2 个人将没有地址，或者您会得到`integrity constraint violated`（取决于您的`on delete`选择）。

要删除特定人的地址，保留其他人的地址不变，最好从`person_address`表中删除记录而不是`address`. `address`并且仅当没有分配该地址的人时才从表中删除记录。

`person_address`要删除特定人（本例中 ID = 1 的人）的所有“地址”（表中的所有记录），您可以使用以下 SQL。

```
delete 
  from (select q.id_person
          from address t
          join person_address q
            on (q.id_address = t.id_address)
        ) x
  where x.id_person = 1 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-22T08:43:38.523

> “我想删除 id_person=1 的 ADRESS 表中的所有记录”

Person 和 Address 之间存在多对多的关系。这意味着您将删除 Person 使用的地址记录`id_person != 1`。那是你真正想做的吗？

假设是这种情况，您需要分三个步骤执行此操作：

1.  获取其中`id_address`的所有值 `person_address``id_person=1`
2.  删除所有匹配的记录`person_address`
3.  删除所有匹配的记录`address`

在 Oracle 中，您可以在两个语句中执行此操作，使用批量操作和预定义的 ODCINUMBERLIST 集合（我希望您的 ID 是数字）。

```
declare
    addr_nt ODCINUMBERLIST;
begin
    delete from person_address
    where id_person=1
    returning id_address bulk collect into addr_nt;

    forall i in addr_nt.first..addr_nt.last
        delete from address
        where addr_id = addr_nt(i);
 end; 
```

* * *

当然，如果您的表之间没有定义外键，您可以遵循其他建议并愉快地从`address`表中删除。您的数据将损坏且不可靠，但这是不执行关系完整性的代价。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-22T09:47:43.827

表 person_address**应该**对表 person 和 address 具有外键约束。要优雅地删除一个人，请考虑使用此过程。

虽然我个人永远不会删除人员详细信息，而是在人员表中包含人员状态（例如活动或非活动）的列。

```
create or replace procedure remove_person(p_id_person in person.id_person%type )
is
begin
    delete from person where id_person = p_id_person;
    delete from address where id_address in (select id_address from person_address where id_person = p_id_person);
    delete from person_address where id_person = p_id_person;

-- no exception handling, I want to know when this fails
end; 
```

然后像这样使用：

```
begin
  remove_person(1);
end; 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-09-22T08:06:54.983

尝试做一个子选择 - 抱歉我的 Oracle 生锈了：

```
DELETE * FROM address WHERE id_address IN (SELECT id_address FROM person_address WHERE id_person = 1) 
```

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2012-09-22T08:11:16.657

首先从 person_id=1 的人员地址中选择地址 id，然后从地址中删除地址 i 等于先前查询结果的行。就这样

```
DELETE * FROM ADDRESS WHERE ID_ADDRESS IN ( SELECT ID_ADDRESS FROM PERSON_ADDRESS WHERE ID_PERSON='1') 
```

# c# - Google Analytics API：安全的 ConsumerKey/Secret

> ID：12541999
> 
> 赞同：1
> 
> 时间：2012-09-22T08:04:50.113
> 
> 标签：c#, google-analytics-api

我正在.NET/C# 中构建一个桌面应用程序，代表用户通过 OAUTH 进行身份验证以访问 Google Analytics API。

我尝试用于身份验证的方法在[http://heartofangel.com/tutorial-authenticating-with-google-oauth/](http://heartofangel.com/tutorial-authenticating-with-google-oauth/)上进行了描述。

在我的情况下，匿名身份验证不是一个选项，因为我将获得非常有限的 API 访问权限，因此我已经在 Google 控制台上注册了我的应用程序，并且我有一个 ConsumerKey 和 ConsumerSecret。

保护这些的最佳做法是什么？（通过反编译我的 dll 可以很容易地找到这些字符串。）我需要担心吗？

我不太喜欢拥有服务器代理的想法，因为我的应用程序是免费的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-30T08:28:43.113

我在我的 Windows 应用程序中存储 SSL 密钥时遇到了类似的问题。我最终使用[.NET Reactor](http://www.eziriz.com/dotnet_reactor.htm)来保护我的应用程序并加密嵌入的字符串。Eziriz .NET Reactor 不是免费的，但到目前为止它已被证明是最好的解决方案，我的应用程序已经上市 5 年了，它没有被破解。