# StackOverflow 问答 12871000-12871999

# android - 具有动态内容的 Android ViewPager

> ID：12871003
> 
> 赞同：0
> 
> 时间：2012-10-13T07:32:02.750
> 
> 标签：android, android-viewpager

我需要一点帮助来了解如何将我当前的实现更改`ViewFlow`为 android `v4.ViewPager`。到目前为止，我一直在`ArayLists<?>`用数据填充我的视图。现在我需要使用与我相同的方式（如果可能的话）并使用 Android SDK 中的 ViewPager。任何建议都可以很好地了解它的工作原理，因为我在互联网上找到的示例正在使用标签等，但我不需要标签。

这是我之前使用适配器的方式：

```
public class WebViewAdapter extends BaseAdapter  {

private Activity activity;
private ArrayList<String> name;
private ArrayList<String> date;
private ArrayList<String> bodies;
private static LayoutInflater inflater = null;

public WebViewAdapter(Activity a, ArrayList<String> names, ArrayList<String> dates, ArrayList<String> body) {
    this.activity = a;
    this.name = names;
    this.date = dates;
    this.bodies = body;
    inflater = (LayoutInflater) activity.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
}

public int getCount() {
    return name.size();
}

public Object getItem(int position) {
    return position;
}

public long getItemId(int position) {
    return position;
}

public static class ViewHolder {
    public TextView title, date;
    public WebView body;
}

public View getView(int position, View convertView, ViewGroup parent) {
    View vi = convertView;
    ViewHolder holder;
    if (convertView == null) {
        vi = inflater.inflate(R.layout.article_layout, null);
        holder = new ViewHolder();
        holder.title = (TextView) vi.findViewById(R.id.article_title);
        holder.date = (TextView) vi.findViewById(R.id.date);
        holder.body = (WebView) vi.findViewById(R.id.body);

        vi.setTag(holder);
    } else
        holder = (ViewHolder) vi.getTag();
        holder.title.setText(name.get(position).toString());
        holder.date.setText(date.get(position).toString());
        holder.body.loadDataWithBaseURL(null, bodies.get(position).toString(), "text/html", "utf-8", null);

    return vi;
} 
```

}

我是这样使用它的：

```
WebViewAdapter adapter = new WebViewAdapter(this, titles, dates, bodies);
viewFlow.setAdapter(adapter, pos); 
```

现在我需要与 ViewPager 实现相同的结果，因为我正在移动我的所有项目以使用来自新 SDK API 的片段和东西。

任何建议/建议/帮助我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-13T07:58:54.010

而不是您的适配器实现 FragmentPagerAdapter。像使用 ViewFlow 一样 Invflate ViewPager 并在其上设置创建的适配器。一切都差不多。唯一的区别 - 适配器使片段实例化，而片段使视图膨胀。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-13T07:52:18.747

不知道你想达到什么目标。

如果您想使用片段而不是视图，请检查[actionBarSherlock](http://actionbarsherlock.com/)示例中名为“选项卡和寻呼机”的示例（在片段项目中）。它甚至与旧的 android 版本兼容（在引入片段之前）。

# ftp - 通过 FTP 客户端保护 IP 地址

> ID：12871015
> 
> 赞同：0
> 
> 时间：2012-10-13T07:33:24.230
> 
> 标签：ftp, ip

FTP 客户端（例如 Filezilla）是否在从其服务器上传/下载文件时将我的 IP 地址暴露给虚拟主机服务？

如果是，那么是否有任何 FTP 客户端可以隐藏我的 IP 地址？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-13T07:35:08.170

你不能。您需要一个 IP 地址才能访问任何服务器。它是互联网的基本属性。

使用 DynDNS 或 No-IP 之类的服务。但即便如此，您也无法隐藏您的 IP，只需将其隐藏即可。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-13T07:36:07.377

是的，他们有。如果您直接与任何服务器联系，您的 IP 地址将始终“暴露”。一种选择是间接连接（例如通过代理），在这种情况下，您正在联系的服务器将看到代理服务器的 IP 地址。

# android - 在 ICS 的 CAN 接口中设置比特率时出错

> ID：12871018
> 
> 赞同：1
> 
> 时间：2012-10-13T07:34:13.603
> 
> 标签：android, setting, bitrate, can-bus

我正在尝试在 android 的 i.Mx6 处理器中设置比特率。我正在使用 iproute2 实用程序为 CAN 控制器设置比特率。用于设置比特率的命令如下：

```
#ip link set can0 type can bitrate 125000 
```

当我尝试使用以下命令在 android 中设置比特率时，我收到错误消息。

错误信息如下：

> 垃圾而不是参数“比特率......”。" "试试\"ip链接帮助\""

我对这个实用程序的源代码进行了分析和调试，并与Linux实用程序源进行了比较。发现错误发生在系统调用dlsym()中。

```
 l = dlsym(dlh, buf);
    if (l == NULL)
            return NULL; 
```

这个函数假设返回一些有效的地址。但就我而言，它返回NULL。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-08-08T10:01:30.950

(1)(Android源码)/external/iproute2/ip/iplink.c

```
#define LIBDIR "/usr/lib/" 
```

至

```
#define LIBDIR "/usr/lib" 
```

(2)(Android源码)/external/iproute2/ip/Android.mk

```
+LOCAL_LDFLAGS := -Wl,-export-dynamic -Wl,--no-gc-sections
include $(BUILD_EXECUTABLE) 
```

PS。此错误仅适用于 Android ICS(4.0.4)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-07-10T14:51:57.243

将以下行添加到`external/iproute2/ip/Android.mk`

```
+LOCAL_LDFLAGS := -Wl,-export-dynamic -Wl,--no-gc-sections
include $(BUILD_EXECUTABLE) 
```

再次编译，它应该可以工作。

# ruby-on-rails - 由于 pg gem 构建捆绑包时出错？

> ID：12871019
> 
> 赞同：1
> 
> 时间：2012-10-13T07:34:50.793
> 
> 标签：ruby-on-rails

> **可能重复：**
> [Mountain Lion 上的 pg gem '0.14.0' 失败](https://stackoverflow.com/questions/11711394/pg-gem-0-14-0-on-mountain-lion-fails)

我的一台 OSX 机器上有一个非常好的 rails env，但后来我不得不为一个学校项目安装 OS161 的交叉编译器，它破坏了我的 rails 环境。我尝试在不同的 OSX 机器上设置一个环境（实际上是相同的环境），但在尝试运行 bundle install 时出现此错误：

```
Gem::Installer::ExtensionBuildError: ERROR: Failed to build gem native extension.

    /usr/local/rvm/rubies/ruby-1.9.3-p194/bin/ruby extconf.rb 
checking for pg_config... yes
Using config values from /usr/bin/pg_config 
checking for libpq-fe.h... yes
checking for libpq/libpq-fs.h... yes
checking for pg_config_manual.h... yes
checking for PQconnectdb() in -lpq... yes
checking for PQconnectionUsedPassword()... yes
checking for PQisthreadsafe()... yes
checking for PQprepare()... yes
checking for PQexecParams()... yes
checking for PQescapeString()... yes
checking for PQescapeStringConn()... yes
checking for PQescapeLiteral()... yes
checking for PQescapeIdentifier()... yes
checking for PQgetCancel()... yes
checking for lo_create()... yes
checking for pg_encoding_to_char()... yes
checking for pg_char_to_encoding()... yes
checking for PQsetClientEncoding()... yes
checking for PQlibVersion()... yes
checking for PQping()... yes
checking for rb_encdb_alias()... yes
checking for rb_enc_alias()... no
checking for PGRES_COPY_BOTH in libpq-fe.h... no
checking for PGRES_SINGLE_TUPLE in libpq-fe.h... no
checking for struct pgNotify.extra in libpq-fe.h... yes
checking for unistd.h... yes
checking for ruby/st.h... yes
creating extconf.h
creating Makefile

make
compiling pg.c
pg.c: In function ‘Init_pg_ext’:
pg.c:384: error: ‘PQPING_OK’ undeclared (first use in this function)
pg.c:384: error: (Each undeclared identifier is reported only once
pg.c:384: error: for each function it appears in.)
pg.c:386: error: ‘PQPING_REJECT’ undeclared (first use in this function)
pg.c:388: error: ‘PQPING_NO_RESPONSE’ undeclared (first use in this function)
pg.c:390: error: ‘PQPING_NO_ATTEMPT’ undeclared (first use in this function)
make: *** [pg.o] Error 1

Gem files will remain installed in /usr/local/rvm/gems/ruby-1.9.3-p194/gems/pg-0.14.1 for       inspection.
Results logged to /usr/local/rvm/gems/ruby-1.9.3-p194/gems/pg-0.14.1/ext/gem_make.out
An error occured while installing pg (0.14.1), and Bundler cannot continue.
Make sure that `gem install pg -v '0.14.1'` succeeds before bundling. 
```

有人可以帮忙吗？我这两天一直在寻找解决方案...

# jquery - $('#id') 和 jQuery('#id') 之间的区别

> ID：12871026
> 
> 赞同：1
> 
> 时间：2012-10-13T07:35:28.843
> 
> 标签：jquery, html

> **可能重复：**
> [jQuery：$。与 jQuery](https://stackoverflow.com/questions/2212602/jquery-vs-jquery)

我对这两种类型的 jquery 太困惑了`$('#id') and jQuery('#id')`。

我有一个表格，在这个表格中，我包含了许多用于不同功能的 jquery 文件。一切都按预期工作。现在我想再包含一个用于浮动横幅的 jquery，并且我已经配置了所有显示的设置。

当我加载页面时它在控制台中显示以下行

`TypeError: $(".side-ads").scrollToFixed is not a function`

`TypeError: jQuery(".auth").autocomplete is not a function`

所以我在这种冲突之间感到困惑。有什么办法可以消除这种冲突吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-13T07:38:03.937

$ 和 jQuery 都指向 window.jQuery 对象，所以它们是一回事

一些脚本使用 jQuery 而不是 $ 的原因是为了防止与其他库发生冲突，例如原型或 jquery 的不同版本，它们都使用 $ 变量。

jQuery 定义了一个很好的解决冲突的解决方案：[jQuery.noConflict](http://api.jquery.com/jQuery.noConflict/)。通过使用这个函数，你可以定义你自己的名字，在那里可以访问 jQuery。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-13T07:40:40.883

类型错误的原因很可能是缺少插件。如果你有它们，你有没有在你的页面中包含这些脚本？

ScrollToFixed 插件在[此处](http://www.jqueryrain.com/2011/12/jquery-scrolltofixed/)可用，Auto Complete 是[jQueryUi](http://jqueryui.com/autocomplete/)的一部分。

# iphone - 如何设置推送和弹出视图控制器流程

> ID：12871029
> 
> 赞同：1
> 
> 时间：2012-10-13T07:35:45.320
> 
> 标签：iphone, ios, uinavigationcontroller, pushviewcontroller, popviewcontroller

在我的应用程序中，我想从右到左设置弹出视图控制器。当推送视图控制器从左到右流动时，很好。我试过这个[如何在基于导航的应用程序中更改推送和弹出动画，](https://stackoverflow.com/questions/2215672/how-to-change-the-push-and-pop-animations-in-a-navigation-based-app)但它通过转换工作我想要从右到左没有动画弹出视图控制器的动画视图？请帮助解决

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-13T07:59:49.160

流行效果

```
ViewController *back = [[ViewController alloc]initWithNibName:@"ViewController" bundle:nil];
NSMutableArray *vcs =  [NSMutableArray arrayWithArray:self.navigationController.viewControllers];
[vcs insertObject:back atIndex:[vcs count]-1];
[self.navigationController setViewControllers:vcs animated:NO];
[self.navigationController popViewControllerAnimated:YES]; 
```

# nlp - 在 WordNet 相似性度量（如 resnik、lin、leacock 等）的情况下，路径长度的含义是什么？

> ID：12871031
> 
> 赞同：0
> 
> 时间：2012-10-13T07:36:00.257
> 
> 标签：nlp, wordnet, jaws-wordnet

究竟什么是路径长度以及如何计算它。我正在使用下巴

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-15T09:48:27.023

WordNet 是一个图，或者更准确地说，是一棵下位词/上位词关系树。该树中的路径是一系列边，路径的长度是其中的边数。请注意，两个节点之间的路径由任一元素与其最低共同祖先节点之间的路径组成。

# .net - 在 AWS .NET SDK 中列出实例

> ID：12871033
> 
> 赞同：3
> 
> 时间：2012-10-13T07:36:13.347
> 
> 标签：.net, amazon-ec2

我正在编写代码以使用适用于 AWS 的 .net SDK 列出实例 ID 和实例类型。我知道我需要使用 DescribeInstancesRequest 类。我还认为我需要使用 ArrayList 来存储字符串输出并使用 foreach 循环来获取所有实例。我只是很难把它放在一起！像在控制台中列出实例 ID 这样简单的事情对我有很大帮助。

有没有人做过类似的事情？

### 2012 年 10 月 13 日更新

我正在朝着我需要去的地方迈出很小的一步。我是 .net AWS SDK 的新手，所以这是一个非常缓慢的过程。下面的代码计算我拥有的实例数并返回它。现在我只需要弄清楚如何让它列出实际的实例 ID。

有任何想法吗？

```
AmazonEC2 ec2 = new AmazonEC2Client();

DescribeInstancesRequest request = new DescribeInstancesRequest();
DescribeInstancesResponse res = ec2.DescribeInstances(request);

Console.WriteLine(res.DescribeInstancesResult.Reservation.Count);
Console.Read(); 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-14T00:48:39.107

不是为了打败死马，而是为了我的任务，我必须在 HTML 表中打印出实例 ID 和实例类型。如果您想在网站上托管它，这可能很有用。您需要做的就是更改`StreamWriter`. 这是我草率但成品。

```
 AmazonEC2 ec2 = new AmazonEC2Client();
        DescribeInstancesRequest req = new DescribeInstancesRequest();
        List<Amazon.EC2.Model.Reservation> result = ec2.DescribeInstances(req).DescribeInstancesResult.Reservation;
        using (StreamWriter writer = new StreamWriter(@"C:\Users\Ethan\Desktop\InstanceOutput.html"))                  //change this output to a local address if testing the code
        {
            writer.Write("<table border=1><tbody><tr><th>Instance ID</th><th>Instance Type</th></tr>");
            foreach (Amazon.EC2.Model.Reservation reservation in result)
            {
                foreach (Amazon.EC2.Model.RunningInstance runningInstance in reservation.RunningInstance)
                {
                    writer.WriteLine("<tr><td>" + runningInstance.InstanceId + "</td><td>" + runningInstance.InstanceType + "</td></tr>");
                }
            }
            writer.Write("</tbody></table>");
        } 
```

所以请记住，我对此是全新的，有人可能会想出一个更清洁、更有效和更好的答案。这就是我在控制台中打印实例 ID 和实例类型的方式。

```
AmazonEC2 ec2 = new AmazonEC2Client();
DescribeInstancesRequest req = new DescribeInstancesRequest();
List<Amazon.EC2.Model.Reservation> result = ec2.DescribeInstances(req).DescribeInstancesResult.Reservation;

        foreach (Amazon.EC2.Model.Reservation reservation in result)
        {
            foreach (Amazon.EC2.Model.RunningInstance runningInstance in reservation.RunningInstance)
            {
                Console.WriteLine(runningInstance.InstanceId);
                Console.WriteLine(runningInstance.InstanceType);
            }
        } 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2018-09-28T13:35:09.380

有些东西已经过时了

```
List<Reservation> listReservations = ec2Client.DescribeInstances(requestInstances).Reservations;

foreach (Reservation reservation_item in listReservations)
{
    foreach (Instance instance_item in reservation_item.Instances)
    {
        WriteLine(instance_item.InstanceId);
        WriteLine(instance_item.InstanceType);
    }
} 
```

# c++ - 字符串* 还是字符*？

> ID：12871035
> 
> 赞同：0
> 
> 时间：2012-10-13T07:37:07.907
> 
> 标签：c++, string, pointers, char

我在 C++ 代码中阅读了 String* 并感到困惑，是否有必要使用 String* ？我可以改用 char* 吗？例如 StreamReader 有 ReadLine() 函数，为什么不要求用户首先安排一个 char 数组，该函数只是将字符串存储在其中，返回一个 char* 指针，一切正常。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-13T07:39:19.847

请注意，这`char*`是指向单个字符串或多个字符（字符数组）的指针，而是指向单个或多个`string*`（数组）字符串对象的指针。但是，C# 不支持指向托管类型（例如字符串）的指针

例子：

```
 unsafe void f()
    {
        char ch = '3';
        char* cPtr = &ch;
        *cPtr = '4'; // ch == '4'
        fixed (char* ccPtr = new char[30])
        {
            *(ccPtr + 15) = '4'; // arr[15] == '4'
        }
        string* ptr; // error: cannot declare a pointer to managed type
        fixed (char* pptr = new string(new char[] { 'a', 'b', 'c' }))
        {
            pptr[2] = 'd';
        }
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-13T07:41:54.243

我不太完全理解您的问题，但 string* 可能指的是字符串数组而不是单个字符串。在这种情况下 char* 将不起作用。希望有帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-13T07:43:00.690

在 C# 中，字符串通常由 C# 类型`string`或 .net 类型处理`String`（这是同一件事）。`char*`是 C/C++ 对字符串的思考方式。虽然 C# 中确实存在指针，但它们确实不是要走的路（它们正式不安全）。字符数组将是 a `char[]`，而不是 a `char*`。

在 C# 中，类实例作为引用存储，结构作为值存储。引用基本上是指针的托管版本。如果传递类实例，则通过引用传递对象，如果传递结构，则通过值传递。换句话说，如果您想要将数据作为指向 C++ 中的类/结构的指针传递，您应该使用 C# 类。优点是您可以通过引用传递，并且您可以使用它来做您可以用指针做的事情（如链表）。缺点是如果你把一个类放在一个类中，你会增加重定向的次数（从而增加访问时间）。如果您希望将数据存储为值（例如减少类中结构的间接次数），您应该使用结构。`in`/`ref`参数。

# web-services - 支持 java.util.List 和 Collections 的 JAX-WS 实现

> ID：12871037
> 
> 赞同：1
> 
> 时间：2012-10-13T07:37:27.487
> 
> 标签：web-services, jax-ws, axis2, glassfish-3

我正在寻找支持 java.util.List 和 java.Util.Collections 的 JAX-WS 实现。我需要我的 Web 服务来返回和管理集合：我尝试了 Apache Axis2，但它似乎无法处理那种对象。

为了提供更多信息，我正在使用 Eclipse IDE 和 Glassfish v3 Server。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-15T08:28:51.963

Check out this link: [Supported JAX-WS Types](http://docs.oracle.com/cd/E17802_01/webservices/webservices/docs/2.0/tutorial/doc/JAXBWorks4.html#wp82947)

Better to use array, where ever you are require to use Collections and have a sort of converter to convert array to collections and vice verse

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-13T09:39:25.103

试试 apche CXF。AFAIK JAX-WS 对 CXF 的支持优于 Axis2

# rdf - 在网络本体语言（owl）中创建类之间的关系

> ID：12871040
> 
> 赞同：2
> 
> 时间：2012-10-13T07:38:01.393
> 
> 标签：rdf, taxonomy, ontology, owl, rdfs

我需要在我的本体中用 OWL 语法定义类之间的关系。我应该怎么办？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-13T12:16:21.080

我同意 cygri 的观点，与`#net`like `#Node`this 相关似乎没有意义，并且您可能希望所有的实例`#net`都有一部分或部分是`#Node`. 为此，您可以编写：

```
<owl:Class rdf:ID="Node"/>
<owl:Class rdf:ID="net">
    <rdfs:subClassOf>
        <owl:Restriction>
            <owl:onProperty rdf:resource="#hasPart"/>
            <owl:someValuesFrom rdf:resource="#Node"/>
        </owl/Restriction>
    </rdfs:subClassOf>
</owl:Class> 
```

您可能仍想定义直接连接两个类的属性。例如：

```
<#Node>  <#isSimilarTo>  <#Vertice> . 
```

要在 OWL 中执行此操作，您可以定义一个`owl:AnnotationProperty`：

```
<owl:AnnotationProperty rdf:about="isSimilarTo"/>
<owl:Class rdf:ID="Node">
    <isSimilarTo rdf:resource="#Vertice"/>
</owl:Class> 
```

或者你可以使用“双关语”，即使用一个类作为实例，例如：

```
<owl:ObjectProperty rdf:about="isSimilarTo"/>
<owl:Class rdf:ID="Node">
    <rdf:type rdf:resource="&owl;Thing"/>
    <isSimilarTo>
        <owl:Thing rdf:about="#Vertice"/>
    </isSimilarTo>
</owl:Class> 
```

请注意，在 OWL DL 中，所有实例都必须显式键入。在这里，`#Node` 被声明为一个类和一个实例`owl:Thing`。这并不意味着`owl:Thing`可以包含类，而是意味着`#Node`引用两个不同的东西：一个类和一个实例。在 OWL DL 中，IRI 出现的上下文总是清楚地表明该术语所指的内容。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-13T09:06:00.667

首先，请注意有两种 XML 语法（除了其他几种非 XML 语法）可用于编写 OWL。您的代码片段采用 RDF/XML 语法。另一种语法是 OWL/XML。[OWL Primer](http://www.w3.org/TR/owl2-primer/)有两种语法的例子。

你的片段说：

*   URI`<#net>`标识一个类。
*   此类具有标签“网络”（一个字符串）。
*   此类与由 URI 标识的事物处于“hasPart”关系`<#Node>`。

前两件事是有道理的，但最后一点是没有道理的。我想你真正想说的是：

*   URI`<#Node>`还标识一个类。
*   URI`<#hasPart>`标识连接两个类的个体的属性 (an `owl:ObjectProperty`)。
*   hasPart 属性的主题是网络（换句话说，hasPart 的域是`#net`）。
*   hasPart 属性的对象是节点（换句话说，hasPart 的范围是`#node`）。

查看 OWL Primer 中的示例应该会让您对如何写下这些内容有一个不错的想法。但还要注意，手工编写 RDF/XML 语法既乏味又容易出错。您可能希望使用 TopBraid Composer 之类的 OWL 编辑器或 OWL-API 之类的编程库来创建您的 OWL 文件。如果您真的想手动编写它们，我建议使用 Turtle 语法（同样，Primer 中有示例），因为它更具可读性，并且可以让您抢先学习 SPARQL，它是 OWL 和 RDF 的查询语言。

# ladon - 我们如何从 python 中的 ladon 函数返回类的实例？

> ID：12871042
> 
> 赞同：0
> 
> 时间：2012-10-13T07:38:27.760
> 
> 标签：ladon

我想从 ladon 函数返回用户定义类的实例和用户定义类的实例列表？可能吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-13T07:44:26.160

这可能会帮助你它是这样的

```
from ladon.ladonizer import ladonize
from ladon.types.ladontype import LadonType

class Response(LadonType):
    values = [int]

class MyService(object):
    @ladonize(int, int, rtype=Response)
    def foo(self, a, b):
        result = Response()
        result.values = [a+b, a*b]
        return result 
```

# asp.net - 通过对话框按钮执行时未按下 JQuery-Button

> ID：12871043
> 
> 赞同：0
> 
> 时间：2012-10-13T07:38:39.460
> 
> 标签：asp.net, jquery-ui

这是我的功能：

```
function confirmFamilyMemDelete()
{
  $('#dialog').attr('title', 'Warning').text('Are you sure?').dialog({ buttons:
  [{
    text: 'Yes',
    click: function ()
    {
        $('#MainContent_cph_btnConfirmDelete').click();
        $(this).dialog('close');
        alert('Hello');
    }
},
{
    text: 'No',
    click: function ()
    {
        $(this).dialog('close');
    }
 }
 ]
  });

  return false;
} 
```

我有一个非常奇怪的问题。在我的 aspx 页面中，有一个按钮在呈现后获取 id 'MainContent_cph_btnConfirmDelete'。如果在 jQuery UI 对话框中单击 Yes 按钮，我想单击它。但是，我做不到。它只是跳过该命令并警告“你好”。这意味着我的“是”按钮中的其余代码将被执行。如果我采取

```
 $('#MainContent_cph_btnConfirmDelete').click(); 
```

把它放在 return false 之前；按钮被点击。这是 jQuery 的一个已知问题吗，因为我想不出任何合乎逻辑的解释。如果是这样，解决方法是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-13T07:54:45.373

这是我认为你需要的：

```
function confirmFamilyMemDelete()
{
  $('#dialog').attr('title', 'Warning').text('Are you sure?').dialog({ buttons:
  {
    "Yes": function ()
    {
        $('#MainContent_cph_btnConfirmDelete').trigger('click');
        $(this).dialog('close');
        alert('Hello');
    },
    "No": function ()
    {
        $(this).dialog('close');
    }
 }
  });
  return false;
} 
```

# json - loadFromJSON() 无法通过画布中的组加载画布

> ID：12871045
> 
> 赞同：1
> 
> 时间：2012-10-13T07:39:11.457
> 
> 标签：json, fabricjs

我的画布包含一个组，但是当我想保存画布并将它们放入 JSON 时，loadFromJSON() 方法无法正确加载 json，并且画布为空。

但是，如果我的画布不包含组，但包含文本、图像、json 可以正确加载！

你能帮助我吗？

我的演示是链接：[http ://www.yinjoin.com/abc/d.htm](http://www.yinjoin.com/abc/d.htm)

# codeigniter - 从 MY_Controller CodeIgniter 访问变量

> ID：12871049
> 
> 赞同：0
> 
> 时间：2012-10-13T07:39:52.367
> 
> 标签：codeigniter, variables

正如我通读的文章，在我的应用程序的所有控制器中验证用户的最佳方法是扩展我自己的控制器，该控制器扩展了 CI_Controller

但我不能让它工作。

我所拥有的是一个`members_controller`扩展我的`MY_Controller`.

在`MY_Controller`我有这段代码，只是为了测试我将如何利用它。

```
<?php

class MY_Controller extends CI_Controller {

private $foo;

    function __construct() {
        parent::__construct();
        $this->foo = 'hello world again';
    }

} 
```

在我的`members controller`

```
<?php
class Members extends MY_Controller {
    function index() {
         $this->load->view('members');
    }
} 
```

在我的`members view`

我想访问我刚刚设置的这个变量，但我不知道如何。

我试着像这样呼应它`echo $foo`，像这样`$this->foo`

但两者都不起作用。非常感谢！！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-13T13:45:30.523

您需要将变量传递给您的视图文件。

```
 <?php
    class Members extends MY_Controller {
        function index() {
             $data = array('foo' => $this->foo)
             $this->load->view('members', $data);
        }
    } 
```

现在你可以在你的视图中引用 $foo 了。您可能需要将 $this->foo 声明为受保护。

有一个关于 MY_Controller 的视频教程，您可能会在[http://codeigniter.tv/a-10/Extending-the-core-MY_Controller-and-beyond找到有用的](http://codeigniter.tv/a-10/Extending-the-core-MY_Controller-and-beyond)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-13T07:52:19.690

您是否尝试过将变量传递给“成员视图”。

```
$this->load->view('members',$foo); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-10-22T22:51:53.483

您需要将其`$foo`设为受保护而不是私有。然后您将能够在扩展 MY_Controller.php 的控制器中访问它，如下所示： `$this->foo`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-11-24T19:14:41.600

今天我第一次使用codeigniter 3。过去我用了很多次2.x版本。现在我不能扩展`CI_Controller`：

**应用程序/核心/MY_Controller.php**

```
class MY_Controller extends CI_Controller {

private $data = array();

function __construct() {
    parent::__construct();
    date_default_timezone_set("Europe/Zagreb");
    $this->data['foo'] = "bar";
} 
```

**应用程序/控制器/Welcome.php**

```
class Welcome extends MY_Controller {

public function index() {
    $this->data['main_content'] = 'home';
    $this->load->view('template/template', $this->data); 
} 
```

**application/view/home.php** （这是由 加载的视图`$this->data['main_content']`）

如果我尝试回显 中声明的任何数据`MY_Controller`，我会收到错误消息。

```
 <?php echo $foo; ?>

A PHP ERROR WAS ENCOUNTERED

Severity: Notice

Message: Undefined variable: foo

Filename: template/header.php 
```

# javascript - 我需要创建哪种类型的 FB 应用程序才能与我的 windows 8 JS 应用程序一起使用？

> ID：12871050
> 
> 赞同：2
> 
> 时间：2012-10-13T07:39:57.010
> 
> 标签：javascript, windows, facebook, microsoft-metro

我在这里搜索过，要么

1.  答案不在这里；或者
2.  这里的搜索引擎很烂

但，

我正在尝试将 FB 集成添加到我的 Windows 8 Metro（是的，我说过）JavaScript 应用程序中。唯一的问题是我无法确定我需要在 Facebook 上创建什么类型的应用程序。只有 3 个选项，iOs、android 和 Web App。如果我选择 Web App，它会要求提供移动 Web URL，当然该应用程序不在网络上，所以我认为这将是一个问题。除此之外，我需要包含在我的“移动应用程序”中的代码要求我定义一个 channelUrl（同样，没有 URL，因为它是一个地铁应用程序），所以我很困惑。

这里的任何人都成功地完成了这项工作，并提示我需要创建哪种类型的 FB 应用程序，这样我才能开始工作？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-18T07:57:15.010

选择第一个选项`Website with Facebook Login`。在 Site`Url`中，您应该能够放下任何您想要的东西，例如您自己的网站、博客等。

您将使用 Web 身份验证代理。请参阅 [http://code.msdn.microsoft.com/windowsapps/Web-Authentication-d0485122](http://code.msdn.microsoft.com/windowsapps/Web-Authentication-d0485122)

# nhibernate - 如何在 Spring.NET/NHibernate 上默认保持 OpenSessionInView 仅使用无状态会话？

> ID：12871059
> 
> 赞同：2
> 
> 时间：2012-10-13T07:41:33.390
> 
> 标签：nhibernate, spring.net, open-session-in-view

我们的项目只在遗留数据库上查询数据，当 Spring Framework 自动注入 OSIV 情况时，我们可以默认使用无状态会话吗？

我的意思是基类 NHibernateRepository 的方法 GetCurrentSession 可以检索无状态会话对象。

我将 _sessionFactory.GetCurrentSession() 更改为 _sessionFactory.OpenStatelessSession() 是否有效？

```
public abstract class NHibernateRepository
{
    private ISessionFactory _sessionFactory;

    public ISessionFactory SessionFactory
    {
        protected get { return _sessionFactory; }
        set { _sessionFactory = value; }
    }

    protected ISession CurrentSession
    {
        get { return _sessionFactory.GetCurrentSession(); }
    }
...... 
```

但我的 Spring 配置将保留为常规设置：

```
<!-- Session Factory Configuration -->
<object id="SessionFactory" type="MyProject.Infrastructure.NHibernate.NHibernateLocalSessionFactoryObject, MyProject.Infrastructure">
    <property name="DbProvider" ref="MyDbProvider"/>
    <property name="MappingAssemblies">
        <list>
            <value>MyProject.DataAccess.NHibernateMappingLocal</value>
        </list>
    </property> 
```

我应该为我的案子做些什么？谢谢你的帮助。

# python - 究竟什么是“原始字符串正则表达式”以及如何使用它？

> ID：12871066
> 
> 赞同：81
> 
> 时间：2012-10-13T07:42:51.690
> 
> 标签：python, regex, python-module, rawstring

从关于[regex](https://docs.python.org/library/re.html)的 python 文档中，关于`'\'`字符：

> 解决方案是对正则表达式模式使用 Python 的原始字符串表示法；在以 .为前缀的字符串文字中，反斜杠不会以任何特殊方式处理`'r'`。包含and`r"\n"`的两个字符的字符串也是如此，而包含换行符的一个字符的字符串也是如此。通常，模式将使用这种原始字符串表示法在 Python 代码中表示。`'\'``'n'``"\n"`

这个原始字符串表示法是什么？如果您使用原始字符串格式，这是否意味着`"*"`将其视为文字字符而不是零个或多个指示符？这显然是不对的，否则正则表达式将完全失去它的力量。`"\n"`但是，如果它是一个原始字符串，如果它实际上是一个反斜杠和一个，它如何识别换行符`"n"`？

我不跟。

**编辑赏金：**

我试图了解原始字符串正则表达式如何匹配换行符、制表符和字符集，例如，如果原始字符串模式不能将反斜杠识别为普通字符，那么`\w`对于单词或数字或所有其他内容。`\d`我真的可以举一些很好的例子。

* * *

## 回答 #1

> 赞同：109
> 
> 时间：2012-12-12T09:01:23.447

Zarkonnen 的回答确实回答了您的问题，但没有直接回答。让我试着更直接一些，看看我能不能从 Zarkonnen 那里抢到赏金。

如果您停止使用术语“原始字符串正则表达式”和“原始字符串模式”，您可能会发现这更容易理解。这些术语将两个独立的概念混为一谈：Python 源代码中特定字符串的表示，以及该字符串表示的正则表达式。

事实上，将它们视为两种不同的编程语言是有帮助的，每种语言都有自己的语法。Python 语言有源代码，其中包括构建具有特定内容的字符串，并调用正则表达式系统。正则表达式系统具有驻留在字符串对象中并匹配字符串的源代码。两种语言都使用反斜杠作为转义字符。

首先，要了解字符串是一个字符序列（即字节或Unicode 代码点；这里的区别并不重要）。在 Python 源代码中有多种表示字符串的方法。*原始字符串*只是这些表示形式之一。如果两种表示产生相同的字符序列，它们会产生相同的行为。

想象一个 2 字符的字符串，由*反斜杠*字符后跟*n*字符组成。如果你知道*反斜杠*的字符值是 92，*n*是 110，那么这个表达式会生成我们的字符串：

```
s = chr(92)+chr(110)
print len(s), s

2 \n 
```

传统的 Python 字符串表示法`"\n"`不会生成此字符串。相反，它会生成一个带有换行符的单字符字符串。[Python 文档*2.4.1*](http://docs.python.org/2/reference/lexical_analysis.html#string-literals)。[*字符串文字*](http://docs.python.org/2/reference/lexical_analysis.html#string-literals)说，“反斜杠 (\) 字符用于转义具有特殊含义的字符，例如换行符、反斜杠本身或引号字符。”

```
s = "\n"
print len(s), s

1 
```

（注意在这个例子中换行符是不可见的，但是如果你仔细看，你会在“1”之后看到一个空行。）

为了得到我们的两个字符的字符串，我们必须使用另一个*反斜杠*字符来转义原始*反斜杠*字符的特殊含义：

```
s = "\\n"
print len(s), s

2 \n 
```

如果要表示其中包含许多*反斜杠*字符的字符串怎么办？[Python 文档*2.4.1。字符串文字*](http://docs.python.org/2/reference/lexical_analysis.html#string-literals)继续，“字符串文字可以选择以字母'r'或'R'作为前缀；这样的字符串被称为*原始字符串*，并使用不同的规则来解释反斜杠转义序列。” 这是我们的两个字符的字符串，使用原始字符串表示：

```
s = r"\n"
print len(s), s

2 \n 
```

所以我们有三种不同的字符串表示，都给出相同的字符串或字符序列：

```
print chr(92)+chr(110) == "\\n" == r"\n"
True 
```

现在，让我们转向正则表达式。Python 文档，[7.2。`re`—*正则表达式操作*](http://docs.python.org/2/library/re.html#module-re)说，“正则表达式使用反斜杠字符 ('\') 来指示特殊形式或允许使用特殊字符而不调用其特殊含义。这与 Python 出于相同目的使用相同字符相冲突字符串文字..."

如果你想要一个匹配换行符的 Python 正则表达式对象，那么你需要一个 2 字符的字符串，由*反斜杠*字符和*n*字符组成。以下代码行都将 prog 设置为识别换行符的正则表达式对象：

```
prog = re.compile(chr(92)+chr(110))
prog = re.compile("\\n")
prog = re.compile(r"\n") 
```

那么为什么[“通常模式将使用这种原始字符串表示法在 Python 代码中表达”。](http://docs.python.org/2/library/re.html#module-re)? 因为正则表达式通常是静态字符串，可以方便地表示为字符串文字。从可用的不同字符串文字符号中，当正则表达式包含*反斜杠*字符时，原始字符串是一个方便的选择。

**问题**

**问**：那表情`re.compile(r"\s\tWord")`呢？**A** : 把字符串从正则表达式编译中分离出来，分别理解比较容易理解。

```
s = r"\s\tWord"
prog = re.compile(s) 
```

该字符串`s`包含八个字符：一个*反斜杠*、一个*s*、一个*反斜杠*、一个*t*，然后是四个字符`Word`。

**问**：制表符和空格字符会怎样？**A** : 在 Python 语言级别，字符串`s`没有*制表符*和*空格*字符。它以四个字符开头：*反斜杠*、*s*、*反斜杠*、*t*。同时，正则表达式系统将该字符串视为正则表达式语言中的源代码，这意味着“匹配一个由空格字符、制表符和四个字符组成的字符串`Word`。

**问**：如果将其视为 backlash-s 和 backslash-t，您如何匹配它们？**A** : 如果“you”和“that”这两个词更具体，也许问题会更清楚：正则表达式系统如何匹配表达式 backlash-s 和 backslash-t？作为“任何空白字符”和“*制表*符”。

**问**：或者如果你有 3 个字符的字符串 backslash-n-newline 怎么办？**A** : 在 Python 语言中，3 个字符的字符串 backslash-n-newline 可以表示为常规字符串`"\\n\n"`，或原始加常规字符串`r"\n" "\n"`，或其他方式。正则表达式系统在找到任意两个连续的换行符时匹配 3 个字符的字符串 backslash-n- *newline*。

注意：所有示例和文档引用均指向 Python 2.7。

**更新**：合并了@Vladislav Zorov 和@m.buettner 的回答以及@Aerovistae 的后续问题的澄清。

* * *

## 回答 #2

> 赞同：20
> 
> 时间：2012-12-13T15:00:07.027

这些问题中的大多数都有很多词，也许很难找到您特定问题的答案。

如果您使用常规字符串并将“\t”之类的模式传递给 RegEx 解析器，Python 会将该文字转换为包含制表符字节（0x09）的缓冲区。

如果您使用原始字符串并将 r"\t" 之类的模式传递给 RegEx 解析器，Python 不会进行任何解释，它会创建一个包含两个字节的缓冲区：'\' 和 't'。（0x5c，0x74）。

RegEx 解析器知道如何处理序列 '\t' - 它会将其与制表符匹配。它还知道如何处理 0x09 字符——它也匹配一个制表符。在大多数情况下，结果将无法区分。

因此，了解正在发生的事情的关键是认识到这里使用了两个解析器。第一个是 Python 解析器，它将您的字符串文字（或原始字符串文字）转换为字节序列。第二个是 Python 的正则表达式解析器，它将字节序列转换为已编译的正则表达式。

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2012-10-13T07:49:01.590

使用普通字符串编写包含 a 的正则表达式的问题`\`是您最终不得不`\\`为每个`\`. 所以字符串文字`"stuff\\things"`和`r"stuff\things"`产生相同的字符串。如果您想编写与反斜杠匹配的正则表达式，这将特别有用。

使用普通字符串，匹配字符串的正则表达式`\`将是`"\\\\"`!

为什么？因为我们必须转义`\`两次：一次用于正则表达式语法，一次用于字符串语法。

您可以使用三引号来包含换行符，如下所示：

```
r'''stuff\
things''' 
```

请注意，通常，python 会将`\`-newline 视为行继续，但在原始字符串中并非如此。另请注意，反斜杠仍会转义原始字符串中的引号，但会保留在其自身中。所以原始字符串文字`r"\""`产生了​​字符串`\"`。这意味着您不能以反斜杠结束原始字符串文字。

有关更多信息，请参阅[Python 文档的词法分析部分](http://docs.python.org/reference/lexical_analysis.html)。

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2012-12-12T13:06:00.147

您似乎在为 RegEx 不是 Python 的一部分，而是一种具有自己的解析器和编译器的不同编程语言的想法而苦苦挣扎。原始字符串可帮助您将 RegEx 的“源代码”安全地提供给 RegEx 解析器，然后解析器将为诸如`\d`, `\w`,`\n`等字符序列分配含义......

问题的存在是因为 Python 和 RegExps`\`用作转义字符，顺便说一下，这是一个巧合 - 有些语言带有其他转义字符（例如换行符的“`n”，但即使在那里你也必须使用“\n”在正则表达式中）。优点是您不需要区分这些语言中的原始字符串和非原始字符串，它们不会同时尝试转换文本并对其进行处理，因为它们对不同的转义序列做出反应。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-12-14T16:05:34.967

相关的 Python 手册部分（“字符串和字节文字”）对原始字符串文字有明确的解释：

> 字符串和字节文字都可以选择以字母“r”或“R”作为前缀；此类字符串称为原始字符串，并将反斜杠视为文字字符。因此，在字符串文字中，原始字符串中的 '\U' 和 '\u' 转义不会被特殊处理。鉴于 Python 2.x 的原始 unicode 文字的行为与 Python 3.x 的不同，不支持 'ur' 语法。
> 
> 3.3 版中的新功能：添加了原始字节文字的“rb”前缀作为“br”的同义词。
> 
> 3.3 版中的新功能：重新引入了对 unicode 传统文字 (u'value') 的支持，以简化双 Python 2.x 和 3.x 代码库的维护。有关详细信息，请参阅 PEP 414。
> 
> 在三引号字符串中，允许（并保留）未转义的换行符和引号，除非一行中的三个未转义的引号终止字符串。（“引号”是用于打开字符串的字符，即 ' 或 "。）
> 
> 除非存在 'r' 或 'R' 前缀，否则字符串中的转义序列将根据与标准 C 使用的规则类似的规则进行解释。可识别的转义序列是：
> 
> 转义序列含义注释
> 
> \newline 反斜杠和换行符被忽略
> \ 反斜杠 ()
> \' 单引号 (')
> \" 双引号 (")
> \a ASCII Bell (BEL)
> \b ASCII Backspace (BS)
> \f ASCII Formfeed (FF)
> \n ASCII Linefeed ( LF)
> \r ASCII 回车 (CR)
> \t ASCII 水平制表符 (TAB) \v ASCII 垂直制表符 (VT)
> \ooo 八进制值 ooo (1,3)
> 的字符 \xhh 十六进制值 hh (2,3) 的字符
> 
> 仅在字符串文字中识别的转义序列是：
> 
> 转义序列 含义 注释 \N{name} Unicode 数据库中名为 name 的字符 (4) \uxxxx 具有 16 位十六进制值的字符 xxxx (5) \Uxxxxxxxx 具有 32 位十六进制值的字符 xxxxxxxx (6)
> 
> 笔记：
> 
> 1.  与标准 C 中一样，最多接受三个八进制数字。
>     
>     
> 2.  与标准 C 不同，需要两个十六进制数字。
>     
>     
> 3.  在字节文字中，十六进制和八进制转义表示具有给定值的字节。在字符串文字中，这些转义表示具有给定值的 Unicode 字符。
>     
>     
> 4.  在 3.3 版更改：添加了对名称别名 [1] 的支持。
>     
>     
> 5.  可以使用此转义序列对构成代理对部分的各个代码单元进行编码。需要四个十六进制数字。
>     
>     
> 6.  任何 Unicode 字符都可以通过这种方式编码，但如果 Python 编译为使用 16 位代码单元（默认值），则基本多语言平面 (BMP) 之外的字符将使用代理对进行编码。正好需要八个十六进制数字。
>     
>     
> 
> 与标准 C 不同，所有无法识别的转义序列都保留在字符串中，即，反斜杠保留在字符串中。（此行为在调试时很有用：如果转义序列输入错误，结果输出更容易被识别为损坏。）还需要注意的是，仅在字符串文字中识别的转义序列属于无法识别的字节转义类别文字。
> 
> 即使在原始字符串中，字符串引号也可以用反斜杠转义，但反斜杠保留在字符串中；例如，r"\"" 是由两个字符组成的有效字符串文字：反斜杠和双引号；r"\" 不是有效的字符串文字（即使原始字符串也不能以奇数个反斜杠结尾）。具体来说，原始字符串不能以单个反斜杠结尾（因为反斜杠会转义后面的引号字符）。另请注意，单个反斜杠后跟换行符被解释为这两个字符作为字符串的一部分，而不是作为续行.

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2020-02-12T01:12:03.147

`\n`是 Python 中的转义序列

`\w`是（Python）正则表达式中的特殊序列

他们看起来像在同一个家庭，但他们不是。原始字符串表示法将影响转义序列，但不会影响正则表达式特殊序列。

有关转义序列的更多信息，请搜索“\newline” [https://docs.python.org/3/reference/lexical_analysis.html](https://docs.python.org/3/reference/lexical_analysis.html)

有关特殊序列的更多信息：搜索“\number” [https://docs.python.org/3/library/re.html](https://docs.python.org/3/library/re.html)

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2020-09-11T05:32:42.073

原始字符串不会影响 python 正则表达式中的特殊序列，例如 \w、\d。它只影响转义序列，例如 \n。所以大多数时候我们在前面写 r 与否都没有关系。

我认为这是大多数初学者正在寻找的答案。

# mysql - 我可以在 A 表连接 B 表中插入 2 个值吗？

> ID：12871068
> 
> 赞同：-1
> 
> 时间：2012-10-13T07:43:30.623
> 
> 标签：mysql, sql, join, insert

我有两张桌子：

```
vote('id', 'question_id', 'ip_id') 
```

和

```
ip('id','ip_addr') 
```

我想做这样的事情：

```
INSERT INTO SELECT `vote`.`question_id`, `ip`.`ip_addr` 
            FROM `vote` 
            LEFT JOIN `ip` 
            ON `vote`.`ip_id` = `ip`.`id` VALUES '2','127.0.0.1' 
```

上面的代码不起作用，有什么想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-13T07:51:28.530

的语法`INSERT INTO SELECT`是这样的：

```
INSERT INTO Table2
(Column1, Column3)
SELECT Column1, Column3
FROM Table1 
```

所以你的查询应该是这样的：

```
INSERT INTO <TableName> (`question_id`, `ip_addr`)
            SELECT `vote`.`question_id`, `ip`.`ip_addr` 
            FROM `vote` 
            LEFT JOIN `ip` 
            ON `vote`.`ip_id` = `ip`.`id` 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-13T07:48:28.840

您可以使用以下方法之一将行插入到现有表中：

```
INSERT INTO vote (id, question_id, ip_id)
VALUES (....) 
```

或者

```
INSERT INTO vote (id, question_id, ip_id)
SELECT id, question_id, ip_id 
FROM
    <some existing tables, optionally using joins, where clauses etc., to select the data to insert> 
```

在您的情况下，您似乎试图同时将记录插入`IP`表和`VOTE`表中，这是不可能的。

您应该首先使用上面的第一个语法在 IP 表中插入一条记录，然后`VOTE`使用第二个选项插入到表中。

# jquery-mobile - 如何使用jquery mobile返回不同 设备的页面顶部

> ID：12871069
> 
> 赞同：0
> 
> 时间：2012-10-13T07:43:47.120
> 
> 标签：jquery-mobile

我是 jquery mobile 的新手。我使用从stackoverflow获取的代码。我的问题是，这个解决方案在三星和其他方面运行良好，但在 iphone 和索尼立信中不起作用。请帮助任何人...

我想通过单击链接在页面底部向下滚动时返回页面顶部。

这是我的代码：

```
 <a id="uptotop"  class="ui-btn-right" data-icon="arrow-u" data-theme="a">▲TOPにもどる    </a>
                     <script type="text/javascript">
    $('div').live('pagebeforecreate',function(event, ui){
      $('#uptotop').live('click',function() {
    $('html, body').animate({scrollTop: '0px'}, 800);
           });

         });
</script> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-05T20:28:53.910

使用简单的锚点怎么样？例子：

```
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Test</title>
  <link rel="stylesheet" href="http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.css" />
  <script src="http://code.jquery.com/jquery-1.8.2.min.js"></script>
  <script src="http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.js"></script>
</head>

<body>
  <div data-role="page">
    <div data-role="header">
      <h1><a name="top"></a>Header</h1>
    </div> <!-- /header -->

    <div data-role="content">
      <p>lots of content here...<br>scroll down to find the button...
        <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
        <a href="#top" target="_top" data-role="button">Back to top of page ...</a>
      </p>
    </div> <!-- /content -->
  </div> <!-- /page -->

</body>
</html> 
```

# x11 - X11：如何延迟重绘，直到处理完所有事件？

> ID：12871071
> 
> 赞同：2
> 
> 时间：2012-10-13T07:44:27.150
> 
> 标签：x11, repaint, xlib

我正在编写一个具有 X11/Xlib 接口的程序，我的事件处理循环如下所示：

```
while (XNextEvent(display, &ev) >= 0) {
    switch (ev.type) {
        // Process events
    }
} 
```

问题是当窗口调整大小时，我收到一堆`Expose`事件告诉我要重绘窗口的哪些部分。如果我重绘它们以直接响应事件，则重绘操作会非常滞后，因为它太慢了（调整大小后，我会看到所有新失效的矩形一一刷新。）

我想要做的是记录更新的窗口大小，因为它改变了，并且当没有更多的事件需要处理时，只在整个窗口（或至少只有两个矩形）上运行一个重绘操作。

不幸的是，我看不到这样做的方法。我试过这个：

```
do {
    XPeekEvent(display, &ev);
    while (XCheckMaskEvent(display, ExposureMask | StructureNotifyMask, &ev)) {
        switch (ev.type) {
            // Process events, record but don't process redraw events
        }
    }
    // No more events, do combined redraw here
} 
```

这确实有效，但效率有点低，如果一个我对`XCheckMaskEvent`调用不感兴趣的事件到达，它不会从队列中删除，所以它会停留在那里停止`XPeekEvent`阻塞，导致 100% 的 CPU 使用。

我只是想知道是否有一种标准方法来实现我所追求的延迟/组合重绘？许多 Xlib 事件处理函数似乎是阻塞的，所以如果你想在它们阻塞之前进行一些处理，它们并不适合使用，但前提是它们会阻塞！

* * *

编辑：为了记录，这是我使用的解决方案。这是 nm 的简化版本：

```
while (XNextEvent(display, &ev) >= 0) {
    switch (ev.type) {
        // Process events, remember any redraws needed later
    }
    if (!XPending(display)) {
        // No more events, redraw if needed
    }
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-14T02:21:20.303

FWIW 一个 UI 工具包，比如 GTK+ 就是这样做的：

*   对于每个窗口，维护一个“损坏区域”（所有暴露事件的联合）
*   当损坏区域变为非空时，添加一个“空闲处理程序”，这是一个函数，事件循环将在没有其他事情可做时运行
*   当事件队列为空并且 X 套接字没有可读取的内容（根据`poll()`on `ConnectionNumber(dpy)`）时，空闲处理程序将运行
*   空闲处理程序当然会重新绘制损坏区域

在 GTK+ 中，他们在未来的版本中将其更改为更现代的面向 3D 引擎的方式（清理垂直同步上的损坏区域），但多年来一直以上述相当简单的方式工作。

当翻译成原始 Xlib 时，这看起来像 nm 的答案：当你有损坏区域时重新绘制和`!XPending()`. 所以请随意接受这个答案，我只是想我会添加一些额外的信息。

如果你想要计时器和空闲等东西，你可以考虑像 libev [http://software.schmorp.de/pkg/libev.html](http://software.schmorp.de/pkg/libev.html)它的设计只是在你的应用程序中删除几个源文件（它没有设置成为外部依赖项）。您可以将显示器的文件描述符添加到事件循环中。

为了跟踪损坏区域，人们经常从 X 服务器中的“机器无关”代码中剪切和粘贴文件“miregion.c”。只需在谷歌上搜索 miregion.c 或下载 X 服务器源并寻找它。这里的“区域”只是一个支持联合和相交等操作的矩形列表。要增加伤害，将它与旧区域合并，修复伤害，减去它，等等。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-13T09:02:57.483

尝试以下方法（未经实际测试）：

```
while (TRUE) {
  if (XPending(display) || !pendingRedraws) {
    // if an event is pending, fetch it and process it
    // otherwise, we have neither events nor pending redraws, so we can
    // safely block on the event queue
    XNextEvent (display, &ev);
    if (isExposeEvent(&ev)) {
      pendingRedraws = TRUE;
    }
    else {
      processEvent(&ev);
    }
  }
  else {
    // we must have a pending redraw
    redraw();
    pendingRedraws = FALSE;
  }
} 
```

在进行重绘之前等待 10 毫秒左右可能是有益的。不幸的是，原始 Xlib 没有计时器接口。为此，您需要一个更高级别的工具包（包括 Xt 在内的所有工具包都有某种计时器接口），或者直接使用 X11 连接的底层套接字。

# java - 使用集合查询

> ID：12871077
> 
> 赞同：0
> 
> 时间：2012-10-13T07:45:37.257
> 
> 标签：java, google-app-engine, objectify

我有这个实体，我需要在其中查询：

```
@Entity
public class Resource implements Serializable {   
    @Id    
    private Long id;
    private List<String> key;
} 
```

这是查询：

```
List<String> keyPath = key.getFullPath();
Resource result = ofy().load().type(Resource.class).filter("key =", keyPath).first().get(); 
```

我收到此错误：

```
java.lang.IllegalArgumentException: A collection of values is not allowed.
    at com.google.appengine.api.datastore.DataTypeUtils.checkSupportedValue(DataTypeUtils.java:140)
    at com.google.appengine.api.datastore.Query$FilterPredicate.<init>(Query.java:867) 
```

问题：

*   是否可以使用 List 等集合作为查询值进行查询？
*   是否可以使用 Objectify 查询或本机 Datastore 查询？
*   如果没有，做这种查询的方法是什么

这个想法是查询获得与查询值`Resource`具有相同字符串列表（`key`字段）的实体。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-13T08:15:03.610

你试过`IN`运营商吗？

```
Resource result = ofy().load().type(Resource.class).filter("key IN ", keyPath).first().get(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-07-14T14:34:59.663

这是使用具有列表的属性的单个值（使用 Objectify）从数据存储中检索信息的解决方案，

```
Query<Resource> resultset = ofy().load().type(Resource.class).filter("key",keyPath);
Resource firstResult = resultset.first().now(); 
```

# wordpress - WordPress 永远加载

> ID：12871084
> 
> 赞同：0
> 
> 时间：2012-10-13T07:46:28.537
> 
> 标签：wordpress, load-time

我试图弄清楚为什么这个网站一直在加载，可能是为了回答为什么它加载得很慢（但只是有时，这可能与托管有关）。

[http://nothankstoyouproductions.com/](http://nothankstoyouproductions.com/)

有没有人有任何线索？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-13T14:11:14.670

您正在加载[相当多的资源](http://www.webpagetest.org/result/121013_VW_85W/)，包括 47 个图像、22 个 Javascript 文件和 10 个 CSS 文件。您加载的每个资源都会以两种方式花费您。服务器必须检索和提供文件，并且文件必须通过网络传输，所以我要做的第一件事就是尝试减少原始负载。也就是说，如果可以的话，将你的图像组合成精灵，或者减少图像的数量。结合您的 Javascript 或减少它。不幸的是，其中大部分需要一些技术（PHP/JS/HTML/CSS）能力。

您可以将一些内容添加到您的 .htaccess 文件中，这应该会有所帮助。

鼓励缓存：

```
<FilesMatch "\.(ico|jpg|jpeg|png|gif|swf)$">
    ExpiresActive On
    ExpiresDefault "access plus 2 weeks"
</FilesMatch> 
```

发送压缩文本：

```
SetOutputFilter DEFLATE
SetEnvIfNoCase Request_URI \.(?:gif|jpe?g|png)$ \
    no-gzip dont-vary
SetEnvIfNoCase Request_URI \
    \.(?:exe|t?gz|zip|bz2|sit|rar)$ \
    no-gzip dont-vary
SetEnvIfNoCase Request_URI \.pdf$ no-gzip dont-vary 
```

请注意，其中每一个都需要通用但不通用的 Apache 模块。如果您有问题，请删除其中一个或两个。

我还鼓励您查看[WP Super Cache](http://wordpress.org/extend/plugins/wp-super-cache/)或[W3 Total Cache](http://wordpress.org/extend/plugins/w3-total-cache/)。其中一个或另一个可能对你做的比任何事情都多。缓存插件可能很棘手，并且并不总是与其他插件很好地配合，所以请谨慎行事。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-13T16:56:25.810

**正如s_ha_dum**所指出的，您的网站很重，并且可以受益于浏览器缓存、gzipping 和 WP Super Cache [http://wordpress.org/extend/plugins/wp-super-cache/](http://wordpress.org/extend/plugins/wp-super-cache/) WP Super Cache等良好的缓存插件有自己的 gzip 压缩和压缩插件。（W3 Total Cache 一年没更新了）。

您可以在 Firefox 中使用开发者工具（适用于所有浏览器）或 Firebug [http://getfirebug.com/](http://getfirebug.com/)来查看加载时间过长。

但也要意识到您正在从您无法控制的外部服务器加载大量项目，例如 Facebook、Sharethis 和 Pinterest。如果它们碰巧很慢，或者您的虚拟主机（hostable.com）的带宽碰巧很慢，这将导致网站的持续加载。

最好的办法是找一个有信誉的好房东；这是试图提高网站性能的底线。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-12-29T20:16:07.260

就我而言，我破坏了锚（<a>），这导致了错误：/

# c# - 通过 JSON.NET 或 XML Serializer 使用 BsonDocument 序列化类

> ID：12871086
> 
> 赞同：3
> 
> 时间：2012-10-13T07:46:48.457
> 
> 标签：c#, mongodb, mongodb-.net-driver

我想通过 ApiController 返回以下示例类，它可能只是 JSON.NET 序列化，但我想避免只是将整个类转换为 json 字符串。

```
public class Report
{
    [BsonId, JsonIgnore]
    public ObjectId _id { get; set; }

    public string name { get; set; }

    public BsonDocument layout { get; set; }
} 
```

现在我已经研究了几种方法，但到目前为止只有一种方法有效，即创建第二个类并通过将 layout-property 转换为 json-string 在两者之间手动映射，如下所示：

```
layout.ToJson(); 
```

这似乎不是很优雅，我想知道是否有更好的方法。由于各种原因，以下想法均无效：

```
public class Report
{
    [BsonId, JsonIgnore]
    public ObjectId _id { get; set; }

    public string name { get; set; }

    [JsonIgnore]
    public BsonDocument layout { get; set; }

    [JsonProperty(PropertyName = "layout")]
    public string layout2JSON()
    { 
        return layout.ToJson();
    }
} 
```

或者：

```
public class Report
{
    [BsonId, JsonIgnore]
    public ObjectId _id { get; set; }

    public string name { get; set; }

    public BsonDocument layout 
    { 
        get 
        {
            return layout.ToJson();
        }
        set; 
    }
} 
```

我对 C# 很陌生，可能很容易错过明显的答案。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-13T23:21:05.950

如果我正确理解您的问题，您只是希望将布局作为 JSON 正确吗？我不是 100% 我可以看到你想要实现的输出，但如果是这样，你的第二个代码示例已经非常接近，试试这个；

```
public class Report
{ 
     [BsonId, JsonIgnore]
     public ObjectId _id { get; set; }

     public string name { get; set; }

     [JsonIgnore]
     private BsonDocument layout { get; set; }

     [BsonIgnore]
     [JsonProperty(PropertyName = "layout")]
     public string layout2JSON
     { 
         get { return layout.ToJson(); }
     }
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-18T19:48:32.073

我发现我可以通过将 BSON 文档作为 IDictionaries 直接从 Api 控制器返回它们。您应该能够通过将布局属性声明为 IDictionary 来执行类似的操作。这个技巧让你可以很容易地从 MongoDB 中获取数据，因为还有一个 BsonDocument 构造函数接受一个 IDictionary。

```
 public IEnumerable<IDictionary> Get()
    {
        using (var mongo = new Mongo())
        {
            var collection = mongo.GetCollection<BsonDocument>("Report");

            var cursor = collection.FindAll();
            cursor.SetFields(_summaryFields); 
            int i = 0;
            foreach (var doc in cursor)
            {
                i++;
                yield return doc.ToDictionary();
            }
        }        
    } 
```

# c# - 将 WGS84（度、分、秒）转换为十进制度

> ID：12871087
> 
> 赞同：0
> 
> 时间：2012-10-13T07:46:53.857
> 
> 标签：c#

> **可能重复：**
> [如何在度、分、秒之间转换为十进制坐标](https://stackoverflow.com/questions/8263959/how-to-convert-between-degrees-minutes-seconds-to-decimal-coordinates)

我有**39°07.356"N**和**121°02.482"W**，我需要将其转换为十进制度。任何来源？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-13T08:37:18.947

您可以使用以下函数来执行任务

```
public decimal DmsToDD(double d, double m = 0, double s = 0)
{
    return Convert.ToDecimal((d + (m/60) + (s/3600))*(d < 0 ? -1 : 1));
} 
```

当然，在进行转换之前，您需要检查以确保分钟和秒组件是非负数。

# git - 如何将一组更改从一个 git repro 移动到另一个 - repro 不是克隆

> ID：12871089
> 
> 赞同：0
> 
> 时间：2012-10-13T07:47:00.917
> 
> 标签：git

这是一个有趣的问题……我的机器上有两个 git repro。它们都从另一个源代码控制系统迁移而来，而第一个源代码控制系统并未完全按照应有的方式进行转换。第二个效果更好。

我在第一个复制中有很多更改，我想转移到另一个。虽然两个 repro 之间的代码基本相同，但它们是彼此独立创建的，因此具有不同的历史记录。（代码更改相同，但更改编号和其他元数据完全不同）如何将我的代码移动到新的 git repro？

编辑：我真的不能只是“复制”我的文件，因为这两个 repro 被困在不同的时间点。我的代码“损坏”的重现永远停留在过去。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-13T08:01:13.773

您可以执行历史移植以允许您将历史从“旧”存储库移动到新存储库。

假设您想从`foo`存储库 X 中的分支获取更改，并将其应用于存储库 Y 中的 master。首先，让我们将 X 作为远程添加到 Y，以便我们可以操作两个历史记录：

```
git remote add tmp-X ~/repository-X
git fetch tmp-X 
```

既然这两个历史都在一个存储库中，我们就可以挑选来进行我们想要的更改。假设历史如下所示`master`：

```
commit 0d39ac6df9f5d6e7b50d670d705fa4aae049b70d
Author: Joe User <user@example.com>
Date:   Sat Oct 13 03:55:24 2012 -0400

    Common parent commit 
```

并在`tmp-X/master`：

```
commit be79703c19475118b72655d1ea5d1957f3edea58
Author: Joe User <user@example.com>
Date:   Sat Oct 13 03:57:29 2012 -0400

    Another change I want to keep

commit 2a1e95c6cb458718448581664d9f8e6a0b260968
Author: Joe User <user@example.com>
Date:   Sat Oct 13 03:56:00 2012 -0400

    Change I want to keep

commit 0fdda21de3382acb005e9511e6ce95007f20e687
Author: Joe User <user@example.com>
Date:   Sat Oct 13 03:55:24 2012 -0400

    Common parent commit

    [some kind of junk in the commit message that changes the IDs] 
```

那么我们可以`git checkout master`：

```
git cherry-pick 0fdda21..tmp-X 
```

现在`master`看起来像：

```
commit b2246afa547ee52028331d2aa59400bca1265581
Author: Joe User <user@example.com>
Date:   Sat Oct 13 03:57:29 2012 -0400

    Another change I want to keep

commit da36f4b6728aecfd3da7c63d9b1bd430c864858b
Author: Joe User <user@example.com>
Date:   Sat Oct 13 03:56:00 2012 -0400

    Change I want to keep

commit 0d39ac6df9f5d6e7b50d670d705fa4aae049b70d
Author: Joe User <user@example.com>
Date:   Sat Oct 13 03:55:24 2012 -0400

    Common parent commit 
```

如果您在主线中进行了其他更改，您可能还会发现从`mainline`对应于基本提交（`0fdda21`上面）的历史提交中分支出来，挑选到该分支，然后将此临时分支合并到主线中会很有帮助。

# linux - 如何在 Linux 中计算进程及其所有子进程的 CPU 利用率？

> ID：12871090
> 
> 赞同：10
> 
> 时间：2012-10-13T07:47:03.523
> 
> 标签：linux, cpu-usage

我想知道 Linux 中某个进程和所有子进程在固定时间内的 CPU 利用率。

*更具体地说，这是我的用例：*

有一个等待用户请求执行程序的进程。为了执行这些程序，该进程调用子进程（一次最多 5 个），每个子进程执行其中 1 个提交的程序（假设用户一次提交 15 个程序）。因此，如果用户提交 15 个程序，则将运行 3 批，每批 5 个子进程。子进程在完成程序执行后立即被杀死。

我想知道在执行这 15 个程序期间父进程及其所有子进程的 CPU 利用率百分比。

有没有简单的方法可以使用 top 或其他命令来做到这一点？（或者我应该附加到父进程的任何工具。）

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-10-13T08:27:08.887

`/proc/PID/stat`您可以在 PID 是您的父进程的进程 ID 的位置找到此信息。假设父进程等待其子进程，则可以从*utime*、*stime*、*cutime*和*cstime*计算总 CPU 使用率：

> 运行时间 %lu
> 
> 此进程已在用户模式下调度的时间量，以时钟滴答数衡量（除以 sysconf(_SC_CLK_TCK)。这包括来宾时间、来宾时间（运行虚拟 CPU 所花费的时间，见下文），以便不知道的应用程序的客人时间字段不会从他们的计算中丢失那个时间。
> 
> 时间%lu
> 
> 此进程已在内核模式下调度的时间量，以时钟滴答数衡量（除以 sysconf(_SC_CLK_TCK)。
> 
> 可爱的 %ld
> 
> 此进程的等待子进程已在用户模式下调度的时间量，以时钟滴答数衡量（除以 sysconf(_SC_CLK_TCK)。（另请参见 times(2)。）这包括来宾时间、cguest_time（运行虚拟机所花费的时间） CPU，见下文）。
> 
> cstime %ld
> 
> 此进程的等待子进程已在内核模式下调度的时间量，以时钟滴答数衡量（除以 sysconf(_SC_CLK_TCK)。

有关详细信息，请参见[proc(5) 联机帮助页](http://linux.die.net/man/5/proc)。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-14T13:58:45.820

当然，您可以使用良好的旧 C 以硬核方式做到这一点

find_cpu.c

```
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <unistd.h>

#define MAX_CHILDREN 100

/**
 *  System command execution output
 *    @param <char> command - system command to execute
 *    @returb <char> execution output
 */
char *system_output (const char *command)
{
  FILE *pipe;
  static char out[1000];
  pipe = popen (command, "r");
  fgets (out, sizeof(out), pipe);
  pclose (pipe);
  return out;
}

/**
 *  Finding all process's children
 *    @param <Int> - process ID 
 *    @param <Int> - array of childs
 */
void find_children (int pid, int children[])
{
  char empty_command[] = "/bin/ps h -o pid --ppid ";
  char pid_string[5];

  snprintf(pid_string, 5, "%d", pid);

  char *command = (char*) malloc(strlen(empty_command) + strlen(pid_string) + 1);
  sprintf(command, "%s%s", empty_command, pid_string);

  FILE *fp = popen(command, "r");

  int child_pid, i = 1;
  while (fscanf(fp, "%i", &child_pid) != EOF)
  {
    children[i] = child_pid;
    i++;
  }
}

/**
 *  Parsign `ps` command output
 *    @param <char> out - ps command output
 *    @return <int> cpu utilization
 */
float parse_cpu_utilization (const char *out)
{
  float cpu;
  sscanf (out, "%f", &cpu);
  return cpu;
}

int main(void)
{
  unsigned pid = 1;

  // getting array with process children
  int process_children[MAX_CHILDREN] = { 0 };
  process_children[0] = pid; // parent PID as first element
  find_children(pid, process_children);

  // calculating summary processor utilization
  unsigned i;
  float common_cpu_usage = 0.0;
  for (i = 0; i < sizeof(process_children)/sizeof(int); ++i) 
  {
    if (process_children[i] > 0) 
    {
      char *command = (char*)malloc(1000);
      sprintf (command, "/bin/ps -p %i -o 'pcpu' --no-headers", process_children[i]);
      common_cpu_usage += parse_cpu_utilization(system_output(command));
    }
  }
  printf("%f\n", common_cpu_usage);
  return 0;
} 
```

编译：

```
gcc -Wall -pedantic --std=gnu99 find_cpu.c 
```

享受！

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-13T08:39:12.333

可能不是确切的命令。但是您可以执行以下操作来获取各种进程的 cpu 使用情况并添加它。

`#ps -C sendmail,firefox -o pcpu= | awk '{s+=$1} END {print s}'`

/proc/[pid]/stat 进程的状态信息。这被 ps 使用并制成人类可读的形式。

另一种方法是使用 cgroups 并使用 cpuacct。

[http://www.kernel.org/doc/Documentation/cgroups/cpuacct.txt](http://www.kernel.org/doc/Documentation/cgroups/cpuacct.txt)

[https://access.redhat.com/knowledge/docs/en-US/Red_Hat_Enterprise_Linux/6/html/Resource_Management_Guide/sec-cpuacct.html](https://access.redhat.com/knowledge/docs/en-US/Red_Hat_Enterprise_Linux/6/html/Resource_Management_Guide/sec-cpuacct.html)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2015-07-23T11:06:22.447

这是计算所有进程的总 CPU 的单行程序。您可以通过将列过滤器传递到顶部输出来调整它：

```
top -b -d 5 -n 2 | awk '$1 == "PID" {block_num++; next} block_num == 2 {sum += $9;} END {print sum}' 
```

# asp.net-mvc - 我可以在 Razor 视图中使用枚举吗？

> ID：12871092
> 
> 赞同：0
> 
> 时间：2012-10-13T07:47:11.400
> 
> 标签：asp.net-mvc, asp.net-mvc-3

我有以下枚举：

```
namespace Storage.Constants.References { 
    public enum RoleType {
        Guest = 1,
        User = 2,
        Admin = 3,
        Super = 4
    } 
} 
```

以下视图模型：

```
public class   BaseViewModel
{
    public int Role { get; set; }
} 
```

在我的代码中，我有以下内容。请注意，枚举由代码识别。

```
@if (Model.Role >= RoleType.Admin) {
   xx
} 
```

我的代码在运行时失败，并显示以下消息：

错误 CS0019：运算符“>=”不能应用于“int”和“Storage.Constants.References.RoleType”类型的操作数

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-13T07:52:19.747

两种选择。将 RoleType.Admin 转换为 int，因为 RoleType.Admin 是 Enum 类型。

```
@if (Model.Role >= (int)RoleType.Admin) { 
   xx 
} 
```

或者将 BaseViewModel 中的属性设为枚举，因此无需转换：

```
public class   BaseViewModel
{
    public RoleType Role { get; set; }
}
@if (Model.Role >= RoleType.Admin) { 
   xx 
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-13T07:51:01.353

试试这个：

```
@if (Model.Role >= (int)RoleType.Admin) { 
   xx 
} 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-10-13T07:49:49.653

如果您想这样做，则需要在比较时将 RoleType.Admin 转换为 int。

# c++ - 函数指针作为结构的静态成员

> ID：12871095
> 
> 赞同：0
> 
> 时间：2012-10-13T07:47:33.707
> 
> 标签：c++, visual-studio-2010

请看下面结构的定义：

```
struct rectangle
{
   int len,bre;
   static int diagonal;
   static (int) (*ptr) (int,int);
};

int rectangle::diagonal;
rectangle::ptr; // (WHAT SHOULD COME HERE)

rectangle r1,r2; 
```

嗨朋友们，我在这里定义了一个结构。我们知道 'r1' 或 'r2' 的大小只是成员 'len 和 'bre' 的总和。

*现在要为静态成员*分配内存，我们必须明确地进行。静态成员*对角线*的分配很好。但是我应该在这个地方给出什么：（这里应该有什么）以便*函数指针*的内存分配很好。

希望我的解释对你来说很清楚。请帮帮我。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-13T07:58:36.740

最简单的方法是 typedef 一个函数并在那里使用它：

```
typedef int (*MyFunction) (int,int);
struct rectangle
{
    ...
    static MyFunction ptr;
};
MyFunction rectangle::ptr = /*initialize it here*/ 
```

但你也可以这样做 int (*rectangle::ptr)(int,int)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-13T07:54:56.247

下面是正确的方法：

```
struct rectangle
{
...
   static int (*ptr) (int,int);
       // ^^^ no braces needed
};

int (rectangle::*ptr) (int, int);
//   ^^^^^^^^^^^^^^ defining a function pointer 
```

每当有与函数指针相关的混淆时，制作一个`typedef`并使用它：

```
typedef int (*fptr) (int,int);
struct rectangle
{
   static fptr ptr;
};

fptr rectangle::ptr; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-13T07:56:31.810

尝试：

```
struct rectangle
{
   int len,bre;
   static int diagonal;
   static int (*ptr) (int,int);
};

int rectangle::diagonal;
int (*rectangle::ptr)(int,int) = NULL;

rectangle r1,r2 
```

# php - FLASH AS2 和 PHP 变量

> ID：12871098
> 
> 赞同：0
> 
> 时间：2012-10-13T07:47:58.643
> 
> 标签：php, flash

我的 Flash 电影读取数据并将其发送到免费服务器中的 PHP 文件。如果它们以这种方式编写，Flash 从文本文件（由 PHP 文件管理）读取变量值似乎没问题：&variable = value&，我对此没有问题。但是我的 PHP 文件，预处理（通过一些数学函数）由 Flash 发送的数据，然后更新文本文件中的值，这是我的意图，但我无法完成。假设我想更新一个计数器（它计算数据更新的次数）：在我拥有的文本文件中`&counter=0&`（初始值），如果我放入 PHP 文件：

```
<?php
$fp = fopen("jose_stats.txt", "r");// I guess with it, I've read all the variables and values
// one of them is the variable &counter.
fclose($fp);

$toSave = "&counter=&counter+1&\n";

$fp = fopen("jose_stats.txt", "w");
if(fwrite($fp, "$toSave")) { 
  echo "&verify=success&"; //prints to screen &verify=success which flash will read
                          //and store as myVars.verify
   } else { // simple if statement
      echo "&verify=fail&"; //prints to screen &verify=fail which flash will read and
                           //store as myVars.verify
     }
   fclose($fp);

?> 
```

但是然后，我检查了我的文本文件，它有`&counter=&counter+1&`一行:(而不是预期的`&counter =1&`。请给我建议。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-13T08:05:55.393

为什么不使用 JSON？

只需以 JSON 格式存储数据：

```
$count = 1;

$toWrite = array( 'count' => $count );//put other data into this array if you want

//encode it
$toWrite = json_encode( $toWrite );

//and now write the data 
```

要在 Flash 中对其进行解码，请导入 JSON 类：

as2 中使用 JSON.as 类的 JSON 示例：

```
try {
  var o:Object = JSON.parse(jsonStr);
  var s:String = JSON.stringify(obj);
} catch(ex) {
  trace(ex.name + ":" + ex.message + ":" + ex.at + ":" + ex.text);
} 
```

所以只需导入[类](http://inner.geek.nz/uploads/JSON.as)，然后运行`JSON.parse( yourPhpResponse );`。

此外，您`&counter=&`在文本文件中看到的原因是因为您正在这样存储它：`$toSave = "&counter=&counter+1&\n";`.

# javascript - 如何将常规图像显示为圆形图像？

> ID：12871104
> 
> 赞同：1
> 
> 时间：2012-10-13T07:48:45.627
> 
> 标签：javascript, html

所以这就是我想要做的：

![在此处输入图像描述](../Images/6d60370ccf4f6a148ac736a44a591292.png)

我有一个常规的矩形图像，我想显示为圆形图像。我怎样才能做到这一点？

[（图片来源）](http://dribbble.com/shots/512079-Profile-Page)

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-13T10:06:32.757

我希望我做对了：

*   你有一个矩形的非方形图像，像这样

    ![宽度 > 高度](../Images/a7d5d1cbb34233b95378ac556c197c5b.png)

    *（宽度>高度）*或像这样

    ![高度 > 宽度](../Images/c163374c15ef31630a4d6f9c6dcaee91.png)

    *（高度>宽度）*

*   并且你想在不扭曲它的情况下将它显示在一个圆圈中，可能尽可能多地显示它和中心部分，如下所示：

    ![围成一圈](../Images/6e322542cdffe10fcd62fbfcfca526de.png)

* * *

* * *

# 解决方案：

*当你知道图像的大小时，*它真的很简单：你把它放在一个包装器中，给一个包装器 a`width`和 a `height`，它们都等于图像本身的the`width`和 the之间的最小值。`height`然后你给包装器`border-radius: 50%;`和`overflow: hidden;`.

接下来，您定位图像，使中心部分可见。

*   如果`width`图像的 大于其`height` *(风景图像)*，则将其左边距设置为`(height-width)/2`
*   否则，如果`height`图像 id 大于其`width` *(portrait image)*，则将其上边距设置为`(width-height)/2`

## [*演示*](http://dabblet.com/gist/3884031)

相关**HTML**：

```
<a href='#' class='circle-wrap'>
    <img src='image.jpg'>
</a> 
```

*横向*图像的相关**CSS**（尺寸：x ）：*`468px``159px`*

 *```
.circle-wrap {
    overflow: hidden;
    width: 159px; height: 159px; /* height of img */
    border-radius: 50%;
}
.circle-wrap img {
    margin: 0 0 0 -154px; /* (height-width)/2 */
} 
```

* * *

*或者，如果您对图像的方向（纵向或横向）或其尺寸一无所知*，您可以使用 JavaScript 解决方案（我建议这样做是因为您在标签中列出了[javascript](/questions/tagged/javascript "显示标记为“javascript”的问题") ） 。

 *## [*演示*](http://codepen.io/thebabydino/pen/hHnrL)

我使用了一些不同方向尺寸的图像进行测试。一个的**HTML**：

```
<a class='circle-wrap' href='#'>
  <img src='image.jpg'>
</a> 
```

相关**CSS**：

```
.circle-wrap {
  overflow: hidden;
  padding: 0;
  border-radius: 50%;
}
.circle-wrap img { display: block; } 
```

**JavaScript**：

```
var wrps = document.querySelectorAll('.circle-wrap'), 
    toCircle = function(a) {
      var style, w, h, img;
      for(var i = 0; i < a.length; i++) {
        style = window.getComputedStyle(a[i]);
        w = parseInt(style.width.split('px')[0],10);
        h = parseInt(style.height.split('px')[0],10);
        /* part that makes the wrapper circular */
        a[i].style.width = a[i].style.height = Math.min(w,h)+'px';
        /* part that takes care of centering imgs */
        img = a[i].querySelector('img');
        if(w > h)
          img.style.marginLeft = ((h - w)/2) + 'px';
        else if(w < h)
          img.style.marginTop = ((w - h)/2) + 'px';
      }
    };

toCircle(wrps); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-13T07:53:35.197

尝试

```
img { border-radius:50%; } 
```

请注意，图像必须具有相同的宽度和高度才能正常工作。如果图像没有，您也可以使用 CSS 设置宽度和高度。

```
img { border-radius:50%; width:200px; height:200px; } 
```

[**小提琴**](http://jsfiddle.net/ult_combo/nE7BA/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-13T07:56:45.833

你所需要的只是 CSS 来做到这一点：

```
<img class='circle' src='/my/img/path/img.jpg' />

<style type="text/css">
    img.circle {
        -ie-border-radius: 50%;    /* IE */
        -khtml-border-radius: 50%; /* KHTML */
        -o-border-radius: 50%;     /* Opera */
        -moz-border-radius: 50%;   /* Mozilla / FF */
        -webkit-border-radius: 50%;/* Chrome / Safari */
        border-radius: 50%;        /* CSS Compliant */
    }
</style> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-13T07:52:45.910

有一个白色方形图像，中间有一个透明圆圈并覆盖在图像上。**

# joomla - 如何在 Zend Server 上为 Ubuntu Server 开启 CGI/FastCGI？

> ID：12871107
> 
> 赞同：0
> 
> 时间：2012-10-13T07:49:27.547
> 
> 标签：joomla, cgi, fastcgi, zend-server, ubuntu-server

在 Windows 上使用 Zend Server 时，像 Joomla 这样的 CMS 系统运行正常，但是当我在我的实时 Ubuntu Server 上安装默认的 Zend Server CE 时——我的文件权限有问题，可能是因为 CGI/FastCGI 没有运行。**如何在 Ubuntu /Debian 上为 Zend Server 开启 CGI/FastCGI，**使服务器与 CMS 系统更兼容？在我的 Windows 行的 PHP 信息中出现：服务器 API：CGI/FastCGI

Ubuntu Server
Server API 上的 PHP 信息：Apache 2.0 Handler
PHP Version 5.3.14
Zend Server Community Edition 5.6.0
Server Software Apache/2.2.22 (Ubuntu)
Zend Framework 1.12.0

有什么建议吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T20:54:16.700

您可能会发现这些信息： [为某个虚拟主机启用 FastCGI](http://www.mwop.net/blog/243-Running-mod_php-and-FastCGI-side-by-side.html)

# android - 如何将检索到的数据放入字符串数组中

> ID：12871108
> 
> 赞同：-2
> 
> 时间：2012-10-13T07:49:39.987
> 
> 标签：android

我正在开发一个应用程序，它从用户那里获取数据，将数据存储在数据库中。使用游标检索数据，并应将其放入字符串数组中。在检索部分之前我是成功的，但是如何将数据放入字符串数组中？并且在这里使用字符串数组是正确的方法吗？我的意思是不断添加数据并且字符串数组的大小是固定的。不知道在这里做什么，请帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-13T07:59:36.910

好的，在这里[http://www.anddev.org/working%5Fwith%5Fthe%5Fsqlite-database%5F-%5Fcursors-t319.html](http://www.anddev.org/working%5Fwith%5Fthe%5Fsqlite-database%5F-%5Fcursors-t319.html)找到了一个解决方案 ，在这里使用 ArrayList 会有所帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T04:24:38.813

@sam你必须使用你的要求。你可以通过这种方法将你`ArrayList<String>`检索到的数据添加到：`ArrayList`

```
arrayList.add(<ur retrieved string>); 
```

# opencv - Open CV - 减少视频文件大小

> ID：12871109
> 
> 赞同：4
> 
> 时间：2012-10-13T07:49:41.260
> 
> 标签：opencv

我想使用 OpenCV 来获取输入视频，并减小视频的文件大小。

这需要将帧从初始类型转换为某种转换类型。

我可以在 OpenCV 中使用什么转换，以便获取视频的每一帧，减小其大小，然后回写以创建一个减小文件大小的新文件，而不会对视频质量造成太大影响？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-13T07:56:54.763

OpenCV 使用 FFMPEG。查看[此](http://ffmpeg.org/)链接以获取详细说明，您可以独立使用 FFMPEG 而不是 OpenCV。如果您已经有压缩的视频数据，除非您降低质量以减小帧大小，否则您将无法进行太多压缩。

# java - 运算符 == 包装类对象的不同行为

> ID：12871110
> 
> 赞同：10
> 
> 时间：2012-10-13T07:49:45.900
> 
> 标签：java, comparison, integer, equality

任何机构都可以向我解释输出中发生了什么。如果 == 用于比较两个 ref。如果创建静态方法 valueOf() 和 ee==ff 不相等（没关系），如果创建它使用新关键字的对象？

```
static void main(String args[])
{
    Integer aa = Integer.valueOf("12");
    Integer bb = Integer.valueOf("12");
    if(aa==bb)System.out.println("aa==bb");
    if(aa!=bb)System.out.println("aa!=bb");
    Integer ee = new Integer("12");
    Integer ff = new Integer("12");

    if(ee==ff)System.out.println("ee==ff");
    if(ee!=ff)System.out.println("ee!=ff");
} 
```

输出 ：

aa==bb

ee!=ff

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-10-13T07:51:28.483

比较`==`器检查对象是否相等！

由于`Integer.valueOf`维护了一个值为 -128 到 127 的整数对象`valueOf(String)`的缓存返回缓存的对象，因此`==`比较结果为真。

```
Integer a1 = new Integer("12");
Integer b1 = new Integer("12");
//a1 == b1 returns false because they point to two different Integer objects

Integer aa = Integer.valueOf("12");
Integer bb = Integer.valueOf("12");
//aa == bb returns true because they point to same cached object 
```

对于对象值的比较，请始终使用该`.equals`方法，对于 int、long 等原语，您可以使用`==`比较器。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-13T07:51:46.390

因为`Integer.valueOf`维护从`-128`到的整数缓存`127`

这是您的源代码，您可以清楚地`valueOf`看到如果 Integer 值介于`-128``127`

```
public static Integer valueOf(int i) {
    if(i >= -128 && i <= IntegerCache.high)
        return IntegerCache.cache[i + 128];
    else
        return new Integer(i);
} 
```

所以你的`==`回报是真的。如果 value 大于那个值，那么它总是会返回 false。

```
 Integer aa = Integer.valueOf("1200");
    Integer bb = Integer.valueOf("1200");
    aa == bb --> false 
```

您应该始终使用[equals](http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html#equals%28java.lang.Object%29)方法检查相等性

```
ee.equals(ff); 
```

如果您在下面添加另一个 if

```
 if (ee.equals(ff))
        System.out.println("ee equals ff"); 
```

输出将是

```
 ee equals ff 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-13T07:54:05.530

对于 ee 和 ff 的两个对象`Integer`是在堆上创建的，因此它们都引用了不同的对象，因此在使用运算符时它们不相等`==`。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-13T08:01:03.037

`new Integer("12")`创建一个值为 12 的新 Integer 对象。无论您执行多少次，您每次都在创建一个全新的对象。这就是为什么`==`在第二种情况下不起作用。

JVM 为被认为更频繁使用的值（-128 - 127）维护 Integer 对象的缓存。`Integer.valueOf("12")`幕后做同样的事情（`new Integer("12")`），但在做之前，它会检查该缓存是否该值的对象已经存在于缓存中，如果存在，那么这就是它返回的内容，否则它会创建一个新的，将其添加到缓存并返回它。这就是为什么`==`在第一种情况下有效。

此外，对于对象，`==`永远不应该用于相等性检查，而应该只将它们用于身份检查（例如，查看两个不同的变量是否引用同一个对象）。对于相等性检查，请始终使用该`equals`方法。

# android - Windows 7 上用于 Eclipse 的 ADT 插件

> ID：12871112
> 
> 赞同：0
> 
> 时间：2012-10-13T07:49:55.213
> 
> 标签：android, eclipse, adt

嗨，我是 eclipse 和 android 的新手。尝试在我的 Windows 7 笔记本电脑上设置 ADE。Eclipse 工作正常。现在我按照[http://developer.android.com/sdk/installing/installing-adt.html上的程序进行操作](http://developer.android.com/sdk/installing/installing-adt.html)

下载 ADT 插件

```
Start Eclipse, then select Help > Install New Software.
Click Add, in the top-right corner.
In the Add Repository dialog that appears, enter "ADT Plugin" for the Name and the following URL for the Location:

https://dl-ssl.google.com/android/eclipse/

Click OK. 
```

*到目前为止，一切都很好*

```
If you have trouble acquiring the plugin, try using "http" in the Location URL, instead of "https" (https is preferred for security reasons).
In the Available Software dialog, select the checkbox next to Developer Tools and click Next.
In the next window, you'll see a list of the tools to be downloaded. Click Next.
Read and accept the license agreements, then click Finish.
If you get a security warning saying that the authenticity or validity of the software can't be established, click OK.
When the installation completes, restart Eclipse. 
```

在这里我迷路了。当我重新启动 Eclipse 时，ADT 显然不存在，因为 *File->New*下拉菜单下没有*Android App*按钮。

 *谁能告诉我该怎么做才能让它工作？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-13T08:36:05.947

当 Eclipse 重新启动时，您似乎没有看到以下链接提到的欢迎屏幕。 [http://developer.android.com/sdk/installing/installing-adt.html](http://developer.android.com/sdk/installing/installing-adt.html)

您可能需要做的是转到：Window->preferences; 搜索安卓。您应该在本地磁盘上指定 Android SDK 的位置。然后，您可以按照上述链接中详述的其余设置说明进行操作。

希望这可以帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-13T08:04:23.380

尝试

*文件->新建->项目->Android->Android应用项目**

# android - 地理编码不适用于移动设备

> ID：12871116
> 
> 赞同：2
> 
> 时间：2012-10-13T07:50:06.300
> 
> 标签：android, google-maps, google-maps-api-3, geocoding, reverse-geocoding

嗨，在移动应用程序中，我想从 latlong 获取地址。我正在使用以下网址来获取此信息；

```
http://maps.googleapis.com/maps/api/geocode/json?latlng=18.9939817,72.8312086&sensor=true 
```

在计算机浏览器上它工作得很好，但是当我在移动应用程序上尝试它时，我得到的响应是：

```
{"results":[],"status":"REQUEST_DENIED"} 
```

为什么会有任何帮助将不胜感激，在此先感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-14T20:13:15.217

您可以仔细检查您是否已`&sensor=true`附加到请求中？

（问因为`http://maps.googleapis.com/maps/api/geocode/json?latlng=18.9939817,72.8312086`会给你确切的回答）

# selenium - 使用 BDD 加快持续集成过程

> ID：12871117
> 
> 赞同：3
> 
> 时间：2012-10-13T07:50:16.830
> 
> 标签：selenium, continuous-integration, jenkins, cucumber, bdd

我们在持续集成过程中使用 Jenkins 运行 BDD 测试（Cucumber/Selenium）。测试的数量每天都在增加，运行这些测试的时间也越来越长，这使得整个 CI 过程没有真正响应（如果您在下午提交，您可能会冒着第二天看到构建结果的风险）。尽管测试数量不断增加，有没有一种方法/模式可以保持 CI 流程快速？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-13T08:02:20.463

您可以选择以下方案之一：

1.  为单元测试和集成测试分开项目。单元测试将更快地返回结果，并且集成项目将每天运行一次或仅运行几次，而不是在每次提交后运行。缺点很明显，如果集成测试套件中断，则与中断更改没有相关性。
2.  Google 方法 - 根据大小对您的测试进行分类：小型、中型、大型和巨大。根据运行特定测试套件所需的总时间，为每种测试使用单独的项目。您可以在本书中阅读更多[内容](https://rads.stackoverflow.com/amzn/click/com/0321803027)。此外，阅读[此](http://googletesting.blogspot.co.il/2011/01/how-google-tests-software.html#!/2011/01/how-google-tests-software.html)博客以获得更多明智的想法。
3.  尝试分析您当前的测试套件以消除瓶颈。这可能会使其及时返回以提供反馈。

希望有帮助。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-14T16:32:17.277

@Ikaso 在那里给出了一些很好的答案。另一种选择是设置一些[构建从属](https://wiki.jenkins-ci.org/display/JENKINS/Distributed+builds)（如果您还没有的话）并将集成测试拆分为多个可以在从属上并行运行的作业。

# php - 如何通过按数组键的总和排序，对两个 + 一个数组使用 array_multisort？

> ID：12871118
> 
> 赞同：0
> 
> 时间：2012-10-13T07:50:21.937
> 
> 标签：php, arrays, sorting

例如，如果这些是我的数组：

```
array (4) {
  [0] => 6,
  [1] => 7,
  [2] => 8,
  [3] => 9
} 
```

和：

```
array (4) {
  [0] => 10,
  [1] => 1,
  [2] => 3,
  [3] => 5
} 
```

这个数组，我想排序：

```
array (4) {
  [0] => 'foo1',
  [1] => 'foo2',
  [2] => 'foo3',
  [3] => 'foo4'
} 
```

我会得到这个作为最终结果（排序后）：

```
array (4) {
  [0] => 'foo1',
  [1] => 'foo4',
  [2] => 'foo3',
  [3] => 'foo2'
} 
```

这可能吗？请注意，我通过对前两个数组的相同键的总和提供的第三个数组进行排序得到了这个最终数组。

有什么帮助吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-13T07:59:09.527

```
$arr1 = array(6,7,8,9);
$arr2 = array(10,1,3,5);
$arr3 = array('foo1','foo2','foo3','foo4');
$arr = array();

foreach($arr1 as $key => $item){
    $arr[] = $arr1[$key]  + $arr2[$key];
}
arsort($arr);

$res = array();
foreach($arr as $key => $value){
    $res[] = $arr3[$key];
}

print_r($res); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-13T08:07:39.927

你也可以这样尝试

```
$arr1 = array(6,7,8,9);
$arr2 = array(10,1,3,5);
$arr3 = array('foo1','foo2','foo3','foo4');
    foreach($arr1 as $key => $val){
        $arr2[$key] += $arr1[$key];
    }

    $arr = array_multisort($arr2, $arr3);
    $arr3 = array_reverse($arr3);
    print_r($arr3); 
```

# java - cmd中的Java SE错误

> ID：12871126
> 
> 赞同：0
> 
> 时间：2012-10-13T07:51:30.137
> 
> 标签：java

我下载了Java SE Development Kit 7u7，然后尝试在记事本中制作一个简单的程序，看看它是否有效。我编写了程序，将其保存在记事本中。

（注意：当我保存时，我注意到在另存为类型中没有 java 扩展名，所以我只是在程序名称的末尾添加了 .java）

对于这个 java 我尝试使用 cmd 但据我所知，它没有找到它。作为错误，它说我尝试使用的第一个文件的第一个世界“不被识别为内部或外部命令、可运行程序或批处理文件”。我的电脑、java 是否有问题，或者这是否与我使用记事本而不是记事本 ++ 的事实有关，我听说它比更简单的更好？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-13T07:57:23.900

也许记事本将您的文件保存为`YourProgram.java.txt`.

您需要启用“查看扩展”才能看到真正的扩展。这里是如何启用的分步指南：http: [//windows.microsoft.com/en-US/windows-vista/Show-or-hide-file-name-extensions](http://windows.microsoft.com/en-US/windows-vista/Show-or-hide-file-name-extensions)。

> 通过单击**开始**按钮、单击控制面板、单击外观和个性化，然后单击文件夹选项来打开文件夹选项。
> 
> 单击查看选项卡，然后在高级设置下，执行以下操作之一：
> 
> 1.  要**显示文件扩展名**，请**清除**隐藏已知文件类型的扩展名复选框，然后单击确定。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-13T07:57:49.860

Java 源代码文件不可执行。您必须先使用编译它`javac`（这将生成一个`MyClass.class`文件），然后使用`java MyClass`. 这只是非常基本的信息，实际上还有很多内容，但我希望这会给你一个起点。您确实应该查阅有关该主题的在线教程，并且**绝对**应该立即开始使用 Java IDE，例如 Eclipse。使用记事本进行开发实际上比使用 Eclipse 更复杂，尤其是对于初学者而言。

其次，您很可能保存了一个名为`MyClass.java.txt`. 记事本会根据所选文件类型隐式添加扩展名。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-13T08:15:44.550

查看此[视频](http://www.youtube.com/watch?feature=player_detailpage&v=58ZO_NaAOfU)，它是关于在 Windows 7 中设置 java(JDK) 路径的！作为对您的建议，请使用 Eclipse IDE 或任何您喜欢使用的东西！

# android - 使用 NDK 构建时 OpenCV/nonfree/features2d 中未定义

> ID：12871137
> 
> 赞同：1
> 
> 时间：2012-10-13T07:53:20.933
> 
> 标签：android, opencv, android-ndk

我在使用ndk-build的时候，总是出现这个错误，奇怪的是指向opencv库代码。

这是我收到的错误消息：

```
./obj//armeabi/objs/QRCA/QRCA.o: In function `~SURF`:
/----Path---/../sdk/native/jni/include/opencv2/nonfree/features2d.hpp:107: undefined reference to `vtable for cv::SURF`
/----Path---/../sdk/native/jni/include/opencv2/nonfree/features2d.hpp:107: undefined reference to `VTT for cv::SURF`
./obj/local/armeabi/objs/QRCA/QRCA.o: In function `fmatch(std::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::basic_string<char, std::char_traits<char>, std::allocator<char> >):`
/----Path---/jni/QRCA.cpp:28: undefined reference to `cv::SURF::SURF(double, int, int, bool, bool)`
/----Path---/jni/QRCA.cpp:36: undefined reference to `cv::SURF::SURF()`
./obj/local/armeabi/objs/QRCA/QRCA.o: In function `std::vector<cv::KeyPoint, std::allocator<cv::KeyPoint> >::_M_range_check(unsigned int) const:`
~/Downloads/android-ndk-r8b/sources/cxx-stl/gnu-libstdc++/4.6/include/bits/stl_vector.h:780: undefined reference to `vtable for cv::SURF`
~/Downloads/android-ndk-r8b/sources/cxx-stl/gnu-libstdc++/4.6/include/bits/stl_vector.h:780: undefined reference to `VTT for cv::SURF` 
```

这是我的 Android.mk：

```
LOCAL_PATH := $(call my-dir)

include $(CLEAR_VARS)

include ../sdk/native/jni/OpenCV.mk

LOCAL_MODULE    := QRCA
LOCAL_SRC_FILES := QRCA.cpp
LOCAL_C_INCLUDES += $(LOCAL_PATH)
LOCAL_LDLIBS +=  -llog -ldl
LOCAL_WHOLE_STATIC_LIBRARIES := gnustl_static

include $(BUILD_SHARED_LIBRARY) 
```

任何建议都非常感谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-13T08:37:44.883

请在提问之前先谷歌一下。这是答案：

[http://answers.opencv.org/question/445/242-android-missing-nonfree-package/](http://answers.opencv.org/question/445/242-android-missing-nonfree-package/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-05-15T09:11:56.100

我遇到了同样的问题，发现了这个： [http](http://web.guohuiwang.com/technical-notes/sift_surf_opencv_android) ://web.guohuiwang.com/technical-notes/sift_surf_opencv_android （经过另一次检查，上面链接的评论中提到了）

这是关于如何设置它的演练，以便 NDK 可以使用非免费功能。

一般来说，这个想法是从其他发行版复制头文件/代码，然后编译您自己的 libnonfree.so 以使用这些功能。

我现在在我的开发环境中遇到困难，所以我不确定它有多容易，但它似乎已更新并且是解决方案的良好来源。

（我添加了这个答案，以便将它写在与问题相同的页面上，人们不必去其他网站并浏览评论来找到它）

# language-agnostic - 机器学习中不同语言的相对流行度？

> ID：12871139
> 
> 赞同：2
> 
> 时间：2012-10-13T07:53:33.350
> 
> 标签：language-agnostic, matrix, programming-languages, machine-learning

通过询问不同语言的“相对流行度”，而不是询问“什么是最好的语言？” 或者“你最喜欢的语言是什么”，我希望让这个有点客观。

我想要一种用于机器学习/矩阵的语言，即：

*   开源友好（cf matlab）
*   快速用于内部循环（cf python、matlab）
*   矩阵速度快（大多数语言大致相同，因为它们通常可以使用 BLAS）
*   具有简洁易读的语法（cf java）

我目前已经选择了java，因为它在所有方面都很平均，但真的很差，但我不禁感到java越来越过时了，例如没有运算符重载，以及无聊的泛型，所以我想知道不同语言在机器学习中的相对流行度是什么感觉？

我*认为*大多数人使用 C++、matlab 和 python，但只是好奇是否有一些我错过的语言，每个人都在忙着使用，我还没有意识到？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-13T13:22:40.427

当我和朋友一起做机器学习项目时，我选择了[R](http://en.wikipedia.org/wiki/R_%28programming%20language%29)，它是开源的，专为矩阵数学设计，并具有广泛的库支持。它肯定比 Java 更简洁，而且我发现语法令人愉快，但这是一个主观判断。

[根据 Rexer Analytics](http://www.rexeranalytics.com/Data-Miner-Survey-Results-2011.html)的说法，R 是最受欢迎的数据挖掘工具，几乎有一半的受访者都在使用。

（关于 R 的信息很难搜索，所以他们有一个[谷歌前端来搜索它的信息](http://rseek.org/)。）

# delphi - 如何声明数组属性？

> ID：12871142
> 
> 赞同：11
> 
> 时间：2012-10-13T07:53:49.777
> 
> 标签：delphi, oop, delphi-7, delphi-xe2, delphi-2010

我构建了班级系统

```
 TTableSpec=class(Tobject)
  private
    FName : string;
    FDescription : string;
    FCan_add : Boolean;
    FCan_edit : Boolean;
    FCan_delete : Boolean;
    FFields : array[1..100] of TFieldSpec;
  public
    property Name: String read FName;
    property Description: String read FDescription;
    property Can_add : Boolean read FCan_add;
    property Can_edit : Boolean read FCan_edit;
    property Can_delete : Boolean read FCan_delete;
    property Fields : array read FFields;
  end; 
```

因此在 TableSpec Fields 属性中应该是字段列表（我使用了 TFieldSpec 数组）。作为编译的结果，如何组织字段列表（使用或不使用数组）我收到一个错误

```
[Error] Objects.pas(97): Identifier expected but 'ARRAY' found
[Error] Objects.pas(97): READ or WRITE clause expected, but identifier 'FFields' found
[Error] Objects.pas(98): Type expected but 'END' found
[Hint] Objects.pas(90): Private symbol 'FFields' declared but never used
[Fatal Error] FirstTask.dpr(5): Could not compile used unit 'Objects.pas' 
```

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2012-10-13T08:01:12.993

你的线

```
property Fields : array read FFields; 
```

是无效的语法。它应该是

```
property Fields[Index: Integer]: TFieldSpec read GetField; 
```

其中`GetField`是一个（私有）函数，它接受一个整数（the `Index`）并返回相应的`TFieldSpec`，例如，

```
function TTableSpec.GetField(Index: Integer): TFieldSpec;
begin
  result := FFields[Index];
end; 
```

请参阅[有关数组属性的文档](http://docwiki.embarcadero.com/RADStudio/XE3/en/Properties#Array_Properties)。

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2012-10-14T11:03:33.043

我同意 Andreas 给出的关于 INDEXED 属性的答案是发布者正在寻找的解决方案。

为了完整起见，对于未来的访问者，我想指出一个属性可以有一个数组类型，只要该类型被命名。这同样适用于记录、指针和其他派生类型。

```
type
  tMyColorIndex = ( Red, Blue, Green );
  tMyColor = array [ tMyColorIndex ] of byte;

  tMyThing = class
    private
      fColor : tMyColor;
    public
      property Color : tMyColor read fColor;
  end; 
```

# python - 无法使用 python 使用 cronjob 重新启动 squid

> ID：12871143
> 
> 赞同：1
> 
> 时间：2012-10-13T07:54:02.717
> 
> 标签：python, ubuntu, cron, squid

我写了一个简单的python脚本来检查squid是否正常工作

/脚本/代理检查器

```
 #!/usr/bin/python
import urllib2
import sys, os, time
import socket
socket.setdefaulttimeout(5)
proxy_support = urllib2.ProxyHandler({'http': 'http://127.0.0.1:3128/'})
opener = urllib2.build_opener(proxy_support)
urllib2.install_opener(opener)
try:
        response = urllib2.urlopen('http://python.org/')
        html = response.read()
except:
    #os.system("/etc/init.d/squid3 stop");
    #os.system("/etc/init.d/squid3 start");
    os.system("/etc/init.d/squid3 restart");
    #os.system("service squid3 restart"); 
```

我关闭了 squid，并手动执行了这个脚本“/scripts/proxychecker”，它确实调出了 squid，但是如果我将此脚本添加到 cron 作业中： */1 * * * * /scripts/proxychecker >/root/debug.txt

它不起作用，并且从 /root/debug.txt 中显示“由于您尝试调用的脚本已转换为 Upstart 作业，您还可以使用 start(8) 实用程序，例如 start squid3”

我不认为这是鱿鱼没有被养大的原因

因为我已经将命令更改为波纹管，但仍然没有工作

```
 #os.system("/etc/init.d/squid3 stop");
    #os.system("/etc/init.d/squid3 start");
    os.system("/etc/init.d/squid3 restart");
    #os.system("service squid3 restart"); 
```

这是一个奇怪的问题

cron也是由root创建的，这个脚本也由root执行，权限不应该是原因

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-13T09:36:42.860

使用`restart squid`而不是`service squid restart`.

# jacob - 调度未连接到 Windows 内存

> ID：12871152
> 
> 赞同：1
> 
> 时间：2012-10-13T07:55:13.013
> 
> 标签：jacob

有时我会收到错误（异常）：

```
java.lang.IllegalStateException: Dispatch not hooked to windows memory 
```

这是什么意思？如何预防？

这是导致此错误的示例代码：

```
import com.jacob.activeX.*;
import com.jacob.com.*;

public class Hooked {

  public static void main(String[] args) {
    ActiveXComponent e = new ActiveXComponent("Excel.Application");
    ActiveXComponent sh = new ActiveXComponent(
      e.getProperty("ActiveSheet").toDispatch());
    System.out.println(sh.getPropertyAsString("Name"));
  }

} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-15T06:25:16.553

这意味着`Dispatch` `= nothing`使用 vba 语法，它是空的。与您收到的相同调度`new Dispatch()`。不幸的是，Jacob 1.17 没有提供任何方法来明确检查 是否`Dispatch`为空。所以我看到了 3 种可能的解决方案：

1)在从 COM 调用接收到 Variant 之后**使用`Variant.isNull()`**，然后将其转换为 Dispatch。所以它需要额外的 1 行：

```
 Variant vsh = e.getProperty("ActiveSheet");
  if (vsh.isNull()) {
    System.out.println("Null dispatch received.");
  }
  ActiveXComponent sh = new ActiveXComponent(vsh.toDispatch()); 
```

2）第一次使用可疑Dispatch时**捕获。`IllegalStateException`**

3）**编写自定义`isNull(Dispatch d)`函数**

```
public static boolean isNull(Dispatch d)
{
  try {
    Dispatch.call(d, "");
  }
  catch (IllegalStateException ise) {
    return true;
  }
  catch (ComFailException cfe) {
    // that's ok, we didn't expect this call to succeed
  }
  return false;
} 
```

在问题的具体示例中，调用只是一个错误，因为如果没有打开或创建工作簿，Excel 就没有 ActiveSheet。

# python - 管理 URL 的参数（Python Flask）

> ID：12871153
> 
> 赞同：16
> 
> 时间：2012-10-13T07:55:14.640
> 
> 标签：python, flask

我想在我的网站上添加一些搜索功能。在输出页面中，我在单页中获取所有结果。但是，我想将它分发到许多页面（即 100 个搜索/页面）。为此，我在“urlfor”中传递了一些默认搜索，但它不起作用。我知道我犯了一个小错误，但我没有抓住它。

下面是我的代码：

```
@app.route('/', methods=['GET', 'POST'])
def doSearch():
    entries=None
    error=None
    if request.method=='POST':
        if request.form['labelname']:
            return redirect(url_for('show_results',results1='0-100', labelname=request.form['labelname'] ))
        else:
            error='Please enter any label to do search'
    return render_template('index.html',entries=entries, error=error)

@app.route('/my_search/<labelname>')
def show_results(labelname=None, resultcount=None, results1=None):
    if not session.get('user_id'):
        flash('You need to log-in to do any search!')
        return redirect(url_for('login'))

    else:
        time1=time()
        if resultcount is None:
            total_count=g.db.execute(query_builder_count(tablename='my_data',nametomatch=labelname, isextension=True)).fetchall()[0][0]

        limit_factor=" limit %s ,%s"%(results1.split('-')[0],results1.split('-')[1])

        nk1=g.db.execute(query_builder(tablename='my_data',nametomatch=labelname, isextension=True) + limit_factor)
        time2=time()
        entries=[]
        maxx_count=None
        for rows in nk1:
            if maxx_count is None:
                maxx_count=int(rows[0])
            entries.append({"xmlname":rows[1],'xmlid':rows[2],"labeltext":rows[12]})
        return render_template('output.html', labelname=labelname,entries=entries, resultcount=total_count, time1=time2-time1, current_output=len(entries)) 
```

在这里，我想在 URL 上输出“ `http://127.0.0.1:5000/my_search/assets?results1=0-100`” 另外，如果我在浏览器中编辑 url 地址，就像我想要下一个 100 结果一样，我可以在“ `http://127.0.0.1:5000/my_search/assets?results1=100-100`”上得到它

注意：这里我使用 sqlite 作为后端；所以我将`limit_factor`在我的查询中使用“”来限制我的结果。而“ `query_builder`”和“ `query_builder_count`”只是生成复杂sql查询的简单函数。

但我得到的错误是“NoneType”不能拆分。它停在`"limit_factor"`。

这里的限制因子只是我应用的一个过滤器；但我想应用更多过滤器，例如我想按位置搜索“ `http://127.0.0.1:5000/my_search/assets?results1=0-100&location=asia`”

* * *

## 回答 #1

> 赞同：36
> 
> 时间：2012-10-13T08:08:50.773

函数参数仅映射到路由变量。这意味着在您的情况下，该`show_results`函数应该只有一个参数，那就是`labelname`. 您甚至不必将其默认为`None`，因为它总是必须设置（否则路由将不匹配）。

为了获取查询参数，请使用[`flask.request.args`](http://flask.pocoo.org/docs/api/#flask.Request.args)：

```
from flask import request

@app.route('/my_search/<labelname>')
def show_results(labelname=None):
    results1 = request.args.get('results1', '0-100')
    ... 
```

顺便说一句，您最好不要按照您的方式构建 SQL，使用占位符和变量。您的代码容易受到[SQL 注入](http://en.wikipedia.org/wiki/SQL_injection)的攻击。您不能相信来自用户的任何输入。

执行此操作的正确方法取决于实际的数据库，但例如，如果您使用 MySQL，您会这样做（并不是说我没有使用`%`运算符）：

```
sql = ".... LIMIT %s, %s"
g.db.execute(sql, (limit_offset, limit_count)) 
```

# windows - Git Bash 如何在 Git Shell 中显示有关 repo 文件的信息

> ID：12871154
> 
> 赞同：4
> 
> 时间：2012-10-13T07:55:25.730
> 
> 标签：windows, git, git-bash

我正在 Windows 上使用 Git Bash。但在此之前，我使用的是 Git Shell（来自 github）。在 Git Shell 中，这真是太棒了，见下图：

![在此处输入图像描述](../Images/e8c87504da3aa661d32f6198d145d14e.png)

在 Git Shell 中，**我不需要使用`git status`来查看我有多少未跟踪、更改或删除的文件。**Git Shell 在任何命令之后显示该信息。

如何为 Git Bash（在 Windows 上）执行此操作？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-13T11:05:16.307

您可以简单地操纵`PS1`变量，这样的事情可能会帮助您：

```
$ PS1="$PS1 [`git diff --shortstat`]> " 
```

结果应该是这样的：

```
rlegendi@localhost /.../gitrepo (master)
[ 1 file changed, 3 insertions(+)] > 
```

所以基本上你必须将它添加到你的`profile`文件中（通常在你的主目录下`c:\Program Files (x86)\Git\etc`或在你的主目录中的 Git 安装目录中）。这样你就可以创建一个更好的版本。

看看`PROMPT_COMMAND`不同的[git diff 开关](http://www.kernel.org/pub/software/scm/git/docs/git-diff.html)（如`--numstat`等）。

# magento - 无法覆盖 Mage_Sales_Model_Order

> ID：12871155
> 
> 赞同：1
> 
> 时间：2012-10-13T07:55:35.290
> 
> 标签：magento

我在 config.xml 中有这样的部分

```
<global>        
    <models>
        <sales>
            <rewrite>
                <order>Apptha_Reservation_Model_Order</order>                   
            </rewrite>
        </sales>
    </models>
</global> 
```

此外，我已经从这里[http://alanstorm.com/magento_config](http://alanstorm.com/magento_config)下载了 Alan Strom 配置查看器， 但是当我检查 myhost.com/?showConfig=true 时，我没有看到我的新重写规则。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-13T12:30:54.727

当模块配置没有被合并到 Magento 的配置 DOM 中时，有三种可能性：

1.  正在缓存配置。**通过在System > Cache Management**中刷新所有来清除它
***   由于不正确的模块声明或不正确的路径，您的模块的*config.xml没有被解析。**   `global/disable_local_modules`设置为`1`or `true`- 通常，请参阅`app/etc/local.xml`，但唯一确定的方法是检查完整的 DOM。**

 **在 (2) 的情况下，只有在清除配置缓存后才能进行故障排除。然后，检查将模块的*config.xml*文件解析为配置 DOM 的每个条件：

1.  正确的模块声明：名称以“.xml”结尾的文件，其中包含存在于*app/etc/*或*app/etc/modules/*中的有效 XML 语法（按照惯例，它是后者）。
2.  该模块包含如下结构（目前 SO 未正确显示这些；[请参阅 gist](https://gist.github.com/3884487)）：

    真正的本地

3.  根据上述配置，配置文件*必须*位于*app/code/local/Module/Path/etc/config.xml*并且必须包含有效的 XML 语法才能被解析。

如果模块声明和文件路径正确，则可能的罪魁祸首是语法无效。这可以通过设置开发者模式标志并确保 PHP 显示错误来确定（参见*index.php*）。**

# java - java中OOP概念和设计模式的区别（哪个更重要）

> ID：12871156
> 
> 赞同：0
> 
> 时间：2012-10-13T07:55:52.093
> 
> 标签：java, oop, design-patterns

我想知道设计模式和 OOP 概念是否相同。有人刚刚告诉我他们是一样的。大佬们能不能说说两者的区别？在我去 android 开发之前必须先学习什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-13T07:58:03.497

设计模式和 OOP 是不一样的。设计模式是一种经过验证的、久经考验的解决问题的方法。

**编辑**：这个问题总结起来：[OOP 和设计模式有什么关系？](https://stackoverflow.com/questions/478773/how-is-oop-and-design-patterns-related)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-13T08:01:16.757

OOP 是基本的。设计模式 (GoF23) 是实现 OOP 概念的方法。所以你可以先学习 OOP 的概念，比如“SOLID”原理，然后再学习一些更简单的模式，比如“Factory Pattern”、“Builder Pattern”，以了解这些模式是如何反映到 OOP 中的。

# c++ - “主要”的多种定义

> ID：12871157
> 
> 赞同：6
> 
> 时间：2012-10-13T07:55:56.350
> 
> 标签：c++

在学习 C++ 的过程中，我通过实际网站上的 C++ 手册进行学习。我使用 DevC++ 并且遇到了问题，不知道它是否是编译器错误。

我自己一点一点地输入这段代码，因为我觉得它更有效率，并将我自己学到的东西添加到示例中，然后我开始初始化变量。这是 C++ 手册中的代码

```
#include <iostream>

using namespace std;
int main ()
{
    int a=5;     // initial value = 5
    int b(2);    // initial value = 2
    int result;  // initial value undetermined

    a = a + 3;
    result = a - b;
    cout << result;

    return 0;
} 
```

这是弹出一个编译器错误，说““Main”的多个定义”现在这是在实际的 C++ 页面上，所以我猜测它是一个编译器错误。

有人可以为我指出正确的方向，为什么会发生这种情况以及导致此错误的原因是什么。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-13T07:58:48.893

“main”的多个定义表明您对 main 有另一个定义。也许在您项目的另一个 .c 或 .cpp 文件中。您只能拥有一个具有相同名称和签名（参数类型）的函数。此外，main 非常特殊，因此您在项目中只能有一个可用作入口点的 main 函数（没有参数、一个 int 或一个 int 和一个 char**）。

PS 从技术上讲，这是一个链接器错误。这是一个细微的区别，但基本上它抱怨链接器无法确定哪个函数应该是入口点，因为有多个同名定义。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2021-11-25T00:27:28.117

发现我的 tasks.json 文件中有两个文件引用导致了这个错误，这让我花了很长时间才弄清楚。希望这对其他人有所帮助.....见下面的“这里*****”：

```
 "-I/usr/include/glib-2.0",
            "-I/usr/lib/x86_64-linux-gnu/glib-2.0/include",

        //"${file}",           //HERE**********************

            "-lgtk-3",
            "-lgdk-3",
            "-lpangocairo-1.0",
            "-lpango-1.0",
            "-lharfbuzz",
            "-latk-1.0",
            "-lcairo-gobject",
            "-lcairo",
            "-lgdk_pixbuf-2.0",
            "-lgio-2.0",
            "-lgobject-2.0",
            "-lglib-2.0",
        "-o",
        "${fileDirname}/${fileBasenameNoExtension}" //HERE*************

        ], 
```

# css - 没有固定宽度的 div 绕过固定宽度的父级

> ID：12871159
> 
> 赞同：1
> 
> 时间：2012-10-13T07:56:03.867
> 
> 标签：css, html, fixed-width

请考虑我的问题，我想让一系列图像表现得像非破坏性文本，

**父元素**- 它可以是任何元素，它可能有也可能没有固定宽度，所以基本上我不能对它应用任何 CSS。在大多数情况下，它是一个“td”标签。

**child div** - 这应该表现得像一个词，固定宽度无法确定，但具有固定高度作为图像高度，可以应用 css。

**图像**- 这应该像单词中的字符一样，具有固定宽度和与子 div 相同的固定高度。

这是 html 元素的正常盒模型行为，元素内的文本具有固定宽度。

|=======父元素========|
| 一些带有空格的中断文本 |
| 介于两者之间。|
| ***_* __ *_* __ *_* __ *_* __ *_* __ *_* __ *_* __ *_* __ *_* __** |

这是一种无法避免的情况，它会迫使父级增加其固定宽度。

|==============父元素============|
| |=============子 div ================| |
| |SomeUnbreakLongWordHavingNoSpaces| |
| | ***_* __ *_* __ *_* __ *_* __ *_* __ *_* __ *_* __ *_* __ *_* __ *_* __ *_* __ *_* _** | |
| ***_* __ *_* __ *_* __ *_* __ *_* __ *_* __ *_* __ *_* __ *_* __ *_* __*_* __ *_* ___** |

我希望我的图像之间没有空格的行为相同，但它的行为是这样的，

|=======父元素========|
| |=========子 div =========| |
| | |图片| |图片| |图片| |图片| | |
| | |图片| |图片| | |
| | ***_* __ *_* __ *_* __ *_* __ *_* __ *_* __ *_* __ *_* ___****| |
|*****__ *_* __ *_* __ *_* __ *_* __ *_* __ *_* __ *_* __ *_* ___** |*** 

 ***图像和子 div 的高度是固定的，所以基本上任何额外的元素都应该水平向右推，但事实并非如此，请分享你关于这个问题的解决方案。

祝你今天过得愉快 ！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-13T08:09:10.040

不确定它是否有效，但尝试添加`width: 100%; overflow-x: auto;`到 child-div 和`float: left;`图像。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-13T08:11:28.503

检查[模型](http://tinkerbin.com/Von5aiYL)**word-wrap**样式属性 将用于打破单词/内容将样式`word-wrap:break-word;`应用于子 div。***

# javascript - 如何在不使用 jquery 编写某些事件（onclick 等）的情况下从 div 获取值

> ID：12871161
> 
> 赞同：2
> 
> 时间：2012-10-13T07:56:13.773
> 
> 标签：javascript, jquery

我有一些关于如何使用 jquery 从 div 等元素中获取一些值的问题，并且没有在我想要获取该值的 div 上写入 onclick 事件等。

这是我的代码：

```
<!DOCTYPE html>
<html>
<head>
  <script src="http://code.jquery.com/jquery-latest.js"></script>
</head>
<body>
    <div id="test" title="test1">test</div>
    <div id="test2" title="test2">test2</div>
    <script>
        function getVal(attr,value){
            $("#show").text("this "+attr+" have value ="+value);
        }
        $(document).ready(function(){
            $("#test").click(function(){
                getVal("#test",$("#test").attr("title"));
            }); 
        });
    </script>
    <div id="show"></div>
</body>
</html> 
```

通常为了从我单击的 div 中获取一些值，我会在 div 上添加一个 onclick 事件 `<div id='test' onclick="getVal(test)" ></div>` ，它会返回“test”。我在上面写的代码几乎是我想要的，但我遇到的问题是，如果我有很多 div，我怎样才能从我点击的每个 div 中获取值，我只使用 jquery click 函数，我不需要写

```
$("#test").click(function(){
                    getVal("#test",$("#test").attr("title"));
                }); 
$("#test2").click(function(){
                    getVal("#test2",$("#test2").attr("title"));
                });//and so on 
```

这里是我用来实现我想要的代码，使用我放在 div 上的 onclick 事件：

```
 <script type="text/javascript">
                function overlay(rel){
                    var value = rel;
                    $(document).ready(function(){
                        $(".img"+value).click(function(){
                            $(".overlay-bg"+value).fadeIn();
                        });
                        $(".close"+value).click(function(){
                            $(".overlay-bg"+value).fadeOut();
                        })
                    });
                }
            </script>
        <div id="gallery">

                                <img src="http://localhost/wedding/source/gallery/thumb/thumb-a.jpg" class="img1" onclick="overlay(1)" title="photo1" alt="photo1"/> 

                            </div>

                            <div id="overlay-bg" class="overlay-bg1">

                                <div id="overlay"><img src="http://localhost/wedding/source/gallery/a.jpg"/>

                                    <span>photo1</span>

                                    <span style="font-size:0.8em;"><p>photo a</p></span>

                                    <div id="close" class="close1"></div>

                                </div>

                            </div>

<div id="gallery">

                                <img src="http://localhost/wedding/source/gallery/thumb/thumb-b.jpg" class="img2" onclick="overlay(2)" title="photo2" alt="photo2"/> 

                            </div>

                            <div id="overlay-bg" class="overlay-bg2">

                                <div id="overlay"><img src="http://localhost/wedding/source/gallery/b.jpg"/>

                                    <span>photo2</span>

                                    <span style="font-size:0.8em;"><p>photo b</p></span>

                                    <div id="close" class="close2"></div>

                                </div>

                            </div> 
```

我真的很想知道如何解决我的问题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-13T07:59:58.140

将要附加单击事件处理程序的元素提供给同一类。然后使用[类选择器*^([docs])*](http://api.jquery.com/class-selector/)选择所有这些：

```
$('.sharedClass').click(function() {
    getVal(this.id, $(this).attr("title"));
}); 
```

jQuery 会将事件处理程序绑定到每个选定的元素。

[选择元素的方法有很多*^([docs])*](http://api.jquery.com/category/selectors)，按 ID 或类选择只是其中两种。您可能还会发现[jQuery 教程](http://docs.jquery.com/Tutorials%3aGetting_Started_with_jQuery)有助于更好地了解 jQuery 的工作原理。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-13T08:01:07.327

您可以`this`在处理函数中使用关键字，它将指向被点击的元素

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-13T08:01:59.547

这是正确的方法。

将类名放在您的目标上，`div`例如

```
<div id="test" class="clickable" title="test">test</div>
<div id="test2" class="clickable" title="test">test</div>
...
... 
```

然后创建一个选中的 jQuery 事件`class`

```
$('.clickable').click(function(){ ... }); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-13T08:03:30.807

```
<div id="test">harsh</div>

<script>
alert(document.getElementById('test').innerHTML);
</script> 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-13T08:05:02.553

如果您想通过单击每个 div 来调用此函数，请使用：

```
 $("div").click(function(){
                getVal($(this),$(this).attr("title"));
            }); 
```

如果您想为一组 div（但不是全部）调用该函数，请按照@Felix Kling 的建议为这些 div 指定一个类名。

查看[jQuery 选择器](http://api.jquery.com/category/selectors/)以获得更好的想法。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-10-13T08:05:40.403

不确定您要达到的目标。

如果您有多个值，您想如何存储它们？

如果您有一个想要填充的数组，您可以使用 JQuery 选择器上的 each() 函数来遍历所有选定的元素。

像这样：

```
 var values = new Array();

    $(document).ready(function(){
        $('#test1, #test2').each(function(){
            values.push($(this).html());
        });
    }); 
```

如果您不想遍历数组，还可以以关联方式存储值，以使检索更容易一些。例如，您可以使用 'title' 属性的值作为数组中的键。

用这行代码替换 values.push() 行：

```
values[$(this).attr('title')] = $(this).html(); 
```

# android - 如何使用 datepicker android 设置最小-最大年龄限制

> ID：12871173
> 
> 赞同：2
> 
> 时间：2012-10-13T07:58:09.327
> 
> 标签：android, datepicker, date

在我的申请中，我需要将**年龄限制**设置在**7-18 岁**之间。我想显示选项范围有限的日期选择器。

如何使用此代码[DatePicker将同一任务编辑到日期选择器中](http://pastebin.com/ShLKp5US)

我正在使用下面的代码来限制年份，但是当单击“+/-”按钮时，年份可以在限制范围之上/之下进行更改。我希望该用户不能增加或减少日期值。

```
 return new DatePickerDialog(this,
                                mDateSetListener,
                                mYear-7, mMonth, mDay); 
```

请帮助我将生日的日期限制设置在 7-18 岁之间，如果可能的话，设置日期和月份。

另外，如何设置最小年龄限制？

谢谢。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-17T06:28:09.243

经过这么多时间，我终于得到了解决方案。

```
 @Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);

    mDateDisplay = (TextView) findViewById(R.id.dateDisplay);
    mPickDate = (Button) findViewById(R.id.pickDate);

    mPickDate.setOnClickListener(this);

    final Calendar c = Calendar.getInstance();
    mYear = c.get(Calendar.YEAR);
    mMonth = c.get(Calendar.MONTH);
    mDay = c.get(Calendar.DAY_OF_MONTH);

    maxYear = mYear - 7;
    maxMonth = mMonth;
    maxDay = mDay;

    minYear = mYear - 18;
    minMonth = mMonth;
    minDay = mDay;

    // display the current date (this method is below)
    updateDisplay(maxYear, maxMonth, maxDay);

}

private void updateDisplay(int year, int month, int day) {
    // TODO Auto-generated method stub
    mDateDisplay.setText(new StringBuilder()
            // Month is 0 based so add 1
            .append(month + 1).append("-").append(day).append("-")
            .append(year).append(" "));

}

@Override
public void onClick(View v) {
    // TODO Auto-generated method stub
    showDialog(DATE_DIALOG_ID);

}

private DatePickerDialog.OnDateSetListener mDateSetListener = new DatePickerDialog.OnDateSetListener() {

    public void onDateSet(DatePicker view, int year, int monthOfYear,
            int dayOfMonth) {
        /*
         * mYear = year; 
         * mMonth = monthOfYear; 
         * mDay = dayOfMonth;
         */
        // updateDisplay();

        if (year > maxYear ||monthOfYear > maxMonth && year == maxYear||
                 dayOfMonth > maxDay && year == maxYear && monthOfYear == maxMonth){

            view.updateDate(maxYear, maxMonth, maxDay);
            updateDisplay(maxYear, maxMonth, maxDay);

        }
        else if (year < minYear ||monthOfYear < minMonth && year == minYear||
                 dayOfMonth < minDay && year == minYear && monthOfYear == minMonth) {

            view.updateDate(minYear, minMonth, minDay);
            updateDisplay(minYear, minMonth, minDay);
        }
        else {

            view.updateDate(year, monthOfYear, dayOfMonth);
            updateDisplay(year, monthOfYear, dayOfMonth);
        } 

    }
};

@Override
protected Dialog onCreateDialog(int id) {
    switch (id) {
    case DATE_DIALOG_ID:
        return new DatePickerDialog(this, mDateSetListener, mYear - 7,
                mMonth, mDay);
    }
    return null;
}
 } 
```

# sql - 这个 ALTER TABLE 语句有什么问题？

> ID：12871174
> 
> 赞同：2
> 
> 时间：2012-10-13T07:58:19.667
> 
> 标签：sql, sql-server, sql-server-2008

我写了一条 SQL 语句来在我现有的表中添加一些列`Company`，但这会导致错误。

这是我的声明：

```
ALTER TABLE Company add(id3 int , id4 int, id5 int  , pjid int , ssid int , 
    searchkeyword1 nvarchar(max) ,searchkeyword2 nvarchar(max) ,
    searchkeyword3 nvarchar(max) ,searchkeyword4 nvarchar(max) ); 
```

谢谢 ，

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-13T07:58:50.450

省略括号：

```
ALTER TABLE Company add id3 int , id4 int, ... ; 
```

# android - 如何在 android 的视频视图中播放位于某个 URL 位置的视频？

> ID：12871180
> 
> 赞同：3
> 
> 时间：2012-10-13T07:58:51.057
> 
> 标签：android, mobile, permissions, youtube-api, android-videoview

我正在尝试在视频视图中播放 youtube 视频，但一直出错（无法播放此视频）（在设备上以及在模拟器上）。请帮我解决这个问题。提前致谢。

```
import android.app.Activity;
import android.net.Uri;
import android.os.Bundle;
import android.widget.VideoView;

public class AndroidVideoView extends Activity {

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);
    VideoView myVideoView = (VideoView) findViewById(R.id.videoview);

    String viewSource = "rtsp://v2.cache8.c.youtube.com/CjYLENy73wIaLQndUnGVjs340xMYDSANFEIJbXYtZ29vZ2xlSARSBXdhdGNoYJP8mrqSz625UAw=/0/0/0/video.3gp";
    myVideoView.setVideoURI(Uri.parse(viewSource));
    myVideoView.requestFocus();
    myVideoView.start();

} 
```

}

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T10:24:03.620

1）视频不会在模拟器上缓冲，因为它是虚拟设备。您应该使用真实设备的顺序流视频

2) 您必须提供此权限，因为如果没有互联网连接，我们将无法连接到 YouTube 服务器

```
 <uses-permission android:name="android.permission.INTERNET" /> 
```

3)请验证您的 RTSP 链接。下面给出的是我的[YouTube 视频的 rtsp 链接](http://www.youtube.com/watch?v=sMM0R19IisI)

```
"rtsp://v1.cache6.c.youtube.com/CiILENy73wIaGQnCikhfRzTDsBMYDSANFEgGUgZ2aWRlb3MM/0/0/0/video.3gp"; 
```

生成 rtsp 链接 使用这个

```
http://gdata.youtube.com/feeds/mobile/videos/"+Video Id+" 
```

在我的情况下`Video Id`是`sMM0R19IisI`

我的代码

```
public class MainActivity extends Activity {

String SrcPath = "rtsp://v1.cache6.c.youtube.com/CiILENy73wIaGQnCikhfRzTDsBMYDSANFEgGUgZ2aWRlb3MM/0/0/0/video.3gp";//"rtsp://v5.cache1.c.youtube.com/CjYLENy73wIaLQnhycnrJQ8qmRMYESARFEIJbXYtZ29vZ2xlSARSBXdhdGNoYPj_hYjnq6uUTQw=/0/0/0/video.3gp";

@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main); 
    VideoView myVideoView = (VideoView)findViewById(R.id.myvideoview);
    myVideoView.setVideoURI(Uri.parse(SrcPath));
    myVideoView.setMediaController(new MediaController(this));
    myVideoView.requestFocus();
    myVideoView.start();
   }
} 
```

布局 XML

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
   android:orientation="vertical"
   android:layout_width="fill_parent"
   android:layout_height="fill_parent">

<VideoView
   android:id="@+id/myvideoview"
   android:layout_width="fill_parent"
   android:layout_height="wrap_content" />

</LinearLayout> 
```

# vb.net - 识别元音

> ID：12871191
> 
> 赞同：3
> 
> 时间：2012-10-13T08:00:07.657
> 
> 标签：vb.net

我最近发现很难识别我工作中的元音，我的老师也问我这样做，有没有人有办法做到这一点？...目前我的代码是。

```
Dim mystring As String
Dim isitavowel As Boolean
Dim VOWELCOUNT As Integer

Sub Main()

    Console.WriteLine("Enter the text of your choice here")
    mystring = Console.ReadLine
    VOWELCOUNT = 0
    For i = 1 To mystring.Length

        isitavowel = False
        If mystring(i - 1) = "a" Or mystring(i - 1) = "A" Then isitavowel = True
        If mystring(i - 1) = "e" Or mystring(i - 1) = "E" Then isitavowel = True
        If mystring(i - 1) = "i" Or mystring(i - 1) = "I" Then isitavowel = True
        If mystring(i - 1) = "o" Or mystring(i - 1) = "O" Then isitavowel = True
        If mystring(i - 1) = "u" Or mystring(i - 1) = "U" Then isitavowel = True

        If isitavowel = True Then
            VOWELCOUNT = VOWELCOUNT + 1
        End If

    Next
    Console.WriteLine("That had " & VOWELCOUNT & " vowel's in it")
    Console.ReadLine() 
```

问题是有时它会出现错误。请帮忙！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-13T08:24:30.557

我为你优化了代码。这应该会给你一个快速而好的结果：

```
Private vowels As String = "aeiou"

Sub Main()

    Console.WriteLine("Enter the text of your choice here")
    Dim mystring As String = Console.ReadLine.ToLower
    Dim VOWELCOUNT As Integer = 0

    For Each c As Char In mystring
        If vowels.Contains(c) Then VOWELCOUNT += 1
    Next

    Console.WriteLine("String contained {0} vowels in it", VOWELCOUNT)
    Console.ReadLine()

End Sub 
```

你说你对编码很陌生，所以要通过代码：

*   我们主要定义了一个包含我们想要识别的所有字符的字符串。
*   然后在例程中，我们直接从 ReadLine 初始化它，因为这将返回一个字符串。
*   我们将该字符串小写，以便我们可以检查更少的字符
*   然后一个for-each循环将为我们逐个字符地遍历字符串。
*   我们检查包含元音的字符串是否包含该字符。如果确实如此，它将返回 true。
*   如果为真，那么将允许为元音计数 +1。这里的简短表格与您所做的相同。速度上没有区别，只是写起来更简单。注意：一般我们不需要检查=true（或=false）。我们可以直接使用该值：`If value Then`或`If Not value Then`
*   然后我们通过格式化字符串来呈现结果。{0} 采用我们在逗号后给出的第一个参数（{1} 将采用下一个，依此类推）。
*   通过在例程中本地调暗和初始化，您可以在不重置变量（在本例中为计数器）的情况下重新使用例程。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-13T08:07:09.917

我已经编辑和改进了您的代码，这是我的解决方案，您不应该对此有任何问题。

```
 Module Module1
    Dim kMyString As String
    Dim kVowel As Boolean
    Dim kVowelNumber As Integer
    Dim kAnswer As Integer = 0
    Sub Main()
        Console.ForegroundColor = ConsoleColor.DarkGray
        Console.WriteLine("Enter your sentence below:")
        Console.ForegroundColor = ConsoleColor.DarkCyan
        kMyString = Console.ReadLine
        Console.ForegroundColor = ConsoleColor.DarkGray
        For k = 1 To kMyString.Length
            Console.Write(kMyString(k - 1))
            kVowel = False
            If kMyString(k - 1) = "a" Or kMyString = "A" Then kVowel = True
            If kMyString(k - 1) = "e" Or kMyString = "E" Then kVowel = True
            If kMyString(k - 1) = "i" Or kMyString = "I" Then kVowel = True
            If kMyString(k - 1) = "o" Or kMyString = "O" Then kVowel = True
            If kMyString(k - 1) = "u" Or kMyString = "U" Then kVowel = True

            If kVowel Then
                Console.WriteLine(" is a vowel")
                kAnswer = (kAnswer + 1)
            Else
                Console.WriteLine(" isn't a vowel")
            End If
        Next
        Console.ForegroundColor = ConsoleColor.DarkRed
        Console.WriteLine("There are " & kAnswer & " vowels!")
        Console.ReadLine()
    End Sub
End Module 
```

希望这可以帮助！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-13T08:09:09.390

您可以通过多种方式实现这一目标

*   就像你正在做的那样
*   正则表达式 (RegEx)
*   [LINQ（语言集成查询）](http://msdn.microsoft.com/en-us/library/bb397940.aspx)

但是因为这个作业，你需要阅读最后两个，现在，我只会帮你

```
 For k = 1 To kMyString.Length
    Dim xter = kMyString(k - 1).ToLower  'convert to lowercase
    kVowel = False

    If xter = "a" or xter = "e" or xter = "i" or xter = "o" or xter = "u" Then 
       kVowel = true
       VOWELCOUNT = VOWELCOUNT + 1
    End If
 Next 
```

你的代码现在更短了。或者像有人建议的那样

```
For k = 1 To kMyString.Length
    Dim xter = kMyString(k - 1).ToLower  'convert to lowercase

    If InStr("aeiou", xter) > 0 Then  //"aeiou".Contains(xter)
       VOWELCOUNT += 1
    End If
Next 
```

## LINQ

当您应该显示您的计算时，这看起来就像在考试中使用计算器。可能不适合分配，但以后会帮助你

```
Dim VOWELCOUNT As Integer = kMyString.Count(Function(v) "aeiou".Contains(v)) 
```

# algorithm - 在两个数组中查找所有重复项的算法

> ID：12871193
> 
> 赞同：0
> 
> 时间：2012-10-13T08:00:56.843
> 
> 标签：algorithm

在两个数组中查找所有重复项的最佳算法是什么？

我能想到的是蛮力算法。

直接比较两个数组，一旦找到相同的数字，将其存储在辅助数组中。但时间复杂度为*O* (n ² )。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-13T08:07:27.873

*   将第一个数组的数字添加到哈希结构 (hashset)
*   对于第二个数组中的每个数字，如果在哈希集中，则添加到最终数组，如果不忽略

那将是 O(n+m) （数组的大小）。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-13T08:06:12.497

有一个 O(n log n) 算法。

```
Sort arr1 and arr2 using quick sort or merge sort

i = 0
j = 0
found = 0
while i < arr1.length and j < arr2.length:
      if (arr1[i] == arr2[j])
          found = found + 1
          i = i + 1
          j = j + 1
      else if (arr1[i] < arr2[j])
          i = i + 1
      else
          j = j + 1 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-13T08:07:24.160

对数组进行排序，然后同时遍历两个数组，当当前元素小于另一个时，总是推进一个数组。复杂度：O(nlogn)

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-10-13T08:06:28.137

您可以在 O(n) 时间内识别数组中的重复项。这种方法使用hashmap，这里是伪代码：

```
// a and b are input arrays
HashMap h
for e in a:
    if h[e] == 0:
        h[e]++
for e in b:
    if h[e] != 0:
        h[e]++
for e in h:
    if e > 1:
        print "Duplicate" + e 
```

`Hashmap[Element]`是语法糖，意思是：

使用键 e 获取元素，如果不存在，则使用初始化程序 0 创建它

# java - 如果文本字段为空，如何在文本字段旁边放置星号？

> ID：12871196
> 
> 赞同：0
> 
> 时间：2012-10-13T08:01:03.583
> 
> 标签：java, swing, jtextfield

它将如何运作？如果我按下按钮并且文本字段为空，它将在文本文件旁边显示一个星号。

```
if(txtfname.getText().equals(" ")){
  JOptionPane.showMessageDialog(null, "Missing field");
  jLabel20.setText("*");
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-13T08:03:10.357

```
if(txtfname.getText().trim().isEmpty())//Trim removes unnecessary chars is empty checks for emptyness
//show * 
```

请记住字符串可以生成，因此您还应该`trim()`在之前检查。`null``NullPointerException``null`

# php - mysql PDO 不起作用

> ID：12871204
> 
> 赞同：3
> 
> 时间：2012-10-13T08:01:36.440
> 
> 标签：php, mysql, pdo

我这里有点问题。。

我正在使用 jquery easy UI 从 mysql 获取数据，然后在我的 php 应用程序中编写一个表..

不..问题是..我的代码或我的查询不起作用..

当我使用旧的 mysql_connect 时，我的代码运行良好......但是当我尝试将其写入 mysql 时，我什么也得不到......

这是我的旧代码：

```
$page = isset($_POST['page']) ? intval($_POST['page']) : 1;
    $rows = isset($_POST['rows']) ? intval($_POST['rows']) : 10;
    $offset = ($page-1)*$rows;

    $result = array();

    $conn = mysql_connect('127.0.0.1','root','');
    mysql_select_db('colosus',$conn);

    $rs = mysql_query("select count(*) from user");
    $row = mysql_fetch_row($rs);
    $result["total"] = $row[0];

    $rs = mysql_query("select * from user limit $offset,$rows");

    $rows = array();
    while($row = mysql_fetch_object($rs)){
        array_push($rows, $row);
    }
    $result["rows"] = $rows;

    echo json_encode($result); 
```

及其 PDO 查询代码...

```
$page = isset($_POST['page']) ? intval($_POST['page']) : 1;
    $rows = isset($_POST['rows']) ? intval($_POST['rows']) : 10;
    $offset = ($page-1)*$rows;

    $result = array();

    $rs = $db->query("select count(*) from user");
    $row = $rs->fetch(PDO::FETCH_NUM);
    $result["total"] = $row[0];

    $rs = $db->query("select * from user as u, leveluser as l where u.idLevelUser = l.idLevelUser limit $offset,$rows");

    $rows = array();
    while($row = $rs->fetch(PDO::FETCH_OBJ)){
        array_push($rows, $row);
    }
    $result["rows"] = $rows;

    echo json_encode($result); 
```

最后一个查询（PDO）不起作用..我不知道为什么..有人可以帮助我吗？？？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-13T08:09:43.757

看起来你忘记实例化你的 $db 对象。

试着把这个放在前面`$result = array();`

```
$db = new PDO("mysql:host=127.0.0.1;dbname=colosus", 'root', ''); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-13T08:06:15.900

创建 pdo 连接，如

```
$db = new PDO('mysql:host=localhost;dbname=testdb;charset=UTF-8',
               'username',
               'password', 
               array(PDO::ATTR_EMULATE_PREPARES => false,
                     PDO::ATTR_ERRMODE => PDO::ERRMODE_EXCEPTION)
               ); 
```

尝试查询

```
$query= $db->prepare("select * from user as u,
                       leveluser as l
                       where u.idLevelUser = l.idLevelUser
                       limit $offset,$rows");

$query->execute();
$result=$articlequery->fetch(pdo::FETCH_ASSOC); 
```

# iphone - 无限滚动+iphone

> ID：12871210
> 
> 赞同：0
> 
> 时间：2012-10-13T08:02:44.567
> 
> 标签：iphone, ios, uiscrollview

我想实现一个像无限滚动评级工具这样的轮子，如下图所示。

不，我采取了滚动视图并在滚动视图中设置了橙色图像

```
- (void)viewWillAppear:(BOOL)animated
{  
 UIImageView * headerImage = [[UIImageView alloc] init];
 headerImage.image = [UIImage imageNamed:@"img_2.png"];    
 SCrl_Wheel.backgroundColor = [UIColor colorWithPatternImage:headerImage.image];
 [SCrl_Wheel setContentSize:CGSizeMake(500,0)]; 
 [SCrl_Wheel setShowsHorizontalScrollIndicator:NO]; 
 Lbl_Rate.text=@"0";
 [super viewWillAppear:animated];    
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-13T08:07:30.853

[Apple 有一个名为StreetScroller](http://developer.apple.com/library/ios/#samplecode/StreetScroller/Introduction/Intro.html#//apple_ref/doc/uid/DTS40011102)的无限滚动示例项目，它演示了`UIScrollView`子类如何在水平方向上无限滚动。`UIScrollView`Github 上还有一个名为[BAGPagingScrollView](https://github.com/bguest/BAGPagingScrollView)的子类，它是分页和无限的，但它有一些你必须自己修复的错误，因为它没有处于积极开发中（尤其是 goToPage: 方法会导致问题）。我希望这可以帮助你。

还要检查此链接以便于实施，他们还附有示例代码:)

[http://mobiledevelopertips.com/user-interface/creating-circular-and-infinite-uiscrollviews.html](http://mobiledevelopertips.com/user-interface/creating-circular-and-infinite-uiscrollviews.html)

# javascript - 将选择列表值传递给 jquery 自动完成 php 文件

> ID：12871214
> 
> 赞同：0
> 
> 时间：2012-10-13T08:03:15.410
> 
> 标签：javascript, ajax, jquery-autocomplete

代码中没有错误，但问题是当我从品牌中选择一个选项后输入产品文本时，它应该传递品牌 ID，而不是传递“%”，但我想传递 1,2 或3 无论我选择哪个品牌，都将“%”这个传递给 php 文件。我想知道有没有办法将更改后的品牌 ID 值传递给 php 文件

这是我的代码

```
$().ready(function(){
    $("#product").autocomplete("ajax/php/product_search.php?brands=" + $('#brands').val() +"&",
        {
            width: 260,
            matchContains: true,
            selectFirst: false,
            formatItem: function(data, i, n, value) {   
                return  value.split("|")[0];
            } 
        }
    );           
}); 
```

这是品牌的 html 选择列表

```
<select id="brands" name="brands">
    <option value="%">-- Select --</option>
    <option value="1"> JVC - PLAYER SET </option>
    <option value="2"> CLARION - PLAYER SET </option>
    <option value="3"> DLS </option>
</select> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-13T08:23:09.370

当页面加载时，您正在构建 URL。如果您希望 URL 是动态的，则必须提供一个在请求完成时执行 AJAX 调用的函数。

```
$("#product").autocomplete({
        source: function(request, response) {
           $.getJSON("ajax/php/product_search.php",
                      { brands: $('#brands').val(),
                        term: request.term }, response);
        },
        width: 260,
        matchContains: true,
        selectFirst: false,
        formatItem: function(data, i, n, value) {   
            return  value.split("|")[0];
        } 
    }
); 
```

# mysql - Windows XP localhost 作为 MySQL 服务器别名

> ID：12871222
> 
> 赞同：1
> 
> 时间：2012-10-13T08:05:12.333
> 
> 标签：mysql, windows-xp, hostname

我现在在路上，只是有一个想法

我有一个安装了 Delphi 的 Windows XP 虚拟机和一个本地 MySQL 服务器，并在办公室设置了“实时”数据库的副本。

如果我离线，我希望能够使用本地数据库代替“实时”数据库。

目前在 Delphi 中，我设置了“本地”连接，但这些只是 Delphi 中的任何用途。如果我回到办公室时忘记切换回实时连接，通常会导致问题。

如果本地 MySQL 服务器无法访问办公室服务器，有什么方法可以让 Windows 认为它​​实际上是办公室服务器？它可以欺骗两个服务器名称吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-13T08:07:14.650

您可以编辑允许您提出任何请求的`hosts`文件`c:\windows\system32\drivers\etc\hosts``server.fqdn``127.0.0.1`

[http://kb.simplywebhosting.com/idx/0/045/article/](http://kb.simplywebhosting.com/idx/0/045/article/)

`servername.domain.tld`例如，使用 MySQL 连接字符串的请求将重定向到您的本地数据库。

当你到达办公室时，你仍然需要记住把它改回来......

（如果您的笔记本电脑上有 delphi，为什么不创建一个简单的服务来根据服务器是否可访问来编辑主机文件。）

# php - 如何使用 WordPress 插件正确格式化 Feed 输出

> ID：12871223
> 
> 赞同：0
> 
> 时间：2012-10-13T08:05:18.143
> 
> 标签：php, wordpress, validation, rss, feed

以下示例插件可让您访问自定义提要 url 并输出自定义 rss 内容。在这种情况下，URL 是 *http:///?feed=custom_user_feed*。问题在于它的格式不正确，谷歌浏览器无法将其识别为提要。IE 和 Firefox 则相反。

```
/* Plugin Name: Sample Custom User Feed  */

add_action('init', array(new custom_user_feed, "add_feed"));

class custom_user_feed {

    protected $feed_query = 'custom_user_feed';
    protected $title = 'custom user feed sample';
    protected $link = 'http://www.stackoverflow.com';
    protected $urls = array(
        "http://stackoverflow.com/feeds"
        );
    protected $description = 'this is a sample to demonstrate a custom user feed.';
    protected $language = 'en-us';
    protected $itemlimit = 5;

    function add_feed() {
        add_feed($this->feed_query, array(&$this, "output_rss"));       
    }
    function output_rss() {
        $feed = fetch_feed($this->urls);
        $feed->set_item_limit($this->itemlimit);
        echo '<?xml version="1.0" encoding="UTF-8" ?>';
    ?>          
        <rss version="2.0">
        <channel>
            <title><?php echo $this->title; ?></title>
            <link><?php echo $this->link; ?></link>
            <description><?php echo $this->description; ?></description>
            <language><?php echo $this->language; ?></language>         

            <?php
            foreach($feed->get_items() as $item) {
            ?>              
                <item>
                    <title><?php echo $item->get_title(); ?></title>
                    <link><?php echo $item->get_permalink(); ?></link>
                    <description>
                        <?php echo $item->get_description(); ?>
                    </description>
                </item>

            <?php
            }
            ?>
        </channel>      
        </rss>
    <?php
    }
} 
```

有人能在格式中找到错误吗？谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-13T08:31:14.820

您可能还需要使用`header('Content-Type: text/xml');`...

# javascript - #！链接中的标签和感叹号作为文件夹？

> ID：12871224
> 
> 赞同：13
> 
> 时间：2012-10-13T08:05:33.543
> 
> 标签：javascript, jquery, ajax, html

我怎样才能让我的页面显示像grooveshark 页面
[http://grooveshark.com/#!/popular](http://grooveshark.com/#!/popular)
是否有教程或知道如何通过jQuery 或JavaScript 显示页面的方法？

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2012-10-13T08:18:07.630

url 中的哈希和感叹号称为 hashbang，通常用于 javascript 负责实际加载页面的 Web 应用程序中。哈希后的内容永远不会发送到服务器。例如，如果您有 url `example.com/#!recipes/bread`。在这种情况下，example.com 上的页面将从服务器获取，这可能包含一段 javascript。然后，此脚本可以从 读取`location.hash`并加载页面`/recipes/bread`。

Google 也将此 URL 方案识别为 AJAX url，并将尝试从服务器获取内容，因为它将由您的 javascript 呈现。如果您打算使用这种技术创建网站，请查看[google 的 AJAX 网站管理员抓取文档](https://developers.google.com/webmasters/ajax-crawling/docs/getting-started)。另外请记住，您不应该依赖启用 javascript，因为[Gawker 是通过艰难的方式学习的。](http://www.webmonkey.com/2011/02/gawker-learns-the-hard-way-why-hash-bang-urls-are-evil/)

hashbang 在很多站点中都将不再使用，即使 javascript 进行路由也是如此。这是可能的，因为所有主流浏览器都支持[历史 API](https://developer.mozilla.org/en-US/docs/Web/API/History_API)。为此，他们使网站上的每个路径都返回相同的 Javascript，然后查看实际的 url 以加载内容。当用户点击链接时，Javascript 会拦截点击事件，并使用 History API 将新页面推送到浏览器历史记录中，然后加载新内容。

# c# - ASP.NET 对象引用未设置为对象的实例

> ID：12871226
> 
> 赞同：0
> 
> 时间：2012-10-13T08:05:52.320
> 
> 标签：c#, asp.net

我在本地没有问题。但我在上传的网站中收到此错误：

> 你调用的对象是空的。

在[这个](http://support.microsoft.com/kb/810098)链接中，它说这是 ADO 的一个错误，但我没有在我的代码中使用 ADO。

这是我的代码：

```
 SqlConnection sc = new SqlConnection();
        sc.ConnectionString = MyConnectionString;
        sc.Open();
        SqlCommand scm = new SqlCommand(INSERT COMMAND);
        scm.Connection = sc;
        scm.ExecuteNonQuery();
        sc.Close(); 
```

我把上面的代码放在`USING`语句中，没有任何改变。

这是我的堆栈跟踪

> NullReferenceException：对象引用未设置为对象的实例。]
> Register.BtnRegister_Click(Object sender, ImageClickEventArgs e) +601
> System.Web.UI.WebControls.ImageButton.OnClick(ImageClickEventArgs e) +115
> System.Web.UI.WebControls .ImageButton.RaisePostBackEvent(String eventArgument) +120
> 
> System.Web.UI.WebControls.ImageButton.System.Web.UI.IPostBackEventHandler.RaisePostBackEvent(String eventArgument) +10
> System.Web.UI.Page.RaisePostBackEvent(IPostBackEventHandler sourceControl, String eventArgument) +13
> System.Web.UI.Page .RaisePostBackEvent(NameValueCollection postData) +36
> System.Web.UI.Page.ProcessRequestMain(布尔includeStagesBeforeAsyncPoint，布尔includeStagesAfterAsyncPoint) +5563

这是`BtnRegister_Click`代码：

```
 protected void BtnRegister_Click(object sender, ImageClickEventArgs e)
    {
    if (TxtName.Text == "" || TxtFamily.Text == "" || txtNationalCode.Text == "" || TxtIdNumber.Text == "" || txtMobile.Text == "" || TxtEmail.Text == "" || txtAddress.Text == "" || TxtSecurityCode.Text == "")
    {
        LblMsg.Text = "You should fill all fields";
        return;
    }

    if (txtNationalCode.Text.Length != 10)
    {
        LblMsg.Text = "National code must have 10 digits";
        return;
    }

    if (txtMobile.Text.Length != 11)
    {
        LblMsg.Text = "Mobile number should have 11 digits";
        return;
    }

    if (T_Paticipant.GetDataByNationalCode(txtNationalCode.Text).Rows.Count > 0)
    {
        LblMsg.Text = "This national code used before";
        return;
    }

    if (T_Paticipant.GetDataByEmail(TxtEmail.Text).Rows.Count > 0)
    {
        LblMsg.Text = "This email used before";
        return;
    }

    LblMessage.Text = "Are you sure to register?";
    LblFlag.Text = "0";

    //captcha

    if (this.Session["CaptchaImageText"].ToString().ToLower() == TxtSecurityCode.Text.ToLower())
    {
        Page.ClientScript.RegisterStartupScript(this.GetType(), "showMessage()", "<script>ShowMessage() </script>");
    }
    else
    {
        LblMsg.ForeColor = System.Drawing.Color.Red;
        LblMsg.Text = "Security code is wrong";
    }
    //end captcha
} 
```

谢谢你的帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-13T08:07:10.620

`connectionstring`在打开之前设置第一个

```
 SqlConnection sc = new SqlConnection();
    sc.ConnectionString = MyConnectionString
    SqlCommand scm = new SqlCommand(INSERT COMMAND);
    scm.Connection = sc;           // missing this.
    sc.Open();
    scm.ExecuteNonQuery();
    sc.Close(); 
```

或者

```
using (SqlConnection conn = new SqlConnection("connectionstringhere"))
{
    using (SqlCommand comm = new SqlCommand())
    {
        comm.Connection = conn;
        comm.CommandText = "your query";
        comm.CommandType = CommandType.Text;
        // comm.Parameters.AddWithValue("@paramName","value"); // if you have parameters
        try
        {
            conn.Open();
            comm.ExecuteNonQuery();
        }
        catch(SqlException ex)
        {
            // error here
            // ex.Message.Tostring  // holds the error message
        }
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-13T08:12:55.240

它应该是`new SqlCommand(query, sc)`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-13T16:54:04.360

谢谢大家的帮助。发生此错误是因为 a`session`的值为 null 并且`ToString()`方法找不到任何要转换的数据。

# jquery - 在 Chrome 中删除后代目标 dom 时仍会调用 jQuery 委托处理程序，而不是在 Firefox 中

> ID：12871227
> 
> 赞同：2
> 
> 时间：2012-10-13T08:05:53.183
> 
> 标签：jquery, javascript-events

我在 Chrome 中发现了以下行为，而不是在 Firefox 中。

我有一个输入元素，它

*   具有“更改”事件处理程序
*   具有“keydown”事件处理程序，当用户键入退格键且元素内容为无时，该元素将被删除。
*   并且这两个处理程序绑定到一些包装器元素，并且事件处理程序使用 jQuery.on 函数作为委托处理程序附加。

在 Chrome 中，如果我

1）点击输入框，在输入框中输入一些文字，然后聚焦。

*   调用更改事件处理程序。

2) 点击输入框，输入退格键删除所有内容，再次输入删除该输入框。

*   然后，尽管删除了目标输入 dom，但仍会调用更改事件处理程序！！

在 Firefox 中，当由于退格键而删除框时，不会调用更改事件处理程序。

是否仅在我的浏览器中？还是 jQuery 错误？或浏览器实现错误？

我在 jsfiddle 中编写了简化代码.. [http://jsfiddle.net/RbAua/6/](http://jsfiddle.net/RbAua/6/)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-13T09:50:51.360

如果您使用`bind()`更改事件，它会按预期工作，

似乎与`on()`方法有关的错误，这为什么我不明白为什么上次都使用 .on() 即使是单个元素！

    [http://jsfiddle.net/RbAua/9/](http://jsfiddle.net/RbAua/9/)

```
$('#wrap').on('keydown','#input',function(event){
    if(event.keyCode == 8){ // backspace
        if($(this).val().length == 0){
            $(this).remove();
            $('#txt').append('<div> removed! </div>');
            event.preventDefault();
        }
    }
});

$('#wrap #input').bind('change', function(){
    $('#txt').append('<div> changed! to [' + $(this).val() + '] </div>');
}); 
```

调试jquery，我发现如果事件已经用on（）或live（）应用了，那么元素没有缓存的事件数据，所以`CleanData()`不能按预期工作，在这种情况下更奇怪的是FF按预期开箱即用.

我找到了**解决方法**，想法是仅绑定到可见元素，因此在删除之前制作 hide() 将防止更改触发。

```
var onchange = function(e) {
    $('#txt').append('<div> changed! to [' + $(this).val() + '] </div>');
};

$('#wrap').on('keydown', '#input', function(event) {
    if (event.keyCode == 8) { // backspace
        if ($(this).val().length === 0) {
            var that = $(this);

            var onchange1 = onchange;
            that.hide();
            that.remove();
            $('#txt').append('<div> removed! </div>');
            event.preventDefault();
        }
    }
});

$('#wrap').on('change', '#input:visible', onchange);​ 
```

[http://jsfiddle.net/RbAua/12/](http://jsfiddle.net/RbAua/12/)

# r - 从行到单列

> ID：12871229
> 
> 赞同：0
> 
> 时间：2012-10-13T08:05:59.927
> 
> 标签：r, reshape

有许多文件的数据格式如下

```
year Jan Feb Mar ...........Dec
1990 x1  x2   x3           x12    
1991 y1  y2   y3           y12 
```

. .

```
2000 z1 z2 z3             z12 
```

我想转置每一行并将它们堆叠为一列以获得时间序列

```
x1
x2

..
x12
y1
y2
..
y12
z1
.
.
z12 
```

我已经查看了 reshape 包，但不清楚它将如何应用于这个问题。在 R 中这样做有什么想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-13T08:12:41.997

也许`melt()`您正在寻找“reshape2”包中的内容：

```
library(reshape2)
DF <- read.table(header = TRUE, text = "Year Jan Feb Mar 
1990 x1  x2   x3     
1991 y1  y2   y3 ")

DF2 <- melt(DF, id.vars="Year")
DF2[order(DF2$Year), ]
#   Year variable value
# 1 1990      Jan    x1
# 3 1990      Feb    x2
# 5 1990      Mar    x3
# 2 1991      Jan    y1
# 4 1991      Feb    y2
# 6 1991      Mar    y3 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-13T19:17:17.193

假设您的数据被称为`dat`，我想建议：

```
as.vector(t(dat[,-1])) 
```

# android - 将选定的列表视图行图像显示到下一个活动

> ID：12871234
> 
> 赞同：0
> 
> 时间：2012-10-13T08:06:35.520
> 
> 标签：android, android-layout, android-intent, android-emulator, android-listview

我可以使用 xml 解析将选定的列表视图文本发送到另一个活动，但无法将选定的图像提取到下一个活动，我在这里放置我的代码，请找出我没有将图像发送到另一个活动的原因：-

主要活动代码：-

```
list.setOnItemClickListener(new OnItemClickListener() {

                    public void onItemClick(AdapterView<?> parent, View view,

                            int position, long id) {

                          HashMap<String, String> map = pizzaList.get(position);

               Intent in = new Intent(MainActivity.this, SecondActivity.class);

                     in.putExtra(KEY_TITLE, map.get(KEY_TITLE));

                       in.putExtra(KEY_DESCRIPTION, map.get(KEY_DESCRIPTION));    

                        in.putExtra(KEY_THUMB_URL, map.get(KEY_THUMB_URL));

                       in.putExtra(KEY_COST, map.get(KEY_COST));
                        startActivity(in);
                    }

                }); 
```

第二活动代码：-

```
Intent in = getIntent();

   final String title = in.getStringExtra(KEY_TITLE);

   final String description = in.getStringExtra(KEY_DESCRIPTION);

   final String thumb_url = in.getStringExtra(KEY_THUMBURL);

   final String cost = in.getStringExtra(KEY_COST);

   TextView title = (TextView) findViewById(R.id.single_title);

   TextView description = (TextView) findViewById(R.id.single_description);

  TextView cost = (TextView) findViewById(R.id.single_cost);

   ImageLoader imageLoader = new ImageLoader(getApplicationContext());
   ImageView thumb = (ImageView) findViewById(R.id.single_image);

title.setText(title);
description.setText(description);
cost.setText(cost);
imageLoader.DisplayImage(thumb_url, thumb); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-13T08:18:27.157

我认为你`KEY_THUMB_URL`是你的 url 只需在你的第二个 Activity 中调用这个方法这是返回一个位图然后这个位图设置你的图像视图

```
 public static Bitmap loadBitmap(String imgPath) {

        String imgUrlStr = imgPath ;

    Bitmap bitmap = null;
    try {   
        bitmap = BitmapFactory.decodeStream((InputStream)new URL(imgUrlStr).getContent()); 
        }
    catch (MalformedURLException e) { 
        e.printStackTrace();
        } 
    catch (IOException e) { 
        e.printStackTrace();
        } 
    return bitmap;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-13T08:14:39.073

```
final String title = in.getStringExtra(KEY_TITLE);
final String description = in.getStringExtra(KEY_DESCRIPTION);
final String thumb_url = in.getStringExtra(KEY_THUMBURL);
log.i("log_tag","Image URl:"+thumb_url);
final String cost = in.getStringExtra(KEY_COST);

 TextView title = (TextView) findViewById(R.id.single_title);

 TextView description = (TextView) findViewById(R.id.single_description);

 TextView cost = (TextView) findViewById(R.id.single_cost);

 ImageView thumb = (ImageView) findViewById(R.id.single_image);

 title.setText(title);
description.setText(description);
 cost.setText(cost);
 Drawable d = LoadImageFromWebOperations(ImageUrl);
  imageView.setImageDrawable(d);   

     public static Drawable LoadImageFromWebOperations(String url) {
    try {
        InputStream is = (InputStream) new URL(url).getContent();
        Drawable d = Drawable.createFromStream(is, "src name");
        return d;
    } catch (Exception e) {
        return null;
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-13T10:28:54.227

我找到了为什么我没有在下一个活动中获取图像的原因。我犯了一个非常小的错误，请参见下面的行，这是我之前使用的：

```
 final String thumb_url = in.getStringExtra(KEY_THUMBURL); 
```

现在我尝试了：

```
final String imageUri = in.getStringExtra(KEY_THUMBURL); 
```

因为我正在使用这个变量：

```
static final String KEY_THUMBURL = "imageUri"; 
```

# alfresco - 如何在 java 支持的 webscript 中读取资源包

> ID：12871235
> 
> 赞同：1
> 
> 时间：2012-10-13T08:06:50.430
> 
> 标签：alfresco

我想在 java 支持的 webscirpt 中读取属性文件。特别是在java控制器文件中。我可以`message.success`阅读`change-password.get_ja.properties`

```
msg.get("message.success"); 
```

但我不知道如何调用 java 支持的文件。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-13T16:03:07.157

您可能正在寻找的类是[I18NUtil](https://maven.alfresco.com/nexus/content/groups/public/spring-surf-parent/apidocs/org/springframework/extensions/surf/util/I18NUtil.html)，它是 SpringSurf 的一部分，在所有 WebScript 中都可用。

Alfresco [I18N wiki 页面上](https://wiki.alfresco.com/wiki/I18N#Retrieving_localised_strings)有更多关于它及其用途的信息。不过，基本上，在你的 JS webscript 中你可能已经完成了：

```
msg.get("message.success"); 
```

相反，在 Java 中，您将执行以下操作：

```
I18NUtil.getMessage("message.success"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-11-25T14:33:47.013

您还可以在 java 类控制器中使用`getResources().getString("message.success");`

# php - 在我的本地主机 (PHP 5.3.4) 上运行的代码不适用于实时服务器 (PHP 5.2.17) 上的旧 PHP 环境

> ID：12871239
> 
> 赞同：1
> 
> 时间：2012-10-13T08:07:13.663
> 
> 标签：php

这是我在本地主机上运行良好的代码：

```
<?php
$list = array();
array_map(function($var){}, $matches_array_1);
foreach ( $matches_array_1 as $value ) {
    $key = $value['team'];

    if (array_key_exists($key, $list)) {
        $list[$key]['team_points'] += $value['team_points'];
        $list[$key]['team_occurrences'] ++;
    } else {
        $list[$key] = $value;
        $list[$key]['team_occurrences'] = 1;
    }
}
usort($list ,function($a, $b){ $a = $a['team_points'] ; $b = $b['team_points'] ; return ($a == $b) ? 0 : (($a < $b) ? 1 : -1 ) ;});

?> 
```

但是在服务器上它会抛出一个错误：

**解析错误：语法错误，意外的 T_FUNCTION，期待 ')'**

对于这一行：

```
array_map(function($var){}, $matches_array_1); 
```

**我的本地主机 WAMP PHP 版本是 5.4.3**

**我的服务器 PHP 版本是 5.2.17**

我想更改代码，使其适用于两种环境。

感谢您的任何建议。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-10-13T08:09:42.507

从 PHP 5.3.0 开始提供匿名函数。见[http://php.net/manual/en/functions.anonymous.php](http://php.net/manual/en/functions.anonymous.php)

# php - 如何将文件列表作为数组获取，其中键与值相同？

> ID：12871247
> 
> 赞同：1
> 
> 时间：2012-10-13T08:07:54.140
> 
> 标签：php, arrays, file, list

我可以在这方面使用一些帮助。我必须从一个目录中获取文件列表，并将它们作为数组返回，但 key 需要与 value 相同，因此输出将如下所示：

```
array( 
    'file1.png' => 'file1.png', 
    'file2.png' => 'file2.png', 
    'file3.png' => 'file3.png' 
) 
```

我找到了这段代码：

```
function images($directory) {

    // create an array to hold directory list
    $results = array();

    // create a handler for the directory
    $handler = opendir($directory);

    // open directory and walk through the filenames
    while ($file = readdir($handler)) {

        // if file isn't this directory or its parent, add it to the results
        if ($file != "." && $file != "..")
        {
            $results[] = $file;
        }

    }

    // tidy up: close the handler
    closedir($handler);

    // done!
    return $results;
} 
```

它工作正常，但它返回常规数组。

有人可以帮我弄这个吗？

最后还有一个小提示，我只需要列出图像文件（png、gif、jpeg）。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-13T08:10:06.060

更改以下行

```
$results[] = $file; 
```

到

```
$results[$file] = $file; 
```

要限制文件扩展名，请执行以下操作

```
$ext = pathinfo($file, PATHINFO_EXTENSION);
$allowed_files = array('png','gif');
if(in_array($ext,$allowed_files)){
    $results[$file] = $file;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-13T08:11:26.977

这样的事情应该对工作

```
$image_array = [];
foreach ($images as $image_key => $image_name) {
  if ($image_key == $image_name) {
     $image_array[] = $image_name; 
  }
  return $image_array;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-13T08:23:19.750

为什么不使用[glob](http://php.net/manual/en/function.glob.php)和[array_combine](http://php.net/manual/en/function.array-combine.php)？

```
function images($directory) {
   $files = glob("{$directory}/*.png");
   return array_combine($files, $files);
} 
```

*   glob() 根据标准模式（例如 *.png ）获取目录中的文件
*   array_combine() 使用键数组和值数组创建关联数组

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-10-13T08:10:57.667

现在在我的脚本上执行此操作

```
 $scan=scandir("your image directory");
$c=count($scan);
echo "<h3>found $c image.</h3>";
for($i=0; $i<=$c; $i++):
if(substr($scan[$i],-3)!=='png') continue;
echo "<img onClick=\"javascript:select('$scan[$i]');\" src='yourdirectory/$scan[$i]' />";
endfor; 
```

此代码仅列出您目录中的 png 图像。

# qunit - 当我引用 jsUnitMockTimeout.js 时，如何防止 QUnit 测试工具挂起

> ID：12871253
> 
> 赞同：1
> 
> 时间：2012-10-13T08:09:03.810
> 
> 标签：qunit

为什么当我引用以下脚本时——jsUnitMockTimeout.js

QUnit 测试工具只是挂起显示正在运行...

谢谢

# css - 将平板视口设置为 1024 像素，移动设备到设备宽度

> ID：12871259
> 
> 赞同：5
> 
> 时间：2012-10-13T08:09:57.620
> 
> 标签：css, viewport

我有一个桌面宽度 > 980px 和移动宽度 < 768px 的响应式网站。我希望平板电脑以 980 像素的视口查看网站，但移动设备以设备宽度查看。

具体来说，我想要以下内容：

```
width = device width
if width >= 768px
  viewport = 980px
else
  viewport = width 
```

解决这个问题的最佳方法是什么？我不想检查服务器上的用户代理。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-01-25T09:55:08.120

据我了解，您想这样做：

```
$(document).ready(function() {

    // lets push in a viewport 
    var vpw = (screen.width>=768)?'980':'device-width';
    $('head').prepend('<meta name="viewport" content="width='+vpw+'" />');

}); 
```

从我测试的结果来看，这是有效的。（这有点好笑，因为视口是在文档“加载”之后编写的；您可能会在屏幕上看到一点跳跃和 YMMV。）

- 现在编辑我只是在头脑中写下这段代码，就像这样

```
<head>
  <script type="text/javascript">
    var vpw = (screen.width>=768)?'980':'device-width';
    document.write('<meta name="viewport" content="width='+vpw+'" >');
  </script>
</head> 
```

这就是 monaca 所做的，所以我想它可以 [https://github.com/monaca/monaca.viewport.js/tree/master](https://github.com/monaca/monaca.viewport.js/tree/master)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-16T00:46:14.120

您可以使用[视口元标记](https://developer.mozilla.org/en-US/docs/Mobile/Viewport_meta_tag)和[CSS 媒体查询](https://developer.mozilla.org/en-US/docs/CSS/Media_queries)来完成此操作。在您的 HTML 中：

```
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"> 
```

在您的 CSS 中：

```
@media screen and (min-width: 768px) {
    article {
        width: 980px;
        margin: 0 auto;
    }
}​ 
```

JSFiddle[在这里](http://jsfiddle.net/PLrRw/)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2015-03-05T11:12:15.690

用这个：

```
<meta name="viewport" content="width=device-width, initial-scale=1"/> 
```

在 CSS 中

```
.container{
   width: 100%;         /* for mobile */
   max-width: 1024px;   /* for pc and tablet */
} 
```

其余的 css：搜索媒体查询；）

如果您有移动设备，则容器宽度为 100% 全尺寸。但在 pc 中是最大宽度 1024px。因此，您可以使用 css 设计其余的设计。这不需要 javascript 或插件。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-15T13:36:55.600

```
@media only screen and (min-width: 768px) and (max-width: 980px) { ... } 
```

相应调整。本质上，此代码为“中间”设备（如平板电脑）提供了上限和下限值。

您可以通过执行以下操作来收紧该窗口以强制桌面 CSS 或大部分 CSS：

```
@media only screen and (min-width: 800px) and (max-width: 1024px) { ... } 
```

除了做这样的事情之外，您还必须“嗅探”设备，这听起来像是 90 年代（imo——不是那些日子吗？），或者使用视口元数据。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-10-20T08:05:04.507

考虑到移动设备（不是平板电脑）的视口比 768 小得多，为什么不简单地更新您的媒体查询以以更小的尺寸应用更改？IE：

```
@media only screen and (max-width: 480px) { ... } 
```

这样，您的手机样式仅适用于最大宽度为 480 像素的较小设备。

您的桌面站点（现在是平板电脑）站点仍将在这些分辨率之上可见。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-10-19T17:44:38.057

你可以使用 Twitter 引导脚手架 CSS 吗？他们有预先构建的媒体类，你可以稍微调整一下。

[http://twitter.github.com/bootstrap/scaffolding.html](http://twitter.github.com/bootstrap/scaffolding.html)

我认为这部分最适用于您正在谈论的内容

```
/* Portrait tablet to landscape and desktop */
@media (min-width: 768px)  { ... } 
```

此时，您可以使用设置将流体跨度宽度设置为如下所示

```
标签布局宽度 列宽 装订线宽度
默认768px及以上42px 20px
手机到平板电脑 767 像素及以下 流体列没有固定宽度
```

注意：由于您将使用固定列宽，因此 div 不会超出固定列宽。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-10-22T12:23:43.147

每当客户想要响应式移动版本但在更大的东西上保留默认缩放时，我也会这样做 - 网络上真的没有太多关于：为不同的屏幕尺寸设置不同的视口标签，所以使用 JS 似乎仍然是最佳选择。我默认指定一个非响应视口宽度，例如

```
 <meta name="viewport" content="width=1000"> 
```

然后尽快运行以下代码（即在 jQuery 被加载但不被 jQuery 的 .ready() 函数或任何等效函数包装后立即运行，因为 window.screen 属性似乎是准确的并且可以立即使用。这可以避免如果稍后运行代码，手机上可能会出现轻微的跳跃）：

```
if (window.screen.width < 601) {
    $('meta[name=viewport]').attr('content','width=device-width, initial-scale=1');
} 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2016-01-15T08:13:12.447

```
(function() {
window.monaca = window.monaca || {};

var IS_DEV = false;
var d = IS_DEV ? alert : function(line) { console.debug(line); };

/**
 * Check User-Agent
 */
var isAndroid = !!(navigator.userAgent.match(/Android/i));
var isIOS     = !!(navigator.userAgent.match(/iPhone|iPad|iPod/i));

var defaultParams = {
    width : 640,
    onAdjustment : function(scale) { }
};

var merge = function(base, right) {
    var result = {};
    for (var key in base) {
        result[key] = base[key];
        if (key in right) {
            result[key] = right[key];
        }
    }
    return result;
};

var zoom = function(ratio) {
    if (document.body) {
        if ("OTransform" in document.body.style) {
            document.body.style.OTransform = "scale(" + ratio + ")";
            document.body.style.OTransformOrigin = "top left";
            document.body.style.width = Math.round(window.innerWidth / ratio) + "px";
        } else if ("MozTransform" in document.body.style) {
            document.body.style.MozTransform = "scale(" + ratio + ")";
            document.body.style.MozTransformOrigin = "top left";
            document.body.style.width = Math.round(window.innerWidth / ratio) + "px";
        } else {
            document.body.style.zoom = ratio;
        }
    }
};

if (isIOS) {
    monaca.viewport = function(params) {
        d("iOS is detected");
        params = merge(defaultParams, params);
        document.write('<meta name="viewport" content="width=' + params.width + ',user-scalable=no" />');
        monaca.viewport.adjust = function() {};
    };
} else if (isAndroid) {
    monaca.viewport = function(params) {
        d("Android is detected");
        params = merge(defaultParams, params);

        document.write('<meta name="viewport" content="width=device-width,target-densitydpi=device-dpi" />');

        monaca.viewport.adjust = function() {
            var scale = window.innerWidth / params.width;
            monaca.viewport.scale = scale;
            zoom(scale);
            params.onAdjustment(scale);
        };

        var orientationChanged = (function() {
            var wasPortrait = window.innerWidth < window.innerHeight;
            return function() {
                var isPortrait = window.innerWidth < window.innerHeight;
                var result = isPortrait != wasPortrait;
                wasPortrait = isPortrait;
                return result;
            };
        })();

        var aspectRatioChanged = (function() {
            var oldAspect = window.innerWidth / window.innerHeight;
            return function() {
                var aspect = window.innerWidth / window.innerHeight;
                var changed = Math.abs(aspect - oldAspect) > 0.0001;
                oldAspect = aspect;

                d("aspect ratio changed");
                return changed;
            };
        });

        if (params.width !== 'device-width') {
            window.addEventListener("resize", function() {
                var left = orientationChanged();
                var right = aspectRatioChanged();

                if (left || right) {
                    monaca.viewport.adjust();
                }
            }, false);
            document.addEventListener('DOMContentLoaded', function() {
                monaca.viewport.adjust();
            });
        }
    };
} else {
    monaca.viewport = function(params) {
        params = merge(defaultParams, params);
        d("PC browser is detected");

        monaca.viewport.adjust = function() {
            var width = window.innerWidth || document.body.clientWidth || document.documentElement.clientWidth;
            var scale = width / params.width;
            zoom(width / params.width);
            params.onAdjustment(scale);
        };

        if (params.width !== 'device-width') {
            window.addEventListener("resize", function() {
                monaca.viewport.adjust();
            }, false);
            document.addEventListener("DOMContentLoaded", function() {
                monaca.viewport.adjust();
            });
        }
    };
}

monaca.viewport.isAndroid = isAndroid;
monaca.viewport.isIOS     = isIOS;
monaca.viewport.adjust    = function() { };
})(); 
```

---------------------------scall支持表-------------

javascript支持平板电脑上的这个功能

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2017-02-09T06:14:24.130

只需在特定点下方显示视口。

在这个例子中，视口指令显示在 768px 以下

```
 <script type="text/javascript">
  		//below 768px is mobile
  		if(screen.width<768)      
      		document.write('<meta name="viewport" content="width=device-width, initial-scale=1">');
</script>
```

* * *

## 回答 #10

> 赞同：-1
> 
> 时间：2012-10-13T08:14:59.320

您可以在 head 标签中使用此代码

```
<meta name="viewport" content="width=device-width, initial-scale=1"/> 
```

然后将此样式用于移动设备

```
<link rel="stylesheet" media="print and (min-width: 767px)" href="http://…" /> 
```

# javascript - JavaScript：为什么是 []==![]？

> ID：12871263
> 
> 赞同：8
> 
> 时间：2012-10-13T08:10:51.900
> 
> 标签：javascript

在 JavaScript 中，我注意到`[]==![]`结果是`true`. [演示](http://jsfiddle.net/ZKbYs/)

我不明白这个结果。你能解释一下为什么吗？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-10-13T08:22:00.183

`[]`是一个数组，但是`![]`是一个布尔值。每当您尝试比较具有不同类型的`==`两个对象时，都应将两个对象转换为可比较的对象（使用`ToNumber`，请参见 11.9.3 中的步骤 7.）。这就是为什么`[] == ![]`产量为真，第一个空数组被评估为`false`.

> ### [11.9.3 抽象等式比较算法](http://es5.github.com/#x11.9.3)
> 
> 比较 x == y，其中 x 和 y 是值，产生真或假。如下进行这样的比较：
> 
> 1.  [...]
> 2.  如果 x 为 null 且 y 未定义，则返回 true。
> 3.  如果 x 未定义且 y 为空，则返回 true。
> 4.  如果 Type(x) 是 Number 并且 Type(y) 是 String，则返回比较结果 x == ToNumber(y)。
> 5.  如果 Type(x) 是 String 并且 Type(y) 是 Number，则返回比较结果 ToNumber(x) == y。
> 6.  如果 Type(x) 是 Boolean，则返回比较 ToNumber(x) == y 的结果。
> 7.  如果 Type(y) 是 Boolean，则返回比较结果 x == ToNumber(y)。
> 8.  如果 Type(x) 是 String 或 Number 且 Type(y) 是 Object，则返回比较结果 x == ToPrimitive(y)。
> 9.  如果 Type(x) 是 Object 并且 Type(y) 是 String 或 Number，则返回 ToPrimitive(x) == y 的比较结果。
> 10.  返回假。

但是，如果您使用严格的类型比较运算符`===`，则结果为 false，因为两种类型不同：

> ### [11.9.6 严格等式比较算法](http://es5.github.com/#x11.9.6)
> 
> 比较 x === y，其中 x 和 y 是值，产生真或假。如下进行这样的比较：
> 
> 1.  如果 Type(x) 与 Type(y) 不同，则返回 false。
> 2.  如果 Type(x) 未定义，则返回 true。
> 3.  如果 Type(x) 为 Null，则返回 true。
> 4.  如果 Type(x) 是 Number，那么
>     1.  如果 x 是 NaN，则返回 false。
>     2.  如果 y 是 NaN，则返回 false。
>     3.  如果 x 与 y 的数值相同，则返回 true。
>     4.  如果 x 为 +0 且 y 为 -0，则返回 true。
>     5.  如果 x 为 -0 且 y 为 +0，则返回 true。
>     6.  返回假。
> 5.  如果 Type(x) 是 String，则如果 x 和 y 是完全相同的字符序列（相同的长度和对应位置的相同字符），则返回 true；否则，返回假。
> 6.  如果 Type(x) 是布尔值，如果 x 和 y 都为真或都为假，则返回真；否则，返回假。
> 7.  如果 x 和 y 引用同一个对象，则返回 true。否则，返回假。

# iphone - 如何在ios中以24小时格式显示上午/下午

> ID：12871266
> 
> 赞同：1
> 
> 时间：2012-10-13T08:10:56.880
> 
> 标签：iphone, ios

我有一个应用程序让用户选择他们的语言，在选择语言后，它还会根据国家/地区的日期格式更改日期和时间。

我这样做是通过 NSDateFormatter.- [dateFormatter setDateFormat:.....]; 对于美国英语 - 我使用“h：mm a” - 显示上午/下午设置。

问题是：am pm 仅在我的 iPhone 处于 12 小时模式时显示，我想这是因为它会自动检查 iPhone 的时间格式，有没有办法覆盖它？上午/下午也将在 24 模式下显示。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-13T09:59:08.520

这对我有用：

```
dateFormatter.dateFormat = @"H:mm a"; 
```

例子：

```
// Set up formatter
NSDateFormatter *dateFormatter;
dateFormatter = [[NSDateFormatter alloc] init];
dateFormatter.dateFormat = @"H:mm a";

// Print test date
NSDate *date = [NSDate dateWithTimeIntervalSinceNow:8900];
NSLog(@"%@", [dateFormatter stringFromDate:date]); 
```

输出：

```
14:23 PM 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-09-16T09:21:41.750

```
NSDateFormatter *formatter = [[NSDateFormatter alloc] init];
[formatter setLocale:[NSLocale currentLocale]];
[formatter setDateStyle:NSDateFormatterNoStyle];
[formatter setTimeStyle:NSDateFormatterShortStyle];
[formatter setDateFormat:@"hh:mm:ss a"];
NSString *date = [formatter stringFromDate:[NSDate date]];
NSArray *foo1 = [date componentsSeparatedByString:@" "];

NSRange amRange = [date rangeOfString:[formatter AMSymbol]];
NSRange pmRange = [date rangeOfString:[formatter PMSymbol]];
BOOL is24h = (amRange.location == NSNotFound && pmRange.location == NSNotFound);

NSArray *foo2 = [[foo1 objectAtIndex:0] componentsSeparatedByString:@":"];
int hour = [[foo2 objectAtIndex:0] intValue];
int minute = [[foo2 objectAtIndex:1] intValue];
int second = [[foo2 objectAtIndex:2] intValue];

BOOL isAM = NO;

if (is24h) {
    if (hour >= 12) {
        isAM = NO;
    } else {
        isAM = YES;
    }
} else {
    isAM = [[foo1 objectAtIndex:1] isEqualToString:@"AM"];
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-12-03T23:02:58.027

假设您需要为面向用户的字符串自定义日期格式，因为预设`dateStyle`并`timeStyle`不会为您剪切，那么执行此操作的适当方法是使用[`setLocalizedDateFormatFromTemplate`](https://developer.apple.com/documentation/foundation/dateformatter/1417087-setlocalizeddateformatfromtempla)“j”或“jj”作为小时数，具体取决于是否你想要零填充（大概在使用该样式的区域中 - 到目前为止，它似乎总是忽略零填充，但我猜它是依赖于区域的）。

```
let dateFormatter = DateFormatter()
dateFormatter.setLocalizedDateFormatFromTemplate("jj:mm") 
```

如果用户所在的地区默认使用 24 小时制和/或他们打开了 24 小时制（通过 iOS 设置中的开关），它将输出诸如“17:53”之类的字符串。否则它将输出像“5:53 PM”这样的字符串。

请注意，如果您要覆盖`locale`格式化程序，请务必在调用之前设置它`setLocalizedDateFormatFromTemplate`。

模板方法将自动本地化您的字符串以使用适当的样式。

更多信息可以在“使用用户可见的日期和时间表示”下[的文档中找到。](https://developer.apple.com/documentation/foundation/dateformatter)

# javascript - 使用 Moment js 库解析日期的问题

> ID：12871276
> 
> 赞同：0
> 
> 时间：2012-10-13T08:12:15.203
> 
> 标签：javascript, momentjs

问题是使用 Moment js 库解析日期

我正在使用 Moment js 库从 Json 格式化日期。json 中的日期格式为 2012-09-28 16:18:02 -0400。我想在客户端以这种格式将其转换为这种格式：2012 年 8 月 19 日晚上 10:50。这是我尝试过的...

```
var a= moment("2012-09-28 16:18:02 -0400");
var day=a.format("Do MMMM YYYY, h:mm:ss a");
console.log(day);   //Outputs  28th September 2012, 9:30:00 am 
```

但每次它显示上午 9:30:00。

我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-13T08:27:59.517

尝试将日期格式作为第二个参数添加到`moment(...)`：

```
var a= moment("2012-09-28 16:18:02 -0400", "YYYY-MM-DD hh:mm:ss Z");
var day=a.format("MMMM Do YYYY, h:mm:ss a");
console.log(day); ​ 
```

# svn - 如何锁定svn

> ID：12871279
> 
> 赞同：5
> 
> 时间：2012-10-13T08:12:51.840
> 
> 标签：svn, locking

我是SVN的学习者。现在我想锁定一个文件。我已将属性设置为 svn:needs-lock，然后我提交了文件。之后我选择了“SVN Get lock”。但问题是它总是说 Not Implemented!Lock Failed。我感到很困惑！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-13T15:12:22.730

Google 代码不*提供*功能`svn lock`：请参阅[Issue 1349](http://code.google.com/p/support/issues/detail?id=1349)，于 2008 年开放，因此不要指望很快就会有此功能。

# jquery - 如何选择嵌套元素

> ID：12871283
> 
> 赞同：2
> 
> 时间：2012-10-13T08:12:57.763
> 
> 标签：jquery

在这个 HTML 中：

```
<div class="seal">
    <div class="how with"> </div>
    <div class="how"> </div>
    <div class="with"> </div>
</div> 
```

如何选择这个嵌套元素？：

```
<div class="how with"> </div> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-13T08:14:13.707

jQuery 选择器的工作方式类似于 CSS 选择器：

```
$('.seal .how.with') 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-13T08:14:17.343

```
<div class="seal">

    <div class="how with"> </div>
    <div class="how"> </div>
    <div class="with"> </div>
</div> 
```

选择器 .seal：

```
var seal = jQuery(".seal"); 
```

选择器.how

```
jQuery(".how", seal); 
```

选择器 .with

```
jQuery(".with", seal); 
```

选择器 .how 和 .with

```
jQuery(".how.with", seal); 
```

或者

```
jQuery(".seal .how.with"); 
```

# javascript - JavaScript数组的括号中包含什么参数？

> ID：12871295
> 
> 赞同：0
> 
> 时间：2012-10-13T08:14:47.060
> 
> 标签：javascript

由于我了解 JavaScript 的基础知识，因此我能够创建数组，但我想知道我们可能在数组的括号中包含什么，例如 test=new Array("parameter?"); 所以我的意思是包含什么作为该javascript数组的参数

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-13T08:23:34.457

数组构造函数被重载，你得到的结果取决于你传递的参数数量和它们的数据类型：

*   **多个参数**（任何类型）：

    ```
    var arr = new Array(1,2,3,4); 
    ```

    创建一个包含传递给构造函数的值的新数组。

*   **一种说法**...

    *   ...类型**编号**：

        ```
        var arr = new Array(4); 
        ```

        创建一个*空*数组并将其长度设置为作为参数传递的数字。该数组似乎有 4 个元素（因为它的长度为 4），但它不包含任何元素（例如`arr[0]`will be `undefined`）。

    *   ...**任何其他**类型：

        ```
        var arr = new Array('foo'); 
        ```

        创建一个包含一个元素的数组，将参数传递给构造函数（与传递多个参数相同）。

* * *

由于`Array`构造函数的这种模糊性，您应该避免它并改用数组文字：

```
var arr = [1,2,3,4]; 
```

也就是说，要学习基础知识，请阅读[MDN JavaScript 指南](https://developer.mozilla.org/en-US/docs/JavaScript/Guide)，尤其是[关于数组](https://developer.mozilla.org/en-US/docs/JavaScript/Guide/Predefined_Core_Objects#Array_Object)的内容。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-13T08:23:16.577

首先，如果你发现自己在写作`new Array`，可能有更好的方法来做。但首先我将解释`Array`构造函数，然后讨论更好的方法。

构造`Array`函数有两种形式：一种接受零个或一个参数（*如果*一个参数是数字），另一种是接受多个参数（如果参数不是数字，则只有一个参数）。切勿使用第二种形式，并避免使用第一种形式。

第一种形式：

```
var a = new Array(5); 
```

...创建一个数组，其中 a`length`没有`5`条目（JavaScript 数组是“稀疏的”，因为它们根本不是真正的数组——更多内容见下文）。如果您根本不提供任何参数，则`length`is `0`。

第二种形式：

```
var a = new Array(5, 6); 
```

...创建一个包含与参数一样多的条目的数组（因此，在这种情况下为两个），并使用参数来设置这些条目的值。

请注意，参数的数量*和类型*都很重要：

```
var a = new Array(5);   // Creates an array with length = 5 with no entries
var b = new Array("5"); // Creates an array with length = 1 and entry [0] = "5" 
```

使用数组文字几乎总是**要好得多。**

上面的第一种形式，用数组文字代替：

```
var a = [];
a.length = 5; 
```

上面的第二种形式，用数组文字代替：

```
var a = [5, 6]; 
```

使用数组文字“更好”（在我看来）有几个原因，其中一些比其他的更主观：

1.  它更清晰，并且没有`Array`构造函数所具有的歧义。例如，这是做什么的？

    ```
    var a = new Array(foo); 
    ```

    答：*这取决于*（取决于`foo`里面有什么，一个数字或其他东西）。这只是不好^(tm)。

2.  有人`Array`用其他东西覆盖符号（他们可以这样做）并不容易。

3.  它更加简洁和富有表现力（这可能是最主观的原因）。

更多阅读：

*   [`Array`s上的 ECMAScript (JavaScript) 规范](http://ecma-international.org/ecma-262/5.1/#sec-15.4)
*   *[数组的神话](http://blog.niftysnippets.org/2011/01/myth-of-arrays.html)*（在我的博客中），它解释了 JavaScript 数组如何不是数组

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-13T08:17:13.047

你正处于学习曲线中。**[看这里。](http://www.w3schools.com/js/js_obj_array.asp)**你可以在那里写数组项。

[https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Array](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Array)（需要编辑审查）

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-13T08:20:40.460

[语法参考](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Array)

[元素0，元素1，...，元素N]
新数组（元素0，元素1，...，元素
N）新数组（数组长度）

[MDN 教程](https://developer.mozilla.org/en-US/docs/JavaScript/Guide/Predefined_Core_Objects#Array_Object)

# c# - 如何在静态方法中访问实例成员？

> ID：12871297
> 
> 赞同：1
> 
> 时间：2012-10-13T08:14:52.930
> 
> 标签：c#, asp.net, inheritance, static, instance-variables

我正在尝试创建类来封装电子邮件、URL、电话号码等对象的验证和逻辑。在第一次尝试中，我发现我在所有类中重复相同的代码，特别`IsValid`是静态和`Constructor`. 所以我决定创建一个基类来将所有相同的代码放入其中。所以有一个**基类**，其他类继承它。它是**抽象**的，因为我**不想****直接**使用它。

```
public abstract class BaseClass
{
            protected string value;
            private bool isValid;

            public bool IsValid{get { return this.isValid;}}

    protected virtual string RegexPattern{get;}

    protected virtual RegexOptions RegexOption{get;}

    private BaseClase(){}

    protected BaseClass(string value)
    {
        this.isValid = Validator.IsValid(value , RegexPattern, RegexOption);
        this.value = this.isValid ? value : string.Empty;
    }

    public static bool Validate(string value)
    {
        return Validator.IsValid(value ,RegexPattern, RegexOption); // rror
    }

}

public class Email
{
    private override string RegexPattern
    {
        get
        {
            return ".*";
        }
    }

    private override RegexOptions RegexOption
    {
        get
        {
            return RegexOptions.SingleLine;
        }
    }

            public string Address{get {return this.value; }}

    public Email(string address) : base(address){}
} 
```

`IsValid`问题出在 BaseClass的静态方法上。在当前代码中，它作为实例成员引发`RegexPattern`错误`RegexOption`。我不想为实例和静态方法定义相同的值两次。如果我使用它会起作用

```
const string RegexPattern= ".*";
const RegexOptions RegexOption =RegexOptions.SingleLine; 
```

但我需要能够在子类中覆盖这些值，所以这不适用。正如我已经定义的`BaseClass`那样，`abstract`我无法在静态方法中实例化它以访问属性。

因为我想使用静态方法`Email.IsValid("foo@bar.com");`，所以我不知道如何通过它传递一个实例。

`RegexOption`那么，我怎样才能访问`RegexPattern`这个静态方法呢？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-13T08:17:34.923

> 那么，我怎样才能在这个静态方法中访问 PropOne 和 PropTwo 呢？

您需要以*某种方式*拥有一个实例，否则这是一个无意义的操作。所以问题是——你*想*如何识别你感兴趣的实例？你*真的*需要`Validate`保持静止吗？

请注意，如果您希望值在整个类的实例中始终保持不变，而不是具有抽象属性，那么您可能希望将值作为构造函数的一部分`BaseClass`，并将它们保留在字段中。

如果您要实现的是每个子类都有一个单独的验证器，我会将这两个问题分开 - 给每个子类*一个不同类型*的静态属性。你不能多态地调用它，但听起来你真的不想这样做。

我们无法真正说出您的类在这里代表什么 - 如果您能给我们更具体的上下文，我们可能会更有帮助。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-10-13T09:24:43.003

您可以尝试制作`IsValid`扩展方法。

# sbt - 如何从 WSDL 生成 Java 文件并发布它们？

> ID：12871315
> 
> 赞同：3
> 
> 时间：2012-10-13T08:18:17.977
> 
> 标签：sbt

我正在尝试为 sbt 0.12.1 创建一个插件，该插件将从 WSDL 生成 java 文件，编译它们，然后发布 jar。

我的项目布局是这样的：

```
./build.sbt
./project/build.sbt
./project/WsdlBuild.scala
./src/main/wsdl/...many wsdl files... 
```

我正在使用axis来生成java文件，`build.sbt`看起来像：

```
name := "zxtm-api"

organization := "com.giltgroupe.zeus"

unmanagedBase <<= baseDirectory { base => base / "wsdl-lib" }

libraryDependencies ++= Seq(
  "axis"              % "axis-wsdl4j"       % "1.2.1",
  "commons-logging"   % "commons-logging"   % "1.0.4",
  "commons-discovery" % "commons-discovery" % "0.2",
  "log4j"             % "log4j"             % "1.2.8",
  "org.apache.axis"   % "axis"              % "1.4",
  "org.apache.axis"   % "axis-ant"          % "1.4",
  "org.apache.axis"   % "axis-jaxrpc"       % "1.4",
  "org.apache.axis"   % "axis-saaj"         % "1.4"
)

gilt.zxtm.WsdlBuild.wsdlSettings 
```

（我们在任何 maven 存储库中都找不到一个 jar `wsdl-lib`）

`project/build.sbt`非常相似：

```
libraryDependencies ++= Seq(
  "axis"              % "axis-wsdl4j"       % "1.2.1",
  "commons-logging"   % "commons-logging"   % "1.0.4",
  "commons-discovery" % "commons-discovery" % "0.2",
  "log4j"             % "log4j"             % "1.2.8",
  "org.apache.axis"   % "axis"              % "1.4",
  "org.apache.axis"   % "axis-ant"          % "1.4",
  "org.apache.axis"   % "axis-jaxrpc"       % "1.4",
  "org.apache.axis"   % "axis-saaj"         % "1.4"
)

unmanagedBase <<= baseDirectory { base => base / "wsdl-lib" } 
```

所以我写了代码`WsdlBuild.scala`来生成java文件，最后得到了类似的东西：

```
object WsdlBuild extends Plugin {

  lazy val wsdlSourceDir = SettingKey[File]("wsdl-source-dir")
  lazy val wsdlToJava = TaskKey[Unit]("wsdl-to-java")
  lazy val managedSrcDir = file("target/src_managed/wsdl")

  val wsdlSettings = inConfig(Compile)(Seq(
    compile <<= compile dependsOn wsdlToJava,
    javaSource := managedSrcDir,
    managedSourceDirectories := Seq(managedSrcDir)
  )) ++ Seq(
    wsdlToJava <<= (wsdlSourceDir, managedSourceDirectories in Compile, state) map {
      (wsdlDir, managedDirs, s) =>
      // by convention use the first one. Not obvious why there is
      // ever more than one
        createJavaFromWsdl(wsdlDir, managedDirs.head, s.log)
    },
    wsdlSourceDir := file("src/main/wsdl")
  )

  def createJavaFromWsdl(wsdlDir: File, outputDir: File, log: Logger): File = { ... } 
```

所以这种工作。如果我运行`compile`，它会正确生成 wsdl。但如果 I `publish-local`，它不会编译。所以为了`publish`or `publish-local`，我必须先手动`compile`。

有什么建议么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-13T15:46:32.043

[在 sbt 文档的这个 howto 中](http://www.scala-sbt.org/0.13/docs/Howto-Generating-Files.html)描述了生成源和资源。

在您的情况下，`wsdlSettings`可能如下所示：

```
 val wsdlSettings = inConfig(Compile)(Seq(
    sourceGenerators <+= wsdlToJava,
    wsdlSourceDir <<= baseDirectory(_ / "src/main/wsdl"),
    wsdlToJava <<= (wsdlSourceDir, sourceManaged, streams) map {
      (wsdlDir, managedDir, s) =>
        createJavaFromWsdl(wsdlDir, managedDir, s.log)
    },
  ) 
```

一些与您的问题无关的更改：

*   从 获取记录器`streams`。这会将输出发送到特定于任务的记录器，以便您可以单独检索它。有关[这](http://www.scala-sbt.org/0.13/docs/Howto-Logging.html)方面的更多信息，请参阅此操作指南。
*   始终使用绝对路径，通常基于`baseDirectory`. 请参阅[使用绝对路径](http://www.scala-sbt.org/release/docs/Best-Practices.html#Use+absolute+paths)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-10-10T19:40:04.180

这个问题已经很老了，尽管这个问题可能仍然与某人有关。

就我而言，我通过一个`sh`脚本来处理 WSDL 生成的所有繁琐工作`wsimport`（随 Java 一起提供），从而解决了一个非常相似的问题。一个专门的`sbt`子项目将其包装为一个任务并在编译时执行。这样的子项目可以很容易地插入到任何其他更大的`sbt`设置中，您可以在其中添加对它的依赖项。

说得够多了，下面是 GitHub 上的一个模板，它准确地展示了这一点：[https](https://github.com/sainnr/sbt-scala-wsdl-template) ://github.com/sainnr/sbt-scala-wsdl-template 。希望它可以为人们节省几个小时搞乱 WSDL 和构建工具的时间。如果您觉得有帮助，请随意分叉或改进它！

# sql - 如何生成新代码

> ID：12871317
> 
> 赞同：0
> 
> 时间：2012-10-13T08:18:56.483
> 
> 标签：sql, sql-server, vb.net, sql-server-2000

使用 VB.Net 和 SQL Server

表格1

```
Id             Value .....

1001P0010001   100
1001P0010002   200
1001P0010003   300
1001P0010004   400
... 
```

我有 n 列和行`table1`，从 中`table1`，我想用新的 id 复制所有列详细信息...

id no 是这样的`1001P0020001, 1001P0020002, .......`

`P002`是下一个id，`P003`是下一个id.....

前 4 位和后 4 位将保持从 读取`table1`，中间 4 位应更改为下一个系列

预期产出

```
Id             Value .....

1001P0010001   100
1001P0010002   200
1001P0010003   300
1001P0010004   400
1001P0020001   100
1001P0020002   200
1001P0020003   300
1001P0020004   400
... 
```

最好的方法是什么？

我可以在 VB.Net 或 SQL 查询中做到这一点......？请建议这样做的方法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-13T10:45:52.010

```
CREATE TABLE CocoJambo (
    Id  CHAR(12) NOT NULL,
    Value INT NULL,
    CHECK( Id LIKE '[0-9][0-9][0-9][0-9][A-Z][0-9][0-9][0-9][0-9][0-9][0-9][0-9]' )
);
GO

CREATE UNIQUE INDEX IUN_CocoJambo_Id
ON CocoJambo (Id);
GO

INSERT  CocoJambo (Id, Value)
          SELECT '1001P0010001', 100
UNION ALL SELECT '1001P0010002', 200
UNION ALL SELECT '1001P0010003', 300
UNION ALL SELECT '1001P0010004', 400
UNION ALL SELECT '1001P0020001', 100
UNION ALL SELECT '1001P0020002', 200
UNION ALL SELECT '1001P0020003', 300
UNION ALL SELECT '1001P0020004', 400;
GO

-- Test 1: generating a single Id
DECLARE @Prefix CHAR(5),
        @Sufix CHAR(4);
SELECT  @Prefix = '1001P',
        @Sufix = '0001';

BEGIN TRAN

DECLARE @LastGeneratedMiddleValue  INT,
        @LastValue INT;

SELECT  @LastGeneratedMiddleValue = y.MiddleValue,
        @LastValue = y.Value
FROM 
    (
    SELECT  x.MiddleValue, x.Value,
            ROW_NUMBER() OVER(ORDER BY x.MiddleValue DESC) AS RowNum
    FROM 
        (
        SELECT  CONVERT(INT,SUBSTRING(a.Id,6,3)) AS MiddleValue, a.Value
        FROM    CocoJambo a WITH(UPDLOCK) -- It will lock the rows (U lock) during transaction
        WHERE   a.Id LIKE @Prefix+'%'+@Sufix
        ) x
    ) y
WHERE   y.RowNum=1;

SELECT  @LastGeneratedMiddleValue  = ISNULL(@LastGeneratedMiddleValue ,0)
SELECT  @Prefix
        +RIGHT('00'+CONVERT(VARCHAR(3),@LastGeneratedMiddleValue +1),3)
        +@Sufix AS MyNewId,
        @LastValue AS Value

COMMIT TRAN;
GO

-- Test 2: generating many Id's
BEGIN TRAN

DECLARE @Results TABLE (
    Prefix CHAR(5) NOT NULL,
    Sufix CHAR(4) NOT NULL,
    LastGeneratedMiddleValue  INT NOT NULL,
    LastValue INT NULL
);
INSERT  @Results (Prefix, Sufix, LastGeneratedMiddleValue, LastValue)
SELECT  y.Prefix, y.Sufix, y.MiddleValue, y.Value
FROM 
    (
    SELECT  x.Prefix, x.MiddleValue, x.Sufix, x.Value,
            ROW_NUMBER() OVER(PARTITION BY x.Prefix, x.Sufix ORDER BY x.MiddleValue DESC) AS RowNum
    FROM 
        (
        SELECT  SUBSTRING(a.Id,1,5) AS Prefix,
                CONVERT(INT,SUBSTRING(a.Id,6,3)) AS MiddleValue,
                SUBSTRING(a.Id,9,4) AS Sufix,
                a.Value
        FROM    CocoJambo a WITH(UPDLOCK) -- It will lock the rows (U lock) during transaction
        ) x
    ) y
WHERE   y.RowNum=1;

SELECT  r.*, 
        r.Prefix
        +RIGHT('00'+CONVERT(VARCHAR(3),r.LastGeneratedMiddleValue +1),3)
        +r.Sufix AS MyNewId,
        r.LastValue AS Value
FROM    @Results r;

COMMIT TRAN;
GO 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-13T09:53:53.340

```
insert into table1 (id, value)
select 
    l +
    replicate('0', 3 - lenght(m)) + m +
    r,
    value
from (
    select 
        left(id, 5) l,
        cast(cast(substring(id, 6, 3) as integer) + 1 as varchar(3)) m,
        right(id, 4),
        value
    from table1
) s 
```

# php - codeigniter phil sturgeon 模板，如何使用 set_partial() 方法将变量传递给局部视图

> ID：12871320
> 
> 赞同：-1
> 
> 时间：2012-10-13T08:19:06.167
> 
> 标签：php, codeigniter, templates

我正在使用 phil sturgeon 的 codeigniter 模板引擎，但我有问题如何使用**set_partial()**方法将变量传递给局部视图。
我用了 ：

```
$this->template->set_partial('name_partial','path/to/partial',$_data_to_pass); 
```

但是在视图中我使用`var_dump($data_to_pass)`的变量似乎不存在。
我在文档中读到，可以使用该函数仅将额外数据传递给部分数据。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-14T15:41:31.947

如果有人遇到问题，将任何`$_data_to_pas`作为数组传递但仍然无法识别，请尝试打开 library/template.php 并找到此行（内部`public function build`）：

`$template['partials'][$name] = $this->_find_view($partial['view'], $partial['data'],`**真的**`);`

改成：

`$template['partials'][$name] = $this->_find_view($partial['view'], $partial['data'],`**错误的**`);`

这个对我有用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-13T09:27:39.247

您的变量 _data_to_pass 是一个数组。您将此数组的内容传递给视图而不是数组。所以视图中只存在这个数组的内容。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-13T18:53:17.413

正如@Swerk 所说，您需要将数据作为数组传递。尝试更改此行：

```
$this->template->set_partial('name_partial','path/to/partial',$_data_to_pass); 
```

对此：

```
$this->template->set_partial('name_partial','path/to/partial',array('data_to_pass' = > $_data_to_pass)); 
```

然后检查您的部分视图 var_dump($data_to_pass);

# apache-flex - 使用 Flex Builder 在 android、iphone 中进行电话数据访问

> ID：12871322
> 
> 赞同：0
> 
> 时间：2012-10-13T08:19:30.643
> 
> 标签：apache-flex, air, adobe, flexbuilder

是否可以使用 Flash Builder 移动开发应用程序访问 android、Iphone 中的（联系人、消息）等电话数据..如果可以使用 Adob​​e air，请告诉我..

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-26T23:27:32.590

您可以调用这些 API - Accelerometer

全球定位系统

相机

麦克风

存储数据-

Sql Lite 数据库

操作系统交互-

短信

电子邮件

称呼

例子-

```
protected function sendMessage(event:MouseEvent):void {
var message:String = "";
message +="sms:";
message+ = sendTo.text;
navigateToURL ( new URLRequest (message));
} 
```

这应该会打开您的消息传递应用程序。但是，您要读取的数据大多会受到保护。不过，您可以编写一个 Native Extension 并将 Flex 插入其中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-13T13:19:19.917

如果底层操作系统公开了该数据，您可以使用[Native Extension](http://help.adobe.com/en_US/flex/mobileapps/WSe4e4b720da9dedb5-4aefe03513238d8a1b8-8000.html)访问它。不过，您可能必须编写自己的 Native Extension 才能做到这一点。

# c - 在 C 中交换结构

> ID：12871323
> 
> 赞同：0
> 
> 时间：2012-10-13T08:19:32.380
> 
> 标签：c, function, pointers, structure

```
#include<stdio.h>
#include<stdlib.h>
#include<ctype.h>
#include<string.h>

struct name * create_node(char *,char *,int );
struct name *add_node(struct name *,char *,char *,int);
void output(struct name *,char *);
void free_variables(struct name *);
struct name *bubble_sort(struct name *,int);
void swap(struct name **,struct name **);

typedef struct name
{
    char firstname[100];
    char secondname[100];
    int pno;
    struct name *next;
}harsha;

harsha *create_node(char *first,char *second, int phone)
{
    harsha *pnode=(struct name *)malloc(sizeof(struct name));
    strcpy(pnode->firstname,first);
    strcpy(pnode->secondname,second);
    pnode->pno=phone;
    pnode->next=NULL;
    return pnode;
}

harsha *bubble_sort(harsha *pnode,int count)
{
    int i,j,n;

    n=count;
    for(i=n;i>1;i--)
    {
        for(j=1;j<n;j++)
        {
            if(strcmp(pnode[j].firstname,pnode[j-1].firstname)<0)
            {
                swap(&(pnode+j),&(pnode+j-1));
            }
        }
    }
    return pnode;
}

void swap(harsha **pnode1,harsha **pnode2)
{
    harsha *temp;
    temp=*pnode1;
    *pnode1=*pnode2;
    *pnode2=temp;
}

harsha *add_node(harsha *pnode,char *first,char *second,int phone)
{
    if(pnode==NULL)
    {
        pnode=create_node(first,second,phone);
        return pnode;
    }
    else
    {
        while(pnode->next!=NULL)
        {
            pnode=pnode->next;
        }
        pnode->next=create_node(first,second,phone);
    }
    return pnode;
}

void output(harsha *pnode,char *str)
{
    while(pnode->next!=NULL)
    {
        if(strcmp(pnode->secondname,str)==0)
        {
            printf("%s",pnode->firstname);
            printf("%d\n",pnode->pno);
        }
        pnode=pnode->next;
    }
    if(strcmp(pnode->secondname,str)==0)
        {
            printf("%s",pnode->firstname);
            printf("%d\n",pnode->pno);
        }
}

void free_variables(harsha *pnode)
{
    if(pnode->next!=NULL)
    free_variables(pnode->next);

    free(pnode);
}   

int main()
{
    harsha *head=NULL;

    //int i;
    char first[50];
    char second[50];
    char sname[50];
    int phone;
    char option='y';
    int count=0;

    while(tolower(option)=='y')
    {
        count++;
        printf("enter the first name:");
        scanf("%s",first);

        printf("enter the second name:");
        scanf("%s",second);

        printf("enter the phone number:");
        scanf("%d",&phone);
        fflush(stdin);
        if (head==NULL)
        head=create_node(first,second,phone);
        else 
        add_node(head,first,second,phone);

        printf("enter the option:");
        scanf("%c",&option);

    }
    fflush(stdin);
    head=bubble_sort(head,count);
    printf("enter the second name:");
    scanf("%s",sname);

    output(head,sname);

    free_variables(head);
return 0;
} 
```

我在这里所做的是-我创建了一个带有个人个人信息结构的链表。之后我想到了根据结构的名字对链表进行排序（升序）。

当我试图运行这个程序时，我遇到了一个错误

错误：一元“&”中的非左值

同时将参数传递给冒泡排序函数中的交换函数。

有人可以帮助我，请解释左值的含义。谢谢..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-13T08:36:23.800

除了 KingsIndian 给出的改变，你还需要改变`swap`函数：

```
void swap(harsha *pnode1,harsha *pnode2)
{
    harsha temp;
    temp=*pnode1;
    *pnode1=*pnode2;
    *pnode2=temp;
} 
```

此外，这样称呼它可能对您更有意义：

```
swap(&pnode[j], &pnode[j-1]); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-13T08:24:11.233

错误在这一行：

```
 swap(&(pnode+j),&(pnode+j-1)); 
```

`pnode`是一个指针，当你添加它时`j`，它会产生一个右值。`&`无法获取右值的地址，因此编译器会出错。

# asp.net - 非数字版本控制上的 MVC4 捆绑 {version} 通配符扼流圈

> ID：12871325
> 
> 赞同：1
> 
> 时间：2012-10-13T08:19:56.877
> 
> 标签：asp.net, asp.net-mvc, asp.net-mvc-4, asp.net-optimization, bundling-and-minification

根据[MS 捆绑开发](https://stackoverflow.com/a/12041931/1711500)，`{version}`通配符是`(\d+(?:.\d+){1,3})`. 这区别于：

```
jquery-1.8.2.js
jquery-ui-1.9.0.js 
```

但由于非数字编号 ( `#.#.#pre`) 它阻塞：

```
html5shiv-3.6.2pre.min.js
html5shiv-printshiv-3.6.2pre.min.js 
```

所以我正在这样做：`html5shiv-3*`和`html5shiv-printshiv-*`. 但这当然意味着我必须在脚本更改时更新捆绑包。

我只是以 html5shiv 为例。这个问题很普遍，因为包含“pre”、“beta”、“-a”、“-alpha”等很常见。解决方案是手动重命名文件，但它不是通过 nuget 自动进行的。

难道我做错了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-16T21:23:33.753

听起来 {version} 正则表达式应该匹配语义版本以说明 -pre/alpha1 后缀。我会将其添加到我们的待办事项中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-13T09:18:14.217

我不明白你的问题。

如果您使用语法`{version}`，您仍然可以使用后缀，例如 -pre 或 -min

一个例子是

```
 bundles.Add(new ScriptBundle("~/bundles/jquery").Include(
                        "~/Scripts/jquery-{version}-min.js")); 
```

它不必在版本变量中包含 -min。

# sql - SQL查询以找出不同的行是否具有相同的第二列

> ID：12871329
> 
> 赞同：0
> 
> 时间：2012-10-13T08:20:35.917
> 
> 标签：sql, sql-server, sql-server-2008

我有一个 MessageThread 表

```
UserUid   ThreadUid
===================
K1    111
N1    111
K1    222
K1    333
N1    444
R1    111
R1    222
D1    333
E1    444
T1    555 
```

一个 threadUid 仅用于同一组用户。

K1 和 N1 只能具有相同的 ThreadUid。

如果我知道 UserUid：K1 和 N1

我如何知道 K1 和 N1 是否具有相同的 ThreadUid？

有没有办法根据提供的 UserUid 获取 ThreadUid？似乎不可能...

## ------------

如果 UserUid 为 K1 并且 N1 Result 将为 111

如果 UserUid 是 K1 并且 T1 结果将为空

如果 UserUid 为 N1 并且 E1 结果将为 444

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-13T08:23:41.243

要查找两个用户共有的线程：

```
select  mt1.ThreadUid
,       count(*) as ThreadCount
,       (
        select  count(distinct mt3.UserUid) 
        from    MessageThread mt3 
        where   mt1.ThreadUid = mt1.ThreadUid
        ) as UsersInThread
from    MessageThread mt1
join    MessageThread mt2
on      mt1.ThreadUid = mt2.ThreadUid
where   mt1.UserUid = 'K1'
        and mt2.UserUid = 'N1'
group by
        mt1.ThreadUid 
```

[SQL Fiddle 的示例。](http://sqlfiddle.com/#!2/60df4/4)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-10-29T11:51:43.847

```
SELECT @ThreadUid = ThreadUid 
    FROM Users
    WHERE UserUid= @UserUid1 and ThreadUid=(Select ThreadUid From Users Where UserUid=@UserUid2) 
```

如果不相同则返回 null，如果 K1 和 N1 具有相同的 ThreadUid，则返回实际的 ThreadUid

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-13T08:26:05.850

这可能有效（**未经测试**）：-

```
SELECT ms1.UserUid, ms1.ThreadUid, ms2.UserUid, ms2.ThreadUid 
FROM MessageThread ms1, MessageThread ms2
WHERE ms1.ThreadUid <> ms2.ThreadUid AND
ms1.UserUid = 'K1' AND ms2.UserUid = 'N1' 
```

这将为您提供所有记录，这些记录具有不同`ThreadUid`的`UserID = K1``UserID = N1`

看起来这可能会给你`duplicate`记录。请检查并恢复。我没有`sql-server`安装所以无法测试。

**或者更好的是，您可以返回相同的记录`ThreadUid`**：-

```
SELECT ms1.UserUid, distinct ms1.ThreadUid, ms2.UserUid, ms2.ThreadUid 
FROM MessageThread ms1, MessageThread ms2
WHERE ms1.ThreadUid = ms2.ThreadUid AND
ms1.UserUid = 'K1' AND ms2.UserUid = 'N1' 
```

# javascript - Jquery隐藏/显示ie8空白问题

> ID：12871332
> 
> 赞同：0
> 
> 时间：2012-10-13T08:20:41.253
> 
> 标签：javascript, jquery, internet-explorer-8, whitespace, show-hide

我正在开发一个表单，其中一些字段在点击时隐藏和显示。例如，我有一个名为“联合申请？”的输入字段。如果单击“是”，则会显示标题、名字、姓氏等字段。如果单击“否”，则隐藏字段。

从功能上讲，这在所有浏览器中都可以正常工作，但是在 IE8 中，当您单击“否”时，空白区域仍保留在隐藏联合申请人字段的下方，因此您必须向下滚动页面才能找到提交按钮。在 IE7、IE9、Chrome、FF 等中，空格按预期删除，提交按钮向后移动，但 IE8 似乎由于某种原因没有。

以下是仅使用标题作为示例以保持简短的 html：

```
<div class="form-row clearfix">
    <label for="jointApp"><span class="required">*</span>Joint application</label>
    <span class="form-icon"></span>
    <div class="form-fields validate-radio">
        <span class="radiolabel">Yes<input type="radio" id="jointApp" class="cdq-jointApp-check jointApp" name="jointApp" value="1" ></span>
        <span class="radiolabel">No<input type="radio" id="singleApp" class="cdq-jointApp-check jointApp" name="jointApp" value="0" ></span>
    </div>
          <span class="tooltip_container">
                    <a href="#" class="tooltip">
                        <img src="/assets/images/tooltip.jpg" alt="joint application information">
                            <span>
                                <img class="callout" src="/assets/images/callout.gif" alt="callout" />
                                Do you wish to add a second person to your application?
                            </span>
                    </a>
                </span>
    <br /><br />
</div>

<div class="clearfix"></div>

<div id="jointDetails" style="display:none;">

<p class="jointappheader jointDetails" style="display:none">Please enter the joint applicants details below</p>

<div class="jointDetails form-row clearfix" style="display:none">
    <label for="joint_title"><span class="required">*</span>Title</label>
    <span class="form-icon"></span>
    <div class="form-fields joint validate-select">
        <select name="joint_title" id="joint_title" class="cdq-joint-title-text validate-select field-select">
            <option selected="selected" value="">Please select...</option>
            <option value="Mr" >Mr</option>
            <option value="Mrs" >Mrs</option>
            <option value="Ms" >Ms</option>
            <option value="Miss" >Miss</option>
        </select>
    </div>
</div>
</div> 
```

如果它对我有帮助，如下所示：

```
<!doctype html>
<!--[if lt IE 7]> <html class="no-js ie6 oldie" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js ie7 oldie" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js ie8 oldie" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>
<!-- CSS concatenated and minified-->
    <link rel="stylesheet" href="/assets/css/reset.css">
    <link rel="stylesheet" href="/assets/css/styles.css">
    <link rel="stylesheet" href="/assets/fancybox/source/jquery.fancybox.css?v=2.1.1" type="text/css" media="screen" />
    <!-- end CSS-->

    <script src="/assets/js/libs/modernizr-2.0.6.min.js"></script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7/jquery.min.js" type="text/javascript"></script>
    <script type="text/javascript" src="/assets/fancybox/source/jquery.fancybox.pack.js?v=2.1.1"></script>
    <script src="/assets/js/script.js" type="text/javascript"></script>
    <script src="/assets/js/slider.js" type="text/javascript"></script>
</head> 
```

Javascript如下

```
$('#singleApp').click(function(){

    $('#jointDetails').hide('slow');
    $('.jointDetails').hide('slow');
})

$('#jointApp').click(function(){

    $('#jointDetails').show('slow');
    $('.jointDetails').show('slow');
}) 
```

如果您需要更多信息，请告诉我。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-13T09:08:48.790

尝试元素的 .height() 。尝试将高度设置为 0。尝试 .remove()。希望这可以为您指明正确的方向；到实际的错误。

# ruby-on-rails - 打开一个弹出窗口，选择一个项目并返回到 Rails 3.2 中的主窗口

> ID：12871336
> 
> 赞同：0
> 
> 时间：2012-10-13T08:21:18.083
> 
> 标签：ruby-on-rails, ruby-on-rails-3, ruby-on-rails-3.2

在名为 的页面内`Program edit`，将有一个名为的按钮`Select image`，单击它时，将打开一个弹出窗口，其中显示图像列表。从列表中选择图像并单击`Add`按钮后，弹出窗口将关闭，并将选定的图片 ID 传递到主窗口。关闭图像列表弹出窗口后，它应该可以在程序的参数中使用。

这是我想要的场景。

这样做时我应该遵循哪种方式？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-13T08:39:50.540

您需要一个版本的[`responds_to_parent`](https://github.com/itkin/respond_to_parent)rails 插件。这可以解决问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-11T21:44:05.973

我了解到我可以通过 JavaScript 和 AJAX 做到这一点。与此类似：[http ://snipplr.com/view/7461/get-selected-value/](http://snipplr.com/view/7461/get-selected-value/)

# android - 如何将 Google API 密钥字符串缓存到内存中？

> ID：12871338
> 
> 赞同：1
> 
> 时间：2012-10-13T08:21:48.713
> 
> 标签：android, google-api

我正在开发一个使用 Google Places API 的 Android 应用程序。

为了将 Google API Key 排除在应用程序代码之外，我从我自己的经过身份验证的 API 服务器中获取它，并且在应用程序周围的许多地方都需要它。

将其存储/缓存到内存的最佳方式是什么？

我知道仅使用单例将被垃圾收集。扩展`Application`类并向那里添加方法是一个好方法吗？还有什么我可以考虑的吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-13T08:27:01.607

使用[SharedPreferences](http://developer.android.com/reference/android/content/SharedPreferences.html)

要保存到首选项：

```
PreferenceManager.getDefaultSharedPreferences(context).edit().putString("MYAPIKEY",
      "myStringToSave").commit(); 
```

要获取存储的首选项：

```
PreferenceManager.getDefaultSharedPreferences(context).getString("MYAPIKEY",
     "defaultStringIfNothingFound"); 
```

上下文是您的上下文。

从服务器获取后，保存。然后，您可以随时访问它。卸载应用程序当然会删除其内容。否则它是持久的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-13T09:07:16.110

虚拟机不能垃圾收集类仍然可以访问的字符串引用，所以我不明白为什么不能将字符串保存在单例中并将其存储为静态引用。您也可以将其存储在 Doomsknight 建议的共享首选项中，但这不会缓存在内存中。共享首选项以 XML 文件的形式存储在持久性存储中（相对于 RAM 上可用的值）。从它们中检索值。

也许您需要将两者结合起来。将值存储在共享首选项中，然后在您的应用启动时将其缓存在内存中。我不知道 PreferenceManager 本身是否在内存中具有某种缓存机制。

# twitter-bootstrap - HTML Tidy 条形标签

> ID：12871339
> 
> 赞同：0
> 
> 时间：2012-10-13T08:21:54.917
> 
> 标签：twitter-bootstrap, htmltidy

我正在为引导程序开发动态模板，并且正在使用 HTML Tidy。然而，似乎 HTML Tidy 删除了特定的标签，例如：

```
      <b class="caret"></b>

```

应该如何解决这个问题？我的选项/配置是

```
     $options = array('indent' => true,
                 '包装' => '300',
                "缩进空格" => 4,
                '干净'=>假）；

```

谢谢..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-01-16T17:35:37.523

我也遇到了和你们两个一样的问题，得到`&nbsp;`帮助，我只想提一下，如果你负责任地工作，你还必须`&nbsp;`在导航栏中的折叠图标中添加一个，请参见以下内容：

```
 <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span> 
```

应该：

```
 <span class="icon-bar">&nbsp;</span>
            <span class="icon-bar">&nbsp;</span>
            <span class="icon-bar">&nbsp;</span> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-23T17:08:45.213

也有这个问题。您可以添加`&nbsp;`标签。Html tidy 将删除标签，因为它认为在任何情况下都不会显示任何内容，例如：

`<b class="caret">&nbsp;</b>`

# java - 将几行代码写入一行是否有益（就内存和空间复杂性而言）。这值得么？

> ID：12871343
> 
> 赞同：1
> 
> 时间：2012-10-13T08:22:27.160
> 
> 标签：java, c++, c

示例：交换两个号码的简单程序。

```
 int a = 10;
 int b = 20;
 a = a+b;
 b = a-b;
 a = a-b; 
```

现在在下面的代码中：

```
 a=a+b-(b=a); 
```

我的意思是这两个代码有什么区别？

加法：如果这两者的加法超过了在 Java 和 C++ 的情况下不同的整数的合法限制怎么办？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-13T08:24:39.643

这些对我来说都不好看。可读性是关键。如果要交换值，最“明显”的方法是通过临时值：

```
int a = 10;
int b = 20;

int tmp = a;
a = b;
b = tmp; 
```

我既不知道也不通常关心这是否与涉及算术的“聪明”方法一样有效。*在有人证明实际应用程序*中的性能差异显着之前，我会以尽可能简单的代码为目标。不仅在这里，而且适用于所有代码。确定您需要它执行多好（以及在哪些维度上），对其进行测试，并在需要时将其更改为更复杂但更*高效*。

（当然，如果您`swap`的平台内有可用的操作，请改用它……更清楚。）

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-10-13T08:26:41.167

在 C++ 中，代码会产生未定义的行为，因为没有序列点，`a+b-(b=a)`并且您正在更改`b`并从中读取。

您最好使用`std::swap(a,b)`，它针对速度进行了优化，并且比您那里**的可读性强得多。**

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2012-10-13T08:28:59.867

由于您的特定代码已经被评论，我只想添加一个一般方面。编写一个衬里并不重要，因为*在指令级别，您无法逃避您的程序集将转换为机器代码的步骤数。大多数编译器已经进行了相应的优化。*

也就是说，除非一个班轮实际上使用不同的机制来实现目标，例如在交换两个变量的情况下，如果您不使用第三个变量并且可以避免诸如类型溢出等所有障碍并使用按位运算符例如，您可能已经保存了一个内存位置，从而可以访问它。

在实践中，*这几乎没有任何价值，并且*正如其他答案中已经提到的那样，对于可读性来说是个麻烦。专业程序需要由人维护，因此它们应该易于理解。

好的代码的一个定义是**代码实际上做了它看起来正在做的事情**

如果将代码巧妙地编写为一些缩短但复杂的操作，即使您自己也会发现很难修复自己的代码。应始终优先考虑可读性，并且在大多数情况下，真正需要的效率来自改进设计、方法或更好的数据结构/算法，而不是短线。

引用**Dijkstra**的话：*称职的程序员完全清楚自己头骨的有限大小。因此，他以完全谦逊的态度处理他的任务，并避免像瘟疫这样的聪明伎俩。*

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-10-13T08:30:38.200

几点：

*   代码首先应该反映你的*意图*。毕竟，它是供人类阅读的。在那之后，如果你真的必须，你可以开始调整代码以提高性能。最重要的是从不编写代码来演示噱头或小技巧。
*   将代码分成多行对性能绝对没有影响。
*   不要低估编译器的优化器。只需尽可能直观地编写代码，优化器将确保其具有最佳性能。

在这方面，最具描述性、直观、最快的代码是：

```
std::swap(a, b); 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-10-13T08:47:35.480

可读性和即时理解能力是我在编写和阅读代码时个人评价（以及其他几个人可能投票赞成的）。它提高了可维护性。在提供的特定示例中，很难立即理解作者在这几行中试图实现的目标。单行代码：`a=a+b-(b=a);`虽然很聪明，但并没有将作者的意图传达给其他人。

在效率方面，编译器的优化无论如何都会实现。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-10-13T08:31:15.777

至少在 java 方面，我记得读过 JVM 已针对正常的直接使用进行了优化，所以如果你尝试做这样的事情，你经常会自欺欺人。

此外，它看起来很糟糕。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-10-13T08:36:16.753

好的，试试这个。下次遇到奇怪的错误时，首先将尽可能多的代码压缩成单行。

等待几个星期，这样你就忘记了它应该如何工作。

尝试调试它。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2012-10-13T08:42:48.067

当然，这取决于编译器。虽然我无法预见任何惊天动地的差异。深奥的代码是主要的。

# java - 尝试将 TCHAR 类型发送到接受字符串作为参数的 java 函数时，jvm 崩溃

> ID：12871344
> 
> 赞同：0
> 
> 时间：2012-10-13T08:22:37.443
> 
> 标签：java, c++, c, winapi, java-native-interface

尝试将当前正在按下键的窗口的名称从 JNI C 代码发送到 java 方法时，jvm 崩溃。我认为这是由于传递了一个无效的论点。请解释为什么调用失败以及如何发送参数？

java方法的原型如下：

```
public void storeNameOfForegroundWindow(String windowName) {
  // store in the list
} 
```

*JNI C 片段：*

```
 jmethodID callBackToStoreWindowName = (*env)->GetMethodID(env,cls,"storeNameOfForegroundWindow","(Ljava/lang/String;)V");
 TCHAR title[500];
 GetWindowText(GetForegroundWindow(), title, 500);
 jvalue windowName,*warr;
 windowName.l = title;
 warr = &title;
 (*Env)->CallVoidMethodA(Env,object,callBackToStoreWindowName,warr); 
```

JVM 在遇到上述代码段时崩溃。我知道 jvm 崩溃是由于将无效参数传递给 java 函数（通过 C 代码）。如果是这样，请解释我如何发送参数。我需要将当前窗口的标题发送到 java 函数。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-13T08:48:58.913

因为你的方法有一个 String 作为它的参数，你应该给它一个`jstring`实例。JVM 无法理解 a`TCHAR`是什么。因此，您需要使用以下方法将您的字符转换为 java 字符串：

```
(*env)->NewStringUTF(env, title); 
```

**编辑**：如果`TCHAR`是`wchar_t`，即 16 位并且可以转换为 jchar，那么您需要使用`NewString`而不是`NewStringUTF`. [你可以在这里](http://docs.oracle.com/javase/1.4.2/docs/guide/jni/spec/functions.html)阅读更多。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-13T08:48:59.457

当我第一次看到`TCHAR`时，我会说“哦！太棒了，你可以编写一个在 Win9X 和 WinNT 中都可以工作的代码，并且还可以通过一个定义调用最佳平台函数：_UNICODE”。但随着时间的推移，我发现这让许多开发人员感到困惑。没有什么是独立的 as `TCHAR`，它是 char 的 typedef`_UNICODE`未定义和 typedef`wchar_t`否则，因此取决于项目的定义，它会改变。但另一方面，Java 方法只期望其中一个（char 或 wchar_t，但我不知道其中哪一个），所以如果你定义`_UNICODE`在您的项目中（这将在新的 IDE 中自动完成）和 Java 方法需要一个 char* 然后您传递一个 wchar_t* 然后您将错误的类型传递给函数并且字符串的长度将被计为一个（因为 wchar_t 是2 个字节，它将大部分单字节 char 映射到 char + 一个额外的 '\0'），如果您在期望 wchar_t* 时将 char* 传递给函数，则可能会产生错误（例如访问冲突），因为：

```
TCHAR title[500]; // will be converted to char title[500];
// now fill it and it may contain 'abcde\0 some junk data'
// Java want to interpret this as wchar_t* and expect '\0\0' as end of string
// since wchar_t is 2 byte and it may never see it in you string and read beyond
// end of title that is obviously an error! 
```

# android - 以这种方式编写 Android 兼容代码是否安全？

> ID：12871346
> 
> 赞同：1
> 
> 时间：2012-10-13T08:22:45.767
> 
> 标签：android, dalvik

在 Android 上编写这样的兼容代码是否安全？

```
if (Build.os.SDK_INT >= 11) {
    newClass instance = new newClass();
    ....
}
else {
    oldClass instance = new oldClass();
    ....
} 
```

我的一位同事与我争辩说，在运行上述代码时可能会抛出 ClassNotFoundException，因为 ClassLoader 试图在低于 android 11 的 android os 设备上加载 newClass。但我尝试了几次，但没有看到这个发生。在谷歌搜索了几个小时后，我没有找到任何关于 android 默认 classLoader 如何以及何时加载特定类的信息。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-13T09:27:09.160

你总是可以`reflection`用来检查类是否存在：

```
try {
  Class.forName("yourclass")
} catch (ClassNotFoundExecption) {
  oldClass instance = new oldClass();
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-13T09:10:28.660

你应该像下面这样检查兼容性......它比上面的更准确：

```
 private static int currentApi = 0;

   public static int getApiLevel() {

    if (currentApi > 0) {
        return currentApi;
    }

    if (android.os.Build.VERSION.SDK.equalsIgnoreCase("3")) {
        currentApi = 3;
    } else {
        try {
            Field f = android.os.Build.VERSION.class.getDeclaredField("SDK_INT");
            currentApi = (Integer) f.get(null);
        } catch (Exception e) {
            return 0;
        }
    }

    return currentApi;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-13T17:36:11.657

是的，这在最新版本的 Android 上是安全的。我想说 froyo 及以上，但它可能比这更早。我不记得了。

发生的情况是 dalvik 在安装时对 dex 文件执行验证通过。对于它无法解析的任何类/方法/字段，它会将这些访问替换为引发验证错误的指令。

在您的示例中，如果加载了该代码，例如 api 10，则`newClass instance = new newClass()`在概念上将替换为`throw new VerifYError()`. 因此，只要该分支永远不会在运行时执行，一切都很好。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-10-13T09:15:41.897

简短的回答 - 不要这样做。

大多数虚拟机只在绝对需要时才加载一个类。但是，允许类加载器预先缓存类的二进制表示[1]。

> 允许类加载器缓存类型的二进制表示，在预期最终使用的早期加载类型，或在相关组中一起加载类型。

[1] - [http://www.artima.com/insidejvm/ed2/lifetype2.html](http://www.artima.com/insidejvm/ed2/lifetype2.html)

[2] - [http://developer.android.com/tools/extras/support-library.html](http://developer.android.com/tools/extras/support-library.html)

编辑 - 您是否检查过您需要的类是否作为 android 支持包的一部分提供？[2]

# java - 如何在pdf中导出一对一的JTable

> ID：12871348
> 
> 赞同：0
> 
> 时间：2012-10-13T08:23:10.137
> 
> 标签：java, swing, pdf, graphics, paint

> **可能重复：**
> [为什么 JTable 标题没有出现在图像中？](https://stackoverflow.com/questions/7369814/why-does-the-jtable-header-not-appear-in-the-image)
> [在面板上绘制 JTable 行和列](https://stackoverflow.com/questions/12662373/drawing-jtable-rows-and-columns-on-a-panel)

我正在开发一个报告应用程序，我必须在其中以报告的形式导出 JTable。但是当我尝试直接在 PDF 上绘制 JTable 时，它​​不会显示第一行和第一列的边框。为此，我尝试使用默认颜色网格左上边框。这在 PDF 中给了我一条较暗的线。但是，当尝试用颜色填充任何特定单元格并将其导出到 PDF 输出时，所有网格线都是不可见的。

**简单表演示.java**：

```
package com.swing.table;

import java.awt.Color;
import java.awt.Component;
import java.awt.Dimension;
import java.awt.Graphics2D;
import java.awt.GridLayout;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.io.FileOutputStream;
import java.util.HashMap;
import java.util.Map;

import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.JPanel;
import javax.swing.JScrollPane;
import javax.swing.JTable;
import javax.swing.border.LineBorder;
import javax.swing.table.TableCellRenderer;
import javax.swing.table.TableColumn;
import javax.swing.table.TableColumnModel;

import com.itextpdf.text.Document;
import com.itextpdf.text.PageSize;
import com.itextpdf.text.pdf.PdfContentByte;
import com.itextpdf.text.pdf.PdfTemplate;
import com.itextpdf.text.pdf.PdfWriter;
import com.swing.data.BorderCellRenderer;

public class SimpleTableDemo extends JPanel implements ActionListener  {
    private boolean DEBUG = false;
    private int spacing = 6;
    private Map columnSizes = new HashMap();
    String[] columnNames = { "First Name", "Last Name", "Sport", "# of Years",
            "Vegetarian" };

    Object[][] data = {
            {
                    "Kathy",
                    "Smith",
                    "SnowboardingXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX",
                    new Integer(5), new Boolean(false) },
            { "John", "Doe", "Rowing", new Integer(3), new Boolean(true) },
            { "Sue", "Black", "Knitting", new Integer(2), new Boolean(false) },
            { "Jane", "White", "Speed reading", new Integer(20),
                    new Boolean(true) },
            { "Joe", "Brown", "Pool", new Integer(10), new Boolean(false) } };

    final JTable table = new JTable(data, columnNames);

    public SimpleTableDemo() {
        super(new GridLayout(0, 1));

        table.setPreferredScrollableViewportSize(new Dimension(500, 70));
        // table.setFillsViewportHeight(true);

        // Create the scroll pane and add the table to it.
        JScrollPane scrollPane = new JScrollPane(table);

        BorderCellRenderer cellRenderer = new BorderCellRenderer();  
        cellRenderer.setBorder(new LineBorder(Color.BLACK));

        table.setDefaultRenderer(Object.class, cellRenderer);
        table.repaint();

        // Add the scroll pane to this panel.
        add(scrollPane);

        JButton button = new JButton("Create Pdf");
        button.addActionListener(this);
        add(button);

    }

    public void actionPerformed(ActionEvent e)
    {
        print();
    }

     private void print() {
            Document document = new Document(PageSize.A4.rotate());
            try {
              PdfWriter writer = PdfWriter.getInstance(document, new FileOutputStream("D:/jTable.pdf"));

              document.open();
              PdfContentByte cb = writer.getDirectContent();

              cb.saveState();

              PdfTemplate pdfTemplate = cb.createTemplate(table.getWidth(), table.getHeight());
              Graphics2D g2 = pdfTemplate.createGraphics(table.getWidth(), table.getHeight());
              /*g2.setColor(Color.BLACK);
              g2.drawRect(x-2, y-2, table.getWidth()+2, table.getHeight()+2);*/
              table.print(g2);

              cb.addTemplate(pdfTemplate, 20, 20);
              g2.dispose();
              cb.restoreState();
            } catch (Exception e) {
              System.err.println(e.getMessage());
            }
            document.close();
          }

    /**
     Create the GUI and show it. For thread safety, this method should be
     invoked from the event-dispatching thread.
     */
    private static void createAndShowGUI() {
        // Create and set up the window.
        JFrame frame = new JFrame("SimpleTableDemo");
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);

        // Create and set up the content pane.
        SimpleTableDemo newContentPane = new SimpleTableDemo();
        newContentPane.setOpaque(true); // content panes must be opaque
        frame.setContentPane(newContentPane);

        // Display the window.
        frame.pack();
        frame.setVisible(true);
    }

    public static void main(String[] args) {
        // Schedule a job for the event-dispatching thread:
        // creating and showing this application's GUI.
        javax.swing.SwingUtilities.invokeLater(new Runnable() {
            public void run() {
                createAndShowGUI();
            }
        });
    }
} 
```

**BorderCellRenderer.java**：

```
package com.swing.data;

import java.awt.*;
import javax.swing.*;
import javax.swing.table.*;
import javax.swing.border.*;

/**
 * @version 1.0 03/06/99
 */
public class BorderCellRenderer extends JLabel
    implements TableCellRenderer {
  protected Border noFocusBorder; 
  protected Border columnBorder; 
  protected Font font;

  public Font getFont() {
    return font;
}

public void setFont(Font font) {
    this.font = font;
}

public BorderCellRenderer() {
    noFocusBorder = new EmptyBorder(1, 2, 1, 2);
    setOpaque(true);
  }

  public Component getTableCellRendererComponent(JTable table, Object value,
                 boolean isSelected, boolean hasFocus, int row, int column) {
      setText((value == null) ? "" : value.toString());
      Border b;
      b = BorderFactory.createCompoundBorder();
     // b = BorderFactory.createCompoundBorder(b, BorderFactory.createMatteBorder(0,0,1,0,table.getGridColor()));
     // b = BorderFactory.createCompoundBorder(b, BorderFactory.createMatteBorder(0,0,0,1,table.getGridColor()));
     /* if(row == 0 && column == 0)
      {
          setBackground(Color.CYAN);

      }
      else
      {
      setBackground(Color.WHITE);
      }
      */
      if(row==0 || column == 0)
      {
          if(row ==0 && column==0)
          {
              b = BorderFactory.createCompoundBorder(b, BorderFactory.createMatteBorder(0,1,0,0,table.getGridColor()));
              b = BorderFactory.createCompoundBorder(b, BorderFactory.createMatteBorder(1,0,0,0,table.getGridColor()));
          }
          if(row == 0)
          {
              b = BorderFactory.createCompoundBorder(b, BorderFactory.createMatteBorder(1,0,0,0,table.getGridColor()));
              setBackground(Color.CYAN);
          }
          if(column == 0)
          {
              b = BorderFactory.createCompoundBorder(b, BorderFactory.createMatteBorder(0,1,0,0,table.getGridColor()));
          }
      }
      else
      {
          b = table.getBorder();
          setBackground(Color.WHITE);
      }
      setBorder(b);

      return this;
  }

  public void setColumnBorder(Border border) {
    columnBorder = border;
  }

  public Border getColumnBorder() {
    return columnBorder;
  }
} 
```

请尝试使用上面的代码并帮助我获得带有网格线和填充单元格颜色的一对一 PDF 输出。

更新 1：- 我修改了 actionPerformed() 方法的代码，如下所示：-

```
public void actionPerformed(ActionEvent e)
    {
        int x = table.getWidth();
            int y = table.getHeight();
            BufferedImage bi = null;

    if(x>0 && y>0)
    {
     bi = new BufferedImage(x, y, BufferedImage.TYPE_INT_RGB);
    if(bi != null)
            {
                Graphics g = bi.createGraphics();
                table.paint(g);
                JOptionPane.showMessageDialog(null, new JLabel(new ImageIcon(bi)));
            }
    }

        print();
    } 
```

感谢您查看我的代码。我的要求是不显示表格标题。我不想按预期打印标题。这就是为什么我的第一行顶部边框和左侧第一列丢失的原因。为了纠正这个问题，我手动将默认网格边框添加到第一列和第一行。这使得顶部边框看起来是深灰色的。除此之外，我还必须用颜色填充单元格。当我将其打印到缓冲图像时看起来不错，但后来在 pdf 上它从下面的屏幕截图中删除了我的网格线：-

JTable 到 bufferedImage 输出 ![BufferedImage JTable 打印输出：-](../Images/6fb55f8258c8aad64e6eefd9a85856ca.png)

JTable到pdf输出 ![jTable pdf输出](../Images/c8b02ebafd73359326e8fade2ce10475.png)

# javascript - 具有良好类分离的主干设置 - 应用程序未定义错误

> ID：12871356
> 
> 赞同：0
> 
> 时间：2012-10-13T08:24:18.877
> 
> 标签：javascript, cordova, backbone.js, coffeescript

在 Backbone.js 上在线查找文档真的很容易，但很难找到关于如何在项目中设置 Backbone 并具有良好的类分离的教程或文档。大多数教程只会将所有代码转储到文档就绪函数中......并没有真正投入其中。

我正在尝试遵循此处找到的骨干命名空间模式（使用咖啡脚本而不是香草 js）[http://ricostacruz.com/backbone-patterns/#namespace_convention](http://ricostacruz.com/backbone-patterns/#namespace_convention)

这是我的基本设置：

索引.html

```
<!DOCTYPE html>

<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <meta name="format-detection" content="telephone=no" />
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />
        <link rel="stylesheet" type="text/css" href="css/index.css" />
                <link rel="stylesheet" type="text/css" href="css/jquery.mobile-1.2.0.css" />
                <!--link rel="stylesheet" type="text/css" href="css/white-skateapp-theme.css" /-->
        <link rel="stylesheet" type="text/css" href="css/jquery-mobile-overrides.css" />
        <link rel="stylesheet" type="text/css" href="css/custom-icons.css" />
                <title>Hello World</title>
    </head>
    <body>

            <!-- SPOTS LIST -->
            <div data-role="page" id="spots">

                <div data-role="header">
                    <h1>Spots</h1>
                    <a href="#search" data-role="button" class="ui-btn-right" data-icon="search" data-corners="false">search</a>
                </div><!-- /header -->

                <div data-role="content">   
                    spots list
                </div><!-- /content -->

                <!-- footer fixed bottom -->
                <div data-role="footer" class="ui-bar" data-position="fixed">
                    <div data-role="navbar">
                        <ul>
                            <li><a href="#home">Home</a></li>
                            <li><a href="#spots">Spots</a></li>
                            <li><a href="#me">Me</a></li>
                            <li><a href="#friends">Friends</a></li>
                        </ul>
                    </div>
                    <!-- /navbar -->
                </div>

            </div><!-- /page -->

                <script type="text/javascript" src="cordova-2.1.0.js"></script>
        <script type="text/javascript" src="js/jquery-1.8.2.js"></script>
                <script type="text/javascript" src="js/jquery.mobile-1.2.0.js"></script>
                <script type="text/javascript" src="js/underscore.js"></script>
                <script type="text/javascript" src="js/backbone.js"></script>

                <!-- backbone -->
                <!-- backbone views -->
                <script type="text/javascript" src="js/app/views/spots_list.js"></script>

                <!-- backbone app js file, not to be confused with phonegap app.whatever -->
                <script type="text/javascript" src="js/app.js"></script>

                <!-- initialize the phonegap app -->
                <script type="text/javascript">
            app.initialize();
        </script>
    </body>
</html> 
```

应用程序.coffee

```
window.App =
  Models: {}
  Views: {}
  Collections: {}
  Routers: {}
    init: ->
      spotsList = new App.Views.SpotsList()

$ ->
  console.log "init"
  App.init() 
```

spot_index.coffee

```
class App.Views.SpotsListView extends Backbone.View

  el: $ 'body'

  initialize: ->
    console.log "initialize called" 
```

目录和项目设置如下所示：

![文件夹结构图](../Images/964de878e35b3c7bea4db5898594e287.png)

问题是，当 document ready 触发时，我收到此错误：

```
Uncaught ReferenceError: App is not defined 
```

也得到这个错误：

```
Uncaught TypeError: Object #<Object> has no method 'init' app.js:20
(anonymous function) app.js:20
fire jquery-1.8.2.js:974
self.fireWith jquery-1.8.2.js:1082
jQuery.extend.ready jquery-1.8.2.js:406
DOMContentLoaded 
```

（顺便说一句，这个项目是在 Phonegap、coffeescript、backbone.js 和 jQuery Mobile 中完成的）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-14T00:10:33.793

我引用 ：

```
 <!-- backbone -->
        <!-- backbone views -->
        <script type="text/javascript" src="js/app/views/spots_list.js"></script>

        <!-- backbone app js file, not to be confused with phonegap app.whatever -->
        <script type="text/javascript" src="js/app.js"></script> 
```

您至少需要在与 App 相关的任何内容之前调用 app.js 脚本，如果您没有先定义对象，则无法调用它。所以对

```
 <!-- backbone app js file, not to be confused with phonegap app.whatever -->
    <script type="text/javascript" src="js/app.js"></script>

    <!-- backbone -->
    <!-- backbone views -->
    <script type="text/javascript" src="js/app/views/spots_list.js"></script> 
```

# wpf - Visual Studio 2012 XAML 设计器无效标记

> ID：12871358
> 
> 赞同：21
> 
> 时间：2012-10-13T08:24:30.747
> 
> 标签：wpf, xaml, user-controls, visual-studio-2012, designer

我有一个包含用户控件的项目。由于某种原因，使用上述控件的窗口的设计视图已停止运行并坚持“无效标记” - 给出的错误是用户控件的某些成员无法识别或无法访问。然而，该项目编译并执行得很好。在 VS2010 中加载它，编辑器工作正常，没有任何错误 - 即使在 Expression Blend 中也是如此。

到目前为止，我已经尝试了典型的清理、重建、手动从 obj 中删除内容、更新 .xaml 和重建，尝试使用 /resetuserdata 和 /resetsettings 启动 VS2012 - 问题仍然存在。我什至回滚到我的项目的一个更旧的版本，当设计师工作得很好时，没有骰子——同样的错误。我还尝试以新的 Windows 用户身份启动 VS2012，以避免任何可能挥之不去的存储应用数据，再次失败。

是否有其他类型的缓存或我可以手动删除的东西？

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2013-11-01T19:42:57.247

ShadowCache（用于渲染设计器）也存在与 VS2012 中的 XAML 不同步的问题。我刚刚发现了这一点，因为派生的用户控件出现了以下错误，我度过了一段可怕的时光：

> 本地属性 XXXX 只能应用于派生自 YYYYY 的类型。

影子缓存位于您的用户配置文件目录中：

应用程序数据\Local\Microsoft\VisualStudio\11.0\Designer\ShadowCache

您可以删除那里的所有内容并重新启动VS2012。在那之后，事情变得更好了（至少有一段时间！）

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2014-04-07T16:53:13.237

删除**ShadowCache中的所有内容**

> C:\Users\用户名\AppData\Local\Microsoft\VisualStudio\11.0\Designer\ShadowCache\

# 可复制粘贴路径

只需将这些路径之一复制/粘贴到 Windows 资源管理器中。`%LOCALAPPDATA%`是一个[Windows 环境变量](https://ss64.com/nt/syntax-variables.html)，当它进入*资源管理器*时将被替换为相应的值（也适用于*命令提示符*）

### VS2012

> **%LOCALAPPDATA%** \Microsoft\VisualStudio\11.0\Designer\ShadowCache\

### VS2013

> **%LOCALAPPDATA%** \Microsoft\VisualStudio\12.0\Designer\ShadowCache\

### VS2015

> **%LOCALAPPDATA%** \Microsoft\VisualStudio\14.0\Designer\ShadowCache\

# ASP.NET

如果你开发 ASP.NET 也删除

> %LOCALAPPDATA%\Microsoft\WebsiteCache
> 
> %LOCALAPPDATA%\Temp\VWDWebCache

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-06-14T13:07:18.070

I'm not sure this will fix all cases but this is what worked for me (all the time now).

I have VS2012, using the Blend designer in the IDE, building an x64 application, when I would define a new ICommand and add the Command attribute, I would get the designer isn't supported in x64 error (I forget the exact warning). If I switch to x86, I'd get invalid XAML markup errors complaining the the ICommand wasn't recognized or was not accessible, no matter how many times I rebuilt in x64\. If I switch to x86, build, then switch back to x64, voila, not problems with the designer.

Now I recall similar issues with VS2008 and Blend version 3 and 4\. From what I've read in other posts, using Any CPU might also resolve the issue.

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-12-02T17:25:17.567

可能是您添加了不受支持的用户控件，或者您可能在用户控件中添加了错误的父子关系。尝试删除可疑的用户控件并重建项目。它必须解决问题。干杯

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-08-23T19:13:23.307

在使用带有自定义（无参数）构造函数的控件时，我遇到了同样的问题。

检查自定义/用户控件构造函数是否不需要 WPF 设计器没有的任何数据。快速等待通过尝试捕获、清理、重建来检查整个事物周围的情况，然后检查问题是否是解决者。

如果不是，请尝试注释除默认 WPF Init 代码之外的所有内容，清理、重建并测试它。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2014-02-03T20:47:33.433

在 Visual Studio 2013 中，这是我用于 Windows Phone 项目的一种解决方法，[http://danielhindrikes.se/visual-studio/workaround-for-invalid-markup-problems-when-developing-for-windows-phone/](http://danielhindrikes.se/visual-studio/workaround-for-invalid-markup-problems-when-developing-for-windows-phone/)。我猜它与您为 WPF 编写 XAML 时使用的设计器相同。

已尝试删除 Shadow Cache，但它只是在我第一次启动 Visual Studio 时工作，上面的解决方法是唯一对我有帮助的方法。

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2015-12-11T18:07:20.347

有点晚了，但要考虑其他事情：如果您的无参数构造函数正在执行其他工作，例如获取由于您在设计器中而不存在的数据，请在构造函数的开头添加以下内容：

```
if (DesignerProperties.GetIsInDesignMode(new System.Windows.DependencyObject())) return;
// Do work. 
```

这是必要的，因为设计器确实执行了您的无参数构造函数，这可能在设计模式下失败并给您无效标记。

而且，无论其他人怎么说，这都不是 VS 或 WPF XAML Parser 错误。我今天使用 VS 2015，.Net 4.5.2 遇到了这个问题。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2013-01-16T11:37:31.233

我只是遇到了同样的问题（程序编译和运行正常，XAML 设计器报告无效标记），问题是我不小心更改了我的解决方案中一个项目的程序集名称，我改回来了，我的 XAML 设计器又跳了回来生命，所以检查解决方案中每个项目的属性页面，并确保程序集名称与您期望的一样。

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2013-07-10T17:16:39.307

我认为您的项目没有问题，但在 VS 2012 中是问题。尝试安装 VS 2012 的最新更新（更新 2）并检查此[答案](https://stackoverflow.com/questions/14842219/cannot-open-xaml-pages-in-blend-after-installing-visual-studio-2012-update-2-ct)。

问候，

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2013-07-04T14:12:09.370

您需要重新：编码您的 xaml，在 ide 中打开错误文件 -> 另存为 -> 保存编码（选择 UTF8）

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2018-04-27T08:34:58.387

I have the same Problem with VS 2015 and 2017 but only if I compile for x64 only. Here it helps if I change compile target (Project properties - Build, its called Plattformziel in german) temporarily to x86, compile to project and switch back to x64.

Maybe this is a "solution" for anybody else.

# git - Git - 找不到帐户

> ID：12871360
> 
> 赞同：2
> 
> 时间：2012-10-13T08:24:36.613
> 
> 标签：git

我正在尝试进入我的远程仓库。但我总是得到这个：

```
Account not found.
fatal: The remote end hung up unexpectedly 
```

在执行“git remote show origin”时，我得到了相同的响应。当我做 git remote -v 我得到这个：

```
origin  sls@slsapp.com:1234/fitzler/fitzler-web-app.git (fetch)
origin  sls@slsapp.com:1234/fitzler/fitzler-web-app.git (push) 
```

我也成功地尝试了 ssh：

```
$ ssh sls@slsapp.com
Enter passphrase for key '/c/Users/jacobrohde/\.ssh\id_rsa':
Hi there! You are good to go. Just start pushing and pulling :)
Connection to slsapp.com closed. 
```

这里有什么问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-04T20:23:36.837

指定遥控器时，您通常会写：

```
user@host:repro 
```

在您的情况下，您的主机使用您必须添加的不同端口，`:port`这迫使您使用更明确的方式：

```
ssh://user@host:port/repro 
```

另请参阅： [git remote add 与其他 SSH 端口](https://stackoverflow.com/questions/3596260/git-remote-add-with-other-ssh-port)

你也可以看看`man git fetch`：

> GIT URL 通常，URL 包含有关传输协议、远程服务器地址和存储库路径的信息。根据传输协议，某些信息可能不存在。
> 
> ```
>  Git natively supports ssh, git, http, https, ftp, ftps, and rsync
>    protocols. The following syntaxes may be used with them:
> 
>    ·   ssh://[user@]host.xz[:port]/path/to/repo.git/ [...]
>    An alternative scp-like syntax may also be used with the ssh protocol:
> 
>    ·   [user@]host.xz:path/to/repo.git/ 
> ```

# python - 在 Python 中通过 HTTP 将未知大小的数据从客户端流式传输到服务器

> ID：12871362
> 
> 赞同：4
> 
> 时间：2012-10-13T08:24:50.260
> 
> 标签：python, http, upload

不幸的是，我之前的问题因为是一个问题的“精确副本”而被关闭，而它绝对不是，特此再次强调。

它不是[Python 的副本：HTTP Post a large file with streaming](https://stackoverflow.com/questions/2502596/python-http-post-a-large-file-with-streaming)

那个处理流式传输大文件；我想将文件的任意块一个接一个地发送到同一个 http 连接。所以我有一个 20 MB 的文件，我想做的是打开一个 HTTP 连接，然后发送 1 MB，再发送 1 MB，等等，直到完成。使用相同的连接，因此服务器会看到一个 20 MB 的块出现在该连接上。

映射文件是我也打算做的，但是当从标准输入读取数据时，这不起作用。主要是对于第二种情况，我正在寻找这种逐部分提供的数据。

老实说，我想知道它是否可以完成 - 如果没有，我想知道，然后可以关闭这个问题。但如果可以做到，那怎么做到呢？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-13T11:06:10.983

从客户的角度来看，这很容易。您可以使用[`httplib`](http://docs.python.org/library/httplib.html)的低级接口—<a href="http://docs.python.org/library/httplib.html#httplib.HTTPConnection.putrequest" rel="nofollow"> `putrequest`、[`putheader`](http://docs.python.org/library/httplib.html#httplib.HTTPConnection.putheader)、[`endheaders`](http://docs.python.org/library/httplib.html#httplib.HTTPConnection.endheaders)和[`send`](http://docs.python.org/library/httplib.html#httplib.HTTPConnection.send)— 发送无论您想以任何大小的块向服务器发送任何内容。

但是您还需要指出文件的结束位置。

如果您事先知道文件的总大小，您可以简单地包含`Content-Length`标头，并且服务器将在那么多字节后停止读取您的请求正文。代码可能看起来像这样。

```
import httplib
import os.path

total_size = os.path.getsize('/path/to/file')
infile = open('/path/to/file')
conn = httplib.HTTPConnection('example.org')
conn.connect()
conn.putrequest('POST', '/upload/')
conn.putheader('Content-Type', 'application/octet-stream')
conn.putheader('Content-Length', str(total_size))
conn.endheaders()
while True:
    chunk = infile.read(1024)
    if not chunk:
        break
    conn.send(chunk)
resp = conn.getresponse() 
```

如果事先不知道总大小，理论上的答案是[分块传输编码](http://en.wikipedia.org/wiki/Chunked_transfer_encoding)。问题是，虽然它被广泛用于响应，但对于请求来说似乎不太受欢迎（尽管定义一样）。普通的 HTTP 服务器可能无法开箱即用地处理它。但是，如果服务器也在您的控制之下，您可以尝试手动解析请求正文中的块并将它们重新组装到原始文件中。

`Content-Length`另一种选择是通过同一连接将每个块作为单独的请求（带有）发送。但是您仍然需要在服务器上实现自定义逻辑。此外，您需要在请求之间保持状态。

**Added 2012-12-27.** There’s [an nginx module](http://wiki.nginx.org/NginxHttpChunkinModule) that converts chunked requests into regular ones. May be helpful so long as you don’t need true streaming (start handling the request before the client is done sending it).

# jquery - jquery动画使用div的位置移动

> ID：12871366
> 
> 赞同：0
> 
> 时间：2012-10-13T08:25:45.640
> 
> 标签：jquery, html, css

我正在将 div 的动画创建为[http://tententen.in/](http://tententen.in/)

```
$(document).ready(function(){
    $('#home-top').click(function() {
        $('#top').animate({
            marginTop: '50px'
        },500);
    });
    $('#home-right').click(function() {
        $('#left').animate({
            marginLeft: '-100%'
        },'fast');
        $('#right').animate({
            marginRight: '33%'
        },'fast');
    });
    $('#home-left').click(function() {
        $('#left').css({'position':'relative'}).animate({ left:'33%' },'fast');
        $('#home-container').css({ 'position': 'relative'}).animate({ left:'33%' },'fast');
        $('#right').css({'position':'relative'}).animate({ right:'-33%' },'fast');
    });
}); 
```

* * *

在我的脚本中，这里只有三个 div。我只需要左右动画..我试过但有些事情出错了..

[http://jsbin.com/amimih/1/](http://jsbin.com/amimih/1/)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-13T08:36:59.120

您可以使用此代码而不是 left

```
var pos = $(this).position();
"margin-left" : pos.left or etc;
or
left : pos.left or etc; 
```

并使用此代码而不是 marginRight

```
"margin-right":"30px" 
```

或者您可以在 css 文件中使用 position:relative

# django - FB G+ 和 Twitter 整合和推文

> ID：12871369
> 
> 赞同：0
> 
> 时间：2012-10-13T08:26:32.863
> 
> 标签：django

我只是想知道是否存在一个适用于 Django 的应用程序，它可以帮助连接所有 3 个社交网络、导入基本信息、个人资料图片，但最重要的是将用户发布的帖子推送到这三个网站帐户。我查看了 django-social-auth 但这只是让您注册或登录这些网站，而不是推送帖子。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-13T09:01:57.487

有 django 应用程序可以单独满足您的需求（[Facebook 示例](https://github.com/tschellenbach/Django-facebook)），但我不知道有一个可以与多个应用程序一起使用。

`django-social-auth`通过获取用户信息和代表他们在社交网络上发帖的许可，您将获得成功。

让用户通过身份验证后，`django-social-auth`您将有权访问代表他们发布到相应网络所需的用户访问令牌。

从那里开始，您将不得不将一些额外的 python 模块（如上面的 Facebook 示例）拼接在一起来进行实际发布。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-13T10:17:43.233

django-allauth [http://github.com/pennersr/django-allauth/](http://github.com/pennersr/django-allauth/)存储 FB/G/Tw（以及更多）的基本信息，提供对个人资料图片的基本访问，并将访问令牌存储在数据库中。

无论您使用访问令牌做什么都是特定于项目的，并且超出了 allauth 范围。例如，为了发布到用户墙，您需要：

1.  用户的权限（您可以通过为 Facebook 提供程序配置适当的范围来做到这一点，在 README.txt 中搜索 SCOPE）

2.  用户通过 FB 登录后，访问令牌存储在 allauth.socialaccount.models.SocialToken 中。只需查找已登录用户的令牌。

3.  然后，给定令牌，使用您喜欢代表用户发布到 Facebook API 的任何方法。例如[https://github.com/pythonforfacebook/facebook-sdk](https://github.com/pythonforfacebook/facebook-sdk)

有关 Django 用户和 Social* 模型之间关系的更多背景信息，请参阅：

[如何使用 django-allauth 获取用户的 facebook id？](https://stackoverflow.com/questions/12222021/how-can-i-get-the-users-facebook-id-with-django-allauth/12226639#12226639)

# c++ - 有没有一种简单的方法可以在 MSVC 中包含库文件？

> ID：12871372
> 
> 赞同：1
> 
> 时间：2012-10-13T08:26:41.880
> 
> 标签：c++, visual-c++

在构建我的应用程序时，我有一个相当长的编译所需的 *.Lib 文件列表。这是我的编译说明：

> Bin\cl.exe Main.cpp /EHsc /I atlmfc\include /I Includes /I Includes\Winsdk atlmfc\lib\amd64\nafxcw.Lib Libs\libcmt.lib Libs\Kernel32.Lib Libs\User32.Lib Libs\Gdi32 .Lib 库\MSImg32.Lib 库\ComDlg32.Lib 库\WinSpool.Lib 库\AdvAPI32.Lib 库\Shell32.Lib 库\ComCtl32.Lib 库\ShLwApi.Lib 库\Uuid.lib atlmfc\lib\amd64\atls。库库\Ole32.库库库\OleAut32.库库库\oldnames.库库库\WS2_32.库库库\MsWSock.库库库\OleAcc.库库库\comsuppw.lib库库\GdiPlus.lib库库\Imm32.Lib库库\WinMM。 Lib Libs\MsXml2.Lib Libs\OleDlg.Lib Libs\Urlmon.Lib /link/SUBSYSTEM:WINDOWS

所有这些文件都在同一个目录中。好吧，无论如何，一两个目录。有什么方法可以告诉编译器在这些目录中查找它需要的文件，而不是输入每个文件？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-13T09:13:35.713

您在寻找[http://www.lavishsoft.com/wiki/index.php/Visual_Studio_Paths](http://www.lavishsoft.com/wiki/index.php/Visual_Studio_Paths)还是[http://msdn.microsoft.com/en-us/library/1xhzskbe(v=vs.80).aspx](http://msdn.microsoft.com/en-us/library/1xhzskbe%28v=vs.80%29.aspx)？正如 Roman R. 已经解释的那样，您可以在文件中使用 pragma 命令。这样，您无需查看项目配置即可始终查看需要哪些库。如果您不想使用 pragma 命令，则项目配置中应该有一个链接器部分，您可以在其中添加库。

# mysql - 如果表1中存在id，则更新第二个表，mysql更新语句

> ID：12871377
> 
> 赞同：0
> 
> 时间：2012-10-13T08:27:50.507
> 
> 标签：mysql

表结构

表格1

```
userid   username 
 1        joe
 2        matt 
```

表 2

```
 userid      username 
  1 
```

如果用户 id 与表 1 匹配，则需要更新表 2 中的用户名，如果表 2 中存在，则从表 1 中选择用户名，然后更新表 2 中的用户名（从表 1 中获取用户名）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-13T08:29:01.210

通过使用加入表格来尝试`INNER JOIN`

```
UPDATE table2 a 
       INNER JOIN table1 b
          ON a.userid = b.userid
SET    a.username = b.username 
```

# [SQLFiddle 演示](http://sqlfiddle.com/#!2/36961/1)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-13T08:42:18.573

```
 UPDATE table2 a 
       INNER JOIN table1 b
          ON a.userid = b.userid
       SET a.username = b.username 
```

# arrays - 从线程、c、cygwin 中读取数组

> ID：12871384
> 
> 赞同：1
> 
> 时间：2012-10-13T08:29:16.123
> 
> 标签：arrays, multithreading, semaphore, progress, percentage

我对线程很陌生，想要一些见解。我正在尝试获取每个线程已完成计算的百分比。每个线程都会将其百分比报告给同一数组的不同元素。我在此`pthread_join`之后立即使用它，`pthread_create`并使用一个单独的线程来读取数组的所有值并打印百分比，但是当我让所有线程相互运行而不等待前一个线程完成时，我会得到一些奇怪的行为。这就是我访问共享（全局）数组的方式。

```
//global
int *currentProgress;
//main
    currentProgress = malloc(sizeof(int)*threads);
    for(i=0; i<threads; i++)
        currentProgress[i] = 0;
//child threads
currentProgress[myId] = (int)percent; //myId is unique

//progress thread
for(i=0; i<threads; i++)
    progressTotal += currentProgress[i];
progressTotal /= threads;
printf("Percent: %d", progressTotal); 
```

这本质上是我认为没有正确用于多线程的代码。当我打印出共享数组的状态时，我注意到一旦另一个线程开始访问该数组（虽然是不同的元素），前一个元素会立即变为某个随机数......`-2147483648`当后一个元素完成前一个元素时像往常一样继续。我应该为此使用信号量吗？我认为我可以同时访问数组的不同元素，并且我认为阅读它们不是问题。

这是整个代码：

```
#include <stdlib.h>
#include <stdio.h>
#include <math.h>
#include <stdint.h>
#include <pthread.h>
#include <string.h>

#define STDIN 0

int counter = 0;
uint64_t *factors;
void *getFactors(void *arg);
void *deleteThreads(void *arg);
void *displayProgressThread(void *arg);
int *currentProgress;

struct data
{
    uint64_t num;
    uint64_t incrS;
    uint64_t incrF;
    int threads;
    int member;
} *args;

int main(int argc, char *argv[])
{

    if(argc < 3) {printf("not enough arguments"); exit(1);}

    int i;
    int threads = atoi(argv[2]);
    pthread_t thread_id[threads];
    pthread_t dThread;

    currentProgress = malloc(sizeof(int)*threads);
    for(i=0; i<threads; i++)
        currentProgress[i] = 0;

    args = (struct data*)malloc(sizeof(struct data));
    args->num = atoll(argv[1]);
    args->threads = threads;

    uint64_t increment = (uint64_t)sqrt((uint64_t)args->num)/threads;
    factors = (uint64_t*)malloc(sizeof(uint64_t)*increment*threads);

    pthread_create(&dThread, NULL, displayProgressThread, (void*)args);

    //for the id of each thread
    args->member = 0;
    for(i=0; i<threads; i++)
    {
            args->incrS = (i)*increment +1;
            args->incrF = (i+1)*increment +1;
            pthread_create(&thread_id[i], NULL, getFactors, (void*)args);
            usleep(5);
    }

    for(i=0; i<threads; i++)
    {
        pthread_join(thread_id[i], NULL);
    }
    sleep(1);
    printf("done\n");
    for (i=0; i<counter; i++)
        printf("\n%llu : %llu", factors[++i], factors[i]);
    return 0;
}

void *getFactors(void *arg)
{
    uint64_t  count;
    int myId;
    int tempCounter = 0, i;
    struct data *temp = (struct data *) arg;
    uint64_t number = temp->num;
    float total = temp->incrF - temp->incrS, percent;

    myId = temp->member++;

    pthread_setcancelstate(PTHREAD_CANCEL_ENABLE, NULL);
    pthread_setcanceltype(PTHREAD_CANCEL_ASYNCHRONOUS, NULL);

    for(count=temp->incrS; count<=temp->incrF; count++)
    {

        percent = (float)(count-temp->incrS)/total*100;
        currentProgress[myId] = (int)percent;

        if (number%count == 0)
         {
                factors[counter++] = count;
                factors[counter++] = number/count;
         }   
        usleep(1);
    }
    usleep(1);
    pthread_exit(NULL);
}

void *displayProgressThread(void *arg)
{
    struct data *temp = (struct data *) arg;
    int toDelete = 0;
    while(1)
    {
        int i;
        int progressTotal = 0;
        char *percent = malloc(sizeof(char)*20);
        for(i=0; i<toDelete; i++)
            printf("\b \b");

        for(i=0; i<temp->threads; i++){
            progressTotal += currentProgress[i];
        }

        progressTotal /= temp->threads;
        printf("|");
        for(i=0; i<50; i++)
            if(i<progressTotal/2)
                printf("#");
            else
                printf("_");
        printf("| ");
        sprintf(percent, "Percent: %d", progressTotal);
        printf("%s", percent);
        toDelete = 53 + strlen(percent);

usleep(1000);
    fflush(stdout);
    if(progressTotal >= 100)
        pthread_exit(NULL);
} 
```

}

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-13T09:43:25.717

导致此问题的线程访问了一些非同步的代码片段。

第一个要同步的地方是：

```
 myId = temp->member++; 
```

但更重要的是，主线程在做：

```
 args->incrS = (i)*increment +1;
   args->incrF = (i+1)*increment +1; 
```

同时在线程中：

```
 for(count=temp->incrS; count<= temp->incrF; count++)
    {

        percent = (float)(count-temp->incrS)/total*100;
        currentProgress[myId] = (int)percent;

        if (number%count == 0)
         {
                factors[counter++] = count;
                factors[counter++] = number/count;
         }   
        usleep(1);
    } 
```

上面提到的不同步访问会影响`percent`值的计算，从而导致这种异常的发生。您必须在所有这些地方进行同步才能获得您期望的那种行为。

# iphone - Foundation Framework 中我的 iphone 上的应用程序列表

> ID：12871385
> 
> 赞同：1
> 
> 时间：2012-10-13T08:29:28.357
> 
> 标签：iphone, objective-c, cocoa, foundation

我想知道如何从 Objective-C（基础框架）获取安装在我的 iphone 上的应用程序列表。有人可以帮助我吗？

我还想知道您是否可以从我的应用程序中启动应用程序。

非常感谢大家

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-13T08:31:40.210

不，据我所知这是不可能的。应用程序在 iOS 中被沙盒化，并且没有这样的 API 来检索已安装应用程序的列表......

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-13T08:33:42.053

无法确定 iPhone 上安装了哪些应用程序。但是，有一种叫做 URL Schemes 的东西，一些应用程序注册了它们，您可以与它们通信。 [http://developer.apple.com/library/ios/#featuredarticles/iPhoneURLScheme_Reference/Introduction/Introduction.html](http://developer.apple.com/library/ios/#featuredarticles/iPhoneURLScheme_Reference/Introduction/Introduction.html)

# java - 如何编写自动化测试 - 测试用例作为函数或测试用例作为类

> ID：12871388
> 
> 赞同：0
> 
> 时间：2012-10-13T08:30:17.207
> 
> 标签：java, python, testing, frameworks, automation

我在测试自动化中遇到了设计问题：-

要求 - 需要通过自动化框架测试不同的服务器（使用 unix 控制台而不是 GUI）。我要运行的测试——单元、系统、集成

问题：在设计测试用例时，我认为测试用例应该是测试套件的一部分（测试套件是一个类），就像我们在 Python 的 pyunit 框架中一样。但是，我们应该将测试用例作为可扩展自动化框架的函数，还是应该将测试用例作为单独的类（每个类都有自己的设置、运行和拆卸方法）？从自动化的角度来看，将测试用例作为一个类的想法是更具可扩展性、可维护性还是作为一个函数？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-13T08:38:58.047

通常测试用例用作类而不是函数，因为每个测试用例都有自己的设置数据和初始化机制。将测试用例实现为单个功能不仅会使在运行任何测试用例之前设置测试数据变得困难，而且是的，如果您运行相同的测试场景，您可以在测试用例类中使用不同的测试方法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-13T09:06:38.530

以下是我的看法：

**将测试编写为函数的优点：**

*   如果您需要该测试用例的任何先决条件，只需调用另一个提供先决条件的函数。对拆解步骤做同样的事情
*   对于团队中的新人来说看起来很简单。通过将测试视为函数，易于理解正在发生的事情

**将测试编写为函数的缺点：**

*   不可维护 - 因为如果有大量测试需要相同类型的先决条件，测试用例作者必须保持调用测试用例中的每个先决条件函数。测试用例中的每次拆解都相同

*   如果在很多测试用例中有这么多对这样一个先决条件函数的调用，并且如果产品功能等发生任何变化，您必须在很多地方再次手动做出努力。

**将测试用例编写为类的优点：**

*   设置、运行和拆卸都有明确的定义。测试先决条件很容易理解
*   如果有测试 1 正在做某事，并且测试 1 的结果用作测试 2 和 3 中的设置先决条件，那么它很容易从测试 1 继承，并调用其设置，首先运行拆卸方法，然后然后，继续您的测试。这有助于使测试彼此独立。在这里，您无需努力维护代码的实际调用。由于继承，它将隐式完成。
*   有时，如果 Test 1 的 setup 方法和 Test 2 的 run 方法可能成为另一个 Test 3 的先决条件。在这种情况下，只需继承 Test 1 和 Test 2 类，并在 Test 3 的 setup 方法中，调用测试 1 的设置和测试 2 的运行。同样，您不需要维护实际代码的调用，因为您正在调用设置和运行方法，这些方法从框架的角度进行了尝试和测试。

**将测试用例编写为类的缺点：**

*   当测试数量增加时，您无法查看特定测试并说出它的作用，因为它可能继承了太多您无法回溯的级别。**但是，有一个解决方案 - 在每个测试用例的每个设置、运行、拆卸方法中编写文档字符串**。并且，编写一个自定义包装器来为每个测试用例生成文档字符串。继承时/之后，您应该提供一个选项来将特定函数（设置、运行、拆卸）的文档字符串添加/删除到继承的函数中。这样，您可以运行该包装器并从其文档字符串中获取有关测试用例的信息

# ios - 应用程序崩溃后如何重新启动

> ID：12871389
> 
> 赞同：1
> 
> 时间：2012-10-13T08:30:31.980
> 
> 标签：ios, exception, crash, relaunch

[处理未处理的异常和信号](http://www.cocoawithlove.com/2010/05/handling-unhandled-exceptions-and.html)

我刚刚阅读了这个博客，发现这是处理崩溃的好方法。

如果最终用户想要重新启动我们的应用程序，我们是否可以将“继续”按钮替换为“重新启动”，并重新启动应用程序，或者这样做是正确的？

有没有办法在这种情况下重新启动我们的应用程序？我可以推送一个本地通知来报告崩溃并让用户知道吗？

如果有人可以提供一些示例代码，我将非常感谢。对不起，我的英文不好，希望你能理解我！</p>

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-13T09:37:55.877

您应该使用利用Landon Fuller 的[PLCrashReporter的库。](https://code.google.com/p/plcrashreporter/)它更安全，创建标准崩溃报告，您可以获取所有线程，包括最后一个异常回溯，允许您对它们进行符号化并获取您自己代码的行号。请参阅此博客文章了解为什么它更安全的更多详细信息：http: [//landonf.bikemonkey.org/code/objc/Reliable_Crash_Reporting.20110912.html](http://landonf.bikemonkey.org/code/objc/Reliable_Crash_Reporting.20110912.html)

在 PLCrashReporter 之上构建了多个框架和服务，我在这个答案中提到了：[将自定义数据包含到 iOS 崩溃转储中](https://stackoverflow.com/questions/8488894/including-custom-data-into-ios-crash-dumps/8511100#8511100)

此外，您无法在应用程序崩溃后重新启动该应用程序（一个例外是，如果您的应用程序提供 IP 语音功能）。没有代码，尤其是在应用程序崩溃后应该启动的 Objective-C 代码，请参阅上面链接的博客文章，因此您也不能调用本地通知。

# ios - 什么是“ios open sdk 工具链”？

> ID：12871392
> 
> 赞同：0
> 
> 时间：2012-10-13T08:30:49.057
> 
> 标签：ios, objective-c, sdk, toolchain

我开始为我越狱的 iPhone 开发工具（使用 THEOS）。我阅读了一些关于使用“隐藏功能”的非常有趣的文章，作者总是使用术语“open sdk”或“open sdk toolchain”。open sdk 究竟是什么意思？如果我能猜到，我会说一个开放的 sdk 是一个包含所有头文件（甚至是通常隐藏的头文件）的 sdk。那是对的吗？

我发现工具类转储（[https://github.com/nygard/class-dump](https://github.com/nygard/class-dump)）有助于从 ios SDK 中提取所有头文件。当我从普通的 IOS SDK 中提取所有头文件时，我是否会得到一个“开放的 SDK”……即使我使用 5.0 或 6.0 SDK 时也可以？因为我发现了一些像[http://www.alexwhittemore.com/using-the-open-tool-chain-in-xcode-for-both-os-2-2-and-3-0/](http://www.alexwhittemore.com/using-the-open-tool-chain-in-xcode-for-both-os-2-2-and-3-0/)这样的文章，它们总是关于3.0 SDK，这是一个相当古老的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-13T10:03:54.810

我希望你知道什么是 SDK，软件开发工具包。:) iOS Open Dev SDK 是一个 SDK，它允许您在 Xcode 中使用更多模板，例如：

Action Menu Plugin, Activator Listener, CaptainHook Tweak, Cocoa Touch Library, Command Line tool, Logos Tweak,Notification Center Widget, SBSettings Toggle。ios Open Dev Templates 为 iOS 编程代码提供了许多选项。

您可以通过谷歌搜索下载它。

ClassDump 是一个工具，它允许您将标头转储出目标 c - 可执行文件。这使您可以选择查看 .h(eader) 文件的方法并使用它们来构建您的调整或其他任何东西。

# java - 打印机可用性

> ID：12871396
> 
> 赞同：2
> 
> 时间：2012-10-13T08:31:27.220
> 
> 标签：java

在这里，我已经编码以获取设备列表，我将检查每个设备的状态

```
DocFlavor myFormat = DocFlavor.SERVICE_FORMATTED.PRINTABLE;
PrintRequestAttributeSet aset = new HashPrintRequestAttributeSet();
PrintService[] services =PrintServiceLookup.lookupPrintServices(myFormat, aset);
System.out.println("The following printers are available");
for (int i=0;i<services.length;i++) {
    PrintService printService = services[i];
    PrintServiceAttributeSet printServiceAttributes = printService.getAttributes();
    PrinterState printerState = 
                      (PrinterState)printServiceAttributes.get(PrinterState.class);
    if (printerState != null){
            System.out.println(services[i].getName() + " is online");
    } else {
            System.out.println(services[i].getName() + " is offline");
    }
} 
```

但问题是每次我得到“离线”状态时，即使打印机已打开或关闭

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-19T13:06:16.760

我最近从 PrintService 获取另一个属性时遇到了同样的问题。

事实上，它总是返回 null，因为该方法从未在 Java 类中实现过，而且很多属性都是这种情况。

如果您真的想获得这些信息，您将不得不使用 windows Print Spooler DLL，或者，如果您的打印机是网络打印机，请通过 SNMP 查询这些信息。

# javascript - 如何从以下 json 访问“名称和商店名称”

> ID：12871403
> 
> 赞同：-1
> 
> 时间：2012-10-13T08:32:19.420
> 
> 标签：javascript, json

> **可能重复：**
> [我有一个嵌套数据结构/JSON，如何访问特定值？](https://stackoverflow.com/questions/11922383/i-have-a-nested-data-structure-json-how-can-access-a-specific-value)

```
{
"List":
  [
     {"Active":true,"Name":"VMW","Stores":
      [
        {"Active":true,"Name":"Admin"},{"Active":true,"Name":"sunil"}
      ]
     }
  ]
} 
```

它的 json 数据，我如何使用 Ajax 或 Javasricpt 读取它

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-13T08:37:07.780

List 和 store 是一个数组，因此要检索名称和 store 的名称，请使用数组索引，如下所示：

```
jsondata.List[0].Name >>> return "VMW"
jsondata.List[0].Stores[0].Name >>> return "Admin" 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-13T08:45:15.217

```
json = {
"List":
  [
     {"Active":true,"Name":"VMW","Stores":
      [
        {"Active":true,"Name":"Admin"},{"Active":true,"Name":"sunil"}
      ]
     }
  ]
}

json["List"]  // { "Active":true,"Name":"VMW","Stores": [{"Active":true,"Name":"Admin"},{"Active":true,"Name":"sunil"}]}

json["List"][0]["Stores"] // {"Active":true,"Name":"Admin"},{"Active":true,"Name":"sunil"} 
```

是对象的存储

```
Stores = json["List"][0]["Stores"]

for (i in Stores) (function(active, name) {

    console.log(active, name);
}(Stores[i]["Active"], Stores[i]["Name"])); 
```

结果：

```
true "Admin"
true "sunil" 
```

# javascript - 如何将位智数据与我的网页集成？

> ID：12871404
> 
> 赞同：9
> 
> 时间：2012-10-13T08:32:23.283
> 
> 标签：javascript, jquery, ajax, integrate

Waze 是一个应用程序，它提供实际的交通信息。还有一个实时地图[Waze 实时地图](http://world.waze.com/livemap/)- 您可以看到标记在哪里。

所以，我找到了一些网站：[检查这个链接 - egaraz](http://www.egaraz.cz/traffic)我真的很好奇 egaraz.cz 是如何从 Waze 获取（解析）数据（标记）的，因为没有机会这样做。还是他们有某种交易？我不知道。

我试图将所有提到的网页下载到我的电脑上，我阅读了所有的 javascript 文件和所有内容，但什么也没找到。也许我忽略了一些...

你能帮我并（试着）告诉我他们是怎么做到的吗？或建议一些可行的解决方案/ s ..

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-26T11:46:50.000

我对此进行了一些调查，发现了一些奇怪的东西......

它似乎有点隐藏，但有一个 Waze Wiki，这是你的答案：

> API - 在您的网站上使用位智地图
> 
> 如需更多信息，请联系 bizdev@waze.com

[http://www.waze.com/wiki/index.php/API__-_use_waze_maps_on_your_website](http://www.waze.com/wiki/index.php/API_-_use_waze_maps_on_your_website) （所以也许你得付钱，无论如何，他们可能有兴趣事先知道你想做什么）

现在有趣的部分是 Waze 源**实际上**是开放的（似乎不是最后一个版本） [https://github.com/mkoloberdin/waze](https://github.com/mkoloberdin/waze) ， [http://www.waze.com/wiki/index.php/Source_code](http://www.waze.com/wiki/index.php/Source_code) **（编辑：链接已关闭）**

还有一个人甚至做了一个 Linux 反向移植（还没有看到它是否有效）

[https://github.com/sashakh/waze](https://github.com/sashakh/waze)

编辑：理论上可以破解集成，但这是旧东西，Waze 自 v3.0 起停止发布源代码，并且他们可能为数据添加了额外的障碍（我实际上已经在之后运行了 linux 端口发表这篇文章，它似乎奏效了，那是我走得最远的地方）

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2015-05-24T17:59:01.863

封装位智功能的开源项目

它是用java编写的。可以用作服务或可运行的服务器。

[https://github.com/Nimrod007/waze-api](https://github.com/Nimrod007/waze-api)

链接到文档：

[http://htmlpreview.github.io/?https://github.com/Nimrod007/waze-api/blob/master/docs.html](http://htmlpreview.github.io/?https://github.com/Nimrod007/waze-api/blob/master/docs.html)

它有一个根据给定坐标的交通信息端点。

# php - MyISAM 表的 BigDump 错误

> ID：12871405
> 
> 赞同：0
> 
> 时间：2012-10-13T08:32:27.153
> 
> 标签：php, mysql, database, import, myisam

我正在尝试使用 BigDump 导入数据库，但它给了我这个错误：

```
Error at the line 238: ) ENGINE=MyISAM */;
Query: `username` varchar(64),
`name` varchar(255),
`entityRef` int(11),
`Date` date,
`contactName` varchar(255),
`email` varchar(255),
`tel` varchar(128),
`Qualifies` varchar(3)
) ENGINE=MyISAM */
MySQL: You have an error in your SQL syntax; check the manual that corresponds to your
MySQL server version for the right syntax to use near
'`username` varchar(64), `name` varchar(255), `entityRef` int(11), `Date` d' at line 1 
```

我完全被这个难住了，因为我以前使用过 BigDump 没有任何问题。

我怎样才能解决这个问题？

* * *

这是正在导入的 sql 文件中的块：

```
DROP TABLE IF EXISTS `_funnel`;
/*!50001 DROP VIEW IF EXISTS `_funnel`*/;
SET @saved_cs_client     = @@character_set_client;
SET character_set_client = utf8;
/*!50001 CREATE TABLE `_funnel` (
`username` varchar(64),
`name` varchar(255),
`entityRef` int(11),
`Date` date,
`contactName` varchar(255),
`email` varchar(255),
`tel` varchar(128),
`Qualifies` varchar(3)
) ENGINE=MyISAM */;
SET character_set_client = @saved_cs_client; 
```

此外，我导出的 SQL 文件中有一些视图。这可能是一个问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-13T08:38:26.000

这里是更新的sql，我把评论放在;之后。

```
DROP TABLE IF EXISTS `_funnel`;
/*!50001 DROP VIEW IF EXISTS `_funnel`;*/
SET @saved_cs_client     = @@character_set_client;
SET character_set_client = utf8;
/*!50001 CREATE TABLE `_funnel` (
`username` varchar(64),
`name` varchar(255),
`entityRef` int(11),
`Date` date,
`contactName` varchar(255),
`email` varchar(255),
`tel` varchar(128),
`Qualifies` varchar(3)
) ENGINE=MyISAM ;*/
SET character_set_client = @saved_cs_client; 
```

但是你应该创建我认为的表。为什么要在创建语句中添加评论

# c++ - qt 垃圾收集和智能指针

> ID：12871415
> 
> 赞同：5
> 
> 时间：2012-10-13T08:35:09.620
> 
> 标签：c++, qt, smart-pointers

我正在考虑在我的 qt 工作中开始使用智能指针。让我感到困惑的是智能指针如何与 Qt 垃圾收集一起使用。整个 Qt 都遵循子 QObject 以 QObject* parent 作为 ctor 参数构造的习语，因此可以进行垃圾收集。例如：

```
 QWidget* mWidget = new QWidget(this);//Here we not only 
                                          //ensure that mWidget will be deleted  
                                          //when its parent is deleted, but also tell qt,  
                                          //that mWidget is not a window, but belongs to 
                                          //parent's layout 
```

现在，如果我想将 mWidget 包装到智能指针中。

```
 typedef QScopedPointer<QWidget> WidgPtr;
 WidgPtr mWidget = WidgPtr(new QWidget(this)); 
```

但是现在当调用 parent 的 dtor 时，它会在 mWidget 的指针上调用 delete 两次。首先是由于垃圾收集，其次是调用智能指针 dtor。

当然我们可以在没有父级的情况下构造mWidget，然后改变一些标志来关闭窗口行为或调用setParent()（但是mWidget又会被删除两次）。但对我来说，做如此复杂的初始化只是为了能够使用智能指针而不是原始指针，这太过分了。或者我想念什么？谢谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-13T08:50:05.607

`QScopedPointer`并且`QSharedPointer`不知道他们的目标对象是生存还是死亡，因此如果您将智能指针保留在成员变量之间以外的任何其他位置，那么是的，在您的情况下，析构函数可能会被调用两次。这就是为什么这些类型的智能指针非常不适合`QObjects`（但是当您的对象没有父对象时它们仍然很有用）。

如果您需要保留指向 的受保护指针`QObject`，请使用[`QPointer`](http://qt-project.org/doc/qt-4.8/qpointer.html): 一旦对象被销毁，它将变为 null，因此您可以随时`delete`使用它，而不必担心造成任何混乱。但请记住，这[`QPointer`](http://qt-project.org/doc/qt-4.8/qpointer.html)不会破坏析构函数中的引用对象。在大多数情况下，您应该建立层次结构`QObjects`并让所有权系统清理内存。

# javascript - 强制 attr=title 弹出一个 on 元素

> ID：12871417
> 
> 赞同：4
> 
> 时间：2012-10-13T08:35:22.287
> 
> 标签：javascript, html

有没有办法，我可以强制元素在元素悬停时显示“标题”弹出窗口。

或者，如果没有，我可以配置它可以显示标题弹出窗口的超时时间是多少？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-13T08:44:31.957

选项一是按预期使用“title”属性。这使您几乎无法控制。您所能做的就是设置内容。您无法设置样式或触发它。

```
<div title="Can you see this tooltip?">My Content With Tooltip</div> 
```

选项二是使用或构建插件。有一个 jQuery 负载。这是[一个例子](http://docs.jquery.com/Plugins/Tooltip)。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-13T08:38:07.977

默认情况下，标题在悬停时显示，您无法更改其行为。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-13T08:40:05.560

> ### [3.2.3.2 标题属性](http://www.w3.org/TR/html5/global-attributes.html#the-title-attribute)
> 
> title 属性表示元素的建议信息，例如适合工具提示的信息。在链接上，这可以是目标资源的标题或描述；在图像上，它可以是图像信用或图像描述；在一个段落上，它可以是一个脚注或对案文的评论；在引文中，可能是有关来源的更多信息；等等。值为文本。

因此，该标准建议建议应以适当的方式显示。HTML4 规定，*“标题属性的值可以由用户代理以多种方式呈现。例如，视觉浏览器经常将标题显示为“工具提示”（指点设备暂停时出现的短消息）一个对象）。音频用户代理可以在类似的上下文中说出标题信息”*，参见[7.4.3](http://www.w3.org/TR/html4/struct/global.html#h-7.4.3)。

但是，如果用户代理不显示信息，则不能使用 title 属性。但是任何图形浏览器（Internet Explorer、Firefox、Chrome、Safari、Opera 等）中的默认行为正是标准所推荐的：它们将 title 属性的内容显示为工具提示。

# java-me - LWUIT HtmlComponent

> ID：12871421
> 
> 赞同：1
> 
> 时间：2012-10-13T08:36:10.460
> 
> 标签：java-me, lwuit

我有一个 HTML 字符串：

```
String html="<p><img border=\"1\" align=\"left\" width=\"150\" vspace=\"2\" hspace=\"2\" height=\"159\" src=/"tmdbuserfiles/ntr-vv-vinayak-pics.jpg\" alt=\"Prithvi II, ballistic missile, DRDO, armed forces,Chandipur, Balasore district, Odisha State\" />The Strategic Forces Command of the armed forces successfully flight-tested the surface-to-surface Prithvi II missile from Chandipur in Balasore </P>"; 
```

我想在我的 LWUIT 表单屏幕上显示文本和图像，出于我的要求，我使用了以下代码：

```
public class LwuitMidlet extends MIDlet {

    public void startApp() {
        Display.init(this);
Form f = new Form("Hello, LWUIT!");
String html="<p><img border=\"1\" align=\"left\" width=\"150\" vspace=\"2\" hspace=\"2\" height=\"159\" src=www.teluguone.com/tmdbuserfiles/ntr-vv-vinayak-pics.jpg\" alt=\"Prithvi II, ballistic missile, DRDO, armed forces,Chandipur, Balasore district, Odisha State\" />The Strategic Forces Command of the armed forces successfully flight-tested the surface-to-surface Prithvi II missile from Chandipur in Balasore </P>";

    HTMLComponent com=new HTMLComponent();
       com.setPreferredSize(new Dimension(300,300));

       com.setHTML(html, null, null, false);
       com.setShowImages(true);

       //com.setHTML(image, null, null, false);

      f.addComponent(com);

      f.show();
    }

    public void pauseApp() {
    }

    public void destroyApp(boolean unconditional) {
    }
} 
```

如果我使用上面的代码，我只能显示**文本**，但我无法显示**图像**，我已经在诺基亚 SDK 2.O 和 SDK 3.0.5 上测试了我的应用程序

谁能帮我？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-24T16:58:37.680

您需要拥有完整的 HTML 代码，而不仅仅是片段。HTML、正文等

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-13T18:55:02.283

您在 img 标签上的 src 属性在开头缺少 (") 字符。我没有尝试过，但这可以是它。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-10-25T09:49:20.123

你有没有尝试使用

```
 com.setBodyText(html); 
```

反而

```
 com.setHTML(html, null, null, false); 
```

和。我正在使用 LWUIT 示例应用程序中的 HttpRequestHandler 实现（您可以获取示例应用程序：LWUITBrowser），而不是 DefaultRequestHandler 或 null。

```
HttpRequestHandler handler = new HttpRequestHandler();
HTMLComponent com = new HTMLComponent(handler); 
```

希望能帮助到你。

# asp.net-mvc - 如何将 Kendo UI mvc Grid 与 Kendo Mvc 自动完成同步

> ID：12871430
> 
> 赞同：1
> 
> 时间：2012-10-13T08:37:07.980
> 
> 标签：asp.net-mvc, asp.net-mvc-3, kendo-ui

我正在使用 asp.net mvc witk Kendo UI MVC 工具。我正在尝试在 Kendo UI Mvc Grid 中显示记录列表。当我输入一个字母时，我有一个剑道 ui 自动完成文本框，它显示与条件匹配的相应字段记录，将像下拉菜单一样显示。现在我想将自动完成文本框与 kendo ui mvc 网格同步。这意味着当我键入符合条件的字母记录时，应显示在网格中。我尝试过更改事件，但它似乎对我不起作用。

```
 @(Html.Kendo().AutoComplete().Events(c=>c.Change("GridChange"))
                                                   .Name("txtSearchItem")
                                                .Filter("startswith")
                                           .DataTextField("xxx")
                                              .Value(ViewBag.SearchValue)
                              .BindTo((List<MyRecords>)Model).HtmlAttributes(new { @class = "required", style = "font-size:19px;width:150px;", onkeypress = "return isNumericKey(event);" })
                                                ) 
```

请指导我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-02T14:22:49.513

首先，创建一个带有 a 的网格`HeaderTemplate`来创建一个组合框，该组合框也具有自动完成功能。

```
 @( Html.Kendo().Grid(Model)

                   .Name("Grid")
                   .ClientDetailTemplateId("inventoryTemplate")
                   .DataSource(ds => ds.Ajax()
                           .Read(r => r.Action("Read", "Home"))
                           )
                   .Columns(columns =>
                   {
                       columns.Bound(p => p.Item).Width(10)
                         .Filterable(false).Sortable(false).HeaderTemplate(@<text>
        @(Html.Kendo().ComboBox()
                                .DataValueField("Items")
                                .Placeholder("Items")
                                .DataTextField("Items")
                                .Name("Items")
                                .DataSource(ds => ds.Read(rea => rea.Action("ListOfItems", "Home")))
                                .Events(ev => ev.Change("onComboListCodeChange"))
                              )
                              </text>);
                   })
                   ) 
```

现在创建此方法将从过滤器字典中获取一个数组，稍后您将需要它。

```
 function getArrayFromDic(dic) {
    var arr = new Array();
    arr = $.map(dic, function (n, i) {
        return { field: n.field, operator: n.operator, value: n.value };
    });
    return arr;

} 
```

此函数将获得一个字典，该字典表示网格上可用的过滤器。如果有多个过滤器。

```
 function getFilterDic() {

    var grid = $('#Grid').data('kendoGrid');
    var filtersDicTemp = {
    };

    if (grid.dataSource._filter) {
        $.each(grid.dataSource._filter.filters, function (index, value) {
            filtersDicTemp[value.field] =
                                    {
                                        field: value.field, operator: value.operator, value: value.value
                                    }
        });
    }
    return filtersDicTemp;
} 
```

在这种情况下，每次更改过滤器自动完成组合框的值时都会调用它。kendo.data.DataSource 上有一个名为[filter](http://docs.kendoui.com/api/framework/datasource#filter%20array%20%20objectdefault)的方法，您可以在其中传递一个过滤器数组。

```
function onComboListCodeChange(e) {
        var grid = $('#Grid').data('kendoGrid');
        var filtersDic = getFilterDic();
        if (this.value() && this.value() != 'All') {
            if (this.value() != 'Items' && this.value() != '') {
                filtersDic["Items"] =
               {
                   field: "Items", operator: "startswith", value: this.value()
               }
            }
        }
        else {
            if (filtersDic["Items"]) {
                delete filtersDic["Items"];
            }
        }

        var filters = getArrayFromDic(filtersDic);

        grid.dataSource.filter(
               filters
           );
    } 
```

希望它有所帮助！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-14T15:18:24.773

使用这里的方法[http://demos.kendoui.c​​om/web/grid/toolbar-template.html](http://demos.kendoui.com/web/grid/toolbar-template.html)

不同之处在于您将使用 AutoComplete（几乎相同）并且您不需要通过工具栏模板将其放入工具栏内。

# c++ - 如何在 Xcode 中编译和链接 MacPort 的 libstdc++？

> ID：12871440
> 
> 赞同：4
> 
> 时间：2012-10-13T08:37:52.487
> 
> 标签：c++, xcode, std, macports, libstdc++

我刚刚通过 MacPorts 升级了我的 gcc 发行版，我想将最后一个 libstdc++4.7（它支持我感兴趣的许多 C++11 功能）与 Xcode 的 clang++ 一起使用。显然，通过 MacPorts 的命令激活新的 gcc4.7`select`是不够的，因为 Xcode 一直在抱怨缺少头文件，例如

```
#include<random>

'random' file not found 
```

我已经设置了一个额外的头文件目录（MacPorts 默认 root `/opt/local/include`）和额外的库目录（MacPorts 默认 root `/opt/local/lib`），但是看起来 Xcode 很难识别它的 C++ 头文件位于`/opt/local/include/gcc47/c++`.

# php - 关于向字符串添加破折号的奇怪任务。PHP

> ID：12871441
> 
> 赞同：2
> 
> 时间：2012-10-13T08:38:01.247
> 
> 标签：php, string, recursion, replace

我需要一个可以执行以下操作的函数：

如果我有这样的字符串，`"2 1 3 6 5 4 8 7"`我必须按照一些规则在成对的数字之间插入破折号。

规则很简单。

如果这对数字中的第一个小于后面的数字，则在两个数字之间放置一个破折号。做所有可能的组合，如果一对已经有破折号，那么它旁边的空间不能有破折号。

基本上我对上述字符串的结果是

```
2 1-3 6 5 4 8 7
2 1-3 6 5 4-8 7
2 1 3-6 5 4 8 7
2 1 3-6 5 4-8 7
2 1 3 6 5 4-8 7 
```

我确实创建了一个执行此操作的函数，但我认为它非常缓慢，我不想用它来污染你的想法。如果可能的话，我想知道你们是如何考虑这个问题的，甚至一些伪代码或代码也会很棒。

编辑1：这是我到目前为止的代码

```
$string = "2 1 3 6 5 4 8 7";

function dasher($string){
   global $dasherarray;
   $lockcodes = explode(' ', $string);

   for($i = 0; $i < count($lockcodes) - 1; $i++){
      if(strlen($string) > 2){
         $left = $lockcodes[$i];
         $right = $lockcodes[$i+1];
         $x = $left . ' ' . $right;
         $y = $left . '-' . $right;
         if (strlen($left) == 1 && strlen($right) == 1 && (int)$left < (int)$right) {
            $dashercombination = str_replace($x, $y, $string); 
            $dasherarray[] = $dashercombination;
            dasher($dashercombination);
         }
      }
   }
   return array_unique($dasherarray);
}

foreach(dasher($string) as $combination) {
   echo $combination. '<br>';
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-13T09:15:06.703

也许这将有助于提供不同的方法来解析字符串。

```
$str="2 1 3 6 5 4 8 7";
$sar=explode(' ',$str);
for($i=1;$i<count($sar);$i++)
  if($sar[$i-1]<$sar[$i])
    print substr_replace($str,'-',2*($i-1)+1,1) . "\n"; 
```

请注意，代码只需要字符串中的单个数字。

请注意，代码期望字符串按照您的示例进行格式化。最好添加一些完整性检查（折叠多个空格，在开头/结尾去除/修剪空白）。

我们可以通过查找字符串中的所有空格并使用它们来索引子字符串进行比较来改进这一点，仍然假设只有一个空格分隔相邻的数字。

```
<?php
$str="21 11 31 61 51 41 81 71";
$letter=' ';
#This finds the locations of all the spaces in the strings
$spaces = array_keys(array_intersect(str_split($str),array($letter)));

#This function takes a start-space and an end-space and finds the number between them.
#It also takes into account the special cases that we are considering the first or 
#last space in the string
function ssubstr($str,$spaces,$start,$end){
    if($start<0)
        return substr($str,0,$spaces[$end]);
    if($end==count($spaces))
        return substr($str,$spaces[$start],strlen($str)-$spaces[$start]);
    return substr($str,$spaces[$start],$spaces[$end]-$spaces[$start]);
}

#This loops through all the spaces in the string, extracting the numbers on either side for comparison
for($i=0;$i<count($spaces);$i++){
    $firstnum=ssubstr($str,$spaces,$i-1,$i);
    $secondnum=ssubstr($str,$spaces,$i,$i+1) . "\n";
    if(intval($firstnum)<intval($secondnum))
        print substr_replace($str,'-',$spaces[$i],1) . "\n";
}

?> 
```

请注意显式转换为整数以避免字典比较。

# c# - 无法使用 ProcessInfo 运行 ILAsm

> ID：12871445
> 
> 赞同：1
> 
> 时间：2012-10-13T08:38:45.533
> 
> 标签：c#, .net, cil, il, ilasm

我正在尝试使用 bat 文件和 C# 编译 IL 代码。这是一个 C# 代码

```
ProcessStartInfo processStartInfo = new ProcessStartInfo(ILCompiler, @"c:\Windows\Microsoft.NET\Framework\v4.0.30319\" + ILCompiler + 
    " "+OutILFile+" /exe /output:" + OutExeFile + " /debug=IMPL");
processStartInfo.UseShellExecute = false;
processStartInfo.CreateNoWindow = false;
using (Process.Start(processStartInfo)) ; 
```

这是一个bat文件

```
c:\Windows\Microsoft.NET\Framework\v4.0.30319\ilasm.exe Source.il /exe /output:my-assebmly.exe /debug=IMPL
pause 
```

运行 ILAsm 的字符串**完全相同**（即`processStartInfo.Arguments = Arguments = "c:\\Windows\\Microsoft.NET\\Framework\\v4.0.30319\\ilasm.exe Source.il /exe /output:my-assebmly.exe /debug=IMPL")`

尽管如此，当我使用 C# 运行时出现错误

> 程序无法启动，因为您的计算机缺少 fusion.dll。尝试重新安装程序以解决此问题。

我如何解决它 ？我需要使用 C# 运行 ILAsm。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-13T08:53:10.690

试试这个 ：

```
processStartInfo.WorkingDirectory = @"c:\Windows\Microsoft.NET\Framework\v4.0.30319\" 
```

# c# - 获取文件发送到回收站的日期

> ID：12871456
> 
> 赞同：4
> 
> 时间：2012-10-13T08:40:55.983
> 
> 标签：c#, shell32, recycle-bin

是否有任何电话可以获取文件发送到回收站的日期。

Items 对象`Shell32`给出了`lastmodified`日期，但没有给出发送到回收站的时间。

我希望能够恢复在特定日期删除的文件。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-15T10:11:03.330

好的-像往常一样，当您知道如何操作时，这很简单。我在想这将是文件的属性 - 但它不是 - 它是回收站的属性。

因此，一旦获得了指向回收站的链接：

```
var Shl = new Shell();
Folder Recycler = Shl.NameSpace(10); 
FI = Recycler.Items().Item(0);   
string FileName = Recycler.GetDetailsOf(FI, 0); 
string FilePath = Recycler.GetDetailsOf(FI, 1); 
string RecyleDate = Recycler.GetDetailsOf(FI, 2); 
```

lastmodified 日期是一个单独的属性，仅引用已删除的文件。

# android - 使用 createJS 到 HTML5 使其在 android 设备中工作的 flash 站点覆盖问题

> ID：12871459
> 
> 赞同：4
> 
> 时间：2012-10-13T08:41:29.747
> 
> 标签：android, html, flash, createjs

我们的网站中有 100 多个 flash 文件。多个 swf 文件使用 AS3 和 xml 文件制作 Flash 电影。我们已经使用 createJS 将 .fla 文件转换为 HTML5。在导出到 HTML5 并且未转换期间，我们收到一些 Flash 文件的以下错误。

*   导出过程中发生意外错误。(JSK)

转换后的 html5 文件与 flash 不同。我们的方法是

*   使用工具将 Flash 文件转换为 HTML5
*   编辑隐藏的代码并使用java脚本库的帮助，尽量让它像flash一样工作。

我们对这种方法感到震惊，因为我们没有为大多数文件获取正确的 html5 代码。我们选择了 createJS（转换工具），因为转换后的代码是可读的。

以下是我的疑惑

1.  我们的方法正确吗？

2.  我们的目标是高分辨率安卓平板电脑。所以在这样做的时候，我们是否需要注意任何导入的东西，比如屏幕分辨率、缩放等？

3.  是否有任何其他解决方法可以将 Flash 网站转换为兼容 Android 平板电脑？

**注意**：我们尝试过 swiffy，但 swiffy 不支持 AS3，转换后的代码也不可读！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-06-06T12:11:07.963

CreateJS 工具可以帮助您使用 javascript 将您的 Flash 资源和脚本转换为 HTML5，但您几乎总是有一些问题需要逐个处理。特别是如果您有很多动作脚本、动画中的复杂动画或音频和视频播放器，您将不得不重写一些代码。

此外，CreateJS 不会自动让您的动画响应不同的屏幕尺寸或创建视网膜资源。

如果您事先知道您的 Flash 动画将被转换为 HTML5，则 CreateJS 效果最好。然后，您可以考虑哪些有效，哪些无效。

# implementation - protobuf中序列化子消息的实现

> ID：12871461
> 
> 赞同：2
> 
> 时间：2012-10-13T08:41:54.050
> 
> 标签：implementation, protocol-buffers

我正在学习protobuf的实现。但是，有一点我无法理解。框架如何将子消息（对象）序列化为具有可变头部的缓冲区，即使有时它的长度真的很难弄清楚！将其序列化到其他地方并稍后将其复制到缓冲区中？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-13T10:12:36.123

我能想到的至少有四种方法，只要它得到正确的答案，“哪个”是一个实现细节：

*   序列化到单独的缓冲区，然后复制
*   对标头的长度做出假设，跳过它，序列化，然后返回并修复标头（可能涉及移动，但并非总是如此）
*   如果您使用构建器，它可能会在您添加数据时单独序列化，然后再组合：在这种情况下，确定长度是微不足道的
*   或者它可以有代码来计算值的长度而不实际序列化

我已经在不同的时间实施了其中至少 3 种方式！

# asp.net - 如何在 WebMatrix v2 中使用自定义类？

> ID：12871462
> 
> 赞同：0
> 
> 时间：2012-10-13T08:42:11.960
> 
> 标签：asp.net, webmatrix, webmatrix-2

我在 ASP.NET 中做了第一步，但我遇到了类问题。我想创建一个新的自定义类来支持会话并收集有关我网站上用户数量的信息。我在文件 MySession.cs 中创建了一个类，该类已被 WebMatrix 放入名为“App_data”的目录中。当我尝试在 .cshtml 文件中使用此类时，它会向我抛出找不到该类的信息。我在网上发现，这个类应该放在App_Code中，所以我做了。但是，此时它向我显示了一个错误，即找不到“请求”之类的类。

如何在 WebMatrix 中使用自定义类？

我的 .cshtml 文件中的 c# 代码如下所示：

```
@{  
  MySession session = new MySession(60);
  session.start();
  var db = Database.Open("studia");
  var data = db.Query("SELECT COUNT(*) as total FROM sessions");
} 
```

和类文件看起来像：

```
using System;
using System.Collections.Generic;
using System.Web;
using System.Security.Cryptography;
using System.Data;
using System.Data.SqlClient;

    /// <summary>
    /// Summary description for sesss
    /// </summary>
    public class MySession
    {
        private String _session_id;
        private int _session_time;

        public MySession(int session_time = 60)
        {
            _session_time = session_time;
            using (MD5 md5Hash = MD5.Create())
            {
                _session_id = (Request.Cookies["session_id"] != null) ? Server.HtmlEncode(Request.Cookies["sesion_id"].Value) : GetMd5Hash(md5Hash, DateTime.Now);
            }
            cleanup();
        }

        public bool isLogged()
        {
            if (Request.Cookies["session_id"] != null)
            {
                return true;
            }
            return false;
        }

        public void start(string username)
        {
            DateTime now = DateTime.Now;

            var db = Database.Open("studia");

            if (isLogged())
            {
                db.Query("UPDATE sessions SET start_time = " + now + " WHERE session_id = " + _session_id);
            }
            else
            {
                db.Query("INSERT INTO sessions (id, start_time, username) VALUES ('" + _session_id + "', '" + now + "', '" + username + "'");
            }

            HttpCookie session_cookie = new HttpCookie("session_id");
            session_cookie.Value = DateTime.Now;
            session_cookie.Expires = DateTime.Now.AddSeconds(_session_time);
            Response.Cookies.Add(aCookie);
        }

        public void cleanup()
        {
            var db = Database.Open("studia");
            db.Query("DELETE FROM sessions WHERE start_time < " + (DateTime.Now - _session_time));
        }

        static string GetMd5Hash(MD5 md5Hash, string input)
        {

            // Convert the input string to a byte array and compute the hash.
            byte[] data = md5Hash.ComputeHash(Encoding.UTF8.GetBytes(input));

            // Create a new Stringbuilder to collect the bytes
            // and create a string.
            StringBuilder sBuilder = new StringBuilder();

            // Loop through each byte of the hashed data
            // and format each one as a hexadecimal string.
            for (int i = 0; i < data.Length; i++)
            {
                sBuilder.Append(data[i].ToString("x2"));
            }

            // Return the hexadecimal string.
            return sBuilder.ToString();
        }

        // Verify a hash against a string.
        static bool VerifyMd5Hash(MD5 md5Hash, string input, string hash)
        {
            // Hash the input.
            string hashOfInput = GetMd5Hash(md5Hash, input);

            // Create a StringComparer an compare the hashes.
            StringComparer comparer = StringComparer.OrdinalIgnoreCase;

            if (0 == comparer.Compare(hashOfInput, hash))
            {
                return true;
            }
            else
            {
                return false;
            }
        }

    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-13T09:07:11.820

如果要在类中引用 Request 对象（而不是从页面文件中），则需要使用[HttpContext.Current](http://msdn.microsoft.com/en-us/library/system.web.httpcontext.current.aspx)例如

```
public bool isLogged()
{
  return HttpContext.Current.Request.Cookies["session_id"] != null;
} 
```

# c++ - 用高斯混合模型估计颜色分布

> ID：12871464
> 
> 赞同：1
> 
> 时间：2012-10-13T08:42:18.263
> 
> 标签：c++, opencv, background-color, video-capture, gaussian

我正在尝试使用两个带有 EM 算法的高斯混合来估计视频帧的颜色分布。为此，我想在颜色分布中使用两个单独的峰值作为两个高斯均值，以方便 EM 计算。在 OpenCV 中实现这些我有几个困难。

**我的第一个问题是：**如何确定这两个峰值？我在 OpenCV 中搜索了峰值估计，但仍然找不到任何单独的函数。所以我要确定两个区域，然后找到它们的最大值作为峰值。这种方式正确吗？

**我的第二个问题是：**如何在 OpenCV 中使用 EM 执行高斯混合模型？据我所知，“cv::EM::predict”函数可以给我最可能的混合成分的索引。但是我在训练 EM 方面遇到了困难。我搜索并找到了其他一些代码，但是找到正确的参数太难了。有人可以为此提供任何示例代码吗？先感谢您。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-15T13:37:32.810

@ederman，尝试 {OpenCV library location}\opencv\samples\cpp\em.cpp 而不是网络链接。我认为链接中的示例代码现在已经过时了。我已经在 OpenCV 2.3.1 中成功编译了示例代码。对于 2.4.2 来说应该不是问题。

祝你好运：）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-11-27T04:07:42.357

> **我的第一个问题是**：如何确定这两个峰值？

我将遍历可能的样本值范围，并测试 EM.predict(sample)[0] 何时达到峰值。

# php - 将文件和字符串从android上传到服务器不起作用

> ID：12871466
> 
> 赞同：1
> 
> 时间：2012-10-13T08:42:18.153
> 
> 标签：php, android, file, upload, webserver

我想使用 php 将文件从 android 设备上传到服务器。此外，我想使用 WHERE 语句将文件名发送到数据库。我可以上传我的文件，但我无法发送 WHERE 语句，我不知道在哪里以及如何将它放在 android 源中。

这是我的php代码：

```
<form action="FileUp.php" method="post" enctype="multipart/form-data">
</form>

<?php

mysql_connect('localhost','root','root');
mysql_select_db('db');

$target_path  = "./";
$target_path = $target_path . basename( $_FILES['uploadedfile']['name']);
$file = basename( $_FILES['uploadedfile']['name']);
if(move_uploaded_file($_FILES['uploadedfile']['tmp_name'], $target_path)){
echo "The file ".  basename( $_FILES['uploadedfile']['name']).
" has been uploaded";
} else{
echo "There was an error uploading the file, please try again!";
}
$ident=addslashes($_POST['ident']);

mysql_query ("UPDATE table SET column = CONCAT(column,'$file') WHERE id = '$ident'");

?> 
```

这是Java代码：

```
@Override
        public void onClick(View v) {
            // TODO Auto-generated method stub

            String exsistingFileName = file.getText().toString();
            String lineEnd = "\r\n";
            String twoHyphens = "--";
            String boundary = "*****";
            try {
                // ------------------ CLIENT REQUEST

                Log.e(Tag, "Inside second Method");

                FileInputStream fileInputStream = new FileInputStream(new File(
                        exsistingFileName));

                // open a URL connection to the Servlet

                URL url = new URL(urlString);

                // Open a HTTP connection to the URL

                conn = (HttpURLConnection) url.openConnection();

                // Allow Inputs
                conn.setDoInput(true);

                // Allow Outputs
                conn.setDoOutput(true);

                // Don't use a cached copy.
                conn.setUseCaches(false);

                // Use a post method.
                conn.setRequestMethod("POST");

                conn.setRequestProperty("Connection", "Keep-Alive");

                conn.setRequestProperty("Content-Type",
                        "multipart/form-data;boundary=" + boundary);

                DataOutputStream dos = new DataOutputStream(conn.getOutputStream());

                dos.writeBytes(twoHyphens + boundary + lineEnd);
                dos
                        .writeBytes("Content-Disposition: post-data; name=uploadedfile;filename="
                                + exsistingFileName + "" + lineEnd);
                dos.writeBytes(lineEnd);

                Log.e(Tag, "Headers are written");

                // create a buffer of maximum size

                int bytesAvailable = fileInputStream.available();
                int maxBufferSize = 1000;
                // int bufferSize = Math.min(bytesAvailable, maxBufferSize);
                byte[] buffer = new byte[bytesAvailable];

                // read file and write it into form...

                int bytesRead = fileInputStream.read(buffer, 0, bytesAvailable);

                while (bytesRead > 0) {
                    dos.write(buffer, 0, bytesAvailable);
                    bytesAvailable = fileInputStream.available();
                    bytesAvailable = Math.min(bytesAvailable, maxBufferSize);
                    bytesRead = fileInputStream.read(buffer, 0, bytesAvailable);
                }

                // send multipart form data necesssary after file data...

                dos.writeBytes(lineEnd);
                dos.writeBytes(twoHyphens + boundary + twoHyphens + lineEnd);

                // close streams
                Log.e(Tag, "File is written");
                fileInputStream.close();
                dos.flush();
                dos.close();

            } catch (MalformedURLException ex) {
                Log.e(Tag, "error: " + ex.getMessage(), ex);
            }

            catch (IOException ioe) {
                Log.e(Tag, "error: " + ioe.getMessage(), ioe);
            }

            try {
                BufferedReader rd = new BufferedReader(new InputStreamReader(conn
                        .getInputStream()));
                String line;
                while ((line = rd.readLine()) != null) {
                    Log.e("Dialoge Box", "Message: " + line);
                }
                rd.close();

            } catch (IOException ioex) {
                Log.e("MediaPlayer", "error: " + ioex.getMessage(), ioex);
            } 
```

请帮助我需要将身份字符串放在哪里才能发送到php端！非常感谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-13T08:47:14.487

您可以通过`MultipartEntity`.

`MultipartEntity`，部分`HttpMime 4.0`和以后。允许您将由边界字符串分隔并使用给定字符集编码的多个部分放入 httppost 请求中。

有关更多信息以及如何使用 Multipart，请参阅[this](https://stackoverflow.com/questions/2935946/sending-images-using-http-post)和[this](https://stackoverflow.com/questions/2017414/post-multipart-request-with-android-sdk)。

# java - 哪种方法可以在数据更改时更新组件？

> ID：12871467
> 
> 赞同：0
> 
> 时间：2012-10-13T08:42:20.150
> 
> 标签：java, swing, javabeans, datamodel

我有一个显示某些（外部）bean 属性的组件。即 bean 支持该组件。现在我想定期更新图片。当然我可以编写自己的方法来更新。但是在摇摆的意识形态中可能有一个吗？

更新数据模型时通常使用哪种模式，现在需要以可视形式反映新数据？

# cakephp - CakePHP + AngularJS + 复杂的 json 输出

> ID：12871468
> 
> 赞同：2
> 
> 时间：2012-10-13T08:42:45.333
> 
> 标签：cakephp, angularjs

我有复杂的 JSON 输出。

```
{"pages":[{"Page":{"id":"1","title":"My title"}}]} 
```

如何在 angularjs foreach 循环中使用它？

谢谢你。

编辑：有人写了一个提示，但删除了它:) 谢谢。

我这样解决了

```
<ul>
    <li ng-repeat="page in pages.pages"><a href="p/{{page.Page.id}}-{{page.Page.title}}">{{page.Page.title}}</a></li>
</ul> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-13T19:42:15.543

我的意思是你几乎是对的（？）

在客户端：

```
function PagesController($scope, $http) {
    $http.get('pages/index.json').success(function(data) {
        $scope.pages = data.pages;
    });
} 
```

在视图文件中：

```
<ul ng-controller="PagesController">
    <li ng-repeat="obj in pages"><a>{{obj.Page.title}}</a></li>
</ul> 
```

如果您不支持 .json 扩展名，那么只需在您拥有它的地方获取它。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-01T00:24:21.023

你可以看看这个[Format Associative JSON to Work With Knockout.js](http://mindthecode.com/format-associative-json-to-work-with-knockout-js/)

希望能帮助到你

# javascript - coffeescript 本地编译器和 coffeescript 到 js 站点输出不同的结果

> ID：12871475
> 
> 赞同：-1
> 
> 时间：2012-10-13T08:43:46.653
> 
> 标签：javascript, coffeescript

如果我在本地机器上使用咖啡脚本编译器将此咖啡脚本编译为 javascript：

```
window.App =
  Models: {}
  Views: {}
  Collections: {}
  Routers: {}
  init: ->
      Backbone.history.start() 
```

我将得到这个生成的 javascript 输出：

```
// Generated by CoffeeScript 1.3.3
(function() {

  window.App = {
    Models: {},
    Views: {},
    Collections: {},
    Routers: {}
  };

  ({
    init: function() {
      var spotsList;
      spotsList = new App.Views.SpotsList();
      return Backbone.history.start();
    }
  });

}).call(this); 
```

但是，如果我将在线咖啡脚本中的相同代码编译为 js [http://js2coffee.org/](http://js2coffee.org/)站点，我将得到以下结果：

```
window.App = {
  Models: {},
  Views: {},
  Collections: {},
  Routers: {},
  init: function() {
    return Backbone.history.start();
  }
}; 
```

后者似乎更值得期待。我认为这可能会在我的项目中引起一些问题，但不能说。我知道当我调用 App.init() 时，我的 JavaScript 控制台说它不存在。谢谢您的帮助！

固定的！

正如@Rob W 在下面指出的那样，我的咖啡脚本代码中有一些标签。后来我发现这是因为我全新安装了 TextMate 并且没有将其设置为“软标签（空格）”。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-13T09:00:10.427

您的“本地”和“在线”结果有两个不同之处。

1.  本地版本被包裹在一个闭包中。
2.  本地版的`init`方法是外挂`App`。

额外的闭包是`coffee`编译器的默认行为。使用`--bare`标志不摆脱包装：

```
coffee --bare --compile app.coffee 
```

没有理由发生 2。确保空格匹配：如果在 Models 等之前有四个前面的空格，在 init 之前有三个空格，那么输出将是“错误的”。

# snapshot - Dart 中的快照概念是什么？

> ID：12871476
> 
> 赞同：17
> 
> 时间：2012-10-13T08:43:56.200
> 
> 标签：snapshot, dart

我已经读过，使用 dart，由于快照，您的应用程序启动速度可以提高 10 倍。谁能解释它到底是什么以及它是如何工作的？我将在什么样的应用程序中使用快照？

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-10-13T21:54:00.273

Dart 的快照类似于[Smalltalk 图像](http://en.wikipedia.org/wiki/Smalltalk#Image-based_persistence)，因为它们允许几乎即时的应用程序启动。但是，与 Smalltalk 图像不同，快照不存储程序状态。

这在速度较慢的移动设备中特别有用，因为它们本质上速度较慢，并且比桌面系统更受内存限制。这个原因以及电池使用要求我们关闭不必要的程序这一事实使得启动速度很重要。

Dart 使用堆快照功能解决了这个启动缓慢的问题，这类似于 Smalltalk 的图像系统。遍历应用程序的堆并将所有对象写入一个简单文件。注意：目前，Dart 发行版附带了一个启动 Dart VM、加载应用程序代码的工具，并且在调用 main 之前，它会拍摄堆的快照。Dart VM 可以使用这样的快照文件来快速加载应用程序。

快照功能还用于序列化在 Dart 隔离之间发送的对象图（使用 SnapshotWriter 序列化）。

目前我不知道任何方式来启动快照或处理它们。将来，我希望可以从 Web 服务器提供快照文件，并由浏览器 Dart VM 即时处理。

快照格式本身是跨平台的，这意味着它可以在 32 位、64 位机器等之间工作。该格式已被制作成可以快速读入内存，重点是最大限度地减少指针修复等额外工作。

以下是 snapshot.cc 的源代码：[http ://code.google.com/p/dart/source/browse/trunk/dart/runtime/vm/snapshot.cc](http://code.google.com/p/dart/source/browse/trunk/dart/runtime/vm/snapshot.cc)

和测试：[http ://code.google.com/p/dart/source/browse/trunk/dart/runtime/vm/snapshot_test.cc](http://code.google.com/p/dart/source/browse/trunk/dart/runtime/vm/snapshot_test.cc)

所以它之所以能够将应用程序启动速度提高 10 倍，是因为它**不是**像 JavaScript 这样按原样发送并在之后慢慢处理的源代码。

And where would you like to use it? Anywhere you possibly can. On the server side, it's basically already happening for you (and doesn't matter really). but on the client-side, that's not possible **yet**. As I understand it, it will be possible to serve these snapshots to the browser for instant startup, but you really have to wait since it's not available as of now.

# javascript - jquery-ui-map 在点击事件上添加标记

> ID：12871481
> 
> 赞同：2
> 
> 时间：2012-10-13T08:44:23.267
> 
> 标签：javascript, jquery, google-maps

目前我正在使用[jquery-ui-map](http://code.google.com/p/jquery-ui-map/)插件。我遇到了一个问题。是否可以通过**此插件添加一个事件侦听器，该事件侦听器将在用户单击它的地图上添加一个标记**。在发现[这个插件的 Api](http://code.google.com/p/jquery-ui-map/wiki/jquery_ui_map_v_3_api)之后，我尝试了这个代码：

```
$('#map_canvas')
    .gmap()
    .addEventListener('click',function(event, test){
        //console.log(event);
    }); 
```

`#map_canvas`包含我的地图的 div 元素在哪里。此代码确实添加了一个事件侦听器，但变量 event 没有`.latLng`属性。我怎么能做到这一点？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-13T09:00:18.897

Google-Fu 帮助了我。这就是[例子](http://jquery-ui-map.googlecode.com/svn/trunk/demos/jquery-google-maps-geocoding.html)。

```
$('#map_canvas').gmap().bind('init', function(event, map) { 
    $(map).click( function(event) {
        $('#map_canvas').gmap('addMarker', {
            'position': event.latLng, 
            'draggable': true, 
            'bounds': false
        }, function(map, marker) {
            //do whatever you need with the maker utilizing this variable
            marker.__gm_id
        });
    });
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-13T08:46:06.503

尝试类似的东西

```
$('#map_canvas').gmap().bind('init', function(ev, map) {
    $('#map_canvas').gmap('addMarker', {'position': '57.7973333,12.0502107', 'bounds': true}).click(function() {
        $('#map_canvas').gmap('openInfoWindow', {'content': 'Hello World!'}, this);
    });
}) 
```

如需更多参考，[请查看此链接](http://jquery-ui-map.googlecode.com/svn/trunk/demos/jquery-google-maps-basic-example.html)

# android - Android：如何重新挂载 /system 以在没有 root 的情况下进行读写

> ID：12871485
> 
> 赞同：0
> 
> 时间：2012-10-13T08:44:44.127
> 
> 标签：android, shell, frameworks, embedded-linux, android-firmware

我听说 /etc 中有一个名为 vold.fstab 的文件。修改它有什么帮助吗？我希望能够以普通用户的身份重新挂载。

或者是否可以授予特定权限以仅以用户身份运行 remount 命令？例如是否可以将某些命令访问权限设置为除 root 用户之外的特定用户？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-18T04:44:49.780

不，这是不可能的，除非您安装一个自定义的 android 版本，出于所有实际目的，该版本缺乏安全模型 - 或者使用本地权限提升攻击来获取临时 root shell 以从中发出命令。

即使您要让非 root 用户重新挂载文件系统，他们也无法实际更改其中的任何内容，因为他们缺乏必要的文件/目录权限，因此从字面上回答您的问题毫无意义。

您可能想要做的是安装一个至少有点安全的工具，以便在需要时获得 root shell - 即“root”您的手机。这将使您既可以重新挂载文件系统，也可以对其进行更改，但希望可以防止/阻止您设备上的其他随机代码这样做。

# javascript - 获取长水平div的宽度并使用javascript找到中间

> ID：12871486
> 
> 赞同：0
> 
> 时间：2012-10-13T08:44:52.817
> 
> 标签：javascript, html

我有一个 9000px 的水平 div 容器，我想找到它的中间部分。

我有这段代码，但它获得了窗口的整个宽度，而不是容器 div。

```
 $(document).ready(function(){
     scrollTo(($(document).width() - $(window).width()) / 2, 0);
}); 
```

这是整个代码的**[jsFiddle](http://jsfiddle.net/iamthestig/KUqWx/)**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-13T08:51:07.673

如果 9000px div 的 id 为 #long_div，则不应为 $(document)，请参见下面的代码。

```
$(document).ready(function(){
  scrollTo($("#long_div").width()/2, 0);
}); 
```

# iphone - 如何从 BT4.0 中的外设读取值？

> ID：12871489
> 
> 赞同：0
> 
> 时间：2012-10-13T08:45:37.877
> 
> 标签：iphone, ios6, core-bluetooth

我正在使用 BT 4.0 开发应用程序。我的中央管理器正在扫描外围设备并连接到它发现的外围设备之一。问题是我找不到如何从连接的外围设备中读取特征值。我看过 WWDC2012，但没有帮助。谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-18T09:05:15.923

检查此应用程序链接..希望对您有所帮助

[https://itunes.apple.com/us/app/lightblue/id557428110?mt=8&ign-mpt=uo%3D4](https://itunes.apple.com/us/app/lightblue/id557428110?mt=8&ign-mpt=uo%3D4)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-15T22:06:08.750

连接设备后使用 CBPeripheral：http: [//developer.apple.com/library/mac/#documentation/CoreBluetooth/Reference/CBPeripheral_Class/translated_content/CBPeripheral.html](http://developer.apple.com/library/mac/#documentation/CoreBluetooth/Reference/CBPeripheral_Class/translated_content/CBPeripheral.html)

# project-management - 看板组织新软件的开发

> ID：12871492
> 
> 赞同：1
> 
> 时间：2012-10-13T08:46:26.900
> 
> 标签：project-management, agile, kanban

在我们的团队中，我们正在评估将看板用作软件开发的组织工具。5人团队的开发阶段大约需要6个月。我们将所有与客户商定的功能需求、业务规则和用例作为输入——换句话说，就是宏观需求。我们会将故事中的这些规则转换为看板的“原子”流程单元。看板本身将用作绩效评估工具和进度路线图。看板“规定”每个阶段都有固定数量的故事，但由于软件是新的和复杂的，“故事”可能会有数百个——所以我想把所有故事都放在积压中发展不会是明智之举。

对于这种情况，最佳做法是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-13T19:37:50.540

首先，很少有团队为积压设置限制。看板建议在制品 (WIP) 限制。积压的项目很少被认为是“进行中”。

其次，考虑到您或多或少知道项目的范围，强迫自己人为地限制积压项目的数量没有多大意义。

同时你是对的，把几百个项目放在积压中是没有意义的。董事会将人满为患，其有用性将大大下降。

组织积压的典型策略是这种情况包括：

*   将史诗般的故事/功能保留在待办事项中，并仅在您开始处理它们时将它们拆分为详细的故事/任务。这样，您的项目就会少得多，而您仍然能够处理开发阶段的详细任务。

*   堆叠将成为应用程序同一部分的一部分的故事。如果您已经拆分了范围，则人为隐藏此信息是没有意义的。但是，您可以堆叠已连接或将同时完成的工作项。它使积压工作更清洁，一旦您开始构建项目，您就可以完全轻松地将它们拆开。

*   分期积压。如果您有一个粗略的计划，您的开发将如何进行，您可以有几个阶段的积压工作。早期的一个是一个盒子，您可以在其中存储您将构建的所有功能（它甚至可以是一个附在板上的物理盒子），而后来的一个则显示仅在下一个时间段内工作。这样，您在板上看到的项目更少，但从技术上讲，所有工作都在那里。

当然，只要看起来合理，混合所有这些想法是可能的，甚至是鼓励的。

[顺便说一句：您可以在此演示文稿](http://www.slideshare.net/pawelbrodzinski/kanban-basics-5834758)中看到其中一些技术的可视化（幻灯片 21）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-19T08:29:28.153

我必须不同意：积压的限制是可能的。可能不在输入列中，但是例如，如果进程有一些优先级列，最高优先级列可以包含一个限制，因此可能不会推送许多高优先级任务，因为 WIP 无法保持这样的速度，它们将在那里挂起.

[看板看起来像这样](http://www.eylean.com/Images/backlog_limits.jpg) ![在此处输入图像描述](../Images/45409012ed8bdf65900fdbc3646a215a.png)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-13T20:28:58.223

Henrik Kniberg 在他关于看板的免费书中描述了如何将 WIP 限制设置为积压工作有助于首先关注最重要的功能。

我认为这是一个很好的策略，尤其是对产品负责人而言。待办事项仅包含即将开发的故事，而其他故事可能在思维导图或“愿望清单”中。

# git - 将现有的 git repos 变成父项目的子模块

> ID：12871494
> 
> 赞同：2
> 
> 时间：2012-10-13T08:46:38.087
> 
> 标签：git, shell

我有几个未版本控制的项目，这些项目又包含大量插件，其中一些是 git 克隆。我现在想把父项目变成一个 git repo，最好不用遍历所有插件，确定哪些是 git repos，然后手动将它们转换为父项目的子模块（当然，这是期望的结果） .

是否有捷径可寻？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-13T09:08:45.050

你可以用一个简短的 shell 脚本来做到这一点：

```
#!/bin/sh

for d in plugins/*
do
    if [ -e "$d/.git" ]
    then
        # Unstage the gitlink, so we can then add it back as a submodule:
        git rm --cached "$d"
        # Guess that the URL for origin is a reasonable one to use:
        URL="$(cd "$d" && git config remote.origin.url)"
        # Add the git repository back as a submodule:
        git submodule add "$URL" "$d"
    fi
done 
```

# c# - C# - 自定义 GUI 设计

> ID：12871495
> 
> 赞同：8
> 
> 时间：2012-10-13T08:46:40.473
> 
> 标签：c#, user-interface, custom-controls

所以多年来，我见过不少具有自定义 UI 设计的 C# 和 VB 应用程序。我可以举一个例子是 DayZCommander (C#) 应用程序，它看起来像这样：

![在此处输入图像描述](../Images/43dfd85cecce0092463a7441803d7699.png)

我想知道这是因为我想开始制作看起来像这样的登录表单（注意这只是一个 Photoshop 渲染）：

![在此处输入图像描述](../Images/ac87ed4bce4cb78109ececd7dc9fd6a2.png)

并将其用于整体形式设计。

如果你能给我一些信息，或者关于这个话题的答案，请做。

谢谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-13T09:21:03.110

首先，您必须使用 WPF 轻松实现这些结果（使用 WinForms 可能可行，但会非常困难）。

您还可以使用第 3 方控件，例如[MahApps Metro](https://github.com/MahApps/MahApps.Metro)（也可以使用 NuGet）。这是您最终可以得到的示例：

![在此处输入图像描述](../Images/49d13b090e44396ed30404aa3b95f352.png)

您还拥有诸如[Microsoft Expression Blend 之](http://www.microsoft.com/expression/products/Blend_Overview.aspx)类的工具，可以非常轻松地创建动画 UI/自定义控件模板。但迟早你会潜入 XAML 来创建你自己的自定义控件模板，但这超出了这个答案的范围（网上有很多很好的教程）。

# perl - DBI：selectall_arrayref 和列名

> ID：12871496
> 
> 赞同：2
> 
> 时间：2012-10-13T08:46:44.267
> 
> 标签：perl, dbi

当我以这种方式获取数据时，是否可以访问列名和列类型，还是需要显式`prepare`访问？

```
use DBI;

my $dbh = DBI->connect( ... ); 
my $select = "...";
my @arguments = ( ... );

my $ref = $dbh->selectall_arrayref( $select, {}, @arguments, ); 
```

更新：

我`prepare`会这样做：

```
my $sth = $dbh->prepare( $select );
$sth->execute( @arguments );
my $col_names = $sth->{NAME};
my $col_types = $sth->{TYPE};
my $ref = $sth->fetchall_arrayref;
unshift @$ref, $col_names; 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-13T12:56:35.400

`prepare`正如您在问题的第二部分中描述的那样，最好的解决方案是使用获取语句句柄。如果使用`selectall_hashref`or `selectall_arrayref`，则不会获得语句句柄，并且必须通过`$dbh->column_info`（[docs](http://search.cpan.org/dist/DBI/DBI.pm#column_info)）自己查询列类型信息：

```
my $sth = $dbh->column_info('','',$table,$column);  # or $column='' for all
my $info = $sth->fetchall_arrayref({});
use Data::Dumper; print Dumper($info); 
```

（特别是 COLUMN_NAME 和 TYPE_NAME 属性）。

但是，如果表在两个查询之间更改架构，这会引入竞争条件。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2016-11-21T23:13:29.550

此外，您可以使用`selectall_arrayref`参数`Slice`将所有列提取到哈希引用中，它不需要准备好的语句，并且将返回结果集行的数组引用，每行列是哈希的键，值是列价值观。IE：

```
my $result = $dbh->selectall_arrayref( qq{
SELECT * FROM table WHERE condition = value
}, { Slice => {} }) or die "Error: ".$dbh->errstr;

$result = [
[0] = { column1 => 'column1Value', column2 => 'column2Value', etc...},
[1] = { column1 => 'column1Value', column2 => 'column2Value', etc...},
]; 
```

使迭代结果变得容易..即：

```
for my $row ( @$results ){
   print "$row->{column1Value}, $row->{column2Value}\n";
} 
```

您还可以指定要提取的列，但由于在 SQL 查询语法中执行此操作更有效，因此它非常无用。

```
{ Slice => { column1Name => 1, column2Name => 1 } } 
```

这只会返回 column1Name 和 column2Name 的值，就像在 SQL 中所说的那样：

```
SELECT column1Name, column2Name FROM table... 
```

# jquery - 可拖动对象“粘合”到边框

> ID：12871498
> 
> 赞同：1
> 
> 时间：2012-10-13T08:46:59.983
> 
> 标签：jquery, draggable, jquery-ui-draggable, containment

我创建了一个用户控件，其中包含一个可拖动 div 内的标签，如下所示：

```
<style type="text/css">
.text_label
{

    margin-top:8px;
    font-size:18px;
    color:#545454;
    -moz-border-radius: 2px;
    -webkit-border-radius: 2px;
    -border-radius: 2px;
}

.clear
{
    clear:both;
    height:20px;
}

.drag
{
    display:block;
}

</style>

<div class="drag">
<asp:Label ID="lbl1" class="text_label" runat="server" Text="Click Me"/>
</div>
<div class="clear"></div> 
```

对于可拖动，我在 ready() 函数中使用了以下选项：

```
$('.drag').draggable("option", "containment", 'parent'); 
```

在我的测试网页上，我在面板中添加了两个用户控件。我的目标是让它们在该面板内可拖动。

```
<style type="text/css">
    .panel
    {
        border-style:solid;
        border-width:medium;
        width:100%;

    }

</style>
<asp:Panel runat="server" ID="p1" CssClass="panel">
    <cc:UserControl1 runat="server" ID="Text1"  />
    <cc:UserControl2 runat="server" ID="Text2" />
</asp:Panel> 
```

当我运行页面（在 Chrome 中）时，两个控件都与面板的右边框对齐，只能在 Y 轴上拖动。

知道为什么会发生以及缺少什么吗？

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-13T08:57:29.170

可能是因为上课`clear`而坚持下去`clear:both`

# database - CakePHP 1.3 与多类型树

> ID：12871500
> 
> 赞同：0
> 
> 时间：2012-10-13T08:47:34.170
> 
> 标签：database, cakephp, internationalization, tree, cakephp-1.3

我正在使用 CakePHP 1.3 的 TreeBehavior。在一个数据库表中，我得到了所有模型记录。每条记录都有一个`type`存储模型名称的字段。到目前为止，一切都在发挥魅力。但是我在特定操作中遇到了一些错误。首先，如果我这样做`$this->Article->verify()`，几乎每条记录都会出错：

```
Array
(
[0] => Array
    (
        [0] => index
        [1] => 1
        [2] => missing
    )

[1] => Array
    (
        [0] => index
        [1] => 2
        [2] => missing
    )

[2] => Array
    (
        [0] => index
        [1] => 3
        [2] => missing
    )
 .... 
```

我没有发现有错误的记录和没有错误的记录之间有任何区别

我试过`Recover`但还是一样。为什么我会收到这些错误，它们是什么意思？我检查了树数据，每个字段 ( `parent_id`, `lft`, `rght`) 都是正确的。

**另一个问题：**

我想移动记录`up`并`down`在树中。如果我设置`scope`记录，`type`我会移动它们，但其他类型的所有子记录都不会移动。我的树是这样的：

```
 Category
    Category
       Category
       Attachment
    Category
       Attachment
    Article
       Attachment
       Attachment
    Article
       Attachment
    Attachment
 Category
 Category 
```

如果我不设置`scope`移动记录，有时看不到树的末端并开始在其他记录类型之间移动。如何设置`scope`以避免这种情况？

**编辑：**我已经找到了可能的问题，可能一切都来自使用一个表在多个模型中同时使用`Tree`和`Translate`（我没有提到）行为。那么会发生什么：

在为每个模型保存数据时，它还会在 i18n 表中保存一条记录和翻译。并且当检查`verify`或检查`recover`表时，树行为仅“看到”当前模型​​中的帖子，也给出“缺失索引”，因为没有看到其他模型的记录。

有没有办法解决这个问题，让它工作或寻找其他选择？

是否有任何选项可以在一个数据库中使用多棵树。所以 rght,lft 值将为每个模型复制，但不会有冲突，因为它们不会“知道”彼此。只是使用一个表而不是 10+ 具有相同的结构

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-14T23:33:30.143

如果您的树元数据是正确的，那么以下内容应该可以解决您自己的代码中没有的任何问题：

```
$this->Article->recover($mode = 'tree'); 
```

有关详细信息，请参阅[http://book.cakephp.org/1.3/view/1356/Data-Integrity](http://book.cakephp.org/1.3/view/1356/Data-Integrity)。

# xcode - 部分绘制 NSView 背景，带有渐变

> ID：12871502
> 
> 赞同：0
> 
> 时间：2012-10-13T08:47:46.013
> 
> 标签：xcode, draw, gradient, nsview

我有一个 NSView，子类化，带有自定义背景绘图，并用渐变填充它。在 IB 中，我在其中间的某处放置了一个复选框。

这是 drawRect 方法。

```
-(void) drawRect:(NSRect)dirtyRect {
    CGFloat sc = 0.9f;
    CGFloat ec = 0.6f;  
    NSColor* startingColor = [NSColor colorWithDeviceRed:sc green:sc blue:sc alpha:1];
    NSColor* endingColor = [NSColor colorWithDeviceRed:ec green:ec blue:ec alpha:1];
    NSGradient *grad = [[NSGradient alloc] initWithStartingColor:startingColor endingColor:endingColor];
    [grad drawInRect:dirtyRect angle:270];
} 
```

发生的情况是，调用相同的方法首先绘制整个视图区域，然后再绘制 NSButton（复选框）位于其顶部的部分。当然，复选框背景是用完整的渐变绘制的，这是不对的，因为该部分要小得多。我在上述 NSView 上放置的其他控件也会发生同样的情况。

对这种事情的建议方法是什么？

一种选择是使控件的高度与视图的高度相同，但这会在将来导致问题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-26T22:38:44.663

答案是，总是绘制视图的整个区域，而不仅仅是dirtyRect

```
[grad drawInRect:[self bounds] angle:270]; 
```

# ruby-on-rails - Rails 忽略缺少资产的 ActionView::Template::Error

> ID：12871503
> 
> 赞同：3
> 
> 时间：2012-10-13T08:48:01.973
> 
> 标签：ruby-on-rails, asset-pipeline

```
ActionView::Template::Error (leagues/lal11.png isn't precompiled): 
```

当添加新联赛但未预编译相应图像时，我的应用程序中会发生此类错误。

我明白为什么会这样；资产清单缺少相关路径，因此 rails 无法确定它的摘要。然而，因为一个简单的丢失图像而杀死整个应用程序是愚蠢的。有没有办法捕捉这个特定的异常？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-07-30T17:41:57.160

在这种情况下指责资产管道似乎是错误的。它是一个可选的东西，可以加快您的应用程序。如果您对将回退的较慢应用程序感到满意，则可以在 config/environments/production.rb 中轻松配置

```
 # Don't fallback to assets pipeline if a precompiled asset is missed
 config.assets.compile = false 
```

[我不建议这样做！](https://stackoverflow.com/a/8827757/793330)

尽管有人可能会争辩说这不是应该引发异常错误的情况……但事实是您正在提取一个不存在的图像。

因此，您的代码需要处理一个错误。IMO 在面向对象的代码中更好的是大量失败而不是巧妙地失败。此失败会创建一个很好的失败消息，您可以使用它来修复代码。

我建议通过可以处理错误的助手进行路由。像这样的东西是这个[答案的变体](https://stackoverflow.com/a/10071148/793330)

```
 def safe_image_tag(source, options = {})
    begin
      count = 0
      source ||= "blank-profile-md.png"
      image_tag(source, options)
    rescue Sprockets::Helpers::RailsHelper::AssetPaths::AssetNotPrecompiledError
      count += 1
      source = "blank-profile-md.png"
      retry if count < 2
    end
  end 
```

在这种情况下，这将恢复并呈现您的默认图像。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-13T14:34:32.957

我完全同意你的看法，因为丢失图像会引发错误......我认为资产管道是 Rails 中最糟糕的一段代码！

我对如何解决这个问题有一些想法：

你可以启用实时编译`config.assets.compile = true`

您可以在您正在使用的帮助程序（或其他）中捕获该错误`image_tag`并呈现默认图像。

`rescue_from`如果错误不在您的应用程序中，您可以在控制器中使用。

# python - Facebook：如何使用 python 获取/更新用户访问令牌？

> ID：12871504
> 
> 赞同：1
> 
> 时间：2012-10-13T08:48:07.430
> 
> 标签：python, facebook, facebook-graph-api

目前正在使用`Graph Explorer`获取短期用户访问令牌，而不是`extended token(60 days)`通过调用[facepy get_extended_access_token](https://facepy.readthedocs.org/en/latest/usage/utilities.html#facepy.utils.get_extended_access_token)方法将其转换为。

现在。考虑我的用户访问令牌由于用户注销或令牌本身过期而变得无效的情况。因此，在这两种情况下，我都需要获得一个新的用户访问令牌，因为`get_extended_access_token`需要`access_token`它才能扩展它。

所以，我的问题是如何使用 python 检索这个令牌？是否有任何特定的 url 可以发送请求，它将返回一个新的/更新的令牌。

**更新**：

因此，在关注[此帖子](https://stackoverflow.com/questions/3058723/programmatically-getting-an-access-token-for-using-the-facebook-graph-api)并提出请求后

```
https://graph.facebook.com/oauth/access_token?client_id=xxxx&client_secret=yyyy&grant_type=client_credentials 
```

我得到了这个我认为是`app access token`

```
access_token=123456789|12abcdef234 #changed from original 
```

但我需要的是一个用户访问令牌，通过它我可以读取我的邮箱。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-13T12:11:29.613

如果访问令牌已过期或失效，您需要返回验证对话框，即用户必须手动重新授予对您应用程序的访问权限。以编程方式检索它会破坏令牌失效/到期的整个目的。

一旦你得到这个令牌，你就可以用它`get_extended_access_token`来获得长寿的一个

应用令牌可用于代表用户发布帖子。

# c - 临界区概率while循环

> ID：12871509
> 
> 赞同：1
> 
> 时间：2012-10-13T08:49:09.087
> 
> 标签：c, operating-system, while-loop, critical-section

好的，我正在阅读 galvin 第六版的关键部分问题。问题是，问题中使用的算法有一个while循环：

```
do
  {
   while(turn!=i);
   critical section
   turn=j;
    remainder section
}while(1); 
```

最初 turn==0 并且对于 i=0，进程 p0 运行它的关键问题。 对于这种特殊情况，`while(turn!=i);`评估为。`while(false)`

现在我的问题是，如果 while 循环评估为 false，那么如何评估以下关键部分。愚蠢的部分来了，如果出于任何原因**while(turn!=i);** 如果有分号，那么以下语句对 while 循环没有影响！那么，这里的while循环有什么用！？:|

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-13T08:54:45.967

在这种情况下，while 循环要么无限循环，要么什么都不做。带有分号的 while 循环指定它应该尝试循环，但在 while 块中不执行任何指令。写作`while (1);`相当于`while (1) {}`

这种语法的一个常见用法是当你只想迭代，比如说，直到字符串的结尾，以进一步工作。你会写类似

```
char *work_on_end_of_string(char *str) {
  int i = 0;

  while (str[i++]); 
  // now str[i] is pointing on the end of the string
} 
```

在您的情况下，正如您提到的那样，您的程序是多线程的，`turn`或者`i`在执行关键部分之前似乎需要有所不同。while 语句可以循环测试这个条件，直到一个线程修改其中一个以满足它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-13T09:15:00.163

如果 while 循环中的条件为假，则进程 P0 的关键部分将执行，如果条件为真，则 while 循环迭代（认为它是进程 P0 进入睡眠状态）直到 turn 的值被另一个更改当前正在运行其关键部分的进程。

# svn - 多个 SVN 存储库，从一个更新 > 提交到另一个

> ID：12871510
> 
> 赞同：2
> 
> 时间：2012-10-13T08:49:14.173
> 
> 标签：svn

对于新产品发布，我们计划了以下服务器/发布结构。

![发布结构](../Images/a279979955b03bf0728ae41212da7f80.png)

由于不同的管理原因，现在拥有两个不同的 SVN 存储库是最终的管理决定；一个在 Anazon EC2 上运行的生产服务器（产品 SVN 以红色显示）。其他在本地 Linux 服务器上（绿色）。

我被困在如何在技术上实现这一目标。我的问题是，本地服务器代码库（`Scaling codebase`在上图中）应该从本地 SVN 更新，但应该提交到生产 SVN。我找不到实现这一点在技术上是否可行。在我寻找其他选择之前，我想问问社区在技术上是否可行，如果可以，如何？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-13T13:48:06.260

与之前的答案相反

# 用于工作流的纯 SVN 方式

## 带圣洁厕所

```
svn up
svn relocate ProdSVN
svn ci
svn relocate LocalSVN 
```

## 没有圣洁的厕所

如果可以直接连接 LocalSVN -> ProdSVN，则可以将 SaclingCodebase*从同步过程*中排除（链更少，错误更少）：

*   svnsync（[文档](http://svn.apache.org/repos/asf/subversion/trunk/notes/svnsync.txt)或博客文章[一](http://cournape.wordpress.com/2007/12/18/making-a-local-mirror-of-a-subversion-repository-using-svnsync/)[两篇](http://blog.notreally.org/2006/11/30/setting-up-a-subversion-mirror-repository-using-svnsync/)）

或者

*   svnadmin [hotcopy](http://svnbook.red-bean.com/en/1.7/svn.ref.svnadmin.c.hotcopy.html) + scp (?)

或者

*   [在此处镜像 SVN 存储库 [直写代理]](https://stackoverflow.com/questions/2286586/mirror-svn-repository-write-through-proxying)主题

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-13T10:58:03.877

> 从本地 SVN 更新，但应提交到生产 SVN。

这是 Bazaar、Git 或 Mercurial 等分布式版本控制系统 DVCS 的常见功能。

所以，在我看来，有两个解决方案：

1/ 如果您仍想保留 SVN：**使用 Bazaar/Git/Mercurial 签**出 SVN 存储库并推送/提交到另一个 SVN 存储库。
这是可能的，因为大多数 DVCS 工具都有一个插件来访问（签出/推送）SVN 存储库。

2/**将您的系统更改为**像 Bazaar 这样的完整 DVCS，它与 SVN 非常接近，不会丢失用户！

看看我的以下回复：
[多个源代码存储库](https://stackoverflow.com/questions/9392046/multiple-source-code-repositories/9395797#9395797)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-13T11:06:23.860

这样做的一种方法是只拥有一个存储库（可能在绿色服务器上），并在生产服务器上签出该存储库的发布分支。

所以工作流程是：

在 dev 上签出（或主干的功能分支），然后从to`^/trunk`中挑选修订版。`^/trunk``^/branches/release`

# c++ - 如何摆脱 _WIN32_WINNT 未定义警告？

> ID：12871513
> 
> 赞同：23
> 
> 时间：2012-10-13T08:49:56.140
> 
> 标签：c++, visual-c++

```
_WIN32_WINNT not defined. Defaulting to _WIN32_WINNT_MAXVER (see WinSDKVer.h) 
```

在我的编译过程中不断弹出这个错误。它似乎不影响编译，但我应该如何摆脱它？我是否会因为忽略它而冒任何风险？

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2012-10-13T08:54:24.403

将其设置为您希望程序运行的最旧的 Windows 操作系统。此 MSDN 文章[Using the Windows Headers](http://msdn.microsoft.com/en-us/library/aa383745%28VS.85%29.aspx)中给出了可能的值。

> `#define`您可以通过使用每个源文件中的语句或通过指定`/D`Visual C++ 支持的编译器选项来定义这些符号。
> 
> 例如，要`WINVER`在源文件中设置，请使用以下语句：
> 
> ```
>  #define WINVER 0x0502    // Windows Server 2003 with SP1, Windows XP with SP2 
> ```
> 
> 要`_WIN32_WINNT`在源文件中设置，请使用以下语句：
> 
> ```
> #define _WIN32_WINNT 0x0502    // Windows Server 2003 with SP1, Windows XP with SP2 
> ```
> 
> 要`_WIN32_WINNT`使用`/D`编译器选项进行设置，请使用以下命令：
> 
> ```
> cl -c /D_WIN32_WINNT=0x0502 source.cpp 
> ```

* * *

## 回答 #2

> 赞同：19
> 
> 时间：2012-10-13T08:53:18.303

它是通过 WinSDKVer.h 为您定义的。因此，只需在源代码的顶部明确定义它（例如在 stdafx.h 的开头），您就会摆脱警告。

将其定义为相同的值（与`_WIN32_WINNT_MAXVER`WinSDKVer.h 相比）不太可能破坏任何内容。

例如，适用于 Windows 7 和 .NET Framework 3.5 Service Pack 1 的 Windows® 软件开发工具包 (SDK) 的 WinSDKVer.h 包含：

```
// This list contains the highest version constants supported by content 
// in the Windows SDK.

// [...]
#define _WIN32_WINNT_MAXVER     0x0601 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2019-06-11T10:54:51.637

# 在 VS2019 中求解

解决这个问题的方法和可能使用的值的链接可以在我用来解决问题的 user93353 的超级答案中找到。

[https://stackoverflow.com/a/12871547/3070485](https://stackoverflow.com/a/12871547/3070485)

但是，在阅读了解决方案之后，我在我的 IDE 中设置了我的编译器选项，即 Visual Studio 2019。

对于任何想要快速设置它并想要知道位置的人（因为这些东西会随着 IDE 版本的变化而变化，或者可能有人更熟悉另一个 IDE），这里就是它的去处。

[![在此处输入图像描述](../Images/c6229be1bf422f319073caf705879183.png)](https://i.stack.imgur.com/wCy71.png)

配置属性
C/C++
预处理器 预
处理器定义
_WIN32_WINNT=0x0502

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-07-24T13:50:34.470

注意：`#define _WIN32_WINNT`必须出现**在**任何头文件之前，包括“stdafx.h”。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2020-04-15T22:35:28.860

*如果使用 MFC*：我的首选答案是包含 windows.h。但如果您使用的是 MFC，则不能这样做*。为了避免在您的项目中定义 WINVER，您可以在 afx.h 之前包含 sdkddkver.h。

```
#include <sdkddkver.h>
#include <afx.h> 
```

sdkddkver 系统标头设置了 WINVER 和 _WIN32_WINNT，因此您无需将其添加到您的项目中。这与 windows.h 相同，用于从系统标头对 windows SDK/DDK 进行版本控制。

*如果你在 afx.h 之前包含 windows.h，你会得到：`#error: WINDOWS.H already included. MFC apps must not #include <Windows.h>`

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2020-01-13T19:38:48.957

`#define _WIN32_WINNT`并且`#define WINVER` **可以**出现在标头中，只要它们出现在包含`SDKDDKVer.h`或来自 Windows SDK（特别是`Windows.h`）的任何标头之前。Visual Studio VC++ 项目通常提供一个`targetver.h`标头，您可以在其中包含`WinSDKVer.h`、定义和`_WIN32_WINNT`，然后包含。该文件中的评论说：`NTDDI_VERSION``WINVER``SDKDDKVer.h`

```
// If you wish to build your application for a previous Windows platform, include `WinSDKVer.h`
// and set the _WIN32_WINNT macro to the platform you wish to support before including `SDKDDKVer.h`. 
```

Microsoft 文章[更新 WINVER 和 _WIN32_WINNT 不遗余力](https://docs.microsoft.com/en-us/cpp/porting/modifying-winver-and-win32-winnt?view=vs-2019)地指导您定义`_WIN32_WINNT`和`WINVER`输入`targetver.h`（尽管它提到这些也可以使用命令行参数定义）。

注意：`targetver.h`被包含在 Visual Studio 生成的某些资源文件中，因此这是如上所述`.rc`填写文件内容的另一个原因 。`targetver.h`

注意：在项目的构建配置中定义和`_WIN32_WINNT`使用命令行参数或预处理器指令也可以工作，但两者都没有考虑包含和.`NTDDI_VERSION``WINVER``WinSDKVer.h``SDKDDKVer.h`

注意：在使用 Windows 8.1 SDK（或更新版本）时，您可能还需要根据您需要的特定 Windows 平台（服务器、桌面、手机、商店等）进行定义`WINAPI_FAMILY`。`targetver.h`详情请参阅`winapifamily.h`。

注意：在较新的 Windows SDK 版本中，值`NTDDI_VERSION`和`WINVER`可以`_WIN32_IE`根据您为 定义的值自动设置`_WIN32_WINNT`。但是，您可能希望`NTDDI_VERSION`在包含`SDKDDKVer.h`.

# grid - 如何在 Sencha 网格中对动态添加的数据进行排序

> ID：12871514
> 
> 赞同：0
> 
> 时间：2012-10-13T08:50:04.530
> 
> 标签：grid, extjs

重现步骤：

1.  打开[http://dev.sencha.com/deploy/ext-4.0.0/examples/restful/restful.html](http://dev.sencha.com/deploy/ext-4.0.0/examples/restful/restful.html)
2.  按 ID 列对数据进行排序
3.  添加行
4.  该行将在网格的顶部，但它可以在底部

问题：如何对动态添加的数据进行排序？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-13T09:17:59.040

新添加的行被添加到存储中，参见示例代码中的 store.insert()：

```
 dockedItems: [{
        xtype: 'toolbar',
        items: [{
            text: 'Add',
            iconCls: 'icon-add',
            handler: function(){
                // empty record
                store.insert(0, new Person());
                rowEditing.startEdit(0, 0);
            }
        }, '-', {
            text: 'Delete',
            iconCls: 'icon-delete',
            handler: function(){
                var selection = grid.getView().getSelectionModel().getSelection()[0];
                if (selection) {
                    store.remove(selection);
                }
            }
        }]
    }] 
```

然后使用实际值对其进行“编辑”，并相应地更新存储记录。

也许你所要做的就是打电话

```
store.sort('email', 'ASC'); 
```

但是刷新网格视图可能就足够了，因为毕竟您已经要求对其进行排序：

```
grid.getView().refresh(); 
```

# cellid - 我们可以使用与谷歌纵横应用程序相同的 API 来发现位置吗？

> ID：12871516
> 
> 赞同：0
> 
> 时间：2012-10-13T08:50:15.267
> 
> 标签：cellid

我有一台设备向我发送移动国家代码 (MCC) 移动网络代码 (MNC) 位置区代码 (LAC) 和我所在地区最近的每个移动塔的小区 ID。谷歌纵横 APP 正在使用此信息来检测我的位置。我想制作可以使用相同技术的自己的应用程序，但我找不到任何 Google API 描述。

有可能将[OpenCellID](http://www.opencellid.org/)用于我的目的，但我居住的国家/地区没有可用的 CellID。

有些帖子指向 API 的过时链接，我需要[https://developers.google.com/gears/](https://developers.google.com/gears/)和[http://www.google.com/glm/mmap](http://www.google.com/glm/mmap)但似乎它们都不再起作用了。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-24T18:23:19.193

这是一个 PHP 脚本，它接受参数`mcc`、和`mnc`，如果结果可用则返回，如果没有找到结果。这使用了您提到的相同的 Google API。`lac``cid``latitude:longitude``NOT_FOUND`

```
<?php

$data = 
"\x00\x0e". 
"\x00\x00\x00\x00\x00\x00\x00\x00". 
"\x00\x00". 
"\x00\x00". 
"\x00\x00". 
"\x1b". 
"\x00\x00\x00\x00". 
"\x00\x00\x00\x00". 
"\x00\x00\x00\x03".
"\x00\x00".
"\x00\x00\x00\x00". 
"\x00\x00\x00\x00". 
"\x00\x00\x00\x00". 
"\x00\x00\x00\x00". 
"\xff\xff\xff\xff". 
"\x00\x00\x00\x00"  
;
  $mcc = substr("00000000".dechex($_REQUEST["mcc"]),-8);
  $mnc = substr("00000000".dechex($_REQUEST["mnc"]),-8);
  $lac = substr("00000000".dechex($_REQUEST["lac"]),-8);
  $cid = substr("00000000".dechex($_REQUEST["cid"]),-8);

$init_pos = strlen($data);
$data[$init_pos - 38]= pack("H*",substr($mnc,0,2));
$data[$init_pos - 37]= pack("H*",substr($mnc,2,2));
$data[$init_pos - 36]= pack("H*",substr($mnc,4,2));
$data[$init_pos - 35]= pack("H*",substr($mnc,6,2));
$data[$init_pos - 34]= pack("H*",substr($mcc,0,2));
$data[$init_pos - 33]= pack("H*",substr($mcc,2,2));
$data[$init_pos - 32]= pack("H*",substr($mcc,4,2));
$data[$init_pos - 31]= pack("H*",substr($mcc,6,2));
$data[$init_pos - 24]= pack("H*",substr($cid,0,2));
$data[$init_pos - 23]= pack("H*",substr($cid,2,2));
$data[$init_pos - 22]= pack("H*",substr($cid,4,2));
$data[$init_pos - 21]= pack("H*",substr($cid,6,2));
$data[$init_pos - 20]= pack("H*",substr($lac,0,2));
$data[$init_pos - 19]= pack("H*",substr($lac,2,2));
$data[$init_pos - 18]= pack("H*",substr($lac,4,2));
$data[$init_pos - 17]= pack("H*",substr($lac,6,2));
$data[$init_pos - 16]= pack("H*",substr($mnc,0,2));
$data[$init_pos - 15]= pack("H*",substr($mnc,2,2));
$data[$init_pos - 14]= pack("H*",substr($mnc,4,2));
$data[$init_pos - 13]= pack("H*",substr($mnc,6,2));
$data[$init_pos - 12]= pack("H*",substr($mcc,0,2));
$data[$init_pos - 11]= pack("H*",substr($mcc,2,2));
$data[$init_pos - 10]= pack("H*",substr($mcc,4,2));
$data[$init_pos - 9]= pack("H*",substr($mcc,6,2));

if ((hexdec($cid) > 0xffff) && ($mcc != "00000000") && ($mnc != "00000000")) {
  $data[$init_pos - 27] = chr(5);
} else {
  $data[$init_pos - 24]= chr(0);
  $data[$init_pos - 23]= chr(0);
}

$context = array (
        'http' => array (
            'method' => 'POST',
            'header'=> "Content-type: application/binary\r\n"
                . "Content-Length: " . strlen($data) . "\r\n",
            'content' => $data
            )
        );

$xcontext = stream_context_create($context);
$str=file_get_contents("http://www.google.com/glm/mmap",FALSE,$xcontext);
if (strlen($str) > 10) {
  $lat_tmp = unpack("l",$str[10].$str[9].$str[8].$str[7]);
  $lon_tmp = unpack("l",$str[14].$str[13].$str[12].$str[11]);
  $lon = $lon_tmp[1]/1000000;
  $lat = $lat_tmp[1]/1000000;
  echo $lat.":".$lon;

  }
   else{echo "NOT_FOUND";}

?> 
```

将代码保存为 php 文件（我在下面的示例中使用了 locate.php），将其上传到您的 web 主机，您可以查询如下： `http://yourwebhost.com/locate.php?mcc=XXX&mnc=XXX&lac=XXXXX&cid=XXXXXXXX` 然后您可以解析获得的响应以获取纬度和经度信息。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-13T09:02:18.580

您可以尝试使用谷歌地图 api：

[https://developers.google.com/maps/?hl=es](https://developers.google.com/maps/?hl=es)

他们有一个选项`&sensor=true`可以检测您是否尝试从设备获取纬度和经度。

# sql - 建模 n 到 m 关系的 SQL 性能优点/缺点

> ID：12871520
> 
> 赞同：0
> 
> 时间：2012-10-13T08:50:45.933
> 
> 标签：sql

我在作者和书籍之间有一个 n 到 m 的关系。我正在考虑对此进行建模的两种可能性。

第**一种可能性**是明确的 n 到 m 关系。

表作者

```
ID       Name
1        Follett  
2        Rowling
3        Martin 
```

桌书

```
ID     Title                        Category    Logic Time 
1        A Dance with Dragons      Fantasy        1
2        Harry Potter              Fantasy        3
3        The Key to Rebecca        Thriller       2
4        World without end         Drama          4 
```

表 book_author

```
authorId       bookId
1           3  
2           2
3           1
1           4 
```

第二种**可能性**是将作者 ID 存储在书中。**编辑**如果每本书有几个作者，我将不得不为每个作者输入一次该书。

表作者

```
ID       Name
1        Follett  
2        Rowling
3        Martin 
```

桌书

```
ID       Title                     Category       Logic Time    AuthorId
1        A Dance with Dragons      Fantasy         1           3
2        Harry Potter              Fantasy         3           2
3        The Key to Rebecca        Thriller        2           1
4        World without end         Drama           4           1 
```

假设我想为特定作者（ID 为 1 的 Ken Follett）找出他出版的第一本书。

在第**一种情况下**，查询看起来像：

```
 select * from books b join 
    book_author ba on b.id = ba.book_id
    where ba.author_id = 1
    order by b.logic_time asc; 
```

在**第二种情况下**，查询将如下所示：

```
 select * from books b 
    where a.author_id = 1
    order by b.logic_time asc; 
```

我将作者的 ID 存储在上层系统中，以避免与作者表进一步连接。我从不对作者的细节感兴趣。预计系统中的书籍比作者多得多。

我倾向于第一个选项，因为它“更干净”（编辑：不需要重复的书籍条目），但我在证明这个决定时遇到了一些麻烦。

从**性能**的角度推荐什么？我猜想加入应该导致第一个选项变慢。

可以创建索引以使第一个选项更快？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-13T08:56:12.543

您所描述的不是解决同一问题的两种选择。您的第一个版本是：m 关系，它只是建模这种关系的“默认”方式。您的第二个版本只是一个 1:m 映射。不同之处在于，在第一种情况下，书籍可以由多个作者编写。在第二种情况下，每本书仅由一位作者撰写。

因此，绝对明确：您的两个“选项”是两个完全不同的用例。如果它真的是 m:n，你必须使用第一个！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-13T09:08:32.237

第一个选项是多对多关系。如果一本书的作者不止一个（或一本书的零个作者），您将使用它。

第二个选项是一对多关系。如果一本书只有一个作者，你会使用它。

因此，您应该选择适合您尝试做的解决方案。当第二个选项适合时使用第一个选项只会导致不一致，即您最终可能会得到没有作者的书籍或有多个作者的书籍。

关于性能，要么工作正常。只要有要使用的索引（通常是为键创建的），连接就不是问题。对于第二个选项，您将为该`AuthorId`字段添加一个索引以提高查找效率。

# java - 从数千行中提取数据

> ID：12871523
> 
> 赞同：1
> 
> 时间：2012-10-13T08:51:22.993
> 
> 标签：java

我有一个 .obj 文件，到目前为止，我一直在使用凌乱的标记器来分割行。我发现这确实效率低下。

```
public static String getSpecificToken(String s, int t) {
    Scanner tokens = new Scanner(s);
    String token = "";

    for (int i = 0; i < t; i++) {
        if(!tokens.hasNext()) { break; }
        token = tokens.next();
    }

    tokens.close();
    return token;
} 
```

目标文件格式看起来像这样，我很难找到最有效的分割方法。

> v 1.4870 0.3736 2.2576
> 
> v 1.5803 0.3451 2.1859
> 
> v 1.6275 0.3111 2.2261
> 
> v 1.6343 0.0783 2.4352
> 
> v 1.5180 0.0644 2.5398
> 
> v 1.4568 0.0720 2.5205
> 
> v 1.3953 0.0795 2.5013

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-13T08:52:55.650

只需在空间上使用[`String#split`](http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#split%28java.lang.String%29)它们`split`，无需在`Tokenizer`此处使用。事实上，您应该尽可能避免使用`Tokenizer`：-

```
Scanner tokens = new Scanner(s);
String[] tokenArr = tokens.split("\\s+");  // Split on 1 or more space

for (String token: tokenArr) {
    System.out.println(token);
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-13T09:10:03.957

此[示例](https://stackoverflow.com/a/2082174/230513)`java.util.Scanner`与进行比较`java.io.StreamTokenizer`，表明后者略有优势。您也许可以使用类似的方法来[分析](https://stackoverflow.com/q/2064427/230513)您的用例。

# java - 随机包含 JSP

> ID：12871525
> 
> 赞同：2
> 
> 时间：2012-10-13T08:51:26.567
> 
> 标签：java, jsp

我有许多 jsp 文件`row1.jsp, row2.jsp, row3.jsp, ..., row10.jsp`，我想将它们包含在我的主 jsp 页面中。

这里的诀窍是我想随机化它们的呈现方式，所以有时它们是这样包含的：

```
<%@include file="/index-rows/row1.jspf"%>
<%@include file="/index-rows/row2.jspf"%>
<%@include file="/index-rows/row3.jspf"%> 
```

其他时候：

```
<%@include file="/index-rows/row2.jspf"%>
<%@include file="/index-rows/row1.jspf"%>
<%@include file="/index-rows/row3.jspf"%> 
```

我尝试了以下方法，但我意识到我无法`<%= %>`在`<%@include>`标签中添加 a 。

```
<%
HashMap<String, String> foo = ...some code...
String[] pages = { "row1.jspf", "row2.jspf", "row3.jspf" };
for (String p : pages) {
     %><%@include file="/index-rows/<%= p %>"%><%
}
%> 
```

条件：包含的文件使用变量`foo`

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-13T09:17:14.303

`<%@ include %>`是一个静态包含指令。这意味着它是在编译时评估的，因此不能使用动态文件名。

使用[动态包含](http://docs.oracle.com/javaee/1.4/tutorial/doc/JSPIntro10.html)来做你想做的事：`<jsp:include page="..."/>`. 不过，您需要将`foo`请求属性存储在包含的页面中才能使用它。

请学习如何使用 JSP EL。不应再使用 Scriptlet。

# shell - 如何使用 shell 脚本向 awk 发送参数

> ID：12871529
> 
> 赞同：0
> 
> 时间：2012-10-13T08:52:02.923
> 
> 标签：shell, awk

我有这个文件

### 我的文件

```
a b c d e 1  
b c s d e 1  
a b d e f 2  
d f g h j 2 
```

```
awk 'if $6==$variable {print @0}' myfile 
```

如何`$variable`在命令提示符下由用户作为参数获取的 shell 脚本中使用此代码？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-13T08:56:34.603

您可以使用`awk`'`-v`标志。由于`awk`默认打印，您可以尝试例如：

```
variable=1
awk -v var=$variable '$6 == var' file.txt 
```

结果：

```
a b c d e 1
b c s d e 1 
```

*编辑：*

该命令本质上是相同的，封装在 shell 中。您可以在带有多个参数的 shell 脚本中使用它，如下所示`script.sh 2 j`

内容`script.sh`：

```
command=$(awk -v var_one=$1 -v var_two=$2 '$6 == var_one && $5 == var_two' file.txt)
echo -e "$command" 
```

结果：

```
d f g h j 2 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-15T16:45:46.073

这是 comp.unix.shell 常见问题解答 (http://cfajohnson.com/shell/cus-faq-2.html#Q24) 中的第 24 个问题，但最常用的替代方法是在两者之间进行选择的最常见原因是：

```
-v var=value '<script>' file1 file2
if you want the variable to be populated in the BEGIN section 
```

或者：

```
'<script>' file1 var=value file2
if you do not want the variable to be populated in the BEGIN section and/or need to change the variables value between files 
```

# spree - Spree 商店是否支持多个供应商购买？

> ID：12871530
> 
> 赞同：4
> 
> 时间：2012-10-13T08:52:11.330
> 
> 标签：spree

嗨，我需要一个商店软件，我可以在其中提供来自不同供应商的产品。例如，一个人可以以不同的价格从 3 个不同的供应商处购买一块手表。亚马逊也这样做。（见[http://www.amazon.de/gp/offer-listing/B0031SZRZG/ref=dp_olp_new?ie=UTF8&condition=new](http://www.amazon.de/gp/offer-listing/B0031SZRZG/ref=dp_olp_new?ie=UTF8&condition=new)）

Spree中是否有任何插件？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-18T05:41:12.350

是的 spree 有 spree 多供应商、spree 多商店以及 spree 多租户的插件

狂欢多店 [https://github.com/bulllrico/spree-multistore](https://github.com/bullrico/spree-multistore)

狂欢多租户 [https://github.com/stefansenk/spree_multi_tenant](https://github.com/stefansenk/spree_multi_tenant)

狂欢多供应商 [https://github.com/chamnap/spree-multi-vendor](https://github.com/chamnap/spree-multi-vendor)

或者您可以为每个商店使用特定的 ID 并将其添加到产品和管理员中，并为多商店添加自定义功能

# c# - 使用 VB.NET 连接到远程 SQL Server CE 数据库文件

> ID：12871538
> 
> 赞同：0
> 
> 时间：2012-10-13T08:53:08.260
> 
> 标签：c#, sql, sql-server, vb.net, sql-server-ce

> **可能重复：**
> [我可以连接到远程 SQLCe 数据库吗？](https://stackoverflow.com/questions/7249510/can-i-connect-to-a-remote-sqlce-database)

我创建了一个包含 SQL Server CE 数据库的 VB.NET 应用程序。现在这个数据库文件只在我的本地系统上工作。

我想要的是创建另一个 VB.NET 应用程序，它可以连接到这个 SQL Server CE 数据库文件（远程连接），这样我就可以插入更新和查看寻找的东西。

如果这是不可能的，有人可以帮助我实现我的目标的最佳方法是什么以及前进的方向是什么。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-13T09:10:08.460

不，这是不可能的。SQL Server CE 没有某种进程来侦听传入的客户端请求。

您可以轻松切换到 SQL Server Express，而无需对您的应用程序进行任何实质性更改，但您的缺点是需要在远程计算机上安装 Sql Server Express 以及所需的所有管理工作（防火墙、权限、数据库备份等）。 .)。或者，您可以创建一个 WCF 服务，该服务在远程计算机上侦听客户端应用程序的传入请求，连接到其（本地）SQL Server CE 数据库并为您的客户端应用程序提供答案。这种方法的缺点是您的客户端应用程序需要进行大量更改，并且您仍然无法避免在远程计算机上安装某种软件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-13T09:14:56.023

您可能只能使用一些网络共享的东西，以便您可以远程访问该文件，但这真的不是一个好主意，或者如果您想编写自己的 dbms 来监听某个端口

# bitmapimage - C# 创建的位图在 Internet Explorer 8 中不显示（Firefox 工作正常）

> ID：12871542
> 
> 赞同：1
> 
> 时间：2012-10-13T08:53:38.837
> 
> 标签：bitmapimage

我无法显示在 C# 应用程序中创建的位图。我创建以下位图：

```
int w = 150; 
int h = w/3; 
Bitmap aBMP = new Bitmap(w, h); 
using (Graphics G = Graphics.FromImage(aBMP)) 
{ ...G.FillRectangle(...) } //here I am painting an image 
```

稍后在应用程序中，我将图像保存如下：

```
aBMP.Save(anIMGfilename); 
```

通过右键单击生成的图像属性，我没有收到与任何其他位图图像一起获得的安全选项卡。你见过这种行为吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-13T08:58:22.823

当你使用绝对位置时，你不能使用浮动，你必须设置 left 和 top 并且它的父级有一个相对位置

```
<!--[if IE 8]>
#frame{
  position:relative;
}
#image {    
position: absolute;     
text-align: right;  
height: 70px;   
width: 400px;  
left:0;
top:10px;   
}
<![endif]--> 
```

# php - 没有选项：前端和后端空白页 Magento

> ID：12871546
> 
> 赞同：0
> 
> 时间：2012-10-13T08:54:23.397
> 
> 标签：php, zend-framework, magento, magento-1.3

**我知道这个问题之前被问过很多次，但我没有选择，而且 Stackoverflow 上给出的答案都没有帮助。**

我正在将 Magento 网店迁移到另一台服务器，昨天一切正常，直到我迁移了*app/etc/modules*、*app/code/community*、*app/code/local*、*js*和*lib*文件夹。之后 Magento 只是给了我一个空白页，我删除了那些文件夹（保留原始 Magento 文件）但所有页面仍然是空白的。

我的错误日志没有提供有关页面未加载原因的任何详细信息，并删除了 index.php 中的 #

```
ini_set('display_errors', 1); 
```

也不起作用，因为出现的第一个错误是 PHP5.3 错误，因为客户端运行 Magento 1.3.2.1（通过使用此调整修复：[http ://spikomoko.wordpress.com/2009/08/19/ magento-not-working-on-php-5-3](http://spikomoko.wordpress.com/2009/08/19/magento-not-working-on-php-5-3)）。

有没有人有任何信息，因为我没有选择。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-14T10:08:24.650

好的，找到答案了。

我从 tar.gz 文件中提取了我的*lib*和*js文件夹，这将修改后的**lib/Varien/Object.php*替换为原始文件。导致空白页错误，因为错误在 Magento index.php 中被禁用。

# wpf - 将 DataGridColumn 的 Width 属性绑定到父 DataGrid 的 ActualWidth

> ID：12871551
> 
> 赞同：2
> 
> 时间：2012-10-13T08:55:20.610
> 
> 标签：wpf, binding, datagrid, width, actualwidth

我试图通过手动绑定这里的属性来解决我之前的[问题](https://stackoverflow.com/questions/12758886/datagrid-columnwidth-property-ignored-in-datatemplate-for-row-details)，这是我的 XAML 代码的第一个版本。`Width``DataGridTextColumn`

```
 <DataGrid AutoGenerateColumns="False" Background="White" ItemsSource="{Binding Items, Mode=OneWay}" 
              HorizontalGridLinesBrush="Silver" VerticalGridLinesBrush="Silver"
              Margin="332,10,10,10" CanUserAddRows="False" CanUserDeleteRows="False"
              x:Name="myDataGrid" ColumnWidth="*">
        <DataGrid.Columns>
            <DataGridTextColumn Width="{Binding Path=ActualWidth, Converter={StaticResource ResourceKey=WidthValueConverter}, RelativeSource={RelativeSource AncestorType=DataGrid}}" IsReadOnly="True" Header="Column1" Binding="{Binding Value1, Mode=OneWay}" />
            <DataGridTextColumn Width="{Binding Path=ActualWidth, Converter={StaticResource ResourceKey=WidthValueConverter}, RelativeSource={RelativeSource AncestorType=DataGrid}}" IsReadOnly="True" Header="Column2" Binding="{Binding Value2, Mode=OneWay}"/>
            <DataGridTextColumn Width="{Binding Path=ActualWidth, Converter={StaticResource ResourceKey=WidthValueConverter}, RelativeSource={RelativeSource AncestorType=DataGrid}}" IsReadOnly="True" Header="Column3" Binding="{Binding Value3, Mode=OneWay}"/>
        </DataGrid.Columns>
    </DataGrid> 
```

经过一番研究，我发现这篇[文章](https://stackoverflow.com/questions/9313586/binding-datagrid-column-width)似乎为我的问题提供了答案，我更新了我的`DataGrid`代码。

```
 <DataGrid AutoGenerateColumns="False" Background="White" ItemsSource="{Binding Items, Mode=OneWay}" 
              HorizontalGridLinesBrush="Silver" VerticalGridLinesBrush="Silver"
              Margin="332,10,10,10" CanUserAddRows="False" CanUserDeleteRows="False"
              x:Name="myDataGrid" ColumnWidth="*">
        <DataGrid.Columns>
            <DataGridTextColumn Width="{Binding Path=ActualWidth, Converter={StaticResource ResourceKey=WidthValueConverter}, Source={x:Reference Name=myDataGrid}}" IsReadOnly="True" Header="Column1" Binding="{Binding Value1, Mode=OneWay}" />
            <DataGridTextColumn Width="{Binding Path=ActualWidth, Converter={StaticResource ResourceKey=WidthValueConverter}, Source={x:Reference Name=myDataGrid}}" IsReadOnly="True" Header="Column2" Binding="{Binding Value2, Mode=OneWay}"/>
            <DataGridTextColumn Width="{Binding Path=ActualWidth, Converter={StaticResource ResourceKey=WidthValueConverter}, Source={x:Reference Name=myDataGrid}}" IsReadOnly="True" Header="Column3" Binding="{Binding Value3, Mode=OneWay}"/>
        </DataGrid.Columns>
    </DataGrid> 
```

但现在我得到了这个 XamlParseException

```
Cannot call MarkupExtension.ProvideValue because of a cyclical dependency. Properties inside a 
MarkupExtension cannot reference objects that reference the result of the MarkupExtension. 
The affected MarkupExtensions are:
'System.Windows.Data.Binding' Line number '37' and line position '37'.
'System.Windows.Data.Binding' Line number '38' and line position '37'.
'System.Windows.Data.Binding' Line number '39' and line position '37'. 
```

那么如何将 a 的`Width`属性绑定到其父级`DataGridColumn`的属性`ActualWidth``DataGrid`

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-06T18:58:12.567

有同样的问题，并发现使用 x:Reference 您不能引用您正在使用它的对象的任何容器。讨厌的黑客，但我想如果你创建了一些其他控件（`TextBlock`）并将它的宽度绑定到`DataGrid` `ActualWidth`然后使用 x:Reference`TextBlock`它将避免循环引用

```
<TextBlock x:Name="TextBlock1" Width="{Binding ElementName=myDataGrid, Path=ActualWidth}" />
<DataGrid AutoGenerateColumns="False" Background="White" ItemsSource="{Binding Items, Mode=OneWay}" 
          HorizontalGridLinesBrush="Silver" VerticalGridLinesBrush="Silver"
          Margin="332,10,10,10" CanUserAddRows="False" CanUserDeleteRows="False"
          x:Name="myDataGrid" ColumnWidth="*">
        <DataGrid.Columns>
            <DataGridTextColumn Width="{Binding Path=ActualWidth, Converter={StaticResource ResourceKey=WidthValueConverter}, Source={x:Reference Name=TextBlock1}}" IsReadOnly="True" Header="Column1" Binding="{Binding Value1, Mode=OneWay}" />
            <DataGridTextColumn Width="{Binding Path=ActualWidth, Converter={StaticResource ResourceKey=WidthValueConverter}, Source={x:Reference Name=TextBlock1}}" IsReadOnly="True" Header="Column2" Binding="{Binding Value2, Mode=OneWay}"/>
            <DataGridTextColumn Width="{Binding Path=ActualWidth, Converter={StaticResource ResourceKey=WidthValueConverter}, Source={x:Reference Name=TextBlock1}}" IsReadOnly="True" Header="Column3" Binding="{Binding Value3, Mode=OneWay}"/>
        </DataGrid.Columns>
</DataGrid> 
```

# c# - 如何从磁盘读取 .fit 文件

> ID：12871552
> 
> 赞同：6
> 
> 时间：2012-10-13T08:55:36.870
> 
> 标签：c#, asp.net, garmin

我需要创建将上传 garmin .fit 文件并将其存储到数据库的 asp .net 应用程序。

我正在尝试使用 Garmin Communicator Plugin API 从磁盘读取 .fit 文件，但我无法读取位于我的硬盘上的数据（我没有任何 Garmin 设备）。

你知道这是否可以通过 Garmin Communicator Plugin API 实现以及如何实现？或者你认为还有其他可能性吗？

应用程序应该是这样的

[http://www.goodrunguide.co.uk/FITFileUpload.asp?FileUpload=1](http://www.goodrunguide.co.uk/FITFileUpload.asp?FileUpload=1)

提前致谢

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-10-15T16:06:36.723

你可以看看[fit-sdk](http://www.thisisant.com/resources/fit)。

还要检查这个出色的 GPX 格式转换器*（截至 2017 年 8 月链接已失效）*：~~[https ://code.google.com/p/speelterrein/](https://code.google.com/p/speelterrein/)~~

# vb.net - Linq 动态分组依据

> ID：12871558
> 
> 赞同：2
> 
> 时间：2012-10-13T08:56:22.240
> 
> 标签：vb.net, linq, dynamic, group-by

嗨，我需要在 vb.net 中有 group by 的动态 linq 查询。

我的查询如下。

在第一个查询中，我需要按两列分组，但在第二个查询中，我只需要按一列分组。这取决于用户希望如何查看报告。

如何根据用户选择在运行时生成这些查询？

提前致谢。

```
Dim query = From r In dtString.AsEnumerable
        Group r By Key0 = r.Field(Of String)("country"),
                   Key1 = r.Field(Of String)("region") Into Group
        Select Key0, Key1,
               DebitTotal = Group.Sum(Function(r) r.Field(Of Decimal)("debit")),
               CreditTotal = Group.Sum(Function(r) r.Field(Of Decimal)("credit"))

Dim query = From r In dtString.AsEnumerable
        Group r By Key0 = r.Field(Of String)("country") Into Group
        Select Key0
               DebitTotal = Group.Sum(Function(r) r.Field(Of Decimal)("debit")),
               CreditTotal = Group.Sum(Function(r) r.Field(Of Decimal)("credit")) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-15T01:03:31.920

正如您从`Select`子句中看到的那样，您的两个查询的结果不是（匿名）类型兼容的。您最简单的解决方案可能是将您的第二个查询更改为具有第二个冗余或常量组键的内容。

例如

```
query = From r In dtString.AsEnumerable
    Group r By Key0 = r.Field(Of String)("country"),
               Key1 = r.Field(Of String)("country") Into Group
    Select Key0, Key1,
           DebitTotal = Group.Sum(Function(r) r.Field(Of Decimal)("debit")),
           CreditTotal = Group.Sum(Function(r) r.Field(Of Decimal)("credit")) 
```

或者

```
query = From r In dtString.AsEnumerable
    Group r By Key0 = r.Field(Of String)("country"),
               Key1 = "ignored" Into Group
    Select Key0, Key1,
           DebitTotal = Group.Sum(Function(r) r.Field(Of Decimal)("debit")),
           CreditTotal = Group.Sum(Function(r) r.Field(Of Decimal)("credit")) 
```

（未经测试）

然后，您必须调整结果显示以`key1`在需要时忽略。

# android - 以编程方式更改 android:digits

> ID：12871561
> 
> 赞同：5
> 
> 时间：2012-10-13T08:56:39.220
> 
> 标签：android, layout, keyboard

我在布局 xml 中有这个

```
android:digits="0123456789."
android:inputType="phone" /> 
```

我想要的是能够以编程方式更改它并能够来回更改它。inputType 部分很好

```
manual_ip.setInputType(InputType.TYPE_CLASS_TEXT); 
```

或者

```
manual_ip.setInputType(InputType.TYPE_CLASS_PHONE); 
```

但我对数字部分一无所知。我需要将字符限制为“0123456789”。或根据复选框状态允许一切。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-10-13T09:13:01.040

添加

```
manual_ip.setKeyListener(DigitsKeyListener.getInstance("0123456789.")); 
```

后

```
manual_ip.setInputType(InputType.TYPE_CLASS_PHONE); 
```

之后什么都没有

```
manual_ip.setInputType(InputType.TYPE_CLASS_TEXT); 
```

解决了我的问题！

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-13T09:56:06.903

尝试使用[InputFilter](http://developer.android.com/reference/android/text/InputFilter.html)作为：

```
 InputFilter[] digitsfilters = new InputFilter[1];
    digitsfilters[0] = new InputFilter(){

    public CharSequence filter(CharSequence source, int start, int end, Spanned dest, int dstart, int dend) {
        // TODO Auto-generated method stub
        if (end > start) {

            char[] acceptedChars = new char[]{'0', '1', '2', '3', '4', '5', '6', '7', '8', '9'};

            for (int index = start; index < end; index++) {
                if (!new String(acceptedChars).contains(String.valueOf(source.charAt(index)))) {
                return "";
                }
            }
        }
                return null;
    }
};
manual_ip= (EditText)findViewById(R.id.manual_ip);
manual_ip.setFilters(digitsfilters); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-13T09:17:10.487

把这个写下来。

```
myEditText.setFilters( new InputFilter[] {
    new PasswordCharFilter(), new InputFilter.LengthFilter(20)}); 
```

或者

```
TextView editEntryVew = new TextView(...);
InputFilter[] FilterArray = new InputFilter[1];
FilterArray[0] = new InputFilter.LengthFilter(8);
editEntryView.setFilters(FilterArray); 
```

# actionscript-3 - 几乎所有东西都试过了：ypeError：错误 #1009：无法访问空对象引用的属性或方法

> ID：12871564
> 
> 赞同：1
> 
> 时间：2012-10-13T08:57:29.623
> 
> 标签：actionscript-3, flash, class

我遇到了这个问题，根本无法解决

我正在为 uni 制作平台游戏

我有 2 个文件

flashgame.fla 和 Coin.as（这是 Coin 类的代码）

我有代码说明一旦玩家收集了所有硬币，帧将从第 1 帧变为第 2 帧。当我这样做时，我会收到此消息

> TypeError：错误 #1009：无法访问空对象引用的属性或方法。在 Coin/update() 类型错误：错误 #1009：无法访问空对象引用的属性或方法。在 flashgame_fla::MainTimeline/loop()

我试过 Try and Catch 和其他各种东西

我认为这样做是因为 Coin.as 扩展了 MovieClip，所以当它进入下一帧时，它仍然试图在没有任何东西的情况下找到硬币。

这是 Coin.as 的代码

* * *

```
package  {

import flash.display.MovieClip;
import flash.events.*;

public class Coin extends MovieClip {
    var player:MovieClip;
    var mainTimeLine = MovieClip(root);

    public function Coin() {
        this.addEventListener(Event.ENTER_FRAME, update);
    }

    function update(event:Event):void
    {
        player=MovieClip(root).player;
        if(this.hitTestObject(player))
        {
            this.removeEventListener(Event.ENTER_FRAME, update);
            parent.removeChild(this);
            mainTimeLine.coinCount++;
        }

    }
}

} 
```

我在 flashgame.fla 中有一个数组，可以记录游戏中的所有硬币。当玩家击中它们时，它们会从阵列中拼接起来。转到第 2 帧时也可能导致问题

flashgame.fla 中的重要内容

* * *

```
var coin:Array = new Array();
for (i=0; i<numChildren; i++)
{
    if (getChildAt(i) is Coin)
    {
        coin.push(getChildAt(i).getRect(this));
    }
} 
```

* * *

拼接硬币

* * *

```
for (i=0; i<coin.length; i++)
    {
        if (player.getRect(this).intersects(coin[i]))
        {
            coinSnd.play();
            coin.splice(i,1);
        }
    } 
```

感谢您提供的任何帮助，如果您需要我提供更多信息，请询问:) 所有 g 都带有屏幕截图

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-13T13:11:04.310

这很可能是因为在 Coin 类的更新函数中找不到播放器。这是因为即使显示对象不在舞台上，也会运行 ENTER_FRAME 事件，而您通常不希望这样做。在这种情况下，您尝试对玩家进行命中测试。

为了解决这个问题，您可以在硬币连接到舞台后立即开始运行更新，并在硬币从舞台上移除后立即停止运行。

```
public function Coin() {
   this.addEventListener(Event.ADDED_TO_STAGE, onAddedToStage);
   this.addEventListener(Event.REMOVED_FROM_STAGE, onRemovedFromStage);
}

function onAddedToStage(event:Event):void {
   this.addEventListener(Event.ENTER_FRAME, update);
}

function onRemovedFromStage(event:Event):void {
   this.removeEventListener(Event.ENTER_FRAME, update);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-14T02:47:52.443

错误发生在哪一行？那应该告诉您哪个变量为空。

我的猜测是，基于这部分错误：“TypeError：错误 #1009：无法访问空对象引用的属性或方法。在 Coin/update()”，是`parent`因为你已经移动到一个新的关键帧，并且该实例已从舞台上移除。

也就是说，我怀疑错误发生在`parent.removeChild(this);`- 这是正确的吗？

如果是这种情况，那么`parent`在调用`removeChild`它之前检查是否不为空。

# node.js - 如何为 https Web 服务器创建 .pem 文件

> ID：12871565
> 
> 赞同：99
> 
> 时间：2012-10-13T08:57:37.637
> 
> 标签：node.js, ssl, https, webserver, pem

我正在使用 Node.js 中的 Express 框架来创建 Web 服务器。我想使用 ssl 来连接网络服务器。

创建 https 网络服务器的代码如下。

```
var app = express.createServer({
  key: fs.readFileSync('./conf/key.pem'),
  cert: fs.readFileSync('./conf/cert.pem')
});
module.exports = app; 
```

问题：如何创建express所需的key.pem和cert.pem？

* * *

## 回答 #1

> 赞同：211
> 
> 时间：2012-10-16T03:34:11.163

您需要的两个文件是 PEM 编码的 SSL 证书和私钥。PEM 编码的证书和密钥是 Base64 编码的文本，带有看起来`-----BEGIN RSA PRIVATE KEY-----`或相似的开始/结束分隔符。

要创建 SSL 证书，您首先需要生成私钥和证书签名请求，或 CSR（其中还包含您的公钥）。您可以通过多种方式执行此操作，但这是 OpenSSL 中的方法。

```
openssl req -newkey rsa:2048 -new -nodes -keyout key.pem -out csr.pem 
```

这将导致您输入交互式提示以生成 2048 位 RSA 私钥和 CSR，其中包含您在提示中选择输入的所有信息。（**注意：Common Name 是您要放置用于访问您的站点的域名的位置。**）完成此操作后，您通常会将此 CSR 提交给受信任的证书颁发机构，并在他们经过验证后提交您的请求，您将收到一份证书。

如果您不关心您的证书是否受信任（通常用于开发目的），您可以创建一个自签名证书。为此，我们可以使用几乎相同的行，但我们将传递两个额外的参数。

```
openssl req -newkey rsa:2048 -new -nodes -x509 -days 3650 -keyout key.pem -out cert.pem 
```

这将为您提供一个证书（有效期为 10 年）和密钥对，您可以在发布的代码片段中使用它们。

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2016-01-11T00:41:20.557

只需按照以下程序：

1.  创建要存储密钥和证书的文件夹：

    `mkdir conf`

* * *

2.  转到该目录：

    `cd conf`

* * *

3.  获取此`ca.cnf`文件以用作配置快捷方式：

    `wget https://raw.githubusercontent.com/anders94/https-authorized-clients/master/keys/ca.cnf`

* * *

4.  使用此配置创建一个新的证书颁发机构：

    `openssl req -new -x509 -days 9999 -config ca.cnf -keyout ca-key.pem -out ca-cert.pem`

* * *

5.  现在我们在`ca-key.pem`and中拥有了证书颁发机构`ca-cert.pem`，让我们为服务器生成一个私钥：

    `openssl genrsa -out key.pem 4096`

* * *

6.  获取此`server.cnf`文件以用作配置快捷方式：

    `wget https://raw.githubusercontent.com/anders94/https-authorized-clients/master/keys/server.cnf`

* * *

7.  使用此配置生成证书签名请求：

    `openssl req -new -config server.cnf -key key.pem -out csr.pem`

* * *

8.  签署请求：

    `openssl x509 -req -extfile server.cnf -days 999 -passin "pass:password" -in csr.pem -CA ca-cert.pem -CAkey ca-key.pem -CAcreateserial -out cert.pem`

我在[**这里**](http://engineering.circle.com/https-authorized-certs-with-node-js/)找到了此过程，以及有关如何使用这些证书的更多信息。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-06-14T17:32:27.213

另一种方法是使用类的 createCertificate 方法使用 pem 库生成证书。

该过程如下：

如果您的系统中尚未安装 openssl，例如对于 Windows 10，可以在此处找到源代码的编译版本（似乎是最开放的版本）：[https](https://curl.se/windows/) ://curl.se/windows/它的解释在这里编译和保护：[https](https://wiki.openssl.org/index.php/Binaries) ://wiki.openssl.org/index.php/Binaries 。对于源[https://www.openssl.org/community/binaries.html](https://www.openssl.org/community/binaries.html) 对于 windows，您可能需要将 openssl.bin 文件的目录添加到系统环境路径变量（[https://www.architectryan.com /2018/08/31/how-to-change-environment-variables-on-windows-10/](https://www.architectryan.com/2018/08/31/how-to-change-environment-variables-on-windows-10/)）或将文件的位置传递给 PEM 库。

使用安装 pem（此处的文档：[https ://github.com/Dexus/pem](https://github.com/Dexus/pem)

```
npm i pem 
```

在服务器根目录的命令行中。

从文档中您可以看到，可以通过以下方式简单地创建一个带有密钥的简单 https 服务器：

```
const https = require('https')
const pem = require('pem')

pem.createCertificate({ days: 1, selfSigned: true }, (err, keys) => {
  if (err) {
    throw err
  }
  https.createServer({ key: keys.clientKey, cert: keys.certificate }, (req, res)  => {
    res.end('o hai!')
  }).listen(443)
}) 
```

`npm i express` 或在服务器根目录的命令行中使用 express ）：

```
const https = require('https')
const pem = require('pem')
const express = require('express')

pem.createCertificate({ days: 1, selfSigned: true }, (err, keys) => {
  if (err) {
    throw err
  }
  const app = express()

  app.get('/', (req, res) => {
    res.send('o hai!')
  })

  https.createServer({ key: keys.clientKey, cert: keys.certificate }, app).listen(443)
}) 
```

只是将 var 的 const 更改为适当的，并将函数更改为箭头函数

# c# - 虚拟目录，具有身份验证的远程主机

> ID：12871566
> 
> 赞同：0
> 
> 时间：2012-10-13T08:57:47.260
> 
> 标签：c#, asp.net, iis

是否可以通过身份验证和我的虚拟文件夹的内容动态链接到远程主机的虚拟链接？

例如，如果其他主机上有文件：

> [http://user:pass@link.com/file.text](http://user:pass@link.com/file.text)

是否可以在我的主机中有此链接

> [http://mydomain.com/file.text](http://mydomain.com/file.text)

所有文件都是动态的，如果可能的话不要将它们复制到我的主机中，只是虚拟链接。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-14T08:21:47.530

您可以使用[重定向](http://www.techrepublic.com/blog/programming-and-development/two-approaches-to-redirection-in-aspnet/743)。如果要隐藏远程主机的 URL，请使用 Server.Transfer。

# php - 回声图像 - PHP & JSON - Twitter API

> ID：12871567
> 
> 赞同：0
> 
> 时间：2012-10-13T08:57:52.207
> 
> 标签：php, javascript, variables, twitter, youtube

PHP 新手，找到了能够从 Twitter API 检索 JSON 数据并将其回显的可靠代码。这是检索@Guardian（报纸）的用户图片的 PHP 代码

```
 <?php
   $data = json_decode(file_get_contents('https://api.twitter.com/1/users/lookup.json?screen_name=guardian'), true);
   echo $data[0]['profile_image_url'];
 ?> 
```

图像的 JSON 数据为：

> profile_image_url":"http://a0.twimg.com/profile_images/1857791844/G_twittermain_normal.jpg"

所以很明显它与url（文本）相呼应，我想**输出实际的图像**，如果可能的话也可能控制它的大小。

提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-13T09:01:58.203

```
 <img src=" <?php echo $data[0]['profile_image_url'];?>" />
</body> 
```

# java - BufferedImage 到数组

> ID：12871570
> 
> 赞同：0
> 
> 时间：2012-10-13T08:58:06.127
> 
> 标签：java, arrays, graphics, bufferedimage

将缓冲图像转换为整数数组有什么好处？我假设我可以操纵数组并交叉处理图片。是这样吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-13T09:12:59.197

我认为您指的是 BufferedImage 类的[getRgb()](http://docs.oracle.com/javase/1.4.2/docs/api/java/awt/image/BufferedImage.html#getRGB%28int,%20int,%20int,%20int,%20int%5B%5D,%20int,%20int%29)方法。

假设您要修改整个图像或其中的大部分，检索像素数组并对其执行操作可能比通过诸如[setRgb() 之](http://docs.oracle.com/javase/1.4.2/docs/api/java/awt/image/BufferedImage.html#setRGB%28int,%20int,%20int%29)类的方法调用访问每个像素要快得多。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-13T09:18:56.237

SwingX 为 BufferedImage 引入了 AbstractFilter 类。这是一个例子：

*   [http://www.jarvana.com/jarvana/view/org/swinglabs/swingx/0.9/swingx-0.9-sources.jar!/org/jdesktop/swingx/image/GaussianBlurFilter.java?format=ok](http://www.jarvana.com/jarvana/view/org/swinglabs/swingx/0.9/swingx-0.9-sources.jar!/org/jdesktop/swingx/image/GaussianBlurFilter.java?format=ok)

对于简单的编辑，请使用以下示例之一：

*   [http://www.exampledepot.com/egs/java.awt.image/imagepixel.html](http://www.exampledepot.com/egs/java.awt.image/imagepixel.html)
*   [缓冲图像像素操作](https://stackoverflow.com/questions/7742444/buffered-image-pixel-manipulation)
*   [如何从包含像素的数组创建 BufferedImage？](https://stackoverflow.com/questions/9396159/how-do-i-create-a-bufferedimage-from-array-containing-pixels)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-13T10:14:17.890

将 a `BufferedImage`into memory 作为值数组`int`可以帮助您通过将`int`值处理到内存中然后将结果设置回另一个来在图像上应用过滤器`BufferedImage`。

# iphone - UISCrollview+启用左侧滚动

> ID：12871571
> 
> 赞同：1
> 
> 时间：2012-10-13T08:58:19.133
> 
> 标签：iphone, ios, uiscrollview

我有一个 UIScrollView。我想实现一个无限的左侧滚动效果。这怎么可能？

```
- (void) scrollViewDidScroll:(UIScrollView *)scrollView {
    CGFloat pageWidth = scrollView.frame.size.width/7;
    int page = floor((scrollView.contentOffset.x - pageWidth / 2) / pageWidth) + 1;
    Lbl_Rate.text=[NSString stringWithFormat:@"   pagenumber==>%d",page ];  
    int p=page%10;
    if(p==0){ 
        page=1;
        SCrl_Wheel.contentOffset = CGPointMake(0, 0);
    }
} 
```

我曾尝试将 contentoffset 设置为 `SCrl_Wheel.contentOffset = CGPointMake(0, 0);`

但它实际上并没有设置`contentoffset.x=0;`

这正在制作：-`[SCrl_Wheel setContentOffset:CGPointMake(0,0) animated:YES];`我的循环是无限循环。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-13T10:42:22.310

To add Left Side scrolling effect, you can create a scrollview with very large width and then set its initial contentOffset to midpoint of contentwidth of scrollview :

```
scrollView.contentSize = CGSizeMake(100000, 60);
scrollView.contentOffset = CGPointMake(scrollView.contentSize.width/2, 0); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-13T09:34:35.993

将此添加`setContentSize:`到您的代码中。

```
[SCrl_Wheel setContentSize:CGSizeMake(-100000,50)]; 
```

现在它会像你想要的那样滚动，为什么你要添加你的 y = 0 ？那么**高度**将`UIScrollView`是 0....

**编辑：**

```
 [SCrl_Wheel setContentOffset:CGPointMake(1000, 0.0)]; 
```

添加此代码 ull b 让双方滚动你的方式:) 我测试了它......

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-13T10:24:59.827

这是我用于向左滚动的代码：

```
HorizontalScroll = [[UIScrollView alloc] initWithFrame:CGRectMake(0,50,yourView.frame.size.width,tbv.frame.size.height)];
        [HorizontalScroll setContentSize:CGSizeMake(930,340)];
        [HorizontalScroll setBackgroundColor:[UIColor redColor]]; // color is set just to know where the scroll view is , remove this line afterwards.
        [self.view addSubview:HorizontalScroll];
        [HorizontalScroll addSubview:yourView]; 
```

# math - 求解线性组合的算法？

> ID：12871577
> 
> 赞同：0
> 
> 时间：2012-10-13T08:59:21.080
> 
> 标签：math, linear-algebra

我遇到了以下问题，我需要在我正在处理的项目中解决：

给定一些向量 v_i（在数学意义上）和一个目标向量 H，计算与目标向量 H 最匹配的向量 v_i 的线性组合，约束条件是系数必须在 [0, 1] .

我不太了解应该使用哪种算法/数学来解决这样的问题。任何在正确的大方向上的刺激都将不胜感激！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-13T10:32:31.450

It's a constrained least square problem. Basically you want to solve the optimization problem:

```
 argmin ||Ax-H||
    x
  s.t.  0<=x_j<=1 
```

where `x=(x_1, ..., x_j, ..., x_n)` consists the coefficients you are seeking, and a column of `A` corresponds to a vector v_i.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-13T10:46:54.553

假设您想以最小二乘的方式求解，那么您有一个二次规划问题。例如，假设您的向量集是

```
x1 = 1 2 3]'    x2 = [3 2 1]' 
```

你的目标向量是

```
H = [1 -1 1]' 
```

然后您可以创建其列是您的向量的矩阵：

```
A = [1 3;
     2 2;
     3 1] 
```

你试图最小化的事情是

```
norm(A*x - H) = (A*x - H)' * (A*x - H) = x' * (A'*A) * x - (2*H'*A) * x + const 
```

如果你定义

```
B = A' * A
C = -2 * H' * A 
```

那么你有一个问题可以通过我的 Matlab`quadprog`函数得到最佳解决

```
quadprog(B,C,[],[],[],[],0,1)
ans = 
    0.16667
    0.16667 
```

所以这种情况下的最优解是

```
1/6 * x1 + 1/6 * x2 = [2/3, 2/3, 2/3] 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-13T09:30:08.303

这是一个组合优化问题。这类问题是 NP 难的。但我猜对于二进制，应该有多项式算法可以解决，或者可能有一些放松来得到一个近似的解决方案。一些关于“整数编程”的谷歌搜索可能会有所帮助。

# java - Objectify 4过滤器不起作用

> ID：12871579
> 
> 赞同：4
> 
> 时间：2012-10-13T08:59:43.023
> 
> 标签：java, google-app-engine, objectify

我正在尝试做一个简单的 JUnit 测试来做这样的查询：

```
Resource result = ofy().load().type(Resource.class).filter("raw =", 
    "/Bob/-/userId/-/").first().get(); 
if (result != null){
    System.out.println("Resulting Resource raw =" + result.getRaw());
} 
```

上面的查询结果为`null`，但是当我使用 id （它是一个 Long 类型）进行查询时，我得到了结果。当我坚持我试图查询的实体时，我记录了`@Id`并且值为`1`，所以我做了一个查询`id`来检查：

```
Resource result = 
    ofy().load().type(Resource.class).filter("id =", 1).first().get(); 
if (result != null){
    System.out.println("Resulting Resource raw =" + result.getRaw());
} 
```

结果`result.getRaw()`真的`/Bob/-/userId/-/`很奇怪，从我的第一个查询开始，结果不应该是`null`？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-10-15T10:07:44.280

检查您是否在该字段上有一个@Index，如果您尝试按没有索引的字段进行选择，即使它在那里，您也会得到 null。当然，在几个字段上，您需要对所有字段进行索引。

*多个字段的索引将放在 datastore-indexes.xml [https://cloud.google.com/appengine/docs/java/config/indexconfig](https://cloud.google.com/appengine/docs/java/config/indexconfig)

# php - PHP中非常快速的排列

> ID：12871580
> 
> 赞同：0
> 
> 时间：2012-10-13T08:59:53.287
> 
> 标签：php, permutation

我在互联网上进行了非常详细的搜索，发现了许多解决排列的 PHP 脚本示例。所有这些脚本都可以在这里和那里排列一些数字和几个单词，但是当我们开始执行一些繁重的工作时，我无法执行代码。

这是我们需要的东西和我所做的事情的本质。

我必须找到从 1 到 8 的一系列数字的所有唯一组合。我很容易做到这一点，没有问题......

然后我必须置换每个组合，这应该产生一个疯狂的数字结果，然后我必须对每个结果执行字符串替换......

我知道这很激烈，我确实设法用最多 6 个数字来完成它。

6 执行起来很慢，而且 7 和 8 只是弄乱了机器上的内存分配。

我的主要问题是

有没有办法可以超快地进行排列？最好不要太严重地影响内存......以及在PHP中实际显示几百万条记录的速度有多快（在命令行中执行，浏览器在这里无关紧要）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-13T09:26:48.577

我不知道这是否会有所帮助，但我已经制作了一个脚本，它按字典顺序生成 10 个数字（0 -> 9）的排列，它运行时间约为 60 秒 [Quadcore 2.7Ghz] 并使用 512MB，原因是数组大小...

通过数学计算：10！= 60 秒内 3628800 次排列，8！= 40320 个排列，所以它应该运行在 (60 * 40320) / 3628800 = 0.67 秒，比如 1 秒！您可能需要更改 8 位数排列的代码！PS：我不知道浏览器是否会处理+3M数字的输出！

```
<?php

/* 0 - > 9 PERMUTATION SCRIPT */
ini_set('memory_limit', '512M');
ini_set('max_execution_time', '0');

$st = timer();

$permutations = array();

for($a=0;$a<=9;$a++){
    for($b=0;$b<=9;$b++){
        if($b != $a){
            for($c=0;$c<=9;$c++){
                if($c != $a && $c != $b){
                    for($d=0;$d<=9;$d++){
                        if($d != $a && $d != $b && $d != $c){
                            for($e=0;$e<=9;$e++){
                                if($e != $a && $e != $b && $e != $c && $e != $d){
                                    for($f=0;$f<=9;$f++){
                                        if($f != $a && $f != $b && $f != $c && $f != $d && $f != $e){
                                            for($g=0;$g<=9;$g++){
                                                if($g != $a && $g != $b && $g != $c && $g != $d && $g != $e && $g != $f){
                                                    for($h=0;$h<=9;$h++){
                                                        if($h != $a && $h != $b && $h != $c && $h != $d && $h != $e && $h != $f && $h != $g){
                                                            for($i=0;$i<=9;$i++){
                                                                if($i != $a && $i != $b && $i != $c && $i != $d && $i != $e && $i != $f && $i != $g && $i != $h){
                                                                    for($j=0;$j<=9;$j++){
                                                                        if($j != $a && $j != $b && $j != $c && $j != $d && $j != $e && $j != $f && $j != $g && $j != $h && $j != $i){
                                                                            $permutations[] = $a.$b.$c.$d.$e.$f.$g.$h.$i.$j;
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}

echo count($permutations);

$et = timer();
$time = $et - $st;
echo "<br/>in : ".$time." seconds.";
function timer(){
    list($usec, $sec) = explode(" ", microtime());
    return((float)$usec + (float)$sec);
}

?> 
```

编辑：1->8 置换脚本：~0.43 秒。

```
<?php
$permutations = array();

for($a=1;$a<=8;$a++){
    for($b=1;$b<=8;$b++){
        if($b != $a){
            for($c=1;$c<=8;$c++){
                if($c != $a && $c != $b){
                    for($d=1;$d<=8;$d++){
                        if($d != $a && $d != $b && $d != $c){
                            for($e=1;$e<=8;$e++){
                                if($e != $a && $e != $b && $e != $c && $e != $d){
                                    for($f=1;$f<=8;$f++){
                                        if($f != $a && $f != $b && $f != $c && $f != $d && $f != $e){
                                            for($g=1;$g<=8;$g++){
                                                if($g != $a && $g != $b && $g != $c && $g != $d && $g != $e && $g != $f){
                                                    for($h=1;$h<=8;$h++){
                                                        if($h != $a && $h != $b && $h != $c && $h != $d && $h != $e && $h != $f && $h != $g){
                                                            $permutations[] = $a.$b.$c.$d.$e.$f.$g.$h;
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}

echo count($permutations);
?> 
```

# javascript - 幻灯片导航

> ID：12871583
> 
> 赞同：1
> 
> 时间：2012-10-13T09:00:54.027
> 
> 标签：javascript, jquery, html, css

我正在尝试制作幻灯片导航。这是我的代码

html

```
<li>
    <a href="#">Services</a>
   <div class="subcategories">
    <a href="#">Cleaning</a>
  </div>
</li> 
```

子类别 div 是隐藏的。

js

```
$('li a').hover(function() {
  $(this).next().slideToggle('fast', function() {

   });
}); 
```

此代码有效。问题是当鼠标离开 li a 时，子类别 div 消失了。

我想要的是，当用户将 li 指向要显示的子类别 div 时，用户可以单击子导航的某些链接。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-13T09:11:42.287

请试试这个**Demo** [http://jsfiddle.net/QEkDa/](http://jsfiddle.net/QEkDa/) **或** [http://jsfiddle.net/qmrHm/](http://jsfiddle.net/qmrHm/)

如果我错过了什么，请告诉我！

希望休息适合事业`:)`

**代码**

```
$(".subcategories").hide();
$('li a').mouseover(function() {
       $(this).next().slideToggle('fast', function() { // <== could use slideDown

    }).mouseout(function() {
        $(".subcategories").slideUp();

    });
});​​ 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-13T09:19:42.617

```
$('li').hover(function(){
    $(this).children('.subcategories').slideToggle('fast', function(){});
}); 
```

试试这个，你需要把悬停动作放在 li 上，否则当你将鼠标悬停在 div 上时它会隐藏，因为你现在在 div 上，而不是在了。

随着`children()`您选择该 li 下属于“子类别”类的节点的操作，但您仍在 li 上，因此它不会隐藏

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-13T09:21:32.110

你使用 a:first

```
 $('li a:first').hover(function() {
  $(this).next().slideToggle('fast', function() {
  });
}); 
```

# javascript - 函数括号中的项目的用途是什么？

> ID：12871586
> 
> 赞同：0
> 
> 时间：2012-10-13T09:01:36.683
> 
> 标签：javascript, function, parentheses

```
function handleButtonClick(e) {
var textInput = document.getElementById("songTextInput");
var songName = textInput.value;
//alert("Adding " + songName);

if (songName == "") {
    alert("Please enter a song");
}
else {
    //alert("Adding " + songName);
    var li = document.createElement("li");
    li.innerHTML = songName;
    var ul = document.getElementById("playlist");
    ul.appendChild(li);

    // for Ready Bake
    save(songName);
}
} 
```

在这段代码中，为什么我们将“e”放入保留在第一行的函数中。据我所知，除了那里我们没有使用它？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-13T09:03:04.493

您现在不使用它，但是：

*   `myElement.onclick=handleButtonClick;`如果您将其作为回调提供给事件绑定实用程序（例如），则即使您未声明此参数（事件）也会收到
*   您的事件处理程序将来可能必须使用该事件，现在声明它更干净

您不必声明它，但这是一个很好的做法*。*

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-13T09:11:34.467

从函数的名称来看，我假设这是一个附加到您页面上的按钮的单击处理程序。通常，当触发事件时，浏览器会将 Event 对象作为参数传递给事件处理程序。在您的代码中， e 参数将包含此 Event 对象。在您的事件处理程序中，您没有使用传入的 Event 对象，因此可以将其删除。

但是，有时您可能希望使用传入的事件对象。例如：您可能希望在单击按钮时执行某个操作，并在按住键单击按钮时执行不同的操作`Ctrl`。在这种情况下，您将使用传入的 Event 对象的 ctrlKey 属性来确定要执行的操作。

# android - 可从许多地方下载的应用的 AdMob 网站网址

> ID：12871593
> 
> 赞同：0
> 
> 时间：2012-10-13T09:02:26.513
> 
> 标签：android, admob

如果带有 AdMob 横幅的 Android 应用具有网站 URL `market://details?id=<com.example.app>`，它是否适用于来自非 Google Play 安装的请求和点击？我在 1mobile 和一些论坛上发布了应用程序，所以我希望从那里安装也可以使用 AdMob。我应该`http://`代替它`market://`吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-13T09:23:52.390

当你的应用程序触发 admob 数据时，它会使用 admob 给你的 api 密钥，仅此而已。这与您的应用程序的下载和安装方式无关。

所以，是的，admob 可以工作。它将在您的应用中显示广告，无论它是从哪个市场安装的。

如果您的问题是：我想使用带有市场 URL 的 admob 推广我的应用程序以鼓励人们安装它，那么不，它仅适用于支持市场的设备和国家/地区。有些设备根本不支持它，例如 archos 设备。

因此，如果您计划以这种方式分发您的应用程序，最好提供一个免费 URL，不链接到 android 市场并允许用户查看该页面，并通过市场或直接下载或替代市场下载 apk .

# eclipse - Eclipse Axis2 WSDL2Java 异常：空

> ID：12871595
> 
> 赞同：1
> 
> 时间：2012-10-13T09:02:59.310
> 
> 标签：eclipse, axis2, wsdl2java

我正在尝试`Java Bean Skelleton`从 a 生成 a `WSDL`（实际上这也会发生在`Client`generation 中）。

所以这是我做的步骤：

*   右键单击 .wsdl -> WebServices -> 生成 Java Bean Skelleton
*   选择`Tomcat 7`和`Axis 2`
*   单击下一步（在此字段中，参数字段为空）
*   单击下一步，您将收到以下错误 -`Exception occurred during code generation for the WSDL : null`

如果您检查具有颠覆性的项目，似乎会抛出此错误（实际上在我们的项目中，我们看到了这种相关性）。

可以做些什么来解决这个问题？

这个问题也是自 2008 年以来的一个开放错误，[Axis2 BugTracker](https://issues.apache.org/jira/browse/AXIS2-4119?page=com.atlassian.jira.plugin.system.issuetabpanels%3aall-tabpanel)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-13T09:02:59.310

我为此找到的唯一 Workarround 如下：

*   创建一个新的`DynamicWebProject`
*   创建一个新的`WSDL`（您可以复制旧的或任何您喜欢的）
*   创建一个新的`Java Bean Skelleton`（或`Client`）

现在`WSDL2Java`它将再次工作一段时间，直到再次损坏。您将能够通过重新生成`Java Bean Skelleton`. 您不需要每次都创建一个新项目。

编辑： *现在找到了这个问题的实际解决方案。我将我的 SVN 插件从 Subversive 更改为 Subclips。现在一切正常。*

# java - Spring MVC ajax重新渲染用户界面重复

> ID：12871598
> 
> 赞同：2
> 
> 时间：2012-10-13T09:03:05.147
> 
> 标签：java, jquery, ajax, jsf, spring-mvc

首先，我主要是有`JSF`背景的。

我最近开始学习了`Spring MVC`。`Spring MVC`困扰我的一件事是使用and时的 ajax 重新渲染`JQuery`。

假设我在我的`people.jsp`视图中定义了一个复杂的形式：

```
<c:forEach var="person" items="${people}">
   <table>
       <tr class="trPersonClass">...</tr>
       <tr>...</tr>
   </table>
</c:forEach> 
```

我在`refresh`下面有一个按钮。单击刷新按钮时，我想要`ajax`重新`people`渲染。

```
function refreshButtonClicked() {
    $.ajax({
       type: "GET",
       url: "ajax/loadPeople.do"
    }).done(function( msg ) {   
        //WHAT SHOULD I DO HERE???            
    } 
}); 
```

那么我应该在那里做什么？我已经用`c:forEach`我的`jsp`. 我不想再重复一遍。我不想在两个地方重复用户界面代码 - 在`JQuery`完成回调中和`JSP`在我的视图中使用标签。我认为这很容易出错。

请解释一下我在这里缺少什么。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-13T09:57:43.033

基本上，我看到 2 个选项：

1.  始终使用 ajax 加载表格，即使在第一次渲染时（表格创建代码仅在您的 javascript 函数中）
2.  修改 ajax/loadPeople.do 以返回已呈现的表格而不是 Json 列表。然后，您可以将人员表呈现代码分解到 JSP 标记文件中，或者使用一些模板库（图块等）来重用该 JSP 片段。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-13T09:35:14.587

首先，Spring MVC 非常灵活。您可以拥有返回由视图引擎生成的 HTML 的后端处理程序，您可以拥有返回 JSON/XML/ProtocolBuffers/等的处理程序。并使用 Mustache 等客户端渲染引擎在浏览器中显示页面，或者您可以将两者结合在同一个应用程序中。

如果你想在服务器上生成 HTML，Spring MVC 允许你使用不同的模板引擎来做到这一点。您可以使用 JSP、Freemarker、Velocity 等。为此，它使用 ViewResolver 抽象，并且在您的代码中您只需要处理 ModelAndView API。

关于 ViewResolver 的更多细节可以在这里找到：[http ://static.springsource.org/spring/docs/3.0.x/reference/mvc.html](http://static.springsource.org/spring/docs/3.0.x/reference/mvc.html)

根据您的问题，听起来您有一个使用 JSP 创建 html 服务器端的后端。为了在用户单击刷新按钮时仅更新表而不重新加载整个页面，例如，您可以有一个仅返回 html 表的处理程序，如下所示：

```
@RequestMapping("/table")
public ModelAndView renderTable() {
   List<People> people = peopleService.findAllPeople();
   return new ModelAndView("/people", "people", people);
} 
```

我还假设您有另一个处理程序，它返回通过 ajax 嵌入表格的主页。

```
<body>
    ...
    /* Content of div will be populated via ajax*/
    <div id="myTableContainer" />
    ...
</body> 
```

用于此的 javaScript 将类似于：

```
$(function() {

  var myTableContainer = $("#myTableContainer");

  var renderTable = function(container) { 
    $.get("/table", function(data) {
      container.empty().html(data);
    }
  };

  /* This is called on document ready */
  renderTable(myTableContainer);

  /* Use the same renderTable function when the refresh button is clicked */
  $("#refreshButton").click(function() {
      renderTable(myTableContainer);
  });
} 
```

# php - 在重定向到href之前运行onclick PHP代码而不使用javascript

> ID：12871600
> 
> 赞同：-4
> 
> 时间：2012-10-13T09:03:22.863
> 
> 标签：php, javascript, html

我想要以下内容：

```
<a href="http://www.someweb.com" onclick="somePHPcode">mylink 
```

当我点击“mylink”时，我想在重定向到“someweb.com”之前运行“somePHPcode”。

当单击 mylink 时，“somePHPcode”也是一个 PHP 函数调用或一些运行的 PHP 命令。

我不喜欢使用`href="javascript:void(0);"`或`href="#" onclick="javascript..."`

因为我需要查看“someweb.com”链接。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-13T09:06:44.690

PHP是服务器端代码。onClick 事件发生在浏览器（客户端）上，因此您不能这样做。您必须在客户端使用 Javascript（可能对可以运行 PHP 代码的服务器进行 Ajax 调用）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-13T09:08:38.703

您不能从 onclick 事件调用 PHP 函数，但是您可以调用 ajax 函数并执行您的代码，其次您可以使用简单的表单提交来执行您的 php 代码，然后重定向到您的新页面。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-13T09:09:12.803

您可以`top.location.href`在处理函数后在您的 javascript 函数中使用重定向。

```
<a href="http://www.someweb.com" onclick="javascript:return func();" id="redirect">mylink 
```

并使用这个 JS：

```
function func(){
// Your code. Use AJAX if want to execute server side code.

top.location.href= "http://www.someweb.com";
return false;

} 
```

最好的方法是使用 click 事件处理程序：

```
$("#redirect").click(function(){
//Your code logic or AJAX Call for server side logic
    top.location.href= "http://www.someweb.com";
}); 
```

# javascript - fullcalendar.js 如何在周视图中提前 +4 天和 -2 天显示当前日期

> ID：12871602
> 
> 赞同：1
> 
> 时间：2012-10-13T09:03:49.063
> 
> 标签：javascript, view, fullcalendar

刚刚阅读了有关完整日历的文档，但仍然无法找到如何显示仅显示一周的日历，其中当天晚两天和当天后四天。

因此，周视图中的当前日期始终是第三天。

如果有开箱即用的解决方案，请随时分享。否则我正在寻找开发插件。

任何帮助表示赞赏

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-13T09:21:01.023

好吧，您只需将日期更改`firstDay`为当前日期减去两天，然后每天都这样做。

这是该属性的[文档](http://arshaw.com/fullcalendar/docs/display/firstDay/)。

# javascript - 如何防止 Javascript+SVG 中的事件

> ID：12871604
> 
> 赞同：0
> 
> 时间：2012-10-13T09:04:19.683
> 
> 标签：javascript, svg, dom-events

我一直对在 SVG 中防止不需要的事件感到困惑。简而言之，在[http://3lectronics.com/sof/prevDef.svg](http://3lectronics.com/sof/prevDef.svg)您可能会看到示例。尝试单击圆圈并在矩形上画线。悬停时，它们变成白色。

事件正在发生，我希望他们死！请告诉我如何在画线时关闭其他元素上的事件。

SVG 代码

```
<svg id  ="svgRoot" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" onload="load(evt)" >

    <script type="text/ecmascript" xlink:href="prevDef.js"/>

    <rect x="0" y="0" width="100%" height="100%" fill="#009399"/>

    <rect id="R" x="150" y="150" width="200" height="30" fill="khaki" onmouseover="this.setAttribute('fill', 'white')" onmouseout="this.setAttribute('fill', 'khaki')"/>
    <circle cx="250" cy="75" r="50" fill="blue" onclick="drawLine(evt)"/>
    </svg> 
```

JS代码

```
var newL;
var xmlns="http://www.w3.org/2000/svg"; 
var cont=document.getElementById("svgRoot");

function load(evt) {
  var rect=document.getElementById("R");
  var offset=40;
  for (var i=1;i<7;i++) {
    var newR=rect.cloneNode(true);
    newR.setAttributeNS(null, "y", 150+i*offset);
    cont.appendChild(newR);
  }
}
function drawLine(evt) {
  if (window.svgDocument == null) svgDocument=evt.target.ownerDocument;
  newL=svgDocument.createElementNS(xmlns, "line");
  newL.setAttributeNS(null, "stroke", "black");
  newL.setAttributeNS(null, "x1", evt.clientX);
  newL.setAttributeNS(null, "y1", evt.clientY);
  newL.setAttributeNS(null, "x2", evt.clientX);
  newL.setAttributeNS(null, "y2", evt.clientY);
  newL.setAttributeNS(null, "stroke-width", "1");
  cont.appendChild(newL);
  cont.setAttributeNS(null, "onmousemove", "moveLinPt(evt)");
}
function moveLinPt(evt) {
  newL.setAttributeNS(null, "x2", evt.clientX);
  newL.setAttributeNS(null, "y2", evt.clientY);
  cont.setAttributeNS(null, "onclick", "moveLinEnd()");
}
function moveLinEnd() {
  cont.setAttributeNS(null, "onmousemove", null);
  cont.setAttributeNS(null, "onclick", null);
} 
```

但是，请尝试上面的链接。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-13T09:39:30.907

如果您不希望矩形响应鼠标悬停，则在这些元素上将指针事件设置为无。对于您的示例，您可以添加此

```
var rects = document.getElementsByTagName("rect") 
for (var i = 0; i < rects.length; i++) {
    rects[i].setAttribute("pointer-events", "none");
} 
```

移动LinPt，如果你想再次打开事件，你可以添加这个

```
var rects = document.getElementsByTagName("rect") 
for (var i = 0; i < rects.length; i++) {
    rects[i].setAttribute("pointer-events", "visiblePainted");
} 
```

移动LinEnd

# mysql - My-Sql JOIN 两个表错误

> ID：12871608
> 
> 赞同：-4
> 
> 时间：2012-10-13T09:04:30.373
> 
> 标签：mysql, sql, join

我试图合并两个表的数据。

我收到这样的错误。你能明白为什么吗？

> 每个派生表都必须有自己的别名

```
SELECT a.title, number 
FROM store a 
  JOIN 
  ( SELECT count(b.code) as number 
    FROM redeem_codes b 
    WHERE product = a.title 
      AND available = "Available") 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-13T09:05:48.823

你需要有`ALIAS`你的子查询。

```
SELECT a.title, number 
FROM store a   
     JOIN (subquery) b -- b is the `ALIAS`
                       -- and this query will not give you the result you want 
```

但这是一个更有效的查询，不使用子查询，

```
SELECT  a.title, count(b.code) number 
FROM    store a 
        INNER JOIN redeem_codes b             -- or use LEFT JOIN to show 0
                                              -- for those who have no product
            ON b.product = a.title
WHERE   b.available = 'Available'
GROUP BY    a.title 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-13T09:14:08.027

如果不了解更多有关您的表结构的信息，这有点难说。反正我会试一试：

```
SELECT a.title, count(b.code) AS number FROM store a
LEFT JOIN redeem_codes b ON b.product = a.title
WHERE b.available = "Available"
GROUP BY a.title; 
```

# asp-classic - ASP：错误“HTTP 标头已写入客户端浏览器。”

> ID：12871610
> 
> 赞同：0
> 
> 时间：2012-10-13T09:05:04.890
> 
> 标签：asp-classic

我`m getting following error in a asp file.Below is my error.I don`不会犯错误，但有时我确实会犯错误。

错误：-->

“响应对象错误'ASP 0156：80004005'标头错误/UseFull/Quelables.asp，第3行HTTP标头已写入客户端浏览器。必须在写入页面内容之前进行任何HTTP标头修改。”

//该asp页面中的代码

```
<!--#include file="folder1/newFill.asp" -->
<%
    Response.CharSet ="UTF-8"
    Dim asp, strQue 
```

第 3 行是“Response.CharSet”。有什么问题？请提出一些答案。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-14T08:08:38.490

发送的标头不能修改。看起来缓冲已打开，并且标头已发送到客户端。要摆脱这种情况，您需要打开缓冲。当缓冲关闭时，对 Response 对象的所有操作都会立即进行，并且在大多数情况下是不可逆的。里面一定有`Response.Buffer = False`。`folder1/newFill.asp`将其更改为`Response.Buffer = True`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-13T09:47:39.663

通过指定 Response.Charset 您实际上是在指示 asp 设置编码元标记，是的，这是在页面的标题中设置的，并且必须**在**任何内容输出到页面之前设置（例如任何 response.write）。

如果您需要输出为 UTF-8，请尝试将字符集放在页面顶部，如下所示：

输出是您使用元标记设置的内容，也可以设置如下：

```
<% Response.CharSet ="UTF-8" %>
<!--#include file="folder1/newFill.asp" -->
<%
    Dim asp, strQue 
```

# javascript - Date.toLocaleDateString() 是如何工作的？

> ID：12871611
> 
> 赞同：6
> 
> 时间：2012-10-13T09:05:14.300
> 
> 标签：javascript, date, configuration, locale, date-format

我必须用本地用户的配置来表示日期。遵循**[MDN](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Date/toLocaleDateString)**描述：

> toLocaleDateString 方法依赖于底层操作系统来格式化日期。它使用运行脚本的操作系统的格式约定将日期转换为字符串。例如，在美国，月份出现在日期之前 (04/15/98)，而在德国，日期出现在月份之前 (15.04.98)。

我这样做：

```
var date = new Date ();
console.log (date.toLocaleDateString ()); 
```

它打印出来`Saturday, October 13, 2012`但我期望的是`Sabato, 13 Ottobre, 2012`（这是意大利日期格式）。现在，我的浏览器和系统的配置已正确设置（意大利语和上述格式日期），所以我不明白它是如何`toLocaleDateString`工作的。

**我做对了吗？**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-28T22:56:39.547

根据 Mozilla 文档，格式可能会因用户的位置和计算机设置而有很大差异。

[https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Date/toLocaleDateString](https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Date/toLocaleDateString)

确切的格式取决于平台、区域设置和用户设置。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-09-04T11:52:21.297

这个问题已经过时了。

这些是我的测试：

```
(new Date ()).toLocaleDateString () -> "4/9/2013" (italian format 'd/m/Y') with Chrome 29
(new Date ()).toLocaleDateString () -> "mercoledì 4 settembre 2013" (italian format 'D d M Y') with Firefox 22 
```

它适用于最新的浏览器版本。

# objective-c - NSButtonCell 单击时禁用其他表格列 NSButtonCell

> ID：12871615
> 
> 赞同：1
> 
> 时间：2012-10-13T09:06:23.833
> 
> 标签：objective-c, nstableview, nsbuttoncell

我有一个有两列的 NSTableView；A和B。

在 A 列和 B 列中有一个 NSButtonCell（复选框）。

当我检查 A 列（值 = 1）中的 NSButtonCell 复选框时，应禁用 B 列中的 NSButtonCell 复选框。当我取消选中 A 列中的 NSButtonCell 复选框时，应启用 B 列中的 NSButtonCell 复选框。

如何做到这一点？

# java - 消息格式不起作用

> ID：12871617
> 
> 赞同：0
> 
> 时间：2012-10-13T09:06:29.470
> 
> 标签：java, messageformat

```
MessageFormat html = new MessageFormat("<div style='text-align:center;'><img src='file:// {0} ' style='-webkit-transform: rotate({1}deg);'></img></div>"); 
```

我无法理解为什么我使用时消息格式不适用于此字符串`html.format({"something","someotherthing"});`

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-13T09:09:53.453

撇号必须在消息格式模式中加倍：

```
"<div style=''text-align:center;''><img src=''file:// {0} '' style=''-webkit-transform: rotate({1}deg);''></img></div>" 
```

# php - Fresh Yii 样板项目报告错误

> ID：12871623
> 
> 赞同：3
> 
> 时间：2012-10-13T09:06:58.000
> 
> 标签：php, yii, haml, yii-extensions

我使用Yii-​​boilerplate（Haml分支）生成了一个新项目，但是出现错误：

```
Use of undefined constant HAMLPHP_ROOT - assumed 'HAMLPHP_ROOT' in \yii-boilerplate\protected\extensions\yiihppie\vendors\HamlPHP\src\HamlPHP\Lang\Nodes\DoctypeNode.php. 
```

关于如何解决它的任何建议？

**更新：** `HAMLPHP_ROOT`已定义`\yii-boilerplate\protected\extensions\yiihppie\vendors\HamlPHP\src\HamlPHP\Config.php`为

```
define('HAMLPHP_ROOT', dirname(__FILE__).DIRECTORY_SEPARATOR); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-13T15:10:16.167

最后我设法解决了这个问题。问题是`\yii-boilerplate\protected\extensions\yiihppie\vendors\HamlPHP\src\HamlPHP\HamlPHP.php`包括错误的`Config.php`

```
require_once 'Config.php'; 
```

它实际上包括`Config.php`来自 Pear 目录，而不是来自当前目录。所以我明确地将其指定为

```
require_once dirname(__FILE__) . '/Config.php'; 
```

它有效。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-13T09:11:27.997

在 index.php 或 config.php 中定义常量 HAMLPHP_ROOT

# html - 如何并排对齐列表？

> ID：12871628
> 
> 赞同：0
> 
> 时间：2012-10-13T09:07:27.843
> 
> 标签：html, css

我必须列出两个。我想像这样并排显示它们

> 交流电
> 
> BD

A和B在同一个列表中，C和D在同一个列表中。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-13T09:16:48.633

只需使用 to ul 并使它们浮动：left;

**HTML**

```
<ul>
    <li>1</li>
    <li>2</li>
</ul>

<ul>
   <li>3</li>
   <li>4</li>
</ul> 
```

**CSS**

```
ul
{
float:left;
margin:0 5px;
} 
```

**[看演示](http://jsfiddle.net/K3xcg/39/)**

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-13T09:08:40.777

看看这个[**小提琴**](http://jsfiddle.net/jasongennaro/K3xcg/)

这将帮助你

```
<ul style="width:10%; float:left;">
      <li>1</li>
      <li>2</li>
   </ul>

   <ul style="width:10%; float:left;">
      <li>3</li>
      <li>4</li>
   </ul> 
```

谢谢....

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-27T10:32:39.010

尝试这个

> ```
> <ul class="first">
>       <li>1</li>
>       <li>2</li>
>   </ul>
> 
> <ul class="second">
>       <li>3</li>
>       <li>4</li>
>   </ul> 
> ```

css

> ```
>  ul.first{ position:fixed; float:left}
> 
>       ul.second{ position:fixed; float:right} 
> ```

# python - 从列表中删除所有包含 (",") 的元素

> ID：12871637
> 
> 赞同：1
> 
> 时间：2012-10-13T09:08:49.653
> 
> 标签：python, list, python-3.x

```
muutujad = list(input("Muutujad (sisesta formaadis A,B,C,...): "))
while "," in muutujad == True:
    muutujad.remove(",")
print (muutujad) 
```

我的大脑说这段代码应该从列表中删除所有逗号，最后列表应该只包含 ["A","B","C" ....] 但它仍然包含所有元素。当我尝试在线可视化代码时，它说像 ["," in muutujad] 总是 False，但是当我从控制台检查相同的命令时，它说它是 True。我知道这是一个简单的问题，但我想了解基础知识。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-13T09:12:20.380

您可以使用列表推导而不是 while 循环：

```
muutujad = [elem for elem in muutujad if elem != ','] 
```

您的`if`测试本身也是错误的。在任何情况下，您都不*需要*测试，*这*就是. 但在您的情况下，您测试以下内容：`== True``if``if`

 *```
("," in muutujad) and (muutujad == True) 
```

这*总是*假的。在 python 中，比较运算符如`in`和`==`是[链式](http://docs.python.org/py3k/reference/expressions.html#not-in)的。离开`== True`会使你的`while`循环工作得更好。

不过，我不确定您是否理解调用`list()`字符串时会发生什么；它会将其拆分为单个字符：

```
>>> list('Some,string')
['S', 'o', 'm', 'e', ',', 's', 't', 'r', 'i', 'n', 'g'] 
```

如果您想将输入拆分为用逗号分隔的元素，请改用该`.split()`方法，您根本不必删除逗号：

```
>>> 'Some,string'.split(',')
['Some', 'string'] 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-13T09:13:45.317

这里最好的选择是以更好的方式简单地解析字符串：

```
>>> muutujad = input("Muutujad (sisesta formaadis A,B,C,...): ").split(",")
Muutujad (sisesta formaadis A,B,C,...): A, B, C
>>> muutujad
['A', ' B', ' C'] 
```

[`str.split()`](http://docs.python.org/py3k/library/stdtypes.html#str.split) is a much better option for what you are trying to do here.

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-10-13T09:11:31.473

关于什么`list("Muutujad (sisesta formaadis A,B,C,...): ".replace(' ', ''))`

Downvoter：我的意思是：这就是你从字符串中删除逗号的方式。

您不会将输入从字符串转换为列表，然后从列表中删除逗号，这很荒谬。

你这样做：`list(input('...').replace(' ', ''))` 或者你使用分裂，如上所述。*

# wordpress - WordPress 搜索表单

> ID：12871641
> 
> 赞同：0
> 
> 时间：2012-10-13T09:09:40.527
> 
> 标签：wordpress, search

我必须用 php 中的高级搜索表单创建一个新网站，但我不知道如何找到它。一个例子： http: [//www.neckermann.be](http://www.neckermann.be)（就像中间的方框一样）。wordpress中是否有某种插件？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-13T09:14:34.940

你可以试试这个插件[Travel Search](http://wordpress.org/extend/plugins/travel-search/)

# scale - 使用多台服务器扩展 statsd

> ID：12871642
> 
> 赞同：6
> 
> 时间：2012-10-13T09:09:51.927
> 
> 标签：scale, scaling, statsd

我正在布置一个架构，我们将在其中使用 statsd 和石墨。我了解石墨的工作原理以及单个 statsd 服务器如何与之通信。我想知道架构和设置如何用于扩展 statsd 服务器。你会有多个节点 statsd 服务器，然后有一个中央 statsd 服务器推送到石墨吗？我似乎找不到任何关于扩展 statsd 的信息，任何关于如何拥有多个 statsd 服务器的想法都将不胜感激。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-10-20T15:12:08.783

我现在正在处理同样的问题。在多个 statsds 之间进行简单的负载平衡显然是行不通的，因为具有相同名称的键最终会出现在不同的 statsds 中，因此会被错误地聚合。

但是有几个选项可以在需要扩展的环境中使用 statsd：

*   对计数器指标使用客户端采样，如 statsd 文档中所述（即，不是将每个事件发送到 statsd，而是仅发送每 10 个事件并将 statsd 乘以 10）。缺点是您需要为每个指标手动设置适当的采样率。如果您采样的值太少，您的结果将不准确。如果您采样太多，您将杀死您的（单个）statsd 实例。

*   构建一个自定义负载均衡器，按指标名称分片到不同的 statsds，从而避免聚合中断的问题。其中每一个都可以直接写入 Graphite。

*   构建一个统计本地事件的 statsd 客户端，并且只将它们汇总发送到 statsd。这大大减少了流向 statsd 的流量并使其保持不变（只要您不添加更多服务器）。只要您将数据发送到 statsd 的周期远小于 statsd 自己的刷新周期，您也应该获得同样准确的结果。

*   **我在生产中取得了巨大成功的最后一点的变体**：使用多个（在我的情况下是本地的）statsds 的第一层，这些statsds 又聚合成一个中央statsd，然后与Graphite 对话。第一层 statsds 需要比第二层更短的刷新时间。为此，您需要一个 statsd-to-statsd 后端。因为我正好遇到了这个问题，所以我写了一个尽可能提高网络效率的文章：[https ://github.com/juliusv/ne-statsd-backend](https://github.com/juliusv/ne-statsd-backend)

事实上，不幸的是，statsd 的设计目的不是以可管理的方式进行扩展（不，我不认为手动调整采样率是“可管理的”）。但是，如果您坚持下去，上述解决方法应该会有所帮助。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-12-04T21:52:39.843

我看到的大多数实现都使用每个服务器指标，例如：`<env>.applications.<app>.<server>.<metric>`

使用这种方法，您可以在每个盒子上拥有本地 statsd 实例，在本地进行 UDP 工作，并让 statsd 将其聚合发布到石墨。

如果您真的不需要每个服务器的指标，您有两种选择：

1.  在可视化层结合相关指标（例如：[通过配置graphiti来这样做](http://numbers.brighterplanet.com/2012/08/27/graphite-beyond-the-basics/)）
2.  使用碳聚集来解决[这个问题](http://graphite.readthedocs.org/en/latest/config-carbon.html#aggregation-rules-conf)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-24T02:01:36.913

如果您可以访问像 F5 BigIP 这样的硬件负载均衡器（我想有 OSS 软件实现可以做到这一点）并且碰巧在您的指标中包含每个主机的主机名（即您正在计算诸如“appname.servername. foo.bar.baz”并在 Graphite 级别聚合它们）您可以使用源地址关联负载平衡 - 它会将所有流量从一个源地址发送到同一目标节点（在合理的超时内）。因此，只要每个指标名称仅来自一个源主机，就可以达到预期的效果。

# jquery - Jquery Mobile - 导航内部页面无响应

> ID：12871644
> 
> 赞同：0
> 
> 时间：2012-10-13T09:09:57.643
> 
> 标签：jquery, cordova, jquery-mobile

当我单击显示的链接警报“optionX”但页面未导航到编辑页面（内部页面）时。我试过了

```
$.mobile.changePage("#option", {transition: "slide"}); 
```

它没有用。这应该是一项简单的任务，但我为此坚持了很长时间。

HTML

```
<!-- Start of word page -->
<div data-role="page" id="word">

<div data-role="content">           
    <a href="#option" id='X' >Option</a>        
</div>  
</div><!--End Word page -->

<!-- Start of option page -->
<div data-role="page" id="option">
    <div data-role="content">
       <h1>Option PAGE</h1>
    </div>
</div><!--End option page --> 
```

JS页面

```
$("a#X").live('click', function(){
    alert('optionX');   
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-13T09:27:16.080

怎么样？执行 javascript 时 DOM 是否已经准备好？

```
$("a[id='X'").on('click', function(){
    alert('optionX');   
}); 
```

# javascript - 如何在新创建的 ajax 内容上选择元素中的文本（类似于用鼠标突出显示）？

> ID：12871647
> 
> 赞同：0
> 
> 时间：2012-10-13T09:10:21.107
> 
> 标签：javascript, jquery

我正在使用`selectText`这里的功能[https://stackoverflow.com/a/987376/784637](https://stackoverflow.com/a/987376/784637)

但是，当我在对新创建的元素发出 ajax 请求后立即调用此函数时：

`selectText('some-newly-added-element')`

我在萤火虫中收到以下错误

```
NS_ERROR_DOM_NOT_OBJECT_ERR: Parameter is not an object
[Break On This Error]   

range.selectNodeContents(text); 
```

请注意，我可以像这样在同一元素上的 ajax 请求之后调用此函数

```
$('#container').on('click', '#some-newly-added-element', function(){
   selectText('some-newly-added-element');            
}); 
```

有没有办法在ajax请求完成后立即调用这个函数？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-13T09:15:23.037

关于：`Is there a way to call this function immediately after the ajax request is done?`

你的意思是在ajax成功之后`success`。*或* [http://api.jquery.com/jQuery.ajax/](http://api.jquery.com/jQuery.ajax/)

*或者*这应该有帮助：[在所有 ajax .load() 请求完成后执行函数](https://stackoverflow.com/questions/2502828/jquery-execute-function-after-all-ajax-load-requests-are-finished)

希望这符合原因`:)`

**样本**

```
$.ajax({
    url: this.html_url,
    cache: false,
    success: function(html){
        doSomething();
        return true;
    }
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-13T09:15:56.090

使用`complete`将在 ajax 调用后触发的回调

```
 $.ajax({

  complete: function(){
       selectText('some-newly-added-element');
      }

   }); 
```

ajax 事件的文档：http: [//docs.jquery.com/Ajax_Events](http://docs.jquery.com/Ajax_Events)

# mysql - 插入具有同一表最大结果的行

> ID：12871648
> 
> 赞同：-1
> 
> 时间：2012-10-13T09:10:24.197
> 
> 标签：mysql, sql

```
INSERT INTO table VALUES (NULL, 45, 12, NOW(), SELECT MAX(current_price) + 1 FROM table) 
```

我想插入一行，其“当前价格”等于同一张表的最高价格加 1。我正在`SELECT MAX(current_price) + 1 FROM table`这样做。

问题是它返回一个错误。
有人可以帮忙吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-13T09:11:24.390

在子查询周围使用括号：

```
INSERT INTO table 
VALUES (NULL, 45, 12, NOW(), (SELECT MAX(current_price) + 1 FROM table)); 
```

更好的方法来做到这一点：

```
INSERT INTO table 
SELECT NULL, 45, 12, NOW(), MAX(current_price) + 1 FROM table; 
```

# browser - 如何刷新网页小部件

> ID：12871650
> 
> 赞同：1
> 
> 时间：2012-10-13T09:10:28.917
> 
> 标签：browser, widget, lotus-notes, composite, page-refresh

我从 Lotus Notes 中的外部网站创建了一个网页小部件，并将其添加到复合应用程序中。这很好用。但是如何刷新页面以查看新内容。

没有用于刷新的选项菜单选项，并且小部件浏览器没有右键菜单。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-29T08:42:22.673

这很容易，只需单击小部件，然后按 F5 进行 Browserupdate 即可更新 manuel。

# java - List 的字符串表示 列表

> ID：12871651
> 
> 赞同：1
> 
> 时间：2012-10-13T09:10:41.743
> 
> 标签：java, guava

我有一个`List<String>`我需要序列化或制作字符串表示的东西。

例如我有：

```
myList.add("Bob");
myList.add("account");
myList.add("userId"); 
```

该列表可以包含可变数量的项目，我需要以这种形式对其进行序列化：

```
\Bob\-\account\-\userId\ 
```

我可以做一个 for 循环，如：

```
String ss;

for (String s: myList) {
   s = "\\" + s + "\\";
   ss = s + "-";
} 
```

`"-"`然而，结果的尾部会有一个`String ss`

还是已经有 Google Guava 功能可以做到这一点？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-13T09:21:04.313

使用番石榴：

```
String s = Joiner.on('-').join(Iterables.transform(list, new Function<String, String>() {
    @Override
    public String apply(String input) {
        return "\\" + input + "\\";
    }
}); 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-10-13T10:01:19.957

使用 Guava 解决这个问题的直接方法是[Joiner](http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/base/Joiner.html)：

```
System.out.println("\\" + Joiner.on("\\-\\").join(myList) + "\\"); 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2012-10-13T09:17:24.953

您可以轻松使用[Apaches Commons StringUtils](http://commons.apache.org/lang/api-2.3/org/apache/commons/lang/StringUtils.html)：

```
 String ss = "\\" + StringUtils.join(myList.iterator(), "\\-\\") + "\\"; 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-13T09:18:05.450

首先，建议在此类连接期间使用 StringBuilder。

其次，您可以使用 Apache Common Lang 的 StringUtils.join() 方法，如下所示：

```
ss = "\\" + StringUtils.join(myList.iterator(), "\\-\\") + "\\"; 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-13T09:13:10.760

您可以通过更改循环来修复它，例如：

```
String ss = "";

for (String s: myList) {
    s = "\\" + s + "\\";
    if(ss.equals("")) {
        ss = s;
    }
    else {
        ss += " - " + s;
    }
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-10-13T09:14:55.527

也许其他解决方案是基于 List size() 的老式 for 循环。

我要做的另一件事是使用 StringBuffer，因为它比连接字符串更有效。在内部，当您连接一个字符串时，该对象将被销毁并重新创建。

```
int myListSize = myList.size();
StringBuffer ss = new StringBuffer(4);
for (int i=0; i < myListSize; i++) {
   ss.append("\\").append(myList.get(i)).append("\\");
   if (i < myListSize - 1) {
      ss.append("-");
   }
} 
```

然后从 StringBuffer 输出：

```
ss.toString(); 
```

我个人认为这些 for 循环（如上）最终更容易阅读。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-10-13T09:22:58.970

我知道的最简单的字符串连接代码如下：

```
String sep = "", out = "";
for (String s : myList) {
  out += sep + '\\' + s + '\\';
  sep = "-";
} 
```

# javascript - 保持当前导航按钮处于活动状态

> ID：12871654
> 
> 赞同：0
> 
> 时间：2012-10-13T09:10:58.810
> 
> 标签：javascript, html, button

我的导航菜单中有以下按钮代码：

```
div onmouseover=\"changeBGColor(this,'#b90707');changeColor(this,'#fff');\" onmouseout=\"changeBGColor(this,'');changeColor(this,'#333');\" onClick="" class='navbtn'>Entry /div 
```

以下代码可保持元素处于活动状态：

```
 $('.navbtn').each(function(){
    var path = window.location.href;
    var current = path.substring(path.lastIndexOf('/')+1);
    var url = $(this).attr('onClick').substring(path.lastIndexOf('/')+18,$(this).attr('onClick').length-1);

    if(url == current ){
        changeBGColor(this,'#b90707');changeColor(this,'#fff');
        $(this).onmouseout = '';
        $(this).onmouseover= '';
    };
}); 
```

该元素保持活动状态，直到我将鼠标移到该元素上。无论我将鼠标移到哪里，我都想随时保持活跃..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-13T09:16:35.413

该代码似乎正在更改`onmouseout`处理程序中的背景颜色。如果这将颜色恢复为原来的颜色，请尝试不处理该事件以查看它是否保持不变。

**编辑：** 将处理程序设置为空字符串看起来不正确。请参阅[在 jQuery 中删除事件处理程序的最佳方法？](https://stackoverflow.com/questions/209029/best-way-to-remove-an-event-handler-in-jquery)

**编辑：**

像这样的东西可能会更好：

```
$(this).unbind('mouseleave'); 
```

或者（根据上面的链接，这是首选方法）：

```
$(this).off('mouseleave'); 
```

**编辑：**

为此，您需要删除为`onmouseover`和设置的内联处理程序`onmouseout`。这样做的原因是，`$(this).off('mouseleave');`除非事件与 jQuery 连接起来，否则它`$(this).onmouseover= '';`不会起作用，并且出于同样的原因也不会起作用。

然后，您需要使用一些 jQuery 连接事件处理程序：

```
$('.navbtn').mouseover(function () {
    changeBGColor(this,'#b90707'); 
});

$('.navbtn').mouseout(function () {
    changeBGColor(this, '');
}); 
```

现在你正在做什么：

```
if(url == current ){ 
    changeBGColor(this,'#b90707');changeColor(this,'#fff'); 
    $(this).onmouseout = ''; 
    $(this).onmouseover= ''; 
}; 
```

您可以改为：

```
if(url == current ){ 
    changeBGColor(this,'#b90707');changeColor(this,'#fff'); 
    $('.navbtn').off('mouseout');
    $('.navbtn').off('mouseover'); 
}; 
```

这应该确保您刚刚设置的颜色保持不变。

请注意，该`off`语法需要 jQuery 1.7+ 才能正常工作。

# objective-c - Cocos2d 一个 CCSprite 的不同锚点

> ID：12871655
> 
> 赞同：0
> 
> 时间：2012-10-13T09:11:19.870
> 
> 标签：objective-c, ios, cocos2d-iphone

我有一个`CCSprite`对象。我开始两个动作。`CCRotateBy`, 和`CCScaleTo`. 我需要为这些动作设置不同的锚点。`mySprite.anchorPoint = ccp(0.5f,0);`如果更改两个动画的锚点，我该怎么做？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-13T09:17:01.083

将您的 CCSprite 添加为 CCNode 的子节点。CCNode 将充当附加的锚点。

假设您想以圆周运动围绕中心点旋转精灵，您将：

*   从 CCNode 父级偏移精灵（半径）
*   在 CCNode 上运行旋转动作（精灵将围绕 CCNode 位置旋转）
*   在 CCSprite 上运行缩放动作（根据需要调整精灵的锚点）

根据您的具体需要，设置会略有不同，我猜并非所有的变化都是可能的。

# git - 如何将工作阶段恢复到 git 中的最后一次提交？

> ID：12871658
> 
> 赞同：0
> 
> 时间：2012-10-13T09:11:28.570
> 
> 标签：git

我在工作阶段编辑了一些文件（没有添加它们`git add -A`。没有承诺）。

现在我想将更改恢复到本地分支中的最后一次提交。

该怎么办？

我已经搜索了一下，发现：

```
git rebase -i HEAD 
```

但后来我得到：

```
Cannot rebase: You have unstaged changes.
Please commit or stash them. 
```

那么正确的方法是什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-13T09:13:43.427

您可以通过以下方式丢弃所有未提交的更改：

```
git reset --hard 
```

**警告：**这真的会摆脱所有暂存或仅在工作树中的更改，并返回到上次提交的状态，因此请谨慎使用。

如果您可能希望再次恢复本地更改，并且只想暂时让它们离开（例如处理其他事情），您可以这样做：

```
git stash 
```

... 反而

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-13T09:14:22.843

和

```
git stash 
```

您可以将您当前的工作状态存储到存储中，并且稍后可以访问这些文件。在你“隐藏”之后，你应该自动进入你的最后一次提交。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-13T09:16:57.637

现在你已经了解了，我强烈建议你阅读这篇文章，并永远理解它。 [http://git-scm.com/2011/07/11/reset.html](http://git-scm.com/2011/07/11/reset.html)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-13T09:18:31.580

如果您不想保留这些更改，那么

```
git reset --hard 
```

或者如果你想保留它们

```
git reset --soft 
```

如果你想保存，那么你可以使用它们的字母

```
git stash 
```

将后者应用于

```
git stash --apply stash@{number} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-13T09:14:54.957

只需执行以下命令。它将删除您的更改

```
git reset HEAD .
git checkout . 
```

# crystal-reports - 如何在水晶报表中获得单个总列

> ID：12871663
> 
> 赞同：1
> 
> 时间：2012-10-13T09:11:54.503
> 
> 标签：crystal-reports, crystal-reports-2008

我有一列总数量，但水晶报表在不止一列中生成数量值。

6

9

126

221是我需要的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-17T16:38:37.893

You can add just a formula to your column. After googling just a while i found this [this answer](https://stackoverflow.com/questions/10567625/add-total-per-row-and-column-in-crystal-reports-without-crosstab).
Hope it helps

# extjs - 如何在extjs4的网格单元格中的图标底部显示菜单

> ID：12871665
> 
> 赞同：1
> 
> 时间：2012-10-13T09:12:22.230
> 
> 标签：extjs

在我的网格上，我在一个单元格上放了一个图标，在点击事件上我显示了一个菜单选项。菜单按 event.getXY() 位置显示，但我想从图标底部或特定单元格开始显示菜单，例如：

或者像标准插件一样从单元格底部打开日历。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-15T09:46:04.450

```
itemcontextmenu: function (grid, rec, item, index, event) {
    event.preventDefault();
    var rect = event.target.parentElement.getBoundingClientRect(); // try to play with or without 'parentElement'
    var x = rect.left;
    var y = rect.top + rect.height;
    myMenu.showAt(x, y);
} 
```

在 Chrome、IE9 上测试

# c# - Linq 和 DataContext

> ID：12871666
> 
> 赞同：0
> 
> 时间：2012-10-13T09:12:48.037
> 
> 标签：c#, linq, datacontext

每个应用程序只有一个 DataContext 并通过单例共享是否可以？

我问这个是因为我想在每种形式中都有 DataContext，但我意识到，如果我在一个 DataContext 中更改了一些实体，如果以前使用过，我可以刷新它。

例如表格1：

```
db = GetContext()
item=(from p in db.Table where p.id=1 select p) 
```

在另一种形式

```
db = GetContext()
item=(from p in db.Table where p.id=1 select p)
item.value="test" 
```

回到我必须做的原始表格

```
db.Refresh(RefreshMode.OverwriteCurrentValues, item) 
```

即使我做一个新的

```
item=(from p in db.Table where p.id=1 select p) 
```

（没有刷新）值不会被更新

DataContext 是线程安全的吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-13T09:18:54.270

> 每个应用程序只有一个 DataContext 并通过单例共享是否可以？

好吧，这肯定不是它的*设计目的*——如果你有多个线程执行多个操作，那*肯定*不是一个好主意。

就像数据库连接一样，最好在需要时创建上下文，做任何你需要做的事情，然后在你有一组新的操作要执行时创建一个新的。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-13T09:24:05.097

作为单例使用是*不行的，使用内部缓存**的工作单元模式*实现，内部缓存的目的是避免到数据库的往返和更改跟踪。保持为单例会使内部缓存增加，然后暂时导致内存泄漏。`DataContext``DataContext`*`DataContext`*

 **最佳实践*是 DataContext 的生命周期应该是每个线程，大多数 IoC 容器都支持这一点，只需选择一个并使用。

`DataContext`不是线程安全的，所以大概您使用静态构造函数或`Lazy<>`*

# css - IE8 在整个页面上使用谷歌字体而不是只选择文本

> ID：12871669
> 
> 赞同：0
> 
> 时间：2012-10-13T09:12:56.203
> 
> 标签：css, fonts

我使用 IE8 搜索 Google 字体的所有网络搜索都显示人们谈论 google 字体只是没有加载或没有显示。我没有那个问题。相反，IE8 可以很好地加载我的 Google 字体，但它会将字体应用于页面上的所有类型！在其他浏览器中似乎一切正常。我的 CSS 中是否存在某种让 IE 窒息的故障？

[http://nbkclientsite.fuzzpopstudio.com/](http://nbkclientsite.fuzzpopstudio.com/)

好的，这是一些相关的CSS：

```
body {
    font-size: 16px;
    font-size: 1rem;
    font-family: Helvetica-Neue,Helvetica, Arial, sans-serif;
    text-rendering: optimizeLegibility;
    color: #444;
}

.contact-us-text {
    font-family: 'Arvo', serif;
    font-size: 150%;
    color: #2770b4;
}

.contact-us-phone {
    font-family: 'Arvo', serif;
    font-size: 175%;
} 
```

所有相关的东西都应该在一个样式表中。您可以使用 Firebug 或 Chrome 的 Inspector 或任何您想要的工具轻松查看它。

在 FF 和 Chrome 中，一切都应该继承 Helvetica 或 Arial。但不是在 IE8 中。如果您想查看更多信息，您必须使用 Firebug 并查看整个样式表。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-13T09:34:49.763

我的错。我解决了。当我查看 IE 中的元素检查器时，我意识到边界框显示 h3 元素包含整个页面。所以我检查了标记，发现结尾的 h3 标签实际上写成没有斜线，所以它充当了另一个开头的 h3。

FF 和 Webkit 就是这么宽容。当你犯这样的错误时，LOL IE 会向你吐口水。抱歉问了这么一个小问题！我只是认为 IE 对字体本身感到窒息。

# c++ - 如何从案例 5 中调用 switch case 4？

> ID：12871681
> 
> 赞同：1
> 
> 时间：2012-10-13T09:14:35.170
> 
> 标签：c++

我有一个 switch 语句：

```
switch(choice)
{
case 1:
//some compute
break;
case 2:
//some compute
break;
case 3:
//some compute
break;
case 4:
//some compute
break;
case 5:
//Call case 3
//Call case 4
//perform my own function
break;
} 
```

如何调用案例 3 和案例 4 的函数，然后在案例 5 中执行我自己的计算。

我能做的唯一方法是运行案例 3 的相同代码，然后是案例 4，然后是我自己的计算，我想知道有没有办法直接调用案例 3 和 4，就像调用一个函数然后返回到案例 5。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-13T09:17:27.393

你不能直接这样做。您可以将案例代码放在一个函数中，然后调用该函数。

```
switch(choice)
{
case 1:
//some compute
break;
case 2:
//some compute
break;
case 3:
doCase3stuff();
break;
case 4:
doCase4stuff();
break;
case 5:
doCase3stuff();
doCase4stuff();
//perform my own function
break;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-13T09:17:26.097

将您的代码放在函数/方法中，并在相应的情况下调用它们。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-13T09:17:28.913

我最初的想法是你可以将它放入一个循环中，在第 5 种情况下，将选项更改为 4。或者，如果可能的话，你可以执行递归调用，将 4 作为选项传递而不是 5。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-13T09:18:05.997

然后将 case 3 和 case 4 代码作为两个函数，这样你就可以在那里调用它而无需重复编写代码，否则你只能通过 goto 来实现，这不是一个好主意

# c++ - 这个 c++ 构造有什么错误？

> ID：12871687
> 
> 赞同：0
> 
> 时间：2012-10-13T09:15:08.147
> 
> 标签：c++

我是 C++ 的新手。尝试了以下代码：

```
while((char c = cin.get()) != 'q')
{  //do anything
} 
```

当我尝试编译时，它失败了

> 错误：“char”之前的预期主表达式。

请帮助我理解这一点

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-13T10:23:58.847

您不能将声明作为表达式的一部分。

```
while ((char c = cin.get()) != 'q') { ...
//      |----------------| <---------------------- this is a declaration
//     |-------------------------| <-------------- this is an expression 
```

您*可以*在循环的括号内直接声明（而不是在任何嵌套括号中）：

```
while (char c = cin.get()) { ... 
```

但这停止了`!c`，这不是你想要的。

这将起作用：

```
while (int c = cin.get() - 'q') { // ugly code for illustrative purpose
 c += 'q';
 ...
} 
```

这也将是：

```
for (char c; (c = cin.get()) != 'q'; ) { // ugly code for illustrative purpose
  ...
} 
```

更新：另见[这个 SO question](https://stackoverflow.com/q/190748/775806)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-13T09:16:50.977

尝试这个：

```
char c;
while((c = cin.get()) != 'q')
{  //do anything
} 
```

您在括号内声明变量，因此出现错误：

```
while (char c = cin.get() != 'q') 
```

# javascript - 通过移动应用程序监控网页的变化

> ID：12871688
> 
> 赞同：0
> 
> 时间：2012-10-13T09:15:10.457
> 
> 标签：javascript, jquery, cordova, mobile

我正在尝试开发一个移动应用程序来监控网页（远程而不是由我管理），这样每当该页面的内容（正文标签）发生变化时，我的应用程序就会知道该变化并通知用户。

我想使用 phonegap、jquery/javascript 开发这个移动应用程序，但不能使用任何服务器端语言。经过大量研究，我想到了使用 YQL（雅虎查询语言）。它获取网页的 url 并以 json 格式返回其 html。然后我将 json 字符串化并使用 javascript 计算其唯一的哈希码并保存哈希码。我每 5 分钟重复一次这些步骤，并继续比较哈希码。如果哈希码有任何变化，我就会知道网页的内容发生了变化。

虽然它工作得很好，但我想知道是否有任何替代方法，因为将整个页面抓取到移动设备然后存储其哈希码似乎非常低效？有什么更有效的方法吗？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-13T09:23:45.900

取决于网页，但实际上您可以发出`HEAD`请求而不是`GET`请求，然后检查`Last-Modified`标头（如果存在）。但是，如果日期已更改，您必须发出正常`GET`请求以获取正文内容`Last-Modified`

# mysql - 如何减少 MySQL 查询中列中所有单元格的值？

> ID：12871699
> 
> 赞同：2
> 
> 时间：2012-10-13T09:16:48.913
> 
> 标签：mysql, sql, tablecell

我对数据库有点新手，我将非常感谢提供的任何帮助。我需要在表格的一列中将所有单元格减少 X。我是否需要选择表和列并将值用作变量，例如`$value=$value +/- X;`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-13T09:18:18.653

那么只需这样做

```
UPDATE yourtablename SET columnname = columname-1 
```

（如果您的列/单元格是整数类型，这可以正常工作）并且不要输入 WHERE CLAUSE（更新所有行）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-13T09:18:34.347

试试这个，

```
UPDATE tableName
SET colName = colName - 5   -- this will decrease the  value by 5 
```

# css - CSS 规则“clear: both”有什么作用？

> ID：12871710
> 
> 赞同：314
> 
> 时间：2012-10-13T09:17:32.190
> 
> 标签：css, css-float

以下 CSS 规则有什么作用：

```
.clear { clear: both; } 
```

为什么我们需要使用它？

* * *

## 回答 #1

> 赞同：698
> 
> 时间：2012-10-13T09:20:48.083

我不会在这里（详细）解释浮点数是如何工作的，因为这个问题通常集中在*为什么使用`clear: both;`或究竟做`clear: both;`了什么......*

我将保持这个答案简单明了，并将以图形方式向您解释为什么`clear: both;`需要或它做了什么......

通常，设计师将元素向左或向右浮动，这会在另一侧创建一个空白空间，从而允许其他元素占据剩余空间。

# 他们为什么浮动元素？

当设计师需要 2 个并排的块级元素时，元素会浮动。例如，假设我们要设计一个具有如下布局的基本网站...

![在此处输入图像描述](../Images/f9823dd1c392ebe5a8d850789dd1f7ba.png)

[**演示图像的实时示例**](http://jsfiddle.net/ps5vx/)。

演示代码

```
/*  CSS:  */

* { /* Not related to floats / clear both, used it for demo purpose only */
    box-sizing: border-box;
    -moz-box-sizing: border-box;
    -webkit-box-sizing: border-box;
}

header, footer {
    border: 5px solid #000;
    height: 100px;
}

aside {
    float: left;
    width: 30%;
    border: 5px solid #000;
    height: 300px;
}

section {
    float: left;
    width: 70%;
    border: 5px solid #000;
    height: 300px;
}

.clear {
    clear: both;
}
```

```
<!-- HTML -->
<header>
    Header
</header>
<aside>
    Aside (Floated Left)
</aside>
<section>
    Content (Floated Left, Can Be Floated To Right As Well)
</section>
<!-- Clearing Floating Elements-->
<div class="clear"></div>
<footer>
    Footer
</footer>
```

**注意：** *您可能必须在样式表中添加`header`, `footer`, `aside`, `section`（和其他 HTML5 元素），`display: block;`以明确提及这些元素是块级元素。*

## 解释：

我有一个基本布局、1 个页眉、1 个侧边栏、1 个内容区域和 1 个页脚。

没有浮动`header`，接下来是`aside`我将用于我的网站侧边栏的标签，所以我会将元素浮动到左边。

> 注意：默认情况下，块级元素占据文档 100% 的宽度，但是当向左或向右浮动时，它会根据它所持有的内容调整大小。

1.  [块级元素的正常行为](http://jsfiddle.net/cpEYu/)
2.  [块级元素的浮动行为](http://jsfiddle.net/cpEYu/1/)

因此，正如您所注意到的，左侧浮动的左侧`div`空间未使用，这将允许其`div`在剩余空间中移动。

1.  [`div`'s 将一个接一个地渲染，如果它们没有浮动](http://jsfiddle.net/tUGV7/)
2.  [`div`如果向左或向右浮动，将彼此并排移动](http://jsfiddle.net/tUGV7/1/)

好的，这就是块级元素在向左或向右浮动时的行为方式，那么现在为什么`clear: both;`需要，为什么？

因此，如果您在布局演示中记下 - 万一您忘记了，[**这里**](http://jsfiddle.net/ps5vx/)就是..

我正在使用一个名为的类`.clear`，它拥有一个名为的属性`clear`，其值为`both`. 所以让我们看看它为什么需要`both`.

我已经漂浮`aside`并且`section`元素向左，所以假设一个场景，我们有一个水池，那里`header`是实心土地，`aside`并且`section`漂浮在水池中并且页脚再次是实心土地，就像这样......

![浮动视图](../Images/b2fd75351b7b260f78fda913fdb58042.png)

所以蓝水不知道浮动元素的面积是多少，可以比水池大，也可以比水池小，所以90%的CSS初学者都会遇到一个常见的问题：为什么容器元素的背景没有被拉伸当它包含浮动元素时。这是因为容器元素在这里是一个**POOL ，而****POOL**不知道有多少对象是浮动的，也不知道浮动元素的长度或宽度是多少，所以它根本不会拉伸。

1.  [文件的正常流程](http://jsfiddle.net/wcafZ/733/)
2.  [向左浮动的部分](http://jsfiddle.net/wcafZ/734/)
3.  [清除浮动元素以拉伸容器的背景颜色](http://jsfiddle.net/wcafZ/735/)

（请参阅此答案的^([Clearfix])部分以获得巧妙的方法。我`div`故意使用一个空示例进行解释）

我在上面提供了 3 个示例，第一个是正常的文档流，其中`red`背景将按预期呈现，因为容器不包含任何浮动对象。

在第二个示例中，当对象向左浮动时，容器元素 (POOL) 将不知道浮动元素的尺寸，因此它不会拉伸到浮动元素的高度。

![在此处输入图像描述](../Images/edc0d9a83c30af894e0d19424d376a52.png)

使用后`clear: both;`，容器元素将被拉伸到其浮动元素尺寸。

![在此处输入图像描述](../Images/f1f5430c0359183067326d7f0d93d310.png)

使用的另一个原因`clear: both;`是防止元素在剩余空间中向上移动。

假设您想要 2 个并排的元素和它们下方的另一个元素......所以您将向左浮动 2 个元素，并且您想要在它们下方的另一个元素。

1.  [`div`向左浮动导致`section`移动到剩余空间](http://jsfiddle.net/N82UD/)
2.  [浮动`div`清除，以便`section`标签将在浮动`div`s下方呈现](http://jsfiddle.net/N82UD/1/)

* * *

## 第一个例子

![在此处输入图像描述](../Images/711ae7b91528f9ff63ebfd3d5ad8af26.png)

* * *

## 第二个例子

![在此处输入图像描述](../Images/ad8c33863cfabd2553db75a0e40d6325.png)

最后但并非最不重要的一点是，`footer`标签将在浮动元素之后呈现，因为我`clear`在声明标签之前使用了该类`footer`，这确保了所有浮动元素（左/右）都被清除到该点。

* * *

### 清除修复

来到与浮动有关的 clearfix 。正如[@Elky](https://stackoverflow.com/a/25343280/1542290)已经指定的那样，我们清除这些浮动的方式并不是一种干净的方式，因为我们使用的`div`是一个不是`div`元素的空元素。因此，这里出现了 clearfix。

将其视为一个虚拟元素，它将在您的父元素结束之前为您创建一个空元素。这将自动清除包含浮动元素的包装元素。这个元素在你的 DOM 中并不存在，但会完成这项工作。

要自清除任何具有浮动元素的包装元素，我们可以使用

```
.wrapper_having_floated_elements:after {  /* Imaginary class name */
  content: "";
  clear: both;
  display: table;
} 
```

请注意`:after`我为此使用的伪元素`class`。这将在包装元素关闭之前为它创建一个虚拟元素。如果我们查看 dom，您可以看到它在 Document 树中的显示方式。

[![清除修复](../Images/92d2e539cbc1719a88cf76eede1d3ddc.png)](https://i.stack.imgur.com/x9D1Y.png)

因此，如果您看到，它是`div`在我们清除浮动的浮动子元素之后渲染的，这只不过相当于拥有一个具有我们也用于此目的`div`的属性的空元素。`clear: both;`现在为什么`display: table;`并且`content`超出了这个答案的范围，但是您可以在此处了解有关[伪元素的](https://developer.mozilla.org/en-US/docs/Web/CSS/Pseudo-elements)更多信息。

请注意，这也适用于 IE8，因为[IE8 支持`:after`pseudo](http://caniuse.com/css-gencontent)。

* * *

# 原答案：

大多数开发人员在他们的页面上向左或向右浮动他们的内容，可能是带有徽标、侧边栏、内容等的 div，这些 div 向左或向右浮动，剩下的空间未使用，因此如果你放置其他容器，它会在剩余空间中也浮动，因此为了防止`clear: both;`使用它，它会清除所有向左或向右浮动的元素。

## 示范：

```
------------------ ----------------------------------
div1(Floated Left) Other div takes up the space here
------------------ ---------------------------------- 
```

现在，如果您想让其他 div 呈现在下面怎么办`div1`，所以您将使用`clear: both;`它确保您清除所有浮动，左或右

```
------------------
div1(Floated Left)
------------------
<div style="clear: both;"><!--This <div> acts as a separator--></div>
----------------------------------
Other div renders here now
---------------------------------- 
```

* * *

## 回答 #2

> 赞同：46
> 
> 时间：2014-11-22T21:33:54.223

该[**`clear`**](http://www.w3.org/TR/CSS2/visuren.html#flow-control)属性指示元素的左侧、右侧或两侧不能与同一块格式化上下文中的早期浮动元素相邻。清除的元素被推到相应的浮动元素下方。例子：

### `clear: none;`元素保持与浮动元素相邻

```
body {
  font-family: monospace;
  background: #EEE;
}
.float-left {
  float: left;
  width: 60px;
  height: 60px;
  background: #CEF;
}
.float-right {
  float: right;
  width: 60px;
  height: 60px;
  background: #CEF;
}
.clear-none {
  clear: none;
  background: #FFF;
}
```

```
<div class="float-left">float: left;</div>
<div class="float-right">float: right;</div>
<div class="clear-none">clear: none;</div>
```

### `clear: left;`被推到左浮动元素下方的元素

```
body {
  font-family: monospace;
  background: #EEE;
}
.float-left {
  float: left;
  width: 60px;
  height: 60px;
  background: #CEF;
}
.float-right {
  float: right;
  width: 60px;
  height: 120px;
  background: #CEF;
}
.clear-left {
  clear: left;
  background: #FFF;
}
```

```
<div class="float-left">float: left;</div>
<div class="float-right">float: right;</div>
<div class="clear-left">clear: left;</div>
```

### `clear: right;`元素被推到右浮动元素下方

```
body {
  font-family: monospace;
  background: #EEE;
}
.float-left {
  float: left;
  width: 60px;
  height: 120px;
  background: #CEF;
}
.float-right {
  float: right;
  width: 60px;
  height: 60px;
  background: #CEF;
}
.clear-right {
  clear: right;
  background: #FFF;
}
```

```
<div class="float-left">float: left;</div>
<div class="float-right">float: right;</div>
<div class="clear-right">clear: right;</div>
```

### `clear: both;`被推到所有浮动元素下方的元素

```
body {
  font-family: monospace;
  background: #EEE;
}
.float-left {
  float: left;
  width: 60px;
  height: 60px;
  background: #CEF;
}
.float-right {
  float: right;
  width: 60px;
  height: 60px;
  background: #CEF;
}
.clear-both {
  clear: both;
  background: #FFF;
}
```

```
<div class="float-left">float: left;</div>
<div class="float-right">float: right;</div>
<div class="clear-both">clear: both;</div>
```

### `clear`不影响当前块格式化上下文之外的浮点数

```
body {
  font-family: monospace;
  background: #EEE;
}
.float-left {
  float: left;
  width: 60px;
  height: 120px;
  background: #CEF;
}
.inline-block {
  display: inline-block;
  background: #BDF;
}
.inline-block .float-left {
  height: 60px;
}
.clear-both {
  clear: both;
  background: #FFF;
}
```

```
<div class="float-left">float: left;</div>
<div class="inline-block">
  <div>display: inline-block;</div>
  <div class="float-left">float: left;</div>
  <div class="clear-both">clear: both;</div>
</div>
```

* * *

## 回答 #3

> 赞同：23
> 
> 时间：2012-10-13T09:26:31.720

**[CSS浮动和清除](http://css-tricks.com/all-about-floats/)**

**[样品小提琴](http://jsfiddle.net/YKDBv/)**

只需尝试从with中删除`clear:both`属性，看看它是如何跟随 float的。`div``class` `sample``divs`

* * *

## 回答 #4

> 赞同：15
> 
> 时间：2014-08-16T19:39:14.910

外星人先生的回答是完美的，但无论如何我不建议使用`<div class="clear"></div>`，因为它只是一个让你的标记变脏的黑客。就糟糕的结构和语义而言，这是无用的空`div`，这也使您的代码不灵活。在某些浏览器中，这个 div 会导致额外的高度，您必须添加`height: 0;`更糟糕的高度。但是当你想在你的浮动元素周围添加背景或边框时，真正的麻烦就开始了——它只会崩溃，因为[网页设计得很糟糕](http://css-tricks.com/all-about-floats/)。我建议将浮动元素包装到具有[clearfix](https://stackoverflow.com/questions/8554043/what-is-clearfix) CSS 规则的容器中。这也是 hack，但美观、更灵活、更易于人类和 SEO 机器人使用和阅读。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2012-10-13T09:18:58.993

当您希望将一个元素放置在另一个元素的底部时，您可以在 CSS 中使用此代码。它用于浮动。

如果你浮动内容，你可以向左或向右浮动......所以在一个常见的布局中，你可能有一个左导航、一个内容 div 和一个页脚。

为了确保页脚保持在这两个浮动下方（如果您左右浮动），那么您将页脚设置为`clear: both`.

这样，它将保持在两个浮子下方。

（如果你只清理左边那么你真的只需要`clear: left;`。）

浏览本教程：

# c++ - 虚函数覆盖预期错误

> ID：12871711
> 
> 赞同：1
> 
> 时间：2012-10-13T09:17:43.233
> 
> 标签：c++

在 C++ 中，我想将一个类转换为另一个类，所以我决定创建一个模板类，但是我遇到了编译错误，这是错误，

```
"MyFooClass.h", line 10: error (etoa:4997):
      function "IFoo::show(OtherClass &)" is hidden by
      "MyFooClass::show" -- virtual function override
      intended?
  virtual std::auto_ptr<ClNewClass> show(ClOldClass  &oc) 
```

这是我的代码，

```
//IFoo.h
class IFoo
{
    public:
        virtual ~IFoo(){}

    protected:
        virtual std::auto_ptr<OtherClass> show(OtherClass &oc) = 0;
};

//CustomFoo.h
template<typename oldClass, typename newClass>
class CustomFoo : public IFoo
{
    public:
        virtual std::auto_ptr<newClass> show(oldClass &oc)=0;

    protected:
        virtual std::auto_ptr<OtherClass> show(OtherClass &oc)
        {
            std::auto_ptr<OtherClass> result(show(static_cast<oldClass &>(oc)));
            return result;
        }
}; 

//MyFooClass.h
class MyFooClass : public CustomFoo< ClOldClass, ClNewClass >
{
    public:
        virtual std::auto_ptr<ClNewClass> show(ClOldClass &oc)
        {
            std::auto_ptr<ClNewClass> cnv(new ClNewClass(oc.params));
            return cnv;
        }
}; 
```

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-13T10:30:05.117

class 中的函数与`show(ClOldClass&)`class`MyFooClass`中的函数不同。新定义隐藏了另一个。`show(OtherClass&)``CustomFoo`

您真的是要在这里超载而不是覆盖吗？如果您打算覆盖，您的新函数需要具有与父类中相同的签名。如果真的意味着重载函数，你仍然需要另一个`show`. 向您的类添加`using CustomFoo::show;`指令`MyFooClass`。

```
//MyFooClass.h
class MyFooClass : public CustomFoo< ClOldClass, ClNewClass >
{
    public:
        virtual std::auto_ptr<ClNewClass> show(ClOldClass &oc) {...}

    protected:
        using CustomFoo::show;
}; 
```

# c++ - 将字符串数组输入到函数 C++

> ID：12871712
> 
> 赞同：1
> 
> 时间：2012-10-13T09:17:45.050
> 
> 标签：c++

所以我正在输入一个数组和一个数字，该数字是数组的长度到一个名为“Write”的函数，如下所示：

```
string write (int n, char t[100]) 
```

为了简单起见，我只想在这个函数的帮助下写出数组的值，如下所示：

```
{
    int i;

    for (i=1;i<=n;i++) {
        if (t[i]=='a') {
        printf("%c" , t[i]);
        }
    }

    return 0;
} 
```

`int main()` 我做的唯一一件事就是使用 a`scanf`作为`n`变量，并在数组中给出从 1 到`n`'a' 的字符串值。我调用了 write 函数`string write(n,t[100]);`这是整个“main”：

```
 int main()  
{  
    int i,n;   
    char t[100];  
    scanf("%i" ,&n);  

    for (i=1;i<=n;i++) {
            t[i]='a';
            }
string write (n,t[100]);  
return 0;  
} 
```

我的问题是为什么这个简单的程序不能运行我可以输入的值`n`但不会打印出任何东西？我一定是在声明或调用我是 C++ 新手的函数时遗漏了一些东西。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-13T09:20:22.923

`string write(n, t[100])`是您的函数的原型（类型省略）。如果你想调用 write，你需要做类似的事情

```
int main()  
{  
    int i,n;   
    char t[100];  
    scanf("%i" ,&n);  

    for (i=1;i<=n;i++) {
            t[i]='a';
            }
write(n,t);  
return 0;  
} 
```

传递`t[100]`给您的`write`函数会将字符串的第 100 个元素提供给您的函数，这不是您想要做的。要传递整个字符串，只需使用`t`.

另一个错误是你说 write 返回一个字符串。但是你`return 0`在你的代码中，你想将写原型修改为`int write(int n, char t[100]);`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-13T09:48:32.143

线

```
string write (n,t[100]); 
```

in`main`不调用该`write`函数 - 它定义了一个名为“write”的*变量*`string`类型，由`n`元素组成，每个元素具有相同的值`t[100]`（这本身就是一个错误，因为这是 100 元素数组的第 101 个元素） .
要调用该函数，您应该编写

```
write(n, t); 
```

你真的应该得到一本不错的 C++ 入门书。
SO上有很好的列表，你应该把它作为你找到它们的第一个练习。

# delphi - delphi nativexml多级xml结构

> ID：12871714
> 
> 赞同：1
> 
> 时间：2012-10-13T09:18:04.717
> 
> 标签：delphi, xmpp, nativexml

我使用实时流 xml 结构，我应该检查接收到的 xml 数据以希望选择哪种方式，问题是 xml 流是多级的，如下所示，所有我测试都卡在第一阶段

服务器响应 xml：

```
<?xml version='1.0' encoding='UTF-8'?>
<stream:stream xmlns:stream="http://etherx.jabber.org/streams" xmlns="jabber:client" from="messenger.tashbik.com" id="40d07647" xml:lang="en" version="1.0">

<stream:features>
<starttls xmlns="urn:ietf:params:xml:ns:xmpp-tls"></starttls>
<mechanisms xmlns="urn:ietf:params:xml:ns:xmpp-sasl">
<mechanism>DIGEST-MD5</mechanism>
<mechanism>PLAIN</mechanism>
<mechanism>CRAM-MD5</mechanism>
</mechanisms>

<compression xmlns="http://jabber.org/features/compress">
<method>zlib</method>
</compression>

<auth xmlns="http://jabber.org/features/iq-auth"/>
<register xmlns="http://jabber.org/features/iq-register"/>
</stream:features> 
```

我如何从上到下检查所有 xml 流并访问我想要的任何级别？例如，我想访问**流：功能**级别来检查可用的期货，我也想跳到**压缩**级别来检查它。

我使用 NativeXML 4.04

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-13T19:52:18.150

***如何访问特定节点的子节点列表？***

有很多方法可以列出特定节点的子节点。在我看来，最简单的方法是按路径查找节点并遍历`Containers`索引属性。在以下示例代码中，您可以看到如何从`/stream:stream/stream:features`节点路径迭代所有节点：

```
uses
  NativeXml;

procedure TForm1.Button1Click(Sender: TObject);
var
  I: Integer;
  Node: TXMLNode;
  NativeXML: TNativeXML;
begin
  NativeXML := TNativeXML.Create(nil);
  try
    NativeXML.LoadFromFile('c:\Response.xml');
    if Assigned(NativeXML.Root) then
    begin
      Node := NativeXML.Root.FindNode('/stream:stream/stream:features');
      if Assigned(Node) then
        for I := 0 to Node.ContainerCount - 1 do
          ShowMessage(UTF8ToString(Node.Containers[I].Name));
    end;
  finally
    NativeXML.Free;
  end;
end; 
```

***如何通过名称获取某个节点的子节点？***

还有不止一种方法可以深入 XML 节点树。当您知道节点名称时，最简单的方法是使用该`NodeByName`函数，该函数返回对子节点的引用，当它在父树的根中找到时，`nil`当它没有找到时。在下一个代码示例中，您可以看到如何使用`NodeByName`函数首先获取`compression`节点，然后从那里获取`method`节点并显示其值：

```
Node := NativeXML.Root.FindNode('/stream:stream/stream:features');
if Assigned(Node) then
begin
  Node := Node.NodeByName('compression');
  if Assigned(Node) then
  begin
    Node := Node.NodeByName('method');
    if Assigned(Node) then
      ShowMessage(UTF8ToString(Node.Value));
  end;
end; 
```

对于与上一个示例相同的节点，您还可以使用如下方式获取例如直接路径：

```
if Assigned(NativeXML.Root) then
begin
  Node := NativeXML.Root.FindNode('/stream:stream/stream:features/compression/method');
  if Assigned(Node) then
    ShowMessage(UTF8ToString(Node.Value));
end; 
```

上述选项不是到达子节点的唯一方法，但至少作为起点它们应该足够了。您尚未描述您将对该响应文件做什么，因此很难建议对您来说可能是最佳方式（如果选择节点迭代之一或使用路径选择）。

***我用于测试的原始 XML 文件：***

```
<?xml version='1.0' encoding='UTF-8'?>
<stream:stream xmlns:stream="http://etherx.jabber.org/streams" xmlns="jabber:client" from="messenger.tashbik.com" id="40d07647" xml:lang="en" version="1.0">    
<stream:features>
   <starttls xmlns="urn:ietf:params:xml:ns:xmpp-tls"></starttls>
   <mechanisms xmlns="urn:ietf:params:xml:ns:xmpp-sasl">
      <mechanism>DIGEST-MD5</mechanism>
      <mechanism>PLAIN</mechanism>
      <mechanism>CRAM-MD5</mechanism>
   </mechanisms>
   <compression xmlns="http://jabber.org/features/compress">
      <method>zlib</method>
   </compression>
   <auth xmlns="http://jabber.org/features/iq-auth"/>
   <register xmlns="http://jabber.org/features/iq-register"/>
</stream:features> 
```

# scala - 使用部署在 Resin 上的 Lift 应用程序检测环境（产品与测试）？

> ID：12871725
> 
> 赞同：0
> 
> 时间：2012-10-13T09:19:41.227
> 
> 标签：scala, deployment, lift, resin

如何为在 Resin 上运行的 Lift 应用程序设置 run.mode？

在 Jetty 上部署时，我在 war 文件中包含了一个 jetty-web.xml，将 run.mode 属性设置为“production”。现在我需要部署在 Resin 上。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-15T17:21:31.793

在您的resin.xml 或resin.properties 中，您可以设置命令行属性。如果您使用的是最新的 Resin 4.0 版本之一，您可以使用 /etc/resin/resin.properties "jvm_args" 属性：

```
# Arg passed directly to the JVM
jvm_args    : -Drun.mode=production -Xmx1024m 
```

如果您使用的是没有resin.properties 的旧Resin，您可以在/etc/resin/resin.xml 的<server> 或<server-default> 标记内设置<jvm-arg>：

```
<resin ...
  <cluster id="app">
    <server-default>
      <jvm-arg>-Drun.mode=production</jvm-arg>
      ...
    </server-default> 
```

当 Resin 的看门狗进程构建命令行以启动 Resin 时，它使用resin.xml 中的 <jvm-arg> 作为子 Resin 的参数。

顺便说一下，也有可能拥有特定于服务器的属性，或者由 Resin 服务器 ID 或集群配置。（或者在配置中使用表达式和控制语句。但可能不是你需要的。）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-13T12:39:43.290

启动树脂时，在命令行中设置 -Drun.mode=production。

# maple - Ubuntu 上的 Maple 命令行

> ID：12871727
> 
> 赞同：2
> 
> 时间：2012-10-13T09:19:43.890
> 
> 标签：maple

如何在 Ubuntu 上使用 Maple 命令行运行命令。

当我通过终端运行以下命令时：

```
/home/myuser/maple14/bin/maple -c 2+2 
```

Maple 按预期运行，但未计算命令 (2+2)。

我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-01T18:50:00.163

如果您只想从 maple 执行命令，没有问候语，并且如果您希望 maple 在执行命令后退出，则该`-c`选项不是您需要的选项。事实上，您必须使用命令（或包含您的命令的文件）来输入 maple。对于这样一个简单的例子，我最好这样做：

```
maple -q <<< '2+2;' 
```

（不要忘记分号！）。选项是`-q`告诉枫保持安静。这里`<<<`是一个 bash 字符串。这相当于

```
echo '2+2;' | maple -q 
```

（但作为一个 bash 用户，我不太喜欢这个）。您会注意到，答案显示为 maple 会显示它（即，人类可读，以终端线为中心）。也许您更喜欢使用 printf 命令：

```
maple -q <<< 'printf("%a\n",2+2);' 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-14T00:26:27.213

相信你会发现，这样的命令的输入输出都没有回显，即使执行得ok。

这对你有用吗？

```
maple -c "print(2+2);" 
```

# android - 如何捕获经度和纬度值并将它们存储在服务器或android应用程序的文本文件中？

> ID：12871731
> 
> 赞同：0
> 
> 时间：2012-10-13T09:20:21.503
> 
> 标签：android, gps, locationmanager

我正在尝试从 Android 手机捕获经度和纬度值。我能够在我的外部设备上显示值，但我无法在我的模拟器上显示它们并显示未找到的位置。请告诉我将值存储在文本文件，拜托，这是我的代码。我在资产文件夹中创建了文本文件。

```
public class MainActivity extends Activity implements LocationListener{

private final static String STORETEXT="storetext.txt";

LocationManager locationManager ;
String provider;
String value1;
String value2;

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);

    // Getting LocationManager object
    locationManager = (LocationManager)getSystemService(Context.LOCATION_SERVICE);        

    // Creating an empty criteria object
    Criteria criteria = new Criteria();

    // Getting the name of the provider that meets the criteria
    provider = locationManager.getBestProvider(criteria, false);

    if(provider!=null && !provider.equals("")){

        // Get the location from the given provider 
        Location location = locationManager.getLastKnownLocation(provider);

        locationManager.requestLocationUpdates(provider, 20000, 1, this);

        if(location!=null)
            onLocationChanged(location);
        else
            Toast.makeText(getBaseContext(), "Location can't be retrieved", Toast.LENGTH_SHORT).show();

    }else{
        Toast.makeText(getBaseContext(), "No Provider Found", Toast.LENGTH_SHORT).show();
    }
}

@Override
public boolean onCreateOptionsMenu(Menu menu) {
    getMenuInflater().inflate(R.menu.activity_main, menu);
    return true;
}

@Override
public void onLocationChanged(Location location) {
    // Getting reference to TextView tv_longitude
    TextView tvLongitude = (TextView)findViewById(R.id.tv_longitude);

    // Getting reference to TextView tv_latitude
    TextView tvLatitude = (TextView)findViewById(R.id.tv_latitude);

    // Setting Current Longitude
    tvLongitude.setText("Longitude:" + location.getLongitude());

    // Setting Current Latitude
    tvLatitude.setText("Latitude:" + location.getLatitude() );

    value1 = tvLongitude.getText().toString();
    value2 = tvLatitude.getText().toString();

    saveClicked();

}

private void saveClicked() {

    try{
        OutputStreamWriter out=
                new OutputStreamWriter(openFileOutput(STORETEXT, 0));
        out.write(value1);
        out.write(value2);
        out.close();

        Toast
    .makeText(this, "The contents are saved in the file.", Toast.LENGTH_LONG)
    .show();

    }
    catch(Throwable t){
        Toast.makeText(this, "Exception: "+ t.toString(), Toast.LENGTH_LONG)
        .show();

    }
}

@Override
public void onProviderDisabled(String provider) {
    // TODO Auto-generated method stub      
}

@Override
public void onProviderEnabled(String provider) {
    // TODO Auto-generated method stub      
}

@Override
public void onStatusChanged(String provider, int status, Bundle extras) {
    // TODO Auto-generated method stub      
}
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-13T09:26:45.620

在模拟器上，地理定位不起作用。要进行测试，您仍然可以[注入地理修复](https://stackoverflow.com/questions/2279647/how-to-emulate-gps-location-in-the-android-emulator)

您不应该使用资产来存储这些数据，您`activity.getApplicationContext().getCacheDir()`或`getFilesDir()`.

然后，一旦数据存储在本地，您应该专注于使用休息服务将这些数据上传到您的服务器并将其记录到数据库中。

# c# - 无法在 WPF 中检索动态生成的按钮的内容

> ID：12871733
> 
> 赞同：0
> 
> 时间：2012-10-13T09:20:38.567
> 
> 标签：c#, c++, wpf, button, mvvm

我正在开发一个 WPF 应用程序。我基本上是一名 C++ 开发人员，最近转向 C#。在我的应用程序中，我动态生成了一组执行特定操作的按钮。

每个按钮都有一个频率，它被捕获并用于执行某些操作。在我的 C++ 应用程序中，我创建如下：

```
static const char *freqs[MAX_CLOCK_RANGE] = 
{
"12.0.",12.288","15.36","19.2","23.0","24.0","26.0" //MAX_CLOCK_RANGE is 7
};

for(int i = 0; i < MAX_CLOCK_RANGE; i++)
{
    buttonText = String(T("Set ")) + String(freqs[i])+ String(T(" MHz"));
    m_buttonSetFreq[i] = new TextButton(buttonText, String::empty);
    m_buttonSetFreq[i]->addButtonListener(this);
    addAndMakeVisible(m_buttonSetFreq[i]);      
}

int cnt = 0;
while(cnt < MAX_CLOCK_RANGE)
{
   if(button == m_buttonSetFreq[cnt])
   break;
   cnt++;       
}
if(cnt < MAX_CLOCK_RANGE)
{
   unsigned int val = String(freqs[cnt]).getDoubleValue() * 1000.0;
}
sendBuf[numBytes++] = 0x00; //SendBuf is unsigned char
sendBuf[numBytes++] = 0x00;
sendBuf[numBytes++] = (val >> 8) & 0xFF;
sendBuf[numBytes++] = val & 0xFF; 
```

因此，它从 char 数组中获取 freq 的值并对其执行上面给出的操作。Cnt 具有单击哪个特定按钮的值，并采用单击按钮的频率。我在我的 WPF 应用程序中执行以下操作：

**XAML：**

```
<ListBox x:Name="SetButtonList" ItemsSource="{Binding}" >
                    <ListBox.ItemTemplate>
                        <DataTemplate >
                            <Grid>
                                <Button Name="FreqButton" Content="{Binding Path=SetButtonFreq}" Command="{Binding ElementName=SetButtonList, Path=DataContext.SetFreqCommand}" />                                    
                            </Grid>
                        </DataTemplate>
                    </ListBox.ItemTemplate>
</ListBox> 
```

**Xaml.cs：**

```
ClockViewModel mClock = new ClockViewModel();

mClock.Add(new ClockModel("Set 12.0 MHz"));
mClock.Add(new ClockModel("Set 12.288 MHz"));
mClock.Add(new ClockModel("Set 15.36 MHz"));
mClock.Add(new ClockModel("Set 19.2 MHz"));
mClock.Add(new ClockModel("Set 23.0 MHz"));
mClock.Add(new ClockModel("Set 24.0 MHz"));
mClock.Add(new ClockModel("Set 26.0 MHz"));
SetButtonList.DataContext = mClock; 
```

**视图模型：**

```
ClockModel mCModel = new ClockModel();

private ICommand mSetFreqCommand;
    public ICommand SetFreqCommand
    {
        get
        {
            if (mSetFreqCommand == null)
                mSetFreqCommand = new DelegateCommand(new Action(SetFreqCommandExecuted), new Func<bool>(SetFreqCommandCanExecute));

            return mSetFreqCommand;
        }
        set
        {
            mSetFreqCommand = value;
        }
    }

    public bool SetFreqCommandCanExecute()
    {
        return true;
    }

    public void SetFreqCommandExecuted()
    {
        //How can I retrieve the Frequency of button clicked and perform same operation as done in C++
    } 
```

**模型：**

```
public String SetButtonFreq {get; set;} 
```

是否有可能获得每个按钮的点击频率并执行与 C++ 代码中相同的步骤？？？请帮忙 ：）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-13T10:29:02.260

两种可能的解决方案。

1st：绑定到每个按钮的 ViewModel 实例中的命令：

```
<Window x:Class="WpfTest.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="MainWindow" Height="350" Width="525">
    <Grid>
        <ListBox ItemsSource="{Binding Clocks}">
            <ListBox.ItemTemplate>
                <DataTemplate>
                <Button Content="{Binding Frequency}" 
                        Command="{Binding SetFrequency}"/>
                </DataTemplate>
            </ListBox.ItemTemplate>
        </ListBox>
    </Grid>
</Window> 
```

使用以下视图模型和代码：

```
class ClockViewModel  // DataContext of ListBoxItem
{
    public double Frequency { get; set; }
    public ICommand SetFrequency
    {
        get
        {
            return new DelegateCommand((obj) => { 
              double freq = this.Frequency; 
              // ...
            });
        }
    }
}

class WindowViewModel 
{
    ObservableCollection<ClockViewModel> clocks_ = 
        new ObservableCollection<ClockViewModel>();
    public ObservableCollection<ClockViewModel> Clocks {get {return clocks_;}}
}

public partial class MainWindow : Window
{
    public MainWindow()
    {
        InitializeComponent();

        var viewModel = new WindowViewModel();
        viewModel.Clocks.Add(new ClockViewModel() { Frequency = 10.123 });
        viewModel.Clocks.Add(new ClockViewModel() { Frequency = 42.0 });
        viewModel.Clocks.Add(new ClockViewModel() { Frequency = 3.14 });

        DataContext = viewModel;
    }
} 
```

2nd）：如果命令应该是您可以使用的 windows 视图模型的一部分`CommandParameter`（更新以显示“Set 3.13 Mhz”格式）：

```
<Window x:Class="WpfTest.MainWindow"
            xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
            xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
            Title="MainWindow" Height="350" Width="525">
  <Grid>
    <ListBox Name="list" ItemsSource="{Binding Clocks}">
      <ListBox.ItemTemplate>
        <DataTemplate>
          <Button Command="{Binding Path=DataContext.SetFrequency, 
                          ElementName=list}"
                  CommandParameter="{Binding}">
            <Button.Content>
              <TextBlock>
                <Run>Set </Run>
                <Run Text="{Binding Frequency}"/>
                <Run> Mhz</Run>
              </TextBlock>
            </Button.Content>
          </Button>
        </DataTemplate>
      </ListBox.ItemTemplate>
    </ListBox>
  </Grid>
</Window> 
```

这会将按钮数据上下文传递给命令：

```
class ClockViewModel
{
    public double Frequency { get; set; }
}

class WindowViewModel
{
    ObservableCollection<ClockViewModel> clocks_ = new ObservableCollection<ClockViewModel>();
    public ObservableCollection<ClockViewModel> Clocks
    {
        get { return clocks_; }
    }

    public ICommand SetFrequency
    {
        get{
            return new DelegateCommand((obj) => 
            { 
                var clock = obj as ClockViewModel;
                DoSendBufStuffWithFrequency(clock.Frequency);
            });}
    }

    private void DoSendBufStuffWithFrequency(double frequency)
    {
    }
} 
```

# ios - CFRunLoopPerformBlock 与 dispatch_async

> ID：12871737
> 
> 赞同：11
> 
> 时间：2012-10-13T09:21:02.157
> 
> 标签：ios, multithreading, grand-central-dispatch

我在后台线程上有一些计算工作，之后我需要更新一些 calayer 的变换，我尝试使用

```
dispatch_async(dispatch_get_main_queue(), ^{calayer.transform = newTransform}); 
```

和

```
CFRunLoopPerformBlock(CFRunLoopGetMain(), kCFRunLoopCommonModes, ^(void) {calayer.transform = newTransform}); 
```

我只是认为它们是相同的，但我发现使用 dispatch_async 时 calayer 工作得非常顺利（也许？）。这两个功能有什么不同？

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2013-02-10T19:07:13.077

这里的主要区别是`CFRunLoopPerformBlock`允许您指定执行块的特定运行循环模式，而`dispatch_async(dispatch_get_main_queue(),...)`仅在普通模式下执行。也许更适合您看到的性能问题，*不会*`CFRunLoopPerformBlock`唤醒主线程。从文档中：*`CFRunLoopPerformBlock`*

 *> 此方法仅将块入队，不会自动唤醒指定的运行循环。因此，块的执行发生在下次运行循环唤醒以处理另一个输入源时。如果您希望立即执行工作，则必须使用 CFRunLoopWakeUp 函数显式唤醒该线程。

在实践中，这通常意味着在运行循环唤醒之前（即用户事件发生、定时器触发、运行循环源触发、接收到 mach 消息等），您的块不会被执行。按照设计，GCD 不是，基于运行循环的 API；主队列和主线程运行循环之间的关系实际上是一个实现细节。如果需要服务主队列，我希望该实现能够唤醒运行循环本身。

相反，没有信息，我强烈怀疑这是性能差异的根源。`CFRunLoopWakeUp`如果您在调用 后立即添加调用，我希望性能相似`CFRunLoopPerformBlock`。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2014-10-02T22:49:57.320

GCD 的主队列是一个串行队列。因此，它一次只能运行一个任务。即使该任务运行内部运行循环（例如，运行模式对话框），提交到主队列的其他任务在完成之前也无法运行。

`CFRunLoopPerformBlock()`只要运行循环在其中一种目标模式下运行，使用提交的任务就可以运行。这包括运行循环是否从使用`CFRunLoopPerformBlock()`.

考虑以下示例：

```
CFRunLoopPerformBlock(CFRunLoopGetMain(), kCFRunLoopCommonModes, ^{
    printf("outer task milestone 1\n");
    CFRunLoopPerformBlock(CFRunLoopGetMain(), kCFRunLoopCommonModes, ^{
        printf("inner task\n");
    });
    [[NSRunLoop currentRunLoop] runUntilDate:[NSDate dateWithTimeIntervalSinceNow:1]];
    printf("outer task milestone 2\n");
}); 
```

产生如下输出：

```
outer task milestone 1
inner task
outer task milestone 2 
```

虽然这样：

```
dispatch_async(dispatch_get_main_queue(), ^{
    printf("outer task milestone 1\n");
    dispatch_async(dispatch_get_main_queue(), ^{
        printf("inner task\n");
    });
    [[NSRunLoop currentRunLoop] runUntilDate:[NSDate dateWithTimeIntervalSinceNow:1]];
    printf("outer task milestone 2\n");
}); 
```

产生：

```
outer task milestone 1
outer task milestone 2
inner task 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2014-05-23T00:36:36.573

我有时会一起使用它们：

```
dispatch_async(dispatch_get_main_queue(), ^(void) {
    CFRunLoopPerformBlock(CFRunLoopGetMain(), kCFRunLoopDefaultMode, ^{
        // stuff
    });
}); 
```

我使用它向主线程发送一个块，当 UIScrollview 滚动时，该块将执行而不会导致“故障”。

我最近也在使用：

```
CFRunLoopPerformBlock(CFRunLoopGetMain(), kCFRunLoopDefaultMode, ^{
    // stuff
}); 
```

替代：

```
[self performSelector:@selector(myMethod:) withObject:myObject afterDelay:0] 
```

为了将代码的执行推迟到下一次通过runloop。这样我就不必创建一个特殊的方法来包含我想要执行的代码，也不必将所有要执行的参数包装到单个 (id) myObject 中。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2020-10-30T17:56:14.117

一个可能导致严重麻烦的微妙之处是由于 CF 块“发送”到的深处的一个错误`CFRunLoopPerformBlock`并不总是按照它们发送的顺序被调用。如果顺序对您的程序很重要，那么您需要自己找到一种方法来提供它。由于这个原因以及另一个答案中提到的嵌套，文档`CFRunLoopPerformBlock`不应该使用队列术语。可悲的是，这个错误也悄悄地传播到了一些方法中`NSRunLoop`（因为，当然，他们调用`CFRunLoopPerformBlock`）。*

# node.js - 如何在 Node.js 脚本中分离生成的子进程？

> ID：12871740
> 
> 赞同：23
> 
> 时间：2012-10-13T09:21:16.277
> 
> 标签：node.js

意图：调用具有指定参数的外部应用程序，并退出脚本。

以下脚本无法正常工作：

```
 #!/usr/bin/node
 var cp = require('child_process');
 var MANFILE='ALengthyNodeManual.pdf';
 cp.spawn('gnome-open', ['\''+MANFILE+'\''], {detached: true}); 
```

尝试过的事情：`exec`- 不分离。提前谢谢了

* * *

## 回答 #1

> 赞同：48
> 
> 时间：2012-10-13T09:35:40.003

从 node.js 文档：

> 默认情况下，父级将等待分离的子级退出。要防止父级等待给定的子级，请使用 child.unref() 方法，并且父级的事件循环不会将子级包含在其引用计数中。
> 
> 当使用 detached 选项启动一个长时间运行的进程时，该进程将不会在后台保持运行，除非它提供了一个未连接到父进程的 stdio 配置。如果继承父级的 stdio，则子级将保持连接到控制终端。

您需要像这样修改代码：

```
#!/usr/bin/node
var fs = require('fs');
var out = fs.openSync('./out.log', 'a');
var err = fs.openSync('./out.log', 'a');

var cp = require('child_process');
var MANFILE='ALengthyNodeManual.pdf';
var child = cp.spawn('gnome-open', [MANFILE], { detached: true, stdio: [ 'ignore', out, err ] });
child.unref(); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-07-01T19:38:37.087

我对这个问题的解决方案：

应用程序.js

```
require('./spawn.js')('node worker.js'); 
```

spawn.js

```
module.exports = function( command ) {
    require('child_process').fork('./spawner.js', [command]); 
}; 
```

spawner.js

```
require('child_process').exec(
    'start cmd.exe @cmd /k "' + process.argv[2] + '"', 
    function(){}
);
process.abort(0); 
```

# c# - 给 CIL 写评论

> ID：12871747
> 
> 赞同：2
> 
> 时间：2012-10-13T09:22:37.947
> 
> 标签：c#, .net, cil

我有一个 C# 代码，我希望 CIL (*.il) 在我对源 C# exe 程序集进行反汇编时包含我的自定义注释。

我如何实现它？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-13T11:07:14.103

汇编的 IL 操作码不包含注释，因此您无法反汇编并获取注释。基本上你不能这样做。要么共享 IL 源，要么调查 pdb 是否可能用于原始 IL 源。

没有“评论”操作码。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-13T10:08:13.583

您可以使用 写出任意 IL 操作代码[`ILGenerator.Emit`](http://msdn.microsoft.com/en-us/library/h3c68sh6)，但我认为那里不支持注入注释。

如果您只是为了调试目的而这样做（例如，使搜索更容易），您总是可以添加一个具有描述性名称的未使用变量。例如：

```
void Main()
{
    var a = new A();    
}

class A
{
    bool this_is_a_comment = false;
} 
```

产量

```
IL_0001:  newobj      UserQuery+A..ctor
IL_0006:  stloc.0     

A..ctor:
IL_0000:  ldarg.0     
IL_0001:  ldc.i4.0    
IL_0002:  stfld       UserQuery+A.this_is_a_comment
IL_0007:  ldarg.0     
IL_0008:  call        System.Object..ctor
IL_000D:  nop         
IL_000E:  ret 
```

# redirect - apache httpd + tomcat下使用request.sendrequest的web应用

> ID：12871754
> 
> 赞同：0
> 
> 时间：2012-10-13T09:24:00.427
> 
> 标签：redirect

在 spring mvc 动作中，重新运行“redirect:/toLogin”

只需在 tomcat 中，我们就可以获得正确的重定向位置，例如 '192.168.1.10/toLogin'

但是当我使用apache httpd服务器代理请求到tomcat时（apache的ip 192.168.1.2，tomcat是192.168.1.10）

我访问“192.168.1.2”可以获得索引页面。但是当我点击一些需要重定向到登录页面的链接时，我只得到位置'192.168.1.10/toLogin'（正确的位置是'192.168.1.10/toLogin'）

这是由其地址下的tomcat发送重定向请求引起的。

有没有办法重定向到正确的位置。
或者我配置错误。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-17T06:47:21.750

我将 http_proxy 更改为 mod_jk 连接器

我认为 mod_jk 已经同步了 info int 请求和响应

# vb.net - 向后输入内容

> ID：12871755
> 
> 赞同：0
> 
> 时间：2012-10-13T09:24:04.747
> 
> 标签：vb.net

我的老师要求我们取一个我们输入的句子，然后让控制台倒着写。我知道这一步可能是最好的方法，但是当涉及到其他部分时我很困惑。我也相信我需要使用一个数组。

```
For i = 8 To 1 Step -1

    Console.WriteLine(myarray(i - 1))

Next

Console.ReadLine() 
```

这是我要尝试和基于该程序的代码。有小费吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-13T09:26:20.610

字符串已经是隐式的`Char()`。

```
Dim sentence = "Hello World"
For i = sentence.Length - 1 To 0 Step -1
    Console.Write(sentence(i))
Next 
```

或者，如果您可以使用 LINQ

```
Dim backwards = sentence.Reverse()
Dim bwSentence = New String(backwards.ToArray()) 
```

# javascript - 跨浏览器上的 Html5 div

> ID：12871758
> 
> 赞同：0
> 
> 时间：2012-10-13T09:24:05.567
> 
> 标签：javascript, html, canvas

我尝试在整页画布上放置一个 div。在 Chrome 中效果很好，但在 Firefox 和 ie9 中它会变成“kaput”。

这是该代码的链接（在 Firefox chrome 和 ie9 中尝试过），只有 chrome 似乎可以工作；

[http://jsbin.com/ubolan/1/edit](http://jsbin.com/ubolan/1/edit)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-13T09:46:14.843

在 IE9 文档中没有属性`document.width/document.height`，因此您将画布宽度/高度设置为 0。

尝试使用

```
canvas.width = document.body.clientWidth;
canvas.height = document.body.clientHeight; 
```

或者

```
canvas.width = $(document).width();
canvas.height = $(document).height(); 
```

# tcp - 数据包丢失和数据包重复

> ID：12871760
> 
> 赞同：8
> 
> 时间：2012-10-13T09:24:17.497
> 
> 标签：tcp, udp, network-protocols, duplication, packet-loss

我试图找出数据包丢失和数据包重复问题之间的区别。有谁知道“数据包重复”是什么意思？TCP检测到丢包时，和重传包一样吗？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-10-13T09:26:13.217

不`TCP`。“数据包”的传递是可靠的（我认为在这种情况下术语数据应该更好，因为它是一个面向流的协议）。

数据包丢失和重复是与面向数据报的不可靠协议相关的问题，例如`UDP`. 在 UDP 中，当您发送数据报时，这可能会重复、无序甚至根本不到达。

> TCP检测到丢包时，和重传包一样吗？

是和不是。假设 TCP 在内部使用 ack 机制来检测丢失的数据，并自动重新传输它们。因此，丢失的数据对用户来说是透明的，并由协议本身处理。

> 有谁知道“数据包重复”是什么意思？

在某些情况下，可能会发生`IP`数据包在到达目的地的路径上重复的情况。例如，路由器可以决定通过 2 个不同的网络接口转发传入流量。在这种情况下，两个 IP 数据包都可能到达目的地。

`TCP`处理重复`IP`数据包问题，所以你不关心它们。

`UDP`不处理它们。当您收到数据报时，不能保证您之前没有收到相同的数据报。你应该检查一下。

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2012-10-13T09:49:32.687

您可能意味着重复数据包有两件事：有效负载（正在发送的数据）的重复或有效负载和标头的完全重复。TCP 将尝试重新发送它没有收到 ACK（来自接收器的数据包到达正常的确认）的数据。但是，这会导致著名的“[两个将军](http://en.wikipedia.org/wiki/Two_Generals%27_Problem)”问题，即您永远无法确定数据实际到达，或者您只是因为 ACK 数据包丢失而没有收到 ACK。接收方本可以收到数据包，然后回复一个 ACK​​，但随后 ACK 丢失了。在这种情况下，发送方将假设该数据包从未收到，并发送**另一个具有相同有效负载的数据包**. 由于这种情况，像 TCP 这样的协议需要处理多次发送的数据。在这种情况下，答案是“是的”，它们是同一回事。

第二件事重复数据包可能意味着实际的 100% 重复数据包（有效负载和标头）。这可能是由于软件、硬件或路由问题或配置错误中的错误而发生的。在这种情况下，不，这与 TCP 故意发送具有重复有效负载的新数据包以检测数据包丢失有点不同。在这种情况下，发送者只发送了一个数据包，但它在途中被路由器或硬件接口复制到了某个地方。

# javascript - 推特引导手风琴

> ID：12871764
> 
> 赞同：2
> 
> 时间：2012-10-13T09:24:49.633
> 
> 标签：javascript, html, twitter-bootstrap

我正在尝试在我的网站上制作一个类似于[这里](http://jsfiddle.net/gqe7g/242/)看到的手风琴。但是，每当我单击要折叠的位置时，它不会下降，而是将我链接到 my_url#collapseOne （或两个或三个，具体取决于我单击哪个）。而且，当我加载网页时，菜单 1 已经被删除（不可取），另外两个看起来正确。

关于如何正确实现手风琴效果的任何想法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-13T10:02:18.820

所以你需要做两件事

1.  文档准备好后，您需要初始化手风琴。这意味着您将遍历所有手风琴容器并将它们初始化为关闭。

2.  您将点击事件处理程序附加到打开/关闭手风琴的链接。为了防止浏览器跟踪这些链接，您应该从这些事件处理程序中返回 false，这会阻止事件进一步冒泡。这将阻止浏览器跟踪该链接。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-13T18:00:09.327

[http://twitter.github.com/bootstrap/javascript.html#collapse](http://twitter.github.com/bootstrap/javascript.html#collapse)。如果您自定义了引导安装，请确保您拥有所需的文件。如果您将 twitter-bootstrap-rails gem 与资产管道一起使用，您应该很好地将代码放入并查看它的工作。

# css - HTML5 将图像放置在屏幕上我想要的位置

> ID：12871766
> 
> 赞同：0
> 
> 时间：2012-10-13T09:25:04.637
> 
> 标签：css, html

我有一个小开始屏幕正在运行，我希望将充当按钮的图像放置在某个点，但是当我尝试它时它会停留在同一个地方，我不知道我怎么能得到它留在我想要的地方。这是我的代码，它是带有一些 CSS 的 HTML：

```
<style>
    #SplashScreen{
        position:relative;
        overflow:hidden;
    }

    #StartButton
    {
        cursor:pointer;
        position:absoloute;
        left:100px;
        top:100px;
    }
</style>
<div id="SplashScreen" width="400" height="400">
    <h1>Game Title</h1>
    <img id="StartButton" src="play.png"/>
</div> 
```

图像只是在标题下方绘制，而不是在我想要的位置。有什么帮助吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-13T09:27:51.617

那是因为你的`absolute`拼写错误

```
#StartButton
{
    cursor:pointer;
    position:absolute;
    left:100px;
    top:100px;
} 
```

并且不要使用高度/宽度属性，`#SplashScreen`而是在[**My Fiddle中指定它们**](http://jsfiddle.net/9B37v/)

```
<style>
    #SplashScreen{
        position:relative;
        overflow:hidden;
        height: 400px;
        width: 400px;

    }

    #StartButton
    {
        cursor:pointer;
        position:absolute;
        left:100px;
        top:100px;
    }
</style>
<div id="SplashScreen">
    <h1>Game Title</h1>
    <img id="StartButton" src="http://www.alfresco.com/community/images/windows-icon.png"/>
</div>​ 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-13T09:34:10.803

试试这个，你拼错了`absolute`，如果你想为一个 div 设置宽度和高度，你必须通过 CSS 来完成，而不是在 html 标记中

```
#SplashScreen{
        position:relative;
        overflow: hidden;
        width: 400px;
        height: 400px;
    }

    #StartButton
    {
        cursor:pointer;
        position: absolute;
        left:200px;
        top:100px;
        width: 50px;
        height: 50px;
        background: black;
    } 
```

# php - mySQL 查询计数，选择 三个表

> ID：12871767
> 
> 赞同：0
> 
> 时间：2012-10-13T09:25:17.397
> 
> 标签：php, javascript, mysql

希望我能在这个问题上得到一些帮助。我有三张表，一张有名为 op_ideas 的帖子（想法）。我有另一个名为 op_idea_votes 的表。这些可以通过idea_id链接。

当一个想法被发布时，人们可以对该想法进行投票。op_idea_votes 然后更新为最新的投票。

然后我有另一个名为 op_organs 的表，它可能为空，也可能不为空，具体取决于发布的用户类型。所以这个表通过 POST_TYPE（它是 op_organs 表的 id）链接到 op_organs.organ_id。

我需要选择所有这些表来创建一个包含所有要显示的信息的行，这些信息需要通过idea_id 和post_type 链接。但我还需要对 op_idea_vote 表上的 3 列进行 COUNT（同意、不同意、弃权）。

我已经厌倦了 UNION，SELECT 与 SUM(CASE，但我无法获得预期的效果。LEFT 和 INNER JOIN 但我似乎有问题，因为部分或全部信息丢失。

该应用程序使用 javascript 和 PHP，因此我试图减少对数据库和查询所在的 PHP 文件（使用 ajax）的调用次数，这就是我尝试一次性完成的原因。你如果有更好的方法，我全神贯注。

这是从工具创建的当前尝试，但它返回为空，但没有错误：

```
SELECT
op_ideas.author_id,
op_ideas.date,
op_ideas.deptid,
op_ideas.idea_geo,
op_ideas.idea_id,
op_ideas.idea_text,
op_ideas.idea_title,
op_ideas.modifed_date,
op_ideas.post_type,
op_ideas.user_country,
op_ideas.user_county,
op_ideas.user_loc,
op_organs.organ_name,
op_organs.organ_logo,
op_organs.active,
COUNT(op_idea_vote.agree),
COUNT(op_idea_vote.disagree),
COUNT(op_idea_vote.obstain)
FROM
heroku_056eb661631f253.op_ideas op_ideas,
heroku_056eb661631f253.op_organs op_organs,
heroku_056eb661631f253.op_idea_vote op_idea_vote
WHERE
op_ideas.idea_id = op_idea_vote.idea_id AND
op_ideas.post_type = op_organs.organs_id 
```

所以数据看起来像这样：

+-------------------------------------------------- -------------------------------------------------- -----------------------------------------+
| 想法ID | 作者_id | 想法标题 | 想法文本 | 日期 | 同意 | 不同意 | 弃权 | 器官名称 | organ_logo
+------------------------------------------------ -------------------------------------------------- ------------------------------+
| 00001 | 10025225 | 睾丸标题 | 文字在这里 | 2012| 00005 | 0000004 | 000002 | 公司名称 | 图像/.png
+--------------------------------------------- -------------------------------------------------- ---------------------------------+

不是一个很好的例子。但我试过了。

这是最新的代码。它带回 3 行，即使 op_organs 为空。但它没有显示票数：

```
 SELECT i.*, o.organ_name, o.organ_logo
  FROM heroku_056eb661631f253.op_ideas i
  LEFT JOIN op_organs o ON i.post_type = o.organs_id
  JOIN 
    (SELECT
       COUNT(v.agree = 1 or null) as agree,
       COUNT(v.disagree = 1 or null) as disagree,
       COUNT(v.obstain = 1 or null) as abstain
       FROM op_idea_vote v, op_ideas i
       GROUP BY v.idea_id
   ) as votes; 
```

花了一整天的时间，读了这么多，我的头在旋转。有人有想法么 ？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-13T09:38:01.127

```
SELECT
    op_ideas.author_id,
    op_ideas.date,
    op_ideas.deptid,
    op_ideas.idea_geo,
    op_ideas.idea_id,
    op_ideas.idea_text,
    op_ideas.idea_title,
    op_ideas.modifed_date,
    op_ideas.post_type,
    op_ideas.user_country,
    op_ideas.user_county,
    op_ideas.user_loc,
    op_organs.organ_name,
    op_organs.organ_logo,
    op_organs.active,
    COUNT(op_idea_vote.agree = 1 or null) as agrees,
    COUNT(op_idea_vote.disagree = 1 or null) as disagrees,
    COUNT(op_idea_vote.obstain = 1 or null) as absteins
FROM
    heroku_056eb661631f253.op_ideas op_ideas,
    left join
    heroku_056eb661631f253.op_organs op_organs on op_ideas.post_type = op_organs.organs_id,
    inner join 
    heroku_056eb661631f253.op_idea_vote op_idea_vote on op_ideas.idea_id = op_idea_vote.idea_id
group by
    op_ideas.author_id,
    op_ideas.date,
    op_ideas.deptid,
    op_ideas.idea_geo,
    op_ideas.idea_id,
    op_ideas.idea_text,
    op_ideas.idea_title,
    op_ideas.modifed_date,
    op_ideas.post_type,
    op_ideas.user_country,
    op_ideas.user_county,
    op_ideas.user_loc,
    op_organs.organ_name,
    op_organs.organ_logo,
    op_organs.active 
```

# c# - 从其他表单编辑标签控件

> ID：12871768
> 
> 赞同：1
> 
> 时间：2012-10-13T09:25:33.117
> 
> 标签：c#

> **可能重复：**
> [双击列表框中的项目后，C# 文本不会显示在另一个表单上](https://stackoverflow.com/questions/12795668/c-sharp-text-dont-display-on-another-form-after-double-clicking-an-item-in-list)

我是 C# 的初学者。每当用户单击按钮和（这些按钮位于）时，我想从其他表单中编辑`lblText`表单中存在的标签。`subForm``mainForm``btnHigh``btnLow``mainForm`

```
 For btnHigh_Click event  --> lblText should have text "high"
 For btnLow_Click event   --> lblText should have text "low" 
```

我尝试了以下代码：（*不工作*）

**btnHigh_Click 事件**

```
 subForm sf = new subForm ();
        sf.ShowDialog();
        sf.lblText.Text = "High";  // lblText --> modifier is public 
```

我在这里做错了什么？

请帮助
提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-13T09:27:04.003

在显示表单之前，您需要先更改值，

```
 subForm sf = new subForm ();
    sf.lblText.Text = "High";  
    sf.ShowDialog(); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-13T09:51:30.823

你写的是错的

```
subForm sf = new subForm (); 
sf.ShowDialog(); 
sf.lblText.Text = "High";  // lblText --> modifier is public 
```

该`ShowDialog`方法阻止当前表单并打开另一个表单。这会导致该行在 您的遗嘱关闭`sf.lblText.Text = "High";`后“运行” 。`subForm`

最好的方法是不要让你的文本框公开，但你可以像这样在构造函数中传递数据：

**在 subForm 类中添加构造函数：**

```
public subForm(string strText)
{
    InitializeComponent();
    this.lblText.Text = strText; // Must be after the InitializeComponent method
} 
```

**在 subForm 的调用者中写下：**

```
subForm sf = new subForm ("High");              
sf.ShowDialog(); 
```

这是正确的方法。
最好避免将公共许可用于此类事情。因为所有的“世界”出来`subForm`都不需要知道它有一个名为 lblText 的标签，并用于管理对`subForm`数据的访问。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-13T09:29:24.093

您可以为 subForm 创建公共属性：

```
public string lblText{get;set;} 
```

并在加载表单上设置此属性：

```
 public subForm()
        {
            InitializeComponent();
    lblText.Text=lblText;
        } 
```

和 ：

```
subForm sf = new subForm ();
sf.lblText = "High";  
sf.ShowDialog(); 
```

# entity-framework - Entity Framework 二级缓存和 Windows Azure 缓存

> ID：12871770
> 
> 赞同：2
> 
> 时间：2012-10-13T09:25:49.847
> 
> 标签：entity-framework, caching, azure

我们在 Windows Azure 中运行我们的应用程序。我们遇到了 SQL Azure 的性能问题，因此我们正在考虑实施二级缓存。使用我们目前使用的 ORM，这很难实现。

Entity Framework 二级缓存呢？特别是在使用 Windows Azure 缓存 (*) 时。我知道它目前不支持开箱即用，并且是一些可用的包装器。但是，未来是否有支持这种开箱即用的计划？

(*) 这个想法是使用一定比例的 Web 角色内存进行缓存。例如，使用 5 个中型 Web 角色和 20% 的内存用于缓存将意味着 3.5 GB 的一致缓存。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-13T11:14:55.970

看看这里：

[实体框架 - 使用 DbContext 进行二级缓存](http://www.codeproject.com/Articles/435142/Entity-Framework-Second-Level-Caching-with-DbConte)

来源： http: [//www.codeproject.com/KB/aspnet/435142/SecondLevelCachingExample.zip](http://www.codeproject.com/KB/aspnet/435142/SecondLevelCachingExample.zip)

和这里：

[首先在 EF 代码中实现二级缓存](http://www.dotnettips.info/Post/881/implementing-second-level-caching-in-ef-code-first)

来源：[http ://www.dotnettips.info/File/UserFile?name=EfSecondLevelCaching.zip](http://www.dotnettips.info/File/UserFile?name=EfSecondLevelCaching.zip)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-13T10:13:26.370

Julie Lerman 最近的这篇文章[http://msdn.microsoft.com/en-us/magazine/hh394143.aspx](http://msdn.microsoft.com/en-us/magazine/hh394143.aspx)介绍了如何为 EF 和 Azure cahe 设置二级缓存。我们正在考虑做同样的事情，但还没有时间实际实施它。

至于未来的原生支持，我认为我没有在[EF6 路线图](http://entityframework.codeplex.com/wikipage?title=Roadmap)中看到提及。

然而，现在它的开源似乎发生了很多事情。也许值得在[EF 用户语音](http://data.uservoice.com/forums/72025-entity-framework-feature-suggestions/suggestions/1015353-support-for-second-level-cache)上对其进行检查和投票。

[扩展的实体框架](https://github.com/loresoft/EntityFramework.Extended)还允许您控制查询的缓存。

# sql - 如何在 SQL Server 中构建表字段值的所有顺序

> ID：12871772
> 
> 赞同：0
> 
> 时间：2012-10-13T09:25:52.813
> 
> 标签：sql, sql-server

如何在 SQL Server 中构建表字段值的所有顺序我有一个类似的表

```
一种
b
b
C
d
F

```

我需要一个具有相似输出的表的函数

```
一种
抗体
abb
美国广播公司
ABCCD
abbdcf

```

假设我有一个订购这些物品的 ID。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-13T09:54:25.067

假设您有一个（无间隙、不断增加的）ID 来订购这些物品：

```
with tree (id, all_items) as (
  select id, cast(data as varchar(max)) as all_items
  from foo 
  where id = 1

  union all

  select c.id, p.all_items + c.data
  from foo c
    join tree p on p.id = c.id - 1
)
select all_items
from tree 
```

SQLFiddle 示例：[http ://www.sqlfiddle.com/#!3/8840c/1](http://www.sqlfiddle.com/#!3/8840c/1)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-13T09:43:58.007

```
Declare @Temp Table
(
    Id Int Identity(1,1),
    Data Varchar(1)
)
Insert Into @Temp(Data) Values ('a')
Insert Into @Temp(Data) Values ('b')
Insert Into @Temp(Data) Values ('b')
Insert Into @Temp(Data) Values ('c')
Insert Into @Temp(Data) Values ('d')
Insert Into @Temp(Data) Values ('f')

Declare @i Int = 1, @j Int = 1,@Str Varchar(max) = '',@AllStr Varchar(max) = ''
While(@i <= (Select MAX(Id) From @Temp))
Begin
    While(@j <= @i)
    Begin
        Set @Str += (Select Data From @Temp Where Id = @j)
        Set @j += 1
    End
    Print @str 
    Set @j = 1
    Set @i += 1
    Set @Str = ''
End 
```

# python - 如何将多个参数传递给python中的函数？

> ID：12871773
> 
> 赞同：0
> 
> 时间：2012-10-13T09:25:53.317
> 
> 标签：python, function, parameters

我正在python中实现8位加法器。 **这是加法器函数定义：**

```
def add8(a0,a1,a2,a3,a4,a5,a6,a7,b0,b1,b2,b3,b4,b5,b6,b7,c0): 
```

所有函数参数都是布尔值。我已经实现了将 int 转换为二进制的函数：

```
def intTObin8(num):
    bits = [False]*8
    i = 7
    while num >= 1:
        if num % 2 == 1:
            bits[i] = True
        else:
            bits[i] = False
        i = i - 1
        num /= 2
    print bits
    return [bits[x] for x in range(0,8)] 
```

我希望这个函数返回 8 位。并使用这两个功能如下：

```
add8(intTObin8(1),intTObin8(1),0) 
```

那么问题来了：如何使用一个函数传递 8 个参数？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-13T09:30:07.933

一种方法：

```
add8(*(intTObin8(1) + intTObin8(1) + [0])) 
```

它连接列表，然后将其作为参数传递给`add8`.

如果你这样做几次，你可以把它放在另一个函数中：

```
def add8_from_bin8(a,b,c0):
    add8(*(a + b + [c0]))

add8_from_bin8(intTObin8(1), intTObin8(1), 0) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-13T09:31:39.067

有几件事：

您的 add8 中没有使用 16 个参数。如果你想这样做，你可以拿两个列表，每个列表有 8 个元素。

另外，在您的 intToBin 中，您应该使用 0 和 1 而不是 False 和 True；您还应该检查该数字是否可以用 8 位表示（如果我用 1000 调用该函数，会发生什么情况？）并且您应该按照 PEP8 命名您的函数：http: [//www.python.org/dev/peps /pep-0008/](http://www.python.org/dev/peps/pep-0008/)

ps你知道你可以简单`int(num, 2)`地转换为base 2吗？

话虽如此，有时您可以使用元组解包来简化代码：

```
def f(a, b, c):
   bla bla

l = [arg1, arg2, arg3]
f(l[0], l[1], l[2]) #well it's awful
f(*l) #nice 
```

# javascript - 用变量名创建javascript函数并访问它？

> ID：12871774
> 
> 赞同：0
> 
> 时间：2012-10-13T09:25:55.250
> 
> 标签：javascript

我有一个场景，需要在运行时确定 javascript 函数名称。为简单起见，假设我在 javascript 变量中有函数名称，现在我想使用变量值创建函数。我通过链接[Javascript - 函数名称中的变量，可能吗？](https://stackoverflow.com/questions/3733580/javascript-variable-in-function-name-possible) 并尝试了小代码片段

```
 <HTML>
       <HEAD>
          <TITLE> New Document </TITLE>
      </HEAD>
        <script>
        var temp1='at_26';
        temp1: function() {alert("Inside 26"); }
        </script>
         <BODY>
            <a href="javascript:window[at_26]()">Copy Text</a>
         </BODY>
    </HTML> 
```

但是当我点击超链接复制文本时，它会给出错误说**Line: 1 Error: 'at_26' is undefined**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-13T09:34:43.743

[演示](http://jsfiddle.net/mplungjan/JJCva/)

```
var temp1='at_26'; 
window[temp1]=function() {alert("Inside 26"); return false} 
```

进而

```
<a href="#" onclick="return window['at_26']()">Click</a> 
```

或者

```
<a href="#" onclick="return at_26()">Click</a> 
```

应该管用

我想你想要什么，因为它不会污染全局范围并且在你的例子中使用冒号是这样的：

```
var myScope = {
  "at_26":function() {alert("Inside 26"); return false}
} 
```

使用

```
<a href="#" onclick="return myScope.at_26()">Click</a><br /> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-13T09:27:06.467

您的代码中有多个问题。更正后的版本如下：

```
<script>
    window['at_26'] = function() {alert("Inside 26"); };
</script>
<BODY>
    <a href="javascript:window['at_26']()">Copy Text</a>
</BODY> 
```

# python - Python - 压缩 Ascii 字符串

> ID：12871775
> 
> 赞同：18
> 
> 时间：2012-10-13T09:26:07.840
> 
> 标签：python, algorithm, compression

我正在寻找一种压缩基于 ascii 的字符串的方法，有什么帮助吗？

我也需要解压。我试过 zlib 但没有帮助。

我该怎么做才能将字符串压缩成更小的长度？

代码：

```
def compress(request):
    if request.POST:
        data = request.POST.get('input')
        if is_ascii(data):
            result = zlib.compress(data)
            return render_to_response('index.html', {'result': result, 'input':data}, context_instance = RequestContext(request))
        else:
            result = "Error, the string is not ascii-based"
            return render_to_response('index.html', {'result':result}, context_instance = RequestContext(request))
    else:
        return render_to_response('index.html', {}, context_instance = RequestContext(request)) 
```

* * *

## 回答 #1

> 赞同：29
> 
> 时间：2012-10-13T11:39:09.097

使用压缩并不总是会减少字符串的长度！

考虑以下代码；

```
import zlib
import bz2

def comptest(s):
    print 'original length:', len(s)
    print 'zlib compressed length:', len(zlib.compress(s))
    print 'bz2 compressed length:', len(bz2.compress(s)) 
```

让我们在一个空字符串上试试这个；

```
In [15]: comptest('')
original length: 0
zlib compressed length: 8
bz2 compressed length: 14 
```

因此`zlib`产生额外的 8 个字符和`bz2`14 个字符。压缩方法通常在压缩数据前面放置一个“标题”，以供解压缩程序使用。此标头增加了输出的长度。

让我们测试一个单词；

```
In [16]: comptest('test')
original length: 4
zlib compressed length: 12
bz2 compressed length: 40 
```

即使您会减去标题的长度，压缩并没有使单词变短。那是因为在这种情况下几乎没有什么可压缩的。字符串中的大多数字符只出现一次。现在是一个简短的句子；

```
In [17]: comptest('This is a compression test of a short sentence.')
original length: 47
zlib compressed length: 52
bz2 compressed length: 73 
```

压缩输出再次*大于*输入文本。由于文字篇幅有限，里面的重复很少，所以不会很好地压缩。

您需要相当长的文本块才能真正进行压缩；

```
In [22]: rings = '''
   ....:     Three Rings for the Elven-kings under the sky, 
   ....:     Seven for the Dwarf-lords in their halls of stone, 
   ....:     Nine for Mortal Men doomed to die, 
   ....:     One for the Dark Lord on his dark throne 
   ....:     In the Land of Mordor where the Shadows lie. 
   ....:     One Ring to rule them all, One Ring to find them, 
   ....:     One Ring to bring them all and in the darkness bind them 
   ....:     In the Land of Mordor where the Shadows lie.'''

In [23]: comptest(rings)                       
original length: 410
zlib compressed length: 205
bz2 compressed length: 248 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-10-13T09:44:20.470

你甚至不需要你的数据是 ascii，你可以用任何东西给 zlib

```
>>> import zlib
>>> a='aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' # + any binary data you want
>>> print zlib.compress(a)
x�KL$
�
>>> 
```

你在这里可能想要什么 - 压缩数据是 ascii 字符串？我在这里吗？
如果是这样 - 你应该知道你有非常小的字母来编码压缩数据=>所以你会使用更多的符号。

例如，以 base64 编码二进制数据（您将获得 ascii 字符串），但您将为此多使用约 30% 的空间

# c# - C# 在 Base64 中解码大型/巨大的 XML / CDATA 上下文

> ID：12871779
> 
> 赞同：2
> 
> 时间：2012-10-13T09:26:37.177
> 
> 标签：c#, stream, base64, out-of-memory, buffer

我得到了一个非常大的 XML **(>1GB)**，其`CDATA`内容包含一个带有 76 个字符和 CRLF 的 base64，最后一个内容用“=”填充，没有 CRLF。

获得 base64 解码的最自然方法是使用 XmlReader reader.ReadElementContentAsBase64(...) 但在 100Mb 时停止工作。(=OOM)

我在寻找一种流式传输到 Base64 转换的方法后发现了这一点。

```
string Original = "foo bar, this is an example";

byte[] ToBase64; string Decoded;

using ( MemoryStream ms = new MemoryStream() )  using ( CryptoStream cs = new CryptoStream( ms, new ToBase64Transform(),
                                                CryptoStreamMode.Write ) )  using ( StreamWriter st = new StreamWriter( cs ) )  {
    st.Write( Original );
    st.Flush();
    ToBase64 = ms.ToArray();  }

using ( MemoryStream ms = new MemoryStream( ToBase64 ) )  using ( CryptoStream cs = new CryptoStream( ms, new FromBase64Transform(), 
                                                    CryptoStreamMode.Read ) )  using ( StreamReader sr = new StreamReader( cs ) )      {
    Decoded = sr.ReadToEnd(); }

Console.WriteLine( Original );  Console.WriteLine( Encoding.Default.GetString( ToBase64 ) );  Console.WriteLine( Decoded ); 
```

此示例有一个字符串作为输入，但我需要转换此代码以处理文件并从文件中的某个位置开始/停止读取。

> ```
>  CData Start                         CDataEnd
>                   |                                 |
>                   V                                 V 
> ```
> 
> [xml..[Envelope]...[Body]base64 with 76 char + CRLF + padding "="...[/Body]...[/Envelope]

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-18T07:04:16.330

这是我能创造的最好的.. int readbytes = 0;

```
 long bytesToRead = (CDataEnd - CDataStart);
                using (CryptoStream cryptoStremFromBase64 = new CryptoStream(context.OutStream, new FromBase64Transform(FromBase64TransformMode.IgnoreWhiteSpaces), CryptoStreamMode.Write))
                {

                    byte[] bytebuffer = new byte[bytesToRead % 10485760];
                    readbytes = context.InStream.Read(bytebuffer, 0, bytebuffer.Length);
                    cryptoStremFromBase64.Write(bytebuffer, 0, bytebuffer.Length);

                    while (context.InStream.Position < CDataEnd)
                    {
                        WriteToLog("Context.Instream.Position = " + context.InStream.Position.ToString(), context, startingTime);
                        byte[] bytebuffer2 = new byte[10485760];
                        readbytes = context.InStream.Read(bytebuffer2, 0, bytebuffer2.Length);
                        cryptoStremFromBase64.Write(bytebuffer2, 0, bytebuffer2.Length);
                    }

                    cryptoStremFromBase64.Flush();

                } 
```

Context.InStream 是带有 base64 上下文的 SOAP。Outstream 是从 base64 转换后的主体输出

有什么办法可以改善吗？

# javascript - JavaScript中window.setTimeout或window.setInterval要调用的函数列表？

> ID：12871785
> 
> 赞同：1
> 
> 时间：2012-10-13T09:27:03.823
> 
> 标签：javascript, settimeout, setinterval

> **可能重复：**
> [JavaScript - 是否可以查看所有当前计划的超时？](https://stackoverflow.com/questions/5817526/javascript-is-it-possible-to-view-all-currently-scheduled-timeouts)

有什么方法可以访问计划由`window.setTimeout()`or调用（或计划评估的字符串）的所有函数的列表`window.setInterval()`？

返回与最初调用这些函数时返回的对象相同的对象数组。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-13T09:33:06.117

不，该[`WindowTimers`](http://www.w3.org/TR/2011/WD-html5-20110525/timers.html)接口不提供任何方法来获取当前排队的任务列表：

```
[补充，NoInterfaceObject]
接口窗口定时器 {
  long setTimeout（在任何处理程序中，在可选的任何超时中，在任何...参数中）；
  void clearTimeout（长句柄）；
  long setInterval（在任何处理程序中，在可选的任何超时中，在任何...参数中）；
  void clearInterval（长句柄）；
};
Window 实现 WindowTimers；
```

您必须编写自己的代码才能跟踪处理程序。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-13T09:38:32.743

我无法回答您的问题（尽管我认为没有办法），但是根据您要执行的操作，您可以编写一个包装函数，然后将其添加到您控制或触发的数组中一个可以放置监听器的事件，或者...

当然，这只会让您控制自己设置计时器的功能。

```
var stack = new Array();

window.mySetTimeout = function (func, delay) {
   stack.push(func);
   window.setTimeout(func, delay); 
}

function doSomething () {
   return true;
}

window.mySetTimeout(doSomething, 500);
console.log(stack); 
```

编辑：我想我在那里有点慢。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-13T09:33:36.490

我不认为你可以，除非你为 setTimeout 和 setInterval 编写一个包装器并实现在内部调用它们并将函数推送到一个数组

# ajax - codeigniter 会话自动过期

> ID：12871789
> 
> 赞同：0
> 
> 时间：2012-10-13T09:27:28.960
> 
> 标签：ajax, codeigniter

我正在使用 codeigniter Web 应用程序框架。发生会话过期问题。在 codeigniter 中使用 ajax 时，codeigniter 的会话会自动过期。如何解决这个问题。请尽快给我回复。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-13T13:55:26.043

使用以下代码在 application/libraries 中创建一个 MY_Session.php 库，扩展 CI_Session。

```
class MY_Session extends CI_Session {
   /*
    * Do not update an existing session on ajax calls
    *
    * @access    public
    * @return    void
    */
    public function sess_update()
    {
        if ( ! (isset($_SERVER['HTTP_X_REQUESTED_WITH']) && strtolower($_SERVER['HTTP_X_REQUESTED_WITH']) == 'xmlhttprequest') )
        {
            parent::sess_update();
        }
    }
} 
```

此扩展将确保仅在调用不是 ajax 调用时才更新会话。

# jquery - jquery：.attr() 对子元素失败

> ID：12871790
> 
> 赞同：0
> 
> 时间：2012-10-13T09:27:30.850
> 
> 标签：jquery, jquery-attributes

看着这个我快疯了。我需要改变一个元素的属性，这是我之前做过很多次的事情。但它失败了。现在我什至无法让 jquery 向我展示它所具有的属性。它与 find() 返回的内容有关吗？

```
var c = new_photo_div.find('[class = photo]')[0];
alert(c);
alert(new_photo_div.attr('class'));
alert(c.attr('class')); 
```

第一个警报正确识别元​​素：Object HTMLImageElement

第二个警报正确地给了我 new_photo_div 的类。

第三个警报失败。没有警报。

我认为它应该说：照片

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-13T09:32:50.773

这是因为`c`不是 jQuery 对象。删除`[0]`以将 jQuery 对象分配给`c`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-13T09:32:26.667

您使用的是`new_photo_div.find('[class = photo]')[0]`Dom 元素而不是 jquery 对象。尝试这个

```
$(c).attr('class'); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-13T09:41:09.010

在您的浏览器控制台中，会出现错误，

反正attr是jQuery的一个方法，不要做[0]，

如果您使用的是较新的 jquery 库，您也可以使用 .prop 而不是 .attr。

# jquery - 即使在 Jquery 中选中，复选框也只返回 false

> ID：12871791
> 
> 赞同：0
> 
> 时间：2012-10-13T09:27:37.420
> 
> 标签：jquery

我在更改下拉选项时提交表单。提交表单后我重定向到同一页面。我使用以下功能提交表单：

```
function submitform(){
    //Below variables are checkbox value
    var addresscheck = $('#addressmatchedCheck').is(':checked');
    var rcnumbercheck =  $('#rcnumbermatched').is(':checked');
    var phonenumbercheck = $('#phonenumbercheck').is(':checked');
    var idproofcheck = $('#idproofcheck').is(':checked');
    var guarantoraddresscheck = $('#guarantoraddressmatchedCheck').is(':checked');
    var guarantoridcheck = $('#guarantoridproofcheck').is(':checked');
    var guarantorrelationcheck = $('#guarantorrelationshipCheck').is(':checked');
    if( addresscheck &  rcnumbercheck & phonenumbercheck & idproofcheck  & guarantoraddresscheck & guarantoridcheck & guarantorrelationcheck) {
                $('#statusid').val(1);
                alert($('#statusid').val() + "if");
    }
    else{
        $('#statusid').val(2);
        alert($('#statusid').val() + "else");
    }
    $('#fieldVerificationFormID').attr('method', 'POST'); 
    $('#fieldVerificationFormID').attr('action', '/mfi/api/1.0/client/ci/groups/member/fieldverification/insert');
    $('#fieldVerificationFormID').submit();
} 
```

我的问题是复选框即使被选中也只返回错误？第一次，即在表单提交之前它完全正常。问题是在表单提交之后。谁能解决我的问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-13T10:06:49.033

如果你这样命名你的复选框，它会起作用：

```
<input type="checkbox" id="addressmatchedCheck" checked="checked" />
<input type="checkbox" id="rcnumbermatched" checked="checked" />
<input type="checkbox" id="phonenumbercheck" checked="checked" />
<input type="checkbox" id="idproofcheck" checked="checked" />
<input type="checkbox" id="guarantoraddressmatchedCheck" checked="checked" />
<input type="checkbox" id="guarantoridproofcheck" checked="checked" />
<input type="checkbox" id="guarantorrelationshipCheck" checked="checked" /> 
```

演示：http: [//jsfiddle.net/Guffa/DqdgC/](http://jsfiddle.net/Guffa/DqdgC/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-13T09:41:59.643

这就是我使用的。我有一个用 isChecked() 函数扩展 JQuery 的函数。我很久以前在选择器中使用 :checked 之前做了这个。但它非常防弹。

```
jQuery.fn.isChecked = function() {
    var isChecked = false;
    this.each(function(){
        if (this.checked) {
            isChecked = true;
            return;
        }
    });
    return isChecked;
}

function check() {
    var addressCheck = $('#addressmatchedCheck').isChecked();
} 
```

# java-me - 如何减少 LWUIT 按钮文本的字体

> ID：12871792
> 
> 赞同：0
> 
> 时间：2012-10-13T09:27:37.103
> 
> 标签：java-me, lwuit, lwuit-form, lwuit-button

我创建了 3 个 LWUIT 按钮，如下所示：

```
b1.setText("Tab1");
b1.getStyle().setFont(Font.createSystemFont(Font.FACE_SYSTEM, Font.STYLE_PLAIN, Font.SIZE_SMALL));
b2 = new Button();
b2.setText("Tab2");
b2.getStyle().setFont(Font.createSystemFont(Font.FACE_SYSTEM, Font.STYLE_PLAIN, Font.SIZE_SMALL));
b3 = new Button();            
b3.setText("Tab3");
b3.getStyle().setFont(Font.createSystemFont(Font.FACE_SYSTEM,                  Font.STYLE_PLAIN, Font.SIZE_SMALL));

tabs.addTab(b1, tab1List);
tabs.addTab(b2, tab2List);
tabs.addTab(b3, tab3List);
form1.addComponent(BorderLayout.CENTER, tabs); 
```

我的要求是减少按钮文本的字体（Tab1，Tab2，Tab3），如果我使用上面的代码，我无法减少字体，任何人都可以帮助我吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-13T20:14:43.927

你知道你可以使用 LWUIT 资源编辑器来做这种事情吗？资源编辑器将有助于自定义界面中所有内容的样式。看看这个教程：

[资源编辑器教程](http://www.youtube.com/watch?v=uwZ98s4iiRU)

# android - 通过单击播放按钮重复播放音频时，MediaPlayer 给出错误（-38,0）

> ID：12871804
> 
> 赞同：1
> 
> 时间：2012-10-13T09:29:39.567
> 
> 标签：android, media-player

通过单击播放按钮重复播放音频时，MediaPlayer 给出错误（-38,0）。我正在尝试制作一个像音乐垫这样的应用程序，它第一次播放正常，但是当你点击多次时，它进入挂起模式并显示错误。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-13T10:40:35.783

媒体播放器缓冲区已满。[`SoundPool`](http://developer.android.com/reference/android/media/SoundPool.html)改为使用

```
 int SoundArr[] = { R.raw.birds_whistling, R.raw.come_bye,
            R.raw.cute_whistle, R.raw.kill_bill_whistle, R.raw.look_back,
             };

SoundPool mSoundPool;
HashMap<Integer,Integer> mSoundPoolMap;
AudioManager  mAudioManager;

 mSoundPool=(SoundPool) SoundImageAdaptor.mSoundPool;
 mSoundPoolMap =SoundImageAdaptor.mSoundPoolMap;//i'm using a grid view adaptor
 mAudioManager = (AudioManager)mContext.getSystemService(Context.AUDIO_SERVICE);
/* code to that ensures the sound plays even when media player buffer gets full*/
                 if(!(mSoundPoolMap.containsKey(position)))
                 addSound(position, SoundArr[position]);
                 playSound(position); 
```

您还可以查看此链接[如何在游戏中正确使用 SoundPool？](https://stackoverflow.com/questions/7437505/how-to-properly-use-soundpool-on-a-game)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-14T02:53:49.427

我假设您再次单击时只需再次准备具有相同来源的媒体播放器。您需要释放旧数据

```
mMediaPlayer.release(); 
```

或者如果它是相同的音频，最好使用

```
mMediaPlayer.seekTo(0) 
```

再次跳到起点，无需另一轮准备。

Soundpoool 非常适合小文件，但不能处理更大的音频文件。

**更新：**

实际上只是在我的一个应用程序中遇到了同样的错误：所以我的错误是

```
mMediaPlayer.stop();
mMediaPlayer.seekTo(0); 
```

这是不正确的，因为停止后您必须再次准备。正确的方法是

```
mMediaPlayer.pause();
mMediaPlayer.seekTo(0); 
```

官方文档一如既往的很好

[http://developer.android.com/reference/android/media/MediaPlayer.html](http://developer.android.com/reference/android/media/MediaPlayer.html)

# c# - C# 向量到四元数的旋转问题

> ID：12871807
> 
> 赞同：1
> 
> 时间：2012-10-13T09:30:15.437
> 
> 标签：c#, vector, quaternions

我有一个相当复杂的问题。本质上，我有一个跟踪玩家位置的对象，使用 LOS 算法始终飞向玩家当前位置。

然而，我遇到了一个问题，因为我试图让物体朝玩家的方向发射子弹。该对象使用纯矢量数学向玩家移动，但考虑到我的函数如何运作，子弹需要使用四元数。

那么，如果一个对象向玩家移动，我如何进行四元数旋转，子弹函数可以使用它来创建子弹也向玩家移动，其源是对象？

**我绘制跟随玩家的对象的功能：**

```
private void drawEnemy(GameTime gameTime)
{
    angle += 0.1f;

    velocity = Vector3.Normalize(xwingPosition - enemyPos) * 0.02f;

    enemyPos = enemyPos + velocity;
    enemyWorldMatrix = Matrix.CreateRotationY(angle) * Matrix.CreateTranslation(enemyPos);
    DrawObject(enemy, enemyWorldMatrix, viewMatrix, projectionMatrix);

    //enemyRotation = GetRotation(xwingPosition, enemyPos);

    //Quaternion additionalRot = Quaternion.CreateFromAxisAngle(new Vector3(0, -1, 0), -0.1f) * Quaternion.CreateFromAxisAngle(new Vector3(0, 1, 0), -0.1f);
    //enemyRotation *= additionalRot;

    double currentTime = gameTime.TotalGameTime.TotalMilliseconds;
    if (currentTime - enemyLastBulletTime > 1000)
    {
        EnemyBullet newBullet = new EnemyBullet();
        newBullet.position = new Vector3(enemyPos.X + 0.2f, 71, enemyPos.Z + 0.2f);
        newBullet.t = 0.01f;
        newBullet.proportion = newBullet.t / 120;
        newBullet.playerPosition = xwingPosition;
        newBullet.enemyPosition = enemyPos;
        newBullet.currentAccel = 0.025f;
        enemyBulletList.Add(newBullet);

        enemyLastBulletTime = currentTime;
    }
} 
```

如您所见，它使用矢量数学来跟踪并朝玩家移动。

如您所见，我正在尝试创建项目符号。子弹使用我希望我正确创建的四元数旋转。

从我编写的第一个函数创建子弹后，我的**函数会更新子弹的位置。**

```
private void UpdateEnemyBulletPositions()
{
    for (int i = 0; i < enemyBulletList.Count; i++)
    {
        EnemyBullet currentBullet = enemyBulletList[i];
        currentBullet.t += 0.01f;
        currentBullet.position = enemyPos + (Vector3.Normalize(currentBullet.playerPosition - currentBullet.enemyPosition) * currentBullet.proportion);
        MoveForward(ref currentBullet.position, currentBullet.rotation, 0.04f + (currentBullet.currentAccel));
        enemyBulletList[i] = currentBullet;

        BoundingSphere bulletSphere = new BoundingSphere(currentBullet.position, 0.05f);
        CollisionType colType = CheckCollision(bulletSphere);
        if (colType != CollisionType.None)
        {
            enemyBulletList.RemoveAt(i);
            i--;

            if (colType == CollisionType.Target)
                gameSpeed *= 1.05f;
        }
    }
} 
```

*xwingPosition*是玩家当前的位置。

*enemyPos*是跟随玩家的物体的当前位置

**这个问题显示在我刚刚准备的这个 youtube 剪辑中......**

[http://www.youtube.com/watch?v=PnkCVKdfN9Y](http://www.youtube.com/watch?v=PnkCVKdfN9Y)

我认为问题在于将 t 设置为总经过的毫秒数，而不是从 0 开始的计数器。问题是，我不知道每次制作子弹时如何从 0 开始计数器。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-13T11:18:55.910

两点 E 和 P（代表敌人和玩家的 3d 向量）之间的线性轨迹可以用以下公式计算：

```
T(t) = E + t*(P-E) 
```

其中 t 是一个从 0 到 1 变化的系数（用于子弹动画）。

这是您可以构建的基础。但是，您可能希望子弹的射程有限。如果是这种情况，您可以执行以下操作：

1.  计算子弹的方向：`D = P-E`
2.  计算它的长度：`len = sqrt(Dx^2 + Dy^2 + Dz^2)`。其中Dx为D等的x坐标，^2表示平方
3.  归一化方向向量`ND = (1/len)*D`。（只需将每个坐标除以`len`）

现在，在 中`ND`，您将有一个长度为 1 的向量，朝向敌人到玩家的方向。每次发射子弹时，都应该分配一个存储结构：

*   目前的`ND`
*   子弹发射`E`的位置（即敌人的当前位置）
*   计数器 t = 0

在游戏的每个循环中，对于每个“活着”的子弹（以下是伪代码）：

```
bullet.t += 1
if(bullet.t < maxNumberOfCyclesABulletLives){
  bPos = bullet.E + bullet.t * coefficient * bullet.ND // coefficient is the distance the bullet should move in each cycle
  if(bPos touches P){
    damageToPlayer()
    releaseTheStructureForThisBullet()
  }
  else drawBulletInPosition(bPos) // depending on your gaming library, you may have to erase it from the previous position
}
else{
  makeTheBulletExplode()
  releaseTheStructureForThisBullet() //or rather return it to a pool, where it can be reused
} 
```

顺便说一句，你的游戏看起来很酷。一旦你发布它，我希望有一个免费的副本;-)

# regex - 正则表达式挂起模式匹配

> ID：12871808
> 
> 赞同：2
> 
> 时间：2012-10-13T09:30:22.527
> 
> 标签：regex, perl

我在[这里](https://docs.google.com/open?id=0B_NC5BaULb_6cDhwNEduaDRTTm8)有输入文件（请提取它）和下面的代码。就在 print "pat=\n"; 之后 它挂在模式匹配中，而我在 Windows 任务管理器 Perl(v5.010000) 中看到占用 25% 的 CPU 时间：

```
use strict;
open FP, "<default.php" or die "can't read";

$/ = undef;    

my $content = <FP>;

while ( $content =~ /(['"])([^\s\x00-\x1f]{300,})\1/gs ) {
#looks like we've found base encoded string etc
    my $subpat = $2;
    print "pat=<$subpat>\n";
    if ( $subpat =~ m#(?:(....).{5,30}(?=\1)){50}#s ) {
      print "hello world";
    } else {
      die("");
    }
    exit;
} 
```

编辑：理想情况下，我想找出连续组（最多 50 个）中任何统一的字节重复模式（长度：4），其中每个组的大小可以是最大 4+30 字节和最小 4+5 字节。

例如（在每组大小 1 到 30 个字节中重复 '=>'）：

> 'cs'=>'捷克语','da'=>'丹麦语','nl'=>'荷兰语','fi'=>'芬兰语','fr'=>'法语','de'=> '德语','el'=>'希腊语',

该行：打印“pat=\n”；打印以下内容并挂起：

> pat=<,'hr'=>'克罗地亚语','cs'=>'捷克语','da'=>'丹麦语','nl'=>'荷兰语','fi'=>'芬兰语',' fr'=>'法语','de'=>'德语','el'=>'希腊语','hi'=>'印地语','it'=>'意大利语','ja'=>'日语','ko'=>'韩语','no'=>'挪威语','pl'=>'波兰语','pt'=>'葡萄牙语','ro'=>'罗马尼亚语','ru '=>'俄语','es'=>'西班牙语','sv'=>'瑞典语','ca'=>'加泰罗尼亚语','tl'=>'菲律宾语','iw'=>'希伯来语','id'=>'印尼语','lv'=>'拉脱维亚语','lt'=>'立陶宛语','sr'=>'塞尔维亚语','sk'=>'斯洛伐克语','sl'=>'斯洛文尼亚语','uk'=>'乌克兰语','vi'=>'越南语' ,'sq'=>'阿尔巴尼亚语','et'=>'爱沙尼亚语','gl'=>'加利西亚语','hu'=>'匈牙利语','mt'=>'马耳他语','th'= >'泰语','tr'=>'土耳其语','fa'=>'波斯语','af'=>'南非荷兰语','ms'=>'马来语','sw'=>'斯瓦希里语', 'ga'=>'爱尔兰','cy'=>'威尔士','be'=>'白俄罗斯','is'=>'冰岛','mk'=>'马其顿','yi'=> '意第绪语','hy'=>'亚美尼亚语','az'=>'阿塞拜疆','eu'=>'巴斯克','ka'=>'格鲁吉亚','ht'=>>

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-13T09:50:32.123

Perl 正则表达式并不是特别聪明。您的模式是通过回溯实现的 - 基本上，在每个决策点（例如，未锚定的开始或`{5,30}`），正则表达式将其状态保存在堆栈中，并以尽可能小的匹配继续前进。如果它被卡住，它会从堆栈中弹出一个级别。

通常这工作得很好，因为输入的大小是有限的，那里有文字或字符类匹配可以及早切断失败的匹配，并且嵌套变量重复指令的使用是有限的。此外，当不存在回溯时，正则表达式可以转换（理论上，尽管 perl 不这样做）为确定性有限自动机，可以有效地执行。

在这里，你有很多通配符匹配，一个大的输入字符串，加上一个有效的 50 次迭代循环，中间有一个 25 层分支，围绕它的循环试图找到匹配的开始和结束. 在最坏的情况下，您的正则表达式可能不得不回溯 25^50 次，这甚至没有考虑缺少开始或结束锚点。

所以你需要想出一个更聪明的方法来使这个算法工作。尝试只生成字符串的每个 4 个字符的子字符串，并计算出现次数。对于出现多次的每个子字符串，检查找到的匹配项的偏移量，看看您是否有您的模式。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-13T13:36:27.573

直观地查看回溯及其成本的一个好方法是使用[Regexp::Debugger为您的正则表达式建模](https://metacpan.org/module/Regexp%3a%3aDebugger)

Jeffrey Friedl 的“精通正则表达式”是一个很好的伴侣，它详细讨论了回溯。

# windows-runtime - ReSharper 单元测试运行器是否不支持 WinRT MSTest 框架？

> ID：12871810
> 
> 赞同：1
> 
> 时间：2012-10-13T09:30:55.293
> 
> 标签：windows-runtime, resharper, mstest

场景：我有 Visual Studio 2012、ReSharper 7.0.1，并且正在创建一个 WinRT (Metro) 应用程序。

我创建了一个新的单元测试项目，使用模板“单元测试项目（Windows Store App）”；我创建了这个测试：

```
[TestClass]
public class FirstTest
{
    [TestMethod]
    public void DummyTest()
    {
        Assert.AreEqual(1,1);
    }
} 
```

这在内置的测试运行程序中运行良好，但尝试使用 R# 运行它，我得到一个带有消息的消息框：

```
 No tests found in file. 
```

ReSharper 不支持这种情况吗？还是我错过了一些完全明显的东西？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-13T11:32:50.243

我在 Twitter 上收到了一位 R# 开发人员的回复：R# 7.0.1 不支持此功能。

他们正在努力 - 最新的 EAP 版本支持 WinRT 上的 MSTest。（或者至少，Build #5，2012 年 10 月 8 日，对我有用）。问题解决了。

# java - 使用 Scanner 时字符串比较失败

> ID：12871812
> 
> 赞同：3
> 
> 时间：2012-10-13T09:31:01.570
> 
> 标签：java, string, loops, input

我在网上看过，所有的教程/问题都指出了这一点。我不明白为什么这不起作用。任何帮助将非常感激。谢谢

```
import java.util.*;

public class test {
    static Scanner userInput = new Scanner(System.in);
    public static void main(String[] args) {
        String textEntered = userInput.next();
        if (textEntered == "hello") {
            System.out.println("Hello to you too!");
        }
    }
} 
```

我输入“你好”，但没有打印任何内容。我也试过 next() 和 nextLine();

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-10-13T09:32:10.877

有几件事：

1.  您在问题标题中说过“while 循环”，但`while`您的代码中没有循环。所以它只会检查你输入的第一个令牌，而不是后续的令牌。

2.  在 Java 中，您不使用`==`比较字符串，而是使用[`equals`](http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#equals%28java.lang.Object%29)方法（或有时[`equalsIgnoreCase`](http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#equalsIgnoreCase%28java.lang.String%29)）。

    改变

    ```
    if (textEntered == "hello") { 
    ```

    到

    ```
    if (textEntered.equals("hello")) { 
    ```

    运算符在`==`与对象实例（并且`String`实例是对象）一起使用时会检查两个操作数是否指向**同一个对象**，因此如果您使用它来比较具有相同字符序列的两个*不同对象，则它是不正确的。* `String`

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-13T09:38:11.837

在java中你不能通过`==`操作符比较字符串，你需要使用`stringOne.equals(stringTwo)`.

`==`将比较 ObjectLocation ，其中比较Java 中 Class`.equals()`提供的实际字符串`String`

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-10-13T09:36:09.727

它可能不起作用的原因是您没有比较实际的字符串值。

[http://www.leepoint.net/notes-java/data/strings/12stringcomparison.html](http://www.leepoint.net/notes-java/data/strings/12stringcomparison.html)

尝试使用类似的东西。

```
 if (textEntered.compareTo("hello") > 0) {
    System.out.println("Hello to you too!");
} 
```

这可能会帮助你。

# wordpress - 移动 wordpress 博客，将所有旧索引链接重定向到子域

> ID：12871814
> 
> 赞同：1
> 
> 时间：2012-10-13T09:31:08.227
> 
> 标签：wordpress, .htaccess, http, redirect, subdomain

我在“mydomain.com”上有一个 wordpress 博客，我想将上面的所有内容重定向到一个新的子域“old.mydomain.com”，这样我就可以从头开始使用静态博客 (scriptogr.am)。实现这一目标的最简单方法是什么？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-13T12:41:02.070

1.  创建文件夹`/old`并将所有内容移到那里。
2.  `/old`使用作为根文件夹创建子域
3.  打开`wp-login.php` 查找此行：在此处输入代码

    要求（目录名（**文件**）。'/wp-load.php'）；

并在下面插入以下行：

```
//FIXME: do comment/remove these hack lines. (once the database is updated)
update_option('siteurl', 'http://old.mydomain.com' );
update_option('home', 'http://old.mydomain.com' ); 
```

运行[http://old.mydomain.com/wp-login.php](http://old.mydomain.com/wp-login.php) 然后删除这些行。

继承人的更多[http://codex.wordpress.org/Moving_WordPress](http://codex.wordpress.org/Moving_WordPress)

# java - Java将整数分配给浮点数

> ID：12871815
> 
> 赞同：0
> 
> 时间：2012-10-13T09:31:23.043
> 
> 标签：java

我有整数 XY 和 Z

我有这个公式用于填充 float[][] 数组

公式是 x/(y*(x+z) 其中所有 3 都是整数

但是当计算的值为0时，这绝对不是我检查xy和z的值。

我该如何防止这种情况并改为显示浮点值？

提前谢谢了

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-13T09:32:24.190

您必须将整数（或只是第一个）转换为 float ：

```
float result = ((float)x)/(y*(x+z)); 
```

这将使`/`操作员从操作中产生一个浮点数。

不要忘记检查你没有被零除。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-13T09:58:51.663

尝试这个：

```
float a = x / (1.F * y * (x + z)); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-13T09:57:24.433

我假设你正在做这样的事情：

```
floats[i][j] =  x / (y * (x + z)); 
```

问题是 RHS 的计算是使用整数算术完成的……因为所有的值都是整数。特别是，除法是整数除法，这意味着（例如）如果`0 <= x < (y * (x + z)`，则表达式的计算结果最多为零。

解决方案是强制使用浮点运算执行除法。

问题的第二个方面是存在整数溢出的风险。特别是，`y * (x + z)`如果一个或多个输入太大，子表达式可能会溢出。这将导致该部分计算的值非常不正确。

溢出问题的解决方案是强制整个计算以浮点数进行……而不仅仅是最后的除法；例如

```
floats[i][j] =  x / (y * ((float) x + z)); 
```

最后，如果您希望结果准确（或尽可能准确），您可能应该使用`double`而不是`float`. 问题`float`在于它只表示最大精度为 24 位的数字。这大约是 7 位十进制数字。除非性能或存储很重要，否则`double`它是首选，因为它可以为您提供 53 位的精度。这大约是 14 位十进制数字。

# c# - 使用查询填充数据网格时出错

> ID：12871818
> 
> 赞同：1
> 
> 时间：2012-10-13T09:31:39.363
> 
> 标签：c#, sql-server-2008

我有一个`DataGridView`并将我的查询添加到此，执行时我的查询会引发此错误：

> *新查询返回的架构与基本查询不同*

这是我的查询：

```
 SELECT
               B.SettingKey, 'SysSettingsDep' AS TableName,
               B.SettingValue, B.SettingDesc
        FROM   SysCustomer AS A INNER JOIN
               SysSettingsDep AS B ON A.SettingKey = B.SettingKey
        UNION
        SELECT C.SettingKey, 'SysSettingsMachine' AS TableName,
               C.SettingValue, C.SettingDesc

        FROM    SysCustomer AS A INNER JOIN
                SysSettingsMachine AS C ON A.SettingKey = C.SettingKey
        UNION
        SELECT  D.SettingKey, 'SysSettings' AS TableName,
                D.SettingValue, D.SettingDesc
        FROM    SysCustomer AS A INNER JOIN SysSettings AS D ON
                A.SettingKey = D.SettingKey 
```

帮我解决这个问题，

tnx

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-13T15:54:37.507

很可能最初创建的 TableAdapter/DataTable 使用了不同的查询（基本查询），并且您正在使用的新查询似乎正在获取不同的结果模式，因此不匹配。

尝试为您的 DataSet 使用新的 TableAdapter 而不是旧的......

# cakephp - Cakephp 2.2 博客教程未定义常量错误

> ID：12871822
> 
> 赞同：1
> 
> 时间：2012-10-13T09:31:49.973
> 
> 标签：cakephp

已经复制粘贴了 cakephp 2.2 中博客教程中的代码，但它不起作用。得到以下错误。注意事项(8)：未定义常量Html的使用注意事项(8)：未定义常量Form的使用注意事项(8)：未定义常量帖子的使用注意事项(8)：未定义常量的使用全部注意事项(8)：未定义索引：全部如下是 PostsController 和 index.ctp 的代码。

```
<?php
class PostsController extends AppController {
public $helpers = array(’Html’, ’Form’);

public function index() {

  $this->set(’posts’, $this->Post->find(’all’));

}

public function view($id = null) {
      $this->Post->id = $id;
      $this->set(’post’, $this->Post->read());
  }
}
?>

index.ctp
 <h1>Blog posts</h1>
 <table>
 <tr>
 <th>Id</th>
 <th>Title</th>
 <th>Created</th>
 </tr>
 <?php foreach ($posts as $post): ?>
 <tr>
 <td><?php echo $post[’Post’][’id’]; ?></td>
 <td>
 <?php echo $post[’Post’][’title’]; ?>
 </td>
 <td><?php echo $post[’Post’][’created’]; ?></td>
 </tr>
 <?php endforeach; ?>
 <?php unset($post); ?>
 </table> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-13T09:42:07.070

不要使用 ' 因为它们不是 php 语法（仅在 mysql 中使用）

使用 ' 代替（简单的撇号）：

```
$this->set('posts', $this->Post->find('all')); 
```

此外`<?php unset($post); ?>`是不必要的，你应该转义你的输出`echo h($post[’Post’][’title’])`，你应该在你的 php 文件中省略结束标记`?>`（而不是在视图文件中）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-07-19T16:34:43.130

我也有一段时间遇到这个问题。要为*OS X Mavericks*用户解决这个潜在问题：

Mavericks 附带一个使用智能引号的设置，它使所有**简单的撇号**变成**开始和结束撇号**。如果您进入*System Preferences->Keyboard->Text->UNCHECK Use Smart quotes and dashes*，您将能够编写一个普通的简单撇号。这为我解决了这个问题。

请注意，在 Mavericks 中，即使是 textedit 也会将您的撇号从简单的 on 编辑为开头和结尾的撇号。

# jquery - 重定向到哈希 URL

> ID：12871827
> 
> 赞同：3
> 
> 时间：2012-10-13T09:32:38.470
> 
> 标签：jquery, ajax, wordpress, redirect

我正在 wordpress 上建立一个带有 hashchange 的网站，一切正常。它只是将一个single.php 模板文件加载到一个div 中。

问题是我仍然可以访问我的单个 url (http://www.mydomain.com/my-single-post)。由于它没有任何头部和样式标签，我不希望人们去那里。谷歌也选择了直接链接，因为我使用 href 属性将内容加载到 div 中。

所以我的问题是：

如果有人点击论坛中的链接，例如[http://www.mydomain.com/my-single-post](http://www.mydomain.com/my-single-post)，是否可以立即将他重定向到[http://www.mydomain.com/#my-single-发布](http://www.mydomain.com/#my-single-post)？我研究过它与.htaccess 有关，但我也有页面，我不希望页面名称前面有哈希。

## 编辑

我有一个小更新。如果此代码从 url 中删除 hash-tag 并重定向到非哈希 url，那么如何将这段代码反转？

```
var current_hash = location.hash;
        current_hash = current_hash.replace(/#/,'');
    if(current_hash.length>1){
        // we have something after the #. redirect as if the # wasn't there.
        window.location.href=current_hash;
    } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-23T15:00:03.523

好的，经过反复试验，我自己管理了它！

这就是我所追求的：

```
 // If there's a hash in the URL, do nothing
  if(window.location.hash) {

  } else {
  // If there isn't a '#' sign in the URL, add one, and redirect to the hash URL.
    var path = window.location.pathname.split("/")[1];
     window.location.replace('http://' + top.location.host + '#' + path);
  } 
```

可能还有其他方法可以做到这一点，即。不需要 if / else 语句，只检查是否有哈希。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-13T09:39:09.700

我对 Wordpress 不是很熟悉，但它不是带有内置工具来为您的帖子配置所需的 URL 格式吗？我首先要看的地方是那里，并使用 URL 中的哈希符号设置符合您需要的格式。

您的另一种选择是维护自己的 htaccess，但由于您在根目录中有一些页面应该重定向到带有哈希符号的 URL，而有些则不应该，您必须手动为每个页面创建规则恐怕，从长远来看，这会有点痛苦。

我相信这是 Wordpress 在幕后为您所做的，这会更方便，但我不确定。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-10-13T09:37:55.410

如果请求不是 AJAX，您可以使用 PHP 标头在 my-single-post 页面上简单地进行重定向。您也可以在获取请求中将 AJAX 变量传递给 my-single-post

```
<?php

if($_GET["ajaxVar"]!=1){
header("Location: http://www.mydomain.com/#my-single-post");
}
?> 
```

# objective-c - 设备上的核心动画访问错误

> ID：12871828
> 
> 赞同：1
> 
> 时间：2012-10-13T09:32:49.630
> 
> 标签：objective-c, xcode, core-animation, automatic-ref-counting, exc-bad-access

我正在尝试使用 CAlayers 制作逐帧动画。我正在使用本教程[http://mysterycoconut.com/blog/2011/01/cag1/](http://mysterycoconut.com/blog/2011/01/cag1/)执行此操作，但一切都适用于禁用 ARC，当我尝试使用 ARC 重写代码时，它可以在模拟器上完美运行，但在设备上我有一个坏的存取存储器。

层类接口

```
#import <Foundation/Foundation.h>
#import <QuartzCore/QuartzCore.h>

@interface MCSpriteLayer : CALayer {
    unsigned int sampleIndex;
}

// SampleIndex needs to be > 0
@property (readwrite, nonatomic) unsigned int sampleIndex; 

// For use with sample rects set by the delegate
+ (id)layerWithImage:(CGImageRef)img;
- (id)initWithImage:(CGImageRef)img;

// If all samples are the same size 
+ (id)layerWithImage:(CGImageRef)img sampleSize:(CGSize)size;
- (id)initWithImage:(CGImageRef)img sampleSize:(CGSize)size;

// Use this method instead of sprite.sampleIndex to obtain the index currently displayed on screen
- (unsigned int)currentSampleIndex; 

@end 
```

层类实现

```
@implementation MCSpriteLayer

@synthesize sampleIndex;

- (id)initWithImage:(CGImageRef)img;
{
    self = [super init];
    if (self != nil)
    {
        self.contents = (__bridge id)img;
        sampleIndex = 1;
    }

    return self;
}

+ (id)layerWithImage:(CGImageRef)img;
{
    MCSpriteLayer *layer = [(MCSpriteLayer*)[self alloc] initWithImage:img];
    return layer ;
}

- (id)initWithImage:(CGImageRef)img sampleSize:(CGSize)size;
{
    self = [self initWithImage:img];  // IN THIS LINE IS BAD ACCESS
    if (self != nil)
    {
        CGSize sampleSizeNormalized = CGSizeMake(size.width/CGImageGetWidth(img), size.height/CGImageGetHeight(img));
        self.bounds = CGRectMake( 0, 0, size.width, size.height );
        self.contentsRect = CGRectMake( 0, 0, sampleSizeNormalized.width, sampleSizeNormalized.height );
    }

    return self;
}

+ (id)layerWithImage:(CGImageRef)img sampleSize:(CGSize)size;
{
    MCSpriteLayer *layer = [[self alloc] initWithImage:img sampleSize:size];
    return layer;
}

+ (BOOL)needsDisplayForKey:(NSString *)key;
{
    return [key isEqualToString:@"sampleIndex"];
}

// contentsRect or bounds changes are not animated
+ (id < CAAction >)defaultActionForKey:(NSString *)aKey;
{
    if ([aKey isEqualToString:@"contentsRect"] || [aKey isEqualToString:@"bounds"])
        return (id < CAAction >)[NSNull null];

    return [super defaultActionForKey:aKey];
}

- (unsigned int)currentSampleIndex;
{
    return ((MCSpriteLayer*)[self presentationLayer]).sampleIndex;
}

// Implement displayLayer: on the delegate to override how sample rectangles are calculated; remember to use currentSampleIndex, ignore sampleIndex == 0, and set the layer's bounds
- (void)display;
{
    if ([self.delegate respondsToSelector:@selector(displayLayer:)])
    {
        [self.delegate displayLayer:self];
        return;
    }

    unsigned int currentSampleIndex = [self currentSampleIndex];
    if (!currentSampleIndex)
        return;

    CGSize sampleSize = self.contentsRect.size;
    self.contentsRect = CGRectMake(
        ((currentSampleIndex - 1) % (int)(1/sampleSize.width)) * sampleSize.width, 
        ((currentSampleIndex - 1) / (int)(1/sampleSize.width)) * sampleSize.height, 
        sampleSize.width, sampleSize.height
    );
}

@end 
```

我在 viewDidAppear 上创建图层并通过单击按钮开始动画，但是在初始化之后我得到了一个错误的访问错误

```
 -(void)viewDidAppear:(BOOL)animated
{

    [super viewDidAppear:animated];
    NSString *path = [[NSBundle mainBundle] pathForResource:@"mama_default.png" ofType:nil];
    CGImageRef richterImg = [UIImage imageWithContentsOfFile:path].CGImage;
    CGSize fixedSize = animacja.frame.size;
    NSLog(@"wid: %f, heigh: %f", animacja.frame.size.width, animacja.frame.size.height);
    NSLog(@"%f", animacja.frame.size.width);

    richter = [MCSpriteLayer layerWithImage:richterImg sampleSize:fixedSize];
    animacja.hidden = 1;
    richter.position = animacja.center;

    [self.view.layer addSublayer:richter];
}

-(IBAction)animacja:(id)sender
{
    if ([richter animationForKey:@"sampleIndex"])
    {NSLog(@"jest");
    }
    if (! [richter animationForKey:@"sampleIndex"])
    {
    CABasicAnimation *anim = [CABasicAnimation animationWithKeyPath:@"sampleIndex"];
    anim.fromValue = [NSNumber numberWithInt:0];
    anim.toValue = [NSNumber numberWithInt:22];
    anim.duration = 4;
    anim.repeatCount = 1;

    [richter addAnimation:anim forKey:@"sampleIndex"];
    }

} 
```

你知道如何解决它吗？非常感谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-13T13:40:03.357

## TL;博士

你的崩溃来自一个悬空`CGImageRef`。

您可以通过例如更改线路来修复它

```
richter = [MCSpriteLayer layerWithImage:richterImg sampleSize:fixedSize]; 
```

至

```
richter = [MCSpriteLayer layerWithImage:[[UIImage imageNamed:@"mama_default"] CGImage] sampleSize:fixedSize]; 
```

或许多等效选项。

## 解释

为了解释发生了什么，我将稍微修改并注释您的实现`viewWillAppear:`：

```
- (void)viewDidAppear:(BOOL)animated
{

    [super viewDidAppear:animated];

    // 1
    UIImage *richterImage = [UIImage imageNamed:@"mama_default"];
    // 2
    CGImageRef backingImage = richterImage.CGImage;
    CGSize fixedSize = animacja.frame.size;

    // 3
    richter = [MCSpriteLayer layerWithImage:backingImage sampleSize:fixedSize];
    animacja.hidden = 1;
    richter.position = animacja.center;

    [self.view.layer addSublayer:richter];
} 
```

让我们来看看评论：

1.  你向`UIImage`班级索要一张图片，它通过返回一个*非拥有的*引用来回答。
2.  您向该图像询问其原始后备存储 (the )，它通过返回对该存储的内存的*非拥有*`CGImage`引用来回答。请注意，这**不是**一个 Objective-C 对象！
****   您使用对该后备存储的*非拥有*引用作为创建精灵图层的参数。***

 ***在手动引用计数下，步骤 1 中的对象位于最近的封闭自动释放池中。因为您在代码附近的任何地方都看不到任何*对象，所以**隐含地**保证该对象比您的`viewDidAppear:`*.

在 ARC 下，情况并非如此：
因为在步骤 1 中返回的对象在步骤 2 之后从未被引用，所以该对象**可能会在步骤 2 之后离开**任何行，这是对它的最后引用。并且因为后备存储**不是一个 Objective-C 对象，所以在没有***明确*声明对它感兴趣的情况下（通过`CGImageRetain`例如）在任何时候引用它，**一旦它变得无效，它就会`UIImage`变得无效**。

因为在 ARC 下，编译器会插入对*功能等效*的特殊函数的调用`retain`，`release`并且是*常量*`autorelease`，它可以优化一些冗余的保留/（自动）释放对，从而最大限度地减少消息传递开销，以及某些特定的生命周期。对象。

 *然而，它对这些优化的*积极*程度是一个实现细节，并且取决于许多参数。因此，当您调用`layerWithImage:sampleSize:`, （它声称在 CGImageRef 中`self.contents = (__bridge id)img;`）时，您传入的第一个参数*可能*是也*可能不是*指向无效内存的指针，具体取决于编译器优化代码的积极程度。****

# dependency-injection - @PersistenceContext 无法解析为类型

> ID：12871833
> 
> 赞同：-1
> 
> 时间：2012-10-13T09:33:23.910
> 
> 标签：dependency-injection, annotations, javabeans, managed-bean

我正在运行一个代码，其中有一个依赖项`@PersistenceContext`和一个字段`private EntityManager em`；两者都无法解析为一个类型，这个错误是什么意思，我该如何解决？
代码在这里：

```
package org.jboss.tools.examples.util;    

import java.util.logging.Logger;     
import javax.enterprise.context.RequestScoped;     
import javax.enterprise.inject.Produces;     
import javax.enterprise.inject.spi.InjectionPoint;     
import javax.faces.context.FacesContext;     

/**    
 * This class uses CDI to alias Java EE resources, such as the persistence context, to     
CDI beans    
 *     
 * <p>    
 * Example injection on a managed bean field:    
 * </p>    
 *     
 * <pre>    
 * &#064;Inject    
 * private EntityManager em;    
 * </pre>    
 */    
public class Resources {    
   // use @SuppressWarnings to tell IDE to ignore warnings about field not being         referenced directly    
   @SuppressWarnings("unused")    
   @Produces    
   @PersistenceContext    
   private EntityManager em;    

   @Produces    
   public Logger produceLog(InjectionPoint injectionPoint) {    
      return Logger.getLogger(injectionPoint.getMember().getDeclaringClass().getName());    
   }    

   @Produces    
   @RequestScoped    
   public FacesContext produceFacesContext() {    
      return FacesContext.getCurrentInstance();    
   }    
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-13T09:39:12.633

您缺少 PersistenceContext 注释和 EntityManager 的导入语句

```
import javax.persistence.PersistenceContext;
import javax.persistence.EntityManager; 
```

# c++ - 如何从在 TBB 的另一个线程中执行的被调用函数获取返回值？

> ID：12871836
> 
> 赞同：4
> 
> 时间：2012-10-13T09:33:41.193
> 
> 标签：c++, multithreading, return-value, function-pointers, tbb

在代码中：

```
 #include <tbb/tbb.h>

    int GetSomething()
    {
        int something;
        // do something
        return something;
    }

    // ...
    tbb::tbb_thread(GetSomething, NULL);
    // ... 
```

这里`GetSomething()`通过它的指针在另一个线程中被调用。但是我们可以从中获得返回值`GetSomething()`吗？如何？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-13T09:44:07.417

您可以使用按引用传递从线程中获取值

```
#include <tbb/tbb.h>

void GetSomething(int *result)
{

    result= // do something
}

// ...
int result;
tbb::tbb_thread(GetSomething, &result);
tbb.join();
//use result as you like 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-13T09:44:19.050

如果你绑定了 C++03 和 tbb，你必须使用 Outputarguments，这意味着你必须重写你的函数。

例如：

```
void GetSomething(int* out_ptr);

int var = 23;

tbb::tbb:thread(GetSomething, &var); // pay attention that this doesn't run of scope 
```

或者`boost::ref`你可以这样做：

```
void GetSomething(int& out);

int var = 23;
tbb::tbb_thread(GetSomething, boost::ref(var)); // pay attention here, too 
```

如果您可以使用 C++11，则使用以下命令可以简化任务`futures`：

例如：

```
std::future<int> fut = std::async(std::launch::async, GetSomething);

....

// later

int result = fut.get(); 
```

在这里你不必重写任何东西。

# c# - 为什么我不能从 GridViewRowPresenterBase 派生？

> ID：12871839
> 
> 赞同：3
> 
> 时间：2012-10-13T09:34:18.940
> 
> 标签：c#, .net, wpf

为什么我不能从 GridViewRowPresenterBase 派生？

```
public class GridViewRowPresenterEx : GridViewRowPresenterBase
{
    protected override void OnColumnPropertyChanged(GridViewColumn c, string s)
    {
    }
} 
```

我收到以下编译错误：

> 'GridViewRowPresenterEx' 没有实现继承的抽象成员 System.Windows.Controls.Primitives.GridViewRowPresenterBase.OnColumnPropertyChanged(System.Windows.Controls.GridViewColumn, string)'
> 
> 'GridViewRowPresenterEx.OnColumnPropertyChanged(System.Windows.Controls.GridViewColumn, string)'：找不到合适的方法来覆盖

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-13T09:47:02.847

[GridViewRowPresenterBase](http://msdn.microsoft.com/en-us/library/system.windows.controls.primitives.gridviewrowpresenterbase.aspx)`OnColumnPropertyChanged()`暴露的方法是（可以在源代码中[看到](http://reflector.webtropy.com/default.aspx/Dotnetfx_Win7_3@5@1/Dotnetfx_Win7_3@5@1/3@5@1/DEVDIV/depot/DevDiv/releases/Orcas/NetFXw7/wpf/src/Framework/System/Windows/Controls/Primitives/GridViewRowPresenterBase@cs/1/GridViewRowPresenterBase@cs)）。`internal abstract`

不幸的是，[没有办法](https://stackoverflow.com/q/6266229/464709)`internal abstract`在其原始程序集之外实现方法。看起来`GridViewRowPresenterBase`被设计为只能由`PresentationFramework.dll`.

# c++ - 未显式引用对象的全局对象构造函数在最终二进制文件中被丢弃 - LD

> ID：12871846
> 
> 赞同：1
> 
> 时间：2012-10-13T09:35:22.633
> 
> 标签：c++, constructor, ld, firmware

我正在为 LD 编写一个链接器脚本来收集所有 .init_array 部分，以便调用固件中声明的所有全局对象的构造函数。

除非我在静态库中有一个未引用的全局对象，否则一切正常。在这种情况下，尽管我使用了如下的 KEEP 宏，但没有明确引用该对象，它在最终的二进制文件中被丢弃。（无论我是否使用 -gc-sections ）。

如果相同的未引用对象被放置在静态库之外，从而被链接描述文件的通用行捕获，它确实会被包含在内。

```
.init_array :
{
   _init_array_start = .;
   KEEP (*core*:*(SORT(.init_array*)))
   KEEP (*core*:*(.init_array))
   KEEP (*(SORT(.init_array.*)))
   KEEP (*(.init_array))
   PROVIDE (_init_array_end = .);
} > flash 
```

该库名为 libcore.a。在 libcore.a 中明确引用的其他对象也被包括在内。

任何有关如何解决此问题的帮助将不胜感激。

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-13T10:06:48.550

静态库实际上是一个`ar`包含多个`.o`文件和一个索引的存档。`.o`该索引用于根据主程序引用的符号来确定要链接的文件。因此，如果没有引用文件中的符号*，`.o`链接*器甚至不会*加载*有问题的`.o`文件，因此链接器脚本永远不会得到它。

假设您使用的是 GNU LD，您可以使用`ld`'`-r`标志将多个`.o`文件组合成一个`libcore.o`文件，并将其用作`.o`存档中的唯一文件。这样做的缺点是您可能会引入不必要的代码，否则这些代码会通过跳过`.o`文件而被忽略。或者，您还可以使用静态构造函数`.o`将存档中所有其他文件的虚拟引用添加到文件中。`.o`

# android - 同时具有 ActionBar 和自定义 TitleBar 时应用程序崩溃

> ID：12871849
> 
> 赞同：2
> 
> 时间：2012-10-13T09:35:45.677
> 
> 标签：android, android-actionbar

我知道应用程序崩溃是因为我的自定义 titleBar 和 ActionBar 之间的冲突。但我无法理解的是为什么即使我没有实现 CustomView 也无法使用 ActionBar.newTab().setText(categoryList[0])

这是我的自定义标题栏样式：

```
 <resources>
  <style name="CustomWindowTitleBackground">
    <item name="android:background">#323331</item>
  </style>

  <style name="CustomTheme" parent="android:Theme">
    <item name="android:windowTitleSize">35dip</item>
    <item name="android:windowTitleBackgroundStyle">@style/CustomWindowTitleBackground</item>
  </style>
 </resources>

 /*** 
```

我的活动中的代码：

```
public class TestingEndlessAdapterFragmentDemo extends Activity implements
    ActionBar.TabListener {
private TestingEndlessAdapterFragment simple = null;
private TestingEndlessAdapterCustomTaskFragment customTask = null;

private static enum Tabs {
    TAB_FUN, TAB_MOVIE, TAB_STANDUP, TAB_MUSIC;
}

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);

    getWindow().requestFeature(Window.FEATURE_ACTION_BAR); 

    final ActionBar bar = getActionBar();
    // titlebar_title.setText("Prefeerences");
    // titlebar_icon.setImageResource(R.drawable.titlebar_list);

    bar.setNavigationMode(ActionBar.NAVIGATION_MODE_TABS);

    String[] categoryList = new String[4];

    categoryList = getResources().getStringArray(R.array.category_name);

    bar.addTab(bar.newTab().setText(categoryList[0]).setTabListener(this)
            .setTag(Tabs.TAB_FUN));
    bar.addTab(bar.newTab().setText(categoryList[1]).setTabListener(this)
            .setTag(Tabs.TAB_MOVIE));
    bar.addTab(bar.newTab().setText(categoryList[2]).setTabListener(this)
            .setTag(Tabs.TAB_STANDUP));
    bar.addTab(bar.newTab().setText(categoryList[3]).setTabListener(this)
            .setTag(Tabs.TAB_MUSIC));

}

public void onTabReselected(Tab tab, FragmentTransaction ft) {
    onTabSelected(tab, ft);
}

public void onTabSelected(Tab tab, FragmentTransaction ft) {
    switch ((Tabs) tab.getTag()) {
    case TAB_FUN:
        showSimple(ft);
        break;
    case TAB_MOVIE:
        showCustom(ft);
        break;
    case TAB_STANDUP:
        showCustom(ft);
        break;
    case TAB_MUSIC:
        showCustom(ft);
        break;
    }
}

public void onTabUnselected(Tab tab, FragmentTransaction ft) {
    // no-op
}

private void showSimple(FragmentTransaction ft) {
    if (simple == null) {
        simple = new TestingEndlessAdapterFragment();
    }

    ft.replace(android.R.id.content, simple);
}

private void showCustom(FragmentTransaction ft) {
    if (customTask == null) {
        customTask = new TestingEndlessAdapterCustomTaskFragment();
    }

    ft.replace(android.R.id.content, customTask);
} 
```

}

一切正常，除了 setText()

# android - 如何控制 ICS 中溢出菜单的使用

> ID：12871850
> 
> 赞同：1
> 
> 时间：2012-10-13T09:36:01.043
> 
> 标签：android

我想控制 ICS 中溢出菜单的使用。我也参考了这个[链接在我的 onCreateView() 中尝试了这段代码](https://stackoverflow.com/questions/9286822/how-to-force-use-of-overflow-menu-on-devices-with-menu-button)

```
 try {
            ViewConfiguration config = ViewConfiguration.get(this);
            Field menuKeyField = ViewConfiguration.class.getDeclaredField("sHasPermanentMenuKey");
            if(menuKeyField != null) {
                menuKeyField.setAccessible(true);
                menuKeyField.setBoolean(config, false);
            }
        } catch (Exception ex) {
            // Ignore
        } 
```

请帮助我在哪里出错以及如何使用它。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-13T11:11:20.510

> 我错了

在您的应用程序中包含此代码是错误的。

> 我如何使用它

你不应该使用它。请允许溢出菜单正常运行。

首先，您的代码可能无法在所有设备和 Android 版本上运行。

更重要的是，您正在做的是告诉您的用户您认为您比他们更重要。

每个设备，基于操作系统版本和硬件，都有触发菜单的方法：`...`操作栏中的提示或设备的 MENU 按钮。用户希望*他们设备上的应用程序之间保持一致*。对于设备具有 MENU 按钮的用户，他们希望*在所有应用程序*中使用 MENU 按钮来调出可用的菜单。您试图通过破坏他们的 MENU 按钮来伤害这些用户。请不要这样做。请允许您的应用程序的行为方式与这些用户设备上的其他应用程序相同，其中 MENU 按钮会显示溢出菜单。

* * *

**更新**

从 Android 4.4 开始，无论设备是否具有 MENU 按钮，操作栏中都会出现溢出 ... [我在博客上写了更多关于此的内容](http://commonsware.com/blog/2013/12/09/menu-key-dead-again.html)。

# ios - 适用于 iPhone 的 Foursquare 聊天和消息 API

> ID：12871853
> 
> 赞同：1
> 
> 时间：2012-10-13T09:36:13.627
> 
> 标签：ios, foursquare

我正在为我的应用程序使用 Foursquare API，并且我能够访问附近的所有地点、朋友和徽章。现在我正在寻找任何消息或聊天 API，通过它我可以与foursquare 朋友聊天，但找不到。我正在考虑创建一个用于聊天目的的网络服务。这是个好主意吗？或者请告诉我是否有任何 API。

谢谢 ！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-15T17:53:54.970

目前没有用于与foursquare 朋友发送消息或聊天的API。你当然可以建立这样的网络服务，只要你遵守相关的隐私政策（https://developer.foursquare.com/overview/community）

# c++ - SFML pollEvent for 1.6（什么是等效的）

> ID：12871854
> 
> 赞同：1
> 
> 时间：2012-10-13T09:36:25.967
> 
> 标签：c++, sfml

[http://www.sfml-dev.org/documentation/1.6/classsf_1_1RenderWindow.php](http://www.sfml-dev.org/documentation/1.6/classsf_1_1RenderWindow.php)

根据 1.6 文档，渲染窗口没有 pollEvent

我想知道等价物是什么

[http://www.sfml-dev.org/documentation/2.0/classsf_1_1Window.php](http://www.sfml-dev.org/documentation/2.0/classsf_1_1Window.php)

它在事件堆栈顶部弹出事件并返回它

谢谢你

[：

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-13T09:39:29.853

显然是 GetEvent() ！○：

# c - 运行时错误 - POSIX 线程

> ID：12871856
> 
> 赞同：0
> 
> 时间：2012-10-13T09:37:10.850
> 
> 标签：c, multithreading, posix

我正在尝试使用 pthread 库创建线程。使用 gcc -o -pthread file file.c 编译很好

但是当我运行代码时，我遇到了分段错误。我不确定问题是什么。我试图执行教科书中给出的代码来尝试学习，但我现在迷路了。任何人都可以帮忙吗？代码如下...非常基本，是的，但请帮帮我。

```
#include<stdio.h>
#include<pthread.h>

int sum;
void *runner(void *param);

int main (int argc, char *argv[])
{
    pthread_t tid;
    pthread_attr_t attr;
    //printf("Am I here..?\n");
    if (argc!=2)
    {
        fprintf(stderr, "usage: a.out ...\n");
        return -1;
    }

    if (atoi(argv[1] < 0))
    {
        fprintf(stderr, "%d must be >= 0\n", atoi(argv[1]));
        return -1;
    }

    pthread_attr_init(&attr);
    pthread_create(&tid, &attr, runner, argv[1]);
    pthread_join(tid, NULL);

    printf("sum = %d\n", sum);
}

void *runner(void *param)
{
    extern int sum;
    int i, upper=atoi(param);
    sum=0;

    for(i=1; i<= upper; i++)
        sum+=i;

    pthread_exit(0);
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-13T09:47:21.943

请打开并仔细检查编译器的警告。

你不包括`stdlib.h`，所以`atoi`是未声明的，并且你没有`return`从任何东西中获取任何东西，`runner`但你已经将它声明为返回 a `void*`。

但主要问题是这一行：

```
if (atoi(argv[1] < 0)) 
```

`argv[1] < 0`将评估为`0`or `1`，这不是您想要作为`atoi`. 你想要的是：

```
if (atoi(argv[1]) < 0) 
```

如果启用了正确的警告，您的编译器很可能会指出所有这些问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-13T09:46:45.080

您放错了支架：

改变：

```
if (atoi(argv[1] < 0)) 
```

至：

```
if (atoi(argv[1]) < 0) 
```

# php - oop php 构造函数访问修饰符，使用哪一个？

> ID：12871857
> 
> 赞同：0
> 
> 时间：2012-10-13T09:37:14.467
> 
> 标签：php, constructor, visibility

我刚刚开始尝试使用 OO PHP，但是有一个基本原理我不太了解，也没有找到太多关于它的信息。

当创建一个`__construct()`方法时，你为什么希望它是`public`，当它专门为该类构造一个构造函数时？你什么时候想在类外调用构造函数？

对我来说，使用受保护的构造函数似乎是一种好习惯，对吧？

我知道这是基本的面向对象的东西，但我没有直接找到任何信息，特别是针对构造函数。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-13T09:41:47.673

( `__construct`not "__constructor") 方法是在您这样做时调用的方法`new MyClass()`，即在您实例化类时。构造函数*必须*是`public`，除非您只想从自身内部实例化类。如果是后者，您至少需要一个`public static`可以调用的其他方法，该类将在其中实例化自身，否则您无法创建它的任何实例。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-13T09:40:12.280

每当您创建一个类的新实例时，都会调用构造函数。如果构造函数不是公共的，则没有其他代码可以创建该类的实例。

因此，如果要创建类的实例，请将构造函数公开。

构造函数始终只是定义它的类的一部分，我不明白您所说的*“当它专门是该类的构造函数时”*是什么意思。

* * *

**澄清：**

调用构造函数的唯一方法是使用`new Class()`. 没有其他方法可以调用它。`__construct`是一种[魔术方法](http://php.net/manual/en/language.oop5.magic.php)，没有办法显式调用魔术方法。

# php - php Closure 对象如何读取呢？

> ID：12871859
> 
> 赞同：5
> 
> 时间：2012-10-13T09:37:20.727
> 
> 标签：php, closures

我有这个代码，但我被卡住了......

```
$my_var = function (){

  return array('hello you');
};

var_dump($my_var); // returns object(Closure)#2 (0) { } 
```

我该怎么办`echo $my_var`？

我会假设它会是`echo $my_var[0]`；但这不起作用。

`Fatal error: Cannot use object of type Closure as array in ...`

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-10-13T09:42:42.477

闭包是一个函数。因此你必须这样称呼它：

```
$myvar(); 
```

由于 php5.4 具有数组访问权限：

```
 echo   $myvar()[0]; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-13T09:41:46.920

$my_var 代表一个函数。您需要先调用它以获取返回值。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-10-13T09:41:09.977

尝试 print_r 它将打印数组或对象

```
print_r($my_var); 
```

# web-applications - 为什么 tomcat 7 无法从 WEB-INF/lib 加载 gcm-server.jar？

> ID：12871860
> 
> 赞同：2
> 
> 时间：2012-10-13T09:37:41.627
> 
> 标签：web-applications, servlets, tomcat7

我正在开发一个简单的 Servlet，用于向 Android 设备发送推送通知。这是发送消息的代码部分：

```
Sender sender = new Sender(API_KEY);
ArrayList<String> devicesList = new ArrayList<String>();
devicesList.add(regID1);
devicesList.add(regID2);
devicesList.add(regID3);

Message message = new Message.Builder()
.collapseKey("1")
.timeToLive(3)
.delayWhileIdle(true)
.addData("message",
        "Hello!!!")
.build();

MulticastResult result = sender.send(message, devicesList, 1);
sender.send(message, devicesList, 1); 
```

编译时没有任何问题，但是当我在本地主机上运行 servlet 时，抛出了一个异常 - ClassNotFound 异常：

```
 java.lang.ClassNotFoundException: com.google.android.gcm.server.Sender
at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1676)
at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1521)
at servlet.PostServlet.doGet(PostServlet.java:48)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:621)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:304)
at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:240)
at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:164)
at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:462)
at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:164)
at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:100)
at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:562)
at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)
at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:395)
at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:250)
at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:188)
at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:166)
at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:302)
at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source)
at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
at java.lang.Thread.run(Unknown Source) 
```

我猜这是因为 tomcat 无法加载 gcm-server.jar 中的类。但是，我已经把它放在了 WEB-INF/lib 中并设置了类路径。你有什么想法？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-14T21:20:11.177

尝试将此库添加到 WEB-INF/lib

[http://code.google.com/p/json-simple/downloads/detail?name=json-simple-1.1.1.jar](http://code.google.com/p/json-simple/downloads/detail?name=json-simple-1.1.1.jar)

# qt4 - 在声子中提取歌曲的元信息

> ID：12871861
> 
> 赞同：1
> 
> 时间：2012-10-13T09:37:46.883
> 
> 标签：qt4, phonon

我正在使用 c++ 中的 phonon 库构建音乐播放器。这是提取歌曲元信息的代码：

```
void MainWindow::metaStateChanged(Phonon::State newState, Phonon::State /* oldState */)
{
    if (newState == Phonon::ErrorState) {
        QMessageBox::warning(this, tr("Error opening files"),
            metaInformationResolver->errorString());
        while (!sources.isEmpty() &&
               !(sources.takeLast() == metaInformationResolver->currentSource())) {}  /* loop */;
        return;
    }

    if (newState != Phonon::StoppedState && newState != Phonon::PausedState)
        return;

    if (metaInformationResolver->currentSource().type() == Phonon::MediaSource::Invalid)
            return;

    QMap<QString, QString> metaData = metaInformationResolver->metaData();

    QString title = metaData.value("TITLE");
    if (title == "")
        title = metaInformationResolver->currentSource().fileName();

    QTableWidgetItem *titleItem = new QTableWidgetItem(title);
    titleItem->setFlags(titleItem->flags() ^ Qt::ItemIsEditable);
    QTableWidgetItem *artistItem = new QTableWidgetItem(metaData.value("ARTIST"));
    artistItem->setFlags(artistItem->flags() ^ Qt::ItemIsEditable);
    QTableWidgetItem *albumItem = new QTableWidgetItem(metaData.value("ALBUM"));
    albumItem->setFlags(albumItem->flags() ^ Qt::ItemIsEditable);
    QTableWidgetItem *yearItem = new QTableWidgetItem(metaData.value("DATE"));
    yearItem->setFlags(yearItem->flags() ^ Qt::ItemIsEditable);

    int currentRow = musicTable->rowCount();
    musicTable->insertRow(currentRow);
    musicTable->setItem(currentRow, 0, titleItem);
    musicTable->setItem(currentRow, 1, artistItem);
    musicTable->setItem(currentRow, 2, albumItem);
    musicTable->setItem(currentRow, 3, yearItem);

    if (musicTable->selectedItems().isEmpty()) {
        musicTable->selectRow(0);
        mediaObject->setCurrentSource(metaInformationResolver->currentSource());
    }

    Phonon::MediaSource source = metaInformationResolver->currentSource();
    int index = sources.indexOf(metaInformationResolver->currentSource()) + 1;
    if (sources.size() > index) {
        metaInformationResolver->setCurrentSource(sources.at(index));
    }
    else {
        musicTable->resizeColumnsToContents();
        if (musicTable->columnWidth(0) > 300)
            musicTable->setColumnWidth(0, 300);
    }
} 
```

但是，这无法提取信息。如果要发布更多代码，请告诉我。

# php - 如果没有找到字段，则创建新字段

> ID：12871880
> 
> 赞同：0
> 
> 时间：2012-10-13T09:39:48.903
> 
> 标签：php, mysql

PHP新手在这里

我有一个名为“主题”的 mysql 表，我正在根据表单的结果（通过 GET 在 URL 中）从表中提取信息以获取页面

如果 URL 不存在，我希望表格能够创建一个新条目，其中包含填充的 URL 中的主题名称

$topic_name 将是我在新的 topicname 字段中放入的内容

到目前为止我的代码：

```
 $topic_name = strtolower(mysql_real_escape_string($_GET['t']));

//look for info
$topic_info = mysql_query("SELECT * FROM topics WHERE topicname = '$topic_name' LIMIT 1");

if (mysql_numrows($topic_info)<=0) {
//insert record
$SQL='insert into topics (topicname) values ("'.$topic_name.'")';
mysql_query($SQL);
$t_desc='NEW TOPIC : '.$topic_name;
} 
else {
//do as normal (without unnessecary loop)
$g=mysql_fetch_array($topic_info);

$t_desc = $g['desc'];               
} 
```

编辑：对不起，我认为我解释得不好，结果来自表单中的 GET，所以 url.com/topic?=BLAH

blah 将是我想要创建的字段的名称（如果它不存在）。

该表有一个自动递增的“ID”（主键）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-13T09:51:43.777

如果我理解你是正确的：

```
$topic_name = (isset($_GET['t'])) ? strtolower(mysql_real_escape_string($_GET['t'])) : '';

//look for info
$topic_info = mysql_query("SELECT * FROM topics WHERE topicname = '$topic_name' LIMIT 1");

if (mysql_num_rows($topic_info)<=0) {
    //insert record
    //UPDATE
    //$SQL='insert into topics (topicname) values ("'.$topic_name.'")';
    $SQL='insert into topics (topicname, `desc`) values '.
           '("'.$topic_name.'", "NEW TOPIC DESC")';
    mysql_query($SQL);
    $t_desc='NEW TOPIC : '.$topic_name;
} else {
    //do as normal (without unnessecary loop)
    $g=mysql_fetch_array($topic_info);
    $t_desc = $g['desc'];               
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-13T09:44:56.937

尝试如下

```
$topic_info = mysql_query("SELECT * FROM topics WHERE topicname = '$topic_name' LIMIT 1");

$count = mysql_num_rows($topic_info);

if($count <= 0){
  // do insert query
}
else {
// loop through you result and display record
  while($g = mysql_fetch_array($topic_info)){
    $t_desc = $g['desc'];               
  } 
} 
```

注意：新开发最好使用PDO或Mysqli lib，防止mysql注入攻击

# validation - 有没有办法让角度运行输入的所有验证，而不是在第一次验证失败时停止？

> ID：12871881
> 
> 赞同：1
> 
> 时间：2012-10-13T09:40:08.377
> 
> 标签：validation, angularjs

我在尝试使 Angular 一次运行输入的所有验证时遇到问题。这是我的问题的 jsfiddle 示例[http://jsfiddle.net/carpasse/GDDE2/](http://jsfiddle.net/carpasse/GDDE2/)

如果您在电子邮件输入中键入 1 个字符，您会得到*“最小长度为 3”。*错误信息

并且直到您输入的字符比您收到其他错误消息*“这不是有效的电子邮件”多 2 个字符。*

有人知道如何使角度同时显示两个错误消息吗？

非常感谢提前

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-13T11:12:10.987

您的问题不在于所有验证器都没有运行 - 他们是！

请记住，这些验证的工作方式是通过转换函数的管道传递视图值，它还可以指定值的有效性。

问题是最小长度验证器在管道中传递 undefined 如果它无效并且电子邮件验证器说 undefined 是一个有效的电子邮件地址！

尝试创建自己的验证指令，说明 undefined 不是有效的电子邮件地址，您会发现两个错误都显示：http: [//jsfiddle.net/eKfj3/](http://jsfiddle.net/eKfj3/)

# java - 解析任何 json 文件的 Java 代码，无论其格式或密钥如何

> ID：12871883
> 
> 赞同：1
> 
> 时间：2012-10-13T09:40:16.220
> 
> 标签：java, jackson, json

我已经搜索了很多天，但没有得到任何答案。所以最后我来到了这个网站。是否有任何 java 代码或任何库可以解析任何 json 文件，而不管其格式如何，并且不知道 json 文件中存在哪些所有键。

无论给出什么 json 文件，它都可以显示其中的所有键值对。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-13T10:26:44.960

你也可以试试 Genson [http://code.google.com/p/genson/](http://code.google.com/p/genson/)。

如果根是一个对象，您可以将 json 文件反序列化为映射（否则它是一个数组并且您反序列化为一个数组）。

```
FileReader reader = new FileReader("path/to/your/json");
Map<String, Object> map = new Genson().deserialize(reader, Map.class); 
```

根据您想要获得更好性能的目标，您可以直接使用流式 API（但要编写更多代码）。您只想打印键/值？

Genson 具有完整的数据绑定支持并提供了一些其他不错的功能，请查看[wiki](http://code.google.com/p/genson/wiki/GettingStarted)。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2017-04-22T10:47:04.780

[杰克逊](https://github.com/FasterXML/jackson)在这方面做得很好。

```
 final Map<String, Object> son = objectMapper.readValue(JSON_SOURCE,
      new TypeReference<Map<String, Object>>() {}
 ); 
```

在哪里`JSON_SOURCE`可以是`String`, `Reader`, `File`,`byte[]`等`InputStream`（参见：[ObjectMapper 文档](https://fasterxml.github.io/jackson-databind/javadoc/2.8/com/fasterxml/jackson/databind/ObjectMapper.html)）

此代码片段与针对此问题发布的另一个（类似）答案略有不同。请注意，上述用途：

1.  杰克逊的`TypeReference`而不是一个`Class`对象
2.  接口`Map`而不是特定的实现（例如`HashMap`）

# c# - 如何使用 C# 在 Linq Query 中设置动态 Where 子句

> ID：12871887
> 
> 赞同：3
> 
> 时间：2012-10-13T09:40:58.327
> 
> 标签：c#, asp.net

我有这个代码： -

```
DataSet ds = new DataSet();

String s = "StudentID = 5 Or StudentID=6"; 
var result = from r in ds.table[0].AsEnumerable() where s.ToString() select r; 
```

如何从中获取数据？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-13T09:46:48.107

为什么不能使用 ID 列表？

```
//assuming you have text and that's the reason
var txtIDs = "5,6";
var IDs = txtIDs.Split(',').Select(s => int.Parse(s));

var rows = from r in ds.Tables[0].AsEnumerable()
           where IDs.Any(id => r.Field<int>("ID")==id)
           select r; 
```

或在方法语法中：

```
var rows = ds.Tables[0].AsEnumerable()
           .Where(r => IDs.Contains(r.Field<int>("ID"))); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-13T09:45:24.903

尝试这个

```
var result = ds.Tables[0].AsEnumerable().Where(row => row["StudentID"].ToString() == "5" || row["StudentID"].ToString() == "6") 
```

或者

```
var result = from r in dx.AsEnumerable() 
             where r["StudentID"].ToString() == "5" || r["StudentID"].ToString() == "6" 
             select r; 
```

你可以试试这个

```
DataTable dt = result.CopyToDataTable(); //for both code above 
```

# entity-framework - 带有部分更新的实体框架验证

> ID：12871892
> 
> 赞同：23
> 
> 时间：2012-10-13T09:41:37.230
> 
> 标签：entity-framework, validation, updates

我将 Entity Framework 5.0 与 DbContext 和 POCO 实体一起使用。有一个包含 3 个属性的简单实体：

```
public class Record
{
    public int Id { get; set; }
    public string Title { get; set; }
    public bool IsActive { get; set; }
} 
```

Title 字段始终未修改，UI 只是显示它，而不提供任何输入框来修改它。这就是为什么该`Title`字段设置为`null`当表单发送到服务器时。

这是我告诉 EF 执行实体的部分更新（`IsActive`仅限字段）的方式：

```
public class EFRepository<TEntity>
{
   ...
   public void PartialUpdate(TEntity entity, params Expression<Func<TEntity, object>>[] propsToUpdate)
   {
       dbSet.Attach(entity);
       var entry = _dbContext.Entry(entity);
       foreach(var prop in propsToUpdate)
           contextEntry.Property(prop).IsModified = true;
   }
} 
```

和电话：

```
repository.PartialUpdate(updatedRecord, r => r.IsActive); 
```

调用`SaveChanges`方法，我得到`DbEntityValidationException`，告诉我，`Title`是必需的。当我设置`dbContext.Configuration.ValidateOnSaveEnabled = false`时，一切正常。有什么方法可以避免禁用整个上下文的验证并告诉 EF 不要验证未更新的属性？提前致谢。

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2012-10-14T08:00:48.310

如果您使用部分更新或存根实体（这两种方法都非常有效！）您不能使用全局 EF 验证，因为[它不尊重您的部分更改](http://social.msdn.microsoft.com/Forums/en-US/adodotnetentityframework/thread/cacc3156-6b5f-4412-a8b8-a1279d28a536)- 它总是验证整个实体。使用默认验证逻辑，您必须通过调用以下方法将其关闭：

```
dbContext.Configuration.ValidateOnSaveEnabled = false 
```

并分别验证每个更新的属性。这应该有希望发挥作用，但我没有尝试，因为我根本不使用 EF 验证：

```
foreach(var prop in propsToUpdate) {
    var errors = contextEntry.Property(prop).GetValidationErrors();
    if (erros.Count == 0) {
        contextEntry.Property(prop).IsModified = true;
    } else {
        ...
    }
} 
```

如果您想更进一步，您可以尝试`ValidateEntity`在您的上下文中覆盖并重新实现验证，以验证整个实体或仅基于实体状态和属性状态的选定`IsModified`属性 - 这将允许您使用带有部分更新的 EF 验证和存根实体。

EF 中的验证是恕我直言的错误概念 - 它在逻辑不属于的数据访问层中引入了额外的逻辑。它主要基于这样的想法，即如果您在导航属性上放置所需的验证规则，您始终使用整个实体甚至整个实体图。一旦你违反了这种方法，你总是会发现硬编码到你的实体的单个固定的验证规则集是不够的。

我在很长的待办事项中的一件事是调查验证如何影响`SaveChanges`操作速度 - 我曾经在 EF4（EF4.1 之前）中基于 DataAnnotations 及其`Validator`类拥有自己的验证 API，但我很快就停止使用它由于性能非常差。

使用本机 SQL 的解决方法与使用存根实体或关闭验证的部分更新具有相同的效果 = 您的实体仍未验证，但此外您的更改不是同一工作单元的一部分。

* * *

## 回答 #2

> 赞同：20
> 
> 时间：2015-04-17T03:21:31.487

参考[Ladislav 的回答](https://stackoverflow.com/a/12880364/75500)，我已将其添加到`DbContext`类中，现在它删除了所有未修改的属性。
我知道它并没有完全跳过对这些属性的验证，而只是省略了它，但是 EF 验证的是每个实体而不是属性，并且重新重写整个验证过程对我来说太麻烦了。

```
protected override DbEntityValidationResult ValidateEntity(
  DbEntityEntry entityEntry,
  IDictionary<object, object> items)
{
  var result = base.ValidateEntity(entityEntry, items);
  var falseErrors = result.ValidationErrors
    .Where(error =>
    {
      if (entityEntry.State != EntityState.Modified) return false;
      var member = entityEntry.Member(error.PropertyName);
      var property = member as DbPropertyEntry;
      if (property != null)
        return !property.IsModified;
      else
        return false;//not false err;
    });

  foreach (var error in falseErrors.ToArray())
    result.ValidationErrors.Remove(error);
  return result;
} 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2017-03-23T09:47:01.480

这是先前@Shimmy 响应的混音，它是我目前使用的版本。

我添加的是中的`(entityEntry.State != EntityState.Modified) return false;`子句`Where`：

```
protected override DbEntityValidationResult ValidateEntity(DbEntityEntry entityEntry, IDictionary<object, object> items)
{
    var result = base.ValidateEntity(entityEntry, items);

    var falseErrors = result
        .ValidationErrors
        .Where(error =>
        {
            if (entityEntry.State != EntityState.Modified) return false;
            var member = entityEntry.Member(error.PropertyName);
            var property = member as DbPropertyEntry;
            if (property != null) return !property.IsModified;
            return false;
        });

    foreach (var error in falseErrors.ToArray())
    {
        result.ValidationErrors.Remove(error);
    }

    return result;
} 
```

# html - 如何将按钮对齐到列表框的中心

> ID：12871893
> 
> 赞同：0
> 
> 时间：2012-10-13T09:41:38.400
> 
> 标签：html, css, listbox

我有两个列表框，我将一个框的数据移动到另一个框。我拥有的列表框如下。

```
<select id="sourceCars" class="car" size="20" >
    <option>User 1 </option>
    <option>User 2 </option>
    <option>User 3 </option>
    <option>User 4 </option>
    <option>User 5 </option>
</select>

<input type="button" value=" >> " id="moveRight">
<input type="button" value=" << " id="moveLeft">
<select id="targetCars" class="car" size="20" >
</select>​ 
```

我想要的是，将按钮 `>>` `<<`放在列表框的中心，而不是在列表框的底部。

知道如何完成这项工作吗？

## [jsfiddle](http://jsfiddle.net/yFxBc/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-13T10:03:55.567

```
input {
 position:relative;
 top:-150px; 
```

}

请注意，-150px 应替换为选择高度的一半。为这些按钮添加一些类将使事情变得容易。例如：

```
.moveBtn {
  position:relative;
  top:-150px;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-13T10:14:35.293

```
 <div class="butts">   
       <input type="button" value=" >> " id="moveRight">
       <input type="button" value=" >> " id="moveRight">
 </div>

.car{
    float:left;
}
.butts{
    margin-top:150px;
    width:70px;
    float:left;
}​ 
```

[jsFiddle](http://jsfiddle.net/yFxBc/7/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-13T09:44:28.553

使用 position 作为绝对值，然后设置 left 和 top 值。

请参阅此处的代码：http: [//jsfiddle.net/yFxBc/8/](http://jsfiddle.net/yFxBc/8/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-13T09:44:28.870

对于设置在中心，您使用此 css 代码

```
margin:0 auto;
width:250px; 
```

# c# - 如何使用 Moq 为不同的参数设置两次方法

> ID：12871897
> 
> 赞同：69
> 
> 时间：2012-10-13T09:41:56.800
> 
> 标签：c#, .net, unit-testing, moq

我想用 Moq 设置一个方法两次，但似乎最后一个覆盖了以前的。这是我的初始设置：

```
string username = "foo";
string password = "bar";

var principal = new GenericPrincipal(
    new GenericIdentity(username),
    new[] { "Admin" });

var membershipServiceMock = new Mock<IMembershipService>();
membershipServiceMock.Setup(ms =>
    ms.ValidateUser(username, password)
).Returns(new ValidUserContext { 
    Principal = principal
}); 
```

这很好，但`new ValidUserContext()`如果用户名或密码与上面的`username`and`password`变量不同，我希望它返回。为此，我添加了另一个设置，但这次它覆盖了上面的设置并始终应用它：

```
membershipServiceMock.Setup(ms =>
    ms.ValidateUser(It.IsAny<string>(), It.IsAny<string>())
).Returns(
    new ValidUserContext()
); 
```

用 Moq 处理这种情况的最优雅的方法是什么？

**编辑**

我用下面的方法解决了这个问题，但我想有更好的方法来处理这个问题：

```
var membershipServiceMock = new Mock<IMembershipService>();
membershipServiceMock.Setup(ms =>
    ms.ValidateUser(It.IsAny<string>(), It.IsAny<string>())
).Returns<string, string>((u, p) => 
    (u == username && p == password) ?
    new ValidUserContext { 
        Principal = principal
    }
    : new ValidUserContext()
); 
```

* * *

## 回答 #1

> 赞同：90
> 
> 时间：2012-10-13T10:38:03.683

Moq 通过参数约束支持这一点：

```
mock.Setup(ms => ms.ValidateUser(
        It.Is<string>(u => u == username), It.Is<string>(p => p == password))
    .Returns(new ValidUserContext { Principal = principal });
mock.Setup(ms => ms.ValidateUser(
        It.Is<string>(u => u != username), It.Is<string>(p => p != password))
    .Returns(new ValidUserContext()); 
```

*包罗万象* `It.IsAny`也有效，但顺序很重要：

```
// general constraint first so that it doesn't overwrite more specific ones
mock.Setup(ms => ms.ValidateUser(
        It.IsAny<string>(), It.IsAny<string>())
    .Returns(new ValidUserContext());
mock.Setup(ms => ms.ValidateUser(
        It.Is<string>(u => u == username), It.Is<string>(p => p == password))
    .Returns(new ValidUserContext { Principal = principal }); 
```

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2018-07-03T23:25:33.353

如果您查看以下的函数定义`Setup()`：

```
// Remarks:
//     If more than one setup is specified for the same method or property, the latest
//     one wins and is the one that will be executed.
public ISetup<T, TResult> Setup<TResult>(Expression<Func<T, TResult>> expression); 
```

您需要做的就是切换两个调用的**顺序：**`Setup()`

```
membershipServiceMock.Setup(ms =>
    ms.ValidateUser(It.IsAny<string>(), It.IsAny<string>())
).Returns(
    new ValidUserContext()
);
membershipServiceMock.Setup(ms =>
    ms.ValidateUser(username, password)
).Returns(new ValidUserContext { 
    Principal = principal
}); 
```

因此，如果输入确实是`username`and `password`，那么两个`Setup()`调用都是合格的，但是后一个调用会因为规则而获胜，并且当您有任何其他输入时，只有第一个调用被匹配和应用。

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2012-10-17T08:44:04.880

另一个开箱即用的选项是使用 Return<> 版本根据参数返回不同的 ValidUserContexts。它并不比上面的答案更好，只是另一种选择。

我们设置 ValidateUser() 以返回函数 GetUserContext(string, string) 的结果，传入调用 ValidateUser() 时使用的用户名和密码。

```
[TestClass]
public class MultipleReturnValues {

    public class ValidUserContext {
        public string Principal { get; set; }
    }

    public interface IMembershipService {
        ValidUserContext ValidateUser(string name, string password);
    }

    [TestMethod]
    public void DifferentPricipals() {

        var mock = new Mock<IMembershipService>();
        mock.Setup(mk => mk.ValidateUser(It.IsAny<string>(), It.IsAny<string>())).Returns<string, string>(GetUserContext);

        var validUserContext = mock.Object.ValidateUser("abc", "cde");

        Assert.IsNull(validUserContext.Principal);

        validUserContext = mock.Object.ValidateUser("foo", "bar");

        Assert.AreEqual(sPrincipal, validUserContext.Principal);

    }

    private static string sPrincipal = "A Principal";
    private static ValidUserContext GetUserContext(string name, string password) {

        var ret = new ValidUserContext();

        if (name == "foo" && password == "bar") {
            ret = new ValidUserContext { Principal = sPrincipal };
        }
        return ret;

    }
} 
```

# java - javax.naming.NamingException：JBAS011843：从类加载器实例化 InitialContextFactory org.jnp.interfaces.NamingContextFactory 失败

> ID：12871901
> 
> 赞同：6
> 
> 时间：2012-10-13T09:42:11.743
> 
> 标签：java, hibernate, jakarta-ee, jboss, jboss7.x

大家好，我在 Jboss-as-7.1.1 中遇到了一些问题。我正确部署但是当我从客户端发送请求时出现错误。我正在使用 Jboss-7.1.1，部署文件夹是独立/部署 ( `axis2.war,response.war,SpSpecific.ear,responsecomponet.ear`)

**部署日志：-**

```
13:00:51,457 INFO  [org.jboss.modules] JBoss Modules version 1.1.1.GA
13:00:52,261 INFO  [org.jboss.msc] JBoss MSC version 1.0.2.GA
13:00:52,381 INFO  [org.jboss.as] JBAS015899: JBoss AS 7.1.1.Final "Brontes" starting
13:00:55,285 INFO  [org.jboss.as.server] JBAS015888: Creating http management service using socket-binding (management-http)
13:00:55,288 INFO  [org.xnio] XNIO Version 3.0.3.GA
13:00:55,362 INFO  [org.xnio.nio] XNIO NIO Implementation Version 3.0.3.GA
13:00:55,416 INFO  [org.jboss.remoting] JBoss Remoting version 3.2.3.GA
13:00:55,521 INFO  [org.jboss.as.logging] JBAS011502: Removing bootstrap log handlers
13:00:55,595 INFO  [org.jboss.as.configadmin] (ServerService Thread Pool -- 26) JBAS016200: Activating ConfigAdmin Subsystem
13:00:55,714 INFO  [org.jboss.as.osgi] (ServerService Thread Pool -- 39) JBAS011940: Activating OSGi Subsystem
13:00:55,780 INFO  [org.jboss.as.webservices] (ServerService Thread Pool -- 48) JBAS015537: Activating WebServices Extension
13:00:55,721 INFO  [org.jboss.as.security] (ServerService Thread Pool -- 44) JBAS013101: Activating Security Subsystem
13:00:55,699 INFO  [org.jboss.as.naming] (ServerService Thread Pool -- 38) JBAS011800: Activating Naming Subsystem
13:00:55,637 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 31) JBAS010280: Activating Infinispan subsystem.
13:00:55,951 INFO  [org.jboss.as.security] (MSC service thread 1-3) JBAS013100: Current PicketBox version=4.0.7.Final
13:00:56,121 INFO  [org.jboss.as.connector] (MSC service thread 1-1) JBAS010408: Starting JCA Subsystem (JBoss IronJacamar 1.0.9.Final)
13:00:56,134 INFO  [org.jboss.as.connector.subsystems.datasources] (ServerService Thread Pool -- 27) JBAS010403: Deploying JDBC-compliant driver class org.h2.Driver (version 1.3)
13:00:56,236 INFO  [org.jboss.as.naming] (MSC service thread 1-3) JBAS011802: Starting Naming Service
13:00:56,301 INFO  [org.jboss.as.mail.extension] (MSC service thread 1-1) JBAS015400: Bound mail session [java:jboss/mail/Default]
13:00:56,672 INFO  [org.jboss.ws.common.management.AbstractServerConfig] (MSC service thread 1-4) JBoss Web Services - Stack CXF Server 4.0.2.GA
13:00:57,092 INFO  [org.apache.coyote.http11.Http11Protocol] (MSC service thread 1-3) Starting Coyote HTTP/1.1 on http--127.0.0.1-8080
13:00:57,940 WARN  [com.arjuna.ats.arjuna] (Transaction Expired Entry Monitor) ARJUNA012210: Unable to use InetAddress.getLocalHost() to resolve address.
13:00:58,202 INFO  [org.jboss.as.remoting] (MSC service thread 1-2) JBAS017100: Listening on /127.0.0.1:9999
13:00:58,209 INFO  [org.jboss.as.remoting] (MSC service thread 1-1) JBAS017100: Listening on /127.0.0.1:4447
13:00:58,309 INFO  [org.jboss.as.server.deployment.scanner] (MSC service thread 1-2) JBAS015012: Started FileSystemDeploymentService for directory /home/vivekray/Desktop/vivek/jboss-as-7.1.1.Final/standalone/deployments
13:00:58,580 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-4) JBAS010400: Bound data source [java:jboss/datasources/ExampleDS]
13:00:58,676 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-4) JBAS015876: Starting deployment of "SPAppSpecific.ear"
13:00:58,679 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-1) JBAS015876: Starting deployment of "response.war"
13:00:58,682 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-3) JBAS015876: Starting deployment of "responsecomponent.ear"
13:00:58,685 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-2) JBAS015876: Starting deployment of "axis2.war"
13:01:00,257 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-4) JBAS015876: Starting deployment of "SPAppSpecific.jar"
13:01:01,040 INFO  [org.jboss.as.ejb3.deployment.processors.EjbJndiBindingsDeploymentUnitProcessor] (MSC service thread 1-4) JNDI bindings for session bean named SPConnectorClient in deployment unit subdeployment "SPAppSpecific.jar" of deployment "SPAppSpecific.ear" are as follows:

    java:global/SPAppSpecific/SPAppSpecific/SPConnectorClient!com.cdac.sp.SPConnectorClientRemote
    java:app/SPAppSpecific/SPConnectorClient!com.cdac.sp.SPConnectorClientRemote
    java:module/SPConnectorClient!com.cdac.sp.SPConnectorClientRemote
    java:jboss/exported/SPAppSpecific/SPAppSpecific/SPConnectorClient!com.cdac.sp.SPConnectorClientRemote
    java:global/SPAppSpecific/SPAppSpecific/SPConnectorClient!com.cdac.sp.SPConnectorClientHome
    java:app/SPAppSpecific/SPConnectorClient!com.cdac.sp.SPConnectorClientHome
    java:module/SPConnectorClient!com.cdac.sp.SPConnectorClientHome
    java:jboss/exported/SPAppSpecific/SPAppSpecific/SPConnectorClient!com.cdac.sp.SPConnectorClientHome

13:01:03,587 INFO  [org.jboss.web] (MSC service thread 1-2) JBAS018210: Registering web context: /response
13:01:06,298 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-3) Class Path entry xpp3.jar in "/content/axis2.war/WEB-INF/lib/jibx-run-1.2.jar"  does not point to a valid jar for a Class-Path reference.
13:01:06,302 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-3) Class Path entry stax-api.jar in "/content/axis2.war/WEB-INF/lib/jibx-run-1.2.jar"  does not point to a valid jar for a Class-Path reference.
13:01:06,304 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-3) Class Path entry wstx-asl.jar in "/content/axis2.war/WEB-INF/lib/jibx-run-1.2.jar"  does not point to a valid jar for a Class-Path reference.
13:01:06,307 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-3) Class Path entry jaxws-rt.jar in "/content/axis2.war/WEB-INF/lib/jaxws-tools-2.1.3.jar"  does not point to a valid jar for a Class-Path reference.
13:01:06,311 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-3) Class Path entry jaxb-xjc.jar in "/content/axis2.war/WEB-INF/lib/jaxws-tools-2.1.3.jar"  does not point to a valid jar for a Class-Path reference.
13:01:06,314 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-3) Class Path entry relaxngDatatype.jar in "/content/axis2.war/WEB-INF/lib/jaxws-tools-2.1.3.jar"  does not point to a valid jar for a Class-Path reference.
13:01:06,323 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-3) Class Path entry bcel.jar in "/content/axis2.war/WEB-INF/lib/jibx-bind-1.2.jar"  does not point to a valid jar for a Class-Path reference.
13:01:06,325 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-3) Class Path entry jibx-run.jar in "/content/axis2.war/WEB-INF/lib/jibx-bind-1.2.jar"  does not point to a valid jar for a Class-Path reference.
13:01:06,332 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-3) Class Path entry xpp3.jar in "/content/axis2.war/WEB-INF/lib/jibx-bind-1.2.jar"  does not point to a valid jar for a Class-Path reference.
13:01:06,339 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-3) Class Path entry stax-api.jar in "/content/axis2.war/WEB-INF/lib/jibx-bind-1.2.jar"  does not point to a valid jar for a Class-Path reference.
13:01:06,342 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-3) Class Path entry wstx-asl.jar in "/content/axis2.war/WEB-INF/lib/jibx-bind-1.2.jar"  does not point to a valid jar for a Class-Path reference.
13:01:06,354 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-3) Class Path entry jaxb-api.jar in "/content/axis2.war/WEB-INF/lib/jaxb-impl-2.1.7.jar"  does not point to a valid jar for a Class-Path reference.
13:01:06,358 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-3) Class Path entry activation.jar in "/content/axis2.war/WEB-INF/lib/jaxb-impl-2.1.7.jar"  does not point to a valid jar for a Class-Path reference.
13:01:06,362 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-3) Class Path entry jsr173_1.0_api.jar in "/content/axis2.war/WEB-INF/lib/jaxb-impl-2.1.7.jar"  does not point to a valid jar for a Class-Path reference.
13:01:06,365 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-3) Class Path entry jaxb1-impl.jar in "/content/axis2.war/WEB-INF/lib/jaxb-impl-2.1.7.jar"  does not point to a valid jar for a Class-Path reference.
13:01:06,370 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-3) Class Path entry activation.jar in "/content/axis2.war/WEB-INF/lib/mail-1.4.jar"  does not point to a valid jar for a Class-Path reference.
13:01:06,373 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-3) Class Path entry xercesImpl.jar in "/content/axis2.war/WEB-INF/lib/xalan-2.7.0.jar"  does not point to a valid jar for a Class-Path reference.
13:01:06,376 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-3) Class Path entry xml-apis.jar in "/content/axis2.war/WEB-INF/lib/xalan-2.7.0.jar"  does not point to a valid jar for a Class-Path reference.
13:01:06,379 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-3) Class Path entry serializer.jar in "/content/axis2.war/WEB-INF/lib/xalan-2.7.0.jar"  does not point to a valid jar for a Class-Path reference.
13:01:07,151 WARN  [org.apache.axiom.util.stax.dialect.StAXDialectDetector] (MSC service thread 1-3) Unable to determine dialect of the StAX implementation at jar:file:/home/vivekray/Desktop/vivek/jboss-as-7.1.1.Final/jboss-modules.jar!/
13:01:07,588 INFO  [org.apache.axis2.deployment.ClusterBuilder] (MSC service thread 1-3) Clustering has been disabled
13:01:08,140 INFO  [org.apache.axis2.deployment.ModuleDeployer] (MSC service thread 1-3) Deploying module: metadataExchange-1.6.1 - file:/home/vivekray/Desktop/vivek/jboss-as-7.1.1.Final/standalone/tmp/vfs/tempdbc1c5c22e866d3/axis2.war-82ac321f1e9789b1/WEB-INF/modules/mex-1.6.1.mar
13:01:08,343 INFO  [org.apache.axis2.deployment.ModuleDeployer] (MSC service thread 1-3) Deploying module: addressing-1.6.1 - file:/home/vivekray/Desktop/vivek/jboss-as-7.1.1.Final/standalone/tmp/vfs/tempdbc1c5c22e866d3/axis2.war-82ac321f1e9789b1/WEB-INF/modules/addressing-1.6.1.mar
13:01:08,383 INFO  [org.apache.axis2.deployment.ModuleDeployer] (MSC service thread 1-3) Deploying module: ping-1.6.1 - file:/home/vivekray/Desktop/vivek/jboss-as-7.1.1.Final/standalone/tmp/vfs/tempdbc1c5c22e866d3/axis2.war-82ac321f1e9789b1/WEB-INF/modules/ping-1.6.1.mar
13:01:08,434 INFO  [org.apache.axis2.deployment.ModuleDeployer] (MSC service thread 1-3) Deploying module: mtompolicy-1.6.1 - file:/home/vivekray/Desktop/vivek/jboss-as-7.1.1.Final/standalone/tmp/vfs/tempdbc1c5c22e866d3/axis2.war-82ac321f1e9789b1/WEB-INF/modules/mtompolicy-1.6.1.mar
13:01:08,460 INFO  [org.apache.axis2.deployment.ModuleDeployer] (MSC service thread 1-3) Deploying module: soapmonitor-1.6.1 - file:/home/vivekray/Desktop/vivek/jboss-as-7.1.1.Final/standalone/tmp/vfs/tempdbc1c5c22e866d3/axis2.war-82ac321f1e9789b1/WEB-INF/modules/soapmonitor-1.6.1.mar
13:01:08,489 INFO  [org.apache.axis2.deployment.ModuleDeployer] (MSC service thread 1-3) Deploying module: script-1.6.1 - file:/home/vivekray/Desktop/vivek/jboss-as-7.1.1.Final/standalone/tmp/vfs/tempdbc1c5c22e866d3/axis2.war-82ac321f1e9789b1/WEB-INF/modules/scripting-1.6.1.mar
13:01:08,518 INFO  [org.apache.axis2.deployment.ModuleDeployer] (MSC service thread 1-3) Deploying module: jaxws-1.6.1 - file:/home/vivekray/Desktop/vivek/jboss-as-7.1.1.Final/standalone/tmp/vfs/tempdbc1c5c22e866d3/axis2.war-82ac321f1e9789b1/WEB-INF/modules/axis2-jaxws-mar-1.6.1.mar
13:01:08,541 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-1) Class Path entry jaxb-api.jar in "/content/responsecomponent.ear/lib/jaxb-xjc-2.1.7.jar"  does not point to a valid jar for a Class-Path reference.
13:01:08,543 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-1) Class Path entry jaxb-impl.jar in "/content/responsecomponent.ear/lib/jaxb-xjc-2.1.7.jar"  does not point to a valid jar for a Class-Path reference.
13:01:08,549 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-1) Class Path entry jsr173_1.0_api.jar in "/content/responsecomponent.ear/lib/jaxb-xjc-2.1.7.jar"  does not point to a valid jar for a Class-Path reference.
13:01:08,561 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-1) Class Path entry activation.jar in "/content/responsecomponent.ear/lib/jaxb-xjc-2.1.7.jar"  does not point to a valid jar for a Class-Path reference.
13:01:08,584 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-1) Class Path entry jaxb-api.jar in "/content/responsecomponent.ear/lib/jaxb-impl-2.1.7.jar"  does not point to a valid jar for a Class-Path reference.
13:01:08,586 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-1) Class Path entry activation.jar in "/content/responsecomponent.ear/lib/jaxb-impl-2.1.7.jar"  does not point to a valid jar for a Class-Path reference.
13:01:08,591 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-1) Class Path entry jsr173_1.0_api.jar in "/content/responsecomponent.ear/lib/jaxb-impl-2.1.7.jar"  does not point to a valid jar for a Class-Path reference.
13:01:08,594 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-1) Class Path entry jaxb1-impl.jar in "/content/responsecomponent.ear/lib/jaxb-impl-2.1.7.jar"  does not point to a valid jar for a Class-Path reference.
13:01:08,605 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-1) Class Path entry bcel.jar in "/content/responsecomponent.ear/lib/jibx-bind-1.2.1.jar"  does not point to a valid jar for a Class-Path reference.
13:01:08,609 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-1) Class Path entry jibx-run.jar in "/content/responsecomponent.ear/lib/jibx-bind-1.2.1.jar"  does not point to a valid jar for a Class-Path reference.
13:01:08,615 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-1) Class Path entry xpp3.jar in "/content/responsecomponent.ear/lib/jibx-bind-1.2.1.jar"  does not point to a valid jar for a Class-Path reference.
13:01:08,618 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-1) Class Path entry stax-api.jar in "/content/responsecomponent.ear/lib/jibx-bind-1.2.1.jar"  does not point to a valid jar for a Class-Path reference.
13:01:08,626 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-1) Class Path entry wstx-asl.jar in "/content/responsecomponent.ear/lib/jibx-bind-1.2.1.jar"  does not point to a valid jar for a Class-Path reference.
13:01:08,629 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-1) Class Path entry xercesImpl.jar in "/content/responsecomponent.ear/lib/xalan-2.7.0.jar"  does not point to a valid jar for a Class-Path reference.
13:01:08,636 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-1) Class Path entry xml-apis.jar in "/content/responsecomponent.ear/lib/xalan-2.7.0.jar"  does not point to a valid jar for a Class-Path reference.
13:01:08,638 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-1) Class Path entry serializer.jar in "/content/responsecomponent.ear/lib/xalan-2.7.0.jar"  does not point to a valid jar for a Class-Path reference.
13:01:08,644 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-1) Class Path entry activation.jar in "/content/responsecomponent.ear/lib/mail-1.4.jar"  does not point to a valid jar for a Class-Path reference.
13:01:08,653 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-1) Class Path entry xpp3.jar in "/content/responsecomponent.ear/lib/jibx-run-1.2.1.jar"  does not point to a valid jar for a Class-Path reference.
13:01:08,664 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-1) Class Path entry stax-api.jar in "/content/responsecomponent.ear/lib/jibx-run-1.2.1.jar"  does not point to a valid jar for a Class-Path reference.
13:01:08,666 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-1) Class Path entry wstx-asl.jar in "/content/responsecomponent.ear/lib/jibx-run-1.2.1.jar"  does not point to a valid jar for a Class-Path reference.
13:01:08,682 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-2) JBAS015876: Starting deployment of "AsyncResponseComponentVer2.jar"
13:01:09,008 INFO  [org.apache.axis2.deployment.DeploymentEngine] (MSC service thread 1-3) Deploying Web service: version-1.6.1.aar - file:/home/vivekray/Desktop/vivek/jboss-as-7.1.1.Final/standalone/tmp/vfs/tempdbc1c5c22e866d3/axis2.war-82ac321f1e9789b1/WEB-INF/services/version-1.6.1.aar
13:01:09,017 INFO  [org.jboss.as.ejb3.deployment.processors.EjbJndiBindingsDeploymentUnitProcessor] (MSC service thread 1-1) JNDI bindings for session bean named SPConnectorResponseComponent in deployment unit subdeployment "AsyncResponseComponentVer2.jar" of deployment "responsecomponent.ear" are as follows:

    java:global/responsecomponent/AsyncResponseComponentVer2/SPConnectorResponseComponent!com.cdac.AsyncSPResponse.SPResponseEJBHome
    java:app/AsyncResponseComponentVer2/SPConnectorResponseComponent!com.cdac.AsyncSPResponse.SPResponseEJBHome
    java:module/SPConnectorResponseComponent!com.cdac.AsyncSPResponse.SPResponseEJBHome
    java:jboss/exported/responsecomponent/AsyncResponseComponentVer2/SPConnectorResponseComponent!com.cdac.AsyncSPResponse.SPResponseEJBHome
    java:global/responsecomponent/AsyncResponseComponentVer2/SPConnectorResponseComponent!com.cdac.AsyncSPResponse.SPResponseEJBRemote
    java:app/AsyncResponseComponentVer2/SPConnectorResponseComponent!com.cdac.AsyncSPResponse.SPResponseEJBRemote
    java:module/SPConnectorResponseComponent!com.cdac.AsyncSPResponse.SPResponseEJBRemote
    java:jboss/exported/responsecomponent/AsyncResponseComponentVer2/SPConnectorResponseComponent!com.cdac.AsyncSPResponse.SPResponseEJBRemote

13:01:10,743 INFO  [org.apache.axis2.deployment.DeploymentEngine] (MSC service thread 1-3) Deploying Web service: SPGenericConnectorVer2.aar - file:/home/vivekray/Desktop/vivek/jboss-as-7.1.1.Final/standalone/tmp/vfs/tempdbc1c5c22e866d3/axis2.war-82ac321f1e9789b1/WEB-INF/services/SPGenericConnectorVer2.aar
13:01:10,784 INFO  [org.jboss.web] (MSC service thread 1-3) JBAS018210: Registering web context: /axis2
13:01:10,800 INFO  [org.jboss.as] (MSC service thread 1-2) JBAS015951: Admin console listening on http://127.0.0.1:9990
13:01:10,802 INFO  [org.jboss.as] (MSC service thread 1-2) JBAS015874: JBoss AS 7.1.1.Final "Brontes" started in 20009ms - Started 323 of 410 services (86 services are passive or on-demand)
13:01:10,981 INFO  [org.jboss.as.server] (DeploymentScanner-threads - 2) JBAS018559: Deployed "SPAppSpecific.ear"
13:01:10,984 INFO  [org.jboss.as.server] (DeploymentScanner-threads - 2) JBAS018559: Deployed "response.war"
13:01:10,986 INFO  [org.jboss.as.server] (DeploymentScanner-threads - 2) JBAS018559: Deployed "responsecomponent.ear"
13:01:10,989 INFO  [org.jboss.as.server] (DeploymentScanner-threads - 2) JBAS018559: Deployed "axis2.war" 
```

**错误日志是：-**

```
13:01:57,692 INFO  [stdout] (http--127.0.0.1-8080-1) BusinessClass::sendResponse Starts...
13:01:57,712 ERROR [stderr] (http--127.0.0.1-8080-1) javax.naming.NamingException: JBAS011843: Failed instantiate InitialContextFactory org.jnp.interfaces.NamingContextFactory from classloader ModuleClassLoader for Module "deployment.response.war:main" from Service Module Loader
13:01:57,735 ERROR [stderr] (http--127.0.0.1-8080-1)    at org.jboss.as.naming.InitialContextFactoryBuilder.createInitialContextFactory(InitialContextFactoryBuilder.java:64)
13:01:57,737 ERROR [stderr] (http--127.0.0.1-8080-1)    at javax.naming.spi.NamingManager.getInitialContext(NamingManager.java:664)
13:01:57,739 ERROR [stderr] (http--127.0.0.1-8080-1)    at javax.naming.InitialContext.getDefaultInitCtx(InitialContext.java:288)
13:01:57,744 ERROR [stderr] (http--127.0.0.1-8080-1)    at javax.naming.InitialContext.init(InitialContext.java:223)
13:01:57,746 ERROR [stderr] (http--127.0.0.1-8080-1)    at javax.naming.InitialContext.<init>(InitialContext.java:197)
13:01:57,747 ERROR [stderr] (http--127.0.0.1-8080-1)    at org.apache.jsp.response_jsp._jspService(response_jsp.java:116)
13:01:57,749 ERROR [stderr] (http--127.0.0.1-8080-1)    at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)
13:01:57,763 ERROR [stderr] (http--127.0.0.1-8080-1)    at javax.servlet.http.HttpServlet.service(HttpServlet.java:847)
13:01:57,772 ERROR [stderr] (http--127.0.0.1-8080-1)    at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:369)
13:01:57,774 ERROR [stderr] (http--127.0.0.1-8080-1)    at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:326)
13:01:57,775 ERROR [stderr] (http--127.0.0.1-8080-1)    at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:253)
13:01:57,777 ERROR [stderr] (http--127.0.0.1-8080-1)    at javax.servlet.http.HttpServlet.service(HttpServlet.java:847)
13:01:57,778 ERROR [stderr] (http--127.0.0.1-8080-1)    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:329)
13:01:57,793 ERROR [stderr] (http--127.0.0.1-8080-1)    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:248)
13:01:57,794 ERROR [stderr] (http--127.0.0.1-8080-1)    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:275)
13:01:57,808 ERROR [stderr] (http--127.0.0.1-8080-1)    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:161)
13:01:57,815 ERROR [stderr] (http--127.0.0.1-8080-1)    at org.jboss.as.web.security.SecurityContextAssociationValve.invoke(SecurityContextAssociationValve.java:153)
13:01:57,817 ERROR [stderr] (http--127.0.0.1-8080-1)    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:155)
13:01:57,822 ERROR [stderr] (http--127.0.0.1-8080-1)    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)
13:01:57,829 ERROR [stderr] (http--127.0.0.1-8080-1)    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)
13:01:57,831 ERROR [stderr] (http--127.0.0.1-8080-1)    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:368)
13:01:57,832 ERROR [stderr] (http--127.0.0.1-8080-1)    at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:877)
13:01:57,833 ERROR [stderr] (http--127.0.0.1-8080-1)    at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:671)
13:01:57,838 ERROR [stderr] (http--127.0.0.1-8080-1)    at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:930)
13:01:57,839 ERROR [stderr] (http--127.0.0.1-8080-1)    at java.lang.Thread.run(Thread.java:662) 
```

**这是我的代码：-**

```
System.out.println("BusinessClass::sendResponse Starts...");
    HashMap ack_gateway=null;
    try {
        p.setProperty("java.naming.factory.initial",
                    "org.jnp.interfaces.NamingContextFactory");
        p.setProperty("java.naming.factory.url.pkgs",
                    "org.jboss.naming:org.jnp.interfaces");
        p.setProperty("java.naming.provider.url", "localhost:1099");
        Context ctx = new InitialContext(p);
        System.out.println("Got Initial Context");
        SPResponseEJBHome home = (SPResponseEJBHome)
            PortableRemoteObject.narrow(ctx.lookup
                       "SPConnectorResponseComponent"),SPResponseEJBHome.class);
        //SPResponseEJBHome home = (SPResponseEJBHome) 
              ctx.lookup("SPConnectorResponseComponent");
        System.out.println("BusinessClass::sendResponse Starts...");

        System.out.println("Got Home object");
        SPResponseEJBRemote remote = home.create();
        System.out.println("Got Remote object");

        //process
            System.out.println("Hi 1");
        String targetEndPoint=(String)request.getParameter("targetEndPoint");

        String classid=(String)request.getParameter("classid");

        String corelationid=(String)request.getParameter("corelationid");

        String transactionID=(String)request.getParameter("TransactionID");

        String result=(String)request.getParameter("result");
            Object resxml = null;
        resxml = XmlObject.Factory.parse(result.toString().trim());
            System.out.println("Hi 2");
        CommitResponse commitResponse=new CommitResponse();
        commitResponse.setTargetEndPointURL(targetEndPoint);
        commitResponse.setTransactionId(transactionID);
        commitResponse.setCorrelationId(corelationid);
        commitResponse.setClassId(classid);
        commitResponse.setResponseType(ResponseType.RESPONSE);
        commitResponse.setMessageBody(resxml);
        System.out.println("calling EJB");
        System.out.println("Hi 3");
        ReturnResponse returnResponse = new ReturnResponse();
        returnResponse=remote.makeSubmitResponse(commitResponse);
        System.out.println("Hi 4");
        //STATUS=RESUBMIT
        if (returnResponse.getStatus().equals(RequestStatus.RESUBMIT))
        {
        System.out.println("status: "+returnResponse.getStatus());
        System.out.println("Reason:"+returnResponse.getReason());
        }
        //STATUS=FAILED
        else if (returnResponse.getStatus().equals(RequestStatus.FAILED))
        {
        System.out.println("i am end of exec"+ returnResponse.getStatus());
        String[] erorResponse= returnResponse.getErrors();
        for(int i=0;i<erorResponse.length;i++)
        {
        System.out.println("printing error  :"+erorResponse[i] );
        }
        }

        // Status =SUCESS
        else if (returnResponse.getStatus().equals(RequestStatus.SUCCESS))
        {
        out.println("status    :"+ returnResponse.getStatus());
        out.println("correlationId    :"+ returnResponse.getCorrelationId());
        out.println("TransactionID    :"+ returnResponse.getTransactionId());
        out.println("AuditID   :"+ eturnResponse.getAuditId());         
        }               

} catch (Exception e) {
        e.printStackTrace();
    } 
```

任何人都知道是什么问题，请帮助我。

谢谢

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-15T01:59:17.540

在准备 InitialContext 时，您应该使用另一个连接属性。jboss 7.1.1 中没有 jnp，因此您应该将属性**“java.naming.factory.initial”**设置为值“org.jboss.naming.remote.client.InitialContextFactory”。

此外，属性**PROVIDER_URL**应该是**"remote://localhost:4447"**（而不是**"localhost:1099"**），您还应该在作为参数提供给 InitialContext 的属性映射中指定用户名和凭据（密码）。

可以在[**此处找到有关要进行哪些更改的所有信息**](http://docs.jboss.org/author/display/AS71/EJB+invocations+from+a+remote+client+using+JNDI)

# silverlight - Silverlight - 刷带

> ID：12871902
> 
> 赞同：1
> 
> 时间：2012-10-13T09:42:38.173
> 
> 标签：silverlight, brush

有人能告诉我如何增加 Silverlight 渐变画笔上“色带”的数量吗？

这个问题被标记为下面的回答，但它确实不是使用位图而不是渐变画笔的解决方案，因为我的用户可以动态修改他们的背景。这在使用全屏渐变时最为明显。

[如何让画笔平滑中间没有线条](https://stackoverflow.com/questions/9801524/how-to-make-the-brush-smooth-without-lines-in-the-middle)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-13T11:10:21.230

不幸的是，我只能给你一半的答案——关于为什么会发生这种情况以及如何避免它的一般原则。至于SL中的实现，我只能给你一些一般的想法，因为我不是那里的专家。

这些条带是由显示器的有限颜色深度造成的。为了减少效果，必须使渐变稍微嘈杂。最简单的方法是将渐变中的颜色计算为浮点数，然后以加权随机方式将其四舍五入为整数 - 如下所示：

```
correct_value = linear_gradient(x,y)     // e.g 25.3
whole_part = round_down(correct_value)   // 25
frac_part = correct_value - whole_part   // 0.3
color_used = whole_part
if (true_with_probability(frac_part)):
  color_used = color_used + 1            // color_used == 25 with 70% chance
                                         //               26 with 30% chance 
```

这是一个使用这种技术的例子（左边是简单地四舍五入到最接近的整数的效果，右边是带噪声的四舍五入）：

![平滑渐变](../Images/6cf45b3db52ef084cd2c717ba3c3a3b6.png) ![嘈杂的渐变](../Images/232431071b0fdd7ce0c5cc04049ce639.png)

至于如何在您的情况下实现它 - 我假设有一些方法可以创建一个自定义`Brush`对象，允许您进行每个像素的计算，或者某种可以提供帮助的着色器功能。如果这些都不可能，您也可以使用此逻辑简单地生成位图，并将该位图用作画笔（​​我相信这将是`ImageBrush`，但这只是来自谷歌搜索）。

在这种情况下，也许有更多 Silverlight 知识的人可以加入并提供最佳实现。

# sql - SELECT * INTO 语句出错

> ID：12871920
> 
> 赞同：0
> 
> 时间：2012-10-13T09:44:39.217
> 
> 标签：sql, sql-server-2008

我想使用以下代码将所有数据从一个表传输到另一个表：

```
INSERT INTO tblpremier 
   SELECT * INTO #TempTable
   FROM dbo.IntermediateTable

ALTER TABLE #TempTable
DROP COLUMN id

SELECT * FROM #TempTable 
```

我得到一个错误

> *关键字“INTO”附近的语法不正确*

在此代码的第二行。有什么帮助吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-13T09:47:27.807

你写的没有任何意义。第一个“声明”是这样的：

```
INSERT INTO tblpremier 
SELECT * INTO #TempTable
FROM dbo.IntermediateTable 
```

现在您是插入#temptable 还是tblpremier？我猜你想执行所有这些操作，然后插入`tblpremier`- 在这种情况下，将其拆分为单独的语句。我猜你想做：

```
SELECT * INTO #TempTable
FROM dbo.IntermediateTable

ALTER TABLE #TempTable
DROP COLUMN id

INSERT INTO tblpremier
SELECT * FROM #TempTable 
```

但是，与其需要`#Temptable`与`IntermediateTable`减去 ID 列相同，为什么不首先选择您需要的正确列`IntermediateTable`而不是使用`*`？

**编辑：**

这就是我的意思。编写插入语句，以便指定所有列名，并且不包括 ID 列。您将在表格副本上获得所有新的 ID 号。

```
INSERT INTO tblpremier (column1, column2, column3, ...)
SELECT column1, column2, column3, ...
FROM IntermediateTable 
```

但是，如果您想在表的副本中保留相同的 ID 号，并且列在`intermediate`表 和上的顺序相同`tblpremier`，那么您可以编写：

```
SET IDENTITY_INSERT tblpremier ON

INSERT INTO tblpremier
SELECT * 
FROM IntermediateTable

SET IDENTITY_INSERT tblpremier OFF 
```

但是如果一开始不为空，您仍然需要注意尝试插入重复的 ID `tblpremier`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-13T09:46:39.690

您不能同时使用`INSERT INTO TABLE SELECT FROM`两者`SELECT INTO`。您应该将该语句分解为

```
INSERT INTO tblpremier 
SELECT * FROM dbo.IntermediateTable

SELECT * INTO #TempTable
FROM dbo.IntermediateTable

ALTER TABLE #TempTable
DROP COLUMN id

SELECT * FROM #TempTable 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-13T09:46:20.290

你在同一个语句中同时拥有 a`SELECT INTO`和。`INSERT INTO`

# image - svn checkout 下载损坏的图像

> ID：12871921
> 
> 赞同：0
> 
> 时间：2012-10-13T09:44:46.080
> 
> 标签：image, macos, svn, svn-checkout

我在**svn 存储库**中有一个 iPhone 应用程序的项目，其中包含一个包含数百张图像的文件夹。我的系统是带有 XCode 4.2 的 Mac OS 10.6.7。几天前，我为山狮买了一台新的 Mac。当我尝试结帐时，有几张图像已损坏，我无法打开它们。

如果我尝试在 webbrowser 中打开带有直接 url 的图像，我可以看到并下载它们。

我也试过

```
svn export DIRECT_URL 
```

并且图像已正确下载。我该如何解决这个问题？

谢谢

编辑：我也在 Windows 7 中测试过，我也遇到了同样的问题。

# java - 在应用计费中给我错误

> ID：12871929
> 
> 赞同：4
> 
> 时间：2012-10-13T09:45:50.167
> 
> 标签：java, android, eclipse

我一直在使用谷歌的应用计费代码中的地牢示例和应用计费代码中的布伦德尔教程。除了更改公钥、重命名应用程序并将其上传到我已经完成的谷歌之外，这两个项目基本上都是开箱即用的。这两个应用程序最近（大约 3 天前）运行良好。现在我在 LogCat 和设备中都遇到了这个错误。

设备：

```
Error retrieving information from server. [DF-DFERH-01] 
```

日志猫：

```
10-13 02:26:12.449: E/Volley(916): [90] BasicNetwork.performRequest: Unexpected response code 500 for https://android.clients.google.com/fdfe/purchaseStatus
10-13 02:26:12.457: W/Finsky(916): [1] CheckoutPurchase.onErrorResponse: DisplayErrorMessage[Error retrieving information from server. [DF-DFERH-01]]
10-13 02:26:12.457: E/Finsky(916): [1] CheckoutPurchase.setError: type=UNKNOWN, code=-1, message=Error retrieving information from server. [DF-DFERH-01] 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-15T22:35:05.773

因此，在联系 Android 支持后，我得到了答案。我还没有验证非静态测试是否有效。我会让大家知道的。

> 关于问题 35564 的评论 #190 by theother...@gmail.com: 错误 (DF-DFERH-01) [http://code.google.com/p/android/issues/detail?id=35564](http://code.google.com/p/android/issues/detail?id=35564)
> 
> 大家好。所以最近几天我在测试静态响应时遇到了同样的问题。我决定忽略它们并继续测试真正的产品（我能够做到这一点，因为我的应用已经发布了实时版本，当然没有应用内购买）。然而，测试真实产品确实有效。
> 
> 阅读 IAP 测试指南 (http://developer.android.com/guide/google/play/billing/billing_testing.html#billing-testing-static) 后，我看到了一句话：
> 
> “注意：使用预留的产品 ID 进行应用内结算请求会覆盖通常的 Google Play 生产系统。当您为预留的产品 ID 发送应用内结算请求时，服务质量将无法与生产环境相媲美。 "
> 
> 所以看起来静态响应服务确实有问题，但这并不能反映实际 Play Store 的情况。我可以保证这一点，因为我现在更新的实时应用程序的 IAP 工作没有问题。因此，如果您遇到此问题，请尽可能测试真实产品；它可能对你有用。

# codeigniter - 如何将参数传递给 Codeigniter 的 URL 助手中的重定向方法？

> ID：12871931
> 
> 赞同：6
> 
> 时间：2012-10-13T09:45:56.883
> 
> 标签：codeigniter

我是 Codeigniter 的新手，我想在验证结束后重定向到控制器：

```
if(!validate)
{
  redirect('/poll/list');
} 
```

但我需要传递一个变量`$error`来显示一些错误指示，但我不知道如何将参数传递给`redirect`方法中的`URL helper`，和想法？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-10-13T10:00:58.663

使用[会话 flashdata](http://codeigniter.com/user_guide/libraries/sessions.html) - 这正是它的设计目的：

```
if(!validate)
{
  $this->session->set_flashdata('error', 'your_error');
  redirect('/poll/list');
} 
```

然后在您的 poll/list 函数中：

```
$error_msg = $this->session->flashdata('error'); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-13T09:58:48.130

```
base url = 'http://localhost/site/' 
```

**网址** `http://localhost/site/controller/method`

```
$this->uri->segment(1) = 'controller'
$this->uri->segment(2) = 'method' 
```

现在检查以下情况

```
base url = 'http://testsite/test/site/' 
```

**网址** `http://testsite/test/site/controller/method`

```
$this->uri->segment(1) = 'controller'
$this->uri->segment(2) = 'method' 
```

传递您的信息

`http://testsite/test/site/controller/method/meesage`

并使用 `$this->uri->segment(3)`

您也可以使用会话而不是通过`URL`..

# java - 从android中的坐标获取地理位置地址

> ID：12871938
> 
> 赞同：0
> 
> 时间：2012-10-13T09:46:56.740
> 
> 标签：java, android, eclipse, google-maps

在`android`我可以轻松`onLocationChanged`上班并获得移动经纬度。

但是，一旦我得到了这些坐标，我怎样才能得到手机的地址，例如

```
XYWZ Road, GRDSASDF Sector 823432, Australia  etc 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-13T09:59:21.607

**Geocoder**是一个用于处理**Geocoding**和**Reverse Geocoding**的类。

1.  *地理编码*是将街道地址或位置的其他描述转换为（纬度、经度）坐标的过程。
2.  *反向地理编码*是将（纬度、经度）坐标转换为（部分）地址的过程。

反向地理编码位置描述中的详细信息量可能会有所不同，例如，一个可能包含最近建筑物的完整街道地址，而另一个可能仅包含城市名称和邮政编码。Geocoder 类需要一个不包含在核心 android 框架中的后端服务。如果平台中没有后端服务，Geocoder 查询方法将返回一个空列表。使用该`isPresent()`方法确定是否存在 Geocoder 实现。

该`getFromLocation(double latitude, double longitude, int maxResults)`方法返回一个已知的地址数组，用于描述紧接给定纬度和经度周围的区域。返回的地址将针对提供给此类的构造函数的语言环境进行本地化。

返回值可以通过网络查找的方式获得。结果是最佳猜测，不保证有意义或正确。从与主 UI 线程不同的线程调用此方法可能很有用。

[这](http://android-er.blogspot.com/2011/02/get-address-from-location-using.html)是熟悉地理编码器的教程：

```
public class AndroidFromLocation extends Activity {

double LATITUDE = 37.42233;
double LONGITUDE = -122.083;

   /** Called when the activity is first created. */
   @Override
   public void onCreate(Bundle savedInstanceState) {
       super.onCreate(savedInstanceState);
       setContentView(R.layout.main);
       TextView myLatitude = (TextView)findViewById(R.id.mylatitude);
       TextView myLongitude = (TextView)findViewById(R.id.mylongitude);
       TextView myAddress = (TextView)findViewById(R.id.myaddress);

       myLatitude.setText("Latitude: " + String.valueOf(LATITUDE));
       myLongitude.setText("Longitude: " + String.valueOf(LONGITUDE));

       Geocoder geocoder = new Geocoder(this, Locale.ENGLISH);

       try {
  List<Address> addresses = geocoder.getFromLocation(LATITUDE, LONGITUDE, 1);

  if(addresses != null) {
   Address returnedAddress = addresses.get(0);
   StringBuilder strReturnedAddress = new StringBuilder("Address:\n");
   for(int i=0; i<returnedAddress.getMaxAddressLineIndex(); i++) {
    strReturnedAddress.append(returnedAddress.getAddressLine(i)).append("\n");
   }
   myAddress.setText(strReturnedAddress.toString());
  }
  else{
   myAddress.setText("No Address returned!");
  }
 } catch (IOException e) {
  // TODO Auto-generated catch block
  e.printStackTrace();
  myAddress.setText("Canont get Address!");
 }

   }
} 
```

![在此处输入图像描述](../Images/b2bda3cd017ac4b73a78816975db552b.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-13T09:50:38.243

您可以使用 Android 中的[GeoCoder](http://developer.android.com/reference/android/location/Geocoder.html)类。

通过使用方法

```
List<Address>    getFromLocation(double latitude, double longitude, int maxResults) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-13T09:56:19.420

使用地理编码器方法。

```
Geocoder gcd = new Geocoder(context, Locale.getDefault());
List<Address> addresses = gcd.getFromLocation(lat, lng, 1);
if (addresses.size() > 0) 
    System.out.println(addresses.get(0).getLocality()); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-13T09:59:53.320

首先，你找出你说你已经完成的经纬度。

然后，您可以使用以下代码获取列表中的完整地址。这是代码：

```
// this will fetch the data of current address  
                    List<Address> addresses=geoCoder.getFromLocation(location.getLatitude(), location.getLongitude(), 10);

                    int i=1;
                    for(Address addObj:addresses)
                    {
                        // this will make the loop run for 1 time 
                        if(i==1)
                        {
                            //variables to split address line
                            String add_line1_extract;
                            //setting street address
                            streetaddressText.setText(addObj.getAddressLine(0));
                            //splitting city and state
                            add_line1_extract=addObj.getAddressLine(1);
                            String string = add_line1_extract;
                            String[] parts = string.split(",");
                            //Setting city
                            part1 = parts[0]; 
                            cityText.setText(part1);
                            //setting state
                            String part2 = parts[1]; 
                            stateText.setText(part2);
                            //setting country
                            countryText.setText(addObj.getAddressLine(2));

                            i++;

                            progress.setVisibility(View.GONE);
                        }
                    } 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-13T10:10:28.130

试试这个代码：

```
public class LocationSpeecher extends MapActivity{
MapController mc;
       MapView myMapView;
       MapController mapController;
       GeoPoint point;
       MyPositionOverlay positionOverlay;

@Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_location_speecher);

         MapView myMapView=(MapView)findViewById(R.id.myMapView);           
            mapController=myMapView.getController();   

           myMapView.displayZoomControls(true);        
           mapController.setZoom(17);

          // myMapView.setSatellite(true);

           myMapView.setStreetView(true);
           myMapView.setTraffic(true);              

            LocationManager locationManager; 
            String context = Context.LOCATION_SERVICE; 
            locationManager = (LocationManager)getSystemService(context); 

            Criteria crta = new Criteria(); 
            crta.setAccuracy(Criteria.ACCURACY_FINE); 
            crta.setAltitudeRequired(false); 
            crta.setBearingRequired(false); 
            crta.setCostAllowed(true); 
            crta.setPowerRequirement(Criteria.POWER_LOW); 
            String provider = locationManager.getBestProvider(crta, true); 

         // String provider = LocationManager.GPS_PROVIDER; 
            Location location = locationManager.getLastKnownLocation(provider); 
            updateWithNewLocation(location); 

            locationManager.requestLocationUpdates(provider, 2000, 10, locationListener); 
            } 
        private final LocationListener locationListener = new LocationListener() 
        { 

        @Override 
        public void onLocationChanged(Location location) { 
        updateWithNewLocation(location); 
        } 

        @Override 
        public void onProviderDisabled(String provider) { 
        updateWithNewLocation(null); 
        } 

        @Override 
        public void onProviderEnabled(String provider) { 
        } 

        @Override 
        public void onStatusChanged(String provider, int status, Bundle extras) { 
        } 

        }; 

        private void updateWithNewLocation(Location location) { 
            String latLong;
            TextView myLocation; 
            myLocation = (TextView) findViewById(R.id.myLocation); 

            String addressString = "no address found"; 

            if(location!=null) {            

                Double geoLat=location.getLatitude()*1E6;
                Double geoLng=location.getLongitude()*1E6;
                GeoPoint point=new GeoPoint(geoLat.intValue(),geoLng.intValue());

                mapController.animateTo(point);

            double lat = location.getLatitude(); 
            double lon = location.getLongitude(); 
            latLong = "Lat:" + lat + "\nLong:" + lon;           

            double lattitude = location.getLatitude(); 
            double longitude = location.getLongitude(); 

            Geocoder gc = new Geocoder(this,Locale.getDefault()); 
            try { 
            List<Address> addresses= gc.getFromLocation(lattitude, longitude, 1); 
            StringBuilder sb = new StringBuilder(); 
            if(addresses.size()>0) { 
            Address address=addresses.get(0);
            for(int i=0;i<address.getMaxAddressLineIndex();i++)
                sb.append(address.getAddressLine(i)).append("\n");
            sb.append(address.getLocality()).append("\n"); 
            sb.append(address.getPostalCode()).append("\n"); 
        sb.append(address.getCountryName()); 
        } 
            addressString = sb.toString(); 
            } 
            catch (Exception e) { 
            } 
            } else { 
            latLong = " NO Location Found "; 
            } 

            myLocation.setText("Current Position is :\n"+ latLong + "\n"+  addressString ); 

} 
```

# asp.net - 从数据库中检索文件路径以设置图像控制

> ID：12871940
> 
> 赞同：1
> 
> 时间：2012-10-13T09:47:17.260
> 
> 标签：asp.net, database

我使用`FileUpload`控制并将`Server.MapPath`图像文件加载`url`到数据库。然后我想`url`从数据库中获取这个图像文件并将图像控件设置为`Asp.Net`. 我怎样才能做到这一点？

当我将图像文件加载`url`到数据库时，在数据库中是这样的：

```
C:\Users\Joseph\Documents\Visual Studio 2012\Projects\cesme_pano\cesme_pano\Chrysanthemum.jpg 
```

我将它设置`url`为`Image.ImageUrl`控制，但它不起作用。我怎么解决这个问题。

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-13T10:09:48.917

也许[这](https://stackoverflow.com/questions/3164/asp-net-absolute-path-back-to-web-relative-path)就是你要找的。您要做的是将物理路径转换为 ​​ASP.NET 可以理解的虚拟路径。

建议是去：

```
String RelativePath = AbsolutePath.Replace(Request.ServerVariables["APPL_PHYSICAL_PATH"], String.Empty); 
```

# eclipse - Eclipse 警告：“内容辅助期间的问题”

> ID：12871947
> 
> 赞同：9
> 
> 时间：2012-10-13T09:48:01.693
> 
> 标签：eclipse

每次我启动 Eclipse 并按下时，*`Ctrl + Space`*我都会收到以下 3 个警告弹出窗口。

[http://imgur.com/a/2pKdm](http://imgur.com/a/2pKdm)

它们仅在我第一次按 时出现*`Ctrl + Space`*。自从我重新安装了 jdk 后，我收到了这些警告。

我已经尝试重新安装 eclipse，但是一旦我导入我的旧项目，警告似乎又出现了。我目前安装了以下 java 版本：

```
JVE 7_u7 32bit;  
JVE 7_u7 64bit;  
JDK 7_u7 64bit;  
JDK 7_u7 32bit. 
```

我以与上面列出的相同顺序将它们全部添加到 PATH 变量中。我还设置了 Eclipse 以使用`JDK 7_u7 64bit`（顺便说一句，我使用的是 Eclipse 64 位）。

我希望有人知道我的问题的解决方案，并原谅我的英语不好，我不是以英语为母语的人。;)

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2017-10-13T10:00:03.533

您可以通过在以下位置关闭 Subwords-Completion 来解决此问题：Window > Preferences > Code Recommenders > Completions: ==> incheck(Subwords-Completion)

[![在此处输入图像描述](../Images/d0c92c8addc4844b9b49b4000362db5a.png)](https://i.stack.imgur.com/QWrM1.png)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2014-05-04T12:50:49.203

我得到了类似类型的警告是 eclipse spring 工具套件（sts）。我未选中 CodeRecommendors Proposals（addons），它在上面的列表和下面的列表中出现了 2 次并且它起作用了。要做到这一点，请转到 window-->preferences- ->java-->editor-->Content Assist-->advanced。见截图。![在此处输入图像描述](../Images/5930289e1ff8015bd96e10f16628a11c.png)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-13T10:17:04.567

您可以配置内容辅助并禁用内容辅助中的触发器。[此链接](http://help.eclipse.org/helios/index.jsp?topic=/org.eclipse.cdt.doc.user/reference/cdt_u_c_editor_con_assist.htm)提供有关设置内容辅助首选项的信息。

![在此处输入图像描述](../Images/86b873fe96c40d68fb8d4249ca15969b.png)

# python - 在python中运行pronterface：导入错误：没有命名模块

> ID：12871948
> 
> 赞同：1
> 
> 时间：2012-10-13T09:48:02.263
> 
> 标签：python, interface, module, importerror

我是编程、python、pronterface 和 3d 打印的完整初学者，所以不出所料，我遇到了一些困难。

我现在已经设法下载 pronterface 并让它在我的计算机上运行，​​我想我正确地遵循了下载说明并且在 printrun 文件夹中也下载了 skeinforge。

我的问题是，当我尝试打开或加载 .stl 文件时，我得到以下信息：

```
Skeining C:\Users\James\Downloads\70mm_Faberdashery_Yoda-Lite_less_robe.stl
Skeinforge execution failed.
Traceback (most recent call last):
  File "C:\Users\James\Desktop\3d printer software\pronterface\Printrun-d482c66\pronterface.py", line 940, in skein_func
    from skeinforge.skeinforge_application.skeinforge_utilities import skeinforge_craft
ImportError: No module named skeinforge_application.skeinforge_utilities 
```

但是，我认为该文件位于正确的位置：

```
C:\Users\James\Desktop\3dp\pronterface\Printrun-d482c66\skeinforge\skeinforge application\skeinforge utilities\skeinforge_craft 
```

您能否尝试用通俗易懂的语言解释解决此问题的任何想法，因为我是一个初学者，甚至不知道模块导入错误是什么。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-13T12:05:31.767

reprap 表单上的某个人遇到了[类似的问题](http://forums.reprap.org/read.php?154,128581,128581,quote=1)，建议从命令行运行 skeinforge。

为了更令人满意地解决问题，您需要检查 python 可用的路径，并确保 skeinforge 模块的路径在您的系统路径或 python 路径中。

# mapreduce - mapreduce 程序

> ID：12871955
> 
> 赞同：1
> 
> 时间：2012-10-13T09:48:52.883
> 
> 标签：mapreduce

考虑一个 .txt 文件.. 因为我没有由换行符分隔的段落。

现在我需要计算每个段落中的单词数.. 将计数的单词视为映射器中的一个键，并最初为 all 分配一个值 1

在 Reducer 中给我一个排序的输出请给我一个完整的代码以便更好地理解，因为我是一个新人

请给我更好的说明如何计算每个段落中的单词数

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-15T14:08:01.377

Mapper 进行计数不会产生您试图通过 map reduce 技术实现的性能。

要真正利用 map reduce 的好处，您应该考虑处理段落编号（第 1 段为 1，第 2 段为 2，依此类推），然后将这些段落发送到在不同节点上运行的不同 reducer 进行单独计数（利用该功能并行处理）然后对输出进行排序，您可以将其输入到一个简单的程序中为您进行排序，或者如果段落数很大，则将其输入到另一个 map reduce 作业中。在这种情况下，您需要考虑一系列数字作为 map reduce 的键，例如从 1 到 10 的数字（从前一个 map reduce 作业中获得的段落中的字数）应该落入一个桶中并且应该被映射到一个键，然后各个减速器可以对这些单独的桶进行排序，

可以在以下位置找到 map-reduce 的示例实现：http: [//hadoop.apache.org/common/docs/r0.20.2/mapred_tutorial.html](http://hadoop.apache.org/common/docs/r0.20.2/mapred_tutorial.html)

# database - 模型数据库来表示约束

> ID：12871957
> 
> 赞同：3
> 
> 时间：2012-10-13T09:49:00.403
> 
> 标签：database, data-modeling, entity-relationship

我正在构建一个数据库（用于一个类）来为零件订购应用程序建模。“供应商”提供零件（不同的供应商可能各自提供一个或多个履行相同角色的零件，并且每个零件恰好履行一个角色），“经理”决定哪些零件将是可订购的（只有一个履行给定角色的零件可以订购），用户可以订购零件。

我目前处于 ER 图绘制阶段。我不确定如何为零件、角色和可订购产品建模。我可以将每个可订购/角色表示为（概念）“客户部分”实体，并与“供应商部分”实体创建两个关系：

![在此处输入图像描述](../Images/dcf3183414fad8d6a288c8bd35319c27.png)

这看起来非常俗气，上面写着“由试用版创建”，但相信我，它比我的鸡抓笔迹要好。

但是，有一个关键的约束在这里不会被捕获。想象一下，您有两组供应商零件，每组履行一个角色。每组部件（每个角色）将由一个客户部件表示。但是，该模型不保证客户部件与在“订单”关系中履行正确角色的部件相对应。

我也尝试过使用三元关系和聚合对其进行建模，但我仍然无法捕获所有约束。

我的问题归结为：我有零件、角色和可订购的东西。Roles 和 orderables 映射 1-1 并真正可以合并到一个实体中。我如何表示每个部分都与一个角色相关联，每个角色都与一个可订购对象相关联，反之亦然，并且每个可订购对象都与一个也与该可订购对象对应的角色相关联的部分相关联？

感谢您提供的任何见解。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-13T13:23:58.430

我有点着急，我可能已经迷失在你的要求中了。（但 +1 表示他们相当清楚。）让我们先解决简单的问题。我在这里主要使用自然键，因为自然键可以更容易地查看正在发生的事情。我认为，对你来说真正重要的部分是重叠的外键约束（接近尾声）。

简单的东西——零件、供应商和角色的表格。

```
create table test.parts (
  part_num varchar(15) primary key
);

insert into test.parts values 
('Part A'), ('Part B'), ('Part C');

-- "Suppliers" provide parts.
create table test.suppliers (
  supplier_name varchar(35) primary key
);

insert into test.suppliers values
('Supplier A'), ('Supplier B'), ('Supplier C');

create table test.roles (
  role_name varchar(15) primary key
);

insert into test.roles values
('Role 1'), ('Role 2'), ('Role 3'); 
```

一个要求：每个部分都只扮演一个角色。（有关 UNIQUE 约束的更多信息，以及关于使用此表而不是稍后简单地将列添加到“部分”。）

```
create table test.part_roles (
  part_num varchar(15) primary key references test.parts (part_num),
  role_name varchar(15) not null references test.roles (role_name),
  unique (part_num, role_name)
);

insert into test.part_roles values
('Part A', 'Role 1'), ('Part B', 'Role 1'), ('Part C', 'Role 2'); 
```

另一个要求——每个供应商可以提供一个或多个履行相同角色的零件。我认为这简化为“每个供应商提供多个零件”。（存储有关部件所属角色的事实是不同表的责任。）

```
create table test.supplied_parts (
  supplier_name varchar(35) not null 
    references test.suppliers (supplier_name),
  part_num varchar(15) not null references test.parts (part_num),
  primary key (supplier_name, part_num)
);

insert into test.supplied_parts values
('Supplier A', 'Part A'),
('Supplier A', 'Part B'),
('Supplier A', 'Part C'),
('Supplier B', 'Part A'),
('Supplier B', 'Part B'); 
```

另一个要求——经理决定哪些零件可以订购。（用 GRANT 和 REVOKE 处理经理。）只有一个满足给定角色的零件可以订购。（这意味着对角色名称的主键约束或唯一约束。）除非有人提供，否则您不能订购零件。（所以我们需要*重叠*的外键约束。）

这就是我前面提到的 test.part_roles (part_num, role_name) 的 UNIQUE 约束的用武之地。

```
create table test.orderable_parts (
  role_name varchar(15) primary key references test.roles,
  part_num varchar(15) not null,
  foreign key (part_num, role_name) 
    references test.part_roles (part_num, role_name),

  supplier_name varchar(35) not null,
  foreign key (supplier_name, part_num) 
    references test.supplied_parts (supplier_name, part_num)
);

insert into test.orderable_parts values
('Role 1', 'Part A', 'Supplier A'),
('Role 2', 'Part C', 'Supplier A'); 
```

我认为使用单独的 part_roles 表可能会更好。（例如，比在零件中添加一列更好。）供应商通常提供的零件比您*今天*感兴趣的要多，但企业通常希望提前计划，在他们承诺使用零件之前收集有关零件的信息（在您的情况下，在特定角色）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-13T10:09:12.293

```
suppliers
---------
PK supplier_id

parts -- 1-1 part to role
-----
PK part_id
FK role_id

stocks -- suppliers' parts
------
PK stock_id
FK supplier_id
FK part_id

roles
-----
PK role_id

managers
--------
PK manager_id

selections -- part selected by a manager for a role
----------
PK selection_id
FK manager_id
FK role_id
FK part_id

LEGEND: PK = Primary Key (assuming SERIAL PRIMARY KEY), FK = Foreign Key 
```

除了`selections`表格，您还可以添加`FK part_id`到`roles`.

# java - 从字符串中提取数字和运算符

> ID：12871958
> 
> 赞同：2
> 
> 时间：2012-10-13T09:49:06.113
> 
> 标签：java, string, numbers, expression, extract

这是我制作的代码：

```
public static boolean isOperator(char op){
    if (op == '+' || op == '-'
            || op == '*' || op == '/'
            || op == '^'
            || op == '(' || op == ')'){
        return true;
    }
    return false;
}

public static boolean isOperand(char op){
    String numbers = "0123456789.";
    int a = numbers.indexOf(op);
    return a >= 0;
}
public static void main(String []args){        
    String exp= "15+20+(3.84*25)*(78/3.8)";
    LinkedList a = new LinkedList();

    for (int i = 0; i < exp.length(); i++){
        if (isOperator(exp.charAt(i))){
            a.add(exp.charAt(i));
        } else if (isOperand(exp.charAt(i))){
            int k = i;
            while (k < exp.length()){//I see the length of the number
                if (isOperand(exp.charAt(k))){
                    k++;
                } else {
                    break;
                }
            }
            if (k != exp.length()-1){//if it's not ad the end
                a.add(exp.substring(i, k));
            } else {//if it's at the end I take all the remaining chars of the string
                a.add(exp.substring(i));
            }
            i = k-1;//i must go back since the subtring second parameter is exclusive
        } 
    }
    System.out.println(a);    
}//main 
```

这是输出：

```
[15, +, 20, +, (, 3.84, *, 25, ), *, (, 78, /, 3.8), )] 
```

这正是我想要的。如您所见，我将操作数和运算符分别放入维护字符串顺序的列表中。有一种更简单的方法吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-13T10:07:07.067

> 有没有办法以更简单的方式做到这一点？

就在这里。使用**正则表达式**。查看以下代码并尝试为您的输入运行它。

```
public static void main(String[] args) 
{
    String exp = "15+20+(3.84*25)*(78/3.8)";
    String regex = "(\\d+\\.\\d+)|(\\d+)|([+-/*///^])|([/(/)])";

    Matcher m = Pattern.compile(regex).matcher(exp);

    LinkedList list = new LinkedList();

    while (m.find()) {
        list.add(m.group());
    }

    System.out.println(list);
} 
```

*我上面使用的正则表达式的解释：*

“(\d+\.\d+)|(\d+)|([+-/*///^])|([/(/)])”

（双）或（整数）或（算术运算符）或（左/右括号）

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-13T10:17:41.580

进行此类解析工作的最佳方法是使用 Parser 生成器。但是，如果你想自己做，你有很多选择。在这种情况下，您也可以这样做：

```
 public static void main(String[] args) throws Exception{ 
      String exp = "15+20+(3.84*25)*(78/3.8)";
      LinkedList<String> a = new LinkedList<String>();

      StringTokenizer st = new StringTokenizer(exp, "+*/-()", true);
      while(st.hasMoreTokens())
          a.add(st.nextToken());
    } 
```

# visual-studio-2010 - Visual Studio - 独立应用程序

> ID：12871960
> 
> 赞同：0
> 
> 时间：2012-10-13T09:49:47.293
> 
> 标签：visual-studio-2010, visual-c++, dll

您好，我使用 Visual C++ 2010 创建了一个 DLL 文件，该文件运行我编写的 C 脚本。然后，我使用 Visual C# 2010 创建了一个用户界面，并将所有内容链接在一起。

在我的机器上，生成的 exe 应用程序运行良好。但是，当我尝试将包含 exe 和 dll 的文件夹放在其他计算机上时。它在某些计算机上运行，​​但在其他计算机上却没有。

我收到的错误与“找不到 dll 文件或程序集”有关。

所有电脑都安装了windows 7 64bit。

我的问题是：应用程序是否需要运行？（文件或应该安装在所有机器上的东西？？？）

我注意到以下内容（经过大量查看）：运行应用程序的计算机安装了 Visual Studio 2010 未运行应用程序的计算机没有安装 Visual Studio 2010 但安装了 Visual Studio 2008 ..所有计算机都有 . NET 框架 4.5 安装。

你觉得视觉工作室跟这有关系吗？！！？拥有独立应用程序的目的不是让应用程序在任何机器上运行吗？有没有办法修复它，以便该应用程序可以在任何计算机上运行关于是否安装了视觉系统？

谢谢你们..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-13T09:57:51.647

您可能还会发现需要在要部署到的计算机上安装[Visual Studio 2010 Redistributable 。](http://www.microsoft.com/en-us/download/details.aspx?id=14632)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-13T09:54:21.823

您可以使用**[Dependency Walker](http://www.dependencywalker.com/)**检查程序找不到哪些 dll。

只需将 .exe 加载到程序中即可。

# python - 在python中使用正则表达式替换列表中的可变长度项

> ID：12871964
> 
> 赞同：0
> 
> 时间：2012-10-13T09:50:08.140
> 
> 标签：python, regex, list, replace, items

我正在尝试使用正则表达式替换列表中的可变长度项目。例如，此项“HD479659”应替换为“HD0000000479659”。我只需要在两者之间插入 7 个 0。我制作了以下程序，但每次运行它时都会出现以下错误：“TypeError：'_sre.SRE_Pattern' 类型的对象没有 len()”。你能帮我解决这个错误吗？

非常感谢你

这是程序

```
import xlrd  
import re
import string

wb = xlrd.open_workbook("3_1.xls") 

sh = wb.sheet_by_index(0) 

outfile=open('out.txt','w')

s_pat=r"HD[1-9]{1}[0-9]{5}"

s_pat1=r"HD[0]{7}[0-9]{6}"

pat = re.compile(s_pat) 

pat1 = re.compile(s_pat1)

for rownum1 in range(sh.nrows): 

  str1= str(sh.row_values(rownum1))

  m1=[]

  m1 = pat.findall(str1)

  m1=list(set(m1))

  for a in m1:

      a=re.sub(pat,pat1,a)

  print >> outfile, m1 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-13T10:09:10.147

我认为您的解决方案非常复杂。这个应该可以完成这项工作，而且要简单得多：

```
import re

def repl(match):
    return match.group(1) + ("0"*7) + match.group(2)

print re.sub(r"(HD)([1-9]{1}[0-9]{5})", repl, "HD479659") 
```

另见：[http ://docs.python.org/library/re.html#re.sub](http://docs.python.org/library/re.html#re.sub)

**更新：**

要转换值列表，您必须遍历所有值。您不必先搜索匹配值：

```
import re

values_to_transform = [
    'HD479659',
    'HD477899',
    'HD423455',
    'does not match',
    'but does not matter'
]

def repl(match):
    return match.group(1) + ("0"*7) + match.group(2)

for value in values_to_transform:
    print re.sub(r"(HD)([1-9]{1}[0-9]{5})", repl, value) 
```

结果是：

```
HD0000000479659
HD0000000477899
HD0000000423455
does not match
but does not matter 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-13T10:11:58.870

您需要做的是显式提取 ID 的可变长度部分，然后根据所需长度填充 0 - 匹配长度。

如果我正确理解模式，您想使用正则表达式

```
r"HD(?P<zeroes>0*)(?P<num>\d+)" 
```

那时你可以做

```
results = re.search(...bla...).groupdict() 
```

在这种情况下，它返回字典 {'zeroes': '', 'num':'479659'} 。从那里您可以根据需要进行填充。

现在是凌晨 5 点，否则我会为您提供更好的解决方案，但我希望这会有所帮助。

# mysql - 在触发器中选择不正确

> ID：12871971
> 
> 赞同：1
> 
> 时间：2012-10-13T09:50:59.440
> 
> 标签：mysql, triggers

我的触发器有一个奇怪的问题。我想将数据插入一个名为“profile”的表中，如果它存在于另一个名为“profile_info”的表中，我希望触发器填充“profile”的某些列。如果它在“profile_info”中不存在，则触发器应将记录的 id 添加到“profile_info”以供稍后填写。

```
CREATE TRIGGER `info_filler` BEFORE INSERT ON `profile`
 FOR EACH ROW begin

select info1, info2, info3, id from
profile_info where id = new.id into @i1, @i2, @i3, @id;
set new.info1 = @i1;
set new.info2 = @i2;
set new.info3 = @i3;
If @id is null THEN
 insert into profile_info (id) values (new.id);
END IF;
end 
```

当我将记录一一添加到“配置文件”以检查它是否正常工作时，触发器工作正常。但是，当同时添加许多记录（每秒超过 1500 条）时，就会出现问题。添加到配置文件中的某些记录具有错误的 info1、info2、info3 列。例如，在“个人资料”表中，我的值如下：

```
| id        |  info1     |  info2     |  info3     |
|-----------|------------|------------|------------|
| 1         |     10     |     23     |     12     |
| 2         |     10     |     23     |     12     |
| 3         |     10     |     23     |     12     |
| 4         |     7      |     42     |     73     |
| 5         |     5      |     45     |     33     |
| 6         |     5      |     45     |     33     |
| 7         |     NULL   |     NULL   |     NULL   | 
```

我的问题是第 2、3、6 行的 info1、info2 和 info3 值错误，它们的值属于另一行。这些行也不会添加到“profile_info”中。1, 4, 5 和 7 没问题， 7 也添加到“profile_info”中。

我知道，我不应该将相同的信息复制到另一个表，我也在努力。但现在我需要这个触发器才能工作，我不知道我做错了什么。任何帮助将非常感激。

我正在使用 mysql 5.5 和 innodb。插入是由多台计算机上的 python 完成的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-13T11:54:53.700

what happens if you change it to:

```
select info1, info2, info3, id from
profile_info where id = new.id into @i1, @i2, @i3, @id;
If @id is null THEN
  insert into profile_info (id) values (new.id);
ELSE
  set new.info1 = @i1;
  set new.info2 = @i2;
  set new.info3 = @i3;
END IF; 
```

# jquery - JSON 调用返回 XML (ASP.NET)

> ID：12871975
> 
> 赞同：1
> 
> 时间：2012-10-13T09:51:46.340
> 
> 标签：jquery, asp.net, ajax, json, tag-it

我正在调用一个 Web 服务，它返回 xml 而不是 json。我在这里阅读了很多关于 SO 的主题，但没有任何帮助。

这是我的电话：

```
<script type="text/javascript">
    $(document).ready(function() {
        $("#myabtags").tagit({
            tagSource: function(request, response) {
                $.ajax({
                    type: "POST",
                    url: "Services/ForumServices.asmx/GetTags",
                    dataType: "application/json; charset=utf-8",
                    data: { prefixText: request.term, count: 10 },
                    success: function(data) {
                        response(data);
                    }
                });
            },
            removeConfirmation: true

        });
    });
</script> 
```

这是我的网络服务：

```
[WebMethod]
[ScriptMethod(ResponseFormat = ResponseFormat.Json)]
public string[] GetTags(string prefixText, int count)
{
    var data = SystemContext.Instance.Tags;
    string prefixLower = prefixText.ToLower();
    return data.Where(c => c.Value.Contains(prefixLower) && c.IsVisible).OrderBy(c=>c.Value).Take(count).
        Select(c=>c.Value).ToArray();

} 
```

这是我的回应：

```
<?xml version="1.0" encoding="utf-8"?>
<ArrayOfString xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://tempuri.org/">
  <string>metafor</string>
  <string>tyngdekraft</string>
</ArrayOfString> 
```

我的 web.config：

```
 <handlers>
       <add name="ScriptHandlerFactory" verb="*" path="*.asmx" preCondition="integratedMode" type="System.Web.Script.Services.ScriptHandlerFactory, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"/>
      <add name="AjaxToolkit" verb="GET,HEAD" path="ScriptResource.axd" type="System.Web.Handlers.ScriptResourceHandler, System.Web.Extensions, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"/>
    </handlers> 
```

我正在使用 IIS 7.5 运行 ASP.NET 4.0。

* * *

所以我基本上希望我的电话返回 JSON。

# wpf - 从进度条中去除光泽？

> ID：12871978
> 
> 赞同：14
> 
> 时间：2012-10-13T09:53:13.100
> 
> 标签：wpf, user-interface, custom-controls

所以有人建议我使用 WPF 表单为我的应用程序制作自定义 UI。我想尝试的第一件事是改变进度条的外观。唯一让我远离它的新外观的是它顶部的光泽效果。我希望进度条主要由纯色制成。无论如何要删除进度条的光泽部分吗？

此处显示：

![在此处输入图像描述](../Images/3eb467e7bae01aa8bcfff6743975fe62.png)

谢谢。

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2012-10-13T15:28:53.410

您可以通过编辑`ControlTemplate`进度条来实现您想要的任何样式。这是一个例子：

**免责声明：**我不是设计师。

```
<!-- Brushed used by the progress bar style -->
<LinearGradientBrush x:Key="ProgressBarIndicatorAnimatedFill" EndPoint="0,0" MappingMode="Absolute" StartPoint="-100,0">
    <GradientStop Color="#00000000" Offset="0"/>
    <GradientStop Color="#FF000000" Offset="0.4"/>
    <GradientStop Color="#FF000000" Offset="0.6"/>
    <GradientStop Color="#00000000" Offset="1"/>
</LinearGradientBrush>
<SolidColorBrush x:Key="ProgressBarTopHighlight" Color="#80FFFFFF" />
<!-- progress bar style -->
<Style x:Key="FlatProgressBar" TargetType="{x:Type ProgressBar}">
    <Setter Property="Foreground" Value="#01D328"/>
    <Setter Property="Background" Value="#C7C7C7"/>
    <Setter Property="BorderBrush" Value="#B2B2B2"/>
    <Setter Property="BorderThickness" Value="1"/>
    <Setter Property="Template">
        <Setter.Value>
            <ControlTemplate TargetType="{x:Type ProgressBar}">
                <Grid x:Name="Background" SnapsToDevicePixels="true">
                    <Rectangle Fill="{TemplateBinding Background}" RadiusY="2" RadiusX="2"/>
                    <Border Background="{x:Null}" CornerRadius="2" Margin="1"/>
                    <Border BorderBrush="#80FFFFFF" BorderThickness="1,0,1,1" Background="{StaticResource ProgressBarTopHighlight}" Margin="1"/>
                    <Rectangle x:Name="PART_Track" Margin="1"/>
                    <Decorator x:Name="PART_Indicator" HorizontalAlignment="Left" Margin="1">
                        <Grid x:Name="Foreground">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition MaxWidth="15"/>
                                <ColumnDefinition Width="0.1*"/>
                                <ColumnDefinition MaxWidth="15"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition/>
                                <RowDefinition/>
                            </Grid.RowDefinitions>
                            <Rectangle x:Name="Indicator" Grid.ColumnSpan="3" Fill="{TemplateBinding Foreground}" Grid.RowSpan="2"/>
                            <Rectangle x:Name="Animation" Grid.ColumnSpan="3" Fill="{TemplateBinding Foreground}" Grid.RowSpan="2">
                                <Rectangle.OpacityMask>
                                    <MultiBinding>
                                        <MultiBinding.Converter>
                                            <Themes:ProgressBarHighlightConverter/>
                                        </MultiBinding.Converter>
                                        <Binding Source="{StaticResource ProgressBarIndicatorAnimatedFill}"/>
                                        <Binding ElementName="Background" Path="ActualWidth"/>
                                        <Binding ElementName="Background" Path="ActualHeight"/>
                                    </MultiBinding>
                                </Rectangle.OpacityMask>
                            </Rectangle>
                        </Grid>
                    </Decorator>
                    <Border BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" CornerRadius="2"/>
                </Grid>
                <ControlTemplate.Triggers>
                    <Trigger Property="Orientation" Value="Vertical">
                        <Setter Property="LayoutTransform" TargetName="Background">
                            <Setter.Value>
                                <RotateTransform Angle="-90"/>
                            </Setter.Value>
                        </Setter>
                        <Setter Property="LayoutTransform" TargetName="PART_Track">
                            <Setter.Value>
                                <RotateTransform Angle="90"/>
                            </Setter.Value>
                        </Setter>
                        <Setter Property="LayoutTransform" TargetName="PART_Indicator">
                            <Setter.Value>
                                <RotateTransform Angle="90"/>
                            </Setter.Value>
                        </Setter>
                        <Setter Property="LayoutTransform" TargetName="Foreground">
                            <Setter.Value>
                                <RotateTransform Angle="-90"/>
                            </Setter.Value>
                        </Setter>
                    </Trigger>
                    <Trigger Property="IsIndeterminate" Value="true">
                        <Setter Property="Visibility" TargetName="Indicator" Value="Collapsed"/>
                    </Trigger>
                    <Trigger Property="IsIndeterminate" Value="false">
                        <Setter Property="Fill" TargetName="Animation" Value="#80B5FFA9"/>
                    </Trigger>
                </ControlTemplate.Triggers>
            </ControlTemplate>
        </Setter.Value>
    </Setter>
</Style> 
```

将此样式应用于您的 ProgressBar ，您就可以开始了：

```
<ProgressBar Style="{StaticResource FlatProgressBar}" Value="50" /> 
```

这是最终结果：

![在此处输入图像描述](../Images/7a7e47d5c68ebdf66340229867feba49.png)

* * *

## 回答 #2

> 赞同：20
> 
> 时间：2013-11-01T23:36:02.000

Nasreddine 的答案非常好，但如果你想要更简单的东西，你可以使用以下

```
 <Style TargetType="{x:Type ProgressBar}">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="ProgressBar">
                    <Border BorderBrush="#D9DCE1" BorderThickness="1" Background="#E8E8E8" CornerRadius="0" Padding="0">
                        <Grid x:Name="PART_Track">
                            <Rectangle x:Name="PART_Indicator" HorizontalAlignment="Left" Fill="#FF49A3E1" />
                        </Grid>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style> 
```

# android - 如何识别 android 组件在清单文件中注册？

> ID：12871979
> 
> 赞同：0
> 
> 时间：2012-10-13T09:53:26.730
> 
> 标签：android, android-activity, android-manifest

是否可以确定是否在清单文件中注册了任何活动/服务？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-13T10:48:23.117

如果`PackageManager.getActivityInfo()`未`PackageManager.NameNotFoundException`在`AndroidManifest.xml`. 我不确定这会帮助你！

# java - 实现java数组时的隐私泄露

> ID：12871981
> 
> 赞同：3
> 
> 时间：2012-10-13T09:53:41.723
> 
> 标签：java, arrays, privacy

问题：解释当 Java 程序员定义实现数组的方法时，隐私泄露是如何发生的。

我和我的班级头脑风暴了这个想法，并提出了以下选项：

假设数组包含员工对象，包括工资金额、工作日期等。

1.  如果数组包含对数组中对象的引用而不是这些对象的深层副本，则恶意个人有权更改这些对象的内容。
2.  如果存在溢出错误，恶意个体将能够执行某种堆栈（或堆？）跟踪以获取保存在数组对象中的信息。

但是，我们不确定我们是否走在正确的轨道上，希望能得到一些帮助。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-13T10:02:03.047

第一个答案是正确的，但第二个答案是错误的。异常不会向调用者透露数组的内容，因为堆栈跟踪（以及用于生成它的数据结构）不包含指向实际堆栈帧的指针。

第三种情况假设“攻击者”可以获取 JVM 进程地址空间的副本；例如通过强制核心转储或通过读取页面文件/交换区域。在这种情况下，可以获取任何尚未被垃圾回收的对象的状态。坏人可能瞄准的一件事是包含密码和其他敏感文本信息的字符串的支持数组。这可以通过在最常用的语言中搜索看起来像 Unicode 文本字符序列的“蛮力”方式来完成。

* * *

@sparkle 有道理。在第一个答案中，如果攻击者能够保留对容器使用的数组的引用，就会发生涉及数组的泄漏……因为容器类忽略了复制它。假设攻击者首先知道阵列中的对象，那么阵列本身的复制对于防止此处的安全漏洞至关重要。

另一件需要注意的是，在这种情况下，“启用”隐私泄露的设计和实现有点做作。

# awk - ipython 使用 awk 会出错吗？

> ID：12871986
> 
> 赞同：0
> 
> 时间：2012-10-13T09:54:25.997
> 
> 标签：awk, ipython

亲爱的大家！我发现了一个关于 ipython 的问题。

当我输入

```
!ls -l | awk '{print $$1}' 
```

它给了我：

```
drwxr-xr-x  2 ckivip ckivip  4096 Oct 11 20:38 Desktop

drwxr-xr-x  6 ckivip ckivip  4096 Oct 11 22:57 Documents

drwxrwxr-x  3 ckivip ckivip  4096 Oct 11 12:53 Downloads

drwxr-xr-x  6 ckivip ckivip  4096 Sep 29 18:22 Epigenetics

drwxr-xr-x  2 ckivip ckivip  4096 Sep 20 14:59 Music

drwxr-xr-x 23 ckivip ckivip  4096 Oct 10 11:02 Pictures

drwxr-xr-x  8 ckivip ckivip  4096 Sep 20 15:21 Project

drwx------  5 ckivip ckivip  4096 Sep 25 21:31 R

drwxr-xr-x  5 ckivip ckivip  4096 Oct  9 19:23 Share 
```

但是，当我输入

```
!ls -l | awk '{print $1}' 
```

它给了我：

```
drwxr-xr-x

drwxr-xr-x

drwxrwxr-x

drwxr-xr-x

drwxr-xr-x

drwxr-xr-x

drwxr-xr-x

drwx------ 
```

“$”符号太烦人了。最难看的是，当我使用'awk'函数时，我也无法使用'$'将python中的变量传输到shell。我该如何处理？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-15T16:32:49.180

我不熟悉 ipython，但要解决关于将 shell 变量的值传递给 awk 的部分：你可以使用 'awk -v variable=value' 来做到这一点，所以如果你有一个包含值的 shell 变量“$1” 3" 并且您希望 awk 基于此打印输入的第三个字段，则语法为：

```
awk -v f="$1" '{ print $f }' 
```

所以在上面你可以尝试：

```
!ls -l | awk -v f="$1" '{print $f}' 
```

或者如果需要将 shell "$"s 加倍：

```
!ls -l | awk -v f="$$1" '{print $f}' 
```

希望有帮助。

# sql - SQL 区分大小写的字符串比较与 like 和 "="

> ID：12871988
> 
> 赞同：2
> 
> 时间：2012-10-13T09:54:35.450
> 
> 标签：sql, sqlite, select, string-comparison

我有一张名为类别的表。

在这张表中我有两列 1.) `cat_id`, 2.)`cat_name`

在此表中，我添加了具有此值的记录：`cat_id`= `1`，`cat_name`=`test`

现在当我要运行选择查询

```
SELECT * FROM category WHERE cat_name = 'Test' 
```

此查询返回空结果，因为在数据库记录字符串中是**`test`**，在查询中它是**`Test`**这里大写字符串差异的标记。代替空结果我想要第一个记录的结果。

我也想要相同的结果，反之亦然，小而大写的字符串。

我正在使用 sqlite 作为数据库。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-10-13T10:01:32.507

使用上层函数。

```
SELECT * FROM category WHERE upper(cat_name) = upper('Test') 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-10-13T10:45:50.333

```
SELECT * FROM category WHERE cat_name = 'Test' COLLATE NOCASE; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-13T10:02:50.843

使用较低：

`SELECT * FROM category WHERE LOWER(cat_name) = 'test'`

将为您提供 TeSt 的所有组合

# java - Java Servlet 中的参数未正确传递

> ID：12871990
> 
> 赞同：0
> 
> 时间：2012-10-13T09:54:46.123
> 
> 标签：java, servlets, parameter-passing

我正在尝试编写一个简单的 java servlet 来列出目录中的文件。路径存储在 web.xml 的 init-param 中。当我调用 getInitParameters() 时，它返回目录路径。但是当我尝试将它传递给处理程序时，它返回 null。不知道我做错了什么。有什么帮助吗？

```
import java.io.File;
import java.io.IOException;
import java.io.PrintWriter;

import javax.servlet.ServletException;

import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

interface Handler {
  public void doGet (HttpServletRequest request, HttpServletResponse response) 
    throws IOException; 
}

class DispatchChoice {
  public final String param; 
  public final GetHandler getHandler; 
  public DispatchChoice (String param, Handler getHandler) 
  {
    this.param = param;
    this.getHandler = getHandler;
  }
}

public class MyServlet extends HttpServlet
{
    String value;
    public void init() throws ServletException {
        value = getInitParameter("addressfile"); // correct value is saved here
        System.out.println("Init value : "+value);
    }
  DispatchChoice myChoice = new DispatchChoice("/test1", new FileHandler(value));

  public void doGet (HttpServletRequest request, HttpServletResponse response) 
    throws IOException
  {
        myChoice.getHandler.doGet(request, response);
  }
}

class FileHandler implements Handler {
    private String place;
    public FileHandler (String value){
        this.place = value; // this is NULL, not the value from above
        System.out.println("Param value : " + value);
    }

    public void doGet(HttpServletRequest request, HttpServletResponse response)
            throws IOException {
        File directory = new File(place); //is NULL
        File[] files = directory.listFiles();
        PrintWriter pw = response.getWriter();
        for (int index = 0; index < files.length; index++) {
            pw.println(files[index].getName());
        }
    }
} 
```

web.xml

```
<servlet>
<servlet-name>ListManagerServlet</servlet-name>
<servlet-class>savva.listmanagerservlet.ListManagerServlet</servlet-class>
<init-param>
    <param-name>addressfile</param-name>
    <param-value>d:\\temp\\</param-value>
</init-param>
</servlet>
<servlet-mapping>
<servlet-name>ListManagerServlet</servlet-name>
<url-pattern>/ListManagerServlet</url-pattern>
</servlet-mapping> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-13T10:00:50.590

```
DispatchChoice myChoice = new DispatchChoice("/test1", new FileHandler(value)); 
```

此行在之前执行`init()`，因此`value`仍未`null`分配！相反，将作业移到 内部`init()`，例如：

```
DispatchChoice myChoice;

public void init() throws ServletException
{
    value = getInitParameter("addressfile"); // correct value is saved here
    myChoice = new DispatchChoice("/test1", new FileHandler(value));
    System.out.println("Init value : "+value);
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-13T10:01:53.520

```
 DispatchChoice myChoice = new DispatchChoice("/test1", new FileHandler(value)); 
```

在创建实例时，在调用 init() 之前，您正在初始化 myChoice，因此`value`仍然为空。

初始化它`init()`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-13T10:06:39.517

在您的 servlet 中，您初始化类 menber

```
 DispatchChoice myChoice = new DispatchChoice("/test1", new FileHandler(value)); 
```

在 init() 方法使用 init 参数中的 hte 路径初始化值之前，它为空。

您应该将其实现为

```
public void init() throws ServletException {
    value = getInitParameter("addressfile"); // correct value is saved here
    if (myChoice == null) {
        myChoice  = new DispatchChoice("/test1", new FileHandler(value))}
    }
    System.out.println("Init value : "+value);
}
DispatchChoice myChoice = null; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-13T11:07:54.820

经过一番搜索，我发现使用 getServletContext().get/set Attribute() 比我以前的设计更好。但感谢您解释我的问题。

# php - 论坛的桌子设计

> ID：12871992
> 
> 赞同：0
> 
> 时间：2012-10-13T09:55:22.687
> 
> 标签：php, mysql, forum, organization

需要说明的是，我***不是***在找人来设计一个完整的论坛，而是需要一些帮助来确定如何关联几个表，以及这些表是否首先需要存在。

**论坛基本情况**

**话题**

```
topic_id //唯一主题ID，AI，PK
topic_name // 主题名称
... ETC

```

*   话题
*   这些主题中的帖子（这就是这里的内容，一个*帖子*
*   回复帖子，这就是下面的回复（你的回复就是）

**用户**

```
user_id // 用户唯一ID，PK，AI
用户名
用户通行证
用户电子邮件
用户日期

```

**帖子**

```
post_id // post的唯一ID - PK, AI
post_content
... ETC

```

我还想包括喜欢/不喜欢帖子的能力，因此我创建了一个`post_ranking`如下所示的表格

```
id //自动递增ID    
post_id // 外键，指 post.post_id
user_id // 外键，指user.user_id
vote_up // 帖子是否被投赞成票（0 表示反对，1 表示赞成）
rank_date // 排名发生的日期

```

我刚刚遇到的问题是我无法弄清楚如何将**回复**合并到此表中。到目前为止，我想到的唯一选择是创建第二个名为的表`reply_ranking`- 但这不会有点杂乱无章吗？

**所以，我的问题：**

我应该为排名创建两个单独的表格（`post_ranking`, `reply_ranking`）还是有另一种方法可以安排上面的表格来避免这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-13T10:01:45.420

我通常是这样想的：

一个用户**有很多**帖子（这意味着您需要一个`users`表和一个`posts`表，每个帖子都有一个 user_id 来表明谁拥有它。

对于某些关系，（例如，当您意识到 A**有很多**B 并且 B**有很多**A 时，这就是我们可以**n 到 n**的关系），您将需要第三张表；这可能是您在评论中暗示的**回复**实体应该在您的数据库中翻译成什么......

随意犯错误...几乎永远不会得到与开始时完全相同的模型...许多事情我们不知道我们需要，直到我们这样做。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-13T10:31:34.787

您的帖子不是很清楚，我不明白您在表主题中是否也发布了该主题并回复了该主题。

在这种情况下，我认为这不是好方法，您应该将帖子与主题数据分开。让我解释。

论坛由以下人员组成：

```
//                MAIN PAGE, showing avaible forums
//                    |
//              SPECIFIC FORUM, that show the threads (or topics) inside
//                    |
//                  POSTS that show part of the post related to that thread.
//
//       USER_CP -------------- ADMIN_CP 
```

我们至少需要 4 个表（我不考虑 admin_cp）。这些是：

```
//  TOPICS:
//  +---------------+---------+-------------+----------+----------+----------------+
//  | ID, p.k. a.i. |  TITLE  |  SUB_TITLE  |  AUTHOR  |  CLOSED  |  PARENT FORUM  |
//  +---------------+---------+-------------+----------+----------+----------------+
//
//  These are very few basic field for the table. No reference about the posts here.
//
//
//  FORUMS:
//  +---------------+---------+-------------+--------------+
//  | ID, p.k. a.i. |  TITLE  |  SUB_TITLE  |  VISIBILITY  |
//  +---------------+---------+-------------+--------------+
//
//  Almost clear, visibility is a value to determine if the forum is private (such are
//  forums like: "Moderator rooms" or "Admin stuff"), protected (i.e. for non registered
//  users, or if the forum is public.
//
//
//  POSTS:
//  +---------------+----------+-------+-----------+--------+---------+-------+- - -
//  | ID, p.k. a.i. | TOPIC_ID | TITLE | SUB_TITLE | AUTHOR | MESSAGE | VOTES | ...
//  +---------------+----------+-------+-----------+--------+---------+-------+- - - 
//  
//  In Votes you have a integer number (positive o negative, no matter) with the total
//  of the votes for this post (not useful if you fully use the table like).
//
//  REPLIES
//  +---------------+----------+---------+--------+---------+
//  | ID, p.k. a.i. | TOPIC_ID | POST_ID | AUTHOR | MESSAGE |
//  +---------------+----------+---------+--------+---------+
//
//
//  USERS
//  +---------------+------+------+------------+------+---------+- - - - -
//  | ID, p.k. a.i. | NICK | PASS | PRIVILEGES | NAME | SURNAME | ETC..
//  +---------------+------+------+------------+------+---------+- - - - -
//
//  Privileges determinate if a user is admin, mod, super_mod or simple user
//
//
//  LIKES
//  +---------------+---------+---------+----------+----------+---------+------+
//  | ID, p.k. a.i. | USER_ID | POST_ID | TOPIC_ID | REPLY_ID | UP_DOWN | DATE |
//  +---------------+---------+---------+----------+----------+---------+------+ 
```

在我看来，这是您应该使用的结构。

主页，显示所有论坛：

*   读取用户的权限
*   从表格中读取论坛数据`WHERE visibility >= user_privileges`
*   用适当的链接使每个论坛充满活力。

论坛页面，显示所有主题（和版主）：

*   阅读表格中的主题`WHERE parent_forum = forum_id`
*   阅读本论坛的版主
*   用适当的链接引人入胜的主题
*   在页面底部显示主持人。

主题页面，显示所有消息。

*   从表中读取 topi 数据。
*   话题也是第一条消息！
*   阅读表格中的帖子`WHERE topic_id = current_topic_id`
*   对于从“LIKES”表中读取的每个帖子`WHERE post_id = selected_post`
*   合计所有选票
*   将帖子放在适当的页面和适当的投票中。

用户页面：

*   读取所有数据，`WHERE id = user_id_that_want`
*   从“喜欢”中读取`WHERE user_id = actual_user`
*   您拥有用户发送的所有喜欢/不喜欢的内容。做你想做的事。
*   幻想

使用此表结构，您还可以使用 StackOverflow 类似的方式来考虑投票，即投票者的 UPvote 为 0，但投票者的 downvote 为 -1。对于每个帖子，您可以仅使用 post_id 从类似表中读取，因此您知道该帖子有多少票（上下），这样您还可以对帖子创建者进行投票 +10，对帖子进行投票 -5创造者。

只有一张喜欢的额外桌子。

你可以有：

*   对某个主题进行投票
*   对帖子投票
*   对答复投票
*   该主题的总票数（回复+帖子+主题）。

插入主题时，您将添加：

```
user_id
topic_id = topic id
post_id = -1 (this is not a post, is the topic!)
repl 
```

y_id = -1（如上）

当您插入帖子时：

```
user_id
topic_id = current topic
post_id = post_id
reply_id = -1 (this is not a a reply) 
```

当您插入回复时

```
user_id
topic_id = current topic
post_id = current post
reply_id = the reply id. 
```

这不会有身份问题的问题。因为三者是分开的。

如果您要求获得特定主题和特定帖子的所有答案，您将添加：

```
WHERE topic_id = current, post_id = current 
```

如果你需要一个主题的回复，只需输入 post_id = -1

等等。身份证没有问题！

我想我已经解释了几乎所有。有任何问题，问！编辑：这里和那里的东西

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-13T10:13:03.297

您可以做的另一件事是制作一个排名表，其中有一个字段指示赞成/反对票是针对帖子还是排名。您将不得不使用~~非唯一的~~通用“item_id”而不是帖子 ID 或回复 ID，但如果这对您很重要，您确实会得到一张表。

编辑：刚刚意识到外键字段无论如何都是非唯一的，因为您可能对同一个帖子有多个投票；关键是帖子ID和回复ID不能分开。

这将使查询表变得更加困难。我的建议是你按照你目前的计划做两张桌子；这是您组织数据的最语义化的方式。

# c# - 在 C# 中使用 LINQ 和 XML 获取子元素

> ID：12871997
> 
> 赞同：0
> 
> 时间：2012-10-13T09:56:02.033
> 
> 标签：c#, xml, linq, kml

我刚开始在 c# 中使用 linq 查询，我正在努力获取我需要的所有数据。

基本上我使用 google earth kml 文件作为我的 xml 文件。

结构看起来像这样。

```
<?xml version="1.0" encoding="UTF-8"?>
<kml xmlns="http://earth.google.com/kml/2.2">
 <Document>
  <Placemark>
    <name>XXX</name>
    <description>XXX</description>
    <styleUrl>XXX</styleUrl>
    <Point>
       <coordinates>XXX</coordinates>
    </Point>
  </Placemark>
 </Document>
</kml> 
```

使用我的代码，我可以获得第一级元素（名称、描述、styleurl），但无法正确获取语法以获取 Point 中的坐标元素。谁能指出我正确的方向？我正在努力解决的问题是 Coord = p.Element(ns + "Point").Element(ns + "coordinates").Value，这应该是什么？

```
XNamespace ns = "http://earth.google.com/kml/2.2";

var placemarks = xdoc.Descendants(ns + "Placemark")
                     .Select(p => new
                          {
                               Name = p.Element(ns + "name").Value,
                               Desc = p.Element(ns + "description").Value,
                               Coord = p.Element(ns + "Point")
                                        .Element(ns + "coordinates").Value  
                          }).ToList(); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-13T10:04:38.010

```
 var placemarks = xdoc.Descendants(ns + "Placemark")
                            .Select(p => new
                            {
                                Name = p.Element(ns + "name").Value,
                                Desc = p.Element(ns + "description").Value,
                                Coord = p.Descendants(ns + "coordinates")
                                         .First().Value
                            })
                            .ToList(); 
```