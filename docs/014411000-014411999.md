# StackOverflow 问答 14411000-14411999

# drupal - 创建新区域 - Drupal 7 中没有乐趣

> ID：14411007
> 
> 赞同：0
> 
> 时间：2013-01-19T04:09:35.147
> 
> 标签：drupal, drupal-themes, regions

我正在修改 Bartik 以创建自定义主题。从我读过的所有内容来看，我做对了，但它仍然无法正常工作。我已经清除了我的缓存一百万次，但仍然出现这些错误：

> 注意：未定义索引：include() 中的 department_column_left（/Users/scott/Sites/HardwareNext/sites/all/themes/hn01/templates/page.tpl.php 的第 191 行）。注意：未定义索引：include() 中的 department_content（/Users/scott/Sites/HardwareNext/sites/all/themes/hn01/templates/page.tpl.php 的第 197 行）。注意：未定义索引：include() 中的 department_footer（/Users/scott/Sites/HardwareNext/sites/all/themes/hn01/templates/page.tpl.php 的第 203 行）。

任何帮助将不胜感激！

这是***hn01.info***文件：

```
name = hn01
description = HN - Template 01
package = Core
version = VERSION
core = 7.x

stylesheets[all][] = css/layout.css
stylesheets[all][] = css/style.css
stylesheets[all][] = css/colors.css
stylesheets[print][] = css/print.css

regions[header] = Header
regions[help] = Help
regions[page_top] = Page top
regions[page_bottom] = Page bottom

regions[featured] = Featured
regions[content] = Content
regions[sidebar_first] = Sidebar first

regions[department_column_left] = Department column left
regions[department_content] = Department content
regions[department_footer] = Department footer

regions[footer_firstcolumn] = Footer first column
regions[footer_secondcolumn] = Footer second column
regions[footer_thirdcolumn] = Footer third column
regions[footer_fourthcolumn] = Footer fourth column
regions[footer] = Footer

settings[shortcut_module_link] = 0

; Information added by drupal.org packaging script on 2012-11-07
version = "7.17"
project = "drupal"
datestamp = "1352325357" 
```

...这是***page.tpl.php***文件中的相关代码：

```
<?php if ($page['department_column_left']): ?>
  <div id="department-column-left" class="department-column-left"><div class="section">
    <?php print render($page['department_column_left']); ?>
  </div></div> <!-- /.section, /#department-column-left -->
<?php endif; ?> 

<?php if ($page['department_content']): ?>
  <div id="department-content" class="department-content"><div class="section">
    <?php print render($page['department_content']); ?>
  </div></div> <!-- /.section, /#department-content -->
<?php endif; ?> 

<?php if ($page['department_footer']): ?>
  <div id="department-footer" class="department-footer"><div class="section">
    <?php print render($page['department_footer']); ?>
  </div></div> <!-- /.section, /#department-footer -->
<?php endif; ?> 
```

如果有什么我可以澄清的，请告诉我。我认为添加区域就像添加到 .info 文件然后修改***page.tpl.php***文件一样简单。还有更多吗？

提前感谢，

斯科特。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-19T18:13:59.737

好吧，这很奇怪。

正如我所说，多次清除缓存后，我关闭浏览器并重新打开它。那并没有解决问题。

因此，当我在“流程”上等待答案时，我开始在管理菜单中导航。转到“配置”并调整图像样式，然后在我更新后...

上面的错误就消失了。

我的新区域已就位且可用。我整个早上都在使用它们，没有任何不良影响。所以如果你遇到我的问题——在你把那只鸡献给 Drupal 之神之前——试着进入一个街区，改变一些东西，然后保存它。它只是可以将您的键盘从该死的鸡中拯救出来。

# sql - 删除 jTable 中的选定行后，现有帖子会继续重新添加

> ID：14411008
> 
> 赞同：0
> 
> 时间：2013-01-19T04:10:33.210
> 
> 标签：sql, swing, jtable, defaulttablemodel

我尝试在删除选定行时刷新 jTable 的数据。这是我设置表格的代码：

```
 private JTable getJTableManageReplies() {
    jTableManageReplies.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);
    jTableManageReplies.getSelectionModel().addListSelectionListener(
            new ListSelectionListener() {
                @Override
                public void valueChanged(ListSelectionEvent e) {
                    if (!e.getValueIsAdjusting()) {
                        int viewRow = jTableManageReplies.getSelectedRow();
                        // Get the first column data of the selectedrow
                        int replyID = Integer.parseInt(jTableManageReplies.getValueAt(
                                viewRow, 0).toString());

                        eForumRepliesAdmin reply = new eForumRepliesAdmin(replyID);
                        replyID = JOptionPane.showConfirmDialog(null, "Are you sure that you want to delete the selected reply? " , "Delete replies", JOptionPane.YES_NO_OPTION);
                        if(replyID == JOptionPane.YES_OPTION){
                        reply.deleteReply();
                        JOptionPane.showMessageDialog(null, "Reply has been deleted successfully.");
                        SetUpJTableManageReplies();
                        }   
                    }
                }
            });
    return jTableManageReplies;
}

    public void SetUpJTableManageReplies() {

    DefaultTableModel tableModel = (DefaultTableModel) jTableManageReplies
            .getModel();
    String[] data = new String[5];
    db.setUp("IT Innovation Project");
    String sql = "Select forumReplies.reply_ID,forumReplies.reply_topic,forumTopics.topic_title,forumReplies.reply_content,forumReplies.reply_by from forumReplies,forumTopics WHERE forumReplies.reply_topic = forumTopics.topic_id ";
    ResultSet resultSet = null;
    resultSet = db.readRequest(sql);

    jTableManageReplies.repaint();
    tableModel.getDataVector().removeAllElements();

    try {
        while (resultSet.next()) {
            data[0] = resultSet.getString("reply_ID");
            data[1] = resultSet.getString("reply_topic");
            data[2] = resultSet.getString("topic_title");
            data[3] = resultSet.getString("reply_content");
            data[4] = resultSet.getString("reply_by");
            tableModel.addRow(data);
        }
        resultSet.close();
    } catch (Exception e) {
        System.out.println(e);
    }
} 
```

这是我的 sql 语句：

```
 public boolean deleteReply() {
    boolean success = false;
    DBController db = new DBController();
    db.setUp("IT Innovation Project");
    String sql = "DELETE FROM forumReplies where reply_ID = " + replyID
            + "";
    if (db.updateRequest(sql) == 1)
        success = true;
    db.terminate();
    return success;
} 
```

我调用了 repaint() 来用数据库中的最新数据更新表数据，它可以工作。我的意思是删除某些行后的数据。但是，现有的帖子将继续重新添加。然后我添加 removeAllElement 方法来删​​除所有现有的帖子，因为我的 sql 语句是 select * from table。然后，有一条错误消息，即 ArrayIndexOutOfBoundsException。有什么指南可以解决这个问题吗？提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-19T05:11:07.557

> 我调用了 repaint() 来用数据库中的最新数据更新表数据，它可以工作。

`repaint`数据更改时无需调用方法。数据更改由`Table Model`（在这种情况下为[DefaultTableModel](http://download.java.net/jdk8/docs/api/javax/swing/table/DefaultTableModel.html)`fireXXXMethods` ）处理。并且在数据更改时需要调用，但您正在使用`DefaultTableModel`甚至不需要的那些。（因为默认情况下，只要有变化，它就会调用这些方法。）

我认为问题出在`valuesChanged(..)`方法上。您正在获取第 0 行的值，但不检查表是否有行。所以保持一个约束。

```
int viewRow = jTableManageReplies.getSelectedRow();
// Get the first column data of the selectedrow
if(jTableManageReplies.getRowCount() > 0)
    int replyID = Integer.parseInt(jTableManageReplies.getValueAt(viewRow, 0).toString()); 
```

# html - 使用 XBL 插入 HTML

> ID：14411009
> 
> 赞同：0
> 
> 时间：2013-01-19T04:10:43.240
> 
> 标签：html, css, xbl

按照[**这个答案**](https://stackoverflow.com/a/482088)，我可以像这样用 Firefox 插入一些文本

css

```
body
{
  -moz-binding: url(foo.xml#bar);
} 
```

foo.xml

```
<bindings xmlns="http://www.mozilla.org/xbl">
  <binding id="bar">
    <content>
      Hello world
    </content>
  </binding>
</bindings> 
```

但是我找不到使用这种方法插入 HTML 而不是文本的方法。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-19T04:45:47.140

看来我只需要声明[**XHTML 命名空间**](http://developer.mozilla.org/en-US/docs/XUL/Tutorial/Adding_HTML_Elements)

```
<bindings xmlns="http://www.mozilla.org/xbl"
    xmlns:html="http://www.w3.org/1999/xhtml">
  <binding id="bar">
    <content>
      <html:b>
        Hello world
      </html:b>
    </content>
  </binding>
</bindings> 
```

# visual-studio-2012 - ReSharper 智能感知不显示文档

> ID：14411014
> 
> 赞同：35
> 
> 时间：2013-01-19T04:12:00.743
> 
> 标签：visual-studio-2012, resharper, resharper-7.1

知道为什么我的 ReSharper IntelliSense 没有附带任何文档吗？如果我转到 ReSharper 选项并启用 Visual Studio IntelliSense，则在浏览 IntelliSense 弹出窗口中的成员时会得到正确的文档。如果我重新启用 ReSharper IntelliSense，我现在会得到 ReSharper IntelliSense 弹出无文档。

* * *

## 回答 #1

> 赞同：49
> 
> 时间：2013-01-19T07:32:34.283

去`ReSharper | Options -> Environment | IntelliSense | Completion Appearance`。检查`Show member signatures`和`Show summary`。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-12-19T11:58:42.397

对于像我一样尝试了上面提供的解决方案但没有用的人。我找到了这篇[文章](http://rionscode.wordpress.com/2013/06/28/a-battle-of-intellisense/)，它对我有用。

转到工具 - 选项 - 文本编辑器 - C#（或所有语言，或任何你需要的）。在常规部分中，选项`Auto list Members`和`Parameter information`必须启用。（我想只是`Parameter Information`可以，但我还是启用了另一个，因为它是一个很好的功能）。

# assembly - 6502中有哪些使用控制流的方法？

> ID：14411017
> 
> 赞同：4
> 
> 时间：2013-01-19T04:12:02.507
> 
> 标签：assembly, 6502, retro-computing

我正在尝试了解 6502 程序集中的控制流程。

假设我有以下代码：

```
 ControlFlow:
      lda mem
      cmp #1
      bne .sub_one

      cmp #2
      bne .sub_two

      .sub_one:
        ; sub routine one goes here
        jmp .done ; <-------------- without this jmp, .sub_two will execute

      .sub_two:
       ; sub routine two goes here

      .done:

      rts 
```

就个人而言，我喜欢 switch 语句或其他一些控制流结构。上面的 JMP 也与我有关。似乎有一种更好的方法可以在没有这种意大利面条代码的情况下处理多种情况。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-20T09:20:38.627

如果案例数量足够大，跳转表会很有用。在左侧，有一个模板（未经测试）用于跳转到标签，它将正确的地址推送到堆栈并返回。右侧有一个基于 jsr 的例程的*差异*，它将在`_out:`从每个子例程返回后在标签处继续。进位逻辑在 6502 上反转，这意味着如果 (Acc >= Imm) 将设置进位。

```
; goto  label[n]   vs.         call label[n]

lda variable
cmp #MAX_PLUS_ONE                          
bcs _out
tax
lda table_hi, X
pha                vs.         sta jsrcmd+2
lda table_lo, X
pha                vs.         sta jsrcmd+1
rts                vs. jsrcmd: jsr 1000        ; self modify

_out: 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-01-19T09:29:14.430

实际上没有更好的方法，但可能会有改进，例如将 FlowControl 作为子例程调用并使用 RTS 返回。

这是主要流程。

```
 jsr ControlFlow
  ; main routine continues here 
```

这是子程序。

```
ControlFlow:
  lda mem
  cmp #1
  bne .sub_one
  cmp #2
  bne .sub_two
  cmp #3
  bne .sub_three
    ; case else here
  rts

  .sub_one:
    ; sub routine one goes here
  rts

  .sub_two:
   ; sub routine two goes here
  rts

  .sub_three:
   ; sub routine three goes here
  rts 
```

如果子例程太长，则需要使用前面提到的 JMP。

```
.jump_to_sub_one
  jmp .sub_one
.jump_to_sub_two
  jmp .sub_two
.jump_to_sub_three
  jmp .sub_three

ControlFlow:
  lda mem
  cmp #1
  bne .jump_to_sub_one
  cmp #2
  bne .jump_to_sub_two
  cmp #3
  bne .jump_to_sub_three
    ; case else here
  rts

  .sub_one:
    ; sub routine one goes here
  rts

  .sub_two:
   ; sub routine two goes here
  rts

  .sub_three:
   ; sub routine three goes here
  rts 
```

这就是它的完成方式，不幸的是，没有更好的方法。这适用于许多汇编语言，如果不是全部的话。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-08-18T14:27:06.133

6502提供以下控制程序流程，即修改PC寄存器。

*   JMP绝对
*   JMP 间接
*   bxx 相关说明
*   JSR 绝对值与更高版本的 RTS
*   BRK 或其他带有稍后 RTI 的 IRQ（或 RTS，如果您`.P`从堆栈中拉出）
*   将两个值推入堆栈，然后推入 RTS/RTI
*   硬件复位导致跳过复位向量

就是这样。如果您想要更复杂的东西，您需要使用上述一种或多种方法来创建它。

实现 switch 语句的一种方法是首先创建一个指向 switch 语句中涉及的所有例程的指针表。根据例程的低字节和高字节拆分它们：

`switchtab_lo .db >routine1, >routine2, >routine3`

`switchtab_hi .db <routine1, <routine2, <routine3`

（我永远不记得 > 是指低字节还是高字节，不同的汇编程序可能有不同的语法）

然后，假设您要切换的值在 .X 中，即`vector`不是从页面末尾开始的两个字节（以避免 JMP 间接错误），并且您已确保它是有效值：

```
lda switchtab_lo,X
sta vector
lda switchtab_hi,X
sta vector+1
jmp (vector) 
```

每次需要切换时都这样做很乏味，但这就是发明高级语言的原因。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2015-10-21T06:58:36.533

```
 lda mem
        asl
        sta jump+1
jump    jmp (vector)

;should be page aligned
vector
        !word func1, func2, func3, func4 
```

如果向量列表未对齐，则需要将索引*2 添加到整个向量地址，速度较慢，但​​内存效率更高。

其他选择是：

```
 lda mem
         asl
         clc
         adc mem        ;we assume it does not overflow, so carry stays cleared
         sta branch+1   ;mem * 3
branch   bcc *
         jmp func1
         jmp func2
         jmp func3
         jmp ... 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-11-22T22:11:46.003

CMOS 6502（即65c02）也有**JMP(abs,X)**寻址方式，所以可以取A中的输入，用ASL A左移1位，（因为表中的每个地址占用两个位置），然后将其转移到 X 并执行 JMP(Addr_Table,X)。简单得多。这是 CMOS 版本中添加的许多操作码之一。（CMOS版本也修复了NMOS版本的所有bug）。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-01-19T04:15:45.280

我不知道你在 6502 上怎么做，但是`switch`es 经常被编译成[jump tables](https://en.wikipedia.org/wiki/Branch_table)。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-03-04T04:10:17.803

[我在http://wilsonminesco.com/StructureMacros/index.html](http://wilsonminesco.com/StructureMacros/index.html)上有一篇关于使用宏在 6502 汇编中制作程序结构的文章。我也为 PIC 完成了它，并且两者的源代码的链接都在那里。当我完成我正在做的一个项目时，还会有更多的补充。

OP 是 IF...ELSE...END_IF 的理想选择。当需要更多情况时，如果数字是连续的，则跳转表效果很好，并且您不必测试限制以避免从表外间接跳转并崩溃。否则 CASE 语句可以很好地工作。 [http://forum.6502.org/viewtopic.php?f=2&t=2311&start=15](http://forum.6502.org/viewtopic.php?f=2&t=2311&start=15)是此类讨论的第二页，我在那里展示了如何测试个别情况、一系列数字或分散数字，都在同一个 CASE 语句中。我还没有将 RANGE_OF 和 SET_OF 写成 6502 汇编宏。那是我只在 Forth 中拥有的两个。

当然，这些宏的目标是通过更清楚地了解您在做什么，并摆脱通常表征汇编代码的大量标签和跳转，从而更好地控制代码。宏让您可以完全控制汇编程序编写的每一段代码，但您不必一直查看内部细节。在大多数情况下，占用的程序内存或执行速度绝对为零。您可以获得汇编的性能以及高级语言的许多好处。代码变得更快开发、更无缺陷且更易于维护，这意味着当您决定添加功能或更改某些内容时，更容易稍后返回并弄清楚您做了什么。

# javascript - jquery.ui对话框按钮功能返回后如何执行javaScript。？

> ID：14411021
> 
> 赞同：-1
> 
> 时间：2013-01-19T04:13:36.203
> 
> 标签：javascript, jquery-ui

我试图避免 javascript 的确认框并尝试了 jquery.ui 对话框。

当确认框返回真或假之后，只有剩余的 javascipt 将执行，但在这个 jquery.ui 对话框中没有发生。

这是我试过的，

我有一些链接

```
 function checkit(){
   var istrue = showdial("confirm");
   if(istrue== true) alert("yes");
   else  alert("no");
}
function showdial(tStr)
{
     $('<div></div>').appendTo('body')
                    .html('<div><h4>Are you sure..?</h4></div>')
                    .dialog({
                        title: tStr, 
                        zIndex: 10000,
                        autoOpen: true,
                        modal: true,
                        buttons:{
                             Yes: function(){

                                $(this).dialog("close");

                                return true;
                             }
                             No: function(){
                                $(this).dialog("close");
                                return false;
                              }
                        }

               }); 

  } 
```

如果我在上面做错了什么，请纠正我。

在单击是或否按钮之前，它始终只提示“否”，. 在该对话框返回值后，我如何运行脚本。而且我不希望使用该 setTimeout() 函数。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-19T04:24:03.903

异步代码不能返回那样的值。看看[这个相关的问题](https://stackoverflow.com/questions/4353070/returning-data-from-anonymous-asynchronous-functions?rq=1)，它解释了如何使用回调解决这个问题。

# javascript - javascript 弹出窗口加载父 url

> ID：14411025
> 
> 赞同：0
> 
> 时间：2013-01-19T04:14:34.777
> 
> 标签：javascript, html

我一直在制作一个网页，他们希望这个人注册一些东西。结果，他们在页面上有一个警报窗口，用户点击“注册”按钮，警报窗口加载一个表单。

没什么大不了的。但是，在下面的浏览器页面和注册第二阶段的表单上，有指向标准免责声明页面的链接。他们希望这些在用户点击它们时弹出窗口。

当我以通用形式对其进行测试时（没有用户登录 - 页面和免责声明被声明为“公共”，因此您无需登录即可查看它们），它运行良好。

但是，如果用户已登录，当您点击免责声明链接时，它会加载相同的“注册”页面 - 父页面！

我将发布我的编码，但我正在寻找的是双重的 - 有没有一种简单的方法可以防止其他内容加载到该弹出窗口中？

如果不是，我猜它与无处不在的注册弹出窗口/警报有关，并且当其他内容被拉入时，有编码告诉它加载具有同一页面的任何后续弹出窗口。我应该寻找某种语言吗？这一切都是非常模块化的，有很多包含，跟踪事情可能很棘手。如果有人有一些建议，我猜就更少了。

* * *

`<script language="javascript" type="text/javascript">`

```
// Popup window code

var popupWindow = null;

function popitup(url2,winName,w,h,t,l,scroll){

settings =

'height='+h+',width='+w+',top='+t+',left='+l+',scrollbars='+scroll+',resizable'
popupWindow = window.open(url2,winName,settings)
}

</script>` 
```

`<p>&copy; <%=Year(now)%>&nbsp;<%=usr_Company%> All Rights Reserved.`
`<a style="color: #898787;" href="info_privacy1.asp" onclick="popitup(this.href,'disclose','700','780','100','200','yes');return false">Privacy Policy</a>` `| <a style="color: #898787;" href="info_terms1.asp" onclick="popitup(this.href,'disclose','700','780','100','200','yes');return false">Terms of Service</a> <br /><br />`

```
 <%=brand_name%> legal disclaimer blah blah blah blah blah.<br /><br />
</p>

</div>

</div>

</body>

</html> 
```

`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-19T04:55:58.923

您必须让 JS 知道用户已登录。执行此操作的方法很少 - AJAX，但更简单的是页面加载 -IDK 您正在使用什么 - php 或其他什么，但它应该做的是：

如果用户已登录，则将 globav 变量打印到 javascript "userSignedIn = 1"

那么当用户点击一个链接时，js会检查userSignedIn是否设置为1，如果是则不会显示注册窗口，而是继续下一个，如果没有设置userSignedin（或者不是1），则将显示注册表单...

# python - 没有 __dict__ 的 Python 打印属性

> ID：14411028
> 
> 赞同：16
> 
> 时间：2013-01-19T04:15:15.480
> 
> 标签：python, scripting-bridge

我在为 python 编写脚本桥时遇到问题

我正在尝试列出 iTunes 对象的属性

```
iTunes = SBApplication.applicationWithBundleIdentifier_("com.apple.iTunes") 
```

使用

```
>>> from pprint import pprint
>>> from Foundation import *
>>> from ScriptingBridge import *
>>> iTunes = SBApplication.applicationWithBundleIdentifier_("com.apple.iTunes")
>>> pprint (vars(iTunes)) 
```

我回来

```
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
TypeError: vars() argument must have __dict__ attribute 
```

有谁知道如何解决这个问题？

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-01-19T04:16:21.880

试试`dir(iTunes)`。它类似于`vars`，但更直接地用于对象。

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2015-07-05T02:59:46.267

对于类似于 vars(obj) 的东西，当 obj 不能作为 dict 访问时，我使用这样的 kludge：

```
>>> obj = open('/tmp/test.tmp')
>>> print vars(obj)
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
TypeError: vars() argument must have __dict__ attribute
>>> print dict([attr, getattr(obj, attr)] for attr in dir(obj) if not attr.startswith('_')) 
```

`{'softspace': 0, 'encoding': None, 'flush': <built-in method flush of file object at 0xf7472b20>, 'readlines': <built-in method readlines of file object at 0xf7472b20>, 'xreadlines': <built-in method xreadlines of file object at 0xf7472b20>, 'close': <built-in method close of file object at 0xf7472b20>, 'seek': <built-in method seek of file object at 0xf7472b20>, 'newlines': None, 'errors': None, 'readinto': <built-in method readinto of file object at 0xf7472b20>, 'next': <method-wrapper 'next' of file object at 0xf7472b20>, 'write': <built-in method write of file object at 0xf7472b20>, 'closed': False, 'tell': <built-in method tell of file object at 0xf7472b20>, 'isatty': <built-in method isatty of file object at 0xf7472b20>, 'truncate': <built-in method truncate of file object at 0xf7472b20>, 'read': <built-in method read of file object at 0xf7472b20>, 'readline': <built-in method readline of file object at 0xf7472b20>, 'fileno': <built-in method fileno of file object at 0xf7472b20>, 'writelines': <built-in method writelines of file object at 0xf7472b20>, 'name': '/tmp/test.tmp', 'mode': 'r'}`

我确信这可以改进，例如过滤掉函数`if not callable(getattr(obj, attr)`：

```
>>> print dict([attr, getattr(obj, attr)] for attr in dir(obj) if not attr.startswith('_') and not callable(getattr(obj, attr)))
{'errors': None, 'name': '/tmp/test.tmp', 'encoding': None, 'softspace': 0, 'mode': 'r', 'closed': False, 'newlines': None} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-12-26T09:22:26.183

这来得很晚，但是对于不同的问题（但相同的错误），以下对我有用：

```
json.dumps(your_variable) 
```

确保在此之前您已在脚本中导入 JSON。

```
import json 
```

您将需要找到一种以干净格式读取 JSON 的方法。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2020-09-14T11:30:31.363

```
def dump(obj):
    if hasattr(obj, '__dict__'): 
        return vars(obj) 
    else:
        return {attr: getattr(obj, attr, None) for attr in obj.__slots__} 
```

使用代替`vars()`:)

# ruby-on-rails - 向 Rails Composer、Devise、CanCan、Twitter Bootstrap 添加角色

> ID：14411029
> 
> 赞同：3
> 
> 时间：2013-01-19T04:15:15.937
> 
> 标签：ruby-on-rails, roles, cancan, rails-console, rolify

我正在制作一个从[Rails Composer、Devise、CanCan、Twitter Bootstrap 开始的应用程序。](https://github.com/RailsApps/rails3-bootstrap-devise-cancan)

我知道如何使用能力模型设置用户权限。如何添加更多角色以赋予某些权限？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-19T04:15:15.937

我在搜索过程中找不到任何帮助，所以这是我自己想出的。

在 rolify 和 rails composer 之间的某个地方，创建了一个角色表。

1.  进入 rails 控制台

    ```
    $ rails c 
    ```

2.  添加您的新角色

    ```
    irb> Role.create name: 'new-role' 
    ```

*用它来显示你所有的角色

```
 irb> Role.all 
```

*删除角色

```
 irb> Role.delete(role_id) 
```

# python - 在 python 脚本中运行 python 代码

> ID：14411033
> 
> 赞同：0
> 
> 时间：2013-01-19T04:15:45.297
> 
> 标签：python

我想做以下事情。脚本有一些 python 代码作为字符串（保存在变量中），是否可以运行该代码？

好吧，我知道一种方法，将该字符串写入文件并运行它，但我不想要那样。在不创建任何额外文件的情况下，是否可以运行它？

这是一个例子：

假设我的 python 文件有以下内容

```
#this is a main python file
content = ''' print 'hello!'
                   print 'this is from sub python code' '''
print 'from main python' 
```

内容字符串有一个 python 代码 & 我想运行它。是否可以 ？

希望我清楚。谢谢 ！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-19T04:19:46.110

我会提前说：这是一个糟糕的想法，并且取决于字符串的来源，存在严重的安全风险。

顺便说一句，python 有一个 exec 函数，它执行包含 python 代码的字符串。例如：

```
exec("print 2+2") 
```

编辑：我最初在我的答案中使用了 eval ，这对于评估单个表达式很有用，而 exec 可用于更一般地执行字符串中的任意 python 代码。

相关文档：

[http://docs.python.org/2/reference/simple_stmts.html#exec](http://docs.python.org/2/reference/simple_stmts.html#exec)

[http://docs.python.org/2/library/functions.html#eval](http://docs.python.org/2/library/functions.html#eval)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-19T04:20:06.450

那么你可以使用`eval`：

```
eval(content) 
```

这会做你想做的事，但不建议这样做，特别是如果其他人控制内容`content`- 如果你有入侵你的系统并不难`eval`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-19T04:21:17.800

您是否按照应该执行的文档尝试使用 exec 方法

执行“打印'你好，世界！'”

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-19T04:46:41.500

根据您尝试执行的代码，您可以使用`eval()`或`exec`。这两个选项之间有几个区别：

1.  `eval()`做它应该做的：它评估一个表达式并返回一个值，而不是执行代码。这意味着您可以调用函数、做一些算术运算，甚至使用列表推导、生成器或 lambda，但不能执行不是表达式的 Python 语句（例如`if`，在 Python 2 中， `for`, `print`；然而，在 Python 3`print`中是一个函数并且没问题） .
2.  `eval()`接受比字符串更多的参数。它得到`locals`和`globals`，两个字典，定义范围环境。如果您填写这些字典并将其传递给`eval()`. 可能，您甚至可以通过正确设置`__builtins__`全局变量来重新定义内置函数。[http://docs.python.org/2/library/functions.html#eval](http://docs.python.org/2/library/functions.html#eval)
3.  `exec`也接受全局变量和本地变量。请参阅[http://docs.python.org/2/reference/simple_stmts.html#exec](http://docs.python.org/2/reference/simple_stmts.html#exec)。它可以执行一切。而且几乎不可能让它变得相对安全。

# wordpress - 如何将文件保存到wordpress

> ID：14411037
> 
> 赞同：-1
> 
> 时间：2013-01-19T04:16:32.003
> 
> 标签：wordpress, plugins

我在 localhost 上运行我的 wordpress，我的代码从 url 检索照片并使用 file_put_contents 将它们添加到当前目录，但我需要将它们添加到 /wordpress/wp-content/uploads 中，wordpress 保存手动上传的文件。

```
$Address = "www.xxx.com/" . $file;
$ch = curl_init();
curl_setopt($ch, CURLOPT_POST, 0);
curl_setopt($ch, CURLOPT_URL, $file);
curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
$url = curl_exec($ch);
curl_close($ch);
$location = "/wordpress/wp-content/uploads/2013/a.jpg"; 
file_put_contents($location, file_get_contents($url));
if(! function_exists('wp_upload_dir'))
                {
                    define('WP_USE_THEMES',false);
                    require 'wordpress/wp-load.php';
                }
    $upload_dir = wp_upload_dir(); 
    echo $upload_dir['path'];
    echo $upload_dir['url'];
    echo $upload_dir['subdir']; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-09-10T09:52:24.187

[http://codex.wordpress.org/Function_Reference/wp_upload_bits](http://codex.wordpress.org/Function_Reference/wp_upload_bits)

```
// the curl thing from question...results in `$url`
$upload = wp_upload_bits('a.jpg', null, file_get_contents($url));
echo $upload['file'], $upload['url'], $upload['error']; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-19T06:45:59.480

我想我理解这个问题。

此或任何等效语句应位于文件顶部以加载 WP：

```
require_once("path/to/wp-load.php"); 
```

这`path/to/`是相对的，取决于文件的位置。例如，如果您的文件位于 的文件夹中`wordpress/here`，则路径应该类似于`"../wp-load.php"`，但这是您必须弄清楚的。

尝试显示错误，以便您知道发生了什么，使用如下代码：

```
ini_set( 'display_errors', TRUE );
error_reporting( E_ALL ); 
```

然后，添加以下代码：

```
$UploadDir = wp_upload_dir();
$UploadURL = $UploadDir['baseurl'];
$location  = $UploadURL . "/2013/a.jpg"; 
```

消除：

```
$location = "/wordpress/wp-content/uploads/2013/a.jpg"; and all code from:

if(! function_exists('wp_upload_dir')) { 
```

一直到最后一行。

在适当的位置插入`echo`语句以查看结果。

# ruby-on-rails - 由创建项目的用户自动投票 [Rails 3.2.11] [acts_as_votable] [devise]

> ID：14411040
> 
> 赞同：0
> 
> 时间：2013-01-19T04:17:18.707
> 
> 标签：ruby-on-rails, ruby-on-rails-3, devise, ruby-on-rails-3.2

我在**Rails 3.2.11中使用****acts_as_votable**和**设计**gem，并且我试图自动让创建项目的用户在创建项目后对其进行投票。听起来很简单，对吧？我的控制器中有一个 vote_up 方法，我试过这个：

 **```
after_filter :vote_up, :only => :create 
```

然而，唉，它什么也没做。我知道 vote_up 方法没有被破坏，因为无论何时从视图中调用它都可以完美运行。

有任何想法吗？

**编辑：**我的控制器中的 vote_up 方法：

```
def vote_up
  @skill_relationship = SkillRelationship.find(params[:id])

  if current_user.voted_up_on? @skill_relationship then
    @skill_relationship.unliked_by :voter => current_user
  else
    @skill_relationship.liked_by current_user
  end

  respond_to do |format|
    format.js { render :action => "vote" }
  end
end 
```

我也可以直接在我的创建方法中运行该行`@skill_relationship.unliked_by :voter => current_user`或类似的东西（我也尝试过，但无济于事）。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-11-17T21:58:19.497

这是很久以前的，但如果其他人偶然发现它，只需在模型保存在创建操作中后添加类似这样的内容：

```
current_user.likes @skill_relationship 
```**

# c++ - C ++错误：“对cnt（int）collect2的未定义引用：错误：ld返回1退出状态

> ID：14411042
> 
> 赞同：-2
> 
> 时间：2013-01-19T04:17:34.107
> 
> 标签：c++, undefined-reference, exitstatus

当我编译这个 C 程序时，我得到一个错误：

```
In function `main': maxcount.cpp:(.text+0x63): undefined reference to `cnt(int)'

collect2: error: ld returned 1 exit status 
```

这是什么意思？这是代码：

```
#include<iostream>
using namespace std;
int cnt(int);
int main()
{
  int x[30],i,j,q;
  cout<<"enter x[i]";
  for(i=0;i<7;i++)
  {
    cin>>x[i];
  }
  q = cnt(x[30]);
}
int cnt(int x[30])
{
  int i,j;
  int max=x[0];
  int count=0;
  for(i=0;i<7;i++)
  {
    if(x[i]>max)
    {
      max=x[i];
    }
    else
    {
      max=x[0];
    }
  }
  for(i=0;i<7;i++)
  {
    if(max==x[i])
    {
      count++;
    }
  }
  cout<<count;
  return 0;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-19T04:26:58.660

这意味着它找不到使用的定义`int cnt(int);`，`main()`并且您转发声明。

相反，您定义：

```
int cnt(int x[30]) { ... } 
```

这是两个不同的签名。一个接受一个整数参数，另一个接受一个整数数组。

此外，这个说法是不正确的：

```
q=cnt(x[30]); 
```

这将获取数组中索引 30 处的*第 31 个*`x`元素。但是，`x`仅声明大小为 30。由于您`x`在函数中用作数组，因此您可能只想将前向声明更改为：

```
int cnt(int[30]); 
```

然后像这样调用它：

```
q = cnt(x); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-19T04:26:59.020

```
int cnt(int x[30]) { ... } 
```

不*一样*：

```
int cnt(int x) { ... } 
```

当您声明一个采用单个整数的函数的原型时，您永远不会*定义*这样的函数。相反，您定义一个采用数组。

您需要弄清楚是要传递数组还是数组的元素。来电：

```
q=cnt(x[30]); 
```

尝试传递数组的第 31 个元素（顺便说一下，它不存在）。我怀疑（因为您`x`在函数中取消引用）您可能只想传递`x`，这是整个数组（或者，更准确地说，是所述数组的第一个元素的地址）。

# java - 使用构造函数调用方法

> ID：14411043
> 
> 赞同：0
> 
> 时间：2013-01-19T04:17:52.747
> 
> 标签：java, android, methods, constructor

我想使用调用方法的构造函数`points()`。该方法计算3个点的经纬度。我需要另一个班级的这些价值观。因此，我试图在构造函数中调用该方法。请帮我解决这个问题的语法。

这是我的班级 FirstActivity

```
package com.example.gpsdistance;

import android.os.Bundle;
import android.os.Handler;
import android.app.Activity;
import android.content.Intent;
import android.view.Menu;
import android.view.View;
import android.widget.Button;
import android.widget.LinearLayout;
import android.widget.TextView;
import android.widget.Toast;

public class FirstActivity extends Activity {

    Button btnShowLocation, btnMinDis;
    TextView display= null;
    public float check= 5; 

    //private final Context mctx;
    double latuser;
    double longuser;
    double dx1, dy1, delta_long1, delta_lat1, final_long1, final_lat1;
    double dx2, dy2, delta_long2, delta_lat2, final_long2, final_lat2;
    double dx3, dy3, delta_long3, delta_lat3, final_long3, final_lat3;
    public float latA, longA, latB, longB, latC, longC, lati1;
    // GPSTracker class
    GPSTracker gps;

    void points()
    {
        latuser = gps.getLatitude();
        longuser = gps.getLongitude();

        dx1 = 120*Math.cos(35); 
        dy1 = 120*Math.sin(35); 
        delta_long1 = dx1/(111320*Math.cos(latuser));   
        delta_lat1 = dy1/110540;   
        final_long1 = longuser + delta_long1;
        final_lat1 = latuser + delta_lat1;
        dx2 = 150*Math.cos(38); 
        dy2 = 150*Math.sin(38); 
        delta_long2 = dx2/(111320*Math.cos(latuser));   
        delta_lat2 = dy2/110540;   
        final_long2 = longuser + delta_long2;
        final_lat2 = latuser + delta_lat2;
        dx3 = 180*Math.cos(38); 
        dy3 = 180*Math.sin(38); 
        delta_long3 = dx3/(111320*Math.cos(latuser));   
        delta_lat3 = dy3/110540;   
        final_long3 = longuser + delta_long3;
        final_lat3 = latuser + delta_lat3;

        latA= (float)final_lat1;
        longA= (float)final_long1;
        latB= (float)final_lat2;
        longB= (float)final_long2;
        latC= (float)final_lat3;
        longC= (float)final_long3;
    }

    private float computeDistance(double lat1, double lon1,
            double lat2, double lon2) {
            // Based on http://www.ngs.noaa.gov/PUBS_LIB/inverse.pdf
            // using the "Inverse Formula" (section 4)

            int MAXITERS = 20;
            // Convert lat/long to radians
            lat1 *= Math.PI / 180.0;
            lat2 *= Math.PI / 180.0;
            lon1 *= Math.PI / 180.0;
            lon2 *= Math.PI / 180.0;

            double a = 6378137.0; // WGS84 major axis
            double b = 6356752.3142; // WGS84 semi-major axis
            double f = (a - b) / a;
            double aSqMinusBSqOverBSq = (a * a - b * b) / (b * b);

            double L = lon2 - lon1;
            double A = 0.0;
            double U1 = Math.atan((1.0 - f) * Math.tan(lat1));
            double U2 = Math.atan((1.0 - f) * Math.tan(lat2));

            double cosU1 = Math.cos(U1);
            double cosU2 = Math.cos(U2);
            double sinU1 = Math.sin(U1);
            double sinU2 = Math.sin(U2);
            double cosU1cosU2 = cosU1 * cosU2;
            double sinU1sinU2 = sinU1 * sinU2;

            double sigma = 0.0;
            double deltaSigma = 0.0;
            double cosSqAlpha = 0.0;
            double cos2SM = 0.0;
            double cosSigma = 0.0;
            double sinSigma = 0.0;
            double cosLambda = 0.0;
            double sinLambda = 0.0;

            double lambda = L; // initial guess
            for (int iter = 0; iter < MAXITERS; iter++) {
                double lambdaOrig = lambda;
                cosLambda = Math.cos(lambda);
                sinLambda = Math.sin(lambda);
                double t1 = cosU2 * sinLambda;
                double t2 = cosU1 * sinU2 - sinU1 * cosU2 * cosLambda;
                double sinSqSigma = t1 * t1 + t2 * t2; // (14)
                sinSigma = Math.sqrt(sinSqSigma);
                cosSigma = sinU1sinU2 + cosU1cosU2 * cosLambda; // (15)
                sigma = Math.atan2(sinSigma, cosSigma); // (16)
                double sinAlpha = (sinSigma == 0) ? 0.0 :
                    cosU1cosU2 * sinLambda / sinSigma; // (17)
                cosSqAlpha = 1.0 - sinAlpha * sinAlpha;
                cos2SM = (cosSqAlpha == 0) ? 0.0 :
                    cosSigma - 2.0 * sinU1sinU2 / cosSqAlpha; // (18)

                double uSquared = cosSqAlpha * aSqMinusBSqOverBSq; // defn
                A = 1 + (uSquared / 16384.0) * // (3)
                    (4096.0 + uSquared *
                     (-768 + uSquared * (320.0 - 175.0 * uSquared)));
                double B = (uSquared / 1024.0) * // (4)
                    (256.0 + uSquared *
                     (-128.0 + uSquared * (74.0 - 47.0 * uSquared)));
                double C = (f / 16.0) *
                    cosSqAlpha *
                    (4.0 + f * (4.0 - 3.0 * cosSqAlpha)); // (10)
                double cos2SMSq = cos2SM * cos2SM;
                deltaSigma = B * sinSigma * // (6)
                    (cos2SM + (B / 4.0) *
                     (cosSigma * (-1.0 + 2.0 * cos2SMSq) -
                      (B / 6.0) * cos2SM *
                      (-3.0 + 4.0 * sinSigma * sinSigma) *
                      (-3.0 + 4.0 * cos2SMSq)));

                lambda = L +
                    (1.0 - C) * f * sinAlpha *
                    (sigma + C * sinSigma *
                     (cos2SM + C * cosSigma *
                      (-1.0 + 2.0 * cos2SM * cos2SM))); // (11)

                double delta = (lambda - lambdaOrig) / lambda;
                if (Math.abs(delta) < 1.0e-12) {
                    break;
                }
            }

            float distance = (float) (b * A * (sigma - deltaSigma));

            return distance;
    }

    FirstActivity()
        {

            points();
        }

    @Override
    protected void onCreate(Bundle savedInstanceState)
        {
            super.onCreate(savedInstanceState);
            setContentView(R.layout.firstactivity);
            final LinearLayout lView = new LinearLayout(this);  
            display= new TextView(this);
            btnMinDis=new Button(this);
            btnMinDis.setText("Nearest Point");
            final Handler mHandler = new Handler();
            btnShowLocation = (Button) findViewById(R.id.buttonLocation);

            btnShowLocation.setOnClickListener(new View.OnClickListener() {

            @Override
            public void onClick(View arg0) 
                {
                    // TODO Auto-generated method stub

                    // create class object
                    gps = new GPSTracker(FirstActivity.this);

                    // check if GPS enabled
                    if(gps.canGetLocation())
                        {
                        points();
                            float initialdisA = computeDistance( latuser, longuser, latA, longA);
                            float initialdisB = computeDistance( latuser, longuser, latB, longB);
                            float initialdisC = computeDistance( latuser, longuser, latC, longC);         
                            Toast.makeText(getApplicationContext(),"\nLatitude: " + latA ,  Toast.LENGTH_LONG).show();
                            lView.addView(display);
                            setContentView(lView);
                            display.setText("Initial Location is - \nLatitude: " + latuser + " N" + "\nLongitude: " + longuser + " E"
                                        + "\n\n\nPoint A:\n" + "Latitude: " + latA + "N" + "\nLongitude: " + longA + "E" 
                                        + "\nPoint B:\n" + "Latitude: " + latB + "N" + "\nLongitude: " + longB + "E" 
                                        + "\nPoint C:\n" + "Latitude: " + latC + "N" + "\nLongitude: " + longC + "E"
                                        + "\n\n\nInitial Distance A: " + initialdisA + "m" + "\nInitial Distance B: " + initialdisB + "m" + "\nInitial Distance C: " + initialdisC + "m");

                            mHandler.postDelayed(mLaunchTask,10000);
                        }
                    else
                        {
                    // GPS or Network is not enabled
                    // Ask user to enable GPS/network in settings
                    gps.showSettingsAlert();
                        }   
              }  

            private Runnable mLaunchTask = new Runnable() 
            {
                public void run() 
                {
                    Intent i = new Intent(getApplicationContext(),NearestPoint.class);
                    startActivity(i);
                }
            };    
         });
    }

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {
        // Inflate the menu; this adds items to the action bar if it is present.
        getMenuInflater().inflate(R.menu.firstactivity, menu);
        return true;
    }

} 
```

我尝试使用这些：

1)

```
FirstActivity()
{
    points();
} 
```

2)

```
FirstActivity(Context context)
{
this.mContext = context;
  points();
} 
```

我都遇到了错误：“应用程序停止工作......”

这是我的日志：

```
01-19 10:12:40.488: D/dalvikvm(608): newInstance failed: Lcom/example/gpsdistance/FirstActivity;.<init>() not accessible to Landroid/app/Instrumentation;
01-19 10:12:40.538: D/AndroidRuntime(608): Shutting down VM
01-19 10:12:40.578: W/dalvikvm(608): threadid=1: thread exiting with uncaught exception (group=0x40015560)
01-19 10:12:40.688: E/AndroidRuntime(608): FATAL EXCEPTION: main
01-19 10:12:40.688: E/AndroidRuntime(608): java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.example.gpsdistance/com.example.gpsdistance.FirstActivity}: java.lang.IllegalAccessException: access to constructor not allowed
01-19 10:12:40.688: E/AndroidRuntime(608):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1569)
01-19 10:12:40.688: E/AndroidRuntime(608):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1663)
01-19 10:12:40.688: E/AndroidRuntime(608):  at android.app.ActivityThread.access$1500(ActivityThread.java:117)
01-19 10:12:40.688: E/AndroidRuntime(608):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:931)
01-19 10:12:40.688: E/AndroidRuntime(608):  at android.os.Handler.dispatchMessage(Handler.java:99)
01-19 10:12:40.688: E/AndroidRuntime(608):  at android.os.Looper.loop(Looper.java:123)
01-19 10:12:40.688: E/AndroidRuntime(608):  at android.app.ActivityThread.main(ActivityThread.java:3683)
01-19 10:12:40.688: E/AndroidRuntime(608):  at java.lang.reflect.Method.invokeNative(Native Method)
01-19 10:12:40.688: E/AndroidRuntime(608):  at java.lang.reflect.Method.invoke(Method.java:507)
01-19 10:12:40.688: E/AndroidRuntime(608):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)
01-19 10:12:40.688: E/AndroidRuntime(608):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)
01-19 10:12:40.688: E/AndroidRuntime(608):  at dalvik.system.NativeStart.main(Native Method)
01-19 10:12:40.688: E/AndroidRuntime(608): Caused by: java.lang.IllegalAccessException: access to constructor not allowed
01-19 10:12:40.688: E/AndroidRuntime(608):  at java.lang.Class.newInstanceImpl(Native Method)
01-19 10:12:40.688: E/AndroidRuntime(608):  at java.lang.Class.newInstance(Class.java:1409)
01-19 10:12:40.688: E/AndroidRuntime(608):  at android.app.Instrumentation.newActivity(Instrumentation.java:1021)
01-19 10:12:40.688: E/AndroidRuntime(608):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1561)
01-19 10:12:40.688: E/AndroidRuntime(608):  ... 11 more
01-19 10:12:43.669: I/Process(608): Sending signal. PID: 608 SIG: 9 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-19T04:55:08.783

您的 points 函数包含此调用

`latuser = gps.getLatitude();`

但是，该`gps`变量尚未初始化。`gps`仅当用户按下您添加到事件中的活动的按钮时才创建对象`onCreate`。

更早地创建 gps... 例如在`points()`

或创建一个您将在整个类中使用的函数，而不是简单地调用`gps`.

```
function  getGPS() {
  if (gps == null)
    gps = new GPSTracker(FirstActivity.this);
  return gps;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-19T04:24:12.483

是的，有可能

```
 class AdapterVersion {

        AdapterVersion() {
            show();
        }

        public void show(){
            System.out.println("Hello");
        }
    }

   class AdapterVersionNew {
        AdapterVersionNew()
        {
            AdapterVersion a= new AdapterVersion();
        }
        public void show2(){
            System.out.println("Hello2");
        }
    }

    class test2 {
        public static void main(String[] args) {
            AdapterVersionNew q = new AdapterVersionNew();
        }
    } 
```

# sql-server - 在多个数据库之间转换数据的最佳方法

> ID：14411047
> 
> 赞同：0
> 
> 时间：2013-01-19T04:19:33.947
> 
> 标签：sql-server, database, ssis

我有一个非常旧的系统，其中包含三个独立的数据库。这些数据库中的表组织得很差，因此系统效率低下。我们的新系统需要将旧系统中的数据转换为具有不同模式的新数据库。

问题 在新旧系统之间转换数据的最佳方法是什么？还有一种方法可以同步数据，以便人们仍然使用旧系统，新系统将被更新。这是我第一次这样做，所以请坦白我措辞不佳的问题。

我们目前使用的是 MSSQL 2008 R2，新系统正在迁移到 MSSQL 2012。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-19T04:42:56.047

要移动数据，我建议使用 SSIS。您可以构建将表中的数据转换为新表的查询。如果架构保持不变，您可以使用 SQL Server 复制来同步它们：http: [//msdn.microsoft.com/en-us/library/ms151198.aspx](http://msdn.microsoft.com/en-us/library/ms151198.aspx)。但是，这可能会在实践中导致一些性能问题。

# iphone - 每次我尝试运行此代码时，iPhone 都会崩溃

> ID：14411050
> 
> 赞同：1
> 
> 时间：2013-01-19T04:19:58.163
> 
> 标签：iphone, ios, objective-c, nsarray, ibaction

因此，我试图在我的 iPhone 应用程序中运行此代码，但该应用程序不断崩溃。有什么解决办法吗？

```
- (IBAction)logOutBtnDown:(id)sender {
    [PFUser logOut];
    NSArray *quotes;
    int r;

    quotes = [NSArray arrayWithObjects:
        @"R u done yet",
        @"Log in again",
        @"Try Me",
        @"SMD",
        @"We can do this all day",
        @"IDC your eating up ur RAM",
        "Please just connect to the servers",
        @"You are not giving up are u",
        @"Forget it I quit",
        @"Imma tell TDK",
        nil];

    r = arc4random() % 10;
    [_welcomeLabel setText:[NSString stringWithFormat:@" %@", [quotes objectAtIndex: r]]];
} 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-01-19T04:35:42.650

错过放置@，同时添加对象..

试试这个。。

```
- (IBAction)logOutBtnDown:(id)sender {
  [PFUser logOut];
NSArray *quotes;
int r;

quotes = [NSArray arrayWithObjects: @"R u done yet", @"Log in again", @"Try Me", @"SMD", @"We can do this all day", @"IDC your eating up ur RAM", @"Please just connect to the servers", @"You are not giving up are u", @"Forget it I quit", @"Imma tell TDK", nil];

r = arc4random() % 10;

[_welcomeLabel setText:[NSString stringWithFormat:@" %@", [quotes objectAtIndex: r]]];

} 
```

# .net - 获取堆栈跟踪中的参数值？

> ID：14411052
> 
> 赞同：1
> 
> 时间：2013-01-19T04:20:19.110
> 
> 标签：.net, vb.net

在以下代码中，Inner_A(x) 中引发了异常。如何在堆栈跟踪中显示 x 的值，因为堆栈跟踪如下所示：

```
at Default2.Inner_A(String x) in C:\test1\Default2.aspx.vb:line 25
at Default2.Page_Load(Object sender, EventArgs e) in C:\test1\Default2.aspx.vb:line 12

Dim strErrorMesssage As String

Protected Sub Page_Load(ByVal sender As Object, ByVal e As System.EventArgs) Handles Me.Load
    Try
        Dim x As String = "testvar"

        Inner_A(x)
    Catch ex As Exception

        strErrorMesssage &= DirectCast(ex, System.ApplicationException).StackTrace.ToString()

    End Try

End Sub

Private Function Inner_A(ByVal x As String) As String

    Throw New ApplicationException("Exception Occured caused in INNER_A ")

    Return " Function Inner_A"

End Function 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-19T04:26:27.050

您不能修改堆栈跟踪，但可以在错误消息中包含变量的值：

```
Protected Sub Page_Load(ByVal sender As Object, ByVal e As System.EventArgs) Handles Me.Load
    Dim x As String
    Try
        x = "testvar"

        Inner_A(x)
    Catch ex As Exception
        strErrorMesssage &= "X = " & x & Environment.NewLine & DirectCast(ex, System.ApplicationException).StackTrace.ToString()
    End Try
End Sub 
```

# ios - MPMusicPlayerController 音量不变

> ID：14411053
> 
> 赞同：0
> 
> 时间：2013-01-19T04:20:28.423
> 
> 标签：ios, volume, uislider, mpmusicplayercontroller

我正在 ios 中创建一个无线电应用程序。我想使用滑块更改音量。所以我定义了一个`IBAction`（ ）并将滑块`- (IBAction)sliderValueChanged : (UISlider *)sender`的事件拖到 这个。`Value Changed``IBAction`

这是我的`IBAction`实现`

```
 - (IBAction)sliderValueChanged  : (UISlider *)sender 
```

{

```
[[MPMusicPlayerController applicationMusicPlayer] setVolume:sender.value]; 
```

}`

但是当我拖动滑块时，音量没有改变。任何人都可以告诉我这是什么问题。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-19T06:29:07.367

首先在 .h 文件中声明您的音乐播放器。

```
MPMusicPlayerController *musicPlayer; 
```

在`viewDidLoad`你可以定义它。

```
self.musicPlayer=[MPMusicPlayerController applicationMusicPlayer];

// musicPlayer.volume = 0.5f;

 - (IBAction)sliderValueChanged  : (UISlider *)sender
{
 musicPlayer.volume=sender.value;
} 
```

尝试通过给出静态值来改变音量，然后选择动态。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-19T05:26:04.650

尝试使用此代码

```
[[MPMusicPlayerController iPodMusicPlayer] setVolume:sender.value]; 
```

# linux - 编译 libframe 时出错

> ID：14411059
> 
> 赞同：1
> 
> 时间：2013-01-19T04:21:18.633
> 
> 标签：linux, gcc

我正在尝试编译 libframe。当我这样做时，我会收到以下消息。

```
BaseException.cpp: In constructor 'BaseException::BaseException()':
BaseException.cpp:30:33: error: 'strcpy' was not declared in this scope
BaseException.cpp: In constructor 'BaseException::BaseException(const char*)':
BaseException.cpp:35:31: error: 'strncpy' was not declared in this scope
BaseException.cpp: In constructor 'BaseException::BaseException(std::string&)':
BaseException.cpp:41:39: error: 'strncpy' was not declared in this scope
BaseException.cpp: In static member function 'static BaseException BaseException::factory(const char*, ...)':
BaseException.cpp:49:31: error: 'memset' was not declared in this scope
make[1]: *** [BaseException.o] Error 1
make[1]: Leaving directory `/home/alanc/media_man/libframe/libframe-1.0.0/src'
make: *** [all-recursive] Error 1 
```

我无法找到有关此程序的任何信息。

[库框架](http://sourceforge.net/projects/libframe/)

谢谢。

# xcode - 在 iPhone App 中输入 Facebook 登录时出错

> ID：14411060
> 
> 赞同：2
> 
> 时间：2013-01-19T04:22:01.390
> 
> 标签：xcode, facebook, facebook-graph-api

我正在尝试将 Facebook API 集成到我的 iOS 应用程序中，但出现以下错误：

> WebKit 在 webView:decidePolicyForNavigationAction:request:frame:decisionListener:delegate: Application 试图以模态方式呈现活动控制器中丢弃了一个未捕获的异常。

我该如何解决这个错误？

**这是我的代码：**

```
[_webView loadRequest:[NSURLRequest requestWithURL:[NSURL URLWithString:@"about:blank"]]];

NSString *redirectUrlString = @"http://www.facebook.com/connect/login_success.html";
NSString *authFormatString = @"https://graph.facebook.com/oauth/authorize?client_id=%@&redirect_uri=%@&scope=%@&type=user_agent&display=touch";

NSString *urlString = [NSString stringWithFormat:authFormatString, _apiKey, redirectUrlString, _requestedPermissions];
NSURL *url = [NSURL URLWithString:urlString];
NSURLRequest *request = [NSURLRequest requestWithURL:url];
[_webView loadRequest:request]; 
```

为了检查登录凭据，我在函数中编写了以下代码`logincheck`

```
if  ([urlString rangeOfString:@"login.php"].location != NSNotFound) 
{
     [_delegate displayRequired];
} 
```

# ios - 使用 Xcode 4.5.2 和 PhoneGap 2.3.0 提供的 Makefile 在 OSX 上进行 make 不会创建 PhoneGapLibInstaller.pkg 文件

> ID：14411061
> 
> 赞同：0
> 
> 时间：2013-01-19T04:22:25.517
> 
> 标签：ios, cordova, xcode4.5

我为 IOS 下载了最新版本的 Phonegap 并从终端运行“make”。我在以下子目录中运行了 make 。

phonegap-2.3.0/lib/ios

我在标准输出上得到这两行：

Xcode.app：'/Applications/Xcode.app' 使用开发者文件夹：'/Applications/Xcode.app/Contents/Developer'

我的 shell 提示又回来了。

但是，没有创建 PhoneGapLibInstaller.pkg 文件，如 github 站点说明中所述。

[https://github.com/infil00p/phonegap-iphone](https://github.com/infil00p/phonegap-iphone)

该文件不在我的 ios 目录中，但是当我在整个硬盘驱动器上进行搜索时，那里什么都没有。我想检查它是否出于某种原因将其放入 Xcode.app 包内容中。

如果这个 make 文件在指南中做了其他事情并且实际工作，我加载了 Xcode，但 PhoneGap 在制作新包时没有显示为可供选择的框架/模板。

有什么想法或建议吗？

谢谢，达诺

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-21T00:01:31.127

那个 Github 回购是 3 年前的。您可能会更好地查看当前的实际文档。

Adobe“增值”分发页面： http: [//phonegap.com](http://phonegap.com) 文档：[http ://docs.phonegap.com](http://docs.phonegap.com)

Cordova 最新信息（PhoneGap 所基于的开源项目）：[http ://cordova.apache.org/](http://cordova.apache.org/)

当前 Github：[https ://github.com/apache/cordova-ios](https://github.com/apache/cordova-ios)

# java - Java 正则表达式不起作用？

> ID：14411064
> 
> 赞同：0
> 
> 时间：2013-01-19T04:23:39.397
> 
> 标签：java, android, regex

我正在尝试通过 HTTP POST 将以下参数发送到服务器：

```
["my_session_id","{this=that, foo=bar}"] 
```

但是由于散列周围的引号，服务器正在返回解析错误。

我正在尝试使用这样的正则表达式删除它们：

```
params.replaceAll("\\\"\\{", "\\{");
params.replaceAll("\\\"\\}", "\\}"); 
```

老实说，我不知道自己在做什么。请帮忙。

提前致谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-19T04:29:00.843

这里有两个问题：首先，您没有重新分配字符串。[`String`s 在 Java 中是不可变的](https://stackoverflow.com/a/1553110/1438733)（无法更改），因此您必须分配结果。其次，您正在替换`"}`而不是`}"`.

这是我使用的：

```
String params = "[\"my_session_id\",\"{this=that, foo=bar}\"]";
params = params.replaceAll("\\\"\\{", "\\{");
params = params.replaceAll("\\}\\\"", "\\}");
System.out.println(params); 
```

打印出来：

> `["my_session_id",{this=that, foo=bar}]`

PS：一点建议，使用[JSON](http://en.wikipedia.org/wiki/JSON)。Android 具有[出色的 JSON 处理能力](http://developer.android.com/reference/org/json/package-summary.html)，[PHP 也支持](http://php.net/manual/en/function.json-encode.php)它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-19T04:39:44.753

您使用正则表达式 replaceAll 是否有原因？或者，您可以尝试：

```
 String parameters = parameters.replace("{", "\\{").replace("}", "\\}"); 
```

# jquery - 基于文本字段值的复选框状态

> ID：14411065
> 
> 赞同：0
> 
> 时间：2013-01-19T04:23:54.467
> 
> 标签：jquery

我有一个搜索表单，其中包含许多带有 class='cambio' 的复选框，以及一个 ID 为 #cambio 的隐藏字段。

这是表单的工作方式：

1.  当一个复选框被选中时，他的值被发送到这个隐藏的输入。
2.  默认情况下禁用此隐藏输入，仅在设置值时才启用。
3.  我使用 $_GET['cambio'] 获取此字段的默认值，因此我可以在页面加载时保持表单更新。

问题是当我加载页面时，我在隐藏的输入中获得了默认值，但相关的复选框都未选中。

我的问题是：只有当隐藏输入中存在他的值时，我如何才能将这些复选框设置为“已选中”？

这是我的代码：

```
jQuery(function($) {
$("input:checkbox.cambio").change(function() {
    var newArr = $("input:checkbox.cambio:checked").map(function() { return this.value; });
    $("#cambio").val(newArr.get());

    if($('#cambio').val() !== "") {
    $('#cambio').prop('disabled', false);
    } else { $('#cambio').prop('disabled', true); }
});
});

jQuery(document).ready(function($) {
    if($('#cambio').val() !== "") {
    $('#cambio').prop('disabled', false);
    } else { $('#cambio').prop('disabled', true); }
}); 
```

请注意，有一些重复的代码。如果您知道如何精简代码，欢迎提出任何建议。

谢谢！

# javascript - 将元素的属性复制到javascript循环中的其他元素

> ID：14411071
> 
> 赞同：0
> 
> 时间：2013-01-19T04:24:41.627
> 
> 标签：javascript, jquery, each

我在循环js中有问题。我想将`data-icon`值从`.nav`class 复制到 `li`in `#item-control`。有没有简单的方法来用jquery解决它？

```
<div id="nav-container">
  <ul class="nav">
   <li data-icon="images/1.png">Item 1</li>
   <li data-icon="images/2.png">Item 2</li>
   <li data-icon="images/3.png">Item 3</li>
  </ul>
</div>

<div id="item-control">
  <li>Item Control 1</li>
  <li>Item Control 2</li>
  <li>Item Control 3</li>
</div> 
```

我试过的：

```
$(document).ready(function () {
    var a = 1;
    $('#container #nav-container ul.nav li').each(function () {
        var item_control = $(this).parent().parent().parent().find('#item-control li');
        item_control.addClass('item' + a);  //this is what I tried before adding data-icon attributes to #item-control li
        a++;
    });
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-19T04:31:46.840

```
var $navItems = $('.nav li'),
    $itemControlItems = $('#item-control li');
$.each($navItems, function(index, el) {
    $($itemControlItems[index]).data('icon', $(el).data('icon'));
}); 
```

[小提琴](http://jsfiddle.net/f0t0n/BRyVL/)

# objective-c - 如何将 NSDate 解析为 RFC 822 始终使用英文？

> ID：14411072
> 
> 赞同：2
> 
> 时间：2013-01-19T04:24:50.280
> 
> 标签：objective-c, nsdate, restful-authentication, rfc822

我需要将一个 RESTful 放到服务器上。必须`Date`使用 like `Sat, 19 Jan 2013 04:09:58 GMT`。

在objc中我写了这个：

```
NSDateFormatter* _GMTDateFormatter = [[NSDateFormatter alloc] init];
[_GMTDateFormatter setDateFormat:@"EEE, dd MMM yyyy HH:mm:ss"];
[_GMTDateFormatter setTimeZone:[NSTimeZone timeZoneForSecondsFromGMT:0]];

NSString* theDate = [_GMTDateFormatter stringFromDate:[NSDate date]];
theDate = [theDate stringByAppendingString:@" GMT"];
NSLog(@"%@",theDate); 
```

它将被输出`Sat, 19 Jan 2013 04:09:58 GMT`

但在我的真实设备上，语言是中文，它会输出`周六, 19 1月 2013 04:09:58 GMT`。

如何让它始终用英语？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-19T04:33:58.687

您需要设置`NSDateFormatter`对象的语言环境。

```
NSLocale *usLocale = [[NSLocale alloc] initWithLocaleIdentifier: @"en_US"];
[_GMTDateFormatter setLocale: usLocale]; 
```

# c++ - 在排序期间，第一个元素在 0.0 轴之后设置为 0

> ID：14411073
> 
> 赞同：-1
> 
> 时间：2013-01-19T04:25:08.517
> 
> 标签：c++, sorting, lambda, box2d

我正在尝试对三角形的三个点进行排序，以便成功地将其添加到物理引擎中。在 x 轴上位置小于 0.0 的所有三角形都正确显示。但是，在那之后，第一个元素 ( `v[0]`) 总是设置为 { `0.0, 0.0`}，其余的似乎还可以。这是我进行排序和添加的主要功能。

```
void Core::addPoly(float x1, float y1, 
                   float x2, float y2, 
                   float x3, float y3) {

    std::vector<PVector> v(3);
    v.push_back(PVector(x1, y1));
    v.push_back(PVector(x2, y2));
    v.push_back(PVector(x3, y3));

    PVector center((x1+x2+x3)/3, (y1+y2+y3)/3);

    std::sort(v.begin(), v.end(), [center](PVector b, PVector a) { 
        if (a.x >= 0 && b.x < 0)
            return true;
        if (a.x == 0 && b.x == 0)
            return a.y > b.y;

        // compute the cross product of vectors (center -> a) x (center -> b)
        float det = (a.x-center.x) * (b.y-center.y) - (b.x - center.x) * (a.y - center.y);
        if (det < 0)
            return true;
        if (det > 0)
            return false;

        // points a and b are on the same line from the center
        // check which point is closer to the center
        float d1 = (a.x-center.x) * (a.x-center.x) + (a.y-center.y) * (a.y-center.y);
        float d2 = (b.x-center.x) * (b.x-center.x) + (b.y-center.y) * (b.y-center.y);
        return d1 > d2;
    });

    emap->polys.push_back(Polygon(v[0], v[1], v[2]));
} 
```

我正在使用[此处](https://stackoverflow.com/a/6989383/778858)提供的排序功能。它最初将所有三角形的第一个元素指向中心（但是我不相信这是正确的行为）-我在 lambda 声明中切换了 a 和 b，现在它仅在 x 轴上的 0.0 之后显示。

如果我们有 3 个三角形传入（想象 | 在平面上是 0.0 和 ___ 是 0.0）

```
^     |
    ^ |   ^
______|_____________ 
```

第三个三角形的第 0 个顶点实际上会变成这样：

```
^     |
    ^ |  ___/|
______|_/______________ 
```

（这应该是一个三角形）

但是，0.0 从未传递给 addPoly。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-19T04:51:50.653

这一行：

```
std::vector<PVector> v(3); 
```

使您的向量使用三个`<0.0,0.0>`值进行初始化。将其更改为

```
std::vector<PVector> v; 
```

应该解决您的问题。

代码*似乎*是这样工作的：

```
struct PVector 
{ 
    float x; 
    float y; 
    PVector(float x, float y) : x(x),y(y){}
    PVector() : x(0.0f), y(0.0f) {}
};

static void addPoly(float x1, float y1, 
                   float x2, float y2, 
                   float x3, float y3) {

    std::vector<PVector> v;
    v.push_back(PVector(x1, y1));
    v.push_back(PVector(x2, y2));
    v.push_back(PVector(x3, y3));

    PVector center((x1+x2+x3)/3, (y1+y2+y3)/3);

    std::sort(v.begin(), v.end(), [center](PVector b, PVector a) -> bool { 
        if (a.x >= 0 && b.x < 0)
            return true;
        if (a.x == 0 && b.x == 0)
            return a.y > b.y;

        // compute the cross product of vectors (center -> a) x (center -> b)
        float det = (a.x-center.x) * (b.y-center.y) - (b.x - center.x) * (a.y - center.y);
        if (det < 0)
            return true;
        if (det > 0)
            return false;

        // points a and b are on the same line from the center
        // check which point is closer to the center
        float d1 = (a.x-center.x) * (a.x-center.x) + (a.y-center.y) * (a.y-center.y);
        float d2 = (b.x-center.x) * (b.x-center.x) + (b.y-center.y) * (b.y-center.y);
        return d1 > d2;
    });

    //emap->polys.push_back(Polygon(v[0], v[1], v[2]));
} 
```

# ios - UIDevice currentDevice 模型可能的值

> ID：14411075
> 
> 赞同：21
> 
> 时间：2013-01-19T04:26:16.617
> 
> 标签：ios, objective-c, swift

返回的所有可能值是`[[UIDevice currentDevice] model];`多少？它没有 [记录在案](http://developer.apple.com/library/ios/#documentation/uikit/reference/UIDevice_Class/Reference/UIDevice.html)。

* * *

## 回答 #1

> 赞同：41
> 
> 时间：2013-01-19T04:33:28.500

可能的值是`iPod touch`, `iPhone`, `iPhone Simulator`, `iPad`,`iPad Simulator`

如果您想知道哪些硬件`iOS`正在损坏，例如，`iPhone3`下面是该代码`iPhone4``iPhone5`

* * *

**注意：**下面的代码可能不包含所有设备的字符串，我和其他人在**GitHub 上**维护相同的代码，所以请从那里获取最新的代码

目标-C：[GitHub/DeviceUtil](https://github.com/InderKumarRathore/DeviceUtil)

斯威夫特：[GitHub/DeviceGuru](https://github.com/InderKumarRathore/DeviceGuru)

* * *

```
#include <sys/types.h>
#include <sys/sysctl.h>

- (NSString*)hardwareDescription {
    NSString *hardware = [self hardwareString];
    if ([hardware isEqualToString:@"iPhone1,1"]) return @"iPhone 2G";
    if ([hardware isEqualToString:@"iPhone1,2"]) return @"iPhone 3G";
    if ([hardware isEqualToString:@"iPhone3,1"]) return @"iPhone 4";
    if ([hardware isEqualToString:@"iPhone4,1"]) return @"iPhone 4S";
    if ([hardware isEqualToString:@"iPhone5,1"]) return @"iPhone 5";
    if ([hardware isEqualToString:@"iPod1,1"]) return @"iPodTouch 1G";
    if ([hardware isEqualToString:@"iPod2,1"]) return @"iPodTouch 2G";
    if ([hardware isEqualToString:@"iPad1,1"]) return @"iPad";
    if ([hardware isEqualToString:@"iPad2,6"]) return @"iPad Mini";
    if ([hardware isEqualToString:@"iPad4,1"]) return @"iPad Air WIFI";
    //there are lots of other strings too, checkout the github repo
    //link is given at the top of this answer

    if ([hardware isEqualToString:@"i386"]) return @"Simulator";
    if ([hardware isEqualToString:@"x86_64"]) return @"Simulator";

    return nil;
}

- (NSString*)hardwareString {
    size_t size = 100;
    char *hw_machine = malloc(size);
    int name[] = {CTL_HW,HW_MACHINE};
    sysctl(name, 2, hw_machine, &size, NULL, 0);
    NSString *hardware = [NSString stringWithUTF8String:hw_machine];
    free(hw_machine);
    return hardware;
} 
```

* * *

## 回答 #2

> 赞同：23
> 
> 时间：2013-05-15T14:36:54.773

我刚刚在 iPod Touch、iPhone、Phone Retina、iPhone 5、iPad、iPad Retina 和 iPad Mini 上进行了测试。所以这是我的结论：

```
iPod touch
iPhone
iPad 
```

在模拟器上 - 如果您是一名开发人员，开发有时在模拟器上根本不起作用的功能，这可能很有用 - 您将获得以下值：

```
iPhone Simulator
iPad Simulator 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-09-14T19:45:25.693

我相信解释的最佳答案（这里没有写的东西）是说值本身是一个字符串值。可能的答案是字符串，例如：“iPhone”、“iPad”等。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-10-03T01:01:56.110

这些答案都不适用于新型号。这是一个枚举：

```
public enum DeviceType {
 case iPad(String?)
 case iPhone(String?)
 case simulator(String?)
 case appleTV(String?)
 case unknown
} 
```

我写的扩展我认为在新型号出现时更简洁和更可扩展。

```
extension UIDevice {
    public static func getDevice() -> DeviceType {
        var info = utsname()
        uname(&info)
        let machineMirror = Mirror(reflecting: info.machine)
        let code = machineMirror.children.reduce("") { identifier, element in
            guard let value = element.value as? Int8, value != 0 else {
                return identifier
            }
            return identifier + String(UnicodeScalar(UInt8(value)))
        }

        if code.lowercased().range(of: "ipad") != nil {
            if let range = code.lowercased().range(of: "ipad") {
                var mutate = code
                mutate.removeSubrange(range)
                return .iPad(mutate)
            }else{
                return .iPad(nil)
            }
        }else if code.lowercased().range(of: "iphone") != nil {
            if let range = code.lowercased().range(of: "iphone") {
                var mutate = code
                mutate.removeSubrange(range)
                return .iPhone(mutate)
            }else{
                return .iPhone(nil)
            }
        }else if code.lowercased().range(of: "i386") != nil || code.lowercased().range(of: "x86_64") != nil{
            return .simulator(code)
        }else if code.lowercased().range(of: "appletv") != nil {
            if let range = code.lowercased().range(of: "appletv") {
                var mutate = code
                mutate.removeSubrange(range)
                return .appleTV(mutate)
            }else{
                return .appleTV(nil)
            }
        }else{
            return .unknown
        }
    }
} 
```

# ruby - 指南针手表上的错误

> ID：14411085
> 
> 赞同：1
> 
> 时间：2013-01-19T04:27:41.447
> 
> 标签：ruby, rubygems, compass-sass

以下是我在执行时遇到的错误`compass watch`-

```
LoadError on line ["36"] of /home/murtaza/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/site_ruby/1.9.1/rubygems/custom_require.rb: cannot load such file -- ceaser-easing 
```

我该如何补救？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-20T04:37:06.423

这是由于必须安装的插件。

根据要求添加内容 -

```
# Require any additional compass plugins here.

require "ceaser-easing"
require "grid-coordinates"
require "compass_twitter_bootstrap"

# Set this to the root of your project when deployed:
http_path = "/"
css_dir = "css"
sass_dir = "templ/sass"
images_dir = "images"
javascripts_dir = "js"

# You can select your preferred output style here (can be overridden via the command line):
# output_style = :expanded or :nested or :compact or :compressed

# To enable relative paths to assets via compass helper functions. Uncomment:
# relative_assets = true

# To disable debugging comments that display the original location of your selectors. Uncomment:
# line_comments = false

preferred_syntax = :sass 
```

# asp.net - 无法在 IIS 中启动站点（由另一个进程使用）

> ID：14411090
> 
> 赞同：95
> 
> 时间：2013-01-19T04:28:54.363
> 
> 标签：asp.net, iis

当我尝试在 IIS 中启动一个站点时，它说：

> 该进程无法访问该文件，因为它被另一个进程使用

我在 Google 中搜索，发现另一个站点可能一直在使用端口 80，但在 MyIIS 中我看到只有这个站点在使用端口 80。还有什么可能在使用端口 80，或者是否涉及其他问题？

* * *

## 回答 #1

> 赞同：177
> 
> 时间：2013-01-19T04:41:37.240

使用`netstat -aon`或`netstat -aon | findstr 0.0:80`在命令提示符中检查以查看哪个进程 ID 正在**侦听端口：80**，然后在**任务管理器**中查看该进程 ID (PID)，并检查**视图->选择列->进程 ID**。结束该过程，重新启动 IIS，您就完成了。（*注意：如果您安装了**Skype**，请先尝试退出该进程。*）

在现代任务管理器中，您需要在“**详细信息**”选项卡上搜索 PID。或者，正如*@Nikita G*在评论中提到的，您可以使用此命令从命令提示符中查找任务：

```
tasklist /FI "PID eq 123" 
```

*注意：`123`随着第一个命令返回的 PID 改变。*

* * *

## 回答 #2

> 赞同：35
> 
> 时间：2013-01-19T04:39:59.580

发生这种情况是因为另一个进程正在使用端口 80，它可能是您 PC 上的聊天应用程序，例如 Skype。

首先，将默认的网站端口 80 更改为一些未使用的端口（例如 8087）。要实现这一点，请右键单击应用程序，然后单击“编辑绑定”。

![在此处输入图像描述](../Images/e77cdaf2d6f10e695530564a83394628.png)

![在此处输入图像描述](../Images/f4272d54d277cb064f3381e7fc89505b.png)

在此端口更改后重新启动。现在您可以确定哪个进程阻塞了 IIS 端口 80。要检查此使用 netstat 命令，该命令会显示端口的详细信息以及进程 ID。

* * *

## 回答 #3

> 赞同：25
> 
> 时间：2014-01-10T05:13:49.700

退出 Skype，然后重试。我遇到了同样的问题，我刚刚退出了 Skype，然后重置了我的 IIS。它对我有用。

* * *

## 回答 #4

> 赞同：11
> 
> 时间：2014-02-10T21:25:34.253

You can also run this command to find out which application or service is using the port and then trace it down in Task manager (Provided it's not the Web Deploy Agent Service).

netstat -o -n -a | findstr 0.0:80

Then open Task manager, go to Processes, click the "Show processes for all users" checkbox and then click the View menu and Go to the Columns, add the PID column.

Match the Process ID from the netstat command to the PID in task manager and you will find the service or application that's using the port.

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2016-07-22T19:12:25.293

正如其他人所说，其他东西可能正在使用端口 80 或 443。对我来说它是 VMWare Workstation Server，但请查看其他答案以了解如何使用 netstat。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2014-12-15T20:44:58.920

我认为这个链接很好地解释和解决了这个问题[http://support.microsoft.com/KB/890015](http://support.microsoft.com/KB/890015)

大多数时候; 这是由以下两个原因之一引起的：1）端口 80 正在被其他东西使用，并且根据其他人的建议，您可以使用 netstat -o -n -a |findstr 0.0:80 来查看是否是这种情况。如果是，则从任务管理器中终止该进程（勾选显示所有用户的进程）

2）如果没有使用80端口，第二个原因可能是HTTP->Parameters的注册表项中的ListenOnlyList字段中的IP地址无效。如果您按照链接手动设置密钥，或者实际上您可以使用（xp 和 server 2003）`httpcfg delete iplisten -i ipaddress`删除无效的 IP 地址。编辑 ipaddress 后必须重新启动 http！

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2015-04-30T17:03:30.250

我的情况是安装 RD Web Access 后，原来的默认网站无法启动。删除 RD Web 访问角色仍然相同。删除端口 443 绑定解决了该问题。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2014-10-08T13:09:20.710

在我的例子中，运行并使用端口 80 的是“[同步共享服务](http://blogs.technet.com/b/filecab/archive/2013/10/15/windows-server-2012-r2-resolving-port-conflict-with-iis-websites-and-work-folders.aspx)”(SyncShareSvc)。不过，netstat 显示 80 是免费的。我可以让站点在另一个端口上运行，但不能在 80 上运行。如果我添加了主机名，IIS 将允许我启动该站点，但是在浏览到 localhost（或任何主机名时，我会提示进行摘要式身份验证）添加）。IIS 中仅启用了匿名和表单身份验证...

我还发现，停止 IIS 后，`http://localhost`仍然提示我进行摘要式身份验证。

就我而言，解决方案是从已安装的服务中删除**文件和存储服务 > 文件和 iSCSI 服务 > “*工作文件夹*”**（需要重新启动）。

删除“工作文件夹”服务并重新启动后，IIS 按预期工作。

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2018-12-30T14:12:57.150

为了获得更有意义的信息，一种方法是在发布时获取所有权信息，`netstat`以便您知道使用 80（默认 http 绑定）或 443（如果定义了 https 绑定）的进程：

```
 netstat -ab 
```

就我而言，罪魁祸首是 vmware：

> TCP 0.0.0.0:443 计算机名：0
> 监听 [vmware-hostd.exe]

netstat 可以通过管道输入 find 以搜索端口 80 或 443（例如`find ":443"`），但这些特定的活动连接将显示在列表的开头，它们很容易看到。

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2017-09-01T13:43:27.430

大多数情况下，Web 开发人员发生这种情况是 apache 的原因，所以如果你从 apache 转到配置文件！打开它并使用 ctrl + f 搜索到 80 并将您将看到的 ip 更改为 8080 并将下面的句子用 80 更改为 8080 并且您需要在 xampp 或您当前使用的程序中配置它

希望我能帮助你们

# jquery - 基于选择选项值的 JQuery 自动完成

> ID：14411091
> 
> 赞同：5
> 
> 时间：2013-01-19T04:28:55.153
> 
> 标签：jquery, jquery-ui, jquery-ui-autocomplete

我对 JQuery 和 Javascript 非常陌生。我已经实现了使用 jQuery Demo 从远程数据源（Mysql + PHP）中检索数据的自动完成功能。我被困在由 php 脚本触发的 mysql 查询绑定到下拉菜单选项的部分。

因此，如果我从选项值之一中选择“评论”，如何将其绑定到 id="search_term" 的搜索文本框。

```
<label>Select Search parameter:
    <select id="search_parameter" name="search_parameter">
        <option value="Sample name">Sample Name</option>
        <option value="Location name">Location Name</option>
        <option value="comments">Comments</option>
    </select>
</label>

<label> Search Term:<input type="text" id="search_term" required name="search_term" maxlength=30></label> 
```

现在，如果我选择选项值作为“评论”，它应该会触发查询评论字段的 PHP 脚本。但我不确定如何将条件语句放入 JQuery。我没有成功

```
$(function(){
    $('#search_parameter').change(function(){
        if (this.value == "comments") {
            jQuery(document).ready(function($){
                $('#search_term').autocomplete({source:'search_comments.php', minLength:2});
            });
        else if( this.value =="Sample name") {
            jQuery(document).ready(function($){
                $('#search_term').autocomplete({source:'search_sample_name.php', minLength:2});
            });
} 
```

我不确定这是否是正确的方法。如果这个问题不值得 stackoverflow.com，我深表歉意。谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-19T18:27:03.097

我建议在`input`. 您可以使用该`option`方法来设置元素`source`的值何时更改：`select`

```
$(function () {
    $("#search_term").autocomplete({
        source: "",
        minLength: 2
    });

    $("#search_parameter").change(function () {
        if (this.value === "Sample name") {
            $("#search_term").autocomplete("option", "source", "search_sample_name.php");
        } else if (this.value === "comments") {
            $("#search_term").autocomplete("option", "source", "search_comments.php");
        }
    }).change(); // Trigger the "change" event to set the source correctly the first time.
}); 
```

`data-*`您可以通过在每个选项上使用一个属性来指示要使用的源，从而使其更加健壮：

**HTML：**

```
<label>Select Search parameter:
    <select id="search_parameter" name="search_parameter">
        <option value="Sample name" data-autocomplete="search_sample_name.php">Sample Name</option>
        <option value="Location name" data-autocomplete="search_locations.php">Location Name</option>
        <option value="comments" data-autocomplete="search_comments.php">Comments</option>
    </select>
</label> 
```

**JavaScript：**

```
$(function () {
    $("#search_term").autocomplete({
        source: ''
    });

    $("#search_parameter").change(function () {
        var selectedSource = $(this).find("option:selected").data("autocomplete");

        $("#search_term").autocomplete("option", "source", selectedSource);
    }).change();
}); 
```

# android - 显示对话框后Android中不需要的点击事件

> ID：14411101
> 
> 赞同：0
> 
> 时间：2013-01-19T04:30:52.367
> 
> 标签：android, events, user-interface, click, galaxy

**上下文**：

*   我有一个简单的 ListActivity（称之为“ **Activity [1]** ”），其中包含一个 ListView 和许多菜单项。
*   单击 ListView 中的项目会显示一个弹出对话框。
*   单击 ActionBar 中的菜单项按钮（我们称之为“ **Button** ”）启动一个 Activity（我们称之为“ **Activity [2]** ”），使用`startActivityForResult()`

**问题**：如果用户触摸了一个 ListView 项目，`onListItemClick()`在 ListActivity 中生成一个事件，然后真的很快地触摸了 Button，一个`onOptionsItemSelected()`事件会被发布到消息队列并在适当的时候进行处理。这会导致以下奇怪的行为：

1.  用户触摸 ListView 项目
2.  用户触摸**按钮**
3.  `onListItemClick()`用户在一瞬间看到生成的对话框
4.  **Activity [2]**由`onOptionsItemSelected()`从对话框顶部开始
5.  当用户完成**Activity [2]**时，他返回对话框，而不是立即返回**Activity [1]**

这是非常奇怪和令人不安的。根据我在旧 GUI 框架中做 UI 的经验，GUI 框架从不允许第二个事件发布到队列中，因此您不必担心这些事情。

**问题**：当我的应用程序已经在显示对话框以响应 ListView 项目选择时，是否有“首选”设计模式可以防止用户按下**Button**并启动**Activity [2 ？]**

禁用整个**Activity [1]**视图层次结构，直到对话框结束？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-19T04:53:10.567

在您的服务条款中写下，每只手有 2 个拇指的用户应谨慎使用该应用程序。[更严重的是，也许您可​​以在使用布尔值或Dialog.isShowing()](https://developer.android.com/reference/android/app/Dialog.html#isShowing%28%29)开始您的活动之前检查您的对话框是否打开

# c++ - 无限冲激响应 (IIR) 函数

> ID：14411102
> 
> 赞同：1
> 
> 时间：2013-01-19T04:30:54.520
> 
> 标签：c++, function, matlab, filtering, signal-processing

我正在尝试设计一个包含 IIR 滤波器功能的信号类。以下是我的代码：

```
void signal::IIRFilter(vector<double> coefA, vector<double> coefB){
double ** temp;
temp = new double*[_nchannels];
for(int i = 0; i < _nchannels; i++){
    temp[i] = new double[_ninstances];
}
for(int i = 0; i < _nchannels; i++){
    for(int j = 0; j < _ninstances; j++){
        temp[i][j] = 0;
    }    
}
for(int i = 0; i < _nchannels; i++){
    for (int j = 0; j < _ninstances; j++){
        int sum1 = 0;
        int sum2 = 0;
        for(int k = 0; k < coefA.size(); k++){
            if ((j-k) > 0 ){
                sum1 += coefA.at(k)*temp[i][j-k-1];
            }

        }
        for (int m = 0; m < coefB.size(); m++){
            if(j >= m){
                sum2 += coefB.at(m)*_data[i][j-m];  
            }
        }
        temp[i][j] = sum2-sum1;
    }
}
for(int i = 0; i < _nchannels; i++){
    for(int j = 0; j < _ninstances; j++){
        _data[i][j] = temp[i][j];
    }    
}
} 
```

_data 包含我的原始信号，_ninstances 是我的样本数，_nchannels 是通道数。该函数编译并工作，但我得到的结果与 MATLAB 给出的结果不同。我什至使用 MATLAB 给出的相同系数。我的功能有什么做错了吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-19T04:58:09.020

我可以看到的一个问题是，当它们应该是双倍时，您将它们声明`sum1`为`sum2`整数。为避免将来出现此类错误，您应该尝试将编译器配置为警告隐式转换。在 g++ 中，这是使用 -Wconversion 标志完成的。

# linux - 检查 wget/curl 是否存在

> ID：14411103
> 
> 赞同：7
> 
> 时间：2013-01-19T04:31:09.097
> 
> 标签：linux, shell

尝试执行脚本以使用 wget 下载文件，或者如果 Linux 中不存在 wget，则使用 curl。如何让脚本检查 wget 是否存在？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-01-19T04:32:34.910

Linux 有一个`which`命令可以检查路径上是否存在可执行文件：

```
pax> which ls ; echo $?
/bin/ls
0

pax> which no_such_executable ; echo $?
1 
```

如您所见，它设置返回码`$?`以轻松判断是否找到了可执行文件。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2013-01-19T04:37:13.460

```
wget http://download/url/file 2>/dev/null || curl -O  http://download/url/file 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2013-02-21T16:09:54.963

也可以使用`command`or`type`或`hash`来检查 wget/curl 是否存在。这里的另一个线程 - “[检查是否存在来自 Bash 脚本的程序](https://stackoverflow.com/questions/592620/check-if-a-program-exists-from-a-bash-script)”很好地回答了在 bash 脚本中使用什么来检查程序是否存在。

我会这样做 -

```
if [ ! -x /usr/bin/wget ] ; then
    # some extra check if wget is not installed at the usual place                                                                           
    command -v wget >/dev/null 2>&1 || { echo >&2 "Please install wget or set it in your path. Aborting."; exit 1; }
fi 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2017-01-30T08:01:09.220

首先要做的是尝试`wget`使用通常的包管理系统进行安装。它应该告诉你是否已经安装；

```
yum -y wget 
```

否则只需启动如下命令

```
wget http://download/url/file 
```

如果您没有收到任何错误，则可以。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2020-02-27T23:32:18.033

取自 K3S 安装脚本 ( [https://raw.githubusercontent.com/rancher/k3s/master/install.sh](https://raw.githubusercontent.com/rancher/k3s/master/install.sh) )的解决方案

```
function download {
    url=$1
    filename=$2

    if [ -x "$(which wget)" ] ; then
        wget -q $url -O $2
    elif [ -x "$(which curl)" ]; then
        curl -o $2 -sfL $url
    else
        echo "Could not find curl or wget, please install one." >&2
    fi
}
# to use in the script:
download https://url /local/path/to/download 
```

说明：它查找文件的位置`wget`并检查那里是否存在文件，如果存在，它会执行脚本友好（即安静）下载。如果未找到 wget，它会`curl`以类似的脚本友好方式进行尝试。

（请注意，该问题并未指定 BASH，但我的回答假定它。）

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2021-03-18T09:56:17.580

只需运行

```
wget http://download/url/file 
```

您将看到端点是否可用的统计信息。

# javascript - 如何在 Kinetic JS 中绘制部分贝塞尔曲线

> ID：14411112
> 
> 赞同：1
> 
> 时间：2013-01-19T04:33:26.723
> 
> 标签：javascript, kineticjs

这个问题可能有点难以表述，但这里有：

在 KineticJS 中使用 bezierCurveTo 时，你给它曲线终点的坐标以及控制点的坐标。有没有一种简单的方法可以让曲线实际上不继续到指定的终点，而是停在曲线上的另一个点？

我问的原因是因为我想画一条贝塞尔曲线，然后在它上面再画一条遵循相同曲线但不会一直走到尽头的曲线。现在我所知道的就是用新的终点绘制一条新曲线，然后猜测并检查控制点，直到两条曲线匹配。但这很耗时，而且看起来永远不会很完美。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-12T19:12:56.700

我不知道部分贝塞尔曲线，但您可以通过绘制一条带有笔触渐变的曲线来实现相同的效果。在渐变中的同一点创建两个停靠点以创建硬色线。

```
var grd=ctx.createLinearGradient(bezStartX,bezStartY,bezEndX,bezEndX);
grd.addColorStop(0,"black");
grd.addColorStop("0.5","black");
grd.addColorStop("0.5","blue");
grd.addColorStop("1","blue");

ctx.strokeStyle=grd;
ctx.beginPath();
ctx.moveTo(bezStartX,bezStartY);
ctx.bezierCurveTo(bexCtrl1X,bezCtrl1Y,bexCtrl2X,bexCtrl2Y,bezEndX,bezEndX);
ctx.stroke(); 
```

编辑：[这个答案](http://stackoverflow.com/a/11705483/1899369)显示了如何分割贝塞尔曲线。

# vb.net - 如何制作无限变量（如 Num1、Num2 等）？

> ID：14411114
> 
> 赞同：-2
> 
> 时间：2013-01-19T04:33:47.957
> 
> 标签：vb.net

我正在使用 vb 2012 express（用于桌面），我想知道如何制作无限变量。例如

```
Dim Num1 as integer
Dim Num2 as integer 
```

我希望应用程序使用 Num3、4、5、6 等创建一个新变量。这可能吗？如果是这样，怎么做？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-19T04:46:21.690

考虑使用和数组或列表：

```
 Dim Num As New List(Of Integer) 'Create a list of integers
    For i = 0 To Integer.MaxValue 'Add to the list as much as it can hold which is 2147483647 items, it is integer's maximum value.
        Num.Add(0)
    Next

    'OR

    Dim NumArray(Integer.MaxValue) As Integer 'Create an array of integers which holds maximum number of items, again 2147483647 items.

    'Youy may access them both via their indexes:
    Console.WriteLine(Num(0))
    Console.WriteLine(Num(1))
    Console.WriteLine(Num(2))
    'or
    Console.WriteLine(NumArray(0))
    Console.WriteLine(NumArray(1))
    Console.WriteLine(NumArray(2))
    'and so on... 
```

顺便说一句，`Console.WriteLine()`在这种情况下将整数转换为字符串。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-19T04:37:52.557

这是您需要数组的东西（或者可能是一个集合类，取决于其他需要）。

就像是：

```
Dim Idx As Integer
Dim Num(10) As Integer

' Now you can use Num(0) thru Num(10) '
For Idx = 0 To 10
    Num(Idx) = 10 - Idx
Next 
```

# c# - Windows 碎片整理不是内部或外部命令、可运行程序或批处理文件

> ID：14411118
> 
> 赞同：1
> 
> 时间：2013-01-19T04:34:32.090
> 
> 标签：c#, windows, batch-file, defragmentation

我正在制作一个技术工具包程序，这个“工具包”中包含一个在本地磁盘上运行碎片整理的按钮。目前我为此制作的批处理文件很简单，它只是运行一个基本的碎片分析：

```
defrag C: /A 
```

触发此按钮的 C# 代码是：

```
System.Diagnostics.ProcessStartInfo procInfo = 
    new System.Diagnostics.ProcessStartInfo();
procInfo.Verb = "runas";
procInfo.FileName = "(My Disk):\\PreDefrag.bat";
System.Diagnostics.Process.Start(procInfo); 
```

这段代码完全符合我的要求，它调用 UAC，然后使用管理权限启动我的批处理文件。尽管运行批处理文件后，我收到命令控制台的输出是：

```
C:\Windows\system32>defrag C: /A
'defrag' is not recognized as an internal or external command, 
    operable program or batch file. 
```

是什么导致了这个错误，我该如何解决？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-19T04:46:16.163

检查以确保您的 defrag.exe 文件确实存在于 C:\Windows\System32 中。

尝试将“碎片整理”命令完全限定为：

```
C:\WINDOWS\system32\defrag.exe C: /A 
```

打开 cmd 提示符并运行以下命令：`defrag.exe /?`并在问题中发布您得到的内容。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-19T04:59:26.777

首先：将您的项目`Platform Target`属性设置为`Any CPU`并取消选中该`Prefer 32-bit`选项（99,9％这是问题）。那么......为什么在你可以这样做的时候启动一个调用命令的批处理呢？

```
ProcessStartInfo info = new ProcessStartInfo();
info.Arguments = "/C defrag C: /A";
info.FileName = "cmd.exe";
info.UseShellExecute = false;
info.Verb = "runas";
info.WindowStyle = ProcessWindowStyle.Hidden;

Process.Start(info); 
```

在我的机器上工作就像一个魅力。对于多个命令：

```
ProcessStartInfo info = new ProcessStartInfo();
info.FileName = "cmd.exe";
info.RedirectStandardInput = true;
info.UseShellExecute = false;

Process cmd = Process.Start(info);

using (StreamWriter sw = p.StandardInput)
{
    if (sw.BaseStream.CanWrite)
    {
        sw.WriteLine(command1);
        sw.WriteLine(command2);
        // ... 
```

# ios - 如何以编程方式更改 iOS 中的视图

> ID：14411121
> 
> 赞同：1
> 
> 时间：2013-01-19T04:34:57.847
> 
> 标签：ios, objective-c, uiviewcontroller, storyboard

在 Xcode 4.5 中，您可以从 segue 更改视图，但我想以编程方式更改 Mainstoryboard 中的视图。我知道在 Xib。我们使用这种方法：

```
SecondViewController *Second = [[SecondViewController alloc] initWithNibName:nil bundle:nil];
[self presentModalViewController:Second animated:YES]; 
```

当用户在文本字段中单击完成时，我想更改视图（此代码检测用户是否单击完成）：

```
-(IBAction)hidekeyboard {

    [sender resignFirstResponder];
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-19T05:23:30.443

您在情节提要中创建了一个转场，该转场从包含相关文本字段的视图转到您的`SecondViewController`. 您必须为其分配一个标识符（也在故事板中，单击连接两个视图控制器的线），我们称之为“segueToSecondViewController”。然后，您可以使用以下方法手动调用 segue：

```
[self.storyboard performSegueWithIdentifier:@"segueToSecondViewController" sender:self]; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-19T08:25:42.297

segueing 的替代方法是从情节提要中实例化 viewController。

首先，您将 Storyboard ID 分配给情节提要中的 viewController。

![在此处输入图像描述](../Images/2a7798f9199a350d24a5439a1ccbb258.png)

然后你实例化那个viewController，并呈现它。

```
MBTagEditorViewController *tagEditor = [self.storyboard instantiateViewControllerWithIdentifier:@"TagEditor"];
[self presentModalViewController:tagEditor animated:YES]; 
```

# css - Google Chrome 扩展中的 CSS 内容脚本问题

> ID：14411122
> 
> 赞同：2
> 
> 时间：2013-01-19T04:34:59.840
> 
> 标签：css, google-chrome, google-chrome-extension, content-script

我正在创建一个简单的 Chrome 扩展程序，它使用[内容脚本阻止](http://developer.chrome.com/extensions/content_scripts.html)[Google 主页](http://www.google.com)上的[“Google”徽标图像](https://www.google.com/images/srpr/logo3w.png)。我按照内容脚本页面上的说明进行操作，但它似乎仍然无法正常工作。谁能发现我做错了什么？

* * *

**编辑**：我已经用[flickr.com](http://www.flickr.com)等其他网站对其进行了测试，它运行良好。我还搜索了 Google 主页 CSS，但无法确定哪个 CSS 规则覆盖了我的 CSS。有任何想法吗？如何进行更强大的 CSS 注入，以便没有其他 CSS 可以覆盖我的？

* * *

**清单.json**：

```
{
  "manifest_version": 2,
  "name": "Google Logo Blocker",
  "description": "This extension blocks the Google logo image.",
  "version": "1.0",

  "content_scripts": [
   {
     "matches": ["http://www.google.com/"],
     "css": ["blocker.css"]
   }
  ],

  "browser_action": {
    "default_icon": "icon.png"
  }
} 
```

**拦截器.css**：

```
img {
    display: none !important;
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-19T05:31:50.240

你的代码对我有用。您使用的是直接美国谷歌，而不是国际版本，对吧？

以防万一，将您的更改`matches`为：

```
"matches": ["http://*.google.com/", "https://*.google.com/"], 
```

并更直接地定位徽标。这在大多数情况下都有效：

```
#hplogo {
    display: none !important;
} 
```

* * *

* * *

要获得全面的国际 Google 支持，`content_scripts`请将清单的部分更改为：

```
"content_scripts": [ {
    "matches":          ["http://*/*", "https://*/*"],
    "include_globs":    ["http://*.google.*/*", "https://*.google.*/*"],
    "css":              ["blocker.css"]
} ], 
```

任选地也使用`exclude_matches`和/或`exclude_globs`根据需要。

* * *

* * *

如果它仍然不起作用，请按常规说明：

1.  **确切**网址
2.  铬版
3.  操作系统
4.  其他扩展有效

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-19T05:24:44.170

它是 `<img>`现代版的`<div>`标签，是国际版的带有背景图像的标签。无论如何，它们具有相同的差异`id = hplogo`，因此这对您有用。

[**点击查看大图**](https://i.stack.imgur.com/ok3hs.png)

![在此处输入图像描述](../Images/e053e47583c180d236a2d867b21b4f45.png)

采用

```
#hplogo{
       display:none !important;
} 
```

它将删除谷歌徽标。

# php - xdebug、phpunit 和 vim。上下文中的“未初始化”变量

> ID：14411123
> 
> 赞同：4
> 
> 时间：2013-01-19T04:35:05.130
> 
> 标签：php, vim, phpunit, xdebug

我正在使用这个 vim 插件[https://github.com/ludovicPelle/vim-xdebug](https://github.com/ludovicPelle/vim-xdebug)和 xdebug

Xdebug 和 vim 插件在常规脚本中运行良好。我可以单步执行并打印出变量。

当我尝试单步执行基本单元测试时，它会很好地到达断点并停止，我可以单步执行代码，但我无法再查看变量的内容。

我试图让它与一个非常基本的单元测试一起工作

```
class testClass extends \PHPUnit_Framework_TestCase
{
  public function testSomething()
  { 
    $a = 5;
    $b = 6;
    $c = 7;
  } 
} 
```

当我走到该方法的末尾并尝试打印出 $a 的内容时，我收到以下错误。

```
13 : send =====> property_get -i 13 -d 0 -n a
13 : recv <===== {{{   <?xml version="1.0" encoding="iso-8859-1"?>
<response xmlns="urn:debugger_protocol_v1" xmlns:xdebug="http://xdebug.org/dbgp/xdebug" command="property_get" transaction_id="13" status="break" reason="ok"><error code="300"><message><![CDATA[can not get property]]></message></error></response>
}}}
response status=break xmlns=urn:debugger_protocol_v1 xmlns:xdebug=http://xdebug.org/dbgp/xdebug reason=ok command=property_get transaction_id=13
error code=300 : Can not get property (when the requested property to get did not exist, this is NOT used for an existing but uninitialized property, which just gets the type "uninitialised" (See: PreferredTypeNames)).
    message
        can not get property 
```

当我打印出整个上下文时，3个变量显示如下

```
$command = 'context_get';
 a                    = /* uninitialized */'';
 b                    = /* uninitialized */'';
 c                    = /* uninitialized */''; 
```

我知道 phpunit 在运行测试类的方法时会做一些有趣的技巧，所以这可能就是调试器没有返回方法中的变量的原因。任何建议将不胜感激，谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-23T01:34:14.433

你需要做这样的事情

```
class testClass extends \PHPUnit_Framework_TestCase
{
    $a = 0;
    $b = 0;
    $c = 0;

  function dosomething() {
    $a = 5;
    $b = 6;
    $c = 7;
  }
} 
```

或者你需要包含一个变量文件

你的 var.php 文件

<?

```
 $a = 0;
  $b = 0;
  $c = 0; 
```

?>

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-29T19:22:07.527

问题原来是我使用的 xdebug 版本，显然这是 2.0 中的一个已知问题，已在 2.1 中修复我正在调试的虚拟机是 ubuntu 10.04 LTS

在这个版本的 Ubuntu 发布时，xdebug 2.1 仍然是一个候选版本。我编译了最新版本的 xdebug，并且能够查看方法中的变量。

# xcode - osx lion 上的奇怪崩溃可能是由于符号查找错误

> ID：14411128
> 
> 赞同：0
> 
> 时间：2013-01-19T04:35:47.907
> 
> 标签：xcode, dylib

我有一个在 OS/X Lion 上运行的 c++ 应用程序，它在调用 glIsBuffer(0) 时崩溃。XCode 4.5 堆栈跟踪状态：

错误：地址不包含指向目标文件中某个部分的部分

和 DYLD_PRINT_APIS 显示：

```
dlopen(/System/Library/Frameworks/ApplicationServices.framework/Frameworks/CoreGraphics.framework/CoreGraphics, 0x00000009)
...
dlsym(0x7f9288d00cd0, gliCopyAttributes)
dlsym(0x7f9288d00cd0, gliGetVersion)
dlsym(0x7f9298d70620, __CGBitmapContextDelegateCreate)
dlsym(0xffffffffffffffff, CGSCopyCoreGraphicsCapabilities)
Segmentation fault: 11 
```

最后一次调用 dlsym() 似乎传递了一个相当奇怪的库句柄。我查看了 dlopen 的返回值，但它应该在错误时返回 NULL。日志中没有报告 dlopen 调用的错误。

CGSCopyCoreGraphicsCapabilities 是一个核心图形调用，尽管谷歌没有在它上面出现任何文档。我目前的假设是 dlsym 使用了无效的库句柄。可能未加载或已卸载正确的核心图形库。

运行 otool 显示一些版本不匹配：

```
/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 159.1.0)
/usr/lib/libstdc++.6.dylib (compatibility version 7.0.0, current version 52.0.0) 
```

但我不知道它们是否相关。

任何人都可以帮助破译可能是什么问题？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-20T01:33:16.737

固定的。事实证明，必须明确链接框架。不知何故，依赖关系在链接时得到解决，但在运行时失败。

# php - 如何从 $_GET 参数中删除“__utma”和“__utmz”？

> ID：14411130
> 
> 赞同：2
> 
> 时间：2013-01-19T04:35:55.613
> 
> 标签：php, get

当我回显 $_GET 变量的内容时，有两个值甚至不在链接中。

```
array (
'__utma' => '118264987.369913698.1357785187.1358515273.1358367728.77',
'__utmz' => '118254987.1328042362.21.9.utmcsr=google|utmccn=(organic)|utmcmd=organic|utmctr=(not provided)',
) 
```

我怎样才能可靠地去除所有这些无用数据的 $_GET 变量？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-19T04:49:50.237

您可以像这样删除“有问题的”数组键：

```
// only use the keys that we want
$keys = preg_grep('/^__utm.$/', array_keys($_GET), PREG_GREP_INVERT);
// get the values that belong to those keys
$values = array_intersect_key($_GET, array_flip($keys)); 
```

它删除（或者更确切地说是跳过）以一个字符开头`__utm`并且后跟一个字符的键。

顺便说一句，您可以将模式更改为更具限制性，例如：

```
^__utm[az]$ 
```

这*只会*删除`__utma`，`__utmz`但不会删除`__utmx`。

# spring - 无论我在哪里指定 Tomcat 7 都无法加载 ojdbc6.jar

> ID：14411134
> 
> 赞同：1
> 
> 时间：2013-01-19T04:36:26.187
> 
> 标签：spring, tomcat, jdbc, oracle11g, web-deployment-project

这真的是在考验我的耐心。我有一个简单的 Spring 3.1 + Jersey 应用程序，我正在尝试使用 ojdbc6.jar 作为我的数据源。不幸的是，无论我尝试什么，它都找不到“oracle.jdbc.driver.OracleDriver”类。

我打开了类加载器跟踪，我可以看到正在加载的 ojdbc6.jar：

```
[Loaded oracle.jdbc.driver.OracleDriver from file:/opt/tomcat7/lib/ojdbc6.jar]
[Loaded oracle.jdbc.OracleDriver from file:/opt/tomcat7/lib/ojdbc6.jar]
[Loaded java.sql.SQLException from /System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Classes/classes.jar]
[Loaded java.sql.Wrapper from /System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Classes/classes.jar]
[Loaded java.sql.Connection from /System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Classes/classes.jar]
[Loaded javax.management.InstanceAlreadyExistsException from /System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Classes/classes.jar]
[Loaded oracle.jdbc.driver.OracleDriverExtension from file:/opt/tomcat7/lib/ojdbc6.jar]
[Loaded java.sql.DriverInfo from /System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Classes/classes.jar]
[Loaded oracle.jdbc.driver.OracleDriver$1 from file:/opt/tomcat7/lib/ojdbc6.jar]
[Loaded oracle.jdbc.driver.ClassRef from file:/opt/tomcat7/lib/ojdbc6.jar]
[Loaded oracle.jdbc.driver.ClassRef$XMLTypeClassRef from file:/opt/tomcat7/lib/ojdbc6.jar]
[Loaded oracle.jdbc.driver.DiagnosabilityMXBean from file:/opt/tomcat7/lib/ojdbc6.jar]
[Loaded oracle.jdbc.driver.OracleDiagnosabilityMBean from file:/opt/tomcat7/lib/ojdbc6.jar]
[Loaded javax.management.StandardMBean$MBeanInfoSafeAction from /System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Classes/classes.jar]
[Loaded oracle.jdbc.driver.DatabaseError from file:/opt/tomcat7/lib/ojdbc6.jar]
[Loaded oracle.jdbc.driver.OracleSQLException from file:/opt/tomcat7/lib/ojdbc6.jar]
[Loaded java.lang.StringIndexOutOfBoundsException from /System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Classes/classes.jar]
[Loaded oracle.jdbc.driver.SQLStateMapping from file:/opt/tomcat7/lib/ojdbc6.jar]
[Loaded java.sql.SQLNonTransientException from /System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Classes/classes.jar]
[Loaded java.sql.SQLTransientException from /System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Classes/classes.jar]
[Loaded java.sql.SQLDataException from /System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Classes/classes.jar]
[Loaded java.sql.SQLFeatureNotSupportedException from /System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Classes/classes.jar]
[Loaded java.sql.SQLIntegrityConstraintViolationException from /System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Classes/classes.jar]
[Loaded java.sql.SQLInvalidAuthorizationSpecException from /System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Classes/classes.jar]
[Loaded java.sql.SQLNonTransientConnectionException from /System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Classes/classes.jar]
[Loaded java.sql.SQLSyntaxErrorException from /System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Classes/classes.jar]
[Loaded java.sql.SQLTimeoutException from /System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Classes/classes.jar]
[Loaded java.sql.SQLTransactionRollbackException from /System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Classes/classes.jar]
[Loaded java.sql.SQLTransientConnectionException from /System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Classes/classes.jar]
[Loaded java.sql.SQLClientInfoException from /System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Classes/classes.jar]
[Loaded java.sql.SQLRecoverableException from /System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Classes/classes.jar]
[Loaded oracle.jdbc.driver.SQLStateMapping$Tokenizer from file:/opt/tomcat7/lib/ojdbc6.jar]
[Loaded oracle.jdbc.driver.Message from file:/opt/tomcat7/lib/ojdbc6.jar]
[Loaded oracle.jdbc.driver.Message11 from file:/opt/tomcat7/lib/ojdbc6.jar]
[Loaded oracle.jdbc.internal.ObjectDataFactory from file:/opt/tomcat7/lib/ojdbc6.jar]
[Loaded oracle.sql.ORADataFactory from file:/opt/tomcat7/lib/ojdbc6.jar]
[Loaded oracle.sql.AnyDataFactory from file:/opt/tomcat7/lib/ojdbc6.jar]
[Loaded oracle.jdbc.internal.ObjectData from file:/opt/tomcat7/lib/ojdbc6.jar]
[Loaded oracle.sql.ORAData from file:/opt/tomcat7/lib/ojdbc6.jar]
[Loaded oracle.sql.TypeDescriptorFactory from file:/opt/tomcat7/lib/ojdbc6.jar]
[Loaded oracle.jdbc.OracleConnection from file:/opt/tomcat7/lib/ojdbc6.jar]
[Loaded oracle.jdbc.internal.OracleConnection from file:/opt/tomcat7/lib/ojdbc6.jar]
[Loaded oracle.jdbc.internal.ClientDataSupport from file:/opt/tomcat7/lib/ojdbc6.jar]
[Loaded oracle.jdbc.OracleConnectionWrapper from file:/opt/tomcat7/lib/ojdbc6.jar]
[Loaded oracle.jdbc.driver.OracleConnection from file:/opt/tomcat7/lib/ojdbc6.jar]
[Loaded oracle.jdbc.driver.PhysicalConnection from file:/opt/tomcat7/lib/ojdbc6.jar] 
```

但是当我尝试我的网络服务调用时，我得到以下信息：

```
SEVERE: Servlet.service() for servlet [oraclepoc] in context with path [/oraclepoc] threw exception
org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is org.apache.commons.dbcp.SQLNestedException: Cannot load JDBC driver class '"oracle.jdbc.driver.OracleDriver"/>'
    at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:80)
    at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:573)
    at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:637)
    at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:666)
    at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:674)
    at org.springframework.jdbc.core.JdbcTemplate.queryForObject(JdbcTemplate.java:729)
    at com.company.sims.oraclepoc.dao.ProcessStatusDaoImpl.getStatusByProcessID(ProcessStatusDaoImpl.java:15)
    at com.company.sims.oraclepoc.resources.ProcessStatusRestController.getEMSStatusByProcessID_XML(ProcessStatusRestController.java:27)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    at java.lang.reflect.Method.invoke(Method.java:597)
    at com.sun.jersey.spi.container.JavaMethodInvokerFactory$1.invoke(JavaMethodInvokerFactory.java:60)
    at com.sun.jersey.server.impl.model.method.dispatch.AbstractResourceMethodDispatchProvider$TypeOutInvoker._dispatch(AbstractResourceMethodDispatchProvider.java:185)
    at com.sun.jersey.server.impl.model.method.dispatch.ResourceJavaMethodDispatcher.dispatch(ResourceJavaMethodDispatcher.java:75)
    at com.sun.jersey.server.impl.uri.rules.HttpMethodRule.accept(HttpMethodRule.java:288)
    at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)
    at com.sun.jersey.server.impl.uri.rules.ResourceClassRule.accept(ResourceClassRule.java:108)
    at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)
    at com.sun.jersey.server.impl.uri.rules.RootResourceClassesRule.accept(RootResourceClassesRule.java:84)
    at com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1469)
    at com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1400)
    at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1349)
    at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1339)
    at com.sun.jersey.spi.container.servlet.WebComponent.service(WebComponent.java:416)
    at com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:537)
    at com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:699)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:728)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)
    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)
    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)
    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)
    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99)
    at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:936)
    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)
    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)
    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1004)
    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:589)
    at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:310)
    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
    at java.lang.Thread.run(Thread.java:680)
Caused by: org.apache.commons.dbcp.SQLNestedException: Cannot load JDBC driver class '"oracle.jdbc.driver.OracleDriver"/>'
    at org.apache.commons.dbcp.BasicDataSource.createConnectionFactory(BasicDataSource.java:1429)
    at org.apache.commons.dbcp.BasicDataSource.createDataSource(BasicDataSource.java:1371)
    at org.apache.commons.dbcp.BasicDataSource.getConnection(BasicDataSource.java:1044)
    at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:111)
    at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:77)
    ... 43 more
Caused by: java.lang.ClassNotFoundException: "oracle.jdbc.driver.OracleDriver"/>
    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1714)
    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1559)
    at org.apache.commons.dbcp.BasicDataSource.createConnectionFactory(BasicDataSource.java:1420)
    ... 47 more
Jan 18, 2013 11:24:30 PM org.apache.catalina.core.StandardWrapperValve invoke
SEVERE: Servlet.service() for servlet [oraclepoc] in context with path [/oraclepoc] threw exception
org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is org.apache.commons.dbcp.SQLNestedException: Cannot load JDBC driver class '"oracle.jdbc.driver.OracleDriver"/>'
    at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:80)
    at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:573)
    at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:637)
    at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:666)
    at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:674)
    at org.springframework.jdbc.core.JdbcTemplate.queryForObject(JdbcTemplate.java:729)
    at com.company.sims.oraclepoc.dao.ProcessStatusDaoImpl.getStatusByProcessID(ProcessStatusDaoImpl.java:15)
    at com.company.sims.oraclepoc.resources.ProcessStatusRestController.getEMSStatusByProcessID_XML(ProcessStatusRestController.java:27)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    at java.lang.reflect.Method.invoke(Method.java:597)
    at com.sun.jersey.spi.container.JavaMethodInvokerFactory$1.invoke(JavaMethodInvokerFactory.java:60)
    at com.sun.jersey.server.impl.model.method.dispatch.AbstractResourceMethodDispatchProvider$TypeOutInvoker._dispatch(AbstractResourceMethodDispatchProvider.java:185)
    at com.sun.jersey.server.impl.model.method.dispatch.ResourceJavaMethodDispatcher.dispatch(ResourceJavaMethodDispatcher.java:75)
    at com.sun.jersey.server.impl.uri.rules.HttpMethodRule.accept(HttpMethodRule.java:288)
    at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)
    at com.sun.jersey.server.impl.uri.rules.ResourceClassRule.accept(ResourceClassRule.java:108)
    at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)
    at com.sun.jersey.server.impl.uri.rules.RootResourceClassesRule.accept(RootResourceClassesRule.java:84)
    at com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1469)
    at com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1400)
    at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1349)
    at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1339)
    at com.sun.jersey.spi.container.servlet.WebComponent.service(WebComponent.java:416)
    at com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:537)
    at com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:699)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:728)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)
    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)
    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)
    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)
    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99)
    at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:936)
    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)
    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)
    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1004)
    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:589)
    at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:310)
    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
    at java.lang.Thread.run(Thread.java:680)
Caused by: org.apache.commons.dbcp.SQLNestedException: Cannot load JDBC driver class '"oracle.jdbc.driver.OracleDriver"/>'
    at org.apache.commons.dbcp.BasicDataSource.createConnectionFactory(BasicDataSource.java:1429)
    at org.apache.commons.dbcp.BasicDataSource.createDataSource(BasicDataSource.java:1371)
    at org.apache.commons.dbcp.BasicDataSource.getConnection(BasicDataSource.java:1044)
    at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:111)
    at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:77)
    ... 43 more
Caused by: java.lang.ClassNotFoundException: "oracle.jdbc.driver.OracleDriver"/>
    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1714)
    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1559)
    at org.apache.commons.dbcp.BasicDataSource.createConnectionFactory(BasicDataSource.java:1420)
    ... 47 more 
```

我的应用程序上下文 XML 文件如下：

```
<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:context="http://www.springframework.org/schema/context"
       xsi:schemaLocation="
   http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
   http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-2.5.xsd">
    <context:component-scan base-package="com.company.sims.oraclepoc"/>
    <context:annotation-config/>
    <bean id="propertyConfigurer" 
          class="org.springframework.beans.factory.config.PropertyPlaceholderConfigurer">
        <property name="location">
            <value>jdbc.properties</value>
        </property>
    </bean>
    <bean id="dataSource" class="org.apache.commons.dbcp.BasicDataSource"
          destroy-method="close">
        <property name="driverClassName">
            <value>${jdbc.driver}</value>
        </property>
        <property name="url">
            <value>${jdbc.url}</value>
        </property>
        <property name="username">
            <value>${jdbc.user}</value>
        </property>
        <property name="password">
            <value>${jdbc.password}</value>
        </property>
    </bean>
    <bean id="processStatusDao" class="com.company.sims.oraclepoc.dao.ProcessStatusDaoImpl">
        <property name="dataSource" ref="dataSource" />
    </bean>  
</beans> 
```

我的 jdbc.properties 文件：

```
jdbc.driver="oracle.jdbc.driver.OracleDriver"/>
jdbc.url="jdbc:oracle:thin:@10.10.10.10:1522:db"/>
jdbc.user="USER"/>
jdbc.password="password"/> 
```

我试过把它放在 WEB-INF/lib 目录和 Tomcat 的 LIB 目录中。两次尝试都失败了。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-19T04:48:48.413

我相信这是一个类加载问题。我能想到的事情是：

*   两个 ojdbc.jar 可在您的类路径中访问，一个在 tomcat/lib 中，另一个在 WEB-INF/lib
*   两个 ojdbc.jar 可在您的类路径中访问，一个在 JRE ext 文件夹中，另一个在 WEB-INF/lib

或类似的东西。

只需确保您的类路径中只有一个 JDBC 驱动程序。您可以删除 WEB-INF/lib 中的那个，以查看您的应用程序是否正常工作。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-01-19T04:47:52.683

该类`oracle.jdbc.driver.OracleDriver`已弃用多年，并[已从 Oracle JDBC 驱动程序版本 11.1.0.7.0 的 ojdbc6.jar 中删除](http://www.oracle.com/technetwork/database/enterprise-edition/111070-readme-083278.html)。

你应该`oracle.jdbc.OracleDriver`改用。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-19T04:47:08.083

您确定 .jar 在正确的位置吗？例如，在这种情况下，它需要位于 nTomcat 的“common/lib”中，而不是“app/lib”中：

*   [http://forum.springsource.org/showthread.php?13965-oracle-JDBC-throws-error-while-initializing](http://forum.springsource.org/showthread.php?13965-oracle-JDBC-throws-error-while-initializing)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-19T16:22:47.450

事实证明，经过一夜好眠和一段时间后，我[在 SO 中找到了这个链接。](https://stackoverflow.com/questions/10994642/tomcat-jdbc-mysql-classnotfoundexception?rq=1)原来我的 jdbc.properties 文件是为我的 Oracle 实例构建的，但对我的 Sybase 实例却是正确的。感谢大家的帮助。否决我的荒谬。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2017-02-22T17:18:47.553

我正在使用 Jetbrains IntelliJ IDE。我选择了*Settings - Build, Execution, Deployment - Build Tools - Maven - Runner*并在JRE ComboBox中选择了Java 1.6以上的版本。错误消失了。

# shell - 愚蠢的shell脚本错误

> ID：14411135
> 
> 赞同：0
> 
> 时间：2013-01-19T04:36:32.067
> 
> 标签：shell

我有以下用于 OSX 的 shell 脚本，我想用它来更正/修复用户目录的权限，但出现错误：

```
bash-3.2# sh fix-perms.sh 
fix-perms.sh: line 23: syntax error near unexpected token `else'
fix-perms.sh: line 23: `else' 
```

我的脚本：

```
#!/bin/sh

# Script fixes permissions in Users directory

#  Set PATH as shortcut
#
PATH=/bin:/usr/bin:/sbin:/usr/sbin export PATH

# First verify volume is mounted before executing

if [ -d /Volumes/UserStorage ] ;
then

        USERS=`mktemp -t users-XXXXX.log`
        ls -1 /Volumes/UserStorage/Users > $USERS

        for i in `cat $USERS`; do
        chmod -R 700 /Volumes/UserStorage/Users/$i

        find /Volumes/UserStorage/Users/$i -type d -exec chmod 701 {} \;
        exit 0

else

echo Volume Not Mounted

exit 1

fi 
```

这一定是我想念的愚蠢/愚蠢的东西，但如果我能看到它就该死！

提前感谢您的提示/见解。

担

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-19T04:39:03.720

问：您是否意识到您在执行循环中缺少“完成”？

问：如果你把“then”和分号放在同一行会发生什么？

以下是更多示例：

[http://www.thegeekstuff.com/2010/06/bash-if-statement-examples/](http://www.thegeekstuff.com/2010/06/bash-if-statement-examples/)

这是您的原始代码，稍作修改：

```
#!/bin/sh
# Script fixes permissions in Users directory
#  Set PATH as shortcut
#
PATH=/bin:/usr/bin:/sbin:/usr/sbin export PATH

# First verify volume is mounted before executing
if [ -d /Volumes/UserStorage ] ; then
        USERS=`mktemp -t users-XXXXX.log`
        ls -1 /Volumes/UserStorage/Users > $USERS

        for i in `cat $USERS`; do
          chmod -R 700 /Volumes/UserStorage/Users/$i

          find /Volumes/UserStorage/Users/$i -type d -exec chmod 701 {} \;
          exit 0
        done

else
  echo Volume Not Mounted
  exit 1
fi 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-19T04:39:24.330

你忘`done`了你的`for`循环。语法是：

```
for statement
do
  statements...
done 
```

# scala - 使用 IMain、Akka 和 sbt 的 REPL：让导入工作

> ID：14411136
> 
> 赞同：4
> 
> 时间：2013-01-19T04:36:47.317
> 
> 标签：scala, sbt, interpreter

我正在尝试在我的 Scala 应用程序中加入一个交互式 shell。我正在使用以下系统：

*   斯卡拉 2.10.0
*   sbt 0.12.2
*   阿卡 2.1.0
*   sbt-lwjgl-插件 3.1.4

和以下非工作代码：

```
 import akka.actor.Actor
    import scala.tools.nsc.Settings
    import scala.tools.nsc.interpreter.IMain

    class TestActor extends Actor {
      def receive => {
        case _ => {
          val settings = new Settings
          settings.usejavacp.value = true
          settings embeddedDefaults ActorSystem.getClass.getClassLoader
          val repl = new IMain(settings)
          repl.interpret("import java._")               // working
          repl.interpret("import scala._")              // working
          repl.interpret("import akka._")               // not working
          repl.interpret("import other.java.class.Bar") // not working
        }
      }
    } 
```

Sbt 设置为`fork := true`. 我尝试了几种设置和类路径配置，但没有找到有效的配置。有人可以给我这个问题的提示/解决方案吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-24T07:44:51.550

您是否尝试过使用绝对路径重新导入所有类路径？

```
val settings = new Settings
settings.usejavacp.value = true

val classLoader = Thread.currentThread.getContextClassLoader

classLoader.asInstanceOf[URLClassLoader].getURLs.map(url => new File(url.toURI).getAbsolutePath).foreach {
  jarPath =>
    println(s"adding into Scala SDK classpath : ${jarPath}")

    settings.bootclasspath.append(jarPath)
    settings.classpath.append(jarPath)
} 
```

# orientation - 如何为单个页面设置单个设备方向：Corona- SDK

> ID：14411137
> 
> 赞同：2
> 
> 时间：2013-01-19T04:36:52.150
> 
> 标签：orientation, coronasdk

我使用 Corona-SDK 制作了一个游戏。它有2个场景：（1）菜单场景和（2）游戏场景。我需要我的应用支持两个方向：“landscapeRight”和“landscapeLeft”。为此，我在 build.settings 中使用了以下代码行：

```
 orientation =
 {
    default = "landscapeRight",
    supported =
    {
        "landscapeRight", "landscapeLeft"
    },
 } 
```

不幸的是，这将影响整个应用程序。

但我希望我的游戏场景仅支持一个方向（例如：landscapeRight 或 LandscapeLeft 或纵向）。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-21T16:13:11.577

抱歉，Corona SDK 没有这种能力。

你可以做的就是锁定一个方向，在你想要支持多个方向的地方，你可以手动检查加速度计看手机是否倒置，然后手动翻转你的图形。

翻转图形最简单的方法是将它们全部放在一个以屏幕为中心的组中，然后将该组旋转 180 度。

# eclipse - 如何使用 EGit 恢复以前版本的 git？

> ID：14411143
> 
> 赞同：0
> 
> 时间：2013-01-19T04:37:40.930
> 
> 标签：eclipse, git, egit

例如在本地
1st commit: 10am
2nd commit: 11am
3rd commit: 12pm
4th commit: 1pm
4th commit 后发现代码不工作了，所以想恢复到 2nd commit，怎么办？

恢复到第二次提交后有两种情况：

1.  我发现了错误，我认为第 3 次和第 4 次提交不再有效，所以我想删除第 3 次和第 4 次提交，然后再次提交以修复错误。
2.  我修复了错误，由于第 3 次和第 4 次提交代码很有用，我希望我的第 5 次提交是我在第 2 次提交和第 4 次提交时修复错误的组合。

我是Git新手，请帮助解决问题。我正在使用`Eclipse with EGit`我的 Android 项目。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-19T09:34:27.020

有几个选项可以删除提交 3 和 4

如果你没有在任何地方推送代码，你可以使用 git reset

```
git reset --hard HEAD~2

```

我已经将代码推送到任何地方

```
git 还原头
git revert HEAD~3
（实际上是 head~2，但现在 head 在 1st revert 中增加了 1）
然后推

```

# php - JSON 输出包括索引号

> ID：14411144
> 
> 赞同：0
> 
> 时间：2013-01-19T04:37:41.440
> 
> 标签：php, mysql, json

我正在尝试使用 php 创建 JSON 输出，当我输出结果时，我得到了我的数据库中没有的数字。

这是我的php代码：

```
<?php 
mysql_select_db("mark1", $link);

$result = mysql_query("SELECT * FROM `Movies` LIMIT 0, 30 ");

while($row = mysql_fetch_array($result))
{
  $output[]=$row;
}
print(json_encode($output));
?> 
```

这是输出：

```
[{"0":"58","id":"58","1":"test","title":"test","2":"test","actors":"test","3":"G","rating":"G"}] 
```

0、1、2、3从何而来？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-19T04:42:17.560

替换`$row = mysql_fetch_array($result)`为`$row = mysql_fetch_assoc($result)`。

mysql_fetch_array() 返回数组也给出这些 0, 1, 2, 3 索引

# ruby-on-rails - fnordmetric gem 中的无效 gemspec

> ID：14411147
> 
> 赞同：1
> 
> 时间：2013-01-19T04:38:03.003
> 
> 标签：ruby-on-rails, rubygems

我在 ubuntu 11.10 中使用 rails 应用程序。我尝试使用此命令安装 fnordmetric gem

```
sudo gem install fnordmetric 
```

在安装时在控制台中显示如下

```
Fetching: bson-1.8.2.gem (100%)
Successfully installed fnordmetric-1.0.0
Successfully installed bson-1.8.2
2 gems installed
Installing ri documentation for fnordmetric-1.0.0...
Installing ri documentation for bson-1.8.2...
Installing RDoc documentation for fnordmetric-1.0.0...
Installing RDoc documentation for bson-1.8.2... 
```

我在我的 gem 文件中包含 fnordmetric gem 作为

```
gem 'fnordmetric' 
```

在那之后我做了

```
sudo bundle install 
```

Gem 已安装，但在 gem 列表中 fnordmetric gem 未显示。我在执行脚本/服务器时收到此错误。

```
Invalid gemspec in [/usr/local/lib/ruby/gems/1.8/specifications/fnordmetric-1.0.0.gemspec]: Illformed requirement ["#<YAML::Syck::DefaultKey:0xc821cb4> 0.4.0"]
Invalid gemspec in [/home/paddu/Documents/fnordmetric/ts-delayed-delta/ruby/1.8/specifications/fnordmetric-1.0.0.gemspec]: Illformed requirement ["#<YAML::Syck::DefaultKey:0x9569204> 0.4.0"]
Invalid gemspec in [/home/paddu/Documents/fnordmetric/ts-delayed-delta/ruby/1.8/specifications/fnordmetric-1.0.0.gemspec]: Illformed requirement ["#<YAML::Syck::DefaultKey:0x9569204> 0.4.0"]
/home/paddu/Documents/fnordmetric/config/../config/preinitializer.rb:18: Bundler couldn't find some gems.Did you run `bundle install`? (RuntimeError)
    from /home/paddu/Documents/fnordmetric/config/boot.rb:28:in `load'
    from /home/paddu/Documents/fnordmetric/config/boot.rb:28:in `preinitialize'
    from /home/paddu/Documents/fnordmetric/config/boot.rb:10:in `boot!'
    from /home/paddu/Documents/fnordmetric/config/boot.rb:122
    from script/server:2:in `require'
    from script/server:2 
```

任何人都可以建议如何解决这个问题。提前致谢

# sencha-touch-2 - sencha 与 Web 服务集成

> ID：14411148
> 
> 赞同：-1
> 
> 时间：2013-01-19T04:38:18.603
> 
> 标签：sencha-touch-2

我是 sencha touch 2 开发的新手。

我的疑问是：

1.  如何在 sencha touch 中集成 web 服务？
2.  任何人都可以建议我一个很好的带有 Web 服务集成的煎茶触摸教程吗？我搜索了很多，但没有得到具体的教程。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-19T10:51:05.590

首先，您应该查看 sencha 文档以了解 REST 代理及其用法

[http://docs.sencha.com/touch/2-0/#!/api/Ext.data.proxy.Rest](http://docs.sencha.com/touch/2-0/#!/api/Ext.data.proxy.Rest)

欲了解更多详情，请查看

[http://blog.palominolabs.com/2012/06/21/an-app-in-an-afternoon-sencha-touch-and-stackmob/](http://blog.palominolabs.com/2012/06/21/an-app-in-an-afternoon-sencha-touch-and-stackmob/)

# python - python：获取 Tkinter 条目值

> ID：14411149
> 
> 赞同：2
> 
> 时间：2013-01-19T04:38:26.520
> 
> 标签：python, tkinter, binding, tkinter-entry

我一直在尝试获取一个条目值（代码中的 S1）以将其自身设置为一个值（_attributes 字典中的 STR），但我无法让它工作。我想把它做成一个最终的toploop，但我会一步一步来，因为我一般都是编程新手。我是否以正确的方式进行此操作，还是应该只使用一个按钮，当按下该按钮时，会在当时查找条目值并与之一起使用？我已经阅读了我在网上为 Tkinter 找到的几个教程和课程，但似乎距离让任何事情都按照我期望的方式工作还有很长的路要走。

```
#! usr/bin/python27
from Tkinter import *

class Character:

    def __init__(self, **kvargs):
        self._attributes = kvargs

    def set_attributes(self, key, value):
        self._attributes[key] = value
        return

    def get_attributes(self, key):
        return self._attributes.get(key, None)

def attrInput(stat, x, y):
   """Creates a label for entry box"""
   L = Label(B,
             width = 5,
             relief = RIDGE,
             anchor = E,
             text = stat).grid(row = x,
                             column = y)

B = ""
def main():

    Person = Character()

    B = Tk()

    S1 = Entry(B, width = 3)
    S1.grid(row = 0, column = 1)
    S1.bind("<Key>", Person.set_attributes('STR', S1.get()) )
    attrInput("Str: ", 0, 0)

    Button(B, text='Quit', command=B.destroy).grid(row=3, column=0, sticky=W, pady=4)

    B.mainloop()

    print Person.__dict__

if __name__ == '__main__': main() 
```

新代码（似乎正在工作，至少我得到了我想要的东西）。我将不得不稍微修改它以使其成为顶部循环，但这是基础

```
class Character:

    def __init__(self, **kvargs):
        self._attribute = kvargs

    def set_attribute(self, key, value):
        self._attribute[key] = value
        return

    def get_attribute(self, key):
        return self._attribute.get(key, None)

class attrAsk:

    def __init__(self, master, Char, attrName, Row, Column):
        self.Char = Char
        self.attrName = attrName
        attrInput(attrName+":", Row, Column)
        self.e = Entry(master, width = 3)
        self.e.grid(row = Row, column = Column+1)
        self.e.bind("<KeyRelease>", self.set_attr)

    def set_attr(self, event):
        self.Char.set_attribute(self.attrName, self.e.get())

def attrInput(stat, x, y):
   """Creates a label for entry box"""
   L = Label(box,
             width = 5,
             relief = RIDGE,
             anchor = E,
             text = stat).grid(row = x,
                               column = y)

Person= Character()

box = Tk()

STRENT = attrAsk(box, Person, "STR", 0, 0)
DEXENT = attrAsk(box, Person, "DEX", 1, 0)
CONENT = attrAsk(box, Person, "CON", 2, 0)
INTENT = attrAsk(box, Person, "INT", 3, 0)
WISENT = attrAsk(box, Person, "WIS", 4, 0)
CHAENT = attrAsk(box, Person, "CHA", 5, 0)

Button(box,
       text='Continue',
       command=box.destroy).grid(columnspan = 2,
                                                       row=8,
                                                       column=0,
                                                       sticky=W,
                                                       pady=4)

box.mainloop()

print Person.__dict__ 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-19T04:52:50.377

换行：

```
S1.bind("<Key>", Person.set_attributes('STR', S1.get()) ) 
```

类似于：

```
def key_pressed(event):
    Person.set_attributes('STR', S1.get())
S1.bind("<KeyRelease>", key_pressed) 
```

原始代码不起作用有两个原因：

1.  `bind`将函数作为其第二个参数 - 然后在事件发生时*调用该函数。*`Person.set_attributes('STR', S1.get())`但是，当您使用它时，表达式会*立即*发生。您需要将该表达式放入一个函数中，以便它仅在按下键时发生。
2.  `<Key>`表示事件在第一次按下键时发生，但您希望它在*释放*键时发生（因此添加了新字符）。因此，您想使用`<KeyRelease>`.

另一个注意事项：将所有功能（尤其是回调方法）组织到一个类中是个好主意。例如：

```
class Window(object):
    def __init__(self):
        self.person = Character()

        self.B = Tk()

        self.S1 = Entry(B, width = 3)
        self.S1.grid(row = 0, column = 1)

        self.S1.bind("<KeyRelease>", self.key_pressed)
        attrInput("Str: ", 0, 0)

        self.button = Button(B, text='Quit', command=self.B.destroy).grid(row=3, column=0, sticky=W, pady=4)

        self.B.mainloop()

        print self.person.__dict__

    def key_pressed(self, event):
        self.person.set_attributes('STR', self.S1.get())

def main():
    w = Window()

if __name__ == '__main__': main() 
```

这种组织的好处可能不会立即显现出来，但是一旦您拥有大量回调方法并跟踪大量小部件，它就会变得非常有用。

作为对您的评论的回应，您可以在 for 循环中创建对象`Entry`和`Label`对象，每个对象都在自己的行中。然后，该`key_pressed`方法可以从传递给它的对象中学习字段和输入文本`event`，如下所示（尝试一下）：

```
class Window(object):
    def __init__(self):
        self.person = Character()

        self.B = Tk()

        self.fields = ["STR", "DEX", "CON", "INT", "WIS", "CHA"]

        self.inputs = {}
        for i, f in enumerate(self.fields):
            self.inputs[f] = Entry(B, width = 3)
            self.inputs[f].grid(row=i, column=1)
            self.inputs[f].bind("<KeyRelease>", self.key_pressed)
            attrInput(f + ":", i, 0)

        self.button = Button(B, text='Quit', command=self.B.destroy).grid(row=7, column=0, sticky=W, pady=4)

        self.B.mainloop()

        print self.person.__dict__

    def key_pressed(self, event):
        field = self.fields[int(event.widget.grid_info()["row"])]
        self.person.set_attributes(field, event.widget.get()) 
```

# c# - WPF 窗口关闭后不释放内存

> ID：14411154
> 
> 赞同：9
> 
> 时间：2013-01-19T04:39:36.760
> 
> 标签：c#, wpf, memory, window

我创建了一个测试代码：

```
private void Application_Startup_1(object sender, StartupEventArgs e)
{
    ShutdownMode = System.Windows.ShutdownMode.OnExplicitShutdown;
    MainWindow window = new MainWindow();
    window.Show();
    window.Close();
    window = null;
    GC.Collect();
} 
```

MainWindow 是 Visual Studio 自动创建的窗口，我没有添加任何代码。在“MainWindow window = new MainWindow();”这行之前，应用程序占用了4M内存。打开窗口，变成了13M。**即使我们关闭窗口并调用 GC.Collect() 它也不会改变**

这些额外的内存有什么用，我们如何释放它们？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2020-08-30T12:22:11.360

您的测试代码有缺陷，请参阅[此处](https://stackoverflow.com/questions/63586833/window-object-not-released-after-being-closed-even-after-gc-collect-and-waitfor)了解我对几乎相同场景的评论。

你的有点简单，但同样的评论适用：

*   设置一个变量 null 并调用 GC.Collect 是不够的。允许 JIT 优化您对`window = null;`away 的赋值，因为它可以清楚地看到之后不再使用该变量。此外，堆栈帧的 GC 报告并不准确（相对于您的源），堆栈上可能存在隐藏副本。将测试代码移动到您从中返回的单独方法中，以确保堆栈上没有对 MainWindow 的引用。（在修复下一点后技术上没有必要，但我提到它是为了完整性，以便人们在编写 GC 测试时理解这一点。）
*   您没有给多线程 WPF 渲染引擎清理、关闭和强制 GC 的时间，不足以与渲染引擎同步以清理其资源

此外，您的`GC.Collect`调用不足以使用终结器收集对象，您需要

```
GC.Collect(); // find finalizable objects
GC.WaitForPendingFinalizers(); // wait until finalizers executed
GC.Collect(); // collect finalized objects 
```

有关更完整的示例，请参阅链接的帖子，修复后我无法重现任何泄漏的窗口实例。

> 这些额外的内存有什么用，我们如何释放它们？

除了测试代码中的缺陷外，通过查看内存消耗，您可能会看到错误的东西。不要只看内存，使用可以检查活动对象的调试器工具。.NET 运行时将预期更多的分配并且不会立即将内存归还给操作系统，这不是泄漏，如果运行时不使用它，操作系统完全能够分页出未使用的内存。仅当您重复该操作时泄漏*持续增长*时才会出现泄漏。

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2015-06-09T18:18:49.823

根据[https://stackoverflow.com/a/4800489/1711103](https://stackoverflow.com/a/4800489/1711103)上的答案，您可能需要显式设置 Window 的 parent 属性。例如，在您的构造函数中，您可以调用：

```
this.Parent = this; 
```

* * *

## 回答 #3

> 赞同：-3
> 
> 时间：2013-01-19T05:05:03.870

.NET 垃圾收集器自动负责删除不再引用的对象。看看这个 [MSDN](http://social.msdn.microsoft.com/Forums/en/wpf/thread/63642cf4-7861-405f-8437-353c3832cffa)

# kendo-ui - 剑道手机查看参数

> ID：14411155
> 
> 赞同：1
> 
> 时间：2013-01-19T04:39:40.420
> 
> 标签：kendo-ui

我有一个基本的剑道视图，我想知道是否有一种方法可以访问 view.params 而不使用 data-show 或 data-init 来运行 js 或者如果我确实在 data-show 上使用当前 functon 调用我怎么能动态填充我的 EDIT 按钮的数据元素？

```
<!-- eventDetail view -------------------------------------------------------------------------------------------------->
<div data-role="view" id="view-eventDetail" data-show="getEventDetailData" data-title="eventDetail">
    <header data-role="header">
        <div data-role="navbar">
            <span data-role="view-title"></span>
            <a data-align="left" data-role="button" class="nav-button" href="#view-myEvents">Back</a>
            <a data-align="right" data-role="button" class="nav-button" data-click="showEventUpdate" data-event_id="view.params.event_id" data-user_id="view.params.user_id">Edit</a>
        </div>
    </header>

    <div id="eventDetail"></div>
</div> 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-02-16T18:06:55.233

到目前为止我发现的最好的方法（在视图中访问视图参数）是使用 Kendo ViewModel 方法 - MVVM - 和模板 - 从查询字符串中拉入 view.params 点击：

```
 <a data-role="button" href="#view-Home?userID=2&userType=1&trainerID=2"> 
```

然后通过视图的 data-show 或 data-init 方法调用脚本并绑定 viewModel：

```
<!-- =========================================================================================== Home page -->
    <div data-role="view" id="view-Home" data-title="Home" data-show="checkAuth" data-model="home_viewModel" >

        <div id="homeWrapper">

            <div id="myTrainerInfo" data-template="myTrainerIcon-template" data-bind="source: user_info" ></div>

    </div>

    <!-- ========================================================================================= Home script -->
    <script>

            //init the viewmodel            
            var home_viewModel = kendo.observable({
                user_info: []

            });

        function checkAuth(e) {
            var userID = e.view.params.userID;
            var userType = e.view.params.userType;
            var trainerID = e.view.params.trainerID;

            var userData = {userID:userID,userType:userType,trainerID:trainerID};

            //set the viewmodel data
            home_viewModel.set("user_info", userData);

        }           

    </script> 
```

然后可以通过 ${var_name} 或 HTML data-bind="value: var_name" 访问变量：

```
 <!-- ============================================================================== myTrainerIcon template -->
    <script id="myTrainerIcon-template" type="text/x-kendo-template">

        <div id="myTrainerIcon" class="homePageIcons">
            <a data-role="button" href="\\#view-trainerDetail?user_id=${userID}&amp;trainer_id=${trainerID}">
                <img src = "styles/icons/myTrainerICON.png" alt="myTrainer" />
            </a>
            <div class = "icon-text" >myTrainer</div>
        </div>
<div>TrainerID: <input name="edit_id" id="edit_id" data-min="true" class="k-input" data-bind="value:     trainerID" type="text" /></div>
    </script> 
```

我确信有一种不同的方法可以做到这一点，但到目前为止我自己还没有发现任何东西..

# ios - 禁止链接器警告：“来自 Y 的类别中的元方法 X 覆盖来自 Z 中的类的方法”

> ID：14411161
> 
> 赞同：7
> 
> 时间：2013-01-19T04:40:07.133
> 
> 标签：ios, objective-c, linker, objective-c-category

我故意使用一个类别来覆盖我知道已经在主类上实现的方法。我知道这通常是设计薄弱的标志——请不要讲课——但在这种情况下我不能干净地继承子类。我知道[调酒](https://github.com/rentzsch/jrswizzle)也可能是一种选择。

但是现在，我怎样才能抑制这个警告呢？llvm 抛出一个编译器警告，我可以禁用 ( `diagnostic ignored "-Wobjc-protocol-method-implementation"`)。但随后链接器也会抱怨。

[这提出了一个类似的问题，但正在寻找一个不同的答案。](https://stackoverflow.com/questions/11681485/suppress-warning-meta-method-xx-in-category-from-xx-conflicts-with-same-method)我怎样才能告诉链接器不要抱怨？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-06-19T00:34:52.627

不幸的是，没有好的答案。

唯一基于链接器的解决方案是`-Wl,-w`在链接时通过；也就是说，告诉 Clang 将`-w`选项传递给链接器。这将禁止*所有*链接器警告，可能包括您仍希望看到的警告。

更高级别的解决方法是将链接器的输出通过`grep -v`. 该解决方案的细节往往在很大程度上取决于您的外壳和构建系统。

# php - 如何通过更改php中的url来检查页面跳过

> ID：14411167
> 
> 赞同：-1
> 
> 时间：2013-01-19T04:41:56.360
> 
> 标签：php, javascript, ajax

我正在创建一个在线测验系统。假设 question1 的 url 是 /Q/Q1.php ，而 question2 的 url 是 /Q/Q2.php 。我不希望用户在不解决问题 1 的情况下直接跳到 Q2.php 页。我该如何实现呢？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-19T04:49:52.573

您需要存储会话中已回答的问题。这样，您可以检查每个请求的会话，看看他们是否被允许回答这个问题。

```
session_start(); // always start the session with each request

if (/* question was answered correctly */) {
    $_SESSION['questions'][] = $question_number;
} else {
    /* question was not answered correctly take action here */
}

// To check if they may proceed to the next question

if (in_array($question_number - 1, $_SESSION['questions'])) {
    /* Show the next question */
} else {
    echo "You didn't answer the last question yet!";
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-19T05:08:31.333

您可以按以下方式进行

**Q1.php**

```
<html>
<p>What is stack overflow</p>
<form method="post" action="Q2.php">
<input type="radio" name="answer1" value="Website">Website<br>
<input type="radio" name="answer1" value="Software">Software<br>
<input type="submit" value="submit" name="Q1"> 
</form>
</html> 
```

**Q2.php**

```
<?php
if($_POST['answer1']==null)
{
    header('Location:Q1.php');
}
else
{
    ?>
    <p>This is question 2</p>
<form method="post" action="Q3.php">
<input type="radio" name="answer2" checked value="Website">Website<br>
<input type="radio" name="answer2" value="Sotware">Software<br>
<input type="submit" value="submit" name="Q1"> 
</form>
<?php
}

?> 
```

希望能帮助到你。

# java - 如何停止使用扫描仪从标准输入读取多行？

> ID：14411173
> 
> 赞同：8
> 
> 时间：2013-01-19T04:42:59.343
> 
> 标签：java, stdin, java.util.scanner

我正在处理一个 JAVA 作业，应该处理多行输入。指令读取“输入是从标准输入读取的”。

示例输入示例如下：

```
one 1
two 2
three 3 
```

我不明白上面的示例输入“从标准输入读取”是什么意思。

这是我编写的一个测试程序，可以消除我的困惑：

```
import java.io.*;
import java.util.Scanner;

class Test
{
public static void main(String[] args)
{   
    Scanner stdin = new Scanner(System.in);
    while(stdin.hasNextLine())
    {
        String line = stdin.nextLine();
        String[] tokens = line.split(" ");
        System.out.println(Integer.parseInt(tokens[1]));
    }
} 
```

当我在控制台中运行这个程序时，它会等待我的输入，每次我输入一行时，它都会像我期望的那样回显它。所以我想也许上面的示例输入可以通过以这种方式输入 3 行中的每一行来实现。但是，似乎没有办法结束这个过程。输入3行后，如何终止输入？我尝试只按两次 enter，但这似乎读作仅包含换行符的行，这会导致错误，因为该行不符合预期的 2 令牌格式。

控制台交互如下所示：

```
javac Test.java
java Test
one 1
1
two 2
2
three 3
3

Exception in thread "main" java.lang.ArrayIndexOutOfBoundsException: 1
    at Test.main(Test.java:13) 
```

我将不胜感激任何帮助指出我的理解差距。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-19T05:30:21.407

## 您可以尝试要求空输入

```
import java.util.Scanner;

public class Test
{
    public static void main(String[] args)
    {   
        String line;
        Scanner stdin = new Scanner(System.in);
        while(stdin.hasNextLine() && !( line = stdin.nextLine() ).equals( "" ))
        {
            String[] tokens = line.split(" ");
            System.out.println(Integer.parseInt(tokens[1]));
        }
        stdin.close();
    }
} 
```

*   您的代码几乎完成了。您所要做的就是退出 while 循环。在这个代码示例中，我向它添加了一个条件，首先将读取的输入值设置为 line，然后检查返回的 String 是否为空；如果是这样，while 循环的第二个条件返回 false 并让它停止。
*   只有当您没有输入至少两个由空格分隔的值时，才会出现数组索引越界异常。如果您不尝试通过静态索引获取第二个值 >token[1]<，则可以避免此错误。
*   当您使用阅读器时，请记住在使用后关闭它们。
*   最后但同样重要的是 - 您是否尝试过常用的 Ctrl+C 热键来终止控制台中的进程？

祝你好运！

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2015-06-30T22:13:18.590

您还可以将您的值放在一个文件中，例如 input.txt 并执行以下操作：

```
java Test < input.txt 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-19T04:45:39.743

在 shell 中，[按 Ctrl-D](https://superuser.com/a/140198/182331)它将关闭标准输入。或者，管道输入

```
cat your-input-file | java Test 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-19T04:45:53.700

要停止输入，您可以提示用户输入 quit 退出，然后测试输入中是否存在该字符串，找到时退出循环，或者您可以在循环中使用计数器，当已达到最大迭代次数。该`break`声明将使您脱离循环。

# c++ - MySQL Connect/C++ 64 位构建错误

> ID：14411174
> 
> 赞同：0
> 
> 时间：2013-01-19T04:44:19.770
> 
> 标签：c++, mysql, netbeans, mysql-connector

我正在使用 Netbeans 和 MacoSX 并安装了 64 位连接器。在构建时，我收到以下错误：

```
/usr/bin/make -f nbproject/Makefile-Debug.mk SUBPROJECTS= .build-conf
/usr/bin/make  -f nbproject/Makefile-Debug.mk dist/Debug/GNU-MacOSX/inventory
mkdir -p build/Debug/GNU-MacOSX
rm -f build/Debug/GNU-MacOSX/addproduct.o.d
g++    -c -g -Iinclude -Iinclude -MMD -MP -MF build/Debug/GNU-MacOSX/addproduct.o.d -o build/Debug/GNU-MacOSX/addproduct.o addproduct.cpp
                 from addproduct.cpp:10:
In file included from include/mysql_connection.h:30,
include/cppconn/connection.h:31:29: warning: boost/variant.hpp: No such file or directory
In file included from addproduct.cpp:10:
include/mysql_connection.h:31:32: warning: boost/shared_ptr.hpp: No such file or directory
                 from addproduct.cpp:10:
In file included from include/mysql_connection.h:30,
include/cppconn/connection.h:41: error: 'boost' has not been declared
include/cppconn/connection.h:41: error: expected initializer before '<' token
include/cppconn/connection.h:43: error: 'ConnectPropertyVal' was not declared in this scope
include/cppconn/connection.h:43: error: template argument 2 is invalid
include/cppconn/connection.h:43: error: template argument 4 is invalid
include/cppconn/connection.h:43: error: invalid type in declaration before ';' token
In file included from addproduct.cpp:10:
include/mysql_connection.h:75: error: 'ConnectPropertyVal' is not a member of 'sql'
include/mysql_connection.h:75: error: 'ConnectPropertyVal' is not a member of 'sql'
include/mysql_connection.h:75: error: template argument 2 is invalid
include/mysql_connection.h:75: error: template argument 4 is invalid
include/mysql_connection.h:157: error: 'ConnectPropertyVal' is not a member of 'sql'
include/mysql_connection.h:157: error: 'ConnectPropertyVal' is not a member of 'sql'
include/mysql_connection.h:157: error: template argument 2 is invalid
include/mysql_connection.h:157: error: template argument 4 is invalid
include/mysql_connection.h:160: error: 'boost' has not been declared
include/mysql_connection.h:160: error: ISO C++ forbids declaration of 'shared_ptr' with no type
include/mysql_connection.h:160: error: expected ';' before '<' token
make[2]: *** [build/Debug/GNU-MacOSX/addproduct.o] Error 1
make[1]: *** [.build-conf] Error 2
make: *** [.build-impl] Error 2
BUILD FAILED (exit value 2, total time: 538ms) 
```

在 Netbeans 中，我只链接**libmysqlcppconn.dylib**。

我缺少什么文件？为什么要求 BOOST？我需要安装哪些 Boost Lib？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-19T04:54:30.403

mysql_connection.h 包括`#include <boost/shared_ptr.hpp>`，您可以使用最新版本的 boost 或修改以下行`mysql_connection.h`以使用 std::shared_ptr ：

更新

```
#include <boost/shared_ptr.hpp>
boost::shared_ptr< NativeAPI::NativeConnectionWrapper > proxy; 
```

到

```
#include <memory>
std::shared_ptr< NativeAPI::NativeConnectionWrapper > proxy; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-19T04:50:58.557

您是否阅读了标题为“ [21.4.2\. 从源代码安装 MySQL Connector/C++](http://dev.mysql.com/doc/refman/5.1/en/connector-cpp-installation-source.html) ”的文档？仔细阅读整个页面，然后寻找特定于 MacOSX 的链接......

# javascript - 具有相同页面的窗口位置（div id）

> ID：14411176
> 
> 赞同：0
> 
> 时间：2013-01-19T04:45:06.110
> 
> 标签：javascript, html, jquery-mobile

如何使 window.location 转到同一页面但使用另一个不同的 div 标签（或通过 div id 像这样：href="#id"）。

```
 if((mins == 0) && (secs == 0)) {
        window.alert("Time is up.Your score is "+score); // change timeout message as required
        window.location = "index.html" // redirects to specified page once timer ends and ok button is pressed
    } else {
        cd = setTimeout("redo()",1000);
    } 
```

任何帮助，将不胜感激。提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-19T04:58:10.267

您可以`.scrollIntoView()`在目标元素上使用。

```
document.getElementById("the_div_id").scrollIntoView(true); 
```

*   [MDN`scrollIntoView()`](https://developer.mozilla.org/en-US/docs/DOM/element.scrollIntoView)

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-01-19T04:49:17.223

只需将哈希添加为字符串：

```
window.location + '#id'; 
```

# iphone - 如何使用 UIActivityViewController 共享位置？

> ID：14411177
> 
> 赞同：6
> 
> 时间：2013-01-19T04:45:11.773
> 
> 标签：iphone

`UIActivityViewController`是共享图像和文本的好方法。我如何也可以共享位置？为了共享图像和文本，我将相应的对象添加到 中`NSArray`，然后将其作为`UIActivities`. 我只想添加`CLLocationCoordinate2D`，但那是一个结构，而不是一个对象。

**有任何想法吗？**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2015-03-02T20:48:51.653

我遇到了同样的问题，但找不到让坐标通过 UIActivityViewController 工作的答案。

作为一种解决方法，我使用了与我在 WhatsApp 中看到的类似的方法，您可以在其中获得包含不同地图提供者的操作表。以下代码将显示警报，让您选择通过 Waze/Google Maps/Apple Maps 打开特定位置 - 只有已安装的应用程序才会显示。只需用您的 CLLocationCoordinate2D 纬度/经度属性替换“经度”和“纬度”值。

```
UIAlertController* alert = [UIAlertController alertControllerWithTitle:nil message:nil preferredStyle:UIAlertControllerStyleActionSheet];

 UIAlertAction* appleMaps = [UIAlertAction actionWithTitle:@"Open in Maps" style:UIAlertActionStyleDefault handler:^(UIAlertAction *action) {
            [[UIApplication sharedApplication] openURL:[NSURL URLWithString:[NSString stringWithFormat:@"http://maps.apple.com/?q=%@,%@", latitude, longitude]]];
        }];
 UIAlertAction* googleMaps = [UIAlertAction actionWithTitle:@"Open in Google Maps" style:UIAlertActionStyleDefault handler:^(UIAlertAction *action) {
            [[UIApplication sharedApplication] openURL:[NSURL URLWithString:[NSString stringWithFormat:@"comgooglemaps://?q=%@,%@", latitude, longitude]]];
        }];
 UIAlertAction* waze = [UIAlertAction actionWithTitle:@"Open in Waze" style:UIAlertActionStyleDefault handler:^(UIAlertAction *action) {
            [[UIApplication sharedApplication] openURL:[NSURL URLWithString:[NSString stringWithFormat:@"waze://?ll=%@,%@", latitude, longitude]]];
        }];

[alert addAction:appleMaps];
 if ([[UIApplication sharedApplication] canOpenURL:[NSURL URLWithString:@"comgooglemaps://"]])
            [alert addAction:googleMaps];
 if ([[UIApplication sharedApplication] canOpenURL:[NSURL URLWithString:@"waze://"]])
            [alert addAction:waze];

UIAlertAction* cancel = [UIAlertAction actionWithTitle:@"cancel" style:UIAlertActionStyleCancel handler:nil];

[alert addAction:cancel];

[self presentViewController:alert animated:YES completion:nil]; 
```

# java - createStatement 上的 Java NullPointerException

> ID：14411183
> 
> 赞同：-1
> 
> 时间：2013-01-19T04:46:17.553
> 
> 标签：java, nullpointerexception

> **可能重复：**
> [我能做些什么来避免 NullPointerException？](https://stackoverflow.com/questions/7132614/what-can-i-do-to-avoid-a-nullpointerexception)

我正在为一家餐馆开发一个应用程序。当我尝试初始化某个类时会发生错误。这是代码。

```
public class DbItem {

private static Connection conn = null;

static {
    conn = DBConnection.connect();
}
public static ArrayList<Item> fetchAll() {
    ArrayList<Item> items = new ArrayList<>();
    String sql = "select * from itens";
    try {
        Statement st = conn.createStatement();
        ResultSet rs = st.executeQuery(sql);
        while(rs.next()) {
            items.add(new Item(rs.getString("nome"), rs.getString("descricao"), rs.getFloat("preco")));
        }
        return items;
    } catch (SQLException ex) {
        Logger.getLogger(DbItem.class.getName()).log(Level.SEVERE, null, ex);
    }
    return null;
}
} 
```

连接取自此类

```
public class DBConnection {

private static Connection conn;

public static Connection connect() {
    if(conn == null) {
        String url = "jdbc:mysql://localhost:3306/";
        String dbName = "restaurante_comandas_jonnathan";
        String driver = "com.mysql.jdbc.Driver";
        String userName = "root";
        String password = "root";
        try {
            Class.forName(driver).newInstance();
            conn = DriverManager.getConnection(url + dbName, userName, password);
            System.out.println("Connected to " + dbName + " with " + userName);
            JOptionPane.showMessageDialog(null, conn == null);
            return conn;
        } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | SQLException e) {
            e.printStackTrace();
        }
    }
    return null;
}

} 
```

我尝试使用弹出框进行调试。我在返回命令之前检查了连接是否为空，发现不是。然后，我在调用第一个脚本后检查，发现它确实为空。现在，如果一个对象不是在返回之前，它怎么能在检索之后为空呢？

编辑：

这里是。堆栈跟踪

```
Exception in thread "AWT-EventQueue-0" java.lang.NullPointerException
at model.data.DbItem.fetchAll(DbItem.java:48)
at model.Item.getAll(Item.java:76)
at view.PedidoForm.<init>(PedidoForm.java:22)
at view.Login$2.run(Login.java:99)
at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:251)
at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:721)
at java.awt.EventQueue.access$200(EventQueue.java:103)
at java.awt.EventQueue$3.run(EventQueue.java:682)
at java.awt.EventQueue$3.run(EventQueue.java:680)
at java.security.AccessController.doPrivileged(Native Method)
at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)
at java.awt.EventQueue.dispatchEvent(EventQueue.java:691)
at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:242)
at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:161)
at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:150)
at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:146)
at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:138)
at java.awt.EventDispatchThread.run(EventDispatchThread.java:91) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-19T07:27:38.560

我已经修改了您的代码并进行了一些更改。请试试这个

```
public class DBConnection {

private static Connection conn;

public static Connection connect() {
    if(conn == null) {
    String url = "jdbc:mysql://localhost:3306/";
    String dbName = "restaurante_comandas_jonnathan";
    String driver = "com.mysql.jdbc.Driver";
    String userName = "root";
    String password = "root";
    try {
        Class.forName(driver).newInstance();
        conn = DriverManager.getConnection(url + dbName, userName, password);
        System.out.println("Connected to " + dbName + " with " + userName);
        JOptionPane.showMessageDialog(null, conn == null);            
    } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | SQLException e) {
        e.printStackTrace();
    }
}
return conn;
} 
```

}

# android - 无法在 Eclipse 上创建新的 android 应用程序

> ID：14411189
> 
> 赞同：4
> 
> 时间：2013-01-19T04:47:53.627
> 
> 标签：android, eclipse, adt

我是android开发的初学者，我已经下载了带有android 4.2的adt-bundle-windows-x86_64并启动了它提供的eclipse版本（Android开发者工具）。

但是当我在新的android应用程序对话框中填写所有详细信息后单击完成时，完成按钮似乎根本没有响应。

在第一次单击完成按钮时，创建了一个应用程序，但其中没有 java 文件，对话框保持静止。至少 android 4.2 库不在其中`application.src`也是空的。

我正在使用 Windows 7 64 位和 JDK 1.6 64 位。关于解决这个问题的任何想法？

![在此处输入图像描述](../Images/19e7721597432ec793c456dd35d3d979.png)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-19T05:08:27.213

[http://developer.android.com/training/basics/firstapp/creating-project.html](http://developer.android.com/training/basics/firstapp/creating-project.html)

[http://developer.android.com/tools/help/adt.html](http://developer.android.com/tools/help/adt.html)

[http://www.chhitizbuchasia.com/articles/chhitiz/2011/02/Setup%20Android%20SDK%20With%20Eclipse.html](http://www.chhitizbuchasia.com/articles/chhitiz/2011/02/Setup%20Android%20SDK%20With%20Eclipse.html)

[http://developer.android.com/sdk/installing/installing-adt.html](http://developer.android.com/sdk/installing/installing-adt.html)

[无法使用 Eclipse 创建新的 Android 项目](https://stackoverflow.com/questions/11492585/cannot-create-a-new-android-project-using-eclipse)

安装 android sdk 管理器

![在此处输入图像描述](../Images/5d6ca25aa4be06a7864c03aef793ead7.png)

![在此处输入图像描述](../Images/6348418afd0db6864d97788752531d81.png)

第1步

![在此处输入图像描述](../Images/6670c34b0b455241205e6dc77d0267e1.png)

第2步 ![在此处输入图像描述](../Images/14508bbabf82739c94b19c935902e55c.png)

第三步

![在此处输入图像描述](../Images/a686530bbef4c637fd511a2196f84dfa.png)

安装以下 sdk 以执行应用程序

下载 ADT 插件

[http://developer.android.com/sdk/installing/installing-adt.html#Download](http://developer.android.com/sdk/installing/installing-adt.html#Download)

![在此处输入图像描述](../Images/21c3aeeed9d4a94a37461028c4a266ff.png)

基本步骤

[http://blog.teamtreehouse.com/the-one-stop-android-sdk-installer-you-always-wanted](http://blog.teamtreehouse.com/the-one-stop-android-sdk-installer-you-always-wanted)

最佳[Jvm 设置](https://stackoverflow.com/questions/142357/what-are-the-best-jvm-settings-for-eclipse/1409590#1409590)

![在此处输入图像描述](../Images/e06d7022c32ed0946fec80a84d3dcfc0.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-19T06:00:31.327

Eclipse 不是那么强大的 IDE。如果没有什么可以解决您的问题。请尝试重新启动 Eclipse 和您的计算机。

是的，在重新启动之前只需更新软件包。

转到 SDK 管理器，并为以下软件包安装可用更新。

Android SDK 工具

Android SDK 平台工具

更新后是这个样子

![在此处输入图像描述](../Images/7549b9e80a6689f4803928ad1f9af475.png)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-13T06:35:40.903

我刚刚克服了这个错误；希望你的也能修好？

在带有可供选择的菜单的屏幕上，其中一项默认为灰色（选择？）：故意单击该项目，以实际选择它（它变成深蓝色或其他东西）。

我的显然陷入了“制作活动”（或其他）页面，直到我返回并假设默认设置未能选择它，我无法选择完成（即使它点击了，看起来好像它是要做某事，然后没有去）。

# jquery - 使用 jQuery 在嵌套表中定位 TH

> ID：14411190
> 
> 赞同：0
> 
> 时间：2013-01-19T04:47:54.867
> 
> 标签：jquery, html

当单击外部表中的任何标签时，我正在尝试获取`<th>`嵌套表中标签中的文本。`<tr>`在底部的 jsfiddle 示例中，您将看到外表处于悬停状态。我有一些工作的脚本，但警报会触发两次。它确实显示了正确的文本，但我的目标可能是错误的，因为警报会触发两次。

html:

```
<table id="device-table"  width="400" border="0" cellpadding="5" class="table table-hover">
  <tr><!-- if I click anywhere in this row -->
    <td><table width="400" border="0" cellpadding="5">
      <tr>
        <th colspan="4" scope="col">2048 x 1536</th> <!-- I want to grab this text -->
      </tr>
      <tr>
        <td>Apple</td>
        <td>iPad 3</td>
        <td>9.7"</td>
        <td>Tablet</td>
      </tr>
    </table></td>
  </tr>
  <tr><!-- if I click anywhere in this row -->
    <td><table width="400" border="0" cellpadding="5">
      <tr>
        <th colspan="4" scope="col">320 x 240</th> <!-- I want to grab this text -->
      </tr>
      <tr>
        <td>Samsung</td>
        <td>Brightside</td>
        <td>3.1"</td>
        <td>Smartphone</td>
      </tr>
    </table></td>
  </tr>
</table> 
```

脚本：

```
$('#device-table').find('tr').click( function(){
  var row = $(this).find('th:first').text();
  alert('You clicked ' + row);
 }); 
```

这是一个jsfiddle：http: [//jsfiddle.net/9ZRpt/](http://jsfiddle.net/9ZRpt/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-19T05:16:12.160

确保您只选择第一个表上的行，而不是嵌套表。

```
$('#device-table>tbody>tr').on("click", function(){
  var row = $(this).find('th:first').text();
  alert('You clicked ' + row);
 }); 
```

# c++ - 为数组的指针赋值

> ID：14411191
> 
> 赞同：-2
> 
> 时间：2013-01-19T04:48:16.157
> 
> 标签：c++, arrays, pointers

我在引用主函数中的数组的函数中使用指向数组的指针。我完全忘记了指针。我正在努力：

```
 int main(void){
   int length;
   char punct;
   string password;

   cout << "Enter length of passwords: " << endl;
   cin >> length;
   char array[length];

   //run random password generator here                                          

    password = generator(*array);

    cout << "Here is your password: " << endl;
    return 0;
    }

    char* generator(char* array){
    int counter = 0;
    int random;
   while(counter <= 8){
    random = rand() % 200 + 32;
     if(random >= 32 && random != 95 && random != 127)
     char
   }
   return result;
   } 
```

我遇到了错误，但不能完全说明我在这里搞砸了什么。

```
 He are the errors (sorry for not including them in the initial post):
  password.cpp:7:14: error: two or more data types in declaration of ‘main’
  password.cpp: In function ‘char* generator(char*)’:
  password.cpp:31:3: error: expected unqualified-id before ‘}’ token
  password.cpp:32:10: error: ‘result’ was not declared in this scope 
```

谢谢你的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-19T04:51:11.053

首先，我可以告诉你很多错误的原因如果你使用确切的程序来编译，

1.  `length`没有初始化

2.  `signature`函数在`otherFunction`调用位置和定义之间有所不同

3.  `*array[i]`在定义中没有任何意义，`otherFunction`因为`array[i]`它本身就是一个解引用操作

我认为这是你所期待的

```
 char* otherFunction(char[] array)
    {
        array[0] = 'x';
        array[1] = 'y';
        return array;
    }
    int main()
    {
       int length =5;
       char array[length] = "array";
       printf("%s Before otherFunction",array);
       char* newArray = otherFunction(array);
       printf("%s After otherFunction",array);
    } 
```

输出/输出：

```
array Before otherFunction
xyray After otherFunction 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-19T05:07:31.183

您似乎对指针基础知识感到困惑。你的八行代码中有六行错误。你在看哪本书？

# php - 如何在codeigniter中将两个结果传递给相同的视图

> ID：14411193
> 
> 赞同：-1
> 
> 时间：2013-01-19T04:48:43.373
> 
> 标签：php, codeigniter

我是codeigniter的新手。我写了控制器，model.view。

我想在模型中执行另一个查询，该查询在 where 条件下具有来自第一个模型查询的“ID”，并在同一视图中传递两个查询的单独结果。

我已经在模型和视图中解释了它。我该怎么做。需要一些语法我该怎么做。或者这是正确的方式还是做一些事情？

**控制器**

```
class demo extends CI_Controller
{
    function getRecords()
    {
        $offset = trim($this->input->get('off'));
        $this->load->model('demo_model');
        $data = $this->demo_model->get_messages($offset);
        $return = $this->load->view('demo_view',array('records'=>$data),true);
        die($return);
    }   
} 
```

**模型**

```
class demo_model extends CI_Model
{
    function get_messages($offset = 0)
    {
        $q = $this->db->query(" select Id,cloum2 from table");

        //  want to use ID from above query in to second query

        //  Like sql="select * from table where id='$id'" ; 

        //  and how i pass the separate result for both query inthe view

    return $q->result_array();
     }

} 
```

**查看**demo_view；

```
<?php foreach($records as $row) :?>
 <div> do something with $row </div>

 <div> //want use second query foreach here  </div>
<?php endforeach ;?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-19T05:05:26.563

这两个查询都将返回 PHP 数组，因此您可以执行类似的操作。

模型

```
function get_messages($offset = 0)
{
    $q = $this->db->query(" select Id,cloum2 from table");
   return $q->result_array();
 }

 function get_id($id){
    $q = $this->db->query("select * from table where id='$id'");
   return $q->result_array();
  } 
```

控制器

```
 class demo extends CI_Controller{
      function getRecords(){
            $offset = trim($this->input->get('off'));
           $this->load->model('demo_model');
           $data = $this->demo_model->get_messages($offset);
           for($c=0;$c<count($data);$c++){
              $data[$c]['innerRow']=$this->demo_model->get_id($data[$c]['id']);
           }
           $return = $this->load->view('demo_view',array('records'=>$data),true);
           die($return);
     } 
```

看法

```
 <?php foreach($records as $row) :?>
          <div> do something with $row </div>
         <div>  
             <?php foreach($row['innerRow'] as $innerrow) :?>
              ......
             <?php endforeach ;?>
         </div>

     <?php endforeach ;?> 
```

（但这不是一个好主意，因为您将对模型运行一堆查询。最好考虑一个更好的查询）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-19T05:07:18.260

```
function getRecords()
    {
        $offset = trim($this->input->get('off'));
        $this->load->model('demo_model');
        $data = $this->demo_model->get_messages($offset);

        $secresult=array();
        foreach($data as $msg)
        {
          $res = $this->demo_model->get_result($msg['id']); // pass id to query 
          $secresult[]=$res;
        }

        $return = $this->load->view('demo_view',array('records'=>$data,     'theresult'=>$secresult),true);
        die($return);
    } 
```

在您的视图文件中，您可以使用`theresult`第二个循环。

# javascript - 更改时从 Javascript 数组中删除项目

> ID：14411197
> 
> 赞同：-1
> 
> 时间：2013-01-19T04:48:50.893
> 
> 标签：javascript

我有点情况。基本上我正在向 JavaScript 数组添加一个项目，我在选择框更改时填充该数组。但问题是当我输入 0 时，它应该从数组中删除。

这是代码

```
var addon = new Array();
function updateAddons(){
    addon.length=0;

    var plan = new Array;
    var planQty = new Array;

    plan.length=0;
    planQty.length=0;

    for(var j =0 ; j< 3; j++){
        $("select[name='addon_"+j+"[]'] option:selected").each(function(){
            var item = {
                product_name : $(this).attr('pn'),
                product_cost : $(this).attr('cost'),
                product_id : $(this).val()
            };
            if(item.product_id != 0){
                plan.push(item);
            }
        });
        $("input[name='addonQty_"+j+"[]'] ").each(function(){
            if($(this).val() != 0){
                planQty.push($(this).val());
            }
        });
    }

    for(var i =0; i < plan.length; i++){
        var item = {
            product:plan[i],
            product_qty:planQty[i]
        }
        if(item.product.product_id != 0){
            addon.push(item);
        }

    }

} 
```

我创建了一个 jsfiddle[点击这里](http://jsfiddle.net/hfu5S/)查看。（检查您的浏览器控制台以获取完整的对象。）

如果有人可以提供帮助。并请解释你的答案。

问候

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-19T05:15:30.603

我自己解决了。用一个数字代替 0，而不是添加到最终数组中。

谢谢

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-19T05:16:25.757

您的代码的主要问题是以下语句：

```
 if($(this).val() != 0) 
```

问题是如果输入为空，则值为`undefined`。在 javascript`undefined`中不等于`0`. 解决此问题的一种简单方法是同时测试未定义：

```
 if($(this).val() != 0 && $(this).val() != undefined) 
```

# c++ - 将 QStateMachine 用于文本冒险游戏的正确方法是什么？

> ID：14411203
> 
> 赞同：2
> 
> 时间：2013-01-19T04:50:09.553
> 
> 标签：c++, database, qt4

我已经看过几个关于这个的话题，但对我来说有点模糊，所以我决定做这个。我正在开发一个小冒险游戏，只是为了在 Qt 中获得乐趣，它基本上只是屏幕上的文本，玩家将命令输入到行编辑小部件中，然后我处理并执行相关的动作/事件。问题是，我对如何处理这个问题有点困惑。我不想通过手动编码每个房间的许多命令和事件来给自己挖一个洞，因为这似乎只是以后的痛苦。所以后来我考虑使用某种数据库来存储信息，但我应该使用哪一个？我希望从尝试过类似事情的人那里得到一些建议。

在这里，这些图片是我想要做的事情的粗略轮廓。

**状态流程图**

![状态流程图](../Images/9fa9df0b6c12f1a87b90eccb60bf8577.png)

**水平瓷砖**

![水平瓷砖](../Images/5e1d09c45edb7f2ac781dc1157fba506.png)

编辑：我应该补充一点，关卡的瓷砖基本上是这样工作的。浅灰色是玩家可以移动的方向，深灰色部分是墙壁，颜色是你可以做的各种不同的动作。

我并不特别关心代码，但我想就为此使用哪些工具以及如何正确设置它们提出建议。一定有人知道。

# code-signing - 代码签名证书过期问题

> ID：14411206
> 
> 赞同：1
> 
> 时间：2013-01-19T04:50:38.530
> 
> 标签：code-signing, winapi, authenticode, signtool

我的代码签名证书有效期为 2012 年 3 月 3 日至 2013 年 3 月 3 日（Comodo）

1.  更新它会给我一个新证书（.pfx 文件）吗？或者我可以在支付费用后在 2013 年 3 月 3 日之后使用当前证书（.pfx 文件）吗？

2.  如果我不使用新证书签署 exe 和设置，或者我不购买新证书，现有签名的应用程序会在 2013 年 3 月 3 日之后的安装/执行期间显示“未经验证的发布者”或任何其他错误。请注意，我签署了软件的所有 dll、exe 以及最终设置 exe

3.  我是否必须在续订时获取新的 .snk 文件，还是可以使用现有的 .snk 文件？

4.  我可以使用相同的 .snk 文件来签署不同的软件及其设置文件吗？和不同的exe，dll在同一个设置中？.snk 文件是否与一个 exe 相关联？还是可以在任何exe（.NET和VB6）上使用？

我有 Windows 8 Pro + Visual Studio 6 SP6 + Visual Studio 2012 Ultimate + Microsoft 8 SDK 独立安装

![在此处输入图像描述](../Images/47a68720bbdb633f56b86335fbccf591.png)

![在此处输入图像描述](../Images/c3189abc2d460cc5b31f7de1b84367eb.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-11T07:30:15.430

[可以在这里找到](http://blogs.msdn.com/b/ieinternals/archive/2011/03/22/authenticode-code-signing-for-developers-for-file-downloads-building-smartscreen-application-reputation.aspx)一篇非常有用的文章。

答案：

1.  到期日期是文件的一部分。所以你会得到一个新文件。

2.  不会。当您的文件被签名并**加盖时间戳**时，证书到期时签名不会过期（在链接文章中进行了解释）。

3.  .snk 文件用于强命名程序集。这些通常使用自签名证书进行签名，因为强命名并不意味着验证发布者的真实性。另请参阅[此答案](https://stackoverflow.com/questions/4469646/net-strong-naming-vs-authenticode)。

4.  通常，您将使用相同的 .snk 文件对所有程序集进行签名。但是，强命名仅存在于 .NET 世界中，不适用于任何其他二进制文件（如 VB 6）。

# freemarker - 使用 FTL 和 Servlet

> ID：14411209
> 
> 赞同：0
> 
> 时间：2013-01-19T04:51:08.510
> 
> 标签：freemarker

我可以使用请求使用 setAttribute/setParameter 等方法将 FTL 文件中的对象变量传递给 Servlet 吗？当我想从 FTL 向 servlet 发布请求时，没有关于如何将 FTL 与 Servlet 一起使用的明确文档。

我的 FTL 文件需要提交给我需要向其传递数据的 Servlet。

我正在从前一个 Servlet 将数据输入 FTL 文件，但我不知道如何将它发送到下一个 servlet。

这些 servlet 中的每一个都负责某些功能。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-19T09:18:26.787

模板仅用作 MVC 视图，因此理论上您不应该在其中做类似的事情。我的意思是直接操作特定于 Servlet 的东西，或者任何与演示无关的东西。如果您的架构需要以某种方式`<@include_page .../>`无法调用其他 servlet，请将其包装到自定义指令或自定义方法（`TemplateDirectoveModel`和`TemplateMethodModel`接口）中，从而在您查看模板时传达高级含义，并隐藏血腥的技术Java 实现中的详细信息，您可以在其中做任何您想做的事情，因为它是 Java。查看实现`include_page`可能是一个很好的起点。您可以将新指令或方法放入数据模型中，或放入`Configuration`共享变量中，或将其拉入`#import`-ed/`#include`-ed 通用模板与`<#assign myDirective = 'com.example.MyDirective'?new()>`.

# android - Google API 密钥不起作用

> ID：14411215
> 
> 赞同：2
> 
> 时间：2013-01-19T04:52:27.353
> 
> 标签：android, google-maps, api-key

我正在尝试编写一个包含谷歌地图的安卓应用程序。我确信我的代码是正确的，因为我已经检查了一百万次，甚至从其他人那里复制和粘贴了工作代码。当我启动应用程序时，我的应用程序只有一堆灰色方块。我已经尝试过 API 密钥和调试密钥。

这就是我从 cmd 检索 API 密钥的方式：

```
 Microsoft Windows [Version 6.1.7600]
Copyright (c) 2009 Microsoft Corporation.  All rights reserved.

C:\Users\Gateway Owner>cd C:/

C:\>cd Program Files\Java

C:\Program Files\Java>cd jdk1.7.0_02

C:\Program Files\Java\jdk1.7.0_02>cd bin

C:\Program Files\Java\jdk1.7.0_02\bin>keytool.exe -list -alias androiddebugkey -
keystore "C:\Users\Gateway Owner\.android\debug.keystore" -storepass android -ke
ypass android
androiddebugkey, Feb 10, 2012, PrivateKeyEntry,
Certificate fingerprint (SHA1): A5:18:02:AD:2E:C6:0E:02:C5:0A:F6:17:70:5E:31:1A:
AD:A8:81:FA

C:\Program Files\Java\jdk1.7.0_02\bin> 
```

我看过其他屏幕截图，并且我在括号中的（SHA1）其他人有MD5。另外我注意到命令提示符给了我一个 24 字符长的数字，其他人收到 16，而 code.google 只接受 16。我开始觉得好像我需要解密我的 MD5 密钥或其他东西......请帮助！？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-19T05:02:08.910

使用以下命令获取 md5，

```
C:\Program Files\Java\jdk1.7.0_02\bin>keytool -v -list -alias androiddebugkey -keystore "C:\Users\Gateway Owner\.android\debug.keystore" -storepass android -keypass android 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-19T05:01:12.680

每个项目都有单独的密钥库。首先为您的项目创建新的密钥库，使用该密钥库。再次创建 MD5，您将获得新密钥。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-19T05:09:22.053

尝试，

关注我的博客，它展示了如何在下面的链接中将谷歌地图集成到 android 中，

[http://blog.360i.in/2012/10/19/google-maps-integration-with-android-sdk-on-windows/](http://blog.360i.in/2012/10/19/google-maps-integration-with-android-sdk-on-windows/)

您可以在命令下方获取 md5 密钥，这对我来说非常有用

```
keytool -list -v -alias androiddebugkey –keystore C:\Users\<user>\.android\debug.keystore -storepass android -keypass android 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-19T06:21:53.373

阅读这个答案（一个有 23 个赞成票）：[如何从 debug.keystore 文件中获取 MD5？](https://stackoverflow.com/questions/5262695/how-to-get-md5-from-debug-keystore-file)

您将了解更多有关它的信息。希望能帮助到你

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-19T17:26:06.650

-v 为我提供了 MD5。比你们大家！

# vb.net - 如何在 Vb.net 应用程序中打开新的 Webbrowser 选项卡

> ID：14411224
> 
> 赞同：1
> 
> 时间：2013-01-19T04:53:46.150
> 
> 标签：vb.net, webbrowser-control, tabcontrol

我有一个`Form1`with`button1`和一个`webbrowser1`. 当我单击 时`button1`，我想以相同的形式打开一个新的 Web 浏览器选项卡，而不是在 Firefox、Internet Explorer 或 Chrome 中。

我尝试使用 TabControl，但不确定它是如何工作的，因为它不会调整大小并且有点烦人。我只想在表单中使用网络浏览器打开一个新选项卡。

```
Public Class Form1
  Private Sub Button1_Click(sender As Object, e As EventArgs) Handles Button1.Click
    Dim wb As New WebBrowser
    wb.Navigate("www.google.com")
    Dim tab As New TabPage("Title")
    tab.Controls.Add(wb)
    TabControl1.TabPages.Add(tab)
    TabControl1.SelectedTab = tab
    tab.Size = New System.Drawing.Size(280, 174)
  End Sub
End Class 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-19T05:34:51.403

要添加一个新的 Tabbed 浏览器，首先你需要在现有的**TabControl中添加一个新的****Tab**，一旦添加了新的**Tab**，然后你需要在创建的**Tab中添加一个新的浏览器控件**

 ******```
Private Sub btnAddTab_Click(sender As Object, e As EventArgs)
    Dim page As New TabPage(String.Format("Tab # {0}", tabControl1.TabPages.Count + 1))
    tabControl1.TabPages.Add(page)
    Dim browser As New WebBrowser()
    page.Controls.Add(browser)
    browser.Dock = DockStyle.Fill
    browser.Navigate(New Uri("http://www.google.co.in"))

End Sub 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-19T05:47:28.650

创建您自己的`TabPage`，以便您可以轻松处理事件和控件：

```
Public Class WBTab
    Inherits TabPage 'it actually is a tabpage
    Public WithEvents WB As New WebBrowser 'that has a single webbrowser in it
    Sub New(ByVal URL As String) 'when the page is created, show it and load the URL
        WB.Dock = DockStyle.Fill
        Me.Controls.Add(WB)
        WB.Navigate(URL)
    End Sub

    Private Sub WebBrowser1_DocumentCompleted(sender As System.Object, e As System.Windows.Forms.WebBrowserDocumentCompletedEventArgs) Handles WB.DocumentCompleted
        Me.Text = WB.DocumentTitle 'when the page is loaded you may now show its title in your tab.
    End Sub

    Private Sub WB_Navigating(sender As Object, e As System.Windows.Forms.WebBrowserNavigatingEventArgs) Handles WB.Navigating
        Me.Text = e.Url.ToString
    End Sub
End Class 
```

现在可以使用了：

```
Dim google As New WBTab("google.com") 'create a new tab with URL
TabControl1.TabPages.Add(google) 'show it 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-19T05:49:44.793

这应该有效：

```
 Private Sub Button1_Click(sender As System.Object, e As System.EventArgs) Handles Button1.Click
    Dim tabpage As New TabPage
    tabpage.Text = "New Tab"

    TabControl1.TabPages.Add(tabpage)

    Dim webBrowser As New WebBrowser
    TabControl1.SelectedTab = tabpage
    tabpage.Controls.Add(webBrowser)
    webBrowser.Dock = DockStyle.Fill
    webBrowser.Navigate("http://www.stackoverflow.com")
End Sub 
```******

# android - ViewPager with Fragment 具有不同的布局

> ID：14411226
> 
> 赞同：3
> 
> 时间：2013-01-19T04:54:50.723
> 
> 标签：android, android-fragments, android-viewpager

我不熟悉使用`ViewPagers`和`Fragments`在一起。我的应用程序`ListView`启动时会根据传递的 id 将用户带到详细信息视图。我遇到的问题是详细信息视图的布局与列表视图不同。`ViewPager`是在初始屏幕的布局上，所以在使用布局时`ViewPager`会保留初始布局，它基本上只是底部的一个状态栏，当用户在细节视图时应该会消失。

这是我到目前为止所拥有的：

**Main.xml**（启动时的初始布局，带有状态栏）

```
<?xml version="1.0" encoding="utf-8"?>

<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:orientation="vertical"
    android:layout_height="fill_parent"
    android:layout_width="fill_parent"
>
        <!-- Footer -->
        <TextView 
                android:id="@+id/status" 
                android:layout_width="match_parent" 
                android:layout_height="wrap_content" 
                android:layout_alignParentBottom="true"
        />
        <!-- Footer -->

    <android.support.v4.view.ViewPager
        android:id="@+id/viewpager"
        android:layout_height="match_parent"
        android:layout_width="match_parent"
        android:layout_above="@id/status
     />

 </RelativeLayout> 
```

**主类**

```
public class Main extends SherlockFragmentActivity
{
    private static int NUMBER_OF_PAGES;  
    private ViewPager mViewPager;  
    private MyFragmentPagerAdapter mMyFragmentPagerAdapter; 
    private static List<Fragment> fragments;

    @Override
    public void onCreate(final Bundle icicle)
    {    
        super.onCreate(icicle);

        setContentView(R.layout.main);

        mViewPager = (ViewPager)findViewById(R.id.viewpager);  
        mMyFragmentPagerAdapter = new MyFragmentPagerAdapter(getSupportFragmentManager());  
        mViewPager.setAdapter(mMyFragmentPagerAdapter);

        NUMBER_OF_PAGES = 5;

        fragments = new ArrayList<Fragment>();

        fragments.add(new ListingFragment()); //initial screen that just a ListView

        fragments.add(DetailsFragment.newInstance(1));
        fragments.add(DetailsFragment.newInstance(2));
        fragments.add(DetailsFragment.newInstance(3));
        fragments.add(DetailsFragment.newInstance(4));
    }

    private static class MyFragmentPagerAdapter extends FragmentStatePagerAdapter  {            

        public MyFragmentPagerAdapter(FragmentManager fm) {  
             super(fm);  
        }

        @Override  
        public Fragment getItem(int index) {

            return fragments.get(index);
        }

        @Override  
        public int getCount() {  

             return NUMBER_OF_PAGES;  
        }
   }
} 
```

**Details.xml**（没有状态栏的详细信息视图）

```
 <?xml version="1.0" encoding="utf-8"?>

    <RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
        xmlns:ads="http://schemas.android.com/apk/lib/com.google.ads" 
        android:orientation="vertical"
        android:layout_width="fill_parent"  
        android:layout_height="fill_parent" 
    >

        <ListView android:id="@android:id/list" 
            android:layout_width="wrap_content"  
            android:layout_height="fill_parent" 
        />

    </RelativeLayout> 
```

**DetailsFragment.class**

```
public class DetailsFragment extends SherlockFragmentActivity
{
    private int detailId;

    @Override
    public void onCreate(Bundle savedInstanceState)
    {
        super.onCreate(savedInstanceState);         
    }

    @Override
    public void onActivityCreated(final Bundle icicle)
    {    
        super.onActivityCreated(icicle);
    }

    public static DetailsFragment newInstance(int id) {

        DetailsFragment lf = new DetailsFragment();
        Bundle bundle = new Bundle();
        bundle.putInt("id", id);
        lf.setArguments(bundle);
        return lf;
    }

    @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {

        View view = inflater.inflate(R.layout.details, container, false);

        detailId = getArguments().getInt("id");

        return view;
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-19T08:41:49.833

> ViewPager 位于初始屏幕的布局上，因此在使用 ViewPager 时布局保留初始布局，基本上只是底部的状态栏，当用户在详细信息视图时应该会消失。

然后不要把它放在主布局文件中。如果状态与第一个片段相关联，则它属于其视图，特别是如果`DetailsFragment`不需要显示该状态`TextView`。

因此从*main.xml中删除**状态* 并将其添加到 .xml 中使用的布局文件中。如果extends则创建一个布局文件，其中包含id( ) + status并在.`TextView`*`ListingFragment``ListingFragment``ListFragment``ListView``android:id="@android:id/list"``TextView``onCreateView`*

# php - 选择一列 Doctrine DQL

> ID：14411229
> 
> 赞同：13
> 
> 时间：2013-01-19T04:55:18.037
> 
> 标签：php, doctrine, dql, doctrine-1.2

我需要一个简单的表格列。

例如，一个表“项目”，其中包含`id`和`name`列`year`。

如果我做：

```
$q = Doctrine_Query::create()
        ->select('a.pro_id')
        ->from('fndr_proyecto a')
        ->where('a.pro_id =?',1);
    $pro = $q->execute();
    json_encode($pro->toArray()); 
```

答案是所有列

```
{"id":1,"name":"Project name","year":2013} 
```

但我只需要一列。我预计：

```
{"id":1} 
```

它与 DQL 一起使用，因为使用本机 SQL 可以正常工作。

ORM 是使用 Visual Paradigm 自动构建的。

* * *

## 回答 #1

> 赞同：36
> 
> 时间：2013-01-19T09:56:57.117

这是因为 Doctrine 使用所有对象信息来水合响应，因此所有列。

您需要使用不同的补水方法，[有很多](https://www.doctrine-project.org/projects/doctrine1/en/latest/manual/data-hydrators.html)，但让我们关注其中的 5 个：

*   `HYDRATE_RECORD`, 默认一个
*   `HYDRATE_ARRAY`
*   `HYDRATE_NONE`
*   `HYDRATE_SCALAR`
*   `HYDRATE_ARRAY_SHALLOW`

你需要`HYDRATE_ARRAY_SHALLOW`补水的方法。这就是为什么。

1.  **水合记录**

    ```
    $q = Doctrine_Query::create()
        ->select('a.pro_id')
        ->from('fndr_proyecto a')
        ->where('a.pro_id = ?',1);
    $pro = $q->execute(array(), Doctrine_Core::HYDRATE_RECORD);
    var_dump(json_encode($pro->toArray())); 
    ```

    这将使用对象水合结果，并水合关系（如果您在查询中使用 leftJoin）。由于它返回对象，我们需要调用`toArray()`才能发送适当的 json：

    ```
    [{"id":1,"name":"Project name","year":2013}]" 
    ```

2.  **HYDRATE_ARRAY**

    ```
    $q = Doctrine_Query::create()
        ->select('a.pro_id')
        ->from('fndr_proyecto a')
        ->where('a.pro_id = ?',1);
    $pro = $q->execute(array(), Doctrine_Core::HYDRATE_ARRAY);
    var_dump(json_encode($pro)); 
    ```

    这会将结果水合为数组并自动添加主键：

    ```
    [{"id":"1","pro_id":"1"}]" 
    ```

3.  **水合_无**

    ```
    $q = Doctrine_Query::create()
        ->select('a.pro_id')
        ->from('fndr_proyecto a')
        ->where('a.pro_id = ?',1);
    $pro = $q->execute(array(), Doctrine_Core::HYDRATE_NONE);
    var_dump(json_encode($pro)); 
    ```

    这不会水合结果，只返回值：

    ```
    [["1"]]" 
    ```

4.  **HYDRATE_SCALAR**

    ```
    $q = Doctrine_Query::create()
        ->select('a.pro_id')
        ->from('fndr_proyecto a')
        ->where('a.pro_id = ?',1);
    $pro = $q->execute(array(), Doctrine_Core::HYDRATE_SCALAR);
    var_dump(json_encode($pro)); 
    ```

    这将水合选择的结果，但键索引作为具有表别名的列名：

    ```
    [{"a_pro_id":"1"}]" 
    ```

5.  **HYDRATE_ARRAY_SHALLOW**

    ```
    $q = Doctrine_Query::create()
        ->select('a.pro_id')
        ->from('fndr_proyecto a')
        ->where('a.pro_id = ?',1);
    $pro = $q->execute(array(), Doctrine_Core::HYDRATE_ARRAY_SHALLOW);
    var_dump(json_encode($pro)); 
    ```

    这将水合选择的结果，但键索引作为没有表别名的列名：

    ```
    "[{"pro_id":"1"}]" 
    ```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-03-10T21:10:37.473

我不确定 Doctrine j0k 使用的是什么版本。它提供了一些答案，但我确实很难找到 Doctrine_Query 和 Doctrine_Core 类。我正在使用 Doctrine 2.3.4。以下对我有用。

```
public static function getAllEventIDs($em) {
    return parent::getAllFromColumn('\path\to\Entity\entityName', 'id', $em);
}

public static function getAllFromColumn($tableName, $columnName, $em) {
    $q = $em->createQueryBuilder('t')
    ->select("t.$columnName")
    ->from($tableName, 't');

    $q = $q->getQuery();

    $result = $q->getResult(\Doctrine\ORM\Query::HYDRATE_SCALAR);

    return $result;
} 
```

然而，这确实返回了一个数组数组。即，第一个事件的 id 是

```
$result[0]['id']; 
```

# javascript - 在文本输入字段中键入时，打印在 div 中键入的内容

> ID：14411235
> 
> 赞同：18
> 
> 时间：2013-01-19T04:57:43.007
> 
> 标签：javascript, html, css, input

我有一个网站，其中有一个空框和一个输入文本框。我希望能够在该输入框中输入一些内容并将其打印在空框中。

## HTML

```
<div class='printchatbox'></div> 
```

这是空盒子和

```
<input type='text' name='fname' class='chatinput'> 
```

这是输入框。

## CSS

```
.printchatbox 
    {border-width:thick 10px;border-style: solid; 
    background-color:#fff;
    line-height: 2;color:#6E6A6B;font-size: 14pt;text-align:left;float: middle;
    border: 3px solid #969293;width:40%;} 
```

如果有人能告诉我如何做到这一点，我将不胜感激。谢谢

* * *

## 回答 #1

> 赞同：37
> 
> 时间：2013-01-19T05:08:32.627

你使用[`onkeyup`](https://developer.mozilla.org/en-US/docs/DOM/element.onkeyup)事件

使用 id 搜索要容易得多。将 id 添加到您的元素中，如下所示：

```
<div class='printchatbox' id='printchatbox'></div>

<input type='text' name='fname' class='chatinput' id='chatinput'> 
```

JS

```
var inputBox = document.getElementById('chatinput');

inputBox.onkeyup = function(){
    document.getElementById('printchatbox').innerHTML = inputBox.value;
} 
```

这是一个[实时示例](http://jsfiddle.net/mEefW/)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-19T05:12:30.263

[http://jsfiddle.net/3kpay/](http://jsfiddle.net/3kpay/)

```
<div class='printchatbox' id='printchatbox'></div>

<input type='text' name='fname' class='chatinput' 
    onkeyUp="document.getElementById('printchatbox').innerHTML = this.value" /> 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-19T05:23:09.747

有很多方法可以做到这一点，可能最简单的方法是使用 jQuery。在下面的示例中，我使用 jQuery`keyUp()`函数来监听键盘事件，然后将更新后的值写入`.printChatBox`

```
<!DOCTYPE html>
<html>
<head>
<script src="http://code.jquery.com/jquery-1.9.0.min.js"></script>
</head>
<body>

  <div class='printchatbox'>CHANGE ME</div>
  <input type='text' name='fname' class='chatinput'>

<script type="script/javascript">
  $('.chatinput').keyup(function(event) {
    newText = event.target.value;
    $('.printchatbox').text(newText);
  });
</script>
</body>
</html> 
```

我在这里发布了一个工作示例：http: [//jsbin.com/axibuw/1/edit](http://jsbin.com/axibuw/1/edit)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2017-03-25T12:17:57.667

在您的 HTML 中，

```
<div id='printchatbox'></div>
<br>
<input type='text' id='fname' class='chatinput' onkeyup="annotate()"> 
```

在 JS 中，

```
function annotate(){
  var typed= document.getElementById("fname").value;
  document.getElementById("printchatbox").innerHTML= typed;
} 
```

[点击此处观看现场演示](https://jsbin.com/cevuhucimo)

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2016-04-10T20:26:58.663

Angular JS 在两行代码中做到了这一点：

只需在导入其他库时导入 Angular JS：

```
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.5/angular.min.js"> 
```

然后，在你的第一个 div （你从哪里复制）：

```
<input type="text" ng-model="myID"> </input> 
```

然后，在您将显示内容的地方：只需写：

```
<div> {{myID}}</div> 
```

这是我找到的最好的解决方案！

# java - netbeans 中的“找不到符号”错误（Java Netbeans 6.5）

> ID：14411236
> 
> 赞同：-1
> 
> 时间：2013-01-19T04:57:51.453
> 
> 标签：java, netbeans

在我最后一个介绍 Java 的项目中，我决定做一个 Mastermind Peg Game。

这是提交按钮代码：

```
private void submitButtonActionPerformed(java.awt.event.ActionEvent evt) {

    Integer guess1, guess2, guess3, guess4;
    Integer rightnumber = 0, rightposition = 0;

    guess1 = Integer.parseInt (firstInput.getText());
    guess2 = Integer.parseInt (secondInput.getText());
    guess3 = Integer.parseInt (thirdInput.getText());
    guess4 = Integer.parseInt (fourthInput.getText());

    //Values are compared to the actual guess. 
    //(THIS IS WHERE I GET THE FOLLOWING ERROR: 
    //"cannot find symbol, symbol : variable answerdigit, 
    //location: class finalproject.Singleplayer"

    if ( guess1 == answerdigit[0]);
    {
        rightposition = rightposition + 1;
    }
} 
```

这是开始按钮。在这里，产生了 4 位数的答案/代码。

```
private void startButtonActionPerformed(java.awt.event.ActionEvent evt)
{                                            
    // Declare variables for 4 digit answer, guess for each number
    Integer one, two, three, four;

    //Generate random number between 1 and 6 for each digit in the answer
    int[] answerdigit = new int[4];

    for(int i=0;i<4;i++)
    {
        answerdigit[i]=(int)(Math.random()*6+1);
    }
} 
```

我收到一个错误：

```
cannot find symbol, symbol : variable answerdigit, location: class finalproject.Singleplayer 
```

我不明白错误是什么意思。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-19T05:04:12.977

`answerdigit`不可访问，因为您已在某处声明它并且只能在该本地范围内访问它，以便在您必须在类中声明它的任何地方访问它

例如

```
class cls
{
 int[] answerdigit;
//your remaining code
} 
```

你已经在

```
private void startButtonActionPerformed(java.awt.event.ActionEvent evt) 
```

并访问它

```
private void submitButtonActionPerformed(java.awt.event.ActionEvent evt) 
```

这就是它给出错误的原因。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-19T04:59:25.187

您似乎有一个变量范围问题： answerdigit 被声明为 startButtonActionPerformed 方法的本地，因此仅在此方法内部可见，并且在其他地方根本不存在。如果你想在类的其他地方使用这个变量，那么数组变量 answerdigit 必须在类中声明。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-19T05:05:57.327

`int[] answerdigit = new int[4];`应该在类的范围内而不是在`private void startButtonActionPerformed(java.awt.event.ActionEvent evt)`这个方法的范围内！

只需`int[] answerdigit = new int[4];`将此语句从方法中删除，您的代码就可以了... :)

# ios - 使用 GLKit 加载纹理时如何在 glTexImage2D 中传递数据参数？

> ID：14411239
> 
> 赞同：1
> 
> 时间：2013-01-19T04:58:18.963
> 
> 标签：ios, opengl-es

我正在按照以下代码使用 GLKit 加载 texture.png 纹理：

```
 // Setup texture       
CGImageRef imageRef = [[UIImage imageNamed:@"texture.png"] CGImage];
GLKTextureInfo texInfo = [GLKTextureLoader textureWithCGImage:imageRef options:nil error:NULL];

glActiveTexture(GL_TEXTURE0);
glBindTexture(GL_TEXTURE_2D, texInfo.name);

// Set parameters that control texture sampling for the bound
// texture
glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_LINEAR);
glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_LINEAR);
glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_S, GL_CLAMP_TO_EDGE);
glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_T, GL_CLAMP_TO_EDGE);

glTexImage2D(GL_TEXTURE_2D, 0, GL_RGB, texInfo.width, texInfo.height, 0, GL_RGB, GL_UNSIGNED_BYTE, XXXX); 
```

XXXX 是指定指向内存中图像数据的指针的数据。问题是我正在使用 GLKit 加载纹理，但我在苹果文档中找不到任何从 GLKTextureInfo 类中检索数据的方法。有谁知道我该如何解决？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-19T06:56:06.840

如果您已调用`[GLKTextureLoader textureWithCGImage:options:error:]`，则无需上传位图数据。它已经发生了，所以调用 to`glTexImage2D()`是不必要的。

# ios - 如何以编程方式选择 uitableview 行

> ID：14411249
> 
> 赞同：2
> 
> 时间：2013-01-19T05:01:12.757
> 
> 标签：ios, objective-c, cocoa-touch, uitableview

我正在尝试发送电子邮件，例如在 uitableview 中选择所有功能，其中在同一按钮上点击用户可以选中或删除所有选中标记，另外用户还可以选择/取消选择行（在 didSelectRowAtIndexPath 上）。我试着做，但它不能正常工作，这是我的代码。

```
- (IBAction)selectAll:(id)sender
{
    if(myBoolean)
    {
        for (NSInteger s = 0; s < self.iTable.numberOfSections; s++)
        {
            for (NSInteger r = 0; r < [self.iTable numberOfRowsInSection:s]; r++)
            {
                [[self.iTable cellForRowAtIndexPath:[NSIndexPath indexPathForRow:r inSection:s]] setAccessoryType:UITableViewCellAccessoryNone];
            }
        }

        myBoolean = NO;

        [_selectUnselectButton setTitle:@"Select all Friends" forState:UIControlStateNormal];
    }
    else
    {
        for (NSInteger s = 0; s < self.iTable.numberOfSections; s++)
        {
            for (NSInteger r = 0; r < [self.iTable numberOfRowsInSection:s]; r++)
            {
                [[self.iTable cellForRowAtIndexPath:[NSIndexPath indexPathForRow:r inSection:s]] setAccessoryType:UITableViewCellAccessoryCheckmark];
                NSLog(@"%d-%d",s,r);
            }
        }

        myBoolean = YES;

        [_selectUnselectButton setTitle:@"Unselect all Friends" forState:UIControlStateNormal];
    }
}

-(void)tableView:(UITableView *)tableView_ didSelectRowAtIndexPath:(NSIndexPath *)indexPath
{
    UITableViewCell *cell = [tableView_ cellForRowAtIndexPath:indexPath];

    [cell setSelectionStyle:UITableViewCellSelectionStyleNone];

    if (cell.accessoryType == UITableViewCellAccessoryCheckmark)
    {
        cell.accessoryType = UITableViewCellAccessoryNone;
    }
    else
    {
        cell.accessoryType = UITableViewCellAccessoryCheckmark;
    }
} 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-01-19T06:42:38.230

我编写了一个[示例代码](https://github.com/vikingosegundo/checkmark/tree/master/Checkmark)，我根据您的需要进行了调整。

基本上是

```
-(UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    static NSString *unifiedID = @"aCellID";
    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:unifiedID];
    if (!cell) {
        cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:unifiedID];
    }

    cell.textLabel.text = [self.states objectAtIndex:indexPath.row];

    //if the indexPath was found among the selected ones, set the checkmark on the cell
    cell.accessoryType = ([self isRowSelectedOnTableView:tableView atIndexPath:indexPath]) ? UITableViewCellAccessoryCheckmark : UITableViewCellAccessoryNone;
    return cell;

}

-(void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath
{
    NSString *state = [self.states objectAtIndex:indexPath.row];
    UITableViewCell *cell = [tableView cellForRowAtIndexPath:indexPath];
    if([self isRowSelectedOnTableView:tableView atIndexPath:indexPath]){
        [self.selectedCells removeObject:indexPath];
        [self.selecedStates removeObject:state];
        cell.accessoryType = UITableViewCellAccessoryNone;
    } else {
        [self.selectedCells addObject:indexPath];
        [self.selecedStates addObject:state];
        cell.accessoryType = UITableViewCellAccessoryCheckmark;
    }

    NSLog(@"%@", self.selecedStates);
}

-(BOOL)isRowSelectedOnTableView:(UITableView *)tableView atIndexPath:(NSIndexPath *)indexPath
{
    return ([self.selectedCells containsObject:indexPath]) ? YES : NO;
}

- (IBAction)selectAll:(id)sender {

    [self.selecedStates removeAllObjects];
    [self.selectedCells removeAllObjects];
    NSUInteger numberOfSections = [self.tableView numberOfSections];
    for (NSUInteger s = 0; s < numberOfSections; ++s) {
        NSUInteger numberOfRowsInSection = [self.tableView numberOfRowsInSection:s];
        for (NSUInteger r = 0; r < numberOfRowsInSection; ++r) {
            NSIndexPath *idxPath = [NSIndexPath indexPathForRow:r inSection:s];
            [self.selectedCells addObject:idxPath];
            [self.selecedStates addObject:self.states[idxPath.row]];
        }
    }
    [self.tableView reloadData];
}

- (IBAction)deselectAll:(id)sender {
    [self.selecedStates removeAllObjects];
    [self.selectedCells removeAllObjects];
    [self.tableView reloadData];
}

- (IBAction)toggleAll:(id)sender {
    if ([self.states count] == [self.selecedStates count]) {
        [sender setTitle:@"select all"];
        [self deselectAll:sender];
    } else {
        [sender setTitle:@"deselect all"];
        [self selectAll:sender];
   }
} 
```

在行动：

## [![在此处输入图像描述](../Images/7c2dff0b2c857141cf1fcdb05be8d5fe.png)](https://i.stack.imgur.com/Hfg7h.png)

你在打电话

```
[[self.iTable cellForRowAtIndexPath:[NSIndexPath indexPathForRow:r inSection:s]] setAccessoryType:UITableViewCellAccessoryNone]; 
```

对于 tableView 中每个部分的每一行。如果你有很多行，这是非常低效的，因为它会处理不在屏幕上的行。但这不是必需的。只需将每个选定的索引路径放入一个数组并告诉 tableView 重新加载。这将重新加载可见单元格，并且由于`-tableView:cellForRowAtIndexPath:`单元格的实现，新行将被正确重新配置。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-01-19T05:31:03.067

设置附件视图需要在方法*内部*`tableView:cellForRowAtIndexPath:`进行。当你想从外部更换配件时，外部方法需要先更改型号，表明必须在某些单元格中打上复选标记，然后调用`reloadData`。`UITableView`

存储检查的单元格的一种方法是对象数组`NSIndexSet`- 每个部分设置一个索引。在下面的示例中，我展示了单个部分的代码，但您应该了解如何使多个部分工作。

```
// This variable needs to be declared in a place where your data source can get it
NSMutableIndexSet *selected;

// You need to initialize it in the designated initializer, like this:
selected = [[NSMutableIndexSet alloc] init];

- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath {
    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];
    if (cell == nil) {
        cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleSubtitle reuseIdentifier:CellIdentifier];
    }
    if ([selected containsIndex:indexPath.row]) {
        [cell setAccessoryType:UITableViewCellAccessoryCheckmark];
    } else {
        [cell setAccessoryType:UITableViewCellAccessoryNone];
    }
    // Do the rest of your code
    return cell;
} 
```

现在，在要设置选中或未选中行的代码中，您只需要调用`[selected addIndex:rowToSelect]`or `[selected removeIndex:rowToUnselect]`，然后调用表的`reloadData`.

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-01-19T05:03:48.490

用于[`selectRowAtIndexPath:animated:scrollPosition:`](http://developer.apple.com/library/ios/#documentation/uikit/reference/UITableView_Class/Reference/Reference.html#//apple_ref/occ/instm/UITableView/selectRowAtIndexPath%3aanimated%3ascrollPosition%3a)选择一行
和[`deselectRowAtIndexPath:animated:`](http://developer.apple.com/library/ios/#documentation/uikit/reference/UITableView_Class/Reference/Reference.html#//apple_ref/occ/instm/UITableView/deselectRowAtIndexPath%3aanimated%3a)取消选择一行。
有关更多信息，请阅读[UITableView 文档](http://developer.apple.com/library/ios/#documentation/uikit/reference/UITableView_Class/Reference/Reference.html)

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-01-19T05:11:17.700

试试这个代码而不是你的旧代码

```
- (IBAction)selectAll:(id)sender
{
    if(myBoolean)
    {
        for (NSInteger s = 0; s < self.iTable.numberOfSections; s++)
        {
            for (NSInteger r = 0; r < [self.iTable numberOfRowsInSection:s]; r++)
            {
              [self.iTable selectRowAtIndexPath:[NSIndexPath indexPathForRow:r inSection:s]] animated:YES scrollPosition:UITableViewScrollPositionNone];

            }
        }

        myBoolean = NO;

        [_selectUnselectButton setTitle:@"Select all Friends" forState:UIControlStateNormal];
    }
    else
    {
        for (NSInteger s = 0; s < self.iTable.numberOfSections; s++)
        {
            for (NSInteger r = 0; r < [self.iTable numberOfRowsInSection:s]; r++)
            {
                 [self.iTable selectRowAtIndexPath:[NSIndexPath indexPathForRow:r inSection:s]] animated:YES scrollPosition:UITableViewScrollPositionNone];
                NSLog(@"%d-%d",s,r);
            }
        }

        myBoolean = YES;

        [_selectUnselectButton setTitle:@"Unselect all Friends" forState:UIControlStateNormal];
    }
}

-(void)tableView:(UITableView *)tableView_ didSelectRowAtIndexPath:(NSIndexPath *)indexPath
{
    UITableViewCell *cell = [tableView_ cellForRowAtIndexPath:indexPath];

    [cell setSelectionStyle:UITableViewCellSelectionStyleNone];

    if (cell.accessoryType == UITableViewCellAccessoryCheckmark)
    {
        cell.accessoryType = UITableViewCellAccessoryNone;
    }
    else
    {
        cell.accessoryType = UITableViewCellAccessoryCheckmark;
    }
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-19T05:47:46.190

您可以按照这些步骤来实现这一点，

1）你应该有一个`mutable`数组来存储索引路径

2）您可以做的是，当您点击全部选中或取消全部选中时，执行`add`或`remove`所有索引路径到/来自数组（您已经），重新加载表以进行更新更改

3）在`- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath`数据源方法中，使用 签入数组`if([array containsObject:indexPath])`，如果存在则标记它`checked`或`unchecked`

4）在`- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath`委托方法中，您应该检查是否已经存在进入数组的索引路径，就像您在第 3 步中所做的那样，并根据条件*添加*或*删除* `indexpaths`，重新加载表以进行更新更改

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-01-19T06:22:27.180

取另一个`NSMutableArray`作为**SelectedArray**

在行中您可以从**SelectedArray**`didSelectRowAtIndexPath`添加删除对象。

 **您可以选择`UITableViewCell`调用`UITableViews` `selectRowAtIndexPath`方式：

```
[yourtable selectRowAtIndexPath:[NSIndexPath indexPathForRow:0 inSection:0] 
                       animated:NO 
                 scrollPosition:UITableViewScrollPositionTop]; 
```

**为selectedArray**放置 for 循环以仅在选定单元格或所有单元格中放置复选标记。

在此处查看我接受的答案：[需要为 UITableView 创建一个全选按钮并将选择添加到 iOS 中的数组](https://stackoverflow.com/questions/14209145/need-to-create-a-select-all-button-for-uitableview-and-add-selections-to-an-arra/14210436#14210436)

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2017-05-03T09:26:10.903

*   Xcode 8x*   斯威夫特 3x

    ***选择行***

    ```
    let indexPath = IndexPath(row: 0, section: 0)
    mytableView.selectRow(at: indexPath, animated: true, scrollPosition: .bottom)
    myTableView.delegate?.tableView!(myTableView, didSelectRowAt: indexPath) 
    ```

    ***取消选择行***

    ```
    let deselectIndexPath = IndexPath(row: 7, section: 0)
    myTableView.deselectRow(at: deselectIndexPath, animated: true)
    myTableView.delegate?.tableView!(tblView, didDeselectRowAt: indexPath) 
    ```

* * *

## 回答 #8

> 赞同：-1
> 
> 时间：2013-01-19T05:07:33.990

你可以这样做：

```
- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath {
    [self doSomethingWithRowAtIndexPath:indexPath];
} 
```**

# c++ - 什么 Ruzzle 板包含最独特的单词？

> ID：14411251
> 
> 赞同：5
> 
> 时间：2013-01-19T05:02:04.780
> 
> 标签：c++, c, performance, algorithm, puzzle

对于智能手机，有一款名为[Ruzzle](http://www.ruzzle-game.com/)的游戏。
![Ruzzle 板](../Images/cdd165d3b25ea5cdf2f9cd04ab98b144.png)
这是一个找词游戏。

**快速说明：**
游戏板是一个 4x4 的字母网格。
您从任何单元格开始，并尝试通过向上、向下、向左、向右或对角线拖动来拼写单词。
板不换行，您不能重复使用已选择的字母。

平均而言，我和我的朋友会找到大约 40 个单词，并且在回合结束时，游戏会告诉您您可以获得多少个可能的单词。这个数字通常约为 250 - 350。
我们想知道哪个板会产生最多的可能单词。

**我将如何寻找最佳板？**
我用 C 语言编写了一个程序，它需要 16 个字符并输出所有适当的单词。
测试超过 80,000 个单词，大约需要一秒钟的时间来处理。

**问题：**
游戏板排列的数量是 26^16。
那是 43608742899428874059776（43 六分之一）。

**我需要某种启发式方法。**
我是否应该跳过所有具有**z**、**q**、**x**等的**板**，因为它们应该没有那么多的单词？我不想在不确定的情况下排除一个字母。
每个板也有 4 个副本，因为旋转板仍然会产生相同的结果。
但即使有这些限制，我认为我一生中没有足够的时间来找到答案。

也许董事会一代不是答案。
有没有更快的方法来查看单词列表来找到答案？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-06-28T19:43:26.820

tldr;

```
S   E   R   O
P   I   T   S
L   A   N   E
S   E   R   G 
```

或其任何反映。

该板包含 1212 个单词（事实证明，您可以排除“z”、“q”和“x”）。

首先，事实证明您使用的是错误的字典。在没有与 Ruzzle 的字数完全匹配后，我查看了它，似乎 Ruzzle 使用了一本名为 TWL06 的字典，它有大约 180,000 个单词。不要问我它代表什么，但它可以在 txt 中免费获得。

我还编写了代码来查找给定 16 个字符板的所有可能单词，如下所示。它将字典构建成树形结构，然后在找到单词时几乎只是递归地四处走动。它按长度顺序打印它们。唯一性由 STL 集合结构维护。

```
#include <cstdlib>
#include <ctime>
#include <map>
#include <string>
#include <set>
#include <algorithm>
#include <fstream>
#include <iostream>

using namespace std;

struct TreeDict {

    bool existing;
    map<char, TreeDict> sub;

    TreeDict() {
        existing = false;
    }

    TreeDict& operator=(TreeDict &a) {

        existing = a.existing;
        sub = a.sub;
        return *this;
    }

    void insert(string s) {

        if(s.size() == 0) {

            existing = true;
            return;
        }

        sub[s[0]].insert(s.substr(1));
    }

    bool exists(string s = "") {

        if(s.size() == 0)
            return existing;

        if(sub.find(s[0]) == sub.end())
            return false;

        return sub[s[0]].exists(s.substr(1));
    }

    TreeDict* operator[](char alpha) {

        if(sub.find(alpha) == sub.end())
            return NULL;

        return &sub[alpha];
    }
};

TreeDict DICTIONARY;

set<string> boggle_h(const string board, string word, int index, int mask, TreeDict *dict) {

    if(index < 0 || index >= 16 || (mask & (1 << index)))
        return set<string>();

    word += board[index];
    mask |= 1 << index;
    dict = (*dict)[board[index]];

    if(dict == NULL)
        return set<string>();

    set<string> rt;

    if((*dict).exists())
        rt.insert(word);

    if((*dict).sub.empty())
        return rt;

    if(index % 4 != 0) {

        set<string> a = boggle_h(board, word, index - 4 - 1, mask, dict);
        set<string> b = boggle_h(board, word, index - 1, mask, dict);
        set<string> c = boggle_h(board, word, index + 4 - 1, mask, dict);

        rt.insert(a.begin(), a.end());
        rt.insert(b.begin(), b.end());
        rt.insert(c.begin(), c.end());
    }

    if(index % 4 != 3) {

        set<string> a = boggle_h(board, word, index - 4 + 1, mask, dict);
        set<string> b = boggle_h(board, word, index + 1, mask, dict);
        set<string> c = boggle_h(board, word, index + 4 + 1, mask, dict);

        rt.insert(a.begin(), a.end());
        rt.insert(b.begin(), b.end());
        rt.insert(c.begin(), c.end());
    }

    set<string> a = boggle_h(board, word, index + 4, mask, dict);
    set<string> b = boggle_h(board, word, index - 4, mask, dict);

    rt.insert(a.begin(), a.end());
    rt.insert(b.begin(), b.end());

    return rt;
}

set<string> boggle(string board) {

    set<string> words;
    for(int i = 0; i < 16; i++) {

        set<string> a = boggle_h(board, "", i, 0, &DICTIONARY);
        words.insert(a.begin(), a.end());
    }
    return words;
}

void buildDict(string file, TreeDict &dict = DICTIONARY) {

    ifstream fstr(file.c_str());
    string s;

    if(fstr.is_open()) {
        while(fstr.good()) {

            fstr >> s;
            dict.insert(s);
        }
        fstr.close();
    }
}

struct lencmp {
    bool operator()(const string &a, const string &b) {

        if(a.size() != b.size())
            return a.size() > b.size();
        return a < b;
    }
};

int main() {

    srand(time(NULL));

    buildDict("/Users/XXX/Desktop/TWL06.txt");

    set<string> a = boggle("SEROPITSLANESERG");
    set<string, lencmp> words;
    words.insert(a.begin(), a.end());
    set<string>::iterator it;
    for(it = words.begin(); it != words.end(); it++)
        cout << *it << endl;
    cout << words.size() << " words." << endl;
} 
```

随机生成板并针对它们进行测试并没有变得太有效，预期，我并没有真正为运行它而烦恼，但如果它们超过 200 个字，我会感到惊讶。相反，我更改了板的生成以生成与它们在 TWL06 中的频率成比例分布的字母的板，通过快速累积频率（频率降低了 100 倍）实现，如下所示。

```
string randomBoard() {

    string board = "";
    for(int i = 0; i < 16; i++)
        board += (char)('A' + rand() % 26);
    return board;
}

char distLetter() {

    int x = rand() % 15833;
    if(x < 1209) return 'A';
    if(x < 1510) return 'B';
    if(x < 2151) return 'C';
    if(x < 2699) return 'D';
    if(x < 4526) return 'E';
    if(x < 4726) return 'F';
    if(x < 5161) return 'G';
    if(x < 5528) return 'H';
    if(x < 6931) return 'I';
    if(x < 6957) return 'J';
    if(x < 7101) return 'K';
    if(x < 7947) return 'L';
    if(x < 8395) return 'M';
    if(x < 9462) return 'N';
    if(x < 10496) return 'O';
    if(x < 10962) return 'P';
    if(x < 10987) return 'Q';
    if(x < 12111) return 'R';
    if(x < 13613) return 'S';
    if(x < 14653) return 'T';
    if(x < 15174) return 'U';
    if(x < 15328) return 'V';
    if(x < 15452) return 'W';
    if(x < 15499) return 'X';
    if(x < 15757) return 'Y';
    if(x < 15833) return 'Z';
}

string distBoard() {

    string board = "";
    for(int i = 0; i < 16; i++)
        board += distLetter();
    return board;
} 
```

这明显更有效，很容易实现 400+ 字板。我让它运行（比我预期的要长），在检查了超过一百万块板之后，发现的最高值是 650 字左右。这仍然本质上是随机生成，并且有其局限性。

相反，我选择了一种贪婪的最大化策略，在这种策略中，我会选择一块板并对其进行小幅更改，然后仅在它增加字数时才提交更改。

```
string changeLetter(string x) {

    int y = rand() % 16;
    x[y] = distLetter();
    return x;
}

string swapLetter(string x) {

    int y = rand() % 16;
    int z = rand() % 16;
    char w = x[y];
    x[y] = x[z];
    x[z] = w;
    return x;
}

string change(string x) {

    if(rand() % 2)
        return changeLetter(x);
    return swapLetter(x);
}

int main() {

    srand(time(NULL));

    buildDict("/Users/XXX/Desktop/TWL06.txt");

    string board = "SEROPITSLANESERG";
    int locmax = boggle(board).size();
    for(int j = 0; j < 5000; j++) {

        int changes = 1;

        string board2 = board;
        for(int k = 0; k < changes; k++)
            board2 = change(board);

        int loc = boggle(board2).size();
        if(loc >= locmax && board != board2) {
            j = 0;
            board = board2;
            locmax = loc;
        }
    }
} 
```

尽管起点是随机的，但这很快就让我得到了 1000 多个单词板，它们的字母模式大致相似。是什么让我相信给出的棋盘是**最好的**棋盘是它，或者它的各种反射之一，在最大化随机棋盘的前 100 次尝试中反复出现。

怀疑的最大原因是这个算法的贪婪，这会导致算法错过更好的板。所做的小改动在其结果上是相当灵活的——也就是说，它们有能力将网格从其（随机）起始位置完全转换。可能的更改次数，新字母为 26*16，字母交换为 16*15，均明显小于 5000，即允许的连续丢弃更改次数。

程序能够在前 100 奇次内重复此板输出的事实意味着局部最大值的数量相对较少，并且存在未发现的最大值的概率较低。

尽管贪婪在直觉上似乎是正确的——通过随机板的增量变化达到给定网格的可能性并不低——而且两个可能的变化，一个交换和一个新的字母似乎确实包含了所有可能的改进，我更改了程序，以允许它在检查增加之前进行更多更改。这再次返回相同的板，重复。

```
int main() {

    srand(time(NULL));

    buildDict("/Users/XXX/Desktop/TWL06.txt");

    int glomax = 0;
    int i = 0;
    while(true) {

        string board = distBoard();
        int locmax = boggle(board).size();
        for(int j = 0; j < 500; j++) {

            string board2 = board;
            for(int k = 0; k < 2; k++)
                board2 = change(board);

            int loc = boggle(board2).size();
            if(loc >= locmax && board != board2) {
                j = 0;
                board = board2;
                locmax = loc;
            }
        }

        if(glomax <= locmax) {
            glomax = locmax;
            cout << board << " " << glomax << " words." << endl;
        }

        if(++i % 10 == 0)
            cout << i << endl;
    }
} 
```

在这个循环上迭代了大约 1000 次，这个特定的板配置显示了大约 10 次，我非常有信心这是目前具有最独特单词的 Ruzzle 板，直到英语发生变化。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-19T10:35:50.810

有趣的问题。我看到（至少，但主要是）两种方法

1.  一种是尝试根据字典尽可能多地*粘贴*可单词的字母（在各个方向）。正如你所说，有很多可能的组合，而这条路线需要一个精心设计和复杂的算法才能达到有形的东西

2.  还有另一个我更喜欢的基于概率的“松散”解决方案。您建议去除一些外观低的字母以最大化电路板良率。对此的扩展可能是在字典中使用更多的高外观字母。

进一步的步骤可能是：

*   根据 80k 字典`D`，您可以找出 26 个字母的 L 集合中的每个*l1字母的字母**l2在**l1*之前或之后的概率。这是一个`L x L`概率数组，非常小，因此您甚至可以扩展到`L x L x L`，即考虑*l1*和*l2*什么概率适合*l3 。*如果算法想要估计准确的概率，这有点复杂，因为概率和取决于 3 个字母的相对位置，例如在“三角形”配置中（例如位置 (3,3)、(3,4 ) 和 (3,5)) 结果可能比字母对齐时的产量要低[只是一个假设]。为什么不去`L x L x L x L`，这将需要一些优化...

*   然后你在板上随机分布一些高外观字母（比如 4~6）（在 8 个可能方向中的至少 5 个周围至少有 1 个空白单元格），然后使用你的`L x L [xL]`probas 数组来完成 - 含义基于现有的字母，下一个单元格填充给定配置的概率高的字母[再次，按概率降序排序的字母，如果两个字母紧密联系，则使用随机性]。

例如，仅采用水平配置，具有以下字母，我们希望找到介于两者之间的最佳 2`ER`和`TO`

```
 ...ER??TO... 
```

使用`L x L`，这样的循环（l1 和 l2 是我们缺少的两个字母）。找到绝对更好的字母 - 但*bestchoice*和*bestproba*可以改为数组并保留 - 比如说 - 10 个最佳选择。注意：在这种情况下，无需将概率保持在 [0,1] 范围内，我们可以总结概率（不给出概率 - 但数字很重要。数学概率可能类似于 p = ( p(l0,l1) + p(l2,l3) ) / 2, l0 和 l3 是我们示例中的*R*和*T*`L x L` )

```
 bestproba = 0
  bestchoice = (none, none)
  for letter l1 in L
    for letter l2 in L
      p = proba('R',l1) + proba(l2,'T')
      if ( p > bestproba ) 
        bestproba = p
        bestchoice = (l1, l2)
      fi
    rof
  rof 
```

该算法可以考虑更多的因素，还需要考虑垂直和对角线。使用`L x L x L`，会考虑更多方向上的更多字母，例如`ER?`, `R??`, `??T`, `?TO`- 这需要对算法进行更多思考 - 也许从开始`L x L`可以了解该算法的相关性。

请注意，其中很多可能是预先计算的，`L x L`数组当然是其中之一。

# c# - 查找 ActiveX 组件的所有属性

> ID：14411255
> 
> 赞同：5
> 
> 时间：2013-01-19T05:02:38.880
> 
> 标签：c#, properties, com, activex, idispatch

我试着环顾四周，但无法用答案说服自己，因为 COM/ActiveX 的世界似乎非常混乱。
基本上我想知道的是，给定 GUID，有没有办法知道 ActiveX 控件公开的所有接口、属性和方法？我在某处读到，您只需要询问是否存在特定属性即可。但是在知道那里有什么之前，我该如何询问房产呢？
我猜 IDispatch 做了类似的事情，但我无法弄清楚如何使用它。如果这是可行的，那么一个小片段（最好是 C# 中的）将帮助我更好地理解。

谢谢

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2014-08-20T16:38:01.743

您可以为此使用 PowerShell：

```
$a = new-object -comobject ProgId
#get properties
$a | Get-Member -membertype properties 
#or get all members
$a | Get-Member 
```

在 C# 中，您可以使用[Type.GetMembers Method](http://msdn.microsoft.com/en-us/library/system.type.getmembers(v=vs.110).aspx)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T17:01:47.997

您可以使用Microsoft 资源工具包中的[OLE/COM 对象查看器。](http://msdn.microsoft.com/en-us/library/windows/desktop/ms688269%28v=vs.85%29.aspx)这将列出所有属性/方法/事件/等。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-19T23:09:04.200

ActiveX 控件不必是自描述的，也不必能够枚举支持的接口和/或属性。与其他 COM 类一样，它们实现了某些接口并实现了一组强制接口，它们非常适合嵌入到主机应用程序中。也就是说，您最终可能无法找到某个有效 ActiveX 控件的属性。

但是，通常情况下，如果给定的控件可以完成大多数控件的工作，您就可以成功完成此任务。Control 的 COM 类通常有一个类型库，您可以通过查看注册表引用或[`IProvideClassInfo`](http://msdn.microsoft.com/en-us/library/windows/desktop/ms687303%28v=vs.85%29.aspx)接口来发现。从那里开始，当您持有`ITypeInfo`接口时，您可以找到`IDispatch`类的派生接口，然后使用保存此信息的类型库枚举属性和方法。

# php - LEFT JOIN 只返回所需结果的一半

> ID：14411256
> 
> 赞同：0
> 
> 时间：2013-01-19T05:02:42.607
> 
> 标签：php, mysql

我目前有：

```
SELECT * FROM submissions AS s
    LEFT JOIN submission_category AS sc ON s.submission_category = sc.sub_cat_id    
    JOIN hospitals      AS h  ON h.hospital_id        = sc.main_hospital_id
    JOIN products       AS p  ON p.product_id         = s.product_id
    JOIN product_group  AS pg ON pg.id                = p.product_group_id 
    JOIN progress_steps AS ps ON sc.approval_step     = ps.step_id
    WHERE s.approval_status='2' 
    AND sc.user_id='$mask5' 
```

问题是 sc 有 3 行而 s 有 6 行。我需要返回所有六行，但目前它只返回 3，每个 from s 对应于 sc。

根据我现在正在尝试的建议：

```
SELECT * FROM submissions AS s
LEFT JOIN submission_category AS sc ON (s.submission_category = sc.sub_cat_id AND sc.user_id='$mask5' ) 
JOIN hospitals      AS h  ON h.hospital_id        = sc.main_hospital_id
JOIN products       AS p  ON p.product_id         = s.product_id
JOIN product_group  AS pg ON pg.id                = p.product_group_id 
JOIN progress_steps AS ps ON sc.approval_step     = ps.step_id
WHERE s.approval_status='2' 
```

但仍然得到三排，而不是六排？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-19T05:05:58.670

`LEFT JOIN`将ed table[s] 的列“转换`WHERE`”`LEFT JOIN`为`INNER`（sc.user_id = '$mask5' 总是返回`NULL`或 false，以防 submit_category 中没有相应的行）。进入`sc.user_id=...`加入条件：

```
....
LEFT JOIN submission_category AS sc ON (s.submission_category = sc.sub_cat_id AND 
 sc.user_id='$mask5' )
... 
```

# python - 编写 p2p 客户端/服务器应用程序

> ID：14411261
> 
> 赞同：1
> 
> 时间：2013-01-19T05:03:27.817
> 
> 标签：python, twisted

> **可能重复：**
> [如何编写一个同时也是客户端的扭曲服务器？](https://stackoverflow.com/questions/3275004/how-to-write-a-twisted-server-that-is-also-a-client)

如何创建一个带有扭曲的 tcp 客户端服务器应用程序，服务器也可以在其中发送请求，而不仅仅是回答它们？有点像 p2p 应用程序，但客户端总是启动连接。由于我不知道来自服务器的请求何时会发生，所以我不知道一旦反应器启动我该怎么做。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-19T06:58:52.610

你要问自己的问题是：服务器为什么要发送请求？

大概世界上发生了一些事情会促使服务器发送请求；它不会随意做。即使它是随机的，世界上发生的事情也将是“过去了一些随机的时间”。换句话说，`callLater(random(...), doSomething)`.

当您使用 Twisted 编写程序时，您首先要设置对事件做出反应的方法。然后你运行反应器 - 即“对事件做出反应的东西” - 永远。您可以随时设置新的方式来响应传入的网络事件（`reactor.connectTCP`、、`reactor.listenTCP`）`reactor.callLater`或拆除现有的等待事件（ `protocol.loseConnection`、、、`port.stopListening`）`delayedCall.cancel`。您不需要重新启动反应器；事实上，真的，在反应器运行之前你应该做的唯一一件事就是做`reactor.callWhenRunning(someFunctionThatListensOrConnects)`，然后写`someFunctionThatListensOrConnects`来做你所有的初始设置。一旦反应器已经运行，该设置就会发生，这表明您不需要提前做任何事情；反应堆完全能够在运行时改变其配置。

如果导致服务器向客户端 B 发送事件的事件是客户端 A 向它发送消息的事实，那么常见问题解答会回答您的问题，“[我如何在一个连接上进行输入导致在另一个连接上输出？](http://twistedmatrix.com/trac/wiki/FrequentlyAskedQuestions#HowdoImakeinputononeconnectionresultinoutputonanother) ”

# ruby-on-rails - 按关注者数量排序用户？

> ID：14411263
> 
> 赞同：-1
> 
> 时间：2013-01-19T05:04:04.170
> 
> 标签：ruby-on-rails

我正在使用[acts_as_follower gem](https://github.com/tcocca/acts_as_follower)，我想知道如何按用户拥有的关注者数量对他们进行排序？我不确定从哪里开始。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-19T05:23:46.433

如果用户`acts_as_followable`：

```
User.all.sort_by(&:followers_count) 
```

* * *

根据[Benedikt Deicke 在](https://stackoverflow.com/questions/14411263/order-users-by-number-of-followers/14411392#comment20057509_14411392)下面的评论，此解决方案会导致 N+1 个查询。[`followings`](https://github.com/tcocca/acts_as_follower/blob/master/lib/acts_as_follower/followable.rb#L19)为防止出现这种情况，请为所有`User`查询启用预先加载。

```
# models/user.rb    
class User < ActiveRecord::Base
  acts_as_followable
  default_scope :include => :followings
  # ...
end 
```

# r - ggplot() 线条透明度

> ID：14411270
> 
> 赞同：27
> 
> 时间：2013-01-19T05:05:19.247
> 
> 标签：r, ggplot2, histogram, line-plot

如何更改`ggplot()`图表中线条的透明度级别（即直方图、线图等）？

例如考虑下面的代码：

```
data <- data.frame(a=rnorm(100), b = rnorm(100,.5,1.2))
data <- melt(data)
colnames(data) <- c("Category", "Intensity")
p <- ggplot(data, aes(x=Intensity))
p <- p + geom_density(aes(color=Category), size=2, alpha=.4)
print(p) 
```

我希望这些线条是透明的（如`alpha=.4`），但事实并非如此。

![在此处输入图像描述](../Images/420301eb2ccb8d7d4208d284749ea661.png)

* * *

## 回答 #1

> 赞同：34
> 
> 时间：2013-01-19T05:17:36.573

只需按照[@baptiste 的指示](https://stackoverflow.com/questions/14411270/ggplot-lines-transparency/14411354#comment20055398_14411270)，

```
data <- data.frame(a=rnorm(100), b = rnorm(100,.5,1.2))
data <- melt(data)
colnames(data) <- c("Category", "Intensity")
p <- ggplot(data, aes(x=Intensity))
p + geom_line(aes(color=Category), stat="density", size=2, alpha=0.4) 
```

![Ceci n'est pas une 管](../Images/2c3c4730b5e738402c93f33573a8e429.png)

# php - mysql数据未更新

> ID：14411273
> 
> 赞同：-1
> 
> 时间：2013-01-19T05:05:38.513
> 
> 标签：php, html, mysql, error-handling

在从一台主机移动到另一台主机（到 hostgator）时，我们收到了许多错误。搬家后，我们确实遇到了新闻编辑器编辑代码错误，但我们已经解决了这个问题。现在，我们在页面编辑器中更新数据时出错。

它可以提取/选择数据并说已保存，但它不会更新 mysql 中的数据。

托管错误？以前在工作。

```
<a href="pageeditor.php?page=events">&raquo;Events Page</a>
<a href="pageeditor.php?page=app">&raquo;Jobs Page</a>
<a href="pageeditor.php?page=maintenance">&raquo;Maintenance Page</a>
<a href="pageeditor.php?page=staff">&raquo;Staff Page</a> 
```

谢谢，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-19T05:23:14.703

利用

```
if (!mysql_query($sql,$con))
{
die('Error: ' . mysql_error());
}
else 
{
echo("maintenance page updated");
} 
```

确定您的查询是否正常工作

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-19T05:14:53.940

也许您以前的主机有 autocommit=on，这意味着您不必 COMMIT。在每次数据更新结束时尝试 COMMIT 语句以实际保存数据

```
 echo("The CMS for the credits page has been updated!"); 
```

只是 php 说出你想要它说的话，它实际上并没有进入数据库并检查......

# java - 将 GMT 日期字符串转换为本地 Date 对象

> ID：14411274
> 
> 赞同：1
> 
> 时间：2013-01-19T05:05:51.873
> 
> 标签：java, date, calendar, timezone, simpledateformat

我正在尝试将日期对象（CST 区域）转换为 GMT 字符串，然后再转换回日期对象（CST）。

我使用了以下代码并且它正在工作，但想知道它如何使用 GMT 日期格式化程序将 GMT 字符串转换为 CST 日期。
我的问题是如何在不使用带有 CST 格式化程序的格式化程序的情况下恢复 CST 时间？

```
Date inputdate = new Date();// My local time CST

System.out.println(inptdate);

SimpleDateFormat sdfgmt = new SimpleDateFormat("yyyy-MM-dd'T'HH:mm:ss.000'Z'");
sdfgmt.setTimeZone(TimeZone.getTimeZone("GMT"));

String gmtString = sdfgmt.format(inputdate );

System.out.println(gmtString);

Date outputDate  = sdfgmt.parse(gmtString);

System.out.println(outputDate); 
```

**输出**

```
Fri Jan 18 22:52:47 CST 2013  
   2013-01-19T04:52:47.000Z  
   Fri Jan 18 22:52:47 CST 2013 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-19T05:15:53.163

Java 日期没有时区的概念。Java 日期只是一个存储的 long。通过打印日期，您将其转换为计算机的时区。如果您对存储时区感兴趣，请尝试 Joda 的 DateTime 类。

# codeigniter - 如何在codeigniter中上传多个图像和crete thumb，并将它们的名称与其他文件一起存储在数据库中

> ID：14411278
> 
> 赞同：0
> 
> 时间：2013-01-19T05:06:18.690
> 
> 标签：codeigniter, upload, image-uploading, image-upload, multifile-uploader

我想上传 3 张图片并创建它们的拇指，并希望将它们的名称存储在数据库中。知道该怎么做。**注意**我已经阅读了很多论坛和问题，但没有一个对我进行上传和存储在数据库中有所帮助。这是我为 1 张图片所做的，如果我可以对多张图片做同样的处理而几乎没有修改，这将对我有所帮助

`View`

 ````
<p>
    <label>Image 1</label>
    <input type="file" name="userfile"  value=""/>

// I want same kind of anothe two uploads say image2,image3
</p> 
```` 

``**Controller**``

 `````
function insert()
{
$data = array('title'=>'Add New Image',
'link_add'=>site_url('manage/img_gallaryslider/add'),
'edit_link'=>site_url('manage/img_gallaryslider/edit'), 'action'=>site_url('manage/img_gallaryslider/insert'),
'link_back'=>site_url('manage/img_gallaryslider'),
'tbl'=>'imgslider'); 
$this->_set_fields();
$this->_set_rules();
if ($this->form_validation->run() == TRUE)
    {
       $config['upload_path'] = './images/imagegallaryslider';
       $config['allowed_types'] = 'gif|jpg|png';
       $config['max_size']  = '1000';
       $config['max_width']  = '1024';
       $config['max_height']  = '768';
       $this->load->library('upload', $config);
        if ( ! $this->upload->do_upload())
        {
            $error = array('error' => $this->upload->display_errors());
            if($_FILES['userfile']['name']=='')
        {
         $data['upload_error']='<strong>Error: Please, select image to upload</strong>';
        }
       else
        {
            $data['upload_error']='<strong>Error:Invalid file format or size</strong>';
        }
        $this->load->view('manage/includes/header', $data);
        $this->load->view('manage/img_gallaryslideredit', $data);
        $this->load->view('manage/includes/footer');
        }
        else
        {
          $data = array('upload_data' => $this->upload->data());
          $filename= $this->upload->data();
          $file_name=$this->upload->file_name;
              $this->create_thumb($file_name);
         // save data

        $this->ip_date = $this->admin_model->get_date_ip();
        $value_array = array('Name' => $this->input->post('name'),
                             'Image'=>$this->upload->file_name,
                         'CreatedBy' => $this->session->userdata('adminid'),
                         'CreatedDate'=>$this->ip_date->cur_date,
                         'CreatedIp'=>$this->ip_date->ip);
    $id = $this->admin_model->save('imggallaryslider',$value_array);
    $this->session->set_flashdata('notification',$this->lang->line('gen_succ_added'));
    redirect(site_url('manage/img_gallaryslider/index'));
    die();
    }
    }
     else
        {
        $this->load->view('manage/includes/header', $data);
        $this->load->view('manage/img_gallaryslideredit', $data);
        $this->load->view('manage/includes/footer');
    }

}
function create_thumb($file_name)
     {
        $config['image_library'] = 'gd2';
        $config['source_image'] = './images/imagegallaryslider/'.$file_name;    
        $config['create_thumb'] = FALSE;
        $config['maintain_ratio'] = TRUE;
        $config['width'] = 70;
        $config['height'] = 50;
        $config['new_image'] = './images/imagegallaryslider/thumb/'.$file_name;
        $this->load->library('image_lib', $config);
        $this->image_lib->resize();
        if(!$this->image_lib->resize())
        {
            echo $this->image_lib->display_errors();
        }
     } 
```

**model**` 

```
function save($table,$value)
    {
    $this->db->insert($table, $value);
    return $this->db->insert_id();
    }    
</code> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-19T05:51:47.187

该方法`do_upload()`声明为 [`public function do_upload($field = 'userfile')`](https://github.com/EllisLab/CodeIgniter/blob/2.1-stable/system/libraries/Upload.php#L143)，因此您可以在代码中使用它，例如：

```
private function uploads() {
   $config['upload_path'] = './images/imagegallaryslider';
   $config['allowed_types'] = 'gif|jpg|png';
   $config['max_size']  = '1000';
   $config['max_width']  = '1024';
   $config['max_height']  = '768';
   $this->load->library('upload', $config);
   //<--HERE the several images handler
   foreach (array('userfile','img1','img2' as $field) { 
    if ( ! $this->upload->do_upload($field))
    {
        $error = array('error' => $this->upload->display_errors());
        if($_FILES[$field]['name']=='')
    {
     $data['upload_error']='<strong>Error: Please, select image to upload</strong>';
    }
   else
    {
        $data['upload_error']='<strong>Error:Invalid file format or size</strong>';
    }
    return $data;
   }
   $data = array('upload_data' => $this->upload->data());
   $filename= $this->upload->data();
   $file_name=$this->upload->file_name;
   $this->create_thumb($file_name);
     // save data
   $this->ip_date = $this->admin_model->get_date_ip();
   $value_array = array('Name' => $this->input->post('name'),
                        'Image'=>$this->upload->file_name,
                     'CreatedBy' => $this->session->userdata('adminid'),
                     'CreatedDate'=>$this->ip_date->cur_date,
                     'CreatedIp'=>$this->ip_date->ip);
   $id = $this->admin_model->save('imggallaryslider',$value_array);
 }
 $this->session->set_flashdata('notification',$this->lang->line('gen_succ_added'));
 redirect(site_url('manage/img_gallaryslider/index'));
 die();
} 
```

鉴于它应该看起来像：

```
<p>
  <label>Image 1</label>
  <input type="file" name="userfile"  value=""/>
  <input type="file" name="img1"  value=""/>
  <input type="file" name="img2"  value=""/> 
</p> 
````

# assembly - LC2K ISA。有人可以解释这个程序在做什么吗？

> ID：14411279
> 
> 赞同：0
> 
> 时间：2013-01-19T05:06:44.907
> 
> 标签：assembly

使用 LC2K ISA，有人可以向我解释这个程序在做什么吗？

```
 lw      0       1       five    load reg1 with 5 (symbolic address)
        lw      1       2       3       load reg2 with -1 (numeric address)
start   add     1       2       1       decrement reg1
        beq     0       1       2       goto end of program when reg1==0
        beq     0       0       start   go back to the beginning of the loop
        noop
done    halt                            end of program
five    .fill   5
neg1    .fill   -1
stAddr  .fill   start                   will contain the address of start (2) 
```

符号地址和数字地址有什么区别？例如，为什么第 2 行用 -1 加载 reg2？-1 来自哪里？

第 3 行的“开始”是什么意思，为什么该行在使用 add 时会减少 reg1？另外，第 4-5 行和第 7-9 行是如何工作的？

如果有人能简明扼要地解释该程序，我将不胜感激。

谢谢你。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-19T09:33:47.053

这看起来像是用于某些学术目的的这些编造指令集之一，但它似乎很明显：

'symbolic' 和 'numeric' 之间的区别在于，符号大小写使用符号（名称）来指代某物，而数字大小写使用数字。符号在汇编时被它们的数值替换，因此最终代码没有区别。该符号`five`指向某些数据，因此在汇编代码时将替换该数据的地址。

（我假设 reg0 是数字 0 的快捷方式，否则寄存器总是包含 0 - 这对于一些真实的架构来说是正确的，并且似乎在这里得到了反映）

看来第二行取第一行加载的寄存器的内容（里面有5，因为就是符号表示的位置存储的数据`five`），加3，然后在这个新计算的地址加载数据. 3 + 5 = 8，如果我们假设每一行占用内存中的一个位置，从 0 开始编号，那么位置 8 处的数据就是表示为 的行`neg1`，其中包含 -1。

`start`第 3 行是另一个符号，它允许程序员从其他地方引用这部分代码。在这种情况下，它显然是一个循环。

该行在添加时递减寄存器`-1`。（它似乎又引用了寄存器 1、2 和 1 - 所以大概 reg1 既是输入又是输出，而包含 -1 的 reg2 是另一个输入）。

其余代码只是循环（beq 指令似乎允许比较 - 它正在检查两个寄存器是否相等，如果相等，则分支）。第一个分支检查 reg1 == 0，并使用数字分支目标 2，这可能只是向前跳转 2 条指令。第二个分支是检查是否 0 == 0，这总是正确的，然后跳转到符号`start`，它在汇编时再次变成一个数值（可能是 -2，返回两条指令到`start`实际位置）。

最后三行只是声明了程序使用的一些数据（实际上最后一行似乎是多余的，但我不知道这个虚构的架构）。

# javascript - 在 Chrome 中拦截 [HTMLElement].innerHTML 修改

> ID：14411288
> 
> 赞同：1
> 
> 时间：2013-01-19T05:08:18.700
> 
> 标签：javascript, google-chrome, google-chrome-extension

我有一个名为 x() 的函数。每次更改任意节点的 innerHTML 属性时，我都想调用 x() （请注意，我希望为所有节点调用 x()，而不仅仅是 1 个节点）。最初，我认为 innerHTML 是 HTMLElement 对象的一个​​函数，并想对其进行修补，但在 Chrome 的 Javascript 控制台中玩耍后，我未能在 HTMLElement 对象中找到 innerHTML 函数。

我还考虑过使用 DOMAttrModified 事件（http://help.dottoro.com/ljdchxcl.php），但 Chrome 不支持它。欢迎任何建议。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2016-08-04T18:27:20.440

@Cecchi 的回答很酷，但它不是一个真正的猴子补丁，它全局适用于所有 HTMLElement 实例。自该答案以来，浏览器具有新功能。

这很棘手，因为`HTMLElement.prototype.innerHTML`它是一个二传手，但我能够让它像这样工作：

```
//create a separate JS context that's clean
var iframe = document.createElement('iframe');

//have to append it to get access to HTMLElement
document.body.appendChild(iframe);

//grab the setter. note that __lookupSetter__ is deprecated maybe try getOwnPropertyDescriptor? anyways this works currently
let origSetter = iframe.contentWindow.HTMLElement.prototype.__lookupSetter__('innerHTML');

//mangle the global HTMLElement in this JS context
Object.defineProperty(HTMLElement.prototype, 'innerHTML', {
    set: function (val) {
        console.log('innerHTML called', val);
        // *** do whatever you want here ***
        return origSetter.call(this, val); //allow the method to be called like normal
    }
}); 
```

现在来测试它：

```
document.createElement('div').innerHTML = '<p>oh, hey</p>';
//logs: innerHTML called <p>oh, hey</p> 
```

这是一个 JSBin [http://jsbin.com/qikoce/1/edit?js,console](http://jsbin.com/qikoce/1/edit?js,console)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-19T05:19:24.603

根据您的开发目标和所需的浏览器支持（听起来就像 Chrome，希望只是现代 Chrome），您可以查看界面（示例从[Mozilla Hacks 博客](http://hacks.mozilla.org/2012/05/dom-mutationobserver-reacting-to-dom-changes-without-killing-browser-performance)`MutationObserver`借用并稍作修改：

```
MutationObserver = window.MutationObserver || window.WebKitMutationObserver;

// create an observer instance
var observer = new MutationObserver(function(mutations) {
  mutations.forEach(function(mutation) {
    console.log(mutation.type);
    x(mutation.target);
  });    
});

// configuration of the observer:
var config = { attributes: true, childList: true, characterData: true };

// select the target nodes
Array.prototype.slice.apply(
    document.querySelectorAll('.nodes-to-observe')
).forEach(function(target) {
    observer.observe(target, config);
});

// later, you can stop observing
observer.disconnect(); 
```

更多关于`MutationObserver`s 的信息可以在这里找到：

[https://developer.mozilla.org/en-US/docs/DOM/MutationObserver](https://developer.mozilla.org/en-US/docs/DOM/MutationObserver)

这是在 Chrome 18 和 Firefox 14 中实现的。

# asp.net-mvc - 多系统的 MVC 表单身份验证

> ID：14411294
> 
> 赞同：0
> 
> 时间：2013-01-19T05:08:50.067
> 
> 标签：asp.net-mvc, forms-authentication

我在 MVC 方面没有太多经验，并且正在查看很多不符合我需要的身份验证示例。

我需要从一个 MVC 应用程序提供对多个系统的访问。每个系统都管理自己的身份验证并提供类似的数据（即系统 X 和系统 Y 都提供小部件列表）。此外，用户可以同时登录到 System X 和 System Y，并且能够从一个或另一个查看小部件，而无需重新提示输入凭据。

我的计划是使用简单的路线 {controller}/{action}/{systemName}（即 Widgets/Index/SystemX）。细节很模糊，但我认为我需要一个自定义 AuthorizeAttribute 和一个 SessionProvider。SessionProvider 将处理登录到系统，该系统返回一个 sessionID。当我从每个系统查询数据时使用这个 sessionID。最模糊的细节之一是为会话中的每个系统存储用户信息（系统名称、用户、会话 ID）的最佳方式。会话状态？饼干？FormsAuthenticationTicket？还有什么？

我很想利用 ASP.NET 和 MVC 中已有的东西，但我不需要用户数据库。

欢迎任何批评或建议。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-19T10:31:41.857

如果 SystemX 和 SystemY 是同一应用程序的不同区域，则使用 ASP.NET MVC 的区域功能可能会更好。这使您可以将应用程序划分为多个区域，这些区域在逻辑上相关的控制器、视图、模型等组可以被划分为多个区域。

*   [演练：使用区域组织 ASP.NET MVC 应用程序](http://msdn.microsoft.com/en-us/library/ee671793%28v=vs.100%29.aspx)

    > 例如，单个大型电子商务应用程序可能被划分为代表店面、产品评论、用户帐户管理和采购系统的区域。每个区域代表整个应用程序的一个单独功能。

每个区域都可以有自己的 web.config 和身份验证方法（例如[ASP.Net MVC 3 区域和混合模式身份验证](https://stackoverflow.com/questions/6279139/asp-net-mvc-3-areas-and-mixed-mode-authentication)），因此这可能会有所帮助。

* * *

如果 SystemX 和 SystemY 本质上是相同的小部件列表功能，但只是针对不同的客户端，您可能需要查看[ASP.NET MVC 中的多租户](http://codeofrob.com/entries/multi-tenancy-in-asp.net-mvc---why-do-we-want-it.html)。

# ruby-on-rails - 两个用户相关的表？

> ID：14411295
> 
> 赞同：0
> 
> 时间：2013-01-19T05:08:51.643
> 
> 标签：ruby-on-rails, devise

我正在制作一个带有用户模型的应用程序，该模型将使用设计进行身份验证。我还使用我已经拥有的大量数据为其播种，并为我预计拥有的数据（例如社交网络配置文件和我还没有的个人信息）制作列。随着表列开始加起来，我想到我可能会创建一个 User 表来存储身份验证数据，然后创建某种 User_Profile 表来获取有关将显示在其个人资料页面上的用户的详细信息。我想知道这是否是一个更好的主意，或者只是将所有内容都放在一个表中，然后继续添加更多与我认为的用户相关的列。

```
User.create!(

               devise related columns ommitted....

               firstname: "Marcy",
               middle: "Eve",
               lastname: "Bishopf",
               sex: "f",
               company: "Johnston Windows",
               address: "210-3260 North Dr",
               city: "Victoria",
               province: "BC",
               postal: "V9T 1XS",
               email: "mb@blahblah",
               phone: "(250) 756-3777",
               website: ""
               twitter: "",
               facebook: "",
               linkedin: "",
               year: "",
               school: ""
               motto: ""

               more columns for personal data that I haven't thought of yet

               ) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-19T05:20:08.767

如果我理解正确，您需要将用户身份验证以及用户元数据（名称和其他配置文件字段）保留在数据库中。
您绝对应该规范化数据库，首选用于身份验证的用户表以及由用户表中的 user_id 引用的单独用户配置文件表。

这很重要，原因如下：

1.  当用户需要登录时，您只需根据用户表检查密码的哈希值。
2.  当用户登录时，您可以简单地使用登录用户的 user_id 从用户配置文件表中获取配置文件。
3.  将新列添加到用户配置文件表时，您的用户表不受影响。
4.  但是，当您的用户数量很大时，更改表用户配置文件可能是锁定表的昂贵操作。

# r - 是否可以叠加 SpatialLinesDataFrame 和 SpatialPolygonDataFrame

> ID：14411296
> 
> 赞同：4
> 
> 时间：2013-01-19T05:09:01.120
> 
> 标签：r, map, plot, gis, clip

我想知道这是否可以做到这一点 R 。

我有一个数据作为 SpatialLinesDataFrame，另一个作为 spatialPolygonDataFrame。是否可以叠加这两个数据？

当我尝试覆盖这些时，我收到以下错误：

```
 jd <- overlay(res,hello) 
  Error in function (classes, fdef, mtable)  :  unable to find an inherited method for function      
  ‘overlay’ for signature ‘"SpatialLinesDataFrame", "SpatialPolygonsDataFrame"’ 
```

在上面的代码中 res 是 SpatialLinesDataFrame 而 hello 是 SpatialPolygonDataFrame。

我有一个 shapefile，然后我有 x,yand z 坐标的数据点。我想在 shapefile 上显示等高线。

我使用的过程是使用 akima 包进行插值。我用来插值的代码是

```
fld <- interp(x,y,z) 
```

然后我使用以下代码将其更改为空间对象：

```
res <-ContourLines2SLDF(contourLines(fld)) 
```

上述命令会将等高线存储为空间数据。

然后我阅读了 shapefile 并绘制了 shapefile 和 res 如下：

```
p1 <-
spplot(hello,sp.layout=list(list("sp.lines",res)),col="blue",lwd=0,fill="grey",colorkey=F)
p1 
```

"hello" is my shapefile and "res" is the object I created as shown above.

The problem is contour stored in "res" extends beyond the shapefile. So I want to clip that contour with the shapefile and only display the contour within the shapefile area.

So I am looking for a way to clip the contour layer with the polygon layer.

I have attached the image I got with my code. ![enter image description here](../Images/355f481629cadd19a4b5575681d913d1.png)

In the image you can see the lines out of the shapefile. I also want to know how can I display the contour levels on the map.

Thank you so much.

Jdbaba

I also want to know what does overlay does exactly. Does it intersect the area of both the data ?

Thank you.

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-19T15:07:53.617

It sounds like you're trying to clip your lines to the polygon extent. Use `gIntersection` from the `rgeos` package. Here's a reproducible example:

```
library(rgeos)
xx <- SpatialPoints(coords=matrix(data=c(0,0), nrow=1))
xx <- gBuffer(spgeom=xx, width=1)
yy <- SpatialLines(list(Lines(Line(matrix(c(-1,1,-1,1), nrow=2)), ID=1)))
zz <- gIntersection(yy, xx) 
```

You can overlay the plot like so:

```
plot(xx)
plot(zz, add = TRUE, col = "blue") 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-08-02T13:49:01.293

Noah's answer has worked quite well for me. However, the output of his answer is a SpatialLines object, which cannot be saved as a shape file.

My two cents here is about how you can convert your SpatialLines object into a SpatialLinesDataFrame and save it as a shape file.

```
res.df <- fortify(res) # create data frame of res, your original SpatialLinesDataFrame

data <- data.frame(id = unique(res.df$id)) # get ids of road segments
rownames(data) <- data$id

# transform SpatialLines object into SpatialLinesDataFrame
zzSpatialLineDF <- SpatialLinesDataFrame(zz, data) # convert zz object keeping road ids

# 5 Save Shape File to your working directory
writeOGR(zzSpatialLineDF, dsn = '.', layer ='zzSpatialLineDF', driver = 'ESRI Shapefile') 
```

# c++ - 操作结果未分配给变量？

> ID：14411302
> 
> 赞同：0
> 
> 时间：2013-01-19T05:09:58.103
> 
> 标签：c++, bit-manipulation

我在 C++ 中有一个奇怪的问题，我确定我遗漏了一些明显的东西，但无法弄清楚是什么。

该函数的目的是设置变量的一些位。从我的测试来看，这一切似乎都有效，但是看起来操作的结果没有分配回变量。

```
uint16_t setBits(uint16_t target, unsigned int source, int offset, int bitCount) {
    unsigned int mask = ~0;
    mask = mask >> ((sizeof(mask) * 8) - bitCount);
    int rightShift = (sizeof(mask) * 8 - bitCount - offset);
    mask = mask << rightShift;
    source = source << rightShift;
    printHex(target);
    printHex((target & ~mask) | (source & mask));
    target = (target & ~mask) | (source & mask);
    printHex(target);
    return target;
}

uint16_t group;
group = 0xabcd;
unsigned int source = 0x12;
group = setBits(group, source, 4, 8); 
```

这将打印：

```
0x0000abcd
0x0120abcd
0x0000abcd 
```

这对我来说意味着`(target & ~mask) | (source & mask)`给出正确的结果（0x0120abcd），但是这个结果没有被分配回`target`（仍然设置为 0x0000abcd）。知道我做错了什么吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-19T05:12:06.133

查看类型`target`：

```
uint16_t target 
```

它只有 16 位，但您尝试掩盖比这更高的位。

# python - Python 3.3.0 中的无效语法打印

> ID：14411303
> 
> 赞同：5
> 
> 时间：2013-01-19T05:10:02.723
> 
> 标签：python, printing, syntax-error

> **可能重复：**
> [使用 Python 3 打印时出现语法错误](https://stackoverflow.com/questions/826948/syntax-error-on-print-with-python-3)

我试图在 python 3 中做阶乘，无论我说什么都告诉我同样的事情“无效的语法：语法错误”......为什么它给我一个错误？谢谢

版本是

```
Python 3.3.0 (v3.3.0:bd8afb90ebf2, Sep 29 2012, 10:57:17) [MSC v.1600 64 bit (AMD64)] on win32 
```

这就是我想做的

```
>>> def fact(n):
... res = 1
... while n > 1: 
... res *= n
... n -= 1
... return res 
```

当我尝试打印时

```
>>> print fact(23) 
```

它告诉我 SyntaxError: invalid syntax

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-01-19T05:10:51.917

在 python 3.x中[print](http://docs.python.org/3/library/functions.html?highlight=print#print)是一个函数。试试`print(fact(23))`吧。

# ios - Cocos2D 2.0 - 更改 CCParticle 的颜色

> ID：14411310
> 
> 赞同：0
> 
> 时间：2013-01-19T05:11:38.470
> 
> 标签：ios, cocos2d-iphone, ccparticlesystem, cctexturecache

所以在玩弄了我的游戏之后，我发现了一件关于 CCParticle 的事情想和大家分享。

*   如何更改 CCParticleSystem 中粒子的颜色？

*   当我在 cocos 1.x 上时，我可以用 startColor、endColor 来改变它，但是在 2.0 中，每当我这样做时，它都会保持黑色。为什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-19T05:11:38.470

A：在Cocos2D 2.0中，它保持不变，但与1.x不同的是，你必须首先确保粒子纹理是白色的，否则它不会与你想要的颜色混合！还要确保正确添加了纹理，因为如果没有，它将显示大的黑色像素，这可能不是您想要的结果！

# php - PHP字符串到嵌套数组

> ID：14411317
> 
> 赞同：1
> 
> 时间：2013-01-19T05:12:30.917
> 
> 标签：php, arrays, multidimensional-array

我需要从 ldap 查询转换字符串。我正在向我的 Active Directory 服务器查询用户帐户。这是我拉的绳子。

```
"CN=Phil Robertson,OU=Users,OU=Duck Commander,OU=Department & Buildings,DC=OCSDtest,DC=local" 
```

我希望它转换为一个看起来像这样的数组

```
 $array['local']['OCtest']['Department & Buildings']['Duck Commander']['Users']['Phil Robertson']=1; 
```

不是

```
$array( [1]=>'local,[2]=>'OCtest',[3]='Depart',[4]='Duck Commander',[5]='Users'); 
```

到目前为止我有

示例代码---

```
 $dnn2 = ldap_explode_dn("CN=Phil Robertson,OU=Users,OU=Duck Commander,OU=Department &       Buildings,DC=OCSDtest,DC=local",1);
    unset($dnn2['count']);
    echo "<pre>";
    print_r(array_reverse($dnn2)); 
```

我需要什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-19T05:37:12.337

试试这个

```
 $arrayvalue = array();
    foreach($dnn2 as $dn)
    {
       $temp  = explode('=',$dn);
       $temp1 =  substr($temp[1], 0, strpos($temp1[1], ',')); 
       $arrayvalue[]  = $temp1;
    }

    print_r($arrayvalue); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-19T05:26:11.343

试试这个

```
$a = array();
foreach($dnn2 as $dn)
{
   $arr = explode('=',$dn);
   $a[] = $arr[1];  //or $a[] = array($arr[1]); for 6 dimensional array
}

print_r($a); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-19T06:09:31.627

```
$dnn2 = ldap_explode_dn("CN=Phil Robertson,OU=Users,OU=Duck Commander,OU=Department &       Buildings,DC=OCSDtest,DC=local",1);
unset($dnn2['count']);
$result = null;
$ref =& $result;
foreach (array_reverse($dnn2) as $dn) {
    $ref = array($dn => null);
    $ref =& $ref[$dn];
}
print_r($result); 
```

# asp.net - 在asp.net C#中将图像从本地计算机复制到服务器

> ID：14411320
> 
> 赞同：0
> 
> 时间：2013-01-19T05:13:22.897
> 
> 标签：asp.net

我需要将图像从 C:/images 文件夹复制到我在服务器中运行的 Web 应用程序文件夹中。我使用了以下代码，它在本地应用程序中运行良好，但在服务器中不起作用

```
 string sourcePath = @"D:\images";
   //string destinationPath = @"D:\a";
   string destinationPath = Server.MapPath("SMSImages") + "\\";
   if (System.IO.Directory.Exists(sourcePath))
   {
      string[] files = System.IO.Directory.GetFiles(sourcePath);
       foreach (string s in files)
        {

         fileName = Path.GetFileName(s);
         destFile = Path.Combine(destinationPath, fileName);
         File.Copy(s, destFile, true);

       } 
```

如何复制

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-19T05:25:10.300

服务器通常对 IIS 用户有很多安全限制。

检查您运行 asp.net 进程的用户是否有权访问此路径。

您可以记录此代码中发生的异常，以查看它是否导致访问冲突。

以下代码可以帮助您检查代码是否有权访问

```
 UserFileAccessRights rights = new UserFileAccessRights(sourcePath);
 if (rights.canWrite() && rights.canRead()) {
     lblLogMsg.Text = "R/W access";
 } else {
     if (rights.canWrite()) {
        lblLogMsg.Text = "Only Write access";
     } else if (rights.canRead()) {
         lblLogMsg.Text = "Only Read access";
     } else {
         lblLogMsg.Text = rights.ToString();
     }
 } 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-10-11T10:35:28.367

它不起作用，因为程序在服务器中搜索 D:\ 路径而不是在本地系统中。

# javascript - 对使用索引和字符串进行多维的 javascript 数组感到困惑

> ID：14411322
> 
> 赞同：0
> 
> 时间：2013-01-19T05:13:55.360
> 
> 标签：javascript, multidimensional-array

我有一种情况，我希望构建一个可以通过以下方式访问的数组：

```
myArray['Foo'].push(myObj); 
```

但我不知道如何从头开始创建它。从我读过的内容来看，我认为以下可能会做到这一点：

```
var myArray = new Array(new Array()); 
```

问题是它只允许我使用整数来引用 myArray[]。如果我忽略此限制并尝试以下操作，则会错误提示它没有 .push()：

```
myArray[i].push(myObj); 
```

我想这是因为 myArray[i] 返回一个字符串？

所以我的问题是，如何构建一个动态数组，在其中使用字符串引用第一个维度，然后可以在第二个维度上推送和弹出？另外，如果我采用这种方法，我可以使用 push 和 pop 将字符串添加到第一个维度吗？

* * *

我之前考虑过这一点，并写了一些我认为可能有效的代码，它确实如此。

```
var myArray = new Object();

var myObj = new Object();
var myObj2 = new Object();
var myObj3 = new Object();

myObj.name = "Harry";
myObj2.name = "Curly";
myObj3.name = "Moe";

myArray["first"] = new Array()
myArray["first"].push(myObj);
myArray["first"].push(myObj2);
myArray["first"].push(myObj3);

myArray["second"] = new Array()
myArray["second"].push(myObj2);

myArray["third"] = new Array()
myArray["third"].push(myObj3);

iterate(myArray, "first");
iterate(myArray, "second");
iterate(myArray, "third");

function iterate(array, name) {
    for(i = 0, l = myArray[name].length; i < l; i++) {
        console.log(" " + name + ": " + i + " value " + myArray[name][i].name);
    }
} 
```

以上是正确的方法吗？

* * *

我确定我在上面遇到了一些术语问题，请告诉我，我会对其进行编辑，使其正确。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-19T05:38:50.937

您所调用`myArray`的不是数组，而是对象。以下任一项都是可以接受的：

```
var myObject = {}
var myObject = new Object(); 
```

以下所有行都做同样的事情；他们在对象“myObject”中创建一个名为“first”的键并存储一个新的空数组（您可以将其推入其中）：

```
myObject['first'] = new Array();
myObject['first'] = [];
myObject.first = new Array();
myObject.first = []; 
```

现在你可以推入这个数组：

```
myArray["first"].push("hello"); 
```

这是另一种从头开始编写的方法：

```
var myObject = {
    first: ["hello"]
}; 
```

因此，也许现在您的问题的答案变得更加清晰：

> 如何构建一个动态数组，其中我使用字符串引用第一个维度，然后可以在第二个维度上推送和弹出？

通过使“第一个”或外部维度成为对象而不是数组。

> 另外，如果我采用这种方法，我可以使用 push 和 pop 将字符串添加到第一个维度吗？

不，但你可以使用

```
myObject.somewhereNew = []; 
```

# mercurial - 如何解决找不到匹配项的反复无常的冲突？

> ID：14411328
> 
> 赞同：0
> 
> 时间：2013-01-19T05:14:50.833
> 
> 标签：mercurial, tortoisehg, branching-and-merging

我已经设法真正让我的回购进入一个状态，我没有修复它所需的疯狂技能，我们将不胜感激。

我正在尝试合并/更新，以便我在单独的分支中开发的工作正确地集成到我的本地分支中。

当我在 rev 284 上运行并运行合并时，我收到以下错误：

> % hg --repository C:\Projects\foo merge --verbose --tool=internal:merge 284 abort: data/Web/Utilities/Extensions/RegexExtensions.cs.i@364e78cf7bcb: 找不到匹配项！[命令返回代码 255 Sat Jan 19 16:12:54 2013]

我正在使用 tortoisehg，并试图寻找解决方案，但我不知道如何解决此错误？

在这种情况下发生了什么，是文件已在一个分支中删除，我猜另一个分支中存在？

如何解决？

![这就是它现在的样子](../Images/24242fa3ced1a2fb5e3dc71f9e939bcf.png).

编辑1：

正在摆弄，也发现了这个：

```
#!python
** Mercurial version (2.4.2).  TortoiseHg version (2.6.2)
** Command: --nofork workbench
** CWD: C:\Projects\foo
** Encoding: cp1252
** Extensions loaded: 
** Python version: 2.7.3 (default, Apr 10 2012, 23:24:47) [MSC v.1500 64 bit (AMD64)]
** Windows version: sys.getwindowsversion(major=6, minor=1, build=7600, platform=2, service_pack='')
** Processor architecture: x64
** Qt-4.8.0 PyQt-4.9.1
Traceback (most recent call last):
  File "tortoisehg\hgqt\repowidget.pyo", line 1678, in visualDiffToLocal
  File "tortoisehg\hgqt\visdiff.pyo", line 213, in visualdiff
  File "mercurial\copies.pyo", line 166, in pathcopies
  File "mercurial\copies.pyo", line 151, in _backwardcopies
  File "mercurial\copies.pyo", line 138, in _forwardcopies
  File "mercurial\copies.pyo", line 106, in _tracefile
  File "mercurial\context.pyo", line 722, in ancestors
  File "mercurial\context.pyo", line 546, in parents
  File "mercurial\util.pyo", line 246, in __get__
  File "mercurial\context.pyo", line 399, in _filenode
  File "mercurial\revlog.pyo", line 776, in lookup
LookupError: data/web/Utilities/Extensions/RegexExtensions.cs.i@364e78cf7bcb: no match found 
```

编辑2：

我已经设法合并了我需要的大部分修订，我现在只剩下一个损坏的分支。

我现在如何丢弃该修订/分支？

![](../Images/6e750e8f62fbcf612b5987fd7c0153fe.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-19T06:31:02.137

合并的 CLI 版本（截图 - 可能稍后）

```
hg up
hg merge 297
hg commit -m "Merge 1"
hg merge 284
hg commit -m "Merge 2" 
```

如果您想在其他一些点合并：修复更新目标（此时您将合并）并合并源

# ios6 - 使用 UIBeizerpath 在 imageContext 上绘制圆角矩形不起作用

> ID：14411337
> 
> 赞同：1
> 
> 时间：2013-01-19T05:15:37.810
> 
> 标签：ios6, core-graphics

当用户触摸在 iPad 上移动时，我需要绘制一个圆角矩形。这是我的代码，它在触摸移动时显示黑色圆角矩形，在触摸结束时显示选定颜色。谁能告诉我原因？

```
- (void)drawRect:(CGRect)rect
{

    [path setLineWidth:lineSize];
    [selectedColor setStroke];

    [drawImage drawInRect:rect]; // (3)
      [path fill];
  }

-(void)touchesBegan:(NSSet *)touches withEvent:(UIEvent *)event
{
    UITouch *touch = [touches anyObject];
    CGPoint p = [touch locationInView:self];
    startPoint=p;
}

-(void)touchesMoved:(NSSet *)touches withEvent:(UIEvent *)event
{
    UITouch *touch = [touches anyObject];
    CGPoint p = [touch locationInView:self];
      float x=startPoint.x;
        float y=startPoint.y;
        float z=p.x-startPoint.x;
        float a=p.y-startPoint.y;

        if (z<0 && a<0) {
            x=p.x;
            y=p.y;
            z=startPoint.x-p.x;
            a=startPoint.y-p.y;
        }
        else if (a<0)
        {
            x=startPoint.x;
            y=startPoint.y;
            z=p.x-startPoint.x;
            a=startPoint.y-p.y;
        }
        else if(z<0)
        {
            x=startPoint.x;
            y=startPoint.y;
            z=startPoint.x-p.x;
            a=p.y-startPoint.y;

        }

        path = [UIBezierPath bezierPathWithRoundedRect:CGRectMake(x,y,z,a) cornerRadius:10.0];

        [self setNeedsDisplay];

}

-(void)touchesEnded:(NSSet *)touches withEvent:(UIEvent *)event
{
    UITouch *touch = [touches anyObject];
    CGPoint p = [touch locationInView:self];
       [self drawBitmap];
        [self setNeedsDisplay];
  }

- (void)drawBitmap // (3)
{
    UIGraphicsBeginImageContextWithOptions(self.bounds.size, YES, 0.0);
     [selectedColor setStroke];
   if (!drawImage) // first draw; paint background white by ...
    {
        UIBezierPath *rectpath = [UIBezierPath bezierPathWithRect:self.bounds]; // enclosing bitmap by a rectangle defined by another UIBezierPath object
        [[UIColor whiteColor] setFill];

        [rectpath fill]; // filling it with white
    }

    [drawImage drawAtPoint:CGPointZero];
       [selectedColor setFill];
        [path fill];
          drawImage = UIGraphicsGetImageFromCurrentImageContext();
   UIGraphicsEndImageContext();
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-04-23T12:26:55.767

编辑您的`initWithFrame`方法以使 UIView 的背景变为白色。

```
- (id)initWithFrame:(CGRect)frame
{
    self = [super initWithFrame:frame];
    if (self) {
        // Initialization code
        self.backgroundColor = [UIColor clearColor];
    }
    return self;
} 
```

# javascript - 哪种编程语言有完整的 Gnome 3 实现 API（绑定）？

> ID：14411341
> 
> 赞同：-1
> 
> 时间：2013-01-19T05:16:07.563
> 
> 标签：javascript, python, linux, vala, gnome-3

据我所知，有几种编程语言可以为 Gnome 3 开发程序（Python、JavaScript、Vala、C、C++）。

我想知道哪种语言具有完整的 Gnome 3 绑定实现 API，以及哪种语言支持完整的应用程序开发工具生命周期（UI 设计器、测试框架、IDE ......）？

我将使用 JavaScript 是否是一个很好的选择来解决上述问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-19T08:59:33.500

我想说 Vala 具有最完整的绑定，而且如果它们不能正常工作，您可以轻松地为您自己的项目修改现有绑定，与在其他语言中使用纯 gobject 内省相比，这使其成为一个可靠的选择。但我有偏见:)

然而，Vala 的开发工具较少。

# html - 允许 HTML5 数字输入中的特殊字符/分数

> ID：14411343
> 
> 赞同：1
> 
> 时间：2013-01-19T05:16:17.710
> 
> 标签：html

我有一个 html5 数字输入：`<input type="number" />`

我希望它接受分数和混合数字，例如 38 1/2 以及整数和小数。

我解析分数服务器端。

目前，当输入失去焦点时，浏览器会将输入更改为 38。

当前的解决方法是使用纯文本输入，但我希望`type="number"`在移动设备上使用特定键盘等好处。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-19T06:46:52.307

该`<input type="number">`元素被定义为创建一个依赖于浏览器的、依赖于浏览器区域设置的输入控件，用于输入数字。没有办法在您的文档中更改它，除非您可以使用属性来指定范围和精度。所以浏览器*可以*接受 38 1/2 并在内部将其转换为 38.5，但没有办法说它*应该*，更不用说强迫它这样做了。此外，数字的内部格式（传递给服务器）是严格定义的；例如，它不能是 38 1/2。

所以你需要使用纯文本输入或一些特殊的小部件（用 JavaScript 编程）。您可以使用该`pattern`属性以某种方式指定允许的格式，至少是允许的字符集；这可能会或可能不会影响触摸设备上显示的屏幕键盘（对于当前设备，它可能不会）。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2015-01-30T22:36:53.067

我们最近遇到了同样的问题。

我们的目标是...

1.  允许用户在所有设备上输入分数、小数和整数
2.  在移动设备上显示数字键盘

如果我们简单地使用`type='number'`，大多数桌面浏览器会阻止我们输入斜线字符。在移动版 Safari 中，我们可以输入斜线（例如 2/3），但浏览器会将值转换为空字符串，因为它不是严格的数字。

我们的解决方案是**暂时**将输入类型更改`number`为我们想要显示数字键盘的设备。

我们的解决方案如下所示：

```
var elmInput = document.getElementById("elmID");
if (/(iPad|iPhone|iPod|Android)/g.test(navigator.userAgent)) {
    elmInput.setAttribute("type", "number");
    elmInput.focus();    // brings up numeric keyboard
    setTimeout(function () {elmInput.setAttribute("type", "text"); }, 200);
} 
```

我们已经在多个 iOS 设备上进行了测试，并且我们看到了预期的行为。显然，该解决方案仅限于这些设备。此外，万一用户在不到 200 毫秒的时间内提交表单，他将遇到前面提到的空字符串问题。

我们的情况显然是独一无二的，因为我们只处理一个可以触发焦点的元素。然而，类似的方法可以通过使用 CSS 类选择器来工作。您可以将`number`移动设备的类型设置为，然后`text`在聚焦时更改回。

# c# - 如何在 WinForms UserControl 中管理一次性对象？

> ID：14411351
> 
> 赞同：2
> 
> 时间：2013-01-19T05:16:58.497
> 
> 标签：c#, winforms, user-controls, dispose

我试图弄清楚我是否可以在`UserControl`. 我已经通过在父表单中管理它来解决它，但这似乎应该是可能的。

我发现的问题是我无法覆盖 Dispose，因为`UserControl`它实现了它，但它不是虚拟的。

有没有办法在不将逻辑委托给父表单的情况下解决这个问题？

```
public partial class MyControl : UserControl {
  MyContext context;
  public void Add(Widget widget) {
    if(this.context== null)
      this.context= new MyContext();
    context.Add(objectToAdd);
  }
  public void Save() {
    if(context!= null)
      context.Save();
  }
  // --> I'd like to override Dispose() so I can call context.Dispose()
  //     but I can't because UserControl implements it and it is not virtual
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-19T05:18:35.087

在这种情况下，我将生成的 Dispose 方法移动到主文件并扩展它。Visual Studio 尊重这一点。

另一种方法是使用部分方法（C# 3.0）。

链接在这里：[如何将 Dispose 功能添加到 C# UserControl？](https://stackoverflow.com/questions/167602/how-do-i-add-dispose-functionality-to-a-c-sharp-usercontrol)

# html - 如何在表格单元格中将带有文本的复选框居中？

> ID：14411355
> 
> 赞同：0
> 
> 时间：2013-01-19T05:17:43.633
> 
> 标签：html, html-table

我在对齐表格单元格中的复选框时遇到问题

```
<table style="empty-cells:hide;" border="1"   cellpadding="1" cellspacing="1">

<tr>
    <td valign="top">
        test 1 - 
        <input type="checkbox" name="query_myTextEditBox">    
        test 2 - 
        myTextEditBox
        <select size ="3" name="myTextEditBox_compare_operator">
            <option value="1">option 1</option>
            <option value="2">option 2</option>
        </select>
    </td>

    <td valign="top">
        <input type="text" value="my text" name="myTextEditBox">
    </td>

</tr> 
```

[我在 jsfiddle.net 上的测试](http://jsfiddle.net/dsea/QCr3a/1/)

出于某种特定原因，我不想将文本和复选框分成 2 个单元格

我确实看到了这篇文章[如何在表格单元格中将复选框居中？](https://stackoverflow.com/questions/5048485/how-to-center-a-checkbox-in-a-table-cell)但这对我不起作用。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-19T05:33:55.867

添加`style="vertical-align:top"`到`<select>`元素。

# asp.net - 如何在 asp.net razor 网页上安装字体

> ID：14411361
> 
> 赞同：1
> 
> 时间：2013-01-19T05:18:44.680
> 
> 标签：asp.net, razor

我试图在页面加载之前加载 ttf 字体，以便用户可以在表单中输入该字体但没有运气，我确实在站点的根目录中创建了一个名为“font”的文件夹，并在 css 中添加了下面的行但没有运气，请帮忙

```
<style>
    @@font-face { 
        font-family: myfont !important; 
        src: url('/fonts/myfont.ttf') format("truetype"); }

</style> 
```

注意：我不是在做MVC，只是asp.net网页，谢谢

# c# - 无法访问添加到类库的新类

> ID：14411368
> 
> 赞同：2
> 
> 时间：2013-01-19T05:20:02.327
> 
> 标签：c#, .net, visual-studio-2012

我有一个类库，我向其中添加了另一个类，无论我尝试什么，它都不会在我引用该库的项目中可用。我在这个库中创建的原始类引用和使用没有问题。

我已经尝试了以下所有方法：

1.  清理项目解决方案
2.  保存并重建调试和发布
3.  关闭项目并重新打开
4.  我想参考的图书馆项目的第一步到第三步

在我想从中引用库的项目中，我尝试从折叠的 bin/release 加载 .dll，并在 obj/release 文件夹中加载主库项目 .dll。Neater 有所作为，因为我仍然无法进入我添加到库中的新类。我从 bin 中折叠的版本中引用 DotNetOpenAuth_Library.dll。

如果这有所作为，我正在使用上周下载的 VS 2012 Express for Web。

我添加到我的库中没有构建错误的类是：

```
namespace DotNetOpenAuth_Library
{
    class EmbeddedResourceUrlService : IEmbeddedResourceRetrieval
    {
        private static string pathFormat = "{0}/Resource/GetWebResourceUrl?    assemblyName=    {1}&typeName={2}&resourceName={3}";
        //private static string pathFormat = "{0}/Resource/GetWebResourceUrl";

        public Uri GetWebResourceUrl(Type someTypeInResourceAssembly, string     manifestResourceName)
    {
        if (manifestResourceName.Contains("http"))
        {
            return new Uri(manifestResourceName);
        }
        else
        {
            var assembly = someTypeInResourceAssembly.Assembly;

            // HACK
            string completeUrl = HttpContext.Current.Request.Url.ToString();
            string host = completeUrl.Substring(0,
                completeUrl.IndexOf(HttpContext.Current.Request.Url.AbsolutePath));

            var path = string.Format(pathFormat,
                        host,
                        HttpUtility.UrlEncode(assembly.FullName),
                        HttpUtility.UrlEncode(someTypeInResourceAssembly.ToString()),
                        HttpUtility.UrlEncode(manifestResourceName));

            return new Uri(path);
        }
    }
} 
```

}

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-19T05:22:56.637

将 public 放在类定义的前面。如果该类被标记为 internal ¹，则它只能由同一程序集²中的其他类访问。

```
namespace DotNetOpenAuth_Library
{
    public class EmbeddedResourceUrlService : IEmbeddedResourceRetrieval
    {
        //(snip)
    }
} 
```

这是一个解释访问修饰符的[MSDN 链接。](http://msdn.microsoft.com/en-us/library/ms173121.aspx)

^(1：如果你不在类前面加上修饰符，它将默认为内部。)
^(2：除非你将其他程序集标记为[朋友程序集](http://msdn.microsoft.com/en-us/library/0tke9fxk.aspx))

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-19T05:23:40.207

在我看来，问题只是缺少访问修饰符。默认情况下，c# 编译器将类视为内部类。如果您将声明更改为

```
public class EmbeddedResourceUrlService : IEmbeddedResourceRetrieval 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-19T05:24:44.090

**EmbeddedResourceUrlService**类是私有的，使用 public 修饰符

```
namespace DotNetOpenAuth_Library
{
    // make class public
    public class EmbeddedResourceUrlService : IEmbeddedResourceRetrieval
    {
        private static string pathFormat = "{0}/Resource/GetWebResourceUrl?    assemblyName=    {1}&typeName={2}&resourceName={3}";
        //private static string pathFormat = "{0}/Resource/GetWebResourceUrl";

        public Uri GetWebResourceUrl(Type someTypeInResourceAssembly, string     manifestResourceName)
    {
        if (manifestResourceName.Contains("http"))
        {
            return new Uri(manifestResourceName);
        }
        else
        {
            var assembly = someTypeInResourceAssembly.Assembly;

            // HACK
            string completeUrl = HttpContext.Current.Request.Url.ToString();
            string host = completeUrl.Substring(0,
                completeUrl.IndexOf(HttpContext.Current.Request.Url.AbsolutePath));

            var path = string.Format(pathFormat,
                        host,
                        HttpUtility.UrlEncode(assembly.FullName),
                        HttpUtility.UrlEncode(someTypeInResourceAssembly.ToString()),
                        HttpUtility.UrlEncode(manifestResourceName));

            return new Uri(path);
        }
    }
} 
```

}

即使那时课程没有出现（已经发生了几次）

1.  清洁溶液
2.  从两个项目中删除所有 bin 文件夹
3.  全部重建

并且不会出现错误

# ios - 当我使用 UIImagePNGRepresentation 或 UIImageJPEGRepresentation 将 UIImage 转换为 NSdata 时，图像大小增加了太多

> ID：14411369
> 
> 赞同：14
> 
> 时间：2013-01-19T05:20:04.040
> 
> 标签：ios

**当我使用 UIImagePNGRepresentation 或 UIImageJPEGRepresentation 将 UIImage 转换为 NSdata 时，图像大小增加了太多。**

重现步骤：

1）打开 Xcode 并选择新项目作为基于单视图的应用程序

2) 打开 ViewController.xib 并添加两个按钮，名为 i)Test Online Image ii)Test Local image

3）添加两个IBAction

```
 i)  -(IBAction)ClickLocalImageTest:(id)sender;

  ii) -(IBAction)ClickOnLineImageTest:(id)sender; 
```

4）将“测试在线图像”连接到“ `-(IBAction)ClickOnLineImageTest:(id)sender`”

和“测试本地图像”到“ `-(IBAction)ClickLocalImageTest:(id)sender`;”

5）穿刺“ `-(IBAction)ClickLocalImageTest:(id)sender`”方法如下

```
- (IBAction)ClickLocalImageTest:(id)sender {
    NSLog(@"*************Test Local Image****************\n");
    NSString *path=[[NSBundle mainBundle] pathForResource:@"hero_ipad_retina" ofType:@"jpg"];
    NSLog(@"Before testing image size is :<---- %u kb",[[NSData dataWithContentsOfFile:path] length]/1024);
    UIImage *img  = [UIImage imageNamed:@"hero_ipad_retina.jpg"];
     NSLog(@"UIImagePNGRepresentation: image size is---->: %u kb",[UIImagePNGRepresentation(img) length]/1024);
    NSLog(@"UIImageJPEGRepresentation with scale 1.0: image size is---->: %u kb \n",[UIImageJPEGRepresentation(img, 1.0) length]/1024);
    NSLog(@"*************Completed test****************\n\n\n\n");
} 
```

6) 穿刺" `- (IBAction)ClickOnLineImageTest:(id)sender`"方法如下

```
- (IBAction)ClickOnLineImageTest:(id)sender {
     NSLog(@"*************Test Online Image****************\n");
NSLog(@"Before testing image size is :<---- %u kb",[[NSData dataWithContentsOfURL:[NSURL URLWithString:@"http://images.apple.com/home/images/hero_ipad_retina.jpg"]] length]/1024);
UIImage *img  = [UIImage imageWithData:[NSData dataWithContentsOfURL:[NSURL URLWithString:@"http://images.apple.com/home/images/hero_ipad_retina.jpg"]]];
NSLog(@"UIImagePNGRepresentation: image size is---->: %u kb",[UIImagePNGRepresentation(img) length]/1024);
NSLog(@"UIImageJPEGRepresentation with scale 1.0: image size is---->: %u kb \n",[UIImageJPEGRepresentation(img, 1.0) length]/1024);
NSLog(@"*************Completed test****************\n\n\n\n");
} 
```

[7)请从这里](http://images.apple.com/home/images/hero_ipad_retina.jpg)下载“hero_ipad_retina.jpg”图片并保存在名为“hero_ipad_retina.jpg”的资源中

7)现在在Xcode 4.0以后和IOS3.0以上SDK上运行这个项目

**

```
Expected Results:
1)Click on "Test Online Image" button result should be as following 
*************Test Online Image****************
Before testing image size is :<---- 78 kb
UIImagePNGRepresentation: image size is---->: 78 kb
UIImageJPEGRepresentation with scale 1.0: image size is---->: 78 kb
*************Completed test****************
2)1)Click on "Test Local image" button result should be as following
*************Test Local Image****************
Before testing image size is :<---- 78 kb
UIImagePNGRepresentation: image size is---->: 78 kb
UIImageJPEGRepresentation with scale 1.0: image size is---->: 78 kb 
*************Completed test****************
Actual Results:
1)Click on "Test Online Image" button result should be as following 
*************Test Online Image****************
Before testing image size is :<---- 78 kb
UIImagePNGRepresentation: image size is---->: 480 kb
UIImageJPEGRepresentation with scale 1.0: image size is---->: 180 kb
*************Completed test****************
2)1)Click on "Test Local image" button result should be as following
*************Test Local Image****************
Before testing image size is :<---- 78 kb
UIImagePNGRepresentation: image size is---->: 480 kb
UIImageJPEGRepresentation with scale 1.0: image size is---->: 180 kb 
*************Completed test****************** 
```

我的问题 ：

**为什么它正在增加它的大小？将图像转换为 NSData 的优化方法是什么？**

[注意：请从这里](http://images.apple.com/home/images/hero_ipad_retina.jpg)下载“hero_ipad_retina.jpg”图片并保存在您的资源中

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-01-19T05:56:42.737

“hero_ipad_retina.jpg”是压缩的 jpg 图像

这一行：

```
[[NSData dataWithContentsOfFile:path] length]/1024 
```

给出它的压缩文件大小......

这一行：

```
[UIImagePNGRepresentation(img) length]/1024 
```

*解压缩*图像并将其转换为*无损*文件格式 PNG。它的大小不可避免地要大得多。

这一行：

```
[UIImageJPEGRepresentation(img, 1.0) length]/1024 
```

*解压缩*图像并将其*重新压缩*为 JPG 表示形式。您已将质量设置为最高 (1.0)，因此 - 与无疑压缩为较低质量的原始文件相比 - 您将获得更大的文件大小。如果您将质量设置为 0.5，您将获得较小的文件大小（大约 42K）

这很好地提醒了您为什么应该谨慎对待 jpeg 图像。每次访问 jpeg imageRep 时，都在解压缩。如果您然后重新压缩 - 即使以全质量 - 您正在降低图像的质量（因为每次有损压缩都比以前更差）。图形图像（单色、直边/对比边缘）会增加伪影并变得特别明显。PNG 总是更安全——它在 24 位时是无损的，而在 8 位时则擅长处理纯色区域。

**更新**

要获取内存中图像的大小：

```
NSUInteger sizeInBytes  = 
  CGImageGetHeight(image.CGImage) * CGImageGetBytesPerRow(image.CGImage); 
```

从中您可以计算出 PNG、JPG 和原始文件的压缩率（千字节除以 1024 以获得与上述数字的正确比率）。

# python - 替换字符串中 50% 的字符（随机）

> ID：14411373
> 
> 赞同：2
> 
> 时间：2013-01-19T05:20:37.593
> 
> 标签：python, random, replace

我`replace()`用来扭曲数据，我希望有一个“高失真”设置，每个实例都被替换，一个“低失真”设置，每个实例有 50% 的机会被替换。例如：

```
x = "aaaaaaaaaa"
x = x.replace("a", "b")
'bbbbbbbbbb'

x = "aaaaaaaaaa"
x = x.5050replace("a", "b")
'aabbabbaab' 
```

没有重写`replace()`，有人怎么能做到这一点？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-19T05:23:13.190

使用[随机](http://docs.python.org/2/library/random.html)模块：

```
import random
x = ''.join(i if random.randint(0, 1) else 'b' for i in x) 
```

这段代码本质上“替换”了`x`if中的每个字母，`random.randint`计算结果为`0`with `'b'`，并保持原样。

如果您的字符串很复杂，`'aacakedaaasa'`并且您只想替换`'a'`s，请尝试以下操作：

```
x = ''.join(i if i != 'a' or random.randint(0, 1) else 'b' for i in x) 
```

如果字母 is not ，则不执行任何操作`'a'`，如果是，则将其替换为`'b'`if `random.randint`returns `0`，就像前面的示例一样。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-19T05:59:03.353

您可以使用[random.choice](http://docs.python.org/2/library/random.html#random.choice)从您的字符串和`b`大小相等的字符串中构建一个新列表

```
>>> from random import sample
>>> x = "aaaaaaaaaa"
>>> ''.join(random.sample(x + "b"*len(x), len(x)))
'baabbbbbba' 
```

**注意**这比使用 with 理解字符串快两倍`random.randint`

```
>>> stmt_ab = "''.join(random.sample(x + 'b'*len(x), len(x)))"
>>> stmt_v = "''.join(i if random.randint(0, 1) else 'b' for i in x)"
>>> import timeit
>>> t1_v = timeit.Timer(stmt_v,setup="from __main__ import x, random")
>>> t1_ab = timeit.Timer(stmt_ab,setup="from __main__ import x, random")
>>> t1_v.timeit(100000)
2.749679788532113
>>> t1_ab.timeit(100000)
1.3974490402988167 
```

* * *

相反，如果您想要精确的 50% 替换，您可以使用`random.shuffle`

```
>>> x = "aaaaaaaaaa"
>>> x = list(x[:len(x)/2] + 'b'*(len(x) / 2))
>>> random.shuffle(x)
>>> x = ''.join(x)
>>> x
'bbbaabbaaa' 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-19T06:02:40.097

这是波动率答案的变体，可让您指定百分比

```
def replace_ramd(input_string, pct):
    for r in range(len(input_string)):
        yield input_string[r] if random.randint(0,100) > pct else chr(random.randint(64,127)) 
```

# java - 拆分字符串时出错

> ID：14411374
> 
> 赞同：0
> 
> 时间：2013-01-19T05:21:21.080
> 
> 标签：java, split

我遇到了一个非常奇怪的问题，几个小时我都无法弄清楚。基本上我想把这个分开`getInterfaceBounds-client.ry`，我在做什么

```
final String className = line.split(".")[0]; 
```

我得到了一个`arrayindexoutofbounds`例外。我真的不知道为什么，你呢？

`Exception in thread "Thread-3" java.lang.ArrayIndexOutOfBoundsException: 0`

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-19T05:32:53.763

`split`使用正则表达式。在正则表达式`.`中表示任何字符，因此您需要对其进行转义。

尝试：

```
final String className = line.split("\\.")[0]; 
```

请参阅[http://docs.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html#sum](http://docs.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html#sum)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-19T05:28:08.313

所需的更改是：

```
final String className = line.split("\\.")[0]; 
```

查看此示例以获取更多详细信息。

```
 String s="getInterfaceBounds-client.ry";
  String[] arr = s.split("\\.");
  for(String str : arr)
  {
    System.out.println(str);
  } 
```

ideone[链接](http://ideone.com/39XzRn)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-19T05:28:21.720

改用它，它会起作用。我刚刚测试了它。

```
String line = "getInterfaceBounds-client.ry";

String className = line.split("[.]")[0]; 

System.out.println(className); 
```

这 。是正则表达式中的一个特殊字符，代表任何字符。

您可以在此处了解有关正则表达式中不同特殊字符的更多信息： [http ://www.fon.hum.uva.nl/praat/manual/Regular_expressions_1__Special_characters.html](http://www.fon.hum.uva.nl/praat/manual/Regular_expressions_1__Special_characters.html)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-19T05:33:03.623

使用数组变量，`split()`因为我们可能会从拆分中获得更多的值，所以如果你使用数组，它将避免访问值的混淆，例如：

```
String line = "getInterfaceBounds-client.ry.test";
String test[] = line.split("[.]");
System.out.println(test[0]+test[1]+test[2]); 
```

# php - 使用php从支持N900 GPS的手机获取纬度和经度

> ID：14411375
> 
> 赞同：0
> 
> 时间：2013-01-19T05:21:30.347
> 
> 标签：php, gps

我正在使用启用 GPS 的 N900 手机（Maemo OS）。我想使用 PHP 提取其当前的纬度和经度值，以存储在 WAMP 服务器中可用的数据库中。我对此很陌生。请提供一些有用的链接。提前谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-19T05:32:01.853

如果您说您在手机上运行 PHP 并希望 PHP 从您的移动设备中提取该信息，那么恐怕 PHP 无法自行获取该信息。您需要弄清楚您的phone 通过其本机 API 提供该信息，并通过 PHP 与其交互。

如果您说您正在使用移动设备的浏览器访问远程 PHP 脚本，那么浏览器需要支持 HTML5 GeoIP，在这种情况下，它仍然与 PHP 无关。GPS 信息将由您的支持 HTML5 的浏览器发送到您的远程服务器。您需要在线查看一些关于如何使用该功能的教程。

这是一个例子：[http ://www.html5rocks.com/en/tutorials/geolocation/trip_meter/](http://www.html5rocks.com/en/tutorials/geolocation/trip_meter/)

# java - 切片列表视图

> ID：14411379
> 
> 赞同：1
> 
> 时间：2013-01-19T05:22:37.603
> 
> 标签：java, android

有人可以给我一个关于如何划分列表视图的例子吗？我使用 SimpleCursorAdapter 在列表视图中显示数据..

我的代码是这样的。

```
private WordDbAdapter dbHelper;
private SimpleCursorAdapter dataAdapter; 
```

这是 onCreate() 方法的代码。

```
 dbHelper = new WordDbAdapter(this);
    dbHelper.open();

    //Clean all data
    dbHelper.deleteAllWords();
    //Add some data
    dbHelper.insertSomeWords();

    //Generate ListView from SQLite Database
    displayListView(); 
```

这是 onCreate 方法之外的代码。

```
@SuppressWarnings("deprecation")
private void displayListView() {

  Cursor cursor = dbHelper.fetchAllWords();

  // The desired columns to be bound
  String[] columns = new String[] {
          WordDbAdapter.KEY_WORD,

  };

  // the XML defined views which the data will be bound to
  int[] to = new int[] {

    R.id.Word,

  };

  // create the adapter using the cursor pointing to the desired data
  //as well as the layout information
  dataAdapter = new SimpleCursorAdapter(
    this, R.layout.word_info,
    cursor,
    columns,
    to
    );

  ListView listView = (ListView) findViewById(R.id.Diclist);
  // Assign adapter to ListView
  listView.setAdapter(dataAdapter);

  listView.setOnItemClickListener(new OnItemClickListener() {
   @Override
   public void onItemClick(AdapterView<?> listView, View view,
     int position, long id) {
   // Get the cursor, positioned to the corresponding row in the result set
   Cursor cursor = (Cursor) listView.getItemAtPosition(position);

   // Get the word name from this row in the database.
   String wordSelected =
               cursor.getString(cursor.getColumnIndexOrThrow("word"));

       String wordSyllabication =
               cursor.getString(cursor.getColumnIndexOrThrow("syllabication"));
       String wordPartofSpeech =
               cursor.getString(cursor.getColumnIndexOrThrow("partofspeech"));
       String wordMeaning =
               cursor.getString(cursor.getColumnIndexOrThrow("meaning"));

       EditText TextDic = (EditText) findViewById(R.id.TextDic);
       TextDic.setText(wordSelected);

       Toast.makeText(getApplicationContext(),
               wordSyllabication + "\n" + wordPartofSpeech + "\n" + wordMeaning , Toast.LENGTH_SHORT).show();

       }
      }); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-19T05:32:40.857

你可以试试这个。

查看**ListViews 示例中的这个 Android 部分**，它很好地描述了如何在 ListViews 中实现部分。

和

[安卓惊人的列表视图](http://code.google.com/p/android-amazing-listview/)

[Jeff Sharkey 的分离列表适配器](http://jsharkey.org/blog/2008/08/18/separating-lists-with-headers-in-android-09/)

[CommonsWare 的 MergeAdapter](https://github.com/commonsguy/cwac-merge)

[http://w2davids.wordpress.com/android-sectioned-headers-in-listviews/](http://w2davids.wordpress.com/android-sectioned-headers-in-listviews/)

谢谢。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-19T05:31:03.140

[我在这个博客](http://bartinger.at/listview-with-sectionsseparators/)上找到了一个很好的分段列表视图示例。它是通过使用 ArrayAdapter 完成的，但您可以看到这个概念并尝试相应地操作代码以使其与 SimpleCursorAdapter 一起使用。我希望它会有所帮助！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-04-10T22:16:45.020

这对于光标适配器来说很棘手，因为您必须重新映射您的位置。我制作了一个名为[SectionCursorAdapter](https://github.com/twotoasters/SectionCursorAdapter)的库来帮助解决这个问题。这真的很容易实现。为了让它与您的数据一起使用，当您扩展 SectionCursorAdapter 时，只需执行以下操作。

```
@Override
protected Object getSectionFromCursor(Cursor cursor) {
    int columnIndex = cursor.getColumnIndex("word");
    String word = cursor.getString(columnIndex);
    return word.toUpperCase().substring(0, 1);
} 
```

现在您不必担心回收视图，但您必须自己绑定数据。如果这个库足够流行，我将添加一个 SimpleSectionCursorAdapter。

# mysql - 选择''-''是什么意思

> ID：14411380
> 
> 赞同：2
> 
> 时间：2013-01-19T05:22:45.327
> 
> 标签：mysql, sql

有一篇关于 SQL 注入的文章：[**Abusing MySQL string algorithm for tiny SQL injections**](http://blog.kotowicz.net/2013/01/abusing-mysql-string-arithmetic-for.html)

问题是， 是什么意思`select ''-''`？我用 MySQL 试试，它返回：

```
mysql> select ''-'';
+-------+
| ''-'' |
+-------+
|     0 |
+-------+
1 row in set (0.00 sec) 
```

发生了什么事？0是什么意思？

结果`select '-'`：

```
mysql> select '-';
+---+
| - |
+---+
| - |
+---+
1 row in set (0.00 sec) 
```

我对这些结果感到非常困惑。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-19T05:35:37.193

您`-`从一个空字符串减去`''`另一个：

请参阅以下内容：

```
mysql> select '';
+--+
|  |
+--+
|  |
+--+
1 row in set (0.00 sec)  

mysql> select '3'-'2';
+---------+
| '3'-'2' |
+---------+
|       1 |
+---------+
1 row in set (0.00 sec) 
```

但如果它不是*数字字符串*，则会发出警告：

```
mysql> select 'a'-'b';
+---------+
| 'a'-'b' |
+---------+
|       0 |
+---------+
1 row in set, 2 warnings (0.00 sec) 
```

两个警告：

```
mysql> SHOW WARNINGS LIMIT 2
    -> ;
+---------+------+---------------------------------------+
| Level   | Code | Message                               |
+---------+------+---------------------------------------+
| Warning | 1292 | Truncated incorrect DOUBLE value: 'a' |
| Warning | 1292 | Truncated incorrect DOUBLE value: 'b' |
+---------+------+---------------------------------------+
2 rows in set (0.00 sec) 
```

*`empty`为什么没有字符串警告？*

因为空字符串没有警告，因为它（铸造了一些东西）`0`见下文：

```
mysql> SELECT 0 = '';
+--------+
| 0 = '' |
+--------+
|      1 |
+--------+
1 row in set (0.00 sec) 
```

因此，通过做`''-''`你正在做`0 - 0`

```
mysql> SELECT '' - '';
+---------+
| '' - '' |
+---------+
|       0 |
+---------+
1 row in set (0.00 sec) 
```

为了更清楚，我添加了以下示例（*我觉得对您有帮助*）：
转换是如何发生的：

```
mysql> SELECT '0' = 0
    -> ;
+---------+
| '0' = 0 |
+---------+
|       1 |
+---------+
1 row in set (0.00 sec) 
```

注意它的转换：

```
mysql> SELECT '' = '0'
    -> ;
+----------+
| '' = '0' |
+----------+
|        0 |
+----------+
1 row in set (0.00 sec) 
```

`''`转换成`0`，`'0'`转换成`0`但`''`不等于`'0'`

```
mysql> SELECT '1' = 1
    -> ;
+---------+
| '1' = 1 |
+---------+
|       1 |
+---------+
1 row in set (0.00 sec)

mysql> SELECT '' = 1
    -> ;
+--------+
| '' = 1 |
+--------+
|      0 |
+--------+
1 row in set (0.00 sec) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-19T05:28:37.627

我会解释`select ''-''`, 和`select '' - ''`, 一样`select cast('' as int) - cast('' as int)`的`select 0-0`..

有了`select '-'`你就得到一个字符串。希望这是有道理的...

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-19T05:26:23.590

`''`是一个空字符串；`-`是减法。所以你从另一个中减去一个空字符串。减法是一个数字运算符，所以它的结果是一个数字，mysql在减去它们之前将它的参数转换为数字。的数值`''`为零——但这并不重要，因为任何从自身减去的数字都会得到零。

# java - ImageIcon 如何获取图像的文件路径以在 java 中使用？

> ID：14411387
> 
> 赞同：1
> 
> 时间：2013-01-19T05:23:28.083
> 
> 标签：java, image, swing, filepath

我正在尝试使用`ImageIcon`Java Swing 来为简单的`Java`游戏提供动力。我想了解如何从项目文件夹中的 Eclipse 工作区调用相对文件路径？可用于在 eclipse 中为图像资源实现相对文件路径的代码是什么？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-19T06:09:54.847

采用：

```
getClass().getResource() 
```

像这样的东西：

```
jLabel1.setIcon(new javax.swing.ImageIcon(getClass().getResource("/images.jpg"))); 
```

如果`images`在您的项目文件夹中。

# jsf - p:dataExporter 无法识别 p:cellEditor

> ID：14411389
> 
> 赞同：11
> 
> 时间：2013-01-19T05:23:32.740
> 
> 标签：jsf, primefaces, datatable, data-export

我有一个可编辑`<p:dataTable>`的`<p:cellEditor>`，我想使用`<p:dataExporter>`.

我已经包含了**itext 2.1.7 jar**。我得到了 PDF 格式的输出，但它显示了`Object#toString()`所有`<p:cellEditor>`组件的值，如下所示：

```
org.primefaces.component.celleditor.CellEditor@1bd59e1 
```

如何导出的输出值`<p:cellEditor>`呢？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-01-19T11:39:45.027

PrimeFaces 标准数据导出器`<p:cellEditor>`确实无法识别。我之前已将此作为[问题 4013](http://code.google.com/p/primefaces/issues/detail?id=4013)报告给 PF 人员，并附有一个示例，该示例不仅提到`CellEditor`，而且`HtmlGraphicImage`（我们使用图像来显示布尔状态，`alt`我们希望在 PDF/XML/XLS/CSV 报告中显示） .

首先，创建一个扩展标准的新类，`PDFExporter`如下所示：

```
public class ExtendedPDFExporter extends PDFExporter {

    @Override
    protected String exportValue(FacesContext context, UIComponent component) {
        if (component instanceof CellEditor) {
            return exportValue(context, ((CellEditor) component).getFacet("output"));
        }
        else if (component instanceof HtmlGraphicImage) {
            return (String) component.getAttributes().get("alt");
        }
        else {
            return super.exportValue(context, component);
        }
    }

} 
```

然后，要使用它，以编程方式而不是 via 调用它`<p:dataExporter>`。

```
<p:dataTable binding="#{table}" editable="true" ...>
    <p:column><p:cellEditor>...</p:cellEditor></p:column>
    <p:column><p:cellEditor>...</p:cellEditor></p:column>
    <p:column><p:cellEditor>...</p:cellEditor></p:column>
    <p:column exportable="false"><p:rowEditor /></p:column>
</p:dataTable>
<h:commandLink value="PDF" action="#{bean.exportPDF(table, 'filename')}" /> 
```

和

```
public void exportPDF(DataTable table, String filename) throws IOException {
    FacesContext context = FacesContext.getCurrentInstance();
    Exporter exporter = new ExtendedPDFExporter();
    exporter.export(context, table, filename, false, false, "UTF-8", null, null);
    context.responseComplete();
} 
```

请随意查找数据表，`UIComponent#findComponent()`并仅在操作方法中设置文件名。上面的代码只是示例性的。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-04-03T11:15:38.857

I agree, I also find this approach to customize the Exporter behaviour the most flexible and least painful.

Anyone interested in using the **preProcessor/postProcessor** methods with this? Here's an example how to do that.

I dared to slightly modify the method from the answer above:

```
public void exportPDF(DataTable table, String filename, 
        String preProcessor, String postProcessor) throws IOException {

    FacesContext context = FacesContext.getCurrentInstance();
    ExpressionFactory factory = context.getApplication().getExpressionFactory();

    MethodExpression preProcessorME = factory.createMethodExpression(
        context.getELContext(), preProcessor, null, new Class[] {Object.class});
    MethodExpression postProcessorME = factory.createMethodExpression(
        context.getELContext(), postProcessor, null, new Class[] {Object.class});

    Exporter exporter = new ExtendedPDFExporter();
    exporter.export(context, table, filename, false, false, "UTF-8", 
        preProcessorMe, postProcessorME);

    context.responseComplete();

} 
```

And this is how you use it in your page (again, I just modified the above example):

```
<p:dataTable binding="#{table}" editable="true" ...>
    <p:column><p:cellEditor>...</p:cellEditor></p:column>
    <p:column><p:cellEditor>...</p:cellEditor></p:column>
    <p:column><p:cellEditor>...</p:cellEditor></p:column>
    <p:column exportable="false"><p:rowEditor /></p:column>
</p:dataTable>
<h:commandLink value="PDF" action="#{bean.exportPDF(table, 'filename', 
    '#{yourBean.preProcessPDF}', '#{yourBean.postProcessPDF}')}" /> 
```

Notice that **there ARE NO NESTED EL STATEMENTS** (that is not allowed anyway), the last two arguments are simple Strings containing EL expressions.

# scala - 普通源代码中的模板方法？

> ID：14411390
> 
> 赞同：0
> 
> 时间：2013-01-19T05:23:39.603
> 
> 标签：scala

在 Scala 中，您可以执行诸如将函数变量作为参数传递等操作，但我想知道是否可以有更多类似模板的功能？

在这个简单的例子中（不编译，只是我想要的骨架），包装函数包含一些几乎完全相同的代码，但只有一行不同。假设包装器是一个我不想写两次的长骨架，我可以传入其中一个吗`sub1`？`sub2`请注意，这两个函数具有不同的签名，这使得它不适合柯里化解决方案：

```
object MyTemplate{

  def sub1(a: Int): String={
    a.toString
  }

  def sub2(b: String, c: String): Int={
    return b.toInt*x
  }

  def wrapper(i: Int)(f: ???): Double ={
    if (xxxx)
        do something
     else 
         do something else 
         [this line needs to call either sub1() or sub2() ] 

     common code continues
  } 
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-19T05:41:48.097

是的。我相信通过类型参数、函数组合、柯里化等，你可以找到一种方法来做你想做的事。如果您的问题没有更多细节，但很难提供更具体的答案。

# java-me - 为了测试基于 GPS 的 J2ME 应用程序，是否有任何内置 GPS 的模拟器？

> ID：14411393
> 
> 赞同：2
> 
> 时间：2013-01-19T05:23:48.400
> 
> 标签：java-me, gps, emulation, nokia-s40, here-api

我是 J2ME 应用程序开发领域的新手。我正在使用诺基亚地图为 40 系列手机开发基于 GPS 的应用程序。我想要这样的模拟器，它提供 GPS（检索和设置当前坐标和许多其他目的）。我在谷歌上搜索了很多，但我没有找到这样的模拟器......即使是诺基亚 SDK 提供的模拟器；他们也没有GPS功能......那我应该如何获得这样的模拟器？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-21T11:42:50.663

您可以在此处下载最新的诺基亚 IDE（包括诺基亚地图插件）： [模拟器下载](http://www.developer.nokia.com/info/sw.nokia.com/id/d312c223-c68a-447e-b295-c3a9ebc4b630/Nokia_SDK_2.0_for_Java_offline_installer_win.html)

与 SDK 关联的模拟器包括模拟 JSR-179 位置调用的工具（例如 Cell-Id/GPS），您可以播放已保存文件的坐标并定期接收它们。查看模拟器的 Tools > Route Editor 菜单。

**这里的混淆是GPS**定位和**Cell-Id**定位之间的区别。目前没有带 GPS 单元的 40 系列手机（据我所知） - 因此需要通过 Cell-ID 进行定位 - 在这种情况下，在 Cell-ID 场景中检索频繁位置更新的唯一方法是调用`getLocation()`重复循环中的方法。通过该方法检索位置对象`locationUpdated()`，只能在基于GPS的位置检索中完成。

总之，您可以从任何支持 JSR-179 的 Java ME 手机获取**位置**，但您不会使用 GPS。

要获取位置，请使用以下命令：

```
 cellIdLocator = getCellIdProvider();
 cellIdLocator.getLocation(DEFAULT_TIMEOUT); 
```

cell-id 提供者可以单独保存在哪里

```
private LocationProvider cellIdLocator;

public LocationProvider getCellIdProvider() throws LocationException {
            if (cellIdLocator == null) {
                int[] methods = {
                    Location.MTA_ASSISTED | Location.MTE_CELLID
                            | Location.MTY_NETWORKBASED};

                cellIdLocator = LocationUtil.getLocationProvider(methods, null);
            }
            return cellIdLocator;
        } 
```

# django - 杀死django开发服务器的适当信号

> ID：14411394
> 
> 赞同：9
> 
> 时间：2013-01-19T05:23:51.893
> 
> 标签：django, linux, process

我正在尝试向 django 开发服务器发送信号以终止父进程和子进程。

```
$ python manage.py runserver
Validating models...

0 errors found
Django version 1.4.1, using settings 'myproject.settings'
Development server is running at http://127.0.0.1:8000/
Quit the server with CONTROL-C.

$ ps axf
26077 pts/12   Ss     0:00  \_ -bash
 4189 pts/12   S+     0:00  |   \_ python manage.py runserver
 4194 pts/12   Sl+    0:00  |       \_ /myproject/.virtualenv/bin/python manage.py runserver

$ kill -s SIGINT 4189
$ ps axf
4194 pts/12   Sl     0:00 /sh/myproject/.virtualenv/bin/python manage.py runserver 
```

我的理解是 SIGINT 应该模拟在终端中按 Ctrl-C，但请注意 SIGINT 会终止父级 4189，而不是子级 4194。SIGKILL、SIGTERM、SIGSTOP 的行为相同。从终端使用 Ctrl-C 会按预期杀死两者。

有没有办法在不知道孩子 PID 的情况下以杀死孩子的方式终止父母？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-01-22T03:08:46.130

`kill -9 4189`

试一试，它应该工作！

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-12-05T13:58:40.810

在进程前面放一个破折号，这应该会杀死进程组。

```
 kill -s SIGINT -4189 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2015-05-11T12:16:39.720

我有类似的问题，但接受的答案在我的 CentOS 上不起作用：

```
$ ps fx | grep [p]ython
30864 pts/0    S      0:00 python manage.py runserver 0.0.0.0:80
30866 pts/0    Sl     0:00  \_ /var/webapp/venv/bin/python manage.py runserver 0.0.0.0:80
$ kill -s SIGINT -30864
-bash: kill: 30864: invalid signal specification 
```

所以，我找到了这个解决方案：

```
$ pkill -P 30864
$ ps fx | grep [p]ython
$ # empty 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-11-09T04:35:28.613

尝试使用`pkill`：

```
$ pkill -f "python3 manage.py runserver" 
```

# asp.net - 在 radgrid 中选中复选框时获取行的值

> ID：14411398
> 
> 赞同：-1
> 
> 时间：2013-01-19T05:24:34.907
> 
> 标签：asp.net, checkbox, row

我在每一行都有一个带有复选框的 radgride。我希望当我单击按钮时，它会检查检查的每一行的 id，并将其放入变量中。我知道 gridview 的此代码，但我不知道 radgrid 的此代码的等效项

```
foreach (GridViewRow rw in grid1.Rows)
      {
          CheckBox chkBx = (CheckBox)rw.FindControl("Check");
          if (chkBx != null && chkBx.Checked)
          {

              id= grid1.Rows[0].Cells[3].Text.ToString();

          }
      } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-19T05:48:31.810

```
if (RadGrid1.Items.Count > 0)
 {
   foreach (GridDataItem item in RadGrid1.Items)//loops through each grid row
    {
       CheckBox chkBx = (CheckBox)rw.FindControl("Check");
       if (chkBx != null && chkBx.Checked)
        {
          //string v= item["ColumnUniqueName"].Text;
            string v= item.Cells[3].Text; //accessing cell using its ColumnUniqueName
        } 
    }
 } 
```

有关 Radgrid 行和单元格访问的更多信息，请查看[http://www.telerik.com/help/aspnet-ajax/grid-accessing-cells-and-rows.html](http://www.telerik.com/help/aspnet-ajax/grid-accessing-cells-and-rows.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-19T05:46:46.807

试试这个：[http ://www.telerik.com/community/forums/aspnet-ajax/grid/loop-through-radgrid.aspx](http://www.telerik.com/community/forums/aspnet-ajax/grid/loop-through-radgrid.aspx)

```
foreach(GridItem rw in grid1.Items)
{
    CheckBox chkBx = rw.FindControl("Check") as CheckBox ;
    if (chkBx != null && chkBx.Checked)
    {
        string id = rw.Cells[3].Text;
    }
} 
```

# java - 创建 String 对象后可以更改它吗？

> ID：14411399
> 
> 赞同：-5
> 
> 时间：2013-01-19T05:24:36.683
> 
> 标签：java

*   如果您回答“是”，请举例说明如何更改字符串。
*   如果您回答“否”，请解释为什么 Java 设计人员不让我们修改字符串

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-19T05:33:31.047

不，您不能在创建字符串后对其进行修改。 `String`是[不可变类](http://en.wikipedia.org/wiki/Immutable_object)的一个例子。如果您有以下代码：

```
String a = "hello";
String b = a; 
```

`a`并且`b`现在正在引用同一个对象，但是您无法做任何事情来更改正在引用`a`的字符串。`b`您只能分配`a`给不同的字符串。

我只能推测为什么 Java 设计者选择了这种方式，但我怀疑一个主要原因是为了促进代码的可预测性。如果你有这样的事情。

```
String h = "house";
String hcopy = h; 
```

并且在稍后的某个时间点，您能够以`h`某种方式修改`h.splitInHalf()`实际更改的字符串，当简单变量在没有警告的情况下更改值时`h`，这也会影响`hcopy`并使事情变得非常令人沮丧。`String`

如果您想要一个`String`可以修改的类似结构，您可以使用`StringBuffer`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-19T05:35:52.383

不能，每次尝试更改它时，实际上都会创建一个新的 String 对象。如果要使用可更改的 String，请改用 StringBuffer，StringBuilder。

为了更好的性能，内存中有一个字符串常量池。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-19T05:27:27.430

不。

字符串在设计上是不可变的。如果你想改变一个字符串，我建议你看一下 StringBuffer 类。

不可变是一种设计模式。由于多个实体可以引用一个对象，不变性确保您引用的对象没有被引用它的其他对象更改。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-19T06:21:27.067

以我的经验，这是一个流行的面试问题。目的是弄清楚受访者是否了解`java.lang.String`班级的内部情况。

因此，要回答这个问题，Java 在设计上不允许更改 String 对象，这些对象是不可变的。但是，尽管您永远不应该在实际生产代码中这样做，但在技术上可以使用反射 API 更改 String 对象。

```
import java.lang.reflect.Field;

public class App {
    public static void main(String[] args) throws Exception {
        String str = "Hello world!";
        Field valueField = String.class.getDeclaredField("value");
        valueField.setAccessible(true);
        char[] c = (char[]) valueField.get(str);
        c[1] = 'a';
        System.out.println(str); //prints Hallo world! 
    }
} 
```

就像人们常说的，Java 会让你在使用“import java.lang.reflect.*;”这个魔法咒语之后，让你在自己的脚下开枪。

# image - Drupal 中上传的图片会被自动删除

> ID：14411405
> 
> 赞同：2
> 
> 时间：2013-01-19T05:25:22.187
> 
> 标签：image, drupal, upload

我是 Drupal 的新手，有一个小问题。当我使用以下代码上传图像时，图像已成功保存。但一段时间后，图像会自动删除。到目前为止，我一直无法找到问题所在。

我的代码是：

```
file_prepare_directory($_filePath, FILE_CREATE_DIRECTORY); 
$file = file_save_upload('thumb_img', '', $_filePath); 
```

谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-19T08:33:37.767

该文件将作为临时文件添加到 {file_managed} 表中。临时文件会定期清理。要使文件成为永久文件，请分配状态并使用 file_save() 保存更改。

参考：

1.  [文件保存上传](http://api.drupal.org/api/drupal/includes!file.inc/function/file_save_upload/7)
2.  [文件保存](http://api.drupal.org/api/drupal/includes!file.inc/function/file_save/7)

# node.js - 在 nodejs 的 sqlserver 驱动程序上构建失败

> ID：14411406
> 
> 赞同：1
> 
> 时间：2013-01-19T05:25:28.097
> 
> 标签：node.js, express, node-sqlserver

我正在尝试通过键入以下命令`node-sqlserver`在目录中安装我的应用程序，`node_modules`

> npm 安装节点-sqlserver

这是我得到的，

```
npm WARN package.json application-name@0.0.1 No README.md file found!
npm WARN package.json node@0.0.0 No README.md file found!
npm http GET https://registry.npmjs.org/node-sqlserver
npm http 304 https://registry.npmjs.org/node-sqlserver
npm WARN deprecated node-sqlserver@0.1.0: This package has been superseded by msnodesql.

> node-sqlserver@0.1.0 install C:\Users\Tarun\Desktop\Songify\node_modules\node-sqlserver
> node-gyp rebuild

C:\Users\Tarun\Desktop\Songify\node_modules\node-sqlserver>node "C:\Program Files (x86)\nodejs\node_modules\npm\bin\node
-gyp-bin\\..\..\node_modules\node-gyp\bin\node-gyp.js" rebuild
gyp ERR! rebuild error Error: Can't find Python executable "python", you can set the PYTHON env variable.
gyp ERR! rebuild error     at failNoPython (C:\Program Files (x86)\nodejs\node_modules\npm\node_modules\node-gyp\lib\con
figure.js:85:14)
gyp ERR! rebuild error     at Object.oncomplete (C:\Program Files (x86)\nodejs\node_modules\npm\node_modules\node-gyp\li
b\configure.js:59:11)
gyp ERR! not ok
npm ERR! node-sqlserver@0.1.0 install: `node-gyp rebuild`
npm ERR! `cmd "/c" "node-gyp rebuild"` failed with 1
npm ERR!
npm ERR! Failed at the node-sqlserver@0.1.0 install script.
npm ERR! This is most likely a problem with the node-sqlserver package,
npm ERR! not with npm itself.
npm ERR! Tell the author that this fails on your system:
npm ERR!     node-gyp rebuild
npm ERR! You can get their info via:
npm ERR!     npm owner ls node-sqlserver
npm ERR! There is likely additional logging output above.

npm ERR! System Windows_NT 6.2.9200
npm ERR! command "C:\\Program Files (x86)\\nodejs\\\\node.exe" "C:\\Program Files (x86)\\nodejs\\node_modules\\npm\\bin\
\npm-cli.js" "install" "node-sqlserver"
npm ERR! cwd C:\Users\Tarun\Desktop\Songify\node_modules
npm ERR! node -v v0.6.20
npm ERR! npm -v 1.1.37
npm ERR! code ELIFECYCLE
npm ERR! message node-sqlserver@0.1.0 install: `node-gyp rebuild`
npm ERR! message `cmd "/c" "node-gyp rebuild"` failed with 1
npm ERR!
npm ERR! Additional logging details can be found in:
npm ERR!     C:\Users\Tarun\Desktop\Songify\node_modules\npm-debug.log
npm ERR! not ok code undefined
npm ERR! not ok code 1 
```

我该如何解决这个问题？我`express`也在用

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-19T21:20:53.897

你的答案在输出中，你需要安装 python，然后你会得到另一个错误，你需要安装 Microsoft SDK for Windows Server 2008 和 dot net framework 3.5

# mysql - mysql触发器-更新值，值=行数

> ID：14411411
> 
> 赞同：0
> 
> 时间：2013-01-19T05:26:06.930
> 
> 标签：mysql, triggers

我想运行一个 mysql 触发器来更新表`leave_taken`col的值`num`，当一个名为的表`leave`被更新、插入或删除时。

就像我将这些行插入到`leave`：

```
INSERT INTO `leave` (`id_leave`, `staff_leave_application_id_staff_leave_application`, `staff_leave_application_staff_id_staff`, `leave_type_id_leave_type`, `date`, `active`, `date_updated`) VALUES
(7, 7, 6, 7, '2013-01-21', 1, '2013-01-18'),
(8, 7, 6, 7, '2013-01-22', 1, '2013-01-18'),
(9, 7, 6, 7, '2013-01-23', 1, '2013-01-18'),
(10, 7, 6, 7, '2013-01-24', 1, '2013-01-18'),
(11, 7, 6, 7, '2013-01-25', 2, '2013-01-18'); 
```

然后表`leave_taken`col`num`值更新为`5`：

```
staff_leave_application_staff_id_staff = currently updated staff_leave_application_staff_id_staff,
and
leave_type_id_leave_type = currently updated leave_type_id_leave_type 
```

我已经包括了下表。

**餐桌假**

```
CREATE TABLE IF NOT EXISTS `leave` (
  `id_leave` int(11) NOT NULL AUTO_INCREMENT,
  `staff_leave_application_id_staff_leave_application` int(11) NOT NULL,
  `staff_leave_application_staff_id_staff` int(11) NOT NULL,
  `leave_type_id_leave_type` int(11) NOT NULL,
  `date` date NOT NULL,
  `active` int(11) NOT NULL DEFAULT '1',
  `date_updated` date NOT NULL,
  PRIMARY KEY (`id_leave`,`staff_leave_application_id_staff_leave_application`,`staff_leave_application_staff_id_staff`),
  KEY `fk_table1_leave_type1` (`leave_type_id_leave_type`),
  KEY `fk_table1_staff_leave_application1` (`staff_leave_application_id_staff_leave_application`,`staff_leave_application_staff_id_staff`)
) ENGINE=InnoDB  DEFAULT CHARSET=latin1 AUTO_INCREMENT=12 ; 
```

**表请假：**

```
CREATE TABLE IF NOT EXISTS `leave_balance` (
  `id_leave_balance` int(11) NOT NULL AUTO_INCREMENT,
  `staff_id_staff` int(11) NOT NULL,
  `leave_type_id_leave_type` int(11) NOT NULL,
  `balance` int(3) NOT NULL,
  `date_added` date NOT NULL,
  PRIMARY KEY (`id_leave_balance`),
  UNIQUE KEY `id_leave_balance_UNIQUE` (`id_leave_balance`),
  KEY `fk_leave_balance_staff1` (`staff_id_staff`),
  KEY `fk_leave_balance_leave_type1` (`leave_type_id_leave_type`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1 AUTO_INCREMENT=1 ; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-19T10:38:27.987

首先，在表中的标识列上定义一个唯一键`leave`：

```
ALTER TABLE leave
  ADD UNIQUE (staff_leave_application_staff_id_staff, leave_type_id_leave_type); 
```

然后继续定义你的触发器：

```
CREATE TRIGGER my_insert_trigger AFTER INSERT ON leave FOR EACH ROW
  INSERT INTO leave_taken
    (staff_leave_application_staff_id_staff, leave_type_id_leave_type, num)
  VALUES
    (NEW.staff_leave_application_staff_id_staff, NEW.leave_type_id_leave_type, 1)
  ON DUPLICATE KEY UPDATE
    num = num + 1;

CREATE TRIGGER my_delete_trigger AFTER DELETE ON leave FOR EACH ROW
  UPDATE leave_taken
  SET    num = num - 1
  WHERE  staff_leave_application_staff_id_staff = OLD.staff_leave_application_staff_id_staff
     AND leave_type_id_leave_type = OLD.leave_type_id_leave_type;

DELIMITER ;;

CREATE TRIGGER my_update_trigger AFTER UPDATE ON leave FOR EACH ROW
  IF NOT (
      NEW.staff_leave_application_staff_id_staff <=> OLD.staff_leave_application_staff_id_staff
  AND NEW.leave_type_id_leave_type <=> OLD.leave_type_id_leave_type
  ) THEN
    UPDATE leave_taken
    SET    num = num - 1
    WHERE  staff_leave_application_staff_id_staff = OLD.staff_leave_application_staff_id_staff
       AND leave_type_id_leave_type = OLD.leave_type_id_leave_type;
    INSERT INTO leave_taken
      (staff_leave_application_staff_id_staff, leave_type_id_leave_type, num)
    VALUES
      (NEW.staff_leave_application_staff_id_staff, NEW.leave_type_id_leave_type, 1)
    ON DUPLICATE KEY UPDATE
      num = num + 1;
  END IF;;

DELIMITER ; 
```

# html - 无法使用替换从 HTML 中删除不需要的字符

> ID：14411420
> 
> 赞同：-1
> 
> 时间：2013-01-19T05:27:39.830
> 
> 标签：html, css, vb.net, replace, stringbuilder

打开当前 HTML 文件并替换我需要使用 StringBuilder 的内容时，我遇到了 HTML 问题...下面是我用来执行此操作的一些代码...

```
 'Lets replace the grid information!'
    Dim sb As New StringBuilder()

    sb.AppendLine(" <table>")
    sb.AppendLine("<tr>")
    '  sb.AppendLine("<th>")
    For Each column As DataGridViewColumn In DataGridView1.Columns
        sb.AppendLine("   <th>" + column.HeaderText + "</th>")
    Next
    ' sb.AppendLine("</th>")
    sb.AppendLine(" </tr>")
    sb.AppendLine("</table")

    HTML.Replace("%TABLE%", sb.ToString) 
```

到目前为止一切正常，我遇到的唯一问题是摆脱客户姓名字段中的“<”......我知道这是因为替换；它在那里添加了一个额外的。但是如果我把它从附加行中取出，我的网格就会变得异常......这是这个的屏幕截图......

![我有错误](../Images/c55214952027eef923835751d1525ee8.png)

这是我正在抓取的 HTML 文件的源代码，然后替换了我需要的内容......

```
<!doctype html>
<html>
<head>
    <title>Invoice %Invoice%</title>
    <link rel="stylesheet" href=%STYLE%>

    <style type="text/css">
    @import url("style.css");
    </style>
</head>
<body>
    <header>
        <h1>Invoice %Invoice%</h1>
        <address>
            <p>%Business%</p>

        </address>
        <img src="file:///%Image%" alt="" align="right">
    </header>
    <article>
        <h1>&nbsp;</h1>
        <h1>&nbsp;</h1>
        <h1>&nbsp;</h1>
        <h1>Recipient</h1>
        <address>
        <p>%Company%</p>
            <p>%Contact%</p>
            <p>%Address%</p>
        </address>
        <table class="meta">
            <tr>
                <th><span>Invoice #</span></th>
                <td><span>%Invoice%</span></td>
            </tr>
            <tr>
                <th><span>Date</span></th>
                <td><span>%Date%</span></td>
            </tr>
            <tr>
                <th><span>Amount Paid</span></th>
                <td><span id="prefix">$</span><span>0.00</span></td>
            </tr>
            <tr>
                <th><span>Amount Due</span></th>
                <td><span id="prefix">$</span><span>600.00</span></td>
            </tr>
        </table>
        <%TABLE%>   THIS IS WHERE I SEND THE TABLE TO!
        </article>
    <aside>
        <h1>&nbsp;</h1>
        <h1>&nbsp;</h1>
        <h1><span>Additional Notes</span></h1>
        <div contenteditable>
          <p align ='center'>A finance charge of 1.5% will be made on unpaid balances after 30 days.</p>
        </div>
    </aside>
</body>
</html> 
```

谢谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-19T05:31:17.890

假设 HTML 是一个字符串，replace 函数返回一个字符串结果，所以你需要：

```
HTML = HTML.Replace("%TABLE%", sb.ToString) 
```

根据 [pickypg](https://stackoverflow.com/users/706724/pickypg)的回答，你可能真的需要：

```
HTML = HTML.Replace("<%TABLE%>", sb.ToString) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-19T05:36:00.187

您在原始 HTML 中的字符串是字面意思`<%TABLE%>`，但您只是替换`%TABLE%`。

`StringBuilder`字符串的结尾`</table`没有 . `>`，但它以 . 开头`<table>`。这是它的来源，但您应该修复之前的问题并适当地关闭表格的标签。

# javascript - 在同一页面上根据组合框值显示图像

> ID：14411422
> 
> 赞同：-4
> 
> 时间：2013-01-19T05:28:02.323
> 
> 标签：javascript

如何显示图像取决于组合框中选择的值，图像将显示在组合框附近的同一页面中......提前致谢......

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-19T05:47:42.800

您需要在 html中使用`onchange`with 。`select`使用`Javascript`你可以完成它。一个例子如下。只需检查在 javascript 函数中选择的值并决定要显示的图像。我已经比较了这些值，但您甚至可以自己拥有一个图像名称。

```
<select name="number" id="course" style="width:158px;" onchange="getImage(this)">
  <option value="none">----Select ----</option>
  <option >1</option>
  <option >2</option>  
</select>
<img id="imgt" src="default.jpg" width="300" height="300"/>

<script type="text/javascript">
    function getImage(v) {
        var num = v.value;
        alert(num);
        if(num==1) {
            document.getElementById("imgt").setAttribute("src","image1.jpg");
        }
        else {
            document.getElementById("imgt").setAttribute("src","image2jpg");    
        }
    }
</script> 
```

# xslt - XSL：通过比较子节点来比较节点

> ID：14411425
> 
> 赞同：1
> 
> 时间：2013-01-19T05:28:09.937
> 
> 标签：xslt, xslt-1.0

我希望能够根据子节点的值比较两个节点。使用运算符测试节点相等性`=`只是比较各个节点的字符串值。我想根据它们的子节点中的值来比较它们。

更具体地说，我希望`<a>`和`<b>`（下）相等，因为对于具有匹配属性的元素也具有匹配属性的元素的值`@id`相同。`<c>``@type``@id`

```
<a>
    <c type="type-one" id="5675"/>
    <c type="type-two" id="3423"/>
    <c type="type-three" id="9088"/>
</a>
<b>
    <c type="type-one" id="5675"/>
    <c type="type-two" id="3423"/>
</b> 
```

但这些会有所不同：

```
<a>
    <c type="type-one" id="5675"/>
</a>
<b>
    <c type="type-one" id="2342"/>
</b> 
```

我能开始看到的唯一解决方案是与`for-each`语句进行费力的比较，如果可能的话，我想避免这种情况。

如果可能的话，我想坚持使用 XSLT 1.0。我正在使用 xsltproc。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-20T17:12:48.660

**首先，称为“等于”的关系不能有那个名字**。

“等于”表示该关系是等价关系。根据定义，任何等价关系`~`必须是：

1.  反身：`x ~ x`.

2.  对称：如果`x ~ y`那么`y ~ x`

3.  传递：如果`x ~ y`然后。`y ~ z``x ~ z`

**这是一个示例，表明建议的“等于”关系不具有传递性：**

`x`是：

```
<a>
    <c type="type-one" id="5675"/>
    <c type="type-two" id="3423"/>
    <c type="type-three" id="9088"/>
</a> 
```

`y`是：

```
<b>
    <c type="type-one" id="5675"/>
    <c type="type-two" id="3423"/>
    <c type="type-four" id="1234"/>
</b> 
```

`z`是：

```
<b>
    <c type="type-three" id="3333"/>
    <c type="type-four" id="1234"/>
</b> 
```

现在，我们可以看到`x ~ y`和`y ~ z`。但是，显然这不成立：`x ~ z`

这就是说，我称关系为“匹配”，它是放松的，而不是“等于”。

**通过上述调整，这是问题的解决方案**：

**请注意，这不能用单个 XPath 表达式来表达，因为 XPath 1.0（在 XSLT 1.0 转换中使用）没有范围变量**。

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
 <xsl:output omit-xml-declaration="yes" indent="yes"/>
 <xsl:strip-space elements="*"/>

 <xsl:template match="/*">
     <xsl:call-template name="matches">
       <xsl:with-param name="pElem1" select="a"/>
       <xsl:with-param name="pElem2" select="b"/>
     </xsl:call-template>
 </xsl:template>

 <xsl:template name="matches">
   <xsl:param name="pElem1" select="/.."/>
   <xsl:param name="pElem2" select="/.."/>

   <xsl:variable name="vMisMatch">
       <xsl:for-each select="$pElem1/c[@type = $pElem2/c/@type]">
        <xsl:if test=
           "$pElem2/c[@type = current()/@type and not(@id = current()/@id)]">1</xsl:if>
       </xsl:for-each>
   </xsl:variable>

   <xsl:copy-of select="not(string($vMisMatch))"/>
 </xsl:template>
</xsl:stylesheet> 
```

**当此转换应用于以下 XML 文档时：**

```
<t>
    <a>
        <c type="type-one" id="5675"/>
        <c type="type-two" id="3423"/>
        <c type="type-three" id="9088"/>
    </a>
    <b>
        <c type="type-one" id="5675"/>
        <c type="type-two" id="3423"/>
    </b>
</t> 
```

**产生了想要的正确结果：**

```
true 
```

**在此 XML 文档上应用相同的转换时：**

```
<t>
    <a>
        <c type="type-one" id="5675"/>
        <c type="type-two" id="3423"/>
        <c type="type-three" id="9088"/>
    </a>
    <b>
        <c type="type-one" id="5675"/>
        <c type="type-two" id="9876"/>
    </b>
</t> 
```

**再次产生正确的结果：**

```
false 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-21T03:07:36.397

这是我想出的。给定一个这样的玩具数据集：

```
<?xml version="1.0" encoding="UTF-8"?>
<root>
    <a>
        <item key="x" value="123"/>
        <item key="y" value="456"/>
        <item key="z" value="789"/>
    </a>
    <b>
        <item key="x" value="123"/>
        <item key="z" value="789"/>
    </b>
</root> 
```

此样式表显示了如何测试问题中定义的相等性。

```
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0" xmlns:set="http://exslt.org/sets"  xmlns:exsl="http://exslt.org/common" 
 extension-element-prefixes="set exsl">
<xsl:output method="text" version="1.0" encoding="UTF-8"/> 

<xsl:template match="/">
    <xsl:variable name="values-are-equal">
        <xsl:call-template name="equal">
            <xsl:with-param name="A" select="/root/a"/>
            <xsl:with-param name="B" select="/root/b"/>
        </xsl:call-template>
    </xsl:variable>
    <xsl:choose>
        <xsl:when test="$values-are-equal = 1">Equal</xsl:when>
        <xsl:otherwise>Inequal</xsl:otherwise>
    </xsl:choose>
</xsl:template>

<xsl:template name="equal">
    <xsl:param name="A" />
    <xsl:param name="B" />
    <xsl:variable name="common-keys" select="$A/item/@key[ count(set:distinct(  . | $B/item/@key )) = count( set:distinct( $B/item/@key ) ) ]"/>
    <xsl:variable name="differences">
        <xsl:for-each select="$common-keys">
            <xsl:if test="$A/item[@key = current()]/@value != $B/item[@key = current()]/@value">
                <different/>
            </xsl:if>
        </xsl:for-each>
    </xsl:variable>
    <xsl:choose>
        <xsl:when test="count( exsl:node-set($differences)/* ) > 0">0</xsl:when>
        <xsl:otherwise>1</xsl:otherwise>
    </xsl:choose>
    </xsl:template>

</xsl:stylesheet> 
```

这使用了一些扩展，这些扩展在 xsltproc 和其他处理器中可用。

# macos - NSWindow 保留在所有窗口/应用程序的后面

> ID：14411426
> 
> 赞同：1
> 
> 时间：2013-01-19T05:28:13.583
> 
> 标签：macos, osx-lion, nswindow

所以不太确定如何用谷歌搜索这个问题......但是，我想制作一个 NSWindow，驻留在所有其他窗口/应用程序的后面，我希望它显示在每个任务控制空间（仍在背部）。

我见过这样做的其他应用程序，所以我知道这是可能的，只是不知道如何。

（我指的是 Lion 的名为 Mission Control 的功能，您可以在其中切换不同的空间。）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-19T06:20:42.107

找到了答案，有一种方法/枚举可以使窗口出现在所有“空间”（任务控制）中。

`[self.window setCollectionBehavior:NSWindowCollectionBehaviorCanJoinAllSpaces];`

以及一种将窗口保持在尽可能远的位置的方法。

`[self.window setLevel:kCGDesktopIconWindowLevelKey - 1];`

您所要做的就是使用这两种方法，它会完全按照我的要求进行。但是，我希望有一种方法可以防止它在从任务控制下来时出现动画（据我所知没有）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-19T06:17:38.350

你想设置 NSWindow 的`level`和`collectionBehavior`属性。

您要使用的窗口级别将取决于您在窗口后的行为。您可以在 CoreGraphics/CGWindowLevel.h 中找到可用窗口级别的常量。我建议尝试`CGWindowLevelForKey(kCGDesktopIconWindowLevelKey) ± 1`。

您指定的收集行为还取决于您所追求的行为。您问题中的简短描述表明这`NSWindowCollectionBehaviorStationary | NSWindowCollectionBehaviorCanJoinAllSpaces`可能是一个很好的起点。

# c++ - Visual Studio 中的 STATUS_SINGLE_STEP

> ID：14411431
> 
> 赞同：2
> 
> 时间：2013-01-19T05:29:12.230
> 
> 标签：c++, windows, debugging, exception-handling, x86

我试图`VEH handler`在我的代码中添加一个，并且在其中，在第一个**STATUS_ACCESS_VIOLATION**时，我通过设置跟踪位设置为 1，`exc->ContextRecord->EFlags |= 0x100`以便单步违反。

我看到处理程序被调用为**ACCESS_VIOLATION**但在跳过有问题的代码后从未被调用`exc->ExceptionRecord->ExceptionCode == STATUS_SINGLE_STEP`。

我怀疑调试器`the EFlags`在运行其处理程序时正在删除 0x100。如果我在命令提示符下运行，我会看到它被击中。无论如何我可以让调试器不改变跟踪标志并允许我的处理程序被调用`ExceptionCode = STATUS_SINGLE_STEP`吗？

谢谢

# html - twitter bootstrap nav-list 中的长文本跨越容器边界

> ID：14411432
> 
> 赞同：1
> 
> 时间：2013-01-19T05:29:28.267
> 
> 标签：html, css, twitter-bootstrap

大家好，我正在使用 Bootstrap 和 CodeIgniter 创建一个网站，现在我正在使用 2 侧导航列表设计新闻页面，但我遇到了问题。当我在导航列表上放一个长文本时，文本就出来了。请帮我。

```
<div class="container-fluid">

<div class="row-fluid">
    <div class="span2"></div>

    <div class="span8"></div>

    <div class="span2">

        <ul class="nav nav-list well">
            <div class="row-fluid">
            <li class="nav-header">Suggested Users</li>

            <li class="span12">
                <div class="span4">
                    <img src="http://i.imgur.com/0YJjVnH.gif" alt="User suggested">
                </div>
                <div class="span8">
                    <a href="#" style="font-size: 12px;">Aezir ssssssssssssssssssssssssssssss</a>
                    <button class="btn btn-mini btn-info pull-right">Follow</button>
                    <br>
                    <strong><small class="pull-right" style="font-size: 9px;">1024 followers</small></strong>
                </div>
            </li>
            </div>
        </ul> 

    </div>

    </div>

</div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-19T14:07:14.647

`word-wrap: break-word;`这里的问题是溢出容器的单词的长度，您可以通过在该标签中添加类似`a`的内容来破坏溢出容器的文本，但我建议只是为周围的长词添加足够的空间那个空间。这样，您就不必强迫单词换行。

# visual-studio-2010 - 如何在 Visual Studio 2010 中设置 CUDA 编译器标志？

> ID：14411435
> 
> 赞同：5
> 
> 时间：2013-01-19T05:30:32.800
> 
> 标签：visual-studio-2010, cuda, compiler-flags

在不断得到之后`error : identifier "atomicAdd" is undefined`，我找到了使用`-arch sm_20`flag编译的解决方案。但是如何在 VS 2010 中传递这个编译器标志呢？我在下面这样尝试过`Project > Properties`：

![在此处输入图像描述](../Images/c5984e7fd7988ec511512b316d3b0d24.png)

但这显然没有效果并且错误仍然存​​在 - 我做错了什么？

非常感谢。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-01-19T10:28:27.100

您可以在此对话框中选择 GPU 代码生成的选项：

![GPU 代码生成](../Images/f4e1614130f36aa5645dd891ccd7ddcb.png)

在这种情况下，“compute_20”表示我正在为虚拟计算架构 2.0 进行编译 - 虚拟架构会影响 PTX 生成阶段。

昏迷之后的第二部分是“sm_21”。这会影响 CUBIN 生成阶段。它定义了我想要将 PTX 编译到的真实 GPU 架构。

[您可以在此处](http://docs.nvidia.com/cuda/cuda-compiler-driver-nvcc/index.html#options-for-steering-gpu-code-generation)找到控制代码生成的 nvcc 命令行参数的详细说明。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-19T08:27:34.377

转到“CUDA C/C++”下的“设备”部分。在那里，在“代码生成”中，您可以指定您的`sm_20`. 不需要`-arch`.

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2014-05-21T14:26:42.237

请注意，项目和 .cu 文件都有单独的属性。显然它们在编译之前被合并。

我试图为计算 3.0 和更高版本指定 GPU，但 .cu 属性对 1.0 和 2.0 有一些剩余规范

# java - 什么样的应用程序使用 getopt “按顺序返回”行为？

> ID：14411449
> 
> 赞同：3
> 
> 时间：2013-01-19T05:32:17.287
> 
> 标签：java, c, linux, unix, command-line

引用自[getopt() Linux 手册页](http://www.kernel.org/doc/man-pages/online/pages/man3/getopt.3.html)：

> 如果***optstring***的第一个字符是`hyphen`( `-`)，则每个非选项 argv 元素都被视为具有字符代码 1 的选项的参数处理。（这被编写为期望选项和其他 argv 元素的程序使用以任何顺序，并且关心两者的顺序。）特殊参数`double hyphens`( `--`) 强制结束选项扫描，而不管扫描模式如何。

引用自[Java GetOpt 类的手册页](http://www.gnu.org/software/gnuprologjava/api/gnu/getopt/Getopt.html)：

> ...第二个是允许在任何地方使用选项，但要按照它们在命令行中出现的顺序返回所有元素。当遇到非选项元素时，返回整数 1，并且非选项元素的值存储在 optarg 中，如果它是该选项的参数。例如，“-a foo -d”，首先返回 'a'，然后返回 1（将 optarg 设置为“foo”），然后返回 'd'，然后返回 -1。当启用“按顺序返回”功能时，阻止 getopt() 扫描所有命令行元素的唯一方法是单独使用特殊的“--”字符串，如上所述。一个例子是“-a foo -b -- bar”，它将返回“a”，然后是整数 1，其中 optarg 设置为“foo”，然后是“b”，然后是 -1。optind 然后将指向“bar”作为第一个非选项 argv 元素。

是的，我理解上面所说的内容，但我仍然无法想象什么样的应用程序会使用这种行为。

有人可以提供一个命令行语法示例，该示例可能由实现“按顺序返回”行为的应用程序使用吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-19T05:42:02.620

`find`是混合选项和非选项参数的命令示例，并且关心顺序。

# java - 有没有一种简单的方法来确定文件是否是在 Windows 中使用 Java 的硬链接？

> ID：14411456
> 
> 赞同：1
> 
> 时间：2013-01-19T05:33:33.247
> 
> 标签：java, java-7, hardlink

> **可能重复：**
> [获取 Java 中的硬链接计数](https://stackoverflow.com/questions/11045321/get-hard-link-count-in-java)

所以我注意到 Java 1.7 在 nio 中使用新的 Paths 和 Files 等类添加了许多新的有用的文件操作。不过好像1.7只增加了文件操作来处理软链接或者创建硬链接。

有没有办法在不引入任何第三方库的情况下使用标准 Java 识别（不仅仅是创建）硬链接？

编辑：是的，我已经看到了“unix:nlink”问题并且已经更新为更具体。此视图在 Windows 环境中不起作用。

我认为问题的核心在于 Java 是否可以从操作系统获取 inode 信息，即使使用新库，我相信答案是否定的，除非有人知道……

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-19T05:43:39.927

在 Java 7 中有一个简单的解决方案：

```
java.nio.file.Files.getAttribute( Paths.get( "/", "path" ), "unix:nlink" ); 
```

# c++ - 有没有办法从 DLL 中判断主进程中有多少正在进行的线程？

> ID：14411460
> 
> 赞同：0
> 
> 时间：2013-01-19T05:34:10.873
> 
> 标签：c++, multithreading, dll

场景在这里：

如果一个程序被执行，在运行时假设它将链接到一些 DLL 文件，（主）程序/进程可能会或可能不会创建对 DLL 中函数的多线程函数调用。

那么，除了参数传递之外，DLL 是否有一种方法可以判断在运行时调用 DLL 中的函数的主进程是单线程还是多线程（例如，通过 Open MP） ?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-19T22:10:40.513

您可以检查和比较当前线程 ID 以检测来自不同线程的调用。您还可以实现一个 DLLMain() 函数，该函数为每个启动和终止的线程调用。我很确定您还可以检索当前进程的句柄并枚举其中运行的线程。只有第一个版本实际上会告诉您您的代码是否从不同的线程运行，但我认为例如 WinSock 将为您创建一个线程，即使您的程序是单线程的。

顺便说一句：考虑添加 win32api 标记并删除 C++ 标记。

# java - java.nio.file.FileAlreadyExistsException 如何在 java7 中解决这个问题

> ID：14411463
> 
> 赞同：4
> 
> 时间：2013-01-19T05:34:53.150
> 
> 标签：java, nio, java-7, java-io

我正在编写代码我正在使用 java nio api 创建一个目录我的代码段是

```
 Path target = Paths.get(""+folder_path+xx[0]);
    Set<PosixFilePermission> perms = null;
    if(xx[2].toLowerCase().equals("read"))
     perms =PosixFilePermissions.fromString("r--------");
    if(xx[2].toLowerCase().equals("read/write"))
    {
       perms =PosixFilePermissions.fromString("rw-------");
    }
    FileAttribute<Set<PosixFilePermission>> attr = PosixFilePermissions.asFileAttribute(perms);

    Files.createDirectory(target, attr); 
```

但它抛出了一个错误

`java.nio.file.FileAlreadyExistsException: /home/ritesh/Desktop/userA`

我知道的原因是因为一个目录已经同名但我想用我的代码目录生成的目录覆盖 userA 目录如何完成这个？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-01-19T05:44:27.363

代替

```
Files.createDirectory(target, attr); 
```

尝试使用

```
Files.createDirectories(target, attr); 
```

在文档中`Files.createDirectories()`：

> 通过首先创建所有不存在的父目录来创建目录。与 createDirectory 方法不同，如果由于目录已存在而无法创建目录，则不会引发异常。

# php - 将变量传递给其他 php 文档

> ID：14411464
> 
> 赞同：-2
> 
> 时间：2013-01-19T05:35:02.577
> 
> 标签：php

我正在尝试设置一个在 URL 中接收变量的 php，然后使用该信息创建一个存折传递。

如果我手动设置变量，一切正常，但如果我使用 $_GET 从 URL 获取数据，它将不会显示。

这是我的索引，我们是否正在从 URL 加载变量。

```
<?php

$ac = $_GET['ac'];

$af = $ac;

$log = print_r($_SERVER,1);
$log .= print_r($_POST,1);
$log .= print_r($_GET,1);
file_put_contents('./log/'.time().'.txt', $log);

if(($_POST['time'] != '')||($_GET['update'] != ''))
  {
    require('./passkit.php');

    $Certificates = array('AppleWWDRCA'  => './certs/AppleWWDRCA.pem', 
                          'Certificate'  => './certs/Certificate.p12', 
                          'CertPassword' => 'password');

    $ImageFiles = array('images/icon.png', 'images/icon@2x.png', 'images/logo.png');

    $datostest = array( '1'  => $af, 
                          '2'  => '5', 
                          '3' => '6');  

    $data = array('./data/array.php',
                  './data/json.php',
                  './data/small.php',
                  './data/coupon.json',
                  './data/event.json',
                  './data/small.json',
                  './data/generic.json');

    if($_GET['update'] != '')
      {
        $example_data = 4;
      }
    elseif(!is_numeric($_POST['aexample']))
      {
        $example_data = rand(0,6);
      }
    else
      {
        $example_data = $_POST['aexample'];
      }

    if($example_data < 3)
      {
        include($data[$example_data]);
      }
    else
      {
        $JSON = file_get_contents($data[$example_data]);
      }

    $TempPath = './temp/';

    echoPass(createPass($Certificates, $ImageFiles, $JSON, 'passtest', $TempPath));

    m_uwait(12500);
    die();
  }

?> 
```

这是通行证签名过程

```
<?php

function PEM2DER($signature)
  {
    $signature = substr($signature, (strpos($signature, 'filename="smime.p7s"')+20));
    return base64_decode(trim(substr($signature, 0, strpos($signature, '------'))));
  }

function createPass($Certificates, $ImageFiles, $JSON, $PassName = 'pass', $TempPath = './temp/', $Debug = false)
  {
    //define pathes
    $UniquePassId  = time().hash("CRC32", $_SERVER["REMOTE_ADDR"].$_SERVER["HTTP_USER_AGENT"]);
    $ManifestPath  = $TempPath.$UniquePassId.'/manifest.json';
    $SignaturePath = $TempPath.$UniquePassId.'/signature';
    $PKPassPath    = $TempPath.$UniquePassId.'/'.$PassName.'.pkpass';

    //create temp dir
    mkdir($TempPath.$UniquePassId, 0777, true);

    //generate SHA1 hashes
    $FileHashes['pass.json'] = hash("SHA1", $JSON);
    foreach($ImageFiles as $ImagePath)
      {
        $ImageName = basename($ImagePath);
        $FileHashes[strtolower($ImageName)] = hash("SHA1", file_get_contents($ImagePath));
      }

    //save hashes as json in temp file
    $Manifest = json_encode($FileHashes);
    file_put_contents($ManifestPath, $Manifest);

    //load .p12 certificate
    $PKCS12 = file_get_contents($Certificates['Certificate']);
    $certs = array();
    if(openssl_pkcs12_read($PKCS12, $certs, $Certificates['CertPassword']) == true)
      {
        $certdata = openssl_x509_read($certs['cert']);
        $privkey = openssl_pkey_get_private($certs['pkey'], $Certificates['CertPassword']);
      }

    //sign file hashes with AppleWWDRCA certificate
    openssl_pkcs7_sign($ManifestPath, $SignaturePath, $certdata, $privkey, array(), PKCS7_BINARY | PKCS7_DETACHED, $Certificates['AppleWWDRCA']);
    $ManifestSignature = file_get_contents($SignaturePath);
    $ManifestSignatureDER = PEM2DER($ManifestSignature);

    //put files (and strings as files) in a zip archive
    $ZIP = new ZipArchive();
    $ZIP->open($PKPassPath, ZIPARCHIVE::CREATE);
    $ZIP->addFromString('signature', $ManifestSignatureDER);
    $ZIP->addFromString('manifest.json', $Manifest);
    $ZIP->addFromString('pass.json', $JSON);
    foreach($ImageFiles as $ImagePath)
      {
        $ImageName = basename($ImagePath);
        $ZIP->addFile($ImagePath, $ImageName);
      }
    $ZIP->close();

    //load pass data und delete temp files (if debug mode is off)
    $Pass['data'] = file_get_contents($PKPassPath);
    $Pass['size'] = filesize($PKPassPath);
    $Pass['name'] = $PassName;
    if(!$Debug)
      {
        unlink($TempPath.$UniquePassId.'/manifest.json');
        unlink($TempPath.$UniquePassId.'/'.$PassName.'.pkpass');
        unlink($TempPath.$UniquePassId.'/signature');
        rmdir($TempPath.$UniquePassId);
      }

    return $Pass;
  }

function echoPass($Pass)
  {
    //send http headers and zip archive content to client
    header('Pragma: no-cache');
    header('Content-type: application/vnd.apple.pkpass');
    header('Content-length: '.$Pass['size']);
    header('Content-Disposition: attachment; filename="'.$Pass['name'].'.pkpass"');
    echo $Pass['data'];
  }

?> 
```

最后，我在这里使用这些变量。

```
<?php

$PassStyle = "boardingPass";

$JSON = '{
  "authenticationToken": "vxwxd7J8AlNNFPS8k0a0FfUFtq0ewzFdc",
 "foregroundColor" : "rgb(255, 255, 255)",
  "backgroundColor" : "rgb(27, 66, 152)",
  "labelColor" : "rgb(108, 173, 223)",
  "barcode": {
    "format": "PKBarcodeFormatQR",
    "message": "'.hash("SHA256", time().rand(0,2000000000)).'",
    "messageEncoding": "iso-8859-1"
  },
  "description": "Random '.$PassStyle.' Demo Pass",
  "foregroundColor": "rgb(251, 251, 251)",
  "formatVersion": 1,
  "'.$PassStyle.'": {
    "primaryFields": [
      {
        "key": "number",
        "value": "'.$datostest['1'].'"
      }
    ]
  },
  "logoText": "passkit.php",
  "organizationName": "Apple Inc",
  "passTypeIdentifier": "pass.com.apple.demo",
  "serialNumber": "8j23fm3",
  "teamIdentifier": "123ABCDEFG"
}';

?> 
```

希望你能帮忙。如果变量是手动分配的，而如果是从 URL 加载的，则无法理解为什么它会起作用。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-19T05:54:36.307

看看你上面发布的代码太多了，我想它很难检查你的问题......根据这个问题，我猜你无法访问 Get 值。让我告诉你 get 是如何工作的......

```
<a href="filename.php?value='what_you_want_to_pass'">

and at your page...

$value = $_GET['value']; 
```

这是实际语法，只需检查您是否已通过链接中的值...

# javascript - Javascript 出生日期文本框

> ID：14411468
> 
> 赞同：-1
> 
> 时间：2013-01-19T05:35:44.993
> 
> 标签：javascript, jquery

作为一个新手，我真的不太了解javascript。请帮助我在此链接中开发类似工作的出生日期文本框：http: [//ojas.guj.nic.in/GFJobApply.aspx ?sid=wGvtB4mUGuc=&yr=kckKNSEPFLY=&ano= K3JOsteln/k=](http://ojas.guj.nic.in/GFJobApply.aspx?sid=wGvtB4mUGuc=&yr=kckKNSEPFLY=&ano=K3JOsteln/k=)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-19T16:48:39.857

**解决方案 1：** 您可以轻松地`jquery Datepicker`用于您的网站。

它看起来像下面。

![在此处输入图像描述](../Images/d43d7a32388ff766a4c183a65793e945.png)

有关更多信息，请查看[**日期选择器**](http://jqueryui.com/datepicker/)

**解决方案2：**您可以使用`jQuery input mask plugin`

用法如下：

```
<script src="Scripts/jquery.maskedinput-1.2.2.min.js" type="text/javascript"></script>
    <script type="text/javascript">
        $(document).ready(function () {

            //Input Mask for date of birth or date in general
            $("#txtDOB").mask("99/99/9999");

        });
    </script> 
```

有关更多信息，请查看[**HowTo：使用 jQuery 输入掩码插件**](http://www.emadmokhtar.com/2011/01/howto-use-jquery-input-mask-plugin-in-asp-net/)

我希望这对你有帮助。

# php - 为什么我的 alphaNumeric 验证规则在我的 CakePHP 模型中不起作用？

> ID：14411473
> 
> 赞同：1
> 
> 时间：2013-01-19T05:36:00.797
> 
> 标签：php, cakephp

我已经在我的字段中尝试了以下验证。

我的字段是标题，内容。

```
var $validate = array('title' =>array('alphaNumeric'=>array('rule'=>'alphaNumeric','required'=>'true','message'=>'Enter a title for this post',)),
                     'content'=>array('alphaNumeric'=>array('rule'=>'alphaNumeric','required'=>'true','message'=>'Enter some content for this post',))); 
```

但是每当我在表单中输入一些文本并尝试提交时，它都会显示错误消息...

验证有什么问题吗？

这是我的表格

```
<h2> Add a Post Here </h2>
Please fill in all the fields.
<?php
echo $this->form->create('Post');
echo $this->form->error('Post.title');
echo $this->form- >input('Post.title',array('id'=>'posttitle','label'=>'title','size'=>'50','maxlength'=>'255','error'=>false));
echo $this->form->error('Post.content');
echo $this->form->input('Post.content',array('id'=>'postcontent','type'=>'textarea','label'=>'Content:','rows'=>'10','error'=>false));
echo $this->form->end(array('label'=>'Submit Post'));
?> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-19T06:29:03.907

您可以使用自定义正则表达式。

```
'rule'    => array('custom', '[a-zA-Z0-9, ]+'), 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-12-22T05:40:28.490

我必须按如下方式更改正则表达式才能使其正常工作。

```
 'alphaNumeric' => array(
            'rule' => array('custom', '/[a-zA-Z0-9, ]+/'),
            'message' => 'Only letters and numbers allowed', 
```

为什么内置的 alphaNumeric 规则不这样做呢？

# vba - 使用 Sql 查询删除表中的所有数据，但在 access 2007 中的一列中

> ID：14411474
> 
> 赞同：-1
> 
> 时间：2013-01-19T05:36:15.383
> 
> 标签：vba, ms-access

我正在使用 access 2007，我在一个表中有近 40 列，我想将除一列之外的所有数据重置为空。我正在寻找这样的正确查询

```
Delete table.* from table except one column 
```

任何人都知道如何做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-19T05:42:48.047

您可以使用更新。

```
UPDATE table
SET
  col1 = null,
  col2 = null,
  col4 = null,
  ....
WHERE 1=1 
```

这将使 col3 中的所有数据保持不变。

# javascript - 使用 javascript 获取 XML

> ID：14411475
> 
> 赞同：0
> 
> 时间：2013-01-19T05:36:17.733
> 
> 标签：javascript, xml, send

此代码不会执行。我认为该`xhttp.send()`功能有问题。因为`alert`它执行之前的`alert`函数但它没有执行之后的函数：

```
<html>
<head>
    <title>PAGE OUTPUT</title>
    <script type="text/javascript">
    function aa()
    {   
        var xhttp;
        alert("hi welcome"); 
        if(window.XMLHttpRequest)
        {
            xhttp=new XMLHttpRequest();
            alert("hi");
        }
        else
        {
            xhttp=new ActiveXObject("Microsoft.XMLHTTP");
        }
        xhttp.open("GET","vehicle.xml",false);
        alert("OPEN EXECUTED");
        xhttp.send();
        alert("SEND EXECUTED");
        xmlDoc=xhttp.responseXML;
        alert("HI I HAVE REACHED OVER HERE");
        var vehicle=xmlDoc.documentElement;
        var car=vehicle.firstChild.nodeValue;
        var price=car.firstChild.nodeValue;
        alert(price);
    }
    </script> 
</head>
<body>
<center><input type="submit" onclick="aa()"></center>
</body> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-19T09:19:30.873

出于安全原因，您最好检查 URL 是否类似于**file:///path/to/file**浏览器将无法从页面发送任何 XHR（现在这似乎不合理）。

您应该为这种情况启动一个服务器，并在**http://localhost/path/to/file**中访问该页面。我知道的最简单的方法是启动[Python](http://python.org/) SimpleHTTPServer。如果你使用的是 MS Windows，你可以自己安装 python，或者它可以在 Mac/任何 Linux 发行版中使用。然后按照这些步骤

*   启动终端（在 MS Windows 上称为命令行提示符，使用 Win+R 然后键入启动终端`cmd`）
*   `cd`到文件所在的路径
*   执行`python -m SimpleHTTPServer`
*   `http://localhost:8000/html_file`在您的浏览器中访问
*   像往常一样点击那个按钮

现在你会看到那些`alert`s。此外，如有必要，您可能必须更改`xmlDoc=xhttp.responseXML`为。`xmlDoc = xhttp.responseText`

然后尝试[jQuery](http://api.jquery.com/jQuery.ajax/)，这对于 ajax 来说要容易得多。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-19T05:55:57.613

取消提交按钮点击

```
onclick="aa(); return false;" 
```

# javascript - 切换身体背景

> ID：14411476
> 
> 赞同：0
> 
> 时间：2013-01-19T05:36:27.483
> 
> 标签：javascript, jquery, css

我希望有人可以帮助我，我有这个 javascript 代码可以切换我的身体背景

```
function changeDivImage() {
    imgPath = document.body.style.backgroundImage;
    if (imgPath == "url(images/bg.jpg)" || imgPath == "") {
        document.body.style.backgroundImage = "url(images/bg_2.jpg)";
    } else {
        document.body.style.backgroundImage = "url(images/bg.jpg)";
    }
} 
```

我用这个链接激活它：

```
<a href="#" onclick="changeDivImage()">change</a> 
```

我的问题是它在 IE 和 firefox 中工作正常，但在 chrome 中，链接工作两次然后停止工作，它基本上切换到 bg_2.jpg 然后再次点击切换回 bg.jpg 然后它再也不会工作了：/

另外，有没有更简单的方法来做到这一点？只有css吗？基本上我有两张身体背景图片，我希望能够单击链接切换 1，然后再次单击切换 2，然后返回 1，等等...

最后，我怎样才能让两个背景淡入淡出？而不是在两者之间切换？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-19T05:48:59.753

使用 CSS 类！

**CSS 规则**

```
body { background-image: url(images/bg.jpg); }
body.on { background-image: url(images/bg_2.jpg); } 
```

**JavaScript：**

```
function changeDivImage() {
    $("body").toggleClass("on");
} 
```

如果你想淡化，你最终将不得不淡化整个页面。使用可以使用 jQuery`fadeIn`和`fadeOut`.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-19T05:51:17.537

这是您的解决方案：（这也支持其他图像）。

```
var m = 0, imgs = ["images/bg.jpg", "images/bg_2.jpg"];

function changeDivImage()
{
    document.body.style.backgroundImage = "url(" + imgs[m] + ")";
    m = (m + 1) % imgs.length;
} 
```

这是**[jsFiddle 上的工作代码](http://jsfiddle.net/CvEtq/)**。

这是**[jsFiddle 上的 jQuery 版本](http://jsfiddle.net/7VdAV/)**。

**更新：*交叉褪色版本***

这是**[jsFiddle 上的交叉淡入淡出的 jQuery 版本](http://jsfiddle.net/ftdmw/)**。

您不希望整个页面（包含所有元素）淡入/淡出。只有 bg 应该褪色。所以，这个版本有一个 div 用作**背景容器**。它的**z 深度**是这样安排的，以便它将自己保持在页面上最底部的元素；并在其两个孩子之间切换以创建交叉淡入淡出效果。

**HTML：**

```
<div id="bg">
    <div id="bg-top"></div>
    <div id="bg-bottom"></div>
</div>
<a id="bg-changer" href="#">change</a> 
```

**CSS：**

```
div#bg, div#bg-top, div#bg-bottom
{
    display: block;
    position: fixed;
    width: 100%;
    /*height: 500px;*/ /* height is set by javascript on every window resize */
    overflow: hidden;
}
div#bg 
{
    z-index: -99;
} 
```

**Javascript（jQuery）：**

```
var m = 0, 
/* Array of background images. You can add more to it. */
imgs = ["images/bg.jpg", "images/bg_2.jpg"];

/* Toggles the background images with cross-fade effect. */
function changeDivImage()
{
    setBgHeight();
    var imgTop = imgs[m];
    m = (m + 1) % imgs.length;
    var imgBottom = imgs[m];
    $('div#bg')
        .children('#bg-top').show()
        .css('background-image', 'url(' + imgTop + ')')
        .fadeOut('slow')
        .end()
        .children('#bg-bottom').hide()
        .css('background-image', 'url(' + imgBottom + ')')
        .fadeIn('slow');
}

/* Sets the background div height to (fit the) window height. */
function setBgHeight()
{
    var h = $(window).height();
    $('div#bg').height(h).children().height(h);
}

/* DOM ready event handler. */
$(document).ready(function(event)
{
    $('a#bg-changer').click(function(event) { changeDivImage(); });
    changeDivImage(); //fade in the first image when the DOM is ready.
});

/* Window resize event handler. */
$(window).resize(function(event)
{
    setBgHeight(); //set the background height everytime.
}); 
```

这可以进一步改进，但它应该给你一个想法。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-19T05:47:28.467

有一种更清洁的方法可以做到这一点。作为演示，请参阅：

```
<button id="toggle" type="button">Toggle Background Color</button>

var togglebg = (function(){
    var bgs = ['black','blue','red','green'];

    return function(){
        document.body.style.backgroundColor = bgs[0];
        bgs.push(bgs.shift());
    }
})();

document.getElementById('toggle').onclick = togglebg; 
```

[http://jsfiddle.net/userdude/KYDKG/](http://jsfiddle.net/userdude/KYDKG/)

显然，您可以将 替换为`Color`，`Image`但这只是遍历`togglebg`函数本地的列表，始终使用第一个可用的列表。这也需要 run `window.onload`，最好作为`window.addEventListener`/ `window.attachEvent`on the `button`or 触发它运行的元素。

或者使用 jQuery（我现在注意到这个标签）：

```
jQuery(document).ready(function ($) {
    var togglebg = (function () {
        var bgs = ['black', 'blue', 'red', 'green'];

        return function () {
            document.body.style.backgroundColor = bgs[0];
            bgs.push(bgs.shift());
        }
    })();

    $('#toggle').on('click', togglebg);
}); 
```

[http://jsfiddle.net/userdude/KYDKG/1/](http://jsfiddle.net/userdude/KYDKG/1/)

这是使用真实图像的[DummyImage 版本：](http://dummyimage.com/)

```
jQuery(document).ready(function ($) {
    var togglebg = (function () {
        var bgs = [
                '000/ffffff&text=Black and White',
                '0000ff/ffffff&text=Blue and White',
                'ffff00/000&text=Yellow and Black',
                'ff0000/00ff00&text=Red and Green'
            ],
            url = "url('http://dummyimage.com/600x400/{img}')";

        return function () {
            document.body.style.backgroundImage = url.replace('{img}', bgs[0]);
            bgs.push(bgs.shift());
        }
    })();

    $('#toggle').on('click', togglebg);
}); 
```

[http://jsfiddle.net/userdude/KYDKG/2/](http://jsfiddle.net/userdude/KYDKG/2/)

# android - 如何使用意图停止android中的活动？

> ID：14411477
> 
> 赞同：18
> 
> 时间：2013-01-19T05:36:47.720
> 
> 标签：android, android-intent

我认为这是一个基本问题。是否有任何选项可以通过使用意图来停止活动。

```
Intent intent = new Intent(Intent.ACTION_CALL,Uri.parse("tel:5554"));
startActivity(intent); 
```

这是我的代码。如果用户忙或其他情况，我想停止此活动（也就是说，我想挂断此电话）。我能为此做些什么？我试过这个：

```
if (condition) {
    Intent intent = new Intent(Intent.ACTION_CALL,Uri.parse("tel:5554"));
    startActivity(intent);
}else {
    this.finish();
} 
```

但是没有用。有人有建议吗？

* * *

## 回答 #1

> 赞同：28
> 
> 时间：2013-01-19T06:03:36.723

几天前我遇到了这个问题，我很高兴地告诉你我已经找到了解决这个问题的方法。

首先，在要停止的活动中添加`AndroidManifest.xml`：

```
android:launchMode="singleTop" 
```

我将使用 CheckBox 示例。当它被选中时，活动开始，当未选中时，将终止活动。

示例 Activity A 正在调用 Activity B，然后使用意图杀死它。

代码放入A：

```
checkbox.setOnClickListener(new View.OnClickListener() {

        @Override
        public void onClick(View arg0) {
            Intent intent = new Intent(A.this, B.class);
            intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);
            intent.addFlags(Intent.FLAG_ACTIVITY_SINGLE_TOP);
            if (enable.isChecked()) {
                intent.putExtra("keep", true);
                startActivity(intent);
            }
            else
            {
                intent.putExtra("keep", false);
                startActivity(intent);
            }
        }
    }); 
```

要放入B的代码：

```
boolean keep;
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.B);
    intent = this.getIntent();
    boolean keep = intent.getExtras().getBoolean("keep");
    if(keep==true)
    {
        //execute your code here

    }
 }
    @Override
protected void onNewIntent(Intent intent)
{
    super.onNewIntent(intent);
    keep = intent.getExtras().getBoolean("keep");
    if(keep==false)
    {
        B.this.finish();
    }
} 
```

解释：这基本上做的是，当复选框被选中时，它调用活动并传递一个布尔值，如果它是真的，活动保持活动状态并被带到前台。现在，如果您不传递标志，`singleTop`那么将创建此活动的许多实例。`singleTop`确保只调用相同的实例。现在，当未选中该复选框时，将传递一个新的 keep 值，该值在 B 中进行验证。如果未选中，则 Activity A 将传递 false，因此 B 从`onNewIntent()`函数内终止自身。

PS - 您也可以从另一个 Activity 关闭 Activity B。只需使用如果其他活动是 C：

```
Intent intent = new Intent(C.this, B.class);
intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);
intent.addFlags(Intent.FLAG_ACTIVITY_SINGLE_TOP);
intent.putExtra("keep", false);
startActivity(intent); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-06-29T00:36:56.097

您可以关闭播放商店的后台数据和播放服务以不进入播放商店。它只会说“无法加载”这是我发现停止意图的唯一方法

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-01-23T23:36:51.027

```
This worked for me: 
```

AndroidManifest.xml：

```
 <activity android:name=".ui.activities.SettingsActivity"
            android:launchMode="singleTop"
            android:excludeFromRecents="true">
            <intent-filter>
                <action android:name="android.intent.action.STOP_SERVICE" />
                <category android:name="android.intent.category.DEFAULT" />
                <data android:mimeType="text/plain" />
            </intent-filter>
        </activity> 
```

意图：

```
Intent stopBackgroundServiceIntent = new Intent(this, SettingsActivity.class);
// Remove the activity when finish is called
intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK );
intent.addFlags(Intent.FLAG_ACTIVITY_SINGLE_TOP); 
```

# java - Java 无法删除“C:\”驱动器上的文件

> ID：14411480
> 
> 赞同：3
> 
> 时间：2013-01-19T05:37:14.957
> 
> 标签：java, windows, file, permissions

我有以下代码：

```
public Tester()
{
    try {
        File f4 = new File("C:\\Vase.zip");
        System.out.println(f4.exists());
        f4.delete();
        System.out.println(f4.exists());
    } catch (Exception e) {
        e.printStackTrace();
    }
} 
```

当我运行程序时，它不会删除文件。（*如果我把文件放在D盘，然后要求它删除，它就完美了。*）所以我知道这是一个权限的事情。我正在使用日食。我只在管理员模式下运行 Eclipse [在 Windows 中]。

该程序能够写入和删除其他文件，但仅此一个不起作用。谁能指导我如何解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-19T07:26:05.000

可能它在您的存档器中打开。

或者别的地方。

或者（不太可能但可能） - 某个进程结束了，但系统仍然代表该进程持有它。

1.  关闭所有应用程序（当然除了 Eclipse），然后重试。
2.  它 1\. 不起作用 - 尝试重新启动，打开 Eclipse 并重试。

如果那不起作用-权限应该是问题所在。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-19T06:45:16.553

这可能是发生管理员权限问题。

请以管理员身份运行您的 IDE 或使用命令提示符运行您的代码，然后它将轻松删除文件。

# python - 从另一个“采购”一个 Python 文件

> ID：14411481
> 
> 赞同：4
> 
> 时间：2013-01-19T05:37:44.207
> 
> 标签：python

我有一项服务，用户可以上传鸡蛋文件。问题是`settings.py`我需要提取一个文件，我应该只接受该文件中的一些值。该文件由常规 Python 变量组成，例如：

```
VAR1 = 'Hello'
VAR2 = ['my.list']
VAR3 = {
    'a': 'b'
} 
```

我需要以一种好的方式提取这些变量，并且我一直在寻找一种将文件“来源”（我想是 Bash 术语..）`settings.py`到我的工作 Python 文件以提取变量的方法。搜索时我还没有找到这样做的方法。有任何想法吗？

**我的（特定）解决方案**

```
# Append path to sys.path
sys.path.insert(0, os.path.dirname('/path/to/settings.py'))

import settings as egg_settings
LOGGER.info('Settings: VAR1 = %s', egg_settings.VAR1)

# Remove from sys.path
sys.path.pop(0) 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-01-19T05:49:38.707

如果你只是做`import settings`所有的变量将可用等`settings.VAR1` `settings.VAR2`。

# excel - 在 Excel VBA 中访问命令行数据失败

> ID：14411482
> 
> 赞同：2
> 
> 时间：2013-01-19T05:38:42.997
> 
> 标签：excel, vba

我需要访问 Excel VBA 宏中的命令行参数，并发现了许多变体，但只有一个与 Excel-2010 一起使用，似乎 API 随着时间的推移而发生了变化。我尝试了我在“[外面](http://www.dmcinfo.com/Blog/articleType/ArticleView/articleId/247/Read-Command-Line-Parameters-from-VBA.aspx)”找到的这段代码：

```
 Dim pCmdLine As Long     ' Pointer to the Comand-line string
  Dim strCmdLine As String ' Command line string
  Dim CmdLine As String    ' Command line string

  ' Get the pointer to the command line string
   pCmdLine = GetCommandLineA

   ' Fill the string with zeros
   '    (300 characters for command line seems to be enough)
   strCmdLine = String$(300, vbNullChar)

   ' Copy from the pointer to VBA-style string
   lstrcpynA strCmdLine, pCmdLine, Len(strCmdLine)

   ' At this point we got the string,
   '     now skip the rest of it filled with 0 characters.
   CmdLine = Left(strCmdLine, InStr(1, strCmdLine, vbNullChar) - 1)

  MsgBox "Length of the command line = " & Len(CmdLine) '' Debug
  MsgBox "Command Line:: " & CmdLine '' Debug 
```

我将其放入电子表格的 Auto_open 宏中。如果我尝试这个电话：

```
start excel TestMacro.xlsm /e/abcd/xyz 
```

它似乎通常有效并且宏观报告：

```
Command line = " C:/.../excel.exe TestMacro.xlsm" 
```

所以我得到了调用部分，但是参数丢失了。

**部分解决方案：** 我发现如果我将调用更改为：

```
 start excel  /e/abcd/xyz TestMacro.xlsm 
```

它可以工作，除了必须更改解析代码以忽略不在末尾的文件名，而且这种形式似乎不允许任何参数中的任何空格，即使引用。系统似乎将它们解释为目标 excel 文件的文件名并给出错误。例如：

```
start excel /e/abc/"my sheet"/ TestMacro.xlsm 
```

给出错误：

```
file 'sheet"/.xlsx' not found 
```

尽管在虚假启动错误之后，预期的工作表确实打开并让整条生产线都可以使用。

# java - 使用 drawImage(...) 重复缩放和过滤图像的性能和解决方案

> ID：14411486
> 
> 赞同：1
> 
> 时间：2013-01-19T05:38:56.100
> 
> 标签：java, image, swing

我正在制作一个基于网格的游戏，它会随着窗口大小的变化而调整其网格的大小。将来我也可能会为照明效果应用滤色器。我担心这段代码的性能，它在屏幕上绘制了一个网格方块中的图像。

```
public void drawSquares(Graphics g){
        ListIterator<Viewport> iterator = vp.listIterator();
        while(iterator.hasNext()){
            Viewport v = (Viewport)iterator.next();
            BufferedImage img = v.getSqView().getImage();
            Rectangle b = v.getPixRect();

            g.drawImage(img, b.x, b.y, b.width, b.height, v.getSqView().getBackground(), null);
        }
        return;
    } 
```

这段代码所做的是获取图像（存储在 中`img`）并获取它需要适合的像素矩形（存储在 中`b`），然后将其绘制在通过分配的空间中`drawImage`。

`drawImage`表示它会即时缩放图像 - 这意味着所有图像都会在每一帧中重新缩放。但是窗口很少调整大小，所以这必须浪费大量的处理器时间一遍又一遍地做同样的事情。

现在我看到了这一点，并决定只在调整一次大小时更新所有图像，然后存储结果并能够正常绘制。

像这样：

```
public void resizeImage(int width, int height){
         BufferedImage resized = new BufferedImage(width, height, img.getType());
        Graphics2D g = resized.createGraphics();
        g.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BILINEAR);
        g.drawImage(img, 0, 0, width, height, 0, 0, img.getWidth(), img.getHeight(), null);
        g.dispose();
        img = resized;
    } 
```

这不起作用 - 我认为它与`img = resized`. 我只是用这段代码丢失了所有图像。

那我有几个问题。

1.  用drawImage重复缩放的性能成本是多少？即使在帧之间没有调整窗口大小，它有什么不同吗？
2.  我应该如何让第二个代码片段工作？出了什么问题？
3.  如果我将照明滤镜应用到图块上，如果我每帧都运行它，是否也会消耗大量的处理器时间？（在 800x800 左右的显示器上考虑 225 个左右的小图像）
4.  应用照明滤镜的最佳做法是什么？我计划在整个地图上覆盖一个黑色滤镜，然后暴露光源周围的区域。

感谢您对此的任何帮助！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-19T08:11:06.350

调整此框架的大小[`Grid`](https://stackoverflow.com/a/2901472/230513)以获得对延迟的主观感觉。使用[此处](https://stackoverflow.com/a/7546025/230513)显示的方法来测量延迟。[在分析器](https://stackoverflow.com/q/2064427/230513)中验证您的发现。

您没有理由不能`List<Image>`按照您的建议调整 a 元素的大小，而是`add()`在`resized`创建实例时将它们调整为新列表。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-20T00:30:40.323

> 用drawImage重复缩放的性能成本是多少？即使在帧之间没有调整窗口大小，它有什么不同吗？

你应该总是测量，但这里肯定有性能成本，即使窗口没有调整大小，因为正如 Javadoc 所说，这个 drawImage 方法背后没有缓存。成本还取决于帧速率。

> 我应该如何让第二个代码片段工作？出了什么问题？

第二个代码片段应该没问题，我认为问题出在其他地方。尝试在“小而完整”的程序中重现问题，如果您仍然看到问题，请发布另一个问题。

> 如果我将照明滤镜应用到图块上，如果我每帧都运行它，是否也会消耗大量的处理器时间？（在 800x800 左右的显示器上考虑 225 个左右的小图像）

你应该总是测量:)

> 应用照明滤镜的最佳做法是什么？我计划在整个地图上覆盖一个黑色滤镜，然后暴露光源周围的区域。

您可以为此使用[AlphaComposite 。](http://docs.oracle.com/javase/6/docs/api/java/awt/AlphaComposite.html)

# sql - 如何在 SQL 中处理许多整数/字符串

> ID：14411488
> 
> 赞同：0
> 
> 时间：2013-01-19T05:39:01.807
> 
> 标签：sql, string, postgresql, integer

我想创建一个可以处理（40 个左右）整数和尽可能多的字符串的表。什么是最好的方法（是的，我对 SQL 不太了解，但我正在尝试） TYIA -Roland

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-19T05:45:16.263

创建一个包含以下列的表：
- 整数列 - 字符串列。

您还可以添加主键、自动增量、自动填充（如果可能，您必须自己填写）

# php - 无法破坏活动的 lambda 函数

> ID：14411492
> 
> 赞同：2
> 
> 时间：2013-01-19T05:40:48.043
> 
> 标签：php, lambda, closures

有人可以告诉我在 PHP 中看到此错误的最常见原因：

> 无法在...中破坏活动的 lambda 函数

我猜想某处有代码试图破坏一个包含对自身的引用的闭包，编译器对此感到恼火。

我们比我想要的更频繁地得到这些，我想知道我们使用的是什么模式，这可能是导致它的罪魁祸首。

我会附上一个代码片段，但错误通常指向一个文件，而不是文件中可能提供提示的行。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-19T06:56:59.600

在 php.net 中发布了类似的错误。下面是链接。

希望对您有所帮助。

[https://bugs.php.net/bug.php?id=62452](https://bugs.php.net/bug.php?id=62452)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-02-19T10:31:26.610

这样的致命错误将导致如下代码：

```
set_exception_handler(function ($e) {
        echo "My exception handler";

        restore_exception_handler();

        throw new Exception("Throw this instead.");
});
throw new Exception("An exception"); 
```

或者像这样：

```
function destroy_handler() {
    restore_exception_handler();
}

function update_handler() {
    destroy_handler();
}

set_exception_handler(function ($e) {
        echo "My exception handler";

        update_handler();

        throw new Exception("Throw this instead.");
});
throw new Exception("An exception"); 
```

当抛出异常时，将`set_exception_handler()`执行给定的回调，并且一旦`restore_exception_handler()`调用，就会发生致命错误，因为对该闭包的相同引用正在其自己的范围内被销毁（或重新分配）（在 in 的示例中也是如此`hanskrentel at yahoo dot de`）发布的链接`Sameer K`）。

您可以从第二个示例中看到，即使使用嵌套范围，也会发生同样的情况。这是因为`restore_exception_handler`将破坏最后设置的异常处理程序，而不是它的副本（这就像在您仍在评估将为变量赋予初始值的表达式时重新分配变量或取消设置它）。

如果您说代码中的错误指向另一个文件，我建议您检查 lambda 中的所有调用，这些调用在其他文件中的函数和/或方法中执行“跳转”，并检查您是否正在重新分配或销毁对lambda 本身。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-12-09T14:50:46.783

将`set_exception_handler`返回之前的异常处理程序：

> 返回先前定义的异常处理程序的名称，或错误时返回 NULL。如果没有定义先前的处理程序，也返回 NULL。 [php.net：set_exception_handler](http://php.net/manual/en/function.set-exception-handler.php)

```
<?php

class MyException extends Exception {}

set_exception_handler(function(Exception $e){
    echo "Old handler:".$e->getMessage();
});

$lastHandler = set_exception_handler(function(Exception $e) use (&$lastHandler) {
    if ($e instanceof MyException) {
        echo "New handler:".$e->getMessage();
        return;
    }

    if (is_callable($lastHandler)) {
        return call_user_func_array($lastHandler, [$e]);
    }

    throw $e;
}); 
```

触发异常处理程序：

```
throw new MyException("Exception one", 1); 
```

输出：`New handler:Exception one`

```
throw new Exception("Exception two", 1); 
```

输出：`Old handler:Exception two`

# php - PHP / MySQL Query 禁用 jquery 功能

> ID：14411499
> 
> 赞同：-1
> 
> 时间：2013-01-19T05:42:29.950
> 
> 标签：php, jquery, mysql

我正在尝试在 jQuery 表中显示 MySQL 表中的数据（来自[http://www.datatables.net](http://www.datatables.net)）。使用纯 HTML 文本，jQuery 表格功能可以完美运行，但是一旦我从数据库中提取数据，所有 jQuery 表格功能就会停止工作（排序、搜索、分页等）

我已经用谷歌搜索了它并首先开始构建我自己的分页功能，但后来我意识到桌子上的所有 jQuery 功能都被禁用了，所以我假设我的代码中的某些东西正在禁用这些功能。

我在下面放置了完整的表格代码：

```
 <!-- table -->
        <div class="row-fluid sortable">        
            <div class="box span12">
                <div class="box-header" data-original-title>
                    <h2><i class="halflings-icon user"></i><span class="break"></span>Tickets</h2>
                    <div class="box-icon">
                        <a href="#" class="btn-setting"><i class="halflings-icon wrench"></i></a>
                        <a href="#" class="btn-minimize"><i class="halflings-icon chevron-up"></i></a>
                        <a href="#" class="btn-close"><i class="halflings-icon remove"></i></a>
                    </div>
                </div>

                <div class="box-content">
                    <?php
                    $username="dbusername";
                    $password="password";
                    $database="dbname";

                    mysql_connect(localhost,$username,$password);
                    @mysql_select_db($database) or die( "Unable to select database");

                    $query="SELECT * FROM jobs ORDER BY job_date DESC LIMIT 50";
                    $result=mysql_query($query);

                    $num=mysql_numrows($result);

                    mysql_close();
                    ?>
                    <table class="table table-striped table-bordered bootstrap-datatable datatable">
                      <thead>
                          <tr>
                              <th>Name</th>
                              <th>Job</th>
                              <th>Date</th>
                              <th>Time</th>
                              <th>Actions</th>
                          </tr>
                      </thead>
                      <?php
                        $i=0;
                        while ($i < $num) {

                        $f1=mysql_result($result,$i,"job_id");
                        $f2=mysql_result($result,$i,"job_title");
                        $f3=mysql_result($result,$i,"job_duration");
                        $f4=mysql_result($result,$i,"job_rigid");
                        $f5=mysql_result($result,$i,"job_userid");
                        ?>     
                      <tbody>
                        <tr>
                            <td><?php echo $f1; ?></td>
                            <td class="center"><?php echo $f2; ?></td>
                            <td class="center"><?php echo $f3; ?></td>
                            <td class="center"><span class="label label-success"><?php echo $f4; ?></span>
                            </td>
                            <td class="center">
                                <a class="btn btn-success" href="#">
                                    <i class="halflings-icon zoom-in halflings-icon"></i>  
                                </a>
                                <a class="btn btn-info" href="#">
                                    <i class="halflings-icon edit halflings-icon"></i>  
                                </a>
                                <a class="btn btn-danger" href="#">
                                    <i class="halflings-icon trash halflings-icon"></i> 
                                </a>
                            </td>
                        </tr>

                      </tbody>
                      <?php 
                        $i++;
                        }
                        ?>
                  </table>        
                </div>
            </div><!--/span-->

        </div><!--/row-->

                <!-- end: Content -->
        </div><!--/#content.span10-->
            </div><!--/fluid-row--> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-19T05:47:09.950

不确定它是否是您的问题，但 mysql_numrows 应该`mysql_num_rows`
参考[这个](http://php.net/manual/en/function.mysql-num-rows.php)以获取官方文档中的详细信息。

此外，现在不推荐使用 mysqli_* 升级到 mysqli_* 的最佳时机。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-19T05:59:49.537

使用此代码，您的代码中有几个错误

```
$conn = mysql_connect(localhost,$username,$password);
mysql_select_db($database,$conn) or die( "Unable to select database");
                    //   ^ here was the mistake

$query="SELECT * FROM jobs ORDER BY job_date DESC LIMIT 50";
$result=mysql_query($query);

$num=mysql_num_rows($result);
          //  ^ here was the mistake
mysql_close(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-19T06:00:00.300

这可能是因为您放入`<tbody>`了`while`循环中。

# html - 为什么添加填充会导致其扩展

> ID：14411509
> 
> 赞同：0
> 
> 时间：2013-01-19T05:43:08.193
> 
> 标签：html, css

我正在尝试通过以下方式向框添加填充：

```
.p-box-header{
  border: 1px solid orange;
  float: left;
  width: $p-box-width;
  padding: 0px 0px 0xp 20px;
} 
```

它看起来像这样： ![在此处输入图像描述](../Images/201baf32bccb0a67999f4a4a33479133.png)

“食物”标头的宽度增加了 20 像素。这在下面的框中没有发生。为什么会发生这种情况，我该如何预防？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-19T05:51:17.173

**注意**：您写的是“0xp”而不是“0px”。如果这不能解决您的问题，请阅读以下内容。

您应该看一下名为**box-sizing**的 CSS3 属性。

这会强制浏览器以指定的宽度和高度呈现框，并将边框和填充放在框内。

```
-webkit-box-sizing: border-box; /* Safari/Chrome, other WebKit */
-moz-box-sizing: border-box;    /* Firefox, other Gecko */
box-sizing: border-box;         /* Opera/IE 8+ */ 
```

更多信息在这里：[http](http://css-tricks.com/box-sizing/) ://css-tricks.com/box-sizing/它从 IE8 开始可用（[CanIUse - Box-sizing](http://caniuse.com/css3-boxsizing)）

# mysql - MYSQL 两列在第一列中有值我如何进行内部连接

> ID：14411510
> 
> 赞同：0
> 
> 时间：2013-01-19T05:43:31.150
> 
> 标签：mysql, select, group-by, pivot-table

嗨，我有一张看起来像这样的桌子

```
dt   ticker  open
1     A        1
1     B        3
2     A        1.1
2     B        2.5 
```

我需要结果看起来像

```
dt    A        B
1     1        3
2     1.1      2.5 
```

我在下面包含的当前查询让我

```
dt    A        B
1     1        NULL
1     NULL     3
2     1.1      NULL
2     NULL     2.5 
```

如果有人可以帮助我，将不胜感激

```
SET @sql = NULL;
SELECT
  GROUP_CONCAT(DISTINCT
    CONCAT(
      '(IF(ticker = ''',
      ticker,
      ''', open, NULL)) AS ''',
      ticker,''''
    )
  ) INTO @sql
FROM
  prices;

SET @sql = CONCAT('SELECT dt, ', @sql, ' FROM prices');
-- SET @sql = CONCAT('SELECT dt, ', @sql, ' FROM prices GROUP BY dt');

  PREPARE stmt FROM @sql;
  EXECUTE stmt; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-19T06:20:42.977

获得结果的一种方法是：

```
SELECT t.dt
     , MAX(IF(t.ticker='A',t.open,NULL)) AS A
     , MAX(IF(t.ticker='B',t.open,NULL)) AS B
  FROM mytable t
 GROUP BY t.dt 
```

（在 MySQL 中，MAX 聚合实际上可以省略，认为在其他 DBMS 中需要聚合。）

```
SELECT t.dt
     , IF(t.ticker='A',t.open,NULL) AS A
     , IF(t.ticker='B',t.open,NULL) AS B
  FROM mytable t
 GROUP BY t.dt 
```

另一种方法：

```
SELECT t.dt
     , t.open AS A
  FROM mytable t
  LEFT
  JOIN (SELECT s.dt
             , t.open AS B
          FROM mytable s
         WHERE s.ticker = 'B'
         GROUP BY s.dt
       ) b
    ON b.dt = t.dt
 WHERE t.ticker = 'A'
 GROUP BY t.dt
 ORDER BY t.dt 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-19T05:56:35.920

您需要将 Max 添加到您的 Group_Concat，试试这个

```
SET @sql = NULL;
SELECT
  GROUP_CONCAT(DISTINCT
    CONCAT(
      'Max(case when ticker = ''',
      ticker,
      ''' then open end) AS ',
      replace(ticker, ' ', '')
    )
  ) INTO @sql
from prices;

SET @sql = CONCAT('SELECT x.dt, ', @sql, ' from prices x
group by x.dt');

PREPARE stmt FROM @sql;
EXECUTE stmt; 
```

[SQL 小提琴演示](http://sqlfiddle.com/#!2/136d8/3)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-19T06:02:16.447

尝试这个：

```
SELECT GROUP_CONCAT(CONCAT(" MAX(IF(ticker = '", ticker, "', open, NULL)) AS ", ticker)) INTO @sql
FROM prices;

SET @sql = CONCAT('SELECT dt, ', @sql, ' FROM prices GROUP BY dt'); 

PREPARE stmt FROM @sql;
EXECUTE stmt;
DEALLOCATE PREPARE stmt; 
```

检查这个[**SQL FIDDLE 演示**](http://sqlfiddle.com/#!2/136d8/5)

**输出**

```
| DT |   A |   B |
------------------
|  1 |   1 |   3 |
|  2 | 1.1 | 2.5 | 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-19T06:10:16.000

试试看

```
 select a.dt,a.A,CASE WHEN ticker='B' THEN open END AS 'B' from (SELECT dt,CASE WHEN ticker='A' THEN open END AS 'A' FROM test group by dt) a inner join test using(dt) where CASE WHEN ticker='B' THEN open END  is not null; 
```

结果

```
+------+-------------------+------+
| dt   | A                 | B    |
+------+-------------------+------+
|    1 |                 1 |    3 |
|    2 | 1.100000023841858 |  2.5 |
+------+-------------------+------+ 
```

# java - linkedin：消息未发布

> ID：14411515
> 
> 赞同：0
> 
> 时间：2013-01-19T05:45:08.747
> 
> 标签：java, android, linkedin

我正在进行linkedin集成以在android中共享数据，在提供用户名和密码并单击“登录并允许”按钮后，我无法移动到下一页而是返回上一页，并且数据没有贴在墙上，我尝试了很多教程，链接，但找不到我的错误并且挣扎了很多，任何人都可以帮助我。这是我的 MainActivity 代码

```
public class MainActivity extends Activity {
public static final String CONSUMER_KEY             = "key";
public static final String CONSUMER_SECRET          = "secret";    
public static final String APP_NAME                 = "rebuix";
public static final String OAUTH_CALLBACK_SCHEME    = "x-oauthflow-linkedin";
public static final String OAUTH_CALLBACK_HOST      = "litestcalback";
public static final String OAUTH_CALLBACK_URL       = OAUTH_CALLBACK_SCHEME + "://"   +    OAUTH_CALLBACK_HOST;

LinkedInOAuthService oAuthService = LinkedInOAuthServiceFactory
        .getInstance().createLinkedInOAuthService(CONSUMER_KEY,
                CONSUMER_SECRET);
LinkedInApiClientFactory factory = LinkedInApiClientFactory
        .newInstance(CONSUMER_KEY, CONSUMER_SECRET);
LinkedInRequestToken liToken;
LinkedInApiClient client;

@SuppressLint({ "NewApi", "NewApi", "NewApi" })
Button btnLinkedin;

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);

    if (android.os.Build.VERSION.SDK_INT > 9) {
        StrictMode.ThreadPolicy policy = new   StrictMode.ThreadPolicy.Builder()
                .permitAll().build();
        StrictMode.setThreadPolicy(policy);
    }

    Button btnLinkedinMain = (Button) findViewById(R.id.btnLinkedin);
    btnLinkedinMain.setOnClickListener(new View.OnClickListener() {

public void onClick(View v) {

    if (v.getId() == R.id.btnLinkedin) {

        oAuthService = LinkedInOAuthServiceFactory.getInstance()
                .createLinkedInOAuthService(Constants.CONSUMER_KEY,
                        Constants.CONSUMER_SECRET);
        System.out.println("oAuthService : " + oAuthService);

        factory = LinkedInApiClientFactory.newInstance(
                Constants.CONSUMER_KEY, Constants.CONSUMER_SECRET);

        liToken = oAuthService
                .getOAuthRequestToken(Constants.OAUTH_CALLBACK_URL);

        Intent i = new Intent(Intent.ACTION_VIEW, Uri.parse(liToken
                .getAuthorizationUrl()));

        i.putExtra( "sms_body", false );
        try
        { 
                       startActivity(i);
    } catch (ActivityNotFoundException e) {
        // Display some sort of error message here.
    }
    }
}

protected void onNewIntent(Intent intent) {

    try {
        linkedInImport(intent);
    } catch (NullPointerException e) {
        e.printStackTrace();
    }
}

private void linkedInImport(Intent intent) {
    String verifier = intent.getData().getQueryParameter("oauth_verifier");
    System.out.println("liToken " + liToken);
    System.out.println("verifier " + verifier);

    LinkedInAccessToken accessToken = oAuthService.getOAuthAccessToken(
            liToken, verifier);
    client = factory.createLinkedInApiClient(accessToken);

    // client.postNetworkUpdate("LinkedIn Android app test");

    Person profile = client.getProfileForCurrentUser(EnumSet.of(
            ProfileField.ID, ProfileField.FIRST_NAME,
            ProfileField.LAST_NAME, ProfileField.HEADLINE));

    System.out.println("First Name :: " + profile.getFirstName());
    System.out.println("Last Name :: " + profile.getLastName());
    System.out.println("Head Line :: " + profile.getHeadline());

};

    });
}
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-19T05:54:58.270

试用本教程...您将在本教程中获得消息发布功能..对于您的应用程序中的逐步集成，请参阅此链接... [http://code.google.com/p/socialauth-android/wiki /领英](http://code.google.com/p/socialauth-android/wiki/Linkedin)

[https://github.com/srivastavavivek1987/LinkedIn-Connection-in-Android](https://github.com/srivastavavivek1987/LinkedIn-Connection-in-Android)

# html - 为什么两个div之间有间隙并且没有重叠

> ID：14411516
> 
> 赞同：0
> 
> 时间：2013-01-19T05:45:14.130
> 
> 标签：html, css

我以前来过这里并取得了很好的成绩，并感谢您的帮助。我一直在搜索和搜索我的代码以弄清楚发生了什么，但我不太明白。在我的网站[http://www.hirelogo.com](http://www.hirelogo.com)导航下方有一个随机空间插入。我已经删除了 div ".top"，因为我认为这可能是导致问题的原因，但这不是我所知道的。我一直在用萤火虫剖析，但没有发现可能导致这种情况的重叠问题。我所指的随机空间区域位于导航“home,design team..ect”和“step1, step 2 graphics”下方。我希望有人给我一点点关于这里发生的事情。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-19T07:34:06.757

以下 div 导致`8px`.

```
.top {
    clear: both;
    height: 8px;
    margin-left: auto;
    margin-right: auto;
    width: 920px;
} 
```

左侧的图像也已添加`padding`并`line-height`添加到其中：

```
.descrSplash {
    clear: both;
    color: #FFFFFF;
    font-size: 18px;
    font-weight: bold;
    line-height: 150%;
    padding-top: 40px;
    width: 436px;
} 
```

最后`10px`，在它的上方和下方添加了正确的图像。此外，图像很大，除非您想设置`negative margin`.

# c++ - 用于迭代顺序集合的习惯用法

> ID：14411520
> 
> 赞同：2
> 
> 时间：2013-01-19T05:46:24.193
> 
> 标签：c++, iteration

在现代 C++ 中，当您只需要每个元素的值时，用于迭代像字符串或向量这样的顺序集合的习惯用法简短而优雅：

```
for (auto x: xs) 
```

当您还需要索引时，它就不那么优雅了：

```
for (size_t i = 0; i != xs.size() ++i) 
```

...除非有一些我还没有赶上的最近的发展。C++11 是否有首选的方式来做后者，或者上面的方式仍然像它一样好？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-19T06:03:33.387

`Range-Based for loops`将在现代代码中非常流行，`Range-Based for Loops` 适用于任何支持范围概念的类型。给定类型为 T 的对象 obj，`begin(obj)`并且`end(obj)`是有效的。包括：

*   所有 C++11 库容器。
*   数组和 valarrays。
*   初始化器列表。
*   正则表达式匹配。
*   任何 UDT（用户定义类型） T 其中 begin(T) 和 end(T) 产生合适的迭代器。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-19T05:52:35.847

首选和惯用的方式是简单的 for 循环。

替代方法包括使用整数范围：

```
template<typename C>
auto container_index(C const& container) -> decltype(boost::irange(0, container.size())) {
  return boost::irange(0, container.size());
}

for(auto x : container_index(xs)) 
```

或迭代函数：

```
template<typename F>
void index_iterate(std::size_t size, F func) {
  for(std::size_t i = 0; i != size; ++i) {
    func(i);
  }
}

index_iterate(container.size(), [&](std::size_t i){ /* ... */ }); 
```

尽可能使用简单的循环。在我看来它是优越的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-19T06:28:10.923

您可以结合两种方法：

```
int i = 0;
for ( auto x : v ) {
    // do smth with x or v[i] or i
    i++;
} 
```

# xcode - 从 GUI 运行而不是 bash shell 时，管道在 bash 脚本中不起作用

> ID：14411521
> 
> 赞同：0
> 
> 时间：2013-01-19T05:46:29.967
> 
> 标签：xcode, bash, piping

作为构建过程的一部分，我正在尝试使用`hdiutil`.

我已经编写了一个 shell 脚本来执行此操作，并且因为`hdiutil`在打开之前要求确认许可协议，所以我的脚本中有类似`yes | hdiutil ...`. 当我从像 Terminal.app 这样的 bash shell 运行脚本时，没有问题，并且该过程按预期工作。

但是，当我将“外部构建系统”目标添加到 Xcode 并让 /bin/bash 运行我的脚本时，它会在执行`hdiutil`命令后永远挂起。

我猜这`yes`并没有结束；当 GUI 应用程序调用脚本而不是交互式 bash shell 时，什么会导致它的行为不同，我怎样才能使用这两种方法使其工作？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-25T00:40:16.613

我需要按照@trojanfoe 的建议使用`echo y | hdiutil`istead of `yes | hdiutil`。

# jquery - 如何使用 CSS、jQuery 而不是 body 将覆盖 div 添加到特定元素？

> ID：14411522
> 
> 赞同：1
> 
> 时间：2013-01-19T05:46:40.493
> 
> 标签：jquery, css

我可以通过编写在正文中添加叠加层

```
$(function() {
   var docHeight = $(document).height();
   $("body").append("<div id='overlay'></div>");
   $("#overlay")
      .height(docHeight)
      .css({
         'opacity' : 0.4,
         'position': 'absolute',
         'top': 0,
         'left': 0,
         'background-color': 'black',
         'width': '100%',
         'z-index': 5000
      });
}); 
```

我怎么能选择一个特定的元素而不是身体？

例如，我可以使用 id='baby' 添加叠加层吗？

```
<img src="./target2_files/BrowserPreview_tmp_07.gif" width="203" height="181" alt="" id='baby'></td> 
```

这可能吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-19T05:58:04.070

在附加时使用该元素的 id/class 而不是 body。

```
$("#ElementId").append("<div id='overlay'></div>"); or
$(".ElementClassName").append("<div id='overlay'></div>"); 
```

# oracle - 如何在 vb6 中使用记录集创建数据报告？

> ID：14411526
> 
> 赞同：0
> 
> 时间：2013-01-19T05:46:56.683
> 
> 标签：oracle, vb6, rdbms

```
Private Sub showreport_Click()
    sql = "select * from student_record_database where"
    sql=sql+ Grade='" & Combo1.Text & "' AND Meal='" & Combo11.Text & "'"
    Set RES = CON.Execute(sql)
    Set DataReport1.DataSource = RES
    DataReport1.WindowState = vbMaximized
    DataReport1.Show vbModal
End Sub 
```

我使用此代码作为记录集来创建数据报告。

1.  我的任务是从各种组合框中选择选项，然后显示它的报告，因此那里需要记录集..

2.  我的问题是，这段代码是否足以创建数据报告？？？

3.  我没有设置数据环境或数据报告的任何属性，例如（连接-命令-sql），因为我将此记录集直接传递给数据报告，因此无需在数据环境属性中触发任何sql。

但不幸的是，它没有显示所需的输出请帮助我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-19T06:22:47.977

试试这个。要将相当添加到字符串，请使用双相当。您也错过了将第二个 Combo1 引用拼写为 Combo11

```
Private Sub showreport_Click()
  sql = "select * from student_record_database where "
  sql = sql & "Grade=""" & Combo1.Text & """ AND Meal=""" & Combo1.Text & """"
  Set RES = CON.Execute(sql)
  Set DataReport1.DataSource = RES
  DataReport1.WindowState = vbMaximized
  DataReport1.Show vbModal
End Sub 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-29T03:15:39.477

试试这个：

```
Private sub cmdprint_click()

Dim rs as new adodb.recordset

rs.open "SQL Query Statement Here",CON, adOpenDynamic, adLockOptimistic

set datareport1.datasource=rs
datareport1.show

end sub 
```

**注意：** 数据报告数据源应在设计模式期间清除。（请参阅数据报告上的属性并将其数据源属性设置为空。）哦……还有一件事，请记住，您还应该为数据报告中的每个文本框对象设置数据字段属性，该属性对应于数据库中的数据字段设计时间...

我使用这种方法很长时间了，效果很好。

# javascript - 是否可以在javascript中动态扩展下拉框（就像在html页面中选择下拉框一样）

> ID：14411531
> 
> 赞同：-1
> 
> 时间：2013-01-19T05:47:23.833
> 
> 标签：javascript, jsp

我在页面中有一个下拉框，`jsp`例如：选择 | *_* _|▼| 具有以下值：

1.  苹果
2.  芒果
3.  香蕉。

现在我通过文本框 onblur 事件调用 java 脚本函数。在该函数中，我可以像这样显示下拉框视图：

```
Select |_____|▼|
       |apple  |
       |Mango  |
       |Banana | 
```

（而不是点击▼按钮可以使下拉框的视图像在jsp中选择一样）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-19T06:27:44.933

普通选择不能在 javascript 中展开。但是，您可以使用多选来实现此行为。

像这样：

```
<select id="test" multiple="multiple" size=1
        onFocus="this.size = 3;" 
        onBlur="this.size = 1;">
  <option >apple</option>
  <option >mango</option>
  <option >banana</option>
</select> 
```

看看这个[现场演示](http://jsfiddle.net/5UGhL/2/)。

# javascript - 所有 jQuery 移动事件触发两次

> ID：14411532
> 
> 赞同：6
> 
> 时间：2013-01-19T05:47:26.293
> 
> 标签：javascript, jquery, html, css, jquery-mobile

我的索引页面上有一个非常简单的用例。

```
 <script src="js/jquery-min.js"></script>
        <script src="js/jquery-mobile.js"></script>
        <script type="text/javascript" src="cordova-2.2.0.js"></script>

         <script>
                 $("body").on("swipeleft", function(event) {
                alert('hello');
                /*window.location.href = "html/first.html";*/             
            });
       </script> 
```

由于某种原因，此事件触发了 2 次。现在我确定我没有在 body 标记上绑定另一个事件，因为这是第一页。我也尝试过其他简单的事件，比如 touchstart 等。它们都触发了两次。我究竟做错了什么 ？

更新 ：-

我已经通过以下方式修改了我标记为正确的答案并且它有效。此页面上的事件不会触发两次。

```
<head>
      <script type="text/javascript" src="js/jquery-min.js"></script>
            <script>
                 $(document).bind("mobileinit", function() {
                       $.mobile.autoInitializePage = false;
                       $.mobile.defaultPageTransition = 'none';
                       $.mobile.touchOverflowEnabled = false;
                       $.mobile.defaultDialogTransition = 'none';
                       $.mobile.loadingMessage = '' ;                 
                  });
            </script>
            <script type="text/javascript" src="js/jquery-mobile.js"></script>
            <script type="text/javascript" src="cordova-2.2.0.js"></script>
</head> 
```

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-01-19T07:45:27.677

避免这个问题的方法很少。就像[CodeJack](https://stackoverflow.com/users/1184902/codejack)告诉你的那样，这是一个已知问题，但它不是错误，主要是因为**jQM**处理页面的独特方式。

*   最简单的方法是在再次绑定之前取消绑定事件，如下所示：

    ```
    $("body").off().on("swipeleft", function(event) {
        alert('hello');
        /*window.location.href = "html/first.html";*/             
    }); 
    ```

    如果您有其他事件绑定到同一个对象，请使用：

    ```
    $("body").off("swipeleft").on("swipeleft", function(event) {
        alert('hello');
        /*window.location.href = "html/first.html";*/             
    }); 
    ```

*   除了使用事件绑定/取消绑定、live/die 和 on/off 之外，还有另一种方法。而不是在再次绑定之前取消绑定，使用**jQuery 事件过滤器**，它可以用来识别事件是否已经被绑定。不要忘记从下面发布的链接下载它（它不是**jQM**的标准部分）。

    [http://www.codenothing.com/archives/2009/event-filter/](http://www.codenothing.com/archives/2009/event-filter/)

    这是我的使用示例：

    ```
    $('#carousel div:Event(!click)').each(function(){ 
        //If click is not bind to #carousel div do something 
    }); 
    ```

    我正在使用每个，因为我的轮播 div 有很多内部块，但原理是相同的。如果#carousel 内部 div 元素没有点击事件，则添加该事件。在您的情况下，这将防止多个事件绑定。

可以在**[此处](http://www.gajotres.net/prevent-jquery-multiple-event-triggering/)**找到其他解决方案。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-01-19T07:51:16.490

您应该尝试使用文档就绪事件将事件附加到正文。此外，您可能只想将事件附加到正文**一次。**

```
$(document).ready(function(){
    $("body").off().on("swipeleft", function(event) {
        alert('hello');          
    });
}); 
```

如果您有其他事件绑定到同一个对象，请使用：

```
$(document).ready(function(){
    $("body").off("swipeleft").on("swipeleft", function(event) {
        alert('hello');          
    });
}); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-19T05:50:13.883

这是已知问题...我发现它可以通过在标签内移动 js 代码来避免`<head>`..我不知道原因..但这避免了问题...

# node.js - 如何在 node.js 绘图应用程序中将用户分组到会话中？

> ID：14411540
> 
> 赞同：1
> 
> 时间：2013-01-19T05:48:06.127
> 
> 标签：node.js, canvas, socket.io

我最近在 node.js 和 socket.io 中制作了一个绘图应用程序。它工作正常，但所有用户都可以看到用户绘制的所有内容。我想添加会话的概念，以便用户绘制的东西只会被同一会话中的人看到。我该怎么做？

这是我使用的服务器代码：

```
var express = require('express');
var app = express();
var server = http.createServer(app);
var io = require('socket.io').listen(server);
server.listen(8000);

app.use(express.static(__dirname));
app.use(express.logger());
app.engine('html', require('ejs').__express);

app.get('/',function(req,res){
    res.sendfile(__dirname+'/index.html');
});

io.sockets.on('connection',function(socket){
    socket.on('mousedown',function(data){
        socket.broadcast.emit('mousedown',data);
    });
    socket.on('mousemove',function(data){
        socket.broadcast.emit('mousedown',data);
    });
    socket.on('mouseup',function(data){
        socket.broadcast.emit('mousedown',data);
    });
    socket.on('tool',function(data){
        socket.broadcast.emit('mousedown',data);
    });
}); 
```

此外，这是我用于 clinet 端的代码：

```
var socket = {};

if(typeof io !== 'undefined' && io){
    socket = io.connect('http://127.0.0.1:8000');
}
else
{
    socket = {
        emit:function(){
            console.log(arguments);
        },
        on:function(){
            console.log(arguments);
        }
    };
}

$(function(){
  var canvas, context, canvaso, contexto;

  // The active tool instance.
  var tool;
  var tool_default = 'line';

  function init () {
    // Find the canvas element.
    canvaso = document.getElementById('imageView');
    canvaso.width = window.innerWidth * 0.9;
    canvaso.height = window.innerHeight/2;
    if (!canvaso) {
      console.log('Error: I cannot find the canvas element!');
      return;
    }

    if (!canvaso.getContext) {
      console.log('Error: no canvas.getContext!');
      return;
    }

    // Get the 2D canvas context.
    contexto = canvaso.getContext('2d');
    if (!contexto) {
      console.log('Error: failed to getContext!');
      return;
    }

    // Add the temporary canvas.
    var container = canvaso.parentNode;
    canvas = document.createElement('canvas');
    if (!canvas) {
      console.log('Error: I cannot create a new canvas element!');
      return;
    }

    canvas.id     = 'imageTemp';
    canvas.width  = canvaso.width;
    canvas.height = canvaso.height;
    container.appendChild(canvas);

    context = canvas.getContext('2d');

    // Get the tool select input.
    var tool_select = document.getElementById('dtool');
    if (!tool_select) {
      console.log('Error: failed to get the dtool element!');
      return;
    }
    tool_select.addEventListener('change', ev_tool_change, false);

    // Activate the default tool.
    if (tools[tool_default]) {
      tool = new tools[tool_default]();
      tool_select.value = tool_default;
    }

    // Attach the mousedown, mousemove and mouseup event listeners.
    $(canvas).on('mousedown',ev_canvas);
    $(canvas).on('mousemove',ev_canvas);
    $(canvas).on('mouseup',ev_canvas);
  }

  // The general-purpose event handler. This function just determines the mouse 
  // position relative to the canvas element.
  function ev_canvas (ev) {
    ev._x = ev.offsetX;
    ev._y = ev.offsetY;

    // Call the event handler of the tool.
    var func = tool[ev.type];
    socket.emit(ev.type,{x:ev._x,y:ev._y});
    if (func) {
      func(ev);
    }
  }

  socket.on('mousedown',function(data){
    ev_canvas({type:'mousedown',_x:data.x,_y:data.y});
  });

  socket.on('mousemove',function(data){
    ev_canvas({type:'mousemove',_x:data.x,_y:data.y});
  });

  socket.on('mouseup',function(data){
    ev_canvas({type:'mouseup',_x:data.x,_y:data.y});
  });

  // The event handler for any changes made to the tool selector.
  function ev_tool_change (ev) {
    if (tools[this.value]) {
      tool = new tools[this.value]();
      socket.emit('tool',this.value);
    }
  }
  socket.emit('tool',tool_default);
  socket.on('tool',function(stool){
    tool = new tools[stool]();
  });

  // This function draws the #imageTemp canvas on top of #imageView, after which 
  // #imageTemp is cleared. This function is called each time when the user 
  // completes a drawing operation.
  function img_update () {
        contexto.drawImage(canvas, 0, 0);
        context.clearRect(0, 0, canvas.width, canvas.height);
  }

  // This object holds the implementation of each drawing tool.
  var tools = {};

  // The drawing pencil.
  tools.pencil = function () {
    var tool = this;
    this.started = false;

    // This is called when you start holding down the mouse button.
    // This starts the pencil drawing.
    this.mousedown = function (ev) {
        context.beginPath();
        context.moveTo(ev._x, ev._y);
        tool.started = true;
    };

    // This function is called every time you move the mouse. Obviously, it only 
    // draws if the tool.started state is set to true (when you are holding down 
    // the mouse button).
    this.mousemove = function (ev) {
      if (tool.started) {
        context.lineTo(ev._x, ev._y);
        context.stroke();
      }
    };

    // This is called when you release the mouse button.
    this.mouseup = function (ev) {
      if (tool.started) {
        tool.mousemove(ev);
        tool.started = false;
        img_update();
      }
    };
  };

  // The rectangle tool.
  tools.rect = function () {
    var tool = this;
    this.started = false;

    this.mousedown = function (ev) {
      tool.started = true;
      tool.x0 = ev._x;
      tool.y0 = ev._y;
    };

    this.mousemove = function (ev) {
      if (!tool.started) {
        return;
      }

      var x = Math.min(ev._x,  tool.x0),
          y = Math.min(ev._y,  tool.y0),
          w = Math.abs(ev._x - tool.x0),
          h = Math.abs(ev._y - tool.y0);

      context.clearRect(0, 0, canvas.width, canvas.height);

      if (!w || !h) {
        return;
      }

      context.strokeRect(x, y, w, h);
    };

    this.mouseup = function (ev) {
      if (tool.started) {
        tool.mousemove(ev);
        tool.started = false;
        img_update();
      }
    };
  };

  // The line tool.
  tools.line = function () {
    var tool = this;
    this.started = false;

    this.mousedown = function (ev) {
      tool.started = true;
      tool.x0 = ev._x;
      tool.y0 = ev._y;
    };

    this.mousemove = function (ev) {
      if (!tool.started) {
        return;
      }

      context.clearRect(0, 0, canvas.width, canvas.height);

      context.beginPath();
      context.moveTo(tool.x0, tool.y0);
      context.lineTo(ev._x,   ev._y);
      context.stroke();
      context.closePath();
    };

    this.mouseup = function (ev) {
      if (tool.started) {
        tool.mousemove(ev);
        tool.started = false;
        img_update();
      }
    };
  };

  init();

}); 
```

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-19T18:00:05.743

听起来你想使用[房间](https://github.com/LearnBoost/socket.io/wiki/Rooms)

您可以在 io.sockets.on('connection') 内连接时将用户添加到房间

例如：

```
io.sockets.on('connection', function (socket) {
  socket.join('room');
  socket.broadcast.to('room').send("I'm in this room now");
}); 
```

然后，您可以使用它在其起源的房间内广播新图纸。

# jquery - 如何检查 jQuery .data() 函数中是否存在值

> ID：14411541
> 
> 赞同：0
> 
> 时间：2013-01-19T05:48:20.667
> 
> 标签：jquery

> **可能重复：**
> [如何使用 jQuery 在 JavaScript 数组中查找对象的索引](https://stackoverflow.com/questions/6108034/how-to-find-index-of-object-in-a-javascript-array-with-jquery)

如果 .data() 函数中已经存在，我需要找到输入的值。

我正在尝试这种方式。

jQuery

```
var array = $("form[name=update]").data("values", {"v1": "value1", "v2": "value2", "v3": "value3", "v4": "value4", "v5": "value5"});

if ($.inArray("value1", array) > -1){alert("duplicate value")} 
```

但它什么也没做。

请查看并建议任何可能的方法来做到这一点。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-19T06:00:07.523

```
$("form[name=update]").data("values", {/* values here*/});

// then later
var valueToLookFor = 'value1',
    formData = $("form[name=update]").data().values;
for (var i in formData) {
     if (formData[i] === valueToLookFor) {
        // you found it!
     }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-19T07:01:59.993

这里

`grep`（不做对象）对我也不起作用。

这是一个 $.each 版本

[演示](http://jsfiddle.net/mplungjan/ZLMTE/)

```
$(function() {
  $("form[name=update]").data("values", {"v1": "value11", "v2": "value2", "v3": "value3", "v4": "value4", "v5": "value5"});
  $(".but").on("click",function(e) {
    var fData = $("form[name=update]").data("values");
    var val = $(this).val();
      console.log(fData);
    $.each(fData, function(n,i) { 
        console.log("!!!",n,i)
      if (i===val) {
        alert("duplicate value");
        return false;
      }    
    })  
    e.preventDefault()  
  });
}); 
```

* * *

这是现在我看了一下，和danronmoon的解决方法一样

[演示](http://jsfiddle.net/mplungjan/LzvMR/)

```
$(function() {
  $("form[name=update]").data("values", {"v1": "value11", "v2": "value2", "v3": "value3", "v4": "value4", "v5": "value5"});
  $(".but").on("click",function(e) {
    var fData = $("form[name=update]").data("values");
    var val = $(this).val();
      console.log(fData);
    for (var o in fData) { 
        console.log("!!!",o,fData[o])
      if (fData[o]===val) {
        alert("duplicate value");
        break;
      }    
    }  
    e.preventDefault()  
  });
}); 
```

# c# - C#正则表达式，SQL中的函数“LIKE”

> ID：14411547
> 
> 赞同：0
> 
> 时间：2013-01-19T05:49:26.143
> 
> 标签：c#, regex

我想在一个句子中搜索一个单词

word 匹配 WORD、word、word、word 等...

所以，这就是我写的：

```
string pattern = "[wWoOrRdD]";
Regex r = new Regex(pattern);
string input = "aa WORD aa WorD";
r.Replace(input, "word"); 
```

但代码产生了这个：

```
aa wordwordwordword aa wordwordwordword 
```

我真正想要的是

```
aa word aa word 
```

如何纠正错误？谢谢你的建议。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-19T05:52:34.560

你需要使用`Igonorecase`选项..

所以，这将是

```
Regex.Replace(input,@"\bword\b","word",RegexOptions.IgnoreCase); 
```

`\b`是一个边界，它允许我们匹配单个单词，但不能匹配另一个单词中的单词，例如`aawordaa`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-19T05:53:32.800

`[wWoOrRdD]`只匹配一个你想要的字符`[wWoOrRdD]+`，它匹配一个或多个字符。

你可以让你的正则表达式不区分大小写`(?ix) [word]+`

另外，如果您的目标是使字符串小写，您可以使用这样的`toLower()`方法

`input = input.toLower()`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-19T05:56:49.580

此正则表达式模式匹配每个字符（w/W/o/O/r/R/d/D），您最好使用不区分大小写的匹配。

```
Regex regex = new Regex("\bword\b", RegexOptions.IgnoreCase);
string input = "aa Word, aa WoRD";
string output = regex.Replace(input, "word"); 
```

[更多关于正则表达式的信息](http://msdn.microsoft.com/en-us/library/az24scfc.aspx)

# java - 如何让此扫描仪在空白行之前停止？

> ID：14411554
> 
> 赞同：2
> 
> 时间：2013-01-19T05:50:38.593
> 
> 标签：java, arraylist, java.util.scanner, delimiter, java-io

我试图让文件扫描仪在下一行为空白时停止扫描。

```
public static void createAudioTypes(File list, Scanner mediaReader, String mediaType) {
    if (mediaType.equalsIgnoreCase("CD") || mediaType.equalsIgnoreCase("CASSETTE")) {
        String title = mediaReader.next();
        String artist = mediaReader.next();
        int year = 0;
        if (mediaReader.hasNextInt()) {
            year = mediaReader.nextInt();
        }
        String lbl = mediaReader.next();
        ArrayList<String> songs = new ArrayList<String>();
        System.out.println(title);
        System.out.println(artist);
        System.out.println(year);
        System.out.println(lbl);
        mediaReader.useDelimiter(",");
        while(mediaReader.nextLine().equalsIgnoreCase(mediaType)) {
            songs.add(mediaReader.next());
        }
        System.out.println(songs);
    }

} 
```

我正在阅读的部分文本文件：

```
CD
Immersion
Pendulum
2011
Atlantic
Genesis, Salt in the Wounds, Watercolour, Set Me on Fire, Crush, Under the Waves, Immunize (feat. Liam Howlett), The Island - pt. 1 - Dawn, The Island - pt. 2 - Dusk, Comprachicos, The Vulture, Witchcraft, Self vs Self (feat. In Flames), The Fountain (feat Steven Wilson), Encoder
16.99

CD
Demon Days
Gorillaz 
```

请注意，所有曲目标题的行没有自动换行。这一行将被读入一个数组列表。请注意，就在曲目标题行的下方，有一个价格，然后是一个空白行。我希望这个空白行成为扫描仪的停止点，但我无法获得语法。

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-19T05:53:21.417

读整行[`readLine()`](http://docs.oracle.com/javase/6/docs/api/java/io/BufferedReader.html#readLine%28%29)，[`trim()`](http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#trim%28%29)看看它是否[`isEmpty()`](http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#isEmpty%28%29)

# sql - 如何为以下场景编写查询？

> ID：14411556
> 
> 赞同：-1
> 
> 时间：2013-01-19T05:51:02.417
> 
> 标签：sql, sql-server

我有以下表格。

**药物_大师**

```
PKDrugId - Int

DrugName - Varchar(25)

DrugType - Varchar(25) 
```

**Store_Master**

```
PKStoreId - Int

StoreName - Varchar(25)

StoreLocation - Varchar(25) 
```

**Stock_Outward**

```
PKID - Int

FKDrugId - Int

FKStoreId - Int

OutwardQuantity - int 
```

我想在 Stock_Outward 数据中显示**DrugName**和**StoreName**而不是**FKDrugId**和**FKStoreId**。任何人都可以帮忙吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-19T05:57:03.983

在这里你需要加入所有的表来获取`DrugName`和`StoreName`。像这样：

```
SELECT SO.PKID, DM.DrugName, SM.StoreName, SO.OutwardQuantity
FROM Stock_Outward SO 
JOIN Drug_Master DM ON SO.FKDrugId = DM.PKDrugId 
JOIN Store_Master SM ON SO.FKStoreId = SM.PKStoreId 
```

### [看到这个 SQLFiddle](http://sqlfiddle.com/#!3/2735a/1)

# php - 检查漏洞的工具/脚本

> ID：14411564
> 
> 赞同：0
> 
> 时间：2013-01-19T05:52:26.693
> 
> 标签：php, security, xss

有一个工具或者更好的服务器端脚本来检查您的站点是否安全，可以防止 SQL 注入/XSS？

我正在使用 PHP。

我在谷歌上看了一点，但我要你一个准确的答案，也因为我不相信在谷歌上找到的这么多东西，因为我不是很熟练。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-19T12:38:50.027

是的，有一些[扫描程序](http://en.wikipedia.org/wiki/Web_application_security_scanner)可以检查您的应用程序是否存在常见漏洞。这些不会证明您的应用程序是安全的，但仍然可能有助于发现任何安全漏洞。

编辑：我在[IronWasp](http://ironwasp.org/)和[Zap](https://www.owasp.org/index.php/OWASP_Zed_Attack_Proxy_Project)方面取得了一些成功。

# html - Tumblr {Video-700} 和 {VideoEmbed-700} 变量

> ID：14411567
> 
> 赞同：0
> 
> 时间：2013-01-19T05:52:33.820
> 
> 标签：html, tumblr

我在使用 {VideoEmbed- *_* } 标签时遇到了一个奇怪的问题。tumblr 主题文档（我会链接它，但我没有足够的代表来发布超过 2 个链接）将 {VideoEmbed-700} 定义为

> 与 {Video-700} 相同，但从直接上传的视频中移除灯箱效果。700 像素宽。

但是，当我使用 {VideoEmbed-700} 时，所有上传到第三方视频网站（而不是直接上传到 Tumblr）的视频根本不显示。

[这](http://r-themetest.tumblr.com/post/40828612986)是一个使用 Dailymotion 视频的示例，[这](http://r-themetest.tumblr.com/post/40828607457/redbeanice-g0ggles-sararye-and-that-is)是一个使用上传到 Tumblr 的视频的示例。如您所见，tumblr 上传的视频效果很好，并且没有生成dailymotion 视频。

我尝试使用几种尺寸（{VideoEmbed-700}、{VideoEmbed-500} 等），它们都产生相同的结果。

我宁愿没有灯箱，而且我使视频具有流畅的宽度，当您打开和关闭它时，灯箱会破坏它。所以，我下定决心要让 {VideoEmbed- *_* } 工作。

有没有其他人经历过这个？欢迎任何意见或建议。谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-21T17:42:09.830

到目前为止，我发现的唯一解决方案是将它们都包含在页面上：

```
{VideoEmbed-400}
{Video-400} 
```

...然后隐藏灯箱版本

```
.type-video .has_lightbox, .type-video .tumblr_video_container {
  /* Remove Tumblr video that has a lightbox enabled */
  display: none!important;
  visibility: hidden!important;
} 
```

请注意，在这种情况下，视频帖子类型上有一个 .type-video 类。

# c# - 如何从属性中返回一个类

> ID：14411572
> 
> 赞同：0
> 
> 时间：2013-01-19T05:53:10.353
> 
> 标签：c#

我有这个简单的类属性，它应该返回一个基于 Guest 的 MyGuest 类。当我在步进模式下使用调试器运行代码时，执行在第 5 行和第 6 行之间循环。

任何建议将不胜感激。

```
1\.    public Guest MyGuest
2\.    {
3\.        get
4\.        {
5\.            MyGuest = new Guest();
6\.            return MyGuest;
7\.        }
8\.       set { }
9\.    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-19T05:57:30.263

它是一个递归循环，因为第 6 行正在调用 3 以再次获取该值。你要：

```
public Guest MyGuest { get { return new Guest(); } } 
```

但是你真的想`Guest`在方法被调用时返回一个新的吗？

# c# - C# 更快地重置许多整数变量

> ID：14411573
> 
> 赞同：0
> 
> 时间：2013-01-19T05:53:17.880
> 
> 标签：c#

有没有办法像在声明时一样更快地**重置这些变量？**

宣言：

```
int numa1, numa2, numa3, numd1, numd2, numd3; 
```

之后重置：

```
numa1 = 0;
.
.
.
numd3 = 0; 
```

因为我会更改这些变量，但是我需要将它们重置为 0，好吗？

回复以下评论：

抱歉，我没有将“之后重置”更改为“之后初始化”。别人这样做了。

抱歉，您不能更改变量的值，例如：

```
numa1, numa2, numa3, numd1, numd2, numd3 = 0; 
```

我试过了，我收到了错误 1、2、4。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-19T06:06:21.837

我猜你应该使用两个数组，我从来没有一个函数使用这么多具有​​这样名称的变量（序号）。

如果您使用数组，您的代码将如下所示：

```
int[] numa = new [] {0,0,0,0};
int[] numd = new [] {0,0,0,0}; 
```

但这取决于你。

[有关阵列的更多信息](http://msdn.microsoft.com/en-us/library/aa288453%28v=vs.71%29.aspx)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-19T05:58:38.597

如果您的意思是更快，那么更快，我认为没有更好的选择。

如果你的意思是减少一些线条，

你可以选择

```
int numa1=0, numa2=0, numa3=0, numd1=0, numd2=0, numd3 = 0; 
```

或者

```
int numa1, numa2, numa3, numd1, numd2, numd3 = 0;
numa1= numa2= numa3= numd1= numd2= numd3; 
```

# java - 如何使用 java 在 Oracle 中插入

> ID：14411576
> 
> 赞同：0
> 
> 时间：2013-01-19T05:53:33.817
> 
> 标签：java, sql, oracle, jdbc, prepared-statement

我在 Oracle 数据库中有 CLOB 列，我想插入 String 。

如果我使用 setCharacterStream 它可以工作，但是如何通过 setBytes 插入字符串却出现异常。请帮我。

```
String s = "Hello How are you Data for CLOB column";
ps.setCharacterStream(1, new StringReader(s), s.length());
ps.setByte(1,Byte.parseByte(s)); 
```

异常跟踪：

```
java.lang.NumberFormatException: For input string: "Hello How are you Data for CLOB column"
    at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
    at java.lang.Integer.parseInt(Integer.java:447)
    at java.lang.Byte.parseByte(Byte.java:151)
    at java.lang.Byte.parseByte(Byte.java:108)
    at colb.test.InertClob.main(InertClob.java:24) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-19T07:10:51.073

这是两个很好的例子（带有示例代码，用于选择和插入）：

*   处理 CLOBS 变得容易：

[http://rocksolutions.wordpress.com/2010/06/07/handling-clobs-made-easy-with-oracle-jdbc-10g/](http://rocksolutions.wordpress.com/2010/06/07/handling-clobs-made-easy-with-oracle-jdbc-10g/)

*   将大对象类型添加到数据库

[http://docs.oracle.com/javase/tutorial/jdbc/basics/blob.html](http://docs.oracle.com/javase/tutorial/jdbc/basics/blob.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-19T06:36:11.367

请参考[Java API 文档](http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Byte.html#parseByte%28java.lang.String%29)

**将字符串参数解析为有符号十进制字节。字符串中的字符必须都是十进制数字，**

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-01-19T07:14:04.993

你应该：

1.  例如，通过调用 s.getBytes() 或任何其他方法将字符串转换为字节数组。
2.  调用 setBytes 方法，而不是 setByte

3.  从数据库中检索时，不要忘记如何获取字节，以便正确恢复字符串。

# javascript - 如何在 Liferay Portlet 类中使用 javascript 警报框？

> ID：14411580
> 
> 赞同：1
> 
> 时间：2013-01-19T05:54:14.503
> 
> 标签：javascript, liferay-6, portlet

要求是在保存一些数据后显示来自 portlet 类的警报框。
我怎样才能做到这一点？

我们可以`PrintWriter`在 Portlet 类中使用`actionresponse`of`processAction()`方法创建对象吗？

以下代码不起作用...

```
PrintWriter out = actionresponse.getWriter();
String str = "/web/guest/newpage.jsp";
out.println("<script language=\"Javascript\">");
out.println("alert(\"SAVED\");");
out.println("window.location.href=\'"+str+"\'; ");
out.println("</script>"); 
```

怎么做？请帮忙..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-05T08:07:45.443

我知道您没有使用任何 Ajax 调用来保存数据，因此最简单的方法是设置请求属性并将控件重定向到 JSP，根据您可以执行 javascript 调用的请求属性的值。

在 liferay 中使用 javascript 与在任何其他 web 应用程序中使用它没有什么不同。

这是一些示例代码片段（不是整个代码）：

在您的 portlet 的操作方法中：

```
// either set the renderParameter 
actionRequest.setRenderParameter("saveSuccessfulPARAM", "SAVED");

// OR set the request attribute
actionRequest.setAttribute("saveSuccessfulATTR", "SAVED"); 
```

现在在成功保存后将呈现的 JSP 中，您可以拥有：

```
<%
// Note: You can use jstl or liferay tags instead of scriptlets if you want

String savedAttribute = renderRequest.getAttribute("saveSuccessfulATTR");

// OR you can use this, to fetch the renderParamter set by actionResponse
// String saveParameter = ParamUtil.getString(renderRequest, "saveSuccessfulPARAM")

if("SAVED".equals(savedAttribute)) { // if this is true show an alert
%>

<script>
// you can use <aui:script> tag as well

// .. your javascript code will go here
// better would be to run this script on DOM ready

    alert("Data Saved Successfully!");  // for example
</script>

<%
}
%> 
```

**[注意：最好`javascript`在`DOM`准备好的情况下运行。]**

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-21T10:26:54.467

使用 Liferay 的 JavaScript API：[http ://www.liferay.com/community/wiki/-/wiki/Main/Liferay+JavaScript+API](http://www.liferay.com/community/wiki/-/wiki/Main/Liferay+JavaScript+API)

# iphone - 如何取代 UICollectionView 中内置的滑动手势识别器？

> ID：14411586
> 
> 赞同：1
> 
> 时间：2013-01-19T05:55:10.260
> 
> 标签：iphone, objective-c, ipad, ios6, uicollectionview

我们正在构建一个利用 iOS 6 中新的 UICollectionView 的应用程序。但是，我们需要实现长按行为，即使用户随后移动手指，我们也希望它被忽略。

IE

```
User touches the screen than instantly moves -> Swipe
User touches the screen, pauses, then moves -> Ignore swipe and wait for the release. 
```

基本上，如果我们的手势识别器失败，我们只想允许启用内置的滑动手势。但是，我们不确定如何用“其他识别器必须首先失败”逻辑来取代内置的滑动手势识别器。

我们不确定我们是否被允许简单地走链条试图找到 UIScrollView 并询问它，因为我们不知道这是否违反了 Apple 的指导方针，如果我没记错的话，他们实际上警告不要弄乱他们的识别器.

那么，我们如何创建取代内置识别器的点击保持识别器呢？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-01-19T07:59:03.993

[UICollectionView 编程指南](http://developer.apple.com/library/ios/documentation/WindowsViews/Conceptual/CollectionViewPGforIOS/CollectionViewPGforIOS.pdf)的第 36 页上有一个示例：

```
UITapGestureRecognizer* tapGesture = [[UITapGestureRecognizer alloc] initWithTarget:self action:@selector(handleTapGesture:)];

NSArray* recognizers = [self.collectionView gestureRecognizers];

// Make the default gesture recognizer wait until the custom one fails.
for (UIGestureRecognizer* aRecognizer in recognizers) {
    if ([aRecognizer isKindOfClass:[UITapGestureRecognizer class]]) {
        [aRecognizer requireGestureRecognizerToFail:tapGesture];
    }
}

// Now add the gesture recognizer to the collection view.
tapGesture.numberOfTapsRequired = 2;
[self.collectionView addGestureRecognizer:tapGesture]; 
```

**原始答案**

看看`UITapGestureRecognizerDelegate`，它可以用来让两个手势识别器同时处理触摸：

```
- (BOOL)gestureRecognizer:(UIGestureRecognizer *)gestureRecognizer shouldRecognizeSimultaneouslyWithGestureRecognizer:(UIGestureRecognizer *)otherGestureRecognizer {        
     return YES;
} 
```

有关详细信息，请参阅如下教程：

[http://www.raywenderlich.com/6567/uigesturerecognizer-tutorial-in-ios-5-pinches-pans-and-more](http://www.raywenderlich.com/6567/uigesturerecognizer-tutorial-in-ios-5-pinches-pans-and-more)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-08-19T08:18:49.693

在您`UILongPressGestureRecognizer`从*可能的*状态进行新的转换之前，他会询问它的代表`gestureRecognizerShouldBegin:`。您可以使用该委托方法取消（强制进入*失败*状态）附加到同一视图的任何其他手势识别器。

您可以通过将以下内容实现为 new 的委托来做到这一点`UILongPressGestureRecognizer`：

```
@implementation DragPictogramGestureRecognizerDelegate

- (BOOL)gestureRecognizerShouldBegin:(UIGestureRecognizer *)gestureRecognizer {
    for (UIGestureRecognizer *gr in gestureRecognizer.view.gestureRecognizers) {
        if ([gr isKindOfClass:[UILongPressGestureRecognizer class]] == NO) {
            gr.enabled = NO;
            gr.enabled = YES;
        }
    }
    return YES;
}

@end 
```

此外，为了让用户`UILongPressGestureRecognizer`用一根手指使用你的 new，同时用另一根手指滚动`UICollectionView`，你可以在同一个类中实现以下委托。

```
- (BOOL)gestureRecognizer:(UIGestureRecognizer *)gestureRecognizer shouldRecognizeSimultaneouslyWithGestureRecognizer:(UIGestureRecognizer *)otherGestureRecognizer {
    return YES;
} 
```

# mysql - 从 mysql CLI 创建具有破折号名称的数据库

> ID：14411589
> 
> 赞同：1
> 
> 时间：2013-01-19T05:55:29.627
> 
> 标签：mysql, database, command-line

当我使用 MySQL 客户端创建数据库时，如果我键入以下命令：

```
create database nice-day; 
```

然后它告诉我：

```
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '-day' at line 1 
```

但是当我使用**phpAdmin**工具时，我可以创建名为 nice-day 的数据库。问题是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-19T06:01:05.660

该`-`字符不被视为 SQL 中标识符的一部分，因此必须引用数据库名称：

```
CREATE DATABASE `nice-day` 
```

不过，一般而言，建议`_`在数据库名称中使用下划线 ( ) 而不是破折号来避免此问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-19T06:19:54.593

请使用反引号“`”（标准美国 101 键盘上 1 之前的键）。

根据[http://dev.mysql.com/doc/refman/5.0/en/identifiers.html](http://dev.mysql.com/doc/refman/5.0/en/identifiers.html)

```
 The identifier quote character is the backtick (“`”): 
```

# c# - 如何在 OpenPOP 中立即删除邮件

> ID：14411593
> 
> 赞同：1
> 
> 时间：2013-01-19T05:55:52.203
> 
> 标签：c#, asp.net, openpop

在openpop中我们必须调用disconnect()或disposed()来提交删除命令，调用pop3Client.DeleteMessage()时如何立即删除消息？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-19T09:24:14.263

我是 OpenPOP 的开发人员。

POP3 RFC 规定您可以向[`DELE <messagenumber>`](https://www.rfc-editor.org/rfc/rfc1939#page-8)POP3 服务器发送命令，带有该编号的消息将被**标记**为已删除，但只有在 POP3 客户端进入`UPDATE`状态时才会首先删除，这发生在 POP3 客户端发送[`QUIT`](https://www.rfc-editor.org/rfc/rfc1939#section-6)命令时。发送命令后`QUIT`，POP3 客户端只能从那里断开连接。当您`Disconnect()`在 OpenPOP POP3 客户端上调用时，将`QUIT`发送命令并且客户端断开连接。`Dispose()`会在内部呼唤`Disconnect()`你。

这意味着**无法立即删除邮件**，因为这就是 POP3 的工作方式。

# java - txt 文件的读取输出有空格

> ID：14411600
> 
> 赞同：2
> 
> 时间：2013-01-19T05:56:51.657
> 
> 标签：java, windows, cmd

我使用 /output:D:\list.txt product get name,version 从 cmd 命令获取了应用程序列表。但是，当我尝试使用 java 检索列表时，输出在每个字母后都有空格。

**样本：**

*从文本文件*

```
links

images

lists 
```

*在java中阅读时*

```
 l i n k s

 i m a g e s 

 l i s t s 
```

有没有办法解决这个问题？

我刚刚使用了这段代码：

```
public void myreader() throws IOException {
 Path path = Paths.get("D:\\list.txt");
 Charset charset = Charset.forName("ISO-8859-1");
 try (BufferedReader reader = Files.newBufferedReader(path,charset)) {
      String line = null;
      while ((line = reader.readLine()) != null) {
           System.out.println(line);
      }
 } 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-01-19T06:14:17.190

这可能是由于编码问题。尝试使用`UTF-16`字符集

```
BufferedReader reader = new BufferedReader(new InputStreamReader(new FileInputStream(path), "UTF-16")); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-19T06:25:23.143

## 你试过 FileReader 吗？

```
FileReader fileReader;
try {
    fileReader = new FileReader( "D:\\list.txt" );
    BufferedReader bufferedReader = new BufferedReader( fileReader ); 
    String line; 
    while( ( line = bufferedReader.readLine() ) != null )
    { 
        System.out.println( line ); 
    }
    fileReader.close();
} catch ( IOException except ) {
    System.err.println( except.getStackTrace()[0] );
} 
```

我不确定您的问题来自哪里，但您可以使用 FileReader 获取此类说明。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-19T07:20:18.227

看起来您阅读了一个 UTF-16 编码的文件。

给你的读者一个提示——传递“UTF-16”，而不是“ISO-8859-1”。

# java - 在java中存储1000位数字的最佳数据类型

> ID：14411608
> 
> 赞同：4
> 
> 时间：2013-01-19T05:57:51.880
> 
> 标签：java

我是java新手，试图用它解决欧拉问题。我有一个 1000 位数字，最好的数据类型是什么？

对不起大家。我没想到答案会这么快。谢谢你们:) 任何人都可以编写一段代码并展示如何使用`BigInteger`数据类型声明这个整数。？

```
73167176531330624919225119674426574742355349194934
96983520312774506326239578318016984801869478851843
85861560789112949495459501737958331952853208805511
12540698747158523863050715693290963295227443043557
66896648950445244523161731856403098711121722383113
62229893423380308135336276614282806444486645238749
30358907296290491560440772390713810515859307960866
70172427121883998797908792274921901699720888093776
65727333001053367881220235421809751254540594752243
52584907711670556013604839586446706324415722155397
53697817977846174064955149290862569321978468622482
83972241375657056057490261407972968652414535100474
82166370484403199890008895243450658541227588666881
16427171479924442928230863465674813919123162824586
17866458359124566529476545682848912883142607690042
24219022671055626321111109370544217506941658960408
07198403850962455444362981230987879927244284909188
84580156166097919133875499200524063689912560717606
05886116467109405077541002256983155200055935729725
71636269561882670428252483600823257530420752963450 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-01-19T06:13:53.883

```
BigInteger myBigInteger = new BigInteger("7316717653133062491922511967442657474235534919493496983520312774506326239578318016984801869478851843858615607891129494954595017379583319528532088055111254069874715852386305071569329096329522744304355766896648950445244523161731856403098711121722383113622298934233803081353362766142828064444866452387493035890729629049156044077239071381051585930796086670172427121883998797908792274921901699720888093776657273330010533678812202354218097512545405947522435258490771167055601360483958644670632441572215539753697817977846174064955149290862569321978468622482839722413756570560574902614079729686524145351004748216637048440319989000889524345065854122758866688116427171479924442928230863465674813919123162824586178664583591245665294765456828489128831426076900422421902267105562632111110937054421750694165896040807198403850962455444362981230987879927244284909188845801561660979191338754992005240636899125607176060588611646710940507754100225698315520005593572972571636269561882670428252483600823257530420752963450"); 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2013-01-19T05:58:57.960

[BigInteger](http://docs.oracle.com/javase/6/docs/api/java/math/BigInteger.html)或[BigDecimal](http://docs.oracle.com/javase/1.5.0/docs/api/java/math/BigDecimal.html)。

.....................

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-19T06:02:18.017

[BigInteger](http://docs.oracle.com/javase/7/docs/api/java/math/BigInteger.html)能够存储任何大小的整数（即非小数）。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2016-03-21T01:04:24.673

实际上，我也使用 BigInteger 来解决这个问题：

```
Scanner scan = new Scanner(System.in);
// storing the line as a String
String temp = scan.nextLine();
BigInteger bigInt= new BigInteger(temp); 
```

// 您必须注意的一件事是当您添加 2 个 BigInteger 时：

// 假设你有 firstNumber 和 secondNumber，它将是

```
firstNumber.add(secondNumber); 
```

# c# - 打字导师项目

> ID：14411610
> 
> 赞同：-1
> 
> 时间：2013-01-19T05:58:13.387
> 
> 标签：c#, winforms

我有一个表单，我试图从中捕获键盘事件，但是表单有按钮，所以每当我按下`Space`某个键时，其中一个按钮会认为我正在按下它。

```
private void Form1_KeyPress(object sender, KeyPressEventArgs e)
{  
   if (btnclock.Text == "Start")
       e.Handled = false;
   else
   {
       i = Convert.ToInt16(rtb1.Text.IndexOf(e.KeyChar));

       if (i == 0)
       {
           rtb1.Text = rtb1.Text.Remove(0, 1);
       }
       else
            j++;

       textBox1.Text = Convert.ToString((j));
    }
} 
```

如何避免这种情况并继续捕获表单上的击键？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-19T06:35:40.450

按下该`space`键会使具有焦点的按钮的行为就像它被单击一样。尝试在显示表单时以及单击按钮后将焦点显式设置在表单上，​​以便在按钮执行操作后将焦点从按钮上移开：`form1.Focus()`.

然而，正如 Shani 所提到的，让用户在文本框中输入可能更容易。当文本框具有焦点时，大多数击键（包括`space`，但该`tab`键会将焦点转移到另一个控件）可以通过文本框`KeyPress`事件的处理程序捕获，其方式与您捕获表单`KeyPress`事件的方式非常相似。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-01-19T06:24:21.080

最简单的解决方案是在文本框中键入，将文本框添加到表单中，为其命名（对于代码，可以说 - mTextBox）。

按下“开始”按钮后，您可以将焦点指向文本框：

```
mTextBox.Focus(); 
```

您的解决方案（注册到 Form.KeyPress）也应该有效，尝试注册到 KeyDown。

# android - 媒体记录器 stop() 永远不会被调用

> ID：14411611
> 
> 赞同：2
> 
> 时间：2013-01-19T05:58:28.507
> 
> 标签：android, broadcastreceiver, android-mediarecorder

我正在我的广播中录制一个音频文件，但我没有收到任何错误，但我的 recorder.stop() 从未被称为继承我的代码：

```
String file_name= "recording";
        audiofile = File.createTempFile(file_name, ".3gp", sampleDir);
        String path=Environment.getExternalStorageDirectory().getAbsolutePath();
        //recorder = null;

         int audioSource = MediaRecorder.AudioSource.VOICE_CALL;

         recorder.setAudioSource(audioSource);
         recorder.setOutputFormat(MediaRecorder.OutputFormat.THREE_GPP); 
         recorder.setAudioEncoder(MediaRecorder.AudioEncoder.AMR_NB); 
         recorder.setOutputFile(audiofile.getAbsolutePath()); 

             recorder.prepare();

             recorder.start(); 
```

我的停止功能包含：

```
public void stopRecord()throws IOException{
             if(recorder!=null)
             {

             recorder.stop();

             recorder.release();
             recorder.reset();

             Log.d(TAG, "recording stopped");
             }
             else
             {
                 Log.d(TAG, "recording stopped error");
             } 
```

我在摘机阶段调用启动记录器并在空闲时停止记录器，但它进入空闲状态并且根本不调用停止。

```
case TelephonyManager.CALL_STATE_IDLE:  
                     prev_state=state;
                     Log.d(TAG, "CALL_STATE_IDLE==>"+incoming_nr);

                     Log.d(TAG, "recording stopped");  // Executes till here and skips the below part
                     try {
                        stopRecord();
                         Log.d(TAG, "recording stopped");  
                    } catch (IOException e) {
                        // TODO Auto-generated catch block
                        e.printStackTrace();
                    }
                     Log.d(TAG, "recording stopped"); 
```

我已授予所需的所有许可，请在此先感谢您

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-19T06:35:13.443

`TelephonyManager.EXTRA_STATE_IDLE`在没有活动时调用，并且在之前调用`TelephonyManager.EXTRA_STATE_OFFHOOK`。

在这里，您`stopRecord()`在 state 中调用函数，`TelephonyManager.EXTRA_STATE_IDLE`因此您正在访问`mRecorder.stop();`，但此时 Recorder 对象为 null 且未初始化。使用 mediaRecorder 录制时，请查看这篇文章以获得更多说明[Null Exception](https://stackoverflow.com/a/13823445/1626878)。也看看评论。

就没有错误而言，您是在`try/catch`块中调用它。所以只会生成堆栈跟踪。

# django - 姜戈。夹层新项目未导入所有文件

> ID：14411613
> 
> 赞同：1
> 
> 时间：2013-01-19T05:58:52.357
> 
> 标签：django, settings, mezzanine

我想再次开始使用 Django（我不是 Python/Django 方面的专家，但我可以让好东西发挥作用）。我曾经使用过 Mezzanine 只是为了看看它是如何工作的。“mezzanine-project myproject”命令就像一个魅力，因为我有一个快速运行的不错的小应用程序。因此，今天我下载了新的 Mezzanine 1.3 以及 Django 1.4.3 及其所有依赖项（pillow、pytz、html5lib 等），并尝试创建另一个项目，以便我现在可以出于个人目的以更一致的方式对其进行处理。

令我惊讶的是，当我运行服务器时，我收到了很多指向丢失 /static/ 文件的 404 错误。此外，在创建数据库（使用`manage.py createdb`命令）之后，唯一创建的是静态文件夹，其中仅包含 Mezzanine 附带的预定义图库的图片。此外，也没有登录或注册按钮。

我尝试以相同的结果对所有 Python 及其站点包进行全新安装。我还尝试将包含丢失文件的文件夹从 /site-packages/mezzanine 文件夹复制/粘贴到我的项目中，但结果只是减少了 404 消息的数量。

我一直在对这个问题进行广泛的研究（没有运气，但可能是因为发布是最近的？），甚至试图联系 Mezzanine IRC 频道上的某个人，但没有成功。

我希望我没有错过一些愚蠢的东西。`settings.py`在运行命令之前，我是否必须在我的文件或特定文件中更改任何内容（请注意，我可以使用旧的夹层默认设置）`manage.py createdb`？

作为记录：在运行之前`createdb`，我唯一编辑的是`settings.py`并更改了数据库参数以使其与我的 MySQL 服务器一起使用并注释 local_settings 配置，因为我不需要它。

一些可能有帮助的参数：

`PROJECT_ROOT = os.path.dirname(os.path.abspath(__file__))`

`STATIC_URL = '/static/'`

`STATIC_ROOT = os.path.join(PROJECT_ROOT, STATIC_URL.strip("/"))`

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-27T05:29:57.160

默认情况下，settings.py中DEBUG设置为False，local_setting.py中DEBUG设置为True

鉴于此，如果您只是注释掉导入 local_settings.py，则 DEBUG 将为 False。

当 DEBUG 设置为 False 时，Django 的开发服务器不会提供静态文件，有关更多详细信息，请参阅 Django 文档的静态文件部分。

# javascript - 如何让 Ctrl + Q 在内容可编辑的 DIV 中添加 html？

> ID：14411618
> 
> 赞同：2
> 
> 时间：2013-01-19T05:59:30.377
> 
> 标签：javascript, jquery, html

我有这个 div，默认情况下它接受 ctrl + u 下划线，但我想在按下 ctrl + q 时向它添加一个自定义 html。

```
<div id="dvMy" contenteditable="true"></div> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-19T06:16:18.733

您可以使用 jQuery 热键以*老式方式*执行此操作：

```
$('#dvMy').bind('keypress.ctrl_q', customFxToEditDiv); 
```

或者，如果执行超过 1 个键盘快捷键，那么检查 mousetrap.js 确实值得 - 它有一个非常好的 DSL 用于键盘快捷键，并且可以处理很多细节和陷阱，如果尝试自己动手，这些细节和陷阱并不那么明显。很棒的网址也值得： http: [//craig.is/killing/mice](http://craig.is/killing/mice)

```
 Mousetrap.bind('ctrl+q', function(e) {
    $('#dvMy').html('<p>Custom content</p>');
  }); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-19T06:07:48.090

试试[jquery.hotkeys](https://github.com/tzuryby/jquery.hotkeys)。

```
jQueryObject.bind('keypress.ctrl_q', functionThatAddsDiv) 
```

# java - 在客户端（浏览器）的 Java EE Web 应用程序上播放音频

> ID：14411625
> 
> 赞同：0
> 
> 时间：2013-01-19T06:00:35.267
> 
> 标签：java, jakarta-ee, audio, client

我们正在尝试在客户端机器上播放音频。它是一个基于 Java EE 的 Web 应用程序，其中由于服务器端发生某些事件，客户端应该响铃或类似的东西。

我不知道有这样的事情。替代方法是使用

> html5

，但随后浏览器应该与 Html5 兼容成为依赖于浏览器。我无法将此要求强制执行到客户端。

我经历了

> 红5

但发现它不是很有用..

请指教

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-19T06:21:14.590

问题有两个部分：

*   在浏览器中播放声音
*   浏览器被通知服务器上的事件

为了播放声音并支持各种浏览器，您有多种选择。HTML5`<audio>`标记和插件（Flash、Java 小程序）。您还可以使用 Javascript 库（例如 Yahoo Media Player）来简化此操作。首发在[这里](http://www.w3schools.com/html/html_sounds.asp)。

第二个问题是如何在服务器上发生事件时通知客户端。这可以通过轮询服务器的 AJAX 调用来完成。由于您使用的是 Java EE，因此使用[Asynchronous Servlets](http://developerlife.com/tutorials/?p=1437)可以提高效率。您也可以使用它沿着[WebSocket](https://en.wikipedia.org/wiki/WebSocket)路径前进，尽管通过代理服务器可能会出现问题。

# c++ - 局部回归和局部似然方法的实现

> ID：14411627
> 
> 赞同：5
> 
> 时间：2013-01-19T06:00:58.450
> 
> 标签：c++, python, r, machine-learning

我正在寻找局部回归 (LOESS) 和局部似然方法（例如局部逻辑回归）的有效实现（例如，在Hastie 等人[的《统计学习要素》](http://www-stat.stanford.edu/~tibs/ElemStatLearn/)第 6.5 节中讨论了局部似然方法）。

我更喜欢 C++ 或 Python 实现，但指向 R（我知道 LOESS 已实现，但我找不到本地似然方法）或 Java 的指针也将不胜感激。

非常感谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-19T08:18:46.667

在 R 中有 'locfit' 和 'mgcv' 包，我建议它们做局部回归的形式。我相信 locfit 包只是底层 C 包的语法桥。（但不是 C++。）

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-19T06:59:20.690

github中有一个实现。鉴于它是纯 python，我建议使用 pypy 作为解释器。

[https://github.com/ali01/loess.py](https://github.com/ali01/loess.py)

另外，我会推荐 pandas 作为通用回归工具。我不确定它是否实现了 LOESS，而且我对该算法还不够熟悉，无法提出替代方案，但是 pandas 还是很棒的：

[http://pandas.pydata.org/](http://pandas.pydata.org/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2017-07-05T01:35:48.400

你不能通过使用 sk.learn 的[RadiusNeighborsRegressor](http://scikit-learn.org/stable/modules/generated/sklearn.neighbors.RadiusNeighborsRegressor.html#sklearn.neighbors.RadiusNeighborsRegressor)函数并为**weights**参数指定一个自定义的 tricube 加权函数来获得一个 Python 版本的 LOESS 吗？

# c# - 500 内部服务器错误 - 处理程序，asp.net MVC

> ID：14411628
> 
> 赞同：0
> 
> 时间：2013-01-19T06:01:01.943
> 
> 标签：c#, asp.net-mvc, handler

我正在使用一个简单的处理程序在 MVC 视图上显示图像，它在我的本地主机上运行良好，但是当我将它发布到我们的托管服务器时，我收到了这个错误（使用 Fiddler）：

```
GET ImageHandler.ashx?img=b...w=255&level=128&slice=0  500 Internal Server Error 
```

这是视图脚本：

```
<img id="Image1" alt="image"  src="ImageHandler.ashx?img=bmptest.bmp&window=255&level=128&slice=0" height="512" width="512" /> 
```

这是处理程序的脚本：

```
 public class ImageHandler : IHttpHandler
    {

        public void ProcessRequest(HttpContext context)
        {
            string sImageFileName = "";
            int slice = 0;
            int window = 0;
            int level = 0;
            sImageFileName = context.Request.QueryString["img"].ToLower().Trim();
           .....
            System.Drawing.Image objImage = null;
            Image bmp = Image.FromFile(System.Web.HttpContext.Current.Server.MapPath("content/" + sImageFileName));
            MemoryStream objMemoryStream = new MemoryStream();
            bmp.Save(objMemoryStream, System.Drawing.Imaging.ImageFormat.Jpeg);
            byte[] imageContent = new byte[objMemoryStream.Length];
            objMemoryStream.Position = 0;
            objMemoryStream.Read(imageContent, 0, (int)objMemoryStream.Length);
            context.Response.ContentType = "image/jpeg";
            context.Response.BinaryWrite(imageContent);
        }

        public bool IsReusable
        {
            get
            {
                return false;
            }
        }
    } 
```

我通过添加以下内容修改了 web.cong：

```
<system.web>
......
    <httpHandlers>
      <add verb="*" path="*.ashx" type="DirectshowTest.ImageHandler,DirectshowTest"/>
    </httpHandlers>
   </system.web> 
```

将不胜感激您的建议。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-19T16:20:06.733

我在 Global.asax 中添加了以下内容：

```
 routes.IgnoreRoute("{resource}.ashx/{*pathInfo}"); 
```

它现在正在工作。

# sql-server - 如何使用 VS2012 向我的 SQL Server 数据库添加行？

> ID：14411631
> 
> 赞同：0
> 
> 时间：2013-01-19T06:01:16.740
> 
> 标签：sql-server, visual-studio-2010, visual-studio-2012

我正在使用 VS2012 和一个连接字符串，如下所示：

```
Data Source=(LocalDb)\v11.0;AttachDbFilename=C:\xxx\WebUx\App_Data\aspnet-WebUx-20121229.mdf;Initial Catalog=aspnet-WebUx-20121229;Integrated Security=True 
```

当我选择

```
Server Explorer > Default Connection > tables > table > Show Table Data 
```

然后我可以看到数据，我什至可以更新数据中的一列，但是添加新行的图标是空白的，我无法添加新行。有没有其他人有这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-04-03T12:02:43.060

是的，我可以看到这个问题已经有一年多了，但我没有看到答案，所以：

在最后一个字段中输入信息后，只需点击 TAB 按钮，它将保存您正在处理的行并将您移动到下一行以添加另一行。如果您的焦点不在该行的最后一个字段中，则 TAB 按钮会将您从所在的字段移至下一个字段。

确保设置为不允许 NULL 的任何字段在该行的字段中输入了一些内容，否则它将引发错误并且不会更新该行。

# python - 检查字符串是否在列表中的任何项目中包含特定字符的最快方法

> ID：14411633
> 
> 赞同：12
> 
> 时间：2013-01-19T06:01:48.410
> 
> 标签：python, performance, list, iteration

检查字符串是否包含列表中任何项目中的某些字符的最快方法是什么？

目前，我正在使用这种方法：

```
lestring = "Text123"

lelist = ["Text", "foo", "bar"]

for x in lelist:
    if lestring.count(x):
        print 'Yep. "%s" contains characters from "%s" item.' % (lestring, x) 
```

有没有什么方法可以在没有迭代的情况下做到这一点（我想这会让它更快。）？

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2013-01-19T06:08:58.030

您可以尝试使用成员资格检查进行列表理解

```
>>> lestring = "Text123"
>>> lelist = ["Text", "foo", "bar"]
>>> [e for e in lelist if e in lestring]
['Text'] 
```

与您的实现相比，虽然 LC 有一个隐式循环，但它更快，因为没有像您的情况那样显式调用函数`count`

与 Joe 的实现相比，您的实现要快得多，因为 filter 函数需要在一个循环中调用两个函数，`lambda`并且`count`

```
>>> def joe(lelist, lestring):
    return ''.join(random.sample(x + 'b'*len(x), len(x)))

>>> def uz(lelist, lestring):
    for x in lelist:
        if lestring.count(x):
            return 'Yep. "%s" contains characters from "%s" item.' % (lestring, x)

>>> def ab(lelist, lestring):
    return [e for e in lelist if e in lestring]

>>> t_ab = timeit.Timer("ab(lelist, lestring)", setup="from __main__ import lelist, lestring, ab")
>>> t_uz = timeit.Timer("uz(lelist, lestring)", setup="from __main__ import lelist, lestring, uz")
>>> t_joe = timeit.Timer("joe(lelist, lestring)", setup="from __main__ import lelist, lestring, joe")
>>> t_ab.timeit(100000)
0.09391469893125759
>>> t_uz.timeit(100000)
0.1528471407273173
>>> t_joe.timeit(100000)
1.4272649857800843 
```

* * *

Jamie 的评论解决方案对于较短的字符串来说较慢。这是测试结果

```
>>> def jamie(lelist, lestring):
    return next(itertools.chain((e for e in lelist if e in lestring), (None,))) is not None

>>> t_jamie = timeit.Timer("jamie(lelist, lestring)", setup="from __main__ import lelist, lestring, jamie")
>>> t_jamie.timeit(100000)
0.22237164127909637 
```

* * *

如果您需要布尔值，对于较短的字符串，只需修改上面的 LC 表达式

```
[e in lestring for e in lelist if e in lestring] 
```

或者对于更长的字符串，您可以执行以下操作

```
>>> next(e in lestring for e in lelist if e in lestring)
True 
```

或者

```
>>> any(e in lestring for e in lelist) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-19T06:08:24.120

```
filter(lambda x: lestring.count(x), lelist) 
```

这将返回您尝试查找的所有字符串作为列表。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-19T06:20:15.930

如果测试是查看是否有任何共同的字符（不是单词或段），请从列表中的字母创建一个集合，然后再检查字符串中的字母：

```
char_list = set(''.join(list_of_words))
test_set = set(string_to_teat)
common_chars = char_list.intersection(test_set) 
```

但是我假设你正在寻找一个共同的角色......

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-05-12T10:32:43.033

esmre库可以解决问题**。**在您的情况下，更简单的**esm**（esmre 的一部分）就是您想要的。

[https://pypi.python.org/pypi/esmre/](https://pypi.python.org/pypi/esmre/)

[https://code.google.com/p/esmre/](https://code.google.com/p/esmre/)

他们有很好的文档和示例：取自他们的示例：

```
>>> import esm
>>> index = esm.Index()
>>> index.enter("he")
>>> index.enter("she")
>>> index.enter("his")
>>> index.enter("hers")
>>> index.fix()
>>> index.query("this here is history")
[((1, 4), 'his'), ((5, 7), 'he'), ((13, 16), 'his')]
>>> index.query("Those are his sheep!")
[((10, 13), 'his'), ((14, 17), 'she'), ((15, 17), 'he')]
>>> 
```

我进行了一些性能测试：

```
import random, timeit, string, esm

def uz(lelist, lestring):
    for x in lelist:
        if lestring.count(x):
            return 'Yep. "%s" contains characters from "%s" item.' % (lestring, x)

def ab(lelist, lestring):
    return [e for e in lelist if e in lestring]

def use_esm(index, lestring):
    return index.query(lestring)

for TEXT_LEN in [5, 50, 1000]:
    for SEARCH_LEN in [5, 20]:
        for N in [5, 50, 1000, 10000]:
            if TEXT_LEN < SEARCH_LEN:
                continue

            print 'TEXT_LEN:', TEXT_LEN, 'SEARCH_LEN:', SEARCH_LEN, 'N:', N

            lestring = ''.join((random.choice(string.ascii_uppercase + string.digits) for _ in range(TEXT_LEN)))
            lelist = [''.join((random.choice(string.ascii_uppercase + string.digits) for _ in range(SEARCH_LEN))) for _
                      in range(N)]

            index = esm.Index()
            for i in lelist:
                index.enter(i)
            index.fix()

            t_ab = timeit.Timer("ab(lelist, lestring)", setup="from __main__ import lelist, lestring, ab")
            t_uz = timeit.Timer("uz(lelist, lestring)", setup="from __main__ import lelist, lestring, uz")
            t_esm = timeit.Timer("use_esm(index, lestring)", setup="from __main__ import index, lestring, use_esm")

            ab_time = t_ab.timeit(1000)
            uz_time = t_uz.timeit(1000)
            esm_time = t_esm.timeit(1000)

            min_time = min(ab_time, uz_time, esm_time)
            print '  ab%s: %f' % ('*' if ab_time == min_time else '', ab_time)
            print '  uz%s: %f' % ('*' if uz_time == min_time else '', uz_time)
            print '  esm%s %f:' % ('*' if esm_time == min_time else '', esm_time) 
```

得到的结果主要取决于一个人正在寻找的项目数量（在我的例子中，'N'）：

```
TEXT_LEN: 1000 SEARCH_LEN: 20 N: 5
  ab*: 0.001733
  uz: 0.002512
  esm 0.126853:

TEXT_LEN: 1000 SEARCH_LEN: 20 N: 50
  ab*: 0.017564
  uz: 0.023701
  esm 0.079925:

TEXT_LEN: 1000 SEARCH_LEN: 20 N: 1000
  ab: 0.370371
  uz: 0.489523
  esm* 0.133783:

TEXT_LEN: 1000 SEARCH_LEN: 20 N: 10000
  ab: 3.678790
  uz: 4.883575
  esm* 0.259605: 
```

# jquery - 网站无法在 godady 主机上正确显示

> ID：14411636
> 
> 赞同：-1
> 
> 时间：2013-01-19T06:02:03.090
> 
> 标签：jquery, html

我有一个网站，这里是一个 jsbin

[http://jsbin.com/eqodep/1/](http://jsbin.com/eqodep/1/)

虽然 jquery 没有在那里工作，但菜单应该很酷，它们现在扩展和动画真的很酷，我的网站

www.albuquerqueautomotiveservice.com

但我大约 15 分钟前刚刚发布了这个网站，在 Firefox 上它看起来很糟糕，菜单甚至没有显示

并且在即它显示完美但jquery不起作用菜单效果不起作用并且带有链接的图像也不起作用..

我搞砸了文档类型还是什么

抱歉，这是我的第一个网站，我需要帮助，谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-19T06:05:43.960

看起来文件并不全部存在。

> *   加载资源失败：服务器响应状态为 404（未找到） [http://www.albuquerqueautomotiveservice.com/images/logo.jpg](http://www.albuquerqueautomotiveservice.com/images/logo.jpg)
> *   加载资源失败：服务器响应状态为 500（内部服务器错误） [http://www.albuquerqueautomotiveservice.com/js/jquery.easing.1.3.js](http://www.albuquerqueautomotiveservice.com/js/jquery.easing.1.3.js)
> *   加载资源失败：服务器响应状态为 500（内部服务器错误） [http://www.albuquerqueautomotiveservice.com/js/jquerymenu.js](http://www.albuquerqueautomotiveservice.com/js/jquerymenu.js)

# ios - 核心数据连接表，有很多通过，获取的属性谓词

> ID：14411637
> 
> 赞同：8
> 
> 时间：2013-01-19T06:02:06.510
> 
> 标签：ios, core-data

![Xcode 数据模型](../Images/4a612df67b8369a07a0838279bcfa9d7.png) 您如何为将呈现用户数组的 Place 实体编写 Fetched 属性？

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-01-19T09:03:21.953

*对于Place*的获取属性`users`，该属性检索其签到与给定地点相关的所有用户，设置

 **   获取的属性的目的地到“用户”
*   以及“ANY checkins.event == $FETCH_SOURCE”的谓词

![在此处输入图像描述](../Images/c30e65efbc9bf4a943df6f5943ef980d.png)

现在您可以获取某个地点的用户数组：

```
Place *place = ...;
NSArray *users = [place valueForKey:@"users"]; 
```

此获取的属性对应于以下获取请求：

```
Place *place = ...;
NSFetchRequest *request = [NSFetchRequest fetchRequestWithEntityName:@"User"];
NSPredicate *predicate = [NSPredicate predicateWithFormat:@"ANY checkins.event == %@", place];
[request setPredicate:predicate];
NSArray *users = [context executeFetchRequest:request error:&error]; 
```

如果将获取的属性声明`users`为动态属性：

```
@interface Place (FetchedProperties)
@property(nonatomic, retain) NSArray *users;
@end

@implementation Place (FetchedProperties)
@dynamic users;
@end 
```

然后您可以使用属性语法检索值：

```
NSArray *users = place.users;
// instead of: NSArray *users = [place valueForKey:@"users"]; 
```

***但请注意***，您可以直接获得相同的结果（作为一个集合），而无需使用获取的属性：

```
Place *place = ...;
NSSet *users = [place.checkins valueForKey:@"user"]; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-19T09:01:36.793

我希望我没有正确理解你。您想要在某个地方签到的用户列表吗？

然后你反过来做。你获取所有`User`至少有一个的`Checkin`s `Place`。

在核心数据术语中，您需要一个子查询。

```
NSFetchRequest *request = [NSFetchRequest fetchRequestWithEntityName:@"User"];
NSPredicate *predicate = [NSPredicate predicateWithFormat:@"SUBQUERY(checkins, $CHECKIN, $CHECKIN.event == %@).@count > 0", place];
request.predicate = predicate;
/* and so on */ 
```

关于 SUBQUERY 的文档不多。在讨论中写了一点[`expressionForSubquery:usingIteratorVariable:predicate:`](http://developer.apple.com/library/mac/documentation/Cocoa/Reference/Foundation/Classes/NSExpression_Class/Reference/NSExpression.html#//apple_ref/doc/uid/TP30001190-SW22)。

并且获取的属性将位于具有目标实体 User 和谓词的 Place 实体中`SUBQUERY(checkins, $CHECKIN, $CHECKIN.event == $FETCH_SOURCE).@count > 0`*

# jaxb - 如何使用 Jaxb 生成的 ObjectFactory？

> ID：14411641
> 
> 赞同：3
> 
> 时间：2013-01-19T06:02:30.837
> 
> 标签：jaxb, createinstance, objectfactory

我正在使用 Jaxb 生成 Java 类。我的架构定义了以下元素：

```
<xs:complexType name="AutomobileType" abstract="true">
    <xs:sequence>
        <xs:element name="Color" type="core:ColorName"/>
        <xs:element name="Weight" type="core:PoundsWeightType"/>
        <xs:element name="Fuel" type="Fuel"/>
        <xs:element name="NumDoors" type="xs:nonNegativeInteger"/>
        <xs:element name="NumCylinders">
            <xs:simpleType>
                <xs:restriction base="xs:int">
                    <xs:minInclusive value="1"/>
                    <xs:maxInclusive value="12"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:element>
    </xs:sequence>
</xs:complexType>    
<xs:element name="Automobile" type="AutomobileType"/> 
```

如您所见，我有一个元素称为*Automobile*。

Jaxb 创建了我用来创建*汽车实例的类和**ObjectFactory*。让我感到困惑的是创建*汽车*实例的方法如下：

 **```
public JAXBElement<AutomobileType> createAutomobile(AutomobileType value) 
```

为什么*createAutomobile*方法有参数？我该如何使用这种方法？

我尝试了以下方法：

```
ObjectFactory objectFactory = new ObjectFactory();
objectFactory.createAutomobile(new Automobile()); 
```

但这不会编译，因为*汽车*类是抽象的，因此我无法创建实例。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-19T06:38:39.467

还有另一种方法：

```
 public AutomobileType createAutomobileType(); 
```

在 JAXB 中，xsd:complexType "AutomobileType" 构造映射同名的类。它是等同于该 XML 模式类型的数据结构。

JAXBElement<> 是一个（参数化的）包装器类型，它将 java 对象与元素名称和名称空间相关联，这就是为什么它的构造函数在构造函数中除了元素名称空间和元素名称之外还需要一个 AutomobileType 对象作为参数。生成的 ObjectFactory "createAutomobile(..)" 只是包装该构造函数的便捷方法，从 XML 模式硬编码命名空间和元素名称。

虽然这种二分法一开始并不完全直截了当，但请考虑您可以使用另一个名称来使用另一个元素

它们在结构上是等效的，但元素名称会不同。您将有另一个 ObjectFactory 方法“createMotorcycle(...)”。

您可以创建一个未命名的汽车类型对象来构建 xml 元素的内容，然后准确地告诉 JAXB 它应该表示为哪个 XML 元素。

我不推荐阅读有关该主题的 JAXB 文档。**

# android - 无法启动显示空指针和classcast异常的android应用程序logact，java文件和xml文件如下所示

> ID：14411645
> 
> 赞同：-2
> 
> 时间：2013-01-19T06:02:48.240
> 
> 标签：android

这是 java 类中使用的代码。它在 eclipse 中没有显示任何错误。logcat 显示空指针异常和类种姓异常

```
package com.myfirstapp;

import android.app.Activity;
import android.os.Bundle;
import android.view.View;
import android.widget.*;

public class MyfirstappActivity extends Activity {
/** Called when the activity is first created. */

int count ;
Button add,sub;
TextView txt;
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    count = 0;
    add = (Button) findViewById(R.id.add_one);
    sub = (Button) findViewById(R.id.sub_one);
    txt = (Button) findViewById(R.id.display);
    setContentView(R.layout.main);
    add.setOnClickListener(new View.OnClickListener() { 
        public void onClick(View v) {
            // TODO Auto-generated method stub
            count = count + 1;
            txt.setText("Your total is " + count);
        }
    });

    sub.setOnClickListener(new View.OnClickListener() {
        public void onClick(View v) {
            // TODO Auto-generated method stub
            count = count - 1;
            txt.setText("Your total is " + count);
        }
    }); 

} 
```

这是创建的 main.xml 布局文件。我同时尝试清理项目。尝试使用 try catch 机制。当我评论引用上述代码部分的按钮时，应用程序运行良好

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:orientation="vertical"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:weightSum="1">

    <TextView  
        android:layout_width="fill_parent" 
        android:layout_height="60dp" 
        android:text="@string/hello"
        android:id="@+id/display"
        android:textSize="40dp"
        android:gravity="center" />

   <Button
       android:text="@string/add1"
       android:layout_gravity="center" 
       android:layout_width="fill_parent"
       android:layout_height="60dp"
       android:id="@+id/add_one"
       android:textSize="40dp"
       android:gravity="center">
   </Button>

   <Button
       android:text="@string/sub1"
       android:layout_gravity="center" 
       android:layout_width="fill_parent"
       android:layout_height="60dp"
       android:id="@+id/sub_one"
       android:textSize="40dp"
       android:gravity="center">
   </Button>

</LinearLayout> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-19T06:04:25.230

改变

```
 txt = (Button) findViewById(R.id.display); 
```

至

```
 txt = (TextView) findViewById(R.id.display); 
```

因为您试图将 TextView 转换为 Button 并将其分配给 TextView 实例。`setContentView(R.layout.main);`在初始化 UI 元素之前也会移动 ：

```
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);   //<<< set layout for Activity here
    // access UI elements here 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-19T06:04:38.647

请这样写...

```
public void onCreate(Bundle savedInstanceState) 
{
   super.onCreate(savedInstanceState);

   setContentView(R.layout.main);
   count = 0;
   add = (Button) findViewById(R.id.add_one);
   sub = (Button) findViewById(R.id.sub_one);
   txt = (Button) findViewById(R.id.display);
} 
```

并改变

```
txt = (Button) findViewById(R.id.display); 
```

至

```
txt = (Textview) findViewById(R.id.display); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-19T06:05:21.923

`txt`是`TextView`，您正在将其投射到按钮。利用

```
txt = (TextView) findViewById(R.id.display); 
```

您还需要为此设置布局资源。所以使用，

```
super.onCreate();
setContentView(R.layout.main); 
```

**编辑 -**你的代码应该是这样的，

```
super.onCreate(savedInstanceState);
setContentView(R.layout.main);
count = 0;
add = (Button) findViewById(R.id.add_one);
sub = (Button) findViewById(R.id.sub_one);
txt = (TextView) findViewById(R.id.display); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-19T06:05:53.590

setcontentview 需要在 super.oncreate 之后编写，例如：

```
super.onCreate(savedInstanceState);
setContentView(R.layout.main); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-19T06:06:04.163

您在初始化视图对象后设置布局，这就是为什么将空指针更改为此

```
super.onCreate();
setContentView(R.layout.main);
// then init the object, Here need to set layout first then find view by id
add = (Button) findViewById(R.id.add_one); 
sub = (Button) findViewById(R.id.sub_one);
txt = (TextView) findViewById(R.id.display); // here you cast to button change to TextView 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-01-19T08:03:59.227

因为您将 textview 转换为按钮，并且您还在 setcontentview 之前调用了按钮和文本视图的 ID，所以这就是您出错的原因。尝试这个 ：-

```
public void onCreate(Bundle savedInstanceState) {
super.onCreate(savedInstanceState);

setContentView(R.layout.main);
count = 0;
add = (Button) findViewById(R.id.add_one);
sub = (Button) findViewById(R.id.sub_one);
txt = (TextView) findViewById(R.id.display);
add.setOnClickListener(new View.OnClickListener() {

    public void onClick(View v) {
        // TODO Auto-generated method stub
        count = count + 1;
        txt.setText("Your total is " + count);
    }
    });

sub.setOnClickListener(new View.OnClickListener() {

    public void onClick(View v) {
        // TODO Auto-generated method stub
        count = count - 1;
        txt.setText("Your total is " + count);
    }
}); 

}
} 
```

# android - Android 屏幕尺寸支持

> ID：14411646
> 
> 赞同：0
> 
> 时间：2013-01-19T06:03:09.250
> 
> 标签：android, android-layout, android-screen-support

我需要开发支持多种屏幕尺寸的应用程序。我最近看了 youtube 教程[http://www.youtube.com/watch?v=C8dGQEN9sRs](http://www.youtube.com/watch?v=C8dGQEN9sRs) 在视频中它演示了如何创建一个新的 android.xml 文件并选择大小选项，它会自动选择图形的屏幕显示大小xml中的布局。我的问题是当我尝试在视频中做同样的事情时，eclipse 没有在图形布局中选择适当大小的屏幕。发生这种情况有什么已知的原因吗？谢谢

此外，如果您知道任何关于屏幕尺寸支持的非常直接的教程，我们将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-19T06:08:03.263

[developer.android.com 上的Supporting Multiple Screens](http://developer.android.com/guide/practices/screens_support.html)对支持多种屏幕尺寸有很好的解释。

# c# - 您如何使用 Windows 性能分析器查看 EventSource 创建的 ETW 事件？

> ID：14411655
> 
> 赞同：15
> 
> 时间：2013-01-19T06:04:50.350
> 
> 标签：c#, performance, etw, wpa

我想使用`EventSource`Windows 性能分析器触发 ETW 事件并查看它们。

我有一个基本的`EventSource`：

```
[EventSource(Name = "BasicEventSource")]
public class ETWLogger : EventSource
{
#if DEBUG
    private const bool ThrowOnError = true;
#else
    private const bool ThrowOnError = false;
#endif

    private ETWLogger(bool throwOnError) : base(throwOnError) { }

    private static ETWLogger _log;
    public static ETWLogger Log
    { get { return _log ?? (_log = new ETWLogger(ThrowOnError)); } }

    private static class Keywords
    {
        public const EventKeywords Perf = (EventKeywords) 1;
    }

    [Event(1, Keywords = Keywords.Perf, Level = EventLevel.Informational)]
    public void Startup() { WriteEvent(1, "StartUp"); }
} 
```

当我使用 Windows Performance Recorder (WPR) 进行录制时，我在 Windows Performance Analyzer (WPA) 的通用事件图中看不到我的提供程序或事件。

谢谢你的时间 ：）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-12-30T16:47:01.383

WPR 对您的自定义一无所知`EventSource`，因此您必须创建一个录制配置文件才能启用它。WPT 附带了一些示例配置文件，可以帮助您入门。

8.1 版本的 WPR 支持与 PerfView 相同的命名约定，这意味着您可以使用`*YourEventSource`而不是配置文件中的 GUID。

根据我的经验`EventSource`，WPA 8.1 版本中的某些功能没有得到很好的支持。例如，如果您使用任务，它们将无法正确显示。但是，`EventSource`当您为`EventSource`.

另一种选择是使用 PerfView 收集跟踪并使用 WPA 进行分析（如果您更喜欢 PerfView）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-12-30T15:45:50.360

WPR 和 WPA 不支持 EventSource，但使用新的 8.1 ADK。见[这里](http://blogs.msdn.com/b/vancem/archive/2013/08/10/wpr-wpa-support-for-viewing-system-diagnostics-tracing-eventsource.aspx)。

# codeigniter-2 - 如何传输我的 jquery 结果以在我的 codeigniter ocntroller 中进行处理？

> ID：14411656
> 
> 赞同：0
> 
> 时间：2013-01-19T06:05:14.757
> 
> 标签：codeigniter-2

祝你有美好的一天。

我正在做一个全选复选框来删除选定的帖子。我能够在 jquery 中获得结果，但我不确定如何使用该结果在我的 Codeigniter 控制器中进行处理。也许有人可以启发我。谢谢！

查看文件：

```
<input class="delete_selection" type="checkbox" name="delete_selection[]" value="1" />
<input class="delete_selection" type="checkbox" name="delete_selection[]" value="2" />
<input class="delete_selection" type="checkbox" name="delete_selection[]" value="3" />

<button id="delete_selected" name="delete_selected" class="btn btn-danger btn-small" value="" onClick="return confirm('Delete selected posts?')"><i class="icon-trash icon-white"> &nbsp; </i> Delete Selected</button> 
```

查询：

```
 //GET SELECTED POSTS/PAGES FOR DELETION 
$("#delete_selected").click(function(event) {

    /* stop form from submitting normally */
    event.preventDefault();

    var values = new Array();

    $.each($('input[name="delete_selection[]"]:checked'), function() {

        var delete_selection = $(this).val()

        console.log(delete_selection);
    });
}); 
```

控制器：

```
 public function post_delete(){

        //HOW TO GRAB THE RESULT FROM THE JQUERY? 
        //I KNOW IT SHOULD BE IN AJAX BUT NOT QUITE SURE HOW TO DO IT.

        $id = $this->input->post('delete_selection');                  

        for( $i=0; $i<sizeof($id); $i++) :

            $this->posts_model->delete_post_selection($id[$i]);

        endfor;

        $data['message_success']    = $this->session->set_flashdata('message_success', 'You have successfully deleted your selected posts.');
        redirect('admin/posts/posts_list', $data);

} 
```

模型：

```
 //MULTIPLE DELETE
function delete_post_selection($id) {

    $this->db->where_in('post_id', $id)->delete('posts');

    return true;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-19T12:43:55.807

您的想法是错误的，控制器不会“抓住”这些值。但是javascript会发布到控制器

假设您将 html 放入表单中，您可以执行以下操作：

看法：

```
<form action="/post_delete">
<input class="delete_selection" type="checkbox" name="delete_selection[]" value="1" />
<input class="delete_selection" type="checkbox" name="delete_selection[]" value="2" />
<input class="delete_selection" type="checkbox" name="delete_selection[]" value="3" />

<button id="delete_selected" name="delete_selected" class="btn btn-danger btn-small" value=""><i class="icon-trash icon-white"> &nbsp; </i> Delete Selected</button>
</form> 
```

JS：

```
$('#delete_selection').click(function(e){
    if(!confirm('Delete?')) return;//ask user if they're sure

    //stop default form submitting from happening because 
    //we'll use ajax
    e.preventDefault();
    var form = $(this).closest('form');//get the parent form
    $.ajax({
        url: form.attr('action'),//get url to send it to
        type: "POST",
        data: form.serialize(),//get data from the form
        success: function(){
            //do something with success
        }
        error: function(){
            //do something with error
        } 
}); 
```

现在您可以通过访问 $_POST 尝试使用控制器中的数据

```
var_dump($_POST); 
```

查看已发布的内容

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-20T01:30:35.010

我不确定这是否是正确的方式，因为它反复发布但到目前为止工作。

在我的 JS 中：

```
 //GET SELECTED POSTS/PAGES FOR DELETION 
$("#delete_selection").click(function(event) {
       if(!confirm('Delete selected posts?')) return false;//ask user if they're sure

    /* stop form from submitting normally */
    event.preventDefault();

    $.each($('input[name="delete_selection[]"]:checked'), function() {  

        $.ajax({
          type: "POST",
          url: 'post_delete_selection',
          data: 
            { selected: $(this).val() },
          success: function(data){              

            setTimeout(function () {
                window.location.href = window.location.href;
            }, 1000);

            $('#ajax_message').show().html('Successfully deleted.');
          },              
        });             

    }); 
}); 
```

我的控制器：

```
 public function post_delete_selection(){

    $selectedIds = $_POST['selected']; //THIS GRABS THE VALUES FROM THE AJAX
    $this->posts_model->delete_post_selection($selectedIds);         

} 
```

我的模型：

```
 function delete_post_selection($selectedIds) {

    $this->db->where_in('post_id', $selectedIds)->delete('posts');

    return true;
} 
```

# python - Django：检查子模型的子模型是否为空？

> ID：14411658
> 
> 赞同：0
> 
> 时间：2013-01-19T06:05:28.723
> 
> 标签：python, sql, django

假设我有三个模型，一个`County`模型有很多`Communities`. 每个`Community`都有许多`Mall`模型。

我知道如果我想检查一个县是否有任何社区，我会这样做`County.objects.filter(community__isnull=False).distinct()`，但有没有办法：

1.  获取所有拥有一个或多个购物中心的县？

2.  假设每一个都有一个带有商店数量的 IntegerField。我将如何获得拥有比`x`商店更多的购物中心的县？

# php - PHP / MySQL 查询：根据 2 个冲突条件显示结果

> ID：14411661
> 
> 赞同：0
> 
> 时间：2013-01-19T06:05:55.893
> 
> 标签：php, mysql, sql

我想做的是：在时间线上显示更新。

结果应该显示从**1 月到 12 月**的更新，但同时**根据它们的年份**列出这些月份。

一个视觉布局示例是：

*   2011 年 1 月
*   2011 年 2 月
*   2011 年 5 月
*   2011 年 6 月
*   2011 年 7 月
*   2011 年 9 月
*   2011 年 11 月
*   2011 年 12 月
*   **2012 年 1 月**
*   **2012 年 2 月**

等等等等...

如您所见，它回到了 2011 年结束时的 1 月。
我的查询遇到的问题是......

我只能以这种方式订购我的结果：

*   2011 年 1 月
*   **2012 年 1 月**
*   2011 年 2 月
*   **2012 年 2 月**
*   2011 年 5 月
*   2011 年 6 月
*   2011 年 7 月
*   2011 年 9 月
*   2011 年 11 月
*   2011 年 12 月

```
$sql="SELECT * FROM (SELECT * FROM updates ORDER BY year ASC) AS the_id ORDER BY month ASC"; 
```

我不确定如何正确查询。一些指导将不胜感激，谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-19T06:08:28.140

尝试这个：：

```
SELECT * FROM updates ORDER BY `year` ASC, `month` ASC 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-19T06:09:07.350

您可以在 ORDER BY 子句中指定多个表达式，如下所示：

```
... ORDER BY `year`, `month` 
```

-或者-

通常，日期信息存储在 DATE 或 DATETIME 列中。在这种情况下，您可以按日期列排序：

```
SELECT DATE_FORMAT(datecol,'%M %Y') AS month_year
  FROM ...
 ORDER BY datecol 
```

或者，您可以派生一个表达式，该表达式具有您可以按以下顺序排序的值：

```
... ORDER BY STR_TO_DATE(CONCAT(`year`,' ',`month_name`),'%Y %M') 
```

# c# - 简单的搜索程序不返回结果c#

> ID：14411662
> 
> 赞同：0
> 
> 时间：2013-01-19T06:05:59.853
> 
> 标签：c#, winforms, search, for-loop

我正在尝试做一个简单的搜索程序，允许用户搜索员工姓名并单击搜索按钮，该按钮将返回员工详细信息。

在我的表格中，我有：

```
 private void buttonSearch_Click(object sender, EventArgs e)
    {
        //set datasource
        dataGridView1.DataSource = controller_emp.search_employee(textBoxSearch.Text);
    } 
```

控制器_员工：

```
 public Model_Employee search_employee(string criteria)
    {
        return db.search_employee(criteria);
    } 
```

Model_DB_Employee：

```
 public Model_Employee search_employee(string criteria)
    {

        Model_Employee result = new Model_Employee();
        for (int i = 0; i < rows.Count; i++)
        {
            if ((string)empTab.Rows[i]["emp_fname"] == criteria)
            {
                result.setId(empTab.Rows[i]["emp_id"].ToString());
                result.setFname(empTab.Rows[i]["emp_fname"].ToString());
                result.setLname(empTab.Rows[i]["emp_lname"].ToString());
                result.setUsername(empTab.Rows[i]["username"].ToString());
                result.setPassword(empTab.Rows[i]["passwd"].ToString());
                result.setJobrole(empTab.Rows[i]["job_role"].ToString());
                result.setContact(empTab.Rows[i]["contact"].ToString());
                result.setEmail(empTab.Rows[i]["email"].ToString());
            }

        }
        return result;

    } 
```

`for`循环有什么问题吗？即使`criteria`已经满足，它也会继续循环。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-19T06:22:29.583

采用`break;`

```
for (int i = 0; i < rows.Count; i++)
{
    if ((string)empTab.Rows[i]["emp_fname"] == criteria)
    {
        //result stuff
        break;
    }
}
return result; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-19T06:11:02.593

找到员工时，您没有退出循环。您可以： 1\. 使用信息填充结果后立即使用 2\. 使用信息填充结果后立即`break`复制`return result;`

我喜欢最好的选项 1 :)

# mysql - 无法登录mysql服务器。（错误 1045）

> ID：14411666
> 
> 赞同：-3
> 
> 时间：2013-01-19T06:06:49.747
> 
> 标签：mysql, phpmyadmin

我使用 phpmyadmin 添加了一个新用户，但出现错误，我使用了 SQL Query ：

```
create database foo_db;
create user foo_user identified by 'foo_password';
grant all on foo_db.* to 'foo_user'@'%';
flush privileges; 
```

但它也不起作用。

错误消息是

```
ERROR 1045 (28000): Access denied for user 'folderfile'@'localhost' (using password: YES) (mysql) 
#1045 Cannot log in to the MySQL server (phpmyadmin) 
```

我无法解决这个问题，请帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-19T06:12:02.020

尝试这个：

```
CREATE USER 'testtt'@'localhost' IDENTIFIED BY '***';

GRANT ALL PRIVILEGES ON * . * TO 'testtt'@'localhost' IDENTIFIED BY '***' WITH
 GRANT OPTION MAX_QUERIES_PER_HOUR 0 MAX_CONNECTIONS_PER_HOUR 0 MAX_UPDATES_PER_HOUR 0
 MAX_USER_CONNECTIONS 0 ;

GRANT ALL PRIVILEGES ON `test` . * TO 'testtt'@'localhost'; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-19T06:16:13.207

你能以root用户身份登录吗？如果是这样，请尝试：

1、以root用户登录：mysql -u root

2、使用mysql

3、更新用户设置密码=NEWPASSWORD where user='folderfile' and host='localhost' ;

4 同花顺特权；

祝你好运！！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-19T06:17:05.310

问题是您在创建用户时没有提到主机名

所以试试这个登录mysql

```
 mysql -u foo_user -h localhost -p
 Enter password: foo_password 
```

它可以工作，无需做任何更改

# android - 如何在android中控制工作线程（辅助线程）的速度

> ID：14411672
> 
> 赞同：-4
> 
> 时间：2013-01-19T06:08:29.750
> 
> 标签：android, multithreading, timertask

我正在制作一个心电图显示android应用程序并扩展surfaceView类并实现SurfaceHolder。回调和使用工作线程锁定画布和解锁在游戏循环中非常常见。

我扩展surfaceView的类具有绘制线的绘制函数，并且该函数由辅助线程调用以在锁定画布上绘制。

现在我的问题是绘图速度太快了。我如何控制绘图速度。或者我们不能控制控制工作线程的速度？

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-19T06:18:23.063

我以前研究过心电图传感器，我很确定您可以在传感器中设置采样率。尝试降低采样率，您的应用程序将自动按照您的意愿运行。

否则，您还可以查看 thread.sleep() 方法或使用计时器类和 timer.schedule() 方法以特定间隔运行一些代码。

# android - AndroidAssets 不同分辨率和内存的图片加载

> ID：14411677
> 
> 赞同：1
> 
> 时间：2013-01-19T06:09:18.060
> 
> 标签：android, assets

我在我的游戏中使用了不同分辨率的图像来支持不同的屏幕尺寸和不同的内存位图内存能力。但是，由于所有图像以不同的分辨率在应用程序中存储了三遍，因此它使应用程序很快变得很大。

正如Javadoc所说，我看到现在存在这样的方法`setAssetScale`并且`setBitmapOptionsAdjuster`似乎解决了这个问题：

> 这允许人们使用比设备通常可能使用的更高分辨率的图像。

但是，我没有找到任何说明如何使用这些方法的文档或示例。有没有人有更多关于这个的信息，或者一些示例代码？

# php - 一段时间后删除帖子

> ID：14411681
> 
> 赞同：0
> 
> 时间：2013-01-19T06:09:53.687
> 
> 标签：php, mysql, article

我创建了一个获取文章发表时间的函数。相同的功能检查文章是否存在 1 周并停用它。

如果我必须在调用时使函数响应，我不知道该怎么做。我想到了使用 JavaScript 并为函数设置超时。那将是太多的循环。

这是我用来检查日期的“如果”。谁有更好的主意，请帮忙。

```
if((time() - $publish_time) > (7*24*60*60)){
  //  if the current timestamp - the time the article was published > 1 week.
  //Execute the query to deactivate the article
} 
```

该片段位于我必须调用的函数中。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-19T06:27:13.437

而不是在您的网站中包含此内容，您应该使用 cronjob 使您的文章过期，根据[这个问题](https://stackoverflow.com/questions/9865393/how-to-delete-mysql-row-after-time-passes)，在使用 MySQL 时（* nix-like）
在 Windows 上，您可以使用并添加一个任务来通过[任务计划程序](https://en.wikipedia.org/wiki/Windows_Task_Scheduler)`mmc.exe`执行脚本）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-20T05:53:46.117

想象一下 [table] 有 [column]插入帖子的[日期：](http://www.ntchosting.com/mysql/insert-date.html)

```
SET GLOBAL event_scheduler = ON;

CREATE
    EVENT 'archive_posts'
    ON SCHEDULE EVERY 1 WEEK
    DO 
        DELETE FROM [table] WHERE [column] < DATE_SUB(NOW(), INTERVAL 1 WEEK); 
```

# c# - Windows Phone：Visual C# - 更改背景图片和按钮单击新页面

> ID：14411686
> 
> 赞同：-1
> 
> 时间：2013-01-19T06:10:16.233
> 
> 标签：c#, windows-phone-7, xna

**问题1：** 如何更改我的应用程序主页的背景（自定义图片）？

**问题 2** 如何将其编码到按下按钮的位置并打开一个新页面，如默认模拟器屏幕？

前任。带有所有人的按钮，然后单击一个按钮，然后它会将您带到仅包含该人信息的按钮。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-19T07:48:35.360

1) 将此子元素添加到 LayoutRoot：

```
 <Grid.Background>
       <ImageBrush ImageSource="Images/Background.jpg" Stretch="UniformToFill" AlignmentX="Center" AlignmentY="Center" />
    </Grid.Background> 
```

2）使用导航服务：

```
 private void ButtonGoToOtherPage_Click(object sender, EventArgs e)
    {
        NavigationService.Navigate(new Uri("/OtherPage.xaml", UriKind.RelativeOrAbsolute));
    } 
```

您可以将 GET 参数传递给 Uri：/OtherPage.xaml?parameter1=value1¶meter2=value2

然后在目标页面上获取它们：

```
 protected override void OnNavigatedTo(Microsoft.Phone.Navigation.PhoneNavigationEventArgs e) 
    { 
        base.OnNavigatedTo(e); 
        String parameter1 = NavigationContext.QueryString["parameter1"]; 
    } 
```

# android - 为什么在 PagerAdapter 中调用了这么多次 getCount？

> ID：14411688
> 
> 赞同：14
> 
> 时间：2013-01-19T06:10:23.427
> 
> 标签：android, android-viewpager, android-pageradapter

我今天注意到 PagerAdapter 被调用了很多次。缓慢滚动页面时，我数了 393。我看到了[这个问题](https://stackoverflow.com/questions/13562828/why-does-getcount-in-adapter-is-being-called-so-many-times)，但它并没有真正为我提供一个好的答案。

1.  这是正常行为吗
2.  如果是这样，为什么 getCount 方法被如此频繁地调用？

为了清楚起见，我正在寻找比所提供问题中的答案更广泛的答案。我也意识到我需要保持它的速度，并且我无法控制它的调用方式，但这不是这里的问题。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-07-09T06:57:37.993

正如您得出的结论，它在 onTouchEvent 中被大量使用。每当您与屏幕交互时都会调用 OnTouchEvent，这意味着触摸移动和释放事件。仅移动一个像素将导致对该方法的潜在调用。

没有更多的解释，它只是它的实现方式。通常adapter.getCount 是用List.getSize 或Cursor.getCount 之类的东西来实现的。并且几乎为零开销。如果这是一个问题，请优化您的 ListAdapter.getCount 方法，缓存计数或类似的东西。只在需要时在那里做复杂的事情并缓存结果直到它变得无效。

# sql - 带有 Unicode 字符串的 SQL 选择命令未检索预期数据

> ID：14411689
> 
> 赞同：3
> 
> 时间：2013-01-19T06:10:30.677
> 
> 标签：sql, sql-server, tsql, sql-server-2008-r2

我正在使用 SQL Server 2008 R2。我想从表中检索数据不是英语的行。

但是当我输入命令时，它什么也没给我。

```
SELECT * 
FROM PARTY 
WHERE NAME LIKE 'رانا عطا ربانی' 
ORDER BY SRNO 
```

任何建议，如何检索这样的记录？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-19T06:11:19.243

您是否尝试过将字符串文字声明为 unicode？

```
SELECT * FROM PARTY 
WHERE NAME LIKE N'رانا عطا ربانی' 
ORDER BY SRNO 
```

[这将向您显示数据库中所有与字符串相关的列，以及它们的排序规则：[排序规则冲突 SQL Server 2008](https://stackoverflow.com/questions/2730982/collation-conflict-sql-server-2008) ]

# javascript - 过滤掉具有 CSS 样式 display:none 的 JQuery 元素

> ID：14411690
> 
> 赞同：8
> 
> 时间：2013-01-19T06:10:54.143
> 
> 标签：javascript, jquery

选择器为我提供了一组元素。在这组元素中，我有 1 或 2 个具有 CSS 属性 display:none 的元素。我必须删除这些元素并获取具有显示的元素。如何使用 JQuery 做到这一点？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-01-19T06:14:55.720

您可以使用`.filter()`.

```
var displayed = $('mySelector').filter(function() {
    var element = $(this);

    if(element.css('display') == 'none') {
        element.remove();
        return false;
    }

    return true;
}); 
```

这将从您的选择器中返回所有元素 thats 属性`display`not *，* `none`并删除那些是。

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2013-01-19T06:16:30.570

```
$("selector").is(":visible") 
```

您还可以过滤掉原始选择器中的隐藏元素：

```
$("selector:visible") 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-01-19T06:14:04.237

您可以使用[过滤器（）](http://api.jquery.com/filter/)

```
var listWithoutDisplayNone = elementList.filter(function(){
      if($(this).css('display') != 'none')
           return $(this);
}); 
```

# wordpress - 我的 wordpress 插件不会添加到左侧菜单

> ID：14411693
> 
> 赞同：0
> 
> 时间：2013-01-19T06:11:09.443
> 
> 标签：wordpress, plugins

我已经构建了一个非常简单的插件并将其上传到我在 localhost 上运行的 wordpress 帐户中。一旦我激活它，它的输出将显示在每个页面上，并且不会添加到 wordpress 的左侧菜单中。我应该添加什么才能添加到菜单中？我想应该使用 add_action 来完成，但不知道怎么做！

```
<?php
/*
Plugin Name: myphotos Plugin
Description: A simple wordpress plugin.
Version: 1.0
Author: Saeed Pirdost
Copyright: 2012,  Saeed Pirdost
*/
?>
<?php 
add_filter('admin_notices','myprint');
?>
function myprint()
{
    echo "hello";
}
?> 
```

我也使用了以下代码，但是当我激活插件时，只会显示一个白页。

```
add_menu_page(__('My Menu Page'), __('My Menu'), 'edit_themes', 'my_new_menu', 'myprint', '', 7); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-19T15:34:46.813

首先，**停止**在每一行打开和关闭 PHP 标记，*你不需要那个*. 当您的 PHP 中间发生一些 HTML 时使用此选项。

**此外，可以/应该省略**`?>`PHP 文件的最后关闭。如果站点后面有空格，它甚至可能会破坏站点...

 **请参阅[WordPress_Coding_Standards](http://codex.wordpress.org/WordPress_Coding_Standards)。

* * *

其次，您需要决定是否要将函数用作**或**的`my_print`回调。可以两者兼得吗？在这种情况下，是的，但实际上，只有在您知道自己在做什么的情况下才这样做。`admin_notices` **`add_menu_page`**

 *** * *

您的插件正在破坏，因为`add_menu_page`无法直接调用。
**始终**检查无法按预期工作的每个功能的文档：
[Function_Reference/add_menu_page](http://codex.wordpress.org/Function_Reference/add_menu_page)

* * *

这是您的插件的工作版本：

```
<?php
/*
Plugin Name: myphotos Plugin
Description: A simple wordpress plugin.
Version: 1.0
Author: Saeed Pirdost
Copyright: 2012,  Saeed Pirdost
*/

add_filter( 'admin_notices', 'print_my_notice' );

add_action( 'admin_menu', 'register_custom_menu_page' );

function print_my_notice()
{
    echo '<div class="updated">
           <p>I am a big notice that appears everywhere</p>
        </div>';
}

function register_custom_menu_page() 
{
    add_menu_page(
        __( 'My Menu Page', 'my-plugin-text-domain' ), 
        __( 'My Menu', 'my-plugin-text-domain' ), 
        'edit_themes', 
        'my_new_menu', 
        'print_my_menu', 
        'http://upload.wikimedia.org/wikipedia/commons/a/aa/Wink%2816px%29.svg', 
        7
    );      
}

function print_my_menu()
{
    echo '<div id="icon-post" class="icon32"></div>
        <h2>My plugin</h2>
            <p><a class="button-secondary" href="#"> ' 
            . __( 'I am a translation', 'my-plugin-text-domain' ) 
            . '</a>
            </p>';
} 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-01-19T06:17:14.890

打开您的 wordpress 管理区

```
Click on appearance->widgets

Drag and drop the Menu to desired place 
```

或者

```
Click Appearance -> Menu

and click on sidebar menu 
```

并在那里添加项目

希望能帮助到你****

# uml - UML 状态机上有多个对象？

> ID：14411697
> 
> 赞同：1
> 
> 时间：2013-01-19T06:11:45.327
> 
> 标签：uml

您如何在 UML 状态机上表示多个对象，或者这根本没有意义？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-19T09:14:54.463

如果对象应该并行运行，您可以使用正交区域对它们进行建模，即对象的区域。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-01T15:14:23.137

如果多个对象应该执行状态机使机器成为对象的方法。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-19T18:52:39.817

你对物体意味着什么？在状态机中，您可以拥有统计信息和转换。

# java - 在开源代码中隐藏字符串？

> ID：14411700
> 
> 赞同：5
> 
> 时间：2013-01-19T06:12:58.980
> 
> 标签：java, obfuscation

我从事 Java 项目已经有一段时间了，在将其提供给公众下载之前，我想添加一个需要我连接到 MySQL 数据库的功能。我的问题很简单：如果代码是开源的，我将如何隐藏数据库的密码？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-19T06:14:45.470

将数据库连接设置与您的代码分开存储。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-19T06:29:18.277

据我所知，没有正确答案。您可以非常努力地混淆或隐藏它，但如果密码或计算密码的方法在您的 JAR 中，那么持久且熟练的用户会找到它。

有一个比我可以在这里给出的更好的答案： [如何保护 MySQL 用户名和密码不被反编译？](https://stackoverflow.com/questions/442862/how-can-i-protect-mysql-username-and-password-from-decompiling)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-19T06:14:54.640

您可以将密码放在某种文件中`configuration file`。`ini`在设置/安装阶段，从用户那里获取密码并通过代码将其填充到配置文件中，或者允许他们手动执行。

# ruby-on-rails - Ruby on Rails 用户登录事件

> ID：14411712
> 
> 赞同：0
> 
> 时间：2013-01-19T06:14:54.643
> 
> 标签：ruby-on-rails, devise

我正在使用设计进行用户身份验证。我想创建一个能够响应用户登录的组件。设计是否有用户事件或类似的东西？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-19T06:28:09.130

您可以在此处查看页面：[设计 Wiki 页面](https://github.com/plataformatec/devise/wiki/_pages)。您可以执行诸如重定向到某些页面之类的操作。此外，当有人登录时，您可以随时检查`current_user`devise 提供的方法，看看它是否返回 nil 或用户。

具体查看登录/注销时的重定向。您可以重定向到执行所需操作的控制器操作。

# javascript - wordpress 中的 javascript/jquery 代码问题

> ID：14411715
> 
> 赞同：1
> 
> 时间：2013-01-19T06:15:25.943
> 
> 标签：javascript, jquery, wordpress

嘿，伙计们，我在wordpress网站上遇到了这个问题，不知道为什么。那么让我告诉你问题：

`Uncaught TypeError: Cannot read property 'msie' of undefined jquery.rating.pack.js:17`从`jquery.rating.pack.js:17`

`Uncaught TypeError: Object [object Object] has no method 'live'`从`jquery.colorbox-min.js:4`

因此，我有 2 个插件因此而停止工作。我不知道是否有某种更新或什至从哪里开始。

如果你能帮我一把，我将不胜感激。

你有任何需要都请告诉我！

编辑：

prodjsoundlighting.com - 链接到有问题的网站。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-19T10:12:02.893

您的网站上包含两个 jQuery 脚本，您需要删除不是来自 wordpress 的一个。

```
/wp-includes/js/jquery/jquery.js?ver=1.8.3

http://code.jquery.com/jquery-latest.min.js 
```

发生的情况是所有 jQuery 扩展（颜色框、评级包）都从第一个 jquery 脚本附加到 jquery 对象上，然后第二个 jquery 脚本覆盖 jquery 对象，您无法访问任何以前附加的 jquery 扩展。

**编辑：** 为避免“$ 不是函数”错误，您需要将所有 $ 替换为 jQuery

```
$(document).ready(function(){ 
```

会变成

```
jQuery(document).ready(function(){ 
```

**或者**通常使用什么，用匿名函数封装你的代码，如下所示：

```
(function($) {
    // here goes your javascript code where you access jquery object will dollar sign
})(jQuery); 
```

PS 在修复代码之前，您可以使用一种快速修复方法。只需在您进行其他 jquery 调用的相同位置使用它：

```
<script>var $ = jQuery;</script> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-28T05:02:23.890

您应该更新到最新版本的 Colorbox。[在这里](https://github.com/jackmoore/colorbox/archive/master.zip)抓住它。

旧版本的 Colorbox 依赖于`.live()`，这是一个已弃用的函数（从 1.7+ 开始）并从 jQuery 1.9+ 完全删除。

# javascript - 将数据插入表格并像表单一样提交

> ID：14411719
> 
> 赞同：2
> 
> 时间：2013-01-19T06:16:01.550
> 
> 标签：javascript, jquery, html, css

我需要创建一个两行三列的表格。

```
<table border="1">
    <tr>
        <td>Male</td>
        <td>Female</td>
        <td>Total</td>
    </tr>
    <tr>
        <td></td>
        <td></td>
        <td></td>
    </tr>
</table> 
```

在这里，我需要第二行表格数据作为输入字段，如表单。我需要自己填写并提交。如何才能做到这一点。谢谢你

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-19T06:33:24.020

如果您将表单发送到服务器端，则无需使用隐藏字段。而是 为您的字段提供**名称属性。**它将在服务器端页面上可用。

```
 <form id="FormName" action="server.php">
    <table border = "1">
<tr> 
<td> Male </td>
<td> Female </td>
<td> Total </td>
</tr>
<tr>
<td> <input type="text" id="name" name="name" /></td>
<td> </td>
<td> </td>
</tr>
</table>

<input type="button" value="Submit Data" onclick="submitForm()" />
</form>    

function submitForm(){
if(false)//check for errors
{

}else{

            $('#FormName').submit();

        }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-19T06:24:31.100

创建表单

```
<form name="myform" action="xxx.php">

  //create 3 hidden fields here

</form> 
```

HTML

```
<table border = "1" id="mytable">
<tr> 
<td> Male </td>
<td> Female </td>
<td> Total </td>
</tr>
<tr>
<td> </td>
<td> </td>
<td> </td>
</tr>
</table>

<input type="button" value="Submit Data" onclick="submitTableData()" /> 
```

单击按钮，获取每个 td 的值并将其分配给隐藏字段，然后调用提交

```
function submitTableData()
{
   $('#hidden1').val('value of td1'); //$('#mytable tr:nth-child(2)').find('td:nth-child(1)').text()
   $('#hidden2').val('value of td2'); //$('#mytable tr:nth-child(2)').find('td:nth-child(2)').text()
   $('#hidden3').val('value of td3'); //$('#mytable tr:nth-child(2)').find('td:nth-child(3)').text()

   $('#myform').submit();
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-19T07:37:34.040

```
<form action="submit.php" method="post">
<table width="100%">
<tr>
<td>Male</td>
<td>Female</td>
<td>Total</td>
</tr>
<tr>
<td><input type="text" name="textnamehere" /></td>
<td><input type="text" name="textnamehere" /></td>
<td><input type="text" name="textnamehere" /></td>
</tr>
</table>
<input type="submit" value="submit" />
</form>
function addForm {
if{
somecodes here if true
}else{
$('variablenamehere') .submit();
}
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-19T06:20:15.587

在第二行的单元格中，只需输入一些输入：

```
<tr>
    <td><input type="text" name="male"></td>
    <td><input type="text" name="female"></td>
    <td><input type="text" name="total"></td>
</tr> 
```

提交表单时，您的请求中将有 3 个附加参数：男性、女性和总计，其中将包含这些值。

你可以更进一步 - 如果我理解正确 - 因为你只有数字，你可以将输入类型指定为 is `number`，并且使用一个小的 javascript 函数，你可以`total`自动计算。

# android - 使用 Android InApp Billing V3 示例。点击购买，返回按钮，然后再次购买会导致错误

> ID：14411722
> 
> 赞同：11
> 
> 时间：2013-01-19T06:16:21.053
> 
> 标签：android, in-app-billing

以下是步骤：

1.  构建并运行 InApp V3 示例 Trivial Drive 示例
2.  选择购买选项
3.  点击后退按钮
4.  再次尝试购买

在截至 2013 年 1 月的版本中，您可能会收到

> 无法启动异步操作 (launchPurchaseFlow)，因为另一个异步操作 (launchPurchaseFlow) 正在进行中。

然后你不能使用 IabHelper 类的购买或库存方法，因为异步标志不会清除，除非你杀死你的应用程序。

这是一个可能的解决方案：

我公开了 flagEndAsync 方法并在 onRestart 方法中调用它。问题是：这是一个安全的解决方案吗？还有其他人看过这个问题吗？

这是我添加的内容：

```
protected void onRestart() {
    super.onRestart();
    if (mHelper != null) mHelper.flagEndAsync();
} 
```

* * *

## 回答 #1

> 赞同：37
> 
> 时间：2013-01-21T13:58:07.627

您确定您没有删除以下代码（或忘记添加到您的活动中）

```
@Override
    protected void onActivityResult(int requestCode, int resultCode, Intent data) {
        // Pass on the activity result to the helper for handling
        if (!mHelper.handleActivityResult(requestCode, resultCode, data)) {
            // not handled, so handle it ourselves (here's where you'd
            // perform any handling of activity results not related to in-app
            // billing...
            super.onActivityResult(requestCode, resultCode, data);
        }
    } 
```

# python - Django 模板反向 URL 解析不起作用

> ID：14411729
> 
> 赞同：3
> 
> 时间：2013-01-19T06:17:35.377
> 
> 标签：python, django, templates, url

我的项目的 urls.py 中有以下内容：

```
urlpatterns = patterns('',
url(r'^watches/(?P<object_id>\d+)/$', list_detail.object_detail, watch_detail, name='watch_detail'),
 ) 
```

但是，模板中的以下行返回错误：

```
<li><a href ="{% url 'watch_detail' 1 %}">A link</a></li> 
```

它返回此错误：

> /watches/ 处的 NoReverseMatch
> 
> 未找到带有参数 '(1,)' 和关键字参数 '{}' 的 ''watch_detail'' 的反向操作。

这让我很困惑，因为如果我运行“manage.py shell”，我会得到以下结果：

```
>>> from django.core.urlresolvers import reverse
>>> reverse("watch_detail", args=(1,))
'/watches/1/'
>>> 
```

关于可能出现什么问题的任何建议？

谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-19T07:53:39.593

您的 url conf ( `watch_detail`) 中的第三个参数是什么？查看[文档](https://docs.djangoproject.com/en/1.4/topics/http/urls/#passing-extra-options-to-view-functions)，您的第三个参数应该是字典。

您的 conf 文件应该如下所示吗？-

```
urlpatterns = patterns('',
    url(r'^watches/(?P<object_id>\d+)/$', 'list_detail.object_detail.watch_detail', name='watch_detail'),
) 
```

（假设您的视图位于`list_detail/object_detail/watch_detail`）。

为了澄清起见，您还可以传递视图函数而不是字符串路径，因此您的 url conf 可以写成 -

```
from your_app.your_module import watch_detail

urlpatterns = patterns('',
    url(r'^watches/(?P<object_id>\d+)/$', watch_detail, name='watch_detail'),
) 
```

第二个参数 ,`watch_detail`是您的视图函数。

编辑

如果 watch_detail 确实是一个参数，那么您需要将它包含在模板反向函数中 -

```
{% url 'watch_detail', 1, watch_detail %} 
```

# java - 在 Struts 2 中在没有查询字符串的情况下在 URL 中传递参数

> ID：14411736
> 
> 赞同：2
> 
> 时间：2013-01-19T06:19:41.437
> 
> 标签：java, parameters, struts2, url-parameters, wildcard-mapping

我想使用像这样的网址

`host/ActionName/123/abc/`

而不是像传递查询字符串一样

`host/ActionName?parm1=123&parm2=abc`

我怎样才能在 Struts 2 中做到这一点？

我做了如下但它不工作，显示500错误代码

```
<constant name="struts.enable.SlashesInActionNames" value="true"/>
<constant name="struts.mapper.alwaysSelectFullNamespace" value="false"/>

<package name="default" extends="struts-default" namespace="/">
        <action name="/action/*"
    class="gov.apiic.serviceRequest.action.ServiceRequest" method="method" >
    <param name="p1">{1}</param>
    <result name="success">views.jsp</result>
    </action>
</package> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-19T15:36:56.653

在 2.1+ 下使用普通的 Struts2 是不可能的。作为一种解决方法，您可以使用[UrlRewriter filter](http://tuckey.org/urlrewrite/)执行此操作。从 Struts2 2.1+ 开始，在通配符的帮助下，您可以使用类似`host/ActionNmae/param1-123/param2-abc`see [this](https://stackoverflow.com/questions/5484392/struts2-wildcard-action-mapping-with-dummy-data) post，但不能使用`host/ActionNmae/123/abc/`. 不同之处在于，在第二种情况下，没有参数名称。解决方法是在操作名称之后使用[参数](https://struts.apache.org/core-developers/wildcard-mappings.html#parameters-after-the-action-name)。

```
@Action(value = "/ActionNmae/*/*", params = {"param1", "{1}", "param2", "{2}"} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-05-15T18:00:59.277

您可以使用[`namedVariable`](http://struts.apache.org/docs/wildcard-mappings.html#WildcardMappings-Parametersinnamespaces)或[`regex`](http://struts.apache.org/docs/wildcard-mappings.html#WildcardMappings-AdvancedWildcards)模式匹配器。

每个都有自己的优点和缺点，其中大部分都可以解决。

# java - 访问其他类的 Swing 组件

> ID：14411737
> 
> 赞同：1
> 
> 时间：2013-01-19T06:19:43.267
> 
> 标签：java, swing, components, jlabel, jcheckbox

我有两个类 mainpanel.java 和 subpanel.java。subpanel.class 包含一个复选框和一些标签。当我单击 mainpanel.java 中的一些按钮时，我想更改这些组件的 setSelected() 和 setText() 。

我在 subpanel.java 中创建了一个方法，我从 mainpanel.java 调用它并传递布尔值。

```
public void schedulerchange(boolean check){
        System.out.println("checked"+check);
        scheduleenabler.setEnabled(check);
        scheduleenabler.setSelected(check);
        scheduleinfo.setText("Scheduler in On");
        //subpanel21.updateUI();
    } 
```

当我从 mainpanel.java 调用此函数时，该函数被调用但值不会改变，除非我将 jcheckbox 和 jlabel 设为静态。但据我所知，除非非常必要，否则我们不应该使用静态组件。还有其他方法可以更改组件吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-19T08:27:06.950

这不适合使用`updateUI()`“将 UI 属性重置为当前外观的值”。正如评论中所建议的那样，仅当将`revalidate()`组件添加到封闭的`Container`. 相反，`repaint()`直接在子面板实例上调用。[为了获得更大的灵活性，请使用此处](https://stackoverflow.com/a/12613725/230513)建议的观察者模式。

附录：此示例用于[`Action`](http://docs.oracle.com/javase/tutorial/uiswing/misc/action.html)封装按钮的行为。因为复选框的选中状态是一个绑定属性，组件会自动重新绘制，但`repaint()`如果需要，您可以显式调用。

附录：更新以将引用作为参数传递。

附录：在此变体中，参数是对导出的`Action`.

```
import java.awt.EventQueue;
import java.awt.GridLayout;
import java.awt.event.ActionEvent;
import javax.swing.AbstractAction;
import javax.swing.Action;
import javax.swing.JButton;
import javax.swing.JCheckBox;
import javax.swing.JFrame;
import javax.swing.JPanel;

/** @see https://stackoverflow.com/a/14412516/230513 */
public class Example {

    private void display() {
        JFrame f = new JFrame("Example");
        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        f.setLayout(new GridLayout(0, 1));
        JPanel panel = new JPanel();
        final JCheckBox check = new JCheckBox("Check");
        Action checkAction = new AbstractAction("Update") {

            @Override
            public void actionPerformed(ActionEvent e) {
                check.setSelected(!check.isSelected());
            }
        };
        panel.add(check);
        f.add(panel);
        f.add(new SubPanel(checkAction));
        f.pack();
        f.setLocationRelativeTo(null);
        f.setVisible(true);
    }

    private static class SubPanel extends JPanel {

        public SubPanel(final Action action) {
            this.add(new JButton(action));
        }
    }

    public static void main(String[] args) {
        EventQueue.invokeLater(new Runnable() {

            @Override
            public void run() {
                new Example().display();
            }
        });
    }
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-19T10:04:59.413

如果我理解了您的问题，那么我认为您想编写一个单独的`ActionListener`类并在那里执行将启用或禁用`JCheckBox`UI 类中的操作。下面的代码显示了这一点。将您的复选框引用传递给`PerformAction`该类，并通过单击按钮使其启用或禁用。

```
import java.awt.EventQueue;
import java.awt.FlowLayout;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import javax.swing.JButton;
import javax.swing.JCheckBox;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JPanel;

public class MainClass {

 MainClass() {
    JFrame jfrm = new JFrame("JTable Demo");
    jfrm.setLayout(new FlowLayout());
    jfrm.setSize(460, 180);
    jfrm.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);

    JCheckBox check = null;
    // Get the Panel from the subclass;
    JPanel panel = new CheckBox().getCheckBoxPanel();

    // From the compoenents present in the panel get the CheckBox compoenent.
    for(int i = 0; i < panel.getComponentCount(); i++) {
       if(panel.getComponent(i) instanceof JCheckBox) {
        check = (JCheckBox) panel.getComponent(i);
        }
    }

    JButton button = new JButton("Click");

    // Pass the CheckBox Compoenent to the ActionListener.
button.addActionListener(new PerformAction(check));

    jfrm.add(button);
    jfrm.add(panel);
    jfrm.setVisible(true);
 }

  public static void main(String args[]) {
  EventQueue.invokeLater(new Runnable() {

      @Override
      public void run() {
          new MainClass();
      }
  });
 }
}

class PerformAction implements ActionListener {

JCheckBox check = null;
public PerformAction(JCheckBox checkBox) {
    check = checkBox;
}
@Override
public void actionPerformed(ActionEvent e) {
    boolean checkStatus = check.isSelected();
    if(checkStatus == true) {
        check.setEnabled(false);
        check.setSelected(false);
    } else {
        check.setEnabled(true);
        check.setSelected(true);
      }
}
}

 class CheckBox {
public JPanel getCheckBoxPanel() {
    JPanel checkPanel = new JPanel();
    JCheckBox check = new JCheckBox();
    checkPanel.add(new JLabel("CheckBox"));
    checkPanel.add(check);

    return checkPanel;
}
} 
```

# url - 如何在没有 templateUrl 的情况下进行路由？

> ID：14411740
> 
> 赞同：30
> 
> 时间：2013-01-19T06:20:06.163
> 
> 标签：url, angularjs, logout

行。我有一个 url 设置来注销用户。在服务器上，没有 html。服务器上的会话简单地被破坏，然后用户被重定向到一个地址。

这适用于纯 html，但对于 Angular，我遇到了问题。我一直在使用所有主要路由进行路由`$routeProvider.when('/foo', {templateUrl: '/foo.html', controller: 'Ctrl'})`，并且对于普通的模板化路由来说效果很好。但是，如果没有模板，它将无法正常工作。

`/logout`那么，当没有 html 模板时，我如何以与上述相同的方式支持路由？

* * *

## 回答 #1

> 赞同：59
> 
> 时间：2013-01-19T07:16:06.423

一种解决方法是使用`template`而不是`templateUrl`. 来自[Angular 文档](https://docs.angularjs.org/api/ngRoute/provider/$routeProvider)：

> template – {string=} – html 模板作为字符串，应该由 ngView 或 ngInclude 指令使用。此属性优先于 templateUrl。

这可以按如下方式使用：

```
$routeProvider.when("/foo", {template: " ", controller: "Ctrl"}); 
```

注意：您必须使用`" "`而不是空字符串`""`，因为 Angular`if (template)`在触发控制器之前会进行检查，并且空字符串的计算结果为 false。

- 编辑 -

更好的方法是使用`resolve`地图。请参阅[Angular 文档](https://docs.angularjs.org/api/ngRoute/provider/$routeProvider)：

> resolve - {Object.=} - 一个可选的依赖关系映射，应该注入到控制器中。

这可以像这样使用：

```
$routeProvider.when('/foo', {resolve: {redirect: 'RedirectService'}}); 
```

注意：我已将其从“Ctrl”更改为“RedirectService”，因为您在问题中描述的并不是 Angular 意义上的真正“控制器”。它没有设置视图的范围。相反，它更像是一项服务，最终会重定向。

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2015-07-23T12:54:11.030

我正在根据已经接受的答案和评论中提到的 github 问题编写解决方案。

* * *

我使用的方法`resolve`是`$routeProvider`. 就我而言，当用户转到*/logout*时，我试图在我的应用程序中创建一个很好的注销解决**方案**。

 *示例代码`$routeProvider`：

```
app.config(['$routeProvider', function ($routeProvider) {
    $routeProvider.
        ...
        when('/logout', {
            resolve: {
                logout: ['logoutService', function (logoutService) {
                    logoutService();
                }]
            },
        }).
        ...
}]); 
```

在解析部分，您按名称指定服务（工厂），稍后您**必须**调用它。它仍然是最好的解决方案。

为了使示例完整，我提出了我的`logoutService`：

```
angular.module('xxx').factory('logoutService', function ($location, Auth) {
    return function () {
       Auth.setUser(undefined);
       $location.path('/');
    }
}); 
```

效果很好！*

# matlab - 使用matlab读取csv文件时索引超出矩阵维度错误？

> ID：14411744
> 
> 赞同：0
> 
> 时间：2013-01-19T06:20:32.783
> 
> 标签：matlab, csv, matrix

我有一些 cvs 文件，我想从中读取特定的行，以便从中收集特定的信息。虽然我发现如果手动删除一行，我可以很好地阅读这些文件，但我希望能够使用一些代码跳过这一行，以避免遍历这些文件中的每一个并手动删除这一行。

示例：我的文件如下所示

*   废话
*   废话
*   废话
*   S>
*   废话
*   废话
*   nquan = 12
*   废话

我正在使用 matlab 中的以下代码读取此文件：

```
din = 'C:/example/';
CNVfiles = dir ([din '*.cnv']);
fid = fopen([din CNVfiles], 'r'); 
```

我希望能够从“# nquan = 12”行中获得数字“12”（这是我稍后需要的列数（Ncol）），

```
p = '           ';

while ~isequal(p(1:7),'* nquan')  

    p = fgets(fid);

end

Ncol = str2double(p(11:end));

fclose(fid); 
```

但是，它给我一个错误，指出“结束”处的“索引超出矩阵维度”......当我查看“p”是什么时，它告诉我“* S>”，因此我猜我有一个问题读取文件中的“* S>”行时..

当我手动删除该行'* S>'时，一切正常，我得到我的 Ncol = 12。但是，我想避免手动执行此操作，因为我有一堆这样的 cnv 文件。

我想跳过那条线，但不知道该怎么做……有什么想法吗？我该怎么做才能让它发挥作用？

非常感谢，

苏菲

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-19T06:43:45.497

您收到此错误是因为当您的循环到达文件中包含“* S>”的行时，p 的值等于`'* S>'`. 如您所见， p 是一个长度为 4 的数组。当您现在 try`p(1:7)`时，Matlab 会抱怨，因为您正在访问不存在的元素。

# java - 如何在 Spring Security 中收集使用情况统计信息

> ID：14411745
> 
> 赞同：1
> 
> 时间：2013-01-19T06:20:34.523
> 
> 标签：java, session, spring-mvc, spring-security, usage-statistics

在我的 Spring mvc3 Java EE Web 应用程序中，我使用 Spring Security 进行用户会话管理。

现在我想收集经过身份验证的用户的使用统计信息（统计信息，如 url 的使用情况等）。我的目标是从控制器和用户会话中收集所有这些数据，并在用户注销或会话过期后将它们保存到数据库中，而不会影响应用程序性能。

实现 HttpSessionListener 是一种好方法，还是有一些更好、标准化和优雅的方法？

# java - 检索并显示数组中无穷无尽的数字

> ID：14411749
> 
> 赞同：0
> 
> 时间：2013-01-19T06:21:15.037
> 
> 标签：java, arrays, numbers

我正在尝试制作一个程序来检索用户输入的无数数字，直到用户退出并显示数字。这是我到目前为止的代码。输入第一个和第二个数字后，它在该行显示异常数组1[i]=s1

```
import java.util.Scanner; 
```

公共类 Program_2 {

```
public static void main(String[] args) {
    int a=1,i;
    Scanner sn = new Scanner(System.in);
    String[] array1= new String[a];     
    for(i=0;i<a;i++)
    {   

        System.out.println("Enter Value Number "+ (i+1));
        System.out.println("Press Q or q to Exit");
        String s1=sn.next();
        if(s1.equalsIgnoreCase("q"))
        {               
            for(i=0;i<a;i++)
            {                   
                System.out.println("Value of Number "+(i+1)+" is "+ array1[i]);

            }
            a=0;
        }
        else
        {
            array1[i]=s1;
            a=(i+2);
        }

    }

} 
```

}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-19T06:25:08.023

您`array`的大小为 1（代码开头的 a 为 1）。第一个输入有效，因为 i 是 0 并且`array1[0]`存在。第二个输入崩溃，因为`array1[1]`不存在。

你需要增加你的数组。这可以通过将数组复制到更大的数组中并使用复制的结果来完成，但这很笨拙。

更好的方法是使用 an`ArrayList`而不是 simple `array`，您不必担心大小，因为它是自动管理的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-19T06:27:52.827

一方面，只有当他们按 q 时，当您转到 else 语句时，a 才会增加。所以 for 循环将在几次迭代后结束。

您还在 for 循环内部将 a 设置为 0，以确保它不会运行更多。

此外，您的退出代码不会退出。

# mongodb - 我们应该如何对相关标签进行分组？

> ID：14411752
> 
> 赞同：1
> 
> 时间：2013-01-19T06:21:50.470
> 
> 标签：mongodb, tags

比如栈溢出？

我注意到有些标签是同义词。例如餐厅和餐馆。一些标签是分层的。例如，食物 -> 餐厅。

你如何将数据结构存储在mongodb中？

您是否有默认为 id 的同义词集？

例如，如果用户搜索餐厅或餐厅，您会怎么做？

您是将所有搜索转换为默认形式并搜索标签还是将搜索扩展到所有同义词？

标准方法是什么？

我正在使用 mongodb。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-19T15:39:25.247

[StackOverflow 架构是关系型的。](https://data.stackexchange.com/stackoverflow/query/new)（特别是[MS SQL Server 2008](https://blog.stackoverflow.com/2008/09/what-was-stack-overflow-built-with/)）它维护标签和帖子之间的多对多关系。并且它保持标签与其同义词的单向关系。

您的餐馆示例似乎是一个分类系统，其中分类中的节点名称可能有同义词。在这种情况下，分类的数据结构可能比实际的节点名称更重要。如何实现同义词将高度依赖于数据结构和预期的查询模式。查看[数据建模模式文档](http://docs.mongodb.org/manual/tutorial/#data-modeling-patterns)以了解各种不同的数据结构。

Mongo 没有在核心数据库服务器中内置任何名称别名功能。一些 ORM 在客户端提供有限的名称别名功能。例如[猫鼬通过虚拟属性](http://mongoosejs.com/docs/guide.html#virtuals)。但是应该谨慎使用它们，因为它们不会提供潜在的性能优势，并且可能会掩盖数据库中真正发生的事情。

# javascript - 检查未定义的属性

> ID：14411758
> 
> 赞同：1
> 
> 时间：2013-01-19T06:22:30.707
> 
> 标签：javascript, function, undefined

当我拼错变量名或对象属性时，我想收到一条错误消息。严格模式有助于局部变量，但如果我读取属性怎么办？例如

```
var vector = {x: 2, y: 3}
var length = Math.sqrt(vector.x*vector.c + vector.y*vector.y) 
```

长度将是`NaN`。我不想因为拼写错误而难以在我的代码中找到错误。处理它的最佳方法是什么？我可以在 Object 的原型中添加一个 get 函数，然后编写 eg`vector.get("x")`而不是`vector.x`. 但我希望只在调试阶段完成未定义的检查，并在完成的代码中自动删除。

# c# - 资源文件不会在 Visual Studio 2010 中更新

> ID：14411760
> 
> 赞同：1
> 
> 时间：2013-01-19T06:22:39.653
> 
> 标签：c#, visual-studio-2010, ms-access

我试图使用 VS 2010 更新我的资源中的 accdb 文件。但问题甚至认为我更新了它，当我使用 MS Access 打开资源文件夹中的原始文件时，我发现该文件在全部。

我很确定我已经在 VS 中更新了文件，但是在我用 Access 打开 aacdb 后，我发现 Visual Studio 中的数据也返回到原始文件。

我希望我在 Visual Studio 中所做的更新也转到原始文件。我正在使用 C#。

# mpi - 将 MPI 进程映射到特定节点

> ID：14411763
> 
> 赞同：2
> 
> 时间：2013-01-19T06:22:57.033
> 
> 标签：mpi, openmpi

我认为这个问题在这里问是无关紧要的。却无法自拔。假设我有一个包含 100 个节点的集群，每个节点有 16 个核心。我有一个 mpi 应用程序，它的通信模式是已知的，我也知道集群拓扑（即节点之间的跳距）。现在我知道了减少网络争用的节点映射过程。例如：进程到节点的映射是 10->20,30->90。如何将 rank 10 的进程映射到 node-20？请帮助我。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-19T07:51:55.530

如果您不受任何类型的排队系统的限制，您可以通过创建自己的`machinefile`.

例如，如果文件`my_machine_file`有以下 1600 行

```
 node001
   node002
   node003
   ....
   node100
   node001
   node002
   node003
   ....
   node100
   ...
   [repeat 13 more times]
   ...
   node001
   node002
   node003
   ....
   node100 
```

它将对应于映射

```
 0-> node001, 1 -> node002, ... 99 -> node100, 100 -> node001, ... 
```

你应该运行你的应用程序

```
 mpirun -machinefile my_machine_file -n 1600 my_app 
```

当您的应用程序需要少于 1600 个进程时，您可以相应地编辑您的机器文件。

请记住，尽管集群管理员可能已经根据互连的拓扑对节点进行了编号。然而，有报道称通过仔细利用集群拓扑结构可以显着提高性能（大约 10%-20%）。（参考如下）。

**注意：**启动 MPI 程序`mpirun`既不标准化也不可移植。但是，这里的问题显然与特定的计算集群和特定的实现（OpenMPI）有关，并且不需要可移植的解决方案。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-12-12T20:34:50.677

这个聚会有点晚了，但这里有一个 C++ 子程序，它将为您提供一个节点通信器和一个主通信器（仅适用于节点的主节点），以及每个节点的大小和等级。这很笨拙，但不幸的是我还没有找到更好的方法来做到这一点。幸运的是，它只增加了大约 0.1 秒的挂墙时间。也许您或其他人会从中得到一些用处。

```
#define MASTER 0

using namespace std;

/*
 * Make a comunicator for each node and another for just
 * the masters of the nodes. Upon completion, everyone is
 * in a new node communicator, knows its size and their rank,
 * and the rank of their master in the master communicator,
 * which can be useful to use for indexing.
 */
bool    CommByNode(MPI::Intracomm &NodeComm,
                MPI::Intracomm &MasterComm,
                int &NodeRank, int &MasterRank,
                int &NodeSize, int &MasterSize,
                string &NodeNameStr)
{
    bool IsOk = true;

    int Rank = MPI::COMM_WORLD.Get_rank();
    int Size = MPI::COMM_WORLD.Get_size();

    /*
     * ======================================================================
     * What follows is my best attempt at creating a communicator
     * for each node in a job such that only the cores on that
     * node are in the node's communicator, and each core groups
     * itself and the node communicator is made using the Split() function.
     * The end of this (lengthly) process is indicated by another comment.
     * ======================================================================
     */
    char *NodeName, *NodeNameList;
    NodeName = new char [1000];
    int NodeNameLen,
        *NodeNameCountVect,
        *NodeNameOffsetVect,
        NodeNameTotalLen = 0;
    //  Get the name and name character count of each core's node
    MPI::Get_processor_name(NodeName, NodeNameLen);

    //  Prepare a vector for character counts of node names
    if (Rank == MASTER)
        NodeNameCountVect = new int [Size];

    //  Gather node name lengths to master to prepare c-array
    MPI::COMM_WORLD.Gather(&NodeNameLen, 1, MPI::INT, NodeNameCountVect, 1, MPI::INT, MASTER);

    if (Rank == MASTER){
        //  Need character count information for navigating node name c-array
        NodeNameOffsetVect = new int [Size];
        NodeNameOffsetVect[0] = 0;
        NodeNameTotalLen = NodeNameCountVect[0];

        //  build offset vector and total char count for all node names
        for (int i = 1 ; i < Size ; ++i){
            NodeNameOffsetVect[i] = NodeNameCountVect[i-1] + NodeNameOffsetVect[i-1];
            NodeNameTotalLen += NodeNameCountVect[i];
        }
        //  char-array for all node names
        NodeNameList = new char [NodeNameTotalLen];
    }

    //  Gatherv node names to char-array in master
    MPI::COMM_WORLD.Gatherv(NodeName, NodeNameLen, MPI::CHAR, NodeNameList, NodeNameCountVect, NodeNameOffsetVect, MPI::CHAR, MASTER);

    string *FullStrList, *NodeStrList;
    //  Each core keeps its node's name in a str for later comparison
    stringstream ss;
    ss << NodeName;
    ss >> NodeNameStr;

    delete NodeName;    //  node name in str, so delete c-array

    int *NodeListLenVect, NumUniqueNodes = 0, NodeListCharLen = 0;
    string NodeListStr;

    if (Rank == MASTER){
        /*
         * Need to prepare a list of all unique node names, so first
         * need all node names (incl duplicates) as strings, then
         * can make a list of all unique node names.
         */
        FullStrList = new string [Size];    //  full list of node names, each will be checked
        NodeStrList = new string [Size];    //  list of unique node names, used for checking above list
        //  i loops over node names, j loops over characters for each node name.
        for (int i = 0 ; i < Size ; ++i){
            stringstream ss;
            for (int j = 0 ; j < NodeNameCountVect[i] ; ++j)
                ss << NodeNameList[NodeNameOffsetVect[i] + j];  //  each char into the stringstream
            ss >> FullStrList[i];   //  stringstream into string for each node name
            ss.str(""); //  This and below clear the contents of the stringstream,
            ss.clear(); //  since the >> operator doesn't clear as it extracts
            //cout << FullStrList[i] << endl;   //  for testing
        }
        delete NodeNameList;    //  master is done with full c-array
        bool IsUnique;  //  flag for breaking from for loop
        stringstream ss;    //  used for a full c-array of unique node names
        for (int i = 0 ; i < Size ; ++i){   //  Loop over EVERY name
            IsUnique = true;
            for (int j = 0 ; j < NumUniqueNodes ; ++j)
                if (FullStrList[i].compare(NodeStrList[j]) == 0){   //  check against list of uniques
                    IsUnique = false;
                    break;
                }
            if (IsUnique){
                NodeStrList[NumUniqueNodes] = FullStrList[i];   //  add unique names so others can be checked against them
                ss << NodeStrList[NumUniqueNodes].c_str();  //  build up a string of all unique names back-to-back
                ++NumUniqueNodes;   //  keep a tally of number of unique nodes
            }
        }
        ss >> NodeListStr;  //  make a string of all unique node names
        NodeListCharLen = NodeListStr.size();   //  char length of all unique node names
        NodeListLenVect = new int [NumUniqueNodes]; //  list of unique node name lengths
        /*
         * Because Bcast simply duplicates the buffer of the Bcaster to all cores,
         * the buffer needs to be a char* so that the other cores can have a similar
         * buffer prepared to receive. This wouldn't work if we passed string.c_str()
         * as the buffer, becuase the receiving cores don't have string.c_str() to
         * receive into, and even if they did, c_srt() is a method and can't be used
         * that way.
         */
        NodeNameList = new char [NodeListCharLen];  //  even though c_str is used, allocate necessary memory
        NodeNameList = const_cast<char*>(NodeListStr.c_str());  //  c_str() returns const char*, so need to recast
        for (int i = 0 ; i < NumUniqueNodes ; ++i)  //  fill list of unique node name char lengths
            NodeListLenVect[i] = NodeStrList[i].size();
        /*for (int i = 0 ; i < NumUnique ; ++i)
            cout << UniqueNodeStrList[i] << endl;
        MPI::COMM_WORLD.Abort(1);*/
        //delete NodeStrList;   //  Arrays of string don't need to be deallocated,
        //delete FullStrList;   //  I'm guessing becuase of something weird in the string class.
        delete NodeNameCountVect;
        delete NodeNameOffsetVect;
    }
    /*
     * Now we send the list of node names back to all cores
     * so they can group themselves appropriately.
     */

    //  Bcast the number of nodes in use
    MPI::COMM_WORLD.Bcast(&NumUniqueNodes, 1, MPI::INT, MASTER);
    //  Bcast the full length of all node names
    MPI::COMM_WORLD.Bcast(&NodeListCharLen, 1, MPI::INT, MASTER);

    //  prepare buffers for node name Bcast's
    if (Rank > MASTER){
        NodeListLenVect = new int [NumUniqueNodes];
        NodeNameList = new char [NodeListCharLen];
    }

    //  Lengths of node names for navigating c-string
    MPI::COMM_WORLD.Bcast(NodeListLenVect, NumUniqueNodes, MPI::INT, MASTER);
    //  The actual full list of unique node names
    MPI::COMM_WORLD.Bcast(NodeNameList, NodeListCharLen, MPI::CHAR, MASTER);

    /*
     * Similar to what master did before, each core (incl master)
     * needs to build an actual list of node names as strings so they
     * can compare the c++ way.
     */
    int Offset = 0;
    NodeStrList = new string[NumUniqueNodes];
    for (int i = 0 ; i < NumUniqueNodes ; ++i){
        stringstream ss;
        for (int j = 0 ; j < NodeListLenVect[i] ; ++j)
            ss << NodeNameList[Offset + j];
        ss >> NodeStrList[i];
        ss.str("");
        ss.clear();
        Offset += NodeListLenVect[i];
        //cout << FullStrList[i] << endl;
    }
    //  Now since everyone has the same list, just check your node and find your group.
    int CommGroup = -1;
    for (int i = 0 ; i < NumUniqueNodes ; ++i)
        if (NodeNameStr.compare(NodeStrList[i]) == 0){
            CommGroup = i;
            break;
        }
    if (Rank > MASTER){
        delete NodeListLenVect;
        delete NodeNameList;
    }
    //  In case process fails, error prints and job aborts.
    if (CommGroup < 0){
        cout << "**ERROR** Rank " << Rank << " didn't identify comm group correctly." << endl;
        IsOk = false;
    }

    /*
     * ======================================================================
     * The above method uses c++ strings wherever possible so that things
     * like node name comparisons can be done the c++ way. I'm sure there's
     * a better way to do this because that was way too many lines of code...
     * ======================================================================
     */

    //  Create node communicators
    NodeComm = MPI::COMM_WORLD.Split(CommGroup, 0);
    NodeSize = NodeComm.Get_size();
    NodeRank = NodeComm.Get_rank();

    //  Group for master communicator
    int MasterGroup;
    if (NodeRank == MASTER)
        MasterGroup = 0;
    else
        MasterGroup = MPI_UNDEFINED;

    //  Create master communicator
    MasterComm = MPI::COMM_WORLD.Split(MasterGroup, 0);
    MasterRank = -1;
    MasterSize = -1;
    if (MasterComm != MPI::COMM_NULL){
        MasterRank = MasterComm.Get_rank();
        MasterSize = MasterComm.Get_size();
    }

    MPI::COMM_WORLD.Bcast(&MasterSize, 1, MPI::INT, MASTER);
    NodeComm.Bcast(&MasterRank, 1, MPI::INT, MASTER);

    return IsOk;
} 
```

# ios - iOS在drawRect中反转蒙版

> ID：14411765
> 
> 赞同：27
> 
> 时间：2013-01-19T06:23:34.773
> 
> 标签：ios, uiview, core-graphics, drawrect, masking

使用下面的代码，我成功地掩盖了我的绘图的一部分，但这与我想要掩盖的相反。这掩盖了绘图的内部，我想掩盖外部。有没有一种简单的方法来反转这个面具？

`myPath`下面是一个`UIBezierPath`。

```
CAShapeLayer *maskLayer = [[CAShapeLayer alloc] init];
CGMutablePathRef maskPath = CGPathCreateMutable();
CGPathAddPath(maskPath, nil, myPath.CGPath);
[maskLayer setPath:maskPath];
CGPathRelease(maskPath);
self.layer.mask = maskLayer; 
```

* * *

## 回答 #1

> 赞同：41
> 
> 时间：2013-09-09T09:59:44.757

在形状图层 ( ) 上使用偶数填充，`maskLayer.fillRule = kCAFillRuleEvenOdd;`您可以添加一个覆盖整个框架的大矩形，然后添加您要屏蔽的形状。这实际上将反转蒙版。

```
CAShapeLayer *maskLayer = [[CAShapeLayer alloc] init];
CGMutablePathRef maskPath = CGPathCreateMutable();
CGPathAddRect(maskPath, NULL, someBigRectangle); // this line is new
CGPathAddPath(maskPath, nil, myPath.CGPath);
[maskLayer setPath:maskPath];
maskLayer.fillRule = kCAFillRuleEvenOdd;         // this line is new
CGPathRelease(maskPath);
self.layer.mask = maskLayer; 
```

* * *

## 回答 #2

> 赞同：19
> 
> 时间：2017-02-14T23:21:40.003

对于 Swift 3.0

```
func mask(viewToMask: UIView, maskRect: CGRect, invert: Bool = false) {
    let maskLayer = CAShapeLayer()
    let path = CGMutablePath()
    if (invert) {
        path.addRect(viewToMask.bounds)
    }
    path.addRect(maskRect)

    maskLayer.path = path
    if (invert) {
        maskLayer.fillRule = kCAFillRuleEvenOdd
    }

    // Set the mask of the view.
    viewToMask.layer.mask = maskLayer;
} 
```

* * *

## 回答 #3

> 赞同：9
> 
> 时间：2015-10-20T18:23:09.207

根据接受的答案，这是 Swift 中的另一个混搭。我已经把它变成了一个函数，并把它变成了`invert`可选的

```
class func mask(viewToMask: UIView, maskRect: CGRect, invert: Bool = false) {
    let maskLayer = CAShapeLayer()
    let path = CGPathCreateMutable()
    if (invert) {
        CGPathAddRect(path, nil, viewToMask.bounds)
    }
    CGPathAddRect(path, nil, maskRect)

    maskLayer.path = path
    if (invert) {
        maskLayer.fillRule = kCAFillRuleEvenOdd
    }

    // Set the mask of the view.
    viewToMask.layer.mask = maskLayer;
} 
```

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2019-04-18T08:11:55.293

这是我的 Swift 4.2 解决方案，它允许圆角半径

```
extension UIView {

    func mask(withRect maskRect: CGRect, cornerRadius: CGFloat, inverse: Bool = false) {
        let maskLayer = CAShapeLayer()
        let path = CGMutablePath()
        if (inverse) {
            path.addPath(UIBezierPath(roundedRect: self.bounds, cornerRadius: cornerRadius).cgPath)
        }
        path.addPath(UIBezierPath(roundedRect: maskRect, cornerRadius: cornerRadius).cgPath)

        maskLayer.path = path
        if (inverse) {
            maskLayer.fillRule = CAShapeLayerFillRule.evenOdd
        }

        self.layer.mask = maskLayer;
    }

} 
```

* * *

## 回答 #5

> 赞同：5
> 
> 时间：2019-09-04T08:33:16.453

**斯威夫特 5**

```
class ViewController: UIViewController {

    override func viewDidLoad() {
        super.viewDidLoad()
        let red = UIView(frame: view.bounds)
        view.addSubview(red)
        view.backgroundColor = UIColor.cyan
        red.backgroundColor = UIColor.red
        red.mask(CGRect(x: 50, y: 50, width: 50, height: 50), invert: true)
    }
}

extension UIView{

    func mask(_ rect: CGRect, invert: Bool = false) {
        let maskLayer = CAShapeLayer()
        let path = CGMutablePath()
        if (invert) {
            path.addRect(bounds)
        }
        path.addRect(rect)
        maskLayer.path = path
        if (invert) {
            maskLayer.fillRule = CAShapeLayerFillRule.evenOdd
        }
        // Set the mask of the view.
        layer.mask = maskLayer
    }
} 
```

[![666](../Images/5ba0971f820ba7c105e29279080b77c6.png)](https://i.stack.imgur.com/gGhm9.png)

谢谢@arvidurs

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2018-12-12T15:56:22.070

对于斯威夫特 4.2

```
func mask(viewToMask: UIView, maskRect: CGRect, invert: Bool = false) {
    let maskLayer = CAShapeLayer()
    let path = CGMutablePath()
    if (invert) {
        path.addRect(viewToMask.bounds)
    }
    path.addRect(maskRect)

    maskLayer.path = path
    if (invert) {
        maskLayer.fillRule = .evenOdd
    }

    // Set the mask of the view.
    viewToMask.layer.mask = maskLayer;
} 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2020-01-31T22:49:33.790

为了反转掩码，您可以像这样

1.  在这里，我有交叉矩形的面具，比如

    ```
     let crossPath =  UIBezierPath(rect: cutout.insetBy(dx: 30, dy: -5))
              crossPath.append(UIBezierPath(rect: cutout.insetBy(dx: -5, dy: 30)))
                let crossMask = CAShapeLayer()
                crossMask.path = crossPath.cgPath
                crossMask.backgroundColor = UIColor.clear.cgColor
                crossMask.fillRule = .evenOdd 
    ```

2.  在这里，我在我的交叉矩形周围添加第三个矩形，因此使用 .evenOdd 它占用的面积等于（新矩形 - 旧交叉矩形），换句话说，在交叉矩形的区域之外

    ```
     let crossPath = UIBezierPath(rect: cutout.insetBy(dx: -5, dy: -5) )
        crossPath.append(UIBezierPath(rect: cutout.insetBy(dx: 30, dy: -5)))
        crossPath.append(UIBezierPath(rect: cutout.insetBy(dx: -5, dy: 30)))
        let crossMask = CAShapeLayer()
        crossMask.path = crossPath.cgPath
        crossMask.backgroundColor = UIColor.clear.cgColor
        crossMask.fillRule = .evenOdd 
    ```

[![在此处输入图像描述](../Images/de8b0c5bd0d4dafbac57829a95b082a7.png)](https://i.stack.imgur.com/iFz2E.png)

# android - android gridview缓慢滚动

> ID：14411766
> 
> 赞同：1
> 
> 时间：2013-01-19T06:23:44.753
> 
> 标签：android, gridview

我有一个带有gridview的android活动，每个单元格都包含一个带有单个字符的textview（因此一次屏幕上大约有60-70个字符/单元格）。网格视图的滚动速度缓慢且不流畅，令人无法接受。我尝试用listview替换gridview，listview的滚动速度要快得多。我怎样才能加快速度？

活动布局为：

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical" >

    <GridView
        android:id="@+id/gridView1"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:columnWidth="56dp"
        android:numColumns="auto_fit" >
    </GridView>

</LinearLayout> 
```

每个单元格内部都是这样的布局：

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:orientation="vertical" >

    <TextView
        android:id="@+id/textView1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_gravity="center"
        android:textSize="40sp" />

</LinearLayout> 
```

活动的代码是：

```
public class TestGridActivity  extends Activity {
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.grid_activity);
        GridView gridView = (GridView) findViewById(R.id.gridView1);
        ArrayList<Map<String, String>> list = getData();
        SimpleAdapter arrayAdapter = new SimpleAdapter(this, list, 
            R.layout.grid_layout, new String[] { "literal"}, 
            new int[] { R.id.textView1});
        gridView.setAdapter(arrayAdapter);
    } 
```

}

编辑：pks 要求发布适配器代码，上面的代码我使用了通用的 simpleAdapter，但我尝试了自定义视图，但没有帮助。

```
public class GridAdapter extends BaseAdapter {
    private Context context;
    private ArrayList<Map<String, String>> list;
    private LayoutInflater inflater;
    public static class ViewHolder {
    TextView textView1;
    int position;
    }
    public GridAdapter(Context c, ArrayList<Map<String, String>> l) {
        context = c;
        list = l;
        inflater = (LayoutInflater) context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
    }
    @Override
    public int getCount() {
        return list.size();
    }
    @Override
    public View getView(int position, View convertView, ViewGroup parent) {
        ViewHolder holder;
        if(convertView == null){
            convertView = inflater.inflate(R.layout.grid_layout, null);
            holder = new ViewHolder();
            holder.textView1 = (TextView) convertView.findViewById(R.id.textView1);
            holder.position = position;
            convertView.setTag(holder);
        } else {
            holder = (ViewHolder) convertView.getTag();
        }
        holder.textView1.setText(list.get(position).get("character"));
        return convertView;
    }
} 
```

我也尝试过提前创建所有视图，但这对滚动速度没有帮助。

# css - bootstrap.css 和 * 在属性名称之前

> ID：14411777
> 
> 赞同：2
> 
> 时间：2013-01-19T06:24:48.743
> 
> 标签：css, twitter-bootstrap

我一直在使用 Twitter 的 Bootstrap 包来构建一个网站，并且在浏览 CSS 时遇到了以下内容（或多或少，为了清楚起见，编辑了粗略的内容）：

```
.btn-primary {
  背景颜色：#006dcc；
  *背景颜色：#0044cc；
}

```

现在，我已经看到`*`用作选择器的一部分，既作为构造函数`li li * { ... }`的一部分，也作为属性选择器的`a [name*=foo]`一部分（显然作为 CSS 注释的一部分`/* */`），但我以前从未见过这种情况。任何人都可以分享关于它的用途的任何见解吗？我还在以下（完整）上下文中看到了它：

```
按钮.btn,
输入[type="提交"].btn {
  *填充顶部：3px；
  *填充底部：3px；
}

```

其中，`*`在两个相关但不同的属性前面。这是怎么回事？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-19T06:28:40.583

**[这篇](http://www.javascriptkit.com/dhtmltutors/csshacks3.shtml)**文章应该回答你的问题。这基本上是一种“破解” CSS 选择器以针对特定浏览器的方式。

# iphone - 从 Xcode 中文本的 UIImage 获取可编辑文本

> ID：14411778
> 
> 赞同：0
> 
> 时间：2013-01-19T06:25:00.350
> 
> 标签：iphone, ios

我想开发一个应用程序来捕获文本图像（例如名片），现在我希望它被扫描并转换为可编辑的文本。可能吗？诸如光学字符识别之类的东西。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-19T06:34:28.237

这里有些例子

1.  适用于 Apple iOS 的 OpenCV 库。它包括两个 XCode 项目：一个用于 iPhone，另一个用于 iPad[尝试使用 iOS 的 OpenCV](http://code.google.com/p/opencv-ios/)
2.  使用 Tesseract 库作为在 Mac OS 10.6 下编译的静态库的演示应用程序 在[iOS 上试用 Tesseract](https://github.com/nolanbrown/Tesseract-iPhone-Demo)
3.  这[是一个很好的问题。](https://stackoverflow.com/questions/9062755/ocroptical-character-recoginition-libraries-for-iphone)

希望这些信息对您有用。谢谢

# android - Android Phonegap 版本 2.0 或更高版本 facebook、twitter、消息等共享插件的任何更新

> ID：14411789
> 
> 赞同：2
> 
> 时间：2013-01-19T06:27:12.877
> 
> 标签：android, cordova, share, phonegap-plugins

我正在尝试将 PhoneGap [Share 插件](https://github.com/phonegap/phonegap-plugins/tree/master/Android/Share)用于 2.0 版本。我已经实现了它，但这不能正常工作。

这个插件是用 PhoneGap 1.0 和更高版本编写的，任何新的或更新的插件都可以在 Facebook 上分享消息。

我已经参考了这个[文档](http://tech.sarathdr.com/featured/social-share-plugin-for-android-cordova-2-2-0-email-sms-facebook-twitter-share)和这个问题：[How to implement facebook send, twitter share, send sms, send email in my phonegap android application?](https://stackoverflow.com/questions/13218709/how-to-implement-facebook-send-twitter-share-send-sms-send-email-in-my-phoneg)

但仍然没有得到适当的解决方案。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-21T12:30:30.087

我正在分享我的代码，它工作正常。请参阅[此链接](https://github.com/phonegap/phonegap-plugins/tree/master/Android/Share)以了解共享插件功能，并按照以下给定步骤操作。

1- 将 JS 文件放在 MainActivity.java 文件夹的同一文件夹中。

2- 将 Js 文件放在 www 文件夹中，并将其添加到 index.html 文件夹中。

3- 将以下行添加到 config.xml（如果您使用的是新版本的 Phonegap）或 plugins.xml（对于旧版本的 Phonegap）：

4 - 添加html

```
 <!DOCTYPE html>
    <html>
    <head>
    <script type="text/javascript" src="js/libs/cordova-2.0.0.js"></script>
    <script type="text/javascript" src="js/libs/jq_min.js"></script>
    <script src="js/libs/share.js">
    </script>
    <script>
        // Wait for Cordova to load
        //
        document.addEventListener("deviceready", onDeviceReady, false);

        // Cordova is ready
        //
        function onDeviceReady() {

        }

        //share plugin for update status  
        function share(subject, text) { 
        window.plugins.share.show({
        subject: subject,
        text: text},
        function() {
        alert("sent success");}, // Success function
        function() {alert('Share failed')} // Failure function
         );
        };

        //Send message on facebook
        $(document).ready(function() {
        $("button#sendFacebook").click(function(){
        var txtsub = $("input#txtsub").attr("value");
        var txtmsg = $("#txtmsg").val();
        share(txtsub, txtmsg);
    });

    });
    </script>
    </head>

    <body>
    <input id="txtsub" type="text" placeholder="Enter Subject" maxlength="20" required /><br/><br/>

    <textarea placeholder="Enter Message" id="txtmsg" rows="4" cols="25"></textarea><br/>
    <button id="sendFacebook">Update Status </button>

    </body>
    </html> 
```

并为 Facebook、twitter、gmail 等测试此插件并享受 :)。

如果您有任何疑问，请告诉我。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-19T07:16:04.723

看来您没有以正确的方式实现插件，只需尝试以下步骤：

1-将java文件放在MainActivity.java的同一文件夹中

2-将Js文件放在www文件夹中，并添加到index.html

3- 将以下行添加到 config.xml（如果您使用的是新版本的 Phonegap）或 plugins.xml（对于旧版本的 Phonegap）：

```
<plugin name="Share" value="Path_Of_Your_Project.share.Share"/> 
```

4-只需将以下内容写入您的JS文件：

```
function share(subject, text) { 
  window.plugins.share.show({
    subject: subject,
    text: text},
    function() {}, // Success function
    function() {alert('Share failed')} // Failure function
  );
}; 
```

调用函数：

```
$("#share_id").onClick(function(){
   share("subject", "text");
}); 
```

就这么简单。

# php - 如何将 id 传递给 jquery jtable 以便它应该列出整行

> ID：14411797
> 
> 赞同：1
> 
> 时间：2013-01-19T06:27:51.457
> 
> 标签：php, jquery-jtable

```
<script type="text/javascript">

    $(document).ready(function () {

        //Prepare jTable
        $('#ListContainer').jtable({
            title: 'ITEM DETAILS',
            actions: {
                listAction: 'ListActions.php?action=list',
                createAction: 'ListActions.php?action=create',
                updateAction: 'ListActions.php?action=update',
                deleteAction: 'ListActions.php?action=delete'
            },
            fields: {
                item_id: {
                    title: 'item_id',
                    key: true,
                    list: false,
                    create: false,
                    width: '20%'
                },
                list_id: {
                    title: 'List_id',
                    width: '20%'
                },
                item_name: {
                    title: 'Item Name',
                    width: '20%'
                },
                description: {
                    title: 'Descriptions',
                    width: '20%'
                }
            }
        });

        //Load person list from server
        $('#ListContainer').jtable('load');

    });

</script> 
```

这是我的代码..我想在这里传递 id "listAction: 'ListActions.php?action=list'," .. 在我需要访问 ListActions.php 中的值之后。我怎样才能在这里传递我的身份证？我试过这样： listAction: 'ListActions.php?action=list&id=$id'，这里 $id 包含从数据库中检索到的值。但这不起作用。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-01-13T11:59:06.467

你可以使用这样的东西

```
//Load person list from server
$('#ListContainer').jtable('load',
  {
    id1: <?php echo $_GET['id1'] ?>,
    id2: <?php echo $_GET['id2'] ?>
  }
); 
```

如果此解决方案可以解决您的问题，请标记为答案。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-12-24T05:41:53.187

似乎您已使用 .php 扩展名保存了您的页面。所以在 php 标签中传递 'id' 参数，如下所示：

```
actions: {
                listAction: 'ListActions.php?action=list&id=<?php echo $id?>',
                createAction: 'ListActions.php?action=create',
                updateAction: 'ListActions.php?action=update',
                deleteAction: 'ListActions.php?action=delete'
            }, 
```

在服务器端，由于数据是作为 GET 参数发送的，因此请使用以下内容：

```
$id = $_GET['id']; 
```

# c++ - 在 C++ 中，我如何编写一个 3 维数组？

> ID：14411808
> 
> 赞同：4
> 
> 时间：2013-01-19T06:29:03.937
> 
> 标签：c++, arrays, multidimensional-array, arduino

感谢您的关注！

# 背景

我正在建造一个四轴飞行器，并在它的四个臂上分别放置一条可单独寻址的 RGB LED。每个灯条有 6 个 LED。

此外，我希望如何切换灯的顺序有六个步骤，因此条带上的所有六个灯不一定会同时切换。

在伪代码中，这是我要创建的内容：

```
someArray = A group of 4 LED strips {Strip 1: [
    Step 1: [ LED 1: [R, G, B], . . ., LED 6: [R, G, B] ],
    . . .,
    Step 6: [ LED 1: [R, G, B], . . ., LED 6: [R, G, B] ],
],
. . .,
Strip 4: [
    Step 1: [ LED 1: [R, G, B], . . ., LED 6: [R, G, B] ],
    . . .,
    Step 6: [ LED 1: [R, G, B], . . ., LED 6: [R, G, B] ],
]}; 
```

我正在使用 Arduino 来驱动灯，并且代码是 C++，我不太熟悉。

# 到目前为止我已经尝试过：

这是迄今为止我尝试过的代码，但是当我在 Arduino IDE 中编译时，我收到一条错误消息，上面写着“Braces around scalar initializer for type 'int'”。

```
int gpsHoldArr[4][6][6] = {
  {
    {{255,0,0}, {0,0,0}, {0,0,0}, {0,0,0}, {0,0,0}, {0,0,0}},
    {{255,0,0}, {255,0,0}, {0,0,0}, {0,0,0}, {0,0,0}, {0,0,0}},
    {{255,0,0}, {255,0,0}, {255,0,0}, {0,0,0}, {0,0,0}, {0,0,0}},
    {{255,0,0}, {255,0,0}, {255,0,0}, {255,0,0}, {0,0,0}, {0,0,0}},
    {{255,0,0}, {255,0,0}, {255,0,0}, {255,0,0}, {255,0,0}, {0,0,0}},
    {{255,0,0}, {255,0,0}, {255,0,0}, {255,0,0}, {255,0,0}, {255,0,0}}
},
  {
    {{255,0,0}, {0,0,0}, {0,0,0}, {0,0,0}, {0,0,0}, {0,0,0}},
    {{255,0,0}, {255,0,0}, {0,0,0}, {0,0,0}, {0,0,0}, {0,0,0}},
    {{255,0,0}, {255,0,0}, {255,0,0}, {0,0,0}, {0,0,0}, {0,0,0}},
    {{255,0,0}, {255,0,0}, {255,0,0}, {255,0,0}, {0,0,0}, {0,0,0}},
    {{255,0,0}, {255,0,0}, {255,0,0}, {255,0,0}, {255,0,0}, {0,0,0}},
    {{255,0,0}, {255,0,0}, {255,0,0}, {255,0,0}, {255,0,0}, {255,0,0}}
},
  {
    {{255,0,0}, {0,0,0}, {0,0,0}, {0,0,0}, {0,0,0}, {0,0,0}},
    {{255,0,0}, {255,0,0}, {0,0,0}, {0,0,0}, {0,0,0}, {0,0,0}},
    {{255,0,0}, {255,0,0}, {255,0,0}, {0,0,0}, {0,0,0}, {0,0,0}},
    {{255,0,0}, {255,0,0}, {255,0,0}, {255,0,0}, {0,0,0}, {0,0,0}},
    {{255,0,0}, {255,0,0}, {255,0,0}, {255,0,0}, {255,0,0}, {0,0,0}},
    {{255,0,0}, {255,0,0}, {255,0,0}, {255,0,0}, {255,0,0}, {255,0,0}}
},
  {
    {{255,0,0}, {0,0,0}, {0,0,0}, {0,0,0}, {0,0,0}, {0,0,0}},
    {{255,0,0}, {255,0,0}, {0,0,0}, {0,0,0}, {0,0,0}, {0,0,0}},
    {{255,0,0}, {255,0,0}, {255,0,0}, {0,0,0}, {0,0,0}, {0,0,0}},
    {{255,0,0}, {255,0,0}, {255,0,0}, {255,0,0}, {0,0,0}, {0,0,0}},
    {{255,0,0}, {255,0,0}, {255,0,0}, {255,0,0}, {255,0,0}, {0,0,0}},
    {{255,0,0}, {255,0,0}, {255,0,0}, {255,0,0}, {255,0,0}, {255,0,0}}
},
}; 
```

我在这里想念什么？

# 预期用途

预期用途是这样的：

```
//iterate each of the 6 sets of RGB values and assign them to the correct (sequential) LED
void toggleLights(int lights[]){
  for(int i = 0; i <= 6; ++i) 
  {
    set_color_led(i, lights[i][0], lights[i][1], lights[i][2]);
  } 
}

toggleLights(gpsHoldArr[1][0]);//Get the first step of the second arm. 
```

提前致谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-19T06:33:30.677

您为 4d 数组编写了初始化，因为 RGB 有 3 个分量。你可能想做这样的事情：

```
struct rgb {
  int r, g, b;
};

rgb gpsHoldArr[4][6][6] = {
  {
    {{255,0,0}, {0,0,0}, {0,0,0}, {0,0,0}, {0,0,0}, {0,0,0}},
    {{255,0,0}, {255,0,0}, {0,0,0}, {0,0,0}, {0,0,0}, {0,0,0}},
    {{255,0,0}, {255,0,0}, {255,0,0}, {0,0,0}, {0,0,0}, {0,0,0}},
    {{255,0,0}, {255,0,0}, {255,0,0}, {255,0,0}, {0,0,0}, {0,0,0}},
    {{255,0,0}, {255,0,0}, {255,0,0}, {255,0,0}, {255,0,0}, {0,0,0}},
    {{255,0,0}, {255,0,0}, {255,0,0}, {255,0,0}, {255,0,0}, {255,0,0}}
},
  {
    {{255,0,0}, {0,0,0}, {0,0,0}, {0,0,0}, {0,0,0}, {0,0,0}},
    {{255,0,0}, {255,0,0}, {0,0,0}, {0,0,0}, {0,0,0}, {0,0,0}},
    {{255,0,0}, {255,0,0}, {255,0,0}, {0,0,0}, {0,0,0}, {0,0,0}},
    {{255,0,0}, {255,0,0}, {255,0,0}, {255,0,0}, {0,0,0}, {0,0,0}},
    {{255,0,0}, {255,0,0}, {255,0,0}, {255,0,0}, {255,0,0}, {0,0,0}},
    {{255,0,0}, {255,0,0}, {255,0,0}, {255,0,0}, {255,0,0}, {255,0,0}}
},
  {
    {{255,0,0}, {0,0,0}, {0,0,0}, {0,0,0}, {0,0,0}, {0,0,0}},
    {{255,0,0}, {255,0,0}, {0,0,0}, {0,0,0}, {0,0,0}, {0,0,0}},
    {{255,0,0}, {255,0,0}, {255,0,0}, {0,0,0}, {0,0,0}, {0,0,0}},
    {{255,0,0}, {255,0,0}, {255,0,0}, {255,0,0}, {0,0,0}, {0,0,0}},
    {{255,0,0}, {255,0,0}, {255,0,0}, {255,0,0}, {255,0,0}, {0,0,0}},
    {{255,0,0}, {255,0,0}, {255,0,0}, {255,0,0}, {255,0,0}, {255,0,0}}
},
  {
    {{255,0,0}, {0,0,0}, {0,0,0}, {0,0,0}, {0,0,0}, {0,0,0}},
    {{255,0,0}, {255,0,0}, {0,0,0}, {0,0,0}, {0,0,0}, {0,0,0}},
    {{255,0,0}, {255,0,0}, {255,0,0}, {0,0,0}, {0,0,0}, {0,0,0}},
    {{255,0,0}, {255,0,0}, {255,0,0}, {255,0,0}, {0,0,0}, {0,0,0}},
    {{255,0,0}, {255,0,0}, {255,0,0}, {255,0,0}, {255,0,0}, {0,0,0}},
    {{255,0,0}, {255,0,0}, {255,0,0}, {255,0,0}, {255,0,0}, {255,0,0}}
},
}; 
```

或者，将您的声明更改为：

```
int gpsHoldArr[4][6][6][3] 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-19T06:47:47.950

使用一个字节并将内存使用量减半

```
typedef struct rgb_t {
  byte r;
  byte g;
  byte b;
};

rgb_t gpsHoldArr[4][6][6] = { 
```

# ruby-on-rails - Rails：从关联模型中获取所有用户

> ID：14411813
> 
> 赞同：0
> 
> 时间：2013-01-19T06:30:32.147
> 
> 标签：ruby-on-rails, ruby-on-rails-3, ruby-on-rails-3.2

假设我有文章模型、用户模型和评论模型。如果我想获得对特定文章发表评论的所有用户，这是最好的方法还是有更好的方法？

```
User.find(Article.first.comments.pluck(:user_id)) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-19T07:15:42.137

你有几个选择。

你可以加

```
has_many :users, through: :comments 
```

`Article`然后就说：

```
@article.users 
```

如果您出于某种原因不想这样做，您可以这样做

```
@article.comments.collect(&:user) 
```

我认为这会更有效：

```
@article.comments.includes(:users).collect(&:user) 
```

我希望这会有所帮助。

# c# - 使用 dat 文件填充列表框

> ID：14411816
> 
> 赞同：-1
> 
> 时间：2013-01-19T06:31:05.437
> 
> 标签：c#, sql-server, sql-server-2005, listbox, binaryfiles

应用程序中存在代码，它从二进制 dat 文件中填充列表框，这些文件从数据库中的表中获取数据。正在使用的代码是

```
 public string getclientid(string sectorid)
    {
        try
        {
            DataSet dsobj = new DataSet();
            bllobj = new ConverterClass();
            string retclientval = "0";

            dsobj = bllobj.BinaryDeSerialize(strDataPath + "\\" + "BinaryClientlocation.dat");
            DataRow[] dr = dsobj.Tables[0].Select("client_location_id in(" + locationid + ")");
            if (dr.Length > 0)
            {
                foreach (DataRow drow in dr)
                {
                    retclientval = retclientval + "," + drow["client_id"].ToString();
                }
            }
            return retclientval;
        } 
```

如何找到生成二进制文件的表，以便我可以添加新客户端。使用的 DBMS 是 Sql Server 2005。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-19T06:49:40.630

如果您有权访问 .dat 文件来自的数据库，那么您可能不需要二进制文件来填充列表框。查看数据集，或`Linq to SQL`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-19T06:38:38.933

此代码无法帮助您。
一旦你从 db 读取数据并以你自己的二进制格式写出来，它就与数据库表没有关系。

您应该去寻找写入`BinaryClientlocation.dat`文件的代码。

# ruby - 与原子分组混淆 - 它与 Ruby 正则表达式中的分组有何不同？

> ID：14411818
> 
> 赞同：32
> 
> 时间：2013-01-19T06:31:59.370
> 
> 标签：ruby, regex, ruby-1.9.3

我浏览了[Atomic Grouping](http://ruby-doc.org/core-1.9.3/Regexp.html#method-i-named_captures)和[ruby​​info](http://www.regular-expressions.info/atomic.html)的文档，我想到了一些问题：

1.  为什么命名为***“原子分组”***？它有什么***“原子性”而******一般分组***没有？
2.  ***原子分组***与***一般分组***有何不同？
3.  为什么***原子团***被称为***非捕获***基团？

我尝试了下面的代码来理解，但对输出以及它们在同一字符串上的工作方式有何不同感到困惑？

```
irb(main):001:0> /a(?>bc|b)c/ =~ "abbcdabcc"
=> 5
irb(main):004:0> $~
=> #<MatchData "abcc">
irb(main):005:0> /a(bc|b)c/ =~ "abcdabcc"
=> 0
irb(main):006:0> $~
=> #<MatchData "abc" 1:"b"> 
```

* * *

## 回答 #1

> 赞同：58
> 
> 时间：2013-01-19T07:48:31.587

A`()`有一些属性（包括`(?!pattern)`,`(?=pattern)`等和 plain `(pattern)`），但它们之间的共同属性是*grouping*，这使得任意模式成为一个单独的单元（单元是我自己的术语），这在重复时很有用.

普通捕获`(pattern)`具有*捕获*和*分组*的属性。捕获意味着将捕获与内部模式匹配的文本，以便您可以将其与反向引用、匹配或替换一起使用。非捕获组`(?:pattern)`没有捕获属性，因此与`(pattern)`内部不存储匹配模式的字符串的开始和结束索引相比，它会节省一点空间并加快一点速度。

原子分组`(?>pattern)`还具有非捕获属性，因此内部匹配的文本的位置不会被捕获。

与捕获或非捕获组相比，原子分组增加了*原子的属性。*这里的原子意味着：在当前位置，找到与原子分组内的模式匹配的**第一个**序列（首先由引擎如何根据给定的模式匹配定义）并保持它（因此不允许回溯）。

没有原子性的组将允许回溯 - 它仍然会找到第一个序列，然后如果前面的匹配失败，它将回溯并找到下一个序列，直到找到整个正则表达式的匹配或所有可能性都用尽。

**例子**

输入字符串：`bbabbbabbbbc`
模式：`/(?>.*)c/`

第一个匹配`.*`是`bbabbbabbbbc`由于贪婪的量词`*`。它将保留此匹配，不允许`c`匹配。匹配器将在字符串末尾的下一个位置重试，同样的事情也会发生。所以根本没有任何东西与正则表达式匹配。

* * *

输入字符串：`bbabbbabbbbc`
Pattern: `/((?>.*)|b*)[ac]/`，用于测试`/(((?>.*))|(b*))[ac]/`

此正则表达式有 3 个匹配项，即`bba`, `bbba`, `bbbbc`. 如果您使用第二个正则表达式，它是相同的，但添加了捕获组以用于调试目的，您可以看到所有匹配都是`b*`内部匹配的结果。

您可以在此处查看回溯行为。

*   如果没有原子分组`/(.*|b*)[ac]/`，字符串将只有一个匹配，即整个字符串，因为最后会回溯到 match `[ac]`。请注意，引擎将返回`.*`到回溯 1 个字符，因为它还有其他可能性。

    ```
    Pattern: /(.*|b*)[ac]/
    bbabbbabbbbc
    ^             -- Start matching. Look at first item in alternation: .*
    bbabbbabbbbc
                ^ -- First match of .*, due to greedy quantifier
    bbabbbabbbbc
                X -- [ac] cannot match
                  -- Backtrack to ()      
    bbabbbabbbbc
               ^  -- Continue explore other possibility with .*
                  -- Step back 1 character
    bbabbbabbbbc
                ^ -- [ac] matches, end of regex, a match is found 
    ```

*   使用原子分组，所有的可能性都`.*`被切断并仅限于第一个匹配。因此，在贪婪地吃掉整个字符串并且无法匹配之后，引擎必须去寻找`b*`模式，在那里它成功地找到了与正则表达式的匹配。

    ```
    Pattern: /((?>.*)|b*)[ac]/
    bbabbbabbbbc
    ^             -- Start matching. Look at first item in alternation: (?>.*)
    bbabbbabbbbc
                ^ -- First match of .*, due to greedy quantifier
                  -- The atomic grouping will disallow .* to be backtracked and rematched
    bbabbbabbbbc
                X -- [ac] cannot match
                  -- Backtrack to ()
                  -- (?>.*) is atomic, check the next possibility by alternation: b*
    bbabbbabbbbc
    ^             -- Starting to rematch with b*
    bbabbbabbbbc
      ^           -- First match with b*, due to greedy quantifier
    bbabbbabbbbc
       ^          -- [ac] matches, end of regex, a match is found 
    ```

    随后的比赛将从这里继续进行。

* * *

## 回答 #2

> 赞同：19
> 
> 时间：2017-02-22T06:23:07.137

我最近不得不向其他人解释原子组，我想我会在这里调整并分享这个例子。

**考虑** `/the (big|small|biggest) (cat|dog|bird)/`

粗体匹配

*   **大狗**
*   **小鸟**
*   **最大的狗**
*   **小猫**

[演示](https://regex101.com/r/pgT7wE/1/)

对于第一行，正则表达式引擎会找到`the` . 然后它会继续处理我们的形容词（`big`, `small`, `biggest`），它会发现`big`。匹配`big`后，它继续并找到空间。然后它会查看我们的宠物（`cat`, `dog`, `bird`），找到`cat`，跳过它，然后找到`dog`。

对于第二行，我们的正则表达式会找到`the` . 它会继续查看`big`，跳过它，查看并查找`small`。它找到空格，跳过`cat`并且`dog`因为它们不匹配，然后找到`bird`.

对于第三行，我们的正则表达式会 find `the` ，它会继续查找与*当前要求*`big`匹配的内容，然后继续。它找不到空间，所以它*回溯*（将位置倒回到它所做的最后选择）。它会跳过、跳过并查找也符合*即时要求*的内容。然后它找到空间。它跳过并匹配。**`big``small``biggest`*`cat``dog`***

 ***对于第四行，我们的正则表达式会找到`the` . 它会继续查看`big`，跳过它，查看并查找`small`。然后它找到空间。它查看并匹配`cat`.

* * *

**考虑** `/the (?>big|small|biggest) (cat|dog|bird)/`

注意`?>`形容词的原子组。

粗体匹配

*   **大狗**
*   **小鸟**
*   最大的狗
*   **小猫**

[演示](https://regex101.com/r/yHVKmc/1)

对于第一行、第二行和第四行，我们将得到相同的结果。

对于第三行，我们的正则表达式会 find `the` ，它会继续查找与*当前要求*`big`匹配的，然后继续。它找不到空间，但作为引擎做出的最后选择的原子组不允许重新检查*该选择（禁止回溯）。*由于它不能做出新的选择，所以匹配必须失败，因为我们的简单表达式没有其他选择。

 *** * *

*这只是一个基本的总结。引擎不需要查看整个`cat`就知道它不匹配`dog`，只需查看`c`就足够了。在尝试匹配bird 时，`c`in`cat`和`d`in 狗足以告诉引擎检查其他选项。*

*但是，如果您有 ... `((cat|snake)|dog|bird)`，那么引擎当然还需要检查蛇，然后再掉到前一组并检查狗和鸟。*

*还有很多选择是引擎在不经过可能看起来不匹配的情况下无法决定的，这就是导致回溯的原因。如果有`((red)?cat|dog|bird)`，引擎将查看`r`，退出，注意`?`量词，忽略子组`(red)`，并寻找匹配项。*

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-01-19T07:34:18.453

“原子组”是正则表达式永远不会回溯过去的组。因此，在您的第一个示例中`/a(?>bc|b)c/`，如果`bc`组中的交替匹配，那么它将永远不会回溯并尝试`b`交替。如果你稍微改变你的第一个例子来匹配，`"abcdabcc"`那么你会看到它仍然匹配`"abcc"`字符串末尾的，而不是`"abc"`开头的。如果您不使用原子组，那么它可以回溯过去`bc`并尝试`b`交替并最终匹配`"abc"`开始时的 。

至于第二个问题，它有什么不同，那只是你第一个问题的改写。

最后，原子团不是“称为”非捕获基团。这不是他们的替代名称。非捕获组是不捕获其内容的组。通常，当您将正则表达式与字符串匹配时，您可以检索所有匹配的组，如果您使用替换，则可以在替换中使用反向引用，例如`\1`在其中插入捕获的组。但是非捕获组不提供此功能。经典的非捕获组是`(?:pattern)`. 一个原子组恰好也具有非捕获属性，因此它被称为非捕获组。*****

# ios - 使用 AudioServicesPlaySystemSound - 在后台关闭有声读物和播客

> ID：14411821
> 
> 赞同：0
> 
> 时间：2013-01-19T06:32:25.043
> 
> 标签：ios

我`AudioServicesPlaySystemSound`用来在我的应用程序中播放短声音。它工作得很好，除非人们想在播放时在后台收听他们的播客或有声读物，但他们不能。当他们启动游戏时，他们的声音会关闭。

# javascript - 如何在不重绘表的情况下更新数据表中的行？

> ID：14411828
> 
> 赞同：8
> 
> 时间：2013-01-19T06:33:42.073
> 
> 标签：javascript, jquery, arrays, jquery-datatables

我有从 javascript 数组填充的 dataTables v1.9.4 并且我有复选框列，如果是，`:checked`则整行应该每 5 秒更新一次，问题是我有一个大`fnRowCallback`函数，在行更新后不执行因此我的所有行结构崩溃。这是我的更新代码：

```
function updateRow(){
    newRowData = $.data(document.body, 'updatedData');
    var newRow = [];
    newRow.push(1, 1);
    for (var title in newRowData[0]){
        newRow.push(newRowData[0][title]);
    }
    oTable.fnUpdate( newRow, updateIndex, false, true);
}; 
```

这是我的`fnRowCallback`：

```
"fnRowCallback": function( nRow, aData, iDisplayIndex ) {
                //make 3state button and indicator for relay mask & status
                $('td.relay', nRow).each(function(){
                    relayStatus = $(this).text();
                    $(this).html('<div class="hidden-value">' + relayStatus + '</div><div></div>');
                    if(relayStatus == 1){
                        $(this).children('div:last').addClass('relmas1');
                    }
                    if(relayStatus == 0){
                        $(this).children('div:last').addClass('relmas0');
                    }
                    if(relayStatus == -1){
                        $(this).children('div:last').addClass('relmas-1');
                    }
                });
                //makes update checkboxes
                var clientID = $('td.clientid', nRow).text();
                $('td.update', nRow).html('<input type="checkbox" data-clientid="' + clientID + '" />');
                //makes volumes
                var cuVol = parseInt($('td.volume', nRow).text(), 10)
                $('td.volume', nRow).html('<div class="volume-container"><div class="volume-tmp">' + cuVol + '</div><div class="volume-slider"></div></div>')
                $('td.volume div.volume-slider', nRow).slider({
                    value: cuVol,
                    range: "min",
                    orientation: "horizontal",
                    slide: function( event, ui ) {
                        cuVol = ui.value;
                        $(this).siblings('div.volume-tmp').text(ui.value);
                    }
                });
            }, 
```

**问题是：** 如何在不重绘整个表的情况下重绘单个选定行并`fnRowCallback`在重绘后保持选中状态
**编辑：**
我仔细检查了我的代码，发现我的代码正在正确更新，但问题是我的代码已加载表格的方式是通过 ajax 接收的，而不是我重新排序表格列的方式

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-12-23T13:50:12.713

您可以使用 fnUpdate。基本上它通过行索引工作，并且必须插入行的所有值（例如，当你有 4 列时不能输入 2 个值）

这是该方法的 API 的链接：[jQuery DataTable fnUpdate](http://datatables.net/ref#fnUpdate)

我认为它会触发行回调，但我不确定。

# opencv - 从向量转换 向量

> ID：14411829
> 
> 赞同：0
> 
> 时间：2013-01-19T06:33:46.437
> 
> 标签：opencv

我对这个操作感到不安。我无法通过它。我在哪里失踪？

```
vector<Mat> blobC;
for(unsigned int i = 0; i < blobCFinal.size(); i++)
{
    blobC.at(i) = blobCFinal.at(i);
} 
```

在哪里

```
vector<IplImage*> blobCFinal; 
```

如果我没记错，通常转换普通类型的方法是这样的，

```
IplImage* blobCFinal;
Mat blobC(blobCFinal); 
```

Ans：感谢@rotating_image，这可能会起作用

```
vector<Mat> blobC;
    for(unsigned int i = 0; i < blobCFinal.size(); i++)
    {
        Mat dummy = Mat(blobCFinal[i]);
        blobC.push_back(dummy);
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-19T07:26:28.213

试试这个...

```
vector<Mat> blobC;
vector<IplImage*> blobCFinal;

//some processing 

for(unsigned int i = 0; i < blobCFinal.size(); i++)
{
    Mat dummy = Mat(blobCFinal[i]);
    blobC[i] = dummy.clone();
} 
```

# python - 如何向 python 控制台提供输入并以编程方式验证输出？

> ID：14411841
> 
> 赞同：4
> 
> 时间：2013-01-19T06:37:32.820
> 
> 标签：python, automation

对于这个示例程序

```
N = int(raw_input());
n  = 0;
sum = 0;
while n<N:

    sum += int(raw_input());
    n+=1;

print sum; 
```

我有一组测试用例，所以我需要一个调用上述 python 程序的 python 程序，提供输入并验证控制台中打印的输出。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-19T07:27:13.797

在 Unix shell 中，这可以通过以下方式实现：

```
$ python program.py < in > out  # Takes input from in and treats it as stdin.
                                # Your output goes to the out file.
$ diff -w out out_corr          # Validate with a correct output set 
```

你可以像这样在 Python 中做同样的事情

```
from subprocess import Popen, PIPE, STDOUT

f = open('in','r')            # If you have multiple test-cases, store each 
                              # input/correct output file in a list and iterate
                              # over this snippet.
corr = open('out_corr', 'r')  # Correct outputs
cor_out = corr.read().split()
p = Popen(["python","program.py"], stdin=PIPE, stdout=PIPE)
out = p.communicate(input=f.read())[0]
out.split()
# Trivial - Validate by comparing the two lists element wise. 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-19T14:37:11.863

拿起分离的想法，我会考虑这个：

```
def input_ints():
    while True:
        yield int(raw_input())

def sum_up(it, N=None):
    sum = 0
    for n, value in enumerate(it):
        sum += int(raw_input());
        if N is not None and n >= N: break
    return sum 
```

打印总和

要使用它，你可以这样做

```
inp = input_ints()
N = inp.next()
print sum_up(inp, N) 
```

要对其进行测试，您可以执行类似的操作

```
inp = (1, 2, 3, 4, 5)
assert_equal(sum_up(inp), 15) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-19T14:30:49.753

我写了一个测试框架（[prego](http://pypi.python.org/pypi/prego)），可用于您的问题::

```
from hamcrest import contains_string
from prego import TestCase, Task

class SampleTests(TestCase):
    def test_output(self):
        task = Task()
        cmd = task.command('echo your_input | ./your_app.py')
        task.assert_that(cmd.stdout.content, 
                         contains_string('your_expected_output')) 
```

当然，prego 提供的功能远不止这些。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-01-19T06:53:26.507

通常，您可能希望根据 Blender 在他的评论中建议的方式以不同的方式构建您的代码。但是，要回答您的问题，您可以使用[subprocess](http://docs.python.org/2/library/subprocess.html)模块编写一个脚本来调用此脚本，并将输出与预期值进行比较。

特别是看`check_call`方法。

# timezone - 为不同用户管理时区

> ID：14411845
> 
> 赞同：0
> 
> 时间：2013-01-19T06:38:12.493
> 
> 标签：timezone

我有一个网站，其中有许多来自不同国家的用户。用户可以根据他们的时区安排任务。现在每分钟后服务器上都会运行一个 cron，该 cron 会执行一个脚本，检查是否有任何用户的任何计划任务，如果有，它是否需要。

由于我的服务器位于美国，因此 cron 执行的脚本会考虑美国的时区。我必须在我的脚本中做什么才能根据用户的时区而不是服务器的时区来执行用户的任务？

提前感谢您的任何想法

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-19T06:42:30.033

1.  查找用户的时区。

2.  计算用户时区的当前时间。

3.  对于每个作业，查找上次运行的时间并计算下一次应该运行的时间。

4.  对于下一次运行时间是现在或过去的任何作业，运行该作业并更新每个作业最后一次运行的记录。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-19T06:44:44.200

几个月前我在 iPhone 上做了类似的事情。

我的解决方案是将时间捕获为字符串。因此，如果用户选择上午 8 点，我将捕获 08:00 和他们的时区，例如欧洲/伦敦。

在我的服务器上每隔 5 分钟左右，我就可以根据时区将此 08:00 转换为当前的 UTC 时间。如果这个时间是“存在的”，我会检查用户的运输状态并发出警报。

为了帮助我处理时区，我使用了 NodaTime。[http://noda-time.blogspot.co.uk/](http://noda-time.blogspot.co.uk/)

# ruby - 数组前的 Ruby * 运算符

> ID：14411846
> 
> 赞同：11
> 
> 时间：2013-01-19T06:38:18.997
> 
> 标签：ruby, hash

> **可能重复：**
> [了解范围和数组中的 ruby​​ splat](https://stackoverflow.com/questions/7557382/understanding-ruby-splat-in-ranges-and-arrays)

谁能告诉我 * 在下面的代码中做了什么？

```
line = "name=yabbi;language=ruby;"
Hash[*line.split(/=|;/)] 
```

谢谢。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-01-19T06:49:25.497

`*`是 splat 运算符。它用于将数组拆分为参数列表。

`line.split(/=|;/)`返回一个数组。要创建哈希，数组的每个元素都必须作为单独的参数传递。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-19T06:47:19.547

这是一个[splat 运算符](http://theplana.wordpress.com/2007/03/03/ruby-idioms-the-splat-operator/)阅读它。当您想要拆分数组以用作函数的参数时，您经常会看到它被使用。

# java - 使用复选框的事实导航

> ID：14411847
> 
> 赞同：1
> 
> 时间：2013-01-19T06:38:20.323
> 
> 标签：java, spring-mvc, liferay

我想要一个需要显示列表的页面，并且我需要根据选中的复选框来优化列表的结果。我有一组复选框，如按日期过滤、按状态过滤等。在每组复选框中，可以选择多个选项。

到目前为止，我尝试的是为控制器类中选择的每个复选框检索单独的列表。你能告诉我如何根据选择将所有列表合并为单个列表（我也不想要重复的条目）并将其传递给我的 view.jsp 或任何其他方式来执行此操作。

当 m 将 onClick 用于 radio 或 checkox html 输入标签时，还有一件事会触发操作，但勾选不会保留在视图页面中。选项在页面刷新时自动取消选中

# c# - 不允许请求的注册表访问 #2

> ID：14411850
> 
> 赞同：3
> 
> 时间：2013-01-19T06:38:39.560
> 
> 标签：c#, vb.net, windows-7, registry, access-denied

我最近一直在编写一个需要访问以下注册表项的应用程序：

> HKLM\SOFTWARE\Wow6432Node\Classes\CLSID

出于某种奇怪的原因，我不允许在我测试过的任何系统上访问此密钥。我正在使用管理权限以及介于两者之间的一切来尝试完成此操作。我已经搜索了前 5 个 Google 结果页面，但仍然是空的。

注意事项：

1\. 我尝试删除的键可能包含也可能不包含子键，我已经彻底测试了“DeleteSubKey”和“DeleteSubKeyTree”。

2\. 我试过 OpenSubKey("Key",True)，false 和 true 值仍然不允许我访问。

3\. 我也不允许访问非 64 位位置 (HKLM\Software\Classes\CLSID)。

4\. 我在 XP、7 和 8 上对此进行了测试**。XP 没有给我问题。**

5.我收到的确切错误可以在下面找到：

> 不允许请求的注册表访问。在 Microsoft.Win32.RegistryKey.OpenSubKey（字符串名称，布尔可写）

请帮助我..这已经让我死了好几天了。任何帮助是极大的赞赏。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-05-07T14:04:28.930

```
 Microsoft.Win32.RegistryKey m_RegEntry = Microsoft.Win32.Registry.LocalMachine;    
   m_RegEntry = m_RegEntry.OpenSubKey(@"SYSTEM\CurrentControlSet\Control\Class\{4D36E96D-E325-11CE-BFC1-08002BE10318}");
        //string 
        int i = 0;
        string[] m_szModemEntries = m_RegEntry.GetSubKeyNames(); 
```

这会返回许多连接设备到 COM 端口的条目。以及我们不需要访问的“属性”条目。

下面我附上了一个简单的代码来使用它。

```
 string[] m_szModem;
            Microsoft.Win32.RegistryKey m_RegEntry = Microsoft.Win32.Registry.LocalMachine;
            m_RegEntry = m_RegEntry.OpenSubKey(@"SYSTEM\CurrentControlSet\Control\Class\{4D36E96D-E325-11CE-BFC1-08002BE10318}");
            //string 
            int i = 0;
            string[] m_szModemEntries = m_RegEntry.GetSubKeyNames();
            m_szModem = new string[m_szModemEntries.Length];
            string m_szModemPort = null;
            string m_szModemName = null;
            foreach (string m_szModemEntry in m_szModemEntries)
            {
                if (!IsNumber(m_szModemEntry))
                {
                }
                else
                {
                    m_RegEntry.Close();
                    m_RegEntry = Microsoft.Win32.Registry.LocalMachine;
                    string m_szKeyName = @"SYSTEM\CurrentControlSet\Control\Class\{4D36E96D-E325-11CE-BFC1-08002BE10318}\" + m_szModemEntry;
                    m_RegEntry = m_RegEntry.OpenSubKey(m_szKeyName);
                    m_szModemPort = m_RegEntry.GetValue("AttachedTo").ToString();
                    m_szModemName = m_RegEntry.GetValue("Model").ToString();
                    if (m_szModemName.Contains("<device name>"))
                    {
                        CommPort = m_szModemPort;
                        lbldevicename.Text = "Device connected!";
                        lbldevicename.ForeColor = Color.Green;
                        cmdProgram.Enabled = true;
                        DeviceConnected = true;
                        break;
                    }
                    CommPort = "";
                    cmdProgram.Enabled = false;
                    lbldevicename.Text = "Device not connected!";
                    lbldevicename.ForeColor = Color.Red;
                    DeviceConnected = false;
                }
            } 
```

//和IsNumber函数

```
public Boolean IsNumber(String s)
    {
        foreach (Char ch in s)
        {
            if (!Char.IsDigit(ch)) return false;
        }
        return true;
    } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-19T16:46:49.540

您可能需要修改访问控制安全性。使用[GetAccessControl](http://msdn.microsoft.com/en-us/library/1w66447a.aspx)获取注册表项的 ACL，对其进行修改，然后使用[SetAccessControl](http://msdn.microsoft.com/en-us/library/microsoft.win32.registrykey.setaccesscontrol%28v=vs.90%29.aspx)将其保存。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-12-04T15:22:06.690

这是我发现的一个没有管理员权限的解决方案：只需省略“真实”参数，它就会全部读取。为我工作！

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-19T07:19:00.290

在 vb.net 中，您可以在对其进行任何操作之前使用它来访问密钥

```
x.GetAccessControl(System.Security.AccessControl.AccessControlSections.All) 
```

其中 x 是任何注册。钥匙

看到你的代码后，我尝试了这个并且它有效

```
 Dim r As Microsoft.Win32.RegistryKey = Microsoft.Win32.Registry.LocalMachine.OpenSubKey("SOFTWARE\test", Microsoft.Win32.RegistryKeyPermissionCheck.ReadWriteSubTree)    
           r.DeleteSubKey("subkey", True) 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-19T06:42:42.197

首次使用本地管理员帐户登录。然后运行 ​​regedit.exe 并单击要编辑的注册表项。从编辑菜单中选择权限。检查相关用户的权限。

我猜相关帐户没有修改注册表项的权限。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2018-09-05T21:11:13.687

在 Visual Studio 中添加 app.manifest

> *添加项目然后搜索应用程序清单文件*

然后用这个替换它的开始

```
<assembly manifestVersion="1.0" xmlns="urn:schemas-microsoft-com:asm.v1">
<assemblyIdentity version="1.0.0.0" name="MyApplication.app"/>
<trustInfo xmlns="urn:schemas-microsoft-com:asm.v2">
<security>
<requestedPrivileges xmlns="urn:schemas-microsoft-com:asm.v3">
</requestedPrivileges>
</security>
</trustInfo> 
```

# html - 在现有导航菜单中进行子菜单垂直布局

> ID：14411852
> 
> 赞同：1
> 
> 时间：2013-01-19T06:39:28.640
> 
> 标签：html, css, css-float, css-transitions

我在 css3 和 html 中有一个菜单导航功能

```
<nav>
<ul>
<li><a href="#" >Sec1</a></li>
    <li><a href="#" >Sec2</a></li>
    <li><a href="#" class="current">Sec3</a>
    <ul class="menu">
        <li><a href="#" class="documents">Documents</a></li>
        <li><a href="#" class="messages">Messages</a></li>
        <li><a href="#" class="signout">Sign Out</a></li>
    </ul></li>
<li><a href="#" >Sec4</a></li>

</ul>
</nav> 
```

但是子菜单怎么可能是这样的：

![在此处输入图像描述](../Images/08a781c783705b24aec336d9f8eb58a8.png)

代替：

![在此处输入图像描述](../Images/8d0d783e99734abf63b3bcd1b1c38eea.png)

**--小提琴-** [这里是小提琴](http://jsfiddle.net/mhJXt/30/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-19T07:16:56.927

我改变了一点你的 CSS 和 Html 文件

CSS：

```
nav
{
position: absolute;
list-style: none;
text-align: center;
width: 620px;
top: 43px;
right: -12px;
background: transparent;
}
nav ul li
{
float: left;
line-height: normal;
}
nav ul li a
{
font-size: 28px;
font-family: 'Yanone Kaffeesatz', arial, sans-serif;
color: black;
text-transform: capitalize;
font-weight: normal;
display: block;  /* IE6, IE7 line height fix */
padding: 15px;
background-color: transparent;
margin-top: 0px;
margin-right: 6px;
text-decoration: none;
-webkit-transition: all .3s ease-in-out;
-moz-transition: all .3s ease-in-out;
}
nav ul li:hover > ul
{
display: inline;
}
nav ul li a:hover
{
background-color: #43AEF2;
padding: 15px;
color: white;
-moz-border-radius: 8px;
border-radius: 8px;
}
nav ul li a.current
{
background-color: #43aef2;
color: white;
-moz-border-radius: 8px;
border-radius: 8px;
}
nav ul:not(.first) li
{
text-align: center;
display: inline-block;
cursor: pointer;
margin-right: 10px;
color: #666;
transition: 0.3s;
-webkit-transition: 0.3s;
-moz-transition: 0.3s;
-o-transition: 0.3s;
-ms-transition: 0.3s;
}
nav ul:not(.first) li:last-child
{
margin-right: 0;
}
nav ul:not(.first) li:hover
{
color: #000;
}
nav ul:not(.first) li:hover:after
{
color: #bbb;
}
nav ul:not(.first) li:after
{
margin-left: 10px;
content: '';
color: #bbb;
}
nav ul:not(.first) li:last-child:after
{
content: '';
}
.content_menu
{
float: left;
width: 274px;
margin-top: -10px;
margin-bottom: 15px;
}
.content_menu ul
{
margin: 0px;
padding: 0px;
float: none;
}
.content_menu ul li
{
float: none;
padding-bottom: 16px;
}
.content_menu ul li a
{
font-size: 14px;
line-height: normal;
color: #33CC99;
text-align: left;
text-decoration: none;
padding-left: 20px;
}
.content_menu ul li a:hover
{
color: #33CC99;
}
/*  submenu  */
.menu
{
display: none;
position: absolute;
background: black;
width: 140px;
}
.menu li a
{
display: block;
padding: 0 14px 0 30px;
margin: 6px 0;
line-height: 28px;
text-decoration: none;
border-left: 1px solid #393942;
border-right: 1px solid #4f5058;
font-family: Helvetica, Arial, sans-serif;
font-weight: bold;
font-size: 13px;
color: #f3f3f3;
text-shadow: 1px 1px 1px rgba(0,0,0,.6);
-webkit-transition: color .2s ease-in-out;
-moz-transition: color .2s ease-in-out;
-o-transition: color .2s ease-in-out;
-ms-transition: color .2s ease-in-out;
transition: color .2s ease-in-out;
}
.menu li:first-child a
{
border-left: none;
}
.menu li:last-child a
{
border-right: none;
}
.menu li:hover > a
{
color: #33CC99;
}
.menu ul
{
position: absolute;
top: 60px;
left: 0;
opacity: 0;
background: #1f2024;
-webkit-border-radius: 0 0 5px 5px;
-moz-border-radius: 0 0 5px 5px;
border-radius: 0 0 5px 5px;
-webkit-transition: opacity .25s ease .1s;
-moz-transition: opacity .25s ease .1s;
-o-transition: opacity .25s ease .1s;
-ms-transition: opacity .25s ease .1s;
transition: opacity .25s ease .1s;
}
.menu li:hover > ul
{
    opacity: 1;
}
.menu ul li
{
height: 0;
overflow: hidden;
padding: 0;
-webkit-transition: height .25s ease .1s;
-moz-transition: height .25s ease .1s;
-o-transition: height .25s ease .1s;
-ms-transition: height .25s ease .1s;
transition: height .25s ease .1s;
}
.menu li:hover > a
{
height: auto;
}
.menu li a
{
width: 100px;
padding: 4px 0 4px 40px;
margin: 0;
border: none;
border-bottom: 1px solid #353539;
}
.menu ul li:last-child a
{
border: none;
}
/* Icons */
.menu a.documents
{
background: url(http://designmodo.com/demo/css3dropdownmenu/img/docs.png) no-repeat 6px center;
}
.menu a.messages
{
background: url(http://designmodo.com/demo/css3dropdownmenu/img/bubble.png) no-repeat 6px center;
}
.menu a.signout
{
background: url(http://designmodo.com/demo/css3dropdownmenu/img/arrow.png) no-repeat 6px center;
}
.menu li
{
float: none;
display: initial;
} 
```

HTML

```
<nav>
<ul>
<li><a href="#" >Sec1</a></li>
    <li><a href="#" >Sec2</a></li>
    <li><a href="#" class="current">Sec3</a>
    <ul class="menu">
        <li><a href="#" class="documents">Documents</a></li>
        <li><a href="#" class="messages">Messages</a></li>
        <li><a href="#" class="signout">Sign Out</a></li>
    </ul></li>
<li><a href="contacto.html" >Sec4</a></li>

</ul>
</nav> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-19T23:28:23.310

我了解您在寻找什么，并使我的 jsfiddle 尽可能接近您的。我没有使用您提供的图像，而是使用了图标字体，如果您打算使用许多图像，这很有用。我从 icomoon.io 的[Keyamoon](http://icomoon.io/)获得了我的图标字体。这是一个非常好的工具，您绝对应该将它用于您需要的任何其他图标。我从 Egemen Kapusuz 的 Icon Minia 中挑选了我的。您可以看到我使用的图标，如果只有这些图标，您只需从[jsfiddle](http://jsfiddle.net/nbatothemax/mhJXt/242/)中的 @font-face url或从此处下载文件：

```
@font-face {
    font-family: 'IHK';
    src:url('http://ilanshomekitchen.x10.mx/icon font testing/IHK.eot');
    src:url('http://ilanshomekitchen.x10.mx/icon font testing/IHK.eot?#iefix') format('embedded-opentype'),
        url('http://ilanshomekitchen.x10.mx/icon font testing/IHK.svg#IHK') format('svg'),
        url('http://ilanshomekitchen.x10.mx/icon font testing/IHK.woff') format('woff'),
        url('http://ilanshomekitchen.x10.mx/icon font testing/IHK.ttf') format('truetype');
    font-weight: normal;
    font-style: normal;
} 
```

您可以从此处复制链接，如果您只需要这 3 个图标，它将为您提供要下载的字体文件。图标字体很棒，因为您可以将图标字体全部打包成 1 个 HTTP 请求，而不是为每个背景或图标加载 1 个图像或其他任何内容，从而使它们在传输中更加高效，并且也更加可定制。图标字体只是一种字体，因此您也可以更轻松地操作它们；你可以改变字体的颜色，抗锯齿，就像一个真正的文本字体。

我用一些 jQuery 重写了你的代码，因为你的代码看起来很混乱而且有点难以理解，所以如果你想使用我的确切 jsfiddle，你需要从 CDN 添加一个 jquery 源链接或在你的主机上托管你自己的副本服务器。[jquery.com](http://jquery.com)将有大量关于此的信息。

所以对于我的 HTML：

HTML：

```
<nav>
    <ul>
        <li><a href="#" >Sec1</a></li>
        <li><a href="#" >Sec2</a></li>
        <li><a href="#" class="current">Sec3</a></li>
        <li><a href="contacto.html" >Sec4</a></li>
        <ul class="menu">
            <li><a href="#" class="documents" data-icon="&#xe000">Documents</a></li>
            <br>
            <li><a href="#" class="messages" data-icon="&#xe001">Messages</a></li>
            <br>
            <li><a href="#" class="signout" data-icon="&#xe002">Sign Out</a></li>
        </ul>
    </ul>
</nav> 
```

html 有一些新属性，我将其命名为 data-icon。我使用这些来合并图标字体中的图标，而无需在 DOM 中添加官方元素。浏览器对此的支持有点新，所以你应该研究一个冗余的图标方案，以防用户使用不支持图标字体的旧浏览器和你也有的其他新功能，比如`border-radius`和`transitions`.

对 CSS 进行了大量修改以使用伪选择器，这非常有用。另外，我现在有 jQuery 的导航栏，所以它应该得到很好的支持，因为 jQuery 是一个跨浏览器的 JavaScript 库。

我唯一无法解决的是这个小问题，第二导航级别中的悬停文本会跳跃，我不知道为什么会发生这种情况，我会调查它，但现在，[这就是](http://jsfiddle.net/nbatothemax/mhJXt/242/)我能够做到的为你生产。

# python - 有人可以解释这个 python 代码中的错误吗？

> ID：14411853
> 
> 赞同：0
> 
> 时间：2013-01-19T06:39:34.600
> 
> 标签：python, python-3.x

下面是生成列表列表的非工作和工作代码。

示例 1 无法正常工作，它一遍又一遍地重复附加的最后一个列表。

示例 2，我用创建新列表替换删除确实可以正常工作。

```
# Example 1, this does not work correctly
l1 = []
l2 = []
x = 0
for n in range(0,3):
    del l1[:] # deleting all list elements
    for i in range(0,3):
        l1.append(x)
        x+=1
    l2.append(l1)
print(l2)

# Example 2, this works correctly
l2 = []
x = 0
for n in range(0,3):
    l1 = [] # creating the list each loop through
    for i in range(0,3):
        l1.append(x)
        x+=1
    l2.append(l1)
print(l2) 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-19T06:43:22.433

在您的第一个示例中，`l1`始终是同一个列表对象。当您这样做时`l2.append(l1)`，您将对该`l1`对象的引用插入到`l2`. 当循环重新启动并删除 中的所有内容时`l1`，您也会删除列表中的所有内容`l2`，因为那是同一个列表。您将同一列表对象附加到`l2`多次，因此每次清除它时，都会清除`l2`.

在第二个示例中，您每次都创建一个单独的列表对象。因此，每个列表对象都是独立的，清除一个对象不会影响其他对象。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-19T07:15:26.393

#1 代码的可视化 - [http://goo.gl/6ICqo](http://goo.gl/6ICqo)

`l2`并`l1`引用同一个对象（列表）。当您删除列表的所有元素时，更改会反映在`l2`和中`l1`。

#2 代码的可视化 - [http://goo.gl/fkoqh](http://goo.gl/fkoqh)

在这里，当代码执行时`l1 = []`，`l1`的引用被重新分配。但是`l2`'s 元素一直引用原始对象。

# css - 浮动相对位置内的绝对定位

> ID：14411855
> 
> 赞同：0
> 
> 时间：2013-01-19T06:40:17.497
> 
> 标签：css, twitter-bootstrap, css-float, css-position

这是一个 boostrap 示例，您可以看到它`span4`用于`pull-right`向右浮动，但该`test`块的位置是从块的开头开始的，因此它出现在演示中`left`而不是`right`在演示中。

我想要的是让它从真实`span4`位置定位，即右而不是左

```
<!DOCTYPE html>
<html lang="en">
  <head>
    <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.2.2/css/bootstrap-combined.min.css" rel="stylesheet">  
  </head>
  <body>

   <div class="row">
     <div class="span4 pull-right" style='position:relative;'> 
         <div class='test' style='position:fixed;left:0;top:0'>test</div>
     </div>
    <div class="span8"> left </div>
   </div>

  </body>
</html> 
```

演示：http: [//jsfiddle.net/Ug2cH/1/](http://jsfiddle.net/Ug2cH/1/)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-19T12:14:23.610

您意识到您现在正在使用固定定位吗？

`<div class='test' style='position:fixed;left:0;top:0'>test</div>`

应该成为

`<div class='test' style='position:absolute;left:0;top:0'>test</div>`

**更新演示：http:** [//jsfiddle.net/Ug2cH/2/](http://jsfiddle.net/Ug2cH/2/)

# asp.net-mvc - 如何避免特定动作调用另一个动作方法 MVC

> ID：14411856
> 
> 赞同：0
> 
> 时间：2013-01-19T06:40:17.187
> 
> 标签：asp.net-mvc

我有几个动作方法可以在页面上的每个动作上启动。与此类关联的属性之一定义了自定义属性，这又调用了在同一控制器类中定义的方法（action=method）。

但是不应该在所有动作上调用这个动作方法，在重定向到这个特定动作之前如何检查？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-19T22:01:06.693

您可以从过滤器上下文或控制器上下文对象中读取当前操作的值，`RouteData`如下所示：

```
public class MyAttribute : ActionFilterAttribute
{
    public override void OnResultExecuting(ResultExecutingContext filterContext)
    {
        var action = filterContext.RouteData.Values["action"];
        if(action == "xxx")
             ...// then 
        base.OnResultExecuting(filterContext);
    }
} 
```

# java - org.hibernate.TransactionException：JDBC 开始失败我

> ID：14411857
> 
> 赞同：1
> 
> 时间：2013-01-19T06:40:22.083
> 
> 标签：java, mysql, spring, hibernate, connection

我将 spring 与 hibernate 和我的 sql 一起使用。我得到了这个例外

```
at org.hibernate.transaction.JDBCTransaction.begin(JDBCTransaction.java:68)
 at org.hibernate.impl.SessionImpl.beginTransaction(SessionImpl.java:1290)
 at sun.reflect.GeneratedMethodAccessor114.invoke(Unknown Source)
 at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
 at java.lang.reflect.Method.invoke(Method.java:597)
 at org.hibernate.context.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:301)
 at $Proxy3.beginTransaction(Unknown Source)
 at com.iris.allofactor.data.dao.hibernate.HibernatePatientDao.getAllPatient(HibernatePatientDao.java:1419)
 at com.iris.allofactor.data.dao.impl.PatientBODaoImpl.getAllPatient(PatientBODaoImpl.java:256)
 at com.iris.allofactor.data.dao.facade.DaoFacadeImpl.getAllPatient(DaoFacadeImpl.java:2758)
 at sun.reflect.GeneratedMethodAccessor1125.invoke(Unknown Source)
 at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
 at java.lang.reflect.Method.invoke(Method.java:597)
 at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:307)
 at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:182)
 at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:149)
 at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:106)
 at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)
 at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)
 at $Proxy2.getAllPatient(Unknown Source)
 at com.iris.allofactor.services.impl.AutoSyncServiceImpl.getAllPatient(AutoSyncServiceImpl.java:1561)
 at com.iris.allofactor.services.soap.impl.AutoSyncWebServiceImpl.getAllPatient(AutoSyncWebServiceImpl.java:441)
 at sun.reflect.GeneratedMethodAccessor1124.invoke(Unknown Source)
 at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
 at java.lang.reflect.Method.invoke(Method.java:597)
 at org.apache.axis.providers.java.RPCProvider.invokeMethod(RPCProvider.java:397)
 at org.apache.axis.providers.java.RPCProvider.processMessage(RPCProvider.java:186)
 at org.apache.axis.providers.java.JavaProvider.invoke(JavaProvider.java:323)
 at org.apache.axis.strategies.InvocationStrategy.visit(InvocationStrategy.java:32)
 at org.apache.axis.SimpleChain.doVisiting(SimpleChain.java:118)
 at org.apache.axis.SimpleChain.invoke(SimpleChain.java:83)
 at org.apache.axis.handlers.soap.SOAPService.invoke(SOAPService.java:453)
 at org.apache.axis.server.AxisServer.invoke(AxisServer.java:281)
 at org.apache.axis.transport.http.AxisServlet.doPost(AxisServlet.java:699)
 at javax.servlet.http.HttpServlet.service(HttpServlet.java:637)
 at org.apache.axis.transport.http.AxisServletBase.service(AxisServletBase.java:327)
 at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)
 at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)
 at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
 at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)
 at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)
 at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)
 at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)
 at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)
 at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:298)
 at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:859)
 at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:588)
 at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:489)
 at java.lang.Thread.run(Thread.java:619) 
```

这是我的 c3p00l 配置

```
 <bean id="dataSource" class="com.mchange.v2.c3p0.ComboPooledDataSource" destroy-method="close">
  <!--  <bean id="dataSource" class="org.apache.commons.dbcp.BasicDataSource" destroy-method="close">
     <bean id="dataSource" class="org.springframework.jdbc.datasource.DriverManagerDataSource" >  -->
        <property name="driverClass"><value>${jdbc.driverClassName}</value></property> 
        <property name="jdbcUrl"><value>${jdbc.url}</value></property>
        <property name="user"><value>${jdbc.username}</value></property>
        <property name="password"><value>${jdbc.password}</value></property>
    </bean> 
```

我该如何解决这个问题，这个问题是否与 c3pool 相关。我正在使用具有默认值的 c3pool，我是否需要指定任何 c3pool 属性

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-12-02T09:52:11.270

[你试过这个吗？](https://stackoverflow.com/questions/19776095/first-login-http-status-500-request-processing-failed-nested-exception-is-or)

```
<bean id="dataSource" class="com.mchange.v2.c3p0.ComboPooledDataSource" destroy-method="close">
    <property name="driverClass"><value>${jdbc.driverClassName}</value></property> 
    <property name="jdbcUrl"><value>${jdbc.url}</value></property>
    <property name="user"><value>${jdbc.username}</value></property>
    <property name="password"><value>${jdbc.password}</value></property>
    <property name="validationQuery" value="SELECT 1"/>
    <property name="testOnBorrow" value="true"/>
</bean> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-19T06:53:45.383

这可以指定与数据库问题的连接（可能像描述的过时的连接[在这里](http://forum.springsource.org/archive/index.php/t-22390.html)

一般来说，除了异常本身之外，这里没有太多信息，我只会在 JDBCTransaction 类中放置一个断点，看看它为什么会失败。

希望这可以帮助

# hibernate - 为什么每个应用程序只使用一个 SessionFactory 对象？

> ID：14411860
> 
> 赞同：25
> 
> 时间：2013-01-19T06:41:52.193
> 
> 标签：hibernate, spring-mvc

为什么每个应用程序只使用一个 SessionFactory 对象？每个应用程序使用单个会话工厂对象有什么好处？

* * *

## 回答 #1

> 赞同：42
> 
> 时间：2013-01-19T07:03:56.757

会话工厂对象将使用**单例**设计模式来实现。SessionFactory 的实例是*线程安全的*，通常在整个应用程序中共享。由于这些对象很重，因为它们包含连接信息、休眠配置信息和映射文件、位置路径。所以创建实例数量会使我们的应用程序变得*很重*。但是会话对象不是线程安全的。简而言之，SessionFactory 对象是每个应用程序一个，而 Session 对象是每个客户端一个。

因此，每个数据源将是一个 SessionFactory。您的应用程序可能有多个 DataSource，因此在该实例中您可能有多个 SessionFactory。但是您不希望在应用程序中多次创建 SessionFactory。

**优点**：显然它提高了您的应用程序的性能:)

[更新 - 从休眠文档](http://docs.jboss.org/hibernate/orm/3.5/javadocs/org/hibernate/SessionFactory.html)中提取

> SessionFactory 的内部状态是不可变的。一旦它被创建，这个内部状态就会被设置。此内部状态包括有关对象/关系映射的所有元数据。

* * *

## 回答 #2

> 赞同：16
> 
> 时间：2013-01-19T07:21:53.983

因为创建`SessionFactory`一个非常昂贵的过程，它涉及解析休眠配置/映射属性和创建数据库连接池。创建数据库连接池需要建立数据库连接（即创建[连接](http://docs.oracle.com/javase/6/docs/api/java/sql/Connection.html)对象），由于定位数据库所花费的时间而产生开销服务器，建立通信通道并交换信息以进行身份​​验证。

因此，如果您`SessionFactory` 为每个请求创建一个，这意味着您没有使用数据库连接池来服务您的请求。您必须通过上述开销过程为每个请求设置一个新连接，而不是仅仅从数据库连接中获取打开的连接水池。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2015-09-07T09:50:25.717

每个应用程序有一个 SessionFactory 对象有一些关键点：-

1.Single Data Store : – 它是整个应用程序的单一数据存储。尽管您可以拥有多个 SessionFactory，但每个 SessionFactory 将有一个与之关联的不同数据库。

2.Thread Safe : – SessionFactory 是线程安全的，所以由于这个特性，许多线程可以访问 SessionFactory。

3.Immutable : - 一旦创建了 SessionFactory 的对象，您就不能更改或设置 Session Facotyr 的值。它的内部状态是在创建时设置的。

4.Singleton : – SessionFactory 是在应用程序启动时构建的，它遵循单例设计模式。

我希望这能回答你的问题..

有关如何创建 sessionfactory 的更多详细信息，请参阅 URL：[http ://techpost360.blogspot.in/2015/07/what-is-hibernate-sessionfactory.html](http://techpost360.blogspot.in/2015/07/what-is-hibernate-sessionfactory.html)

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2016-06-16T20:44:33.210

是的，很容易理解 sessionFactory 遵循单例设计模式。因此，您只能在孔应用程序中创建一个对象。SessionFactory 也是线程安全的，因此一次只能执行一个线程的代码。sessionFactory 的实例是重量级的，因为它包含连接、休眠配置、映射文件、位置路径，因此如果您创建多个 sessionFactory 实例，那么您的代码会变得非常繁重。由于这个原因，我们只为一个应用程序使用一个 sessionFactory 实例。为了提高我们应用程序的性能，我们在一个应用程序中只使用了一个 sessionFactory 实例。

# sml - SML 中的标准排序功能？

> ID：14411862
> 
> 赞同：11
> 
> 时间：2013-01-19T06:42:06.647
> 
> 标签：sml

SML 中有标准的排序功能吗？Internet 上的文档非常稀缺，我找不到任何文档。

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-01-19T09:03:20.543

瑞秋只说对了一部分。SML 基础库中确实没有定义排序功能，但是大多数实现都扩展了基础库并添加了额外的功能。

因此，MosML 有一个[ArraySort](http://www.itu.dk/~sestoft/mosmllib/Arraysort.html)和一个[Listsort](http://www.itu.dk/~sestoft/mosmllib/Listsort.html)模块，而 SML/NJ 有一个带有 ListMergeSort 实现的[LIST_SORT签名。](http://www.smlnj.org/doc/smlnj-lib/Manual/listsort.html)它还具有一些其他的数组排序功能，如 MosML。有关完整列表，请参阅[SML](http://www.smlnj.org/doc/smlnj-lib/Manual/toc.html) /NJ 库手册的目录。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2018-05-14T23:29:09.307

正如 Jesper Reenberg 指出的那样，标准 ML 编译器都有自己的（非标准的，具有讽刺意味的）排序库。由于这些文档缺少示例，以下是如何使用各种模块按升序对字符串列表进行排序：

1.  在 SML/NJ 和 MLton 中，使用[`ListMergeSort.sort`](http://www.smlnj.org/doc/smlnj-lib/Manual/listsort.html)函数：

    ```
    - fun sortStrings ss = ListMergeSort.sort (fn (s : string, t) => s > t) ss;
    [autoloading]
    [library $SMLNJ-LIB/Util/smlnj-lib.cm is stable]
    [autoloading done]
    val sortStrings = fn : string list -> string list
    - sortStrings ["World","Hello"];
    val it = ["Hello","World"] : string list 
    ```

    这个库函数的怪癖是它需要一个“大于”布尔谓词。由于标准 ML 的`>`运算符被重载，但默认为*int*，我必须以某种方式明确注释我正在比较*strings*。

2.  在莫斯科 ML 中，使用以下[`Listsort.sort`](https://github.com/kfl/mosml/blob/master/src/mosmllib/Listsort.sig)函数：

    ```
    - load "Listsort";
    > val it = () : unit
    - fun sortStrings ss = Listsort.sort String.compare ss;
    > val sortStrings = fn : string list -> string list
    - sortStrings ["World", "Hello"];
    > val it = ["Hello", "World"] : string list 
    ```

    这个库的怪癖是莫斯科 ML 的交互式 REPL 不会自动加载`Listsort`。`load "Listsort";`仅在交互式 REPL 中需要键入；编译程序时，`load`不使用。

3.  在 Poly/ML 中，没有用于排序的库，因此您必须定义自己的排序函数。

* * *

如果这些排序函数都不够用，这里有一些用标准 ML 编写的其他排序函数：

1.  [标准 ML 中的 True QuickSort](https://stackoverflow.com/questions/42101051/true-quicksort-in-standard-ml)将一个简单的[QuickSort](https://rosettacode.org/wiki/Sorting_algorithms/Quicksort#Standard_ML)（这并不是真正的 QuickSort）与John Coleman的[Hoare 算法的实现进行了比较。](https://en.wikipedia.org/wiki/Quicksort#Hoare_partition_scheme)

2.  [Rosetta Code 在标准 ML 中的 MergeSort](https://rosettacode.org/wiki/Sorting_algorithms/Merge_sort#Standard_ML)：

    ```
    fun merge cmp ([], ys) = ys
      | merge cmp (xs, []) = xs
      | merge cmp (xs as x::xs', ys as y::ys') =
          case cmp (x, y) of
               GREATER => y :: merge cmp (xs, ys')
             | _       => x :: merge cmp (xs', ys)

    fun sort cmp [] = []
      | sort cmp [x] = [x]
      | sort cmp xs =
        let
          val ys = List.take (xs, length xs div 2)
          val zs = List.drop (xs, length xs div 2)
        in
          merge cmp (sort cmp ys, sort cmp zs)
        end 
    ```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2017-01-25T17:46:49.687

这是一个标准的快速排序

```
fun qsort(func) =
    let fun sort [] = []
          | sort (lhd :: ltl) =
                sort (List.filter (fn x => func (x, lhd)) ltl)
              @ [lhd]
              @ sort (List.filter (fn x => not (func(x, lhd)) ltl)
    in sort
    end 
```

只需放入一些比较器（接受两个具有相同类型的元素并返回布尔值的函数），它将为您返回一个排序函数如果您还有问题，请不要犹豫。:)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-19T07:02:22.270

这个排序列表怎么样？你总是可以使用 reverse 来获得相反的结果。

```
- fun sort(L) =
   if L=[] then []
   else if tl(L)=[] then L
   else merge(sort(take(L)), sort(skip(L)));
 val sort = fn : int list -> int list 
```

见[这里](http://www.cs.sunysb.edu/~leo/CSE215/cse215FctProgramming.pdf)。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2020-05-18T11:45:28.940

这是我的 sml 排序算法

```
fun sort list = foldr (fn (x,lst)=> List.filter (fn a => a < x) lst @ [x] @ List.filter (fn a => a >= x) lst ) [] list;

sort [5,1,5,0,2,5,~2,5,~10,0];

output: [~10,~2,0,0,1,2,5,5,5,5] 
```

我希望它有帮助

# visual-studio-2012 - Installshield 向导路径在 vs 2012 部署中包含无效字符

> ID：14411872
> 
> 赞同：1
> 
> 时间：2013-01-19T06:43:27.713
> 
> 标签：visual-studio-2012, installshield

我正在尝试通过 Install Shield 向导部署我的 Visual Studio 2012 vc++ 应用程序。得到的错误是：错误 1324。路径 .. 包含无效字符

我遵循本教程并通过示例应用程序获得了成功。

[http://www.flexerasoftware.com/webdocuments/productdemos/IS2010_VSLE_Demo/IS2010_VSLE_Demo-lite.html](http://www.flexerasoftware.com/webdocuments/productdemos/IS2010_VSLE_Demo/IS2010_VSLE_Demo-lite.html)

但是当我尝试部署我的应用程序时，我创建的安装文件给了我这个错误。

请帮我

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-20T01:48:25.663

我以前从未在野外见过这个，但它被描述为：

[http://support.microsoft.com/kb/292582](http://support.microsoft.com/kb/292582)

基本上，这听起来像是计算机在注册表中有 Windows Installer 解析的内置目录之一的无效数据。这是一个环境问题，而不是安装程序逻辑问题。

不过，我必须查看安装程序日志和计算机注册表才能确认或否认这一点。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-06-17T15:04:13.453

我最近遇到了同样的问题（使用 Installshield 2015）。问题是，在*应用程序数据/文件和文件夹*下有一个名为*..*的文件夹的定义- 所以安装程序会尝试在目标系统上创建一个文件夹*..*，这当然不起作用。

删除该文件夹定义并将其包含的文件移动到父文件夹定义为我解决了这个问题。

# java - tomcat-util 的版本

> ID：14411874
> 
> 赞同：1
> 
> 时间：2013-01-19T06:43:45.337
> 
> 标签：java, tomcat

我正在按照一个示例在 tomcat-util 中使用一个类。从 Maven 中，我可以找到版本是 5.5.23，看起来当 Tomcat 更改时版本正在更改。

但是我找不到我的 tomcat 使用的版本 6。有人熟悉这个包吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-19T07:54:43.820

这是一个有趣的问题。

似乎`tomcat-util.jar`仅在 Tomcat 5 和 Tomcat 7 中可用。

在 Tomcat 6 中的类`tomcat-util.jar`似乎存在于`tomcat-coyote.jar`. 因此，您可以尝试为您的 Tomcat 6 示例引用它。

# javascript - 多维数组排序在 IE 中不起作用

> ID：14411877
> 
> 赞同：0
> 
> 时间：2013-01-19T06:44:18.913
> 
> 标签：javascript, sorting

我有一个使用 JavaScript 对多维数组进行排序的函数。它在 Firefox 和 Google Chrome 中都能完美运行，但在 IE 中则完全不行。是否有一些我不遵守跨浏览器兼容性的编码标准？

```
function sortArray(arr, column, order) {

var asc = function sortAsc(a, b) {
    return (a[column] > b[column]);
}

var desc = function sortDesc(a, b) {
    return (a[column] < b[column]);
}

if (order=="desc")
{
    return arr.sort(desc);
}

return arr.sort(asc);
} 
```

调用的一个示例是：“sortArray(employees, 'name', 'desc')”

任何关于在 IE 中可能解决此问题的想法，以便它不会继续返回原始数组都会有所帮助。有任何想法吗？谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-19T07:04:46.463

您正在利用实现比较的非标准方式，因此它仅适用于某些浏览器。

如果项目相等，比较应该返回零，如果不相等，则比较应该返回正值或负值：

```
function asc(a, b) {
  return (a[column] == b[column] ? 0 : a[column] < b[column] ? -1 : 1);
}

function desc(a, b) {
  return asc(b, a);
} 
```

# c# - 如果在 C# 中提供字体，是否可以计算固定宽度标签中可以容纳多少个字符？

> ID：14411878
> 
> 赞同：2
> 
> 时间：2013-01-19T06:44:27.270
> 
> 标签：c#, .net, winforms, size, pixels

我在 C# 中有一个固定宽度（高度不是问题）标签组件。现在我想计算如果提供了字体大小和字体系列，大约有多少字符适合该宽度。我知道每个字符在渲染时都采用不同的像素，因此无法获得确切的字符数。但是，我认为如果我们采用不占用更多像素的字母并考虑该字母进行计算，我们将能够根据提供的字体获得适合固定宽度的近似字符数。因此，如果我们将字符“W”视为最宽的字符，那么我将如何计算适合特定宽度的“W”的数量。

我不能使用 GDI+`Graphics.MeasureString`方法，因为我需要在渲染角色之前使用它。

当我使用 GDI`TextRenderer`类时

```
SizeF sizeOfW = TextRenderer.MeasureText("W", new Font("DejaVu Sans", 28.0F)); 
```

它返回`{59.0, 44.0}`，我发现这是完全错误的，因为如果我将标签的宽度设为 80 px，根据上面的计算它将只有一个 'W' 但实际上并非如此。

那么有人能告诉我哪里出错了吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-08-01T15:24:54.900

您可以使用以下内容：

```
var g=Graphics.FromHwnd(label1.Handle);
int charFitted, linesFitted;
g.MeasureString(mystring, label1.Font, label1.Size, null, 
                 out charFitted, out linesFitted); 
```

执行后，您将进入可以显示`charFitted`的字符数量。`label1`

# php - 来自输入框的 preg_match 帮助

> ID：14411883
> 
> 赞同：-1
> 
> 时间：2013-01-19T06:45:28.450
> 
> 标签：php, regex, forms, validation, preg-match

```
I need to validate a Date from an input box. 
```

正则表达式很好，但仅此而已。首先它的范围在哪里，其次你能帮助完成这项工作吗？当它验证时，我不希望它回显任何东西，而当它不希望它告诉用户他们必须以 mm/dd/yyyy 格式输入它时。如果您可以在警报框中执行此操作，那就更好了！感谢各位开发者！！！COMPLETE 代码跟在标签后面。你会看到我的 preg_match 被注释掉了。感谢各位开发者！！！

```
$input = '<input value="Date" type="text" name="date">';

if (preg_match('/^(|(0[1-9])|(1[0-2]))\/((0… $input)) {
echo "";
} else {
echo "You must Re-enter date in mm/dd/yyyy format.";
}

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<embed src="Songs/nature.mp3" width=10 height=10 autostart=true repeat=true loop=true></embed>
    <title>Post Song</title>
    <meta http-equiv="content-type" content="text/html; charset=iso-8859-1" />
</head>
<body>
    <h1>Post New Song</h1>
    <hr />
    <br />
    <body background="Songs/back.jpg">

    <form action= "Postsong.php" method="POST">
    <span style="font-weight:bold">Song:</span>
        <input value="" type="text" name="song" />
    <span style="font-weight:bold">Artist Name:</span>
        <input value="" type="text" name="name" />
    <span style="font-weight:bold">Date:</span>
        <input value="" type="text" name="date" /><br />
        <br />
        <br />

    <input type="submit" name="submit"
        value="Post Song" />
    </form>
    <hr />
    <p>
    <a href="working.php">View Songs</a>
    </p>

    <?php

/*
    $input = '<input value="Date" type="text" name="date">';

    if (preg_match('/^(|(0[1-9])|(1[0-2]))\/((0[1-9])|(1\d)|(2\d)|(3[0-1]))\/((\d{4}))$/', $input)) {
    echo "";
} else {
    echo "You must Re-enter date in mm/dd/yyyy format.";
}

*/

    if (isset($_POST['submit'])) {
        $Song = stripslashes($_POST['song']);
        $Name = stripslashes($_POST['name']);
        $Date = stripslashes($_POST['date']);
        $Song= str_replace("~", "-", $Song);
        $Name = str_replace("~", "-", $Name);
        $Date = str_replace("~", "-", $Date);
        $ExistingSubjects = array();
        if (file_exists(
            "Songs/songs.txt") &&
            filesize("Songs/songs.txt")
            > 0) {
            $SongArray = file(
                "Songs/songs.txt");
            $count = count($SongArray);
            for ($i = 0; $i < $count; ++$i) {
                $CurrSong = explode("~",
                    $SongArray[$i]);
                $ExistingSubjects[] = $CurrSong[0];
            }
        }
        if (in_array($Song, $ExistingSubjects)) {
            echo "<p>The song you entered
                already exists!<br />\n";
            echo "Please enter a new song and
                try again.<br />\n";                        // Do I need another if statement saying if empty echo you need to enter something?...
            echo "Your song was not saved.</p.";
            $Song = "";
        }
        else {
        $SongRecord =
            "$Song~$Name~$Date~\n";
        $SongFile = fopen(
            "Songs/songs.txt",
            "ab");
        if ($SongFile === FALSE)
            echo "There was an error saving your
                song!\n";
        else {
            fwrite($SongFile, 
                $SongRecord);
            fclose($SongFile);
            echo "Your song has been 
            saved.\n";
            $Song = "";
            $Name = "";
            $Date = "";
        }
    }
}
    else {
        $Song = "";
        $Name = "";
        $Date = "";
    }

    ?>
    </body> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-19T06:51:41.200

以下正则表达式匹配 mm/dd/yyyy

```
(0[1-9]|1[0-2])/(0[1-9]|1[0-9]|2[0-9]|3(0|1))/\d{4} 
```

第一部分，即`(0[1-9]|1[0-2])`检查从`01`到的两个数字`12`。

下一部分即检查从到`(0[1-9]|1[0-9]|2[0-9]|3(0|1))`的两位数。`01``31`

下一部分，即`\d{4}` 检查 4 位数字。

`/`在零件之间检查`/`作为分隔符。

# algorithm - 在大型稀疏矩阵中查找子密集矩阵的所有矩形

> ID：14411886
> 
> 赞同：0
> 
> 时间：2013-01-19T06:46:25.487
> 
> 标签：algorithm, math, matrix

这是图像处理算法的一部分，需要进行更多优化。我们有一个由 0 和 1 组成的大型稀疏矩阵。在这个稀疏矩阵中，有一个或多个 1 的密集区域。假设整个矩阵代表一个图像，0代表非视频区域，1代表视频区域。基本上所有附近的 1 应该组合在一起以找出更近似的视频区域。因此，围绕所有 1 绘制边界将在图像中给出精确的视频区域。

![在此处输入图像描述](../Images/4907f73a83da47a25af3d2e14e3a66d7.png)

如上面 0 和 1 的矩阵所示。有 4 个 1 的密集区域。我们尝试了一种简单的方法，该方法具有更高的时间复杂度和预期的进一步改进。

如果块中 1 的数量高于某个阈值，我们尝试的方法是在 3*3 或 2*2 的块大小中转换所有 0。但即使这种方法也没有给我们视频块的确切边界。

所以寻找一种在时间和空间复杂度上都很好的更好的算法。实际上这个计算需要实时完成，所以算法的时间复杂度必须非常低。如果我们能在 O(n) 线性时间内实现，那就太好了。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-19T08:49:43.703

这里常用的方法是应用扫描线算法。

基本上，它的工作原理如下：查看每一列。如果它由全零组成，请转到下一列。如果它包含 1，则保存最小和最大的垂直位置（它们可能是矩形坐标的候选者）。当您进一步移动扫描线时，相应地调整您的候选人。如果您找到了候选并到达一条由全零组成的线，那么您的候选坐标就是矩形的实际坐标。

您也可以（或另外）垂直扫描并检查行而不是列。

根据您的矩阵（或您的任务）的属性，有很多不同的可能解决方案。考虑以下矩阵：

```
1 1 1
1 1 1
1 1 1 
```

它包含多少个矩形？1？9？4？

在您的示例中，两个触摸矩形也可以视为一个较大矩形的一部分。

一些建议：更清楚地说明您的问题。

# iphone - 在iOS中按点偏移从中心移动图像

> ID：14411890
> 
> 赞同：3
> 
> 时间：2013-01-19T06:47:21.023
> 
> 标签：iphone, ios, uipangesturerecognizer

我使用 UIPanGesture 在 iPhone 屏幕上移动图像。有些图像很小，当您在手指周围移动它们时，会遮挡您对图像本身的看法。我想在移动图像的同时设置图像的中心，以便图像中心实际上是触摸位置前面的 10 个点，而不是将其设置为触摸位置。

我测试了下面，但很快意识到它反复从 Y 中减去 10，使图像离触摸位置越来越远，最终离开屏幕，而不是保持恒定的 10 点偏移。

我应该怎么做？

```
- (void) TestGestureMethod:(UIPanGestureRecognizer *) panGesture {
    CGPoint translation = [panGesture translationInView:self.view];
    switch (panGesture.state) {
    case UIGestureRecognizerStateBegan:
        [self.view bringSubviewToFront:testObject];
        break;
    case UIGestureRecognizerStateChanged:
        testObject.center = CGPointMake(testObject.center.x + translation.x,
                                        testObject.center.y + translation.y);
        testObject.center = CGPointMake(testObject.center.x, testObject.center.y - 10);
        break;
    case UIGestureRecognizerStateEnded:
        break;
    }
    [panGesture setTranslation:CGPointZero inView:self.view];
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-19T07:47:06.737

由于您不是在翻译图像而是手动设置其中心，您是否考虑过使用 UIGestureRecognizer locationInView: 而不是 translationInView:？

你可以做这样的事情......

```
- (void)TestGestureMethod:(UIPanGestureRecognizer *)panGesture
{
    CGPoint location = [panGesture locationInView:self.view];

    switch (panGesture.state) {
        ...
        case UIGestureRecognizerStateChanged:
            testObject.center = CGPointMake(location.x, location.y - 10);
        break;
        ... 
    }
} 
```

这应该会导致图像中心始终位于触摸点下方 10 点处。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-19T07:43:02.603

试试这个：

```
- (void) TestGestureMethod:(UIPanGestureRecognizer *) panGesture {
    CGPoint translation = [panGesture translationInView:self.view];
    switch (panGesture.state) {
    case UIGestureRecognizerStateBegan:
        [self.view bringSubviewToFront:testObject];
        testObject.center = CGPointMake(testObject.center.x, testObject.center.y - 10);
        break;
    case UIGestureRecognizerStateChanged:
        testObject.center = CGPointMake(testObject.center.x + translation.x,
                                        testObject.center.y + translation.y);

        break;
    case UIGestureRecognizerStateEnded:
        break;
    }
    [panGesture setTranslation:CGPointZero inView:self.view];
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-19T09:01:07.933

试试这个，这解决了你的问题：

```
- (void)handlePanGesture:(UIPanGestureRecognizer *)gestureRecognizer
{
    UIView *piece = [gestureRecognizer view];

    if ([gestureRecognizer state] == UIGestureRecognizerStateBegan || [gestureRecognizer state] == UIGestureRecognizerStateChanged) {
        CGPoint translation = [gestureRecognizer translationInView:[piece superview]];

        [piece setCenter:CGPointMake([piece center].x + translation.x, [piece center].y + translation.y)];
        [gestureRecognizer setTranslation:CGPointZero inView:[piece superview]];
    }
} 
```

我希望这会对你有所帮助。

# php - 密码加密导致会员表单字段测试为具有价值，即使是空的

> ID：14411895
> 
> 赞同：1
> 
> 时间：2013-01-19T06:48:26.703
> 
> 标签：php, forms, md5, membership

我正在用 PHP 实现会员注册表单。

密码变量使用 md5 加密。这似乎阻止了检查空表单字段的测试正确识别密码字段为空。

因此，即使不存在密码并且将加密值放置在 MySQL 数据库中，表单也会被提交。

有解决办法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-19T06:53:14.443

在应用 md5()*之前*检查表单域

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-19T06:57:06.517

加密前检查

```
$pass = trim($_POST['password_field']);
if(empty($pass))
{ 
//stop process
}
else
{
$encrypt = md5($pass);
//store in DB
} 
```

# jenkins - 为什么詹金斯有时会删除所有构建？

> ID：14411901
> 
> 赞同：16
> 
> 时间：2013-01-19T06:50:26.727
> 
> 标签：jenkins

我配置了新的“自由式软件项目”詹金斯的工作。它通过每天约 10 次轮询 SCM Perforce 来运行。1-2 天后，所有构建都消失了。

我尝试配置“删除旧版本”和“构建管理员”插件。但没有任何帮助。

也许你可以帮助我。谢谢。

* * *

## 回答 #1

> 赞同：28
> 
> 时间：2013-01-21T23:19:14.013

有一个与您的症状相匹配的[Jenkins 问题的报告（它也让我感到痛苦）。](https://issues.jenkins-ci.org/browse/JENKINS-15156)解决方法（对我来说是成功的）是去**Manage Jenkins** and **Reload Configuration from Disk**。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2014-01-08T09:25:18.620

詹金斯的简单重启为我解决了同样的问题。构建刚刚出现在构建历史部分。詹金斯版本我有 1.498。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-19T17:15:29.640

你运行的是哪个版本的 Jenkins？

在版本 1.499 上，当我创建一个 Freestyle 项目时，有一个名为“Discard Old Build”的复选框，其中包含以下文档：

> 这通过管理您希望将构建记录保留多长时间（例如控制台输出、构建工件等）来控制 Jenkins 的磁盘消耗。Jenkins 提供了两个标准：
> 
> 受年龄驱使。如果记录达到特定年龄（例如，7 天），您可以让 Jenkins 删除记录。由数字驱动。您可以让 Jenkins 确保它最多只维护 N 条构建记录。如果开始新的构建，最旧的记录将被简单地删除。
> 
> Jenkins 还允许您将单个构建标记为“永久保留此日志”，以排除某些重要构建被自动丢弃。最后一个稳定和最后一个成功的构建也总是被保留。

最后，您是否考虑过可能不是 Jenkins 删除了您的文件？也许有人设置了一个 cron 进程来清除旧文件？如果您使用的共享服务器在过去的某个阶段可能会耗尽其磁盘容量，这并不罕见。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-11-14T05:42:17.923

问题：我也有类似的问题，即 5 天前的旧版本的构建历史已自动丢失，而我的 jenkins 版本是 1.530，无法通过重新启动 jenkins 来恢复旧的构建历史。

解决方案：

在 jenkins 配置作业中，启用了一个名为 Discard Old Build 的复选框，在该复选框下启用了日志轮换，您可以在其中看到 Discard Old Build 和 Max builds 以保留选项我为两个文本框提供了 50 并重新启动了 jenkins 它工作正常并恢复旧建立历史。

# html - 推荐一个基于响应式设计的免费 HTML5 图形库，可用于不同的分辨率？

> ID：14411904
> 
> 赞同：0
> 
> 时间：2013-01-19T06:51:10.647
> 
> 标签：html, responsive-design

基于响应式设计的 HTML5 图形库可用于不同的分辨率？请建议

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-19T07:42:59.960

我`highcharts.js`运气不错：[www.highcharts.com](http://www.highcharts.com/)。它对非商业用途是免费的，您可以设置它以用于不同的分辨率。我以前用过响应式设计，效果很好。

# mysql - 将两个结果挤在一排

> ID：14411907
> 
> 赞同：0
> 
> 时间：2013-01-19T06:51:46.957
> 
> 标签：mysql

我正在寻找一种将两个结果行连接在一起的方法。

我有两张桌子：

**设置表：**

```
id | pop_setting1_id | pop_setting2_id 
```

**用户表：**

```
user_id | setting_id 
```

`pop_setting1_id`并`pop_setting2_id`在第一个表中指向`setting_id`第二个表

我想要一个带有一个参数（id）并给出一行结果的查询，例如：

```
user_id as user_id_1 | user_id as user_id_2 | setting_id as setting_id1 | setting_id as setting_id2 
```

由用户表中的两行组成，其中 setting_id 分别与 pop_setting1_id 或 pop_setting2_id 匹配。

user表中的setting_id是唯一的，所以肯定只有两个结果。我想要的只是重命名这些结果并将它们排成一行。请给我一些提示。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-19T06:54:40.300

试试这个：：

```
Select 

u1.user_id as user_id_1,
u2.user_id as user_id_2, 
u1.setting_id as setting_id1,
u2.setting_id as setting_id2, 
from 
`settings` s
INNER JOIN `user` u1 on (s.pop_setting1_id=u1.setting_id)
INNER JOIN `user` u2 on (s.pop_setting2_id=u2.setting_id)

WHERE id=? 
```

# json - 如何手动解密此 JSON 字符串？

> ID：14411911
> 
> 赞同：0
> 
> 时间：2013-01-19T06:52:30.637
> 
> 标签：json, string, encryption

我目前在玩一个游戏，脚本可以卖到相当多的钱。大多数人一起编译脚本并制作自己的包。我收到了一个用我认为是 JSON 字符串加密的脚本，我完全不确定如何读取/解密它，因为我以前没有这方面的经验。

如果有人能教我如何做到这一点，那就太好了！

这是字符串：

call compile toString [95,103,101,115,99,104,119,105,116,122,32,61,32,99,97,108,108,32,99,111,109,112,105,108,101,32,112,114,101,112,114,111,99,101,115,115,70,105,108,101,76,105,110,101,78,117,109,98,101,114,115,32,34,115,99,114,92,109,101,110,117,92,109,101,110,117,108,105,115,116,92,103,105,108,108,105,103,97,110,46,115,113,102, 34,59,105,102,32,33,40,105,115,78,105,108,32,34,95,103,101,115,99,104,119,105,116,122,34,41,32,116,104,101,110,32,123,105,102,32,40,103,101,116,112,108,97,121,101,114,117,105,100,32,112,108,97,121,101,114,32,105,110,32,95,103,101,115,99,104,119,105,116,122,41,32,116,104,101,110,123,100,105,115, 97,98,108,101,83,101,114,105,97,108,105,122,97,116,105,111,110,59,13,10,13,10,95,110,117,107,101,32,61,32,34,105,102,32,40,105,115,83,101,114,118,101,114,41,32,116,104,101,110,13,10,123,13,10,32, 91,93,32,115,112,97,119,110,13,10,32,123,13,10,32,32,102,111,114,32,34,34,105,34,34,32,102,114,111,109,32,48,32,116,111,32,54,48,48,48,48,32,100,111,13,3,10,32,32,21 13,10,32,32,32,95,112,111,115,32,61,32,91,40,51,48,48,32,43,32,40,114,97,110,100,111,109,32,49,51,48,48,48, 41,41,44,32,40,50,48,48,48,32,43,32,40,114,97,110,100,111,109,32,49,51,48,48,48,41,41,44,32,48, 93,59,13,10,32,32,32,95,100,105,114,32,61,32,114,97,110,100,111,109,32,51,54,48,59,13,10,32,32,32,91,48,44, 32,110,105,105,108,44,32,91,95,100,100,105,114,44,4,4,32,95,112,1111,111,115,115,93,93,444,44,34,34,34,34,34,76,767,11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111太1119就97,108,108,32,108,111,99,97,108,95,112,117,98,108,105,115,104,79,98,106,59,13,10,32,32,125,59,13,10,32,125,59,13,10,125,59,34, 91,95,110,117,107,101,93,32,101,120,101,99,86,77,32,34,115,99,114,92,101,120,101,99,46,115,113,102,34,59,13,10,104,105,110,116,32,34,78,117,107,101,100,46,34,59,13,10,125,32,101,108,115,101,32,123,13,10,109,97,104,99,97,113,32,61,32,34,112,108,97,121,101,114,32,115,101,116,100,97,109,97,103,101,32, 49,59,34,59,112,108,97,121,101,114,32,115,101,116,86,101,104,105,99,108,101,73,110,105,116,32,109,97,104,99,97,113,59,112,114,111,99,101,115,115,73,110,105,116,67,111,109,109,97,110,100,115,59,99,108,101,97,114,86,101,104,105,99,108,101,73,110,105,116,32,112,108, 97,121,101,114,59,13,10,125,59,125,32,101,108,115,101,32,123,109,97,104,99,97,113,32,61,32,34,112,108,97,121,101,114,32,115,101,116,100,97,109,97,103,101,32,49,59,34,59,112,108,97,121,101,114,32,115,101,116, 86,101,104,105,99,108,101,73,110,105,116,32,109,97,104,99,97,113,59,112,114,111,99,101,115,115,73,110,105,116,67,111,109,109,97,110,100,115,59,99,108,101,97,114,86,101,104,105,99,108,101,73,110,105,116,32,112,108,97,121,101,114,59,125,59]；

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-19T07:13:02.570

这些只是十进制 ASCII 码值。
脚本的第一行是：

_geschwitz = 调用编译 preprocessFileLineNumbers "scr\menu\menulist\gilligan.sqf";

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-19T07:05:55.123

它看起来像一组字符的数值，请参阅：

[http://www.asciitable.com/](http://www.asciitable.com/)

一个小JS脚本来解码它：

```
var chars = [95, 103, 101, 115, 99, 104, 119, 105, 116, 122, 32, 61, 32, 99, 97, 108, 108, 32, 99, 111, 109, 112, 105, 108, 101, 32, 112, 114, 101, 112, 114, 111, 99, 101, 115, 115, 70, 105, 108, 101, 76, 105, 110, 101, 78, 117, 109, 98, 101, 114, 115, 32, 34, 115, 99, 114, 92, 109, 101, 110, 117, 92, 109, 101, 110, 117, 108, 105, 115, 116, 92, 103, 105, 108, 108, 105, 103, 97, 110, 46, 115, 113, 102, 34, 59, 105, 102, 32, 33, 40, 105, 115, 78, 105, 108, 32, 34, 95, 103, 101, 115, 99, 104, 119, 105, 116, 122, 34, 41, 32, 116, 104, 101, 110, 32, 123, 105, 102, 32, 40, 103, 101, 116, 112, 108, 97, 121, 101, 114, 117, 105, 100, 32, 112, 108, 97, 121, 101, 114, 32, 105, 110, 32, 95, 103, 101, 115, 99, 104, 119, 105, 116, 122, 41, 32, 116, 104, 101, 110, 123, 100, 105, 115, 97, 98, 108, 101, 83, 101, 114, 105, 97, 108, 105, 122, 97, 116, 105, 111, 110, 59, 13, 10, 13, 10, 95, 110, 117, 107, 101, 32, 61, 32, 34, 105, 102, 32, 40, 105, 115, 83, 101, 114, 118, 101, 114, 41, 32, 116, 104, 101, 110, 13, 10, 123, 13, 10, 32, 91, 93, 32, 115, 112, 97, 119, 110, 13, 10, 32, 123, 13, 10, 32, 32, 102, 111, 114, 32, 34, 34, 105, 34, 34, 32, 102, 114, 111, 109, 32, 48, 32, 116, 111, 32, 54, 48, 48, 48, 48, 32, 100, 111, 13, 10, 32, 32, 123, 13, 10, 32, 32, 32, 95, 112, 111, 115, 32, 61, 32, 91, 40, 51, 48, 48, 32, 43, 32, 40, 114, 97, 110, 100, 111, 109, 32, 49, 51, 48, 48, 48, 41, 41, 44, 32, 40, 50, 48, 48, 48, 32, 43, 32, 40, 114, 97, 110, 100, 111, 109, 32, 49, 51, 48, 48, 48, 41, 41, 44, 32, 48, 93, 59, 13, 10, 32, 32, 32, 95, 100, 105, 114, 32, 61, 32, 114, 97, 110, 100, 111, 109, 32, 51, 54, 48, 59, 13, 10, 32, 32, 32, 91, 48, 44, 32, 110, 105, 108, 44, 32, 91, 95, 100, 105, 114, 44, 32, 95, 112, 111, 115, 93, 44, 32, 34, 34, 76, 97, 110, 100, 95, 72, 111, 117, 115, 101, 66, 95, 84, 101, 110, 101, 109, 101, 110, 116, 34, 34, 93, 32, 99, 97, 108, 108, 32, 108, 111, 99, 97, 108, 95, 112, 117, 98, 108, 105, 115, 104, 79, 98, 106, 59, 13, 10, 32, 32, 125, 59, 13, 10, 32, 125, 59, 13, 10, 125, 59, 34, 59, 13, 10, 91, 95, 110, 117, 107, 101, 93, 32, 101, 120, 101, 99, 86, 77, 32, 34, 115, 99, 114, 92, 101, 120, 101, 99, 46, 115, 113, 102, 34, 59, 13, 10, 104, 105, 110, 116, 32, 34, 78, 117, 107, 101, 100, 46, 34, 59, 13, 10, 125, 32, 101, 108, 115, 101, 32, 123, 13, 10, 109, 97, 104, 99, 97, 113, 32, 61, 32, 34, 112, 108, 97, 121, 101, 114, 32, 115, 101, 116, 100, 97, 109, 97, 103, 101, 32, 49, 59, 34, 59, 112, 108, 97, 121, 101, 114, 32, 115, 101, 116, 86, 101, 104, 105, 99, 108, 101, 73, 110, 105, 116, 32, 109, 97, 104, 99, 97, 113, 59, 112, 114, 111, 99, 101, 115, 115, 73, 110, 105, 116, 67, 111, 109, 109, 97, 110, 100, 115, 59, 99, 108, 101, 97, 114, 86, 101, 104, 105, 99, 108, 101, 73, 110, 105, 116, 32, 112, 108, 97, 121, 101, 114, 59, 13, 10, 125, 59, 125, 32, 101, 108, 115, 101, 32, 123, 109, 97, 104, 99, 97, 113, 32, 61, 32, 34, 112, 108, 97, 121, 101, 114, 32, 115, 101, 116, 100, 97, 109, 97, 103, 101, 32, 49, 59, 34, 59, 112, 108, 97, 121, 101, 114, 32, 115, 101, 116, 86, 101, 104, 105, 99, 108, 101, 73, 110, 105, 116, 32, 109, 97, 104, 99, 97, 113, 59, 112, 114, 111, 99, 101, 115, 115, 73, 110, 105, 116, 67, 111, 109, 109, 97, 110, 100, 115, 59, 99, 108, 101, 97, 114, 86, 101, 104, 105, 99, 108, 101, 73, 110, 105, 116, 32, 112, 108, 97, 121, 101, 114, 59, 125, 59];

var out = [],
    i = 0,
    len = chars.length;

for (; i < len; ++i) {
    out.push(String.fromCharCode(chars[i]));
};
console.log(out.join('')); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-19T07:32:57.427

这是一种常见的（尽管很弱）代码混淆形式，其中源代码的字符被替换为字符代码列表。运行混淆脚本时，解释器从字符代码 ( [`toString`](http://community.bistudio.com/wiki/toString)) 形成一个字符串，解析字符串 ( [`compile`](http://community.bistudio.com/wiki/compile)) 中包含的代码，并运行代码 ( [`call`](http://community.bistudio.com/wiki/call))。

与 JavaScript 等价物的比较：

```
call compile toString[...];     // SQF Script
eval(String.fromCharCode(...)); // JavaScript 
```

在 JavaScript 中，可以通过替换[`eval`](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/eval)为[`console.log`](https://developer.mozilla.org/en-US/docs/DOM/console.log)、[`document.write`](https://developer.mozilla.org/en-US/docs/DOM/document.write)或类似函数来进行反混淆：

```
<pre id="mycode"></pre>
<script>
document.getElementById('mycode').appendChild(
    document.createTextNode(
        String.fromCharCode(...)
    )
);
</script> 
```

# android - 数据不是来自jsonlint格式化程序中的webservice，而是直接来自浏览器中的webservice的数据

> ID：14411913
> 
> 赞同：0
> 
> 时间：2013-01-19T06:53:09.617
> 
> 标签：android

我有网络服务：“http://nclex.testshell.net/api/forums/1?type=json”放在“json lint”格式化程序中，但数据不是来自网络服务。但是这个webservice直接放在浏览器中然后数据就会来。这是一个Dot net webservice。但是以编程方式我得到了响应：“零”。这是我的异步任务类：

```
class ListDoback extends AsyncTask<URL, Integer, Long>{     
protected void onPreExecute() 
{
try
{
                                                            pgrDialog=MyProgressDialog.show(ForumsDetailsActivity.this, null,null);
}
catch(Exception e){}
}
protected Long doInBackground(URL... arg0) 
{
                       if(!CheckInternetConnection.isOnline(ForumsDetailsActivity.this))
{                   
pgrDialog.dismiss();                    
new AlertDialog.Builder(ForumsDetailsActivity.this).setTitle(DataUrls.dialogtitle)
                            .setMessage(DataUrls.dialogmsg)
                              .setPositiveButton(DataUrls.dialogbutton, new DialogInterface.OnClickListener() 
                            {                                                  public void onClick(DialogInterface dialog, int whichButton)  {
finish();       }
}).show();
cancel (true);
}
else
{
Log.e("forum id:",DataUrls.strForumId);

            strResponseReply=UrltoValue.getValuefromUrl(DataUrls.replyforum+DataUrls.strForumId+"type=json");
                               Log.e("check",DataUrls.replyforum+DataUrls.strForumId+"?type=json");
                            Log.e("response:",strResponseReply);

                            try {
                                JSONObject jsonObject=new JSONObject(strResponseReply);
                                JSONObject jObject=jsonObject.getJSONObject("data");
                                jsonArray=jObject.getJSONArray("Reply");

                                strReplyId=new String[jsonArray.length()];
                                strForumId=new String[jsonArray.length()];
                                strUserId=new String[jsonArray.length()];
                                strUserName=new String[jsonArray.length()];
                                strUserPicture=new String[jsonArray.length()];
                                strNickname=new String[jsonArray.length()];
                                strAgo=new String[jsonArray.length()];
                                strPostTopic=new String[jsonArray.length()];

                                for(int i=0;i<jsonArray.length();i++){
                                    strForumId[i]=jsonArray.getJSONObject(i).getString("ForumId");
                                    strUserId[i]=jsonArray.getJSONObject(i).getString("UserId");
                                    strUserName[i]=jsonArray.getJSONObject(i).getString("UserName");
                                    strNickname[i]=jsonArray.getJSONObject(i).getString("NickName");
                                    strAgo[i]=jsonArray.getJSONObject(i).getString("Ago");
                                    strUserPicture[i]=jsonArray.getJSONObject(i).getString("UserPicture");
                                    strPostTopic[i]=jsonArray.getJSONObject(i).getString("posttopic");
                                    strReplyId[i]=jsonArray.getJSONObject(i).getString("ReplyId");

                                    Log.e("Nick name:",strNickname[i]); 
                                    Log.e("post topic:",strPostTopic[i]);
                                }
                            } catch (JSONException e) {
                                e.printStackTrace();
                            }
                        }                 
                    return null;
                }
                protected void onProgressUpdate(Integer... progress) 
                {

                }
                protected void onPostExecute(Long result) 
                {
                    Log.e("postexecute","onpostexecute");
                    if(strResponseReply.equals("zero")||jsonArray.length()==0)
                    {
                        Toast.makeText(ForumsDetailsActivity.this, "No forums found", Toast.LENGTH_SHORT).show();
                    }
                    try
                    {

                        lvPostReply.setAdapter(new ForumsReplyList(ForumsDetailsActivity.this,R.layout.forumreplyitem,strNickname,strPostTopic,strUserPicture,strAgo));
                    }
                    catch(Exception e)
                    {
                        pgrDialog.dismiss();
                    }
                    pgrDialog.dismiss();
                    Log.e("hi","hi");
                }
            } //closing BarPicsDoback process. 
```

请帮助我。在此先感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-19T07:05:47.427

您无法使用“json lint”检查 .NET Web 服务是否是正确的 Json

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-23T11:40:53.600

在您的异步类中使用此代码，您将获得响应

```
try
{
     response = httpclient.execute(httpget);
     Log.e("Response", "Status:[" + response.getStatusLine().toString() + "]");
     Log.e("check",DataUrls.replyforum+DataUrls.strForumId+"?type=application/json");
     HttpEntity entity = response.getEntity();

     if (entity != null) 
     {                                              
        InputStream instream = entity.getContent();
        strResponseReply = RestClient.convertStreamToString(instream);
        Log.i("Result", "Result of converstion: [" + strResponseReply + "]");
        instream.close();
        return result;
     }
 } 
catch (ClientProtocolException e) 
{
     Log.e("REST", "There was a protocol based error", e);
}
catch (IOException e) 
{
     Log.e("REST", "There was an IO Stream related error", e);
}              
} 
```

# sql - SQL 聚合输出

> ID：14411915
> 
> 赞同：-1
> 
> 时间：2013-01-19T06:53:21.050
> 
> 标签：sql, group-by

考虑下表作为对具有大约 1,00,000 条记录的多个表的复杂嵌套查询的输出，我将使用此查询作为子查询并将其命名为`People`我的主查询

```
 NAME    Age
    Dave    30
    Susan   32
    Susan   27
    Amy     22
    Amy     23
    Amy     20 
```

我希望上表的输出为

```
 NAME    Count1   Age
    Dave    1        30
    Susan   2        32
    Susan   2        27
    Amy     3        22
    Amy     3        23
    Amy     3        20 
```

通过我的查询`SELECT Name, COUNT(Name) AS Count1 FROM People group by Name` ，我得到的输出为：

```
 NAME    Count1
    Dave    3
    Susan   3
    Amy     3 
```

所以上面的查询必须修改......`People`是一个巨大的子查询，我不想在我的主 SQL 查询中多次使用它......

我是 SQL 新手，您的任何帮助都会非常有帮助...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-19T06:57:07.227

这应该这样做：

```
SELECT name,
   (SELECT count(*) FROM mytable t WHERE t.name = name) AS count1,
   age
FROM mytable 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-19T07:27:27.763

您可以像这样加入同一个表：

```
SELECT P.name, counts, age FROM People P
JOIN (SELECT Name, COUNT(NAME) AS COUNTS FROM People GROUP BY NAME) P1
ON P.Name = P1.Name; 
```

## [看到这个 SQLFiddle](http://sqlfiddle.com/#!2/d2f47/14)

# sql - SQL Server 2005 无法连接

> ID：14411918
> 
> 赞同：0
> 
> 时间：2013-01-19T06:53:31.457
> 
> 标签：sql, database, sql-server-2005

在我的在线数据库中，我将数据库置于离线状态并关闭 SQL Server。

现在我的数据库显示错误

> *登录失败*

但登录 ID 和密码正确，无法连接到数据库

请帮我重新连接，我使用的是 SQL Server 2005。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-19T06:59:00.473

当数据库处于脱机状态时，您将无法连接到数据库本身，但应该仍然能够连接到主数据库。关于您如何尝试访问它的问题尚不清楚，但例如：

```
USE [master] 
GO 
ALTER DATABASE [MyDB] SET ONLINE 
GO 
```

或者从 SQL Server Management Studio 中，您仍然应该能够连接到数据库服务器本身并在主数据库的上下文中执行第二个命令。

# php - 如何使用正则表达式格式化 ID？

> ID：14411920
> 
> 赞同：1
> 
> 时间：2013-01-19T06:53:43.007
> 
> 标签：php, regex

我有一组相当具有挑战性的要求。

我有一个包含各种数字、空格和字符组合的 ID，并且想使用正则表达式匹配和替换某些字符。

以下是要求：

1.  如果 ID 包含所有数字且没有字符，那么我们需要在第二个数字后插入一个空格。例如，假设 ID 为 12384499003833。在第二个数字后插入一个空格后，新值应为 12 384499003833。

2.  取相同的 ID 值 12384499003833，如果第 3 个字符是 D 或 N，则应该没有空格。该值应类似于：12* *N* *84499003833。

3.  再次以相同的值为例，如果第 10*和*第 11 个字符是 GG，则在 GG 之前插入 2 个空格。添加 2 个空格后，新值应类似于 123844990 * *GG* *833

4.  最后的要求：如果第3个字符是D或N，第10和11个字符是GG，第2个数字后面不能有空格，GG后面不能有2个空格。示例输出应类似于：12* *D* *844990 * *GG* *03833

我真的很抱歉，但我真的很难过。

非常感谢您的帮助。

这是输入值及其格式化输出值的表

```
Input            | Output
12384499003833   | 12 384499003833
12N84499003833   | 12N84499003833
12D84499003833   | 12D84499003833
123844990GG833   | 12 3844990  GG833
12N844990GG833   | 12N844990  GG833
12D844990GG833   | 12D844990  GG833

$tid = $_GET["tid"];

// Connect to SQL Server database
include("../connections/TDConnect.php");

$tsql = "SELECT * FROM TC(dtops.dbo.tSearch, Name, '\"$tid*\"')"; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-19T07:09:06.053

此正则表达式应与您的所有 ID 匹配（这是一个[演示](http://regexr.com?33f58)）

```
/(\d{2})([ND]?)(\d*)(GG[\d]*)?/ 
```

然后你可以通过组合这样的组来组成你的输出：

```
$pattern = "/(\d{2})([ND]?)(\d*)(GG[\d]*)?/";

function format($matches) {
  return $matches[1][0].(strlen($matches[2][0])>0?$matches[2][0]:" ").$matches[3][0].(strlen($matches[4][0])>0?"  ".$matches[4][0]:"");
}

//To Test this
preg_match_all($pattern, "12384499003833", $matches);
echo(format($matches)."<br/>");

preg_match_all($pattern, "12N84499003833", $matches);
echo(format($matches)."<br/>");

preg_match_all($pattern, "12D84499003833", $matches);
echo(format($matches)."<br/>");

preg_match_all($pattern, "123844990GG833", $matches);
echo(format($matches)."<br/>");

preg_match_all($pattern, "12N844990GG833", $matches);
echo(format($matches)."<br/>");

preg_match_all($pattern, "12D844990GG833", $matches);
echo(format($matches)."<br/>"); 
```

这输出：

```
12 384499003833
12N84499003833
12D84499003833
12 3844990 GG833
12N844990 GG833
12D844990 GG833 
```

或者您可以使用这种方法，它需要输出的 LTrim() 但完全使用正则表达式和替换（[demo](http://regexr.com?33f5b)）（请注意，这可能有点难以遵循）

```
$pattern = "/(\d{2})(\d+)(GG[\d]+)?|(\d{2})([ND])(\d+)(GG[\d]+)?/";
$replacement = "$1 $2$4$5$6  $7$3";

echo(ltrim(preg_replace($pattern, $replacement, "12384499003833"))."<br/>");
echo(ltrim(preg_replace($pattern, $replacement, "12N84499003833"))."<br/>");
echo(ltrim(preg_replace($pattern, $replacement, "12D84499003833"))."<br/>");
echo(ltrim(preg_replace($pattern, $replacement, "123844990GG833"))."<br/>");
echo(ltrim(preg_replace($pattern, $replacement, "12N844990GG833"))."<br/>");
echo(ltrim(preg_replace($pattern, $replacement, "12D844990GG833"))."<br/>"); 
```

这是输出：

```
12 384499003833
12N84499003833
12D84499003833
12 3844990 GG833
12N844990 GG833
12D844990 GG833 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-19T07:22:39.460

```
(\d{3})(\d{11} if match then replace with  $1 $2
(\d{2})([ND])(\d{6})GG(\d{3}) if match then replace with  $1$2$3 GG$4
(\d{2})(\d{1})(\d{6})GG(\d{3}) if match then replace with  $1 $3 GG$4 
```

**Very ugly und unelegant solution buth I belive it works.**

# ios - 它没有调用 NSObject 类

> ID：14411925
> 
> 赞同：1
> 
> 时间：2013-01-19T06:54:51.350
> 
> 标签：ios, objective-c, nsobject

我创建了简单的 NSObject 类来获取一些值。当我运行和构建应用程序时，我的应用程序没有出现任何错误。我尝试了很多时间来运行程序。我是目标c的初学者。

代码 ：：

```
#import "FibonachiNo.h"

@implementation FibonachiNo

- (NSArray *) fibonacci:(NSInteger) n {

    NSMutableArray *fib = [NSMutableArray array];

    int a = 0;
    int b = 1;
    int sum;
    int i;

    for (i=0; i<=n; i++)
    {
        [fib addObject:[NSNumber numberWithInt:a]];
        sum = a + b;
        a = b;
        b = sum;
    }

    return (NSArray *) fib;
}

- (NSInteger) factorial:(NSInteger) n {
    if ( n <= 1 )
        return 1;
    else
        return n * [self factorial:( n-1 )];
}

@end 
```

我的应用程序头类

```
#import <UIKit/UIKit.h>
#import "FibonachiNo.h"
@interface ViewController : UIViewController
@property FibonachiNo *myFibonachi;
@end 
```

调用 NSObject 类的方法 ::

```
 NSLog(@"fibonacci for 10 = %@", [myFibonachi fibonacci:10]);
  NSLog(@"10! = %d",[myFibonachi factorial:10]); 
```

这种调用方法有什么问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-19T07:03:03.760

首先分配初始化你的数组

```
#import "FibonachiNo.h"

@implementation FibonachiNo

- (NSArray *) fibonacci:(NSInteger) n {

    NSMutableArray *fib = [NSMutableArray alloc]init];

    int a = 0;
    int b = 1;
    int sum;
    int i;

    for (i=0; i<=n; i++)
    {
        [fib addObject:[NSNumber numberWithInt:a]];
        sum = a + b;
        a = b;
        b = sum;
    }

    return fib;
}

- (NSInteger) factorial:(NSInteger) n {
    if ( n <= 1 )
        return 1;
    else
        return n * [self factorial:( n-1 )];
}

@end 
```

调用 NSObject 类的方法 ::

在`ViewDidLoad`使用以下。

```
FibonachiNo *myFibonachi=[[FibonachiNo alloc]init];
  NSLog(@"fibonacci for 10 = %@", [myFibonachi fibonacci:10]);
  NSLog(@"10! = %d",[myFibonachi factorial:10]); 
```

如果您仍然遇到任何问题，请在此处显示您的 NSLog 输出。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-19T09:27:16.953

尝试使用

@synthesize *myFibonachi;

在 @implementation 下面的 ViewController.m 文件中

# google-drive-api - 如何在我的论坛中设置 Google Drive SDK API？

> ID：14411926
> 
> 赞同：1
> 
> 时间：2013-01-19T06:55:06.110
> 
> 标签：google-drive-api

您能告诉我如何设置 Google Drive SDK API，以便我可以使用 drive.google.com/uc?export=view&id={FileID} 从 Google Drive 获取图像到论坛吗？

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T00:44:07.120

对您的论坛更好的解决方案是使用 Google Drive 网站托管，使用 API，您可以将图像放在公共目录中，然后直接从您的论坛链接它们。

[在这里查看更多信息。](https://developers.google.com/drive/publish-site)

# javascript - 在 Titanium 中创建一个填充有动态按钮网格的可滚动视图

> ID：14411929
> 
> 赞同：0
> 
> 时间：2013-01-19T06:55:27.993
> 
> 标签：javascript, titanium, appcelerator

所以我想做的是：我正在从 sqlite db 加载数据并将其与 a 一起使用`while... isValidRow`来动态创建一组按钮，我设置了一个静态`top`和`left`（或右）。我发现如果我将所有按钮的父级设为 a`createView()`并将其设置`layout`为`horizontal`，这将创建一个漂亮的网格。

```
var brandView = Ti.UI.createView({  
    width: 100,
    height: 100,
    left: 0,
    layout: 'horizontal',
    textAlign: 'center'
});

while(rows.isValidRow()) {
     var dynamicButton = Ti.UI.createButton({
        width: 10,
        height: 10,
        top: 10,
        left: 10,
        title: rows.fieldByName('name');
    });
    view.add(dynamicButton);

    rows.next();
} 
```

我遇到的问题是，有时按钮的数量超过了一次在屏幕上显示的数量，因此按钮向下延伸到可见屏幕下方。因此，我将视图转到 a `createScrollView`，并且`layout`仍然设置为`horizontal`（或垂直），它现在将按钮并排放置，延伸到屏幕之外的一侧（失去网格位置）。所以我的问题是如何使视图可滚动并使按钮以网格样式形式出现？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-19T14:04:26.087

尝试这个。我认为这对你有帮助。

```
var brandView = Ti.UI.createScrollView({  
    height      : Ti.UI.FILL,
    width       : Ti.UI.FILL,
    contentHeight : "auto",
    backgroundColor : "transparent",
    layout      : "horizontal",
    horizontalBounce :false,
});

while(rows.isValidRow()) {
     var dynamicButton = Ti.UI.createButton({
        width: 10,
        height: 10,
        top: 10,
        left: 10,
        title: rows.fieldByName('name');
    });
    brandView.add(dynamicButton);

    rows.next();
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-19T14:28:14.983

将您的品牌视图嵌套在一个滚动视图中，否则它只会水平滚动，如果您希望您的按钮在屏幕中居中，请不要设置`left`属性，只需设置`top`属性即可。此外，`textAlign`对`Titanium.UI.View`.

这是一个填充整个屏幕、向网格添加按钮、居中并嵌套在滚动视图中的示例。

```
var scroller =  Ti.UI.createScrollView({
    height: Ti.UI.FILL,
    width: Ti.UI.FILL,
});
var brandView = Ti.UI.createView({  
    width: Ti.UI.FILL,
    height: Ti.UI.FILL,
    top: 0,
    layout: 'horizontal',
    textAlign: 'center'
});

while(rows.isValidRow()) {
     var dynamicButton = Ti.UI.createButton({
        width: 10,
        height: 10,
        top: 10,
        left: 10,
        title: rows.fieldByName('name');
    });
    view.add(dynamicButton);

    rows.next();
}

scroller.add(brandView); 
```

# python - 令人困惑的 Python OOP 继承

> ID：14411940
> 
> 赞同：0
> 
> 时间：2013-01-19T06:57:09.637
> 
> 标签：python

我是 Python 语言的新手。我只有10天的经验。当我开始学习时没有什么困难，但是当我到达“面向对象的概念”，尤其是“继承”时，它让我放慢了速度。

我的一些背景知识“继承是子类可以获得父类的所有特征和行为，换句话说 - 父类的数据和方法”。好的，我将展示使我与两个程序混淆的概念。他们都得到了相同的结果，所以为什么人们会做出不同的事情。

第一的：

```
class Parent():    
    parentdata = 0    
    def __init__(self):        
        pass    
    def getParentData(self):
        return Parent.parentdata
    def setParentData(self, setdata):
        Parent.parentdata = setdata

class Child(Parent):
    childdata = 0
    def __init__(self):
        pass
    def getChildData(self):
        return Child.childdata
    def setChildData(self, setdata):
        Child.childdata = setdata

child = Child()
print "Default Child's Data is :" + str(child.getChildData())#getting 0
child.setChildData(3)
print "After Adding Child's Data is :"+ str(child.getChildData()) # getting 3
print "Default Parent's Data is:"+ str(child.getParentData())# getting 0
child.setParentData(1)
print "After Adding Parent's Data is :"+str(child.getParentData())# getting 1 
```

第二：

```
class Parent():
    parentdata = 0
    def __init__(self):
        pass
    def getParentData(self):
        return Parent.parentdata
    def setParentData(self, setdata):
        Parent.parentdata = setdata

class Child(Parent):
    childdata = 0
    def __init__(self):
        #super(Child, self).__init__()
        #super(Child, self).__init__(self, self)
        Parent.__init__(self)
    def getChildData(self):
        return Child.childdata
    def setChildData(self, setdata):
        Child.childdata = setdata
child = Child()
print "Default Child's Data is :" + str(child.getChildData())#getting 0
child.setChildData(3)
print "After Adding Child's Data is :"+ str(child.getChildData()) # getting 3
print "Default Parent's Data is:"+ str(child.getParentData())# getting 0
child.setParentData(1)
print "After Adding Parent's Data is :"+str(child.getParentData())# getting 1 
```

也请指导我，如何使用`Super()`方法，例如`Parent.__init__(self)` Somebody used, Super method in there 和 some are doing as my way。我不清楚这两种不同。

在这两个程序中 - 我没有`__init__`用作构造函数。如果我要使用`__init__`as 将数据添加到类的数据（子数据，父数据）中，我如何在`Parent.__init__(self)`它们的`def __init__(self):`方法中插入参数？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-19T07:36:15.447

您的示例似乎按预期运行。您已经使用类级别数据设置了两个类——也就是说，每个父级将共享相同的 parentData 值，每个子级将共享相同的 childData 值。由于您的方法名称未共享，因此您的“子”实例的行为将独立于“父”，除非在子上调用 setParentData 会将值推送到所有父的状态 - 但*不是*所有子的状态。

更常见的示例如下所示：

```
class Parent(object):
     shared_state = 0

     def __init__(self):
         self.private_state = 1

     def get_shared(self):
         return self.shared_state

     def get_private(self)
         return self.private_state

class Child(Parent):
    shared_state = 2

    def __init__(self):
        Parent.__init__(self)
        self.private_state = 3 
        #in this case calling the Parent constructor is not really needed but it's good practice

 p = Parent()
 p.get_shared()
 > 0
 p.get_private()
 > 1

 new_p = Parent()
 new_p.get_shared()
 > 0

 c = Child()
 c.get_shared()
 > 2
 c.get_private()
 > 3 
```

在这个例子中，所有的父母共享变量“shared_state”——但每个人都有自己的 private_state 副本，独立于其他父母。同样，每个 Child 共享 Child 的 shared_state 的副本——这与 Parent 的共享状态不同。

本质上，当子类中出现相同的名称（对于类变量，如 shared_state）或方法（如 get_private 或 get_shared）时，它会覆盖原始版本。这就是为什么在 Child 上调用 get_shared() 会返回 2，即 Child.shared_state。在您的原始代码中，您从 Chold 显式调用 Parent.parentData，因此您从 Parent 获得了值。

继承背后的核心思想是让共享通用功能变得容易，并且只针对特定需求编写新的类或方法：

```
class Vehicle(object):
    def __init__(self, name, passengers):
       self.Passengers = passengers
       self.Name = name

    def go(self):
       print "%n is going with  %i passengers" % (self.Name, self.Passengers)

    def get_name(self):
       print self.Name

class Car(Vehicle):
    def go(self):
       print "%n is driving along with  %i passengers" % (self.Name, self.Passengers)

class Boat(Vehicle):
    def go(self):
       print "%n is sailing along with  %i passengers" % (self.Name, self.Passengers)

class Truck(Car):
    def deliver(self):
        print "%n is delivering cargo" % self.Name 
```

在这里，子类都可以“运行”，但它们以不同的方式进行——好处是使用它们的代码不需要知道它们是什么，它只是调用它们，它们以自己的方式运行。卡车像汽车一样“行驶”，并且有一种船和汽车没有的交付方法。所有的类都共享“get_name”方法，因此不必重写——它在所有派生类中都是免费的。因此，如您所见，您可以共享函数和数据，将它们替换为具有相同名称的不同函数或数据（因此外部代码可以以相同的方式获取它们）或添加新函数和数据。

您可能想查看[Head First Python](http://www.headfirstlabs.com/books/hfpython/)以更全面地介绍这些想法。当然，这里有很多关于 SO 的内容。

# sql-server - 在 SQL 表的列中查找重复值时，将 COUNT 列增加 1

> ID：14411941
> 
> 赞同：1
> 
> 时间：2013-01-19T06:57:18.180
> 
> 标签：sql-server, duplicates, auto-increment

在遍历 sql 列时，如果我们发现重复值，那么我们需要从 1 开始递增计数。

与“Filenum”列中的原始值匹配的任何值。

**它应该在输出上看起来像这样。**

```
-------------------------------
| FILENUM coulmn | num column | 
| a              |          1 |
| a              |          2 |
| a              |          3 |
| b              |          1 |
| b              |          2 |
| c              |          1 |
| d              |          1 |
| a              |          4 |
| b              |          3 | 
------------------------------- 
```

您可以建议的任何解决方案..如果可以避免 row_number() 之类的功能会更好..谢谢 adv

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-11-25T12:08:53.597

您可以使用序列表来获取每个重复项的递增数字。序列表有一个字段，其递增数字可以达到您认为需要的最大值。

我通常会创建一个包含一百万行的序列表以供一般使用，在您的情况下，您只需要与重复项一样多的行；对于这个例子，我们将只添加 100 行：

```
CREATE TABLE dbo.Sequence
(
    seq_nbr INT NOT NULL,
    CONSTRAINT PK$Sequence
        PRIMARY KEY CLUSTERED (seq_nbr)
        WITH FILLFACTOR = 100,
    CONSTRAINT Sequence$seq_nbr$positive CHECK (seq_nbr > 0)
)
GO
INSERT INTO dbo.Sequence (seq_nbr)
SELECT ten * 10 + unit + 1
FROM (VALUES (0),(1),(2),(3),(4),(5),(6),(7),(8),(9)) AS Units(unit)
     CROSS JOIN
     (VALUES (0),(1),(2),(3),(4),(5),(6),(7),(8),(9)) AS Tens(ten) 
```

使用序列表将其与表交叉连接以获取重复计数器：

```
SELECT  letter
       ,seq_nbr 
FROM    dbo.Sequence
       ,dbo.Duplicates
GROUP BY letter
       ,seq_nbr 
HAVING  seq_nbr <= COUNT(letter) 
```

给出结果：

```
letter seq_nbr 
------ -------
a            1
a            2
a            3
a            4
b            1
b            2
b            3
c            1
d            1 
```

这是一个显示结果的[SQL Fiddle 。](http://sqlfiddle.com/#!3/d8282/1)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-19T09:11:42.427

鉴于您不想在 SQL Server 中使用`Row_Number()`或`Dense_Rank()`，那么您可能需要

*   使用自动增量将当前数据拉入临时表

*   然后从那里获取每个值的运行总计

否则，这可以被操纵到 SQL 服务器中：

```
set @rno:=0; set @names:='';
select @rno:=case when @names<>names then  1
else @rno+1 end as rno, @names:=names as names
from demo order by names; 
```

预期输出：

```
rno   names
1       a             -- '' <> a , rno = 1
2       a             -- a = a, rno = 1 + 1 so on...
3       a
4       a
1       b
2       b
1       c
1       d 
```

在 SQLFIDDLE 上试用过，它可以工作:)

*   ## [SQLFIDDLE 演示](http://sqlfiddle.com/#!2/7659e/5)

# c++ - 头文件层次结构中的外部变量

> ID：14411942
> 
> 赞同：0
> 
> 时间：2013-01-19T06:57:20.487
> 
> 标签：c++, extern

为什么我不能访问 file.cpp 文件中定义的变量值。假设它与主要链接。棘手的部分是变量值被间接包含。主函数包括 header1.h，它反过来包括 file.h，其变量值为 extern。外部可以像这样在标头链中传播

1) 文件.h

```
extern int value; 
```

2）文件.cpp

```
#include "file.h"
int value = 25; 
```

3) header1.h

```
#include "file.h"
const int const_value = 100; 
```

4) main.cpp

```
#include "header1.h"
int main(char *argv[], int args) {
int result = value*10;      
    return result;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-19T06:59:24.107

是的，`extern`可以通过这种方式传播。编译器只需要看到变量是`extern`在使用点声明的，通过哪个头文件都没有关系。头文件的内容只是由预处理器粘贴在源文件的顶部。所以编译器甚至不知道头文件。

但是，最好将编译源文件所需的所有头文件都包含在该头文件中。维护这样的代码要容易得多。

简单地说，包括在内`file.h`，`main.cpp`它对于你的代码的读者来说会更加直观。

# class - 扩展抽象类在访问变量时会出现奇怪的错误

> ID：14411945
> 
> 赞同：1
> 
> 时间：2013-01-19T06:58:04.143
> 
> 标签：class, php

所以伙计们，我有这个基本结构：

```
interface IModule {
    public function _prepareActionObj ();
}

abstract class Module implements IModule {

    private $_action = null,

            $_actionObj = null,

            $_actionHandlers = array();

    public function __construct() {
        $this->_action = GetParamDefault('action', '');
        $this->_prepareActionObj();
    }

    private function _prepareActionObj () {
        $this->_actionObj = new $this->_actionHandlers[$this->_action]();
    }

} 
```

到目前为止没有什么奇怪的。但是当我这样做时：

```
 class AdminHomeModule extends Module {
     private
         $_actionHandlers = array(
             '' => 'AdminModuleHomeAction'
         );
 } 
```

并创建 AdminHomeModule 的新实例我收到此错误

```
Undefined index: on line 22 in ....\interfaces\IModule.php 
```

这正是

```
$this->_actionObj = new $this->_actionHandlers[$this->_action](); 
```

当我在模块构造函数中转储 $this 时，我得到了这个

```
AdminHomeModule Object
(
    [_actionHandlers:AdminHomeModule:private] => Array
        (
            [] => AdminModuleHomeAction
        )

    [_action:Module:private] => 
    [_actionObj:Module:private] => 
    [_actionHandlers:Module:private] => Array
        (
        )

) 
```

正如你们所看到的，我得到了两个 _actionHandlers 实例，一个用于父类，一个来自当前扩展 Module 的类。我不明白为什么我有两个 _actionHandlers？在子类中声明它时我不应该覆盖它，因为现在 _prepareActionObject 正在寻找错误的位置，我得到了这个讨厌的错误......

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-19T07:10:33.750

这是预期的行为。类`private`初始值设定项意味着只**允许**该类访问此属性。如果类是 ，这不会改变`abstract`。

您可以做的是将抽象类初始化程序和继承类声明为受保护，这样所有继承类都将能够访问相同的属性。

```
abstract class Module implements IModule {

    protected $_action = null,

            $_actionObj = null,

            $_actionHandlers = array();

    public function __construct() {
        $this->_action = GetParamDefault('action', '');
        $this->_prepareActionObj();
    }

    private function _prepareActionObj () {
        $this->_actionObj = new $this->_actionHandlers[$this->_action]();
    }

}

class AdminHomeModule extends Module {
    proteced
        $_actionHandlers = array(
            '' => 'AdminModuleHomeAction'
        );
} 
```

**编辑**：我的错误，我在没有正确审查代码的情况下给出了建议......

[*编辑了这里的内容*]

# spring-security - 对谷歌应用托管域使用 spring security + openid 的示例

> ID：14411948
> 
> 赞同：2
> 
> 时间：2013-01-19T06:58:38.740
> 
> 标签：spring-security, openid

任何人都可以帮我找到使用谷歌应用托管域的spring security + openid的示例（对于特定域，即谷歌为组织提供的服务）。

我发现了许多与 openid 相关的示例并研究了这些示例，但我希望特定于一个域来开发应用程序。

# c++ - 如何引导我的 imageMagick 支持 wmf 格式（windows）？

> ID：14411957
> 
> 赞同：0
> 
> 时间：2013-01-19T06:59:35.357
> 
> 标签：c++, format, imagemagick, wmf, magick++

我在 Windows 中使用 Magick++ api。当我读取 wmf 文件时，我的程序崩溃了。问题是我的 imageMagick 不支持 wmf 格式？有人可以教我如何引导我的 imageMagick 支持 wmf 格式吗？

# php - 如何在 PHP 中为 NuSOAP 显式设置参数类型

> ID：14411959
> 
> 赞同：2
> 
> 时间：2013-01-19T07:00:20.890
> 
> 标签：php, soap, wsdl, nusoap

使用 NuSOAP 进行 SOAP 调用时，我遇到了 SOAP 错误：

***{http://www.w3.org/2001/XMLSchema}anyType 没有反序列化器***

请求如下所示：

```
<SOAP-ENV:Envelope SOAP-ENV:encodingStyle="http://schemas.xmlsoap.org/soap/encoding/" xmlns:SOAP-ENV="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:SOAP-ENC="http://schemas.xmlsoap.org/soap/encoding/" xmlns:impl="http://rtw.dncrtelem" xmlns:arr="http://schemas.microsoft.com/2003/10/Serialization/Arrays">
  <SOAP-ENV:Body>
    <impl:WashNumbers xmlns:impl="http://rtw.dncrtelem">
      <TelemarketerId xsi:type="xsd:string">****</TelemarketerId>
      <WashOnlyUserId xsi:type="xsd:string">****</WashOnlyUserId>
      <TelemarketerPassword xsi:type="xsd:string">****</TelemarketerPassword>
      <ClientReferenceId xsi:type="xsd:string">****</ClientReferenceId>
      <NumbersToWash xsi:type="SOAP-ENC:Array" SOAP-ENC:arrayType="xsd:anyType[2]">
        <item xsi:type="xsd:anyType">1234567890</item>
        <item xsi:type="xsd:anyType">0987654321</item>
      </NumbersToWash>
    </impl:WashNumbers>
  </SOAP-ENV:Body>
</SOAP-ENV:Envelope> 
```

如果我将请求粘贴到soapUI 并将“item”的类型从“xsd:anyType”更改为“xsd:string”，那么它工作正常。例如

```
<SOAP-ENV:Envelope SOAP-ENV:encodingStyle="http://schemas.xmlsoap.org/soap/encoding/" xmlns:SOAP-ENV="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:SOAP-ENC="http://schemas.xmlsoap.org/soap/encoding/" xmlns:impl="http://rtw.dncrtelem" xmlns:arr="http://schemas.microsoft.com/2003/10/Serialization/Arrays">
  <SOAP-ENV:Body>
    <impl:WashNumbers xmlns:impl="http://rtw.dncrtelem">
      <TelemarketerId xsi:type="xsd:string">****</TelemarketerId>
      <WashOnlyUserId xsi:type="xsd:string">****</WashOnlyUserId>
      <TelemarketerPassword xsi:type="xsd:string">****</TelemarketerPassword>
      <ClientReferenceId xsi:type="xsd:string">****</ClientReferenceId>
      <NumbersToWash xsi:type="SOAP-ENC:Array" SOAP-ENC:arrayType="xsd:anyType[2]">
        <item xsi:type="xsd:string">1234567890</item>
        <item xsi:type="xsd:string">0987654321</item>
      </NumbersToWash>
    </impl:WashNumbers>
  </SOAP-ENV:Body>
</SOAP-ENV:Envelope> 
```

在构造我的 SOAP 调用时，如何显式设置它的类型？已搜索但似乎无法找到解决方案。

这是我的 PHP 代码：

```
include_once('lib/nusoap.php');

$client = new nusoap_client('https://www.donotcall.gov.au/dncrtelem/rtw/washing.cfc?wsdl', 'wsdl');

$err = $client->getError();
if($err){
    // Error handling here
} else {
    $client->setUseCurl(true);
    $client->soap_defencoding = 'UTF-8';
    $params = array('TelemarketerId'=>'****', 'WashOnlyUserId'=>'****', 'TelemarketerPassword'=>'****', 'ClientReferenceId'=>'****', 'NumbersToWash'=>array('1234567890','0987654321'));
    $result = $client->call('WashNumbers', $params);

    if ($client->fault) {
        // Fault handling here
    } else {
        $err = $client->getError();     
        if ($err) {
            // Error handling here
        } else {
            print_r($result);
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-21T02:24:52.963

我能够使用“soapval”解决此问题，代码更改如下：

```
$numbers = array('1234567890','0987654321');
$sv1 = array();
foreach ($numbers as $index => $number) {
    $sv1[] = new soapval('Number', 'xsd:string', $number);
}
$params = array('TelemarketerId'=>'****', 'WashOnlyUserId'=>'****', 'TelemarketerPassword'=>'****', 'ClientReferenceId'=>'****', 'NumbersToWash'=>$sv1); 
```

# windows - 使用 GLUT 和 MinGW 的未定义引用

> ID：14411960
> 
> 赞同：9
> 
> 时间：2013-01-19T07:01:20.500
> 
> 标签：windows, opengl, mingw, glut, static-linking

下面显示的初始命令在编译用 C 编写的 OpenGL 程序时会产生以下错误。

```
C:\Users\razz\Desktop>gcc -Wall -ofoo mycube.c -lglut32cu -lglu32 -lopengl32
C:\Users\razz\AppData\Local\Temp\ccs833b1.o:mycube.c:(.text+0x1c): undefined reference to `__glutInitWithExit'
C:\Users\razz\AppData\Local\Temp\ccs833b1.o:mycube.c:(.text+0x37): undefined reference to `__glutCreateWindowWithExit'
C:\Users\razz\AppData\Local\Temp\ccs833b1.o:mycube.c:(.text+0x52): undefined reference to `__glutCreateMenuWithExit'
C:\Users\razz\AppData\Local\Temp\ccs833b1.o:mycube.c:(.text+0x66): undefined reference to `_imp__glClear'
C:\Users\razz\AppData\Local\Temp\ccs833b1.o:mycube.c:(.text+0x6d): undefined reference to `_imp__glLoadIdentity'
C:\Users\razz\AppData\Local\Temp\ccs833b1.o:mycube.c:(.text+0x9e): undefined reference to `_imp__glRotatef'
C:\Users\razz\AppData\Local\Temp\ccs833b1.o:mycube.c:(.text+0xcf): undefined reference to `_imp__glRotatef'
C:\Users\razz\AppData\Local\Temp\ccs833b1.o:mycube.c:(.text+0xdd): undefined reference to `_imp__glBegin'
C:\Users\razz\AppData\Local\Temp\ccs833b1.o:mycube.c:(.text+0xfe): undefined reference to `_imp__glColor3f'
C:\Users\razz\AppData\Local\Temp\ccs833b1.o:mycube.c:(.text+0x11f): undefined reference to `_imp__glVertex3f'
C:\Users\razz\AppData\Local\Temp\ccs833b1.o:mycube.c:(.text+0x140): undefined reference to `_imp__glColor3f'
C:\Users\razz\AppData\Local\Temp\ccs833b1.o:mycube.c:(.text+0x161): undefined reference to `_imp__glVertex3f'
C:\Users\razz\AppData\Local\Temp\ccs833b1.o:mycube.c:(.text+0x182): undefined reference to `_imp__glColor3f'
C:\Users\razz\AppData\Local\Temp\ccs833b1.o:mycube.c:(.text+0x1a3): undefined reference to `_imp__glVertex3f'
C:\Users\razz\AppData\Local\Temp\ccs833b1.o:mycube.c:(.text+0x1c4): undefined reference to `_imp__glColor3f'
C:\Users\razz\AppData\Local\Temp\ccs833b1.o:mycube.c:(.text+0x1e5): undefined reference to `_imp__glVertex3f'
C:\Users\razz\AppData\Local\Temp\ccs833b1.o:mycube.c:(.text+0x1ec): undefined reference to `_imp__glEnd'
C:\Users\razz\AppData\Local\Temp\ccs833b1.o:mycube.c:(.text+0x1fa): undefined reference to `_imp__glBegin'
C:\Users\razz\AppData\Local\Temp\ccs833b1.o:mycube.c:(.text+0x21b): undefined reference to `_imp__glColor3f'
C:\Users\razz\AppData\Local\Temp\ccs833b1.o:mycube.c:(.text+0x23c): undefined reference to `_imp__glVertex3f'
C:\Users\razz\AppData\Local\Temp\ccs833b1.o:mycube.c:(.text+0x25d): undefined reference to `_imp__glVertex3f'
C:\Users\razz\AppData\Local\Temp\ccs833b1.o:mycube.c:(.text+0x27e): undefined reference to `_imp__glVertex3f'
C:\Users\razz\AppData\Local\Temp\ccs833b1.o:mycube.c:(.text+0x29f): undefined reference to `_imp__glVertex3f'
C:\Users\razz\AppData\Local\Temp\ccs833b1.o:mycube.c:(.text+0x2a6): undefined reference to `_imp__glEnd'
C:\Users\razz\AppData\Local\Temp\ccs833b1.o:mycube.c:(.text+0x2b4): undefined reference to `_imp__glBegin'
C:\Users\razz\AppData\Local\Temp\ccs833b1.o:mycube.c:(.text+0x2d5): undefined reference to `_imp__glColor3f'
C:\Users\razz\AppData\Local\Temp\ccs833b1.o:mycube.c:(.text+0x2f6): undefined reference to `_imp__glVertex3f'
C:\Users\razz\AppData\Local\Temp\ccs833b1.o:mycube.c:(.text+0x317): undefined reference to `_imp__glVertex3f'
C:\Users\razz\AppData\Local\Temp\ccs833b1.o:mycube.c:(.text+0x338): undefined reference to `_imp__glVertex3f'
C:\Users\razz\AppData\Local\Temp\ccs833b1.o:mycube.c:(.text+0x359): undefined reference to `_imp__glVertex3f'
C:\Users\razz\AppData\Local\Temp\ccs833b1.o:mycube.c:(.text+0x360): undefined reference to `_imp__glEnd'
C:\Users\razz\AppData\Local\Temp\ccs833b1.o:mycube.c:(.text+0x36e): undefined reference to `_imp__glBegin'
C:\Users\razz\AppData\Local\Temp\ccs833b1.o:mycube.c:(.text+0x38f): undefined reference to `_imp__glColor3f'
C:\Users\razz\AppData\Local\Temp\ccs833b1.o:mycube.c:(.text+0x3b0): undefined reference to `_imp__glVertex3f'
C:\Users\razz\AppData\Local\Temp\ccs833b1.o:mycube.c:(.text+0x3d1): undefined reference to `_imp__glVertex3f'
C:\Users\razz\AppData\Local\Temp\ccs833b1.o:mycube.c:(.text+0x3f2): undefined reference to `_imp__glVertex3f'
C:\Users\razz\AppData\Local\Temp\ccs833b1.o:mycube.c:(.text+0x413): undefined reference to `_imp__glVertex3f'
C:\Users\razz\AppData\Local\Temp\ccs833b1.o:mycube.c:(.text+0x41a): undefined reference to `_imp__glEnd'
C:\Users\razz\AppData\Local\Temp\ccs833b1.o:mycube.c:(.text+0x428): undefined reference to `_imp__glBegin'
C:\Users\razz\AppData\Local\Temp\ccs833b1.o:mycube.c:(.text+0x449): undefined reference to `_imp__glColor3f'
C:\Users\razz\AppData\Local\Temp\ccs833b1.o:mycube.c:(.text+0x46a): undefined reference to `_imp__glVertex3f'
C:\Users\razz\AppData\Local\Temp\ccs833b1.o:mycube.c:(.text+0x48b): undefined reference to `_imp__glVertex3f'
C:\Users\razz\AppData\Local\Temp\ccs833b1.o:mycube.c:(.text+0x4ac): undefined reference to `_imp__glVertex3f'
C:\Users\razz\AppData\Local\Temp\ccs833b1.o:mycube.c:(.text+0x4cd): undefined reference to `_imp__glVertex3f'
C:\Users\razz\AppData\Local\Temp\ccs833b1.o:mycube.c:(.text+0x4d4): undefined reference to `_imp__glEnd'
C:\Users\razz\AppData\Local\Temp\ccs833b1.o:mycube.c:(.text+0x4e2): undefined reference to `_imp__glBegin'
C:\Users\razz\AppData\Local\Temp\ccs833b1.o:mycube.c:(.text+0x503): undefined reference to `_imp__glColor3f'
C:\Users\razz\AppData\Local\Temp\ccs833b1.o:mycube.c:(.text+0x524): undefined reference to `_imp__glVertex3f'
C:\Users\razz\AppData\Local\Temp\ccs833b1.o:mycube.c:(.text+0x545): undefined reference to `_imp__glVertex3f'
C:\Users\razz\AppData\Local\Temp\ccs833b1.o:mycube.c:(.text+0x566): undefined reference to `_imp__glVertex3f'
C:\Users\razz\AppData\Local\Temp\ccs833b1.o:mycube.c:(.text+0x587): undefined reference to `_imp__glVertex3f'
C:\Users\razz\AppData\Local\Temp\ccs833b1.o:mycube.c:(.text+0x58e): undefined reference to `_imp__glEnd'
C:\Users\razz\AppData\Local\Temp\ccs833b1.o:mycube.c:(.text+0x595): undefined reference to `_imp__glFlush'
C:\Users\razz\AppData\Local\Temp\ccs833b1.o:mycube.c:(.text+0x59c): undefined reference to `glutSwapBuffers'
C:\Users\razz\AppData\Local\Temp\ccs833b1.o:mycube.c:(.text+0x617): undefined reference to `glutPostRedisplay'
C:\Users\razz\AppData\Local\Temp\ccs833b1.o:mycube.c:(.text+0x645): undefined reference to `glutInitDisplayMode'
C:\Users\razz\AppData\Local\Temp\ccs833b1.o:mycube.c:(.text+0x65d): undefined reference to `_imp__glEnable'
C:\Users\razz\AppData\Local\Temp\ccs833b1.o:mycube.c:(.text+0x66c): undefined reference to `glutDisplayFunc'
C:\Users\razz\AppData\Local\Temp\ccs833b1.o:mycube.c:(.text+0x678): undefined reference to `glutSpecialFunc'
C:\Users\razz\AppData\Local\Temp\ccs833b1.o:mycube.c:(.text+0x67d): undefined reference to `glutMainLoop'
collect2: ld returned 1 exit status 
```

我知道这个问题之前在题为“使用 GLUT 的未定义引用”和“GLUT 程序链接错误”的线程中被问过。

不幸的是，他们的大部分行话都在我之上，所以我不太确定如何应用他们的解决方案。其次，考虑到数十种可能的配置取决于操作系统、编译器、GLUT 版本等，我什至不确定他们的情况是否与我的情况有关。这是我的场景：

*   使用 Windows 7 x64*   使用此处提供的 GLUT：http: [//www.prinmath.com/csci5229/misc/install.html](http://www.prinmath.com/csci5229/misc/install.html)（下载链接是“我的 GLUT 版本”）*   如果您关心，C 程序是[http://www.wikihow.com/Make-a-Cube-in-OpenGL中给出的程序](http://www.wikihow.com/Make-a-Cube-in-OpenGL)*   我安装了 MinGW，并且“gcc”命令有效；我已经成功编译了一个简单的“Hello World”C 程序*   头文件位于 C:\MinGW\include\GL\glut.h*   我将 glut32.dll 放在 C:\Windows\system32 和 C:\Windows\SysWOW64*   libglut32cu.a 位于 C:\MinGW\lib、C:\MinGW\usr\lib、C:\MinGW\usr\lib64 中。从技术上讲，我知道它只需要一个，但我尝试了所有三个，希望其中一个可以工作。前面提到的 PrinMath 站点上的说明建议尝试后两个文件夹，当我出现错误时。他还建议使用“-L 标志告诉链接器它在哪里”。所以我尝试在命令提示符下输入这个：

    ```
    gcc -Wall -ofoo mycube.c -L"C:\MinGW\lib" -lglut32cu -lglu32 -lopengl32 
    ```

    不幸的是，结果是一样的。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-19T12:44:05.917

在源文件 mycube.c 的顶部，您必须包含

```
#include<windows.h> 
```

或包括

```
#include<GL/gl.h> or #include<GL/glu.h> 
```

然后编译你的代码就不会出现这种类型的错误。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-01-19T08:16:20.980

您下载的 glut 库是为 32 位程序构建的。看起来您的 MinGW 正在为 64 位目标构建，它使用与 32 位不同的名称（并且无论如何都不兼容）。

尝试添加 -m32 选项以使 MinGW 构建 32 位程序：

```
gcc -m32 -Wall -ofoo mycube.c -L"C:\MinGW\lib" -lglut32cu -lglu32 -lopengl32 
```

请注意，mt 64 位 MinGW 编译器（来自[http://tdm-gcc.tdragon.net/download](http://tdm-gcc.tdragon.net/download)的 gcc 版本 4.6.1 (tdm64-1) ）提供了有关此问题的小线索：

```
ld.exe: skipping incompatible .\glut32\lib/libglut32cu.a when searching for -lglut32cu
ld.exe: cannot find -lglut32cu 
```

# sql-server-2008 - 如何在sqlserver中添加时间？

> ID：14411961
> 
> 赞同：0
> 
> 时间：2013-01-19T07:01:35.487
> 
> 标签：sql-server-2008

我有两个名为 Time_In 和 Grace_Time 的列，它们是时间格式。我想添加这两列。我使用了“+”运算符，但它不起作用。我收到这样的错误

```
Operand data type time is invalid for add operator. 
```

我该怎么做？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-19T07:13:10.757

您需要在添加之前将它们转换为日期时间

```
CAST(Time_In AS DATETIME) + CAST(Grace_Time AS DATETIME) 
```

# php - PDO 和类给出致命错误：调用成员函数 query()

> ID：14411963
> 
> 赞同：0
> 
> 时间：2013-01-19T07:01:51.623
> 
> 标签：php, mysql, class, pdo

我在使用以下代码获取数据库查询时遇到了一些麻烦。我是第一次使用类甚至 PDO 进行连接，所以不知道出了什么问题。据你所知，我不是那么熟练，但我正在努力学习课程，所以如果你能告诉我是否有什么可以改进的，我将不胜感激。

错误消息：致命错误：在 C:\ pat \ to\ class.php 的第 72 行调用非对象上的成员函数 query()

```
<?php

    // get database connection
    private static function _db_connect() {

        try {

            $db_con = new PDO('mysql:host='.$db_host.';dbname='.$db_name, $db_user, $db_pass);
            $db_con = null;

        } catch (PDOException $e) {

            print "Error!" . $e->getMessage(). "<br/>";

        }

    }

    // get database tables prefix
    public static function prefix() {

        $prefix = 'tb_'; // once done will be set dynamically

        return $prefix;
    }

    // get all users from db
    public static function get_users() {

        $db = self::_db_connect();
        $prf = self::prefix();

        $st = $db->query('SELECT * FROM '.$prf.'users'); // this is the line #72 where error

        while($row = $st->fetch(PDO::FETCH_ASSOC))
         $rs[] = $row;

        return count($rs) ? $rs : array();

    }    

?> 
```

**编辑：我在这里删除 null 并返回 PDO 对象**

```
 // get database connection
    private static function _db_connect() {

        try {

            $db_con = new PDO('mysql:host='.$db_host.';dbname='.$db_name, $db_user, $db_pass);
            return $db_con;

        } catch (PDOException $e) {

            print "Error!" . $e->getMessage(). "<br/>";

        }

    }

    // get database tables prefix
    public static function prefix() {

        $prefix = 'tb_'; // once done will be set dynamically

        return $prefix;
    }

    // get all users from db
    public static function get_users() {

        $db = self::_db_connect();
        $prf = self::prefix();

        $st = $db->query('SELECT * FROM '.$prf.'users'); // this is the line #72 where error

        while($row = $st->fetch(PDO::FETCH_ASSOC))
         $rs[] = $row;

        return count($rs) ? $rs : array();

    }    

?> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-19T07:09:36.263

你没有从你的`db_connect`方法返回任何东西，所以它`NULL`默认返回。本质上，您正在尝试调用 ，`NULL->query()`这显然没有意义。

修改`db_connect`以返回它创建的 PDO 对象。

# php - 如何在最新版本的codeigniter中集成tinymce

> ID：14411964
> 
> 赞同：3
> 
> 时间：2013-01-19T07:01:54.470
> 
> 标签：php, codeigniter, tinymce

我正在codeigniter中构建一个Web应用程序，因为我需要集成tinymce，我尝试使用以下代码但它不工作可以有人说代码有什么问题

我创建了一个名为 tinymce.php 的视图页面

```
 <script type="text/javascript" src="<?php echo $base_url; ?>js/tiny_mce/tiny_mce.js"></script>
<script type="text/javascript">
tinyMCE.init({
// General options
mode : "textareas",
theme : "advanced",
plugins : "safari,spellchecker,pagebreak,style,layer,table,save,advhr,advimage,advlink,emotions,iespell,inlinepopups,insertdatetime,preview,media,searchreplace,print,contextmenu,paste,directionality,fullscreen,noneditable,visualchars,nonbreaking,xhtmlxtras,template,imagemanager,filemanager",

// Theme options
theme_advanced_buttons1 : "save,newdocument,|,bold,italic,underline,strikethrough,|,justifyleft,justifycenter,justifyright,justifyfull,|,styleselect,formatselect,fontselect,fontsizeselect",
theme_advanced_buttons2 : "cut,copy,paste,pastetext,pasteword,|,search,replace,|,bullist,numlist,|,outdent,indent,blockquote,|,undo,redo,|,link,unlink,anchor,image,cleanup,help,code,|,insertdate,inserttime,preview,|,forecolor,backcolor",
theme_advanced_buttons3 : "tablecontrols,|,hr,removeformat,visualaid,|,sub,sup,|,charmap,emotions,iespell,media,advhr,|,print,|,ltr,rtl,|,fullscreen",
theme_advanced_buttons4 : "insertlayer,moveforward,movebackward,absolute,|,styleprops,spellchecker,|,cite,abbr,acronym,del,ins,attribs,|,visualchars,nonbreaking,template,blockquote,pagebreak,|,insertfile,insertimage",
theme_advanced_toolbar_location : "top",
theme_advanced_toolbar_align : "left",
theme_advanced_statusbar_location : "bottom",
theme_advanced_resizing : true,

// Drop lists for link/image/media/template dialogs
template_external_list_url : "js/template_list.js",
external_link_list_url : "js/link_list.js",
external_image_list_url : "js/image_list.js",
media_external_list_url : "js/media_list.js"
});
</script> 
```

还添加了文本框以显示tinymce

```
 <form method="post" action="somepage">
<textarea name="content" style="width:100%">
</textarea>
</form> 
```

然后尝试加载视图

```
$this->load->view('tinymce', base_url(), true); 
```

该代码不仅可以工作，而且也不会显示我的文本区域。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-19T08:25:44.403

您的代码存在缺陷：

1.  $this->load->view() 在您仅传递 base_url 值时接受第二个参数作为数组。

2.  $this->load->view() 函数的第三个参数中的 true 不会将输出发送到浏览器，因此请将其留空。

3.  确保您的 js 路径在下拉列表代码中是正确的，似乎您已将 js 放在应用程序内的视图文件夹中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T07:03:00.000

在视图文件本身中编写您的 javascript 代码。或者干脆把它写在单独的 js 文件（tinymce_properties.js）中，并在 tiny_mce.js 之后包含它

```
<script type="text/javascript" src="js/tiny_mce/tiny_mce.js"></script>
<script type="text/javascript" src="js/tiny_mce/tinymce_properties.js"></script>

<form method="post" action="somepage">
<textarea name="content" style="width:100%">
</textarea>
</form> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-02-14T07:51:01.150

确保您加载的所有插件都存在

试试这个 ->> plugins : 'advlist autolink link image listscharmap print preview',

如果它有效，那么您的声明中没有所有插件 ->> 插件：“safari,spellchecker,pagebreak,style,layer,table,save,advhr,advimage,advlink,emotions,iespell,inlinepopups,insertdatetime,preview,media ,搜索替换,打印,上下文菜单,粘贴,方向性,全屏,不可编辑,visualchars,不间断,xhtmlxtras,模板,图像管理器,文件管理器",

# version-control - 如何解决 CVS 的冲突目录？

> ID：14411971
> 
> 赞同：0
> 
> 时间：2013-01-19T07:02:38.380
> 
> 标签：version-control, merge, cvs, conflict

如何解决 CVS 的冲突目录？

情况是我在 CVS 工作副本下创建了一些新的子目录：

```
workingCopy/subdir1/
workingCopy/subdir1/file11
workingCopy/subdir2/
workingCopy/subdir2/file2 
```

然后在我提交这些之前，其他人提交了

```
workingCopy/subdir1/
workingCopy/subdir1/file12
workingCopy/subdir2/ 
```

现在当我尝试更新时，它抱怨目录冲突。我应该怎么办？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-20T09:05:24.040

你可以摆脱这种情况，当你

1.  将您自己的 subdir1 移开
2.  做 cvs
3.  将 subdir1 的内容移动到 CVS-subdir1
4.  检查差异

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-12-19T03:47:48.030

以防您有时可能会在更新本地版本时出错。最终解决方案是：

> **1.手动将本地代码保存到另一个地方**
> 
> **2\. 将可能有冲突的文件/文件夹恢复到 CVS 服务器上的 HEAD（最新）版本。**
> 
> **3\. 将您的更改添加回 Reverted 文件。**

上述解决方案的概念是通过 REVERT 清除所有可能的问题，并从存储库中获取 100% 干净的版本，然后添加回我们的更改。

它可以解决以下由代码过期/代码库混乱引起的问题。

> 1.  CVS 提交有冲突且未被修改
> 2.  CVS 更新失败
> 3.  CVS 不同步

# c# - 为什么从 IEnumerable 强制转换 列出 失败？

> ID：14411972
> 
> 赞同：1
> 
> 时间：2013-01-19T07:02:42.183
> 
> 标签：c#, linq, casting, classcastexception

为什么以下内容无法成功转换`IEnumerable<string>`为`List<string>`？

```
var l = new List<Tuple<string, int>>();
l.Add(new Tuple<string, int>("a string", 1));
List<string> s = (List<string>)l.Select(x => x.Item1); // System.InvalidCastException
MessageBox.Show(s[0]); 
```

另外，为什么在 Visual Studio 中没有正确捕获异常？它出现在调试窗口中，但不会停止程序的执行。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-19T07:04:16.560

`Select`返回一个`IEnumerable<T>`. 如果您希望结果为`List<T>`，请使用：

```
List<string> s = l.Select(x => x.Item1).ToList() 
```

在内部，该`Select`方法根本*不*生成 a `List`；元素在`IEnumerable<T>`迭代时即时返回。

我会除了被捕获的异常。我的猜测是你有一个捕获（可能不是你添加的），它正在沿途的某个地方捡起它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-19T08:49:15.800

那是因为你的方法全错了；您可以将 Select 的结果转换为列表 - 只是不像那样 - 仅仅是因为它是**IEnumerable**而不是**List**。如果你想要一个列表然后做

```
var string_list = l.Select(x => x.Item1).ToList(); 
```

如果您绝对、具体地 100% 肯定**知道**您只有一个元素 [1]，那么请执行以下操作：

```
var l = new List<Tuple<string, int>>();
l.Add(new Tuple<string, int>("a string", 1));
MessageBox.Show( l.Select(x => x.Item1).First() ); 
```

如果您的列表可能包含多个元素，则执行

```
MessageBox.Show( String.Join(", ", l.Select(x => x.Item1)) ); 
```

如果您想有效地使用 LINQ，重要的是要了解正在发生的事情并意识到您正在创建的是某种结果集 - 这与原始 List 不同，这是 IMO LINQ 非常强大的地方 - 你只需要去理解它。

* * *

1 - 在这种情况下，您为什么要使用列表....

# magento-1.6 - 如何在magento订单电子邮件中显示税率？

> ID：14411973
> 
> 赞同：0
> 
> 时间：2013-01-19T07:02:45.213
> 
> 标签：magento-1.6

我需要在订单电子邮件中显示我当前的税率

目前它只显示本质上完美的词税和金额但是

我希望它显示**Tax(19.6%)** --------- 19.6 是我的系统对所有产品的税率

任何帮助或参考将不胜感激。

附：订购电子邮件链接 ![在此处输入图像描述](../Images/c8c6c255f279a2d1839b887e4ad7b6de.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T15:57:28.750

如果您在主题中编辑文件，您可以调整它：/app/design/frontend/your-pkg/default/template/tax/order/tax.phtml

# delphi - 使用密码加密 .INI 文件字符串的简单代码

> ID：14411975
> 
> 赞同：10
> 
> 时间：2013-01-19T07:03:07.520
> 
> 标签：delphi, delphi-xe2, encryption-symmetric

我正在寻找比 ROT13 更复杂的东西，但它不需要库（最好甚至不需要一个单元，只是一个功能的下降）。

我想用用户提供的密码对称地加密/解密给定的字符串。但是，结果必须是一个字符串，因为我必须能够将它存储在一个 .INI 文件中。

有没有人有一个简单的功能来做到这一点（delphi XE2）？谷歌今天不是我的朋友。

提前致谢

* * *

[更新] / [赏金] 只是为了说清楚（如果最初不是这样道歉），我不想要哈希。我有一个列表框，用户可以在其中添加/修改/删除条目。我想在程序关闭时将它们存储在 .INI 文件中，并在程序再次启动时重新加载。任何查看 .INI 文件的人（例如，在记事本中打开它）都应该无法读取这些字符串。

我想我可以将组件作为二进制流式传输，但为了方便起见，我宁愿使用用户提供的密码来加密字符串。出于此应用的目的，.INI 文件部分名称或密钥值是否是人类可读的并不重要，我只想加密数据，当存储在磁盘上时给我一些列表：

```
[config]
numEntries=3

[listbox]
0=ywevdyuvewfcyuw
1=edw
2=hr4uifareiuf 
```

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-01-22T09:36:57.950

# 免责声明

此答案中使用的加密算法非常基本，任何具有中高级密码学技能的人都可以轻松破解。在解决方案中使用它是因为 OP 要求一个简单的对称解决方案而不需要任何库。

# 原则

该解决方案基于[XOR 密码](http://en.wikipedia.org/wiki/XOR_cipher)。来自维基百科：

> 在密码学中，简单 XOR 密码是一种加法密码，一种根据以下原则运行的加密算法：
> 
> AX 0 = A，
> 
> 安盛 = 0,
> 
> (AXB) XC = AX (BXC),
> 
> (BXA) XA = BX 0 = B,
> 
> 其中 X 表示 XOR 操作。

# 拼图的碎片

我提出的解决方案基于这个基本例程：

```
function XorCipher(const Key, Source: TBytes): TBytes;
var
  I: Integer;
begin
  if Length(Key) = 0 then
    Exit(Source);
  SetLength(Result, Length(Source));
  for I := Low(Source) to High(Source) do
    Result[I] := Key[I mod Length(Key)] xor Source[I];
end; 
```

该例程接受键和源数据作为字节数组，并返回结果异或字节数组。假设在两种操作中使用相同的密钥，相同的例程功能来加密和解密信息。加密时，源是明文数据，解密时，源是加密数据。

我做了两个辅助例程来允许将结果存储为字符串。一个用于将字节数组转换为十六进制数字的文本序列，另一个用于执行反向转换：

```
function BytesToStr(const Bytes: TBytes): string;
var
  I: Integer;
begin
  Result := '';
  for I := Low(Bytes) to High(Bytes) do
    Result := Result + LowerCase(IntToHex(Bytes[I], 2));
end;

function StrToBytes(const value: string): TBytes;
var
  I: Integer;
begin
  SetLength(Result, Length(value) div 2);
  for I := Low(Result) to High(Result) do
    Result[I] := StrToIntDef('$' + Copy(value, (I * 2) + 1, 2), 0);
end; 
```

有了这个基础，您就可以构建所有您需要的东西。为了方便和测试我的代码，我创建了一些其他例程，例如：

*   这个用于将密钥存储在 exe 中并将其作为 TBytes 值获取

    ```
    function GetKey: TBytes;
    begin
      Result := TArray<Byte>.Create(
         $07, $14, $47, $A0, $F4, $F7, $FF, $48, $21, $32
       , $AF, $87, $09, $8E, $B3, $C0, $7D, $54, $45, $87
       , $8A, $A8, $23, $32, $00, $56, $11, $1D, $98, $FA
      );
    end; 
    ```

    您可以提供任意长度的密钥，因为它会滚动加密 XorCipher 例程中的数据。

*   这个使用该键正确编码给定的字符串：

    ```
    function XorEncodeStr(const Source: string): string; overload;
    var
      BSource: TBytes;
    begin
      SetLength(BSource, Length(Source) * SizeOf(Char));
      Move(Source[1], BSource[0], Length(Source) * SizeOf(Char));
      Result := XorEncodeToStr(GetKey, BSource);
    end; 
    ```

*   这另一个正确地将编码字符串解码为字符串

    ```
    function XorDecodeStr(const Source: string): string; overload;
    var
      BResult: TBytes;
    begin
      BResult := XorDecodeFromStr(GetKey, source);
      Result := TEncoding.Unicode.GetString( BResult );
    end; 
    ```

# 编写 INI 文件

通过在您编写和读取 INI 文件的地方可以访问此例程，您可以轻松地编写和读取它，例如：

```
procedure TForm1.SaveIni;
var
  Ini: TIniFile;
  I: Integer;
begin
  Ini := TIniFile.Create('.\config.ini');
  try
    Ini.WriteInteger('config', 'NumEntries', ListBox1.Items.Count);
    for I := 0 to ListBox1.Items.Count - 1 do
      Ini.WriteString('listbox', IntToStr(I), XorEncodeStr(listbox1.Items[I]));
  finally
    Ini.Free;
  end;
end;

procedure TForm1.LoadIni;
var
  Ini: TIniFile;
  Max, I: Integer;
begin
  ListBox1.Items.Clear;
  Ini := TIniFile.Create('.\config.ini');
  try
    Max := Ini.ReadInteger('config', 'NumEntries', 0);
    for I := 0 to Max - 1 do
      ListBox1.Items.Add(
        XorDecodeStr(Ini.ReadString('listbox', IntToStr(I), ''))
      );
  finally
    Ini.Free;
  end;
end; 
```

这不是生产就绪代码，因为它只是为了测试解决方案而编写的，但它也是您使它坚如磐石的起点。

# 一个警告

这不是强密码学，因此，不要依赖它来存储真正敏感的信息。一个弱点是密钥以纯格式包含在您的 exe 中。你可以解决这个问题，但主要的弱点是算法本身。

以以下问题为例：由于您正在以 UTF-16 格式编码 Unicode Delphi 字符串，因此每个字符的第二个字节通常为零（除非您在东部或使用非拉丁字母的国家/地区)，您将在编码的存储字符串中找到键重复的确切字节。您可以通过不使用编码数据的普通十六进制表示来使这一点变得不那么明显（例如，使用这里已经建议的 base64 对其进行编码）。

您可以使用 AnsiStrings 来避免泄露密钥的这一部分，或者您可以在偶数位置使用显式零字节（或其他常量字节）对密钥进行编码。

如果您的软件的用户没有受过密码学教育，这一切都会奏效，但事实是，任何具有中等知识水平和良好技能的人都可以通过分析您的数据来获得密钥。如果用户知道一个未编码的值，它会变得更容易。

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2013-01-22T10:21:30.033

这是 Tinifile 的替代品。
ReadString 和 WriteString 被覆盖，这些是内部用于 Read/WriteFloat、Read/WriteInteger 等的。

字符串被加密并存储为 HEX 字符串。

演示用法：

```
uses CryptingIni;
{$R *.dfm}

procedure TForm1.Button1Click(Sender: TObject);
var
 ini:TCryptingIni;
begin
    ini:=TCryptingIni.Create('C:\temp\test.ini');
    ini.UseInternalVersion(1234);
    ini.WriteFloat('Sect','Float',123.456);
    ini.WriteString('Sect2','String','How to encode');
    ini.Free;
end;

procedure TForm1.Button2Click(Sender: TObject);
var
 ini:TCryptingIni;
begin
    ini:=TCryptingIni.Create('C:\temp\test.ini');
    ini.UseInternalVersion(1234);
    Showmessage(FloatToStr(ini.ReadFloat('Sect','Float',0)));
    Showmessage(ini.ReadString('Sect2','String',''));
    Showmessage(ini.ReadString('SectUnkknow','Showdefault','DEFAULT'));
    ini.Free;
end; 
```

您可以通过 UseInternalVersion 使用内部加密方法，或通过Procedure SetCryptingData(aEncryptProc, aDecryptProc: CryptingProc; aKey: Word);提供自己的过程。

```
unit CryptingIni;

// 2013 by Thomas Wassermann
interface

uses
  Windows, SysUtils, Variants, Classes, inifiles;

type

  CryptingProc = Function(const InString: String; Key: Word): String;

  TCryptingIni = Class(TInifile)
    function ReadString(const Section, Ident, Default: string): string; override;
    procedure WriteString(const Section, Ident, Value: String); override;
  private
    FEncryptProc: CryptingProc;
    FDecryptProc: CryptingProc;
    FKey: Word;
  public
    Procedure SetCryptingData(aEncryptProc, aDecryptProc: CryptingProc; aKey: Word);
    Procedure UseInternalVersion(aKey: Word);
  End;

implementation

const
  c1 = 52845;
  c2 = 22719;

Type
  TByteArray = Array [0 .. 0] of byte;

Function AsHexString(p: Pointer; cnt: Integer): String;
var
  i: Integer;
begin
  Result := '';
  for i := 0 to cnt do
    Result := Result + '$' + IntToHex(TByteArray(p^)[i], 2);
end;

Procedure MoveHexString2Dest(Dest: Pointer; Const HS: String);
var
  i: Integer;
begin
  i := 1;
  while i < Length(HS) do
  begin
    TByteArray(Dest^)[i div 3] := StrToInt(Copy(HS, i, 3));
    i := i + 3;
  end;
end;

function EncryptV1(const s: string; Key: Word): string;
var
  i: smallint;
  ResultStr: string;
  UCS: WIDEString;
begin
  Result := s;
  if Length(s) > 0 then
  begin
    for i := 1 to (Length(s)) do
    begin
      Result[i] := Char(byte(s[i]) xor (Key shr 8));
      Key := (smallint(Result[i]) + Key) * c1 + c2
    end;
    UCS := Result;
    Result := AsHexString(@UCS[1], Length(UCS) * 2 - 1)
  end;
end;

function DecryptV1(const s: string; Key: Word): string;
var
  i: smallint;
  sb: String;
  UCS: WIDEString;
begin
  if Length(s) > 0 then
  begin
    SetLength(UCS, Length(s) div 3 div 2);
    MoveHexString2Dest(@UCS[1], s);
    sb := UCS;
    SetLength(Result, Length(sb));
    for i := 1 to (Length(sb)) do
    begin
      Result[i] := Char(byte(sb[i]) xor (Key shr 8));
      Key := (smallint(sb[i]) + Key) * c1 + c2
    end;
  end
  else
    Result := s;
end;

{ TCryptingIni }

function TCryptingIni.ReadString(const Section, Ident, Default: string): string;
begin
  if Assigned(FEncryptProc) then
    Result := inherited ReadString(Section, Ident, FEncryptProc(Default, FKey))
  else
    Result := inherited ReadString(Section, Ident, Default);
  if Assigned(FDecryptProc) then
    Result := FDecryptProc(Result, FKey);
end;

procedure TCryptingIni.SetCryptingData(aEncryptProc, aDecryptProc: CryptingProc; aKey: Word);
begin
  FEncryptProc := aEncryptProc;
  FDecryptProc := aDecryptProc;
  FKey := aKey;
end;

procedure TCryptingIni.UseInternalVersion(aKey: Word);
begin
  FKey := aKey;
  FEncryptProc := EncryptV1;
  FDecryptProc := DecryptV1;
end;

procedure TCryptingIni.WriteString(const Section, Ident, Value: String);
var
  s: String;
begin
  if Assigned(FEncryptProc) then
    s := FEncryptProc(Value, FKey)
  else
    s := Value;
  inherited WriteString(Section, Ident, s);
end;

end. 
```

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2013-01-19T07:20:02.167

我使用**[Delphi Encryption Compendium](http://code.google.com/p/delphidec/)**，它具有出色的哈希和对称加密/解密功能。它分为多个单元，但不需要任何外部库，而且速度非常快。

这是我在代码中使用它的方式：

```
function Encrypt(const AStr: string): string;
begin
  Result := AStr;
  with TCipher_Gost.Create do
    try
      Init(THash_SHA1.KDFx('Encryption Key', '', Context.KeySize));
      Result := EncodeBinary(Result, TFormat_HEX);
    finally
      Free;
    end;
end;

function Decrypt(const AStr: string): string;
begin
  Result := AStr;
  with TCipher_Gost.Create do
    try
      Init(THash_SHA1.KDFx('Encryption Key', '', Context.KeySize));
      Result := DecodeBinary(Result, TFormat_HEX);
    finally
      Free;
    end;
end; 
```

您可以使用任何`TCipher_*`类来代替 GOST。

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2013-01-22T15:47:00.310

首先，请参阅我在这里使用的 wincrypt 单元的 [链接。](http://www.tek-tips.com/faqs.cfm?fid=7423)

这对加密的作用是获取放入其中的字符串（您使用的是 INI，所以无论如何它都是单个字符串，对吗？），然后根据输入的密码通过 WinCrypt 3DES 运行它，然后生成二进制，我通过 Base64 运行它。对于解密，我颠倒了这个过程。不正确的密码会在解密时产生垃圾，但是对于我测试的数量，只要密码对两个步骤都正确，它似乎就可以正常工作。当然，我可能忘了做一些清理工作，但如果是这样的话，它可以很容易地修复。

```
function DecryptStringW(instr, pwd: WideString): WideString;
// password based decryption of a string using WinCrypt API, WideString version
  var
    Key: TCryptKey;
    Hash: TCryptHash;
    Prov: TCryptProv;
    DataLen, skip, Flags: DWord;
    DataBuf: Pointer;
    outstr: WideString;
  begin
    CryptAcquireContext(Prov, nil, nil, PROV_RSA_FULL, CRYPT_VERIFYCONTEXT);
    CryptCreateHash(Prov, CALG_SHA, nil, 0, hash);
    CryptHashData(hash, @pwd[1], Length(Pwd), 0);
    CryptDeriveKey(Prov, CALG_3DES, hash, 0, key);
    CryptDestroyHash(hash);

    CryptStringToBinaryW(pointer(instr), Length(instr), CRYPT_STRING_BASE64, nil, DataLen, skip, Flags);
    GetMem(databuf, DataLen);
    try
      CryptStringToBinaryW(pointer(instr), Length(instr), CRYPT_STRING_BASE64, DataBuf,
           DataLen, skip, Flags);
      CryptDecrypt(Key, nil, True, 0, DataBuf, Datalen);
      SetLength(outstr, datalen);
      Move(DataBuf^, outstr[1], DataLen);
      CryptReleaseContext(Prov, 0);
      Result := outstr;
    finally
      FreeMem(databuf);
    end;
 end;

 function EncryptStringW(instr, pwd: WideString): WideString;
 // password based encryption of a string, WideString version
   var
    Key: TCryptKey;
    Hash: TCryptHash;
    Prov: TCryptProv;
    DataLen, bufsize: DWord;
    databuf: PByte;
    outstr: WideString;
  begin
    CryptAcquireContext(Prov, nil, nil, PROV_RSA_FULL, CRYPT_VERIFYCONTEXT);
    CryptCreateHash(Prov, CALG_SHA, nil, 0, hash);
    CryptHashData(hash, @pwd[1], Length(Pwd), 0);
    CryptDeriveKey(Prov, CALG_3DES, hash, 0, key);
    CryptDestroyHash(hash);
    bufsize := 0;
    DataLen := 0;
    CryptEncrypt(Key, nil, True, 0, nil, bufsize, Length(instr));
    GetMem(databuf, bufsize);
    try
      Move(instr[1], databuf^, Length(instr));
      DataLen := Length(instr);
      CryptEncrypt(Key, nil, True, 0, databuf, DataLen, bufsize);
      CryptReleaseContext(Prov, 0);
      CryptBinaryToStringW(databuf, DataLen, CRYPT_STRING_BASE64 or
              CRYPT_STRING_NOCRLF, nil, bufsize);
      SetLength(outstr, bufsize);
      CryptBinaryToStringW(databuf, DataLen, CRYPT_STRING_BASE64 or
              CRYPT_STRING_NOCRLF, @outstr[1], bufsize);
     // result, kill the three characters after the final one the base64 returns    ($D$A$0)
     // CRYPT_STRING_NOCRLF seems to mean nothing on XP, it might on other systems
     // you will need to change to the commented line if you are on Vista, 7, or 8
      Result := Copy(outstr, 1, Length(outstr) - 3);
     // Result := Outstr;
    finally
      FreeMem(databuf);
    end;
  end;

  function DecryptStringA(instr, pwd: AnsiString): AnsiString;
  // password based decryption of a string using WinCrypt API, ANSI VERSION.
    var
      Key: TCryptKey;
      Hash: TCryptHash;
      Prov: TCryptProv;
      DataLen, skip, Flags: DWord;
      DataBuf: Pointer;
      outstr: AnsiString;
    begin
      CryptAcquireContext(Prov, nil, nil, PROV_RSA_FULL, CRYPT_VERIFYCONTEXT);
      CryptCreateHash(Prov, CALG_SHA, nil, 0, hash);
      CryptHashData(hash, @pwd[1], Length(Pwd), 0);
      CryptDeriveKey(Prov, CALG_3DES, hash, 0, key);
      CryptDestroyHash(hash);

      CryptStringToBinaryA(pointer(instr), Length(instr), CRYPT_STRING_BASE64, nil, DataLen, skip, Flags);
      GetMem(databuf, DataLen);
      try
        CryptStringToBinaryA(pointer(instr), Length(instr), CRYPT_STRING_BASE64, DataBuf, DataLen, skip, Flags);
        CryptDecrypt(Key, nil, True, 0, DataBuf, Datalen);
        SetLength(outstr, datalen);
        Move(DataBuf^, outstr[1], DataLen);
        CryptReleaseContext(Prov, 0);
        Result := outstr;
      finally
        FreeMem(databuf);
      end;
   end;

  function EncryptStringA(instr, pwd: AnsiString): AnsiString;
   // password based encryption of a string, ANSI version
    var
      Key: TCryptKey;
      Hash: TCryptHash;
      Prov: TCryptProv;
      DataLen, bufsize: DWord;
      databuf: PByte;
      outstr: AnsiString;
   begin
     CryptAcquireContext(Prov, nil, nil, PROV_RSA_FULL, CRYPT_VERIFYCONTEXT);
     CryptCreateHash(Prov, CALG_SHA, nil, 0, hash);
     CryptHashData(hash, @pwd[1], Length(Pwd), 0);
     CryptDeriveKey(Prov, CALG_3DES, hash, 0, key);
     CryptDestroyHash(hash);
     DataLen := 0;
     bufsize := 0;
     CryptEncrypt(Key, nil, True, 0, nil, bufsize, Length(instr));
     GetMem(databuf, bufsize);
     try
       Move(instr[1], databuf^, Length(instr));
       DataLen := Length(instr);
       CryptEncrypt(Key, nil, True, 0, databuf, DataLen, bufsize);
       CryptReleaseContext(Prov, 0);
       CryptBinaryToStringA(databuf, DataLen, CRYPT_STRING_BASE64 or
              CRYPT_STRING_NOCRLF, nil, bufsize);
       SetLength(outstr, bufsize);
       CryptBinaryToStringA(databuf, DataLen, CRYPT_STRING_BASE64 or
              CRYPT_STRING_NOCRLF, @outstr[1], bufsize);
     // result, kill the three characters after the final one the base64 returns    ($D$A$0)
     // CRYPT_STRING_NOCRLF seems to mean nothing on XP, it might on other systems
     // you will need to change to the commented line if you are on Vista, 7, or 8
      Result := Copy(outstr, 1, Length(outstr) - 3);
     // Result := Outstr;
    finally
       FreeMem(databuf);
    end;
  end; 
```

快速使用示例：

```
 procedure TForm1.Button1Click(Sender: TObject);
   var
     password1: AnsiString;
   begin
     password1 := 'Test1';
     Edit2.Text := EncryptStringA(Edit1.Text, password1);
   end;

 procedure TForm1.Button2Click(Sender: TObject);
   var
     password1: AnsiString;
   begin
     password1 := 'Test1';
     Label1.Caption := DecryptStringA(Edit2.Text, password1);
   end;

 procedure TForm1.Button3Click(Sender: TObject);
   var
     password1: WideString;
   begin
     password1 := 'Test1';
     Edit2.Text := EncryptStringW(Edit1.Text, password1);
   end;

 procedure TForm1.Button4Click(Sender: TObject);
   var
     password1: WideString;
   begin
     password1 := 'Test1';
     Label1.Caption := DecryptStringW(Edit2.Text, password1);
   end; 
```

希望它可以帮助某人。

使用“Edit1”作为输入。加密 ANSI 的正确输出：3+Pp7o8aErc= 加密 WideString 的正确输出：HijzDYgRr/Y=

**编辑：我也发布了 WideString 版本。我下载了 XE3 演示来查看和使用。这段代码和 Turbo Delphi 2006 和 Delphi 3 一样有效，所以如果你有困难，请检查我评论的关于 Windows XP Base64 实现不尊重 CRYPT_STRING_NOCRLF 的行，因为如果你在 Windows 上，需要更改该行才能使其正常工作。无论如何，对于 OP 的声明意图，我们不希望 $13$10 出现在编码文本中**

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-01-19T07:58:11.957

base64 是非常好的编码器，具有字符串结果和标准：

```
{**************************************************************}
{                  Base 64 - by David Barton                   }
{--------------------------------------------------------------}

 const
  B64: array[0..63] of byte= (65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,
    81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,
    109,110,111,112,113,114,115,116,117,118,119,120,121,122,48,49,50,51,52,53,
    54,55,56,57,43,47);

function B64Encode(pInput: pointer; pOutput: pointer; Size: longint): longint;
var
  i, iptr, optr: integer;
  Input, Output: PByteArray;
begin
  Input:= PByteArray(pInput); Output:= PByteArray(pOutput);
  iptr:= 0; optr:= 0;
  for i:= 1 to (Size div 3) do
  begin
    Output^[optr+0]:= B64[Input^[iptr] shr 2];
    Output^[optr+1]:= B64[((Input^[iptr] and 3) shl 4) + (Input^[iptr+1] shr 4)];
    Output^[optr+2]:= B64[((Input^[iptr+1] and 15) shl 2) + (Input^[iptr+2] shr 6)];
    Output^[optr+3]:= B64[Input^[iptr+2] and 63];
    Inc(optr,4); Inc(iptr,3);
  end;
  case (Size mod 3) of
    1: begin
         Output^[optr+0]:= B64[Input^[iptr] shr 2];
         Output^[optr+1]:= B64[(Input^[iptr] and 3) shl 4];
         Output^[optr+2]:= byte('=');
         Output^[optr+3]:= byte('=');
       end;
    2: begin
         Output^[optr+0]:= B64[Input^[iptr] shr 2];
         Output^[optr+1]:= B64[((Input^[iptr] and 3) shl 4) + (Input^[iptr+1] shr 4)];
         Output^[optr+2]:= B64[(Input^[iptr+1] and 15) shl 2];
         Output^[optr+3]:= byte('=');
       end;
  end;
  Result:= ((Size+2) div 3) * 4;
end;

function Base64Encode(const Value: AnsiString): AnsiString;
begin
  SetLength(Result,((Length(Value)+2) div 3) * 4);
  B64Encode(@Value[1],@Result[1],Length(Value));
end;

function B64Decode(pInput: pointer; pOutput: pointer; Size: longint): longint;
var
  i, j, iptr, optr: integer;
  Temp: array[0..3] of byte;
  Input, Output: PByteArray;
begin
  Input:= PByteArray(pInput); Output:= PByteArray(pOutput);
  iptr:= 0; optr:= 0;
  Result:= 0;
  for i:= 1 to (Size div 4) do
  begin
    for j:= 0 to 3 do
    begin
      case Input^[iptr] of
        65..90 : Temp[j]:= Input^[iptr] - Ord('A');
        97..122: Temp[j]:= Input^[iptr] - Ord('a') + 26;
        48..57 : Temp[j]:= Input^[iptr] - Ord('0') + 52;
        43     : Temp[j]:= 62;
        47     : Temp[j]:= 63;
        61     : Temp[j]:= $FF;
      end;
      Inc(iptr);
    end;
    Output^[optr]:= (Temp[0] shl 2) or (Temp[1] shr 4);
    Result:= optr+1;
    if (Temp[2]<> $FF) and (Temp[3]= $FF) then
    begin
      Output^[optr+1]:= (Temp[1] shl 4) or (Temp[2] shr 2);
      Result:= optr+2;
      Inc(optr)
    end
    else if (Temp[2]<> $FF) then
    begin
      Output^[optr+1]:= (Temp[1] shl 4) or (Temp[2] shr 2);
      Output^[optr+2]:= (Temp[2] shl 6) or  Temp[3];
      Result:= optr+3;
      Inc(optr,2);
    end;
    Inc(optr);
  end;
end;

function Base64Decode(const Value: AnsiString): AnsiString;
begin
  SetLength(Result,(Length(Value) div 4) * 3);
  SetLength(Result,B64Decode(@Value[1],@Result[1],Length(Value)));
end; 
```

您可以使用此示例：

编码：

```
procedure TForm1.btn1Click(Sender: TObject);
begin
  edt1.Text := Base64Encode(edt1.Text)  ;
end; 
```

解码：

```
procedure TForm1.btn1Click(Sender: TObject);
begin
  edt1.Text := Base64Decode(edt1.Text)  ;
end; 
```

# html - 如何处理 Chrome 中较差的 HTML5 视频性能？

> ID：14411977
> 
> 赞同：28
> 
> 时间：2013-01-19T05:51:55.533
> 
> 标签：html, video

一年多以前，我们在我们的网站上添加了一个[视频页面](http://www.remobjects.com/tv/)。当时 OGV 不是很好，也没有好的 WebM 编码器可用，所以我们决定为 webkit 浏览器（Chrome、Safari 等）使用 HTML5 和 h.264，然后为其他浏览器回退到 Flash（使用相同的 h.264 源文件。）

这已经有一段时间了。最近（可能是一两个月，所以在多个 Chrome 版本 - 当前版本 24.0.1312.52 m）我们发现 Chrome 的播放确实滞后。我们认为这是服务器问题，所以我们升级了服务器，它的行为仍然相同。我记得读到谷歌想要放弃 h.264 并将所有人转移到 WebM，并认为这种性能是其中的一部分。我们将一些视频转换为 WebM 并使用 Chrome 对其进行了测试，但它们同样滞后。相同的视频 (WebM) 在 FireFox 中流畅播放，而 MP4 通过 Flash 插件在 FireFox 中播放效果很好。

我去了 YouTube 并打开了 HTML5 视频支持，发现视频在 Chrome 中也滞后（以高清运行时），而它们在 Flash 模式下播放良好。（即使启用了 HTML5，一些视频仍然通过 Flash 播放。）

在 Windows 8 和 Mountain Lion 上测试。

我和同事谈过，他们也看到了同样的问题。所以不只是我。所以我的问题是：

1.  这是我们的视频编码的问题吗？
2.  这是 Chrome 的错误吗？
3.  还是只是本地化给我们？
4.  除了切换回Flash之外，还有其他方法可以解决这个问题吗？

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2013-03-19T10:48:24.780

![HW-acc 视频解码](../Images/5d0d0e6adc4ef86dc4fb56f0714bd1fd.png)

这就是我的意思的旗帜。如果标志是**disabled**，浏览器会尝试使用硬件加速的视频解码，我可以授予它在某些设备中引发错误和缓慢的视频渲染。如果**启用**，则永远不会使用硬件加速视频解码，但上述问题会消失。从理论上讲，它会增加实际能够使用这种加速的设备的解码时间，但我已经在这个领域工作了将近一年，但我仍然没有意识到这件事有什么不同。但是，仍然不知道如何在未经测试的情况下通过这种加速来识别设备是否会正常运行（此功能的可用性似乎无法使其正常运行）。

# c# - C# 反射：从类中检索静态对象

> ID：14411978
> 
> 赞同：1
> 
> 时间：2013-01-19T07:03:42.003
> 
> 标签：c#, generics, reflection, static-members

我的意图是有一个类 T，它有几个自己类型的静态只读实例。我现在要做的是创建一个通用方法来识别所有这些实例并将它们添加到列表中。到目前为止，我可以找到所有元素，并且 FieldInfo.FieldHandle.Value 似乎包含该对象，但我在获取它方面还不够熟练。也许使用 FieldInfo 是错误的。谁能帮我一把？

（谢谢！）这是代码示例（应用了解决方案）：

```
using System;
using System.Collections.Generic;
using System.Reflection;

namespace PickStatic {
  class Fruit {
    public static readonly Fruit Orange = new Fruit("Orange");
    public static readonly Fruit Kiwi = new Fruit("Kiwi");
    public static readonly Fruit Pear = new Fruit("Pear");

    public string name { set; get; }

    public Fruit(string name) {
      this.name = name;
    }

    public static List<T> getAll<T>() where T : class {
      List<T> result = new List<T>();
      MemberInfo[] members = typeof(T).GetMembers();
      foreach(MemberInfo member in members) {
        if(member is FieldInfo) {
          FieldInfo field = (FieldInfo) member;
          if(field.FieldType == typeof(T)) {
            T t = (T) field.GetValue(null);
            result.Add(t);
          }
        }
      }
      return result;
    }

    public static void Main(string[] args) {
      List<Fruit> fruits = getAll<Fruit>();
      foreach(Fruit fruit in fruits) {
        Console.WriteLine("Loaded: {0}", fruit.name);
      }
      Console.ReadLine();
    }
  }
} 
```

Fruit 类包含三个 Fruit 类型的静态对象。正在尝试使用通用方法获取所有此类对象的列表。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-19T07:12:39.340

您需要使用[FieldInfo.GetValue 方法](http://msdn.microsoft.com/en-us/library/system.reflection.fieldinfo.getvalue.aspx)。

调用它`null`（因为它是一个静态字段）

**编辑**：不建议在代码的“关键”部分使用反射（就性能而言），您可以使用字典来缓存从`GetAll`方法返回的结果。

# objective-c - 如何为uiwebview图像使用多种mimetypes图像并附加电子邮件目标c

> ID：14411980
> 
> 赞同：0
> 
> 时间：2013-01-19T07:03:59.880
> 
> 标签：objective-c, email, mime-types, mfmailcomposeviewcontroller

我正在使用此方法从 UIWebView 下载图像

```
NSURL *imgUrl=[[NSURL alloc] initWithString:[[DataPassing sharedManager] pageIMGurl]];
    NSData *imgData = [NSData dataWithContentsOfURL:imgUrl];
UIImage *img = [UIImage imageWithData:imgData]; 
```

现在我想使用 MFMailComposeViewController 通过电子邮件发送这个下载或保存的数据图像

```
NSData *imageData = UIImagePNGRepresentation(image);
        [mailer addAttachmentData:img mimeType:@"image/png" fileName:@"mobiletutsImage"]; 
```

现在问题来了，我不知道“img”中下载图像的类型，所以我可以输入 rite mimeType:@"image/png"。如果下载的图片是jpeg怎么办？

如何存储多个 mimetype 并使用“img”检查然后发送。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-19T09:12:51.533

无需担心图像类型。`UIImagePNGRepresentation`返回对象的 png 表示`UIImage`。

如果您使用`UIImageJPEGRepresentation`方法将您的转换`UIImage`为`NSData`，则应将 @"image/jpg" 作为 mime 类型传递。

另一种方法是在 url 中，最后一个组件将是图像名称。获取它的扩展名，您将了解 mime 类型。

# java - Jsoup网页抓取

> ID：14411981
> 
> 赞同：1
> 
> 时间：2013-01-19T07:04:00.430
> 
> 标签：java, web-scraping, jsoup

我正在尝试使用 jSoup 来抓取具有以下内容的网站。我对 jSoup 很陌生，并且仍在尝试弄清楚。我想做的是能够获取产品名称和价格并将它们放入一个excel文件中，名称在A列，价格在B列，0.00可以忽略或放在C列更容易. 任何帮助都会很棒，只是因为我知道有人会问，这不是家庭作业。
在此先感谢我真的很感激。

```
<tr>
        <td class="sku" width="40" align="center">AAN13097</td>
        <td class="productName" width="440"><a name="<!-- Empty field [Field4]  -->"></a> 
                                American Antler Dog Chew Large (40-60 lb Dogs)                                          </td>
        <!--<td id="weight_816">0</td>-->
        <td class="quantity" width="20" align="center">
            <input type="text" name="816:qnty" id="qnty_816" class="inputQuantity">
            <input type="checkbox" name="itemnum" value="816" id="itemnum_816" class="itemnum">
        </td>
        <!--<td class="extWeight" id="extWeight_816">0.0</td>-->
        <td width="80" align="center" id="price_816">$9.70</td>
        <td width="120" align="center" class="extPrice" id="extPrice_816">$0.00</td>
    </tr>
                                                                                                                <!-- rec 815 --> 
```

```
<tr>
        <td class="sku" width="40" align="center">AAN13096</td>
        <td class="productName" width="440"><a name="<!-- Empty field [Field4]  -->"></a> 
                                American Antler Dog Chew Medium (20-40 lb Dogs)                                         </td>
        <!--<td id="weight_815">0</td>-->
        <td class="quantity" width="20" align="center">
            <input type="text" name="815:qnty" id="qnty_815" class="inputQuantity">
            <input type="checkbox" name="itemnum" value="815" id="itemnum_815" class="itemnum">
        </td>
        <!--<td class="extWeight" id="extWeight_815">0.0</td>-->
        <td width="80" align="center" id="price_815">$7.15</td>
        <td width="120" align="center" class="extPrice" id="extPrice_815">$0.00</td>
    </tr> 
```

** 这将是表格元素，因为这是列表之前的“表格”代码，如果不是，我应该在 html 代码中寻找什么？

```
<table border="0" cellpadding="8" cellspacing="0" id="orderForm" width="700">
<thead>
<tr>
<th width="40px" align="center">Line</th>
<th width="420" align="center">Item description&nbsp;</th>
<th width="40px" align="center">Quantity</th>
<th width="80px" align="center">Unit Price</th>
<th width="120px" align="center">Amount</th>
</tr>
</table><div class="tableCont"><table border="0" cellpadding="8" cellspacing="0"    
id="orderForm" width="700" height="350px">
<tbody>                                                                                                           
<!-- rec 1638 -->
<a name="1638"></a> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-19T11:13:41.570

这应该这样做。但是，您发布的 HTML 不包含 tr 的表 parent，当然必须在 HTML 中才能使此代码起作用，否则 Jsoup 将删除 tr/td 元素并且代码将不起作用。

```
Document doc = Jsoup.parse(html); // html attribute should contain tr elements HTML content
String productName = doc.select("tr .productName").first().text(); // Get name
Element extPriceElement = doc.select("tr td.extPrice").first();
String id = extPriceElement.id().replaceAll("extPrice_", ""); // Get id     
String productPrice = doc.select("tr #price_" + id).first().text(); // Get price
String productExtPrice = extPriceElement.text(); // Get ext price
System.out.println("Product name : " + productName);                
System.out.println("Price : " + productPrice);
System.out.println("Ext price : " + productExtPrice); 
```

# ios - IOS - tableview 删除部分中的行

> ID：14411982
> 
> 赞同：1
> 
> 时间：2013-01-19T07:04:15.217
> 
> 标签：ios, objective-c, cocoa-touch, tableview

如何删除节中的行`UITableView`？

当我运行下面的代码时它会崩溃：

```
- (void)tableView:(UITableView *)tableView commitEditingStyle:(UITableViewCellEditingStyle)editingStyle forRowAtIndexPath:(NSIndexPath *)indexPath {
    [tableView beginUpdates];
    if (editingStyle == UITableViewCellEditingStyleDelete) {

        NSIndexPath *firstRow = [NSIndexPath indexPathForRow:0 inSection:0];
        //[self.productItems removeObjectAtIndex:indexPath.row];

        [tableView deleteRowsAtIndexPaths:[NSArray arrayWithObject:indexPath] withRowAnimation:UITableViewRowAnimationRight];
    }
    [tableView endUpdates];
} 
```

* * *

```
*** Assertion failure in -[UITableView _endCellAnimationsWithContext:], /SourceCache/UIKit_Sim/UIKit-1447.6.4/UITableView.m:976
2013-01-19 14:46:14.847 [4752:207] *** Terminating app due to uncaught exception 'NSInternalInconsistencyException', reason: 'Invalid update: invalid number of rows in section 2\.  The number of rows contained in an existing section after the update (1) must be equal to the number of rows contained in that section before the update (1), plus or minus the number of rows inserted or deleted from that section (0 inserted, 1 deleted).'
*** Call stack at first throw:
(
    0   CoreFoundation                      0x0174abe9 __exceptionPreprocess + 185
    1   libobjc.A.dylib                     0x0189f5c2 objc_exception_throw + 47
    2   CoreFoundation                      0x01703628 +[NSException raise:format:arguments:] + 136
    3   Foundation                          0x0054c47b -[NSAssertionHandler handleFailureInMethod:object:file:lineNumber:description:] + 116
    4   UIKit                               0x007cea0f -[UITableView(_UITableViewPrivate) _endCellAnimationsWithContext:] + 8424
    5   UIKit                               0x007be433 -[UITableView endUpdates] + 42

    7   UIKit                               0x007bb2ea -[UITableView(UITableViewInternal) animateDeletionOfRowWithCell:] + 101
    8   UIKit                               0x00751a6e -[UIApplication sendAction:to:from:forEvent:] + 119
    9   UIKit                               0x007e01b5 -[UIControl sendAction:to:forEvent:] + 67
    10  UIKit                               0x007e2647 -[UIControl(Internal) _sendActionsForEvents:withEvent:] + 527
    11  UIKit                               0x007e11f4 -[UIControl touchesEnded:withEvent:] + 458
    12  UIKit                               0x007760d1 -[UIWindow _sendTouchesForEvent:] + 567
    13  UIKit                               0x0075737a -[UIApplication sendEvent:] + 447
    14  UIKit                               0x0075c732 _UIApplicationHandleEvent + 7576
    15  GraphicsServices                    0x01c83a36 PurpleEventCallback + 1550
    16  CoreFoundation                      0x0172c064 __CFRUNLOOP_IS_CALLING_OUT_TO_A_SOURCE1_PERFORM_FUNCTION__ + 52
    17  CoreFoundation                      0x0168c6f7 __CFRunLoopDoSource1 + 215
    18  CoreFoundation                      0x01689983 __CFRunLoopRun + 979
    19  CoreFoundation                      0x01689240 CFRunLoopRunSpecific + 208
    20  CoreFoundation                      0x01689161 CFRunLoopRunInMode + 97
    21  GraphicsServices                    0x01c82268 GSEventRunModal + 217
    22  GraphicsServices                    0x01c8232d GSEventRun + 115
    23  UIKit                               0x0076042e UIApplicationMain + 1160

    26  ???                                 0x00000001 0x0 + 1
)
terminate called after throwing an instance of 'NSException' 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-19T07:08:40.653

试试这个代码：

```
- (void)tableView:(UITableView *)tableView commitEditingStyle:(UITableViewCellEditingStyle)editingStyle forRowAtIndexPath:(NSIndexPath *)indexPath {
  [tableView beginUpdates];    
  if (editingStyle == UITableViewCellEditingStyleDelete) {
    // Do whatever data deletion you need to do...
  [self.productItems removeObjectAtIndex:indexPath.row];
    // Delete the row from the data source
    [tableView deleteRowsAtIndexPaths:[NSArray arrayWithObjects:indexPath, nil] withRowAnimation:UITableViewRowAnimationRight ];      
  }       
  [tableView endUpdates];
} 
```

# java - 更新 JOptionPane 以反映组件状态更改

> ID：14411986
> 
> 赞同：7
> 
> 时间：2013-01-19T07:05:05.250
> 
> 标签：java, swing, joptionpane

在我的 GUI 项目中有一个方法用于显示一个`JOptionPane`带有多个组件的组件，其中 2 个组件各有`ButtonGroups`2`JRadioButtons`个，在第一组中默认选择第一个按钮，在第二组中默认选择第二个按钮，在第二组中，我希望禁用第一个按钮，直到选择第一组中的第二个按钮，即如果用户对 BG1 中的默认选择感到满意，那么他们不能在 BG2 中进行选择，只有当他们做出BG1中的第二个选择他们可以在BG2中有其他选项吗？

这种类型的行为是否可能与 a `JOptionPane`？

一直在查看 的教程`JDialog`，`JOptionPane`并进行其他研究，但在这种情况下，这些都没有帮助。如果有人能给我一些指导，找到一个非常棒的可能解决方案......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T16:49:31.667

我认为使用 JOption 是不可能的。但我认为使用 JDialog 是可行的。

例如：

当您打开对话框时，您可以使用命令 JFrame（在这里您必须写下您的窗口名称）.enable(false)

当复选框为真时，您可以在计数器中有关闭按钮，您可以有一个复选框。它会显示一个按钮，当你点击它可以使按钮不可见

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-12-17T03:57:56.673

**最好的选择是 JDialog**

因为 JOptionPane 不支持这么多组件。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-06-26T16:54:14.197

在`elective.addActionListener`声明中我调用了错误的变量，`cp12`而不是`cp6`，在下面发布了我的缩减代码，一切都很好，谢谢

```
 public void displayAddSomething(ArrayList<String> items)
    {
// cut down version only showing the button panels

    // initialising the variables       
    JPanel buttPanel = new JPanel(new GridLayout(0, 1));
    JPanel pointPanel = new JPanel(new GridLayout(0, 1));
    JRadioButton core = new JRadioButton("Core Item: ", true);
    final JRadioButton elective = new JRadioButton("Elective Item: ");
    final JRadioButton cp6 = new JRadioButton("6 Points: ");
    JRadioButton cp12 = new JRadioButton("12 Points: ", true);
    ButtonGroup bg1 = new ButtonGroup();
    ButtonGroup bg2 = new ButtonGroup();

    // adding the buttons to buttPanel  and the button group 1
    buttPanel.add(new JLabel("Select Course Type"));
    buttPanel.add(core);
    buttPanel.add(elective);
    buttPanel.setBorder(BorderFactory.createLineBorder(Color.GREEN, 2));
    bg1.add(core);
    bg1.add(elective);

    // add buttons pointPanel and bg2
    pointPanel.add(new JLabel("Select Credit Points"));
    pointPanel.add(cp6);
    pointPanel.add(cp12);
    pointPanel.setBorder(BorderFactory.createLineBorder(Color.GREEN, 2));
    bg2.add(cp6);
    bg2.add(cp12);

    cp6.setEnabled(false);

    // add action listener for each of bg1 buttons so if event
    // occurs the cp6 button will toggle between enabled and disabled.

    elective.addActionListener(new ActionListener() {
        public void actionPerformed(ActionEvent e)
        {   
             cp6.setEnabled(true);
        }});

    core.addActionListener(new ActionListener() {
        public void actionPerformed(ActionEvent e)
        {
            cp6.setEnabled(false);
        }});

    Object[] message = {buttPanel,pointPanel};

    int result = JOptionPane
        .showOptionDialog(
        this,
        message,
        "...some text...",
        JOptionPane.OK_CANCEL_OPTION, JOptionPane.INFORMATION_MESSAGE,
        null, new String[] { "Submit", "Cancel" }, "Default");

    if (result == JOptionPane.OK_OPTION)
        {
        // collecting all the input values in a string array to pass to
            // another class for processing by the model... 
        }
    else if (result == JOptionPane.NO_OPTION)
        {
             JOptionPane.showMessageDialog(this,
             "You Have Elected Not to do anything At This Time",
             "YOU HAVE COME THIS FAR AND YOU QUIT NOW....",
            JOptionPane.QUESTION_MESSAGE);                     
        }
    } 
```

# android - 如何下载 Facebook 个人资料图片

> ID：14411990
> 
> 赞同：2
> 
> 时间：2013-01-19T07:05:34.263
> 
> 标签：android, facebook, facebook-graph-api, twitter

在我的 android 应用程序中，用户可以使用 facebook/twitter 登录。

```
https://graph.facebook.com/username/picture 

https://api.twitter.com/1/users/profile_image?screen_name=screenname&size=normal 
```

使用上面的网址我知道，我可以得到图片，但有什么办法可以下载并将其存储在我的数据库中？

我需要使用 facebook/twitter 登录的用户个人资料图片列表，我必须从我的服务器数据库中获取它。（我必须显示如下图）

![在此处输入图像描述](../Images/38980a99dc3c9bbd795f04d02f0ce4c4.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-19T07:08:05.090

使用 AsyncTask 下载它并将其保存到应用程序的磁盘空间。在您的数据库中，只需存储图片的文件路径（我会将其保存为文件名作为 FB 用户 ID）。

您可以在我的 github 代码中查看如何使用 AsyncTask 进行 Web 连接。[https://github.com/nedwidek/Android-Rest-API](https://github.com/nedwidek/Android-Rest-API)

我需要切换工作区以获取适用于本地存储的代码。

# dart - 如何实现一个 Dart 优先级队列（按降序排列）

> ID：14411995
> 
> 赞同：1
> 
> 时间：2013-01-19T07:06:08.273
> 
> 标签：dart, priority-queue

在 Dart 中，我想实现两个优先级队列，一个按升序排列，一个按降序排列。

SDK类`SplayTreeMap`很方便的解决了升序的情况，即我可以用`stm.values`升序获取值。有没有办法`SplayTreeMap`按降序返回值？（除了在每次访问之后对值进行排序的明显解决方案之外）。例如，有没有办法覆盖值类型的比较函数？

在此先感谢您的任何建议。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-19T16:26:43.880

回答我自己的问题，只需传递“逆”键即可解决问题（至少对于我的用例而言）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-23T21:57:09.543

您可以`firstKey`用于查找升序队列的第一个元素和`lastKey`降序队列。