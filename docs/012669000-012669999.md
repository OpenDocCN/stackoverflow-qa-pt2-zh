# StackOverflow 问答 12669000-12669999

# eclipse - 将更改推送到 googlecode 时，egit 中的用户名/密码无效

> ID：12669000
> 
> 赞同：10
> 
> 时间：2012-10-01T07:21:48.403
> 
> 标签：eclipse, git, sts-springsourcetoolsuite, egit, google-code

我有一个使用 Git 托管在 googlecode 中的项目。

我将 STS（SpringSource 工具套件）与 eGit 一起使用。

我在家里克隆了存储库，我可以成功提交并推送更改。我在工作中做了同样的事情，当我在提交更改后尝试推送更改时，它显示以下错误：

```
https://myuser@code.google.com/p/myproject/: Invalid username/password.
You may need to use your generated googlecode.com password; see https://code.google.com/hosting/settings 
```

我第一次克隆存储库时输入了 googlecode 生成的密码（就像我在家里一样，这个错误从未出现过）。我尝试再次输入它，但没有任何变化。

有谁知道这可能是什么原因造成的？

谢谢！！

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2012-11-12T10:29:01.690

执行以下操作：

打开 Git 存储库视图，打开“Remotes > origin >”并单击“Change Credentials...”

进一步参考： http: [//www.eclipse.org/forums/index.php/t/209017/](http://www.eclipse.org/forums/index.php/t/209017/)

享受！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-08-23T13:37:50.917

我通过转到`Preferences > General > Security > Secure Storage > Contens`选项卡并删除存储库的默认安全存储来解决它。

# php - 如何 RANDOM() 选择 SQL 中每组的第一个/最少/...行？

> ID：12669004
> 
> 赞同：1
> 
> 时间：2012-10-01T07:22:03.220
> 
> 标签：php, mysql

我有一个样本数据：

```
id|category_id|name
--------------
1|1|test 1
2|1|test 2
3|1|test 3
4|2|test 4
5|2|test 5
6|2|test 6 
```

和 mysql

```
SELECT p.id, p.name, p.category_id 
FROM `test` AS p 
WHERE (SELECT count(*) FROM `test` f WHERE f.category_id = p.category_id AND f.id <= p.id) <= 2 
ORDER BY RAND() 
```

结果是：

```
1|1|test 1
2|1|test 2
4|2|test 4
5|2|test 5 
```

=> 但是结果不能 RANDOM() 值来获取其他值（id=3 和 id=6），如何解决？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T07:44:33.333

试试这个.. 将 RAND 放在 where 子句中，而不是 ORDER BY 中......

> SELECT p.id, p.name, p.category_id FROM `test`AS p WHERE (SELECT count(*) FROM `test`f WHERE f.category_id = p.category_id AND f.id <= p.id) <= 2 AND RAND() < = 6

# php - php 中的 sqlsrv_fetch_array

> ID：12669006
> 
> 赞同：0
> 
> 时间：2012-10-01T07:22:13.927
> 
> 标签：php, sql-server-2008

我尝试在不循环的情况下检索单行数据，但不知何故我无法回显我想要的结果：

```
$sql = "SELECT * FROM table WHERE [TxId] = '?'";
    $params = array($TxId);
    $stmt = sqlsrv_query($conn, $sql, $params);

$row = sqlsrv_fetch_array($stmt, SQLSRV_FETCH_ASSOC);
$status = $row["Status"];
echo "status: ".$status."<br>"; 
```

SQL server 和 Mysql 在检索单行记录方面是否不同？

谢谢！

# android - SQLite 上的共享 ID 数量是否有限制？

> ID：12669010
> 
> 赞同：0
> 
> 时间：2012-10-01T07:22:32.583
> 
> 标签：android, sqlite

我正在构建一个印度语言翻译的 SQLite 数据库，该数据库将占用大量内存。它将对许多新闻媒体应用程序很有用。但如果一个用户必须下载 7 或 8 个媒体应用程序，那么多次下载同一个数据库是没有意义的。

在 xml 上指定共享用户 ID 可能是一种解决方案。但是有没有更好的选择。因为我没有盈利动机，我唯一的目的是看到数十家媒体公司公开使用我的数据库。如果没有这种让开发人员访问数据库的开放方式，我会尝试预先指定 200 个或更多共享 ID，并在未来分配给感兴趣的媒体公司？但是在 SQLite 上，这样的 id 数量是否也有限制？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T07:28:33.080

您应该查看[Content Providers](http://developer.android.com/guide/topics/providers/content-providers.html)。[Android SQLite 数据库和 ContentProvider - 教程](http://www.vogella.com/articles/AndroidSQLite/article.html)将有助于入门。

# java - 嵌入式Tomcat下为不同用户设置不同cookie

> ID：12669011
> 
> 赞同：1
> 
> 时间：2012-10-01T07:22:33.533
> 
> 标签：java, tomcat, session-cookies

我们有一个包含嵌入式 Tomcat 的项目。该项目在不同的环境（开发和qs）下运行。因此，我们有 2 个使用不同配置文件运行的项目实例。发生的情况是，如果通过 LDAP 验证的两个（不同或相同）用户登录，最后一个会断开第一个用户的连接，因为 cookie 名称 (JSESSIONID) 相同。

tomcat1，用户 A 连接，获取一个名为 JESSIONSID 的 Cookie tomcat2，用户 B 连接，获取一个名为 JESSIONSID 的 Cookie，它覆盖旧的

我怎样才能改变这个？

# excel - 如何在 VBA 的网页上单击没有标签名称/ID 的按钮？

> ID：12669012
> 
> 赞同：0
> 
> 时间：2012-10-01T07:22:44.477
> 
> 标签：excel, vba

我在网页中有以下代码。

```
<form class="search" target="_blank" method="get" action="Search.mvc/advanced">
    <input aria-haspopup="true" aria-autocomplete="list" role="textbox" autocomplete="off" class="quick ui-autocomplete-input" name="q" id="search-box" placeholder="Search" type="search">
    <button type="button" class="advanced" title="Advanced Search"><span class="icon"></span></button>
</form> 
```

我想单击为搜索框提供的按钮。网页代码没有标签名称或 ID。

我正在使用 IE 8 浏览器。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2018-05-05T12:52:59.777

尝试使用 CSS 选择器，例如：

```
ie.Document.querySelector("button.advanced").Click 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T09:11:39.000

试试这个代码...

（手写输入未经测试的代码，所以可能有错别字。如果它不起作用，请报告）

```
Sub ClickIEButton()
    Dim ie As Object
    Dim form As Variant, button As Variant

    Set ie = CreateObject("InternetExplorer.Application")
    ie.Visible = True
    ie.Naviagate ("http://whateverwebsite.com")
    While ie.ReadyState <> 4
        DoEvents
    Wend

    Set form = ie.Document.Body.GetElementsByTagName("form")(0) '<-- You may need to change this 0 to 1 or 2 or 3 etc....
    Set button = form.GetElementsByTagName("button")(0)  '<-- You may need to change this 0 to 1 or 2 or 3 etc....
    button.Click
End Sub 
```

# iphone - Web 视图未在 ios6 中播放 MJPEG 视频文件

> ID：12669019
> 
> 赞同：3
> 
> 时间：2012-10-01T07:24:04.327
> 
> 标签：iphone

我正在使用 uiwebView。

我给了网页视图的网址。

该网址有一些视频格式为“MJPEG”。

```
NSMutableURLRequest * theRequest=(NSMutableURLRequest*)[NSMutableURLRequest requestWithURL:[NSURL URLWithString:@"http://example.test.org/cgi-bin/guest/Video.cgi?media=MJPEG"]]
[self.webView loadRequest:theRequest]; 
```

在 ios5 中运行良好，但在 ios6 中无法运行。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-06T20:25:43.373

尝试 MotionJpegImageView 而不是 UIWebView：

文章：[http ://thinkflood.com/support/redeye/software/open-source-software/motion-jpeg-image-view-ios/](http://thinkflood.com/support/redeye/software/open-source-software/motion-jpeg-image-view-ios/)

代码：[https ://github.com/mateagar/Motion-JPEG-Image-View-for-iOS](https://github.com/mateagar/Motion-JPEG-Image-View-for-iOS)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-11-18T17:47:41.137

使用 MJPEGClient 可以使用套接字播放 MJPEG 视频。我已经实现了参考以下示例 [MJPEG](https://github.com/horsson/mjpeg-iphone) 将对某人有所帮助。

# android - 由于大位图大小导致内存不足错误

> ID：12669029
> 
> 赞同：0
> 
> 时间：2012-10-01T07:24:59.913
> 
> 标签：android

我在我的应用程序中使用了一些静态图像，图像被保存在可绘制文件夹中。图像的大小接近 2 MB，但我已经正确缩放它们，但由于位图大小，它仍然显示内存不足错误在运行时。这是专门为三星 Galaxy S3 设计的。谁能告诉我如何阻止这种情况并减小位图大小。

我尝试使用此代码回收图像：

```
 public static Bitmap decodeSampledBitmapFromResource(Resources res, int resId,
        int reqWidth, int reqHeight) {

    // First decode with inJustDecodeBounds=true to check dimensions
    final BitmapFactory.Options options = new BitmapFactory.Options();
    options.inJustDecodeBounds = true;
    BitmapFactory.decodeResource(res, resId, options);

    // Calculate inSampleSize
    options.inSampleSize = calculateInSampleSize(options, reqWidth, reqHeight);

    // Decode bitmap with inSampleSize set
    options.inJustDecodeBounds = false;
    return BitmapFactory.decodeResource(res, resId, options);
}

public static int calculateInSampleSize(
            BitmapFactory.Options options, int reqWidth, int reqHeight) {
    // Raw height and width of image
    final int height = options.outHeight;
    final int width = options.outWidth;
    int inSampleSize = 8;

    if (height > reqHeight || width > reqWidth) {
        if (width > height) {
            inSampleSize = Math.round((float)height / (float)reqHeight);
        } else {
            inSampleSize = Math.round((float)width / (float)reqWidth);
        }
    }
    return inSampleSize;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T07:42:26.140

首先压缩图像以检查这些图像是否真的是泄漏内存的图像。

习惯于使用工具来测量您正在使用的内存并发现泄漏，因为这只是一种方法。您可以从这里开始： [哪些 Android 工具和方法最适合查找内存/资源泄漏？](https://stackoverflow.com/questions/1147172/what-android-tools-and-methods-work-best-to-find-memory-resource-leaks)

我还建议使用此代码查看图像 [https://github.com/nostra13/Android-Universal-Image-Loader](https://github.com/nostra13/Android-Universal-Image-Loader)

# ios - 如何链接XCODE项目的外部框架

> ID：12669031
> 
> 赞同：1
> 
> 时间：2012-10-01T07:25:02.613
> 
> 标签：ios, xcode, frameworks

我的项目有一个私有框架，并且该私有框架必须与 XCODE 链接；意味着如果我对框架代码进行任何更改，它将自动反映到项目中使用的框架。我该怎么做？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-01T09:05:16.940

我强烈建议您为您的私有框架维护一个单独的存储库（据我所知，它将用于不同的项目）。例如，如果您使用 git，只需将其作为子模块添加到您的项目中，然后从那里引用它。（仅使用相对路径！）。

这样，您可以在使用框架时不断增强框架，以便您可以提交修补程序、处理新功能并在处理项目时以非常自然的方式对其进行测试。

# stored-procedures - 更改 CONNECT_PROC 后如何解锁数据库

> ID：12669034
> 
> 赞同：1
> 
> 时间：2012-10-01T07:25:18.553
> 
> 标签：stored-procedures, connection, db2

我在 DB2 10.1 中执行了这个脚本，之后不知道如何重新建立数据库连接：

脚本.sql

```
--#SET TERMINATOR @
SET CURRENT SCHEMA BLOCK_DB @
CREATE PROCEDURE BLOCK_DB.A ()
BEGIN
END @
CREATE PROCEDURE BLOCK_DB.B ()
BEGIN
 CALL BLOCK_DB.A ();
END @
--#SET TERMINATOR ;
UPDATE DB CFG USING CONNECT_PROC BLOCK_DB.B;
DROP PROCEDURE BLOCK_DB.A ();
CONNECT RESET; 
```

我是这样执行的

```
db2 -tf script.sql 
```

之后，我尝试重新连接，但没有成功。

```
db2 connect to sample 
```

不要在生产环境中尝试这个。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-02T08:27:56.683

只需重置 的值`CONNECT_PROC`：

```
db2 "update db cfg for <db> using connect_proc ''" 
```

执行此语句不需要数据库连接。这会将 CONNECT_PROC 设置回默认值 (NULL)，您将能够再次连接到数据库。

# c# - 是否可以创建具有 webHttpBinding 的 WCF 服务的 DLL

> ID：12669036
> 
> 赞同：-1
> 
> 时间：2012-10-01T07:25:38.337
> 
> 标签：c#, .net, wcf, dll

我已经在互联网上进行了搜索，但没有得到任何具体的答案，或者我说一个满意的答案是我们如何制作在其 web.Config 文件中有 webHttpBinding 的 WCF 服务的 DLL。

我有一个 WCF 服务，我想在客户端的服务器上部署它，但我不希望他们看到我的代码，就好像我在他们的服务器上托管这个服务一样，他们将能够看到我的代码，而我不希望那样。

此服务以 JSON 格式响应，只能通过 URL 访问。那么如何创建此服务的 dll，然后将其托管在服务器上。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T07:34:13.917

1) DLL 没有 web.config 或任何其他 .config。

2) 将服务部署为 DLL 不会阻止任何人看到（反汇编的）代码。

3) 您可以在代码中配置您的服务，但仅限于自托管。这通常是作为一个 EXE，一个 DLL 需要其他东西来承载它。

# jsf-2 - PrimeFaces DataTable 枚举过滤

> ID：12669040
> 
> 赞同：1
> 
> 时间：2012-10-01T07:25:52.410
> 
> 标签：jsf-2, enums, datatable, primefaces, filtering

我正在使用 PF 3.4 并尝试过滤具有枚举值的列。我正在使用 jsf 2.0 的枚举转换器。但是过滤对我不起作用这里是示例代码：

```
<p:dataTable id="projeTeklifiListesiDataTable"
                value="#{controller.model.projeTeklifiListesi}"
                var="proje" paginator="true" rowKey="#{proje.id}"
                rows="50"
                selection="#{controller.model.secilenProjeTeklifi}"
                selectionMode="single" styleClass="defaultList">

                <p:column headerText="#{etiket['pfdy_hzrl_vt013']}" 
                              filterBy="#{projeTeklifi.projeTeklifiDurumu}"
                              filterOptions="#{controller.model.projeTeklifiDurumuListesi}" 
                    sortBy="#{projeTeklifi.projeTeklifiDurumu.toString()}">  
                       #{proje.projeTeklifiDurumu.toString()}  
                </p:column>
                <p:column headerText="#{etiket['pfdy_dkd_vt010']}" filterBy="#{projeTeklifi.basariDurumu}"
                    filterOptions="#{controller.model.basariDurumuListesi}"
                    sortBy="#{projeTeklifi.basariDurumu.toString()}">  
                       #{proje.basariDurumu.toString()}  
                </p:column>
            </p:dataTable> 
```

这是过滤器选项的列表

```
public SelectItem[] getProjeTeklifiDurumuListesi()
{
    final ProjeTeklifiDurumu[] durumListesi = ProjeTeklifiDurumu.values();
    final SelectItem[] projeTeklifiDurumListesi = new SelectItem[durumListesi.length+1];
    projeTeklifiDurumListesi[0] = new SelectItem("", "Seçiniz");
    for(int i =0;i<durumListesi.length;i++)
    {
        final SelectItem select = new SelectItem(ProjeTeklifiDurumu.valueOf(durumListesi[i].name()),durumListesi[i].toString());
        projeTeklifiDurumListesi[i+1]=select;
    }
    return projeTeklifiDurumListesi;
}

public SelectItem[]  getBasariDurumuListesi()
{
    final BasariDurumu[] durumListesi = BasariDurumu.values();
    final SelectItem[] projeTeklifiDurumListesi = new SelectItem[durumListesi.length+1];
    projeTeklifiDurumListesi[0] = new SelectItem("", "Seçiniz");
    for(int i =0;i<durumListesi.length;i++)
    {
        final SelectItem select = new SelectItem(durumListesi[i],durumListesi[i].toString());
        projeTeklifiDurumListesi[i+1]=select;
    }
    return projeTeklifiDurumListesi;
} 
```

我已经尝试使用 SelectedItem 类的不同值绑定来绑定枚举本身，绑定枚举的名称，调用 toString() 方法，但它不会过滤。我可以看到我的过滤器选项的值绑定已正确发布，但没有过滤数据。

任何线索都会有所帮助。

谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-02T08:30:07.617

看看 org.primefaces.component.datatable.DataHelper

```
void decodeFilters(FacesContext context, DataTable table) {
  ...

  String columnValue = String.valueOf(column.getValueExpression("filterBy").getValue(context.getELContext()));
  ...
} 
```

他们按原样解码值，所以我认为不会使用任何转换器。

# django - Django 中按领域划分的语言

> ID：12669041
> 
> 赞同：3
> 
> 时间：2012-10-01T07:25:53.720
> 
> 标签：django, localization, internationalization

**是否有任何简单的方法可以根据域在 Django 网站上选择特定语言版本的页面？**（除了语言代码外，两种语言的 URL 都是相同的，所以我希望`mysite.com/teachers/manage`与`mysite.com/en/teachers/manage`（使用 'en' 默认完成）`mesito.es/teachers`相同，`mesito.es/es/teachers`并且与 - 不，**url 本身就像 'teachers/manage ' 永远不会被翻译**，所以我不想为两种语言配置 2 组 url）。

注意：*我发现的所有其他解决方案都意味着我也想翻译 URL，但我知道我永远不想为这个特定的网站翻译 URL 和 manae 2 集。*

注2（忘了补充）：大多数网站实际上都是基于django-cms的，所以django-cms的具体解决方案将有助于...

* * *

好的，我通过重定向视图得到了我想要的这个丑陋的黑客（但仍然没有**正确且****简单**的方法来做到这一点？...）：

```
## mysite.urls:

urlpatterns = patterns('',
    (r'^$', 'mysite.views.language_router')

## mysite.views:

def language_router(request):
    if request.META['HTTP_HOST'].find('myspanishdomain.com') != -1 \
            and request.META['PATH_INFO'] == '/' :
        return HttpResponseRedirect('http://www.myspanishdomain.com/es/')
    return cms.views.details(request, '') 
```

（myenglishdomain.com 网站的默认语言为英语）

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-01T13:38:26.993

你为什么不编写你在[LocaleMiddleware之后添加的 onw 微型](https://docs.djangoproject.com/en/dev/topics/i18n/translation/#how-django-discovers-language-preference)[中间件类](https://docs.djangoproject.com/en/dev/topics/http/middleware/)，它只是添加语言，如果根据你在该线程中解释的规则还没有识别出语言。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-01T08:34:25.483

您可能想看看[Transurlvania](https://github.com/trapeze/transurlvania "特兰西瓦尼亚")，因为它允许您将域映射到一种语言：

```
MULTILANG_LANGUAGE_DOMAINS = {
    'en': ('www.example-en.com', 'English Site'),
    'fr': ('www.example-fr.com', 'French Site')
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-01T07:40:38.883

您可以为每个域使用单独的[站点](https://docs.djangoproject.com/en/dev/ref/contrib/sites/)，并使用视图混合或中间件来检查站点 ID 并做出适当的反应。

# html - 使用 XSL 或 jQuery 修改 HTML

> ID：12669042
> 
> 赞同：2
> 
> 时间：2012-10-01T07:26:04.357
> 
> 标签：html, xslt

我有这个 html，我想修改这个 html，使第一个图像（不一定是树中的第一个元素）显示为 html 中的第一个元素。下面是示例html

```
<div class="parentContainer">
 <div class="content">blah...</div>
 <div class="midContent">blah...</div>
 <img src="url1"/>
 <div class="lowerMidContent">blah...</div>
 <img src="url2"/>
 <img src="url3"/>
 <div class="footerContent">blah...</div>
 <img src="url4"/>
</div> 
```

我希望这个 html 以这样的方式进行转换，即第一个 img（带有 src=url1）作为 parentContainer 的第一个子项出现，而 html 的其余部分应该保持原样。以下是我需要的输出 -

```
<div class="parentContainer">
 <img src="url1"/>
 <div class="content">blah...</div>
 <div class="midContent">blah...</div>     
 <div class="lowerMidContent">blah...</div>
 <img src="url2"/>
 <img src="url3"/>
 <div class="footerContent">blah...</div>
 <img src="url4"/>
</div> 
```

如何才能做到这一点？XSL 可以帮助我做到这一点吗？

编辑：我需要这个纯粹使用 XSLT 而不是使用 jQuery

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T07:32:53.253

试试这个.. 使用 jQuery

```
$('img[src="url1"]').prependTo('.parentContainer'); 
```

如果你不想硬编码类和元素，你可以试试这个..

```
 $('div:eq(0) > img:eq(0)').prependTo('div:eq(0)'); 
```

[演示](http://jsfiddle.net/sushanth009/V25qA/4/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T07:33:59.100

尝试这样的事情（jQuery）：

```
var $img = $('.parentContainer img').eq(0);
$('.parentContainer').prepend($img); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-01T12:33:16.627

**这个完整的 XSLT 转换**：

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
 <xsl:output omit-xml-declaration="yes" indent="yes"/>
 <xsl:strip-space elements="*"/>

 <xsl:template match="node()|@*">
     <xsl:copy>
       <xsl:apply-templates select="node()|@*"/>
     </xsl:copy>
 </xsl:template>

 <xsl:template match="/*">
  <div>
   <xsl:apply-templates select="@*|img[1]"/>
   <xsl:apply-templates select="*[not(generate-id()=generate-id(img[1]))]"/>
  </div>
 </xsl:template>
</xsl:stylesheet> 
```

**应用于提供的 XML 文档时：**

```
<div class="parentContainer">
    <div class="content">blah...</div>
    <div class="midContent">blah...</div>
    <img src="url1"/>
    <div class="lowerMidContent">blah...</div>
    <img src="url2"/>
    <img src="url3"/>
    <div class="footerContent">blah...</div>
    <img src="url4"/>
</div> 
```

**产生完全想要的正确结果：**

```
<div class="parentContainer">
   <img src="url1"/>
   <div class="content">blah...</div>
   <div class="midContent">blah...</div>
   <img src="url1"/>
   <div class="lowerMidContent">blah...</div>
   <img src="url2"/>
   <img src="url3"/>
   <div class="footerContent">blah...</div>
   <img src="url4"/>
</div> 
```

**说明**：

1.  身份规则“按原样”复制选择执行它的每个节点。

2.  有一个标识模板的覆盖——用于 XML 文档的顶部元素。它浅拷贝元素，然后在顶部元素属性和第一`img`个子元素上应用模板。然后将模板应用于所有其他子元素。

3.  标准 XSLT`generate-id()`函数用于检测节点身份。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-01T07:28:27.400

```
$('img[src=url1]').prependTo('.parentContainer')​​​​​ 
```

[http://jsfiddle.net/AWp2z/](http://jsfiddle.net/AWp2z/)

```
$('div').find('img:first').each(function(
    $(this).closest('div').prepend($(this))
})​​​​​ 
```

# sql - 区分默认用户和创建用户

> ID：12669044
> 
> 赞同：1
> 
> 时间：2012-10-01T07:26:13.783
> 
> 标签：sql, oracle, database-administration

Oracle 在为实例 SYS 和 SYSTEM 创建数据库时会默认创建一些用户。有什么方法可以确定用户是否是查询中的默认用户？

[有关默认用户列表，请参阅此处。](http://www.idevelopment.info/data/Oracle/DBA_tips/Database_Administration/DBA_26.shtml)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-01T07:56:33.047

没有明确（据我所知）。要查找有关用户的信息，您必须查看系统视图[DBA_USERS](http://docs.oracle.com/cd/E11882_01/server.112/e25513/statviews_5081.htm#REFRN23302)。

您可以在表空间上查找默认表空间是您创建的所有用户的所有用户；或者您可以简单地在 IN 语句中列出默认用户：

```
select *
  from dba_users
 where username not in ('SYS','SYSTEM',...) 
```

我的首选方法是使用创建用户的日期。根据定义，默认用户是使用数据库创建的，因此在某个日期之后创建的每个用户都不是默认用户。

在我当前连接到的数据库上，以下内容可以工作；您显然必须更改此日期部分以适合您自己的环境

```
select *
  from dba_users
 where trunc(created) > to_date('2009/08/15','yyyy/mm/dd') 
```

# ruby - 在哈希中选择值

> ID：12669052
> 
> 赞同：1
> 
> 时间：2012-10-01T07:26:47.010
> 
> 标签：ruby

我从 Ripe 得到了这个 JSON 输出。

```
[
  {"name"=>"organisation", "value"=>"ORG-MI1-RIPE"},
  {"name"=>"org-name", "value"=>"Mira Internetsolutions ApS"},
  {"name"=>"org-type", "value"=>"LIR"},
  {"name"=>"address", "value"=>"Mira Internetsolutions ApS Nybovej 19 DK-7500 Holstebro Denmark"},
  {"name"=>"phone", "value"=>"+45 9610 1510"},
  {"name"=>"fax-no", "value"=>"+45 9610 1511"},
  {"name"=>"admin-c", "value"=>"MIA3-RIPE", "referenced-type"=>"person-role", "link"=>{"xlink:type"=>"locator", "xlink:href"=>"http://apps.db.ripe.net/whois/lookup/ripe/person-role/MIA3-RIPE"}},
  {"name"=>"admin-c", "value"=>"MIA3-RIPE", "referenced-type"=>"person-role", "link"=>{"xlink:type"=>"locator", "xlink:href"=>"http://apps.db.ripe.net/whois/lookup/ripe/person-role/MIA3-RIPE"}},
  {"name"=>"mnt-ref", "value"=>"rh-mira", "referenced-type"=>"mntner", "link"=>{"xlink:type"=>"locator", "xlink:href"=>"http://apps.db.ripe.net/whois/lookup/ripe/mntner/rh-mira"}},
  {"name"=>"mnt-ref", "value"=>"RIPE-NCC-HM-MNT", "referenced-type"=>"mntner", "link"=>{"xlink:type"=>"locator", "xlink:href"=>"http://apps.db.ripe.net/whois/lookup/ripe/mntner/RIPE-NCC-HM-MNT"}},
  {"name"=>"mnt-by", "value"=>"RIPE-NCC-HM-MNT", "referenced-type"=>"mntner", "link"=>{"xlink:type"=>"locator", "xlink:href"=>"http://apps.db.ripe.net/whois/lookup/ripe/mntner/RIPE-NCC-HM-MNT"}},
  {"name"=>"source", "value"=>"RIPE", "comment"=>"Filtered"}
] 
```

我不能指望它每次都处于相同的顺序。我有大约 200.000 个 IP 需要检查。我该如何搜索：

```
"name" => "address" 
```

然后得到：

```
"value" => "Mira Internetsolutions ApS Nybovej 19 DK-7500 Holstebro Denmark" 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-01T07:33:46.460

使用[Array](http://rdoc.info/stdlib/core/Array)和[Enumerable](http://rdoc.info/stdlib/core/Enumerable)方法。在这种情况下，[找到](http://rdoc.info/stdlib/core/Enumerable#find-instance_method)：

```
data.find { |datum| datum['name'] == 'address' }
# > {"name"=>"address", "value"=>"Mira Internetsolutions ApS Nybovej 19 DK-7500 Holstebro Denmark"} 
```

# asp.net - 如何在 ASP.NET GridView 中将 DateTime 转换为布尔值？

> ID：12669057
> 
> 赞同：0
> 
> 时间：2012-10-01T07:27:06.117
> 
> 标签：asp.net, sql-server, datetime, gridview

我有一个 DateTime 数据类型的列。我想在 ASP.NET 的 GridView 中将此列的值显示为是/否。如果 DateTime 字段为“Is Null”，则显示“No”，如果 DateTime 字段列“Is Not Null”则在网格视图中显示“No”如何执行。无论是在 SQL Query 中还是在 GridView 绑定中执行。

我在 GridView 中尝试过，但失败了。我知道下面的代码是错误的，并且在 SQLQuery 中我检查了它的 ISNULL。

```
<ItemTemplate>
       <asp:Label ID="lblOndate" runat="server" Text='<%# Convert.ToBoolean(Eval("OnDate")) ? "Yes" : "No" %>' ReadOnly="true">
       </asp:Label>
</ItemTemplate> 
```

帮助赞赏！提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T07:32:41.410

一种方法是使用`RowDataBound`：

```
protected void gridview1_RowDataBound(object sender, GridViewRowEventArgs e)
{
    if (e.Row.RowType == DataControlRowType.DataRow)
    {
        DataRow row = ((DataRowView)e.Row.DataItem).Row;
        DateTime? dt = row.Field<DateTime?>("OnDate");
        Label lblOndate = (Label)e.Row.FindControl("lblOndate");
        lblOndate.Text = dt.HasValue ? "Yes" : "No"; 
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-01T07:42:53.783

在后面的代码中定义一个函数并在 geidview 列中通过参数调用，如下所示：

```
<asp:TemplateField HeaderText="" HeaderStyle-HorizontalAlign="Center"
            ItemStyle-HorizontalAlign="Center" FooterStyle-HorizontalAlign="Center">
            <ItemTemplate>
                <asp:Label ID="lbl_SPORT_TYPE" runat="server" Text='<%#StatusName(Eval("SPORT_DATE")) %>'></asp:Label>
</ItemTemplate>
</asp:TemplateField> 
```

后面的代码：

```
Public Function StatusName(ByVal SportDate As DateTime?=nothing) As String
    If SportDate Is Nothing Then
        Return "yes"
    Else
        Return "no"
    End If
End Function 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-01T07:39:29.333

您可以将此属性用于网格视图中的 DateTime 字段列 NullDisplayText="NO

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-01T08:29:49.720

您可以在 GridView 中执行此操作，而无需检查 SQL。只需修改 GridView 中的代码以检查`DBNull.Value`而不是尝试转换为布尔值。

IE

`<asp:Label ID="lblOndate" runat="server" Text='<%# Eval("OnDate") == DBNull.Value ? "No" : "Yes" %>' ReadOnly="true"></asp:Label>`

# android - 谁能告诉我如何下载项目

> ID：12669062
> 
> 赞同：0
> 
> 时间：2012-10-01T07:27:45.697
> 
> 标签：android

我发现了一个有趣的项目

[http://code.google.com/p/android-protips-location/](http://code.google.com/p/android-protips-location/)

以我在移动中无法理解的知识水平，我想下载并运行eclipse但无法下载。

谁能知道我在哪里可以下载

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T07:34:13.110

这是一个 SVN 存储库。SVN 是一个版本控制系统（用于跟踪代码更改等的软件）。您必须使用某种 SVN 客户端检查存储库。

查看本教程以了解如何使用 SVN 客户端。 [http://www.themememe.com/subversion-for-absolute-beginners](http://www.themememe.com/subversion-for-absolute-beginners)

由于您不想将任何更改贡献回项目，您可以使用简单地查找导入部分。但我建议您了解更多关于 SVN 和其他版本控制系统（如 GIT）的信息。他们将真正帮助您进行任何类型的软件工程。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T07:35:54.050

下载 SVN tortise 软件，然后粘贴项目链接，如下所示：

svn 结帐[http://android-protips-location.googlecode.com/svn/trunk/](http://android-protips-location.googlecode.com/svn/trunk/)

# ms-access - 在 Access 中更改生成表查询的默认目标文件夹

> ID：12669063
> 
> 赞同：1
> 
> 时间：2012-10-01T07:27:56.060
> 
> 标签：ms-access, vba

我继承了一个 Access db，其中包含许多保存的*Make Table 查询*(MTQ)。问题是他们在外部 MDB 中创建目标表，并且包含该外部 MDB 的文件夹可能会根据环境而改变。
所有这些保存的 MTQ 当然都对目标数据库进行了硬编码，并带有完整路径：

```
SELECT field1, field2 FROM tablex IN tblNew INTO 'X:\myfolder\myexternal.mdb' 
```

有没有办法**修改 Access 的默认目标文件夹**，以便我以后可以将这些 MTQ 更改为：

```
SELECT field1, field2 FROM tablex IN tblNew INTO 'myexternal.mdb' 
```

并让它们自动转到相应的文件夹？
我尝试使用`ChDir`没有成功，并且`CurrentProject.Path`是只读的。还有其他想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T09:15:44.453

转到文件-> 选项并更改默认数据库文件夹。这如您所愿。

在 VBA 中：

```
SetOption "Default Database Directory", "Z:\Docs\" 
```

这将运行，其中 test.accdb 在 Docs 中：

```
SELECT *
FROM [;database=test.accdb].table1; 
```

请注意，导出现在也将保存在新的默认文件夹中，例如：

```
DoCmd.TransferText acExportDelim, , "Query", "Query.txt" 
```

# php - 执行时动态删除部分sql查询

> ID：12669068
> 
> 赞同：0
> 
> 时间：2012-10-01T07:28:19.820
> 
> 标签：php, mysql

我正在执行一个 mysql 查询。我要加入 4 张桌子。我希望仅当 p.location_id 不等于 0 时才将两条粗线与查询连接。我希望当 p.location_id 等于 0 时不执行它们

```
SELECT p. * 
FROM property p, property_type pt, location l, city c
WHERE p.status =1
AND (
pt.prop_name LIKE  '%dlf%'
OR p.furnish LIKE  '%dlf%'
OR p.description LIKE  '%dlf%'
OR p.bed LIKE  '%dlf%'
OR p.term_condition LIKE  '%dlf%'
OR p.bedroom LIKE  '%dlf%'
OR p.property_type LIKE  '%dlf%'
OR c.city_name LIKE  '%dlf%'
**OR l.loct_name LIKE  '%dlf%'**
)
AND p.prop_id = pt.prop_id
AND p.city = c.city_id
**AND p.location_id = l.loct_id**
ORDER BY sortnum 
```

有什么办法可以做到这一点。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T07:33:06.747

将查询保存在字符串中，并在执行前根据条件将字符串连接起来......

伪代码将是

```
sql = "the query";

if(condition)
{
sql.="what you want to add"
} 
```

编辑：试试这个 SELECT p。*.......IF(p.location_id != 0,AND p.location_id = l.loct_id,NULL) ORDER BY sortnum 编辑 2：

`SELECT p. * FROM property p, property_type pt, location l, city c WHERE p.status =1 AND (pt.prop_name LIKE '%dlf%' OR p.furnish LIKE '%dlf%' OR p.description LIKE '%dlf%' OR p.bed LIKE '%dlf%' OR p.term_condition LIKE '%dlf%' OR p.bedroom LIKE '%dlf%' OR p.property_type LIKE '%dlf%' OR p.property_type LIKE '%dlf%' OR c.city_name LIKE '%dlf%' OR (IF(p.location_id !=0 , l.loct_name LIKE '%dlf%',NULL))) AND p.prop_id = pt.prop_id AND p.city = c.city_id AND (IF(p.location_id != 0),p.location_id = l.loct_id,NULL) ORDER BY shortnum`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T08:26:59.880

```
SELECT p.* 
FROM property p, property_type pt, location l, city c
WHERE p.status =1
AND (
    pt.prop_name LIKE  '%dlf%'
    OR p.furnish LIKE  '%dlf%'
    OR p.description LIKE  '%dlf%'
    OR p.bed LIKE  '%dlf%'
    OR p.term_condition LIKE  '%dlf%'
    OR p.bedroom LIKE  '%dlf%'
    OR p.property_type LIKE  '%dlf%'
    OR c.city_name LIKE  '%dlf%'
    OR (p.location_id <> 0 AND l.loct_name LIKE  '%dlf%')
)
AND p.prop_id = pt.prop_id
AND p.city = c.city_id
AND (p.location_id = 0 OR p.location_id = l.loct_id)
ORDER BY sortnum 
```

你只需要更多的逻辑条件。代码仍然存在，但当您想要的条件发生时，SQL 不会运行它。

# c++ - 在类的构造函数中为常量动态大小的数组赋值

> ID：12669073
> 
> 赞同：0
> 
> 时间：2012-10-01T07:29:03.997
> 
> 标签：c++, class, constructor, constants

*   我有两个班，A和B
*   B 类有一个私有成员变量，它是对象 A 的一个常量动态大小的数组
*   B 类的构造函数之一将采用对 A 类对象的常量引用，该对象将用于在 B 类中设置数组

B类：

```
class B
{
  private:
    const A** theArray;
  public:
    B(const A&);
};

B::B(const A& newA)
  : theArray(newA) //<-- ??
{
} 
```

当我尝试编译程序时，我收到一条错误消息“无法从 'const A' 转换为 'const A **'”

我如何将一个对象传递到成员初始化器列表中，以便我可以从中创建一个数组？

编辑 1：这是一个 comsci 课程作业。我们现在正在学习类，分配让我们为这个特定的类创建三个单独的构造函数（一个复制构造函数；一个用于将新的 A 对象添加到 B 类的“theArray”中；以及一个添加第一个 A 对象的构造函数进入'theArray'（这是有问题的构造函数）。）

这个想法是你调用列表中的第三个构造函数来创建一个对象。然后，如果您想将另一个 A 对象添加到数组中，您将调用第二个构造函数。然后，如果您想要对象的副本，您将使用复制构造函数。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T08:13:11.713

> 当我尝试编译程序时，我收到一条错误消息“无法从 'const A' 转换为 'const A **'”

然后，您必须做的第一件事是了解编译器错误。编译器想说什么？

在`B`构造函数中，您使用类型`const A **`的给定参数初始化类型的成员`const A &`；它们不是同一类型，这就是编译器抱怨的原因。

那么，该如何解决呢？

您必须使`B`构造函数将相同类型的成员变量作为参数。

```
class B
{
private:
    const A** theArray;
public:
    B(const A**);
};

B::B(const A** newA)
    : theArray(newA) //<-- They're of the same type: no problem.
{
} 
```

但是您必须确保类外的调用与构造函数定义相匹配。

但是，我建议您修改设计，而不是它，您确定裸指针是解决您问题的唯一方法吗？您必须回答这些问题才能改进`class B`：

*   动态内存在哪里创建和在哪里销毁？
*   获取给定的`class B`所有权`A**`？

如果`class B`将成为动态内存的所有者，您必须考虑创建和销毁`theArray`内部`class B`本身而不是外部。

如果`class B`将不是动态内存的所有者，则必须非常小心内存： 指向的内存将在?`theArray`之前或之后被销毁。`class B`换句话说，可能是一个`class B`内存`theArray`已被删除的实例？在这种情况下，智能指针可能是一个很好的帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-01T07:55:35.917

这*不是*您在 C++ 中指定动态大小的数组的方式。你的 B 类应该是：

```
class B
{
    std::vector<A> const theArray;
public:
    B( A const& initialA )
        : theArray( n, initialA )
    {
    }
}; 
```

这就留下了一个问题，即`n`（数组中元素的数量）来自哪里，以及为什么你要创建一个所有元素都相同的不可变数组。

事实上，我相当怀疑你是否准确地描述了你正在尝试做的事情。您实际上是否想要一个指针数组`A`（实际 `A`对象位于其他位置，而不是`B` 对象的一部分）？对于`A`对象`const`（但不是数组——“一个恒定的动态大小的数组”是矛盾的）。在这种情况下：

```
class B
{
    std::vector<A const*> theArray;
public:
    B( A const& initialEntry )
        : theArray( 1, &initialEntry )
    {
    }
}; 
```

然后，您可以稍后添加其他条目（始终为 类型`A const*`）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-01T10:34:24.313

当然`std::vector<int>`更可取 - 有关如何使用它，请参阅其他答案。 **如果您真的想使用动态数组 - 请记住添加析构函数并复制/移动内容。**

请记住，您需要知道传递给 的 A 对象是什么`B(const A&)`。它不能是暂时的。这个 newA 必须与 B 对象一样长。如果它是动态的（由 new 创建） - 您必须知道哪个对象将负责删除它。是B级还是什么？

无论如何，只是为了显示直接答案：

`{}`在 C++11 中，使用新的初始化语法非常简单，与 for`std::vector`

```
class B
{
  private:
    const A** theArray;
  public:
    B(const A&);
};

B::B(const A& newA)
  : theArray(new const A*[some_size] { &newA } ) //<-- ??
{} 
```

在 C++03 中，需要一个额外的静态方法来创建/初始化动态数组：

```
class B
{
  private:
    const A** theArray;
    static const A** makeArray(const A& a)
    {
       const A** rv = new const A*[some_size]();
       rv[0] = a;
       return rv;
    }
  public:
    B(const A&);
};

B::B(const A& newA)
  : theArray(makeArray(newA))  //<-- ??
{} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-01T08:01:23.007

您没有为指针数组分配任何内存。

对于构造函数，您应该传递 A 的指针而不是引用。

# cakephp - 名为“模型”的 CakePHP 模型不起作用

> ID：12669074
> 
> 赞同：0
> 
> 时间：2012-10-01T07:29:19.190
> 
> 标签：cakephp

我有一个名为`Model`. 在对其响应有些失望之后，我得出的结论是类文件没有被使用。

为了测试这一点，我将文件名从 更改`model.php`为`model_x.php`并且没有遇到错误。

有人可以向我验证是否`Model`是无效名称`appModel class`吗？

我在用`CakePHP 2.x`

李

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-01T07:36:35.677

[课程`Model`已被占用](http://api.cakephp.org/2.3/class-Model.html)

所以你应该做的是创建另一个名字。使用名为 的控制器和模型时也是如此`layout`，因为其中的 Layout 文件夹`View`已用于布局。所以你要么想出一个巧妙的路由解决方案，要么干脆给它一个不同的名字。

# php - 谷歌 tts api 给我空白 mp3

> ID：12669075
> 
> 赞同：1
> 
> 时间：2012-10-01T07:29:30.007
> 
> 标签：php, text-to-speech

我正在尝试使用 google text-to-speech，但该服务没有给我。我正在使用这个 url 来获取 mp3 ： `http://translate.google.com/translate_tts?ie=utf-8&tl=en&q={$text}`

服务返回错误：我们的客户端没有获取 URL 的权限。我怎样才能解决这个问题 ？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T07:36:06.877

使用`cURL`将避免一些检查：

```
<?php
    header("Content-Type: audio/mpeg");

    $text = urlencode('my text');
    $url = "http://translate.google.com/translate_tts?ie=utf-8&tl=en&q=".$text;
    $ch = curl_init();
    curl_setopt($ch, CURLOPT_URL, $url);
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
    curl_setopt($ch, CURLOPT_USERAGENT, "Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.1)");
    curl_setopt($ch, CURLOPT_TIMEOUT, 60);
    $return = curl_exec($ch);
    curl_close($ch);

    echo $return;
?> 
```

# java - 主机名与规范主机名

> ID：12669076
> 
> 赞同：36
> 
> 时间：2012-10-01T07:29:33.280
> 
> 标签：java, ip-address, hostname, inetaddress, canonical-name

谁能解释一下主机名和规范主机名之间的区别？

我目前正在使用 InetAddress 类使用 IP 地址获取主机名。我遇到了这两个 API。所以我只是想知道，我应该选择哪一个？

* * *

## 回答 #1

> 赞同：37
> 
> 时间：2012-10-01T08:55:41.880

两者之间有一些区别：

*   [`getCanonicalHostName()`](http://docs.oracle.com/javase/7/docs/api/java/net/InetAddress.html#getCanonicalHostName%28%29)将尝试解析[FQDN](http://en.wikipedia.org/wiki/Fully_qualified_domain_name)。因此，您将获得*foo.mycompany.com*而[`getHostName()`](http://docs.oracle.com/javase/7/docs/api/java/net/InetAddress.html#getHostAddress%28%29)可能只返回*foo*。

*   `getCanonicalHostName()`将始终进行反向 DNS 查找，而`getHostName()`如果您在`InetAddress`构造函数中提供了一个，则将返回存储的主机名。

`getCanonicalHostName()`如果您打算将 IP 地址映射到主机名，我怀疑您会想要使用。

# apache - 如何将所有流量重定向到 Apache 文档根目录

> ID：12669077
> 
> 赞同：1
> 
> 时间：2012-10-01T07:29:41.023
> 
> 标签：apache, mod-rewrite

我有 tinycms 应用程序，如何将所有流量转发到文档根目录？

例子：

```
http://<IP-address>/ADFADSF/adsfadsf --> /
http://domain.com/adsf --> / 
```

目前，我的 .htaccess 中有这个

```
<Files .htaccess>
order allow,deny
deny from all
</Files>
Options +FollowSymLinks
RewriteRule admin/$ index.php?view=admin [QSA]
Options -Indexes 
```

谢谢。詹姆士

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T08:31:22.380

使用 mod_rewrite：

```
RewriteRule ^/?.+$ / [L,R] 
```

使用 mod_alias：

```
RedirectMatch ^/.+ / 
```

当然，这会使`RewriteRule admin/$ index.php?view=admin [QSA]`规则变得无用，或者至少会引起一些冲突。因此，您应该评论该排除，或者创建一个特殊的例外，其中除了`admin/`重定向之外的所有流量。

* * *

编辑：

> 除了 admin/ 之外，我将如何制定规则？

这是一种方法，我只是猜测这是您想要的行为。这些东西没有改变，它的方式很好：

```
<Files .htaccess>
order allow,deny
deny from all
</Files>
Options +FollowSymLinks -Indexes 
```

添加一个：

```
RewriteEngine On 
```

然后：

```
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_URI} !^/(index\.php|admin)
RewriteRule ^/?.+$ / [L,R]

RewriteRule admin/$ index.php?view=admin [QSA,L] 
```

因此，将所有这些放在一起，您就可以**拒绝**访问*.htaccess*文件。然后你有你的`Options`，然后你的重写规则。您需要打开 RewriteEngine，然后**重定向**任何不是`/index.php`或的请求`/admin`，然后在*内部重写* `/admin`为`/index.php`.

# asp.net-mvc-3 - mvc 3 System.AccessViolationException 与 vs 2012

> ID：12669082
> 
> 赞同：1
> 
> 时间：2012-10-01T07:30:05.030
> 
> 标签：asp.net-mvc-3, visual-studio-2010, visual-studio-2012

我上周安装了 Visual Studio 2012 Ultimate。我们目前使用 VS 2010 Professional，所以使用 2012 是我唯一简单的测试选择。

我打开了 VS 2012 Ultimate 并打开了一个用 VS 2010 编写的 MVC 3 项目。然后撤消签出代码。然后不运行项目并收到以下错误，但类似的项目可以正常工作。

> System.AccessViolationException 未处理 HResult=-2147467261 消息=尝试读取或写入受保护的内存。这通常表明其他内存已损坏。Source=WebDev.WebHost40 StackTrace：在 Microsoft.VisualStudio.WebHost.Server.OnSocketAccept(Object acceptedSocket) 在 Microsoft.VisualStudio.WebHost.Host.ProcessRequest(Connection conn) 在 System.Threading.QueueUserWorkItemCallback.WaitCallback_Context(Object state) 在系统。 Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state, Boolean preserveSyncCtx) at System.Threading.ExecutionContext.Run(ExecutionContext executionContext, ContextCallback callback, Object state, Boolean preserveSyncCtx) 在 System.Threading.QueueUserWorkItemCallback.System.Threading。 IThreadPoolWorkItem。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-07T07:41:25.273

尝试使用 IIS Express，Visual Studio 开发服务器不是一个完整的 Web 服务器，它有很多错误。

# matlab - Matlab 错误：索引超出矩阵维度（仅查看向量的单个元素）

> ID：12669091
> 
> 赞同：2
> 
> 时间：2012-10-01T07:31:09.220
> 
> 标签：matlab, matrix, octave, dimensions

这是我的代码：

m 是向量 y 的长度。

```
1 c=1; 
2 cMax=1;
3  
4 while c<=m
5
6       if abs((y(c)-y(c+1)))>0.001
7           cMax=cMax+1;
8       end
9
10  c=c+1;
11 end 
```

本质上，向量 y 是一个具有一组从最小到最大组织的整数的向量，我试图找出 y 有多少不同的值。

我将 y 的当前值与 y 的下一个值进行比较，并保存 cMax 中有多少变化。

我已经更改了几次 if 逻辑语句。它一直：

```
if y(c)~=y(c+1) 
```

我把 if 语句颠倒过来是这样的：

```
if y(c)==y(c+1)
 %do nothing
 ;
else 
 cMax=cMax+1; 
```

我不确定我做错了什么，但错误信息总是一样的：

> 错误：A(I)：索引超出矩阵维度。
> 
> 错误：调用自：
> 
> 错误：C:\Users\dickweed\Documents\Study\Machine Learning\Tutorials\ex3\oneVsA ll.m 第 57 行**[6]**，第 3 列**[if 语句之前的方式]**
> 
> 错误：C:\Users\dickweed\Documents\Study\Machine Learning\Tutorials\ex3\ex3.m 第 58 行**[7]**，第 14 列**[在字母 c 之后]**

我在代码指示我提供的代码中的错误的地方加粗。

这些列很古怪，这可能是因为我正在使用的文本编辑器，但我假设实际列的意思是在 if 语句之前和 end 语句之前。

任何帮助将不胜感激。

PS。我实际上使用的是 Octave 和 Notepad++。出于所有意图和目的，该语言与 Matlab 完全相同，因此我将其标记为 Matlab。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-01T07:35:27.597

我认为您的索引超出了矩阵维度。

具体在以下行中：

```
y(c)-y(c+1) 
```

在最后一次迭代中，当 c=m 时，第二项 y(c+1) 尝试访问不存在的元素。

建议：将您的停止条件更改为：

```
c<m 
```

# git - 是否可以修复 git 中的旧提交？

> ID：12669092
> 
> 赞同：1
> 
> 时间：2012-10-01T07:31:15.323
> 
> 标签：git, version-control

我目前注意到，在我当前的分支中，较旧的提交 X（比如说，HEAD~10）遗漏了一些小细节。我想知道是否仍然可以将我的更改提交到那个旧的 git 提交。

我只在本地工作，所以没有奇怪的远程限制。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-01T07:33:53.073

是的，如果你不推到其他地方，最好是如果你有线性历史，你可以这样做。您只需提交您的小事并使用`git rebase --interactive`，然后您可以重新排序和压缩或编辑您的提交。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T07:37:02.270

签出该提交

进行更改并使用 --amend 提交以对其进行修改

将缺失的提交退回到头上，你应该在你现在的位置上进行修改

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-02T06:24:26.370

只需创建一个新的提交，添加所需的更改，主题为“fixup！[HEAD~10 的提交消息]”并运行`git rebase --interactive --autosquash`

# android - 带健康设备的串口转 USB Android 应用程序

> ID：12669093
> 
> 赞同：4
> 
> 时间：2012-10-01T07:31:16.187
> 
> 标签：android, usbserial

我正在创建一个 Android 应用程序，让我的 Galaxy 平板电脑通过串行到 USB 连接与健康设备进行通信。

我实现的代码不起作用！OUT 和 IN 通信均未启动

有人有什么想法吗？

```
public void recordData(View _view){
    text = (TextView)findViewById(R.id.textView1);

    manager=(UsbManager) getSystemService(Context.USB_SERVICE);

    PendingIntent mPermissionIntent = PendingIntent.getBroadcast(this, 0, new Intent(ACTION_USB_PERMISSION), 0);
    IntentFilter filter = new IntentFilter(ACTION_USB_PERMISSION);
    registerReceiver(mUsbReceiver, filter);

    HashMap<String, UsbDevice> deviceList = manager.getDeviceList();
    Iterator<UsbDevice> deviceIterator = deviceList.values().iterator();
    while(deviceIterator.hasNext()){
        UsbDevice device = deviceIterator.next();
        manager.requestPermission(device, mPermissionIntent);
        text.setText(text.getText()+"\n"+device.getDeviceName());
    }

}

private UsbManager manager=null;

private boolean forceClaim = true;
private UsbDeviceConnection connection;
private UsbEndpoint input = null,output=null; 
private static final String ACTION_USB_PERMISSION = "com.android.example.USB_PERMISSION";
    private final BroadcastReceiver mUsbReceiver = new BroadcastReceiver() {

        public void onReceive(Context context, Intent intent) {
            String action = intent.getAction();
            if (ACTION_USB_PERMISSION.equals(action)) {
                synchronized (this) {
                    isRecording=true;
                    UsbDevice device = (UsbDevice)intent.getParcelableExtra(UsbManager.EXTRA_DEVICE);

                    if (intent.getBooleanExtra(UsbManager.EXTRA_PERMISSION_GRANTED, false)) {
                        if(device != null){
                          //call method to set up device communication
                            UsbInterface intf = device.getInterface(0);
                            connection = manager.openDevice(device); 
                            connection.claimInterface(intf, forceClaim);

                            //connection settings
                            int op= connection.controlTransfer(0x40, 0, 0, 0, null, 0, 0);// reset   //0x40
                            int op2= connection.controlTransfer(0x40, 0, 1, 0, null, 0, 0);//clear Rx  
                            int op3= connection.controlTransfer(0x40, 0, 2, 0, null, 0, 0);// clear Tx
                            int op3b=  connection.controlTransfer(0x40, 0x02, 0x0000, 0, null, 0, 0);//control flow

                            int op4= connection.controlTransfer(0x40, 0x03, 0x001A, 0, null, 0, 0);// baud rate 115200
                            int op5= connection.controlTransfer(0x40, 0x04, 0x0008, 0, null, 0, 0);//8 bit

                            int endPts = intf.getEndpointCount();

                            for(int e = 0; e < endPts; e++){
                                UsbEndpoint endpoint = intf.getEndpoint(e);
                                endpoint.getAttributes();

                                if( endpoint.getType() == UsbConstants.USB_ENDPOINT_XFER_BULK){
                                    if(endpoint.getDirection() == UsbConstants.USB_DIR_IN){
                                        input = endpoint;
                                        Log.d("Endpoint", "Got input");

                                    }else if(endpoint.getDirection() == UsbConstants.USB_DIR_OUT){
                                        output = endpoint;
                                        Log.d("Endpoint", "Got output");
                                    }                       
                                }
                            }

                            text.setText(text.getText()+"\nOut= "+String.valueOf(output.getEndpointNumber()));
                            text.setText(text.getText()+"\nIn= "+String.valueOf(input.getEndpointNumber()));

                            byte [] buffer = {77}; // M\n in ascii
                            for (int i = 0; i < buffer.length; ++i)
                            {
                                connection.bulkTransfer(output, new byte[] {buffer[i]}, 1, 0);
                            }

                            read();

                       }
                    } 
                    else {
                        //error
                    }
                }
            }
        }
    };

//read thread
    private void read() {
        Runnable r = new Runnable() {
            byte[] buffer = new byte[64];
            byte[] buffer2;
            public void run() {
                while (isRecording) {
                    {
                        int op = connection.bulkTransfer(input, buffer, 64, 0);

                        if (op > 2) {
                            buffer2 = new byte[op];
                            for (int i = 0; i < op - 2; ++i) {
                                buffer2[i] = buffer[i+2];
                                text.setText(text.getText()+"\n"+String.valueOf(buffer2[i]));
                            }

                        }
                    }

                }
            }
        };
        Thread t = new Thread(r);
        t.start(); 
```

非常感谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-02T04:35:28.913

在尝试发送字节之前，您必须先控制事务：

利用：

```
// for writing to USB with 9600 baudrate
connection.controlTransfer(0x00000000, 0x03, 0x4138, 0, null, 0, 0); 
```

和

```
// for reading from USB with 9600 baudrate
connection.controlTransfer(0x00000080, 0x03, 0x4138, 0, null, 0, 0); 
```

参考：

*   [http://developer.android.com/guide/topics/connectivity/usb/host.html](http://developer.android.com/guide/topics/connectivity/usb/host.html)
*   [http://developer.android.com/reference/android/hardware/usb/UsbConstants.html](http://developer.android.com/reference/android/hardware/usb/UsbConstants.html)

# c# - ASPNetAuthentication -- 在哪里可以找到 minRequiredPasswordLength

> ID：12669100
> 
> 赞同：2
> 
> 时间：2012-10-01T07:32:30.973
> 
> 标签：c#, web-config, asp.net-membership, membership-provider, asp.net-authentication

解决这个问题有点麻烦......主要目标是让用户配置密码强度，这就是我卡住的地方：在某个配置文件中有一个设置，指定最小密码长度为 7，我不能在我的一生中找到了该死的东西，我检查了 app.config 以获取特定的提供程序实现，检查了 web.config 以获取解决方案（其中提到了参数但设置为 1），我什至检查了任何东西的 .config 文件，甚至触及这个但什么都没有。有点令人沮丧。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-03T14:44:25.330

好吧，`minRequiredPasswordLength`在您的会员提供者部分配置。看看这个[问题](https://stackoverflow.com/q/12702649/114029)，看看它设置为 6 的例子。

鉴于此，您应该使用`Membership`类型上的以下属性访问此值：

```
var minPassLength = System.Web.Security.Membership.MinRequiredPasswordLength; 
```

如果它不起作用，也许您有一个自定义提供程序实现，它覆盖了设置的属性值`Web.config`- 请参见[此处](https://stackoverflow.com/a/9990435/114029)的示例。在这种情况下，我建议您在整个解决方案中进行搜索以查找字符串`minRequiredPasswordLength`并查看该值的来源。如果自定义提供程序来自第三方 DLL，您必须有权访问库代码才能更改该值。

# php - 如何使用“PHP Simple HTML DOM Parser”获取 ajax 产品加载页面上的所有产品详细信息

> ID：12669101
> 
> 赞同：2
> 
> 时间：2012-10-01T07:32:33.090
> 
> 标签：php, parsing, domparser

全部

我正在使用 PHP Simple HTML DOM Parser 来获取标题和价格等产品详细信息。这是代码

```
<?php 

// Include the library
include('simple_html_dom.php');

// Retrieve the DOM from a given URL
$html = file_get_html('http://www.flipkart.com/mobiles/micromax');

// Find all SPAN tags that have a class of "myClass"
foreach($html->find('a.title') as $e){  
    echo 'Title: '.$e->outertext . '<br>';
    //$html = file_get_html('http://www.flipkart.com/mobiles/micromax/'.$e->outertext);

}

foreach($html->find('span.final-price') as $e)
    echo 'Price:'.$e->outertext . '<br>';

?> 
```

结果

```
Title: Micromax X101 (White) 
Title: Micromax X291 (White) 
Title: Micromax X101 (Yellow) 
Title: Micromax X234+ (Wine Red) 
Title: Micromax Ninja 3 A57 (Black) 
Title: Micromax Ninja 4.0 A87 (Black) 
Title: Micromax Bling Q55 (Pearl White) 
Title: Micromax X222 (Cocoa Brown) 
Title: Micromax X263 (Champagne & Coffee) 
Title: Micromax X650 (Silver White) 
Title: Micromax A73 (Black) 
Title: Micromax X1i XTRA (Black) 
Title: Micromax Superfone Lite A75 (Charcoal Black) 
Title: Micromax X271 (Black & Blue) 
Title: Micromax X50 (Black) 
Title: Micromax Q56 (Baby Pink) 
Title: Micromax X104 (Black) 
Title: Micromax Q22 (Black Green) 
Title: Micromax Aisha A52 (Yellow) 
Title: Micromax A78 (Coffee) 
Price:Rs. 999
Price:Rs. 1910
Price:Rs. 999
Price:Rs. 1190
Price:Rs. 4999
Price:Rs. 6049
Price:Rs. 3130
Price:Rs. 2040
Price:Rs. 1735
Price:Rs. 3350
Price:Rs. 6199
Price:Rs. 1525
Price:Rs. 6299
Price:Rs. 1590
Price:Rs. 4850
Price:Rs. 3999
Price:Rs. 1099
Price:Rs. 1880
Price:Rs. 4699
Price:Rs. 6970 
```

这工作正常，但在浏览器[http://www.flipkart.com/mobiles/micromax](http://www.flipkart.com/mobiles/micromax)中打开此页面。有 ajax 产品加载功能。

所以我的脚本只是获取初始加载的产品。我想得到所有的产品。您可以看到“显示 1-20 of 78”。如何获取全部 78 个产品的详细信息？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-01T07:39:06.077

您可以读取他们的产品数量并除以 20，因为他们显示并使用他们的 AJAX 脚本来获取值 20。这样您就可以避免`simple_html_dom`和解码 json 字符串：

```
http://www.flipkart.com/mobiles/micromax?response-type=json&inf-start=0
http://www.flipkart.com/mobiles/micromax?response-type=json&inf-start=20 
```

等等。

您只需要检查在页面滚动期间调用的脚本。在谷歌浏览器中，您可以使用`Developer Tools`、打开`F12`和观看网络部分。

# algorithm - 这里可以使用什么算法

> ID：12669102
> 
> 赞同：2
> 
> 时间：2012-10-01T07:32:35.110
> 
> 标签：algorithm, sorting

这是一道面试题，不是作业。

N个朋友在玩游戏。他们每个人面前都有一个数字列表。

N 个朋友中的每一个从他的列表中选择一个数字并报告给游戏管理员。然后游戏管理员对上报的数字进行排序，喊出第K大的数字。

我必须计算游戏管理员可以喊出的所有可能的数字。

例如，如果 N = 3 且 K = 3，则 3 个朋友的列表是`2 5 3`, `8 1 6`, `7 4 9`。输出为 6，因为可能的值为`4 5 6 7 8 9`.

任何人都可以为这个问题提出一个体面的算法吗？我正在做的是创建所有可能的排列，从每个列表中取一个数字，然后对结果进行排序并打印第 k 个最大的。但这需要太多时间。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-01T07:51:11.867

要知道结果中是否存在数字，您需要知道彼此的列表是否上面有数字以及下面是否有数字。列出上面和下面都有数字的地方不是问题，因为您可以在其中选择一个适合您的数字。问题是上面只有数字或下面只有数字的列表。第一个最多只能是 NK，第二个最多只能是 K。如果不是这样，则无法选择您的号码。如果这是真的，您总是可以在列表中选择上面和下面都有数字的数字，以便选择您的号码。

这可以在线性时间内进行检查，如果您首先对列表进行排序，甚至更好，从而给出 O(n.log(n)) 的整体复杂度，其中 n 是总数。如果没有排序，你会得到 n² 的复杂度。

在您的示例中，列表：

```
{2 5 3}, {8 1 6}, {7 4 9} 
```

假设我们正在寻找 2 最大的数字。对于每个号码，我们都会询问管理员是否可以喊出它。对于它们中的每一个，我们查看另一个列表中是否同时存在下方和上方的数字。让我们进一步寻找其中的一些

*   对于 5 ：其他两个列表中的上方和下方都有数字。所以管理员可以喊“5”。

*   对于“2”：第二个列表中的上方和下方都有数字，因此我可以在此列表中自由选择上方或下方的数字。但是第三个列表中只有上面的数字，所以这个列表中的选择数字总是更大。由于我可以在第二个列表中自由选择下面的数字，因此使我的“2”成为第二大数字。

*   对于 "1" ：第二个列表中只有上面的数字，因此 "1" 将始终是最小的元素。

*   对于“9”：反过来，它总是最大的。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-10-01T07:56:47.890

从每组中取最小的数。找到其中第 K 个最大的。这是结果中的最小数字。同样，在结果中找到最大的数。证明两者之间的每个数字都在结果中。

# android - 在画布中跟踪字体

> ID：12669104
> 
> 赞同：1
> 
> 时间：2012-10-01T07:32:46.450
> 
> 标签：android, opengl-es, android-ndk, android-canvas

我正在创建一个 android 应用程序，用户可以在其中学习写字母。我的要求是这样的：使用 Paint.drawText() 在画布上显示一个字母。用户将在字母表上移动手指以跟踪它。我能够完成以上两个要求。

现在我想要的是：如果用户在字母区域（路径）以外的任何地方触摸他的手指，它应该振动/发出嗡嗡声。问题是：我如何知道用户是否远离字母路径/区域？

这是代码片段。

```
 public class MyView extends View {

    private static final float MINP = 0.25f;
    private static final float MAXP = 0.75f;

  private Bitmap  mBitmap;
    private Canvas  mCanvas;
    private Path    mPath;
   private Paint   mBitmapPaint;

    public MyView(Context c) {
        super(c);

        mPath = new Path();
      mBitmapPaint = new Paint(Paint.DITHER_FLAG);
    }

    @Override
   protected void onSizeChanged(int w, int h, int oldw, int oldh) {
        super.onSizeChanged(w, h, oldw, oldh);
        mBitmap = Bitmap.createBitmap(w, h, Bitmap.Config.ARGB_8888);
        mCanvas = new Canvas(mBitmap);
    }

    @Override
    protected void onDraw(Canvas canvas) {
        canvas.drawColor(0xFFAAAAAA);
        Paint p = new Paint(Paint.ANTI_ALIAS_FLAG);
        p.setTextSize(200);
        p.setColor(Color.BLACK);
        canvas.drawText("A", 300, 150, p);
       // canvas.drawLine(mX, mY, Mx1, My1, mPaint);
       // canvas.drawLine(mX, mY, x, y, mPaint);
        canvas.drawPath(mPath, mPaint);
        Path pa;
        canvas.get

        canvas.drawBitmap(mBitmap, 0, 0, mBitmapPaint);

    }

    private float mX, mY;
    private static final float TOUCH_TOLERANCE = 4;

    private void touch_start(float x, float y) {
        mPath.reset();
        mPath.moveTo(x, y);
        mX = x;
        mY = y;
    }
    private void touch_move(float x, float y) {
        float dx = Math.abs(x - mX);
        float dy = Math.abs(y - mY);
        if (dx >= TOUCH_TOLERANCE || dy >= TOUCH_TOLERANCE) {
           // mPath.quadTo(mX, mY, (x + mX)/2, (y + mY)/2);
            mX = x;
            mY = y;
        }
        mPath.lineTo(mX, mY);
        vibe.vibrate(10);
    }
    private void touch_up() {

        // commit the path to our offscreen
        mCanvas.drawPath(mPath, mPaint);
        // kill this so we don't double draw
        mPath.reset();
        vibe.cancel();
    }

    @Override
    public boolean onTouchEvent(MotionEvent event) {
        float x = event.getX();
        float y = event.getY();

        switch (event.getAction()) {
            case MotionEvent.ACTION_DOWN:
                touch_start(x, y);
                invalidate();
                break;
            case MotionEvent.ACTION_MOVE:
                touch_move(x, y);
                invalidate();
                break;
            case MotionEvent.ACTION_UP:
                touch_up();
           //   Mx1=(int) event.getX();
             //  My1= (int) event.getY();
               invalidate();
                break;
        }
        return true;
    }
} 
```

# android - 此应用与您在 Android TAB 上的设备不兼容

> ID：12669110
> 
> 赞同：1
> 
> 时间：2012-10-01T07:33:40.250
> 
> 标签：android, google-play, compatibility

当我尝试在运行 android 版本 3.1 的摩托罗拉 Xoom 选项卡上安装来自市场的应用程序时。通过从运行 android 版本 4 的 PAD 上的市场下载安装应用程序时，我也遇到了同样的错误

帮助将不胜感激...

下面是我的清单文件

```
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    android:installLocation="auto"
    package="com.clubdango.android"
    android:versionCode="11"
    android:versionName="2.0.4" >

    <uses-sdk
        android:minSdkVersion="8"
        android:targetSdkVersion="11" />

    <uses-permission android:name="android.permission.SEND_SMS" />
    <uses-permission android:name="android.permission.ACCESS_WIFI_STATE"/>
    <uses-permission android:name="android.permission.INTERNET"/>

    <application
        android:configChanges="orientation|keyboard"
        android:debuggable="true"
        android:icon="@drawable/icon"
        android:label="@string/app_name"
        android:name=".ClubDangoApplication" >
        <activity
            android:name=".MainActivity"
            android:theme="@android:style/Theme.NoTitleBar" >
        </activity>
        <activity
            android:name=".SplashActivity"
            android:screenOrientation="portrait"
            android:theme="@android:style/Theme.NoTitleBar" >
            <intent-filter >
                <action android:name="android.intent.action.MAIN" />

                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>

        <uses-library android:name="com.google.android.maps" />
    </application>

    <supports-screens
        android:anyDensity="true"
        android:largeScreens="true"
        android:normalScreens="true"
        android:smallScreens="true" />

    <uses-permission android:name="android.permission.CALL_PHONE" />
    <uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
    <!-- <uses-permission android:name="android.permission.SET_DEBUG_APP" /> -->
    <uses-permission android:name="android.permission.CAMERA" />

    <uses-feature
        android:name="android.hardware.camera"
        android:required="false" />
    <!-- REQUIRED -->
    <uses-permission android:name="android.permission.INTERNET" />
    <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
    <uses-permission android:name="android.permission.RECEIVE_BOOT_COMPLETED" />
    <uses-permission android:name="android.permission.READ_PHONE_STATE" />
    <uses-permission android:name="android.permission.VIBRATE" />
    <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />
    <!-- REQUIRED for C2DM -->
    <!-- Only this application can receive the messages and registration result -->
    <permission
        android:name="com.clubdango.android.permission.C2D_MESSAGE"
        android:protectionLevel="signature" />

    <uses-permission android:name="com.clubdango.android.permission.C2D_MESSAGE" />
    <!-- This app has permission to register and receive message -->
    <uses-permission android:name="com.google.android.c2dm.permission.RECEIVE" />

</manifest> 
```

请帮忙...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T07:43:36.357

平板电脑在大多数情况下都是超大屏幕，您必须添加`android:xlargeScreens="true"`到支持屏幕。此外，如果需要，您必须提供 xlarge 布局和 xhdpi 资源。

# tidesdk - TideSDK 有图片处理能力吗？

> ID：12669111
> 
> 赞同：2
> 
> 时间：2012-10-01T07:33:41.177
> 
> 标签：tidesdk

我似乎在[TideSDK API 上看](http://tidesdk.multipart.net/docs/user-dev/generated/#!/api)不到任何图像处理细节。是否可以进行图像处理？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-01T10:44:12.410

到目前为止，TideSDK API 本身没有提供任何图像处理方法。我们将在 10 月升级 TideSDK 以使用带有 TideSDK 1.4 的最新版 webkit，为您提供完整的 HTML5 和 CSS3 支持，以及可用于 javascript 图像处理的 HTML5 Canvas。

在此之前，您可以尝试使用 PHP 的图像函数进行图像处理，因为在当前使用的 PHP 版本中，捆绑了 GDlib v 2.0.34。在这里找到函数文档：http: [//de.php.net/manual/en/ref.image.php](http://de.php.net/manual/en/ref.image.php)

# vsto - 使用 VSTO 检查单词引用中的字段错误

> ID：12669113
> 
> 赞同：1
> 
> 时间：2012-10-01T07:33:42.610
> 
> 标签：vsto, office-interop

如何检查我的单词中的某些字段是否有错误？我有一个很大的文档，其中包含对其他章节或图像的许多引用。当文档中缺少这些章节或图像时，将显示包含这些参考的字段`Error! Reference Source Not Found`而不是参考。

问题是，我需要创建一个算法来检查这些引用错误，无论文件的语言环境和语言是什么。问题是，该字段错误已本地化为使用该词的用户的系统语言。

我怎样才能做到这一点？是否有任何属性`Field`可用于检查源是否可用？

目前，我使用字段的结果文本检查字段中的错误：

```
Int32 fieldErrors = 0;
foreach (Word.Field field in doc.Fields)
{
    field.Update();
    if (field.Result.Text.StartsWith("Error!"))
        ++fieldErrors;
} 
```

不幸的是，这仅适用于英语单词实例。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-06T12:49:27.267

在`Field`类型的文档中，可以看到一个`Field`实例有一个`Update()`返回`bool`. 文档没有说明返回值的语义是什么，但是，通过做一个简短的实证研究，我发现`true`如果`Update()`成功并且`false`更新不成功，该方法就会返回。这意味着为了查找有错误的字段，您可以执行以下操作：

```
var fieldsWithErrors = new List<Field>();
foreach (Field field in document.Fields)
{
    if(!field.Update())
        fieldsWithErrors.Add(field);
} 
```

...或更短的LINQ：

```
var fieldsWithErrors = document.Fields.Cast<Field>().Where(field => !field.Update()).ToList(); 
```

另一种（更快）的方法是使用集合`Update()`公开的方法。`Fields`

```
var indexOfFirstError = document.Fields.Update(); 
```

...该方法返回有错误的第一个字段的索引。如果没有发现错误，该方法返回 0。

有关完整文档，请参阅 MSDN 参考资料：

*   [Field.Update()](http://msdn.microsoft.com/en-us/library/microsoft.office.interop.word.field.update.aspx)
*   [字段.Update()](http://msdn.microsoft.com/en-us/library/microsoft.office.interop.word.fields.update%28v=office.14%29.aspx)
*   [现场成员](http://msdn.microsoft.com/en-us/library/microsoft.office.interop.word.field_members.aspx)
*   [字段成员](http://msdn.microsoft.com/en-us/library/microsoft.office.interop.word.fields_members)

# python - 从 Django 迁移到 Flask，您遇到了哪些不明显的问题？

> ID：12669115
> 
> 赞同：0
> 
> 时间：2012-10-01T07:33:48.650
> 
> 标签：python, django, web-services, web-applications, flask

问题是针对在实际项目中使用 Django 和 Flask 的程序员。

前往 Flask 面临哪些挑战？

对可能出现意外困难的情况感兴趣（使用 django 之后）。

欢迎提供具体示例。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T13:39:50.417

我倾向于将 Django 用于“大”项目，将 Flask 用于需要少于~300 行文件的项目。

在我看来，迁移到 Flask 的挑战在于寻找表单、邮件、数据库的扩展......当你需要它们时，并参考不同的文档。但这自然是灵活性的代价。

我一直面临的关键问题之一是使用 Fabric 进行部署。我习惯于使用 django-fab-deploy 快速部署，我花了一点时间来为 Flask 设置类似的通用部署解决方案。

# internet-explorer - 引导手风琴不适用于 IE

> ID：12669119
> 
> 赞同：4
> 
> 时间：2012-10-01T07:34:00.047
> 
> 标签：internet-explorer, twitter-bootstrap

我一直在使用引导程序在网站上工作，我使用了手风琴（折叠）JavaScript 功能。

它适用于除 IE 之外的所有浏览器。

[http://bonanza.mocorner.com/en/success_story/](http://bonanza.mocorner.com/en/success_story/)

上面的 URL，如果使用 FF 或 Chrome 访问，您可以看到手风琴工作正常。使用 IE 时，它不是，有什么想法吗？尽管我确实在我的 HTML 标头中包含了以下内容

```
<!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
<!--[if lt IE 9]>
  <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
<![endif]--> 
```

下面是我的 HTML 代码

```
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" >
<head>
    <meta charset="utf-8">

    <!-- CSS Styling starts here -->
    <link rel="stylesheet" type="text/css" href="/public_assets/bootstrap/css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="/public_assets/bootstrap/css/bootstrap-responsive.min.css" />
    <link rel="stylesheet" type="text/css" href="/public_assets/base.css" />
    <!-- CSS Styling ends here -->

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- JS Starts here -->
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js"></script>
    <script type="text/javascript" src="/public_assets/bootstrap/js/bootstrap.min.js"></script>

    <script type="text/javascript" src="/en/js/common_js.js"></script>
    <script type="text/javascript" src="/public_assets/js/jquery.cookie.js"></script>

    <!-- JS ends here -->

</head>
<body>
..............

        <script>
            $(".collapse").collapse();
        </script>

        <div class="collapse in">
            <div id="accordion-group" class="accordion">

                    <div class="accordion-group">
                        <div class="accordion-heading">
                            <a href="#collapse-2" data-parent="#accordion-group" data-toggle="collapse" class="accordion-toggle">
                                Checking Story (published on Sept. 30, 2012, 1:43 p.m.)

                            </a>
                        </div>
                        <div class="accordion-body collapse" id="collapse-2" style="height: 0px;">
                            <div class="accordion-inner">
                                <p><img src="/public_media/success_story/2012/09/30/happyFamily.jpg" class="img-rounded" style="float: left; margin-right: 5px;" /> Checking Story...</p>

                            </div>
                        </div>
                    </div>

                    <div class="accordion-group">
                        <div class="accordion-heading">
                            <a href="#collapse-1" data-parent="#accordion-group" data-toggle="collapse" class="accordion-toggle">
                                The story of our lives (published on Sept. 30, 2012, 10:20 a.m.)

                            </a>
                        </div>
                        <div class="accordion-body collapse" id="collapse-1" style="height: 0px;">
                            <div class="accordion-inner">
                                <p><img src="/public_media/success_story/2012/09/30/promo_bts.jpg" class="img-rounded" style="float: left; margin-right: 5px;" /> The story of our lives The story of our lives The story of our lives The story of our lives The story of our lives The story of our lives The story of our lives The story of our lives The story of our lives The story of our lives The story of our lives The story of our lives The story of our lives The story of our lives The story of our lives The story of our lives The story of our lives The story of our lives The story of our lives The story of our lives The story of our lives The story of our lives The story of our lives The story of our lives The story of our lives The story of our lives The story of our lives The story of our lives The story of our lives The story of our lives The story of our lives The story of our lives The story of our lives The story of our lives The story of our lives The story of our lives The story of our lives The story of our lives The story of our lives The story of our lives The story of our lives The story of our lives.</p>

                            </div>
                        </div>
                    </div>

            </div>
        </div>

        </div>
    </div>

</div>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-01T11:56:48.180

这是[2.1.0 的错误](https://github.com/twitter/bootstrap/pull/4499)，已在 2.1.1 中解决 - 您应该更新您的引导文件。

# javascript - 如何在类中放置一个var

> ID：12669121
> 
> 赞同：0
> 
> 时间：2012-10-01T07:34:08.627
> 
> 标签：javascript, class, variables, assign

我想将“max”的值与脚本上的其他值一起放在类中

这个变量：

> var max = $('#qtyA').val();

并把它放在这里：

```
$("[name$='OUTopt']").prop('class','validate[minCheckbox[1],maxCheckbox[]] checkbox text') 
```

更具体的内部：

> 最大复选框[]

它应该是这样的：

> 最大复选框[最大]
> 
> $("[name$='OUTopt']").prop('class','validate[minCheckbox[1],maxCheckbox[max]] 复选框文本')

```
<script language="javascript">
$(document).ready(function() {   

    $("#srv").on('change', function() {
        var max = $('#qtyA').val();
        alert(max);
        var selVal = $(this).val();

        if (selVal == 'Inbound') { // Inbound
            $('.Inbound').show();
            $('.Outbound').hide();
            $("[name$='OUTopt']").prop('class','')
            $("#OUTsrvOtr").prop('class','')

            $("[name$='INopt']").prop('class','validate[minCheckbox[1],maxCheckbox['max']] checkbox text')
            $('#valOUT').val('');
            $('div#Outbound').find('span').prop('class','');

        }
        else if (selVal == 'Outbound') { // Outbound
            $('.Inbound').hide();
            $('.Outbound').show();
            $("[name$='INopt']").prop('class','')
            $("#INsrvOtr").prop('class','')

            $("[name$='OUTopt']").prop('class','validate[minCheckbox[1],maxCheckbox['max']] checkbox text')
                $('#valIN').val('');
            $('div#Inbound').find('span').prop('class','');

        }
        else {
            $('.Inbound').hide();
            $('.Outbound').hide();
            $('#valOUT').val('');
            $('#valIN').val('');
            $("[name$='INopt']").prop('class','')
            $("#OUTsrvOtr").prop('class','')
            $('div#Inbound').find('span').prop('class','');

            $("[name$='OUTopt']").prop('class','')
            $("#OUTsrvOtr").prop('class','')
            $('div#Outbound').find('span').prop('class','');
        }

    });
});
</script> 
```

有没有办法做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T09:26:30.360

如果您希望`max`变量值出现在类中，请编写：

```
$("[name$='INopt']").addClass('validate[minCheckbox[1],maxCheckbox[' + max + ']] checkbox text'); 
```

我想这个复杂的类名是为一些 jQuery 验证插件准备的。

# java - 你能帮我解释一下这段代码吗

> ID：12669130
> 
> 赞同：1
> 
> 时间：2012-10-01T07:34:53.993
> 
> 标签：java

我理解 charAt 部分，但另一部分我遇到了一些麻烦。这段代码的其余部分你能一步一步地向我解释，这样我就更清楚地理解了。谢谢

```
public static boolean y(String str) {
    int i = 0;
    int j = str.length()-1;
    while (i != j && (j - i) != 1) {
        if (str.charAt(i) != str.charAt(j)) 
        {
            return false;
        }
        i++;
        j--;
    }
    return true;
} 
```

opps我犯了一个错误，while语句应该是这样>> while (i != j && (j - 1) ! = 1)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-01T07:38:13.360

该代码将确定是否`str`是回文。

`i`将表示从字符串开头到中间的每个字符。 `j`将表示从字符串末尾到中间的每个字符。

`i`通过将值设置为 0（第一个字符）来进行 初始化。`j`初始化为字符串的长度减 1（最后一个字符）。

然后您的代码循环，比较由`i`和表示的字符，`j`直到它们不匹配，或者直到没有字符可供比较。

例如，给定回文“radar”，代码可以比较：

*   r 与 r
*   一个与一个

然后终止。在奇数长度的回文中，显然不需要比较中间字符，因此`i != j`在你的`while`陈述中。

在处理偶数长度回文时，您的代码存在问题。 `i`并且`j`会交叉，但永远不会相同。第二个子句 ,`(j - i) != 1`似乎旨在解决这个问题，但它使比较过早！

给定回文数，“pullup”，当`i`是 2 和`j`3（即都是 Ls）时，您将退出循环而不进行比较。这意味着一个非回文偶数词将返回真，而它应该返回假。

如果将整个`where`子句更改为：

```
where (j - i > 0) 
```

您的代码适用于所有情况。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-01T07:38:09.303

它将字符串的开头（位置 i）与字符串的结尾（位置 j）进行比较，然后遍历到下一对字符 (i + 1, j - 1) 直到到达字符串的中间，看看如果字符串是回文。

# php - 如何将获取的数据返回到我的视图？

> ID：12669131
> 
> 赞同：0
> 
> 时间：2012-10-01T07:34:55.733
> 
> 标签：php, ajax, jquery, yii

如何将获取的数据（在本例中为：）`$arr`返回到我的视图（我可以像在表格中显示一样对其进行操作）。如果我在通过 ajax 处理的控制器操作中有这个：

```
public function actionFetchregularload(){
            $criteria = new CDbCriteria;
            $criteria->limit = 15;
            $criteria->condition='semester = 2';
            $criteria->select = array('subjCode','subjDesc','lec','lab','units');
            $criteria->addSearchCondition('yrLvl', $_GET['yrlevel']);
            $data = CompeProspectusA::model()->findAll($criteria);
            $arr = array();
            foreach ($data as $item){
                    $arr[] = array(
                            'subjcode' => $item->subjCode,
                            'subjdesc' => $item->subjDesc,
                            'lab' => $item->lab,
                            'lec' => $item->lec,
                            'units' => $item->units,
                    );
            }
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T08:02:58.627

`renderPartial()`用你的桌子或其他东西做一个视图，然后`actionFetchregularload()`像这样使用：

`$this->renderPartial('_table', array('arr'=>$arr), false, true);`

在您的主视图中，您可以使用`CHtml::ajaxLink`选项（其中“#contentdiv”是表 div 的 id）：

```
CHtml::ajaxLink(
        "Update table",
        Yii::app()->createUrl('controller/fetchregularload'),
        array(    //ajaxOptions
            'type' => 'POST',
            'beforeSend' => "function(request) {
                $('#contentdiv').addClass('loading');   //add .loading class while loading - you can add background image
            }",
            'success' => "function(data) {
                $('#contentdiv').removeClass('loading');
                document.getElementById('contentdiv').innerHTML=data;
            }",
        ),
        //htmlOptions
        array('href' => Yii::app()->createUrl('controller/fetchregularload')); 
    ); 
```

# linux - 解压不同文件夹中的 .gz 文件，并将它们合并为一个文件

> ID：12669133
> 
> 赞同：0
> 
> 时间：2012-10-01T07:35:03.563
> 
> 标签：linux, bash, unix, gzip

我在不同的文件夹中有几个同名的 .gz 文件。所以我想解压缩所有这些 .gz 文件并将所有输出文件合并到一个文件中。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T09:06:17.960

```
find . -name "xyz.gz"|xargs zcat >output_file 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-01T09:27:36.253

如果您事先不知道文件的名称，您可能会发现以下脚本很有帮助。您应该将其作为`my-script.sh /path/to/search/for/duplicate/names /target/dir/to/create/combined/files`. 它查找给定路径中出现多次的所有文件名，并将它们的内容组合到目标目录中的单个文件中。

```
#! /bin/bash
path=$1
target=$2
[[ -d $path   ]] || { echo 'Path not found'   ; exit 1 ; }
[[ -d $target ]] || { echo 'Target not found' ; exit 1; }

find "$path" -name '*.gz' | \
    rev | cut -f1 -d/ | rev | \              # remove the paths
    sort | uniq -c | \                       # count numbers of occurrences
    grep -v '^ *1 ' | \                      # skip the unique files
    while read _num file ; do                # process the files in a loop
    find -name "$file" -exec zcat {} \; | \  # find the files with the given name and output their content
        gzip > "$target/${file##*/}"         # gzip the target file
done 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-01T07:37:09.967

```
find some/dir -name foo.gz -exec zcat {} \; > output.file 
```

# javascript - 如何从两个一维数组创建二维数组

> ID：12669134
> 
> 赞同：2
> 
> 时间：2012-10-01T07:35:12.237
> 
> 标签：javascript, jquery

我想问一下 js/jquery 中是否有任何函数可以从两个 1d 数组创建 2d 数组。
我知道我可以像手动一样：

```
 var output = new Array(table1.length);    
    for(var i=0; i<table1.length; i++)
    {
       output[i] = new Array(2)
       output[i][0] = table1[i]
       output[i][1] = table2[i]
    } 
```

但也许有任何功能可以为我做这件事？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-01T07:40:58.683

您总是可以编写自己的函数，这并不难。虽然 1 提示/建议：不要使用`Array`构造函数，因为一旦开始使用变量来实例化新数组，在 JS 等松散类型语言中，它可能会产生意想不到的结果。
以此为例：

```
var nArr = new Array(3);//[undefined,undefined,undefined]
var userInput = document.getElementById('userInputTextField').value;//assume input was 3
var nArr = new Array(userInput);//['3'] <-- value of elements is string! 
```

也就是说，这是一个示例函数：

```
function getArray(table1, table2)
{
    var i, out = [];//literal new array
    for(i=0;i<table1.length;i++)
    {
        out.push([table1[i],table2[i]]);
    }
    return out;
}
var arr = getArray(document.getElementById('table1').rows,document.getElementById('table2').rows); 
```

那应该给你你需要的

# mysql - 如何根据mysql中的输入重命名表

> ID：12669135
> 
> 赞同：2
> 
> 时间：2012-10-01T07:35:19.623
> 
> 标签：mysql, sql, stored-procedures

我是mysql的新手。这是我的桌子。表名`LOGDATETIME`：：

```
2012-05-30   17:26:33  
2012-05-30   17:26:33
2012-05-30   17:26:33
2012-05-31   17:26:33
2012-05-31   17:27:22
2012-05-31   17:27:22 
2012-05-31   17:27:22
2012-06-01   00:08:12
2012-06-02   00:08:12
2012-06-06   00:08:12 
```

我需要根据日期重命名这个表名。例如`LOGDATETIME_2012_05_30_TO_2012_06_06`. 为此，我需要在 mysql 中编写存储过程。但是我不知道怎么写。

谁能帮帮我吗。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-01T08:01:11.693

SO并不是真的在这里*给*你答案。我们应该为您指明正确的方向。

查看文件名的日期字段`MAX`。`MIN`用于`DATE_FORMAT`获取正确的格式。然后用于`RENAME TABLE`执行表名更改。下次提供一些您自己尝试过的代码。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-02T06:04:02.243

解决方法：

*   用索引命名表，例如 table1、table2、table3...
*   使用表名及其开始/结束日期时间创建信息表。

例如：

```
CREATE TABLE info_table (
  id INT(11) NOT NULL,
  table_name VARCHAR(255),
  start_date DATETIME,
  end_date DATETIME,
  PRIMARY KEY (id)
) 
```

# javascript - 如何在Javascript中打印出N个空格？

> ID：12669136
> 
> 赞同：7
> 
> 时间：2012-10-01T07:35:21.340
> 
> 标签：javascript

在 Javascript 中，使用打印输出的方法

```
console.log("this is %s and %s", foo, bar); 
```

有效，所以它遵循一些 C 风格，但它不遵循

```
console.log("%*s this is %s and %s", 12, foo, bar); 
```

其中`%*s`and`12`是让它打印出 12 个空格，如这个问题： [在 Objective-C 中，如何打印出 N 个空格？（使用 stringWithCharacters）](https://stackoverflow.com/questions/10702678/in-objective-c-how-to-print-out-n-spaces-using-stringwithcharacters)

有没有一种简单快捷的方法让它在 Javascript 中简单地工作？（比如说，不使用`sprintf`开源库或编写函数来做到这一点？）

**更新：**，在我的例子中， 12 实际上是一个变量，例如`(i * 4)`，所以这就是为什么它不能是字符串中的硬编码空格。

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-10-01T07:37:25.170

最简单的方法是使用 Array.join：

```
console.log("%s this is %s and %s", Array(12 + 1).join(" "), foo, bar); 
```

请注意，您需要*N + 1*作为数组大小。

* * *

我知道你说你不想要函数，但如果你经常这样做，扩展方法会更干净：

```
String.prototype.repeat = function(length) {
 return Array(length + 1).join(this);
}; 
```

这允许您执行以下操作：

```
console.log("%s this is %s and %s", " ".repeat(12), foo, bar); 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2020-02-24T17:53:06.180

截至 2020 年甚至更早，您可以使用`' '.repeat(12)`：

```
console.log(`${' '.repeat(12)}hello`);
console.log(`${' '.repeat(3)}hello`);
```

# syntax - 如何为 Sublime Text 2 编写模式？

> ID：12669138
> 
> 赞同：1
> 
> 时间：2012-10-01T07:35:39.850
> 
> 标签：syntax, ide, syntax-highlighting, textmate, sublimetext2

我使用 Sublime Text 2 已经有很长时间了，并且正在尝试使用一种叫做 Visage 的新语言。我想为该语言添加语法突出显示和其他支持。我浏览了文档，但对`pattern`我们必须编写的文档感到非常困惑。我正在寻找一些有用的教程，从中我可以了解正则表达式是如何工作的，以便阅读文本并为其提供着色。我尝试了给出的示例，但我认为最好有一些示例来解释编程语言的不同结构，语法荧光笔以适当的格式编写。这样人们就可以理解它是如何工作的。请让我知道任何可以帮助我或向我展示实现正确语法突出显示和其他内容的方法的博客或教程。谢谢

# wpf - Metro 应用程序 - 自定义列表框/列表视图

> ID：12669140
> 
> 赞同：0
> 
> 时间：2012-10-01T07:35:48.547
> 
> 标签：wpf, windows-phone-7, listview, listbox, microsoft-metro

我为 WP7 开发了一个应用程序，自定义列表框的创建和使用是通过一个新类实现的。

一旦在 CustomListBox.xaml 中声明了 Textbox 等元素，就可以在 MainPage.cs 中使用它。

这是 CustomListBox.xaml

```
<UserControl x:Class="Sample.CustListbox"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    FontFamily="{StaticResource PhoneFontFamilyNormal}"
    FontSize="{StaticResource PhoneFontSizeNormal}"
    Foreground="{StaticResource PhoneForegroundBrush}"
    d:DesignHeight="150" d:DesignWidth="480">

    <Grid x:Name="LayoutRoot">
        <Grid.Background>
            <ImageBrush Stretch="Fill" ImageSource="gradient.jpeg"/>
        </Grid.Background>
        <TextBlock Height="56"  Margin="160,19,0,75" Name="textBlock1" Text="" Width="293"  FontStyle="Normal" HorizontalAlignment="Center"
                                           Foreground="Black" VerticalAlignment="Center"  
                                           TextAlignment="Left" FontSize="24" TextWrapping="Wrap" FontFamily="Verdana"/>

        <Image Height="89" HorizontalAlignment="Left" Margin="12,19,0,0" Name="image1" Stretch="Fill" VerticalAlignment="Top" Width="110" />
        <TextBlock Height="61"  Margin="160,81,0,8" Name="textBlock2" Text="" Width="293"  FontStyle="Normal" HorizontalAlignment="Center"
                                           Foreground="Black" VerticalAlignment="Center"  
                                           TextAlignment="Left" FontSize="15" TextWrapping="Wrap" FontFamily="Verdana"/>
    </Grid>
</UserControl> 
```

我在 MainPage.cs 中使用它的方式是

```
private void readSQLCE()
        {
            db = new MyDataContext("isostore:/aa.sdf");

            //IntroductionTable
            var IT_Q = from b in db.IT where b.IT_id < 8 select b;
            List<IntroductionTable> l_It = IT_Q.ToList();

            try
            {
                foreach (IntroductionTable itt in l_It)
                {
                    //Instance for list items
                    CustListbox clb = new CustListbox();
                    blob = itt.IT_Image;
                    MemoryStream memStream = new MemoryStream(blob);
                    WriteableBitmap bimg = PictureDecoder.DecodeJpeg(memStream);
                    clb.textBlock1.Text = itt.IT_intro;
                    clb.image1.Source = bimg;
                    MyListBox.Items.Add(clb);
                    //addingcts();
                }
            }
            catch (Exception ex)
            {

            }

        } 
```

以下是列表框的实现 MainPage.xaml

```
<ListBox x:Name="MyListBox" SelectionMode="Single" Margin="-4,6,-12,12" SelectionChanged="MyListBox_SelectionChanged">

            </ListBox> 
```

我想知道在地铁应用程序中是否可以遵循相同的程序？

我尝试使用相同的方法进行自定义，但失败了。我应该采用不同的方法吗？

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T07:40:23.770

Windows 应用商店/Metro 应用与 WP7 具有相同的 UI 组装核心概念。您可以创建用户控件或自定义控件，这两者都可以在您的页面的 XAML 中重复使用。

基本上，你做错了什么！您必须提供更多详细信息才能获得正确的答案！

# c# - 有没有办法在异步 asmx Web 服务中通过引用传递参数？

> ID：12669146
> 
> 赞同：0
> 
> 时间：2012-10-01T07:36:21.153
> 
> 标签：c#, web-services, asynchronous

我有一些 asmx Web 服务，其中一些通过引用获取参数。现在我在silverlight 应用程序中使用这些Web 服务，发现silverlight 只允许我异步使用asmx Web 服务，因此不再允许我通过引用传递某些内容。有没有办法将异步调用的引用参数传递给 asmx Web 服务？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T08:28:50.603

你为什么不`struct`从你的`ref`参数中创建简单的并使用它`Silverlight`呢？您可以在现有方法周围添加包装器方法，只需返回`structs`.

希望这可以帮助...

# c# - DropDownList 的 FindByValue 在 ASP.Net 中总是返回 null

> ID：12669147
> 
> 赞同：0
> 
> 时间：2012-10-01T07:36:30.820
> 
> 标签：c#, asp.net

ASP.Net DropDownList 的`FindByValue`方法在绑定到 SqlDataSource 控件时始终返回 null。

但是，如果 DropDownList 绑定到 DataTable，FindByValue 会按预期工作。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T17:04:59.167

以下是问题的根源，我在上面发布，以及解决方案，

DropDownList 位于最初隐藏的面板内，因此`FindByValue`在按钮单击事件中执行时，DropDownList 没有绑定到 SqlDataSource。

`DataBound()`我通过在 Page_Load 事件处理程序中使用 DropDownList 强制 DropDownList 绑定到 DataSource 解决了这个问题。

# c++ - 如何在 Windows 中进行正确的顺序异步消息处理？

> ID：12669148
> 
> 赞同：0
> 
> 时间：2012-10-01T07:36:32.540
> 
> 标签：c++, winapi, design-patterns, concurrency, c++11

我有一个 Windows 应用程序需要非常快速地处理所有传入的消息，否则我想它会严重削弱系统性能。我想到的是一种为每条消息生成和加入线程的方法，以便按顺序处理它们。但是这种方法有一个严重的问题：当我产生线程并尝试加入顶级线程时，我怎么知道它是否可用于加入？当然，我可以检查它是否可连接（我使用 std::thread），但是当我这样做时，它可能会变得不可连接并且线程不是互斥锁 - 我不能只是阻止它并再次检查。所以我需要的是某种非阻塞的延迟任务池或任务查询，至少对于消息线程。同样，我可以生成等待该查询的线程并添加任务以便可以处理它，

这不一定是开箱即用的东西，我可以实现任何并发模式。

inb4：Windows、WinAPI、C++11、std::thread 用于线程。对不起我的英语，真的找不到时间改进它。

谢谢你的回答，看来我在问题描述上犯了一个错误。确切地说，我只需要让 WNDPROC 尽快返回它的结果，因此可以从消息队列中弹出下一条消息。我需要这个，因为我记录了发送消息的时间，所以我需要快速完成它，这样它就不会影响时间测量。此外，这些消息对系统来说很紧急，我的窗口需要快速处理它们，否则会以某种方式影响性能。

再次：我需要以某种方式将确切的消息处理移动到其他线程，现在它看起来像这样：

```
 case WM_INPUT:
    int timestamp = PushTimeStampToAsyncTimestampQueue();
    launchLongChainOfMessageProcessing(message,timestamp);
    return 0; 

```

我需要摆脱那个 launchLongChainOfMessageProcessing 并用类似的东西替换它

```
 case WM_INPUT:
    int timestamp = PushTimeStampToAsyncTimestampQueue();
    std::thread processThread([]() { do_work(message, timestamp);});
    return 0; 

```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-01T08:19:21.247

在当前的 Windows 操作系统下，您将发现没有任何方法比使用 I/O 完成端口（简称 IOCP）的重叠 I/O 处理大量入站消息更快、更具可扩展性。它具有令人难以置信的可扩展性和极其通用的功能。

IOCP 允许您定义一个线程池，并让这些线程由 IOCP 子系统管理和调度，等待*任何线程上的 IO 完成通知*基于 IO 的系统（套接字、管道、文件、任何东西，甚至没有基于 IO 的系统）上的 IO 完成通知，如果您更喜欢；它也构成了一个出色的工作队列分配系统）。

我警告你不要产生线程来处理高度古怪的并发连接。您需要一个稳定的线程池，并且池足够大，这样当一个线程池由于对内核的某些调用（例如等待事件、互斥锁等）的停顿而阻塞时，另一个线程会立即分派工作。产生线程、设置和拆除上下文是昂贵的，所以避免它，幸运的是 IOCP 是一个很好的解决方案。当有工作而其他人忙于其他工作时，它能够让另一个线程从沉睡中醒来，这非常出色。

如果我设置了您所描述的系统（并且给定，您只能通过一些关于 SO 的段落来实现您的最终目标），我会毫不犹豫地使用基于 IOCP 的解决方案。

**编辑**在 OP 更新了问题之后，我奇怪地会坚持这个答案，但是以一种相当扭曲的方式。他希望它尽可能快地卸载该消息队列的处理。虽然我不会为我的异步传递系统选择 Windows 消息队列，但我相信他有他的理由。

但是，我支持使用基于 IOCP 的系统来进行实际处理。吞吐量和可扩展性简直太好了，不能用于分布式工作系统，而这似乎就是他所拥有的。没有代码，但一般算法会。

1.  创建一个基于 IOCP 的工作组，所有线程都在等待 GetQueueCompletionStatus()。
2.  收到每个 WM_INPUT 后，收集您需要的任何参数，构建您的“项目”以进行处理，然后使用 PostQueuedCompletionStatus() 将项目发布到基于 IOCP 的工作人员（顺便说一句，这是埋在工作中最方便的事情-crews“发布”功能）。
3.  当每个线程被唤醒时，它会交给他们一个工作“项目”来处理。
4.  处理完一个项目后，池线程返回到 GetQueueCompletionStatus()。

网络上有大量基于 IOCP 的示例工作队列，大多数都可以满足这种需求。除非是由恶魔编写的，否则所有内容都将比您可以在 Windows 下使用的任何其他内容具有出色的性能，因为 IOCP 被紧密集成到计划中。

# batch-file - 带有条件的 ping 批处理文件

> ID：12669150
> 
> 赞同：0
> 
> 时间：2012-10-01T07:36:36.483
> 
> 标签：batch-file, ping

我正在寻找一个连续的 ping 批处理文件，它将：

1.  提示服务器。我已经想通了。
2.  如果还活着 - 将停止 ping 并通知它成功的时间。
3.  如果无法访问将继续 ping。

欣赏它！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-08T19:47:38.930

给你，这应该可以解决问题。

```
@echo off
:start
Echo Enter Server IP:
set /p ip=

:ping
ping %ip% -n 1 -w 2000 || goto pingFail
echo Ping was Successful to %ip% at %date% %time%
Choice /m "Ping Another Server?"
if %ERRORLEVEL%==2 GOTO :EOF
cls
goto start
:pingFail
Echo Ping failed...Retrying...
goto ping 
```

# jquery-mobile - Knockout 和 jQuery Mobile：绑定选择列表

> ID：12669154
> 
> 赞同：4
> 
> 时间：2012-10-01T07:36:48.453
> 
> 标签：jquery-mobile, knockout.js

我在我的项目中使用了 knockout-2.1.0、jquery.mobile-1.2.0-rc.2。在提交这篇文章[Knockout 和 jQuery Mobile: Binding data to select lists之前，我已经阅读了这个链接](https://stackoverflow.com/questions/9373982/knockout-and-jquery-mobile-binding-data-to-select-lists)

我的问题是选择列表并不总是显示值。填充代码是正确的，它总是附加选择列表，当我激发元素时，我找到了数据，但 JQM 不显示。

我创建了 bindingHandlers 来触发

```
$(element).selectmenu('refresh', true); 
```

但我发现这个解决方案不稳定，在我的浏览器上有时可以正常工作，有时不能。在我的 iPad2 上它不起作用。

这是我的代码：

```
ko.bindingHandlers.jqmOptions = {

    init: function (element, valueAccessor, allBindingsAccessor, viewModel) {

        if (typeof ko.bindingHandlers.options.init !== 'undefined')
            ko.bindingHandlers.options.init(element, valueAccessor, allBindingsAccessor, viewModel);

    },
    update: function (element, valueAccessor, allBindingsAccessor, context) {
        if (typeof ko.bindingHandlers.options.update !== 'undefined') {
            ko.bindingHandlers.options.update(element, valueAccessor, allBindingsAccessor, viewModel);
        }
        var instance = $.data(element, 'selectmenu');
        if (instance) {
            $(element).selectmenu('refresh', true);
        } 
    }
}; 
```

这个问题有没有稳定的解决方案。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-16T18:45:15.897

来自 JQueryDocs：

更新布局

此事件由框架内动态显示/隐藏内容的组件触发，并作为一种通用机制来通知其他组件它们可能需要更新其大小或位置。在框架内，该事件在其内容被显示/隐藏的组件元素上触发，并一直冒泡到文档元素。

```
$( '#foo' ).hide().trigger( 'updatelayout' ); 
```

# ruby-on-rails - 是否有一项服务可以按需为我提供运输信息？

> ID：12669156
> 
> 赞同：0
> 
> 时间：2012-10-01T07:36:55.990
> 
> 标签：ruby-on-rails, ruby-on-rails-3, shopping-cart, fedex

我在一个应用程序中有多个买家和卖家，我想动态计算美国最受欢迎的运输提供商的成本（和时间）（FedEx 和 UPS - DHL 和 USPS 也很棒，但不是必需的）。

是否有某种 API 可以为我处理所有这些问题？还是我必须使用每个运输提供商的数据服务？

谢谢。

PS我将使用Rails。

PPS 有什么好的购物车推荐吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T09:32:39.730

[active_shipping](https://github.com/shopify/active_shipping) gem 应该适合你。

它在 Shopify 中使用。

# android - 安卓长按

> ID：12669159
> 
> 赞同：0
> 
> 时间：2012-10-01T07:37:16.727
> 
> 标签：android, drag-and-drop, long-press

我必须在我的应用程序中实现一个功能。当我们长按任何应用程序图标然后删除按钮应该出现在所有图标上并且它们可以被删除时，就像 iphone 原生功能一样。这在Android中可能吗？请让我知道它在Android中是否可行？请不要投反对票，只是让我知道可行性。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T07:51:49.150

是的，这是可能的，请参阅下面的帮助：-

```
@Override
 public void onLongPress(MotionEvent ev) {
    Log.d("onLongPress",ev.toString());
 } 
```

# javascript - 如何命名和搜索在 jQuery 插件中创建的 DOM 元素？

> ID：12669160
> 
> 赞同：2
> 
> 时间：2012-10-01T07:37:16.970
> 
> 标签：javascript, jquery, jquery-plugins

伙计们。我正在开发一个将元素包装在容器内的 jQuery 插件。所以，这一行：

```
$azureRectangle.container(); //azureRectangle is only an empty div 
```

产生这个：

![在此处输入图像描述](../Images/fa50a92d9c537657070e2150850ecc37.png)

该容器由许多新的 div 组成。好吧，这是我的疑问：我应该如何命名或识别那些创建的 div？我应该使用数据属性还是发明的 ID 或名称？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-01T07:46:59.593

好吧，有几个政策。您当然可以使用 'data' 或 'rev' 属性，但是在尝试选择特定容器元素时可能会遇到困难。

但是，通常，包装器（和替换器）插件使用具有`id`属性集的元素，因此它们可以`id`为它们创建的元素生成对应的。例如：

```
$.fn.somePlugin = function(someId) {
  var somePluginId = 'some-plugin-' + someId;
  ...
} 
```

这允许抓住所有项目（使用`'[id^="some-plugin-"]'`选择器）和每个特定项目（具有`id`参与其创建的元素）。

当然，当需要创建一个以上的新元素时，可以应用相同的策略；你只需要为这些使用几个特定的​​前缀。

# ajax - iOS 5 的 UIWebView 的“AJAX 与会话 cookie 的交互”在 iOS 6 上不起作用

> ID：12669163
> 
> 赞同：0
> 
> 时间：2012-10-01T07:37:35.347
> 
> 标签：ajax, uiwebview, ios6, backwards-compatibility, changelist

**背景：**我有一个在 iOS5 中运行良好的程序，它使用 UIWebView。网页从定制服务器加载。iOS 和服务器之间的通信是通过 AJAX 机制完成的。Cookie 用于会话管理。

**问题：**客户端的事件没有到达服务器。服务器的通知和更新未到达客户端。因此，应用程序不会响应任何用户操作，并且有时 UI 看起来会冻结。

我在苹果开发者网站上搜索了 UIWebView 的变化，它只显示了 3 个变化。

*   State Preservation”，带有视图的 restoreIdentifier 属性。
*   新方法keyboardDisplayRequiresUserAction。
*   新方法抑制增量渲染

然而，以上似乎都没有与应用程序逻辑冲突。

请帮助解决与 iOS 5 相比可能会破坏 iOS 6 中 AJAX 交互的问题。如果有的话，请给我相关链接。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-16T11:38:17.737

当请求完全匹配时，iOS 6 正在缓存数据并且不会向服务器发出新请求。使用 rand=<random number> 参数更新所有 GET 请求，并使用额外数据 rand:<random number> 更新所有 POST 请求。这将确保每次发出请求时 iOS 调用都会登陆服务器

# c - printf 函数如何处理整数？

> ID：12669164
> 
> 赞同：1
> 
> 时间：2012-10-01T07:37:40.430
> 
> 标签：c

我有以下代码

```
int main()
{
    int arr[3] = {2, 3};
    char *p;
    p = arr;
    p = (char *)((int*)(p));
    printf("%d, ", *p);
    p++;
    p = (int*)(p+1);
    printf("%d", *p);
    return 0;
} 
```

o/p-2,0

但我想知道它是如何在第二个 printf 中打印 0 的，我知道所有关于这些元素如何存储`little-endian`的记忆`4 byte integer`，如下

> 00000010 00000000 0000000 00000000 00000011 00000000 00000000 00000000

所以，在第一次`printf`我们得到 2 作为答案，但在第二次`printf`指针是`second byte`0 但它现在是一个整数指针但它如何打印 0，因为它必须检查最多 4 个字节的内存然后它必须打印整个数据最多4个字节。我认为它将打印 3 个最多 4 个字节。

我想要的是整数数据是如何通过 printf 打印的，任何人都可以告诉这一点。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-01T07:43:04.697

指针的类型`p`不会随以下两者中的任何一个而改变：`p = (char *)((int*)(p));` `p = (int*)(p+1);`.

它仍然是指向 a 的指针`char`。

强制转换仅适用于更改表达式中的值（或类型）。它适用于从变量中提取的值的副本，但不会修改这些变量。表达式结束后，强制转换与它关联的值副本一起消失。

例子：

```
signed char c = -1;
int i;
i = (unsigned char)c; 
```

这里的值`c`-1 被转换/强制转换为类型`unsigned char`。如果 chars 是 8 位的，则 的结果`(unsigned char)-1`是 255 并且该值的类型为`unsigned char`，然后将其转换为`int`并分配给`i`。

`c`在上述过程中无论如何都不会改变。

示例 2：

```
unsigned u = 0x55AA;
unsigned* pu = &u;
unsigned char* pc = (unsigned char*)pu; 
```

这里`pu`被转换/转换为指向`unsigned char`. 该转换不会修改变量`pu`，它只会更改其值的副本。在这里，它只是更改了指针变量中包含的副本的类型，而不是实际地址。然后将此地址副本分配给`pc`。需要强制转换以避免编译器警告/错误，因为编译器拥有“想知道”这里发生了什么以及是否可能存在编程错误的所有权利。

现在`pu`和都`pc`指向同一个位置，即变量的开头`u`。但是它们有不同的类型，一个指向 an`unsigned char`另一个指向 an `unsigned int`。

因此，如果您取消引用`pu`and `pc`，您将获得不同的值，并且这些值也将具有不同的类型。

同样，如果您对两个指针进行指针运算，例如，将每个指针加 1，它们将前进以指向内存中的不同位置。`pu+1`将指向紧接在末尾之后的位置`u`，`pc+1`并将指向`unsigned char`从开头开始的第二个位置`u`。

你开始看了吗？

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-01T07:43:20.603

我认为您的基本问题实际上是代码中的错误，您说“在第二个 printf 期间，指针位于第二个字节”，但事实并非如此。您首先使用 p++ 递增指针（现在它指向第二个字节），然后使用 p=(int *)(P+1) 再次递增指针，使 p 指向第三个字节。

在我看来，您并不真正了解类型转换是如何工作的，据我所知，删除所有类型转换根本不会改变这段代码的功能。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-01T07:55:59.910

我认为对于 2，它存储为“00000010 00000000 0000000 00000000”。由于 p 是一个 char 指针，当 p 增加它时，意味着 p 向前移动了 2 个字节。而对于代码，'p = (int*) (p+1)，当p增加一时，p是一个char指针。因此，在 p + 1 之后，p 指向“0000000 00000000”。所以第二个 printf 将打印 0。

# objective-c - Objective-C：自动化

> ID：12669168
> 
> 赞同：2
> 
> 时间：2012-10-01T07:38:11.650
> 
> 标签：objective-c, automation, automator

**如何实现这两种自动化方式中的一种？**

1，让应用程序在运行时连续（或以给定的时间间隔）检查服务器目录是否有更改，或者....

2，以某种方式从外部自动化该应用程序。（我听说用 XCode 编写的 Automator 插件可能可以做这样的事情）。

我不需要特定的代码（不是不欣赏它），只需要我可以用来执行此操作的一般指针或类或技巧。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-01T07:52:01.913

听起来您想要研究的是永远有用的[NSTimer](http://developer.apple.com/library/mac/documentation/Cocoa/Reference/Foundation/Classes/nstimer_Class/Reference/NSTimer.html)，在您的情况下与例如[NSURLRequest](https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/Foundation/Classes/NSURLRequest_Class/Reference/Reference.html)结合用于实际获取。

选择关闭这种连续检查可能是个好主意，因为网络条件可能并不总是适合重复的 HTTP 请求。

此外，避免在主线程上执行 HTTP 请求，使用异步请求或专用线程。

使用 Automator 可能会适得其反。

# php - 使用 localhost 测试 Facebook 应用

> ID：12669171
> 
> 赞同：4
> 
> 时间：2012-10-01T07:38:31.977
> 
> 标签：php, facebook, xampp, localhost

我尝试按照链接[http://eugene17.com/2011/03/13/testing-your-facebook-app-in-your-localhost/中给出的说明进行操作](http://eugene17.com/2011/03/13/testing-your-facebook-app-in-your-localhost/)

我希望能够在本地测试我的 facebook 应用程序。然而，它似乎没有工作。我不知道我在哪里弄错了。![我的应用程序详细信息是这样的。 为了安全起见，我删除了某些部分。 即在 <code>webapp</code> 之前](../Images/5ec605b61ebfb7eb6e956363a1b6abfc.png)

我还在我的主机文件中做了以下条目。

127.0.0.1 本地主机/-webapp

我做错了什么？我想不通。这在实时服务器和其中一台机器上运行良好。但是我不认为我可以更改应用程序设置以适应我的喜好。

更多细节 ：

调用 facebook Api 的代码：

$facebook_login_url = $facebook->getLoginUrl(array('scope' => $facebook_app_permissions, 'redirect_uri' => $redirect_uri));

redirect_uri 使用 get_url() api，当我通过在浏览器上键入 /localhost/xxxxx-webapp 访问应用程序时，它解析为系统上的 localhost。

现在 facebook 不知道连接回 locahost 。因此，我被重定向到 localhost xampp 页面。屏幕上和控制台上都没有错误消息。

我正在尝试让 facebook 重新连接，但我想知道我做错了什么。有人可以给我看一下 hosts 文件中的示例条目吗？

facebook 中有关应用程序的信息已经如屏幕截图所示。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-02T06:13:55.553

这对我有用。我希望有人在迷路时偶然发现它。

[http://thinkdiff.net/facebook/how-to-develop-test-facebook-connect-application-locally/](http://thinkdiff.net/facebook/how-to-develop-test-facebook-connect-application-locally/)

# wordpress - 修改 WordPress Roots 主题的麻烦

> ID：12669174
> 
> 赞同：3
> 
> 时间：2012-10-01T07:38:44.137
> 
> 标签：wordpress, twitter-bootstrap

有人告诉我，如果我将 Roots 主题用于 wordpress，那么如果我开发 wordpress 网站，它将节省我的时间和精力。但是，我无法对主题进行任何修改，style.css 不包含在网站上，即使我在其他样式表之后包含它，它也不会做任何事情，因为我尝试过可能是最简单的事情曾经：

```
h1{display:none;} 
```

我还尝试阅读[https://github.com/retlehs/roots/blob/master/doc/README.md](https://github.com/retlehs/roots/blob/master/doc/README.md)上的文档 和引导文档[http://twitter.github.com/bootstrap/index.html](http://twitter.github.com/bootstrap/index.html)但我'我仍然无法进行任何修改。我不敢修改 bootstrap.css 本身，那我应该怎么修改呢？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-02T16:42:14.523

您可以添加任何您想要的 CSS 样式，但您必须将其添加到位于主题文件夹中的 assets/css/app.css 文件中。

您没有修改 bootstrap.css 或任何其他核心文件是正确的。只需修改：

1.  对于您的 CSS 样式添加，您可以编辑 assets/css/app.css
2.  对于您的 .js 自定义添加，您编辑 assets/js/main.js 并将任何 javascript 插件放入 assets/js/plugins.js
3.  对于主题的 .php 自定义添加（如 php 函数），您可以编辑 lib/custom.php （或者您也可以创建新文件并包含主题）

这样您就可以正确更新主题。

如果它仍然没有得到应用，原因可能是 css 特异性。

这里有更多信息：[http ://www.w3.org/TR/selectors/#specificity](http://www.w3.org/TR/selectors/#specificity)

作为最后的手段，您可以使用：
h1{display:none !important;}

在找到更好的解决方案之前使用这个临时的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-05-03T14:21:46.027

你真的不应该使用 !important ，除非你真的别无选择（这应该很少见）。未应用您的自定义样式的原因是 CSS“特异性”规定其他规则比您的自定义规则更相关/更重要。让你的自定义 CSS 规则比 Bootstrap 的更“重要”，你的风格就会出现。

这里有更多信息：[http ://www.w3.org/TR/selectors/#specificity](http://www.w3.org/TR/selectors/#specificity)

编辑：这是对另一个线程中最后一个帖子的回复，但我不知道如何回复那个帖子。我是新来的！道歉！

# hook - 在创建 liferay 挂钩时，“auth.pipeline.enable.liferay.check”不在名称的可能值中

> ID：12669177
> 
> 赞同：0
> 
> 时间：2012-10-01T07:38:51.977
> 
> 标签：hook, liferay

我正在尝试创建一个 liferay 挂钩，以拥有自己的授权机制。我在portal.properties中准备好了我的授权类，

我有

```
auth.pipeline.enable.liferay.check=false
auth.pipeline.pre=CustomAuthenticator 
```

但在我的日食中，它说`"auth.pipeline.enable.liferay.check" is not among possible values for name`。问题是什么？

# javascript - 在javascript中更改所选单选按钮标签的颜色

> ID：12669181
> 
> 赞同：2
> 
> 时间：2012-10-01T07:39:09.387
> 
> 标签：javascript, html, css

我目前正在学习 javascript，并尝试按照 javascript_source 中提供的示例在带有单选按钮的 javascript 中进行测验 [。](http://javascriptsource.com)我现在陷入了这样一种情况，即我希望将所选单选按钮标签颜色更改为红色或绿色选择的答案。

我已经把我的代码放在了 [jsfiddle](http://jsfiddle.net/aEeKt/4/)中，我可以让它在 ny 浏览器中工作，但我不知道为什么它在 jsfiddle 中似乎不起作用，基本思想是一样的，只是我想改变颜色根据正确或错误选择单选按钮标签。

任何有关这方面的帮助将不胜感激

* *** EDIT *** jsfiddle 现在可以工作了，这要归功于下面的评论

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-01T07:51:58.547

修复它，[http://jsfiddle.net/aEeKt/8/](http://jsfiddle.net/aEeKt/8/)。我所做的只是添加以获取父级并根据答案为其`<li>`添加一个`.correct`或类。`.incorrect`

**HTML**

```
<h3>Web Design Quiz</h3>

<form name="quiz">
1\. What does CSS stand for?
<ul style="margin-top: 1pt">
  <li><input type="radio" name="q1" value="Colorful Style Symbols">Colorful Style Symbols</li>
  <li><input type="radio" name="q1" value="Cascading Style Sheets">Cascading Style Sheets</li>
  <li><input type="radio" name="q1" value="Computer Style Symbols">Computer Style Symbols</li>
</ul>

2\. What does DHTML stand for?
<ul style="margin-top: 1pt">
  <li><input type="radio" name="q2" value="Dramatic HTML">Dramatic HTML</li>
  <li><input type="radio" name="q2" value="Design HTML">Design HTML</li>
  <li><input type="radio" name="q2" value="Dynamic HTML">Dynamic HTML</li>
</ul>
3\. Who created Javascript?
<ul style="margin-top: 1pt">
  <li><input type="radio" name="q3" value="Microsoft">Microsoft</li>
  <li><input type="radio" name="q3" value="Netscape">Netscape</li>
  <li><input type="radio" name="q3" value="Sun Micro Systems">Sun Micro Systems</li>
</ul>
4\. What does CGI stand for?
<ul style="margin-top: 1pt">
  <li><input type="radio" name="q4" value="Cascading Gate Interaction">Cascading Gate Interaction</li>
  <li><input type="radio" name="q4" value="Common GIF Interface">Common GIF Interface</li>
  <li><input type="radio" name="q4" value="Common Gateway Interface">Common Gateway Interface</li>
</ul>

<input type="button" value="Get score" onClick="getScore(this.form)">
<input type="reset" value="Clear answers">
<p> Score = <strong><input class="bgclr" type="text" size="5" name="percentage" disabled></strong><br><br>
Correct answers:<br>
<textarea class="bgclr" name="solutions" wrap="virtual" rows="4" cols="30" disabled>
</textarea>
</form> 
```

**Javascript** ​</p>

```
// Insert number of questions
var numQues = 4;

// Insert number of choices in each question
var numChoi = 3;

// Insert number of questions displayed in answer area
var answers = new Array(4);

// Insert answers to questions
answers[0] = "Cascading Style Sheets";
answers[1] = "Dynamic HTML";
answers[2] = "Netscape";
answers[3] = "Common Gateway Interface";

// Do not change anything below here ...

function getScore(form) {
    var score = 0;
    var currElt;
    var currSelection;
    for (i = 0; i < numQues; i++) {
    currElt = i * numChoi;
    for (j = 0; j < numChoi; j++) {
        currSelection = form.elements[currElt + j];
        cParent = currSelection.parentNode;
        if (currSelection.checked) {
        if (currSelection.value == answers[i]) {
            score++;
            cParent.className = 'correct';
            break;
        }else{
            cParent.className = 'incorrect';
        }
        }
    }
    }
    score = Math.round(score / numQues * 100);
    form.percentage.value = score + "%";
    var correctAnswers = "";
    for (i = 1; i <= numQues; i++) {
    correctAnswers += i + ". " + answers[i - 1] + "\r\n";
    }
    form.solutions.value = correctAnswers;
}​ 
```

**CSS**

```
li.correct{
    color: green;
}
li.incorrect{
    color: red;
}
​ 
```

​</p>

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T07:53:49.367

在 jsfiddle 中，左侧有一列包含各种设置。在“选择框架”下，有一个默认为“onLoad”的下拉框。这允许您选择如何在页面中包含和执行您的 javascript。

当您选择“onLoad”时，声明的任何函数或变量都不是全局的。但是，使用`onClick="getScore(this.form)"`要求函数是全局的。相反，您应该选择“无包裹（头部）”或“无包裹（主体）”。

tl;博士

Choose 'no wrap (head)' from the dropdown box on the left for your example to work in jsfiddle.

# php - php mysql 删除语句

> ID：12669186
> 
> 赞同：0
> 
> 时间：2012-10-01T07:39:35.500
> 
> 标签：php, mysql

首先，我在表中显示值列表，我想做的是根据表的唯一表 ID 添加一个删除按钮。

所以我试图使用我声明的这个按钮从我的数据库中删除一个值，但是我目前正在做的事情只是没有删除数据库中的任何内容。

这是我的数据库表

```
CREATE TABLE `5050goosedown` (
    `goosedown_id` int(11) unsigned NOT NULL auto_increment,
    `name` varchar(100) NOT NULL default '',  
    `width` int(8),
    `height` int(8),
    `normal_fill` int(8),
    `our_fill` int(8),
    `old_price` DECIMAL(3,2),
    `price` DECIMAL(3,2), 
    PRIMARY KEY  (`goosedown_id`)
    ) TYPE=MyISAM; 
```

这是我的按钮，它在一个重新加载同一页面的表单中..

```
echo '<td><input type="submit" name="'.$row['goosedown_id'].'" value="Delete" /></td>"'; 
```

所以这是一个显示删除的按钮，它的名称是该表的唯一 id...（我拥有并希望在其上执行此操作的几个表之一）

然后当页面重新加载时，我有这个 if 语句来捕获被按下的特定删除按钮......这在 atm 中不起作用......

```
//DELETE QUERIES
if(isset($_POST['goosedown_id']) and is_numeric($_POST['goosedown_id']))
{
  // here comes your delete query: use $_POST['deleteItem'] as your id
  mysql_query("DELETE FROM 5050goosedown WHERE goosedown_id='goosedown_id'");
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-01T07:43:10.817

将您的 HTML 更改为：

```
echo '<td><form method="post" action=""><input type="hidden" name="goosedown_id" value="'.$row['goosedown_id'].'" /><input type="submit" name="sumbit" value="Delete" /></form></td>"'; 
```

和脚本：

```
if(isset($_POST['goosedown_id']) and is_numeric($_POST['goosedown_id'])){
  mysql_query("DELETE FROM 5050goosedown WHERE goosedown_id=".(int)$_POST['goosedown_id']);
} 
```

您没有传递`ID`with sumbit 按钮，因为它的值是`Delete`，您需要创建一个隐藏字段。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-01T07:42:49.647

正如`goosedown_id`定义的那样， `int(11) unsigned`您不能在查询中引用它：

```
"DELETE FROM 5050goosedown WHERE goosedown_id=$goosedown_id"
//                                            ^           ^ no quote 
```

当然 $goosedown_id 是表单中的发布值：

```
$goosedown_id = (int)$_POST['goosedown_id'];
//               ^^^ prevents SQL Injection 
```

所以你必须做一个'假'帖子，因为该值不能在提交中：

```
<input type="hidden" name="goosedown_id" value="<?php echo $row['goosedown_id'] ?>" /> 
```

你也可以把它写成一个完整的 php 字符串：

```
<?php echo '<input type="hidden" name="goosedown_id" value="' . $row['goosedown_id'] . '" /> ?> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-01T07:45:32.077

试试这个查询：

```
mysql_query("DELETE FROM 5050goosedown WHERE goosedown_id=".mysql_real_escape_string($_POST'goosedown_id')); 
```

另外，请确保该按钮实际上位于`form`with内`method="post"`。

# php - Magento 导入产品时出错

> ID：12669188
> 
> 赞同：4
> 
> 时间：2012-10-01T07:39:51.603
> 
> 标签：php, mysql, magento, phpmyadmin, magento-1.4

我`importing products`在`magento`.
实际上我有一个多网站 Magento 项目。
当我开始使用`magento`的默认导入功能导入产品时，出现此类错误

```
"mysql error 1205 lock wait timeout exceeded try restarting transaction." 
```

有时产品是完全进口的，但要花很多时间`re-indexing`。

那么你们中是否有人遇到过这种问题，如果是，那么如何解决这种问题？

*   我也尝试`re-indexing`使用**SSH**，但仍然面临这种错误。

希望我能很快得到回应。

![在此处输入图像描述](../Images/403951707aa0a6a2d6da62f833d8609a.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T11:54:18.727

您的 MySQL 服务器可能存在一些记录锁定问题。尝试重新启动它：它会自动对所有表运行损坏检查。告诉我们这是否能解决您的问题！

# jquery - 如何在页面加载时从 jQuery 调用外部 js 文件

> ID：12669192
> 
> 赞同：1
> 
> 时间：2012-10-01T07:40:18.387
> 
> 标签：jquery

我对评级有部分看法。此视图在单个页面上重复多次。我已经在外部 js 文件中编写了用于评级的功能代码。现在我想在每次加载评分视图时调用该 js 文件。我也想将参数传递给外部 js 文件。我尝试了以下方法来做到这一点：

```
<script type="text/javascript" >
  var EntityId="@ViewData["entityid"]";// parameters which i want to pass
  var RatingValue="@ViewData["rating"]";// parameters which i want to pass
  var EntityName="@ViewData["entityname"]";// parameters which i want to pass
</script>

<script type="text/javascript" src="../../Scripts/RatingControl.js"></script> 
```

上面的代码正在工作，但外部脚本只能访问传递变量的最后一个值，例如我的页面上有 5 条记录，然后评级控制将添加 5 次不同的值。但在外部文件中，我只获得最后记录评级值。

那么如何在每个部分视图加载事件上从 javascript 代码中调用外部 js 文件。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-01T07:55:49.163

尝试使用 jquery [**.getScript()**](http://api.jquery.com/jQuery.getScript/)，这样您就可以控制脚本的执行顺序，如下所示：

```
<script type="text/javascript" >
 var EntityId="@ViewData["entityid"]";// parameters which i want to pass
 var RatingValue="@ViewData["rating"]";// parameters which i want to pass
 var EntityName="@ViewData["entityname"]";// parameters which i want to pass
 $.getScript("../../Scripts/RatingControl.js");

 //second time
 var EntityId="new value";// parameters which i want to pass
 var RatingValue="new value";// parameters which i want to pass
 var EntityName="new value";// parameters which i want to pass
 $.getScript("../../Scripts/RatingControl.js");
</script> 
```

# mongodb - 在存储在 mongo 的文件中搜索文本

> ID：12669193
> 
> 赞同：3
> 
> 时间：2012-10-01T07:40:20.693
> 
> 标签：mongodb, full-text-search

我的 mongo 数据库中有很多文件。我只想检索那些包含单词“hello world”的文件。该文本不是文件名的一部分，但可以在文件内部（内容）的任何位置找到。mongo 是否为此提供任何 api？还是我们应该从 mongo 检索每个文件并在每个文件中搜索它？请帮忙。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-01T21:06:13.483

如果要全文搜索，可以将mongodb与elasticsearch集成。请参阅richardwilly98 的 mongodb-elasticsearch 河[https://github.com/richardwilly98/elasticsearch-river-mongodb/wiki](https://github.com/richardwilly98/elasticsearch-river-mongodb/wiki)。对于大文件，您需要 elasticsearch 映射器附件。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-01T09:41:14.773

目前无法在 GridFS 文件中搜索，因为它们只是二进制块。实际上很少使用 GridFS 来存储纯文本文件。

最好读取这些文件并将它们作为字符串字段存储在 MongoDB 中。

当然，如果您正在寻找的是全文搜索引擎，那么 NoSQL 数据库将无法提供例如[Apache Solr](http://lucene.apache.org/solr/)将提供的所有功能和性能。

最后，如果您不想移动文件，您的应用程序将需要读取这些文件并在其中进行搜索。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-01T08:45:33.000

[http://www.mongodb.org/display/DOCS/Full+Text+Search+in+Mongo](http://www.mongodb.org/display/DOCS/Full+Text+Search+in+Mongo)

# c# - 将 main 转换为按钮单击事件

> ID：12669194
> 
> 赞同：-4
> 
> 时间：2012-10-01T07:40:23.123
> 
> 标签：c#, visual-studio

我想将此赋予 Visual C# 中的按钮单击事件。我不知道该怎么做。这是代码。

```
public static void Main(string[] args){
    UdpClient udpc = new UdpClient(args[0],2055);
    IPEndPoint ep = null;

    while(true) {
        Console.Write("Name: ");

        string name = Console.ReadLine();

        if(name == "") break;

        byte[] sdata = Encoding.ASCII.GetBytes(name);    
        udpc.Send(sdata,sdata.Length);
        byte[] rdata = udpc.Receive(ref ep);    
        string job = Encoding.ASCII.GetString(rdata);

        Console.WriteLine(job);
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T07:52:20.560

如果你想从控制台应用程序打开一个 Windows 窗体，你必须包括：（你应该首先添加对 dll 的引用）

```
using System.Windows.Forms; 
```

然后创建新的表单对象

```
Form myForm = new Form(); 
```

显示它调用：

```
myForm..ShowDialog(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T07:54:19.630

首先，您需要在设计页面中创建按钮。单击按钮，它会自动将您重定向到 onclick 位置中的“您的页面名称”.cs 页面，如下所示。

```
私人无效按钮1_Click（对象发送者，EventArgs e）
        {

 `}` 

将代码放在大括号之间。

            回答 #3

赞同：0

时间：2012-10-01T07:45:13.313

打开视觉工作室，

在“**文件**”菜单上，单击**“新建”**，然后单击**“项目**...”。

在 Project Types 窗格中，选择 C#，然后在 Templates 窗格中选择 Windows Forms Application。

键入项目的名称，例如 winformsapp。您可以接受默认位置、键入位置或浏览到要保存项目的目录。

Windows 窗体设计器打开，显示您创建的项目的**Form1**。

打开工具箱窗口，一般在VS的两侧

如果工具箱窗口不可见，请单击视图菜单上的**工具箱。**

将**按钮**拖到工具箱

双击按钮进入`button1_Click`() 事件。将此代码移到那里。`Console.WriteLine()`不会在那里工作。你可以使用`MessageBox.Show()`

```

# delphi - 在网络浏览器中打开页面

> ID：12669196
> 
> 赞同：2
> 
> 时间：2012-10-01T07:40:34.480
> 
> 标签：delphi, twebbrowser

我正在使用 TWebBrowser 打开一个站点。

当它打开时，它带有网络浏览器（即 9）已过时的消息，我应该更换它。这是我唯一一次得到它。

我怎样才能避免它（它使打开页面真的很慢）？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-02T07:19:31.803

实际上，默认情况下`TWebBrowser`正在显示页面。`IE7 mode`您需要为您的应用程序添加注册表项以强制使用更高的 IE 模式。

完整的文档可以在这里找到：http: [//msdn.microsoft.com/en-us/library/ee330730%28VS.85%29.aspx#browser_emulation](http://msdn.microsoft.com/en-us/library/ee330730%28VS.85%29.aspx#browser_emulation)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T09:41:41.727

网站使用用户代理来确定您使用的浏览器。

看看下面的文章，它将向你展示如何欺骗用户代理，使网站相信你有不同的浏览器。你可以用它把自己伪装成最新的 firefox/chrome/whatever 浏览器。

[http://theroadtodelphi.wordpress.com/2011/03/11/changeing-the-ua-user-agent-of-a-twebbrowser-component/](http://theroadtodelphi.wordpress.com/2011/03/11/changing-the-ua-user-agent-of-a-twebbrowser-component/)

# wordpress - 如何为通过 TDO Mini Forms wp-plugin 发布的帖子设置类别

> ID：12669199
> 
> 赞同：0
> 
> 时间：2012-10-01T07:40:44.177
> 
> 标签：wordpress

1.  我已经激活了 TDO Mini Forms 插件并在我的模板页面中使用了简码-

    ```
    <?php tdomf_the_form(1); ?> 
    ```

2.  我希望通过此表单提交的帖子应添加到我的类别 1。

3.  即使参考了许多表格和 readme.txt，我也无法弄清楚如何做到这一点。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T08:37:46.053

在 TDO Mini Forms -> Form Options 子菜单中，您转到设置选项卡，有一个名为“新提交的默认类别”的下拉菜单，允许您选择所需的类别。

# javascript - 样式和脚本 SVG 文档引用不同的 SVG 文档

> ID：12669201
> 
> 赞同：0
> 
> 时间：2012-10-01T07:40:52.923
> 
> 标签：javascript, css, svg

我正在玩 SVG 和 HTML5。目前我正在检查客户端 SVG 生成的可能性。这个想法是 HTML5 提供了`<embed>`一个元素，该元素包含一个描述基于十六进制的游戏地图的 XML 文档（以我自己的“格式”）。该文档附加了指向 XSL 文件（在服务器上）的 XSLT 转换，该文件从文档中生成 SVG。我想在单独的 SVG 文件（存储在服务器上）中制作地图的不同十六进制，并且生成的 SVG 地图只会引用它们。

这让你“在上下文中”。然而真正的问题从 HTML5 开始，所以我们开始吧。

* * *

如何从 SVG 文档中引用其他 SVG 文档（或其片段），以便包含的内容可用于样式和脚本？似乎这些元素在添加不属于文档的“克隆片段”`<use>`方面`<image>`非常有限（即使对于脚本......）。我不确定`<animation>`SVG 1.2 的情况如何，但我想它是一样的。

我显然缺乏原始的 C++ 预处理器之类的`#inlcude`.

该标准鼓励使用`<defs>`和`<symbol>`增加意义和可访问性。然而，似乎一旦你这样做了（因此必须用 引用符号`<use>`），你的造型就不走运了。我看不到如何使用更改样式的相同符号。

所有这些都使得重用和表示/内容分离变得更加困难。

有什么方法可以避免这些问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T08:35:22.770

由于缺乏支持，我继续尝试将 SVG 渲染器限制为少数流行的浏览器。我也只检查了样式，因为我不擅长 JavaScript。

*（我的测试是从本地文件完成的，这在某些情况下可能很重要。）*

* * *

我检查了以下浏览器：Internet Explorer、Chrome、Mozilla Firefox、Opera 和 Safari。我将它们全部更新（刚刚下载了 Opera 和 Safari），因此它们处于当前版本。

至于样式，我检查了以下功能：

1.  `<image>`,
2.  `<use>`,
3.  `<animation>`（来自 SVG 1.2 Tiny，否则我使用 1.1）。

这三个都在主文件中以 CSS 样式排列，在引用文件中以 CSS 样式排列。进一步提供了 3 种风格的 CSS 样式的引用文件：

*   `xml-stylesheet`处理指令，
*   `<style>`引用外部 CSS 文件的元素`@import`（与处理指令相同的文件）
*   `<style>`具有适当内容的元素。

* * *

没有浏览器考虑`<image>`主文档的样式（如预期的那样）。然而，除了 IE 之外的所有浏览器都没有考虑到所引用文档的样式，如果它被放置在外部文件中（并由`xml-stylesheet`or引用`@import`）。

我不确定谁在这里做得不好。通常你会在这种情况下责怪 IE，但这里的 IE 行为似乎更好，所以这次可能是其他错误。

Opera也有点随机。如果我不断刷新页面，它有时会显示为 IE，但主要显示为其他浏览器（在某些情况下缺乏样式）。

* * *

使用`<use>`（在被引用文件中引用根`<svg>`元素）Firefox 在使用被引用文件样式（无论以何种方式提供它们）和主文件样式时都能正常运行。

Opera 使用了引用的文件样式（无论以何种方式提供），但不包括主文件样式。

其他浏览器根本不显示引用的文件。

* * *

`<animation>`只有 Opera 工作。它与`<use>`. 其他人根本没有显示引用的文件。

* * *

最后，我还检查了文件内部的`<use>`引用。`<symbol>`并且所有浏览器都正常运行。

* * *

这导致了一个可悲的结论，即 SVG 文件的分离和重用几乎是不可能的（至少在 Web 环境中）。

# jquery - JQM - 触发器（'create'）不应用样式

> ID：12669204
> 
> 赞同：0
> 
> 时间：2012-10-01T07:41:03.880
> 
> 标签：jquery, mobile, radio-button

我是 JQM 的新手。我在通过 json 对象循环时添加单选按钮时遇到了一些问题。问题是当 trigger('create') 在控制组上运行时，控制组保持为空。

演示： http: [//m.dzemo.se/](http://m.dzemo.se/)

HTML：

```
<div data-role="page">

<div data-role="header">
    <h1>Visning</h1>
</div><!-- /header -->

<div data-role="content" id="content">   
    <form action="" method="POST">
        <div class="form-holder left">
            <fieldset data-role="controlgroup" id="visning-dates">
                <h2>Visning:</h2>
            </fieldset>
        </div>

        <div class="form-holder left border-left">
            <h2>Plats</h2>
            <img src="img/map.png" class="map" />
        </div>

        <div class="form-holder left">
            <div class="input-holder">
                <label for="firstname">Förnamn:</label>
                <input type="text" name="firstname" id="firstname" />
            </div>

            <div class="input-holder">
                <label for="phone">Telefon:</label>
                <input type="tel" name="phone" id="phone" />    
            </div>          
        </div>

        <div class="form-holder left border-left">
            <div class="input-holder">
                <label for="lastname">Efternamn:</label>
                <input type="text" name="lastname" id="lastname" />
            </div>

            <div class="input-holder">
                <label for="email">Epost:</label>
                <input type="email" name="email" id="email" />    
            </div>

            <div class="input-holder">
                <input type="submit" name="submit" id="submit" data-theme="b" value="Skicka" />    
            </div>      
        </div>
    </form>
</div><!-- /content -->

<div data-role="footer" data-position="fixed">
    Lite content.
</div> 
```

Javascript：

```
$(document).bind('pageinit', function() {
var dates = {
    "date" : [
        {
            'day' : 24,
            'month' : 'Oktober',
            'year' : 2012
        },
        {
            'day' : 1,
            'month' : 'Januari',
            'year' : 2013
        }
    ]
};

$.each( dates, function( index, value ){

    $.each( dates[index], function( i, val) {
        var data = '<input type="radio" name="radio-visnings-date" value="' + this.day + ' ' + this.month + ' ' + this.year + '"/><label for="radio-visnings-date">' + this.day + ' ' + this.month + ' ' + this.year + '</label>';

        $('#visning-dates').append( data ).trigger('create');
    });

}); 
```

});

我已经检查了console.log的数据是否正确，结果看起来像预期的那样，但我只是没有在页面上得到任何元素。

编辑：将 Javascript 更改为：

```
$(document).bind('pageinit', function() {
var dates = {
    "date" : [
        {
            'day' : 24,
            'month' : 'Oktober',
            'year' : 2012
        },
        {
            'day' : 1,
            'month' : 'Januari',
            'year' : 2013
        }
    ]
};

var data = '';
$.each( dates, function( index, value ){

    $.each( dates[index], function( i, val) {
        data += '<input type="radio" name="radio-visnings-date" value="' + this.day + ' ' + this.month + ' ' + this.year + '"/><label for="radio-visnings-date">' + this.day + ' ' + this.month + ' ' + this.year + '</label>';

    });

});

$('#visning-dates').append( data ).trigger('create');
$('#visning-dates').controlgroup('refresh'); 
```

});

我现在得到了 DOM 中的元素，但没有 jqm 基本样式。：/

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-01T08:03:33.533

问题是单选按钮元素不在 DOM 中开始，因此 JQM css 没有应用到它，我在几周前尝试动态添加下拉框到我的页面时遇到了类似的问题。

我解决它的方法是创建一个空元素（在你的情况下是一个单选按钮集）并隐藏它，然后简单地附加数据，刷新元素然后显示它。将不需要“创建”方法......所以......

```
<input type="radio"  id="radio-visnings-date"/> 
```

应该从一开始就在您的 html 中，这样 JQM 样式就会应用于它。

然后在您的 js 中，应使用以下内容来隐藏页面加载时的 radio 元素：

```
$(document).ready(function() { 
    $('#visning-dates').hide(); 
}); 
```

然后替换

```
$('#visning-dates').append( data ).trigger('create');
 $('#visning-dates').controlgroup('refresh'); 
```

和

```
$('#visning-dates').append( data );
$('#visning-dates').controlgroup('refresh', true);
$('#visning-dates').show(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T08:58:42.510

这应该可以解决您的问题

[https://forum.jquery.com/topic/applying-styles-to-dynamically-added-radio-buttons](https://forum.jquery.com/topic/applying-styles-to-dynamically-added-radio-buttons)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-01T07:45:22.647

删除这个

```
$(document).bind('pageinit', function() { 
```

并将其包含在

```
$(function() { 
```

[演示](http://jsfiddle.net/sushanth009/Yrxqr/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-01T08:11:19.263

尝试在所有单选按钮上设置一个类，然后尝试以下操作：

```
$('.radiosclass').checkboxradio("refresh"); 
```

# asp.net - 错误 Microsoft.Web.Infrastructure，版本 = 1.0.0.0，文化 = 中性，PublicKeyToken = 31bf3856ad364e35

> ID：12669206
> 
> 赞同：92
> 
> 时间：2012-10-01T07:41:13.097
> 
> 标签：asp.net

我有一个小型网络应用程序。在我在我的应用程序中添加两个 genericHandler 之前，它工作正常。

我对 http 处理程序进行了以下更改

```
 <system.web>
    <authentication mode="Forms" >
        <forms protection="All" timeout="720" defaultUrl="Default.aspx" loginUrl="Login.aspx" >
        </forms>
    </authentication>
    <authorization>
        <deny users="?"/>
    </authorization>
    <compilation debug="true" targetFramework="4.0" />

    <httpHandlers>
        <!--Code Log Handler-->
        <add verb="*" path="*.aspx" type="System.Web.UI.PageHandlerFactory" />
        <add verb="*" type="InfoDomeNewUI.Handler.SendOWA" path="SendOWA.ashx" />
        <add verb="*" type="InfoDomeNewUI.Handler.SendSOS" path="SendSOS.ashx" />
    </httpHandlers>
    <customErrors mode="Off">
        <error statusCode="404" redirect="Templates/PageNotFound.html" />
    </customErrors>
</system.web>
<system.webServer>
    <validation validateIntegratedModeConfiguration="false" />
    <handlers>
        <!--Code Log Handler-->
        <add name="LogHandler1" path="SendOWA.ashx" verb="*" type="InfoDomeNewUI.Handler.SendOWA"/>
        <!-- SMS SENDER-->
        <add name="SendSOS" path="SendSOS.ashx" verb="*" type="InfoDomeNewUI.Handler.SendSOS"/>
    </handlers>
</system.webServer>

Could not load file or assembly 'Microsoft.Web.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35' or one of its dependencies. The system cannot find the file specified. 
```

我正在使用 asp.net4.0 和 C#。**我没有**
在本地主机上使用 MVC，它工作正常。
但是当我托管已发布的代码时，它给了我上述错误。

堆栈跟踪：-

> [FileNotFoundException：无法加载文件或程序集“Microsoft.Web.Infrastructure，Version=1.0.0.0，Culture=neutral，PublicKeyToken=31bf3856ad364e35”或其依赖项之一。系统找不到指定的文件。] System.Web.Http.WebHost.SuppressFormsAuthRedirectModule.Register() +0
> 
> [InvalidOperationException：System.Web.Http.WebHost.PreApplicationStartCode 类型的预应用程序启动初始化方法 Start 引发异常，并显示以下错误消息：无法加载文件或程序集 'Microsoft.Web.Infrastructure，版本 = 1.0.0.0， Culture=neutral, PublicKeyToken=31bf3856ad364e35' 或其依赖项之一。系统找不到指定的文件..] System.Web.Compilation.BuildManager.InvokePreStartInitMethods(ICollection`1 methods) +11708830 System.Web.Compilation.BuildManager.CallPreStartInitMethods() +465 System.Web.Hosting.HostingEnvironment.Initialize( ApplicationManager appManager, IApplicationHost appHost, IConfigMapPathFactory configMapPathFactory, HostingEnvironmentParameters hostingParameters, PolicyLevel policyLeve
> 
> [HttpException (0x80004005): System.Web.Http.WebHost.PreApplicationStartCode 类型上的预应用程序启动初始化方法 Start 引发异常，并显示以下错误消息：无法加载文件或程序集 'Microsoft.Web.Infrastructure，版本 = 1.0 .0.0，Culture=neutral，PublicKeyToken=31bf3856ad364e35' 或其依赖项之一。系统找不到指定的文件..] System.Web.HttpRuntime.FirstRequestInit(HttpContext context) +11697760 System.Web.HttpRuntime.EnsureFirstRequestInit(HttpContext context) +141 System.Web.HttpRuntime.ProcessRequestNotificationPrivate(IIS7WorkerRequest wr, HttpContext context) +4866485

* * *

## 回答 #1

> 赞同：198
> 
> 时间：2012-10-02T01:33:36.143

似乎**Microsoft.Web.Infrastructure.dll**没有安装在 GAC 中，即使 .net（4.0 或 4.5 或其他）已成功安装在 Windows Server 上。在 localhost（通常是 Windows 客户端）上，安装工具/平台（Visual Studio 等）时，它似乎在 GAC 中。

作为一种可能的解决方法，请尝试以下方法：

1.  在包管理器控制台中运行以下命令。（如果您使用的是 Visual Studio，可以通过菜单选项“工具 --> 库包管理器 --> 包管理器控制台：）

    ```
    PM> Install-Package Microsoft.Web.Infrastructure 
    ```

    如果安装成功，您将看到以下消息。

    ```
    Successfully installed 'Microsoft.Web.Infrastructure 1.0.0.0'.
    Successfully added 'Microsoft.Web.Infrastructure 1.0.0.0' to Web. 
    ```

2.  您会注意到**Microsoft.Web.Infrastructure.dll**现在已作为参考添加（可以在解决方案资源管理器的项目的参考文件夹中看到）

3.  如果您查看此参考的属性，您会注意到“ **Copy Local** ”默认设置为“ **True** ”。

4.  现在，当您“发布”您的项目时，**Microsoft.Web.Infrastructure.dll**将被部署。

* * *

## 回答 #2

> 赞同：19
> 
> 时间：2012-12-21T04:24:13.627

我通过 WPI 安装了 MVC4，它帮助了我。

* * *

## 回答 #3

> 赞同：15
> 
> 时间：2015-08-18T13:18:18.983

我有同样的问题。当我尝试接受的答案 (rockyb) 时，我收到该软件包已安装并分配给我的项目的消息。但是，当我检查参考列表时，它没有被引用。

Microsoft.Web.Infrastructure 安装在我的解决方案的包文件夹中。我没有使用 NuGet 添加包，而是使用了添加引用选项。在弹出窗口的左侧，我选择了浏览，然后按下窗口底部的浏览按钮。我导航到我的解决方案所在文件夹下的 packages 文件夹，然后深入到 ...\mysolution\packages\Microsoft.Web.Infrastructure.1.0.0.0\lib\net40 并单击 Microsoft.Web.Infrastructure .dll。单击确定后，该包出现在我的参考列表中。我使用 Web Deploy Package 选项来部署我的网站，一切正常。

* * *

## 回答 #4

> 赞同：9
> 
> 时间：2016-04-22T06:08:55.743

为什么不手动将 Microsoft.Web.Infrastructure.dll 文件复制到服务器 BIN 文件夹中。这适用于。我的项目是VS2010网站。

该文件可以位于：

C:\Program Files (x86)\Microsoft ASP.NET\ASP.NET MVC 4\Packages\Microsoft.Web.Infrastructure.1.0.0.0\lib\net40

只需将其复制并粘贴到 BIN 文件夹中即可。

如果您还没有它，您可能需要将它包含在 web.config 中

```
<compilation debug="true" targetFramework="4.0">
  <assemblies>
    <add assembly="Microsoft.Web.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"/>
  </assemblies>
</compilation> 
```

参考：[http ://thedeveloperblog.com/](http://thedeveloperblog.com/)

* * *

## 回答 #5

> 赞同：6
> 
> 时间：2012-10-03T05:25:02.733

我发现了问题。`(.cs)`我没有错误地添加类文件，而是添加了一个类`Web API Controller`，该类在我的解决方案中添加了一个配置文件。该配置文件正在寻找提到的 DLL (Microsoft.Web.Infrastructure 1.0.0.0)。当我删除该文件，清理应用程序然后发布时，它起作用了。

* * *

## 回答 #6

> 赞同：5
> 
> 时间：2016-02-04T15:52:20.117

通过安装 Microsoft.Web.Infrastructure 后`Nuget-Package Manager`

```
PM> Install-Package Microsoft.Web.Infrastructure 
```

`Microsoft.Web.Infrastructure.dll`从 Web 应用程序的文件夹中手动复制`Nuget-Package`，然后将其粘贴到部署在 Web 服务器上的 Web 应用程序的 bin 文件夹中。

> 包\Microsoft.Web.Infrastructure.1.0.0.0\lib\net40\Microsoft.Web.Infrastructure.dll

它对我有用。

* * *

## 回答 #7

> 赞同：4
> 
> 时间：2017-09-06T07:19:32.063

`Update-Package -reinstall Microsoft.Web.Infrastructure`对我不起作用，因为我不断收到它已经安装的错误。

我必须导航到包文件夹中的*Microsoft.Web.Infrastructure.1.0.0.0*文件夹并手动删除该文件夹。

完成此操作后，运行`Install-Package Microsoft.Web.Infrastructure`安装它。

注意：`CopyLocal`被自动设置为true。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2015-07-16T13:22:35.317

我遇到了同样的问题，并且“Microsoft.Web.Infrastructure.dll”似乎丢失了。我尝试了一些建议并安装了 MVC 等，但没有任何帮助。解决方案是安装“Web Services Enhancements (WSE) 1.0 SP1 for Microsoft .NET”，其中包括 Microsoft.Web.Infrastructure.dll。可在：[http ://www.microsoft.com/en-gb/download/details.aspx?id=4065](http://www.microsoft.com/en-gb/download/details.aspx?id=4065)

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2015-07-31T07:24:09.287

我有同样的问题。我尝试安装 Visual Studio 2010 SP1，但没有成功。

最后我从同事那里得到了 Microsoft.Web.Infrastructure.dll。您可以在项目运行良好的朋友 PC 中找到该 dll。尝试将 dll 搜索到临时/临时 ASP.NET 文件中。使用 %temp% 进入运行窗口进入 Temp。

将 dll 放入您的电脑后，只需添加对您项目的引用，它就会起作用。

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2017-11-07T22:15:36.167

重新发布该网站为我解决了这个问题。

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2017-11-21T17:26:29.777

面临同样的问题，不幸的是这里没有任何工作。最后，我遇到了这个链接：[https ://blogs.msdn.microsoft.com/jjameson/2009/11/18/the-copy-local-bug-in-visual-studio/](https://blogs.msdn.microsoft.com/jjameson/2009/11/18/the-copy-local-bug-in-visual-studio/)

结果证明解决方案有点愚蠢：将 microsoft.web.infrastructure dll 的 copy-local 设置为 False，然后将其设置回 True。

顺便说一句，我认为正在发生的事情是 microsoft.web.infrastructure dll 有两个版本，一个预安装在 GAC 中，另一个现在是 nuget 包。我认为一个掩盖了另一个，因此引起了问题。在我的特殊情况下，在我的构建服务器上，我需要将其复制到一个文件夹中（然后将该文件夹压缩并发送到部署）。我猜系统在本地有一个副本，只是想“不，会没事的”

* * *

## 回答 #12

> 赞同：0
> 
> 时间：2018-01-24T18:01:45.657

我有一个只有文件的网站。将 MVC 5 添加到 webforms 应用程序（针对 net45）。我不得不修改 packages.config

```
package id="Microsoft.AspNet.Mvc" version="5.2.3" targetFramework="net45" 
```

到

```
package id="Microsoft.AspNet.Mvc" version="5.2.3" targetFramework="net45" developmentDependency="true" 
```

为了让它以调试模式在本地机器上启动（以前有上面描述的错误）。在 Windows 7 上运行 VS 2017 ...通过文件 > 打开 > 网站 > 文件打开（选择 IIS 之外的根目录）。

* * *

## 回答 #13

> 赞同：0
> 
> 时间：2019-02-16T02:56:28.080

升级一堆 NuGet 包后我遇到了同样的问题。
我已经尝试过这里描述的各种删除、清理、重新安装，但无济于事。尽管 NuGet 管理器显示它已安装，但引用没有 Microsoft.Web.Infrastructure。

问题通过更换解决：

```
 <package id="Microsoft.Web.Infrastructure" version="1.0.0.0" targetFramework="net45" /> 
```

和

```
 <package id="Microsoft.Web.Infrastructure" version="1.0.0.0" targetFramework="net46" /> 
```

在 packages.config 中。罪魁祸首显然是“net45”。

* * *

## 回答 #14

> 赞同：0
> 
> 时间：2022-01-10T21:43:55.513

有时需要强制删除软件包，然后重新安装它对我有用。尝试删除包

```
Uninstall-Package Microsoft.Web.Infrastructure -force 
```

然后再次安装

```
Install-Package Microsoft.Web.Infrastructure 
```

# android - 在 PC 上测试 opengles 程序

> ID：12669208
> 
> 赞同：1
> 
> 时间：2012-10-01T07:41:26.423
> 
> 标签：android, c++, windows, ubuntu, opengl-es

我正在研究 Opengl ES 1.x 中的一些效果。
我已经用 C++ 编写了代码，所以我可以在 android（使用 NDK）和 iphone 中使用它。
如何在没有 android 模拟器或 iphone 的情况下构建项目并在 PC 上运行它？
我是说 ; 我仍然不知道如何使用 NDK，但我知道 Opengl ES。
我的电脑上有 Ubuntu 和 windows。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T08:10:32.920

OpenGL是跨平台的。opengl es 只是 opengl 的一个子集，所以你必须注意你正在使用的东西（它必须在 opengl es 中得到支持）。

创建一个将创建一个窗口并执行 opengl 函数的示例程序。在 PC 上构建您的程序，然后执行。您仍然需要在模拟器（或手机）中尝试您的程序

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T19:50:51.040

如果您有兴趣，GPU 制造商提供的 opengl es 模拟器非常适合在桌面上测试 opengl es 代码。

这是我使用的[模拟器。](http://www.malideveloper.com/developer-resources/tools/opengl-es-20-emulator.php)它是许多 Android 手机（如 Galaxy S2 S3 等）中存在的 MALI GPU 的模拟器。

# ios - iPhone iOS6 音频崩溃

> ID：12669209
> 
> 赞同：1
> 
> 时间：2012-10-01T07:41:40.863
> 
> 标签：ios, crash, core-audio

我们已经开始注意到一些用户在更新到 iOS6 后出现了一些奇怪的音频错误。我们正在使用`MPMusicPlayerController`和其他一些核心音频功能。还有其他人经历过类似的事情吗？控制台日志片段：

```
Sep 30 23:14:43 JMS-iPhone mediaserverd[37] <Notice>: >vad< ERROR:    23:14:43.712 [tid 0x2ff6f000] VirtualStream.cpp[465]: GetCurrentFormats(): Error 'what' getting virtual format for actual format [ 16/44100/1; flags: 0x44; bytes/packet: 4; frames/packet: 1; bytes/frame: 4;  ]
Sep 30 23:14:43 JMS-iPhone mediaserverd[37] <Notice>: >vad< EXCEPTION: 23:14:43.718 [tid 0x2ff6f000] VirtualStream.cpp[369]: GetPropertyData(): result: "error getting current stream format"
Sep 30 23:14:43 JMS-iPhone mediaserverd[37] <Notice>: >vad< ERROR:    23:14:43.731 [tid 0x2ff6f000] VirtualStream.cpp[465]: GetCurrentFormats(): Error 'what' getting virtual format for actual format [ 16/44100/1; flags: 0x44; bytes/packet: 4; frames/packet: 1; bytes/frame: 4;  ]
Sep 30 23:14:43 JMS-iPhone mediaserverd[37] <Notice>: >vad< ERROR:    23:14:43.738 [tid 0x2ff6f000] VirtualAudio_Stream.cpp[411]: UpdatePhysicalFormat(): error 'what' getting underlying stream format
Sep 30 23:14:43 JMS-iPhone Application[3009] <Warning>: [DB] phone volume changed to: 1.000000
Sep 30 23:14:43 JMS-iPhone mediaserverd[37] <Notice>: >vad< ERROR:    23:14:43.858 [tid 0x3265000] VirtualStream.cpp[465]: GetCurrentFormats(): Error 'what' getting virtual format for actual format [ 16/44100/1; flags: 0x44; bytes/packet: 4; frames/packet: 1; bytes/frame: 4;  ]
Sep 30 23:14:43 JMS-iPhone mediaserverd[37] <Notice>: >vad< EXCEPTION: 23:14:43.863 [tid 0x3265000] AggregateDevice_Common.cpp[1204]: UpdateIOProcCache(): result: "Stream::GetCurrentFormat() returned an error."
Sep 30 23:14:43 JMS-iPhone mediaserverd[37] <Notice>: >vad< EXCEPTION: 23:14:43.867 [tid 0x3265000] VirtualAudio_Device.cpp[2186]: StartIOEngine(): theError: "error starting IO on the active device"
Sep 30 23:14:43 JMS-iPhone mediaserverd[37] <Error>: 23:14:43.870 <AudioControl> AQMEIO_Base::DoStartIO: error 2003329396
Sep 30 23:14:43 JMS-iPhone mediaserverd[37] <Error>: 23:14:43.872 <AudioControl> AQMEDevice(0x1ea4e000)::StartIO: error 2003329396 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T16:38:38.500

好的，我想我们现在已经解决了这个问题。真正发生的是，我们还没有完全理解背景音频和音频会话中断的复杂性。

如果您有奇怪的声音问题，请检查您是否正确处理了中断。

很抱歉没有提供任何代码，有关处理中断的更多信息：

[http://developer.apple.com/library/ios/#documentation/Audio/Conceptual/AudioSessionProgrammingGuide/HandlingAudioInterruptions/HandlingAudioInterruptions.html](http://developer.apple.com/library/ios/#documentation/Audio/Conceptual/AudioSessionProgrammingGuide/HandlingAudioInterruptions/HandlingAudioInterruptions.html)

# android - 如何向 ImageSwitcher Timer 添加更多图片？

> ID：12669211
> 
> 赞同：1
> 
> 时间：2012-10-01T07:41:47.053
> 
> 标签：android, imageview, imageswitcher

我想在`imageSwitcher`课堂上设置一个计时器。我可以使用以下代码对 2 张图片执行此操作，但我无法添加更多图片。谁能告诉我如何向`ImageSwitcher`计时器添加更多图片？

```
imageSwitcher.postDelayed(new Runnable() {
            int i = 0;
            public void run() {
                imageSwitcher.setImageResource(
                    i++ % 2 == 0 ?
                        R.drawable.image1 :
                        R.drawable.mage2);
                imageSwitcher.postDelayed(this, 1000);
            }
        }, 1000); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T07:48:05.660

你可以存储在数组中

```
private static final int[] imgs = {R.drawable.image1,
                        R.drawable.mage2,
                        R.drawable.image3,
                        R.drawable.mage4}; 
```

然后通过使用索引变量和整数来使用这个数组来获取你想要的drawable。例如，您想显示圆形幻灯片，因此它从 0 开始，当它到达结束时，它将从头开始

```
private int index = 0;

imageSwitcher.postDelayed(new Runnable() {
            public void run() {
                imageSwitcher.setImageResource(imgs[index]);
                if(index==(imgs.length-1))
                     index = 0;
                else
                     index++;
                imageSwitcher.postDelayed(this, 1000);
            }
        }, 1000); 
```

# java - 在 Java 中调用方法之前检查参数的数量

> ID：12669213
> 
> 赞同：0
> 
> 时间：2012-10-01T07:42:05.440
> 
> 标签：java

在我的程序中，我有一个方法如下；

```
private void foo(String title, String[] subtitles, int ... subtitleValues) 
```

我的要求是；

*   字幕数和 subtitleValues 必须相等。用户可以发送任意数量的字幕和字幕值，但正如我所说的，字幕和字幕值的**数量相等。**

我不想同时接受这两个参数并检查它们在`foo`函数中的计数，并说由于字幕和 subtitleValues 不相等而无法创建您的表。我想要的是；防止用户发送不相等的参数。我怎样才能做到这一点？

提前致谢

PS：我没有找到合适的标题，所以如果你有，请随时更改它。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-01T07:46:46.397

你不能这样做。为了让你的方法更难被错误调用，你*可以做的是为这样的构建器使用流畅的 API：*

```
class FooBuilder {
  public static FooBuilder withTitle(String title);
  public FooBuilder withSubtitle(String subtitle, int subtitleValue);
  public Foo build();
} 
```

为简洁起见，我省略了实现。然后你可以这样称呼它：

```
Foo foo = FooBuilder.withTitle("MyTitle").withSubtitle("st1", 1).withSubtitle("st2", 2).build(); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-01T07:43:41.177

创建一个包含 subtitle、subtitleValue 对的类。让您的方法接受此类实例的可变参数（或列表或数组）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-01T07:44:57.863

在这种情况下，您应该创建代表字幕的可能单独的类*Subtitle*。并创建相应的构造函数或方法来一一添加字幕。

然后将您的 foo 方法改写为：

```
private void foo(String title, List<Subtitle> subtitles) 
```

# c# - 在 SlideShowGestures-WPF Kinect 示例中添加缩放和平移功能

> ID：12669214
> 
> 赞同：0
> 
> 时间：2012-10-01T07:42:07.260
> 
> 标签：c#, wpf, kinect, zooming

这是 SlideshowGestures-WPF 示例中的代码，可用于识别滑动手势。我使用 Fizbin 的 ( [http://www.exceptontuesdays.com/gestures-with-microsoft-kinect-for-windows-sdk-v1-5/](http://www.exceptontuesdays.com/gestures-with-microsoft-kinect-for-windows-sdk-v1-5/) ) 库在此代码中添加缩放手势。手势被正确识别，代码进入函数“OnGestureRecognised”中的“if”循环。我想做的是，一旦完成，我想放大图像。我在这里尝试使用该解决方案： Kelly 的[https://stackoverflow.com/a/927134/1473556](https://stackoverflow.com/a/927134/1473556)。但问题是，RenderTransform 不适用于 BitmapImage 类的对象。那么我该怎么做呢？

```
/// <summary>
/// Interaction logic for MainWindow.xaml
/// </summary>
public partial class MainWindow : Window, INotifyPropertyChanged
{
    /// <summary>
    /// The recognizer being used.
    /// </summary>
    private readonly Recognizer activeRecognizer;

    // skeleton gesture recognizer
    private GestureController gestureController;

    /// <summary>
    /// The paths of the picture files.
    /// </summary>
    private readonly string[] picturePaths = CreatePicturePaths();

    /// <summary>
    /// Array of arrays of contiguous line segements that represent a skeleton.
    /// </summary>
    private static readonly JointType[][] SkeletonSegmentRuns = new JointType[][]
    {
        new JointType[] 
        { 
            JointType.Head, JointType.ShoulderCenter, JointType.HipCenter 
        },
        new JointType[] 
        { 
            JointType.HandLeft, JointType.WristLeft, JointType.ElbowLeft, JointType.ShoulderLeft,
            JointType.ShoulderCenter,
            JointType.ShoulderRight, JointType.ElbowRight, JointType.WristRight, JointType.HandRight
        },
        new JointType[]
        {
            JointType.FootLeft, JointType.AnkleLeft, JointType.KneeLeft, JointType.HipLeft,
            JointType.HipCenter,
            JointType.HipRight, JointType.KneeRight, JointType.AnkleRight, JointType.FootRight
        }
    };

    /// <summary>
    /// The sensor we're currently tracking.
    /// </summary>
    private KinectSensor nui;

    /// <summary>
    /// There is currently no connected sensor.
    /// </summary>
    private bool isDisconnectedField = true;

    /// <summary>
    /// Any message associated with a failure to connect.
    /// </summary>
    private string disconnectedReasonField;

    /// <summary>
    /// Array to receive skeletons from sensor, resize when needed.
    /// </summary>
    private Skeleton[] skeletons = new Skeleton[0];

    /// <summary>
    /// Time until skeleton ceases to be highlighted.
    /// </summary>
    private DateTime highlightTime = DateTime.MinValue;

    /// <summary>
    /// The ID of the skeleton to highlight.
    /// </summary>
    private int highlightId = -1;

    /// <summary>
    /// The ID of the skeleton to be tracked.
    /// </summary>
    private int nearestId = -1;

    /// <summary>
    /// The index of the current image.
    /// </summary>
    private int indexField = 1;

    /// <summary>
    /// Initializes a new instance of the <see cref="MainWindow" /> class.
    /// </summary>
    public MainWindow()
    {
        this.PreviousPicture = this.LoadPicture(this.Index - 1);
        this.Picture = this.LoadPicture(this.Index);
        this.NextPicture = this.LoadPicture(this.Index + 1);

        InitializeComponent();

        // initialize the gesture recognizer
        gestureController = new GestureController();
        gestureController.GestureRecognized += OnGestureRecognized;

        // Create the gesture recognizer.
        this.activeRecognizer = this.CreateRecognizer();

        // Wire-up window loaded event.
        Loaded += this.OnMainWindowLoaded;
    }

    /// <summary>
    /// Event implementing INotifyPropertyChanged interface.
    /// </summary>
    public event PropertyChangedEventHandler PropertyChanged;

    /// <summary>
    /// Gets a value indicating whether no Kinect is currently connected.
    /// </summary>
    public bool IsDisconnected
    {
        get
        {
            return this.isDisconnectedField;
        }

        private set
        {
            if (this.isDisconnectedField != value)
            {
                this.isDisconnectedField = value;

                if (this.PropertyChanged != null)
                {
                    this.PropertyChanged(this, new PropertyChangedEventArgs("IsDisconnected"));
                }
            }
        }
    }

    /// <summary>
    /// Gets any message associated with a failure to connect.
    /// </summary>
    public string DisconnectedReason
    {
        get
        {
            return this.disconnectedReasonField;
        }

        private set
        {
            if (this.disconnectedReasonField != value)
            {
                this.disconnectedReasonField = value;

                if (this.PropertyChanged != null)
                {
                    this.PropertyChanged(this, new PropertyChangedEventArgs("DisconnectedReason"));
                }
            }
        }
    }

    /// <summary>
    /// Gets or sets the index number of the image to be shown.
    /// </summary>
    public int Index
    {
        get
        {
            return this.indexField;
        }

        set
        {
            if (this.indexField != value)
            {
                this.indexField = value;

                // Notify world of change to Index and Picture.
                if (this.PropertyChanged != null)
                {
                    this.PropertyChanged(this, new PropertyChangedEventArgs("Index"));
                }
            }
        }
    }

    /// <summary>
    /// Gets the previous image displayed.
    /// </summary>
    public BitmapImage PreviousPicture { get; private set; }

    /// <summary>
    /// Gets the current image to be displayed.
    /// </summary>
    public BitmapImage Picture { get; private set; }

    /// <summary>
    /// Gets the next image displayed.
    /// </summary>
    public BitmapImage NextPicture { get; private set; }

    /// <summary>
    /// Get list of files to display as pictures.
    /// </summary>
    /// <returns>Paths to pictures.</returns>
    private static string[] CreatePicturePaths()
    {
        var list = new List<string>();
        var commonPicturesPath = Environment.GetFolderPath(Environment.SpecialFolder.Desktop);
        var newPath = commonPicturesPath + "\\Images";
        list.AddRange(Directory.GetFiles(newPath, "*.jpg", SearchOption.AllDirectories));
        if (list.Count == 0)
        {
            list.AddRange(Directory.GetFiles(commonPicturesPath, "*.png", SearchOption.AllDirectories));
        }

        if (list.Count == 0)
        {
            var myPicturesPath = Environment.GetFolderPath(Environment.SpecialFolder.MyPictures);
            list.AddRange(Directory.GetFiles(myPicturesPath, "*.jpg", SearchOption.AllDirectories));
            if (list.Count == 0)
            {
                list.AddRange(Directory.GetFiles(commonPicturesPath, "*.png", SearchOption.AllDirectories));
            }
        }
        return list.ToArray();
    }

    /// <summary>
    /// Load the picture with the given index.
    /// </summary>
    /// <param name="index">The index to use.</param>
    /// <returns>Corresponding image.</returns>
    private BitmapImage LoadPicture(int index)
    {
        BitmapImage value;

        if (this.picturePaths.Length != 0)
        {
            var actualIndex = index % this.picturePaths.Length;
            if (actualIndex < 0)
            {
                actualIndex += this.picturePaths.Length;
            }

            Debug.Assert(0 <= actualIndex, "Index used will be non-negative");
            Debug.Assert(actualIndex < this.picturePaths.Length, "Index is within bounds of path array");

            try
            {
                value = new BitmapImage(new Uri(this.picturePaths[actualIndex]));

            }
            catch (NotSupportedException)
            {
                value = null;
            }
        }
        else
        {
            value = null;
        }

        return value;
    }

    /// <summary>
    /// Create a wired-up recognizer for running the slideshow.
    /// </summary>
    /// <returns>The wired-up recognizer.</returns>
    private Recognizer CreateRecognizer()
    {
        // Instantiate a recognizer.
        var recognizer = new Recognizer();

        // Wire-up swipe right to manually advance picture.
        recognizer.SwipeRightDetected += (s, e) =>
        {
            if (e.Skeleton.TrackingId == nearestId)
            {
                Index++;
                Debug.WriteLine("Swiperight. Your gesture is recognised. Congratulations");
                // Setup corresponding picture if pictures are available.
                this.PreviousPicture = this.Picture;
                this.Picture = this.NextPicture;
                this.NextPicture = LoadPicture(Index + 1);

                // Notify world of change to Index and Picture.
                if (this.PropertyChanged != null)
                {
                    this.PropertyChanged(this, new PropertyChangedEventArgs("PreviousPicture"));
                    this.PropertyChanged(this, new PropertyChangedEventArgs("Picture"));
                    this.PropertyChanged(this, new PropertyChangedEventArgs("NextPicture"));
                }

                var storyboard = Resources["LeftAnimate"] as Storyboard;
                if (storyboard != null)
                {
                    storyboard.Begin();
                }

                HighlightSkeleton(e.Skeleton);
            }
        };

        // Wire-up swipe left to manually reverse picture.
        recognizer.SwipeLeftDetected += (s, e) =>
        {
            if (e.Skeleton.TrackingId == nearestId)
            {
                Index--;
                Debug.WriteLine("Swipeleft. Your gesture is recognised. Congratulations");
                // Setup corresponding picture if pictures are available.
                this.NextPicture = this.Picture;
                this.Picture = this.PreviousPicture;
                this.PreviousPicture = LoadPicture(Index - 1);

                // Notify world of change to Index and Picture.
                if (this.PropertyChanged != null)
                {
                    this.PropertyChanged(this, new PropertyChangedEventArgs("PreviousPicture"));
                    this.PropertyChanged(this, new PropertyChangedEventArgs("Picture"));
                    this.PropertyChanged(this, new PropertyChangedEventArgs("NextPicture"));
                }

                var storyboard = Resources["RightAnimate"] as Storyboard;
                if (storyboard != null)
                {
                    storyboard.Begin();
                }

                HighlightSkeleton(e.Skeleton);
            }
        };

        return recognizer;
    }

    /// <summary>
    ///
    /// </summary>
    /// <param name="sender"></param>
    /// <param name="e">Gesture event arguments.</param>
    private void OnGestureRecognized(object sender, GestureEventArgs e)
    {
        Debug.WriteLine(e.GestureType);

        if (e.GestureType == GestureType.ZoomIn)
        {
            Debug.WriteLine(" line has been Detected.");
           // window.Close();
        }

        /*switch (e.GestureType)
        {
            case GestureType.Menu:
                Gesture = "Menu";
                break;
            case GestureType.WaveRight:
                Gesture = "Wave Right";
                break;
            case GestureType.WaveLeft:
                Gesture = "Wave Left";
                break;
            case GestureType.JoinedHands:
                Gesture = "Joined Hands";
                break;
            case GestureType.SwipeLeft:
                Gesture = "Swipe Left";
                break;
            case GestureType.SwipeRight:
                Gesture = "Swipe Right";
                break;
            case GestureType.ZoomIn:
                Gesture = "Zoom In";
                break;
            case GestureType.ZoomOut:
                Gesture = "Zoom Out";
                break;

            default:
                break;
        }*/
    }

    /// <summary>
    /// Handle insertion of Kinect sensor.
    /// </summary>
    private void InitializeNui()
    {
        this.UninitializeNui();

        var index = 0;
        while (this.nui == null && index < KinectSensor.KinectSensors.Count)
        {
            try
            {
                this.nui = KinectSensor.KinectSensors[index];

                this.nui.Start();

                this.IsDisconnected = false;

                this.DisconnectedReason = null;
            }
            catch (IOException ex)
            {
                this.nui = null;

                this.DisconnectedReason = ex.Message;
            }
            catch (InvalidOperationException ex)
            {
                this.nui = null;

                this.DisconnectedReason = ex.Message;
            }

            index++;
        }

        if (this.nui != null)
        {
            this.nui.SkeletonStream.Enable();

            this.nui.SkeletonFrameReady += this.OnSkeletonFrameReady;
        }
    }

    /// <summary>
    /// Handle removal of Kinect sensor.
    /// </summary>
    private void UninitializeNui()
    {
        if (this.nui != null)
        {
            this.nui.SkeletonFrameReady -= this.OnSkeletonFrameReady;

            this.nui.Stop();

            this.nui = null;
        }

        this.IsDisconnected = true;

        this.DisconnectedReason = null;
    }

    /// <summary>
    /// Window loaded actions to initialize Kinect handling.
    /// </summary>
    /// <param name="sender">The sender.</param>
    /// <param name="e">The event args.</param>
    private void OnMainWindowLoaded(object sender, RoutedEventArgs e)
    {
        // Start the Kinect system, this will cause StatusChanged events to be queued.
        this.InitializeNui();

        // Handle StatusChange events to pick the first sensor that connects.
        KinectSensor.KinectSensors.StatusChanged += (s, ee) =>
        {
            switch (ee.Status)
            {
                case KinectStatus.Connected:
                    if (nui == null)
                    {
                        Debug.WriteLine("New Kinect connected");

                        InitializeNui();
                    }
                   else
                    {
                        Debug.WriteLine("Existing Kinect signalled connection");
                    }

                    break;
                default:
                    if (ee.Sensor == nui)
                    {
                        Debug.WriteLine("Existing Kinect disconnected");

                        UninitializeNui();
                    }
                    else
                    {
                        Debug.WriteLine("Other Kinect event occurred");
                    }

                    break;
            }
        };
    }

    /// <summary>
    /// Handler for skeleton ready handler.
    /// </summary>
    /// <param name="sender">The sender.</param>
    /// <param name="e">The event args.</param>
    private void OnSkeletonFrameReady(object sender, SkeletonFrameReadyEventArgs e)
    {

        using (SkeletonFrame frame = e.OpenSkeletonFrame())
        {
            if (frame == null)
                return;

            // resize the skeletons array if needed
            if (skeletons.Length != frame.SkeletonArrayLength)
                skeletons = new Skeleton[frame.SkeletonArrayLength];

            // get the skeleton data
            frame.CopySkeletonDataTo(skeletons);

            foreach (var skeleton in skeletons)
            {
                // skip the skeleton if it is not being tracked
                if (skeleton.TrackingState != SkeletonTrackingState.Tracked)
                    continue;

                // update the gesture controller
                gestureController.UpdateAllGestures(skeleton);
            }
        }

        // Get the frame.
        using (var frame = e.OpenSkeletonFrame())
        {
            // Ensure we have a frame.
            if (frame != null)
            {
                // Resize the skeletons array if a new size (normally only on first call).
                if (this.skeletons.Length != frame.SkeletonArrayLength)
                {
                    this.skeletons = new Skeleton[frame.SkeletonArrayLength];
                }

                // Get the skeletons.
                frame.CopySkeletonDataTo(this.skeletons);

                // Assume no nearest skeleton and that the nearest skeleton is a long way away.
                var newNearestId = -1;
                var nearestDistance2 = double.MaxValue;

                // Look through the skeletons.
                foreach (var skeleton in this.skeletons)
                {
                    // Only consider tracked skeletons.
                    if (skeleton.TrackingState == SkeletonTrackingState.Tracked)
                    {
                        // Find the distance squared.
                        var distance2 = (skeleton.Position.X * skeleton.Position.X) +
                            (skeleton.Position.Y * skeleton.Position.Y) +
                            (skeleton.Position.Z * skeleton.Position.Z);

                        // Is the new distance squared closer than the nearest so far?
                        if (distance2 < nearestDistance2)
                        {
                            // Use the new values.
                            newNearestId = skeleton.TrackingId;
                            nearestDistance2 = distance2;
                        }
                    }
                }

                if (this.nearestId != newNearestId)
                {
                    this.nearestId = newNearestId;
                }

                // Pass skeletons to recognizer.
                this.activeRecognizer.Recognize(sender, frame, this.skeletons);

                this.DrawStickMen(this.skeletons);
            }
        }
    }

}
} 
```

XAML 代码粘贴在此处：

```
 <Window x:Name="window" x:Class="Microsoft.Samples.Kinect.Slideshow.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    Title="V'Me v1.0" Height="800" Width="1280" WindowState="Maximized" Background= "#FFD1D6D0">
<Window.Resources>
    <SolidColorBrush x:Key="MediumGreyBrush" Color="#ff6e6e6e"/>
    <BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter"/>
    <Storyboard x:Key="LeftAnimate">
        <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.Opacity)" Storyboard.TargetName="previous">
            <EasingDoubleKeyFrame KeyTime="0" Value="1"/>
            <EasingDoubleKeyFrame KeyTime="0:0:0.4" Value="1"/>
            <EasingDoubleKeyFrame KeyTime="0:0:0.5" Value="0"/>
        </DoubleAnimationUsingKeyFrames>
        <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.Opacity)" Storyboard.TargetName="next">
            <EasingDoubleKeyFrame KeyTime="0" Value="0"/>
        </DoubleAnimationUsingKeyFrames>
        <ThicknessAnimationUsingKeyFrames Storyboard.TargetProperty="(FrameworkElement.Margin)" Storyboard.TargetName="current">
            <EasingThicknessKeyFrame KeyTime="0" Value="2000,0,-2000,0"/>
            <EasingThicknessKeyFrame KeyTime="0:0:0.5" Value="0"/>
        </ThicknessAnimationUsingKeyFrames>
    </Storyboard>
    <Storyboard x:Key="RightAnimate">
        <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.Opacity)" Storyboard.TargetName="previous">
            <EasingDoubleKeyFrame KeyTime="0" Value="0"/>
        </DoubleAnimationUsingKeyFrames>
        <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.Opacity)" Storyboard.TargetName="next">
            <EasingDoubleKeyFrame KeyTime="0" Value="1"/>
            <EasingDoubleKeyFrame KeyTime="0:0:0.4" Value="1"/>
            <EasingDoubleKeyFrame KeyTime="0:0:0.5" Value="0"/>
        </DoubleAnimationUsingKeyFrames>
        <ThicknessAnimationUsingKeyFrames Storyboard.TargetProperty="(FrameworkElement.Margin)" Storyboard.TargetName="current">
            <EasingThicknessKeyFrame KeyTime="0" Value="-2000,0,2000,0"/>
            <EasingThicknessKeyFrame KeyTime="0:0:0.5" Value="0"/>
        </ThicknessAnimationUsingKeyFrames>
    </Storyboard>
    <Style TargetType="{x:Type Image}">
        <Setter Property="SnapsToDevicePixels" Value="True"/>
    </Style>
</Window.Resources>
<Grid DataContext="{Binding ElementName=window}" Margin="10 0 10 0" Height="732" Width="1249">
    <Grid.RowDefinitions>
        <RowDefinition Height="Auto"/>
        <RowDefinition Height="*"/>
        <RowDefinition Height="20"/>
        <RowDefinition Height="Auto"/>
    </Grid.RowDefinitions>
    <Canvas x:Name="StickMen" Width="200" Height="150" HorizontalAlignment="Right" VerticalAlignment="Bottom"/>
    <DockPanel Margin="0,0,0,15" Height="50"></DockPanel>
    <Grid Margin="0,118,0,61" Name="imgBorder" Grid.RowSpan="4" ClipToBounds="True">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="432*" />
            <ColumnDefinition Width="806*" />
        </Grid.ColumnDefinitions>
        <Image x:Name="next" Source="{Binding NextPicture}" StretchDirection="Both" Stretch="Uniform" ClipToBounds="True"
            SnapsToDevicePixels="True" RenderOptions.BitmapScalingMode="HighQuality" RenderTransformOrigin="0.5,0.5" Opacity="0" Grid.ColumnSpan="2" />
        <Image x:Name="previous" Source="{Binding PreviousPicture}" StretchDirection="Both" Stretch="Uniform" ClipToBounds="True"
            SnapsToDevicePixels="True" RenderOptions.BitmapScalingMode="HighQuality" RenderTransformOrigin="0.5,0.5" Opacity="0" Grid.ColumnSpan="2" />
        <Image x:Name="current" Source="{Binding Picture}" StretchDirection="Both" Stretch="Uniform" ClipToBounds="True"
            SnapsToDevicePixels="True" RenderOptions.BitmapScalingMode="HighQuality" RenderTransformOrigin="0.5,0.5" Grid.ColumnSpan="2" />

    </Grid>
    <StatusBar Grid.Row="3" HorizontalAlignment="Stretch" Name="statusBar2" VerticalAlignment="Bottom" Background="White" Foreground="{StaticResource MediumGreyBrush}" FontWeight="UltraBold">
        <StatusBarItem Padding="0 0 0 30" Background="#FFD1D6D0"></StatusBarItem>
    </StatusBar>
    <StatusBar Grid.Row="3" HorizontalAlignment="Stretch" Name="statusBar" VerticalAlignment="Bottom" Background="White" Foreground="Blue" FontSize="14">
        <StatusBarItem Padding="0 0 0 30" Background="#FFD1D6D0"></StatusBarItem>
    </StatusBar>
    <StatusBar Grid.Row="3" Name="statusBar1" VerticalAlignment="Bottom" Background="White" Foreground="{StaticResource MediumGreyBrush}" FontWeight="UltraBold">
        <StatusBarItem Padding="0 0 0 20" Background="#FFD1D6D0"></StatusBarItem>
    </StatusBar>
    <TextBlock Name="statusBarText1" HorizontalAlignment="Center" Text="© Gade Autonomous Systems Pvt. Ltd." Foreground="Black" FontWeight="Normal" TextAlignment="Center" FontStretch="UltraExpanded" Margin="498,74,437,-11" Grid.Row="3" Height="30" Width="303" FontSize="14" />
    <TextBlock Name="statusBarText" HorizontalAlignment="Center" Text="Swipe your right arm to the left to move to next slide, swipe your left arm to the right for previous." Height="23" Width="707" VerticalAlignment="Center" FontSize="16" FontWeight="Normal" Grid.Row="3" Foreground="Blue" Margin="271,52,271,18" />
    <TextBlock Margin="560,49,564,64" HorizontalAlignment="Center" VerticalAlignment="Center" Foreground="#FF000001" FontFamily="Cambria" FontSize="30" Text="V'Me v1.0" FontWeight="Light" Height="37" />
</Grid> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T21:13:38.553

BitmapImage 是 XAML 中 Image 对象的源数据。我相信您想对 Image 对象执行转换，否则您将不得不不断更新数据（实际上并没有改变，您只是以不同的方式看待它）。

在您的 XAML 中，您可以应用绑定到另一个属性的转换。例如，当我将光标移动到启用 Kinect 的应用程序中的控件上时，我会执行以下缩放转换：

```
<ctrl:KinectControl.Resources>
    <Style TargetType="{x:Type ctrl:KinectButton}">
        <Setter Property="BorderBrush" Value="White" />
        <Setter Property="RenderTransformOrigin" Value="0.5, 0.5" />
        <Style.Triggers>
            <Trigger Property="IsSelected" Value="True">
                <Setter Property="BorderThickness" Value="2" />
                <Setter Property="RenderTransform">
                    <Setter.Value>
                        <ScaleTransform ScaleX="1.1" ScaleY="1.1" />
                    </Setter.Value>
                </Setter>
            </Trigger>
        </Style.Triggers>
    </Style>
</ctrl:KinectControl.Resources> 
```

因此，在此 XAML 中，任何“KinectButton”控件在光标悬停时都会增加 1.1 倍。当光标被移除时，它们会恢复到原来的大小。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-09-18T12:20:11.210

```
 foreach (var skeleton in skeletons)
                {
                    // skip the skeleton if it is not being tracked
                    if (skeleton.TrackingState == SkeletonTrackingState.Tracked)
                    {
                        #region Zoom out
                        //Zoom Out
                        // Right and Left Hand in front of Shoulders
                        if (skeleton.Joints[JointType.HandLeft].Position.Z < skeleton.Joints[JointType.ElbowLeft].Position.Z &&
                            skeleton.Joints[JointType.HandRight].Position.Z < skeleton.Joints[JointType.ElbowRight].Position.Z)
                        {
                            //Debug.WriteLine("Zoom 0 - Right hand in front of right shoudler - PASS");

                            // Hands between shoulder and hip
                            if (skeleton.Joints[JointType.HandRight].Position.Y > skeleton.Joints[JointType.HipCenter].Position.Y &&
                                skeleton.Joints[JointType.HandLeft].Position.Y > skeleton.Joints[JointType.HipCenter].Position.Y)
                            {
                                // Hands between shoulders
                                if (skeleton.Joints[JointType.HandRight].Position.X < skeleton.Joints[JointType.ShoulderRight].Position.X &&
                                    skeleton.Joints[JointType.HandRight].Position.X > skeleton.Joints[JointType.ShoulderLeft].Position.X &&
                                    skeleton.Joints[JointType.HandLeft].Position.X > skeleton.Joints[JointType.ShoulderLeft].Position.X &&
                                    skeleton.Joints[JointType.HandLeft].Position.X < skeleton.Joints[JointType.ShoulderRight].Position.X)
                                {

                                    float distance = Math.Abs(skeleton.Joints[JointType.HandRight].Position.X - skeleton.Joints[JointType.HandLeft].Position.X);
                                    TransformGroup transformGroup = (TransformGroup)current.RenderTransform;
                                    ScaleTransform transform = (ScaleTransform)transformGroup.Children[0];

                                    if (transform.ScaleX != 1)
                                    {
                                        zoom = true;
                                        transform.ScaleX -= 0.02;
                                        transform.ScaleY -= 0.02;
                                    }

                                    else
                                    { zoom = false; }

                                }

                            }

                        } 
```

# objective-c - Xcode Outlet 生成不会生成@synthesize

> ID：12669228
> 
> 赞同：3
> 
> 时间：2012-10-01T07:43:18.980
> 
> 标签：objective-c, xcode, ios6, synthesize

我在生成拖放插座时遇到问题，由于某种原因，Xcode 停止向 .m 文件生成 @synthesize，@property 已正确添加到 .h 文件中。

此外，我发现 @interface 块被添加到 .m 文件中很奇怪，即使存在带有 @interface 的 .h 文件。

```
@interface BlahController {

}

@implementation BlahController : UIViewController {
    //Code
} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-01T18:13:35.530

> 我在生成拖放插座时遇到问题，由于某种原因，Xcode 停止向 .m 文件生成 @synthesize，@property 已正确添加到 .h 文件中。

最新版本的编译器不再需要`@synthesize`指令。仅使用指令声明一个属性`@property`就足以导致访问器被合成，除非您使用该`@dynamic`指令或为该属性提供您自己的访问器。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-10-01T18:05:36.600

在高级中感谢 Carl Veazey，他在评论中几乎写下了这个答案：

1.  该接口用于私有变量。
2.  “缺失的”@property 必须由 _variableName 访问。

再次感谢。

# node.js - 如何在客户端保护 socket.io？

> ID：12669237
> 
> 赞同：1
> 
> 时间：2012-10-01T07:44:13.740
> 
> 标签：node.js, socket.io

我正在开发一个使用 socket.io 的实时网络应用程序。我担心的是，当在客户端通过 this 加载 socket.io js 文件时`<script>/socket.io/socket.io.js</script>`，它会将 io 实例公开为全局对象。现在，如果您打开 chrome 开发人员工具，您现在可以使用以下命令创建与服务器的连接

```
var socket = io.connect(); 
```

现在，任何人都可以发出事件并将恶意数据发送到正在侦听客户端发出事件的服务器。我在我的客户端代码中有这个作为示例：

```
(function (sio) {
    var socket = sio.connect();
    // some code here...
    // once a user submitted the comment, it will emit an comment:create event to the
    // server
    socket.emit("comment:create", comment);
}(io)); 
```

在 chrome 开发人员工具中，我可以创建一个连接，然后使用一些恶意参数发出相同的事件，这些参数可能会使我的应用程序崩溃，例如将 null 作为第二个参数传递。有没有办法防止这样的问题？

编辑：我当前的解决方案是在我的客户端代码中创建实例的本地副本，`io`然后将全局`io`对象设置为 null 以防止建立另一个连接。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T09:20:24.630

当客户端进行初始（HTTP）连接并将其存储为会话变量时，让您的服务器端代码创建某种（相当随机的）令牌。要求客户端将令牌包含在`socket.io`它发送的每条消息中，并拒绝任何不匹配的消息。

# php - Yii 使用 cacvtive 数据提供程序从不同的表中选择列

> ID：12669238
> 
> 赞同：2
> 
> 时间：2012-10-01T07:44:15.687
> 
> 标签：php, yii

我有 2 表客户和客户计划

客户表 ID 名称 1 John 2 Deol 3 test3 4 test4

客户计划表 id cust_id 状态 1 2 0 2 3 1 3 4 1

我想获取所有客户 ID，并且计划 ID（如果存在）通过执行获取所有数据

```
 $criteria->join ='where t.id NOT IN (select cust_id from customer_plan) or t.id in (select customer_id from customer_plan  where foblu_customer_plan.babytel_status = 0)'; 
```

通过这个我得到客户表的ID，但我想同时获得两个表的唯一ID

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T08:27:55.347

在 Customer 和 CustomerPlan 之间创建关系。您可以在模型关系功能中创建关系。

```
Public function relations()
{
   return array(
      'customerPlan' => array(self::HAS_MANY, 'CustomerPlan', 'cust_id'),
   );
} 
```

现在使用这个关系找出相关记录：

```
$criteria->with = array('customerPlan'); 
```

获取Customer模型的关系记录：

```
$customer->customerPlan 
```

# asp.net - 如何将nvarchar转换为十进制值

> ID：12669239
> 
> 赞同：0
> 
> 时间：2012-10-01T07:44:21.187
> 
> 标签：asp.net, sql-server-2008-r2

我为教育信息创建了一个表。其中一个字段用于 AverageMark，因此我将其数据类型设置为 Decimal(2,2)-（例如标记，例如：18.21、20、15.50，...）。但我不知道这个数据类型是正确的还是应该改变？

因为当我想从 Asp.net 插入数据库时​​，总是抛出一个异常，如下所示：

```
cmd.Parameters.Add("@Average", SqlDbType.Decimal).Value = Convert.ToDecimal(Average.Text.Trim()); 
```

例外是：**将数据类型数字转换为十进制时出错。**

我不知道现在该怎么做才能插入只有 2 个十进制值的标记？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T07:58:26.437

您可以尝试使用此代码 - 基于`CultureInfo.InvariantCulture`

```
Convert.ToDecimal(Average.Text.Trim(), CultureInfo.InvariantCulture); 
```

# android - 安排 UI 更新

> ID：12669241
> 
> 赞同：0
> 
> 时间：2012-10-01T07:44:28.683
> 
> 标签：android

我的应用程序包含一个活动，由于服务器显示计划，该活动的 UI 必须更新。在这种情况下更新 UI 的最佳方法是什么。

到目前为止，我已经提出了 AlarmManager 和 Service，但我不确定这是一个好习惯。还有其他建议吗？我在 Handler 中看到了一些相关的方法，但我不知道如何使用它们来处理 uptime 参数。

警报

```
 Intent intent = new Intent(getActivity(), OnAirUpdateAlarmReceiver.class);
    PendingIntent sender = PendingIntent.getBroadcast(getActivity(),
            0, intent, 0);

    Calendar calendar = Calendar.getInstance();
    calendar.setTimeInMillis(System.currentTimeMillis());
    calendar.add(Calendar.SECOND, 10);

    AlarmManager am = (AlarmManager) getActivity().getSystemService(Context.ALARM_SERVICE);
    am.set(AlarmManager.RTC_WAKEUP, calendar.getTimeInMillis(), sender); 
```

Receiver（检查正在运行的活动是否是需要更新的活动之一）

```
@Override
public void onReceive(Context context, Intent intent) {
    ActivityManager am = (ActivityManager) context
            .getSystemService(Activity.ACTIVITY_SERVICE);
    List<ActivityManager.RunningTaskInfo> taskInfo = am.getRunningTasks(1);
    String name = taskInfo.get(0).topActivity.getShortClassName();
    if (name.equals(".activity.handset.HandsetMainActivity")) {
        Intent notificationIntent = new Intent(context,
                HandsetMainActivity.class);
        notificationIntent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP
                | Intent.FLAG_ACTIVITY_NEW_TASK);
        notificationIntent.putExtra(
                context.getResources().getString(
                        R.string.extras_main_activity_on_new_intent),
                HandsetMainActivity.UPDATE_PLAYER_FRAGMENT_UI);
        context.startActivity(notificationIntent);
    }
} 
```

如果是 - 请求片段 UI 更新。再次不确定这是否是最佳解决方案。

感谢您的建议。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T07:47:48.650

好吧，您知道您的应用程序何时可见“onStart() / onStop()”，此时您可以启动一个`TimerTask`.

我想如果你只是更新 UI，当用户没有打开你的应用程序时，它就不必发生。

# php - 使变量变量在循环外可访问

> ID：12669242
> 
> 赞同：1
> 
> 时间：2012-10-01T07:44:32.590
> 
> 标签：php, mysql, for-loop

我正在尝试使循环变量变量可以在循环之外访问。一切正常，但我在这段代码中遇到了麻烦：

```
$dayVar."_count" = $dayVarCount; 
```

完整代码如下：

```
<?php

$day_1="sep_28";
$day_2="sep_29";
$day_3="sep_30";

$query = mysql_query("SELECT * FROM table WHERE id = '$id'");

while ($row = mysql_fetch_assoc($query))
{

for ($i = 1; $i <= 3; $i++) 
    {
        $dayVar = "day_".$i;
        $dayVarCount = $row[$$dayVar];
        echo $$dayVar . ': ' . $dayVarCount . '<br>';

        $dayVar."_count". = $dayVarCount;
    }      
}

echo "$day_3_count";

?> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-01T07:50:53.937

我相信您对 $dayVar."_count" 的变量分配不正确或非法。我会尝试 ${$dayVar."_count"} 代替。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T07:53:35.763

正如 Skrol29 所说，那条线行不通：

赋值（给一个可验证的赋值）总是有以下形式

```
<variablename> <assignmentoperator> <value> 
```

在 php 中，这意味着：

```
$day_1 = "123" 
```

正如你已经使用过的那样。

变量名通常不是通用的。如果您需要这样的功能，请使用数组。 [PHP 数组](http://php.net/manual/de/language.types.array.php)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-01T07:54:37.610

你几乎是在正确的地方......但是。

```
 for ($i = 1; $i <= 3; $i++)  
    { 
        $dayVar = "day_".$i; 
        $dayVarCount = $dayVar."_count";
    $$dayVarCount =  $row[$$dayVar];   
    }       

echo "$day_3_count"; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-01T07:59:55.010

试试这个，

```
 <?php
 // Connect to server and select database.
$host   =   "host here";
$username="username here";
$password="pass here";
$db_name="db here";
    mysql_connect("$host", "$username", "$password")or die("cannot connect");
   if(mysql_select_db("$db_name")){echo "Success";}else{echo "cannot select DB";}

   $day_1="sep_28";
   $day_2="sep_29";
   $day_3="sep_30";
   $id=1;
   $query = mysql_query("SELECT * FROM `tab1` WHERE id = '$id'");

   while ($row = mysql_fetch_assoc($query))
   {

   for ($i = 1; $i <= 3; $i++) 
   {
    $dayVar = "day_".$i;
    $dayVarCount = $row[$$dayVar];
    echo $$dayVar . ': ' . $dayVarCount . '<br>';

    ${$dayVar."_count"} = $dayVarCount;
  }      
  }

  echo "$day_3_count";

 ?>

  <?php
   // close connection
  mysql_close();
  ?> 
```

# iphone - iOS 6 屏幕尺寸/方向问题和 GLES1.1

> ID：12669244
> 
> 赞同：1
> 
> 时间：2012-10-01T07:44:45.227
> 
> 标签：iphone, objective-c, xcode, opengl-es, ios6

我在 GLES1.1 应用程序的大小/方向问题上遇到了一些问题。在 iOS 6.0 之前，一切都很好，只有在我为 iOS 6.0 更新设备构建 iOS 6.0 时才会出现这种情况。这表明它与图书馆的一些变化。

我注意到设备方向发生了变化，我已经解决了这个问题，并且可以正常接收消息。我可以旋转设备。

我遇到的主要问题是现在屏幕尺寸向上缩放（在 GLES1.1 中）。我不确定视口是问题还是纵横比。应用程序的触摸位置很好，如果我使用 MPMoviePlayerController 播放电影，那很好，我已经在这部电影上叠加了一些图像（使用 UIImage），这很好。但是现在用 GLES1.1 渲染的任何东西都被缩放了，我无法指出这个问题。

我正在寻找可能导致此问题的库的重大更改，尽管我听说过非常相似的问题（主要是 Cocos2d），但我仍然没有找到解决方案，但我仍然没有找到正确的解决方案。

对于有类似问题的人的任何建议将不胜感激。

# iphone - 我无法理解 iOS6 中的旋转机制

> ID：12669250
> 
> 赞同：5
> 
> 时间：2012-10-01T07:45:15.453
> 
> 标签：iphone, rotation, ios6

我的应用程序具有子类**化 shouldautorotateToInterfaceOrientation**的视图控制器。在其中，我决定每个视图的旋转。这可以正常工作。但是在iOS6中，虽然我阅读了Apple提供的文档，但我无法理解。

我的应用程序将导航控制器作为根视图控制器。这个导航控制器有标签控制器。选项卡控制器有一些视图控制器。我希望第一个视图控制器（在选项卡控制器中）仅以纵向模式查看，而第二个视图控制器（在选项卡控制器中）同时查看纵向和横向模式。它在 iOS5 中可以正常工作。但我不知道如何在iOS6中制作它。虽然我知道我应该继承**supportedInterfaceOrientations**，但它在旋转发生时不起作用。令我惊讶的是，它在视图显示时被调用。如何做出我想要的？

感谢您的阅读。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-01T07:52:39.990

以下链接可能会引导您走向正确的方向：[http ://code.shabz.co/post/32051014482/ios-6-supportedorientations-with-uinavigationcontroller](http://code.shabz.co/post/32051014482/ios-6-supportedorientations-with-uinavigationcontroller)

基本上，您需要继承 UINavigationController 并让它监听`-supportedInterfaceOrientations`其`topViewController`. 您可以在博客文章中下载一个示例类，并解释要添加的代码。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T13:07:40.657

当您使用 UINavigationController 或 UITabbarViewController - 应用程序总是按照他们在**shouldAutorotate、supportedInterfaceOrientations**方法中所说的去做。

您可以为它们添加一个类别，以将这些方法重定向到它们当前显示的控制器。像这样：

```
 @implementation UINavigationController (Rotation_IOS6)
-(BOOL)shouldAutorotate
{
    return [[self.viewControllers lastObject] shouldAutorotate];
}

-(NSUInteger)supportedInterfaceOrientations
{
    return [[self.viewControllers lastObject] supportedInterfaceOrientations];
}

- (UIInterfaceOrientation)preferredInterfaceOrientationForPresentation
{
    return [[self.viewControllers lastObject] preferredInterfaceOrientationForPresentation];
}
@end 
```

与 UITabbarViewController 类似。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-03T11:37:04.513

在我看来，这是我找到的最好的解释：http: [//www.widemann.net/wp-fr/?](http://www.widemann.net/wp-fr/?p=662) p=662但它是法语的。

[也许用谷歌英文翻译](http://translate.google.com/translate?sl=fr&tl=en&js=n&prev=_t&hl=fr&ie=UTF-8&layout=2&eotf=1&u=http://www.widemann.net/wp-fr/?p=662&act=url)很有意义

# url-rewriting - url 重写代理通行证

> ID：12669258
> 
> 赞同：1
> 
> 时间：2012-10-01T07:45:53.200
> 
> 标签：url-rewriting, reverse-proxy

这与域和 URL 映射...等有关。我尝试使用 apache 和反向代理，重写，到目前为止无法让它工作。

### 设想。

目标客户拥有域 www.customer.com ，希望他的用户使用该站点使用 URL，例如 `www.customer.com/a/b/c?blah` 

我们已经为他实现了软件并在我们的一个 ec2 机器上运行，IP xyz，域 yoyoyyo.provider.com => yoyoyo 是 provider.com 的子域。

因此，对于客户，我帮助他并为 www.customer.com 添加了一条 A 记录，将其映射到 yoyoyo.provider.com

所以我们，我为yoyoyo.provider.com添加了一条A记录=>ec2的ip地址xyz。

到目前为止，一切都很好。

最终，要调用软件，本质上是

`http://yoyoyo.provider.com/customer/software/service   "+"   /a/b/c?blah`  => 完整的网址

### 现在，我假设的逻辑和流程是这样的

1.  用户在浏览器中键入 www.customer.com/a/b/c?blah
2.  dns 查找 www.customer.com，并将其映射到 yoyoyo.provider.com
3.  url 变成 yoyoyo.provider.com/a/b/c?blah
4.  dns 查找 yoyoyo.provider.com => ip 地址 xyz
5.  url 变成 xyz/a/b/c?blah
6.  现在调用到了实际的盒子，找到了 apache 服务器

在 apache 中，我认为我可以将其作为代理通行证或重写规则来完成，这基本上归结为映射/重写（伪代码如下）

^/.* =>  [http://yoyoyo.provider.com/customer/software/service/](http://yoyoyo.provider.com/customer/software/service/) $1 ;; 在哪里 $1 evals 是 a/b/c?blah

1.  软件被调用。

但是，当然，它不起作用！浏览器得到一个空白页有什么想法吗？

# java - 为什么空白（空文件）java不显示任何错误？

> ID：12669260
> 
> 赞同：1
> 
> 时间：2012-10-01T07:45:59.527
> 
> 标签：java

> **可能重复：**
> [如果编译一个空的 java 文件会发生什么？](https://stackoverflow.com/questions/2467723/what-happens-if-you-compile-an-empty-java-file)

我试图编译一个空白文件（.java 文件），希望它会显示错误。但是 Java 编译器没有显示任何错误，为什么会这样？

# c# - 获取 System.Net.WebException：远程服务器返回错误：（403）禁止。在 Google URL Shortener API 调用中

> ID：12669262
> 
> 赞同：3
> 
> 时间：2012-10-01T07:46:09.693
> 
> 标签：c#, google-api, google-url-shortener

我正在使用下面的代码来缩短长网址

```
public static string UrlShorten(string url)
{
    string post = "{\"longUrl\": \"" + url + "\"}";
    string shortUrl = url;
    HttpWebRequest request = (HttpWebRequest)WebRequest.Create("https://www.googleapis.com/urlshortener/v1/url?key=" + ReadConfig("GoogleUrlShortnerApiKey"));
    try
    {
        request.ServicePoint.Expect100Continue = false;
        request.Method = "POST";
        request.ContentLength = post.Length;
        request.ContentType = "application/json";
        request.Headers.Add("Cache-Control", "no-cache");

        using (Stream requestStream = request.GetRequestStream())
        {
            byte[] postBuffer = Encoding.ASCII.GetBytes(post);
            requestStream.Write(postBuffer, 0, postBuffer.Length);
        }

        using (HttpWebResponse response = (HttpWebResponse)request.GetResponse())
        {
            using (Stream responseStream = response.GetResponseStream())
            {
                using (StreamReader responseReader = new StreamReader(responseStream))
                {
                    string json = responseReader.ReadToEnd();
                    shortUrl = Regex.Match(json, @"""id"": ?""(?<id>.+)""").Groups["id"].Value;
                }
            }
        }
    }
    catch (Exception ex)
    {
        // if Google's URL Shortner is down...
        Utility.LogSave("UrlShorten", "Google's URL Shortner is down", url, ex.ToString());
        //System.Diagnostics.Debug.WriteLine(ex.Message);
        //System.Diagnostics.Debug.WriteLine(ex.StackTrace);
    }
    return shortUrl;
} 
```

我创建了一个调度程序来缩短大量 url。而且大部分时间都低于异常

System.Net.WebException：远程服务器返回错误：（403）禁止。在 System.Net.HttpWebRequest.GetResponse()

我在想，由于礼貌限制，我得到了这个例外，所以每用户限制增加了 100,000.0 个请求/秒/用户，但我仍然得到同样的例外。

我不明白为什么它会发生，即使我一次几乎没有向服务器发出 2000 个请求。

请指教。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-01T08:04:32.933

查看您的问题，我认为这是超出速率限制的错误。如果您像这样修改代码，则可以检索错误响应：

```
try
{
  ........
}
catch (WebException exception)
{
   string responseText;

   using(var reader = new StreamReader(exception.Response.GetResponseStream()))
   {
     responseText = reader.ReadToEnd();
   }
}
catch (Exception ex)
{
  ......
} 
```

如果这是一个超出速率限制的错误，您会在以下位置找到类似的内容`responseText`：

```
{
 "error": {
  "errors": [
   {
    "domain": "usageLimits",
    "reason": "rateLimitExceeded",
    "message": "Rate Limit Exceeded"
   }
  ],
  "code": 403,
  "message": "Rate Limit Exceeded"
 }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-01-06T16:15:44.503

发生此错误是因为您将数据发布到网络服务的速度非常快，因此谷歌将其检测为机器人。（如果您经常手动发布数据，它会要求输入验证码）。

所以要解决这个问题，您需要增加每个发布请求之间的时间间隔。

# php - PHP .htacces 和 index.php 重定向

> ID：12669271
> 
> 赞同：1
> 
> 时间：2012-10-01T07:47:09.110
> 
> 标签：php, .htaccess, redirect

我是这个重定向的新手，我想知道它是如何工作的？我有一些名为 index.php 的文件，我想将它放在站点中的任何目录中

```
 index.php

<?php 
    if(empty($dir)){
    include('includes/home.php');
    }  
    if($dir=='profile'){
    include('includes/profile.php');
    }
    elseif($dir=='settings'){
    include('includes/settings.php');
    }
    else{
    include('includes/404.php');
    }
    ?> 
```

网址是：

```
test 1\. www.example.com/ - will view the include home.
test 2\. www.example.com/settings - will view the include  settings.
test 3\. www.example.com/errorsample - will view the include   404 page. 
```

如何`.htaccess`使用该代码制作和 index.php 或任何想法它的工作原理和示例代码。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-01T07:52:05.253

我将尝试用一个简单的例子来解释这一点。考虑以下`.htaccess`文件

```
Options +FollowSymLinks
RewriteEngine On
RewriteRule ^(.*)$ /index.php?x=$1 [L] 
#  ^ This is the rule that does the redirection 
```

它的作用是路由每个 url 请求并将请求发送到 index.php。它是如何发送的？我将展示几个例子来做到这一点。

*   `www.example.com/settings`将作为`www.example.com/index.php?x=settings`
*   `www.example.com/errorsample`将作为`www.example.com/index.php?x=errorsample`

所以，现在你正在配置你的 index.php 并决定你想要做什么，你得到的值`$_GET['x']`

```
switch($_GET['x']) {
   case "profile": include("include/profile.php"); break;
   // .... similarly other cases
   default: include("includes/home.php"); break;
} 
```

}

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T08:05:48.053

这不是真正的重定向。您似乎在描述的是一个基本的页面控制器 - 一个进入您的网站框架的单点，可以对不同的请求做出反应。

您需要做的第一件事是考虑您的站点文件夹结构 - 通常，您将在同一级别上有一个“公共”目录和一个“库”（或“包含”）目录。这意味着，只要您将`DocumentRoot`apache 配置中的 设置为`/var/www/yoursite/public`- 人们将更难在`/var/www/yoursite/include`.

然后，公共目录将包含您的 .htaccess 和 index.php 文件。

最简单的设置是在您的 .htaccess 中使用它：

```
RewriteEngine On
RewriteRule ^(.*)$ /index.php?page=$1 [L,QSA] 
```

这会捕获发送到网站的 URL，并将其设置为 PHP $_GET 数组中的值。这里的 QSA 选项意味着如果您的链接有查询字符串（例如[http://www.example.com/module?parameter=value](http://www.example.com/module?parameter=value)），那么此信息也会传递到您的脚本。

我认为你会发现创建一个长长的 if/else 列表甚至是长的 switch/case 块很乏味（并且很快无法维护）——最终，这种 URL 和文件的一对一匹配不会是很有帮助，因为您不妨将文件留在公共目录中。当然，使用页面控制器（或完整的模型-视图-控制器）的强大之处在于您不必进行这种一对一的匹配：您可以传递 ID 甚至可以使用的“友好”URL从数据库中提取存储的信息（如博客文章等）。

Also - you should be careful in mapping URLs to the `include` function - what if someone were to request [http://www.example.com/database.php](http://www.example.com/database.php) ? - this could really start messing up your site and server if you haven't taken suitable precautions.

# git - git 克隆存储库的“重置”命令是什么？

> ID：12669278
> 
> 赞同：16
> 
> 时间：2012-10-01T07:48:05.973
> 
> 标签：git, version-control, repository

我已经下载了一个存储库

```
git clone <address> 
```

我进行了一些修改并编辑了一些文件，现在我想丢弃所有内容并确保我在磁盘上拥有的只是代码库的原始远程版本：什么是正确的命令？

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2012-10-01T07:56:19.423

这是长篇解释，以便您了解发生了什么：

假设远程被调用`origin`

```
git reset --hard HEAD
git checkout origin/master
git branch -D master
git checkout -b master 
```

这是做什么的：

1.  （如果 git status 说没有修改过的文件，则可选）丢弃磁盘上的*任何*`reset --hard`修改过的文件（这就是为什么）

2.  签出远程主分支（注意：您将处于“分离头”状态）

3.  删除本地`master`分支（丢弃所有本地更改）

4.  将当前头部称为新`master`分支

现在您可能想做一些稍微不同的事情...即不要丢弃您的更改，只需将它们放在另一个命名的分支上...毕竟您永远不知道何时再次需要它们

```
git checkout -b my-silly-changes
git branch -D master
git checkout -b master origin/master 
```

这会将您当前的更改保存在一个新的本地分支`my-silly-changes`中，然后删除旧的本地分支`master`，最后从远程头重新创建它。

以下是对那些认为自己知道自己在做什么的人的解释：

单个命令：

```
git reset --hard origin/master 
```

将丢弃任何本地更改并将当前分支重新指向最近获取的`origin/master`. 这与此答案开头的四个命令具有完全相同的效果，但无需[看幕后](https://www.youtube.com/watch?v=YWyCCJ6B2WE)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-01T07:52:24.240

如果您确定要丢弃所有文件并*丢失*所有修改（！），您可以执行以下操作：

```
git reset --hard origin/master 
```

这会将“master”分支的本地副本和工作副本的状态重置为您从上游（原始远程）获取的最后一个版本。

注意：这假设

*   您的上游存储库称为“origin”（默认为`git clone`）
*   您正在远程`master`分支的克隆中工作

如果您在 "master" 以外的分支中工作，请调整命令：

```
git reset --hard origin/branch1 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-01T07:52:12.830

如果你还没有提交任何东西，那就`git reset --hard`足够了。

[这](http://progit.org/2011/07/11/reset.html)是一个很好的资源，解释了 git reset 的不同模式如何工作（--hard、--mixed 和--soft）。

**免责声明**：

`git reset --hard`是不安全的操作。它从工作树中删除任何未提交的更改，并且无法撤消。

# php - 列出特定目录中 PHP 脚本定义的所有全局变量

> ID：12669281
> 
> 赞同：0
> 
> 时间：2012-10-01T07:48:24.060
> 
> 标签：php, debugging, global-variables

我想列出我在特定文件夹中编写的脚本在执行时定义的全局范围内的所有变量。我想避免所有的混乱`var_dump($GLOBALS);`

谢谢

杰克

# c# - 将数据点转换为点

> ID：12669284
> 
> 赞同：1
> 
> 时间：2012-10-01T07:48:27.837
> 
> 标签：c#, .net, windows-forms-designer

我正在尝试创建一个在特定顶点之间绘制一些边的图。这个想法是我正在创建随机顶点，并指定一个“传输功率”整数。它的工作方式是，如果两个节点之间的距离小于或等于发射功率，则会在它们之间画一条线。

我正在使用 MSDN 图表控件来执行此操作。但是在绘制线条时遇到问题。我不断收到以下错误消息：

```
Error   2   Argument 2: cannot convert from 'System.Windows.Forms.DataVisualization.Charting.DataPoint' to 'System.Drawing.Point' 
```

一直试图破解这个，所以我想我会登录到这里，看看是否有其他人知道在这里做什么。我找不到有关如何转换它的任何信息。

这是一些代码示例：

```
public partial class Form1 : Form
{
    public Form1()
    {
        InitializeComponent();
    }

    public void createNodes(int x, int y, int Nodes, int dgNodes)
    {
        Random rdn = new Random();

        for (int i = 0; i < (Nodes - dgNodes); i++)
        {
            chtGraph.Series["NoDG"].Points.AddXY
                        (rdn.Next(x), rdn.Next(y));
        }

        for (int i = 0; i <= dgNodes - 1; i++)
        {
            chtGraph.Series["DG"].Points.AddXY
                        (rdn.Next(x), rdn.Next(y));
        }
    }

    public void buildGraph(int x, int y, int Nodes, int dgNodes)
    {
        //set the min/max axis on the chart
        chtGraph.ChartAreas["ChartArea1"].AxisX.Maximum = x;
        chtGraph.ChartAreas["ChartArea1"].AxisX.Minimum = 0;
        chtGraph.ChartAreas["ChartArea1"].AxisY.Maximum = y;
        chtGraph.ChartAreas["ChartArea1"].AxisY.Minimum = 0;
        chtGraph.ChartAreas["ChartArea1"].AxisX.Interval = x / 10;
        chtGraph.ChartAreas["ChartArea1"].AxisY.Interval = y / 10;

        chtGraph.ChartAreas["ChartArea1"].AxisX.MajorGrid.Enabled = false;
        chtGraph.ChartAreas["ChartArea1"].AxisY.MajorGrid.Enabled = false;

        //build all the nodes
        createNodes(x, y, Nodes, dgNodes);
    }

    public void drawEdges(int intNumNodes, int intTransPower)
    {
        ChartGraphics gr = new ChartGraphics();
        Pen pen = new Pen(Color.Black, 1);
        //System.Drawing.Point[] pts = new Point[4];
        //pts[0] = new Point(20, 20);
        //pts[1] = new Point(20, 140);
        //pts[2] = new Point(60, 60);
        //pts[3] = new Point(180, 80);
        //gr.DrawLine(pen, pts[1], pts[2]);

        DataPoint[] pts = new DataPoint[intNumNodes];
        int i = 0;

        //Gather all the data points into an array
        foreach (DataPoint p in chtGraph.Series[0].Points)
        {
            pts[i] = p;
            i++;
        }

        i = 0;

        //loop through all the data points
        foreach (DataPoint p in pts)
        {
            //examine all the other data points for each data point visited
            for (int j = 0; j < pts.Length; j++)
            {
                //convert the y values
                int yval = Convert.ToInt32(p.YValues[0]);
                int yValNeighbors = Convert.ToInt32(pts[j].YValues[0]);

                //if the distance from the parent node (p) to the neighbor node is less than the transmit power, then draw a line
                if (Math.Sqrt(Math.Pow((p.XValue - pts[j].XValue), 2) + Math.Pow((yval - yValNeighbors), 2)) <= intTransPower)
                {
                    gr.Graphics.DrawLine(pen, p, pts[j);
                }
            }
        }
    }

    private void btnExecute_Click(object sender, EventArgs e)
    {
        if (txtDG.Text == "" || txtNodes.Text == "" || txtStorage.Text == "" || txtTransPower.Text == ""
            || txtXAxis.Text == "" || txtXAxis.Text == "")
        {
            lblError.Text = "Please enter in all inputs!";
            lblError.Visible = true;
            return;
        }
        //create variables for use through program

        int intTransPower = Convert.ToInt32(txtTransPower.Text);
        int intXAxis = Convert.ToInt32(txtXAxis.Text);
        int intYAxis = Convert.ToInt32(txtYAxis.Text);
        int intNum_DG = Convert.ToInt32(txtDG.Text);
        int intNumNodes = Convert.ToInt32(txtNodes.Text);
        int intStorage = Convert.ToInt32(txtStorage.Text);

        lblError.Visible = false;
        lblError.Text = "";

        if (txtDG.Text == "" || txtNodes.Text == "" || txtStorage.Text == "" || txtTransPower.Text == "" 
            || txtXAxis.Text == "" || txtXAxis.Text == "")
        {
            lblError.Text = "Please enter in all inputs!";
            lblError.Visible = true;}

            chtGraph.Series["NoDG"].Points.Clear();
            chtGraph.Series["DG"].Points.Clear();
            buildGraph(intXAxis, intYAxis, intNumNodes, intNum_DG);
            drawEdges(intNumNodes, intTransPower);
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T07:53:11.067

DataPoint 和 Point 根本不是同一类型。但是，您可以将 DataPoint 字段复制到 Point。粗略的例子：

```
Point point = new Point ();
DataPoint dataPoint = new DataPoint() ;
.....
point.X = dataPoint.X ;
point.Y = dataPoint.Y ; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T07:56:38.437

如果我弄错了，请原谅我，但 DataPoint 不是 Point 的子类。它们不能自动转换为 System.Drawing.Point。为什么不创建新积分？

```
//if the distance from the parent node (p) to the neighbor node is less than the transmit power, then draw 
if (Math.Sqrt(Math.Pow((p.XValue - pts[j].XValue), 2) + Math.Pow((yval - yValNeighbors), 2)) <= intTransPower)
{
    var point = new System.Drawing.Point((int)p.XValue, (int)p.YValue); 
    gr.Graphics.DrawLine(pen, point, pts[j);
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-01T08:14:12.367

你可以制作和引用这个扩展，

```
namespace DrawingExtensions
{
    using System.Windows.Forms.DataVisualization.Charting;
    using System.Drawing;

    public static class Forms
    {
        public PointF ToPointF(this DataPoint source)
        {
            return new PointF(
                Convert.ToSingle(source.XValue),
                Convert.ToSingle(source.YValue));
        }

        public Point ToPoint(this DataPoint source)
        {
            return new Point(
                Convert.ToInt32(source.XValue),
                Convert.ToInt32(source.YValue));
        }
    }
} 
```

你显然会像这样使用它，

```
var point = dataPoint.ToPoint();
var pointF = dataPoint.ToPointF(); 
```

或者，一次为整个数组，

```
var points = dataPoints.Select(p => p.ToPoint()).ToArray();
var pointFs = dataPoints.Select(p => p.ToPointF()).ToArray(); 
```

# javascript - 将 cookie 域设置为 IP 地址（使用 CORS）

> ID：12669289
> 
> 赞同：5
> 
> 时间：2012-10-01T07:48:51.243
> 
> 标签：javascript, cookies, cross-domain, ip, cors

我有一个托管在*x.com*的 JavaScript 应用程序，它使用 AJAX（通过 jQuery）联系托管在 LAN 环境中的 Apache 服务器（具有静态 IP，*192.168.1.5*）。

Apache 服务器公开了一个 API，该 API 要求用户设置一个特定的 cookie 才能使用它。

我的问题是我无法让 Apache 服务器设置具有正确域（*192.168.1.5*）的 cookie，以便浏览器通过 AJAX 调用发送 cookie。

有没有办法设置一个以IP为域的cookie？我见过的所有示例都要求域的格式为*example.org*。

场景如下：

1.  **x.com**上的 JavaScript 应用程序向***192.168.1.5***发送 AJAX 身份验证请求。
2.  来自***192.168.1.5***的响应有一个`Set-Cookie`标头，该标头应将 cookie 设置为***192.168.1.5***域。
3.  **x.com**上的 JavaScript 应用程序向位于***192.168.1.5***的 API 发送 AJAX 请求，并将步骤 2 中的 cookie 作为请求的一部分。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-01T08:58:08.367

服务器和客户端都需要明确告诉对方他们想要 cookie。

JavaScript

```
xhrInstance.withCredentials = true; 
```

服务器标头

```
Access-Control-Allow-Credentials: true 
```

[https://developer.mozilla.org/en-US/docs/HTTP_access_control#Requests_with_credentials](https://developer.mozilla.org/en-US/docs/HTTP_access_control#Requests_with_credentials)

总结一下：它与IP地址无关。cookie 可以是`host`IP 地址或域名。

# java - 标识对象功能的标记接口或布尔方法？

> ID：12669290
> 
> 赞同：5
> 
> 时间：2012-10-01T07:48:53.773
> 
> 标签：java, oop, properties, api-design, marker-interfaces

我正在开发一个较大的 Java 类层次结构，其中一些具有我有兴趣在运行时查询的特定属性（该属性绝对仅适用于类，而不适用于特定实例）。

我可以创建一个`isFooBar()`子类可以实现的抽象布尔方法来指示属性是否存在：

```
public abstract class MyBaseClass {
  ...
  public abstract boolean isFooBar();
} 
```

或者，我可以使用标记界面`FooBarProperty`并对界面进行`instanceof`检查：

```
public class MyConcreteClass extends MyBaseClass implements FooBarProperty {
   ...
} 
```

或者我猜你甚至可以使用 AmitD 建议的注释：

```
@FooBarAnnotation
public class MyConcreteClass extends MyBaseClass {
   ...
} 
```

每种方法的优缺点是什么，通常应该首选哪种方法？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-01T07:56:51.953

标记接口没有任何方法。在您的情况下，您的界面有一个获取属性的方法，在此基础上您应该使用 interface. 您可以简单地使用此接口来保存实现您的接口的类的具体实例，并可以调用与属性相关的方法。

但是，在另一端使用或标记了标记和实例或层次结构，以便它符合某些特性，如持久性。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-01T08:33:29.330

标记接口在类层次结构中继承，因此它们的功能有限（您不能为某些特定子类“删除”此标记接口），我不推荐它们（Cloneable 是一个不好的例子）。问题是 - 您的属性是否真的绑定到对象的类，而不是实例？如果是这样，注释会更好，因为它们不会在您的 API 中添加额外的方法并且它们更易于维护 - 您只需添加/删除注释（在检查方法的情况下，您必须检查所有子类，它们是否覆盖它与否）。

编辑：在你的情况下，我会问自己一个问题：我的属性是像“持久”（适用于给定类的所有实例）还是“可见”（仅适用于某些实例）

# javascript - 通过 ajax 加载的谷歌 chrome javascript 仅在第一次点击后运行

> ID：12669292
> 
> 赞同：0
> 
> 时间：2012-10-01T07:48:57.573
> 
> 标签：javascript, jquery, ajax, google-chrome

我遇到了一个非常奇怪的问题，它只发生在谷歌浏览器上。由于项目的规模，我无法真正提供测试用例（相信我我试过）。问题是，在将一些 html（包含脚本）加载到具有 ajax 调用的容器中之后，如下所示：

```
var fillView = function(data) {
    viewElement.html(data);
}

$.ajax({
    url: gridUrl + 'update/id/' + rowData.id + gridUrlParams,
    success: fillView
}); 
```

**...在我点击文档之前**，所有的 javascript`data`都不会在 google chrome 中执行。这适用于绑定到表单中输入字段的几个不同插件。我无法在任何其他浏览器中观察（或重现）任何此类效果，也没有添加任何可以执行此类操作的代码。

 **我尝试了几个小时来解决这个问题的核心，删除了受影响的输入字段的前半部分，然后是另一半，然后是其中的一部分……只是为了让剩下的部分发生这种情况。我还尝试为当前站点剥离/注释掉我不需要的大多数其他 javascript（不应该也没有调用）。

似乎有一个相当明显的“修复”不是修复，也只是有时有效。万一你没猜到；）：

```
setTimeout("$('#form').trigger('click')",50); 
```

有趣/奇怪的细节：

如果我添加`alert("test");`到 javascript，它会在页面加载时立即执行，但影响 UI 的内容直到第一次单击浏览器中的任何位置时才会执行。

**$% *&* §$}$!!!!**

更新：

添加以下内容：

```
 $('.field-block').css('background-color','#000'); 
```

对于 ajax 调用的结果，在我在浏览器窗口内单击之前什么也不做。

“我的拉丁文到此结束。” 有没有人听说过这个，看过它或者知道我可以尝试解决这个讨厌的问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-02T07:30:08.927

问题是受影响输入周围的详细信息标签。firefox 和其他的 polyfill 运行良好，似乎它们本身还没有准备好用于生产。**

# database - 尝试将记录添加到数据表中，代码不起作用？

> ID：12669293
> 
> 赞同：1
> 
> 时间：2012-10-01T07:49:04.407
> 
> 标签：database, vba, ms-access

这可能是一件微不足道的事情，但我真的无法让它工作，我收到一个错误，上面写着“参数不是可选的”。

这是我的代码，本质上该代码试图添加位于表单中的数据以及其他一些数据，例如当前用户和日期。

```
Private Sub listResult_DblClick(Cancel As Integer)

Dim sc1 As DAO.Recordset
Set sc1 = CurrentDb.OpenRecordset.Value("Stock Conversion", dbOpenDynaset)

sc1.AddNew
sc1.Fields("[SC Date]").Value = VBA.DateTime.Date
sc1.Fields("[Created By]").Value = Application.CurrentUser
sc1.Fields("[Product Code]").Value = Me.listResult.Column(0)
sc1.Fields("[Status]").Value = "NEW"
sc1.Update

End Sub 
```

在此先感谢，鲍勃 P

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-01T08:22:45.060

您已将值添加到 Openrecordset。你不应该：

```
Set sc1 = CurrentDb.OpenRecordset("Stock Conversion", dbOpenDynaset) 
```

# powershell - powershell 将新设置应用于任务栏

> ID：12669294
> 
> 赞同：4
> 
> 时间：2012-10-01T07:49:06.337
> 
> 标签：powershell, windows-7, explorer, taskbar

我正在玩 powershell，并通过更改注册表项来更改一些任务栏设置。例如，我编写了一个自动隐藏启用禁用功能。

```
$autoHideSettingsPath = "HKCU:\Software\Microsoft\Windows\CurrentVersion\Explorer\StuckRects2";
$autoHideValueName = "Settings";

Function toggleAutohideRegistrySettings($enable)
{

    $key = Get-ItemProperty -Path $autoHideSettingsPath -Name $autoHideValueName;   

    Write-Host "key is: " + $key
    if($enable)
    {
        $key.$autoHIdeValueName[8] = $key.$autoHideValueName[8] -bor 1;

    }else{
        $key.$autoHIdeValueName[8] = $key.$autoHideValueName[8] -band 0;    
    }

    Set-ItemProperty -Path $autoHideSettingsPath -Name $autoHideValueName -Value $key.$autoHideValueName;
} 
```

注册表中的更改完美运行。但要生效，我需要重新启动 explorer.exe。我显然也可以在 PS 中做到这一点......但我注意到当你在菜单中应用自动隐藏设置（鼠标方式）时，explorer.exe 没有被重新启动。

所以我的问题是：如何在不重新启动 explorer.exe 的情况下将更改应用到 PS 中的任务栏？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T08:15:10.567

我已经使用上面的脚本向应用程序发送消息，说明注册表中有新设置。并非所有应用程序都可以收到此消息，但我认为 explore 可以。

试一试，在应用注册表设置后调用它：

```
$sign = @"
using System;
using System.Runtime.InteropServices;

public static class RegUpdate
{
    private const int HWND_BROADCAST = 0xffff;
    private const int WM_WININICHANGE = 0x001a, WM_SETTINGCHANGE = WM_WININICHANGE, INI_INTL = 1;
      [DllImport("user32.dll")] 
    private static extern int SendMessage(int hWnd, uint wMsg, uint wParam, uint lParam); 

    public static string SendM()
    {
        try
                {                   
                   SendMessage(HWND_BROADCAST, WM_SETTINGCHANGE, 0, INI_INTL);
                   return "0";
                }

                catch (Exception ex)
                {
                    return (ex.Message);              
                }
    }
}
"@
$type = Add-Type -TypeDefinition $sign -Language CSharp -PassThru
$type::SendM() 
```

# php - php SoapClient 删除斜杠

> ID：12669296
> 
> 赞同：0
> 
> 时间：2012-10-01T07:49:18.907
> 
> 标签：php, soap-client

我在使用 SoapClient 时遇到问题。在我对 web 服务的请求中，有一些特殊符号，如 @、$、' 等。当我将它添加到`$params`数组时，SoapClient 会向它添加斜杠。但是远程 web 服务在 win 平台上工作，不删除斜杠并返回错误。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T08:39:29.330

看起来他们需要最终解决的问题，而不是您更改代码...

如果由于某种原因无法执行上述操作，您可以构建 XML 请求并手动发送，但这是一种不好的做法。另一种方法是使用 SoapClient 的替代方法，例如[http://sourceforge.net/projects/nusoap](http://sourceforge.net/projects/nusoap)（这个库使用起来非常简单）。不是 100% 确定它会自动转义特殊符号，但它不会自行转义“<”和“>”，所以我认为在你的情况下值得一试。

或者我也会尝试在 SoapClient 中启用强制 UTF-8 转换，看看是否会改变：

```
$client = new SoapClient('http://foobar.com/webservice.asmx?WSDL', array('trace' => 1, 'encoding'=>' UTF-8')); 
```

# ruby-on-rails - 如何在 Rails 3 中每周日增加变量？

> ID：12669297
> 
> 赞同：0
> 
> 时间：2012-10-01T07:49:22.650
> 
> 标签：ruby-on-rails, windows

我需要每周日增加一些计数器的值。

我知道，如果今天是星期天，我可以通过以下代码得到：

```
def count
 @counter = 27226
  if Time.now.sunday?
    @counter +=315
  end
end 
```

但它只会在周日增加，而在其他日子它将是相同的，而不是增加。

有人能帮我吗 ？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T08:39:16.740

Windows 没有 cron，但它有一个等效的任务调度程序。

请参阅[此调度程序概述](http://msdn.microsoft.com/en-us/library/windows/desktop/bb736357%28v=vs.85%29.aspx)和[此特定示例](http://technet.microsoft.com/en-us/library/cc725744.aspx#BKMK_spec_day)以配置“仅限星期三”任务。

像您描述的计数器确实看起来像您通常存储在数据库中的那种值，例如[SQLite](http://www.sqlite.org/)是轻量级/方便的。你可以看看[这个关于 SQLite in Windows 的精彩介绍](http://www.skorks.com/2009/08/installing-and-using-sqlite-with-ruby-on-windows/)。

**更新**

在评论中回答您的问题...

> 所以我可以用这个运行 .rb 文件或 ruby​​ 任务？

是的你可以。这是一个小食谱：

1) 使用此安装程序安装 Ruby：[http](http://rubyinstaller.org/) ://rubyinstaller.org/ 注意：确保选中将其设置为能够按原样运行独立 Ruby 脚本的复选框。

2) 编写一个示例 ruby​​ 脚本以定期运行。例如，这里会抛出一个 Windows 对话框：

```
require 'Win32API'
title = "Test"
text = "Testing..."
dialog = Win32API.new('user32', 'MessageBox', 'LPPL', 'I')
result = dialog.call(0, text, title, 1) 
```

3) 下面是 cmd.exe 的“cron”设置示例： schtasks /create /sc minute /mo 1 /tn "Test Script" /tr c:\Users\manzoid\dev\test.rb

# android - 自定义分享意图活动

> ID：12669300
> 
> 赞同：2
> 
> 时间：2012-10-01T07:49:46.853
> 
> 标签：android

感谢本教程： http: [//mobile.tutsplus.com/tutorials/android/android-sdk-implement-a-share-intent/](http://mobile.tutsplus.com/tutorials/android/android-sdk-implement-a-share-intent/)我知道如何简单地分享我的信息：我只是创建意图并开始活动。但是，在 startActivity 调用和共享窗口的有效显示之间有一点延迟，所以我想使用例如适合该类型共享的应用程序的列表视图进行自定义活动。

因此我需要：

编辑：1）一种获取可以处理意图的应用程序列表的方法，**在我的例子中是带有文本/纯 mime 类型的 ACTION.SEND 意图。**

2）一种以我的邮件正文和主题开头的方法。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-01T08:23:28.453

获取已安装应用程序列表：

```
final PackageManager pm = getPackageManager();

List<ApplicationInfo> packages = pm.getInstalledApplications(PackageManager.GET_META_DATA);

for (ApplicationInfo packageInfo : packages) {

   Log.d(TAG, "Installed package :" + packageInfo.packageName);
   Log.d(TAG, "Launch Activity :" + pm.getLaunchIntentForPackage(packageInfo.packageName)); 

   }// the getLaunchIntentForPackage returns an intent that you can use with startActivity() 
} 
```

并启动该软件包：

```
protected void launchApp(String packageName) {
    Intent mIntent = getPackageManager().getLaunchIntentForPackage(packageName);
    if (mIntent != null) {
        try {
            startActivity(mIntent);
        } catch (ActivityNotFoundException err) {
            Toast t = Toast.makeText(getApplicationContext(),
            "Application not found", Toast.LENGTH_SHORT);
            t.show();
        }
    }
} 
```

**编辑**

此方法查询包管理器以查找可以使用指定操作响应意图的已安装包：

```
public static boolean isIntentAvailable(Context context, String action) {
    final PackageManager packageManager = context.getPackageManager();
    final Intent intent = new Intent(action);
    List<ResolveInfo> list =
    packageManager.queryIntentActivities(intent, PackageManager.MATCH_DEFAULT_ONLY);
    return list.size() > 0;
} 
```

并使用特定应用程序（可以处理 ACTION_SEND）共享您的文本：

```
ResolveInfo info = list.get(index);
Intent intent = new Intent(android.content.Intent.ACTION_SEND);
intent.setClassName(info.activityInfo.packageName, info.activityInfo.name);
intent.setType("text/plain");
intent.putExtra(Intent.EXTRA_SUBJECT, subject);
intent.putExtra(Intent.EXTRA_TEXT, body);
((Activity)context).startActivity(intent); 
```

# javascript - 更新一列数据后更新表（重新计算）

> ID：12669303
> 
> 赞同：1
> 
> 时间：2012-10-01T07:50:07.167
> 
> 标签：javascript, datatables

我正在使用启用 DataTable 的表构建一个简单的页面。

来自我的服务器的数据如下所示：

```
[{"name": "John","salary": 2000,"bonus1": 100,"bonus2": 100},
 {"name": "Jack","salary": 2500,"bonus1":   0,"bonus2": 200},
 {"name": "Bill","salary": 2000,"bonus1": 300,"bonus2": 300}
] 
```

我需要添加并计算第五列，它将代表员工工资的百分比值（工资/所有工资的总和）

在`fnPreDrawCallback`我能够修改`oSettings.aoData`时，`console.log(oSettings.aoData)`我得到正确的值，但表中的该列为空。

我的`fnPreDrawCallback`功能如下所示：

```
"fnPreDrawCallback": function (oSettings) {
          iTotal = [0, 0, 0]; //declared in $(document).ready
          var dataLength=oSettings.aoData.length;
            for (var i = 0; i < dataLength; i++) {
                iTotal[0] += oSettings.aoData[i]._aData.salary;
                iTotal[1] += oSettings.aoData[i]._aData.bonus1;
                iTotal[2] += oSettings.aoData[i]._aData.bonus2;
            }

          for (i = 0; i < dataLength; i++) {
                oSettings.aoData[i]._aData.percent=(oSettings.aoData[i]._aData.salary / iTotal[0] * 100).toFixed(2)+'%';

            }
          console.log(oSettings.aoData);
        }, 
```

这是我的代码： http: [//live.datatables.net/umezez/13/edit](http://live.datatables.net/umezez/13/edit)

我的问题：**我应该在哪里更新我的数据，以便更新在表格中可见？**

我想避免使用选择器和更新 DOM 的内容，因为我希望能够使用 TableTools 或服务器端处理导出我的表。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T22:28:06.147

我不明白您为什么不简单地做这两件事，更新aoData（以便您可以导出）并自己更新html（以便正确显示）

我知道这是一个黑客，但它应该工作:)

[http://live.datatables.net/umezez/16/edit](http://live.datatables.net/umezez/16/edit)

使用 fnUpdate() 编辑

[http://live.datatables.net/umezez/23/edit](http://live.datatables.net/umezez/23/edit)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T08:19:52.550

您可以使用以下链接 [http://www.datatables.net/examples/advanced_init/footer_callback.html的 DataTables 页脚回调检查](http://www.datatables.net/examples/advanced_init/footer_callback.html)

还检查这个讨论 [http://www.datatables.net/forums/discussion/3605/addition-or-sum-of-column-values/p1](http://www.datatables.net/forums/discussion/3605/addition-or-sum-of-column-values/p1)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-09T21:37:58.250

这是答案

[http://live.datatables.net/umezez/19](http://live.datatables.net/umezez/19)

基本上你需要先计算工资总额（我将你的数据移动到一个变量并在表格呈现之前计算总数）然后你需要在 % 列上使用 fnRender 函数来计算和显示你的百分比像这样（下面是 %) 的列定义

```
 {
            "sTitle": "%",
            "bVisible": true,
            "sType": "string",
            "sWidth": "50px",
            "sClass": "center percent",
            "mData": "percent",
          "fnRender": function(o) {return o.aData.salary/totalSalaries}
        } 
```

# iphone - 如何在通讯录中保存联系人之前检查是否添加了组织名称？

> ID：12669305
> 
> 赞同：2
> 
> 时间：2012-10-01T07:50:13.063
> 
> 标签：iphone, ios, ios5, addressbook

我正在处理一个地址簿项目，我的要求之一是在使用我的应用程序手动添加新联系人时，它应该检查用户是否输入了“组织字段”值。

我的导航栏上有 Add(+) 按钮，其中包含以下代码片段：

```
UIBarButtonItem *addButton = [[UIBarButtonItem alloc]initWithBarButtonSystemItem:UIBarButtonSystemItemAdd target:self 
action:@selector(add:)];
self.navigationItem.rightBarButtonItem = addButton; 
```

通过本机通讯簿单击此添加按钮时会出现当前模式视图；

```
-(void)add:(id)sender
{
    ABNewPersonViewController *view = [[ABNewPersonViewController alloc] init];
    view.newPersonViewDelegate = self;
    UINavigationController *newNavigationController = [[UINavigationController alloc] initWithRootViewController:view];
    [self presentModalViewController:newNavigationController animated:YES];
}

- (void)newPersonViewController:(ABNewPersonViewController *)newPersonView didCompleteWithNewPerson:(ABRecordRef)person
{
    newPersonView.displayedPerson = person;
    [self dismissModalViewControllerAnimated:YES];
    [table reloadData];
} 
```

在将联系人保存到我的地址簿之前，我想检查用户是否添加了“组织字段”。在空白/无的情况下，我想显示一个警告框，要求填写组织值。这是强制性的，一旦用户提供组织值，联系人就会被保存到地址簿。

编辑：正如法比奥在下面建议的那样，我更新了我的代码..

```
- (void)newPersonViewController:(ABNewPersonViewController *)newPersonView didCompleteWithNewPerson:(ABRecordRef)person{

NSString *company = [NSString stringWithFormat: @"%@", ABRecordCopyValue(person, kABPersonOrganizationProperty)];
if ([company isEqualToString: @"(null)"]) {
UIAlertView *alert = [[UIAlertView alloc]initWithTitle:@"Value Required!" message:@"Please provide some value for ORGANIZATION Field..." delegate:self cancelButtonTitle:@"Ok" otherButtonTitles:nil];
[alert show];
}
else
{
 newPersonView.displayedPerson = person;
 [self dismissModalViewControllerAnimated:YES];
}
} 
```

有了这个，我可以向用户显示警报以提供字段值。它还在更新创建的后续记录。但是，当 MODAL VIEW 被关闭时，详细视图（Native App 的信息屏幕）不会显示有关联系人的信息。

此外，取消按钮不能以常规方式工作..我无法返回应用程序，因为它反复要求提供字段值，即使我提供并按下取消也是如此。

谁能指导我！

感谢和问候

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-31T11:12:46.593

没有使用 ABNewPersonViewController 执行此操作的文档化方法，因为当调用委托方法时，此人已由 ABNewPersonViewController 保存。以前您应该制作自己的“插入控制器”并使用它。

但我尝试了这种解决方法并获得了这种行为（在 iOS 6 上）：

在委托方法中

```
- (void)newPersonViewController:(ABNewPersonViewController *)newPersonView didCompleteWithNewPerson:(ABRecordRef)person 
```

你会收到一个新创建的人的参考。然后您可以访问保存的人员并检查公司是否已编译。如果没有，只是你不打电话

```
[self dismissModalViewControllerAnimated:YES]; 
```

ABNewPersonViewController 将保持原位，您可以向用户显示警报，要求他编译公司。这些字段将保持编译状态，并且 ABNewPersonViewController “链接”到创建的新用户。

然后，用户可以：

*   编译公司字段->点击保存将更新保存的人并为您的委托提供新数据，因此您可以正确关闭视图控制器
*   点击取消 --> 您收到取消，此人被 ABNewPersonViewController 本身删除

但是......因为我在任何地方都找不到这种行为，我不确定是否

*   它适用于其他版本
*   它将“幸存”到审查过程（以前您没有使用私有 API，但不确定当用户点击保存时“不关闭”视图控制器是否对 UI 指南不利）

问候法比奥

# wxpython - 面板重绘背景图像（使用 EVT_ERASE_BACKGROUND）

> ID：12669306
> 
> 赞同：1
> 
> 时间：2012-10-01T07:50:16.207
> 
> 标签：wxpython

我有一个带有几个不同面板的框架，每个面板都应获得相同的背景图像。所以我找到了这个例子： http: [//www.blog.pythonlibrary.org/2010/03/18/wxpython-putting-a-background-image-on-a-panel/](http://www.blog.pythonlibrary.org/2010/03/18/wxpython-putting-a-background-image-on-a-panel/) 我复制了“def OnEraseBackground(self, evt )" 并将其绑定到 EVT_ERASE_BACKGROUND。结果：面板用灰色重新绘制背景图像。我的背景图像具有相同的宽度，但它高于面板。所以在这里你可以看到面板重新绘制了图像：[http](http://s14.directupload.net/file/d/3030/ej22mwbx_jpg.htm) ://s14.directupload.net/file/d/3030/ej22mwbx_jpg.htm （绿色底部是我的图像的一部分；灰色矩形是我的面板）。我还将这些行添加到我的 __init__ 中：

```
import wx

class MyForm(wx.Frame):
    def __init__(self):    
        wx.Frame.__init__(self, None, wx.ID_ANY, "Click Kick",size=(1124,750),pos=((wx.DisplaySize()[0]-1024)/2,10))
        self.startpanel = wx.Panel(self,size=(1024,600))
        self.hideallpanels()
        self.startpanel.Show()
        #...  
        wx.StaticText(self.startpanel,-1,'Testtext',pos=(120,220))
        self.SetBackgroundStyle(wx.BG_STYLE_CUSTOM)
        self.sizer = wx.BoxSizer(wx.VERTICAL)
        #self.sizer.Add(self.panelnewgame, 1, wx.EXPAND)
        #self.sizer.Add(self.panelloadgame, 1, wx.EXPAND)
        self.SetSizer(self.sizer)    
        #hSizer = wx.BoxSizer(wx.HORIZONTAL)
        #hSizer.Add((1,1), 1, wx.EXPAND)
        #hSizer.Add(self.sizer, 0, wx.TOP, 100)
        #hSizer.Add((1,1), 0, wx.ALL, 75)
        #self.SetSizer(hSizer)
        self.Bind(wx.EVT_ERASE_BACKGROUND, self.OnEraseBackground)

    def hideallpanels(self):
        self.startpanel.Hide()
        #...

    def OnEraseBackground(self, evt):
        dc = evt.GetDC()
        if not dc:
            dc = wx.ClientDC(self)
            rect = self.GetUpdateRegion().GetBox()
            dc.SetClippingRect(rect)
        dc.Clear()
        bmp = wx.Bitmap("background.bmp")
        dc.DrawBitmap(bmp, 0, 0)

if __name__ == "__main__":
    app = wx.App(False)
    frame = MyForm()
    frame.Show()
    app.MainLoop() 
```

但是有了这些行，我无法启动我的程序：没有错误消息，但它就是无法启动。

编辑：当窗口调整大小时，不需要调整背景图像（或其他东西）的大小。窗口是静态的，不应调整大小。

Edit2：我用所有可能相关的代码更新了上面的代码示例。

Edit3：对不起，但现在它运行了。您只需要一个名为“background.bmp”的背景图像，它应该大于 wx.Panel（或者您降低 wx.Panel 的大小）-> 只是为了看看，面板会重新绘制图像。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-02T13:25:49.197

问题是育儿问题。如果您查看我[教程](http://www.blog.pythonlibrary.org/2010/03/18/wxpython-putting-a-background-image-on-a-panel/)的其余部分，您会注意到我将 EVT_ERASE_BACKGROUND 绑定到面板，而不是框架。此外，OnEraseBackground 处理程序正在更新面板，而不是框架，因此您需要更改几行：

```
class MyForm(wx.Frame):
    def __init__(self):
        ...
        # change the last line in the init
        self.startpanel.Bind(wx.EVT_ERASE_BACKGROUND, self.OnEraseBackground)

    def OnEraseBackground(self, evt):
        dc = evt.GetDC()
        if not dc:
            dc = wx.ClientDC(self)
            # change this line too!!
            rect = self.startpanel.GetUpdateRegion().GetBox() 
```

不过，您可能希望使用框架的 SetSizeHints 方法来设置最大和最小调整大小限制。否则，当您将框架调整为大于图像的大小时，您会在边框上看到灰色。

# android - 将焦点更改为下一个编辑文本时，屏幕会稍微移动

> ID：12669308
> 
> 赞同：0
> 
> 时间：2012-10-01T07:50:29.800
> 
> 标签：android

我的数字选择器上的键盘有点问题。很难用语言来解释，所以这里有一些截图：

当我点击数字选择器时，键盘出现：

![在此处输入图像描述](../Images/c1f95c9e7e2f40c034ea07530b65f87a.png)

当我单击下一个按钮（在本例中为“Volg”按钮）时，我实现了它应该关注下一个编辑文本。

![在此处输入图像描述](../Images/4dd92fb62a9ebe55eb31a7f700aa484d.png)

但正如您所看到的，屏幕向顶部移动了一点。这不是一个大问题，但它有点烦人。

什么可能导致这种情况，或者我该如何解决这个问题？

编辑：布局是一个滚动视图。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T10:03:46.183

尝试这个

在活动标签下的清单文件中使用属性

android:windowSoftInputMode="stateUnchanged"

# css - 文本缩进最小负值

> ID：12669309
> 
> 赞同：3
> 
> 时间：2012-10-01T07:50:31.213
> 
> 标签：css, text-indent

该属性允许的**最小**负值是`text-indent`多少？

我在我的网站中使用了一个奇怪的巨大值（类似于`text-indent: -99999999px`），并且它停止使用最后一次 Google Chrome 更新。IE 仍然可以正常工作，但我可能需要从那里删除几个 9 才能使其再次与 Chrome 一起使用。

免责声明：是的，这个值有点太偏执了，我用它来取乐并完全忘记它，直到今天屏幕上弹出文本。但是通常建议的方法`text-indent: -9999px`可能会在（不是那么）遥远的将来的某个时候轻易失败？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-01T08:28:40.300

一个安全的值*可能是* `-32768px`，但这不是规范的一部分，而是对（可能已过时的）特定于实现的遗留限制的观察。

在 CSS 属性值可以在渲染时应用于元素之前，必须将这些声明解析为比字符串更可操作和抽象的东西。我的意思是，您几乎可以*键入*任何内容作为属性值：

```
.a {text-indent: -999px;}
.b {text-indent: -99999999px;}
.c {text-indent: medium potato;} 
```

第一个例子，手指交叉，被正确解析；最后一个是无效的，将被忽略（因为中等土豆目前不是 w3c CSS 规范的一部分）；[但是如果它溢出](http://en.wikipedia.org/wiki/Integer_overflow)（不“适合”浏览器分配的内存），中间的会很奇怪。我整理了一个小提琴，这些是`text-indent`浏览器“阻塞”并默认为零的值：

```
#On OSX 10.8 Lion 64bit:
Safari 6       -2^31
Chrome 22      -2^26  #your original -99999999px would have failed here
Firefox 14     -2^70
Opera 12       -2^70

#On Win Server 2008 64bit:
Firefox 13     -2^70
Chrome 21      -2^70
IE 9           -2^70 
```

~~这让我很好奇，明天我会在另一个盒子上进行更多测试。~~上面的结果更新了，没什么太兴奋的。[您还可以使用此小提琴运行您自己的测试](http://jsfiddle.net/qXRuE/1/)- 第一个仍然可见的项目将显示应用的值被忽略。~~我假设这些值会根据所使用的浏览器/操作系统以及*可能*的硬件而有所不同。~~

我记得第一次在[一篇关于样式化假列^ 的文章](http://www.positioniseverything.net/articles/onetruelayout/equalheight)中看到了这种限制的*实际*参考，该参考建议保守约束是 16 位有符号整数（从 -32768 到 +32767）——这*不仅*适用于文本缩进但其他长度值。我不知道这个值在不同浏览器及其版本之间的一致性如何，也不知道它对以不同单位表示的分数或值有多大的适用性。

 ** * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T11:10:21.857

没有最小文本缩进 - 我之前只使用了几个像素，但这是用于布局/设计的不好做法，确保在等离子大小的布局 99999px 上查看时它会滚动到屏幕外 - 绰绰有余 - 使用边距如果您仍想查看文本并用于样式设置，请使用填充和位置。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-20T13:46:26.757

我在使用 99999em 的 ipad Safari 中遇到问题，为我将其设置为 9999em 已修复。所以也许没有限制，但应该是避免这种错误的限制。*

# html - 省略号未出现在文本溢出中

> ID：12669311
> 
> 赞同：7
> 
> 时间：2012-10-01T07:50:42.883
> 
> 标签：html, css

我有一个标题：

```
<h2><a href="#">Lorem ipsum dolor dumbledore at hogwarts</a></h2> 
```

如果文本超过以下高度，我将尝试截断多行文本`h2`：

```
h2 {
  width: 200px;
  height: 52px;
  overflow: hidden;
  text-overflow: ellipsis;
} 
```

我所期待的：

```
Lorem ipsum dolor 
dumbledore at... 
```

结果是什么

```
Lorem ipsum dolor
dumbledore at 
```

为什么省略号不显示？

当我添加`white-space: nowrap;`省略号时，显示的文本`h2`现在是单行而不是占据`h2`.

```
Lorem ipsum dolor... 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-21T10:12:29.717

您可以使用一些现代 css 技巧来做到这一点，请参阅[jsfidle 示例](http://jsfiddle.net/USRFobiwan/TTqgR/)

```
body{padding: 4em;}
h3{border:2px solid red;padding:.5em;}

h3 {
display: block; /* Fallback for non-webkit */
display: -webkit-box;
max-width: 400px;
height: calc(26px*1.4*4); /* Fallback for non-webkit */
margin: 0 auto;
font-size: 26px;
line-height: 1.4;
-webkit-line-clamp:4;
-webkit-box-orient: vertical;
overflow: hidden;
text-overflow: ellipsis;
}

<h3>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Donec quam felis, ultricies nec, pellentesque eu, pretium quis, sem. Nulla consequat massa quis enim. Donec pede justo, fringilla vel, aliquet nec, vulputate eget, arcu. </h3> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-01T07:53:43.927

[Quirksmode.org](http://www.quirksmode.org/css/textoverflow.html)（必读！）建议您还需要`white-space: nowrap;`.

# javascript - javascript document.write() 从页面中删除 html 并在空白页面中显示结果

> ID：12669314
> 
> 赞同：-2
> 
> 时间：2012-10-01T07:50:56.130
> 
> 标签：javascript, document.write

> **可能重复：**
> [JavaScript - document.write 的替代品有哪些？](https://stackoverflow.com/questions/4537963/javascript-what-are-alternatives-to-document-write)

我正在创建一个我想在几秒钟后执行的 javascript 函数，但是当它执行时它会删除所有页面内容并仅显示我使用 document.write() 显示的结果这是我的 javascript 代码。

```
<script language="javascript">
if (window.XMLHttpRequest)
{// code for IE7+, Firefox, Chrome, Opera, Safari
 xmlhttp=new XMLHttpRequest();
}
else
{// code for IE6, IE5
 xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
}

setTimeout(function(){
xmlhttp.open("GET","some.xml",false);
xmlhttp.send();
xmlDoc=xmlhttp.responseXML;
var x=xmlDoc.getElementsByTagName("offer");
var page = parseInt(x.length) / 10;
document.write("<div class='pagination_btn_cont'>");
for (i=1;i<=page;i++)
{ 
 document.write("<div class='pagination_btn'>"+i+"</div>");
}
document.write("</div>");
},10000);

</script> 
```

当我打开网页时，它会显示页面的所有内容，但 10 秒后页面将变为空白并仅显示我从循环中获取的数字。

任何建议如何完成这项任务。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-01T07:58:29.833

使用 innerHtml 更改特定元素的文本。

HTML

```
<div id="container"></div> 
```

javascript

```
document.getElementById('container').innerHTML += '<div>content</div>'; 
```

或者你可以使用 jQuery 库，生活会容易得多：

```
$("#container").append("<div>content</div>"); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-01T07:57:25.980

您可以在 javascript 中使用 innerHTML。它用于在不影响页面内容的情况下将数据插入特定的 div。

例子：

```
var results = "";
for(var i=1;i<=10;i++)
{
     results += "<div class='pagination_btn'>"+i+"</div>";
}
document.getElementById("your result show div id").innerHTML = results; 
```

**您可以`$('.pagination_btn').bind("click")...`在 document.ready中指定**

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-01T08:07:42.447

试试这个

```
document.getElementsByTagName('body').innerHTML += '<div id="parent" class="pagination_btn_cont">';

for (i=1;i<=page;i++)
{ 
 document.getElementById('parent').innerHTML = "<div class='pagination_btn'>"+i+"</div>";
} 
```

# javascript - 在 Firefox 3.6 中限制“记住密码”窗口或“自动完成=关闭”

> ID：12669322
> 
> 赞同：0
> 
> 时间：2012-10-01T07:51:24.757
> 
> 标签：javascript, autocomplete, firefox3.6

我想在**Mozilla Firefox 3.6 中为网页上的单个表单设置“autocomplete="off" 属性，而不是完整的 Web 应用程序**。但似乎 3.6 版本没有自动完成属性。我可以限制 Firefox 显示Firefox 11 上的“记住密码”窗口。

在 Firefox 11 中，我的 JavaScript 是：

```
changeForm.obj.autocomplete = "off"; 
```

但它不适用于 Firefox 3.6

请建议我如何限制 Firefox 3.6 显示“记住密码”窗口。

# ruby - Ruby to_s 转换为二进制（参数中的 Splat 运算符）

> ID：12669323
> 
> 赞同：6
> 
> 时间：2012-10-01T07:51:29.303
> 
> 标签：ruby, ruby-1.9.2, splat

如果我运行以下代码，前两行将返回我所期望的。然而，第三个返回 2 的二进制表示。

```
2.to_s      # => "2"
2.to_s * 2  # => "22"
2.to_s *2   # => "10" 
```

我知道在调用时传入 2`to_s`会将我的输出转换为二进制，但是为什么在第三种情况下`to_s`忽略了呢？`*`如果这有什么不同，我正在运行 Ruby 1.9.2。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-01T08:02:58.473

对，正如 Nanoda 已经提到的，Ruby 解释

```
2.to_s *2 
```

作为

```
2.to_s(*2) 
```

因为方法调用中的括号在 Ruby 中是可选的。这里的星号是所谓的[splat 运算符](http://www.jacopretorius.net/2012/01/splat-operator-in-ruby.html)。

这里唯一令人费解的问题是为什么`*2`评估为`2`. 当您在方法调用之外使用它时，splat 运算符将所有内容强制转换为数组，以便

```
a = *2 
```

会导致`a`being `[2]`。在方法调用中，splat 运算符的作用正好相反：将任何东西解包为一系列方法参数。向它传递一个三成员数组，它将作为三个方法参数的结果。传递一个标量值，它将作为单个参数转发。所以，

```
2.to_s *2 
```

本质上是一样的

```
2.to_s(2) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T08:06:21.830

在第三行中，您使用`to_s`“splat”为 2 调用方法，其计算结果为 2（在方法调用中），因此返回[不同 base 中的数字](http://www.ruby-doc.org/core-1.9.2/Fixnum.html#method-i-to_s)。

# installation - IzPack：获取用户输入，然后在 processpanle 中处理它

> ID：12669329
> 
> 赞同：1
> 
> 时间：2012-10-01T07:51:55.047
> 
> 标签：installation, izpack

H，

我需要在安装期间获取用户输入，然后将其用作在 processPanle 中执行的应用程序的参数。如何在 processPanel 中获取包含用户输入的变量？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-02T11:56:19.117

`${}`您可以使用如下示例中所示的语法来引用变量。

userInputSpec.xml（片段）：

```
<field type="rule" variable="tomcat_http_port">
  <spec txt="HTTP-Port:" id="panel0.field2.label" set="0:80" layout="N:5:5" />
</field> 
```

process.xml（片段）：

```
<job name="Launching Browser">
 <executeclass name="edu.ccdb.util.BareBonesBrowserLauncher">
   <arg>http://localhost:${tomcat_http_port}/klaros-web</arg>
 </executeclass>
</job> 
```

# c - C：双链表中的pop函数

> ID：12669332
> 
> 赞同：1
> 
> 时间：2012-10-01T07:51:59.887
> 
> 标签：c, linked-list

我正在使用双链表，但我的 pop() 函数遇到了问题。

```
//QueueElement describe the block in the cache
typedef struct _queue_ele_
{
    char *content;   //the data of the block
    struct _queue_ele_ *prev;
    struct _queue_ele_ *next;
}QueueElement;

typedef struct _queue_
{
    int queue_len;
    int max_queue_size;
    QueueElement *head;
    QueueElement *tail;
}MyQueue; 
```

pop 函数一直有效，直到输入 2 个元素（我通过一个一个弹出并释放内存来清除队列）

流行音乐：

```
// head is removed and returned
QueueElement* pop(MyQueue* myqueue)
{
    // if empty
    if(myqueue->queue_len == 0) return NULL;

    QueueElement *p = myqueue->head;

    // if one element
    if(myqueue->queue_len == 1) 
    {
        myqueue->queue_len--;
        myqueue->head = NULL;
        myqueue->tail = NULL;

        return p;
    }
    else
    {
        myqueue->queue_len--;

        //remove the head from the queue
        myqueue->head = myqueue->head->prev;
        myqueue->head->next = NULL; //******************Seg Fault here

        p->prev = NULL;

        return p;
        }   
} 
```

当有两个元素时我得到的错误是显示的行中的分段错误，但它适用于更多的队列。为什么不让我将 NULL 分配给 myqueue->head->next ？？？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-01T07:55:04.710

改变这个：

```
myqueue->head = myqueue->head->prev;
myqueue->head->next = NULL; //******************Seg Fault here 
```

至：

```
myqueue->head = myqueue->head->prev;
if (myqueue->head != NULL) {
    myqueue->head->next = NULL;
} 
```

您可能正在尝试取消引用 NULL 指针。看起来您可能会因未在要删除的节点上调用 free 而导致内存泄漏，但您可能会在代码的其他地方这样做。

# asp.net - Gridview 中的条件删除按钮

> ID：12669340
> 
> 赞同：2
> 
> 时间：2012-10-01T07:52:33.360
> 
> 标签：asp.net, gridview

我的 gridview 中有一个删除按钮，但我希​​望这个按钮不能根据 sql 查询的结果工作。

一个例子

我有一个带有“运送容器”的网格视图，我想从这个列表中删除一个容器，但我想显示一条消息“要能够删除这个容器，请从产品中删除它”，这样如果一个船舶集装箱正在使用中，我需要防止它被删除。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-01T08:31:38.733

这是您可以执行此操作的方法：

```
<asp:GridView ID="EntityGridView" runat="server" DataKeyNames="DocumentId" AutoGenerateColumns="False"
    AllowPaging="True" AllowSorting="False" SkinID="GridViewSmall" OnRowCommand="EntityGridView_RowCommand"
    OnPageIndexChanged="EntityGridView_PageIndexChanged">
    <Columns>
        <asp:TemplateField ItemStyle-CssClass="TemplateFieldThreeColumns">
            <ItemTemplate>
                <asp:ImageButton ID="ImageButton1" ImageAlign="Top" runat="server" ImageUrl='<% #ResolveImageUrl(Eval("Extension").ToString()) %>'
                    ToolTip='<%# Eval("Extension").ToString() %>' CommandName="Select" CommandArgument='<%# Eval("DocumentId") %>' />
            <asp:ImageButton ID="btnDelete" runat="server" ToolTip="<% $resources:AppResource,Delete %>"
                SkinID="DeletePage" OnClientClick="<%# GetDeleteConfirmation(Resources.AppResource.ConfirmDocumentDelete) %>"
                CommandName="CustomDelete" CommandArgument='<%# Eval("DocumentId") %>' Visible='<% #AllowDocDelete(Container.DataItem) %>' />
            </ItemTemplate>
        </asp:TemplateField>
        <asp:BoundField DataField="Title" HeaderText="<% $resources:AppResource,Title %>" />
        <asp:BoundField DataField="Author" HeaderText="<% $resources:AppResource,Author %>" />
        <asp:BoundField DataField="FileName" HeaderText="<% $resources:AppResource,FileName %>" />
        <asp:BoundField DataField="Created" HeaderText="<% $resources:AppResource,Created %>" />
    </Columns>
    <EmptyDataTemplate>
        <asp:Label ID="EmptyLabel" runat="server" Text='<%# Resources.AppResource.NoContentToDisplay %>' CssClass="NoDataLabel"></asp:Label>
    </EmptyDataTemplate>
</asp:GridView> 
```

注意禁用删除按钮的 AllowDocDelete 函数。这个函数应该在你的页面类中声明，如下所示：

```
 public bool AllowDocDelete(object item)
    {
        bool result = false; 
        //TODO: check your condition
        return result;
    } 
```

Item 对象表示绑定的实体。

# jquery - 使用 jquery 查找和替换

> ID：12669341
> 
> 赞同：2
> 
> 时间：2012-10-01T07:52:34.757
> 
> 标签：jquery, dom, dom-manipulation

我的 html

```
<div id="sample-reminder">
    <div id="reminder_0000">
        <input type="text" name="val_0000" value="1">
    </div>
</div> 
```

我的代码

```
rigaHtml = $('#sample-reminder').clone(); // i have to work on a clone of dom
rigaHtml.find('input[name^=val_]').val(99);
rigaHtml.html().replace(/0000/g, 987654321); 
```

最后一个命令不能替换我的占位符“0000”。如果我在 find() 之前移动 replace()，我不能使用 find :-(

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-01T08:06:32.720

`.clone()`在这种情况下您不需要使用：

```
var rigaHtml = $('#sample-reminder').html();
$(rigaHtml.replace(/0000/g, 987654321))
  .find('input[name^=val_]')
  .val(99)
  .appendTo('#container') 
```

`'#container'`您希望将修改后的 HTML 添加到的节点在哪里。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-01T07:59:39.390

假设您要更改 的`id`和`#reminder_0000`的`name`属性`val_0000`，试试这个：

```
$rigaHtml = $('#sample-reminder').clone();
var $input = $("input", $rigaHtml);
var $div = $input("div", $rigaHtml);

$input.val(99).attr("name", $input.attr("name").replace(/0000/g, 987654321));
$div.attr("id", $div.attr("id").replace(/0000/g, 987654321)); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-01T07:55:04.763

您需要将结果设置回来。

```
var html = rigaHtml.html().replace(/0000/g, 987654321);
rigaHtml.html(html); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-01T07:55:35.910

您没有对返回的值做任何事情`replace`。那应该写成：

```
rigaHtml.html(rigaHtml.html().replace(/0000/g, 987654321)); 
```

即使那样，`rigaHtml`它也不在 DOM 中，因为它是原始元素的克隆。因此，除非您将其放回 DOM 中，否则您仍然不会看到可见的更改。

# android - 多种屏幕尺寸和密度的Android界面实现

> ID：12669347
> 
> 赞同：1
> 
> 时间：2012-10-01T07:52:55.333
> 
> 标签：android, android-layout

我正在开发一个应用程序，我需要它来适应所有屏幕尺寸和密度。我为资源（drawable-ldpi、drawable-mdpi、drawable-hdpi、drawable-xhdpi）和 4 个 xml 布局创建了 4 个文件夹。但我对很多点有点困惑：

1- 如果我有一个屏幕尺寸为 1280 x 800 的三星 Galaxy tab 10.1（mdpi 屏幕）和一个屏幕尺寸为 320 x 480 的三星 Gio（mdpi 屏幕），我如何制作“layout-mdpi”文件夹，包括中等 dpi 的 xml 布局文件，适合这 2 台具有相同 dpi 但屏幕尺寸不同的设备（Galaxy 选项卡比三星 Gio 大得多）？

2- 我正在使用 Photoshop 创建我的 png，这些 png 必须以 320dpi、160dpi、240dpi 保存..？还是所有资源都必须以 72 dpi 但不同大小保存？

3- 我在三星 Galaxy tab 10.1（mdpi 屏幕）上测试了一个星形图标，尺寸为 32x32px，不知道为什么我的图标模糊了！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T08:01:55.947

您必须制作所有 4 个不同尺寸的图像并根据文件夹放置这些图像。并且还像这样在清单中设置属性。

```
<supports-screens
        android:anyDensity="true"
        android:largeScreens="true"
        android:normalScreens="true"
        android:smallScreens="true" /> 
```

# delphi - 如何检测 TSemaphor 控件的颜色变化？

> ID：12669348
> 
> 赞同：0
> 
> 时间：2012-10-01T07:52:56.127
> 
> 标签：delphi, delphi-2009, dll-injection, microsoft-ui-automation

我有一个应用程序 A，它有一个小文本框，由一个框架包围，指示系统是否准备好。文本和框架位于 Delphi`TSemaphor`控件中。

1.  在初始化期间，框架是**黄色**的。
2.  初始化完成且系统准备就绪后，框变为**绿色**。

在另一个应用程序 B 中，我需要检测应用程序 A 何时已初始化并准备就绪。

如何在应用程序 A 中以尽可能少的努力并在以下约束下执行此操作（检测框架颜色的变化）

1.  应用程序 A 无法更改（我没有它的源代码），
2.  应用程序 A 没有自动化接口，
3.  当应用程序 A 准备就绪时，唯一发生的变化是颜色变化

?

我知道有以下解决此问题的方法：

1.  使用图像识别 (http://sikuli.org/)
2.  找出相应位置的像素颜色。
3.  使用注入的 DLL 来访问 TSemaphore 属性。

# android - 活动未开始

> ID：12669351
> 
> 赞同：0
> 
> 时间：2012-10-01T07:53:13.000
> 
> 标签：android, android-activity, imagebutton

我正在创建一个哈希图并将其传递给另一个活动这是我的代码

```
bt6.setOnClickListener(new OnClickListener() {          
    @Override
    public void onClick(View v) {
        Intent intent = new Intent(gkwebbrowserActivity.this, Icons.class);
        intent.putExtra("hashmap", orderMap);
        try {
            startActivity(intent);
        } catch (Exception e) {
            e.printStackTrace();
        }
    }
}); 
```

在我的第二个活动中，我正在创建一组图像按钮并设置存储在 hashmap 中的图像位图这里是第二个活动的代码

```
public class Icons extends Activity {
    GridLayout gl;
    ImageButton imb1;
    HashMap<Integer, Bitmap> ordermap;
    int i;
    /* (non-Javadoc)
     * @see android.app.Activity#onCreate(android.os.Bundle)
     */
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.icon);
                try {
             ordermap= new HashMap<Integer, Bitmap>();
             ordermap = (HashMap<Integer, Bitmap>) getIntent().getSerializableExtra("hashmap");
        } catch (ClassCastException e) {
            e.printStackTrace();
        }
                gl=(GridLayout)findViewById(R.id.layout);
                i=ordermap.size();
                gl.setUseDefaultMargins(true);
                gl.setColumnCount(2);
                gl.setRowCount(i/2);

                 Iterator entries = ordermap.entrySet().iterator();
                 while (entries.hasNext()) {
                   Entry thisEntry = (Entry) entries.next();
                      imb1 = new ImageButton(this);
                      imb1.setImageBitmap((Bitmap)thisEntry.getValue());
                      gl.addView(imb1); 
                  }
    }
} 
```

但是第二个活动没有开始，第一个活动在调用第二个活动后崩溃。我将位图存储在哈希图中，之后我调用了第二个活动。谁能告诉我问题是什么以及如何删除它这是 logcat

```
D/dalvikvm(925): GC_CONCURRENT freed 429K, 8% free 10618K/11463K, paused 8ms+4ms
D/Capturing screenshot of webview(925): First screenshot
D/dalvikvm(925): GC_FOR_ALLOC freed 4K, 8% free 10614K/11463K, paused 76ms
I/dalvikvm-heap(925): Grow heap (frag case) to 11.249MB for 855616-byte allocation
D/dalvikvm(925): GC_CONCURRENT freed <1K, 8% free 11450K/12359K, paused 4ms+11ms
W/EGL_emulation(925): eglSurfaceAttrib not implemented
E/JavaBinder(925): !!! FAILED BINDER TRANSACTION !!! 
```

# java - Java 字节码操作 - 许可问题？

> ID：12669352
> 
> 赞同：1
> 
> 时间：2012-10-01T07:53:20.140
> 
> 标签：java, assembly, licensing, bytecode-manipulation

如果我要*发布一个*对核心 Java 类（sun.*）进行字节码操作的实用程序，我应该担心**许可**问题吗？

**提供更多上下文：**为了运行自动回归测试套件，我们需要将自己的`MockSystem.currentMillis()`实现注入到`java.lang.System.currentMillis()`调用原始代码的任何位置。

由于我认为这个小型*实用程序*将对许多开发人员有用，我现在想知道当我的（即将成为）许可代码操作以其他方式许可的代码时是否涉及任何*许可问题。*`MIT`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-01T08:03:19.813

我不是律师，但一般而言，第三方代码的许可条款会在您发送第三方代码时生效。

因此，如果您使用您的实用程序*，*然后发送由您的实用程序修改的代码，那么很可能会出现问题......

但是，如果您只是发布您的代码，并且有人在他们的机器上使用您的代码（用于运行他们的测试）并且*没有*发布您的实用程序修改的代码，那么许可问题就会降低。

您的实用程序的用户需要确保他们遵守您的实用程序的许可证（麻省理工学院基本上是一个“这里是代码，做你想做的，但如果它在你的脸上炸毁不要怪我”许可证，所以他们应该可以使用您的实用程序）*并*确保他们遵守运行您的实用程序的代码的许可证。

当然，如果他们告诉任何人他们正在违反第 3 方许可证，而没有人知道他们是，那么他们自己的风险很低……但他们将不得不向更高的权力（如果有的话）回答，因为他们是不遵守执照的坏人！

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-01T09:34:02.600

应该没有问题。如果字节码操作存在法律问题，那么我们早就听说了。

NullUserException 写道：

> 你最好问问律师。

如果您想要一个具有坚实法律基础的答案，那是正确的。但我认为在这种情况下没有必要。简单阅读许可证就足够了；[http://www.oracle.com/technetwork/java/javase/terms/license/index.html](http://www.oracle.com/technetwork/java/javase/terms/license/index.html)。而且我看不到任何东西可以阻止您编写或发布字节码操作工具。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-07-20T01:20:35.383

我从 java 许可证中得到了这个。随心所欲地阅读。

F. JAVA 技术限制。您不得创建、修改或更改其行为，或授权您的被许可人创建、修改或更改以任何方式标识为“java”、“javax”、“ sun"、"oracle" 或 Oracle 在任何命名约定指定中指定的类似约定。

# mysql - sql中的默认日期时间格式值

> ID：12669356
> 
> 赞同：-1
> 
> 时间：2012-10-01T07:53:37.573
> 
> 标签：mysql, sql

sql中datetime的默认值是多少？我有一个 6/8/2012 14:07 的值，但 sql 不接受它。请帮忙！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-01T07:56:20.510

不确定您的日期格式和 RDBMS。（我从你之前的问题的标签中猜想它的 mysql ）

大多数 RDMS 将接受`yyyy-mm-dd hh24:mi:ss`

你可以试试..

如果你的日期是 6 月 8 日

```
 2012-06-08 14:07:00 
```

如果您的日期是 8 月 6 日或

```
 2012-08-06 14:07:00 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T09:37:39.160

嗨，这是 sql 日期格式 dd/mm/yyyy hh:min:sec (pm/am) 9/28/2012 4:19:50 PM

# java - 异常派生类的警告

> ID：12669359
> 
> 赞同：0
> 
> 时间：2012-10-01T07:53:47.220
> 
> 标签：java, android, exception

我创建了自己的异常类：

```
public class ApplicationException extends Exception 
{
    public ApplicationException()
    {
        super();
    }

    public ApplicationException(String message)
    {
        super(message);
    }
} 
```

显示此警告：“可序列化类 ApplicationException 未声明 long 类型的静态最终 serialVersionUID 字段”。我怎样才能解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T07:56:37.873

只需定义一个以`serialVersionUID`类型命名的变量`long`

```
private static final long serialVersionUID = 1L; 
```

# database - ObjectContext.ObjectStateManager

> ID：12669363
> 
> 赞同：0
> 
> 时间：2012-10-01T07:54:21.527
> 
> 标签：database, entity-framework

我正在使用实体框架 v5；我是查看链接 [http://msdn.microsoft.com/ru-ru/library/system.data.objects.objectcontext.objectstatemanager.aspx](http://msdn.microsoft.com/ru-ru/library/system.data.objects.objectcontext.objectstatemanager.aspx) 但在这段代码中 *myDbContext.ObjectStateManager.ChangeObjectState(objClass, EntityState.Modified);* 没有属性 ObjectStateManager。财产在哪里？或者如何解决它的问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T08:46:40.920

DbContext API 以不同的方式执行此操作：

```
dbContext.Entry(entity).State = EntityState.Modified; 
```

您必须遵循您正在使用[的 API 的文档。](http://msdn.microsoft.com/en-us/library/gg696142%28v=vs.103%29.aspx)

# xpath - 一年中剩余的 InfoPath (XPath) 天数

> ID：12669364
> 
> 赞同：0
> 
> 时间：2012-10-01T07:54:29.600
> 
> 标签：xpath, infopath, infopath2010

我目前正在 InfoPath 中处理用户在字段中输入特定日期的表单。

然后我想要一个公式来计算一年中剩余的天数。我也想把每一天都当作成本。假设每天花费 2 美元，输入的日期是 12 月 29 日。然后我希望函数返回“价格：4$”

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T10:10:29.783

XPath 2.0 有很多日期/时间函数：

要获取 2012 年最后一天和当天之间的天数，您可以使用：

```
days-from-duration(date("2012-12-31") - current-date() ) 
```

如果您有用户输入的日期`$user-date`，您需要用它替换`current-date()`并`$user-date`为该年的最后一个 12 月构建一个日期对象，您可以这样做：

```
days-from-duration(date(concat(year-from-date($user-date), "-12-31")) - $user-date ) 
```

（或使用`date($user-date)`, if`$user-date`是一个字符串）

要获得最终价格字符串，请使用：

```
concat("price: ", 2  *  days-from-duration(date(concat(year-from-date($user-date), "-12-31")) - $user-date ), "$") 
```

* * *

XPath 1.0：

如果没有日期功能，您需要手动完成所有这些愚蠢的计算。

您需要一张映射从每个月到年底的日子的地图。然后你可以做`Map[$month] - $day`。（或者使用地图将月份映射到年初的日期，然后从 365 中减去它，我所做的，因为我已经有了那张地图）

现在 XPath 1.0 没有映射，但您可以用字符串模拟一个：

```
 365 - substring-before(substring-after( "1:00, 2:31, 3:59, 4:90, 5:120, 6:151, 7:181, 8:212, 9:243, 10:273, 11:304, 12:334, 13:365", concat($month, ":")), ",") - $day 
```

这适用于每个非闰年。

对于闰年，您只需使用 366 并在 2 月之后的每个月加 1：

```
 366 - substring-before(substring-after( "1:00, 2:31, 3:60, 4:91, 5:121, 6:152, 7:182, 8:213, 9:244, 10:274, 11:305, 12:335, 13:366", concat($month, ":")), ",") - $day 
```

要检测闰年，您可以进行一些模计算，使用所有闰年的地图可能更容易：

```
concat("0", substring-before(substring-after("...,2000:1,2004:1,2008:1,2012:1,2016:1,...", concat($year, ":")), ",")) * 1 
```

如果年份是范围内的闰年，则返回 1

然后把它们放在一起：

```
 ( 365 - substring-before(substring-after( "1:00, 2:31, 3:59, 4:90, 5:120, 6:151, 7:181, 8:212, 9:243, 10:273, 11:304, 12:334, 13:365", concat($month, ":")), ",") - $day)  * ( 1 - concat("0", substring-before(substring-after("...,2000:1,2004:1,2008:1,2012:1,2016:1,...", concat($year, ":")), ",")) * 1)     +     (366 - substring-before(substring-after( "1:00, 2:31, 3:60, 4:91, 5:121, 6:152, 7:182, 8:213, 9:244, 10:274, 11:305, 12:335, 13:366", concat($month, ":")), ",") - $day) * concat("0", substring-before(substring-after("...,2000:1,2004:1,2008:1,2012:1,2016:1,...", concat($year, ":")), ",")) 
```

# ruby-on-rails - Rails 中多类型注册的多态关联

> ID：12669366
> 
> 赞同：4
> 
> 时间：2012-10-01T07:54:41.137
> 
> 标签：ruby-on-rails, ruby, devise, polymorphic-associations

我正在使用设计进行我的应用程序身份验证。我有一个`User`模型，它是登录/注册模型。

该功能是这样一种方式，即当客户（即用户）注册时，他将被带去填写强制性的用户资料页面。使用设计一切正常。

现在我有了一个新功能，用户可以是不同的类型（比如说`A`, `B`, `C`）

如果用户是 type `A`，那么他必须遵循相同的注册过程和相同的个人资料页面。

如果用户类型为`B`，则注册屏幕会有所不同，并等待管理员验证。类型也有不同的变化`C`。

所有不同的类型都有不同的个人资料页面，并且字段也不同。

所以我决定建立一个多态关联，这就是我的模型的样子

```
class User < ActiveRecord::Base

  devise :database_authenticatable, :registerable,
         :recoverable, :rememberable, :trackable, :validatable

  attr_accessible :email, :password, :password_confirmation, :remember_me

  belongs_to :user_type, :polymorphic => true

end

class A
    has_one :user, :as => :user_type
end

class B
    has_one :user, :as => :user_type
end

class C
    has_one :user, :as => :user_type
end 
```

我只是想知道这是处理这个场景的正确方法还是有更好的方法来实现这个？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T08:12:57.913

我以前也遇到过同样的事情

我强烈建议使用非多态的单独模型并与 mixins 共享通用功能。

我有你描述的相同设置，后来不得不重构它，因为随着项目的开发它变得非常臃肿和复杂

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-01T08:30:08.830

你想要 Rails 的神奇`type`专栏。

```
# user.rb
class User < ActiveRecord::Base
  # create_table 'users' do |t|
  #   t.string :name
  #   t.string :type
  # end
end

# user_a.rb
class UserA < User
end

# user_b.rb
class UserB < User
end

# user_c.rb
class UserC < User
end 
```

* * *

```
UserA.create(name: "bricker")
user_a      = User.where(type: "UserA").first
same_user_a = UserA.all.first

user_a == same_user_a #=> true
user_a.class          #=> UserA
user_a.is_a? User     #=> true 
```

**更新**

```
class UserLogin < ActiveRecord::Base
  # create_table :user_logins do |t|
  #   t.integer :user_id
  #   t.string  :user_type
  #   t.string  :login
  #   t.string  :encrypted_password
  # end

  # devise ...
  belongs_to :user, polymorphic: true
end

class User < ActiveRecord::Base
  self.abstract_class = true
  has_one :user_login, as: :user
end

class Admin < User
  # create_table :admins do |t|
  #   t.integer :user_login_id
  #   t.string  :admin_name
  # end
end

class Moderator < User
  # create_table :moderators do |t|
  #   t.integer :user_login_id
  #   t.string  :moderator_name
  # end
end 
```

# coding-style - 我应该命名“makefile”还是“Makefile”？

> ID：12669367
> 
> 赞同：41
> 
> 时间：2012-10-01T07:54:51.363
> 
> 标签：coding-style, makefile, gnu-make

尽管这两个名称都可以，但生成文件的正确名称是什么？

[GNU 'make' 主页](http://www.gnu.org/software/make/manual/make.html)使用*Makefile*，我想这是命名它的好方法。以大写字母输入前*M*的任何原因？

* * *

## 回答 #1

> 赞同：62
> 
> 时间：2012-10-02T07:53:46.247

[What Name to Give Your Makefile](http://www.gnu.org/software/make/manual/make.html#Makefile-Names) GNU Make 手册的章节阐明了这一点：

> 默认情况下，当`make`查找 makefile 时，**它****​​会按顺序尝试以下名称：`GNUmakefile`和`makefile``Makefile`**. 通常你应该调用你的 makefile`makefile`或者`Makefile`. （**我们推荐`Makefile`它，因为它出现在目录列表开头附近的显眼位置**，紧邻其他重要文件，例如.）大多数 makefile 不建议使用`README`选中的名字 , 。`GNUmakefile`如果您有一个特定于 GNU 的 makefile`make`并且不会被其他版本的 make 理解，您应该使用此名称。其他 make 程序寻找`makefile`and `Makefile`，但不是`GNUmakefile`。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-01T08:23:43.700

我认为使用`ls`命令时 Makefile 显示在列表的几乎顶部，而不是 makefile 。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-11-09T03:16:57.910

这不仅是因为它出现在目录列表开头附近的显着位置，而且当您使用“makefile”替换“Makefile”时会导致编译错误。您可以尝试在Linux的helloworld案例中进行测试设备驱动..

# java - Java-如何扩展 InputStream 以从 JTextField 中读取？

> ID：12669368
> 
> 赞同：4
> 
> 时间：2012-10-01T07:54:50.827
> 
> 标签：java, swing, inputstream, jtextfield

在做一个项目时，我通过一个类似控制台的小窗口开始运行 java 应用程序。感谢这里的精彩社区，我设法[解决了从进程中输出数据的问题，](https://stackoverflow.com/a/12427981/1650200)但是由于没有输入流，我运行的命令行应用程序会不断出错。

基于该线程中最后一个有用的回复，我想我将采用类似的方法来`JTextFieldInputStream extends InputStream`实现，但是在 javadocs 以及整个谷歌和互联网中寻找一些可以做到这一点的类，我真的没有发现任何解释如何做到这一点。

所以我要求提供一些链接、示例、教程、示例代码，就像在上一个主题中一样。只给我一个扩展 InputStream 的类，当我按下 Enter 键时，它可以扩展为从 JTextField 读取，剩下的我将完成它并使其工作！提前致谢！

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-10-01T08:12:42.163

如果您需要扩展 InputStream 的 JTextField，我不明白什么？基本上，您正在寻找的是：

1.  添加一个`ActionListener`on `JTextField`（即，当使用 presses 时`Enter`，`actionPerformed`将被调用）
2.  您需要`text`使用 JTextField获取`getText()`
3.  然后，您可以将“转换”`String text`为`InputStream`with`new ByteArrayInputStream(text.getBytes("UTF-8"));`

这是一个小片段，可以让您了解基本概念：

```
import java.awt.FlowLayout;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.io.ByteArrayInputStream;
import java.io.InputStream;
import java.io.UnsupportedEncodingException;

import javax.swing.JFrame;
import javax.swing.JTextField;
import javax.swing.SwingUtilities;

public class TestTextField {

    private void initUI() {
        JFrame frame = new JFrame(TestTextField.class.getSimpleName());
        frame.setLayout(new FlowLayout());
        final JTextField textfield = new JTextField(20);
        textfield.addActionListener(new ActionListener() {

            @Override
            public void actionPerformed(ActionEvent e) {
                try {
                    String text = textfield.getText();
                    InputStream is = new ByteArrayInputStream(text.getBytes("UTF-8"));
                    // Here do something with your input stream (something non-blocking)
                    System.err.println(text);
                } catch (UnsupportedEncodingException e1) {
                    e1.printStackTrace();
                }

            }
        });
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        frame.add(textfield);
        frame.setSize(300, 300);
        frame.setLocationRelativeTo(null);
        frame.setVisible(true);
    }

    public static void main(String[] args) {
        SwingUtilities.invokeLater(new Runnable() {

            @Override
            public void run() {
                new TestTextField().initUI();
            }
        });
    }

} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-01T08:03:51.627

这个实现怎么样

```
import java.io.IOException;
import java.io.InputStream;

import javax.swing.JTextField;

public class JTextFieldInputStream extends InputStream {
    byte[] contents;
    int pointer = 0;

    public JTextFieldInputStream(final JTextField text) {

        text.addKeyListener(new KeyAdapter() {
            @Override
            public void keyReleased(KeyEvent e) {
                if(e.getKeyChar()=='\n'){
                    contents = text.getText().getBytes();
                    pointer = 0;
                    text.setText("");
                }
                super.keyReleased(e);
            }
        });
    }

    @Override
    public int read() throws IOException {
        if(pointer >= contents.length) return -1;
        return this.contents[pointer++];
    }

} 
```

要使用此输入流，请执行以下操作

```
 InputStream in = new JTextFieldInputStream( someTextField );
 char c;
 while( (c = in.read()) != -1){
    //do whatever with c
 } 
```

> 只有当我点击进入时它才会读取？

`in.read()`如果返回值`-1`意味着流的结束，它会在您调用时读取

> （我是否能够进行修改以使 Enter 键清空 JTextField？）

您需要添加一个动作侦听器，此功能与输入流的工作无关

# haskell - Haskell 不确定如何编写“垂直程序”

> ID：12669369
> 
> 赞同：2
> 
> 时间：2012-10-01T07:54:55.287
> 
> 标签：haskell

我正在学习 Haskell，我编写了这段代码来测试 Haskell 的一些概念。

```
identifyThing :: [arg] -> String
identifyThing arg = "This looks like a " ++
    case arg of
        [] -> "empty list"
        [arg] -> "list"
        arg -> "something else"

main :: IO ()
main = putStrLn (identifyThing [])
    putStrLn (identifyThing [1..10]) 
    putStrLn (identifyThing ()) 
    putStrLn (identifyThing 1) 
```

我在主声明的第一行收到错误：无法将 7 个参数应用于 putStrLn。我认为这是因为我不知道如何告诉 haskell 我没有将论点包装到下一行。

如果有人能告诉我我做错了什么，我将不胜感激。谢谢。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-01T11:47:42.267

一个更长的答案是，在 Haskell 中，您不能将行放在一起并期望它们按顺序工作。当您编写`do`它时，它不是 { } - 样式块或其他东西的语法，而是使用`>>=`函数将行连接成更大行的语法。因此，当您编写时`do`，实际上它只是一行：

```
main = putStrLn (identifyThing []) >>= \_ -> putStrLn (identifyThing [1..10]) >>= \_  -> putStrLn (identifyThing [1]) 
```

模式匹配（如`case`使用多个方程或等效定义）从上到下工作。

Haskell 的整个想法是你不能编写垂直程序 - 你只能编写水平程序 :) 通常你可以将你的“垂直”程序重新编写成一个更短的“水平”程序。例如

```
main = mapM_ (putStrLn . identifying) [[], [1..10], [1]] 
```

是另一种表达“水平”你想说“垂直”的方式。

对于初学者来说`do`，`<-`构造`return`是相当具有误导性的。所以你应该使用`>>=`, `>>`,`\ ->`然后`return`学习如何使用`<$>`, `<*>`, `.`,和和`liftM2`的其他函数来缩短它。此外，在许多情况下，您可以重新设计算法，因此首先不再需要“垂直”代码。`Control.Monad``Control.Applicative`

对于您的示例，一个易于理解的初学者代码将是：

```
main = putStrLn (identifyThing [1..10]) >> putStrLn (identifyThing ()) >> putStrLn (identifyThing 1) 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-01T07:58:19.500

修复了它，在 main 之后使用“do”，加上一个换行符，就可以了。

这是我用来使它工作的内容（也更正了程序的其他部分）：

```
identifyThing :: [a] -> String
identifyThing arg = "This looks like " ++
    case arg of
        [] -> "an empty list"
        [x] -> "a list with one element"
        x -> "a list with more than one element"

main :: IO ()
main = do
    putStrLn (identifyThing [])
    putStrLn (identifyThing [1..10]) 
    putStrLn (identifyThing [()])
    putStrLn (identifyThing [1]) 
```

# web - 用于网站身份验证的 Amazon IAM

> ID：12669371
> 
> 赞同：1
> 
> 时间：2012-10-01T07:55:02.250
> 
> 标签：web, amazon-iam

Amazon AWS IAM 可以用于用户登录网站吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T09:14:19.180

不可以。IAM 用户用于访问/控制策略定义的 AWS 基础设施。

它与 OpenID、OAuth 等 Web 身份验证完全无关。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-08-10T21:36:10.783

您不能为此目的使用 AWS IAM。

您可以改用 AWS Cognito。

# javascript - 在 ASP.NET MVC 3 中上传文件而不刷新页面

> ID：12669374
> 
> 赞同：0
> 
> 时间：2012-10-01T07:55:07.423
> 
> 标签：javascript, html, asp.net-mvc, file-upload

我有个问题。哪个控件更适合用于文件上传 (ASP.NET MVC3)？当然没有页面刷新。它应该可以在 IE8 等旧浏览器中运行。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-01T08:07:46.387

查看现有问题

[asp.net mvc文件上传ajax post](https://stackoverflow.com/questions/2780241/asp-net-mvc-file-upload-ajax-post)

[Asp.net mvc 通过 ajax 上传文件](https://stackoverflow.com/questions/4914420/asp-net-mvc-fileupload-via-ajax)

[http://www.fyneworks.com/jquery/multiple-file-upload/](http://www.fyneworks.com/jquery/multiple-file-upload/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T08:11:22.610

我正在使用这个[插件](https://github.com/blueimp/jQuery-File-Upload)

在此链接中，您可以看到插件和[文档的](https://github.com/blueimp/jQuery-File-Upload/wiki)[演示](http://blueimp.github.com/jQuery-File-Upload/)

我用asp.net页面做过，但是概念应该是一样的。

[这里是 MVC3 中的一个例子](https://github.com/maxpavlov/jQuery-File-Upload.MVC3)

# java - 速度，不同的模板路径

> ID：12669375
> 
> 赞同：13
> 
> 时间：2012-10-01T07:55:21.820
> 
> 标签：java, velocity

有谁知道是否可以通过速度从不同路径获取模板？初始化后 Velocity 拒绝更改“file.resource.loader.path”。

这是我的代码：

```
public Generator(){         
    Properties p = new Properties();
        p.setProperty("resource.loader", "file");
        p.setProperty("file.resource.loader.class", "org.apache.velocity.runtime.resource.loader.FileResourceLoader");
        p.setProperty("file.resource.loader.path", "");

    Velocity.init(p);
} 
```

模板可以位于不同的位置（用户可以通过文件对话框选择一个）。所以我在从速度中获取模板时有这个代码

```
private Template fetch (String templatePath) {
    out_println("Initializing Velocity core...");
    int end = templatePath.lastIndexOf(File.separator); 

    Properties p = new Properties();
        p.setProperty("file.resource.loader.path", templatePath.substring(0, end));
    Velocity.init(p);

    return Velocity.getTemplate(templatePath.substring(end+1));
} 
```

这是行不通的。似乎一旦 Velocity 被初始化，它就不能用不同的属性重置。关于如何解决这个问题的任何建议？

**可能的程序流程：**

1.  用户选择需要填写到模板中的组
2.  用户选择要使用的模板（可以位于硬盘上的任何位置）
3.  用户按下生成

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2012-10-01T08:07:14.163

Velocity 可以以两种方式使用：[单例模型或分离实例模型](http://velocity.apache.org/engine/releases/velocity-1.5/developer-guide.html#to_singleton_or_not_to_singleton...)。您当前正在使用单例模型，其中仅允许 JVM 中的 Velocity 引擎的一个实例。

相反，您应该使用单独的实例模型，它允许您在同一个 JVM 中创建多个 Velocity 实例，以支持不同的模板目录。

```
VelocityEngine ve = new VelocityEngine();
ve.setProperty(RuntimeConstants.FILE_RESOURCE_LOADER_PATH, "path/to/templates");
ve.init();
Template t = ve.getTemplate("foo.vm"); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-01T08:03:39.417

考虑在第 3 步之前不要使用单例`Velocity`类创建和初始化新的[VelocityEngine 。](http://velocity.apache.org/engine/releases/velocity-1.7/apidocs/org/apache/velocity/app/VelocityEngine.html)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2016-02-15T17:53:54.367

补充以上几点：

即使使用非单例模型，即使用`VelocityEngine`对象。可以通过为属性提供逗号分隔值来配置多个路径。

```
[file.resource.loader.class=path1,path2] 
```

在这种情况下，速度引擎将首先在 path1 中查找模板，然后在 path2 中查找

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-07-04T22:34:14.737

就我而言，我在 Eclipse 动态 Web 项目中使用 Velocity 和 Servlet。
我实际上无法重置路径，但我可以在 /WebContent 文件夹下放置一个子目录，然后以这种方式组织我的模板......并且还有嵌套的子目录。

```
RequestDispatcher requestDispatcher = 
 request.getRequestDispatcher("/velocity_templates/index.vm"); 
```

这个简单的解决方案就是我所需要的......不需要弄乱 web.xml 中的 velocity.properties 或以编程方式设置它们（在每种情况下，不幸的是，当我尝试时，这两种方法都不适合我）。

请注意，当我使用 #parse(..) 命令执行模板包含时，我需要在模板 .vm 文件中使用与我在 servlet 示例代码中所做的相同的路径前缀。

# javascript - 需要等到 XMLHttpRequest 完成

> ID：12669382
> 
> 赞同：1
> 
> 时间：2012-10-01T07:55:44.590
> 
> 标签：javascript, xui

每当我试图找到这个问题的答案时，每个人都会提到 ajax 启动/停止等。

我正在使用[XUI JS 的 XHR](http://xuijs.com/docs/xhr)函数进行跨域调用，现在我想要这样

```
callMyXHRfunction();
callNextFunctionWhenAboveFunctionResponded(); 
```

即我应该继续前进，直到我的 xhr 函数响应（成功或失败）

**更新**

用例：

有一个函数叫做getAllData()，这个函数获取我当前提交给服务器的所有数据。我需要经常调用这个函数来获取最新数据并继续前进。在登录时，我调用此函数以获取最新数据，每 10 分钟后我需要调用此函数以刷新数据。

因此，如果我在成功函数上调用我的每个函数，那么我的代码可能会使其他开发人员感到困惑，如果我像上面那样编写，他/她将很容易知道第一行和第二行发生了什么。

希望现在每个人都非常了解我的情况。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T08:01:14.260

请参阅您引用的网站上的第三个示例：

```
x$( selector ).xhr( url, fn ); 
```

第二个参数可以是回调，回调是您可能开始寻找的关键字。

`async: false`或者，通过作为选项提供来使用同步调用。

```
x$("body").xhr("http://the-url",{ async: false }); 
```

控制流将暂停，直到请求返回，然后才继续执行下一个函数。请参阅[http://jsfiddle.net/ZQ9uw/](http://jsfiddle.net/ZQ9uw/)以供参考。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T08:03:34.243

您需要以`.xhr`指定回调函数的方式进行调用，并将“下一个”函数作为回调传递。

所以你会这样写：

```
callMyXHRFunction(nextFunctionToCall); // no parens after nextFunctionToCall!

function callMyXHRFunction(callback) {
    $("something").xhr(url, {
        error: callback, // so that nextFunctionToCall is called on error
        callback: callback, // so that nextFunctionToCall is called on success
        async: true
        // add more options here
    });
} 
```

# installshield - setup.exe 导致静默安装错误

> ID：12669389
> 
> 赞同：1
> 
> 时间：2012-10-01T07:56:16.727
> 
> 标签：installshield, silent-installer

我需要以静默模式安装 setup.exe。我已经使用“setup.exe /r”记录了响应，它在 Windows 目录中创建了 setup.iss。我将该文件复制到存在 setup.exe 文件的工作目录中。然后我给了命令 setup.exe /s，它开始安装但一秒钟后退出。

在同一目录中有一个可用的日志文件，它显示错误代码 = -3。在网上冲浪时，-3 表示 .iss 文件中没有足够的信息。但是我怎样才能找出哪些信息不可用呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-09-25T12:28:58.490

对于 Google 员工：我`-3`在重新安装已安装的软件包时收到了退出代码。如果我卸载并再次安装，退出代码将返回到`0`.

另请注意，InstallShield 静默安装包会在 中创建日志文件`C:\Windows\`，但它似乎不会用成功覆盖记录的错误，例如

1.  安装一次并出现错误，您将获得一个带有非零退出代码的日志文件。
2.  再次安装成功，日志文件中仍然有旧的非零退出代码。文件上的时间没有改变，所以看起来它没有被写入。如果您删除该文件，然后成功地重新运行设置，您将获得一个带有成功退出代码的新日志文件。

您的里程可能会有所不同，但这是我的经验。

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2012-10-08T01:49:23.313

错误代码 = -3，意思是“在 Setup.iss 文件中找不到所需数据。”

# iphone - FBNativeDialogs 中缺少链接、名称、标题和描述

> ID：12669392
> 
> 赞同：4
> 
> 时间：2012-10-01T07:56:27.883
> 
> 标签：iphone, objective-c, facebook-graph-api

我刚刚更新了我的 iPhone 应用程序，支持 Facebook SDK 3.1 的 iOS 原生共享。以前，我们展示了共享弹出窗口，我们可以在其中传递“链接”、“名称”、“标题”、“描述”。但是现在iOS原生分享弹窗中，只有一个文本输入，“initialText”。

[FBNativeDialogs presentShareDialogModallyFrom:self **initialText** :@"Status message" image:nil url:nil handler:nil]

**我们如何才能在 iOS 原生共享中获取之前的格式（带有“链接”、“名称”、“标题”、“描述”）？**

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T06:13:45.517

[我在Karthikeyan](https://stackoverflow.com/users/479092/karthikeyan)的帮助下修复了它

我将在 iOS 6 中只发送链接参数。假设链接是“ [http://example.com/sharingpage](http://example.com/sharingpage) ”

然后在网页中，我们将动态更改以下参数。og:title og:description og:url og:image

在我们通过 iOS 6 原生分享弹窗分享链接后，facebook 本身将从链接中获取以下值并将其显示在我们在 Facebook 墙上分享的帖子中。

# ruby-on-rails - Ubuntu 服务器上的 ROR、Redis、Resque、God 和 Cron - 引导

> ID：12669396
> 
> 赞同：0
> 
> 时间：2012-10-01T07:56:38.507
> 
> 标签：ruby-on-rails, redis, crontab, boot, god

在我的 ruby​​ 应用程序中，我已经完成了几项上帝会照顾的工作。但是，当服务器重新启动时，作业会停止。我想避免这种情况，所以我在我的服务器上制作了这个脚本。它看起来像这样。

**my_app.sh**

```
#!/bin/bash

# god tasks

#

case $1 in

start)

/usr/local/rvm/gems/ruby-1.9.3-p194/bin/god      
/usr/local/rvm/gems/ruby-1.9.3-p194/bin/god start
/usr/local/rvm/gems/ruby-1.9.3-p194/bin/god load /usr/local/Linux/apache2/www/hej.se/ruby/config/resque.god
/usr/local/rvm/gems/ruby-1.9.3-p194/bin/god load /usr/local/Linux/apache2/www/hej.se/ruby/config/resque_schedule.god

;;
esac

exit 0 
```

如果我手动登录并写

> “/etc/init.d/my_app 启动”

它给了我

```
Sending 'start' command

No matching task or group
Sending 'load' command with action 'leave'

The following tasks were affected:
  resque-0
  resque-1
  resque-2
  resque-3
  resque-4
Sending 'load' command with action 'leave'

The following tasks were affected:
  resque_scheduler 
```

一切正常，它做我想做的事，即工作。

我尝试了几种方法来启动这个脚本（Linux 10.4.4 LTS）、rc.local、rc-default，现在我最近的尝试是 crontab。

该脚本必须在我的用户而不是 root 下运行，（如果我在 root 下运行它就找不到 ruby​​ 安装）。

因此，我在我的用户帐户下配置了 crontab：

```
@reboot /etc/init.d/my_app start 
```

可悲的是，这不起作用......我不知道我做错了什么。这可能没有必要。我的意思是，在启动 ruby​​ 应用程序时，您不应该能够自动执行此操作吗？

我在这台服务器上使用乘客，我不知道这是否与它有关？

**下面的解决方案是我对 sh 所做的更改：**

my_app.sh

```
bash -c "source /usr/local/rvm/scripts/rvm && /usr/local/rvm/gems/ruby-1.9.3-p194/bin/god"      
bash -c "source /usr/local/rvm/scripts/rvm && /usr/local/rvm/gems/ruby-1.9.3-p194/bin/god start"
bash -c "source /usr/local/rvm/scripts/rvm && /usr/local/rvm/gems/ruby-1.9.3-p194/bin/god load /usr/local/Linux/apache2/www/hej.se/ruby/config/resque.god"
bash -c "source /usr/local/rvm/scripts/rvm && /usr/local/rvm/gems/ruby-1.9.3-p194/bin/god load /usr/local/Linux/apache2/www/hej.se/ruby/config/resque_schedule.god" 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-01T08:11:08.377

忘记 cronjob。

Centos/Fedora：

```
sudo chmod a+x /etc/init.d/my_app
sudo chkconfig --add my_app
sudo chkconfig my_app on 
```

Ubuntu/Debian：

```
sudo update-rc.d my_app defaults 
```

这两个都将脚本符号链接到`/etc/rc1.d`、`/etc/rc2.d`等，并使脚本可用于在这些运行级别的启动时运行。

# php - 从服务器 URL android 下载图像

> ID：12669397
> 
> 赞同：1
> 
> 时间：2012-10-01T07:56:39.247
> 
> 标签：php, android, eclipse, image

现在，我可以下载我上传到我的服务器的图像。我的上传是使用 php 脚本文件打开图像以将 .jpg 文件存储在服务器中。但我想知道如何将新图像从我的服务器检索到我的 android 应用程序。我的意思是每次用户上传图像时，图像都会替换我服务器文件夹中的旧图像文件（使用相同的文件名）。

当我在我的应用程序中重新加载图像时，即使图像不再存在，它仍然会给我旧图像。后来我发现我需要去 url 并刷新图像，然后新图像将被加载到 android 应用程序中。我想知道如何在每次用户上传新图像时不使用浏览器刷新图像的情况下刷新 url。谢谢！

**我的问题可能不清楚/不好，但我真的需要帮助，而且我是 android 开发新手**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T08:06:06.900

务实的做法：当用户上传文件时，还要制作一个包含当前日期的 txt/xml 文件。

让您的 Android 应用程序轮询 txt/xml 文件。将日期存储在 txt/xml 文件中（在数据库中）。轮询时验证文件中的日期是否比您存储的日期新。如果它较新，请下载您的图像。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T08:09:25.247

在服务器上成功替换后，您必须获取新上传图像的 url 作为响应并用新 url 替换旧 url。

# sql - Nhibernate 条件条件 Where

> ID：12669398
> 
> 赞同：0
> 
> 时间：2012-10-01T07:56:39.907
> 
> 标签：sql, nhibernate, case, criteria, where

我正在研究 NHibernate 标准，我根据输入参数逐渐建立 upp。

我对这些参数的邮政部分有一些问题。由于我们得到了一个 5 位数的邮政编码，因此输入参数是一个 int，但由于我们在数据库中也接受外国邮政编码，因此数据库将其保存为字符串。

我试图在 NHibernate Criteria/Criterion 中复制的是以下 where 子句。

```
WHERE
11182 <=
    (case when this_.SendInformation = 0 AND dbo.IsInteger(this_.Zipcode) = 1 then
        CAST(REPLACE(this_.Zipcode, ' ', '') AS int)
    when this_.SendInformation = 1 AND dbo.IsInteger(this_.WorkZipcode) = 1 then
        CAST(REPLACE(this_.WorkZipcode, ' ', '') AS int)
    when this_.SendInformation = 2 AND dbo.IsInteger(this_.InvoiceZipcode) = 1 then
        CAST(REPLACE(this_.InvoiceZipcode, ' ', '') AS int)
    else
        NULL
    end) 
```

我们所做的是检查成员`this_`联系人`IsInteger(expr)`（将一侧标记为`NULL`

在这种情况下，我们只检查邮政编码是否 >= 输入参数（在 sql 代码中反转，因为参数是第一个），目标是做一个 between（2 个用“AND”语句包裹的子句），>= 或 <=。

**更新**

得到了成功的暗示。

```
Projections.SqlProjection("(CASE when SendInformation = 0 AND dbo.IsInteger(Zipcode) = 1 then CAST(REPLACE(Zipcode, ' ', '') AS int) when SendInformation = 1 AND dbo.IsInteger(WorkZipcode) = 1 then CAST(REPLACE(WorkZipcode, ' ', '') AS int) when SendInformation = 2 AND dbo.IsInteger(InvoiceZipcode) = 1 then CAST(REPLACE(InvoiceZipcode, ' ', '') AS int) else NULL END)"
                , new[] { "SendInformation", "Zipcode", "WorkZipcode", "InvoiceZipcode" },
                new[] { NHibernateUtil.Int32, NHibernateUtil.String, NHibernateUtil.String, NHibernateUtil.String }); 
```

将我的整个子句放在 Projections.SqlProjection 中，但是当我运行我的代码时，我的一些投影被剪切（“AS int）否则 NULL END）”从最后被剪切）并使 sql 损坏。对此有某种限制吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-02T06:59:50.827

昨天开始工作了。

Projections.SqlProjection 有效，但是如果您不将投影命名为列，那么它会如何削减一些 TSQL 代码。

```
(Case
    when x = 1 then 'bla'
    when x = 2 then 'bla_bla'
    else NULL
 END) as foo 
```

当使用最后一部分 ( `as foo`) 并命名整个 case 语法时，它可以工作并且不会削减任何内容。

但是我不知道为什么，但我无法使用标准其他部分的别名。

# python - 如何在 ElementTree 中的 root.iter() 中获取总数

> ID：12669404
> 
> 赞同：0
> 
> 时间：2012-10-01T07:56:56.727
> 
> 标签：python, xml-parsing, elementtree

我是 XML 文件，根有 10 个子子项（相同层次结构），名称为“testCase”

我无法弄清楚以下内容：首先，我正在执行以下操作来获取所有子孩子：

```
for testCase in root.iter('testCase'): 
```

1.  我需要从最后一个子“testCase”中获取一些属性。但我怎么知道它是最后一个'testCase'。有没有办法计算它们？
2.  另外，有没有一种方法可以访问第 n 个子子项而无需通过 iter()？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-01T08:21:17.087

尝试以下示例。请参阅下面的输出。它显示了用作`my.xml`. 该元素表现为一个子元素列表（即它也可以被迭代）。有一些函数和迭代器可以独立于它们的位置获取文档顺序中的所有想要的元素（即，不管它们有多深，谁的孩子等等）。`element.attrib`表现为属性字典。该标准`xml.etree.ElementTree`还支持 XPath 的子集——见最后：

```
import xml.etree.ElementTree as et

tree = et.parse('my.xml')
root = tree.getroot()     # the root element of the tree

et.dump(root)             # here is how the input file looks inside

# Any element behaves as a list of children. This way, the last child
# of the list can be accessed via negative index.
print '-------------------------------------------'
print root[-1]

# Here is the content.
print '-------------------------------------------'
et.dump(root[-1])

# If the elements could be not direct children, you can use findall('tag') to 
# get the list of the elements. Then you access it again as the last element
# of the list
print '-------------------------------------------'
lst = root.findall('testCase')
et.dump(lst[-1])

# The number of the 'testCase' elements is simply the length of the list.
print '-------------------------------------------'
print 'Num. of test cases:', len(lst)

# The elem.iter('tag') works similarly. But if you want the last element,
# you must know when the element is the last one. It means you have to 
# loop through all of them anyway.
print '-------------------------------------------'
last = None  # init
for e in root.iter('testCase'):
    last = e

et.dump(last)

# The attributes of the elements take the form of the dictinary .attrib.
print '-------------------------------------------'
print last.attrib
print last.attrib['name']

# The standard xml.etree.ElementTree supports a subset of XPath. You can use
# it if you are familiar with XPath.
print '-------------------------------------------'
third = root.find('.//testCase[3]')
et.dump(third)

# ... including the last() function. For more complex cases, use lxml
# as pointed out by Emmanuel.
print '-------------------------------------------'
last = root.find('.//testCase[last()]')
et.dump(last) 
```

它在我的控制台上打印以下内容：

```
 c:\tmp\___python\Sunny\so12669404>python a.py
<root>
  <testCase name="a" />
  <testCase name="b" />
  <testCase name="c" />
  <testCase name="d" />
</root>
-------------------------------------------
<Element 'testCase' at 0x231a630>
-------------------------------------------
<testCase name="d" />
-------------------------------------------
<testCase name="d" />
-------------------------------------------
Num. of test cases: 4
-------------------------------------------
<testCase name="d" />
-------------------------------------------
{'name': 'd'}
d
-------------------------------------------
<testCase name="c" />

-------------------------------------------
<testCase name="d" /> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-01T08:23:03.997

关于这种类型的操作，您应该使用[XPath](http://www.w3schools.com/xpath/xpath_intro.asp)，这是浏览 XML 树的一种常见且简单的方法。我不认为标准的 Python ElementTree 支持 XPath，但[lxml](http://lxml.de/index.html)支持（也很常用），这是一个示例：

获取最后一个孩子：

```
>>> text = """<Root>
    <Child name="child1" />
    <Child name="child2" />
    <Child name="child3" />
    <Child name="child4" />
    <Child name="child5" />
</Root>"""
>>> from lxml import etree
>>> root = etree.fromstring(text)
>>> last_tag = root.xpath('/Root/Child[last()]')[0]
>>> last_tag.attrib['name']
'child5' 
```

直接访问元素编号#n：

```
>>> tag3 = root.xpath('/Root/Child[3]')[0]
>>> tag3.attrib['name']
'child3' 
```

# php - 输入的字段名称仍插入数据库中。(PHP)

> ID：12669406
> 
> 赞同：0
> 
> 时间：2012-10-01T07:57:08.973
> 
> 标签：php, validation

我有这个验证码：

```
<?php

$con=mysql_connect("localhost","root","");
mysql_select_db("nnx",$con);

$tbl=mysql_query("SELECT * FROM tablename");
while($row=mysql_fetch_array($tbl))
{

    $name=$_POST['name'];
    $lname=$_POST['lname'];
    $add=$_POST['add'];
    $age=$_POST['age'];
    $contact=$_POST['contact'];
    $email=$_POST['email'];
    $user=$_POST['user'];
    $pass=$_POST['pass'];

   if(($name!="")&&($lname!="")&&($add!="")&&($age!="")&&($contact!="")&& ($email!="")&&($user!="")&&($pass!=""))
   {
      if ($_POST['user']==$row['username'])
      {
            header("location: /register.php?codeErr2=1");

      }

      else
      {
      $value=mysql_query("INSERT INTO tablename(name, lastname, address, age, contact,email, username, password) VALUES ('".$_POST['name']."','".$_POST['lname']."','".$_POST['add']."','".$_POST['age']."','".$_POST['contact']."','".$_POST['email']."','".$_POST['user']."','".$_POST['pass']."')");
  }
   }
   else 
   {
 header("location: /register.php?codeErr=1");
   }
} 
```

此验证适用于我的注册表单，如果所有字段均已填写，它将检查用户输入的用户名是否已在数据库中，否则将收到错误消息。如果用户名已经在数据库中，则会输出一条错误消息，否则将进入下一页并将所有值插入数据库中。问题是，每当我输入数据库中已经存在的用户名时，它仍然接受该用户名。我找不到我的验证码有什么问题。有人可以帮我解决这里可能出现的问题吗？先感谢您。:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T08:00:00.903

您应该检查用户名并在重定向后死亡：

```
$tbl=mysql_query("SELECT * FROM tablename WHERE `username` = '".mysql_real_escape_string($_POST['user'])."'");
$row = mysql_fetch_assoc($tbl);
if ($_POST['user'] == $row['username']){
    header("location: /register.php?codeErr2=1");
    die;
} 
```

您的代码存在 SQL 注入漏洞：

```
$con=mysql_connect("localhost","root","");
mysql_select_db("nnx",$con);

$tbl=mysql_query("SELECT * FROM tablename WHERE `username` = '".mysql_real_escape_string($_POST['user'])."'");
$row = mysql_fetch_assoc($tbl);
if ($_POST['user'] == $row['username']){
    header("location: /register.php?codeErr2=1");
    die;
}

$name= $_POST['name'];
$lname= $_POST['lname'];
$add = $_POST['add'];
$age = $_POST['age'];
$contact = $_POST['contact'];
$email = $_POST['email'];
$user = $_POST['user'];
$pass = $_POST['pass'];

if(($name!="") && ($lname!="") && ($add!="") && ($age!="") && ($contact!="") && ($email!="") && ($user!="") && ($pass!="")){
    $value=mysql_query("INSERT INTO tablename(name, lastname, address, age, contact, email, username, password)
    VALUES 
    ('".mysql_real_escape_string($name)."','".mysql_real_escape_string($lname)."','".mysql_real_escape_string($add)."','".mysql_real_escape_string($age)."',
    '".mysql_real_escape_string($contact)."','".mysql_real_escape_string($email)."','".mysql_real_escape_string($user)."',
    '".mysql_real_escape_string($pass)."')");
} else {
    header("location: /register.php?codeErr=1");
    die;
} 
```

作为旁注，您应该移至 PDO 或 MySQLi，因为`mysql_*`不推荐使用函数。 [这](http://wiki.hashphp.org/PDO_Tutorial_for_MySQL_Developers)是一个很好的教程，这里是一个例子：

```
$db = new PDO('mysql:host=localhost;dbname=nnx;charset=UTF-8', 'root', '', array(PDO::ATTR_EMULATE_PREPARES => false, PDO::ATTR_ERRMODE => PDO::ERRMODE_EXCEPTION))

$stmt = $db->prepare("SELECT * FROM `tablename` WHERE `username` = :username");
$stmt->execute(array(':username' => $_POST['user']));
$row_count = $stmt->rowCount();
if($row_count){
    header("location: /register.php?codeErr2=1");
    die;
}

if(($name!="") && ($lname!="") && ($add!="") && ($age!="") && ($contact!="") && ($email!="") && ($user!="") && ($pass!="")){
    $stmt = $db->prepare("INSERT INTO `tablename`(`name`, `lastname`, `address`, `age`, `contact`, `email`, `username`, `password`) VALUES (:name, :lname, :address, :age, :contact, :email, :username, :password)");
    $stmt->execute(array(':name' => $_POST['name'], ':lname' => $_POST['lname'], ':address' => $_POST['add'], ':age' => $_POST['age'], ':contact' => $_POST['contact'], ':email' => $_POST['email'], ':username' => $_POST['user'], ':password' => $_POST['pass']));
} else {
    header("location: /register.php?codeErr=1");
    die;
} 
```

这样你就可以免费进行 sql 注入了。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T09:06:46.180

```
<?php

$con=mysql_connect("localhost","root","");
mysql_select_db("nnx",$con);

$name=$_POST['name'];
$lname=$_POST['lname'];
$add=$_POST['add'];
$age=$_POST['age'];
$contact=$_POST['contact'];
$email=$_POST['email'];
$user=$_POST['user'];
$pass=$_POST['pass'];

if(($name!="")&&($lname!="")&&($add!="")&&($age!="")&&($contact!="")&& ($email!="")&&($user!="")&&($pass!=""))
{
    $tbl=mysql_query("SELECT * FROM tablename where username = '{$user}'");
    $num_rows = mysql_num_rows($tbl);
    if($num_rows > 0){
        header("location: /register.php?codeErr2=1");
    } else {
        while($row=mysql_fetch_array($tbl))
        {
            $value=mysql_query("INSERT INTO tablename(name, lastname, address, age, contact,email, username, password) VALUES ('".$_POST['name']."','".$_POST['lname']."','".$_POST['add']."','".$_POST['age']."','".$_POST['contact']."','".$_POST['email']."','".$_POST['user']."','".$_POST['pass']."')");
        }
    }
} else {
    header("location: /register.php?codeErr=1");
}

?> 
```

# asp.net - 预计不会引发的事件正在引发

> ID：12669408
> 
> 赞同：1
> 
> 时间：2012-10-01T07:57:18.040
> 
> 标签：asp.net, unit-testing, events, event-handling, nunit

我有一个**事件**和一个**提升方法**如下：

```
public class Events {

    public event EventHandler<CustomEventArgs> Succeed;

    public virtual void OnSucceed(object sender, params object[] data)
    {
        CustomEventArgs args = new CustomEventArgs(data);

        EventHandler<CustomEventArgs> _succeed = Succeed;

        if (_succeed != null)
        {
            _succeed(sender, args);
        }

    }} 
```

我为**OnSucceed方法创建了一个****单元测试**（使用[FluentAssertions](http://fluentassertions.codeplex.com/)）：

 **```
 [Test]
    public void SucceedShouldNotBeRaisedTest()
    {
        Events events = new Events();

        events.MonitorEvents();

        events.OnSucceed(this,"somedata");

        events.ShouldNotRaise("Succeed");
    } 
```

因为该事件没有订阅者，所以我希望它不会引发成功事件

但测试失败，因为**引发**了成功事件。这有什么问题？！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T08:28:53.327

当您调用 时`events.MonitorEvents();`，*FluentAssertions 会*自动订阅公共事件以检测何时引发事件。

您的测试失败，因为您的条件将始终评估为`true`: `if (_succeed != null)`。测试时，事件总是与`null`

现在我想向您推荐 Jon Skeet 提出的以下方法：

```
public event EventHandler<CustomEventArgs> Succeed = delegate { } ; 
```

使用上述事件声明，您的事件将永远不会`null`（不能从其类之外分配事件）

注意：您*可以**在其类中将事件背后的委托分配为 null，***如下所示：

```
this.Succeed = null; 
```

上面的语句是**将事件背后的委托分配给 null，而不是事件本身**。通常你不需要做这样的事情，但如果你这样做，你必须像这样重新初始化事件：

```
this.Succeed = null;
this.Succeed = delegate { }; 
```

如果您遵循这些建议，您的事件将永远不会为空，并且您不再需要调用`if(this.MyEvent != null)`条件来引发您的事件。（请注意，这种情况完全是技术性的，与域本身无关。）

现在您已经删除了该*技术条件*，您**实际上可以专注于域规则**来决定何时引发事件。

最后一步是删除：`if (_succeed != null)`并添加一个条件，指示是否应该根据您当前的域引发事件

```
if(shouldRaiseEvent)
{
    EventHandler<CustomEventArgs> _succeed = Succeed;

    _succeed(...);
} 
```

对于您的测试，您只需要使用所需条件配置您的测试对象，以便引发或不引发您的事件。

完整样本：

```
public class Events {

public event EventHandler<CustomEventArgs> Succeed = delegate { };

public virtual void OnSucceed(object sender, params object[] data)
{
    if (/*[optional] here your domain condition that will indicate if the event should be raised*/)
    {
        // this is a best practice to deal with multi-threading situations
        var _succeed = this.Succeed;
        var args = new CustomEventArgs(data);

        _succeed(sender, args);
    }

}
} 
```**

# xml - 使用 XSLT 对 XML 元素进行排序并为一组元素排序数据

> ID：12669409
> 
> 赞同：0
> 
> 时间：2012-10-01T07:57:19.903
> 
> 标签：xml, xslt

我有以下示例 xml 数据。我需要在多个级别对元素和数据进行排序。1\. 排序必须在根级别的下方进行，例如2\. 必须对每个或字段名称`<InventoryRecord><SalesInRecord><SellOutRecord>` 中的所有元素进行排序 3\. 必须对每个记录集中的字段中的数据进行排序，无论记录集类型。这里重要的是，对于某些记录元素可能不可用。在这种情况下，排序应该只发生在值上。`<InventoryRecord>``<SalesInRecord>``<SellOutRecord>``<LOCATION_ID><LOCATION_ID_DB><LOCATION_NAME>``<LOCATION_ID>``<LOCATION_ID_DB><LOCATION_NAME>`

```
<root>
<SellOutRecord>
    <FILE_TYPE>STOSO</FILE_TYPE>
    <RECORD_TYPE>VALID</RECORD_TYPE>
    <RECORD_NO>1</RECORD_NO>
    <LOCATION_ID>2-3LG-2456</LOCATION_ID>
    <LOCATION_NAME>XYZ XYZ</LOCATION_NAME>
    <LOCATION_ID_DB>2-3LG-2456</LOCATION_ID_DB>
</SellOutRecord>
<SellOutRecord>
    <FILE_TYPE>STOSO</FILE_TYPE>
    <RECORD_TYPE>ERROR</RECORD_TYPE>
    <RECORD_NO>2</RECORD_NO>
    <LOCATION_NAME>XYZ ABC</LOCATION_NAME>
    <LOCATION_ID_DB>-1</LOCATION_ID_DB>
</SellOutRecord>
<SellOutRecord>
    <FILE_TYPE>STOSO</FILE_TYPE>
    <RECORD_TYPE>WARNING</RECORD_TYPE>
    <RECORD_NO>3</RECORD_NO>
    <LOCATION_ID>2-3LG-2450</LOCATION_ID>
    <LOCATION_NAME>XYZ XYZ</LOCATION_NAME>
    <LOCATION_ID_DB>-1</LOCATION_ID_DB>
</SellOutRecord>
<SellOutRecord>
    <FILE_TYPE>STOSO</FILE_TYPE>
    <RECORD_TYPE>ERROR</RECORD_TYPE>
    <RECORD_NO>4</RECORD_NO>
    <LOCATION_ID>2-3LG-2456</LOCATION_ID>
    <LOCATION_NAME>XYZ XYZ</LOCATION_NAME>
    <LOCATION_ID_DB>2-3LG-2456</LOCATION_ID_DB>
</SellOutRecord>
<SellOutRecord>
    <FILE_TYPE>STOSO</FILE_TYPE>
    <RECORD_TYPE>ERROR</RECORD_TYPE>
    <RECORD_NO>6</RECORD_NO>
    <LOCATION_NAME>XYZ ABC</LOCATION_NAME>
    <LOCATION_ID_DB>-1</LOCATION_ID_DB>
</SellOutRecord>
<InventoryRecord>
    <FILE_TYPE>STOIV</FILE_TYPE>
    <RECORD_TYPE>ERROR</RECORD_TYPE>
    <RECORD_NO>2</RECORD_NO>
    <LOCATION_ID>2-3LG-2450</LOCATION_ID>
    <LOCATION_NAME>XYZ XYZ</LOCATION_NAME>
    <LOCATION_ID_DB>-1</LOCATION_ID_DB>
</InventoryRecord>
<InventoryRecord>
    <FILE_TYPE>STOIV</FILE_TYPE>
    <RECORD_TYPE>VALID</RECORD_TYPE>
    <RECORD_NO>4</RECORD_NO>
    <LOCATION_ID>2-3LG-2456</LOCATION_ID>
    <LOCATION_NAME>XYZ XYZ</LOCATION_NAME>
    <LOCATION_ID_DB>2-3LG-2456</LOCATION_ID_DB>
</InventoryRecord>
<InventoryRecord>
    <FILE_TYPE>STOIV</FILE_TYPE>
    <RECORD_TYPE>VALID</RECORD_TYPE>
    <RECORD_NO>5</RECORD_NO>
    <LOCATION_NAME>XYZ ABC</LOCATION_NAME>>
    <LOCATION_ID_DB>-1</LOCATION_ID_DB>
</InventoryRecord>
<InventoryRecord>
    <FILE_TYPE>STOIV</FILE_TYPE>
    <RECORD_TYPE>ERROR</RECORD_TYPE>
    <RECORD_NO>8</RECORD_NO>
    <LOCATION_ID>2-3LG-2456</LOCATION_ID>
    <LOCATION_NAME>XYZ XYZ</LOCATION_NAME>
    <LOCATION_ID_DB>2-3LG-2456</LOCATION_ID_DB>
</InventoryRecord>
<SalesInRecord>
    <FILE_TYPE>STOSI</FILE_TYPE>
    <RECORD_TYPE>VALID</RECORD_TYPE>
    <RECORD_NO>3</RECORD_NO>
    <LOCATION_ID>2-3LG-2456</LOCATION_ID>
    <LOCATION_NAME>XYZ XYZ</LOCATION_NAME>
    <LOCATION_ID_DB>2-3LG-2456</LOCATION_ID_DB>
</SalesInRecord>
<SalesInRecord>
    <FILE_TYPE>STOSI</FILE_TYPE>
    <RECORD_TYPE>WARNING</RECORD_TYPE>
    <RECORD_NO>3</RECORD_NO>
    <LOCATION_ID>2-3LG-2456</LOCATION_ID>
    <LOCATION_NAME>XYZ XYZ</LOCATION_NAME>
    <LOCATION_ID_DB>2-3LG-2456</LOCATION_ID_DB>
</SalesInRecord>
<SalesInRecord>
    <FILE_TYPE>STOSI</FILE_TYPE>
    <RECORD_TYPE>ERROR</RECORD_TYPE>
    <RECORD_NO>4</RECORD_NO>
    <LOCATION_ID>2-3LG-2450</LOCATION_ID>
    <LOCATION_NAME>XYZ XYZ</LOCATION_NAME>
    <LOCATION_ID_DB>-1</LOCATION_ID_DB>
</SalesInRecord>
<SalesInRecord>
    <FILE_TYPE>STOSI</FILE_TYPE>
    <RECORD_TYPE>ERROR</RECORD_TYPE>
    <RECORD_NO>7</RECORD_NO>
    <LOCATION_NAME>XYZ ABC</LOCATION_NAME>
    <LOCATION_ID_DB>-1</LOCATION_ID_DB>
</SalesInRecord>
</root> 
```

预期的输出将是。

```
<root>
<InventoryRecord>
    <FILE_TYPE>STOIV</FILE_TYPE>
    <LOCATION_ID_DB>-1</LOCATION_ID_DB>
    <LOCATION_NAME>XYZ ABC</LOCATION_NAME>
    <RECORD_NO>5</RECORD_NO>
    <RECORD_TYPE>VALID</RECORD_TYPE>
</InventoryRecord>
<InventoryRecord>
    <FILE_TYPE>STOIV</FILE_TYPE>
    <LOCATION_ID>2-3LG-2450</LOCATION_ID>
    <LOCATION_ID_DB>-1</LOCATION_ID_DB>
    <LOCATION_NAME>XYZ XYZ</LOCATION_NAME>
    <RECORD_NO>2</RECORD_NO>
    <RECORD_TYPE>ERROR</RECORD_TYPE>
</InventoryRecord>
<InventoryRecord>
    <FILE_TYPE>STOIV</FILE_TYPE>
    <LOCATION_ID>2-3LG-2456</LOCATION_ID>
    <LOCATION_ID_DB>2-3LG-2456</LOCATION_ID_DB>
    <LOCATION_NAME>XYZ XYZ</LOCATION_NAME>
    <RECORD_NO>4</RECORD_NO>
    <RECORD_TYPE>VALID</RECORD_TYPE>
</InventoryRecord>
<InventoryRecord>
    <FILE_TYPE>STOIV</FILE_TYPE>
    <LOCATION_ID>2-3LG-2456</LOCATION_ID>
    <LOCATION_ID_DB>2-3LG-2456</LOCATION_ID_DB>
    <LOCATION_NAME>XYZ XYZ</LOCATION_NAME>
    <RECORD_NO>8</RECORD_NO>
    <RECORD_TYPE>ERROR</RECORD_TYPE>
</InventoryRecord>
<SalesInRecord>
    <FILE_TYPE>STOSI</FILE_TYPE>
    <LOCATION_ID_DB>-1</LOCATION_ID_DB>
    <LOCATION_NAME>XYZ ABC</LOCATION_NAME>
    <RECORD_NO>7</RECORD_NO>
    <RECORD_TYPE>ERROR</RECORD_TYPE>
</SalesInRecord>
<SalesInRecord>
    <FILE_TYPE>STOSI</FILE_TYPE>
    <LOCATION_ID>2-3LG-2450</LOCATION_ID>
    <LOCATION_ID_DB>-1</LOCATION_ID_DB>
    <LOCATION_NAME>XYZ XYZ</LOCATION_NAME>
    <RECORD_NO>4</RECORD_NO>
    <RECORD_TYPE>ERROR</RECORD_TYPE>
</SalesInRecord>
<SalesInRecord>
    <FILE_TYPE>STOSI</FILE_TYPE>
    <LOCATION_ID>2-3LG-2456</LOCATION_ID>
    <LOCATION_ID_DB>2-3LG-2456</LOCATION_ID_DB>
    <LOCATION_NAME>XYZ XYZ</LOCATION_NAME>
    <RECORD_NO>3</RECORD_NO>
    <RECORD_TYPE>VALID</RECORD_TYPE>
</SalesInRecord>
<SalesInRecord>
    <FILE_TYPE>STOSI</FILE_TYPE>
    <LOCATION_ID>2-3LG-2456</LOCATION_ID>
    <LOCATION_ID_DB>2-3LG-2456</LOCATION_ID_DB>
    <LOCATION_NAME>XYZ XYZ</LOCATION_NAME>
    <RECORD_NO>3</RECORD_NO>
    <RECORD_TYPE>WARNING</RECORD_TYPE>
</SalesInRecord>
<SellOutRecord>
    <FILE_TYPE>STOSO</FILE_TYPE>
    <LOCATION_ID_DB>-1</LOCATION_ID_DB>
    <LOCATION_NAME>XYZ ABC</LOCATION_NAME>
    <RECORD_NO>2</RECORD_NO>
    <RECORD_TYPE>ERROR</RECORD_TYPE>
</SellOutRecord>
<SellOutRecord>
    <FILE_TYPE>STOSO</FILE_TYPE>
    <LOCATION_ID_DB>-1</LOCATION_ID_DB>
    <LOCATION_NAME>XYZ ABC</LOCATION_NAME>
    <RECORD_NO>6</RECORD_NO>
    <RECORD_TYPE>ERROR</RECORD_TYPE>
</SellOutRecord>
<SellOutRecord>
    <FILE_TYPE>STOSO</FILE_TYPE>
    <LOCATION_ID>2-3LG-2450</LOCATION_ID>
    <LOCATION_ID_DB>-1</LOCATION_ID_DB>
    <LOCATION_NAME>XYZ XYZ</LOCATION_NAME>
    <RECORD_NO>3</RECORD_NO>
    <RECORD_TYPE>WARNING</RECORD_TYPE>
</SellOutRecord>
<SellOutRecord>
    <FILE_TYPE>STOSO</FILE_TYPE>
    <LOCATION_ID>2-3LG-2456</LOCATION_ID>
    <LOCATION_ID_DB>2-3LG-2456</LOCATION_ID_DB>
    <LOCATION_NAME>XYZ XYZ</LOCATION_NAME>
    <RECORD_NO>1</RECORD_NO>
    <RECORD_TYPE>VALID</RECORD_TYPE>
</SellOutRecord>
<SellOutRecord>
    <FILE_TYPE>STOSO</FILE_TYPE>
    <LOCATION_ID>2-3LG-2456</LOCATION_ID>
    <LOCATION_ID_DB>2-3LG-2456</LOCATION_ID_DB>
    <LOCATION_NAME>XYZ XYZ</LOCATION_NAME>
    <RECORD_NO>4</RECORD_NO>
    <RECORD_TYPE>ERROR</RECORD_TYPE>
</SellOutRecord>
</root> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T09:31:42.080

做

```
<xsl:stylesheet
  xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
  version="1.0">

<xsl:strip-space elements="*"/>
<xsl:output indent="yes"/>

<xsl:template match="@* | node()">
  <xsl:copy>
    <xsl:apply-templates select="@* | node()"/>
  </xsl:copy>
</xsl:template>

<xsl:template match="root">
  <xsl:copy>
    <xsl:apply-templates select="*">
      <xsl:sort select="local-name()"/>
      <xsl:sort select="LOCATION_ID"/>
      <xsl:sort select="LOCATION_ID_DB"/>
      <xsl:sort select="LOCATION_NAME"/>
    </xsl:apply-templates>
  </xsl:copy>
</xsl:template>

<xsl:template match="SalesInRecord | SellOutRecord | InventoryRecord">
  <xsl:copy>
    <xsl:apply-templates select="*">
      <xsl:sort select="local-name()"/>
    </xsl:apply-templates>
  </xsl:copy>
</xsl:template>

</xsl:stylesheet> 
```

做你想做的事？我认为它会为您发布的输入生成您发布的输出。

# java - 将文件上传到服务器端会在控制台上生成错误-“拒绝访问”

> ID：12669412
> 
> 赞同：0
> 
> 时间：2012-10-01T07:57:30.627
> 
> 标签：java, apache, jakarta-ee

我的服务器端是一个 JSP 应用程序，它托管在 Appache Tomcat 7（Eclipse 中的插件）上。我的客户端是：-

```
if(("GET").equalsIgnoreCase(request.getMethod())&&("Create Reimbursement").equalsIgnoreCase(request.getParameter("Create Reimbursement"))){ 
//crresult = lmktweb.createReimbursement(Integer.parseInt(request.getParameter("ID")), request.getParameter("EmpdID"), request.getParameter("DateCreated"), request.getParameter("Amount"),request.getParameter("Vendor"),request.getParameter("picpath"));
HttpClient httpclient = new DefaultHttpClient();
HttpPost httppost = new HttpPost("http://192.168.80.125:8080/UploadFileServerSide/UploadHandler.jsp");
MultipartEntity entity = new MultipartEntity();
System.out.println(request.getParameter("fname"));
if(request.getParameter("fname")!=""){
    File file = new File(request.getParameter("fname"));
    entity.addPart("data", new FileBody(file));
    httppost.setEntity(entity);    
    HttpResponse resp = httpclient.execute(httppost);
} 
```

我的服务器端是： -

```
try {
                        String itemName = item.getName();
                        String fpath = "";
                        //item.
                        File root=File.listRoots()[0];
                        String extPath;
                        if(crdate!=""){
                            extPath = rei.HandlePathWithDate(crdate,getServletContext().getRealPath("images"));
                            fpath = extPath+"\\"+ppath;
                            fpath = extPath.replaceAll("/", "\\");
                        }   
                        else{

                            extPath= getServletContext().getRealPath("/");
                            fpath = extPath.concat("\\"+itemName);                              
                            fpath = extPath.replaceAll("/", "\\");                          

                        }
                        System.out.println("Saving as: " +fpath);
                        File f = new File(fpath);

                        f.setWritable(true);
                        f.setReadable(true);
                        item.write(f);

                    } catch (Exception e) {
                        e.printStackTrace();
                        response.setHeader("Error", e.getMessage());                            
                    } 
```

但是在给定路径上写入文件时会产生以下错误：-

> 另存为：D:\Z-Main\Projects\Android Projects.metadata.plugins\org.eclipse.wst.server.core\tmp1\wtpwebapps\UploadFileServerSide\ java.io.FileNotFoundException: D:\Z-Main\Projects\ Android Projects.metadata.plugins\org.eclipse.wst.server.core\tmp1\wtpwebapps\UploadFileServerSide（访问被拒绝）在 java.io.FileOutputStream.open（本机方法）在 java.io.FileOutputStream.（未知来源）在 java.io.FileOutputStream.(Unknown Source) 在 org.apache.commons.fileupload.disk.DiskFileItem.write(DiskFileItem.java:426) 在 org.apache.jsp.UploadHandler_jsp._jspService(UploadHandler_jsp.java:154) 在org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70) at javax.servlet.http.HttpServlet.service(HttpServlet.java:722) at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.爪哇：第 432 章(HttpServlet.java:722) 在 org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305) 在 org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210) 在 org.apache。 catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:225) at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:169) at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java: 472) 在 org.apache.catalina.valves.ErrorReportValve 的 org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:168)。在 org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118) 的 org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118) 的调用（ErrorReportValve.java:98）。 .catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407) at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:999) at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java :565) at org.apache.tomcat.util.net.AprEndpoint$SocketProcessor.run(AprEndpoint.java:1812) at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source) at java.util.concurrent.ThreadPoolExecutor $Worker.run(Unknown Source) at java.lang.Thread.run(Unknown Source)AccessLogValve.invoke(AccessLogValve.java:927) at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118) at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407) at org .apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:999) 在 org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:565) 在 org.apache.tomcat.util.net.AprEndpoint$SocketProcessor .run(AprEndpoint.java:1812) at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source) at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) at java.lang.Thread.run(来源不明）AccessLogValve.invoke(AccessLogValve.java:927) at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118) at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407) at org .apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:999) 在 org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:565) 在 org.apache.tomcat.util.net.AprEndpoint$SocketProcessor .run(AprEndpoint.java:1812) at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source) at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) at java.lang.Thread.run(来源不明）118) 在 org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407) 在 org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:999) 在 org.apache.coyote.AbstractProtocol$AbstractConnectionHandler .process(AbstractProtocol.java:565) at org.apache.tomcat.util.net.AprEndpoint$SocketProcessor.run(AprEndpoint.java:1812) at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source) at java .util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) at java.lang.Thread.run(Unknown Source)118) 在 org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407) 在 org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:999) 在 org.apache.coyote.AbstractProtocol$AbstractConnectionHandler .process(AbstractProtocol.java:565) at org.apache.tomcat.util.net.AprEndpoint$SocketProcessor.run(AprEndpoint.java:1812) at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source) at java .util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) at java.lang.Thread.run(Unknown Source)process(AbstractProtocol.java:565) at org.apache.tomcat.util.net.AprEndpoint$SocketProcessor.run(AprEndpoint.java:1812) at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source) at java。 util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) at java.lang.Thread.run(Unknown Source)process(AbstractProtocol.java:565) at org.apache.tomcat.util.net.AprEndpoint$SocketProcessor.run(AprEndpoint.java:1812) at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source) at java。 util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) at java.lang.Thread.run(Unknown Source)

哪里有问题。我目前正在使用 Tomcat Eclipse 插件，控制台上出现此错误。我在 android 应用程序中调用相同的代码，它工作正常。请提供有用的详细信息。我试图编辑位于 eclipse 服务器插件文件夹中的 catalina.policy 文件并添加了以下行：-

```
grant codeBase " file:${catalina.base}/webapps/UploadFileServerSide/-" {
  ermission java.io.FilePermission "${tomcat.home}/-","read,write"; }; 
```

并从 Eclipse 重新启动服务器，期待不同的结果，但到目前为止还没有运气。我在哪里迷路了？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-02T13:04:37.553

当我使用 Servlet 而不是 JSP 并在提交页面时使用 POST 方法时，问题得到了解决。奇怪的！！！！因为其余的东西几乎是一样的。仍然困惑为什么会发生，因为我认为 Servlet 在服务器上具有与 JSP 相同级别的访问权限。可能是我的假设是错误的！

# build - 在linux上构建ghostscript时出错

> ID：12669415
> 
> 赞同：1
> 
> 时间：2012-10-01T07:57:36.497
> 
> 标签：build, installation, x11, ghostscript, configure

我正在尝试在我托管的 linux 机器上构建 Ghostscript (v 9.06)，以便我可以操作 PDF 文件。一切都很顺利`./configure`and `make`，但后来我收到以下错误：

```
../gs/base/x_.h:135:29: error: X11/Intrinsic.h: No such file or directory 
```

之后我得到了一个带有有趣`â`字符的错误列表，如下所示：

```
../gs/base/gdevx.c:1138: error: âgx_device_Xâ has no member named âtextâ 
```

这里有什么问题，解决方法是什么？我认为这是一个符号链接问题，所以我检查了我的 X11 目录的位置并运行了以下命令：

```
 ln -s X11 /usr/include/X11 
```

我又跑`make`了，但没有什么不同。有任何想法吗？

## 编辑

这是错误的前几行......其余的几乎都是一样的：

```
../gs/base/x_.h:135:29: error: X11/Intrinsic.h: No such file or directory
../gs/base/x_.h:136:30: error: X11/StringDefs.h: No such file or directory
../gs/base/x_.h:137:25: error: X11/Shell.h: No such file or directory
In file included from ../gs/base/gdevx.c:33:
../gs/base/gdevx.h:30: error: expected â=â, â,â, â;â, âasmâ or â__attribute__â before âgdev_x_resourcesâ
../gs/base/gdevx.h:32: error: expected â=â, â,â, â;â, âasmâ or â__attribute__â before âgdev_x_fallback_resourcesâ
../gs/base/gdevx.h:119: error: expected specifier-qualifier-list before âPixelâ
../gs/base/gdevx.c:217: warning: excess elements in struct initializer
../gs/base/gdevx.c:217: warning: (near initialization for âgs_x11_deviceâ)
../gs/base/gdevx.c:217: warning: excess elements in struct initializer
../gs/base/gdevx.c:217: warning: (near initialization for âgs_x11_deviceâ)
../gs/base/gdevx.c:217: error: extra brace group at end of initializer
../gs/base/gdevx.c:217: error: (near initialization for âgs_x11_deviceâ) 
```

最后几行是：

```
make[2]: *** [obj/gdevx.o] Error 1
make[2]: Leaving directory `/root/ghostpdl-9.06/main'
make[1]: *** [pdl-product] Error 2
make[1]: Leaving directory `/root/ghostpdl-9.06/main'
make: *** [pcl] Error 2 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-01T11:26:37.220

原来我只是没有正确安装 X 包。

我跑了

```
yum provides \*/Intrinsic.h
yum provides \*/StringDefs.h
yum provides \*/Shell.h 
```

找出从哪里得到这些文件，并得到

```
libXt-devel-1.0.7-1.el6.x86_64 : X.Org X11 
```

对于他们每个人。所以我安装了它：

```
yum install libXt-devel 
```

然后回到我的 ghostscript 目录，跑了`make`，`./configure`又跑`make`了，瞧。它成功了。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2014-11-22T09:05:36.947

对于 Ubuntu 用户

> sudo apt-get install libxt-dev libxaw7-dev

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-01T11:08:45.567

您不需要 X11 来构建 Ghostscript，但您需要告诉它不要这样做。如果您运行`./configure --without-x`，则 GS 构建将不包含任何依赖于 X 的内容（例如显示设备），并且不会查找 X 库。

只要您不想使用应该可以工作的 X11 或 X11a 设备。

# android - 在Android中禁用链接周围的橙色突出显示

> ID：12669416
> 
> 赞同：8
> 
> 时间：2012-10-01T07:57:39.350
> 
> 标签：android

我已经尝试了一百万次来删除 Android webview 上链接周围令人讨厌的橙色突出显示框，但它们似乎并没有消失。不，这不起作用：

```
* {
    -webkit-tap-highlight-color:rgba(0,0,0,0) !important;
} 
```

我真的很困惑，还有其他想法吗？我正在 Galaxy S3 上进行测试。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-09T20:36:59.560

尝试

```
* {
  -webkit-tap-highlight-color: rgba(0,0,0,0);
  -webkit-user-modify: read-write-plaintext-only;
} 
```

从[这里](https://stackoverflow.com/a/13255856/341772)。原来真正棘手的是第二个属性，用户修改。我认为这是自 4.0.4 以来的要求，这恰好会影响 Galaxy S3 等。

您可以缩小选择器的范围，但它必须影响链接的*父*级，例如 a `<p>`or `<li>`，而不是链接本身。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-12-18T19:15:26.187

此外，在较新的 Amazon Fire 平板电脑和 FireTV 设备上，您可能会看到一个“对焦环”，这可能会干扰您的应用程序管理其自身焦点的愿望。通常，这仅在快速触摸屏幕后出现，或者在 FireTV 设备的情况下，按住箭头键之一。

这会导致焦点元素周围出现一个薄的、通常为橙色的“环”——或者至少是那些设备中的 Android 代码“认为”具有焦点的元素——就像通过按 Tab 键移动焦点一样浏览器窗口。

您可以通过将其插入 CSS 代码中的适当位置来消除对 Amazon 设备的关注：

> *：焦点{
> 大纲：无；}

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-10-10T16:09:14.303

在 Galaxy 设备上，“-webkit-tap-highlight-color”仅适用于

```
-webkit-tap-highlight-color:transparent; 
```

然后更改颜色，在所需元素上添加以下样式

```
a:active,
a:hover,
a:focus {
    background: rgba(255, 255, 255, .5);
} 
```

# c# - 从对象中获取特定类型

> ID：12669420
> 
> 赞同：-4
> 
> 时间：2012-10-01T07:58:09.090
> 
> 标签：c#

如何获取对象中存在的所有日期时间类型？

EG 货件对象包含有关货件的所有详细信息，例如托运人名称、收货人名称等。它还包含许多日期时间字段，例如收货日期、运输日期、交货日期等。

我怎样才能得到货件对象的所有日期字段？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T08:11:41.563

那么最简单的方法是直接访问属性，例如

```
var receivedDate = shipment.ReceivedDate;
var transportedDate = shipment.DeliveryDate;
... 
```

另一种方法是让您的`Shipment`对象为您返回列表，例如

```
public Dictionary<string, DateTime> Dates
{
    get
    {
        return new Dictionary<string, DateTime>()
        {
            new KeyValuePair<string, DateTime>("ReceivedDate", ReceivedDate),
            new KeyValuePair<string, DateTime>("DeliveryDate", DeliveryDate),
            ...
        }
    }
}

...
foreach (var d in shipment.Dates)
{
    Console.WriteLine(d.Key, d.Value);
} 
```

或者最后，使用反射来迭代属性：

```
public Dictionary<string, DateTime> Dates
{
    get
    {
        return from p in this.GetType().GetProperties()
               where p.PropertyType == typeof(DateTime)
               select new KeyValuePair<string, DateTime>(p.Name, (DateTime)p.GetValue(this, null));
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T08:03:56.433

您可以使用反射。

```
 Type myClassType = typeof(MyClass); // or object.GetType()
    var dateTimeProperties = from property in myClassType.GetProperties()
                             where property.PropertyType == typeof(DateTime)
                             select property; 
```

有关 .net 中的反射的更多信息
[http://msdn.microsoft.com/en-us/library/system.reflection.propertyinfo.aspx](http://msdn.microsoft.com/en-us/library/system.reflection.propertyinfo.aspx)
[http://msdn.microsoft.com/en-us/library/system.reflection .fieldinfo.aspx](http://msdn.microsoft.com/en-us/library/system.reflection.fieldinfo.aspx)

# php - 使用 PHP 从 MySql DB 中预选多选

> ID：12669422
> 
> 赞同：0
> 
> 时间：2012-10-01T07:58:17.937
> 
> 标签：php, mysql, jquery-ui

**我有 2 个 Mysql 表（tbl_subjects 和 tbl_courses）。**

```
tbl_subjects
id | subject_name |
1  | english      |
2  | maths        |
3  | Physics      |

tbl_courses
id | my_subjects |
1  | 1,3         | 
```

**多选列表的 html 和 php 代码**

```
$sql_subjects = mysql_fetch_array(mysql_query("SELECT * FROM tbl_subjects WHERE id IN ( 1,3 )"));

<select name="subjects[]" multiple="multiple" size="7">
<?php
$sql = mysql_query("SELECT * FROM tbl_subjects");
while($row = mysql_fetch_array($sql ))
{
$id = $row['id'];
$subject_name = $row['subject_name '];
?>
<option value="<?php echo $id; ?>" <?php if($sql_subjects['id'] == $id) echo 'selected="selected"'; ?>> <?php echo $subject_name; ?></option>
<?php } ?>
</select> 
```

正如您在上面的代码中看到的，应该有**2 个预先选择**的值，但我只得到第一个的结果。您也可以在图像中看到![在此处输入图像描述](../Images/37f7877c5d7974ada25ca4ad7f878080.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-01T08:18:18.167

```
$sql_subjects=array();    
while($row = mysql_fetch_array(mysql_query("SELECT * FROM tbl_subjects WHERE id IN ( 1,3 )"))){
    $sql_subjects[] = $row['id'];
} 
```

在你的 html 部分

```
<option value="<?php echo $id; ?>" <?php if(in_array($id,$sql_subjects) echo 'selected="selected"'; ?>> <?php echo $subject_name; ?></option> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-01T08:28:54.683

这是因为`mysql_fetch_array()`只会生成第一行。我们需要使用循环来检索所有行。

相反，您知道 id 然后为什么您再次从数据库中检索使用 in_array() 来检查，

```
<select name="subjects[]" multiple="multiple" size="7">
<?php
    $ids = array(1,2);
    $sql = mysql_query("SELECT * FROM tbl_subjects");
    while($row = mysql_fetch_array($sql)){
        $id = $row['id'];
        $subject_name = $row['subject_name'];
    ?>
    <option value="<?php echo $id; ?>" <?php if(in_array($id,$ids)) echo 'selected="selected"'; ?>> <?php echo $subject_name; ?></option>
    <?php
    } 
?>
</select> 
```

# java - 动态添加的视图不会重置？

> ID：12669425
> 
> 赞同：0
> 
> 时间：2012-10-01T07:58:20.420
> 
> 标签：java, android, android-linearlayout

我有一个 LinearLayout，我在其中动态添加了一些 CheckBox，它们在第一次调用时添加得非常好，当我用不同的值调用相同的方法时，它们不会出现在 LinearLayout 中，旧值不会被新值替换价值观。

我检查了 LogCat 中的值，它们看起来很好，无论我传递什么都显示在 LogCat 中，但没有出现在 LinearLayout 中。

这是我添加视图的方法：

```
private void setOptions(int questionID2) {
        ArrayList<String> options = pustakDB.getOptions(questionID2);
        Log.e("optionsInAct", options.toString() + " size " + options.size());

        OptionView = new LinearLayout(this);
        OptionView.setOrientation(LinearLayout.VERTICAL);
        RelativeLayout.LayoutParams p = new RelativeLayout.LayoutParams(
                RelativeLayout.LayoutParams.WRAP_CONTENT,
                RelativeLayout.LayoutParams.WRAP_CONTENT);
        p.addRule(RelativeLayout.BELOW, img.getId());
        p.addRule(RelativeLayout.RIGHT_OF, questionNumber.getId());
        rel.addView(OptionView, p);

        int i = 0;
        while (i < options.size()) {
            CheckBox c = new CheckBox(this);
            c.setText(options.get(i));
            c.setId(i);
            OptionView.addView(c);
            i++;
        }
    } 
```

编辑：这里的“rel”是RelativeLayout。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T08:25:25.573

```
 // put this somewhere else
    OptionView = new LinearLayout(this);
    OptionView.setOrientation(LinearLayout.VERTICAL);
    RelativeLayout.LayoutParams p = new RelativeLayout.LayoutParams(
            RelativeLayout.LayoutParams.WRAP_CONTENT,
            RelativeLayout.LayoutParams.WRAP_CONTENT);
    p.addRule(RelativeLayout.BELOW, img.getId());
    p.addRule(RelativeLayout.RIGHT_OF, questionNumber.getId());
    rel.addView(OptionView, p);

private void setOptions(int questionID2) {
    ArrayList<String> options = pustakDB.getOptions(questionID2);
    Log.e("optionsInAct", options.toString() + " size " + options.size());

    // this will remove all views from OptionView
    OptionView.removeAllViews();

    int i = 0;
    while (i < options.size()) {
        CheckBox c = new CheckBox(this);
        c.setText(options.get(i));
        c.setId(i);
        OptionView.addView(c);
        i++;
    }
} 
```

试试这个，看看它是否有效。

# mysql - MySQL 查询从 5 个表中选择连接

> ID：12669430
> 
> 赞同：0
> 
> 时间：2012-10-01T07:58:43.590
> 
> 标签：mysql, database, join, left-join

我有 5 张桌子：

```
tag: {tagID,tagDetails}
user: {userID,userDetails,u_status=[active or banned]}
subscribe: {tagID,userID}
item: {itemID, itemDetails,i_status=[active or banned]}
item_tag: {tagID,itemID} 
```

我想选择这些数据：

```
result: {tagID, tagDetails, num_subscribers, num_items} 
```

对于每个 tagID，num_subscribers 是表 user 下 u_status 为 'active' 且 userID 和所述 tagID 存在于表 subscribe 中的用户数

对于每个tagID，num_items是表item下i_status为'active'且itemID和该tagID存在于表item_tag中的用户数

另外，我希望所有 tagID 都出现在结果中。如果没有用户订阅或与该 tagID 关联的项目，则记录将是

```
{tagID,tagDetails,0,0} 
```

产生此结果的最佳（尽可能“人类可读”）嵌套查询是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T08:10:12.953

这就是你所追求的吗？

```
 SELECT T.tagID, T.tagDetails, count(distinct U.u_status), count(distinct I.i_status)
        FROM tag T
             JOIN subscribe S ON T.tagID = S.tagID
             JOIN user U ON S.userID = U.userID
             JOIN item_tag IT ON T.tagID = IT.tagID
             JOIN item I ON IT.itemID = I.itemID
        WHERE U.u_status = 'active' and I.i_status = 'active'
        GROUP BY T.tagID

        UNION

        (SELECT tagID, tagDetails, 0, 0
        FROM tag
        EXCEPT
        SELECT T.tagID, T.tagDetails, 0, 0
        FROM tag T
             JOIN subscribe S ON T.tagID = S.tagID
             JOIN user U ON S.userID = U.userID
             JOIN item_tag IT ON T.tagID = IT.tagID
             JOIN item I ON IT.itemID = I.itemID
        WHERE U.u_status = 'active' and I.i_status = 'active'
        GROUP BY T.tagID) 
```

您可能不得不摆弄括号和别名。

# parsing - 我如何添加 phing 任务以自动解析我的项目并创建 PO 进行翻译？

> ID：12669447
> 
> 赞同：0
> 
> 时间：2012-10-01T08:00:08.100
> 
> 标签：parsing, gettext, zend-framework2, phing

如何添加 phing 任务以自动解析我的项目并创建 PO 进行翻译？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T14:50:17.090

您可以使用 xgettext 收集所有 gettext 可翻译字符串：

[http://sourceforge.net/p/semanticscuttle/code/ci/cb4b0469ca48d9865c8b162c1446d9011adf249b/tree/scripts/update-translation-base.php#l11](http://sourceforge.net/p/semanticscuttle/code/ci/cb4b0469ca48d9865c8b162c1446d9011adf249b/tree/scripts/update-translation-base.php#l11)

```
$ xgettext -kT_ngettext:1,2 -kT_ -L PHP  -o data/locales/messages.po src/ 
```

从您的 phing 任务中执行该操作。

# android - 加载所以库失败

> ID：12669448
> 
> 赞同：0
> 
> 时间：2012-10-01T08:00:18.147
> 
> 标签：android

我试图通过这种方式在里面加载lib：

```
getBundledStackLibFile():
        PackageInfo packageInfo = ctx.getPackageManager().getPackageInfo(ctx.getPackageName(), 0);
        if(packageInfo != null) {
            ApplicationInfo appInfo = packageInfo.applicationInfo;
            File f = getLibFileFromPackage(appInfo, libName, true);
            return f;
        }

        // This is the very last fallback method
        return new File(ctx.getFilesDir().getParent(), "lib" + File.separator + libName); 
```

然后我使用绝对路径来使用该 .so 文件：

```
 File openslLib = getBundledStackLibFile(activityForUsing,
            "libpj_opensl_dev.so");

    audImp.setShared_lib_path(pjsua.pj_str_copy(openslLib.getAbsolutePath())); 
```

但我有错误：

10-01 10:53:11.209：无法打开：/data/data/com.myApp.android/lib/libpj_opensl_dev.so 无法加载库：link_image [1995]：无法链接 libpj_opensl_dev.so

这是解压缩的 ark 文件（所有目录中都提供了必要的库，屏幕简短只是示例。

![在此处输入图像描述](../Images/9a26066a0beea605dfb11fee45275844.png)

# java - 将 XML 值存储到 JAVA 中的字符串

> ID：12669450
> 
> 赞同：0
> 
> 时间：2012-10-01T08:00:24.167
> 
> 标签：java, xml, arrays, hashmap

我想将 XML 文件中包含的值存储到 java 字符串对象中。这是我的 XML 代码：

```
<properties>
  <comment>test.xml</comment>
  <entry key="1">test1</entry>
  <entry key="2">test1,test2,test3</entry>
  <entry key="3">test1,test2,test3</entry>
<properties> 
```

我希望将“值”存储在字符串中。例如：

```
String msg;
if(msg.equals("1")){
  String str1 = //get values of key "1" (ie) test1
}
else if(msg.equals("2")){
  String str2 = //get values of key "2" (ie) test1,test2,test3
} 
```

有没有办法使用 HashMap 或任何东西来做到这一点？谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T08:52:08.940

您可以为此使用 XPATH，例如，它将如下所示：

//属性/条目[@key ='1']/text()

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T08:55:32.050

这看起来像一个 Java XML 属性文件。如果是这样，您可以通过调用将其直接加载到[Properties](http://docs.oracle.com/javase/7/docs/api/java/util/Properties.html)[`properties.loadFromXML`](http://docs.oracle.com/javase/7/docs/api/java/util/Properties.html#loadFromXML%28java.io.InputStream%29)对象中。

```
Properties prop = new Properties();
FileInputStream fis = new FileInputStream("props.xml");
prop.loadFromXML(fis);
System.out.println("Value of key 1 is: " + prop.getProperty("1")); //prints test1 
```

请注意，要使其正常工作，XML 文档必须具有以下`DOCTYPE`声明：

```
<!DOCTYPE properties SYSTEM "http://java.sun.com/dtd/properties.dtd"> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-07T20:17:32.947

以下链接将为您提供最小的 xml 解析代码来执行您的任务，[通过 Groovy 在 Java 中解析 XML](https://stackoverflow.com/questions/12690794/xml-parsing-in-java-via-groovy)

# parameters - WKHTMLTOPDF - 不允许多个参数？

> ID：12669458
> 
> 赞同：4
> 
> 时间：2012-10-01T08:00:56.513
> 
> 标签：parameters, wkhtmltopdf

我像这样从 PHP 调用 wkhtmltopdf：

```
`$commandString = '

"../wkhtmltopdf/wkhtmltopdf-amd64" 

--header-html '. $_SESSION['ER_HlavniLink'] .'/export_pdf/header31.php?IDstavba='.$IDstavba.' 

--header-spacing 0 

--footer-line 

--footer-spacing 5 

--footer-left "Vygenerováno pomocí webové aplikace www.estiroad.cz" 

--footer-center "[page] / [toPage]" 

--orientation Landscape 

--user-style-sheet "../css/export.css" 

--print-media-type 

--page-size A4 

--encoding utf-8

--margin-top 50mm

--margin-bottom 15mm

--margin-left 10mm 

--margin-right 10mm 

'.$_SESSION['ER_HlavniLink'].'/'.$export.' '.$nazev_sestavy;` 
```

如果我想在头文件调用中添加参数，浏览器会显示错误：加载 PDF 文档失败...我能以某种方式解决这个问题吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-02T12:01:50.253

根据评论，我建议在给定的 --header-html 值周围添加双引号。我在第一轮测试中没有发现这一点，所以感谢您的问题，这可能会有所帮助：

此命令有效：

```
wkhtmltopdf.exe --header-html "https://www.google.fi/search?hl=fi&site=&source=hp&q=test&oq=test&gs_l=hp.12..0l10.2413.2773.0.4395.4.4.0.0.0.0.80.232.4.4.0...0.0...1c.1.k_PQAqelc9w" --header-spacing 0 --footer-line --footer-spacing 5 --footer-left "Vygenerováno pomocí webové aplikace www.estiroad.cz" --footer-center "[page] / [toPage]" --orientation Landscape --user-style-sheet test.css --print-media-type --page-size A4 --encoding utf-8 --margin-top 50mm --margin-bottom 15mm --margin-left 10mm --margin-right 10mm http://www.google.com/ g2.pdf && g2.pdf 
```

这不是（请注意，给 --header-html 的地址周围没有引号

```
wkhtmltopdf.exe --header-html https://www.google.fi/search?hl=fi&site=&source=hp&q=test&oq=test&gs_l=hp.12..0l10.2413.2773.0.4395.4.4.0.0.0.0.80.232.4.4.0...0.0...1c.1.k_PQAqelc9w --header-spacing 0 --footer-line --footer-spacing 5 --footer-left "Vygenerováno pomocí webové aplikace www.estiroad.cz" --footer-center "[page] / [toPage]" --orientation Landscape --user-style-sheet test.css --print-media-type --page-size A4 --encoding utf-8 --margin-top 50mm --margin-bottom 15mm --margin-left 10mm --margin-right 10mm http://www.google.com/ g2.pdf && g2.pdf 
```

# magento - Magento：为什么要加载集合而不是直接加载地址？

> ID：12669459
> 
> 赞同：3
> 
> 时间：2012-10-01T08:00:57.123
> 
> 标签：magento, patch

我们收到了以下 Magento 核心补丁：

```
Index: app/code/core/Mage/Adminhtml/controllers/Sales/OrderController.php
===================================================================
--- app/code/core/Mage/Adminhtml/controllers/Sales/OrderController.php
    app/code/core/Mage/Adminhtml/controllers/Sales/OrderController.php  (working copy)
@@ -718,6 +718,7 @@
     $addressId = $this->getRequest()->getParam('address_id');
     $address = Mage::getModel('sales/order_address')
         ->getCollection()
+            ->addFilter('entity_id', $addressId)
         ->getItemById($addressId);
     if ($address) {
         Mage::register('order_address', $address); 
```

在我看来，这相当于

```
$addressId = $this->getRequest()->getParam('address_id');
$address = Mage::getModel('sales/order_address')->load($addressId);
if ($address->getId()) {
    Mage::register('order_address', $address); 
```

与我的解决方案相比，原始补丁的优势是什么？

编辑：

来自支持的*解释*是：

> [...] 此决定是设计使然，并且在创建此代码时是适当的。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-01T08:36:59.977

这种补丁的唯一原因似乎是编辑最少的行数。

在 Magento2 中，这是以第二种方式实现的：

```
$address = Mage::getModel('Mage_Sales_Model_Order_Address')->load($addressId); 
```

# javascript - 沙钟脚本示例或算法

> ID：12669470
> 
> 赞同：-1
> 
> 时间：2012-10-01T08:02:18.487
> 
> 标签：javascript, html

我正在尝试发布一个移动应用程序（计时器）作为 HTML5/javascript 中的沙钟。直到我能够用精灵做视觉部分，但它看起来不太好。谁能建议一个类似时钟示例或算法实现的链接？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T08:07:50.113

这看起来不错1

[http://geeksretreat.wordpress.com/2012/08/03/html5-canvas-an-egg-timer-hourglass-with-animated-falling-sand/](http://geeksretreat.wordpress.com/2012/08/03/html5-canvas-an-egg-timer-hourglass-with-animated-falling-sand/)

# objective-c - 如何使用 xcode 在“主”视图中调用视图？

> ID：12669472
> 
> 赞同：0
> 
> 时间：2012-10-01T08:02:24.877
> 
> 标签：objective-c, xcode, ipad

**大家好**，

今天，我正在尝试开始开发 Ipad 应用程序，我是新手。我用一个程序做了一个我的应用程序的方案，我想用 xcode 来实现它。

我的应用程序将分为两个主要部分-> 第一个：带有一组按钮的表单，第二个：结果。

我想知道的是，例如，如果可以使用表单创建一个“主”视图，并且每次我从表单中按下一个按钮，是否可以在我的表单中调用“结果”视图主视图。

感谢您花时间回答。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T08:06:43.627

您可以开始一个新项目并选择`Master-Detail Application`作为模板，因此 Xcode 会生成一些代码供您查看。一旦你了解了它是如何工作的，你就可以决定扔掉一些东西，创造出比模板更好的东西。

# xslt - 如何在 xsl 中使用参数？

> ID：12669473
> 
> 赞同：0
> 
> 时间：2012-10-01T08:02:27.343
> 
> 标签：xslt

我有一个简单的 xsl 文件：

```
 <xsl:for-each select="part">
            <div class="part">
            <h2>Part Name:<xsl:value-of select="@partName" /></h2>
            <xsl:for-each select="input">
                <p>
                <input>
                    <xsl:attribute name="value">
                        <xsl:value-of select="." />
                    </xsl:attribute>
                    <xsl:attribute name="name"><xsl:value-of select="@inputName" /></xsl:attribute>
                </input>
                </p>
            </xsl:for-each>

            </div>
        </xsl:for-each> 
```

我想保存零件名并在以后使用它。我尝试如下：

```
 <xsl:for-each select="part">
                <div class="part">
                <h2>Part Name:<xsl:value-of select="@partName" /></h2>
**<xsl:param name="part_name"><xsl:value-of select="@partName" /></xsl:param>**
                <xsl:for-each select="input">
                    <p>
                    <input>
                        <xsl:attribute name="value">
                            <xsl:value-of select="." />
                        </xsl:attribute>
                        <xsl:attribute name="name">**<xsl:value-of select="$part_name" />**-<xsl:value-of select="@inputName" /></xsl:attribute>
                    </input>
                    </p>
                </xsl:for-each>

            </div>
            </xsl:for-each> 
```

但它不起作用。我不知道该怎么办。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T08:38:05.543

您可能会收到错误消息`Keyword xsl:param may not be used here.`。这是因为**xsl:param**只能在根**xsl:stylesheet**元素下找到，并用于从外部应用程序传递值。

你需要的是**xsl:variable**在这种情况下

```
<xsl:variable name="part_name">
  <xsl:value-of select="@partName"/>
</xsl:variable> 
```

或者更简单的......

```
<xsl:variable name="part_name" select="@partName"/> 
```

实际上，您可以完全取消该变量。而不是这样做

```
<xsl:value-of select="$part_name"/> 
```

你可以这样做，从父元素中获取值

```
<xsl:value-of select="../@part_name"/> 
```

请记住，如果您确实使用了一个变量，在这种情况下，它只会在**xsl:for-each的范围内是本地的。**

# ios - 将 UIView 子视图附加到父视图

> ID：12669475
> 
> 赞同：0
> 
> 时间：2012-10-01T08:02:33.843
> 
> 标签：ios, ipad, uiview, uiviewcontroller

我正在尝试在 iPad 应用程序中使用 UIViews 做一些有点棘手的事情。以这个视图结构为例：

**视图 1 > 视图 2 > 视图 3**

请注意，这 3 个视图的大小都相同，并且都显示在彼此的顶部。视图 1 是视图 2 的父视图，视图 2 是视图 3 的父视图。用户当前看到的是视图 3，因为它在顶部。

我想删除视图 2 并将视图 3 及其所有子视图附加到视图 1 上——而不改变当前显示。基本上，在后台摆脱 View 2。我不能`removeFromSuperview`像这样做一样使用，它还会删除 View 3（这是用户当前正在查看的内容）。

我意识到让所有 3 个视图成为附加父视图的子视图可能更有意义，这样我就可以`removeFromSuperview`随心所欲 - 但是我真的很好奇是否有人做了我上面描述的事情工作。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T08:07:57.947

如果我正确理解您要执行的操作，则应该可以：

```
[view1 addSubview:view3];
[view2 removeFromSuperview]; 
```

从[`UIView`类参考](http://developer.apple.com/library/ios/documentation/uikit/reference/uiview_class/uiview/uiview.html#//apple_ref/occ/instm/UIView/addSubview%3a)：

> 视图只能有一个超级视图。如果视图已经有一个超级视图并且该视图不是接收者，则此方法会在使接收者成为其新的超级视图之前删除先前的超级视图。

# zend-framework - 如何在zend中将int类型值显示为日期时间

> ID：12669480
> 
> 赞同：1
> 
> 时间：2012-10-01T08:02:57.827
> 
> 标签：zend-framework, zend-form

我正在将日期时间值转换为 MySQL 数据库中的 int 数据类型。我的问题是，当我以 zend 形式更新该值时，它会在我的文本框中显示相同的整数值。当我显示该 int 值时，如何将该值转换为日期时间格式更新形式的值。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T08:17:01.850

如果您的 INT - 是 Unix 时间戳，请使用以下代码：

```
$timestamp = 1349079306;
$date = new Zend_Date($timestamp);
echo $date->get(Zend_Date::ATOM); // all constants here : http://framework.zend.com/manual/1.12/en/zend.date.constants.html 
```

# javascript - qooxdoo vs 骨干网

> ID：12669481
> 
> 赞同：4
> 
> 时间：2012-10-01T08:03:08.553
> 
> 标签：javascript, oop, backbone.js, javascript-framework, qooxdoo

我用过[Backbone.js](http://backbonejs.org)并且喜欢它。

最近我遇到了[qooxdoo](http://qooxdoo.org/)，说实话？它似乎更好（**对于 OOP 代码设计**）！
完整的 OOP 支持（喜欢继承 [ `this.base`]、命名空间等）。
我还没有深入研究它，所以我一直在寻找与 Backbone.js 的比较，但没有任何成功。

那么，如果您同时使用了这两种方法——**您对 qooxdoo 与 Backbone.js 的关系有何看法？**

*我不是在谈论诸如 Backbone 中的“模型持久化”（保存/删除 ajax 调用）之类的功能，也不是诸如 qooxdoo ( `qx.ui.form.Button`) 中的 UI 之类的功能，而是编码结构和可维护性。*

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-01-08T23:33:18.437

我对 Backbone.js 的使用经验有限，但它非常适合创建数据量大的 Web 应用程序。能够将任何 UI 放在其上使其非常灵活。至于代码维护，Backbone 的代码组织真的取决于开发者。使用其他库（require.js）肯定有助于组织，但仍然需要大量的努力和预先规划。

另一方面，Qooxdoo 是完全不同的野兽。以自己的类型系统为核心，Qooxdoo 真正将自己提升为一种位于 javascript 之上的经典语言，这需要良好的代码组织。这并不是说你不能用它编写杂乱无章的代码，只是它让组织大型项目变得更加容易。

因为 qooxdoo 更像是一种语言而不是框架 [当然，没有它丰富的 UI 和数据组件，它们非常好] 你可以用它做任何事情，重新创造 Backbone 的所有好处，同时轻松添加漂亮的功能- 强定义的类（所有类型、模型、控制器、视图等） - 并从这些类生成 [优秀] 文档以启动！

定义接口、类、混合、继承、属性、访问修饰符（！）等（...）的能力在经典意义上（ala Java/C#/...），同时保持在一个定义良好的命名空间文件/类中结构，真的将 qooxdoo 提升到高于其他一切。事实上，它的类型系统非常好，他们甚至将它从 UI 组件中分离出来，以便在浏览器应用程序中独立使用，或者在带有 node.js/rhino 应用程序的服务器上使用。它是恒星。

无论如何，我对 qooxdoo 有很大的偏见，所以请持保留态度。:)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-08-26T09:05:05.693

我都用过。对于小型应用程序，更像是具有某些功能的网页，而不是碰巧使用浏览器作为其 UI 的真正繁重的应用程序，qooxdoo 是矫枉过正。对于我遇到的大多数 Intranet 应用程序，它们具有丰富的 UI、几种不同的形式、大量使用许多不同的 UI 控件（表格、树、组合、拆分窗格、选项卡视图等）。qooxdoo 是 IMO 更好的选择。

这并不是说您不能使用其中一种构建任何一种类型。只是 qooxdoo 使处理大型代码库变得更容易，为 MV(C|P) 架构提供了良好但不受限制的支持，对各种后端类型（REST、RPC、JSON 或 XML）提供了良好的支持。盒子，优秀的单元测试支持，关注点分离。主题和功能——很多有用的东西，当你做一个大而复杂的应用程序时，但对于小型应用程序来说不是那么有用和太重。

准系统主干有一个特别的弱点，这使得它对于大型项目来说尤其是一个糟糕的选择——它的模型不是分层的（即模型中的成员本身就是模型不会级联事件或 JSON 序列化——它们被视为普通的 Java 对象通过骨干）。Qooxdoo 的属性系统和内置的 JSON 序列化器就没有这个问题。OTOH，有几个骨干插件专门解决了这个问题。

OTOH，最近，qooxdoo 已经削减了各个部分，以便在较小的网络应用程序/移动应用程序中轻松使用 qooxdoo 的适当子集，使它们可以单独使用。因此，学习qooxdoo并围绕它构建生态系统，对于企业的内网开发来说，可能是更明智/更经济的选择。

另一个需要考虑的方面是受欢迎程度。大多数 Web 开发人员都没有听说过 qooxdoo，因为 1&1 - qooxdoo 开发的支持者 - 根本不投资营销 qooxdoo。因此，将 qooxdoo 出售给您的开发团队可能会很困难，即使它是更明智的技术选择。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-09-19T22:50:33.047

我写了一个大的 qooxdoo 应用程序，我对结果很满意。Qooxdoo 非常适合这一点（我不知道有很多其他框架可以做到这一点）。

这不是很容易开始，但 qooxdoo 的开发人员提供了一些很棒的工具来帮助学习：游乐场、演示浏览器、api 查看器、检查器、测试浏览器.... Qooxdoo 团队非常专业，当您在这里发布问题时通常会快速回答或通过邮件列表。

贡献真的很容易，他们张开双臂欢迎你的贡献。

该框架的主要问题是它的流行性。对很多人来说是未知的。框架很大，部分代码很旧，需要更多的用户反馈来改进。

幸运的是，您通常只需要创建派生类和编写/覆盖方法来帮助您（并发送拉取请求:)）

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-04-02T09:06:45.357

根据我的理解，请在下面找到比较：-

**骨干.js：**

*   与 Qooxdoo 相比的轻量级库。
*   容易上手（如果你知道 javascript）。
*   网络中有更多的文档和示例。

**酷狗：**

*   更大的图书馆
*   不容易上手
*   与backbone.js 相比，更少的文档和示例

我曾经是一名 Qooxdoo 开发人员。但事实是**Backbone.js**在许多方面都更好。特别适用于小型应用程序。

祝你好运！

# java - 将函数作为参数从一个类传递到另一个类

> ID：12669491
> 
> 赞同：0
> 
> 时间：2012-10-01T08:03:43.723
> 
> 标签：java

我有一个名为 HelloWorld 的类，我在其中创建了一个 Class Test test = new Test(); 的对象

然后在 HelloWorld 类中我有我的主要功能和另一个：

```
public static int passMe(){
    System.out.println("running this function");
    return 1;
} 
```

这是我试图通过的功能。我使用以下方法通过了 int 测试：

```
test.getSomeFunction(new Callable<Integer>(){
              public Integer call(){
                  return passMe();
              }
          }); 
```

在测试类里面我有：

```
 public void getSomeFunction(Callable<Integer> someFunction){
        System.out.println(someFunction);
    } 
```

现在所有这些都有效，但是 passMe() 没有运行，而是我不知道如何引用它。如果我打印出 someFunction，我会得到：

```
"HelloWorld$1@35a8767" 
```

所以我的问题是如何运行我传入的函数，如果我执行 someFunction() 我收到错误消息“他的方法 someFunction() 未定义类型 Test”

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T08:07:51.300

```
 try {
        Integer result = callable.call();
    } catch (Exception e) {
        throw new IllegalStateException(e);
    } 
```

必须处理异常，因为它是由[Callable 定义](http://docs.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/Callable.html)强制执行的。

请注意，您不是传递`passMe`函数，而是可以调用它的可调用对象。

# css - Firefox 中的 CSS 表格位置在 IE 中不同

> ID：12669492
> 
> 赞同：0
> 
> 时间：2012-10-01T08:03:48.787
> 
> 标签：css, html-table

我对 Firefox 和 IE 8,9 中的表格位置有疑问。

在 textarea 中提交消息后，我在 IE 中的表格显示与 Firefox 不同。这是我页面的截图：

![在此处输入图像描述](../Images/09b482ebd856355238ad6e22adc08f8a.png)

黑圈是表示在 Firefox 位置的表格是可以的。

![在此处输入图像描述](../Images/90cbc036f075680b8fd72ea825c23905.png)

第二张图片是显示 IE 位置的表格是可以的。

![在此处输入图像描述](../Images/b48dae5cec89b53a0d9959bd9438c876.png)

现在我尝试分享一些信息，比如第三张图片。提交后，表格位置从 div 行出来。HTML 代码：

```
<table class="t_feed" cellspacing="10">
<td class="td_haps">
</td>
</table> 
```

CSS代码：

```
.t_feed
{
width: 600px;
margin-left: -20px;
}

.td_haps
{
padding: 10px;
border-bottom-right-radius:5px;
border-top-right-radius:5px;
background:#fff;
border: 1px;
border-bottom-style: solid;
border-bottom-color: #e8e9eb;
border-top-style: solid;
border-top-color: #e8e9eb;
border-right-style: solid;
border-right-color: #e8e9eb;
} 
```

那么，解决这个问题的想法是什么？

# java - JUnit 会保留对测试的引用多长时间？

> ID：12669493
> 
> 赞同：1
> 
> 时间：2012-10-01T08:03:50.427
> 
> 标签：java, heap-memory

如果 junit 或回归测试在 Jenkins 上运行，在每个测试类之后删除堆上的所有变量（在它开始新的测试类之前）？还是最后被删除？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T08:07:21.253

只要 JUnit 运行，它就会保留对每个测试的引用。这意味着您可以为每个测试**方法获得****一**(1) 个测试用例类实例，并且这些实例会一直存在，直到 JUnit 打印测试结果。

 **如果内存不足，则需要在方法中设置测试实例的`null`字段`@After`。**

# objective-c - 一次有多个 RKObjectManager (RestKit 0.10.3)

> ID：12669495
> 
> 赞同：0
> 
> 时间：2012-10-01T08:03:51.803
> 
> 标签：objective-c, ios, restkit

我查看了stackoverflow并找到了这个主题：

[一次有多个 RKObjectManager (RestKit)](https://stackoverflow.com/questions/6198664/more-than-one-rkobjectmanager-at-a-time-restkit)

不幸的是，使用当前的 RetKit 作为方法不再准确：

```
[[RKObjectManager sharedManager] loadObjectsAtResourcePath:@"/whatever" delegate:self] 
```

返回一个空白。

那么如何区分方法中不同的objectLoaders：

```
- (void)objectLoader:(RKObjectLoader *)objectLoader didLoadObjects:(NSArray *)objects 
```

还是有更好的方法来处理具有不同 URL 的多个请求？好像我只使用一个管理器，只执行最后一个请求调用，我需要手动将管理器设置为 null 才能第二次工作。

关于如何在短时间内最好地管理多个请求调用并区分它们的任何帮助都会很棒。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T13:20:37.093

您不能为不同的“loadObjects”调用设置不同的代表吗？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-16T12:55:57.080

在尝试了许多不同的事情之后，我终于在文档中找到了新的等价物。

诀窍是使用块并在块内分配 loader.userData：

```
[self.manager loadObjectsAtResourcePath:filter usingBlock: ^(RKObjectLoader *loader) {
        loader.userData = @"identifier";
        loader.delegate = self;
    }]; 
```

self.manager 只是一个具有适当映射的普通 RKObjectManager 所在的位置。

# java - 使用枚举作为地图的键

> ID：12669497
> 
> 赞同：22
> 
> 时间：2012-10-01T08:04:01.410
> 
> 标签：java, enums

我想`enum`用作键和对象作为值。这是示例代码片段：

```
public class DistributorAuditSection implements Comparable<DistributorAuditSection>{      

     private Map questionComponentsMap;  

     public Map getQuestionComponentsMap(){  
         return questionComponentsMap;  
     }  

     public void setQuestionComponentsMap(Integer key, Object questionComponents){  
         if((questionComponentsMap == null)  || (questionComponentsMap != null && questionComponentsMap.isEmpty())){ 
             this.questionComponentsMap = new HashMap<Integer,Object>();  
         }  
         this.questionComponentsMap.put(key,questionComponents);  
     }
} 
```

它现在是一个普通的哈希图，具有整数键和对象作为值。现在我想将其更改为`Enummap`. 这样我就可以使用`enum`钥匙了。我也不知道如何使用`Enummap`.

* * *

## 回答 #1

> 赞同：51
> 
> 时间：2012-10-01T08:10:42.743

`Map`它与Just Declare`enum`和使用它`Key`的原理相同`EnumMap`。

```
public enum Color {
    RED, YELLOW, GREEN
}

Map<Color, String> enumMap = new EnumMap<Color, String>(Color.class);
enumMap.put(Color.RED, "red");
String value = enumMap.get(Color.RED); 
```

[你可以在这里](http://docs.oracle.com/javase/tutorial/java/javaOO/enum.html)找到更多`Enums`

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2012-10-01T08:13:07.627

只需替换`new HashMap<Integer, Object>()`为`new EnumMap<MyEnum, Object>(MyEnum.class)`.

# objective-c - XCode Project：如何将子项目构建为静态库？

> ID：12669498
> 
> 赞同：3
> 
> 时间：2012-10-01T08:04:05.523
> 
> 标签：objective-c, ios, xcode, static-libraries

我需要将子项目构建为静态库，不太确定我应该怎么做，我应该：

1.  将所有子项目一一编译（还是编译一次主项目？）
2.  在 products 文件夹中找到子项目的 .a 文件，将它们复制到主项目
3.  将子项目的所有 .h 文件复制到主项目的文件夹中
4.  删除所有子项目

以上步骤正确吗？

另外，我是否需要在发布（或调试）模式下编译它们，分别用于模拟器和设备？

谢谢！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-01T08:19:52.713

不，你不需要做任何这些，因为 Xcode 会为你做这一切......

基本上，只需将库项目拖入，设置依赖关系即可完成：有关详细信息，请参阅[此页面](http://www.blog.montgomerie.net/easy-xcode-static-library-subprojects-and-submodules)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T08:22:11.580

我在我的项目中使用静态库。您提到的步骤是否正确，除了删除所有子项目？为什么你需要有子项目。理想情况下，它们都应该是独立编译的独立库，您只需在主项目中添加 .a 文件和主头文件。如果你这样做，当你的静态库发生变化时，你不需要更新你的主项目。您只需要更新 .a 文件或 .h 以防它们发生更改......是的，当您想将您的应用程序提交到应用商店时，您需要在发布模式下编译静态库。模拟器和设备真的无关紧要，因为它不会运行。重要的是您遵守的 iOS 目标和基础 SDK。

# regex - 具有负前瞻的正则表达式路由约束

> ID：12669499
> 
> 赞同：1
> 
> 时间：2012-10-01T08:04:07.917
> 
> 标签：regex, asp.net-mvc-3

用[http://regexhero.net/tester/测试](http://regexhero.net/tester/)

```
^(?!Bar$) 
```

*   `Foo`火柴
*   `Bar`不匹配
*   `FooBar`火柴
*   `BarBaz`火柴
*   `FooBarBaz`火柴

设置路由约束时，我必须使用`^(?!Bar$).*`才能获得相同的结果。这是为什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-01T08:12:55.693

第一个表达式实际上并没有“覆盖”字符串的任何部分。看，`^`和`(?!...)`子表达式都在测试字符串中的特定位置（锚点）匹配（实际上它们都试图在相同的位置匹配 - 就在开头 - 并立即失败）。

而这 - `^(?!Bar$).*`- 实际上“覆盖”了所有字符串。我想这就是区别。

# ruby - 在 Padrino 中创建管理应用程序时出错

> ID：12669502
> 
> 赞同：0
> 
> 时间：2012-10-01T08:04:37.507
> 
> 标签：ruby, padrino

我有使用 Erb 作为模板引擎和 Mongoid 作为 Object-Document-Mapper 的 Padrino 项目女巫。

我正在尝试通过以下命令为我的 Padrino 项目创建管理应用程序

```
padrino g admin -e erb 
```

但我收到一个错误

```
/home/vadim/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/psych.rb:297:in `initialize': No such file or directory - /home/vadim/projects/interierka/heroku/.components (Errno::ENOENT)
from /home/vadim/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/psych.rb:297:in `open'
from /home/vadim/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/psych.rb:297:in `load_file'
from /home/vadim/.rvm/gems/ruby-1.9.3-p194/gems/padrino-gen-0.10.7/lib/padrino-gen/generators/actions.rb:120:in `retrieve_component_config'
from /home/vadim/.rvm/gems/ruby-1.9.3-p194/gems/padrino-gen-0.10.7/lib/padrino-gen/generators/actions.rb:101:in `store_component_choice'
from /home/vadim/.rvm/gems/ruby-1.9.3-p194/gems/padrino-admin-0.10.7/lib/padrino-admin/generators/admin_app.rb:53:in `create_admin'
from /home/vadim/.rvm/gems/ruby-1.9.3-p194/gems/thor-0.15.4/lib/thor/task.rb:27:in `run'
from /home/vadim/.rvm/gems/ruby-1.9.3-p194/gems/thor-0.15.4/lib/thor/invocation.rb:120:in `invoke_task'
from /home/vadim/.rvm/gems/ruby-1.9.3-p194/gems/thor-0.15.4/lib/thor/invocation.rb:126:in `block in invoke_all'
from /home/vadim/.rvm/gems/ruby-1.9.3-p194/gems/thor-0.15.4/lib/thor/invocation.rb:126:in `each'
from /home/vadim/.rvm/gems/ruby-1.9.3-p194/gems/thor-0.15.4/lib/thor/invocation.rb:126:in `map'
from /home/vadim/.rvm/gems/ruby-1.9.3-p194/gems/thor-0.15.4/lib/thor/invocation.rb:126:in `invoke_all'
from /home/vadim/.rvm/gems/ruby-1.9.3-p194/gems/thor-0.15.4/lib/thor/group.rb:238:in `dispatch'
from /home/vadim/.rvm/gems/ruby-1.9.3-p194/gems/thor-0.15.4/lib/thor/base.rb:425:in `start'
from /home/vadim/.rvm/gems/ruby-1.9.3-p194/gems/padrino-gen-0.10.7/lib/padrino-gen/generators/cli.rb:51:in `setup'
from /home/vadim/.rvm/gems/ruby-1.9.3-p194/gems/thor-0.15.4/lib/thor/task.rb:27:in `run'
from /home/vadim/.rvm/gems/ruby-1.9.3-p194/gems/thor-0.15.4/lib/thor/invocation.rb:120:in `invoke_task'
from /home/vadim/.rvm/gems/ruby-1.9.3-p194/gems/thor-0.15.4/lib/thor/invocation.rb:126:in `block in invoke_all'
from /home/vadim/.rvm/gems/ruby-1.9.3-p194/gems/thor-0.15.4/lib/thor/invocation.rb:126:in `each'
from /home/vadim/.rvm/gems/ruby-1.9.3-p194/gems/thor-0.15.4/lib/thor/invocation.rb:126:in `map'
from /home/vadim/.rvm/gems/ruby-1.9.3-p194/gems/thor-0.15.4/lib/thor/invocation.rb:126:in `invoke_all'
from /home/vadim/.rvm/gems/ruby-1.9.3-p194/gems/thor-0.15.4/lib/thor/group.rb:238:in `dispatch'
from /home/vadim/.rvm/gems/ruby-1.9.3-p194/gems/thor-0.15.4/lib/thor/base.rb:425:in `start'
from /home/vadim/.rvm/gems/ruby-1.9.3-p194/gems/padrino-gen-0.10.7/bin/padrino-gen:16:in `<main>' 
```

我正在尝试创建 .components 文件，但出现另一个错误

```
/home/vadim/.rvm/gems/ruby-1.9.3-p194/gems/padrino-gen-0.10.7/lib/padrino-gen/generators/actions.rb:102:in `store_component_choice': undefined method `[]=' for false:FalseClass (NoMethodError)
from /home/vadim/.rvm/gems/ruby-1.9.3-p194/gems/padrino-admin-0.10.7/lib/padrino-admin/generators/admin_app.rb:53:in `create_admin'
from /home/vadim/.rvm/gems/ruby-1.9.3-p194/gems/thor-0.15.4/lib/thor/task.rb:27:in `run'
from /home/vadim/.rvm/gems/ruby-1.9.3-p194/gems/thor-0.15.4/lib/thor/invocation.rb:120:in `invoke_task'
from /home/vadim/.rvm/gems/ruby-1.9.3-p194/gems/thor-0.15.4/lib/thor/invocation.rb:126:in `block in invoke_all'
from /home/vadim/.rvm/gems/ruby-1.9.3-p194/gems/thor-0.15.4/lib/thor/invocation.rb:126:in `each'
from /home/vadim/.rvm/gems/ruby-1.9.3-p194/gems/thor-0.15.4/lib/thor/invocation.rb:126:in `map'
from /home/vadim/.rvm/gems/ruby-1.9.3-p194/gems/thor-0.15.4/lib/thor/invocation.rb:126:in `invoke_all'
from /home/vadim/.rvm/gems/ruby-1.9.3-p194/gems/thor-0.15.4/lib/thor/group.rb:238:in `dispatch'
from /home/vadim/.rvm/gems/ruby-1.9.3-p194/gems/thor-0.15.4/lib/thor/base.rb:425:in `start'
from /home/vadim/.rvm/gems/ruby-1.9.3-p194/gems/padrino-gen-0.10.7/lib/padrino-gen/generators/cli.rb:51:in `setup'
from /home/vadim/.rvm/gems/ruby-1.9.3-p194/gems/thor-0.15.4/lib/thor/task.rb:27:in `run'
from /home/vadim/.rvm/gems/ruby-1.9.3-p194/gems/thor-0.15.4/lib/thor/invocation.rb:120:in `invoke_task'
from /home/vadim/.rvm/gems/ruby-1.9.3-p194/gems/thor-0.15.4/lib/thor/invocation.rb:126:in `block in invoke_all'
from /home/vadim/.rvm/gems/ruby-1.9.3-p194/gems/thor-0.15.4/lib/thor/invocation.rb:126:in `each'
from /home/vadim/.rvm/gems/ruby-1.9.3-p194/gems/thor-0.15.4/lib/thor/invocation.rb:126:in `map'
from /home/vadim/.rvm/gems/ruby-1.9.3-p194/gems/thor-0.15.4/lib/thor/invocation.rb:126:in `invoke_all'
from /home/vadim/.rvm/gems/ruby-1.9.3-p194/gems/thor-0.15.4/lib/thor/group.rb:238:in `dispatch'
from /home/vadim/.rvm/gems/ruby-1.9.3-p194/gems/thor-0.15.4/lib/thor/base.rb:425:in `start'
from /home/vadim/.rvm/gems/ruby-1.9.3-p194/gems/padrino-gen-0.10.7/bin/padrino-gen:16:in `<main>' 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T08:38:48.840

错误是由于我已将项目文件移动到另一个文件夹而忘记了 .* 文件。

.components 文件在您创建 Padrino 项目时创建，其中包含有关项目中使用的组件的信息。

我的 .components 文件的内容：

```
---
:orm: mongoid
:test: none
:mock: none
:script: jquery
:renderer: erb
:stylesheet: none 
```

# javascript - jQuery 简单数据传递 HTML

> ID：12669506
> 
> 赞同：1
> 
> 时间：2012-10-01T08:04:50.273
> 
> 标签：javascript, jquery

我正在处理一个 HTML 表单，我想在点击提交按钮后实现，然后进入确认页面。确认页面从表单页面获取数据。

由于我的表单验证由 jQuery 使用，例如我有一个变量名称是`VISITORNAME` 如何使构象页面显示“谢谢`VISITORNAME`”

我做了研究，找不到简单的方法来做到这一点。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-01T08:14:47.197

你有很多方法可以做到这一点，一种是在提交表单时在 url 中添加一些内容，并在另一个页面中使用 js 读取（这不涉及服务器端编码）

```
$(form).submit(function() {
  $(this).action += '#visitorname=whatever'
}); 
```

然后在表单中，您可以从 url 获取访问者名称

```
var name = window.location.href.replace(/^.*#visitorname=/, "") 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T08:07:52.883

大多数表单使用服务器端语言，例如 PHP 或 ASP.net。我建议您阅读 PHP 的“处理表单”教程：

[http://php.net/manual/en/tutorial.forms.php](http://php.net/manual/en/tutorial.forms.php)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-01T08:08:16.823

将确认页面设置为 PHP 页面，并使用它从表单中发送一些 GET 或 POST 值。

然后`echo`你的消息：

```
echo 'Thank you, '.$_POST['visitorname'].', your form has been submitted'; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-01T08:15:32.030

例子：

```
**html**
 <form name='ff' id='test' action="javascript:void(0);">
 <span id='msg'></span>
 <input type='text' id='name'>
 <input type="submit" value='submit'>
 </form>

  **jquery**
$(document).ready(function (){
$('#test').submit(function(){
  if($('#name').val()!=''){
   $('#msg').html('Your custom message');
 }

});
}); 
```

# java - Android 设备选择器中的序列号/名称

> ID：12669508
> 
> 赞同：3
> 
> 时间：2012-10-01T08:04:59.383
> 
> 标签：java, android, eclipse, development-environment, adt

如果我在 Eclipse 中开发，我经常按下绿色`run`按钮。出现一个名为的弹出窗口`Android Device Chooser`，让我从连接的设备列表中进行选择。一般来说，这没有问题，因为任何电话都会出现。我刚刚观察到该`Serial Number`列显示了两个不同的内容：

通常它只显示序列号，但有时会显示设备名称`Asus Nexus 7`。这非常有帮助，特别是如果您有多个设备要测试，并且您不能（或不会）记住所有这些序列（如果您有多个具有著名序列的设备，则更令人困惑`0x0123456789ABCDEF`）。

我不知道 eclipse 为何以及何时显示设备名称，但我想找到一种方法来强制 eclipse 收集这些设备名称而不是它们的序列号并在设备选择器中显示它们。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-22T09:15:34.950

查看源代码[com.android.ddmlib.Device](https://android.googlesource.com/platform/sdk/+/android-cts-4.2_r1/ddms/libs/ddmlib/src/com/android/ddmlib/Device.java)以了解 DDMS 如何生成设备名称/序列号：

```
private static final String DEVICE_MODEL_PROPERTY = "ro.product.model"; //$NON-NLS-1$
private static final String DEVICE_MANUFACTURER_PROPERTY = "ro.product.manufacturer"; //$NON-NLS-1$

... ...

private static final char SEPARATOR = '-';

... ...

@Override
public String getName() {
    if (mName == null) {
        mName = constructName();
    }

    return mName;
}

private String constructName() {
    if (isEmulator()) {
        String avdName = getAvdName();
        if (avdName != null) {
            return String.format("%s [%s]", avdName, getSerialNumber());
        } else {
            return getSerialNumber();
        }
    } else {
        String manufacturer = cleanupStringForDisplay(
                getProperty(DEVICE_MANUFACTURER_PROPERTY));
        String model = cleanupStringForDisplay(
                getProperty(DEVICE_MODEL_PROPERTY));

        StringBuilder sb = new StringBuilder(20);

        if (manufacturer != null) {
            sb.append(manufacturer);
            sb.append(SEPARATOR);
        }

        if (model != null) {
            sb.append(model);
            sb.append(SEPARATOR);
        }

        sb.append(getSerialNumber());
        return sb.toString();
    }
}

private String cleanupStringForDisplay(String s) {
    if (s == null) {
        return null;
    }

    StringBuilder sb = new StringBuilder(s.length());
    for (int i = 0; i < s.length(); i++) {
        char c = s.charAt(i);

        if (Character.isLetterOrDigit(c)) {
            sb.append(Character.toLowerCase(c));
        } else {
            sb.append('_');
        }
    }

    return sb.toString();
} 
```

如果您想查看 DDMS 如何呈现此设备名称/序列号，请参阅[com.android.ddmuilib.DevicePanel](https://android.googlesource.com/platform/sdk/+/android-cts-4.2_r1/ddms/libs/ddmuilib/src/com/android/ddmuilib/DevicePanel.java)。

ro.product.manufacturer和**ro.product.model**在**/system/build.prop****中**，您可以使用`adb -e shell getprop|grep "\[ro.product"`查看当前值：

```
[ro.product.manufacturer]: [samsung]
[ro.product.model]: [GT-I9100] 
```

那么 DDMS 透视图中显示的设备名称/序列号是**samsung-gt_i9100-0x0123456789ABCDEF**。请注意，一些杂牌供应商没有正确设置这两个属性，这就是为什么对于这些​​设备，它只显示序列号。

Eclipse 中没有任何配置可以让您简单地勾选并强制显示它。如果您的设备已root，您可以编辑这些属性，以便设备的制造商和型号在DDMS 透视图中正确显示，例如，使用`adb shell setprop <key> <value>`或直接编辑文件系统中的build.prop。

* * *

## DDMS 深入

DDMS 获取设备信息的方式比较复杂，一般来说，AndroidDebugBridge 启动并运行时，会在单独的线程中启动一个 DeviceMonitor，不断监听设备连接，`getprop`并向特定设备发出远程 shell 命令查询设备`ro.product.manufacturer`和之类的信息`ro.product.model`，这个远程shell命令执行不可靠（可能受多种因素影响），并且不能保证一直抓取属性。请参阅[com.android.ddmlib.DeviceMonitor](https://android.googlesource.com/platform/sdk/+/android-cts-4.2_r1/ddms/libs/ddmlib/src/com/android/ddmlib/DeviceMonitor.java)：

```
/**
 * Queries a device for its build info.
 * @param device the device to query.
 */
private void queryNewDeviceForInfo(Device device) {
    // TODO: do this in a separate thread.
    try {
        // first get the list of properties.
        device.executeShellCommand(GetPropReceiver.GETPROP_COMMAND,
                new GetPropReceiver(device));

        queryNewDeviceForMountingPoint(device, IDevice.MNT_EXTERNAL_STORAGE);
        queryNewDeviceForMountingPoint(device, IDevice.MNT_DATA);
        queryNewDeviceForMountingPoint(device, IDevice.MNT_ROOT);

        // now get the emulator Virtual Device name (if applicable).
        if (device.isEmulator()) {
            EmulatorConsole console = EmulatorConsole.getConsole(device);
            if (console != null) {
                device.setAvdName(console.getAvdName());
            }
        }
    } catch (TimeoutException e) {
        Log.w("DeviceMonitor", String.format("Connection timeout getting info for device %s",
                device.getSerialNumber()));

    } catch (AdbCommandRejectedException e) {
        // This should never happen as we only do this once the device is online.
        Log.w("DeviceMonitor", String.format(
                "Adb rejected command to get  device %1$s info: %2$s",
                device.getSerialNumber(), e.getMessage()));

    } catch (ShellCommandUnresponsiveException e) {
        Log.w("DeviceMonitor", String.format(
                "Adb shell command took too long returning info for device %s",
                device.getSerialNumber()));

    } catch (IOException e) {
        Log.w("DeviceMonitor", String.format(
                "IO Error getting info for device %s",
                device.getSerialNumber()));
    }
} 
```

注意`device.executeShellCommand()`由 抛出和处理的所有异常`DeviceMonitor.queryNewDeviceForInfo()`，如果发生任何这些异常，DDMS 将无法正确获取属性。

如果您想阅读完整的源代码，请查看[此处](https://android.googlesource.com/platform/sdk/+/android-cts-4.2_r1/ddms/libs/ddmlib/src/com/android/ddmlib)。

# json - 为什么 JSON-Simple 解析器在 Java 中不期望冒号？

> ID：12669510
> 
> 赞同：1
> 
> 时间：2012-10-01T08:05:15.433
> 
> 标签：json, bufferedreader, json-simple

我正在使用 JSON-Simple 解析来自 Twitter 的 JSON 块。我遇到了一个异常：

`Exception in thread "main" Unexpected token COLON(:) at position 27`
`...stack trace...`

由于 JavaScript 解析 JSON 的方式有一些特殊性，我在 SO 上看到过类似的东西（我认为 JSONJ-P 需要接收它填充），但这里不是这种情况，因为我不在 JS 中！

这是我的 JSON（已清理）：

`{"in_reply_to_status_id_str":null,"id_str":"23475129874512857","text":"RT @SanitizedPersonName: SomeTextIveSanitized @SanatizedTwitterHandle SomeMoreText http:\/\/t.co\/sanitized SomeText (MoreText) \/ Text", "restOfTheJson":"Is not Special"}`

有两件事让我印象深刻。

1.  它打印出它刚刚用缓冲读取器读取的行，并且`{`在块的开头没有它在结尾处的行。这似乎是一个严重的问题。
2.  我在第 27 位读到的字符不是冒号，而是`r`

所以缓冲阅读器正在吃我`{`的或者解析器没有正确解析。我如何判断它是什么并解决问题？

nb 我确实有我的打印和解析行`while(buff.read()!=-1)`（检查行尾）和一个检查“正则表达式” `(if(!line.contains(DELETE_REGEX))`（检查无效 jsons）的 if 语句，这可能是原因吗？这是代码：

```
buff = new BufferedReader(new FileReader(JSON_FILE_NAME+".json"));
while(buff.read() != -1){
    line = buff.readLine();
    if(!line.contains(DELETE_REGEX)){
        System.out.println(line);
        myJSON=(JSONObject) parser.parse(line);
        myJSONSample.add(myJSON);
    }
}
return myJSONSample; 
```

我错过了一些无关紧要的东西。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-01T08:42:34.123

我想我找到了。`buff.read()`正在吃`char`每一行的第一行，因此无法将其解析为 json。我会恢复`while((line=buff.readLine())!=null)`检查 EOR，但这不起作用。

# combobox - ExtJS 4.1 中的分页组合框

> ID：12669513
> 
> 赞同：1
> 
> 时间：2012-10-01T08:05:24.780
> 
> 标签：combobox, paging, extjs4.1

谁能给我一个关于 ExtJS4.1 中的分页组合框的例子。

我了解分页组合框，但我无法在 extjs4.1 中重现。

[官方煎茶论坛关于它的旧帖子。](http://www.sencha.com/forum/showthread.php?6604-ComboBox-Paging-Need-Help-Understanding...) 感谢任何类型的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-02T22:44:33.067

转到[http://docs.sencha.com/ext-js/4-1/#!/example/form/forum-search.html](http://docs.sencha.com/ext-js/4-1/#!/example/form/forum-search.html)并在表单字段中输入 extjs，您会看到它。

来源在这里： [http ://docs.sencha.com/ext-js/4-1/extjs-build/examples/form/forum-search.js](http://docs.sencha.com/ext-js/4-1/extjs-build/examples/form/forum-search.js)

# c# - GetCallingAssembly() 和 GetExecutingAssembly() 是否同样容易发生 JIT 内联？

> ID：12669515
> 
> 赞同：10
> 
> 时间：2012-10-01T08:05:37.853
> 
> 标签：c#, .net, reflection, jit

有[Assembly.GetExecutingAssembly()](http://msdn.microsoft.com/en-us/library/system.reflection.assembly.getexecutingassembly.aspx)和[Assembly.GetCallingAssembly()](http://msdn.microsoft.com/en-us/library/system.reflection.assembly.getcallingassembly.aspx)。请注意，根据 JIT 内联的行为方式，可能有一种方法被（或没有）内联到另一种方法中，因此`GetCallingAssembly()`返回不同的结果。`Remark``GetCallingAssembly()`

现在有什么`GetExecutingAssembly()`不同？JIT 内联在技术上可以内联调用的代码，`GetExecutingAssembly()`因此该代码现在属于不同的程序集，并且取决于是否发生这种情况`GetExecutingAssembly()`也可以产生不同的结果。

为什么`GetExecutingAssembly()`描述中没有与描述类似的提及JIT inning 的`GetCallingAssembly()`注释？

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-10-01T08:39:43.890

该`GetExecutingAssembly`方法不易受到 JIT 内联的影响，因为同样的原因`MethodBase.GetCurrentMethod`也不易受到影响，因为它们以类似的方式实现。

两种方法都声明了一个特殊枚举的局部变量`StackCrawlMark`并将其初始化为`StackCrawlMark.LookForMyCaller`. `GetExecutingAssembly`这个局部变量具有防止方法调用或被内联的副作用，`GetCurrentMethod`这将保证正确的结果。

这得到了实验的支持，也得到了 SSCLI20 中与此枚举相关的评论的支持：

```
// declaring a local var of this enum type and passing it by ref 
// into a function that needs to do a stack crawl will both prevent inlining of 
// the calle and pass an ESP point to stack crawl to
//
// Declaring these in EH clauses is illegal; 
// they must declared in the main method body 
```

容易受到影响的原因`GetCallingAssembly`是因为您正在寻找调用者的调用者，而局部变量只保证调用者**没有**被内联，这意味着祖父方法可能被内联导致意外结果。

# regex - Windows CMD 的 FINDSTR 错误的正则表达式匹配

> ID：12669517
> 
> 赞同：9
> 
> 时间：2012-10-01T08:05:46.243
> 
> 标签：regex, windows, batch-file, cmd

我需要检查一个字符串是否包含除数字之外的任何内容。但我有一个问题。

```
echo bdfbdfd | findstr /R [^0123456789] 
```

什么都不返回，但它应该返回 bdfbdfd。但

`echo 123 | findstr /R [^0123456789]`

返回“123”。为什么？它应该反之亦然。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-01T08:31:35.053

经过大量测试后，我们开始：

```
echo 123 | findstr /R "[^0123456789]"
        ^ this space is what is matched, remove it and it won't match anything 
```

另一种方法是（正如 Christian.K 所说）逃避`^`这样的写作

```
echo 123| findstr /R [^^0123456789] 
```

（注意`^^`）

对于`bdfbdfd`将第二个正则表达式放在中间`""`并删除空格的部分，它可以用于指定的字符串。

编辑：

请注意，您匹配的是单个字符。在比赛中

```
echo bdfbdfd | findstr /R [^0123456789] 
```

没有任何内容匹配，因为您的字符串不包含任何数字（不包括`^`需要转义的数字）。在

```
echo 123 | findstr /R [^0123456789] 
```

你匹配的第一个数字。使用您的正则表达式，您将匹配包含单个匹配项的任何字符串，因此尝试`123(space)`与正则表达式匹配`[^^0123456789]`也会将整个字符串作为匹配项输出，因为字符串末尾的非数字字符。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-01T08:29:00.610

是的`^`转义字符`CMD.EXE`。

你需要用另一个来逃避它：

```
 echo xxxx | findstr /R [^^0123456789] 
```

或在模式周围使用引号：

```
 echo xxxx | findstr /R "[^0123456789]" 
```

**更新**：实际上以下部分是错误的，因为您正在寻找“除数字之外的任何其他内容”。以下不适用于像“1x”这样的输入字符串，它显然包含除数字之外的其他内容。因此，可能最好的解决方案是使用@Gabber 建议的方法，即去掉管道前的空间。

```
 echo xxxx| findstr /R "[^0-9]" 
```

~~此外，您需要删除 (pipe) 之前的空格（请参阅@Gabber 的答案）`|`，或者确保模式从行的开头匹配（这里有几个选项）：~~

 ~~```
 echo xxxx | findstr /R "^[^0123456789]"
   echo xxxx | findstr /R ^^[^^0123456789]
   echo xxxx | findstr /B /R "[^0123456789]"
   echo xxxx | findstr /B /R ^^[^^0123456789] 
```~~ 

`[0-9]`最后，您可以通过使用而不是列出所有数字来缩短您的模式：

```
 echo xxxx | findstr /B /R "[^0-9]" 
```

 ~~您仍然可以将您的模式压缩为`[0-9]`：

```
 echo xxxx| findstr /R "[^0-9]" 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-11-18T21:49:18.677

也许您可以在捕获变量中的字符串时尝试此操作，并在匹配或不匹配的情况下设置选项：

```
echo.%Name% | findstr /R [^0-9]Nul && (
  echo There was a match in Name variable contents
) || (
  echo Match Not Found
) 
```~~

# java - 在 tomcat 5.5 中部署时出错

> ID：12669520
> 
> 赞同：1
> 
> 时间：2012-10-01T08:05:58.087
> 
> 标签：java, spring, jakarta-ee, tomcat

我试图在 tomcat 5.5 上部署应用程序我收到以下错误，我的类路径中有 spring 2.5.6 jar，请告知..

```
EVERE: Error configuring application listener of class org.springframework.web.context.ContextLoaderListener
java.lang.ClassNotFoundException: org.springframework.web.context.ContextLoaderListener
    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1438)
    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1284)
    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:3743)
    at org.apache.catalina.core.StandardContext.start(StandardContext.java:4252)
    at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1014)
    at org.apache.catalina.core.StandardHost.start(StandardHost.java:736)
    at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1014)
    at org.apache.catalina.core.StandardEngine.start(StandardEngine.java:443)
    at org.apache.catalina.core.StandardService.start(StandardService.java:448)
    at org.apache.catalina.core.StandardServer.start(StandardServer.java:700)
    at org.apache.catalina.startup.Catalina.start(Catalina.java:552)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
    at java.lang.reflect.Method.invoke(Unknown Source)
    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:295)
    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:433)
Oct 1, 2012 1:33:21 PM org.apache.catalina.core.StandardContext listenerStart 
```

请告知，因为我因此而陷入困境.. !!

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-01T08:13:37.307

您缺少 spring-web.jar 库，或者它不在 tomcat 看到它的正确位置。这些库应该在您的 webapp 或全局 lib 目录中的 /WEB-INF/lib/ 下。请参阅：http: [//tomcat.apache.org/tomcat-6.0-doc/class-loader-howto.html](http://tomcat.apache.org/tomcat-6.0-doc/class-loader-howto.html) tomcat 加载库的所有位置。

# jquery - 编辑表单时显示/隐藏持久性，其中单选按钮用于显示/隐藏表单元素

> ID：12669525
> 
> 赞同：1
> 
> 时间：2012-10-01T08:06:22.370
> 
> 标签：jquery, ruby-on-rails, refactoring

此代码正在运行，但在 Jquery 脚本中必须有更好的方法来执行此操作。

这是我的单选按钮

```
<%= f.radio_button :losstype, "Cash", :id => 'lc' %>Cash
<%= f.radio_button :losstype, "Asset",:id => 'rb' %>Asset 
<%= f.radio_button :losstype, "Supplies", :id => 'ab' %>Supplies 
```

这是我现在隐藏的一点。

```
<% if @assetloss.losstype == "Asset"   %>
 <div id="asset_list" style="display: show;">
<% else %>
 <div id="asset_list" style="display: none;">
<% end >
A drop down list to be shown
</div> 
```

和 Jquery 部分

```
$j(document).ready(function(){ 
    $j("input[id='lc']").change(function() {  
    $j("#asset_list").hide();  
  } );
$j("input[id='rb']").change(function() {  
  $j("#asset_list").show("slide");  
} ); 
    $j("input[id='ab']").change(function() {  
  $j("#asset_list").hide(); 
} );
} ); 
```

在选中的单选按钮上呈现标记

```
<input checked="checked" id="rb" name="asset_loss[loss_type]" type="radio" value="Asset"/> 
```

虽然它有效，但我确信有更好的方法可以做到这一点，所以我想我会寻求重构帮助。

提前谢谢了

Ed1。我已经意识到这是一个 Jquery 问题，需要它来检查是否检查了“input[id='rb']”（来自 db）然后 $j("#asset_list").show(); 无需更改监听器

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-02T14:42:04.983

首先，我会给它们一个相同的名称，以便将它们组合在一起。

```
$j("input[name='btnGroupName']").change(function() {  
 if($('#rb').is(':checked')) { 
    $j("#asset_list").show("slide");
  }else{
    $j("#asset_list").hide();
  }
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T07:02:11.993

只是为了整理所有内容，并说明一些问题。这是最终的代码。

我的单选按钮在视图中。

```
<%= f.radio_button :loss_type, "cash",    :id => 'button_cash',     :class => 'lt'%>Cash 
<%= f.radio_button :loss_type, "asset",   :id => 'button_asset',    :class => 'lt'%>Asset
<%= f.radio_button :loss_type, "supplies",:id => 'button_supplies', :class => 'lt'%>Supplies 
```

您不能为此使用 :name ，单选按钮组名称是使用 Rails 魔术创建的，并且更改这意味着您的数据将不会保存到数据库中。

创建的名称是例如 name="asset_loss[loss_type]"，它反映了“model[:field]”。你可以使用它，但 Jquery 会因为 " " 没有正确封装而绊倒。

例如

```
$j("input[name="asset_loss[loss_type]"]").change(function() { 
```

意味着块是“输入[名称=”和“]”并且不起作用。

所以最终的 JQuery 代码是

```
$j(document).ready(function(){ 
   $j("input[class='lt']").change(function() {  
     if($j('#button_asset').is(':checked')) { 
       $j("#asset_list").show();
     }else if ($j('#button_cash').is(':checked')){
       $j("#cash_type").show();
     }else if($j('#button_supplies').is(':checked')){
       // TODO : Partial for stationery
     }
}); 
```

这将正常工作。然而，回到持久性的主要问题。此 JQuery 代码仅在发生更改时执行。因此，当您返回页面（或重新加载）时，它不会从数据库中读取，请检查值是什么并适当地显示/隐藏字段。

为此，我重复了上面的所有 JQuery 代码，但改变了

```
$j("input[class='lt']").change(function() { 
```

至

```
$j("input[class='lt']").each(function() { 
```

现在，如果有人知道如何将这两者串在一起并使其干燥，欢迎发表评论。希望这可以帮助任何试图做到这一点的人。

# python - 为什么在部署 gunicorn 时创建符号链接

> ID：12669528
> 
> 赞同：0
> 
> 时间：2012-10-01T08:06:39.537
> 
> 标签：python, gunicorn

我将使用 runit 来启动我的 gunicorn 服务器。以下链接——

> [http://gunicorn.org/deploy.html](http://gunicorn.org/deploy.html)

指出启动脚本应在 /etc/sv/[app_name]/run 下创建，然后应符号链接到 /etc/service/[app_name]/run

符号链接的目的是什么？为什么不直接在 /etc/service/ dir 中创建文件？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T08:12:54.277

符号链接的创建和删除成本很低。如果要停用服务，可以删除符号链接。由于脚本不会被删除，因此恢复服务很简单。

如果您必须删除脚本，恢复服务将意味着重新安装整个应用程序或至少从“某处”恢复脚本。

# android - Android（单声道）圆圈不是圆圈

> ID：12669534
> 
> 赞同：0
> 
> 时间：2012-10-01T08:07:22.300
> 
> 标签：android, canvas

我正在将应用程序移植到android，或者确切地说是android 的mono，并且发现`canvas.DrawCircle`（或DrawArc 或DrawOval）实际上并没有绘制真正的圆圈。在圆周围的点处，以 1/8 圈数的倍数绘制的圆超出圆的真实半径。

我不能发布图片，非常感谢，所以这里是实际图片的链接。

[链接到演示问题的屏幕截图](http://paul.dev.onpix.com/Screenshot.png)

屏幕截图显示了一个圆圈。绿线穿过的绿点是使用以下方法在圆原点周围以特定角度绘制的点。

```
 for (float i = 0; i < 360; i += 11.25F)
            {
                float x = circleOriginX + (float)Math.Cos(i * Math.PI / 180F) * circleRadius;
                float y = circleOriginY + (float)Math.Sin(i * Math.PI / 180F) * circleRadius;

                canvas.DrawLine(x, 0, x, viewH, p);
                canvas.DrawLine(0, y, viewW, y, p);
                canvas.DrawCircle(x, y, 2, p);
            } 
```

问题是我真的，​​真的需要这个圈子是一个圈子。

有人对我如何画一个真正的圆圈有任何建议吗？

# iphone - Objective C中动画之间的延迟

> ID：12669536
> 
> 赞同：0
> 
> 时间：2012-10-01T08:07:35.417
> 
> 标签：iphone, objective-c, animation, xcode4.5

我试图在将每个按钮的 alpha 转换为 0.0 之间进行延迟，但我所拥有的不起作用。

```
[UIView animateWithDuration:1.5 delay:.25 options:UIViewAnimationCurveLinear animations:^{button.alpha = 0.0;
            button2.alpha = 0.0;
            button3.alpha = 0.0;
            button4.alpha = 0.0;
            button5.alpha = 0.0;} completion:^(BOOL finished){ ; }]; 
```

延迟动画是如何实现的？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-01T08:15:34.113

延迟是启动动画，而不是动画块中每次更改之间的延迟。

通过拥有一系列按钮并决定手动创建单个变量而不是使用数组，您给自己带来了不必要的困难。如果您有一组变量，通常应该将它们存储在某种集合中。

如果它们在数组中，这是一种方法：

```
NSUInteger i = 0;
float duration = 1.5f;
for (UIButton *button in buttons) {
    [UIView animateWithDuration:duration delay:0.25f+duration*i UIViewAnimationCurveLinear animations:^{
        button.alpha = 0.0f;
    } completion:NULL];
    ++i;
} 
```

# iphone - 将请求链接分为两部分

> ID：12669542
> 
> 赞同：0
> 
> 时间：2012-10-01T08:07:55.870
> 
> 标签：iphone, xcode, https

我已经提供了 GET 请求。在 API 字符串中，我应该放入一些数据，这些数据是我在运行应用程序后得到的，所以我需要将整个字符串分成两部分，并将我的结果，即 resultText 放在两者之间。所以我用 startQuery 和 endQuery 做到了。但是我在为这个应用程序收费时失败了。希望有人有想法。这是一些截图： ![失败](../Images/390f683156d9e039cb840aa45f12a911.png) ![X代码说明](../Images/0fcced01329210eef6c426344e5e065e.png)

```
- (void)makeRequest
{
    if (_responseData == nil)
    {
        _responseData = [NSMutableData new];
    }

    NSString* startQuery = [NSString stringWithString:@"https://www.wikifood.eu/wikifood/en/struts/xxxxxxxx.do?method=getProductOverview&query="];
    NSString* endQuery = [NSString stringWithString:@"&startAt=0&limit=5&filter=true&loginname=xxxxxx&password=6f052cxxx15a4c2813baf3x75xx51dead1f4fe2"];

    NSURL *url = [NSURL URLWithString:[[NSString stringWithFormat:@"%@%@%@", startQuery, resultText.text, endQuery] stringByAddingPercentEscapesUsingEncoding:NSASCIIStringEncoding]];

    NSURLRequest* request = [NSURLRequest requestWithURL:url];
    _urlConnection = [[NSURLConnection alloc] initWithRequest:request delegate:self];
} 
```

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T11:47:15.433

您看到的两个警告是因为您使用`NSString stringWithString`的时候可以只使用文字字符串。

代替：

```
NSString* startQuery = [NSString stringWithString:@"https://www.wikifood.eu/wikifood/en/struts/xxxxxxxx.do?method=getProductOverview&query="];
NSString* endQuery = [NSString stringWithString:@"&startAt=0&limit=5&filter=true&loginname=xxxxxx&password=6f052cxxx15a4c2813baf3x75xx51dead1f4fe2"]; 
```

和：

```
NSString* startQuery = @"https://www.wikifood.eu/wikifood/en/struts/xxxxxxxx.do?method=getProductOverview&query=";
NSString* endQuery = @"&startAt=0&limit=5&filter=true&loginname=xxxxxx&password=6f052cxxx15a4c2813baf3x75xx51dead1f4fe2"; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T08:18:18.850

不确定，但您正在添加百分比转义：stringByAddingPercentEscapesUsingEncoding:NSASCIIStringEncoding

但是你在整个字符串上都这样做......我认为你的意思是：

```
 NSURL *url = [NSURL URLWithString:[NSString stringWithFormat:@"%@%@%@", startQuery, [resultText.text stringByAddingPercentEscapesUsingEncoding:NSASCIIStringEncoding], endQuery]]; 
```

你的 URL 不需要转义，你知道的，没关系，只是你的“不安全”文本

再说一遍：不确定，我还没有打开 XCode 试试 ^^

# python - 重新加载并重置

> ID：12669546
> 
> 赞同：0
> 
> 时间：2012-10-01T08:08:25.683
> 
> 标签：python

我需要在 python 中完全重新加载一个模块。我所说的“完全”的意思是我不想要以下功能（来自内置重新加载功能的 python 2.6 文档）：

> “...如果模块的新版本没有定义旧版本定义的名称，则旧定义仍然存在...”。

即我不希望保留在新模块版本中消失的旧名称。

实现这一目标的最佳实践是什么？

谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-01T10:23:32.513

从中删除模块`sys.modules`并重新导入可能是一个开始，尽管我没有在以下范围内对其进行测试：

```
import itertools

itertools.TEST = 7
reload(itertools)
print itertools.TEST
# 7

import sys
del sys.modules['itertools']
import itertools
print itertools.TEST

#Traceback (most recent call last):
#  File "/home/jon/stackoverflow/12669546-reload-with-reset.py", line 10, in <module>
#    print itertools.TEST
# AttributeError: 'module' object has no attribute 'TEST' 
```

* * *

使用第 3 方模块进行测试

```
>>> import pandas
>>> import sys
>>> del sys.modules['pandas']
>>> import pandas
Traceback (most recent call last):
  File "<pyshell#3>", line 1, in <module>
    import pandas
  File "/usr/local/lib/python2.7/dist-packages/pandas-0.7.3-py2.7-linux-x86_64.egg/pandas/__init__.py", line 10, in <module>
    import pandas._tseries as lib
AttributeError: 'module' object has no attribute '_tseries'
>>> to_del = [m for m in sys.modules if m.startswith('pandas.')]
>>> for td in to_del:
    del sys.modules[td]

>>> import pandas
>>> # now it works 
```

# javascript - FadeSlideShow - Javascript 目标 = "_blank"

> ID：12669551
> 
> 赞同：1
> 
> 时间：2012-10-01T08:08:49.223
> 
> 标签：javascript, show, slide, window.open

我的网站上有一张图片幻灯片，我希望在新窗口中打开链接...

```
<script type="text/javascript">

var mygallery=new fadeSlideShow({
wrapperid: "fadeshow1", //ID of blank DIV on page to house Slideshow
dimensions: [860, 500], //width/height of gallery in pixels. Should reflect dimensions        of largest image
imagearray:  [
    ["mil/aircrafthangar.jpg", "http://www.rubbmilitary.com/products/aircraft_hangars.html", "", "Rubb Military 20m Span EFASS Aircraft and Helicopter Hangar"],
    ["mil/helihangar.jpg", "http://www.rubbmilitary.com/products/helicopter_hangars.html", "", "Rubb Military 25m Span EFASS Aircraft and Helicopter Hangars"],
    ["mil/vehiclehangar.jpg", "http://www.rubbmilitary.com/products/small_aircraft_hangars.html", "", "Rubb Military 11m Span EFASS Vehicle and small Aircraft Hangars"],
    ["mil/sunshade.jpg", "http://www.rubbmilitary.com/products/aircraft_sunshades.html", "", "Rubb Military EFASS Sunshade Covering Aircraft and Helicopters"],
    ["mil/warehouse.jpg", "http://www.rubbmilitary.com/products/military_warehouse.html", "", "Rubb Military EFASS Mass Storage Warehouse"] //<--no trailing comma after very last image element!
],
displaymode: {type:'auto', pause:2500, cycles:0, wraparound:false},
persist: false, //remember last viewed slide and recall within same session?
fadeduration: 1000, //transition duration (milliseconds)
descreveal: "ondemand",
togglerid: "" 
```

})

```
</script> 
```

任何帮助或建议都会很棒。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T08:16:47.427

图像数组的第三个参数可能是超链接的目标。试试这个。

```
["mil/aircrafthangar.jpg",
"http://www.rubbmilitary.com/products/aircraft_hangars.html",
"_blank",
"Rubb Military 20m Span EFASS Aircraft and Helicopter Hangar"] 
```

您应该对数组中的每个图像使用“_blank”。

# objective-c - Mac 系统状态栏焦点

> ID：12669557
> 
> 赞同：3
> 
> 时间：2012-10-01T08:09:37.720
> 
> 标签：objective-c, macos, cocoa, nsstatusitem, nsstatusbar

我通过以下代码向我的 systemStatusBar 添加了一个菜单：

```
statusItem = [[[NSStatusBar systemStatusBar] statusItemWithLength:NSVariableStatusItemLength] retain]; 
```

然后设置它的属性。它与其他状态项（音量、日期时间、Wi-Fi、BatteryIndi​​cator 等）的唯一不同是，如果我选择它并按下键盘上的左或右方向按钮，我将无法导航到其他项目，同样明智如果我选择另一个状态项并按方向键，它将不会选择我的状态项，而是跳转到另一个状态项。我想知道有没有办法解决这个问题，还是非操作系统状态项的标准？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-18T08:23:52.747

你看到的菜单栏不是一个统一的对象。左侧的应用程序菜单项属于当前应用程序。所有这些 MenuItem 都是公共`NSMenu`对象的子项。

最右侧的状态栏项目属于系统（Spotlight、Clock、TimeMachine 等），或者也共享一个共同的父项`NSMenu`，或者只是具有一些特殊权限。

每个自定义状态栏菜单项都属于其相应的应用程序，并有自己的独立`NSMenu`父对象。如您所知，每个状态菜单都插入到`NSStatusItem`属于`NSStatusBar`对象的 a 中。两者都直接继承自`NSObject`并且（与 不同`NSMenu`）缺少接口来确定状态菜单的父级或兄弟级。每个状态栏项目都被它绝对隔离。

因此，您可以使用 中的箭头键轻松导航`NSMenu`，其中每个项目都知道其子项和父项。但是，无法从您的状态栏菜单导航到任何其他菜单。

# javascript - 需要双重包含 jquery 的 javascript 错误

> ID：12669558
> 
> 赞同：1
> 
> 时间：2012-10-01T08:09:43.450
> 
> 标签：javascript, jquery

所以我正在制作一个网站，并在页面中移动了一些脚本，突然之间，一些脚本停止在我的客户端 PC 上运行。我不得不做一些尝试，它终于奏效了，但我不知道是什么导致了问题。

这是它不工作时的结构

```
<html>
<head>
<script type='text/javascript' src='somepath/script/jquery.js'></script>
<script type='text/javascript'>
//some custom jquery script
</script>
</head>
<body>
....lots of stuff
</body>
</html>
<script type='text/javascript' src="sompath/some_jquery_plugin.js'></script>
<script type='text/javascript'>
//some custom jquery script
</script> 
```

这是它工作时的结构

```
<html>
<head>
<script type='text/javascript' src='somepath/script/jquery.js'></script>
<script type='text/javascript'>
//some custom jquery script
</script>
</head>
<body>
....lots of stuff
</body>
</html>
<script type='text/javascript' src='somepath/script/jquery.js'></script>
<script type='text/javascript' src="sompath/some_jquery_plugin.js'></script>
<script type='text/javascript'>
//some custom jquery script
</script> 
```

即注意最后包含的附加 jquery.js....

什么可能的原因导致了这种情况？特别是因为它在所有浏览器上都可以在我的系统上运行，但不能在我的客户端上运行。

****** ******更新****** ** *** ****** 我认为 jquery 在中间某处停止工作......即我最后有这个脚本**

 **```
$('#start').val('0000.00.00 00:00');
$('#end').val('0000.00.00 00:00'); 
```

但是带有“start”和“end” id 的字段没有显示给定的数据。因此需要额外包含 jquery。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T08:26:30.503

第一个内联脚本是否使用[`jQuery.noConflict`](http://api.jquery.com/jQuery.noConflict/)（或`$.noConflict`）？您的示例中的“”是否`....lots of stuff`加载了可能重新定义`$`对象的其他库，例如 Prototype？这可能是问题所在。

尝试将所有代码放在第二个脚本标签中：

```
(function ($) {
    // YOUR CODE HERE
}(jQuery)); 
```

（并删除第二个 jQuery 包含），看看是否有帮助。

如果您的代码已经包含在：

```
$(document).ready(function () {
    // your code
}); 
```

或者：

```
$(function () {
    // your code
}); 
```

然后尝试将其更改为：

```
jQuery(document).ready(function ($) {
    // your code
}); 
```

或者：

```
jQuery(function ($) {
    // your code
}); 
```

（**请注意，它是`function ($)`代替`function ()`**）

（您可能还需要将插件放在第一个 jQuery 下方，以防它不是以适用于`$`未定义或重新定义的方式编写的，但对于正确编写的插件通常不需要。）**

# grid - 如果我遍历它，grid.selection 就会丢失

> ID：12669559
> 
> 赞同：0
> 
> 时间：2012-10-01T08:09:45.753
> 
> 标签：grid, selection, dojo, dgrid

当我遍历 grid.selection 参数（小部件 dgrid**）时，它只会在 grid.selection 内给我第一个值，然后它变为 null，网格内的选择也会丢失。我怎样才能避免这种情况？是否有任何参数可以避免这种行为？

**http://www.sitepen.com/blog/2011/10/26/introducing-the-next-grid-dgrid/

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T19:22:48.640

我相信这`grid.selection`是所选行的对象哈希（rowNo => bool）。

对于对象的迭代，您可以使用以下循环：

```
for(var attrName in grid.selection) {
    // some browsers also include prototypes (natives), avoid these like this
    if(grid.selection.hasOwnProperty(attrName) && grid.selection[attrName] == true) {
        selectedRowIter = grid.row(parseInt(attrName));
        // there's the data
    }
} 
```

希望它证明有用:)

# delphi - 来自 Indy 消息的额外标题信息

> ID：12669560
> 
> 赞同：0
> 
> 时间：2012-10-01T08:09:46.227
> 
> 标签：delphi, indy

我正在使用 Delphi 2007 中的 Indy 从 IMAP 帐户中读取电子邮件标头。

Msg (TidMessage) Date 属性给出了发送电子邮件的日期和时间（从客户端），我试图通过检查 ExtraHeaders 属性来获取服务器接收电子邮件的日期和时间，可以这样做吗？

到目前为止，我已经尝试过 Msg.ExtraHeaders.Values['Received'] 和 Msg.ExtraHeaders.Text，它们都返回了一个空字符串。

我会以正确的方式解决这个问题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-02T00:01:38.753

没有专门用于指示服务器接收电子邮件的日期/时间的标题。如果服务器想要`"X-..."`为此目的创建自定义标头，则由它自己决定。您无法使用 Indy 强制服务器执行此操作。

话虽如此，所有电子邮件都有一系列`"Received"`标题，以提供电子邮件经过哪些服务器到达目的地的历史记录。您可以从中提取该数据`TIdMessage.Headers`，例如 with `Headers.Extract('Received')`（请记住，可以有多个`"Received"`标头），然后根据需要手动解析它。 `TIdMessage.ExtraHeaders`接收电子邮件时没有意义，只有在发送时才有意义。

# python - 保存 django 外键值

> ID：12669563
> 
> 赞同：0
> 
> 时间：2012-10-01T08:10:12.557
> 
> 标签：python, django

我创建了一个表单来添加产品，但**在 /product/add_product/ 处出现类似 ValueError 的错误无法分配“u'1'”：“Product.category”必须是“Category”实例。**

我假设它与未正确发送外键值有关，当我使用**打印**语句时，我可以看到从表单传递的值，

我是否正确保存数据？

我的模型.py

```
from django.db import models

class Category(models.Model):
    name = models.CharField(max_length=250)

    def __unicode__(self):
        return self.name

class Product(models.Model):
    category = models.ForeignKey(Category)
    product = models.CharField(max_length=250)
    quantity = models.IntegerField(default=0)
    price = models.FloatField(default=0.0)

    def __unicode__(self):
        return self.product 
```

我的观点.py

```
def add_product(request):
    post = request.POST.copy()

    category = post['category']
    product = post['product']
    quantity = post['quantity']
    price = post['price']

    new_product = Product(category = category, product = product, quantity = quantity, price = price )       
    return render_to_response('product/add_product.html') 
```

**编辑：这就是我的 HTML 页面表单的样子**

```
<form method="post" action="add_product/">
        {% csrf_token %}
        <label for="category">Category</label>
        <select name="category" id="category">
        {% for category in category_list %}
          <option> {{ category.id }} </option>
        {% endfor %}
        </select>

        <label for="product">Product</label>
        <input type="text" name="product" id="product">

        <label for="quantity">Quantitiy</label>
        <input type="text" name="quantity" id="quantity">

        <label for="price">Price</label>
        <input type="text" name="price" id="price">

        <input type="submit" value="Add New product" id="create">
    </form> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-01T08:18:58.707

您正在使用类别`category = post['category']`，它将`post['category']`作为带有字段值的 unicode 字符串给出`id`。取而代之的是，您可以这样做

```
category = Category.objects.get(id=post['category']) 
```

但我建议使用[模型](https://docs.djangoproject.com/en/dev/topics/forms/modelforms/)表单（如果你还没有这样做）来构建表单并保存对象，这将为你提供更多的验证、错误处理等功能。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-01T08:15:46.360

否。要么执行查找以找到实际模型，要么在转换为数字后分配给[等效的支持字段。](https://docs.djangoproject.com/en/dev/ref/models/fields/#database-representation)

# html - 悬停时我想刷新我的页面

> ID：12669570
> 
> 赞同：1
> 
> 时间：2012-10-01T08:10:43.780
> 
> 标签：html, css, refresh

这是我的代码

```
<input type="button"  class="refresh" value="refresh">

<style>

.refresh {
    -moz-border-radius: 5px 5px 5px 5px;
    background: none repeat scroll 0 0 green;
    border: medium none navy;
    padding: 5px 15px;
    cursor:pointer;  } .refresh:hover{background: none repeat scroll 0 0 red;}   </style> 
```

我想通过 CSS 在悬停时刷新我的页面。这可能吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-01T08:13:21.580

不，您需要编写 Javascript 代码

下面是 jQuery（javascript 库）代码

```
$('.refresh').hover(function(){

window.location.reload();

}); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-01T08:13:41.930

看到 CSS 用于样式，我会说不......这很可能是用 Javascript 完成的。例如：

```
onmouseover="window.location.reload()" 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-01T08:29:27.473

只需在您的链接上使用 onmouseover="function(this)" ，如下面的链接：

[http://www.w3schools.com/jsref/event_onmouseover.asp](http://www.w3schools.com/jsref/event_onmouseover.asp)

# javascript - jQuery 中的 for 循环。我需要以增量运行脚本 20 次

> ID：12669571
> 
> 赞同：-1
> 
> 时间：2012-10-01T08:10:56.520
> 
> 标签：javascript, jquery

我不知道 jquery 中的循环。我希望以下代码作为从 product1 到 product20 的循环运行，并检查是否 quantity1 到 quantity20 没有值，然后将其设置为 1。

```
$('#product1').change(function() {
    if(  $('#quantity1').val().length == 0 ){
        $('#quantity1').val("1");
    }
});

$('#product2').change(function() {
    if(  $('#quantity2').val().length == 0 ){
        $('#quantity2').val("1");
    }
}); 
```

先感谢您。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-01T08:17:18.847

我认为该`each`方法是这里最好的解决方案，因为无论如何您都需要一个匿名函数来创建一个保存每次迭代值的闭包（因为事件处理程序稍后运行，每个都需要自己的循环计数器版本）：

```
$.each(new Array(20), function(i){
  $('#product' + (i+1)).change(function() {
    var q = $('#quantity' + (i+1));
    if (q.val().length == 0 ){
      q.val("1");
    }
  });
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-01T08:16:52.007

您可以尝试为所有`id`以开头的输入添加事件处理程序`product`

```
$('input[id^="product"]').change(function() {
    var len=$(this).attr('id').length;
    var q='#quantity'+$(this).attr('id').substr(7);
    if($(q).val().length == 0 ){
        $(q).val(1);
    }
}); 
```

[**演示**](http://jsbin.com/iximur/5/edit)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-01T08:16:36.383

阅读[本文](http://api.jquery.com/each/)以获取有关 jquery 循环的更多信息。

使用从选择器开始来选择您的控件。阅读[本文](http://api.jquery.com/attribute-starts-with-selector/)了解详情。

您可以使用如下 jQuery 函数：

```
$('input[id^="product"]').each(function(index) {
$(this).change(function() {
            if(  $(this).val().length == 0 ){
                $(this).val("1");
            }
});
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-01T08:26:00.377

只需使用普通的 Java 脚本进行循环

```
for (i=0; i<5; i++)
{
  $('#product'+i).change(function() {
    if(  $('#quantity'+i).val().length == 0 ){
        $('#quantity'+i).val("1");
    }
});
} 
```

# java - 在生成html后消除分隔primefaces layoutUnit的元素

> ID：12669578
> 
> 赞同：3
> 
> 时间：2012-10-01T08:11:07.053
> 
> 标签：java, jsf, primefaces

是否可以消除或编辑分隔 primefaces layoutUnit 元素（顶部、西部、中心等）的元素？这些元素的 id 以 -resizer 结尾

我在 primefaces-3.1.1.jar 中找不到哪个类。

比如当元素 layoutUnit west 生成成 html 后有 css 属性

```
position: absolute;
left: 0px;
width: 94px; 
```

然后生成到html元素后的正确layoutUnit具有css属性

```
position: absolute;
left: 107px; 
```

因为在它们之间生成了带有属性的调整大小元素（div）

```
position: absolute;
left: 100px;
width: 6px; 
```

我怎样才能避免这种影响？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-21T15:41:25.853

使用装订线属性。将其设置为零

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-31T20:34:52.377

经过大量的辛勤工作，我做到了这一点，它就像那样工作。调整器不见了。将此添加到您的CSS

.ui-layout-resizer, .ui-layout-resizer-north, .ui-layout-resizer-open, .ui-layout-resizer-north-open{ height:0px !important; }

# java - 在方法调用 session.save/update 中使用拦截器锁定休眠会话的目的

> ID：12669579
> 
> 赞同：0
> 
> 时间：2012-10-01T08:11:07.007
> 
> 标签：java, hibernate

请帮助我了解会话锁定的用法。

使用 AOP 拦截器将 Hibernate 会话重新关联到分离的对象，该拦截器将执行以下逻辑

```
session.buildLockRequest(LockOptions.NONE).lock(object); 
```

在调用 session.save/update 的方法中使用这个拦截器有什么好处吗？

使用会话锁时会忽略乐观锁吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T10:26:45.793

取决于对象是什么。这将基本上告诉会话对象是一个*未修改的持久实体*，现在应该像通过会话加载的对象一样将其关联到会话。

# installation - 复制所有文件后可能有 NSIS 回调函数吗？

> ID：12669581
> 
> 赞同：0
> 
> 时间：2012-10-01T08:11:09.427
> 
> 标签：installation, nsis

为了优化我的 MUI 2 NSIS 设置，我在[回调函数](http://nsis.sourceforge.net/Docs/Chapter4.html#4.7.2.1.4)`ExecWait`中进行了一些调用，我[在文档](http://nsis.sourceforge.net/Docs/Chapter4.html)中搜索以找到一个被调用的回调：[`.onInstSuccess`](http://nsis.sourceforge.net/Docs/Chapter4.html#4.7.2.1.4)

*   文件全部复制后-并且*-*
*   在向导页面从文件复制页面切换到完成页面之前。

不幸的是，我没有找到这样的回调。

**因此我的问题是：**

是否可以在复制文件之后和从文件复制页面切换向导页面之前进行一些自定义处理？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T08:20:36.757

刚刚自己找到了解决方案（也许[安德斯](https://stackoverflow.com/users/3501/anders)会有更好的解决方案）：

[MUI 2](http://nsis.sourceforge.net/Docs/Modern%20UI%202/Readme.html)允许定义自定义回调函数，所以我在定义之前使用了[`MUI_PAGE_CUSTOMFUNCTION_LEAVE`宏](http://nsis.sourceforge.net/Demonstrating_Page%27s_Custom_Functions_Pre_Show_Leave)

```
!insertmacro MUI_PAGE_INSTFILES 
```

注册自定义函数。所以我的 NSI 文件看起来像：

```
...
!define MUI_PAGE_CUSTOMFUNCTION_LEAVE inst_leave
!insertmacro MUI_PAGE_INSTFILES
... 
```

`inst_leave`像_

```
Function inst_leave
    ...
FunctionEnd 
```

这成功了。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-01T15:35:59.247

使用`MUI_PAGE_CUSTOMFUNCTION_LEAVE`是好的。这实际上取决于您是否希望在日志中打印“已完成”之前或之后执行操作。对于前者，您可以将代码粘贴在最后一节中：

```
Section
SetOutPath $Instdir
File "Foo"
File "Bar"

ExecWait '"$Instdir\dofinalthing.exe" /blah'
SectionEnd 
```

或者

```
Section
SetOutPath $Instdir
File "Foo"
File "Bar"
SectionEnd

Section -post
ExecWait '"$Instdir\dofinalthing.exe" /blah'
SectionEnd 
```

这当然会成为进度条的一部分，并将打印到日志中，除非您使用`setdetailsprint`...

# c++ - 为什么这只会产生一个空白的输出文件

> ID：12669584
> 
> 赞同：0
> 
> 时间：2012-10-01T08:11:19.737
> 
> 标签：c++, fstream

我有这段代码试图将我从管道（fd_3）收到的行写入输出文件。writer 打印接收到的行；然后这些行被正确打印，但输出文件每次都是空白的。有任何想法吗？

```
close(fd_3[WRITE_END]); //wont be writing to Munch2

ofstream outFile;
outFile.open("output.txt");
if(!outFile) {
    printf("File output.txt could not be opened");  
}

while(read(fd_3[READ_END], (void*)line.c_str(), BUFFER_SIZE)) {
    printf("writer receives: %s\n", line.c_str());
    outFile << line;
}

outFile.close();

close(fd_3[READ_END]); //done reading 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-01T08:28:34.680

大概是因为那个恐怖

```
while(read(fd_3[READ_END], (void*)line.c_str(), BUFFER_SIZE)) { 
```

修改 c_str() 是不允许的，而且这样做的可能性非常高，几乎完全可以肯定，这样做不仅会破坏内存，而且不会反映在字符串内容中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T09:14:47.730

问题可能在这里：

```
while(read(fd_3[READ_END], (void*)line.c_str(), BUFFER_SIZE)) { 
```

c_str 这里说：

```
std::string::c_str<string>const char* c_str ( ) const; 
```

获取等效的 C 字符串 生成与字符串对象具有相同内容的以空字符结尾的字符序列（c 字符串），并将其作为指向字符数组的指针返回。

所以它返回 const char * 这意味着一个指向你不能改变的字符的指针（你可以改变指针，所以 malloc 是好的，但是你不能改变指向的字符，所以 strcpy 是坏的）。

# iphone - SubscribeController.m:63 SUPPersistenceException：来自同步的 SUPPersistenceException：消息：执行用户供应时发生故障

> ID：12669588
> 
> 赞同：1
> 
> 时间：2012-10-01T08:11:24.607
> 
> 标签：iphone, objective-c

我正在为 Sup2.1.3 使用 SUP 示例应用程序，但在替换生成的代码后，它 id 给出以下错误：

> [SubscribeController.m:63] SUPPersistenceException：来自同步的 SUPPersistenceException：-- SUPSynchronizeException：同步失败：-857（错误）%1：[-10225] 消息：执行用户提供时发生故障

谁能知道为什么会出现这个异常以及如何解决这个问题？

提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T07:08:46.130

我正在解决同样的问题当我使用旧 MBO 应用程序时运行良好.. 但是一旦在 MBO 应用程序中进行更改就开始给出上述错误..

当我正确开发和部署 MBO 时，问题得到了解决。

# android - ABS Theme.Sherlock.Dialog 在 GingerBread 上显示对话框标题

> ID：12669590
> 
> 赞同：2
> 
> 时间：2012-10-01T08:11:33.820
> 
> 标签：android, actionbarsherlock

我的清单中有一个活动定义为 android:theme="Theme.Sherlock.Dialog"。在此对话框的活动的 OnCreate 函数中，我设置了 requestWindowFeature(Window.FEATURE_NO_TITLE); 在 ICS 集上，这工作正常。我得到一个没有标题的对话框，但在 GingerBread 手机上，对话框的标题仍然出现，标题是蓝线，下面是我的内容。这是我正在做的

```
<activity
        android:name=".activity.PictureChooserDialog"
        android:configChanges="keyboardHidden|orientation"
        android:label="Set a Picture To Upload"
        android:launchMode="singleTop"
        android:theme="@style/ThemeWithCorners" />

<style name="ThemeWithCorners" parent="Theme.Sherlock.Dialog">
    <item name="android:windowBackground">@drawable/dialog_round_corners</item>
    <item name="android:windowCloseOnTouchOutside">false</item>
</style>

public class PictureChooserDialog extends SherlockActivity {

protected void onCreate(final Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    requestWindowFeature(Window.FEATURE_NO_TITLE);
    setContentView(R.layout.dialog_picture_chooser_layout);

    //The dialog content

    ((Button) findViewById(R.id.cancelDialog))
            .setOnClickListener(new OnClickListener() {
                @Override
                public void onClick(View arg0) {
                    finish();

                }
            });

}

private class CustomClickListener implements ClickListener {

    public void onClick(final int index) {
        switch (index) {
        case 0:
            break;
        case 1:
            break;
        case 2:
            break;
        case 3:
            break;
        }

    }

}
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-01T09:25:38.433

阅读[https://github.com/JakeWharton/ActionBarSherlock/issues/500](https://github.com/JakeWharton/ActionBarSherlock/issues/500)上的帖子。不得不将 android.view.Window 更改为 com.actionbarsherlock.view.Window。setWindowFeature 然后工作。

# java - 编写我自己的异常类

> ID：12669593
> 
> 赞同：-4
> 
> 时间：2012-10-01T08:11:59.443
> 
> 标签：java, exception

```
公共类 ApplicationException 扩展异常
{
    私有静态最终长序列版本UID = 1L；

    公共应用程序异常（）
    {
        极好的（）;
    }

    公共应用程序异常（字符串消息）
    {
        超级（消息）；
    }
}

公共类实用程序
{
    public static byte[] ParseHehadecimalString(String s) // 错误 1
    {
        throw new ApplicationException("ParseHehadecimalString 未实现");
    }
}

公共类客户端扩展活动{
{
    公共无效 OnBtnSendClick（查看 v）
    {
        字符串 s = et_client_out.getText().toString();
        字节[] 字节；

        尝试
        {
            bytes = Utilities.ParseHehadecimalString(s);
        }
        catch(ApplicationException ex) // 错误 2
        {
            Toast.makeText(getApplicationContext(), ex.getMessage(), Toast.LENGTH_SHORT).show();
            返回;
       }
}

```

错误 1：未处理的异常类型 ApplicationException

错误 2：ApplicationException 的无法访问的 catch 块。从 try 语句体中永远不会抛出此异常

如何解决这个问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-01T08:14:05.557

错误 1 ​​需要看起来像

```
public static byte[] ParseHehadecimalString(String s) throws ApplicationException { 
```

错误 2 由于错误 1 ​​没有通过此异常。一旦错误 1 ​​被修复，错误 2 将消失

[此](http://docs.oracle.com/javase/tutorial/essential/exceptions/declaring.html)链接描述了如何向方法签名添加例外。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-01T08:14:17.390

声明方法抛出您的异常。这是很好的[链接](http://docs.oracle.com/javase/tutorial/essential/exceptions/)

```
public static byte[] ParseHehadecimalString(String s)  throws ApplicationException 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-01T08:14:29.940

尝试

```
public static byte[] ParseHehadecimalString(String s) throws ApplicationException 
```

这样，您将声明您的方法可能会引发该异常。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-10-01T08:14:47.717

您忘记声明您的方法抛出 ApplicationException：

```
public static byte[] ParseHehadecimalString(String s) throws ApplicationException 
```

您可能需要考虑使用[Eclipse](http://www.eclipse.org/)之类的 IDE ，它会立即指出此类错误。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2012-10-01T08:17:03.993

在 Java 中有已[检查和未检查的异常](https://stackoverflow.com/questions/6115896/java-checked-vs-unchecked-exception-explaination)。您的异常从异常扩展，因此它是一个检查异常。未经检查的异常从 RuntimeException 扩展而来。

被检查的异常需要在方法头中声明，以便编译器知道该方法可能会抛出这个异常。你没有这样做，所以编译器认为该方法不能抛出这个异常。未经检查的异常可能会被抛出，而无需在方法头中声明它们。

# objective-c - 在 UIScrollView 中裁剪 UIImage，就像在“移动和缩放”中一样

> ID：12669596
> 
> 赞同：1
> 
> 时间：2012-10-01T08:12:43.140
> 
> 标签：objective-c, ios, uiimage, uiimagepickercontroller

如何在 UIImagePickerController 中创建自定义“移动和缩放”视图？我需要移动和缩放我的自定义 UIImages，而不是来自照片库。或者也许有办法将 UIImage 传递给这个视图？ ![在此处输入图像描述](../Images/d32a3854300c917d1a68cd6cf2ffefc1.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T08:19:06.303

回答我的问题。[用很好的例子](http://codefuel.wordpress.com/2011/04/22/image-cropping-from-a-uiscrollview/)解决了这个问题。希望有人会有所帮助

# javascript - 用于递增或递减日期的函数 javascript 出现问题

> ID：12669600
> 
> 赞同：0
> 
> 时间：2012-10-01T08:12:59.190
> 
> 标签：javascript, function, date, onclick

我尝试构建的功能遇到了麻烦。

事实上，我有几个日期应该更改为 + x 天或 - x 天。

但并非所有日期都应更改。因为我有一些已确认的日期。

事实上，在 mysql 中，我有 date_action 和 date_validation 列。

当 data_validation ='0000-00-00' 表示未确认。当它等于一个日期时，它意味着它已被验证。

在我的页面中，我显示了许多信息。如果可能的话，我想更改所有未验证的日期，但我很迷茫我已经构建了该功能：

```
<script type="text/javascript">
function lz(x){
return x.toString().replace(/^(\d)$/,'0$1')
}

    function addday() {
        var items = new Array();
        var itemCount = document.getElementsByClassName("datepicker hasDatepicker");

            items[0] = document.getElementById("date" + (1)).value;

            items[1] = document.getElementById("date" + (2)).value;

            items[2] = document.getElementById("date" + (3)).value;

            items[3] = document.getElementById("date" + (4)).value;

            items[4] = document.getElementById("date" + (5)).value;

            items[5] = document.getElementById("date" + (6)).value;

            items[6] = document.getElementById("date" + (7)).value;

            items[7] = document.getElementById("date" + (8)).value;

            items[8] = document.getElementById("date" + (9)).value;

            items[9] = document.getElementById("date" + (10)).value;

        for (var i = 0; i < itemCount.length; i++) {
            items[i] = document.getElementById("date" + (i + 1)).value;
            var itemDtParts = items[i].split("-");
             var itemDt  = new Date(parseInt(itemDtParts[2],10), parseInt(itemDtParts[1],10)-1, parseInt(itemDtParts[0],10)+ +nb);
            nb=document.getElementById('nb').value;

                itemCount[i].value = lz(itemDt.getDate())+"-"+lz(itemDt.getMonth()+1)+"-"+itemDt.getFullYear()
        }

       return items;
           }

</script>
<script type="text/javascript">

    function subday() {
        var items = new Array();
        var itemCount = document.getElementsByClassName("date");

            items[0] = document.getElementById("date" + (1)).value;

            items[1] = document.getElementById("date" + (2)).value;

            items[2] = document.getElementById("date" + (3)).value;

            items[3] = document.getElementById("date" + (4)).value;

            items[4] = document.getElementById("date" + (5)).value;

            items[5] = document.getElementById("date" + (6)).value;

            items[6] = document.getElementById("date" + (7)).value;

            items[7] = document.getElementById("date" + (8)).value;

            items[8] = document.getElementById("date" + (9)).value;

            items[9] = document.getElementById("date" + (10)).value;

        for (var i = 0; i < itemCount.length; i++) {
            items[i] = document.getElementById("date" + (i + 1)).value;
            var itemDtParts = items[i].split("-");
             var itemDt  = new Date(parseInt(itemDtParts[2],10), parseInt(itemDtParts[1],10)-1, parseInt(itemDtParts[0],10)+ -nb);
            nb=document.getElementById('nb').value;

                itemCount[i].value = lz(itemDt.getDate())+"-"+lz(itemDt.getMonth()+1)+"-"+itemDt.getFullYear()
        }

       return items;
           }

</script> 
```

这是jsfiddle。事实上，它使用 mysql 的查询来选择好的日期，如下所示：

```
 <?php  $sql2 = "SELECT * FROM agenda WHERE n_doss='".mysql_real_escape_string($_GET['n_doss'])."' AND qualite='".mysql_real_escape_string($_GET['qualite'])."' AND liasse='".$_GET['liasse']."' AND `date_validation`='0000-00-00' ORDER BY `date_action` ASC" ;
  $rules2=mysql_query($sql2) ; $i2=0;
  while($data2=mysql_fetch_assoc($rules2)) {?>

            items[<?php echo $i2 ; ?>] = document.getElementById("date" + (<?php echo ++$i2 ; ?>)).value;

<?php }?> 
```

但它取代了与此更改无关的其他日期。

这是更精确的 jsfiddle [http://jsfiddle.net/pgLpj/](http://jsfiddle.net/pgLpj/)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T13:35:07.660

根据您帖子的标签，我假设您想使用 JavaScript 更改未验证的日期（在使用 Datepicker 时使用 jQuery）。

根据您链接的 jsFiddle， date_validation 显示为日期或与 regexp 不匹配的文本`/^[0-9]{2}-[0-9]{2}-[0-9]{4}$/`。

为了测试日期是否得到确认，因为您经常使用索引并使用`i`循环内部的变量和输入的命名结构：

```
if(!$('input[name="data['+i+'][date_validation]"]').val().match('/^[0-9]{2}-[0-9]{2}-[0-9]{4}$/')) {
  //date not confirmed > add the date element to the to-be-returned array
  items.push($('input[name="data['+i+'][date]"]')); //or use items[i]=$('#date'+(i+1)) as you did in your post
} 
```

希望这可以帮助！

# java - 用 Java 编写的 Windows 桌面应用程序的 Windows 8 商店认证

> ID：12669606
> 
> 赞同：13
> 
> 时间：2012-10-01T08:13:15.097
> 
> 标签：java, windows, windows-store, windows-store-apps

我有一个用 Java 编写并由安装程序包装的程序。它需要 Java 1.7。如果我使用“Windows 应用程序认证”运行认证，它会通过一个警告，说明已经安装了 Java 1.7。但是如果没有安装 Java 1.7，认证会停止，因为安装程序会要求安装 Java。

有人知道是否可以将此 Java 应用程序添加到 Windows 商店？

不幸的是，我还没有找到任何相关信息。我可以去申请认证，但如果微软不接受它，那就不值得了。

在查看电话和电子邮件后，似乎连微软本身也无法回答这个问题:-(

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-23T08:28:08.123

为了能够为 Windows 桌面应用程序分发，您必须创建一个公司帐户，这是一个相当大的过程。

比您必须创建该桌面仪表板帐户。在那里，您必须使用您的证书签署来自 Microsoft 的文件。但它必须是仅来自 Verisign 的特定证书。这是荒唐的！我已经有一个有效的证书，我为什么要为那个该死的 Windows 商店购买一个新证书。

尽管如此，我仍然不知道微软是否会允许用 Java 编写桌面应用程序。难怪 Windows 应用商店中的应用程序并不多！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-02T22:50:53.790

您是否尝试过安装低于 1.7 版本的 Java 引擎？您可以尝试这样做，如果需要安装 1.7 以使认证工作，如果您在安装过程中不断连接到 Internet，它将在线下载它。此外，请检查您的 Windows 操作系统是否未损坏或受损。Windows 注册表中的错误或错误确实会导致所有这些类型的事情，从而不允许系统知道 java 1.7 的存在

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-22T21:59:47.647

微软在一封邮件中告诉我，他们确实允许 Java 程序作为桌面应用程序。

“经过彻底调查，我们得出的结论是，您只能将 Java 运行应用程序发布为桌面应用程序。您需要注册为公司才能这样做。您可以将 Java 运行应用程序发布为桌面应用程序是因为桌面应用程序通常只是在商店中“做广告”。描述页面通常包含一个链接，将您带到开发者的网页，以便您下载应用程序。它与 Windows 8 应用程序不同可以直接从商店下载。如果这回答了您的问题，请告诉我。

真挚地，

乔尔**（因隐私而删除姓名（奥利维尔））

** @microsoft.com

4697756905

周一：上午 8 点至下午 5 点（美国中部标准时间）

周二至周五：美国中部标准时间下午 1 点至晚上 10 点

3 级市场升级工程师

微软拉斯科琳娜“

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-08-28T14:18:31.783

许多年后。但是对于像我这样遇到这个问题的人。现在存在 Project Centennial，它允许打包您的 win32 应用程序并将其发布到商店。

只需将您的应用程序与 jvm 一起打包到安装程序中，然后使用 Project Centennial 将其转换为 appx 并将它们上传到商店。

它仅适用于 Windows 10 周年更新

**更新**

*   2016-01-06：Windows 应用商店现在包括 DesktopAppConverter：[https ://www.microsoft.com/store/apps/9nblggh4skzw](https://www.microsoft.com/store/apps/9nblggh4skzw)
*   2016-01-06：InstallShield 现在可以使用 ProjectCentennial 从您的常规安装中生成 APPX：http: [//blogs.flexerasoftware.com/installtalk/project-centennial/](http://blogs.flexerasoftware.com/installtalk/project-centennial/)

问候

# twitter-bootstrap - 仅当用户单击关闭图像时如何关闭引导模式？

> ID：12669607
> 
> 赞同：42
> 
> 时间：2012-10-01T08:13:15.557
> 
> 标签：twitter-bootstrap, modal-dialog

我只想在用户单击关闭 btn 时关闭模式。正如我所见，我需要从 modal.js 覆盖这部分代码：

```
 hide: function (e) {
    e && e.preventDefault()

    var that = this

    e = $.Event('hide')//if I delete this line modal won't hide

    this.$element.trigger(e)

    if (!this.isShown || e.isDefaultPrevented()) return

    this.isShown = false

    $('body').removeClass('modal-open')

    escape.call(this)

    this.$element.removeClass('in')

    $.support.transition && this.$element.hasClass('fade') ?
      hideWithTransition.call(this) :
      hideModal.call(this) 
```

我在正确的道路上吗？

* * *

## 回答 #1

> 赞同：79
> 
> 时间：2013-08-16T21:10:28.573

您可以定义模态行为，定义数据键盘和数据背景。

```
 <div id="modal" class="modal hide fade in" data-keyboard="false" data-backdrop="static"> 
```

* * *

## 回答 #2

> 赞同：73
> 
> 时间：2012-10-01T09:27:11.120

当您启动模态时，您可以传递选项：

```
{
  keyboard: false,
  backdrop: 'static'
} 
```

这将禁用通过单击背景和退出按钮关闭模式。或者可以将它们设置为`data-`属性。

* * *

## 回答 #3

> 赞同：11
> 
> 时间：2014-01-17T06:33:39.170

试试这个

```
<div id="myModal" class="modal hide fade in" data-backdrop="static">
<div> </div>
</div> 
```

* * *

## 回答 #4

> 赞同：10
> 
> 时间：2016-01-24T02:27:21.937

在 Jquery 中实现它的最佳方法是：

```
<script type="text/javascript">
    $('#modal-id').modal({
        backdrop: 'static',
        keyboard: false
    });
</script> 
```

或在 HTML 中：

```
<div id="modal-id" class="modal hide fade in" data-keyboard="false" data-backdrop="static"> 
```

但是，如果您已经初始化了模态，则需要像这样取消绑定模态的单击事件，例如：

```
<script type="text/javascript">
    //this remove the close button on top if you need
    $('#modal-id').find('.close').remove();
    //this unbind the event click on the shadow zone
    $('#modal-id').unbind('click');
</script> 
```

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2019-07-11T08:26:06.130

您可以定义模态行为，定义数据键盘和数据背景。

```
<div id="modal" class="modal hide fade in" data-keyboard="false" data-backdrop="static"> 
```

此外，它也适用于 ASPX Pages。

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2014-09-29T13:18:33.863

```
<script type="text/javascript">
    $('#myModal').modal({
      backdrop: 'static',
      keyboard: false
    })
</script> 
```

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2020-09-17T06:36:23.547

您可以使用 no-close-backdrop

```
<div id="modal" class="modal hide fade in" no-close-on-backdrop no-close-on-keyboard> 
```

# spring - 嵌入式 tomcat 不会解析消息源的 Spring 应用程序资源包

> ID：12669611
> 
> 赞同：0
> 
> 时间：2012-10-01T08:13:25.713
> 
> 标签：spring, maven, properties-file, maven-tomcat-plugin

我的嵌入式 tomcat 遇到问题：当我使用嵌入式 Tomcat 运行 Spring 应用程序时，似乎属性没有解决。

即使加载了属性文件：

```
INFO  org.springframework.context.support.PropertySourcesPlaceholderConfigurer - Loading properties file from file [/home/julien/Documents/donnees/projets/Site-Rencontres/java/target/classes/META-INF/i18n/application.properties] 
```

找不到资源包：

```
WARN  org.springframework.context.support.ResourceBundleMessageSource - ResourceBundle [/META-INF/i18n/application] not found for MessageSource: Can't find bundle for base name /META-INF/i18n/application, locale fr 
```

但是，当我从 Eclipse/STS 运行我的应用程序时，我没有这样的问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T19:48:57.077

我对问题进行了部分排序。通过在此处删除前导斜杠（在 Spring 配置中）：

```
<property name="basenames" value="/META-INF/i18n/application,/META-INF/i18n/messages" /> 
```

获得这个：

```
<property name="basenames" value="META-INF/i18n/application,META-INF/i18n/messages" /> 
```

问题已解决。

但是首先是什么导致**嵌入式Tomcat和标准Tomcat之间的行为差​​异**，我不解释......

# node.js - 将 created_at 和 updated_at 字段添加到猫鼬模式

> ID：12669615
> 
> 赞同：225
> 
> 时间：2012-10-01T08:13:47.047
> 
> 标签：node.js, mongodb, express, mongoose

有没有办法将 created_at 和`updated_at`字段添加到猫鼬模式中，而不必在每次`MyModel()`调用 new 时都传递它们？

该`created_at`字段将是一个日期，并且仅在创建文档时添加。每当在文档上调用该`updated_at`字段时，都会使用新日期更新该字段。`save()`

我已经在我的架构中尝试过这个，但是除非我明确添加它，否则该字段不会显示：

```
var ItemSchema = new Schema({
    name    : { type: String, required: true, trim: true },
    created_at    : { type: Date, required: true, default: Date.now }
}); 
```

* * *

## 回答 #1

> 赞同：289
> 
> 时间：2013-02-28T23:01:31.980

**更新：**（5年后）

> **注意：**如果您决定使用[Kappa 架构](http://milinda.pathirage.org/kappa-architecture.com/)（*事件溯源 + CQRS*），那么您根本不需要更新日期。由于您的数据是不可变的、仅追加的事件日志，因此您只需要事件创建日期。类似于*Lambda 架构*，如下所述。那么您的应用程序状态是事件日志（派生数据）的投影。如果您收到有关现有实体的后续事件，那么您将使用该事件的创建日期作为您的实体的更新日期。这是miceroservice系统中常用的（并且通常被误解）的做法。

**更新：**（4年后）

如果您使用`ObjectId`作为您的`_id`字段（通常是这种情况），那么您需要做的就是：

```
let document = {
  updatedAt: new Date(),
} 
```

在下面查看我的原始答案，了解如何从`_id`字段中获取创建的时间戳。如果您需要使用来自外部系统的 ID，请查看 Roman Rhrn Nesterov 的答案。

**更新：**（2.5年后）

您现在可以在mongoose版本 >= 4.0的情况下使用[#timestamps选项。](http://mongoosejs.com/docs/guide.html#timestamps)

```
let ItemSchema = new Schema({
  name: { type: String, required: true, trim: true }
},
{
  timestamps: true
}); 
```

如果为您的架构设置时间戳、mongoose 分配`createdAt`和`updatedAt`字段，则分配的类型为`Date`.

您还可以指定时间戳文件的名称：

```
timestamps: { createdAt: 'created_at', updatedAt: 'updated_at' } 
```

> **注意：**如果您正在处理具有关键数据的大型应用程序，您应该重新考虑更新您的文档。我建议您使用不可变的、仅附加的数据（[lambda 架构](https://en.wikipedia.org/wiki/Lambda_architecture)）。这意味着您只允许插入。**不允许更新和删除！**如果您想“删除”一条记录，您可以轻松地插入带有一些`timestamp`/字段的文档的新版本，`version` 然后将`deleted`字段设置为`true`. 类似地，如果您想更新一个文档 - 您创建一个新的文档，其中更新了相应的字段并复制了其余字段。然后为了查询此文档，您将获得具有最新时间戳或最高版本的文档，即没有“删除”（`deleted`字段未定义或为假`）。
> 
> 数据不变性确保您的数据是可调试的——您可以跟踪每个文档的历史记录。如果出现问题，您还可以回滚到文档的先前版本。如果您使用这样的架构`ObjectId.getTimestamp()`，那么您只需要它，它不依赖于 Mongoose。

* * *

**原始答案：**

如果您使用 ObjectId 作为您的身份字段，则不需要该`created_at`字段。ObjectIds 有一个名为`getTimestamp()`.

```
ObjectId("507c7f79bcf86cd7994f6c0e").getTimestamp()

```

这将返回以下输出：

```
ISODate("2012-10-15T21:26:17Z")

```

此处的更多信息[如何从 Mongo ObjectID 中提取创建日期](https://stackoverflow.com/questions/7327296/how-do-i-extract-the-created-date-out-of-a-mongo-objecti)

为了添加`updated_at`文件，你需要使用这个：

```
var ArticleSchema = new Schema({
  updated_at: { type: Date }
  // rest of the fields go here
});

ArticleSchema.pre('save', function(next) {
  this.updated_at = Date.now();
  next();
}); 
```

* * *

## 回答 #2

> 赞同：244
> 
> 时间：2015-10-20T17:25:27.657

从 Mongoose 4.0 开始，您现在可以在 Schema 上设置时间戳选项，让 Mongoose 为您处理：

```
var thingSchema = new Schema({..}, { timestamps: true }); 
```

您可以更改使用的字段的名称，如下所示：

```
var thingSchema = new Schema({..}, { timestamps: { createdAt: 'created_at' } }); 
```

[http://mongoosejs.com/docs/guide.html#timestamps](http://mongoosejs.com/docs/guide.html#timestamps)

* * *

## 回答 #3

> 赞同：136
> 
> 时间：2012-10-01T09:20:54.973

这就是我最终做的事情：

```
var ItemSchema = new Schema({
    name    : { type: String, required: true, trim: true }
  , created_at    : { type: Date }
  , updated_at    : { type: Date }
});

ItemSchema.pre('save', function(next){
  now = new Date();
  this.updated_at = now;
  if ( !this.created_at ) {
    this.created_at = now;
  }
  next();
}); 
```

* * *

## 回答 #4

> 赞同：115
> 
> 时间：2016-03-07T18:04:25.077

使用 Schema 的内置`timestamps`选项。

```
var ItemSchema = new Schema({
    name: { type: String, required: true, trim: true }
},
{
    timestamps: true
}); 
```

这将自动将`createdAt`和`updatedAt`字段添加到您的架构中。

[http://mongoosejs.com/docs/guide.html#timestamps](http://mongoosejs.com/docs/guide.html#timestamps)

* * *

## 回答 #5

> 赞同：31
> 
> 时间：2016-11-05T15:33:27.530

然后添加`timestamps`到您`Schema`喜欢的内容中`createdAt`，`updatedAt`并将自动为您生成

```
var UserSchema = new Schema({
    email: String,
    views: { type: Number, default: 0 },
    status: Boolean
}, { timestamps: {} }); 
```

[![在此处输入图像描述](../Images/e5886798fc3f19313c68eaba26b3e407.png)](https://i.stack.imgur.com/pLmsj.png)
你也可以`createdAt -> created_at`改变

```
timestamps: { createdAt: 'created_at', updatedAt: 'updated_at' } 
```

* * *

## 回答 #6

> 赞同：29
> 
> 时间：2014-09-04T15:01:28.403

如果使用`update()`或`findOneAndUpdate()`

带`{upsert: true}`选项

您可以使用`$setOnInsert`

```
var update = {
  updatedAt: new Date(),
  $setOnInsert: {
    createdAt: new Date()
  }
}; 
```

* * *

## 回答 #7

> 赞同：9
> 
> 时间：2014-12-10T01:41:27.200

这就是我创建和更新的方式。

在我的架构中，我添加了创建和更新的内容，如下所示：

```
   /**
     * 文章架构
     */
    var ArticleSchema = new Schema({
        创建：{
            类型：日期，
            默认值：Date.now
        },
        更新： {
            类型：日期，
            默认值：Date.now
        },
        标题： {
            类型：字符串，
            默认： ''，
            修剪：真的，
            必填：'标题不能为空'
        },
        内容： {
            类型：字符串，
            默认： ''，
            修剪：真
        },
        用户：{
            类型：Schema.ObjectId，
            参考：'用户'
        }
    });

```

然后在文章控制器内的文章更新方法中，我添加了：

```
/**
     * 更新一篇文章
     */
    出口。更新=功能（请求，水库）{
        var 文章 = req.article;

        文章 = _.extend(文章, req.body);
        article.set("更新", Date.now());

        文章.保存（功能（错误）{
            如果（错误）{
                返回 res.status(400).send({
                    消息：errorHandler.getErrorMessage(err)
                });
            } 别的 {
                res.json(文章);
            }
        });
    };

```

粗体部分是感兴趣的部分。

* * *

## 回答 #8

> 赞同：9
> 
> 时间：2021-06-09T12:04:58.547

对于带有猫鼬的 NestJs，使用这个

```
@Schema({timestamps: true}) 
```

* * *

## 回答 #9

> 赞同：7
> 
> 时间：2019-03-04T07:40:00.137

```
var ItemSchema = new Schema({
    name : { type: String, required: true, trim: true }
});

ItemSchema.set('timestamps', true); // this will add createdAt and updatedAt timestamps 
```

文档：[https ://mongoosejs.com/docs/guide.html#timestamps](https://mongoosejs.com/docs/guide.html#timestamps)

* * *

## 回答 #10

> 赞同：7
> 
> 时间：2019-12-11T13:21:17.290

在您的模型架构中，只需添加一个属性`timestamps`并为其分配值`true`，如下所示：-

```
var ItemSchema = new Schema({
   name :  { type: String, required: true, trim: true },
},{timestamps : true}
); 
```

* * *

## 回答 #11

> 赞同：7
> 
> 时间：2021-10-05T09:22:17.067

在你的`model`：

```
const User = Schema(
  {
    firstName: { type: String, required: true },
    lastName: { type: String, required: true },
    password: { type: String, required: true }
  },
  {
    timestamps: true
  }
); 
```

之后你的`model`in`collection`会是这样的：

```
{
    "_id" : ObjectId("5fca632621100c230ce1fb4b"),
    "firstName" : "first",
    "lastName" : "last",
    "password" : "$2a$15$Btns/B28lYIlSIcgEKl9eOjxOnRjJdTaU6U2vP8jrn3DOAyvT.6xm",
    "createdAt" : ISODate("2020-12-04T16:26:14.585Z"),
    "updatedAt" : ISODate("2020-12-04T16:26:14.585Z"),
} 
```

* * *

## 回答 #12

> 赞同：4
> 
> 时间：2012-10-01T13:47:56.323

您可以使用 的[`timestamp`](https://github.com/tblobaum/mongoose-troop#timestamp)插件`mongoose-troop`将此行为添加到任何架构。

* * *

## 回答 #13

> 赞同：3
> 
> 时间：2016-08-29T12:20:33.177

我们也可以通过使用**模式插件**来实现这一点。

在`helpers/schemaPlugin.js`文件中

```
module.exports = function(schema) {

  var updateDate = function(next){
    var self = this;
    self.updated_at = new Date();
    if ( !self.created_at ) {
      self.created_at = now;
    }
    next()
  };
  // update date for bellow 4 methods
  schema.pre('save', updateDate)
    .pre('update', updateDate)
    .pre('findOneAndUpdate', updateDate)
    .pre('findByIdAndUpdate', updateDate);
}; 
```

并在`models/ItemSchema.js`文件中：

```
var mongoose = require('mongoose'),
  Schema   = mongoose.Schema,
  SchemaPlugin = require('../helpers/schemaPlugin');

var ItemSchema = new Schema({
  name    : { type: String, required: true, trim: true },
  created_at    : { type: Date },
  updated_at    : { type: Date }
});
ItemSchema.plugin(SchemaPlugin);
module.exports = mongoose.model('Item', ItemSchema); 
```

* * *

## 回答 #14

> 赞同：3
> 
> 时间：2015-09-05T23:46:54.047

你可以很容易地使用[这个插件。](https://github.com/drudge/mongoose-timestamp)从文档：

```
var timestamps = require('mongoose-timestamp');
var UserSchema = new Schema({
    username: String
});
UserSchema.plugin(timestamps);
mongoose.model('User', UserSchema);
var User = mongoose.model('User', UserSchema) 
```

如果您愿意，还可以设置字段的名称：

```
mongoose.plugin(timestamps,  {
  createdAt: 'created_at', 
  updatedAt: 'updated_at'
}); 
```

* * *

## 回答 #15

> 赞同：2
> 
> 时间：2017-06-01T09:56:41.883

我的猫鼬版本是 4.10.2

似乎只有钩子`findOneAndUpdate`在工作

```
ModelSchema.pre('findOneAndUpdate', function(next) {
  // console.log('pre findOneAndUpdate ....')
  this.update({},{ $set: { updatedAt: new Date() } });
  next()
}) 
```

* * *

## 回答 #16

> 赞同：2
> 
> 时间：2021-07-29T06:43:50.463

如果您使用的是 nestjs 和 @Schema 装饰器，您可以像这样实现：

```
@Schema({
  timestamps: true,
}) 
```

timestamps 选项告诉 mongoose 将 createdAt 和 updatedAt 字段分配给您的架构。分配的类型是日期。

默认情况下，字段的名称是 createdAt 和 updatedAt。

通过设置 timestamps.createdAt 和 timestamps.updatedAt 自定义字段名称。

* * *

## 回答 #17

> 赞同：1
> 
> 时间：2016-09-16T08:33:24.263

```
const mongoose = require('mongoose');
const config = require('config');
const util = require('util');

const Schema = mongoose.Schema;
const BaseSchema = function(obj, options) {
  if (typeof(options) == 'undefined') {
    options = {};
  }
  if (typeof(options['timestamps']) == 'undefined') {
    options['timestamps'] = true;
  }

  Schema.apply(this, [obj, options]);
};
util.inherits(BaseSchema, Schema);

var testSchema = new BaseSchema({
  jsonObject: { type: Object }
  , stringVar : { type: String }
}); 
```

现在您可以使用它，因此无需在每个表中都包含此选项

* * *

## 回答 #18

> 赞同：1
> 
> 时间：2020-09-03T09:38:13.520

从 mongo 3.6 开始，您可以使用“更改流”： [https ://emptysqua.re/blog/driver-features-for-mongodb-3-6/#change-streams](https://emptysqua.re/blog/driver-features-for-mongodb-3-6/#change-streams)

要使用它，您需要通过“监视”查询创建一个更改流对象，并且对于每个更改，您可以做任何您想做的事情......

蟒蛇解决方案：

```
def update_at_by(change):
    update_fields = change["updateDescription"]["updatedFields"].keys()
    print("update_fields: {}".format(update_fields))

    collection = change["ns"]["coll"]
    db = change["ns"]["db"]
    key = change["documentKey"]

    if len(update_fields) == 1 and "update_at" in update_fields:
        pass  # to avoid recursion updates...
    else:
        client[db][collection].update(key, {"$set": {"update_at": datetime.now()}})

client = MongoClient("172.17.0.2")
db = client["Data"]

change_stream = db.watch()

for change in change_stream:
    print(change)
    update_ts_by(change) 
```

注意，要使用 change_stream 对象，您的 mongodb 实例应作为“副本集”运行。它也可以作为一个 1 节点副本集来完成（几乎没有变化然后独立使用）：

运行 mongo 作为副本集： [https ://docs.mongodb.com/manual/tutorial/convert-standalone-to-replica-set/](https://docs.mongodb.com/manual/tutorial/convert-standalone-to-replica-set/)

副本集配置与独立： [Mongo DB - 独立和 1 节点副本集之间的区别](https://stackoverflow.com/questions/56336101/mongo-db-difference-between-standalone-1-node-replica-set)

* * *

## 回答 #19

> 赞同：0
> 
> 时间：2017-10-27T22:41:31.010

我实际上在后面这样做

如果更新一切顺利：

```
 // All ifs passed successfully. Moving on the Model.save
    Model.lastUpdated = Date.now(); // <------ Now!
    Model.save(function (err, result) {
      if (err) {
        return res.status(500).json({
          title: 'An error occured',
          error: err
        });
      }
      res.status(200).json({
        message: 'Model Updated',
        obj: result
      });
    }); 
```

* * *

## 回答 #20

> 赞同：0
> 
> 时间：2015-12-29T20:26:02.717

使用函数返回计算的默认值：

```
var ItemSchema = new Schema({
    name: {
      type: String,
      required: true,
      trim: true
    },
    created_at: {
      type: Date,
      default: function(){
        return Date.now();
      }
    },
    updated_at: {
      type: Date,
      default: function(){
        return Date.now();
      }
    }
});

ItemSchema.pre('save', function(done) {
  this.updated_at = Date.now();
  done();
}); 
```

* * *

## 回答 #21

> 赞同：0
> 
> 时间：2017-12-08T17:16:33.500

使用 machinepack-datetime 格式化日期时间。

```
tutorialSchema.virtual('createdOn').get(function () {
    const DateTime = require('machinepack-datetime');
    let timeAgoString = "";
    try {
        timeAgoString = DateTime.timeFrom({
            toWhen: DateTime.parse({
                datetime: this.createdAt
            }).execSync(),
            fromWhen: new Date().getTime()
        }).execSync();
    } catch(err) {
        console.log('error getting createdon', err);
    }
    return timeAgoString; // a second ago
}); 
```

与 express 或一般 Javascript 世界不同，Machine pack 具有清晰的 API，非常棒。

* * *

## 回答 #22

> 赞同：-2
> 
> 时间：2012-10-01T09:15:52.963

您可以使用[中间件](http://mongoosejs.com/docs/middleware.html)和[virtuals](http://mongoosejs.com/docs/guide.html#virtuals)。这是您所在`updated_at`领域的示例：

```
ItemSchema.virtual('name').set(function (name) {
  this.updated_at = Date.now;
  return name;
}); 
```

# memory - 在 OpenCL 中，私有内存和共享内存是如何在 CPU 上实现的？

> ID：12669616
> 
> 赞同：1
> 
> 时间：2012-10-01T08:13:47.477
> 
> 标签：memory, opencl

每个人都在这里。因为 OpenCL 可以在 CPU 上以与在 GPU 上类似的方式运行内核。在 GPU 中，物理上有私有内存（寄存器）和共享内存，但是如果我选择 CPU 作为 OpenCL 设备，那么私有内存和共享内存是如何实现的呢？

我的意思是，它们是由 DRAM 还是其他东西模拟的（L1、L2 甚至 L3 缓存？我不确定）。另外，在 CPU 上使用共享内存的性能与 GPU 相比会受到限制，对吧？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-01T08:42:37.803

没有语言可以直接访问 CPU 缓存（被引用但我没有足够的代表来拥有 3 个 url...）。这反过来意味着 OpenCL 无法将私有内存保留在缓存中。

[在 AMD 的演示文稿中，](http://developer.amd.com/gpu_assets/OpenCL_Parallel_Computing_for_CPUs_and_GPUs_201003.pdf "AMD 的此演示文稿") 他们简单地将内存模型称为由上下文抽象的一系列内存对象（第 16 页）。只要缓冲区对上下文中的设备可用，它们就可以读取。当涉及到不同类型的内核内存时，您可以放心地假设它们在 CPU 而不是 GPU 上运行时不会有性能差异（因为有不同类型的 DRAM）。

但是请记住，如果您在集群上进行计算，主机内存和本地内存仍然会有所不同，这仍然需要您考虑传输速率。关于您问题的第二部分，请参阅这篇[关于 OpenCL 中的内存模型的](http://www.codeproject.com/Articles/122405/Part-2-OpenCL-Memory-Spaces)文章。以您只需要在给定工作组内进行通信的方式构建程序可以提高性能。

如需进一步阅读，请参阅 -http://software.intel.com/sites/landingpage/opencl/optimization-guide/index.htm

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-12-21T19:37:15.430

OpenCL 内存模型是基于 GPU 架构创建的。在 CPU 上，对全局内存、共享内存和常量内存的访问通过相同的缓存层次结构。

当然，使用本地内存实现可以提高性能，因为缓存命中会增加。

# c# - PictureBox 更改图像表单资源

> ID：12669618
> 
> 赞同：-1
> 
> 时间：2012-10-01T08:13:51.657
> 
> 标签：c#, resources, picturebox

我想更改图片框中的图像，如果值达到“5”甚至更远，这就是我使用开关的原因。所以我将我的图片嵌入到资源中。但我不知道任何这样的命令。

这是我的代码，我希望任何人都可以解决我的问题。

```
switch (ButtonPlus1)
{
case5:
    pictureBox1.Image = TraitCalc.Properties.Resources.(my_picture.png);
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T08:30:47.530

```
int caseSwitch = 1;
switch (caseSwitch)
{
 case 1: 
    Console.WriteLine("Case 1");
    break;
 case 2:
    Console.WriteLine("Case 2");
    break;
 default:
    Console.WriteLine("Default case");
    break;
} 
```

也许这会对你有所帮助？

ButtonPlus1 有什么价值？5?

# jenkins - 詹金斯配置页面冻结显示“正在加载”

> ID：12669619
> 
> 赞同：2
> 
> 时间：2012-10-01T08:14:03.693
> 
> 标签：jenkins

我已经在 apache tomcat 后面安装了 jenkins 1.466.2，然后当我尝试访问配置系统页面时，它冻结为“正在加载”

我得到以下日志

```
Oct 01, 2012 1:19:46 PM hudson.WebAppMain$2 run
INFO: Jenkins is fully up and running
Oct 01, 2012 1:19:46 PM hudson.TcpSlaveAgentListener <init>
INFO: JNLP slave agent listener started on TCP port 37425
Oct 01, 2012 1:19:46 PM jenkins.InitReactorRunner$1 onAttained
INFO: Completed initialization
Oct 01, 2012 1:19:37 PM jenkins.InitReactorRunner$1 onAttained
INFO: Loaded all jobs
Oct 01, 2012 1:19:37 PM jenkins.InitReactorRunner$1 onAttained
INFO: Augmented all extensions
Oct 01, 2012 1:19:37 PM jenkins.InitReactorRunner$1 onAttained
INFO: Started all plugins
 Oct 01, 2012 1:19:37 PM jenkins.InitReactorRunner$1 onAttained
 INFO: Prepared all plugins
 Oct 01, 2012 1:19:37 PM jenkins.InitReactorRunner$1 onAttained
 INFO: Listed all plugins
 Oct 01, 2012 1:19:37 PM hudson.ClassicPluginStrategy createPluginWrapper
 INFO: Plugin artifactdeployer.jpi is disabled
 Oct 01, 2012 1:19:36 PM hudson.ClassicPluginStrategy createPluginWrapper
 INFO: Plugin artifactory.jpi is disabled
 Oct 01, 2012 1:19:36 PM jenkins.InitReactorRunner$1 onAttained
 INFO: Started initialization 
```

* * *

## 回答 #1

> 赞同：-3
> 
> 时间：2012-12-17T06:49:00.753

根据您在我们的 Jenkins 上拥有的插件和作业的数量，它会花费一些时间来启动。耐心点。

```
Dec 17, 2012 12:04:03 PM winstone.Logger logInternal
INFO: AJP13 Listener started: port=8009
Dec 17, 2012 12:04:03 PM winstone.Logger logInternal
INFO: Winstone Servlet Engine v0.9.10 running: controlPort=disabled
Dec 17, 2012 12:04:03 PM jenkins.InitReactorRunner$1 onAttained
**INFO: Started initialization**

Dec 17, 2012 12:12:37 PM jenkins.InitReactorRunner$1 onAttained
INFO: Listed all plugins
Dec 17, 2012 12:12:38 PM hudson.plugins.greenballs.PluginImpl start
INFO: Green Balls!
Dec 17, 2012 12:12:38 PM jenkins.InitReactorRunner$1 onAttained
INFO: Prepared all plugins
Dec 17, 2012 12:12:39 PM jenkins.InitReactorRunner$1 onAttained
INFO: Started all plugins
Dec 17, 2012 12:12:39 PM jenkins.InitReactorRunner$1 onAttained
INFO: Augmented all extensions
Dec 17, 2012 12:12:54 PM jenkins.InitReactorRunner$1 onAttained
INFO: Loaded all jobs 
```

# ios - MonoTouch.Dialog UITableView 没有边距

> ID：12669623
> 
> 赞同：6
> 
> 时间：2012-10-01T08:14:19.257
> 
> 标签：ios, uitableview, xamarin.ios, monotouch.dialog

如何`UITableView`使用没有边距的 MonoTouch.Dialog 创建？

目前，一旦您创建新部分，它将在表格周围添加边距并使元素四舍五入。我想要`UITableView`没有边距（顶部、左侧、底部等）的简单外观，这是否可以实现？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-01T12:43:39.213

我认为你想要的是创造你`DialogViewController`的`UITableViewStyle.Plain`风格。例如

```
var root = new RootElement ();
var d = new DialogViewController (UITableViewStyle.Plain, root); 
```

默认样式值是`UITableViewStyle.Grouped`并为每个元素提供圆角矩形外观。

# html - CSS下拉菜单的问题

> ID：12669627
> 
> 赞同：0
> 
> 时间：2012-10-01T08:14:37.093
> 
> 标签：html, css, drop-down-menu

我的网站中的下拉菜单出现 CSS 问题。网址是： [http ://www.juneehee.com/ProductTypeView.aspx?TypeID=2](http://www.juneehee.com/ProductTypeView.aspx?TypeID=2)

正如您所看到的子类别（包和钱包、艺术品等），下拉菜单非常适合第一行，但对于第二行子类别（例如：书法），下拉菜单与子类别重叠-类别本身。我找不到它发生的原因。任何人都可以提出解决方案吗？

这是我的CSS：

```
.nav-category {
position:relative;
z-index: 2;
float:left;
width:750px;
border:1px solid;
margin-left:0px;
margin-top:0px;
margin-bottom:40px;
}

.nav-category .Categorypanel
{
position:relative;
float:left;
width:auto;
height:auto;

}

.nav-category ul {

list-style:none;
font-family:"Century Gothic";
margin:0;
padding:0;
text-transform:uppercase;
font-weight:normal;

}

.nav-category ul li {
float:left;
margin-right:35px;}

.nav-category ul li a {
text-decoration:none;
color: #424242;
font-size:12px;}

.nav-category ul li a:hover {
color:#666;}

.nav-category ul li ul { display:none; top:20px; position:absolute; left:auto;}

.nav-category li ul li {
line-height:15px; margin-left:5px; padding:3px;} 

.nav-category ul li ul li a { font-size:11px;}

.nav-category ul li:hover ul, li.over ul { display:block;position:absolute; background:#FFF; border:1px solid #ebebeb; white-space:nowrap; margin-top:0px; margin-left:0; padding-left:0}

.nav-category ul li:hover li { float:none; letter-spacing:0px;margin:0px 0 0 0;} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T08:19:57.840

我注意到的第一件事是它们似乎设置了绝对定位，距离顶部 20 像素。绝对定位将由它们相对定位的容器 (#ctl00_ContentPlaceHolder1_pnlCategory) 确定，因此如果内容折叠到第二行（或第三行或第四行等），那么下拉菜单仍将出现在同一垂直方向；相对于它们的父容器，而不是相应的“父”下拉菜单项。

# c++ - 字符的递归排列生成器

> ID：12669628
> 
> 赞同：5
> 
> 时间：2012-10-01T08:14:40.870
> 
> 标签：c++, algorithm, recursion, permutation

> **可能重复：**
> [生成具有所有字符排列的字符串](https://stackoverflow.com/questions/3690367/generate-strings-with-all-permutation-of-character)

我是 C++ 的初学者，我真的需要你的帮助。我正在使用递归进行排列程序。这是我的代码，但输出很奇怪，相同的数字重复了很多次和空格。我无法找出问题所在，或者我可能需要添加更多内容。请帮我。这是我的代码：

```
#include <iostream>
using namespace std;
#define swap(x,y,t)  ((t)=(x), (x)=(y), (y)=(t))
void perm(char *list, int i, int n);

int main(){
    char a[4]={'a','b','c'};
    perm(a,0,3);
    //cout<<a<<endl;    
    return 0;
}

void perm(char *list, int i, int n){
    int j, temp;
    if (i==n){
        for (j=0; j<=n; j++)
            printf("%c", list[j]);
        printf("     ");
    }
    else {
        for (j=i; j<=n; j++){
            swap(list[i],list[j],temp);
            perm(list,i+1,n);
            swap(list[i],list[j],temp);
            cout<<list<<endl;
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-03T14:39:00.327

The function is correct but you are not calling it correctly.

```
perm(a,0,3); 
```

should be

```
perm(a,0,2); 
```

Why?

Your for loop:

```
for (j=i; j<=n; j++){ 
```

goes till `n`, so `n` should be a valid index.

[Works fine](http://ideone.com/cwwWg)

# java - 使用 xstream 将 Java 转换为 XML

> ID：12669631
> 
> 赞同：0
> 
> 时间：2012-10-01T08:15:00.917
> 
> 标签：java, xml, xml-serialization, xstream

我已经开始使用 xstream 库将 Java 代码转换为 XML。我的模型 java 类很简单，如下所示：

```
class Person {
    String firstname;
    String lastname;    
    String age;
    public Person(String first, String last,String age) {
        firstname = first;
        lastname = last;
        this.age =  age;
    }
} 
```

因此，使用简单的 xstream API，我得到了`toXML`如下方法的输出：

```
<Person>
  <firstname>David</firstname>
  <lastname>Goswami</lastname>
  <age>34</age>
</Person> 
```

但是，我想调整输出并将字符串年龄作为字段名的属性。本质上，我期望 xml 输出如下：

```
<Person>
  <firstname age="34">David</firstname>
  <lastname>Goswami</lastname>
 </Person> 
```

任何有关如何做到这一点的帮助将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T08:22:50.357

您可以使用[`XStream.useAttributeFor()`](http://x-stream.github.io/javadoc/com/thoughtworks/xstream/XStream.html#useAttributeFor%28java.lang.Class,%20java.lang.String%29)来声明要序列化为属性的属性：

```
xstream.useAttributeFor(Person.class, "age"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T08:23:51.190

```
@XStreamAsAttribute
String age; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-01T08:29:27.200

您可以使用用户定义的转换器，有类似问题的好例子是：http: [//www.coderanch.com/t/426981/XML/XStream-variable-as-attribute-another](http://www.coderanch.com/t/426981/XML/XStream-variable-as-attribute-another)

# java - 数组操作？

> ID：12669636
> 
> 赞同：0
> 
> 时间：2012-10-01T08:15:29.457
> 
> 标签：java

我想知道我是否可以使用类似于 (input==(letters[i]-'c')) 的东西。我知道我输入的内容没有意义，但我正在尝试创建类似的内容。如果用户的输入是数组中除 c 之外的任何内容，则显示第一条消息，否则如果是 c，则显示第二条消息。我只是想以某种方式暂时从数组中排除 c 并让程序检查所有其他元素......

```
char []letters={'a','b','c','d'};
//input is user input

for(int i=0;i<letters.length<;i++)
   if(input==(letters[i]-'c'))
   {
     system.out.print("input might be a,b,d but not c");
   }
   else if(input=='c')
   {
     system.out.print("input is c");
     break;
   } 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-01T08:22:39.020

尝试以下操作：

```
Arrays.sort(letters);
if (Arrays.binarySearch(letters, 'c') >= 0) {
    // contains 'c'
} else {
    // doesn't contain 'c'
} 
```

请注意，调用`binarySearch`需要首先对数组进行排序，因此`sort`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T08:23:40.427

通常你会做的是使用字符串作为文本。

```
//input is user input
String letters = "abcd";

if (letters.contains("c")) 
    System.out.print("input contains c");
else
    System.out.print("input doesn't contain c"); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-01T08:47:02.290

```
String str=Arrays.toString(letters).replaceAll("\\s*\\[*,*\\]*", "");
if(input=='c') {
    system.out.println("input is c");
}
else if(str.contains(""+input)) {
    system.out.print("input might be a,b,d but not c");
} 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-10-01T08:18:08.300

您可以将其转换为列表，然后使用 contains 方法

这将返回真或假。您可以在 if 语句中使用它。

例如

```
if (Arrays.asList('a', 'b', 'c').contains('c')) {
   System.out.print("input might be a,b,d but not c");
}
else {
   System.out.print("input is c");
} 
```

（顺便说一句，您的代码示例无法编译。`System`应该有一个大写字母）

# vb.net - vb.net发送邮件smtp和outlook报错（个别）

> ID：12669640
> 
> 赞同：1
> 
> 时间：2012-10-01T08:15:34.300
> 
> 标签：vb.net, email, outlook, smtp

```
 'Variable which will send the mail
Dim obj As System.Net.Mail.SmtpClient

'Variable to store the attachments 
Dim Attachment As System.Net.Mail.Attachment

'Variable to create the message to send
Dim Mailmsg As New Mail.MailMessage()
Private Sub Button1_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles Button1.Click
    Try

        Dim ol As New Outlook.Application()
        Dim ns As Outlook.NameSpace
        Dim fdMail As Outlook.MAPIFolder

        ns = ol.GetNamespace("MAPI")
        ns.Logon(, , True, True)

        'creating a new MailItem object
        Dim newMail As Outlook.MailItem

        'gets defaultfolder for my Outlook Outbox
        fdMail = ns.GetDefaultFolder(Outlook.OlDefaultFolders.olFolderOutbox)

        'assign values to the newMail MailItem
        newMail = fdMail.Items.Add(Outlook.OlItemType.olMailItem)
        newMail.Subject = "tesst"
        newMail.Body = "test"
        newMail.To = TextBox1.Text
        Dim sSource As String = Application.StartupPath + "\kk.sys"
        ' TODO: Replace with attachment name
        Dim sDisplayName As String = "kaar.jpg"

        Dim sBodyLen As String = newMail.Body.Length

        newMail.SaveSentMessageFolder = fdMail

        newMail.Send()

    Catch ex As Exception

        Using writer As StreamWriter = New StreamWriter(Application.StartupPath + "\err1.txt")

            writer.WriteLine(ex.ToString)

        End Using

    End Try

End Sub

Private Sub Button2_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles Button2.Click
    Try
        Dim SmtpServer As New SmtpClient()
        Dim mail As New MailMessage()
        Dim address As New MailAddress(TextBox1.Text, "Nigraan")
        Dim oAttch As Mail.Attachment = New Mail.Attachment(Application.StartupPath + "\kk.sys")
        SmtpServer.Credentials = New  _
Net.NetworkCredential(TextBox2.Text, TextBox3.Text)
        SmtpServer.Port = "587"
        SmtpServer.Host = "smtp.gmail.com"
        mail = New MailMessage()
        mail.From = New MailAddress(TextBox2.Text)
        mail.To.Add(New MailAddress(TextBox1.Text))
        mail.Subject = TextBox3.Text
        mail.Body = "test"

        mail.Attachments.Add(oAttch)

        SmtpServer.Send(mail)

    Catch ex As Exception

        Using writer As StreamWriter = New StreamWriter(Application.StartupPath + "\err2.txt")

            writer.WriteLine(ex.ToString)

        End Using
    End Try
End Sub

Private Sub Button3_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles Button3.Click
    Try
        System.Diagnostics.Process.Start("mailto:" & TextBox1.Text & "?subject=" & "re:Subject" & "&body=" & "EmailBody")
    Catch ex As Exception

        Using writer As StreamWriter = New StreamWriter(Application.StartupPath + "\err3.txt")

            writer.WriteLine(ex.ToString)

        End Using
    End Try
End Sub` 
```

错误是：

错误1：

System.Runtime.InteropServices.COMException (0x80004005)：收件人、抄送或密件抄送框中必须至少有一个名称或分发列表。在 Microsoft.Office.Interop.Outlook._MailItem.Send() 在 WindowsApplication1.Form1.Button1_Click（对象发件人，EventArgs e）

错误2：

System.ArgumentException：参数“地址”不能为空字符串。参数名称：地址在 System.Net.Mail.MailAddress..ctor(String address, String displayName, Encoding displayNameEncoding) at WindowsApplication1.Form1.Button2_Click(Object sender, EventArgs e)

当我使用带有 Visual Studio 的机器发送时，两封邮件都会被发送，而当这些错误不显示时。

我已经仔细检查了 .net 框架

谢谢你..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T11:53:39.290

尝试创建一个变量字符串并在发送邮件之前设置它

```
Dim ToEmail as string
ToEmail = Textbox1.text 
```

然后先设置你的地址。

```
'assign values to the newMail MailItem
    newMail.To = ToEmail
    newMail = fdMail.Items.Add(Outlook.OlItemType.olMailItem)
    newMail.Subject = "tesst"
    newMail.Body = "test" 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T20:02:58.577

我让一切正常，

通过将 ssl 加密设置为 true 来使 smtp 工作

通过创建联系人并在“收件人”字段中提供联系人的电子邮件 ID，让 Outlook 工作

如果您不希望将联系人添加到 Outlook 中，请不要保存联系人：D

耶耶耶！！

# c# - ASP.NET System.Web.Optimization：捆绑 jQueryUI CSS

> ID：12669641
> 
> 赞同：9
> 
> 时间：2012-10-01T08:15:35.503
> 
> 标签：c#, asp.net-mvc-3, jquery-ui, bundle, web-optimization

我正在尝试将 jQueryUI 捆绑在一个请求中。

**全球.asax：**

```
var cssjQuery = new StyleBundle("~/Content/BundleCSS/jQuery");
cssjQuery.IncludeDirectory("~/Content/themes/base", "*.css"); 
```

**布局：**

```
<link href="@Styles.Url("~/Content/BundleCSS/jQuery")" rel="stylesheet" type="text/css" /> 
```

**文件夹结构：**

*   **CSS 文件：** Content/themes/base/*.css
*   **图片文件：** Content/themes/base/images/*.png

现在的问题是图像无法加载，因为没有文件夹“BundleCSS”：

```
http://localhost:64648/Content/BundleCSS/images/ui-bg_flat_75_ffffff_40x100.png 
```

我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-10-01T09:36:58.637

你为什么不在主题目录路径上简单地定义你的包：

```
var cssjQuery = new StyleBundle("~/Content/themes/base/jquery-ui-bundle");
cssjQuery.IncludeDirectory("~/Content/themes/base", "*.css"); 
```

相对图像路径仍然有效（因为 CSS 的目录将保持不变）。

另请记住，最后一部分 ( `jquery-ui-bundle`) 被视为文件名，因此它可以是您想要的任何内容（只要它与其中一个文件不同）。

# extjs - 在两个窗口之间划分 ExtJS 表单

> ID：12669643
> 
> 赞同：0
> 
> 时间：2012-10-01T08:15:44.643
> 
> 标签：extjs

我需要制作一个应用程序，在一个屏幕上的一个窗口中显示一个表单，并且在另一个屏幕上显示具有相同表单的一部分的主窗口 - 或者这可能是另一种表单。这可能与 ExtJs 吗？如何 ？有没有人见过这样的例子或扩展？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-06-30T20:20:48.600

您可以在表单中使用“卡片”布局。在下面的示例中，用户看到三个不同的页面，前两个页面有字段，最后一个页面有按钮。

单击该按钮可从字段中检索值。字段位于不同的容器中并不重要，只要这些容器是表单的“后代”即可。

```
Ext.application({
    name : 'MyApp',
    launch : function() {
        Ext.create('Ext.form.Panel', {
            renderTo: Ext.getBody(),
            layout:'card',
            activeItem: 0,
            bbar: [{
                text: '&laquo; Previous',
                handler: function(button) {
                    var cardlayout = button.up('form').getLayout();
                    var prev = cardlayout.getPrev();
                    if (prev) {
                        cardlayout.setActiveItem(prev);
                    }
                }
            },{
                text: 'Next &raquo;',
                handler: function(button) {
                    var cardlayout = button.up('form').getLayout();
                    var next = cardlayout.getNext();
                    if (next) {
                        cardlayout.setActiveItem(next);
                    }
                }
            }],
            items: [{
                xtype: 'container',
                items: [{
                    xtype: 'textfield',
                    fieldLabel: 'First name',
                    name: 'firstName'
                }]
            },{
                xtype: 'container',
                items: [{
                    xtype: 'textfield',
                    fieldLabel: 'Last name',
                    name: 'lastName'
                }]
            },{
                xtype: 'container',
                items: [{
                    xtype: 'button',
                    text: 'Submit',
                    handler: function(button) {
                        var formValues = button.up('form').getValues();
                        alert('Name: ' + formValues.firstName
                              + ' ' + formValues.lastName);
                    }
                }]
            }]
        });
    }
}); 
```

# javascript - 如何管理选择框中的水平和垂直滚动条？

> ID：12669645
> 
> 赞同：2
> 
> 时间：2012-10-01T08:15:48.787
> 
> 标签：javascript, jquery, html, css

我想在选择框中添加水平滚动条。我已经尝试使用以下代码示例的 div 部分，但是

```
 <div id="topicsInterest_id" style="width:180px;height:280px;overflow-y:hidden;overflow-x:scroll;">

            <select id="topicsinterest" name="topicsinterest" multiple="multiple" style="width:400px;height:270px;" class="inputtxtbox">
             <option> ...</option>
            </select>
 </div> 
```

但是客户说主题列表上的滚动框等垂直滚动条..看不见？它应该在右侧的视图中。

请帮助如何在选择框中使用水平滚动条管理垂直滚动，就像这样![在此处输入图像描述](../Images/4f74a6677e00c2ade5ad5e0b573c5399.png)

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-01T10:23:07.653

看这个[演示](http://jsbin.com/iguqif/1/edit)

您只需要删除`overflow-y:hidden;overflow-x:scroll;`并将其设置为

```
overflow:auto;   // show Scroll when Required` 
```

或者

```
overflow:scroll;  //if you want to show scroll always 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T08:45:38.797

您已经设置`overflow-y: hidden;`了，它准确地指定了显示的行为（不显示垂直滚动条）。

如果您设置`overflow-y: scroll;`它将是可见的。

# batch-file - 批处理文件以删除特定行下方的所有行

> ID：12669648
> 
> 赞同：0
> 
> 时间：2012-10-01T08:16:09.730
> 
> 标签：batch-file, lines, strip

我正在寻找一个批处理或 VBS 解决方案来删除程序生成的文本文件中的行，扩展名为 .trs。

在创建的每个 .trs 文件中，都有一行包含单词“labour”。我需要删除包含劳工一词的行之后的每一行。

.trs 文件都存储在 c:\export

我已经搜索过了，但有些命令超出了我的想象。谁能给我一个完整的批处理文件的剪切和粘贴打开，拜托。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-01T19:10:03.027

我相信这是您正在寻找的代码（在批处理文件中）以删除“劳动”一词上方的所有行。让我知道是否需要对代码进行修改（例如文件中是否有多个“劳动力”实例）。

```
@echo OFF

setLocal EnableDelayedExpansion

cd C:\export
for /f "delims=" %%I in ('findstr /inc:"labour" "test.trs"') do (
set /A"line=%%I"
)

set count=0

for /f "delims=" %%A in (test.trs) do (
If !count! GEQ %line% goto ExitLoop
echo %%A >>temp.txt
set /A count+=1
echo !count!
)

:ExitLoop

type temp.txt > test.trs
del temp.txt

endlocal 
```

* * *

输出：

test.trs（更改前）

```
this
is
a
labour
test
of
the
results 
```

test.trs（更改后）

```
this
is
a 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-26T06:42:48.187

这是处理“C:\export”中每个 .trs 文件的另一种方法：

```
@echo off
if not exist "C:\export\*.trs" goto :EOF
if exist "C:\export\queue.tmp" del /q "C:\export\queue.tmp"
for /f "tokens=*" %%A in ('dir /b "C:\export\*.trs"') do (
  for /f "tokens=1,2 delims=:" %%B in ('findstr /inc:"labour" "C:\export\%%A" ^| findstr /n .*') do if "%%B" equ "1" set LineNumber=%%C
  for /f "tokens=1* delims=:" %%D in ('findstr /n .* "C:\export\%%A"') do if %%D lss %LineNumber% echo.%%E>>"C:\export\queue.tmp"
  move /y "C:\export\queue.tmp" "C:\export\%%A">NUL
) 
```

首先，我进行了一些错误检查以避免会破坏脚本的事情。接下来，我提取存储在*C:\export中的**.trs*文件列表，并遍历每个文件。

 *我使用' **findstr /inc:"labour" "C:\export\%%A"** ' 来获取在当前文件中找到 "labour" 的行号，然后将其通过管道传递到 ' **findstr /n .*** ' 以进行编号找到多个匹配项时的结果。

然后，我使用带有“ **tokens=1,2 delims=:** ”的 for 循环来查找第一个结果（**if "%%B" equ "1"**）并存储行号（**set LineNumber=%%C**）。

接下来，我使用 ' **findstr /n .* "C:\export\%%A"** ' 读取文件的每一行，**"tokens=1* delims=:"**再次分离出行号，然后复制所有数据到临时文件，直到达到**%LineNumber%**。这种读取文件的方法（使用 findstr 并对行编号）还确保 for 循环不会跳过任何空白行。

最后，我用临时文件替换原始文件，然后循环到下一个文件。

我试图使上述代码尽可能精简。这是具有格式、注释、视觉反馈和用户可定义变量的相同脚本：

```
@echo off

::Set user-defined Variables
set FilePath=C:\export
set FileType=*.trs
set Keyword=labour

::Check for files to process and exit if none are found
if not exist "%FilePath%\%FileType%" echo Error. No files to process.&goto :EOF

::Delete temp file if one already exists
if exist "%FilePath%\queue.tmp" del /q "%FilePath%\queue.tmp"

::List all files in the above specified destination, then process them one at a time
for /f "tokens=*" %%A in ('dir /b "%FilePath%\%FileType%"') do (
  ::Echo the text without a line feed (so that "Done" ends up on the same line)
  set /p NUL=Processing file "C:\export\%%A"... <NUL

  ::Search the current file for the specified keyword, and store the line number in a variable
  for /f "tokens=1,2 delims=:" %%B in ('findstr /inc:"%Keyword%" "%FilePath%\%%A" ^| findstr /n .*') do (
    if "%%B" equ "1" set LineNumber=%%C
  )>NUL

  ::Output all data from the current file to a temporary file, until the line number found above has been reached
  for /f "tokens=1* delims=:" %%D in ('findstr /n .* "%FilePath%\%%A"') do (
    if %%D lss %LineNumber% echo.%%E>>"%FilePath%\queue.tmp"
  )>NUL

  ::Replace the current file with the processed data from the temp file
  move /y "%FilePath%\queue.tmp" "%FilePath%\%%A">NUL
  echo Done.
) 
```*

# riak - Riak 的原子操作？

> ID：12669650
> 
> 赞同：0
> 
> 时间：2012-10-01T08:16:14.263
> 
> 标签：riak, atomic

我四处搜寻以确定操作在 Riak 中是否`PUT`是原子的。他们是吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-01T16:16:08.097

Riak 是一个最终一致的系统，绝对没有任何原子的概念。

解释这一点的最佳资源可能是我们关于该主题的页面：[http ://wiki.basho.com/Eventual-Consistency.html](http://wiki.basho.com/Eventual-Consistency.html)

# android - 我如何在android..中获取传入号码的运营商名称？

> ID：12669653
> 
> 赞同：2
> 
> 时间：2012-10-01T08:16:23.213
> 
> 标签：android, telephonymanager

我可以使用以下代码段获取运营商名称：

```
TelephonyManager telephonyManager = ((TelephonyManager) mContext.getSystemService(Context.TELEPHONY_SERVICE));
String operatorName = telephonyManager.getNetworkOperatorName(); 
```

它工作得很好。

我还可以使用以下代码段获取来电号码：

```
private final PhoneStateListener phoneStateListener = new PhoneStateListener() {

    @Override
    public void onCallStateChanged(int state, String incomingNumber) {
        String callState = "UNKNOWN";
        switch (state) {
            case TelephonyManager.CALL_STATE_RINGING:
        }
    }
} 
```

我想找出来电号码的运营商名称/服务提供商名称。我怎样才能做到这一点？
是否可以获取传入号码的位置，例如国家/地区？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-01T08:32:04.293

使用 Android API 也无法获取任何手机号码的运营商名称。至少不是那么容易（我认为你可能会陷入一些与隐私相关的问题）。

阅读本文了解更多信息：

[http://sms411.net/2006/07/finding-out-someones-carrier/](http://sms411.net/2006/07/finding-out-someones-carrier/)

当然，您可以尝试找到原始运营商（使用前缀），但这可能与实际运营商不同......

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-01T08:30:58.490

无法以编程方式检索主叫方运营商的详细信息。此外，由于号码可携带性，无法从呼叫者的电话号码中检索运营商的名称。但是，您可以从号码的前几位获取国家/地区信息。有关详细信息，请参阅[国家呼叫代码列表](http://en.wikipedia.org/wiki/Telephone_country_codes)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-10-10T08:38:03.030

从 API 级别 22 (Andrid 5.1) 开始，此 API 可用。

```
SubscriptionManager subscriptionManager = (SubscriptionManager)getSystemService(Context.TELEPHONY_SUBSCRIPTION_SERVICE);

List<SubscriptionInfo> subscriptionInfoList = subscriptionManager.getActiveSubscriptionInfoList();

if (subscriptionInfoList != null && subscriptionInfoList.size() > 0) {
    for (SubscriptionInfo info : subscriptionInfoList) {
        String carrierName = info.getCarrierName().toString();
        String mobileNo = info.getNumber();
        String countyIso = info.getCountryIso();
        int dataRoaming = info.getDataRoaming();
    }
} 
```

# c# - 跨越 2 个表的性能，从第 2 个表获取最新记录

> ID：12669667
> 
> 赞同：0
> 
> 时间：2012-10-01T08:17:45.110
> 
> 标签：c#, sql, linq, entity-framework

我正在使用 Code First、Entities、MVC3 + Razor，我们的表单中有很多步骤（也必须经过审核）

我有`Forms`，其中有`Steps`，所以模型看起来像这样。

```
public class MyForm
{
    public int FormId { get; set; }
    public Guid UniqueReferenceId { get; set; }
    public DateTime DateCreatedOn { get; set; }
    public string Name { get; set; }
    public string DetailsOfContact { get; set; }

    public virtual ICollection<AuditItem> AuditItems { get; set; }
}

public class AuditItem
{
    public int AuditItemId { get; set; }
    public int FormId { get; set; }
    public string ActionByUserUid { get; set; }
    public DateTime DateOfAction { get; set; }
    public int Step { get; set; }

    public virtual MyForm MyForm { get; set; }
} 
```

当我想显示一个用户界面时，麻烦就来了，该界面显示表单中的摘要信息以及它所处的最新步骤，详细说明提交的许多表单的进度，它们所在步骤的表格和摘要。即使只有几张唱片，性能也很差，更不用说当我们有数千张唱片了。我必须通过以下方式查询表：

我必须从最新日期获取步骤，而不仅仅是最新的“步骤”编号，因为表单有可能返回到上一步。

```
int latestAuditStep = myForm.AuditItems
    .OrderByDescending(ai => ai.DateOfAction)
    .Select(ai => ai.Step)
     .First(); 
```

显然这是相当昂贵的，我正在寻找一种更好的方法来解决这个建模问题。

注意：理想情况下，我希望使用 WWF，因为这似乎是结合使用的最佳工具，但我没有足够的时间来学习这一点，而不仅仅是“完成工作”，所以不知道它是否有帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T16:05:34.473

考虑使用数据库视图。

并在 FormID 和 DateOfAction 列上创建一个数据库索引。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T09:19:01.930

仍然不完美，但

```
return AuditItems.OrderBy(ai => ai.DateOfAction).Last() 
```

当然缩短了代码。

# visual-studio-2010 - 在VS2012中访问VS2010版本的Microsoft.VisualStudio.VCProjectEngine程序集

> ID：12669668
> 
> 赞同：1
> 
> 时间：2012-10-01T08:17:46.687
> 
> 标签：visual-studio-2010, assemblies, visual-studio-2012, lint

我的公司最近创建了一个 Visual Studio 2010 加载项，它允许我们从 2010、2008 和 2005 年的任何给定 Visual Studio 项目创建 LINT 文件。我们现在想让这个相同的加载项在 Visual Studio 2012 中工作，因为我们知道我们的许多客户将在不久的将来使用它，如果还没有的话。

我们认为它应该是一个简单的“切换”，并且相同的代码应该适用于两者，但是你瞧，VS10 插件在 VS12 中不起作用。所以我将代码（**绝对没有更改**）复制到 VS12 插件中，令人惊讶的是，它确实有效。自然，我们不希望有相同代码的两个版本。不利于可读性，不利于可维护性，所以我们仍然想找到一种方法让 VS10 插件在 VS12 中工作。

我认为问题在于 Microsoft.VisualStudio.VCProjectEngine 程序集。这在 VS12 中的解释与在 VS10 中的解释不同，这意味着当 VS12 读取加载项时，它不会执行我们希望它执行的操作。

我已经对这个问题进行了一些研究，许多人建议通过使用反射来解决问题，但我对这个概念相当陌生，并且没有足够的信心尝试它并冒着严重破坏加载项的风险。

所以我的问题是：有没有一种简单的方法可以将 Microsoft.VisualStudio.VCProjectEngine 的 VS10 版本读入 VS12？

非常感激 ：）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-29T06:47:49.837

后来我找到了这个问题的答案，并意识到它尚未在线程上得到确认。

答案确实在于 VCProjectEngine 程序集。出于某种原因，Visual Studio 2010 中的模块与 Visual Studio 2012 中的模块（具有相同名称）不同，这意味着在 VS2012 中编写时需要该模块的任何代码在 VS2010 中都不起作用，反之亦然。

这很痛苦，因为这意味着我们有两批完全相同的代码，但这就是它必须的方式。

# php - Yii :: 获取actions()指定的控制器动作

> ID：12669673
> 
> 赞同：1
> 
> 时间：2012-10-01T08:18:42.967
> 
> 标签：php, yii

我有带有下一个 accessRules 的控制器：

```
 public function accessRules()
  {
    return array(
      array('allow',
        'actions'=>array('login','logout'),
        'users'=>array('*'),
      ),
      array('allow',
        'actions'=>array('index'),
        'users'=>array('@'),
      ),
      array('allow',
        'actions'=>array('users'),
        'expression'=>'$user->getState(\'role\')==0',
      ),
      array('deny',
        'users'=>array('*'),
      ),
    );
  } 
```

actions() 方法指定的所有动作（在所有控制器中）：

```
 public function actions()
  {
    return array(
      'index'=>$this->module->getName().'.controllers.main.IndexAction',
      'login'=>$this->module->getName().'.controllers.main.LoginAction',
      'logout'=>$this->module->getName().'.controllers.main.LogoutAction',
    );
  } 
```

是否有机会获得控制器/操作列表取决于当前用户权限？我想构建一个包含所有控制器及其操作列表的导航菜单，如下所示：

1.  **控制器1** `(show only if current user have permissions to access it)`
    *   **控制器1/动作1** `(show only if current user have permissions to access it)`
    *   **控制器1/动作2** `(show only if current user have permissions to access it)`
2.  **控制器2** `(show only if current user have permissions to access it)`
    *   **控制器2/动作1** `(show only if current user have permissions to access it)`
    *   **控制器2/动作2** `(show only if current user have permissions to access it)`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T12:15:15.240

据我所知，如果在您的控制器中声明了访问规则，则无法获取它们。

您可能必须使用 Yii 的基于角色的访问控制 (RBAC) 并将您的访问规则保存在外部，可能在数据库中。阅读这里了解更多信息：[Yii 文档 - 基于角色的访问控制](http://www.yiiframework.com/doc/guide/1.1/en/topics.auth#role-based-access-control)

还有一个非常强大的 Yii 扩展，叫做 Rights，它为 RBAC 提供了一个后端。

目前这可能看起来有点矫枉过正，但 RBAC 的灵活性无与伦比。您可以非常精细地创建用户角色并将操作分配给角色。

如果您使用它，您可以检查访问权限`Yii::app->user->checkAccess('post.create')`，这正是您需要这样一个菜单。但是我认为您无法立即获得所有可用操作的列表，但这可能是您可以相对轻松地扩展的东西。

# javascript - 更改 URL 时如何更新 AngularJS 指令？

> ID：12669674
> 
> 赞同：10
> 
> 时间：2012-10-01T08:18:44.610
> 
> 标签：javascript, jquery, ajax, angularjs

> **可能重复：**
> [使用 AngularJS 设置活动选项卡样式](https://stackoverflow.com/questions/12295983/set-active-tab-style-with-angularjs)

我正在使用 AngularJS 并尝试在显示该选项卡的内容时向我的菜单添加一个“当前”类。这是我到目前为止所拥有的，并且在加载页面时工作正常：

HTML：

```
<ul id="nav">
    <li><a href="#/one" class="highlighttab">One</a></li>
    <li><a href="#/two" class="highlighttab">Two</a></li>
</ul> 
```

JS：

```
myModule.directive('highlighttab', function($location) {
    var currentPath = "#" + $location.path();

    return {
        restrict: 'C',
        link: function(scope, element, attrs) {
            var href = element.attr("href");
            if (currentPath == href)
            {
                element.addClass("current");
            }
        }
    };
}); 
```

`<a>`当页面 url是`#/one`或`/#two`

问题是如果我单击第二个选项卡，该类不会添加到其中。我想我需要一些方法来让指令中的代码在 URL 更改时重新运行。有什么办法吗？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-10-02T05:09:06.373

[在评论中使用https://stackoverflow.com/a/12631214/1684860](https://stackoverflow.com/a/12631214/1684860)中的kfis 代码，我现在可以在 location.path() 上使用 $scope.watch 进行此操作。

```
myModule.directive('highlighttab', ['$location', function(location) {

    return {
        restrict: 'C',
        link: function($scope, $element, $attrs) {
            var elementPath = $attrs.href.substring(1);
            $scope.$location = location;
            $scope.$watch('$location.path()', function(locationPath) {
                (elementPath === locationPath) ? $element.addClass("current") : $element.removeClass("current");
            });
        }
    };
}]); 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-10-01T10:46:28.207

假设您使用的是 ngView/routeProvider，您可能需要监听路由更改事件，可能是 $routeChangeSuccess [1](http://docs.angularjs.org/api/ng.%24route)。

例如在您的链接功能中：

```
scope.$on("$routeChangeSuccess", function (event, current, previous) {
    if (current == href) {
      element.addClass("current");
    }
    else {
      element.removeClass("current");
    }
}); 
```

未经测试，因此可能需要修补，例如是否存在“#”。我希望您的`currentPath`变量只被评估一次，因此您可能希望将其重新设计为链接函数，以便其有效范围更清晰。

[1](http://docs.angularjs.org/api/ng.%24route) [http://docs.angularjs.org/api/ng.$ro​​ute]

# asp.net-mvc - 使用 mvc 3 发布时，我的复杂对象丢失了数据

> ID：12669678
> 
> 赞同：0
> 
> 时间：2012-10-01T08:19:02.753
> 
> 标签：asp.net-mvc, asp.net-mvc-3, posting

嗨，我正在尝试发布一个复杂的类，Witcht itzelf 拥有不同的复杂类

```
 public static readonly PropertyInfo<List<RoomsWithServices>> RoomsWithServicesListProperty = RegisterProperty<List<RoomsWithServices>>(c => c.RoomsWithServicesList);
    public List<RoomsWithServices> RoomsWithServicesList
    {
        get { return GetProperty(RoomsWithServicesListProperty); }
        set { SetProperty(RoomsWithServicesListProperty, value); }
    }

    public static readonly PropertyInfo<List<SelectableBookingService>> BookingServicesProperty = RegisterProperty<List<SelectableBookingService>>(c => c.BookingServices);
    public List<SelectableBookingService> BookingServices
    {
        get { return GetProperty(BookingServicesProperty); }
        set { SetProperty(BookingServicesProperty, value); }
    } 
```

但是当我发布模型为空时，模型正确构建并显示正确的数据。但是当我尝试发布帖子给我的数据时是空的

```
@foreach (RoomsWithServices item in Model.RoomsWithServicesList)
{
    <div>
    @Html.HiddenFor(m => item.Room.VideoConferencingRoomId)
    @Html.DisplayFor(m => item.Room.Name)
    @Html.HiddenFor(m => item.Room.Name)
    @foreach (SelectableRoomService service in item.RoomService)
    {
        <div>
        @Html.EditorFor(m => service.IsSelected)| @Html.DisplayFor(m => service.RoomService.ServiceName) | @Html.DisplayFor(m => service.RoomService.Price)
        @Html.HiddenFor(m => service.RoomService.ServiceName) 
        @Html.HiddenFor(m => service.RoomService.Price)
        </div>
    }                                          
    </div>
}
</div>
<div>
<h2>BookingServies</h2>
@foreach (SelectableBookingService item in Model.BookingServices)
{
    <div>
    @Html.EditorFor(m => item.IsSelected)| @Html.DisplayFor(m => item.Service.Name) | @Html.DisplayFor(m => item.Service.Price)
    </div>
}
</div>

<input type="submit" name="RoomsWithServicesListAndBookingServices" value="Confirm Selected Services"/> 
</fieldset> 
```

}

我怎么解决这个问题

谢谢

# android - Eclipse 未显示 XML 错误

> ID：12669679
> 
> 赞同：6
> 
> 时间：2012-10-01T08:19:07.383
> 
> 标签：android, xml, eclipse, debugging

我已经提到过这个问题[Eclipse Problems View not displayed Errors](https://stackoverflow.com/questions/253357/eclipse-problems-view-not-showing-errors-anymore) 但这似乎并不能解决我的问题

我目前的配置

Windows 7 64-but Eclipse Java EE IDE 适用于 Web 开发人员（尝试了几个版本 Juno、Indigo）

Eclipse 不断抛出错误“R 无法解析为变量”，但不会在 xml 文件中显示错误。

一个简单的例子

```
<EditText
    android:id="@+id/srchUsers"
    android:layout_width="match_parent"
    android:layout_height="60dp"
    android:layout_marginBottom="0dp"
    android:layout_marginTop="10dp"
    android:background="@android:color/white"
    android:ems="10"
    android:hint="Search Users"
    android:inputType="text"
    android:maxLines="1"
    android:paddingLeft="10dp"
    android:drawableLeft="@drawable/ic_action_search_black" 
    > 
```

可绘制的 ic_action_search_black 不存在，但除了可怕的“R 无法解决”之外，eclipse 没有显示任何错误。我已经尝试了大多数解决方案，例如检查问题视图、标记视图、确保所有错误都设置为显示等。但没有任何效果。

我认为它可能是 eclipse 64 位，但在 Win 7 64 上是 32 位版本的 eclipse，但给了我同样的错误。

但是，我有另一台运行 Win 7 32 位的旧机器和相同的 Eclipse（当然是 32 位）；我可以在 layout(xml) 文件中看到错误，而且我很容易调试。

我正在浪费宝贵的时间来调试我当前的开发机器。

非常感谢任何帮助。

日食设置

窗口 -> 首选项 -> Android -> 构建 -> 输出设置为详细

问题窗格 -> 配置内容 -> 显示所有项目已选中

标记窗格 -> 配置内容 -> 显示所有项目已选中

![没有显示错误](../Images/5157d8d1070bb56a79315d28672d215b.png)

请注意，图像显示 R 无法解析，没有显示 xml 错误，显然存在 xml 错误。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-06-16T13:58:20.840

就在第二次这样使用：-

```
android:layout="@id/leftText" 
```

您第二次使用的原因`android:layout="@+id/leftText"`是导致*R.java*中的 id与前一次发生冲突。

我希望这对你有帮助。

# spring - 无法加载属性占位符的属性文件

> ID：12669683
> 
> 赞同：0
> 
> 时间：2012-10-01T08:19:34.533
> 
> 标签：spring, ant, eclipse-juno

我的属性文件位于以下路径下：

```
src\main\resources\META-INF\app-config.properties 
```

我的spring配置文件在路径下：

```
WebContent\WEB-INF 
```

并尝试按如下方式加载属性文件时：

```
<context:property-placeholder
        location="classpath:META-INF/app-config.properties" /> 
```

我得到了例外：

```
java.io.FileNotFoundException: class path resource [META-INF/app-config.properties] cannot be opened because it does not exist 
```

**应用程序上下文.xml**

```
<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:aop="http://www.springframework.org/schema/aop"
    xmlns:cache="http://www.springframework.org/schema/cache"
    xmlns:context="http://www.springframework.org/schema/context"
    xmlns:jdbc="http://www.springframework.org/schema/jdbc" xmlns:jee="http://www.springframework.org/schema/jee"
    xmlns:jms="http://www.springframework.org/schema/jms" xmlns:jpa="http://www.springframework.org/schema/data/jpa"
    xmlns:lang="http://www.springframework.org/schema/lang" xmlns:mvc="http://www.springframework.org/schema/mvc"
    xmlns:oxm="http://www.springframework.org/schema/oxm" xmlns:p="http://www.springframework.org/schema/p"
    xmlns:task="http://www.springframework.org/schema/task" xmlns:tx="http://www.springframework.org/schema/tx"
    xmlns:util="http://www.springframework.org/schema/util"
    xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
        http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-3.0.xsd
        http://www.springframework.org/schema/cache http://www.springframework.org/schema/cache/spring-cache-3.1.xsd
        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.1.xsd
        http://www.springframework.org/schema/jdbc http://www.springframework.org/schema/jdbc/spring-jdbc-3.0.xsd
        http://www.springframework.org/schema/jee http://www.springframework.org/schema/jee/spring-jee-3.1.xsd
        http://www.springframework.org/schema/jms http://www.springframework.org/schema/jms/spring-jms-3.0.xsd
        http://www.springframework.org/schema/data/jpa http://www.springframework.org/schema/data/jpa/spring-jpa-1.1.xsd
        http://www.springframework.org/schema/lang http://www.springframework.org/schema/lang/spring-lang-3.1.xsd
        http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.1.xsd
        http://www.springframework.org/schema/oxm http://www.springframework.org/schema/oxm/spring-oxm-3.0.xsd
        http://www.springframework.org/schema/task http://www.springframework.org/schema/task/spring-task-3.1.xsd
        http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-3.0.xsd
        http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-3.0.xsd">

    <import resource="application-Security-Context.xml" />

    <import resource="application-DataAccess-Context.xml" />

    <import resource="application-Service-Context.xml" />

    <context:component-scan base-package="com.myapp" />

    <!-- PERSISTENCE -->
    <context:property-placeholder
        location="classpath:META-INF/app-config.properties" />

    <jee:jndi-lookup id="appDS" jndi-name="MyApp" expected-type="javax.sql.DataSource"/>

    <bean id="persistenceUnitManager"
        class="org.springframework.orm.jpa.persistenceunit.DefaultPersistenceUnitManager">
        <property name="defaultDataSource" ref="appDS" />
    </bean>

    <bean id="entityManagerFactory"
        class="org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean">
        <property name="persistenceUnitManager" ref="persistenceUnitManager" />
        <property name="persistenceUnitName" value="MyApp" />
    </bean>

    <bean id="transactionManager" class="org.springframework.orm.jpa.JpaTransactionManager">
        <property name="entityManagerFactory" ref="entityManagerFactory" />
    </bean>

    <tx:annotation-driven transaction-manager="transactionManager" />
</beans> 
```

applicationContext 在 web.xml 中加载如下：

```
<context-param>
        <param-name>contextConfigLocation</param-name>
        <param-value>/WEB-INF/applicationContext.xml</param-value>
    </context-param> 
```

我正在使用 ant 构建我的项目，我是否缺少此问题的 ant 配置或 eclipse 配置？

**蚂蚁配置：**

```
<zipfileset dir="${basedir}/src/main/resources/META-INF" includes="app-config.properties" fullpath="WEB-INF/classes/META-INF/app-config.properties"/> 
```

我还在 Eclipse 中将 META-INF 文件夹添加到部署程序集中。

请告知如何正确加载此属性文件。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-09T18:10:12.043

你可以试试`<context:property-placeholder location="classpath*:META-INF/app-config.properties" />` 如果这也失败了，那么可能是你的 src\main\resources 不在类路径下。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T09:15:09.007

我认为问题出在您为属性文件定义的路径中。你可以试试下面的一个。

```
<context:property-placeholder location="classpath:/META-INF/app-config.properties" /> 
```

希望这对您有所帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-05T11:07:33.857

在这里进行一些猜测，正如您所说的那样，您正在使用 eclipse，但不完全是发生异常的时间 - 从 eclipse 或命令行。如果来自 Eclipse，那么您需要将 Eclipse 项目设置与 Ant 正在使用的那些设置保持一致。转到 Project-Properties 下，而不是部署程序集，转到 Java Build 路径并验证您的所有源输入（代码和资源）都在那里。更重要的是，验证输出目录是否设置为 Ant 正在使用的相同目录。远射，但值得一试！

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-09T15:26:07.010

属性文件实际上是否在您编译的工件中？您能否向我们展示您解压缩的工件的目录列表，以便我们查看该文件是否存在？或者你是直接从 Eclipse 运行它并且错误出现了吗？如果是这样，您需要调整项目属性以包含目录和/或文件。

# android - 构建后在android phonegap 1.9中未显示启动画面

> ID：12669684
> 
> 赞同：1
> 
> 时间：2012-10-01T08:19:42.693
> 
> 标签：android, eclipse, cordova, splash-screen

我正在使用 phonegap 1.9、android、eclipse 4.2、jquerymobile 我想显示启动画面。我已经使用了这篇[文章](http://simonmacdonald.blogspot.com/2012/04/phonegap-android-splashscreen-just-got.html)。它在 android 模拟器中运行良好，但是当我使用 build.phonegap.com/apps/MyAppId/builds 构建应用程序并在 ipad 上运行它时，默认启动屏幕出现在这里是我的代码，我已将图标和 spalshscreen 图像放在各自的文件夹中

java活动代码

```
 public class MyPhoneGapActivity extends DroidGap {
        @Override
        public void onCreate(Bundle savedInstanceState) {
            super.onCreate(savedInstanceState); 
            super.setIntegerProperty("splashscreen", R.drawable.ic_launcher);
            super.loadUrl("file:///android_asset/www/index.html",5000);
         }
        } 
```

javascript代码

```
 <script type="text/javascript" charset="utf-8">

        var onDeviceReady = function() {    
        cordova.exec(null, null, "SplashScreen", "hide", []);
            document.getElementById("devready").innerHTML = "";
        };

        function CheckDeviceReady() {
            document.addEventListener("deviceready", onDeviceReady, true);
        }  

</script>  

  <body onload="CheckDeviceReady();" id="stage" class="theme">
<div id="devready" data-theme="b">Device not ready..</div>
</body> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-01T08:49:47.003

PhoneGap 仅构建您的网络资产。它不构建任何本机源代码 (MyPhoneGapActivity.java)。您可以在 Eclipse 项目**bin**文件夹中找到**.apk文件**

 **在 www 文件夹中创建 config.xml 文件并将启动图像放在**“splash/android/”**文件夹中，然后在 phonegap 站点中构建。有关更多详细信息，请参阅[https://build.phonegap.com/docs/config-xml](https://build.phonegap.com/docs/config-xml)

**www/config.xml**：

```
<?xml version="1.0" encoding="UTF-8"?>
<widget xmlns = "http://www.w3.org/ns/widgets"
    xmlns:gap = "http://phonegap.com/ns/1.0"
    id        = "com.phonegap.example"
    version   = "1.0.0">
  <name>Sample</name>
  <description>
    Sample
  </description>
  <preference name="phonegap-version" value="2.0.0" />

  <!-- Icons -->
  <icon src="icon.png" />

  <icon src="icons/ios/icon.png" width="57" height="57" />
  <icon src="icons/ios/icon-72.png" gap:platform="ios" width="72" height="72" />
  <icon src="icons/ios/icon_at_2x.png" width="114" height="114" />

  <icon src="icons/android/ldpi.png" gap:platform="android" gap:density="ldpi" />
  <icon src="icons/android/mdpi.png" gap:platform="android" gap:density="mdpi" />
  <icon src="icons/android/hdpi.png" gap:platform="android" gap:density="hdpi" />

  <!-- Splash Screens -->
  <preference name="orientation" value="default" />
  <preference name="fullscreen" value="true" />
  <preference name="webviewbounce" value="false" />
  <preference name="show-splash-screen-spinner" value="false" />

  <gap:splash src="splash.png" />

  <gap:splash src="splash/ios/Default.png" width="320" height="480" />
  <gap:splash src="splash/ios/Default_at_2x.png" width="640" height="960" />
  <gap:splash src="splash/ios/Default-Landscape.png" width="1024" height="768" />
  <gap:splash src="splash/ios/Default-Portrait.png" width="768" height="1024" />

  <gap:splash src="splash/android/ldpi.png" gap:platform="android" gap:density="ldpi" />
  <gap:splash src="splash/android/mdpi.png" gap:platform="android" gap:density="mdpi" />
  <gap:splash src="splash/android/hdpi.png" gap:platform="android" gap:density="hdpi" />
  <gap:splash src="splash/android/xhdpi.png" gap:platform="android" gap:density="xhdpi" />

</widget> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-09-22T15:04:18.500

通常很难编辑 config.xml 现在您可以使用 GUI 工具编辑 config.xml 从这里下载它 [http://configap.com/](http://configap.com/)**

# java - 如何从 XML 文件中删除多余的空行？

> ID：12669686
> 
> 赞同：20
> 
> 时间：2012-10-01T08:19:46.420
> 
> 标签：java, xml, carriage-return, code-cleanup

简而言之; 我在 XML 文件中生成了许多空行，我正在寻找一种将它们删除的方法，以作为倾斜文件的一种方式。我怎样才能做到这一点 ？

详细解释；我目前有这个 XML 文件：

```
<recent>
  <paths>
    <path>path1</path>
    <path>path2</path>
    <path>path3</path>
    <path>path4</path>
  </paths>
</recent> 
```

我使用此 Java 代码删除所有标签，并添加新标签：

```
public void savePaths( String recentFilePath ) {
    ArrayList<String> newPaths = getNewRecentPaths();
    Document recentDomObject = getXMLFile( recentFilePath );  // Get the <recent> element.
    NodeList pathNodes = recentDomObject.getElementsByTagName( "path" );   // Get all <path> nodes.

    //1\. Remove all old path nodes :
        for ( int i = pathNodes.getLength() - 1; i >= 0; i-- ) { 
            Element pathNode = (Element)pathNodes.item( i );
            pathNode.getParentNode().removeChild( pathNode );
        }

    //2\. Save all new paths :
        Element pathsElement = (Element)recentDomObject.getElementsByTagName( "paths" ).item( 0 );   // Get the first <paths> node.

        for( String newPath: newPaths ) {
            Element newPathElement = recentDomObject.createElement( "path" );
            newPathElement.setTextContent( newPath );
            pathsElement.appendChild( newPathElement );
        }

    //3\. Save the XML changes :
        saveXMLFile( recentFilePath, recentDomObject ); 
} 
```

多次执行此方法后，我得到了一个具有正确结果的 XML 文件，但在“路径”标记之后和第一个“路径”标记之前有许多空行，如下所示：

```
<recent>
  <paths>

    <path>path5</path>
    <path>path6</path>
    <path>path7</path>
  </paths>
</recent> 
```

任何人都知道如何解决这个问题？

**------------------------------------------------------- 编辑：添加 getXMLFile(. ..)、saveXMLFile(...) 代码。**

```
public Document getXMLFile( String filePath ) { 
    File xmlFile = new File( filePath );

    try {
        DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();
        DocumentBuilder db = dbf.newDocumentBuilder();
        Document domObject = db.parse( xmlFile );
        domObject.getDocumentElement().normalize();

        return domObject;
    } catch (Exception e) {
        e.printStackTrace();
    }

    return null;
}

public void saveXMLFile( String filePath, Document domObject ) {
    File xmlOutputFile = null;
    FileOutputStream fos = null;

    try {
        xmlOutputFile = new File( filePath );
        fos = new FileOutputStream( xmlOutputFile );
        TransformerFactory transformerFactory = TransformerFactory.newInstance();
        Transformer transformer = transformerFactory.newTransformer();
        transformer.setOutputProperty( OutputKeys.INDENT, "yes" );
        transformer.setOutputProperty( "{http://xml.apache.org/xslt}indent-amount", "2" );
        DOMSource xmlSource = new DOMSource( domObject );
        StreamResult xmlResult = new StreamResult( fos );
        transformer.transform( xmlSource, xmlResult );  // Save the XML file.
    } catch (FileNotFoundException e) {
        e.printStackTrace();
    } catch (TransformerConfigurationException e) {
        e.printStackTrace();
    } catch (TransformerException e) {
        e.printStackTrace();
    } finally {
        if (fos != null)
            try {
                fos.close();
            } catch (IOException e) {
                e.printStackTrace();
            }
    }
} 
```

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2012-10-01T08:57:24.480

首先，解释为什么会发生这种情况——这可能有点离题，因为您没有包含用于将 XML 文件加载到 DOM 对象中的代码。

根据 DOM 规范，当您从文件中读取 XML 文档时，标签之间的空格实际上构成了有效的 DOM 节点。因此，XML 解析器将每个这样的空格序列视为一个 DOM 节点（类型为`TEXT`）；

为了摆脱它，我可以想到三种方法：

*   将 XML 与架构相关联，然后`setValidating(true)`在.`setIgnoringElementContentWhitespace(true)``DocumentBuilderFactory`

    *（注意：`setIgnoringElementContentWhitespace`仅当解析器处于验证模式时才有效，这就是您必须使用的原因`setValidating(true)`）*

*   编写一个 XSL 来处理所有节点，过滤掉只有空白的`TEXT`节点。
*   使用 Java 代码执行此操作：使用 XPath 查找所有仅空白`TEXT`节点，遍历它们并从其父节点中删除每个节点（使用`getParentNode().removeChild()`）。这样的事情会做（`doc`将是你的 DOM 文档对象）：

    ```
    XPath xp = XPathFactory.newInstance().newXPath();
    NodeList nl = (NodeList) xp.evaluate("//text()[normalize-space(.)='']", doc, XPathConstants.NODESET);

    for (int i=0; i < nl.getLength(); ++i) {
        Node node = nl.item(i);
        node.getParentNode().removeChild(node);
    } 
    ```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-01T13:12:48.940

在删除所有旧的“路径”节点后，我能够通过使用此代码来解决此问题：

```
while( pathsElement.hasChildNodes() )
    pathsElement.removeChild( pathsElement.getFirstChild() ); 
```

这将删除 XML 文件中所有生成的空格。

特别感谢[MadProgrammer](https://stackoverflow.com/users/992484/madprogrammer)对上述有用链接的评论。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-01T08:45:50.637

如果您只需要快速“清理”您的 xml，您可以查看类似[的内容。](http://plexus.codehaus.org/plexus-utils/xref/org/codehaus/plexus/util/xml/XmlUtil.html)然后你可以有一个方法，如：

```
public static String cleanUp(String xml) {
    final StringReader reader = new StringReader(xml.trim());
    final StringWriter writer = new StringWriter();
    try {
        XmlUtil.prettyFormat(reader, writer);
        return writer.toString();
    } catch (IOException e) {
        e.printStackTrace();
    }
    return xml.trim();
} 
```

此外，如果需要，比较 anche 检查差异：[XMLUnit](http://xmlunit.sourceforge.net/)

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-01-10T09:57:14.373

我遇到了同样的问题，很长一段时间我都不知道，但现在，在布拉德的这个问题和他自己对他自己问题的回答之后，我发现了问题所在。

我必须添加我自己的答案，因为布拉德的答案并不完美，艾萨克是如何说的：

> 我不会盲目地删除子节点而不知道它们是什么

因此，更好的“解决方案”（引用是因为它更有可能是解决方法）是：

```
pathsElement.setTextContent(""); 
```

这完全删除了无用的空行。这绝对比删除所有子节点要好。布拉德，这也应该对你有用。

但是，这是一个结果，而不是原因，我们知道如何消除这个结果，而不是原因。

原因是：当我们调用时`removeChild()`，它删除了这个孩子，但**它留下了被删除的孩子的缩进**，并且也有换行符。而这个 indent_and_like_break 被视为文本内容。

因此，要消除原因，我们应该弄清楚**如何消除 child 及其 indent**。欢迎来到我[关于这个](http://goo.gl/C6Ycz)的问题。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2014-05-09T10:00:23.257

如果使用 DOM 处理 API（例如 DOM4J），有一种非常简单的方法可以去除空行：

*   将要保留的文本放在变量中（即*`text`*）
*   使用将节点文本设置为“”`node.setText("")`
*   将节点文本设置为*`text`*使用`node.setText(text)`

瞧！没有更多的空行。其他答案很好地描述了 xml 输出中的额外空行实际上是文本类型的额外节点。

这种技术可以与任何 DOM 解析系统一起使用，只要将文本设置函数的名称更改为适合您 API 中的名称，因此表示它的方式稍微抽象一点。

希望这可以帮助：）

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2021-05-06T14:08:43.647

就我而言，我将其转换为字符串，然后只是做了一个正则表达式：

```
 //save as String
        StringWriter writer = new StringWriter();
        StreamResult result = new StreamResult(writer);
        tr.transform(new DOMSource(document), result);
        strResult = writer.toString();

        //remove empty lines 
        strResult = strResult.replaceAll("\\n\\s*\\n", "\n"); 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-10-01T08:41:05.377

几点注意事项：1）当您操作 XML（删除元素/添加新元素）时，我强烈建议您使用 XSLT（而不是 DOM）2）当您通过 XSLT 转换 XML 文档时（就像您在保存方法中所做的那样） ，将 OutputKeys.INDENT 设置为“no” 3) 对于 xml 的简单后处理（删除空格、注释等），您可以使用简单的 SAX2 过滤器

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2013-11-05T18:15:20.253

```
DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();
dbf.setIgnoringElementContentWhitespace(true); 
```

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2014-07-11T06:48:41.923

我正在使用以下代码：

```
System.out.println("Start remove textnode");
        i=0;
        while (parentNode.getChildNodes().item(i)!=null) {
            System.out.println(parentNode.getChildNodes().item(i).getNodeName());
            if (parentNode.getChildNodes().item(i).getNodeName().equalsIgnoreCase("#text")) {
                parentNode.removeChild(parentNode.getChildNodes().item(i));
                System.out.println("text node removed");
            }
            i=i+1;

        } 
```

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2020-06-04T01:31:17.143

当我使用 dom4j 删除一些元素并且遇到同样的问题时，上面的解决方案在不添加其他一些必需的 jar 的情况下没有用。最后，我找到了一个简单的解决方案，只需要使用 JDK io pakage：

1.  使用 BufferedReader 读取 xml 文件并过滤空行。

```
StringBuilder stringBuilder = new StringBuilder();
FileInputStream fis = new FileInputStream(outFile);
InputStreamReader isr = new InputStreamReader(fis);
BufferedReader br = new BufferedReader(isr);
String s;
while ((s = br.readLine()) != null) {
  if (s.trim().length() > 0) {
    stringBuilder.append(s).append("\n");
  }
} 
```

2.  将字符串写入xml文件

```
OutputStreamWriter osw = new OutputStreamWriter(fou);
BufferedWriter bw = new BufferedWriter(osw);
String str = stringBuilder.toString();
bw.write(str);
bw.flush(); 
```

3.  记得关闭所有流

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2022-01-03T16:19:38.930

很晚的答案，但也许它仍然对某人有帮助。

我在课堂上有这段代码，文档是在转换后构建的（就像你一样）：

```
TransformerFactory tFactory = TransformerFactory.newInstance();
Transformer transformer = tFactory.newTransformer();
transformer.setOutputProperty(OutputKeys.INDENT, "yes"); 
```

将最后一行更改为

```
transformer.setOutputProperty(OutputKeys.INDENT, "no"); 
```

# javascript - Javascript：无法创建新的隐藏输入元素

> ID：12669692
> 
> 赞同：0
> 
> 时间：2012-10-01T08:19:53.033
> 
> 标签：javascript, security

我正在按照[此处](http://www.wikihow.com/Create-a-Secure-Login-Script-in-PHP-and-MySQL)找到的代码创建安全登录页面。问题是，它不能创建隐藏的输入元素。

```
function formhash(form, password) {
    // Create a new element input, this will be out hashed password field.
    var p = document.createElement("input");
    // Add the new element to our form.
    form.appendChild(p);
    p.name = "p";
    p.type = "hidden"
    p.value = hex_sha512(password.value);
    // Make sure the plaintext password doesn't get sent.
    password.value = "";
    // Finally submit the form.
    form.submit();
} 
```

我已经读过它只适用于 IE 而不是壁虎。这是真的还是我只是错过了什么？

更新：

当我将 javascript 放入登录页面时，formhash 函数起作用。当它移动到外部文件时，问题又开始了。

@asprin 指出。我放置php的原因是因为代码是基于php实现的

@Henrik 会这样做。谢谢

@RenePot 是的，它是在 process_login.php 页面上调用的

@MarkGarcia 感谢您的建议。注意它说的是函数没有声明

@WernerVesterås 不确定，但我想之后。

@Quentin 感谢您的建议。会这样做的：D

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T08:25:53.800

很可能，`form`根本没有设置为您认为的那样，jsfiddle.net 可能会帮助我们和您调试。[我在http://jsfiddle.net/JPTyj/](http://jsfiddle.net/JPTyj/)上设置了一个工作版本，注释掉隐藏以实际看到它工作。*请注意，您不会在浏览器的“查看源代码”中隐藏输入字段，因为它是动态添加到 dom 中的！使用 firebug 或 chrome 开发工具来查看它。*

此外，您很可能希望使用库来更轻松地开发独立于平台的代码，而不是编写纯 JavaScript。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T08:36:16.773

在 IE8 中（至少），您需要`type`在附加属性之前设置属性`setAttribute()`：

```
var p = document.createElement("input");
p.setAttribute("type", "hidden");
form.appendChild(p); 
```

[http://jsfiddle.net/BePGD/](http://jsfiddle.net/BePGD/)在 IE7、IE8、Chrome 中测试。

# java - Java EE 6 - ViewScoped 和会话 bean 中的 @PreDestroy 从未调用

> ID：12669693
> 
> 赞同：0
> 
> 时间：2012-10-01T08:19:53.670
> 
> 标签：java, jsf, jakarta-ee, view-scope

正如我在[本主题](https://stackoverflow.com/questions/12655365/java-ee-6-pessimistic-locking-viewscoped-bean-stateful-bean-with-usertrans)中所写，我需要在用户关闭或更改页面时调用一些操作。我以为我可以`@PreDestroy`在我的视图范围内使用 bean，但它永远不会被调用（即使会话过期）。这是一个错误吗？我使用 Glassfish 3.1.2。

用户离开页面时如何调用bean方法的任何其他建议？javascript是个`window.onunload`好主意吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T12:30:41.270

即使 bean 是视图范围的，容器也有责任决定*何时*收集和销毁未使用的资源。

用于定义范围的注释指示托管 bean 必须存活多长时间，但您无法保证它们何时会被销毁。

正如您所建议的，JavaScript 可以解决您的问题。另请参阅此答案：[如何在用户离开页面时检测表单中未保存的数据？](https://stackoverflow.com/a/8259403/870122)

# wpf - 如何平滑 WPF 动画？

> ID：12669700
> 
> 赞同：1
> 
> 时间：2012-10-01T08:21:21.067
> 
> 标签：wpf, animation, storyboard

我正在努力平滑 WPF 动画

其实我的动画代码如下：

```
private void AnimateX ( FrameworkElement element, double XMoveStart, double XMoveEnd, int secondX)
{

    SineEase eEase = new SineEase();
    eEase.EasingMode = EasingMode.EaseInOut;
    Storyboard sb = new Storyboard();

    DoubleAnimation daX = new DoubleAnimation(XMoveStart, XMoveEnd, new Duration(new TimeSpan(0, 0, 0, secondX, 0)));
    daX.EasingFunction = eEase;
    Storyboard.SetTargetProperty(daX, new PropertyPath("(Canvas.Left)"));

    sb.Children.Add(daX);

    element.BeginStoryboard(sb);
} 
```

上面的代码是一种轻松水平移动对象的方法。当只有一个物体在移动时，就可以了。但是，每当两个或多个对象一起移动时（在前一个动画尚未完成时调用另一个对象的 AnimateX 方法），动画就会开始变得抖动。我所说的抖动是指在动画过程中物体有点晃动。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2017-05-22T19:57:11.167

我多次遇到同样的问题。我发现根据您添加到画布的对象，WPF 通常必须在每一帧上重新生成这些对象的表示（我相信这可能是您的情况，具体取决于您正在操作的 UI 元素的类型）。您可以通过告诉 WPF 将画布的表示缓存在位图中来解决抖动问题。在画布的 Xaml 定义中，这非常简单，如下所示：

```
<Canvas ...Your canvas properties...>
    <Canvas.CacheMode>
        <BitmapCache />
    </Canvas.CacheMode>
    ...Your objects...
</Canvas>` 
```

这减少了 WPF 应用程序的负载，因为它只是将对象的表示形式存储为位图图像，因此您的应用程序不必在每一帧上重新绘制它们。此解决方案仅适用于您的动画在画布外部应用，并且没有持续的本地动画应用于画布中绘制的各个对象的情况。如果您的代码中的其他动画相对于彼此移动两个对象，您将需要创建具有自己缓存的单独画布。

请注意，此策略不会缓解某些 UI 元素。但是，我已经看到这种策略对许多元素都有效，包括**TextBox**等，以及几何形状。无论如何，它总是值得一试的。

其次，如果缓存本地表示还不够，那么您可能需要查看代码的性能，看看是否有任何进程可能导致暂时阻塞 UI。关于这方面没有统一的解决方案，这取决于还有什么给您的应用程序 UI 带来压力。清理代码并在相关的地方使用异步进程可能会有所帮助。

最后，如果在所有这些检查之后对您的应用程序的总体需求仍然过高，您可以通过降低其一般帧速率（默认为 60）来消除应用程序的一些压力。您可以尝试 30 或 40 看看这是否有所改善通过在初始化中包含以下代码来进行抖动：

```
Timeline.DesiredFrameRateProperty.OverrideMetadata(typeof(Timeline), new FrameworkPropertyMetadata { DefaultValue = 40 }); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T08:54:44.040

只是一个猜测，但是如果您直接为属性设置动画，而不使用 Storyboard，会发生什么？

```
private void AnimateX(FrameworkElement element, double xMoveStart, double xMoveEnd, double durationSeconds)
{
    DoubleAnimation animation = new DoubleAnimation
    {
        From = xMoveStart,
        To = xMoveEnd,
        Duration = TimeSpan.FromSeconds(durationSeconds),
        EasingFunction = new SineEase { EasingMode = EasingMode.EaseInOut }
    };

    element.BeginAnimation(Canvas.LeftProperty, animation);
} 
```

# xml - HTTPS 问题，但 VBA 中的 HTTP 问题（来自 XML）

> ID：12669702
> 
> 赞同：1
> 
> 时间：2012-10-01T08:21:30.877
> 
> 标签：xml, excel, https, vba

我正在使用 VBA 解析一些 XML 文件并使用它们的信息在 Excel 中创建图表。但是当 XML 文件的 URL 以 HTTPS 开头时，我遇到了问题。我收到的错误是：

```
Run-time error '91' Object variable or With block variable not set" 
```

这是我用来确定 HTTPS 而不是 HTTP 问题的代码：

```
Function GetStr() As String
    Set XmlDoc = CreateObject("Msxml2.DOMDocument.6.0")
    XmlDoc.async = False
    XmlDoc.Load ("https://........")
    GetStr = XmlDoc.SelectSingleNode("/investigations/header/c0/name").Text
End Function

Sub Test()
    Debug.Print GetStr
End Sub 
```

这是`GetStr = XmlDoc1...`导致问题的原因（对于 Excel）。

当我用 HTTP URL 替换 URL 时，它运行良好。

任何人都知道出了什么问题或有想法，即使他也不确定？

# android - 在 MainActivity 中加载 SharedPreferences 并在辅助活动中更新

> ID：12669707
> 
> 赞同：0
> 
> 时间：2012-10-01T08:22:11.657
> 
> 标签：android, android-activity, sharedpreferences

大家，早安，

我在创建我的第一个应用程序的过程中再次遇到问题。这次使用 SharedPreferences 文件。

我有 2 个活动必须使用相同的 SharedPreferences 文件。第一个是 MainActivity，第二个是数据的编辑布局。

在 MainActivity 我有以下方法，我使用数据连接到 PLC：

```
 //initialize the SharedPreferences variables for the PLC Data and Connection
    m_DataPLC = getSharedPreferences("CFTPreferences",CONTEXT_IGNORE_SECURITY);
    m_DataEditorPLC = m_DataPLC.edit();

    //Gets the number from the IP Address for the connection with the PLC
    //As default, the system takes the value of a static string value
    //This is when the SharedPreferences file is empty
    m_IpAddress = getResources().getString(R.string.ip_Address);
    m_NewIpAddress = m_DataPLC.getString("newIpAddress", m_NewIpAddress);
    if(m_NewIpAddress == null)
    {
        m_DataEditorPLC.putString("newIpAddress", m_IpAddress.toString());
        m_DataEditorPLC.commit();
        m_OldIpAddress = m_NewIpAddress = m_IpAddress;
    }
    else
    {
        m_OldIpAddress = m_IpAddress = m_NewIpAddress; 
    }

    //Start the connection with the PLC
    m_Connection = new ModbusConnection(this,m_IpAddress);
    inet = m_Connection.loginPLC(); 
```

在我的第二个活动中，我必须加载相同的数据并能够对其进行修改。我首先要做的是登录 SharedPreferencesFile：

```
dataPLC = getSharedPreferences("CFTPreferences",CONTEXT_IGNORE_SECURITY);
dataEditorPLC = dataPLC.edit(); 
```

然后我用一个按钮的点击动作来写：

```
 public void setIPAddress()
{
    if (!newIpAddress.equals(etIPAddress.getText().toString()))
    {
        dataEditorPLC.putString("oldIpAdd",ipAddress.toString());
        dataEditorPLC.putString("newIpAdd",etIPAddress.getText().toString());
        dataEditorPLC.commit();
    }
} 
```

我不知道我是否在两次调用同一个文件时做错了，或者我是否需要做一些额外的事情来修复它。看起来它进行了更新，但它没有刷新 MainActivity。如果有人遇到同样的问题，我将不胜感激！！！！

提前谢谢了！！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T08:36:35.123

`onCreate()`我认为您正在访问第一个活动中共享首选项的值。那将是你的问题。因为当你从第二个活动回到第一个活动时，你`onCreate()`的不是被调用，而是`onResume()`被调用。因此，更好的做法是将访问`SharedPreferences`值的代码移到单独的函数中，并在 和 中调用该`onCreate()`函数`onResume()`。

例如

```
public void getSharedPrefernces() {
  m_DataPLC = getSharedPreferences("CFTPreferences",CONTEXT_IGNORE_SECURITY);
  m_NewIpAddress = m_DataPLC.getString("newIpAddress", m_NewIpAddress);
} 
```

希望这可以帮助..！！干杯...

# java - 使用按钮从其他 JPanel 新到 Java 切换 JPanel 与卡片布局

> ID：12669708
> 
> 赞同：1
> 
> 时间：2012-10-01T08:22:11.427
> 
> 标签：java, jpanel, actionlistener, cardlayout

是否可以使用放置在顶部面板上的 3 个不同按钮来切换底部面板上的 3 个不同面板？还有 3 个不同的面板来自其他类？对不起，对于新手问题，我只是使用这种布局的新手，我无法让我的程序工作。我不完全知道 actionlistener 是如何工作的。请给我一个例子来解决这个问题。

# c# - 如何确定哪个 dropdownlistfor 在 mvc3 中导致回发？

> ID：12669710
> 
> 赞同：0
> 
> 时间：2012-10-01T08:22:23.637
> 
> 标签：c#, asp.net-mvc-3

我在视图中有 2 个 dropdownlistfor .. 它们中的每一个都可能导致回发我想在导致回发时获得一个的名称

```
 <tr>
                <td>
                    <label>
                        Owner</label>
                </td>
                <td>
                    @Html.DropDownListFor(m => m.OwnerId, new System.Web.Mvc.SelectList(Model.CallForPaperJournalOwnersList, "OwnerId", "Owner"), new { onchange = "submit();" })
                </td>
            </tr>
            <tr>
                <td>
                    <label>
                        Journal Code:</label>
                </td>
                <td>
                    @Html.DropDownListFor(m => m.JournalCode, new System.Web.Mvc.SelectList(Model.JournalsWithCallForPaperHtmlList, "JournalCode", "JournalCode"), new { onchange = "submit();" })

                </td>
            </tr> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T09:30:52.320

在我的项目中，我正在这样做

我用这样的国家 ID 填充我的状态下拉列表

这是我的下拉列表

```
@Html.DropDownListFor(model => model.CountryId, new SelectList(Model.Countries, "ID", "Name"), "select", new { @ID = "ddlCountry", @class = "text", Style = "width: 150px;", onchange = "javascript:cascadingdropdown();" }) 
```

我创建了一个像这样的javascript函数，它在下面

```
<script type="text/javascript">
    function cascadingdropdown() {            
        var countryID = $('#countryID').val();
        $.ajax({
            url: "/City/State",
            dataType: 'json',
            data: { countryId: countryID },
            success: function (data) {
                $("#stateID").empty();
                $("#stateID").append("<option value='0'>--Select State--</option>");
                $.each(data, function (index, optiondata) {
                    alert(optiondata.StateName);
                    $("#stateID").append("<option value='" + optiondata.ID + "'>" + optiondata.StateName + "</option>");
                });
            },
            error: function () {
                alert('Faild To Retrieve states.');
            }

        });
    } 
```

我想这会帮助你...

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T08:30:05.717

在这种情况下......我会使用一个 id ：

```
 <tr>
                <td>
                    <label>
                        Owner</label>
                </td>
                <td>
                    @Html.DropDownListFor(m => m.OwnerId, new System.Web.Mvc.SelectList(Model.CallForPaperJournalOwnersList, "OwnerId", "Owner"), new { id = "btnsave2" })
                </td>
            </tr>
            <tr>
                <td>
                    <label>
                        Journal Code:</label>
                </td>
                <td>
                    @Html.DropDownListFor(m => m.JournalCode, new System.Web.Mvc.SelectList(Model.JournalsWithCallForPaperHtmlList, "JournalCode", "JournalCode"), new { id= "btnchange2" })

                </td>
            </tr> 
```

并调用 id

```
 $('#btnsave1').click(function (event) {
//do stuff here 
} 
```

如果您想对多个 DDL 进行操作，请不要使用 onclick .. 使用：

```
@Html.DropDownListFor(m => m.OwnerId, new System.Web.Mvc.SelectList(Model.CallForPaperJournalOwnersList, "OwnerId", "Owner"), new { @class = "myclass" }) 
```

在 jquery 中就可以了：

```
 $('.myclass').click(function (event) {
//do stuff here 
} 
```

# c# - 如何在字节 [] 数组中转换/转换表单对象

> ID：12669712
> 
> 赞同：1
> 
> 时间：2012-10-01T08:22:28.797
> 
> 标签：c#, serialization, casting, bytearray

我有一个可能很简单的问题，但目前我无法解决它。我有一个`Object`，我需要将其转换为`byte[]`.

```
public byte[] GetMapiPropertyBytes(string propIdentifier)
{
    return (byte[])this.GetMapiProperty(propIdentifier); //InvalidCastException 
} 
```

例外：

> 无法将类型为“System.__ComObject”的 COM 对象转换为类类型“System.Byte[]”。表示 COM 组件的类型的实例不能转换为不表示 COM 组件的类型；但是，只要底层 COM 组件支持对接口的 IID 的 QueryInterface 调用，它们就可以转换为接口。

到目前为止一切顺利 - 我试图序列化它，但我遇到了另一个异常 - 不可序列化

有人可以帮助我吗？我需要一种方法来转换它...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T09:26:26.113

我猜你正在尝试序列化这个对象并在客户端反序列化它。

如果此对象不可序列化，是否可以像 Web 服务一样序列化参数并在客户端重新创建它。

问题是重新创建的对象与以前不同，但它们的值相同。

# blackberry - HTML 邮件程序的媒体查询

> ID：12669713
> 
> 赞同：0
> 
> 时间：2012-10-01T08:22:32.790
> 
> 标签：blackberry, media-queries, html-email

我设计了一个使用媒体查询的响应式 html 邮件程序。

媒体查询在 Iphone 上工作得很好——但是，他们似乎在黑莓上工作？

我使用的媒体查询是：

```
@media screen and (max-width: 551px) 
```

有没有人成功设计了一个在黑莓上正确呈现的响应式 HTML 邮件程序？

期待回复。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-01T12:59:06.530

黑莓不支持它们。对不起。

[http://www.emailonacid.com/blog/details/C13/media_queries_in_html_emails](http://www.emailonacid.com/blog/details/C13/media_queries_in_html_emails)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-01T18:48:46.870

我最近发现黑莓会接受媒体查询，但仅限于桌面大小。

我使用了以下代码，但只是为了防止字体破坏黑莓上的桌面布局 -

```
@media (max-width: 800px) {* td { -webkit-text-size-adjust:none !important; }} 
```

BBOS6 显示文本太小存在潜在问题。

请参阅：[强制在 Blackberry 中使用正确的字体大小以在 HTML 电子邮件中呈现？](https://stackoverflow.com/questions/12372898/force-the-correct-font-size-in-blackberry-for-rendering-in-an-html-email)

# android - 检测列表视图是否超出范围并在其中传递新项目

> ID：12669721
> 
> 赞同：0
> 
> 时间：2012-10-01T08:22:55.593
> 
> 标签：android, listview, adapter, gesture, swipe-gesture

有人可以建议我如何检测列表视图是否超出范围？我在列表视图中只有一项。而且我需要检测用户何时向上或向下滑动它并且列表视图相应地向上或向下并在其上方或下方显示空白空间。在这一刻，我应该更新我的列表视图的适配器并在那里传递新项目。

我尝试使用 GestureListener 来实现它，如下所示：

```
 class MyGestureListener extends SimpleOnGestureListener implements OnTouchListener
        {

        public boolean onDown(MotionEvent arg0) {
            InteractionsAdapter adapter = new InteractionsAdapter(InteractionsActivityAlt.this,
                    R.layout.interactions_item, DashboardActivityAlt.messagesExport,DashboardActivityAlt.messagesExport.size()-2);
            adapter.notifyDataSetChanged();
            Log.i("asd","sdas");
            return true;
        }
        public boolean onFling(MotionEvent e1, MotionEvent e2, float velocityX,
                float velocityY) {
            if(Math.abs(e1.getY()-e2.getY()) > 250) 
                return false;               
            if(e1.getX() - e2.getX() > 120// && Math.abs(velocityX) > 200
                    ){

              //mSwipeDetected = Action.RL;
              Log.d("one", "Coords: x=" + e1.getX() + ",y=" + e2.getY());
                //do something...
             return true;
            }
            else if(e2.getX() - e1.getX() > 120// && Math.abs(velocityX) > 200
                    ){

            // mSwipeDetected = Action.LR;
               Log.d("two", "Coords: x=" + e1.getX() + ",y=" + e2.getY());
                //do something...
             return true;
            }
            return false;
        }
        public void onLongPress(MotionEvent arg0) {
             AlertDialog.Builder builder = new AlertDialog.Builder(InteractionsActivityAlt.this);
            builder.setMessage("Are you sure to choose timezone  "+"  ?")
           .setCancelable(false)
           .setPositiveButton("Yes", new DialogInterface.OnClickListener() {
               public void onClick(DialogInterface dialog, int id) {

               }
           })
           .setNegativeButton("No", new DialogInterface.OnClickListener() {
               public void onClick(DialogInterface dialog, int id) {

                    dialog.cancel();
               }
           });
        AlertDialog alert = builder.create();
        alert.show();

        }
        public boolean onScroll(MotionEvent e1, MotionEvent e2, float arg2,
                float arg3) {

            float pos = e2.getY() - e1.getY();
            if (pos < -170 & pos > -200)
            {

                mSwipeDetected = Action.BT;

                try {

                    Log.i("gesturelistener", "Move down");
                } 

            catch (Exception e) {
                    // TODO Auto-generated catch block
                    e.printStackTrace();
                }

            }
            if (pos > 170 & pos < 200)
            {

                mSwipeDetected = Action.BT;

                try {

                    Log.i("gesturelistener", "Move up");
                } 

            catch (Exception e) {
                    // TODO Auto-generated catch block
                    e.printStackTrace();
                }

            }

            return true;
        }
        public void onShowPress(MotionEvent arg0) {
            // TODO Auto-generated method stub

        }
        public boolean onSingleTapUp(MotionEvent arg0) {
            // TODO Auto-generated method stub
            return false;
        }

         public boolean onTouchEvent(MotionEvent me)
         {

         return gestureScanner.onTouchEvent(me);
         }
        public boolean onTouch(View arg0, MotionEvent arg1) {
            if (arg1.getAction()==MotionEvent.ACTION_UP)
                arg0.setBackgroundColor(Color.WHITE);
            return false;
        } 
        } 
```

它检测向上或向下滑动动作，但不是当列表视图超出范围并显示空白空间时。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T13:47:53.343

我用这个方法解决了我的问题：

```
@Override
public boolean onSingleTapUp(MotionEvent e) {
   return true;
} 
```

# android - ScrollView 中的 ViewPager - 垂直滚动不起作用

> ID：12669725
> 
> 赞同：16
> 
> 时间：2012-10-01T08:23:08.273
> 
> 标签：android, android-fragments, android-viewpager, android-scrollview

所以，我有`ScrollView`一个孩子 - a`LinearLayout`有两个孩子： a`TextView`和 a `ViewPager`。`ViewPager`包含许多元素的布局，这就是为什么我需要垂直滚动的能力。只有页面`ViewPager`可以水平滚动（即：我想只在 中水平滑动`ViewPager`）。那一个`TextView`不能水平滚动，但应该与我的`ViewPager`.

简单的？不。

我在 StackOverflow 上看到了极其相似的问题（[此处](https://stackoverflow.com/questions/8381697/viewpager-inside-a-scrollview-does-not-scroll-correclty)、[此处](https://stackoverflow.com/questions/2646028/android-horizontalscrollview-within-scrollview-touch-handling)、[此处](https://stackoverflow.com/questions/10865508/viewpager-in-scrollview-wont-scroll-vertically)和[此处](https://stackoverflow.com/questions/7381360/is-it-possible-to-have-a-viewpager-inside-of-a-scrollview)）。建议的解决方案都不适合我:(

我看到的是[这个](http://postimage.org/image/uy98ro5nl/)<-我可爱的用户界面:)，但是我不能垂直滚动:(

在 ViewPager 中嵌入 ScrollViews 不是一种选择 - UI 的设计禁止这样做。

也许这与我以编程方式填充视图寻呼机中的每个页面有关？嗯……

任何建议，将不胜感激。

我的代码：

活动主.xml：

```
<ScrollView xmlns:android="http://schemas.android.com/apk/res/android"

                android:id="@+id/scrollView"
                android:layout_width="fill_parent"
                android:layout_height="fill_parent"
                android:background="@android:color/white"
                android:fillViewport="true" >

                <LinearLayout
                    android:id="@+id/linearLayoutGeneral"
                    android:layout_width="fill_parent"
                    android:layout_height="wrap_content"
                    android:orientation="vertical">

                    <TextView
                    android:id="@+id/tvText"
                    android:layout_width="fill_parent"
                    android:layout_height="200dp"
                    android:text="Test text" />

                <android.support.v4.view.ViewPager
                            android:id="@+android:id/viewpager"
                            android:layout_width="fill_parent"
                            android:layout_height="fill_parent" >
                </android.support.v4.view.ViewPager>

                </LinearLayout>
</ScrollView> 
```

ViewPager 中的每个页面都有这样的布局：

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:orientation="vertical" >

    <LinearLayout
        android:id="@+id/layoutData"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:orientation="vertical" >
    </LinearLayout>

</LinearLayout> 
```

在这样的页面中单个元素的布局：

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="40dp"
    android:gravity="center"
    android:orientation="vertical"
    android:background="@android:color/white" >

    <TextView
        android:id="@+id/textView"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:text="Large Text"
        android:background="@android:color/black"
        android:textColor="@android:color/white"
        android:textAppearance="?android:attr/textAppearanceLarge" />

</LinearLayout> 
```

单页Fragment也很简单：

```
public class DayFragment extends Fragment {

    private static final String TAG = DayFragment.class.getSimpleName();

    public String tag;

    LinearLayout data;

    View mView;

    final int ROWS_NUM = 60;

    public DayFragment() {

    }

    /**
     * (non-Javadoc)
     * 
     * @see android.support.v4.app.Fragment#onCreateView(android.view.LayoutInflater,
     *      android.view.ViewGroup, android.os.Bundle)
     */
    public View onCreateView(LayoutInflater inflater, ViewGroup container,
            Bundle savedInstanceState) {

        if (container == null) {
            // We have different layouts, and in one of them this
            // fragment's containing frame doesn't exist. The fragment
            // may still be created from its saved state, but there is
            // no reason to try to create its view hierarchy because it
            // won't be displayed. Note this is not needed -- we could
            // just run the code below, where we would create and return
            // the view hierarchy; it would just never be used.
            return null;
        }

        mView = (LinearLayout) inflater.inflate(R.layout.day, container, false);

        setUpControls();

        generateData();

        String text = getArguments().getString("text");
        Log.d(TAG, "creating view with text: " + text);

        return mView;
    }

    private void setUpControls() {
        data = (LinearLayout) mView.findViewById(R.id.layoutData);
    }

    private void generateData() {
        for (int i = 0; i < ROWS_NUM; i++) {
            View v = createRow(i);
            data.addView(v);
        }
    }

    private View createRow(int num) {
        LayoutInflater inflater = (LayoutInflater) getActivity()
                .getSystemService(Context.LAYOUT_INFLATER_SERVICE);
        View v = inflater.inflate(R.layout.row, null);

        TextView tv = (TextView) v.findViewById(R.id.textView);
        tv.setText("Data nr: " + num);

        return v;
    }

    public static DayFragment newInstance(String text) {
        Log.d(TAG, "newInstance with text: " + text);
        DayFragment f = new DayFragment();

        f.tag = text;

        // Supply text input as an argument.
        Bundle args = new Bundle();
        args.putString("text", text);
        f.setArguments(args);

        return f;
    }

} 
```

* * *

## 回答 #1

> 赞同：29
> 
> 时间：2012-11-27T20:19:46.853

我遇到了`ViewPager`表现得很奇怪的问题，我发现了原因，这是因为有时`ScrollView`重新获得焦点`ViewPager`然后失去焦点。如果您有 a `ViewPager`in a`ScrollView`并且您希望它在您触摸它时始终保持焦点并且`ScrollView`永远不会获得焦点，那么设置 a`requestDisallowInterceptTouchEvent`就可以了。那有帮助吗？

```
 mViewPager= (ViewPager) findViewById(R.id.pager);
    mViewPager.setAdapter(adapter);
    mViewPager.setOnTouchListener(new View.OnTouchListener() {

        @Override
        public boolean onTouch(View v, MotionEvent event) {
            mViewPager.getParent().requestDisallowInterceptTouchEvent(true);
            return false;
        }
    }); 
```

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2013-08-21T17:45:34.077

扩展到 Marius 的答案以允许在父级上垂直滚动：

我注意到，当您在初始滚动时调用“requestDisallowInterceptTouchEvent”方法时，当在视图寻呼机顶部垂直滚动时，它将阻止父视图上的垂直滚动。

我的解决方案是仅在用户开始水平滚动指定距离（“边距”变量）后才触发该方法。

```
mViewPager.setOnTouchListener(new View.OnTouchListener() {
    public boolean onTouch(View v, MotionEvent e) {
        // How far the user has to scroll before it locks the parent vertical scrolling.
        final int margin = 10;
        final int fragmentOffset = v.getScrollX() % v.getWidth();

        if (fragmentOffset > margin && fragmentOffset < v.getWidth() - margin) {
            mViewPager.getParent().requestDisallowInterceptTouchEvent(true);
        }
        return false;
    }
}); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-10-14T06:13:51.820

```
mPager.setOnTouchListener(new View.OnTouchListener() {

    int dragthreshold = 30;
    int downX;
    int downY;

    @Override
    public boolean onTouch(View v, MotionEvent event) {

        switch (event.getAction()) {
        case MotionEvent.ACTION_DOWN:
            downX = (int) event.getRawX();
            downY = (int) event.getRawY();
            break;
        case MotionEvent.ACTION_MOVE:
            int distanceX = Math.abs((int) event.getRawX() - downX);
            int distanceY = Math.abs((int) event.getRawY() - downY);

            if (distanceY > distanceX && distanceY > dragthreshold) {
                mPager.getParent().requestDisallowInterceptTouchEvent(false);
                mScrollView.getParent().requestDisallowInterceptTouchEvent(true);
            } else if (distanceX > distanceY && distanceX > dragthreshold) {
                mPager.getParent().requestDisallowInterceptTouchEvent(true);
                mScrollView.getParent().requestDisallowInterceptTouchEvent(false);
            }
            break;
        case MotionEvent.ACTION_UP:
            mScrollView.getParent().requestDisallowInterceptTouchEvent(false);
            mPager.getParent().requestDisallowInterceptTouchEvent(false);
            break;
        }
        return false;
    }
}); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2015-08-17T13:02:44.870

我有同样的问题尝试我的代码，你我们应该禁用**垂直滚动**并将**事件**发送到 Scrollview ：

```
private int dragThreshold = 10, int downX = 0, int downY = 0;

vPager.setOnTouchListener(new View.OnTouchListener() {
        @Override
        public boolean onTouch(View v, MotionEvent event) {
            if(event.getAction() == MotionEvent.ACTION_DOWN || event.getAction() == MotionEvent.ACTION_UP){
                downX = (int) event.getRawX();
                downY = (int) event.getRawY();
                return false;
            }else if(event.getAction() == MotionEvent.ACTION_MOVE){
                int distanceX = Math.abs((int) event.getRawX() - downX);
                int distanceY = Math.abs((int) event.getRawY() - downY);

                ExceptionHelpers.dLog("OnTouchListener", "distance X : "+distanceX+" , distance Y : "+distanceY);

                if(distanceY > distanceX && distanceY > dragThreshold){
                    v.getParent().requestDisallowInterceptTouchEvent(false);
                    return true;
                }
            }
            v.getParent().requestDisallowInterceptTouchEvent(true);
            return false;
        }
    }); 
```

你也可以设置 Min Horizo​​ntal Scroll By Add ：

```
else {
      distanceX > distanceY && distanceX > dragThreshold)
} 
```

请记住，建筑工人会 -> 尝试并尝试

开发人员（我们）做 -> Think And Think and Try

好锁

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2016-03-31T12:59:02.140

尝试这个

```
 public  static class XScrollDetector extends GestureDetector.SimpleOnGestureListener {
        @Override
        public boolean onScroll(MotionEvent e1, MotionEvent e2, float distanceX, float distanceY) {
        return Math.abs(distanceY) < Math.abs(distanceX);
       }
   } 
```

对于浏览器

```
 final GestureDetector mGestureDetector= new GestureDetector(this,new XScrollDetector());
    mViewPager.setOnTouchListener(new View.OnTouchListener() {
        @Override
        public boolean onTouch(View v, MotionEvent event) {

            mScrollView.requestDisallowInterceptTouchEvent(mGestureDetector.onTouchEvent(event));
            return false;

        }
    }); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2019-02-28T08:57:21.813

我尝试了很多东西，但有些东西对我不起作用，有些东西太复杂并且代码很脏。

我`ViewPager in ScrollView`以这种方式解决了这个问题。
您可以更新 viewPager 大小`ViewPager.onMeasure()`或`ViewPager.OnPageChangeListener()`

`onMeasure()`每次ui在fragment中发生变化时都会调用该方法。但是我有很多不同的用户界面（例如 TabButton），我只在用户滚动页面时更新了视图寻呼机的大小。

```
 mPager.addOnPageChangeListener(new ViewPager.OnPageChangeListener() {
        @Override
        public void onPageScrolled(int position, float positionOffset, int positionOffsetPixels) {
            // will work when ViewPager shows first fragment.
            if (position != currentPosition) {
                currentPosition = position;
                updateViewPagerSize(position);
            }
        }

        @Override
        public void onPageSelected(int position) {

        }

        @Override
        public void onPageScrollStateChanged(int state) {

        }
    }); 
```

根据情况，您可能需要重点关注才能使 ScrollView 正常工作。

```
public void updateViewPagerSize(int position) {
    View view = mPager.getChildAt(position);
    view.measure(ViewPager.LayoutParams.WRAP_CONTENT, ViewPager.LayoutParams.WRAP_CONTENT);
    LinearLayout.LayoutParams params = new LinearLayout.LayoutParams(LinearLayout.LayoutParams.MATCH_PARENT, view.getMeasuredHeight());
    mPager.setLayoutParams(params);
    edtText.requestFocus(); //you might have to give a focus something to use scroll.
} 
```

* * *

## 回答 #7

> 赞同：-1
> 
> 时间：2012-10-01T08:36:00.197

一个 Activity 中的水平和垂直滚动通常是一个问题。ViewPager 处理得很好。不知道你的问题有没有好的解决方案。但我建议摆脱主布局中的 ScrollView 和 TextView 。

使用 ViewPager 作为布局的起点，并将垂直 ScrollView 放在 ViewPager Fragments 内。

* * *

## 回答 #8

> 赞同：-1
> 
> 时间：2013-03-19T23:37:42.860

不允许 ScrollView 拦截触摸事件。这需要用户触摸 ViewPager 外部以向上或向下滚动。

```
mScrollView = (ScrollView) findViewById(R.id.scroll_view); 
mViewPager= (ViewPager) findViewById(R.id.pager);
mViewPager.setAdapter(adapter);
mViewPager.setOnTouchListener(new View.OnTouchListener() {

    @Override
    public boolean onTouch(View v, MotionEvent event) {
        mScrollView.requestDisallowInterceptTouchEvent(true);
        return false;
    }
}); 
```

# php - 检查表中是否存在值不起作用

> ID：12669726
> 
> 赞同：-2
> 
> 时间：2012-10-01T08:23:15.243
> 
> 标签：php, mysql, sql, exists

我正在尝试编写一个脚本来将 XML 文件中的值插入 SQL 数据库。

但是，我无法让脚本正确检查 SQL 数据库中是否已存在值。

这是我当前的代码：

```
$result=mysql_query("SELECT * FROM `categories_description` WHERE categories_name`='$qCategory'");
if (mysql_num_rows($result) > 0){
    echo "cat exists";
}
else if($qCategory != ""){
mysql_query("INSERT INTO `categories` (`categories_id`, `categories_image`, `parent_id`, `sort_order`, `date_added`, `last_modified`, `categories_status`) VALUES ('$catid', NULL, '0', NULL, NULL, NULL, '1');");
mysql_query("INSERT INTO `categories_description` (`categories_id`, `language_id`, `categories_name`, `categories_description`) VALUES ('$catid', '1', '$qCategory', '$qCategory');");
$catid +=1;
} 
```

我已经尝试了很多事情来让它工作，但它就是不想这样做。我遇到的问题是，如果我有重复的值，它无论如何都会插入它。有谁知道如何解决这一问题？还是出了什么问题？提前谢谢了。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T08:26:57.833

尝试先修复此行，您错过了 category_name 开头的`：

```
"SELECT * FROM `categories_description` WHERE categories_name`='$qCategory'" 
```

# axapta - DataAreaId 字段如何与 Dynamics AX 2012 中的 FiscalCalendarPeriod 表相关？

> ID：12669727
> 
> 赞同：1
> 
> 时间：2012-10-01T08:23:21.297
> 
> 标签：axapta, dynamics-ax-2012

我尝试了很多方法，但似乎没有一种方法能让我了解 FiscalCalenderPeriod 表和 Dynamics AX 2012 中的 DataAreaId 属性之间的具体关系。

DataAreaID 是 Dymanics AX 2009 中 LedgerPeriod 的一部分，但现在该表已贬值，因此数据已标准化。

如何将 FiscalCalenderPeriod 与公司数据（即 dataareaid）映射？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-01T23:37:43.110

A`DataAreaId`标识法人实体（`CompanyInfo`表中的记录）。每个法人实体都有一个分类帐（`Ledger`表中的记录，其中`PrimaryForLegalEntity`字段是`RecId`记录的`CompanyInfo`）。分类帐按字段与`FiscalCalendar`记录相关联。记录也属于特定的基于字段。`FiscalCalendar``FiscalCalendarPeriod``FiscalCalendar``FiscalCalendar`

有一个帮助类`FiscalCalendars`，它有许多处理会计日历的方法。例如，这是获取公司“CEU”当前期间结束日期的一种方法：

```
RecId fiscalCalendarRecId=Ledger::fiscalCalendar(CompanyInfo::find('CEU').RecId);
date currentDate=SystemDateGet();
date endDate=FiscalCalendars::findPeriodEndDateByDate(fiscalCalendarRecId,currentDate);
info(date2StrUsr(endDate)); 
```

# ruby-on-rails - Rails 3.0 中的 Ckeditor

> ID：12669728
> 
> 赞同：0
> 
> 时间：2012-10-01T08:23:25.047
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3, ckeditor

我正在尝试将 Ckeditor ( [https://github.com/galetahub/ckeditor](https://github.com/galetahub/ckeditor) ) 集成到我的 Rails 3.0 应用程序中。文档声明为 Rails 3.0 及更低版本使用gem 的**3.6.3**版本。我成功安装了 gem 并运行了生成器：

```
rails generate ckeditor:install 
```

我收到以下错误：

```
fetching rails.js  
/home/alexs/.rvm/rubies/ruby-1.9.2-p180/lib/ruby/1.9.1/net/http.rb:678:in `connect': SSL_connect returned=1 errno=0 state=SSLv3 read server certificate B: certificate verify failed (OpenSSL::SSL::SSLError)
    from /home/alexs/.rvm/rubies/ruby-1.9.2-p180/lib/ruby/1.9.1/net/http.rb:678:in `block in connect'
    from /home/alexs/.rvm/rubies/ruby-1.9.2-p180/lib/ruby/1.9.1/timeout.rb:44:in `timeout'
    from /home/alexs/.rvm/rubies/ruby-1.9.2-p180/lib/ruby/1.9.1/timeout.rb:87:in `timeout'
    from /home/alexs/.rvm/rubies/ruby-1.9.2-p180/lib/ruby/1.9.1/net/http.rb:678:in `connect'
    from /home/alexs/.rvm/rubies/ruby-1.9.2-p180/lib/ruby/1.9.1/net/http.rb:637:in `do_start'
    from /home/alexs/.rvm/rubies/ruby-1.9.2-p180/lib/ruby/1.9.1/net/http.rb:626:in `start'
    from /home/alexs/.rvm/rubies/ruby-1.9.2-p180/lib/ruby/1.9.1/open-uri.rb:306:in `open_http'
    from /home/alexs/.rvm/rubies/ruby-1.9.2-p180/lib/ruby/1.9.1/open-uri.rb:769:in `buffer_o 
```

这个问题有什么变通方法/解决方案吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T08:49:07.420

找到以下解决方法

在 Ruby 安装中找到**open-uri.rb 。**

临时更改

```
http.verify_mode = options[:ssl_verify_mode] || OpenSSL::SSL::VERIFY_PEER 
```

至

```
http.verify_mode = OpenSSL::SSL::VERIFY_NONE 
```

运行生成器，然后将其更改回来。

# linux - GNU 汇编语言

> ID：12669732
> 
> 赞同：1
> 
> 时间：2012-10-01T08:23:42.827
> 
> 标签：linux, gnu-assembler

我正在尝试组装作业，但似乎 cmp 部分无法正常工作，即使我的输入为 6，它也不会跳到终止，有人可以帮忙吗？

```
menu:
    call display_menu
    movl  $3, %eax
    movl  $0, %ebx
    movl  $choice, %ecx
    movl  $2, %edx
    int   $0x80

##JE not working 
    cmp $6,(choice)
    je _terminate
    jmp menu

_terminate:
   movl  $1, %eax
   movl  $0, %ebx
   int   $0x80 
```

# xslt - 我们如何从 xslt 调用存储过程

> ID：12669735
> 
> 赞同：0
> 
> 时间：2012-10-01T08:23:50.893
> 
> 标签：xslt

我需要从 xslt 调用一个存储过程。有没有人更早实施过这个。如果是这样，请分享它。提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T12:07:21.400

也许**[撒克逊 SQL 扩展](http://www.saxonica.com/documentation/sql-extension/intro.xml)**可以提供帮助？

特别是**[`<sql:execute>`](http://www.saxonica.com/documentation/sql-extension/execute.xml)**？

# actionscript-3 - 为什么 Milkman 的 StoreKit AS3 API 在第二次调用 create() 时似乎崩溃了？

> ID：12669738
> 
> 赞同：1
> 
> 时间：2012-10-01T08:24:03.450
> 
> 标签：actionscript-3, air

我最近开始使用 Milkman StoreKit 原生扩展在 IOS 上进行应用内购买。我最初发现它很棒，并且似乎可以很快地启动并运行它，但是我无法解决一个问题。

如果我再次尝试调用 StoreKit.create() ，它似乎会崩溃。第一次完美……我从 iTunes 商店获得产品信息，购买完成，我的应用程序按预期更新。任何第二次创建 Storekit 的尝试都会卡在 Storekite.create() 代码行。我什至制作了一个新应用程序只是为了测试它（以消除我许多人犯的任何错误），然后再次，第一个 create() 没问题，第二个崩溃。下面是我在我制作的测试应用程序上的代码（就在时间线上）。

```
import com.milkmangames.nativeextensions.ios.*;
import com.milkmangames.nativeextensions.ios.events.*;
import flash.events.MouseEvent;

function openStoreKit(e:MouseEvent):void {

var t:TraceOnStage = new TraceOnStage(stage,"startProcess" + StoreKit);

if (! StoreKit.isSupported()) {

    var t:TraceOnStage = new TraceOnStage(stage,"not supported" + StoreKit);

    return;
}

var t:TraceOnStage = new TraceOnStage(stage,"initialising" + StoreKit);

StoreKit.create();

var t:TraceOnStage = new TraceOnStage(stage,"initialised!");

}

stage.addEventListener(MouseEvent.MOUSE_UP, openStoreKit); 
```

首先调用 openStoreKit() 没问题。我在跟踪中得到“initialising [StoreKit]”，然后是“initialized”。第二次调用只是“初始化[StoreKit]”并崩溃。

我已经尝试了我能想到的一切。我最近更新到 AIR 3.4 SDK，可能与此有关吗？（我使用的是 Flash Pro CS6）

# android - android使用洪水填充算法得到内存异常

> ID：12669740
> 
> 赞同：0
> 
> 时间：2012-10-01T08:24:09.143
> 
> 标签：android, flood-fill

根据您的建议，我得到了工作代码：

```
public class FingerPaint extends Activity {

private RelativeLayout drawingLayout;
private MyView myView;
@Override
protected void onCreate(Bundle savedInstanceState) {

    super.onCreate(savedInstanceState);
    myView = new MyView(this);
    setContentView(myView);
    drawingLayout.addView(myView);
}

public class MyView extends View {

    private Paint paint;
    private Path path;
    Bitmap mBitmap;
    ProgressDialog pd;
    final Point p1 = new Point();
    Canvas canvas;
    //Bitmap mutableBitmap ;
    public MyView(Context context) {
        super(context);

        this.paint = new Paint();
        this.paint.setAntiAlias(true);
        pd = new ProgressDialog(context);
        this.paint.setStyle(Paint.Style.STROKE);
        paint.setStrokeJoin(Paint.Join.ROUND);
        paint.setStrokeWidth(5f);
        mBitmap = BitmapFactory.decodeResource(getResources(),
                R.drawable.paint).copy(Bitmap.Config.ARGB_8888, true);

        this.path = new Path();
    }

    @Override
    protected void onDraw(Canvas canvas) {
        this.canvas = canvas;
        this.paint.setColor(Color.GREEN);
        canvas.drawBitmap(mBitmap, 0, 0, paint);

    }

    @Override
    public boolean onTouchEvent(MotionEvent event) {

        float x = event.getX();
        float y = event.getY();
        switch (event.getAction()) {
        case MotionEvent.ACTION_DOWN:

            p1.x = (int) x;
            p1.y = (int) y;
            final int sourceColor = mBitmap.getPixel((int) x, (int) y);
            final int targetColor = paint.getColor();
            new TheTask(mBitmap, p1, sourceColor, targetColor).execute();
            invalidate();
        }
        return true;
    }

    public void clear() {
        path.reset();
        invalidate();
    }

    public int getCurrentPaintColor() {
        return paint.getColor();
    }

    class TheTask extends AsyncTask<Void, Integer, Void> {

        Bitmap bmp;
        Point pt;
        int replacementColor, targetColor;

        public TheTask(Bitmap bm, Point p, int sc, int tc) {
            this.bmp = bm;
            this.pt = p;
            this.replacementColor = tc;
            this.targetColor = sc;
            pd.setMessage("Filling....");
            pd.show();
        }

        @Override
        protected void onPreExecute() {
            pd.show();

        }

        @Override
        protected void onProgressUpdate(Integer... values) {

        }

        @Override
        protected Void doInBackground(Void... params) {
            FloodFill f = new FloodFill();
            f.floodFill(bmp, pt, targetColor, replacementColor);
            return null;
        }

        @Override
        protected void onPostExecute(Void result) {
            pd.dismiss();
            invalidate();
        }
    }
}

// flood fill

public class FloodFill {
    public void floodFill(Bitmap image, Point node, int targetColor,
            int replacementColor) {
        int width = image.getWidth();
        int height = image.getHeight();
        int target = targetColor;
        int replacement = replacementColor;
        if (target != replacement) {
            Queue<Point> queue = new LinkedList<Point>();
            do {

                int x = node.x;
                int y = node.y;
                while (x > 0 && image.getPixel(x - 1, y) == target) {
                    x--;

                }
                boolean spanUp = false;
                boolean spanDown = false;
                while (x < width && image.getPixel(x, y) == target) {
                    image.setPixel(x, y, replacement);
                    if (!spanUp && y > 0
                            && image.getPixel(x, y - 1) == target) {
                        queue.add(new Point(x, y - 1));
                        spanUp = true;
                    } else if (spanUp && y > 0
                            && image.getPixel(x, y - 1) != target) {
                        spanUp = false;
                    }
                    if (!spanDown && y < height - 1
                            && image.getPixel(x, y + 1) == target) {
                        queue.add(new Point(x, y + 1));
                        spanDown = true;
                    } else if (spanDown && y < height - 1
                            && image.getPixel(x, y + 1) != target) {
                        spanDown = false;
                    }
                    x++;
                }
            } while ((node = queue.poll()) != null);
        }
    }
}
} 
```

现在它工作正常。ThanQ

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-10T12:11:05.207

使用异步任务。在 Main Ui 线程上运行每个操作可能会导致内存不足异常。我的建议，使用线程。在后台做 Floodfill。检查此链接。可以帮助你。 [填充整个画布，但保留绑定的填充区域，就像圆形、矩形一样](https://stackoverflow.com/questions/8723590/fill-the-complete-canvas-but-keep-the-bound-fill-area-as-it-is-like-circle-rect/12777805#12777805)

```
 private Paint paint;
private Path path;
Bitmap mBitmap;
ProgressDialog pd;
 final Point p1 = new Point();
Canvas canvas;
private static final float TOUCH_TOLERANCE = 4;
float mX,mY;

public DrawingView(Context context ) {
    super(context);

    this.paint = new Paint();
    this.paint.setAntiAlias(true);
    pd= new ProgressDialog(context);
    this.paint.setStyle(Paint.Style.STROKE);
    paint.setStrokeJoin(Paint.Join.ROUND);
    paint.setStrokeWidth(5f);
    mBitmap= BitmapFactory.decodeResource(getResources(), R.drawable.rose_sketch);
    this.path = new Path();
}

@Override
protected void onDraw(Canvas canvas) {
    this.canvas=canvas;
    this.paint.setColor(Color.GREEN);
    canvas.drawBitmap(mBitmap, 0, 0,paint);

}

@Override
public boolean onTouchEvent(MotionEvent event) {

    float x = event.getX();
    float y = event.getY();
    switch(event.getAction())
    {
    case MotionEvent.ACTION_DOWN:
    //final Point p1 = new Point();
    p1.x=(int) x;
    p1.y=(int) y;
    final int sourceColor=  mBitmap.getPixel((int)x,(int) y);
    final int targetColor = paint.getColor();
    new TheTask(mBitmap, p1, sourceColor, targetColor).execute();
    invalidate();    
    }
    return true;
}

public void clear() {
    path.reset();
    invalidate();
}
public int getCurrentPaintColor() {
    return paint.getColor();
}
class TheTask extends AsyncTask<Void, Integer, Void> {

    Bitmap bmp;
    Point pt;
    int replacementColor,targetColor;

    public TheTask(Bitmap bm,Point p, int sc, int tc)
    {
        this.bmp=bm;
        this.pt=p;
        this.replacementColor=tc;
        this.targetColor=sc;
        pd.setMessage("Filling....");
        pd.show();
    }
    @Override
    protected void onPreExecute() {
        pd.show();

    }

    @Override
    protected void onProgressUpdate(Integer... values) {

    }

    @Override
    protected Void doInBackground(Void... params) {
        FloodFill f= new FloodFill();
        f.floodFill(bmp,pt,targetColor,replacementColor);
        return null;
    }

    @Override
    protected void onPostExecute(Void result) {     
        pd.dismiss();
        invalidate();
    }
}
} 
```

立即使用注水。

```
 public class FloodFill {
public void floodFill(Bitmap image, Point node, int targetColor,
        int replacementColor) {
    int width = image.getWidth();
    int height = image.getHeight();
    int target = targetColor;
    int replacement = replacementColor;
    if (target != replacement) {
        Queue<Point> queue = new LinkedList<Point>();
        do {
            int x = node.x;
            int y = node.y;
            while (x > 0 && image.getPixel(x - 1, y) == target) {
                x--;
            }
            boolean spanUp = false;
            boolean spanDown = false;
            while (x < width && image.getPixel(x, y) == target) {
                image.setPixel(x, y, replacement);
                if (!spanUp && y > 0
                        && image.getPixel(x, y - 1) == target) {
                    queue.add(new Point(x, y - 1));
                    spanUp = true;
                } else if (spanUp && y > 0
                        && image.getPixel(x, y - 1) != target) {
                    spanUp = false;
                }
                if (!spanDown && y < height - 1
                        && image.getPixel(x, y + 1) == target) {
                    queue.add(new Point(x, y + 1));
                    spanDown = true;
                } else if (spanDown && y < height - 1
                        && image.getPixel(x, y + 1) != target) {
                    spanDown = false;
                }
                x++;
            }
        } while ((node = queue.poll()) != null);
    }
}
} 
```

编辑：

一位用户评论说，@ [Android 洪水填充算法](https://stackoverflow.com/questions/8070401/android-flood-fill-algorithm)的解决方案比此处发布的解决方案运行得更快。因此，尽管我自己没有测试过，但请查看链接中的解决方案。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T08:41:51.287

每当 UI 线程中进行一些非常复杂的计算时，我的代码就出现了这个问题。如果您在 UI 线程中实现了洪水填充，则计算会导致 99% 的 CPU 使用率，因为其他应用程序和服务无法获得 CPU 份额。结果，android 将尝试杀死您的应用程序以恢复系统的完整性。作为一个简单的解决方案，尝试将计算卸载到 AsyncTask 或线程。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2019-04-12T05:56:18.883

我认为您必须关闭屏幕的多点触控，因为它内存不足....

# css - 如何在视频图像中定位css sprite播放按钮

> ID：12669741
> 
> 赞同：0
> 
> 时间：2012-10-01T08:24:09.533
> 
> 标签：css, html, css-sprites

我正在使用一些我目前不允许更改的旧表结构 html。

但是，我想使用跨度背景图像在视频图像上添加一个 CSS 精灵播放按钮。

我无法让播放按钮图像在带有 CSS 的视频图像内对齐。在真实站点上，它们一直位于页面顶部。我知道这是因为绝对定位。

我的问题是，如何将这些播放按钮图像定位在特定的视频图像中。

这是我的代码的[jsfiddle](http://jsfiddle.net/PyJXh/6/)。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T08:55:33.800

尝试类似的东西

```
a { display: block; position: relative; }
a span { position: absolute; left: 100px; top: 80px; } 
```

[http://jsfiddle.net/PyJXh/7/](http://jsfiddle.net/PyJXh/7/)

这可能不是确切的中心，您需要设置正确`left`并`top`取决于您的图像。

# ruby-on-rails - Rails 3 - 分配的未定义方法“last_request_at”

> ID：12669743
> 
> 赞同：0
> 
> 时间：2012-10-01T08:24:13.837
> 
> 标签：ruby-on-rails, ruby, activerecord, model

我将 Authlogic 用于身份验证用户 + Omniauth 用于社交身份验证。为注册 Facebook 的用户创建新帐户后，我想在系统中设置他的角色。

**用户**模型

```
 def self.create_user_from_facebook(auth_hash)
    a = self.create!({
      :facebook_uid => auth_hash["uid"],
      ...,
      :crypted_password => "facebook",
      :password_salt => "facebook",
      :persistence_token => "facebook",
      :provider => auth_hash["provider"]
    })
    puts a.errors.inspect #returns no errors, record is successfully saved
    puts a.inspect # returns: last_request_at: "2012-10-01 08:12:51"
    Assignment.create(:user_id => user.id, :role_id => 2)
  end 
```

当我尝试以`assignments`这种方式将新记录添加到表中时，出现错误

```
undefined method `last_request_at' for #<Assignment:0x0000012a1539e0> 
```

该列`last_request_at`在表中`users`。

`last_request_at`表格中的列`users`与表格有何关系`assignments`？（只有这两列：`role_id`，`user_id`）？

```
**EDIT** another information:
class UserOauthController < ApplicationController
  def create
    @current_user = User.find_or_create_from_oauth(auth_hash)

    if current_user
      UserSession.create(current_user, true)    
      flash[:success] = 'Successfully logged in.'
      redirect_to root_url
    else
      flash[:warning] = 'Authorization ERROR! Please, try it again.'
      redirect_to root_url
    end
  end
end

class User < ActiveRecord::Base
  attr_accessible list of atteibutes

  acts_as_authentic do |c|
    authlogic set up
  end

  ...validations...

  def self.find_or_create_from_oauth(auth_hash)
    provider = auth_hash["provider"]
    uid = auth_hash["uid"].to_s

    case provider      
      when 'facebook'
        if user = self.where('email = ? and provider = ?', auth_hash["info"]["email"], provider).first    
          return user
        elsif user = self.find_by_facebook_uid(uid)
          return user
        else
          return self.create_user_from_facebook(auth_hash)
        end

    end

    def self.create_user_from_facebook(auth_hash)
      a = self.create!({
        :facebook_uid => auth_hash["uid"],
        ...,
        :crypted_password => "facebook",
        :password_salt => "facebook",
        :persistence_token => "facebook",
        :provider => auth_hash["provider"]
      })
      puts a.errors.inspect
      puts a.inspect
      a.assignments.create(:role_id => MEMBER)
    end
  end 
```

我该如何解决？

# mysql - 如何使用变量重命名mysql中的表以生成新表名？

> ID：12669744
> 
> 赞同：-1
> 
> 时间：2012-10-01T08:24:19.470
> 
> 标签：mysql, sql

这是我重命名表的代码。

```
SELECT  @MinDate := MIN(time) FROM trans;

SELECT  @MaxDate := MAX(time) FROM trans;

set @NewTableName := CONCAT(@MinDate, '-' , @MaxDate );

RENAME TABLE trans To @NewTableName; 
```

在这我收到错误

> 您的 SQL 语法有错误；检查与您的 MySQL 服务器版本相对应的手册，以获取在 '@NewTableName 附近使用的正确语法

我不知道是什么错误。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-01T08:35:00.687

使用动态sql

```
set @q = concat("rename table trans to", @newtableName);
prepare stmt from @q;
execute stmt;
deallocate prepare stmt 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T08:28:21.650

rename 是一个原子操作，我不认为你可以在这里使用 sql 变量。

# jquery - 在已经“AJAX”处理的页面上加载 AJAX

> ID：12669746
> 
> 赞同：0
> 
> 时间：2012-10-01T08:25:17.417
> 
> 标签：jquery, ajax, coldfusion

我有通过将#link 字符串添加到地址中来通过 AJAX 将内容加载到 DIV 的脚本：

```
function loadPage(url) {        
    ajaxURL = document.URL;
    splitedAjaxURL = ajaxURL.split('#');

    url = url.replace('#page','');  
    $('#loading').css('display','block');   
    $.ajax( { type: "POST",
              url: "ajax_loader.cfm",
              data: 'page='+url,
              dataType: "html",
              success: function(msg) {
                  if(parseInt(msg) != 0) {
              $('#pageContent').html(msg);
              $('#loading').css('display','none');
          }
       } 
    });
} 
```

在该页面上，我有一个选择下拉菜单，允许用户选择要显示的项目数（10、20、40、70 ......等）。此选择位于其操作为 的表单中`abc.cfm`，该表单已`content.cfm`通过 AJAX 请求加载。

如何将选择操作附加到 AJAX？目前，当我选择一个选项时，它会`abc.cfm`作为单独的页面打开。但我需要它在里面`content.cfm`，就像我的第一个请求一样。

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T08:37:32.520

也许这不是您想要的，但是：

```
function loadPage(url)
  {

      ajaxURL = document.URL;
      splitedAjaxURL = ajaxURL.split('#');
      url=url.replace('#page','');
      data = {
        "page":url,
        "select_id": $("#your_select_id").val(),
      };
      $('#loading').css('display','block'); 
      $.ajax({
      type: "POST",
      url: "ajax_loader.cfm",
      data: data,
      success: function(msg){
 if(parseInt(msg)!=0)
     {
      $('#pageContent').html(msg);
      $('#loading').css('display','none');
     }
  }
 }); 
```

在服务器端，您需要对发布的值进行 json 解码！

# java - http 进入安卓

> ID：12669747
> 
> 赞同：0
> 
> 时间：2012-10-01T08:25:17.363
> 
> 标签：java, android, http, get, request

我有以下 android 代码，我在服务中有一个短信广播接收器，它等待收到的短信，然后在接收到它时，它会显示一个 toast，然后它应该向指定的 url 发出获取请求，一切正常预期但上传消息操作没有发生，在这里难住了。

```
public class ReceiverContainer extends Service{

 public SMSreceiver mSMSreceiver;
 public IntentFilter mIntentFilter;

@Override
public void onCreate()
{
    super.onCreate();

    //SMS event receiver
    mSMSreceiver = new SMSreceiver();
    mIntentFilter = new IntentFilter();
    mIntentFilter.addAction("android.provider.Telephony.SMS_RECEIVED");
    registerReceiver(mSMSreceiver, mIntentFilter);
}

@Override
public void onDestroy()
{
    super.onDestroy();

    // Unregister the SMS receiver
    unregisterReceiver(mSMSreceiver);
    mSMSreceiver = null;
}

@Override
public IBinder onBind(Intent intent) {
    // TODO Auto-generated method stub
    return null;
}

public class SMSreceiver extends BroadcastReceiver
{
     public void Action(Context context,Intent intent) throws ClientProtocolException, URISyntaxException, IOException
        {
         Bundle myBundle = intent.getExtras();
         SmsMessage [] messages = null;
         String strMessage = "";
         String msgFrom = "";
         String msgText = "";

         if (myBundle != null)
         {
             Object [] pdus = (Object[]) myBundle.get("pdus");
             messages = new SmsMessage[pdus.length];

             for (int i = 0; i < messages.length; i++)
             {
                 messages[i] = SmsMessage.createFromPdu((byte[]) pdus[i]);
                 strMessage += "SMS From: " + messages[i].getOriginatingAddress();
                 msgFrom += messages[i].getOriginatingAddress();
                 strMessage += " : ";
                 strMessage += messages[i].getMessageBody();
                 msgText += messages[i].getMessageBody();
                 strMessage += "\n";
             }

             Toast.makeText(context, strMessage, Toast.LENGTH_SHORT).show();

             uploadMessage(context,msgFrom,msgText);

         }
        }

    @Override
    public void onReceive(Context context, Intent intent)
    {
            try {
                Action(context,intent);
            } catch (ClientProtocolException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            } catch (URISyntaxException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            } catch (IOException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            }
    }

}

public void uploadMessage(Context context,String number,String msg) throws URISyntaxException, ClientProtocolException, IOException
{

    HttpResponse response = null;
    HttpClient client = new DefaultHttpClient();

    Uri.Builder path = new Uri.Builder();
    path.scheme("http");
    path.authority("technonectar11.com");
    path.path("sms");
    path.appendQueryParameter("fromno" , number);
    path.appendQueryParameter("text" , msg);
    path.appendQueryParameter("uname" , "vijay");

    HttpGet request = new HttpGet(path.build().toString());     
    //request.setURI(new URI("http://www.technonectar11.com/sms/insertsms?fromno="+number+"&text="+msg+"&uname=vijay"));
    response = client.execute(request);

    String result = convertStreamToString(response.getEntity().getContent());

    Toast.makeText(context, result, Toast.LENGTH_SHORT).show();

}

public static String convertStreamToString(InputStream inputStream) throws IOException
{
    if (inputStream != null)
    {
        Writer writer = new StringWriter();

        char[] buffer = new char[1024];
        try
        {
            Reader reader = new BufferedReader(new InputStreamReader(inputStream, "UTF-8"),1024);
            int n;
            while ((n = reader.read(buffer)) != -1)
            {
                writer.write(buffer, 0, n);
            }
        }
        finally
        {
            inputStream.close();
        }
        return writer.toString();
    }
    else
    {
        return "";
    }
} 
```

}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T08:27:23.670

您不得在主线程上发出 Internet 请求。使用[AsyncTasks](http://developer.android.com/reference/android/os/AsyncTask.html)发出请求。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T08:52:43.137

在 manfiest 文件中声明**INTERNET 许可**

试试 HttpPost

```
httpclient=new DefaultHttpClient();
     HttpPost httppost=new HttpPost(URL);

     HttpResponse res = null;
        try {
            res = httpclient.execute(httppost);
            System.out.println("asa "+res);

        } catch (ClientProtocolException e1) {
            e1.printStackTrace();
        } catch (IOException e1) {
            e1.printStackTrace();
        } 
```

# gwt - GWT：如何使 tabPanel 达到 100% 高度

> ID：12669748
> 
> 赞同：1
> 
> 时间：2012-10-01T08:25:18.630
> 
> 标签：gwt

我在我的 GWt 应用程序中使用 TabPanel

```
 <g:HTMLPanel>
    <div class="center">
        <g:TabLayoutPanel ui:field="tabPanel" barUnit="PX"
            barHeight="40" width="100%;">
            <g:tab>
                <g:header>
                    DashBoard
                </g:header>
              </ g:TabLayoutPanel> 
```

使用它作为我的标签面板高度

```
 .gwt-TabLayoutPanel {
           min-height:500px;
             } 
```

它工作正常，但我希望这个高度为 100%，但是当我达到 100% 时，整个 TabPanel 消失了，

任何解决方案..因为当我的东西高点增加时，低点开始切断..

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-02T04:58:52.367

将您的 TabLayoutPanel 放在 LayoutPanel 或任何其他为其子级提供大小的面板中。例如，如果您将面板直接放入 RootLayoutPanel，它将自动占据 100% 的屏幕，并且会随着浏览器窗口调整大小。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T09:36:44.403

100% 高度的问题是如果父容器没有设置高度，它将是 1px。

您可能会发现以下文章作为一种可能的解决方法很有趣。 [http://www.tutwow.com/htmlcss/quick-tip-css-100-height/](http://www.tutwow.com/htmlcss/quick-tip-css-100-height/)

# java - 字符串比较不工作

> ID：12669749
> 
> 赞同：2
> 
> 时间：2012-10-01T08:25:23.293
> 
> 标签：java, string, string-comparison

我有一个简单的 if 语句似乎不起作用。我没主意了。我不明白为什么我的逻辑是错误的。

```
String a = "bf";

if (a.compareTo("bf"))
{
    // do this
} 
```

我在`compareTo`声明下得到了一条红线。

`Type mismatch: cannot convert from int to boolean`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-01T08:27:13.693

[`compareTo`](http://www.tutorialspoint.com/java/java_string_compareto.htm)方法返回 int 值。这样做

```
if (a.compareTo("bf") == 0)      
{
    //
} 
```

（或者）

使用`.equals`方法

```
if (a.equals("bf"))

{
// do this
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-01T08:27:15.097

compareTo 返回一个 int，而不是布尔值。

[http://developer.android.com/reference/java/lang/Comparable.html](http://developer.android.com/reference/java/lang/Comparable.html)

如果此实例小于另一个实例，则为负整数；如果此实例大于另一个实例，则为正整数；如果此实例与另一个实例具有相同的顺序，则为 0。

所以你应该检查`== 0`

顺便说一句，它适用于只能订购的东西。如果您只想检查是否相等，请使用 .equals

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-01T08:27:43.890

改成这个

```
String a = "bf";  
if (a.compareTo("bf") == 0)      
{
 // do this     
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-01T08:29:33.560

该`compareTo`方法返回一个`int`值，而不是一个`boolean`.

您必须将其更改为

```
if (a.compareTo("bf") == 0) 
```

或使用

```
if (a.equals("bf")) 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-10-01T08:30:21.553

> 在比较相等性时，您应该使用 equals()，因为它以清晰的方式表达了您的意图。
> 
> compareTo() 有一个额外的缺点，它只适用于实现 Comparable 接口的对象。
> 
> 这通常适用，不仅适用于字符串。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-10-01T08:44:41.470

在这里使用类的`equals()`方法`Object`来**比较**两个`String`对象。

```
String a = "bf";

if (a.equals("bf"))
{
    // do this
} 
```

**此外** `compareTo()`是`java.lang.Comparable`接口的方法。

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2012-10-01T08:48:47.910

compareto 返回一个整数。if 语句需要一个布尔值来检查，因此将您的代码更改为：

```
String a = "bf";

if (a.compareTo("bf")==0)
{
  // do this
} 
```

# jquery - 如果它返回结果数组，我如何获取 json 的值？

> ID：12669751
> 
> 赞同：0
> 
> 时间：2012-10-01T08:25:25.870
> 
> 标签：jquery, arrays, json

我想知道如果 json 返回结果数组，我如何从 json 中检索值？

注意：第一个数组与第二个数组的长度不同，但第一个数组总是小于第二个数组

这是我现在所做的并收到此错误：

![在此处输入图像描述](../Images/c91c7083a0b1cdabe761988b99d192e7.png)

这是我的jQuery代码：

```
success: function(data){
            var toAppend = '';
            if(typeof data === "object"){
                for(var i=0;i<data.length;i++){
                    toAppend += '<tr><td colspan="2">'+data[0][i]['m-asin'][0]+'</td></tr>';
                    toAppend += '<tr><td>'+data[1][i]['asin'][0]+'</td><td>'+data[1][i]['size'][0]+'</td></tr>';
                }
                $('.data-results').append(toAppend);
            }
        } 
```

而且我认为不需要 php 代码，因为它可以正常工作，因为它返回了预期的结果。任何帮助都将是一件大事，谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-01T08:27:14.630

`data[0][i]`为您提供第一个数据元素的第 i 个属性。您需要还原它：`data[i][0]`.

否则，您需要更改循环，以获取 data[0] 中的元素数量：

```
for(var i=0; i<data[0].length; i++){ 
```

# eclipse - 在 Eclipse Juno 中打开 java 文件时，编辑器似乎被最小化或隐藏

> ID：12669752
> 
> 赞同：26
> 
> 时间：2012-10-01T08:25:27.107
> 
> 标签：eclipse, eclipse-juno

我已经安装了 Eclipse Juno SR1 并切换到我的旧工作区。当我在编辑器中打开一个 java 文件时，它似乎被最小化（或隐藏）。标题栏显示当前文件，大纲显示所有方法。

[这与Eclipse Invisible Editor](https://stackoverflow.com/questions/12206348/eclipse-invisible-editor)中的描述非常相似，但是，建议的解决方案“Window > Reset Perspective”对我不起作用。

关于如何让编辑器回到窗口中的任何想法？

我对以前版本的 Eclipse Juno（不是 SR1）有同样的问题。

* * *

## 回答 #1

> 赞同：49
> 
> 时间：2013-08-29T14:39:00.373

"Windows" -> "New Window" 似乎带回了不可见的编辑器视图。然后只需关闭旧的并重新启动 eclipse 以确保它“记住”配置。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-06-26T06:43:10.567

尝试 Window > Reset Perspective 让事情恢复正常。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2014-03-06T07:19:59.747

有时编辑器或其他视图开始表现不稳定。对于这种情况，请执行以下操作：“Windows”->“新窗口”。关闭旧的。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-12-06T13:06:37.140

我在 STS 中遇到了这个问题，然后它在同一个工作区中污染了我的常规 Eclipse。“新窗口”有帮助，谢谢！

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-06-22T04:54:37.400

您不需要重新启动 Eclipse。

**只需在Package Explorer**视图中双击您的文件。您将在标题栏中看到它的名称，但它不会出现在编辑器中：

![在此处输入图像描述](../Images/e4915ae9a87b1ffcb634845b210c3264.png)

现在，只需键入**Ctrl** + **w**（在 Windows 的情况下）。

重新打开您的文件，它将出现在编辑器中：

![在此处输入图像描述](../Images/4c35cd4ee6c2b7c11edd29148992ee7f.png)

# php - 将数组 ID 传递给 mysql 查询

> ID：12669753
> 
> 赞同：-1
> 
> 时间：2012-10-01T08:25:29.857
> 
> 标签：php, zend-framework

我有以下数组：

```
Array
(
    [0] => Array
        (
            [ID] => 119256
        )

    [1] => Array
        (
            [ID] => 247436
        )

    [2] => Array
        (
            [ID] => 266197
        )

    [3] => Array
        (
            [ID] => 256299
        )
) 
```

我想将这个数组ID一一传递给我编写mysql查询的以下函数。

```
$search->getInformation($ID); 
```

请帮助我该怎么做。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T08:27:58.373

我猜你需要这样的东西：

```
foreach ($array_variable as $key => $value){
    $search->getInformation($value['ID']);
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-01T08:29:34.280

```
foreach ($array_variable as $key => $value){
    $search->getInformation($value['ID']);
} 
```

# extjs - 从 ExtJs 中的商店获取网格 ID

> ID：12669754
> 
> 赞同：0
> 
> 时间：2012-10-01T08:25:34.143
> 
> 标签：extjs

我在 EXTJS 中遇到了一些问题，如果有人帮助我，我真的很感激有人从它的商店获取网格 ID 吗？我有一些网格，我应该从他们的商店获取他们的 ID。谢谢你

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T08:38:46.007

我不确定我是否理解这个问题，但我认为商店不知道它是什么。

对我来说，您无法从商店 ID 中获取网格 ID。

# wpf - MouseDown 在网格中不起作用（仅在网格中的按钮上）

> ID：12669756
> 
> 赞同：8
> 
> 时间：2012-10-01T08:25:49.290
> 
> 标签：wpf, grid, wrappanel, mousedown

我对 MouseDown 事件有疑问。我的应用程序看起来像这样，我有网格，我在后面的代码中添加按钮

```
<Grid Grid.Column="1" Name="gridWithButtons" MouseDown="normalModeButtonsWP_MouseDown" >
        <WrapPanel Name="normalModeButtonsWP" MouseDown="normalModeButtonsWP_MouseDown" ></WrapPanel>
</Grid> 
```

但是当我在网格/包装面板中按下鼠标按钮时（例如，我的意思是在按钮之间的空白区域）它不起作用。仅在按下包装/网格中的按钮时才有效。有人知道如何处理吗？

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2013-09-06T06:52:42.650

单独设置 IsHitTestVisible 不会使其工作。

如果背景设置为无，则元素不可点击。要使其可点击（适用于网格、堆栈面板等），请将背景设置为 #00000000。这是一项旨在防止用户单击幻像按钮的功能。但是，为其指定颜色将使其可点击。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T09:07:39.097

尝试在网格上设置 IsHitTestVisible = true

# sql - SQL，不在组内

> ID：12669757
> 
> 赞同：1
> 
> 时间：2012-10-01T08:25:49.490
> 
> 标签：sql

我有一个包含字段 f1 和 f2 的表 T1 和一个包含字段 f3 和 f4 的表 T2。

让我们有一些虚拟值：

```
T1: (1,1) (2,3) (3,3) (4,3) (5,1)
T2: (1,1) (1,2) (3,1) (3,3) 
```

我们可以认为 f2 和 f3 定义相同的东西，是 T1 和 T2 之间的桥梁。我想检索与 f4 值 2 无关的每个 f1 。所以我的预期输出是：

(2),(3),(4) 在 1 和 5 F1 值 F2=F3=1 在 T2 上具有 f4=2。

我怎样才能做到这一点？

编辑 2：我忘了提到 T1 源自一个漫长的过程，预计是一个小表，而 T2 很大，没有索引就无法操作

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T08:36:13.580

因为 f2 和 f3 是同一个东西，所以你在两个字段之间加入。

```
select f1 
from t1 
    left join t2 
        on t1.f2 = t2.f3 
        and t2.f4=2
where f3 is null 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T09:58:05.697

LEFT JOIN 应该为此工作。DISTINCT 可用于避免重复

```
SELECT DISTINCT f1
FROM T1
LEFT JOIN T2
ON T1.f2 = T2.f3
WHERE T2.f4 IS NULL OR T2.f4 <> 2 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-01T08:32:48.450

```
SELECT DISTINCT F1
FROM T1
WHERE (SELECT COUNT(F3) FROM T2 WHERE T1.F2 = T2.F3 AND T2.F4 = 2) = 0 
```

# java - 测量/分析来自第三方库的方法的执行时间

> ID：12669761
> 
> 赞同：0
> 
> 时间：2012-10-01T08:26:00.403
> 
> 标签：java, performance, profiling

我对这个问题很感兴趣，并尝试了几件事。

通常可以使用[JProfiler](http://www.ej-technologies.com/products/jprofiler/overview.html)或[VisualVM](http://visualvm.java.net)等产品来执行 CPU 分析并搜索正在调查的方法。

此外，可以使用[JETM](http://jetm.void.fm/)、[CodaHale Metrics](http://metrics.codahale.com/)或[Netflix Servo](http://github.com/Netflix/servo)等库在应用程序中引入测量点。但是，这种方法的问题在于，对于第三方库，它可能无法正常工作，因为这些库希望您在应用程序中引入测量点。这对我来说是最有趣的方法，因为它们引入的代码量最少。

最后但并非最不重要的一点是，也可以使用基于 AOP 的方法，例如[Spring AOP](http://static.springsource.org/spring/docs/current/spring-framework-reference/html/aop.html)来测量第三方库的特定执行。由于该项目根本没有使用 AOP，因此我宁愿不引入新的依赖项来实现此测量的唯一目的。

例如，就我而言，我想测量日志记录方法的执行情况，例如[JCL Log](http://commons.apache.org/logging/commons-logging-1.1.1/apidocs/org/apache/commons/logging/Log.html)和[log4j Logger](http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/Logger.html)实现的混合。我想将[JUnit RunListener](http://junit.sourceforge.net/javadoc/org/junit/runner/notification/RunListener.html)与 Maven Surefire 一起使用，并为我拥有的所有单元测试测量此执行情况。

那么，有什么想法吗？我很感激建议。

# android - 在图形布局中对齐图像

> ID：12669763
> 
> 赞同：1
> 
> 时间：2012-10-01T08:26:07.860
> 
> 标签：android, xml, image, xml-drawable

嗨，我想知道如何将框对齐到 android 屏幕的底部？我已经将盒子制作为 9patch png 图像，但实际图像和边框之间仍然存在一些差距。谁能帮帮我吗？我的意思是，控制图像大小的图形布局屏幕上的蓝色边框与实际图像之间存在实际间隙。请原谅我的英语。

这是蓝色框的xml代码

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:tools="http://schemas.android.com/tools"
android:layout_width="match_parent"
android:layout_height="match_parent" >

<ImageView
    android:id="@+id/background"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:layout_alignParentLeft="true"
    android:layout_alignParentTop="true"
    android:src="@drawable/background" />

<ImageView
    android:id="@+id/topbar"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_alignParentTop="true"
    android:layout_centerHorizontal="true"
    android:src="@drawable/top_bar" />

<ImageView
    android:id="@+id/imageView2"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_below="@+id/topbar"
    android:layout_centerHorizontal="true"
    android:layout_marginTop="95dp"
    android:src="@drawable/icon_green" />

<ImageView
    android:id="@+id/box"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_alignParentBottom="true"
    android:layout_centerHorizontal="true"
    android:layout_marginBottom="23dp"
    android:src="@drawable/box" />

</RelativeLayout> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T09:32:35.280

不完全理解问题，但尝试添加

```
 android:adjustViewBounds="true" 
```

到您的 ImageViews。

我看到带有 id 'box' 的视图与底部对齐并且底部边距为 23dp。这将在屏幕底部产生一个间隙；）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-02T00:00:57.887

问题解决了伙计们。实际上，我猜这个盒子是悬停的，因为盒子的宽度在屏幕上太大了。在图形布局上切换到更大的屏幕（5.4 英寸，以前是 4 英寸）后，框就在底部。感谢您的帮助:) 好吧，这很愚蠢，抱歉大惊小怪，我是 android 新手。

# php - 仅当它们存在于另一个数组中时如何显示stdclass对象的值

> ID：12669764
> 
> 赞同：0
> 
> 时间：2012-10-01T08:26:07.760
> 
> 标签：php, field, key-value, stdclass

我有一个数组：-

```
$headers=array(
                        'a',
                        'b',
                        'c',
                    ); 
```

说一个我从数据库中得到的对象：-

```
$sql = 'Select * from my_table';
$views = $DB->get_records_sql($sql); 
```

现在我的目标是显示表中的标题并仅在以下 $view 中字段的键与 $header 匹配时才显示表中的值。

```
 echo '<table border="1">';
    echo '<thead>';
    echo '<tr>';
    foreach($headers as $header){
        echo '<th>';
        echo $header;
        echo '</th>';
    }
    echo '</tr>';
    echo '</thead>';
    echo '<tbody>';

    foreach ($views as $view){
        echo '<tr>';
        foreach($view as $column=>$value){
            echo '<td>';
            echo $value;
            echo '</td>';
        }
        echo '</tr>';
    }

echo '</table>'; 
```

我尝试使用 $key 代替 $value 并使用 in_array() 方法检查 $view 的该字段的键是否存在于 $header 中，但即使这样也给了我值而不是字段的名称。有什么方法可以检查字段名称是否存在于数组中，我打印出值，否则我不打印。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T08:34:49.597

下面怎么样

```
foreach($view as $column => $value){
    if(in_array($column, $headers)){
        echo '<td>' . $value . '</td>';
    }
} 
```

# django - 如何使用“include”标签在 Django 中动态包含模板

> ID：12669765
> 
> 赞同：25
> 
> 时间：2012-10-01T08:26:15.707
> 
> 标签：django, django-templates

我有 10 个名为 1.html、2.html ..etc 的 html 文件我想要的是根据一个变量，某个文件应该包含在模板中。

例如

```
{% if foo.paid %}
    {% include "foo/customization/{{ foo.id }}.html" %}
{% endif %} 
```

这可能吗 ？导致 foo.id 在包含标签工作之前没有被翻译。结果它给出了一个错误。如何以不同的方式处理这个问题？我应该为此创建一个自定义模板标签吗？

* * *

## 回答 #1

> 赞同：46
> 
> 时间：2012-10-01T08:40:57.767

您可以使用[add filter](https://docs.djangoproject.com/en/dev/ref/templates/builtins/?from=olddocs#add)和[with statement](https://docs.djangoproject.com/en/dev/ref/templates/builtins/?from=olddocs#with)来完成。

```
{% if foo.paid %}
    {% with template_name=foo.id|stringformat:"s"|add:".html" %}
        {% include "foo/customization/"|add:template_name %}
    {% endwith %}
{% endif %} 
```

首先，您构建一个`template_name`，它由与 .`foo.id`连接的字符串格式组成`.html`。然后将其传递给`include`标记，并与模板目录的路径连接。

# python - 在 MAC 10.7 或 10.8 上强制使用 32 位 Python

> ID：12669779
> 
> 赞同：5
> 
> 时间：2012-10-01T08:27:18.773
> 
> 标签：python, macos, wxpython, platypus

我有 MAC OS X 10.8，我已经使用他们网站上的 Python 官方二进制文件将我的 python 更新到了 2.7.3 版本。

我正在尝试运行需要使用 32 位 python 执行的 python 脚本。

我如何强制运行 32 位 python 而不是 64 位？

命令文件 /usr/bin/python 给了我以下输出。

```
Alis-Mac:~ ali$ file /usr/bin/python
/usr/bin/python: Mach-O universal binary with 2 architectures
/usr/bin/python (for architecture i386):    Mach-O executable i386
/usr/bin/python (for architecture x86_64):  Mach-O 64-bit executable x86_64 
```

我也尝试过以下方法。

```
export VERSIONER_PYTHON_PREFER_32_BIT=yes 
```

但这甚至没有帮助，因为现在，我猜我有自定义 python。

我的脚本中有 wxpython 代码，我正在使用 platypus 为 OSX 构建应用程序，所以我必须强制我的脚本使用 32 位 python 运行。请帮忙。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-05-22T07:56:11.927

现在安装 virtualbox 并在 32 位 Ubuntu 中开发您的应用程序

您还可以安装 pycharm，它可以让您通过 vagrant 进行调试

# php - $this->Model->id 在 CakePHP 中 saveAll 之前不起作用

> ID：12669789
> 
> 赞同：0
> 
> 时间：2012-10-01T08:28:02.733
> 
> 标签：php, cakephp

我在 CakePHP 2 中有以下代码：

```
$this->Order->id = 5;
$this->Order->saveAll(array(
    'Order' => array(
        'person_id' => $this->Session->read('Person.id'),
        'amount' => $total,
        'currency_id' => $code                   
    ),
    'Lineitem' => $lineitems  /* a correctly-formatted array */
)); 
```

我希望这会更新`Order`表中主键为 5 的行，然后插入`Lineitem`order_id 为 5 的行。

但是，它所做的只是在其中创建一个新行，`Order`然后使用新`Order`记录中的新 id 来创建`Listitem`行。

**注意：**我只是为了调试目的和轻松演示这个问题而设置上面的 ID。在我的最终代码中，我将检查当前是否已经存在挂单，`person_id`如果`$this->Order->id = $var;`有，`$this->Order->create();`是否没有。

换句话说，有时我会希望它插入（在这种情况下我会发出`$this->Order->create();`），有时我会希望它更新（在这种情况下我会发出`$this->Order->id = $var;`）。上面的测试用例应该产生一个 UPDATE 但它却产生了一个 INSERT。

知道我在这里做错了什么吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-01T08:52:27.267

您传递给的数组不`Model->saveAll()`包含订单的 id，因此 Cake 创建了一个新的。如果您想更新现有记录，您可以在传递的数组中设置订单 ID，或者使用查找来检索它。[该文档](http://book.cakephp.org/2.0/en/models/saving-your-data.html#model-save-array-data-null-boolean-validate-true-array-fieldlist-array)明确指出

> 如果您想更新一个值，而不是创建一个新值，请确保您将主键字段传递到数据数组

```
$order = $this->Order->findById(5);
// ... modify $order if needed
$this->Order->saveAll(array('Order' => $order, 'LineItem' => $items)); 
```

在您的情况下，您可能希望尽可能简洁地使用以下内容。`Model::saveAssociated()`足够聪明，可以根据 来创建或更新`id`，但您必须提供合适的输入。`Model::read($fields, $id)`初始化 internal `$data`：对于现有记录，所有字段都将从数据库中读取，但对于不存在的 id，您需要提供正确的数据才能成功。假设订单`belongsTo`是客户，如果订单不存在，我会提供客户 ID

```
// set the internal Model::$data['Order']
$this->Order->read(null, 5);
// You may want to supply needed information to create
// a new order if it doesn't exist, like the customer
if (! $this->Order->exists()) {
    $this->Order->set(array("Customer" => array("id" => $customer_id)));
}
$this->Order->set(array('LineItem' => $items));
$this->Order->saveAssociated(); 
```

最后一点，您似乎正在实现一个购物车。如果是这种情况，也许使用单独`ShoppingCart`的而不是`Order`带`finalized`标志的会更清楚。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-01T08:59:43.967

您是否尝试过以下操作：

```
$this->Order->saveAll(array(
    'Order' => array(
        'id' => 5,
        'person_id' => $this->Session->read('Person.id'),
        'amount' => $total,
        'currency_id' => $code                   
    ),
'Lineitem' => $lineitems  /* a correctly-formatted array */
)); 
```

它与您所做的几乎相同：

```
$this->Order->id = 5; 
```

也许这会解决你的问题。Cake 正在检查您是否设置了 id 字段，如果它在那里更新记录，如果没有找到它会创建新记录。

更新：然后可能在 saveAll 之前检查是否有 id 字段，然后将检查结果保存到某个布尔值并创建数组以保存由该布尔值确定，例如：

```
if($id_exist) $order['Order']['id'] = 5;
$order['Order']['id'] = 5;
$order['Order']['person_id'] = $this->Session->read('Person.id'),
$order['Order']['amount'] = $total;
$order['Order']['currency_id'] = $code;

    $this->Order->saveAll(array(
    'Order' => $order,
'Lineitem' => $lineitems  /* a correctly-formatted array */
)); 
```

# jquery - JQuery 仅使用 html() 抓取特定文本

> ID：12669790
> 
> 赞同：1
> 
> 时间：2012-10-01T08:28:07.557
> 
> 标签：jquery, this, html

如果我有这样的html：

```
<td>Something here<span>spanText</span></td> 
```

使用 jquery 的 html 方法，我只想获取跨度文本而不是整个内容。所以这是我的jQuery代码：

```
var data = $(this).html(); 
```

这使得：

```
data = Something here; spanText 
```

但我希望数据是：

```
data = spanText 
```

那么有没有办法让 html 方法只抓取跨度文本而不是整个东西？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-01T08:29:16.653

这个怎么样？

```
var data = $("span", this).html(); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-01T08:29:30.487

```
var spanText = $(this).find('span').text(); 
```

# codeigniter - CodeIgniter 的 sess_destroy 不起作用

> ID：12669791
> 
> 赞同：0
> 
> 时间：2012-10-01T08:28:11.213
> 
> 标签：codeigniter

我有这个控制器：

```
 function Logout() {
        $this->session->sess_destroy();
        redirect('/');
    } 
```

很简单。但它不起作用。就这么简单 - 会话仍然被存储。我尝试使用`unset_userdata`我的所有会话（目前两个），但它也不起作用。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2016-09-14T09:32:51.730

您需要将 $config['sess_cookie_name'] 更改为其他动态名称，因为有时相同的变量会在您的浏览器特别是 IE 上发生冲突。

你将不得不去 config 文件夹和 config.php 文件

转到应用程序-> 配置-> config.php

$config['sess_cookie_name'] = 'ci_session2'; // 将 ci_session 重命名为可以解决您的问题的其他名称。

# android - 如何为动画片段设置所需的布局？

> ID：12669793
> 
> 赞同：0
> 
> 时间：2012-10-01T08:28:12.710
> 
> 标签：android, animation, layout, fragment

我有一个从右到左动画的片段。我想将其设置为距离屏幕左侧 100 个单位。这就是我到目前为止所做的。

```
 RelativeLayout tempLi;
    Display display = MyActivity.context.getWindowManager().getDefaultDisplay();
    final int width = display.getWidth();

   tempLi.setLayoutParams(new LayoutParams(width-100, LayoutParams.FILL_PARENT)); 
```

这行代码使布局距离右侧少了 100 个单位。我试过做`-width + 100`，没有用。任何建议将不胜感激。TIA

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T10:12:53.893

您可以将左边距设置为布局，如下所示：

```
 RelativeLayout.LayoutParams layoutParams = new RelativeLayout.LayoutParams(LayoutParams.MATCH_PARENT, LayoutParams.MATCH_PARENT);
    layoutParams.setMargins(100, 0, 0, 0);
    tempLi.setLayoutParams(layoutParams); 
```

# spring - 测试控制器获取返回值

> ID：12669794
> 
> 赞同：1
> 
> 时间：2012-10-01T08:28:17.810
> 
> 标签：spring, spring-mvc, spring-3

如何从该测试中获取返回值？我的控制器返回`@Responsebody Meal`

```
@Test
// @Transactional
public void testPost() {

    Profile profile = ProfileUtil.getProfile();
    profileService.save(profile);

    String requestUri = "/user/" + profile.getId() + "/meals";

    request.setMethod("POST");
    request.setRequestURI(requestUri);
    Object handler;

    try {

        handler = handlerMapping.getHandler(request).getHandler();
        handlerAdapter.handle(request, response, handler);
        Assert.assertEquals(200, response.getStatus());

        //I would like to have the controller return value here! :) 
    } catch (Exception e) {

    }

} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-01T17:35:03.160

你有两个选择：

*   直接调用控制器，而不是通过处理程序映射/servlet 层。这样你就可以简单地获取`Meal`对象，你可以在它上面运行断言

*   解析来自`response`对象的响应。在您的情况下`Meal`，对象由 Spring MVC 获取并编组，可能是 XML 或 JSON。原始对象现在丢失了，您只能检索 XML/JSON 字符串、解析它并在其上运行断言（例如使用 XPath）。

两种方法都有其优点。如果您想测试控制器本身，请首选第一个。后者更复杂，但可以让您测试编组。

# webkit - WebKit 的 LXR、DXR 还是 woboq？

> ID：12669798
> 
> 赞同：1
> 
> 时间：2012-10-01T08:28:34.193
> 
> 标签：webkit, lxr

是否有任何地方可以让您轻松浏览 WebKit 源代码并能够“转到定义”以获取有关每个变量、类型和函数的信息？

[Linux Cross Reference](http://lxr.linux.no)、[Mozilla 的 DXR](https://wiki.mozilla.org/DXR)或[woboq Code Browser](http://code.woboq.org/)之类的东西。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-05T14:27:12.307

您对哪个特定的 WebKit 端口感兴趣？[我们](http://woboq.com)设法让当前的 Qt5 QtWebKit 与代码浏览器一起编译 :)

[http://code.woboq.org/qt5/qtwebkit/](http://code.woboq.org/qt5/qtwebkit/)

# c# - 何时使用 InvalidOperationException 或 NotSupportedException？

> ID：12669805
> 
> 赞同：49
> 
> 时间：2012-10-01T08:28:48.237
> 
> 标签：c#, .net, exception, invalidoperationexception, notsupportedexception

我正在实现一个可以是只读或非只读的自定义集合实现；也就是说，所有改变集合的方法都调用一个道德等价的函数：

```
private void ThrowIfReadOnly() {
    if (this.isReadOnly)
       throw new SomeException("Cannot modify a readonly collection.");
} 
```

我不确定在这种情况下应该使用哪个`NotSupportedException`或`InvalidOperationException`我应该使用哪个。

* * *

## 回答 #1

> 赞同：68
> 
> 时间：2012-10-01T08:28:48.237

MSDN 关于这个精确的主题只有一点指导，关于[`NotSupportedException`](http://msdn.microsoft.com/en-us/library/system.notsupportedexception.aspx)：

> 对于对象有时可以执行请求的操作的场景，并且对象状态决定了该操作是否可以执行，请参见[`InvalidOperationException`](http://msdn.microsoft.com/en-us/library/system.invalidoperationexception.aspx)。

以下纯粹是我自己对规则的解释：

*   如果对象的状态可以改变，使得操作在对象的生命周期内变得无效/有效，那么`InvalidOperationException`应该使用。
*   如果操作在整个对象的生命周期内始终无效/有效，`NotSupportedException`则应使用。
*   在这种情况下，“生命周期”意味着“任何人都可以获得对该对象的引用的整个时间”——也就是说，即使在`Dispose()`通常使大多数其他实例方法无法使用的调用之后；
    *   正如 Martin Liversage 所指出的，在对象已被处置的情况下，`ObjectDisposedException`应使用更具体的类型。（这仍然是 的子类型`InvalidOperationException`）。

在这种情况下，这些规则的实际应用如下：

*   如果`isReadOnly`只能在创建对象时设置（例如构造函数参数），而不能在任何其他时间设置，那么`NotSupportedException`应该使用。
*   如果`isReadOnly`可以在对象的生命周期内改变，那么`InvalidOperationException`应该使用。
    *   然而，在实现集合的情况下， `InvalidOperationException`vs`NotSupportedException`的意义实际上是没有意义的——鉴于[`IsReadOnly`](http://msdn.microsoft.com/en-us/library/0cfatk9t.aspx)MSDN 上的描述，唯一允许的行为`IsReadOnly`是它的值在集合初始化后永远不会改变。这意味着集合实例可以是可修改的或只读的 - 但它应该在初始化时选择一个并在其剩余生命周期中坚持使用它。

# objective-c - 仅限 iOS6 - 加载第二个选项卡时卡住

> ID：12669811
> 
> 赞同：1
> 
> 时间：2012-10-01T08:29:08.287
> 
> 标签：objective-c, ios6, tabbar

我的应用程序必须根据我的代码从第二个选项卡加载。它在除 iOS6 之外的所有 iOS 中都能正常工作。

我在用`[appDelegateObj.tabBarController setSelectedIndex:1];`

当我在 iOS6 中运行它时，中间选项卡会突出显示，并且第一个和第二个选项卡上的服务都开始加载，最后被卡住，只显示加载符号。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T04:25:23.137

我建议您在 IOS6 部署环境中查看[developer.apple.com 的 UITabBar示例。](http://developer.apple.com/library/ios/#samplecode/Tabster/Introduction/Intro.html#//apple_ref/doc/uid/DTS40011213)

最重要的是尝试设置您的 UITabBarController 的 selectedIndex，如下所示：

```
self.tabBarController.selectedIndex = indexOfTab; 
```

希望这可以帮助...

# android - 将电话的拨号键音量设置为自定义拨号键

> ID：12669815
> 
> 赞同：0
> 
> 时间：2012-10-01T08:29:24.763
> 
> 标签：android, tone-generator

我已经制作了自定义拨号器，并且我已经在按钮的按下事件中设置了音调。现在问题是我已经设置了此时的音量是固定的，所以当手机处于静音模式时，也会播放应用程序音调。所以我想根据手机的拨号键音量进行自定义。自定义拨号器的代码如下：

```
public void onCreate(Bundle savedInstanceState) {
        this.requestWindowFeature(Window.FEATURE_NO_TITLE);
        super.onCreate(savedInstanceState);
        setContentView(R.layout.keypad1);
        ctx = this;

        b1 = (ImageButton) findViewById(R.id.imageButton1);
        b2 = (ImageButton) findViewById(R.id.imageButton2);
        b3 = (ImageButton) findViewById(R.id.imageButton3);
        b4 = (ImageButton) findViewById(R.id.imageButton4);
        b5 = (ImageButton) findViewById(R.id.imageButton5);
        b6 = (ImageButton) findViewById(R.id.imageButton6);
        b7 = (ImageButton) findViewById(R.id.imageButton7);
        b8 = (ImageButton) findViewById(R.id.imageButton8);
        b9 = (ImageButton) findViewById(R.id.imageButton9);
        b10 = (ImageButton) findViewById(R.id.imageButtonstar);
        b11 = (ImageButton) findViewById(R.id.imageButton0);
        b12 = (ImageButton) findViewById(R.id.imageButtonhash);

        call = (ImageButton) findViewById(R.id.imageButtoncall);
        back = (ImageButton) findViewById(R.id.back);
        logout = (ImageButton) findViewById(R.id.imageButtonlogout);
        keypad = (ImageButton) findViewById(R.id.imageButtondialpad);
        txt = (EditText) findViewById(R.id.txtnum);
        /*AudioManager audioManager = (AudioManager) getSystemService(Context.AUDIO_SERVICE);
        int streamMaxVolume = audioManager.getStreamVolume(AudioManager.STREAM_MUSIC);
        Log.i("volume",""+streamMaxVolume);*/
        mp1 = new ToneGenerator(AudioManager.STREAM_DTMF,70);

        txt.addTextChangedListener(new TextWatcher() {

            @Override
            public void onTextChanged(CharSequence s, int start, int before,
                    int count) {
                // TODO Auto-generated method stub

            }

            @Override
            public void beforeTextChanged(CharSequence s, int start, int count,
                    int after) {
                // TODO Auto-generated method stub

            }

            @Override
            public void afterTextChanged(Editable s) {
                // TODO Auto-generated method stub
                txt.setSelection(txt.getText().length());
            }
        });

        b1.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                s = txt.getText().toString();
                txt.setText(s + "1");
                mp1.stopTone();
                mp1.startTone(ToneGenerator.TONE_DTMF_1, 120);
            }
        });

    b2.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                s = txt.getText().toString();

                txt.setText(s + "2");
                mp1.stopTone();
                mp1.startTone(ToneGenerator.TONE_DTMF_2, 120);

            }
        });
        b3.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                s = txt.getText().toString();
                txt.setText(s + "3");
                mp1.stopTone();
                mp1.startTone(ToneGenerator.TONE_DTMF_3, 120);

            }
        });
        b4.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                s = txt.getText().toString();
                txt.setText(s + "4");
                mp1.stopTone();
                mp1.startTone(ToneGenerator.TONE_DTMF_4, 120);

            }
        });
        b5.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                s = txt.getText().toString();
                txt.setText(s + "5");
                mp1.stopTone();
                mp1.startTone(ToneGenerator.TONE_DTMF_5, 120);

            }
        }); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2016-04-13T08:41:16.347

一种建议的解决方案可能是，如果您不想在静音模式下播放按键音，那么您必须检测电话铃声模式天气是否静音

```
 AudioManager audioManager = (AudioManager) context.getSystemService(Context.AUDIO_SERVICE);
        int ringerMode = audioManager.getRingerMode();

        if ((ringerMode == AudioManager.RINGER_MODE_SILENT) || (ringerMode == AudioManager.RINGER_MODE_VIBRATE))
        {
            // do nothing
        }else {

            // do something
        } 
```

# java - 每天执行 N 次作业的一个石英表达式

> ID：12669821
> 
> 赞同：1
> 
> 时间：2012-10-01T08:29:42.070
> 
> 标签：java, cron, quartz-scheduler

例如，如果我想在 3:11:00 ,16:27:00 和 18:32:00 执行作业。是否可以通过 Java 中的单个 CRON 表达式。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T08:35:50.740

我不这么认为。使用标准 CRON 表达式，您可以表示在一小时的不同分钟 ( `"0 11,27,32 3 * * ?"`- 3:11, 3:27, 3:32) 或同一分钟的不同小时 ( `"0 11 3,16,18 * * ?"`- 3:11, 16:11, 18:11) ）。但是将它们组合起来 ( `"0 11,27,32 3,16,18 * * ?"`) 会导致表达式每小时触发三次（3:11、3:27、3:32、16:11、16:27...）——这不是你想要的。

您可以做的（这是一个合法的解决方案）是定义一项工作并为其附加三个不同的触发器：

```
0 11  3 * * ?
0 27 16 * * ?
0 32 18 * * ? 
```

# jquery - 将选项添加到动态创建的选择框中

> ID：12669824
> 
> 赞同：1
> 
> 时间：2012-10-01T08:29:52.350
> 
> 标签：jquery, dynamic-data

单击创建按钮并将选项添加到这个动态创建的选择框中时，我必须创建新的选择框。我怎样才能做到这一点 ？

```
$(".create").live('click',function() {
    var dates = '<option value="2013-03-1">2013-03-1</option>\n';
    var row = '<tr>
<td>date1 - date2</td><td><select name="tarih1_single[]" class="date1"></select> - <select name="tarih2_single[]" class="date2"></select></td></tr>';

    for (i = 2; i <= 30; i++) {
        dates += '<option value="2013-03-'+i+'">2013-03-'+i+'</option>\n';  
    }
    $(".date1").append(dates);
    $(".date2").append(dates);
    $("#konaklama").append(row);
}); 
```

------ 编辑 ----- 我只更改了最后 3 行的顺序。

```
$("#konaklama").append(row);
$(".date1").append(dates);
$(".date2").append(dates); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T08:34:13.043

试试这个，首先将行添加到页面，然后附加日期：http: [//jsfiddle.net/sT3pS/](http://jsfiddle.net/sT3pS/)

UPD#1 我认为你想要这样的格式，只需添加日期标题居中的样式：http: [//jsfiddle.net/sT3pS/1/](http://jsfiddle.net/sT3pS/1/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T08:35:30.570

```
$('#select_id')
   .append ( $('<option/>')
      .attr('value', 'valueOfOption')
      .html('text of option')
   ) 
```

# java - 使用谷歌应用引擎创建一个简单的动态网站

> ID：12669827
> 
> 赞同：0
> 
> 时间：2012-10-01T08:29:58.273
> 
> 标签：java, database, google-app-engine

我想将一个简单的网站（简历网站）上传到谷歌应用引擎。我的网站是动态的，所以我需要使用数据库。我经历了各种教程，我发现谷歌云 sql 可以用于动态网站，但它花钱。所以我的问题是我如何在不支付任何费用的情况下为我的网站使用数据库。还有其他方法吗。请帮助我。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-01T08:35:27.020

[https://developers.google.com/appengine/docs/java/datastore/](https://developers.google.com/appengine/docs/java/datastore/)

然后使用 Datastore API（来自 Java、Python 或 Go）

# android - Galaxy Tab 上的 EditText 单行问题

> ID：12669830
> 
> 赞同：3
> 
> 时间：2012-10-01T08:30:08.697
> 
> 标签：android, android-layout, android-edittext, galaxy-tab

我的布局中有一个编辑/文本：

```
<EditText
                    android:id="@+id/url"
                    android:layout_width="fill_parent"
                    android:layout_height="25dp"
                    android:layout_centerVertical="true"
                    android:layout_marginLeft="5dp" 
                    android:background="@drawable/url_edit_text_bg"
                    android:ellipsize="end"
                    android:gravity="left|center_vertical"
                    android:inputType="textUri"
                    android:lines="1"
                    android:maxLines="1"
                    android:paddingLeft="5dp"
                    android:paddingRight="5dp"
                    android:scrollHorizontally="true"
                    android:selectAllOnFocus="true"
                    android:singleLine="true"
                    android:textColor="@android:color/black"
                    android:textCursorDrawable="@null"
                    android:textSize="12sp" /> 
```

但是在我的 Galaxy tab 10.1 设备上，我无法在此 EditText 的一行中看到长文本。

![在此处输入图像描述](../Images/3b16233c7e6800c72e9bc119e1f729ab.png)

此问题仅在 **Galaxy tab 10.1 和 Ideapad Tab K1**上观察到，在三星 Galaxy Note、Galaxy nexus、Nexus S、HTC Desire、Galaxy Y 等其他设备上。长 url 文本适合一行。
有几个设备会出现这个问题？
如何解决？请帮忙...
谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T10:19:39.360

为什么要给 EditText 恒定的高度？

进行以下更改：

```
android:layout_height="wrap_content" 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T12:08:30.397

这是标准行为。您可以尝试在任何浏览器中执行此操作。

# sql-server-2008 - 选择有长度问题的查询

> ID：12669831
> 
> 赞同：0
> 
> 时间：2012-10-01T08:30:12.780
> 
> 标签：sql-server-2008

> **可能重复：**
> [最有效的 T-SQL 方法将左侧的 varchar 填充到一定长度？](https://stackoverflow.com/questions/121864/most-efficient-t-sql-way-to-pad-a-varchar-on-the-left-to-a-certain-length)

我有客户表，其中客户 ID 的长度为：10，但长度为 3 或 5 的客户很少

```
ex: 
3445
34
789
7800 
```

但输出应如下所示，如果长度小于 10，我需要在此处添加前缀零

```
0000003445
0000000034
0000000789
0000007800 
```

获取此数据的脚本是：

```
select customerID from customer 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-01T08:37:14.720

试试下面的代码：

由于您使用的是 sql server 2008，因此您可以使用复制功能将零添加到值..

```
Select ltrim(right(replicate(0,10) + <column>,10)) 
from your_table 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-01T08:35:32.607

你可以这样使用...

```
SELECT RIGHT('0000000000' + RTRIM('3445'), 10) 
```

在你的情况下，

```
SELECT RIGHT('0000000000' + RTRIM(customerID), 10) AS New_CustomerID
FROM Customer 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-01T08:35:32.483

尝试这个

```
SELECT RIGHT('0000000000'+`customerID`, 10) FROM `customer` 
```

# java - 如何在 Glassfish 下运行的 JAX-WS Web 服务上查看 WSDL？

> ID：12669835
> 
> 赞同：1
> 
> 时间：2012-10-01T08:30:32.327
> 
> 标签：java, tomcat, wsdl, glassfish, jax-ws

如果我在 Glassfish 下运行 JAX-WS Web 服务，如何查看它的 WSDL？我知道我可以使用 wsgen 生成 WSDL 文件，但我想知道是否可以在 Glassfish 上拥有运行时 WSDL？

我已经尝试在 Tomcat 上运行我的 Web 服务，并且能够通过访问我在 web.xml 上指定的 URL 模式来获得运行时 WSDL。但是，由于我在 Glassfish 上的 JAX-WS Web 服务上没有 web.xml，我不确定如何访问我的 WSDL。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-01T08:40:55.117

只要您知道 Web 服务的端点 URL，您就应该能够通过附加`?wsdl`到 URL 的末尾来查看运行时 WSDL。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-09-20T22:40:39.730

1.  **启动****GlassFish**服务器（例如：从 Eclipse 中的 Servers 选项卡）。
2.  导航到**GlassFish 控制台**（例如：[http://localhost:4848/common/index.jsf](http://localhost:4848/common/index.jsf)）
3.  在左侧，单击**应用程序**
4.  在右侧，点击**项目名称**
5.  在**Modules and Components 部分**中，单击Action 列中的**View Endpoint**
6.  单击**WSDL**值（例如：`/Test/MyClassService?wsdl`- 现在您位于[http://localhost:4848/common/applications/webServiceWsdl.jsf?appName=Test&wsdl=%2FTest%2FMyClassService%3Fwsdl](http://localhost:4848/common/applications/webServiceWsdl.jsf?appName=Test&wsdl=%2FTest%2FMyClassService%3Fwsdl)）
7.  现在您可以 2 查看链接（用于**HTTP**和 HTTPS）。单击第一个（例如：[http://localhost.localdomain:8080/Test/MyClassService?wsdl](http://localhost.localdomain:8080/Test/MyClassService?wsdl)），您将看到**WSDL**文件。

# asp.net - 过滤asp.net中的Ajax组合框

> ID：12669841
> 
> 赞同：2
> 
> 时间：2012-10-01T08:30:51.663
> 
> 标签：asp.net, combobox, ajaxcontroltoolkit, filtering

我正在使用具有组合框功能的 Ajax 工具包，正在显示的项目大约是 40,000，所以我想在其上应用过滤器，以便用户在组合框中键入一个字母，并且相应的以字母“a”开头的条目将是显示在组合框中。

我可以有一个想法，我没有使用 Radcombobox，它是一个最简单的组合框。

```
<asp:ComboBox ID="AppComCombx" runat="server" 
                                CssClass="dropdownpersonal textfont" 
                                onselectedindexchanged="AppComCombx_SelectedIndexChanged" AutoPostBack="true"> 
</asp:ComboBox> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T08:50:45.897

试试这个 ：`AutoCompleteMode = "SuggestAppend"`

像这样

```
<ajaxToolkit:ComboBox ID="ComboBox1" runat="server"
     AutoPostBack="False"
     DropDownStyle="DropDownList"
     AutoCompleteMode="SuggestAppend"
     CaseSensitive="False"
     CssClass=""
     ItemInsertLocation="Append" /> 
```

欲了解更多信息，请[点击此处](http://www.asp.net/ajaxLibrary/AjaxControlToolkitSampleSite/ComboBox/ComboBox.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T10:50:11.437

使用下面的脚本添加到`ScriptManager`js 文件的引用中，并使用`Suggest`或`None`模式进行组合

```
Sys.Application.add_load(function () {
    Sys.Extended.UI.ComboBox.prototype._ensureHighlightedIndex = function () {
        // highlight an index according to textbox value
        var textBoxValue = this.get_textBoxControl().value;

        // first, check the current highlighted index
        if (this._highlightedIndex != null && this._highlightedIndex >= 0
            && this._isExactMatch(this._optionListItems[this._highlightedIndex].text, textBoxValue)) {
            return;
        }

        // need to find the correct index
        var firstMatch = -1;
        var ensured = false;
        var children = this.get_optionListControl().childNodes;

        for (var i = 0; i < this._optionListItems.length; i++) {
            var itemText = this._optionListItems[i].text;
            children[i].style.display = this._isPrefixMatch(itemText, textBoxValue) ? "list-item" : "none";

            if (!ensured && this._isExactMatch(itemText, textBoxValue)) {
                this._highlightListItem(i, true);
                ensured = true;
            }
            // if in DropDownList mode, save first match.
            else if (!ensured && firstMatch < 0 && this._highlightSuggestedItem) {
                if (this._isPrefixMatch(itemText, textBoxValue)) {
                    firstMatch = i;
                }
            }
        }

        if (!ensured) {
            this._highlightListItem(firstMatch, true);
        }
    };
}); 
```

在这种情况下，AutoCompleteExtender 是更好的选择，因为 ComboBox 将呈现页面上的所有项目

# javascript - Javascript 设置 this.value 正在改变临时变量

> ID：12669855
> 
> 赞同：0
> 
> 时间：2012-10-01T08:31:53.043
> 
> 标签：javascript, three.js

我有一个临时变量 a THREE.Veector3 ，我将其传递给对象的创建

```
object[i] = new Object(new THREE.Vector3(0,0,0)); 
```

在 Object 类中，我有一个变量纹理，我将其设置为名为 pos 的新 THREE.Vector3

```
function Object(pos){
    this.texture = new THREE.Mesh( geometry, new THREE.MeshBasicMaterial( { map:
    THREE.ImageUtils.loadTexture( '../img/img.png' ) } ) );

    this.texture.position = pos;

    this.texture.rotation.x = 0;
    this.texture.rotation.y = 1.57;
    this.texture.rotation.z = 1.57;

    this.texture.scale.x = 100;
    this.texture.scale.y = 50;
    this.texture.scale.z = 100;

    this.texture.position.y = 1000;
} 
```

我遇到的问题是我想将 pos 传递给在这个对象中创建的另一个对象。

```
object2 = new Object2(pos); 
```

然而 pos 已被修改为 1000 的 y。我不太确定为什么会发生这种情况 我阅读了一些关于传递变量的指南，但我仍然对如何修改 pos 变量感到有些困惑。任何帮助将非常感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T08:42:38.043

只需更改您的对象以始终克隆该位置

```
function Object(pos){
    this.texture = new THREE.Mesh( geometry, new THREE.MeshBasicMaterial( { map:
    THREE.ImageUtils.loadTexture( '../img/img.png' ) } ) );

    this.texture.position = pos.clone();

    this.texture.rotation.x = 0;
    this.texture.rotation.y = 1.57;
    this.texture.rotation.z = 1.57;

    this.texture.scale.x = 100;
    this.texture.scale.y = 50;
    this.texture.scale.z = 100;

    this.texture.position.y = 1000;
} 
```

# performance - WP7 , 高 CPU 使用率

> ID：12669856
> 
> 赞同：0
> 
> 时间：2012-10-01T08:31:57.047
> 
> 标签：performance, windows-phone-7, cpu

我正在构建一个 WP7 应用程序。我注意到使用性能监控工具的 CPU 利用率很高。

即使是一个简单的 hello world 应用程序也会提供高 CPU 利用率。这发生在 UI 线程中。

我们如何让应用程序使用少于 50% 的 CPU？

![在此处输入图像描述](../Images/950410cdcf5a827e75bc91fea37e626c.png)

此图像是 hello world 应用程序的图像。我们可以看到图表很容易超过 50%。这是一个值得关注的领域吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T08:57:20.640

孤立地测量应用程序的启动并在短时间内占用超过 50% 的 CPU 时间不是问题。

使应用程序使用更少（以百分比表示）CPU 时间的一种方法是确保在您启动它时，CPU 已经在其他任务上完全工作（即 100%）。然后操作系统应确保您的启动应用程序仅获得较小的 CPU 时间份额。

如果上一段让你大喊“那不是我的意思！” 好吧，我只是将它作为一个示例，说明 CPU 时间的单一测量（或大多数其他性能测量）几乎没有用作为重构或任何其他纠正措施的论据的基础。

# c# - 将此代码转换为按钮单击事件

> ID：12669857
> 
> 赞同：2
> 
> 时间：2012-10-01T08:31:56.000
> 
> 标签：c#, winforms

我想将此控制台代码转换为表单代码：

```
 public void catching(string[] args)
    {
        UdpClient udpc = new UdpClient(args[0], 2055);
        IPEndPoint ep = null;
        while (true)
        {
            Console.Write("Name: ");
            string name = Console.ReadLine();
            if (name == "") break;
            byte[] sdata = Encoding.ASCII.GetBytes(name);
            udpc.Send(sdata, sdata.Length);
            byte[] rdata = udpc.Receive(ref ep);
            string job = Encoding.ASCII.GetString(rdata);
            Console.WriteLine(job);
        }
    } 
```

我想把它放到一个按钮`click`事件中：

```
private void button1_Click(object sender, EventArgs e)
{

} 
```

但我收到这条线的错误：

```
UdpClient udpc = new UdpClient(args[0], 2055); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-01T08:37:13.423

没有`args`像控制台应用程序这样的变量。您必须为用户输入放置一个 TextBox 并使用该值。IE

```
UdpClient udpc = new UdpClient(textBox1.Text, 2055); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T08:44:01.010

```
private void button1_Click(object sender, EventArgs e)
{
     //Send the input message using a form input like RichTextBox control.
     string text = this.richTextBox1.Text;
     UdpClient udpc = new UdpClient(text, 2055);
     IPEndPoint ep = null;
     while (true)
     {
        string name = this.richTextBox2.Text;
        if (name == "") break;
        byte[] sdata = Encoding.ASCII.GetBytes(name);
        udpc.Send(sdata, sdata.Length);
        byte[] rdata = udpc.Receive(ref ep);
        string job = Encoding.ASCII.GetString(rdata);
        this.label1.Text = job;
    }
} 
```

# javascript - 在 JSP 页面中保存滚动条的位置

> ID：12669859
> 
> 赞同：0
> 
> 时间：2012-10-01T08:32:09.067
> 
> 标签：javascript, html, cookies, scrollbar

我有一个可滚动的 DIV 并在其中有一个表格。是否可以在某种类型的 onmove() 方法中捕获滚动位置，以便我可以将其放入 cookie 并在页面重新加载时将滚动条恢复到相同位置。这是我的 JSP 代码

```
 <div id="wordListTableDiv" style="overflow: auto;height: 700px; width: 320px; max-width:320px; border:2px solid black;  background-color: #FFFFF0; padding: 10px">
        <br>
        <div>    
            <br>
            <input type="button"  value="Show All" onclick="getWordList()" style="float: left;"> 
            <input type="button"  value="Hide Ignored and Good" onclick="hideIgnoredAndGoodWords();" style="float: right;"> 
        </div> 
        <br></br>

        <table id="wordListTable"  border=1 >
            <thead id="wordListTableHead"><tr>
              <th width="150">Word</th>
              <th width="150">State</th>                                  
            </tr></thead>
            <tbody><%-- Empty to begin with, filled by JavaScript. --%></tbody>
        </table>            
    </div> 
```

我拥有的 JavaScript 是

```
 function setScrollPosition()
    {
        //If the scroll position was set previously then reposition it to the old value.
        var scrollPosition = readCookie("scrollPositionCookie");
        if( scrollPosition != null )
        {
            $("#wordListTableDiv").scrollTop( scrollPosition );
        }
    } 
```

但除非我打开萤火虫并设置一个断点，它从我的 cookie 中设置滚动值，否则它总是会转到位置“0”。我认为这是一个时间问题是否正确？

请忽略问题。我发现了一个导致我的计时问题的 JSON 调用 :(

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T08:52:43.823

我创建了[这个小提琴](http://jsfiddle.net/vesteraas/PTuNL/3/)来演示如何。

# android - 存储在服务器中的位置坐标的接近警报

> ID：12669860
> 
> 赞同：2
> 
> 时间：2012-10-01T08:32:11.443
> 
> 标签：android, android-location

我是android编程的新手。我想制作一个可以根据存储在服务器中的位置坐标创建接近警报的应用程序，即将用户的当前位置与存储在服务器中的位置进行比较，并在该位置在特定半径内时生成警报。有没有办法为存储在服务器中的位置创建邻近警报？或者有没有更好的方法来解决这个问题？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-01T08:40:53.310

在android中这样做很简单。

请看看这堂课

[http://developer.android.com/reference/android/location/LocationManager.html](http://developer.android.com/reference/android/location/LocationManager.html)

特别是在这种方法：

```
 addProximityAlert(double, double, float, long, android.app.PendingIntent); 
```

这正是您所需要的。

android SDK 文档做得很好。总是看看那里！:D

# java - 找不到类通过eclipse添加jar

> ID：12669863
> 
> 赞同：1
> 
> 时间：2012-10-01T08:32:45.040
> 
> 标签：java, eclipse, class, exception, classnotfoundexception

当我使用 java spring hibernate struts2 eclipse 项目时。我使用 buildpath-> addjar 选项从工作空间内的文件夹中添加 jar。即使该类可用，它也会显示类未找到异常。

如果我将这些 jar 文件放在 web-inf/lib 文件夹中，一切正常。我应该将这些文件保存在 lib 本身中吗？我可以将这些 jar 包含在一个单独的文件夹中并使用 eclipse 配置构建路径添加 jar 吗？

问题是什么 ？请帮助我...提前谢谢...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-01T08:48:34.163

如果您使用的是标准的 Eclipse**动态 web 项目**，最好的方法是将所有的 Jars 放在`WEB-INF\lib`文件夹中。这将自动将它们添加到您的构建路径中，并在您导出它时将它们包含在您的 WAR 中。

如果您仍想在项目中使用**Build Path > Add Jar**选项，并且希望您的 Jars 也包含在您的 WAR 中，您必须转到**Project Properties > Deployment Assembly**配置并将它们包含在其中。当然，这是每个 Jar 工作量的两倍。

# iphone - sql中所做的更改是否反映在核心数据中？

> ID：12669864
> 
> 赞同：0
> 
> 时间：2012-10-01T08:32:46.090
> 
> 标签：iphone

我有 sql 以及我的应用程序中使用的核心数据。现在，如果我假设进行一些更改，使用 sql 查询更新 sql db，我已经进行了这些更新。如果我发出 fetch 请求并打印数组，我会看到相同的旧值，除非我退出应用程序并重新启动它。我无法理解这种行为。我想知道如果在 sql db 中进行了更改，那么这些更改是否反映在核心数据表中？如果没有，那么我是否必须将更新的值保存在 coredata 中，这会导致重复或冗余数据吗？这是用于更新值的代码：
我有一个包含值的数组：

```
 - (void) updateGeneraldata3 :(NSArray*) marrDataUpdate 
    {
                                                                                                   sqlite3 *database;
sqlite3_stmt *update_statement = nil;

if(sqlite3_open([strDatabasePath UTF8String], &database) == SQLITE_OK)
{
    NSString *strMQueryupdate = [NSString stringWithFormat:@"UPDATE zform_general_data1 SET zChk_Mild='%@', zChk_CTV='%@', zChk_DOA='%@',           zChk_ALS1='%@' where zautonumber='%@'",[marrDataUpdate objectAtIndex:0],[marrDataUpdate objectAtIndex:1],[marrDataUpdate objectAtIndex:2],[marrDataUpdate objectAtIndex:3],autoNumberTextField.text];

    const char *sql = [strMQueryupdate UTF8String];

    if (sqlite3_prepare_v2(database, sql, -1, &update_statement, NULL) != SQLITE_OK) {
        NSLog(@"update fails");
    }
    else
    {

        sqlite3_bind_text(update_statement, 1, [[marrDataUpdate objectAtIndex:0]  UTF8String], -1, SQLITE_TRANSIENT);
        sqlite3_bind_text(update_statement, 2, [[marrDataUpdate objectAtIndex:1]  UTF8String], -1, SQLITE_TRANSIENT);
        sqlite3_bind_text(update_statement, 3, [[marrDataUpdate objectAtIndex:2]  UTF8String], -1, SQLITE_TRANSIENT);
        sqlite3_bind_text(update_statement, 4, [[marrDataUpdate objectAtIndex:3]  UTF8String], -1, SQLITE_TRANSIENT);           
      int success = sqlite3_step(update_statement);
        sqlite3_reset(update_statement);
        if (success == SQLITE_ERROR){}
        else {}
    }
    sqlite3_finalize(update_statement);
   }
   sqlite3_close(database);   

   }
                                                                   And after update there is a background function which is executed after every 60 seconds of time .Now if i change the value of these fields on the view using the respective text fields, it updates the value in db using the above code which is also being executed after a certain interval of time  :                                                                                        

 -(void) functServerPostingData  

 {

 @try 
  {
    @autoreleasepool {

    generalDataObject = [[GeneralData alloc] init];
    generalData1_Array=[[NSArray alloc]init];
           [self checkUsedAutoNumber];
    NSError *error;
    NSManagedObjectContext *mocGeneral1 = [self managedObjectContext];
    NSEntityDescription *entityDescriptionGeneral1 = [NSEntityDescription
                                                      entityForName:@"Form_General_Data1" inManagedObjectContext:mocGeneral1];
    NSFetchRequest *requestGeneral1;

    requestGeneral1 = [[NSFetchRequest alloc] init];

    [requestGeneral1 setEntity:entityDescriptionGeneral1];

    generalData1_Array=[mocGeneral1 executeFetchRequest:requestGeneral1 error:&error];
     NSLog(@"generalData1_Array :%@",generalData1_Array);
                if(!generalData1_Array)
    {

        NSLog(@"Error fetching Login: %@", [error localizedDescription]);
        abort();

    }

    for(int i = 0; i< [generalData1_Array count]; i++)  {
        for (int j=0;j<[[strAutoNumber componentsSeparatedByString:@","] count] ; j++)
        {

            if([[[generalData1_Array objectAtIndex:i] Autonumber ] isEqualToString: [[strAutoNumber componentsSeparatedByString:@","]objectAtIndex:j]])
            {
                generalDataObject.AutoNumber=[NSString stringWithFormat:@"%@",[[generalData1_Array objectAtIndex:i] Autonumber ]]; 

                generalDataObject.Chk_Mild =[[generalData1_Array objectAtIndex:i]Chk_Mild];

                generalDataObject.Chk_CTV=[[generalData1_Array objectAtIndex:i]Chk_CTV];

                generalDataObject.Chk_PAU=[[generalData1_Array objectAtIndex:i]Chk_PAU];
                                   generalDataObject.Transient=[[generalData1_Array objectAtIndex:i]Transient];

              generalDataObject.Chk_ALS1=  [[generalData1_Array objectAtIndex:i]Chk_ALS1];

              [generalDataObject startPostServerData];
            }
        }
    }

    if (generalDataObject.checkRequest==TRUE) 
    {
        [appDelegate CheckInternetConnection];
        if(appDelegate.internetWorking==-1)
        {
        }
        else {
            serverLinkToHit = [NSString stringWithFormat:@"%@/ReceiveData.aspx?m=InsertData&t=GeneralData",[serverLinkSettings getServerLink ]];
            [generalDataObject readServerData:serverLinkToHit postServerData:generalDataObject.finalDataString];
        }

    }
    generalDataObject = nil;
        requestGeneral1=nil;
        requestGeneral2=nil;
    }
    } 
@catch (NSException *exception)
  {
    [ExceptionLog LogEntry:exception :@"Error while entering data functServerPostingData"];
 }

 } 
```

我打印了始终显示以前的旧值的数组，无论我在文本字段中输入了什么并保存在数据库中。但是，在同一个地方我打印它们更新的 sql db 的值。我应该使用 sql select 来选择值把它放在一个数组中然后发布？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T10:41:08.457

不，这不是 Core Data 的工作方式。数据库的格式没有记录，你不应该玩弄它。

我认为这里真正的问题是：为什么你认为你需要使用 SQL？看起来您只是在更新一些记录。使用“本机”核心数据非常简单。

# bash - 列出 bash 中复制的文件

> ID：12669869
> 
> 赞同：0
> 
> 时间：2012-10-01T08:33:19.143
> 
> 标签：bash

我需要将文件从一个目录复制到另一个目录（非常明显:)）但我想存储使用目标路径复制的文件列表。所以假设我有： /mnt/a/f1 /mnt/a/f2

我想将所有文件从“a”复制到根目录，所以我这样做： `cp -rv /mnt/a/* /`

cp 的输出将如下所示：

``/mnt/a/f1` -> `/f1``

``/mnt/a/f2` -> `/f2``

现在我想存储在一些文件列表中，如下所示：

`/f1`

`/f2`

有人知道我怎样才能实现这样的输出吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-01T08:35:03.037

```
cp -rv /mnt/a/* / 2>&1 | cut -d\` -f4 | tee thefile.txt 
```

像这样的东西（未经测试）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T08:43:26.897

你可以简单地使用类似的东西

```
cp -rv files dest > output_file 
```

并将所有输出重定向到一个文件，但是如果您*绝对*需要拆分它以便只有结尾，我建议您在 Ruby、Python 或 Perl 中快速编写一些东西，并将其符号链接为“verbose_cp”之类的东西。如果你真的想要，你可以在[Bash](https://stackoverflow.com/questions/918886/split-string-based-on-delimiter-in-bash)中进行拆分，但在我看来，使用具有更强字符串处理能力的语言进行拆分会容易得多。

# asp.net - 在 ASP.NET Web App 中查找内存泄漏

> ID：12669876
> 
> 赞同：9
> 
> 时间：2012-10-01T08:34:14.073
> 
> 标签：asp.net, windows, memory-leaks, iis-7

我在 WIN SERVER 2008 R2 Enterprise 64 位上以 2.53 Ghz（2 CPU）和 8GB RAM 的单个生产服务器（虚拟）上托管 7 个网站。

Web 服务器是 IIS 7，所有网站都带有 .NET Framework 4.0 应用程序池。

我当前的内存使用量约为 8GB 中的 4.16 GB，w3wp.exe 是消耗大部分内存使用量（此时约为 1.6 GB）的最大进程，其次是 sqlservr.exe（1.5 GB）使用量。

我想做的是知道7个网站中哪个网站消耗的内存最多，这样我就可以看看了。

我试过进程资源管理器和资源监视器，但它只能显示 w3wp.exe 占用了多少 rem，而不能显示单个网站的使用情况。

有没有办法可以确定内存占用者？

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2012-10-01T08:38:41.703

您可以使用 Microsoft 的[Debug Diag](http://www.microsoft.com/en-us/download/details.aspx?id=26798)工具进行内存转储。

基本流程是：

*   启动调试诊断
*   取消向导
*   单击“进程”选项卡
*   选择 w3wp
*   右键单击并选择“创建完整转储”
*   悄悄地对自己窃笑，因为你说“转储”
*   转储完成后（*再次窃笑*），单击“高级分析”选项卡
*   使用 2 Memory Pressure Analyzer 脚本来查看是否可以看到哪些对象正在使用大量内存。

我建议结合 Uri May 的回答来做这件事，否则你可能会浪费很多时间。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-01T08:38:19.320

您可以将每个网站配置为使用不同的应用程序池，这样您就可以为您托管的 7 个网站中的每个网站创建一个**w3wp.exe进程。**之后，您可以使用以下[此链接](http://blogs.msdn.com/b/jb/archive/2006/02/22/536693.aspx)中的工具通过跟踪内存消耗最大的**w3wp.exe**的 PID 来找出导致泄漏的网站。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-03-05T09:09:33.337

在 Windows 任务管理器中，您只需显示“用户”列即可查看每个 w3wp.exe 正在运行的应用程序池。这是因为每个应用程序池通常由自己的用户运行。他们让在 Windows 2012 服务器中看到这一点变得有点困难——您需要先单击“详细信息”选项卡。

# optimization - 一个简单的着色器优化案例，如果我做对了？

> ID：12669881
> 
> 赞同：3
> 
> 时间：2012-10-01T08:34:35.087
> 
> 标签：optimization, opengl, glsl, shader

在我的片段着色器中有两行如下：</p>

```
float depthExp=max(0.5,pow(depth,100.0));
gl_FragColor=vec4(depthExp*vec3(color),1); 
```

我把它“优化”成：</p>

```
if(depth<0.99309249543703590153321021688807){//0.5^(1/100.0)
    gl_FragColor=vec4(0.5*vec3(color),1);
}else{
    float depthExp=pow(depth,100.0);
    gl_FragColor=vec4(depthExp*vec3(color),1);
} 
```

我可以通过这个来提高性能吗？还是我只是违背自己的意愿做事？

* * *

我在这里给出完整的片段着色器，看看是否有机会优化它：

```
varying vec2 TexCoord;
uniform sampler2D Texture_color;
uniform sampler2D Texture_depth;
uniform sampler2D Texture_stencil;
void main() 
{ 
     float depth=texture2D(Texture_depth,TexCoord).r;
     float stencil=texture2D(Texture_stencil,TexCoord).r;
     vec4 color=texture2D(Texture_color,TexCoord); 
     if(stencil==0.0){
           gl_FragColor=color;
     }else{
           float depthExp=max(0.5,pow(depth,100.0));
           gl_FragColor=vec4(depthExp*vec3(color),1);       
     }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-01T09:53:22.450

首先，着色器中的过度分支通常不是一个好主意。在现代硬件上，只要附近的片段都采用相同的分支，它就不会太糟糕。但是，一旦本地片段包的两个片段（其大小取决于实现，可能是一个小方块，例如 4x4-8x8）采用不同的分支，GPU 实际上将不得不为数据包的**每个**片段执行**两个**分支。

 **因此，如果附近的片段可能采用相同的分支，它可能会带来一些改进。由于条件是基于深度的（尽管我猜是来自之前的渲染），并且深度缓冲区通常由具有单调深度分布的较大区域组成，因此附近的片段确实很可能进入同一个分支。并且由于对大多数片段执行优化分支（因为大多数片段将小于 0.993，由于深度缓冲区的非线性特性和较小值的更高精度，更是如此）它可能是有利可图的。但就像*Apeforce*建议的那样，最好的办法是衡量它。

但这给我带来了另一个问题。鉴于通常场景中的几乎所有片段的深度都小于 0.993，除了背景，大多数值在用 100 （`0.95^100 = 0.005`人和`0.9^100 = 0,00002`无论如何，对感知的认识并不是那么高）这个数量很可能只是将其归零。因此，如果您确实有一个标准深度缓冲区，其值来自 [0,1] （甚至可能像往常一样非线性），那么我怀疑它的实际目的是什么`pow`，如果您的问题可能有不同的解决方案.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-01T08:46:03.243

通常，您会不惜一切代价避免在着色器内部分支，您最好从一开始就保留它。我听说现代 GPU 在这方面做得更好（分支语句），你在写什么，OpenGL ES 2.0 或 OpenGL 3.2+？您使用的变化表明您正在为 OpenGL ES 编写代码？

我建议您将 fps 写到控制台（这会影响性能，但因为这两种情况都没有问题）或屏幕，首先使用原始着色器，然后是“优化”着色器，然后看看哪个帧数更高。

不过一般来说，你不能使用分支条件来优化着色器程序，这感觉真的是倒退，但这是因为硬件的行为方式。**

# sharepoint - 下载 sharepoint 2007 审核日志时出错

> ID：12669885
> 
> 赞同：0
> 
> 时间：2012-10-01T08:35:01.867
> 
> 标签：sharepoint, report, audit, sitecollection

我扩展了 sharepoint 2007 webapp（在下面使用 SSL）以使用外联网区域，并在 webapp 站点的 IIS 工具的帮助下在 IIS 中导入了自签名证书。我还可以完全控制所有区域的 webapp 用户策略，但是当从站点集合 URL 下载审核日志时，它给了我一个异常，说“对象引用未设置为对象的实例”。我们使用 Web 服务通过将其安装为基于场的解决方案来获取审核日志，并拥有一个与 Web 服务联系的 .Net 客户端。但是，我可以使用 Sharepoint Web 界面通过“站点设置”生成的 sharepoint 审计报告查看审计日志报告。知道为什么会这样吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-02T12:53:03.853

帕雷什，

您是否尝试审核 SharePoint 中发生的活动？即查看、删除、权限更改等...

如果你是，我建议你看看 logbinder.com。LOGbinder SP 产品正是这样做的。

# c# - 为了“纯粹记录”的目的，我应该在我的方法中捕获异常吗？

> ID：12669888
> 
> 赞同：4
> 
> 时间：2012-10-01T08:35:11.240
> 
> 标签：c#, java, .net, design-patterns

我应该在我的方法中捕获异常以“纯粹记录”目的，从而将错误文档封装在方法本身中，还是调用者的责任？

假设我在我的方法中调用了许多其他方法`EncryptPackage()`，包括框架方法，它们可能会引发许多异常。我将所有内容包装在`using`块中，因此无需捕获异常进行清理（或者我使用 try/finally 进行清理）。无论如何我应该捕获异常，并提供有关该方法上下文的详细信息，还是调用者方法的责任？

这是案例一：

```
[Serializable]
class TestClassException : Exception
{
    public TestClassException() : base() { }
    public TestClassException(string message) : base(message) { }
    public TestClassException(string message, Exception innerException) : base(message, innerException) { }
}

class TestClass
{
    public TestClass() { }

    public void EncryptPackage()
    {
        try
        {
            DoSomething();
            DoAnotherThing();
        }
        catch (Exception ex)
        {
            throw new TestClassException("Error occurred during package encryption", ex);
        }
    }
}

class ConsumerExample
{
    public ConsumerExample() { }

    public void DoSomeStuff()
    {
        TestClass testClass = new TestClass();

        try
        {
            testClass.EncryptPackage();
        }
        catch (TestClassException ex)
        {
            System.Windows.Forms.MessageBox.Show(ex.ToString());
        }
    }
} 
```

在此代码中，请注意该`EncryptPackage()`方法如何捕获所有可能的异常，只是为了“装饰错误文本”，并带有“在包加密期间发生错误”文本。`EncryptPackage()`这里封装了错误描述逻辑。

这是另一种技术：

```
class TestClass2
{
    public TestClass2() { }

    public void EncryptPackage()
    {
        DoSomething();
        DoAnotherThing();
    }
}

class ConsumerExample2
{
    public ConsumerExample2() { }

    public void DoSomeStuff()
    {
        TestClass testClass = new TestClass();

        try
        {
            testClass.EncryptPackage();
        }
        catch (Exception ex)
        {
            System.Windows.Forms.MessageBox.Show("Error occurred during package encryption.\r\n\r\n" + ex.ToString());
        }
    }
} 
```

在此示例中，`EncryptPackage()`不会捕获任何内容，因为调用方无论如何都会使用“包加密期间发生错误。\r\n\r\n”消息记录错误案例。

请注意，这是一个非常简化的示例，在现实世界中会有许多分层类，并且异常会通过长调用堆栈传播，那么捕获异常的方法是首选？第二种方法似乎“更干净”，因为异常是在将要发生一些“实际处理”（例如向用户显示）的层中处理的。调用堆栈信息将保存在异常对象中，因此从技术上讲，可以找出引发异常的确切位置。但是......这似乎不像第一种方法那样“记录良好”，其中每个抽象级别都将自己的描述添加到错误中，将先前的异常保留在`innerException`成员中。在这种情况下，当执行离开`TestClass`*层，它已经包含在这个类*中发生的错误的详细描述。所以这感觉是对错误处理逻辑的更好封装。

使用哪一个？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-01T08:40:26.307

[Effective Java 中](http://books.google.nl/books?id=Ft8t0S4VjmwC&pg=PA250&lpg=PA250&dq=%22item%2061%3a%20Throw%20exceptions%20appropriate%20to%20the%20abstraction%22&source=bl&ots=D3xeV9lIEm&sig=7iNJxj9_r8Vk-kmjKqzB9vVVjaU&hl=en&sa=X&ei=ZFZpUIGhOsi3hAeQ4YDIBQ&redir_esc=y#v=onepage&q=%22item%2061%3a%20Throw%20exceptions%20appropriate%20to%20the%20abstraction%22&f=false)有一个章节：

> 较高层应该捕获较低级别的异常，并在它们的位置抛出异常，这些异常可以用较高级别的抽象来解释。这个成语被称为异常翻译。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-01T09:11:13.447

我更喜欢您的第二个示例，主要是因为它可以显着减少您必须编写的错误处理代码的数量，特别是如果您正在编写自定义异常 - 对于第一个示例，您最终可能会得到很多不提供的自定义异常类很多好处（你已经有调用堆栈来告诉你异常来自哪里）。

您可能认为有一个更具描述性的错误消息很好，但谁从中受益？最终用户？您是否应该向您的用户显示异常消息（以及您将使用什么语言）？很多时候用户只需要知道发生了内部错误，他们应该放弃（重新启动），或者再试一次。你对开发者有好处吗？无论如何，您可能最终会使用您面前的源代码检查调用堆栈，因此您实际上并不需要更具描述性的消息，您可以自己查看代码此时正在做什么。

这不是一个硬性规定。大多数时候我只在顶层捕获异常，在那里我记录它们并向用户报告错误。如果您直接向用户报告异常，那么原始异常通常不会从翻译中受益，例如，如果您尝试打开一个不存在的文件，那么 System.IO.FileNotFoundException 的描述性就足够了，那么为什么要将它翻译成别的东西？你真的想对所有的异常情况做出同样的判断（“我比图书馆作者更了解，所以我要翻译他们精心设计的例外情况”）？如果我想从异常中恢复（通常是不可能的），我只会捕获较低的异常，或者，我很少想将它们转换为更具描述性的异常。

在分层架构中，在层之间转换异常是有意义的，例如，将来自数据访问层的异常捕获为适合应用层的形式，在应用层和用户界面之间也是如此，但我不这样做不知道您是否正在使用这种类型的系统。

如果您想记录您的异常，您应该使用该方法的 xml 文档中的[异常标记](http://msdn.microsoft.com/en-us/library/w1htk11d.aspx)。然后可以将其用于文档中的一般帮助文件，例如，使用[SandCastle](http://shfb.codeplex.com/)。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-01T09:58:02.350

根据上面的@Sjoerd，翻译异常，使它们处于相同的抽象级别。在您的情况下，EncryptPackage 应该翻译任何较低级别的异常本身，而不是调用者。

假设较低级别的异常来自 DB 层（例如 DBException）。调用者会期望理解 DBException 吗？答案是否定的：调用者想要加密一个包，而不是一个 DBException。出于调试目的，应将较低级别的异常链接到较高级别的异常内部。

最后，我知道 TestClassException 是一个例子，但要确保异常类清楚地描述了问题：我个人不喜欢平淡的通用异常类（除了为其他异常创建一个通用基类）。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-04T16:28:43.347

您应该尝试/捕捉一些容易区分的情况：

*   可以“从外部”调用的任何方法，例如应用的入口点、UI 事件、多线程调用等。将一些日志输出或消息放在您拥有的每一个捕获中。这将防止您的应用程序崩溃（在大多数情况下），并为您或用户提供有关如何解决问题的一些反馈。

*   当您真正可以处理异常时。这意味着您的应用可以，例如，选择辅助数据库或服务器 URL，应用不同的处理等。

*   当您想防止某些可选操作破坏主要工作流程时，例如未能删除临时文件不应导致您的流程失败。

*   可能还有其他一些地方需要尝试/捕获，但这些应该很少见

始终将错误处理与记录和/或向用户发送消息的体面方式结合起来，不要让任何异常信息消失，因为这是您获取应用程序的方式，并且“没有明显的原因”表现不佳 - 至少原因应该是变得明显。

另外 - 不要使用异常来控制您的工作流程。除非绝对没有其他方法可以做某事，否则真的不应该有任何“投掷”。

# sql-server - 在 SQL 中查询 XML 参数

> ID：12669909
> 
> 赞同：1
> 
> 时间：2012-10-01T08:36:49.390
> 
> 标签：sql-server, xml

周五下午这似乎是个好主意，但我遇到了一些麻烦。我以前没有使用过 SQL XML 查询，所以我可能只是做了一些非常愚蠢的事情。基本上我想传递一系列字符串来将表查询到存储过程中。

我考虑了一会儿，考虑使用 CSV，然后决定尝试使用 XML 来执行此操作。所以我的 XML 看起来像：

```
<Root>
  <string>value</string>
  <string>value</string>
  <string>value</string>
  <string>value</string>
</Root> 
```

我将它作为 XML 值类型传递到存储过程中：

```
CREATE PROCEDURE usp_UpdateHotelImages
    -- Add the parameters for the stored procedure here
    @hotelID int, 
    @imageIDs xml
AS
BEGIN 
```

所以我想将 XML*分解*成一个字符串表。

我的 SQL 如下所示：

```
SELECT Child.value('(string)[1]', 'varchar(200)')
FROM @imageIDs.nodes('/Root/') AS N(Child)) 
```

但我不断收到错误消息`XQuery [nodes()]: Syntax error near '<eof>', expected a "node test".`

我很可能在这里做了一些非常愚蠢的事情，所以任何帮助都将不胜感激。

**更新**

我已将其分解为一个查询以提供帮助：

```
DECLARE @imageIDs xml
SET @imageIDs = '<Root>
  <string>value</string>
  <string>value</string>
  <string>value</string>
  <string>value</string>
</Root>'

SELECT Child.value('(string)[1]', 'varchar(200)')
        FROM @imageIDs.nodes('/Root/') AS N(Child) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-01T08:41:09.397

问题是`/`节点函数中的最后一个问题。

```
SELECT Child.value('(string)[1]', 'varchar(200)') 
FROM @imageIDs.nodes('/Root') AS N(Child) 
```

或者

```
SELECT Child.value('(.)[1]', 'varchar(200)') 
FROM @imageIDs.nodes('/Root/*') AS N(Child) 
```

取决于您要达到的目标。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-01T08:42:51.487

该错误是由于`/`节点表达式中的尾随。它应该只是`/Root`。

顺便说一句，我认为您正在寻找一个`SELECT`将值作为表格返回，这是通过以下方式实现的：

```
DECLARE @imageIDs XML

SELECT @imageIDs = '
<Root>
  <string>value</string>
  <string>value2</string>
  <string>value3</string>
  <string>value4</string>
</Root>'

SELECT 
    Child.value('(.)[1]', 'varchar(200)')
FROM @imageIDs.nodes('/Root/string') AS N(Child) 
```

结果：

```
value
value2
value3
value4

(4 row(s) affected) 
```

# batch-file - 如何停止使用 .vbs 脚本开始在后台运行的批处理文件

> ID：12669922
> 
> 赞同：1
> 
> 时间：2012-10-01T08:37:54.883
> 
> 标签：batch-file, vbscript, scheduled-tasks

我有一个文件 invisible.vbs 有以下脚本

```
Set WshShell = WScript.CreateObject("WScript.Shell")
obj = WshShell.Run("e:\abc.bat", 0)
set WshShell = Nothing 
```

`abc.bat`有以下脚本

```
:loop
EVENTCREATE /T ERROR /L APPLICATION /ID 100 /D "This is  test message."
ping localhost -n 21 > nul
goto loop 
```

现在我想`abc.bat`手动停止，但问题是如何？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-01T12:12:15.003

答案是：视情况而定。你想手动停止它一次吗？在这种情况下，请使用@BaliC 已经给出的答案。

如果您想在脚本中添加一个选项以允许终止后台循环，您将需要这样的东西[，](https://stackoverflow.com/a/12600633/1630171)并且您需要通过[`Exec()`](http://msdn.microsoft.com/en-us/library/2f38xsxe%28v=vs.84%29.aspx)而不是通过生成后台进程`Run()`。这样你就可以保留一个句柄来终止进程：

```
Set sh = CreateObject("WScript.Shell")
Set p = sh.Exec("%COMSPEC% /c e:\abc.bat")

' IE dialog creation goes here

Do While p.Status = 0
  WScript.Sleep 100
  If ie.document.all("continue").Value = "no" Then p.Terminate
Loop 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-02T04:40:37.297

要从`.bat`文件中执行此操作，请首先将其添加到`abc.bat`：

```
 TITLE=KILLME 
```

然后运行这个命令：

```
taskkill /fi "windowtitle eq KILLME" 
```

您可以将标题设置为您想要的任何内容。KILLME 只是一个例子。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-01T08:39:44.623

进入任务管理器并结束`cmd.exe`进程。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-12-27T11:31:24.357

如果你在命令提示符下打开它，你可以按**CTRL** + **C**。等待几秒钟，它将终止。

# php - 如何使用 .htaccess 进行简单的 url 重写

> ID：12669925
> 
> 赞同：0
> 
> 时间：2012-10-01T08:38:09.897
> 
> 标签：php, .htaccess, redirect, url-rewriting

.htaccess 文件位于我的本地计算机中，路径为 localhost/test/

如何编写重定向网址，例如

```
localhost/test/errorsample 
```

到

```
localhost/test/index.php?req_dir=$var 
```

在我的 index.php

```
<?php
    echo ($_GET['req_dir']);
?> 
```

所以它应该显示`errorsample`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T09:00:58.897

```
RewriteRule ^test/(.*)$ /test/index.php?req_dir=$1 [L,QSA] 
```

但这取决于 .htaccess 文件中的其他规则，因此在您的情况下，如果不更改其他规则，它可能无法正常工作。

规则解释：`(.*)`匹配之后的所有内容，`test/`并被捕获到重写变量$1中。

如果您想要 302 重定向（即服务器告诉浏览器改用不同的文件），请`[L,R,QSA]`改用。通常重写比重定向更好，因为重定向会在地址栏中显示重写的 url。如果您担心规范页面（一种 SEO 技术），则 302 重定向到规范页面比直接重写要好。

# sql - Access SQL：如何从 2 个表中检索所有记录（无论它们在另一个表中没有记录）

> ID：12669933
> 
> 赞同：0
> 
> 时间：2012-10-01T08:38:45.647
> 
> 标签：sql, ms-access

我正在创建库存报告主要是为了显示当前数量、从客户保留的数量总和以及可用的总数量。

因为我使用了 LEFT JOIN 和 RIGHT JOIN 但它无法工作，所以我正在考虑 UNION 函数但我无法使其工作。请你帮助我好吗。非常感谢。

```
tbl_inventory
inv_id | pd_id | inv_qty_act |  inv_date | inv_note
 1     |  001  |  120        |  20-Sep-12| 
 2     |  003  |  387        |  1-Oct-12 |

tbl_reserve
res_id | cust_id | res_date | res_duedate | pd_id | res_qty | if_sent | res_note
 3     |  10     | 01-Oct-12|   17-Oct-12 |  001  |  135    |         | 
 4     |  9      | 01-Oct-12|   24-Oct-12 |  001  |  253    |         |
 5     |  22     | 01-Oct-12|   17-Oct-12 |  001  |  132    |         | 
 6     |  2      | 01-Oct-12|   24-Oct-12 |  002  |  446    |         | 

tbl_product
pd_id  | pd_name 
  001  |  des1
  002  |  des2
  003  |  des3

tbl_pdtn_startup
pdtn_st_id | pd_id | pdtn_qty_est
2         |  002  |  200
3         |  003  |  100 
```

我想要的输出：

```
 pd_id| pd_name| inv_qty_act|pdtn_qty_est| Sum(res_qty)| Total[(inv_qty_est) - Sum(res_qty)]
  001 | des1   |    120     |   0        |   520       |     -400 -->(120-520)
  002 | des2   |     0      |   200      |   446       |     -446 -->(0-446)
  003 | des3   |    387     |   100      |     0       |      387 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-01T13:34:19.250

那这个呢？

```
SELECT
    tbl_product.pd_id,
    tbl_product.pd_name,
    ( SELECT Sum(inv_qty_act) FROM tbl_inventory AS t1
      WHERE t1.pd_id=tbl_product.pd_id) AS SumOfinv_qty_act,
    ( SELECT Sum(pdtn_qty_est) FROM tbl_pdtn_startup AS t2
      WHERE t2.pd_id =tbl_product.pd_id) AS SumOfpdtn_qty_est,
    ( SELECT Sum(res_qty) FROM tbl_reserve AS t3
      WHERE t3.pd_id=tbl_product.pd_id) AS SumOfres_qty,
    IIF(ISNULL([SumOfinv_qty_act]),0,[SumOfinv_qty_act])-
      IIF(ISNULL([SumOfres_qty]),0,[SumOfres_qty]) AS Total
FROM
    tbl_product; 
```

# javascript - 使用 css 或 jquery 自定义鼠标指针

> ID：12669936
> 
> 赞同：0
> 
> 时间：2012-10-01T08:39:02.020
> 
> 标签：javascript, jquery, html, css

当 div:hover 使用我自己的 png 图标处于活动状态时，我想更改 div 鼠标指针图标。我怎么能用 css、jquery、javasript 做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T08:40:52.920

使用 CSS ：

```
#yourDivId:hover {
   cursor:url('yourPath.png'), crosshair;
} 
```

请注意，最好提供回退（用逗号分隔值）。如果不能使用这里`crosshair`将使用。`yourPath.png`

# python - cx_冻结。安装后如何安装服务和执行脚本

> ID：12669938
> 
> 赞同：9
> 
> 时间：2012-10-01T08:39:09.217
> 
> 标签：python, cx-freeze

我为客户编写了让脚本。为了不安装 python 和依赖包，我使用 cx-freeze 将所有文件打包成 3 个 exe 文件。首先 - winservice，谁做大部分工作。第二 - 设置向导。第三 - 与 winservice 合作的客户。面对任务，需要在安装包（使用 bdist_msi 制作）后在系统中注册服务，并运行向导。怎么做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2016-03-27T12:33:59.643

我认为如果您没有证书，那是不可能的。

# javascript - 无法从控制器发送数据以在 codeIgniter 项目中查看

> ID：12669940
> 
> 赞同：0
> 
> 时间：2012-10-01T08:39:14.893
> 
> 标签：javascript, mysql, codeigniter

我正在尝试将数据从我的控制器发送到视图。这是我的做法： 在控制器中：

```
function getAllProjects() 
    {
      $where= array('id_user'=>$this->session->userdata('id_user'));
      $result=$this->expenses_model->get_all('projets', $where);//get_all returns an array
      echo json_encode ($result);
      return $result;
    }

function index (){
                       $data['all_projects']= $this->getAllProjects();
                       $this->session->set_userdata('id_user', 28);
                       $this->load->view('layout/public/header');
                       $this->load->view('content/public/profil/modules/expenses',$data);
                       $this->load->view('layout/public/footer');
                     } 
```

echo json_encode $data 在控制器中返回正确的结果），但我不知道如何在视图中显示它。我试过了：（在视图中）

```
<label><strong>Sur le projet</strong></label>
       <select class="span4" id="projet" name="projet">
    <?php 
        if (isset($all_projects) && ! empty($all_projects))
            {  echo "there is some projects"; //is not printed
            foreach ($all_projects as $project){
            echo  "<option value=".$project['id_projet'].">".$project['titre']."</option>";   }
           else  {
                 echo "<option value='0'>No projects</option>";
                               } 
```

但它在下拉列表“项目”中没有显示任何内容我做错了什么？有人可以帮我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T17:39:20.393

`mysql_query()`返回一个*资源*，您将其`$this->load->view();`作为第二个参数传递给。如果你深入研究底层的 CodeIgniter 源码，你会发现 CodeIgniter 不知道如何处理资源作为这个参数——只有数组和对象。

请不要使用`mysql_query()`它的朋友。根据[PHP 官方文档](http://php.net/manual/en/function.mysql-query.php)：

> 不鼓励使用此扩展程序。相反，应该使用 MySQLi 或 PDO_MySQL 扩展。

更重要的是，如果您在 PHP 上使用 CodeIgniter，请结合使用[数据库类和](http://codeigniter.com/user_guide/database/index.html)[活动记录类](http://codeigniter.com/user_guide/database/active_record.html)来执行数据库查询。地狱，甚至使用[Datamapper ORM](http://datamapper.wanwizard.eu/) - 请不要使用`mysql_query()`或朋友。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-02T08:54:39.817

我像这样更改了 foreach 并且它起作用了：

```
foreach ($all_projects as $project)
    {
            echo  "<option value=".$project->id_projet.">".$project->titre."</option>";
                                    } 
```

谢谢您的回答

# git - 一个目录中的 2 个 git 存储库

> ID：12669944
> 
> 赞同：1
> 
> 时间：2012-10-01T08:39:37.210
> 
> 标签：git, joomla, github

例如，有 joomla-cms 存储库。它有这样的结构

```
root
   administrator
   components
   media
   library 
```

现在我进来看看如何为 joomla 创建扩展，同时从 repo 获得最新的 Joomla 版本。和结构是这样的。

```
root
   administrator
   components 
```

它只在 joomla repo 中添加新文件夹，但在许多不同的文件夹中。甚至更多我的扩展有一半的文件是免费版本的公开文件和一半的付费版本的私人仓库。这是一个不同的回购。我希望所有这些都在我的 PC 上的一个 Joomla 安装中。

那么我如何设置可以更新所有存储库？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T09:07:21.513

也许这个解决方案适合你：

[http://git-scm.com/book/en/Git-Tools-Submodules](http://git-scm.com/book/en/Git-Tools-Submodules)

它允许您拥有一个项目存储库，并且内部有子存储库，这些子存储库本身是独立的存储库，但项目存储库连接到这些子存储库。

# java - 用于迭代地图的 Intellij IDEA 实时模板

> ID：12669948
> 
> 赞同：18
> 
> 时间：2012-10-01T08:39:58.380
> 
> 标签：java, intellij-idea, keyboard-shortcuts, code-snippets

`Ctrl`我们可以通过按++轻松地遍历`Alt`集合`T`，![](../Images/e1def17d3d1415354a80b958e96daf38.png)

然后我想创建这样的模板来遍历地图：我将这些行写到*模板文本*框中：

```
for (Map.Entry<$ELEMENT_TYPE$> $VAR$ : $SELECTION$.entrySet()) {
  $END$
} 
```

现在它正在生成这些代码：

```
 HashMap<String,Object> map=new HashMap<String,Object>();
    for (Map.Entry<Object> objectEntry : map.entrySet()) {

    } 
```

`Map.Entry<Object>`应该是`Map.Entry<String,Object>`。我找不到正确引入变量的方法。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：46
> 
> 时间：2012-10-01T08:52:54.913

如果您只键入`iter`然后，会更容易`Tab`。

你会得到一个下拉菜单，你可以在那里选择`map.entrySet()`，它会给你：

```
for (Map.Entry<String, Object> stringObjectEntry : map.entrySet()) {

} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-07-29T09:14:01.570

要查看可用的实时模板列表：`Ctrl + J`然后`Tab`.

从那里您将获得实时模板列表，**iter**（对于每个循环）将在列表中。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-01-20T12:46:38.373

我写了这个，它在 1 步中起作用。我也喜欢里面已经有了`key`and `value`，但是可以省略：

```
for (Map.Entry<$KEY_TYPE$, $VALUE_TYPE$> $PAIR$ : $ITERABLE_TYPE$.entrySet()) {
    $KEY_TYPE$ key = $PAIR$.getKey();
    $VALUE_TYPE$ value = $PAIR$.getValue();
    $END$
} 
```

变量：

*   KEY_TYPE：`guessElementType(iterableVariable())`
*   值类型：`regularExpression(typeOfVariable(ITERABLE_TYPE),"^.*,(.*)>$", "$1")`
*   一对：`suggestVariableName()`
*   ITERABLE_TYPE：`variableOfType("java.util.Map")`

[大量的变量和函数](https://www.jetbrains.com/help/idea/template-variables.html)使Live Templates 成为一个强大的工具。在 VALUE_TYPE 中，我使用正则表达式来`ValueType`输出`Map<KeyType, ValueType>`. 我尝试了很多“更清洁”的方法，但都没有奏效。

# c# - 如何在 Windows Phone 中下载 JSON

> ID：12669951
> 
> 赞同：1
> 
> 时间：2012-10-01T08:40:12.530
> 
> 标签：c#, json, windows-phone-7, webclient, json.net

我正在尝试在我的 Windows Phone 应用程序中下载 JSON，然后对其进行解析。通过互联网搜索，我发现上面的代码应该可以正常工作：

```
using (WebClient wc = new WebClient())
{
    string result = wc.DownloadString("http://data.nature.com/sparql");
} 
```

但在我的 Windows 手机应用程序中，我无法分配`wc.DownloadStringAsync()`给字符串类型变量。

我的代码：

```
WebClient webClient = new WebClient();
        webClient.DownloadStringAsync(new Uri("http://184.22.234.221/bfunction/mjson.php"));
        var container = DeserializeFromJson<DataJsonAttributeContainer>(JsonStr); 
```

在这里，JsonStr 是我要分配下载的 JSON 数据的字符串。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-01T09:30:57.203

```
WebClient webClient = new WebClient();
webClient.DownloadStringCompleted += new DownloadStringCompletedEventHandler(webClient_DownloadStringCompleted);
webClient.DownloadStringAsync(new Uri("http://184.22.234.221/bfunction/mjson.php")); 
```

你的 DownloadStringCompleted 处理程序是

```
void webClient_DownloadStringCompleted(object sender, DownloadStringCompletedEventArgs e)
    {
        var container = DeserializeFromJson<DataJsonAttributeContainer>(e.Result); 
    } 
```

# sql - J2ME 连接本地主机 nullpointerexception 0

> ID：12669953
> 
> 赞同：1
> 
> 时间：2012-10-01T08:40:27.430
> 
> 标签：sql, database, java-me, localhost, midp

我正在尝试连接本地主机并通过 j2me 应用程序将数据插入数据库。但是当我连接服务器时，它显示有一个 nullpointerexception 0 错误。

这是中间代码

```
import java.io.DataOutputStream;
import java.io.InputStream;
import javax.microedition.io.HttpConnection;
import javax.microedition.lcdui.Command;
import javax.microedition.lcdui.CommandListener;
import javax.microedition.lcdui.Display;
import javax.microedition.lcdui.Displayable;
import javax.microedition.lcdui.Form;
import javax.microedition.lcdui.StringItem;
import javax.microedition.midlet.*;

public class Midlet_1 extends MIDlet implements CommandListener {

Display mdDisplay;
Form mForm;
StringItem messageitem;
Command exit, connectCommand;

public Midlet_1() {

    mForm = new Form("My Counter midlet");
    messageitem = new StringItem(null, "");
    exit = new Command("Exit", Command.EXIT, 0);
    connectCommand = new Command("Connect", Command.SCREEN, 0);
    mForm.append(messageitem);
    mForm.addCommand(exit);
    mForm.addCommand(connectCommand);
    mForm.setCommandListener(this);

}

public void startApp() {

    mdDisplay = Display.getDisplay(this);
    mdDisplay.setCurrent(mForm);

}

public void pauseApp() {
}

public void destroyApp(boolean unconditional) {
}

public void commandAction(Command c, Displayable d) {
    if (c == exit) {
        notifyDestroyed();
    } else if (c == connectCommand) {
        Form waitform = new Form("Waiting");
        mdDisplay.setCurrent(waitform);
        Thread t = new Thread() {

            public void run() {
                connect();
            }
        };
        t.start();
    }
}

private void connect() {
    try {
        HttpConnection hs = null;
        InputStream in = null;
        String url = "localhost:8080/testweb/src/save";

        hs.setRequestProperty("User-Agent", "Profile/MIDP-2.0,Configuration/CLDC-2.0");
        hs.setRequestProperty("Content-Language", "en-US");
        hs.setRequestMethod(HttpConnection.POST);
        DataOutputStream ds = hs.openDataOutputStream();
        ds.writeUTF("nam56");
        ds.writeUTF("67");
        ds.writeUTF("0716522549");
        ds.flush();
        ds.close();

        in = hs.openInputStream();
        int connectlength = (int) hs.getLength();
        byte[] raw = new byte[connectlength];
        int length = in.read(raw);
//            int ch;
//            StringBuffer sb=new StringBuffer();
//            while((ch=in.read())!=-1){
//            sb.append((char)ch);
//            }
        in.close();
        hs.close();
        String s = new String(raw, 0, length);
        messageitem.setText(s);
    } catch (Exception e) {
        messageitem.setText(e.toString());
        System.out.println(e);
    }
    mdDisplay.setCurrent(mForm);
    }
} 
```

这是servlet代码

```
 protected void processRequest(HttpServletRequest request, HttpServletResponse       response)
        throws ServletException, IOException, ClassNotFoundException, SQLException {
    response.setContentType("text/html;charset=UTF-8");
    PrintWriter out = response.getWriter();
    try {
        DataInputStream in=new DataInputStream(request.getInputStream());
        String name=in.readUTF();
        String id=in.readUTF();
        String contt=in.readUTF();

        Connection c=DBcon.setconConnection();
        Statement s=c.createStatement();
        s.executeUpdate("insert into details values('"+id+"','"+name+"''"+contt+"')");
        out.print("successfullllll");

    } finally {            
        out.close();

    }
} 
```

请检查一下......

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-15T09:25:21.650

在您的 connect() 方法中，我可以看到您将 hs 初始化为 null，然后您调用了 setRequestProperty。尝试在调用其方法之前正确初始化 hs。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-01T16:51:29.793

仅当您在与服务器相同的机器上运行模拟器时，这可能才有效。尝试替换`locahost`为`127.0.0.1`.

# android - 调用 notifyDataSetChanged 时更改了 GridView 顺序

> ID：12669956
> 
> 赞同：0
> 
> 时间：2012-10-01T08:40:40.060
> 
> 标签：android, gridview

我想在 android 中使用 GridView 创建一个月历。这是我的代码：（对不起我的命名）活动类：

```
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_month_calendar);

    GridView calendar = (GridView) findViewById(R.id.month_view);
    final List<Item> items = new ArrayList<Item>();
    Item item;
    for (int i = 0; i < 42; i++) {
        item = new Item();
        item.setDay(String.valueOf(i + 1));
        items.add(item);
    }

    List<String> yoteis = new ArrayList<String>();
    yoteis.add("Go to beach");
    items.get(15).setYotei(yoteis);

    final MonthCalendarAdapter adapter = new MonthCalendarAdapter(this, items); 
    calendar.setAdapter(adapter);

    calendar.setOnItemClickListener(new OnItemClickListener() {

        @Override
        public void onItemClick(AdapterView<?> parent, View view, int pos,
                long id) {
            Toast.makeText(MonthCalendarActivity.this, "" + pos, Toast.LENGTH_SHORT).show();    
            List<String> newYoteis = new ArrayList<String>();
            newYoteis.add("new yotei");             
            items.get(pos).setYotei(newYoteis);
            adapter.notifyDataSetChanged();
        }

    });
} 
```

适配器：

```
List<Item> items;
Context mContext;
public MonthCalendarAdapter(Context context,
        List<Item> objects) {
    super(context, 0, objects);
    mContext = context;
    items = objects;
}

@Override
public long getItemId(int position) {
    return position;
}

@Override
public View getView(int position, View convertView, ViewGroup parent) {
    MonthCell cell;
    LayoutParams params = new GridView.LayoutParams(65,80);
    if(convertView == null) {
        cell = new MonthCell(mContext, items.get(position));
        cell.setLayoutParams(params);
        cell.setScaleType(ImageView.ScaleType.CENTER_CROP);
    }else {
        convertView.setLayoutParams(params);
        cell = (MonthCell) convertView;
    }

    return cell;
} 
```

MonthCell 类：

```
public class MonthCell extends ImageView {

    Paint paint;
    Item item;
    public MonthCell(Context context) {
        super(context);
        paint = new Paint();
    }

    public MonthCell(Context context, Item item) {
        this(context);      
        this.item = item;

    }   

    @Override
    protected void onDraw(Canvas canvas) {
        super.onDraw(canvas);
        paint.setColor(Color.rgb(0, 176, 240));
        canvas.drawText(item.getDay(), 10, 20, paint);

        List<String> yoteis = item.getYotei();
        if(yoteis != null) {
            if(!yoteis.isEmpty()) {
                setBackgroundResource(R.drawable.cell);

                paint.setColor(Color.rgb(255, 124, 128));
                for(int i = 0; i < yoteis.size(); i++) {
                    canvas.drawText(yoteis.get(i), 10, 20 * (i + 2), paint);
                }
            }
        }
    }   
} 
```

第一次加载Activity，画面是这样的：

1 2 3 4 5 6 7

8 9 10 ....

但是当我点击日历时，顺序变成了这样：

42 41 40 39 ....

……

7 6 5 4 3 2 1

（对不起，我不能上传图片，因为我没有足够的声誉） 谁能向我解释为什么会发生这种情况以及如何解决它。提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T08:48:35.757

我认为这是由于 convertView 的使用不正确。可以使用以下 getView 代码轻松验证此假设

```
public View getView(int position, View convertView, ViewGroup parent) {
  MonthCell cell;
  LayoutParams params = new GridView.LayoutParams(65,80);
  cell = new MonthCell(mContext, items.get(position));
  cell.setLayoutParams(params);
  cell.setScaleType(ImageView.ScaleType.CENTER_CROP);
  return cell;
} 
```

您不能假设请求“位置”时传递的转换视图包含“位置”处的项目。您必须再次正确初始化 convertView。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-01T09:41:03.447

我认为问题发生在这里

```
 if(convertView == null) {
    cell = new MonthCell(mContext, items.get(position));
    cell.setLayoutParams(params);
    cell.setScaleType(ImageView.ScaleType.CENTER_CROP);
}else {
    convertView.setLayoutParams(params);
    cell = (MonthCell) convertView;
} 
```

尝试像这样修改：

```
 if(convertView == null) {
       convertView = new MonthCell(mContext, null);
       ((MonthCell)convertView).setLayoutParams(params);
       ((MonthCell)convertView).setScaleType(ImageView.ScaleType.CENTER_CROP);
    }
    ((MonthCell)convertView).setItem(items.get(position)); 
```

同样在您的自定义视图中`MonthCell`，您应该为该字段生成吸气剂`item`

# linux - Apache 不断请求 401 授权

> ID：12669957
> 
> 赞同：1
> 
> 时间：2012-10-01T08:40:47.150
> 
> 标签：linux, apache, ubuntu

我遇到了一个以前从未遇到过的奇怪问题。我刚刚安装了 Linux（它是一个鲜为人知的基于 Ubuntu 的 linux 版本，用于一个狭窄的行业领域，我希望它本身并不重要）。我已经安装了 Apache。每次我试图打开

```
http://localhost 
```

（本地）我得到 401 Authorization required 响应。

我的 /etc/apache2/sites-enabled/000-default 是：

```
<VirtualHost *:80>
    ServerAdmin webmaster@localhost

    DocumentRoot /var/www
    <Directory />
            Options Indexes FollowSymLinks MultiViews
            AllowOverride All
            Order Allow,Deny
            allow from all
    </Directory>

    ErrorLog /var/log/apache2/error.log

    # Possible values include: debug, info, notice, warn, error, crit,
    # alert, emerg.
    LogLevel debug

    CustomLog /var/log/apache2/access.log combined
</VirtualHost> 
```

/var/www 目录不包含任何 .htaccess 文件。/etc/apache2/apache2.conf 配置文件不包含任何包含文本“auth”的内容。

/var/www 的文件权限是：drwxrwxrwx，root:www（所有者用户 - root，组 www）。apache 用户“www-data”是组“www”的成员。索引文件 /var/www/index.html 具有相同的权限。

/etc/apache2/mods-enabled/ 的内容如下：

```
alias.conf            authz_user.load  dir.load          php5.load
alias.load            autoindex.conf   env.load          setenvif.conf
auth_basic.load       autoindex.load   mime.conf         setenvif.load
authn_file.load       cgi.load         mime.load         status.conf
authz_default.load    deflate.conf     negotiation.conf  status.load
authz_groupfile.load  deflate.load     negotiation.load
authz_host.load       dir.conf         php5.conf 
```

内置模块（/usr/sbin/apache2 -l）：

```
core.c
mod_authn_pam.c
mod_auth_basic.c
mod_log_config.c
mod_logio.c
prefork.c
http_core.c
mod_so.c 
```

有趣的是，如果我添加以下行：

```
Satisfy Any 
```

到 /etc/apache2/sites-enabled/000-default 文件中的 <Directory /> 部分，每个请求都会在 Apache 的错误日志中生成以下错误：

```
[Mon Oct 01 12:34:59 2012] [notice] child pid 4445 exit signal Segmentation fault (11) 
```

Apache什么也不返回，只是关闭了连接。

我完全迷失了，是什么让 Apache 要求授权，甚至不知道如何调试它。为日志文件启用调试级别不会在 access.log 和 error.log 中显示任何内容。任何帮助或指导将不胜感激。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-03T08:07:37.443

最后我联系了这个 Linux 供应商，结果发现这个特定的 Linux 版本是内置的，Apache 授权无法关闭，所以除了删除 apache 包并替换它们之外，没有任何方法可以关闭它与其他人。

# mysql - 通过 CSV 将 JSON 字符串导入 MySQL。是好是坏？

> ID：12669958
> 
> 赞同：0
> 
> 时间：2012-10-01T08:40:49.793
> 
> 标签：mysql, arrays, json, csv, import

我正坐在将 CSV 导入数据库的过程中，试图想办法在无需更改 API（添加新字段）的情况下添加更多数据。

由于在客户端上使用 JSON 相当多，我正在考虑将数据作为 JSON 字符串存储到 MYSQL 中。所以如果我有一个领域

```
 image_filenames 
```

我目前在哪里存储这样的数据：

```
 img123.jpg 
```

将多个图像存储在 JSON 数组中是否有意义，如下所示：

```
 {"img_base":"img123.jpg", "img_alt_1":"img123-1.jpg", "img_alt_2":"img123-2" } 
```

我可以反序列化服务器端，因此从 JSON 数组中获取我需要的图像并不是什么大问题，同时它不会使 API 膨胀。

**问题：**
我在使用 JSON 字符串导入 CSV 时根本找不到任何东西。那么，这样做有什么好处和坏处呢？是否存在安全问题（SQL 注入）？

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T10:29:22.340

从评论转移到这里：

如果您的数据模型方案发生变化或不一致，那么关系数据库存储就不是最佳选择。当然，您可以将其序列化并存储为二进制字符串，但为什么呢？IMO，我不是 NoSQL 的粉丝，但 MongoDB 看起来像是你可以使用的东西。它的文档方案是基于 JSON 的，如果您每天都使用基于 JSON 的代码，您会很熟悉它。我会用它来存储数据而不是关系数据库。

非关系型的工作较少，因此在某些情况下工作得更快。他们也没有方案，因此没有这样的`alter table`声明，因此您可以根据需要添加“列”。如果您没有关系并且需要一些东西来以 JSON 格式存储数据，但它可以是可搜索的 - MongoDB 会很棒。

# url - 使用旧版本的 N2CMS，如何使用 .no 代替 /no 来更改语言？

> ID：12669968
> 
> 赞同：0
> 
> 时间：2012-10-01T08:41:46.380
> 
> 标签：url, hostname, n2cms

我正在使用的项目使用的是旧版本（v.2.1.0.1）的 N2CMS。

首先，我想避免升级到最新的 N2 版本，不是因为我不喜欢新东西（因为我喜欢），而是因为我使用的是这么旧的版本，尝试升级它需要花费很多精力如果有办法以更省时的方式解决这个问题，那么我需要这样做。

我需要做的是启用 url 来设置网站的语言根，并让它不仅依赖于 /lang。例如，我希望我的 website.se 指向 /sv，我的 website.no 指向 /no。现在 .se 是默认的，所以无论 URL 是什么，显示的语言都是瑞典语。扭曲是，我需要这样做的原因是，我从另一个数据库加载数据并将其显示在站点、类别和产品列表（例如 /keyrings）上。这些东西在 url 中没有 /sv 或 /no。这里的结果是，即使我得到 /no 与 .no url 一起工作，只要我单击该列表中没有 url 中的语言代码的项目，我就会自动被重定向到默认的瑞典语言根。所以我想完全依赖 URL 而不是 /lang 的 N2CMS 语言根。

在这个版本中，我有一个起始页，在起始页下我有语言根。每个语言根都可以选择输入 URI 名称，在我的例子中，我有瑞典语和挪威语，所以是 /sv 和 /no。该站点的示例可能如下所示：/sv/om-oss，挪威的方式是/no/om-oss。在以后的版本中（我用于其他和较新的项目）我只有起始页，在它的设置中我可以输入主机名，这就是我想要的网站（不一定在 N2CMS 中可以更改，它更容易只需将其编码）。

有没有人有这方面的经验，或者在这类事情上比我有更深的知识？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-02T19:57:40.987

仅作记录，这个问题得到了解决[http://n2cms.codeplex.com/discussions/397494](http://n2cms.codeplex.com/discussions/397494)

# performance - 是什么让 eventlet 和 gevent 之间的性能有显着差异？

> ID：12669971
> 
> 赞同：20
> 
> 时间：2012-10-01T08:41:49.797
> 
> 标签：performance, wsgi, asyncsocket, gevent, eventlet

因此，这两个库具有相似的理念和相似的设计决策。但是[这个流行的 WSGI 基准测试](http://nichol.as/benchmark-of-python-web-servers)说`eventlet`比`gevent`. 是什么让他们的表现如此不同？

据我所知，它们之间的主要区别是：

*   `gevent`有意依赖并耦合到`libev`( `libevent`, 之前的)，同时`eventlet`定义了独立的反应器接口并使用 , 和 Twisted reactor 实现特定`select`的`epoll`适配器。*额外的反应器接口是否会影响关键性能？*

*   `gevent`主要用 Cython 编写，而`eventlet`用纯 Python 编写。*对于计算量不大但受 IO 限制的程序，本机编译的 Cython 是否比纯 Python 更快？*

*   `gevent`模拟标准库接口的原语，而的`eventlet`原语与标准不同，并提供额外的层来模拟它。*额外的仿真层会`eventlet`变慢吗？*

*   *只是执行`eventlet.wsgi`比差`gevent.pywsgi`吗？*

我真的很想知道，因为它们对我来说总体上看起来很相似。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-10-04T01:25:26.830

好吧，gevent 不是“主要”用 Cython 编写的，尽管一些关键部分是。

Cython 有很大的不同。处理器优化在编译代码上效果更好。例如，分支预测在基于 VM 的系统中分崩离析，因为在 VM 执行级别的分支的间接性对它是不透明的。缓存占用空间更小。编译后的代码在这里有很大的不同，IO 对延迟非常敏感。

同样，libev 也非常快。同样的原因。

似乎 eventlet 不应该使用选择集线器（Python 2.6 通常默认为 epoll）。但是，如果它卡在 select 上，那将使它变得*非常*慢（因为 Python 必须将 select fd_set 来回转换为 Python 列表，因此当它处于循环中间时会变得很难看）。

我没有进行任何分析，但我愿意打赌 libev / libevent 加上 Cython 会产生很大的不同。值得注意的是，一些线程原语在 Cython in gevent 中。这很重要，因为很多代码通过 IO 间接接触它们，甚至在某些地方甚至是标准库。

至于 eventlet 的附加仿真层，似乎确实有更多的弹性。在 gevent 中，代码路径似乎构造了回调并让集线器调用它们。eventlet 似乎完成了集线器在 gevent 中所做的更多簿记工作。不过，我还没有对它进行分析。至于猴子补丁本身，它们看起来非常相似。

WSGI 服务器是另一个困难的服务器。值得注意的是，gevent 中的标头解析被推迟到标准库中，而他们自己在 eventlet 中实现它。不确定这是否是一个很大的影响，但如果有什么潜伏在那里也就不足为奇了。最能说明问题的是 eventlet 的服务器是基于标准库 BaseHTTPServer 的猴子补丁版本。我无法想象这是非常理想的。Gevent 实现了一个知道仿真的服务器。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-24T10:05:02.180

抱歉回复晚了。

*该基准*的性能差异有两个主要原因：

*   如前所述，gevent 的关键路径经过大量优化
*   该基准进行压力测试。它不再受 IO 限制，因为它试图让机器运行尽可能多的请求。这就是 Cythonized 代码大放异彩的地方。

“在现实世界中”，仅在“斜线”流量爆发期间发生。哪一个很重要，应该准备好，但是当它发生时，您的反应是添加更多服务器或禁用资源繁重的功能。我还没有看到在负载增加时实际添加更多服务器的基准。

另一方面，如果基准测试将模拟“正常一天”的负载（从一个网站到另一个网站会有所不同），但通常可以近似为请求、随机暂停、重复。停顿越少——我们模拟的流量就越多。基准测试的客户端也必须模拟延迟。在 Linux 上，这可以使用很棒的 netem[1] 来完成，否则，通过在接收/发送调用之前放置小的延迟（这将非常困难，因为基准测试通常使用更高级别的库）。

现在，如果满足这些条件，我们实际上将基准化 IO 绑定问题。但结果不会太棒：所有候选人都成功地提供了 10、50 甚至 200 qps 的负载。无聊，对吧？所以我们可以测量延迟分布、处理 99% 请求的时间等。Gevent 仍然会显示更好的结果。但这种差异几乎不会令人印象深刻。

[1][在 Linux 上模拟延迟和丢包](https://stackoverflow.com/questions/614795/simulate-delayed-and-dropped-packets-on-linux)

# c# - 为什么在初始加载 DataGridViewComboBoxColumn 时显示空值

> ID：12669974
> 
> 赞同：2
> 
> 时间：2012-10-01T08:41:58.547
> 
> 标签：c#, winforms, datagridview

大家好，我已将我的 datagridview 与 DataGridViewComboBoxColumn 绑定如下

```
DataGridViewComboBoxColumn clnStatus = new DataGridViewComboBoxColumn();
clnStatus.DataPropertyName = "Status";
clnStatus.AutoComplete = true;
clnStatus.ValueMember = "absent";
clnStatus.Name = "Absent - Leave - Present";
clnStatus.DataSource = new string[] { "absent", "present", "leave" };
dataGridView1.Columns.Insert(0, clnStatus); 
```

但这导致我的 datagridview 为空值，如下所示。我应该怎么做才能选择一个值

![在此处输入图像描述](../Images/bd04762744ba929966b2c6242c44ceb3.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T08:48:34.600

没有选择初始值，因为单元格的属性没有任何值`Value`，因此您需要通过遍历网格来设置该值。

```
(row.Cells[1] as DataGridViewComboBoxCell).Value =(row.Cells[1] as DataGridViewComboBoxCell).Items[yourneededindex] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T08:48:52.467

使用以下代码行设置值：

```
dataGridView1.Rows["RowNumber"].Cells["ColumnNameOrNumber"].Value; 
```

参考：[如何从 DataGridViewComboBoxColumn 中获取 selectedvalue？](https://stackoverflow.com/questions/4732263/how-to-get-selectedvalue-from-datagridviewcomboboxcolumn)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-09-09T10:46:13.400

Value 属性对表单加载没有影响。不要使用静态 ComboBox 项，而是尝试将组合与您的数据表源绑定并设置以下属性：

```
comboBoxColumn.DataPropertyName = "Column_Name"; 
```

然后在每个单元格上使用 .Value 以确保每一行都有预期值。

# opengl - JoGL：渲染一个点，参数

> ID：12669976
> 
> 赞同：0
> 
> 时间：2012-10-01T08:42:15.050
> 
> 标签：opengl, parameters, rendering, point

我需要让用户可以插入一些自定义几何图形，例如点。

他可以指定尺寸和颜色。

试图了解不同参数的工作方式，我在我的平台上获得了这些值：

GL_POINT_SIZE_MIN：33062

GL_POINT_SIZE_MAX：33063

> GL_POINT_SIZE_RANGE 和 GL_POINT_SIZE_GRANULARITY 在 GL 版本 1.2 及更高版本中已弃用。它们的功能已被 GL_SMOOTH_POINT_SIZE_RANGE 和 GL_SMOOTH_POINT_SIZE_GRANULARITY 取代。

GL_SMOOTH_POINT_SIZE_RANGE：2834

GL_SMOOTH_POINT_SIZE_GRANULARITY：2835

有人可以向我解释这些奇怪的价值观吗？我的意思是，如何将最小值和最大值相差一个？

上面的值是通过以下方式获取的：

```
System.out.println("max: "+GL2.GL_POINT_SIZE_MAX+" min: "+GL2.GL_POINT_SIZE_MIN);
System.out.println("range: "+GL2.GL_SMOOTH_POINT_SIZE_RANGE+" granularity: "+GL2.GL_SMOOTH_POINT_SIZE_GRANULARITY); 
```

根据 datenwolf 和 Denis Germ 的建议，我现在正在检索参数，如下所示：

```
float ps[] = new float[5];

gl2.glGetFloatv(GL2.GL_POINT_SIZE_MIN, ps, 0);
gl2.glGetFloatv(GL2.GL_POINT_SIZE_MAX, ps, 1);
gl2.glGetFloatv(GL2.GL_SMOOTH_POINT_SIZE_RANGE, ps, 2);
gl2.glGetFloatv(GL2.GL_SMOOTH_POINT_SIZE_GRANULARITY, ps,4);

System.out.println("min: "+ps[0]+" max: "+ps[1]);
System.out.println("range: "+ps[2]+" - "+ps[3]+" granularity: "+ps[4]); 
```

现在我得到：

> 最小值：0.0 最大值：63.375
> 
> 范围：1.0 - 63.375 粒度：0.125

它看起来更好，但是，如果范围从 1.0 开始，为什么 min 是 0.0f？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T08:51:09.063

GL_POINT_SIZE_RANGE：glGet 将返回两个值，第一个是最小值，第二个是最大点大小（范围从 min 到 max）。

GL_POINT_SIZE_GRANULARITY：glGet 将返回单个值，描述粒度，例如 0.1：您可以指定点大小为 1.1、1.2、1.3，但不能指定 1.05、1.15 等。

# java - Java：合并 2 个“bean”以产生一个新的

> ID：12669977
> 
> 赞同：1
> 
> 时间：2012-10-01T08:42:22.630
> 
> 标签：java, merge, javabeans, dozer, apache-commons-beanutils

我需要从 Bean1 和 Bean2 中获取所有字段和集合，有时应用一些业务逻辑，并生成 Bean3（所有 bean 都是具有相当复杂图形的相同类型的休眠/域对象）。

关于如何做到这一点的任何想法？过去做过类似的事情吗？

我的想法：

1.  推土机 (http://dozer.sourceforge.net/)
2.  BeanUtils (http://commons.apache.org/beanutils/)
3.  手卷解决方案
4.  另一个很酷的解决方案？

有什么建议吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T08:47:02.210

Dozer 是一个不错的 bean 映射工具。但是，它当然不会执行任何业务逻辑。

实现业务逻辑并依靠 Dozer 进行 bean 映射应该不是问题。这就是我会做的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T08:49:55.330

这两种工具都没有提供业务逻辑——它也必须以某种方式实现。Bean utils 可以使用标准表示法访问 bean 属性。你可以尝试用 groovy 来用漂亮的语法来实现业务逻辑。

# sql - 根据某些标准选择重复项

> ID：12669982
> 
> 赞同：2
> 
> 时间：2012-10-01T08:42:38.860
> 
> 标签：sql, sql-server

我有一个表格，记录用户激活和停用模块。我只想选择表中激活和停用之间具有最大时间差的那些行。

```
user        activation           Deactivation     usage  dmb
Pejman   2005-10-04 14:02:00   2012-09-28 18:29:00   23   198
Pejman   2006-05-30 12:44:00   2012-09-28 18:29:00   34   198
Pejman   2009-11-18 11:06:00   2012-09-28 18:29:00   64   198
Shahin   2005-02-11 10:53:00   2012-09-28 18:29:00   52   323
Shahin   2012-06-24 08:35:00   2012-09-28 18:29:00   17   323
Shahin   2005-02-24 14:22:00   2006-01-16 09:03:00   19   323
Kazem    2008-01-21 22:32:00   2011-01-01 00:00:00   73   666
Kazem    2008-01-21 22:35:00   2012-09-28 18:29:00   62   666 
```

我想要的输出

用户

> ```
> Pejman   2005-10-04 14:02:00   2012-09-28 18:29:00   23   198
> Shahin   2005-02-11 10:53:00   2012-09-28 18:29:00   52   323
> Kazem    2008-01-21 22:35:00   2012-09-28 18:29:00   62   666 
> ```

查找持续时间（激活和停用之间的差异）我正在使用以下 sql 代码（MSSQL）

```
 datediff(d,isnull(deactivation, getdate()), activation) AS Time_Difference 
```

**编辑**

我的表是“with”操作的结果。意思是得到这样的第一个表，我写了一些其他查询，如下所示

```
with mytab_cte(user, editionID, size, CompanyName, cvr, postcode, agreement, ActivationT, DeactivationT) 
as 
( 
select ops.Opsaetning as opsaetning, A.EditionID as editionID, b.FilStr as size, v.Navn as CompanyName, v.CVR as cvr, v.Postnr as postcode, A.AftaleNr, BMA.Tilmeldt as ActivationT, BMA.Frameldes as DeactivationT
from BilagsAttachment as b 
inner join Opsaetning as ops on b.Opsaetning = ops.Opsaetning 
inner join Virksomhed as v on v.Aftalenr = ops.Aftalenr 
inner join Aftalenr as A on A.AftaleNr = v.Aftalenr 
inner join BenyttetModulAftalenr as BMA on BMA.Aftalenr = ops.Aftalenr

where ISNULL(v.SkalFaktureres, 0) = 1 
AND ISNULL(v.ProeveVirksomhed, 0) = 0 
AND A.Spaerret = 0 
AND (A.FrameldingsDato IS NULL 
OR A.FrameldingsDato > GETDATE()) 
AND v.TilSletning = 0 
AND V.Email 
) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-01T08:46:38.020

这看起来像 SQL 服务器。在这种情况下...

```
select * from
(
    select *, 
        row_number() over 
        (
            partition by [user]
            order by datediff(d,isnull(deactivation, getdate()), activation) desc
        ) as rn
    from yourtable
) v
where rn = 1 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-01T08:47:17.367

尝试这个：

```
;WITH DiffCTE
AS
(
    SELECT *, 
     datediff(d,isnull(deactivation, getdate()), activation) 
      AS Time_Difference
    FROM TableName
), MaxDiffs
AS
(
    SELECT t1.*
    FROM DiffCTE t1
    INNER JOIN
    (
      SELECT user, MAX(Time_Difference) MAXTime_Difference
      FROM DiffCTE 
      GROUP BY user
    ) t2 ON t2.user = t2.user AND t1\. Time_Difference = t2.MAXTime_Difference
)
SELECT user, activation, Deactivation, usage, dmb
FROM MaxDiffs; 
```

**或者：**使用排名函数，您可以这样做：

```
;WITH cte
AS
(
    SELECT *, ROW_NUMBER() OVER(Partition by [user] ORDER BY datediff(d,isnull(deactivation, getdate()), activation) DESC) row_num
    FROM @t
)
SELECT * FROM cte WHERE row_num = 1; 
```

## [这是一个现场演示](https://data.stackexchange.com/stackoverflow/query/81418)

# xml - 在 XML 节点内容中嵌入多个信息字段

> ID：12669986
> 
> 赞同：0
> 
> 时间：2012-10-01T08:42:55.660
> 
> 标签：xml, serialization, embedding

我有两个 XML 文档，第一个是：

```
<IamAXMLNode attr1="50%" attr2="Cool" attr3="I am a free text optional cool attribute" /> 
```

但在第二个中，IamaXMLNode 属性的全部信息应包含在单个属性中：

```
<ACollageNode type="IamAXMLNode">'content of the three attr unified'</ACollageNode> 
```

ACollageNode 内容必须在语法上匹配为字母数字字符串

无法更改 XML 文档的架构。

我正在处理的选项是：

*   使用分隔符将它们包含为文本（我会找到一个未在任何字段上使用的分隔符）。如果后天规格发生变化并且角色可以用于这些属性怎么办？:S
*   序列化为字节数组并使用安全分隔符。有什么工具可以做到这一点吗？像 Serialize 这样的 Boost 库会有用吗？
*   使用 CDATA。实际上，我想对信息进行编码，而不是对整个 XML 节点进行编码

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-03T09:17:26.607

我最后添加了一个分隔符并在字段上显示了出现的情况......因为输出必须是人类可读的。

# image - CSS：将图像与列表项中的文本对齐？

> ID：12669987
> 
> 赞同：0
> 
> 时间：2012-10-01T08:43:08.847
> 
> 标签：image, alignment

我有一个编号列表，如下所示：

```
<ol>
    <li>some text <img src="..." /></li>
</ol> 
```

文本的图像右侧位于文本下方，而不是其右侧。我尝试了跨度和浮动：左，但这不起作用。如何将文本的图像对齐？

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T08:59:27.353

对文本和图像使用浮动，并指定图像和文本 div 的宽度，例如

```
<ol>
 <li>
   <div style="float:left;width:200px;" >your text here..</div>
   <div style="float:right;width:100px;"><img src="abc.jpg" /></div>
   <div style="clear:both;"></div>
 </li> 
```

假设您的 li 宽度最小为 300px

# objective-c - 目标 c - Iad 警告：超过 10 个 ADBannerView 实例

> ID：12669989
> 
> 赞同：1
> 
> 时间：2012-10-01T08:43:18.647
> 
> 标签：objective-c, ios, iad

我开发了一个标签栏应用程序。像标题一样，我在屏幕底部放置了一个 iad 横幅。我已经实现了这个方法来创建/销毁横幅并测试 iad 是否正常工作：

创造：

```
-(void)viewWillAppear:(BOOL)animated {
     if(!adView) {
        adView = [[ADBannerView alloc] initWithFrame:CGRectMake(0, 315, 310, 45)];
        adView.requiredContentSizeIdentifiers = [NSSet setWithObject:ADBannerContentSizeIdentifierPortrait];
        adView.currentContentSizeIdentifier = ADBannerContentSizeIdentifierPortrait;
        adView.delegate = self;
        [self.view addSubview:adView];
    } 
```

破坏：

```
 - (void)viewWillDisappear:(BOOL)animated {
    [super viewWillDisappear:animated];

    // iAd
    if (adView != nil) {
        adView.delegate = nil;
        adView.hidden = YES;
        adView = nil;
       [adView release];
    }  
} 
```

但是，如果我尝试从标签栏快速更改视图，我会收到此错误：

> 警告：当前存在超过 10 个 ADBannerView 或 ADInterstitialView 实例。这是对 iAd API 的滥用，广告效果将因此受到影响。此消息仅打印一次。

但是方法 create 和 destroy 总是被调用。我能做些什么来调试这个警告问题？非常感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T11:42:43.520

您需要在 nil 之前释放实例变量，而不是相反。

```
adView = nil;
[adView release]; 
```

应该：

```
[adView release];
adView = nil; 
```

# spring - Spring 配置文件和 Spring Integration 命名空间

> ID：12669990
> 
> 赞同：1
> 
> 时间：2012-10-01T08:43:24.510
> 
> 标签：spring, spring-integration

我正在尝试创建以下弹簧配置

```
<beans profile="profile1">
    <jms:outbound-channel-adapter id="sampleId"/>
</beans>

<beans profile="profile2">
    <jms:outbound-channel-adapter id="sampleId"/>
</beans> 
```

（jms:outbound-channel-adapter 是来自 spring 集成的命名空间）

当创建这样的上下文时，我得到重复的 bean ids 异常......

知道为什么吗？

编辑..（活动配置文件设置为 profile1）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T08:54:27.683

您必须为当前上下文提供活动配置文件。此标记可以设置为：
*环境变量*
*JVM 属性*
*Web 参数*
*编程*
Spring 还查找标记 spring.profiles.default，如果没有使用 spring.profiles 指定，则可以使用该标记设置默认配置文件。积极的。

例子：

```
<servlet>
    <servlet-name>spring</servlet-name>
    <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>
    <init-param>
    <param-name>spring.profiles.active</param-name>
    <param-value>web-dev</param-value>
    </init-param>
</servlet> 
```

其中 applicationContext 看起来像：

```
<beans profile="web-dev, test-dev">
        <import resource="trace-context.xml"/>
        <import resource="spring-data-jpa.xml"/>
        <import resource="spring-security-roles.xml" />
    </beans>

    <beans profile="web-dev">
        <bean id="deployProperties" class="org.springframework.beans.factory.config.PropertiesFactoryBean"
                p:location="/WEB-INF/spring.properties" />

        <import resource="spring-cache.xml"/>
        <import resource="tiles-context.xml" />
        <import resource="themes-context.xml" />
    </beans>  

    <beans profile="test-dev">
        <bean id="deployProperties" class="org.springframework.beans.factory.config.PropertiesFactoryBean"
                p:location="classpath:spring.properties" />
    </beans> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-10-07T23:17:03.867

确保所有相关的 xsd 声明都使用 >= 3.1 版本。配置文件功能是在 Spring 3.1 版中添加的。至少为 beans 和 jms 命名空间设置。另请参阅我对类似 SO 问题的[回答](https://stackoverflow.com/a/33003965/993262)。

# android - 谷歌播放中三星标签的应用程序不可见

> ID：12669993
> 
> 赞同：3
> 
> 时间：2012-10-01T08:43:32.540
> 
> 标签：android, google-play, samsung-mobile, android-permissions

我的清单包含以下条目：

```
<supports-screens
            android:largeScreens="true"
            android:normalScreens="true"
            android:smallScreens="true"
            android:resizeable="true"
            android:anyDensity="true"
            android:xlargeScreens="true"/>

<uses-permission android:name="android.permission.CAMERA" />
<uses-permission android:name="android.permission.VIBRATE" />
<uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION" />
<uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
<uses-permission android:name="android.permission.ACCESS_LOCATION_EXTRA_COMMANDS" />
<uses-permission android:name="android.permission.INTERNET" />
<uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
<!--<uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE"/>-->

<uses-feature android:name="android.hardware.telephony" android:required="false" />
<uses-feature android:name="android.hardware.bluetooth" android:required="false" />
<uses-feature android:name="android.hardware.microphone" android:required="false" />

<uses-sdk android:minSdkVersion="8" /> 
```

其中哪些“不包括”三星 Tab 2 (GT-P5110)？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-01T08:57:05.790

许可`android.permission.CAMERA`意味着对功能`android.hardware.camera` **和** `android.hardware.camera.autofocus`. 三星 Galaxy Tab 2 没有自动对焦功能。可能是这个原因。

[暗示功能要求的权限。](http://developer.android.com/intl/ru/guide/topics/manifest/uses-feature-element.html#permissions-features)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T08:51:56.050

我以前也遇到过这个问题。我添加`targetsdkversion`了清单并纠正了问题。所以试试这样

```
<uses-sdk
    android:minSdkVersion="8"
    android:targetSdkVersion="15" /> 
```

祝你好运。

# jakarta-ee - GlassFish中可以使用哪些工具来监控jms broker

> ID：12669997
> 
> 赞同：2
> 
> 时间：2012-10-01T08:44:06.877
> 
> 标签：jakarta-ee, glassfish, jms, monitoring, openmq

我使用 Open MQ GUI 管理控制台（在 Glassfish 安装目录中）和[QBrowser](http://sourceforge.net/projects/qbrowserv2/)。是否需要考虑其他工具？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T08:57:16.513

Glassfish 使用“Open Message Queue”，它带有一个 GUI 管理工具和一整套命令行工具。您可以在 Glassfish/imq/bin 文件夹中找到这些文件。

如果需要，您也可以使用 3rd 方应用程序，您只需要提供连接信息。

有关详细信息，请访问 Oracle GlassFish Server 消息队列 4.5[管理指南](http://docs.oracle.com/cd/E18930_01/html/821-2438/index.html)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-10-05T14:44:52.173

从 Payara 5（Glassfish 5 的分支）开始，有一个新选项可以通过 JMX 之上的 REST 样式 api 进行监控：[https ://blog.payara.fish/rest-monitoring-in-payara-server](https://blog.payara.fish/rest-monitoring-in-payara-server)

要启用它，请转到管理控制台/监控。然后您就可以使用所有可用的 MBean。

例如查看当前 DMQ 中的消息数量：

```
https://localhost:4848/rest-monitoring/rest/read/com.sun.messaging.jms.server:type=DestinationManager,subtype=Monitor 
```