# StackOverflow 问答 12889000-12889999

# python - 将功能集成与trapz集成相结合

> ID：12889004
> 
> 赞同：0
> 
> 时间：2012-10-15T03:43:11.693
> 
> 标签：python, integration, scipy, quad

这就是我想要做的：

将数值积分数组（在整个数据范围内）除以特定积分范围内的“四元”积分函数：

```
maxw = lambda t,en: exp(-en/(kB*t)) # where the following is inside a loop through t values, and B is a data array with the same dimension as en
aa=[]
cc=[]
A=B*maxw(t,en) 
aa.append(trapz(A,en)) # integrate numerically
cc.append(quad(lambda energ: exp(-energ/kB*t),e0,inf)) # integrate fn over range e0, inf
#end of loop in t    
dd=array(aa)/array(cc) 
```

这给出了错误：“操作数不能与形状（n）（n，2）一起广播”，n是t循环的长度

或者换一种说法，对于循环中“t”的每一个值： （1）用trapz对一组数值数据进行积分，变成一个数组；(2) 在一定的范围内使用 quad 积分一个函数，也变成一个数组；然后 (3) 将一个数组除以另一个得到最终数组。

显然我缺少一些东西。我该怎么做？

# javascript - 我怎样才能随着时间的推移沿着椭圆路径旅行并无限期地继续循环？

> ID：12889006
> 
> 赞同：3
> 
> 时间：2012-10-15T03:43:13.370
> 
> 标签：javascript, math, animation, geometry, kinematics

椭圆路径的方程可以定义为：

![x^2 / (240/2)^2 + y^2 / (h/2)^2 = 1](../Images/5bc06183e3ed3bf01caea41997de9709.png)

其中**h** = 10 到 60 之间随机生成的高度。

并且**t** = 经过的时间（以秒为单位）。

**当t = 0**时，我如何从特定点开始，并随着**t**的增加沿着路径前进，无限循环？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-15T03:48:16.800

它实际上比这更容易。随着时间在椭圆路径上的位置为：

```
x = Math.cos(t)*w/2
y = Math.sin(t)*h/2 
```

`w`分别`h`是宽和高。根据需要扩展`t`以获得所需的速度。

# java - 仅过滤具有特定参数名称的 post 方法请求

> ID：12889009
> 
> 赞同：2
> 
> 时间：2012-10-15T03:43:56.747
> 
> 标签：java, servlets, servlet-filters

如何过滤带有特定参数的请求：例如，仅过滤带有“csrf-token”参数名称的请求。过滤器将首先检查请求是否具有所需的参数名称，并绕过那些*没有*所需参数的请求。

下面是我设置*web.xml*文件的方法，但问题是所有请求都被过滤了：

```
<filter>
    <filter-name>CSRFTest</filter-name>
    <filter-class>org.example.CSRFFilter</filter-class>
    <init-param>
        <param-name>csrf_token</param-name>
        <param-value>csrf</param-value>
    </init-param>
</filter>
<filter-mapping>
    <filter-name>CSRFTest</filter-name>
    <url-pattern>/*</url-pattern>
</filter-mapping>

<filter>
    <filter-name>CrossSiteScriptStripper</filter-name>
    <filter-class>CrossSiteScriptStripperFilter</filter-class>
</filter>

<!-- Apply the CrossSiteScriptStripper filter to all servlets and JSP pages. -->
<filter-mapping>
    <filter-name>CrossSiteScriptStripper</filter-name>
    <url-pattern>/*</url-pattern>
</filter-mapping> 
```

pb2q 给出的答案正在我的**TEST PROJECT**上工作，但在我的真实项目中插入时出现错误。我想问是否可以使用2个过滤器？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-15T03:51:01.363

您的`Filter`类将`ServletRequest`在其[`doFilter`](http://docs.oracle.com/javaee/6/api/javax/servlet/Filter.html#doFilter%28javax.servlet.ServletRequest,%20javax.servlet.ServletResponse,%20javax.servlet.FilterChain%29)方法中收到 a：这类似于常规 servlet 的`service`方法（或`doGet`, `doPost`, for `HTTPServlet`）。

在您的`doFilter`方法中，使用 : 检查所需参数的请求`ServletRequest.getParameter`：如果参数*不*存在，该方法将返回`null`。

如果参数不存在，则阻止请求：不要使用`FilterChain.doFilter`.

伪代码：

```
public void doFilter(ServletRequest req, ServletResponse resp,
                     FilterChain chain)
{
    // ...

    if (req.getParameter(MY_PARAMNAME) != null)
        chain.doFilter(req, resp);
    // otherwise don't call doFilter

    // ...
} 
```

我不确定您希望对配置文件中的参数做什么，但如果您想指定请求中需要*哪个*HTTP 查询参数，您可以使用此配置/代码组合：

```
<param-name>required_parameter_name</param-name>
<param-value>csrf-token</param-value> 
```

然后在你的`init`方法中：

```
public void init(FilterConfig filterConfig)
{
    // ...

    // use this value in your doFilter method, in place of MY_PARAMNAME, above
    this.requiredParameterName =
        filterConfig.getInitParameter("required_parameter_name");
} 
```

# encryption - 密码学：混合 CBC 和 CTR？

> ID：12889012
> 
> 赞同：2
> 
> 时间：2012-10-15T03:44:08.200
> 
> 标签：encryption, cryptography, aes

我有一些必须受密码保护的脱机文件。我的策略如下：

*   密码算法：AES，128 位块，256 位密钥（PBKDF2-SHA-256 10000 次迭代，随机盐存储在其他地方）

*   整个文件分为页面大小为 1024 字节的页面

*   对于完整的页面，使用 CBC

*   对于不完整的页面，

    *   如果 CBC 至少有一个块，则使用密文窃取

    *   如果 CTR 少于一个块，则使用 CTR

通过这种设置，我们可以保持相同的文件大小

IV 或 nonce 将基于盐和确定性。由于这不是用于网络通信，我认为我们不需要担心重放攻击？

问题：这种混合会降低安全性吗？我们最好在整个文件中使用 CTR 吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-15T04:08:47.823

你最好只对整个文件使用 CTR。否则，您将在支持多种模式（CBC、CTR 和 CTS）以及确定使用哪种模式方面增加大量额外工作。目前尚不清楚这样做有什么价值，因为 CTR 非常适合加密大量数据。

您是否打算为每个页面重复使用相同的 IV？您应该稍微扩展一下页面的含义，但我建议为每个页面使用唯一的 IV。这些页面是否可以以某种方式寻址？您可能想研究一些新的[磁盘加密模式](http://en.wikipedia.org/wiki/Disk_encryption_theory)，以了解生成唯一 IV 的想法

你还真的需要 MAC 你的数据。例如，在 CTR 中，如果有人翻转了一点密文，当你解密时它会翻转一点，你永远不会知道它被篡改了。您可以使用[HMAC](http://en.wikipedia.org/wiki/Hash-based_message_authentication_code)，或者如果您想简化整个方案，请使用[AES GCM](http://en.wikipedia.org/wiki/Galois/Counter_Mode)模式，它结合了 CTR 加密和 GMAC 完整性

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-16T21:25:13.830

关于 CTR 模式，您需要了解一些事项。在您了解它们之后，您可以愉快地在您的情况下应用流密码：

*   永远不要重用具有相同随机数的数据键；
*   上面，甚至没有*及时*；
*   注意 CTR 模式确实显示了加密数据的大小；总是加密完整的块可以在某种程度上隐藏这一点（通常，如果文件系统边界得到尊重，一个 1024 字节的块需要一个比特块）；
*   CTR 模式本身不提供身份验证（用于完成，因为这已经讨论过）；

如果您不遵守前两条规则，攻击者将立即看到编辑位置，并且攻击者将能够检索与纯文本直接相关的数据。

在正节点上：

*   您可以愉快地使用文件中的偏移量（例如，块中）作为 nonce 的一部分；
*   在文件中查找、缓冲密文和围绕 CTR 创建多线程代码非常容易。

一般来说：

*   使用特定于数据的密钥特定的文件集是值得的，这样如果密钥被泄露或更改，您就不必重新加密所有内容；
*   好好考虑如何使用、存储、备份您的密钥等。密钥管理是最难的部分；

# ruby - 在 Rails3 中为模型属性指定列？

> ID：12889013
> 
> 赞同：0
> 
> 时间：2012-10-15T03:44:21.847
> 
> 标签：ruby, ruby-on-rails-3

是否可以为属性指定列？我有类似的东西：

```
NAME, COUNTRY 
```

数据库非常大，我有一千多个这样大写的列。我想这样称呼它们：

```
attr_accessible :name, :country 
```

其中 :name = 列名称。我更喜欢 Model.name 而不是 Model.NAME。不可能将结构文件中的每个列名都小写。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-15T05:49:55.787

这是一个按照您喜欢的方式做的想法。

生成迁移的命令：（
*在我的示例中，我将其应用于`Posts`表。根据您的表名进行更改）*

```
rails g migrate RenameColumnsOfPosts 
```

下面是迁移`up`方法。这里取所有列名，并为我申请的每一个列名，`rename_column`使其小写。

```
class RenameColumnsOfPosts < ActiveRecord::Migration
  def up
     Post.columns.map(&:name).each do |column_name|
        rename_column(:posts, column_name, column_name.downcase)
     end
  end

  def down
     #You can do the opposite operation here. Leaving on you
  end
end 
```

由于我没有亲自运行它，它可能需要一些更改。所以从它开始，如果遇到任何问题，请告诉我。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-15T03:57:16.613

```
Please write code inside of  model ,
it's just for demostration code,after you get it and update as per logic :

This Code inside of model :
...
attr_accessor :name,:country
before_save :fill_save
..
#assign variable like ...
 def fill_save
       self.NAME=  self.name
       self.COUNTRY=  self.country
  end
.... 
```

# mozilla - 使用 xpidl 命令创建 .h

> ID：12889020
> 
> 赞同：0
> 
> 时间：2012-10-15T03:45:44.627
> 
> 标签：mozilla, xpcom

我已经从源代码构建了 Firefox，并且我正在尝试创建一个组件。我尝试`.idl`从终端对我的文件运行 xpidl

```
$ xpidl -m header -w -v- I $XPIDL_INC \ > -o nsIPageSummary nsIPageSummary.idl 
```

但我明白了`-bash: xpidl: command not found`

我试过改变路径`PATH=$PATH:/usr/src/mozilla/xpcom/typelib/xpidl`，但无济于事。我可能只是完全误解了如何使用 xpidl 命令。但是你只需要它已经构建的 Fire Fox 源代码吗？是否需要进入某个目录才能使用该命令？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-15T04:08:29.077

您使用哪个版本的 Firefox？

> 从 Gecko 9.0 (Firefox 9.0 / Thunderbird 9.0 / SeaMonkey 2.6) 开始，在 Gecko SDK 中 xpidl 已被 pyxpidl 取代。pyxpidl 已经使用了一段时间，但是现在这个旧工具已经完全退役了。

[https://developer.mozilla.org/en-US/docs/XPIDL/xpidl](https://developer.mozilla.org/en-US/docs/XPIDL/xpidl)

[https://developer.mozilla.org/en-US/docs/XPIDL/pyxpidl](https://developer.mozilla.org/en-US/docs/XPIDL/pyxpidl)

# sql - JasperReports：如何根据布尔参数在 SQL 查询中添加 WHERE 语句？

> ID：12889023
> 
> 赞同：1
> 
> 时间：2012-10-15T03:46:31.060
> 
> 标签：sql, parameters, jasper-reports, where

如果我的 Boolean 参数在*JasperReports*中为真，如何在 SQL 中添加 sub where 语句？
例如，我的 SQL 如下：

```
SELECT * FROM shops WHERE region = "Canada" ORDER BY name 
```

如果我的参数为真，我想*`and isactive = 'Y'`*在*`ORDER BY`*.
有谁知道我怎么能做到这一点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-15T06:45:58.093

您可以添加附加参数以设置附加子句值。之后，您可以[*`$P!{}`*](http://jasperreports.sourceforge.net/sample.reference/query/index.html#query)在查询中使用语法。

样品：

```
<parameter name="param" class="java.lang.Boolean"/>
<parameter name="whereCond" class="java.lang.String" isForPrompting="false">
    <defaultValueExpression><![CDATA[$P{param} ? " AND isactive='Y'" : ""]]></defaultValueExpression>
</parameter>
<queryString>
    <![CDATA[SELECT * FROM shops WHERE region='Canada' $P!{whereCond} ORDER BY name]]>
</queryString> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-15T03:48:37.190

试试这个

```
select * from shops where region = "Canada"
AND isActive = CASE WHEN @var = 'True' then 'Y' ELSE isActive END
order by name 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-15T04:01:22.990

您可以直接在 SQL 中执行此操作

```
SELECT * FROM shops WHERE region = "Canada"
AND (@param <> `True` OR isActive = 'Y')
-----^^^^^^^^^^^^^^^^--<< Condition: Your param is not true------
ORDER BY name 
```

# android - 我的 ImageView 大小已更改

> ID：12889026
> 
> 赞同：1
> 
> 时间：2012-10-15T03:46:53.367
> 
> 标签：android

我有一个 MainActivity，我在 MainActivity 中有一个自定义的 TouchView 对象，它扩展了 ImageView。我的项目中没有使用 XML 布局，我在 MainActivity 的 onCreate() 中有以下几行：

```
 ...
    myTouchView = new TouchView();
    myTouchView.layout(0,0,bitmap.getWidth(),bitmap.getHeight());//bitmap W*H: 3264*2448
    MainActivity.this.setContentView(myTouchView);
    ... 
```

然后我在 TouchView 的 onDraw() 中设置了一个断点，在那里我总是得到不是我在 layout() 上设置的 3264*2448 的 TouchView 对象的宽度和高度。这意味着我的 TouchView 的大小在 onDraw() 之前已更改。我得到的宽度和高度是480 * 320（实际上是屏幕尺寸）。

我怎样才能得到正确的`size(3264*2448)?`

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-15T13:56:28.340

我自己已经杀死了这个问题。我像这样覆盖 onMeasure() ：

```
 protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec){
 int parentWidth = MeasureSpec.getSize(widthMeasureSpec);
 int parentHeight = MeasureSpec.getSize(heightMeasureSpec);
 if(parentWidth == bmp.getWidth() && parentHeight == bmp.getHeight())
     super.onMeasure(idthMeasureSpec, heightMeasureSpec);
 else
     this.setMeasuredDimension(parentWidth/2, parentHeight);
 } 
```

对我来说效果很好，任何潜在的错误。

# objective-c - Objective-C 块参数

> ID：12889030
> 
> 赞同：11
> 
> 时间：2012-10-15T03:47:27.283
> 
> 标签：objective-c, parameters, objective-c-blocks, declaration

假设我们有这个块：

```
int (^aBlock)(BOOL) = ^(BOOL param) { ... 
```

我目前对此的理解是：第一个`int`是返回类型，`(^aBlock)(BOOL)`给出了方法的名称和它的参数的类型，`= ^(BOOL param)`是块内部的参数名称......再加上参数的类型？

为什么我们必须两次列出参数类型的语法？这两种类型会有所不同吗？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-10-15T04:13:22.570

这并不是“两次列出参数类型”，在第一种情况下，您是在声明*块变量的类型*，在第二种情况下，您正在定义一个*块文字*。然后，您将文字分配给变量的值。你甚至可以做这样的事情，它是等价的，并且更好地说明了这些实际上是两个完全独立的声明，尽管它们与一个 assign 语句相关联：

```
id thisBlock = ^id (id x, NSUInteger idx) {
    NSLog(@"x = %@",x);
    return x;
};

id (^thatBlock)(id obj, NSUInteger index) = thisBlock; 
```

它们彼此独立的事实意味着尝试从表达式的左侧到右侧提供某种类型的输入信息的转移或继承可能甚至是不正确的。是的，类型可以不同 - 考虑一下这段代码编译和执行得很好：

```
id (^thatBlock)(NSArray *, NSDictionary *, NSString *) = ^id (id x, id y, id z) {
    NSLog(@"x = %@",x);
    return x;
};

thatBlock(@[],@{},@""); 
```

希望这可以帮助！

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-15T04:10:57.593

> 为什么我们必须两次列出参数类型的语法？

块是这样设计的，所以你可以这样做：

```
int (^aBlock)(BOOL);

aBlock = ^(BOOL param) {
  ...
}; 
```

它只是喜欢

```
- (int)aMethodWithParam:(BOOL)param;

- (int)aMethodWithParam:(BOOL)param {
  ...
} 
```

> 这两种类型会有所不同吗？

不，更重要的是，类型的顺序应该是相同的，即：

```
int (^aBlock)(BOOL, NSString*) = ^(BOOL param, NSString *aString) {
  ...
}; 
```

这是块的清晰数字：

![图片](../Images/f2b2375ff07dbced44d9653151d8aeb8.png)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-15T04:11:50.960

您给出的代码片段不是块声明：它是块声明*和*块定义。首先，您声明一个名为 的标识符`aBlock`：

```
int (^aBlock)(BOOL) 
```

然后你定义一个块：

```
^(BOOL param) { ... 
```

这两个都是分别解析和评估的。由于您将一个分配给另一个，编译器会进行类型检查以确保左侧的表达式（您的`aBlock`声明）与右侧的表达式（块定义）的类型相同。

所以，答案是，这些部分需要单独评估。由于块定义是自行编译的，因此您必须包含 的类型`param`，否则编译器将不知道它应该是什么类型。（是的，您可以在这种情况下创建一个例外，并查看整个赋值，但是在 C 语言的其他任何地方，您都通过首先给出类型来声明标识符，那么为什么在这里做不同的事情呢？）

**但是**——你可能会说——**如果这是真的，为什么我不必`int`在右侧定义返回类型 ( ) 呢？**

你很精明。答案是，在编写块表达式时，您不需要定义返回类型，因为编译器可以从块内的 return 语句（或缺少）推断它。

（那么为什么你必须在函数定义中包含返回类型？嗯，我猜是历史。编程语言定义是由不完美的人创建的。）

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-07-08T07:26:16.690

根据[Ry 的 Objective C 教程](http://rypress.com/tutorials/objective-c/blocks.html)：

> 块使用与正常功能相同的所有机制。您可以像声明函数一样声明块变量。

```
 NSInteger (^BlocksAddition)(NSInteger x,NSInteger y)=^NSInteger(NSInteger x, NSInteger y){

    return x+y;
};

NSUInteger result=BlocksAddition(4,5);
NSLog(@"Addition Result:%d",result); 
```

# sass - 萨斯算术

> ID：12889034
> 
> 赞同：3
> 
> 时间：2012-10-15T03:47:37.877
> 
> 标签：sass

我正在尝试从 1 循环到 12 并为应用程序中特定视图的更改网格输出一些跨度宽度。

```
$span-width: 8.21875%;
$gap: 0.125%;
@for $i from 1 through 12 {
  $span-width: ($i * $span-width) + ($i * $gap) ;
  .span#{$i}{
    width: $span-width;     
 }
} 
```

这是输出

```
.span6 {
  width: 6162%;
} 
```

如何使用通常的算术规则编写 sass 来计算宽度？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-15T11:50:50.830

你想要的表达是这样的： `($i * ($span-width / 1%)) + ($i * ($gap / 1%))`. 或者，您可以从`$span-width`/`$gap`变量中删除 %。

编辑：不知道为什么将变量分配给表达式不起作用（我只使用@debug对其进行了测试）

```
$span-width: 8.21875%;
$gap: 0.125%;
@for $i from 1 through 12 {
    @debug (($i * ($span-width / 1%)) + ($i * ($gap / 1%))) * 1%;
    .span#{$i}{
        width: (($i * ($span-width / 1%)) + ($i * ($gap / 1%))) * 1%;
    }
} 
```

生成这个：

```
.span1{width:8.34375%}
.span2{width:16.6875%}
.span3{width:25.03125%}
.span4{width:33.375%}
.span5{width:41.71875%}
.span6{width:50.0625%}
.span7{width:58.40625%}
.span8{width:66.75%}
.span9{width:75.09375%}
.span10{width:83.4375%}
.span11{width:91.78125%}
.span12{width:100.125%} 
```

如果您确实需要重用该变量，您可能需要考虑为它创建一个函数。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-15T22:48:22.897

所以我通过使用小数解决了它，并使用百分比函数切换到％（移动小数位）并设置单位。

```
$one-span-width: 0.0821875;
$gap: 0.00125;
@for $i from 1 through 12 {
 $span-width:  ($one-span-width * $i) + ($gap * $i) ;    
 .span#{$i}{
  width: percentage($span-width);     
 }
} 
```

# vb.net - 在 VB.net 中解压文件

> ID：12889044
> 
> 赞同：5
> 
> 时间：2012-10-15T03:49:31.980
> 
> 标签：vb.net, unzip, zipfile

有人可以帮助我如何在*VB.Net中***解压缩**zip 文件吗？

 *我正在使用“进口 Shell32”

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2012-10-15T04:02:26.810

如果您查看此[CodeProject](http://www.codeproject.com/Tips/257193/Easily-zip-unzip-files-using-Windows-Shell32)文章，它应该会对您有所帮助。如果您遇到特定问题，您需要将代码和问题描述放在您的问题中。

从上面的文章：

```
Sub UnZip()
    Dim sc As New Shell32.Shell()
    'Create directory in which you will unzip your files .
    IO.Directory.CreateDirectory("D:\extractedFiles") 
    'Declare the folder where the files will be extracted
    Dim output As Shell32.Folder = sc.NameSpace("D:\extractedFiles")
    'Declare your input zip file as folder  .
    Dim input As Shell32.Folder = sc.NameSpace("d:\myzip.zip")
    'Extract the files from the zip file using the CopyHere command .
    output.CopyHere(input.Items, 4)

End Sub 
```

[`Folder.CopyHere`](http://msdn.microsoft.com/en-us/library/windows/desktop/bb787866.aspx)方法链接

* * *

或者，如果您使用的是 .Net 4.5，您可以使用[ZipFile 类](http://msdn.microsoft.com/en-us/library/system.io.compression.zipfile.aspx)

来自链接的示例：

```
Imports System.IO
Imports System.IO.Compression

Module Module1

    Sub Main()
        Dim startPath As String = "c:\example\start" 
        Dim zipPath As String = "c:\example\result.zip" 
        Dim extractPath As String = "c:\example\extract"

        ZipFile.CreateFromDirectory(startPath, zipPath)

        ZipFile.ExtractToDirectory(zipPath, extractPath)
    End Sub 

End Module 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-10-15T03:53:34.553

我建议您下载[http://dotnetzip.codeplex.com/](http://dotnetzip.codeplex.com/)然后像这样使用它（示例取自文档）。

```
Dim ZipToUnpack As String = "C1P3SML.zip"  
Dim TargetDir As String = "C1P3SML"  
Console.WriteLine("Extracting file {0} to {1}", ZipToUnpack, TargetDir)   
Using zip1 As ZipFile = ZipFile.Read(ZipToUnpack)   
    Dim e As ZipEntry   
    For Each e In zip1   
        e.Extract(TargetDir, ExtractExistingFileAction.OverwriteSilently)   
    Next  
End Using 
```*

# c++ - C++函数名前面的~是什么意思？

> ID：12889046
> 
> 赞同：-4
> 
> 时间：2012-10-15T03:49:42.567
> 
> 标签：c++, class

> **可能重复：**
> [在 C++ 中，函数名前的波浪号“~”表示什么？](https://stackoverflow.com/questions/1395506/in-c-what-does-a-tilde-before-a-function-name-signify)

`~`在 C++ 中，函数前面是什么意思：

```
class list
{
    ...other stuff...
public:
    list();
    ~list();
    void insertFront(const TYPE&);
    TYPE deleteFront();
    void insertRear(const TYPE &);
    int isEmpty() const;
    void traverse() const;
}; 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-15T03:50:34.193

这意味着该函数是定义它的类的析构函数。名称的其余部分（~之后）必须与类的名称匹配。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-15T03:54:10.703

它是一个析构函数。

析构函数在对象被销毁时调用，就像在创建对象时调用构造函数一样。

如果您使用创建对象`new`，则在调用时将调用析构函数`delete`。

如果您在堆栈上创建了对象，则当您的对象超出范围时将调用析构函数。

您拥有它的原因是在对象消失之前执行任何资源清理、通知或其他所需的工作。为对象本身保留的内存将在析构函数的整个持续时间内有效。

# apache - Apache 反向代理没有按照我期望的方式重写 URL

> ID：12889048
> 
> 赞同：1
> 
> 时间：2012-10-15T03:49:51.020
> 
> 标签：apache, apache2, debian, reverse-proxy, mod-proxy

我对 Apache 很陌生，希望设置一个反向代理以便能够访问我从一个站点获得的一些 IP 摄像机的 Web 界面。我使用的基本布局如下：

```
 / Cam 1 - 192.168.1.10  
Reverse Proxy - 192.168.1.6 -
                             \ Cam 2 - 192.168.1.11 
```

当我单击一个链接时，它没有正确解析，URL 应该是`http://192.168.1.6/cam1/settings.htm`，但它解析为`http://192.168.1.6/setting.htm`

```
Not Found
The requested URL /setting.htm was not found on this server.
Apache/2.2.22 (Debian) Server at 192.168.1.6 Port 80 
```

我的配置在这里，我使用标准的 httpd.conf 并启用了代理和重写模块：

```
ProxyRequests off
<Proxy *>
    Order allow,deny
    Allow from all
</Proxy>

<VirtualHost *>
        Servername webserver
        RewriteEngine on

        RewriteRule ^/cam1/(.*)$ http://192.168.1.10$1 [P]
        RewriteRule ^/cam2/(.*)$ http://192.168.1.11$1 [P]

        ProxyPass /cam1 http://192.168.1.10
        ProxyPassReverse /cam1 http://192.168.1.10
        ProxyPass /cam2 http://192.168.1.11
        ProxyPassReverse /cam2 http://192.168.1.11

</VirtualHost> 
```

任何帮助，将不胜感激。

干杯，亚当

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-01-03T18:34:31.143

对于未来的用户：

cat /etc/apache2/sites-available/default

```
<VirtualHost *:80>
    ServerAdmin user@work.com.br

    DocumentRoot /var/www
    <Directory />
            Options FollowSymLinks
            AllowOverride All
    </Directory>
    <Directory /var/www/>
            Options Indexes FollowSymLinks MultiViews
            AllowOverride All
            Order allow,deny
            allow from all
    </Directory>

    ScriptAlias /cgi-bin/ /usr/lib/cgi-bin/
    <Directory "/usr/lib/cgi-bin">
            AllowOverride None
            Options +ExecCGI -MultiViews +SymLinksIfOwnerMatch
            Order allow,deny
            Allow from 192.168.5.25
    </Directory>

    ErrorLog ${APACHE_LOG_DIR}/error.log

    # Possible values include: debug, info, notice, warn, error, crit,
    # alert, emerg.
    LogLevel warn

    CustomLog ${APACHE_LOG_DIR}/access.log combined

    ProxyPass               /cameras/               http://192.168.5.6/
    ProxyPassReverse        /cameras/               http://192.168.5.6/ 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-15T10:26:08.363

在日志中，您可以清楚地看到缺少一些文件，例如**File does not exist: /var/www/jpg**和**/var/www/lang**所以这可能是您的存储问题的原因。我敢打赌您错过了一些配置而服务器或您的服务器 msy 由于其他一些文件而在运行时损坏了这些文件。我建议您重新下载然后重新安装。

# javascript - JSFiddle 上的 Github 存储库中缺少显示 Javascript 演示

> ID：12889049
> 
> 赞同：1
> 
> 时间：2012-10-15T03:50:18.780
> 
> 标签：javascript, jquery, github, jsfiddle

我[在 github 上](https://github.com/viyancs/JS-Fiddle-Experiment/tree/master/dropdown/demo/)有一个存储库，我想在 JSFiddle 上显示。我试过这个教程 [http://doc.jsfiddle.net/use/github_read.html](http://doc.jsfiddle.net/use/github_read.html)。但是当我访问这个[url](http://jsfiddle.net/gh/get/jQuery/1.8.2/viyancs/JS-Fiddle-Experiment/tree/master/Drop-Down-Jquery-Custom)时，我什么也没看到，只是一个 jsfiddle 模板。

如何使用 github 存储库在 JSFiddle 中显示我的 javascript 演示？

感谢您的回答。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-15T06:34:57.707

我发现要解决这个问题，

名称文件 js,css,html,details 建议使用 'demo'（不带引号）

检查这个[网址](http://jsfiddle.net/gh/get/jquery/1.8.2/viyancs/JS-Fiddle-Experiment/tree/master/dropdown/demo/)

# teamcity - 为什么我会从 TeamCity 服务器上的 MSpec 获得 MissingMethodException？

> ID：12889051
> 
> 赞同：5
> 
> 时间：2012-10-15T03:50:37.560
> 
> 标签：teamcity, mspec

最近，我在 TeamCity 构建中运行 MSpec 测试时遇到了问题。这发生在两个不同（不相关）的项目上。一切都会在本地正常工作，但是当 TeamCity 构建运行时，我会得到某些 MSpec 类型的 MissingMethodExceptions。

然后构建继续运行我的所有 5 个（到目前为止）规范，*所有这些都通过*. 但是构建失败了，因为该步骤以错误结束。

如果它有任何区别，我的目标是 .NET 4.5 并`mspec-clr4.exe`用于在 TeamCity 服务器上运行测试。我使用 MSpec 0.5.9 并使用 TeamCity 的 NuGet 安装程序直接从 NuGet 中提取它。我们在 TeamCity 7.1

这是我的构建步骤配置 ![MSpec 测试运行器的 TeamCity 构建步骤配置](../Images/433b9735e73ac2382607196c055d58b7.png)

这是日志文件输出的一部分：

```
[04:27:12]第 3/4 步：单元测试和代码覆盖率 (MSpec) (47s)
[04:27:12]开始：C:\BuildAgent\plugins\dotnetPlugin\bin\JetBrains.BuildServer.NUnitLauncher.exe #TeamCityImplicit
[04:27:12]在目录：C:\BuildAgent\work\13af8c5b6a6273c6
[04:27:22]JetBrains dotCover Console Runner v2.0.425.72。版权所有 (c) 2009-2012 JetBrains sro 保留所有权利。
[04:27:22]
[04:27:39][JetBrains dotCover] 报道会议开始 [15/10/2012 04:25:58]
[04:27:45]运行规范。
[04:27:47]

System.MissingMethodException：没有为此对象定义无参数构造函数。
   在 System.RuntimeTypeHandle.CreateInstance（RuntimeType 类型，Boolean publicOnly，Boolean noCheck，Boolean& canBeCached，RuntimeMethodHandleInternal& ctor，Boolean& bNeedSecurityCheck）
   在 System.RuntimeType.CreateInstanceSlow（布尔 publicOnly，布尔 skipCheckThis，布尔填充缓存，StackCrawlMark 和 stackMark）
   在 System.RuntimeType.CreateInstanceDefaultCtor（布尔 publicOnly，布尔 skipCheckThis，布尔 fillCache，StackCrawlMark 和 stackMark）
   在 System.Activator.CreateInstance（类型类型，布尔非公共）
   在 System.Activator.CreateInstance（类型类型）
   在 Machine.Specifications.Explorers.AssemblyExplorer.CreateContextFrom（类型类型）
   在 System.Linq.Enumerable.WhereSelectEnumerableIterator`2.MoveNext()
   在 System.Linq.Enumerable.Any[TSource]（IEnumerable`1 源）
   在 Machine.Specifications.Runner.Impl.DefaultRunner.StartRun(IDictionary`2 contextMap)
   在 Machine.Specifications.Runner.Impl.DefaultRunner.RunAssembly（装配装配）
   在 Machine.Specifications.Runner.Impl.AppDomainRunner.AssemblyRunner..ctor（ISpecificationRunListener 侦听器，程序集程序集，RunOptions 选项）
[04:27:48]

System.MissingMethodException：没有为此对象定义无参数构造函数。
   在 System.RuntimeTypeHandle.CreateInstance（RuntimeType 类型，Boolean publicOnly，Boolean noCheck，Boolean& canBeCached，RuntimeMethodHandleInternal& ctor，Boolean& bNeedSecurityCheck）
   在 System.RuntimeType.CreateInstanceSlow（布尔 publicOnly，布尔 skipCheckThis，布尔填充缓存，StackCrawlMark 和 stackMark）
   在 System.RuntimeType.CreateInstanceDefaultCtor（布尔 publicOnly，布尔 skipCheckThis，布尔 fillCache，StackCrawlMark 和 stackMark）
   在 System.Activator.CreateInstance（类型类型，布尔非公共）
   在 System.Activator.CreateInstance（类型类型）
   在 Machine.Specifications.Explorers.AssemblyExplorer.CreateContextFrom（类型类型）
   在 System.Linq.Enumerable.WhereSelectEnumerableIterator`2.MoveNext()
   在 System.Linq.Enumerable.Any[TSource]（IEnumerable`1 源）
   在 Machine.Specifications.Runner.Impl.DefaultRunner.StartRun(IDictionary`2 contextMap)
   在 Machine.Specifications.Runner.Impl.DefaultRunner.RunAssembly（装配装配）
   在 Machine.Specifications.Runner.Impl.AppDomainRunner.AssemblyRunner..ctor（ISpecificationRunListener 侦听器，程序集程序集，RunOptions 选项）
[04:27:48]

System.MissingMethodException：没有为此对象定义无参数构造函数。
   在 System.RuntimeTypeHandle.CreateInstance（RuntimeType 类型，Boolean publicOnly，Boolean noCheck，Boolean& canBeCached，RuntimeMethodHandleInternal& ctor，Boolean& bNeedSecurityCheck）
   在 System.RuntimeType.CreateInstanceSlow（布尔 publicOnly，布尔 skipCheckThis，布尔填充缓存，StackCrawlMark 和 stackMark）
   在 System.RuntimeType.CreateInstanceDefaultCtor（布尔 publicOnly，布尔 skipCheckThis，布尔 fillCache，StackCrawlMark 和 stackMark）
   在 System.Activator.CreateInstance（类型类型，布尔非公共）
   在 System.Activator.CreateInstance（类型类型）
   在 Machine.Specifications.Explorers.AssemblyExplorer.CreateContextFrom（类型类型）
   在 System.Linq.Enumerable.WhereSelectEnumerableIterator`2.MoveNext()
   在 System.Linq.Enumerable.Any[TSource]（IEnumerable`1 源）
   在 Machine.Specifications.Runner.Impl.DefaultRunner.StartRun(IDictionary`2 contextMap)
   在 Machine.Specifications.Runner.Impl.DefaultRunner.RunAssembly（装配装配）
   在 Machine.Specifications.Runner.Impl.AppDomainRunner.AssemblyRunner..ctor（ISpecificationRunListener 侦听器，程序集程序集，RunOptions 选项）
[04:27:48]

System.MissingMethodException：没有为此对象定义无参数构造函数。
   在 System.RuntimeTypeHandle.CreateInstance（RuntimeType 类型，Boolean publicOnly，Boolean noCheck，Boolean& canBeCached，RuntimeMethodHandleInternal& ctor，Boolean& bNeedSecurityCheck）
   在 System.RuntimeType.CreateInstanceSlow（布尔 publicOnly，布尔 skipCheckThis，布尔填充缓存，StackCrawlMark 和 stackMark）
   在 System.RuntimeType.CreateInstanceDefaultCtor（布尔 publicOnly，布尔 skipCheckThis，布尔 fillCache，StackCrawlMark 和 stackMark）
   在 System.Activator.CreateInstance（类型类型，布尔非公共）
   在 System.Activator.CreateInstance（类型类型）
   在 Machine.Specifications.Explorers.AssemblyExplorer.CreateContextFrom（类型类型）
   在 System.Linq.Enumerable.WhereSelectEnumerableIterator`2.MoveNext()
   在 System.Linq.Enumerable.Any[TSource]（IEnumerable`1 源）
   在 Machine.Specifications.Runner.Impl.DefaultRunner.StartRun(IDictionary`2 contextMap)
   在 Machine.Specifications.Runner.Impl.DefaultRunner.RunAssembly（装配装配）
   在 Machine.Specifications.Runner.Impl.AppDomainRunner.AssemblyRunner..ctor（ISpecificationRunListener 侦听器，程序集程序集，RunOptions 选项）
[04:27:48]

System.MissingMethodException：没有为此对象定义无参数构造函数。
   在 System.RuntimeTypeHandle.CreateInstance（RuntimeType 类型，Boolean publicOnly，Boolean noCheck，Boolean& canBeCached，RuntimeMethodHandleInternal& ctor，Boolean& bNeedSecurityCheck）
   在 System.RuntimeType.CreateInstanceSlow（布尔 publicOnly，布尔 skipCheckThis，布尔填充缓存，StackCrawlMark 和 stackMark）
   在 System.RuntimeType.CreateInstanceDefaultCtor（布尔 publicOnly，布尔 skipCheckThis，布尔 fillCache，StackCrawlMark 和 stackMark）
   在 System.Activator.CreateInstance（类型类型，布尔非公共）
   在 System.Activator.CreateInstance（类型类型）
   在 Machine.Specifications.Explorers.AssemblyExplorer.CreateContextFrom（类型类型）
   在 System.Linq.Enumerable.WhereSelectEnumerableIterator`2.MoveNext()
   在 System.Linq.Enumerable.Any[TSource]（IEnumerable`1 源）
   在 Machine.Specifications.Runner.Impl.DefaultRunner.StartRun(IDictionary`2 contextMap)
   在 Machine.Specifications.Runner.Impl.DefaultRunner.RunAssembly（装配装配）
   在 Machine.Specifications.Runner.Impl.AppDomainRunner.AssemblyRunner..ctor（ISpecificationRunListener 侦听器，程序集程序集，RunOptions 选项）
[04:27:48]

System.MissingMethodException：没有为此对象定义无参数构造函数。
   在 System.RuntimeTypeHandle.CreateInstance（RuntimeType 类型，Boolean publicOnly，Boolean noCheck，Boolean& canBeCached，RuntimeMethodHandleInternal& ctor，Boolean& bNeedSecurityCheck）
   在 System.RuntimeType.CreateInstanceSlow（布尔 publicOnly，布尔 skipCheckThis，布尔填充缓存，StackCrawlMark 和 stackMark）
   在 System.RuntimeType.CreateInstanceDefaultCtor（布尔 publicOnly，布尔 skipCheckThis，布尔 fillCache，StackCrawlMark 和 stackMark）
   在 System.Activator.CreateInstance（类型类型，布尔非公共）
   在 System.Activator.CreateInstance（类型类型）
   在 Machine.Specifications.Explorers.AssemblyExplorer.CreateContextFrom（类型类型）
   在 System.Linq.Enumerable.WhereSelectEnumerableIterator`2.MoveNext()
   在 System.Linq.Enumerable.Any[TSource]（IEnumerable`1 源）
   在 Machine.Specifications.Runner.Impl.DefaultRunner.StartRun(IDictionary`2 contextMap)
   在 Machine.Specifications.Runner.Impl.DefaultRunner.RunAssembly（装配装配）
   在 Machine.Specifications.Runner.Impl.AppDomainRunner.AssemblyRunner..ctor（ISpecificationRunListener 侦听器，程序集程序集，RunOptions 选项）
[04:27:48]Tigra.Graffiti.Specifications 中的运行规范
[04:27:48]Tigra.Graffiti.Specifications (2s)
[04:27:50]CalendarFunctions 基于 CSS 的格式，在构建日历日列表项时 > 应该生成预期的 html
[04:27:50]CalendarFunctions 基于 CSS 的格式，在为事件日构建日历日列表项时 > 应该生成带有事件日期 css 类的 html
[04:27:51]CalendarFunctions 基于 CSS 的格式，当构建带有事件的日历日列表项 > 应该生成带有 hasEvents css 类的 html
[04:27:51]CalendarFunctions 基于 CSS 的格式，当构建带有事件的日历日列表项并且是事件日期时 > 应该生成带有事件日期 css 类的 html
[04:27:51]CalendarFunctions 基于 CSS 的格式，当构建包含事件和事件的日历日列表项时 > 应该生成带有事件日期 css 类的 html
[04:27:51]运行失败：System.Runtime.Serialization.SerializationException：类型未解析成员'Machine.Specifications.Runner.RunOptions，Machine.Specifications，版本=0.5.9.0，Culture=neutral，PublicKeyToken=null '。
[04:27:51] 在 System.AppDomain.CreateInstanceAndUnwrap（字符串 assemblyName，String typeName，布尔忽略Case，BindingFlags bindingAttr，Binder binder，Object [] args，CultureInfo 文化，Object [] activationAttributes，证据 securityAttributes）
[04:27:51] 在 Machine.Specifications.Runner.Impl.AppDomainRunner.CreateRunnerAndUnloadAppDomain（String runMethod，AppDomain appDomain，Assembly 程序集，Object [] args）
[04:27:51] 成员 'Machine.Specifications.Runner.RunOptions,Machine.Specifications, Version=0.5.9.0, Culture=neutral, PublicKeyToken=null'的类型未解析。
[04:27:57][JetBrains dotCover] 覆盖会议结束 [15/10/2012 04:26:16]
[04:27:57][JetBrains dotCover] 分析的应用程序以代码“-1”退出
```

# android - 如何在 Android 中绘制自定义条形图

> ID：12889055
> 
> 赞同：2
> 
> 时间：2012-10-15T03:51:07.667
> 
> 标签：android, bar-chart

我正在开发一个应用程序，其中需要在条形图中显示结果。我曾尝试使用和许多其他 API 开发`AChartEngine`图表`Google api`。但我的要求是在一个活动中绘制多个图表。我跟着[这个](https://stackoverflow.com/questions/4062161/android-i-am-using-achartengine-library-for-graphs-but-not-able-to-integrate-a/4079692#4079692)。它工作正常。但是当我尝试为整个屏幕设置背景图像时，它不起作用

任何人都可以帮助我吗

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-15T04:10:38.330

只需检查一下[`Bar Chart in Android With out any Built in jars`](http://rakhi577.wordpress.com/2012/10/11/bar-chart-in-android-with-out-any-built-in-jars/)。在这里，您可以在没有任何内置 jar 的情况下绘制图表。它只是使用在 ListView 中为 textview 设置高度的概念创建简单的图形。

我通过使用[Horizo​​ntal ListView](http://www.dev-smart.com/archives/34)实现了这一点。这里有两个元素大小相等的双精度数组。并且图形将根据方向（纵向和横向）进行调整。

如果您想在一个活动中使用更多图表，您可以在布局中实现另一个水平列表视图。

我希望这能帮到您....

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-15T04:46:45.990

我可以帮助您使用付费图书馆，它被称为[aiCharts（条形图）](http://www.artfulbits.com/products/android/aicharts.aspx)

或者你应该参考`GraphViewDemo`它也是anice和免费的libraray来制作条形图

[图形视图演示](https://github.com/jjoe64/GraphView-Demos)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-08-01T21:01:40.490

我正在写一篇关于这个主题的[博客文章](http://binaryspells.blogspot.co.nz/2013/06/android-recipes-bar-chart.html)。对于我的一个客户，我创建了一个带有嵌入式条形图的复合视图。我没有找到一个简单灵活的库来实现这一点，所以我决定使用自定义视图。令我惊讶的是，它比我预期的要简单：创建一个自定义视图，将颜色和百分比作为属性，并使用线性布局来包含其实例，使用 layout_weight 或固定的 layout_width 来保持比例。我对结果非常满意。

# iphone - iPhone：从 Web 应用程序访问相册

> ID：12889059
> 
> 赞同：2
> 
> 时间：2012-10-15T03:51:33.477
> 
> 标签：iphone, html

我想开发一个使用 html5、js 的网络应用程序。其中一项功能是访问相册并将图片上传到服务器。如果我开发，是否可以通过网络应用程序访问？我想知道，是否真的可以直接访问专辑等

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-17T07:09:59.987

为此，应该有一些跨平台的应用程序，比如 Phone Gap。例如，如果您的应用程序位于 Phone Gap 中，那么您可以访问

# html - CSS 内容不会包装多个 div

> ID：12889060
> 
> 赞同：0
> 
> 时间：2012-10-15T03:51:35.187
> 
> 标签：html, css

好的，这解释起来相当复杂，所以我把它放在网上：

[http://jsfiddle.net/zSgPr/10/](http://jsfiddle.net/zSgPr/10/)

在此设置中，我需要黄色容器环绕下部棕色 div 和红色页脚 div，将页脚留在页面底部，理想情况下我可以通过像素边距对其进行调整。我已经尝试了多种清除它的方法，但我不知道如何让页脚正常工作或正确封装内容。有人可以建议一种方法吗？多谢你们。

这就是我想要实现的目标

![http://i.imgur.com/PqO44.png](../Images/c7bee272d9e70622392115e56afa7141.png)

回答：

忽略了我需要另一个容器 div 的明显情况。如果有人想在这里看到它在线：http: [//jsfiddle.net/zSgPr/21/](http://jsfiddle.net/zSgPr/21/)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-15T06:06:31.593

添加`bottom:0`到`.textbox`

将`.textbox`div 放在容器外，这意味着当您给`position:absolute`父 div 时，应该`Position:relative`添加相对于主 div 的内容，即`.page`

**[现场演示](http://jsfiddle.net/zSgPr/19/)**

**[解决方案](http://jsfiddle.net/zSgPr/21/)**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-15T06:17:17.750

像这样更改 .textbox 样式可能会有所帮助

```
.textbox{
    margin:0px 10px; 
    background-color:#262626; 
    width:700px;        
    position:relative;
    z-index:40;
    border:2px dashed #381e01;
    float:left;
 } 
```

[演示](http://jsfiddle.net/zSgPr/20/)

# google-chrome-extension - Trigger.io 浏览器扩展：如何在 chrome 清单中生成 exclude_matches？

> ID：12889061
> 
> 赞同：1
> 
> 时间：2012-10-15T03:51:42.757
> 
> 标签：google-chrome-extension, trigger.io

对于我们正在构建的浏览器扩展，我们需要能够在 Chrome 的清单中生成一个“exclude_matches”字段（理想情况下也适用于所有其他浏览器）。我可以手动编辑生成清单文件，但它当然会在重建扩展时被覆盖。

# php - codeigniter 无法将记录插入数据库

> ID：12889063
> 
> 赞同：0
> 
> 时间：2012-10-15T03:51:52.520
> 
> 标签：php, database, codeigniter, activerecord

我收到这样的错误

```
You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ‘Satuan, `Satuan`) VALUES (‘KMJ001’, ‘KKMJ005’, ‘asdf asdf’, ‘123123’, ‘kg’)’ at line 1

INSERT INTO `ms_material_jasa` (`Kode_Material_Jasa`, `Kode_Kategori_Material_Jasa`, `Nama_Jenis_Material_Jasa`, `Harga` Satuan, `Satuan`) VALUES (‘KMJ001’, ‘KKMJ005’, ‘asdf asdf’, ‘123123’, ‘kg’) 
```

它指的是我的活动记录模型

```
function create($kmj,$kkmj,$njmj,$hs,$s)
{
    $data=array('Kode_Material_Jasa' => $kmj, 'Kode_Kategori_Material_Jasa' => $kkmj, 'Nama_Jenis_Material_Jasa' => $njmj, 'Harga Satuan' => $hs, 'Satuan' => $s);
    $this->db->insert('ms_material_jasa',$data);

} 
```

这是我的控制器

```
 function tambah()
{
   $data['kmj'] = $this->input->post('kmj');
   $data['kkmj'] = $this->input->post('kkmj');
   $data['njmj'] = $this->input->post('njmj');
   $data['hs'] = $this->input->post('hs');
   $data['s'] = $this->input->post('s');

   $data['title'] = 'QB Tambah Material / Jasa';
   $data['pesan'] = $data['kmj'].' berhasil ditambahkan ! ';

    $this->form_validation->set_rules('kmj','Kode Material / Jasa','trim|required|min_length[2]|max_length[20]|xss_clean');
    $this->form_validation->set_rules('kkmj','Kode Kategori Material / Jasa','trim|required|min_length[2]|max_length[20]|xss_clean');
    $this->form_validation->set_rules('njmj','Nama Jenis Material / Jasa','trim|required|min_length[2]|max_length[20]|xss_clean');
    $this->form_validation->set_rules('hs','Harga Satuan','trim|required|min_length[2]|numeric|max_length[20]|xss_clean');
    $this->form_validation->set_rules('s','Satuan','xss_clean');

    if($this->form_validation->run() == false)
    {
        $lastval = $this->m_admin->getlastval('KMJ','ms_material_jasa','kode_material_jasa');
        $data['nextval'] = $this->m_admin->gencode('KMJ',3,$lastval); 

        $this->load->view('head',$data);
        $this->load->view('content/add_material_jasa',$data);
    }
    else
    {

        $this->m_materialjasa->create($data['kmj'],$data['kkmj'],$data['njmj'],$data['hs'],$data['s']);
        $data['kirim'] = $this->m_materialjasa->read();
        $this->load->view('head',$data);
        $this->load->view('v/vkategorimaterial',$data);

    }

} 
```

看起来像下面的查询

```
INSERT INTO `ms_material_jasa` (`Kode_Material_Jasa`, `Kode_Kategori_Material_Jasa`, `Nama_Jenis_Material_Jasa`, `Harga` Satuan, `Satuan`) VALUES (‘KMJ001’, ‘KKMJ005’, ‘asdf asdf’, ‘123123’, ‘kg’) 
```

是正确的，这是`ms_material_jasa`表格。看起来该条目不会破坏数据库上的数据 type.length 。我不知道出了什么问题，我该如何解决？ ![在此处输入图像描述](../Images/9c91a4cd678d122a7eaa3634865ab43f.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-15T03:54:49.433

您的报价在字段列表中的“Harga Satuan”上的位置错误。错误实际上是这样说的。你的：

```
INSERT INTO `ms_material_jasa` (`Kode_Material_Jasa`, `Kode_Kategori_Material_Jasa`, `Nama_Jenis_Material_Jasa`, `Harga` Satuan, `Satuan`) VALUES (‘KMJ001’, ‘KKMJ005’, ‘asdf asdf’, ‘123123’, ‘kg’) 
```

正确的：

```
INSERT INTO `ms_material_jasa` (`Kode_Material_Jasa`, `Kode_Kategori_Material_Jasa`, `Nama_Jenis_Material_Jasa`, `Harga_Satuan`, `Satuan`) VALUES (‘KMJ001’, ‘KKMJ005’, ‘asdf asdf’, ‘123123’, ‘kg’) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-15T03:55:40.107

您放置了错误的字段名称。请更正这一点，`Harga_Satuan`而不是`Harga Satuan`

```
function create($kmj,$kkmj,$njmj,$hs,$s)
{
    $data=array('Kode_Material_Jasa' => $kmj, 'Kode_Kategori_Material_Jasa' => $kkmj, 'Nama_Jenis_Material_Jasa' => $njmj, 'Harga_Satuan' => $hs, 'Satuan' => $s);
    $this->db->insert('ms_material_jasa',$data);

} 
```

你的查询应该是

```
INSERT INTO `ms_material_jasa` (`Kode_Material_Jasa`, `Kode_Kategori_Material_Jasa`, `Nama_Jenis_Material_Jasa`, `Harga_Satuan`, `Satuan`) VALUES (‘KMJ001’, ‘KKMJ005’, ‘asdf asdf’, ‘123123’, ‘kg’) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-15T03:56:30.917

问题可能是听到'Harga Satuan' => $hs 没有这样的字段。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-15T14:11:10.737

正确的是

```
INSERT INTO `ms_material_jasa` (`Kode_Material_Jasa`, `Kode_Kategori_Material_Jasa`, `Nama_Jenis_Material_Jasa`, `Harga Satuan`, `Satuan`) VALUES ('KMJ001', 'KKMJ005', 'asdf asdf', '123123', 'kg') 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-04-14T14:40:58.217

问题是活动记录未能将撇号放在`Harga`Satuan 中，

```
 $data=array('Kode_Material_Jasa' => $kmj, 'Kode_Kategori_Material_Jasa' => $kkmj, 'Nama_Jenis_Material_Jasa' => $njmj, 'Harga Satuan' => $hs, 'Satuan' => $s);
    $this->db->insert('ms_material_jasa',$data); 
```

这可能是因为单词和数据库中的空格是带和下划线的。要更正此更改，请像这样更改代码。

```
function create($kmj,$kkmj,$njmj,$hs,$s)
{
  $data=array('Kode_Material_Jasa' => $kmj, 'Kode_Kategori_Material_Jasa' => $kkmj, 'Nama_Jenis_Material_Jasa' => $njmj, 'Harga_Satuan' => $hs, 'Satuan' => $s);
$this->db->insert('ms_material_jasa',$data);

} 
```

.

希望它能解决问题。

# xcode - 没有要编译的架构（ONLY_ACTIVE_ARCH=YES，active arch=x86_64，VALID_ARCHS=armv7 armv7s）

> ID：12889065
> 
> 赞同：52
> 
> 时间：2012-10-15T03:52:01.740
> 
> 标签：xcode, xcodebuild

在 Xcode 中运行是正确的，但是当我想使用带有 $ /usr/bin/xcodebuild -scheme projectA -workspace projectA.xcworkspace -configuration Debug clean build 的命令行时

并提出以下建议。

```
=== BUILD NATIVE TARGET projectA OF PROJECT projectA WITH CONFIGURATION Debug ===
Check dependencies
No architectures to compile for (ONLY_ACTIVE_ARCH=YES, active arch=x86_64, VALID_ARCHS=armv7 armv7s). 
```

在构建设置中是：

*   架构：标准（armv7、armv7s）
*   基础 SDK：最新 iOS (iOS 6.0)
*   仅构建活动架构：调试是，发布否
*   有效架构：armv7 armv7s

在我更改`Build Active Architecture Only = No`之后，构建成功。

这种情况的建议设置是什么，在推荐线模式下建立成功？谢谢。

* * *

## 回答 #1

> 赞同：75
> 
> 时间：2012-10-30T07:32:07.390

您可以从命令行本身设置“仅构建活动架构”和“Archs”值。我们设置 ARCHS="armv7 armv7s" ONLY_ACTIVE_ARCH=NO。

> 例如
> 
> /usr/bin/xcodebuild ARCHS="armv7 armv7s" ONLY_ACTIVE_ARCH=NO -workspace -scheme ......

这将使您无需手动更改项目设置中的值。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-04-29T14:19:23.950

在我的情况下，它是目标级别的“有效架构”中的空单元格，导致空的“已解决”单元格。

这导致空的“有效架构”参数和最后的链接器错误。

# android - 无法处理 ListView

> ID：12889066
> 
> 赞同：1
> 
> 时间：2012-10-15T03:52:18.040
> 
> 标签：android

在我`ListView`的项目中有`Switch`活动。当项目溢出屏幕时，必须滑动显示顶部或底部项目。然后，顶部或底部项目的切换将自动改变状态并响应事件的状态变化。隐藏在屏幕后面的项目越多，越多发生变化。我不知道如何解决

有没有人可以帮忙？非常感谢。

**我已经更新了代码**

**代码：**

```
private class MAdapter extends CursorAdapter
{
    private Context context;
    private LayoutInflater mInflater;

    public MAdapter(Context context, Cursor c)
    {
        super(context, c, true);

        this.context = context;
        mInflater = LayoutInflater.from(context);
    }

    @Override
    public View newView(Context context, Cursor cursor, ViewGroup parent)
    {
        View v = mInflater.inflate(R.layout.main_task_list_item, null);
        return v;
    }

    @Override
    public void bindView(View view, Context context, Cursor cursor)
    {
        final MZTask task = new MZTask(cursor);

        // ic
        ImageView ic = (ImageView) view
                .findViewById(R.id.main_list_action_ic);
        ic.setImageResource(task.getIcId());

        // action name
        TextView actionName = (TextView) view
                .findViewById(R.id.main_list_action_name);
        actionName.setText(task.getActionName(context));

        // time
        TextView time = (TextView) view
                .findViewById(R.id.main_list_task_time);
        time.setText(task.getTimeString());

        // repeat
        TextView repeat = (TextView) view
                .findViewById(R.id.main_list_task_repeat);
        repeat.setText(task.getDayStringOfWeek(context));

        // switch view
        final Switch stch = (Switch) view
                .findViewById(R.id.main_list_task_switch);
        stch.setOnCheckedChangeListener(getCheckedChangeListener(task));
        stch.setChecked(task.state());

        // list more
        RelativeLayout icLayout = (RelativeLayout) view
                .findViewById(R.id.main_list_more);
        icLayout.setOnClickListener(new OnClickListener()
        {
            public void onClick(View v)
            {
                popUpMenu(task);
            }
        });

        // ..
        RelativeLayout itemLayout = (RelativeLayout) view
                .findViewById(R.id.main_list_layout_switch);
        itemLayout.setOnClickListener(new OnClickListener()
        {
            public void onClick(View v)
            {
                stch.setChecked(!stch.isChecked());
            }
        });

    }

    public OnCheckedChangeListener getCheckedChangeListener(
            final MZTask task)
    {
        return new OnCheckedChangeListener()
        {
            public void onCheckedChanged(CompoundButton button,
                    boolean change)
            {
                if (change)
                    task.startTask(context, dbAdapter);
                else
                    task.cancelTask(context, dbAdapter);
            }
        };
    }

} 
```

# iphone - 多点触控滑动手势

> ID：12889072
> 
> 赞同：0
> 
> 时间：2012-10-15T03:52:41.120
> 
> 标签：iphone, ui-automation

如何在 UIAutomation 的 UITextView 中模拟两指从左到右的滑动？

我试过这个：

```
var textView = target.frontMostApp().mainWindow().textViews()[0];
textView.dragInsideWithOptions({
    touchCount:2,
    startOffset:{x:0.2, y:5.80},
    endOffset:{x:0.8, y:5.80},
    duration:1.5
}); 
```

但显然它没有任何效果。`2`有时即使我通过触摸计数，它看起来也只做一个手指手势。

一个问题是：UIAutomation 如何知道第二次触摸的位置？我只指定一次触摸的开始和结束，而不是两次。它是否正确？也许这是我问题的根源？
另外，我还不是很清楚物体的坐标系。除非我为 x, y 传递非常小的值，否则我通常会收到警告：*out of bounds*。传递我通常使用 Objective-C 传递的坐标似乎很大:(

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-08-21T13:52:58.597

一个很晚的答案......我在 2015 年的今天遇到了你的问题，我有机会获得用于此功能的 Apple 文档。2012年可能不是这样……

苹果文档说：

> 在为指定元素指定矩形内的命中点时，您可以使用偏移来实现更精细的精度。偏移量包括一对 x 和 y 值，每个值的范围从 0.0 到 1.0。这些值分别表示矩形内的相对水平和垂直位置，其中 {x:0.0, y:0.0} 为左上角，{x:1.0, y:1.0} 为右下角。因此，{x:0.3, y:0.6} 指定了正下方和中心左侧的位置，而 {x:1.0, y:0.5} 指定了在最右侧垂直居中的位置。
> 
> 此示例在目标元素内从左边缘到右边缘执行缓慢拖动，就在顶部下方：
> 
> target.dragInsideWithOptions({startOffset:{x:0.0, y:0.1}, endOffset:{x:1.0, y:0.1}, duration:1.5});

所以 x 和 y 值在您选择的矩形内是相对的。在您的示例中：

```
startOffset:{x:0.2, y:5.80} 
```

您在 textview 中以 20% 的长度从左侧开始滑动，并且 y 超出边界 5.80 倍...

它会更好地使用以下值：

```
startOffset:{x:0.0, y:0.1}, endOffset:{x:0.5, y:0.1} 
```

就我而言，我使用此代码使两指从左到右滑动工作：

```
target.frontMostApp().mainWindow().dragInsideWithOptions({touchCount:2, startOffset:{x:0.0, y:0.1}, endOffset:{x:0.5, y:0.1}, duration:1}); 
```

# java - 如何在 TableModelEvent 中获取 JTable 单元格的原始值？

> ID：12889075
> 
> 赞同：1
> 
> 时间：2012-10-15T03:53:12.483
> 
> 标签：java, swing, jtable

假设我将一个值为“旧”的单元格更改为“新”。这将调用 tableChanged(TableModelEvent)。如何检索单元格在“新”（应该是“旧”）之前的值？

我曾想过复制我的 JTable 的 TableModel，但有没有更简单、更智能的方法来做到这一点？

提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-12-23T06:56:06.543

```
Try this when your table loads first time 
int row1=table.getRowCount();
        int column=table.getColumnCount();
        val=new Object[row1];
        val1=new Object[row1];
        for(int j=0;j<row1;j++){
            val[j]=table.getValueAt(j, 0);
            val1[j]=table.getValueAt(j, 1);

        } 
```

# php - Yii 框架中的验证

> ID：12889078
> 
> 赞同：0
> 
> 时间：2012-10-15T03:53:23.337
> 
> 标签：php, validation, yii, notifications

如何在验证期间在 yii 框架中为字段集动态设置边框？

失败时 fieldset 的边框应该变成红色，而成功时 fieldset 的边框应该变成绿色..

如果任何一个输入失败，如果所有元素都正确，则 feildset 应该显示失败和成功。

```
<fieldset class="field">
<div class="visible column">
<div>
<?php echo $form->labelEx( $modelAddress, 'First Name'); ?>
 <?php echo $form->textField( $modelAddress, 'firstName'); ?> 
<div class="indicator">&nbsp;</div>
<?php echo $form->error( $modelAddress, 'firstName'); ?>
 </div>
</div>
</fieldset>

//My Script
<script>
$(document).ready(function()
{ $("input").each(function(){if ($(this).hasClass("error"))
 { $(this).parent().parent().parent().parent().addClass("fieldseterror");
}
}); 

</script>

//PHP
<?php
$form = $this->beginWidget( 'CActiveForm', array(
'id' => 'registration',
'enableAjaxValidation' => true,
'clientOptions'=>array(
'validateOnSubmit'=>true,
'afterValidate' => 'js:checkErrors'
    ),'htmlOptions' => array( 'class' => 'vertical inner custom_frm_styl')));
?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-15T07:16:51.900

您可以使用 jQuery。Yii 自动将非验证字段更改为具有类 .error，因此您可以检查任何表单字段是否具有类 .error 以更改您想要的任何内容，例如（未经测试）：

```
<script>
    $(function(){
        $('#user-form').submit(function(){
            $("#user-form input").each(function(){
            if ($(this).hasClass("error")){
                    ...
                }
            });
        });
    });
</script> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-15T10:16:21.893

我认为您可以使用 CActiveForm 的[afterValidate](http://www.yiiframework.com/doc/api/1.1/CActiveForm#clientOptions-detail)属性。

```
$myform = $this->beginWidget('CActiveForm',array('id'=>'invoice-form',
    'enableClientValidation'=>true,
'clientOptions'=>array(
        'validateOnSubmit'=>true,
        'afterValidate' => 'js:checkErrors'
    )
));

<script type="text/javascript"> 
    function checkErrors(form, data, hasError) {
        if(!hasError) {
            $('.field').addClass("fieldseterror");
            //$(form).submit();
            return true;
        }
        else {
            //return false;
                }

    }
</script> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-15T10:57:25.613

您只是没有访问正确的`parent`元素。尝试：

```
$(this).parent().parent().parent().addClass("fieldseterror"); 
```

在 yii中包含 jquery 代码的最好方法是使用[`CClientScript`'s`registerScript()`](http://www.yiiframework.com/doc/api/1.1/CClientScript#registerScript-detail "http://www.yiiframework.com/doc/api/1.1/CClientScript#registerScript-detail")，所以在你的*create.php*中，添加：

```
Yii::app()->clientScript->registerScript('checkkk','
            $("input").each(function(){
                if ($(this).hasClass("error")) {
                    var parent_element = $(this).parent().parent().parent();
                    console.log(parent_element);
                    if (!parent_element.hasClass("fieldseterror"))
                        parent_element.addClass("fieldseterror");
                }
            });
'); // you can add this right before the call to renderPartial() 
```

如您所见，我添加了一个`console.log()`调用来检查匹配的父元素。此外，最好`fieldseterror`在添加之前检查字段集是否已经具有该类。

你不需要`validateOnSubmit`or `afterValidate`, 为此。

# c# - 更改组合框的显示项目

> ID：12889083
> 
> 赞同：2
> 
> 时间：2012-10-15T03:53:59.707
> 
> 标签：c#, combobox, usability

我想知道 C# 中是否有办法让 ComboBox (WinForms) 中的选定项目尽可能显示为中间元素。我已经寻找了允许这样做的属性或方法，但没有找到任何东西。我在我正在开发的应用程序中使用了一些，这个功能将大大提高应用程序的可用性。

任何帮助，将不胜感激。

编辑：“中间元素”是指下拉组合框时显示的内容。像这样的东西：![所选元素成为已删除列表的中间](../Images/b50cb8a7641b1d179e7fc5aa1416aeb0.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-15T03:59:30.197

我想这就是你的意思。

**OnFormLoad 事件**：（或您要在其上实现该功能的任何按钮）

```
int count = comboBox.Items.Count;    
comboBox.SelectedIndex =  count/2;  //no need of if else statements 
```

（或者）

```
comboBox.SelectedIndex =  comboBox.Items.Count/2; 
```

# sql-server - 从子查询中选择时出现语法错误

> ID：12889091
> 
> 赞同：-1
> 
> 时间：2012-10-15T03:54:52.727
> 
> 标签：sql-server, sql-server-2008, subquery

执行以下查询时出现语法错误？

```
select *
    from (select row_number() over (order by title) as RowNum  from question)
    where RowNum>5 
```

任何人都知道如何修复它？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-15T03:55:41.040

像这样给`ALIAS`子查询：

```
SELECT *
FROM (SELECT row_number() OVER (ORDER BY title) AS RowNum  FROM question) AS t1
WHERE RowNum>5 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-15T04:59:37.083

如果您从子查询中的 TABLE 中选择 COLUMNS 会有所帮助，不是吗？

```
select *
from (
    select *, row_number() over (order by title) as RowNum
    from question) SQ
where RowNum > 5 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-15T05:11:53.527

```
;With CTE AS
(

    select row_number() over (order by title) as RowNum  from question
)
select * 
From Cte
Where RowNum > 5 
```

或者

```
Select * From
(select row_number() over (order by title) as RowNum  from question)X
Where X.RowNum > 5 
```

# html - 在wordpress中链接回主页

> ID：12889093
> 
> 赞同：10
> 
> 时间：2012-10-15T03:55:09.917
> 
> 标签：html, wordpress, hyperlink, hierarchy, file-structure

所以我在我的网站的子目录中安装了 WordPress，并设置了永久链接。

我的网站设置如下：

```
-index.php
-style.css
-/contact
---index.php
-/blog
---(Wordpress installation) 
```

所以我的问题是，每当我使用 an `<a href="../">Home</a>`链接回我的主页时，它只适用于我的主博客页面。如果我转到永久链接帖子，它会将我带回博客主页。

我想知道的是，有没有办法链接回我的博客主页和永久链接帖子的主页？如果我使用 ../../ 它适用于帖子，但不适用于博客主页。

我希望我的措辞足够清楚，如果我遗漏了什么，请告诉我。非常感谢任何帮助，谢谢。

* * *

## 回答 #1

> 赞同：28
> 
> 时间：2012-10-15T04:08:40.843

```
<a href="<?php echo home_url(); ?>">Home</a> 
```

请参阅：[http ://codex.wordpress.org/Function_Reference/home_url](http://codex.wordpress.org/Function_Reference/home_url)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-15T04:06:32.873

您可以使用该`home_url`功能：[http ://codex.wordpress.org/Function_Reference/home_url](http://codex.wordpress.org/Function_Reference/home_url)

我还建议查看 WordPress 函数参考，并使用适当的内置函数，而不是自己发明。

编辑：不确定您是要返回主索引还是 WordPress 索引。如果你只想链接回你的第一个`index.php`，你可以简单地使用`<a href="/>Home</a>`

# php - Paypal 与 PHP 的逐步集成

> ID：12889094
> 
> 赞同：15
> 
> 时间：2012-10-15T03:55:21.687
> 
> 标签：php, paypal

我是 Paypal 与 PHP 集成的新手，我在互联网上进行了搜索，但无法在我的网站中找到正确的实现。

任何人都可以帮助我的网站逐步集成贝宝，包括创建测试帐户。

提前致谢。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-15T04:22:26.730

当我制作我的第一个贝宝脚本时，我所做的最有用的事情之一就是记录通过的每一条信息。每当 Paypal 调用确认页面时，我都会将所有内容转储到一个文本文件中。查看他们传递的内容并进行调试非常有帮助。Paypal 发送交易的 POST。

```
$dumpfile = "=== post fields\n";
foreach($_POST as $k=>$v)
    $dumpfile .= "[$k] => $v\n";

$dumpfile .= "=== http request headers\n";
foreach(apache_request_headers() as $k=>$v)
    $dumpfile .= "[$k] => $v\n";

file_put_contents('pathToAWritableFile', $dumpfile); 
```

我希望这可以为您节省一些头痛。作为旁注，我仍然将所有贝宝请求信息保存在数据库中，以防在我更新贝宝确认脚本后购买逻辑失败，这为我节省了几次。

[这是一个关于如何处理来自贝宝的回调的教程。](http://www.micahcarrick.com/paypal-ipn-with-php.html)

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-10-15T03:57:17.750

[https://developer.paypal.com/](https://developer.paypal.com/)是一个很好的起点。

他们在那里提供指南、代码库和示例。

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2012-10-15T04:26:15.240

`sandbox.paypal.com`换句话说，您需要了解 PayPal 如何使用和重新创建帐户邮件`https://developer.paypal.com/`。要使用虚拟货币创建测试（沙盒）账户，您需要在 developer.paypal.com 上注册沙盒主账户。

处理后，您应该正确配置 PayPal 帐户上的数据，并按照沙盒开发人员的指南进行操作。例如如何检查买家使用（查看代码 ECSetExpressCheckout）。

PayPal指南的第一眼（这是一般的）：

[寻找贝宝付款教程](https://stackoverflow.com/questions/5593136/looking-for-paypal-payments-tutorial)

这是如何使用 PayPal 进行操作的主要站点：

[https://cms.paypal.com/ca/cgi-bin/?cmd=_render-content&content_ID=developer/library_code](https://cms.paypal.com/ca/cgi-bin/?cmd=_render-content&content_ID=developer/library_code)

您想要操纵成功付款（查看 ECSetExpressCheckout，最常见的交易）：

源代码在这里：[https ://cms.paypal.com/cms_content/CA/en_US/files/developer/nvp_ECSetExpressCheckout_php.txt](https://cms.paypal.com/cms_content/CA/en_US/files/developer/nvp_ECSetExpressCheckout_php.txt)

专注于代码：

```
$paymentAmount = urlencode('30'); // 30 USD if you set on sandbox default
$currencyID = urlencode('USD');                         // or other currency code ('GBP', 'EUR', 'JPY', 'CAD', 'AUD')
$paymentType = urlencode('Order');          

$returnURL = urlencode("my_return_url"); // YOUR URL IF SUCCESS
$cancelURL = urlencode('my_cancel_url'); // YOUR URL IF FAILED 
```

如果您需要在付款后通过 TRANSACTION_ID 使用 GetTransactionDetails 功能检查交易：[https ://cms.paypal.com/cms_content/CA/en_US/files/developer/nvp_GetTransactionDetails_php.txt](https://cms.paypal.com/cms_content/CA/en_US/files/developer/nvp_GetTransactionDetails_php.txt)

# java - 在JAVA中的pdf文件中添加图标

> ID：12889098
> 
> 赞同：-4
> 
> 时间：2012-10-15T03:55:38.967
> 
> 标签：java, pdf

如何在 pdf 文件中添加信头图标？它只打印文本文件中的值。

```
 try{
    Document document = new Document();
    PdfWriter.getInstance(document, new FileOutputStream("Payment.pdf"));
    document.open();
    document.add(new Paragraph("Payment Information", FontFactory.getFont(FontFactory.COURIER,18, Font.BOLD)));
    document.add(new Paragraph(" "));
    document.add(new Paragraph("Customer ID:  "+value1));
    document.add(new Paragraph("Name:  "+value2));
    document.add(new Paragraph("Date Applied:  "+value3));
    document.add(new Paragraph("Months:  "+value4));
    document.add(new Paragraph("Amount:  "+value5));
    document.add(new Paragraph("Interest:  "+value6));
    document.add(new Paragraph("Monthly Payment:  "+value7));
    document.add(new Paragraph("Total:  "+value8));
    document.close();
    JOptionPane.showMessageDialog(null, "Record Saved");
    }
    catch(Exception e){
    JOptionPane.showMessageDialog( null, e);
    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-15T03:59:38.513

您可以使用 .add 将图像或图标添加到 pdf 中`document.add(image)`。以下链接将为您提供示例：

[Itext 添加/插入图像到 PDF](http://www.javatips.net/blog/2011/12/itext-add-insert-image-into-pdf)

上面的例子是使用 IText API。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-12-12T08:02:59.210

如果要添加字母，则创建扩展 itext 的 PdfPageEventHelper 的类，并且可以在使用名称 onStartPage 预定义的方法中添加图像，如果要添加页尾，则可以使用 onEndPage

# sql-server - 使用xml文件执行存储过程

> ID：12889101
> 
> 赞同：0
> 
> 时间：2012-10-15T03:56:02.677
> 
> 标签：sql-server, xml, visual-studio-2010, ssis

我在 SQL Server 中有一个带有一些表和存储过程的数据库。我在 Visual Studio 中创建了一个 ssis 包页面。我希望包运行存储过程，但通过 XML 配置文件指定参数、源表和目标表。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-15T08:05:18.180

您将需要修改存储过程以使用动态 SQL。您将需要在存储过程中添加其他参数以接受表名。

在 SSIS 包中，添加一个带有 XPath 操作的 XML 任务，以将节点读入 SSIS 变量。然后，您可以将 SSIS 变量传递到执行 SQL 任务中。确保您还为此任务设置了延迟验证

# c++ - 成功 SSL 通信的要求

> ID：12889103
> 
> 赞同：0
> 
> 时间：2012-10-15T03:56:13.007
> 
> 标签：c++, ssl, client-server, thrift

我正在使用 thrift 编写一个 C++ 客户端，它将安全地调用用 java 编写的服务器（不是我编写的）（使用相同的 thrift 文件为服务器和客户端生成的代码）。我是 SSL 通信的新手。对于 java 服务器端，我将客户端的公钥证书导入到服务器信任库 (server-truststore.jks) 以验证客户端的真实性。我从服务器端密钥库 (server.jks) 导出了公共证书，并在客户端使用它在 SSL 握手期间验证服务器密钥证书。如果我列出我为 SSL 通信所做的工作：

服务器端（java）：

1.  将客户端的公钥证书导出到服务器的信任库

客户端（C++）：

1.  加载了从服务器的密钥库中导出的服务器的公共证书
2.  分别加载了客户端的公钥和私钥（这是因为客户端是用c++写的，所以不能直接使用java key store）

使用的所有证书都是自签名的。

到目前为止，我一直没有成功并不断收到以下错误：

```
SSL_connect: certificate verify failed 
```

我有两个问题：

1.  我用于 SSL 通信的方法是否正确？如果不是，那么正确的是什么？
2.  此错误的任何可能原因？

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-05-26T11:39:55.153

检查是否可以直接验证密钥调用： openssl s_client -connect serverIP:Port 。如果可以的话，您的代码有问题，为此我们将需要有关它的更多详细信息。如果不是...您没有使用证书。服务器正在向您发送，或者证书有问题。

# sql - 如何从查询值中显示领导者的姓名

> ID：12889104
> 
> 赞同：1
> 
> 时间：2012-10-15T03:56:14.167
> 
> 标签：sql, razor, webmatrix

我正在使用 WebMatrix 构建一个网页，该网页可以查询我们的会计软件并显示当天的顶级推销员。

我有 4 个推销员：sam（推销员 7） Jared（推销员 8） Charlie（推销员 12） Mitchell（推销员 17）

查询代码：

```
var ssjb = db.QueryValue("SELECT SUM(SUBTOTAL) FROM dbo.DR_TRANS where Transdate = 41195 and SALESNO = 7 and subtotal >0");  
var sjdp = db.QueryValue("SELECT SUM(SUBTOTAL) FROM dbo.DR_TRANS where Transdate = 41195 and SALESNO = 8 and subtotal >0");  
var scjb = db.QueryValue("SELECT SUM(SUBTOTAL) FROM dbo.DR_TRANS where Transdate = 41195 and SALESNO = 12 and subtotal >0");    
var smms = db.QueryValue("SELECT SUM(SUBTOTAL) FROM dbo.DR_TRANS where Transdate = 41195 and SALESNO = 17 and subtotal >0"); 
```

现在，我想评估四个查询的结果，并显示“Top Salesman: *name* ”

我不知道如何评估查询然后将推销员编号转换为相应的名称。

编辑：数据库结构：

*   dbo.staff 有很多列，但前两个是`staffno`(主键) 和`Name`.
*   dbo.DR_TRANS 再次包含许多列，但我们正在使用的两列是`subtotal`和`salesno`- 两者都不是键。此表有一个滚动键，即发票编号。
*   `Salesno`源自`staffno`（由应用程序从登录详细信息传递。）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-15T09:03:33.580

这是你需要的吗？

```
SELECT TOP 1 staff.Name, SUM(SubTotal)
FROM Staff
INNER JOIN DR_TRANS on Staff.StaffNO = DR_TRANS.SalesNO
WHERE DR_TRANS.Transdate = 41195 and DR_TRANS.SALESNO IN (7,8,12,17) and DR_TRANS.subtotal > 0
GROUP BY staff.Name
ORDER BY SUM(SubTotal) DESC 
```

结果将是具有最大 subTotal 的推销员的姓名。这`Top 1`将迫使它只返回第一行。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-15T09:04:50.083

下面，（*我认为*）我们您正在寻找的查询。两个表都`INNER JOIN`通过它们的*链接*列连接`DR_TRANS.Salesno = Staff.StaffNo`。它将列出所有`Staff`有记录的人和哪些人`subtotal > 0`。无需添加条件，`staffNo`因为它们根据总交易按降序排列。

```
SELECT  b.Name, SUM(subtotal) totalSUM
FROM    DR_TRANS a
        INNER JOIN Staff b
            ON a.Salesno = b.Staffno
WHERE   a.TransDATe = 41195 AND
        a.subtotal > 0
GROUP BY b.Name
ORDER BY totalSUM DESC 
```

# c# - 使用 .net 中的 Pop3.dll 从 MailBox 下载电子邮件附件

> ID：12889106
> 
> 赞同：0
> 
> 时间：2012-10-15T03:56:20.077
> 
> 标签：c#, .net, winforms, pop3, email-attachments

我正在使用 vs 2010 开发使用 c# 的 winform 应用程序。

对于从邮箱下载电子邮件附件，我使用了 pop3.dll

当我在直接连接到 Internet 的机器上使用它时，我的代码下载附件，但是当我在使用 ISA 服务器 2004 作为防火墙的域中使用它时，我的代码只显示邮箱有多少消息然后去等待

请任何人告诉我为什么以及我应该怎么做才能解决这个问题..

这是代码

```
public bool DownloadEmailWithAttachment(string Type)
    {
        try
        {
            EventLog.WriteEntry("Service", "Attachment Path :> " + AttachmentDir);
            long count = 0;
            Pop3Client email = new Pop3Client(UserName, Password, IncomingPopAddress);
            email.OpenInbox();                
            //LogEntry();
            EventLog.WriteEntry("Service", "Counter :> " + email.MessageCount);
            while (email.NextEmail())
            {
                count = email.MessageCount;
                if (email.IsMultipart)
                {

                    IEnumerator enumerator = email.MultipartEnumerator;
                    while (enumerator.MoveNext())
                    {
                        Pop3Component multipart = (Pop3Component)enumerator.Current;
                        string checkIfFile = multipart.Filename;

                        if (checkIfFile != null)
                        {
                            //Console.WriteLine("checkIfFile.Contains('Leave') =" + checkIfFile.ToString());
                            EventLog.WriteEntry("Service", "checkIfFile.Contains('"+Type+"') =" + checkIfFile.ToString());
                            if (checkIfFile.Contains(""+Type))
                            {
                                EventLog.WriteEntry("Service", "Attachment name=" + multipart.Name); // ... etc
                                byte[] filebytes = Encoding.ASCII.GetBytes(multipart.Data);

                                //Search FileName
                                int fileLength = checkIfFile.Length;
                                EventLog.WriteEntry("Service", "fileLength=" + fileLength);
                                //int Begin = multipart.ContentType.IndexOf("name="+checkIfFile.ToString());
                                string leFileNale = checkIfFile.ToString();
                                EventLog.WriteEntry("Service", leFileNale);
                                FileStream LeFS = new FileStream(AttachmentDir + "\\" + leFileNale, FileMode.Create, FileAccess.Write, FileShare.None);
                                LeFS.Write(filebytes, 0, filebytes.Length);
                                LeFS.Close();
                                string DeleteMailContainingSubject = email.Subject.ToString();
                                if (email.Subject.Contains(DeleteMailContainingSubject))
                                {
                                    email.DeleteEmail();
                                    EventLog.WriteEntry("Service", "Email with Subject " + DeleteMailContainingSubject);
                                }
                            }
                        }
                    }
                }
            }                
            email.CloseConnection();
        }
        catch (Pop3LoginException ex)
        {
            EventLog.WriteEntry("Service","Exception :" + ex.ToString());
        }
        return true;
    } 
```

这是我下载电子邮件附件的代码。

# java - 将 4D 数组保存到文件时遇到问题

> ID：12889109
> 
> 赞同：0
> 
> 时间：2012-10-15T03:56:32.277
> 
> 标签：java, arrays, multidimensional-array

我有一些代码似乎没有按应有的方式运行。重点是取一个 256x128x256x2 整数数组，将其拆分为 256 个 16x128x16x2 块，将这些块处理成一个字节数组，然后将该字节数组添加到要保存的主字节数组中。`chunkdata[]`保存前没问题，但保存后整个文件除了前 4096 个字节外都是空白的。位置表（文件中每个块的位置）在那里，前四个字节的“块头”在那里，其他的都是 0，这是不应该发生的。

```
public void createFile(int[][][][] map){
    byte[] file = new byte[fileLength]; //22,024,192 bytes long
    System.arraycopy(Sector.locationTable, 0, file, 0, Sector.locationTable.length); //This works as it should
    for(int cx = 0; cx < 16; cx++)
    {
        for(int cz = 0; cz < 16; cz++)
        {
            int start = sectorLength+cx*(sectorLength*chunkSectorLength)+cz*(chunkRows*sectorLength*chunkSectorLength); //this algorithm works, just rather hideous 
            int[][][][] chunk = getChunk(map, cx * 16, cz * 16); //This works as it should
            byte[] chunkdata = putChunk(chunk); //The data from this is correct

            int counter = 0;
            for(int i=start;i<chunkdata.length;i++){
                file[i]=chunkdata[counter]; //Data loss here?
                counter++;
            }
        }
    }
    System.out.println("Saving file...");
    writeFile(file, fileLocation);
}

public static void writeFile(byte[] file,String filename){
    try{
        FileOutputStream fos = new FileOutputStream(filename);
        fos.write(file);
        fos.close();
        Messages.showSuccessfulSave();
    }catch(Exception ex){
        Messages.showFileSavingError(ex);
    }
} 
```

那么，假设 putChunk 和 getChunk 按预期工作，以及我的可怕算法，什么会导致前 4096 个字节之后的所有内容都是空白的？

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-15T04:31:36.570

你为什么要比较`i`什么`chunkdata.length`时候`i`被初始化`start`？我认为`counter`应该改为使用。

当前的：

```
 int counter = 0;
   for(int i=start;i<chunkdata.length;i++){
      file[i]=chunkdata[counter]; //Data loss here?
      counter++;
   } 
```

相反，你想写这样的东西：

```
 int counter = 0;
   for(int i=start;counter<chunkdata.length;i++){
       file[i]=chunkdata[counter]; //Data loss here?
       counter++;
   } 
```

或更紧凑的方式：

```
 for(int i=start,counter = 0;counter<chunkdata.length;i++,counter++){
       file[i]=chunkdata[counter]; //Data loss here?
   } 
```

# c - Linux 中的 signal 和 rt_signal 系统调用有什么区别？

> ID：12889116
> 
> 赞同：9
> 
> 时间：2012-10-15T03:57:32.307
> 
> 标签：c, linux, linux-kernel, signals, system-calls

我开发了一个处理 SIGILL 信号的库。因为我想避免 libc 依赖，直接使用 Linux 系统调用。我注意到我的库挂在一些 Linux 系统上，经过大量调试后，我发现使用`rt_sigaction`syscall 代替了`sigaction`解决问题。但是，我没有找到两个系统调用之间差异的描述。SO上有没有人知道基本细节？

更新：我使用信号处理程序来检测 CPU 对某些 ARM 指令扩展的支持，例如 XScale 指令`MIATT`。这是指令探测功能：

```
static uint32_t probe_xscale() {
    register uint32_t retValue asm("r0") = 0;
    asm volatile (
        // Equivalent of the following code:
        //  ".arch xscale\n"
        //  "MIATT acc0, r0, r0;"
        // If the next line raises SIGILL,  the signal handle will change r0 to 1 and skip the instruction (4 bytes)
        "MCR P0, 0x1, r0, c15, c0, 0;"
        : "+r" (retValue)
        :
        :
    );
    return retValue;
} 
```

在 SIGILL 处理程序中，我将`PC`寄存器提前 4 个字节（该指令的大小），并更改其中一个寄存器以指示调用了 SIGILL 处理程序。这是信号处理程序代码。

```
static void probe_signal_handler(int, siginfo_t *, void* ptr) {
    ucontext_t* ctx = (ucontext_t*)ptr;
    ctx->uc_mcontext.arm_pc += 4;
    ctx->uc_mcontext.arm_r0 = 1;
} 
```

这是我进行探测的方法（如果指令没有导致 SIGILL，则函数返回 0，如果调用了 SIGILL 处理程序，则返回 1，如果 sigaction 系统调用失败，则返回 2）：

```
static uint32_t probeInstruction(uint32_t (*ProbeFunction)()) {
    struct sigaction oldSigillAction;
    struct sigaction probeSigillAction;
    memset(&probeSigillAction, 0, sizeof(probeSigillAction));
    probeSigillAction.sa_sigaction = &probe_signal_handler;
    // Needs Linux >= 2.2
    probeSigillAction.sa_flags = SA_ONSTACK | SA_RESTART | SA_SIGINFO;
    int sigactionResult = _syscall_sigaction(SIGILL, &probeSigillAction, &oldSigillAction);
    if (sigactionResult == 0) {
        const uint32_t probeResult = ProbeFunction();
        _syscall_sigaction(SIGILL, &oldSigillAction, NULL);
        return probeResult;
    } else {
        return 2;
    }
} 
```

这是我对 sigaction syscall 存根函数的实现：

```
static int _syscall_sigaction(int signum, const struct sigaction *new_action, struct sigaction *old_action) __attribute__((noinline));
static int _syscall_sigaction(int signalNumberParameter, const struct sigaction *newActionParameter, struct sigaction *oldActionParameter) {
    register int result asm ("r0");
    register int signalNumber asm ("r0") = signalNumberParameter;
    register const struct sigaction *newAction asm ("r1") = newActionParameter;
    register struct sigaction *oldAction asm ("r2") = oldActionParameter;
    register int syscallNumber asm ("r7") = __NR_rt_sigaction;
    asm volatile (
        "swi $0;"
        : "=r" (result)
        : "r" (signalNumber), "r" (newAction), "r" (oldAction), "r" (syscallNumber)
        :
    );
    return result;
} 
```

我在 Android SDK (qemu) 的模拟器和运行 Ubuntu 的 Pandaboard 上测试了这段代码。在模拟器中，代码运行良好（在模拟 ARM9 和 Cortex-A8 CPU 时），但在 Pandaboard 上，如果我使用 __NR_sigaction，它会挂在 MIATT 指令上：似乎在信号处理程序之后代码不会跳过 4 个字节，而是运行相同的指令。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-28T14:56:55.390

我没有明确的答案，但我仍然会尝试贡献：

查看内核源代码：

```
 300SYSCALL_DEFINE3(sigaction, int, sig, const struct sigaction __user *, act,
 301        struct sigaction __user *, oact)
 302{
 303        struct k_sigaction new_ka, old_ka;
 304        int ret;
 305        int err = 0;
 306
 307        if (act) {
 308                old_sigset_t mask;
 309
 310                if (!access_ok(VERIFY_READ, act, sizeof(*act)))
 311                        return -EFAULT;
 312                err |= __get_user(new_ka.sa.sa_handler, &act->sa_handler);
 313                err |= __get_user(new_ka.sa.sa_flags, &act->sa_flags);
 314                err |= __get_user(mask, &act->sa_mask.sig[0]);
 315                if (err)
 316                        return -EFAULT;
 317
 318                siginitset(&new_ka.sa.sa_mask, mask);
 319        }
 320
 321        ret = do_sigaction(sig, act ? &new_ka : NULL, oact ? &old_ka : NULL);
 322
 323        if (!ret && oact) {
 324                if (!access_ok(VERIFY_WRITE, oact, sizeof(*oact)))
 325                        return -EFAULT;
 326                err |= __put_user(old_ka.sa.sa_flags, &oact->sa_flags);
 327                err |= __put_user(old_ka.sa.sa_handler, &oact->sa_handler);
 328                err |= __put_user(old_ka.sa.sa_mask.sig[0], oact->sa_mask.sig);
 329                err |= __put_user(0, &oact->sa_mask.sig[1]);
 330                err |= __put_user(0, &oact->sa_mask.sig[2]);
 331                err |= __put_user(0, &oact->sa_mask.sig[3]);
 332                if (err)
 333                        return -EFAULT;
 334        }
 335
 336        return ret;
 337}
 338#endif 
```

对比

```
2955SYSCALL_DEFINE4(rt_sigaction, int, sig,
2956                const struct sigaction __user *, act,
2957                struct sigaction __user *, oact,
2958                size_t, sigsetsize)
2959{
2960        struct k_sigaction new_sa, old_sa;
2961        int ret = -EINVAL;
2962
2963        /* XXX: Don't preclude handling different sized sigset_t's.  */
2964        if (sigsetsize != sizeof(sigset_t))
2965                goto out;
2966
2967        if (act) {
2968                if (copy_from_user(&new_sa.sa, act, sizeof(new_sa.sa)))
2969                        return -EFAULT;
2970        }
2971
2972        ret = do_sigaction(sig, act ? &new_sa : NULL, oact ? &old_sa : NULL);
2973
2974        if (!ret && oact) {
2975                if (copy_to_user(oact, &old_sa.sa, sizeof(old_sa.sa)))
2976                        return -EFAULT;
2977        }
2978out:
2979        return ret;
2980} 
```

我看到的不同之处在于 rt_sigaction 复制了整个 sigaction 结构，而 sigaction 正在获取和更改内联内存（使用 get/set 用户函数）......我不确定，但可能需要更多时间才能访问直接使用用户空间内存，而不是使用临时副本。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2016-05-23T12:49:18.493

从`man sigaction`（[链接](http://man7.org/linux/man-pages/man2/sigaction.2.html)）我引用：

> 最初的 Linux 系统调用被命名为 sigaction()。但是，随着 Linux 2.2 中实时信号的添加，该系统调用支持的固定大小、32 位 sigset_t 类型不再适用。因此，添加了一个新的系统调用 rt_sigaction() 以支持扩大的 sigset_t 类型。新的系统调用采用第四个参数 size_t sigsetsize，它指定 act.sa_mask 和 oldact.sa_mask 中信号集的字节大小。

# javascript - 为什么图像不通过 IE 9 中的 CSS 参数旋转？

> ID：12889119
> 
> 赞同：2
> 
> 时间：2012-10-15T03:58:37.277
> 
> 标签：javascript, image, rotation

我使用这个函数来旋转图像：

```
 xrotate: function (object, degrees) {
      object.css({
    '-webkit-transform' : 'rotate('+degrees+'deg)',
       '-moz-transform' : 'rotate('+degrees+'deg)',
        '-ms-transform' : 'rotate('+degrees+'deg)',
         '-o-transform' : 'rotate('+degrees+'deg)',
            'transform' : 'rotate('+degrees+'deg)',
                 'zoom' : 1
      });
  } 
```

它适用于 chrome、firefox、opera、safari，但不适用于 IE9。为什么不呢？

此样式根本不会出现在此图像的 DOM 查看器 HTML/Trace 样式屏幕中。看起来，与 chrome 不同，在 IE 的 DOM 查看器中手动添加它是不可能的。

PS：图像是 gif 12x12。以前，当我尝试使用相同的 svg 图像时，它根本没有显示，即使它应该在 IE 中受支持。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-15T04:01:28.823

IE9 支持以 ms- 为前缀的转换，但 IE8 及更早版本不支持。由于您的代码中有 ms- 前缀版本，因此可能的解释是您正在以[兼容模式](http://blogs.msdn.com/b/ie/archive/2008/08/27/introducing-compatibility-view.aspx)查看该站点。

# actionscript-3 - 动作脚本 3 中的“Up、Hit、Down 和 over”是什么意思？如何创建“滚动”

> ID：12889120
> 
> 赞同：3
> 
> 时间：2012-10-15T03:58:42.557
> 
> 标签：actionscript-3, flash, action

那么它们是什么意思呢？

我正在制作一个“交互式”iPhone 作为一个项目。

目前我有 1 个场景，其中有一个标有 iphone 的电影剪辑，其中有大约 8 个用于不同“应用程序”的按钮。单击其中一个图标后，我想创建滚动效果。我该怎么办？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-16T02:41:58.553

如果您指的是创建 Button 类型的符号，如下所示：

![创建符号](../Images/fa6d9b8b8a8a1c2b7b366cbb11227315.png)

时间轴中有四种状态可根据鼠标交互对按钮的视觉外观进行蒙皮。

![按钮时间线](../Images/33d8e60c2f20c54601b45569c68965bb.png)

*   **Up** - 当指针不在按钮上方时按钮的外观。
*   **Over** - 当指针悬停在按钮上时按钮的外观。
*   **Down** - 按钮被点击时的外观。
*   **Hit** - 定义响应鼠标点击的区域边界。该区域在发布时是不可见的。

解决您的问题的其余部分，在 Flash 中创建运行各种应用程序的虚拟 iPhone 取决于范围。我建议将其分解为多个问题。

# mongodb - 播放框架 Leon Salat Model Form Mapping

> ID：12889127
> 
> 赞同：8
> 
> 时间：2012-10-15T03:59:57.780
> 
> 标签：mongodb, playframework-2.0, salat

我正在使用 Play 框架和 mongoDB 创建一个 scala 应用程序。我设法使用[Leon Play-Salat](https://github.com/leon/play-salat)建立连接。我有一个模型

```
case class Person(
  id: ObjectId = new ObjectId,
  fname: String,
  mname: String,
  lname: String
) 
```

在我的控制器中，我需要将其映射到表单

```
val personForm: Form[Person] = Form(

// Defines a mapping that will handle Contact values
mapping(
  "id" -> of[ObjectId],
  "fname" -> nonEmptyText,
  "mname" -> text,
  "lname" -> nonEmptyText     
)(Person.apply)(Person.unapply)) 
```

如何将 ObjectID 映射到表单？我收到错误找不到 ObjectId 的对象。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-16T03:32:09.327

设法让它工作

```
val personForm: Form[Person] = Form(
// Defines a mapping that will handle Contact values
mapping(
  "id" -> ignored(new ObjectId),
  "fname" -> nonEmptyText,
  "mname" -> text,
  "lname" -> nonEmptyText     
)(Person.apply)(Person.unapply)) 
```

我正在尝试执行 CRUD 功能，因此需要 ID。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-18T04:24:07.933

发现使用自己的构造函数和解构函数更好

```
val personForm: Form[Person] = Form(
  mapping(
    "fname" -> nonEmptyText,
    "mname" -> text,
    "lname" -> nonEmptyText
  )((fname, mname, lname) => Person(new ObjectId, fname, mname, lname))
  ((person: Person) => Some((person.fname, person.mname, person.lname)))      ) 
```

# c# - 如何根据枚举检查字符串数组并返回找到的最大值？

> ID：12889130
> 
> 赞同：0
> 
> 时间：2012-10-15T04:00:46.657
> 
> 标签：c#

我有以下代码，其中变量 userRoles 是一个字符串数组，可以包含和或全部“Super”、“Admin”、“User”或“Guest”。

```
 public static RoleType GetMaxRole()
    {
        var userRoles = Roles.GetRolesForUser();
        // var maxRole = userRoles.Max();
        if userRoles.Contains("Super")
            return RoleType.Super;
        if userRoles.Contains("Admin")
            return RoleType.Admin;
        if userRoles.Contains("User")
            return RoleType.User;
        if userRoles.Contains("Guest")
            return RoleType.Guest;
        return RoleType.Default;
    } 
```

这是我正在使用的枚举：

```
public enum RoleType
{
    Default = 10,
    Guest = 20,
    User = 30,
    Admin = 40,
    Super = 50
} 
```

有没有一种方法可以在没有多个 if 语句的情况下实现相同的目标。某种方式我可以让 userRoles 数组检查枚举？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-15T04:16:38.303

```
public static RoleType GetMaxRole()
{
    var userRoles = Roles.GetRolesForUser();
    var maxRole = userRoles.Max(x => (RoleType)Enum.Parse(typeof(RoleType), x));
    return maxRole;
} 
```

# asp.net - Column_Name 既不是 DataColumn 也不是表 DefaultView 的 DataRelation

> ID：12889138
> 
> 赞同：1
> 
> 时间：2012-10-15T04:02:04.033
> 
> 标签：asp.net

我不知道这里发生了什么，这段代码可以正常工作并且没有任何问题，然后突然它无缘无故地给出了提到的错误，然后错误消失了。错误在'>行

```
<asp:SqlDataSource ID="SqlDataSourceCountries" runat="server" ConnectionString="<%$ ConnectionStrings:ApplicationServices1 %>"
                SelectCommand="SELECT        [CountryID], [country],
                         (SELECT        COUNT(JobID) AS [J]
                            FROM            [Job]
                            WHERE        ([Country].[CountryID] = [CountryID])) AS [JobCount]
                            FROM            [Country] AS [Country] ORDER BY [JobCount] DESC, [country] ASC">
            </asp:SqlDataSource>

            <script type="text/javascript">
                $(document).ready(function () {
                    $("ul[id*=myid] li").click(function () {

                        document.getElementById("<%= DivCountries.ClientID %>").style.visibility = 'hidden';

                        document.getElementById('pSelectedCountry').innerHTML = $(this).html();
                        $("#<%=hSelectedCountryID.ClientID%>").val(this.id);
                        $("#<%=hSelectedCountryName.ClientID%>").val(this.innerHTML);
                        control1OnLoadHandler();

                    });
                });
            </script>
            <ul id='myid' class="bulletedList">
                <asp:Repeater ID="RepeaterCountryList" runat="server" DataSourceID="SqlDataSourceCountries">
                    <ItemTemplate>
                        <li id='<%# Eval("[CountryID]") %>'><a>
                            <%# Eval("[country]") %></a> <a style="color: #808080; font-weight: normal;">(<%# Eval("[JobCount]") %>)</a>
                        </li>
                    </ItemTemplate>
                </asp:Repeater>
            </ul> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-15T05:57:48.163

我认为问题出在`[]`'s。

尝试这样的事情

```
<ItemTemplate>
 <li id='<%# Eval("CountryID") %>'>
 <a><%# Eval("[country]") %></a> <a style="color: #808080; font-weight: normal;">(<%# Eval("JobCount") %>)</a>
 </li>
</ItemTemplate> 
```

并且可能会更改您的查询，因为[通常不需要括号](https://stackoverflow.com/questions/3551284/sql-serverwhat-do-brackets-mean-around-column-name)。

此外，您的表名是国家以及您选择的项目令人困惑： `SELECT ...[country]...FROM [Country] AS [Country]...`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-02-23T13:52:08.337

您必须在**Select Query**中添加该特定表的**主键字段**。

 **您可以稍后通过使用 Column 末尾的可见来隐藏它。

`<telerik:GridBoundColumn DataField="Subject" visible="false">`**

# crystal-reports - 并排显示记录

> ID：12889143
> 
> 赞同：0
> 
> 时间：2012-10-15T04:02:29.793
> 
> 标签：crystal-reports, crystal-reports-xi, crystal-reports-2010

我使用 DataTable 来绑定我的水晶报表。它包含贷方和借方列。如果其中一个为零，则另一个为零。因此，每一列都包含贷方或借方信息。我想显示类似：

```
Bank Name(Credit)|CreditAmt|BankName(Debit)|DebitAmt 
```

我的第一列需要显示带有银行名称的信用记录，第二列显示贷方金额和借方金额的相同逻辑 - 显示在第 3 列和第 4 列中。

我的输出目前看起来像：

> *   HDFC 银行 | 550 |（空白） | 0
>     
> *   空白）| 0 | 500 | HDFc 银行

我在贷方或借方的任何部分都得到空白和 0 - 因为我只获得每条记录的贷方或借方金额。因此，它为其他部分放置 0 和空格。如何将空白部分抑制为如下所示？

> *   HDFC 银行 | 550 |（空白） | 500 |HDFc 银行

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-16T07:12:37.763

您需要做的是通过一个公共列将您的交易汇总到您的借方和贷方。我假设**银行名称**是通用链接。然后总结您的借方和贷方。以下是要采取的步骤：

1.  菜单插入-> 组（选择您的 Dr. 和 Cr. 共有的列）
2.  菜单插入->摘要（选择您的 Dr. Column 并使用 SUM）
3.  将结果放在组标题行
4.  菜单插入->摘要（选择您的 Cr. 列并使用 SUM）
5.  将结果放在组标题行
6.  隐藏您的详细信息行

现在为了进一步了解我们在这里所做的事情，假设您想按每家银行的账户进行汇总。您将执行第 1 步，然后按 Account 插入另一个组，然后添加汇总的 Dr. & Cr。到帐户组标题。

干杯。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-10-07T08:05:29.650

分组解决方案很棒。

另一种可能的解决方案是：
- 创建一个名为从下一行`NextDebit`获取值的公式字段 - 显示在详细信息部分和 - 隐藏详细信息`Debit``Next(Debit)`
`Credit``NextDebit`
`Credit = 0`

我正在处理查询的另一个解决方案，这样您就可以按照需要处理的方式获得所需的数据。

# ruby-on-rails - 评估 URL 参数，不返回预期结果

> ID：12889147
> 
> 赞同：0
> 
> 时间：2012-10-15T04:02:42.117
> 
> 标签：ruby-on-rails, ruby, parameters

我的网址如下：

```
http://localhost:3000/movies?ratings[PG-13]=1&commit=Refresh 
```

我正在尝试评估 URL 参数，但不确定为什么会这样。在我的控制器中，我评估参数并构建一个数组，如下所示：

在我的`View`我使用以下调试语句来查看放入的内容`@selected_ratings`

```
=debug(@selected_ratings) 
```

在我的控制器中，我尝试了两种说法。

测试一返回以下内容，这应该有效吗？

```
@selected_ratings = (params["ratings[PG-13]"].present? ? params["ratings[PG-13]"] : "notworking")

output: notworking 
```

但是，如果我在我的控制器中使用以下三元评估：

```
@selected_ratings = (params["ratings"].present? ? params["ratings"] : "notworking")

output:!map:ActiveSupport::HashWithIndifferentAccess 
  PG-13: "1" 
```

为什么我的评价找不到字面`params["ratings[PG-13]"]`？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-15T04:17:04.547

Rails 将表单的字符串参数解析`a[b]=c`为哈希 [1]，其中`b`是键，`c`是其关联值：`{ :a => { :b => "c" } }`。

所以 url`http://localhost:3000/movies?ratings[PG-13]=1&commit=Refresh`会产生哈希：

```
{ :ratings => { :'PG-13' => "1"}, :commit => "Refresh" } 
```

在您的第一个作业中，您检查是否`params["ratings[PG-13]"]`存在，因为它不存在，所以它返回“不工作”。在第二种情况下，您检查是否`params["ratings"]`存在，并且它存在，所以它返回`params["ratings"]`，这是一个带有 key`PG-13`和 value的散列`"1"`。

[1] 或者更确切地说，a[`HashWithIndifferentAccess`](http://rubydoc.info/docs/rails/3.0.0/ActiveSupport/HashWithIndifferentAccess)是一种特殊的散列，[将符号和字符串键转换为单一类型](http://syntatic.wordpress.com/2007/11/28/ruby-on-rails-merge-params-with-a-hash-indifferently/)。

# 3d - Cocos2D CCSprite 假深度？

> ID：12889151
> 
> 赞同：2
> 
> 时间：2012-10-15T04:04:19.510
> 
> 标签：3d, cocos2d-iphone, ccsprite, depth

我目前在Cocos2D中做一个翻牌效果。我目前想要实现的是我的 CCSprite 中的深度感知。现在我不是在寻找一些完整的 3D 代码/程序或使用 Cocos3D。

我想要做的就是让正在旋转的 CCSprite 有一点深度，以便在我的游戏中提供更多的真实感。

现在精灵并没有那么快地旋转，它的速度适中，这就是我试图实现这一目标的原因。

有谁知道我该怎么做？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-15T08:53:05.973

检查 cocos2d 源码中 CCTransitionFlipX 和 CCTransitionFlipY 的代码。他们使用 CCOrbitCamera 动作。也许它会对你有所帮助。

# c++ - 如何在类构造函数中设置 STL 队列的大小

> ID：12889153
> 
> 赞同：1
> 
> 时间：2012-10-15T04:04:24.717
> 
> 标签：c++, stl

一个类有一个队列，我需要在类的构造函数中设置队列大小。这可能吗？

只是一个想法，我想做什么：

```
class Test
{
  queue<int> age_queue;     
  Test(int queue_size):age_queue(queue_size){}
}; 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-15T04:08:01.000

尝试

```
class Test
{
  queue<int> age_queue;     
  Test(int queue_size):age_queue(deque<int>(queue_size)){}
}; 
```

# cordova - 为什么在android中使用主干时不调用基于soap的Web服务？

> ID：12889157
> 
> 赞同：0
> 
> 时间：2012-10-15T04:04:57.933
> 
> 标签：cordova, backbone.js

您能否告诉我为什么在 Android 应用程序中使用主干时不调用基于肥皂的 Web 服务？当我在黑莓中运行相同的代码时，它可以正常工作。

我知道骨干支持基于休息的网络服务。但我已经添加了外部 js 来调用基于肥皂的 Web 服务。

# c# - 如何使用 WebDav 从 Exchange Server (.NET Framework 2.0) 访问日历

> ID：12889159
> 
> 赞同：0
> 
> 时间：2012-10-15T04:05:17.390
> 
> 标签：c#, .net-2.0, webdav

现在 .NET Framework 最高为 4.0，但如果我使用的是 .NET Framework 2.0。如果我想使用 WebDav 访问日历，有没有我可以使用的库？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-23T09:43:14.183

[用于 Exchange 的 WebDAV .NET](http://www.independentsoft.de/webdavex)

*   不是免费的

# javascript - 如何控制 scrolltop javascript 功能？

> ID：12889162
> 
> 赞同：1
> 
> 时间：2012-10-15T04:06:01.970
> 
> 标签：javascript, jquery, navigation, scroll

我正在使用 Pagify.js 插件，它通过使用 jquery 将多个 html 文件拉到容器 div 中来帮助创建一页网站，而无需浏览器刷新整个页面。

问题是我试图在单击链接时滚动到导航栏 div，但结果很奇怪。这是插件和 HTML jsfiddle。这是我用来滚动的代码（我不知道放在哪里）

```
$('html, body').animate({scrollTop:$('#nav').position().top}); 
```

[http://jsfiddle.net/5y9HT/](http://jsfiddle.net/5y9HT/)

如果我将 scrollTop 代码粘贴到 pagify.js 中的不同位置，则会发生不同的事情，其中​​没有一个行为完全正确。我正在尝试实现一种情况，如果单击链接，它将滚动到导航 div，但如果刷新浏览器则不会滚动（它应该已经存在。就像在这个网站上一样：[http://www. madebysofa.com/archive/index.html](http://www.madebysofa.com/archive/index.html)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-15T05:03:37.710

我认为你想要#nav 的偏移量，而不是它的位置：

```
$('.content').on('click', 'a', function(a){
    a.preventDefault();
    $('content').get('newPage.html');
    var nav_position = $('#nav').offset();
    console.log(nav_position);
    $(document).animate({
         scrollTop: nav_position + 'px';
    });
}); 
```

您可能仍然可以以相同的方式使用您的 position().top。

```
$('.content').on('click', 'a', function(a){
    a.preventDefault();
    $('content').get('newPage.html');
    var nav_position = $('#nav').position().top;
    console.log(nav_position);
    $(document).animate({
         scrollTop: nav_position + 'px';
    });
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-15T05:48:05.493

试试这个，

```
$('html, body').animate({scrollTop:$('#nav').offset().top}, 1000); 
```

您也可以使用 document 而不是同时指定“html”和“body”。希望它有效。

# iphone - 为什么不是所有优秀的应用程序都检测越狱来限制其应用程序中的功能？

> ID：12889163
> 
> 赞同：4
> 
> 时间：2012-10-15T04:06:11.333
> 
> 标签：iphone, ios, app-store, jailbreak

> **可能重复：**
> [如何检测 SDK 应用程序正在越狱手机上运行？](https://stackoverflow.com/questions/413242/how-do-i-detect-that-an-sdk-app-is-running-on-a-jailbroken-phone)

我看到有很多方法可以检测在 xcode 中越狱的设备。 [如何检测 iOS 应用程序正在越狱手机上运行？](https://stackoverflow.com/questions/413242/how-do-i-detect-that-an-sdk-app-is-running-on-a-jailbroken-phone)

我不明白：我不希望越狱设备访问我的应用程序，所以我将检测代码放入我的项目中，所以所有越狱设备都无法使用它。

但是很多付费应用程序可以安装在越狱设备中（愤怒的小鸟、水果忍者...）。是不是我理解错了，或者有什么特殊原因他们不这样做（他们希望他们的应用程序受欢迎......），或者在可以将应用程序安装到越狱设备之前，这个应用程序的代码可以稍微更改一下（我不这么认为）？

除此之外，我在上面的这个链接中看到了很多关于“如何检测该设备已越狱”的问题的答案。我发现了这个： http: [//www.interiders.com/2011/10/26/enable-directv-to-work-on-jailbroken-ipad/](http://www.interiders.com/2011/10/26/enable-directv-to-work-on-jailbroken-ipad/)

那么，检测越狱设备的最佳解决方案是什么？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-10-15T04:21:23.923

> 为什么[不]（所有）优秀的应用程序使用“检测越狱功能”来限制用户使用他们的应用程序？

因为你为什么要故意限制你的目标市场？来自越狱设备的广告、应用销售和应用内购买的资金与来自非越狱设备的资金一样真实。那你为什么要举手说“*我想要更少的钱*”？

您可能合法地想要做的是防止您的应用被*盗版*。但检测越狱设备与检测应用程序的盗版副本不同。越狱设备仍然可以安装应用程序而不会盗版。

此外，一般来说，除了不发布想要的应用程序之外，没有 100% 万无一失的方法来防止盗版。如果你专注于制作一个每个人都想要并且大多数人付费的很棒的应用程序，你会做得更好，而不是担心那里的少数盗版者。

至于检测越狱设备的“最佳”方法，您链接到的问题有很多很好的建议：

[如何检测 iOS 应用程序正在越狱手机上运行？](https://stackoverflow.com/questions/413242/how-do-i-detect-that-an-sdk-app-is-running-on-a-jailbroken-phone)

...尝试其中一些，看看哪个最适合您。

# windows - NTLM 哈希 - 更改密码并返回哈希

> ID：12889179
> 
> 赞同：0
> 
> 时间：2012-10-15T04:08:43.567
> 
> 标签：windows, vb.net, winforms, hash, ntlm

我正在做一个新项目，对那些有小兄弟的人有很大帮助，

我想到了这个主意：

获取用户的 NTLM 哈希，**将哈希写入文本文件**。

**更改**用户的密码`(cmd.exe /c net user %username% 123)`。

更改密码后，您可以输入帐户。

我不希望有人知道我访问了该帐户（有人可以看到我更改了他的密码）

**这个想法是：**

打开`sam`文件并**写回旧哈希**

（用我保存在文本文件中的**旧哈希****替换**通过更改密码创建的**新哈希。）**

 **这意味着我不必破解密码

1.将哈希保存到文本文件中。

2.修改用户密码。

3.输入帐号。

4.将保存的哈希写回sam文件（用新替换旧）

5.这意味着我不必破解哈希，只需将其写回即可。

代码（仅解释）：

```
Dim un As String = Environment.UserName 'UserName

Dim Hash As String = GetNtlmPass(un) 'Get Ntlm Hash By username

Shell("cmd.exe /c net user %username% 123") 'Change the password of current user

WaitCmdDone() 'Waiting until the password is changed.

PutNtlmHashBack(un,Hash) 'put the hash back by user name - This function is not exist!. 
```

PutNtlmHashBack 函数不存在

有这样的功能`PutNtlmHashBack`吗？

我只需要将 ntlm 哈希写入 sam 文件。

我可以读取所有 ntlm 哈希`pwdump.exe`，如果我可以读取它，那么我可以写入。**

# c++ - 如何使用 C++ 准确获取 Windows 操作系统版本？

> ID：12889180
> 
> 赞同：1
> 
> 时间：2012-10-15T04:08:45.063
> 
> 标签：c++, windows, version

我看到的每个链接总是提到 GetVersionEx，但这似乎没有多大帮助。

我的方法是这样的，

```
static int windowsVersion() {
       OSVERSIONINFO osvi;

   ZeroMemory(&osvi, sizeof(OSVERSIONINFO));
   osvi.dwOSVersionInfoSize = sizeof(OSVERSIONINFO);
   GetVersionEx(&osvi);
   return osvi.dwMajorVersion;
} 
```

我正在运行**Windows 8**，而是返回**6**。

如果我试图准确地获取他们的 Windows 版本，那不是很有帮助。

注意：我还检查了所有其他变量。dwMinorVersion 返回 4，内部版本号返回 8400 之类的东西。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-15T04:17:23.757

[手册](http://msdn.microsoft.com/en-us/library/windows/desktop/ms724833(v=vs.85).aspx)：对于 Windows 8，`dwMajorVersion`为 6 和`dwMinorVersion`2

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-15T04:17:22.530

您需要同时使用主要和次要版本号。

> Windows Vista 6.0.6000
> Windows 7 6.1.7600
> 我的电脑上的 Windows 8 64 位版本返回 6.2.9200

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-10-15T04:20:22.023

`6`for可以表示 Windows Vista 及更高版本的`dwMajorVersion`任何内容。这就是微软版本控制的工作方式。`2`for`dwMinorVersion`应该是 Windows 8 或 Windows Server 2012。如果`wProductType == VER_NT_WORKSTATION`，你有 Windows 8。所有这些都在 MSDN 上进行了解释。

# mongodb - MongoDB的数据库管理工具

> ID：12889183
> 
> 赞同：20
> 
> 时间：2012-10-15T04:09:10.963
> 
> 标签：mongodb, database-administration

我有点困惑。MongoDB 是最受欢迎的数据库之一。是否有任何可用于 MongoDB 的数据库管理工具，例如 MySQL 工作台或 [localhost web based] PHPMyadmin。

我在windows 7机器上。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-10-15T04:11:40.650

mongo 文档有一些建议：
[http ://www.mongodb.org/display/DOCS/Admin+UIs](http://www.mongodb.org/display/DOCS/Admin+UIs)

方看起来很有趣

# javascript - 使用 Deployd 进行地理空间查询

> ID：12889187
> 
> 赞同：0
> 
> 时间：2012-10-15T04:10:30.823
> 
> 标签：javascript, mongodb, geospatial

我正在尝试使用[Deployd](http://deployd.github.com/deployd/)运行地理空间设置。

在这样的事情上

```
/beam?{"loc": {"$near": [51,-114], "$limit": 10}} 
```

我收到一个错误

```
{
"message": "can't find special index: 2d for: { loc: { $near: [ 51, -114 ], $limit: 10 } }",
"status": 400
} 
```

AFAIK，我需要把它 `foo.ensureIndex({loc:"2d", affiliation:1})`放在某个地方。

但是哪里？我在哪里可以分配显式索引？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-10-08T14:43:59.263

这个问题已经有一年多了，但是，对于那些仍在解决这个问题的人，请执行以下操作：

*收藏/资源*=**梁**

*属性/字段*=**位置**

从 mongodb shell在**属性**上创建地理索引-

```
db.*beam*.ensureIndex( { *location* : “2dsphere” } ) 
```

**在位置**字段中添加一些地理数据-

```
{"type": "Point", "coordinates": [ -105, 39 ] } 
```

查询它——

```
/resource_name?{"location":{"$near":{"$maxDistance":100000,"$geometry":{"type":"Point","coordinates":[-105,39]}}}} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-19T11:19:13.000

当前版本的已部署 0.6.9 似乎不支持从仪表板创建索引，您必须使用[shell](http://www.mongodb.org/display/DOCS/Overview+-+The+MongoDB+Interactive+Shell)连接 mongodb，或者如果您使用 mongohq 等 mongodb 提供程序，您可以在 mongohq 仪表板上创建空间索引。

# c# - 如何解锁图像文件并将其从特定文件夹中删除？

> ID：12889188
> 
> 赞同：0
> 
> 时间：2012-10-15T04:10:31.410
> 
> 标签：c#

无法删除文件夹中的图像文件。我知道它被另一个进程锁定和使用，但我不知道哪个进程持有它以及如何解锁图像文件，以便我可以删除它。试图通过将`.Dispose()`方法放入每个循环结尾来猜测，但没有运气。>_<

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;
using System.Web.UI;

using System.Net;
using System.Drawing;
using System.IO;

using AForge.Video;
using AForge.Video.VFW; //video recording

namespace example
{
    public partial class LiveRecording2 : System.Web.UI.Page
    {
        AVIWriter writer = new AVIWriter("MSVC");

        protected void Page_Load(object sender, EventArgs e)
        {

        }

         private void Get1Image()
        {
             for (int i = 0; i < 11; i++)
             {
                string ImagePath = Server.MapPath("~\\Videos\\liveRecording2\\") + string.Format("{0}", i + 1) + ".jpg";
                string ip = "http://example.ip.com:portNo/jpeg.cgi";
                string sourceURL = ip;
                WebRequest req = (WebRequest)WebRequest.Create(sourceURL);
                req.Credentials = new NetworkCredential("userName", "password");
                WebResponse resp = req.GetResponse();
                Stream stream = resp.GetResponseStream();
                Bitmap bmp = (Bitmap)Bitmap.FromStream(stream);
                bmp.Save(ImagePath);
            }
        }

        private void doRecording()
        {
            string ImagePath = Server.MapPath("~\\Videos\\liveRecording2\\");
            string SavingPath = Server.MapPath("~\\Videos\\liveRecording2\\"); //recorded video path
            string VideoName = "ICS-" + String.Format("{0:yyyyMMdd_hhmmss}", DateTime.Now) + ".avi";
            writer.Open(SavingPath + VideoName, 640, 480); //create an AVI file and open it for images adding

            // create frame image
            Bitmap image = new Bitmap(320, 240);
            //var cubit = new AForge.Imaging.Filters.ResizeBilinear(320, 240);
            string[] files = Directory.GetFiles(ImagePath);
            writer.FrameRate = 25;
            int index = 0;
            int failed = 0;
            foreach (var item in files)
            {
                index++;
                try
                {
                    image = Image.FromFile(item) as Bitmap;
                    //image = cubit.Apply(image);

                    for (int i = 0; i < 5; i++)
                    {
                        writer.AddFrame(image);
                    }
                }
                catch
                {
                    failed++;
                }
                //this.Text = index + " of " + files.Length + ". Failed: " + failed;
             }
            writer.Close();
            writer.Dispose();
            this.Label1.Text = "status: Video was successfully created";
            this.Label2.Text = "Video Path: ~/Videos/liveRecording2/" + VideoName;
            DeleteImage();
        }

       protected void Button1_Click(object sender, EventArgs e)
        {
            Get1Image();
            doRecording();
        }

        public void DeleteImage()
        {
            DirectoryInfo di = new DirectoryInfo(Server.MapPath("~\\Videos\\liveRecording2\\"));
            FileInfo[] files = di.GetFiles("*.jpg");
                             //.Where(p => p.Extension == ".jpg").ToArray();
            foreach (FileInfo file in files)
            {
                file.Delete(); // **error here**
            }

            this.Label3.Text = "Image deleted";
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-15T04:35:14.217

你的问题可能在这里：

```
image = Image.FromFile(item) as Bitmap; 
```

尝试将*那段*代码包装在`using`：

```
using(image = Image.FromFile(item) as Bitmap)
{
   //  rest here
} 
```

# android - 使用json解析时出现null异常

> ID：12889189
> 
> 赞同：1
> 
> 时间：2012-10-15T04:10:34.300
> 
> 标签：android, json, parsing

我正在使用来自[http://www.androidhive.info/2012/01/android-json-parsing-tutorial/的示例](http://www.androidhive.info/2012/01/android-json-parsing-tutorial/)

当我运行应用程序时，它说我有 java.lang.nullexception 错误！我没有修改应用程序中的任何内容。

这是解析活动：

```
public class AndroidJSONParsingActivity extends ListActivity {

// url to make request
private static String url = "http://api.androidhive.info/contacts/";

// JSON Node names
private static final String TAG_CONTACT = "contacts";
private static final String TAG_ID = "id";
private static final String TAG_NAME = "name";
private static final String TAG_EMAIL = "email";
private static final String TAG_ADDRESS = "address";
private static final String TAG_GENDER = "gender";
private static final String TAG_PHONE = "phone";
private static final String TAG_PHONE_MOBILE = "mobile";
private static final String TAG_PHONE_HOME = "home";
private static final String TAG_PHONE_OFFICE = "office";

// contacts JSONArray
JSONArray contacts = null;

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);

    // Hashmap for ListView
    ArrayList<HashMap<String, String>> contactList = new ArrayList<HashMap<String, String>>();

    // Creating JSON Parser instance
    JSONParser jParser = new JSONParser();

    // getting JSON string from URL
    JSONObject json = jParser.getJSONFromUrl(url);

    try {
        // Getting Array of Contacts
        contacts = json.getJSONArray(TAG_CONTACT);

        // looping through All Contacts
        for(int i = 0; i < contacts.length(); i++){
            JSONObject c = contacts.getJSONObject(i);

            // Storing each json item in variable
            String id = c.getString(TAG_ID);
            String name = c.getString(TAG_NAME);
            String email = c.getString(TAG_EMAIL);
            String address = c.getString(TAG_ADDRESS);
            String gender = c.getString(TAG_GENDER);

            // Phone number is agin JSON Object
            JSONObject phone = c.getJSONObject(TAG_PHONE);
            String mobile = phone.getString(TAG_PHONE_MOBILE);
            String home = phone.getString(TAG_PHONE_HOME);
            String office = phone.getString(TAG_PHONE_OFFICE);

            // creating new HashMap
            HashMap<String, String> map = new HashMap<String, String>();

            // adding each child node to HashMap key => value
            map.put(TAG_ID, id);
            map.put(TAG_NAME, name);
            map.put(TAG_EMAIL, email);
            map.put(TAG_PHONE_MOBILE, mobile);

            // adding HashList to ArrayList
            contactList.add(map);
        }
    } catch (JSONException e) {
        e.printStackTrace();
    }

    /**
     * Updating parsed JSON data into ListView
     * */
    ListAdapter adapter = new SimpleAdapter(this, contactList,
            R.layout.list_item,
            new String[] { TAG_NAME, TAG_EMAIL, TAG_PHONE_MOBILE }, new int[] {
                    R.id.name, R.id.email, R.id.mobile });

    setListAdapter(adapter);

    // selecting single ListView item
    ListView lv = getListView();

    // Launching new screen on Selecting Single ListItem
    lv.setOnItemClickListener(new OnItemClickListener() {

        @Override
        public void onItemClick(AdapterView<?> parent, View view,
                int position, long id) {
            // getting values from selected ListItem
            String name = ((TextView) view.findViewById(R.id.name)).getText().toString();
            String cost = ((TextView) view.findViewById(R.id.email)).getText().toString();
            String description = ((TextView) view.findViewById(R.id.mobile)).getText().toString();

            // Starting new intent
            Intent in = new Intent(getApplicationContext(), SingleMenuItemActivity.class);
            in.putExtra(TAG_NAME, name);
            in.putExtra(TAG_EMAIL, cost);
            in.putExtra(TAG_PHONE_MOBILE, description);
            startActivity(in);

        }
    });

} 
```

}

这是我的解析器：

```
public class JSONParser {

static InputStream is = null;
static JSONObject jObj = null;
static String json = "";

// constructor
public JSONParser() {

}

public JSONObject getJSONFromUrl(String url) {

    // Making HTTP request
    try {
        // defaultHttpClient
        DefaultHttpClient httpClient = new DefaultHttpClient();
        HttpPost httpPost = new HttpPost(url);

        HttpResponse httpResponse = httpClient.execute(httpPost);
        HttpEntity httpEntity = httpResponse.getEntity();
        is = httpEntity.getContent();           

    } catch (UnsupportedEncodingException e) {
        e.printStackTrace();
    } catch (ClientProtocolException e) {
        e.printStackTrace();
    } catch (IOException e) {
        e.printStackTrace();
    }

    try {
        BufferedReader reader = new BufferedReader(new InputStreamReader(
                is, "iso-8859-1"), 8);
        StringBuilder sb = new StringBuilder();
        String line = null;
        while ((line = reader.readLine()) != null) {
            sb.append(line + "\n");
        }
        is.close();
        json = sb.toString();
    } catch (Exception e) {
        Log.e("Buffer Error", "Error converting result " + e.toString());
    }

    // try parse the string to a JSON object
    try {
         jObj = new JSONObject(json);
    } catch (JSONException e) {
        Log.e("JSON Parser", "Error parsing data " + e.toString());
    }
    // return JSON String
    return jObj;

} 
```

}

这是我的 logcat 输出：

> 10-15 04:06:21.879: E/Buffer 错误 (292): 错误转换结果 java.lang.NullPointerException

```
10-15 04:06:21.879: E/JSON Parser(292): Error parsing data org.json.JSONException: End of input at character 0 of 

10-15 04:06:21.889: D/AndroidRuntime(292): Shutting down VM

10-15 04:06:21.889: W/dalvikvm(292): threadid=1: thread exiting with uncaught exception (group=0x4001d800)

10-15 04:06:21.899: E/AndroidRuntime(292): FATAL EXCEPTION: main

10-15 04:06:21.899: E/AndroidRuntime(292): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.androidhive.jsonparsing/com.androidhive.jsonparsing.AndroidJSONParsingActivity}: java.lang.NullPointerException

10-15 04:06:21.899: E/AndroidRuntime(292):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2663)

10-15 04:06:21.899: E/AndroidRuntime(292):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2679)

10-15 04:06:21.899: E/AndroidRuntime(292):  at android.app.ActivityThread.access$2300(ActivityThread.java:125)

10-15 04:06:21.899: E/AndroidRuntime(292):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2033)

10-15 04:06:21.899: E/AndroidRuntime(292):  at android.os.Handler.dispatchMessage(Handler.java:99)

10-15 04:06:21.899: E/AndroidRuntime(292):  at android.os.Looper.loop(Looper.java:123)

10-15 04:06:21.899: E/AndroidRuntime(292):  at android.app.ActivityThread.main(ActivityThread.java:4627)

10-15 04:06:21.899: E/AndroidRuntime(292):  at java.lang.reflect.Method.invokeNative(Native Method)

10-15 04:06:21.899: E/AndroidRuntime(292):  at java.lang.reflect.Method.invoke(Method.java:521)

10-15 04:06:21.899: E/AndroidRuntime(292):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)

10-15 04:06:21.899: E/AndroidRuntime(292):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)

10-15 04:06:21.899: E/AndroidRuntime(292):  at dalvik.system.NativeStart.main(Native Method)

10-15 04:06:21.899: E/AndroidRuntime(292): Caused by: java.lang.NullPointerException

10-15 04:06:21.899: E/AndroidRuntime(292):  at com.androidhive.jsonparsing.AndroidJSONParsingActivity.onCreate(AndroidJSONParsingActivity.java:58)

10-15 04:06:21.899: E/AndroidRuntime(292):  at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)

10-15 04:06:21.899: E/AndroidRuntime(292):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2627)

10-15 04:06:21.899: E/AndroidRuntime(292):  ... 11 more 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-15T04:29:59.940

```
Error parsing data org.json.JSONException: End of input at character 0 
```

你的`json`是空的。Web 服务没有返回任何数据。因此它不能被解析。

# php - Citrix PHP cURL oAuth 无效密钥

> ID：12889191
> 
> 赞同：0
> 
> 时间：2012-10-15T04:10:45.060
> 
> 标签：php, json, curl, citrix

我遇到了这个问题，我不知道是否有人可以提供帮助。我在获取我认为的 oAuth 密钥时遇到问题。我不断返回的错误是 inValidKey ，我已经研究过。也许我只是不明白，但我似乎无法固定这个。

```
<?php

class ApiClient {

    private $oauthToken;

    public function __construct($oauthToken) {
        $this->oauthToken = $oauthToken;
    }

    public function post($url, $data) {
        $data_string = json_encode($data);   

        $ch = curl_init();
        curl_setopt($ch, CURLOPT_URL, $url); 
        curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
        curl_setopt($ch, CURLOPT_CUSTOMREQUEST, "POST");
        curl_setopt($ch, CURLOPT_POSTFIELDS, $data_string);

        curl_setopt($ch, CURLOPT_TIMEOUT, '10');

        $headers = array(
                "Content-Type: application/json",
                "Accept: application/json",
                "Authorization: OAuth oauth_token={$this->oauthToken}",
                "Content-Length: " . strlen($data_string)
            );
        curl_setopt($ch, CURLOPT_HTTPHEADER, $headers); 

        $ret = curl_exec($ch);

        return json_decode($ret);
    }

    public function get($url) {
        $ch = curl_init();
        curl_setopt($ch, CURLOPT_URL, $url); 
        curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
        curl_setopt($ch, CURLOPT_TIMEOUT, '10');

        $headers = array(
                "Content-Type: application/json",
                "Accept: application/json",
                "Authorization: OAuth oauth_token={$this->oauthToken}"
            );
        curl_setopt($ch, CURLOPT_HTTPHEADER, $headers); 

        $ret = curl_exec($ch);

        return json_decode($ret);
    }

}

class Webinar {

    private $developerKey;
    private $organizerKey;
    protected $client;
    // ##########################
    private $apps = array(
        'MMT' => array(
            'developerKey' => '#######################3',
            'oauthToken' => '',
            'organizerKey' => '')
    );

    public function __construct($app = 'MMT') {
        if(!array_key_exists($app, $this->apps)) {
            throw new Exception('Invalid argument: unknown developer key');
        }
        $this->developerKey = $this->apps[$app]['developerKey'];
        $this->organizerKey = $this->apps[$app]['organizerKey'];
        $this->client = new ApiClient($this->apps[$app]['oauthToken']);
    }

    public function getUpcoming() {
        return $this->client->get("https://api.citrixonline.com/G2W/rest/organizers/{$this->organizerKey}/upcomingWebinars");
    }

    public function getHistorical() {
        return $this->client->get("https://api.citrixonline.com/G2W/rest/organizers/{$this->organizerKey}/historicalWebinars");
    }

    public function addRegistrant($webinarKey, $email, $firstname, $lastname) {
        $url = "https://api.citrixonline.com/G2W/rest/organizers/{$this->organizerKey}/webinars/{$webinarKey}/registrants";
        $data = (object) array(
            'firstName' => $firstname,
            'lastName' => $lastname,
            'email' => $email
        );
        return $this->client->post($url, $data);
    }

}

//****************************************************

$api = new Webinar();
print_r($api->getUpcoming));

?> 
```

# c# - 在字符串中神秘地添加了引号

> ID：12889194
> 
> 赞同：1
> 
> 时间：2012-10-15T04:11:27.780
> 
> 标签：c#, string

我使用文本编辑器将某个源代码复制并粘贴到我的程序中。我基本上需要确认源代码以“int main()”开头，所以我继续将行与“int main()”进行比较，但比较总是返回 false。

我决定将字符串剥离成字符并发现一些奇怪的东西。

![在此处输入图像描述](../Images/12105b8c8b88bddcc6821f286c5d413f.png)

所以字符串行在其中传递了“int main()”，这是已粘贴在文本编辑器中的文本。您会认为 a 和 b 具有相同的字符，但它们没有：

![在此处输入图像描述](../Images/cffd87945a3ed1b98744b8a4d4f2f49a.png)

老实说，我不确定开头的引号是从哪里来的。原始字符串不包含它，调试器不显示它（否则它将显示 "\"int main()\""）。这里发生了什么？

编辑：我试过 line = line.Trim()。那个角色还没有消失。显然，它是零宽度不间断空间的一些特殊 unicode 字符。如何从我的字符串中删除它？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-15T04:20:08.520

65279 看起来像 UTF-16 BOM (U+FEFF) 的十进制表示，您将数据读入“行”的方式是否可能无法删除它？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-15T04:19:13.030

你能设置`line`成吗`line.Trim();` ？如果不看看设置如何，很难说出可能发生的事情`line`。

基于 BOM 字符的更新：尝试`line.Trim(new char[]{'\uFEFF'});`假设 .NET 4

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-15T04:36:17.637

我找到了解决方案：

```
private readonly string BYTE_ORDER_MARK_UTF8 = Encoding.UTF8.GetString(Encoding.UTF8.GetPreamble());

...

if (line.StartsWith(BYTE_ORDER_MARK_UTF8))
                line = line.Remove(0, BYTE_ORDER_MARK_UTF8.Length); 
```

那很奇怪...

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-10-15T04:15:10.517

在您发布的代码中，变量似乎`line`以空格字符开头。尝试`line = line.Trim();`

**编辑：**

该`string.Trim()`方法无法按预期工作的原因可以在[MSDN上找到](http://msdn.microsoft.com/en-us/library/t97s7bs3.aspx)

> 从 .NET Framework 4 开始，该方法会修剪所有 Unicode 空白字符（即，在将它们传递给 Char.IsWhiteSpace 方法时产生真正返回值的字符）。由于此更改，.NET Framework 3.5 SP1 及更早版本中的 Trim 方法删除了 .NET Framework 3.5 SP1 和更早版本中的 Trim 方法中的两个字符，零宽度空格 (U+200B) 和零宽度无间断空格 (U+FEFF)。 NET Framework 4 及更高版本不会删除。

`(U+FEFF)`似乎是开头的字符`line`，因此为什么`Trim`不处理它。

# arm - ARM EABI 浮点问题

> ID：12889200
> 
> 赞同：2
> 
> 时间：2012-10-15T04:12:47.247
> 
> 标签：arm, eabi

我在使用可变参数的 ARM9 代码中有一个数据转换函数。几年前我一直在使用 arm-elf yagarto 发行版，没有任何问题。最近，我们从 yagarto 站点升级到 arm-eabi-none yagarto 包，我发现我们现在遇到浮点值问题。我最终发现双精度值被强制使用 8 字节边界，而现有的 varargs 浮点处理程序没想到会在 args 中找到间隙。

我可以手动检查指针并强制它达到 8 字节边界（事实上，我这样做了，并且完全解决了问题），但我想知道为什么突然开始发生这种情况。

是否有一个编译器开关指定堆栈上的数据对齐，或在函数调用中，或类似的东西？为什么在 32 位（4 字节）架构上默认为 8 字节边界？

任何人都可以就这些问题提供任何建议或见解，我将不胜感激。

代码很简单：

```
 .....
    float floatValue = 10.0;
    int intValue = 10;
    char buffer[32];
    ...
    snprintf (buffer, 32, "%g", floatValue); /* Here we are getting junk value bcz of 8-byte*/
    snprintf (buffer, 32, "%lld", intValue); /* Here we are getting junk value bcz of 8-byte */
    .... 
```

我们使用的 GCC 版本是 4.7.1

编译选项：

## 工具链编译选项：

```
 `mabi=aapcs-linux
    `mcpu=arm7tdmi/mcpu=arm946e-s`
    `mfloat-abi=softfp` 
```

## 应用程序编译器选项：

```
 `-mfloat-abi=softfp`
    `-mfpu=vfp`
    `-mstructure-size-boundary=8`
    `-fomit-frame-pointer`
    `-fshort-wchar`
    `-fno-short-enums` 
```

# python - 使用 Python，如何使用 PIL 在另一个图像中隐藏水印？

> ID：12889202
> 
> 赞同：0
> 
> 时间：2012-10-15T04:13:22.913
> 
> 标签：python, python-2.7, python-imaging-library, watermark

水印需要通过使图像中的像素在对应的水印像素为黑色的情况下为“偶数”和在对应的水印像素为白色的情况下为“奇数”来进行编码。

函数`add_watermark`必须有两个参数，一个图像文件名，例如， `StoryBridge.bmp`和水印文件名，例如，，`dog_watermark.bmp`它必须创建一个新的图像文件，例如，，`StoryBridge_X.bmp`水印隐藏在图像中。

函数`reveal_watermark`接受带水印的图像文件的名称，例如 ， `BryceCanyon_X.bmp`并创建一个新的图像文件，例如 ，`Bryce-Canyon_X_O.bmp`以显示隐藏的水印。请注意，带水印的图像文件将通过其文件名上的“_X”后缀来区分，并且要创建的新文件应添加额外的“_O”后缀。

我该怎么办？

# ruby-on-rails - Rails 将大型表单分解为多个步骤的方式？

> ID：12889204
> 
> 赞同：2
> 
> 时间：2012-10-15T04:13:27.963
> 
> 标签：ruby-on-rails, ruby-on-rails-3

> **可能重复：**
> [构建多页表单以在数据库中创建和编辑模型的最佳方法是什么？](https://stackoverflow.com/questions/3619551/what-is-the-best-way-to-structure-a-multi-page-form-to-create-and-edit-models-in)

是否有一种“Rails”方式将模型的大型形式分解为多个步骤？

例如，在我的 HR 软件中，`User`模型具有许多属性，例如经验、教育、地址等。用户在一页中看到所有这些表格会让人不知所措。我想把它们分解成碎片，然后一步一步地呈现出来。

在 Rails 中有首选的方法吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-15T04:54:37.977

你有两种方法可以做到这一点

1) 使用[多步表格](http://railscasts.com/episodes/217-multistep-forms)

2) 使用[向导](http://railscasts.com/episodes/346-wizard-forms-with-wicked)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-15T05:35:51.227

您可以使用[state_machine](https://github.com/pluginaweek/state_machine)创建多步表单。在这里，您可以为每个状态编写验证，其中每个状态都可以假定为您案例中的每个步骤。希望这对您有所帮助。

# objective-c - 与 NSWindowController、NSViewController 相关的 OS X 示例

> ID：12889212
> 
> 赞同：1
> 
> 时间：2012-10-15T04:14:40.867
> 
> 标签：objective-c, macos, transition, nswindowcontroller, nsviewcontroller

我将制作一个带有多个视图和窗口的 OS X 应用程序。

它有几个屏幕——启动画面、登录/注册和主屏幕（等等）。

我尝试使用 NSWindowControllers。但是，它使用起来非常复杂，我很困惑。

我在哪里可以找到与视图/窗口转换相关的好示例？

# git - Github repo 显示为空，但克隆它会显示文件

> ID：12889213
> 
> 赞同：1
> 
> 时间：2012-10-15T04:14:53.957
> 
> 标签：git, github

我在 github (https://github.com/VimEz/ShowMarks -> [https://github.com/mikeage/ShowMarks](https://github.com/mikeage/ShowMarks) ) 上创建了一个存储库并推送了两个更改。出于某种原因，当我通过 github Web UI 浏览最新提交（或 master 分支）时，它似乎完全是空的，尽管 repo 的新克隆显示实际上所有文件都存在。

我是一个 git 新手，完全不知道这里会发生什么。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-15T04:24:10.183

我认为您最近签入的 .gitignore 规则过于宽泛，这导致 GitHub 在列出您的所有文件时忽略它们。

通过浏览代码链接查看第一次提交的文件：[https ://github.com/mikeage/ShowMarks/tree/9dbc5f02730725a6992eec8bf86fea257cec858c](https://github.com/mikeage/ShowMarks/tree/9dbc5f02730725a6992eec8bf86fea257cec858c)

然后通过浏览代码链接查看第二次提交的文件： [https ://github.com/mikeage/ShowMarks/tree/5aea9c7879072001dc01d707734a252c3efbf297](https://github.com/mikeage/ShowMarks/tree/5aea9c7879072001dc01d707734a252c3efbf297)

您将看到您的第二次提交大大改变了列表。

要解决此问题，我建议缩小您的 .gitignore 范围，使其仅包含：

```
*.swo
*.swp
tags 
```

顺便说一句，如果你想进一步阅读，我写了一篇关于 .gitignore 文件的博客文章：[http ://www.luisdelarosa.com/2011/05/16/what-to-put-in-your-gitignore /](http://www.luisdelarosa.com/2011/05/16/what-to-put-in-your-gitignore/)

# git - 文件版本控制与修订控制

> ID：12889215
> 
> 赞同：0
> 
> 时间：2012-10-15T04:15:15.280
> 
> 标签：git, svn, version-control, branching-and-merging

我使用了 SVN + GIT，但仍然觉得不太满意，因为他们不使用文件级版本控制。谁能告诉我为什么所有类型的版本控制软件都不支持单个文件的跟踪版本？

基本上我想做的是在他们自己的分支上开发小型库，然后不断地集成到主分支中。问题是每个分支不仅包含这些文件，还包含项目设置文件、配置、测试脚本……我在开发库时也需要进行版本控制。我希望每个图书馆的修订版都单独计算。当我从 master 创建另一个分支时，我将始终拥有可以使用的最新库。如果我在该分支上进行错误修复，我将能够仅将修改后的库文件推送回 master 分支，然后在 master 上，我也可以将已修复的错误推送到正确的库分支。

所以总而言之，问题是如何仅将选定的文件合并到任意分支并分别跟踪每个文件的更改？

这是一种方法吗，还是我在这里做错了什么？我越来越糊涂了。请帮忙 ！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-15T06:09:19.107

您想使用子模块而不是使用 SVN。您可以随意混合搭配。

# android - Android，当我更新我的图像时，为什么启动器图标和其他图像永远不会改变？

> ID：12889219
> 
> 赞同：10
> 
> 时间：2012-10-15T04:16:48.697
> 
> 标签：android, launcher, updating

我发布了我的应用程序的一个版本。对于这个版本，我有一个启动器图标的图像。对于下一个版本（更新），我用其他图像替换了这个图标。

我的问题是当我用新版本更新上一个版本时，新的启动器图标不显示而旧的仍在显示。

但是，如果我在卸载之前和之后清除数据，然后通过安装新版本，我可以看到新的启动器图像。问题是我不能一一要求所有客户请清除数据然后卸载，然后再更新到新版本。

解决办法是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-26T13:59:47.163

我已经多次更改了我的应用程序的启动器图标，并且没有任何问题（用户群是几百万用户）。您在源代码中无事可做，只需替换`.png`文件`res`夹中的文件并重建您的项目。

注意：如果您正在`.apk`使用某些 IDE（Eclipse、IntelliJ IDEA 等）进行最终构建，请不要忘记在构建之前刷新并彻底清理您的项目。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-09-30T11:50:03.967

请检查您是否在清单中提及了该图标

```
<application
        android:allowBackup="true"
        android:icon="@drawable/ic_launcher"
        android:label="@string/app_name"
        android:theme="@style/AppTheme" >
</application> 
```

当我没有在应用程序标签中添加图标时，我遇到了同样的问题。但是在应用程序标签中添加图标后它得到了解决

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-10-09T15:20:29.033

它应该像替换图像一样容易，但有时它在eclipse上不起作用。我解决了它只是删除了旧的图标启动器（所有版本的 mdpi，hdpi ...），然后用不同的名称粘贴新的启动器。

也许这不是你的情况，但这是我的情况，可能是另一个情况。

# java - SolrCore java.io.FileNotFoundException

> ID：12889221
> 
> 赞同：4
> 
> 时间：2012-10-15T04:17:03.600
> 
> 标签：java, solr, lucene, solrcloud

索引时偶尔会遇到`FileNotFoundException`异常，并不是每次都发生。有人有什么线索吗？这是回溯：

```
2012-10-14 11:37:28,105 ERROR core.SolrCore - java.io.FileNotFoundException: /home/admin/run/deploy/solr/core_p_shard2/data/index/_cwo.fnm (No such file or directory)
        at java.io.RandomAccessFile.open(Native Method)
        at java.io.RandomAccessFile.<init>(RandomAccessFile.java:216)
        at org.apache.lucene.store.MMapDirectory.openInput(MMapDirectory.java:218)
        at org.apache.lucene.store.NRTCachingDirectory.openInput(NRTCachingDirectory.java:232)
        at org.apache.lucene.codecs.lucene40.Lucene40FieldInfosReader.read(Lucene40FieldInfosReader.java:47)
        at org.apache.lucene.index.SegmentCoreReaders.<init>(SegmentCoreReaders.java:101)
        at org.apache.lucene.index.SegmentReader.<init>(SegmentReader.java:55)
        at org.apache.lucene.index.ReadersAndLiveDocs.getReader(ReadersAndLiveDocs.java:120)
        at org.apache.lucene.index.BufferedDeletesStream.applyDeletes(BufferedDeletesStream.java:267)
        at org.apache.lucene.index.IndexWriter.applyAllDeletes(IndexWriter.java:2928)
        at org.apache.lucene.index.DocumentsWriter.applyAllDeletes(DocumentsWriter.java:180)
        at org.apache.lucene.index.DocumentsWriter.postUpdate(DocumentsWriter.java:310)
        at org.apache.lucene.index.DocumentsWriter.updateDocument(DocumentsWriter.java:386)
        at org.apache.lucene.index.IndexWriter.updateDocument(IndexWriter.java:1430)
        at org.apache.solr.update.DirectUpdateHandler2.addDoc(DirectUpdateHandler2.java:210)
        at org.apache.solr.update.processor.RunUpdateProcessor.processAdd(RunUpdateProcessorFactory.java:61)
        at org.apache.solr.update.processor.UpdateRequestProcessor.processAdd(UpdateRequestProcessor.java:51)
        at org.apache.solr.update.processor.DistributedUpdateProcessor.versionAdd(DistributedUpdateProcessor.java:432)
        at org.apache.solr.update.processor.DistributedUpdateProcessor.processAdd(DistributedUpdateProcessor.java:315)
        at org.apache.solr.handler.loader.XMLLoader.processUpdate(XMLLoader.java:230)
        at org.apache.solr.handler.loader.XMLLoader.load(XMLLoader.java:157)
        at org.apache.solr.handler.UpdateRequestHandler$1.load(UpdateRequestHandler.java:92)
        at org.apache.solr.handler.ContentStreamHandlerBase.handleRequestBody(ContentStreamHandlerBase.java:74)
        at org.apache.solr.handler.RequestHandlerBase.handleRequest(RequestHandlerBase.java:129)
        at org.apache.solr.core.SolrCore.execute(SolrCore.java:1656)
        at org.apache.solr.servlet.SolrDispatchFilter.execute(SolrDispatchFilter.java:454)
        at org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:275)
        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:202)
        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)
        at org.jboss.web.tomcat.filters.ReplyHeaderFilter.doFilter(ReplyHeaderFilter.java:96) 
```

除了上述异常，还有一个自动提交错误，这里是详细信息

```
2012-10-15 01:37:10,722 ERROR update.CommitTracker - auto commit error...:java.io.FileNotFoundException: _5.fdt
        at org.apache.lucene.store.FSDirectory.fileLength(FSDirectory.java:266)
        at org.apache.lucene.store.NRTCachingDirectory.fileLength(NRTCachingDirectory.java:177)
        at org.apache.lucene.index.SegmentInfo.sizeInBytes(SegmentInfo.java:103)
        at org.apache.lucene.index.IndexWriter.prepareFlushedSegment(IndexWriter.java:2126)
        at org.apache.lucene.index.DocumentsWriter.publishFlushedSegment(DocumentsWriter.java:495)
        at org.apache.lucene.index.DocumentsWriter.finishFlush(DocumentsWriter.java:474)
        at org.apache.lucene.index.DocumentsWriterFlushQueue$SegmentFlushTicket.publish(DocumentsWriterFlushQueue.java:201)
        at org.apache.lucene.index.DocumentsWriterFlushQueue.innerPurge(DocumentsWriterFlushQueue.java:119)
        at org.apache.lucene.index.DocumentsWriterFlushQueue.tryPurge(DocumentsWriterFlushQueue.java:148)
        at org.apache.lucene.index.DocumentsWriter.doFlush(DocumentsWriter.java:435)
        at org.apache.lucene.index.DocumentsWriter.flushAllThreads(DocumentsWriter.java:551)
        at org.apache.lucene.index.IndexWriter.prepareCommit(IndexWriter.java:2657)
        at org.apache.lucene.index.IndexWriter.commitInternal(IndexWriter.java:2793)
        at org.apache.lucene.index.IndexWriter.commit(IndexWriter.java:2773)
        at org.apache.solr.update.DirectUpdateHandler2.commit(DirectUpdateHandler2.java:531)
        at org.apache.solr.update.CommitTracker.run(CommitTracker.java:214)
        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
        at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
        at java.util.concurrent.FutureTask.run(FutureTask.java:138)
        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:98)
        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:206)
        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
        at java.lang.Thread.run(Thread.java:662) 
```

而且我发现索引目录中有很多段，其中大部分是空的，比如 . 索引目录中的文件总数为 35314。

```
-rw-rw-r-- 1 admin systems     0 Oct 14 11:37 _k3n.fdx
-rw-rw-r-- 1 admin systems     0 Oct 14 11:37 _k3o.fdt
-rw-rw-r-- 1 admin systems     0 Oct 14 11:37 _k3o.fdx
-rw-rw-r-- 1 admin systems     0 Oct 14 11:37 _k3p.fdt
-rw-rw-r-- 1 admin systems     0 Oct 14 11:37 _k3p.fdx
-rw-rw-r-- 1 admin systems     0 Oct 14 11:37 _k3q.fdt
-rw-rw-r-- 1 admin systems     0 Oct 14 11:37 _k3q.fdx
-rw-rw-r-- 1 admin systems     0 Oct 14 11:37 _k3r.fdt
-rw-rw-r-- 1 admin systems     0 Oct 14 11:37 _k3r.fdx
-rw-rw-r-- 1 admin systems     0 Oct 14 11:37 _k3s.fdt
-rw-rw-r-- 1 admin systems     0 Oct 14 11:37 _k3s.fdx
-rw-rw-r-- 1 admin systems     0 Oct 14 11:37 _k3t.fdt
-rw-rw-r-- 1 admin systems     0 Oct 14 11:37 _k3t.fdx
-rw-rw-r-- 1 admin systems     0 Oct 14 11:37 _k3u.fdt
-rw-rw-r-- 1 admin systems     0 Oct 14 11:37 _k3u.fdx
-rw-rw-r-- 1 admin systems     0 Oct 14 11:37 _k3v.fdt
-rw-rw-r-- 1 admin systems     0 Oct 14 11:37 _k3v.fdx
-rw-rw-r-- 1 admin systems     0 Oct 14 11:37 _k3w.fdt
-rw-rw-r-- 1 admin systems     0 Oct 14 11:37 _k3w.fdx
-rw-rw-r-- 1 admin systems     0 Oct 14 11:37 _k3x.fdt
-rw-rw-r-- 1 admin systems     0 Oct 14 11:37 _k3x.fdx
-rw-rw-r-- 1 admin systems     0 Oct 14 11:37 _k3y.fdt
-rw-rw-r-- 1 admin systems     0 Oct 14 11:37 _k3y.fdx
-rw-rw-r-- 1 admin systems     0 Oct 14 11:37 _k3z.fdt
-rw-rw-r-- 1 admin systems     0 Oct 14 11:37 _k3z.fdx
-rw-rw-r-- 1 admin systems     0 Oct 14 11:37 _k40.fdt
-rw-rw-r-- 1 admin systems     0 Oct 14 11:37 _k40.fdx
-rw-rw-r-- 1 admin systems     0 Oct 14 11:37 _k41.fdt
-rw-rw-r-- 1 admin systems     0 Oct 14 11:37 _k41.fdx
-rw-rw-r-- 1 admin systems     0 Oct 14 11:37 _k42.fdt
-rw-rw-r-- 1 admin systems     0 Oct 14 11:37 _k42.fdx 
```

# python - 非常简单的 pip python-twitter 问题；无法导入推特

> ID：12889226
> 
> 赞同：4
> 
> 时间：2012-10-15T04:17:12.967
> 
> 标签：python, pip, python-twitter

我不知道我在这里做错了什么：

```
Sun Oct 14$ pip install python-twitter
Requirement already satisfied (use --upgrade to upgrade): python-twitter in /Library/Python/2.7/site-packages
Requirement already satisfied (use --upgrade to upgrade): setuptools in /System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python (from python-twitter)
Requirement already satisfied (use --upgrade to upgrade): simplejson in /Library/Python/2.7/site-packages (from python-twitter)
Requirement already satisfied (use --upgrade to upgrade): oauth2 in /Library/Python/2.7/site-packages (from python-twitter)
Requirement already satisfied (use --upgrade to upgrade): httplib2 in /Library/Python/2.7/site-packages (from oauth2->python-twitter)
Cleaning up...
Sun Oct 14$ python
Python 2.7.2 (default, Nov 17 2011, 13:22:48) 
[GCC 4.2.1 (Based on Apple Inc. build 5658) (LLVM build 2336.1.00)] on darwin
Type "help", "copyright", "credits" or "license" for more information.
>>> import twitter
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
ImportError: No module named twitter
>>> 
```

我需要做一个virtualenv吗？还有什么可能发生的？对不起，我缺乏理解，但任何帮助表示赞赏。

**编辑#1** 试图让 tweepy 工作，但是.... 可能在这里有两个版本的 Python 2.7

```
Sun Oct 14$ pip install --upgrade tweepy
Requirement already up-to-date: tweepy in ./tweepy-1.11-py2.7.egg
Cleaning up...
Sun Oct 14$ python
Python 2.7.2 (default, Nov 17 2011, 13:22:48) 
[GCC 4.2.1 (Based on Apple Inc. build 5658) (LLVM build 2336.1.00)] on darwin
Type "help", "copyright", "credits" or "license" for more information.
>>> import tweepy
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
ImportError: No module named tweepy
>>> 
```

我想我可能安装了两个版本的 Python 2.7；一个通过自制软件和苹果默认设置。自制软件安装是否有可能将包放在 /Library/Python/2.7/site-packages 中？

再次，提前谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-15T04:32:04.160

从[我读过](http://code.google.com/p/python-twitter/issues/detail?id=178&can=1&q=import)的内容来看，python-twitter：

> 依赖于 Twitter 在 2010 年 8 月至 9 月之间关闭的 Basic-Auth。API 只支持 OAuth，python-twitter 不支持。

更新：我刚刚尝试使用与您使用的完全相同的方法安装 python-twitter，但我也无法导入它。在做了一些研究之后，我遇到了[Python Twitter Tools](http://mike.verdone.ca/twitter)，我相信它是 python-twitter 的替代品。

[安装`twitter`](http://mike.verdone.ca/twitter/#install)需要安装工具。这只是`easy_install twitter`从网络上安装它。

# hibernate - CF ORM ormExecuteQuery()，日期应该是什么格式？

> ID：12889232
> 
> 赞同：1
> 
> 时间：2012-10-15T04:17:53.673
> 
> 标签：hibernate, coldfusion

我有以下方法：

```
public function listPublished(){
        var today = createODBCDate(now());
        return ormExecuteQuery("FROM Employment WHERE publishdate <= #today# and expirydate >= #today# ORDER BY tstamp desc");
} 
```

当我运行它时，我收到以下错误：

```
org.hibernate.QueryException: unexpected char: '{' [FROM EmploymentFindSonographer WHERE publishdate <= {d '2012-10-15'} and expirydate >= {d '2012-10-15'} ORDER BY tstamp desc] 
```

我的猜测是 HQL 需要 ODBC 日期以外的格式？我也尝试传入一个标准的 CF 日期，但同样的错误。

谁能告诉我在将 HQL 传递给 ormExecuteQuery 时我的日期应该采用什么格式？

非常感谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-15T11:54:57.257

简单版：

```
ormExecuteQuery("FROM Employment WHERE publishdate <= :today and expirydate >= :today ORDER BY tstamp desc", {today = Now()}); 
```

可能的问题是 Now() 输出秒数，如果 publishDate 和 expiryDate 保持日期+时间，这可能会给您带来意想不到的结果。

因此，可能更准确的方法是：

```
ormExecuteQuery("FROM Employment WHERE publishdate <= :today and expirydate >= :today ORDER BY tstamp desc", {today = DateFormat(Now(), 'yyyy-mm-dd')}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-15T10:57:25.420

尝试

```
DateFormat(Now(), "yyyy-mm-dd") 
```

# java - Eclipse 中的 Servlet 脚本

> ID：12889234
> 
> 赞同：0
> 
> 时间：2012-10-15T04:18:10.407
> 
> 标签：java, servlets, parameters, show

我的 Servlet 名称是 ShowParameters，我的 Html 是 ShowParametersPostForm.html。我包含了用于显示参数的包 coreservlets。如何将 HTML 与 servlet 链接。当我运行它说请求的资源不可用。

如何在以下代码中链接我的 servlet？

```
<FORM ACTION="coreservlets.ShowParameters" METHOD="POST">
Item Number: <INPUT TYPE="TEXT" NAME="itemNum"><BR>
Description: <INPUT TYPE="TEXT" NAME="description"><BR>
Price Each: <INPUT TYPE="TEXT" NAME="price" VALUE="$"><BR>
<HR>First Name: <INPUT TYPE="TEXT" NAME="firstName"><BR>
Last Name: <INPUT TYPE="TEXT" NAME="lastName"><BR>
Middle Initial: <INPUT TYPE="TEXT" NAME="initial"><BR><HR>
</FORM> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-15T04:20:48.690

您必须将您的请求映射到`<servlet-mapping>`标签中的Servlet`web.xml` 看一看本[教程](http://javapapers.com/servlet/what-is-servlet-mapping/)，您会找到您需要的

```
 <servlet>
 <servlet-name>MyServlet</servlet-name>
 <servlet-class>coreservlets.ShowParameters</servlet-class>
 </servlet>

 <servlet-mapping>
 <servlet-name>MyServlet</servlet-name>
 <url-pattern>/show</url-pattern>
 </servlet-mapping> 
```

并让你的行动`<form action="show">`

# objective-c - Xcode 4.5.1 新警告（可能不安全）

> ID：12889236
> 
> 赞同：0
> 
> 时间：2012-10-15T04:18:19.153
> 
> 标签：objective-c, ios, xcode

我将我的 Xcode 升级到版本 4.5.1，突然之前的应用程序开发在构建过程中“可能不安全”。

它通常适用于声明这种类型的构造：

```
NSString *userChoice = [NSString stringWithFormat:label1a.text]; //Warning at pulling string from label1a.text
[usrAnswer setObject:userChoice forKey:@"1"]; 
```

这是一个严重的警告吗？我该如何纠正这个问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-15T04:21:10.873

您没有使用格式字符串。只需这样做：

```
NSString *userChoice = label1a.text; 
```

我看到很多人用 stringWithFormat: 创建字符串。仅当您实际使用格式说明符创建字符串时才使用它。

# c++ - C++ 整数溢出和提升

> ID：12889237
> 
> 赞同：12
> 
> 时间：2012-10-15T04:19:03.657
> 
> 标签：c++, language-lawyer

> **可能重复：**
> [当二元运算符任一侧的符号不同时，提升规则如何工作？](https://stackoverflow.com/questions/6770258/how-do-promotion-rules-work-when-the-signedness-on-either-side-of-a-binary-opera)

我试图在 C++ 中解决整数提升和溢出问题。我对以下几点感到有些困惑：

**a）**如果我有以下代码段：

```
int i = -15; 
unsigned j = 10; 
std::cout << i + j; 
```

我出去`-5 % UINT_MAX`。这是因为表达式`i + j`自动提升为无符号吗？我试图阅读标准（4.13）：

`— The rank of any unsigned integer type shall equal the rank of the corresponding signed integer type.`

我不确定我是否读错了，但如果这是真的，为什么会`i + j`以未签名的形式结束？

**b）**添加到上一个部分，我现在有：

```
int k = j + i; 
```

那正在被评估为`-5`. `j + i`不应该先评估表达式，`4294967291`在我的系统上给出，然后将其设置为 j 吗？那应该超出范围，那么这种行为是否未定义？我不确定我为什么会得到`-5`.

**c)如果我从***a)*稍微使用更改段`short`，我有：

```
short i = -15;
unsigned short j = 10;
std::cout << i + j; 
```

我想当我这样做时，我会得到与*a)*相同的结果，只是使用`-5 % USHRT_MAX`. 但是，当我执行此操作时，我得到`-5`. 为什么 using`short`给出的值与 不同`int`？

**d)**我一直了解到有符号积分的溢出行为是未定义的。例如：`int r = ++INT_MAX`将是未定义的。

但是，如果存在无符号溢出，则将定义数量。例如：`unsigned a = ++UINT_MAX`, 那么 a 就是`0`。那是对的吗？

但是，该标准似乎没有说明任何内容。真的吗？如果是这样，那是为什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-15T05:21:17.180

a) 从第 5/9 节开始：

> 许多期望算术或枚举类型的操作数的二元运算符会以类似的方式导致转换和产生结果类型。目的是产生一个通用类型，这也是结果的类型。这种模式称为*通常的算术转换*，其定义如下：
> 
> *   如果任一操作数为 类型`long double`，则另一个应转换为`long double`。
> *   否则，如果任一操作数为`double`，则另一个应转换为`double`。
> *   否则，如果任一操作数为`float`，则另一个应转换为`float`。
> *   否则，应在两个操作数上执行积分提升 (4.5)。
> *   然后，如果任一操作数是`unsigned long`另一个，则应转换为`unsigned long`.
> *   否则，如果一个操作数是 a`long int`而另一个是`unsigned int`，则如果 a`long int`可以表示 an 的所有值`unsigned int`，`unsigned int`则应将 a 转换为 a `long int`；否则两个操作数都应转换为`unsigned long int`.
> *   否则，如果任一操作数为`long`，则另一个应转换为`long`。
> *   否则，如果任一操作数为`unsigned`，则另一个应转换为`unsigned`。
> 
> [*注意：*否则，唯一剩下的情况是两个操作数都是`int`]

因此，因为`j`is `unsigned`，`i`被提升为`unsigned`并且使用 unsigned int 算术执行加法。

b) 这是 UB。加法的结果是`unsigned int`（根据（a）），因此您`int`在分配中溢出。

c) 从第 4.5/1 节开始：

> 如果可以表示源类型的所有值，则可以将`char`, `signed char`, `unsigned char`,`short int`或类型`unsigned short int`的右值转换为类型的右值；否则，源右值可以转换为类型的右值。`int``int``unsigned int`

因此，由于 4 字节`int`可以表示 2 字节`short`或中的任何值`unsigned short`，因此两者都被提升为`int`（根据 §5.9 的整体提升规则），然后添加为`int`s。

d) 从第 3.9.1/4 节开始：

> 声明的无符号整数`unsigned`应遵守算术模 2 ^(*n*)的定律，其中*n*是该特定整数大小的值表示中的位数。

因此，`UINT_MAX+1`是合法的（不是 UB）并且等于 0。

# javascript - javascript removeChild 然后使用 insertBefore 将其替换为新文本

> ID：12889239
> 
> 赞同：0
> 
> 时间：2012-10-15T04:19:07.857
> 
> 标签：javascript, function, modularity, removechild

我想在一个外部 javascript 文件中创建一个函数，以后可以重用（即一个模块化函数，它足够通用，可以在任何需要它的 javascript 中使用）。我想用纯 JavaScript 来做这件事，而不是使用 jQuery 或 innerHTML。

我希望这个模块化函数执行以下操作：1）删除一个孩子的元素 2）用新的孩子值替换这个孩子

例如说你有这个代码：

```
<p id="removeMe">This text needs to be removed</p>
<p id="nextPara">This is the paragraph that follows the replaced paragraph</p> 
```

所以我需要：

```
 1) parentNode.removeChild(removeMe);
  2) var replacementParagraph = document.createElement('p');
  3) var replacementParagraphText =document.createTextNode("This is the replacementParagraph text);
  4) replacementParagraph.appendChild(replacementParagraphText); 
```

现在我只需要弄清楚如何编写如下所示的模块化函数：

```
function removeReplace (parameter, parameter) {
   1) remove the child of the paragraph with the id of "removeMe"
   2) use insertBefore(newText, nextPara) to replace the child that was removed in step 1
} 
```

非常感谢你的帮助，杰森

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-15T04:34:20.243

哦，这要容易得多，因为这个函数已经原生存在：[`.replaceChild()`](https://developer.mozilla.org/en-US/docs/DOM/Node.replaceChild). 实际上你已经有了算法，你只需要用 javascript 编写它：

```
function replaceElementByParagraph(id, text) {
    var toremove = document.getElementById(id);
    if (!toremove) // in case no element was found:
        return false; // abort
    var para = document.createElement('p');
    para.appendChild(document.createTextNode(text));
    return toremove.parentNode.replaceChild(para, toremove);
} 
```

# javascript - 创建节索引并从字符串跳转到页面菜单

> ID：12889242
> 
> 赞同：1
> 
> 时间：2012-10-15T04:19:24.203
> 
> 标签：javascript, string

我有一个包含每个部分的部分标题和页数的字符串，如下所示：

```
 string = "section1;section2;section3;section4|2 3 1 4" 
```

我希望能够创建一个部分索引并将标题用作整个文档中相应页面的链接。

有什么建议么？我最初的想法是将字符串拆分为节标题和页数，然后拆分这些并将标题附加到无序列表中？这将处理部分标题，但页数呢？

```
 var options = string.split('|');

    var sections = options[0];

    var section_titles = sections.split(';');

    for (a=0;a<section_titles.length;a++){
    $('ul').append('<li><div class="title">'+sections[a]+'</div></li>');
    };

    var counts = options[1];

    var section_counts = counts.split(' ');

    ??????? 
```

请发送您的建议。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-17T15:42:50.663

这就是最终为我工作的东西......

*   我将字符串更改为包含由 | 分隔的“title;count”
*   我将其输出为无序列表

> ```
> var str = "section1;2|section2;3|section3;1|section4:4"
> var d = 0;
> var ul = $('<ul>');
> var sec = toc.split('|');
> var a = 0;
>   for (a = 0; a < sec.length; a++) {
> var secArr = sec[a].split(';');
>   var sectiontitle = secArr[0];
>   var sectioncount = secArr[1] * 1;
> var jump = d;
> d = d + sectioncount;
>   if (sectiontitle == ''){
>   } else {
>   $('#sections').find('ul').append('<li><div class="toc"><div     class="title">'+sectiontitle+'</div></div><span class="jumper"
> style="display:none;">'+jump+'</span></li>');
>   }
>   } 
> ```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-15T05:42:59.523

**如果您的应用程序是 Web 应用程序并且您不尝试在 pdf 文档中创建索引，这将有所帮助。**

最简单的方法是使用锚点和链接。

**请阅读这些：** [链接](http://www.bignosebird.com/tags/ahref.shtml) [锚](http://www.html-5-tutorial.com/a-tag.htm)

然后查看下面的完整代码示例。您可以将所有内容复制到 test.html 文件中，然后在浏览器中打开它以查看其行为方式。

```
<body>

<script type="text/javascript">
document.write("\<script src='http://code.jquery.com/jquery-latest.min.js' type='text/javascript'>\<\/script>");
</script>
<style>
section{font-size:100px;}
</style>

First things first, your data setup seems odd. If you can change that string's setup, try going the JSON way. For example:
<script>
var jsonString = '{ "section1":2, "section2":3, "section3":1, "section4":4 }';

var objectFromJson = jQuery.parseJSON(jsonString);
var ul = $('<ul>'); 
for (var prop in objectFromJson)
{
    var li = $("<li>");
    var divTitle = $("<div>");
    divTitle.addClass("title");
    var titleLink = $("<a>");
    titleLink.text(prop);
    titleLink.attr("href","#" + prop + "/" + objectFromJson[prop])
    divTitle.append(titleLink)
    li.append(divTitle);
    ul.append(li);
    }
$("body").append(ul);
</script>

If that is not possible, let's continue on what you have
<script>
var str = "section1;section2;section3;section4|2 3 1 4"
var options = str.split('|');

var sections = options[0];
var numbers = options[1];

var section_titles = sections.split(';');
var numbersArr = numbers.split(' ');

var ul = $('<ul>'); 
for (var a=0; a < section_titles.length; a++)
{
    if(numbersArr.length > a)
    {
        var li = $("<li>");
        var divTitle = $("<div>");
        var titleLink = $("<a>");
        titleLink.text(section_titles[a]);
        titleLink.attr("href","#" + section_titles[a] + "/" + numbersArr[a])

        divTitle.addClass("title");
        divTitle.append(titleLink)
        li.append(divTitle);
        ul.append(li);
    }
    }
$("body").append(ul);
</script>

<section>
<a name="section1/2">section1</a><br/><br/>
Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam at tristique est. Curabitur rhoncus consequat sagittis. Proin pharetra elit nec turpis rutrum a lobortis nisi ornare. Nulla nec nisl diam, vel semper orci. Phasellus iaculis nibh a velit pulvinar sagittis eu ut massa. Cras vestibulum, urna sed ultrices consequat, purus leo venenatis lorem, a bibendum nibh eros ut leo. Curabitur viverra urna id ante mattis ultrices. Nulla et velit enim, vel condimentum magna. Vestibulum ullamcorper consectetur porta. Maecenas eget dui nec turpis condimentum aliquet in in risus.
</section>

<section>
<a name="section2/3">section2</a><br/><br/>
Ut ac blandit nisi. Phasellus fringilla, est vel hendrerit mollis, dui sem sagittis justo, eget fermentum odio ipsum at sem. Sed tempor, nibh eu vulputate vehicula, lectus neque eleifend erat, at tincidunt orci dui a tellus. Vestibulum viverra urna in tellus vestibulum semper. Etiam volutpat sodales rutrum. Morbi elementum, lacus ut fermentum malesuada, ipsum sem viverra arcu, ut consequat libero dui et arcu. Cras ut libero nulla, nec rhoncus erat. Integer id enim id nulla sagittis congue. Integer mollis tempor viverra. Ut non nisi sem, et semper lacus. Vivamus turpis mi, hendrerit non pellentesque a, iaculis id nibh. Pellentesque nec arcu magna, at posuere eros. Duis eu quam at nulla porttitor aliquet. Vestibulum cursus mattis purus, a sodales mi rhoncus vitae. Phasellus quis urna nec orci rhoncus consequat.
</section>

<section>
<a name="section3/1">section3</a><br/><br/>
Donec pellentesque congue sollicitudin. Fusce aliquam, velit et cursus iaculis, nisl massa vulputate magna, vitae imperdiet felis tortor sit amet purus. Vivamus aliquet laoreet ligula quis aliquet. Vivamus fringilla purus ut lorem faucibus viverra. Sed accumsan tincidunt tempus. Donec id velit in dolor luctus gravida. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Aenean sit amet nulla augue. Proin vel tincidunt est. Curabitur imperdiet elementum suscipit. Praesent dignissim magna eget sapien pretium vestibulum id at arcu. Integer egestas purus non.
</section>

<section>
<a name="section4/4">section4</a><br/><br/>
Donec pellentesque congue sollicitudin. Fusce aliquam, velit et cursus iaculis, nisl massa vulputate magna, vitae imperdiet felis tortor sit amet purus. Vivamus aliquet laoreet ligula quis aliquet. Vivamus fringilla purus ut lorem faucibus viverra. Sed accumsan tincidunt tempus. Donec id velit in dolor luctus gravida. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Aenean sit amet nulla augue. Proin vel tincidunt est. Curabitur imperdiet elementum suscipit. Praesent dignissim magna eget sapien pretium vestibulum id at arcu. Integer egestas purus non.
</section>

</body> 
```

# symfony - 将 FOSUserBundle 重置电子邮件与 Amazon SES 集成

> ID：12889243
> 
> 赞同：1
> 
> 时间：2012-10-15T04:19:32.600
> 
> 标签：symfony, fosuserbundle, amazon-ses

我将后缀配置为在发送电子邮件时使用 Amazon SES。我正在尝试使用 FOSUserBundle 的功能来发送电子邮件以重置用户密码。不幸的是，邮件永远不会到达邮箱，Amazon SES 不接受 FOSUserBundle 伪造的电子邮件。

有人知道这封电子邮件有什么问题吗：

```
Content-Transfer-Encoding: quoted-printable
Content-Type: text/html; charset=utf-8
MIME-Version: 1.0
Date: Mon, 15 Oct 2012 04:07:56 +0000
Message-ID: <1350274076.507b8c1c8cee8@www.yourownpoet.com>
From: quilly@YourOwnPoet.com
Subject: blablou
To: toto@gmail.com
Bcc: 
    <html><body>whatever</body></html> 
```

这也不起作用：

```
Content-Type: multipart/alternative;
boundary="_=_swift_v4_1350274671507b8e6f82b5f_=_"
MIME-Version: 1.0
Date: Mon, 15 Oct 2012 04:17:51 +0000
Message-ID: <1350274671.507b8e6f99894@www.yourownpoet.com>
From: quilly@YourOwnPoet.com
Subject: blablou
To: toto@gmail.com
Bcc: 
    <html><body>whatever</body></html> 
```

我创建了自己的邮件服务，以尝试使用不同标题的电子邮件（我使用 SwiftMailer）。我应该如何伪造我的电子邮件以便它通过 Amazon SES？

编辑：

我注意到其他邮件内容类型为：多部分/混合；通过 SES，但我没有设法将 content-type 字段强制为该值。有可能做到吗？这是我伪造电子邮件的方法：

```
$message = \Swift_Message::newInstance()
        ->setContentType('multipart/mixed')
        ->setSubject('blablou')
        ->setFrom('quilly@YourOwnPoet.com')
        ->setTo('toto@gmail.com')
        ->setBody('<html><body>whatever</body></html>', 'text/html')
        ->addPart('fdsfsd', 'text/plain');

$this->mailer->send($message); 
```

但内容类型仍然是“多部分/替代”..

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-15T04:58:16.773

好吧，找到答案了……把帖子留在这里，谁知道有一天可能对某人有用。

问题不是来自内容类型，而是来自发件人的电子邮件地址！请记住，您必须设置哪些电子邮件地址有权通过ses发送电子邮件。并且此电子邮件区分大小写！

您可以毫无问题地使用 FOSserBundle 提供的 Mailer，但要正确配置：

配置.yml：

```
fos_user
    resetting:
        email:
            template: YOPYourOwnPoetBundle:Emails:resetEmail.html.twig
    from_email:
        address:        Quilly@YourOwnPoet.com /*set ses accepted email address here */
        sender_name:    Quilly
    service:
        mailer: fos_user.mailer.twig_swift 
```

# django - 多语言问题（django.po 文件）

> ID：12889246
> 
> 赞同：1
> 
> 时间：2012-10-15T04:20:04.143
> 
> 标签：django, django-multilingual

我在我的应用程序中使用了多种语言的概念，为此我已经完成了文档中所写的所有事情。

但是当我在我的项目中创建一个语言环境文件，然后是相应的语言文件夹“es”，因此默认情况下会创建一个 django.po 文件，其中包含我可以编辑的所有行。

例如

```
#: customer_reg/my_new_env/lib/python2.6/site-packages/django/conf/global_settings.py:48
msgid "Arabic"
msgstr "" 
```

但是这个 django.po 文件不包含我可以编辑的应用程序模板文件。

正如我所说，我已经在我的项目中创建了这个与我的应用程序平行的语言环境文件，我不知道它为什么会发生。所以我必须在我的应用程序中与我的模型和视图平行地创建它？？或者还有其他问题吗？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-29T10:00:40.410

在您的应用程序中创建 locale 目录，与您的 settings.py 文件所在的级别相同。

现在从上一个级别，即您创建语言环境目录的位置，键入 cmd 以生成源文件 [.po]。cmd like ./manage.py makemessages -l [language code] 检查来自[http://translate.sourceforge.net/wiki/l10n/pluralforms的语言代码](http://translate.sourceforge.net/wiki/l10n/pluralforms)

多田..！这应该适合您，将包括您的应用程序模板。

如果这对你不起作用，请告诉我。

# javascript - IE 8 中的 Javascript 错误 - 网站无法加载

> ID：12889251
> 
> 赞同：0
> 
> 时间：2012-10-15T04:20:17.597
> 
> 标签：javascript, internet-explorer, internet-explorer-8, web

我的网站是[http://www.ancientwords.us](http://www.ancientwords.us)。我已经尝试了书中的所有 Javascript 故障排除工具，但我无法弄清楚为什么该网站没有在 IE 8（或 IE7 中）加载。

在 IE8 模式下使用 IE10 时，我收到一条通知说有一个无响应的脚本，因此我认为这是一个与 Javascript 相关的错误。即便如此，我仍然无法找到能够告诉我问题所在的工具。

我已经在 Safari、FireFox 和 Chrome 中测试了该网站，一切正常。该站点在 IE9 和 IE10 中也可以正常工作。

有人有建议吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-16T21:06:45.987

原来是 Cloudflare 导致了这个问题。Rocket Loader 功能与旧版本的 IE 不兼容。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-05T23:36:06.253

Did you [report the Rocket Loader bug](https://www.cloudflare.com/wco-bug-report.html) to us?

# java - java - 如何使用dom解析器java解析xml中的同名标签？

> ID：12889253
> 
> 赞同：1
> 
> 时间：2012-10-15T00:36:44.230
> 
> 标签：java, xml, parsing

如何使用 dom parser java 解析 xml 中的同名标签？

我有以下 xml 文件，我想在 java 中使用 dom 解析器进行解析。

```
<?xml version="1.0"?>
    <GameWorld>
        <player>
            <playerID>1</playerID>
            <inventory>
                <item>cards</item>
                <item>notes</item>
                <item>dice</item>
            </inventory>
            <position>50 50 10 60</position>
            <room>offices</room>
        </player>
        <player>
            <playerID>2</playerID>
            <inventory>
                <item>notes</item>
                <item>dice</item>
                <item>cards</item>
            </inventory>
            <position>10 10 10</position>
            <room>security room</room>
        </player>
    </GameWorld> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-15T04:28:59.473

```
DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();
DocumentBuilder db = dbf.newDocumentBuilder();
Document doc = db.parse(f);
Element root = doc.getDocumentElement();
NodeList nodeList = doc.getElementsByTagName("player");
for (int i = 0; i < nodeList.getLength(); i++) {
  Node node = nodeList.item(i);
  // do your stuff
} 
```

但我宁愿建议使用 XPath

```
DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();
DocumentBuilder builder = factory.newDocumentBuilder();
Document doc = builder.parse(<uri_as_string>);
XPathFactory xPathfactory = XPathFactory.newInstance();
XPath xpath = xPathfactory.newXPath();
XPathExpression expr = xpath.compile("/GameWorld/player");
NodeList nl = (NodeList) expr.evaluate(doc, XPathConstants.NODESET); 
```

# javascript - 将 d3 力有向图的节点包围在圆形或多边形或云中

> ID：12889262
> 
> 赞同：6
> 
> 时间：2012-10-15T04:21:29.547
> 
> 标签：javascript, d3.js, force-layout

我已经建立了一个`d3`带有分组节点的力有向图。我想将组封闭在云状结构中。我怎样才能做到这一点？

图的 Js Fiddle 链接：http: [//jsfiddle.net/Cfq9J/5/](http://jsfiddle.net/Cfq9J/5/)

我的结果应该类似于此图像：

![在此处输入图像描述](../Images/47119b4c5a1734eff7fc84cb7ba29ec0.png)

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-10-16T00:45:09.757

这是一个棘手的问题，我不完全确定你能以一种表演的方式做到这一点。你可以在这里看到我的静态实现：http: [//jsfiddle.net/nrabinowitz/yPfJH/](http://jsfiddle.net/nrabinowitz/yPfJH/)

和这里的动态实现，虽然它很慢而且很紧张：http: [//jsfiddle.net/nrabinowitz/9a7yy/](http://jsfiddle.net/nrabinowitz/9a7yy/)

实施注意事项：

*   这是通过用其组中的所有其他圆圈掩盖每个圆圈来实现的。您可能可以通过碰撞检测来加快速度。

*   因为每个圆圈都被渲染并用作遮罩，所以大量使用`use`元素来引用每个节点的圆圈。实际的圆是在一个`def`元素中定义的，一个用于重用的非渲染定义。运行时，每个节点将呈现如下：

    ```
    <g class="node">
        <defs>
            <circle id="circlelanguages" r="46" transform="translate(388,458)" />
        </defs>
        <mask id="masklanguages">
            <!-- show the circle itself, as a base -->
            <use xlink:href="#circlelanguages" 
                fill="white" 
                stroke-width="2"
                stroke="white"></use>
            <!-- now hide all the other circles in the group -->
            <use class="other" xlink:href="#circleenglish" fill="black"></use>
            <use class="other" xlink:href="#circlereligion" fill="black">
            <!-- ... -->
        </mask>
        <!-- now render the circle, with its custom mask -->
        <use xlink:href="#circlelanguages"
            mask="url(#masklanguages)"
            style="fill: #ffffff; stroke: #1f77b4; " />
    </g> 
    ```

*   我将节点圆圈、链接和文本分别放在不同的`g`容器中，以适当地分层。

*   您最好在节点数据中包含一个数据变量，而不是字体大小 - 我必须将该`fontSize`属性转换为整数才能将其用于圆半径。即使这样，由于文本的宽度与数据值无关，您会得到一些比其下方的圆圈更大的文本。

*   不知道为什么第一个节点的圆圈没有正确放置在静态版本中 - 它适用于动态版本。神秘。

# html - IE 的 CSS 怪癖

> ID：12889264
> 
> 赞同：-3
> 
> 时间：2012-10-15T04:22:03.290
> 
> 标签：html, internet-explorer, css

我正在尝试让这个菜单与 IE（主要是 9+ atm）一起使用，但遇到了麻烦。似乎有一些奇怪的填充问题，我似乎无法追踪。有任何想法吗？

这是 JS 小提琴：http: [//jsfiddle.net/Ztzn6/](http://jsfiddle.net/Ztzn6/)

IE版本：

![在此处输入图像描述](../Images/e5877800e4788938da5104014faeb25f.png)

铬版：

![在此处输入图像描述](../Images/6c05a9b6717cef06bc391a7be174d3d4.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-15T05:21:06.557

添加`vertical-align: top;`到您的第二个规则组（带有 的那个`display: inline-block`）。您遇到了一些关于行框和内联元素如何工作的有趣规则，IE 似乎使用了不同的默认行为。

# android - 如何在我的应用程序中创建手势？

> ID：12889265
> 
> 赞同：2
> 
> 时间：2012-10-15T04:22:18.313
> 
> 标签：android, gestures, android-gesture

我有提交按钮。当我单击或点击提交按钮下方时，它应该能够通过在 android 中以编程方式识别手势。我怎么能这样做？

我需要下载任何基于手势的东西吗？否则我应该为这个手势做什么？

而且，就像一个手势点——如果我使用手势概念或任何东西画一条线，手势应该执行它的动作。我画了一条线后，它应该可以打开另一个屏幕。它必须能够显示最后一页。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-15T04:28:58.870

也许你需要这个[android 手势](http://androidresearch.wordpress.com/2012/01/10/working-with-gesture-api-in-android/)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-15T09:00:43.693

要获取有关创建手势应用程序的信息，请访问[http://androidresearch.wordpress.com/2012/01/10/working-with-gesture-api-in-android/](http://androidresearch.wordpress.com/2012/01/10/working-with-gesture-api-in-android/)

# c# - 如何创建控制台应用程序的exe

> ID：12889269
> 
> 赞同：42
> 
> 时间：2012-10-15T04:22:48.873
> 
> 标签：c#, winforms

我们如何为控制台表单应用程序创建 exe？

* * *

## 回答 #1

> 赞同：52
> 
> 时间：2012-10-15T04:24:46.283

`EXE`只要您构建项目，就会创建一个文件。您通常可以在项目的调试文件夹中找到它。

```
C:\Users\username\Documents\Visual Studio 2012\Projects\ProjectName\bin\Debug 
```

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2019-01-03T03:14:41.653

对于 .net core 2.1 控制台应用程序，以下方法对我有用：

1 -**从 CLI**（在构建应用程序并根据指定的构建类型导航到调试或发布文件夹之后）：

```
dotnet appName.dll 
```

2 - 来自**Visual Studio**

```
R.C solution and click publish
'Target location' -> 'configure' ->
   'Deployment Mode' = 'Self-Contained'
   'Target Runtime' = 'win-x64 or win-x86 depending on the OS' 
```

参考：

*   [https://stackoverflow.com/a/44039013/5063433](https://stackoverflow.com/a/44039013/5063433)
*   [https://stackoverflow.com/a/52443448/5063433](https://stackoverflow.com/a/52443448/5063433)

有关 .net 核心应用程序可用的所有部署选项的深入说明，请查看以下文章：

*   [https://docs.microsoft.com/en-us/dotnet/core/deploying/deploy-with-vs?tabs=vs156](https://docs.microsoft.com/en-us/dotnet/core/deploying/deploy-with-vs?tabs=vs156)
*   [https://docs.microsoft.com/en-us/dotnet/core/deploying/deploy-with-cli](https://docs.microsoft.com/en-us/dotnet/core/deploying/deploy-with-cli)

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2012-11-21T10:42:44.537

通常，exe 可以在调试文件夹中找到，如前所述，但不在发布文件夹中，在我的配置中默认禁用。如果要激活发布文件夹，可以这样做： BUILD->Batch Build 并激活发布配置中的“构建”复选框。单击构建按钮时，将生成带有一些依赖项的 exe。现在您可以复制和使用它了。

* * *

## 回答 #4

> 赞同：6
> 
> 时间：2019-09-03T20:32:10.673

对于 .NET Core 2.2，您可以发布应用程序并将目标设置为自包含的可执行文件。

在 Visual Studio 中，右键单击您的控制台应用程序项目。选择发布到文件夹并设置配置文件设置，如下所示：

[![Visual Studio 发布菜单](../Images/52035fcafcea38376ef8524aaad38434.png)](https://i.stack.imgur.com/MFr7O.png)

您将在发布文件夹中找到带有 .exe 的编译代码。

* * *

## 回答 #5

> 赞同：-6
> 
> 时间：2012-10-15T08:53:06.300

以下步骤是创建 .exe 即可执行文件所必需的，如下所示： 1）打开 Visual Studio 框架 2）然后，创建一个新项目或应用程序 3）按 F5 构建或执行您的应用程序

# jquery - 单击菜单的 li 将 php 页面加载到 div

> ID：12889272
> 
> 赞同：0
> 
> 时间：2012-10-15T04:23:27.807
> 
> 标签：jquery, dom, tabs

我有一个导航栏，其中包含诸如 menu1....menu5 之类的 li 项目，它们是按班级处理的。我有 5 个名为 wrap1...wrap5 的 php 文件。当单击菜单栏 li 之一时，我想将这些文件加载​​到 index.php 的容器中。我使用了加载功能，但徒劳无功。

```
 $('.menu1').click(function(){
       $('#container').load('views/wrap2.php', function() {
       $('#container').fadeIn('slow') ;
   });
}); 
```

同样在 index.php 中，我包括所有必要的页面，如 top.php、navbar.php、body.php 和 footer.php。有这个问题吗？？？

编辑 - -

这是 index.php

```
<?php
   require ('views/top.php') ;
   require ('views/quick.php') ;
   require ('views/navbar.php') ;
   echo '<div id="container">';
   echo '</div>';

   require ('views/footer.php') ;

?>

<div id="tabs">
<ul>
    <a href="views/wrap1.php"><li class="wrap1"> Home &nbsp&nbsp </li></a>
    <a href="views/wrap2.php"><li class="wrap2"> Packages</li></a>
    <a href="views/wrap3.php"><li class="wrap3"> Clients &nbsp </li></a>
    <a href="views/wrap4.php"><li class="wrap4">  Creations</li></a>
    <a href="views/wrap5.php"><li class="wrap5"> Reach Us &nbsp </li></a>
</ul>

</div> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-15T04:25:45.347

使用此代码

```
$(document).ready(function(){
     $('#tabs li').click(function(){
     $('#container').load('views/'+$(this).attr("class")+'.php', function() {
        $('#container').fadeIn('slow') ;
       });
        return false;
    });
}) 
```

这是[**现场演示**](http://jsfiddle.net/GxY4M/)

# python - 如何在python中播放原始mp3数据

> ID：12889274
> 
> 赞同：1
> 
> 时间：2012-10-15T04:23:53.703
> 
> 标签：python, mp3

我正在编写一个可以使用 gmusicapi ( [https://github.com/simon-weber/Unofficial-Google-Music-API](https://github.com/simon-weber/Unofficial-Google-Music-API) ) 播放音乐、操作播放列表等的界面。我有我的应用程序，以便它可以下载原始 mp3 数据，但我很难找到一个可以播放它的库。GST 可以播放 url，但不允许 cookie 身份验证。pygame 可以播放 mp3，但来自文件，而不是数据。有人知道如何在 python 中播放原始 mp3 数据吗？

```
def gm_PlaySong(self, url):
    req = urllib2.Request(url)
    for cookie in self.api.session.cookies:
        req.add_header(cookie.name, cookie.value)
    resp = urllib2.urlopen(req)
    song = resp.read() 
```

歌曲是原始的mp3。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-15T04:34:22.710

### 写入文件

首先，您可以做的简单的事情是将您的 mp3 数据写入一个文件以供 pygame 播放。你可以这样做：

```
import pygame
def gm_PlaySong(self, url):
    req = urllib2.Request(url)
    for cookie in self.api.session.cookies:
        req.add_header(cookie.name, cookie.value)
    resp = urllib2.urlopen(req)
    song = resp.read()
    with open('path/to/file.mp3', 'wb') as outfile:
        outfile.write(song)

    pygame.mixer.music.load('path/to/file.mp3') 
```

### 使用`StringIO`

或者，您可以干燥一些东西——这有点猜测，因为我没有在这里测试它的工具——您可以尝试使用[`StringIO.StringIO`](http://docs.python.org/library/stringio.html#StringIO.StringIO)该类将原始 mp3 数据提供给 pygame，类似于Python 文件对象会。

这看起来像这样：

```
import pygame, StringIO
def gm_PlaySong(self, url):
    req = urllib2.Request(url)
    for cookie in self.api.session.cookies:
        req.add_header(cookie.name, cookie.value)
    resp = urllib2.urlopen(req)
    song = StringIO.StringIO(resp.read()) # Gives you a file-like object

    # load song
    pygame.mixer.music.load(song) 
```

# java - Java 和 Windows - 错误：非法转义字符

> ID：12889275
> 
> 赞同：4
> 
> 时间：2012-10-15T04:23:59.943
> 
> 标签：java, windows, file-io

我已经完成了更改注册表数据的 .java 文件。但是我在`Runtime.getRuntime().exec`存在的行上收到“非法转义字符”错误。我的错误在哪里？

```
import java.util.*;
import java.applet.Applet; 
import java.awt.*; 

class test {
  public static void main(String args[]) {
      try {
          Runtime.getRuntime().exec("REG ADD 'HKCU\Software\Microsoft\Internet Explorer\Main' /V 'Start Page' /D 'http://www.stackoverflow.com/' /F");
      } catch (Exception e) {
          System.out.println("Error ocured!");
      }
  }
} 
```

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2012-10-15T04:25:14.923

您需要转义路径中使用的*反斜杠。*

```
String windowsPath = "\\Users\\FunkyGuy\\My Documents\\Hello.txt"; 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-10-15T04:25:35.963

您需要`\`使用 another进行转义，因此请在输入字符串中`\`替换`\`为。`\\`

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-10-15T04:25:23.270

您需要转义注册表路径字符串中的反斜杠字符：

```
"REG ADD `HKCU\\Software\\ ... 
```

反斜杠字符在字符串中具有特殊含义：它用于引入转义字符。如果您想在字符串中逐字使用它，则需要*使用*双反斜杠对其进行转义。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-10-15T04:29:45.810

Java 中的反斜杠是特殊的“转义”字符，它们提供了包含制表符`\t`和/或换行符之类`\n`的东西以及许多其他有趣的东西的能力。

`\`不用说，你也可以通过添加一个附加字符来“逃避”它们......

```
'HKCU\\Software\\Microsoft\\Internet Explorer\\Main' 
```

在旁注中。我会使用[ProcessBuilder](http://docs.oracle.com/javase/7/docs/api/java/lang/ProcessBuilder.html)或至少`Runtime#exec`使用[数组参数](http://docs.oracle.com/javase/7/docs/api/java/lang/Runtime.html#exec%28java.lang.String%5b%5d%29)的版本。

在处理命令参数中的空格时，恕我直言，这将节省很多麻烦

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-10-15T04:26:15.717

可能是因为您没有转义字符串中的反斜杠。查看[http://docs.oracle.com/javase/tutorial/java/data/characters.html](http://docs.oracle.com/javase/tutorial/java/data/characters.html)以获取有关正确转义的更多信息。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-10-15T04:29:55.160

您需要将 escape 替换`\`为`\\`

下面的代码将起作用

```
Runtime.getRuntime().exec("REG ADD 'HKCU\\Software\\Microsoft\\Internet Explorer\\Main' /V 'Start Page' /D 'http://www.stackoverflow.com/' /F"); 
```

# mysql - MySQL 在 SELECT 上崩溃，具体取决于架构

> ID：12889277
> 
> 赞同：2
> 
> 时间：2012-10-15T04:24:14.943
> 
> 标签：mysql, mysql-error-2013

我在使用 MySQL 时遇到了一些奇怪的行为。我有一个不大的表，大约 20k 行，其中一列是 VARCHAR(512)。对此表执行 SELECT 查询（涉及连接等）有效，但如果我将架构更改为 VARCHAR(1024) 或 TEXT 我收到错误：`#2013 Lost connection to MySQL server during query`.

我的 error.log 显示以下内容：

```
121014 16:24:49 [Note] Plugin 'FEDERATED' is disabled.
121014 16:24:49  InnoDB: Initializing buffer pool, size = 8.0M
121014 16:24:49  InnoDB: Completed initialization of buffer pool
121014 16:24:49  InnoDB: Started; log sequence number 0 52320007
121014 16:24:49 [Note] Recovering after a crash using /var/log/mysql/mysql-bin
121014 16:24:49 [Note] Starting crash recovery...
121014 16:24:49 [Note] Crash recovery finished.
121014 16:24:49 [Note] Event Scheduler: Loaded 0 events
121014 16:24:49 [Note] /usr/sbin/mysqld: ready for connections.
Version: '5.1.58-1ubuntu1-log'  socket: '/var/run/mysqld/mysqld.sock'  port: 3306  (Ubuntu) 
```

我已经转储数据库并将其加载到另一台机器上，无论架构如何，它都可以正常工作。有谁知道我如何调试这个问题或可能导致它的原因？

额外说明：有问题的机器是 Rackspace 云服务器，我调整了服务器的大小，这意味着它有更多的资源，而且它运行的硬件可能发生了变化，但问题仍然存在。

澄清：无论模式如何，我都可以对该表执行大多数查询，似乎只是特定查询（涉及多个连接）导致失败。一个 SELECT * 工作正常。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-15T17:13:40.417

我不知道是什么导致了这个问题，但是升级到 MySQL 5.5 让它消失了。感谢所有试图提供帮助的人。

# android - Android Webview 在加载另一个网站之前完成加载

> ID：12889279
> 
> 赞同：1
> 
> 时间：2012-10-15T04:24:30.303
> 
> 标签：android, webview, android-webview

我目前正在开发一个测试应用程序，用于测试网站列表的速度。该应用程序应该一个一个地自动访问所有这些网站，我使用的方法是：

```
 mainWebview.setWebViewClient(new WebViewClient(){                   
        public void onPageFinished(WebView view, String url){
            super.onPageFinished(view, url);

            endtime = Calendar.getInstance().getTimeInMillis();
            Toast.makeText(ctx, "The Time:" + ((endtime - starttime)/1000) +"."+ (((endtime - starttime)/100)%10), Toast.LENGTH_SHORT).show();
            resultList.add(url + " : "+ ((endtime - starttime)/1000) +"."+ (((endtime - starttime)/100)%10));
            timer.cancel();

            if (index < testWebsiteList.length - 1){
                Log.i("TEST" , "//INDEX: " + index);
                index ++;
                mainWebview.loadUrl(testWebsiteList[index]);
            }

            mainWebview.clearCache(true);
        } 
```

但是，问题是一旦 webview 开始加载第一个 web，它会给出这样的 logcat 输出：

```
//INDEX: 0
//INDEX: 1
//INDEX: 2
//INDEX: 3
//INDEX: 4
//INDEX: 5
//INDEX: 6
//INDEX: 7 ... 
```

并且只有最后一个 web 被正确加载，0-last 内的所有 web 都不会显示，但会触发 onPageFinsihed 方法。

我怎样才能解决问题，使我可以在最后一个完成之前一个一个访问网站。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-10-17T13:15:09.137

页面在 onPageFinished 完成加载。但它不能立即渲染。所以你无法赶上完成加载。您可以将 picturelistener 侦听器应用于您的 web 视图。这可以在完成时捕获 webview 渲染。应用此代码：

```
webview.setPictureListener(new PictureListener() {

                public void onNewPicture(WebView view, Picture picture) {
                    if (picture != null) {
                                                //Your progress in here
                                            }
                                    } 
```

}

# mysql - 类似于 instagram 的 iOS 应用程序的数据库存储

> ID：12889284
> 
> 赞同：1
> 
> 时间：2012-10-15T04:25:21.257
> 
> 标签：mysql, database, sqlite, ios6

我目前正在开发一个类似于 instagram 的应用程序（只是为了体验），我想知道哪种数据库最适合这种应用程序。我知道大多数数据库都需要不同的语言来学习，我对此完全没有意见，但哪种语言最适合呢？该应用程序在流中包含所有照片、每个用户的个人资料以及对照片的评论。MySQL 会是最佳选择还是 SQLite 或其他？谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-15T04:50:03.600

Instagram 在**PostgreSQL 9.0**上运行（+ pgBouncer 作为连接池）。试试看！

# eclipse - 如何从 Eclipse 插件的 clearcase 劫持文件

> ID：12889287
> 
> 赞同：1
> 
> 时间：2012-10-15T04:25:36.517
> 
> 标签：eclipse, plugins, clearcase

我正在开发一个组件，它基于 java 类中的模板生成代码。该项目使用clearcase作为SCM。代码更新后，文件处于只读状态。如果我要向任何 java 类添加任何内容，我必须让它劫持并将源代码模板粘贴到类中。让我们假设用于添加评论的 jAutoDoc 插件。如果用户选择一个类，单击生成评论。如果文件未处于写入模式，则不会粘贴注释。

Clearcase 插件供应商：IBM Rational。

Eclipse 版本：3.5

请帮忙。有没有办法从java代码中劫持文件？

提前致谢..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-26T12:43:55.623

谢谢VonC。

用于通过 eclipse JDT API 以写入模式制作 java 文件。此方法会将资源的首选项“只读”设置为“false”。

```
private static void setCompilationUnitWriteMode(ICompilationUnit cu) throws CoreException {

        ResourceAttributes resourceAttributes = cu.getResource().getResourceAttributes();

        if (resourceAttributes != null) {
              // Setting Writemode true
            resourceAttributes.setReadOnly(false);
        cu.getResource().setResourceAttributes(resourceAttributes);
    }
  } 
```

对于非 Java 资源

首先创建 IFile 对象，将资源的首选项“只读”设置为“false”。

```
 IFile file = path.getFile() 

        file.getFile().getResourceAttributes();

        if (resourceAttributes != null) {
            resourceAttributes.setReadOnly(false);
            file.setResourceAttributes(resourceAttributes);
        } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-15T04:57:23.577

劫持文件仅意味着通过基于操作系统的操作使它们读写。（仅适用于快照视图，不适用于动态视图）

但问题是：您是否需要对您的插件完成的类进行版本控制？
因为在那种情况下，a`cleartool checkout`更合适。

否则，读写就足够了，[通过 java 改变文件属性](https://stackoverflow.com/questions/664432/how-do-i-programmatically-change-file-permissions)。

# asp.net - MVC中使用实体框架的下拉列表

> ID：12889291
> 
> 赞同：1
> 
> 时间：2012-10-15T04:25:48.810
> 
> 标签：asp.net, asp.net-mvc-3, entity-framework

我在 mvc3 中使用实体框架。我有一个表格，其中两个条目来自另一个下拉列表形式的表格。像 emp_no 和 emp_name。现在我希望当我从第一个下拉列表中选择 Emp_no 时，将自动选择相应的 emp_name。

这可能吗 ？提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-15T08:54:27.397

**详细信息：**如果 emp_no 是 emp_name 下拉列表中的值，这是可能的，并且任务将更加容易。如果是这种情况，那么以下是使用 JQuery 的解决方案。

**解决方案：**

jQuery

```
<script type="text/javascript">
    $(document).ready(function ()
    {
         $('#ddlEmployeeNumbers').change(function ()            
          {
            var employeeNum = $('#ddlEmployeeNumbers').val();
            $('#ddlEmployeeName').val(employeeNum);
          });
    });
</script> 
```

**替代方案：**如果您没有 emp_no 作为 emp_name 下拉列表中的值，那么您应该进行 ajax 调用以获取更多信息，请访问此网站[AJAX-calls-with-jQuery-in-ASP.NET-MVC](http://hectorcorrea.com/blog/AJAX-calls-with-jQuery-in-ASP.NET-MVC)

# php - 如何创建自定义 Gravity Forms 合并标签以显示条目日期和时间？

> ID：12889299
> 
> 赞同：3
> 
> 时间：2012-10-15T04:26:15.783
> 
> 标签：php, forms, gravity

我几乎想通了，但由于缺乏 PHP 知识而卡住了；基本上我需要一个自定义重力表单合并标签来显示“date_created”条目对象，因为它具有表单提交的日期和时间。它应该看起来像这样，但这是错误的：

```
<?php
add_filter('gform_custom_merge_tags', 'custom_merge_tags', 10, 4);
function custom_merge_tags($merge_tags, $form_id, $fields, $element_id) {

    if($entry["date_created"]($form_id))
        $merge_tags[] = array('label' => 'Date Created', 'tag' => '{date_created}');

    return $merge_tags;
}
?> 
```

有什么帮助吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-25T20:12:18.240

这是一个两步过程。您首先创建合并标签，然后在某些时候，您必须用正确的数据替换合并标签。我看不出为什么你需要`if($entry["date_created"]`这部分代码中的行。

然后，您需要创建另一个替换合并代码的函数。

```
add_filter('gform_replace_merge_tags', 'replace_gf_date', 10, 7);
function replace_gf_date($text, $form, $entry, $url_encode, $esc_html, $nl2br, $format) {

$custom_merge_tag = '{date_created}';

if(strpos($text, $custom_merge_tag) === false)
    return $text;

$gf_date_created = ($entry[date_created"]($formID)) 
    //Not sure of exact syntax above.
$text = str_replace($custom_merge_tag, $gf_date_created, $text);

return $text;
} 
```

# android - 在捏Android上缩放视图

> ID：12889300
> 
> 赞同：2
> 
> 时间：2012-10-15T04:26:19.303
> 
> 标签：android, views, zooming, pinch

我现在在 UI 上有 3-4 个视图，例如 TextView、Button、ImageView 和 View，我只想放大/缩小特定视图。我已经实现了这个功能，但是当我捏视图时，视图会闪烁。我的代码是：-我已按照[本](http://myandroidnote.blogspot.in/2011/03/pinch-zoom-to-view-completely.html)教程进行参考

```
public void zoom(View v, Float scaleX, Float scaleY, PointF pivot) {
        v.setPivotX(pivot.x);
        v.setPivotY(pivot.y);
        v.setScaleX(scaleX);
        v.setScaleY(scaleY);
    }

    Matrix matrix = new Matrix();

    // We can be in one of these 3 states

    static final int DRAG = 1;

    // Remember some things for zooming
    PointF last = new PointF();
    PointF start = new PointF();
    float minScale = 1f;
    float maxScale = 3f;
    float[] m;

    float redundantXSpace, redundantYSpace;

    float width, height;
    static final int CLICK = 3;
    float saveScale = 1f;
    float right, bottom, origWidth, origHeight, bmWidth, bmHeight;

    // Definition of the touch states
    static final int NONE = 0;
    static final int ONE_FINGER_DRAG = 1;
    static final int TWO_FINGERS_DRAG = 2;
    int mode = NONE;

    PointF firstFinger;
    float lastScrolling;
    float distBetweenFingers;
    float lastZooming;

     PointF mid = new PointF();

     float oldDist = 1f;
     PointF oldDistPoint = new PointF();
    // We can be in one of these 2 states

    static final int ZOOM = 1;

    static final int MIN_FONT_SIZE = 10;
    static final int MAX_FONT_SIZE = 50;

    float scalex, scaley = 0;

    @Override
    public boolean onTouch(View v, MotionEvent event) {
        switch (event.getAction() & MotionEvent.ACTION_MASK) {
        case MotionEvent.ACTION_DOWN: // Start gesture
            firstFinger = new PointF(event.getX(), event.getY());
            mode = ONE_FINGER_DRAG;
            break;
        case MotionEvent.ACTION_UP:
            mode = NONE;
            break;
        case MotionEvent.ACTION_POINTER_UP:
            mode = NONE;
            break;
        case MotionEvent.ACTION_POINTER_DOWN: // second finger
            oldDist = spacing(event);
            distBetweenFingers = spacing(event);
            // the distance check is done to avoid false alarms
            if (distBetweenFingers > 5f) {
                mode = TWO_FINGERS_DRAG;
            }
            break;
        case MotionEvent.ACTION_MOVE:

            if (mode == TWO_FINGERS_DRAG) {

                PointF newDist = spacingPoint(event);
                  float newD = spacing(event);
//                Log.e(TAG, "newDist=" + newDist);
                  float[] old = new float[9];
                  float[] newm = new float[9];
//                Log.e(TAG, "x=" + old[0] + ":&:" + old[2]);
//                Log.e(TAG, "y=" + old[4] + ":&:" + old[5]);
                  float scale = newD / oldDist;
                  float scalex = newDist.x / oldDistPoint.x;
                  float scaley = newDist.y / oldDistPoint.y;
                  zoom(v,scale, scale,new PointF(0, 0));

            }
            break;
        }
        return true;
    }

    private void scroll(float pan) {

    }

    private float spacing(MotionEvent event) {
        float x = event.getX(0) - event.getX(1);
        float y = event.getY(0) - event.getY(1);
        return FloatMath.sqrt(x * x + y * y);
    }
     private PointF spacingPoint(MotionEvent event) {
          PointF f = new PointF();
          f.x = event.getX(0) - event.getX(1);
          f.y = event.getY(0) - event.getY(1);
          return f;
         } 
```

# ruby-on-rails - if 和 else ruby on rails 教程的字体颜色？

> ID：12889304
> 
> 赞同：0
> 
> 时间：2012-10-15T04:27:09.883
> 
> 标签：ruby-on-rails, ruby-on-rails-3

所以我是一个 ror 初学者，我正在尝试这样做：我的评分满分 100 如果评分在 66 到 100 之间，我想做，如果评分在 33 到 66 之间，背景颜色是绿色，背景颜色如果等级介于 00 和 33 之间，则为橙色，背景颜色为红色

我的评分也是其他评分的平均值，所以这个数字实际上并不在数据库中，它们只是以下结果：

```
<%= number_with_precision(show.reviews.average("rating"), :precision => 0) 
```

周围的任何教程都可以解释如何做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-15T04:33:00.900

你可以使用`between?`方法。

```
if rating.between?(00, 33)
  #red 
elsif rating.between?(33,66)
  #organ
elsif rating.between?(66, 100)
  #green
else
  #some other color 
```

# c# - 从单独的类中确定按钮状态

> ID：12889308
> 
> 赞同：0
> 
> 时间：2012-10-15T04:27:40.667
> 
> 标签：c#, windows, button, emulation

我在编写我的chip8 Emu 时遇到了另一个问题。除了那些需要输入或涉及图形的指令之外，我已经设法让所有指令都能正常工作。

我正在尝试编写一个单独的类来简单地确定按钮是否被按下。我已经为此工作了一段时间，我认为我一定遗漏了一些非常简单的东西，或者我在概念上不理解某些东西。这是我正在写的课程，评论中有确切的错误

```
using System;
 using System.Collections.Generic;
using System.Linq;
using System.Text;

namespace WindowsFormsApplication1
{
    class userIn
{
    bool pressed = false;
    public userIn()
    {

    }

    public bool checkPress() //Error    9   'WindowsFormsApplication1.userIn.checkPress()': not all code paths return a value   C

    {  //<---- it is teling me that a closing bracket is expected here?
         private void key5_Click(object sender, EventArgs e)
    {
             pressed = true;
    }

    private void keyb_Click(object sender, EventArgs e)
    {
        pressed = true;
    }

    private void key0_Click(object sender, EventArgs e)
    {
        pressed = true;
    }

    private void keya_Click(object sender, EventArgs e)
    {
        pressed = true;
    }

    private void keye_Click(object sender, EventArgs e)
    {
        pressed = true;
    }

    private void key9_Click(object sender, EventArgs e)
    {
        pressed = true;
    }

    private void key8_Click(object sender, EventArgs e)
    {
        pressed = true;
    }

    private void key7_Click(object sender, EventArgs e)
    {
        pressed = true;
    }

    private void keyd_Click(object sender, EventArgs e)
    {
        pressed = true;
    }

    private void keyf_Click(object sender, EventArgs e)
    {
        pressed = true;
    }

    private void key6_Click(object sender, EventArgs e)
    {
        pressed = true;
    }

    private void key4_Click(object sender, EventArgs e)
    {
        pressed = true;
    }

    private void keyc_Click(object sender, EventArgs e)
    {
        pressed = true;
    }

    private void key3_Click(object sender, EventArgs e)
    {
        pressed = true;
    }

    private void key2_Click(object sender, EventArgs e)
    {
        pressed = true;
    }

    private void key1_Click(object sender, EventArgs e)
    {
        pressed = true;
    }

        return pressed; //Error 6   Invalid token 'return' in class, struct, or interface member declaration    

    }
} 
```

} // 错误 8 类型或命名空间定义，或预期文件结尾

最后一行不适合该框

有没有人有任何想法或建议？

一如既往地感谢任何帮助！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-15T04:31:01.453

`}`for`checkPress`方法在课程结束时，您的正确方法：

```
public bool checkPress()
{ 
    return pressed; 
} 
```

你的代码应该是这样的：

```
using System;
...

namespace WindowsFormsApplication1
{
    class userIn
    {
        bool pressed = false;
        public userIn()
        {

        }

        public bool checkPress() // This method
        {
            return pressed;
        } // Must close here, not end of class

        .
        . 
        .

        private void key1_Click(object sender, EventArgs e)
        {
            pressed = true;
        }
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-15T04:33:05.157

如果按钮属于类，`XXX`那么您可以通过创建只读属性来公开其状态。创建另一个依赖于`XXX`.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-16T23:56:47.693

## 简短的回答：

您在另一个方法中打开了一个方法。

* * *

## 长答案

以下是您正确缩进的代码（我建议您使用 AStyle）：

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;

namespace WindowsFormsApplication1
{
    class userIn
    {
        bool pressed = false;
        public userIn()
        {

        }

        public bool checkPress() //Error    9   'WindowsFormsApplication1.userIn.checkPress()': not all code paths return a value   C
        {  //<---- it is teling me that a closing bracket is expected here?
            private void key5_Click(object sender, EventArgs e)
            {
                pressed = true;
            }

            private void keyb_Click(object sender, EventArgs e)
            {
                pressed = true;
            }

            private void key0_Click(object sender, EventArgs e)
            {
                pressed = true;
            }

            private void keya_Click(object sender, EventArgs e)
            {
                pressed = true;
            }

            private void keye_Click(object sender, EventArgs e)
            {
                pressed = true;
            }

            private void key9_Click(object sender, EventArgs e)
            {
                pressed = true;
            }

            private void key8_Click(object sender, EventArgs e)
            {
                pressed = true;
            }

            private void key7_Click(object sender, EventArgs e)
            {
                pressed = true;
            }

            private void keyd_Click(object sender, EventArgs e)
            {
                pressed = true;
            }

            private void keyf_Click(object sender, EventArgs e)
            {
                pressed = true;
            }

            private void key6_Click(object sender, EventArgs e)
            {
                pressed = true;
            }

            private void key4_Click(object sender, EventArgs e)
            {
                pressed = true;
            }

            private void keyc_Click(object sender, EventArgs e)
            {
                pressed = true;
            }

            private void key3_Click(object sender, EventArgs e)
            {
                pressed = true;
            }

            private void key2_Click(object sender, EventArgs e)
            {
                pressed = true;
            }

            private void key1_Click(object sender, EventArgs e)
            {
                pressed = true;
            }
            return pressed; //Error 6   Invalid token 'return' in class, struct, or interface member declaration
        }
    }
} // Error 8 Type or namespace definition, or end-of-file expected 
```

你还是看不到问题吗？好的，这是一个精简版：

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;

namespace WindowsFormsApplication1
{
    class userIn
    {
        bool pressed = false;
        public userIn()
        {

        }

        public bool checkPress() //Error    9   'WindowsFormsApplication1.userIn.checkPress()': not all code paths return a value   C
        {  //<---- it is teling me that a closing bracket is expected here?
            private void key5_Click(object sender, EventArgs e)
            {
                pressed = true;
            }

            //And some other methods

            return pressed; //Error 6   Invalid token 'return' in class, struct, or interface member declaration
        }
    }
} // Error 8 Type or namespace definition, or end-of-file expected 
```

你觉得合适吗？

好吧，这只是一种表达方式，这是编译器看到的：

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;

namespace WindowsFormsApplication1
{
    class userIn
    {
        bool pressed = false;
        public userIn()
        {

        }

        public bool checkPress() //Error    9   'WindowsFormsApplication1.userIn.checkPress()': not all code paths return a value   C
        {  //<---- it is teling me that a closing bracket is expected here?
            private void key5_Click(object sender, EventArgs e)
            {
                pressed = true;
        }

        //And some other methods

        return pressed; //Error 6   Invalid token 'return' in class, struct, or interface member declaration
    }
}
} // Error 8 Type or namespace definition, or end-of-file expected 
```

现在有意义吗？

您可能认为上面的代码是正确的，如果是这样，这不是答案……而是一个问题：**您认为您要做什么？**

好的，是的，C# 支持 lambda，您是否尝试执行以下操作？

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;

namespace WindowsFormsApplication1
{
    class userIn
    {
        bool pressed = false;
        public userIn()
        {

        }

        public bool checkPress()
        {

            key5.Click += (sender, e)  =>
            {
                pressed = true;
            };

            //And some other (anonymous) methods

            return pressed;
        }
    }
} 
```

但我的直觉告诉你，你只是做了一些奇怪的复制粘贴，而预期的代码是这样的：

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;

namespace WindowsFormsApplication1
{
    class userIn
    {
        bool pressed = false;
        public userIn()
        {

        }

        public bool checkPress()
        {               
            return pressed;
        }

        private void key5_Click(object sender, EventArgs e)
        {
            pressed = true;
        }

        //And some other methods
    }
} 
```

有道理？我希望。

# jquery - 通过 jquery-select2 从多值选择框中获取选定值？

> ID：12889309
> 
> 赞同：66
> 
> 时间：2012-10-15T04:28:12.023
> 
> 标签：jquery, jquery-select2

我正在使用 Select2 Jquery 绑定用于多项选择的下拉列表。我正在使用 select2 jquery。

它工作正常，我可以绑定我的下拉列表，但我需要从我的多值选择器中获取选定的值。我正在寻找获取 select2 Jquery 支持的值的方法。它可能有一个函数获取选定的值。
我的下拉绑定代码

```
$(".leaderMultiSelctdropdown").select2( {
    maximumSelectionSize: 4
}); 
```

* * *

## 回答 #1

> 赞同：104
> 
> 时间：2012-10-15T04:42:10.923

```
alert("Selected value is: "+$(".leaderMultiSelctdropdown").select2("val")); 
```

或者，如果您使用常规选择框作为基础，您也应该能够使用正常的 jquery 调用：

```
alert("Selected value is: "+$(".leaderMultiSelctdropdown").val()); 
```

两者都返回所选键的数组。

* * *

## 回答 #2

> 赞同：33
> 
> 时间：2015-12-15T06:02:49.623

我知道它很晚，但我认为你可以尝试这样

```
$("#multipledpdwn").on("select2:select select2:unselect", function (e) {

    //this returns all the selected item
    var items= $(this).val();       

    //Gets the last selected item
    var lastSelectedItem = e.params.data.id;

}) 
```

希望它可以帮助将来的某个人。

* * *

## 回答 #3

> 赞同：27
> 
> 时间：2015-04-28T12:25:09.040

## 返回对象结构中的选定数据：

```
console.log($(".leaderMultiSelctdropdown").select2('data')); 
```

就像是：

```
 [{id:"1",text:"Text",disabled:false,selected:true},{id:"2",text:"Text2",disabled:false,selected:true}] 
```

## 返回选定的值：

```
console.log($('.leaderMultiSelctdropdown').val());
console.log($('.leaderMultiSelctdropdown').select2("val")); 
```

就像是：

```
["1", "2"] 
```

* * *

## 回答 #4

> 赞同：7
> 
> 时间：2014-12-01T07:17:58.327

像这样试试

```
jQuery('.leaderMultiSelctdropdown').select2('data'); 
```

* * *

## 回答 #5

> 赞同：7
> 
> 时间：2017-04-20T11:15:19.580

简单地 ：

```
$(".leaderMultiSelctdropdown").val() 
```

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2019-01-30T06:31:21.687

**你应该试试这段代码。**

```
 $("#multiple_Package_Ids_checkboxes").on('change', function (e) { 
        var totAmt = 0;
        $.each($(this).find(":selected"), function (i, item) { 
            totAmt += $(item).data("price");
            });
        $("#PackTotAmt").text(totAmt);
    }); 
```

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2017-01-12T20:59:39.523

尝试这个：

```
 $('.select').on('select2:selecting select2:unselecting', function(e) {

      var value = e.params.args.data.id;

  }); 
```

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2017-06-27T13:24:11.827

请检查这个简单的[例子](http://jsfiddle.net/jEADR/521/)。**您可以在select2 multi**中获取值。

```
var values = $('#id-select2-multi').val();
console.log(values); 
```

* * *

## 回答 #9

> 赞同：-2
> 
> 时间：2017-06-02T06:49:31.563

这将从多值选择框中获取选定值： $("#id option:selected").val()

# java - 比较器不适用于 Arrays.sort

> ID：12889314
> 
> 赞同：3
> 
> 时间：2012-10-15T04:29:05.077
> 
> 标签：java, arrays, sorting, comparator

所以我正在研究一个比较器问题，但我不明白为什么`Array.sort`第一堂课给了我以下错误：

> Arrays 类型中的方法 sort(T[], Comparator) 不适用于参数 (ArrayList, CalorieComparator)

餐厅类：

```
import java.util.ArrayList;
import java.util.List;
import java.util.Arrays;

public class Restaurant {
    private ArrayList<Edible> elist;

    public Restaurant() {
    }

    public void addEdibleItem(Edible item){
        elist.add(item);
    }

    public List<Edible> orderByCalories(){
        Arrays.sort(elist, new CalorieComparator());
    } 
```

卡路里比较器类：

```
import java.util.Comparator;
public class CalorieComparator implements Comparator {

    public int compare(Object o1, Object o2){
        Edible thisfood = (Edible)o1;
        Edible otherfood = (Edible)o2;
        if(thisfood.getCalories() > otherfood.getCalories())
            return 1;
        else if (thisfood.getCalories() < otherfood.getCalories())
            return -1;
        else 
            return 0;
    }
} 
```

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2012-10-15T04:31:53.177

An`ArrayList`与 Java 数组不同；由于您使用的是列表，`Arrays.sort`因此不会在这里为您提供帮助。

[`Collections.sort`](http://docs.oracle.com/javase/6/docs/api/java/util/Collections.html#sort%28java.util.List,%20java.util.Comparator%29)改为考虑。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-15T04:42:36.870

忽略 Arrays.sort 与 Collections.sort 的实际问题（已得到很好的回答），实现 a`Comparator<Edible>`而不是在 compare 方法中强制转换对象可能是个好主意：

```
public class CalorieComparator implements Comparator<Edible> {

  @Override
  public int compare(Edible o1, Edible o2) {        
    if (o1.getCalories() > o2.getCalories()) {
        return 1;
    } else if (o1.getCalories() < o2.getCalories()) {
        return -1;
    } else {
        return 0;
    }
  }
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-15T04:33:35.387

`Arrays.sort`将数组作为其第一个参数。要对列表等集合进行排序，请使用`Collections.sort`.

```
Collection.sort(elist, new CalorieComparator()); 
```

另外，请注意，您的方法不会编译，因为您没有返回`List<Edible>`.

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-15T04:31:44.327

由于错误消息表明问题实际上是由传递列表而不是预期数组的位置引起的，与比较器无关。

请尝试以下操作

```
Arrays.sort(elist.toArray(), new CalorieComparator()); 
```

但是这样你最终不会得到想要的结果，因为它会对刚刚创建的全新数组而不是列表本身进行排序。但是您应该了解错误消息试图表达的内容。只要确保不要在那里传递一个列表，它意味着对一个数组而不是一个列表进行排序。

正如其他人所建议的那样，请改用该`Collections.sort`方法来获得所需的结果。

另外，请注意，您应该扩展通用版本`Comparator<T>`而不是非通用版本。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-15T04:42:23.047

```
Arrays.sort(elist, new CalorieComparator()); 
```

你叫a `sort()`of `Arrays`class with `ArrayList`， `ArrayList`属于`Collection`family not an `Array`。

如果您使用[Collectinss.sort() ，您的错误将得到解决](http://docs.oracle.com/javase/6/docs/api/java/util/Collections.html#sort%28java.util.List,%20java.util.Comparator%29)

# python - 如何在多行中编写乘法条件而不会在 Python 中出现无效的语法错误

> ID：12889316
> 
> 赞同：1
> 
> 时间：2012-10-15T04:29:06.763
> 
> 标签：python

以下代码给了我错误：

```
 if self.from_position in self.supporters or 
                                               ^
SyntaxError: invalid syntax 
```

代码：

```
def validate_move_piece(self):
    if self.from_position in self.supporters or 
    (self.turn == 'X' and self.from_position == self.player_x) or 
    (self.turn == 'Y' and self.from_position == self.player_y) or 
    (self.last_position == self.from_position):
        return True
    else:
        self.error = ERROR_MOVE_FORMAT 
        return False 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-15T04:30:51.673

在整个 if 语句条件周围加上括号，如下所示：

```
>>> if (True or
... False or
... True):
...     print 'woo'
... 
woo 
```

（这适用于 python 文件以及解释器。）

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-15T04:31:33.567

在行尾添加反斜杠 \。

```
if 1==1 and\
2==2:
  print 'hi' 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-15T04:32:20.827

您可以使用`()`分隔多行。

例如，您的代码将是：

```
def validate_move_piece(self):
    if (self.from_position in self.supporters or 
    (self.turn == 'X' and self.from_position == self.player_x) or 
    (self.turn == 'Y' and self.from_position == self.player_y) or 
    (self.last_position == self.from_position)):
        return True
    else:
        self.error = ERROR_MOVE_FORMAT 
        return False 
```

看，我已经`if`用一个吞没了这个声明`()`

# javascript - 在 Javascript 中使用数组

> ID：12889328
> 
> 赞同：-8
> 
> 时间：2012-10-15T04:31:23.563
> 
> 标签：javascript

所以我有一个任务，我必须编写一个名为“addEmUp”的函数，以这种方式声明：

```
function addEmUp() {

     // Your code goes here.

}; 
```

addEmUp 返回数组中数字的总和。数组的名称是 LASVEGAS，数组中有 3 个值。

数组 LASVEGAS 存在 - 不要创建它 - 只需使用它。

我一头雾水，这个函数怎么写？

谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-15T04:37:55.690

尝试：

```
var sum = LASVEGAS.reduce(function(a,b){return a+b;}); 
```

现在去看看自己如何在你的函数中实现它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-15T04:38:29.307

使用 for 循环并遍历数组中的每个项目。

您可能希望使用变量来跟踪运行总计。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-15T05:03:24.923

我写这个答案是因为我只是想理解一些事情。我不做你的作业，那是你应该做的。

现在，LASVEGAS 是一个包含 3 个值的数组。不要坚持 3 个值，我可以是任何长度。

让我们假设一个通用数组示例

```
 LASVEGAS = [1,5,"a","b", true, false, , 34]; 
```

接下来，您的要求是提取数组中存在的数字长度。您必须使用`filter`函数过滤数组。但这在旧浏览器中不起作用。如果您只针对现代浏览器，那么下面的代码应该可以工作

```
 LASVEGAS.filter(function(e) { return typeof e == "Number"; } )    
 // It will return filtered array of Numbers 
```

因此，如果您还针对旧浏览器，请在页面中的某处添加以下代码。

```
 /**
  * Copyright (c) Mozilla Foundation http://www.mozilla.org/
  * This code is available under the terms of the MIT License
 */
 if (!Array.prototype.filter) {
 Array.prototype.filter = function(fun /*, thisp*/) {
    var len = this.length >>> 0;
    if (typeof fun != "function") {
        throw new TypeError();
    }

    var res = [];
    var thisp = arguments[1];
    for (var i = 0; i < len; i++) {
        if (i in this) {
            var val = this[i]; // in case fun mutates this
            if (fun.call(thisp, val, i, this)) {
                res.push(val);
            }
        }
    }

    return res;
  };
 } 
```

如果你想在确切的要求上工作，并且如果不需要任何通用方式下面的代码也可以完成工作

```
 LASVEGAS.Numbers = 0;
 for(var i = 0, j = LASVEGAS.length; i < j ; i++){
    if(typeof LASVEGAS[i] == "Number") LASVEGAS.Numbers;  
 } 
```

下一次，不要发布这些类型的问题。我们不是来做你的家庭作业的。

# javascript - 如何将椭圆动画路径旋转一定度数？

> ID：12889334
> 
> 赞同：0
> 
> 时间：2012-10-15T04:31:39.330
> 
> 标签：javascript, math, geometry, kinematics

我正在使用以下内容来获取实体随着时间沿椭圆路径行进时的 x 和 y 位置：

```
x = Math.cos(time)*width/2
y = Math.sin(time)*height/2 
```

有没有一种简单的方法可以将整个物体旋转一定的度数，例如 45 度或 132 度？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-15T04:36:26.237

您可以使用简单的旋转变换：

```
x1 = x*cos(a) - y*sin(a)
y1 = x*sin(a) + y*cos(a) 
```

其中`a`- 是旋转的角度。

这篇[维基百科文章](http://en.wikipedia.org/wiki/Rotation_matrix)详细解释了

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-15T04:43:01.813

对于您使用上述公式计算的每个点（x，y），您可以通过以下公式将其旋转 theta 度（逆时针）

*   x' = x * cos(theta) - y * sin(theta);
*   y' = x * sin(theta) + y * cos(theta);

其中 x 和 y 是旋转前的原始坐标，x' 和 y' 是旋转后的坐标，theta 是要旋转的角度。

[坐标旋转](http://en.wikipedia.org/wiki/Coordinate_rotations_and_reflections)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-15T04:37:04.287

是的，只需对结果进行 2D 旋转`x`并`y`旋转椭圆：

```
xrot = x * cos(A) - y * sin(A)
yrot = x * sin(A) + y * cos(A) 
```

记住这一点`Radians = Degrees * PI / 180`。

# ruby - Ruby 抱怨 nokogiri libiconv.2.dylib

> ID：12889340
> 
> 赞同：3
> 
> 时间：2012-10-15T04:32:28.683
> 
> 标签：ruby, macos, capybara, nokogiri, homebrew

我最近尝试用 Ruby 和 Capybara 编写一个小的抓取脚本；但是，当我编译需要 Capybara 的代码时，出现以下错误：

```
/Library/Ruby/Gems/1.8/gems/nokogiri-1.5.5/lib/nokogiri/nokogiri.bundle:       dlopen(/Library/Ruby/Gems/1.8/gems/nokogiri-1.5.5/lib/nokogiri/nokogiri.bundle, 9): Library  not loaded: /opt/local/lib/libiconv.2.dylib (LoadError)
Referenced from: /Library/Ruby/Gems/1.8/gems/nokogiri-1.5.5/lib/nokogiri/nokogiri.bundle
Reason: Incompatible library version: nokogiri.bundle requires version 8.0.0 or later, but libiconv.2.dylib provides version 7.0.0 - /Library/Ruby/Gems/1.8/gems/nokogiri-1.5.5/lib/nokogiri/nokogiri.bundle
from /Library/Ruby/Site/1.8/rubygems/custom_require.rb:36:in `require'
from /Library/Ruby/Gems/1.8/gems/nokogiri-1.5.5/lib/nokogiri.rb:27
from /Library/Ruby/Site/1.8/rubygems/custom_require.rb:36:in `gem_original_require'
from /Library/Ruby/Site/1.8/rubygems/custom_require.rb:36:in `require'
from /Library/Ruby/Gems/1.8/gems/capybara-1.1.2/lib/capybara.rb:2
from /Library/Ruby/Site/1.8/rubygems/custom_require.rb:60:in `gem_original_require'
from /Library/Ruby/Site/1.8/rubygems/custom_require.rb:60:in `require' 
```

我已经多次卸载并重新安装了 nokogiri。我已经检查以确保我的 Mac 上唯一安装的 Ruby 是`//usr/bin`. 我最近按照 Homebrew 的要求更新了 Xcode 并卸载了 MacPorts。我做错了什么，如果有的话，解决方法是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-15T09:32:23.380

mac 上有几处坏了，这使得使用板载 ruby​​ 的东西变得非常困难。

我建议使用 RVM 或 RBENV 来管理您的 ruby​​ 安装（尽管 RVENV 更底层）。删除 MacPorts 是个好主意。homebrew 在集成到 OS X 中的问题较少。

运行`brew doctor`以查看任何可能的错误。

# android - 在 Android 中集成 Mailchimp 的 Mandrill 用于事务性电子邮件

> ID：12889349
> 
> 赞同：3
> 
> 时间：2012-10-15T04:33:59.197
> 
> 标签：android, email

是否可以将 Mailchimp 的 Mandrill 交易电子邮件服务与 Android 应用程序集成？Mandrill.com 上提供的文档没有提到任何有关特定平台的注意事项。是否存在任何特定于平台的问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-16T01:02:17.013

当然，您可以将 Mandrill 与 Web 应用程序、网站、个人电子邮件程序等集成。这是一个中立的平台，您可以通过该服务发送任何合法的非垃圾邮件。我们提供了一些官方 API 客户端，也有第三方插件和集成。

对于任何集成，何时发送电子邮件、发送给谁以及电子邮件内容的所有逻辑都在您自己的系统、数据库或代码中进行管理。组装完该信息后，您可以调用 Mandrill API（或使用 SMTP 集成）并提供消息细节。收到电子邮件信息后，Mandrill 会接听并处理电子邮件的发送和跟踪。

大多数考虑因素比您正在使用的平台更通用，并且将围绕您想要创建的集成类型以及您已经存储或将要收集的数据，以便您拥有实际需要的信息创建将要发送的电子邮件。例如：

*   您希望应用程序的用户能够通过 Mandrill 帐户发送电子邮件吗？
*   或者您想在某些操作发生时向应用程序的用户发送电子邮件，例如在应用程序中下载或执行操作？

如果是第一个，您可能会考虑他们是否会使用他们自己的 Mandrill 帐户，或者是否一切都将通过您的 Mandrill 帐户进行。如果全部通过您的帐户，您可能会考虑施加某些限制，以防止人们能够利用您的 Mandrill 帐户发送垃圾邮件。

如果您想向应用程序的用户发送电子邮件，请考虑您正在收集哪些关于他们在应用程序中的操作和进度的信息，以及您希望何时发送电子邮件。Mandrill 不会向电子邮件添加取消订阅链接，但我们会添加 List-Unsubscribe 标头（更多详细信息请[点击此处](http://help.mandrill.com/entries/21813787-how-do-recipients-unsubscribe-from-emails-sent-through-mandrill)），因此您可以考虑是否允许用户在不想要电子邮件通知的情况下取消订阅。

随意添加有关您希望使用 Mandrill 创建的集成类型的更多详细信息，如果需要，我很乐意提供更多详细信息。或者您可以通过单击我们帮助页面上的“提交请求”按钮向我们发送电子邮件：http: [//help.mandrill.com](http://help.mandrill.com)

# google-app-engine - 此 URL 应用引擎不支持 HTTP 方法 POST

> ID：12889353
> 
> 赞同：-1
> 
> 时间：2012-10-15T04:34:19.857
> 
> 标签：google-app-engine, jsp

我不断收到以下错误：此 URL 不支持 HTTP 方法 POST

当尝试使用谷歌应用引擎在我的本地机器上构建时。ShowJSPServlet.java 文件中的代码：

```
package helloJSP;

import java.io.IOException;
import javax.servlet.http.*;

public class HelloJSPServlet  extends HttpServlet 
{
    @Override
    public void doPost(HttpServletRequest req, HttpServletResponse resp) throws IOException 
    {
        resp.setContentType("text/html");
        resp.getWriter().println("Hello, world");
    }
} 
```

我的 web.xml 文件是：

```
<?xml version="1.0" encoding="utf-8"?>
<web-app xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xmlns="http://java.sun.com/xml/ns/javaee"
xmlns:web="http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd"
xsi:schemaLocation="http://java.sun.com/xml/ns/javaee
http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd" version="2.5">
    <servlet>
        <servlet-name>ShowJSP</servlet-name>
        <servlet-class>helloJSP.ShowJSPServlet</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>ShowJSP</servlet-name>
        <url-pattern>/ShowName</url-pattern>
    </servlet-mapping>
    <welcome-file-list>
        <welcome-file>hello.jsp</welcome-file>
    </welcome-file-list>
</web-app> 
```

hello.jsp 文件内容为：

```
<%@ page contentType="text/html;charset=UTF-8" language="java" %>
<html>
    <body>
        <form id="mainform" method="post" action="/ShowName">
            <div>
                Name: <input id="url" type="text" size="100"/>
                <input type="submit" id="gobtn" value="Go" style="width: 70px"/>
            </div>
        </form>
    </body>
</html> 
```

这是我第一次在 JSP 技术方面进行开发。我错过了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-16T06:45:05.283

您的 web.xml 中存在一个问题：

```
 <servlet-class>helloJSP.ShowJSPServlet</servlet-class> 
```

应该

```
 <servlet-class>helloJSP.HelloJSPServlet</servlet-class> 
```

这有帮助吗？

# jquery - 使用 json vb.net 的 Jquery ajax 调用

> ID：12889355
> 
> 赞同：0
> 
> 时间：2012-10-15T04:34:28.367
> 
> 标签：jquery, ajax, call

在使用 Jquery 对 vb.net 服务器端代码进行 ajax 调用后，我需要在 AJAX 调用成功时重新加载整个页面。

这是我的客户端 AJAX 调用..

$("#ButtonSave").click(function () {

```
//convert gridview to JSON
var jsonData = new Array();
$.map($("table[id*=Gridview1] tr"), function (item, index) {
    if ($(item).find("input[type=text]").length > 0) {
        jsonData[index] = new Object();
        jsonData[index].charge = $(item).find("input[type=text][id*=txtCharge]").val();
        jsonData[index].produce = $(item).find("input[type=text][id*=txtProduce]").val();         
        jsonData[index].weight = $(item).find("input[type=text][id*=txtWeight]").val();
        jsonData[index].feet = $(item).find("input[type=text][id*=txtFeet]").val();
        jsonData[index].orderNumber = $(item).find("input[type=text][id*=txtOrderNumber]").val(); 
        jsonData[index].comments = $(item).find("input[type=text][id*=txtComments]").val();
    }
});

var jsonStringData = JSON.stringify(jsonData);

var jqxhr = $.ajax({
    url: "Correction.aspx",
    type: "POST",
    timeout: 10000,
    data: "jsonData=" + jsonStringData
})
.error(function () {
    alert('Error');
})
.success(function (data) {
    alert('Success');
}); 
```

});

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-15T04:38:08.900

您使用了错误的 ajax 调用您无法将其分配给变量并且您发送的数据不正确

```
var jqxhr = $.ajax({
    url: "Correction.aspx",
    type: "POST",
    timeout: 10000,
    data: "jsonData=" + jsonStringData
})
.error(function () {
    alert('Error');
})
.success(function (data) {
    alert('Success');
}); 
```

用这个

```
 $.ajax({
    url: "Correction.aspx",
    type: "POST",
    timeout: 10000,
    data: {jsonData: jsonStringData}
})
.error:(function () {
    alert('Error');
})
.success:(function (data) {
   window.location.reload(true);

}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-21T05:32:13.723

或代替使用重新加载使用

```
 window.location.reload(true); 
```

您可以制作隐藏按钮并成功调用 $("your button").Click(); 它会刷新你的页面

```
 $("#<%= btnrefresh.ClientID %>").Click(); 
```

我总是使用这种技术并且工作完美

# sockets - Lua 套接字 - 异步事件

> ID：12889361
> 
> 赞同：9
> 
> 时间：2012-10-15T04:35:44.907
> 
> 标签：sockets, lua

在当前的 lua 套接字实现中，我看到我们必须安装一个定期回调的计时器，以便我们检查非阻塞 API 以查看我们是否收到任何内容。

这一切都很好，但是在 UDP 情况下，如果发送者有很多信息正在发送，我们是否有丢失数据的风险。假设另一台设备通过 UDP 发送 2MB 照片，我们每 100 毫秒检查一次套接字接收。在 2MBps 时，在我们的调用查询底层 TCP 堆栈之前，底层系统必须存储 200Kbits。

当我们在特定套接字上接收到数据而不是我们现在必须做的轮询时，有没有办法让事件触发？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-10-15T07:18:58.543

有多种方法可以处理此问题；你会选择哪一个取决于你想做多少工作。^*

但首先，您应该（对自己）澄清您是在处理 UDP 还是 TCP；UDP 套接字没有“底层 TCP 堆栈”。此外，UDP 是用于发送整个数据（如文本或照片）的错误协议；它是一个不可靠的协议，因此不能保证您接收到每个数据包，除非您使用托管套接字库（例如[ENet](http://enet.bespin.org/)）。

# Lua51/LuaJIT + LuaSocket

轮询是唯一的方法。

*   阻塞：`socket.select`不带时间参数的调用并等待套接字可读。
*   非阻塞：`socket.select`使用超时参数调用`0`，并`sock:settimeout(0)`在您正在读取的套接字上使用。

然后简单地重复调用这些。我建议对非阻塞版本使用[协程调度程序，以允许程序的其他部分继续执行而不会造成太多延迟。](https://gist.github.com/1818054)

# Lua51/LuaJIT + LuaSocket + [Lua Lanes](http://kotisivu.dnainternet.net/askok/bin/lanes/)（推荐）

与上述方法相同，但套接字存在于使用[Lua Lanes](http://kotisivu.dnainternet.net/askok/bin/lanes/)制作的另一个通道（另一个线程中的轻量级 Lua 状态）中（[最新来源](https://github.com/LuaLanes/lanes)）。这使您可以立即从套接字读取数据并进入缓冲区。然后，您使用[linda](http://kotisivu.dnainternet.net/askok/bin/lanes/#lindas)将数据发送到主线程进行处理。

这可能是您问题的最佳解决方案。

我已经做了一个简单的例子，可以[在这里找到](https://gist.github.com/4026258)。它依赖于 Lua Lanes 3.4.0 ( [GitHub repo](https://github.com/LuaLanes/lanes) ) 和修补过的 LuaSocket 2.0.2 ( [source](http://luarocks.org/repositories/rocks/#luasocket) , [patch](http://www.net-core.org/dl/luasocket-2.0.2-acceptfd.patch) , [blog post re' patch](http://www.net-core.org/39/lua/patching-luasocket-to-make-it-compatible) )

结果是有希望的，但如果你从中派生出我的示例代码，你肯定应该重构它。

# LuaJIT + 操作系统特定的套接字

如果你有点自虐，你可以尝试从头实现一个套接字库。[LuaJIT](http://luajit.org/luajit.html)的[FFI 库](http://luajit.org/ext_ffi.html)使这从纯 Lua 成为可能。Lua Lanes 对此也很有用。

对于 Windows，我建议查看[William Adam 的博客](http://williamaadams.wordpress.com/2012/07/01/netnet/)。他在 LuaJIT 和 Windows 开发方面有过一些非常有趣的冒险经历。至于 Linux 和其他，请查看 C 教程或 LuaSocket 的源代码，并将它们转换为 LuaJIT FFI 操作。

（如果 API 需要，LuaJIT 支持[回调](http://luajit.org/ext_ffi_semantics.html#callback)；但是，与从 Lua 轮询到 C 相比，存在显着的性能成本。）

# LuaJIT + ENet

[ENet](http://enet.bespin.org/)是一个很棒的库。它提供了 TCP 和 UDP 之间的完美组合：需要时可靠，否则不可靠。它还抽象了操作系统特定的细节，就像 LuaSocket 一样。你可以使用 Lua API 来绑定它，或者直接通过 LuaJIT 的 FFI 访问它（推荐）。

[^*双关语无意。]

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-10-19T08:07:13.827

我将 lua-ev [https://github.com/brimworks/lua-ev](https://github.com/brimworks/lua-ev)用于所有 IO 多路复用的东西。它非常易于使用，适合 Lua（及其`function`），就像魅力一样。它是基于 select/poll/epoll 或 kqueue 的，并且性能也非常好。

```
 local ev = require'ev'
 local loop = ev.Loop.default
 local udp_sock -- your udp socket instance
 udp_sock:settimeout(0) -- make non blocking
 local udp_receive_io = ev.IO.new(function(io,loop)
       local chunk,err = udp_sock:receive(4096)
       if chunk and not err then
           -- process data
       end
    end,udp_sock:getfd(),ev.READ)

 udp_receive_io:start(loop) 
 loop:loop() -- blocks forever 
```

在我看来，Lua+luasocket+lua-ev 只是构建高效和健壮的网络应用程序（用于嵌入式设备/环境）的梦之队。还有更强大的工具！但是如果你的资源有限，Lua 是一个不错的选择！

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-15T04:50:07.017

Lua 本质上是单线程的；没有所谓的“事件”。没有办法中断 Lua 代码的执行。因此，虽然您可以装配一些看起来像事件的东西，但只有当您调用一个轮询哪些事件可用的函数时，您才能得到一个。

通常，如果您尝试使用 Lua 进行此类低级工作，那么您使用的是错误的工具。您应该使用 C 或其他东西来访问此类数据，然后在准备好时将其传递给 Lua。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-15T05:56:54.547

您可能正在使用非阻塞`select()`来“轮询”套接字以获取任何可用的新数据。Luasocket 没有提供任何其他接口来查看是否有新数据可用（据我所知），但是如果您担心每秒执行 10 次会花费太多时间，请考虑编写简化版本只检查您需要的一个套接字，并避免创建和丢弃 Lua 表。如果这不是一个选项，请考虑传递`nil`给那些您不需要读取的列表而不是传递静态表而不是临时表`select()`：`{}`

```
local rset = {socket}
... later
...select(rset, nil, 0) 
```

代替

```
...select({socket}, {}, 0) 
```

# html - CSS 中的 id 和 class 有什么区别，什么时候应该使用它们？

> ID：12889362
> 
> 赞同：183
> 
> 时间：2012-10-15T04:36:09.167
> 
> 标签：html, css

```
#main {
    background: #000;
    border: 1px solid #AAAAAA;
    padding: 10px;
    color: #fff;
    width: 100px;
} 
```

```
<div id="main">
    Welcome
</div> 
```

在这里，我给了一个`id`元素`div`，它为它应用了相关的 CSS。

**或者**

```
.main {
    background: #000;
    border: 1px solid #AAAAAA;
    padding: 10px;
    color: #fff;
    width: 100px;
} 
```

```
<div class="main">
    Welcome
</div> 
```

现在在这里我给了一个`class`，`div`它也为我做同样的工作。

**那么Id**和**class**之间的确切区别是什么，我应该什么时候使用**`id`**，什么时候应该使用**`class`**.？我是 CSS 和 Web 设计的新手，在处理这个问题时有点困惑。

* * *

## 回答 #1

> 赞同：235
> 
> 时间：2012-10-15T04:45:21.700

*   当您希望在整个页面/站点中**一致地设置多个元素的样式**时，请使用**类。**当您拥有或将来可能拥有多个具有相同样式的元素时，类很有用。一个示例可能是“评论”的 div 或用于相关链接的某种列表样式。

     **此外，一个给定的元素可以有多个与之关联的类，而一个元素只能有一个 id。例如，你可以给一个 div 两个类，它们的样式都会生效。

    此外，请注意，除了视觉样式之外，类通常用于定义行为样式。例如，jQuery 表单验证器插件大量使用类来定义元素的验证行为（例如是否需要，或者定义输入格式的类型）

    类名的示例有：标签、评论、工具栏按钮、警告消息或电子邮件。** 
***   当页面上有一个将采用该样式的**元素**时，请使用**ID 。**请记住，ID 必须是唯一的。在您的情况下，这可能是正确的选择，因为页面上可能只有一个“主”div。

     **id 的示例包括：主要内容、页眉、页脚或左侧边栏。**** 

 ****记住这一点的一个好方法是，**类是一种项目**，而**id 是页面上项目的唯一名称**。

* * *

## 回答 #2

> 赞同：71
> 
> 时间：2012-10-15T04:44:20.893

**`id`s 是唯一的**

*   每个元素只能有一个`id`
*   每个页面只能有一个元素`id`

**`class`es 不是唯一的**

*   您可以`class`在多个元素上使用相同的。
*   `class`您可以在同一个元素上使用多个es。

**Javascript 关心**

`class`JavaScript 人可能已经更熟悉es 和`id`s之间的差异了。JavaScript 依赖于只有一个页面元素具有任何特定的 ，否则无法依赖`id`常用的功能。`getElementById`

* * *

## 回答 #3

> 赞同：16
> 
> 时间：2012-10-15T04:42:26.983

有关此的更多信息，***[请单击此处。](http://css-tricks.com/the-difference-between-id-and-class/)***

**例子**

```
<div id="header_id" class="header_class">Text</div>

#header_id {font-color:#fff}
.header_class {font-color:#000} 
```

（请注意，CSS 使用前缀**#**表示 ID，使用前缀**.**表示类。）

**然而** `color`，在 HTML 5 中不推荐使用HTML 4.01`<font>`标记属性。在 CSS 中没有“字体颜色”，样式是`color`这样的，上面应该是：

**例子**

```
<div id="header_id" class="header_class">Text</div>

#header_id {color:#fff}
.header_class {color:#000} 
```

**文本将是白色的。**

* * *

## 回答 #4

> 赞同：10
> 
> 时间：2012-10-15T04:40:40.087

ID 必须是唯一的——在一个 html 文档中不能有多个具有相同 ID 的元素。类可用于多个元素。在这种情况下，您可能希望为“main”使用 ID，因为它（可能）是唯一的——它是用作其他内容容器的“main”div，并且只有一个。

如果您有一堆菜单按钮或其他一些您想要重复样式的元素，您可以将它们全部分配给同一个类，然后为该类设置样式。

* * *

## 回答 #5

> 赞同：5
> 
> 时间：2012-10-15T04:52:19.430

正如几乎所有其他人所说的那样，将 ID 用于一次性元素，将类用于多个使用元素。

这是一个简单的快速示例，将 HTML 和 HEAD 标签视为已读

```
<body>
    <div id="leftCol">
        You will only have one left column
    </div>
    <div id="mainContent">
        Only one main content container, but.....
        <p class="prettyPara">You might want more than one pretty paragraph</p>
        <p>This one is boring and unstyled</p>
        <p class="prettyPara">See I told you, you might need another!</p>
    </div>
    <div id="footer">
        Not very HTML5 but you'll likely only have one of these too.
    </div>
</body> 
```

此外，正如其他答案中提到的，ID 很容易暴露于 javascript，类则更少。[然而，像jQuery](http://jquery.com)这样的现代 javascript 框架也利用了 javascript 类

* * *

## 回答 #6

> 赞同：4
> 
> 时间：2014-07-08T17:22:39.667

ID 具有作为指向网页中特定部分的链接的功能。# 标记后的关键字会将您带到网页的特定部分。例如，地址栏中的“ [http://exampleurl.com#chapter5](http://exampleurl.com#chapter5) ”将带您到页面的第 5 章部分周围有一个“section5”ID。

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2012-10-15T04:40:41.300

该`class`属性可以与多个 HTML 元素/标签一起使用，并且都会生效。其中`id`是针对单个元素/标签的，并且被认为是唯一的。

此外，`id`比 具有更高的特异性值`class`。

* * *

## 回答 #8

> 赞同：2
> 
> 时间：2012-10-15T04:43:38.943

**ID：**

它将识别整个页面的独特元素。不应使用相同的 id 声明其他元素。id 选择器用于为单个唯一元素指定样式。id 选择器使用 HTML 元素的 id 属性，并用“#”定义。

**班级：**

类选择器用于指定一组元素的样式。与 id 选择器不同，类选择器最常用于多个元素。

这允许您为具有相同类的许多 HTML 元素设置特定样式。

类选择器使用 HTML 类属性，并用“.”定义。

* * *

## 回答 #9

> 赞同：2
> 
> 时间：2016-08-10T11:06:33.767

如果对前面的好答案有什么要补充的，那就是解释为什么`id`每页 s 必须是唯一的。这对于初学者来说很重要，因为将相同的内容应用于`id`同一页面中的多个元素不会触发任何错误，而是具有与`class`.

所以从 HTML/CSS 的角度来看，`id`每个页面的唯一性是没有意义的。但是从 JavaScript 的角度来看，`id`每个页面的每个元素都有一个是很重要的，因为[`getElementById()`](http://www.w3schools.com/jsref/met_document_getelementbyid.asp)正如它的名字所暗示的那样，通过它们`id`的 s 来标识元素。

因此，即使您是纯 HTML/CSS 开发人员，您也必须尊重`id`每页 s 的唯一性，原因有两个：

1.  清晰性：每当您看到一个 id 时，您确定它在同一页面的其他地方不存在
2.  [可扩展性](https://en.wikipedia.org/wiki/Scalability)：即使您只使用 HTML/CSS 进行开发，您也需要考虑到您或其他开发人员将继续使用 JavaScript 维护和添加网站功能的那一天。

* * *

## 回答 #10

> 赞同：1
> 
> 时间：2012-10-15T04:40:48.617

您可以将 a 分配`class`给许多元素。`class`您还可以为一个元素分配多个，例如。

```
<button class="btn span4" ..> 
```

在引导程序中。您可以将`id`唯一分配给一个。因此，如果您想让许多元素看起来相同，例如。列出项目，您选择`class`. 如果您想使用 JavaScript 触发元素上的某些操作，您可能会使用`id`.

* * *

## 回答 #11

> 赞同：1
> 
> 时间：2012-10-15T04:41:09.773

一个类可以多次使用，而一个 ID 只能使用一次，因此您应该将类​​用于您知道会经常使用的项目。一个例子是，如果您想为网页上的所有段落提供相同的样式，您将使用类。

标准规定任何给定的 ID 名称只能在页面或文档中引用一次。当每页仅出现一次时使用 ID。当每页出现一次或多次时使用类。

* * *

## 回答 #12

> 赞同：1
> 
> 时间：2012-10-15T04:44:22.863

这很容易理解：-

当我们必须将 CSS 属性仅应用于一个属性时，使用 id。

当我们必须在同一页面或不同页面的许多位置使用 CSS 属性时，使用 class。

一般：- 对于像盯着 div 和按钮布局这样的独特结构，我们使用 id 。

对于整个页面或项目中的相同 CSS，我们使用类

id很轻，class有点重

* * *

## 回答 #13

> 赞同：1
> 
> 时间：2012-10-15T04:51:36.983

一种简单的看待它的方法是，一个 id 仅对一个元素是唯一的。

一个类不是唯一的并且适用于多个元素。

例如：

```
<p class = "content">This is some random <strong id="veryImportant"> stuff!</strong></p> 
```

内容是一个类，因为它可能适用于其他一些标签以及“非常重要”仅被使用一次且永远不会再次使用的地方。

* * *

## 回答 #14

> 赞同：-2
> 
> 时间：2015-10-03T05:06:12.037

与`id`选择器不同，选择`class`器最常用于多个元素。
这允许您为具有相同类的许多 HTML 元素设置特定样式。

选择`class`器使用 HTML 类属性，并用“.”定义。
一种简单的看待它的方法是，一个 id 仅对一个元素是唯一的。`class`更好用，因为它可以帮助您执行您想要的任何操作。

* * *

## 回答 #15

> 赞同：-4
> 
> 时间：2015-12-22T22:22:29.887

id 选择器可用于更多元素。这是示例：

CSS：

```
#t_color{
    color: red;
}
#f_style{
    font-family: arial;
    font-size: 20px;
} 
```

html:

```
<p id="t_color"> test only </p>
<div id="t_color">the box text</div> 
```

我在 Internet Explorer（11.0 版）和 Chrome（47.0 版）上进行了测试。它适用于他们两个。

“唯一”仅表示一个元素不能有多个 id 属性，如类选择器。两者都不

```
<p id="t_color f_style">...</p> 
```

也不

```
<p id="t_color" id="f_style">...</p> 
```****

# python - python单元测试用例中self.assertRaises未涵盖的异常语句

> ID：12889366
> 
> 赞同：5
> 
> 时间：2012-10-15T04:36:35.300
> 
> 标签：python, unit-testing, assertraises

这是我的功能：

```
def get_value(request, param):
  s = get_string(request, param)
  value = re.search('(\\d\\d\\d\\d)-(\\d\\d)-(\\d\\d)', s)
  if not value:
    print 'match not found!'  
    raise Exception('incorrect format: %s' % param) 
```

测试功能：

```
def test_get_value(self):
    m = test_mocks.HttpRequestMock(REQUEST = {'start_date': '2011.07.31'})
    print '*************************'
    print 'date format changed'
    self.assertRaises(Exception, get_value, (m, 'start_date'))
    print '********************* 
```

`get_value`不打印：*未找到匹配*！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-15T05:12:42.220

你传递的参数`assertRaises()`不正确，你应该像这样传递它们：

```
self.assertRaises(Exception, helpers.get_value, m, 'start_date') 
```

这是一个适合我的完整测试用例。第一个测试通过，第二个测试失败。

```
import re
from unittest import TestCase

def get_value(s):
    value = re.search('(\\d\\d\\d\\d)-(\\d\\d)-(\\d\\d)', s)
    if not value:
        raise ValueError('incorrect format: %s' % s)

class TesterScratch(TestCase):
    # this one passes
    def test_get_value(self):
        s = '2011.07.31'
        self.assertRaises(ValueError, get_value, s)

    # this one fails, because the format is actually correct
    def test_get_value2(self):
        s = '2011-07-31'
        self.assertRaises(ValueError, get_value, s) 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-15T05:13:12.867

你的python版本似乎有问题。我猜你正在使用低于 2.6 版本的 python。尝试将函数参数作为其他参数传递给函数，即不要将它们放在元组中。试试这个。

```
self.assertRaises(Exception, helpers.get_value, m, 'start_date') 
```

# android - 如何在启动之前在 Android 中安装 ramdisk？

> ID：12889373
> 
> 赞同：2
> 
> 时间：2012-10-15T04:38:07.340
> 
> 标签：android, linux, linux-kernel, kernel, ramdisk

是否可以在 Android 框架启动之前在 Android 中挂载 ramdisk，但在底层 Linux 内核启动之后？如果是这样，我应该使用什么命令？

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-08-31T22:07:31.757

根据我阅读的一些参考书，Android系统的启动主要分为以下几个步骤：

1.  CPU 读取一个硬编码地址，该地址通常指向某个引导加载程序
2.  引导加载程序初始化 RAM，将基本硬件置于静止状态，加载内核和 RAM 磁盘，然后跳转到内核。
3.  start_kernel() 初始化子系统并继续调用内置驱动程序的 init 函数。
4.  内核挂载它的根系统（来自 ramdisk.img）。
5.  然后调用 init.rc 设置环境变量，例如系统路径、挂载其他文件系统、启动本机守护进程等。

现在，回答您的问题：“是否可以在 Android 框架启动之前在 Android 中挂载 ramdisk，但在底层 Linux 内核启动之后？” --我认为这正是android所做的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-04-11T05:16:57.247

您必须编写从 init.rc 文件调用的 shell 脚本。另一种方法是编写一个从 init.rc 作为守护进程启动的 C 程序。

init 是 linux 几乎启动的中间位置，而 android frameowrk 即将开始启动。

# android - 为什么在收到地理编码响应后我的线程在处理程序内停止？

> ID：12889375
> 
> 赞同：1
> 
> 时间：2012-10-15T04:38:13.670
> 
> 标签：android, multithreading, geocoding

我在我的活动中创建了一个新线程。在它里面运行（..）我写了一个代码来从谷歌获取地理代码。当我收到 JSON 响应并在处理后将其发送给处理程序。在处理程序内部，我发现新线程已死亡。

这是我的运行（）

```
@Override
    public void run() {
        try {

            Thread.sleep(4000);
            Log.d("Thread", "---Is Running---");
            getCityName = getIntent().getStringExtra("city");
            Log.d("----getCityName----", getCityName);

            HttpRetriever httpObj = new HttpRetriever();
            String geocodeUrl = "http://maps.googleapis.com/maps/api/geocode/json?address="
                    + getCityName + "&sensor=true";
            String url = geocodeUrl.replace(" ", "%20");

            Log.d("----geocodeUrl----", url);

            geocodeResponse = httpObj.retrieve(url);
            Log.d("----Json Response----", geocodeResponse);

            JSONObject jsonObject = new JSONObject(geocodeResponse);

            JSONArray jsonArray = (JSONArray) jsonObject.get("results");

            if (jsonArray.length() > 0) {

                jsonObject = (JSONObject) jsonArray.get(0);
                jsonObject = (JSONObject) jsonObject.get("geometry");
                JSONObject location = (JSONObject) jsonObject
                        .get("location");
                Double lat = (Double) location.get("lat");
                Double lng = (Double) location.get("lng");

                mypoint = new GeoPoint((int) (lat * 1000000),
                        (int) (lng * 1000000));

                Log.d("-----Lat LOng-----", "" + lat + " " + lng);

                addOverlayOnMap(mypoint, getCityName);

                myMap.getController().animateTo(mypoint);
                myMap.getController().setZoom(6);

            }

        } catch (JSONException e) {

            e.printStackTrace();
        } catch (Exception e) {
            e.printStackTrace();
        }
        handler.sendEmptyMessage(0);

    } 
```

这是我的处理程序。

```
Handler handler = new Handler() {
    public void handleMessage(android.os.Message msg) {
        pdDialog.dismiss();
        if (geocodeResponse != null) {

            if (t.isAlive() == true) {
                Log.v("------Thread-----",
                        "---Inside Handler----Thread is Alive!!!!----");

            } else {
                Log.v("------Thread-----",
                        "---Inside Handler---Thread is Died!!!!----");

            }

            Toast.makeText(getApplicationContext(), " Ya got the json",
                    Toast.LENGTH_LONG).show();

        }

        else
            Toast.makeText(getApplicationContext(), "Not Success",
                    Toast.LENGTH_LONG).show();
    }

}; 
```

**我只是想知道为什么我的线程在处理程序中停止了？虽然我不会在任何地方停止它。我在模拟器中测试代码**

**如果你有问题，可以分享。**

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-16T06:05:59.517

您是否在线程中进行了一些 UI 操作？

# scheme - Scheme 为矩阵对象定义构造函数和选择器

> ID：12889379
> 
> 赞同：1
> 
> 时间：2012-10-15T04:38:46.903
> 
> 标签：scheme, r5rs

我正在尝试为简单的 2x2 矩阵开发构造函数和选择器，但我不确定我所做的是否正确。这需要一个包含 4 个元素的列表并生成 2x2：

```
(define matrix2x2
  (lambda (list)

    (define to-list list) ;returns the list form of this matrix
    (define get-place ;returns a place based on input row col
      (lambda (row col)
        (cond ((and (equal? row 1) (equal? col 1)) (car list))
              ((and (equal? row 1) (equal? col 2)) (car (cdr list)))
              ((and (equal? row 2) (equal? col 1)) (car (cdr (cdr list))))
              ((and (equal? row 2) (equal? col 2)) (car (cdr (cdr (cdr list)))))
              (else (display "no such place")))))

    (lambda (ret)
      (cond ((eq? ret 'get-place) get-place)
            ((eq? ret 'to-list) to-list)
            (else (error "Unknown request" ret))))))

;tests
(define my-matrix (m2x2 '(8 1 2 7)))
((my-matrix 'get-place) 2 2)
(my-matrix 'to-list) 
```

这有效......但我不确定我是否正确使用了选择器。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-15T04:57:01.187

您所做的是通过闭包实现对象的“通常”方案方式。您当然可以继续为选择器定义一些便利功能：

```
(define (get-place matrix ix) ((matrix 'get-place) ix)
(define (matrix->list matrix) ...) 
```

我不确定我是否理解您对选择器“正确”使用的要求。毕竟，您已经知道它有效...

# android - android部署示例代码时出错，project:android api demos

> ID：12889380
> 
> 赞同：6
> 
> 时间：2012-10-15T04:38:51.570
> 
> 标签：android

在部署 android 给出的示例项目之一时出现以下错误：android api demos for api level 8：

```
error: Error retrieving parent for item: No resource found that matches the given name 'android:style/Theme.Wallpaper'. 
```

在 values/styles.xml 第 43 行

```
<style name="Theme.Wallpaper" parent="android:style/Theme.Wallpaper">
    <item name="android:colorForeground">#fff</item>
</style> 
```

一个多月来，我一直在寻找解决方案。我尝试过重建项目，再次下载整个源代码并重建和清理。帮助

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-03T14:06:52.717

非常好，由 raychenon 解释。

```
<style name="Theme.Wallpaper" parent="android:style/Theme.Wallpaper" >
    <item name="android:colorForeground">#fff</item>
</style> 
```

正在发生的事情是某些样式，例如 Theme.Wallpaper 不是公开的。你不应该再从他们那里扩展。

[有些人建议在此处](http://groups.google.com/group/android-developers/browse_thread/thread/550fce9670530d9b/9b2b2aa389dce367?show_docid=9b2b2aa389dce367&pli=1)恢复到 platform_tools_r05

如果您想以正确的方式阅读 Xavier 7 月 28 日[这里](http://groups.google.com/group/android-developers/browse_thread/thread/550fce9670530d9b/9b2b2aa389dce367?show_docid=9b2b2aa389dce367&pli=1)

> 如果您希望重用私有样式，则应将该样式的内容复制到您自己的内容中，而不是对其进行扩展。

**回答**

> 想要让用户选择的墙纸出现在其后面的窗口的默认主题。

```
<style name="Theme.Wallpaper">
    <item name="android:windowBackground">@android:color/transparent</item>
    <item name="android:colorBackgroundCacheHint">@null</item>
    <item name="android:windowShowWallpaper">true</item>
</style> 
```

看起来您想使用[Android 源](https://github.com/android/platform_frameworks_base/blob/master/core/res/res/values/themes.xml)代码中的上述代码并基于它创建自己的主题。

希望它会帮助你。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-31T10:54:37.723

您可以参考此处发布的这个问题并阅读 Xavier 在 Google 博客上的评论。

[2011 年中 SDK 和 ADT 插件更新后的样式参考](https://stackoverflow.com/questions/7258408/androidstyle-reference-after-sdk-and-adt-plugin-update-in-mid-2011)

希望它有帮助..让我张贴

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-21T16:49:44.487

当您通过“现有代码中的 Android 项目”导入 Android 示例时，我注意到库和 API 编号是 Android 1.5 和 API 级别 3。

此 API 级别不支持***android:style/Theme.Wallpaper***。

**我通过在项目属性菜单中将项目构建目标**调整为 Android 2.2（API 级别 8）来修复它。

# javascript - jQuery Image Mapster：在选择之前突出显示区域

> ID：12889384
> 
> 赞同：2
> 
> 时间：2012-10-15T04:39:42.673
> 
> 标签：javascript, jquery, imagemap, imagemapster

我真的很喜欢 jQuery 插件 Image Mapster。然而，我真的到达了一堵砖墙，我可以使用一些帮助攀爬。

我需要执行以下操作：

1.  在任何交互之前用边框和颜色突出显示所有图像地图区域
2.  使用可能不同的边框和颜色启用鼠标悬停突出显示和鼠标悬停取消突出显示（返回到上面的状态 #1）
3.  启用具有第三个不同边框和颜色的选择

我最初的印象是以下 JavaScript 可以为我做到这一点：

```
 $('#Image1').mapster({
        fillOpacity: 0.5,
        fillColor: FF0000,

        stroke: true,
        strokeOpacity: 1.0,
        strokeColor: 00FF00,
        strokeWidth: 2,

        render_highlight: 
        {
             fillOpacity: 0.5,
             fillColor: 00FF00,

             stroke: true,
             strokeOpacity: 1.0,
             strokeColor: FF0000,
             strokeWidth: 2,
        },
        render_select: 
        {
             fillOpacity: 1.0,
             fillColor: 0000FF,

             stroke: false
        }
    }); 
```

它似乎支持鼠标悬停/鼠标移出（＃2）和选择（＃3） - 但不会像我想要的那样点亮我的区域（＃1）。

对 ImageMapster 有更多经验的人有什么建议吗？

谢谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-12T18:37:29.993

几条评论：

1.  您在“render_highlight”之前的代码是定义区域在默认情况下突出显示时的样子。即使它有效，它也是为了突出显示而不是选择。

2.  但是您添加了一个可选的渲染键“render_highlight”，这将禁用您之前设置的选项。这就是为什么当您将鼠标移到无法看到您在“render_highlight”上方定义的效果的区域上时

3.  对于你的#1，我的建议是删除“render_highlight”之前的所有选项，并添加这一行`staticState: true,`。这将始终启用所有选择的区域，但这将违背您的目标#3。我找不到更好的方法来实现你所有的三个目标。等待其他人的帮助。

这是您可能想要查看的文档[http://www.outsharked.com/imagemapster/default.aspx?docs.html](http://www.outsharked.com/imagemapster/default.aspx?docs.html)

# ruby - 通过索引从数组 ruby 中删除数组元素

> ID：12889387
> 
> 赞同：1
> 
> 时间：2012-10-15T04:40:02.597
> 
> 标签：ruby, arrays, string

我有很多这样的词

```
["jo","jibber","hail","noobs","smirk","awkland"] 
```

和一个带有索引的单独数组

```
[0,3,5] 
```

我想从这些索引处的前一个数组中删除所有元素。我在想我可以使用拒绝，但我不确定我会怎么做。此外，一旦我删除一个元素，所有其他索引都不会改变。有没有一种简单的方法可以做到这一点？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-15T04:43:00.660

您可以使用[`reject`](http://www.ruby-doc.org/core-1.9.3/Enumerable.html#method-i-reject)和`with_index`

```
arr = ["jo", "jibber", "hail", "noobs", "smirk", "awkland"] 

indexes = [0, 3, 5]

arr.reject.with_index {|_, idx| indexes.include?(idx)} # => ["jibber", "hail", "smirk"] 
```

# google-app-engine - Google App Engine：数据存储区中的非西方字符，如何打印到浏览器

> ID：12889390
> 
> 赞同：0
> 
> 时间：2012-10-15T04:40:29.823
> 
> 标签：google-app-engine, unicode, utf-8, character-encoding, google-cloud-datastore

这是对此的后续问题：[Google Analytics Character encoding of __utm cookies](https://stackoverflow.com/questions/12829113/google-analytics-character-encoding-of-utm-cookies)

我将以下字符串存储在数据存储区中`db.TextProperty`- `Test%D0%AFTest`。这是从 utf-8 编码的 cookie 值中读取的。

我试图简单地将这个字符串打印到浏览器中`TestЯTest`（注意向后的 R），但我能显示的只是：`TestÐ¯Test`

我尝试了各种 unicode、encode('utf-8') decode('utf-8') 解决方案，但似乎没有任何效果。我得到一个`UnicodeDecode Error`或上面的文本。

我的 HTTP 标头包含以下行：`Content-Type: text/html; charset=utf-8 and the HTML itself contains the meta tag: http-equiv="Content-Type" content="text/html; charset=utf-8"`

似乎没有任何效果。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-15T04:57:38.163

由于它是作为 URL 的一部分存储的，因此您必须使用`urllib.unparse`. 您对编码有正确的想法，您只需要执行“解解析” URL 的额外步骤。

```
>>> import urlparse
>>> s = 'Test%D0%AFTest'
>>> print urlparse.unquote(s).decode('utf8')
TestЯTest 
```

# c# - 在 C# (Visual Studio) 中将 WAV 文件转换为 FLAC

> ID：12889396
> 
> 赞同：1
> 
> 时间：2012-10-15T04:41:03.270
> 
> 标签：c#, visual-studio-2010, encoding

我有一个通过 Microsoft Kinect 创建的 Wav 文件，并将其保存到桌面。我需要将其转换为 FLAC 格式，以便将其发送到 Google Cloud 以从 Speech2Text 进行处理。

我没有在 C# 中找到任何 WAV 到 FLAC 编码器。

有没有办法在 C# 中将 WAV 文件转换为 FLAC 文件？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-15T04:52:41.397

尝试使用[***`LibFlac`***](http://sourceforge.net/projects/flac/files/flac-win/)（*sourceforge*）。这`FLAC encoder`是一个开源 C/C++ 项目。为了在 C# 应用程序中使用它，您必须使用`PInvoke`它来调用它的应用程序编程接口`LibFlac.dll`。查看这篇博文，探索在 C# 中使用 FLAC API 处理未压缩的音频数据：

*   [在 C# 中使用 FLAC 编码未压缩的音频](https://web.archive.org/web/20150619011916/http://stoyanov.in/2010/01/08/encoding-uncompressed-audio-with-flac-in-c/)

# blackberry - 黑莓控制台

> ID：12889399
> 
> 赞同：1
> 
> 时间：2012-10-15T04:41:18.290
> 
> 标签：blackberry, java-me, blackberry-eclipse-plugin

在哪里可以找到 BlackBerry Eclipse IDE 中的可打印语句。我看到的控制台没有给我打印的字符串

```
System.out.println("User1 "+Username); 
```

它只是显示：

```
Packaging project HelloWorld
C:\Users\Ravi\Desktop\Eclipse\plugins\net.rim.ejde.componentpack7.1.0_7.1.0.10\components\bin\rapc.exe -convertpng -quiet codename=deliverables\Standard\7.1.0\HelloWorld -sourceroot=C:\Users\Ravi\workspace\HelloWorld\src;C:\Users\Ravi\workspace\HelloWorld\res -import=C:\Users\Ravi\Desktop\Eclipse\plugins\net.rim.ejde.componentpack7.1.0_7.1.0.10\components\lib\net_rim_api.jar deliverables\Standard\7.1.0\HelloWorld.rapc C:\Users\Ravi\workspace\HelloWorld\bin
Packaging project HelloWorld succeeded (took 1.63 seconds) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-15T04:56:30.630

如果你想执行一些打印语句，比如

```
System.out.println("Test") 
```

要跟踪您的应用程序状态，您应该调试您的应用程序以获取您的打印语句。如果您正常运行应用程序，它将不会打印语句。

**右键单击**您的应用程序，然后单击**Debug as yourapplication**，然后您将能够获得打印语句

# graphics - 在 Nsight 2.2 中使用图形调试器时应用程序崩溃

> ID：12889400
> 
> 赞同：1
> 
> 时间：2012-10-15T04:41:28.867
> 
> 标签：graphics, crash, nsight

嗨，我使用的是**NVidia Nsight 2.2**，有**GTS 450**卡和最新的驱动程序。Windows Vista 64 位。启动图形调试器时，应用程序在第一次绘制调用时崩溃。调用堆栈如下所示：

```
nvwgf2um.dll!5bdd7d53()     
[Frames below may be incorrect and/or missing, no symbols loaded for nvwgf2um.dll]  
nvwgf2um.dll!5be9c7f7()     
nvwgf2um.dll!5bde377e()     
nvwgf2um.dll!5bc02afb()     
nvwgf2um.dll!5bc0257b()     
nvwgf2um.dll!5bc0259e()     
nvwgf2um.dll!5bdd0612()     
nvwgf2um.dll!5bcb2292()     
nvwgf2um.dll!5bc45072()     
nvwgf2um.dll!5bcbff8c()     
D3D11SDKLayers.dll!5ea52f2f()   
Nvda.Graphics.Interception.100.dll!5dbb2853()   
Nvda.Graphics.Interception.100.dll!5dba317e()   
Nvda.Graphics.Interception.100.dll!5db99b21()   
Nvda.Graphics.Interception.100.dll!5df0150f() 
```

否则它本身运行良好，只有当我通过 Nsight 图形调试器启动时才会崩溃。我怀疑这与我使用`DX11 dynamic shader linkage`. 由于我的其他不使用动态链接的应用程序运行良好。有人以前经历过这种情况，或者有关于 Nsight 的这个问题的任何信息吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-11T20:55:35.523

该问题可能与 DX 控制面板的调试层设置有关。（请查看我在塞巴斯蒂安的回答中的评论）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-24T20:44:33.503

您使用的是什么驱动程序和 2.2 的确切版本？（Nsight->帮助->关于 Nsight->内部版本号）

# c++ - 将“wchar_t*”输出到“ofstream”

> ID：12889405
> 
> 赞同：17
> 
> 时间：2012-10-15T04:42:33.123
> 
> 标签：c++, file, std, wchar-t, wofstream

我想通过我声明的两个指针将文本输出到文件：

```
wchar_t   *Col1="dsffsd", *Col2="sdfsf"; 
```

这是我尝试过的：

```
std::ofstream fout;
fout.open(NativeDatabasePathHist);
fout<<"testing";
fout<<" "<<Col1<<" "<<Col2;
fout.close(); 
```

这就是我得到的：

> 测试 113 113

为什么当我打印`Col1`and时`Col2`，我得到的是数字而不是字符串？

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2013-02-13T09:52:00.633

首先，使用`std::wofstream`代替`std::ofstream`.

此外，使用`L`文本字符串上的前缀表示您的文本是**宽字符**文本：

```
wchar_t   *Col1=L"dsffsd" 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-15T04:45:33.707

由于您是使用宽字符 ( `wchar_t`) 编写的，因此您需要使用能够理解宽字符的内容来查看生成的文件。

# javascript - facebook auth 对话框中的问题

> ID：12889407
> 
> 赞同：0
> 
> 时间：2012-10-15T04:42:37.057
> 
> 标签：javascript, facebook

我已经使用 javascript SDK 在我的网站中集成了 Facebook 登录。除了身份验证对话框，它只对用户显示一次。下次用户登录时，它会重定向而不显示身份验证对话框。我想要每次用户登录时显示身份验证对话框。这是我正在使用的代码

```
window.fbAsyncInit = function() {
        FB.init({
        appId  : 'xxxxxxxx',
        status : true, 
        cookie : true, 
        xfbml  : true, 
        oauth  : true 
        });
        if (window!=window.top) {
            FB.Canvas.setAutoResize();
        };
        FB.getLoginStatus(function(response) {
            if (response.authResponse) {                
               window.FBlogin = function(){
                    FB.login(function(response) {
                        if (response.authResponse) {                         
                    FB.api('/me', function(response) {
                    console.log('Good to see you, ' + response.name + '.');
                     var query = FB.Data.query('select name,username, email, hometown_location, sex, pic_square from user where uid={0}', response.id);
                     query.wait(function(rows) {
                     //document.getElementById('name').innerHTML = '<img src="' + rows[0].pic_square + '" alt="" />';
                        var name=rows[0].name;
                        var email=rows[0].email;
                        var uid=response.id;
                        var username=rows[0].username;
                        var pic=rows[0].pic_square;                    
                     });
    });

                        } 
                        else {
                            alert("error");

                        }                       
                    }, {scope: 'email'});                                       
                };           
            }
            else {

                var authbox = document.getElementById('FBauth');
                authbox.innerHTML="";
                var a = document.createElement('a');
                a.setAttribute("href","javascript:void();");
                a.setAttribute("onclick","FBlogin();");              
                authbox.appendChild(a);
                window.FBlogin = function(){
                    FB.login(function(response) {
                        if (response.authResponse) {
                        FB.api('/me', function(response) {
                        console.log('Good to see you, ' + response.name + '.');
                     var query = FB.Data.query('select name,username, email, hometown_location, sex, pic_square from user where uid={0}', response.id);
                     query.wait(function(rows) {
                        var name=rows[0].name;
                        var email=rows[0].email;
                        var uid=response.id;
                        var username=rows[0].username;
                        var pic=rows[0].pic_square;                     
                     });
                  });                           
                } 

                    }, {scope: 'email'});
                };                
            }           
        });
 FB.Event.subscribe('auth.login', function () {
         FB.api('/me', function(response) {
                    console.log('Good to see you, ' + response.name + '.');
                     var query = FB.Data.query('select name,username,email, hometown_location, sex, pic_square from user where uid={0}', response.id);
                     query.wait(function(rows) {
                        var name=rows[0].name;
                        var uid=response.id;
                        var email=rows[0].email;
                        var username=rows[0].username;
                        var pic=rows[0].pic_square;
                        var page='';
                        $('<input />').attr({'type':'hidden', 'id':'fbname','value':email}).appendTo('#fbaccess');
                  });
               })         
         });

        FB.Event.subscribe('auth.logout', function(response) {            
    });
}; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-15T13:42:56.380

> 除了身份验证对话框外，一切工作正常，该对话框仅对用户显示一次。下次用户登录时，它会重定向而不显示身份验证对话框。

如果用户已经连接到您的应用程序并已授予所有请求的权限——那么这就是*预期*的行为。

在这种情况下再次调用 FB.login 将打开弹出窗口，然后立即再次关闭它。

> 我想在每次用户登录时显示身份验证对话框。

我看不到应用程序以这种方式运行的好处。

无论如何，有一个参数可以明确要求用户重新认证：auth_type=reauthenticate。这将强制用户重新输入密码。有关详细信息，请参阅[https://developers.facebook.com/docs/authentication/reauthentication/#client-side](https://developers.facebook.com/docs/authentication/reauthentication/#client-side)。

但我不确定这是你真正想要的。

另一种方法是通过您的应用程序*删除*权限，然后通过`scope`参数再次请求它们。那应该会再次打开 Auth 对话框。有关详细信息，请参阅[https://developers.facebook.com/docs/reference/api/user/#permissions](https://developers.facebook.com/docs/reference/api/user/#permissions)

# eclipse - JSF Maven Tomcat App突然从eclipse停止工作

> ID：12889408
> 
> 赞同：4
> 
> 时间：2012-10-15T04:42:48.070
> 
> 标签：eclipse, jsf, tomcat, maven, cdi

这真让我抓狂。任何建议表示赞赏。

我的应用程序多年来一直在 Tomcat 7 上编译和运行。我直接从 Eclipse 运行它，并作为一个战争文件传输到 Tomcat 目录。现在发生以下错误，无论我是从 eclipse 运行应用程序，还是通过复制 war 文件。

该应用程序突然停止运行。错误消息指出它找不到 Weld Listener 类。但是该类就在预期的位置，在 .m2 和 Tomcat webapp lib 目录中。

这是错误：

```
Oct 15, 2012 12:28:00 AM org.apache.catalina.core.StandardContext listenerStart
SEVERE: Error configuring application listener of class org.jboss.weld.environment.servlet.Listener
java.lang.ClassNotFoundException: org.jboss.weld.environment.servlet.Listener
    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1711)
    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1556)
    at org.apache.catalina.core.DefaultInstanceManager.loadClass(DefaultInstanceManager.java:532)
    at org.apache.catalina.core.DefaultInstanceManager.loadClassMaybePrivileged(DefaultInstanceManager.java:514)
    at org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:133)
    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4727)
    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5285)
    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:901)
    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:877)
    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:618)
    at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:963)
    at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1600)
    at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)
    at java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source)
    at java.util.concurrent.FutureTask.run(Unknown Source)
    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) 
```

这是我的 .pom 文件：

```
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
    <modelVersion>4.0.0</modelVersion>
    <groupId>com.memarden</groupId>
    <artifactId>ilearn</artifactId>
    <packaging>war</packaging>
    <version>0.0.1-SNAPSHOT</version>
    <name>ilearn Maven Webapp</name>
    <url>http://maven.apache.org</url>
    <!-- Shared version number properties -->
    <properties>
        <org.springframework.version>3.0.5.RELEASE</org.springframework.version>
    </properties>

    <dependencies>
        <dependency>
            <groupId>commons-collections</groupId>
            <artifactId>commons-collections</artifactId>
            <version>3.2.1</version>
        </dependency>
        <dependency>
            <groupId>org.mongodb</groupId>
            <artifactId>mongo-java-driver</artifactId>
            <version>2.8.0</version>
        </dependency>
        <dependency>
            <groupId>commons-dbcp</groupId>
            <artifactId>commons-dbcp</artifactId>
            <version>1.4</version>
        </dependency>
        <dependency>
            <groupId>mysql</groupId>
            <artifactId>mysql-connector-java</artifactId>
            <version>5.1.21</version>
        </dependency>
        <dependency>
            <groupId>org.jboss.weld</groupId>
            <artifactId>weld-core</artifactId>
            <version>1.1.9.Final</version>
        </dependency>
        <dependency>
            <groupId>org.mybatis</groupId>
            <artifactId>mybatis</artifactId>
            <version>3.1.1</version>
        </dependency>
        <dependency>
            <groupId>org.mybatis</groupId>
            <artifactId>mybatis-spring</artifactId>
            <version>1.1.1</version>
        </dependency>
        <dependency>
            <groupId>log4j</groupId>
            <artifactId>log4j</artifactId>
            <version>1.2.17</version>
        </dependency>
        <dependency>
            <groupId>org.apache.myfaces.tomahawk</groupId>
            <artifactId>tomahawk20</artifactId>
            <version>1.1.13</version>
        </dependency>
        <dependency>
            <groupId>org.richfaces.core</groupId>
            <artifactId>richfaces-core-api</artifactId>
            <version>4.2.2.Final</version>
        </dependency>
        <dependency>
            <groupId>org.richfaces.core</groupId>
            <artifactId>richfaces-core-impl</artifactId>
            <version>4.2.2.Final</version>
        </dependency>
        <dependency>
            <groupId>org.richfaces.ui</groupId>
            <artifactId>richfaces-components-api</artifactId>
            <version>4.2.2.Final</version>
        </dependency>
        <dependency>
            <groupId>org.richfaces.ui</groupId>
            <artifactId>richfaces-components-ui</artifactId>
            <version>4.2.2.Final</version>
        </dependency>
        <dependency>
            <groupId>org.glassfish</groupId>
            <artifactId>javax.faces</artifactId>
            <version>2.1.11</version>
        </dependency>
        <dependency>
            <groupId>javax.validation</groupId>
            <artifactId>validation-api</artifactId>
            <version>1.0.0.GA</version>
        </dependency>
        <dependency>
            <groupId>javax</groupId>
            <artifactId>javaee-api</artifactId>
            <version>6.0</version>
        </dependency>
        <dependency>
            <groupId>net.sf.ehcache</groupId>
            <artifactId>ehcache</artifactId>
            <type>pom</type>
            <version>2.5.3</version>
        </dependency>

        <!-- Core SPRING utilities used by other modules. Define this if you use 
            Spring Utility APIs (org.springframework.core.*/org.springframework.util.*) -->
        <dependency>
            <groupId>org.springframework</groupId>
            <artifactId>spring-core</artifactId>
            <version>${org.springframework.version}</version>
        </dependency>

        <!-- Expression Language (depends on spring-core) Define this if you use 
            Spring Expression APIs (org.springframework.expression.*) -->
        <dependency>
            <groupId>org.springframework</groupId>
            <artifactId>spring-expression</artifactId>
            <version>${org.springframework.version}</version>
        </dependency>

        <!-- Bean Factory and JavaBeans utilities (depends on spring-core) Define 
            this if you use Spring Bean APIs (org.springframework.beans.*) -->
        <dependency>
            <groupId>org.springframework</groupId>
            <artifactId>spring-beans</artifactId>
            <version>${org.springframework.version}</version>
        </dependency>

        <!-- Aspect Oriented Programming (AOP) Framework (depends on spring-core, 
            spring-beans) Define this if you use Spring AOP APIs (org.springframework.aop.*) -->
        <dependency>
            <groupId>org.springframework</groupId>
            <artifactId>spring-aop</artifactId>
            <version>${org.springframework.version}</version>
        </dependency>

        <!-- Application Context (depends on spring-core, spring-expression, spring-aop, 
            spring-beans) This is the central artifact for Spring's Dependency Injection 
            Container and is generally always defined -->
        <dependency>
            <groupId>org.springframework</groupId>
            <artifactId>spring-context</artifactId>
            <version>${org.springframework.version}</version>
        </dependency>

        <!-- Various Application Context utilities, including EhCache, JavaMail, 
            Quartz, and Freemarker integration Define this if you need any of these integrations -->
        <dependency>
            <groupId>org.springframework</groupId>
            <artifactId>spring-context-support</artifactId>
            <version>${org.springframework.version}</version>
        </dependency>

        <!-- Transaction Management Abstraction (depends on spring-core, spring-beans, 
            spring-aop, spring-context) Define this if you use Spring Transactions or 
            DAO Exception Hierarchy (org.springframework.transaction.*/org.springframework.dao.*) -->
        <dependency>
            <groupId>org.springframework</groupId>
            <artifactId>spring-tx</artifactId>
            <version>${org.springframework.version}</version>
        </dependency>

        <!-- JDBC Data Access Library (depends on spring-core, spring-beans, spring-context, 
            spring-tx) Define this if you use Spring's JdbcTemplate API (org.springframework.jdbc.*) -->
        <dependency>
            <groupId>org.springframework</groupId>
            <artifactId>spring-jdbc</artifactId>
            <version>${org.springframework.version}</version>
        </dependency>

        <!-- Object-to-Relation-Mapping (ORM) integration with Hibernate, JPA, 
            and iBatis. (depends on spring-core, spring-beans, spring-context, spring-tx) 
            Define this if you need ORM (org.springframework.orm.*) -->
        <dependency>
            <groupId>org.springframework</groupId>
            <artifactId>spring-orm</artifactId>
            <version>${org.springframework.version}</version>
        </dependency>
        <!-- Support for testing Spring applications with tools such as JUnit and 
            TestNG This artifact is generally always defined with a 'test' scope for 
            the integration testing framework and unit testing stubs -->
        <dependency>
            <groupId>org.springframework</groupId>
            <artifactId>spring-test</artifactId>
            <version>${org.springframework.version}</version>
            <scope>test</scope>
        </dependency>
        <dependency>
            <groupId>junit</groupId>
            <artifactId>junit</artifactId>
            <version>3.8.1</version>
            <scope>test</scope>
        </dependency>
        <dependency>
            <groupId>cglib</groupId>
            <artifactId>cglib</artifactId>
            <version>2.2.2</version>
        </dependency>
    </dependencies>
    <pluginRepositories>
        <pluginRepository>
            <id>bees-plugins-snapshots</id>
            <url>http://repository-cloudbees.forge.cloudbees.com/public-snapshot/</url>
            <releases>
                <enabled>false</enabled>
            </releases>
            <snapshots>
                <enabled>true</enabled>
            </snapshots>
        </pluginRepository>
    </pluginRepositories>
    <build>
        <plugins>
            <plugin>
                <artifactId>maven-compiler-plugin</artifactId>
                <version>2.0.2</version>
                <configuration>
                    <source>1.6</source>
                    <target>1.6</target>
                </configuration>
            </plugin>
            <plugin>
                <groupId>com.cloudbees</groupId>
                <artifactId>bees-maven-plugin</artifactId>
                <version>1.0-SNAPSHOT</version>
            </plugin>
            <plugin>
                <artifactId>maven-war-plugin</artifactId>
                <version>2.1.1</version>
            </plugin>
            <plugin>
                <groupId>org.apache.tomcat.maven</groupId>
                <artifactId>tomcat7-maven-plugin</artifactId>
                <version>2.0-SNAPSHOT</version>
                <configuration>
                    <warFile>${project.build.directory}/${project.build.finalName}.war</warFile>
                </configuration>
            </plugin>
        </plugins>
        <finalName>ilearn</finalName>
    </build>
</project> 
```

这是我的 web.xml

```
<?xml version="1.0" encoding="UTF-8"?>
<web-app xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns="http://java.sun.com/xml/ns/javaee" xmlns:web="http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd"
    xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd"
    id="WebApp_ID" version="3.0">
    <display-name>iLearn</display-name>
    <welcome-file-list>
        <welcome-file>home.jsf</welcome-file>
    </welcome-file-list>
    <servlet>
        <servlet-name>Faces Servlet</servlet-name>
        <servlet-class>javax.faces.webapp.FacesServlet</servlet-class>
        <load-on-startup>1</load-on-startup>
    </servlet>
    <servlet-mapping>
        <servlet-name>Faces Servlet</servlet-name>
        <url-pattern>*.jsf</url-pattern>
    </servlet-mapping>
    <context-param>
        <description>State saving method: 'client' or 'server' (=default). See JSF Specification 2.5.2</description>
        <param-name>javax.faces.STATE_SAVING_METHOD</param-name>
        <param-value>server</param-value>
    </context-param>
    <context-param>
        <param-name>javax.servlet.jsp.jstl.fmt.localizationContext</param-name>
        <param-value>resources.application</param-value>
    </context-param>
    <listener>
        <listener-class>org.jboss.weld.environment.servlet.Listener</listener-class>
    </listener>
    <context-param>
        <param-name>javax.faces.CONFIG_FILES</param-name>
        <param-value>/WEB-INF/beans.xml</param-value>
    </context-param>
    <context-param>
        <param-name>javax.faces.INTERPRET_EMPTY_STRING_SUBMITTED_VALUES_AS_NULL</param-name>
        <param-value>true</param-value>
    </context-param>
    <context-param>
        <param-name>org.richfaces.SKIN</param-name>
        <param-value>ruby</param-value>
    </context-param>
    <context-param>
        <param-name>org.richfaces.CONTROL_SKINNING</param-name>
        <param-value>enable</param-value>
    </context-param>
    <filter>
        <filter-name>Extensions Filter</filter-name>
        <filter-class>org.apache.myfaces.webapp.filter.ExtensionsFilter</filter-class>
        <init-param>
            <description>
            Set the size limit for uploaded files.
                Format: 10  - 10 bytes
                        10k - 10 KB
                        10m - 10 MB
                        1g  - 1 GB
        </description>
            <param-name>uploadMaxFileSize</param-name>
            <param-value>100m</param-value>
        </init-param>
        <init-param>
            <description>
            Set the threshold size - files below this limit are stored 
            in memory, files above this limit are stored on disk.
                Format: 10  - 10 bytes
                        10k - 10 KB
                        10m - 10 MB
                        1g  - 1 GB
        </description>
            <param-name>uploadThresholdSize</param-name>
            <param-value>100k</param-value>
        </init-param>
        <init-param>
            <description>
            Set the path where the intermediary files will be stored.
        </description>
            <param-name>uploadRepositoryPath</param-name>
            <param-value>/iLearnData/temp/</param-value>
        </init-param>
    </filter>
    <filter-mapping>
        <filter-name>Extensions Filter</filter-name>
        <servlet-name>Faces Servlet</servlet-name>
    </filter-mapping>
</web-app> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-15T05:19:29.820

您可能需要添加以下依赖项：
对于 Servlet 容器 (Tomcat/Jetty) 或 Java EE 5 应用程序服务器：[参考](http://seamframework.org/Weld)

```
<dependency>
    <groupId>org.jboss.weld.servlet</groupId>
    <artifactId>weld-servlet</artifactId>
    <version>1.1.10.Final</version>
</dependency> 
```

这个[线程](https://stackoverflow.com/questions/11740322/cdi-injection-is-not-working-in-servlets)可能有用。

# c# - NET Framework 是否与 Comodo 服务器通信？

> ID：12889411
> 
> 赞同：2
> 
> 时间：2012-10-15T04:43:08.730
> 
> 标签：c#, .net, security, firewall

我有一个我们在内部使用的第 3 方 .NET 应用程序，每隔几天它就会与一个`ocsp.comodoca.com (178.255.83.1)`由 COMODO 安全服务运行的服务器通信。

.NET Framework 是否在内部与此类服务器通信，用于强签名应用程序或其他什么？我只是问，因为通常我们否认这样的沟通，一切都很好。但是现在我们出于其他原因需要允许它，我想知道到底跟踪的是什么。（使用情况统计？）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-15T07:43:52.363

OCSP 用于检查 X.509 证书状态。如果应用程序验证了某些证书，就会发生这种情况，并且当程序集经过 Authenticode 签名时也会发生这种情况（在这种情况下，签名似乎在加载期间得到验证）。

# sql - 在 Like 查询中使用别名

> ID：12889412
> 
> 赞同：0
> 
> 时间：2012-10-15T04:43:34.453
> 
> 标签：sql, stored-procedures

我有一个查询“namePrefix + ' ' + nameFirstname + ' ' + nameSurname AS salName”。如何在 Store Procedure Like Query 中使用它？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-15T04:46:13.917

```
 select a.salName from (
      select namePrefix || ' ' || nameFirstname || ' ' || nameSurname salName 
      from table1) a
  where a.salName  like `%partialName%`; 
```

对于存储过程，如果`l_full_name_search`表示保存搜索字符串的变量，您可以将查询编写为：

```
 select a.salName from (
         select namePrefix || ' ' || nameFirstname || ' ' || nameSurname salName 
         from table1) a
   where a.salName  like '%'||l_full_name_search||'%'; 
```

# iphone - OpenCV基础教程

> ID：12889419
> 
> 赞同：3
> 
> 时间：2012-10-15T04:44:32.150
> 
> 标签：iphone, ios, opencv

我是 iPhone 应用程序开发的新手，我想在我的项目中使用 OpenCV。我从过去几个小时开始搜索，但没有找到 OpenCV 的启动教程，主要是链接解释了高级编程，所以我需要帮助

请为我提供好的入门教程链接。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-15T04:54:24.773

[https://github.com/BloodAxe/opencv-ios-template-project](https://github.com/BloodAxe/opencv-ios-template-project)

[http://computer-vision-talks.com/2011/08/a-complete-ios-opencv-sample-project/](http://computer-vision-talks.com/2011/08/a-complete-ios-opencv-sample-project/)

[http://maniacdev.com/2011/08/open-source-sample-project-using-precompiled-opencv-2-3-1/](http://maniacdev.com/2011/08/open-source-sample-project-using-precompiled-opencv-2-3-1/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-15T04:49:39.403

在这里你可以找到好的 opencv 文档

*   opencv[网站](http://opencv.willowgarage.com)
*   opencv[文档](http://docs.opencv.org)
*   [奥斯花园](http://www.eosgarden.com/en/opensource/opencv-ios/documentation/tutorial/)
*   [SO Answer](https://stackoverflow.com/a/5739247/1225337)中的教程列表

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-15T04:55:44.507

以下是 stackoverflow 本身的一些链接。请检查他们：-

[iPhone OpenCV 形状识别教程](https://stackoverflow.com/questions/5738792/tutorial-for-iphone-opencv-on-shape-recognising)

[http://www.eosgarden.com/en/opensource/opencv-ios/documentation/tutorial/](http://www.eosgarden.com/en/opensource/opencv-ios/documentation/tutorial/)

[http://computer-vision-talks.com/2011/08/a-complete-ios-opencv-sample-project/](http://computer-vision-talks.com/2011/08/a-complete-ios-opencv-sample-project/)

# objective-c - 使用 sysctl() 的每个进程的 iOS cpu 使用情况？

> ID：12889422
> 
> 赞同：7
> 
> 时间：2012-10-15T04:45:22.077
> 
> 标签：objective-c, ios, sysctl

**有没有办法使用 sysctl() 获取每个进程的 cpu 使用率？**

我试图找到一种方法来检测特定应用程序的启动。似乎没有办法获取前台运行的应用程序信息。所以我想如果我可以监控该特定应用程序的 cpu 使用情况，我可以监控 cpu 使用情况的变化并粗略假设应用程序何时启动。这可能吗？

**我不打算将此应用程序发布到苹果应用商店。**

这只是一项研究。因此，如果有任何方法可以做到这一点，我很高兴知道。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-15T05:22:01.737

完成以下过程 1\. 导入以下文件

```
#include <sys/sysctl.h>
#include <sys/types.h>
#include <mach/mach.h>
#include <mach/processor_info.h>
#include <mach/mach_host.h> 
```

2.添加ivars

```
processor_info_array_t cpuInfo, prevCpuInfo;
mach_msg_type_number_t numCpuInfo, numPrevCpuInfo;
unsigned numCPUs;
NSTimer *updateTimer;
NSLock *CPUUsageLock; 
```

3.IN .m 文件

```
-(void)voidDidLoad
{
int mib[2U] = { CTL_HW, HW_NCPU };
size_t sizeOfNumCPUs = sizeof(numCPUs);
int status = sysctl(mib, 2U, &numCPUs, &sizeOfNumCPUs, NULL, 0U);
if(status)
    numCPUs = 1;

CPUUsageLock = [[NSLock alloc] init];

updateTimer = [[NSTimer scheduledTimerWithTimeInterval:3
                                                target:self
                                              selector:@selector(updateInfo:)
                                              userInfo:nil
                                               repeats:YES] retain];    
}
- (void)updateInfo:(NSTimer *)timer
{
natural_t numCPUsU = 0U;
kern_return_t err = host_processor_info(mach_host_self(), PROCESSOR_CPU_LOAD_INFO, &numCPUsU, &cpuInfo, &numCpuInfo);
if(err == KERN_SUCCESS) {
    [CPUUsageLock lock];

    for(unsigned i = 0U; i < numCPUs; ++i) {
        float inUse, total;
        if(prevCpuInfo) {
            inUse = (
                     (cpuInfo[(CPU_STATE_MAX * i) + CPU_STATE_USER]   - prevCpuInfo[(CPU_STATE_MAX * i) + CPU_STATE_USER])
                     + (cpuInfo[(CPU_STATE_MAX * i) + CPU_STATE_SYSTEM] - prevCpuInfo[(CPU_STATE_MAX * i) + CPU_STATE_SYSTEM])
                     + (cpuInfo[(CPU_STATE_MAX * i) + CPU_STATE_NICE]   - prevCpuInfo[(CPU_STATE_MAX * i) + CPU_STATE_NICE])
                     );
            total = inUse + (cpuInfo[(CPU_STATE_MAX * i) + CPU_STATE_IDLE] - prevCpuInfo[(CPU_STATE_MAX * i) + CPU_STATE_IDLE]);
        } else {
            inUse = cpuInfo[(CPU_STATE_MAX * i) + CPU_STATE_USER] + cpuInfo[(CPU_STATE_MAX * i) + CPU_STATE_SYSTEM] + cpuInfo[(CPU_STATE_MAX * i) + CPU_STATE_NICE];
            total = inUse + cpuInfo[(CPU_STATE_MAX * i) + CPU_STATE_IDLE];
        }

        NSLog(@"Core: %u Usage: %f",i,inUse / total);
    }
    [CPUUsageLock unlock];

    if(prevCpuInfo) {
        size_t prevCpuInfoSize = sizeof(integer_t) * numPrevCpuInfo;
        vm_deallocate(mach_task_self(), (vm_address_t)prevCpuInfo, prevCpuInfoSize);
    }

    prevCpuInfo = cpuInfo;
    numPrevCpuInfo = numCpuInfo;

    cpuInfo = NULL;
    numCpuInfo = 0U;
} else {
    NSLog(@"Error!");
    [NSApp terminate:nil];
} 
```

}

# java - 如何将 TableViewer 中的选择设置为指定的索引？

> ID：12889423
> 
> 赞同：2
> 
> 时间：2012-10-15T04:45:27.117
> 
> 标签：java, eclipse-plugin, eclipse-rcp

我有一个`TableViewer`RCP`view`应用程序。有`TableViewer`一个`List`of`objects`作为输入。是否可以`selection`使用我设置为输入的列表中对象的索引为特定对象创建一个`TableViewer`？例如，我想在每次打开应用程序时为第三个对象设置默认选择。如何设置该选择？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-10-15T10:55:27.180

找到了答案！

```
int selection = 5; //row we want to select
tableViewer.setSelection(new StructuredSelection(tableViewer.getElementAt(selection)),true); 
```

感谢[http://andy.ekiwi.de/?p=1040](http://andy.ekiwi.de/?p=1040)。

# c# - ORA-01036: 在数据源上使用插入命令时

> ID：12889425
> 
> 赞同：0
> 
> 时间：2012-10-15T04:46:07.613
> 
> 标签：c#, asp.net, datasource, ora-01036

试图在 asp.net 中设置插入语句。

我的 insertCommand 如下：

```
InsertCommand="INSERT INTO DVD VALUES (DVD_SEQ.NEXTVAL, :DVD_TITLE, :RENTAL_COST, :RATING, :COVER_IMAGE)" 
```

插入参数的代码是：

```
<InsertParameters>
    <asp:ControlParameter ControlID="titleBox" DefaultValue="TITLEDEFAULT" 
        Name="DVD_TITLE" PropertyName="Text" Type="String" />
    <asp:ControlParameter ControlID="rentalBox" DefaultValue="99" 
        Name="RENTAL_COST" PropertyName="Text" Type="String" />
    <asp:ControlParameter ControlID="ratingList" DefaultValue="25" Name="RATING" 
        PropertyName="SelectedValue" Type="Int32" />
    <asp:Parameter Name="COVER_IMAGE" Type="String" DefaultValue="0.jpg" />
    <asp:ControlParameter ControlID="genreList" Name="GENRE_ID" 
        PropertyName="SelectedValue" />
</InsertParameters> 
```

我正在插入的 OracleDB 表 (DVD) 是：

```
create table dvd
(
dvd_id integer primary key not null,
dvd_title char(100) not null,
rental_cost number(9,2) not null,
rating integer not null,
cover_image char(100),
foreign key(rating) references RATING(rating_id)
); 
```

我认为这是变量类型的潜在冲突，因为参数部分中的变量类型确实与我的表中的不同，但我尝试将它们交换为更合适的类型，但无济于事！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-15T05:18:18.603

[`ORA-01036: illegal variable name/number`](http://ora-01036.ora-code.com/)意味着您正在绑定一个不属于 SQL 查询的变量。

换句话说，您需要`GENRE_ID`从 InsertParameters （绑定参数）中删除，因为它不是 SQL 的一部分，并且错误应该消失。

# delphi - 根据数据值在firemonkey stringgrid上着色单元格背景

> ID：12889428
> 
> 赞同：9
> 
> 时间：2012-10-15T04:46:21.643
> 
> 标签：delphi, firemonkey

它可能是基本的，但我有一个*** * 的时间来查找示例代码，以根据 Firemonkey 中的数据库中的值更改字符串网格的行颜色。我有来自MDB 的数据没有问题，但需要该行是某些颜色，即'1' = 红色'2' = 绿色等。我知道我必须以某种方式访问​​样式元素'OnApplyStyleLookup'？但在什么阶段。我已经看到有关更改文本样式和颜色等的问题，但我正在为自己挖一个洞，试图找到“背景”元素并应用。任何帮助将不胜感激。干杯理查德......（Firemonkey的新手）

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2014-08-22T17:08:11.520

```
{OnDrawColumnCell event}

procedure OnDrawColumnCell(Sender: TObject;
  const Canvas: TCanvas; const Column: TColumn; const Bounds: TRectF;
  const Row: Integer; const Value: TValue; const State: TGridDrawStates);
var
  RowColor : TBrush;
begin

  RowColor := Tbrush.Create(TBrushKind.Solid,TAlphaColors.Alpha);

{you can check for values and then set the color you want}
  if Value.ToString = 'red' then
     RowColor.Color := TAlphaColors.Red;

  Canvas.FillRect(Bounds, 0, 0, [], 1, RowColor);

  { perform default drawing }
  TGrid(Sender).DefaultDrawColumnCell(Canvas, Column, Bounds, Row,
    Value, State);
end; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-10-06T10:12:32.623

这是我在 Delphi Berlin 的代码，效果很好：

```
var
  aRowColor: TBrush;
begin
  //it's better to write this line into create
  aRowColor := Tbrush.Create(TBrushKind.Solid,TAlphaColors.Alpha);
  //-----
  grid.DefaultDrawing := False;
  if (myTbl.RcrdDataCount > 0) and (Row < myTbl.RcrdDataCount) then begin
    if myTbl.RcrdDataItems[Row].State = TStateDeleted then begin
      aRowColor.Color := TAlphaColors.Red;
    end
    else begin
      aRowColor.Color := TAlphaColors.Gray;
    end;
    Canvas.FillRect(Bounds, 0, 0, [], 1, aRowColor);
    Column.DefaultDrawCell(Canvas, Bounds, Row, Value, State);
  end;
  //it's better to write this line into destroy
  aRowColor.free;
  //-----
end; 
```

# java - 线程是否开始使用“new Thread(r).start()”垃圾收集方式与其他对象相同？

> ID：12889429
> 
> 赞同：2
> 
> 时间：2012-10-15T04:46:24.590
> 
> 标签：java, multithreading, garbage-collection

为了完成一些任务，比如读取和解析一个长文件，我总是一个新线程。例如，当用户单击*显示场景 1*（这是一个首先需要解析的长文本文件）时，我从运行 GUI 的主线程启动一个新线程，如下所示：

```
Runnable r = new Runnable() {
   @Override
   public void run() {
      // do the work here
   }
};
new Thread(r,"new thread").start(); 
```

就像我在应用程序运行时启动许多线程一样。这些线程什么时候死？我想他们不会在完成工作后立即死去。是不是它们像其他对象一样被垃圾收集？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-15T05:03:21.327

JVM (GC) 对线程的处理与普通对象略有不同。

线程在活动时是 GC 根之一，即使您没有任何变量引用它。（我们不希望我们的线程在长时间运行的过程中被 GC。）

但是一旦它死掉（意味着当 run 方法完成时），它就可以进行垃圾回收了。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-15T04:54:40.347

看看[线程的生命周期](http://www.iam.ubc.ca/guides/javatut99/essential/threads/lifecycle.html)。一旦声明它将（希望）最终进入死亡状态。一旦 Thread 死了（即不是[isAlive()](http://docs.oracle.com/javase/6/docs/api/java/lang/Thread.html#isAlive%28%29)），GC 就可以启动它（当然，如果满足垃圾收集的要求）

回答您的问题：一旦线程启动并且不再存在，是的，GC 会将其视为任何其他对象。

# magento - Magento模型->保存（）不起作用

> ID：12889433
> 
> 赞同：3
> 
> 时间：2012-10-15T04:46:50.180
> 
> 标签：magento

您好，我的模型 save() 函数不起作用。Magento 缓存已关闭。我的代码如下：

```
$newInventory = Mage::getModel('reservation/newinventory');
Mage::log( get_class( $newInventory ) ); //print Apptha_Reservation_Model_Newinventory

$newInventory->setEntityId( $productId ); 
$newInventory->setRoomTypeId( $roomTypeId );
$newInventory->setRoomsCount( $roomsCount );
$newInventory->setDateFrom( $checkInStamp );
$newInventory->setDateTo( $checkOutStamp );
$newInventory->setOrderId( $orderId );

$query = $newInventory->save();

Mage::log( "save query below: " ); //I get this string
Mage::log( $query->toString() ); //return 2012-10-15T06:00:58+00:00 DEBUG (7): 17, 7, 8,
                                //1349913600, 1349913600, 300000040, 12 
```

这是我的代码\local\Apptha\Reservation\etc\config.xml

```
 <models>
        <reservation>
            <class>Apptha_Reservation_Model</class>
            <resourceModel>reservation_mysql4</resourceModel>
        </reservation>
        <reservation_mysql4>
            <class>Apptha_Reservation_Model_Mysql4</class>
            <entities>
               <newinventory>
        <table>apptha_booking_hotel_newinventory</table>
       </newinventory>
            </entities>
        </reservation_mysql4> 
</models> 
    <resources>
        <reservation_setup>
            <setup>
                <module>Apptha_Reservation</module>
                <class>Mage_Catalog_Model_Resource_Eav_Mysql4_Setup</class>
            </setup>
            <connection>
                <use>core_setup</use>
            </connection>
        </reservation_setup>
        <reservation_write>
            <connection>
                <use>core_write</use>
            </connection>
        </reservation_write>
        <reservation_read>
            <connection>
                <use>core_read</use>
            </connection>
        </reservation_read>
    </resources> 
```

我做错了什么？为什么新行没有出现在数据库中？

**更新 1**

在我的 index.php 中，我有

```
error_reporting(E_ALL ^ E_NOTICE);

//if (isset($_SERVER['MAGE_IS_DEVELOPER_MODE'])) {
Mage::setIsDeveloperMode(true);
ini_set("display_errors", 1);
//} 
```

**更新 2**

我的代码\local\Apptha\Reservation\Model\newinventory.php 下面

```
class Apptha_Reservation_Model_Newinventory extends Mage_Core_Model_Abstract{

protected function _construct(){
    $this->_init('reservation/newinventory');
}
} 
```

我的代码\local\Apptha\Reservation\Model\Mysql4\newinventory.php 下面

```
 class Apptha_Reservation_Model_Mysql4_Newinventory extends Mage_Core_Model_Mysql4_Abstract{

protected function _construct(){
    $this->_init('reservation/newinventory', 'id');
}

} 
```

所以我没有从 Magento 得到任何错误。看起来 Magento 找到了所有路径（模型、资源等）但无论如何都无法保存（）我的数据。

**更新 3** 我插入代码以将 Mysql.php 中的查询记录到公共函数查询（$sql, $bind = array())

```
 $code = 'SQL: ' . $sql . "\r\n";
if ($bind) {
    $code .= 'BIND: ' . print_r($bind, true) . "\r\n";
}
Mage::Log("[".date('Y-m-d H:i:s')."] ".$code); 
```

然后我进入日志文件：

```
2012-10-15T09:54:31+00:00 DEBUG (7): [2012-10-15 09:54:31] SQL: INSERT INTO 
`apptha_booking_hotel_newinventory` (`entity_id`, `room_type_id`, `rooms_count`, `date_from`,
`date_to`, `order_id`) VALUES (?, ?, ?, ?, ?, ?)
BIND: Array
(
[0] => 17
[1] => 7
[2] => 8
[3] => 1349913600
[4] => 1349913600
[5] => 300000040
) 
```

我尝试在 phpmyadmin 中手动执行此查询，它工作正常。但是 Magento 做不到。

**更新 4**

好的。在调试此问题时，我在控制器中编写了额外的 testModel 操作，试图测试 save() 函数。我看到了，它在那里工作。

然后我返回到原来的函数并发现当我在 if-block 之外进行 save() 然后 save() 工作正常。如果我在 if-block 中进行 save()，那么它就不起作用。

我在 if-block 中记录了一些字符串，并确保在 if-block 中执行。所以实际上质疑为什么 save() 在下面的 if-block 中不起作用：

```
 if ( $state == "complete" ){
    Mage::log('here');
        $newInventory = Mage::getModel('reservation/newinventory');
        $newInventory->setEntityId(12);
        $newInventory->setRoomTypeId(7);
        $newInventory->setRoomsCount(8);
        $newInventory->setDateFrom(1349913600);
        $newInventory->setDateTo(1349913600);
        $newInventory->setOrderId(300000040);

        $query = $newInventory->save();
    die;
   } 
```

但如果条件是

```
if ( $state === "processing" ) 
```

然后它工作正常。此代码在订单状态更改时处于观察者功能中。当管理员为产品制作“发票”时，生产者状态从“处理中”变为“完成”。因此 Magento 两次进入该函数。第一次“处理”保存（）工作正常，但“完成”它不起作用。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-15T14:24:10.363

所以问题出在一些内部 Magento 处理中。我花了1天时间来理解它。

但是现在停止并通过使用另一个观察者事件 sales_order_save_commit_after 来解决它，我检查订单状态是否已完成并使用 save() 函数。当然在这里它工作正常。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-15T07:28:40.673

我非常怀疑**$newInventory 是否**包含您的模型。您在 config.xml 中声明实体**hotel_newinventory**，但尝试加载实体**newinventory**。你可以这样检查：

```
Mage::log(get_class($newInventory)); 
```

如果我是对的并且结果不是您的模型类，请尝试更改以下行

```
return Mage::getModel('reservation/newinventory'); 
```

到

```
return Mage::getModel('reservation/hotel_newinventory'); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-08-09T08:00:50.677

您还可以使用“sales_order_place_after”（无需使用“sales_order_save_commit_after”）事件来持久化模型。

您只是无法停止执行，因为 sql 事务未在“sales_order_place_after”中完成，不会直接写入任何内容，但稍后将事务提交到数据库。

希望这可以帮助某人。

# trigger.io - 为什么forge.message.broadcast会导致`端口错误：无法建立连接。接收端不存在。在 Chrome 中？

> ID：12889434
> 
> 赞同：1
> 
> 时间：2012-10-15T04:47:18.930
> 
> 标签：trigger.io

每当我使用 forge.message.broadcast 时，我都会立即看到一堆错误：

`Port error: Could not establish connection. Receiving end does not exist.`

它似乎与打开的选项卡数量 + 打开的开发者控制台的数量直接相关。但是，没有任何堆栈跟踪，似乎无法追踪。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-15T04:47:18.930

这是正常的，查看 的定义`forge.message.broadcast`：

```
forge.message.broadcast = function (r, s, t, q) {
    chrome.windows.getAll({
        populate: true
    }, function (u) {
        u.forEach(function (v) {
            v.tabs.forEach(function (x) {
                if (x.url.indexOf("chrome-extension:") != 0) {
                    var w = chrome.tabs.connect(x.id);
                    if (t) {
                        w.onMessage.addListener(function (y) {
                            t(y)
                        })
                    }
                    w.postMessage({
                        type: r,
                        content: s
                    })
                }
            })
        })
    });
    var p = chrome.extension.connect();
    if (t) {
        p.onMessage.addListener(function (u) {
            t(u)
        })
    }
    p.postMessage({
        type: r,
        content: s
    })
} 
```

`forge.message.broadcast`将尝试向每个打开的选项卡发送消息。它只过滤掉`chrome-extension`url，因此它也会尝试向任何打开的`developer-tools`窗口发送消息。但是，如果选项卡上没有侦听器，您可能会收到“端口错误：无法建立连接。接收端不存在”。Chrome 中每个此类选项卡的错误 -**如果**您不希望它们响应 forge.message.broadcast 消息，这是预期的并且很好。

如果您确实希望他们做出回应，您必须**首先**`forge.message.listen`在相应的选项卡中使用。

# c# - 无法在 WPF 中单击按钮更新列表

> ID：12889436
> 
> 赞同：1
> 
> 时间：2012-10-15T04:47:55.847
> 
> 标签：c#, wpf, dynamic, mvvm, listbox

我是一名 C++ 开发人员，最近转向 C# WPF。我正在开发一个 WPF 应用程序，我应该在其中动态生成按钮、标签、文本框和切换按钮。我做了以下事情：

**XAMl:**

```
<ListBox x:Name="myViewChannelList" HorizontalAlignment="Stretch" Height="Auto" ItemsSource="{Binding VoltageCollection}" Margin="0" VerticalAlignment="Stretch" Width="Auto">
            <ListBox.ItemTemplate>
                <DataTemplate >
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="170"  />
                            <ColumnDefinition />
                            <ColumnDefinition  />
                            <ColumnDefinition />
                        </Grid.ColumnDefinitions>

                        <Label Grid.Column="0" Content="{Binding ChannelName}" Margin="50,20,0,0"></Label>

                        <Grid Grid.Column="1">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition />
                                <ColumnDefinition />
                            </Grid.ColumnDefinitions>
                            <TextBox Grid.Column="0" Text="{Binding VoltageText, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Height="25" Width="50" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="170,20,0,0" />
                            <Button Grid.Column="1" Content="Set" Height="25" CommandParameter="{Binding VoltageText}" Command="{Binding VoltageCommand}" Width="50" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="20,20,0,0" ></Button>
                        </Grid>

                        <Label Grid.Column="2" Content="{Binding Path=Voltage}" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="210,20,0,0" ></Label>
                        <ToggleButton Grid.Column="3" Content="On" Height="25" Width="30" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="120,20,0,0" ></ToggleButton>
                    </Grid>
                </DataTemplate>
            </ListBox.ItemTemplate>
        </ListBox>

<Button Content="Redhook" Command="{Binding RedhookCommand}" FontSize="13" Height="25" HorizontalAlignment="Center" Margin="0,0,0,0" Name="Refresh1Btn" VerticalAlignment="Center" Width="105"  /> 
```

**视图模型类：**

```
class ChannelList : INotifyPropertyChanged
{
    private ICommand m_voltageCommand;
    public ChannelList()
{
    m_voltageCommand = new DelegateVoltageCommand(x => SetCommandExecute(x));
}

public void Initialize()
{
    VoltageCollection = new ObservableCollection<VoltageModel> { new VoltageModel() { ChannelName = "VDD__Main", VoltageText = String.Empty, VoltageCommand = m_voltageCommand }, 
                                                                 new VoltageModel() { ChannelName = "VDD__IO__AUD", VoltageText = String.Empty, VoltageCommand = m_voltageCommand }, 
                                                                 new VoltageModel() { ChannelName = "VDD__CODEC__AUD", VoltageText = String.Empty, VoltageCommand = m_voltageCommand } 
                                                               }; 
}

public ObservableCollection<VoltageModel> VoltageCollection { get; set; }

/// <summary>
/// Event On Get Current Frquency Button Click
/// </summary>
private ICommand mRedhookCommand;
public ICommand RedhookCommand
{
    get
    {
        if (mRedhookCommand == null)
            mRedhookCommand = new DelegateCommand(new Action(GetCurrentFreqExecuted), new Func<bool>(GetCurrentFreqCanExecute));

        return mRedhookCommand;
    }
    set
    {
        mRedhookCommand = value;
    }
}    

public bool GetCurrentFreqCanExecute()
{
    return true;
}

public void GetCurrentFreqExecuted()
{
    VoltageCollection.Clear();
    VoltageCollection = new ObservableCollection<VoltageModel> { new VoltageModel() { ChannelName = "VDD__Main", VoltageText = String.Empty, VoltageCommand = m_voltageCommand }, 
                                                                 new VoltageModel() { ChannelName = "VDD__IO__AUD", VoltageText = String.Empty, VoltageCommand = m_voltageCommand }, 
                                                                 new VoltageModel() { ChannelName = "VDD__CODEC__AUD", VoltageText = String.Empty, VoltageCommand = m_voltageCommand },
                                                                 new VoltageModel() { ChannelName = "VDD__LDO", VoltageText = String.Empty, VoltageCommand = m_voltageCommand},
                                                                 new VoltageModel() { ChannelName = "VDD__AMP", VoltageText = String.Empty, VoltageCommand = m_voltageCommand}                                                                 
                                                               }; 
} 
```

因此，在应用程序启动时，我能够显示动态生成的控件。但是在单击`REDHOOK`按钮时，我想用我的`GetCurrentFreqExecuted()`. 当我尝试这样做时，列表会被清除但不会更新新值。我怎么能做到这一点？？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-15T05:03:18.823

嗨，在 VoltageModel 类中实现 INotifyPropertyChanged 并通知 ChannelName、VoltageText 等每个属性。我希望这个能帮上忙

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-15T05:08:14.547

问题是，当实例更改时，您的 VoltageCollection 不会通知。因此，您需要在将实例分配给 VoltageCollection 时调用 PropertyChanged。

```
 ObservableCollection<VoltageModel> _voltages;
    public ObservableCollection<VoltageModel> VoltageCollection {

     get {return voltages;}
     set 
     {
     _volgates=value;
      PropertyChanged("VoltageCollection");

     } 
```

**另一种方式，**

在您的`GetCurrentFreqExecuted()`方法中，不要将实例分配给 VoltageCollection。即，删除`VoltageCollection=new ObservableCollection<>....().`

并为每个循环添加每个项目。

现在你的代码看起来像

```
VoltageCollection.Clear();
    VoltageModel[] models = { new VoltageModel() { ChannelName = "VDD_Main", VoltageText = String.Empty, VoltageCommand = m_voltageCommand },
                              new VoltageModel() { ChannelName = "VDD_Main", VoltageText = String.Empty, VoltageCommand = m_voltageCommand },
                              new VoltageModel() { ChannelName = "VDD_Main", VoltageText = String.Empty, VoltageCommand = m_voltageCommand },
                              new VoltageModel() { ChannelName = "VDD_Main", VoltageText = String.Empty, VoltageCommand = m_voltageCommand },
                              new VoltageModel() { ChannelName = "VDD_Main", VoltageText = String.Empty, VoltageCommand = m_voltageCommand }
                            };

    foreach (var model in models)
    {
        VoltageCollection.Add(model);
    } 
```

# c# - 如何使用 c# 中的 aspx 应用程序通过 Internet 访问 USB 驱动器？

> ID：12889438
> 
> 赞同：0
> 
> 时间：2012-10-15T04:48:08.317
> 
> 标签：c#, asp.net, webforms, usb, remote-access

我必须制作一个aspx webform应用程序，当它登录到网站时检测机器的USB，并且可以从另一台也登录到网站的机器上访问usb ...这可能吗？如果是，那么我怎么能做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-15T04:52:20.110

如果可能的话，它几乎违反了我所了解的有关 Web 浏览器安全沙盒的所有内容。

关于我认为您可能能够做这样的事情的唯一方法是通过创建浏览器插件，用户可以在浏览器的基础上指定内容。

需要这种沟通的商业案例是什么？也许还有另一种方法可以做你想做的事情，这在网络浏览器安全限制范围内是可行的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-15T05:09:16.807

我以前能够使用 ActiveX 对象访问 COM 端口并通过 Caspol (http://msdn.microsoft.com/en-us/library/cb6t8dtz(v=vs.80).aspx) 在客户端计算机上对其进行授权.NET 2.0。

但是，从那时起事情已经发生了变化，这在较新版本的 .NET 中可能是不可能的。这也会让你很头疼。如果可能，请使用 WinForms。

# javascript - Javascript（学习）

> ID：12889442
> 
> 赞同：2
> 
> 时间：2012-10-15T04:49:09.670
> 
> 标签：javascript, validation

我正在从“JavaScript Bible”一书中学习javascript，但我遇到了一些困难。我试图理解这段代码：

```
function checkIt(evt) {
    evt = (evt) ? evt : window.event
    var charCode = (evt.which) ? evt.which : evt.keyCode
    if (charCode > 31 && (charCode < 48 || charCode > 57)) {
        status = "This field accept only numbers."
        return false
    }
    status = ""
    return true
} 
```

有人可以给我解释一下吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-15T04:59:51.563

### 我假设您只是想让我们解释一下代码的作用。如果是这样，请参见下文：

```
// Create a function named checkIt, which takes an argument evt.
function checkIt(evt) {

    // If the user has passed something in the argument evt, take it.
    // Else, take the window.event as evt.
    evt = (evt) ? evt : window.event;

    // Get the Character Code. It can be either from evt.which or evt.keyCode,
    // depending on the browser.
    var charCode = (evt.which) ? evt.which : evt.keyCode;

    // If the Character is not a number, the do not allow the user to type in.
    // The reason for giving 31 to 48 and greater than 57 is because, each key
    // you type has its own unique character code. From 31 to 48, are the numeric
    // keys in the keyboard.
    if (charCode > 31 && (charCode < 48 || charCode > 57)) {

        // Give a status informing the user.
        status = "This field accept only numbers.";

        // Prevent the default action of entering the character.
        return false;
    }

    // Clear the status
    status = "";

    // Allow the user to enter text.
    return true;
} 
```

### ASCII 代码参考

[![](../Images/e0c586971c67d2ac1592a5393eb4f52b.png)](https://i.stack.imgur.com/XvQDS.gif)
[（来源：[cdrummond.qc.ca](http://www.cdrummond.qc.ca/cegep/informat/professeurs/alain/images/ASCII1.GIF)）]

[![](../Images/32980fbedc2dd37d752cb222dabdddc8.png)](https://i.stack.imgur.com/VSumL.gif)
[（来源：[cdrummond.qc.ca](http://www.cdrummond.qc.ca/cegep/informat/professeurs/alain/Images/ascii2.gif)）]

***PS：****我编辑了您的代码，添加了缺少**的分号。`;`*

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-15T05:00:27.193

它基本上说：

```
evt = (evt) ? evt : window.event 
```

如果“evt”是一个值，则继续，否则将 window.event 分配给 evt。这是 if 语句的简写

```
var charCode = (evt.which) ? evt.which : evt.keyCode 
```

创建一个新变量，如果存在 evt (“which”) 的子变量，则将其分配给新创建的变量，如果不分配“evt”子变量；“关键代码”

```
if (charCode > 31 && (charCode < 48 || charCode > 57)){
            status = "This field accept only numbers."
            return false
} 
```

如果 charcode 大于 31 并且 charcode 小于 48 或大于 57，则继续。将字符串分配给 var status 并返回 false 终止函数（意味着出现问题）

```
status = ""
return true 
```

如果上述语句一切顺利，则将任何空字符串分配给“状态”并返回 true，这意味着一切顺利

# wordpress - 如何使用 Wordpress Pods CMS 中的 foreach 循环将图像转换为缩略图大小

> ID：12889444
> 
> 赞同：0
> 
> 时间：2012-10-15T04:49:27.350
> 
> 标签：wordpress, image, thumbnails, image-size, podscms

我正在使用 Wordpress Pods CMS，并且我有一个 foreach 循环来显示图像的无序列表。我想将图像变成缩略图大小（使用仪表板中的 WordPress 媒体缩略图设置）。

我的代码目前看起来像这样......

```
<ul>
<?php
foreach ($thePod->get_field('images') as $photo) {
  echo "<li><img src=\"{$photo['guid']}\" alt=\"{$name}\" /></li>";
}
?>
      <?php else:?>
      <p>no photos</p>
      <?php endif;?>
</ul> 
```

我试着把 .... "{$photo['guid'], 'thumbnail'}" 但这不起作用，我知道这通常有效...... "wp_get_attachment_image_src($image['0']['id '], '缩略图');" 当我只想显示一张图像时。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-15T05:16:24.353

试试这个：

```
foreach ($thePod->get_field('images') as $photo) {
  $thumbnail = wp_get_attachment_image_src( $photo[ID], 'thumbnail' );
  echo "<li><img src='$thumbnail[0]' alt='$name' /></li>";
} 
```

公里

# objective-c - UIAlertView 出现的时间比我预期的要晚

> ID：12889445
> 
> 赞同：0
> 
> 时间：2012-10-15T04:49:28.577
> 
> 标签：objective-c, ios5, uialertview

在下一个模式视图出现之前，我正在使用`UIAlertView`输入用户名和密码凭据，这使他可以访问他帐户中的文件。

但是，当我调试时，我知道模态视图的“ViewDidLoad”方法在 alertView 出现之前被调用，因此程序崩溃，因为视图无法获取用户名和密码。

这是代码

```
-(IBAction) openShareFile:(id)sender
{
 if (!self.shareFileBrowser) {
    self.shareFileBrowser=[[ShareFileBrowserViewController alloc]   initWithNibName:@"ShareFileBrowserViewController" bundle:nil];
    self.alertView = [[UIAlertView alloc] initWithTitle:@"Verify your Credentials" message:@"Enter  Username & Password" delegate:self cancelButtonTitle:@"Cancel" otherButtonTitles:@"OK", nil];
    self.alertView.alertViewStyle = UIAlertViewStyleLoginAndPasswordInput;
    [self.alertView show];

    self.shareFileBrowser.domain=@"fidomoose";
    self.shareFileBrowser.delegate=self;
    self.shareFileBrowser.title=@"ShareFile Browser";
    self.navController= [[UINavigationController alloc] initWithRootViewController:self.shareFileBrowser];
    if ([[UIDevice currentDevice] userInterfaceIdiom] == UIUserInterfaceIdiomPad) {
        self.popController = [[UIPopoverController alloc] initWithContentViewController:self.navController];
    }
}

if ([[UIDevice currentDevice] userInterfaceIdiom] == UIUserInterfaceIdiomPad) {
    if ([self.popController isPopoverVisible]) {
        [self.popController dismissPopoverAnimated:YES];
    } else {
        [self.popController presentPopoverFromBarButtonItem:sender permittedArrowDirections:UIPopoverArrowDirectionAny animated:YES];
    }
}
else {
    [self presentModalViewController:self.navController animated:YES];
} 
```

}

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-15T05:16:29.977

只需将您的视图初始化代码放在如下委托方法中`UIAlertView`即可

```
-(IBAction) openShareFile:(id)sender
{
    if (!self.shareFileBrowser) {

        self.alertView = [[UIAlertView alloc] initWithTitle:@"Verify your Credentials" message:@"Enter  Username & Password" delegate:self cancelButtonTitle:@"Cancel" otherButtonTitles:@"OK", nil];
        //Edit Two line inserted

        self.alertView.alertViewStyle = UIAlertViewStyleLoginAndPasswordInput;
        [self.alertView show];
    }
}

-(void)alertView:(UIAlertView *)alertView clickedButtonAtIndex:(NSInteger)buttonIndex
{
    if(buttonIndex)
    {
        self.shareFileBrowser=[[ShareFileBrowserViewController alloc]   initWithNibName:@"ShareFileBrowserViewController" bundle:nil]; 
        //Edit two line deleted

        self.shareFileBrowser.domain=@"fidomoose";
        self.shareFileBrowser.delegate=self;
        self.shareFileBrowser.title=@"ShareFile Browser";
        self.navController= [[UINavigationController alloc] initWithRootViewController:self.shareFileBrowser];
        if ([[UIDevice currentDevice] userInterfaceIdiom] == UIUserInterfaceIdiomPad) {
            self.popController = [[UIPopoverController alloc] initWithContentViewController:self.navController];
        }
        if ([[UIDevice currentDevice] userInterfaceIdiom] == UIUserInterfaceIdiomPad) {
            if ([self.popController isPopoverVisible]) {
                [self.popController dismissPopoverAnimated:YES];
            } else {
                [self.popController presentPopoverFromBarButtonItem:sender permittedArrowDirections:UIPopoverArrowDirectionAny animated:YES];
            }
        }
        else {
            [self presentModalViewController:self.navController animated:YES];
        }
    }
} 
```

编辑：1

只需使用该方法`presentPopoverFromRect:`代替`presentPopoverFromBarButtonItem:`并给出适当的`CGRect`ivar 而不是`sender`

这肯定会解决你的问题:)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-15T05:01:34.240

您应该更改您的应用程序结构，以便在调用警报视图的 DismissWithClickedButtonIndex:animated: 之前不实例化（或推送）模态视图。

# android-2.1-eclair - Android 视图层次结构如何工作

> ID：12889447
> 
> 赞同：0
> 
> 时间：2012-10-15T04:49:38.867
> 
> 标签：android-2.1-eclair

我有一个想要扩展为全屏的 WebView。用户将与它进行交互，因此它需要在扩展时保持某种状态。理想的过程是这样的：

```
- Remove WebView from its parent
- Put WebView at the top of the current View hierarchy with `FILL_PARENT` for width and height 
```

稍后，我需要把 WebView 放回去：

```
- Remove WebView from top of the hierarchy
- Restore the old hierarchy
- Put WebView back where it was with its previous setting for width and height 
```

我知道`getRootView`，但我不知道如何使用它。什么是`DecorView`？

如果有人有一些示例代码来完成我上面描述的扩展和折叠行为，我将不胜感激。谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-15T05:17:49.690

获取的根视图`DecorView`：

```
ViewGroup parentViewGroup = (ViewGroup) webView.getRootView().findViewById(android.R.id.content);
View rootview = parentViewGroup.getChildAt(0); 
```

删除该根视图：

```
parentViewGroup.removeViewAt(0); 
```

`WebView`从其父级中删除：

```
View webViewParent = (View) webView.getParent();
webViewParent.removeView(webView); 
```

将 放在`WebView`视图层次结构的顶部：

```
parentViewGroup.addView(webView, 0, new RelativeLayout.LayoutParams(RelativeLayout.LayoutParams.FILL_PARENT, RelativeLayout.LayoutParams.FILL_PARENT)); 
```

使用您的`rootview`参考来撤消扩展。

唯一的事情是：我不知道您将如何恢复`rootview`.

# c# - 在`GridViewDataTextColumn`中使用`EditItemTemplate`时，如何将Tiny MCE集成到`ASPxGridView`？

> ID：12889448
> 
> 赞同：1
> 
> 时间：2012-10-15T04:49:43.197
> 
> 标签：c#, asp.net, tinymce, devexpress, aspxgridview

`ASPxGridView`使用时如何将 Tiny MCE 集成`EditItemTemplate`到`GridViewDataTextColumn`？

我试试这个

```
 tinyMCE.init({
            // General options
            mode: "exact",
            elements: '<%=editorTxt.ClientID%>',
            theme: "advanced", .... 
```

ASPX

```
<dx:GridViewDataTextColumn FieldName="DETAIL" VisibleIndex="3" Visible="false">
   <DataItemTemplate>
     <dx:ASPxLabel ID="ASPxLabel1" runat="server" EncodeHtml="False" Text='<%#Eval("DETAIL") %>'></dx:ASPxLabel>

</DataItemTemplate>
<EditItemTemplate>
<asp:TextBox ID="editorTxt" runat="server" Text='<%# Bind("DETAIL") %>'></asp:TextBox>
</EditItemTemplate> 
```

但引发错误`CS0103: The name 'editorTxt' does not exist in the current context`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-15T05:20:32.730

在 GridView 控件中使用 TinyMCE 所见即所得编辑器在下面的链接中进行了详细说明：

[http://crushthesoul.com/using-tinymce-wysiwyg-editor-in-a-gridview-control.aspx](http://crushthesoul.com/using-tinymce-wysiwyg-editor-in-a-gridview-control.aspx)

希望这个帮助..

# jsf-2 - 如何使用带有java的itext +飞碟从xhtml页面动态生成pdf

> ID：12889449
> 
> 赞同：0
> 
> 时间：2012-10-15T04:49:51.273
> 
> 标签：jsf-2, itext, flying-saucer, xhtmlrenderer

我第一次使用 iText+flying saucer 与使用 JSF 2.0 的 xhtml 页面进行简单的注册表单，其中包含常规输入字段，如名字、姓氏、电话号码等。一旦用户输入所有数据并单击**“下一步**”按钮，我必须将此带有用户数据的 XHTML 页面转换为 pdf。如何准确获取该页面的源 HTML 以及页面中包含的所有样式并将其转换为 pdf。目前我正在这样绑定。

```
public void createPDF() {
    FacesContext facesContext = FacesContext.getCurrentInstance();
    ExternalContext externalContext = facesContext.getExternalContext();
    HttpSession session = (HttpSession) externalContext.getSession(true);
    String url = "http://localhost:8080/MyPROJECT/faces/page1.xhtml;JSESSIONID=" + session.getId();
    try {
    ITextRenderer renderer = new ITextRenderer();
    renderer.setDocument(url);
    renderer.layout();
    HttpServletResponse response = (HttpServletResponse) externalContext.getResponse();
    response.reset();
    response.setContentType("application/pdf");
    response.setHeader("Content-Disposition","C://user//first.pdf");
    OutputStream browserStream = response.getOutputStream();
    renderer.createPDF(browserStream);
    browserStream.close();
    session.invalidate();
    } catch (Exception ex) {
       ex.printStackTrace();
    }
    facesContext.responseComplete();
} 
```

但它给我抛出了这个例外。

```
ERROR:  'The string "--" is not permitted within comments.'
org.xhtmlrenderer.util.XRRuntimeException: Can't load the XML resource (using TRaX transformer). org.xml.sax.SAXParseException: The string "--" is not permitted within comments. 
```

这是使用上面的 URL 获取我的页面的正确方法吗？该 URL 是否在单击 NEXT 按钮时获取我的页面与用户数据并将其转换为 pdf 或者我是否尝试使用错误的代码。请帮助我。例子赞赏。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-15T06:06:31.133

这种异常听起来更像是您网站的 (x)html 中的问题。`<!-- some -- comments -->`你的html中有类似的东西吗？

Flying Saucer 会抛出这个异常，因为`--`注释块中有一个地方。检查一下，如果可能的话，试试不带`--`between `<!--`and `-->`。

然而，由于 FS 在 (X)HTML / XML 中的每一个小错误都会失败（如自述文件中所述），因此在处理网站之前使用 HTML Cleaner 通常是个好主意。

这里有两个例子：

*   [汤](http://jsoup.org/)
*   [HtmlCleaner](http://htmlcleaner.sourceforge.net/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T15:51:50.693

如果您对 HTML 有部分控制权并且只需要转义某些项目，您可以做的另一件事是按照[java.net 文章](http://today.java.net/pub/a/today/2006/10/31/combine-facelets-and-flying-saucer-renderer.html)中的示例通过替换它们来交换不需要的元素`ContentCaptureServletResponse`：

```
public String getContent(){
    writer.flush();
    String xhtmlContent = new String(contentBuffer.toByteArray());
    xhtmlContent = xhtmlContent.replaceAll("<thead>|</thead>","");
    return xhtmlContent; 
} 
```

# tridion - Tridion 核心服务：如何将特定版本的 TCM URI 分配给多媒体链接字段

> ID：12889450
> 
> 赞同：3
> 
> 时间：2012-10-15T04:49:54.253
> 
> 标签：tridion, tridion-2011, core-services

在为组件的多媒体链接字段分配值时，我想分配特定版本图像的 TCM URI。Tridion 内部维护带有后缀“-v”的版本和对应的版本号，例如：- 对于多媒体组件的第二个版本，我的 TCm URI 将是 tcm:pubNum-multiMediaCompoUniqueID-v2，甚至我可以用这个“-v2”打开多媒体组件通过搜索功能为 URI 添加后缀。现在假设我已经创建了 5 个版本的多媒体图像和大约 5 个版本的组件，并且对于每个版本的组件，我尝试将图像的“-v”后缀 URI 分配给组件的多媒体链接字段，然后我得到以下错误：-

“在 URI 中找到预期版本：tcm:pubNum-compoUniqueID。”

我的组件的 xml 如下所示：-

```
<imageField xmlns="uuid:e65ab5b8-babe-4146-a8e4-9b6fda694ea1" xlink:type="simple" xlink:href="tcm:pubNum-multiMediaCompoUniqueID-v1" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:title="HTML.zip"></imageField> 
```

如果我也尝试手动分配它，我也会遇到同样的错误，我也尝试转义双引号并进行了一些故障排除。

所以我的简单问题是，如果 Tridion 维护多媒体组件的所有版本，那么为什么它不允许我们分配该多媒体组件的先前/特定版本的 TCm URI。由于我正在为客户执行自动化过程，这可能是一个特殊的要求，但我的客户希望为每个版本的组件查看分配了哪个版本的 Image（多媒体组件的文件扩展名可能不同版本）和不是最近的。这可能吗？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-10-15T06:23:54.310

据我所知，没有办法分配特定版本的多媒体项目，Tridion 保留版本仅用于维护项目历史记录和跟踪不同用户的更改。

您可以使用 API/核心服务在任何自定义页面/应用程序中根据您的要求获取不同版本的 Item。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-15T07:15:27.483

没有默认方法可以做到这一点，即使您可以使用任何 API 来检索旧版本，也不推荐，因为这些旧版本**可以在**运行**“清除工具”**时删除

无论如何，使用 Tridion 版本控制系统作为长期版本控制并不是一个好习惯，如果你想保留两个版本，最好创建两个不同的组件。

# ruby - 比较数组中的内容

> ID：12889451
> 
> 赞同：1
> 
> 时间：2012-10-15T04:49:56.737
> 
> 标签：ruby, arrays

如何在 ruby​​ 中将数组中的值相互比较？

我想比较数组中的值来检查数组的最大值。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-15T04:51:34.913

你想找到最大值吗？它已经完成了。

```
[1, 5, 3].max # => 5 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-15T04:51:54.923

Ruby 数组（或任何包含 Enumerable 模块的东西）有一个[`max`方法](http://ruby-doc.org/core-1.9.3/Enumerable.html#method-i-max)：

```
a = [20, 30, 100, 2, 3]
a.max # => 100 
```

如果您想为教育目的编写自己的，您可以迭代数组，同时保留在每个点看到的最大值：

```
class Array
  def my_max
    max = nil # Default "max" to nil, since we haven't seen any values yet.
    self.each { |x| max = x if (!x || x>max) } # Update with bigger value(s).
    max # Return the max value discovered.
  end
end 
```

或者，如果您对函数式编程感兴趣，请考虑使用[Enumerable`reduce`方法](http://ruby-doc.org/core-1.9.3/Enumerable.html#method-i-reduce)，它概括了`my_max`版本中的过程并使用[三元运算符](http://en.wikipedia.org/wiki/%3F%3a)为简洁起见：

```
class Array
  def my_max2
    self.reduce(nil) { |max,x| (!max || x>max) ? x : max }
  end
end 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-15T11:28:47.983

如果您正在比较整数，那么

```
[1,3,2].max will do the work 
```

如果您要比较以字符串格式存储的整数，请尝试：

```
["1","3","2"].map(&:to_i).max 
```

它将首先将您的字符串数组转换为 int 数组，然后应用 max 方法

如果您要经常使用这种比较，我建议您将实际数组存储为 int 格式，这样实际上可以为您节省服务器一些工作时间。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-15T04:54:02.250

你可以简单地调用`max`

```
a = [1,2,3,4]
a.max # outputs 4 
```

同样对于您可以做的最小值

```
a.min # outputs 1 
```

# asp.net-mvc - MVC 3 在 MVC4 安装后停止工作

> ID：12889456
> 
> 赞同：5
> 
> 时间：2012-10-15T04:50:17.373
> 
> 标签：asp.net-mvc, asp.net-mvc-3, build

> **可能重复：**
> [MVC 4 Beta 并排安装错误](https://stackoverflow.com/questions/9471263/mvc-4-beta-side-by-side-installation-error)

我有一个 MVC3 应用程序正在进行中。我想在 MVC4 中启动另一个应用程序。但是 MVC 3 应用程序在 MVC 4 安装后停止工作（不是测试版）。得到一些 dll 冲突的错误。错误之一是这样的。

```
The type 'System.Web.Helpers.Json' exists in both 'c:\Windows\Microsoft.NET\assembly\GAC_MSIL    \System.Web.Helpers\v4.0_2.0.0.0__31bf3856ad364e35\System.Web.Helpers.dll' and 'c:\Windows    \Microsoft.NET\assembly\GAC_MSIL\System.Web.Helpers    \v4.0_1.0.0.0__31bf3856ad364e35\System.Web.Helpers.dll' `at      System.Web.Compilation.AssemblyBuilder.Compile()
   at System.Web.Compilation.BuildProvidersCompiler.PerformBuild()
   at System.Web.Compilation.BuildManager.CompileWebFile(VirtualPath virtualPath)
   at System.Web.Compilation.BuildManager.GetVPathBuildResultInternal(VirtualPath virtualPath, Boolean    noBuild, Boolean allowCrossApp, Boolean allowBuildInPrecompile, Boolean throwIfNotFound, Boolean    ensureIsUpToDate)
   at System.Web.Compilation.BuildManager.GetVPathBuildResultWithNoAssert(HttpContext context,    VirtualPath virtualPath, Boolean noBuild, Boolean allowCrossApp, Boolean allowBuildInPrecompile,    Boolean throwIfNotFound, Boolean ensureIsUpToDate)
   at System.Web.Compilation.BuildManager.GetVirtualPathObjectFactory(VirtualPath virtualPath,    HttpContext context, Boolean allowCrossApp, Boolean throwIfNotFound)
   at System.Web.Compilation.BuildManager.GetObjectFactory(String virtualPath, Boolean throwIfNotFound)
   at System.Web.Mvc.BuildManagerWrapper.System.Web.Mvc.IBuildManager.FileExists(String virtualPath)
   at System.Web.Mvc.BuildManagerViewEngine.FileExists(ControllerContext controllerContext, String   virtualPath)
   at System.Web.Mvc.VirtualPathProviderViewEngine.GetPathFromGeneralName(ControllerContext controllerContext, List`1 locations, String name, String controllerName, String areaName, String cacheKey, String[]& searchedLocations)
   at System.Web.Mvc.VirtualPathProviderViewEngine.GetPath(ControllerContext controllerContext, String[] locations, String[] areaLocations, String locationsPropertyName, String name, String controllerName, String cacheKeyPrefix, Boolean useCache, String[]& searchedLocations)
   at System.Web.Mvc.VirtualPathProviderViewEngine.FindView(ControllerContext controllerContext, String viewName, String masterName, Boolean useCache)
   at System.Web.Mvc.ViewEngineCollection.<>c__DisplayClassc.<FindView>b__b(IViewEngine e)
   at System.Web.Mvc.ViewEngineCollection.Find(Func`2 lookup, Boolean trackSearchedPaths)
   at System.Web.Mvc.ViewEngineCollection.Find(Func`2 cacheLocator, Func`2 locator)
   at System.Web.Mvc.ViewEngineCollection.FindView(ControllerContext controllerContext, String viewName, String masterName)
   at System.Web.Mvc.ViewResult.FindView(ControllerContext context)
   at System.Web.Mvc.ViewResultBase.ExecuteResult(ControllerContext context)
   at System.Web.Mvc.ControllerActionInvoker.InvokeActionResult(ControllerContext controllerContext, ActionResult actionResult)
   at System.Web.Mvc.ControllerActionInvoker.<>c__DisplayClass1c.<InvokeActionResultWithFilters>b__19()
   at System.Web.Mvc.ControllerActionInvoker.InvokeActionResultFilter(IResultFilter filter, ResultExecutingContext preContext, Func`1 continuation)
   at System.Web.Mvc.ControllerActionInvoker.<>c__DisplayClass1c.<>c__DisplayClass1e.<InvokeActionResultWithFilters>b__1b()
   at System.Web.Mvc.ControllerActionInvoker.InvokeActionResultFilter(IResultFilter filter, ResultExecutingContext preContext, Func`1 continuation)
   at System.Web.Mvc.ControllerActionInvoker.<>c__DisplayClass1c.<>c__DisplayClass1e.<InvokeActionResultWithFilters>b__1b()
   at System.Web.Mvc.ControllerActionInvoker.InvokeActionResultWithFilters(ControllerContext controllerContext, IList`1 filters, ActionResult actionResult)
   at System.Web.Mvc.ControllerActionInvoker.InvokeAction(ControllerContext controllerContext, String actionName)` 
```

有什么办法可以解决这个问题？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-10-15T05:15:33.660

我在[这里找到了解决方案](http://www.asp.net/whitepapers/mvc4-release-notes#_Toc303253815)

安装 ASP.NET MVC 4 会破坏 ASP.NET MVC 3 RTM 应用程序。使用 RTM 版本（不是使用 ASP.NET MVC 3 工具更新版本）创建的 ASP.NET MVC 3 应用程序需要进行以下更改才能与 ASP.NET MVC 4 并行工作。进行这些更新会导致编译错误。所需更新

在根 Web.config 文件中，使用键 webPages:Version 和值 1.0.0.0 添加一个新条目。

```
<appSettings>
<add key="webpages:Version" value="1.0.0.0"/>
<add key="ClientValidationEnabled" value="true"/>
<add key="UnobtrusiveJavaScriptEnabled" value="true"/>
</appSettings> 
```

在解决方案资源管理器中，右键单击项目名称，然后选择卸载项目。然后再次右键单击该名称并选择 Edit ProjectName.csproj。找到以下程序集引用：

```
<Reference Include="System.Web.WebPages"/> 
<Reference Include="System.Web.Helpers" /> 
```

将它们替换为以下内容：

```
<Reference Include="System.Web.WebPages, Version=1.0.0.0,
Culture=neutral, PublicKeyToken=31bf3856ad364e35, processorArchitecture=MSIL "/> 
<Reference Include="System.Web.Helpers, Version=1.0.0.0,
Culture=neutral, PublicKeyToken=31bf3856ad364e35, processorArchitecture=MSIL" /> 
```

保存更改，关闭您正在编辑的项目 (.csproj) 文件，然后右键单击该项目并选择重新加载。

**（您也可以在文本编辑器**中手动编辑 MVC 项目文件。右键单击 .csproj 文件并使用任何文本编辑器打开并仔细编辑 xml）

# java - 不确定我是否对链表进行了正确的递归

> ID：12889457
> 
> 赞同：1
> 
> 时间：2012-10-15T04:50:23.127
> 
> 标签：java

我试图用递归找到最长的字符串，虽然我得到了正确的答案，但我不确定我的方法是否是递归的。我的主目录中有一个链表，我需要找到最长的链表。我的字符串最大的方法是“递归”

```
import java.util.LinkedList;

public class MyLinkedList extends LinkedList<String> {
  public static String max="";

public static void main(String[] args) {
    // TODO Auto-generated method stub

    MyLinkedList myLinkedList = new MyLinkedList();
    myLinkedList.add("Sarah");
    myLinkedList.add("Barbara");
    myLinkedList.add("Tom");
    myLinkedList.add("George");
    String largest = myLinkedList.findLargestStarter();
    String largest1= largest( myLinkedList,0, 1);
    System.out.println("Largest "+largest1);
    System.out.println("max "+max);

}

public String findLargestStarter()
{
    //largest=max;
    return null;

}

public static  String largest(MyLinkedList myLinkedList, int lowerIndex, int upperIndex)
{
     if(lowerIndex == upperIndex)   //the size of the sublist                       // is 1
      max= myLinkedList.get(lowerIndex);
   else
   {
      max = largest(myLinkedList, lowerIndex + 1, upperIndex);
      if( myLinkedList.get(lowerIndex).length() >      myLinkedList.get(upperIndex).length())
          max= myLinkedList.get(lowerIndex);
      else
          max= myLinkedList.get(upperIndex);
   }
//   System.out.println(max);
     return max;
} 
```

}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-15T05:37:35.127

您可以进行一些小的改进，以使该程序更具可读性和整体性更好：

*   消除全局静态变量的使用。它应该返回答案作为返回参数的递归函数的味道和点真的很差
*   如果您想尝试正确进行递归，而不是创建自己的数据结构，请使用 java.util 包中的列表。

我整理了几行可以解决您的问题的行。方法只是每次更深时减少列表直到它为空：

```
import java.util.Arrays;
import java.util.List;

public class FindTheLongest {

    public static void main(String[] args) {
        final List<String> list = Arrays.asList(new String[] { "Sarah", "Barbara", "Tom", "George" });
        System.out.println(findLongestString(list, list.get(0)));
    }

    private static String findLongestString(List<String> list, String longestString) {
        if (!list.isEmpty())
        {
            final List<String> nextList = list.subList(1, list.size());
            final String nextLongestString = longestString.length() > list.get(0).length() ? longestString : list.get(0);
            return findLongestString(nextList, nextLongestString);
        }
        return longestString;
    }
} 
```

请让我知道你在找什么。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-15T05:18:34.500

不逐行进行，您的递归方法`largest`看起来不错：

1.  **它**从 else 块中调用自己。第一行为满意。
2.  顶部有一个终止条件（**您的 if 块**），它不会调用自己。第二行为满意。

我不明白您为什么将逻辑放在块中对`largest`方法的调用下方。`else`希望你能更好地理解这一点。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-15T05:54:42.820

我们的目标是练习递归。

我更欣赏 Yogendra Singh 的回答，因为它更具学术性。

Petro Semeniuk 的提议行之有效，但这不是问题所在。

AMHO 重用 LinkedList<T> 不是一个好的选择。

为了理解递归，触及它的内部行为，我们必须开发一个简单的链表实现，除了 java.lang 之外根本没有导入，并逐步调试它的方法。

我建议这样的课程：

```
public class StringNode // no generics, it's not the goal
{
   public StringNode next;
   public String     text;

   public StringNode( String text )
   {
      this( text, null );
   }

   public StringNode( String text, StringNode next )
   {
      this.text = text;
      this.next = next;
   }

   public String getLongest()
   {
      String nextText = (( next == null ) ? "" : this.next.getLongest());
      return ( this.text.length() > nextText.length()) ? this.text : nextText;
   }

   public static void main( String[] args )
   {
      StringNode head = null;
      for( String text : new String[] { "Sarah", "Barbara", "Tom", "George" })
      {
         head = new StringNode( text, head );
      }
      System.err.println( head.getLongest());
   }
} 
```

性能说明：new 运算符不直接在 main() 之外调用。

# mysql - Xampp 提取：写入文件 libmysql.dll 时出错

> ID：12889461
> 
> 赞同：0
> 
> 时间：2012-10-15T04:51:04.290
> 
> 标签：mysql, xampp

当我在win7中安装xampp时，总是失败。错误信息显示如下：

**Xampp 提取：写入文件 libmysql.dll 时出错**

我怎么解决这个问题？有人知道吗？我会很感激你的回答。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-17T11:06:27.827

**“error writing to file”**，该错误是由于系统盘可用空间不足造成的。

删除一些文件后，软件安装成功！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-15T05:04:12.817

由于您提供的信息有限，很难确定，但我猜您`libmysql.dll`的系统上有一个旧的。查找并删除它或将其重命名为类似的`libmysql.dll.backup`名称，然后尝试再次安装 xampp。此外，如果您还没有这样做，可能值得“以管理员身份”安装。

# spring - 自动刷新不适用于 Spring 3.1 LocalEntityManagerFactoryBean + Hibernate 4 + Websphere JTA

> ID：12889462
> 
> 赞同：0
> 
> 时间：2012-10-15T04:51:07.243
> 
> 标签：spring, hibernate, websphere, jta

我在网络和页面上进行了很多搜索，例如[this](http://forum.springsource.org/showthread.php?126363-Session-not-flushed-with-Hibernate-4-1-3-JTA-and-Spring-transaction-management-integ)和[this](https://jira.springsource.org/browse/SPR-9480)以及[this](https://jira.springsource.org/browse/SPR-9404)主要建议使用 CMTTransactionFactory。但是我仍然无法使其工作（我想知道是不是因为我使用 LocalContainerEntityManagerFactoryBean 创建 EM 而不是通过 LocalSessionFactoryBean 创建 Hibernate 会话）

我的应用服务看起来像：

```
@Transactional(propagation=Propagation.REQUIRES_NEW)
public class FooServiceImpl implements FooService {
  @Inject
  private FooRepository fooRepo;

  public void doSomething() {
    Foo foo = fooRepo.findBySomething(...);
    foo.setBar(...);
    //fooRepo.flush();     // un-comment to do manual-flushing
  }
} 
```

这是我的应用程序 ctx 中的代码段

```
<jee:jndi-lookup  id="dataSource" jndi-name="jdbc/fooDs" />

<bean id="transactionManager"
    class="org.springframework.transaction.jta.WebSphereUowTransactionManager" />

<bean id="emf" class="org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean">
    <property name="jpaVendorAdapter">
        <bean class="org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter">
            <property name="databasePlatform" value="org.hibernate.dialect.Oracle10gDialect" />
        </bean>
    </property>
    <property name="persistenceUnitName" value="foo" />
    <property name="dataSource" ref="dataSource" />
    <property name="packagesToScan" value="com.foo" />
    <!--
      <property name="persistenceXmlLocation" value="classpath:/META-INF/test-persistence.xml" />
     -->
    <property name="jpaPropertyMap">
        <map>
            <entry key="hibernate.dialect" value="org.hibernate.dialect.Oracle10gDialect" />
              <entry key="hibernate.transaction.manager_lookup_class" value="org.hibernate.transaction.WebSphereExtendedJTATransactionLookup" />
              <entry key="hibernate.transaction.factory_class" value="org.hibernate.transaction.CMTTransactionFactory"/>

            <entry key="hibernate.transaction.flush_before_completion"  value = "true" />
        </map>
    </property>
</bean> 
```

我正在使用 Spring Data JPA，在检索到实体后，我更新了内容。如果我没有手动刷新存储库（这意味着 session/entityManager），它只会丢弃我的更改。

谁能给我一些提示，说明我在设置中错过了什么？使用 LocalContainerEntityManagerFactoryBean 有什么特别需要注意的吗？

我试图将 manager_lookup_class 的 jpaProperty 条目更改为， `hibernate.transaction.jta.platform => org.hibernate.service.jta.platform.internal.WebSphereExtendedJtaPlatform`但它没有帮助。

我也尝试使用`org.hibernate.transaction.JTATransactionFactory`as `transaction factory class`，甚至删除`transaction factory class`. 这种变化似乎使 Hibernate 无法获取交易。当我手动刷新存储库时，它只是给我一个`javax.persistence.TransactionRequiredException`带有消息`no transaction is in progress`

我正在使用 Spring 3.1.2.RELEASE、JPA 和 Hibernate 4.1.6.Final、Websphere 8

有没有人使用上述组合并且有一个我可以遵循的工作配置？

* * *

编辑：我试图将 EntityManager 注入服务以避免使用 Spring Data JPA。症状是一样的：我必须显式调用 entityManager.flush() 让 Hibernate 拾取更新的实体。至少我们可以将 Spring Data 排除在外 :)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-05T07:29:03.297

我在其他论坛上提出了讨论。这是包含背后原因的链接。

[http://forum.springsource.org/showthread.php?131051-Auto-Flush-not-working-for-Spring-3-1-LocalEntityManagerFactoryBean-Hibernate-4-JTA](http://forum.springsource.org/showthread.php?131051-Auto-Flush-not-working-for-Spring-3-1-LocalEntityManagerFactoryBean-Hibernate-4-JTA)

这是由于，上述组合将设置事务类型为 RESOURCE_LOCAL 的实体管理器。这不适用于上述库版本组合（但在使用 Spring 2.5 + Hibernate 3 时有效）。

该问题的解决方法是将事务类型声明为 JTA（通过提供`persistence.xml`）。

Spring的后期版本提供了更好的解决方案，LocalEntityManagerFactoryBean提供了一个jtaDataSource属性（https://jira.springsource.org/browse/SPR-9883）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-06-26T15:55:22.127

你的问题是这个条目。

```
<entry key="hibernate.transaction.factory_class" value="org.hibernate.transaction.CMTTransactionFactory"/> 
```

删除它，事务完成后自动刷新工作。似乎添加了该条目后，您必须手动调用实体管理器刷新。

# html - rails3中的消息格式

> ID：12889463
> 
> 赞同：0
> 
> 时间：2012-10-15T04:51:22.203
> 
> 标签：html, ruby-on-rails-3, text-formatting

我想以与键入时相同的格式保存我的文本消息并以相同的格式显示它。

假设我输入：

```
Hi,
   How r u? how is your daddy?

 Thanks & regards
 Your friend 
```

但它会显示为

```
Hi, How r u? how is your daddy? Thanks & Regards Your friend 
```

在我的视图文件中，我有这样的东西：

```
<table class="display stylized" id="act_details">
       <thead>
          <tr>
                 <th>Message Details</th>

          </tr>
        </thead>
            <tbody> 
               <!--<tr>
                  <td colspan="2">Message from <strong><%= @message.from %></strong></td>
               </tr>-->
               <tr>
                 <td colspan="2"><label>Subject:</label> <%= @message.subject %></td>
               </tr>
              <!-- <tr>
                 <td colspan="2" wrap><label>Message:</label> <%= word_wrap(@message.description, :line_width => 80 ) %></td>
               </tr>-->
                <% @replies.each do |reply|%>
                  <tr>
                    <td colspan ="2" wrap><label> Sent by <%= reply.from.capitalize %> on <%= reply.created_at %> </label> <br/><%= word_wrap(reply.description, :line_width => 80)%></td>
                  </tr>
                <%end%>
        </tbody>      
</table> 
```

我正在使用导轨 3.0.6。他们是否以任何方式显示输入的消息，我确信他们是我想要的东西，但无法得到那些。任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-15T05:48:56.893

你好朋友我有一个解决方案。Rails 有一个内置方法“ [simple_format](http://api.rubyonrails.org/classes/ActionView/Helpers/TextHelper.html#method-i-simple_format) ”

它使用起来非常简单，而且效果很好。非常感谢这一点。

# java - 如何将一个字符串中包含的确切值与另一个字符串匹配

> ID：12889464
> 
> 赞同：0
> 
> 时间：2012-10-15T04:51:27.147
> 
> 标签：java, string, iterator, match

我有两个数据库表。第一个表包含具有目的地电话号码的“目的地”列，第二个表包含具有区号的“区号”。

假设：目的地号码='001891191080' 区号：001,0018,00185 等

现在的问题是目的地号码匹配 001 区号而不是 0018..

```
 for (int i = 10; i >= 0; i--) {
        try {
            String ss = destination.substring(0, i);
            Statement st = null;
            ResultSet rs = null;

            Class.forName("com.mysql.jdbc.Driver");
            Connection con = DriverManager.getConnection("jdbc:mysql://localhost:3306/asteriskcdrdb", "root", "techsoft");
            st = con.createStatement();
            rs = st.executeQuery("Select * from sp1 where areacode like '" + ss + "'");
            while (rs.next()) {
                areacode = rs.getString("AreaCode"); 
```

主席先生，根据我的需要，我正在获取目标值并从最后一个开始检查 for 循环。但是一旦它与第一个值匹配，它就会跳过并且不检查其他和确切的可能性......如何匹配确切的值有这么多的可能性......任何帮助将不胜感激......提前谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-15T04:57:31.230

```
Destination number='001891191080' Areacode :001,0018 
```

通过使用`String#subString(begin index,End index)`，您可以制作短字符串并尝试匹配两者。

您不应该在 for 循环中创建连接和语句。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-15T04:58:31.450

首先根据字符串的长度（从多到少）对“区域代码”进行排序，然后检查“目标编号”中的匹配项。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-15T05:11:30.750

首先从大字符串匹配开始，例如

```
 String destNumber = "001891191080";
   String[] areaCodes = new String[]{ "001","0018"};

   if(destNumber.indexOf(areaCodes[1])>=0){   //<- use 0018 first
     //....
   }else if(destNumber.indexOf(areaCodes[0])>=0){
     //...
   } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-15T05:36:43.960

您可以尝试使用此查询吗？

```
"Select * from sp1 where areacode like '" + ss + "%' order by areacode desc" 
```

所以那应该给你

```
00185
0018
001 
```

在结果集中，比较将返回列表中的第一个值。

# hashmap - 如何通过 Jersey webservice 框架发送 HashMap 对象？

> ID：12889470
> 
> 赞同：4
> 
> 时间：2012-10-15T04:52:30.803
> 
> 标签：hashmap, jersey

我有一个简单的 hashmap 类，我想通过 Jersey 作为 JSON 发送。有没有人有一个关于如何执行这样一个操作的例子，我试过以下

```
package de.vogella.jersey.first;
import java.util.HashMap;
import javax.ws.rs.GET;
import javax.ws.rs.Path;
import javax.ws.rs.Produces;
import javax.ws.rs.core.MediaType;
import com.sun.jersey.api.view.Viewable;

// This method is called if XML is request
@GET
@Produces({ MediaType.APPLICATION_XML,MediaType.APPLICATION_JSON })

public HashMap sayXMLHello() {

  HashMap map = new HashMap();
    map.put( new Integer( 2 ), "two" );
    map.put( new Integer( 4 ), "four" );
 return map;
 }

 // This method is called if HTML is request
@GET
@Produces(MediaType.TEXT_HTML)
public String sayHtmlHello() {
return "<html> " + "<title>" + "Hello Jersey" + "</title>"
    + "<body><h1>" + "Hello Jersey" + "</body></h1>" + "</html> ";
}
} 
```

然后是客户端

```
package de.vogella.jersey.first;

import java.net.URI;
import java.util.HashMap;
import javax.ws.rs.core.MediaType;
import javax.ws.rs.core.UriBuilder;
import com.sun.jersey.api.client.Client;
import com.sun.jersey.api.client.ClientResponse;
import com.sun.jersey.api.client.WebResource;
import com.sun.jersey.api.client.config.ClientConfig; 
import com.sun.jersey.api.client.config.DefaultClientConfig;

 public class Test {
 public static void main(String[] args) {
 ClientConfig config = new DefaultClientConfig();
 Client client = Client.create(config);
  WebResource service = client.resource(getBaseURI());
  // Calls the HashMap function       
  System.out.println( service.path("rest")
                                  .path("hello")
                                  .accept(MediaType.APPLICATION_JSON)
                                  .get(HashMap.class));

  // The HTML
   System.out.println(service.path("rest")
                                  .path("hello")
                                  .accept(MediaType.TEXT_HTML)
                                  .get(String.class));

   }

 private static URI getBaseURI() {
 return UriBuilder.fromUri("http://localhost:8080/de.vogella.jersey.first").build();
 } 

 } 
```

一旦我部署并调用客户端类，我会收到以下错误：

```
Exception in thread "main" com.sun.jersey.api.client.UniformInterfaceException: GET       http://localhost:8080/de.vogella.jersey.first/rest/hello 
returned a response status of 500 Internal Server Error
at com.sun.jersey.api.client.WebResource.handle(WebResource.java:686)
at com.sun.jersey.api.client.WebResource.access$200(WebResource.java:74)
at com.sun.jersey.api.client.WebResource$Builder.get(WebResource.java:507)
at de.vogella.jersey.first.Test.main(Test.java:25) 
```

那么关于如何使用 Jersey 将 HashMap 对象从服务器发送到客户端的任何想法？我也无法将 HashMap 对象映射到 POJO，因为没有统一的结构（一直在变化）

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-06-06T18:23:14.173

似乎是一个旧线程，回答它可能会对某人有所帮助。

首先，正如其他人所提到的，500错误很可能是由于服务器端代码有问题，与客户端无关。

要在 jersey 客户端中获取 Map 类型的 hashmap，请使用 GenericType，如下面的代码所示。

```
 ClientConfig config = new DefaultClientConfig();
 Client client = Client.create(config);
  WebResource service = client.resource(getBaseURI());
  // Calls the HashMap function       
  System.out.println( service.path("rest")
                                  .path("hello")
                                  .accept(MediaType.APPLICATION_JSON)
                                  .get(new GenericType<Map<String, String>>() {})); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-03-10T06:26:53.840

**这是通过 REST 服务发送 hashmap 数据的示例代码**

```
// CLIENT SIDE
package testHashMap;

import java.util.HashMap;

import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import javax.ws.rs.core.MediaType;

import org.codehaus.jackson.map.ObjectMapper;

import com.sun.jersey.api.client.Client;
import com.sun.jersey.api.client.ClientResponse;
import com.sun.jersey.api.client.WebResource;

public class SendHashMap extends HttpServlet{

    /**
     * 
     */
    private static final long serialVersionUID = 1L;

    public void doPost(HttpServletRequest request,HttpServletResponse response){
        HashMapAcceptModel model = new HashMapAcceptModel();
        HashMap<String, String> positionList = new HashMap<String, String>();
        positionList.put("Key1", "Value1");
        positionList.put("Key2", "Value2");
        positionList.put("Key3", "Value3");
        model.setCompleteHashMapListList(positionList);
        try {
                Client client = Client.create();
                ObjectMapper mapper = new ObjectMapper();
                String JSONData = mapper.writeValueAsString(model);
                System.out.println("JSON Object :"+JSONData);
                WebResource webResource = client.resource("http://localhost:8080/RESTServer/gtl/json/metallica/JSONHashMapData");
                ClientResponse clientResponse = webResource.type(MediaType.APPLICATION_JSON).post(ClientResponse.class, JSONData);
                System.out.println("Client Response :"+clientResponse.getEntity(String.class));         
            } catch (Exception e) {
                e.printStackTrace();
            }
    }
}

***********************************************************************************************************************************************************************
// CLIENT SIDE
package testHashMap;

import java.util.HashMap;

public class HashMapAcceptModel {

public HashMap<String, String> completeHashMapListList = new HashMap<String, String>();

    public HashMap<String, String> getCompleteHashMapListList() {
        return completeHashMapListList;
    }
    public void setCompleteHashMapListList(HashMap<String, String> completeHashMapListList) {
        this.completeHashMapListList = completeHashMapListList;
    }

    @Override
    public String toString() {
        return "HashMapAcceptModel [completeHashMapListList="
                + completeHashMapListList + "]";
    }
}

***********************************************************************************************************************************************************************
// SERVER SIDE

package testHashMap;

import java.util.HashMap;

import javax.ws.rs.Consumes;
import javax.ws.rs.POST;
import javax.ws.rs.Path;
import javax.ws.rs.core.MediaType;
import javax.ws.rs.core.Response;

@Path("/json/metallica")
public class JSONService {

    public static HashMap<String, String> positionList = new HashMap<String, String>();

    @POST
    @Path("/JSONHashMapData")
    @Consumes(MediaType.APPLICATION_JSON)
    public Response addLocationMap(HashMapAcceptModel hashmapModel){

        System.out.println("result :"+hashmapModel.getCompleteHashMapListList());
        String result = "Success";
        System.out.println("result :"+result);
        return Response.status(201).entity(result).build();
    }
}

***********************************************************************************************************************************************************************
// SERVER SIDE

package testHashMap;

import java.util.HashMap;

public class HashMapAcceptModel {

public HashMap<String, String> completeHashMapListList = new HashMap<String, String>();

    public HashMap<String, String> getCompleteHashMapListList() {
        return completeHashMapListList;
    }
    public void setCompleteHashMapListList(HashMap<String, String> completeHashMapListList) {
        this.completeHashMapListList = completeHashMapListList;
    }

    @Override
    public String toString() {
        return "HashMapAcceptModel [completeHashMapListList="
                + completeHashMapListList + "]";
    }
}

*********************************************************************************************************************************************************************** 
```

**您可能需要使用这些库文件**

![在此处输入图像描述](../Images/3da70ce385a69fb1a4b24425c721d8da.png)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-15T17:17:57.303

首先弄清楚服务器端的异常是什么。这可能比在进行全面故障排除之前发布问题更好地解释了实际问题。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-10-15T08:40:10.893

Jersey 没有为 HashMap 提供 MessageBodyWriter。您需要编写一个自定义 MessageBodyWriter。参考[这个链接](http://jersey.576304.n2.nabble.com/REST-service-returning-Map-collection-td3713545.html)

# python - 防止重复投票的更有效方法

> ID：12889477
> 
> 赞同：0
> 
> 时间：2012-10-15T04:53:34.747
> 
> 标签：python, google-app-engine, google-cloud-datastore, security, voting

已经有一些类似的问题，但我希望得到一个不同的答案。

我在 Python 中的 Google App Engine 上有一个网站，我让注册用户对帖子进行投票，无论是向上还是向下，我只希望每个用户能够投票一次。

我想到并阅读的主要方法是简单地在每个帖子中保留一个已投票用户的列表，并且只向尚未投票的用户显示投票按钮。对我来说，这似乎是一个不雅的解决方案。当数百人对数百个帖子进行投票时，要跟踪这一点需要大量信息来跟踪这样一点点的功能。

虽然我可能是错的。这和我想象的一样多的数据/数据存储写入猪吗？如果我每天有几百张选票，那不是什么大不了的事吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-15T05:14:26.587

创建一个看起来像这样的投票类型：

```
class Vote(db.Model):
    value = db.IntegerProperty() # Or whatever the vote value is. 
```

诀窍是生成投票的密钥作为用户和帖子 ID 的组合。

```
keyname = str(user.id) + "-" + str(post.id)
vote = Vote.get_or_insert(keyname, value="vote value") 
```

通过这种方式，您可以快速检查用户是否已经对给定的帖子进行了投票。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-15T05:12:11.340

您是否尝试过避免重复的 set() 变量类型？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-15T11:57:41.750

如果您对数百个帖子只有数百票，这不是大数据或读/写猪。我假设您将用户列表作为列表存储在数据存储的 post 实体中。根据您是存储指向用户的 long 还是存储他们电子邮件的字符串，您可能最多为每个用户每个帖子使用 10 个字节。如果每个帖子有 1000 张选票和 1000 个帖子，那么您将使用 10 MB。另外，它不会增加读/写的成本。如果您愿意，您可以通过不索引该值来降低该成本，并在您从数据存储中获取所需信息时对其进行搜索。

# java - JSF 2.0 中可以使用多个 EL 解析器吗？

> ID：12889489
> 
> 赞同：4
> 
> 时间：2012-10-15T04:56:09.397
> 
> 标签：java, jsf-2, el

我想了解 JSF 中的 EL 解析器。我们可以在一个项目中使用多个 EL 解析器吗？比方说，如果我使用 Spring 的`DelegatingVariableResolver`，我可以添加另一个像 Seam 的 EL 解析器`SeamELResolver`吗？

我的期望是，`DelegatingVariableResolver`当他在翻译过程中遇到错误或异常时，委托另一个 EL 解析器。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-03-31T21:38:04.230

DelegatingVariableResolver 自 Spring 3.2 起已弃用，那么是的，您可以将多个 ElResolver 声明为：

```
<application>
    <el-resolver>org.springframework.web.jsf.el.SpringBeanFacesELResolver</el-resolver>     
    <el-resolver>com.agitech.erp.bean.BeanResolver</el-resolver>    
  <locale-config>
   <default-locale>fr</default-locale>
  </locale-config>
 </application>
public class BeanResolver extends javax.el.ELResolver {
........
} 
```

如果您使用 MyFaces，您可以选择自定义解析器的订购方式

```
<context-param>
    <param-name>org.apache.myfaces.EL_RESOLVER_COMPARATOR</param-name>
    <param-value>org.apache.myfaces.el.unified.CustomLastELResolverComparator</param-value>
</context-param> 
```

# akka - 在 Akka Java 演员模型中，路由器可以使用非默认构造函数创建演员吗？

> ID：12889490
> 
> 赞同：2
> 
> 时间：2012-10-15T04:56:14.757
> 
> 标签：akka, actor, default-constructor

在 Akka Java 演员模型中，如果我有一个 RoundRobinRouter，当它的`tell()`方法被调用时，我希望路由器（作为主人）创建具有非默认构造函数的子演员，因为我需要传入一些参数。我怎样才能做到这一点？

我知道我可以使用具有非默认构造函数的参与者`Props`，但是当主参与者是路由器时如何使用它？

谢谢！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-16T07:55:55.957

Router 构造中的 props 是该路由器的 routee 的 props，而不是路由器本身。

您可以简单地执行以下操作：

```
system.actorOf(new Props(new UntypedActorFactory() {
    public UntypedActor create() {
      return new MyActor("foo", "bar");
    }
  }).withRouter(...)) 
```

并且所有路由都将是 MyActor 类型，并调用了特定的构造函数。

你可以用道具做任何你通常可以做的事情。有关更多信息，请参阅[Akka 文档](http://doc.akka.io/docs/akka/snapshot/java/untyped-actors.html#props)

# iphone - 如何将 UIImagePickerController 与基于 tabBar 的应用程序一起使用？

> ID：12889494
> 
> 赞同：3
> 
> 时间：2012-10-15T04:56:49.000
> 
> 标签：iphone, objective-c, ios, uitabbarcontroller, uiimagepickercontroller

![在此处输入图像描述](../Images/112c2883146c73be941c1d6cda274398.png)我正在制作一个基于 tabBar 和 navigationBar 的应用程序。在其中，当我单击它时，我在视图上有一个按钮，然后在 UIImagePickerControllerSourceTypePhotoLibrary 的帮助下，我打开了图像库，但 imagePicker 默认后退按钮，取消按钮未显示在视图上。就像当我使用 UIImagePickerControllerSourceTypeCamera 时，相机窗口打开但我看不到捕获图像的单击按钮，因为它会被 tabBar 隐藏。所以请帮我解决这个问题。这是图像的屏幕截图。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-15T05:56:47.917

您可以在 TabbarController 上显示图像选择器（从您的 AppDelegate 或您实现它的地方获取它）而不是像这样的视图控制器：

```
 YourAppDelegate* appDel = (YourAppDelegate*)[[UIApplication sharedApplication] delegate];

[appDel.tabBarController presentModalViewController:picker animated:YES]; 
```

注意：从**ios 6**开始， presentModalViewController:animated: 已被弃用并替换为**presentViewController:animated:completion**：

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-11-07T22:33:04.650

如果项目在故事板中，您将不会引用它（您在代码中创建的）。

相反，只需爬回视图层次结构并以这种方式获取选项卡视图控制器。

```
UITabBarController * tabBarController = (UITabBarController*)self.parentViewController;
[tabBarController presentViewController:picker animated:YES completion:^(void){

}]; 
```

但是，如果您在视图中确实出现了，您将不得不处理在解雇后重新启动的相机。（制定一些状态以防止这种情况发生或不在那里这样做。）

我知道这是一个老问题，但我认为它会帮助人们度过一段美好的时光，因为这对我有用。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2018-07-10T06:32:22.607

对我来说，这条线解决了这个问题，pickercontroller 出现在标签栏上方

选择器.modalPresentationStyle = .custom;

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-10-15T05:07:15.360

```
UIImagePickerController *picker = [[UIImagePickerController alloc] init];
        picker.delegate = self; 
        picker.sourceType = UIImagePickerControllerSourceTypeCamera;
        picker.wantsFullScreenLayout = YES;

- (void)imagePickerController:(UIImagePickerController *)picker didFinishPickingMediaWithInfo:(NSDictionary *)info{

        showImageView.image = [info objectForKey:UIImagePickerControllerOriginalImage];
        } 
```

* * *

## 回答 #5

> 赞同：-2
> 
> 时间：2012-10-15T04:59:42.793

```
 UIImagePickerController *picker = [[UIImagePickerController alloc] init];
    picker.delegate = self; 
    picker.sourceType = UIImagePickerControllerSourceTypeCamera;
    picker.wantsFullScreenLayout = YES;

    picker.showsCameraControls = YES;
     picker.navigationBarHidden = NO; 
     picker.toolbarHidden = NO;
    picker.allowsEditing=NO;

    [self presentModalViewController:picker animated:YES]; 
```

# c++ - STL Map 是否自动初始化值？

> ID：12889496
> 
> 赞同：17
> 
> 时间：2012-10-15T04:56:58.753
> 
> 标签：c++, stl, map

> **可能重复：**
> [为什么在 STL 映射中用作值的类需要在……中使用默认构造函数？](https://stackoverflow.com/questions/2346797/why-does-a-class-used-as-a-value-in-a-stl-map-need-a-default-constructor-in)

当我使用地图时，值肯定会被初始化为默认值还是我不应该依赖这个？

例如，假设我有以下代码：

```
map<string, int> myMap;
cout << myMap["Hey"]; 
```

这将使用我的编译器输出“0”。这是有保证的行为吗？这可能不会总是初始化为0吗？

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2012-10-15T05:09:35.183

标准：

> ISO/IEC 14882 §23.4.4.3
> 
> `T& operator[](const key_type& x);`
> 
> 1.  *效果：*如果地图中没有等效`x`于的键，则插入`value_type(x, T())`到地图中。
> 2.  *要求：* `key_type`应该是`CopyConstructible`和`mapped_type`应该是`DefaultConstructible`。
> 3.  *返回：*`mapped_type`对应于`x`in的引用`*this`。
> 4.  *复杂性：*对数。

因此，不仅可以保证，而且如果之前没有条目，评估`myMap["Hey"]`也会导致值 0 被*插入到映射中。*

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-10-15T05:05:12.437

它的 value 构造了一个新键的值。看看[一些文档](http://www.cplusplus.com/reference/stl/map/operator%5B%5D/)：

```
 A call to this function is equivalent to:
 insert(
    make_pair(x,T())
 ); 
```

这将转化为

```
 insert(make_pair("Key", int())); 
```

所以是的：你的价值观一开始会是零。

# ruby - 使用 Stomp Ruby 客户端在 ActiveMQ 中测试队列？

> ID：12889501
> 
> 赞同：0
> 
> 时间：2012-10-15T04:57:18.363
> 
> 标签：ruby, activemq, stomp

我正在尝试在 ActiveMQ 中测试以下场景。

1.  建立/打开与 ActiveMQ 的连接
2.  验证“Queue_name”在 ActiveMQ 中是否可用
3.  如果找到，打印“队列”中可用的实体数
4.  验证并打印来自“队列”的消息

我不关心数据是如何发布的。我已经寻找使用 stomp ruby​​ 客户端访问队列并从中读取数据的方法，但找不到明确的答案。我在网上找到的大多数示例都是用于发布和订阅事件的。

真的非常感谢解决这个问题的任何帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-15T17:54:58.300

要通过 STOMP 深入了解 ActiveMQ 代理上的目的地状态，您可以使用[StatisticsBrokerPlugin](http://activemq.apache.org/statisticsplugin.html)功能来查询目的地的统计信息。[ActiveMQ 还可以通过咨询消息](http://activemq.apache.org/advisory-message.html)发送信息，您可以使用 STOMP 客户端订阅这些信息。至于 Ruby 语法，不知道，但我希望该项目有一些可以构建的示例。

# java - 强化规则不触发

> ID：12889503
> 
> 赞同：1
> 
> 时间：2012-10-15T04:57:25.383
> 
> 标签：java, rules, fortify

我试图编写一个强化规则，它只检查一个函数并在函数出现时标记它。我使用以下代码创建了一个 java 文件：

```
class t {
public static void main(String[] args) {
System.out.println("test");
}
}

class DialogError {
int getErrorCode() {
return 10;
}} 
```

我写的强化规则的目的是检测`getErrorCode`内部的任何出现`DialogError`并标记相同的。

```
<?xml version="1.0" encoding="UTF-8"?>
<RulePack xmlns="xmlns://www.fortifysoftware.com/schema/rules">
    <RulePackID>FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF</RulePackID>
    <Name><![CDATA[my test ruleset]]></Name>
    <Version>1.0</Version>
    <Description><![CDATA[Rule to identify an instance of getErrorCode]]></Description>
    <Rules version="3.10">
        <RuleDefinitions>
            <SemanticRule formatVersion="3.10" language="java">
                <MetaInfo>
                    <Group name="Accuracy">5.0</Group>
                    <Group name="Impact">5.0</Group>
                    <Group name="RemediationEffort">5.0</Group>
                    <Group name="Probability">5.0</Group>
                </MetaInfo>
        <Label>label lololololol</Label>
                <RuleID>01239X14-ASDF-41AA-BDFA-DF134asdf79A</RuleID>
                <Notes><![CDATA[Checks if DialogError class if found yo]]></Notes>
                <VulnKingdom>Security Features</VulnKingdom>
                <VulnCategory>Function is evil</VulnCategory>
                <VulnSubcategory>Some ol category</VulnSubcategory>
                <DefaultSeverity>3.0</DefaultSeverity>
                <Description formatVersion="3.2">
                    <Abstract><![CDATA[YO FIRING YO]]></Abstract>
                    <Explanation><![CDATA[YOYOYOYOYO]]></Explanation>
                    <Recommendations><![CDATA[YOYOYOYOY]]></Recommendations>
                    <References>
                        <Reference>
                            <Title><![CDATA[YO]]></Title>
                            <Source><![CDATA[YOYOYOYOYOYO]]></Source>
                        </Reference>
                    </References>
                </Description>
                <Type>default</Type>
                <FunctionIdentifier>
                    <ClassName>
                        <Value>DialogError</Value>
                    </ClassName>
                    <FunctionName>
                        <Value>getErrorCode</Value>
                    </FunctionName>
                    <ApplyTo implements="true" overrides="true" extends="true"/>
                </FunctionIdentifier>
            </SemanticRule>
        </RuleDefinitions>
    </Rules>
</RulePack> 
```

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-15T17:54:21.223

首先，您的测试代码永远不会调用 bad 函数。这是更正后的代码。

```
class t {
public static void main(String[] args) {
System.out.println(DialogError.getErrorCode());
}
}

class DialogError {
int getErrorCode() {
return 10;
}} 
```

其次，规则定义中缺少 SKU 标签。自定义规则编辑器将在 XML 视图窗口中显示不正确的 XML。

```
<?xml version="1.0" encoding="UTF-8"?>
<RulePack xmlns="xmlns://www.fortifysoftware.com/schema/rules">
  <RulePackID>FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF</RulePackID>
  <SKU>SKU-8F66A5A4-CFDA-419B-97D8-4BF26B78EED9</SKU>
  <Name><![CDATA[my test ruleset]]></Name>
  <Version>1.0</Version>
  <Description><![CDATA[Rule to identify an instance of getErrorCode]]></Description>
  <Rules version="3.10">
    <RuleDefinitions>
      <SemanticRule formatVersion="3.10" language="java">
        <MetaInfo>
          <Group name="Accuracy">5.0</Group>
          <Group name="Impact">5.0</Group>
          <Group name="RemediationEffort">5.0</Group>
          <Group name="Probability">5.0</Group>
        </MetaInfo>
        <Label>label lololololol</Label>
        <RuleID>01239X14-ASDF-41AA-BDFA-DF134asdf79A</RuleID>
        <Notes><![CDATA[Checks if DialogError class if found yo]]></Notes>
        <VulnKingdom>Security Features</VulnKingdom>
        <VulnCategory>Function is evil</VulnCategory>
        <VulnSubcategory>Some ol category</VulnSubcategory>
        <DefaultSeverity>3.0</DefaultSeverity>
        <Description formatVersion="3.2">
          <Abstract><![CDATA[YO FIRING YO]]></Abstract>
          <Explanation><![CDATA[YOYOYOYOYO]]></Explanation>
          <Recommendations><![CDATA[YOYOYOYOY]]></Recommendations>
          <References>
            <Reference>
              <Title><![CDATA[YO]]></Title>
              <Source><![CDATA[YOYOYOYOYOYO]]></Source>
            </Reference>
          </References>
        </Description>
        <Type>default</Type>
        <FunctionIdentifier>
          <ClassName>
            <Value>DialogError</Value>
          </ClassName>
          <FunctionName>
            <Value>getErrorCode</Value>
          </FunctionName>
          <ApplyTo implements="true" overrides="true" extends="true"/>
        </FunctionIdentifier>
      </SemanticRule>
    </RuleDefinitions>
  </Rules>
</RulePack> 
```

# python-2.7 - 唯一值及其出现的字典 - Python

> ID：12889508
> 
> 赞同：0
> 
> 时间：2012-10-15T04:57:53.823
> 
> 标签：python-2.7

我被告知

> 编写一个方法 freq(a)，它返回一个字典，对于 a 中的每个唯一值 x，将 x 映射到 a 中 x 的出现次数。

这是我第一次使用字典，我尝试阅读以了解如何解决这个问题，但我不知道如何编写它..

这就是我认为我必须做的事情。 1\. 创建一个包含两个值的字典。[x:y] 2\. 评估列表。3.1 如果列表中的值不在字典中，则取值为 x:1 3.2 如果列表中的值在字典中，则取值为 y+1 4\. 返回结果

这是你将如何解决这个问题吗？我将如何编码第 3 步？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-15T05:04:57.090

不使用`collections.Counter`or `collections.defaultdict`：

```
def freq(a):
    D = {}
    for v in a:
        D[v] = D.get(v, 0) + 1
    return D 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-15T05:04:11.507

你几乎拥有它。要检查一个值是否在字典中，只需使用`in`：

```
d = {1:2, 3:4}

print 1 in d # ==> True
print 2 in d # ==> False 
```

然后，您所要做的就是使用适当地设置值`d[x] = y`。

# ruby - ruby 中的类可以使用@class_instance_variable 而不是@@class_variable 存储实例化对象的数量吗？

> ID：12889509
> 
> 赞同：5
> 
> 时间：2012-10-15T04:57:54.447
> 
> 标签：ruby, counter, instances, class-variables, class-instance-variables

我试图在定义这些对象的类中记录给定类的对象实例的计数。

首先，我知道代码反射和 ObjectSpace.each_object，但我不希望使用反射并让类本身能够“照顾”自己。

我环顾四周，我发现的所有解决方案似乎都在类定义中使用了@@class_variables，例如，这个问题的公认答案：[如何在 Ruby 中获取类实例？](https://stackoverflow.com/questions/6365638/how-to-get-class-instances-in-ruby)

不过，当我不断阅读时，我发现 ruby​​ 中的类变量在某些情况下表现得非常糟糕……最大的原因是：

> 在程序顶层定义的类变量被所有类继承。它的行为就像一个全局变量。

来源和更多信息在这里：[http ://ruby.runpaint.org/variables#class](http://ruby.runpaint.org/variables#class)

因此，我尝试编写一个类，该类使用类实例变量而不是类变量将其实例化对象的数量存储在自身内部，显然它似乎工作正常，但因为我仍在学习这种“深入”语言我想问你我写的代码是否正确和/或有意义：

```
class Pizza
  @orders = 0
  def self.new
    @orders += 1
  end
  def self.total_orders
    @orders
  end
end

new_pizza = Pizza.new #=> 1
special_pizza = Pizza.new #=> 2
fav_pizza = Pizza.new #=> 3 
```

我的一个疑问是，覆盖 Pizza.new 方法我“删除”了原始 .new 方法的一些重要功能？（原始的 .new 方法提供了什么？我如何使用反射“检查”方法代码？）我还做错了什么，或者我的方法完全错误，为什么？

谢谢

编辑：忘记添加这个重要的位：

作为一种更好地限制事物范围的方法，我希望 Pizza 类能够仅在对象实例化时进行计数，并且在其 @instance 类变量上没有 setter 方法，可以在代码中随时访问（Pizza.count = 1000）。这就是为什么我试图覆盖“新”。

我认为这是最棘手的部分，它让我问自己，我的方法是否朝着正确的方向前进，或者我是否应该停止过多依赖这些语言机制，而是给自己添加一些逻辑，让计数只有在Pizza 类已进入 ObjectSpace..

我只是在寻找更优雅、更不臃肿的方式来使用语言特性来获得它。

无论哪种情况，我们都将不胜感激..

再次感谢。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-10-15T18:31:41.000

您不需要覆盖新的。试试这个：

```
class Pizza
  @count = 0
  class << self
    attr_accessor :count
  end

  def initialize
    self.class.count += 1
  end
end

Pizza.new
Pizza.new
puts Pizza.count 
```

请注意，`Pizza.count`当比萨被垃圾收集时它不会下降，当它们被收集时它不会上升`dup`。

回答您的其他问题：我不确定您如何检查该`new`方法，但它可能是用 C 编写的，因此您应该查看 Ruby 源代码。我认为它基本上做到了这一点。

```
def new(*args, &block)
  o = allocate
  o.initialize(*args, &block)
  o
end 
```

只要您`super`在某个时候调用，您就可以摆脱覆盖 new 的问题。（不是说这是一个好主意，而是例如：

```
class Foo
  def self.new
    # do whatever stuff you want here
    super
  end
end 
```

)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-15T09:42:51.583

你说的对。使用类变量有时令人难以置信。我总是忘记是否继承等。

你的方法是对的，但是...

永远不要覆盖`new`工具`initialize`！它会在每个对象的初始化过程中被调用。在此处查看文档：http: [//apidock.com/ruby/v1_9_3_125/Class/new](http://apidock.com/ruby/v1_9_3_125/Class/new)

# java - JUNG：在同一位置加载 Graph 节点

> ID：12889513
> 
> 赞同：1
> 
> 时间：2012-10-15T04:58:39.300
> 
> 标签：java, graph, nodes, jung

我是 JUNG 的新手。我在图表中创建了节点。现在，每当我运行程序时，我都会得到具有不同位置的节点。如何每次都加载我在同一位置创建的节点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-15T16:41:01.687

有几种方法可以解决这个问题。

(1) 获取你想要的节点，然后保存位置以备后用。例如，您可以使用`PersistentLayoutImpl`（如果您想序列化整个图形），或存储某种从顶点标识符到布局位置的映射。

(2) 创建布局时指定一致的随机种子。您将通过初始化程序执行此操作；有关详细信息，请参阅`AbstractLayout`..（并非所有布局都公开此功能，您可能需要破解一个以提供您自己的初始化程序。）

(3) 使用没有任何随机元素的布局。

# javascript - 在 Django 中使用 Ajax 处理元请求

> ID：12889514
> 
> 赞同：0
> 
> 时间：2012-10-15T04:58:43.900
> 
> 标签：javascript, ajax, django, progressive-enhancement

我试图研究，但找不到在 Django 中使用 Ajax 处理 META 请求的方法。每次刷新页面都会破坏用户体验。所以如果代码是这样的：

# 模板

```
<a href="/like/?id={{ car.id }}" ># of likes: {{ car.likes }}</a> 
```

# 视图.py

```
def like_page(request):
    if 'id' in request.GET:
        id = request.GET['id']
        car = Cars.objects.get(id=id)
        car.likes += 1
        car.save()
    if 'HTTP_REFERER' in request.META:
        return HttpResponseRedirect(request.META['HTTP_REFERER'])
    return HttpResponseRedirect('/') 
```

所以模板发送对象的id，并且在视图中它增加1。每次发生这种情况。现在的问题是，如果没有 Ajax，它会在每次发生时重新加载页面。我是一名后端开发人员，所以我几乎没有使用 jQuery 和 Ajax 的经验，所以我不知道如何解决这个问题。

任何帮助，将不胜感激。谢谢 ：）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-15T05:36:40.143

做到这一点的方法是应用渐进式开发——让非 js 工作，然后在此之上使用 ajax 或您想要的任何其他客户端技术进行增强。

Django`request`有`is_ajax`( [docs](https://docs.djangoproject.com/en/dev/ref/request-response/#django.http.HttpRequest.is_ajax) ) 方法，这对于渐进式开发非常有用。这个想法是，当请求是非 ajax 时，做你之前做过的任何事情，但是如果是 ajax，则返回 like 计数器，以便 js 可以更新页面：

```
def like_page(request):
    if 'id' in request.GET:
        id = request.GET['id']
        car = Cars.objects.get(id=id)
        car.likes += 1
        car.save()

    if not request.is_ajax():
        if 'HTTP_REFERER' in request.META:
            return HttpResponseRedirect(request.META['HTTP_REFERER'])
        else:
            return HttpResponseRedirect('/')
    else:
        data = {
            'likes': car.likes
        }
        json_data = json.dumps(data)
        return HttpResponse(json_data, content_type='application/json') 
```

请注意，这会返回 json 数据。这非常有用，因为它在将来很容易扩展，以防您必须返回其他信息。

现在对于 js/jquery 的东西：

**模板**

```
<a id="car_like" href="/like/?id={{ car.id }}" >
    # of likes: 
    <span id="car_like_count">{{ car.likes }}</a>
</a> 
```

**JS**

```
$(document).ready(function () {
    $('#car_like').click(function(event) {
        event.preventDefault();
        var car_like = $(this),
            url = car_like.attr('href');
        $.getJSON(url, function(data) {
            $('#car_like_count', car_like).html(data.likes);
        });
        return false;
    });
}); 
```

这将覆盖 like 锚的默认行为，并发送 ajax 请求。Ajax 请求将为汽车返回一个新的类似计数器，js 将显示该计数器以代替旧数字。但是，如果由于某种原因不支持 js，则会发生默认操作，并且 like 锚仍然可以工作。

# apache-flex - 如何在 flex Web 应用程序中打开和写入指定文件？

> ID：12889515
> 
> 赞同：1
> 
> 时间：2012-10-15T04:58:47.410
> 
> 标签：apache-flex, file, flex4.5

在 web 应用程序中。我想在用户桌面上创建具有某些名称的文件，并且我想写入它怎么做？是否可以使用文件参考？

我尝试了 Filereference.save() 方法，但它打开了保存对话框，但我希望文件保存在给定路径中而不打开对话框。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-15T05:03:55.300

从基于浏览器的 Flash 应用程序；如果没有用户输入，您无法将文件保存到 Flex 中的用户计算机。FileREference.save() 是正确的方法，但正如您发现的那样，它会打开一个对话框供用户输入。

取决于您需要存储哪些信息；本地共享对象可能会起作用。Adobe 有一些关于使用共享对象的好文档：

*   [https://learn.adobe.com/wiki/display/Flex/Shared+Objects](https://learn.adobe.com/wiki/display/Flex/Shared+Objects)
*   [http://livedocs.adobe.com/flex/3/html/help.html?content=lsos_5.html](http://livedocs.adobe.com/flex/3/html/help.html?content=lsos_5.html)
*   [http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/net/SharedObject.html](http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/net/SharedObject.html)
*   [http://livedocs.adobe.com/flex/3/html/help.html?content=lsos_2.html](http://livedocs.adobe.com/flex/3/html/help.html?content=lsos_2.html)

# sql-server - 将数据直接从 Excel 工作表导入 SQL Server 表

> ID：12889518
> 
> 赞同：0
> 
> 时间：2012-10-15T04:59:38.427
> 
> 标签：sql-server, sql-server-2008, excel, c#-4.0, import-from-excel

我在单个 Excel 工作表中有多个表的数据，列名准确，现在我想将该数据插入到我的 SQL Server 2008 表中。

例如：我有一张表`Student`，其中有 columns `Stud_ID, Stud_Name, Branch, Status`。

同样，我有一张 Excel 表格`Student`，其中有列`Stud_ID, Stud_Name, Branch, Status`。Excel工作表中有多条数据记录。

现在我想将该数据插入到 SQL Server 表中`Student`。

如何使用 C# 编码而不使用编码（直接从 Excel 到 SQL Server 数据库）来做到这一点？请指导我它的紧急情况。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-15T05:05:48.417

检查[在 ASP 中使用 C# 将数据从 excel 导入到 SQL 服务器。NET](http://www.codeproject.com/Tips/300639/Import-Data-from-excel-to-SQL-server-using-Csharp)使用 C# 做同样的事情

检查[如何使用集成服务将 Excel 文件导入 SQL Server 2005 以](http://www.techrepublic.com/blog/datacenter/how-to-import-an-excel-file-into-sql-server-2005-using-integration-services/205)将 Excel 数据直接导入 Sql Server。

# android - 在android中校准相机

> ID：12889520
> 
> 赞同：4
> 
> 时间：2012-10-15T04:59:46.930
> 
> 标签：android, camera-calibration

1.有没有办法在android中获取相机的校准矩阵（仅使用Android API）？

2.我可以从API找到焦距和视角。这些足以计算相机矩阵吗？

# c# - 如何在查询完成之前按顺序开始处理并行查询的结果？

> ID：12889522
> 
> 赞同：5
> 
> 时间：2012-10-15T04:59:52.530
> 
> 标签：c#, .net, .net-4.0, plinq

我有一组字符串，我需要对其执行两个操作。

其中第一个可以安全地以任何顺序独立处理（耶），但输出必须按原始顺序顺序处理（boo）。

以下 Plinq 让我大部分时间到达那里：

```
myStrings.AsParallel().AsOrdered()
         .Select( str => Operation1(str) )
         .AsSequential()
         .Select( str => Operation2(str) );
//immagine Operation2() maintains some sort of state and must take the outputs from Operation1 in the original order 
```

这让我很顺利，但问题是由于 AsOrdered()，Operation1 首先在每个字符串上执行，然后将结果元素排序回原来的顺序，最后 Operation2 开始执行。

理想情况下，只要 Operation1 调用返回第一个字符串（即 myStrings[0]，而不是返回的第一个），我希望 Operation2 开始它的工作。

所以这是我尝试一般地解决这个问题：

```
public static class ParallelHelper
{
    public static IEnumerable<U> SelectAsOrdered<T, U>(this ParallelQuery<T> query, Func<T, U> func)
    {
        var completedTasks = new Dictionary<int, U>();
        var queryWithIndexes = query.Select((x, y) => new { Input = x, Index = y })
                                    .AsParallel()
                                    .Select(t => new { Value = func(t.Input), Index = t.Index })
                                    .WithMergeOptions(ParallelMergeOptions.NotBuffered);

        int i = 0;
        foreach (var task in queryWithIndexes)
        {
            if (i==task.Index)
            {
                Console.WriteLine("immediately yielding task: {0}", i);
                i++;
                yield return task.Value;

                U previouslyCompletedTask;
                while (completedTasks.TryGetValue(i, out previouslyCompletedTask))
                {
                    completedTasks.Remove(i);
                    Console.WriteLine("delayed yielding task: {0}", i);
                    yield return previouslyCompletedTask;
                    i++;
                }
            }
            else
            {
                completedTasks.Add(task.Index, task.Value);
            }
        }
        yield break;
    }
} 
```

然后我可以将我的原始代码块重写为：

```
myStrings.AsParallel()
         .SelectAsOrdered( str => Operation1(str) )
         .Select(str => Operation2(str)); 
```

一旦 myStrings[0] 从 Operation1 出来，Operation2 就会启动。

我想知道的是：

1.  这是并行化中相当常见的问题/模式，我是否错过了在 .Net 框架中开箱即用的东西？或者有没有更简单的方法？
2.  虽然上述扩展方法似乎可以完成这项工作，但如何改进呢？代码中的任何内容看起来都是个坏主意吗？

谢谢！

安迪

以防万一您感兴趣：

*   如果没有对 .WithMergeOptions(ParallelMergeOptions.NotBuffered) 的调用，Operation2 直到所有 Operation1 调用都开始后才开始工作（这比等到它们全部完成的原始代码要好）。

*   现实生活中的问题：
    Operation1 正在大量文本（例如：“children act 1989”）中搜索合法引用和参考。
    这些参考文献通常是独立的，但有时抄本会包含类似“前面提到的法案的第 6 节”之类的内容。Operation2 依靠来自 Operation1 的捕获来获取这些部分引用。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-23T09:42:57.197

如果您需要速度，您可以并行化所有流程（加载数据、准备数据、处理数据和聚合数据），我认为最好使用生产者/消费者模式。

但是，如果您使用“Linq”，则无法并行生成（以一种很好的方式执行完整的并行工作流程）数据（但是可以：准备、处理和恢复）。

另一方面，我认为尝试使用“Linq”作为“并行（A）+顺序（B）”是错误的（你可以，是的），你的过程（我认为）是

```
B = f(A) 
```

那么，B必须等待A。

为什么不简单地“并行（A/B）”呢？

你可以做一个助手（扩展），但我认为它一般没有用。

在您的实际情况下，只需使用 a`Semaphore`来防止过早访问“文章 ID”。

并行准备、处理和恢复（无生成）的完整代码是：

```
class Text {
    public static Regex rx = new Regex(@" (PREVID|ACTID\=([0-9]+)) ");

    private Text prv; // previous article
    private string ot; // original text
    private int id; // act id on text
    private Semaphore isComputed = new Semaphore(0, 1);

    public int ActID {
        get {
            isComputed.WaitOne();
            int _id = id;
            isComputed.Release();
            return _id;
        }
    }

    public bool ProcessText() {
        var mx = rx.Match(ot);
        var prev = mx.Groups [1].Value == "PREVID";
        if(prev)
            id = prv == null ? 0 : prv.ActID;
        else
            if(!int.TryParse(mx.Groups [2].Value, out id))
                throw new Exception(string.Format(@"Incorrect article id ""{0}""", mx.Groups [0].Value));
        isComputed.Release();
        return !prev;
    }

    public Text(string original_text, Text previous) {
        prv = previous;
        ot = original_text;
    }

}

public static void Main(String [] args) {

    // same random stream (for debugging)
    var rnd = new Random(1);

    var noise = @"These references are usually independent, but occasionally";

    // some noise text
    var bit = new Func<string>(() =>
        noise.Substring(0, rnd.Next(noise.Length)));

    // random article
    var text = new Func<string>(() =>
        string.Format(@"{0}{1}{2}", bit(),
            rnd.Next() % 2 == 0 ? " PREVID "
                                : string.Format(@" ACTID={0} ", rnd.Next()), bit()));

    // random data input
    var data = new List<Text>();
    Text prv = null;
    for(var n = 0; n < 1000000; n++)
        // producer / consumer is better to parallelize load data step
        data.Add(prv = new Text(text(), prv));

    Console.Write("Press key to start...");
    Console.ReadKey();

    // parallel processing
    Console.WriteLine("{0} unique ID's", data.AsParallel().Where(n => n.ProcessText()).Count());

    Console.WriteLine("Process completed.");
} 
```

如您所见，`ProcessText`并行处理所有文章。只有 PREVID 文章会等到其上一篇文章计算自己的 id。

抽象这种行为的真正问题（我认为）是项目关系（一个项目依赖于另一个项目），在 Linq 中，自然的方式是“无项目关系”（您必须使用“分组依据”来执行它）。

我建议你使用生产者/消费者模式。

# android - Android按钮不缩放

> ID：12889525
> 
> 赞同：2
> 
> 时间：2012-10-15T05:00:35.940
> 
> 标签：android, android-layout, android-xml, android-button

这似乎是一个非常基本的问题，但我似乎无法弄清楚。我已经阅读了大量有关如何使 android 可扩展到大屏幕和小屏幕的内容。

我有一个专为平板电脑设计的应用程序，在那里运行良好。但是，当我在使用移动（电话）版本时，我想确保如果有人在电话上打开它，它至少看起来“还不错”。

除了按钮之外，每个人的缩放都很棒......我似乎无法让按钮缩放。

它们在 Tab 上看起来很棒……但在手机上，它们占据了整个屏幕。

感谢您的帮助。

这是代码：

主.xml

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/main_landscape"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:background="@drawable/main_menu_plus_landscape"
    android:orientation="vertical" >

    <Button
        android:id="@+id/button_list"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentRight="true"
        android:layout_marginRight="38dp"
        android:layout_marginTop="200dp"
        android:background="@layout/button_main_selector"
        android:padding="40dp"
        android:text="@string/main_start_list"
        android:textColor="@color/white"
        android:textSize="30dp"
        android:typeface="sans"/>

    <Button
        android:id="@+id/button_emulator"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_above="@+id/adview"
        android:layout_alignLeft="@+id/button_list"
        android:layout_alignRight="@+id/button_list"
        android:layout_marginBottom="168dp"
        android:background="@layout/button_main_selector"
        android:padding="40dp"
        android:text="@string/main_start_emulator"
        android:textColor="@color/white"
        android:textSize="30dp"
        android:typeface="sans" />

</RelativeLayout> 
```

布局/button_main_selector.xml

```
<?xml version="1.0" encoding="utf-8"?>
<selector xmlns:android="http://schemas.android.com/apk/res/android">
<!-- Button Focused-->
    <item   android:state_focused="true"
            android:state_pressed="false"
            android:drawable="@drawable/main_buttons_selected"
            />
<!-- Button Focused Pressed-->
    <item   android:state_focused="true"
            android:state_pressed="true"
             android:drawable="@drawable/main_buttons_selected"
            />
<!-- Button Pressed-->
    <item   android:state_focused="false"
            android:state_pressed="true"
            android:drawable="@drawable/main_buttons_selected"
            />
<!-- Button Default Image-->
    <item   android:drawable="@drawable/main_buttons"/>

</selector> 
```

可绘制-hdpi/main_buttons.xml

```
<?xml version="1.0" encoding="utf-8"?>
<shape xmlns:android="http://schemas.android.com/apk/res/android"
android:shape="rectangle" android:padding="10dp">
 <solid android:color="#71bbe3"/> 
    <corners
     android:bottomRightRadius="10dp"
     android:bottomLeftRadius="10dp"
      android:topLeftRadius="10dp"
      android:topRightRadius="10dp"/>
</shape> 
```

我还尝试将我的按钮文件放入“可绘制”中，但这似乎没有帮助。有什么建议么？（**注意：**我的按钮只是纯色，没有图像）

```
res/drawable/main_buttons.xml

res/drawable/main_buttons_selected.xml

res/drawable/button_main_selector.xml 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-15T05:07:35.663

你可以参考：

[Android：按钮图像可缩放以适应其他屏幕尺寸？](https://stackoverflow.com/questions/9400587/android-button-image-drawable-scalable-for-other-screen-sizes)

[http://www.pixate.com/blog/2012/06/30/android/](http://www.pixate.com/blog/2012/06/30/android/)

[http://www.netmagazine.com/tutorials/user-interface-design-android-apps](http://www.netmagazine.com/tutorials/user-interface-design-android-apps)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-15T05:08:12.317

根据您提供的信息，我预测问题是，您只在 Hdpi 中提供了按钮。因此，当您在手机中运行应用程序时，按钮取自 hdpi，这会使手机看起来很奇怪。这可以通过在drawable或ldpi中给出按钮来解决。它将适合电话屏幕。这可能是您的问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-15T05:10:59.470

你只需要把你的两个xml都放进去`drawable`

`drawable`通过在项目的 res 中创建一个名为的文件夹

```
res/drawable/main_buttons.xml

res/drawable/button_main_selector.xml 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-15T05:21:05.680

我看过你的代码，首先我会告诉你，你应该发布你想要什么样的视图的图片，其次是你给出的

`android:layout_marginRight="38dp"`

`android:layout_marginTop="200dp"`

在你的第一个按钮代码中，&在你的第二个按钮中，你已经给了这样的边距

`android:layout_marginBottom="168dp"`

其他一切都取决于您要实现哪种设计的布局。

我对你的建议是永远不要特别从左到右的方向给出边距。因为例如，如果你从左边到 50px 的边距在普通设备中看起来还不错，而在高分辨率设备中看起来不太好，因为它在任何分辨率下都需要 50px device.instead 使用这种语法 android:alignParentLeft=true 并且总是习惯在你的相对布局中使用这种语法。使用这种语法，您的元素将始终位于您想要的位置..goto android 开发者网站并检查线性布局和相对布局之间有什么区别，以及线性和相对布局的不同属性是什么，研究所有属性，例如 的含义`fill_parent`，`wrap_content`&`match_parent`超过 100% 你会得到解决方案。如果你有任何查询而不是加入我在这里[https://chat.stackoverflow.com/rooms/13436/smart-phones-developer](https://chat.stackoverflow.com/rooms/13436/smart-phones-developer)你可以在这里问我你的问题。我会建议你发布你的图片

谢谢阿米尔汗我。

# actionscript-3 - 在调用另一个之前等待函数/补间完成

> ID：12889526
> 
> 赞同：0
> 
> 时间：2012-10-15T05:00:46.613
> 
> 标签：actionscript-3, flash

我正在用闪存写一张电子贺卡，我想在用户按下按钮后对一系列动画进行排序。第一个是在 MovieClip displayScreen_mc 的第 2-60 行播放的补间形状。第二个是我编写的名为 TypeWriter 的单独类中的一个函数，它在 TLFTextField 上一次写入一个字母。（该代码运行良好。）

问题：我想遍历一个字符串数组。在每次迭代中，我想 gotoAndPlay，然后使用 TypeWriter 写出字符串。我的代码如下：

```
var greetings:Array = new Array( "string 1, string2, string3, etc " );

//Onclick functiont to start sequence of events..
function displayInvitation(event:MouseEvent):void
{
    var tw = new TypeWriter();
    var index:int = 0;
    while ( index < greetings.length )
    {
        displayStatic(); 
        tw.writeText(greetings[index], 100, displayScreen_mc.displayText);
        index++;
    }
}

function displayStatic():void
{
    displayScreen_mc.gotoAndPlay(2);
} 
```

这些都写在我舞台上的Actions层的actionscript中。TypeWriter 是一个包含 writeText 函数的单独类。我希望 displayStatic 在调用 tw.textWrite 之前完成。我想将 gotoAndPlay 保留在一个函数中，因为将来我可能想在那里添加一些东西。

我一直在尝试使用 addEventListener 在调用第二个函数之前等待第一个函数完成。有人有解决方案吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-15T05:37:00.153

似乎您需要在代码中引入一个 ENTER_FRAME 侦听器并测试某些条件以在继续之前完成。我不确定该示例是否会完全按照您的意愿进行（很难说出其他参与者在做什么），并且我尚未对其进行测试，但它可能会给您一些想法。

例如。

```
var greetings = [ "..." ];
var index:int;
var tw:TypeWriter;

function displayInvitation(event:MouseEvent):void
{
    index = 0;
    tw = new TypeWriter();
    addEventListener( Event.ENTER_FRAME, onProcessEnterFrame );
}

function onProcessEnterFrame(e:Event):void
{
    if( index < greetings.length )
    {
        if( displayScreen_mc.currentFrame == displayScreen_mc.totalFrames )
        {
            displayStatic();
            tw.writeText(greetings[index], 100, displayScreen_mc.displayText);
            index++;
        }
    }
    else
    {
         removeEventListener( Event.ENTER_FRAME, onProcessEnterFrame );
         // greetings displayed
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-15T06:18:13.473

在 displayScreen_mc tween 的最后一帧，调度一个事件，例如“animationEnd”并监听该事件以启动你的 textWrite 函数。在代码中：

最后一帧的 displayScreen_mc 内部：

```
dispatchEvent(new Event("animationEnd")); 
```

在您的主要舞台上：

```
displayScreen_mc.addEventListener("animationEnd", writeText);
function writeText(e:Event):void{
    tw.textWrite(/*arguments*/);
} 
```

# javascript - 以编程方式预选下拉菜单

> ID：12889530
> 
> 赞同：0
> 
> 时间：2012-10-15T05:01:45.683
> 
> 标签：javascript, jquery, html, drop-down-menu

我正在尝试根据服务器端的字符串预先选择一个下拉选项。例如，我有以下选项：

```
<select name="postsport">
    <option value="choose">Choose a sport</option>
    <option value="general sea">--general sea--</option>
    <option value="sailing">sailing</option>
    <option value="diving">diving</option>
    <option value="sailing">surfing</option>
    <option value="kiteboarding">kite boarding</option>
    <option value="kayaking">kayaking</option>
    <option value="general land">--general land--</option>
    <option value="rockclimbing">rock climbing</option>
    <option value="hiking">hiking</option>
</select> 
```

在服务器端，我知道预先选择的选项是“航行”，有没有办法使用 javascript 或 jquery 或其他方法来预先选择这个选项并放在前面？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-15T05:05:05.853

如果你想通过 js 来做：

```
$('option[value=sailing]').attr('selected','selected') 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-16T15:41:45.850

当你生成 HTML 时，刚刚修改了默认选项说

```
<option value="sailing" selected="selected">sailing</option> 
```

其他一切保持原样。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-15T05:04:34.800

用这个

```
<?php  if($selected){ 
 echo "<option value=\"choose\" selected=\"selected\">Choose a sport</option>";}
?> 
```

# javascript - 使用 google-drive-api 将文件插入特定文件夹

> ID：12889532
> 
> 赞同：12
> 
> 时间：2012-10-15T05:01:51.167
> 
> 标签：javascript, google-drive-api

我尝试如下。但该文件将进入根目录（我的驱动器）。

```
var metadata = {
  'title': fileData.fileName,
  'mimeType': contentType,
  'parents':["0B6NmmF3ovpsbExuOEc1R2JzSFEp"] // It is one of my folder's id.
};

var base64Data = btoa(reader.result);
var multipartRequestBody =
    delimiter +
    'Content-Type: application/json\r\n\r\n' +
    JSON.stringify(metadata) +
    delimiter +
    'Content-Type: ' + contentType + '\r\n' +
    'Content-Transfer-Encoding: base64\r\n' +
    '\r\n' +
    base64Data +
    close_delim;

var request = gapi.client.request({
    'path': '/upload/drive/v2/files',
    'method': 'POST',
    'params': {'uploadType': 'multipart'},
    'headers': {
      'Content-Type': 'multipart/mixed; boundary="' + boundary + '"'
    },
    'body': multipartRequestBody});

 request.execute(callback); 
```

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2012-10-15T05:31:52.377

我解决了这个问题。

错误在这一行：

```
'parents':["0B6NmmF3ovpsbExuOEc1R2JzSFEp"] 
```

该行应该是：

```
'parents':[{"id":"0B6NmmF3ovpsbExuOEc1R2JzSFEp"}] 
```

文档可以在[https://developers.google.com/drive/web/folder找到](https://developers.google.com/drive/web/folder)

# objective-c - OS X 中窗口之间的转换

> ID：12889534
> 
> 赞同：2
> 
> 时间：2012-10-15T05:02:18.437
> 
> 标签：objective-c, macos, transition, nswindowcontroller, nsviewcontroller

我将制作一个带有多个视图和窗口的 OS X 应用程序。

它有几个屏幕——启动画面、登录/注册和主屏幕（等等）。

我尝试使用 NSWindowControllers。但是，它使用起来非常复杂，我很困惑。

视图/窗口转换的最佳体验是什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-15T09:26:38.377

我使用的主要模式如下：

*   创建一个`New File` `User Interface` `Window`并将其另存为`nameYouLike`
*   创建一个`New File` `Cocoa` `Objective-C class`子`NSWindowController`类并保存为`nameYouLikeDelegate`
*   转到 nameYouLike NSWindow 并将其更改`File's Owner` `Class`为`nameYouLikeDelegate`
*   使用to连接`window`和需要 xib 的其他对象`IBOutlet``nameYouLikeDelegate.h`
*   在一些 init/show 方法中这样做：

    ```
    - (void)showWindow {
        if (!self.window) {
            [NSBundle loadNibNamed:@"nameYouLike" owner:self];
        }

        [self.window makeKeyAndOrderFront:self];
    } 
    ```

*   以某种方式保存参考（fe 在`AppDelegate`或`NSWindowController`另一个窗口中）：

    ```
    nameYouLikeDelegate *fNameYouLikeDelegate; 
    ```

*   现在，当您需要创建您的窗口时，您可以使用：

    ```
    fNameYouLikeDelegate = [[nameYouLikeDelegate alloc] init]; 
    ```

*   并展示它：

    ```
    [fNameYouLikeDelegate showWindow]; 
    ```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-15T07:58:02.983

你想如何过渡？在您的情况下，可能没有必要在窗口之间进行转换。最好制作一个 NSViewController 并在窗口的子视图之间进行转换。您应该查看 Cocoa 的基础知识。

然后，您可以使用视图的 animator 属性。

```
[[self.view animator] setAlphaValue:0.0]; 
```

# oop - 类属性是否算作类图上的属性或方法？

> ID：12889536
> 
> 赞同：1
> 
> 时间：2012-10-15T05:03:02.117
> 
> 标签：oop, uml, class-diagram

这里的例子：

```
Public Class myclass
 Private one As Integer
 Public Property myproperty() As myproperty
    Get
        Return one
    End Get
    Set(ByVal value As myproperty)
        one= value
    End Set
 End Property
End Class 
```

我知道 myclass 是类，一个是属性，但是 myproperty 呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-15T07:56:54.910

我会说“一个”只是一个实现细节，不应该出现在 UML 中。您只需拥有一个带有 UML 属性（您命名的属性）“myproperty”的 UML 类“myclass”。

# javascript - 如何从 ASP.NET 网站从客户端计算机的 USB 访问文本文件

> ID：12889542
> 
> 赞同：3
> 
> 时间：2012-10-15T05:03:35.913
> 
> 标签：javascript, c#-4.0, activex

嗨，我正在尝试实现一个额外的安全选项，而不仅仅是密码。要登录客户端，必须插入包含带有我们提供的密钥的文本文件的笔式驱动器。为了做到这一点，我需要找到文件并读取文件。是否有任何方法可以使用 C# 代码或 Java 脚本访问文件。或者我必须使用主动 X 控件吗？任何人都可以做到这一点......

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-15T06:18:09.217

不，没有简单的方法可以做到这一点，它甚至不是一个很好的安全机制——如果一个站点可以从你的笔式驱动器中读取文件，那么另一个站点很可能能够做同样的事情，窃取秘密文件的内容并破坏您的安全。

更好的方法可能是实施[基于时间的一次性密码 (TOTP)](http://en.wikipedia.org/wiki/Time-based_One-time_Password_Algorithm)方案，类似于 Google 和其他各种网站所做的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-15T05:54:05.097

您可以使用 HTML 5 文件读取 api，然后将文本发送到服务器进行验证。这是一个[教程](http://www.html5rocks.com/en/tutorials/file/dndfiles/)

# jquery - How to Set Selected value in Multi-Value Select in Jquery-Select2.?

> ID：12889552
> 
> 赞同：65
> 
> 时间：2012-10-15T05:04:28.527
> 
> 标签：jquery, ajax, jquery-select2

I am binding my dropdown with `Jquery-Select2`. It's working fine but now I need to bind my Multi-Value `selectBox` by using `Jquery-Select2`.

My DropDown

```
<div class="divright">
  <select
    id="drp_Books_Ill_Illustrations"
    class="leaderMultiSelctdropdown Books_Illustrations"
    name="drp_Books_Ill_Illustrations"
    multiple=""
  >
    <option value=" ">No illustrations</option>
    <option value="a">Illustrations</option>
    <option value="b">Maps</option>
    <option value="c">Portraits</option>
  </select>
</div> 
```

From this link [http://ivaynberg.github.com/select2/](http://ivaynberg.github.com/select2/) I am using Multiple Value Select Box, I can bind my dropdown with

```
$("dropdownid").Select2() 
```

Its working fine, but now I need to get that selected value into my dropdown on edit mode So I am using this example:

```
$(".Books_Illustrations").select2("val", ["a", "c"]); 
```

It's working but how can I fix my choice, because user can choose anything. So I can't write a,c statically that's why I need to bind my Selected value on Edit mode dynamically.

I think now you all are clear with my requirements. Please let me know if you need further clearance.

* * *

## 回答 #1

> 赞同：67
> 
> 时间：2012-10-24T15:10:10.347

Well actually your only need $.each to get all values, it will help you [jsfiddle.net/NdQbw/5](http://jsfiddle.net/NdQbw/5)

```
<div class="divright">
            <select id="drp_Books_Ill_Illustrations" class="leaderMultiSelctdropdown Books_Illustrations" name="drp_Books_Ill_Illustrations" multiple="">
                <option value=" ">No illustrations</option>
                <option value="a" selected>Illustrations</option>
                <option value="b">Maps</option>
                <option value="c" selected>selectedPortraits</option>
            </select>
    </div>

<div class="divright">
        <select id="drp_Books_Ill_Illustrations1" class=" Books_Illustrations" name="drp_Books_Ill_Illustrations" multiple="">
            <option value=" ">No illustrations</option>
            <option value="a">Illustrations</option>
            <option value="b">Maps</option>
            <option value="c">selectedPortraits</option>
        </select>
</div>

<button class="getValue">Get Value</button>
<button  class="setValue"> Set  value </button>

<div class="divright">
        <select id="drp_Books_Ill_Illustrations2" class="leaderMultiSelctdropdown Books_Illustrations" name="drp_Books_Ill_Illustrations" multiple="">
            <option value=" ">No illustrations</option>
            <option value="a" selected>Illustrations</option>
            <option value="b">Maps</option>
            <option value="c" selected>selectedPortraits</option>
        </select>
</div>

<div class="divright">
        <select id="drp_Books_Ill_Illustrations3" class=" Books_Illustrations" name="drp_Books_Ill_Illustrations" multiple="">
            <option value=" ">No illustrations</option>
            <option value="a">Illustrations</option>
            <option value="b">Maps</option>
            <option value="c">selectedPortraits</option>
        </select>
</div>

<button class="getValue1">Get Value</button>
<button  class="setValue1"> Set  value </button> 
```

The script:

```
 var selectedValues = new Array();
    selectedValues[0] = "a";
    selectedValues[1] = "c";

$(".getValue").click(function() {
    alert($(".leaderMultiSelctdropdown").val());
});
$(".setValue").click(function() {
   $(".Books_Illustrations").val(selectedValues);
});

$('#drp_Books_Ill_Illustrations2, #drp_Books_Ill_Illustrations3').select2();

$(".getValue1").click(function() {
    alert($(".leaderMultiSelctdropdown").val());
});

$(".setValue1").click(function() {
    //You need a id for set values
    $.each($(".Books_Illustrations"), function(){
            $(this).select2('val', selectedValues);
    });
}); 
```

* * *

## 回答 #2

> 赞同：37
> 
> 时间：2018-03-02T19:31:37.683

I get this post is old but there have been changes to how select2 works now and the answer to this question is extremely simple.

To set the values in a multi select2 is as follows

```
$('#Books_Illustrations').val([1,2,3]).change(); 
```

There is no need to specify `.select2` in jquery anymore, simply `.val`

Also there will be times you will not want to fire the `change` event because you might have some other code that will execute which is what will happen if you use the method above so to get around that you can change the value without firing the `change` event like so

```
$('#Books_Illustrations').select2([1,2,3], null, false); 
```

If that does not work you can also do this to not trigger the change event

```
$('#Books_Illustrations').select2();
$('#Books_Illustrations').val('some_value'); 
```

* * *

## 回答 #3

> 赞同：22
> 
> 时间：2012-10-19T10:09:05.950

So I take it you want 2 options default selected, and then get the value of it? If so:

[http://jsfiddle.net/NdQbw/1/](http://jsfiddle.net/NdQbw/1/)

```
<div class="divright">
    <select id="drp_Books_Ill_Illustrations" class="leaderMultiSelctdropdown Books_Illustrations" name="drp_Books_Ill_Illustrations" multiple="">
        <option value=" ">No illustrations</option>
        <option value="a" selected>Illustrations</option>
        <option value="b">Maps</option>
        <option value="c" selected>selectedPortraits</option>
    </select>
</div> 
```

And to get value:

```
alert($(".leaderMultiSelctdropdown").val()); 
```

To set the value:

```
 $(".leaderMultiSelctdropdown").val(["a", "c"]); 
```

You can also use an array to set the values:

```
var selectedValues = new Array();
selectedValues[0] = "a";
selectedValues[1] = "c";

$(".Books_Illustrations").val(selectedValues); 
```

[http://jsfiddle.net/NdQbw/4/](http://jsfiddle.net/NdQbw/4/)

* * *

## 回答 #4

> 赞同：10
> 
> 时间：2017-06-05T05:45:32.537

Using select2 jquery library:

```
$('#selector').val(arrayOfValues).trigger('change') 
```

* * *

## 回答 #5

> 赞同：7
> 
> 时间：2015-10-27T13:48:18.090

```
var valoresArea=VALUES
// it has the multiple values to set separated by comma
var arrayArea = valoresArea.split(',');
$('#area').select2('val',arrayArea); 
```

* * *

## 回答 #6

> 赞同：6
> 
> 时间：2016-12-19T20:25:42.600

```
This is with reference to the original question
$('select').val(['a','c']);
$('select').trigger('change'); 
```

* * *

## 回答 #7

> 赞同：4
> 
> 时间：2012-10-24T10:11:55.657

Just look at this one it will helps.

```
var valoresArea=VALUES // it has the multiple values to set, separated by comma
var arrayArea = valoresArea.split(',');
$('#area').val(arrayArea); 
```

the URL is- [link](http://forum.jquery.com/topic/setting-multiple-select)

* * *

## 回答 #8

> 赞同：4
> 
> 时间：2015-08-12T14:36:37.497

you can add the selected values in an `array` and set it as the value for default selection

eg:

```
var selectedItems =[];
selectedItems.push("your selected items");
..
$('#drp_Books_Ill_Illustrations').select2('val',selectedItems ); 
```

Try this, this should definitely work!

* * *

## 回答 #9

> 赞同：2
> 
> 时间：2016-08-26T07:30:30.517

Using select2 library there are 2 ways to set the value 1\. when single value is present you can pass it as string

```
$("#elementid").select2("val","valueTobeset") 
```

2\. when you are using select2 with multiselect option you can pass an array of the values to select2 and all those values will be set

```
var arrayOfValues = ["a","c"]
$("#elementid").select2("val",arrayOfValues) 
```

remember that you can set single value on multiselect by passing an array also like this

```
var arrayOfValues = ["a"]
$("#elementid").select2("val",arrayOfValues) 
```

* * *

## 回答 #10

> 赞同：2
> 
> 时间：2016-09-26T17:42:58.403

This doesn't work. only one value is ever pre-selected even though both options are available in the list only the first is shown `('#searchproject').select2('val', ['New Co-location','Expansion']);`

* * *

## 回答 #11

> 赞同：2
> 
> 时间：2020-05-04T11:32:17.443

Use multiselect function as below.

> `$("#drp_Books_Ill_Illustrations").val(["val1", "val2"]).trigger("change");`

* * *

## 回答 #12

> 赞同：1
> 
> 时间：2020-08-17T18:18:24.923

**To Select all**

```
 $('select[name=eventsFilter]').find('option').attr('selected', true);
$('select[name=eventsFilter]').select2(); 
```

**To UnSellect all**

```
$('select[name=eventsFilter]').find('option').attr('selected', false);
  $('select[name=eventsFilter]').select2(""); 
```

* * *

## 回答 #13

> 赞同：0
> 
> 时间：2014-01-19T17:34:02.850

no need to do so many things. for set value using multiple select2 var selectedvalue="1,2,3"; //if first 3 products are selected. $('#ddlProduct').val(selectedvalue);

* * *

## 回答 #14

> 赞同：0
> 
> 时间：2021-09-24T16:05:22.757

```
$('#area').select2().val(arrayArea).trigger('change'); 
```

I used to like this and I am using the select2 version4\. I got the result

* * *

## 回答 #15

> 赞同：-5
> 
> 时间：2012-10-15T05:29:19.140

Use multiselect function as below.

```
$('#drp_Books_Ill_Illustrations').multiSelect('select', 'value'); 
```

# html - 所有浏览器中的 html 中的 div 问题

> ID：12889555
> 
> 赞同：2
> 
> 时间：2012-10-15T05:04:51.977
> 
> 标签：html, css

我有两个 html 代码。在第一个代码背景中没有出现。但是在第二个代码中，当我**明确表示：两者；** 代码然后背景来了。你能有其他简单的选项来显示背景而不是高度吗？我不想放置高度和额外的 div 结构。

第一个代码：-

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-    transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<title>Untitled Document</title>
</head>
<!-- please dont use height in background -->
<body>
<div style="background:#990000;">
<div style="float:left;">left part</div>
<div style="float:right">right part</div>
</div>
</body>
</html> 
```

第二个代码： -

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<title>Untitled Document</title>
</head>
<!-- please dont use height in background -->
<body>
<div style="background:#990000;">
<div style="float:left;">left part</div>
<div style="float:right">right part</div>
<div style="clear:both"></div>
</div>
</body>
</html> 
```

您的善意回复将受到高度评价。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-15T05:25:01.143

请尝试下面给出的代码

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org /TR/xhtml1/DTD/xhtml1-    transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<title>Untitled Document</title>
</head>
<!-- please dont use height in background -->
 <body>
 <div style="background-color:#999000;overflow:hidden;">
        <div style="float:left;">left part</div>
        <div style="float:right">right part</div>
 </div>
 </body>
 </html> 
```

添加`overflow:hidden`. 这将是工作。

谢谢

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-15T05:13:35.130

嗨，如果您使用浮动，现在有很多选项可以清除父 div

就像这样 **首先是**

```
.mainclear{
background:#990000;
}

.mainclear:after{
content:'';
  clear:both;
  overflow:hidden;
  display:block;
} 
```

**第二个是**

```
.mainclear{
background:#990000;
  overflow:hidden;
} 
```

**你的html代码**

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-    transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<title>Untitled Document</title>
</head>
<!-- please dont use height in background -->
<body>
<div class="mainclear">
<div style="float:left;">left part</div>
<div style="float:right">right part</div>
</div>
</body>
</html> 
```

***[先演示](http://tinkerbin.com/RiUIus3m)***

---------\

***[演示二](http://tinkerbin.com/w1SXx16d)***

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-15T05:49:34.277

添加`overflow:auto`到父 div

```
<div style="background:#990000; overflow:auto"> 
```

[**演示**](http://jsfiddle.net/VjXen/1/)

# javascript - jquery如何观察特定选择器的dom中的任何变化

> ID：12889559
> 
> 赞同：2
> 
> 时间：2012-10-15T05:05:12.613
> 
> 标签：javascript, jquery

我有一个函数可以在网页上查找 .dirty 类的存在和计数。它必须从某个点开始，但在那个时候，我希望 jQuery 观察 DOM 中的 css 变化并重新运行这个函数。这可能吗？我可以用`on()`这个吗？像：

```
$(document).on('change','.dirty', dosomething); 
```

尽管我知道这与更改的用途不同。基本上，我想要的改变是任何`addClass`或`removeClass`'**脏**'。

**示例标记**

寻找观察在“顶级菜单”上添加/删除.dirty，以便我可以传播更改

```
<div class="top-level-menu dirty" data-menu-global-id="12828">
  <input id="menu-name-global-id-12828" size="30" type="text" value="Some value here">
</div> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-15T05:10:17.413

.on 非常适合此功能，但是我会尝试更具体地说明您期望“.dirty”发生的位置。例如，如果你知道dirty 只会发生在导航中，那么只看导航。

```
$('nav').on('change', '.dirty', function(e) {
    doSomething(e); 
}); 
```

查看[jsFiddle](http://jsfiddle.net/bjoshuanoah/TvYG4/2)。

# javascript - JQGRID：在网格中为所有列添加排序选项

> ID：12889563
> 
> 赞同：0
> 
> 时间：2012-10-15T05:05:41.160
> 
> 标签：javascript, jqgrid, jqgrid-php

**我需要在网格中为所有列添加排序选项（“事件键”、“日期”、“状态”、“事件编号”、“FF 死亡”、“OTH 死亡”、“财产损失”、“连续损失” ,'火灾原因') 分开。我试过了，但它不起作用，请在我的代码中修复排序问题，如果您对此有任何想法，请回答。**

```
 showLoading();
        $("#list1").jqGrid({
            type: 'POST',
            url: 'include/LocationService.php?run=gridForCongressionalDistrict&address='+$('#address').val()+'&radius='+$('#radius').val()+'&query='+encodeURIComponent(query_condition),
            datatype: 'json',
            colNames:['Incident key','Date','State','Incident no','FF death', 'OTH death','Property Loss','Cont Loss','Fire Cause'],
            colModel :[ 
            {
                name:'a.INC_KEY', 
                index:'a.INC_KEY',
                width: 220,
               hidden: true,
                editrules: {
                   edithidden:true
               },
                searchoptions: {
                    sopt: ['eq', 'ne','cn']
                }
            }, 

            {
                name:'a.INC_DATE', 
                index:'a.INC_DATE',
                width: 100,
                searchoptions: {
                    sopt: ['eq', 'ne','cn']
                }
            }, 

            {
                name:'a.INC_NO', 
                index:'a.INC_NO',
                width: 100,
                searchoptions: {
                    sopt: ['eq', 'ne','cn']
                }

            }, 

            {
                name:'a.STATE', 
                index:'a.STATE',
                width: 100,
                searchoptions: {
                    sopt: ['eq', 'ne','cn']
                }
            }, 

            {
                name:'a.FF_DEATH', 
                index:'a.FF_DEATH',
                width: 80,
                searchoptions: {
                    sopt: ['eq', 'ne','cn']
                }
            }, 

            {
                name:'a.OTH_DEATH', 
                index:'a.OTH_DEATH',
                width:80,
                searchoptions: {
                    sopt: ['eq', 'ne','cn']
                }
            },

            {
                name:'a.PROP_LOSS', 
                index:'a.PROP_LOSS',
                width: 80,
                searchoptions: {
                    sopt: ['eq', 'ne','cn']
                }
            },

            {
                name:'a.CONT_LOSS', 
                index:'a.CONT_LOSS',
                width: 80,
                searchoptions: {
                    sopt: ['eq', 'ne','cn']
                }
            },

            {
                name:'a.CAUSE_CODE_DESC', 
                index:'a.CAUSE_CODE_DESC',
                width: 240,
                searchoptions: {
                    sopt: ['eq', 'ne','cn']
                }
            },
            ],
            pager: '#pager',
            rowNum: 500,
            rowList:[500,100,20],
            sortname: 'INC_KEY',
            sortorder: 'desc',
            viewrecords: true,
            height: 400,
            width: 800, 
            shrinkToFit: false,
            gridview: true,
            caption: 'Reports',
            loadComplete: function(data){
                console.log('load complete'); 
                pin_data = data;
                viewReset = 'true';
                onSuccessFunction(data,'true');
            }
        });
        jQuery("#list1").jqGrid('navGrid','#pager',{
            edit:false,
            add:false,
            del:false
        });

        jQuery("#list1").jqGrid("clearGridData", true).setGridParam({
            url : 'include/LocationService.php?run=gridForCongressionalDistrict&address='+$('#address').val()+'&radius='+$('#radius').val()+'&query'+encodeURIComponent(query_condition),
            loadComplete: function(data){
                console.log('load complete');
                onSuccessFunction(data, 'true');  
            }
        }).trigger("reloadGrid")

        $("#error").html('<div class="error1"></div>');

    }
}  
)
}) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-15T10:36:27.170

首先是您的主要问题的答案：您可以使用`cmTemplate`选项（有关详细信息，请参阅[答案](https://stackoverflow.com/a/6047856/315935)），该选项可用于更改`colModel`. 例如，

```
cmTemplate: { searchoptions: { sopt: ['eq', 'ne','cn'] } } 
```

此外，我建议您将有关参数的信息从 URL 移动到`postData`. 所以

```
url: 'include/LocationService.php?run=gridForCongressionalDistrict&address=' +
        $('#address').val() + '&radius=' + $('#radius').val() +
        '&query=' + encodeURIComponent(query_condition), 
```

到

```
url: 'include/LocationService.php',
postData: {
    run: 'gridForCongressionalDistrict',
    address: function () {
        return $('#address').val();
    },
    radius: function () {
        return $('#radius').val();
    },
    query: query_condition
} 
```

在这种情况下，每个对服务器的请求都会重新计算值`address`，并且`radius`您将拥有*当前*值`$('#address').val()`并将`$('#radius').val()`其发送到服务器。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-15T11:27:43.243

{

```
searchoptions: { sopt: ['eq', 'ne','cn'] } }

url: 'include:yoursphp page.php?run=yoursfunctionsname&yoursaddingfunctions name=' +
        $('#yours varianle name').val() + sort=' + $('variable name').val() +
        '&query=' + encodeURIComponent(query_condition),

url name:"";

post data
{
}
return result(): 
```

或使用排序查询对事物进行排序并解析 jgrid 中的值。

# security - 安全返回网站集中符合条件的所有列表

> ID：12889564
> 
> 赞同：1
> 
> 时间：2012-10-15T05:05:40.957
> 
> 标签：security, list, sharepoint, sharepoint-2010

我正在使用以下代码来获取 Web 应用程序网站集中的所有“公告”列表。

不幸的是，有时当前用户没有访问该站点的权限，并且页面会因异常而失败，即使在 try 块内也是如此。

为所有用户安全地执行以下操作的正确方法是什么，即使是匿名用户也不会得到任何结果？

```
static public List<SPListMeta> AllSiteAnnouncementsLists()
{
    var returnList = new List<SPListMeta>();
    foreach (SPSite oSiteCollection in SPContext.Current.Web.Site.WebApplication.Sites)
    {
        var collWebs = oSiteCollection.AllWebs;
        try
        {
            foreach (SPWeb oWebsite in collWebs)
            {
                using (oWebsite)
                {
                    var collSiteLists = oWebsite.GetListsOfType(SPBaseType.GenericList);
                    returnList.AddRange(from SPList oList in collSiteLists where oList.Title == "Announcements" select new SPListMeta(oList));
                }
            }
        }
        catch
        {
        }

    }
    return returnList;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-15T06:26:59.983

尝试为您的代码提供正确的执行权限。

```
using Microsoft.Sharepoint.Administrator;

 SPSecurity.RunWithElevatedPrivileges(delegate(){

                // Your source code goes here
  }); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-15T09:31:37.550

要从网站集中获取特定列表类型的所有项目，您必须使用 SPSiteDataQuery。每个用户将只获得他们拥有权限的那些项目。

```
 SPWeb web = SPContext.Current.Web;
     SPSiteDataQuery query = new SPSiteDataQuery();

     //Ask for all lists created from the announcement template.
     query.Lists = "<Lists ServerTemplate=\"104\" />";

     // Get the Title field. Define here all you need.
     query.ViewFields = "<FieldRef Name=\"Title\" />";

     // Set the sort order.
     query.Query = "<OrderBy>" + 
                       "<FieldRef Name=\"Title\" />" + 
                   "</OrderBy>";

     // Query all Web sites in this site collection.
     query.Webs = "<Webs Scope=\"SiteCollection\" />";

     DataTable dt = web.GetSiteData(query);
     DataView dv = new DataView(dt); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-01T00:05:24.423

这就是最终为我工作的方法，尽管我不知道这是否是最好的方法。

```
 static public List<SPListMeta> AllSiteAnnouncementsLists()
    {
        var returnList = new List<SPListMeta>();

        var collWebs = SPContext.Current.Web.Site.WebApplication.Sites[0].OpenWeb().GetSubwebsForCurrentUser();
        if(SPContext.Current.Site.RootWeb.DoesUserHavePermissions(SPBasePermissions.Open))
        {
            var collSiteLists = SPContext.Current.Site.RootWeb.GetListsOfType(SPBaseType.GenericList);
            returnList.AddRange(from SPList oList in collSiteLists
                                where oList.DoesUserHavePermissions(SPBasePermissions.ViewListItems)
                                && oList.BaseTemplate == SPListTemplateType.Announcements
                                select new SPListMeta(oList));
        }
        foreach (SPWeb oWebsite in collWebs)
        {
            returnList.AddRange(WebRecursion.GetListsForCurrentWeb(oWebsite, SPListTemplateType.Announcements));
            foreach (SPWeb oSubSite in oWebsite.Webs)
            {
                returnList.AddRange(WebRecursion.GetListsForCurrentWeb(oSubSite, SPListTemplateType.Announcements));
            }
        }
        return returnList;
    }

    public static List<SPListMeta> GetListsForCurrentWeb(SPWeb oWebsite, SPListTemplateType type)
    {
        var returnList = new List<SPListMeta>();
        if (oWebsite.DoesUserHavePermissions(SPBasePermissions.Open))
        {
            using (oWebsite)
            {
                var collSiteLists = oWebsite.Lists;
                returnList.AddRange(from SPList oList in collSiteLists
                                    where oList.DoesUserHavePermissions(SPBasePermissions.ViewListItems)
                                    && oList.BaseTemplate == type
                                    select new SPListMeta(oList));
            }
        }
        return returnList;
    } 
```

# java - Java + 如何读取 MS SQL DB bak 文件

> ID：12889568
> 
> 赞同：1
> 
> 时间：2012-10-15T05:06:09.377
> 
> 标签：java, sql-server

我在 java 中阅读并创建了 MS SQL 服务器创建的 bak 文件。但是对于这个预测，那台机器上没有安装 MS sql server。有没有我可以读/写文件的工具/库？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-15T05:16:39.597

`.bak`我所知道的唯一可以读取文件的工具（当然 SQL Server 除外）是 Red Gate 的 SQL Compare。[显然，专业版可以从文件](http://www.red-gate.com/products/sql-development/sql-compare/features)[中读取数据。`.bak`](http://www.red-gate.com/products/sql-development/sql-compare/features)

但这是一个商业工具，所以你必须购买并安装它。
既然你必须安装一些东西，为什么不直接安装免费的 SQL Server Express Edition 呢？它也可以读取`.bak`文件，而且是免费的。

# php - 用 PHP 解析 pinterest JSON api

> ID：12889569
> 
> 赞同：0
> 
> 时间：2012-10-15T05:06:12.007
> 
> 标签：php, json, parsing, pinterest

嗨，我在解析这个 pinterest JSON 文件时遇到问题，有什么想法吗？谢谢

```
    $json = file_get_contents('http://pinterestapi.co.uk/jwmoz/boards');

    $obj = json_decode($json);
    foreach($obj->body as $item){
    $example = $item[0]->名称；
    回声$示例；
    }

```

```
    {
    “身体”：[
      {“名称”：“JMOZ”，
      "href":"http:\/\/pinterest.com\/jwmoz\/jmoz\/",
      "num_of_pins":17,"cover_src":"http:\/\/media-cache-ec4.pinterest.com\/upload\/82190761920643849_2DcDfCUK_222.jpg",
      “thumbs_src”：
          ["http:\/\/media-cache-ec5.pinterest.com\/upload\/82190761920643841_dZfvCWmE_t.jpg",
          "http:\/\/media-cache-ec4.pinterest.com\/upload\/82190761920194573_aPAbDtHD_t.jpg",
          "http:\/\/media-cache-ec2.pinterest.com\/upload\/82190761920194563_dQcOIHvQ_t.jpg",
          “http:\/\/media-cache0.pinterest.com\/upload\/82190761920194557_VSSI2uQB_t.jpg”
          ]
      },
      {“名称”：“JMOZ”，
      "href":"http:\/\/pinterest.com\/jwmoz\/jmoz\/",
      "num_of_pins":17,"cover_src":"http:\/\/media-cache-ec4.pinterest.com\/upload\/82190761920643849_2DcDfCUK_222.jpg",
      “thumbs_src”：
          ["http:\/\/media-cache-ec5.pinterest.com\/upload\/82190761920643841_dZfvCWmE_t.jpg",
          "http:\/\/media-cache-ec4.pinterest.com\/upload\/82190761920194573_aPAbDtHD_t.jpg",
          "http:\/\/media-cache-ec2.pinterest.com\/upload\/82190761920194563_dQcOIHvQ_t.jpg",
          “http:\/\/media-cache0.pinterest.com\/upload\/82190761920194557_VSSI2uQB_t.jpg”
          ]
      },     
      {“名称”：“JMOZ”，
      "href":"http:\/\/pinterest.com\/jwmoz\/jmoz\/",
      "num_of_pins":17,"cover_src":"http:\/\/media-cache-ec4.pinterest.com\/upload\/82190761920643849_2DcDfCUK_222.jpg",
      “thumbs_src”：
          ["http:\/\/media-cache-ec5.pinterest.com\/upload\/82190761920643841_dZfvCWmE_t.jpg",
          "http:\/\/media-cache-ec4.pinterest.com\/upload\/82190761920194573_aPAbDtHD_t.jpg",
          "http:\/\/media-cache-ec2.pinterest.com\/upload\/82190761920194563_dQcOIHvQ_t.jpg",
          “http:\/\/media-cache0.pinterest.com\/upload\/82190761920194557_VSSI2uQB_t.jpg”
          ]
      },
      {"名称":"测试 I\u00f1t\u00ebrn\u00e2ti\u00f4n\u00e0liz\u00e6ti\u00f8n",
       "href":"http:\/\/pinterest.com\/jwmoz\/test-internationaliztin\/",
       "num_of_pins":0,
       “cover_src”：假，
       “thumbs_src”：假
       }],
      “元”：{“计数”：11}
      }

```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-15T05:22:54.687

似乎问题在于您对 $item 的 [0] 索引的使用

```
$example = $item[0]->name; 
```

这应该只是

```
$example = $item->name; 
```

要访问缩略图，请尝试

```
$obj = json_decode($json);
foreach($obj->body as $item){
  echo '<li>' . $item->name . '<ul>';
  if(!empty($item->thumbs_src))
  {
    foreach($item->thumbs_src as $thumbs_src){
      echo '<li>' . $thumbs_src . '</li>';
    }
  }
  echo '</ul></li>';
} 
```

# python - Python stacktrace模块回溯行错误

> ID：12889571
> 
> 赞同：0
> 
> 时间：2012-10-15T05:06:39.163
> 
> 标签：python, python-2.7

我有以下 Python 程序：

```
import traceback
import sys

try:

    3/0
except OverflowError as e:
    exc_type, exc_value, exc_traceback = sys.exc_info()
    formatted_lines = traceback.format_exc().splitlines()

    print(" It looks like in the arithmetic operation :" , formatted_lines[2], " )  #gets the offending line
    print (at line number " , exc_traceback.tb_lineno )  #gets the line number

except ZeroDivisionError as e:
   exc_type, exc_value, exc_traceback = sys.exc_info()
   formatted_lines = traceback.format_exc().splitlines()
   print(" It looks like in the arithmetic operation :" , formatted_lines[2], " )  #gets the offending line
   print (at line number " , exc_traceback.tb_lineno )  #gets t 
```

对于上面的简单程序，堆栈跟踪返回正确的行号，但是对于像下面这样的更复杂的方法，Python 会抛出更多的堆栈跟踪（最近的调用是最后一个），有没有办法找出堆栈跟踪的索引 ex：`formatted_lines[2]` 获取最近的电话。

```
try:
 def prize():
    print("hello")

 def main():
    prize()

Catch:
..... 
```

任何帮助，将不胜感激。

* * *

也试过这个：

```
import traceback
import sys
import linecache

try:

      2/0

except ZeroDivisionError as e:
        filename = exc_traceback.tb_frame.f_code.co_filename
        lineno = exc_traceback.tb_lineno
        line = linecache.getline(filename, lineno)
        print "exception occurred at %s:%d: %s" % (filename, lineno, line) 
```

我在最后一行“无效语法”上收到错误

当我尝试时：

```
print  (filename, lineno, line) 
```

我收到一个错误：

```
 Traceback (most recent call last):
  File "C:\Users\Anu\Desktop\test.py", line 39, in <module>
    filename = exc_traceback.tb_frame.f_code.co_filename
NameError: name 'exc_traceback' is not defined 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-15T05:53:16.953

请不要尝试使用`format_exc`. 这只是为了产生人类可读的堆栈跟踪。

您应该改为使用`linecache`来获取违规行：

```
exc_type, exc_value, exc_traceback = sys.exc_info()
filename = exc_traceback.tb_frame.f_code.co_filename
lineno = exc_traceback.tb_lineno
line = linecache.getline(filename, lineno)
print("exception occurred at %s:%d: %s" % (filename, lineno, line)) 
```

# android - 在 Android 中的单个列表行项目中显示两个视图

> ID：12889572
> 
> 赞同：1
> 
> 时间：2012-10-15T05:06:48.130
> 
> 标签：android, listitem

需要在单个 ListView Row 中显示两个视图。在android中怎么可能。请帮我。

![在此处输入图像描述](../Images/9f60f4ebbdd484d663a44fed655a9442.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-15T05:41:36.370

您可以为您的列表使用自定义布局，这是在单行中使用 imageview 和 textview 的示例。行.xml

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
  android:layout_width="fill_parent"
  android:layout_height="wrap_content"
  android:orientation="horizontal"
      >
  <ImageView
  android:id="@+id/icon"
  android:padding="2dip"
  android:layout_width="wrap_content"
  android:layout_height="wrap_content"
  android:src="@drawable/ok"
  />
  <TextView
  android:id="@+id/label"
  android:layout_width="wrap_content"
  android:layout_height="wrap_content"
  android:textSize="40sp"
  />
  </LinearLayout> 
```

这是java代码，这是一个活动的onCreate扩展ListActivity。

```
public void onCreate(Bundle icicle) {
  super.onCreate(icicle);
  setContentView(R.layout.main);
  setListAdapter(new ArrayAdapter<String>(this,R.layout.row, R.id.label,items));
  selection=(TextView)findViewById(R.id.selection);
  } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-21T07:51:07.747

使用`GridView`并将其添加到参数中。

```
android:numColumns="2" 
```

首先检查[一下](http://technicalmumbojumbo.wordpress.com/2011/12/08/android-tutorial-series-layout/)，[这](https://stackoverflow.com/questions/12837780/android-set-the-gridview-to-have-2-columns-per-row-only) 有点帮助我解决同样的问题。:)

# c# - ZipPackage 类与 Zipfile 类

> ID：12889574
> 
> 赞同：7
> 
> 时间：2012-10-15T05:06:53.983
> 
> 标签：c#, .net, zip

我对这两个类感到困惑，它们似乎都用于创建或提取 zip 文件？谁能解释其中的区别？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-15T05:22:08.643

`ZipPackage Class`- 实现抽象 Package 基类的派生子类 - ZipPackage 类使用 ZIP 存档作为容器存储。这个类不能被继承。

`Zipfile Class`- 提供用于创建、提取和打开 zip 档案的静态方法。

参考这些链接以获得确切的差异 [http://msdn.microsoft.com/en-us/library/system.io.packaging.zippackage.aspx](http://msdn.microsoft.com/en-us/library/system.io.packaging.zippackage.aspx)

[http://msdn.microsoft.com/en-us/library/system.io.compression.zipfile.aspx](http://msdn.microsoft.com/en-us/library/system.io.compression.zipfile.aspx)

`ZipPackage Class`用于处理包，它使用 zip 格式进行存储，但 zip 中包含特殊的元文件。一个包是一个 zip，但所有的 zip 文件都不是包。您只能使用 Package 类打开一个包，而不是任何 zip 文件。

当您只想要 zip 文件时，我更喜欢使用 zipFile 类，直到我希望我的 zip 成为一个包。

如果您只想压缩文件并提取它，请改用 zipClass

# g++ - 在（链接？）步骤中包含 pthread 库

> ID：12889578
> 
> 赞同：1
> 
> 时间：2012-10-15T05:07:19.133
> 
> 标签：g++, pthreads

我正在尝试编译提供给我的程序。我注意到在 Makefile 它运行命令

```
g++ -o test [...] -lpthread 
```

我注意到 pthread 库文件位于 /lib/libpthread.so.0 ，但是当我尝试创建目标时，它给了我这个错误：

```
/usr/bin/ld: cannot find -lpthread
collect2: ld returned 1 exit status 
```

我该如何解决？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-10-15T05:16:19.100

为了使用`-lpthread`，您需要一个`libpthread.a`库存档，这是用于静态链接的。`libpthread.so.0`是一个共享对象，这意味着它用于动态链接。请参阅[GCC 链接选项](http://gcc.gnu.org/onlinedocs/gcc/Link-Options.html)

# ruby-on-rails - 在 before_filter 中调用的模型级方法

> ID：12889581
> 
> 赞同：2
> 
> 时间：2012-10-15T05:07:36.053
> 
> 标签：ruby-on-rails, ruby

我在 rails 2 工作，我有一个模型级别的方法，我想在 before_filter 中调用它。我怎样才能做到这一点？我试过这种方式，但它不起作用

```
before_filter :LmsUser.can_edit_update, :only => [:new, :create, :edit, :update, :destroy] 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-15T06:15:11.500

您应该向控制器添加一个方法并将其用作前置过滤器。例如：

```
class MyController < ApplicationController
  before_filter :check_permissions,
                :only => [:new, :create, :edit, :update, :destroy]

  private
    def check_permissions
      unless LmsUser.can_edit_update
        # redirect_to, render, or raise
      end
    end
end 
```

有关更多信息，请参阅[动作控制器概述指南的过滤器部分](http://guides.rubyonrails.org/v2.3.11/action_controller_overview.html#filters)。

# android - 关闭应用程序后 Twitter 网页保持打开状态

> ID：12889582
> 
> 赞同：1
> 
> 时间：2012-10-15T05:07:38.663
> 
> 标签：android, twitter-oauth, twitter4j, android-browser

Twitter auth 在我的应用程序中运行良好。但是当我推特并关闭我的应用程序时，twitter 的网页仍然在浏览器中打开。有什么问题？如何关闭此页面（浏览器）。

![在此处输入图像描述](../Images/5c4dd1e81612d8a708969e9ca58ffc92.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-15T05:36:36.307

成功登录后，您的应用程序就开始了。如果没有，则表示回调 url 设置不正确，因此发生了这种情况。

# android - 如何在 android 设备中找到 gps 是否正常工作？

> ID：12889583
> 
> 赞同：1
> 
> 时间：2012-10-15T05:07:44.517
> 
> 标签：android, gps, location, android-2.2-froyo, samsung-mobile

我正在**为手机和平板电脑开发一个安卓应用程序。**
我正在使用 android**版本 2.2，API 8。**
在我的应用程序中，我想通过 gps 捕获位置坐标并发送到服务器。
它工作正常。
当我在我的办公室（靠近我的办公室）工作时，gps - 在 android 设备中正确捕获的坐标

但只有一个设备中的坐标捕获错误。我在印度钦奈的**Alwarpet**。但是，我运行显示“**安德拉邦”或“孟加拉”湾的**设备。但所有其他设备显示正确的位置。

我认为设备有问题。但我不确定。
**如何在 android 设备中找到 gps 是否正常工作？**
欢迎大家提出自己的想法。

为了进行测试，我使用的是三星设备，例如 Galaxy pop、Galaxy Fit 等。
我在 3 Galaxy pop 中测试它工作正常。
我还在 2 个 Galaxy Fit 设备中进行了测试。一个设备工作正常，但另一个设备显示错误的坐标。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-15T05:49:57.960

正如@npinti 所说：

GPS的问题在于它高度依赖于你的行踪。诸如高层建筑，有时甚至是大树之类的东西都会对您的 GPS 读数产生重大影响。在结构内部或外部也是必须考虑的另一个主要因素。此外，大多数情况下，即使您在同一个地方，GPS 也会返回不同的 GPS 坐标。

GPS的平均误差范围通常在5到50m之间。当您说“前进”和“后退”位置时，我假设您的意思是 GPS 正在为您前面或后面的位置返回一个值。

正如您所说，GPS 在大多数情况下都有效，这让我怀疑您遇到的问题取决于您的实际物理位置，但是，由于您的问题含糊不清，我们只能推测.. .

我的建议是你在不同的地方尝试这个，也许一些可以清楚地进入天空，另一个在拥挤的地方，你会看到 GPS 的行为。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-21T14:28:57.337

我找到了解决方案。
Google 在 android 手机中默认提供了一些使用 google maps、gps 等
的应用程序以下是应用程序名称

*   纬度
*   导航

如果我们运行上述应用程序中的任何一个。如果它显示正确的位置，那么 gps 在手机中工作就可以了。否则它有问题。

# ruby-on-rails - 更好的方法来默认 Rails 表单而不是使用三元？

> ID：12889586
> 
> 赞同：0
> 
> 时间：2012-10-15T05:08:13.390
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3

我有一些这样的代码：

```
<input type="text" value="<%= params[:first_name] ? params[:first_name] : 'John' %>> 
```

显然这并不理想，因为它重复了 params[:first_name] 两次。有没有更好的方法让表单默认为参数，但如果没有参数值，则使用默认值？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-15T05:18:57.823

怎么样：

```
params[:first_name] || 'John' 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-10-15T05:25:54.677

不知道你为什么不使用[Rails 的表单助手](http://guides.rubyonrails.org/form_helpers.html)，但我建议你开始使用它们。您可以使用`:value => 'John'`将 a 的默认值设置`text_field`为`"John"`：

```
<%= form_for @object do |f| %>
  <%= f.text_field :attribute_name, :value => 'John' %>
  ...
<% end %> 
```

如果由于某种原因无法使用表单助手，那么您应该使用 shioyama 的答案。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-15T05:22:16.867

您可以`||=`在以下情况下使用运算符 -

```
a = "Rafa"
a.empty? ? "Nadal" : a # => "Rafa"
a ||= "Nadal" # => "Rafa" 
```

如果您的变量未定义并且您使用三进制，则会引发 NameError 异常

```
b ? "Rafa" : b # => NameError: undefined local variable or method `b' for main:Object 
```

但是`||=`操作员会将其初始化为“Nadal”

```
b ||= "Nadal" # => "Nadal" 
```

基本上`b ||= "Nadal"`评估为，`b = b || "Nadal"`即如果`b`当前范围内已经存在，则使用它的值，否则将其初始化为“Nadal”。

# algorithm - 为什么不应该从 MSD 开始实施基数排序？

> ID：12889588
> 
> 赞同：2
> 
> 时间：2012-10-15T05:08:20.257
> 
> 标签：algorithm, sorting

我正在阅读 Cormen 等人的《算法简介》。人。在他们描述基数排序的部分，他们说：

> 直观地，您可以按数字的最高位对数字进行排序，递归地对每个生成的 bin 进行排序，然后按顺序组合这些牌组。不幸的是，由于必须将 10 个垃圾箱中的 9 个垃圾箱中的卡片放在一边以便对每个垃圾箱进行分类，因此此过程会生成许多中间卡片堆，您必须对其进行跟踪。

这是什么意思？我不明白按 MSB 排序会有什么问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-15T06:02:22.317

考虑以下示例列表进行排序：170、045、075、090、002、024、802、066、182、332、140、144

*   按最高有效数字（数百）排序给出：

    *   零百桶：045、075、090、002、024、066

    *   一百桶：170、182、140、144

    *   三百桶：332

    *   八百桶：802

*   零和一百桶中的数字现在需要按下一位排序（其他两个桶每个只包含一个项目）：

    *   零十位：002
    *   二十多岁：024
    *   四十岁：045
    *   六十年代：066
    *   七十年代：075
    *   九十年代：090
*   不需要按最低有效位（1 位）排序，因为没有十个桶有多个数字。但是，一百个桶并非如此（练习：自己递归排序）。因此，将现在排序的零百桶连接起来，按顺序连接，与一、三和八百桶一起给出：

    `002, 024, 045, 066, 075, 090, 140, 144, 170, 182, 332, 801`

您可以看到作者指的是中间递归排序步骤，这在 LSD 基数排序中不是必需的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-15T09:07:59.463

它们指的是 LSD 基数排序的一个有用属性，即由于您确保每个排序步骤是*稳定*的，因此您只需在整个数组上为每个数字运行一个步骤，并且您不必单独对任何子集进行排序。

以迈克尔的示例数据为例：

0步后：

170、045、075、090、002、024、802、066、182、332、140、144

1 步后（按单位排序）：

170、090、140、002、802、182、332、024、144、045、075、066

2个步骤后（按十位排序）：

002、802、024、332、140、144、045、066、170、075、182、090

经过 3 个步骤（按数百排序）：

002、024、045、066、075、090、140、144、170、182、332、802

如果您在二进制而不是基数 10 中进行基数排序，此属性将变得特别有用。然后每个排序步骤只是将其分成两部分，这非常简单。至少，直到您想在不使用任何额外内存的情况下执行此操作。

当然，MSD 基数排序有效，它只需要更多的簿记和/或非尾递归。这只是一个“问题”，因为 CLRS（与其他专家程序员一样）不喜欢在必要时做繁琐的工作。

# c# - 为什么 httpPost 模型总是为空？

> ID：12889590
> 
> 赞同：0
> 
> 时间：2012-10-15T05:08:29.883
> 
> 标签：c#, asp.net-mvc

我有获取和发布控制器。但是通过 httpPost 控制器传递的模型参数值为空。为什么我的 httpPost 模型参数值总是为空？

```
[HttpGet]
        public ActionResult HireItem()
        {

            var HireItemListModel = new HireItemModel();

            HireItemListModel = new HireItemModel()
            {
                first_name = Session["first_name"].ToString(),
                middle_name = Session["middle_name"].ToString(),
                last_name = Session["last_name"].ToString(),
                ceremony_date = Session["ceremony_date"].ToString(),
            };         

            var product = _productService.GetAllHireProducts();

            if (product.Count != 0)
            {

                foreach (var proValue in product)
                {
                    var productVarSeparateList = _productService.GetHireProductVariantsByProductIds(proValue.Id, false);

                    foreach (var HireProSep in productVarSeparateList)
                    {
                        var productVarSeparateModel = new HireItemModel.HireItemSeparatetModel()
                        {
                            pname = HireProSep.Name,
                            price =HireProSep.Price,
                            pId=HireProSep.Id,

                        };
                        HireItemListModel.HireItemSeparatetlist.Add(productVarSeparateModel);
                    }
                    var productVarSetList = _productService.GetHireProductVariantsByProductIds(proValue.Id, true);

                    foreach (var HireProset in productVarSetList)
                    {
                        var productVarListset = new HireItemModel.HireItemSetModel()
                        {
                            pname = HireProset.Name,
                            price = HireProset.Price,
                            pId = HireProset.Id,
                        };
                        HireItemListModel.HireItemSetList.Add(productVarListset);
                    }
                }
            }

            return View(HireItemListModel);

        } 
```

此控制器 HireItemModel 模型参数值为空。为什么？？

```
[HttpPost,ActionName("HireItem")]
    public ActionResult HireItem(string submitB, FormCollection formCollection, HireItemModel HireItemListModel)
    {
        var graduandList = _graduandService.GetGraduandBynameCeremony(HireItemListModel.ceremony_id, HireItemListModel.first_name, HireItemListModel.middle_name, HireItemListModel.last_name);
        foreach (var graduand in graduandList)
        {
            graduand.height = HireItemListModel.height;
            graduand.head_circumference = HireItemListModel.head_circumferenc;
            _graduandService.Updategraduand(graduand);
        } 
```

这是我的看法。

```
@model HireItemModel
    @using (Html.BeginForm())
     { 

         <table  >

     <tr>
        <td >
          Ceremony : 
        </td>
        <td>
           Ceremony at @Model.ceremony_date

        </td>
    </tr>

      <tr>
                <td >
                  Name :
                </td>
                <td >
                   @Model.first_name  @Model.middle_name  @Model.last_name
                </td>
            </tr>
            </table>
         <div id="HItemType_1">
         @Html.CheckBox("HItemType")
       @*<input type="checkbox" name="test" value="test" id="HItemType"  />*@
         <label> Academic Dress Set</label>

         </div>
     <div id="HsetItem">

                @Html.Partial("_LoadHireSetItem", @Model.HireItemSetList)
      </div> 

          <div  id="HseparateItem">
                @Html.Partial("_LoadHireSeparateItem", @Model.HireItemSeparatetlist)
           </div>

         <table  >
         <tr>
         <td colspan="2">
         Please tell us your measurement:
         </td>
         </tr>
     <tr>
        <td >
        Height (in cm):
        </td>
        <td>
         @Html.EditorFor(model => model.height)

        </td>
    </tr>

      <tr>
                <td >
                 Head circumference (in cm):
                </td>
                <td >
                 @Html.EditorFor(model => model.head_circumferenc)

                </td>
            </tr>
            </table>

         <div>
        <input class="productlistaddtocartbutton" type="submit"  value="Add to cart" name="submitB"  id="btnaddtocart"/>
         </div>

     } 
```

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-15T06:20:25.330

确保在您的视图中，您有您打算在 POST 操作中使用的所有值的输入字段。例如，如果要使用`ceremony_id`、`first_name`、`middle_name`和`last_name`属性，则需要包含它们：

```
@Html.HiddenFor(model => model.ceremony_id)
@Html.HiddenFor(model => model.first_name)
@Html.HiddenFor(model => model.middle_name)
@Html.HiddenFor(model => model.last_name) 
```

如果用户不应该修改他们的值，您可以使用隐藏字段，但您也可以根据您的要求使用文本字段。

# javascript - 正则表达式在 >2 个空格或制表符处拆分

> ID：12889592
> 
> 赞同：5
> 
> 时间：2012-10-15T05:08:46.527
> 
> 标签：javascript, regex

我正在尝试创建一个匹配 2 个或更多空格或制表符的正则表达式，基本上是`text.split(" ")`and的组合`text.split("\t")`。我如何创建它？

我的尝试：（但它不起作用）

```
text.split(new RegExp("[  |\t]")) 
```

编辑：这在空格/制表符处拆分，但我需要在 2 个或更多空格处拆分..

```
text.split("\\s+"); 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-10-15T05:14:33.617

```
\s{2,} 
```

你可以这样试试……！\s{2,} 表示 2 个或更多

我从这个替换帖子[Regex 中得到了这个想法，用一个空格替换多个空格](https://stackoverflow.com/questions/1981349/regex-to-replace-multiple-spaces-with-a-single-space)

**演示：http:** [//jsbin.com/akubed/1/edit](http://jsbin.com/akubed/1/edit)

我同意@Will 评论 - 也添加选项卡空间

```
\s{2,}|\t 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-09-01T11:23:08.860

```
String s="This      is      test";
    String [] as=s.split("\\t{2,}");
    for(int i=0;i<as.length;i++)
    System.out.println(as[i]); 
```

> 这对我有用。

# android - 如何在android中绘制实时数据？

> ID：12889594
> 
> 赞同：5
> 
> 时间：2012-10-15T05:08:45.260
> 
> 标签：android, charts

我正在设计一个 android 应用程序，我想在其中绘制通过蓝牙接收的实时数据。我收到一个信号并对其进行处理以获得一些结果，我想实时显示它。我看到有各种用于绘制图表的 android 库。对于使用这样的库或使用 Javascript，我有点困惑。任何人都可以建议它是一个更好的选择吗？还有，要使用哪个 Android 库？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-15T05:13:42.627

有许多用于 android 的图表库，但每次我有需求时，我都会使用使用[Canvas的 android 原生](http://developer.android.com/reference/android/graphics/Canvas.html)[2D 图形](http://developer.android.com/guide/topics/graphics/2d-graphics.html)框架。我从未寻找过其他选择。这很简单，你有很多控制权。好吧只是通知..

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-15T05:12:33.727

最好使用[flot-android-chart](http://code.google.com/p/flot-android-chart/)来创建不同类型的图表。

或者你可以简单地使用[`achartengine`](http://code.google.com/p/achartengine/)

如果您想尝试在没有任何内置 jar 的情况下创建图表，只需看看这个[`Bar Chart in Android With out any Built in jars`](http://rakhi577.wordpress.com/2012/10/11/bar-chart-in-android-with-out-any-built-in-jars/)（但它只是条形图）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-07-09T11:54:12.127

如果您想要 Android 的实时图表，那么目前[最快的 Android 图表](http://www.scichart.com/android-chart-features)库是[SciChart](http://www.scichart.com)。

有一篇[性能比较](http://www.scichart.com/android-chart-performance-comparison/)文章将 5 个开源和商业图表在实时条件下并驾齐驱，在所有测试中，SciChart 名列前茅，有时甚至有相当大的优势！

[![在此处输入图像描述](../Images/24446793d3a612ff3f69f4ba591ec4cf.png)](https://i.stack.imgur.com/OxQD5.png)

这使得 SciChart 适用于[实时交易应用程序](http://www.scichart.com/android-candlestick-chart-example/)、[医疗应用程序](http://www.scichart.com/android-chart-example-ecg-monitor-demo/)、[科学应用程序](http://www.scichart.com/android-chart-example-oscilloscope-demo/)，甚至是运行 Android 作为操作系统的嵌入式系统。

*披露：我是 SciChart 项目的技术负责人，你知道的！*

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2021-05-31T06:37:32.083

这个 repo 看起来很有希望：[Androidplot](https://github.com/halfhp/androidplot)

它似乎支持从 gradle 导入，而不是在本地保存 jar 文件。我也考虑过 AnyChart，但它是一个付费使用的库，而 Androidplot 是在 Apache 2.0 许可下提供的。

自述文件截图：

[![截屏](../Images/3f30c9a69806c49ed5d43f16d10ad2ec.png)](https://i.stack.imgur.com/iAPeo.png)

[只需从他们的快速入门指南](https://github.com/halfhp/androidplot/blob/master/docs/quickstart.md)中复制和粘贴，以防链接中断：

* * *

# 添加依赖

要在您的 gradle 项目中使用该库，请将以下内容添加到您的 build.gradle：

```
dependencies {
    compile "com.androidplot:androidplot-core:1.5.7"
} 
```

如果您使用 Proguard 混淆（默认情况下由 Android Studio 创建的项目），您还需要将其添加到您的 proguard-rules.pro 文件中：

`-keep class com.androidplot.** { *; }`

# 创建您的活动 XML 布局

创建 Android 项目框架后，创建**res/layout/simple_xy_plot_example.xml** 并添加一个 XYPlot 视图：

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
              xmlns:ap="http://schemas.android.com/apk/res-auto"
              android:layout_height="match_parent"
              android:layout_width="match_parent">

    <com.androidplot.xy.XYPlot
        style="@style/APDefacto.Dark"
        android:id="@+id/plot"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        ap:title="A Simple XY Plot"
        ap:rangeTitle="range"
        ap:domainTitle="domain"
        ap:lineLabels="left|bottom"
        ap:lineLabelRotationBottom="-45"/>
</LinearLayout> 
```

此示例使用默认样式来装饰绘图。可在此处获得 XML 样式属性的完整列表。虽然会定期添加新属性，但并非所有可配置属性都可用。

如果缺少您需要的东西，请直接在 Plot 的 XML 中使用[Fig Syntax](https://github.com/halfhp/fig) ，并在每个属性前加上“androidPlot”。例子：

```
androidPlot.title="My Plot" 
```

# 创建一个活动

现在让我们创建一个 Activity 来显示我们刚刚定义的 XYPlot `simple_xy_plot_example.xml`。
基本步骤是：

1.  创建一个 Series 实例并用要显示的数据填充它。
2.  使用绘图实例注册一个或多个系列以及 Formatter 以描述系列在绘制时的外观。
3.  绘制情节

由于我们正在处理 XY 数据，我们将使用 XYPlot、SimpleXYSeries（它是 XYSeries 接口的实现）和 LineAndPointFormatter：

```
import android.app.Activity;
import android.graphics.*;
import android.os.Bundle;

import com.androidplot.util.PixelUtils;
import com.androidplot.xy.SimpleXYSeries;
import com.androidplot.xy.XYSeries;
import com.androidplot.xy.*;

import java.text.FieldPosition;
import java.text.Format;
import java.text.ParsePosition;
import java.util.*;

/**
 * A simple XYPlot
 */
public class SimpleXYPlotActivity extends Activity {

    private XYPlot plot;

    @Override
    public void onCreate(Bundle savedInstanceState)
    {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.simple_xy_plot_example);

        // initialize our XYPlot reference:
        plot = (XYPlot) findViewById(R.id.plot);

        // create a couple arrays of y-values to plot:
        final Number[] domainLabels = {1, 2, 3, 6, 7, 8, 9, 10, 13, 14};
        Number[] series1Numbers = {1, 4, 2, 8, 4, 16, 8, 32, 16, 64};
        Number[] series2Numbers = {5, 2, 10, 5, 20, 10, 40, 20, 80, 40};

        // turn the above arrays into XYSeries':
        // (Y_VALS_ONLY means use the element index as the x value)
        XYSeries series1 = new SimpleXYSeries(
                Arrays.asList(series1Numbers), SimpleXYSeries.ArrayFormat.Y_VALS_ONLY, "Series1");
        XYSeries series2 = new SimpleXYSeries(
                Arrays.asList(series2Numbers), SimpleXYSeries.ArrayFormat.Y_VALS_ONLY, "Series2");

        // create formatters to use for drawing a series using LineAndPointRenderer
        // and configure them from xml:
        LineAndPointFormatter series1Format =
                new LineAndPointFormatter(this, R.xml.line_point_formatter_with_labels);

        LineAndPointFormatter series2Format =
                new LineAndPointFormatter(this, R.xml.line_point_formatter_with_labels_2);

        // add an "dash" effect to the series2 line:
        series2Format.getLinePaint().setPathEffect(new DashPathEffect(new float[] {

                // always use DP when specifying pixel sizes, to keep things consistent across devices:
                PixelUtils.dpToPix(20),
                PixelUtils.dpToPix(15)}, 0));

        // just for fun, add some smoothing to the lines:
        // see: http://androidplot.com/smooth-curves-and-androidplot/
        series1Format.setInterpolationParams(
                new CatmullRomInterpolator.Params(10, CatmullRomInterpolator.Type.Centripetal));

        series2Format.setInterpolationParams(
                new CatmullRomInterpolator.Params(10, CatmullRomInterpolator.Type.Centripetal));

        // add a new series' to the xyplot:
        plot.addSeries(series1, series1Format);
        plot.addSeries(series2, series2Format);

        plot.getGraph().getLineLabelStyle(XYGraphWidget.Edge.BOTTOM).setFormat(new Format() {
            @Override
            public StringBuffer format(Object obj, StringBuffer toAppendTo, FieldPosition pos) {
                int i = Math.round(((Number) obj).floatValue());
                return toAppendTo.append(domainLabels[i]);
            }
            @Override
            public Object parseObject(String source, ParsePosition pos) {
                return null;
            }
        });
    }
} 
```

上面代码的一个可能令人困惑的部分是 LineAndPointFormatter 的初始化
您可能注意到它们对 xml 资源文件进行了神秘的引用。这实际上是使用[Fig](https://github.com/halfhp/fig)从 XML 配置实例属性。

如果您希望避免使用 XML 并将所有内容保留在 Java 中，只需替换代码：

```
LineAndPointFormatter series1Format = 
    new LineAndPointFormatter(this, R.xml.line_point_formatter_with_labels); 
```

和：

```
LineAndPointFormatter series1Format = new LineAndPointFormatter(Color.RED, Color.GREEN, Color.BLUE, null); 
```

一般来说，XML 配置应该尽可能地使用而不是编程配置，因为它在通过屏幕密度等定义属性方面产生了更大的灵活性。有关如何以编程方式配置格式化程序等的更多详细信息，请参阅最新的 Javadocs。

继续上面的原始示例，将这些文件添加到**/res/xml**目录中：

#### /res/xml/line_point_formatter_with_labels.xml

```
<?xml version="1.0" encoding="utf-8"?>
<config
    linePaint.strokeWidth="5dp"
    linePaint.color="#00AA00"
    vertexPaint.color="#007700"
    vertexPaint.strokeWidth="20dp"
    fillPaint.color="#00000000"
    pointLabelFormatter.textPaint.color="#CCCCCC"/> 
```

#### /res/xml/line_point_formatter_with_labels_2.xml

```
<?xml version="1.0" encoding="utf-8"?>
<config
    linePaint.strokeWidth="5dp"
    linePaint.color="#0000AA"
    vertexPaint.strokeWidth="20dp"
    vertexPaint.color="#000099"
    fillPaint.color="#00000000"
    pointLabelFormatter.textPaint.color="#CCCCCC"/> 
```

# rest - REST 中用户的表示

> ID：12889595
> 
> 赞同：3
> 
> 时间：2012-10-15T05:08:46.637
> 
> 标签：rest, authentication, restful-architecture

我慢慢开始理解 REST 并且有一件事让我感到困惑。

我知道 REST 中的大部分内容都是“资源”。所以我想知道在用户注册/登录的情况下我们指的是哪种资源？

是`users`吗？那么这是否意味着一个 POST on`users`将注册一个新用户。如果是这种情况，那么我如何验证用户身份？`users`带有编码密码/用户名对的 GET ？

我真的很困惑。

鉴于我刚刚开始了解 REST，我的理解可能**完全错误。**

任何帮助表示赞赏！

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-15T09:40:48.480

对于 REST 来说，这是一个不寻常但常见的问题。继续思考资源。

当您登录时，您要求服务器为您创建一个会话以访问某些资源。所以在这种情况下，要创建的资源将是一个会话。因此，url 可能是**/api/sessions**并且带有会话对象（可能只是一个由用户名或密码以及可能是 UUID 组成的对象）的 POST 到该 url 将创建一个会话。**在真正的 REST 中，您可能会在/api/sessions/{UUID}**指向一个新会话，但实际上（出于安全目的）您可能只是注册一个会话 cookie。

如果我要自己实现登录表单，那是我个人的登录表单方法，但我总是倾向于使用[Spring 安全性](http://static.springsource.org/spring-security/site/reference.html)来完成这项工作，所以这个要求从来没有真正考虑过。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-23T10:10:50.333

我正在做类似的事情，这是我迄今为止采取的解决方案。欢迎任何建议:)

我`users`专门用于注册和帐户修改。

*   `GET /users/{id}`例如，获取个人资料页面的用户
*   `PUT /users`使用用户名和密码创建一个新用户。实际上，这应该发送一封带有链接的电子邮件，该链接可以通过 GET 方法确认注册。
*   `POST /users/{id}`修改用户（例如更改密码）
*   `DELETE /users/{id}`

对于身份验证，我倾向于认为我请求的资源是令牌或身份验证。我试图避免使用“会话”这个词，因为它应该是反 RESTful 的，但如果您只是为您的客户端创建一个实际的服务器端会话的错觉，我想这很好。

*   `PUT /authentication/`使用用户名/密码返回 Set-Cookie 和对 user_id / 散列值。也许它应该是 POST。没有把握
*   `DELETE /authentication/{user_id}`只是删除 cookie 并且用户退出。也许代替`user_id`它应该是一个独特的`token_id`.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-15T09:27:48.783

可以使用 restful 方法创建、读取、更新和删除资源，例如： [https ://cwiki.apache.org/S2PLUGINS/restful-crud-for-html-methods.html](https://cwiki.apache.org/S2PLUGINS/restful-crud-for-html-methods.html)

因此，如果您想管理您的用户，这将是一种比较安静的方法。

如果您想对管理数据集中的用户进行身份验证，您需要设计或选择一个 restful 身份验证机制，请参见 [http://de.slideshare.net/sullis/oauth-and-rest-web-services](http://de.slideshare.net/sullis/oauth-and-rest-web-services) http ://www.thebuzzmedia.com/designing-a-secure-rest-api-without-oauth-authentication/

要快速了解这些问题，您可能需要查看 dropwizard： [http ://dropwizard.codahale.com/](http://dropwizard.codahale.com/)

* * *

## 回答 #4

> 赞同：-2
> 
> 时间：2012-10-15T05:15:44.637

一个资源可能有一个或多个 URI，但一个 URI 将只有一个资源

因此，在对用户进行身份验证时，您正在处理已注册的用户，而在注册时，您正在处理尚未注册的用户（资源）。

您所需要的只是一种将其处理到您的服务器的方法。

这是一个取自 SUGARCRM REST Web 服务实现的示例。REST 就像对您的 SERVER 的 http 请求。

例如，在实现 REST Web 服务时。每个 REST 请求都将指向同一个文件说

`www.your_domain.com/Rest.php?json={your_json_method:'method',params:'watever'}`

Json 中的哪里是您作为参数发送的请求

请求验证用户 `{method:'SignUp', username:'abc', pass:'pass', confirm_pass:'pass'}` 请求注册用户 `{method:'Login', username:'abc', pass:'pass'}`

通过这种方式，您可以拥有任意数量的参数

记住 JSON 不是必须使用的。您可以使用简单的获取参数进行查询

# php - 发送 AUTH LOGIN 命令失败。错误：530 5.7.0 必须先发出 STARTTLS 命令

> ID：12889596
> 
> 赞同：0
> 
> 时间：2012-10-15T05:08:50.367
> 
> 标签：php, codeigniter, smtp, gmail, starttls

我有以下代码

```
 ini_set("SMTP","ssl://smtp.gmail.com");
            ini_set("smtp_port","587");

            $config['protocol'] = 'smtp';
            $config['smtp_host'] = 'smtp.gmail.com';
            $config['smtp_port'] = '587';
            $config['_smtp_auth']=TRUE;
            $config['smtp_user'] = 'sender@gmail.com';
            $config['smtp_pass'] = 'password';
            $config['smtp_timeout'] = '60';
            $config['charset'] = 'utf-8';
            $config['wordwrap'] = TRUE;
            $config['mailtype'] = "html";

            $this->email->initialize($config);

            $this->email->from('sender@gmail.com', 'Sender');
            $this->email->to('receiver@gmail.com');

            $this->email->subject('This is my subject');
            $this->email->message('This is the content of my message');

            if ( ! $this->email->send())
            {
                show_error($this->email->print_debugger());
            }
            else
            {
                echo('DONE');
            } 
```

但是当代码执行时，我收到以下错误

> 发送 AUTH LOGIN 命令失败。错误：530 5.7.0 必须先发出 STARTTLS 命令。qd9sm8462833pbb.31

我用过

```
$this->load->library('email'); 
```

在我的控制器的构造函数中。但我无法从本地主机发送电子邮件。发送电子邮件的解决方案是什么？我需要做哪些改变？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2016-10-30T15:16:11.253

```
$config['protocol'] = 'smtp';
$config['smtp_host'] = 'ssl://smtp.gmail.com';
$config['smtp_port'] = '465'; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-08-06T21:30:27.343

我认为您应该在您的 Gmail 帐户中设置“启用 IMAP”选项。

它在邮件选项中。

并将您的端口更改为 465 ...

```
$config['smtp_port'] = '587'; 
```

至

```
$config['smtp_port'] = '465'; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-07-22T14:03:21.050

添加：

```
$config['smtp_crypto'] = 'tls'; // or html 
```

# jquery - 使用 jquery 使 animate.css 效果 onhover 和 onclick

> ID：12889603
> 
> 赞同：5
> 
> 时间：2012-10-15T05:09:44.093
> 
> 标签：jquery, css

我正在使用`CSS3`Dan Eden 的动画。

我在处理`jquery`悬停或点击事件时遇到了麻烦。

这是[我正在研究的小提琴](http://jsfiddle.net/TFfGL/115/)。

1.  请注意，div 在动画铰链效果下从屏幕上掉下来，但随后又回到原来的位置。我需要它永久地从屏幕上掉下来，或者直到重新加载页面。

2.  您在其中看到的`jquery`片段只是我一直在使用的替代后备，因为我还不能`jquery`使用`CSS`动画。（该片段在我的网站上有效，但由于某种原因它在小提琴中不起作用。）

那么如何使用单击（或悬停）事件触发`CSS`动画？`jquery`

单击后，该 div 不应再次出现。

我尝试过的事情：

`jquery addClass`，根据[丹的建议](https://github.com/daneden/animate.css/blob/master/README.md)：

上述页面 URL 上给出的示例：

```
$('#yourElement').addClass('animated bounceOutLeft'); 
```

我也尝试将`CSS3 .animated`and更改`.hinge`为使用`:active`，但没有运气，如果我没记错的话，它仍然将 div 放回去而不是让它永久脱落。

如果有人能指出我的方向。我花了几天时间试图让整个事情顺利进行。我大部分时间都在阅读我能找到的关于这个主题的所有内容。我想学习如何做到这一点，而不仅仅是为我修好它。

如果我缺少任何信息，我是这个论坛的新手，所以请放轻松。:)

解决方案，已解决：

```
$('#pricetag_overlay1 a').click(function(){ 
            $('#pricetag_overlay1').toggleClass("animated hinge",function(){
               $(this).remove();
            });
        }); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-15T06:05:05.317

我已经更新了你的[小提琴](http://jsfiddle.net/TFfGL/117/)，可以按照你的喜好工作

要使用 jquery 监控 CSS3 动画，请参阅[此链接](http://www.gianlucaguarini.com/blog/how-to-control-css3-animations-and-css3-transitions-using-jquery/)。

笔记：

```
$(window).load(function(){}) 
```

上面的脚本只会在初始页面加载时触发

所以更喜欢使用

```
$(document).ready(function(){}); 
```

# php - 如何将查询结果拆分为多页（分页）并对查询数据进行排序？

> ID：12889604
> 
> 赞同：0
> 
> 时间：2012-10-15T05:09:46.700
> 
> 标签：php, codeigniter, templates, activerecord

在我的模型中，我得到了整张`order`桌子。

```
return $this->db->get('order')->result(); 
```

在我看来，我会`foreach`遍历数据。

```
<?php foreach ($orders as $order) : ?>
<tr>
   <td><?php echo $order->id; ?></td>
   <td><?php echo $order->order_status; ?></td>
   <td><?php echo $order->cart; ?></td>
     . . . 
<?php endforeach; ?> 
```

好的，这就像一个魅力。但是我需要能够在这里进行一些数据整理。

1.  我希望能够对记录进行排序，`id`以便我可以得到最新的
2.  我想拆分结果（分页）说每 25 条记录并添加（转到下一页链接）

我正在使用**Codeigniter**并基于 MVC 模式进行构建。那么他们可能是一个库或内置函数，`CI`可以让我实现这两个目标吗？我感谢所有有用的建议、代码示例和一般指导。提前感谢您的宝贵时间！:)

**编辑 1**

抱歉，我没有提到这一点。有人可以给我一个例子，说明如何`query`构建需求`return $this->db->get('order', 25)->result();`并不能完全给我想要的结果。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-15T05:55:49.407

您可以使用此代码通过分页获取查询结果：

```
<?php
/*
    Place code to connect to your DB here.
*/
include('config.php');  // include your code to connect to DB.

$tbl_name="";       //your table name
// How many adjacent pages should be shown on each side?
$adjacents = 3;

/* 
   First get total number of rows in data table. 
   If you have a WHERE clause in your query, make sure you mirror it here.
*/
$query = "SELECT COUNT(*) as num FROM $tbl_name";
$total_pages = mysql_fetch_array(mysql_query($query));
$total_pages = $total_pages[num];

/* Setup vars for query. */
$targetpage = "filename.php";   //your file name  (the name of this file)
$limit = 2;                                 //how many items to show per page
$page = $_GET['page'];
if($page) 
    $start = ($page - 1) * $limit;          //first item to display on this page
else
    $start = 0;                             //if no page var is given, set start to 0

/* Get data. */
$sql = "SELECT column_name FROM $tbl_name LIMIT $start, $limit";
$result = mysql_query($sql);

/* Setup page vars for display. */
if ($page == 0) $page = 1;                  //if no page var is given, default to 1.
$prev = $page - 1;                          //previous page is page - 1
$next = $page + 1;                          //next page is page + 1
$lastpage = ceil($total_pages/$limit);      //lastpage is = total pages / items per page, rounded up.
$lpm1 = $lastpage - 1;                      //last page minus 1

/* 
    Now we apply our rules and draw the pagination object. 
    We're actually saving the code to a variable in case we want to draw it more than once.
*/
$pagination = "";
if($lastpage > 1)
{   
    $pagination .= "<div class=\"pagination\">";
    //previous button
    if ($page > 1) 
        $pagination.= "<a href=\"$targetpage?page=$prev\">� previous</a>";
    else
        $pagination.= "<span class=\"disabled\">� previous</span>";   

    //pages 
    if ($lastpage < 7 + ($adjacents * 2))   //not enough pages to bother breaking it up
    {   
        for ($counter = 1; $counter <= $lastpage; $counter++)
        {
            if ($counter == $page)
                $pagination.= "<span class=\"current\">$counter</span>";
            else
                $pagination.= "<a href=\"$targetpage?page=$counter\">$counter</a>";                 
        }
    }
    elseif($lastpage > 5 + ($adjacents * 2))    //enough pages to hide some
    {
        //close to beginning; only hide later pages
        if($page < 1 + ($adjacents * 2))        
        {
            for ($counter = 1; $counter < 4 + ($adjacents * 2); $counter++)
            {
                if ($counter == $page)
                    $pagination.= "<span class=\"current\">$counter</span>";
                else
                    $pagination.= "<a href=\"$targetpage?page=$counter\">$counter</a>";                 
            }
            $pagination.= "...";
            $pagination.= "<a href=\"$targetpage?page=$lpm1\">$lpm1</a>";
            $pagination.= "<a href=\"$targetpage?page=$lastpage\">$lastpage</a>";       
        }
        //in middle; hide some front and some back
        elseif($lastpage - ($adjacents * 2) > $page && $page > ($adjacents * 2))
        {
            $pagination.= "<a href=\"$targetpage?page=1\">1</a>";
            $pagination.= "<a href=\"$targetpage?page=2\">2</a>";
            $pagination.= "...";
            for ($counter = $page - $adjacents; $counter <= $page + $adjacents; $counter++)
            {
                if ($counter == $page)
                    $pagination.= "<span class=\"current\">$counter</span>";
                else
                    $pagination.= "<a href=\"$targetpage?page=$counter\">$counter</a>";                 
            }
            $pagination.= "...";
            $pagination.= "<a href=\"$targetpage?page=$lpm1\">$lpm1</a>";
            $pagination.= "<a href=\"$targetpage?page=$lastpage\">$lastpage</a>";       
        }
        //close to end; only hide early pages
        else
        {
            $pagination.= "<a href=\"$targetpage?page=1\">1</a>";
            $pagination.= "<a href=\"$targetpage?page=2\">2</a>";
            $pagination.= "...";
            for ($counter = $lastpage - (2 + ($adjacents * 2)); $counter <= $lastpage; $counter++)
            {
                if ($counter == $page)
                    $pagination.= "<span class=\"current\">$counter</span>";
                else
                    $pagination.= "<a href=\"$targetpage?page=$counter\">$counter</a>";                 
            }
        }
    }

    //next button
    if ($page < $counter - 1) 
        $pagination.= "<a href=\"$targetpage?page=$next\">next �&lt;/a>";
    else
        $pagination.= "<span class=\"disabled\">next �&lt;/span>";
    $pagination.= "</div>\n";       
}
?>

<?php
    while($row = mysql_fetch_array($result))
    {

    // Your while loop here

    }
?>

<?=$pagination?> 
```

将此添加到您的 css 文件中：

```
div.pagination {
padding: 3px;
margin: 3px;
}

div.pagination a {
padding: 2px 5px 2px 5px;
margin: 2px;
border: 1px solid #AAAADD;

text-decoration: none; /* no underline */
color: #000099;
}
div.pagination a:hover, div.pagination a:active {
border: 1px solid #000099;

color: #000;
}
div.pagination span.current {
padding: 2px 5px 2px 5px;
margin: 2px;
    border: 1px solid #000099;

    font-weight: bold;
    background-color: #000099;
    color: #FFF;
}
div.pagination span.disabled {
    padding: 2px 5px 2px 5px;
    margin: 2px;
    border: 1px solid #EEE;

    color: #DDD;
} 
```

希望它有所帮助..快乐编码！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-15T05:15:21.493

您可以使用 codeIgniter 的 Pagination 类，它非常易于使用，并且是 100% 可定制的，无论是动态的还是通过存储的首选项......

[http://ellislab.com/codeigniter/user_guide/libraries/pagination.html](http://ellislab.com/codeigniter/user_guide/libraries/pagination.html)

通过分页课程将帮助你解决你的 1) 问题......否则你可以在你的查询中使用 order by。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-15T05:15:32.923

您可以使用 codeigniter 自定义库分页查看这些页面来实现此目的。

[http://phpmaster.com/pagination-with-codeigniter/](http://phpmaster.com/pagination-with-codeigniter/)

[http://ellislab.com/codeigniter/user_guide/libraries/pagination.html](http://ellislab.com/codeigniter/user_guide/libraries/pagination.html)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-15T05:19:16.130

您可以将 Datatables jquery 插件与服务器端实现一起使用，下面已经有一个用于代码点火器的数据表包装器类的实现是存储库的链接

它被称为点燃的数据表

[在 github 上点燃数据表](https://github.com/IgnitedDatatables/Ignited-Datatables)

您可以分叉上述存储库并根据您的需要进行尝试

并且使用数据[表](http://datatables.net/)还有另一个优点，您可以指定服务器端调用几乎所有不错的功能

如表格搜索、分页、排序等

编辑：-查看您的编辑后，我发现您在服务器端获取数据时也有问题，这是 codeignitor 模型函数，将此函数放在模型类中并实例化并调用您的模型。

通过限制并适当地按列名排序

```
function getResult($limit, $offset, $sort_by, $sort_order) {

        $sort_order = ($sort_order == 'desc') ? 'desc' : 'asc';
        $sort_columns = array('id', 'title', 'category', 'rating', 'price');

            // set default column name to sortby as per your need 
        $sort_by = (in_array($sort_by, $sort_columns)) ? $sort_by : 'title';

        // results query  
            // Change column names as per your need 

        $q = $this->db->select('id, title, category,  rating, price')
            ->from('Order')
            ->limit($limit, $offset)
            ->order_by($sort_by, $sort_order);

        $ret['rows'] = $q->get()->result();

        // count query
        $q = $this->db->select('COUNT(*) as count', FALSE)
            ->from('Order');

        $tmp = $q->get()->result();

        $ret['num_rows'] = $tmp[0]->count;

        return $ret;
    } 
```

# android - 如何从资产文件夹中打开 Android 中的 PDF 文件？

> ID：12889608
> 
> 赞同：9
> 
> 时间：2012-10-15T05:10:42.233
> 
> 标签：android, pdf

有人知道如何在 Android 中打开 PDF 文件吗？我的代码看起来是这样的：

```
public class SampleActivity extends Activity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);
        CopyReadAssets();    
    }

    private void CopyReadAssets() {
        AssetManager assetManager = getAssets();

        InputStream in = null;
        OutputStream out = null;
        File file = new File(getFilesDir(), "git.pdf");
        try {
            in = assetManager.open("git.pdf");
            out = openFileOutput(file.getName(), Context.MODE_WORLD_READABLE);

            copyFile(in, out);
            in.close();
            in = null;
            out.flush();
            out.close();
            out = null;
        } catch (Exception e) {
            Log.e("tag", e.getMessage());
        }

        Intent intent = new Intent(Intent.ACTION_VIEW);
        intent.setDataAndType(
                Uri.parse("file://" + getFilesDir() + "/git.pdf"),
                "application/pdf");

        startActivity(intent);
    }

    private void copyFile(InputStream in, OutputStream out) throws IOException {
        byte[] buffer = new byte[1024];
        int read;
        while ((read = in.read(buffer)) != -1) {
            out.write(buffer, 0, read);
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-09-10T10:24:30.170

以下是从资产文件夹打开 pdf 文件的代码，但您的设备上必须安装 pdf 阅读器：

```
 private void CopyAssets() {

        AssetManager assetManager = getAssets();

        InputStream in = null;
        OutputStream out = null;
        File file = new File(getFilesDir(), "fileName.pdf");
        try {
            in = assetManager.open("fileName.pdf");
            out = openFileOutput(file.getName(), Context.MODE_WORLD_READABLE);

            copyFile(in, out);
            in.close();
            in = null;
            out.flush();
            out.close();
            out = null;
        } catch (Exception e) {
            Log.e("tag", e.getMessage());
        }

        Intent intent = new Intent(Intent.ACTION_VIEW);
        intent.setDataAndType(
                Uri.parse("file://" + getFilesDir() + "/fileName.pdf"),
                "application/pdf");

        startActivity(intent);
    }

    private void copyFile(InputStream in, OutputStream out) throws IOException {
        byte[] buffer = new byte[1024];
        int read;
        while ((read = in.read(buffer)) != -1) {
            out.write(buffer, 0, read);
        }
    } 
```

# android - 如何使用列表视图项目行调用另一个活动

> ID：12889609
> 
> 赞同：0
> 
> 时间：2012-10-15T05:10:47.087
> 
> 标签：android, android-layout, android-intent, android-emulator

我正在制作一个应用程序，其中使用 listview 中的 url 从 xml 获取数据，现在我想使用 listview 项目行调用另一个活动，例如：- 如果用户将单击第一个 listview 行，则需要调用 item.class，实际上我如果我不会在下一个活动中使用 web url，我可以调用另一个活动，但是如果我想调用也使用 xml 解析器从 url 获取数据的活动，那么我会收到此错误：- 不幸的是应用程序已停止，为什么，请有人告诉我如何解决这个问题？

**首先.java：**

```
list.setOnItemClickListener(new OnItemClickListener() {
public void onItemClick(AdapterView<?> parent, View view,
                int position, long id) 
{
    if(position==0)
    {
            Intent in = new Intent(First.this, Item.class);
        startActivity(in);
    }
} 
```

**项目.java：**

```
 public class Item extends Activity {
// All static variables
static final String URL = "http://***.net/android/item.xml";
// XML node keys
static final String KEY_NODE = "pick"; // parent node
static final String KEY_TITLE = "title";
static final String KEY_DESC = "description";
    } 
```

**清单.xml：**

```
 <activity
        android:name=".First"
        android:label="@string/app_name" >
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />
            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>
    </activity>
    <activity android:name="Item"></activity> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-15T05:17:35.807

我认为这是错误： `<activity android:name="Item"></activity>`

肯定是

```
 <activity android:name=".Item"></activity> 
```

# c - 为什么这会接受无效输入？

> ID：12889612
> 
> 赞同：0
> 
> 时间：2012-10-15T05:11:15.167
> 
> 标签：c

我在c中有一个三角形程序

```
#include <stdio.h>

// A function which decides the type of the triangle and prints it
void checkTriangle(int s1, int s2,int s3)
{
    // Check the values whether it is triangle or not.
    if ((s1 + s2 > s3 && s1 +  s3 > s2 && s2 + s3 > s1) && (s1 > 0 && s2 > 0 && s3 > 0))
    {
        // Deciding type of triangle according to given input.
        if (s1 == s2 && s2 == s3)
            printf("EQUILATERAL TRIANGLE");
        else if (s1 == s2 || s2 == s3 || s1 == s3)
            printf("ISOSCELES TRIANGLE\n");
        else
            printf("SCALENE TRIANGLE \n");
    }
    else
        printf("\nTriangle could not be formed.");
}

int main(void)
{
    // Initializing variables
    int a,b,c;

    // Getting input from user
    printf("Please enter the sides of triangle");

    printf("\nPlease enter side 1:");
    scanf("%d",&a);

    printf("Please enter side 2:");
    scanf("%d",&b);

    printf("Please enter side 3:");
    scanf("%d",&c);

    // Calling function in order to print type of the triangle.
    checkTriangle(a,b,c);
} 
```

当输入为：

```
7b 
```

它给出了一个错误，这是我想要的，但是当我输入这样的数据时：

```
7
7
7b 
```

它忽略 'b' 并将 7 作为整数 - 但为什么呢？我怎样才能防止这种情况？

我想要做的是也给出一个错误

```
7
7
7b 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-15T05:29:32.817

如果您希望能够检测到用户输入的错误，例如行不是有效的十进制整数，那么您可以执行以下操作：

*   使用将输入读入缓冲区`fgets(buffer, size, stdin)`
*   用于`strtoul(buffer, &endptr, 10)`将缓冲区解析为十进制整数（以**10**为底），其中`endptr`是`char*`
*   `endptr`将指向 中的第一个无效字符`buffer`，即。最后一个成功解析的字符之后的字符
*   现在如果`*endptr == '\0'`，即。`endptr`指向结尾`buffer`，*整个*字符串被解析为有效的十进制整数

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-15T05:32:47.363

如果您真的希望每个数字在单独的输入行上，并且整行都是有效的数字或空格，那么您可能需要忘记`scanf()`和家人并使用`fgets()`and`strtol()`代替。

```
#include <stdlib.h>
#include <errno.h>
#include <stdio.h>
#include <ctype.h>
#include <limits.h>

static int read_side(void)
{
    char buffer[4096];
    if (fgets(buffer, sizeof(buffer), stdin) == 0)  // EOF
        return -1;
    char *end;
    errno = 0;
    long result = strtol(buffer, &end, 10);
    if (result < 0 || errno != 0) // Neither errors nor negative numbers are allowed
        return -1;
    if (end == buffer)     // Nothing was convertible
        return -1;
    while (isspace(*end))
        end++;
    if (*end != '\0')      // Non-spaces after the last digit
        return -1;
    if (result > INT_MAX)  // Result too big for `int`
        return -1;
    return result;
} 
```

（如果您需要接受任何有效值`int`但要区分错误，那么您将传递一个指向函数的指针并在错误时返回 -1 或在成功时返回 0，并将安全结果分配给指针。）

是的，正确地完成这项工作确实很繁琐。是的，分析结果`strtol()`就是这么棘手；你必须非常小心。（并且有一个外部机会我忘记检查可检测的错误条件。）不，我认为你不能用`scanf()`et al 做同样的工作。特别是，溢出的行为`scanf()`是未定义的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-15T05:12:34.417

`%d`只接受整数。尝试`%x`在 scanf() 中进行十六进制输入。

更好的是，您可以将输入作为字符串获取，然后使用@mou 建议的`isnumeric()`else 使用进行检查。`scanf("%[^\n]s", word)`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-15T05:17:03.940

你不应该使用 scanf 或做 scanf("%[^\n]s", word); 或者使用 get() 之类的东西，也将 d 或 x 放在我的示例末尾，而不是 s 用于字符串：P

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-15T05:18:42.877

将输入读入字符串缓冲区。解析字符串以逐一提取任何类型的数值。

# javascript - 将数据添加到从 JS 调用的 div

> ID：12889616
> 
> 赞同：1
> 
> 时间：2012-10-15T05:11:36.620
> 
> 标签：javascript

我有一个简单的脚本即时测试，它调用一个 HTML 文件。在那个 html 文件中是一个 div 的 id `"test2"`。

然后，我尝试将内容添加到它的 innerHTML 中，但它的行为就像它不存在一样，即使 div 显示在浏览器中。

这就是我接近这个想法的方式：

```
<script>

function call_file(file,div_id){
var xmlhttp;
if (window.XMLHttpRequest)
  {// code for IE7+, Firefox, Chrome, Opera, Safari
  xmlhttp=new XMLHttpRequest();
  }
else
  {// code for IE6, IE5
  xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
  }
xmlhttp.onreadystatechange=function()
  {
  if (xmlhttp.readyState==4 && xmlhttp.status==200)
    {
    document.getElementById(div_id).innerHTML=xmlhttp.responseText;
    }
  }
xmlhttp.open("GET",file,true);
xmlhttp.send();

}

window.onload = function() {  

  file = 'test.html';
  div_id = 'test';
  call_file(file,div_id);
  document.getElementById('test2').innerHTML = 'Hi';
};
</script>
  <div id="test" class="outer""></div> 
```

“test.html”的内容：

```
<div id="test2" class="inner"></div> 
```

`"test2"`为什么即使我亲眼看到了 div，它也找不到带有此错误的 id ：

```
Cannot set property 'innerHTML' of null 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-15T05:24:20.077

您正在进行异步调用，因此`send()`将在收到响应并将其添加到 DOM 之前返回。任何依赖于接收数据的代码都应该在您的`onreadystatechange`函数中，或者以某种方式由它触发，以便在收到响应数据之前它不会执行。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-15T05:24:00.297

你不能设置它，因为它还不存在。您需要等到它加载完毕。

您可以使用回调函数来做到这一点。

```
function call_file(file,div_id, callback){
var xmlhttp;
if (window.XMLHttpRequest)
  {// code for IE7+, Firefox, Chrome, Opera, Safari
  xmlhttp=new XMLHttpRequest();
  }
else
  {// code for IE6, IE5
  xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
  }
xmlhttp.onreadystatechange=function()
  {
  if (xmlhttp.readyState==4 && xmlhttp.status==200)
    {
    document.getElementById(div_id).innerHTML=xmlhttp.responseText;
    return callback();
    }
  }
xmlhttp.open("GET",file,true);
xmlhttp.send();

}

window.onload = function() {  

  file = 'test.html';
  div_id = 'test';
  call_file(file,div_id, function () {
   document.getElementById('test2').innerHTML = 'Hi';
  });
}; 
```

# objective-c - 在objective-c中创建一个静态库项目

> ID：12889617
> 
> 赞同：0
> 
> 时间：2012-10-15T05:11:37.520
> 
> 标签：objective-c, macos, static-libraries

如何在 MAC OS X 的 xcode 3.2 中的 Objective-C 中创建静态库项目。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-15T05:31:13.017

在 Objective 中创建静态库有一个很好的教程。[这里](http://www.icodeblog.com/2011/04/07/creating-static-libraries-for-ios/)

您可以按照本教程创建静态库。

# c++ - 了解着色器编程

> ID：12889619
> 
> 赞同：2
> 
> 时间：2012-10-15T05:11:54.230
> 
> 标签：c++, directx, buffer, shader

我正在尝试了解着色器编程，但在这一点上，文档不会进一步帮助我。

**1]**缓冲区的数据类型和大小是否必须匹配？

在 DX SDK 的 DX 教程 4 中，它们有一个结构：

```
struct SimpleVertex{
    XMFLOAT3 Pos;
    XMFLOAT4 Color;
}; 
```

在他们的着色器文件中，他们定义：

```
struct VS_OUTPUT{
    float4 Pos : SV_POSITION;
    float4 Color : COLOR0;
}; 
```

他们在一个文件中将 Pos 定义为 3 的向量，而在另一个文件中定义为 4。这是如何正确的？我认为数据的大小必须匹配。

**2]**要创建另一个常量缓冲区，这是我需要做的步骤吗？

```
// Make in shader file
cbuffer LightBuffer : register(b0){
    float3 lDir;
    float4 lColor;
}

// Make in C++ file
struct LightBuffer{
    XMFLOAT3 Direction;
    XMFLOAT4 Color;
};

    ...

LightBuffer lb;
lb.Direction=XMFLOAT3(-1.0f, -10.0f, 4.0f); // Make an instance of it
lb.Color=XMFLOAT4(0.35f, 0.5f, 1.0f, 1.0f);

    ...

ID3D11Buffer* lightBuffer=NULL; // Declare in global scope

D3D11_BUFFER_DESC bd;
ZeroMemory(&bd, sizeof(bd));
bd.Usage=D3D11_USAGE_DEFAULT;
bd.ByteWidth=sizeof(LightBuffer);
bd.BindFlags=D3D11_BIND_CONSTANT_BUFFER;

hr=graphics->deviceInterface->CreateBuffer(&bd, NULL, &lightBuffer);

graphics->deviceContext->UpdateSubresource(lightBuffer, 0, NULL, &lb, 0, 0);

graphics->deviceContext->PSSetConstantBuffers(0, 1, &lightBuffer); 
```

这些是我做的步骤，类似于教程中的常量缓冲区。它最终什么也没有产生。

我偶然发现，如果我将**LightBuffer::XMFLOAT3 Direction**的类型更改为 XMFLOAT4，它就可以工作。我不明白什么？为什么我不能拥有我想要的类型？

谢谢阅读。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-15T18:33:49.633

1-从结构的名称可以看出，它不是顶点着色器的输入而是输出。顶点着色器应将位置变量输出为 4 个浮点数（同质坐标）。所以在着色器文件的某个地方，应该有一个将向量扩展为 float4 变量的操作（类似于“float4(inputPos, 1.0);”）。

2-这可能是对齐问题。GPU 设计用于处理 4D 矢量。在使用常量缓冲区时，尝试首先使用矩阵创建结构，然后使用 4D 变量，然后使用 3D 变量，依此类推。或者你可以像你说的那样添加额外的未使用的填充字节。如果你有太多的非 4D 向量，你可以用 'packoffset' 关键字将它们打包到一个插槽中，以免浪费 GPU 寄存器。详细解释在这里：http: [//msdn.microsoft.com/en-us/library/windows/desktop/bb509581 (v=vs.85).aspx](http://msdn.microsoft.com/en-us/library/windows/desktop/bb509581(v=vs.85).aspx)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-15T18:34:15.233

1.  SimpleVertex 是定义*输入*顶点布局的 C++ 端结构。VS_OUTPUT 是定义顶点着色器*输出*/像素着色器*输入*的 hlsl 侧结构。SimpleVertex 的布局对应于顶点着色器*输入*，它是顶点着色器函数 VS(float4 Pos : POSITION, float4 Color: COLOR) 的参数。在 D3D11 中，您使用 ID3D11InputLayout 对象（在 C++ 端）来描述输入顶点布局（SimpleVertex 结构）应如何绑定到顶点着色器输入。如果您在 C++ 源代码中搜索 InputLayout 教程，您将看到它的创建位置。
2.  您需要考虑与常量缓冲区的对齐。常量缓冲区成员在 float4 边界上对齐，但 C++ 结构不是这样，当您使用 XMFLOAT3 作为方向时，您的 XMFLOAT4 颜色与常量缓冲区在 hlsl 中定义的布局不一致。

# c++ - 从不同的线程，不同的功能写入（记录）到同一个文件中？

> ID：12889620
> 
> 赞同：5
> 
> 时间：2012-10-15T05:11:59.673
> 
> 标签：c++, multithreading, file, logging

在 C++ 中，有没有办法在以下情况下使写入文件线程安全？

```
void foo_one(){
lock(mutex1);
//open file abc.txt
//write into file
//close file
unlock(mutex1);
}

void foo_two(){
lock(mutex2);
//open file abc.txt
//write into file
//close file
unlock(mutex2);
} 
```

在我的应用程序（多线程）中，foo_one() 和 foo_two() 很可能同时由两个不同的线程执行。有什么方法可以使上述线程安全吗？

我考虑过使用文件锁（ fcntl 和/或 lockf ），但不确定如何使用它们，因为 fopen() 已在应用程序中使用（性能原因），并且在某处声明不应使用这些文件锁使用 fopen （因为它是缓冲的）

PS：函数 foo_one() 和 foo_two() 属于两个不同的类，它们之间没有办法共享数据:( 遗憾的是，设计是一个函数不能调用另一个函数。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-15T05:37:19.530

添加记录功能。
这两个函数都调用日志记录函数（执行适当的锁定）。

```
mutex  logMutex;
void log(std::string const& msg)
{
    RAIILock  lock(logMutex);

    // open("abc.txt");
    // write msg
    // close
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-15T05:36:16.297

如果你真的需要一个记录器，不要试图简单地通过写入文件来完成它，也许使用一个专用的记录器，从而将关注点与你正在编写的代码分开。有许多线程安全的记录器：首先想到的是：[g2log](http://www.codeproject.com/Articles/288827/g2log-An-efficient-asynchronous-logger-using-Cplus)。进一步谷歌搜索你会发现[log4cplus ，](http://sourceforge.net/projects/log4cplus/)[这里](https://stackoverflow.com/questions/439791/what-is-the-most-efficient-thread-safe-c-logger)的讨论，甚至是[极简主义](http://www.codeproject.com/Articles/35989/Minimalist-Logger)的讨论，[+1](http://cpplogging.codeplex.com/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-15T05:33:06.927

你应该这样做，有一个带有互斥锁和 ofstream 的结构：

```
struct parser {
    ofstream myfile
    mutex lock
}; 
```

然后您可以将此结构 (a) 作为 void* 传递给 foo1 和 foo2

```
parser * a = new parser(); 
```

初始化互斥锁，然后您可以将结构传递给这两个函数。

```
void foo_one(void * a){
     parser * b = reinterperet_cast<parser *>(a);
     lock(b->lock);
         b->myfile.open("abc.txt");
         //write into file
         b->myfile.close();
      unlock(b->mutex);
} 
```

您可以对 foo_two 函数执行相同的操作。这将提供一种线程安全的方法来写入同一个文件。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-15T05:24:57.417

`foo_one()`如果函数的本质`foo_two()`只是打开文件，写一些东西，然后关闭它，那么使用相同的互斥锁来防止它们相互混淆：

```
void foo_one(){
  lock(foo_mutex);
  //open file abc.txt
  //write into file
  //close file
  unlock(foo_mutex);
}

void foo_two(){
  lock(foo_mutex);
  //open file abc.txt
  //write into file
  //close file
  unlock(foo_mutex);
} 
```

当然，这是假设这些是唯一的作者。如果其他线程或进程写入文件，锁定文件可能是个好主意。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2016-07-14T13:53:03.930

试试这个代码。我已经用**MFC 控制台应用程序完成了这个**

```
#include "stdafx.h"
#include <mutex>

CWinApp theApp;
using namespace std;

const int size_ = 100; //thread array size
std::mutex mymutex;
void printRailLock(int id) {
    printf("#ID :%", id);
    lock_guard<std::mutex> lk(mymutex); // <- this is the lock
    CStdioFile lastLog;
    CString logfiledb{ "_FILE_2.txt" };
    CString str;
    str.Format(L"%d\n", id);
    bool opend = lastLog.Open(logfiledb, CFile::modeCreate | CFile::modeReadWrite | CFile::modeNoTruncate);
    if (opend) {
        lastLog.SeekToEnd();
        lastLog.WriteString(str);
        lastLog.Flush();
        lastLog.Close();
    }
}
int main()
{
    int nRetCode = 0;
    HMODULE hModule = ::GetModuleHandle(nullptr);

    if (hModule != nullptr)
    {       
        if (!AfxWinInit(hModule, nullptr, ::GetCommandLine(), 0))
        {            
            wprintf(L"Fatal Error: MFC initialization failed\n");
            nRetCode = 1;
        }
        else
        {
            std::thread threads[size_];
            for (int i = 0; i < size_; ++i) {
                threads[i] = std::thread(printRailLock, i + 1);
                Sleep(1000);
            }
            for (auto& th : threads) { th.hardware_concurrency(); th.join(); }
        }
    }
    else
    {       
        wprintf(L"Fatal Error: GetModuleHandle failed\n");
        nRetCode = 1;
    }

    return nRetCode;
} 
```

**参考：**

*   [http://www.cplusplus.com/reference/mutex/lock_guard/](http://www.cplusplus.com/reference/mutex/lock_guard/)
*   [http://www.cplusplus.com/reference/mutex/mutex/](http://www.cplusplus.com/reference/mutex/mutex/)
*   [http://devoptions.blogspot.com/2016/07/multi-threaded-file-writer-in-c_14.html](http://devoptions.blogspot.com/2016/07/multi-threaded-file-writer-in-c_14.html)

# c# - 如何使用企业库验证块为 Double 属性设置正则表达式验证。？

> ID：12889621
> 
> 赞同：1
> 
> 时间：2012-10-15T05:12:07.293
> 
> 标签：c#, enterprise-library

技术人员...

我有以下员工课程。

```
public class Employee
{
    public string Name { get; set; }
    public double Salary { get; set; }
} 
```

我只想将双重属性 Salary 的验证设置为仅接受数字。

我试过像下面这样。

```
<configuration>
<configSections>
    <section name="validation" type="Microsoft.Practices.EnterpriseLibrary.Validation.Configuration.ValidationSettings, Microsoft.Practices.EnterpriseLibrary.Validation, Version=5.0.505.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" requirePermission="true" />
</configSections>
<validation>
    <type name="namespace.Model.Common.Masters.Employee" defaultRuleset="SaveRuleset"
        assemblyName="namespace.Model.Common.Masters, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null">
        <ruleset name="SaveRuleset">
            <properties>
                <property name="Salary">
                    <validator type="Microsoft.Practices.EnterpriseLibrary.Validation.Validators.OrCompositeValidator, Microsoft.Practices.EnterpriseLibrary.Validation, Version=5.0.505.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35"
                        messageTemplate="Salary accept numbers only." name="Or Composite Validator">
                        <validator type="Microsoft.Practices.EnterpriseLibrary.Validation.Validators.NotNullValidator, Microsoft.Practices.EnterpriseLibrary.Validation, Version=5.0.505.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35"
                            negated="true" name="Not Null Validator" />
                        <validator type="Microsoft.Practices.EnterpriseLibrary.Validation.Validators.RegexValidator, Microsoft.Practices.EnterpriseLibrary.Validation, Version=5.0.505.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35"
                            pattern="^[0-9]" name="Regular Expression Validator" />
                    </validator>
                </property>
            </properties>
        </ruleset>
    </type>
</validation>
</configuration> 
```

我必须使用正则表达式吗？还要注意我无法设置 RangeValidator。

有人可以帮我吗？

提前致谢，

问候，斯拉万。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-26T21:33:59.497

您的正则表达式似乎只是验证输入的内容是否以数字开头。尝试`pattern="^\d*$"`
RangeValidator 将尝试使用 IComparable 接口实现，它不会执行您需要的字符串输入。
Or Composite 验证器与否定的 Not Null 验证器功能相结合，使薪水“可选”。目前尚不清楚这是否是您想要的。

# windows-7 - 监听服务是否需要安装 Oracle 服务器？

> ID：12889632
> 
> 赞同：0
> 
> 时间：2012-10-15T05:12:52.953
> 
> 标签：windows-7, listener, oracle8i

我已经在我的机器上安装了 Oracle 8i 客户端版本。我已经创建了本地服务命名。我正在尝试连接本地服务。我得到以下错误，

```
The test did not succeed.
ORA-12541: TNS:no listener

There may be an error in the fields entered,
or the server may not be ready for a connection. 
```

我是否需要在我的机器上安装服务器才能在我的机器上运行监听器？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-15T05:22:42.543

*   数据库服务器在哪里运行？
*   您是否在本地计算机上创建了侦听器？如果是这样，请在 tnsnames.ora 文件之外发布 listener.ora。

通常，侦听器将在数据库服务器上运行。可以在数据库服务器以外的机器上运行侦听器，但这不是特别常见的配置。在笔记本电脑上运行数据库和侦听器会更为常见。

但是，今天想要安装任何版本的 8i 是非常不寻常的。8.1.7 已被取消支持近十年，并且在几乎支持的任何操作系统上都不支持。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-15T05:29:48.303

是的，侦听器是服务器的一部分，而不是客户端。当您尝试连接到本地安装的服务器（我猜）并且该服务器不存在（因为您只安装了客户端）时，客户端将响应没有侦听器（因为侦听器将响应客户端，而不是直接的服务器）。

# struts2 - struts2 - 如何从动作类访问战争/图像文件夹中存在的图像？

> ID：12889634
> 
> 赞同：1
> 
> 时间：2012-10-15T05:13:18.267
> 
> 标签：struts2, struts

`images`我的文件夹中有一张图片`war`，我的动作类位于`war/WEB-INF/classes/some_package`. 我希望在我的动作类中访问该图像。我相信我可以通过使用来做到这一点`ServletContext.getResourceAsStream("images/my_image.png")`（因为它以战争文件夹为基础），但是有没有更直接的方法可以做到这一点`Struts2`？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-15T12:43:49.950

不，那是您访问类路径资源的方式，这与 Struts 无关。

但是，您可以使用[“流”结果类型](http://struts.apache.org/2.x/docs/stream-result.html)将其发送回客户端。

# javascript - 在javascript中添加日期中的天数

> ID：12889636
> 
> 赞同：0
> 
> 时间：2012-10-15T05:13:25.997
> 
> 标签：javascript, date

`+1`如果日期是 ，我想添加`sunday`。下面的代码适用于休息日期。但是当我通过时，`30 sept 2012`我给了我`1 Sept 2012`而不是`1 Oct 2012`in `dateMsg`。代码有什么问题？请指导。我想我在这个月的最后一个日期都会面临同样的问题。如何将 1 添加到整个日期而不仅仅是一天？

```
var monthName=convertMnthNoToName(freeLookEndDt.getMonth()+1);

    if (freeLookEndDt.getDay()==0) {

      var date=new Date(freeLookEndDt.getFullYear(),freeLookEndDt.getMonth(),
      freeLookEndDt.getDate()+1);
      var newmonthName=convertMnthNoToName(date.getMonth()+1);
      var dateMsg = date.getDate() + '-' + monthName + '-' + freeLookEndDt.getFullYear();

      document.forms[0].flEndDt.value=dateMsg;

    } 
```

和 convertMnthNoToName()

```
function convertMnthNoToName(val)
{
    if(val==01 || val==1)
    {
      val1="Jan";
    }
    if(val==02 || val==2)
    {
      val1="Feb";   
    }
    if(val==03 || val==3)
    {
      val1="Mar";   
    }
    if(val==04 || val==4)
    {
      val1="Apr";   
    }
    if(val==05 || val==5)
    {
      val1="May";   
    }
    if(val==06 || val==6)
    {
      val1="Jun";   
    }
    if(val==07 || val==7)
    {
      val1="Jul";   
    }
    if(val==08 || val==8)
    {
      val1="Aug";   
    }
    if(val==09 || val==9)
    {
      val1="Sep";   
    }
    if(val==10)
    {
      val1="Oct";   
    }
    if(val==11)
    {
      val1="Nov";   
    }
    if(val==12)
    {
      val1="Dec";   
    }

    return val1;
} 
```

在哪里`freeLookEndDt = Sun Sep 30 00:00:00 UTC+0530 2012`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-15T05:30:14.180

[演示](http://jsfiddle.net/mplungjan/4RsMv/)

这样更有效率。您还需要在添加日期之后使用月份名称

请注意，您示例中的日期在我的国家/地区解析为星期六！！！

```
var monthNames ="Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(",")

if (freeLookEndDt.getDay()==0) {
  freeLookEndDt.setDate(freeLookEndDt.getDate()+1);  
  var dateMsg = freeLookEndDt.getDate() + '-' + monthNames[freeLookEndDt.getMonth()] + '-' + freeLookEndDt.getFullYear();
  document.forms[0].flEndDt.value=dateMsg;
} 
```

或者如果您需要保留 freeLookEndDate：

```
if (freeLookEndDt.getDay()==0) {
  var date = new Date(freeLookEndDt.getTime());
  date.setDate(date.getDate()+1);  
  var dateMsg = date.getDate() + '-' + monthNames[date.getMonth()] + '-' + date.getFullYear();
  document.forms[0].flEndDt.value=dateMsg;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-15T05:23:19.193

你定义`newmonthName`但使用`monthName`。因此它使用旧月份名称。`newmonthName`应该改变

你应该能够做到 `freeLookEndDt.setDate(freeLookEndDt.getDate()+1)`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-15T05:27:44.947

代替

```
var date=new Date(freeLookEndDt.getFullYear(), freeLookEndDt.getMonth(),
                  freeLookEndDt.getDate()+1); 
```

采用

```
var date = new Date();
date.setFullYear(freeLookEndDt.getFullYear());
date.setMonth(freeLookEndDt.getMonth());
date.setDate(freeLookEndDt.getDate()+1); 
```

这样，您将在最后一步设置日期，日期将重新计算存储的月份和年份以正确的值。请注意，如果您有 12 月 31 日，年份也可以更改。

此外，该函数`convertMnthNoToName`可以修改为具有更紧凑的实现，并且还能够处理字符串输入值，例如“03”。

**完整代码：**

```
var monthName=convertMnthNoToName(freeLookEndDt.getMonth()+1);

if (freeLookEndDt.getDay()==0) {

    var date = new Date();
    date.setFullYear(freeLookEndDt.getFullYear());
    date.setMonth(freeLookEndDt.getMonth());
    date.setDate(freeLookEndDt.getDate()+1);
    var newmonthName=convertMnthNoToName(date.getMonth()+1);
    var dateMsg = date.getDate() + '-' + newmonthName + '-' + freeLookEndDt.getFullYear();

    document.forms[0].flEndDt.value=dateMsg;
}

/**
 * Converts month (1-based) to its string representation
 * @param {Number|String} val    Month index (from 1-January to 12-December)
 * @return {String}    String representation of month or empty string for invalid input parameter
 */
function convertMnthNoToName(val)
{
    val = parseInt(val); // string "01" will be converted to 1
    if(val>=1 && val<=12)
    {
        var monthNames = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];
        return monthNames[val-1];
    }
    return "";
} 
```

# spring - 在 Spring 中将 @Inject 与与 Java EE 6 不兼容的 appserver 一起使用

> ID：12889641
> 
> 赞同：0
> 
> 时间：2012-10-15T05:14:09.153
> 
> 标签：spring, jakarta-ee, annotations, code-injection

`@Inject`当我将我的应用程序部署在不支持 Java EE 6 的 Appserver 中时，我可以在我的 Spring 应用程序中使用 注解吗？

`@Inject`在 Java EE6 中引入，Java EE 5 不支持

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-15T05:38:25.490

当您`@Inject`在由 Spring（Spring bean）管理的组件中使用时，它的功能由 Spring 实现，因此您不需要任何其他东西来使其工作。

`@Inject`JavaEE 6 中的支持是关于由应用程序服务器（EJB 等）管理的组件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-15T05:38:38.347

在下面的示例中，可以使用 JSR 330 的 @Inject 注释代替 Spring 的 @Autowired。@Inject 没有必需的属性，这与 Spring 的 @Autowire 注释不同，后者有一个必需的属性来指示注入的值是否是可选的。如果您在类路径中有 JSR 330 JAR，则会自动启用此行为。

弹簧文档......

[http://static.springsource.org/spring/docs/3.0.0.RC2/reference/html/ch03s09.html](http://static.springsource.org/spring/docs/3.0.0.RC2/reference/html/ch03s09.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-15T05:15:46.553

Spring 有[一个同义`@Autowired`注解](http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/beans/factory/annotation/Autowired.html)，具有相同的效果。由于它是由 Spring 本身提供的，因此它应该可以在任何支持注解的 Java 版本上使用。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-15T06:01:03.617

简而言之，你可以。如果您使用的是 Spring（>= 版本 3），Spring 将根据其 bean 的 @Inject 注释执行其依赖注入。

总而言之，这完全取决于“可以使用”是什么意思。注释不过是元数据。没有人能阻止你使用 @Inject 来执行一个完全不相关的功能，只要你检查注解并做任何你想做的事

# iphone - 如何将黑色变为白色

> ID：12889642
> 
> 赞同：2
> 
> 时间：2012-10-15T05:14:09.550
> 
> 标签：iphone, objective-c, ios, opencv

![在此处输入图像描述](../Images/3d55083b5e9403d721e8453a4c16d04f.png) 使用以下代码，上面显示的图像转换为下图......他们显示黑色背景和灰色线条......我想要带有灰色线条的白色背景..请指导我..我是 iPhone 新手谢谢提前很多

```
- (void)viewDidLoad
{
    [super viewDidLoad];

    // Initialise video capture - only supported on iOS device NOT simulator
#if TARGET_IPHONE_SIMULATOR
    NSLog(@"Video capture is not supported in the simulator");
#else
    _videoCapture = new cv::VideoCapture;
    if (!_videoCapture->open(CV_CAP_AVFOUNDATION))
    {
        NSLog(@"Failed to open video camera");
    }
#endif

    // Load a test image and demonstrate conversion between UIImage and cv::Mat
    UIImage *testImage = [UIImage imageNamed:@"testimage.jpg"];

    double t;
    int times = 10;

    //--------------------------------
    // Convert from UIImage to cv::Mat
    NSAutoreleasePool *pool = [[NSAutoreleasePool alloc] init];

    t = (double)cv::getTickCount();

    for (int i = 0; i < times; i++)
    {
        cv::Mat tempMat = [testImage CVMat];
    }

    t = 1000 * ((double)cv::getTickCount() - t) / cv::getTickFrequency() / times;

    [pool release];

    NSLog(@"UIImage to cv::Mat: %gms", t);

    //------------------------------------------
    // Convert from UIImage to grayscale cv::Mat
    pool = [[NSAutoreleasePool alloc] init];

    t = (double)cv::getTickCount();

    for (int i = 0; i < times; i++)
    {
        cv::Mat tempMat = [testImage CVGrayscaleMat];
    }

    t = 1000 * ((double)cv::getTickCount() - t) / cv::getTickFrequency() / times;

    [pool release];

    NSLog(@"UIImage to grayscale cv::Mat: %gms", t);

    //--------------------------------
    // Convert from cv::Mat to UIImage
    cv::Mat testMat = [testImage CVMat];

    t = (double)cv::getTickCount();

    for (int i = 0; i < times; i++)
    {
        UIImage *tempImage = [[UIImage alloc] initWithCVMat:testMat];
        [tempImage release];
    }

    t = 1000 * ((double)cv::getTickCount() - t) / cv::getTickFrequency() / times;

    NSLog(@"cv::Mat to UIImage: %gms", t);

    // Process test image and force update of UI 
    _lastFrame = testMat;
    [self sliderChanged:nil];
}
- (IBAction)capture:(id)sender
{
    if (_videoCapture && _videoCapture->grab())
    {
        (*_videoCapture) >> _lastFrame;
        [self processFrame];
    }
    else
    {
        NSLog(@"Failed to grab frame");        
    }
}
- (void)processFrame
{
    double t = (double)cv::getTickCount();

    cv::Mat grayFrame, output;

    // Convert captured frame to grayscale
    cv::cvtColor(_lastFrame, grayFrame, cv::COLOR_RGB2GRAY);

    // Perform Canny edge detection using slide values for thresholds
    cv::Canny(grayFrame, output,
              _lowSlider.value * kCannyAperture * kCannyAperture,
              _highSlider.value * kCannyAperture * kCannyAperture,
              kCannyAperture);

    t = 1000 * ((double)cv::getTickCount() - t) / cv::getTickFrequency();

    // Display result 
    self.imageView.image = [UIImage imageWithCVMat:output];
    self.elapsedTimeLabel.text = [NSString stringWithFormat:@"%.1fms", t];
} 
```

![在此处输入图像描述](../Images/6040292e600ead541ada14e556177dac.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-15T16:26:41.143

反转灰度 1 通道 Mat 是：

```
Mat invertedOutput = 255 - output; 
```

# c# - 为每个结果分页 gridview 重新绑定

> ID：12889644
> 
> 赞同：0
> 
> 时间：2012-10-15T05:14:14.770
> 
> 标签：c#, gridview, webforms

我有一个带有分页功能的 gridview，当我想在 DB 中搜索项目并在 gridview 中显示分页结果时，但是当我跳转另一个页面时，gridview 将绑定并列出所有页面的 DB 中的所有项目，我该如何解决这个问题？谢谢你的建议

```
 protected void Page_Load(object sender, EventArgs e)
{
    if (!IsPostBack)
    {
        BindGridView();
    }
}

private void BindGridView()
{
    using (NoavaranModel.NoavaranEntities1 dbContext = new NoavaranModel.NoavaranEntities1())
    {
        var query = from list in dbContext.Students
                    select list;
        lblStudentsCount.Text = query.Count().ToString();
        GridView1.DataSource = query;
        GridView1.DataBind();
    }
}

protected void GridView1_PageIndexChanging(object sender, GridViewPageEventArgs e)
{
    GridView1.PageIndex = e.NewPageIndex;
    BindGridView();
    GridView1.DataBind();
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-15T05:44:29.427

如果我理解正确，您在 BindGridView() 方法的末尾调用了 GridView1.DataBind()，所以我认为在调用 BindGridView() 之后不需要再次调用；在 PageIndexChanging 事件中：

```
protected void GridView1_PageIndexChanging(object sender, GridViewPageEventArgs e)
{
    GridView1.PageIndex = e.NewPageIndex;
    BindGridView();
} 
```

如果这不能解决问题，请在评论中告诉我发生了什么，我会再看一下。

此外，如果您说您的 GridView 正在填满数据库中的所有项目（当您只期望某些项目时），则表明您的查询存在问题。我会尝试设置断点并逐步执行查询以查看返回的内容，以确保您获得预期的结果。

# java - 尝试，在 Java 中捕获无限循环

> ID：12889649
> 
> 赞同：0
> 
> 时间：2012-10-15T05:15:13.370
> 
> 标签：java, exception

我真的不知道这个问题...

如果数字不正确，该块会捕获异常，当我输入 -1 或 0 时，它会捕获异常并要求我再次输入数字......但如果我输入类似 asdasd 的内容，它将运行一个无限循环。

```
while (true){

            try{

                System.out.println("-Size of the array: ");        
                size = read.nextInt();      

                if(size<=0){

                    throw new Exception();

                }else{

                    break;    

                }

            }            
            catch(Exception e){

                System.out.println("\n-Wrong input. Try again.\n");

            }    

        } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-15T05:53:29.347

将 Scanner 初始化放在 while 循环中：

```
while (true){

        try{
            Scanner read = new Scanner(System.in);
            System.out.println("-Size of the array: ");        
            size = read.nextInt();      

            if(size<=0){

                throw new Exception();

            }else{

                break;    

            }

        }            
        catch(Exception e){

            System.out.println("\n-Wrong input. Try again.\n");

        }    

    } 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-15T05:25:26.043

处理这个问题的最好方法可能是改变它，以便读者得到下一行：

```
String input = read.nextLine();
if(input.length() == 0) { continue; }

try{
    size = Integer.parseInt(input);
} catch(NumberFormatException e){ throw new Exception(); } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-15T05:39:24.130

我的猜测是 read.nextInt 抛出异常，因为“asdasd”不是整数。这将导致您的异常处理程序运行并打印消息。但是，因为您的异常处理程序中没有“中断”，所以循环将再次运行......再次......

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-15T06:16:40.993

我怀疑你被抓住了，因为你在投掷和接球`Exception`。如果您添加`e.printStackTrace();`到 catch plock 中，您可能会发现您正在捕获一个您不希望发生的异常......比如来自`nextInt()`调用的异常，或者 NPE 或其他东西。

*   不要扔`Exception`。永远不会。使用一个特定的例外，如果没有一个标准是合适的，则为您自己创建一个。

*   `Exception`除非您准备好应对所有可能性，否则不要抓住。这包括所有那些由于代码中的随机错误而导致的意外未经检查的异常。

# ruby - Ruby on Rails 报告工具？

> ID：12889659
> 
> 赞同：8
> 
> 时间：2012-10-15T05:16:32.217
> 
> 标签：ruby, ruby-on-rails-3, report

我正在寻找 ruby​​ 或 rails 中的报告生成工具，它允许用户定义模板，然后将数据提取到创建的模板中。

我一直在浏览“ [The Ruby Box：报告部分。](https://www.ruby-toolbox.com/categories/reporting.html) ”

我看过两种报告工具：

1.  **[瘦报告](http://www.thinreports.org/)：**真的很好。您可以使用模板编辑器创建自己的报告模板。[然后，您可以使用thinreports](http://rubygems.org/gems/thinreports/) gem生成 PDF 报告。

2.  **[ODF 报告：](https://github.com/sandrods/odf-report)**您可以使用 Open Office 和 MS Word 创建模板 ODF 文件，您可以使用该模板生成报告。

这两种解决方案都缺乏绘制图表的能力。有谁知道可以在给定报告中绘制图表的类似报告工具？

我已经尝试过[RTF Ruby Library](http://ruby-rtf.rubyforge.org/)。它可以工作，但也有不能绘制图表和图形的限制。

最低要求是：

1.  能够创建可定制的模板。（例如设计布局、设置字体大小、颜色、嵌入图像等）

2.  能够绘制表格和图表。

3.  模板可以是 Docx 或 excel 或 xml 或任何其他常见文件格式。

4.  报告输出报告必须是 Docx 或 RTF 格式。

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-10-01T16:50:17.690

gem 相对较新，[`axlsx`](https://github.com/randym/axlsx)但似乎是一个不错的库。我还没有看到它仅用于简单的表格，但据说它支持许多其他[Office Open XML](https://en.wikipedia.org/wiki/Office_Open_XML)组件和功能。

从自述文件：

> 使用 Axlsx，您可以创建带有图表、图像（带链接）、自动和固定列宽、自定义样式、函数、表格、条件格式、打印选项、注释、合并单元格、自动过滤器、文件和流序列化以及完整的模式验证。

如果您使用的是[ActiveRecord](http://api.rubyonrails.org/classes/ActiveRecord/Base.html)，也有[`acts_as_axlsx`](https://github.com/randym/acts_as_xlsx)来自同一作者的。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-08-07T16:02:56.180

这是我发现的一个示例，它使用 googlecharts api 为 Thinreports 生成图表：

[使用 GoogleChartAPI 嵌入图表](http://osc.matsukei.net/projects/thinreports/wiki/Example_Embed_graph_using_GoogleChartAPI)

虽然我自己没有使用过它。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-24T05:53:57.557

您可以根据自己的目的使用[Pentaho 报告工具](http://www.sherito.org/p/what-is-pentaho-reporting.html)。Pentaho Reporting 是一套开源报告工具，允许您从广泛的数据源创建关系和分析报告。Pentaho 报告引擎能够为您的数据创建 PDF、Excel、HTML、文本、富文本文件以及 XML 和 CSV 输出。

# iphone - iPhone 5 用户界面问题

> ID：12889666
> 
> 赞同：-5
> 
> 时间：2012-10-15T05:17:48.757
> 
> 标签：iphone, ios, iphone-5

我设计了 1 个应用程序，它在 iPhone 4 上运行良好，但你知道 iPhone 5 的高度增加了，所以现在我的 UI 在 iPhone 5 上看起来很糟糕，请帮助我如何解决这个问题，苹果是否提供了任何方法来解决同样的问题正如他们为视网膜提供的那样（即 imageName@2x）。

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-15T05:49:58.403

首先，您必须为 4 英寸屏幕定义一个新的启动屏幕。该图像应命名为“ **Default-568h@2x.png** ”，当您将其添加到项目中时，您的应用程序将占据整个屏幕。

没有为新屏幕设置图像的后缀。您将必须创建新图像，根据需要命名它们并检查屏幕大小以找出应该显示的图像。

我建议您创建一个宏，如下所示：

```
#define IPHONE5 ( fabs( ( double )[ [ UIScreen mainScreen ] bounds ].size.height - ( double )568 ) < DBL_EPSILON ) 
```

在其实现中，检查以显示正确的图像：

```
NSString *imgName;
if (IPHONE5) {
    imgName = @"image.png";
} else {
    imgName = @"image-4inch.png";
}
[self.image setImage:[UIImage imageNamed:imgName]]; 
```

# ios - 当我执行类似操作时，我收到错误消息：{"error":{"message":"(#200) Permissions error","type":"OAuthException","code":200}}

> ID：12889669
> 
> 赞同：-3
> 
> 时间：2012-10-15T05:18:00.617
> 
> 标签：ios, facebook-like, facebook-ios-sdk

我想要一个 Facebook 页面，但我收到了这个错误：

> {"error":{"message":"(#200) 权限错误","type":"OAuthException","code":200}}

正如您在我的代码中看到的那样，权限似乎没问题。请注意，当我想要像 www.google.com 这样的简单 URL 时，它可以工作！

仅当我想喜欢 Facebook 页面时才收到此错误。

这是我的代码：

```
-(IBAction) buttonTestRecoFB
{
    NSArray *permissions = [[NSArray alloc] initWithObjects:
                            @"publish_actions",@"publish_stream",
                            nil];

    [FBSession.activeSession closeAndClearTokenInformation];

    [FBSession openActiveSessionWithPermissions:permissions allowLoginUI:YES
                              completionHandler:^(FBSession *session,
                                                  FBSessionState status,
                                                  NSError *error) {
                                  // session might now be open.
                                  [self sessionStateChanged:session state:status error:error];
                              }];
}

// FACEBOOK
//

- (void)sessionStateChanged:(FBSession *)session 
                      state:(FBSessionState) state
                      error:(NSError *)error
{
    switch (state) 
    {
        case FBSessionStateOpen: 
        {
            NSLog(@"FBSessionStateOpen");

            if (session.isOpen) 
            {
                FBRequest *me = [FBRequest requestForMe];

                [me startWithCompletionHandler: ^(FBRequestConnection *connection, 
                                                NSDictionary<FBGraphUser> *my,
                                                  NSError *error) {

                    NSLog(@"firtname = %@" , my.first_name);

                    /////////////////////////////////////////////////

                    NSString *theWholeUrl = [NSString stringWithFormat:@"https://graph.facebook.com/313449204401/likes?access_token=%@", session.accessToken];

                    NSLog(@"TheWholeUrl: %@", theWholeUrl);

                    NSURL *facebookUrl = [NSURL URLWithString:theWholeUrl];

                    NSMutableURLRequest *req = [NSMutableURLRequest requestWithURL:facebookUrl];
                    [req setHTTPMethod:@"POST"];

                    NSURLResponse *response;
                    NSError *err;
                    NSData *responseData = [NSURLConnection sendSynchronousRequest:req returningResponse:&response error:&err];

                     NSString *content = [NSString stringWithUTF8String:[responseData bytes]];

                    NSLog(@"responseData: %@", content);
                    /////////////////////////////////////////////////                  
                }];
            }
        } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-15T05:54:32.067

无法以编程方式将“喜欢”操作应用于 Facebook 页面。这在[文档](https://developers.facebook.com/docs/opengraph/actions/builtin/likes/)中有所说明：

> 对于未集成 Facebook Authentication 的 Facebook Pages 或网站，开发者应继续使用 Like 按钮社交插件。

# android - 由于使用 thread.get() 方法，进度对话框不显示

> ID：12889671
> 
> 赞同：0
> 
> 时间：2012-10-15T05:18:24.980
> 
> 标签：android, multithreading, web-services, thread-safety

我想显示一个进度对话框，而我有两个线程一个接一个地运行，但是我使用的数据结构通过线程填充，变为空。因此，我使用 thread.get() 方法来等待线程完成....不知道如何解决这个问题，这是我的一个异步线程的示例：

```
private void performDetailSearch(String reference) {

    String addplus = searchterm.replace(" ", "+");  
    RestClientDS restpSd = new RestClientDS();
    String url = PLACES_DETAILS_URL +"reference="+ reference + "&sensor=false&key=" + API_KEY;
    Log.d("url",url);
    String[] URL = {url};
    restpSd.execute(URL);

    try {
        restpSd.get();
    } 
    catch (InterruptedException e1) {
        // TODO Auto-generated catch block
        e1.printStackTrace();
    }
    catch (ExecutionException e1) {
        // TODO Auto-generated catch block
        e1.printStackTrace();
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-15T05:27:52.807

使用**[AsyncTask](http://developer.android.com/intl/zh-CN/reference/android/os/AsyncTask.html)**而不是 Thread 并在一个任务完成后调用另一个任务。

AsyncTask 可以这样调用`new FetchData().execute();`

```
private class FetchData extends AsyncTask<String, Void, Boolean> {

    private ProgressDialog dialog = new ProgressDialog(HomeActivity.this);

    /** progress dialog to show user that the backup is processing. */
    /** application context. */

    protected void onPreExecute() {
        this.dialog.setMessage(getResources().getString(
                R.string.Loading_String));
        this.dialog.show();
    }

    protected Boolean doInBackground(final String... args) {
        try {

            //do your background work

            return true;
        } catch (Exception e) {
            Log.e("tag", "error", e);
            return false;
        }
    }

    @Override
    protected void onPostExecute(final Boolean success) {

        if (dialog.isShowing()) {
            dialog.dismiss();
        }

        if (success) {
            //call the another asynctask from here.
           // new FetchData2().execute();
        }
    }
} 
```

# asp.net-mvc - 用 mvc4 写一个 Ninject 测试

> ID：12889673
> 
> 赞同：0
> 
> 时间：2012-10-15T05:18:35.383
> 
> 标签：asp.net-mvc, unit-testing, c#-4.0, asp.net-mvc-4, ninject

我对 ninject 和测试也很陌生。

我有一个 mvc4 应用程序，我想开始为其编写测试。（是的，我知道我打算边写边写：））

在我的 NinjectWebCommon 中

```
 private static IKernel CreateKernel()
    {
        var kernel = new StandardKernel();
        kernel.Bind<Func<IKernel>>().ToMethod(ctx => () => new Bootstrapper().Kernel);
        kernel.Bind<IHttpModule>().To<HttpApplicationInitializationHttpModule>();

        RegisterServices(kernel);
        return kernel;
    }

    private static void RegisterServices(IKernel kernel)
    {
        kernel.Bind<IConsumerRepository>().To<ConsumerRepository>();
    } 
```

我已经在我的应用程序中的存储库中编写了所有内容，例如我有

```
public interface IConsumerRepository
{
    ConsumerModel GetConsumerByUserId(Guid userId);
}
public ConsumerModel GetConsumerByUserId(Guid userId)
    {
        if (HttpContext.Current.Session["ConsumerInfo"] == null)
        {
            var data = RestSharperHelper.GetById<ConsumerModel>("id", userId, ApiEndPointConstants.GetConsumerById);
            LogMessage(data.UserName);
            HttpContext.Current.Session["ConsumerInfo"] = data;
            return data;
        }
        else
        {
            return (ConsumerModel)HttpContext.Current.Session["ConsumerInfo"];
        }
    } 
```

我编写测试以检查 ConsumerModel 是否从 Web 应用程序存储库返回的最佳方法是什么？我希望它灵活，因为我想编写更复杂的测试并提供一个模拟 ConsumerModel 而不是每次都像上面那样调用 api

感谢您的任何建议！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-15T08:11:25.700

**MVCContrib TestHelper**可能会有所帮助。它将帮助您对控制器操作进行单元测试，并且还将初始化所有这些部分，例如`HttpContext`和`Session`：

[http://mvccontrib.codeplex.com/wikipage?title=TestHelper](http://mvccontrib.codeplex.com/wikipage?title=TestHelper)

# java - java - 如何解决“VM初始化期间发生错误”java？

> ID：12889678
> 
> 赞同：5
> 
> 时间：2012-10-15T05:19:04.453
> 
> 标签：java, jvm

我已经使用 ssh 连接到基于 linux 的服务器。最近，我使用以下命令安装了 JDK：

`sudo yum install java-1.6.0-openjdk-devel`

并且 jdk 安装成功，但是每当我运行命令`java`或`javac`出现以下错误时：

```
Error occurred during initialization of VM
Could not reserve enough space for object heap
Could not create the Java virtual machine. 
```

甚至，运行 command`java -version`也会带来该错误。当我尝试使用 给 java 更多空间`java -Xmx512m -Xms256m -version`时，我会收到以下错误：

```
*** glibc detected *** java: double free or corruption (!prev): 0x00007fc84400e270 ***
*** glibc detected *** java: double free or corruption (fasttop): 0x00007fc8440089f0 ***
#
Aborted (core dumped) 
```

我该如何解决这个问题？

提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-25T08:55:20.143

我从未见过这种异常，所以这是我最好的猜测：您是否尝试[通过使用 -Xss JVM 参数](https://stackoverflow.com/questions/4967885/jvm-option-xss-what-does-it-do-exactly)（即 -Xms8m -Xmx16m -Xss4m）来限制堆栈大小？快速谷歌搜索建议`export MALLOC_CHECK_=0`可能会让你克服，但我不确定 JVM 是否能正常运行。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-25T00:50:26.773

在我看来，似乎没有足够的内存来运行虚拟机（可能是物理内存、虚拟内存或 ulimit）——您应该尝试减少分配给 VM 的内存（我认为默认为 64Mb）而不是增加它。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-22T20:42:27.823

虚拟 Linux 服务器？运行时你会得到什么：

java -Xmx1m -版本

和

ulimit -a

看起来像一个内存分配问题。如果可能，您可以尝试增加交换空间。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-25T08:50:19.750

降低您的 -Xms （不是 xmlx）。例如，使用 -Xms40m 。如果它按照其他答案中的说明启动，则您的内存可能太低而无法在启动时为 vm 回收 256m。

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2012-10-15T05:23:32.043

看起来您正在使用*JDK 32-bit version*。如果是这样，你不能分配一个堆大小超过`1.2GB`或其他东西。

使用 64 位 JDK 或尝试使用`1.2G`最大堆大小。

# iphone - 表视图部分 iPhone

> ID：12889685
> 
> 赞同：0
> 
> 时间：2012-10-15T05:19:37.090
> 
> 标签：iphone, uitableview

我有一个带有部分日期的表格视图。我希望根据日期下的项目数让每个部分都有正确的行数。

为此，我创建了一个`NSMutableDictionary`使用日期作为键并具有对象数组作为值的对象。我已经验证了我的字典被填充了，但是在`numberOfRowsInSection`方法中我的字典为每个键的长度返回**0**。为什么会这样？`numberOfRowsInSection`在方法之前被调用吗`viewDidLoad`？

这是我的`numberOfRowsInSection`方法

```
- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section{
return [[itemsByDate objectForKey:[datesDB objectAtIndex:section]] count];
} 
```

这是我`NSMutableDictionary`在我的方法中填充我的`viewDidLoad`方式

```
 [itemsByDate setValue:items forKey:[datesDB objectAtIndex:i]]; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-15T05:33:30.440

试试这个可能是你的问题解决了...

```
- (void)viewDidLoad
{
      /// alloc this dictionary here
      ///retain dictionary after add data. 
      [itemByDate retain];
}
-(void)viewDidAppear:(BOOL)animated{
     [yourtableView reloadData];
} 
```

:)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-15T06:16:49.117

我在使用 tableView 时通常犯的错误是我忘记为作为我的 tableview 源的字典/数组分配内存。

听起来可能很傻。你能验证一下吗？

# zend-framework - zend helper Db_NoRecordExists 用于多表检查

> ID：12889690
> 
> 赞同：2
> 
> 时间：2012-10-15T05:20:30.750
> 
> 标签：zend-framework, zend-form

我想在我的两个表中检查手机号码的唯一性..我已经添加了这个代码，但它只检查第二个......有没有其他方法可以在表单中验证这个..

```
$this->addElement('text', 'mobilenumber', array(`enter code here`
            'filters'    => array('StringTrim'),
            'validators' => array`enter code here`(
                                array('Db_NoRecordExists', true, array('table' => 'beroe_user', 'field' => 'mobilenumber', 'messages' => array(
                                   'recordFound' => 'mobilenumber already exists'
                                ))),
                                array('Db_NoRecordExists', true, array('table' => 'beroe_user', 'field' => 'mobilenumber', 'messages' => array(
                                   'recordFound' => 'admin already exists'
                                ))),
            ),
            // 'required'   => true,
            'label'      => 'Phone ',
            'maxlength'  => '15'
        )); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-15T09:22:32.013

我认为这是因为当我们向一个元素多次添加相同的验证器时，前者将被覆盖。检查类 Zend_Form_Element，addValidator() 第 1153 行
您可以根据需要创建自定义验证器。这将是最好的做法。

# jquery - Jquery 不支持这样的接口

> ID：12889692
> 
> 赞同：3
> 
> 时间：2012-10-15T05:20:40.127
> 
> 标签：jquery, css, html

```
var $html = $(status.content).css({opacity: 0});
$html.imagesLoaded(function(){
    $('#' + feed.settings.feedArea).append($html);
    $html.animate({ opacity: 1 });
    $('#' + feed.settings.feedArea).masonry( 'appended', $html, false );
}); 
```

`status.content`是从服务器收到的 html 响应。这本质上是在 ajax`callback`函数中。显然，在 IE 中，它抱怨在 中不存在这样的接口`jquery.js`-`line 2 character 74347`它指向一个`getComputerStyle`函数 ( `jquery 1.8`)。在 chrome 和任何其他浏览器中，它可以工作......即使在 Ipad 和 Iphone 中......我做了一些调试，显然注释掉动画解决了这个问题。所以问题是IE不支持动画不透明度？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-17T13:22:34.870

这可能无法解决您的问题，但我希望它可以帮助其他看到此错误的人。

当我（错误地）尝试使用两个根元素创建一个 jquery 对象时，我看到了这个错误。

```
$('<div>...</div><div>...</div>').appendTo($content).slideDown(); 
```

在 IE (10) 中调用 slideDown（或任何动画函数）会导致此问题。

我在 chrome 中没有看到这个异常（但我最终确实看到了其他问题）。

我一直打算有一个单一的根 div 元素，并添加它解决了我的问题。

# javascript - 当我尝试加载不同的页面时，Sahipro 会加载不同的站点

> ID：12889693
> 
> 赞同：1
> 
> 时间：2012-10-15T05:20:53.433
> 
> 标签：javascript

我正在尝试通过在起始 URL 中提供 URL 来通过 sahi 加载网站。但它会加载其他网站。

示例：我正在尝试加载[http://www.gmail.com](http://www.gmail.com)但它加载了我之前记录的网站

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-24T15:04:41.243

控制器播放选项卡中的起始 URL 用于指定要播放的测试用例的起始 URL。如果您的测试脚本在第一行包含 _navigateTo() 语句，那么您提供的起始 URL 无关紧要。它只会加载该起始 URL 并开始播放您的脚本。如果您没有包含要播放脚本的 URL，请提供该 URL 作为起始 URL。

谢谢，

# php - 如何插入英文字母作为增量顺序

> ID：12889696
> 
> 赞同：3
> 
> 时间：2012-10-15T05:21:08.163
> 
> 标签：php, codeigniter, mysqli

嗨，我的表结构如下

```
id   --auto increment id
alphabet
user_id
name 
```

在添加时，我需要将英文字母作为增量顺序插入用户，就像这样`A,B,C,....Z,AA,AB,AC,...AZ,BA,BB,BC,.....BZ`。

我需要这样

```
 id    alphabet  user_id   name  
------------------------------------------
    1      A          1       name-1
    2      B          1       name-2
    .      .          .         .
    .      .          .         .
    26     Z          1       name-n
    27     A          2       name-1
    28     B          2       name-2
    .      .          .         .
    .      .          .         .
    52     Z          2       name-52
    53     AA         2       name-53 
    .      .          .         .
    .      .          .         .
    .      .          .         .
    .      AZ         2         . 
```

谢谢你的时间。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-15T05:48:52.123

检查这篇类似的文章：

[获取数字的类似excel的列名的算法](https://stackoverflow.com/questions/3302857/algorithm-to-get-the-excel-like-column-name-of-a-number)

这是一个很好的简单递归函数（基于零索引数字，表示 0 == A、1 == B 等）...

```
function getNameFromNumber($num) {
    $numeric = $num % 26;
    $letter = chr(65 + $numeric);
    $num2 = intval($num / 26);
    if ($num2 > 0) {
        return getNameFromNumber($num2 - 1) . $letter;
    } else {
        return $letter;
    }
}

And if you want it one indexed (1 == A, etc):

function getNameFromNumber($num) {
    $numeric = ($num - 1) % 26;
    $letter = chr(65 + $numeric);
    $num2 = intval(($num - 1) / 26);
    if ($num2 > 0) {
        return getNameFromNumber($num2) . $letter;
    } else {
        return $letter;
    }
} 
```

用从 0 到 10000 的数字进行测试...

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-15T06:23:09.357

使用php实现这个很容易，请检查下面的代码

```
$i = 'A';
echo $i;
echo PHP_EOL;
while($i != 'ZZ')
{
 echo ++$i;
 echo PHP_EOL;
} 
```

[或在http://codepad.org/QB4kyV7U](http://codepad.org/QB4kyV7U)中查看结果

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-15T05:24:05.170

听起来很像这篇 SO 文章

[MYSQL：如何“重新排序”表](https://stackoverflow.com/questions/1850594/mysql-how-to-reorder-a-table)

当您可以使用排序来输出您想要的数据时，是否绝对有必要做您想做的事情？

# java - TCP 允许的端口范围

> ID：12889702
> 
> 赞同：9
> 
> 时间：2012-10-15T05:21:46.430
> 
> 标签：java, tcp

我正在尝试为 TCP 连接生成一个随机端口号。来自：[http](http://en.wikipedia.org/wiki/List_of_TCP_and_UDP_port_numbers) ://en.wikipedia.org/wiki/List_of_TCP_and_UDP_port_numbers我知道从 1024 到 49151 的端口范围没有保留，但其中一些只是 UDP，我怎样才能只生成有效的 TCP 端口号？

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2012-10-15T05:25:34.383

如果绑定到端口 0，操作系统将选择一个有效的、未使用的端口。

如果您需要随机而不是任意，则 49152–65535 之间的任何内容都应该可以安全地自动使用，因此只需在该范围内选择一个随机数。（但是，如果该端口正在使用中，您可能必须重试。）

# cocos2d-iphone - 如何在 cocos2d 中重置场景？

> ID：12889703
> 
> 赞同：0
> 
> 时间：2012-10-15T05:21:51.983
> 
> 标签：cocos2d-iphone, reset

我正在使用`cocos2d`创建一个简单的箭头射击游戏。在重置按钮上，我将场景替换为相同的播放场景，即我在重置按钮上一次又一次地加载图像。但这不是优化的方法。有人可以帮助我或给我一个想法来重置游戏而无需一次又一次地加载图像。

非常感谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-15T08:50:13.260

您确定每次都将这些纹理加载到内存中吗？如果是这样，请在重新启动之前保留您的纹理，以确保它不会从 CCTextureCache 中卸载。将纹理加载到内存中是最长的过程。

# java - 验证没有 http 的 URL

> ID：12889705
> 
> 赞同：3
> 
> 时间：2012-10-15T05:21:56.570
> 
> 标签：java, validation, apache-commons, url-validation

我想在 java 端验证网站地址用户输入。我已经使用了这个，但它需要以、或.`org.apache.commons.validator.routines.UrlValidator`开头的 URL 。`http://``https://``ftp://`

但是，就我而言，我想接受以 开头的地址`www.`，例如`www.stackoverflow.com`. 我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-15T05:32:11.213

创建一个[URI](http://docs.oracle.com/javase/7/docs/api/java/net/URI.html)对象并检查是否`getScheme()`为空或 null。如果是这样，预先准备`"http://"`

# java - how to deploy struts2 eclipse web application on remote server

> ID：12889709
> 
> 赞同：1
> 
> 时间：2012-10-15T05:22:08.067
> 
> 标签：java, eclipse, tomcat

I want to check deploying procedure of my struts2 web application developed using eclipse juno on local tomcat server. I want to deploy it to a remote host like 000webhost. Can you provide me any information how to do that? well, I run my application by typing

```
 http://localhost:8080/Struts2starter/ 
```

on browser I want to run it by typing

```
 http://myapp.com/Struts2starter 
```

like something on browser. I wanted to know how to do it.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-15T07:13:14.207

I don't believe you can deploy a Java application in 000webhost. For example, you can deploy on Google App Engine. Here is an example of how to do that: [http://www.mkyong.com/google-app-engine/google-app-engine-struts-2-example/](http://www.mkyong.com/google-app-engine/google-app-engine-struts-2-example/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-15T08:48:57.303

It depends on server in question. Most servers provide some kind of remote deployment using manager applications / rmi connectors / whaever else exitic means , and eclipse can work with most of them. But of course it needs to be configured on both sides in order to work. Be more specific about your server config, and you will surely get proper answer

# clojure - Clojure 从文件中导入 java

> ID：12889715
> 
> 赞同：1
> 
> 时间：2012-10-15T05:23:01.343
> 
> 标签：clojure

> **可能重复：**
> [为什么 ns 表单中的 require 行为与 require 函数不同](https://stackoverflow.com/questions/3719929/why-does-require-in-the-ns-form-behave-different-from-the-require-function)

我正在涉足 clojure 并且遇到了导入问题。来自 REPL

```
clojure.core=>(import '(java.io FileReader))
clojure.core=>(import 'java.io.FileReader)
clojure.core=>(import java.io FileReader) 
```

每个都完美地工作，但从文件中只有以下作品：

```
(ns project.core
  (import java.io.FileReader)) 
```

这些都失败了

```
(ns project.core
  (import 'java.io.FileReader)) 

(ns project.core
  (import '(java.io FileReader)) 
```

出现以下错误：

```
ClassNotFoundException quote.java.io.FileReader  java.net.URLClassLoader$1.run (URLClassLoader.java:366)

ClassNotFoundException quote.(java.io FileReader)  java.net.URLClassLoader$1.run (URLClassLoader.java:366) 
```

分别。

实际上，我需要导入的不仅仅是`java.io.FileReader`，但这是问题的提炼版本。

有什么想法可能会出错吗？我似乎无法在其他任何地方找到问题

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-15T05:36:34.363

解决方案是：

```
(ns project.core
  (:import [java.io FileReader BufferedReader FooBar])) 
```

至于为什么这是必要的，`ns`宏接受几个指令，包括`:import`. 由于宏的实现方式，它期望导入指令的参数采用类似列表的形式 - 因此，`[java.io ...]`. 顺便说一句，这样的列表也`(java.io ...)`可以工作。

有关如何使用的完整`ns`概要，请查看 ClojureDocs 页面：[http](http://clojuredocs.org/clojure_core/clojure.core/ns) ://clojuredocs.org/clojure_core/clojure.core/ns 。ClojureDocs 是解决这类问题的宝贵资源。

# wxwidgets - 通知 GUI 在 wxWidgets 中更新的最干净的方法是什么？

> ID：12889718
> 
> 赞同：1
> 
> 时间：2012-10-15T05:23:20.047
> 
> 标签：wxwidgets, message-loop

我有一个小型应用程序，如果某些事件发生在较低级别，例如套接字脱机或类似情况，它需要更新 GUI 元素。

在 Windows 中，我可以使用 PostMessage，它将通过链发送到所有 Windows，并且所需的可以相应地更新。

如何在 wxWidgets 中实现类似的功能？我不能使用 OnUpdateUI 或类似的东西，因为某些控件似乎根本无法处理。

目标窗口可以是一个或多个，它们可以是框架或控件，所以我在这里有点困惑。

有人有建议吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-15T11:30:47.803

首先，所有控件都接收`EVT_UPDATE_UI`，因此您可以使用它，而且这样做非常简单——但也是最低效的，因此绝对不推荐用于套接字事件处理之类的东西（检查套接字是否已连接或虽然不是）。

其次，与 Windows 完全等价的`::PostMessage()`是`wxQueueEvent()`（实际上它曾经被称为`wxPostEvent()`但新版本更可取）。`wxQueueEvent()`从某种意义上说，它是线程安全的，它可以从辅助线程用于将事件发布到由主线程管理的 GUI 控件。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-15T11:12:10.497

您可以使用与 Win32 应用程序相同的方法。您可以使用 wxPostEvent 函数创建自定义事件类并将其发送到窗口。有一些关于此的[文档。](http://wiki.wxwidgets.org/Custom_Events)

不确定您对 wxUpdateUIEvent 的含义 - 根据我的经验，它工作得很好。什么控件不接收呢？您是否将 EVT_UPDATE_UI() 宏添加到事件表？

# java - 分析器消息解析

> ID：12889719
> 
> 赞同：0
> 
> 时间：2012-10-15T05:23:26.117
> 
> 标签：java, ftp

```
H|\^&|||DiaMed|CM v3.0||||||||20100510124259
P|1|10-001|4000011||Black^Carol|White|19670521|F||
O|1||4000011^^^\^^^|^^^MO01B|R|||||||||||||3||||20100510122212|||F
R|1|^^^AntiA^MO01B^Bloodgroup: ABO/D+ DAT (DiaClon) (5049)|0|C||||R||IH-
----------------------------------------
------------------------------------------
L|1|N 
```

我从 FTP 服务器下载的 Analyzer 收到以下消息。如何确定它是完整的消息。H 表示消息的第一个字符，L 表示传输会话的结束。我可以获得指示 H 的消息的第一个索引，但是如何从 L|1|N 中获取指示 L 的最后一个索引。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-15T05:27:41.213

您是否尝试反转整个字符串并选择 firstIndex？

就像是

`int index = ((new StringBuffer(inputStirng)).reverse().toString()).indexOf('L'); index = inputString.length() - (index + 1);`
您需要从字符串长度中减去才能获得实际索引

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-15T07:13:55.057

您可以将所有行加入 1 个字符串。然后在 DOTALL 模式下应用以下正则表达式：^H(.+?)L\|1\|N$

在下面的示例中，我使用的是 Groovy，主要是因为它允许定义多行字符串。除此之外，它应该很容易翻译成Java。

```
import java.util.regex.*

def s = """H|\\^&|||DiaMed|CM v3.0||||||||20100510124259
P|1|10-001|4000011||Black^Carol|White|19670521|F||
O|1||4000011^^^\\^^^|^^^MO01B|R|||||||||||||3||||20100510122212|||F
R|1|^^^AntiA^MO01B^Bloodgroup: ABO/D+ DAT (DiaClon) (5049)|0|C||||R||IH-
----------------------------------------
------------------------------------------
L|1|N"""

String regex = '^H(.+?)L\\|1\\|N$'

Pattern p = Pattern.compile(regex, Pattern.DOTALL);
Matcher m = p.matcher(s);
if (m.find()) {
  String text = m.group(1);
  println text
} 
```

# algorithm - 最长公共子串算法 O(n*m) 蛮力

> ID：12889727
> 
> 赞同：1
> 
> 时间：2012-10-15T05:24:23.913
> 
> 标签：algorithm, substring

我正在查看[http://en.wikipedia.org/wiki/Longest_common_substring_problem上的算法](http://en.wikipedia.org/wiki/Longest_common_substring_problem)

他们使用动态编程，这给了他们 O(nm) 的时间。但是，用蛮力算法不能实现相同的时间复杂度吗？我正在做一个家庭作业问题，在 O(n*m) 时间内找到这个算法，其中 n 和 m 是字符串长度。

对于字符串 A 和字符串 B，我检查 A[i] 是否等于 B 中的任何元素。如果它确实等于某个 B[j]，则检查 A[i + 1] 是否等于 B[j + 1]，然后如果 A[i + 2] = in B[i + 2] 依此类推，直到不再有匹配或字符串结尾。如果是不匹配的情况，则从我们在 B 中检查的最后一个元素开始继续检查 B 中的 A[i]。我们对每个 A 元素重复此过程，同时存储到目前为止找到的最大子字符串的开始和结束索引. 该算法似乎是 O(n*m)。如果我对此没有错，是否有任何理由不使用这种方法？

谢谢你的帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-15T05:42:19.680

如果我正确阅读了您的算法，那么我认为这是错误的。

让`A = "abac"`和`B = "ababac"`。然后，`i = 0`我们看到字符串在 处匹配`j = 0`。`j = 3`所以我们开始匹配，并在since失败`b != c`。所以我们从 开始匹配`j = 3`，但从那以后立即失败`b != a`（请注意，我们不是从那里开始匹配，`j = 2`因为我们在那里成功匹配`a = a`）。然后我们会得出结论，最长的子串是`aba`，这是不正确的。

# mysql - 由于 mysql 查询，在 shell 脚本中没有得到输出

> ID：12889728
> 
> 赞同：0
> 
> 时间：2012-10-15T05:24:33.820
> 
> 标签：mysql, shell

这是我用于生成图表并将它们组合起来的脚本。问题是当我给出输入并在终端中运行文件时，它在转储文件中显示为空。我认为它也没有执行 mysql 命令。如果我在命令本身中输入 datetime1、datetime2 和 moteid，Mysql 命令工作正常。我在 mysql 查询中找不到我出错的地方

```
datetime1=$1 
```

日期时间2=$2 moteid=$3

```
echo " \\documentclass[a4paper,12pt]{article} \

\\usepackage{graphicx} \

\\usepackage{subfigure} \

\\begin{document} \

\\begin{center} \

\\begin{Large} \

\\textbf{ A Network Management System} \\\ \

\\end{Large} \

\\end{center} \

\\vspace{5mm} \

{\bf Report }" > report.tex

flag=0
count_null=0

echo "\\begin{center} \

      {\bf Report generated } \

      \\end{center} " >> report.tex

mysql -u root -e "SELECT (b.l2framessent - a.l2framessent) AS netl2framessent,(b.Frames_Drop-a.Frames_Drop) AS netframesdrop,(b.ETX - a.ETX) AS netetx,CONVERT(endOfInterval*500, DATETIME) endOfInterval FROM (SELECT datetime DIV 500 startOfInterval,l2framessent,Frames_Drop,ETX FROM Statistics3,(SELECT MIN(datetime) mindate FROM Statistics3 WHERE ipaddress=\"$moteid\" AND datetime BETWEEN \"$datetime1\" AND \"$datetime2\" GROUP BY datetime DIV 500) b WHERE ipaddress=\"$moteid\" AND datetime = mindate) a, (SELECT datetime DIV 500 endOfInterval, l2framessent,Frames_Drop,ETX FROM Statistics3, (SELECT MIN(datetime) mindate FROM Statistics3 WHERE ipaddress = \"$moteid\" AND datetime BETWEEN \"$datetime1\" AND \"$datetime2\" GROUP BY datetime DIV 500) b WHERE ipaddress = \"$moteid\" AND datetime = mindate) b WHERE endOfInterval = startOfInterval+ 1 ;" >> dump

sed '1d' dump

##### ETX ######

echo "reset \

set terminal png \

set xdata time \

set timefmt \"%H:%M:%S\" \

set xlabel \"Time\" \

set ylabel \"netetx\" \

set title \"ETX\" \

set grid \

plot \"dump\" using 4:3 title \"ETX\" " >> etx.sh

gnuplot etx.sh > etx.png

#L2 Frames Sent

echo "reset \

set terminal png \

set xdata time \

set timefmt \"%H:%M:%S\" \

set xlabel \"Time\" \

set ylabel \"netL2Framessent\" \

set title \"L2 Frames Sent\" \

set grid \

plot \"dump\" using 4:1 title \"L2 Frames Sent\" " >> frames.sh

gnuplot frames.sh > frames.png

#Frames Drop

echo "reset \

set terminal png \

set xdata time \

set timefmt \"%H:%M:%S\" \

set xlabel \"Time\" \

set ylabel \"netframesdrop\" \

set title \"L2 Frames Drop\" \

set grid \

plot \"dump\" using 4:2 title \"L2 Frames Drop\" " >> framesdrop.sh

gnuplot framesdrop.sh > framesdrop.png

##   TEX  FILE  GENERATION ####

echo "\\begin{figure}[h] \

\\begin{center} \

\\subfigure[ETX]{\label{fig:edge-1a}\includegraphics[width=2.6in,height=2.5in]{etx.png}} \

\\hspace{1mm} \

\\subfigure[L2 Frames Sent]{\label{fig:edge-1b}\includegraphics[width=2.6in,height=2.5in]{frames.png}} \

\\end{center} \

\\label{fig:edge} \

\\end{figure} \

\\begin{figure}[h] \

\\begin{center} " >> report.tex

echo "\\subfigure[L2 Frames Drop]{\label{fig:edge-2a}\includegraphics[width=2.5in,height=2.5in]{framesdrop.png}} \

\\hspace{3mm}  >> report.tex

\\end{center} \

\\label{fig:edge} \

\\end{figure} \

\\clearpage " >> report.tex

echo "\\end{document} " >> report.tex

pdflatex report.tex > /dev/null 
```

在终端运行我给出的输出， sh plot.sh "2012-09-25 15:45:00" "2012-09-29 18:45:00" "5" 输出是

```
plot "dump" using 4:3 title "ETX" 
                            ^
"etx.sh", line 12: warning: Skipping data file with no valid points

plot "dump" using 4:3 title "ETX" 
                                  ^
"etx.sh", line 12: x range is invalid

plot "dump" using 4:1 title "L2 Frames Sent" 
                            ^
"frames.sh", line 12: warning: Skipping data file with no valid points

plot "dump" using 4:1 title "L2 Frames Sent" 
                                             ^
"frames.sh", line 12: x range is invalid

plot "dump" using 4:2 title "L2 Frames Drop" 
                            ^
"drop.sh", line 12: warning: Skipping data file with no valid points

plot "dump" using 4:2 title "L2 Frames Drop" 
                                             ^
"drop.sh", line 12: x range is invalid

RUN SUCCESSFUL (total time: 154ms) 
```

如果我给这个mysql查询而不是那个，它工作正常

```
mysql -u root -e "SELECT (b.l2framessent - a.l2framessent) AS netl2framessent,(b.Frames_Drop-a.Frames_Drop) AS netframesdrop,(b.ETX - a.ETX) AS netetx,CONVERT(endOfInterval*500, DATETIME) endOfInterval FROM (SELECT datetime DIV 500 startOfInterval,l2framessent,Frames_Drop,ETX FROM Statistics3,(SELECT MIN(datetime) mindate FROM Statistics3 WHERE ipaddress='moteid5' AND datetime BETWEEN '2012-09-25 15:45:00' AND '2012-09-25 18:45:00' GROUP BY datetime DIV 500) b WHERE ipaddress='moteid5' AND datetime = mindate) a, (SELECT datetime DIV 500 endOfInterval, l2framessent,Frames_Drop,ETX FROM Statistics3, (SELECT MIN(datetime) mindate FROM Statistics3 WHERE ipaddress = 'moteid5' AND datetime BETWEEN '2012-09-25 15:45:00' AND '2012-09-25 18:45:00' GROUP BY datetime DIV 500) b WHERE ipaddress = 'moteid5'AND datetime = mindate) b WHERE endOfInterval = startOfInterval+ 1 ;" >> dump 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-15T05:44:43.517

命令：

```
sed '1d' 
```

没有给出输入文件，所以它是从标准输入中读取的。所以它在等你输入一些东西。我怀疑您打算将 mysql 的输出通过管道传输给它，所以它应该是：

```
mysql -u root -e "SELECT ..." | sed 1d >> filename 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-16T04:33:04.040

而不是 5 在 mote，我必须给 moteid5。它现在没有显示任何错误

# android - 在android中更改复选框背景颜色

> ID：12889729
> 
> 赞同：13
> 
> 时间：2012-10-15T05:24:38.550
> 
> 标签：android, android-layout, checkbox

我必须开发一个应用程序。这里我必须使用复选框。这里我必须选择复选框意味着默认背景颜色是黄色。但我希望**使用渐变来更改背景颜色以用于选中和未选中条件**。我该如何更改它。请帮我。

这是我当前的代码：

```
 <CheckBox
   android:id="@+id/rempasswordcheckbox"
   android:layout_width="wrap_content"
   android:layout_height="wrap_content"
   android:layout_below="@+id/passwordview"

   android:layout_y="200dp"
   android:paddingLeft="45dp"
   android:text="Remember Password!"
   android:textColor="#1d2328" /> 
```

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-10-15T05:36:01.230

如果您有兴趣更改复选框（按钮）的背景颜色，请使用

```
mcheckbox.setButtonDrawable(R.drawable.someotherbackground); 
```

其中 someotherbackground 是可绘制文件夹中的图像，您希望将复选框更改为该背景

尝试如下

```
 mcheckbox.setOnCheckedChangeListener(new OnCheckedChangeListener() {

        public void onCheckedChanged(CompoundButton buttonView,
                boolean isChecked) {

            if (isChecked) {

                System.out.println("checked" + isChecked);
                mcheckbox.setButtonDrawable(R.drawable.imageWhenActive);
                    System.out.println("app constant is set as "+isChecked);
            }
            else
            {
                mcheckbox.setButtonDrawable(R.drawable.imageWheninactive);
                System.out.println("app constant is set as "+isChecked);
            }

        }
    }); 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-10-15T05:49:38.257

res/drawable/checkbox_background.xml：

```
<?xml version="1.0" encoding="utf-8"?>
<selector xmlns:android="http://schemas.android.com/apk/res/android" >
    <item android:state_checked="true">
        <shape>
            <gradient android:startColor="#FFFFFF" android:endColor="#000000" android:angle="-90"/>
        </shape>
    </item>
    <item>
        <shape>
            <gradient android:startColor="#000000" android:endColor="#FFFFFF" android:angle="-90"/>
        </shape>
    </item>
</selector> 
```

在您的布局中：

```
<CheckBox ...
    android:button="@drawable/checkbox_background" /> 
```

如果你想使用现有的drawable：

```
<?xml version="1.0" encoding="utf-8"?>
<selector xmlns:android="http://schemas.android.com/apk/res/android" >
    <item android:state_checked="true" android:drawable="@drawable/checked_drawable" />
    <item android:drawable="@drawable/unchecked_drawable" />
</selector> 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2015-03-02T08:03:16.677

试试这个代码

```
public class MainActivity extends Activity {

CheckBox box;
boolean flag=false;
@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);

    box=(CheckBox)findViewById(R.id.box);

    box.setOnClickListener(new OnClickListener() {

        @Override
        public void onClick(View arg0) {
            // TODO Auto-generated method stub

            if(flag){
                GradientDrawable d=new GradientDrawable();
                d.setColor(Color.RED);
                box.setBackgroundDrawable(d);
                }
            else{
                GradientDrawable d=new GradientDrawable();
                d.setColor(Color.GREEN);
                box.setBackgroundDrawable(d);
            }
            flag=!flag;
            }

    });
} 
```

}

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2012-10-15T05:26:24.123

使用代码。

```
checkBox.setBackgroundColor(Color.BLUE); 
```

**代码**

```
CheckBox cb = (CheckBox) findViewById(R.id.CheckBox01);
cb.setOnCheckedChangeListener(new OnCheckedChangeListener() 
{
     @Override
     public void onCheckedChanged(CompoundButton buttonView,boolean isChecked) 
     {
         // TODO Auto-generated method stub
         if (buttonView.isChecked()) 
         {
             //cb.setBackgroundColor(Color.BLUE);
             cb.setBackgroundColor(Color.parseColor("#FFFFFF"));
         }
         else
         {
             // Not Checked
             // Set Your Default Color. 
         }
     }
}); 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-10-15T05:35:15.550

**在您的复选框 xml 中使用以下代码：**

```
<CheckBox
   android:id="@+id/rempasswordcheckbox"
   android:layout_width="wrap_content"
   android:layout_height="wrap_content"
   android:layout_below="@+id/passwordview"

   android:background="#0000FF"

   android:layout_y="200dp"
   android:paddingLeft="45dp"
   android:text="Remember Password!"
   android:textColor="#1d2328" /> 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2016-02-29T16:51:22.963

更改主题的 colorAccent

```
 <style name="AppTheme.Base" parent="Theme.AppCompat.Light.NoActionBar">
    <item name="colorAccent">@color/orange</item>
    ...
  </style> 
```

# stm32 - 使用 Keil STM32 构建时未定义的符号 SystemInit（引用自 startup_stm32f2xx.o）

> ID：12889732
> 
> 赞同：1
> 
> 时间：2012-10-15T05:24:53.883
> 
> 标签：stm32, keil

我正在使用 STM32F207VC 控制器。我正在使用 uvision4 IDE，当我尝试编译一个简单的代码时，我收到错误 tst1.axf: Error: L6218E: Undefined symbol SystemInit (referred from startup_stm32f2xx.o)。. 我已将 stm32f2x 文件放置到我的项目目录中。

但仍然是同样的问题。

请帮助解决这个问题。

谢谢

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-05-09T05:30:50.417

需要添加“Libraries\CMSIS\CM3\DeviceSupport\ST\STM32F10x\system_stm32f10x.c”，如`SystemInit()`其中定义的那样。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-20T17:34:45.267

好吧，您应该定义（或从某个地方获取）函数 SystemInit，因为它是从 startup.s 文件中调用的。

或者您可以在调用 SystemInit 函数的启动文件中注释行。会有类似的东西：

```
1 IMPORT  SystemInit
2 IMPORT  __main
3 LDR     R0, =SystemInit
4 BLX     R0
5 LDR     R0, =__main
6 BX      R0 
```

您可以使用 ; 注释第 1、3、4 行。象征。

实际上，函数 SystemInit 通常是 STM Peripheral 库的一部分，它旨在初始化您需要的所有外围设备。没有它，您将不得不自己进行初始化。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-07-12T21:42:51.270

可能为时已晚，但是：您应该检查 Keil uVision 安装文件夹，并且所有（我希望）供应商都有带有 SystemInit 功能的文件：）

*~\Keil\ARM\Startup\ST\STM32F2xx\system_stm32f2xx.c*

# jquery - jQuery Mobile 和 iPhone

> ID：12889735
> 
> 赞同：2
> 
> 时间：2012-10-15T05:24:58.347
> 
> 标签：jquery, jquery-mobile

我需要这里专家的帮助:)

# 故事

基本上我正在尝试创建一个带有底部导航栏的移动网站，到目前为止它在桌面（chrome 和 safari）和 Android 浏览器上运行良好，但它不适用于 Safari Mobile 的 iPhone 浏览器。

# 插件

*   jQuery 移动 1.2

*   用于 JQuery Mobile 的 Watusi iScroll 插件

*   jQuery 1.8.2

# 代码

```
<div data-role="page" id="one">
    <div data-role="header">
        <h1>Entry</h1>
    </div><!-- /header -->
    <div data-role="content" data-iscroll class="wrapper">                      
        <p>the content ...</p>  
    </div><!-- /content -->
    <div data-role="footer" data-position="fixed" data-tap-toggle="false">
        <div data-role="navbar">
            <ul>
                <li><a href="#one" data-icon="custom">One</a></li>
                <li><a href="#two" data-icon="custom">Two</a></li>
                <li><a href="#three" data-icon="custom">Three</a></li>
            </ul>
        </div><!-- /navbar -->                             
    </div>                                      
</div><!-- /page one --> 
```

# 问题

页脚只是没有显示在 Safari Mobile 上。请帮忙，谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-15T05:40:08.583

尝试使用 iPhone 的“用户代理”在桌面 safari 中检查您的 HTML 代码，它的行为类似于移动 safari，然后使用检查元素来跟踪确切的问题。

# java - 在日期对象中添加 5.30 小时

> ID：12889741
> 
> 赞同：1
> 
> 时间：2012-10-15T05:25:49.640
> 
> 标签：java, android, date, object

我输出的日期对象是下午 1.05，应该是下午 6.35。如何将 gmt 转换为 gmt 5.30。

请帮忙！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-15T05:28:43.567

```
Calendar cal = Calendar.getInstance(); // creates calendar
cal.setTime(new Date()); // sets calendar time/date=====> you can set your own date here
cal.add(Calendar.HOUR_OF_DAY, 5); // adds one hour
cal.add(Calendar.MINUTE, 30); // adds one Minute
cal.getTime(); // returns new date object, one hour in the future 
```

**=======>**[在此处](http://www.java2s.com/Code/JavaAPI/java.util/Calendarsetintfieldintvalue.htm)将时间设置为日历

# css - 在新行上打印 CSS URL

> ID：12889744
> 
> 赞同：3
> 
> 时间：2012-10-15T05:26:03.290
> 
> 标签：css, printing, print-style

对于打印样式，我目前正在文本之后打印 url。是否可以让它出现在下一行而不是文本旁边？这就是我到目前为止所拥有的。

```
a:after {
  content:" (" attr(href) ")";
} 
```

**结果：**

给我发电子邮件（hello@email.com）

**想要这个：**

给我发邮件

(你好@email.com)

示例：http: [//jsfiddle.net/qesRk/](http://jsfiddle.net/qesRk/)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-15T05:37:12.567

试试这个 -

```
a:after {
    font-style: italic;
    content: "\A and some text after."; white-space:pre;
} 
```

[**演示**](http://jsfiddle.net/SZ3gg/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-15T05:32:18.657

你可以`display: block;`，就像在这个[JSFiddle](http://jsfiddle.net/Tdk66/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-15T07:08:25.933

如其他答案所示，有多种方法可以使`:after`伪元素从新行开始。但是您问题中的示例表明所需的渲染是

给我发邮件

(你好@email.com)

`href`如果目的是从链接的属性中获取地址，则仅使用 CSS 无法实现这一点。原因是工作`href`值必须以 开头`mailto:`，并且在使用诸如`attr(href)`. 你能达到的是

给我发邮件

(mailto:hello@email.com)

为此，给定标记`<a href="mailto:hello@email.com">Email me</a>`，您将使用

```
a:after {
        content: " (" attr(href) ")";
        display: block;
        margin-top: 1.2em;
} 
```

假设您也想要一个空行，如您的示例所示。将 1.2 替换为您正在使用的 line-height 值。

PS 无论如何，这听起来是不必要的复杂。仅使用内容中的电子邮件地址（可选地包含在`a href`元素中）就足够了，无论是在屏幕上还是在打印上。（在打印时，您通常希望禁止链接的下划线，但这是一个普遍的问题。）如果您正在考虑阻止电子邮件地址收集器从内容中获取地址，将地址放入属性中并没有多大帮助（他们很容易被收割机加工）。

# c# - 从字符串中检索特定关键字

> ID：12889747
> 
> 赞同：0
> 
> 时间：2012-10-15T05:26:28.447
> 
> 标签：c#, .net, regex, string

给定一行字符串，我需要一种**提取关键字**的方法。

A`keyword`是以***$****开头***并*在其后跟非字母数字字符时结束*的任何内容。**

 **例如，给定以下字符串

```
tempval = $SREAD(13,"B14.OATEMP");
$ORCONTROL("B14.OUTT)
$LOOP(0,"B14.HX.COM)
if ($START(24)) 
```

我需要检索 $SREAD、$ORCONTROL、$LOOP、$START

最简单的方法是什么？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-15T05:28:32.520

试试这个模式，它可能对你有帮助

```
\$[A-Za-z0-9]+ 
```

截屏

![在此处输入图像描述](../Images/b2bd04d192937109673ebda495551b95.png)**

# ssl - Apache SSL模块阻止httpd启动？

> ID：12889748
> 
> 赞同：2
> 
> 时间：2012-10-15T05:26:40.260
> 
> 标签：ssl, https, apache2.2

我有几个网站托管在简单的 http 协议下。我需要将 https 放入其中之一，但是当我尝试启用 ssl 时：

```
# a2enmod ssl 
```

我所有的 http 托管网站都停止工作。没有额外的配置，只有禁用模块，一切才能重新开始工作。

启用模块后，当我尝试时：

```
# apache2ctl restart 
```

我得到：`httpd not running, trying to start`

你们有什么想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-15T08:47:24.163

检查`<IfModule mod_ssl.c>`or中`<IfModule ssl_module>`的部分的配置：这些部分中几乎肯定存在配置错误。

# android - 如何在android中找到网络启用状态？

> ID：12889750
> 
> 赞同：1
> 
> 时间：2012-10-15T05:27:00.550
> 
> 标签：android

是否有可能在android的广播接收器中使用意图找到互联网启用请帮助我？当应用程序未打开时，我想要确切的后台进程我想检测网络状态

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-15T05:56:25.973

试试下面的代码，

```
public class ConnectionAvailable extends BroadcastReceiver {

@Override
public void onReceive(Context context, Intent intent) {

    ConnectivityManager manager = (ConnectivityManager) context
            .getSystemService(context.CONNECTIVITY_SERVICE);
    boolean is3g = manager.getNetworkInfo(ConnectivityManager.TYPE_MOBILE)
            .isConnectedOrConnecting();
    boolean isWifi = manager.getNetworkInfo(ConnectivityManager.TYPE_WIFI)
            .isConnectedOrConnecting();

    if (!is3g && !isWifi) {

        Toast.makeText(context, "Internet Connection Lost",
                Toast.LENGTH_LONG).show();

    } else {
        if ((intent.getAction() != null)
                && (intent.getAction()
                        .equals("android.intent.action.AIRPLANE_MODE"))) {
            Toast.makeText(context, "Internet Connection Lost",
                    Toast.LENGTH_LONG).show();               
        }
    }
}
} 
```

这可能会帮助你..

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-15T05:32:33.040

试试下面的代码：

```
private void setMobileDataEnabled(Context context, boolean enabled) {
final ConnectivityManager conman = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);
final Class conmanClass = Class.forName(conman.getClass().getName());
final Field iConnectivityManagerField = conmanClass.getDeclaredField("mService");
iConnectivityManagerField.setAccessible(true);
final Object iConnectivityManager = iConnectivityManagerField.get(conman);
final Class iConnectivityManagerClass = Class.forName(iConnectivityManager.getClass().getName());
final Method setMobileDataEnabledMethod = iConnectivityManagerClass.getDeclaredMethod("setMobileDataEnabled", Boolean.TYPE);
setMobileDataEnabledMethod.setAccessible(true);

setMobileDataEnabledMethod.invoke(iConnectivityManager, enabled);
 } 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-15T05:32:34.560

```
ConnectivityManager cm = (ConnectivityManager) getSystemService(Context.CONNECTIVITY_SERVICE);
    NetworkInfo[] netInfo = cm.getAllNetworkInfo();
    for (NetworkInfo ni : netInfo) {
        if (ni.getTypeName().equalsIgnoreCase("WIFI"))
            if (ni.isConnected())
                haveConnectedWifi = true;
        if (ni.getTypeName().equalsIgnoreCase("MOBILE"))
            if (ni.isConnected())
                haveConnectedMobile = true;
    }
    return haveConnectedWifi || haveConnectedMobile; 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-15T05:32:51.893

```
 public static boolean isNetworkAvailable(Context context) {
             ConnectivityManager connectivity = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);
             if (connectivity != null) {
                NetworkInfo[] info = connectivity.getAllNetworkInfo();
                if (info != null) {
                   for (int i = 0; i < info.length; i++) {
                      if (info[i].getState() == NetworkInfo.State.CONNECTED) {
                          return true;
                      }
                   }
                }
             }
             return false;
          } 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-10-15T05:34:48.300

```
 public boolean isOnline() {
    ConnectivityManager cm =
        (ConnectivityManager) getSystemService(Context.CONNECTIVITY_SERVICE);
    NetworkInfo netInfo = cm.getActiveNetworkInfo();
    if (netInfo != null && netInfo.isConnectedOrConnecting()) {
        return true;
    }
    return false;}
   and add this permission 
```

调用此方法并在清单文件中添加此权限`<uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />`

# php - 如何创建 Zend_Form_Elements 的多维数组

> ID：12889751
> 
> 赞同：1
> 
> 时间：2012-10-15T05:27:03.650
> 
> 标签：php, forms, zend-framework

我目前在实现包含二维元素数组的 Zend_Form/SubForm 时遇到问题。

我有一些从数据库查询返回的数据，我想在编辑表单中使用，我正在寻找我的表单来输出带有多维数组表示法作为名称的 HTML 输入标签，以便返回的数据在发布时是一个二维数组，以便于处理。

示例预期输出：

```
<input type="text" name="data[1][val] value="1">
<input type="text" name="data[1][str] value="asdf">
<input type="text" name="data[2][val] value="2">
<input type="text" name="data[2][str] value="fdsa"> 
```

在我使用子表单的试验期间，我已经能够完成以下输出，但是我的第一对括号似乎总是被过滤掉了，我只剩下：

```
<input type="text" name="data1[val] value="1">
<input type="text" name="data1[str] value="asdf">
<input type="text" name="data2[val] value="2">
<input type="text" name="data2[str] value="fdsa"> 
```

在我的多次搜索中，我已经能够找到很多关于如何完成一维数组表示法的文档，但是对于二维数组表示法却一无所知。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-26T11:38:06.357

表单的 setIsArray 应设置为 true
`$subform1->setIsArray(true);`
`$subform2->setIsArray(true);`
，然后可以使用 setElementsBelongto，因为
`$subform1->setElementsBelongTo('data[1]');`
`$subform2->setElementsBelongTo('data[2]');`
我希望这能给您一些想法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-22T20:02:41.763

好吧，显然您有一个名为 data1 的子表单，对吗？有两个元素，一个名为“val”的元素和另一个名为“str”的元素，试试这个，但不确定它是否会起作用：

$elementVal->setIsArray(true);

这将为数组“data1”添加另一个维度，但我无法为其指定名称，因此它看起来像“data1[val][]”

# android - 片段中的操作栏

> ID：12889752
> 
> 赞同：-1
> 
> 时间：2012-10-15T05:27:05.283
> 
> 标签：android, android-layout

是否可以在 Fragment 中使用自己的操作栏？这意味着它不应该是 Activity 的一部分，而是片段的一部分。如果是，请举例说明！谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-15T10:42:44.313

片段可以为活动的操作栏贡献项目。它不能有自己的操作栏。欢迎您向 Fragment 的 UI 添加一些内容。

# android - SharedPreference 更改未反映在我的壁纸服务中

> ID：12889753
> 
> 赞同：5
> 
> 时间：2012-10-15T05:27:19.807
> 
> 标签：android, sharedpreferences, andengine, live-wallpaper, listpreference

我正在制作动态壁纸，我需要在设置场景中更改车辆的速度，并且当我按下返回按钮时，它需要反映回壁纸服务。在我的偏好活动中，我将列表偏好更改保存在共享偏好中，如下所示：-

```
@Override
protected void onCreate(Bundle savedInstanceState) {

    super.onCreate(savedInstanceState);
    addPreferencesFromResource(R.xml.prefs);

    ListPreference listPreference = (ListPreference) findPreference("listPref");
    currValue = listPreference.getValue();
    Log.e("LiveWallpaperSettings", "currvalue " + currValue);

    listPreference.setOnPreferenceChangeListener(new OnPreferenceChangeListener() {

        @Override
        public boolean onPreferenceChange(Preference arg0, Object arg1) {

            SharedPreferences customSharedPreference = getSharedPreferences("Speed", LiveWallpaperSettings.MODE_PRIVATE);
            SharedPreferences.Editor editor = customSharedPreference.edit();
            editor.putString("Speed",currValue);
            editor.commit();

            return true;
        }

    }); 
```

我的壁纸服务是使用 andengine 动态壁纸扩展制作的。如果我想在服务中反映我的列表首选项的变化，我该怎么做。这就是我所做的，但它似乎没有工作。

我的 prefs.xml

```
 <PreferenceCategory
            android:title="Settings">

            <ListPreference
                    android:title="Speed"
                    android:summary="Change the Speed"
                    android:key="listPref"
                    android:defaultValue="15"
                    android:entries="@array/listArray"
                    android:entryValues="@array/listValues" 
             />
</PreferenceCategory> 
```

我的array.xml

```
<resources>
<string-array name = "listArray">
    <item>Slow</item>
    <item>Medium</item>
    <item>Fast</item>
</string-array>
<string-array name = "listValues">
    <item>5</item>
    <item>15</item>
    <item>30</item>
</string-array> 
```

在我的服务中，我实现 SharedPreferences.OnSharedPreferenceChangeListener 并实现以下方法

```
public void onSharedPreferenceChanged(SharedPreferences sharedPreferences,String key) {

    sharedPreferences = getSharedPreferences("Speed", MODE_PRIVATE);
    strSpeedValue = sharedPreferences.getString("Speed", "5");

    fltSpeedValue = Integer.parseInt(strSpeedValue);
    final AutoParallaxBackground autoParallaxBackground = new AutoParallaxBackground(0, 0, 0, 10);
    autoParallaxBackground.attachParallaxEntity(new ParallaxEntity(fltSpeedValue, new Sprite(0,mCamera.getHeight() - this.mParallaxLayer.getHeight(),this.mParallaxLayer, getVertexBufferObjectManager())));
    autoParallaxBackground.attachParallaxEntity(new ParallaxEntity(0f, new Sprite(CAMERA_WIDTH/2 - 30, CAMERA_HEIGHT/2,this.mAutoLayer, getVertexBufferObjectManager())));
    mMainScene.setBackground(autoParallaxBackground);
}

@Override
protected void onResume() {
    super.onResume();
    // Set up a listener whenever a key changes

    PreferenceManager.getDefaultSharedPreferences(this).registerOnSharedPreferenceChangeListener(this);
}

@Override
protected void onPause() {
    super.onPause();
    // Unregister the listener whenever a key changes
    PreferenceManager.getDefaultSharedPreferences(this).unregisterOnSharedPreferenceChangeListener(this);
} 
```

但是我在 listpreference 中更改的值在我的服务中没有改变。难道我做错了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-16T06:36:30.150

解决了！

我在 PreferenceActivity 中错误地设置了值，并且没有正确实现 OnSharedPreferenceChangeListener。

解决方案 ：-

```
 ListPreference listPreference;

@SuppressWarnings("deprecation")
@Override
protected void onCreate(Bundle savedInstanceState) {

    super.onCreate(savedInstanceState);
    addPreferencesFromResource(R.xml.prefs);        
    listPreference = (ListPreference) findPreference("listPref");

}

@Override
public void onSharedPreferenceChanged(SharedPreferences sharedPreferences, String key) {

    SharedPreferences customSharedPreference = getSharedPreferences(key, LiveWallpaperSettings.MODE_PRIVATE);
    SharedPreferences.Editor editor = customSharedPreference.edit();
    editor.putString("Speed",listPreference.getValue());
    editor.commit();
    Log.e("LiveWallpaperSettings", "Speed Value after setting " + customSharedPreference.getString("Speed", ""));
}

@Override
protected void onResume() {
    super.onResume();
    // Set up a listener whenever a key changes
    getPreferenceScreen().getSharedPreferences().registerOnSharedPreferenceChangeListener(this);
}

@Override
protected void onPause() {
    super.onPause();
    // Unregister the listener whenever a key changes
    getPreferenceScreen().getSharedPreferences().unregisterOnSharedPreferenceChangeListener(this);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-15T05:55:40.973

有几件事：你的 XML 说你的键是“listPref”，所以当你从首选项中读取值时，你想检查这个键（速度只是显示标题）

我不相信偏好更改的侦听器有用......我建议的方式是，在您的 onResume() 中，您将从偏好中读取新值并使用该值。这应该可以正常工作，因为每次您在更改首选项后返回应用程序时，都应该调用 onResume()。

# java - 使用本地化对字符串列表进行排序

> ID：12889760
> 
> 赞同：34
> 
> 时间：2012-10-15T05:28:11.763
> 
> 标签：java, sorting, collections, localization, locale

我想根据用户区域设置在字符串列表下方排序

```
List<String> words = Arrays.asList(
      "Äbc", "äbc", "Àbc", "àbc", "Abc", "abc", "ABC"
    ); 
```

对于不同的用户区域设置，排序输出应该根据那里的区域设置不同。

如何根据用户区域设置对上述列表进行排序？

我试过

```
Collections.sort(words , String.CASE_INSENSITIVE_ORDER); 
```

但这不适用于本地化，那么如何将语言环境参数传递给`Collections.sort()`或有其他有效的方法吗？

* * *

## 回答 #1

> 赞同：59
> 
> 时间：2012-10-15T05:40:06.273

您可以使用带有自定义比较器的排序。查看[整理器界面](http://docs.oracle.com/javase/7/docs/api/java/text/Collator.html)

```
Collator coll = Collator.getInstance(locale);
coll.setStrength(Collator.PRIMARY);
Collections.sort(words, coll); 
```

collat​​or 是一个比较器，可以直接传递给`Collections.sort(...)`方法。

* * *

## 回答 #2

> 赞同：29
> 
> 时间：2012-10-15T05:41:05.600

我认为这是你应该使用的 -[`Collator`](http://docs.oracle.com/javase/6/docs/api/java/text/Collator.html)

> Collat​​or 类执行对区域设置敏感的字符串比较。您可以使用此类为自然语言文本构建搜索和排序例程。

在比较器中执行以下操作 -

```
public int compare(String arg1, Sting arg2) {
    Collator usCollator = Collator.getInstance(Locale.US); //Your locale here
    usCollator.setStrength(Collator.PRIMARY);
    return usCollator.compare(arg1, arg2);
} 
```

并将比较器的实例传递给该`Collections.sort`方法。

**更新**

就像@Jan Dvorak 说的那样，它实际上是一个比较器，因此您可以使用所需的语言环境创建它的实例，设置强度并将其传递给排序方法：

```
Collactor usCollator = Collator.getInstance(Locale.US); //Your locale here
usCollator.setStrength(Collator.PRIMARY); //desired strength
Collections.sort(yourList, usCollator); 
```

* * *

## 回答 #3

> 赞同：9
> 
> 时间：2019-04-01T14:11:06.253

```
List<MODEL> ulke = new ArrayList<MODEL>();

    Collections.sort(ulke, new Comparator<MODEL>() {
        Collator collator = Collator.getInstance(new Locale("tr-TR"));
        @Override
        public int compare(MODEL o1, MODEL o2) {
            return collator.compare(o1.getULKEAD(), o2.getULKEAD());
        }
    }); 
```

# javascript - 如何从 iframe 中的文档对象获取父元素

> ID：12889761
> 
> 赞同：2
> 
> 时间：2012-10-15T05:28:17.063
> 
> 标签：javascript, jquery, html, iframe

我有 iframe 的问题。

我想从 iframe 的内容中获取父对象或父节点。

我的代码：

一个.html：

```
<html>
<head>
<script src="http://code.jquery.com/jquery-1.6.4.min.js"></script>
</head>
<body>
<div>

    <input type="button" value="click me" onClick="parent.getIframe(document);"/>
</div>
</body>
</html> 
```

* * *

索引.php：

```
<html>
<head>
<script src="http://code.jquery.com/jquery-1.6.4.min.js"></script>
<script>
var getIframe = function(obj){
   // Iframe Element = $(obj).parent();
   //or some things likes this.
}
</script>
</head>
<body>
<div>
   <div id="myId">
        <iframe src="a.html"></iframe>
    </div>
</div>
</body>
</html> 
```

现在我想当我点击“点击我”按钮时。我想通过 iframe 的文档对象获取 HTMLIFRAME 对象元素。

我需要你的帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-15T05:34:40.370

您可以使用以下两个属性：

```
contentDocument - Returns the document object generated by a frame/iframe
contentWindow -   Returns the window object generated by a frame/iframe 
```

检查[此参考](http://www.bennadel.com/blog/1592-Getting-IFRAME-Window-And-Then-Document-References-With-contentWindow.htm)

# asp.net - 让 Visual Studio Web 开发人员回来？

> ID：12889765
> 
> 赞同：0
> 
> 时间：2012-10-15T05:28:51.423
> 
> 标签：asp.net, visual-studio-2010, visual-web-developer

由于磁盘空间极低，我只在安装 Visual Studio 时安装了 C#。我需要恢复“Webdeveloper”功能，但找不到任何东西？有人知道如何在不重新安装的情况下执行此操作吗？

在视觉工作室 2010

# java - java中的浮点数

> ID：12889766
> 
> 赞同：2
> 
> 时间：2012-10-15T05:29:17.243
> 
> 标签：java

我有一些浮点值，我在其中做一些乘法

但是，结果是-0，我发现值太小，因此转换为这个答案。

我需要比较浮动的不同结果，因此如果它是-0，我无法进行比较。

我该如何解决这个问题？提前谢谢了。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-15T05:31:17.100

尝试使用 BigDecimal，

javadocs在这里[http://docs.oracle.com/javase/1.5.0/docs/api/java/math/BigDecimal.html](http://docs.oracle.com/javase/1.5.0/docs/api/java/math/BigDecimal.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-15T05:31:03.867

尝试使用双精度，这将提供更高的精度。如果这仍然不够，您可以使用[`BigDecimal`](http://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html).

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-15T05:36:24.493

尝试使用 java.math.BigDecimal。文档就在这里：[http ://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html](http://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html)

# html - 在 html 中的页面加载期间显示弹出图像

> ID：12889768
> 
> 赞同：0
> 
> 时间：2012-10-15T05:29:19.860
> 
> 标签：html

需要在页面加载期间显示图像。如果需要显示怎么可能`index.html`。任何帮助，我如何加载上方有十字按钮的图像？有任何预填充脚本吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-15T06:30:17.810

```
<script language="JavaScript">
function pop() {
var W1 = window.open('popup.html','Popup1',"toolbar=no,status=no,location=yes, directories=no,menubar=no,scrollbars=yes,resizable=yes,width=160,height=160");
}
</script>

<body onload="pop()"> 
```

上面的脚本如果我的问题的答案。谢谢

# c# - 在 asp.net mvc3 中获取列表框选择的值

> ID：12889771
> 
> 赞同：2
> 
> 时间：2012-10-15T05:29:33.907
> 
> 标签：c#, asp.net-mvc-3

在 asp.net Mvc3 razor 中，我使用 selectlist 在我的控制器视图包中将一些数据与 dbcontext 绑定

我的控制器..

```
public ActionResult Index()
        {
            ViewBag.students = new SelectList(db.StudentList, "StudentID", "StudentName");
            return View();
        } 
```

然后我使用 viewbag 将它绑定到 ListBox

我的观点..

```
@using (Html.BeginForm("Save", "Student"))
{    
    @Html.ValidationSummary(true)
    <div>
     @Html.ListBox("students")
    <p>
        <input type="submit" name="Save" id="Save" value="Save" />
    </p>
    </div>
} 
```

现在，在我的控制器中，在该保存操作中，我需要捕获列表框选择的值，我尝试了以下操作

```
[AcceptVerbs(HttpVerbs.Post)]
        public ActionResult Save(FormCollection formValue) 
        {
            //need code to capture values                
            return View("Index");
        } 
```

谁能帮忙

提前致谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-15T05:45:49.740

尝试以下

```
 @Html.ListBox("students",ViewBag.students ) 
```

从表单集合中获取“学生”的值。为此，请参阅以下页面

[从 FormCollection 中提取 ListBox 选定项](http://forums.asp.net/t/1706029.aspx/1)

对于 MVC 中列表框的一个很好的实现，请阅读这篇文章。

[ASP.NET MVC 选择列表示例](http://www.aspnetmvcninja.com/views/asp-net-mvc-select-list-example)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-15T05:44:28.977

试试看：

```
public class StudentController : Controller
{
    //
    // GET: /Student/

    public ActionResult Index()
    {
        var studentList = new List<Student>
                              {
                                  new Student {StudentID = 1, StudentName = "StudentName1"},
                                  new Student {StudentID = 2, StudentName = "StudentName2"},
                                  new Student {StudentID = 3, StudentName = "StudentName3"},
                                  new Student {StudentID = 4, StudentName = "StudentName4"}
                              };

        ViewBag.students = new SelectList(studentList, "StudentID", "StudentName");
        return View();
    } 

    [HttpPost]
    public ActionResult Save(String[] students)
    {
        return View();
    }

}

public class Student
{
    public int StudentID { get; set; }
    public string StudentName { get; set; }
} 
```

# mysql - 使用基于该行的值更新表中的所有行？

> ID：12889777
> 
> 赞同：3
> 
> 时间：2012-10-15T05:30:14.530
> 
> 标签：mysql, sql-update

我想快速更新一个表以摆脱任何被拉到测试服务器的真实数据。

```
UPDATE users SET email = CONCAT ("fake", users.id, "@mycompany.org") 
```

有这样的可能还是我需要写一个脚本？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-15T05:32:00.067

是的，您使用的查询将起作用。也就是说，对于像这样的一行：

```
id = 21
name = 'sth'
email = NULL 
```

它将更新并将电子邮件设置为：

```
'fake21@mycompany.org' 
```

同样对于整个表中的所有行。

# active-directory - 如何从 ADFS 对所有注册的依赖方调用相同的声明规则？

> ID：12889780
> 
> 赞同：1
> 
> 时间：2012-10-15T05:31:10.687
> 
> 标签：active-directory, identity, wif, adfs, claims

我的公司正在进入 ADFS 和 WIF 以建立具有 SSO 功能的内部门户。我们目前有自定义规则，可根据用户的活动目录组从 SQL 属性存储构建附加声明。

在几年内，可能会有超过 30-40 个应用程序连接到门户中。出于可维护性的目的，我们希望在一个地方更改这些适用于所有这些应用程序的基本规则。我们希望避免必须在 ADFS 中的每个信赖方条目上设置自定义规则。

此外，SharePoint 不是门户的选项。

任何人都可以就实现这一目标的最佳方式提供建议吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-15T18:16:06.207

您可以[在 Windows PowerShell 中使用 AD FS 2.0 Cmdlet](http://technet.microsoft.com/en-us/library/ee892329.aspx)。

这里有一个示例：[AD FS 2.0：如何批量添加信任关系和声明规则以进行测试](http://social.technet.microsoft.com/wiki/contents/articles/4566.ad-fs-2-0-how-to-bulk-add-trust-relationships-and-claim-rules-for-testing-en-us.aspx)

# memory-management - C程序汇编代码中的.comm对齐是什么意思

> ID：12889784
> 
> 赞同：2
> 
> 时间：2012-10-15T05:31:26.557
> 
> 标签：memory-management, assembly, gnu

我有这个 C 程序。

```
#include<stdio.h>

char arr[65];
int main()
{
    return 0;
} 
```

当我使用以下命令编译它`gcc`时：`linux`

`gcc -Wall -save-temps arrNewGlobal.c -o arnewGlobal`

我得到以下汇编代码。

```
.file   "arrglobal.c"
.comm   arr,65,32 
.text
.globl  main
.type   main, @function
    .......... 
```

根据`as`文档，.comm 分配了大小为 65 的未初始化内存块，对齐为 32 位（这意味着地址将有 5 个最低有效位等于 0）

我不明白的是，这个地址是否意味着这个内存块的起始地址，或者这个内存的每个字节应该有 5 个最低有效位等于 0 的地址（就像每个字节地址都会跳转）

也只是为了确保这个地址不是物理地址，而是一个虚拟地址？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-12-30T21:42:13.227

> .comm 名称、大小、对齐方式

' **.comm** ' 指令在数据部分分配存储空间。存储由标识符**name**引用。 **大小**以字节为单位，必须为正整数。无法预定义名称。 **对齐**是可选的。如果指定了对齐方式，则名称的地址将对齐到对齐的倍数。

是的，地址是虚拟地址。您的分页机制负责将其映射到物理地址，就像在任何其他情况下一样。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-15T11:53:37.527

该代码意味着 65 个字节与 32 个字节/位（4 个字节）对齐（老实说，我不知道），但这绝对不意味着每个字节都应该位于清除 5 个 ls 位的地址。试想一下——这个数组虽然不是一个数组——它在内存中不会是连续的。你说“物理”和“虚拟”地址是什么意思？

# c# - asp.net 通过索引将元素插入到数组列表中

> ID：12889785
> 
> 赞同：1
> 
> 时间：2012-10-15T05:31:48.467
> 
> 标签：c#, asp.net

我是asp.net的新手，我正在编写一些代码来了解arraylist

```
al.Add((string)"asfsaf");
al[1] = "bcd";
al.TrimToSize();

Response.Write(al[1]); 
```

从上面的代码中，行 al[1] = "bcd"; 错了，arraylist 是否支持按索引插入元素？如果没有，可以替换任何其他数据结构吗？

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-15T05:39:22.510

您可以尝试 .Insert() 如下：

```
al.Insert(1, "bcd"); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-15T05:33:27.147

编辑：您不能直接基于列表中的索引插入，您只能设置（修改）/获取索引的值。**如果存在**

* * *

您也可以将索引与 ArrayList 一起使用，但使用 Generic [List](http://msdn.microsoft.com/en-us/library/6sh2ey19.aspx)而不是 ArrayList。它的类型安全。并且还支持基于索引的插入。

你可以使用`ArrayList`索引

```
List<string> list = new List<string>();
list.Add("first element");
list.Add("2nd element");

Console.Write(list[0]);
Console.Write(list[1]);

list[0] = "AAA - element"; //In actual its a modification, 
                           //if there is no element, there will b exception
list[1] = "BBB - element"; 
```

请记住，您不能直接根据索引设置列表的元素。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-15T05:42:32.687

al[1] 需要先创建，然后才能通过索引器使用它。

`al[1] = "bcd";`将导致`ArgumentOutOfRangeException`.

记住数组索引从零开始。

如果你想覆盖它，它应该是这样的。

```
al[0] = "bcd"; 
```

# json - 使用 Jackson 为 Restlet 序列化 List

> ID：12889790
> 
> 赞同：0
> 
> 时间：2012-10-15T05:32:19.460
> 
> 标签：json, serialization, jackson, restlet

我正在连接图书馆。我明白了`List<List> foodItemsList`

如何`foodItemsList`使用 Jackson 进行序列化？这是在处理 GET 时发生的。

我已经了解如何使用 Jackson/Restlet 序列化对象，但我无法找出列表。

对于单个对象，这是我所做的

```
@Get("json")
public Representation represent(Variant variant) throws ResourceException {
    :
    ObjectMapper mapper = new ObjectMapper(); 
    String myFinString = mapper.writeValueAsString(profileSupportedInfo);
    :
    return myFinstring
} 
```

profileSupportedInfo 中成员数据的 getter setter 是我提供的。

在创建映射器对象之前，这是我所做的调用

```
List<List> totalfoodItem = someMemberFunc();
ObjectMapper mapper = new ObjectMapper
// my question - how do I serialize totalFoodItem 
```

JSON 中的首选表示`totalFoodItem`形式如下所示

```
{
 "food":[
       {"name":"apple","img_loc":"123_apple.jpg","energ":210,"food_unit":"1"},
       {"name":"rice","img_loc":"134_rice.jpg","energ":123,"food_unit":"100 gm"},
       :
   ]
} 
```

我错过了什么/无法理解？谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-09-11T15:33:35.553

恐怕为了成功序列化一个 List 你必须把它变成一个数组。JVM 不会用适当的类型信息序列化列表（反序列化时只会得到一个通用对象的列表），这不是杰克逊的错。但是，如果您序列化一个数组，则必须对数组进行类型化，并且数组内的对象也将保留它们的类型。

从您想要的 JSON 中，您似乎只需要一个可以收集食物信息的辅助类，如下所示：

```
public class Food {
    private String name;
    private String img_loc;
    private String energ;
    private String food_unit;
    public FoodItem(String name, String value, String energ, String food_unit) {
        this.name = name;
        this.value = values;
        this.energ = energ;
        this.food_unit = food_unit;
    }
} 
```

现在你所需要的只是一个具有 Food 对象数组作为属性的对象：

```
public class TotalFoodItem {
    private Food[] food;
    ...
} 
```

你可以序列化那个对象。Jackson 可能不会生成看起来与您想要的 JSON 完全相同的 JSON（我自己没有尝试过此代码），但它应该非常接近。

# java - 如何将 JTable 中的数据放在新行但在同一行中，为什么在需要时看不到水平滚动条？

> ID：12889796
> 
> 赞同：1
> 
> 时间：2012-10-15T05:32:34.037
> 
> 标签：java, swing, jtable

我必须将大量文本放入`JTable`. 当我尝试将文本放入时`JTable`，所有内容都排成一行，而不会中断如下行：

![在此处输入图像描述](../Images/8017003667b55a7316305db18f6a058f.png)

并且也没有水平滚动条。有什么办法可以将文本放在新行但在同一行上，以便所有数据都可见。如果您注意到快照末尾有点，尽管仍有一些文本需要，但我看不到它们之外显示。

我试过增加行的高度，但这没有帮助。

*注意：*我在构造函数中做了这个：

```
jScrollPane1.setHorizontalScrollBarPolicy(JScrollPane.HORIZONTAL_SCROLLBAR_AS_NEEDED);
jScrollPane1.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_AS_NEEDED); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-15T05:43:11.000

您将不得不提供自己的表格单元格渲染器。

查看

*   [如何使用表格](http://docs.oracle.com/javase/tutorial/uiswing/components/table.html)
*   [表格单元渲染器](http://docs.oracle.com/javase/7/docs/api/javax/swing/table/TableCellRenderer.html)

您将遇到的问题是更新各个行的行高。该`JTable#rowHeight(row, height)`方法不依赖于任何模型或渲染器。

您可以查看[JTable 多行单元格渲染器](http://blog.botunge.dk/post/2009/10/09/JTable-multiline-cell-renderer.aspx)以获得灵感，但我并不热衷于单元格渲染做出可能导致表格重新渲染的决策的想法。

你可以重写的`prepareRenderer`方法`JTable`来做到这一点，但这变得很脏

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-15T05:55:26.440

您可以在诸如`JLabel`（默认渲染器）之类的 HTML 组件中使用 HTML 格式，或者使用诸如`JTextArea`渲染内容的多行组件。

另请参阅[如何使用表格 - 概念：编辑器和渲染器](http://docs.oracle.com/javase/tutorial/uiswing/components/table.html#editrender)。

# c++ - ldap_modify 函数通过访问冲突？

> ID：12889797
> 
> 赞同：2
> 
> 时间：2012-10-15T05:32:37.690
> 
> 标签：c++, c, windows

我正在尝试使用 ldap_modify 函数修改 AD 属性值...

代码如下...

```
 LDAPMod *list_of_attrs[1]={0};
    char *Password[] = {"Password2"};
    LDAPMessage *result=NULL;
    int msgid;
    int rc=0;   
    LDAPMod attribute2;     

    attribute2.mod_type = (PCHAR)"Password number";
    attribute2.mod_op = LDAP_MOD_REPLACE;
    attribute2.mod_vals.modv_strvals=Password;
    list_of_attrs[0] = &attribute2;

    wchar_t dnName[100]={0};
    char *dn = "CN=test,CN=Users,DC=raja,DC=com";
    mbstowcs(dnName,dn, 100);
    PWCHAR dnNameval = (PWCHAR)malloc(sizeof(PWCHAR) * 20);
    wcscpy(dnNameval,dnName);

    msgid=ldap_modify(pLdapConnection,(const PCHAR)dnNameval, list_of_attrs); 
```

但是，当谈到最后一行（msgid）访问冲突异常时发生..

* ***AD2.exe 中 0x76f693ac 处的未处理异常：0xC0000005：访问冲突读取位置 0xcccccccc。****

请帮我解决这个问题...在此先感谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-15T08:23:28.103

我可能从**位置 0xcccccccc**猜测崩溃是由于未初始化的指针而发生的。阅读代码时，`pLdapConnection`似乎是那个指针。

**更新**

阅读 OP 评论后，现在我可以看到问题出在第三个参数中，即引用 MSDN，**对条目进行的以空结尾的修改数组**。因此，正确的用法应该是例如

```
LDAPMod attribute2;     
// Initialize attribute2
............
LDAPMod *list_of_attrs[2]={&attribute2, 0}; 
```

也就是说，数组的大小应该比您要定义的条目数大一并且最后一个数组项应该为 NULL。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-22T09:02:16.320

只需将 mod_values 用于 mod_vals...

mod_values 在 winldap.h 中定义...

```
char *Password[] = {"Password2",NUll};

    attribute2.mod_type = (PCHAR)"Password number";
    attribute2.mod_op = LDAP_MOD_REPLACE;
    attribute2.mod_values=Password;

    ldap_modify(pLdapConnection,dnNameval, list_of_attrs); 
```

现在，ldap_modify 函数可以正常工作并修改 Active Directory 中的属性值...

谢谢你的支持

三重

# classpath - 在 Windows 64 位上调试的 ANTLR Java 32 位问题

> ID：12889801
> 
> 赞同：2
> 
> 时间：2012-10-15T05:32:49.283
> 
> 标签：classpath, antlr, java

我正在尝试使调试在 中正常`AST trees`工作`ANTLR`，并且在尝试调试时不断收到相同的错误：

初始化虚拟机时出错

```
Unable to load native library: Can't load IA 32-bit .dll on a AMD 64-bit platform

Error: loading: C:\Program Files (x86)\Java\jre7\bin\msvcr100.dll 
```

我有`32-bit and 64-bit Java installed`（重新安装 32 以确保），所以我不确定它找不到什么。但是，在检查我的`CLASSPATH`环境变量后，它最初被设置为`jre6`ProgFiles(x86) 中的一个文件夹，最后是`QTJava.zip`. 现在搜索，我不仅没有`jre6`文件夹（只有 jre7 和 jdk 文件夹），而且这些文件夹中都没有`QTJava.zip`。

这是否`CLASSPATH`应该归咎于`ANTLR's`问题？我是使用 Java 的新手，所以这对我来说非常陌生。任何帮助，将不胜感激。

另外，如果有[帮助，这是我安装的Java](http://goo.gl/lwbps)

# c# - 在 C# 中将全选添加到 DataGridView 列标题

> ID：12889804
> 
> 赞同：1
> 
> 时间：2012-10-15T05:33:00.893
> 
> 标签：c#, winforms, datagridview

我在 Windows 窗体中创建了一个 DataGridView。每行都有一个复选框。我想要 Select ll 选项，这样当用户单击列标题时，它会选择或取消选择（切换）DataGridview 中的所有复选框。

知道我该怎么做吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-15T08:31:44.530

```
private bool toggle = false;

myGrid.ColumnHeaderMouseClick += new DataGridViewCellMouseEventHandler(myClass_ColumnHeaderMouseClick);

private void myClass_ColumnHeaderMouseClick(object sender, DataGridViewCellMouseEventArgs e)
{
  foreach(DataGridViewCell cell in (DataGridView)sender.cells)
  {
    if(toggle)
      cell.Value = 1;
    else
      cell.Value = 0;
  }

  if(toggle)
    toggle = false;
  else
    toggle = true;
} 
```

这应该可以解决问题

# windows - MDI 表单问题 VB:NET

> ID：12889808
> 
> 赞同：0
> 
> 时间：2012-10-15T05:33:21.830
> 
> 标签：windows, vb.net, mdi

Hy 今天我的面板控件和 MDI 子窗体有一些问题，我的问题是我无法将面板控件设置为子窗体的背面。我头晕目眩，试图解决这个问题。

![MDI 客户端 Z 顺序问题](../Images/b4f3f234e1dce1297c0bbcccadc88013.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-15T05:37:38.013

看起来您已将面板添加到 ParentForm，这样做将保持在最前面。您需要将其分配给 ChildForm。您的其他选择之一是创建一个可停靠面板并将其停靠在您父母的一侧。

看看这些文章

1.  [http://bytes.com/topic/visual-basic-net/answers/382474-how-do-you-bring-mdi-child-windows-front-if-mdi-parent-has-controls](http://bytes.com/topic/visual-basic-net/answers/382474-how-do-you-bring-mdi-child-windows-front-if-mdi-parent-has-controls)
2.  [http://social.msdn.microsoft.com/Forums/en-AU/winforms/thread/a9682277-d612-41e8-b5c0-44434b0bcb22](http://social.msdn.microsoft.com/Forums/en-AU/winforms/thread/a9682277-d612-41e8-b5c0-44434b0bcb22)

* * *

根据您的评论，您可以将 Timer 设置为 100ms

```
Private Sub Timer1_Tick(sender As System.Object, e As System.EventArgs) Handles Timer1.Tick
    Panel1.Visible = CheckForMDIChildren()
End Sub

Private Function CheckForMDIChildren() As Boolean
    If Me.MdiChildren.Count > 0 Then
        For Each frm As Form In Me.MdiChildren
            If frm.Visible Then Return False
        Next
    End If
    Return True
End Function 
```

# xml - XML Schema - 限制标签出现

> ID：12889810
> 
> 赞同：0
> 
> 时间：2012-10-15T05:33:28.830
> 
> 标签：xml, xsd

```
<Performance>
  <grouping usingTarget="M/R" />
  <state code="test"/>
  <state code="test2"/>
</Performance> 
```

如何为以下内容编写 XML 模式，以便只能指定单个（必需）`grouping`标签，但是可以指定无限（或零）`state`标签？

目前我有这个允许额外的分组标签。

```
 <xsi:complexType name="PerformanceType">
    <xsi:choice minOccurs="1" maxOccurs="unbounded">
      <xsi:element ref="grouping" minOccurs="1" maxOccurs="1"  />
      <xsi:element ref="client"  />
    </xsi:choice>
  </xsi:complexType> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-15T07:41:23.140

```
<xs:complexType name="PerformanceType">
    <xs:sequence>
      <xs:element ref="grouping" minOccurs="1" maxOccurs="1"  />
      <xs:element ref="state" minOccurs="0" maxOccurs="unbounded" />
    </xs:sequence>
</xs:complexType> 
```

# javascript - 如何使用 SlickGrid 添加/删除行

> ID：12889813
> 
> 赞同：4
> 
> 时间：2012-10-15T05:33:39.630
> 
> 标签：javascript, jquery, slickgrid

如何编写这样的函数并将它们绑定到“添加行”和“删除行”等两个按钮：

现在工作的示例代码仅支持通过在空白底行进行编辑来添加新行。

```
<!DOCTYPE HTML>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <title>SlickGrid example 3: Editing</title>
  <link rel="stylesheet" href="../slick.grid.css" type="text/css"/>
  <link rel="stylesheet" href="../css/smoothness/jquery-ui-1.8.16.custom.css" type="text/css"/>
  <link rel="stylesheet" href="examples.css" type="text/css"/>
  <style>
    .cell-title {
      font-weight: bold;
    }

    .cell-effort-driven {
      text-align: center;
    }
  </style>
</head>
<body>
<div style="position:relative">
  <div style="width:600px;">
    <div id="myGrid" style="width:100%;height:500px;"></div>
  </div>

  <div class="options-panel">
    <h2>Demonstrates:</h2>
    <ul>
      <li>adding basic keyboard navigation and editing</li>
      <li>custom editors and validators</li>
      <li>auto-edit settings</li>
    </ul>

    <h2>Options:</h2>
    <button onclick="grid.setOptions({autoEdit:true})">Auto-edit ON</button>
    &nbsp;
    <button onclick="grid.setOptions({autoEdit:false})">Auto-edit OFF</button>
  </div>
</div>

<script src="../lib/firebugx.js"></script>

<script src="../lib/jquery-1.7.min.js"></script>
<script src="../lib/jquery-ui-1.8.16.custom.min.js"></script>
<script src="../lib/jquery.event.drag-2.0.min.js"></script>

<script src="../slick.core.js"></script>
<script src="../plugins/slick.cellrangedecorator.js"></script>
<script src="../plugins/slick.cellrangeselector.js"></script>
<script src="../plugins/slick.cellselectionmodel.js"></script>
<script src="../slick.formatters.js"></script>
<script src="../slick.editors.js"></script>
<script src="../slick.grid.js"></script>

<script>
  function requiredFieldValidator(value) {
    if (value == null || value == undefined || !value.length) {
      return {valid: false, msg: "This is a required field"};
    } else {
      return {valid: true, msg: null};
    }
  }

  var grid;
  var data = [];
  var columns = [
    {id: "title", name: "Title", field: "title", width: 120, cssClass: "cell-title", editor: Slick.Editors.Text, validator: requiredFieldValidator},
    {id: "desc", name: "Description", field: "description", width: 100, editor: Slick.Editors.LongText},
    {id: "duration", name: "Duration", field: "duration", editor: Slick.Editors.Text},
    {id: "%", name: "% Complete", field: "percentComplete", width: 80, resizable: false, formatter: Slick.Formatters.PercentCompleteBar, editor: Slick.Editors.PercentComplete},
    {id: "start", name: "Start", field: "start", minWidth: 60, editor: Slick.Editors.Date},
    {id: "finish", name: "Finish", field: "finish", minWidth: 60, editor: Slick.Editors.Date},
    {id: "effort-driven", name: "Effort Driven", width: 80, minWidth: 20, maxWidth: 80, cssClass: "cell-effort-driven", field: "effortDriven", formatter: Slick.Formatters.Checkmark, editor: Slick.Editors.Checkbox}
  ];
  var options = {
    editable: true,
    enableAddRow: true,
    enableCellNavigation: true,
    asyncEditorLoading: false,
    autoEdit: false
  };

  $(function () {
    for (var i = 0; i < 500; i++) {
      var d = (data[i] = {});

      d["title"] = "Task " + i;
      d["description"] = "This is a sample task description.\n  It can be multiline";
      d["duration"] = "5 days";
      d["percentComplete"] = Math.round(Math.random() * 100);
      d["start"] = "01/01/2009";
      d["finish"] = "01/05/2009";
      d["effortDriven"] = (i % 5 == 0);
    }

    grid = new Slick.Grid("#myGrid", data, columns, options);

    grid.setSelectionModel(new Slick.CellSelectionModel());

    grid.onAddNewRow.subscribe(function (e, args) {
      var item = args.item;
      grid.invalidateRow(data.length);
      data.push(item);
      grid.updateRowCount();
      grid.render();
    });
  })
</script>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-14T06:54:40.857

使用**grid.invalidateAllRows()**而不是*grid.invalidateRow()*循环。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-15T06:32:38.230

最终我自己弄明白了。如果您对如何执行此操作有任何更好的想法，请告诉我。

```
$("#add_row").click(function() {
  var dd = grid.getData();
  dd.splice(dd.length,0,{"title":""});
  grid.invalidateRow(data.length);
  grid.updateRowCount();
  grid.render();
  grid.scrollRowIntoView(dd.length-1)
})

$("#remove_row").click(function() {
  var dd = grid.getData();
  var current_row = grid.getActiveCell().row;
  dd.splice(current_row,1);
  var r = current_row;
  while (r<dd.length){
    grid.invalidateRow(r);
    r++;
  }
  grid.updateRowCount();
  grid.render();
  grid.scrollRowIntoView(current_row-1)
}) 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-12-06T12:34:40.050

好吧，这与您所做的相同，但略有不同，因为我不会重新渲染。

看看以下内容：

```
 var data= grid.getData();
            var rows= grid.getSelectedRows();

            for (var i = 0; i < rows.length; i += 1) {
                data.splice(rows[i], 1);
            }
            grid.setData(data, true); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2014-02-13T04:26:45.250

您可以使用 DataView 的 insertItem 和 deleteItem 以更简单的方式完成此操作。

```
function add_new_row(){
 item = {
      "id": (Math.round(Math.random()*-10000))
    };
 data_view.insertItem(0, item);
}

function delete_row(e, args){
 var selectedrows = grid.getSelectedRows();  
 var len = selectedrows.length;
 var sure= confirm("Are You Sure You Want to Delete?");   
 if(sure){
  for(var i=0;i<len;i++){                        
   var data = grid.getData().getItem(selectedrows[i]);                         
   data_view.deleteItem(data.id)                                                 
  }
 }
} 
```

然后，用按钮绑定。

```
<button onclick="add_new_row()">ADD</button>
<button onclick="delete_row()">DELETE</button> 
```

# jquery - zClip - 如何在单击按钮时添加、触发和删除 zClip？

> ID：12889815
> 
> 赞同：4
> 
> 时间：2012-10-15T05:34:18.180
> 
> 标签：jquery, html, css, zclip

`.zclip()`附加到按钮，然后触发它，然后删除的最佳方法是什么`.zclip()`？这听起来很简单，但我不能让它合作。我有一个包含许多按钮的页面，有些可以直接访问，有些按钮可以通过各种手风琴和选项卡访问。许多复制目标包含动态数据，其中一些是通过 ajax 插入的。许多部分也是可折叠的。`.zclip()`如果在该部分关闭时存在附加到按钮 的 Flash 覆盖，则它会导致动画出现故障。

我试图从几种不同的方式来解决这个问题：

附加`.zclip()`所有按钮元素，然后以设定的时间间隔刷新页面。虽然它确实捕获了动态数据，但它的性能很糟糕。

`.zclip()`基于`mouseenter`和`mouseleave`事件以及`mouseover`和进行附加和删除`mouseout`。以这种方式附加时，所有事件每秒都会触发多次，导致多个 Flash 覆盖绑定到一个按钮。

`.zclip()`基于`.hover()`和的附加和删除`.hoverIntent()`。虽然这比上述尝试表现得更好并捕获了动态数据，但事件的触发方式仍然很稳定。我尝试`.hover()`在父部分上做一个并附`.zclip()`加到该部分中的所有按钮。这行得通，但它的性能很糟糕。

我相信有一个简单的解决方案，但我就是想不通。`.zclip()`我可以通过绑定`.click()`，它会附加到一个按钮。我可以`.zclip()`通过它的`afterFunction`参数删除。我不知道如何将附加`click`事件传递给按钮并`.zclip()`在其附加后触发。它会起作用，但必须单击该按钮两次。一旦激活它，就会触发并移除它。我在想可能`click`需要将附加事件发送到 Flash 叠加层，而不是再次发送到按钮。也许有人可以指出我正确的方向？

[zClip主页](http://www.steamdev.com/zclip/)

[这段代码的jsFiddle：](http://jsfiddle.net/ShinMessiah/GqT3r/24/)

```
<div id='copy'>Test</div>
<button>Click Here To Copy The Div Above!</button>
<span id='success'>Success!</span> 
```

```
#copy{
    height: 100px;
    width: 200px;
    padding: 3px;
    margin-bottom: 5px;
    border: 1px solid black;
    border-radius: 6px;
}
#success{
    color: rgba(84,240,84,1);
} 
```

```
$(document).ready(function() {
    var copySuccessHide = function(){
        $( "#success" ).css({opacity: 0.0, visibility: "visible"});
    };
    copySuccessHide();/*hide the success indicator*/
    var copyData = $("#copy").text();/*get data from copy target*/
    var afterCopyFunction = function(){
        $("#copy").effect( "highlight" , {color : "rgba(230,255,230,1)" }, 1000 )
        $("#success").effect( "pulsate", "fast", copySuccessHide );
        $("button").zclip('remove');/*remove zclip*/
        };

    $("button").click(function () {/*bind zclip to the button on click*/
        $("button").zclip({
                path: "http://www.steamdev.com/zclip/js/ZeroClipboard.swf",
                copy: copyData,
                afterCopy: afterCopyFunction,
                clickAfter: false
            });
    });
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T17:20:10.483

我同意上面的所有评论，但你可以尝试一件事......

```
 $("button").click(function () {/*bind zclip to the button on click*/
        $(this).zclip({
                path: "http://www.steamdev.com/zclip/js/ZeroClipboard.swf",
                copy: copyData,
                afterCopy: afterCopyFunction,
                clickAfter: false
            });
    }); 
```

通过使用 $(this)....您只是将当前单击的按钮绑定到 zclip 构造函数。当您使用 $("button")....时，每次单击单个按钮时，您都会在页面上的每个按钮上调用 zclip 构造函数。

# c# - ORA-00911: 在数据源上使用插入命令时

> ID：12889816
> 
> 赞同：0
> 
> 时间：2012-10-15T05:34:25.620
> 
> 标签：c#, asp.net, datasource, ora-00911

试图在 asp.net 中设置插入语句。

我的双行 insertCommand 如下：

```
InsertCommand="INSERT INTO DVD(DVD_ID, DVD_TITLE, RENTAL_COST, RATING, COVER_IMAGE) VALUES (DVD_SEQ.NEXTVAL, :DVD_TITLE, :RENTAL_COST, :RATING, :COVER_IMAGE);
        INSERT INTO DVD_GENRE(DVD_ID, GENRE_ID) VALUES (DVD_SEQ.CURRVAL, :GENRE_ID)" 
```

插入参数的代码是：

```
<InsertParameters>
    <asp:ControlParameter ControlID="titleBox" DefaultValue="TITLEDEFAULT" 
        Name="DVD_TITLE" PropertyName="Text" Type="String" />
    <asp:ControlParameter ControlID="rentalBox" DefaultValue="99" 
        Name="RENTAL_COST" PropertyName="Text" Type="String" />
    <asp:ControlParameter ControlID="ratingList" DefaultValue="25" Name="RATING" 
        PropertyName="SelectedValue" Type="Int32" />
    <asp:Parameter Name="COVER_IMAGE" Type="String" DefaultValue="0.jpg" />
    <asp:ControlParameter ControlID="genreList" Name="GENRE_ID" 
        PropertyName="SelectedValue" />
</InsertParameters> 
```

我正在插入的 OracleDB 表 (DVD) 是：

```
create table dvd_genre
(
dvd_id integer not null,
genre_id integer not null,
primary key (dvd_id, genre_id),
foreign key(dvd_id) references DVD(dvd_id),
foreign key(genre_id) references GENRE(genre_id)
); 
```

我对造成这种情况的唯一猜测是';' 字符来分解两个插入语句。是的，我知道我可能应该创建一个触发器，但我读过它也可以工作。如果我删除';' 字符我收到有关查询未正确结束的错误。任何帮助将非常感激！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-15T05:47:51.667

1）“ORA-00911”表示“无效字符”

2）是的，“;” 是一个很好的候选人。问：你可以在一个 ASP 命令中执行两个 SQL 插入吗？我不知道 ;）

3）建议：分解成*一条*SQL语句，看问题是否消失。

4) 如果是这样，您的选择包括：

a) 在与您的 ASP 代码相同的位置发出两个 SQL 语句（这就是我要做的，但我不知道它是否是您程序中的一个选项）

b）使用触发器（绝对*不是*我会做的）

c) 创建一个 PL/SQL 存储过程并从您的 ASP 而不是原始 SQL 调用它（可以说是最好的选择）

恕我直言..

# android - 如何用手指在我的目标点上拖动图像

> ID：12889817
> 
> 赞同：-1
> 
> 时间：2012-10-15T05:34:26.070
> 
> 标签：android

> **可能重复：**
> [如何通过在android中触摸来拖动图像？](https://stackoverflow.com/questions/3669239/how-to-drag-an-image-by-touching-in-android)

如何用可能的目标点边界用拖动手指左右移动位图

插图

```
B--------o1-----------o2-----------o3 
```

B = 位图

o1 = 我的目的地点一

o2 = 我的目的地点二

o3 = 我的目的地点三

如果位图向右拖动，则位图在我的目标点一

```
---------B---------o2-----------o3 
```

如果我的目标点上的位图向右拖动然后位图更改为我的目标点二

```
----------o1--------B-------------o3 
```

如果我的目标点二上的位图向左拖动，则位图回到我的目标点一

```
----------B--------o2-------------o3 
```

等等..

如何将我的想法实现到 android 代码中？

请给我示例代码，因为我是 android 新手。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-15T06:27:20.073

你为什么不试试[这个教程](http://www.droidnova.com/2d-tutorial-series-part-iii,823.html)通过使用`onTouchEvent`将给你任何你想要的例子教程链接。示例代码 -

```
@Override
public boolean onTouchEvent(MotionEvent event) {
    mX = (int) event.getX() - mBitmap.getWidth() / 2;
    mY = (int) event.getY() - mBitmap.getHeight() / 2;
    return super.onTouchEvent(event);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-15T05:49:40.310

XML 布局：

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
   android:orientation="vertical"
   android:layout_width="fill_parent"
   android:layout_height="fill_parent"
   android:id="@+id/vg"
   >

    <ImageView
        android:id="@+id/img"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_marginLeft="10px"
        android:src="@drawable/image" />

</LinearLayout> 
```

拖动活动：

```
public class DragActivity extends Activity {

    private View selected_item = null;
    private int offset_x = 0;
    private int offset_y = 0;

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_drag);
    ViewGroup vg = (ViewGroup)findViewById(R.id.vg);
    vg.setOnTouchListener(new View.OnTouchListener() {

                    @Override
                    public boolean onTouch(View v, MotionEvent event) {
                            switch(event.getActionMasked())
                            {
                                    case MotionEvent.ACTION_MOVE:
                                            int x = (int)event.getX() - offset_x;
                                            int y = (int)event.getY() - offset_y;
                    int w = getWindowManager().getDefaultDisplay().getWidth()- 70;
                    int h = getWindowManager().getDefaultDisplay().getHeight()- 70;
                    if(x > w)
                        x = w;
                    if(y > h)
                        y = h;
                                     LinearLayout.LayoutParams lp = new LinearLayout.LayoutParams(
                                    new ViewGroup.MarginLayoutParams(
                                                    LinearLayout.LayoutParams.WRAP_CONTENT,
                                                    LinearLayout.LayoutParams.WRAP_CONTENT));
                                     lp.setMargins(x, y, 0, 0);
                                            selected_item.setLayoutParams(lp);
                                            break;
                                    default:
                                            break;
                            }
                            return true;
                    }
});
   ImageView img = (ImageView)findViewById(R.id.img);
    img.setOnTouchListener(new View.OnTouchListener() {

                    @Override
                    public boolean onTouch(View v, MotionEvent event) {
                            switch(event.getActionMasked())
                            {
                                    case MotionEvent.ACTION_DOWN:
                                            offset_x = (int)event.getX();
                                            offset_y = (int)event.getY();
                                            selected_item = v;
                                            break;
                                    default:
                                            break;
                            }

                            return false;
                    }
            });
}

} 
```

# java - 如何在 Java 中捕获正则表达式匹配之后的文本？

> ID：12889818
> 
> 赞同：1
> 
> 时间：2012-10-15T05:34:33.013
> 
> 标签：java, regex

我正在执行一项任务，我需要在其中搜索网站并提取转化率。

如果我能够简单地匹配汇率，这将很容易捕获和提取，但我需要能够点击更新按钮并让程序搜索更新的转化率，所以我不能简单地硬编码匹配搜索。

**有没有一种方法可以匹配费率之前的文本并捕获匹配之后的所有文本？**

如果有更好的方法可以做到这一点，我也愿意接受建议。**当我不知道确切的费率是多少时，**我只需要帮助来了解如何从网站上获取费率。我只知道费率的格式以及费率在网站内的位置。

这是我到目前为止所拥有的：

```
String regex = "(?<=EUR'>)\\d+(?:\\.\\d*)?(?=<)";

Pattern pattern = Pattern.compile(regex);
Matcher match = pattern.matcher(?);

while (match.find()) {   
  System.out.println("Found a match: " + match.group(1).toString());  
  System.out.println("Start position: " + match.start(1)); 
  System.out.println("End position: " + match.end(1)); 
} 
```

我想我了解如何设置模式，但是如果我只知道开头和结尾将是什么而不是结尾，我不确定我应该为匹配字符串添加什么......

我需要抓住的一个例子是下面的行

```
<td class='rtRates'><a href='/graph/?from=USD&amp;to=EUR'>0.772000</a></td> 
```

我需要抓住这条线的汇率，但它会不断变化

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-15T06:51:42.003

我不确定你的问题是什么，因为你的表达符合你的期望（我认为）。[在 Regexr 上查看](http://regexr.com?32f5s)。

如果您想在标签之间的部分看起来更灵活，您可以使用这个：

```
(?<=EUR'>)[^<]* 
```

是`[^<]`一个否定字符类。它将匹配任何字符，但`<`. 然后，您还可以删除前瞻断言。

[在 Regexr 上查看](http://regexr.com?32f5v)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-15T06:08:29.060

不要使用正则表达式来解析 html，否则迅猛龙会来吃掉你。使用诸如[jsoup](http://jsoup.org/)之类的东西并查询带有类的`<a>`元素的值。`<td>``rtRates`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-15T07:45:11.063

你不能只用这个吗？

```
EUR'>(\d+(?:\.\d+)?)< 
```

该速率在第 1 组中捕获，这很方便，因为您已经在使用`group(1)`它来提取它。;) 但说真的，您的正则表达式中没有捕获组，因此调用`group(1)`Matcher 会导致异常。是什么赋予了？

ps 请注意，我将您的更改`\d*`为`\d+`. 几乎每个试图匹配十进制数字的人都需要小数点后至少一位。如果这里不是这种情况，请继续将其更改回来。

# android - android列表视图中的微调器

> ID：12889820
> 
> 赞同：-2
> 
> 时间：2012-10-15T05:34:40.330
> 
> 标签：android, listview, spinner

嗨，我想创建一个完全一样的视图![图片](../Images/4af3b33b14fcef47c0beba482b074091.png)。

单击列表视图中的项目后，应打开带有单选按钮的微调器。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-15T05:48:10.437

如果要为在 ListView 中单击的每个列表项显示一个微调器。它可能与`AlertDialog`。

尝试使用[此方法创建带有单选按钮的警报对话框](http://android-codes-examples.blogspot.in/2011/03/how-to-display-alertdialog-and.html)

试试这个块

```
 list.setOnItemClickListener(new OnItemClickListener() {
        public void onItemClick(AdapterView<?> arg0,
        View arg1, int position, long arg3) 
        {
           AlertDialogView();
        }
     } 
```

而**AlertDialogView()**的代码将是这样的

```
private void AlertDialogView()
{
        final CharSequence[] items = {"15 secs", "30 secs", "1 min", "2 mins"};

        AlertDialog.Builder builder = new AlertDialog.Builder(ShowDialog.this);
        builder.setTitle("Alert Dialog with ListView and Radio button");
        builder.setIcon(R.drawable.icon);
        builder.setSingleChoiceItems(items, -1, new DialogInterface.OnClickListener() {
            public void onClick(DialogInterface dialog, int item) {
            Toast.makeText(getApplicationContext(), items[item], Toast.LENGTH_SHORT).show();
           }
      });

       builder.setPositiveButton("Yes",
 new DialogInterface.OnClickListener() {
          public void onClick(DialogInterface dialog, int id) {
           Toast.makeText(ShowDialog.this, "Success", Toast.LENGTH_SHORT).show();
       }
       });
       builder.setNegativeButton("No",
new DialogInterface.OnClickListener() {
        public void onClick(DialogInterface dialog, int id) {
         Toast.makeText(ShowDialog.this, "Fail", Toast.LENGTH_SHORT).show();
       }
      });
      AlertDialog alert = builder.create();
      alert.show();
      } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-15T05:51:09.260

在列表视图中，每当您调用任何项目时，只需获取单击项目的位置，例如列表视图的第 9 个元素是单击该时间调用某个方法，如果您的微调器适配器依赖于单击项目列表而不是第一个按列表视图的单击项目位置填充微调器适配器，而不是简单地打开微调器，在关闭微调器并再次打开与更改微调器适配器不同的列表视图项目后。这个简单的逻辑应该可以解决您的问题，我想感谢 Aamirkhan 我，

# eclipse - Maven 选项未在 Eclipse 中列出，即使安装了 Maven

> ID：12889822
> 
> 赞同：1
> 
> 时间：2012-10-15T05:34:56.323
> 
> 标签：eclipse, maven, ubuntu

我已经在我的 ubuntu 中安装了 maven，但是在 eclipse 中创建一个新项目时，没有列出 maven 选项。

“file -> new -> other”选择未在 Eclipse 中列出 'maven' 选项。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-15T06:02:18.500

我相信你只需要安装 M2E Eclipse 插件而不是 Maven。安装 Maven 只为您提供命令行工具。它与 Eclipse 集成无关

# python - 最小化 mongoengine 中的执行时间

> ID：12889823
> 
> 赞同：0
> 
> 时间：2012-10-15T05:35:03.600
> 
> 标签：python, mongoengine

我有一个名为`login`. 该文件包含以下内容：

*   用户名

*   密码

*   性别

我有另一个名为的文档`history`，其中包含以下内容：

*   用户名

*   时间

我的历史文件`username`被引用到 `login`文件。使用该`time`字段，我将通过以下查询从历史文档中获取详细信息。

```
usersByHistory=models.history.objects(time=searchObj.time) 
```

使用上述结果，我将使用以下代码获取用户信息：

```
list=[]    
for user in usersByHistory :
   name = user.user_name.user_name
   usersList = login_info.objects(user_name=name)
   list.append(usersList) 
```

通过执行上面的代码，执行时间非常高，我想在代码中避免这个for循环，并用mongoengine查询替换它，以尽量减少执行时间。有人请帮忙

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-15T06:11:02.117

您可以进行`in`查询并提供用户数组： http: [//docs.mongoengine.org/en/latest/guide/querying.html#query-operators](http://docs.mongoengine.org/en/latest/guide/querying.html#query-operators)

这是一个使用示例，`scalar`因为我们只需要一个用户名列表。

```
users_by_history = History.objects(time=searchObj.time).scalar('user_name')
LoginInfo.objects(user_name__in=users_by_history) 
```

*我已经更新了类名和变量名以符合 pep8

# javascript - 在javascript中的正则表达式中传递变量以进行字符串匹配

> ID：12889846
> 
> 赞同：2
> 
> 时间：2012-10-15T05:37:18.627
> 
> 标签：javascript, regex, string, match

假设我需要在 javascript 中使用字符串匹配来获得与 LIKE 运算符等效的结果。

```
WHERE "str1" LIKE '%str2%'; 
```

下面的匹配表达式有效。

```
var str1="abcd/pqrst"; 
var str2 =  "pqr";

if(str1.match(/^.*pqr.*/)){ //do something}; 
```

但我需要传递一个变量而不是 pqr，类似于下面的语句。请帮助。

```
//Wrong
var re = new RegExp("/^.*"+ str2 + ".*/"); 
if(str1.match(re){ //do something} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-15T05:48:36.073

这是一个快速的 jsFiddle 供您尝试

[http://jsfiddle.net/jaschahal/kStTc/](http://jsfiddle.net/jaschahal/kStTc/)

```
var re = new RegExp("^.*"+str2+".*","gi"); 
// second param take flags 
```

更多细节在这里

[http://www.w3schools.com/jsref/jsref_obj_regexp.asp](http://www.w3schools.com/jsref/jsref_obj_regexp.asp)

您还可以使用 contains()/indexOf() 函数进行这些简单检查

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-15T05:44:42.783

首先，它可能适合使用`RegExp.test`. 其次，创建一个`RegExp`不应使用`RegExp`文字字符（'/'）的对象。

所以你的代码变成：

```
var str1 = 'abcd/pqrst'
   ,str2 = 'pqr'
   ,re = RegExp('^'+str2+'.*');

if (re.test(str1)) { /* do things */} 
```

第三，( `RegExp`)`/^pqr.*/`将测试`false`. `str1`相当于`WHERE "str1" LIKE '%str2%';`简单`RegExp(str2,'i').test(str1)`（注意`i`修饰符（不区分大小写的测试）），甚至只是`~str.indexOf(str2)`（参见[@Jeff Bowmans](https://stackoverflow.com/users/1426891/jeff-bowman)的回答）。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-15T05:43:51.377

如果您需要做的只是确认一个字符串出现在不同字符串的中间，请使用`str1.indexOf(str2) >= 0`. 在其他语言中，这相当于`str1.contains(str2)`，尽管 Javascript 字符串缺少*contains*方法。

如果您确实想将 str2 放在正则表达式的中间，请务必将其[转义](https://stackoverflow.com/questions/2593637/how-to-escape-regular-expression-in-javascript)。

# c# - 二进制作家在写作中插入额外的字符

> ID：12889850
> 
> 赞同：1
> 
> 时间：2012-10-15T05:37:48.747
> 
> 标签：c#, .net, xml

您好我正在尝试将 xml 保存到文件中，并且它不断在文件开头添加不同的字符。

我的代码是

```
string strCXML2;

strCXML2 = "<input type=" + "\"" + "hidden" + "\"" + " name=" + "\"" + "cxml-urlencoded" + "\"" + " value=" + "\"";
strCXML2 = strCXML2 + "<!DOCTYPE cXML SYSTEM " + "\"" + "http://xml.cxml.org/schemas/cXML/1.2.023/cXML.dtd" + "\"" + ">";

//<snip>

BinaryWriter bw5 = new BinaryWriter(File.Open(Server.MapPath("~/data/test/test19.xml"), FileMode.OpenOrCreate))   
bw5.Write(strCXML2); 
bw5.Close(); 
```

每次它是其他一些垃圾字符时，都会在开始时返回以下 xml“}”中的文件

```
}<input type="hidden" name="cxml-urlencoded" value="<!DOCTYPE cXML SYSTEM "http://xml.cxml.org/schemas/cXML/1.2.023/cXML.dtd"> 
```

有什么想法为什么要这样做？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-15T05:55:23.347

它正在写入的字符是字符串的编码长度，因为：它不期望写入文本文件。`BinaryWriter`写...*二进制*。它以编码的二进制方式写入字符串，它可以用[`BinaryReader.ReadString`](http://msdn.microsoft.com/en-us/library/system.io.binaryreader.readstring.aspx).

相反，只使用：

```
File.WriteAllText(path, strCXML2); 
```

该`BinaryWriter.Write(string)`方法的文档解释了所有这些：

> 以长度为前缀的字符串通过在字符串前面加上一个包含该字符串长度的单个字节或单词来表示字符串长度。此方法首先将字符串的长度写入为 UTF-7 编码的无符号整数，然后使用 BinaryWriter 实例的当前编码将那么多字符写入流。

[并且，有用的是，链接到有关编写](http://msdn.microsoft.com/en-us/library/6ka1wd3w.aspx)[*文本*](http://msdn.microsoft.com/en-us/library/6ka1wd3w.aspx)[文件](http://msdn.microsoft.com/en-us/library/6ka1wd3w.aspx)的单独部分[](http://msdn.microsoft.com/en-us/library/6ka1wd3w.aspx)

 ** * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-05-18T00:14:18.017

如果您想使用`BinaryWriter`，您首先将其编码为 ASCII 或 Unicode UTF-16。您的 XML 应该指定它使用的编码，使用二进制写入器的特定编码。

```
byte[] textbyte = Encoding.Unicode.GetBytes(text);` 
```

那应该删除前两个垃圾字符。我推荐这个`WriteAllText()`方法。

如果`Binarywriter`您需要在`textfile(offset)`.*

# java - 为什么我的 ArrayList 没有填充到 struts (1.3)

> ID：12889853
> 
> 赞同：4
> 
> 时间：2012-10-15T05:38:16.097
> 
> 标签：java, arraylist, struts

我的 ActionForm 有以下字段。

```
//form
private ArrayList<String> chargeIds = new ArrayList<String>();  
public ArrayList<String> getChargeIds() {  
    return chargeIds;  
}  
public void setChargeIds(ArrayList<String> chargeIds) {  
    this.chargeIds = chargeIds;  
}//form 
```

在我的jsp中，我写了如下： -

```
//jsp
.... 

    <html:form action="/PurchaseOrderAction" styleId="defaultForm">
    <table> 
    <logic:iterate id="element" name="<%= Constants.SHOPPING_ORDER_CART_ITEMS %>" type="mypackage.ItemBean" >
    <tr><td>
     <logic:Equal name="element" property="promotedItem" value="true">
           <html:select property="chargeIds" styleClass="transperentList" indexed="true">
               <html:options collection="<%=Constants.ALL_CHARGES %>" property="key" labelProperty="name" />
        </html:select>
      </logic:Equal>
    <logic:notEqual name="element" property="promotedItem" value="true">
      <bean:write name="element" property="chargeName"/>
    </logic:notEqual>
    </tr></td>

.....
//jsp 
```

我正在正确填充jsp...但是当我提交表单时..我在formbean的arraylist中没有得到任何值。

知道怎么做吗？我正在使用 struts 1.3（不幸的是无法更新，因为该项目很久以前就开始了，我是团队的新成员）。

## 谢谢。

萨尔吉特

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-15T12:57:49.447

尝试在您的表单对象中更改`ArrayList`为。`String[]`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-17T07:08:15.640

我不知道这是否会解决您的问题，但是根据您的回答，如果您只想选择其中一个选项，则 html:select 的属性应该是 String 对象而不是 Arraylist。所以你的 HTML 应该是这样的：

```
<html:select property="selectedChargeId" styleClass="transperentList" indexed="true">
    <html:options collection="chargeIds" property="key" labelProperty="name" />
</html:select> 
```

然后你的表单应该有这些变量（以及它们各自的 getter 和 setter）：

```
private ArrayList<String> chargeIds;
private String selectedChargeId; 
```

它总是对我有用，我希望它能解决你的问题。

# linux - Linux 上的 Libquicktime 支持

> ID：12889854
> 
> 赞同：0
> 
> 时间：2012-10-15T05:38:18.600
> 
> 标签：linux, video, quicktime

我正在尝试使用 libquicktime 在 Linux 上对 .mov 文件进行编码和解码（播放和录制）。这是 libquicktime 的来源：http: [//libquicktime.sourceforge.net/](http://libquicktime.sourceforge.net/)

这些是 API： http: [//libquicktime.sourceforge.net/doc/apiref/lqt_8h.html](http://libquicktime.sourceforge.net/doc/apiref/lqt_8h.html)

我正在尝试使用这些在 Linux 上播放视频文件。但是，尚未找到任何关于如何使用 API 的参考代码。

有人有这方面的知识可以分享吗？

谢谢你的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-15T05:59:53.253

如果您只想播放 Quicktime 视频文件，那么 ffmpeg/libav 可能会更好地满足您的目的。它支持 Quicktime 容器格式以及许多其他格式。

# ruby-on-rails - 如何在我的方法中保持当前模型的范围

> ID：12889857
> 
> 赞同：4
> 
> 时间：2012-10-15T05:38:41.810
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3, scope, prawn

我有一个 Rails 模型，在其中一种方法中，我使用 prawn 生成 pdf，如下所示；

```
class Report < ActiveRecord::Base

  def pdf_output
    Prawn::Document.new do
      text "Start date: #{start_date.strftime('%e %b %Y').squish}"
    end
  end

end 
```

在那个文本方法中，我试图输出我的报告模型的 start_date 属性。相反，我收到以下错误

```
NoMethodError in ReportsController#show

undefined method `start_date' for #<Prawn::Document:0x007fdafbce6930> 
```

所以我的 start_date 方法是指我的 Document 对象而不是我的 Report 对象。如何从这个块中访问我的报表对象的变量和方法？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-15T05:52:09.890

通常的 JavaScript 技巧应该可以工作：

```
def pdf_output
  report = self
  Prawn::Document.new do
    text "Start date: #{report.start_date.strftime('%e %b %Y').squish}"
  end
end 
```

只需获取`self`您需要的参考，这样您就不必担心 Prawn`self`在您的块内做什么。

# rotation - 带集合的 Raphaeljs 转换

> ID：12889859
> 
> 赞同：1
> 
> 时间：2012-10-15T05:38:58.653
> 
> 标签：rotation, set, raphael, transform

我有这 4 个矩形，每个矩形都应用了一些旋转变换。我将所有这些矩形放在一个集合中，然后对其进行转换。这样做会丢失各个矩形的旋转变换。我不希望这种情况发生。我该如何解决这个问题？

JS小提琴[代码](http://jsfiddle.net/Vqn93/)

```
window.onload = function(){
    var paper = Raphael(0,0,500,500);

    var rect01 = paper.set();
    paper.setStart();      

    var a = paper.rect(10,10,50,10).transform("r10");
    var b = paper.rect(10,30,50,10).transform("r-10");
    var c = paper.rect(10,50,50,10).transform("r10");
    var d = paper.rect(10,70,50,10).transform("r-10");

    var rect01 = paper.setFinish();    
    rect01.transform("t100,100");//comment out this line to view the individual transformations

} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-15T08:21:40.737

每当你对一个元素进行新的变换时，它会重置任何以前的变换，我相信有很多方法可以实现你想要的，一种方法是在旋转的同时进行移动。

注意：在您的情况下，您必须在旋转之前进行移动。

```
window.onload = function(){
    var paper = Raphael(0,0,500,500);    

    var a = paper.rect(10,10,50,10).transform("t100,100r10");
    var b = paper.rect(10,30,50,10).transform("t100,100r-10");
    var c = paper.rect(10,50,50,10).transform("t100,100r10");
    var d = paper.rect(10,70,50,10).transform("t100,100r-10");

} 
```

[http://jsfiddle.net/Vqn93/2/](http://jsfiddle.net/Vqn93/2/)

**更新：**

经过进一步分析，您可以附加和预先转换转换，因此，如果您想保持您的集合不变，您还可以执行以下操作：

```
window.onload = function(){
    var paper = Raphael(0,0,500,500);

    var rect01 = paper.set();
    paper.setStart();      

    var a = paper.rect(10,10,50,10).transform("r10");
    var b = paper.rect(10,30,50,10).transform("r-10");
    var c = paper.rect(10,50,50,10).transform("r10");
    var d = paper.rect(10,70,50,10).transform("r-10");

    var rect01 = paper.setFinish();

    // prepend the translation before all the rotations
    rect01.transform("t100,100..."); 
```

}

您使用的元素转换状态的[文档](http://raphaeljs.com/reference.html#Element.transform)......之前或之后取决于您是要添加还是添加。

[http://jsfiddle.net/Vqn93/3/](http://jsfiddle.net/Vqn93/3/)

# ios - iOS UIImagePickerController 在打开时冻结

> ID：12889860
> 
> 赞同：2
> 
> 时间：2012-10-15T05:39:03.290
> 
> 标签：ios, ipad, uiimagepickercontroller, freeze

我目前正在开发一个在 iOS 6 中运行的 iPad 应用程序

`- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation`我在我的应用程序中实现了 UIImagePickerController 的一个子类，它通过覆盖and`- (NSUInteger)application:(UIApplication *)application supportedInterfaceOrientationsForWindow:(UIWindow *)window`函数来强制相机处于横向。

似乎有一个随机的机会，通过`presentViewController`它启动图像选择器时会被相机“加载”屏幕捕获。那个看起来像一个关闭的相机快门。除非您退出或锁定/解锁屏幕，否则应用程序将在此屏幕上冻结，之后它将正常运行。

我还有一个用于相机视图的自定义 UI。但是我在添加之前就注意到了这个问题，所以我认为这无关紧要。

这是我必须打开选择器的内容：

```
if ([UIImagePickerController isSourceTypeAvailable:UIImagePickerControllerSourceTypeCamera]) {
    self.modalController = [[CameraLandscapeImagePicker alloc] init];
    self.modalController.delegate = self;
    self.modalController.sourceType = UIImagePickerControllerSourceTypeCamera;
    self.modalController.mediaTypes = [NSArray arrayWithObjects:(NSString *) kUTTypeImage, nil];
    self.modalController.allowsEditing = NO;
    [self.viewController presentViewController:modalController animated:YES completion:nil];

    //add the overlaying view ui
    [self.modalController buildCustomOverlay];

    self.newMedia = YES;
} 
```

任何帮助表示赞赏。

[编辑] - 更新：我已经设法弄清楚如何故意复制这个问题。下面是步骤：

*   点击我的应用程序“捕获”按钮以加载相机
*   退出相机界面
*   按下 ipad 上的主页按钮
*   通过点击主屏幕上的图标再次打开应用程序
*   再次点击我的应用程序“捕获”按钮
*   相机在快门屏幕上冻结

我还注意到即使连接到 xcode 也会发生这种情况。

我已经修改了我的代码，以便通过单例提供 UIImagePickerController 对象。以前我每次都创建一个新的 UIImagePickerController 对象。这没有任何影响，我仍然遇到同样的问题。我已经让应用程序在快门屏幕上运行了大约 5 分钟，但它仍然卡住了。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-22T06:45:58.440

我终于弄清楚了问题所在。

在我添加的自定义 UI 视图中，`cameraOverlayView`我`UIImagePicker`有一个自定义 NavigationBar 视图。此视图将其委托设置为 UIImagePicker 并使用委托属性`retain`。

最后，它是一个从“保留”到“分配”的单词更改来修复它：

```
@property (nonatomic,assign) id 委托；
```

如果您遇到与此类似的问题，我建议您将自定义 ui 代码的部分注释掉，以查看究竟是什么导致了问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-16T15:14:48.490

我遇到了这个问题，并且委托的属性已经很弱（也尝试使用分配），但问题仍然存在。

我发现我的问题是直接分配`UIImagePickerController`'`cameraOverlayView`像这样：

```
self.picker.cameraOverlayView = self.overlay; 
```

将其更改为以下有效

```
[self.picker.cameraOverlayView addSubview:self.overlay]; 
```

我在 Apple 示例应用程序中找到了解决方案：

[http://developer.apple.com/library/ios/#samplecode/PhotoPicker/Introduction/Intro.html#//apple_ref/doc/uid/DTS40010196-Intro-DontLinkElementID_2](http://developer.apple.com/library/ios/#samplecode/PhotoPicker/Introduction/Intro.html#//apple_ref/doc/uid/DTS40010196-Intro-DontLinkElementID_2)

***编辑***经过进一步测试，我发现这实际上是不够的。

正如这篇文章中所建议的： [在另一个 UIView 中显示 UIImagePickerController](https://stackoverflow.com/questions/1759194/displaying-uiimagepickercontroller-within-another-uiview/2961480#2961480)

我添加了以下内容以使快门动画“打开”：

```
[self.picker viewWillAppear:YES];
[self presentViewController:self.picker animated:NO completion:nil];
[self.picker viewDidAppear:YES]; 
```

# wolfram-mathematica - 在 Mathematica 中查找两个 ListPlot 的交点

> ID：12889864
> 
> 赞同：4
> 
> 时间：2012-10-15T05:39:24.677
> 
> 标签：wolfram-mathematica

我有两组离散数据，我用 Mathematica 中的 ListPlot 将它们绘制为两种不同的颜色（红色和蓝色）。我想找到这两者之间的交点（相应连续曲线的），即如图所示的点 A 和 B。

![在此处输入图像描述](../Images/72a966aa8880a78bdf055254237c253b.png)

我尝试了“FindCluster”方法并跳来获取数据形成行的子集，但这效果不佳。

现在我总是使用“GetCoordinate”属性直接从图表中获取数字。如果有一种方法可以自动且更准确地进行操作，那就太好了。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-15T10:37:53.503

我不确定这在您的情况下是否方便，但我有时让 Mathematica 插入点列表，然后求解交点：

```
   findGuesses[pointsTable1_, pointsTable2_] :=
     块[{interpolatingPolyF1, interpolatingPolyF2},
      插值PolyF1 =
       函数[{x}，评估[InterpolatingPolynomial[pointsTable1，x]]]；
      插值PolyF2 =
       函数[{x}，评估[InterpolatingPolynomial[pointsTable2，x]]]；
      (*打印[绘图[{interpolatingPolyF1[x],interpolatingPolyF2[x]},{x,0,2}]];*)
      {x, y} /。
       NSolve[{y == interpolatingPolyF1[x],
         y == interpolatingPolyF2[x]}, {x, y}, Reals]
      ]

```

# android - 如何在 QtCreator/Necessitas 中为 Qt/Android 应用程序构建 APK 包？

> ID：12889865
> 
> 赞同：1
> 
> 时间：2012-10-15T05:39:41.227
> 
> 标签：android, qt

我尝试使用 Necessitas 从 QtCreator 中的 Qt 源创建 Android 应用程序。当我选择“构建”时，仅执行编译和链接到 .so。当我选择“部署”时，会创建 APK 包并尝试将其加载到设备，但我只需要构建完整的签名 APK（如 Eclipse 中的“导出 Android 应用程序”）。此外，我想一步构建所有目标 - armv5/armv7a Debug /Release，但“Build All”命令不知何故仅当前选定的目标。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-15T06:28:29.500

我不知道 Qt Creator 有任何方法可以做到这一点。无论如何，您可以创建一个脚本来做到这一点。我从未尝试过，但它可能确实有效。使用 ANDROID_TARGET_ARCH，您可以在拱门之间切换（查看 mkspec）。一旦你有了你的库，你可以根据arch将它们放到你的android/lib目录中。一旦你这样做了，你可以进入你的 android 项目目录 (/android) 并使用 ant debug 来构建包。

您可能还想添加这样的脚本作为 Qt Creator 的构建步骤，以便在构建时自动执行。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-10-13T08:33:21.817

您可以从 Qt creator 签署 apk 文件

1.  左侧导航菜单中的转到项目选项卡
2.  从可用的选项中单击 Android Build||Run
3.  Sign Package --> Keystore--> 您可以直接创建或从 keystore 导入现有证书

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-10-15T20:53:20.123

上面的答案解决了第一个问题。据我所知，您必须通过 Qt Creator 一次构建一个目标，尽管您可以编写一个脚本来一次构建所有目标。

# iphone - 我们可以隐藏 iPhone 5（苹果）地图中的法律文本吗？

> ID：12889867
> 
> 赞同：3
> 
> 时间：2012-10-15T05:40:04.863
> 
> 标签：iphone, maps, iphone-5

我们可以在左下角的苹果地图中隐藏**法律文本吗？**（以前是文本**Google**）

申请会被拒绝吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-01-01T04:24:38.093

来自**iOS 开发者计划许可协议**（2013 年 6 月 10 日），在附件 6，第 2.1 节中，

> 您的应用程序不得删除、模糊或更改 Apple 或其许可人的版权声明、商标或任何其他可能出现在 Apple 地图服务中或通过 Apple 地图服务提供的专有权利或法律声明、文档或超链接。

所以我想你不应该隐藏法律文本。

^(免责声明：我不是律师。请不要将此视为正式的法律建议。)

^(*如果您已加入 iOS 开发者计划，您可以在**iOS 开发中心**→**会员中心**→**您的帐户**→**法律协议**中找到该协议。*)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T16:16:37.343

我认为您这样做至少会遇到麻烦，如果您的应用程序“幸存”了批准过程，那可能只是因为审阅者错过了它！我已经经历了足够多的事情，并且永远不会在地图上隐藏任何苹果 :) ...

# php - 当整个网站在 1 个文件中生成时，我如何为我的网站创建一个 xml 站点地图，索引 php

> ID：12889870
> 
> 赞同：1
> 
> 时间：2012-10-15T05:40:09.843
> 
> 标签：php, sitemap

所以我的网站中有 1 个文件。`index.php` 它根据请求变量生成新页面。例如：假设我有 3 个类别：

*   1.人 2.汽车 3.食物

当网站加载`index.php?CategoryID=1` 页面显示人员。... 等等。

我尝试过的任何程序都会生成一个包含 1 页的站点地图：index.php

我的问题是这样的：

```
index.php?CategoryID=1 is one page?
index.php?CategoryID=2 is one page?
index.php?CategoryID=3 is one page? 
```

或者所有 3 个都是一个页面，我的网站不能分成不同的页面？

谢谢大家。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-17T04:10:56.900

你试过[http://create-site-map.com](http://create-site-map.com)吗？我的网站也有同样的场景，我用它们来生成它。您可以在此处查看我的网站站点地图：http: [//thousandwordscards.com/sitemap.xml](http://thousandwordscards.com/sitemap.xml)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-15T05:51:13.093

当有很多页面并且这些页面不一定通过链接链接时，站点地图很有用。对于一页，没有必要

换句话说，站点地图很有用 -

1.  当您的用户无法导航到他们想去的地方时
2.  当您不知道如何链接到您的最佳内容时。

# sql - 替换在 DB2 模块中声明的例程

> ID：12889881
> 
> 赞同：0
> 
> 时间：2012-10-15T05:41:46.397
> 
> 标签：sql, module, db2, routines

我正在使用 SQL PL 在 DB2 中开发一个应用程序，并且在一个模块中定义了例程（过程和函数）。

但是，每次更改例程时，我都无法替换它，我必须删除模块主体，然后重新创建。

有没有办法为模块内的例程做一个替换？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-16T22:05:31.697

为了替换模块中的例程（存储过程或函数），不必删除主体并重新创建所有对象。

为了替换例程，可以删除特定的过程/函数，然后重新创建它：

```
ALTER MODULE m1 ADD PROCEDURE p1 ()
 BEGIN
  ...
 END@
ALTER MODULE m1 DROP PROCEDURE p1@
ALTER MODULE m1 ADD PROCEDURE p1 ()
 BEGIN
  ...
 END@ 
```

但是，没有真正的 REPLACE 操作。

# c - 遍历proc中的目录

> ID：12889882
> 
> 赞同：0
> 
> 时间：2012-10-15T05:41:51.070
> 
> 标签：c, linux, proc

我有一个循环遍历proc文件系统中的目录的函数。然后这个函数 grep 一个进程名来找到它的 PID 并将这个 PID 返回给调用函数。

该功能似乎工作正常，但在打开某些目录（对应于进程）时在一两种情况下失败。这就是我正在做的事情。

```
 dr = readdir(dp); 
```

循环通过 dr
检查目录和进程名称的 dr 类型，
将进程名称与字符串进行比较。

```
 Return PID in case of a match 
 dr = readdir(dp);
 end loop 

main() {
   DIR *d;
   struct dirent *e;

   e=malloc(sizeof(struct dirent));
   d=opendir("/proc");

   while ((e = readdir(d)) != NULL) {
      printf("%d %s\n", e->d_type, e->d_name);
   }

   closedir(d);
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-15T06:17:46.580

据推测，问题在于目录在您检查其中的文件之前就消失了。这意味着当您去目录列表时正在运行的进程在您去读取它的进程信息时不再运行。这是正常的，您必须在应用程序中处理（最好是静默处理）。

Also, the code snippet you provided definitely does not do what you described above it. Presumably you edited it for simplicity, but in doing so you removed any clues as to what you might be doing wrong.

# silverlight - 在服务器端写入 csv 文件，并通过 WCF RIA 服务发送到 silverlight 客户端

> ID：12889884
> 
> 赞同：1
> 
> 时间：2012-10-15T05:42:10.163
> 
> 标签：silverlight, file, wcf-ria-services

我在服务器端创建了 csv 文件。现在我想通过 WCF RIA 服务将它发送给我的 silverlight 客户端。我创建了以下内容：

```
public byte[] GetMyCSV()
{
  string file = @"c:\test.csv";
  using (StreamWriter sw = new StreamWriter(file, true, Encoding.GetEncoding(932)))
  {
    //write csv file content
    ...
  }

  ???
} 
```

我的服务应该发送字节数组吗？如果那么如何从 StreamWriter 获取字节数组？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-15T06:16:49.617

首先，[StreamWriter](http://msdn.microsoft.com/en-us/library/system.io.streamwriter.aspx)类用于写入文件。只要我理解您想从文件中读取的问题。

从文件中读取所有字节的最简单方法是使用[File](http://msdn.microsoft.com/en-us/library/3saad2h5.aspx)类和[ReadAllBytes](http://msdn.microsoft.com/en-us/library/system.io.file.readallbytes.aspx)方法。

```
public byte[] GetMyCSV(){
  string file = @"c:\test.csv";
  bytes[] fileBytes;

  using (var fileStream = File.OpenRead(file))  {
    fileBytes = fileStream.ReadAllBytes();
  }

  return fileBytes;
} 
```

另一种方法是使用[StreamReader](http://msdn.microsoft.com/en-us/library/system.io.streamreader.aspx)类，从文件中读取字节块并定义额外的读取编码。

# struts - 如何将 FormBean 值保存在 List 中并通过 JSP 进行迭代

> ID：12889890
> 
> 赞同：1
> 
> 时间：2012-10-15T05:42:50.880
> 
> 标签：struts

我想将 FormBean 值保存在 List 中，想将其保存在 Session 中，并再次想通过 JSP 使用`<logic:iterate>`. 我能够迭代列表或 FormBean 值`<logic:iterate>`，但不能将两者结合起来。

我已经为此尝试过。

```
<table width="75%" border="0" cellspacing="1" cellpadding="0"> 
  <logic:iterate id="myId" name="sessionData" property="getInsuredPhoneList"> 
  <tr> 
    <td width="25%"> <bean:write name="myId"/> </td> 
  </tr> 
  </logic:iterate> 
</table>` 
```

显示 JSP 的动作类：

```
List<String> getInsuredPhoneList = new ArrayList<String>();
getInsuredPhoneList.add("");
getInsuredPhoneList.add("");
getInsuredPhoneList.add("");
getInsuredPhoneList.add("");
getInsuredPhoneList.add("");
sessionData.setGetInsuredPhoneList(getInsuredPhoneList); 
```

处理 JSP 的动作类：

```
InsuredPhoneFormBean partyForm1=(InsuredPhoneFormBean)actionForm;
String type=partyForm1.getPhoneTypeCode();
String area=partyForm1.getAreaCode();
String landlineNumber=partyForm1.getLandlineNumber();
String mobileNumber=partyForm1.getMobileNumber();
String email=partyForm1.getEmailAddress();          
SessionData sessionData=getSessionData(request);
List<String> getInsuredPhoneList = new ArrayList<String>();
getInsuredPhoneList.add(type);
getInsuredPhoneList.add(area);
getInsuredPhoneList.add(landlineNumber);
getInsuredPhoneList.add(mobileNumber);
getInsuredPhoneList.add(email);
sessionData.setGetInsuredPhoneList(getInsuredPhoneList); 
```

我的输出是：

> 住宅 9988009988 abc@gmail.com

我想要的是`getInsuredPhoneList`保存 FormBean 值的多个实例（`Residential 9988009988 abc@gmail.com`，`Office 9970009988 xyz@yahoo.com`），我想遍历它`getInsuredPhoneList`，这样

```
<table>
 <logic:iterate id="myId" name="sessionData" property="getInsuredPhoneList"> 
  <tr> 
    <td width="25%"> <bean:write name="myId" property="abc"/> </td> 
  </tr>  
  <tr> 
    <td width="25%"> <bean:write name="myId" property="xyz"/> </td> 
  </tr>  
  <tr> 
    <td width="25%"> <bean:write name="myId" property="pqr"/> </td>
  </tr>
 </logic:iterate> 
</table> 
```

（property="pqr" 表示 FormBean 的属性之一）和输出如下： `Residential 9988009988 abc@gmail.com` `Office 9970009988 xyz@yahoo.com`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-17T06:14:40.183

你的代码太乱了，我无法真正理解和理解你在问什么。但这是一般概念：

1）填充对象并将它们添加到操作类中的列表（假设您有一个`Contacts`具有 3 个属性的对象 - 办公室、电话、邮件）

```
//in Action class  
Contacts myContact = new Contacts();
myContact.setOffice("office1");
myContact.setTel("123454");
myContact.setMail("xx@xx.com");

List<Contacts> myList = new ArrayList<Contacts>();
myList.add(myContact);
//You can add more Objects to List here 
```

2）设置列表对象，`request`以便您以后可以在JSP中访问它

```
request.setAttribute("PHONE_LIST",myList); 
```

3) 在 JSP 中，您必须从中获取 List`request`并对其进行迭代以显示结果

```
//in JSP
<table>  
 <logic: iterate id="dataObject" name="myForm" property="PHONE_LIST">  
 <tr>  
   <td><bean: write name="dataObject" property="office" /></td>  
   <td><bean: write name="dataObject" property="tel" /></td>  
   <td><bean: write name="dataObject" property="mail" /></td>  
 </tr>  
 </logic: iterate>  
</table> 
```

希望这可以帮助

# gwt - 如何杀死尚未完成的 GWT RPC

> ID：12889895
> 
> 赞同：0
> 
> 时间：2012-10-15T05:43:11.390
> 
> 标签：gwt, rpc, gwt-rpc

我的代码用于向多个用户发送电子邮件。用户将单击发送按钮，然后调用 rpc。现在，如果用户单击取消按钮。正在进行的 rpc 应该被取消。. 任何人都可以帮忙吗？

我google了很多，他们已经介绍了Request Builder的概念。但我没有得到任何完美的想法。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-15T08:25:21.727

使您的异步方法返回 a`Request`而不是，`void`以便您可以调用`cancel()`它。

> 出于同样的原因，异步方法没有返回类型。他们通常返回无效。如果您希望更好地控制待处理请求的状态，请改为返回 Request。

—*来源：[https ://developers.google.com/web-toolkit/doc/latest/DevGuideServerCommunication#DevGuideCreatingServices](https://developers.google.com/web-toolkit/doc/latest/DevGuideServerCommunication#DevGuideCreatingServices)*

仅供参考，您也可以`RequestBuilder`用作返回类型，然后您必须`send()`自己调用该方法（在可能自定义请求之后，例如添加标头）以实际向服务器发出请求。

当然，如果您需要告诉服务器中止处理，则必须进行另一个 RPC 调用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-15T05:53:20.120

该请求是异步的，因此客户端可以做任何它想做的事情。您需要做的就是添加一个标志以指示应该取消请求，然后更改`onSuccess`检查标志的方法，如果已设置则不执行任何操作。

您应该在每次提出请求时清除`requestCancelled`标志 - 否则在第一个请求被取消后，您将无法再提出另一个......

例如

```
boolean requestCancelled = false;

void onSuccess(...)
{
    if (!requestCancelled) {
        // actual response handing code
    }
} 
```

如果真的要取消服务器端的请求，就复杂了很多。您可以通过发送第二个请求来做到这一点 - 一个功能是取消请求。为了使这项工作，“取消请求”必须在“电子邮件请求”可以读取的地方设置一个字段。“电子邮件请求”需要检查“取消字段”是否已设置。

```
// server side Impl
void cancelRequest()
{
    // You need to implement this class and ensure it really is a singleton
    // and thread safe.
    RequestStatusSingleton.setCancelled(true);
}

void serverSideEmailFunc()
{
    while(modeEmailAddrs && ! RequestStatusSingleton.getCancelled()) {
        // get next address and send email
    }
} 
```

显然，这是很多工作。你有没有考虑过：

1.  GUI 上没有取消按钮？
2.  让服务器一次处理几封电子邮件（即客户端发送多个请求，直到服务器告诉客户端所有电子邮件都已完成）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-15T05:53:44.463

我完全理解你的用户。没有人愿意等待 15 秒。

没有“杀死”请求的标准方法，因为没有办法知道你的服务器/数据存储在哪里实现它。除非您处理的流程可以放入可以回滚的单个事务中，否则您将不得不实现自己的逻辑。例如，如果您要求服务器保存一个实体，您将不得不告诉服务器再次保存该实体，但这次不做任何更改。

另外，请再次考虑您的用例。为什么用户想要终止请求？可能他只是想去应用程序中的另一个地方。那么就不需要杀死请求了：当响应到达时，检查用户是否还在原地耐心等待。如果没有，请不要执行 onSuccess()。

# c - 在 C 中实现自己的消息调度程序

> ID：12889896
> 
> 赞同：0
> 
> 时间：2012-10-15T05:43:22.410
> 
> 标签：c

我想在 C 中制作自己的消息调度程序...例如，我想向 MyButton 或 MyWindow 结构发送消息。这些结构有自己的处理程序。

有高手有什么建议吗？

PS：用于嵌入式应用（使用微控制器）

PPS：多亏了**肖恩**——这就是我所需要的。我对肖恩建议的简单解释：

```
typedef void (*MyHandler)(size_t param);
MyHandler Handlers[32];
void RegisterHandlers(size_t id, MyHandler handler) {
  Handlers[id] = handler;   
}
void SendMessage(size_t id, size_t param) {
  Handlers[id](param);  
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-15T05:49:21.373

为了实现这一点，我将执行以下操作：

为触发的事件设计一个线程安全的容器，一个队列。

然后我会设计一个系统，通过哈希表或类似的其他机制将事件 id、字符串或整数与函数联系起来。

完成这两个块之后，您只需要一种方法来使用函数指针注册事件 id，然后只需使用一种通用方法将参数发送到函数，这几乎就是所有需要使用消息调度程序完成的事情。您将消息推送到队列，然后从队列中弹出内容并对消息中包含的任何内容做出反应。

# javascript - css 列和滚动转换

> ID：12889897
> 
> 赞同：0
> 
> 时间：2012-10-15T05:43:22.150
> 
> 标签：javascript, css, css-transitions, multiple-columns

我正在显示使用 CSS 列分页的电子书。我正在寻找一种使用翻页效果滚动页面（即：水平滚动）的方法。

你知道这是否可以实现，如果可以，我该怎么做？

谢谢并恭祝安康，

# visual-studio-2010 - Visual Basic 2010 列表框错误

> ID：12889899
> 
> 赞同：0
> 
> 时间：2012-10-15T05:10:34.710
> 
> 标签：visual-studio-2010

这个错误是什么意思？抱歉，这是我第一次使用 Visual basic 2010，我不熟悉这种错误，我用它来选择列表框中的所有文件，并尝试以其他形式移动或复制到另一个列表框。

> 错误 1“ToArray”不是“System.Windows.Forms.ListBox.ObjectCollection”的成员。

这是我使用的代码。

> Private Sub Button1_Click_1(ByVal sender As System.Object, ByVal e As System.EventArgs) 处理 Button1.Click
> 
> If RadioButton1.Checked Then
> 
> ```
>  Dim itemsToMove = ListBox1.Items.ToArray()
>         For Each item In itemsToMove
>             Form2.lstP.Items.Add(item)
>             ListBox1.Items.Remove(item)
>         Next
>         Form2.Show()
>     End If
> 
> End Sub 
> ```

有人可以帮我弄这个吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-15T05:30:34.007

错误的意思是[Listbox.ObjectCollection](http://msdn.microsoft.com/en-us/library/system.windows.forms.listbox.objectcollection.aspx) 没有名为*ToArray*的方法或属性。因此，您不能在此集合上调用*ToArray 。*目前尚不清楚您为什么要这样做。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-02-12T17:49:21.303

无需将 ListBox 强制转换为数组。如果您需要知道列表中的项目数，您可以执行以下操作

```
 Dim itemsToMove As Integer = ListBox1.Items.Count 
```

否则，不需要该行代码 Dim itemsToMove = ListBox1.Items.ToArray() 。你可以简单地使用

```
 For Each item In ListBox1
        Form2.lstP.Items.Add(item)
        ListBox1.Items.Remove(item)
    Next 
```

# github - 如何从 GitHub Web 更新分叉存储库？

> ID：12889901
> 
> 赞同：3
> 
> 时间：2012-10-15T05:43:28.050
> 
> 标签：github, fork, repository

我想从 GitHub Web 界面更新一个分叉的 repo。

我从其他问题中尝试了一些东西，但是`fatal: not a git repo`当我使用它时它给了我`git remote add upstream git://blabla`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-15T06:02:13.993

请先尝试使用 https 地址，如[GitHub FAQ](https://help.github.com/articles/fork-a-repo)中所述：

```
git remote add upstream https://github.com/octocat/Spoon-Knife.git
# if upstream already exist
git remote set-url upstream https://github.com/octocat/Spoon-Knife.git 
```

并且确定这个地址使用的大小写（区分大小写，稍有错误就会给你“ `not a git repo`”）。

# linux - 如何更新组级别的 linux 老化信息

> ID：12889902
> 
> 赞同：-1
> 
> 时间：2012-10-15T05:43:42.330
> 
> 标签：linux, configuration, change-password

我们可以使用 chage 命令来更新用户的 PASS_MAX_DAYS（密码可以使用的最大天数）。linux 是否提供了一些命令或解决方案来在组级别进行管理？例如，组用户的 PASS_MAX_DAYS 为 30 天。这意味着用户组中的所有用户都应该在 30 天内更改密码？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-15T05:52:46.183

```
for member in `groupmems  -g YOUR_GROUP_NAME --list`;do chage -M 30 $member ;done 
```

# android - 安卓手机支持蓝牙opp

> ID：12889904
> 
> 赞同：0
> 
> 时间：2012-10-15T05:44:03.670
> 
> 标签：android, bluetooth

我如何知道 android 移动设备是否支持蓝牙 opp（对象推送配置文件）？它是供应商特定的还是特定的android版本？

多谢。干杯。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-22T06:41:59.517

我认为 Android 支持 OPP。在 android/packages/apps/Bluetooth/...../opp/*.java 中有一条路径

如果你的版本没有这个，我找到了一个有用的链接，这将有助于在 android 中使用 OBEX OPP。这里需要修改Android框架。

[http://i-miss-erin.blogspot.in/2009/10/how-to-have-obex-function-in-android.html](http://i-miss-erin.blogspot.in/2009/10/how-to-have-obex-function-in-android.html)

# facebook - facebook 用户访问令牌与应用程序访问令牌

> ID：12889908
> 
> 赞同：2
> 
> 时间：2012-10-15T05:44:35.540
> 
> 标签：facebook, facebook-graph-api, oauth

两者有什么区别，什么时候用？

[https://developers.facebook.com/docs/authentication/server-side/](https://developers.facebook.com/docs/authentication/server-side/)

对比

[https://developers.facebook.com/docs/opengraph/using-app-tokens/](https://developers.facebook.com/docs/opengraph/using-app-tokens/)

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-10-15T06:02:27.593

这一切都在您链接的那些文件中，但要尽量简化：

*   应用程序访问令牌是当您授权您的应用程序（在服务器级别）执行某些操作时，例如阅读见解、更改应用程序的参数。
*   用户访问令牌是指用户授权您的应用代表他们执行操作（在服务器或客户端/浏览器级别）。用户可以通过权限对话框限制扩展到您的应用程序的权限。

有交叉的地方：

*   App Access Token 可以获取有关用户（之前已对应用进行身份验证）的信息。这些信息是有限的。例如，如果您不再拥有用户的有效令牌但需要验证他们的名称没有更改，这将很有用。您无法获取有关用户的所有其他详细信息 - 为此，您需要拥有用户访问令牌
*   应用访问令牌也可以作为应用发布到用户墙（如果用户授予权限）。这与以用户身份发布到用户墙上略有不同，这是您使用用户访问令牌所做的事情。本质上是一样的，只是用户可以“伪造”他们自己的帖子，因为他们拥有访问令牌，但是当使用您的应用令牌（保密）签名时，他们不能伪造来自您的应用的帖子。

希望这能概括一下吗？

# c# - 如何将当前行与同一张表中的前一行进行比较

> ID：12889909
> 
> 赞同：0
> 
> 时间：2012-10-15T05:44:39.070
> 
> 标签：c#, mysql

如何在 MVC3.0 中使用 MySQL C# 每次比较当前记录与同一表中的先前记录。

这是我的桌子

历史表：

```
id  | projid|     task |   name         | description     |        date  |       type
----|-------|   -----  | -------------- |------------     |       -------|    ---------
1   |   1   |    sys21 |  validation    | validating user |      1-5-12  |    created
2   |   1   |    sys21 |  bug tracking  | background bug  |     23-7-12  |    updated
    |       |          |                |     tracking    |              |
3   |   1   |    sys21 |   bug tracking |  bug reporting  |    30-8-12   |   updated
4   |   1   |    sys21 |   bugs         |  bug reporting  |   12-9-12    |  updated
---------------------------------------------------------------------------------- 
```

现在我想要结果，以便将更新类型的记录与以前的记录进行比较，以便将以前的记录显示为以前的历史记录和通过与以前的记录进行比较获得的记录，并仅将更新的字段显示为当前历史记录。

现在取决于 projid 检索历史。

我的观点如下所示：

```
previous history             current history
----------------             ---------------
type:                        created
name:                        validation
description:                 validating user

--------------------------------------------------------------

type:           created                         updated
name            validation                      bug tracking
description:    validating user                 background bug tracking

--------------------------------------------------------------------
type:           updated                         updated
name:           bug tracking                    bug report    
description:    background bug tracking         bug reporting

----------------------------------------------------------------
type:            updated                        updated
name:            bug tracking                   -
Description:     background bug tracking        bug reporting

------------------------------------------------------------------------
type:            updated                        updated
name:            bug tracking                   bugs
Description:     bug reporting                  - 
```

我期待上述输出，任何人请帮助我摆脱这种情况，任何国王都将被接受......

谢谢，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-15T09:58:29.983

我不确定我是否正确理解了您，但您可以使用以下逻辑来解决此问题：

1.  获取表示项目历史记录的行并按日期降序排列
2.  从上面获取第一行作为最后一次更改
3.  从 1 中获取第二行。作为上一个到最后一个更改
4.  比较数据

这是一种潜在的方法（使用Linq）：

```
var history = db.History.Where(item => item.ProjId == 1)
                        .OrderByDescending(item => item.Date);
var lastChange = history.First();
var previousChange = history.Skip(1).First(); 
```

现在您需要将上述行发送到您的比较方法。如果要突出显示更改，可以遍历行的属性并比较相同属性的值，如下所示：

```
private IEnumerable<Tuple<string, object, object>> GetChangesBetweenRows(History row1, History row2)
{
    var result = new List<Tuple<string, object, object>>();
    var properties = lastChange.GetType().GetProperties(); // both rows are of the same type
    foreach(var propInfo in properties)
    {
        var obj1 = propInfo.GetValue(lastChange, null);
        var obj2 = propInfo.GetValue(previousChange, null);
        if(obj1 != obj2)
            result.Add(Tuple.Create(propInfo.Name, obj1, obj2));
    }
    return result;
} 
```

**编辑** 给定上述方法，您可以遍历历史记录行的集合并获取集合中任何两行之间的差异：

```
static void Main(string[] args)
{
    var history = db.History.Where(item => item.ProjId == 1)
                            .OrderBy(item => item.Date)
                            .ToArray();
    for(int i=1; i<history.Length; i++)
    {
        var diff = GetChangesBetweenRows(history[i-1], history[i]);
        DisplayDifferences(diff);
    }
}

static void DisplayDifferences(IEnumerable<Tuple<string, object, object>> diff)
{
    foreach(var tuple in diff)
    {
        Console.WriteLine("Property: {0}. Object1: {1}, Object2: {2}",tuple.Item1, tuple.Item2, tuple.Item3);
    }
} 
```

# c# - 如何将值列表从一个 DataTemplate 传递到另一个？

> ID：12889912
> 
> 赞同：2
> 
> 时间：2012-10-15T05:44:43.983
> 
> 标签：c#, xaml, windows-8, microsoft-metro

我有一个字符串值（或标签）列表，我想在另一个 DataTemplate 中创建一个 DataTemplate。例如，假设我有一个包含字符串、整数和字符串列表的对象。字符串列表是我感兴趣的一组标签。对于每个标签，我都有一个要使用的特定 DataTemplate：

```
<!-- This is the Tag Template-->
<DataTemplate x:Name="TagTemplate">
    <Border Background="LightGray">
        <TextBlock Text="{Binding TagValue}"/> <!-- This is where I'm not sure how to reference the individual tag-->
    </Border>
</DataTemplate> 
```

另一个 DataTemplate 的主体将包含如下标签：

```
<!-- This is the main Data Template for the overall data-->
<DataTemplate>
     <Grid>
          <GridView ItemsSource="{Binding Tags}" ItemTemplate="{StaticResource TagTemplate }"/>
          <!-- Below is a commented static representation of the tags-->
          <!--<TextBlock Text="TAG, TAG, TAG, TAG, TAG" Margin="5, 5, 5, 5"/>-->
     </Grid>
<DataTemplate> 
```

标签的 DataBinding 将是一个字符串列表`List<String> Tags`

我的问题是我不确定如何引用第二个绑定，或者是否可以从一个`DataTemplate`到另一个传递任何内容的列表。这可能吗，如果可以，怎么办？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-15T06:03:05.223

如果您的 Tags 集合`List<String>`在您`DateTemplate`的 the中，`DataContext`则将是实际项目：所以给定，您可以使用以下语法`string`绑定到当前：`DataContext`

```
<DataTemplate x:Name="TagTemplate">
    <Border Background="LightGray">
        <TextBlock Text="{Binding}"/>
    </Border>
</DataTemplate> 
```

# mobile - 从移动应用程序验证用户

> ID：12889915
> 
> 赞同：0
> 
> 时间：2012-10-15T05:44:54.230
> 
> 标签：mobile, facebook-authentication, facebook-oauth, facebook-access-token, userid

我有手机在线游戏，我的服务器需要玩家的 user_id。但是 facebook 只给我 access_token 从用户帐户请求数据并且不提供签名的 user_id。拥有已签名的 user_id 很重要，这样其他用户就不能通过替换对我的服务器的请求中的 user_id 来假装是另一个用户。在客户端上签名并不安全，因为任何关心的人都可以在客户端二进制文件中找到密钥。

所以现在我将不得不在身份验证过程中创建中间步骤 - 使用 access_token 向我的服务器请求，这反过来又向 facebook 请求用户信息（这很慢，取决于我的服务器地理位置（常量），而不是客户端），使用 MY_SERVER_PRIVATE_KEY 创建签名+ user_id，并将其发送回客户端。这不是一个大问题，但在身份验证期间会产生延迟。

我错过了什么吗？是否无法从使用我的应用程序密钥签名的 facebook 接收 user_id？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-15T05:55:45.987

除非用户先连接到您的应用程序，否则您无法获取签名的用户 ID。因此，您必须在应用程序中使用客户端或服务器端身份验证流程。

[Facebook 上的应用程序身份验证流程文档](https://developers.facebook.com/docs/authentication/pagetab/)

# java - 为什么客户端无法从服务器接收消息（java）

> ID：12889916
> 
> 赞同：0
> 
> 时间：2012-10-15T04:13:56.343
> 
> 标签：java, multithreading, client, nio

我刚开始学习java。我修改了服务器/客户端通信程序的客户端代码，为客户端创建了两个线程，主线程用于接收用户输入，inputThread 用于接收服务器响应。我确信服务器已经向客户端发送了响应，但是，客户端没有响应消息。

这是我的代码。谁能帮我弄清楚？谢谢

```
package clientnio;

import java.net.*; 
import java.nio.*; 
import java.io.*;
import java.nio.channels.*; 
import java.util.Scanner; 

public class ClientNIO {
public static int bufferLen = 50;
public static SocketChannel client;
public static ByteBuffer writeBuffer;
public static ByteBuffer readBuffer;

public static void main(String[] args) { 
    writeBuffer = ByteBuffer.allocate(bufferLen);
    readBuffer = ByteBuffer.allocate(bufferLen);

    try { 
        SocketAddress address = new InetSocketAddress("localhost",5505); 
        System.out.println("Local address: "+ address);
        client=SocketChannel.open(address);
        client.configureBlocking(false); 

        //readBuffer.flip();
        new inputThread(readBuffer);

        /*
        String a="asdasdasdasddffasfas"; 
        writeBuffer.put(a.getBytes()); 
        writeBuffer.clear();  
        int d=client.write(writeBuffer);
        writeBuffer.flip();
        */

        while (true) {
            InputStream inStream = System.in;
            Scanner scan = new Scanner(inStream);
            if (scan.hasNext()==true) {
                String inputLine = scan.nextLine();
                writeBuffer.put(inputLine.getBytes()); 
                //writeBuffer.clear();
                System.out.println(writeBuffer.remaining());
                client.write(writeBuffer);
                System.out.println("Sending data: "+new String(writeBuffer.array()));
                writeBuffer.flip(); 
                Thread.sleep(300);
            }
        }                 
    } 
    catch(Exception e) { 
        System.out.println(e);
    } 

}
}

class inputThread extends Thread {
private ByteBuffer readBuffer;
public inputThread(ByteBuffer readBuffer1) {  
    System.out.println("Receiving thread starts.");
    this.readBuffer = readBuffer1;
    start();
}

@Override
public void run() {
    try {
        while (true) {
            readBuffer.flip();
            int i=ClientNIO.client.read(readBuffer); 
            if(i>0) { 
                byte[] b=readBuffer.array(); 
                System.out.println("Receiving data: "+new String(b)); 
                    //client.close(); 
                    //System.out.println("Connection closed."); 
                    //break; 
            }
            Thread.sleep(100); 
        }
    }
    catch (Exception e) {
       System.out.println(e);
    }
  }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-15T08:57:47.793

`flip()`在读取缓冲区之前调用它是错误的。不要那样做。您需要在*写入*之前翻转它，或者从它获取，`compact()`然后再翻转它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-15T04:36:05.600

免责声明：我不是 Java 的活跃用户。（我只在学校用过。）

* * *

建议：我认为如果您使用*阻塞模式*将大大简化调试过程，至少在您的代码示例正常工作之前。（目前您的代码似乎没有从非阻塞模式中受益。）

* * *

我已经确定了两个问题，最终导致可能需要更改的四行代码：

1.  当 a分配它的后备数组时，它通过设置为零和该数组的容量来`ByteBuffer`设置自己准备写入。您的两种用法（分别在写入循环和读取循环中）似乎违反了惯例。`position``limit``ByteBuffer.flip()`
2.  调用该`ByteBuffer.array()`方法总是返回整个后备数组，因此它总是有 size `bufferLen`。因此，`String`从全尺寸数组构造的一个可能包含来自先前传输的垃圾。
    *   通常，需要将数组修剪到传输大小，并且a`String`和字节数组之间的转换*必须*使用与服务器相同的编码。

* * *

我对第一个问题的建议更改：（
*注意：我不知道如何解决数组修剪和编码问题。）*

```
writeBuffer.put(inputLine.getBytes()); 
writeBuffer.flip();                       // <--here
client.write(writeBuffer);
...
writeBuffer.clear();                      // <-- should be clear() instead of flip()
Thread.sleep(300); 
```

* * *

```
// readBuffer.flip();                      // <-- remove this line
int i=ClientNIO.client.read(readBuffer); 
if(i>0) { 
    readBuffer.flip();                     // <-- move it here
    byte[] b=readBuffer.array(); 
    System.out.println("Receiving data: "+new String(b)); 
    ...
} 
```

* * *

参考

*   [http://docs.oracle.com/javase/1.4.2/docs/api/java/nio/ByteBuffer.html](http://docs.oracle.com/javase/1.4.2/docs/api/java/nio/ByteBuffer.html)
*   [http://docs.oracle.com/javase/1.4.2/docs/api/java/nio/channels/SocketChannel.html](http://docs.oracle.com/javase/1.4.2/docs/api/java/nio/channels/SocketChannel.html)
*   [套接字通道始终为空](https://stackoverflow.com/questions/11871681/socketchannel-always-null)
*   [http://www.exampledepot.com/egs/java.nio.charset/ConvertChar.html](http://www.exampledepot.com/egs/java.nio.charset/ConvertChar.html)

# qt - QSharedMemory::handle 不存在错误

> ID：12889918
> 
> 赞同：1
> 
> 时间：2012-10-15T05:44:59.460
> 
> 标签：qt, qt4

我正在尝试运行以下 QT 代码：

```
#include <QtCore/QCoreApplication>
#include <QSharedMemory>
#include <QDebug>
QSharedMemory g_objSharedMemory(QString("Shared Memory"));

int main(int argc, char *argv[])
{
    QCoreApplication a(argc, argv);
    if(g_objSharedMemory.isAttached()==false)
    {
        qDebug()<<"Shared memory is not attached !!!!trying to attach it\n ";
        qDebug()<<g_objSharedMemory.errorString();
        if(g_objSharedMemory.attach()==false)
        {
            qDebug()<<"Failed to attach shared memory to the process!!!!";
            qDebug()<<g_objSharedMemory.errorString();
            return 0;
        }
    }

    return a.exec();
} 
```

我未能将共享内存段附加到进程。我正在 Windows XP 上构建此代码。
我收到`QSharedMemory::handle doesnt exist`错误。
我该如何解决这个错误？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-15T05:58:24.987

您需要在使用它的进程之一中创建（）共享内存段。最有可能的是，您有一个首先启动的“主”或“服务器”进程 - 让该进程创建具有特定大小的共享内存：

```
qDebug()<<"Creating shared memory ...";
if(g_objSharedMemory.create(42) == false) {
    qDebug() << "Failed to create shared memory!!!!";
    qDebug() << g_objSharedMemory.errorString();
} 
```

然后，在您的“从属”或“客户端”进程中，您应该能够使用相同的密钥附加到共享内存。

请注意，create() 还附加了进程，因此您不能在主进程中调用 attach()。

# matlab - 根在函数中不起作用

> ID：12889919
> 
> 赞同：2
> 
> 时间：2012-10-15T05:45:11.813
> 
> 标签：matlab

我想在函数中使用 matlab 函数的根。

但它不起作用。我不知道如何解决这个问题。

这是功能：

```
function [ roots , poles ] = pr_calc( num , den )
%PR_CALC Summary of this function goes here
%   Detailed explanation goes here

poles=roots([den]);
roots=roots([num]);

end 
```

这是错误消息：

```
??? At compilation, "roots" was determined to be
a variable and this
 variable is uninitialized.  "roots" is also a
 function name and previous versions of MATLAB
 would have called the function.
 However, MATLAB 7 forbids the use of the same
 name in the same
 context as both a function and a variable.

Error in ==> pr_calc at 6
poles=roots([den]); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-15T05:48:26.977

我认为 matlab 实际上会告诉您您需要知道的一切。您已经定义了一个名为“roots”的变量作为函数的返回值，但“roots”已经*是*一个函数，因此不允许使用相同的名称。试试这个：

```
function [ myroots , poles ] = pr_calc( num , den )
%PR_CALC Summary of this function goes here
%   Detailed explanation goes here

poles=roots([den]);
myroots=roots([num]);

end 
```

# ember.js - Ember 商店刷新问题！错误：无法响应状态 rootState.loaded.updated.uncommitted 中的事件 didChangeData

> ID：12889920
> 
> 赞同：1
> 
> 时间：2012-10-15T05:45:23.493
> 
> 标签：ember.js, ember-data

在存储中的记录变脏后，我正在尝试使用单独的查询将我的数据加载到服务器。更新的值被发送到服务器，并使用自定义 ajax 调用执行相关操作，并在服务器端进行处理以更新所有相关记录。但是当再次加载数据时，我得到了上述错误。可能的原因可能是，由于存储中的记录很脏，并且没有提交存储，我试图再次加载数据，这给了我错误。所以，我尝试做一个“Application.defaultTransaction.rollback()”。它从更新的存储桶中删除这些记录，但更新的存储桶（对象类型）中的“键”仍然存在，我仍然收到错误。谁能帮我这个？

*简而言之：有没有办法强制清理存储或移动创建/更新/飞行桶中的所有对象来**清理**桶？*

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-19T04:22:41.093

Application.store.get('defaultTransaction').rollback() 将删除存储中的任何脏对象并将其带到初始状态。store.rollback() 也有一个未解决的问题，当合并到 master 时，它可能是一个替代方案。 [https://github.com/emberjs/data/pull/350#issuecomment-9578563](https://github.com/emberjs/data/pull/350#issuecomment-9578563)

# javascript - javascript .serialize() 函数不起作用

> ID：12889923
> 
> 赞同：0
> 
> 时间：2012-10-15T05:45:51.940
> 
> 标签：javascript, jquery

**代码**

```
 <form id="createCFrom">
    <table class="ui-widget">
        <tr>
            <td>Event
            </td>
            <td>
                <input type="text" id="CreateName" name="Event" />
            </td>
        </tr>
        <tr>
            <td>Date 
            </td>
            <td>
                <input type="text" id="CreateDate" name="Date" />
            </td>
        </tr>
        <tr>
            <td>Guest 
            </td>
            <td>
                <input type="text" id="CreateGuestName" name="Guest" />
            </td>
        </tr>
        <tr>
            <td colspan="2">
                <button onclick="addCeremony();" class="right" id="saveCeremony">Save</button>
            </td>
        </tr>
    </table>
</form> 
```

**JS代码**

```
function addCeremony() {
        alert($("#createCForm").serialize());
} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-15T05:51:18.677

你的 id 是**createCFrom**

```
<form id="createCFrom"> 
```

但你的脚本是指**createCForm**

```
function addCeremony() {
    alert($("#createCForm").serialize());
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-15T05:48:46.367

嗨，有改变`<button>`输入`<input>`，它正在工作，请试试这个

```
 <input type='button' onclick="addCeremony();" class="right" id="saveCeremony" value='Save'> 
```

[小提琴](http://jsfiddle.net/pintu31/deMba/)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-15T05:51:45.957

你有一个错字：

```
alert($("#createCForm").serialize()); 
```

应该：

```
alert($("#createCFrom").serialize()); 
```

（或者表单的 id 可能是错字所在的位置 - 由您决定，但显然我所说的是表单的 id 必须与您在 JS 中使用的 id 匹配。）

纠正这个问题，它的工作原理：http: [//jsfiddle.net/K5FVg/](http://jsfiddle.net/K5FVg/)

# java - 将整数添加到向量

> ID：12889924
> 
> 赞同：2
> 
> 时间：2012-10-15T05:46:01.823
> 
> 标签：java, inputstreamreader

大家好，在读取我们使用的输入数据流时

```
BufferedReader stdin=new BufferedReader(new InputStreamReader(System.in)); 
```

如果`BufferedReader`阅读流这么好，为什么我们不能只使用

```
BufferedReader stdin=new BufferedReader(System.in); 
```

为什么我们需要`InputStreamReader`？？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-15T05:52:41.157

BufferedReader 似乎是 Reader 类的包装类。用 System.in 构造一个 BufferedReader 根本不是有效的语法。BufferedReader 类的原因来自文档：

> 通常，由 Reader 发出的每个读取请求都会导致对底层字符或字节流发出相应的读取请求。因此，建议将 BufferedReader 包装在 read() 操作可能成本高昂的任何 Reader 周围，例如 FileReaders 和 InputStreamReaders。例如，
> 
> BufferedReader in = new BufferedReader(new FileReader("foo.in"));
> 
> 将缓冲来自指定文件的输入。如果没有缓冲，每次调用 read() 或 readLine() 都可能导致从文件中读取字节，转换为字符，然后返回，这可能非常低效。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-15T05:49:00.810

很简单，因为没有`BufferedReader(InputStream)`构造函数。只有两个构造函数可用：

*   [`BufferedReader(Reader in)`](http://docs.oracle.com/javase/6/docs/api/java/io/BufferedReader.html#BufferedReader%28java.io.Reader%29)

*   [`BufferedReader(Reader in, int sz)`](http://docs.oracle.com/javase/6/docs/api/java/io/BufferedReader.html#BufferedReader%28java.io.Reader,%20int%29)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-15T05:56:14.863

输入流读取器通过管道连接到缓冲读取器。

JVM 将分配一定数量的缓冲区空间来一次性存储输入，而不是逐个字节或逐个字符地存储。所以，当用户通过 InputStreamReader 完全输入输入后，输入会被存储在 JVM 分配的缓冲区位置中。使用此 Reader，读取速度更快，便于以后处理。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-15T05:57:17.580

因为`System.in`是 Streams 并且`BufferedReader`是阅读器，所以你不能将流放在阅读器中，所以你必须像你正在做的那样为阅读器转换它。

```
new BufferedReader(new InputStreamReader(System.in)); 
```

Readers 和 Writers 在编码（UTF-8、ISO8859-2 等）下操作字符，也称为“文本”。流操作字节，不一定是构成任意对象的字节。（大多数只是操作字节数组。）这些数据也称为“二进制数据”。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-15T05:50:44.480

您可以使用[BufferedInputStream(InputStream in)](http://docs.oracle.com/javase/1.4.2/docs/api/java/io/BufferedInputStream.html) 。我想这就是你要找的...

# ruby-on-rails - 哪个库提供发送电子邮件的功能？

> ID：12889925
> 
> 赞同：0
> 
> 时间：2012-10-15T05:46:08.113
> 
> 标签：ruby-on-rails, ruby

哪个库提供发送电子邮件的功能？

```
 1)  Net::POPMail
  2)  Internet::PMTP
  3)  Net::SMTP
  4)  Internet::SMTP 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-15T06:06:34.057

Net::SMTP 是标准 ruby​​ 中执行此操作的库。如果您在 Rails 应用程序中，正如您的标签所暗示的那样，您还可以使用 ActionMailer 为外发电子邮件等提供类似视图的模板。它的[Rails 指南](http://guides.rubyonrails.org/action_mailer_basics.html)被标记为工作进行中，但可能仍然有用。

# c++ - “不能将 float[4][4] 转换为 float on assignment”是什么意思？

> ID：12889929
> 
> 赞同：0
> 
> 时间：2012-10-15T05:46:40.020
> 
> 标签：c++

这是引起麻烦的代码：

```
Mat4::Mat4( float a, float b, float c, float d, float e, float f, float g, float h,            
            float i, float j, float k, float l, float n, float o, float p, float q )
{
m[0][0] = a;
m[0][1] = b;
m[0][2] = c;
m[0][3] = d;
m[1][0] = e;
m[1][1] = f;
m[1][2] = g;
m[1][3] = h;
m[2][0] = i;
m[2][1] = j;
m[2][2] = k;
m[2][3] = l;
m[3][0] = m;
m[3][1] = n;
m[3][2] = o;
m[3][3] = p;
} 
```

看起来它是一个简单的构造函数，但显然它有问题。这里的目标是获取每一个浮点数并将其放入我在那里创建的二维数组中。我也尝试过这样做->m[][] 但这也不起作用。

我确定这是我忽略的愚蠢的事情，但我无法为我的生活弄明白。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-15T05:49:54.677

是的，这很愚蠢：您使用“m”作为数组的名称（可能是成员数组）Doh！;)

# vb.net - 如何在VB中包含头文件

> ID：12889939
> 
> 赞同：0
> 
> 时间：2012-10-15T05:48:19.187
> 
> 标签：vb.net, file, header, include

我可以编写程序 VB 6.0，但我不知道如何在 VB 6.0 中包含文件。在 c 中是

```
include "aa.h" 
```

但我真的不知道如何在我的 VB 程序中包含这个“aa.h”。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-15T06:31:04.317

注释表明您正在尝试在所有模块之间共享一个变量。只需在 .bas 模块中声明一个公共变量：

```
Public foo As String 
```

而且，顺便说一下，VB6与 C*完全不同。*

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-15T06:03:39.010

你没有。C 中头文件的目的是为您使用的库声明（函数）原型。

1.  如果您的 C 函数可用作 COM 组件 (OCX)，那么您可以将 OCX 用作外部组件。

2.  在经典的 Visual Basic（最高 6.0）中，如果这些库驻留在 DLL 中，您可以声明对外部库的依赖关系。为此，您必须使用 Visual Basic 的[声明](http://msdn.microsoft.com/en-us/library/aa716201%28v=vs.60%29.aspx)功能。这基本上是 .h 文件中使用的原型的 Visual Basic 变体。您必须手动将要使用的 C 原型从 .h 文件转换为 VB 语法：例如，C 原型`BOOL foo(LPCSTR lpString, HWND hWnd)`变为`Declare Function foo Lib "a.dll" (ByVal lpString As String, ByVal hwnd As Long) As Long`

3.  如果您的 C 功能是静态库 (.lib)，那么您不能直接使用此库。相反，您必须从中创建一个 DLL 或 OCX（使用 C），并将上述 VB 功能之一用于外部依赖项。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-15T05:58:49.367

去

> 菜单 -> 项目 -> 组件

并从可用列表中`Components`选择

或用于添加参考

> 菜单 -> 项目 -> 参考

并从可用列表中`References`选择

并像这样调用/声明它

```
Dim comp as YourComponent 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2019-05-02T15:59:11.943

接近 C 包含头文件的唯一可用解决方案是添加一个包含所有声明和共享变量的模块。

例如：

公共变量 1，变量 2 作为字符串...声明函数 X 别名 Y...

# ipad - Ipad 应用程序如何从自定义相册中获取图像

> ID：12889941
> 
> 赞同：0
> 
> 时间：2012-10-15T05:48:21.527
> 
> 标签：ipad, photos

我正在开发一个 iPad 应用程序，其中我使用[This 将图像保存到自定义相册。](http://www.touch-code-magazine.com/ios5-saving-photos-in-custom-photo-album-category-for-download/)

现在我想从该自定义文件夹中获取所有图像，并且需要以动画形式显示所有图像`UIImageView`。

我知道**如何设置动画**，但我想知道**如何从特定的自定义文件夹中获取所有图像**。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-15T06:03:30.797

请参阅我用来从自定义相册加载图像的代码。我使用相同的示例代码将我的图像存储在自定义相册中。

```
NSMutableArray *tempArray = [[NSMutableArray alloc] init];
    self.assetGroups = tempArray;

    library = [[ALAssetsLibrary alloc] init];      

    // Load Albums into assetGroups

        // Group enumerator Block
        void (^assetGroupEnumerator)(ALAssetsGroup *, BOOL *) = ^(ALAssetsGroup *group, BOOL *stop) 
        {
            if (group == nil) 
            {
                return;
            }
            if([[group valueForProperty:ALAssetsGroupPropertyName] isEqualToString:kAlbumName])
            {
                [self.assetGroups addObject:group];
                [self reloadTableView];
                return;
            }
        };

        // Group Enumerator Failure Block
        void (^assetGroupEnumberatorFailure)(NSError *) = ^(NSError *error) {

            CustomAlertView * alert = [[CustomAlertView alloc] initWithTitle:@"Error" message:[NSString stringWithFormat:@"Album Error: %@ - %@", [error localizedDescription], [error localizedRecoverySuggestion]] delegate:nil cancelButtonTitle:@"Ok" otherButtonTitles:nil];
            [alert show];

            NSLog(@"A problem occured %@", [error description]);                                     
        };  

        // Enumerate Albums
        [library enumerateGroupsWithTypes:ALAssetsGroupAll
                               usingBlock:assetGroupEnumerator 
                             failureBlock:assetGroupEnumberatorFailure]; 
```

这`kAlbumName`是一个包含自定义专辑名称的字符串 ivar。

**编辑：1**

上面的代码只是为您提供了现在选择所有照片的整个相册，以便从相册中获取这些照片，使用以下代码

```
[self.assetGroup enumerateAssetsUsingBlock:^(ALAsset *result, NSUInteger index, BOOL *stop) 
     {         
         if(result == nil) 
             return;
     CGRect viewFrames = kThumbSize;//CGRectMake(0, 0, 75, 75);
         UIImageView *assetImageView = [[UIImageView alloc] initWithFrame:viewFrames];
        [assetImageView setContentMode:UIViewContentModeScaleToFill];
        [assetImageView setImage:[UIImage imageWithCGImage:(__bridge CGImageRef)([result originalAsset])]];
     }]; 
```

**注意：**而不是`kThumbSize`定义你`CGRectMake()`的评论。

享受编码 :) 快乐的一天 :)

# java - 定制 SOAP 响应的 JAX-WS 前缀

> ID：12889943
> 
> 赞同：19
> 
> 时间：2012-10-15T05:48:25.613
> 
> 标签：java, soap, jaxb, jax-ws

## 目标

我正在为相当旧的（但遗憾的是不可更改的）接口实现 Web 服务。我有一个问题，调用我的服务的客户端在 SOAP 响应中需要某个命名空间，而我很难将其更改为匹配。

考虑一个hello world的例子，我想要这个：

```
<S:Envelope xmlns:S="http://schemas.xmlsoap.org/soap/envelope/">
   <S:Body>
      <ns2:helloResponse xmlns:ns2="http://test/">
         <return>Hello Catchwa!</return>
      </ns2:helloResponse>
   </S:Body>
</S:Envelope> 
```

看起来像这样：

```
<S:Envelope xmlns:S="http://schemas.xmlsoap.org/soap/envelope/">
   <S:Body>
      <customns:helloResponse xmlns:customns="http://test/">
         <return>Hello Catchwa!</return>
      </customns:helloResponse>
   </S:Body>
</S:Envelope> 
```

[我发现了与我在这里](https://stackoverflow.com/a/5719285/79450)尝试做的类似的事情，但我无法让类似的代码正确执行。（我想坚持使用 Metro 而不必更改为 cxf 或轴）

* * *

## 执行

我的实现[`JAXBContextFactory`](http://javasourcecode.org/html/open-source/jdk/jdk-6u23/com/sun/xml/internal/ws/developer/JAXBContextFactory.html)返回[`JAXBRIContext`](http://javasourcecode.org/html/open-source/jdk/jdk-6u23/com/sun/xml/internal/bind/api/JAXBRIContext.html)如下所示：

```
import com.sun.xml.bind.api.JAXBRIContext;
import com.sun.xml.bind.api.TypeReference;
import com.sun.xml.ws.api.model.SEIModel;
import com.sun.xml.ws.developer.JAXBContextFactory;
import java.util.ArrayList;
import java.util.List;
import javax.xml.bind.JAXBException;
import javax.xml.namespace.QName;

public class HelloJaxbContext implements JAXBContextFactory
{
  @Override
  public JAXBRIContext createJAXBContext(SEIModel seim, List<Class> classesToBind, List<TypeReference> typeReferences) throws JAXBException {
    List<Class> classList = new ArrayList<Class>();
    classList.addAll(classesToBind);

    List<TypeReference> refList = new ArrayList<TypeReference>();
    for (TypeReference tr : typeReferences) {
        refList.add(new TypeReference(new QName(tr.tagName.getNamespaceURI(), tr.tagName.getLocalPart(), "customns"), tr.type, tr.annotations));
    }
    return JAXBRIContext.newInstance(classList.toArray(new Class[classList.size()]), refList, null, seim.getTargetNamespace(), false, null);
  }  
} 
```

Web 服务的一些测试代码很简单：

```
import com.sun.xml.ws.developer.UsesJAXBContext;
import javax.jws.WebService;
import javax.jws.WebMethod;
import javax.jws.WebParam;

@WebService(serviceName = "Hello")
@UsesJAXBContext(value = HelloJaxbContext.class)
public class Hello
{
  @WebMethod(operationName = "hello")
  public String hello(@WebParam(name = "name") String txt)
  {
    return "Hello " + txt + "!";
  }
} 
```

* * *

## 问题

在使用 jaxws-rt 2.2.7（来自 Maven）的 Tomcat 7.0.32 和 Glassfish 3.1.2 中，上述代码不会影响我的 Web 服务输出（命名空间前缀仍然是“ns2”）。

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2012-10-18T09:56:51.160

如果您从旧服务的 WSDL 开始并使用 生成所有各种带有 JAXB 注释的请求和响应包装器类`wsimport`，那么在生成的包中您应该找到一个`package-info.java`诸如

```
@javax.xml.bind.annotation.XmlSchema(namespace = "http://test/")
package com.example.test; 
```

JAXB 为您提供了一种机制来建议`@XmlSchema`注释上的前缀映射，因此您可以尝试修改`package-info.java`为阅读

```
@javax.xml.bind.annotation.XmlSchema(namespace = "http://test/",
   xmlns = { 
      @javax.xml.bind.annotation.XmlNs(prefix = "customns", 
         namespaceURI="http://test/")
   }
)
package com.example.test; 
```

看看这是否对生成的消息有任何影响。这还具有纯 JAXB 规范的优点（即不依赖于 RI 特定的自定义上下文工厂）。

如果您需要重新运行，您可以通过将选项传递给`wsimport`来防止它覆盖您的修改（这告诉它不要生成 a而是将所有必要的设置放在类级注释上）。具体如何执行取决于您的运行方式。`package-info``-npa``xjc``package-info.java``namespace``wsimport`

命令行：

```
wsimport -B-npa .... 
```

蚂蚁：

```
<wsimport wsdl="..." destdir="..." .... >
  <xjcarg value="-npa" />
</wsimport> 
```

马文：

```
<plugin>
  <groupId>org.jvnet.jax-ws-commons</groupId>
  <artifactId>jaxws-maven-plugin</artifactId>
  <version>2.2</version>
  <executions>
    <execution>
      <goals>
        <goal>wsimport</goal>
      </goals>
      <configuration>
        <xjcArgs>
          <xjcArg>-npa</xjcArg>
        </xjcArgs>
      </configuration>
    </execution>
  </executions>
</plugin> 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-18T05:49:59.907

实现您想要实现的目标的推荐/标准方法是使用 [SOAPMessage Handler](http://jax-ws.java.net/articles/handlers_introduction.html)。它们类似于 java web 应用程序过滤器（理论上也可以在这里工作），因为它们用于实现[责任链模式](http://www.javaworld.com/javaworld/jw-08-2004/jw-0816-chain.html)。例如，在你的情况下，你可以有这个：

```
import java.util.Set;
import java.util.logging.Level;
import java.util.logging.Logger;
import javax.xml.namespace.QName;
import javax.xml.soap.SOAPBody;
import javax.xml.soap.SOAPEnvelope;
import javax.xml.soap.SOAPException;
import javax.xml.ws.handler.MessageContext;
import javax.xml.ws.handler.soap.SOAPHandler;
import javax.xml.ws.handler.soap.SOAPMessageContext;

public class SOAPBodyHandler implements SOAPHandler<SOAPMessageContext> {

static final String DESIRED_NS_PREFIX = "customns";
static final String DESIRED_NS_URI = "http://test/";
static final String UNWANTED_NS_PREFIX = "ns";

@Override
public Set<QName> getHeaders() {
   //do nothing
   return null;
}

@Override
public boolean handleMessage(SOAPMessageContext context) {
    if ((boolean) context.get(MessageContext.MESSAGE_OUTBOUND_PROPERTY)) { //Check here that the message being intercepted is an outbound message from your service, otherwise ignore.
        try {
            SOAPEnvelope msg = context.getMessage().getSOAPPart().getEnvelope(); //get the SOAP Message envelope
            SOAPBody body = msg.getBody();
            body.removeNamespaceDeclaration(UNWANTED_NS_PREFIX);
            body.addNamespaceDeclaration(DESIRED_NS_PREFIX, DESIRED_NS_URI); 
        } catch (SOAPException ex) {
            Logger.getLogger(SOAPBodyHandler.class.getName()).log(Level.SEVERE, null, ex);
        }
    }
    return true; //indicates to the context to proceed with (normal)message processing
}

@Override
public boolean handleFault(SOAPMessageContext context) {
      //do nothing
   return null;
}

@Override
public void close(MessageContext context) {
      //do nothing

} 
```

}

在您的服务实现 Bean 类声明中，添加

```
 @HandlerChain(file = "handler-chain.xml") 
```

上面的注释是对实际允许您的处理程序启动的配置文件的引用。配置文件看起来像这样

```
 <?xml version="1.0" encoding="UTF-8" standalone="yes"?>
     <javaee:handler-chains xmlns:javaee="http://java.sun.com/xml/ns/javaee" 
        xmlns:xsd="http://www.w3.org/2001/XMLSchema">
        <javaee:handler-chain>
           <javaee:handler>
              <javaee:handler-class>your.handler.FQN.here</javaee:handler-class>
           </javaee:handler>
        </javaee:handler-chain>
     </javaee:handler-chains> 
```

在家里试试这个。此特定代码尚未经过测试

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-18T14:58:17.043

在参考实现中，我这样做是为了最终使它工作。请参阅[使用 Metro 编组 JAXB 类时忽略的 schemaLocation](https://stackoverflow.com/questions/12778748/schemalocation-ignored-when-marshalling-jaxb-classes-using-metro)

# wcf - 远程服务器返回错误：(413) Request Entity Too Large + WCF

> ID：12889947
> 
> 赞同：5
> 
> 时间：2012-10-15T05:48:40.393
> 
> 标签：wcf

可能是这个问题是重复的。我有一个 WCF 上传服务，客户端通过该服务将特定文件上传到服务器。

我可以通过该服务成功发送大小为 12MB 的文件。

现在我已经将一个自我认证的 SSL 证书集成到 WCF 服务中。在没有 SSL 的情况下工作正常的同一应用程序现在返回一个错误，指出远程服务器返回了一个错误 (413) 请求实体太大。

我该如何解决这个错误这与 SSL 有关吗？

我哪里错了。

```
<system.serviceModel>

<bindings>
  <basicHttpBinding>
    <binding name="customHttpBinding" openTimeout="00:10:00" sendTimeout="00:10:00"
     maxReceivedMessageSize="10067108864"
      messageEncoding="Mtom" transferMode="Streamed">          
      <security mode="Transport">
        <transport clientCredentialType="Certificate" />
      </security>
    </binding>
  </basicHttpBinding>
</bindings>

<behaviors>
  <serviceBehaviors>
    <behavior name="customServiceBehavior">
      <serviceMetadata httpsGetEnabled="true"/>
      <serviceDebug includeExceptionDetailInFaults="true"/>

      <serviceCredentials>
        <clientCertificate>
          <authentication certificateValidationMode="PeerOrChainTrust" trustedStoreLocation="LocalMachine"/>
        </clientCertificate>
      </serviceCredentials>

    </behavior>
  </serviceBehaviors>
</behaviors>

<services>
  <service behaviorConfiguration="customServiceBehavior" name="FileTransferService">
    <endpoint address="" binding="basicHttpBinding" bindingConfiguration="customHttpBinding"
      contract="IFileTransferService" />
  </service>
</services> 
```

谢谢

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-06T20:49:07.393

这似乎是**使用 WCF over HTTPS修复 413 Request Entity too large 错误的门票**

```
C:\Windows\System32\inetsrv>appcmd.exe set config "Default Web Site" -section:system.webServer/serverRunTime /uploadReadAheadSize:10485760 /commit:apphost 
```

原因似乎与 IIS 如何通过 SSL 处理传入请求的身份验证有关。

另一个资源：http: [//blogs.msdn.com/b/jiruss/archive/2007/04/13/http-413-request-entity-too-large-can-t-upload-large-files-using-iis6 .aspx](http://blogs.msdn.com/b/jiruss/archive/2007/04/13/http-413-request-entity-too-large-can-t-upload-large-files-using-iis6.aspx)

我下午的大部分时间都在跟踪这个问题……许多其他建议对我没有多大帮助，但这确实有帮助，所以希望这能让你解决问题。

# security - 无法连接到 WebSphere MQ 7.1 中的队列管理器

> ID：12889953
> 
> 赞同：4
> 
> 时间：2012-10-15T05:49:03.257
> 
> 标签：security, ibm-mq, mq, userid, messagebroker

我在 Linux 平台上安装了 WebSphere MQ 7.1，之后我安装了 WebSphere Message Broker 8.0.0.1。现在，当我尝试创建执行组时，出现异常：原因代码 2035。此异常表明用户未经授权连接到队列管理器。我在`mqm`组中添加了这个用户。我在使用 MQ 7.0.x 时没有遇到任何此类问题。我搜索了很多，才知道在 MQ 7.1 中有用户 ID 阻塞。但是，我希望这个用户能够创建执行组，我该怎么做？请指教。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-15T06:02:59.717

MQ v7.1 中的 MQ 安全性得到了很大改进，与以前的 MQ 版本不同。在 MQ v7.1 中，默认情况下都是 SYSTEM。*渠道被封锁。如果您尝试使用这些系统中的任何一个。*通道然后您将获得 2035，即 MQRC_NOT_AUTHORIZED。推荐的方法是为代理创建自己的 SVRCONN 通道，并创建通道认证记录以允许用户访问队列管理器。

请参阅此[链接](https://stackoverflow.com/questions/12108372/issues-with-connecting-to-ibm-mq-7-5-using-java)以获取 T.Rob 对类似问题的详细回答。

**更新：**

SVRCONN 通道定义队列管理器的端点，这意味着客户端连接到队列管理器所需的连接信息。客户端应用程序使用这种类型的通道向队列或主题发送和接收消息。

Message Broker 工具包是一个 GUI，您可以使用它来管理消息代理，例如创建执行组、创建流程、部署 bar 文件等。工具包在 Windows 上可用，我猜它在 Linux 上可用。

我知道 MB 工具包需要 SYSTEM.BRK.CONFIG 通道，这是一个连接到队列管理器的 SVRCONN 通道。我认为这是您需要授权以允许 Message Broker 连接到 MQ 的通道。您能否检查是否是这种情况，如果是，则为该频道创建频道身份验证记录？

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-10-16T12:35:20.163

如果您在 V7.1 或更高版本中创建新的 QMgr，它会附带以下默认 CHLAUTH 规则：

```
SET CHLAUTH(SYSTEM.ADMIN.SVRCONN)           TYPE(ADDRESSMAP)
    DESCR(Default rule to allow MQ Explorer access)
    ADDRESS(*) 
    MCAUSER( )                              USERSRC(CHANNEL)

SET CHLAUTH(SYSTEM.*)                       TYPE(ADDRESSMAP)
    DESCR(Default rule to disable all SYSTEM channels)
    ADDRESS(*)
    MCAUSER( )                              USERSRC(NOACCESS)

SET CHLAUTH(*)                              TYPE(BLOCKUSER)
    DESCR(Default rule to disallow privileged users)
    USERLIST(*MQADMIN) 
```

底部的那个告诉 QMgr “如果有人尝试使用管理用户 ID 通过 SVRCONN 连接，则在所有情况下都阻止连接。”

要允许来自 Broker Toolkit 的连接，您有以下两种选择：

1.  从 mqm 组中删除 mqbrkrs。这允许它在不触发阻止管理员用户的 CHLAUTH 规则的情况下进行连接。您当然需要将 mqbrkrs 组的授权授予它需要访问的所有代理和应用程序队列，因为它不再是 MQ 管理员。
2.  覆盖 CHLAUTH 规则以允许代理工具包以管理员身份连接 SYSTEM.BROKER.CONFIG 通道。

作为一名安全专家，我赞成第一种选择。MQ 管理员可以管理代理是不可避免的。但是，可以避免允许代理（以及所有代理流）管理 QMgr。

但是，如果您希望采用第二条路线，则需要覆盖阻止管理员访问的 CHLAUTH 规则。有几种方法可以做到这一点。**您可以删除该规则，但这会将您的所有**频道打开给管理员连接。更精确的方法是为管理员要连接的通道提供规则。例如：

```
SET CHLAUTH(SYSTEM.BKR.CONFIG) TYPE(BLOCKUSER) +
    USERLIST('*NOACCESS') 
```

由于 WMQ 应用最具体的规则，默认规则被新规则覆盖，但仅适用于`SYSTEM.BKR.CONFIG`通道。`BLOCKUSER`规则语法允许我们指定拒绝谁而不是允许谁，它采用用户 ID 而不是组 ID 。为了允许管理员访问，有必要指定*一些*不是`*MQADMIN`. 我之所以选择`*NOACCESS`它是因为它不能是实际的用户 ID，并且是 WMQ 在其他地方使用的保留字。`nobody`您可以轻松使用任何用户 ID ，例如`mqm`. （阻止`mqm`将允许`mqbrkrs`但不允许，`mqm`但由于`mqbrkrs`在`mqm`组中，它不会限制 mqbrkrs 管理 QMgr。）

最后，请注意，任何允许管理员访问的通道都应该经过严格的身份验证。如果您设置的唯一 CHLAUTH 规则是上述规则，那么*任何*拥有到 QMgr 的网络路由的人都可以通过在连接上声明`mqbrkrs`用户 ID 来连接该通道。连接后，他们将完全控制 QMgr，并能够使用`mqm`或`mqbrkrs`用户 ID 远程匿名执行命令。至少添加一个 CHLAUTH 规则以通过 IP 地址过滤此通道上的连接。或者，更好的是，使用 SSL 并通过证书专有名称过滤连接。

# java - 想要在 primefaces 中以水平方式显示错误消息

> ID：12889954
> 
> 赞同：1
> 
> 时间：2012-10-15T05:49:05.237
> 
> 标签：java, primefaces

我正在使用支持 bean 验证我的表单，并从那里使用标签 p:messages 在 xhtml 页面中显示错误消息

```
![error messages displaying in vertical][1] 
```

我在页面底部收到错误消息。我有 20 条错误消息，它们显示为

```
error 1

error 2

error 3

error 4

error 5

error 5

etc... 
```

我想以水平方式显示这些消息，例如

错误 1 ​​错误 2 错误 3 错误 4
错误 5 错误 6 错误 7 错误 7 。
. . .

我该怎么做

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-15T06:46:24.787

我不知道您的要求，但我认为在同一行显示不同的错误消息并不是最好的方法。如果您将这些消息显示为验证结果，请考虑使用[PrimeFaces 消息](http://www.primefaces.org/showcase/ui/messages.jsf)组件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-15T21:54:22.673

您可以尝试`escape='false'`在您的 p:message 组件上使用。

来自 primefaces 文档

> escape - 定义 html 是否会被转义。

这将允许您使用 html 来格式化您想要的消息。

# javascript - 无法在页面离开“onbeforeunload”事件中获得自定义消息警报

> ID：12889955
> 
> 赞同：1
> 
> 时间：2012-10-15T05:49:05.863
> 
> 标签：javascript, ajax, onbeforeunload

我放了以下脚本以防止离开页面同时处理步骤

```
<script language="JavaScript">
window.onbeforeunload = confirmExit;

function confirmExit()
{
JQObj.ajax({
    type: "POST",
    url: "<?php echo $this->url(array('controller'=>'question','action'=>'cleaSess'), 'default', true); ?>",
    success: function(data){}
});

return "You have attempted to leave this page.  If you have made any changes to the fields without clicking the Save button, your changes will be lost.  Are you sure you want to exit this page?";
}

</script> 
```

但是每次我收到默认警报消息而不是设置自定义警报消息时，

我想在最终用户单击“离开页面”按钮时调用 ajax 调用，但是在上面的脚本中，在单击离开按钮之前调用 ajax 调用，

当且仅当人们离开页面时，任何人都有想法或逻辑来调用 ajax。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-10-21T19:02:08.753

您可以使用“卸载”事件来发送 AJAX 请求：

```
<script type="text/javascript">
    window.onbeforeunload = function() {
        return "You have attempted to leave this page. "
               + "If you have made any changes to the fields without "
               + "clicking the Save button, your changes will be lost. "
               + "Are you sure you want to exit this page?";
    };

    window.onunload = function() {
        // Ending up here means that the user chose to leave
        JQObj.ajax({
            type: "POST",
            url: "http://your.url.goes/here",
            success: function() {}
        });
    };
</script> 
```

另请参阅这个**[简短的演示](http://jsfiddle.net/ExpertSystem/DK65q/)**。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-15T05:53:26.827

你应该尝试这样的事情：

```
window.onbeforeunload = displayConfirm;

function displayConfirm()
{
    if (confirm("You have attempted to leave this page.  If you have made any changes to the fields without clicking the Save button, your changes will be lost.  Are you sure you want to exit this page?"))
    {
        confirmExit();
    }
} 
```

# mysql - 使用 CONCAT 函数更新 mysql 字段？

> ID：12889965
> 
> 赞同：1
> 
> 时间：2012-10-15T05:50:06.773
> 
> 标签：mysql, sql

我需要一个简单的查询来更新mysql字段的值和一些修改，例如如果字段有值（3,4,5）我可以添加（,6），这以防万一它有值并且如果它的NULL然后更新带有“，”的字段

我在网上搜索并找到名为 CONCAT 的 mysql 函数，它返回由连接参数产生的字符串。

我试过这个，但这没有用

```
UPDATE groups SET SubsID = CONCAT(SubsID,",5") WHERE GroupID = 2 
```

它没有返回任何问题，但 0 行受影响且字段未更新

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-15T06:26:42.960

```
UPDATE GROUPS
SET SubsID = CASE WHEN SubsID IS NULL THEN '6'
                  ELSE CONCAT(SubsID, ',6')
             END
WHERE GroupID = 2 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-15T05:52:09.887

[`COALESCE`](https://dev.mysql.com/doc/refman/5.0/en/comparison-operators.html#function_coalesce)在连接之前添加

```
UPDATE groups 
SET SubsID = CONCAT(COALESCE(SubsID,''),",5") 
WHERE GroupID = 2 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-15T05:55:18.240

关系数据库中的 CSV 数据是一个糟糕的主意。相反，您应该使用[联结表](http://en.wikipedia.org/wiki/Junction_table)来存储和之间*的多对多*关系。`groups``subs`

例如

```
CREATE TABLE group_to_sub (
    `GroupID` INT NOT NULL REFERENCES `groups` (`GroupID`),
    `SubID` INT NOT NULL REFERENCES `subs` (`SubID`),
    PRIMARY KEY (`GroupID`, `SubID`)
) ENGINE innodb;

INSERT INTO group_to_sub (GroupID, SubID) VALUES (2, 5); 
```

* * *

## 回答 #4

> 赞同：-2
> 
> 时间：2012-10-15T05:57:05.493

查询错误..试试下面的

```
UPDATE groups SET SubsID = CONCAT(SubsID,',5') WHERE GroupID = 2; 
```

并确保 groupid 2 存在

# c++ - 在 C++ 中的类构造函数中初始化结构数组

> ID：12889972
> 
> 赞同：0
> 
> 时间：2012-10-15T05:51:19.247
> 
> 标签：c++, arrays, constructor, struct, initialization

我的头文件中有一个结构

```
 struct Foo{
     timeval t;
     struct Bar b;
 } 
```

而且我在同一个头文件中还有另一个用于 Bar 的，我也在头文件中声明了一个类。

```
 class Layer{
      public:
              ...
              ...
      private:
              struct Foo myarray[];
 } 
```

我想在我的头文件中声明一个 Foo 数组并在我的类构造函数中初始化它

```
 Layer::Layer(unsigned int size)
 {
       myarray = new Foo[size];
 } 
```

但是编译时会返回错误。错误：将 'Foo*' 分配给 'Foo [0]' 时类型不兼容</p>

知道如何解决这个问题吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-15T05:55:25.907

这不是初始化数组，而是分配它。要初始化它，您需要一个成员初始化器：

```
Layer::Layer(unsigned int size) : myarray(new Foo[size]){} 
```

但是，这不会编译，因为您有一个数组，需要使用编译时已知的一个大小对其进行初始化（如果未指定维度，则通过初始化列表），并且该大小不能更改。改用向量：

```
std::vector<Foo> myarray;

Layer::Layer(unsigned int size) : myarray(size){} 
```

如果向量不是一个选项，您至少需要一个指针才能指向`new`它，但是随后开始应用三/五规则的东西，这一切都变得一团糟。如果可以，请坚持使用矢量。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-15T05:53:23.807

`struct Foo myarray[];``struct Foo *myarray;`如果您打算以动态方式使用它，应该是这样。否则，如果您希望它是未指定的静态，我**认为**它必须有一个初始化列表。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-16T09:30:06.210

将 myArray 的声明更改为：

```
struct Foo * myArray; 
```

您可以使用索引运算符（例如 myarray[index] ）正常访问数组。您必须确保不会越界访问它，即 index 不得小于 0 或大于*size*：

```
myarray = new Foo[size];
myarray[0];  // Fine
myarray[-1];  // Crash!

myarray[size - 1];  // Also fine
myarray[size];  //  Another crash! 
```

您还必须确保在删除它时使用 delete[] 运算符而不是普通的删除运算符：

```
delete[] Foo; 
```

您的代码失败的原因是编译器需要在编译时知道数组的大小，而您正试图在运行时分配大小。将其更改为指针会告诉编译器您打算指向内存地址。当您使用以下方法创建数组时：

```
myarray = new Foo[size]; 
```

在内存中分配了一个新数组，*myarray*现在指向该数组的地址。

# javascript - 使用 Javascript 或 Jquery 或 CSS 的火炬或灯光效果？

> ID：12889973
> 
> 赞同：-3
> 
> 时间：2012-10-15T05:51:23.337
> 
> 标签：javascript, jquery, css, jquery-effects

我需要在不使用 Flash 的情况下对网页上的图像/div 进行手电筒或光源效果。

这类似于本网站主横幅上的光路效果：

[http://online.fullsail.edu/degrees/media-communications-bachelors?mnc=2602](http://online.fullsail.edu/degrees/media-communications-bachelors?mnc=2602)

请指教。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-15T05:55:55.570

您可以使用 CSS 执行以下操作：

[http://jsfiddle.net/bFXzr/](http://jsfiddle.net/bFXzr/)

**编辑**：按照评论中的要求发布代码：

HTML

`<div class="box"></div>`​</p>

CSS：

```
body {
    background:#000;
}

.box {
    margin:50px;
    width:150px;
    height:150px;
    border-radius:50px;
    background:#ef5d22;
}

.box:hover {
    margin:50px;
    width:150px;
    height:150px;
    background:#ef5d22;
    box-shadow: 0 0 20px #fff;
}

​ 
```

希望有帮助！

# javascript - 交互式报告 Oracle 顶点将字符串属性传递给 JavaScript 变量

> ID：12889976
> 
> 赞同：3
> 
> 时间：2012-10-15T05:51:48.553
> 
> 标签：javascript, oracle-apex

我在 Oracle Apex 4.1 中有一个交互式报告。当我单击该交互式报告上的链接按钮时，我需要将列值传递给顶点项目。我在谷歌上搜索并找到了一个解决方案：

```
onclick="$s('P4_PAGEITEM', #COLUMN_NAME#); return false;" 
```

但它似乎只适用于数字。当我尝试传递一个字符串值时，它总是返回`wrong number format`.

另外，我可以从 JavaScript 访问交互式报告列值吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-15T07:32:48.387

`#COLUMN_NAME#`是一个替换字符串。它将从字面上将该行的列值放入字符串中。
当值为数字时，会生成

```
onclick="$s('P4_PAGEITEM', 9875); return false;" 
```

现在，如果该值是一个字符串

```
onclick="$s('P4_PAGEITEM', ALLEN); return false;" 
```

要解决这个问题，请通过添加引号来更改您的链接`#COLUMN_NAME#`

```
onclick="$s('P4_PAGEITEM', '#COLUMN_NAME#'); return false;" 
```

* * *

> 另外，我可以从 JavaScript 访问交互式报告列值吗？

您看到的页面上的所有 HTML 都可以从 javascript/jQuery 访问，并且只需要您使用正确的选择器。不过，您确实需要了解 HTML 和 DOM。
一个好的开始是始终使用带有正确工具的浏览器，这将允许您检查元素、html、dom、javascript、css... 一个例子是 Firefox 的 Firebug 插件。
报告中的目标值要求您了解其标记，您可以通过检查生成的页面 html 找到该标记。请记住，页面和区域模板可能会有所不同，具体取决于您使用的主题。

如果您对此感到困惑，请发布一个关于它的新问题并提供 html 并解释您想要了解的内容。此问题是在表中定位值的示例：[How to select a row element value from Oracle APEX 4 Classic Report (row element from a table tags)](https://stackoverflow.com/questions/11269577/how-to-select-a-row-element-value-from-oracle-apex-4-classic-report-row-element)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-15T07:27:43.567

您是否尝试过在列值周围使用引号？：

```
onclick="$s('P4_PAGEITEM', '#COLUMN_NAME#'); return false;" 
```

这个对我有用。

# windows-phone-7 - 如何在 Wp7 中处理列表选择器

> ID：12889977
> 
> 赞同：0
> 
> 时间：2012-10-15T05:51:54.043
> 
> 标签：windows-phone-7

我有一个列表选择器，它显示在我的手机应用程序页面中。我在课程开始时创建了列表选择器，并且我在 phoneApplicationPage_loaded() 方法中添加了列表选择器。当页面第一次启动时，场景完美运行，并进一步导航到第二页。当我导航回上一页（包含列表选择器）时，它显示发生无效操作异常，说明“元素已经是另一个元素的子元素”。

我想知道如何处理这些情况？

代码如下

命名空间 My.Design { 公共部分类 myclass ：PhoneApplicationPage {

```
 String[] values = null;
    ListPicker picker = new ListPicker();
    StackPanel sp;
    StackPanel mainFrame;
    String statementInfo = "";

    public myclass()
    {
        InitializeComponent();  
    }

    private void PhoneApplicationPage_Loaded(object sender, RoutedEventArgs e)
    {
        Debug.WriteLine("Phone Application Page Loaded_>>>>>>");
        List<String> source = new List<String>(); 
        displayUI();                   

    }

    public void displayUI()
    {
        Debug.WriteLine("About to display UI in miniStatement");
        Debug.WriteLine("<-------------Data--------->");
        Debug.WriteLine(statementInfo);
        Debug.WriteLine("<-------------Data--------->");
        int count = VisualTreeHelper.GetChildrenCount(this);
        if (count > 0)
        {
            for (int i = 0; i < count; i++)
            {
                UIElement child = (UIElement)VisualTreeHelper.GetChild(this, i);
                string childTypeName = child.GetType().ToString();
                Debug.WriteLine("Elements in this Child" + childTypeName);
            }
        }
        List<String> source = new List<String>();

        String[] allParams = ItemString.Split('@');
        source.Add("PleaseSelect");
        for (int i = 0; i < allParams.Length; i++)
        {
            Debug.WriteLine("All Params Length" + allParams[i]);
            if (!(allParams[i].Equals("") && (!allParams[i].Equals(null))))
            {
                if (values != null)
                {
                    Debug.WriteLine("Values length" + values.Length);
                    values[values.Length] = allParams[i];
                }
                else
                {
                    Debug.WriteLine("Allparams Length" + allParams[i]);
                    source.Add(allParams[i]);
                }

            }

        }
        //picker = new ListPicker();
        this.picker.ItemsSource = source;

        mainFrame = new StackPanel();
        TextBlock box = new TextBlock();
        box.Text = "> DEmoClass";
        box.FontSize = 40;

        mainFrame.Children.Add(box);
        Canvas canvas = new Canvas();
        StackPanel sp = new StackPanel();
        TextBlock box1 = new TextBlock();
        box1.Text = "Number";
        box1.HorizontalAlignment = HorizontalAlignment.Center;
        box1.FontSize = 40;
        SolidColorBrush scb1 = new SolidColorBrush(Colors.Black);
        box1.Foreground = scb1;
        sp.Children.Add(box1);
        picker.Width = 400;
        picker.Height = 150;
        sp.Children.Add(picker);
        Canvas.SetTop(sp, 150);
        canvas.Children.Add(sp);
        mainFrame.Children.Add(canvas);
        this.ContentPanel1.Children.Add(mainFrame);
    }
    protected override void OnNavigatingFrom(System.Windows.Navigation.NavigatingCancelEventArgs e)
    {
        /*
        Debug.WriteLine("OnNavigatingFrom>>>.>>MainPage");
        if (sp != null)
        {
            sp.Children.Remove(picker);
        }*/
        base.OnNavigatingFrom(e);
    }

} 
```

}

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-15T06:25:25.860

如果您不打算在从第二页导航回来后更新列表选择器，请在 Loaded 事件处理程序中添加以下行

```
private void PhoneApplicationPage_Loaded(object sender, RoutedEventArgs e)
{
    this.Loaded -= PhoneApplicationPage_Loaded;
    Debug.WriteLine("Phone Application Page Loaded_>>>>>>");
    List<String> source = new List<String>(); 
    displayUI();                   

} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-15T07:53:54.453

我不知道为什么当应用程序从墓碑恢复时你不能使用这种情况。

发生错误是因为当您返回页面时，加载的事件再次运行。

顺便一提，

Application_Activated 的参数可以告诉您应用程序是否从墓碑中恢复--。

如果（e.IsApplicationInstancePreserved）
{

```
 IsTombstoning = false; 
```

}
其他
{

```
 IsTombstoning = true; 
```

}

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-17T05:19:34.553

我很好奇你为什么用代码创建它而不是把它留在 XAML 中？此外，错误来自您尝试将其两次添加到可能只有一个内容元素的位置。您要解决的更高级别的问题是什么？

# android - android表格布局中的右对齐列

> ID：12889979
> 
> 赞同：21
> 
> 时间：2012-10-15T05:52:04.993
> 
> 标签：android, android-tablelayout

我想绘制一个表格，其中最后一列应位于表格的最右侧。

这是表格行的样子：

```
Admin (2)New
Network (2)New 
```

这就是它应该的样子：

```
Admin (2)         New
Network (2)       New 
```

XML:

```
<?xml version="1.0" encoding="utf-8"?>
<!-- row.xml -->
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent" android:layout_height="45dp"
    android:gravity="center" android:background="@color/list_bg">

    <TableLayout android:layout_width="fill_parent"
        android:layout_height="wrap_content">

        <TableRow>

            <ImageView android:id="@+id/t1" android:layout_width="wrap_content"
                android:layout_height="wrap_content" />

            <TextView android:id="@+id/t2" android:typeface="normal"
                android:singleLine="true" android:textSize="14sp" android:textStyle="normal"
                android:layout_width="wrap_content" android:textColor="#000000"
                android:layout_height="wrap_content" />
            <TextView android:id="@+id/t10" android:typeface="normal"
                android:singleLine="true" android:text=" " android:textSize="14sp"
                android:textStyle="normal" android:layout_width="wrap_content"
                android:textColor="#000000" android:layout_height="wrap_content" />
            <TextView android:id="@+id/t4" android:typeface="normal"
                android:visibility="gone" android:singleLine="true" android:text="("
                android:textSize="14sp" android:textStyle="normal"
                android:layout_width="wrap_content" android:textColor="#000000"
                android:layout_height="wrap_content" />
            <TextView android:id="@+id/t5" android:typeface="normal"
                android:visibility="gone" android:singleLine="true"
                android:textSize="14sp" android:textStyle="normal"
                android:layout_width="wrap_content" android:textColor="#000000"
                android:layout_height="wrap_content" />
            <TextView android:id="@+id/t6" android:typeface="normal"
                android:visibility="gone" android:singleLine="true" android:text=")"
                android:textSize="14sp" android:textStyle="normal"
                android:layout_width="wrap_content" android:textColor="#000000"
                android:layout_height="wrap_content" />
            <ImageView android:id="@+id/t3" android:layout_width="wrap_content"
                android:layout_height="wrap_content" />
            <TextView android:id="@+id/t7" android:typeface="normal"
                android:visibility="visible" android:singleLine="true" android:text="New"
                android:textSize="14sp"
                android:textStyle="normal" android:layout_width="wrap_content"
                android:textColor="#000000" android:layout_height="wrap_content" />

        </TableRow>

    </TableLayout>

</RelativeLayout> 
```

在这个 xml t7 应该在桌子的最右边，怎么做？？？

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2012-10-15T06:04:24.973

在这里你必须做

1.  将表格行宽设置为`fill_parent`

2.  并将其设置为`android:layout_gravity="right"`您想要将其与表格行对齐的文本视图

    - - 或者 - -

1.  将权重添加到表格行内的文本视图，以便它们可以按照您的需要对齐。

* * *

## 回答 #2

> 赞同：23
> 
> 时间：2012-10-15T06:15:13.900

1.  **android:stretchColumns="x"**其中 x 是您要填充的列
2.  **android:layout_width="fill_parent"**确保一切都填满屏幕
3.  **android:layout_gravity="right"**用于“x”列中的视图组件

示例（伪代码）：

```
<TableLayout
    android:layout_width="fill_parent" 
    android:layout_height="wrap_content" 
    android:stretchColumns="1">

    <TableRow>
        <TextView android:text="Left Column" />
        <TextView android:layout_gravity="right|center_vertical" android:text="Right Adjusted Column" />
    </TableRow>

</TableLayout> 
```

# java - 如果解析后未找到数据，如何显示消息

> ID：12889983
> 
> 赞同：1
> 
> 时间：2012-10-15T05:52:11.107
> 
> 标签：java, android

```
public class circularlistparsing extends ActivityGroup {

    public int currentPage = 1;
    public ListView lisView1;
    static final String KEY_ITEM = "docdetails";
    static final String KEY_ITEM2 = "info";
    static final String KEY_NAME1 = "";
    static final String KEY_NAME = "heading";
    static final String KEY_DATE = "date";
    public Button btnNext;
    public Button btnPre;
    public static String url = "http://dev.taxmann.com/TaxmannService/TaxmannService.asmx/GetCircularList";
    TextView txtreord;
    TextView totalpage;
    TextView pagenumber;
    ProgressDialog dialog;
    TextView title;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);
        txtreord = (TextView) findViewById(R.id.recored);
        totalpage = (TextView) findViewById(R.id.totalpage);
        pagenumber = (TextView) findViewById(R.id.pagenumber);
        title = (TextView) findViewById(R.id.title);

        title.setText("Cirrcular");
        // listView1
        lisView1 = (ListView) findViewById(R.id.listView1);

        // Next
        btnNext = (Button) findViewById(R.id.btnNext);
        // Perform action on click
        btnNext.setOnClickListener(new View.OnClickListener() {
            public void onClick(View v) {
                currentPage = currentPage + 1;

                // new YourTask().execute();
                ShowData();
                pagenumber.setText("Of" + currentPage + "]");
            }
        });

        // Previous
        btnPre = (Button) findViewById(R.id.btnPre);
        // Perform action on click
        btnPre.setOnClickListener(new View.OnClickListener() {
            public void onClick(View v) {
                currentPage = currentPage - 1;

                // new YourTask().execute();
                ShowData();
                pagenumber.setText("Of" + currentPage + "]");
            }
        });

        ShowData();
    }

    public void ShowData() {
        XMLParser parser = new XMLParser();
        String xml = parser.getXmlFromUrl(url); // getting XML

        Document doc = parser.getDomElement(xml); // getting DOM element

        NodeList nl = doc.getElementsByTagName(KEY_ITEM);

        NodeList n2 = doc.getElementsByTagName(KEY_ITEM2);

        int displayPerPage = 10; // Per Page
        int TotalRows = nl.getLength();

        txtreord.setText(TotalRows + "Records|"); // number of records

        int indexRowStart = ((displayPerPage * currentPage) - displayPerPage);
        int TotalPage = 0;
        if (TotalRows <= displayPerPage) {
            TotalPage = 1;
        } else if ((TotalRows % displayPerPage) == 0) {
            TotalPage = (TotalRows / displayPerPage);
        } else {
            TotalPage = (TotalRows / displayPerPage) + 1; // 7
            TotalPage = (int) TotalPage; // 7
        }

        totalpage.setText("Page[" + TotalPage);

        int indexRowEnd = displayPerPage * currentPage; // 5
        if (indexRowEnd > TotalRows) {
            indexRowEnd = TotalRows;
        }

        // Disabled Button Next
        if (currentPage >= TotalPage) {
            btnNext.setEnabled(false);
        } else {
            btnNext.setEnabled(true);
        }

        // Disabled Button Previos
        if (currentPage <= 1) {
            btnPre.setEnabled(false);
        } else {
            btnPre.setEnabled(true);
        }

        // Load Data from Index
        int RowID = 1;
        ArrayList<HashMap<String, String>> menuItems = new ArrayList<HashMap<String, String>>();
        HashMap<String, String> map;

        // RowID
        if (currentPage > 1) {
            RowID = (displayPerPage * (currentPage - 1)) + 1;
        }

        for (int i = indexRowStart; i < indexRowEnd; i++) {
            Element e = (Element) nl.item(i);

            Element e2 = (Element) n2.item(i);

            String date = e2.getAttribute(KEY_DATE);
            // adding each child node to HashMap key => value

            map = new HashMap<String, String>();
            map.put("RowID", String.valueOf(RowID));

            map.put(KEY_DATE, date);

            String mytime = date;
            SimpleDateFormat dateFormat = new SimpleDateFormat("yyyymmdd");
            Date myDate = null;
            try {
                myDate = dateFormat.parse(mytime);

            } catch (ParseException t) {
                t.printStackTrace();
            } catch (java.text.ParseException t) {
                // TODO Auto-generated catch block
                t.printStackTrace();
            }

            SimpleDateFormat timeFormat = new SimpleDateFormat("yyyy-MM-dd");
            String finalDate = timeFormat.format(myDate);

            // System.out.println("rrrrrrrrrrrrr"+finalDate);

            String Heading = parser.getValue(e, KEY_NAME);

            int a = Heading.indexOf("|");
            String beforeSubString = Heading.substring(0, a);
            String afterSubString = Heading.substring(a, Heading.length())
                    .replace("|", "") + "[" + finalDate + "]";
            // String
            // final1="<b>"+beforeSubString+"<b>"+"|"+afterSubString.replace("|",
            // "|\n")
            // .replace("|", "");
            // String k=Html.fromHtml(final1).toString();
            //
            // Html.fromHtml(final1);

            map.put(KEY_NAME, beforeSubString);
            map.put(KEY_NAME1, afterSubString);

            // adding HashList to ArrayList
            menuItems.add(map);

            RowID = RowID + 1;

        }

        SimpleAdapter sAdap;
        sAdap = new SimpleAdapter(circularlistparsing.this, menuItems,
                R.layout.list_item,
                new String[] { "RowID", KEY_NAME1, KEY_NAME }, new int[] {
                        R.id.ColRowID, R.id.ColName, R.id.textView1 });
        lisView1.setAdapter(sAdap);

        lisView1.setOnItemClickListener(new OnItemClickListener() {

            @Override
            public void onItemClick(AdapterView<?> arg0, View arg1, int arg2,
                    long arg3) {
                // TODO Auto-generated method stub

                Intent i = new Intent(circularlistparsing.this, detail.class);
                // sending data to new activity
                // i.putExtra("product", product);
                startActivity(i);

            }
        });

    }
} 
```

这是我的源代码如果在解析后没有找到数据，我想显示消息因为在某些情况下没有找到数据请查看我的代码，请告诉我我将如何放置代码，以便如果现在没有找到数据，它会显示消息如果数据不存在，则应用程序将关闭。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-15T05:55:29.407

您可以返回数据或`null`在您的方法中，并根据该检查是否继续`null`调用该方法。如果`null`只是显示没有数据

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-15T05:58:28.193

你可以检查**`intRowStart`** 是否**`intRowEnd`**相同

如果相同则不显示数据和

显示**`dialog with no data`**找到

而不是设置适配器..

使用时单击确定按钮，然后再次返回以获取数据....

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-15T07:20:49.777

[http://developer.android.com/reference/android/widget/AdapterView.html#setEmptyView(android.view.View](http://developer.android.com/reference/android/widget/AdapterView.html#setEmptyView(android.view.View) )

不要发明自行车。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-15T07:14:08.670

> 您可以检查 ArrayList(menuItems ) 是否为空。

```
if(menuItems.isEmpty())
{
    No record found.
}
else
{

   set the listAdapter.
} 
```

# mysql - 如何删除mysql中的'\\'条目

> ID：12889984
> 
> 赞同：3
> 
> 时间：2012-10-15T05:52:29.187
> 
> 标签：mysql, sql

我有一个表格类别，其中有两个文件`id (auto increment)` 和`catname (string)`

在某些特定条目中，它已输入我的用户，例如

```
id | catname

 1 | \\
 2 | abcd
 3 | \\
 4 | >> asd
 5 | \\
 6 | \\
 7 | \\ 
```

我想删除此条`\\`目，但`select`查询未找到

如何删除此条`\\`目？

而且我也使用'php'，所以任何方式来删除或通过面板的`\\`条目请帮助我。`php``phpmyadmin`

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-10-15T05:53:51.860

### 您可以使用此查询：

```
DELETE FROM `cat` WHERE `catname` = '\\\\'; 
```

### 小提琴：[http ://www.sqlfiddle.com/#!2/ef33d/1](http://www.sqlfiddle.com/#!2/ef33d/1)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-16T06:39:21.007

您还可以使用“trim”或“str_replace”在发布时检查值

trim 将删除字符串开头的所有空格和其他字符，或者您可以使用 str_replace

str_replace() 函数用替换字符串替换所有出现的搜索字符串

“混合 str_replace（混合 $search，混合 $replace，混合 $subject <，int &$count >）”

此功能按以下规则工作：

*   如果要搜索的字符串是一个数组，则返回一个数组
*   如果要搜索的字符串是一个数组，则对每个数组元素执行查找和替换
*   如果 find 和 replace 都是数组，并且 replace 的元素比 find 少，则使用空字符串作为 replace
*   如果 find 是一个数组并且 replace 是一个字符串，则替换字符串将用于每个查找值

例子：

```
<?php 
echo str_replace("world","Peter","Hello world!"); 
?> 

output: Hello Peter! 

<?php 
$arr = array("blue","red","green","yellow"); 
print_r(str_replace("red","pink",$arr,$i)); 
echo "Replacements: $i"; 
?> 

output: Array 
( 
<0> => blue 
<1> => pink 
<2> => green 
<3> => yellow 
) 
Replacements: 1 
```

或者您可以使用正则表达式“preg_replace”，因为您必须学习正则表达式以了解正则表达式的详细信息，请点击链接 [http://www.php.net/manual/en/ref.pcre.php](http://www.php.net/manual/en/ref.pcre.php)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-16T07:25:59.790

从数据库中删除的第一种方法是：

```
DELETE TABLE `TABLE_NAME` WHERE `CATNAME` = '\\'; 
```

这将删除所有具有“\”条目的行。

```
DELETE TABLE `TABLE_NAME` WHERE `CATNAME` LIKE '\\'; 
```

# iphone - UIDeviceOrientationDidChangeNotification 正在为 UIOrientationLandscapeRight 返回 UIOrientationLandscapeLeft

> ID：12889991
> 
> 赞同：0
> 
> 时间：2012-10-15T05:53:13.227
> 
> 标签：iphone, notifications, orientation, ios6

我正在为 UIDeviceOrientationDidChangeNotification 注册我的视图控制器，它返回了错误的设备方向。我在 viewcontroller 的 init 函数中注册它

```
[[NSNotificationCenter defaultCenter] addObserver: self selector: @selector(handleOrientationChangeNotification:) name: UIDeviceOrientationDidChangeNotification object: nil]; 
```

这是我的设备通知接收器方法。

```
-(void)handleOrientationChangeNotification:(NSNotification *)notification
{ 
    if(IS_IPHONE)
    {
        UIDeviceOrientation currentDeviceOrientation =  [[UIDevice currentDevice] orientation];
    .
    .
    .
} 
```

每当设备方向改变时，我总是得到错误的方向。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-15T09:33:09.000

[我在这个链接](http://developer.apple.com/library/ios/#DOCUMENTATION/UIKit/Reference/UIApplication_Class/Reference/Reference.html#//apple_ref/doc/c_ref/UIInterfaceOrientation)上的苹果网站上找到了解决方案

`UIDeviceOrientationLandscapeRight`分配给`UIInterfaceOrientationLandscapeLeft`和`UIDeviceOrientationLandscapeLeft`分配给`UIInterfaceOrientationLandscapeRight`。原因是旋转设备需要向相反方向旋转内容。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-15T07:49:02.500

这可能是因为苹果改变了管理 UIViewController 的方向的方式。在 Ios6 中 Oreintation 处理不同的是，in`iOS6 shouldAutorotateToInterfaceOrientation`方法已弃用。iOS 容器（例如`UINavigationController`）不会咨询其子级来确定它们是否应该自动旋转。默认情况下，应用程序和视图控制器支持的界面方向设置`UIInterfaceOrientationMaskAll`为 iPad 惯用语和`UIInterfaceOrientationMaskAllButUpsideDown`iPhone 惯用语。

[有关相同的更多信息，您应该访问](https://developer.apple.com/library/ios/#releasenotes/General/RN-iOSSDK-6_0/_index.html#//apple_ref/doc/uid/TP40012166) 下面的此链接，我已经制作了用于处理方向更改的类别。

所以你将不得不实现另外两种方法来管理 iOS6 中 UIViewController 的方向。

在 IOS6 中引入允许方向更改

```
 - (BOOL)shouldAutorotate
  {

    return YES;

  } 
```

返回设备支持的 Oreintation 数量

```
 - (NSUInteger)supportedInterfaceOrientations
 {
    return  UIInterfaceOrientationMaskAll;

 } 
```

现在检查你得到的方向。

编辑：将此代码放置到作为根 ViewController 添加的 FirstViewController 中。这将帮助 UIViewController 确定它的方向。

```
@implementation UINavigationController (RotationIn_IOS6)

 -(BOOL)shouldAutorotate
  {
   return [[self.viewControllers lastObject] shouldAutorotate];
  }

  -(NSUInteger)supportedInterfaceOrientations
 {
   return [[self.viewControllers lastObject] supportedInterfaceOrientations];
 }

 - (UIInterfaceOrientation)preferredInterfaceOrientationForPresentation
 {
   return [[self.viewControllers lastObject] preferredInterfaceOrientationForPresentation];
 }

 @end 
```

我希望我会对你有所帮助。

# php - 尝试使用 PDO 从 mysql 数据库中检索数据时出错

> ID：12889994
> 
> 赞同：0
> 
> 时间：2012-10-15T05:53:21.943
> 
> 标签：php, mysql, pdo

我正在尝试使用 PDO 从 mysql 数据库中检索数据，但出现错误。

这是代码

```
 <form id="form" action="sum1.php" method="post">
 <td><p align="center"> IDNO : <input type="text" name="id" id="id" maxlength="10"</p></td>
 <input type="submit" id="submit" class='btnExample' value="Click here to get your Result">
  </form> 
  <?PHP 
  $dbhost     = "localhost";
  $dbname     = "demo";
  $dbuser     = "admin";
  $dbpass     = "123456";
  $db = new PDO("mysql:host=$dbhost;dbname=$dbname", "$dbuser", "$dbpass");
  $id = $_POST['id']; 
  $add = $db->prepare("SELECT SUM(tech) AS tech4 FROM (
  (SELECT SUM(tm) AS tech FROM jbit WHERE htno > :id)
  UNION ALL
  (SELECT SUM(tm) AS tech FROM hmm WHERE htno > :id))t1");
  $add -> execute(array('id'=>$id));
  $result3 = $db->query($add);
  echo " <center><table id='mytable' cellspacing='0'  border=3 align=center> 
  <tr><TH scope='col'>Total Marks</TH> </tr><center>"; 
  while ($row1 = $result3->fetch(PDO::FETCH_ASSOC))
  {
   echo "<tr>"; 
   echo "<td align=center>" . $row1['tech4']. "</td>";
   echo "</tr>";
   }
   $result3->closeCursor();
   $db = null;
   ?> 
```

我得到的错误

```
Warning: PDO::query() expects parameter 1 to be string, object given in /home/nhtsoft/public_html/engineershub/sum1.php on line 17 
```

和

```
Fatal error: Call to a member function fetch() on a non-object in /home/nhtsoft/public_html/engineershub/sum1.php on line 20 
```

17号线是

```
$result3 = $db->query($add); 
```

第 20 行是

```
while ($row1 = $result3->fetch(PDO::FETCH_ASSOC)) 
```

有任何想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-15T06:03:16.160

这是使用准备好的语句的方法：

```
$add = $db->prepare(...);
$add->execute(array('id' = >$id));
while ($row = $add->fetch(PDO::FETCH_ASSOC)) ... 
```

`execute()`已经执行查询。`PDO::query()`用于直接触发未准备好的查询。你在这里不需要它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-15T06:04:24.427

首先解决这个

```
 $add -> execute(array('id'=>$id)); 
  //and remove 
 $result3 = $db->query($add); 
```

并使用

```
 $add -> execute(array(':id'=>$id));
  while($result=$add->fetch(PDO::FETCH_ASSOC)) 
```

# php - fusionchart的图表标签内的PHP变量

> ID：12889998
> 
> 赞同：0
> 
> 时间：2012-10-15T05:53:28.280
> 
> 标签：php, javascript, xml, fusioncharts

我有这个用于创建折线图的 php 代码，我已将整个图表标记放在 PHP 变量中

```
$XMLNPK = "<chart formatNumberScale='0' showValues='1' decimals='0' shadowAlpha='40' bgColor='FFFFFF,99CCFF' labelDisplay='ROTATE' rotateValues='1' slantLabels='1' formatNumberScale='0' decimalPrecision='0' showvalues='1' animation='1' numdivlines='5' numVdivlines='0' caption='Plant Population Vs Yield - FCV' adjustDiv='0' yAxisMinValue='1900' yAxisMaxValue='2100' numDivLines='5'>"; 
```

我想要做的是将包含字段的最大值和最小值的这个 php 变量添加到 yAxisMinValue 和 yAxisMaxValue

```
<?php 
            $maxfcv = max($yieldfcv);
            $minfcv = min($yieldfcv); 
```

?>

我尝试了以下代码，但没有显示值：

```
...numVdivlines='0' caption='Plant Population Vs Yield - FCV' adjustDiv='0' yAxisMinValue='".$minfcv."' yAxisMaxValue='".$maxfcv."' numDivLines='5'> 
```

谁可以帮我这个事。先感谢您。:-)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-15T07:07:23.927

确保图表的任何值不超过（大于最大值或小于最小值）您设置的限制。如果为真，图表不会裁剪溢出的部分，而是自动计算新的最小值和最大值，以使线条在画布中正确可见。