# StackOverflow 问答 15901000-15901999

# javascript - 丰富的压光领域

> ID：15901001
> 
> 赞同：0
> 
> 时间：2013-04-09T11:48:14.850
> 
> 标签：javascript, richfaces

我正在使用丰富的日历来选择日期。我们有 2 个日期字段从和到日期。一旦为从日期自动选择的日期到日期应该填充相同的日期，请帮助我解决这个问题。附加代码片段

我不知道如何进一步进行。

```
<h:outputLabel id="label3"/>
<rich:calendar id="vdFrom" inputStyle="width:60px" enableManualInput="true" oninputkeyup="checkdate(this,'date')" 
               value="#{mcifTransMBean.valueFromDate}" datePattern="MM/dd/yy" ondateselected="updateToClndDate('mcifTransForm:vdFrom','mcifTransForm:vdTo');" 
               immediate="true" >
    <f:facet name="optionalHeader"> 
        <h:panelGrid columns="2" width="100%" style="text-align:center;height:5px" columnClasses="width100, fake">
            <h:outputText value="Select Value Date From" />
        </h:panelGrid>
    </f:facet>

    <a4j:support id="vd1" event="ondateselected" reRender="vdTo" />
    <a4j:support id="vd2" event="onchanged" reRender="date" />

    </rich:calendar>

<h:outputText id="text7" styleClass="outputText" value=" To "></h:outputText>
<rich:calendar inputStyle="width:60px" id="vdTo" enableManualInput="true" oninputkeyup="checkdate(this,'date')" 
               value="#{mcifTransMBean.valueToDate}" datePattern="MM/dd/yy" >
    <f:facet name="optionalHeader">
        <h:panelGrid columns="2" id="updateto" width="100%" style="text-align:center;hieght:5px"columnClasses="width100, fake">
            <h:outputText id="opupdateto"  value="Select Value Date To" />
        </h:panelGrid>
    </f:facet>
</rich:calendar> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-10T11:30:34.523

您没有向我们展示您的`updateToClndDate`功能是什么样的。无论如何，您可以像这样在第二个日历上设置值：

```
<rich:calendar id="vdFrom" ondateselect="#{rich:component('vdTo')}.selectDate(#{rich:component('vdFrom')}.getSelectedDate())" />

<rich:calendar id="vdTo"/> 
```

# java - 位运算 Java - 长到二进制

> ID：15901006
> 
> 赞同：3
> 
> 时间：2013-04-09T11:48:23.607
> 
> 标签：java, binary, bit-manipulation, long-integer, bit-shift

我为算术编码器找到了这段代码，我对评论中提到的值的来源有点困惑。

任何人都可以逐步了解这些操作中发生的事情吗？

```
protected final long STATE_SIZE  = 32;  // Number of bits for 'low' and 'high'. Must be in the range [1, 62] (and possibly more restricted).
    protected final long MASK        = (1L << (STATE_SIZE - 0)) - 1;  //  111...111, all ones 
```

到目前为止，这些是我的假设：

*   "MASK" 定义了一个 Long 设置为 1
*   然后将其移动 32 （我认为）将得到 100000...00 （我已经在 java.util.
*   然后我就卡住了。**我不确定“-1”如何使它们全部变为 1**？

我已经使用以下代码自己尝试过：

```
long STATE_SIZE  = 32;
        long shifted = 1L << STATE_SIZE-0;
        long shiftedMinusOne = shifted -1;
        System.out.println("Shifted: " + shifted);
        System.out.println("Shifted Minus One: " + shiftedMinusOne);
        System.out.println("Shifted Binary: " + Long.toBinaryString(shifted));
        System.out.println("Shifted Minus One Binary: " + Long.toBinaryString(shiftedMinusOne)); 
```

我的输出是：

```
Shifted: 4294967296
Shifted Minus One: 4294967295
Shifted Binary: 100000000000000000000000000000000
Shifted Minus One Binary: 11111111111111111111111111111111 
```

谁能告诉我我做错了什么或者为什么 -1 使它们全为 1？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-09T11:53:57.747

请注意长度的差异：

```
 100000000000000000000000000000000 - 1
=  11111111111111111111111111111111 
```

这是一个正确的二进制减法。你做得很好:)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-09T11:55:06.973

`-1`二进制更改`10000`的原因`1111`与它更改的原因相同

*   小数`10000`到`9999`或
*   十六进制`10000`到`ffff`或
*   八进制`10000`到`7777`.

二进制只是恰好只有两位数字的另一种数字表示形式。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-09T11:55:17.970

您是否意识到二进制操作是：

```
 100000000000000000000000000000000 - 000000000000000000000000000000001 
  = 011111111111111111111111111111111 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-04-09T11:55:48.273

你的所作所为并没有错...

4294967296 = 2^32

数字系列：100000000000000000000000000000000 = 4294967296（34位）

数字系列：11111111111111111111111111111111 = 4294967295（33位）

如果您了解数字是如何以二进制表示的，那么这应该可以清除它。

另外我相信 MASK 的想法是让你有一系列 111111....s 来按位与或按位或与其他数字进行漂亮的数学运算。

干杯。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-04-09T11:59:47.100

4294967296 = 2^32 = 100000000000000000000000000000000（设置位 32）
4294967295 = 2^31+2^30 ... + 2^1 + 2^0（设置位 0 到 31）

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-04-09T12:01:23.840

简单的。

的二进制值`4294967295`是`11111111111111111111111111111111`

参考[十进制到二进制的转换](http://www.wikihow.com/Convert-from-Decimal-to-Binary)。

# android - 设备在 google nexus 手机中没有包 com.google.android.gsf

> ID：15901007
> 
> 赞同：8
> 
> 时间：2013-04-09T11:48:24.663
> 
> 标签：android, nexus-s

我正在 Google Nexus 手机中测试我的应用程序。但是在启动过程中它的力量关闭了一个例外“设备没有包com.google.android.gsf”有什么提示吗？

我已经在三星 Galaxy S3 和三星 Galaxy Y 手机中成功测试了该应用程序。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2014-01-23T13:05:38.977

如果您正在使用不属于核心 Android 系统的软件包，您的应用程序应该始终检查它们的存在并在它们未安装时优雅地处理错误，而不是崩溃。我相信这就是您所看到的 - com.google.android.gsf 不是核心 Android SDK 的一部分，因此您不能保证它可用。

如果您使用 Google Play 服务中的任何功能，您应该阅读[设置文档](http://developer.android.com/google/play-services/setup.html#ensure)，其中包括检查服务是否存在，并在必要时提示用户下载/更新它们。

# vcl - varnish 中的内联 C 函数的参数是什么

> ID：15901008
> 
> 赞同：1
> 
> 时间：2013-04-09T11:48:25.467
> 
> 标签：vcl, varnish, cache-invalidation

我在 varnish book 中发现 varnish 3 purge 功能可以通过 varnish 2.1 以某种方式实现

> `C{ VRT_Nuke(...); }C`

VTR_Nuke 的签名似乎是

> `int VRT_nuke(struct sess *sp, const char *str, ...)`

在我的 default.vcl 中，我想写如下内容：

```
sub vcl_hit {
    C{ VRT_Nuke(...); }C
    error 200 "Purged";
} 
```

我应该给 VRT_Nuke 函数提供什么参数？

# opencv - opencv - resizeWindow 什么都不做？

> ID：15901015
> 
> 赞同：7
> 
> 时间：2013-04-09T11:48:39.447
> 
> 标签：opencv, resize, window

我尝试了一些变化，但似乎 resizeWindow 没有做任何事情。我给出了简单的代码示例，结果是两个窗口的大小相同，尽管它应该是不同的大小。

```
Mat m = imread("somePath",CV_LOAD_IMAGE_COLOR); 
namedWindow("aa",CV_WINDOW_NORMAL);
namedWindow("bb",CV_WINDOW_NORMAL);
imshow("aa",m);
imshow("bb",m);
resizeWindow("aa",400,400);
resizeWindow("bb",800,800);
waitKey(0); 
```

我在 ubunto 12.04 和 opencv 2.4.3 上使用 eclipse-cdt。

*   我尝试调试它，进入该功能，但我没有成功添加 highGui modoul 作为外部源，我得到一些 h 文件丢失的编译错误。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-05-31T09:29:19.847

以下代码片段适用于我：

```
namedWindow("Final", 0);
resizeWindow("Final", 500,500); 
```

“只有没有 CV_WINDOW_AUTOSIZE 标志的窗口可以调整大小。”

参考：[http ://docs.opencv.org/modules/highgui/doc/user_interface.html#resizewindow](http://docs.opencv.org/modules/highgui/doc/user_interface.html#resizewindow)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-05-31T13:24:05.003

确保 OpenCV 安装了 Qt 后端支持。

从（重点是我的）[的文档中`namedWindow()`](http://docs.opencv.org/modules/highgui/doc/user_interface.html?highlight=resizewindow#namedwindow)引用：

> flags – 窗口的标志。**目前唯一支持的标志是 CV_WINDOW_AUTOSIZE**。如果设置了此项，则窗口大小会自动调整以适合显示的图像（请参阅 imshow() ），并且您无法手动更改窗口大小。
> 
> ...
> 
> **注意：Qt 后端支持附加标志： CV_WINDOW_NORMAL 或 CV_WINDOW_AUTOSIZE**：CV_WINDOW_NORMAL 使您能够调整窗口大小，而 CV_WINDOW_AUTOSIZE 自动调整窗口大小以适应显示的图像（请参阅 imshow() ），您不能手动更改窗口大小。

这可能`CV_WINDOW_AUTOSIZE`是您系统上唯一受支持的标志。[文档`resizeWindow`](http://docs.opencv.org/modules/highgui/doc/user_interface.html?highlight=resizewindow#cv.ResizeWindow)说只有**没有** `CV_WINDOW_AUTOSIZE`标志创建的窗口可以调整大小。您的选择是：

*   使用 Qt 后端安装 OpenCV，或
*   使用`resize()`函数在显示之前调整图像大小。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-09T13:14:05.853

我也遇到过这个问题，底线是 OpenCV 窗口有一个最小尺寸，而你尝试创建的两个窗口都低于它。我有理由确定您的图片区域也被剪裁了，可能带有灰色或其他虚假信息。

# delphi - 如何修改基于 Char 的加密代码以使用 Unicode Delphi？

> ID：15901020
> 
> 赞同：-1
> 
> 时间：2013-04-09T11:48:52.823
> 
> 标签：delphi, unicode

我一直试图让一些遗留的 Delphi 2007 代码在 Delphi XE2 中工作。

```
Function EncryptionWithPassword(Str,Pwd: AnsiString; Encode: Boolean): AnsiString;
var
  a,PwdChk,Direction,ShiftVal,PasswordDigit : Integer;
begin
  PasswordDigit := 1;
  PwdChk := 0;
  for a := 1 to Length(Pwd) do Inc(PwdChk,Ord(Pwd[a]));
  Result := PChar(Str);
  If Encode then Direction := -1 else Direction := 1;
  for a := 1 to Length(Result) do
    begin
      if Length(Pwd)=0 then
        ShiftVal := a
      else
        ShiftVal := Ord(Pwd[PasswordDigit]);
      if Odd(A) then
        Result[A] := RotateBits(Result[A],-Direction*(ShiftVal+PwdChk))
      else
        Result[A] := RotateBits(Result[A],Direction*(ShiftVal+PwdChk));
      inc(PasswordDigit);
      if PasswordDigit > Length(Pwd) then PasswordDigit := 1;
    end;

end;

Function RotateBits(C: Char; Bits: Integer): Char;
var
  SI : Word; 
begin 
  Bits := Bits mod 8; 
  // Are we shifting left? 
  if Bits < 0 then 
    begin 
      // Put the data on the right half of a Word (2 bytes) 
      SI := MakeWord(Byte(C),0); 
      // Now shift it left the appropriate number of bits 
      SI := SI shl Abs(Bits);
    end
  else
    begin
      // Put the data on the left half of a Word (2 bytes)
      SI := MakeWord(0,Byte(C));
      // Now shift it right the appropriate number of bits
      SI := SI shr Abs(Bits);
    end;
  // Now OR the two halves together
  SI := Lo(SI) or Hi(SI);
  Result := Chr(SI);
end; 
```

无论我尝试什么 - 该函数都会破坏字符串。应用 AnsiString 作弊后，我尝试使用字符数组等，但没有任何效果。请有一些见识的人可以提供帮助和解释-我束手无策，正在推迟一个巨大的项目。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-09T11:52:40.577

只需将 Char 更改为 AnsiChar 就可以了。

# c++ - 在阻塞模式下使用 TServerSocket 时如何处理异常？

> ID：15901022
> 
> 赞同：1
> 
> 时间：2013-04-09T11:48:54.670
> 
> 标签：c++, multithreading, sockets, c++builder, tclientsocket

我正在使用 Embarcadero RAD 工作室和`TServerSocket`阻塞模式的组件编写 C++ 应用程序。我已经重写了`OnGetThread`套接字的处理程序以创建一个自定义类，从该类派生`TServerClientThread`重写默认`ClientExecute()`方法。在这个函数中，我使用 a`TWinSocketStream`并调用`WaitForData()`、`Read()`和`Write()`来接收和发送数据。根据我读过的所有内容，这是一种可以接受的处理方式（尽管如果这是错误的，请纠正我）。

从这个答案[阻塞套接字会触发哪些事件？](https://stackoverflow.com/questions/14959962/what-events-are-fired-for-a-blocking-socket)我相信`OnClientError`在阻塞模式下使用处理程序是可以的，因为事件会触发。在我的事件处理程序中，我每次都将错误代码设置为零，以便不会引发异常。

此外，每次我调用`Read()`或`Write()`从我的`ClientExecute()`函数中调用时，我都会将它包装在一个 try-catch 块中并捕获`ESocketError`异常。

我的问题是：这是最好的方法：

1.  使用套接字错误事件处理程序来处理所有事情（这很好，因为我可以显示套接字错误代码以用于调试目的）
2.  使用 try-catch 语句来防止我的应用程序抛出异常
3.  两者都使用（尽管不要在处理程序中将错误代码设置为零，否则**不会**抛出异常，使 2\. 上面毫无意义）

这是一个旧组件，已被弃用，但我必须使用它，但由于我无法找到正确使用它的铸铁指南，我从许多来源拼凑出一种方法。它已经运行了相当长的一段时间，但我时不时地收到一个静默错误，阻止服务器接受任何进一步的客户端连接 - 但我没有得到任何输出，`OnClientError`也没有`ESocketErrors`抛出。此应用程序在嵌入式设备上运行，因此检测到它的唯一方法是在它变得无响应时。

如果有人可以就上述 3 种方法中的哪一种最好（或提出替代方案）给我建议，我将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-09T17:36:51.330

如果`TServerSocket`不再接受新连接，则其内部`TServerAcceptThread`线程已崩溃因此`TServerWinSocket.Accept()`不再被调用，或者`Accept()`正在被调用但遇到操作系统错误（缺乏系统资源等）。无论哪种方式，`TServerSocket`都不会从其代码的那些特定区域公开任何类型的错误信息，因此您无法检测和处理服务器何时停止接受连接，除非您的连接足够频繁以至于您可以使用计时器来检测长事件之间的不`OnClientConnect`活动运行。如果您怀疑您的服务器已进入非接受状态，您所能做的就是关闭您的应用程序并重新打开`TServerSocket`.

# asp.net - 构建在 sql server 触发器上发送电子邮件的电子邮件通知系统

> ID：15901023
> 
> 赞同：1
> 
> 时间：2013-04-09T11:48:57.137
> 
> 标签：asp.net, sql-server, email, amazon-web-services

我有一个用 C# 编写并使用 SQL Server 的 Web 项目。我需要编写一个电子邮件通知系统。我做了一些研究，有些人建议使用 CLR，有些人建议使用 C# 代码中的业务逻辑。我以前没有做过这个系统，我想知道其他人是怎么做的。

我的想法是创建一个`Queue`表，并为我要监视更改的表创建触发器。当触发器被执行时，它将向`Queue`表中插入一个电子邮件请求。稍后，我将循环该队列表并发送电子邮件。我可能会在不久的将来使用亚马逊网络服务发送电子邮件，但还没有决定。

你认为这是个好主意吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-09T12:03:35.083

这是一个好主意，但是你看看已经存在的东西，开箱即用？[`sp_send_dbmail`](http://msdn.microsoft.com/en-us/library/ms190307.aspx)做的差不多。它将邮件请求放入队列中，并使用外部应用程序执行 SMTP 工作。我认为如果您必须使用 Amazon SNS，那么内置的数据库邮件将不起作用。

不要听取建议直接从触发器发送电子邮件的建议（例如，使用 SQLCLR）。除了明显的性能损失（表上的每个 DML 操作现在都必须等待 SMTP 或 HTTP 操作的巨大延迟）之外，您还有更大的事务一致性问题，您如何回忆回滚时的电子邮件？所以是的，使用中间队列是强制性的。还可以查看[Using Tables as Queues](http://rusanu.com/2010/03/26/using-tables-as-queues/)。

# css - 仅重置/删除元素的 CSS 样式

> ID：15901030
> 
> 赞同：609
> 
> 时间：2013-04-09T11:49:16.573
> 
> 标签：css

我敢肯定这一定已经被提到/问过，但一直在寻找一个没有运气的时代，我的术语一定是错误的！

**我依稀记得我不久前看到的一条推文，它暗示有一个可用的 css 规则可以删除以前在样式表中为特定元素设置的任何样式。**

一个很好的使用示例可能是在移动优先的 RWD 站点中，其中用于小屏幕视图中特定元素的大部分样式需要“重置”或删除桌面视图中的相同元素。

可以实现以下目标的 css 规则：

```
.element {
  all: none;
} 
```

示例用法：

```
/* mobile first */
.element {
   margin: 0 10;
   transform: translate3d(0, 0, 0);
   z-index: 50;
   display: block;
   etc..
   etc..
}

@media only screen and (min-width: 980px) {
  .element {
    all: none;
  }
} 
```

因此，我们可以快速删除或重新设置样式，而无需声明每个属性。

*说得通？*

* * *

## 回答 #1

> 赞同：701
> 
> 时间：2013-04-09T13:23:10.027

CSS3 关键字`initial`将[CSS3 属性设置为规范中定义的初始值](http://www.w3.org/TR/css3-values/#keywords)。除了 IE 和 Opera Mini 系列之外，该`initial`关键字具有[广泛的浏览器支持。](https://caniuse.com/#feat=css-initial-value)

由于 IE 缺乏支持可能会导致问题，这里有一些方法可以将一些 CSS 属性重置为其初始值：

```
.reset-this {
    animation : none;
    animation-delay : 0;
    animation-direction : normal;
    animation-duration : 0;
    animation-fill-mode : none;
    animation-iteration-count : 1;
    animation-name : none;
    animation-play-state : running;
    animation-timing-function : ease;
    backface-visibility : visible;
    background : 0;
    background-attachment : scroll;
    background-clip : border-box;
    background-color : transparent;
    background-image : none;
    background-origin : padding-box;
    background-position : 0 0;
    background-position-x : 0;
    background-position-y : 0;
    background-repeat : repeat;
    background-size : auto auto;
    border : 0;
    border-style : none;
    border-width : medium;
    border-color : inherit;
    border-bottom : 0;
    border-bottom-color : inherit;
    border-bottom-left-radius : 0;
    border-bottom-right-radius : 0;
    border-bottom-style : none;
    border-bottom-width : medium;
    border-collapse : separate;
    border-image : none;
    border-left : 0;
    border-left-color : inherit;
    border-left-style : none;
    border-left-width : medium;
    border-radius : 0;
    border-right : 0;
    border-right-color : inherit;
    border-right-style : none;
    border-right-width : medium;
    border-spacing : 0;
    border-top : 0;
    border-top-color : inherit;
    border-top-left-radius : 0;
    border-top-right-radius : 0;
    border-top-style : none;
    border-top-width : medium;
    bottom : auto;
    box-shadow : none;
    box-sizing : content-box;
    caption-side : top;
    clear : none;
    clip : auto;
    color : inherit;
    columns : auto;
    column-count : auto;
    column-fill : balance;
    column-gap : normal;
    column-rule : medium none currentColor;
    column-rule-color : currentColor;
    column-rule-style : none;
    column-rule-width : none;
    column-span : 1;
    column-width : auto;
    content : normal;
    counter-increment : none;
    counter-reset : none;
    cursor : auto;
    direction : ltr;
    display : inline;
    empty-cells : show;
    float : none;
    font : normal;
    font-family : inherit;
    font-size : medium;
    font-style : normal;
    font-variant : normal;
    font-weight : normal;
    height : auto;
    hyphens : none;
    left : auto;
    letter-spacing : normal;
    line-height : normal;
    list-style : none;
    list-style-image : none;
    list-style-position : outside;
    list-style-type : disc;
    margin : 0;
    margin-bottom : 0;
    margin-left : 0;
    margin-right : 0;
    margin-top : 0;
    max-height : none;
    max-width : none;
    min-height : 0;
    min-width : 0;
    opacity : 1;
    orphans : 0;
    outline : 0;
    outline-color : invert;
    outline-style : none;
    outline-width : medium;
    overflow : visible;
    overflow-x : visible;
    overflow-y : visible;
    padding : 0;
    padding-bottom : 0;
    padding-left : 0;
    padding-right : 0;
    padding-top : 0;
    page-break-after : auto;
    page-break-before : auto;
    page-break-inside : auto;
    perspective : none;
    perspective-origin : 50% 50%;
    position : static;
    /* May need to alter quotes for different locales (e.g fr) */
    quotes : '\201C' '\201D' '\2018' '\2019';
    right : auto;
    tab-size : 8;
    table-layout : auto;
    text-align : inherit;
    text-align-last : auto;
    text-decoration : none;
    text-decoration-color : inherit;
    text-decoration-line : none;
    text-decoration-style : solid;
    text-indent : 0;
    text-shadow : none;
    text-transform : none;
    top : auto;
    transform : none;
    transform-style : flat;
    transition : none;
    transition-delay : 0s;
    transition-duration : 0s;
    transition-property : none;
    transition-timing-function : ease;
    unicode-bidi : normal;
    vertical-align : baseline;
    visibility : visible;
    white-space : normal;
    widows : 0;
    width : auto;
    word-spacing : normal;
    z-index : auto;
    /* basic modern patch */
    all: initial;
    all: unset;
}

/* basic modern patch */

#reset-this-root {
    all: initial;
    * {
        all: unset;
    }
} 
```

*   [*与2017 年 12 月*相关的 github repo更详尽的列表](https://github.com/iamstarkov/css-initials)
*   [有关的](https://stackoverflow.com/questions/8228980/reset-css-display-property-to-default-value)
*   [来自 MDN 相关](https://developer.mozilla.org/en-US/docs/CSS/initial_value)
*   [相关 W3C 规范](http://www.w3.org/TR/css3-cascade/#initial)

正如@user566245 的评论中所述：

> 这原则上是正确的，但个人里程可能会有所不同。例如，某些元素（如 textarea）默认具有边框，应用此重置将减少这些 textarea 的边框。

* * *

JAVASCRIPT ?

除了css之外没有人想过重置css？是的？

有一个完全相关的片段：[https ://stackoverflow.com/a/14791113/845310](https://stackoverflow.com/a/14791113/845310)

> getElementsByTagName("*") 将返回 DOM 中的所有元素。然后您可以为集合中的每个元素设置样式：

*由 VisioN 于 2013 年 2 月 9 日 20:15 回答*

```
var allElements = document.getElementsByTagName("*");
for (var i = 0, len = allElements.length; i < len; i++) {
    var element = allElements[i];
    // element.style.border = ...
} 
```

* * *

说了这么多；我不认为css重置是可行的，除非我们最终只有一个网络浏览器..如果浏览器最终设置了“默认”。

为了比较，这里是 Firefox 40.0 值列表，用于 `<blockquote style="all: unset;font-style: oblique">`触发`font-style: oblique`DOM 操作。

```
align-content: unset;
align-items: unset;
align-self: unset;
animation: unset;
appearance: unset;
backface-visibility: unset;
background-blend-mode: unset;
background: unset;
binding: unset;
block-size: unset;
border-block-end: unset;
border-block-start: unset;
border-collapse: unset;
border-inline-end: unset;
border-inline-start: unset;
border-radius: unset;
border-spacing: unset;
border: unset;
bottom: unset;
box-align: unset;
box-decoration-break: unset;
box-direction: unset;
box-flex: unset;
box-ordinal-group: unset;
box-orient: unset;
box-pack: unset;
box-shadow: unset;
box-sizing: unset;
caption-side: unset;
clear: unset;
clip-path: unset;
clip-rule: unset;
clip: unset;
color-adjust: unset;
color-interpolation-filters: unset;
color-interpolation: unset;
color: unset;
column-fill: unset;
column-gap: unset;
column-rule: unset;
columns: unset;
content: unset;
control-character-visibility: unset;
counter-increment: unset;
counter-reset: unset;
cursor: unset;
display: unset;
dominant-baseline: unset;
empty-cells: unset;
fill-opacity: unset;
fill-rule: unset;
fill: unset;
filter: unset;
flex-flow: unset;
flex: unset;
float-edge: unset;
float: unset;
flood-color: unset;
flood-opacity: unset;
font-family: unset;
font-feature-settings: unset;
font-kerning: unset;
font-language-override: unset;
font-size-adjust: unset;
font-size: unset;
font-stretch: unset;
font-style: oblique;
font-synthesis: unset;
font-variant: unset;
font-weight: unset;
font: ;
force-broken-image-icon: unset;
height: unset;
hyphens: unset;
image-orientation: unset;
image-region: unset;
image-rendering: unset;
ime-mode: unset;
inline-size: unset;
isolation: unset;
justify-content: unset;
justify-items: unset;
justify-self: unset;
left: unset;
letter-spacing: unset;
lighting-color: unset;
line-height: unset;
list-style: unset;
margin-block-end: unset;
margin-block-start: unset;
margin-inline-end: unset;
margin-inline-start: unset;
margin: unset;
marker-offset: unset;
marker: unset;
mask-type: unset;
mask: unset;
max-block-size: unset;
max-height: unset;
max-inline-size: unset;
max-width: unset;
min-block-size: unset;
min-height: unset;
min-inline-size: unset;
min-width: unset;
mix-blend-mode: unset;
object-fit: unset;
object-position: unset;
offset-block-end: unset;
offset-block-start: unset;
offset-inline-end: unset;
offset-inline-start: unset;
opacity: unset;
order: unset;
orient: unset;
outline-offset: unset;
outline-radius: unset;
outline: unset;
overflow: unset;
padding-block-end: unset;
padding-block-start: unset;
padding-inline-end: unset;
padding-inline-start: unset;
padding: unset;
page-break-after: unset;
page-break-before: unset;
page-break-inside: unset;
paint-order: unset;
perspective-origin: unset;
perspective: unset;
pointer-events: unset;
position: unset;
quotes: unset;
resize: unset;
right: unset;
ruby-align: unset;
ruby-position: unset;
scroll-behavior: unset;
scroll-snap-coordinate: unset;
scroll-snap-destination: unset;
scroll-snap-points-x: unset;
scroll-snap-points-y: unset;
scroll-snap-type: unset;
shape-rendering: unset;
stack-sizing: unset;
stop-color: unset;
stop-opacity: unset;
stroke-dasharray: unset;
stroke-dashoffset: unset;
stroke-linecap: unset;
stroke-linejoin: unset;
stroke-miterlimit: unset;
stroke-opacity: unset;
stroke-width: unset;
stroke: unset;
tab-size: unset;
table-layout: unset;
text-align-last: unset;
text-align: unset;
text-anchor: unset;
text-combine-upright: unset;
text-decoration: unset;
text-emphasis-position: unset;
text-emphasis: unset;
text-indent: unset;
text-orientation: unset;
text-overflow: unset;
text-rendering: unset;
text-shadow: unset;
text-size-adjust: unset;
text-transform: unset;
top: unset;
transform-origin: unset;
transform-style: unset;
transform: unset;
transition: unset;
user-focus: unset;
user-input: unset;
user-modify: unset;
user-select: unset;
vector-effect: unset;
vertical-align: unset;
visibility: unset;
white-space: unset;
width: unset;
will-change: unset;
window-dragging: unset;
word-break: unset;
word-spacing: unset;
word-wrap: unset;
writing-mode: unset;
z-index: unset; 
```

* * *

## 回答 #2

> 赞同：234
> 
> 时间：2015-07-09T12:47:10.520

对于未来的读者。我认为这就是它的意思，但目前并没有得到广泛的支持（见下文）：

CSS：

```
#someselector {
  all: initial;
}

#someselector * {
  all: unset
} 
```

SCSS：

```
#someselector {
  all: initial;
  * {
    all: unset;
  }
} 
```

*   支持（[来源](https://developer.mozilla.org/en-US/docs/Web/CSS/all#Browser_compatibility)）：Chrome 37、Edge 79、Firefox 27、IE 11、Opera 24、Safari 9.1、WebView Android 37、Chrome Android 37、Firefox for Android 27、Opera Android 24、Safari on iOS 9.3、Samsung Internet 3.0
*   不支持：Internet Explorer

* * *

## 回答 #3

> 赞同：69
> 
> 时间：2016-03-28T06:05:25.593

有一个全新的解决方案来解决这个问题。

使用`all: revert`或`all: unset`。

来自 MDN：

> 在许多情况下，revert 关键字的作用与 unset 完全相同。唯一的区别是属性的值由浏览器设置或由用户创建的自定义样式表（在浏览器端设置）。
> 
> 您需要**“一个可用的 css 规则，该规则将删除以前在样式表中为特定元素设置的任何样式。”**

因此，如果元素的类名如下`remove-all-styles`：

例如：

HTML：

```
<div class="remove-all-styles other-classe another-class"> 
   <!-- content -->
   <p class="text-red other-some-styles"> My text </p>
</div> 
```

使用 CSS：

```
 .remove-all-styles {
    all: revert;
  } 
```

将重置所有应用的样式`other-class`，`another-class`以及所有其他继承和应用的样式`div`。

或者在你的情况下：

```
/* mobile first */
.element {
   margin: 0 10;
   transform: translate3d(0, 0, 0);
   z-index: 50;
   display: block;
   etc..
   etc..
}

@media only screen and (min-width: 980px) {
  .element {
    all: revert;
  }
} 
```

会做。

> 在这里，我们使用了一个很酷的 CSS 属性和另一个很酷的 CSS 值。
> 
> 1.  `revert`
> 
> 实际上`revert`，顾名思义，将该属性恢复为其用户或用户代理样式。
> 
> 2.  `all`
> 
> 当我们使用`revert`该`all`属性时，应用于该元素的所有 CSS 属性都将恢复为用户/用户代理样式。

[单击此处了解作者、用户、用户代理样式之间的区别。](http://praveen-vemulapalli.blogspot.in/2013/01/user-vs-author-vs-user-agent-style.html)

例如：如果我们想**将嵌入的小部件/组件与包含它们的页面样式隔离开来**，我们可以这样写：

```
.isolated-component {
 all: revert;
} 
```

如果没有设置用户样式，这会将所有`author styles`（即开发人员 CSS）恢复为`user styles`（我们网站的用户设置的样式 - 不太可能的情况）或`user-agent`样式本身。

更多细节在这里：[https ://developer.mozilla.org/en-US/docs/Web/CSS/revert](https://developer.mozilla.org/en-US/docs/Web/CSS/revert)

唯一的问题是[支持](http://caniuse.com/#search=revert)：在撰写本文时，只有 Safari 9.1 和 iOS Safari 9.3 支持`revert`价值。

所以我会说使用这种风格并回退到任何其他答案。

* * *

## 回答 #4

> 赞同：28
> 
> 时间：2015-02-06T18:51:36.253

让我彻底回答这个问题，因为这几年来一直是我的痛苦之源，很少有人真正理解这个问题，以及为什么解决这个问题很重要。如果我对 CSS 规范负责，坦率地说，我会因为在过去十年中没有解决这个问题而感到尴尬。

**问题**

您需要在 HTML 文档中插入标记，并且它需要以特定的方式呈现。此外，您不拥有此文档，因此您无法更改现有样式规则。您不知道样式表*可能*是什么，或者它们可能会变成什么。

用例是当您为未知的 3rd 方网站提供可显示的组件以供使用时。这方面的例子是：

1.  一个广告代码
2.  构建插入内容的浏览器扩展
3.  任何类型的小部件

**最简单的修复**

将所有内容放在 iframe 中。这有它自己的一组限制：

1.  跨域限制：您的内容根本无法访问原始文档。您不能覆盖内容、修改 DOM 等。
2.  显示限制：您的内容被锁定在一个矩形内。

如果您的内容*可以*放入一个盒子中，您可以通过让您的内容编写 iframe 并明确设置内容来解决问题 #1，从而绕过该问题，因为 iframe 和文档将共享同一个域。

**CSS 解决方案**

我已经广泛搜索了这个问题的解决方案，但不幸的是没有。您可以做的最好的事情是显式覆盖所有可能被覆盖的属性，并将它们覆盖为您*认为*它们的默认值应该是什么。

即使您覆盖，*也无法确保更有针对性的 CSS 规则不会覆盖您*的 . 您可以在这里做的最好的事情是让您的覆盖规则目标尽可能具体，并希望父文档不会意外地达到最佳效果：在内容的父元素上使用模糊或随机 ID，并在所有属性值定义上使用 !important .

* * *

## 回答 #5

> 赞同：17
> 
> 时间：2021-01-04T10:07:47.870

**快速的答案是使用`"all:revert"`**

```
.element {
  all:revert;
} 
```

**`all:revert`会将元素上的所有样式属性重置为原始浏览器默认的 UA 样式表属性值。**但它不会像**ERASE**这样的样式属性`initial`，将它们返回到完全无样式的状态。

对于文本或继承属性，`"revert"`将元素的 CSS 属性重置为从“body”元素或浏览器的默认 UA 样式值继承的值，而不是属性的基本样式。对于非继承属性，它会再次将其重置为浏览器的 UA 默认样式表，而不是属性的基本样式。“all”允许影响所有属性。这可能是您希望看到的。

**使用问题`"all:revert"`**

`"all:revert"`是一个较新的 CSS 声明，仅适用于更现代的 HTML5 浏览器（2015 年后），即便如此，在某些现代浏览器（如 Internet Explorer 1-11、Edge Trident 和一些移动浏览器）中的支持也很差。较旧的非 HTML5 浏览器（2010 年之前）都不会理解此声明，因此它将被各种新旧浏览器忽略。（请参阅下面的混合 CSS 解决方案，其中包含针对 Internet Explorer 的修复）。

**使用问题`"initial"`**

您可以使用`"initial"`，`"unset"`但您必须为每个属性手动应用它们，更糟糕的是，它们不会将属性返回到每个浏览器的默认 UA 样式表设置的元素默认显示值，但**`"initial"`实际上会删除元素的属性值**并创建一个完全*没有样式*的元素。例如，块级元素上的“display:block”将被擦除。因为 style 属性仍然需要某种默认值，所以当你使用“display:initial”时，所有带有“display”的块级和非块级元素都将更改为“display:inline”。您永远不想这样做，因为它会完全从所选元素中删除您的样式和浏览器的默认 UA 元素样式。

我的建议是避免使用CSS`all:initial`或任何形式的`initial`CSS，除非您尝试删除无法以任何其他方式删除的单个 CSS 属性。为什么？`initial`不仅会删除您应用的样式，还会删除浏览器默认 UA 样式表应用的所有样式。`all:revert`不会这样做。在使用方面`initial`，它确实在 Internet Explorer 中得到了更好的支持，它的堂兄`inherit`. 但只有 IE8+ 能理解`initial`。因此，此属性值存在广泛的问题。它不可靠。

*CSS 以这种方式工作*的原因是所有 HTML 元素都没有任何样式，直到浏览器应用默认的用户代理样式表，该样式表为所有 HTML 元素提供基本样式。所有的 HTML 元素实际上都没有样式，除了文本区域和按钮之类的“替换”元素之外，在应用每个浏览器的默认 UA 表之前，它们看起来都是一样的。“初始”和“未设置”将从浏览器中删除大部分内容。`"revert"`至少保留了用户浏览器应用的基本样式集，因此优于`"initial"`and `"unset"`。您可以在下面的链接中查看浏览器附带的所有各种默认样式表。

[默认浏览器样式表列表： https](https://meiert.com/en/blog/user-agent-style-sheets/) ://meiert.com/en/blog/user-agent-style-sheets/

**现在寻求更好的解决方案**

这里有两个想法被混淆：

1.  第一个想法是将样式“返回”回浏览器的 UA 样式表值集（安装时浏览器附带的样式表定义了每个元素的外观）。每个浏览器都定义了自己的样式，以默认元素的外观。这个想法是关于将所有页面样式返回给每个浏览器的原生元素样式。
2.  第二个想法是将所有默认浏览器样式“重置”为所有浏览器共享的通用外观。人们构建特殊的“重置”表来尝试将所有浏览器元素对齐到普遍认可的样式。这与浏览器默认的 UA 样式无关，更多的是关于“清理”并将所有浏览器对齐到一个通用的基本样式。这只是一个附加过程。

这是两个非常不同的概念，人们在这里感到困惑。

因为每个浏览器通常都有默认的、开箱即用的元素和看起来略有不同的布局样式，所以人们想出了“重置”或“重启”样式表的想法，以便在应用自定义 CSS 之前对齐所有浏览器。例如，Bootstrap 现在可以做到这一点。但这与想要恢复浏览器默认外观的人们无关。

问题不在于这些自定义“重置”样式表的构建，而是在应用任何样式之前弄清楚每个浏览器和每个元素的默认 CSS 是什么。大多数人发现在“清除”所有已应用的样式之前，您无法重建现有的干净级联。但是如何回到默认的浏览器样式呢？

对于某些人来说，这意味着不仅仅是将元素返回到浏览器附带的浏览器 UA 样式表。许多人想重置回“初始”属性值，这与浏览器的默认样式无关，但实际上是属性默认值。这是危险的，因为“显示”会将块级元素推回“内联”并破坏表格布局和其他东西。

所以我不同意这里的用户使用“初始”来重置任何东西或自定义重置类将每个属性更改回某个任意基值集。

对我来说更好的解决方案一直是尝试**将所有核心元素样式返回到浏览器的 UA 样式表值**，这也是我们所有最终用户都在使用的。如果您正在创建一个新网站，则不必这样做。您从浏览器的默认样式和样式开始。只有在您添加了第三方 CSS 产品，或者发现自己有复杂的 CSS 级联之后，您才想弄清楚如何返回浏览器默认样式表值。

出于这个原因，**我要创建您自己的“重置”表，首先将所有元素重置为一个通用样式**，该样式由所有新旧浏览器共享作为第一步。然后，您将拥有一个可靠的框架，无需返回浏览器默认设置即可轻松恢复。您只是建立在一组重置的通用核心元素样式值之上。一旦构建了自己的“重置”表，即添加不更改浏览器 UA 样式的表，您就有了一个非常容易修改的站点。

剩下的唯一问题是当您的网站没有这样的重置表，或者有复杂的第三方 CSS 并且需要尝试返回浏览器 UA 样式时。你是怎样做的？

我意识到 Internet Explorer 已经迫使我们手动重置每个属性以恢复任何类型的重置。但是将这些属性值全部推回“初始”会完全破坏浏览器 UA 样式表值！馊主意！更好的方法是使用通配符对非 IE 浏览器的每个元素简单地使用“all:revert”，而“继承”仅用于在“html”和“body”元素中找到的少数继承的根级属性影响页面中的所有继承子项。（见下文）。我不赞成使用“初始”或回到我们假设所有浏览器或 IE 都将使用的某些虚构标准来进行这些巨大的属性重置。对于初学者，“初始”在 IE 中的支持很差，并且不会将值重置为元素默认值，只有属性默认值。但是，如果您要创建一个重置表以将所有元素对齐到一个通用样式，这也是没有意义的。在这种情况下，清除样式并重新开始是没有意义的。

所以这是我的简单解决方案，在大多数情况下，它足以重置从根目录筛选到 IE 中的基于文本的值，并对所有非 IE 浏览器使用“all:revert”来强制非继承值返回浏览器的 UA样式表完全，给你一个真正的重新启动。这不会干扰在元素样式上分层的更高级别的类和样式，无论如何这应该始终是目标。这就是为什么我不喜欢这些繁琐且不必要的自定义重置类，并且无论如何也不会将元素返回到其浏览器 UA 样式。请注意下面的选择性稍强的选择器，它们会覆盖例如 Bootstrap 的“重启”样式值，将它们返回到浏览器默认样式。当然，这些不会重置 IE 元素上的元素样式，

```
:root, html {
    display: block;
    font-family: inherit;
    font-size: inherit;
    font-weight: inherit;
    line-height: inherit;
    -webkit-text-size-adjust: inherit;
    -webkit-tap-highlight-color: inherit;
    all: revert;
}

html body {
    display: block;
    font-family: inherit;
    font-size: inherit;
    font-weight: inherit;
    line-height: inherit;
    margin: inherit;
    padding: inherit;
    color: inherit;
    text-align: inherit;
    background-color: inherit;
    background: inherit;
    all: revert;
}

/* This rule attempts to manually reset all elements back to the 
UA browser style sheet using "revert" and the "wildcard" (*)
which resets all properties on all HTML elements.
This would overwrite most of Bootstraps "reboot" styles
on elements, for example.
Note: This selector should be ignored by IE. */

html body * {
    all: revert;
} 
```

* * *

## 回答 #6

> 赞同：10
> 
> 时间：2014-02-28T13:04:09.227

另一种方式：

1）包括[Yahoo CSS重置](http://yui.yahooapis.com/3.18.1/build/cssreset-context/cssreset-context-min.css)的css代码（文件），然后将所有内容放入此DIV：

```
<div class="yui3-cssreset">
    <!-- Anything here would be reset-->
</div> 
```

2）或使用

*   [https://cssreset.com/scripts/vanilla-css-un-reset/](https://cssreset.com/scripts/vanilla-css-un-reset/)
*   [https://cssreset.com/scripts/html5-doctor-css-reset-stylesheet/](https://cssreset.com/scripts/html5-doctor-css-reset-stylesheet/)
*   [https://cssreset.com/scripts/eric-meyer-reset-css/](https://cssreset.com/scripts/eric-meyer-reset-css/)
*   [https://cssreset.com/scripts/tripoli-css-reset-david-hellsing/](https://cssreset.com/scripts/tripoli-css-reset-david-hellsing/)
*   [https://cssreset.com/scripts/normalize-css/](https://cssreset.com/scripts/normalize-css/)

* * *

## 回答 #7

> 赞同：6
> 
> 时间：2018-08-09T18:43:39.200

如果您碰巧在构建系统中使用 sass，那么在所有主要浏览器中都可以使用的一种方法是使用 :not() 选择器包装所有样式导入，就像这样...

```
:not(.disable-all-styles) {
  @import 'my-sass-file';
  @import 'my-other-sass-file';
} 
```

然后您可以在容器上使用 disable 类，并且子内容不会有您的任何样式。

```
<div class="disable-all-styles">
  <p>Nothing in this div is affected by my sass styles.</p>
</div> 
```

当然，你所有的样式现在都将在前面加上 :not() 选择器，所以它有点难看，但效果很好。

* * *

## 回答 #8

> 赞同：5
> 
> 时间：2017-10-26T14:53:38.383

我不建议使用此处标记为正确的答案。它是一个巨大的 CSS 块，它试图涵盖所有内容。

我建议您根据具体情况评估如何从元素中删除样式。

假设出于 SEO 目的，您需要在设计中没有实际标题的页面上包含 H1。您可能希望将该页面的导航链接设为 H1，但您当然不希望该导航链接在页面上显示为巨大的 H1。

您应该做的是将该元素包装在 h1 标记中并检查它。查看哪些 CSS 样式专门应用于 h1 元素。

假设我看到以下样式应用于元素。

```
//bootstrap.min.css:1
h1 {
    font-size: 65px;
    font-family: 'rubikbold'!important;
    font-weight: normal;
    font-style: normal;
    text-transform: uppercase;
}

//bootstrap.min.css:1
h1, .h1 {
    font-size: 36px;
}

//bootstrap.min.css:1
h1, .h1, h2, .h2, h3, .h3 {
    margin-top: 20px;
    margin-bottom: 10px;
}

//bootstrap.min.css:1
h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
    font-family: inherit;
    font-weight: 500;
    line-height: 1.1;
    color: inherit;
}

//bootstrap.min.css:1
h1 {
    margin: .67em 0;
    font-size: 2em;
}

//user agent stylesheet
h1 {
    display: block;
    font-size: 2em;
    -webkit-margin-before: 0.67em;
    -webkit-margin-after: 0.67em;
    -webkit-margin-start: 0px;
    -webkit-margin-end: 0px;
    font-weight: bold;
} 
```

现在您需要确定应用于 H1 的确切样式并在 css 类中取消设置它们。这将类似于以下内容：

```
.no-style-h1 {
    font-size: unset !important;
    font-family: unset !important;
    font-weight: unset !important;
    font-style: unset !important;
    text-transform: unset !important;
    margin-top: unset !important;
    margin-bottom: unset !important;
    line-height: unset !important;
    color: unset !important;
    margin: unset !important;
    display: unset !important;
    -webkit-margin-before: unset !important;
    -webkit-margin-after: unset !important;
    -webkit-margin-start: unset !important;
    -webkit-margin-end: unset !important;
} 
```

这更干净，并且不只是将随机的代码块转储到您不知道它实际在做什么的 css 中。

现在您可以将此类添加到您的 h1

```
<h1 class="no-style-h1">
     Title
</h1> 
```

* * *

## 回答 #9

> 赞同：1
> 
> 时间：2015-10-27T00:57:27.217

**更好的解决方案**

下载“复制/粘贴”样式表以将 css 属性重置为默认值（UA 样式）：
[https ://github.com/monmomo04/resetCss.git](https://github.com/monmomo04/resetCss.git)

谢谢@Milche Patern！
我真的在寻找重置/默认样式属性值。我的第一次尝试是从根（html）元素的浏览器开发工具中复制计算值。但正如它计算的那样，它在每个系统上看起来/工作起来都会不同。
对于那些在尝试使用星号 * 重置子元素的样式时遇到浏览器崩溃的人，并且我知道它对您不起作用，我已将星号“*”替换为所有 HTML 标签名称. 浏览器没有崩溃；我使用的是 Chrome 版本 46.0.2490.71 m。
最后，值得一提的是，这些属性会将样式重置为最顶层根元素的默认样式，但不会重置为每个 HTML 元素的初始值。‎因此，为了纠正这个问题，我采用了基于 webkit 的浏览器的“用户代理”样式，并在“reset-this”类下实现了它。

有用的链接：

下载“复制/粘贴”样式表以将 css 属性重置为默认值（UA 样式）：
[https ://github.com/monmomo04/resetCss.git](https://github.com/monmomo04/resetCss.git)

用户代理样式：
[浏览器对 HTML 元素的默认 CSS](https://stackoverflow.com/questions/6867254/browsers-default-css-for-html-elements/6867287#6867287)
[http://trac.webkit.org/browser/trunk/Source/WebCore/css/html.css](http://trac.webkit.org/browser/trunk/Source/WebCore/css/html.css)

css专一性（注意专一性）：
[https ://css-tricks.com/specifics-on-css-specificity/](https://css-tricks.com/specifics-on-css-specificity/)

[https://github.com/monmomo04/resetCss.git](https://github.com/monmomo04/resetCss.git)

* * *

## 回答 #10

> 赞同：1
> 
> 时间：2015-11-11T11:40:29.913

您提到了移动优先网站...对于响应式设计，当然可以用大屏幕样式覆盖小屏幕样式。但你可能不需要。

试试这个：

```
.thisClass {
    /* Rules for all window sizes. */
}

@media all and (max-width: 480px) {
    .thisClass {
        /* Rules for only small browser windows. */
    }
}

@media all and (min-width: 481px) and (max-width: 960px) {
    .thisClass {
        /* Rules for only medium browser windows. */
    }
}

@media all and (min-width: 961px) {
    .thisClass {
        /* Rules for only large browser windows. */
    }
} 
```

这些媒体查询不会重叠，因此它们的规则不会相互覆盖。这使得单独维护每组样式变得更加容易。

* * *

## 回答 #11

> 赞同：1
> 
> 时间：2017-12-26T12:27:04.457

在我的特定场景中，我想跳过将常用样式应用于页面的特定部分，更好地说明如下：

```
<body class='common-styles'>
    <div id='header'>Wants common styles</div>
    <div id='container'>Does NOT want common styles</div>
    <div id='footer'>Wants common styles</div>
</body> 
```

在弄乱了没有带来多大成功的 CSS 重置之后（主要是因为规则优先级和复杂的样式表层次结构），带来了无处不在的 jQuery 来救援，它非常快速地完成了这项工作并且相当肮脏：

```
$(function() {
    $('body').removeClass('common-styles');
    $('#header,#footer').addClass('common-styles');
}); 
```

（现在说说使用 JS 处理 CSS 是多么邪恶 :-)）

* * *

## 回答 #12

> 赞同：0
> 
> 时间：2016-01-27T00:48:14.597

对于那些试图弄清楚如何仅从元素中实际删除样式而不从文件中删除 css 的人，此解决方案适用于 jquery：

```
$('.selector').removeAttr('style'); 
```

* * *

## 回答 #13

> 赞同：0
> 
> 时间：2017-10-24T20:16:41.100

如果您在类中设置 CSS，您可以使用 jQuery removeClass() 方法轻松删除它们。下面的代码删除了 .element 类：

```
 <div class="element">source</div>   
    <div class="destination">destination</div>
      <script>
        $(".element").removeClass();
      </script> 
```

如果未指定参数，此方法将从所选元素中删除所有类名。

* * *

## 回答 #14

> 赞同：0
> 
> 时间：2021-02-19T01:57:42.200

如果有人来这里寻找使用`iframe`这里的答案，那就是

```
<iframe srcdoc="<html><body>your-html-here</body></html>" /> 
```

[https://caniuse.com/iframe-srcdoc](https://caniuse.com/iframe-srcdoc)

* * *

## 回答 #15

> 赞同：-2
> 
> 时间：2013-04-09T13:00:31.417

您正在寻找 !important 规则吗？它不会撤消所有声明，但它提供了一种覆盖它们的方法。

“当在样式声明中使用 !important 规则时，该声明将覆盖 CSS 中的任何其他声明，无论它在声明列表中的什么位置。尽管，!important 与特异性无关。”

[https://developer.mozilla.org/en-US/docs/CSS/Specificity#The_!important_exception](https://developer.mozilla.org/en-US/docs/CSS/Specificity#The_!important_exception)

# networking - 音视频会话协议 SIP/RTP/RTCP/RTSP/H.323

> ID：15901031
> 
> 赞同：2
> 
> 时间：2013-04-09T11:49:21.570
> 
> 标签：networking, protocols, sip, rtp, h.323

我正在通过协议进行探索。

有人可以帮我理解这些协议之间的区别吗

SIP、RTP、RTCP、RTSP 和 H.323

相互参照

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-29T10:47:27.983

请参阅此 URL，它回答了您的一些问题 [http://www.cs.columbia.edu/~hgs/rtsp/faq.html](http://www.cs.columbia.edu/~hgs/rtsp/faq.html)

# ios - 以编程方式创建 NSObjects

> ID：15901032
> 
> 赞同：0
> 
> 时间：2013-04-09T11:49:21.487
> 
> 标签：ios, objective-c

我正在尝试创建一个从 api 中提取 json 的应用程序，其中包含一组关于界面外观的说明。所以基本上 json 将包含一个 NSDictionary 数组，每个 NSDictionary 将是一个显示在屏幕上的对象。

在 NSDictionary 中将包含对象如何显示的所有详细信息，例如对象的类型、对象的位置和对象的大小。

我编写了代码来接受屏幕上的一系列按钮。

```
for (int i = 0; i < self.jsonObjects.count; i++) {
    NSDictionary *jsonObject = [self.jsonObjects objectAtIndex:i];
    if ([[jsonObject objectForKey:@"object"] isEqualToString:@"UIButton"]) {
        UIButton *button = [UIButton buttonWithType:UIButtonTypeRoundedRect];

        NSNumber *x = [jsonObject objectForKey:@"xlocation"];
        NSNumber *y = [jsonObject objectForKey:@"ylocation"];
        NSNumber *width = [jsonObject objectForKey:@"width"];
        NSNumber *height = [jsonObject objectForKey:@"height"];
        NSString *title = [jsonObject objectForKey:@"title"];
        [button setFrame:CGRectMake(x.intValue, y.intValue, width.intValue, height.intValue)];
        [button setTitle:title forState:UIControlStateNormal];
        [self.view addSubview:button];
    }
} 
```

现在我可以为每个对象拥有大量的 if 语句，并让程序做同样的事情，但我试图避免它。

**基本上我要问的是实现这一点以最小化编码和提高代码可读性的最佳方法是什么。**

这是我为模拟按钮的 json 输出而编写的代码。

```
NSDictionary *button = [[NSDictionary alloc] initWithObjectsAndKeys:@"UIButton", @"object",@"PressMe",@"title",@"10",@"xlocation",@"10",@"ylocation",@"100",@"width",@"100",@"height", nil];

NSDictionary *button2 = [[NSDictionary alloc] initWithObjectsAndKeys:@"UIButton", @"object",@"Dont Press",@"title",@"10",@"xlocation",@"210",@"ylocation",@"100",@"width",@"100",@"height", nil];

self.jsonObjects = [[NSArray alloc] initWithObjects:button,button2, nil]; 
```

由于我仍然必须创建 api，因此 json 输出可以非常灵活。

我正在考虑拥有一系列数组。其中数组中的每个数组都是按钮数组或文本字段数组。那么我只需要大约 20-30 个数组来覆盖不同的对象类型，并且可以遍历主数组，然后遍历每个按钮或文本字段的数组。

为伊莱·加内姆

```
object  UIView *    0x07145c60
UIResponder UIResponder 
_layer  CALayer *   0x07145e80
_tapInfo    id  0x00000000
_gestureInfo    id  0x00000000
_gestureRecognizers NSMutableArray *    0x00000000
_subviewCache   NSArray *   0x075213e0
_charge float   0
_tag    NSInteger   0
_viewDelegate   UIViewController *  0x00000000
_backgroundColorSystemColorName NSString *  0x00000000
_viewFlags  <anonymous struct> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T12:17:54.400

You could always use a framework to do the fetching/parsing, see [this post](https://stackoverflow.com/a/8999705/352891).

Also, you could use the objective-c run-time if you'd prefer a more bespoke approach. I wrote a [dynamic mapper](https://github.com/saec/NSObject-Properties) for a recent project.

For example, you could sub-class UIButton, have an initWithDictionary: method that parses the json collection per button - and because you say you have great control over the web service, you could also combine the size and origin fields into a string representing the rect "{x,y,width,height}", and inside your initWithDictionary field, for the given 'frame' key, convert the string to a rect with `CGRectFromString()`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T12:10:34.077

我建议封装代码：

```
 UIButton *button = [UIButton buttonWithType:UIButtonTypeRoundedRect];
    NSNumber *x = [jsonObject objectForKey:@"xlocation"];
    NSNumber *y = [jsonObject objectForKey:@"ylocation"];
    NSNumber *width = [jsonObject objectForKey:@"width"];
    NSNumber *height = [jsonObject objectForKey:@"height"];
    NSString *title = [jsonObject objectForKey:@"title"];
    [button setFrame:CGRectMake(x.intValue, y.intValue, width.intValue, height.intValue)];
    [button setTitle:title forState:UIControlStateNormal]; 
```

在具有以下签名的工厂方法中：

```
- (UIButton*)butttonFromJSONDescription:(NSDictionary*)jsonObject; 
```

那么你的循环会变成：

```
if ([[jsonObject objectForKey:@"object"] isEqualToString:@"UIButton"]) {
    [self.view addSubview:[self buttonFromJSONDescription:jsonObject]];
} else if ([[jsonObject objectForKey:@"object"] isEqualToString:@"UITextField"]) {
    [self.view addSubview:[self textFieldFromJSONDescription:jsonObject]];
} 
```

我了解您想要管理的对象类具有您可能希望在 JSON 中设置的不同属性。这似乎阻止了进一步的抽象。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-09T12:11:01.957

您不应该创建数组数组，或者有 30 个 if 条件。您应该根据“对象”的值通过反射创建一个对象。像这样的东西：

```
id object = [[NSClassFromString(jsonObject[@"object"]) alloc] init]; 
```

如果你只发送 UIView 的子类作为你的“对象”，那么你可以这样写：

```
UIView *object = (UIView*)[[NSClassFromString(jsonOnject[@"object"]) alloc] init];
NSNumber *x = [jsonObject objectForKey:@"xlocation"];
NSNumber *y = [jsonObject objectForKey:@"ylocation"];
NSNumber *width = [jsonObject objectForKey:@"width"];
NSNumber *height = [jsonObject objectForKey:@"height"];
[object setFrame:CGRectMake(x.intValue, y.intValue, width.intValue, height.intValue)]; 
```

先写这个，看看它是如何工作的：

```
UIView *myView = (UIView*)[[NSClassFromString(@"UISwitch") alloc] init];
myView.frame = CGRectMake(0,0,100,40);
[self.view addSubview:myView]; 
```

为了改变对象的属性，遍历你的字典并执行必要的选择器。这里有一个例子来说明：

```
NSDictionary *jsonObject = @{@"setBackgroundColor:":[UIColor redColor]};
for (NSString *key in jsonObject)
{
    if ([myView respondsToSelector:NSSelectorFromString(key)])
    {
        [myView performSelector:NSSelectorFromString(key) withObject:jsonObject[key]];
    }
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-09T12:12:49.143

我刚刚实现了类似于您在我一直在开发的应用程序中所做的事情。我所做的是有一个类型的 json 语句，然后是一个项目数组。调用这些对象`SectionItems`，这样您将拥有一个完整的 json 数组`SectionItems`，您可以将其从 json 文件读入`NSArray`. 然后我所做的是为可能存在的每种类型`SectionItems`创建一个自定义`UITableViewCell`。创建一个`UITableDataSource`将检查您从 json 文件中读取`indexPath.row`的数组的数组，该数组将使用 中的项目构造适当的以显示在该行。`SectionItems``UITableViewCell``SectionItems`

所以为了清楚起见，这就是我的`SectionItems`样子：

```
@interface SectionItem : NSObject

@property (strong) NSString *type; //controls what type of cell will be made in the datasource
@property (strong) NSString *data; //auxiliary data
@property (strong) NSArray  *items; //actual data to populate the cell with

-(id) initWithJSON:(NSDictionary *)jsonData;

@end 
```

希望这可以帮助。我发现这种方式很有用，因为如果 json 中的数据发生变化，一切正常。json 的形成方式完全控制了如何查看数据。

# php - 如何在 PHP 中检查 PDF 文件是否受密码保护

> ID：15901033
> 
> 赞同：3
> 
> 时间：2013-04-09T11:49:22.237
> 
> 标签：php, pdf, passwords, password-protection

使用 PHP 上传多个文件时，如何检查上传 PDF 文件是否受密码保护？如果它受密码保护，我想显示一个错误。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-09T12:07:13.007

我在网上找到了一个类似的帖子，检查一下。

[http://drupal.org/node/843516](http://drupal.org/node/843516)

```
/**
* Check whether pdf is encrypted or password protected.
* @param <type> $form
* @param <type> $form_state
*/
function pdftest_is_encrypted($form,&$form_state) {    
     include_once 'sites/all/libraries/fpdi/pdf_parser.php';    
     foreach($form_state['values']['files'] as $value) {
       //Check whether file type is pdf and confirm the file is selected to remove.
        if($value['filemime'] == 'application/pdf' && $value['remove'] != 1) {
          $pdf = new pdf_parser($value['filepath']);                   
          if(stristr($pdf->errormsg,'File is encrypted')) {
              form_set_error('field_attachment', t('Uploaded PDF Document '.$value['filename'].' is encrypted and can not be uploaded. '.l('Guide to troubleshooting failed uploads.','http://support.scribd.com/forums/33627/entries/24412')));
          }
        }
     } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T12:07:48.513

这个问题是[是否可以使用ghostscript检查pdf是否受密码保护的变体？](https://stackoverflow.com/questions/4039659/is-it-possible-to-check-if-pdf-is-password-protected-using-ghostscript)（您可能只需要执行那里提供的 shell 脚本，它依赖于 ghostcript ）

# wcf - WCF 服务 - 在 Web 配置中模拟固定帐户

> ID：15901036
> 
> 赞同：0
> 
> 时间：2013-04-09T11:49:24.127
> 
> 标签：wcf, web-config, impersonation

我正在尝试编写将通过 Active Directory 服务进行搜索的 WCF 服务。我想将此服务设置为使用我的固定凭据，这样我的密码就不会过期。

这就是我的`web.config`样子：

```
 <?xml version="1.0"?>
 <configuration>
   <system.web>
     <compilation debug="true" targetFramework="4.0" />
     <authorization>
       <allow users="?"/>
     </authorization>
     <authentication mode="Windows"/>
     <identity impersonate="true" userName="mylogin" password="mypass" />
   </system.web>
   <system.serviceModel>
     <services>
       <service name="Mochrie.MyService" behaviorConfiguration="asdf">
         <endpoint address="" binding="basicHttpBinding" bindingConfiguration="httpBinding" contract="Mochrie.IMyService" />
       </service>
     </services>

     <bindings>
       <basicHttpBinding>
         <binding name="httpBinding">
           <security mode="TransportCredentialOnly">
             <transport clientCredentialType="Basic" />
           </security>
         </binding>
       </basicHttpBinding>
     </bindings>

     <behaviors>
       <serviceBehaviors>
         <behavior name="asdf">
           <serviceMetadata httpGetEnabled="true"/>
           <serviceDebug includeExceptionDetailInFaults="false"/>
         </behavior>
       </serviceBehaviors>
     </behaviors>
     <serviceHostingEnvironment multipleSiteBindingsEnabled="true" />
   </system.serviceModel>
   <system.webServer>
     <modules runAllManagedModulesForAllRequests="true"/>
   </system.webServer>
 </configuration> 
```

不幸的是，我收到了众所周知的错误并在几天内一直在苦苦挣扎。尝试浏览时：`http://localhost/Mochrie/MyService.svc?wsdl`

`The authentication schemes configured on the host ('IntegratedWindowsAuthentication') do not allow those configured on the binding 'BasicHttpBinding' ('Basic'). Please ensure that the SecurityMode is set to Transport or TransportCredentialOnly. Additionally, this may be resolved by changing the authentication schemes for this application through the IIS management tool, through the ServiceHost.Authentication.AuthenticationSchemes property, in the application configuration file at the <serviceAuthenticationManager> element, by updating the ClientCredentialType property on the binding, or by adjusting the AuthenticationScheme property on the HttpTransportBindingElement.`

有没有人有机会解决这个问题并正确设置 wcf 服务？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-10T08:23:34.857

尝试

```
<binding name="MyBinding">

  <security mode="TransportCredentialOnly">

    <transport clientCredentialType="Windows" />

  </security>

</binding> 
```

或者

```
<binding name="MyBinding">

  <security mode="TransportCredentialOnly">

    <transport clientCredentialType="Ntlm" />

  </security>

</binding> 
```

**注意：**您可以关闭模​​拟但改为更改 IIS AppPool（或 WinService 帐户）身份

# magento - _redirect 在 magento 的 catch 块中不起作用

> ID：15901037
> 
> 赞同：0
> 
> 时间：2013-04-09T11:49:25.533
> 
> 标签：magento

```
$uploader->setFilesDispersion(false);
$uploader->save($path, $fname); //save the file on the specified path
$post['simagepath'] = $fname;
  }
} catch (Exception $e) {
Mage::getSingleton('core/session')->addError($e->getMessage() . " please upload only valid extension file: jpg, png, gif, jpeg");
$this->_redirect('advert/banner/list');
//echo "test";                
}
die("hello");
Mage::getModel('advert/advert')->saveAdvert($post);
$this->_redirect('advert/banner/list'); 
```

上面的代码只是代码的一部分，而不是完整的代码。在这段代码中，catch 块重定向功能不起作用，任何人都可以帮助我为什么它在 magento 中不起作用。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-09T12:02:07.517

这段代码在哪里？如果这是在控制器中，很可能您需要立即`return;`退出`$this->_redirect('advert/banner/list');`代码，然后重定向将/应该执行。

# java - 如何处理片段内的视图？

> ID：15901038
> 
> 赞同：0
> 
> 时间：2013-04-09T11:49:26.813
> 
> 标签：java, android, tabs, spinner

我很抱歉我的模棱两可的问题标题。我会尽力澄清我的问题。我尝试运行此代码来填充我的微调器：

```
public void UcitajPromenljive(int id)
{
    if(id==0)
    {
        //#SPISAK
    }
    if(id==1)
    {
        //#PRETRAGA
        try
        {
            Spinner oblasti = (Spinner) findViewById(R.id.spinnerOblasti);
            ArrayAdapter<CharSequence> adapter = ArrayAdapter.createFromResource(this,R.array.oblasti, android.R.layout.simple_spinner_item);
            adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
            oblasti.setAdapter(adapter);
        }
        catch(NullPointerException e)
        {
            Log.e("LOAD_TAG", e.getMessage());
        }
    }
    if(id==2)
    {
        //#OSTALO
    }
} 
```

果然，我确实得到了 NPE，但我在一个类似的问题中发现问题出在代码的第一行。我的应用程序具有三个不同的选项卡，它们已被具体化为片段。因此，当我运行 findViewById(R.id.spinnerOblasti) 时，应用程序返回 NPE，因为我的布局只有 ActionBar 和一个相对布局作为其属性，并且相对布局通过填充

```
class MyTabListener implements ActionBar.TabListener
{
    public android.app.Fragment fragment;
    private Toast lol;
    public MyTabListener(android.app.Fragment fragment)
    {
        this.fragment = fragment;
    }

    public void onTabUnselected(Tab tab, FragmentTransaction ft) {
        ft.remove(fragment);
        lol.cancel();
    }
    public void onTabSelected(Tab tab, FragmentTransaction ft) {
        lol = Toast.makeText(getApplicationContext(), tab.getText(), Toast.LENGTH_SHORT);
        lol.show();
        ft.replace(R.id.okvir, fragment);
        UcitajPromenljive(tab.getPosition());
    }

    public void onTabReselected(Tab tab, FragmentTransaction ft) {

    }
} 
```

所以我的问题是 - 我如何解决 Spinner 问题，它是某个 .xml 文件的子文件，它会膨胀片段（选项卡）之一？随时要求澄清，我知道我所写的内容有些令人困惑。提前致谢。干杯

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T11:51:59.963

存储您的片段视图以供参考，即将`onCreateView()`结果视图放入片段的全局范围，即

```
protected View mFragementView; 
```

然后当您需要在片段布局中找到某些内容时，只需：

```
mFragmentView.findViewById(....); 
```

例子：

```
public class MyFragment extends Fragment {

    protected View mFragmentView;

    @Override
    public View onCreateView( LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState ) {    
        mFragmentView = super.onCreateView( inflater, container, savedInstanceState );   
    }

    public void UcitajPromenljive(int id) {
        View v = mFragmentView.findViewById( R.id..... );
    }
} 
```

# ruby-on-rails - 为控制器运行 rspec 时堆栈级别太深

> ID：15901041
> 
> 赞同：0
> 
> 时间：2013-04-09T11:49:37.530
> 
> 标签：ruby-on-rails, rspec, rspec-rails

当我在我的模型上运行 rspec 时，一切正常。我的控制器收到“堆栈级别太深”错误。

```
$> rspec spec/models     
[DEPRECATED] The 'safe' write concern option has been deprecated in favor of 'w'.
............................................................

Finished in 1.28 seconds
60 examples, 0 failures 
```

但是对于我的控制器，当我只添加 1 个示例时，我会收到此错误“堆栈级别太深”。

```
$> rspec spec/controllers 
F

Failures:

  1) GuestsController GET 'index' should render 200 page
     Failure/Error: Unable to find matching line from backtrace
     SystemStackError:
       stack level too deep
     # /Users/iyanski/.rvm/gems/ruby-1.9.3-p392@littleknot/gems/actionpack-3.2.13/lib/action_dispatch/routing/url_for.rb:102

Finished in 0.02816 seconds
1 example, 1 failure

Failed examples:

rspec ./spec/controllers/guests_controller_spec.rb:5 # GuestsController GET 'index' should render 200 page 
```

guest_controller_spec.rb

```
require 'spec_helper'

describe GuestsController do
  describe "GET 'index'" do
    it "should render 200 page" do

    end
  end
end 
```

下面是我的 spec_helper.rb

```
ENV["RAILS_ENV"] ||= 'test'
require File.expand_path("../../config/environment", __FILE__)
require 'rspec/rails'
require 'rspec/autorun'
require 'factory_girl'

include Rails.application.routes.url_helpers

Dir[Rails.root.join("spec/support/**/*.rb")].each {|f| require f}

RSpec.configure do |config|

  config.infer_base_class_for_anonymous_controllers = false

  config.order = "random"

  config.before(:suite) do
    DatabaseCleaner.strategy = :truncation
    DatabaseCleaner.clean_with(:truncation)
  end

  config.before(:each) do
    DatabaseCleaner.start
  end

  config.after(:each) do
    DatabaseCleaner.clean
  end

end 
```

你认为这可能是什么原因造成的？

# drupal - 在 Drupal 中创建地图相关内容类型的最佳方法？

> ID：15901045
> 
> 赞同：0
> 
> 时间：2013-04-09T11:49:46.033
> 
> 标签：drupal, drupal-7

我想在我的网站上显示一些地图（用于警察局、消防局、卫生设施等）。每个地图属性都彼此不同。示例：消防站将包括消防员的数量，而卫生设施将包括床位的数量。我应该为每个创建不同的内容类型吗？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T12:12:00.480

我用来为将有自己的页面的内容创建节点。如果每个消防站都有一个页面，是的，您可以创建一个节点类型。对于没有自己页面的内容，您可以使用实体 API ( [http://drupal.org/node/1261744](http://drupal.org/node/1261744) )。它更轻！

# c# - C#、Windows 窗体、顶部的消息框不起作用

> ID：15901047
> 
> 赞同：7
> 
> 时间：2013-04-09T11:49:53.053
> 
> 标签：c#, messagebox, topmost

我有一些像这样编码的 MessageBox：

```
MessageBox.Show(new Form(){TopMost=true, TopLevel=True}, "Message","Title", MessageBoxButtons.YesNo, MessageBoxIcon.Warning); 
```

举个更好的例子，我为 FormClosing 事件执行此操作：

```
private void Example_FormClosing(object sender, FormClosingEventArgs e){
MessageBox.Show(new Form(){TopMost=true, TopLevel=True}, "Really close?"," Program", MessageBoxButtons.OKCancel, MessageBoxIcon.Information);
} 
```

但是，几乎每次我必须在看到我的消息框之前更改我的计算机上的 Window（比如返回 Visual Studio），而且它对用户不友好而且真的很烦人。

我确认我的主要表单不在 TopMost=true 中，我只尝试了 TopMost 或 TopLevel，StartPosition=FormStartPosition.CenterScreen 但没有任何效果。

**[更新]**

我试过：

```
 private void Example_FormClosing(object sender, FormClosingEventArgs e){
    MessageBox.Show(this.Owner, "Really close?"," Program", MessageBoxButtons.OKCancel, MessageBoxIcon.Information);
    } 
```

**我想将我的 messageBox 放在窗口的前面，而不必更改窗口即可看到它，因为它就像在当前窗口的后面。**

你有解决这个问题的想法吗？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-04-09T11:53:45.673

像这样做：

```
MessageBox.Show(
    "Message", 
    "Title", 
    MessageBoxButtons.YesNo, 
    MessageBoxIcon.Warning, 
    MessageBoxDefaultButton.Button1, 
    MessageBoxOptions.DefaultDesktopOnly); 
```

它将把它放在所有其他窗口的前面，包括来自其他进程的窗口（这就是我认为你所要求的）。

关键参数是[`MessageBoxOptions.DefaultDesktopOnly`](http://msdn.microsoft.com/en-us/library/system.windows.forms.messageboxoptions.aspx)。请注意，这会将消息框作为默认桌面的父级，导致应用程序调用`MessageBox.Show()`失去焦点。

（您真的应该将此行为保留给关键消息。）

或者，如果您的应用程序有一个窗口，则`this.BringToFront()`在显示消息框之前调用 MessageBox.Show() 并将第一个参数设置为`this`。（您可以从窗口窗体类中调用它）。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-08-29T15:15:04.937

给定一个你的实例，`Form`你可以这样调用`MessageBox`：（[检查文档以获取其他参数。](http://msdn.microsoft.com/en-US/library/system.windows.forms.messagebox.show%28v=vs.80%29.aspx)）
`MessageBox.show(form, "Message", "Title");`

**但是**，如果您想从后台线程（例如：）调用它，`BackgroundWorker`则必须`Form.Invoke()`像这样使用：

```
form.Invoke((MethodInvoker)delegate
{
   MessageBox.show(form, "Message", "Title");
}); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2014-10-24T14:49:38.067

我已经在这里回答了这个[问题](https://stackoverflow.com/a/26550297/837726)（但因为它是一个相当小的答案，我会复制它）：

```
using (var dummy = new Form() { TopMost = true })
{
    MessageBox.Show(dummy, text, title);
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-09T11:53:19.283

您正在将`MessageBox`所有者设置为尚未显示的新表单。而不是`new Form(){TopMost=true, TopLevel=True}`，请引用您想要在其`MessageBox`之上的现有表单的实例。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-01-31T10:44:09.177

在 Lars 的回答之后，我遇到了同样的问题并且 Lars 的方法有效，但是如果我从其他地方弹出一条不在顶部的消息，切换到它，然后再次使用 Lars 的方法调用该消息，它将不再位于顶部。

这是我想出的对我很有效的变体，希望对您有所帮助：

这是从一个单独的线程运行的，该线程具有对主应用程序表单实例的引用

```
//Show message on top of all other forms
MainFormInstance.Invoke((MethodInvoker)delegate
{
    Form popup = new Form() { TopMost = true, TopLevel = true };
    MessageBox.Show(popup, "Message", "Title");
}); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2015-03-25T13:15:28.183

尝试将泛化逻辑编写为：-

```
public static DialogResult ShowMessage(Form Parent, string Text, string Caption, MessageBoxButtons Buttons, MessageBoxIcon Icon, MessageBoxDefaultButton DefaultButton)
{
    if (Parent != null && Parent.InvokeRequired)
        return (DialogResult) Parent.Invoke(((Func<DialogResult>))(() => MessageBox.Show(Text, Caption, Buttons, Icon, DefaultButton)));
    else
        return (MessageBox.Show(Text, Caption, Buttons, Icon, DefaultButton));
} 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2019-02-08T16:19:41.787

我一直在玩这个并在 Windows 7/8.1/10 上运行多个测试，然后终于找到了一种工作方法，可以在上述所有系统的顶部显示消息框。

```
//Create an Empty Form with TopMost & TopLevel attributes.
Form popup = new Form() { TopMost = true, TopLevel = true };

//Running MessageBox on a different Thread

              Invoke((MethodInvoker)delegate {

     DialogResult dialogResult = MessageBox.Show(popup, "Custom Message Here", MessageBoxButtons.YesNo);
              if (dialogResult == DialogResult.Yes)
              {

                  //do something
              }
              else if (dialogResult == DialogResult.No)
              {
                  //do something else
              }

//Or a casual message box

//MessageBox.Show(popup, "Custom Message Here", "Alert");

 }); 
```

* * *

## 回答 #8

> 赞同：-1
> 
> 时间：2013-04-09T11:53:46.750

像往常一样做（`MessageBox.Show(Message);`）它已经是最上面的了。

有关信息，请参见[此处](http://msdn.microsoft.com/en-us/library/system.windows.forms.messagebox%28v=vs.71%29.aspx)和[此处](http://www.dotnetperls.com/messagebox-show)。

# windows - 如何在 Windows 上安装由任何用户管理的服务

> ID：15901049
> 
> 赞同：1
> 
> 时间：2013-04-09T11:49:57.490
> 
> 标签：windows, service, uac

我期待在 Windows (Windows 7 / Windows 8) 上安装服务。

虽然该服务最初是由“管理员”安装的，但它应该以这样一种方式安装，即该本地计算机上的任何用户帐户都可以启动/停止/重新启动它。

尝试将“登录身份”更改为网络服务，但没有帮助。

尝试了 Subinacl.exe，但由于安装程序的体系结构设计（不允许安装任何外部应用程序），这是不可行的。

问题很简单 -> 服务 A 由管理员安装，但应具有该机器上所有用户帐户的完整权限。

此外，在安装时，事先不知道该机器上有多少和哪些所有用户帐户可用。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T12:03:22.363

Kevin van Zonneveld 在他的[博客](http://kvz.io/blog/2008/03/26/allow-windows-users-to-restart-service/)中描述了如何做到这一点。他提出的示例是允许所有经过身份验证的用户重新启动 Apache Tomcat 服务：

```
sc GetKeyName "Apache Tomcat"
# returns Tomcat5

sc sdset Tomcat5 "D:AR(A;;CCDCLCSWRPWPDTLOCRSDRCWDWO;;;BA)(A;;LCRPWP;;;AU)(A;;CCLCSWLOCRRC;;;IU)(A;;CCDCLCSWRPWPDTLOCRSDRCWDWO;;;SY)S:(AU;FA;CCDCLCSWRPWPDTLOCRSDRCWDWO;;;WD)" 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-10T02:24:05.837

您可以使用[`SetSecurityInfo`](http://msdn.microsoft.com/en-us/library/windows/desktop/aa379588%28v=vs.85%29.aspx)或[`SetServiceObjectSecurity`](http://msdn.microsoft.com/en-us/library/windows/desktop/aa379589%28v=vs.85%29.aspx)更改服务 ACL。此代码创建一个服务，然后设置 ACL 以允许任何交互式登录用户启动该服务：

```
wchar_t sddl[] = L"D:"
  L"(A;;CCLCSWRPWPDTLOCRRC;;;SY)"           
      // default permissions for local system
  L"(A;;CCDCLCSWRPWPDTLOCRSDRCWDWO;;;BA)"   
      // default permissions for administrators
  L"(A;;CCLCSWLOCRRC;;;AU)"                 
      // default permissions for authenticated users
  L"(A;;CCLCSWRPWPDTLOCRRC;;;PU)"           
      // default permissions for power users
  L"(A;;RP;;;IU)"                           
      // added permission: start service for interactive users
  ;

DWORD InstallService() 
{
  SC_HANDLE manager, service;
  PSECURITY_DESCRIPTOR sd;
  DWORD err;

  wchar_t apppath[MAX_PATH + 2];

  // Note: because this is only called from main() which exits
  // immediately afterwards, no attempt is made to close the
  // handles generated.

  if (!ConvertStringSecurityDescriptorToSecurityDescriptor(sddl, 
      SDDL_REVISION_1, &sd, NULL))
  {
    err = GetLastError();
    printf("Error %u creating security descriptor.\n", err);
    return err;
  }

  if (!GetModuleFileName(0, apppath, MAX_PATH + 1)) 
  {
    err = GetLastError();
    printf("Error %u fetching module name.\n", err);
    return err;
  }

  if (_wcsicmp(apppath + wcslen(apppath) - wcslen(exename), exename) != 0) 
  {
    printf("Application name mismatch: %ls\n", 
      apppath + wcslen(apppath) - wcslen(exename));
    return ERROR_INVALID_FUNCTION;
  }

  manager = OpenSCManager(0, 0, SC_MANAGER_CREATE_SERVICE);

  if (!manager) 
  {
    err = GetLastError();
    printf("Error %u connecting to service manager.\n", err);
    return err;
  }

  service = CreateService(manager,
    servicename,
    displayname,
    WRITE_DAC,
    SERVICE_WIN32_OWN_PROCESS,
    SERVICE_DEMAND_START,
    SERVICE_ERROR_NORMAL,
    apppath,
    0,
    0,
    NULL,
    NULL,
    NULL);

  if (!service) 
  {
    err = GetLastError();
    printf("Error %u installing service.\n", err);
    return err;
  }

  if (!SetServiceObjectSecurity(service, DACL_SECURITY_INFORMATION, sd))
  {
    err = GetLastError();
    printf("Error %u setting service security.\n", err);
    return err;
  }

  printf("Service successfully installed.\n");
  return 0;
} 
```

# javascript - Javascript“onClick”，“onSubmit”

> ID：15901057
> 
> 赞同：-2
> 
> 时间：2013-04-09T11:50:21.043
> 
> 标签：javascript, jquery, validation

我有这样的想法：

是什么阻止某人通过使用 Firebug 之类的东西删除 HTML 表单的“onSubmit”来规避表单验证？

我知道 Javascript 并不是唯一的验证形式，但我如何确保不会以这种方式规避 Javascript 验证？

如果可能的话，我宁愿继续使用“onSubmit”方法，因为它已经存在，但我对其他选项持开放态度。

我应该说清楚，**我确实有服务器端验证。我只是想让删除 JS 验证尽可能困难。**

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-09T11:52:23.623

> 是什么阻止某人通过使用 Firebug 之类的东西删除 HTML 表单的“onSubmit”来规避表单验证？

没有什么。提供客户端表单输入检查是为了用户的方便（它允许即时和上下文反馈，而无需求助于服务器的往返），而不是服务器的安全性。您还需要检查服务器上的数据。

> 我知道 Javascript 并不是唯一的验证形式

是的。

> 但是如何确保不会以这种方式规避 Javascript 验证？

你不能，这就是*为什么*它不是唯一的验证形式。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T11:52:24.267

阻止用户更改 HTML 页面中正在运行的 JavaScript 代码是不可能的。这就是为什么强烈建议在服务器端复制表单数据验证的原因。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-09T11:52:34.913

你什么都做不了。

1.  Javascript是客户端，你不应该依赖客户端代码。用户可以篡改数据并将其发布到服务器端。
2.  在服务器端，您还需要检查文档的有效性。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-09T11:53:50.953

> 是什么阻止某人通过使用 Firebug 之类的东西删除 HTML 表单的“onSubmit”来规避表单验证？

没有什么。验证是一种客户端方式，告诉用户如果不提交，他们的输入将不会被接受。您还应该有强大的服务器端验证才能使其正常工作。

*不*应该只有客户端的关键验证。

# c - 为什么新创建的内存在 mmap() 中映射到 /dev/zero（已删除）

> ID：15901060
> 
> 赞同：2
> 
> 时间：2013-04-09T11:50:24.383
> 
> 标签：c, linux

我使用 mmap 创建了一块 4K 的内存。

```
kg>./a.out &
[1] 23286

 Memory Address : 0xb7f6f000

kg>pmap 23286
23286:   ./a.out
0053d000      4K r-x--    [ anon ]
08048000      4K r-x--  /home/trng3/sh/POC/a.out
08049000      4K rwx--  /home/trng3/sh/POC/a.out
46f46000    100K r-x--  /lib/ld-2.5.so
46f5f000      4K r-x--  /lib/ld-2.5.so
46f60000      4K rwx--  /lib/ld-2.5.so
46f68000   1244K r-x--  /lib/libc-2.5.so
4709f000      8K r-x--  /lib/libc-2.5.so
470a1000      4K rwx--  /lib/libc-2.5.so
470a2000     12K rwx--    [ anon ]
b7f57000      4K rw---    [ anon ]
b7f6f000      4K rw-s-  /dev/zero (deleted)
b7f70000      4K rw---    [ anon ]
bfd18000     88K rw---    [ stack ]
 total     1488K 
```

当我计算大小（btwn b7f6f000 和 b7f70000）时，它是 1000 字节而不是 4K。为什么内存没有被创建为 4K？. 为什么新创建的内存映射到 /dev/zero (deleted) 。是 rw-s- ， s 是交换空间。

源代码 ：

```
int main(){
 /* Variables */
 create_memory();
 return SUCCESS;
}

/* Create Memory Region in User Space in RAM */
int create_memory(){

 ptr_file_sys = mmap(NULL,4096,PROT_READ | PROT_WRITE,MAP_ANON | MAP_SHARED,-1,0);
 if(MAP_FAILED == ptr_file_sys){
  error_print("\n Cannot allocate memory space!\n");
 }
 else{
  debug_print("\n Memory Address : 0x%x \n",ptr_file_sys);
 }

 return SUCCESS;
}

int delete_memory(){
 munmap(ptr_file_sys,4096);
} 
```

# asp.net - ASP.net 中的 SimpleMembership

> ID：15901066
> 
> 赞同：0
> 
> 时间：2013-04-09T11:50:50.837
> 
> 标签：asp.net, asp.net-mvc, simplemembership

只是想知道您可以将它添加到任何 ASP.NET 4.5 项目中，还是必须是 MVC 项目？

我喜欢能够使用 SimpleMembership 自定义的想法。还有关于如何将其添加到项目中的任何好的教程或演示吗？

提前致谢

艾伦

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T12:01:34.077

看看下面的链接

SimpleMembership、Membership Providers、Universal Providers 和新的 ASP.NET 4.5 Web 窗体和 ASP.NET MVC 4 模板

[http://weblogs.asp.net/jgalloway/archive/2012/08/29/simplemembership-membership-providers-universal-providers-and-the-new-asp-net-4-5-web-forms-and- asp-net-mvc-4-templates.aspx](http://weblogs.asp.net/jgalloway/archive/2012/08/29/simplemembership-membership-providers-universal-providers-and-the-new-asp-net-4-5-web-forms-and-asp-net-mvc-4-templates.aspx)

使用-simplemembership-with-asp.net-webpages

[http://blog.osbornm.com/2010/07/21/using-simplemembership-with-asp.net-webpages/](http://blog.osbornm.com/2010/07/21/using-simplemembership-with-asp.net-webpages/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T12:23:28.770

我建议您使用自定义会员提供程序和自定义角色提供程序。

只需在您的课程中实现`System.Web.Security.MembershipProvider`and `System.Web.Secuiry.RoleProvider`。然后将您的课程设置为您`web.config`文件中的默认成员资格提供者和角色提供者。

```
<system.web>
.
.
.
<membership defaultProvider="CustomMember">
    <providers>
        <add name="CustomMember" type="CustomMember" requiresQuestionAndAnswer="false" connectionString="your database connection string"/>
</providers>
</membership>

<roleManager enabled="true" defaultProvider="CustomRoleProvider" cacheRolesInCookie="true" cookieName=".ASPROLES" cookieTimeout="30" cookiePath="/" cookieRequireSSL="false" cookieSlidingExpiration="true" cookieProtection="All">
    <providers>
        <add name="CustomRoleProvider" type="CustomRoleProvider"/>
    </providers>
</roleManager>
.
.
.
</system.web> 
```

现在您可以在您的 ASP.Net 项目中使用 Login 控件，而您的应用程序将完成剩下的工作。

# c - 无论数据类型如何，如何在c（不是c ++）中输入？我想要一个可以存储任何类型数据类型变量的通用变量

> ID：15901067
> 
> 赞同：-4
> 
> 时间：2013-04-09T11:50:51.677
> 
> 标签：c, types, type-systems

实际上，我想要一个变量，它可以接收各种值，无论是 int、float 还是 char。谁能告诉我一种方法来做到这一点。但是程序应该是 C 语言（而不是 C++）。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-09T12:01:12.493

您应该始终使用对您的应用程序有意义的类型，但如果您真的需要“无类型”数据元素，您可以使用 a 来实现`void *`，然后通过类型转换来使用它：

```
void *myvar = malloc(100);  // set up typeless element

*(int *)myvar = 10;         // cast to an int and save an int
printf("%d\n", *(int *)myvar);  // print as an int

*(float *)myvar = 10.25;    // cast to a float and save a float
printf("%f\n", *(float *)myvar); // print as a float 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-09T12:20:32.093

将输入读取为文本字符串（字符数组）。然后分析一下：

*   它是整数的有效字符序列吗？如果是这样，将其转换为整数（以适合它的为准：`signed char`, `short`, `int`, `long`,`long long`或`unsigned`相同的变体）
*   它是浮点数的有效字符序列吗？如果是这样，请将其转换为`float`or )`double``long double`
*   否则它是一个字符串（除非你想有一个单一的字符类型）

完成后，将转换后的值放入联合的适当成员并设置类型：

```
typedef struct
{
  int Type; // tells which one of the below holds the value
  union
  {
    signed char sc;
    unsigned char uc;
    short s;
    unsigned short us;
    int i;
    unsigned ui;
    long l;
    unsigned long ul;
    long long ll;
    unsigned long long ull;
    float f;
    double d;
    long double ld;
    char* str;
    char ch;
  } Value;
} tValue; 
```

请注意，看起来像整数的东西可能不适合最大的整数类型，在这种情况下，您可以选择将其转换为浮点值，可能会丢失精度。否则你可能会说这是一个错误并适当地处理它。

此外，在转换浮点数时，您可能应该先从较大的类型开始`long double`（`double``float`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-09T11:58:32.347

你的问题有两个答案。一种是使用**联合**（如果您仅限于 int、char 和 float）。另一种是致命的**void ***类型。它们都不是好的编码习惯。也许你应该改变问题:)

```
union {
  int i;
  char c;
  float f;
} u; 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-09T12:01:41.563

C 是一种强大的静态类型语言，因此在您所要求的意义上，您不能拥有动态变量。我猜你可以有一个 void 指针 (void*) 来指向任何东西，但这真的不是推荐的方法（你怎么知道要取消引用它？）。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-09T12:00:32.087

使用 void 指针来存储变量的地址并进行类型转换以将其取回“每种”类型。联合你仍然必须事先知道你要使用什么类型。要在宏中使用，请查找 gcc typeof

# php - php 下拉列表中数组中的重复键

> ID：15901070
> 
> 赞同：0
> 
> 时间：2013-04-09T11:51:01.073
> 
> 标签：php, arrays, drop-down-menu

我需要在下拉列表中显示 mysql 表中的重复值。我无法做到这一点，因为数组不能有重复的键。但是我发现了一个可以使用重复键的功能。

我需要有人可以指导我将下拉列表值放入此函数中：

下拉列表：

```
$dc=mysql_query("SELECT * FROM ECR_CBDC WHERE Prod_desc='$product' AND Ac_code='$custcode' AND Ecr_No=0 AND usr='$user' AND Cylno!='' ORDER BY Cylno ASC");
$num_rows = mysql_num_rows($dc);
$fill_from_array = array(); /* as "value"=>"option" */
for($i = 1; $i <= $num_rows; $i++)
{
$row = mysql_fetch_array($dc);
$fill_from_array[$row['Cylno']] = $row['Cylno'];
} 
```

具有重复键的功能：

```
<?php
function array_combine_($keys, $values)
{
$result = array();
foreach ($keys as $i => $k) {
$result[$k][] = $values[$i];
}
array_walk($result, create_function('&$v', '$v = (count($v) == 1)? array_pop($v): $v;'));
return    $result;
}

print_r(array_combine_(Array('2','2','3'), Array(2,2,3)));
?> 
```

表 ECR_CBDC 的列 Cylno 具有以下值：10 20 20 30 40 50 50

当我将上述值放入一个数组 - fill_from_array 时，这些值将如下所示：

```
10 => 10 
20 => 20 
30 => 30 
40 => 40 
50 => 50 
```

我在数组中需要的是：

```
10 => 10 
20 => 20 
20 => 20 
30 => 30 
40 => 40 
50 => 50 
50 => 50 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T11:55:25.350

只需使用您的 sql 查询来获取重复的记录。

```
SELECT * FROM ECR_CBDC WHERE Prod_desc='$product' AND Ac_code='$custcode' AND Ecr_No=0 AND usr='$user' AND Cylno!='' Having count(Cylno) > 1 ORDER BY Cylno ASC 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T11:59:38.097

我建议使用其他方式

```
function array_combine($array, $key, $value)
{
     $array[] = array('key' => $key, 'value' => $value);
     return $array;
} 
```

或者

```
function array_combine(Array $keys, Array $values)
{
    $array = [];
    foreach($keys as $i => $key)
    {
        $array[] = array('key' => $key, 'value' => $values[$i]);
    }
    return $array;
} 
```

最后你的数组可能看起来像

```
0 => [key] 2 | [value] 2
1 => [key] 2 | [value] 2
2 => [key] 3 | [value] 3 
```

当您在 SQl 上进行选择时，它将返回一个数组，如

```
[0] => [[field_1] => 10, [field_2] => 20],
[1] => [[field_1] => 10, [field_2] => 20],
[2] => [[field_1] => 10, [field_2] => 20], 
```

然后你可以使用 foreach

方法一，使用array_combine的第一种方法

```
$array = array(); // or [] for php 5.4+
foreach ( $results as $result)
{
    $array = array_combine($array, $result['field_1'], $result['field_2']);
} 
```

要使下拉菜单使用以下功能

```
function makeDropDown($array)
{
$options = '';
foreach($array as $value)
{
    $options .= '<option value="' . $value['key']  . '">' . $value['value']  . '</option>';
}
return $options;
} 
```

你应该像这样使用它

```
<select><?php echo makeDropDown($array); ?></select> 
```

# python - 使用 Tkinter，如何在选择单选选项时显示一个按钮，然后在不再选择该单选选项时消失？

> ID：15901072
> 
> 赞同：2
> 
> 时间：2013-04-09T11:51:13.337
> 
> 标签：python, user-interface, tkinter, hide

我已经看过很多与我现在正在制作的帖子相似的帖子，但我无法利用已提供的建议/解决方案。这是我的代码：

```
from tkinter import *
import random

# Set up the window
app = Tk()
app.title("SUVAT Learning Game")
app.geometry("720x500+400+100")
menubar = Menu(app)

def highscorewindow():
    app = Tk()
    app.title("High Scores")
    app.geometry("720x500+400+100")

    # create an area for working
    large_field = Text(app)
    large_field.pack(side = 'bottom', pady = 10)

    # create an area for an answer
    small_field = Entry(app)
    small_field.pack(side = 'bottom', pady = 10)

#   create areas for the terms
#   term_entry1 = Entry(app)
#   term_entry1.visible = False
#   term_entry1.pack(side = 'bottom', pady = 10)
#   term_entry1.pi = term_entry1.place_info()
#   term_entry1.place_forget()
#   term_entry2 = Entry(app)
#   term_entry2.visible = False
#   term_entry2.pack(side = 'bottom', pady = 10)
#   term_entry2.pi = term_entry2.place_info()
#   term_entry2.place_forget()
#   term_entry3 = Entry(app)
#   term_entry3.visible = False
#   term_entry3.pack(side = 'bottom', pady = 10)
#   term_entry3.pi = term_entry3.place_info()
#   term_entry3.place_forget()

def callback():
    print(small_field.get())

def toggle():
    term_entry1.visible
    term_entry1.place(term_entry1.pi)       
    term_entry1.visible = not term_entry1.visible

# Set up the questions
questionnumber = random.randint(1, 5)

choice = IntVar()

if questionnumber == 1:
    Question = Label(app, text = "A ball is thrown in the air at 13 metres per second and reaches 15 metres into the air. \n\n Which equation is the correct one to use? \n\n Calculate the speed of the ball at this point.")
    Question.pack(side = 'top', pady = 32)

    # create answer 1 radio button
    Choice1 = Radiobutton(text = "V = (((2*S - U)) / t)", variable = choice, value = 1, command = "")
    Choice1.pack(side = 'top', padx = 10)

    # create answer 2 radio button
    Choice2 = Radiobutton(text = "t = (S / ((U + V) / 2))", variable = choice, value = 2, command = "")
    Choice2.pack(side = 'top', padx = 10)

    # create answer 3 radio button
    Choice3 = Radiobutton(text = "V = (math.sqrt((U*U) + 2*a*S))", variable = choice, value = 3, command = toggle) ####correct
    Choice3.pack(side = 'top', padx = 10)

elif questionnumber == 2:
    Question = Label(app, text = "A truck is travelling at 25 metres per second when the brakes are applied. After 10 seconds, the truck comes to a stop. \n\n Which equation is the correct one to use? \n\n Calculate the deceleration of the truck.")
    Question.pack(side = 'top', pady = 32)

    # create answer 1 radio button
    Choice1 = Radiobutton(text = "a = ((V - U) / t)", variable = choice, value = 1, command = "") ####correct
    Choice1.pack(side = 'top', padx = 10)

    # create answer 2 radio button
    Choice2 = Radiobutton(text = "U = (S / (0.5*a*t))", variable = choice, value = 2, command = "")
    Choice2.pack(side = 'top', padx = 10)

    # create answer 3 radio button
    Choice3 = Radiobutton(text = "a = (S - (V*t) / (-0.5*(t*t)))", variable = choice, value = 3, command = "")
    Choice3.pack(side = 'top', padx = 10)

elif questionnumber == 3:
    Question = Label(app, text = "A tennis ball is thrown in the air. After 20 seconds, the ball reaches its maximum height. \n\n Which equation is the correct one to use? \n\n Calculate the initial speed of the ball.")
    Question.pack(side = 'top', pady = 32)

    # create answer 1 radio button
    Choice1 = Radiobutton(text = "U = (V / a*t)", variable = choice, value = 1, command = "") ####correct
    Choice1.pack(side = 'top', padx = 10)

    # create answer 2 radio button
    Choice2 = Radiobutton(text = "U = (S / (0.5*a*t))", variable = choice, value = 2, command = "")
    Choice2.pack(side = 'top', padx = 10)

    # create answer 3 radio button
    Choice3 = Radiobutton(text = "S = (V*t - 0.5*a*(t*t))", variable = choice, value = 3, command = "")
    Choice3.pack(side = 'top', padx = 10)

elif questionnumber == 4:
    Question = Label(app, text = "A firework travels upwards after being launched with a speed of 20 metres per second. \n\n Which equation is the correct one to use? \n\n Calculate the greatest height reached by the firework.")
    Question.pack(side = 'top', pady = 32)

    # create answer 1 radio button
    Choice1 = Radiobutton(text = "S = (((V*V)-(U*U) / 2*a))", variable = choice, value = 1, command = "") ####correct
    Choice1.pack(side = 'top', padx = 10)

    # create answer 2 radio button
    Choice2 = Radiobutton(text = "S = ((U*t) + 0.5*a*(t*t))", variable = choice, value = 2, command = "")
    Choice2.pack(side = 'top', padx = 10)

    # create answer 3 radio button
    Choice3 = Radiobutton(text = "a = (S / (U*t*0.5*(t*t)))", variable = choice, value = 3, command = "")
    Choice3.pack(side = 'top', padx = 10)

elif questionnumber == 5:
    Question = Label(app, text = "A well is 75 metres deep. A pebble is dropped from the top, and hits the bottom with a speed of 12 metres per second. \n\n Which equation is the correct one to use? \n\n Calculate the time the pebble takes to travel from top to bottom.")
    Question.pack(side = 'top', pady = 32)

    # create answer 1 radio button
    Choice1 = Radiobutton(text = "t = (S / ((U + V) / 2))", variable = choice, value = 1, command = "")
    Choice1.pack(side = 'top', padx = 10)

    # create answer 2 radio button
    Choice2 = Radiobutton(text = "S = ((U*t) + 0.5*a*(t*t))", variable = choice, value = 2, command = "")
    Choice2.pack(side = 'top', padx = 10)

    # create answer 3 radio button
    Choice3 = Radiobutton(text = "t = ((V - U) / a)", variable = choice, value = 3, command = "") ####correct
    Choice3.pack(side = 'top', padx = 10)

# create a pulldown menu for scores, and add it to the menu bar
scoremenu = Menu(menubar, tearoff=0)
scoremenu.add_command(label="View Highscores", command=highscorewindow)
scoremenu.add_command(label="Clear Highscores", command=callback)
scoremenu.add_command(label="New Question", command="")
scoremenu.add_separator()
scoremenu.add_command(label="Exit", command=app.quit)
menubar.add_cascade(label="Score Menu", menu=scoremenu)

# create pulldown menu for help
helpmenu = Menu(menubar, tearoff=0)
helpmenu.add_command(label="About", command="")
menubar.add_cascade(label="Help", menu=helpmenu)

nextbutton = Button(text = "Next", command = highscorewindow)
nextbutton.pack(side = 'top', pady = 10)
nextbutton.position_forget()

# display the menu
app.config(menu=menubar)

mainloop() 
```

从我的代码中可以看出，我在 Python 编码方面非常平均。我意识到，我的代码可能会更有效率，但我只是不知道如何实现这一点，这就是我来这里寻求帮助的原因。如果你们中的任何人想帮忙，我很乐意更多地解释我的代码。

提前致谢， 威尔

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-09T12:05:35.057

利用

```
button.pack_forget()
button.pack() 
```

或者

```
button.grid_forget()
button.grid() 
```

或者

```
button.place_forget()
button.place() 
```

复选按钮似乎有`Radiobutton(master, command = function)`

您可以在函数中使用上述按钮的上述方法。

# php - pdo.php 未找到

> ID：15901079
> 
> 赞同：0
> 
> 时间：2013-04-09T11:51:24.680
> 
> 标签：php, mysql, facebook

我在我的测试站点[http://www.weddingsplanner.co.in/test/收到了这么多错误](http://www.weddingsplanner.co.in/test/)

这是 index.php 的代码，我在页​​面 db.php 中遇到错误，但我认为如果我能从这里找到一些问题，它会解决

```
 <?php

    require_once 'config.php';

    function __autoload($class_name) 
    {
        include_once 'library/' . strtolower($class_name) . '.php';
    }

    $user = new User();

    $facebook = new Facebook(array(
      'appId'  => FB_ID,
      'secret' => FB_SECRET,
    ));

    if ($user->isLogged())
    {
        $registerOrLoginNeeded = false;
    }
    else
    {
        $registerOrLoginNeeded = true;

        /*
            To disable auto login, comment the code used to login automatically. 
            (Must be used together with documented changes in JavaScript)
            Start Here.
        */
        $fbUser = $facebook->getUser();

        if ($fbUser) 
        {
            try {

                $userProfile = $facebook->api('/me');

                if ($user->fbLogin($fbUser)) 
                {
                    $registerOrLoginNeeded = false;
                }
                else
                {
                    $db = Db::init();

                    $sth = $db->prepare("SELECT * FROM users WHERE email = ?");
                    $sth->execute(array($userProfile['email']));

                    if (false != $sth->fetch())
                    {
                        $sth = $db->prepare("UPDATE users SET facebook = ? WHERE email = ?");
                        if ($sth->execute(array($fbUser, $userProfile['email'])))
                        {
                            if ($user->fbLogin($fbUser))
                                $registerOrLoginNeeded = false;
                        }
                    }
                }

            } catch (FacebookApiException $e) {
                $fbUser = null;
            }
        }
        /*
            End Commenting Here
        */
    }   
?>

<!DOCTYPE html>

<html lang="en-US">
    <head>
        <title>Simple Registration System</title>
        <style>
            body { font: normal 14px Verdana; }
            h1 { font-size: 24px; }
            h2 { font-size: 18px; }
        </style>
    </head>
    <body>

        <div id="wrap">

            <section id="main">

                <?php if (false === $registerOrLoginNeeded): ?>

                    <h1>Welcome</h1>
                    <p>You may now enjoy the site.</p>
                    <a href="logout.php">Logout</a>

                <?php else: ?>

                    <div id="fb-root"></div>
                    <script type="text/javascript">
                      window.fbAsyncInit = function() {
                        FB.init({
                          appId      : '<?php echo $facebook->getAppID() ?>', // App ID
                          channelUrl : 'http://localhost.com/channel.html', // Channel File
                          status     : true, // check login status
                          cookie     : true, // enable cookies to allow the server to access the session
                          oauth      : true, // enable OAuth 2.0
                          xfbml      : true  // parse XFBML
                        });
                        FB.Event.subscribe('auth.login', function(response) {
                            /*
                                To have user login when FB login button is clicked
                                comment window.location.reload(); line and 
                                uncomment the window.location = "fb_login.php";
                                line. Must be used together with commenting the PHP part
                            */
                            window.location.reload();
                            //window.location = "fb_login.php";
                        });
                        FB.Event.subscribe('auth.logout', function(response) {
                          window.location.reload();
                        });
                      };
                      (function(d){
                         var js, id = 'facebook-jssdk'; if (d.getElementById(id)) {return;}
                         js = d.createElement('script'); js.id = id; js.async = true;
                         js.src = "//connect.facebook.net/en_US/all.js";
                         d.getElementsByTagName('head')[0].appendChild(js);
                       }(document));
                    </script>

                    <h1>Registration or login needed</h1>

                    <div style="float: left; margin-right: 15px;">

                        <h2>Register</h2>
                        <p>You need to register to fully enjoy this site.</p>

                        <div class="fb-registration" 
                          data-fields='[{"name":"name"},
                                        {"name":"birthday"},
                                        {"name":"location"},
                                        {"name":"gender"},
                                        {"name":"email"},
                                        {"name":"username","description":"Username","type":"text"},
                                        {"name":"password"}]' 
                            data-redirect-uri="http://localhost.com/register.php"
                          width="300">
                        </div>

                    </div>

                    <div style="float: left;">

                        <h2>Login</h1>
                        <p>
                            If you already have an account you can login 
                            using the form below:
                        </p>
                        <form action="login.php" method="POST">
                            <div>
                                <label for="username">Username:</label>
                                <input type="text" id="username" name="username" />
                            </div>
                            <div>
                                <label for="password">Password:</label>
                                <input type="password" id="password" name="password" />
                            </div>
                            <div><input type="submit" value="Login" /></div>
                            <p>
                                If you previously registered for this site using Facebook, 
                                you can now login using your Facebook account.
                            </p>
                            <div class="fb-login-button" data-show-faces="false" scope="email"></div>
                        </form>

                    </div>
                    <div style="clear:both;">&nbsp;</div>

                <?php endif; ?>

            </section>

        </div>

    </body>
</html> 
```

这是 db.php 的代码

```
<?php

class Db
{
    private static $db;

    public static function init()
    {
        if (!self::$db)
        {
            try {
                $dsn = 'mysql:host='.DB_HOST.';dbname='.DB_NAME;
                self::$db = new PDO($dsn, DB_USER, DB_PASS);
                self::$db->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);
            } catch (PDOException $e) {
                // Normally, we would log this
                die('Connection error: ' . $e->getMessage() . '<br/>');
            }
        }
        return self::$db;
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T11:57:59.337

正如在[http://www.weddingsplanner.co.in/test/library/](http://www.weddingsplanner.co.in/test/library/)上看到的，它没有列出文件`pdo.php`。

它试图包含在您的代码的这一行中：

```
function __autoload($class_name) 
{
    include_once 'library/' . strtolower($class_name) . '.php';
} 
```

验证您的文件夹并上传必要的文件，错误应该得到修复！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T11:55:34.717

请检查您的库文件夹中是否存在 pdo.php 文件。__autoload 函数尝试加载未定义的类。必须调用名为 pdo 的类。请核实。

# sharepoint - 如何以编程方式在 Sharepoint 库中创建 .docx 文件并通过 Sharepoint 列表提供内容

> ID：15901081
> 
> 赞同：0
> 
> 时间：2013-04-09T11:51:30.713
> 
> 标签：sharepoint

我有一个经常更新的 Sharepoint 列表。我正在使用客户端对象模型检索列表项。我想将列表内容写入 word 文件 (.docx) 并将其保存在同一 Sharepoint 站点上的文档库中。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T11:54:03.917

MSDN 上有一篇很好的文章可以满足您的要求。请[在此处查看](http://msdn.microsoft.com/en-us/library/ff742315.aspx)。还有[这篇](http://msdn.microsoft.com/en-us/magazine/ee532473.aspx)博客文章。

# android - 如何在 android 中使用经度和纬度获取谷歌地图上的区域位置？

> ID：15901083
> 
> 赞同：0
> 
> 时间：2013-04-09T11:51:41.533
> 
> 标签：android, google-maps

在 Google 地图中显示地址的位置。怎么可能..我如何在谷歌地图上获得地址..

显示覆盖区域的位置....帮帮我....我尝试了代码但不适合我....

```
Geocoder coder = new Geocoder(this);
List<Address> address;

try {
address = coder.getFromLocationName(strAddress,7);
if (address == null) {
    return null;
}
Address location = address.get(1);
location.getLatitude();
location.getLongitude();

 geo1 = new GeoPoint((int) (location.getLatitude() * 1E6),
                  (int) (location.getLongitude() * 1E6));

 return geo1;
  } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T11:59:31.737

代码显示在谷歌地图上的位置当你有`longitude`和`latitude`

```
 Intent intent = new Intent(android.content.Intent.ACTION_VIEW,
        Uri.parse("geo:0,0?q=" + latitude + "," + longitude));
        startActivity(intent); 
```

获取区域位置：例如：纽约市...

```
 try {
        Geocoder gCoder = new Geocoder(getApplicationContext());
        ArrayList<Address> addresses = (ArrayList<Address>) gCoder
                .getFromLocation(latitude, longitude, 1);
        if (addresses != null && addresses.size() > 0) {

            Log.d(addresses.get(0)
                    .getThoroughfare()
                    + " "
                    + addresses.get(0).getSubAdminArea()
                    + " "
                    + addresses.get(0).getAdminArea()
                    + ", "
                    + addresses.get(0).getCountryName());
        }
    } catch (Exception e) {
        // TODO: handle exception
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T12:24:12.497

请使用此代码

```
 @override

 public boolean onTouchEvent(MotionEvent event, MapView mapView) {  

  if (event.getAction() == 1) {  
   GeoPoint p = mapView.getProjection().fromPixels((int) event.getX(), (int) event.getY());

 Geocoder geoCoder = new Geocoder(getBaseContext(),  
  Locale.getDefault());  
 try {  
 List<Address> addresses = geoCoder.getFromLocation(  
  p.getLatitudeE6()/ 1E6, p.getLongitudeE6()/ 1E6,1);  

  String add = "";  
 if (addresses.size() > 0) {  
  for (int i = 0; i < addresses.get(0).getMaxAddressLineIndex(); i++)  
  add += addresses.get(0).getAddressLine(i) + "\n";  
 }  

 Toast.makeText(getBaseContext(), add, Toast.LENGTH_SHORT).show();  
 } catch (IOException e) {  
 e.printStackTrace();  
 }  
return true; 
```

# perl - Perl结构成数组

> ID：15901085
> 
> 赞同：0
> 
> 时间：2013-04-09T11:51:44.097
> 
> 标签：perl, file, structure

一个简单的问题，但我无法在任何地方找到解决方案。我有一个由学生组成的文本文件，可以说，看起来像这样：

```
1 bob smedley 4
2 rob nielsen 7
3 sol connie 9
4 jon sidney 18 
```

然后我有一个结构Student，看起来像这样：

```
struct Student => {ID => '$', name  => '$', surname => '$', points => '$',}; 
```

我使用以下方法将此文本文件加载到数组中：`@stud = <inFILE>;`

现在我想将每一行从我加载`@stud`到一个学生结构数组中。让我们这样称呼它`my @students;`，例如，我的第一个结构如下所示：

```
id = 1;
name = bob;
surname = smedley;
points = 4; 
```

并对`@stud`. 或者，我可以直接从文件中加载这些结构，但我认为使用临时数组 @stud 可能更容易。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-09T12:03:33.413

您不需要将文件 slurp 到数组中。您可以逐行处理它：

```
#!/usr/bin/perl
use warnings;
use strict;

use Class::Struct;
struct Student => {ID => '$', name  => '$', surname => '$', points => '$',};

my @students;

while (<>) {
    my ($id, $name, $surname, $points) = split;
    my $s = Student->new;
    $s->ID($id);
    $s->name($name);
    $s->surname($surname);
    $s->points($points);
    push @students, $s;
} 
```

# security - 单点触控安全问题

> ID：15901088
> 
> 赞同：1
> 
> 时间：2013-04-09T11:51:54.967
> 
> 标签：security, xamarin.ios

monotouch 中是否存在任何已知的安全问题？我应该注意的任何问题和漏洞。

另外，我在哪里可以找到最佳安全实践指南？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T12:06:41.037

我认为您会找到最接近的内容是[Apple 的安全指南。](https://developer.apple.com/library/mac/#documentation/security/Conceptual/SecureCodingGuide/Introduction.html)

MonoTouch 遵守 Apple 的规则，例如没有动态代码生成、应用程序沙盒等。我不认为它会比 Objective-C 应用程序更安全，因为它们只能在 C# 中公开 iOS API，Apple 向 Objective 公开的内容-C。MonoTouch 当然具有 .Net 基类库中的所有功能，但我看不出它们会如何存在安全漏洞，因为它们也被 Apple 的规则锁定。

我认为总的来说，这是一个好主意：

*   不要将敏感数据存储在纯文本文件中
*   除非加密，否则不要在 NSUserDefaults 中存储敏感数据
*   如果您使用 SQLite，请研究一种像[SQLCipher一样对其进行加密的方法](http://sqlcipher.net/)
*   使用 SQLite 的参数化 SQL 或使用像[sqlite-net](https://github.com/praeclarum/sqlite-net)这样的库，您不必担心 SQL 注入

# php - 将一个类的公共属性应用到另一个类

> ID：15901091
> 
> 赞同：0
> 
> 时间：2013-04-09T11:52:05.160
> 
> 标签：php, oop

我对 Opencart oo 编程很感兴趣。

在 opencart 中，从任何控制器文件中，我们可以很容易地看到这样的编程风格：-

```
class ControllerAccountAddress extends Controller {
    private $error = array();
    public function index() {
            if (!$this->customer->isLogged()) {
                $this->session->data['redirect'] = $this->url->link('account/address', '', 'SSL');
} 
```

我可以看到，在ControllerAccountAddress 类中，作者可以立即分配其他类生成的属性，至少不是来自扩展的Controller 类或在同一个php 页面中。因此，我怀疑，其他类创建的一些公共属性可以在这种“索引”方法中调用使用。

但是，当我尝试另一个这样的课程时：-

```
<?php
class Language{
    public $lang;

    function __construct($the_lang) {
        $this->lang = $the_lang;
    }

    function get_lang(){
        echo $this->lang;   
    }
}
?>

<?php
$try = new Language('English');
$try->get_lang();
?> 
```

结果将是“英语”。

然后，我尝试创建另一个类：-

```
<?php 
class Person {
    public $name;
    function trial() {
        $something = $this->lang . "OK";
    }

}
?> 
```

然后，无论我如何尝试， $this->lang 都无法使用，我怀疑它不适用于此方法。

我该怎么做才能生成可用于其他类方法的属性？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T12:01:17.153

`$this->lang`不能使用，因为 Person 对象没有`$lang`属性。当一个类由其他类组成时，您需要的称为组合。基本上，这意味着一个对象具有持有另一个对象的属性。

所以你想要组合，你需要依赖注入来启用它。

要使人使用语言，您需要：

```
class Person {
     public $name;
     public $lang; // This is object!

     public function __construct($lang) {
         $this->lang = $lang;
     }
}

$lang = new Language();
$john = new Person($lang); 
```

现在您可以像这样访问语言：

```
$jonh->lang->method(); 
```

此示例向您展示如何使用依赖注入通过对象构造函数推送对象。只需阅读有关组合和依赖注入的更多信息。

希望这可以帮助！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T12:00:32.723

Person 类与 Language 没有任何共同之处，因此您不能`$lang`在其中使用。

但...

你可以有一个字段，例如。在这样`$mother_language`的课堂上`Person`

```
class Person {
  public $name;
  public $mother_language;

  function __construct(){ // just to initialize $mother_language
    $this->mother_language = new Language('English');
  }

  function trial() {
    $something = $this->mother_language->lang . "OK";
  }
} 
```

# c++ - eof() 返回什么？

> ID：15901092
> 
> 赞同：2
> 
> 时间：2013-04-09T11:52:05.387
> 
> 标签：c++, eof, c-str

这是代码：

```
string fname = "/home/jack/example.csv";
ifstream csvin(fname.c_str());
if (csvin.eof()) {
    do_something;
} 
```

我的问题是：在什么情况下`eof()`返回 true。我有以下选择：

1.  文件不存在。
2.  文件为空。
3.  文件不存在或为空。

不幸的是，[文档](http://www.cplusplus.com/reference/ios/ios/eof/)没有帮助，因为我不知道`eofbit error state flag`意味着什么。我也不明白什么`End-of-File is reached in the sequence associated with the stream`意思。我假设 c_str() 返回一些迭代器，如果它已经被某些东西使用它可能已经到达终点。但是，我对结果`c_str()`新鲜的简单情况感兴趣，如果文件不存在，它将返回什么，如果文件为空，它将返回什么？

**已编辑**

我只想知道上面给出的代码在两种情况下返回了什么：

1.  文件不存在。
2.  文件为空。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-09T11:56:12.533

**当您在正在读取的流中的位置到达文件末尾时，**eof()返回 true。**它实际上返回读取文件末尾（试图读取过去）时设置的**eof 标志的值。**查看[C++: .eof on an empty file](https://stackoverflow.com/questions/12134242/c-eof-on-an-empty-file)以讨论 eof 和空文件！**

 *** * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-09T12:00:38.963

`eof`如果设置了 eofbit 标志，则返回`true`（表示在 的情况下到达文件末尾`ifstream`）。

eofbit 标志可以由流上的所有输入操作（例如 a `read`）设置，当输入操作尝试读取超过流的末尾时（iow ：到达流的末尾）。正如评论中所指出的，即使从概念上讲，只要读取最后一个字符（或不读取空流上的任何内容）就到达流的末尾，但流在尝试读取另一个字符之前并不知道这一点. 有关详细信息，请参阅每个输入操作的文档。

`if`请注意，构造流不是输入操作，因此在您展示的代码示例中，eofbit 在到达语句时不会设置。如果由于某种原因构造流失败（例如，文件不存在），则将设置失败位，可以使用`fail`.

*编辑*：看到您的编辑，我希望能更清楚地说明上述内容：

在您发布的代码中，`if`条件永远不会评估为真，因为`ifstream`构造函数没有设置 eofbit。

在文件不存在的情况下，将设置故障位，您可以像这样检查：

```
if (csvin.fail()) {
    // oops : failed to open the file for reading (file doesn't exist, or has the wrong permissions, or ...)
} 
```

在文件为空的情况下，构造函数不会报错，但对流的第一个输入操作将设置 eofbit。在第一次输入操作之后，您可以检查`eof`是否到达文件末尾。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-09T13:07:47.547

There's actually a small degree of implementation dependency as to when the `eofbit` is set. (The function `eof()` returns true if and only if the `eofbit` is set.) It is required to be set if, in the course of reading something (formatted or unformatted), a call to `streambuf::sgetc()` (or one of the other character getters) returns `std::char_traits::eof()`. It's not always clear when the implementation may look one character ahead—if it gets an end of file doing so, it sets `eofbit`; if it doesn't do the look-ahead, it doesn't.

I'm also unsure as to whether an implementation can set `eofbit` in cases where it knows that the next read must return `eof`, without actually having done the read; I'm fairly sure that existing implementations don't, however. (Do you really want the `eofbit` set when you seek to the end of file?) So in your example, you will almost surely never see `eof()` returning true.

All of this explains *why* you almost never do `input.eof()` (or `input.good()`, which includes the `eofbit` in its value as well). After trying to open the file, the usual condition is `if ( input.is_open() )`, although `input.fail()` can be used as well. When reading an already opened file, we test `input.fail()` *after* the attempted input, usually by using the stream object in a boolean context (i.e. `if ( input )`, or `if ( !input )`). *After* having detected failure, we may use `eof()` to determine whether the reason for failure was the end of file, or some other error (like `"abc"` when trying to input an `int`). Even then, it's not 100% infallible, and `eof()` may return true even if there was an error in the format. (Consider:

```
std::istringstream s( "1.3E+" );
double d;
s >> d; 
```

In this case, `s.eof()` will almost certainly return true, dispite the fact that the input fails because of an error in the format, and *not* because of end of file.)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-09T12:00:48.617

`eof()``true`如果流上的*最后一个操作*试图读取文件的最后一个字节，则返回。请注意，它告诉您有关上一次操作成功的信息，而不是下一次操作成功的信息。许多代码示例都做出了错误的假设，即它告诉您有关下一个操作的一些信息，因此代码的行为不会像预期的那样。**

# python - 非常基本的 Python 到 Excel 如何

> ID：15901098
> 
> 赞同：0
> 
> 时间：2013-04-09T11:52:23.513
> 
> 标签：python, excel

我正在尝试学习足够的 Python 来编写一个程序来从多个 Excel 文件中提取数据并将它们编译成一个 Excel 文件。我希望有人可以帮助我在哪里找到对此的基本了解。我知道这很模糊，但我还不确定从哪里开始。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-09T11:57:11.850

```
import xlrd

book = xlrd.open_workbook('myfile.xls')

print book.nsheets
print book.sheet_names()

sh = book.sheet_by_index(0)
print sh.name, sh.nrows, sh.ncols 
```

您还可以按工作表**名称**循环遍历 excel 文档的每一行：

```
worksheet = workbook.sheet_by_name('Sheet1')
num_rows = worksheet.nrows - 1
curr_row = -1
while curr_row < num_rows:
    curr_row += 1
    row = worksheet.row(curr_row)
    print row 
```

您可以在此处获取[xlrd 模块或在此处](https://pypi.python.org/pypi/xlrd)[获取](http://www.python-excel.org/)
Python excel 模块列表

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T11:55:33.470

可以使用 Python 2.4 Distribution 读取和写入 CSV（逗号分隔值）文件。像大多数语言一样，文件操作可以用 Python 完成。使用 Python 编写 CSV 文件可以通过导入 CSV 模块并创建将与 WriteRow 方法一起使用的写入对象来完成。读取 CSV 文件可以通过创建读取器对象并使用 print 方法读取文件以类似的方式完成。由于文件操作需要高级概念，因此需要一些 Python 编程知识来读取和写入 CSV（逗号分隔值）文件。

> 首先导入 CSV 模块：
> 
> 导入 csv
> 
> 我们将定义一个对象“writer”（名为 c），稍后可以使用它来写入 CSV 文件。
> 
> c = csv.writer(open("MYFILE.csv", "wb"))
> 
> 现在我们将应用该方法来写一行。Writerow 该方法接受一个参数 - 此参数必须是一个列表，并且每个列表项都相当于一列。在这里，我们尝试制作一个通讯录：
> 
> c.writerow(["姓名","地址","电话","传真","E-mail","其他"])

# javascript - 使用 javascript 在 LESS 中动态更改变量

> ID：15901109
> 
> 赞同：0
> 
> 时间：2013-04-09T11:52:42.760
> 
> 标签：javascript, json, less

我有一个“variables.less”文件，其中包含特定布局的所有变量列表。要更改布局视图，我需要重写“variables.less”文件或创建新文件（如“variables1.less”）并将其导入我的主 style.less。我不想这样做。我只想拥有一个文件“variables.less”。

我想知道 variables.less 文件中的变量是否可以在将 less 文件导入到声明我的整个样式的 style.less 之前使用 javascript 动态定义。在这里，我想在 JSON 文件中维护不同布局的所有变量值，并相应地将其读取到“variables.less”文件中。

有没有可能解决问题。如果不可能，我可以解释一下。

提前致谢

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-04-09T11:57:19.637

您可以使用

```
less.modifyVars({
    '@buttonFace': '#5B83AD',
    '@buttonText': '#D9EEF2'
}); 
```

# java - 使用java从e xcel中解析数 字

> ID：15901119
> 
> 赞同：0
> 
> 时间：2013-04-09T11:53:08.190
> 
> 标签：java, database, parsing, casting, poi-hssf

我有一个代码，它将从 excel 文件中收集一个数字并将其存储到 DB MySql 中。

> String P01_PickModul = row.getCell(13).getStringCellValue();

问题是我无法收集更多小数的数字，例如 1.04166666666667

我将sql上的数据类型设置为double。

你能帮我解决这个问题吗？谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T11:59:50.020

尝试 row.getDouble(13) 并且你的选择模块应该是双倍的，但我不知道，你的“行”是什么类型，所以它可能不起作用

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T11:56:22.337

尝试使用`long`作为数据类型并检查它是否有效。

# android - 是否可以修改 .apk 的安装，以便创建文件夹或一些不同的文件？

> ID：15901135
> 
> 赞同：0
> 
> 时间：2013-04-09T11:53:58.650
> 
> 标签：android, xamarin.android, apk, android-install-apk

.apk 是否有可能安装（在安装应用程序的其余部分时）一个包含一些文件的文件夹？很好，如果用户可以安装应用程序，将其与 PC 上的程序同步（现在通过 USB ......不要问）而无需第一次启动应用程序。

我已经通过互联网搜索了任何这些，但我得到的所有东西都只是教程如何从 apk 中提取文件，甚至更好的是，如何安装 apk ......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T11:58:38.517

> .apk 是否有可能安装（在安装应用程序的其余部分时）一个包含一些文件的文件夹？

不，对不起。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T12:14:22.417

实际上，应用程序可以在第一次运行时从 assets/ 中解压文件和文件夹。但是用户必须至少运行一次应用程序。

OTOH，您可以尝试创建一个在用户连接 USB 电缆时启动的应用程序——应该有关于此类事件的通知。

就像是：

```
<intent-filter>
    <action android:name="android.hardware.usb.action.USB_DEVICE_ATTACHED" />
</intent-filter> 
```

# javascript - jQuery：两级动态字段

> ID：15901138
> 
> 赞同：0
> 
> 时间：2013-04-09T11:54:04.833
> 
> 标签：javascript, jquery

我正在构建一个表单，并使用 jQuery 添加动态字段。该表单包含一个选择字段（*select 1* with id *childs*）：

```
 $("#childs").change(function() {
    var htmlString = "";
    var num = $("option:selected", this).val(); // max value is 6.
    for (var i = 0; i < num; i++) {
      htmlString += "Another set of fields";
    }
    $("#outputchilds").html(htmlString);
  }); 
```

*这将在 ID为 outputchilds*的元素上输出另一组字段。还有另一个选择字段（带有 id*房间的**select 2*），使用相同的技术，这是生成房间字段的代码：*`#childs`*

 *```
 $("#rooms").change(function() {
    var htmlString = "";
    var num = $("option:selected", this).val(); // max value is 8.
    for (var i = 1; i < num; i++) {
      htmlString += 'Set of fields that contain #outputchilds element';
    }
    $("#outputrooms").html(htmlString);
  }); 
```

房间字段生成正确，但子字段（它们包含在房间字段中）未按预期显示。

我认为`#outputchilds`每个生成的字段集必须是唯一的，例如：`#outputchilds-i`，但是如何重构我的代码呢？

**更新** application.js：

```
$(document).ready(function(){ 

  $("#rooms").change(function() {
    var htmlString = "";
    var num = $("option:selected", this).val();
    for (var i = 1; i < num; i++) {
      htmlString += '<div class="row-fluid">'+
                      '<div class="span1">'+
                        'Room '+ (i+1) +
                      '</div>'+
                      '<div class="span2">'+
                        '<div class="control-group">'+
                          '<label class="control-label">Children:</label>'+
                          '<select class="input-mini" id="children">'+
                            '<option value="0">0</option>'+
                            '<option value="1">1</option>'+
                            '<option value="2">2</option>'+
                            '<option value="3">3</option>'+
                            '<option value="4">4</option>'+
                            '<option value="5">5</option>'+
                            '<option value="6">6</option>'+
                          '</select>'+
                        '</div>'+
                      '</div>'+
                      '<div class="span7">'+
                        '<div class="row-fluid" id="outputchilds"></div>'+
                      '</div>'+
                    '</div>';
    }
    $("#outputrooms").html(htmlString);
  });

  $("#children").change(function() {
    var htmlString = "";
    var num = $("option:selected", this).val();
    for (var i = 0; i < num; i++) {
      htmlString +=   "<div class='span2'>"+
                        "<div class='control-group'>"+
                          "<label class='control-label'>Child "+ (i+1) +":</label>"+
                          "<select class='input-mini'>"+
                            "<option value='0'>0</option>"+
                            "<option value='1'>1</option>"+
                            "<option value='2' selected >2</option>"+
                            "<option value='3'>3</option>"+
                            "<option value='4'>4</option>"+
                            "<option value='5'>5</option>"+
                            "<option value='6'>6</option>"+
                            "<option value='7'>7</option>"+
                            "<option value='8'>8</option>"+
                            "<option value='9'>9</option>"+
                            "<option value='10'>10</option>"+
                            "<option value='11'>11</option>"+
                            "<option value='12'>12</option>"+
                            "<option value='13'>13</option>"+
                            "<option value='14'>14</option>"+
                            "<option value='15'>15</option>"+
                            "<option value='16'>16</option>"+
                            "<option value='17'>17</option>"+
                          "</select>"+
                        "</div>"+
                      "</div>";
    }
    $("#outputchilds").html(htmlString);
  });
}) 
```

索引.html：

```
<div class="row-fluid">
  <div class="span1">
    Room 1
  </div>
  <div class="span2">
    <div class="control-group">
      <label class="control-label">Children:</label>
      <select class="input-mini" id="children">
        <option value="0">0</option>
        <option value="1">1</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5</option>
        <option value="6">6</option>
      </select>
    </div>
  </div>
  <div class="span7">
    <div class="row-fluid" id="outputchilds">
      <!-- Dynamic Childs Age selects -->
    </div>
  </div>
</div>
<div id="outputrooms">
  <!-- Rooms fields -->
</div> 
```*

# css - 如何填充 div 内容直到正确的 div？

> ID：15901139
> 
> 赞同：0
> 
> 时间：2013-04-09T11:54:04.850
> 
> 标签：css, html, fill

您好，我的问题是如何用最小宽度（中央一个）填充 div 直到正确的 div 并且不破坏他

**CSS**

```
    。测试
    {
        高度：800px；
        显示：内联块；
    }

```

**HTML**

```
<body style="background-color:#e5e5e5;margin: 0">
    <div>
        <div style="
        height              : 37px;
    width               : 100%;
        background-color    : #3b5998;
    -webkit-box-shadow  : 0 2px 2px -2px rgba(0, 0, 0, .52);
    border-bottom       : 1px solid black;
    ">
        <div style="padding-top: 6px;margin-left: 76px;">
            <img src="images/logo-text.png" />
        </div>
    </div>
    <!-- -->
    <div>
        <div class="test" style="float : left;width: 130px;background-color : #e5e5e5"></div>
        <div class="test" style="min-width: 800px;background-color: white;"></div>
        <div class="test" style="float : right;width: 130px;background-color : red"></div>
    </div>
</div>
<div style="background-color : #e5e5e5;width : 100%;height: 100px">
</div>
</body> 
```

完整代码 [1] [http://pastebin.com/phrDAbPw](http://pastebin.com/phrDAbPw)

*谢谢*

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T12:18:05.257

浮动外部 div 不是这样做的方法。您可以使用`display: inline`或`display: inline-block`使 div 元素保持内联。在不知道您的确切规格的情况下，这是一个简单的示例：

**内联 CSS**

```
<div style="display: block;">
    <div class="test" style="display: inline-block;width: 130px;background-color: #e5e5e5">hi</div>
    <div class="test" style="display: inline-block;width: 800px;background-color: white;">hey</div>
    <div class="test" style="display: inline-block;width: 130px;background-color: red">ho</div>
</div> 
```

另请注意，这根本不会缩放——这意味着移动设备和分辨率较低的用户将拥有滚动条。考虑使用基于百分比的宽度来适应。否则，这是一个开始。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T12:01:35.263

如果您不想破坏它，只需使用最大宽度。但是为什么你不使用 %-widths 呢？例如：

```
<div id="left">

</div>
<div id="main">

</div>
<div id="right">

</div> 
```

CSS：

```
#left {
min-width: 200px;
width: 20%;
}

#main {
min-width: 700px;
width: 60%;
}

#right {
min-width: 150px;
width: 20%;
} 
```

# java - Java线程压力测试

> ID：15901141
> 
> 赞同：3
> 
> 时间：2013-04-09T11:54:08.113
> 
> 标签：java, multithreading, concurrency

我正在尝试对可以在单个 JVM 上运行的最大并发线程数以及创建大量线程所需的时间进行小测试。我有以下简单的代码

```
public class Threading {

  public static void main(String[] args) {
    Runnable task = new Runnable() {
        @Override
        public void run() {
            for (int i = 0; i < 100000; i++)
                ;
        }
    };

    long start = System.nanoTime();
    int runs = 1000000;
    for (int i = 0; i < runs; i++)
        new Thread(task).start();

    long time = System.nanoTime() - start;
     System.out.printf("Time for task to complete: %.2f seconds", (double) time / 1000000000.0);
 }
} 
```

我正在使用 VisualVM 来跟踪活动线程的数量。

我得到的结果似乎很奇怪。我达到的峰值活动线程约为 100，平均活动线程数约为 15。创建 100 万个线程需要 60 多秒。

![VisualVM 截图](https://i.stack.imgur.com/C2TrW.png)

我在这里做错什么了吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-09T11:57:48.360

从 0 计数到 100000 而不做任何其他事情是如此之快（甚至可能被 Hotspot 完全删除，将`run()`方法减少到 noop），您将永远不会有大量并发线程：开始一个新线程需要更多时间线程比线程完成和死亡所需的时间多。

为什么不让所有线程永远休眠？这将保证他们都开始了。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-09T11:57:22.153

> 我在这里做错什么了吗？

不，我不这么认为，尽管这取决于您要完成的工作。

我看到的唯一问题是您的工作循环将在*很*短的时间内完成。您的程序所花费的时间主要用于`Thread`创建而不是其他任何事情。

```
// this is going to take a couple ns at most
for (int i = 0; i < 100000; i++)
     ; 
```

我会显着增加每个线程正在做的工作量，看看这是否更像你的预期。

一旦你增加了每个线程正在做的工作量，你很快就会发现你很可能会在你能够分叉 100 万个线程之前很久就用完线程的堆栈空间内存或某些操作系统限制。

# android - 是否可以在 android 的邮件正文中添加内联图像或从可绘制的邮件正文中添加嵌入图像？

> ID：15901145
> 
> 赞同：1
> 
> 时间：2013-04-09T11:54:14.217
> 
> 标签：android, email, send

我已将drawable转换为base64，但它不起作用，而不是显示[OBJ]的图像

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T11:59:02.860

您不能在正文中添加图像。你可以使用`HTML`和格式化你的文本和其他东西。 [http://www.nowherenearithaca.com/2011/10/some-notes-for-sending-html-email-in.html](http://www.nowherenearithaca.com/2011/10/some-notes-for-sending-html-email-in.html)

# jquery - 必须存在警报框才能使 html() 和对话框在 Jquery 中正常工作

> ID：15901147
> 
> 赞同：0
> 
> 时间：2013-04-09T11:54:18.587
> 
> 标签：jquery, asp.net-mvc-4

我有这种非常奇怪的行为。

仅当在对话框打开之前显示警告框时，以下代码才能正常工作（从控制器中的 Action 获取 html）。

```
 var ticks;

    function InitializeDialog($element) {

        var t;
        $.get(approveAction + "?ticks=" + ticks, function (data) {
           t = data;
        });
        //alert(t);
        $element.html(t);

        $element.dialog({
            autoOpen: false,
            width: 650,
            height: 600,
            resizable: true,
            draggable: true,
            model: true,
            show: 'slide',
            closeText: 'x',
            dialogClass: 'alert',
            closeOnEscape: true,

            close: function () {
                $(this).dialog('close');
                window.location.reload();
            }

        });

    }

    $("#cal").on('click', ".events", function () {
        ticks = $(this).attr('value');
        InitializeDialog($("#comments"));

        $("#comments").dialog("open");
    }); 
```

如果我将 alert(t) 保留为注释，则对话框将显示为空，而如果我取消注释，则一切都按预期工作。类似的代码在应用程序的其他地方也能正常工作。

知道这是为什么吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T11:56:38.833

`.get`使用回调中动态加载的内容执行操作

```
$.get(approveAction + "?ticks=" + ticks, function (data) {
           t = data;
           // Perform operation's here
           $element.html(t);
           //...
}); 
```

# knockout.js - 将 Handlebars.js 预编译模板与 KnockoutJS 一起使用

> ID：15901155
> 
> 赞同：3
> 
> 时间：2013-04-09T11:54:25.263
> 
> 标签：knockout.js, handlebars.js, knockout-2.0

# 脚步

1.  添加了运行时把手`handlebars.runtime.js`
2.  html参考：`<tbody data-bind="template: { name: 'HtmlTemplates/Passos/rowPassos.html', foreach: Passos }"></tbody>`
3.  控制台错误*未捕获错误：找不到 ID 为 HtmlTemplates/Passos/rowPassos.html 的模板*

![Knockoutjs 与 handlebars.js](https://i.stack.imgur.com/wJcB4.jpg)

发生错误是因为 Knockoutjs 不能与 Handlebars 本机一起使用。问题是，如何将预编译模板（handlebars.js）与 knockoutjs 一起使用？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-10-04T12:44:58.637

*有点晚了，但我想迟到总比没有好。*

淘汰赛适用于模板 ID。( `<script id=".."></script>`) 不适用于 HTML 文件。我个人没有使用车把的经验，所以我不能对此发表评论。

但是，您似乎正在使用预编译，所以我猜这些 HTML 文件存在于服务器上，而不是内联的。

因此，您应该使用[外部模板](https://github.com/ifandelse/Knockout.js-External-Template-Engine)。我也在使用它，效果很棒。

在您的情况下，`HtmlTemplates/Passos/rowPassos.html`您应该给 KnockOut `HtmlTemplates/Passos/rowPassos`（所以没有 .html）而不是给它，并且外部模板应该为您获取它。

# java - Eclipse 中的拖放扩展

> ID：15901157
> 
> 赞同：1
> 
> 时间：2013-04-09T11:54:26.903
> 
> 标签：java, eclipse, drag-and-drop, swt

我正在我们使用的基于 Eclipse 的产品中实现拖放功能。本质上，我们正在扩展行为以添加我们自己的行为。

*   我已经使用 Eclipse 模板创建了一个自定义视图。它还为我呈现了一棵树。现在，在注册并实现拖放侦听器之后，我只能拖放该视图的组件。我们的初衷是将组件从其他已经就位的视图拖放到该视图。但我无法将它们拖到我的自定义视图中。

*   我想知道这里是否还有其他需要做的事情。

    1.  有一个现有的 UI 组件，比如一个面板，它具有树结构。我正在添加一个新面板，该面板也将具有树结构。我终于想将项目从第一个 UI 拖到第二个 [新] UI。
    2.  简单地在我的目标 UI [新 UI] 上添加一个放置侦听器不允许我将文件拖出第一个 UI 面板。

----------------解决到这里----------------

我已确保在拖动源和放置目标处使用相同的自定义传输类型。有了这个，我可以将组件从我的新面板拖到现有的面板，反之亦然。然而，我有 2 个问题。

1.  是否真的要求必须在拖动源和放置目标处使用相同类型的传输类型？

2.  我们的产品有一个有趣的场景。我们可以将文件从 Windows 资源管理器拖放到我们的产品中。那么，这是如何实现的呢？我的意思是，如果上述第1点成立，那么windows系统如何实现我们产品已经实现的自定义传输模式？[我知道 W 不这样做......可能它实现了一些通用传输的东西。

# java - 如何实现MongoDB全文搜索分页？

> ID：15901158
> 
> 赞同：7
> 
> 时间：2013-04-09T11:54:31.463
> 
> 标签：java, mongodb

现在我的搜索查询返回了 100 多个文档，如何为所有返回的文档实现分页？有没有办法用 mongoDB 实现它，或者我必须在服务器内存中获取所有结果并实现分页（这似乎不合理）。请注意，返回的 CommandResult 不是 DBCursor ！

```
 DBObject searchCommand = new BasicDBObject();
    searchCommand.put("text", collectionName);
    searchCommand.put("search", searchQuery);

    CommandResult commandResult = db.command(searchCommand); 
```

注意：我使用的是 Java。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-09T14:49:14.037

[`text`搜索命令](http://docs.mongodb.org/manual/reference/command/text/#dbcmd.text)没有 MongoDB 2.4 中的选项`skip`，因此任何分页都必须在您的应用程序代码中实现。

如果您考虑文本搜索的行为（即返回基于相关性排名的结果），一个`skip`选项仍然需要缓存或计算要跳过的初始结果。

### 效率

就您的应用程序中的有效分页而言，一些建议是：

*   缓存初始搜索的结果并切片页面大小的子集以供您的应用程序呈现
*   使用一个客户端插件，它在一个很好的分页视图中显示单个查询的结果（例如使用 jQuery [DataTables](http://www.datatables.net/)插件）

### 限制返回的结果数

文本搜索的默认设置`limit`是最多返回 100 个结果。您可以增加限制，但请记住，整个结果文档仍必须符合您的 MongoDB 服务器支持的[最大 BSON 文档大小](http://docs.mongodb.org/manual/reference/limits/#BSON%20Document%20Size)（16Mb，如 MongoDB 2.4）。还值得考虑的是，大多数用户在搜索结果页面时的耐心有限，因此如果您有几百个结果，建议改进搜索条件可能会更好。

### 其他选项

如果您已经超出了 MongoDB 2.4 文本搜索的当前限制（顺便说一句，它仍然被认为是“实验性的”），您可以随时升级到功能更全的搜索产品，例如[ElasticSearch](http://www.elasticsearch.org/)或[Apache Lucene](http://lucene.apache.org/)。有多种方法可以将 MongoDB 数据更新输入外部搜索产品，例如使用[ElasticSearch River 插件](https://github.com/richardwilly98/elasticsearch-river-mongodb)或[Mongo 连接器](http://blog.mongodb.org/post/29127828146/introducing-mongo-connector)。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2014-10-23T19:48:38.000

对于 MongoDB v2.6+

Spring.IO MongoDB 驱动程序最近添加了一个 TextCriteria，请参阅[$text $search your Documents with Spring Data MongoDB](http://spring.io/blog/2014/07/17/text-search-your-documents-with-spring-data-mongodb)

```
TextCriteria criteria = TextCriteria.forDefaultLanguage()
  .matchingAny("coffee", "cake");

Query query = TextQuery.queryText(criteria)
  .sortByScore()
  .with(new PageRequest(0, 5));

List<CookingRecipe> recipes = template.find(query, CookingRecipe); 
```

如果您使用的是[Grails MongoDB GORM 插件](http://grails.org/plugin/mongodb)，则从 3.0.2 开始，TextCriteria 在该 API 中不可用。

相反，您可以使用 mongodb api 来执行查询和分页：

```
// groovy/grails code... java code is very similar
BasicDBObject textSearch = new BasicDBObject('$text', new BasicDBObject('$search', 'cookie'))
BasicDBObject projection = new BasicDBObject('score', new BasicDBObject('$meta', 'textScore'))
BasicDBObject sort = new BasicDBObject('score', new BasicDBObject('$meta', 'textScore'))
DBCursor cursor = CookingRecipe.getCollection().find(textSearch, projection).sort(sort).skip(10).limit(5) 
```

# php - 如何重新排列将依赖项移到顶部的数组项？

> ID：15901159
> 
> 赞同：6
> 
> 时间：2013-04-09T11:54:34.910
> 
> 标签：php, arrays, algorithm, multidimensional-array

我有以下`array`每个项目可能（或可能不依赖）另一个项目：

```
$test = array(
    'c' => array(
        'depends' => 'b'
    ),
    'a' => array(),
    'b' => array(
        'depends' => 'a'
    ),
    'd' => array(
        'depends' => 'a'
    ),
); 
```

我想移动（或制作另一个`array`）**依赖项移动到顶部**。首先`a`，然后`b`和`d`（都取决于`a`），最后`c`取决于`b`。`b`和的顺序`d`无关：

```
$rearranged = array(
    'a' => array(),
    'b' => array(
        'depends' => 'a'
    ),
    'd' => array(
        'depends' => 'a'
    ),
    'c' => array(
        'depends' => 'b'
    ),
); 
```

我很确定这是一种很常见的情况，在**重新发明轮子**和浪费时间之前，我想知道是否有任何数据结构可以为我完成这项工作。

**编辑**：忘了说应该检测循环引用（`b`取决于`a`不`b`应该被允许）。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-09T11:57:27.587

这称为[拓扑排序](http://en.wikipedia.org/wiki/Topological_sorting)。如果您将您的结构视为一个图，其中“a 取决于 b”等于从顶点 b 到顶点 a 的有向边，您应该只进行拓扑排序来获得答案。

拓扑排序的实现可以这样完成：

让 graph[ n ][ n ] 成为与您的数组对应的图（graph[ i ][ j ] = 1 表示 j 取决于 i）。

1.  *ans* = {} // 空序列

2.  *收入*=**新数组**[ n ]

3.  *收入*[ i ] = 进入顶点 i 的边数

4.  *used* = **new array** [ n ] // 显示是否已经使用了任何顶点，默认全部为 false

5.  **while** *ans* .size != n // 仍然有未使用的顶点
    **确实开始**
    **找到**i **st** *收入*[ i ] == 0 并*使用*[ i ] == false
    *ans* .append( i )
    **用于每个**j st*图*[ i ][ j ] == 1**减少** *收入*[ j ]
    **结束**

6.  **返回**答案

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-09T12:05:07.483

[array_multisort](http://php.net/manual/en/function.array-multisort.php)将在这里为您提供帮助..

```
<?php

    $test = array(
        'c' => array(
            'depends' => 'b'
        ),
        'a' => array(),
        'b' => array(
            'depends' => 'a'
        ),
        'd' => array(
            'depends' => 'a'
        )
    );

    function sortArray($array= array())
         {
            $depend = array();
            foreach ($array as $key => $value)
            {

                if (isset($value['depends']))
                {
                    $depend[$key] = $value['depends'];
                }
                else
                {
                   $depend[$key] = null;
                }

            }
            return $depend;
         }

         function findCircularReference($array)
         {
            foreach($array as $key=>$value)
            {
               if(isset($array[$value]) && ($array[$value] == $key))
               {
                  return true;
               }
            }
            return false;
         }

         $depend = sortArray($test);
         $checkReference  = findCircularReference($depend);

         if( ! $checkReference)
         {
             array_multisort($depend, SORT_ASC, $test);
         }
         else
         {
             trigger_error("Circular reference", E_USER_ERROR);
         }

         print_r($test);
?> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-10-23T21:32:06.177

I have been inspired by the [Wikipedia page Topological Sorting](http://en.wikipedia.org/wiki/Topological_sorting). So I made some self algorithm.

```
/**
 * Class Top
 *
 * @package Lib\Sort
 */
class Top
{
    /**
     * Unsorted nodes
     *
     * @var array
     */
    protected $_nodes = array();

    /**
     * Nodes structure
     *
     * @var array
     */
    protected $_structure = array();

    /**
     * Stored nodes
     *
     * @var array|null
     */
    protected $_sortedNodes;

    /**
     * Stored nodes
     *
     * @var array
     */
    protected $_level = 0;

    /**
     * Status of mode "single non-edge node"
     *
     * @var bool
     * @see setModeSingleNonEdgeNode()
     */
    protected $_singleNonEdgeNode = true;

    /**
     * Get status of "Single non-edge node" mode
     *
     * @return boolean
     * @see setModeSingleNonEdgeNode()
     */
    public function isModeSingleNonEdgeNode()
    {
        return $this->_singleNonEdgeNode;
    }

    /**
     * Set status of "Single non-edge node" mode
     *
     * This status means that sorting will move only first non-edged node to top.
     * Rest non-edge nodes will be added according to sorting in _nodes property
     * In case it will FALSE all nodes will be moved to top.
     *
     * @param boolean $flag
     * @return $this
     */
    public function enableModeSingleNonEdgeNode($flag)
    {
        $this->_singleNonEdgeNode = (bool)$flag;
        return $this;
    }

    /**
     * Add node
     *
     * @param string $name
     * @param array  $dependsOn
     * @throws Exception
     * @return $this
     */
    public function addNode($name, array $dependsOn = array())
    {
        if (null !== $this->_sortedNodes) {
            throw new Exception('Nodes already sorted.');
        }
        $this->_nodes[$name]     = $name;
        $this->_structure[$name] = $dependsOn;
        return $this;
    }

    /**
     * Sort
     *
     * @return array
     */
    public function getSortedNodes()
    {
        if (null === $this->_sortedNodes) {
            $this->_sortedNodes = array();
            //insert non-edged nodes
            $this->_performNonEdgedNodes();
            //insert edged nodes
            $this->_performEdgedNodes();
        }
        return $this->_sortedNodes;
    }

    /**
     * Move node into sorted list
     *
     * @param string $name
     * @throws Exception
     * @return $this
     */
    protected function _moveNodeToSortedList($name)
    {
        $node = $this->_takeNode($name);
        if ($node) {
            $this->_sortedNodes[] = $node;
        } else {
            throw new Exception("The node '$name' has already been taken.");
        }
        return $this;
    }

    /**
     * Take node from the list
     *
     * @param string $name
     * @return string|null
     */
    protected function _takeNode($name)
    {
        if (!isset($this->_nodes[$name])) {
            return null;
        }
        $node = $this->_nodes[$name];
        unset($this->_nodes[$name]);
        return $node;
    }

    /**
     * Perform node sorting
     *
     * @param string $name
     * @return $this
     * @throws Exception
     */
    protected function _performNode($name)
    {
        $node = $this->_takeNode($name);
        if (null === $node) {
            return $this;
        }
        foreach ($this->_structure[$node] as $depNode) {
            $this->_checkCycledEdges($node, $depNode);
            $this->_performNode($depNode);
        }
        $this->_sortedNodes[] = $node;
        return $this;
    }

    /**
     * Check cycled edges
     *
     * @param string $node
     * @param string $edgeNode
     * @return bool
     * @throws Exception
     */
    protected function _checkCycledEdges($node, $edgeNode)
    {
        if (in_array($node, $this->_structure[$edgeNode])) {
            throw new Exception("Cyclic dependencies between $edgeNode and $node.");
        }
        return true;
    }

    /**
     * Perform edged nodes
     *
     * @return $this
     */
    protected function _performEdgedNodes()
    {
        while (!empty($this->_nodes)) {
            $name = current($this->_nodes);
            $this->_performNode($name);
        }
        return $this;
    }

    /**
     * Perform non-edged nodes
     *
     * @return $this
     */
    protected function _performNonEdgedNodes()
    {
        foreach ($this->_structure as $name => $edges) {
            if (!$edges) {
                $this->_moveNodeToSortedList($name);
                if ($this->isModeSingleNonEdgeNode()) {
                    //to add only first node and to add rest non-edge nodes according to sorting in _nodes property
                    break;
                }
            }
        }
        return $this;
    }
} 
```

And made tests for this class:

```
<?php
namespace Lib\Sort;

/**
 * Class TopTest
 *
 * @package Lib\Sort
 */
class TopTest extends \PHPUnit_Framework_TestCase
{
    public function testBasicSorting()
    {
        $test = new Top();
        $test->addNode('A');
        $test->addNode('B', array('A', 'F'));
        $test->addNode('C', array('B', 'D'));
        $test->addNode('D', array('F'));
        $test->addNode('E', array('A', 'F'));
        $test->addNode('F', array('A'));
        $test->addNode('G');
        $this->assertTrue($test->isModeSingleNonEdgeNode());
        $actual   = $test->getSortedNodes();
        $expected = array('A', 'F', 'B', 'D', 'C', 'E', 'G');
        $this->assertEquals($expected, $actual);
    }

    /**
     * Test sorting of last node with many edges
     *
     * @throws Exception
     */
    public function testLastNodeSorting()
    {
        $test = new Top();
        $test->addNode('A', array());
        $test->addNode('B', array('A', 'F'));
        $test->addNode('C', array('B', 'D'));
        $test->addNode('D', array('F'));
        $test->addNode('E', array('A'));
        $test->addNode('F', array('A', 'E'));
        $actual   = $test->getSortedNodes();
        $expected = array('A', 'E', 'F', 'B', 'D', 'C');
        $this->assertEquals($actual, $expected);
    }

    /**
     * Test sorting disabled mode "Single non-edge node"
     *
     * @throws Exception
     */
    public function testDisabledSingleNonEdgesSorting()
    {
        $test = new Top();
        $test->addNode('A');
        $test->addNode('B', array('A', 'F'));
        $test->addNode('C', array('B', 'D'));
        $test->addNode('D', array('F'));
        $test->addNode('E', array('A'));
        $test->addNode('F', array('A', 'E'));
        $test->addNode('G');
        $test->enableModeSingleNonEdgeNode(false);
        $actual   = $test->getSortedNodes();
        $expected = array('A', 'G', 'E', 'F', 'B', 'D', 'C');
        $this->assertEquals($actual, $expected);
    }

    /**
     * Test exception for cyclic nodes
     *
     * @expectedException \Lib\Sort\Exception
     * @expectedExceptionMessage Cyclic dependencies between E and F.
     */
    public function testCyclicSortingFailure()
    {
        $test = new Top();
        $test->addNode('A', array());
        $test->addNode('B', array('A', 'F'));
        $test->addNode('C', array('B', 'D'));
        $test->addNode('D', array('F'));
        $test->addNode('E', array('A', 'F'));
        $test->addNode('F', array('A', 'E'));
        $test->getSortedNodes();
        //expected an exception
    }

    /**
     * Test exception for cyclic nodes
     *
     * @expectedException \Lib\Sort\Exception
     * @expectedExceptionMessage Nodes already sorted.
     */
    public function testAddNodeAfterSortingFailure()
    {
        $test = new Top();
        $test->addNode('A', array());
        $test->addNode('B', array('A', 'F'));
        $test->addNode('C', array('B', 'D'));
        $test->addNode('D', array('F'));
        $test->addNode('E', array('A'));
        $test->addNode('F', array('A', 'E'));
        $test->getSortedNodes();
        $test->addNode('H', array('E'));
        //expected an exception
    }
} 
```

Maybe it will be useful for someone.

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-10-25T21:26:37.997

我想使用最基本的依赖排序，并将其作为一个可行的解决方案。到目前为止，测试了多种变体和工作声音。

```
private function getSorted($type)
{
    uasort($this->assets[$type], array($this, 'sortDependancies'));
    return $this->assets[$type];
}

 /**
 * Sorting utility function via uasort from getSorted
 * 
 * @returns sort order
 */
private function sortDependancies($a, $b)
{
    if ( is_array($b['dependant']) && in_array($a['alias'], $b['dependant'])) return -1;

    if ( $a['alias'] == $b['dependant'] ) return -1;

    return 1;
} 
```

我创建了它以在 js 和 css 资产集合对象的数组中使用。

```
protected $assets = array(
    'stylesheets' => array(
            'main' => array(
                'alias' => 'main',
                'path' => 'somepath.less',
                'dependant' => 'bootstrap'
            ),
            'bootstrap' => (
                'alias' => 'bootstrap',
                'path' => 'bootstrap.css',
                'dependant' => NULL
            )
        ),
    'javascripts' => array()
); 
```

所以我会在 getSorted() 中调用 $type 即“样式表”或“javascripts”

我还做了它，因此它可以使用数组作为“依赖项”而不是字符串来处理多个依赖项。

如果需要简化此上下文，请告诉我，毕竟我确实在对象中创建了它...

干杯!

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-04-09T12:23:38.297

测试和工作：

基本上，它遍历每个节点并从树的顶部检查该节点的深度，并将该值附加到一个新数组`$ar`。然后它`$test`根据存储在`$ar`using中的每个节点的深度级别进行排序`array_multisort()`。

```
<?php
$test = array(
    'c' => array(
        'depends' => 'b'
    ),
    'a' => array(),
    'b' => array(
        'depends' => 'a'
    ),
    'd' => array(
        'depends' => 'a'
    ),
);

function getNodeLevel($ar,$n,$ref=array())
{
       if(!isset($ar[$n]['depends'])){return 0;}
       if(in_array($n,$ref)){return -1;}
       $ref[]=$n;
       $r=getNodeLevel($ar,$ar[$n]['depends'],$ref);
       return ($r==-1?-1:$r+1);
}

$ar=array();

foreach($test as $i=>$tmp)
{
    $ar[]=getNodeLevel($test,$i);
}

if(!in_array(-1,$ar))
{
    array_multisort($ar,SORT_ASC,$test);
    print_r($test);
}else{
     trigger_error("Circular reference detected.", E_USER_ERROR);
} 
```

# iphone - 使用 nsdateformatter 从字符串中获取日期

> ID：15901162
> 
> 赞同：-1
> 
> 时间：2013-04-09T11:54:44.510
> 
> 标签：iphone, xcode, nsdateformatter

我在从字符串中获取正确日期时遇到了一些问题。我的代码如下：

```
NSDateFormatter* df = [[NSDateFormatter alloc] init];
    [df setDateFormat:@"yyyy-MM-dd HH:mm:ss"];
NSLog(@"ex date == %@", [df dateFromString:@"2013-04-09 15:57:17"]); 
```

它像这样打印`2013-04-09 10:27:17 +0000`
它应该像这样显示并且应该像这样打印 2013-04-09 15:57:17 有人可以帮忙吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T12:02:48.350

使用我的方法...

```
-(NSString *)changeDateFormat:(NSString*)stringDate dateFormat:(NSString*)dateFormat getwithFormat:(NSString *)getwithFormat{

    NSDateFormatter *dateFormatter = [[[NSDateFormatter alloc] init] autorelease];
    [dateFormatter setDateFormat:dateFormat];

    NSDate *date = [dateFormatter dateFromString:stringDate];

    dateFormatter = [[[NSDateFormatter alloc] init] autorelease];
    [dateFormatter setDateFormat:getwithFormat];

    NSString *convertedString = [dateFormatter stringFromDate:date];
    NSLog(@"Converted String : %@",convertedString);
    return convertedString;
} 
```

像下面这样使用它...

```
NSString *strSDate = [self changeDateFormat:@"2013-04-09 15:57:17" dateFormat:@"yyyy-MM-dd HH:mm:ss" getwithFormat:@"dd/MM/yyyy"];
NSLog(@"ex date == %@",strSDate ); 
```

它会打印..

**前日期 == 09/04/2013**

见[我的博客...](http://parasjoshi3.blogspot.in/)

# java - Selenium-如何使用 selenium-eclipse-mozilla 找到确切的文本

> ID：15901167
> 
> 赞同：0
> 
> 时间：2013-04-09T11:55:01.007
> 
> 标签：java, selenium, automation

我是 Selenium RC 的新手，目前正在使用 Java 运行脚本。下面是场景

# 设想

我正在尝试登录我的应用程序，一旦我登录必须找到登录名/用户名。一旦我找到登录名/用户名，我将执行/单击不同的链接，否则注销。登录后我无法验证我真正想要的文本。

请在下面找到代码。

提前致谢。

导入 com.thoughtworks.selenium.DefaultSelenium；导入 com.thoughtworks.selenium.Selenium；

公共类TestRun {

```
 public static void main(String[] args) {

        Selenium selenium=new DefaultSelenium("localhost", 4444 , "*firefox","myurl");
        selenium.start();
        selenium.open("myurl");
        System.out.println("Open browser "+selenium);
        selenium.windowMaximize();
        selenium.type("id=j_username","Lal");
        selenium.type("name=j_password","lal");
        System.out.println(selenium.isElementPresent("id=j_username"));
        selenium.click("name=submit");
                    if(selenium.isTextPresent("Lal"))
        {
            selenium.click("id=common_header_logout");
        }
                    else
        {
            System.out.println("User not found");
        }

} 
```

}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T12:41:50.023

如果上一个命令是单击，您需要等待一段时间才能使用“isElementPresent”。

公共静态无效主要（字符串[]参数）{

```
 Selenium selenium=new DefaultSelenium("localhost", 4444 , "*firefox","myurl");
    selenium.start();
    selenium.open("myurl");
    System.out.println("Open browser "+selenium);
    selenium.windowMaximize();
    selenium.type("id=j_username","Lal");
    selenium.type("name=j_password","lal");
    selenium.click("name=submit");
    **selenium.waitForPageToLoad("60000");**
    if(selenium.isTextPresent("Lal"))
    {
        selenium.click("id=common_header_logout");
    }
    else
    {
        System.out.println("User not found");
    } 
```

}

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-10T05:38:09.673

==================================================== ==============

# 用于在 Selenium 自动化中处理 SSL 证书异常的 Firefox 配置文件

1.  确保您的所有 Firefox 实例都已关闭
2.  单击开始>运行
3.  键入“firefox.exe -ProfileManager -no-remote”
4.  选择“创建个人资料”
5.  单击下一步按钮。
6.  输入新的配置文件名称（即 SeleniumProfile）
7.  选择一个目录文件夹来存储您的新配置文件。
8.  结束
9.  单击“启动 Firefox”并配置设置。
10.  在“查看\工具栏”选项卡中，取消选中“书签工具栏”
11.  从工具栏中右键单击，然后单击“自定义”。
12.  将“Google 搜索”拖到“自定义工具栏”窗口中，将其删除
13.  在“自定义工具栏”窗口中，单击“使用小图标”复选框，然后点击“完成”
14.  单击“工具\选项”，然后设置以下内容： a)。“主要”选项卡

    *   将主页设置为“关于：空白”
    *   取消选中“显示下载..”选项

    乙）。“选项卡”选项卡

    *   为新页面选择“新窗口”
    *   取消选中所有警告选项

    C）。“内容”选项卡

    *   取消选中“阻止弹出”窗口选项

    d)。“隐私”选项卡

    *   取消选中所有“历史”选项

    e)。“安全”选项卡

    *   取消选中所有“安全”选项
    *   单击“设置”并取消选中所有警告选项

    F）。“高级”选项卡

    *   从“常规”选项卡中取消选中“自动滚动”选项
    *   从“更新”选项卡中取消选中“警告我……”和“搜索引擎”选项
15.  打开有证书错误的站点。发生以下步骤时出现错误

    *   添加例外：选择加密，单击 ViewCertificate 并单击 AddException 在位置键入“ [https://cretificateurl.com](https://cretificateurl.com) ”并获取证书，然后单击“确认安全例外”并按 OK。
16.  在地址栏中输入“about:config”并通过右键单击页面上的任意位置并选择“new”添加以下内容

    *   extensions.update.notifyUser (type=boolean; value=false)
    *   extensions.newAddons (type=boolean; value=false)
17.  使用 java -jar selenium-server.jar -firefoxProfileTemplate "" 运行 selenium 服务器

# javascript - 瓦片地图在更新时闪烁

> ID：15901168
> 
> 赞同：0
> 
> 时间：2013-04-09T11:55:01.013
> 
> 标签：javascript, jquery, canvas, map, tile

我试图使用平铺地图编辑器创建的 JSON 文件将游戏地图绘制到画布上。

我相信我快到了，但我有一个问题。如果我在我的更新函数中调用加载地图，我会得到地图在画布中闪烁。我想这是因为我每次更新都要清除画布。

因此，如果我移动调用以在主 js 文件中的任何其他位置加载场景，例如 game_settings 函数（这是我想要的），我只会得到一个空白画布。

这是我的主要 js 文件：

```
var canvas;
var ctx;

$(document).ready(function(){

canvas = document.getElementById("TBG");
ctx = canvas.getContext("2d");

var game_width = canvas.width;
var game_height = canvas.height;

var scene = new Scene();

$('#new_but').click(function(){
    game_init("new");
});

$('#load_but').click(function(){
    game_init("load");
});

function game_init(state) {
    game_settings(state);
    update();
}

function game_settings(state){
    if(state == "load"){
        ui.load_game();

    }
    else{
        //set beginning params
        ui.new_game();
    }
}

function update(){

    ctx.clearRect(0,0,canvas.width,canvas.height);
    scene.load("level_01");

    setTimeout(update,1);
}
}); 
```

我的问题：我应该在哪里调用 scene.load 方法？

如果您想查看场景类文件，请[点击此处](http://codeviewer.org/view/code:31c0)

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-11-13T05:58:41.063

我认为有关 tilemap 闪烁的问题不是由画布清除引起的，而是由于

```
scene.load(); 
```

每次调用

> 更新（）

加载图块需要一些时间，因此在图块加载期间画布将是空白的（因为已调用*“ctx.clearRect(0,0,canvas.width,canvas.height);”*），并且在图块之后加载的画布将再次被填充。所以你会看到闪烁的效果。两种方法将有助于解决此问题：

1.  在加载新图块之前不要清除画布并且
2.  已加载图块的本地存储。

这些可以避免闪烁问题，希望对您有所帮助。

# java - 控制来自 ant 的 log4j 输出

> ID：15901173
> 
> 赞同：0
> 
> 时间：2013-04-09T11:55:17.830
> 
> 标签：java, ant, log4j2

这是我的 log4j2.xml：

```
<?xml version="1.0" encoding="UTF-8"?>
<configuration status="debug">
   <appenders>
      <Console name="CONSOLE" target="SYSTEM_OUT">
         <PatternLayout pattern="%d %-5p [%t] %C{2} (%F:%L) - %m%n"/>
      </Console>
      <File name="LOGFILE" fileName="log/helloWorld.log">
         <PatternLayout pattern="%d %-5p [%t] %C{2} (%F:%L) - %m%n"/>
      </File>
      <Asynch name="ASYNC">
         <appender-ref ref="LOGFILE"/>
         <appender-ref ref="CONSOLE"/>
      </Asynch>
   </appenders>
   <loggers>
      <root level="info">
         <appender-ref ref="ASYNC"/>
      </root>
   </loggers>
</configuration> 
```

这是我的 build.xml：

```
<project default="helloWorld">
    <target name="helloWorld">
        <echo message="Hello World"/>
    </target>
</project> 
```

build.xml 输出一行，记录器设置为 INFO.. 但我在日志中看到 87 行输出（其中只有 14 行似乎是 INFO）！[http://pastebin.com/6LMxLTge](http://pastebin.com/6LMxLTge)

我错过了什么让所有这些调试通过？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-10T20:31:40.963

以下行将 Log4j 2 配置为记录每个“状态事件”：

```
<configuration status="debug"> 
```

相反，请尝试以下`error`级别：

```
<configuration status="error"> 
```

[Log4j 2 状态消息](http://logging.apache.org/log4j/2.x/manual/configuration.html#Status_Messages)

# asp.net - ASP.net DataPager 将第一个和最后一个链接呈现为页码

> ID：15901175
> 
> 赞同：0
> 
> 时间：2013-04-09T11:55:22.830
> 
> 标签：asp.net, datapager

我想以格式创建寻呼机

```
[Prev][1] ... [8 (current)] ... [25(last)] [Next] 
```

我遇到的问题是第一个和最后一个链接。我尝试使用“ `NextPreviousPagerField`”控件并将其设置`ShowFirstPageButton/ShowLastPageButton`为 true。不幸的是，当我这样做时，第一个和最后一个链接呈现文本“ `First`”和“ `Last`”。我希望他们呈现为“1”以及最终的页码是什么。

我如何创建这个？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T18:41:27.233

我最终使用了 TemplatePagerFields：http: [//msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.templatepagerfield.aspx](http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.templatepagerfield.aspx)

# javascript - 使用逻辑 OR 运算符的 if 语句中的多重比较

> ID：15901178
> 
> 赞同：2
> 
> 时间：2013-04-09T11:55:27.407
> 
> 标签：javascript

我想做他以下，但它不起作用：

```
if(pathname == '/ik/services/' || '/ik/recruitment/'){
   //run function
} 
```

它完全忽略了我的 if 语句并执行所有页面的代码......

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-09T11:56:46.730

你必须做这样的事情：

```
if(pathname == '/ik/services/' || pathname == '/ik/recruitment/'){
   //run function
} 
```

您`|| '/ik/recruitment/'`将永远是[真实](http://javascriptweblog.wordpress.com/2011/02/07/truth-equality-and-javascript/)的，因此您的 if 语句中的代码将始终运行。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-04-09T11:57:19.553

尝试

```
if(pathname == '/ik/services/' || pathname == '/ik/recruitment/'){ 
```

**或者**

jQuery**[`inArray`](http://api.jquery.com/jQuery.inArray/)**

**例子**

```
var arr = ['/ik/services/','/ik/recruitment/'];

if($.inArray(pathname , arr) !== -1) 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-09T11:58:22.747

这与jQuery无关，它只是一个普通的JS“错误”。您需要将两个字符串与变量进行比较：

```
if (pathname == 'foo'  || pathname == 'bar') 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-09T11:56:56.823

试试这个：

```
if((pathname == '/ik/services/') || (pathname == '/ik/recruitment/')){
   //run function
} 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-04-09T11:57:12.760

尝试做

```
 if(pathname == '/ik/services/' || pathname == '/ik/recruitment/'){
      //run function
    } 
```

# python - GitPython：确定在特定提交中删除的文件

> ID：15901180
> 
> 赞同：3
> 
> 时间：2013-04-09T11:55:31.047
> 
> 标签：python, git, python-2.7, gitpython

使用 gitpython，我正在尝试获取已更改路径的列表；也就是说，所有添加、更改和删除的文件。

我可以从提交中检索更改和添加的文件：

*   结帐提交'X'
*   遍历 repo.tree() 并收集所有 blob 的 abspath

如果文件在特定提交中被删除，它将不再显示在树中。如何获取所有已删除文件的名称？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T13:16:34.157

您可以查看提交的父母并比较两个（或更多，取决于父母的数量）树的内容。

# javascript - 如何在 analytics.js 中为谷歌分析设置页面速度日志记录

> ID：15901187
> 
> 赞同：12
> 
> 时间：2013-04-09T11:55:43.663
> 
> 标签：javascript, google-analytics, analytics.js

谷歌发布了新的`Analytics.js`（[https://developers.google.com/analytics/devguides/collection/analyticsjs/](https://developers.google.com/analytics/devguides/collection/analyticsjs/)）。我想使用它，除了网站速度之外，我已经把所有东西都设置好了。

在“旧”中`ga.js`，您可以这样做

```
_gaq.push(['_setSiteSpeedSampleRate', 50]); 
```

这将使 50% 的访问者将网站速度报告给分析。

但是，对于新的`analytics.js`我无法让它工作。我尝试了以下2个：

```
ga('send','setSiteSpeedSampleRate',50);
ga('setSiteSpeedSampleRate',50); 
```

但没有结果。有任何想法吗？

* * *

## 回答 #1

> 赞同：36
> 
> 时间：2013-04-09T13:21:40.163

啊，我找到了答案。现在必须在 create 方法中设置，如下所示：

```
ga('create', 'UA-39262824-7', {'siteSpeedSampleRate': 100}); 
```

那里可以使用更多字段，在这里找到它：[Google Analytics Site Speed Sample Rate](https://developers.google.com/analytics/devguides/collection/analyticsjs/field-reference#siteSpeedSampleRate)

# html - 引导嵌套视图

> ID：15901188
> 
> 赞同：1
> 
> 时间：2013-04-09T11:55:43.817
> 
> 标签：html, twitter-bootstrap, html-table

我想用 Bootstrap 元素实现以下布局，有什么建议吗？

```
<table width="100%" border="0" cellspacing="0" cellpadding="0">
  <tr>
    <td><table width="100%" border="0" cellspacing="0" cellpadding="0">
      <tr>
        <td>1</td>
        <td rowspan="2">unified columns</td>
      </tr>
      <tr>
        <td>2</td>
        </tr>
    </table></td>
  </tr>
</table> 
```

尝试从[Bootstrap 站点](http://twitter.github.io/bootstrap/scaffolding.html)上的示例中执行此操作，但无法获得相同的视图。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-09T14:05:02.967

都是行和跨度。您有一排具有内行和内跨度等。

```
<div class="row">
    <div class="span6">
        <div class="row">
            <div class="span2">
                <div class="row">
                    <div class="row">
                        <div class="span2">hello</div>
                    </div>
                    <div class="row">
                        <div class="span2">bootstrap</div>
                    </div>    
                </div>
            </div>
            <div class="span4">
                example
            </div>  
        </div>
    </div>
</div> 
```

# ios - 如何检查带小数的双精度数是否可整除？

> ID：15901195
> 
> 赞同：0
> 
> 时间：2013-04-09T11:55:53.553
> 
> 标签：ios, objective-c, math, floating-point, double

我正在尝试测试一个数字是否可以被另一个完全整除（无余数）。如果我将它与 int 进行比较，它可以正常工作：

```
NSTimeInterval timeElapsed = // a double goes here

// round to 3 decimal points to avoid floating point weirdness
timeElapsed = [[NSString stringWithFormat:@"%.3f",timeElapsed] doubleValue]; 
```

进而

```
// This works correctly

if (fmod(timeElapsed, 1) == 0) {
           NSLog(@"is divisible");
 } 
```

但是如果我将它与小数进行比较，它会失败，只是间歇性地触发：

```
// This does NOT work correctly

if (fmod(timeElapsed, .1) == 0) {
            NSLog(@"is divisible");     
} 
```

我究竟做错了什么？

**编辑：**在阅读了下面的答案和精彩评论后，我得出的结论是，这整个方法是一个坏主意。无法保证能够生成特定的时间间隔。最好只创建单独的计时器而不是听一个“主”计时器。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-09T12:01:23.123

通常浮点数不能精确表示，因为您只有有限数量的位来表示它们（通常为 32 或 64）。因此，您永远不应该测试完全相等，而是在可接受的小公差范围内进行测试，例如

```
if (fabs(fmod(timeElapsed, .1)) < SOME_SMALL_VALUE) {
    NSLog(@"is divisible");     
} 
```

如果您要编写任何严肃的数字代码，最好阅读[Goldberg 关于浮点运算的论文。](http://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-09T12:18:33.740

如果您想在 0.1 秒后重复使用 NSTimer 执行任务：

```
NSTimer *timer =  [NSTimer scheduledTimerWithTimeInterval:0.1
            target:self
            selector:@selector(yourMethod:)
            userInfo:nil
            repeats:YES]; 
```

要停止计时器调用：

```
[timer invalidate]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-14T15:33:40.233

这是一种可怕的做法。浮点数不可信。为每个元素提供自己的计时器，这样您就不必听特定的数字。

# jquery - 滚动动画边距顶级问题

> ID：15901200
> 
> 赞同：0
> 
> 时间：2013-04-09T11:56:08.363
> 
> 标签：jquery, ruby-on-rails, coffeescript, scroll

我有这个代码和

.cscc

```
.messages{
   width:95%;
   height:200px;
   overflow:auto;
 }
.message{
   width:98%;
 &:hover{
   background: #d6d6f0;
   cursor: pointer;
 }
}
.message-author{
    float:left;
}
.message-date{
 float:right;
 }
.message-header{
    display:block;
}
.message-content{
    padding:1em
} 
```

html.erb

```
<div class="messages" data-url="<%= dialog_url @dialog_user %>">
<div id="messages-container">
<% @messages.each do |msg| %>
    <div class="message">
    <div class="message-header">
        <div class="message-author"> <%= msg.from.username %> </div>
            <div class="message-date"> <%= msg.created_at %> </div>
    </div>
    <br>
    <div class="message-content"> <%= msg.body %> </div>
    </div>
<% end %>
</div> 
```

js

```
jQuery ->
 $(document).ready ->
$(".messages").niceScroll({cursorcolor:"#b8b8b8"})

val1 = $("#messages-container").height()
val2 = $(".message").last().height()
val = val1 - val2 - 100

$("#messages-container").animate marginTop: "-=" + val + "px" 
```

当 js 动画完成后，我失去了滚动 div 的能力

一些帮助图片 ![图1](https://i.stack.imgur.com/X77Ze.png)

或者你可以在这里看到问题 ccc-chat.herokuapp.com （注册任何假电子邮件）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T12:21:47.900

修理它。忘记部署最后一次提交。现在工作

# javascript - 使用 javascript 删除一些 html 标签

> ID：15901207
> 
> 赞同：0
> 
> 时间：2013-04-09T11:56:29.773
> 
> 标签：javascript

我想使用javascript删除一些html标签，如***td***和***href 。***数据是一个 ajax 返回的表数据，我想在浏览器页面的 div 上显示之前对其执行这些操作。
***1.***我想删除表格的第 4 列和第 5 列（即 Stamps 和 Status）
***2.***我还想从表格行的第一列中删除 'a href' 标记（连同它包含的 javascript），所以只有“Sukhvinder Singh GUJRAL”会留在那里。

这是代码

标题是：

```
<table width=0 border=1 cellspacing=0 cellpadding=1><font>
<tr bgcolor=silver align=center>
<th><font style="font-size: 10pt">Name</th>
<th width=60><font style="font-size: 9pt">Entry<br>info</th>
<th width=40><font style="font-size: 9pt">Instant Messaging</th>
<th width=30><font style="font-size: 9pt">Stamps</th>
<th width=40><font style="font-size: 9pt">Status</th>
</tr> 
```

表中只有一行，但我给出了该行的示例：

```
<tr bgcolor="#FFFFFF" align=center>
<td align=left><font><a href="javascript:ed_fct('st-eduid%3Ded243547%2Cou%3Dpeople%2Cdc%3Dst%2Cdc%3Dcom')" onmouseover="return true" onmouseout="return true">Sukhvinder Singh GUJRAL</a>
</td>
<td align=center>
<font>&nbsp;<font style="font-size: 8pt">ST person</font>
</td>
<td align=center>
<font color=red>N/A</font>
</td>
<td align=center>
<font><a href="javascript:usm_fct('./Stamping_View/user_stamping_view.php','st-eduid%3Ded243547%2Cou%3Dpeople%2Cdc%3Dst%2Cdc%3Dcom')" onmouseover="return true" onmouseout="return true">stamp</a>
</td>
<td align=center>
<font><font style="color: green">Active</td>
</tr>
</table> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T12:29:38.747

像下面这样尝试它会帮助你..

**小提琴示例：http:** [//jsfiddle.net/RYh7U/125/](http://jsfiddle.net/RYh7U/125/)

我已将 ID 分配给表格`tblinfo`

**查询：**

你有 5 列，所以我`Slice()`用来删除最后两列（4 和 5）。

```
$(document).ready(function() {
  $("#tblinfo th").slice(-2).remove();
  $("#tblinfo td").slice(-2).remove();
   $('#tblinfo td a').each(function(){
    $(this).contents().unwrap();
   });
}); 
```

如果您不想要表 ID ，请`tblinfo`尝试如下

小提琴示例：http: [//jsfiddle.net/RYh7U/126/](http://jsfiddle.net/RYh7U/126/)

```
$(document).ready(function() {
  $("th").slice(-2).remove();
  $("td").slice(-2).remove();
  $('td a').each(function(){
  $(this).contents().unwrap();
  });
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T12:29:24.120

检查以下 JS fiddle 以获得答案。

[http://jsfiddle.net/JLVML/](http://jsfiddle.net/JLVML/)

您可以使用以下代码删除锚标签

```
$("a").replaceWith($("a").text()); 
```

希望这对您有所帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-09T12:39:54.937

我假设您正在回调或其他什么，这`xhr`是对`XMLHttpRequest`对象的引用。这里的诀窍是我们创建了一个临时分离的`div`元素，并将它的`innerHTML`属性设置为`xhr.responseText`. **然后我们修改内存**中的元素，这样就不会导致多次 DOM 回流。[http://jsfiddle.net/S7uK2/](http://jsfiddle.net/S7uK2/)

```
var tempEl = document.createElement('div'),
    textNode = document.createTextNode(),
    els, i, el;

tempEl.innerHTML = xhr.responseText;

//remove a tag
el = tempEl.querySelector('td:first-child a');
textNode.nodeValue = el.innerText;
el.parentNode.replaceChild(textNode, el);

//remove other elements
els = tempEl.querySelectorAll('th:nth-child(n+4), td:nth-child(n+4)');
i = els.length - 1;

while (i >= 0) {
    el = els[i];
    el.parentNode.removeChild(el);
    i--;
} 
```

此时，`tempEl.innerHTML`包含清理过的表格标记，您可以使用它在`DOM`.

# c# - 在文本框中显示列表

> ID：15901208
> 
> 赞同：0
> 
> 时间：2013-04-09T11:56:30.037
> 
> 标签：c#, list

我正在尝试创建一个对象列表来创建一个排行榜。

这是`class`为`object`：

```
public class LeagueRow
{
    public String teamName { get; set; }
    public String managerName { get; set; }
    public Int32 played { get; set; }
    public Int32 won { get; set; }
    public Int32 draw { get; set; }
    public Int32 lost { get; set; }
    public Int32 goalsFor { get; set; }
    public Int32 goalsAgainst { get; set; }
    public Int32 goalDifference { get; set; }
    public Int32 points { get; set; }

} 
```

然后我尝试添加每一行，并显示每一行`literal1`以查看列表的内容。在这里看到：

```
goalDifference = goalsFor - goalsAgainst;

List<LeagueRow> leagueTeamRow = new List<LeagueRow>();
leagueTeamRow.Add(new LeagueRow { teamName = dReader["teamName"].ToString(), managerName = dReader["ManagerFirstName"].ToString() + " " + dReader["ManagerSurname"].ToString(), played = gamesPlayed, won = won, draw = draw, lost = lost, goalsFor = goalsFor, goalsAgainst = goalsAgainst, goalDifference = goalDifference, points = points });

for (int i = 0; i < leagueTeamRow.Count; i++)
{
    Literal1.Text += (leagueTeamRow[i].ToString());
} 
```

我遇到了一个问题，因为在`rows`中显示了正确的数量`literal`，但是数据只有项目的名称和行名称，例如：`PROJECTNAME.LeagueRow`多次。

谁能告诉我我做错了什么？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-09T11:58:36.927

您正在向`object`文字添加 ，当您调用`ToString()`一个对象时，您只会获得类型/命名空间，我怀疑您想要该属性。您需要执行以下操作：-

```
Literal1.Text += (leagueTeamRow[i].teamName); 
```

显然替换`teamName`为正确的属性。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-09T11:59:58.320

覆盖`LeagueRow`类的 ToString 方法以返回要显示的正确内容（例如，团队和经理名称）。

```
 public class LeagueRow
    {
        public String teamName { get; set; }
        public String managerName { get; set; }
        public Int32 played { get; set; }
        public Int32 won { get; set; }
        public Int32 draw { get; set; }
        public Int32 lost { get; set; }
        public Int32 goalsFor { get; set; }
        public Int32 goalsAgainst { get; set; }
        public Int32 goalDifference { get; set; }
        public Int32 points { get; set; }

        public override string ToString()
        {
            return string.Format("TeamName: {0}, ManagerName: {1}", teamName, managerName);
        }
    } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-09T12:00:29.450

该`LeagueRow.ToString()`方法是来自 的基础方法`Object`。

您需要覆盖该`ToString()`方法或连接要显示的字符串。

覆盖：

```
public class LeagueRow
{
    public String teamName { get; set; }
    public String managerName { get; set; }
    public Int32 played { get; set; }
    public Int32 won { get; set; }
    public Int32 draw { get; set; }
    public Int32 lost { get; set; }
    public Int32 goalsFor { get; set; }
    public Int32 goalsAgainst { get; set; }
    public Int32 goalDifference { get; set; }
    public Int32 points { get; set; }

    public override string ToString()
    {
        return string.Format("TeamName: {0}, ManagerName: {1}", teamName, managerName);
    }
} 
```

连接：

```
goalDifference = goalsFor - goalsAgainst;

List<LeagueRow> leagueTeamRow = new List<LeagueRow>();
leagueTeamRow.Add(new LeagueRow { teamName = dReader["teamName"].ToString(), managerName = dReader["ManagerFirstName"].ToString() + " " + dReader["ManagerSurname"].ToString(), played = gamesPlayed, won = won, draw = draw, lost = lost, goalsFor = goalsFor, goalsAgainst = goalsAgainst, goalDifference = goalDifference, points = points });

for (int i = 0; i < leagueTeamRow.Count; i++)
{
    Literal1.Text += (leagueTeamRow[i].teamName+"\t"+leagueTeamRow[i].managerName);
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-09T12:00:59.387

您这样做的方式很好，*但是*，您需要覆盖`ToString`类中的方法并在那里定义您希望字符串的外观。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-09T12:01:58.470

检查您正在使用的数据读取器，如果数据读取器中有一堆行，则必须循环遍历它以选择正确的值。就像是

```
 dr[i]["teamName"]; 
```

# c++ - 堆pqueue中的快速合并功能->指针？

> ID：15901209
> 
> 赞同：0
> 
> 时间：2013-04-09T11:56:32.237
> 
> 标签：c++

我正在尝试在优先级队列的堆实现中执行快速合并功能。我将 heappqueue 的“堆”数组（字符串）加倍，开始。我是否认为“string first = one->heap[count]”会给我一个名为“first”的字符串，它是数组“heap”（heappqueue 类中的私有成员数组）中 int count 处的字符串？我得到了一些奇怪的结果...

```
HeapPQueue *HeapPQueue::merge(HeapPQueue *one, HeapPQueue *two) {
    one->expandCapacity();// Double heappqueue one's heap capacity
    int size2 = two->logSize;
    int count = 1;
        for (int i = size2 + 1; i <= size2 * 2; i++) {// concatinate heaps by copying heappqueue one's heap again
            string first = two->heap[count];
            one->heap[i] = first;
            count++;
            one->logSize++;// increase heapqueue one's logSize as it copies
    }
    int index = one->logSize;
    one->reverseHeapify(index);// call to private member function on heappqueue one

    return one;
}

void HeapPQueue::reverseHeapify(int index) {
    if (index == 1) return; // base case
    string this1 = heap[index];
    string node1 = heap[index / 2];
    if (node1 > this1) {
        heap[index / 2] = this1;
        heap[index] = node1;
    }

    reverseHeapify(index - 1);

} 
```

# android - 使用 Robotium 测试已经运行的 Activity

> ID：15901210
> 
> 赞同：0
> 
> 时间：2013-04-09T11:56:33.180
> 
> 标签：android, robotium, android-testing

我尝试测试一个应用程序，该应用程序每次启动时都会启动一项特殊活动。让我们称之为 Activity `AlreadyStartedActivity`。测试用例如下所示：

```
public class AlreadyStartedActivityTest extends ActivityInstrumentationTestCase2<AlreadyStartedActivity> {

    public AlreadyStartedActivityTest() {
        super(AlreadyStartedActivity.class);
    }

    public void testStart() {
        Solo solo = new Solo(getInstrumentation(), getActivity());

        // use solo to click and test some features of the activity.
    }
} 
```

问题是`AlreadyStartedActivity`配置`AndroidManifest.xml`如下：

```
<activity android:name=".activity.AlreadyStartedActivity"
        android:taskAffinity=""
        android:excludeFromRecents="true"
        android:launchMode="singleTop" /> 
```

`singleTop`避免调用，这将永远`AlreadyStartedActivity#onCreate`阻止该方法。`getActivity`

我能做些什么来避免这种情况吗？

问候

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T12:17:32.750

It looks like you haven't properly setup test class. You need to add default constructor:

```
public class AlreadyStartedActivityTest extends
        ActivityInstrumentationTestCase2<AlreadyStartedActivity> {

    public AlreadyStartedActivityTest() {
        super(AlreadyStartedActivity.class);
    }

    public void testStart() {
        Solo solo = new Solo(getInstrumentation(), getActivity());

        // use solo to click and test some features of the activity.
    }
} 
```

And probably it is better to move `Solo` to `setUp()` method.

# javascript - 带有javascript选择选项的列表元素

> ID：15901211
> 
> 赞同：0
> 
> 时间：2013-04-09T11:56:33.913
> 
> 标签：javascript

我有以下选择项：

```
<select id="mySelect">
  <option>Apple</option>
  <option>Kiwi</option>
  <option>Banana</option>
  <option>Orange</option>
</select> 
```

和这样的输入：

```
<input type="text" id="entry" />
<button type="button" onclick="verify();">Verify !</button> 
```

如果我想用 JavaScript 验证输入条目是否是`mySelect`我应该如何进行的元素？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-09T11:59:01.627

```
function verify() {
    var inputVal = document.getElementById("entry").value,
        options = document.getElementById("mySelect").options;

    for (var i = 0, len = options.length; i < len; i++) {
        if (options[i].text === inputVal)
            return true;
    }

    return false;
} 
```

**演示：http:** [//jsfiddle.net/HPYL2/](http://jsfiddle.net/HPYL2/)

# android - 无法对非静态方法进行静态引用错误

> ID：15901217
> 
> 赞同：1
> 
> 时间：2013-04-09T11:56:39.383
> 
> 标签：android, listview, binding, sqliteopenhelper

我从我的代码中收到以下错误

> '不能对 SQLiteOpenHelper 类型的非静态方法 getReadableDatabase() 进行静态引用'

在`Database.java`文件中。如果我使用 Eclipse 来解决错误，那么文件中就会发生错误`FavouriteScreen.java`。有谁知道如何解决它？

***FavouritesScreen.java***

```
// Get a Cursor for the list items
Cursor listCursor = Database.GetFavouritesList();
startManagingCursor(listCursor);

// set the custom list adapter
setListAdapter(new MyListAdapter(this, listCursor)); 
```

和

***数据库.java***

```
public static Cursor GetFavouritesList(){
try
{
return(getReadableDatabase().rawQuery("SELECT SocietyName FROM Favourites",null));
}
catch(SQLiteException e)
{
Log.e("Favourites", e.toString());
}
return null;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-09T12:01:52.087

错误是您正在做不允许的事情！解决方案：

1.  将所有代码`getReadableDatabase()`放在函数中，确保不要调用非静态函数。

2.  做`getReadableDatabase()`静态的。

3.  使`getReadableDatabase()`非静态并更改您的称呼方式：

    ```
    Database database = new Database();
    Cursor listCursor = database.GetFavouritesList(); 
    ```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T12:01:31.623

问题是，您试图在静态方法中使用非静态方法。`getReadableDatabase()`也应该是静态的，因为这应该有效。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-09T12:02:16.330

`getReadableDatabase()`是**实例**方法，而不是**类**方法。您需要一个实例，例如：

```
public static Cursor GetFavouritesList(SQLiteOpenHelper helper){
try
{
return(helper.getReadableDatabase().rawQuery("SELECT SocietyName FROM Favourites",null));
}
catch(SQLiteException e)
{
Log.e("Favourites", e.toString());
}
return null;
} 
```

# sql - SQL 存储速率随时间变化，SELECT 速率对特定时间有效

> ID：15901223
> 
> 赞同：1
> 
> 时间：2013-04-09T11:56:52.460
> 
> 标签：sql, postgresql

在 SQL 表 person_rate 中，我们存储了一个随时间变化的速率浮点值。列：

```
id (serial, PK)
person_id (int)
date_from (date)
rate (float) 
```

`(person_id, date_from)`是独一无二的，因为每天最多允许更改一次（可能是 PK，但这并不重要）

给定 person_id 的速率值在时间域内有效，从`date_from`date 到下一个 succesive 记录`date_from`，或者如果没有这样的记录，则到无限未来。例子：

```
id   person_id  date_from  rate
101  1          2011-01-01 100.0
145  1          2012-01-01 180.0
193  1          2012-05-01 140.0 
```

现在我需要一个 SELECT 查询，它对每个给定的 $date都`person_id`返回一个有效值。`rate`假设 2012-03-01 是 180；2012-05-02 是 140 等等。

我测试过的解决方案：

1）条件`date_from <= $date`+使用窗口函数`rank() OVER (PARTITION BY person_id ORDER BY date_from DESC`+超选`WHERE rank = 1`

2) 类似于 1) 但使用`SELECT DISTINCT ON (person_id)`而不是将等级限制为 1

1) 和 2) 都表现不佳，EXPLAIN 表明 db 需要对每个记录进行排序`person_id`，然后首先限制为 1。可能这种类型的查询不能充分利用索引`date_from`？

**IDEA** - 添加一个`date_to`列，这会有点多余，因为该值将是“连续记录的 date_from，减去 1 天”（如果没有连续记录，则为 +infty）。但是随后的查询可能是`date_from <= $date AND date_to >= $date`- 这可能会对 date_from 和 date_to 上的索引产生良好的性能。

但我有点害怕在这种情况下如何管理数据完整性 - 如何设置一个 person_id 的 [ date_from .. date_to ] 间隔不应该重叠的约束？

对于这种类型的查询，postgresql 的最佳解决方案是什么？负载是读取最多的，对 person_rate 表的写入不多。典型的查询内部需要获取每月每一天的费率......

也许这个使用 pg 9.2 上的新索引[的索引/主键序数的 SQL 查询可以以某种方式提供帮助？](https://stackoverflow.com/questions/11623928/sql-query-for-index-primary-key-ordinal?answertab=votes#tab-top)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T12:04:03.323

使用这个简单的查询：

```
SELECT person_id, date_from, rate FROM person_rate where date_from in (SELECT MAX(date_from) FROM person_rate WHERE date_from <= 'provided Date' and person_id = provided_id) 
```

获取所有人员费率使用。

```
SELECT a.person_id, a.date_from, a.rate FROM person_rate a JOIN (SELECT person_id, MAX(date_from) as date_from FROM person_rate where date_from <= 'provided Date') b ON(a.date_from = b.date_from and a.person_id = b.person_id) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T12:04:32.810

您可以使用`LEAD`生成`to_date`列

```
with scd_table (
    select  a.*  , 
            lead(from_date,1,to_date('31/12/9999','dd/mm/yyyy')) over (partition by a order by from_date asc) as to_date
    from    YOUR_TABLE a
)
select  * 
from    scd_table
where   :d >= from_date
and     :d < to_date 
```

（这是 oracle 语法，但是`lead`是 ANSI 标准）

我认为你应该重新考虑你的设计 - 寻找缓慢变化的维度表。有很多关于其他设计的文章。你这样做的方式 - 你总是会获取下一个 from_date 以便只获取一个特定的客户端实例，以便选择有点繁重。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-09T12:05:17.983

[SQL小提琴](http://www.sqlfiddle.com/#!12/be03e/1)

```
select distinct on (person_id) person_id, date_from, rate
from person_rate
where date_from <= '2012-03-01'
order by person_id, date_from desc 
```

如果 (person_id, date_from) 是唯一的，则创建该索引：

```
create table person_rate (
    id serial primary key,
    person_id int,
    date_from date,
    rate float,
    unique (person_id, date_from)
); 
```

如果那已经是生产表，请更改它：

```
alter table person_rate add 
constraint constraint_name unique (person_id, date_from); 
```

别忘了`analyze person_rate`在那之后跑。如果满足正确的条件，它将仅使用索引。这包括一张足够大的桌子。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-09T12:51:00.507

```
SELECT person_id, rate FROM person_rate WHERE date_from <= '2012-05-02' ORDER BY date_from DESC LIMIT 0,1; 
```

LIMIT 的第二个数字是您要使用的最大 person_id（例如，前 5 个 person_id 的 LIMIT 0,5）和日期在这里： date_from <= '2012-05-02'

# r - R中的数据框和列表有什么区别？

> ID：15901224
> 
> 赞同：78
> 
> 时间：2013-04-09T11:56:52.883
> 
> 标签：r, list, dataframe

**dataframe**和**list** in有什么区别`R`？什么时候应该用哪一个？哪个更容易循环？

**确切的问题：**我必须首先存储 3 个字符串元素，如“a”、“b”、“c”。稍后对于其中的每一个，我需要再附加 3 个元素；例如对于“a”，我必须添加“a1”、“a2”、“a3”。稍后我必须使用嵌套的 for 循环来访问这些元素。

所以我很困惑使用数据框或列表或其他一些数据类型，我可以先在其中存储然后附加（每列的种类）？

目前我收到错误，例如“要替换的项目数不是替换长度的倍数”

* * *

## 回答 #1

> 赞同：126
> 
> 时间：2013-04-09T13:14:57.057

这个问题并不像某些人认为的那么愚蠢。我知道很多人都在为这种差异而苦苦挣扎，以及在哪里使用什么。总结一下：

列表是 R 中迄今为止最灵活的数据结构。它们可以被视为元素的集合，对每个元素的类、长度或结构没有任何限制。您唯一需要注意的是，不要给两个元素提供相同的名称。这可能会引起很多混乱，并且 R 不会为此给出错误：

```
> X <- list(a=1,b=2,a=3)
> X$a
[1] 1 
```

数据框也是列表，但它们有一些限制：

*   您不能对两个不同的变量使用相同的名称
*   数据框的所有元素都是向量
*   数据帧的所有元素都具有相同的长度。

由于这些限制和由此产生的二维结构，数据帧可以**模仿**矩阵的某些行为。您可以选择行并对行进行操作。你不能用列表来做到这一点，因为那里没有定义行。

所有这些都意味着您应该为适合该二维结构的任何数据集使用数据框。从本质上讲，您可以将数据框用于任何数据集，其中列与变量一致，而行与广义上的单个观察一致。对于所有其他结构，列表是要走的路。

请注意，如果您想要一个嵌套结构，则必须使用列表。由于列表的元素本身可以是列表，因此您可以创建非常灵活的结​​构化对象。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-08-12T17:26:39.237

查看示例：如果您使用 apply 而不是 sapply 来获取课程 -

```
apply(iris,2,class) #  function elements are rows or columns
Sepal.Length  Sepal.Width Petal.Length  Petal.Width      Species 
"character"  "character"  "character"  "character"  "character" 

sapply(iris,class) # function elements are variables
Sepal.Length  Sepal.Width Petal.Length  Petal.Width      Species 
"numeric"    "numeric"    "numeric"    "numeric"     "factor" 
```

# c++ - MPI 中对 cout 的“原子”调用

> ID：15901226
> 
> 赞同：5
> 
> 时间：2013-04-09T11:56:58.990
> 
> 标签：c++, atomic, blocking, cout, openmpi

我感兴趣的是 OpenMPI 中是否有命令或技术来进行原子调用以写入标准输出（或者，就此而言，任何流）。

我注意到的是，在 MPI 程序的执行过程中，对写入 cout（或其他流）的调用可能会变得混乱，因为每个 proc 可能会在到达特定代码段时写入。报告结果时，一行可以由多个 proc 写入，从而混淆问题。所以 2 个不同的 procs 可能会做这样的事情：

```
//Proc 10 - results calculated somewhere above
//  result1 = 10
//  result2 = 11
cout << "My results are: " << result1 << " " << resul2 << endl; 
```

和：

```
//Proc 20 - results calculated somewhere above
//  result1 = 20
//  result2 = 21
cout << "My results are: " << result1 << " " << resul2 << endl; 
```

但结果可能是：

```
My results are: 20 My results are: 10 11 21 
```

我正在寻找的是类似于“阻塞”或原子 cout（以及可能写入其他流，例如文件流）的东西。因此，一旦我开始将 a 写入 cout，它就会阻塞直到语句结束，或者直到发出 endl 或对流的刷新。如果是这种情况，我可以保证这两行是分开的（但是，当然，我仍然不知道哪一行会先出现）：

```
My results are: 20 21
My results are: 10 11 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-09T12:31:33.100

使用标准 i/o 流（C 语言中的 stdout 和 stdin 或 C++ 中的 cout 和 cin）不是 MPI 的最佳部分（OpenMPI 实现 MPI）。有一些关于此的幻灯片：[http](http://www.csee.wvu.edu/~donm/classes/cs591x/notes/io1.ppt) ://www.csee.wvu.edu/~donm/classes/cs591x/notes/io1.ppt和幻灯片 10 有一个解决方案。（或“PS Pacheco 用 Mpi 进行并行编程”一书的[第 8.1 章）](http://books.google.com/books?id=GufgfWSHt28C&pg=PA138&lpg=PA138&dq=mpi+stdout)

在 rank 0 的进程中使用 cout 执行所有 I/O。如果您想从其他进程输出一些数据，只需将带有该数据的 MPI 消息发送到 rank 0。

# modeling - 官方 UML 活动图元模型？

> ID：15901227
> 
> 赞同：2
> 
> 时间：2013-04-09T11:57:02.167
> 
> 标签：modeling, uml

那里有以 ecore 或 xsd 文件形式存在的官方 UML 活动图元模型吗？我所说的官方是指由 OMG 或其他财团发布。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-10T07:33:02.310

[是的，eclipse 基金会在MDT 项目](http://www.eclipse.org/modeling/mdt/?project=uml2)中有一个非常棒的 UML 模型。它用于许多工具，例如IBM的[Rational Software Architect或 Yatta 的](http://en.wikipedia.org/wiki/IBM_Rational_Software_Architect)[UML Lab](http://www.uml-lab.com/)以及[TOPCASED](http://www.topcased.org/)等开源工具。

您可以将其扁平化（所有包合并已执行）用作 EMF/ecore 生成的 Java 源。或者您可以将其用作 .uml（带有 UML EMF 模型文件的 XMI）。

# javascript - 为常见问题类型的 JavaScript 点击设置 Google Analytics

> ID：15901235
> 
> 赞同：0
> 
> 时间：2013-04-09T11:57:23.187
> 
> 标签：javascript, google-analytics

我在我的页面上设置了一个基于这种代码的常见问题解答部分：

```
<script>
  function toggleElement(id) {
    if(document.getElementById(id).style.display == 'none') {
      document.getElementById(id).style.display = '';
    } else {
      document.getElementById(id).style.display = 'none';
    }
  }
</script>

<p><a href="javascript:toggleElement('a1')">1\. QUESTION</a></p>

<div id="a1" style="display: none;">
<p style="color: rgb(102, 102, 102);"> <big>ANSWER</big></p> 
```

有没有办法配置谷歌分析来跟踪（通过事件？）每个问题的单独点击？我没有很多问题（大约 10 个），但我仍然想知道哪些问题与我的访问者最相关。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T12:17:11.677

您可以为此使用 Google Analytics 事件。

在您的 HTML 中，您可以执行以下操作：

```
<p>
<a href="javascript:toggleElement('a1')"
   onclick="_gaq.push(['_trackEvent', 'FAQ', 'Open question', '1']);">
1\. QUESTION
</a>
</p> 
```

有关它的更多信息，请参阅[https://developers.google.com/analytics/devguides/collection/gajs/eventTrackerGuide](https://developers.google.com/analytics/devguides/collection/gajs/eventTrackerGuide)。

# ajax - 跨子域问题

> ID：15901237
> 
> 赞同：0
> 
> 时间：2013-04-09T11:57:27.777
> 
> 标签：ajax, json, cross-domain

我正在尝试将 ajax 调用从域：cdn.foo.com 发送到 www.foo.com 上的服务。

在 www.foo.com 上有一个 jsonService。

当我发送这个：

```
$.ajax({                
    url: json_url + "jsonService/AnyService/someMethod",
    type: "POST",  
    dataType: "json",  
    contentType: "json"
//do something
}); 
```

我收到请求但没有回应。

当试图发送这个：

```
$.ajax({                
    url: json_url + "jsonService/AnyService/someMethod",
    type: "POST",  
    dataType: "jsonp",  
    contentType: "json"
//do something
}); 
```

我收到一个错误：`405 Method Not Allowed`

我正在使用tomcat 7.0.12。

我应该怎么做才能让请求到达服务？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T12:18:33.523

使用 jquery 的 getJSON 方法：

```
var url = http://www.foo.com/jsonService/AnyService/someMethod?callback=?
$.getJSON(url, function() {...}); 
```

有关 jsonp 的更深入解释，请参见下文

[http://www.devproconnections.com/article/aspnet2/ajax-cross-domain-142169](http://www.devproconnections.com/article/aspnet2/ajax-cross-domain-142169)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-17T08:07:23.067

通过 $.post(url, data); 解决了它

# bash - 在 Bash 中，如何查看字符串是否不在数组中？

> ID：15901239
> 
> 赞同：16
> 
> 时间：2013-04-09T11:57:28.640
> 
> 标签：bash, shell, scripting

我正在尝试在不添加其他代码的情况下执行此操作，例如另一个 for 循环。我可以创建将字符串与数组进行比较的正逻辑。虽然我想要负逻辑并且只打印不在数组中的值，但本质上这是为了过滤掉系统帐户。

我的目录中有这样的文件：

```
admin.user.xml 
news-lo.user.xml 
system.user.xml 
campus-lo.user.xml
welcome-lo.user.xml 
```

如果该文件在目录中，这是我用来进行肯定匹配的代码：

```
#!/bin/bash

accounts=(guest admin power_user developer analyst system)

for file in user/*; do

    temp=${file%.user.xml}
    account=${temp#user/}
    if [[ ${accounts[*]} =~ "$account" ]]
    then
        echo "worked $account";
    fi 
done 
```

任何正确方向的帮助将不胜感激，谢谢。

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2013-04-09T12:02:27.987

您可以否定正匹配的结果：

```
if ! [[ ${accounts[*]} =~ "$account" ]] 
```

或者

```
if [[ ! ${accounts[*]} =~ "$account" ]] 
```

但是，请注意，如果`$account`等于“user”，您将得到匹配，因为它匹配“power_user”的子字符串。最好显式迭代：

```
match=0
for acc in "${accounts[@]}"; do
    if [[ $acc = "$account" ]]; then
        match=1
        break
    fi
done
if [[ $match = 0 ]]; then
    echo "No match found"
fi 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2021-12-20T11:22:02.997

以下内容也适用于完全匹配

```
if echo "${accounts[*]}"|egrep -q "\b$account}\b"; then ... 
```

# ssas - 为什么我无法通过 SSMS 中的 XML/A 连接到我的 SSAS 多维数据集？

> ID：15901241
> 
> 赞同：0
> 
> 时间：2013-04-09T11:57:33.343
> 
> 标签：ssas, ssms, xmla

使用 SSMS 连接到 SSAS 时，我对我的配置有疑问。我的动作来了：

1.  按照官方教程 ( [http://msdn.microsoft.com/en-us/library/gg492140.aspx](http://msdn.microsoft.com/en-us/library/gg492140.aspx) ) 在 Windows 2008 R2 上配置我的 SQL Server 2008 R2 和 IIS 7.5。
2.  按照另一个教程创建合理的表架构并在 SQL Server 中插入示例数据。
3.  使用 SQL Server BI Dev-Studio 创建所有与多维数据集相关的东西并将其部署到本地服务器。

问题是：</p>

*   当我通过服务器名称为“。”的 SSMS 连接到 SSAS 时，一切都很好；
*   但是当我通过 SSMS 连接到 SSAS 时，服务器名称为“ `http://localhost/OLAP/msmdpump.dll`”，我看不到任何与多维数据集相关的信息；

哪里不对了？如何调试此类问题？这个问题与用户角色和权限有关吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T13:00:05.607

您正在遵循的教程解释了如何使用 Web 浏览器通过 HTTP 公开多维数据集来访问它。使用带有 URL 的 Internet Explorer（或您喜欢的浏览器）`http://localhost/OLAP/msmdpump.dll`。

如果您希望与 SSMS 连接，请`localhost`用作服务器名称（或`.`）。

# sql-server-2008 - 我们可以在 SQL Server 2008 的计算列中编写存储过程吗？

> ID：15901245
> 
> 赞同：0
> 
> 时间：2013-04-09T11:57:54.453
> 
> 标签：sql-server-2008, calculated-columns

我有一种情况，我想将存储过程放在计算列中。但它没有成功，所以我使用了函数。计算列可以有存储过程吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-09T12:09:47.587

不，他们不能。

存储过程不是“内联”的，它们不返回标量值并且可能具有各种副作用。

# c# - 依赖注入和运行时依赖 .NET 最佳设计模式

> ID：15901246
> 
> 赞同：0
> 
> 时间：2013-04-09T11:57:54.480
> 
> 标签：c#, .net, oop, design-patterns, dependency-injection

在这种情况下，我想使用依赖注入：

我有 n 个 IXMLParsers 抽象，每个抽象都有一个或多个实现。我检查数据库中是否有活动的 IXMLParsers。对于每个活动的 IXMLParser，我实例化了正确的实现（但这是针对 DI ??? ）

那么执行此操作的最佳设计模式是什么。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-09T12:00:12.443

您可以注入一个将创建所需 IXMLParser 的工厂

```
interface IXmlParserFactory
{
    IXMLParser CreateParser();
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T12:06:55.727

您可以格式化构造函数以将参数作为

例子

```
Class A
{
  IXMLParsers parser=null;

   A(IXMLParsers p)
   {
     parser=p;
    }
} 
```

现在您可以根据需要创建不同类型的解析并发送到构造函数

例子

```
 A obj1=new A(new Type1Parser);
     A obj2=new A(new Type2Parser);
     A obj3=new A(new Type3Parser); 
```

ETC....

# php - Auth->Login cakePHP 中的自定义参数

> ID：15901247
> 
> 赞同：0
> 
> 时间：2013-04-09T11:57:55.423
> 
> 标签：php, cakephp

你能在 cakePHP 中在 $this->Auth->Login 上传递一个额外的参数吗

例如，我有一个如下所示的站点表；

```
 "Site"
  id
  name 
```

我可以有 40 个站点，而您也只能登录到您分配的站点。您也可以是多个站点的成员。要定义他们正在登录的站点，我在登录页面上进行了设置。

```
 e.g. http://localhost/login/$id

 "Users"
  id
  username
  site_id 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T12:53:27.077

您可以指定范围。阅读[手册](http://book.cakephp.org/2.0/en/core-libraries/components/authentication.html#configuring-authentication-handlers)了解详情。

# haskell - 驱动程序 GADT 的多态函数成员的不明确类型

> ID：15901253
> 
> 赞同：1
> 
> 时间：2013-04-09T11:58:12.637
> 
> 标签：haskell, polymorphism, gadt

我正在为我正在做的一个小实验测试一些代码，但一开始我遇到了一个我不知道如何解决的障碍。

```
data DatabaseDriver a b where
  DatabaseDriver :: (Table table, Field field) =>  {
      dbInsert :: table -> [field] -> String
    , dbSelect :: table -> [field] -> String
    } -> DatabaseDriver a b

class Table a where
    tableName :: a -> String

class Field a where
    fieldName :: a -> String
    fieldValue :: a -> String

psqlDriver = DatabaseDriver insert select
    where
        insert t fs = "insert into " ++ tableName t ++ " (" ++ fieldNames fs ++ ") values (" ++ fieldValues fs ++ ")"
        select t fs = "select " ++ fieldNames fs ++ " from " ++ tableName t
        fieldNames = joinComma fieldName
        fieldValues = joinComma fieldValue
        joinComma f = foldl (\a n -> a ++ ", " ++ n) "" . map f 
```

好的，这是一些测试代码，驱动程序函数会比这复杂得多，但即使在这个测试中，我也会收到错误“约束中的歧义类型变量‘a0’：（字段 a0）由使用 `fieldName 引起'。所以编译器确实看到 fieldName 被应用于一个字段，但显然它在这里需要一个更具体的类型。我想让函数保持多态会使 pgsqlDriver 不是一个具体的类？

但想法是这些函数是多态的。这就是我在这里选择使用 GADT 的原因，因此我可以对这些驱动程序函数的参数进行类型约束，而不必在每次实例化中重复它们。计划是定义的数据库驱动程序可以与任何 Field 和 Table 实例一起使用。这不能简单地完成，我的 DatabaseDriver 类型也必须是一个类型类吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-09T12:37:03.650

这里有三个选项。第一个选项是添加

```
{-# LANGUAGE NoMonomorphismRestriction #-} 
```

到模块文件的顶部。

第二个选项是向 psqlDriver 添加显式类型签名。

```
psqlDriver :: (Field field, Table table) => (table -> [field] -> String) -> DatabaseDriver a b 
```

这一切的原因有点微妙，更多细节可以在[这里找到](http://www.haskell.org/haskellwiki/Monomorphism_restriction)

第三个选项是更改 to 的`psqlDriver`定义

```
psqlDriver = DatabaseDriver insert select 
```

然而，这确实是模棱两可的——没有理由偏爱任何特定实例`Table`或`Field`优于另一个实例。也许你的意思是定义`DatabaseDriver`如下。

```
data DatabaseDriver table field where
  DatabaseDriver :: (Table table, Field field) =>  {
      dbInsert :: table -> [field] -> String
    , dbSelect :: table -> [field] -> String
    } -> DatabaseDriver table field 
```

如果将原来的定义`DatabaseDriver`改写为ADT，原因就更明显了。

正如目前在问题中所写的那样，对 ADT 的翻译是

```
{-# LANGUAGE ExistentialQuantification #-}

data DatabaseDriver a b
  = forall table field .
    (Table table, Field field) => DatabaseDriver
    { dbInsert :: table -> [field] -> String
    , dbSelect :: table -> [field] -> String
    } 
```

注意嵌套的`forall table field`，以及如何`table`与or`field`没有关系。`a``b`

预期的翻译是

```
data DatabaseDriver table field
  = (Table table, Field field) => DatabaseDriver
    { dbInsert :: table -> [field] -> String
    , dbSelect :: table -> [field] -> String
    } 
```

或者很可能

```
data DatabaseDriver table field
  = DatabaseDriver
    { dbInsert :: table -> [field] -> String
    , dbSelect :: table -> [field] -> String
    } 
```

在 的定义中包含类型类约束`DatabaseDriver`不允许您从任何使用中删除类型类约束`DatabaseDriver`，尤其是`psqlDriver`. 在上面的两个 ADT 翻译中，类型`psqlDriver`是

```
psqlDriver :: (Table table, Field field) => DatabaseDriver table field 
```

# reporting-services - 报表生成器中的报表标题

> ID：15901256
> 
> 赞同：0
> 
> 时间：2013-04-09T11:58:23.620
> 
> 标签：reporting-services, rdl, reportbuilder

如果我遗漏了一些明显的东西，我深表歉意，但我花了很长时间弄清楚如何将报告标题（而不是页标题）添加到报告中。我想要一个显示在第一页上的标题，并且只显示在第一页上。

再次，如果我遗漏了一些明显的东西，我深表歉意。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T12:07:58.887

根据定义，报告标题将在每一页上重复。如果您只想在第一页上显示它，只需在任何重复组（表、列表等）之外的报表主体顶部添加您想要显示为标题的任何内容。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-09T12:07:58.873

只需`Textbox`在数据区域的开头放置 a 并根据需要为其命名。它会像一个`Report Header`.

更多关于[这个](http://blogs.msdn.com/b/selvar/archive/2010/12/28/report-headers-and-footers-with-microsoft-sql-server-reporting-services.aspx)：

# ssh - Cron 命令适用于 SSH，但不适用于 Cron（isp 管理器）

> ID：15901258
> 
> 赞同：0
> 
> 时间：2013-04-09T11:58:30.720
> 
> 标签：ssh, cron

我在我的腻子 SSH 中运行它：

```
php $HOME/www/mysite.com/artisan 
```

该命令执行正常，但是当我将其复制到 isp 管理器时，在创建 cron 任务时，出现错误：

```
Exited with return code = 1 
```

为什么会发生这种情况或我做错了什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-09T12:01:30.217

Crontab 作业使用`crontab -e`. 然后您可以通过键入来检查其中的内容`crontab -l`。

一个 cronjob 是这样的：

```
* * * * * /route/of/binary /route/of/script 
```

而 * * * * * 代表：

*   分钟
*   小时
*   一个月的一天
*   月
*   星期几

所以如果你想每天在 10.30 执行一个脚本，你会写

```
# Minute   Hour   Day of Month   Month   Day of Week    Command     
* * * * * /bin/php /var/my-cron.sh 
```

或任何来自`which php`.

此外，请指明您正在执行的任何内容或使用的文件/目录的完整路径。

确保脚本对运行 crontab 的用户具有执行权限。

最后但同样重要的是，*始终*使用编辑 crontab`crontab -e`并使用`crontab -l`. 如果它不起作用，请检查`/etc/cron.d/allow`并`/etc/cron.d/deny`查看您的用户是否在那里。

# css - 同一容器中 div 的不同溢出行为

> ID：15901264
> 
> 赞同：1
> 
> 时间：2013-04-09T11:58:38.483
> 
> 标签：css, overflow

是）我有的：

[http://jsfiddle.net/GC8D3/](http://jsfiddle.net/GC8D3/)

```
<div class="modal-body" >
    <div style="background:red; width: 100px; height: 200px;">
        A
        <div style="background:green; width: 50px; height: 150px;">
            B
        </div>
    </div>             
</div> 
```

目前，div“A”和“B”都溢出模态窗口。

我想要的是

*   div“A”的溢出应该隐藏在模态之外。
*   div“B”的溢出应该在模态之外可见。

我无法更改 div A 的大小，因为在实际情况下，我们让 div "A" 在画布上移动。

当我将它移到边缘附近时，它的溢出应该被隐藏。但是 div "B" 的溢出不应该。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-09T12:02:52.190

这是不可能的。css 溢出属性总是影响**所有**子元素。所以：

1.  声明溢出`modal-body`将隐藏子 div A 和 B。
2.  在 div A 上声明溢出将隐藏 div B。A 仍然可以溢出。
3.  如果在 1\. 或 2\. 中声明溢出，则没有选项可以使 div B 分别溢出模态或 A。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T12:02:13.017

这在当前的 HTML 规范中是不可能的。任何隐藏溢出的元素都可以防止其任何子元素出现在其边界之外。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-09T12:05:10.183

div B 当前是 div A 的子项。如果 div A 设置为 overflow: hidden，这会隐藏从 div A 溢出的所有内容。因此，如果 div B 溢出，则无法看到，因为它在 div A 内部，而 div A 不能溢出。

# perl - 如何在 perl 中实现并行进程？

> ID：15901267
> 
> 赞同：-3
> 
> 时间：2013-04-09T11:58:49.397
> 
> 标签：perl

```
I have written a perl script which does the following things sequentially,
1.Copying .gcda files from other 50 remote machines to my home dir.
2.It generates GCOV
3.Merge the GCOV files

  As i mentioned above it is working sequentially and it takes more than an hour to complete the task.But i want to execute these steps in parallel. 
```

例如：我正在从远程 machine1 复制到 DIR1 .....从 machine50 到 DIR50 所以我总共分别从 50 台机器复制到 50 个目录。然后它为所有 50 个目录生成 gcov。

我目前的要求是，一旦我从机器 1 复制，我应该开始并行生成 gcov，在为 2 个目录生成 gcov 之后，我需要开始合并。

但是，我不打算使用 Parallel::ForkManager 模块，我也不能使用线程。

请给出一些想法我该如何实施......

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-09T13:01:36.040

你的问题似乎是

> 出于学术目的，我想学习如何使用`fork`. 我该怎么做呢？

Parallel::ForkManager 之类的模块是这样编写的，因此您不必`fork`直接使用它，因为它可能很棘手。如果你想知道如何使用`fork`，你应该学习[Parallel::ForkManager](http://search.cpan.org/perldoc?Parallel%3a%3aForkManager)。这里太大了，不能复制。

请记住`fork`,`wait`和`waitpid`同名的系统调用，所以你应该熟悉`man 2 fork`,`man 2 wait`和`man 2 waitpid`。

[perlipc](http://perldoc.perl.org/perlipc.html)也可能有用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-09T12:06:03.407

如果您不能使用线程并且不能使用分叉模块，那么唯一合理的解决方案是您打算`fork()`手动使用将您的进程拆分为多个进程。不幸的是，管理由此产生的子进程可能非常棘手，这就是`Parallel::ForkManager`编写类似模块的原因 - 但如果您对 UNIX 编程感兴趣，了解正在发生的事情是很有价值的。

我假设这些限制是因为这是家庭作业或其他一些学术活动，所以如果他们真的希望你了解分叉，那么这些限制就很合适。

# shell - 在 ubuntu 中启动时运行 shell 脚本

> ID：15901280
> 
> 赞同：-5
> 
> 时间：2013-04-09T11:59:35.977
> 
> 标签：shell, boot

我做了一个shell，在therminal上打印：“Welcome Davide，祝你有美好的一天”。我希望这个脚本在启动时启动。我试图把它放在任何地方，但什么也没有。我放的文件夹是：rc6.d 和 rc0.d。然后我在 rc.local 中编写了整个脚本，但什么也没发生..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T12:46:24.623

可能您希望它在登录时运行。放进去`.bashrc`

如果您想在登录 tty0-tty6 之前看到它，请在`/etc/issue`.

[fedorqui 的补充]：如果您希望它在登录后显示在 tty0-6 上，请将其放入`/etc/motd`. 从 ssh 运行时，这不会显示。

# c++ - Visual Studio 2012 添加新的头文件

> ID：15901285
> 
> 赞同：16
> 
> 时间：2013-04-09T11:59:46.957
> 
> 标签：c++, visual-studio-2012

在 Visual Studio 2012（C++ 环境）中，对于 Win32 控制台应用程序，我需要在我的项目中包含一个新的头文件。我尝试复制项目位置中的文件，但这无济于事。该文件是`iGraphics.h`，它显示在头文件列表中，但不编译。正确的做法应该是什么？

![在此处输入图像描述](https://i.stack.imgur.com/0h5x9.png)

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2013-04-09T12:07:25.673

您应该将该标头的路径添加到项目设置中**C/C++**下的**其他包含目录中。**之后，就在您需要的地方。**`#include "iGraphics.h"`**

 **不要只是移动头文件，也不要无缘无故地将现有的头文件添加到您的项目中。这样，您只需指定不同的文件夹即可轻松更改版本。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-09-15T02:54:58.227

最简单的方法是：

1.  右键单击解决方案资源管理器中的头文件（要包含）。
2.  常规->“从构建中排除”
3.  从下拉列表中选择“否”
4.  单击“确定”。

在 VS2012 中，仅在 include 中的头文件周围使用 '"' 而不是 '<>' 也可以。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-09T12:05:26.033

将文件放在文件系统中的正确位置（就像您所做的那样）。然后在解决方案资源管理器中右键单击您的项目并使用**Add > Existing Item**将其添加到您的项目中。

如果您不想移动文件（您可能不应该这样做），请参阅 Luchian 关于如何将包含目录添加到包含文件夹的答案。**

# c++ - 构造函数错误..（奇怪的错误）

> ID：15901289
> 
> 赞同：-2
> 
> 时间：2013-04-09T12:00:02.897
> 
> 标签：c++

直到明天代码运行良好但知道它给出了一个奇怪的错误..没有可用的默认构造函数..
我真的不明白这个错误..而且这是第一次遇到这种类型的错误..我已经搜索过问题但是关于构造函数的讨论是高级水平..我是中级,,..请帮助检查我的代码.. !!!

```
// error.cpp : Defines the entry point for the console application.
//

#include "stdafx.h"
#include <iostream>
#include <string>

using namespace std;

struct Student
{
    const char name[6][11];
    const int id[5];
};

void fetch_id(Student& s, const int size)
{
    for (int i = 0; i < size; i++)
    {
        cout << "roll no of student: " << i+1 << endl;;
        cin >> s.id[i];
    }

}
void fetch_name(Student& s, const int size)
{

        for (int j = 0; j < size; j++)
        {

            cin.getline(s.name[j], 10);
            cout <<"name of student: " << j+1 << endl;  
        }

}

void display_name(Student s, const int size)
{
    cout << "Student Names Are" << endl;
    for (int i = 0; i < size; i++)
    {           
        if ( s.name[i] != '\0' )
        cout << s.name[i] << endl;
    }
}

void display_id(Student s, const int size)
{
    cout << "Roll Numbers Are" << endl;
    for (int i = 0; i < size; i++)
    {
        cout << s.id[i] << " || ";
    }
}

int main()
{

    const int size = 5;
    Student s; //  error C2512: 'Student' : no appropriate default constructor available ??
    fetch_id(s, size);
    display_id(s, size);
    cout << '\n';
    fetch_name(s, size);
    cout << '\n';
    display_name(s, size);
    system("Pause");
    return 0;
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-09T12:02:39.733

这是因为您的结构包含常量数组。它们必须在构造函数初始化列表中显式初始化。

由于这些常量成员变量，编译器无法为您生成默认构造函数，您必须自己创建一个。

实际上，我认为您在稍后在代码中尝试分配给它们时错误地使数组保持不变，这是由于它们是不变的而无法完成的。

删除`const`成员数组声明的一部分，它应该会更好地工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T12:13:24.383

一些简单的问题......你为什么使用二维字符数组，为什么不`std::string`呢？问题`cin`是，您无法控制输入的长度，因此您很快就会遇到缓冲区溢出。好久不见

# xml - XSLT 将 FMPXMLRESULT xml 文档导出到 Excel

> ID：15901290
> 
> 赞同：0
> 
> 时间：2013-04-09T12:00:03.213
> 
> 标签：xml, xslt, filemaker

我想将 FileMaker 表数据导出到具有某些格式的 Excel 工作表。意味着 excel 表的列将具有一些背景颜色，标题将具有一些颜色格式等。因此，导出操作后我的输出 excel 表应该是格式化的 excel 表。

我处理这个过程的方法如下：

1 > 在 FileMaker 导出步骤中，将文件导出为 Test.xls 和 XML 作为文件类型。

2 > 选择 FMPXMLRESULT 作为语法。选择要导出的某个字段。

在这个过程中**，我需要一个 XSLT，它可以将 FMPXMLRESULT xml 数据转换为 excel 表**。关于数据格式，CSS 文件与我同在。我需要将这些 CSS 文件嵌入到该 XSL 样式表中。因此，当我们打开该 Test.xls 文件时，它将是一个格式化的电子表格。

因此，如果有人有使用 XSLT 的经验，它可以将 FMPXMLRESULT xml 数据转换为 Excel 表格，这对我来说将是一个很大的帮助。

请在这个方向上给我建议。

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T14:58:15.003

您需要将 FileMaker XML 转换为[Spreadsheet ML](http://msdn.microsoft.com/en-us/library/aa140066%28office.10%29.aspx)。你不能在那里使用 CSS；您必须使用 Style 元素定义格式。一个好方法是准备一个您将在 Excel 中完成的示例，将其保存为电子表格 ML（在保存对话框中，它将类似于“Excel 2003 XML”）并将其用作模板。否则，这是一个非常标准的 XSLT 转换。

# python - numpy数组中的快速值交换

> ID：15901293
> 
> 赞同：2
> 
> 时间：2013-04-09T12:00:10.603
> 
> 标签：python, arrays, numpy

所以，这应该很容易，但对我来说似乎需要大量时间：我有一个只有两个值（例如 0 和 255）的 numpy 数组，我想以这种方式反转矩阵，所有值交换（0 变为 255，反之亦然）。矩阵大约有 2000³ 项，所以这是一项严肃的工作！我首先尝试了 numpy.invert 方法，这并不完全符合我的预期。所以我自己尝试通过“存储”这些值然后覆盖它们来做到这一点：

```
for i in range(array.length):
            array[i][array[i]==255]=1
            array[i][array[i]==0]=255
            array[i][array[i]==1]=0 
```

它的行为符合预期，但需要很长时间（我猜是因为 for 循环？）。如果我将其实现为多线程计算，其中每个线程“反转”一个较小的子数组，那会更快吗？还是有另一种更方便的方法？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-09T12:11:01.837

除了 @JanneKarila 和 @EOL 的出色建议之外，值得展示一种更有效的方法来使用掩码进行交换。

如果您的比较比简单地交换两个值更复杂，则使用布尔掩码通常更有用，但您的示例以次优方式使用它。

目前，您正在制作`array[i] == blah`上面示例中的布尔“掩码”数组（例如 ）的多个临时副本并执行多个分配。您可以通过只制作一次“掩码”布尔数组并将其反转来避免这种情况。

如果您有足够的内存用于临时副本（`bool`dtype），请尝试以下操作：

```
mask = (data == 255)
data[mask] = 0
data[~mask] = 255 
```

或者（等效地）您可以使用`numpy.where`：

```
data = numpy.where(data == 255, 0, 255) 
```

如果您使用循环来避免制作完整的临时副本，并且需要保存 ram，请将循环调整为更像这样：

```
for i in range(len(array)):
     mask = (array[i] == 255)
     array[mask] = 0
     array[~mask] = 255 
```

综上所述，在这种情况下，减法或异或都是可行的方法，尤其是当您就地执行操作时！

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-04-09T12:02:47.850

要交换 0 和 255，如果数据类型是整数类型之一，您可以使用 XOR。

```
array ^= 255 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-04-09T12:13:28.650

你可以简单地做：

```
arr_inverted = 255-arr 
```

这会一一转换所有元素（255 为 0，0 为 255）。更一般地说，如果您只有两个值 a 和 b，则“反转”只需使用`(a+b)-arr`. **如果这两个值不是整数**（如浮点数或复数），这也适用。

正如 Jaime 指出的那样，如果内存是一个问题，则`subtract(255, arr, out=arr)`交换`arr`就地的值。

如果您的数组中通常有**整数**，Janne Karila 的 XOR 就地解决方案具有比上面建议的差异就地解决方案更简洁的优势。它可以概括为`arr ^= (a^b)`，用于交换两个整数`a`和`b`。

两种方法的执行时间相似（使用 200×200×200 的`uint8`整数数组，通过 IPython）：

```
>>> arr = np.random.choice((0, 255), (200, 200, 200)).astype('uint8')
>>> %timeit np.bitwise_xor(255, arr, out=arr)
100 loops, best of 3: 7.65 ms per loop
>>> %timeit np.subtract(255, arr, out=arr)
100 loops, best of 3: 7.69 ms per loop 
```

如果您的数组**类型`uint8`**为，`arr_inverted = ~a`则交换 0 和 255 需要相同的时间（`~`运算符反转所有位），并且不太通用，因此不值得（使用 200×200×200 数组进行测试）。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-09T12:06:49.367

“我首先尝试了 numpy.invert 方法，这并不完全符合我的预期。”

Numpy.invert 正是您所需要的。你能描述发生了什么吗？您是否使用无符号字节而不是有符号数据类型或整数进行存储？

Unsigned byte + numpy.invert 应该完全符合您的要求。

[您还应该看到使用无符号字节而不是更长或有符号数据类型的 numpy 性能更快]

# jmeter - 如何使用 Jmeter 对使用唯一用户名和密码登录的 100 个并发用户进行负载测试？

> ID：15901309
> 
> 赞同：0
> 
> 时间：2013-04-09T12:00:57.823
> 
> 标签：jmeter, load-testing

我的测试计划场景是对 100 个并发用户登录网站进行负载测试。

我创建了线程组，线程数为 100。
创建了包含 100 个用户登录详细信息（唯一用户名和密码）的 CSV 文件。
在登录示例下，从 Thread Group -> PreProcessors 添加了一个“用户参数”。使用从文件 test.csv 读取值的 __CSVRead 函数添加变量。
选择登录示例并将用户标识和密码的值更改为 ${A} 和 ${B}。

这是正确的方法还是有其他方法可以实现这一目标？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T15:17:09.363

如果这对您有用并且按您的预期工作，那就足够了。

但看起来[CSV 数据集配置比](http://jmeter.apache.org/usermanual/component_reference.html#CSV_Data_Set_Config)[__CSVRead 函数](http://jmeter.apache.org/usermanual/functions.html#__CSVRead)更适合和更容易用于多用户场景：

```
Thread Group 
Number of Threads: N     *// 测试线程数（用户）*
循环数：1
    CSV 数据集配置
    文件名：[带有用户名/密码的 csv 文件的路径]
    变量名：username,pwd     *// 提取的值可以引用为 ${username}, ${pwd}*
    在 EOF 上回收？错误的
    在 EOF 上停止线程？真的
    共享模式：当前线程组
    . . .
    HTTP 请求 *// 你的 http 调用*
    . . .

```

根据[文档](http://jmeter.apache.org/usermanual/functions.html#__CSVRead)：

> 该功能不适用于大文件，因为整个文件都存储在内存中。对于较大的文件，请使用 CSV 数据集配置元素或 StringFromFile。

此处提供了非常详细的指南：

*   [如何在 JMeter 中使用 CSV 文件](http://ivetetecedor.com/how-to-use-a-csv-file-with-jmeter/)
*   [使用 CSV 数据集配置](http://community.blazemeter.com/knowledgebase/articles/65138-using-csv-data-set-config)

# android - Android 如何在状态栏上隐藏 NotificationCompat.Builder 通知的图标？

> ID：15901312
> 
> 赞同：5
> 
> 时间：2013-04-09T12:01:09.273
> 
> 标签：android, icons, android-notifications, android-statusbar

我的问题很简单，但是我很长时间都无法解决它，所以我在这里问。

如何隐藏状态栏中显示的正在进行的通知图标？我正在使用`NotificationCompat.Builder`对象创建通知。我试图跳过（当未选中显示图标的选项时）`builder.setSmallIcon()`函数调用，但这导致通知屏幕上没有通知。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-06-08T12:48:32.487

从 Android 4.1 (API 16) 开始，可以指定通知的[`priority`](https://developer.android.com/reference/android/app/Notification.html#priority). 如果您[将该标志设置](https://developer.android.com/reference/android/support/v4/app/NotificationCompat.Builder.html#setPriority%28int%29)为[`PRIORITY_MIN`](https://developer.android.com/reference/android/app/Notification.html#PRIORITY_MIN)通知图标将不会显示在状态栏上。

```
builder.setPriority(NotificationCompat.PRIORITY_MIN); 
```

* * *

从 Android 8.0 Oreo（API 级别 26）开始，您必须创建 a`NotificationChannel`并将其设置`importance`为[`IMPORTANCE_MIN`](https://developer.android.com/reference/android/app/NotificationManager.html#IMPORTANCE_MIN)：

```
NotificationChannel channel = 
      new NotificationChannel(channelId, channelName, NotificationManager.IMPORTANCE_MIN);
notificationManager.createNotificationChannel(channel);
...
builder.setChannelId(channel.getId()); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-09T12:08:15.390

> 如何隐藏状态栏中显示的正在进行的通知图标？

你没有。

> 我试图跳过（当未选中显示图标的选项时）builder.setSmallIcon() 函数调用，但这导致通知屏幕中没有通知。

正确的。由于提高a的主要`Notification`目的是在状态栏中放置一个图标，因此没有办法*不在*状态栏中放置一个图标。

# android - 如何同时运行多个动画？

> ID：15901326
> 
> 赞同：0
> 
> 时间：2013-04-09T12:01:43.310
> 
> 标签：android, multithreading, animation, runnable

我正在开发一个游戏，通过触摸在屏幕上拖放对象。我正在使用`SurfaceView`.

有时我需要制作动画以在用户播放时移动对象。

这是我的代码：

```
//raise it 
m = new MyLinearMoveAnimation(container1, Config.AXIS_Y, topLine, 2*Speed);
t = new Thread(m);
t.start();
while(delivering);
try {t.join();} catch (InterruptedException e1) {e1.printStackTrace();}
while(t.isAlive());

//move to destination column
m = new MyLinearMoveAnimation(container2, Config.AXIS_X, Config.IMAGE_X, 2*Speed);
t = new Thread(m);
t.start();
while(delivering);
try {t.join();} catch (InterruptedException e1) {e1.printStackTrace();}
while(t.isAlive()); 
```

这两个动画一个接一个地执行。我希望它们同时运行。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-04-09T12:03:44.837

你可以在android中使用异步任务

[http://developer.android.com/reference/android/os/AsyncTask.html](http://developer.android.com/reference/android/os/AsyncTask.html)

多亏了异步任务，您可以同时运行不同的任务，如果您在不同的异步任务中启动动画，它们将在同一时间执行

# spring-mvc - ExceptionHandlerExceptionResolver 的自定义参数解析器

> ID：15901327
> 
> 赞同：0
> 
> 时间：2013-04-09T12:01:49.077
> 
> 标签：spring-mvc

我正在尝试在 spring mvc 3.2 中使用 ExceptionHandler 注释的方法中使用自定义参数来处理异常。但是，当执行该方法时，我仍然会遇到此异常： java.lang.IllegalStateException: No proper resolver for argument[1] [type=com.example.domain.CustomArgument]

控制器方法如下所示：

```
@ExceptionHandler(IOException.class)
@ResponseBody
public Error handleIOException(IOException ex, CustomArgument customArgument) {
    return new Error(customArgument.getMessage());
} 
```

我正在使用以下 xml 配置：

```
<mvc:annotation-driven>
    <mvc:argument-resolvers>
        <bean class="com.example.spring.CustomArgumentWebArgumentResolver" scope="singleton">
            <constructor-arg ref="customArgumentService" />
        </bean>
    </mvc:argument-resolvers>
</mvc:annotation-driven>

<bean id="customArgumentService" class="com.example.service.CustomArgumentService" scope="singleton" />

<bean class="org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver" scope="singleton">
    <property name="customArgumentResolvers">
        <list>
            <bean class="com.example.service.CustomArgumentService" scope="singleton">
                <constructor-arg ref="customArgumentService" />
            </bean>
        </list>
    </property>
</bean>

<bean class="org.springframework.web.servlet.handler.SimpleMappingExceptionResolver" scope="singleton">
    <property name="defaultErrorView" value="forward:/error" />
</bean> 
```

而且我相信 mvc:annotation-driven 已经分配了一个 ExceptionHandlerExceptionResolver，那么我该如何添加 customArgumentResolver。任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-10T05:38:27.577

对于几个 ExceptionResolver，请尝试使用 HandlerExceptionResolverComposite。像这样的东西：

```
<bean class="org.springframework.web.servlet.handler.HandlerExceptionResolverComposite">
    <property name="exceptionResolvers">
        <list>
            <bean class="org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver">
                <constructor-arg ref="exceptionHandlerExceptionResolver" />
            </bean>
            <bean class="org.springframework.web.servlet.handler.SimpleMappingExceptionResolver">
                <constructor-arg ref="simpleMappingExceptionResolver" />
            </bean>
        </list>
    </property>
    <property name="order" value="0"/>
</bean> 
```

# javascript - Backbone：获取被点击项目的数据

> ID：15901331
> 
> 赞同：2
> 
> 时间：2013-04-09T12:01:56.763
> 
> 标签：javascript, jquery, backbone.js, underscore.js, click

我有一个简单的页面，其中显示了书籍列表以及有关书籍、标题、价格、描述的一些详细信息。数据是从 JSON 文件中提取的。

当我点击列出的任何一本书时，一个灯箱（引导模式）会启动，我想在其中显示被点击的书名。用户将能够写评论，所以我也想获取然后发送图书 ID。

不确定从被点击的书中获取数据的最佳方式是什么？

到目前为止，这是我的代码（包括灯箱）：

**骨干：**

```
var Book = Backbone.Model.extend();

    var BookList = Backbone.Collection.extend({
        model: Book,
        url: 'json/books.json'
    });

    var BookView = Backbone.View.extend({
        el: '.booksList',
        template: _.template($('#booksTemplate').html()),
        render: function(){
            _.each(this.model.models, function(model){
                this.$el.append(this.template({
                    data: model.toJSON()
                }));
            }, this);
            return this;
        }
    });

    var AppView = Backbone.View.extend({
        el: 'body',
        initialize: function(){
            var bookList = new BookList();
            var bookView = new BookView({
                model: bookList
            });
            bookList.bind('reset', function(){
                bookView.render();
            });
            bookList.fetch();
        }
    });

    var appView = new AppView(); 
```

**模板：**

```
<script id="booksTemplate" type="text/template">
    <div class="book">
        <div class="bookDetails">
            <h3><%= data.title %></h3>
            <p><%= data.price %></p>
        </div>
        <p><%= data.description %></p>
        <a href="#myModal" data-toggle="modal">bid</a>
    </div>

    <div id="myModal" class="modal hide fade">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
            <h3><%= data.title %></h3>
        </div>
        <div class="modal-body">    
            <form action="#" method="post">
            <input type="text" name="comment" id="comment"  />
            </form>
        </div>
        <div class="modal-footer">
            <a href="#" class="btn close" data-dismiss="modal" aria-hidden="true">Close</a>   
        </div>
    </div>
</script> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-09T12:46:27.850

收听您视图中的事件。[资源。](http://backbonejs.org/#View-extend)

所以基本上你会在你的视图中有这样的东西：

```
var BookView = Backbone.View.extend({
    el: '.booksList',
    template: _.template($('#booksTemplate').html()),
    render: function(){
        _.each(this.model.models, function(model){
            this.$el.append(this.template({
                data: model.toJSON()
            }));
        }, this);
        return this;
    },
    events: {
      'click': 'openModal'
      // you could also use 'click selector', see the doc
    },
    openModal: function() {
      // here the context is your view
      // so this.model will give you your collection, hence access to your data
    }
}); 
```

但是，我个人认为您应该有多个视图，每个视图用于一个模型（=book），而不是集合的整个视图。但是，嘿，这只是一个意见。

**编辑：详细信息**
我个人从不为集合创建视图。我更喜欢用另一种模型包装收藏（例如，当你有一个书籍清单、一个书架......）。但这只是在您需要视图列表顶部的唯一元素时。

举例来说，假设您按类型订购书籍。您需要一个包装视图来显示标题（告诉用户流派）。因此，您可以为您的收藏使用包装模型。
现在您只想将所有书籍显示为一本书。您只能在某些 div 或 ul 元素中添加与书籍一样多的视图。因此，您不需要包装您的收藏。

我可以一直谈论我在哪里、何时以及如何创建我的观点，但这不是重点，我也没有资格这样做（没有受过任何计算机科学教育，所以你可能会质疑我所说的一切，我不会怨恨你）。所以基本上，您可以将代码更改为：

```
initialize: function(){
  var bookList = new BookList; // I'm removing the parenthesis here
  // I simply like to separate "new Booklist" which makes a new object
  // from "Booklist()" which just calls the function
  bookList.each(function(book) {
    new BookView({model: book});
    // here you may not need "book" and use "this" instead, not sure though
  }); 
```

然后是绑定的问题。同样，我会让您搜索您的解决方案，但它可以像在视图的初始化函数中进行绑定一样简单。有很多可能性。

# asp.net - 在 IIS 7.5 上运行已发布网站时出错

> ID：15901332
> 
> 赞同：0
> 
> 时间：2013-04-09T12:01:57.243
> 
> 标签：asp.net, sql, iis

我有一个 asp.net 网站，它是在 asp.net 4.0 中开发的，具有来自数据库的数据绑定，该数据库在 sql server 2000 中维护。它在 localhost 上工作正常，但是当我在 IIS 上部署它并运行以下页面时正在发生错误。

`Login failed for user 'testuser'. Reason: Not associated with a trusted SQL Server connection.`

`Description: An unhandled exception occurred during the execution of the current web request. Please review the stack trace for more information about the error and where it originated in the code`.

`Exception Details: System.Data.OleDb.OleDbException: Login failed for user 'testuser'. Reason: Not associated with a trusted SQL Server connection.`

源错误：

`An unhandled exception was generated during the execution of the current web request. Information regarding the origin and location of the exception can be identified using the exception stack trace below.`

*   我正在使用混合模式身份验证，并且我的系统上安装了 sql server 2008
*   我在我的 .cs 页面中使用以下连接字符串

`using (OleDbConnection con3 = new OleDbConnection("Provider=SQLOLEDB;Data Source=sbs;User ID=testuser;Passwrd=pinkCITY01;Initial Catalog=PCGnet"))`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T12:18:26.277

尝试将**Integrated Security=SSPI**添加到连接字符串

或参考以下链接

[登录失败'sa'](http://social.msdn.microsoft.com/Forums/en-US/sqlsecurity/thread/a1a371f8-7ed2-47f8-b155-a553d47fb6e9/)

# jquery - 使用 JQuery 递归解析 XML

> ID：15901335
> 
> 赞同：0
> 
> 时间：2013-04-09T12:02:01.250
> 
> 标签：jquery, xml, parsing, recursion

```
<script>         
$(document).ready(function(){
            var xml = "<root> \
                        <method name='A'> \
                        <childcall name='B'></childcall> \
                        <childcall name='C'></childcall> \
                        </method> \
                        <method name='B'> \
                        <childcall name='D'></childcall> \
                        </method> \
                        <method name='C'> \
                        <childcall name='D'></childcall> \
                        <childcall name='E'></childcall> \
                        </method> \
                        </root>";

            var data = $.parseXML(xml);
            console.log(data);
            $(data).find('method').each(function(){
                var name = $(this).attr('name');
                $('<div class="items"></div>').html('<a href="'+name+'">'+name+'</a>').appendTo('#page-wrap');

            });
        });

     </script>
</head>
<body>
    <div id="page-wrap"></div>
</body>
</html> 
```

此代码为父方法标签输出 ABC。所需的输出是 ABCBDCD E。如何递归遍历子节点以获得所需的输出？那会是深度优先搜索吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T12:18:53.277

试试这个：

```
// Loop through the parent items
$(data).find('method').each(function () {
    var name = $(this).attr('name');
    $('<div class="items"></div>').html('<a href="' + name + '">' + name + '</a>').appendTo('#page-wrap');

    // Loop through the child items
    $(this).find('childcall').each(function () {
        name = $(this).attr('name');
        $('<div class="items"></div>').html('<a href="' + name + '">' + name + '</a>').appendTo('#page-wrap');
    });
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-11-11T00:42:18.847

如果有人有兴趣构建所有嵌套节点，更新的代码如下

```
$(xml).find('thymeSiteMap').each(function () {
    var name = $(this).attr('en');
    var id= $(this).attr('id');
    console.log(id);
    $('<div class="items shift" id="'+id+'"></div>').html('<a href="' + name + '">' + name + '</a>').appendTo('#page-wrap');

    // Loop through the child items
    $(this).find('thymeNode').each(function () {

    	var parent = $(this).parent().attr('id');
    	console.log("me "+$(this).attr('id') +" my parent "+parent);
        name = $(this).attr('en');
        var divname="div#"+parent+".items";
        console.log(divname);
        var id= $(this).attr('id');

        $('<div class="items shift" id="'+id+'"></div>').html('<a href="' + name + '">' + name + '</a>').appendTo(divname);
    });
```

```
<!doctype html>
    <html >
      <head>
        <script src="//code.jquery.com/jquery-1.11.3.min.js"></script>
<script src="//code.jquery.com/jquery-migrate-1.2.1.min.js"></script>

       <style>

       .shift{

       	position:relative;
       	left:20px;
       }

       </style>
      </head>
      <body>
        <div id="page-wrap" class="shift"></div>

      </body>
    </html>
```

# paypal - 使用贝宝标准添加按钮计算税金

> ID：15901340
> 
> 赞同：0
> 
> 时间：2013-04-09T12:02:14.293
> 
> 标签：paypal

有人可以帮我配置与客户所在国家/地区相关的税收百分比吗？我该如何设置变量？在我的贝宝商业帐户（意大利语）中，没有特定的部分可以执行此操作，因此我必须编辑代码。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T12:08:03.857

您是否获得了要粘贴到您网站上的 HTML 块？如果是这样，您能否将其添加到您的问题中？

当我自己编写这样的表格时，我只是在表格中添加了这一行。

```
<input type="hidden" name="tax_rate" value="25"> 
```

这会在结帐时对您的产品征收 25% 的税。因此，如果不含税的价格是 10 美元，那么在结帐时，产品将花费 10 美元+2.5 美元的税费。所以总共12.5。

# qt - QAbstractItemModel::setData() 的返回值

> ID：15901344
> 
> 赞同：1
> 
> 时间：2013-04-09T12:02:21.407
> 
> 标签：qt, pyqt, pyside

当重新实现 QAbstractItemModel::setData ( const QModelIndex & index, const QVariant & value, int role = Qt::EditRole ) 时，对于我们想要忽略的角色，我们应该怎么做？return false or return true ？还是别的什么？

Qt 文档中的示例甚至是自相矛盾的，这里返回值为 false [http://qt-project.org/doc/qt-4.8/model-view-programming.html#making-the-model-editable](http://qt-project.org/doc/qt-4.8/model-view-programming.html#making-the-model-editable) 但这里返回值为真 [http://qt-project.org/doc/qt-4.8/modelview.html#2-5-the-minimal-editing-example](http://qt-project.org/doc/qt-4.8/modelview.html#2-5-the-minimal-editing-example)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T12:57:28.407

如果您认为为该角色设置数据是错误的并且您希望避免这种情况，您可以返回 false。

如果您想忽略此数据角色，您可以返回 true，但尝试并不重要（但您应该打印警告）。

这样，您就不会“破坏” setData() 行为（false：有问题，true：没关系，您可以继续）。

你不应该返回任何东西来避免奇怪的行为，因为用户会等待一个布尔值。例如，如果您测试应该是布尔值的返回值：

```
if setData( "test", Qt.DisplayRole) == False:
   foo()
else:
   bar() 
```

即使 setData() 不返回 True，也会调用 bar()。

# python - 如何从自定义蜘蛛中间件返回项目

> ID：15901347
> 
> 赞同：0
> 
> 时间：2013-04-09T12:02:30.347
> 
> 标签：python, scrapy, middleware

我从 OffsiteMiddleware 创建了我的自定义 SpiderMiddleware。原始类的简单复制和粘贴，也许它存在更好的方法。

我会收集过滤后的异地域。我的管道有效。

但我不知道如何将这些项目返回到我的管道。

谢谢你的帮助。

```
def process_spider_output(self, response, result, spider):
    items = []
    for x in result:
        if isinstance(x, Request):
            if x.dont_filter or self.should_follow(x, spider):
                yield x
            else:
                domain = urlparse_cached(x).hostname
                if domain and domain not in self.domains_seen[spider]:
                    self.domains_seen[spider].add(domain)
                    # ***My items ===> items.append(OutboundsLinks(url = domain))***
        else:
            yield x 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-10T07:54:47.160

**process_spider_output() 必须返回一个可迭代的 Request 或 Item 对象。**

```
def process_spider_output(self, response, result, spider):
    items = []
    for x in result:
        if isinstance(x, Request):
            if x.dont_filter or self.should_follow(x, spider):
                yield x
            else:
                domain = urlparse_cached(x).hostname
                if domain and domain not in self.domains_seen[spider]:
                    self.domains_seen[spider].add(domain)
                    # create an item here and yield it 
        else:
            yield x 
```

# jquery - 使用 jquery 隐藏列表

> ID：15901348
> 
> 赞同：0
> 
> 时间：2013-04-09T12:02:31.270
> 
> 标签：jquery, list

我有一个嵌套列表作为移动网站的导航工具。最后 li 中的 a.close-link 应该使用 jquery 关闭/隐藏列表 #menu：

```
<ul id="navi">

<li><a href="#">Mobile Navigation</a>  

<ul id="menu">

    <li><a href="#">Page 1</a></li>
    <li><a href="#">Page 2</a></li>
    <li><a href="#">Page 3</a></li>
    <li><a href="#">Page 4</a></li>
    <li><a href="#" class="close">Close parent list</a></li>

</ul>                       
</li>                               
</ul> 
```

到目前为止，我的工作 jquery 解决方案是：

```
$(document).ready(function() {
    $("li a.close").click(function() {
        $(this).parent().hide();
        return false;
    });
}); 
```

问题：列表保持在“隐藏”状态 - 这意味着嵌套导航列表#menu 不能再次打开。如何添加一行 jquery 以恢复默认状态？

感谢您的帮助！

* * *

谢谢您的帮助！您启发了正确的解决方案：

```
<ul id="navi">
<li><a class="openul" href="#">Mobile Navigation</a>  
<ul id="menu">
    <li><a href="#">Page 1</a></li>
    <li><a href="#">Page 2</a></li>
    <li><a href="#">Page 3</a></li>
    <li><a href="#">Page 4</a></li>
    <li><a href="#" class="close">Close parent list</a></li>
</ul>                       
</li>                               
</ul> 
```

和jQuery代码：

```
$(document).ready(function() {
    $("li a.close").click(function() {
        $("#menu").children().hide();
        return false;
    });
    $(".openul").mouseover(function() {
        $("#menu").children().show();
    });
}); 
```

它对移动浏览器非常有用，因为导航列表在鼠标悬停时保持打开状态。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T12:09:23.770

```
 <ul id="navi">

<li><a href="#">Mobile Navigation</a>  

<a class="openul" href="#" style="display:none">Open parent list</a>

<ul id="menu">

    <li><a href="#">Page 1</a></li>
    <li><a href="#">Page 2</a></li>
    <li><a href="#">Page 3</a></li>
    <li><a href="#">Page 4</a></li>
    <li><a href="#" class="close">Close parent list</a></li>

</ul>                       
</li>                               
</ul> 
```

创建一个`<a>`并隐藏它，然后当您单击关闭父列表时，显示该`<a>`. 那个`<a>`onclick会重新打开你`#menu`并隐藏自己

```
 $(document).ready(function()  {            
        $("li a.close").click(function() {
            $("#menu").hide();
            $(".openul").show();
            return false;
        });   
    $(".openul").click(function(event){
        event.preventDefault();
        $(this).hide();
        $("#menu").show();
    });
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-10T08:10:26.577

谢谢您的帮助。您启发了正确的解决方案：

```
<ul id="navi">
<li><a class="openul" href="#">Mobile Navigation</a>  
<ul id="menu">
    <li><a href="#">Page 1</a></li>
    <li><a href="#">Page 2</a></li>
    <li><a href="#">Page 3</a></li>
    <li><a href="#">Page 4</a></li>
    <li><a href="#" class="close">Close parent list</a></li>
</ul>                       
</li>                               
</ul> 
```

和jQuery代码：

```
$(document).ready(function() {
    $("li a.close").click(function() {
        $("#menu").children().hide();
        return false;
    });
    $(".openul").mouseover(function() {
        $("#menu").children().show();
    });
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-09T12:10:00.223

尝试这个：

```
// Hide the Close li on page load
$("li a.open").parent().hide();

// On click of close, hide the close li and open the show li
$("li a.close").click(function () {
    $(this).parent().hide();
    $(this).parent().next().show();
    return false;
});

// On click of open, hide the show li and open the close li
$("li a.open").click(function () {
   $(this).parent().hide();
    $(this).parent().prev().show();
    return false;
}); 
```

[**在这里演示**](http://jsfiddle.net/RNnmp/1/)

# php - 使用php从mysql检索后无法将值作为数组返回

> ID：15901349
> 
> 赞同：1
> 
> 时间：2013-04-09T12:02:35.220
> 
> 标签：php, mysql

我正在尝试使用 php 从 mysql 中的表中获取单个值或所有值，它适用于单个值，并非所有值都如此，请帮助我。

```
function displaySitetype() {
    $result = array();
    $result = site_type_find("all");
    print_r($result);
    $count = count($result);
    for ($iter = 0; $iter < $count; $iter++) {
        ?> <option value="<?php echo $iter; ?>"><?php echo $result[$iter]; ?></option> <?php }
}

function site_type_find($site_type) {
    if ($site_type == "all") {
        $result = mysql_query("select * from site_type_table");
        $count = count($result);
        while ($count) {
            $resultarr = mysql_fetch_assoc($result);
            $arr = array_push($arr, $resultarr['site_name']);
            $count--;
        } return $arr;
    } else {
        $result = mysql_query("select site_name from site_type_table where site_id=$site_type");
        $arr = mysql_fetch_array($result);
        return $arr[0];
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T12:07:10.437

最小修复：尝试以下操作（我想您只需要 column 的值`site_name`）

```
//...
if ($site_type == "all") {
    $result = mysql_query("select site_name from site_type_table");
    $arr = array();
    while ($resultarr = mysql_fetch_assoc($result)) {
        $arr[] = $resultarr['site_name'];
    }
    return $arr;
} else {
//... 
```

顺便说一句，我不建议使用`mysql_*`函数（[在 PHP 5.5+ 中已弃用](http://www.php.net/manual/en/function.mysql-connect.php)）

请注意，您不能`count()`直接调用变量 $result （这是对 MySQL 查询结果的引用）。要在您的情况下获得结果计数，您可以使用[`mysql_num_rows()`](http://www.php.net/manual/en/function.mysql-num-rows.php)（仔细检查手册页开头的红色警告框）

# android - 实时视图在表面视图上不起作用

> ID：15901353
> 
> 赞同：0
> 
> 时间：2013-04-09T12:02:48.880
> 
> 标签：android, surfaceview

如何使用表面视图启用实时摄像机视图

我正在使用;

```
mCamera = Camera.open();

surfaceHolder = surfaceView.getHolder();
surfaceHolder.addCallback(this);
surfaceHolder.setType(SurfaceHolder.SURFACE_TYPE_PUSH_BUFFERS) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T12:08:07.687

你需要使用一种叫做相机预览的东西。这将显示相​​机对用户的看法，然后您可以使用 API 来控制相机动作。

这是来自官方开发者文档的一个非常好的教程：[https ://developer.android.com/guide/topics/media/camera.html#custom-camera](https://developer.android.com/guide/topics/media/camera.html#custom-camera)

# python - python3.3.1 ssl模块

> ID：15901357
> 
> 赞同：0
> 
> 时间：2013-04-09T12:02:52.083
> 
> 标签：python

我试图通过 python ssl 套接字将推送消息发送到苹果推送通知服务器。但未能在 python 3.3.1 上执行此操作。

```
Python 3.3.1 (default, Apr  9 2013, 14:40:22) 
[GCC 4.4.5] on linux
Type "help", "copyright", "credits" or "license" for more information.
>>> 
>>> import ssl
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
  File "./ssl.py", line 60, in <module>
    import _ssl             # if we can't import it, let the error propagate
ImportError: No module named '_ssl'
>>> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-10-28T10:07:02.660

当您没有正确安装python3（缺少依赖项）时会发生这种情况，有关更多信息，[请单击此处](https://stackoverflow.com/questions/6171210/building-python-and-more-on-missing-modules)

基本上你必须`sudo apt-get install <package_name>`， `<package_name>`缺少带有前导破折号的模块名称，当你从源代码安装 python 时会发现`make test`它会意外失败。`<package_name>`通常以`-dev`后缀结尾。更常见的是它也带有`lib`前缀。所以你可以用`apt-cache search <package_name>.*-dev$`.

然后你可以`make test`在 python 源目录下进行测试。最后，重新安装你的 python`./configure` `make`和`make insall`

至于你的问题，问题`sudo apt-get install libssl-dev`。然后重新安装python。

# javascript - 如果单元格包含 HTML extjs 3.4.0，则不会触发 celldblclick

> ID：15901367
> 
> 赞同：0
> 
> 时间：2013-04-09T12:03:11.833
> 
> 标签：javascript, extjs

我在 extJS 上有以下 EditorGridPanel：

[http://jsfiddle.net/VDFsq/1/](http://jsfiddle.net/VDFsq/1/)

```
Ext.onReady(function () {
  var myData = [[ '<SPAN STYLE=\"text-align:Left;font-family:Segoe UI;font-style:normal;font-weight:normal;font-size:12;color:#000000;\"><P STYLE=\"font-family:Arial;font-size:16;margin:0 0 0 0;\"><SPAN><SPAN>HTML </SPAN></SPAN><SPAN STYLE=\"font-weight:bold;color:#FF0000;\"><SPAN>FORMAT</SPAN></SPAN><SPAN><SPAN> TEST<BR />TEST</SPAN></SPAN></P></SPAN>', "lisa@simpsons.com", "555-111-1224"],
                [ 'Bart', "bart@simpsons.com", "555-222-1234"],
                [ 'Homer', "home@simpsons.com", "555-222-1244"],
                [ 'Marge', "marge@simpsons.com", "555-222-1254"]];

  var store = new Ext.data.SimpleStore({
    fields:[ {
      name: 'name'
    },
    {
      name: 'email'
    },
    {
      name: 'phone'
    }],
    data: myData
  });
  var grid = new Ext.grid.EditorGridPanel({
    renderTo: 'grid-container',
    columns:[ {
      header: 'Name',
      dataIndex: 'name', 
        width:200
    }
    ],
    store: store,
    frame: true,
    height: 240,
    width: 500,
      enableColumnMove :false,
            stripeRows: true,
            enableHdMenu: false,
            border: true,
            autoScroll:true,
            clicksToEdit: true,
    title: 'HTML in Grid Cell',
    iconCls: 'icon-grid',
      sm: new Ext.grid.RowSelectionModel({
      singleSelect: true
    })
  });

    grid.on({
        celldblclick: function() {alert(1);}
        });
}); 
```

问题是，当gridCell包含HTML数据（这是我的情况）时，当您双击带有html的单元格时，网格不会触发事件celldblclick。

在我的应用程序中，我需要在网格中显示那种 html。

如何解决这个问题？无论如何要将事件从 html 冒泡到网格？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-10T14:48:36.317

结构内部深处的 dom 树似乎存在一些限制。我认为将 html 放入网格不是一个好主意——如果你能统一它的结构——可能模板会更有用。

试试这个而不是你的 HTML：

```
 "<div ondblclick=\"alert('1!')\">1<div ondblclick=\"alert('2!')\">2<div ondblclick=\"alert('3!')\">3<div ondblclick=\"alert('4!')\">4</div>3</div>2</div>1</div>" 
```

事件继承在这个 HTML 中工作得很好，但在你的 EXt 示例中只工作 2 层。

注意：如果你尝试

```
 grid.on('rowdblclick', function(eventGrid, rowIndex, e) {
     console.log('double click');
 }, this); 
```

您不会遇到问题（但是，显然，您可以以这种方式仅对行进行 dblclick）

# .net - 在 TableLayoutPanel 上滚动时保留图纸

> ID：15901368
> 
> 赞同：0
> 
> 时间：2013-04-09T12:03:12.240
> 
> 标签：.net, vb.net, controls

在 TableLayoutPanel 中，其中一行通过函数用红色矩形突出显示：

```
ControlPaint.DrawBorder(MyTableLayoutPanel.CreateGraphics, RowRectangle, Color.Red, ButtonBorderStyle.Solid) 
```

当我滚动面板时，矩形消失。

如何在滚动后保留它而不必在 TLP.Paint 事件上重新绘制它？

我已经尝试过：

```
DrawRectangle()
MyTableLayoutPanel.Invalidate() 'And also Invalidate(True) 
```

但它不起作用；更糟糕的是，使用 Invalidate 时，它​​会在执行任何操作之前清除矩形。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T14:01:07.840

`CreateGraphics`是一个非常临时的图。您应该使用该绘制事件中的 Graphic 对象：

```
Private Sub MyTableLayoutPanel_Paint(sender As Object, e As PaintEventArgs) _
                                     Handles MyTableLayoutPanel.Paint

  ControlPaint.DrawBorder(e.Graphics, rowRectangle, Color.Red, _
                          ButtonBorderStyle.Solid) 
```

# magento - Magento - 退款订单通知

> ID：15901369
> 
> 赞同：0
> 
> 时间：2013-04-09T12:03:17.040
> 
> 标签：magento

在 magento 中，我们如何从网站向客户发送订单已退款的通知？我们可以更新状态以显示已退款吗？

Magento 版本：1.7.0.2

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-09T12:20:16.750

来自[Magento 用户指南](http://www.magentocommerce.com/resources/user-guide-download)。有关电子邮件通知，请参阅下面的步骤 6。

**退款**

您可以通过生成贷项凭证从现有订单创建产品退款记录。

要查看在您的网上商店中进行的退款列表：

从销售菜单中，选择贷项凭单选项以显示贷项凭单页面。

要对现有订单中的产品进行退款：

注意：您只能为已创建发票的订单创建贷项凭单。如果没有发票，则假定不支付订单，因此没有任何退款。

1.  在管理面板中，选择销售 > 订单以显示现有订单的列表。

2.  单击所需订单所在行右侧的查看链接以显示订单查看页面。

3.  单击贷项通知单按钮以生成贷项通知单。

4.  向下滚动到要退款的项目区域，然后在每个相关产品的退款数量字段中，指定要退款的产品数量。

5.  要指定该产品实际上已退回到网上商店，请选中退回库存复选框。

**6\. （可选）选中“贷项凭单的电子邮件副本”复选框以自动向客户发送一封电子邮件，告知订单已退款。您还可以调整退款总额以符合您的业务规则。**

**管理订单和客户**

1.  点击页面底部的退款按钮。退款此产品的订单总额会自动更新。

2.  如果需要，单击返回按钮返回到订单页面，您可以在其中创建其他订单。

注意：在 Magento CE 中为订单退款不会导致实际付款退款。您必须自行退还款项。贷项通知单只是用于跟踪退款并在报告中提供适当值的记录。

# date - Grails 匹配日期

> ID：15901370
> 
> 赞同：0
> 
> 时间：2013-04-09T12:03:19.210
> 
> 标签：date, grails, criteria

我有一个字符串是：

```
"may 2013" 
```

这是指五月二日。我正在尝试获取日期为 5 月 2 日的所有 PostOrder 实例。

到目前为止我已经尝试过：

```
def t = new Date(new Integer(sp[1]), new Integer(month), 01)
def results = PostOrder.createCriteria().list() {
     ilike('dateCreated', t  )
} 
```

请注意，我已经拆分了字符串，所以 sp[1] 是 2013，我已经解析了 May，所以月份变量不是 05。

上述尝试不起作用。

我知道唯一可行的方法是抓住所有对象并为每个对象做一个。将 dateCreated 解析为字符串，然后执行 .contains()。但这会变得非常缓慢和混乱。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-10T10:00:12.393

第一点。根据[文档](http://grails.org/doc/latest/ref/Domain%20Classes/createCriteria.html)，`ilike()`是不区分大小写的“like”表达式 - 请参阅[SQL LIKE Operator](http://www.w3schools.com/sql/sql_like.asp)。因此，它不能接受日期。你需要的只是`eq()`.

```
def t = new Date(new Integer(sp[1]), new Integer(month), 1)
def results = PostOrder.createCriteria().list() {
    eq('dateCreated', t)
} 
```

还有一点。构造函数`Date()` [接受](http://docs.oracle.com/javase/6/docs/api/java/util/Date.html#Date%28int,%20int,%20int%29)年份减去 1900 作为第一个参数。因此，您可能需要从中`1900`减去`new Integer(sp[1])`. 此外，该构造函数已被弃用；我建议使用`GregorianCalendar(new Integer(sp[1]), new Integer(month), 1).time`.

# java - 你可以在数组上使用迭代器吗？

> ID：15901375
> 
> 赞同：0
> 
> 时间：2013-04-09T12:03:26.820
> 
> 标签：java, iterator, trie

这不是一个容易写的问题，它有很多角度。我正在尝试用 Java 编写一个非常基本的 Trie 来帮助自己理解这个概念及其用途。我不完全确定我做对了，但不管我遇到以下问题：

```
 for(char c: value.toCharArray()){
    TrieNode nodeChecker = rootNode.checkValue(c);    //checks currentNode to see if characters are keys in HashMap
    if(nodeChecker == null){
        rootNode = rootNode.add(c);     //if not, adds the character as a key, returns another TrieNode
    } 
```

基本上我在这里所做的是将单词“sample”添加到树中。我创建了一个 HashMap，键是字符，值是另一个 HashMap。（所以嵌套的哈希映射，这是我不完全确定这是一个正确的 Trie 的地方，但没关系）。

我遇到的问题是我想停止 value.toCharArray 的最终值（无论最后一个字符 c 是什么）。如果我不在最后一个字符上停下来，它会继续添加嵌套的 HashMaps 并且从未真正放入这个词。我试图创建一个迭代器并使用 hasNext() 函数，但我尝试的任何方法都不起作用。

```
Iterator<Character> iter = value.toCharArray().iterator(); //"cannot invoke iterator on the array type char[]" 
```

我无法让迭代器通过数组，迭代器与数组不兼容吗？只有列表或数组列表？如果是这种情况，是否有一种简单的方法可以将字符数组放入列表中，以便我可以使用 hasNext() 功能？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-09T12:05:27.143

您将不得不循环将数组转换为列表，因为`Arrays.asList(value.toCharArray())`会产生`List<char[]>`：

```
List<Character> characters = new ArrayList<Character>();
for (char c : value.toCharArray()) {
    characters.add(c);
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-09T12:06:09.520

迭代器不能用于原始类型数组，只能用于集合。而不是你每次使用：

```
for(i=0; i<value.toCharArray().length; i++){
    char c = value.toCharArray()[i];
    ......
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-09T12:06:56.710

`Arrays.asList(value.toCharArray());`应该做的伎俩。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-09T12:08:07.390

您可以使用普通的 for 循环构造，而根本不使用迭代器。

```
int length = value.toCharArray().length;
for (int i = 0; i < length; i ++) {
    if (i == length - 1) {
        //Last Element
    }
} 
```

# javascript - 如何为动态生成的 html 元素编写 jquery 选择器？

> ID：15901380
> 
> 赞同：0
> 
> 时间：2013-04-09T12:03:36.553
> 
> 标签：javascript, jquery, oop, jquery-selectors

我目前正在编写一个面向对象的模块，它将回调分配给动态生成的元素。

```
function Instant(containerID) {
    this.var1 = 0;
    this.var2 = 0;
    this.containerID = containerID;
    // and more variables...
}; 
```

这是*动态*生成`containerID`的 a 的 id 。我通过 Ajax 请求填充它，它读取如下文件：`DIV`*`DIV`*

 *```
<!-- content.html -->
<div class="general_container">
    <div class="top_container">
        <!-- plenty of divs, spans etc -->
    </div>

    <div class="tweet_section">
        <!-- plenty of divs, spans etc -->
    </div>
</div> 
```

现在重要的部分是，我分配所有回调，如下所示：

```
Instant.prototype.addCallbacks = function() {
    $(this.containerID + " bar").click(function() {
        $(this.containerID + " bar").foo();
    });

    $(this.containerID + " bar").click(function() {
        $(this.containerID + " bar").foo();
    });

    $(this.containerID+ " bar").click(function(e) {
        $(this.containerID + "bar, " + this.containerID+ " bar").foo();
    });
}); 
```

如您所见，我总是必须`this.containerID`在每个选择器之前放置以分配事件。（因此，我确保我只选择一个元素）现在，我的代码充满了混乱，因为我有很多`this.containerID`s。我不知道是否有更聪明的方法可以让我的代码变得简单。任何帮助将不胜感激。

这是一个示例[**JSFiddle**](http://jsfiddle.net/CZg4T/1/)。

请注意，这不是我真正的模块，我只是为了清楚起见而编造了它！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T12:08:06.880

那么你不应该使用ID。您应该改用类。

[编辑您的代码需要很长时间](http://jsfiddle.net/CZg4T/3/)，但这里有一个提示：向父级添加一个处理程序。使用事件委托，例如`.on()`. 然后让它倾听所有孩子，现在或未来。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T12:51:27.703

就像@JosephTheDreamer 所说，使用[Event Delegation](http://brandonaaron.net/blog/2010/03/4/event-delegation-with-jquery)。( [`Jquery.fn.on`](http://api.jquery.com/on/#on-events-selector-data)) 使用事件委托，您可以将一个处理程序设置为多个目标。这意味着内存中只有一个处理程序和动态事件处理程序集。

[我做了一个](http://jsfiddle.net/fernandosavio/XavuK/5/)修改你的代码的演示，看看...

```
Instant.prototype.addCallbacks = function () {
    var selfContainer = null, // DOMElement container
        me = this; // Object reference

    $('body').on("click", ".selection_container .btn-add", function () { //Using event delegation
        selfContainer = $(this).parents(".general_container"); //set DOMElement
        selfContainer.find("input[name=currentValue]").val(++me.instantValue);
    });

    $('body').on("click", ".selection_container .btn-subtract", function () {
        selfContainer.find("input[name=currentValue]").val(--me.instantValue);
    });

   $('body').on("click", ".selection_container .btn-reset", function () {
        me.instantValue = 0;
        selfContainer.find('input[name=currentValue]').val(0);
    });

    $('body').on("click", ".selection_container .btn-save", function () {
        me.savedValue = me.instantValue;
    });

    $('body').on("click", ".selection_container .btn-load", function () {
        me.instantValue = me.savedValue;
        selfContainer.find('input[name=currentValue]').val(me.savedValue);
    });
}; 
```

希望能帮助到你...

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-09T12:16:10.223

Create a separate java script file and put your add callbacks function in there and just pass the containerID. That way, you can re-use it later. However, looks like you cannot get rid of containterID since you will be needing that to do your add, subtract, save etc..

in your current file shown as above,

```
Instant.prototype.addCallbacks = createAddCallbacks(this.ContainerID); 
```

create addCallbacks.js

```
function createAddCallbacks(containerId)
{
Instant.prototype.addCallbacks = function() {
    $(containerId + " bar").click(function() {
        $(containerId + " bar").foo();
    });

    $(containerId + " bar").click(function() {
        $(containerId + " bar").foo();
    });

    $(containerId+ " bar").click(function(e) {
        $(containerId + "bar, " + containerIdD+ " bar").foo();
    });
});
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-09T12:38:40.043

所以，我想我根据[这篇文章](https://stackoverflow.com/questions/10543897/how-to-limit-the-jquery-search-scope)
找到了一个更好的方法， 我想限制我的选择器的范围。

首先，我将创建一个 jQuery 实例变量

```
function Instant(containerID) {
    this.var1 = 0;
    this.var2 = 0;
    this.container= $('#'+containerID);
    // and more variables...
}; 
```

并添加一个像这样的新原型

```
Instant.prototype.$ = function(selector){
    return this.container.find(selector);
}; 
```

我只会使用`this.$(selector)`更好的功能。*

# python - Outlook / Python：在屏幕上打开特定消息

> ID：15901382
> 
> 赞同：1
> 
> 时间：2013-04-09T12:03:42.790
> 
> 标签：python, outlook

我想在 Outlook 中使用 Python 脚本执行一项“简单”任务，但我通常使用 PHP，这对我来说有点困难。

这是任务：

*   打开 Outlook（没关系）
*   检查特定帐户，例如：test@test.com
*   打开最后一封邮件

我想在屏幕上打开“真实”消息窗口，而不仅仅是访问内容。可能吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T14:04:34.053

对于您的第二个要求，该帐户可以是共享收件箱吗？

这是其余的代码：

```
import win32com.client

outlook = win32com.client.Dispatch("Outlook.Application").GetNamespace("MAPI")

inbox = outlook.GetDefaultFolder(6)
messages = inbox.Items
message = messages.GetLast()
message.display() 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2020-06-15T01:59:54.360

这是python中exchangelib的另一个例子：

[https://medium.com/@theamazingexposure/accessing-shared-mailbox-using-exchangelib-python-f020e71a96ab](https://medium.com/@theamazingexposure/accessing-shared-mailbox-using-exchangelib-python-f020e71a96ab)

这是获取最后一封电子邮件的片段。我使用 order by 和根据您的 order by 选择第一个或最后一个的组合来做到这一点：

```
from exchangelib import Credentials, Account, FileAttachment

credentials = Credentials('FirstName.LastName@Some_Domain.com', 'Your_Password_Here')
account = Account('FirstName.LastName@Some_Domain.com', credentials=credentials, autodiscover=True)
filtered_items = account.inbox.filter(subject__contains='Your Search String Here')
print("Getting latest email for given search string...")
for item in account.inbox.filter(subject__contains='Your Search String Here').order_by('-datetime_received')[:1]:   #here is the order by clause:: you may use order_by('datetime_received')[:-1]
    print(item.subject, item.text_body.encode('UTF-8'), item.sender, item.datetime_received) #item.text_body.encode('UTF-8') gives you the content of email 
```

虽然尝试打开真实消息可能有点挑战，但一旦我有解决方案，我会更新这部分。如果我可能会问:: 你在看一个只有 python 的解决方案吗？

# php - 不允许主机 ' ' 连接到此 MySQL 服务器

> ID：15901383
> 
> 赞同：2
> 
> 时间：2013-04-09T12:03:43.677
> 
> 标签：php, mysql

我正在android的客户端/服务器端工作。并创建一个仅包含以下代码行的 php 文件：

```
mysql_connect("192.184.10.45");  //line#3
mysql_select_db("Test_Data");
$sql=mysql_query("select * from registeration ");
mysql_close(); 
```

当我在浏览器上运行它时，这会给我这些消息：

> 警告：mysql_connect() [function.mysql-connect]: Host '' is not allowed to connect to this MySQL server in C:\xampp\htdocs\Project1\server.php on line 3

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-09T12:06:02.640

在这里也传递用户名和密码

```
mysql_connect("192.184.10.45","username","password"); //line#3 
```

并停止使用`mysql_*`他们不赞成使用的功能，改用`Mysqli`OR `PDO`。

# android - Android，在指定的时间段内重复一个动作

> ID：15901387
> 
> 赞同：0
> 
> 时间：2013-04-09T12:03:57.523
> 
> 标签：android, repeat, audio

我从加速度计值中有以下“如果条件”，并且当设备平坦时，会连续播放哔声。我不知道如何让这个声音在指定的时间段内**重复（例如：5 秒）。**我尝试了很多方法，但声音一直在播放，或者不符合 if 条件。如果有人可以帮助我..提前谢谢你..

```
if (x > -0.1 && x < 0.1 && y > -0.1 && y < 0.1) {
  try {
    AssetFileDescriptor afd = getAssets().openFd("beep.wav");
    mMediaplayer = new MediaPlayer();
    mMediaplayer.setDataSource(afd.getFileDescriptor(), afd.getStartOffset(), afd.getLength());
    afd.close();
    mMediaplayer.prepare();
    mMediaplayer.start();
    mMediaplayer.setOnCompletionListener(new OnCompletionListener() {
      public void onCompletion(MediaPlayer mp) {
        //mp.setLooping(false);
        mp.stop();
        mp.release();
      }
    });
  } catch (Exception e) {
    e.printStackTrace();
  }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T14:36:28.723

您可以使用重复警报。

```
int secondsInterval = 5; // 5 seconds for example
long interval = secondsInterval * 1000;
long firstTime = Calendar.getInstance().getTimeInMillis();

Intent i = new Intent(ctx, AlarmHandler.class);
PendingIntent mAlarmSender = PendingIntent.getService(ctx, 0, i, PendingIntent.FLAG_UPDATE_CURRENT);

AlarmManager am = (AlarmManager) ctx.getSystemService(ALARM_SERVICE);
am.setRepeating(AlarmManager.RTC_WAKEUP, firstTime, interval, mAlarmSender); 
```

然后，您应该将代码包含在 Intent 处理程序类（上述代码中的 AlarmHandler.class）中的类似方法中：

```
@Override
protected void onHandleIntent(Intent arg0) {
    // your code here
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T12:09:02.613

为什么不在后台的新异步任务中播放媒体播放器？创建您自己的异步任务实现，然后在其构造函数中传递一个时间值，然后在那里启动媒体播放器并继续检查它以查看经过的持续时间是否等于传递给它的值。我认为这可能会有所帮助-->

[http://developer.android.com/reference/android/os/AsyncTask.html](http://developer.android.com/reference/android/os/AsyncTask.html)

# python - 从 python numpy 数组中写入逗号分隔值

> ID：15901390
> 
> 赞同：4
> 
> 时间：2013-04-09T12:04:10.240
> 
> 标签：python, csv, numpy

我正在创建一个自定义文件编写器。我需要将数组的值以逗号分隔的形式写出文件中的一行。我可以执行以下操作：

```
def as_csv(array):

    return ','.join([str(i) for i in array]) + '\n' 
```

然后：

```
outfile.write(my_header)
outfile.write(other_stuff)
outfile.write(as_csv(array)) 
```

但我想知道这是否是最有效的方法，或者是否有更好的方法使用 numpy.array_str 或 numpy.array_repr 方法。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-09T12:09:19.520

您还可以使用内置的 numpy 方法`np.savetxt`：[http ://docs.scipy.org/doc/numpy/reference/generated/numpy.savetxt.html](http://docs.scipy.org/doc/numpy/reference/generated/numpy.savetxt.html)

```
np.savetxt(outfile, array, delimiter=',') 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T13:46:48.093

我没有尝试`np.savetxt`在下面的上下文中使用它，也许只要文件以附加模式打开，它就可以使用，但这是我试图做的解决方案。但是，它可能不是最有效的..

```
def _as_csv(self, values):
    vals = ','.join([str(i) for i in values])
    return vals + '\n'

def output(self, filename, series_cnt, series_name, series_type, startdate, N, values, step = 1000):
    """ outputs data to a file """

    starttime = startdate

    num_imports = (N / step) + 1

    outfile = open(filename.format(series_cnt, i), 'w')
    outfile.write('#{0},{1},{2},\n'.format('TEST', startdate.strftime('%Y%m%d%H%M%S000'), str(num_imports)))

    for i in range(0, N, step):

        line_start = '/Test/{0},{1},{2},{3},'.format(series_name, series_type, starttime.strftime('%Y%m%d%H%M%S000'), step)
        outfile.write(line_start)
        nxt = i + step
        starttime = starttime + dt.timedelta(hours=step)

        outfile.write(self._as_csv(values[i:nxt]))

        outfile.close() 
```

# git - Git：[远程拒绝] master -> master（没有这样的参考）

> ID：15901396
> 
> 赞同：-1
> 
> 时间：2013-04-09T12:04:30.303
> 
> 标签：git

所以我一直在其他一些分支上工作。然后我切换到master并决定将它推到原点，但它决定不再工作。

`git push origin master`结果是：

> [远程拒绝] master -> master（没有这样的参考）

显然，这是一个典型的无意义的 Git 错误，我不知道出了什么问题。任何帮助表示赞赏。

**更新 1**

尝试克隆到临时文件夹会给出：

> git：警告：远程 HEAD 指的是不存在的 ref，无法结帐。

**更新 2**

我重新创建了远程存储库，但这次在愚蠢的工具甚至将单行输出写入屏幕之前完全挂起！可悲至极。

**更新 3**

最近的推动已经奏效。我想我回到了原来的位置。Git 每周都会出现严重问题。我真诚地建议人们在尝试之前研究 Git 问题。我认为它可能更适合从事开源项目的业余爱好。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T13:36:42.020

> ... Git 每周都会出现严重问题。...

**许多**人使用 git 并且他们没有遇到问题。我认为您找不到任何能够像 Linux 内核开发中那样处理尽可能多的提交和频繁提交的 VCS。如果每次使用 编译程序时都会出现编译错误`gcc`，那么这并不意味着 gcc 已损坏。你明白了。

回到你的问题，你需要更具体地说明你的遥控器在哪里，它的设置如何等等。从错误看来，你的遥控器发生了一些不好的事情。如果您使用自己的服务器（例如，不是像 github 这样受到良好保护的地方），那么可能会出现很多问题。

一个非常简单的原因可能是您的硬盘出现故障，或者您的远程 git 存储库中不幸存在坏扇区。如果服务器正在运行 windows（不确定 git 是否可以在 windows 上作为远程运行），那么您的问题是您正在运行 windows（即病毒、一般 windows 破坏性等）。

现在这就是 git 本身来拯救你的地方。假设您的遥控器因任何原因损坏。您需要做的就是：

```
git clone --bare /path/to/your/local somewhere_else 
```

遥控器在哪里`somewhere_else`（如果可以的话），或者在本地机器的某个地方。在后一种情况下，只需将新克隆复制到您的遥控器，然后将您`origin`的指向新路径。

* * *

> 我重新创建了远程存储库，但这次在愚蠢的工具甚至将单行输出写入屏幕之前完全挂起......
> 
> 最近的推动已经奏效......

听起来最初的 ssh 连接（与 git 完全无关）花了一些时间，您可能将其视为挂起并 CTRL+Ced ，而您应该等待。最近推送再次起作用的事实表明问题不再存在（因为冗长的初始 ssh 连接已经过去）。

注意：很少，我遇到类似的情况（我的服务器通常是 github）远程没有响应一段时间。我相信这很简单是由于网络问题（类似的事情*一直*在发生，例如当你浏览互联网时）。可怜的 git 只是在等待网络未能给他带来的响应。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T13:01:44.130

你的命令是错误的......你正在推动主人......使用下面的命令

git push origin HEAD:[远程分支名称]

# java - 从同一个 appwidget 的多个实例中打开一个 Activity 的多个实例

> ID：15901398
> 
> 赞同：0
> 
> 时间：2013-04-09T12:04:34.227
> 
> 标签：java, android

我有一个小部件，单击时会打开设置活动。现在，如果用户添加小部件的多个实例并单击它们，它们都会打开具有相同数据和相同的相同活动`SharedPreferences`。

在我的`onReceive()`我有

```
 views.setOnClickPendingIntent(R.id.mytv, pendingIntent);
    appWidgetManager.updateAppWidget(thisAppWidget, views); 
```

我想要的是打开设置 Activity 作为一个独立的实例`SharedPreferences`......有没有办法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T12:39:47.170

您可以使用该活动，只需在打开它时将 appwidget id 传递给该活动。使用 appwidget id 为每个小部件实例创建单独的共享首选项文件，或者只使用单个共享 pref 文件，但是如果您需要为小部件设置不同的设置，只需创建一些键并为该键附加小部件 id，例如“sort_order_”+appWidgetId。当小部件从屏幕上删除时，不要忘记删除首选项文件或属于该应用小部件的键。

# api - 我遇到了 json codeigniter 的问题，它没有关闭标签

> ID：15901399
> 
> 赞同：1
> 
> 时间：2013-04-09T12:04:37.967
> 
> 标签：api, codeigniter, rest

我在使用 json codeigniter rest 时遇到问题

我正在对服务器进行此调用，问题在于它没有关闭 json 标签

s, USA","clientUID":"7","email":null,"idipad":"2","dateModified":null},{"id":"19","uid":null,"名称”：“韦恩公司”，“电话”：“932345324”，“地址”：“第二街。312，哥谭市","clientUID":"7","email":"waynecorp@gmail.com","idipad":"1","dateModified":null}]

它错过了决赛}

这是创建响应的代码：

```
$this->response(array('login'=>'login success!','user_admin_id'=>$user_id,'client'=>$client,'users'=>$users,'projects'=>$projects,'plans'=>$plans,'meetings'=>$meetings,'demands'=>$demands,'tasks'=>$tasks,'presences'=>$presences,'contractors'=>$contractors,'companies'=>$companies), 200); 
```

这是使用 curl 的客户端调用：

$this->curl->create(' [http://dev.onplans.ch/onplans/index.php/api/example/login/format/json](http://dev.onplans.ch/onplans/index.php/api/example/login/format/json) ');

```
// Option & Options
$this->curl->option(CURLOPT_BUFFERSIZE, 10);
$this->curl->options(array(CURLOPT_BUFFERSIZE => 10));

// More human looking options
$this->curl->option('buffersize', 10);

// Login to HTTP user authentication
$this->curl->http_login('admin', '1234');

// Post - If you do not use post, it will just run a GET request
//$post = array('remember'=>'true','email'=>'admin.architect@onplans.ch','password'=>'password');
        $post = array('remember'=>'true','email'=>'admin.architect@onplans.ch','password'=>'password');
$this->curl->post($post);

// Cookies - If you do not use post, it will just run a GET request
$vars = array('remember'=>'true','email'=>'manuel@ffff.com','password'=>'password');
$this->curl->set_cookies($vars);

// Proxy - Request the page through a proxy server
// Port is optional, defaults to 80
//$this->curl->proxy('http://example.com', 1080);
//$this->curl->proxy('http://example.com');

// Proxy login
//$this->curl->proxy_login('username', 'password');

// Execute - returns responce
echo $this->curl->execute();

// Debug data ------------------------------------------------

// Errors
$this->curl->error_code; // int
$this->curl->error_string;

        print_r('error :::::LOGINN REMOTE:::::'.$this->curl->error_string);
// Information
$this->curl->info; // array

       print_r('info :::::::::::::'.$this->curl->info); 
```

响应属于来自 phil 的其余 api codeigniter

```
/**
 * Response
 *
 * Takes pure data and optionally a status code, then creates the response.
 *
 * @param array $data
 * @param null|int $http_code
 */
public function response($data = array(), $http_code = null)
{
    global $CFG;

    // If data is empty and not code provide, error and bail
    if (empty($data) && $http_code === null)
    {
        $http_code = 404;

        // create the output variable here in the case of $this->response(array());
        $output = NULL;
    }

    // If data is empty but http code provided, keep the output empty
    else if (empty($data) && is_numeric($http_code))
    {
        $output = NULL;
    }

    // Otherwise (if no data but 200 provided) or some data, carry on camping!
    else
    {
        // Is compression requested?
        if ($CFG->item('compress_output') === TRUE && $this->_zlib_oc == FALSE)
        {
            if (extension_loaded('zlib'))
            {
                if (isset($_SERVER['HTTP_ACCEPT_ENCODING']) AND strpos($_SERVER['HTTP_ACCEPT_ENCODING'], 'gzip') !== FALSE)
                {
                    ob_start('ob_gzhandler');
                }
            }
        }

        is_numeric($http_code) OR $http_code = 200;

        // If the format method exists, call and return the output in that format
        if (method_exists($this, '_format_'.$this->response->format))
        {
            // Set the correct format header
            header('Content-Type: '.$this->_supported_formats[$this->response->format]);

            $output = $this->{'_format_'.$this->response->format}($data);
        }

        // If the format method exists, call and return the output in that format
        elseif (method_exists($this->format, 'to_'.$this->response->format))
        {
            // Set the correct format header
            header('Content-Type: '.$this->_supported_formats[$this->response->format]);

            $output = $this->format->factory($data)->{'to_'.$this->response->format}();
        }

        // Format not supported, output directly
        else
        {
            $output = $data;
        }
    }

    header('HTTP/1.1: ' . $http_code);
    header('Status: ' . $http_code);

    // If zlib.output_compression is enabled it will compress the output,
    // but it will not modify the content-length header to compensate for
    // the reduction, causing the browser to hang waiting for more data.
    // We'll just skip content-length in those cases.
    if ( ! $this->_zlib_oc && ! $CFG->item('compress_output'))
    {
        header('Content-Length: ' . strlen($output));
    }

    exit($output);
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-12-15T04:49:02.940

这个答案是从[Github issue](https://github.com/chriskacerguis/codeigniter-restserver/issues/205)中引用的。也是由佩德罗·迪尼斯提出的，我是客人。我今天遇到了这个问题，花了很长时间来寻找解决方案。我在这里分享，希望能帮助像我这样的人。关键是替换库文件中的第 430 行： REST_Controller.php ：

```
header('Content-Length: ' . strlen($output)); 
```

经过

```
header('Content-Length: ' . strlen("'".$output."'")); 
```

更新：问题在[这里解决了](https://github.com/chriskacerguis/codeigniter-restserver/issues/295) 或者你可以注释掉代码，它会运行良好。:)

# python - 如何让一个函数转到另一个函数？

> ID：15901405
> 
> 赞同：2
> 
> 时间：2013-04-09T12:04:57.087
> 
> 标签：python, input

所以我有这个游戏：

```
import sys

def Start():
    print("Hello and welcome to my first Python game. I made it for fun and because I am pretty bored right now.")
    print("I hope you enjoy my EPIC TEXT GAME")

play = input("do you want to play? (Y / N) ")

if play == "Y":
    game()

if play == "N":
    sys.exit()

def game():
    print("That's pretty much what I've done so far! :P -- yea yea, it's nothing -- IT IS!. Bye now")
    input("Press enter to exit") 
```

如果我输入“Y”我想去游戏（）。它没有。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-09T12:07:44.760

`game`在您尝试并使用它之后，您已经定义了它。您需要在使用它们之前定义函数、变量等。此外，您的代码仅匹配大写`Y`而不是小写`y`。要使所有输入大写，您应该使用它上面的`.upper()`方法
将代码更改为：

```
def game():
    print("That's pretty much what I've done so far!")
    input("Press enter to exit")

if play.upper() == "Y":
    game()
elif play.upper() == "N":
    sys.exit() 
```

通常最好的形式是没有任何全局代码，`main`如果 python 代码作为主代码运行，则将其包含在函数中。您可以使用以下方法执行此操作：

```
if __name__ == "__main__":
    Start() 
```

然后将所有全局代码放入`Start`方法中。同样，请确保在使用前声明。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T12:13:41.050

您正在使用[input()](http://docs.python.org/2/library/functions.html#input)函数，该函数在从标准输入读取输入后立即将其作为命令执行。

您可能想使用[raw_input()](http://docs.python.org/2/library/functions.html#raw_input)它将简单地返回用户输入的内容

# c# - 确定两个集合是否共享至少一个元素

> ID：15901422
> 
> 赞同：4
> 
> 时间：2013-04-09T12:05:37.257
> 
> 标签：c#, linq

有没有办法确定一个集合是否至少包含另一个集合中的一个元素？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-04-09T12:08:03.133

您可以使用 Any()。

```
var listA = new List<int>();
var listB = new List<int>();

bool hasCommonItem = listA.Any(i => listB.Contains(i)); 
```

此外，如有必要，您可以编写一个[IEqualityComparer](http://msdn.microsoft.com/en-us/library/ms132151.aspx)实现将其作为参数传递给 Contains()。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2013-04-09T12:08:21.967

当然有。

```
var sourceCollection = GetSourceCollection();
var otherCollection = GetAnotherCollection();

var hasAtLeastOne = sourceCollection.Intersect(sourceCollection).Any(); 
```

我假设您的集合属于同一类型：`IEnumerable<T>`具有相同的`T`通用参数。

它会`sourceCollection`首先加载整个元素，然后一次获取一个元素，`otherCollection`直到找到第一个公共元素。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-09T12:08:16.280

```
col1.Any(x => col2.Any(y => x==y)); 
```

# vb.net - 在 vb.net 中包含和调用 PDF 文件（部署后）

> ID：15901424
> 
> 赞同：0
> 
> 时间：2013-04-09T12:05:45.650
> 
> 标签：vb.net, vb.net-2010

很高兴看到这个网站，感谢大家的积极参与。:)

* * *

我在 Visual Studio 2010/VB.Net 中遇到问题

我在 Visual Basic 中有 Windows 窗体，我将软件（窗体）部署到一个安装程序现在我想用 Button_Click_Event 打开我的 PDF 文件（即：特定）我知道：

```
Process.Start("MyPDF.pdf") 
```

但我不知道用户是否将我的软件安装在他的 PC 中，所以他可能将软件安装在 CD 或其他目录中，而且我也不知道如何在我的项目中包含 PDF 文件:) 请为我建议，我正在搜索这个但失败了所以请帮助我

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T12:12:26.147

这相当简单：只需将文件拖到项目文件夹中，然后在其选项中，告诉它复制到构建目录即可。此后，通过 my.application 方法找到路径。从中构建正确的路径并通过 process.start 启动它

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T12:14:15.233

`Add->Existing Item`在您的项目中使用。
然后将 PDF 文件添加到您的项目中。
之后，您必须将新添加的文件的属性设置为以下内容：

![解决方案资源管理器中的项目](https://i.stack.imgur.com/VUIZl.jpg)

现在，在您构建项目后，该文件将添加到您的“输出”目录中。
现在使用您的`Process.Start("MyPDF.pdf")`电话。它将打开，因为它位于同一目录中。

# user-interface - Kentico CMS 问题中自定义模块的用户界面

> ID：15901425
> 
> 赞同：0
> 
> 时间：2013-04-09T12:05:46.647
> 
> 标签：user-interface, module, kentico

我在自定义模块中添加了一个用户界面。为了使用 kentico FCKEditor 可编辑区域，我添加了 CMSEditableRegion 和 CMSPortalManager。当我从“页面”选项卡单击页面链接时，它可以正常工作。但是当我点击设计选项卡中的链接时，它会给出错误（见图）。![在此处输入图像描述](https://i.stack.imgur.com/gM5ZM.png)

![在此处输入图像描述](https://i.stack.imgur.com/igVr4.png)

此外，当我在内容树中移动另一个页面时，我的模块不会更新其内容。

任何帮助，将不胜感激。

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T12:07:56.670

您正在尝试访问对象的值而不对其进行初始化。

# ios - iOS导航栏图标问题

> ID：15901427
> 
> 赞同：0
> 
> 时间：2013-04-09T12:05:55.390
> 
> 标签：ios, icons, uinavigationbar, uinavigationitem

我有一个关于 iOS 用户界面指南和导航栏的问题：我想显示一些图标只是为了让用户了解某些参数的状态。这些图标的外观可能会根据这种状态而改变。我已经阅读了有关导航栏的[iOS 人机界面指南](http://developer.apple.com/library/ios/#documentation/UserExperience/Conceptual/MobileHIG/UIElementGuidelines/UIElementGuidelines.html#//apple_ref/doc/uid/TP40006556-CH13-SW52)文档，看起来它的图标应该是用户可以触摸以触发某些操作的按钮。如果导航栏中的图标仅供用户参考，应用程序在提交到 Apple Store 时会被拒绝吗？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T17:20:34.373

您应该查看提交指南，因为 Apple 经常更改它！假设您有一个开发者帐户，这里是链接[https://developer.apple.com/appstore/resources/approval/guidelines.html](https://developer.apple.com/appstore/resources/approval/guidelines.html)

# redmine - 如何在 Dreamhost 的 fastcgi 中运行/启动 redmine

> ID：15901428
> 
> 赞同：0
> 
> 时间：2013-04-09T12:05:57.630
> 
> 标签：redmine, dreamhost, fastcgi

我使用dreamhost（在wiki-dreamhost-redmine 中推荐的fastcgi）并在它上面安装redmine。使用 webrick 它可以完美运行，但是我认为不建议在 webrick 中保持生产，但是我也不能保持它，因为 nohub 不工作（命令未找到错误，很奇怪！）

我检查了有关 httpd.conf 的 redmine 生产通行证的可用讨论，但是它不允许更新 Dreamhost 中的 httpd.conf 文件。乘客还有其他一些选项，但是在 Dreamhost 的 wiki 页面中，建议使用 fastcgi 进行 redmine。我可以为 fastcgi 找到的另一个选项是更新 dispatch.fcgi 文件，但是不清楚如何更新它，也不清楚如何在更新后启动它。

任何人都曾在 Dreamhost 中尝试过 redmine 并在生产中使用 fastcgi，所以他们可以推荐一些东西吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-13T00:32:00.677

这是你指的wiki，对吗？[http://wiki.dreamhost.com/Redmine](http://wiki.dreamhost.com/Redmine)

我能够对此进行挖掘，似乎它可能与您的情况直接相关，尽管很难确定没有看到。希望它是相关的并且可以提供一些额外的信息：[http ://www.redmine.org/boards/2/topics/69](http://www.redmine.org/boards/2/topics/69)

埃利斯小号

DreamHost 员工

# ruby-on-rails - ruby on rails 使用 ajax 更新页面

> ID：15901433
> 
> 赞同：1
> 
> 时间：2013-04-09T12:06:04.363
> 
> 标签：ruby-on-rails, ruby, ajax, model-view-controller, dynamic

我在视图文件（index.html.erb）中使用下面的 button_to 标记

```
<textarea rows="2" cols="20"><%=@write_date%></textarea>

 <%= button_to t(:get_date_write_new),channel_get_dates_path(@channel, :write => 1) %> 
```

当我单击按钮时，它将从设备获取日期并将其打印在屏幕上。

我的问题是我如何连续调用函数“channel_get_dates_path(@channel, :write => 1)”，并在 textarea 中显示日期而不刷新页面。只按一次按钮？

我的控制器文件：

```
class GetDatesController < ApplicationController
  include DateUtilities

  before_filter :require_user, :set_channels_menu
  def index
    @channel      = current_user.channels.find(params[:channel_id])
    @write_date = @channel.get_dates.write_dates.first
  end

  def create
    @channel = current_user.channels.find(params[:channel_id])
    @get_date = @channel.get_dates.write_dates.first

    if (@get_date.nil?)
      @get_date = GetDate.new
      @get_date.channel_id = @channel.id
      @get_date.user_id = current_user.id
      @get_date.write_flag = params[:write]
    end

    @get_date.get_date = generate_get_date
    @get_date.save

    redirect_to channel_get_dates_path(@channel)
  end 
end 
```

我有日期生成文件（myapp/lib）为：

```
module DateUtilities

  def generate_get_date

    require 'rubygems'

    require 'socket'

    hostname  =  '127.0.0.1'

    port      =   2000
    streamSock = TCPSocket.new( hostname, port )
    streamSock.write "ON"
    while line = streamSock.gets
        k = line
    end
    k
  end
end 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T12:50:24.413

为了在不刷新页面的情况下更改页面，您需要 AJAX。

这可以通过`:remote => true`在表单中​​传递一个属性在 Rails 中很容易地完成：

```
<%= form_tag(myupdate_path, :remote => true) do %>
  <%= form_tag(channel_get_dates_path(@channel, :write => 1), :remote => true) do %>
     <input type="submit" value="Get Today's Date">
     <input id="thedate" type="text" value="<%=@write_date%>">
  <% end %>
<% end %> 
```

remote 选项将调用`myupdate`控制器中的方法，并告诉它呈现 javascript 视图而不是 html 视图。假设您的控制器中有：

```
def myupdate
  @thedate = params['wathever'] # get the params from the form
end 
```

然后您可以在 myController/myupdate.js.erb（而不是 myupdate.html.erb）中添加您的 javascript 方法。假设您使用的是 jquery，这将是

```
$("#thedate").val("<%= @thedate %>") # dynamically update 
```

通过这样做，您可以从表单中获取参数，使用控制器根据需要处理它，并告诉 javascript 根据您刚刚放入实例变量的内容更新您的页面。

**编辑**：我以您的表格为例。希望 javascript 现在更清晰：javascript 视图的想法是获取页面中的“thedate”html 元素，并根据更新的实例变量设置其值`@thedate`。这是您告诉 javascript 动态更新您的页面的地方。

希望这可以帮助

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-10T12:19:44.460

@Aurel，感谢您的建议。我跟着你的步骤。

在我的视图文件中将代码更改为：

```
 <%= form_tag(channel_get_dates_path(@channel, :write => 1), :remote => true) do %>
     <input type="submit" value="Get Today's Date">
     <input type="text" value="<%=@write_date%>">
  <% end %> 
```

在此之后，当我按下提交按钮时，会调用更新方法（我可以看到该设备正在发送日期），但日期未显示在文本字段中。当我刷新页面时，最后从设备获取的日期显示在文本字段中。每次按下提交按钮时是否可以显示日期？

# javascript - 现在发现加载媒体文件时出错

> ID：15901439
> 
> 赞同：1
> 
> 时间：2013-04-09T12:06:20.927
> 
> 标签：javascript, path, jwplayer

我嵌入了 jwplayer 但它不播放视频

这是代码..

```
 <div id="myElement">Loading the player...</div>
   <script type="text/javascript" src="jwplayer/jwplayer.js"></script>

   <script type="text/javascript">
     jwplayer("myElement").setup({
        file: "http://50.6.232.19/asad/veronica/SafeTStop_demo.flv",
        image: ""
    });
</script> 
```

谢谢你

# asp.net - 当文本框失去焦点时，如何保持文本框的更改？

> ID：15901442
> 
> 赞同：1
> 
> 时间：2013-04-09T12:06:33.423
> 
> 标签：asp.net, .net

我在一个页面上有几个文本框。我想将文本保存在相应`TextBox`的`LostFocus`. 这是为了确保在电源故障或互联网连接丢失时数据不会丢失。我怎样才能完成这样的事情？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T12:09:23.127

使用 jQuery。

首先是附加模糊事件处理程序，您可以在其中调用 ajax 方法向服务器传递文本框的新值。在服务器端处理此 ajax 事件并将您的数据写入数据库或其他任何地方。

这是一段可能会有所帮助的代码。

```
$('#textbox_id').blur(function() {
  $.ajax({url:"handler_url.ashx?textbox_value=" + $('#textbox_id').val()});
}); 
```

然后在服务器上创建您的 ashx 处理程序并使用 ProcessRequest 方法处理您的请求。从那里您将可以访问 Request.QueryString 将存储文本框的新值。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T12:17:34.767

另一种解决方案是使用[`UpdatePanel`](http://msdn.microsoft.com/en-us/library/bb386454%28v=VS.100%29.aspx). 然后，您可以利用服务器端事件而不是事件处理程序。您的标记可能看起来像这样：

```
<asp:ScriptManager ID="ScriptManager" runat="server" />
    <asp:UpdatePanel ID="UpdatePanel1" UpdateMode="Conditional" runat="server">
        <asp:TextBox ID="SomeTextBox" runat="server" TextChanged="SomeTextBox_TextChanged" AutoPostBack="true" />
    </asp:UpdatePanel>
</asp:ScriptManager 
```

然后在`TextChanged`处理程序中你可以做你的工作。

**说明：**当回发发生时，该`TextChanged`事件将在文本实际更改的文本框中触发。该`AutoPostBack`属性是必需的，以便**在文本框失去焦点时页面实际上会回发。**

最后要记住的一件事是，您可能需要利用处理程序`this.IsPostBack`中的页面，`Load`因为每次更新控件时都会重建页面。处理程序中的逻辑通常`Load`只需要执行一次，但是如果您不检查它是否是回发，这会带来问题，因为这样每次您离开文本框时它都会执行。

# jasper-reports - 如何在 Jasper Reports 中的多个页面上拉伸文本字段？

> ID：15901443
> 
> 赞同：5
> 
> 时间：2013-04-09T12:06:33.707
> 
> 标签：jasper-reports, ireport

**场景**：我有一个碧玉报告，其中详细信息带内有多个文本字段。每个文本字段都具有以下属性：

*   位置：浮动
*   拉伸类型：相对于最高物体
*   详细信息溢出时打印：错误
*   溢出拉伸：真

详细信息带具有以下属性：

*   拆分类型：拉伸

**当前结果：** 当其中一个文本字段高于页面并延伸到下一页时，所有其他文本字段都会延伸到页面末尾。

**问题：** 我希望所有文本字段也能够在下一页上拉伸。如果我使用属性“当详细信息溢出时打印：真”，那么这会导致文本字段被“重新打印”并重复数据。那不是我的意图。我希望能够将文本字段扩展到一页以上。

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-01-02T18:12:19.837

我也有同样的问题，玩了一整天后什么也没**弄清楚**重复。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-10T01:40:38.363

您可以尝试设置该字段的`Stretch Type`to `Relative to Band Height`。如果这不起作用，只需使用这些属性即可。我相信您可以通过使用您提到的属性来完成它。

# android - 如何在android中获取已连接wifi的端口号？

> ID：15901447
> 
> 赞同：0
> 
> 时间：2013-04-09T12:06:40.030
> 
> 标签：android, sockets, port, wifimanager, inet-socket

我想使用 wifi 打印机在我的 android 应用程序中执行打印功能。为此，我做了以下工作。但我不知道如何获取端口号。[我已经提到了之前提出的问题，它告诉我们](https://stackoverflow.com/questions/14749497/how-to-get-port-number-of-wifinetwork-active-currently-in-android)不需要端口号，但是没有端口号怎么办？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-09T12:10:29.293

WLAN 未通过端口号连接。它只有一个IP地址。

# r - ggplot2：如何选择要分组到单个方面的因子水平子集

> ID：15901459
> 
> 赞同：1
> 
> 时间：2013-04-09T12:06:59.010
> 
> 标签：r, ggplot2

我想将一个变量的一个级别与所有其他变量的综合影响进行比较。我想用分面图来做到这一点。

例如：

```
ggplot(diamonds, aes(price, colour = cut)) + geom_density() + facet_grid(~clarity) 
```

这提供了清晰的所有因子水平的分面图。但是，我想要的是第一个方面的 I1 密度图和第二个方面的 ~(I1) 密度图。

因此，我想使用 ggplot2 的 facet 功能对以下内容进行比较：

```
ggplot(subset(diamonds, (clarity == "I1")) , aes(price, colour = cut)) + geom_density()

ggplot(subset(diamonds, !(clarity == "I1")) , aes(price, colour = cut)) + geom_density() 
```

我可以看到如何在数据框中定义一个新列并将其用作 facet_grid 中的因素，但我怀疑有更好的方法可以做到这一点。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T12:15:20.990

You can create a new column(better solution) or use `gridExtra` package:

```
library(gridExtra)
p1 <- ggplot(subset(diamonds, (clarity == "I1")) , aes(price, colour = cut)) + geom_density()
p2 <- ggplot(subset(diamonds, !(clarity == "I1")) , aes(price, colour = cut)) + geom_density()
grid.arrange(p1,p2) 
```

# version-control - 互斥的 Team City Build 触发双方开火

> ID：15901466
> 
> 赞同：5
> 
> 时间：2013-04-09T12:07:18.947
> 
> 标签：version-control, build, tfs, teamcity, build-automation

我们在 TeamCity 中针对 TFS 配置了两个单独的构建，具有以下触发器（如下所列）。

```
Build 1:
+:Folder1/Folder2/Folder3/FilePrefix\*\*
+:Source/\*\*
+:Tests/\*\*

Build 2:
+:Folder1/Folder2/\*\*
-:Folder1/Folder2/Folder3/FilePrefix\*\*
-:Tests/\*\*
-:Source/\*\* 
```

如果我们对文件进行更改，`Folder1/Folder2/Folder3/FilePrefix`我们会发现 BOTH 构建触发器。[该文件指出](http://confluence.jetbrains.com/display/TCD7/Configuring+VCS+Triggers#ConfiguringVCSTriggers-TriggerRulesExample)：

> 对于更改中的每个文件，都会找到最具体的规则（匹配最长文件路径的规则）。如果至少有一个文件具有匹配的“包含”规则或一个文件没有匹配规则，则会触发构建。

这是否意味着只有最具体的规则优先？为什么 Build 2 不排除这个文件，因为`-:Folder1/Folder2/Folder3/FilePrefix**`? 似乎`+:Folder1/Folder2/**`正在覆盖忽略规则。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-08-20T14:33:56.530

几周前我遇到了这个问题，发现我们必须将最后的通配符指定为“。” 而不是否定语句的“*”。

所以你的 build2 触发规则最终看起来像：

```
+:Folder1/Folder2/\*\.
-:Folder1/Folder2/Folder3/FilePrefix\*\.
-:Tests/\*\.
-:Source/\*\. 
```

# android - 我需要制作 480 x 480 的视频，这可能吗？

> ID：15901468
> 
> 赞同：1
> 
> 时间：2013-04-09T12:07:22.133
> 
> 标签：android, camera, resolution, record, screen-size

我目前有一个功能可以检查所有支持的视频大小：

```
List<Camera.Size> cameraSizes = params.getSupportedPreviewSizes();
for (int i = 0; i < cameraSizes.size(); i++) {

                Camera.Size cs = cameraSizes.get(i);

                Log.i(TAG, cs.width + "x" + cs.height);

                if (cs.width == 640 && cs.height == 480) {

                    VIDEO_WIDTH = 640;
                    VIDEO_HEIGHT = 480;

                    break;

                }else if (cs.width / 4 == cs.height / 3 && cs.width > 480) {

                    VIDEO_WIDTH = cs.width;
                    VIDEO_HEIGHT = cs.height;

                    break;
                }
} 
```

现在，如果我有 640 x 480 的分辨率，是否可以裁剪 480x480 的正方形并只记录该数据？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T12:18:15.610

不可以，您不能在录制过程中裁剪视频流。

# c# - 从 C# 调用非托管 dll 可能我编组错误

> ID：15901472
> 
> 赞同：0
> 
> 时间：2013-04-09T12:07:29.883
> 
> 标签：c#, dll, marshalling, unmanaged

我不太确定我可能做错了什么，但我不断收到 System.ArgumentException

当我查看 IDL（由 ItyteLib Veiwer 生成）时，我可以看到结构和模块

```
typedef struct tagXxxStruct {        
 short type;
 short file;   
 short rec;
 short word;
 short start_bit;        
 short length;        
 short flags;
 short padding;
 short value;
 short padV[3];
 short status;
 short padA[3];
} XxxStruct;

[entry("dat"), helpstring("...")]
short _stdcall dat_Int(
                [in] LPSTR Server, 
                [in] short num_points, 
                [in, out] SAFEARRAY(XxxStruct)* XxxStruct_data); 
```

* * *

我像这样使用 DllImport 时：

```
[DllImport("hscnetapi.dll", EntryPoint = "dat", CallingConvention = CallingConvention.StdCall)]
public static extern unsafe short dat_SA([MarshalAs(UnmanagedType.LPStr)] string host, short num_points, [MarshalAs(UnmanagedType.SafeArray)] XxxStruct[] dat_data); 
```

像这样称呼它

```
public struct XxxStruct
    {
        public short type;
        public short file;
        public short rec;
        public short word;
        public short start_bit;
        public short Length;
        public short Flags;
        public short padding;
        public short value;
        public short[] padV;
        public short Status;
        public short[] padA;
    }

server = "localhost";

XxxStruct[] xobj= new XxxStruct[2];

 for (i = 0; i <= 1; i++)
        {

            var _with1 = xobj[i];
            _with1.type = 2;
            _with1.file = 8;
            _with1.rec = 1;
            _with1.word = ((short)(359 + (i)));
            _with1.Flags = 0;
            _with1.padV = new short[3];
            _with1.padA = new short[3];
            xobj[i] = _with1;
        }

dat_SA(server, (short)2, xobj); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T02:45:58.087

您需要向and数组添加一个`MarshalAs`属性。很可能是一个属性。`padV``padA``StructLayout`

```
[StructLayout(LayoutKind.Sequential, Pack=1)]
public struct XxxStruct
{
    public short type;
    public short file;
    public short rec;
    public short word;
    public short start_bit;
    public short Length;
    public short Flags;
    public short padding;
    public short value;
    [MarshalAs(UnmanagedType.LPArray, SizeConst=3)]
    public short[] padV;
    public short Status;
    [MarshalAs(UnmanagedType.LPArray, SizeConst=3)]
    public short[] padA;
} 
```

# c# - 如何在后面的代码中为 datagridviewtextboxcolumn 赋值？

> ID：15901473
> 
> 赞同：0
> 
> 时间：2013-04-09T12:07:40.810
> 
> 标签：c#, gridview, desktop-application, assign, datagridviewtextboxcell

我有一个 datagridviewtextbox 列类型的 gridview。

它有以下字段。

```
SrNo.    | Description    | HSN Code    | Qty   | Rate   | Amount 
```

我在数据集中获取了“描述”、“HSN 代码”、“数量”和“费率”的记录。

我想在我的程序中生成“SrNo”和“Amount”。

我的代码是：

```
int i=0;
ds = new DataSet();
ds = db.getDetailRecords(Convert.ToInt32(txtBillNo.Text));

for (i = 0; i < ds.Tables[0].Rows.Count; i++)
{
     grdData.Rows[i].Cells[0].Value = i;
     grdData.Rows[i].Cells[1].Value = ds.Tables[0].Rows[i]["Description"].ToString();
     grdData.Rows[i].Cells[2].Value = ds.Tables[0].Rows[i]["HSNCode"].ToString();
     grdData.Rows[i].Cells[3].Value = ds.Tables[0].Rows[i]["Qty"].ToString();
     grdData.Rows[i].Cells[4].Value = ds.Tables[0].Rows[i]["Rate"].ToString();
     grdData.Rows[i].Cells[5].Value = Convert.ToDouble(ds.Tables[0].Rows[i]["Qty"]) * Convert.ToDouble(ds.Tables[0].Rows[i]["Rate"]);                        
} 
```

但它不起作用。它给出的错误是`Index was out of Range.`

如何将数据集值分配给网格？请帮忙。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T12:14:04.260

数据集表是用“SrNo”和“Amount”这两列创建的吗？

如果没有，这就是你得到那个例外的原因。我知道您想即时生成它们，但要访问这样的字段，它们至少必须存在于数据集的表中，即`ds.Tables[0]`.

确保为您要求的列`db.getDetailRecords`返回有效值。`DataSet`

哦，加上 datagridview 没有任何行。我建议您在更改任何内容之前将其绑定到您的数据集，您可以通过设置 DataGridView 的`DataSource`属性来做到这一点。

```
int i=0;
ds = new DataSet();
ds = db.getDetailRecords(Convert.ToInt32(txtBillNo.Text));

//add this
grdData.DataSource = ds.Tables[0];

for (i = 0; i < ds.Tables[0].Rows.Count; i++)
{
     grdData.Rows[i].Cells[0].Value = i;
     //You don't need to set the other properties, they were binded when you put the DataSource in there
     grdData.Rows[i].Cells[5].Value = Convert.ToDouble(ds.Tables[0].Rows[i]["Qty"]) * Convert.ToDouble(ds.Tables[0].Rows[i]["Rate"]);                        
} 
```

确保`SrNo`和`Amount`分别是 DataSource 中的第 0 列和第 5 列。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-09T12:17:38.943

我猜你跳过了`DataBinding`to `GridView`：

```
int i=0;
ds = new DataSet();
ds = db.getDetailRecords(Convert.ToInt32(txtBillNo.Text));
grdData.DataSource = ds.Tables[0]; // you skipped this 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-09T12:24:16.227

试试这个代码：

```
int i=0;
ds = new DataSet();
ds = db.getDetailRecords(Convert.ToInt32(txtBillNo.Text));

grdData.Rows.Clear()
for (i = 0; i < ds.Tables[0].Rows.Count; i++)
{
     grdData.Rows.Add(); /// For add a Row. then does not show index out of range error
     grdData.Rows[i].Cells[0].Value = i;
     grdData.Rows[i].Cells[1].Value = ds.Tables[0].Rows[i]["Description"].ToString();
     grdData.Rows[i].Cells[2].Value = ds.Tables[0].Rows[i]["HSNCode"].ToString();
     grdData.Rows[i].Cells[3].Value = ds.Tables[0].Rows[i]["Qty"].ToString();
     grdData.Rows[i].Cells[4].Value = ds.Tables[0].Rows[i]["Rate"].ToString();
     grdData.Rows[i].Cells[5].Value = Convert.ToDouble(ds.Tables[0].Rows[i]["Qty"]) * Convert.ToDouble(ds.Tables[0].Rows[i]["Rate"]);                        
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-06-21T07:37:15.337

```
for (i = 0; i < ds.Tables[0].Rows.Count; i++)

use for that (i = 0; i == ds.Tables[0].Rows.Count; i++)
//  not show index out of range 
```

因为作为 datagridview 索引的 dgv 从 0 开始，作为数据集的 ds 也从 0 开始。

自动生成的列应该是假的；

# android - ExpandedList 视图在 android 中无法正常工作

> ID：15901477
> 
> 赞同：0
> 
> 时间：2013-04-09T12:07:49.747
> 
> 标签：android, expandablelistview

我已通过 Facebook 中的 Json 解析获取评论，并创建扩展列表视图以查看帖子的所有评论，但无法在布局中扩展。请帮我解决这个问题。这是我的 XML 布局

```
 <ExpandableListView
     android:id="@+id/expandableListView1"
     android:layout_width="match_parent"
     android:layout_height="wrap_content"
     android:groupIndicator="@null">
 </ExpandableListView> 
```

还有我的代码

```
public View getGroupView(int groupPosition, boolean isExpanded, View convertView, ViewGroup parent) {

    int s=ConstantsValues.commentsResponse.get(position).size();

    View view=convertView;
    LayoutInflater inflater =(LayoutInflater)context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
    view=inflater.inflate(R.layout.custom_expandablecomments_parentgroup, parent,false);
    TextView tv1=(TextView)view.findViewById(R.id.textView_GROUP);
    tv1.setText("Click hee to see " +s+" comments");
    tv1.setPadding(100, 0, 0,0);
    return view;
}
public View getChildView(int groupPosition, int childPosition,boolean isLastChild, View convertView, ViewGroup parent) {

    HashMap<String, Object> hashmap= ConstantsValues.commentsResponse.get(groupPosition).get(childPosition);
    View view=convertView;
    position=childPosition;
    LayoutInflater inflater =(LayoutInflater)context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
    view=inflater.inflate(R.layout.custom_expandable_comments, parent,false);
    ImageView imv=(ImageView)view.findViewById(R.id.Imageview_profipic_commentsShow);
    TextView tv1=(TextView)view.findViewById(R.id.textView_Name_CommentShow);
    TextView tv2=(TextView)view.findViewById(R.id.textView_Comments_show);
    imv.setImageBitmap((Bitmap)hashmap.get("Image"));
    tv1.setText((String)hashmap.get("UserName"));
    tv2.setText((String)hashmap.get("CommentsFull"));

    return view;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T12:31:37.697

使用此代码....希望它可以帮助您...

```
@Override
    public void onGroupExpanded(int groupPosition){
        //collapse the old expanded group, if not the same
        //as new group to expand
        if(groupPosition != lastExpandedGroupPosition){
            accordion.collapseGroup(lastExpandedGroupPosition);
        }

        super.onGroupExpanded(groupPosition);           
        lastExpandedGroupPosition = groupPosition;
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T12:31:49.540

如果您想要默认扩展组，请执行以下操作：

```
@Override
public View getGroupView(int groupPosition, boolean isExpanded, View convertView, ViewGroup parent) {
    View v = super.getGroupView(groupPosition, isExpanded, convertView, parent);
    ExpandableListView eLV = (ExpandableListView) parent;
    eLV.expandGroup(groupPosition);
    return v;
} 
```

那就是使用**expandGroup** ()

# c++ - 就两个项目进行沟通

> ID：15901483
> 
> 赞同：0
> 
> 时间：2013-04-09T12:08:02.013
> 
> 标签：c++, visual-studio-2012, plotlab

我有一个 C++ 应用程序，想用图形工具扩展它。我找到了一个带有示例代码（C++）的很棒的工具（[Plotlab ）。](http://www.mitov.com/products/plotlab)

现在我可以使用我的应用程序在我的项目地图中添加项目，但我不知道如何从我的应用程序代码与工具示例代码进行通信......

我正在使用 Visual Studio 2012。

如果可能的话，我不想将所有标题和源代码插入一个项目......

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T12:22:50.387

您可以将其中一个项目（可能是 Plotlab）编译为一个库（静态 (.lib) 或动态 (.dll)）并从另一个项目（可能是您的应用程序）链接到它（静态或动态）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T12:12:43.593

在这种情况下，您可以复制示例项目的源代码 Plotlab，然后将这些代码文件添加到您的解决方案/项目中。

# jquery - 在一个 Div 中飞入浏览器的中心

> ID：15901497
> 
> 赞同：0
> 
> 时间：2013-04-09T12:08:28.963
> 
> 标签：jquery, html, css

我想知道是否有任何有用的教程可以教您通过使用 Jquery 滑入或使 div 飞入用户视图，然后在关闭时飞出视图？

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-09T12:11:57.503

您可以使用 jquery 和 CSS DEMO [http://jsfiddle.net/KtUEL/90/](http://jsfiddle.net/KtUEL/90/)

CSS

```
#flyin  {width:100px; height:100px; background:#efefef; position:absolute; left:-100px;} 
```

jQuery

```
// Calculate current broser width.
var currWidth = $(window).width();
console.log(currWidth);

var startPos = -100;
var endPos = (currWidth / 2) + (startPos / 2);
console.log(endPos);

$('#flyin').animate({left: endPos}, 1000); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-09T12:13:23.270

没有必要。您可以通过创建 div 容器来切换可见性状态。jQuery 通过切换添加动画

[http://api.jquery.com/animate/](http://api.jquery.com/animate/)

# php - 卡特琳娜字体中的数字

> ID：15901500
> 
> 赞同：0
> 
> 时间：2013-04-09T12:08:46.017
> 
> 标签：php, html, css, fonts, mpdf

嗨，我在 Web 应用程序中使用的 katerina 字体有问题。我需要使用 mPDF 将一些文本从 html/css 转换为 pdf。问题是，这些数字看起来很尴尬。

[http://prntscr.com/zv9rl](http://prntscr.com/zv9rl)

但是当我在 Photoshop 中使用 ALL CAPS 功能时，它们看起来不错。

[http://prntscr.com/zv9xw](http://prntscr.com/zv9xw)

我只需要他们在同一行。有什么办法可以在 php 或 css 中将它们转换为 Photoshop 中的样子（全部大写）？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T14:22:30.330

从图像来看，字体似乎包含“旧式”（或“小写”）数字和“衬里”（或“大写”）数字。然后它们将是字形变体，而不是单独的字符（如“a”和“A”），旧式数字是默认值。大概是 Photoshop 中的 ALL CAPS 选择了衬里数字；这有点奇怪，但有可能——毕竟，从排版上讲，衬里数字应该用在由大写字母和数字组成的表达式中。– 我无法真正确认这一点，因为我没有字体，而且网络上称为 Katerina 的字体看起来非常不同。

在 HTML 中，过去不可能选择字形变体，但情况正在发生变化。查看我关于字体功能的[演示页面。](http://www.cs.tut.fi/~jkorpela/font-features.html8)如果您的系统中安装了 Katerina，请在现代浏览器上打开页面，在此处输入字体名称，然后查看带有“lnum”的行；它应该显示衬里数字。如果是这样，当使用的字体支持时，您可以使用以下 CSS 声明来请求此类数字：

```
-webkit-font-feature-settings: "lnum";
-moz-font-feature-settings: "lnum";
font-feature-settings: "lnum"; 
```

这种样式是否转移到生成的 PDF 是另一回事。我不是 PDF 方面的专家，但我希望它对[OpenType](http://www.microsoft.com/typography/otspec/default.htm)功能有一些支持（这就是它的意义所在）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T12:26:27.137

尝试`font-size: 24px; line-height: 26px; vertical-align: baseline;`

如果`baseline`不起作用，请尝试任何一个`text-top`，`bottom`或`text-bottom`

希望其中一个能解决...

# c# - 识别原始打印机

> ID：15901503
> 
> 赞同：15
> 
> 时间：2013-04-09T12:09:01.830
> 
> 标签：c#, printers

我正在枚举 PC 中连接的打印机。我使用 C#`System.Printing`命名空间完成了它。它运作良好。但大多数情况下，它会显示*Microsoft XPS Document writer、Microsoft Fax*等软件打印机。我想知道是否可以从枚举中删除这些 ssoftware 打印机。我所做的代码如下所示：

```
PrintQueue printQueue = null;

LocalPrintServer localPrintServer = new LocalPrintServer();

// Retrieving collection of local printer on user machine
PrintQueueCollection localPrinterCollection =
    localPrintServer.GetPrintQueues(new[] { EnumeratedPrintQueueTypes.Local,
                                            EnumeratedPrintQueueTypes.Connections });

System.Collections.IEnumerator localPrinterEnumerator =
    localPrinterCollection.GetEnumerator();

while (localPrinterEnumerator.MoveNext())
{
    // Get PrintQueue from first available printer
    printQueue = (PrintQueue)localPrinterEnumerator.Current;

    if (!printQueue.IsOffline)
    {
        MessageBox.Show(printQueue.FullName.ToString());
        string s = "Printer found " + printQueue.FullName.ToString();
        listBox1.Items.Add(s);
    }
    else
    {
        // No printer exist, return null PrintTicket 
        // return null;
    }
} 
```

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-04-13T01:06:14.603

区分真实打印机和虚拟打印机的关键是打印机使用的端口。真正的打印机使用硬件端口，例如 LPT1: 或 USB 端口。虚拟打印机使用软件驱动的端口。

复杂的将是网络打印机。确定网络打印机是否使用硬件端口并不容易。

我知道这不是一个很好的答案，但你提出了一个非常困难的问题。我希望它能让你朝着正确的方向开始。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-05-23T09:22:55.087

我发现的唯一方法是将所需打印机的名称与我们得到的打印机名称进行比较。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-05-28T03:29:51.620

几点观察：

1.  在`Properties`窗口中，`Device Settings`页面仅适用于真实打印机，不适用于虚拟打印机。并且这些值中的大多数都在`printQueue.UserPrintTicket`属性中可用

2.  `printQueue.QueuePort.Name`包含`IP`附加或不附加端口名称的地址。例如：真实打印机的“20.120.12.22_1”或“20.120.12.22”

![在此处输入图像描述](https://i.stack.imgur.com/Fvfxk.png)

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-05-28T21:19:40.237

您可以使用[Print Spooler API](http://msdn.microsoft.com/en-us/library/dd162861%28v=vs.85%29.aspx)来管理打印机和打印作业。特别是[EnumPrinters](http://msdn.microsoft.com/en-us/library/dd162692%28v=vs.85%29.aspx)函数可能对您有用。[您可以从Pinvoke.net](http://www.pinvoke.net/default.aspx/winspool/enumprinters.html)获取 c# 包装器

# c# - 将可为空的参数传递给方法

> ID：15901506
> 
> 赞同：2
> 
> 时间：2013-04-09T12:09:06.540
> 
> 标签：c#, nullable

这是我目前的方法，但有时我必须处理这个问题，我想知道是否有更优雅的方法。

我有：`long? LoadEntityId`字段。我有一个方法，我用它作为参数：

```
private bool IsUsedInProduction(long? loadEntityId) 
```

问题是`LoadEntityId`我什么时候实际上是空的`Nullable object must have a value.`

我现在要做的是：

```
if ((byte)cboStatus.SelectedValue == 10
    && LoadEntityId.HasValue 
    && IsUsedInProduction(LoadEntityId.Value)) 
```

但我认为应该有更好的方法来解决这个问题。

附言

看来我的解释不够清楚，所以问题是如果我：

```
if ((byte)cboStatus.SelectedValue == 10
        && IsUsedInProduction(LoadEntityId.Value)) 
```

（删除 LoadEntityId.HasValue 检查）当 LoadEntityId 实际上为空时，我会得到异常，如果我离开它 - 我只是在寻找一种方法来使我的代码在没有此检查的情况下工作。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-09T12:14:43.137

你使用正确的方法。

有三个选项：

1）检查 loadEntityId.HasValue 然后使用 loadEntityId.Value （你现在使用的）

2) 使用 loadEntityId.GetValueOrDefault()

```
if ((byte)cboStatus.SelectedValue == 10
    && IsUsedInProduction(loadEntityId.GetValueOrDefault())) 
```

3) 使用?? 操作员

```
if ((byte)cboStatus.SelectedValue == 10
    && (IsUsedInProduction(loadEntityId ?? 0)) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-09T12:22:27.733

当您声明：

```
private bool IsUsedInProduction(long? loadEntityId) 
```

实际上是一样的：

```
private bool IsUsedInProduction(Nullable<long> loadEntityId) 
```

所以当你传递`null`给方法的时候，会创建一个 Nullable 类型的对象，其中`loadEntityId.HasValue`equal to`false`和`loadEntityId.Value`throws 调用时会抛出 Exception ，因为 是没有值的。下面是一个合理使用 Nullable 的例子。附加信息：http: [//msdn.microsoft.com/en-us/library/1t3y8s4s.aspx](http://msdn.microsoft.com/en-us/library/1t3y8s4s.aspx)

**定义示例：**

```
private bool IsUsedInProduction(long? loadEntityId)
{
     if(loadEntityId.HasValue)
     {
        //do something WITH loadEntityId.Value
     } else
     {
        //do something
     }
} 
```

**调用示例：**

```
IsUsedInProduction(null);
IsUsedInProduction(21);
IsUsedInProduction(23); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-09T12:12:47.117

我不是 100% 确定你在问什么，但我认为答案可能是 ?? 操作员：

```
if(loadEntity ?? -1 > 0){...} 
```

这意味着如果 loadEntity 的值为 1，则使用它，如果它为 null，则使用值 -1。

# javascript - 循环遍历由“push”方法填充的空数组

> ID：15901512
> 
> 赞同：0
> 
> 时间：2013-04-09T12:09:26.090
> 
> 标签：javascript, arrays, loops

我被困在这里了。我的网页有一个段落，`id="history"`我需要一个函数来循环`myArray`，如果`myArray[i]`匹配，例如，`10`如下所示然后做一些事情。请不要推荐 jQuery，因为我稍后会学习。

```
 var myArray = [];

    function myFunction(){
      // do something
      myArray.push(8);
      myArray.push(10);
    }

    function myOtherFunction(){
      document.getElementById('history').innerHTML = myArray;
    }

    function myAnotherFunction(){
      for (var i = 0; i<=myArray.length; i++){
        if (myArray[i] === 10){
          //do something
        }
      }
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T12:48:20.933

代码对我来说看起来不错，除了代码中有逻辑错误。循环中的数组索引超出范围。[看到这个小提琴](http://jsfiddle.net/apanery/h4aUL)可能对你有帮助。

```
var myArray = [];

    function myFunction(){
      // do something
      myArray.push(8);
      myArray.push(10);
    }

    function myOtherFunction(){
      document.getElementById('history').innerHTML = myArray;
    }

    function myAnotherFunction(){
      for (var i = 0; i<myArray.length; i++){
        if (myArray[i] == 10){
            myOtherFunction();
          //do something
        }
      }
    }
myFunction();
myAnotherFunction(); 
```

# php - mongoregex 中的语言环境

> ID：15901513
> 
> 赞同：0
> 
> 时间：2013-04-09T12:09:30.457
> 
> 标签：php, regex, mongodb

嗨，当不敏感大小写搜索时，我在 mongoregex 中遇到问题。在土耳其语中，i 的大写字母是 İ not I，我们有一个 ı char 并且它的大写字母是 I。

```
ı->I
i->İ 
```

我在“Anıl”之类的数据库中有一条记录，当我搜索时；

```
 $rxp = new MongoRegex('/Il/i'); 
```

它必须与记录相符。但事实并非如此。

我尝试了语言环境标志；

```
 setlocale(LC_ALL, "turkish","tr_TR.UTF-8");
    $rxp = new MongoRegex('/Il/il'); 
```

也不行……

# php - PHP cUrl - 通过 NTLM 代理的 POST 方法

> ID：15901514
> 
> 赞同：1
> 
> 时间：2013-04-09T12:09:31.577
> 
> 标签：php, curl, proxy

我认为 POST 数据不会通过代理传递，因为响应就像没有 POST 数据的普通 HTTP 请求一样。系统日志显示`Error: username/password is empty`。

cUrl POST 与代理一起使用时是否存在错误？

```
$proxyServer = "xxx";
$proxyPort = "8080";
$proxyUsername = "DOMAIN\XXX";
$proxyPassword = "YYY";

$postInformation = array(
    "signin" => "yes",
    "username" => "xxx",
    "password" => "xxx",
);

$ch = curl_init();
curl_setopt($ch, CURLOPT_URL, $loginURL);
curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
curl_setopt($ch, CURLOPT_PROXYAUTH, CURLAUTH_NTLM);
curl_setopt($ch, CURLOPT_PROXYTYPE, CURLPROXY_HTTP);
curl_setopt($ch, CURLOPT_PROXY, "$proxyServer:$proxyPort");
curl_setopt($ch, CURLOPT_PROXYUSERPWD, "$proxyUsername:$proxyPassword");

// Disable the SSL Verfication
curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, false);
curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false);

// HTTP POST
curl_setopt($ch, CURLOPT_POST, true);
curl_setopt($ch, CURLOPT_POSTFIELDS, http_build_query($postInformation));

// Enable Cookies
curl_setopt($ch, CURLOPT_COOKIE, 'cookie.txt'); 
curl_setopt($ch, CURLOPT_AUTOREFERER, true); 
curl_setopt($ch, CURLOPT_COOKIESESSION, true); 
curl_setopt($ch, CURLOPT_COOKIEFILE, 'cookie.txt');
curl_setopt($ch, CURLOPT_COOKIEJAR, 'cookie.txt');

$out = curl_exec($ch);

if (curl_error($ch)) {
    echo "ERROR: " . curl_error($ch) . "\n";
}
if ($out) {
    echo $out . "\n";
} else {
    echo "ERROR: No reponse!\n";
}

curl_close($ch); 
```

# javascript - 滚动div，固定，再次滚动

> ID：15901515
> 
> 赞同：1
> 
> 时间：2013-04-09T12:09:38.727
> 
> 标签：javascript, jquery, scroll, sticky

我有一个页面布局，其中全宽图像位于顶部，然后在右侧是文本内容。在左侧，有一个带有社交链接的小滚动 div。

就像这样：[http](http://blog.teamtreehouse.com/building-a-jquery-sticky-sidebar-navigation-menu) ://blog.teamtreehouse.com/building-a-jquery-sticky-sidebar-navigation-menu （社交链接滚动，然后固定，然后从另一个 div 滚动）。

这是一个示例，但没有下面的最后一块拼图：http: [//jsfiddle.net/nwFrg/](http://jsfiddle.net/nwFrg/)

```
 function sticky_relocate() {
          var window_top = jQuery(window).scrollTop();
          var div_top = jQuery('#e-c-r-top').offset().top ;
          if (window_top > div_top)
            jQuery('.socialbar-left').addClass('fixedsocialbar')
          else
            jQuery('.socialbar-left').removeClass('fixedsocialbar');
          }
        // If you have jQuery directly, use the following line, instead
         jQuery(function() {
        // If you have jQuery via Google AJAX Libraries
        // google.setOnLoadCallback(function() {
          jQuery(window).scroll(sticky_relocate);
          sticky_relocate();
          }); 
```

当我们到达红色页脚时，我希望“hello box”停止并停留在那里，与底部对齐（直到该人再次向上滚动，然后一切都应该再次发生反转。

如果有人可以帮助告诉我 js 从滚动到固定（这已经在我的示例中），然后是底部的第三个触发器，我已经知道将其与底部对齐的 css，只需要 js 触发器。

我希望我已经解释清楚了。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T15:29:48.287

您可能不需要为整个固定/滚动开关而烦恼。相反，让 javascript 限制范围的上限和下限。如果用户滚动超过任一端，只需忽略这些数字并使用最小值/最大值。（您可以通过读取页面上相应元素的位置来获取最小值/最大值。）

# android - Android dmtracedump 格式

> ID：15901516
> 
> 赞同：0
> 
> 时间：2013-04-09T12:09:39.100
> 
> 标签：android, debugging, trace, callstack

我正在查看命令的输出：

```
dmtracedump -o com.example.android.notepad.trace 
```

我知道他们使用点来指定调用的层次结构。还有指定的动作“ent”和“xit”，显示它是进入功能还是退出功能。我认为输出函数中提到的所有内容都有自己的“ent”和“xit”行。但我遇到过这样的行：

```
1 xit   1422199-com/example/android/notepad/NotesList.onCreate 
```

没有前面的“ent”。

PS我需要确定所有提出申请的电话

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-03-25T11:02:13.817

我相信对于这种分析，您最好在 DDMS 中加载您的跟踪。因为它是交互式的，所以在那里可视化调用的层次结构要容易得多。

Vogella 一个方便的简短介绍：

[http://www.vogella.com/tutorials/AndroidTools/article.html#tracewiew_eclipse](http://www.vogella.com/tutorials/AndroidTools/article.html#tracewiew_eclipse)

也就是说，dmtracedump 的图形选项 (-g filename.png) 很好，也许您可​​以使用它来可视化您的方法调用。不要忘记在运行之前需要安装 graphviz。

# html - 用 html 标签包围 VS2010 中的每一行

> ID：15901518
> 
> 赞同：0
> 
> 时间：2013-04-09T12:09:57.487
> 
> 标签：html, visual-studio-2010

我有一份美国 50 个州的清单

```
Alabama
Alaska
Arizona 
```

我想用锚标记包装每一行。这可以一次完成吗？我看到在 VS 中有一个环绕，但不是针对每一行。我正在使用 Visual Studio 2010，但任何可以使用的程序都可以。

所以我希望每一行都被包装成类似于

```
<a href="#" id="stateName">StateName</a> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T12:18:02.337

您可能想看看 Ala Shibans [Multi Editing Extension](http://visualstudiogallery.msdn.microsoft.com/2beb9705-b568-45d1-8550-751e181e3aef)，它允许您一次使用多个光标。

[我从Scott Hanselmans 博客](http://www.hanselman.com/blog/SimultaneousEditingForVisualStudioWithTheFreeMultiEditExtension.aspx)偷了一个 GIF 动画：

![在此处输入图像描述](https://i.stack.imgur.com/VzaAF.gif)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-12-04T17:45:56.973

1.  将值复制到空白电子表格的 A 列
2.  在单元格 B1 中创建一个公式： `="<a href=""#"" id=""" & A1 & """>" & A1 & "</a>"`
3.  向下复制每一行的公式
4.  复制 B 列中的结果。

# html - 将 CSS 样式应用于 DIV 内的所有元素

> ID：15901522
> 
> 赞同：56
> 
> 时间：2013-04-09T12:10:05.547
> 
> 标签：html, css

我想将 CSS 文件应用于我页面中的具体 DIV。这是页面结构：

```
<link rel="stylesheet" href="style.css" />
...
<body>
   <div id="pagina-page" data-role="page">
   ...
   <div id="applyCSS">
      (all the elements here must follow a concrete CSS rules)
   </div>
   ...
</body> 
```

我尝试应用 CSS 文件的规则来编辑它（CSS 文件太大）：

```
#applyCSS * {     (For all the elements inside "applyCSS" DIV:)
    .ui-bar-a {
       ...
       ...
    }
    .ui-bar-a .ui-link-inherit {
       ...
    }
    ...
} 
```

但该解决方案不起作用。那么，我该怎么做呢？

* * *

## 回答 #1

> 赞同：150
> 
> 时间：2013-04-09T12:13:00.813

```
#applyCSS > * {
  /* Your style */
} 
```

检查这个[JSfiddle](http://jsfiddle.net/Allendar/qNCe2/)

它将为所有子孙设置样式，但会排除 div 本身中松散的飞行文本，并且仅针对包装（按标签）内容。

* * *

## 回答 #2

> 赞同：31
> 
> 时间：2013-04-09T12:12:55.550

你可以试试：

```
#applyCSS .ui-bar-a {property:value}
#applyCSS .ui-bar-a .ui-link-inherit {property:value} 
```

等等等等……这就是你要找的吗？

* * *

## 回答 #3

> 赞同：23
> 
> 时间：2016-12-23T09:10:53.720

```
.yourWrapperClass * {
 /* your styles for ALL */
} 
```

此代码将应用样式 .yourWrapperClass 中的所有元素。

* * *

## 回答 #4

> 赞同：9
> 
> 时间：2015-01-17T08:53:49.623

我不明白为什么它对你不起作用，它对我有用：http: [//jsfiddle.net/igorlaszlo/wcm1soma/1/](http://jsfiddle.net/igorlaszlo/wcm1soma/1/)

的HTML

```
<div id="pagina-page" data-role="page">
    <div id="applyCSS">
    <!--all the elements here must follow a concrete CSS rules-->
        <a class="ui-bar-a">This "a" element text should be red
            <span class="ui-link-inherit">This span text in "a" element should be red too</span>
        </a>      
    </div>
</div> 
```

CSS

```
#applyCSS * {color:red;display:block;margin:20px;} 
```

也许您有一些特殊的规则没有与我们分享……

* * *

## 回答 #5

> 赞同：6
> 
> 时间：2013-04-09T12:21:30.270

如果您正在寻找写出所有选择器的快捷方式，那么 CSS 预处理器（Sass、LESS、Stylus 等）可以满足您的需求。但是，生成的样式必须是有效的 CSS。

萨斯：

```
#applyCSS {
    .ui-bar-a {
       color: blue;
    }
    .ui-bar-a .ui-link-inherit {
       color: orange;
    }
    background: #CCC;
} 
```

生成的 CSS：

```
#applyCSS {
  background: #CCC;
}

#applyCSS .ui-bar-a {
  color: blue;
}

#applyCSS .ui-bar-a .ui-link-inherit {
  color: orange;
} 
```

* * *

## 回答 #6

> 赞同：5
> 
> 时间：2013-04-09T12:20:27.860

如下编写所有类/id CSS。`#applyCSS`ID 将是所有 CSS 代码的父级。

例如，您`.ui-bar-a`在 CSS 中添加类以应用于您的 div：

```
#applyCSS .ui-bar-a  { font-size:11px; } /* This will be your CSS part */ 
```

以下是您的 HTML 部分：

```
<div id="applyCSS">
   <div class="ui-bar-a">testing</div>
</div> 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-04-09T12:16:24.180

替代解决方案。在您的 HTML 文件中包含您的外部 CSS

```
<link rel="stylesheet" href="css/applyCSS.css"/> 
```

在 applyCSS.css 中：

```
 #applyCSS {
      /** Your Style**/
    } 
```

# java - 如何使用 eclipse 命令直接从命令提示符运行 eclipse 中的配置？

> ID：15901525
> 
> 赞同：2
> 
> 时间：2013-04-09T12:10:10.053
> 
> 标签：java

我想直接从命令提示符使用给定的 VM 参数、程序参数、类路径在 eclipse 中运行配置。我想这样做是为了避免一次又一次地运行配置。这个你能帮我吗。谢谢。

# php - 如何使这段代码更短？

> ID：15901528
> 
> 赞同：3
> 
> 时间：2013-04-09T12:10:28.040
> 
> 标签：php, syntax

```
if($a) {
    $b -= 1;
}
else {
    $b -= 2;
} 
```

我在某个地方看到了我们可以在`:`这里使用的地方，但忘记了语法是什么样的，它有没有我可以搜索的特定名称？我是新手，谢谢。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-09T12:11:38.720

好吧，您正在寻找[三元运算符](http://php.net/manual/en/language.operators.comparison.php#language.operators.comparison.ternary)：

```
$b -= $a ? 1 : 2; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-09T12:12:09.110

很简单：

```
$b -= (($a) ? 1 : 2); 
```

或者

```
$b -= 2 - ((boolean) $a); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-09T12:11:56.567

答案是：`$b =(($a)?($b-1):($b-2));`// b = ((if a) then (b-1) else (b-2))

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-09T12:20:44.367

试试这个

一个？$b -= 1: $b -= 2;

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-09T12:21:46.137

我认为答案是：

```
$b -= ($a) ? 1 : 2; 
```

# php - apache重写搜索url

> ID：15901531
> 
> 赞同：0
> 
> 时间：2013-04-09T12:10:32.867
> 
> 标签：php, apache, .htaccess, url-rewriting

我有一个简单的表格，方法是 get

```
<form method="get" action="search.php">
<input type="text" name="category_name" value="cars">
<input type="text" name="location" value="newyork">
</form> 
```

重定向到此链接：

```
http://my-site.com/search.php?category_name=cars&location=newyork 
```

我会为成为一个重写规则：

```
http://my-site.com/cars/newyork.html 
```

我尝试使用此代码但不起作用：

```
RewriteEngine on
RewriteRule (.*)/(.*)\.html$ search.php?category_name=$1&location=$2 [R=301,L] 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T17:25:54.577

包括您拥有的规则，尝试添加这些规则：

```
RewriteCond %{THE_REQUEST} ^GET\ /search\.php\?category_name=([^&]+)&location=([^&\ ]+)
RewriteRule ^ /%1/%2.html? [L,R=301] 
```

此外，您可能需要为您拥有的规则添加几个条件：

```
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^([^/]*)/([^/]*)\.html$ search.php?category_name=$1&location=$2 [R=301,L] 
```

# php - php检测从url加载的文件名

> ID：15901533
> 
> 赞同：0
> 
> 时间：2013-04-09T12:10:39.867
> 
> 标签：php, url, self

**我想在加载我的 url 时检测文件的名称，例如：**

```
http://www.test.com/image/read_my_file.php 
```

我想知道使用 PHP 加载的文件的名称，在这种情况下是`read_my_fyle.php`

**我尝试使用 $PHP_SELF 但结果是：**

```
image/read_my_file.php 
```

我只想在加载的 url 中获取 PHP 的文件名。

**谢谢，问候**

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-09T12:12:44.013

试试这个：`basename($_SERVER['PHP_SELF']);`

检查此链接以获取更多信息：[PHP 手册](http://php.net/manual/en/function.basename.php)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T12:21:12.307

你可以使用这个：`$_SERVER['SCRIPT_FILENAME']`

# mysql - MySQL 查询以查看哪些行没有对应项

> ID：15901535
> 
> 赞同：0
> 
> 时间：2013-04-09T12:10:46.917
> 
> 标签：mysql, distinct

我需要选择尚未查看已完成预订的用户的电子邮件。我当然希望每次预订不超过一封尚未审核的电子邮件，这就是问题所在。我已经尝试选择 DISTINCT 出价（b.bid 和 r.booking_id 是要查找的数字）以及 GROUP BY 解决方案，但它们都没有工作。

虽然他们仍然可能是解决方案，但我无法让它发挥作用。例如，在我的数据库中仅使用两条评论进行测试，其中 bid 和 booking_id 不匹配，我得到同一预订的两行：

```
username bid booking_id
mail@mail.mail 9 8
mail@mail.mail 9 45 
```

这是我上次运行以解决问题的查询，但正如您在上面看到的结果是相同的。我在哪里错了？先感谢您。

```
SELECT u.username, b.bid, r.booking_id
FROM users u, reviews r, bookings b
WHERE u.id = b.id_booker
AND b.status =  'FINISHED'
AND b.bid NOT IN (SELECT booking_id FROM reviews WHERE 1) 
```

编辑：三个表的结构 - 只有相关的列名

```
Users TABLE 
id           // - auto increment value
email        // The emails to which I will send reminders if no review has been posted

Reviews TABLE
rid          // - auto increment value
booking_id   // ID of the booking to which the review refers (bookings.bid)
id_author    // ID of the user who wrote the review (users.id)

Bookings TABLE
bid          // ID of the booking (reviews.booking_id) - auto increment value
id_booker    // ID of the user who made the booking (users.id)
status       // Only looking for finished bookings in this query 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T13:06:47.513

You could first select all the ids from Bookings.id_booker. Then substract the id's from the user who have allready submited a review.

```
SELECT id_booker
FROM Bookings
WHERE id_booker NOT IN ( 
    SELECT id_author
    FROM Reviews
) 
```

That would get you the id's from all the users who have not submitted a review.

Last step would be to get the email adressess of these users.

```
SELECT DISTINCT email
FROM Bookings
INNER JOIN Users ON Users.id = Bookings.id_booker
WHERE id_booker NOT IN ( 
    SELECT id_author
    FROM Reviews
) 
```

I would prefer to only use sub-queries since you only need data from the Users table. But MySQL has serious performance issues on sub-queries so this could be a good solution.

# c# - ASP.NET 向导 - 隐藏侧边栏条目

> ID：15901542
> 
> 赞同：1
> 
> 时间：2013-04-09T12:11:09.817
> 
> 标签：c#, asp.net, aspwizard

我正在使用带有侧边栏的 ASP.NET 向导控件进行导航。我有大约十个向导步骤，它们都出现在侧边栏中，但有一些我不想出现在侧边栏中。

谁能建议如何防止特定的向导步骤出现在侧边栏中？

谢谢你看:)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T12:14:01.943

参考以下链接：

[http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.wizard.displaysidebar.aspx](http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.wizard.displaysidebar.aspx)

这是参考代码：

```
<asp:Wizard ID="wz1" runat="server" DisplaySideBar="false"> 
```

或者

使用 Jquery 隐藏和显示它。

功能：`.hide()`，`.show()`

# sql - 事件的 SQL 频率

> ID：15901545
> 
> 赞同：4
> 
> 时间：2013-04-09T12:11:31.827
> 
> 标签：sql, sql-server, frequency, ssms

我被要求报告我们客户的联系频率，即每周、每月、每季度或每年看到我们的客户数量。

当在论坛中讨论“频率”时，它们通常是指某个值在表格中存在的次数。

我可以获得客户的联系人数量：-

```
select 
    A.client_ID, A.start_date, A.Months_in_Service,
    B.Contacts, (B.Contacts / A.Months_in_Service) as Contacts_per_Month_in_Service
from 
    tbl_client A 
left outer join 
    (select 
        client_ID, COUNT(contact_date) as Contacts
     from
        tbl_client_contact
     group by 
        client_ID) as B ON A.client_ID = B.client_ID
where 
    (A.end_date is null) 
```

然而，我正在努力融入分发的复杂性。例如，有些客户有很多联系人，但他们可能一开始每周都有联系，现在他们只有每年一次的检查。

我可能会接受这是不可能的，但如果有人做过类似的工作，我会很感激你的见解。

非常感谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T08:22:23.733

尝试这个。我不确定，因为我无法查看任何示例数据输出。但是试试这个。

```
SELECT A.client_ID, A.start_date, A.Months_in_Service, B.Contacts2, 
      AVG(B.Contacts2 / A.Months_in_Service) as Contacts_per_Month_in_Service  
FROM 
(
   select Contacts, Count(Months_in_Service) as Contacts
   from tbl_client
) AS A
LEFT JOIN 
(
   select client_ID, COUNT(contact_date) as Contacts2
   from tbl_client_contact
   group by client_ID
) as B ON A.client_ID = B.client_ID
WHERE (A.end_date is null)
GROUP BY A.client_ID, A.start_date, A.Months_in_Service, 
         B.Contacts, Contacts_per_Month_in_Service 
```

# wix - 无法从命令行卸载程序（wix msi）

> ID：15901546
> 
> 赞同：3
> 
> 时间：2013-04-09T12:11:34.083
> 
> 标签：wix, windows-installer

当我尝试使用命令行卸载它时，我使用 WiX 工具集创建了 MSI 包：

```
msiexec /x f987d323-303f-49a0-92e8-d1ab41589719 
```

msiexec 向我显示错误：

“无法打开此安装包。请联系应用程序供应商以验证这是一个有效的 Windows Installer 包。”

**但我可以毫无问题地将它从“添加或删除程序”中删除**。我已经仔细检查了 msi md5 校验和是否正确并将 msi 放在本地磁盘上，但似乎没有连接。

将不胜感激任何帮助。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-09T12:15:22.297

您是否尝试过在 GUID 周围包含花括号？

```
msiexec /x {f987d323-303f-49a0-92e8-d1ab41589719} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-03-10T15:42:26.680

**Kenuat**：msiexec.exe 几乎是我见过的最笨拙的命令行界面。即使是简单的操作在语法上也很复杂。

为了处理复杂的**msiexec.exe 命令行界面**，我使用**Altiris**的免费工具来帮助我构建所有 msiexec.exe 命令行，除了最基本的命令行 - 而且多年来我每天都在使用 msiexec.exe：[http:// /www2.wise.com/filelib/WICLB.exe](http://www2.wise.com/filelib/WICLB.exe)（强烈推荐）。

这是一个屏幕截图：

![在此处输入图像描述](https://i.stack.imgur.com/fEq2B.png)

# jquery - 在 jquery 中不正确地删除子对象

> ID：15901547
> 
> 赞同：0
> 
> 时间：2013-04-09T12:11:34.923
> 
> 标签：jquery

我很想首先说我还不是 JQuery 方面的专家，而且我知道我在这里做错了什么。

问题是，当我从元素中删除子元素时，它只会清空子元素并将其挂在父节点中：

编码：

```
function DeleteAttributeFromNr(id) {
    $("#tbodyAttributes").children("#row-" + id).remove();

    CheckAttributes();
}

function CheckAttributes() {
    if ($("#tbodyAttributes tr").length <= 1) {
        $("#tbAttributes tbody").append('<tr><td colspan="3" id="tdEmptyBody">You have no attributes assigned to this number yet.</td></tr>');
    } else if ($("#tdEmptyBody").length == 1) {
        $("#tdEmptyBody").remove();
    }
} 
```

几次删除后的结果`"#tbodyAttributes tr"`

```
<tbody id="tbodyAttributes">
    <tr></tr>
    <tr></tr>
</tbody> 
```

正如您可能注意到的，这对于我在 CheckAttributes 中的逻辑代码来说是一个公平的错误。`<tr>`有没有其他方法可以整体去除？

我试过了：

```
$("#tbodyAttributes").removeChild("#row-" + id); //Very surprised this did not exist
$("#tbodyAttributes").children("#row-" + id).remove();
$("#tbodyAttributes").find("#row-" + id).remove();
$("#row-" + id).remove();
$("#row-" + id).empty(); //desperation run, I knew this one would not work since I use it a lot to clear out tables 
```

我知道这很明显。我确实侦察了*whackystacky*，但没有找到答案（我能找到）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T12:25:18.163

试试这个：

```
function CheckAttributes() {
    if ($("#tbodyAttributes tr").length <= 1) {
        $("#tbAttributes tbody").append('<tr><td colspan="3" id="tdEmptyBody">You have no attributes assigned to this number yet.</td></tr>');
    } else if ($("#tdEmptyBody").length == 1) {

        // $("#tdEmptyBody").remove();  This just remove the td only
        $("#tdEmptyBody").closest('tr').remove();
    }
} 
```

并删除空`tr`

```
$("#tbodyAttributes > tr:empty").remove(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T12:37:41.053

找到了。我有一个大脑衰退。

我正忙于删除tr 标签的子标签`<td colspan="3" id="tdEmptyBody">You have no attributes assigned to this number yet.</td>`，它不是`<tr>`tr 标签的子标签。这意味着**除非我将 tr:empty 与 tdEmptyBody 一起删除，否则空的 tr 标记将保留**

解决方案：

```
 $("#tbAttributes tbody").append('<tr id="trEmptyBody"><td colspan="3" >You have no attributes assigned to this number yet.</td></tr>'); 
```

我不得不将此处的 tr 元素重命名为 trEmptyBody，并将我的代码引用更新为它。

```
 if ($("#tbodyAttributes tr").length <= 1) {
            $("#tbAttributes tbody").append('<tr id="trEmptyBody"><td colspan="3" >You have no attributes assigned to this number yet.</td></tr>');
        } else if ($("#trEmptyBody").length == 1) {
            $("#tbAttributes #trEmptyBody").remove();
        } 
```

我的代码现在可以工作了。为浪费大家的时间道歉

# git - 如何使用--date = local在Git日志中以前导零显示日期部分？

> ID：15901548
> 
> 赞同：1
> 
> 时间：2013-04-09T12:11:35.103
> 
> 标签：git, msysgit, git-log

我目前使用：

```
git log --pretty='format:%ad %Cgreen%h%Cred%d %Creset%s' --date=local 
```

产生：

```
Tue Apr 2 16:02:24 2013 b8b3975 Debug info for hidHandle.isClosed added.
Mon Apr 1 15:31:46 2013 6b9b1ca Fixed mouse-button-up event images.
Mon Apr 1 13:23:26 2013 907e8c6 Improved code-behind formatting.
Thu Mar 28 17:14:59 2013 d2edade Remember colors on redraw.
Thu Mar 28 16:49:51 2013 7491a07 Seven colors in a row. 
```

我渴望这个：

```
Tue Apr 02 16:02:24 2013 b8b3975 Debug info for hidHandle.isClosed added.
Mon Apr 01 15:31:46 2013 6b9b1ca Fixed mouse-button-up event images.
Mon Apr 01 13:23:26 2013 907e8c6 Improved code-behind formatting.
Thu Mar 28 17:14:59 2013 d2edade Remember colors on redraw.
Thu Mar 28 16:49:51 2013 7491a07 Seven colors in a row. 
```

使用`--date=relative`、`--date=iso`和`--date=rfc`的结果`--date=default`并不令人满意。

我错过了任何其他选择吗？我`git version 1.8.1.msysgit.1`在 Windows 7 64 位上使用。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-09T13:30:39.057

快速浏览了源代码，你想要的是不可能的。如果您想要时区调整时间，您只能获得一种格式。如果它对您很重要，您可以通过以下方式传递输出`sed`：

```
git log --pretty='format:%ad %Cgreen%h%Cred%d %Creset%s' --date=local | sed 's/^\(.\{7\}\) \([0-9]\) /\1 0\2 /' 
```

如果要将其设置为别名`mylog`，请运行以下命令：

```
git config --global alias.mylog '!'"git log --pretty='format:%ad %Cgreen%h%Cred%d %Creset%s' --date=local | sed 's/^\(.\{7\}\) \([0-9]\) /\1 0\2 /'" 
```

或将此添加到您的`~/.gitconfig`

```
[alias]
        mylog = !git log --pretty='format:%ad %Cgreen%h%Cred%d %Creset%s' --date=local | sed 's/^\\(.\\{7\\}\\) \\([0-9]\\) /\\1 0\\2 /' 
```

# java - Java - 当字符串不是文字而是对象时？

> ID：15901552
> 
> 赞同：3
> 
> 时间：2013-04-09T12:11:43.260
> 
> 标签：java, object, language-agnostic, literals, primitive

在我的大脑又一次挫折之后，我再次重新审视 Java（请参阅我的个人资料）。这里已经提出了类似的问题，但我不想以这种方式提出这个问题。

我一直都明白什么是a `String`。即，在官方[API](http://docs.oracle.com/javase/7/docs/api/)中明确表示的 An 对象。但是，我一直在阅读有关数据类型[的](http://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html)Java 指南。

对我来说，这个概念很清楚。基元是文字。即，它们不能被实例化并且被赋值如下：

```
primtype prim =?; 
```

Java 的官方指南似乎都（正确地）将字符串识别为文字，但忽略了将哪些标准视为文字。鉴于`java.lang.String`它确实是一个（通过扩展），与存在相对应的存在`java.lang.Obect`之间的这种潜在差异是否仅在于如何为变量分配值 - 仅通过与构造（对象）相对的赋值（文字）？如果可以帮助澄清，请随时向我指出更深入的资源？`String``Object``literal`

我还想知道文字的标准是否跨语言是一致的（如果这意味着“弱类型”语言只使用文字？）

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-09T12:16:28.970

我认为您混淆了原始和文字。

类型可以是原始类型，也可以是 Object 类型（即从 Object 继承）。

字面量仅表示代码中“字面”值的表示。这可以表示原始类型或对象类型。

所以“文字类型”并没有真正的意义。字符串永远不是文字，它始终是对象。文字只是在代码中表示字符串的一种可能方式。

其他语言的处理方式差异很大。例如，在 C# 中，一切都派生自 Object，包括 Java 中的“原始”类型。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-04-09T12:14:09.883

它仅被称为文字，因为您可以这样做：

```
"this is a string" 
```

而不必做这样的事情：

```
new String(new char[] {'t', 'h', 'i', 's' ...}) 
```

例如，文字是 、`5`或`9.3f`、 或`'d'`。因此，a `String`(constructed like `"this"`) 将属于该类别。

非文字的一个例子是`new Object();`. 如果您`String`使用`new`关键字制作 a ，则它不是文字。

但是，一旦`String`制作完成，就完全没有关系了。它们仍然是相同的字符串，无论您将其设为 like`"this"`还是`new String(new char[]{'t','h','i','s'})`.

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-04-09T12:23:22.787

您不应混淆不同的、非排他性的概念。“literal”是一个词汇/句法概念，用于在编程语言中表达某些常量项。Java 中的许多文字描述了原始值，然而，在没有原始的不同语言中，相同的语法可用于描述不同质量的常量项。

不同的文字描述了更复杂的项目，例如字符串或数组，甚至是函数（参见即将到来的 lambda-syntax - lambda 表达式被广泛视为“函数文字”）。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-04-09T12:13:44.133

string 是一个对象而不是文字，因为它可以使用字符数组来构造！

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-09T12:17:32.630

这只是选择如何区分它的问题。根据定义，它扩展了 Object，它是一个 Object，但另一方面，java 允许您简单地使用

```
String str = "this is a string" 
```

可能是为了简单。现在由你决定你想怎么称呼它，直到你现在在下面发生什么

# json - 蓝屏后钛错误

> ID：15901556
> 
> 赞同：2
> 
> 时间：2013-04-09T12:11:51.043
> 
> 标签：json, titanium

我最近遇到了 Titanium 的错误消息，我完全不知道如何解决它！有一天，我的笔记本电脑在 Titanium 运行时没电了，就发生了这种情况。插入电源线后恢复电源后，我遇到了 BSOD，这导致我重新启动计算机。

当它重新启动时，我再次打开 Titanium，当我尝试运行模拟器或从我的 Android 设备运行应用程序时，我遇到了以下错误：

```
[ERROR] Exception occured while building Android project:
[ERROR] Traceback (most recent call last):
[ERROR]   File "C:\Users\Terry\AppData\Roaming\Titanium\mobilesdk\win32\3.0.2.GA\android\builder.py", line 2412, in <module>
[ERROR]     builder.build_and_run(True, avd_id, device_args=device_args, debugger_host=debugger_host)
[ERROR]   File "C:\Users\Terry\AppData\Roaming\Titanium\mobilesdk\win32\3.0.2.GA\android\builder.py", line 2076, in build_and_run
[ERROR]     last_build_info = simplejson.loads(open(build_info_path, 'r').read())
[ERROR]   File "C:\Users\Terry\AppData\Roaming\Titanium\mobilesdk\win32\3.0.2.GA\common\simplejson\__init__.py", line 307, in loads
[ERROR]     return _default_decoder.decode(s)
[ERROR]   File "C:\Users\Terry\AppData\Roaming\Titanium\mobilesdk\win32\3.0.2.GA\common\simplejson\decoder.py", line 335, in decode
[ERROR]     obj, end = self.raw_decode(s, idx=_w(s, 0).end())
[ERROR]   File "C:\Users\Terry\AppData\Roaming\Titanium\mobilesdk\win32\3.0.2.GA\common\simplejson\decoder.py", line 353, in raw_decode
[ERROR]     raise ValueError("No JSON object could be decoded")
[ERROR] ValueError: No JSON object could be decoded 
```

有人可以帮忙解决这个问题吗？？？提前致谢！

# java - Wicket 在 AjaxUpdate 之后不调用 Method

> ID：15901562
> 
> 赞同：0
> 
> 时间：2013-04-09T12:12:03.440
> 
> 标签：java, ajax, wicket, panel

我有一些用于指定实体列表的 DDC。3 个 DDC 相互更新以缩小结果集。

那工作正常。

第 3 个 DDC 在其表单中调用一个方法，该方法将填充一个 ListView。然后在另一个 Panel 中使用此 ListView 来呈现结果。

该列表已填充并正常工作。

现在我有另一个面板 - 仅用于向此列表添加新条目。我有 BusinessLogic 方法，它创建一个新的空实体并将其传递给面板。那是一次工作 - 该方法在页面的创建时间被调用。

我将 2 个面板添加到 WebMarkupContainer 并为其添加了 updateBehavior。ListView 得到更新，其他 Panel 没有。我的错误在哪里？

```
public HomePage() {
    AuswahlForm auswahlForm = new AuswahlForm("auswahlForm");
    add(auswahlForm);

    WebMarkupContainer parameterMC = new WebMarkupContainer("parameterMC");
    add(parameterMC);
    parameterMC.setOutputMarkupId(true);
    Panel neuesParameterPanel = new NeuesParameterPanel(
            "neuesParameterPanel", new Model<Dsdefaultparams>(
                    auswahlForm.getNeueParameterSpalte()));

    ParameterListenPanel parameterListenPanel = new ParameterListenPanel(
            "parameterListenPanel", auswahlForm.erstelleParameterListe());

    parameterMC.add(neuesParameterPanel);
    parameterMC.add(parameterListenPanel);

    addAjaxUpdateBehaviorFuerFormKomponenten(
            auswahlForm.getValidierungsAuswahlDropDown(), parameterMC);

}

private void addAjaxUpdateBehaviorFuerFormKomponenten(
        final WebMarkupContainer pSender,
        final WebMarkupContainer... pHinzugefuegteKomponente) {
    pSender.add(new AjaxFormComponentUpdatingBehavior("onchange") {

        private static final long serialVersionUID = 1204890108507070216L;

        @Override
        protected void onUpdate(AjaxRequestTarget target) {
            for (WebMarkupContainer webMarkupContainer : pHinzugefuegteKomponente) {
                target.add(webMarkupContainer);
            }

        }
    });
} 
```

主页包含组件

```
import java.util.ArrayList;
import java.util.Collections;
import java.util.List;

import org.apache.wicket.markup.html.form.DropDownChoice;
import org.apache.wicket.markup.html.form.Form;
import org.apache.wicket.markup.html.form.TextField;
import org.apache.wicket.markup.html.list.ListItem;
import org.apache.wicket.markup.html.list.ListView;
import org.apache.wicket.model.AbstractReadOnlyModel;
import org.apache.wicket.model.IModel;
import org.apache.wicket.model.LoadableDetachableModel;
import org.apache.wicket.model.Model;
import org.apache.wicket.model.PropertyModel;
import org.apache.wicket.spring.injection.annot.SpringBean;

import de.bayern.lfl.ama.db.entity.Dsdefaultparams;
import de.bayern.lfl.ama.db.entity.Dsstat;
import de.bayern.lfl.ama.db.entity.Dsstyp;
import de.bayern.lfl.ama.db.entity.Dsvalidierung;
import de.bayern.lfl.ama.gui.controller.helper.AjaxHelper;
import de.bayern.lfl.ama.gui.logik.StationsService;

public class AuswahlForm extends Form<Dsvalidierung> {

    private static final long serialVersionUID = 2976955367939043422L;

    private Dsstat gewaehlteStation;

    private Dsstyp gewaehlterSensor;

    private Dsvalidierung gewaehlteValidierung;

    private List<Dsdefaultparams> gefundeneParams = new ArrayList<Dsdefaultparams>();

    private DropDownChoice<Dsstat> stationsAuswahlDropDown;

    private DropDownChoice<Dsstyp> sensorAuswahlDropDown;

    private DropDownChoice<Dsvalidierung> validierungsAuswahlDropDown;

    @SpringBean
    private StationsService stationsService;

    public AuswahlForm(String pId) {
        super(pId);
        erzeugeAuswahlMenu();

    }

    private void erzeugeAuswahlMenu() {
        stationsAuswahlDropDown = erzeugeStationsAuswahlDropDown();
        sensorAuswahlDropDown = erzeugeSensorAuswahlDropDown();
        validierungsAuswahlDropDown = erzeugeValidierungsDropDown();
        add(sensorAuswahlDropDown);
        add(stationsAuswahlDropDown);
        add(validierungsAuswahlDropDown);

        AjaxHelper.addAjaxUpdateBehaviorFuerFormKomponenten(
                stationsAuswahlDropDown, sensorAuswahlDropDown);
        AjaxHelper.addAjaxUpdateBehaviorFuerFormKomponenten(
                sensorAuswahlDropDown, validierungsAuswahlDropDown);

    }

    public Dsdefaultparams getNeueParameterSpalte() {

        return stationsService.getNeueParameterSpalte(getGewaehlterSensor(),
                getGewaehlteValidierung());

    }

    public ListView<Dsdefaultparams> erstelleParameterListe() {
        LoadableDetachableModel<List<Dsdefaultparams>> model = new LoadableDetachableModel<List<Dsdefaultparams>>() {

            private static final long serialVersionUID = 5616093668912903208L;

            @Override
            protected List<Dsdefaultparams> load() {
                return stationsService
                        .getDsdefaultParamsZuSensorUndValidierung(
                                getGewaehlterSensor(),
                                getGewaehlteValidierung());
            };
        };
        ListView<Dsdefaultparams> parameterListe = new ListView<Dsdefaultparams>(
                "parameterListe", model) {

            private static final long serialVersionUID = -5657161783150179067L;

            @Override
            protected void populateItem(ListItem<Dsdefaultparams> item) {
                item.add(new TextField<String>("wert", Model.of(item
                        .getModelObject().getWert().toString())));
                item.add(new TextField<String>("spalte", Model.of(item
                        .getModelObject().getSpalte().toString())));
            }
        };
        parameterListe.setOutputMarkupId(true);
        return parameterListe;
    }

    protected void ladeWerteUndBefuelleUnterForms() {
        setGefundeneParams(stationsService
                .getDsdefaultParamsZuSensorUndValidierung(
                        getGewaehlterSensor(), getGewaehlteValidierung()));

    }

    private DropDownChoice<Dsstat> erzeugeStationsAuswahlDropDown() {
        final DropDownChoice<Dsstat> stationsAuswahlDropDown = new DropDownChoice<Dsstat>(
                "stationen",
                new PropertyModel<Dsstat>(this, "gewaehlteStation"),
                stationsService.getAlleStationen(),
                new StationsChoiceRenderer());
        return stationsAuswahlDropDown;
    }

    private DropDownChoice<Dsstyp> erzeugeSensorAuswahlDropDown() {
        final DropDownChoice<Dsstyp> sensorAuswahlDropDown = new DropDownChoice<Dsstyp>(
                "sensoren",
                new PropertyModel<Dsstyp>(this, "gewaehlterSensor"),
                getDsstypAuswahl(), new SensorChoiceRenderer());
        sensorAuswahlDropDown.setOutputMarkupId(true);
        return sensorAuswahlDropDown;
    }

    private DropDownChoice<Dsvalidierung> erzeugeValidierungsDropDown() {
        final DropDownChoice<Dsvalidierung> validierungsAuswahlDropDown = new DropDownChoice<Dsvalidierung>(
                "validierungen", new PropertyModel<Dsvalidierung>(this,
                        "gewaehlteValidierung"), getDsvalidierungAuswahl(),
                new DsvalidierungChoiceRenderer());
        validierungsAuswahlDropDown.setOutputMarkupId(true);
        return validierungsAuswahlDropDown;
    }

    private IModel<List<? extends Dsvalidierung>> getDsvalidierungAuswahl() {
        IModel<List<? extends Dsvalidierung>> modelChoices = new AbstractReadOnlyModel<List<? extends Dsvalidierung>>() {

            private static final long serialVersionUID = 6566217311955024230L;

            @Override
            public List<Dsvalidierung> getObject() {
                List<Dsvalidierung> models = stationsService
                        .getAlleValidierungen(getGewaehlterSensor(),
                                getGewaehlteStation());
                if (models == null) {
                    models = Collections.emptyList();
                }
                return models;
            }

        };
        return modelChoices;
    }

    private IModel<List<? extends Dsstyp>> getDsstypAuswahl() {
        IModel<List<? extends Dsstyp>> modelChoices = new AbstractReadOnlyModel<List<? extends Dsstyp>>() {

            private static final long serialVersionUID = 6566217311955024230L;

            @Override
            public List<Dsstyp> getObject() {
                List<Dsstyp> models = stationsService
                        .getAlleSensoren(getGewaehlteStation());
                if (models == null) {
                    models = Collections.emptyList();
                }
                return models;
            }

        };
        return modelChoices;
    }

    public Dsstat getGewaehlteStation() {
        return gewaehlteStation;
    }

    public void setGewaehlteStation(Dsstat pGewaehlteStation) {
        gewaehlteStation = pGewaehlteStation;
    }

    public Dsstyp getGewaehlterSensor() {
        return gewaehlterSensor;
    }

    public void setGewaehlterSensor(Dsstyp pGewaehlterSensor) {
        gewaehlterSensor = pGewaehlterSensor;
    }

    public Dsvalidierung getGewaehlteValidierung() {
        return gewaehlteValidierung;
    }

    public void setGewaehlteValidierung(Dsvalidierung pGewaehlteValidierung) {
        gewaehlteValidierung = pGewaehlteValidierung;
    }

    public List<Dsdefaultparams> getGefundeneParams() {
        return gefundeneParams;
    }

    public void setGefundeneParams(List<Dsdefaultparams> pGefundeneParams) {
        gefundeneParams = pGefundeneParams;
    }

    public DropDownChoice<Dsstat> getStationsAuswahlDropDown() {
        return stationsAuswahlDropDown;
    }

    public void setStationsAuswahlDropDown(
            DropDownChoice<Dsstat> pStationsAuswahlDropDown) {
        stationsAuswahlDropDown = pStationsAuswahlDropDown;
    }

    public DropDownChoice<Dsstyp> getSensorAuswahlDropDown() {
        return sensorAuswahlDropDown;
    }

    public void setSensorAuswahlDropDown(
            DropDownChoice<Dsstyp> pSensorAuswahlDropDown) {
        sensorAuswahlDropDown = pSensorAuswahlDropDown;
    }

    public DropDownChoice<Dsvalidierung> getValidierungsAuswahlDropDown() {
        return validierungsAuswahlDropDown;
    }

    public void setValidierungsAuswahlDropDown(
            DropDownChoice<Dsvalidierung> pValidierungsAuswahlDropDown) {
        validierungsAuswahlDropDown = pValidierungsAuswahlDropDown;
    }

} 
```

参数面板不起作用：

```
public class NeuesParameterPanel extends Panel {

/**
 * 
 */
private static final long serialVersionUID = 7128594202920579812L;

public NeuesParameterPanel(String pId) {
    super(pId);

}

public NeuesParameterPanel(String pId, IModel<Dsdefaultparams> params) {
    this(pId);

    IModel<Dsdefaultparams> compound = new CompoundPropertyModel<Dsdefaultparams>(
            params);

    Form<Dsdefaultparams> neueParameterForm = new Form<Dsdefaultparams>(
            "neueParameterForm", compound);

    neueParameterForm.add(new TextField<String>("spalte"));
    neueParameterForm.add(new TextField<String>("wert"));

    add(neueParameterForm);
    setOutputMarkupId(true);
} 
```

}

ParameterListPanel 确实...

```
public class ParameterListenPanel extends Panel {

private static final long serialVersionUID = -315164811829481112L;

private ListView<Dsdefaultparams> parameterListe;

public ParameterListenPanel(String pId) {
    super(pId);
    setOutputMarkupId(true);

}

public ParameterListenPanel(String pId,
        ListView<Dsdefaultparams> pErstelleParameterListe) {
    this(pId);
    ListView<Dsdefaultparams> parameterListe = pErstelleParameterListe;
    Form<Dsdefaultparams> parameterListenForm = new Form<Dsdefaultparams>(
            "parameterListenForm");

    add(parameterListenForm);
    parameterListenForm.add(parameterListe);

    setOutputMarkupId(true);
}

public ListView<Dsdefaultparams> getParameterListe() {
    return parameterListe;
}

public void setParameterListe(ListView<Dsdefaultparams> pParameterListe) {
    parameterListe = pParameterListe;
} 
```

}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T16:36:34.280

如果它可能有帮助，请尝试在更新时删除 **neuesParameterPanel**。

**移除（neuesParameterPanel）；neuesParameterPanel = new NeuesParameterPanel("neuesParameterPanel", new Model(auswahlForm.getNeueParameterSpalte())); neuesParameterPanel.setOutputMarkupId(true); 参数MC.add(neuesParameterPanel);**

# java - java中的类型转换内部过程

> ID：15901563
> 
> 赞同：-1
> 
> 时间：2013-04-09T12:12:07.047
> 
> 标签：java

当我使用

```
 String s = "12";      
   int n = Integer.parseInt(s); 
```

这给出`n`了 12 的值。这对我来说很好。

它在内部做什么。这里运行的内部进程是什么。有人可以解释一下吗？字符串如何真正转换为整数。在投反对票之前，请给我理由。下次我会纠正我的错误。我搜索了这个问题。但我没有找到答案。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T12:19:16.793

[查看](http://www.docjar.com/html/api/java/lang/Integer.java.html)的内部代码`Integer.parseInt()`，例如在第 444 行。

但最简单的方法是，如果您将`src.zip`Java 安装中的文件作为源附加到您最喜欢的编辑器（例如 Eclipse）中`Integer.class`- 这样您将获得实际的实现。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T12:19:30.253

嗨，这是 parseInt 方法的实际实现，请通过::

```
 public static int parseInt(String s) throws NumberFormatException {
         return parseInt(s,10);
    }

    public static int parseInt(String s, int radix) throws NumberFormatException
    {
        if (s == null) {
            throw new NumberFormatException("null");
        }

    if (radix < Character.MIN_RADIX) {
        throw new NumberFormatException("radix " + radix +
                        " less than Character.MIN_RADIX");
    }

    if (radix > Character.MAX_RADIX) {
        throw new NumberFormatException("radix " + radix +
                        " greater than Character.MAX_RADIX");
    }

    int result = 0;
    boolean negative = false;
    int i = 0, max = s.length();
    int limit;
    int multmin;
    int digit;

    if (max > 0) {
        if (s.charAt(0) == '-') {
        negative = true;
        limit = Integer.MIN_VALUE;
        i++;
        } else {
        limit = -Integer.MAX_VALUE;
        }
        multmin = limit / radix;
        if (i < max) {
        digit = Character.digit(s.charAt(i++),radix);
        if (digit < 0) {
            throw NumberFormatException.forInputString(s);
        } else {
            result = -digit;
        }
        }
        while (i < max) {
        // Accumulating negatively avoids surprises near MAX_VALUE
        digit = Character.digit(s.charAt(i++),radix);
        if (digit < 0) {
            throw NumberFormatException.forInputString(s);
        }
        if (result < multmin) {
            throw NumberFormatException.forInputString(s);
        }
        result *= radix;
        if (result < limit + digit) {
            throw NumberFormatException.forInputString(s);
        }
        result -= digit;
        }
    } else {
        throw NumberFormatException.forInputString(s);
    }
    if (negative) {
        if (i > 1) {
        return result;
        } else {    /* Only got "-" */
        throw NumberFormatException.forInputString(s);
        }
    } else {
        return -result;
    }
    } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-09T12:24:06.587

在这篇文章中：它是[如何工作的](https://stackoverflow.com/questions/1410555/how-does-integer-parseintstring-actually-work) ，它很好地展示了它是如何工作的。看完你应该能正确理解

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-09T12:26:56.873

我建议将源代码附加到您喜欢的 IDE 中，当您需要某些东西时，您只需要跳转到任何库的源代码即可。最好的方法是使用 IntelliJ IDEA 并创建空的 Maven 模块。然后在进入方法实现之后，您将被要求下载源代码......快速而简单。

# php - 在 Doctrine 2.3.3 中放置 docblock 注释的位置

> ID：15901566
> 
> 赞同：2
> 
> 时间：2013-04-09T12:12:12.723
> 
> 标签：php, orm, doctrine-orm

我正在将我的 ORM 从升级`Doctrine 1.2`到`Doctrine 2.3.3`. 在之前的版本中，我们用于生成模型并使用它们与特定的表进行交互。但是在后面的版本中，我们编写了 docblock 注释。

我已经编写了一个 docblock 注释，它对应于我在数据库中的表并将其放置在`Doctrine\Common\Annotations`. 但似乎注释类的对象没有被识别。

那么我在哪里放置 docblock 文件或者我必须采取什么额外措施才能使我的学说正常运行？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T20:09:27.837

无论您将注释放在哪里，Doctrine 都不会被编程来识别它们。它只知道如何处理自己的注释。

# isabelle - 嵌套析取的证明（规则 disjE）

> ID：15901570
> 
> 赞同：8
> 
> 时间：2013-04-09T12:12:26.780
> 
> 标签：isabelle, isar

在 Isar 风格的 Isabelle 证明中，这很有效：

```
from `a ∨ b` have foo
proof
  assume a
  show foo sorry
next
  assume b
  show foo sorry
qed 
```

这里调用的隐含规则`proof`是`rule conjE`。但是我应该放什么让它不仅仅适用于一个析取：

```
from `a ∨ b ∨ c` have foo
proof(?)
  assume a
  show foo sorry
next
  assume b
  show foo sorry
next
  assume c
  show foo sorry
qed 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-09T12:12:26.780

在写这个问题的时候，我有了一个想法，结果就是我想要的：

```
from `a ∨ b ∨ c` have foo
proof(elim disjE)
  assume a
  show foo sorry
next
  assume b
  show foo sorry
next
  assume c
  show foo sorry
qed 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-04-10T09:26:30.700

进行这种案例分析的另一种规范方法如下：

```
{ assume a
  have foo sorry }
moreover
{ assume b
  have foo sorry }
moreover
{ assume c
  have foo sorry }
ultimately
have foo using `a ∨ b ∨ c` by blast 
```

也就是说，让一个自动工具在最后“弄清楚”细节。这在考虑算术情况时特别有效（`by arith`作为最后一步）。

**更新：**使用 new`consider`语句可以如下完成：

```
notepad
begin
  fix A B C assume "A ∨ B ∨ C"
  then consider A | B | C by blast
  then have "something"
  proof (cases)
    case 1
    show ?thesis sorry
  next
    case 2
    show ?thesis sorry
  next
    case 3
    show ?thesis sorry
  qed
end 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2016-05-04T08:14:52.123

或者，为了区分大小写，您似乎可以采用更通用的`induct`方法来进行竞标。对于三种情况，这将像这样工作：证明一个引理`disjCases3`：

```
lemma disjCases3[consumes 1, case_names 1 2 3]:
  assumes ABC: "A ∨ B ∨ C"
  and AP: "A ⟹ P"
  and BP: "B ⟹ P"
  and CP: "C ⟹ P"
  shows "P"
proof -
  from ABC AP BP CP show ?thesis by blast
qed 
```

您可以按如下方式使用此引理：

```
from `a ∨ b ∨ c` have foo
proof(induct rule: disjCases3)
  case 1 thus ?case 
     sorry
next
  case 2 thus ?case 
     sorry
next
  case 3 thus ?case 
     sorry
qed 
```

缺点是你需要一堆引理来涵盖任意数量的情况，`disjCases2`, `disjCases3`,`disjCases4`等`disjCases5`，但除此之外它似乎工作得很好。

# android - json解析未填充列表视图

> ID：15901573
> 
> 赞同：0
> 
> 时间：2013-04-09T12:12:33.020
> 
> 标签：android, json, listview

我正在尝试使用 JSONArray 解析字符串。我在 logcat 中收到警告：

```
org.json.JSON.typeMismatch(JSON.java:107)
org.json.JSONArray.<init>(JSONArray.java:91)
org.json.JSONArray.<init>(JSONArray.java:103) 
```

我的代码：

```
@Override
protected void onPostExecute(String result) {
super.onPostExecute(result);

mylist = new ArrayList<HashMap<String, String>>();
map = new HashMap<String, String>();
try {

    JSONArray arr = new JSONArray(result);

        for (int i = 0; i < arr.length(); i++) {

             JSONObject jObj = arr.getJSONObject(i);
            c_id = jObj.getString(CID);
            j_make = jObj.getString(MAKE);
            j_model = jObj.getString(MODEL);
            j_version = jObj.getString(VERSION);
            j_price = jObj.getString(PRICE);
            j_reg_plc = jObj.getString(PLACE_REG);

            data = "Make: " + j_make + "\nModel: " + j_model
                           + "\nVersion: " + j_version + "\nPrice: " + j_price
                   + "\nCity: " + j_reg_plc;

            map.put("car", data);
            mylist.add(map);

            }
        } catch (JSONException e) {
            e.printStackTrace();
        }

    list = (ListView) findViewById(R.id.listView1);

    String[] from = new String[] { "car" };
    int[] to = new int[] { R.id.text1 };
    ListAdapter adapter = new SimpleAdapter(view_cars.this, mylist, 
                          R.layout.text_adaptr, from, to);

} 
```

我对 wats 错误一无所知，因为相同的代码以不同的意图工作。

- - - 更新 - - -

我已经克服了警告。这是一个脚本错误。但代码仍然无法正常工作。

我收到一个 json 数组，例如 - [{"car_id":"22","model":"model1"}] 等

我的完整代码

```
public class view_cars extends ListActivity {

public String s_id, ID, is, str;
String FILENAME = "http://animsinc.com/viewCars.php";

ListView list;
String data;

ArrayList<HashMap<String, String>> mylist;

HashMap<String, String> map;

static String j_id = null;
static Object j_make = null;
static String j_model = null;
static String j_version = null;
static String j_price = null;
static String j_reg_plc = null;

String CID = "car_id";
String MAKE = "make";
String MODEL = "model";
String VERSION = "version";
String PRICE = "expected_price";
String PLACE_REG = "registration_place";

@Override
protected void onCreate(Bundle savedInstanceState) {
    // TODO Auto-generated method stub
    super.onCreate(savedInstanceState);
    setContentView(R.layout.view_prof);

    Bundle bundle = getIntent().getExtras();
    String stuff = bundle.getString("stuff");

    list = getListView();
    String[] values = new String[] { "Android", "iPhone", "WindowsMobile",
            "Blackberry", "WebOS", "Ubuntu", "Windows7", "Max OS X",
            "Linux", "OS/2" };

        ArrayAdapter<String> adapter = new ArrayAdapter<String>(this,
            android.R.layout.simple_list_item_1, values);
        setListAdapter(adapter);

    Toast.makeText(this, "try " + stuff, 1000).show();

    try {

        JSONArray jArray = new JSONArray(stuff.toString());

        for (int i = 0; i < jArray.length(); i++) {

            JSONObject jObject = jArray.getJSONObject(i);
            s_id = jObject.getString("seller_id");
            // s_id = jObject.getString(ID);
        }
    } catch (JSONException e) {
        e.printStackTrace();
    }
    Toast.makeText(this, "JSON: " + s_id, 1000).show();

    startDownload();

}

@Override
public void onBackPressed() {
    // TODO Auto-generated method stub
    super.onBackPressed();

    Intent CheckProfile = new Intent(this, MenuPg.class);
    startActivity(CheckProfile);

}

private void startDownload() {

    new AppTask().execute(FILENAME);
}

public class AppTask extends AsyncTask<String, Integer, String> {

    @Override
    protected void onPreExecute() {
        super.onPreExecute();

    }

    @Override
    protected void onPostExecute(String result) {
        super.onPostExecute(result);

         Toast.makeText(view_cars.this, ""+ result, 1000).show();
        // display(is);

        // void display(String res){

        str = result;

        mylist = new ArrayList<HashMap<String, String>>();
        map = new HashMap<String, String>();
        try {
            Toast.makeText(getApplicationContext(),"Inside Try", Toast.LENGTH_LONG).show();
            JSONArray jJArray = new JSONArray(str);

            for (int i = 0; i < jJArray.length(); i++) {

                JSONArray e = jJArray.getJSONArray(i);

                JSONObject jObject = jJArray.getJSONObject(i);
                j_id = jObject.getString(ID);

                j_make = jObject.getString(MAKE);

                j_model = jObject.getString(MODEL);

                j_version = jObject.getString(VERSION);
                j_price = jObject.getString(PRICE);
                j_reg_plc = jObject.getString(PLACE_REG);

                data = "Make: "+ j_make + "\nModel: " + j_model + "\nVersion: " 
                                                 + j_version  + "\nPrice: " + j_price
                        + "\nCity: " + j_reg_plc;

                Toast.makeText(getApplicationContext(),""+data, Toast.LENGTH_LONG).show();

                map.put("car", data);

                mylist.add(map);

            }
        } catch (JSONException e) {
            e.printStackTrace();
        }

    //  list = (ListView) findViewById(R.id.listView1);
        Toast.makeText(getApplicationContext(),""+mylist, Toast.LENGTH_LONG).show();
        String[] from = new String[] { "car"};
        int[] to = new int[] { R.id.text1 };
        ListAdapter adapt = new SimpleAdapter(view_cars.this, mylist,
                R.layout.text_adaptr, from, to);

        list.setAdapter(adapt);

        // Assign adapter to ListView list.setAdapter(adapter);

    }

    @Override
    protected void onProgressUpdate(Integer... values) {
        // TODO Auto-generated method stub
        super.onProgressUpdate(values);
    }

    @Override
    protected String doInBackground(String... params) {
        // String is = null;
        // str1 = et1.getText().toString();
        // str2 = et2.getText().toString();

        HttpClient httpclient = new DefaultHttpClient();
        HttpPost httppost = new HttpPost(FILENAME);
        try {
            List<NameValuePair> nameValuePairs = new ArrayList<NameValuePair>(
                    1);
            nameValuePairs.add(new BasicNameValuePair("s_id", s_id));
            httppost.setEntity(new UrlEncodedFormEntity(nameValuePairs));
            httpclient.execute(httppost);

            HttpResponse response = httpclient.execute(httppost);
            HttpEntity entity = response.getEntity();
            is = EntityUtils.toString(entity);

        } catch (ClientProtocolException e) {
            // TODO Auto-generated catch block
        } catch (UnsupportedEncodingException e) {
            e.printStackTrace();
        } catch (IOException e) {
            // TODO Auto-generated catch block
        }

        return is;
    }
}

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T12:19:42.470

尝试将其实例化为 a`JSONObject`而不是您解析的数据不是数组而是对象。

```
JSONObject json = new JSONObject(result); 
```

对于将来的参考，不同的时候使用正确的类型是：`JSONObject`被覆盖`{}`和`JSONArray`被覆盖`[]`。

# java - mockito - 当 anyString 不正常时该怎么办

> ID：15901580
> 
> 赞同：0
> 
> 时间：2013-04-09T12:12:49.720
> 
> 标签：java, junit, mockito, powermock

我想用 PowerMockito/Mockito 模拟一个类中的一个静态方法。

我对它进行了“窥探”。

我确实需要 doAnswer 方法，因为答案是根据函数的参数值自定义的。

此外，我做了类似的事情：

```
doAnswer(...).when(class,methodname, anyString());
```

这里的丑陋问题 - 抛出的异常 - 是因为：

*   使用空/空字符串参数调用我的方法时抛出异常*   anyString 方法返回的正是我不想要的：null 或空字符串

备注：argThat 也返回 null。

这里可以做什么？:)

谢谢！

堆栈跟踪：

```
 java.lang.NullPointerException: key can't be null
    at java.lang.System.checkKey(System.java:771)
    at java.lang.System.getProperty(System.java:647)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    at java.lang.reflect.Method.invoke(Method.java:597)
    at org.powermock.reflect.internal.WhiteboxImpl.performMethodInvocation(WhiteboxImpl.java:2015)
    at org.powermock.reflect.internal.WhiteboxImpl.doInvokeMethod(WhiteboxImpl.java:893)
    at org.powermock.reflect.internal.WhiteboxImpl.invokeMethod(WhiteboxImpl.java:867)
    at org.powermock.reflect.Whitebox.invokeMethod(Whitebox.java:463)
    at org.powermock.api.mockito.internal.expectation.PowerMockitoStubberImpl.when(PowerMockitoStubberImpl.java:105) 
```

稍后编辑：当你给出方法和参数时，这种类型的“何时”更加严格——如果我输入，而不是任何字符串“a”，那么一切都很好。在这个'when'中，它被认为是anyString（）的结果，它是空的，它破坏了一切......

# php - 使用 PHP DOM 解析 HTML - 类包含文本

> ID：15901584
> 
> 赞同：3
> 
> 时间：2013-04-09T12:13:04.720
> 
> 标签：php, html, dom, xpath, domxpath

我有一组要解析的 html 项目。我需要解析类名以“uid-g-uid”结尾的 div 的内容。以下是示例 div...

```
<div class="uid-g-uid">1121</div>

<div class="yskisghuid-g-uid">14234</div>

<div class="kif893jduid-g-uid">114235</div> 
```

我尝试了以下组合，但没有奏效

```
$doc = new DOMDocument();
$bdy = 'HTML Content goes here...';
@$doc->loadHTML($bdy);
$xpath = new DomXpath($doc);
$div = $xpath->query('//*[@class=ends-with(., "uid-g-uid")]'); 
```

也试过

```
$doc = new DOMDocument();
$bdy = 'HTML Content goes here...';
@$doc->loadHTML($bdy);
$xpath = new DomXpath($doc);
$div = $xpath->query('//*[@class="*uid-g-uid"]'); 
```

请帮忙！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-09T12:29:31.830

ends-with() 需要 Xpath 2.0，因此它不适用于 Xpath 1.0 的 DOMXPath。像这样的东西应该可以工作：

```
$xpath->query('//*["uid-g-uid" = substring(@class, string-length(@class) - 8)]'); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-09T12:49:28.680

您想做一个 XPath 1.0 查询来检查以某个字符串结尾的字符串。字符串函数在该`ends-with()`版本中不可用。

我可以看到多种方法来做到这一点。在您的情况下，子字符串始终只存在一次，如果最后您可以使用`contains()`：

```
//*[contains(@class, "uid-g-uid")] 
```

如果子字符串也可能在其中的某个其他位置并且您不喜欢它，请检查它是否在末尾：

```
//*[contains(@class, "uid-g-uid") and substring-after(@class, "uid-g-uid") = ""] 
```

如果它甚至可以在那里多次，那么这也行不通。在这种情况下，您可以检查字符串是否以它结尾：

```
//@class[substring(., string-length(.) - 8, 9) = "uid-g-uid"]/.. 
```

这甚至可能是最直接的变体，或者，作为第三个参数`substring()`是可选的，直到最后进行比较：

```
//@class[substring(., string-length(.) - 8) = "uid-g-uid"]/.. 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-09T12:54:18.910

由于您正在寻找 XPath 1.0 中不可用的 XPath 函数，我认为您可以使用PHP 提供的[**DOMXPath::registerPhpFunctions**](http://php.net/manual/en/domxpath.registerphpfunctions.php)功能来为您的 XPath 查询调用任何 PHP 函数。有了它，你甚至可以`preg_match`像这样调用函数：

```
$html = <<< EOF
<div class="uid-g-uid">1121</div>
<div class="yskisghuid-g-uid">14234</div>
<div class="kif893jduid-g-uid">114235</div>
EOF;
$doc = new DOMDocument();
libxml_use_internal_errors(true);
$doc->loadHTML($html); // loads your html
$xpath = new DOMXPath($doc);

// Register the php: namespace (required)
$xpath->registerNamespace("php", "http://php.net/xpath");

// Register PHP preg_match function
$xpath->registerPHPFunctions('preg_match');

// call PHP preg_match function on your xpath to make sure class ends
// with the string "uid-g-uid" using regex "/uid-g-uid$/"
$nlist = $xpath->evaluate('//div[php:functionString("preg_match",
                           "/uid-g-uid$/", @class) = 1]/text()');

$numnodes = $nlist->length; // no of divs matched
for($i=0; $i < $numnodes; $i++) { // run the loop on matched divs
   $node = $nlist->item($i);
   echo "val: " . $node->nodeValue . "\n";
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-09T12:17:54.467

试试这个：

```
#/ First regex and replace your class with findable flag
$bdy = preg_replace('/class=\".*?uid-g-uid\"/ims', 'class="__FINDME__"', $bdy);

#/ Now find the new flag name instead
$dom = new DOMDocument();
@$dom->loadHTML($bdy);
$xpath = new DOMXPath($dom);

$divs = $xpath->evaluate("//div[@class = '__FINDME__']");
var_dump($divs->length); die(); //check if length is >=1\. else we have issue.

for($j=0; $j<$divs->length; $j++)
{
    $div = $divs->item($j);
    $div_value = $div->nodeValue;
    .  
    .  
    .  
} 
```

# javascript - 如何绘制用三次贝塞尔曲线绘制的椭圆的一部分？

> ID：15901585
> 
> 赞同：3
> 
> 时间：2013-04-09T12:13:12.800
> 
> 标签：javascript, canvas, bezier, ellipse

我正在使用此函数在 HTML5 Canvas 中[绘制一个椭圆（如何在 html5 画布中绘制一个椭圆？](https://stackoverflow.com/questions/2172798/how-to-draw-an-oval-in-html5-canvas)）：

```
function drawEllipse(ctx, x, y, w, h) {
  var kappa = .5522848,
      ox = (w / 2) * kappa, // control point offset horizontal
      oy = (h / 2) * kappa, // control point offset vertical
      xe = x + w,           // x-end
      ye = y + h,           // y-end
      xm = x + w / 2,       // x-middle
      ym = y + h / 2;       // y-middle

  ctx.beginPath();
  ctx.moveTo(x, ym);
  ctx.bezierCurveTo(x, ym - oy, xm - ox, y, xm, y);
  ctx.bezierCurveTo(xm + ox, y, xe, ym - oy, xe, ym);
  ctx.bezierCurveTo(xe, ym + oy, xm + ox, ye, xm, ye);
  ctx.bezierCurveTo(xm - ox, ye, x, ym + oy, x, ym);
  ctx.closePath();
  ctx.stroke();
} 
```

然后，我得到所有这些值并将它们发送到我的 Android 应用程序。在那里，我正在使用 Path 类的cubicTo 方法绘制相同的椭圆。为此，我只使用上面函数的相同参数，它就像一个魅力。

但是现在，我只需要画出这个椭圆的一部分，而且我在谷歌上没有找到任何可以帮助我解决这个问题的东西。我想做的是，有这个第一个椭圆：

![在此处输入图像描述](https://i.stack.imgur.com/rH9Hx.png)

我希望能够绘制这些图像：

![在此处输入图像描述](https://i.stack.imgur.com/sBLc6.png)

![在此处输入图像描述](https://i.stack.imgur.com/ueIHD.png)

![在此处输入图像描述](https://i.stack.imgur.com/GNofS.png)

我怎么能做这种事情？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T20:21:29.720

看看[http://pomax.github.io/bezierinfo/#circles_cubic](http://pomax.github.io/bezierinfo/#circles_cubic) - 它讨论了圆弧的这个问题（以弧角表示的控制点值在该部分的底部），但它们之间的唯一区别椭圆是其中一个维度的旋转+缩放。如果您了解圆形近似，您也可以得到椭圆近似。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T20:55:15.147

除了所有的数学东西，你可以简单地使用剪裁：

```
canvas.save();
canvas.clipRect(mYourTargetRect);
// draw your arc/circle/object/oval/whatever here
canvas.restore(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-11T11:46:17.697

我有一个最简单的方法来做到这一点。我只是在我的 Web 应用程序中使用 Bezier 曲线绘制了一个椭圆。然后，我得到椭圆的 centerX、centerY、宽度和高度，并将它们传递给我的 android 应用程序。

在我的 Android 应用程序中，我可以使用 drawOval 方法在 Web 中绘制椭圆。有了这个，我可以使用 drawArcs 方法绘制椭圆的弧，该方法接收 Oval 作为参数。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-06-01T07:52:16.957

Chrome 支持`CanvasRenderingContext2D.prototype.ellipse`绘制椭圆或椭圆弧的方法。但其他浏览器不支持椭圆方法。

您可以使用[canvas-5-polyfill](https://github.com/google/canvas-5-polyfill)来提供 ellipse 方法。

或者只是写一些js代码：

```
if (CanvasRenderingContext2D.prototype.ellipse == undefined) {
  CanvasRenderingContext2D.prototype.ellipse = function(x, y, radiusX, radiusY, rotation, startAngle, endAngle, antiClockwise) {
    this.save();
    this.translate(x, y);
    this.rotate(rotation);
    this.scale(radiusX, radiusY);
    this.arc(0, 0, 1, startAngle, endAngle, antiClockwise);
    this.restore();
  }
} 
```

# java - Play 框架模板中的 Map[Int, String]

> ID：15901587
> 
> 赞同：1
> 
> 时间：2013-04-09T12:13:19.777
> 
> 标签：java, templates, playframework-2.0

`Map[String, String]`我正在使用 Play 2.0.4 框架，我可以通过将其放入控制器部分成功地创建一个接受模板的模板：

```
Map<String, String> test = new HashMap<String, String>();
return ok(views.html.template.render(test)); 
```

并在`template.scala.html`：

```
@(map : Map[String, String]) 
```

但是，如果我将第`String`一个更改为`Int`（控制器部分中的整数），我会得到这个异常：

```
 error: method render in class template cannot be applied to given types; 
```

是否可以在 Play 框架中定义 Integer -> String 映射，如果可以，我该如何实现？

**编辑：**
当我将控制器中的代码更改为：

```
Map<Integer, String> test = new HashMap<Integer, String>(); 
```

并在模板中：

```
@(map: Map[Int, String]) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-09T15:19:55.087

在您的模板中，您指定您`Map`的键是`scala.Int`s，但您给它一个`Map`s`java.lang.Integer`作为键。

解决方案是将模板中的行更改为

```
@(map: Map[Integer, String]) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T14:11:59.460

使用您的代码，生成的`render`方法接受一个`Map<Object, String>`. 然后，您可以提供这样的地图。

有从 Java 到 Scala（以及从 Scala 到 Java）的自动转换助手。我不知道如果这种情况允许您使用`Map<Integer, String>`该`render`方法，是否可以申请。

# sql - ACCESS 2000：查询“链”太慢，添加了“WHERE”子句

> ID：15901592
> 
> 赞同：2
> 
> 时间：2013-04-09T12:13:28.787
> 
> 标签：sql, performance, ms-access

**前提**

我必须修改一个非常旧的 Access 2000 数据库。我有两张桌子：

> **产品**表：
> 
> *   **pID as Text** - 这是关键字段（是的，是文本，我对此无能为力）
> *   **pLevel as Integer** - 这是产品级别：0=已完成，1 到 7=子产品
> *   **pDescription as text** - 只是一个描述
> 
> **P-关联**表：
> 
> *   **pIDParent 作为文本**
> *   **pIDChild 作为文本**

该表所做的是（子）产品与其他子产品之间的关联。“规则”是 pIDChild 级别必须高于 pIDParent 级别。

然后是一个表格，显示给定 pID 的所有孩子。这是基于查询的“链”：

这是查询 q-pAssociation0，它查看所选产品并返回子产品：

```
SELECT DISTINCTROW [t-Associations].pIDParent, [t-Associations].pIDChild, [t-Products].pLevel AS pParentLevel, [t-Products].pLevel AS pChildLevel FROM [t-Products] INNER JOIN [t-Associations] ON [t-Products].pID = [t-Associations].pIDChild
WHERE ((([t-Associations].pIDParent)=[Forms]![fTreeProdotti]![txtProdID])); 
```

然后有 7 个查询*(q-pAssociation1~q-pAssociation7)*，每个查询都处理前一个查询。这是 q-pAssociation1：

```
SELECT DISTINCTROW [q-pAssociation0].pIDChild AS pIDParent, [t-Associations].pIDChild, [q-pAssociation0].pChildLevel AS pParentLevel, [t-Products].pLevel AS pChildLevel FROM [q-pAssociation0] INNER JOIN ([t-Products] INNER JOIN [t-Associations] ON [t-Products].pID = [t-Associations].pIDChild) ON [q-pAssociation0].pIDChild = [t-Associations].pIDParent; 
```

最后，有一个 GROUP 查询将所有以前的查询分组，并且表单是基于该查询。

**问题** 我必须修改这一切，以便查询仅返回具有 Level = parent level+1 的 Childs（因此，如果 Parent 有 Child 2 level“down”或更高级别，则不必返回。

所以，我在每个查询中添加了一个条件：

```
SELECT DISTINCTROW [q-pAssociation0].pIDChild AS pIDParent, [t-Associations].pIDChild, [q-pAssociation0].pChildLevel AS pParentLevel, [t-Products].pLevel AS pChildLevel
FROM [q-pAssociation0] INNER JOIN ([t-Products] INNER JOIN [t-Associations] ON [t-Products].pID = [t-Associations].pIDChild) ON [q-pAssociation0].pIDChild = [t-Associations].pIDParent
WHERE ((([t-Products].pLevel)=[q-pAssociation0]![pParentLevel]+1)); 
```

但是现在 q-pAssociation7 需要 10 分钟才能返回大约 15 条记录，而没有“WHERE”条件它几乎立即返回大约 25 条记录。

我怎样才能只获得仅下降一级的产品而没有这个缓慢的查询？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-11T13:41:50.083

如果您创建了一个查询来隔离所有相隔一个级别的关联，也许它可能会有所帮助......

```
SELECT a.pIDParent, a.pIDChild, tP.pLevel AS pParentLevel, tC.pLevel AS pChildLevel
FROM ([t-Associations] AS a INNER JOIN [t-Products] AS tP ON a.pIDParent = tP.pID) 
    INNER JOIN [t-Products] AS tC ON a.pIDChild = tC.pID
WHERE (((tC.pLevel)=[tP].[pLevel]+1)); 
```

...将其保存为 [q-one_level_down]，然后在您的查询中使用它，这样您就不必一直（明确地）引用 Products 表来获取级别。

如果您这样做，那么您的 [q-pAssociation0] 查询将变为...

```
SELECT [q-one_level_down].pIDParent, [q-one_level_down].pIDChild, 
    [q-one_level_down].pParentLevel, [q-one_level_down].pChildLevel
FROM [q-one_level_down]
WHERE ((([q-one_level_down].pIDParent)=[Forms]![fTreeProdotti]![txtProdID])); 
```

...并且（我相信）您的 [q-pAssociation1] 查询变为

```
SELECT [q-one_level_down].pIDParent, [q-one_level_down].pIDChild, 
    [q-one_level_down].pParentLevel, [q-one_level_down].pChildLevel
FROM [q-pAssociation0__NEW_] INNER JOIN [q-one_level_down] 
    ON ([q-pAssociation0__NEW_].pChildLevel = [q-one_level_down].pParentLevel) 
        AND ([q-pAssociation0__NEW_].pIDChild = [q-one_level_down].pIDParent); 
```

如果这种方法为您提供了所需的结果，但您仍然觉得它太慢，那么下一个改进将是使用 Append 查询将 [q-one_level_down] 的结果持久保存在已索引所有四列的本地表中，然后用那个。（在这种情况下，您可能希望将其命名为 [lt-one_level_down]——“lt”代表“本地表”——以避免混淆。）

# iphone - 在我的 sencha touch 项目中无法识别 sencha-touch-all-debug.js

> ID：15901595
> 
> 赞同：0
> 
> 时间：2013-04-09T12:13:41.850
> 
> 标签：iphone, extjs, sencha-touch, cordova, sencha-touch-2.1

我正在创建一个 Sencha 触摸应用程序。当我添加`sencha-touch-all-debug.js`时，`app.js`则不调用。但是当我添加时`sencha-touch-debug.js`，`app.'s`被调用。我的代码有什么问题？请帮我

这是我的代码

```
<link rel="stylesheet" href="../SwatiApp/touch/resources/css/sencha-touch.css" />
<link rel="stylesheet" href="css/styles.css" />
<script charset="utf-8" src="../SwatiApp/touch/sencha-touch-all-debug.js"></script>
<script src="../CordovaLib/javascript/cordova-1.8.1.js"></script>
<script src="app.js"></script> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-01-11T12:14:53.357

您可以用于`Cordova FrameWork`sencha-touch 实现。

# iphone - 从两部 iPhone 同步视频录制

> ID：15901596
> 
> 赞同：1
> 
> 时间：2013-04-09T12:13:43.277
> 
> 标签：iphone, ios, objective-c, video, synchronization

我是否有可能以编程方式在两部 iPhone 上同步一项操作？就我而言：我在一部 iPhone 上按下录制视频按钮，它不仅开始录制，而且同时在第二部 iPhone 上录制，依此类推。它不会破坏苹果制作应用程序的一些规则吗？这通常是可能的吗？现在我什至无法想象它可以完成的主要逻辑。

感谢您的任何提前！

# javascript - .scroll() 多久触发一次？

> ID：15901598
> 
> 赞同：5
> 
> 时间：2013-04-09T12:13:46.570
> 
> 标签：javascript, jquery, html, scroll, setinterval

我在这里建立我的网站：[argit.bounde.co.uk](http://www.argit.bounde.co.uk)

我知道使用它是不好的，`$(window).scroll();`因为它可能会导致某些浏览器出现问题，并且已[在此博客文章](http://ejohn.org/blog/learning-from-twitter/)中阅读了它可能导致的问题。

我有一个`navCheck`由两部分组成的功能，修复导航（如果您调整浏览器大小以使其更窄，您将看到第二部分）并选择哪个导航应该占据“over”状态。

我对 jQuery 很陌生，无法实现 John 的方法，它不喜欢我把变量放在哪里。所以我想我会`setInterval`在我的 navCheck 函数中包含一个来控制它触发的次数。但我不能让左侧导航固定功能的间隔大于 1 毫秒，否则会有明显的跳跃。

我想知道 .scroll() 默认触发的频率以及追求的最佳选择是什么。我是否应该将我的函数的固定部分移动到一个单独的函数并每 1 毫秒触发一次，然后保留我的函数的“过度”部分并每 250 毫秒触发一次？或者只是让整个事情每1ms触发一次？甚至比标准的 .scroll() 性能有所提高

或者同样，如果您可以帮助我实施 Johns 解决方案，这也是向前迈出的一步，因为这应该会更好，但我不明白我将如何实施它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T12:43:19.537

你真的不需要计数。答案是“很多”，并且是特定于实现的。

您的目标应该是通过滚动设置状态，然后使用 setTimeout 在循环中检查该状态。

如果您的功能很精简，那么在内部`scroll|resize|mousemove|etc`没有什么可以阻止您与它们绑定。

但是当我说“精益”时，我的意思是

```
window.onscroll = function (e) {
    screen_obj.x = ...;
    screen_obj.y = ... ;
}; 
```

在此之外进行民意调查。将其设置为 60fps，或任何您想要的。
为了记录，几个浏览器实际上不会给你 1ms，他们只会给你最小的间隔。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T12:26:56.547

我不知道确切的答案，但我会做的是每次都会触发一个 console.log 语句，以了解实际用例中会发生什么。

其次，无论响应速度如何，它可能非常频繁且快速，因此我肯定会在不影响用户体验的情况下尽可能多地调节它（保持处理器温度较低是很好的，尤其是在移动设备中）。

那就是说我不会使用 setInterval() 来限制它。我不会在这里描述整个问题，使用 setTimeout 来创建一个限制递归函数只是一个最佳实践，甚至还有片段和插件更进一步，比如去抖动：[https ://code.google.com/p/ jquery去抖/](https://code.google.com/p/jquery-debounce/)

# android - 通过USB在android中实时记录数据

> ID：15901604
> 
> 赞同：0
> 
> 时间：2013-04-09T12:14:06.270
> 
> 标签：android, usb, libusb

我正在尝试构建这个示波器电路，它可以生成各种频率的模拟信号。例如，按下 512 Hz 按钮，它将生成 512 Hz 的正弦波，如果要求 256 Hz，它将生成它等等。

所以我的朋友想在 Android 上构建一个示波器应用程序，它会显示正在生成的波形。由于 android 没有 3.5 mm 音频输入，我猜电路的输出必须通过 USB 端口馈送。

有人能告诉我如何通过 USB 输入数据吗？我是否添加了额外的电路来将模拟信号转换为数字信号？如果是这样，谁能给我一个简单的这种电路的链接（我是一个年轻的学生，没有太多的焊接经验）？另外我的朋友需要如何修改应用程序以接受 USB 输入？

我们不是指音频输入，因为我们不需要高采样率。2 kHz 的采样率足以满足我们的目的。

# linux - Git 和 Apache 在 webroot 上共享权限

> ID：15901605
> 
> 赞同：0
> 
> 时间：2013-04-09T12:14:06.430
> 
> 标签：linux, git

我的服务器上有一个裸露的 git 存储库`/home/git/repos/myproject.git`。我可以将代码从我的机器推送到这个裸存储库，它调用一个`post-update`钩子将代码推送到 webroot。

这仅在 git 用户拥有 web 文件时才有效，但服务器仅在 apache 用户拥有文件时才有效。

我创建了一个新组`gitapache`并将两个用户都添加到其中。然后将组所有权分配给该组，但它不起作用。

所有文件和目录的权限当前为 664。

有没有办法使这项工作？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T12:17:55.333

我为解决这个问题所做的是在我的网络服务器上建立一个从我的 webroot 到我的 git 存储库的符号链接。因此，无需复制、挂钩或推送任何内容，只需更新我的存储库中的文件，它们就会生效。

# javascript - 如何使用 BeautifulSoup 从 JSON 数据制作 Python 字典

> ID：15901606
> 
> 赞同：2
> 
> 时间：2013-04-09T12:14:08.570
> 
> 标签：javascript, python, json, web-scraping, beautifulsoup

我正在抓取一个需要某些信息的网站。我需要的信息是字典之后`Sw.preloadedData["overview"] =`：

```
<script type="text/javascript">
    Sw.preloadedData = {};
    Sw.preloadedData["overview"] = {"Title":"Facebook","Description":"A social utility that connects people, to keep up with friends, upload photos, share links and videos.","GlobalRank":[1,28115594,0],"Country":840,"CountryRanks":{"12":[1,830254,0],"818":[1,463162,0],"604":[1,599566,0],"608":[1,986465,0],"484":[1,1329484,0],"504":[1,672216,0],"862":[1,724854,0],"688":[1,534093,0],"702":[1,427637,0],"703":[1,341310,0],"756":[1,903074,0],"840":[1,5142062,0],"250":[1,1887449,0],"724":[2,1432992,0],"764":[1,857348,0],"76":[1,2733763,0],"784":[1,564929,0],"376":[1,390754,0],"792":[1,979507,0],"804":[8,1073943,1],"344":[1,284415,0],"348":[1,471458,0],"643":[8,1424933,1],"682":[1,692392,0],"380":[1,1441457,0],"392":[3,979893,1],"170":[1,1048409,0],"191":[1,348589,0],"620":[1,841554,0],"642":[1,814441,0],"356":[2,2356839,1],"528":[1,1092022,0],"616":[2,1430485,0],"360":[1,1541560,0],"372":[1,361215,0],"458":[1,851821,0],"36":[1,857177,0],"578":[1,349987,0],"586":[1,553155,0],"704":[2,918752,0],"710":[2,439567,1],"826":[1,2062694,0],"124":[1,1950051,0],"752":[1,577990,0],"300":[1,654931,0],"203":[1,623702,0],"208":[1,350294,0],"32":[1,1223765,0],"100":[1,473283,0],"554":[1,268216,0],"56":[1,1124680,0],"152":[1,725504,0],"156":[25,375144,-1],"158":[1,408462,0],"276":[1,2752131,0],"40":[1,700209,0],"410":[1,327519,0],"246":[1,387528,0]},"Category":"Internet_and_Telecom/Social_Network","CategoryRank":[1,27564,0],"TrafficReach":[0.32364475161620337,0.32385066912312122,0.32476481437213323,0.31948943452696626,0.310612833573507,0.30867420840432391,0.30666509584041279,0.31334128772658171,0.33551546090119239,0.3260064922555041,0.33396164810609369,0.33999592327084549,0.33711315799626795,0.32152719433964483,0.31986157880865085,0.32069766148623413,0.3306823871380894,0.32266565637788247,0.29034777869603251,0.29286953998372667,0.29969130766646174,0.3071060984450904,0.28517166164955293,0.29038329556338477,0.2845053957123595],"TrafficReachStart":1346457600,"TrafficReachEnd":1362096000,"Engagments":[{"Year":2012,"Month":9,"Reach":[0.32364839148251978,0.012621437484750864],"Time":[1225.8536260294338,0.00090266734593069664],"PPV":[21.312597646825566,0.034059623863791355],"Bounce":[0.18813037420762707,0.043481349041723627]},{"Year":2012,"Month":10,"Reach":[0.31325536305080282,-0.032112096661782052],"Time":[1308.5613956266043,0.0674695313053506],"PPV":[25.612224490959978,0.20174109770119109],"Bounce":[0.17672838267013638,-0.060606861520974054]},{"Year":2012,"Month":11,"Reach":[0.33350274816471975,0.064635398151613677],"Time":[1300.8263833937028,-0.0059110808699942563],"PPV":[24.020971463806184,-0.062128653749518592],"Bounce":[0.186024790640559,0.052602801145837264]},{"Year":2012,"Month":12,"Reach":[0.32441610872340648,-0.027246070658540122],"Time":[1331.3137947173564,0.023436956470790138],"PPV":[24.916914500937356,0.03729836815638965],"Bounce":[0.18107629094748873,-0.026601291559208651]},{"Year":2013,"Month":1,"Reach":[0.29998222452228729,-0.075316494909170029],"Time":[1334.5042854365543,0.0023964979044441836],"PPV":[25.52485794831804,0.024398825438752159],"Bounce":[0.18097482510209897,-0.00056034859593612207]},{"Year":2013,"Month":2,"Reach":[0.2842911869016958,-0.052306557982157109],"Time":[1281.8427161473487,-0.039461521303379321],"PPV":[23.201378273544368,-0.091028113828417134],"Bounce":[0.18673378186827794,0.031821866731629678]}],"TrafficSources":{"Search":0.12679771428369516,"Social":0.0095590714393366649,"Mail":0.018352638254343783,"Paid Referrals":0.0010665044954870533,"Direct":0.60148809501325917,"Referrals":0.24273597651387802},"RedirectUrl":"facebook.com"};
    Sw.period = { month:2 ,year:2013,period:6 };
    Sw.siteDomain = "Facebook.com";
    Sw.siteCategory = "Internet_and_Telecom/Social_Network";
    Sw.siteCountry = "840";

</script> 
```

如果我使用 beautifulsoup 选择了脚本标签，那么我怎样才能将那个（JSON？）字典作为 Python 字典？

首先，我只需要选择那个 JSON 对象——**我该怎么做？**

而且我需要将该 JSON 对象转换为 Python 字典。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-09T12:21:36.207

你需要做一些文本处理：

```
import json

scriptline = next((line for line in scripttag.string.splitlines()
    if 'Sw.preloadedData["overview"]' in line))
data = scriptline.split('=', 1)[1].strip(' ;')
data = json.loads(data) 
```

该`next(..., '')`调用选择包含 的第一行`Sw.preloadedData["overview"]`。然后我们将该行拆分一次`=`，取出该行的其余部分，删除空格和分号，然后将其解释为 JSON。

这给了我：

```
{u'Category': u'Internet_and_Telecom/Social_Network',
 u'CategoryRank': [1, 27564, 0],
 u'Country': 840,
 u'CountryRanks': {u'100': [1, 473283, 0],
                   u'12': [1, 830254, 0],
                   u'124': [1, 1950051, 0],
                   u'152': [1, 725504, 0],
                   u'156': [25, 375144, -1],
                   u'158': [1, 408462, 0],
                   u'170': [1, 1048409, 0],
                   u'191': [1, 348589, 0],
                   u'203': [1, 623702, 0],
                   u'208': [1, 350294, 0],
                   u'246': [1, 387528, 0],
                   u'250': [1, 1887449, 0],
                   u'276': [1, 2752131, 0],
                   u'300': [1, 654931, 0],
                   u'32': [1, 1223765, 0],
                   u'344': [1, 284415, 0],
                   u'348': [1, 471458, 0],
                   u'356': [2, 2356839, 1],
                   u'36': [1, 857177, 0],
                   u'360': [1, 1541560, 0],
                   u'372': [1, 361215, 0],
                   u'376': [1, 390754, 0],
                   u'380': [1, 1441457, 0],
                   u'392': [3, 979893, 1],
                   u'40': [1, 700209, 0],
                   u'410': [1, 327519, 0],
                   u'458': [1, 851821, 0],
                   u'484': [1, 1329484, 0],
                   u'504': [1, 672216, 0],
                   u'528': [1, 1092022, 0],
                   u'554': [1, 268216, 0],
                   u'56': [1, 1124680, 0],
                   u'578': [1, 349987, 0],
                   u'586': [1, 553155, 0],
                   u'604': [1, 599566, 0],
                   u'608': [1, 986465, 0],
                   u'616': [2, 1430485, 0],
                   u'620': [1, 841554, 0],
                   u'642': [1, 814441, 0],
                   u'643': [8, 1424933, 1],
                   u'682': [1, 692392, 0],
                   u'688': [1, 534093, 0],
                   u'702': [1, 427637, 0],
                   u'703': [1, 341310, 0],
                   u'704': [2, 918752, 0],
                   u'710': [2, 439567, 1],
                   u'724': [2, 1432992, 0],
                   u'752': [1, 577990, 0],
                   u'756': [1, 903074, 0],
                   u'76': [1, 2733763, 0],
                   u'764': [1, 857348, 0],
                   u'784': [1, 564929, 0],
                   u'792': [1, 979507, 0],
                   u'804': [8, 1073943, 1],
                   u'818': [1, 463162, 0],
                   u'826': [1, 2062694, 0],
                   u'840': [1, 5142062, 0],
                   u'862': [1, 724854, 0]},
 u'Description': u'A social utility that connects people, to keep up with friends, upload photos, share links and videos.',
 u'Engagments': [{u'Bounce': [0.18813037420762707, 0.04348134904172363],
                  u'Month': 9,
                  u'PPV': [21.312597646825566, 0.034059623863791355],
                  u'Reach': [0.3236483914825198, 0.012621437484750864],
                  u'Time': [1225.8536260294338, 0.0009026673459306966],
                  u'Year': 2012},
                 {u'Bounce': [0.17672838267013638, -0.060606861520974054],
                  u'Month': 10,
                  u'PPV': [25.612224490959978, 0.20174109770119109],
                  u'Reach': [0.3132553630508028, -0.03211209666178205],
                  u'Time': [1308.5613956266043, 0.0674695313053506],
                  u'Year': 2012},
                 {u'Bounce': [0.186024790640559, 0.052602801145837264],
                  u'Month': 11,
                  u'PPV': [24.020971463806184, -0.06212865374951859],
                  u'Reach': [0.33350274816471975, 0.06463539815161368],
                  u'Time': [1300.8263833937028, -0.005911080869994256],
                  u'Year': 2012},
                 {u'Bounce': [0.18107629094748873, -0.02660129155920865],
                  u'Month': 12,
                  u'PPV': [24.916914500937356, 0.03729836815638965],
                  u'Reach': [0.3244161087234065, -0.027246070658540122],
                  u'Time': [1331.3137947173564, 0.023436956470790138],
                  u'Year': 2012},
                 {u'Bounce': [0.18097482510209897, -0.0005603485959361221],
                  u'Month': 1,
                  u'PPV': [25.52485794831804, 0.02439882543875216],
                  u'Reach': [0.2999822245222873, -0.07531649490917003],
                  u'Time': [1334.5042854365543, 0.0023964979044441836],
                  u'Year': 2013},
                 {u'Bounce': [0.18673378186827794, 0.03182186673162968],
                  u'Month': 2,
                  u'PPV': [23.201378273544368, -0.09102811382841713],
                  u'Reach': [0.2842911869016958, -0.05230655798215711],
                  u'Time': [1281.8427161473487, -0.03946152130337932],
                  u'Year': 2013}],
 u'GlobalRank': [1, 28115594, 0],
 u'RedirectUrl': u'facebook.com',
 u'Title': u'Facebook',
 u'TrafficReach': [0.3236447516162034,
                   0.3238506691231212,
                   0.3247648143721332,
                   0.31948943452696626,
                   0.310612833573507,
                   0.3086742084043239,
                   0.3066650958404128,
                   0.3133412877265817,
                   0.3355154609011924,
                   0.3260064922555041,
                   0.3339616481060937,
                   0.3399959232708455,
                   0.33711315799626795,
                   0.32152719433964483,
                   0.31986157880865085,
                   0.32069766148623413,
                   0.3306823871380894,
                   0.32266565637788247,
                   0.2903477786960325,
                   0.29286953998372667,
                   0.29969130766646174,
                   0.3071060984450904,
                   0.28517166164955293,
                   0.29038329556338477,
                   0.2845053957123595],
 u'TrafficReachEnd': 1362096000,
 u'TrafficReachStart': 1346457600,
 u'TrafficSources': {u'Direct': 0.6014880950132592,
                     u'Mail': 0.018352638254343783,
                     u'Paid Referrals': 0.0010665044954870533,
                     u'Referrals': 0.24273597651387802,
                     u'Search': 0.12679771428369516,
                     u'Social': 0.009559071439336665}} 
```

如果您的值定义跨越多行，我们可以使用该[`JSONDecoder.raw_decode()`方法](http://docs.python.org/2/library/json.html#json.JSONDecoder.raw_decode)使解析该信息更容易一些：

```
import json

script_rest = scripttag.string.split('Sw.preloadedData["overview"]', 1)[1].lstrip(' =')
decoder = json.JSONDecoder()
data, _ = decoder.raw_decode(script_rest) 
```

`raw_decode()`即使有尾随数据，该调用也会解析 JSON，因此它会尝试查找从文本`=`后面开始的完整 JSON 对象。`Sw.preloadedData["overview"]`

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-09T12:25:38.977

就像是：

```
import re, json
jsondata = json.loads(re.search(r'Sw\.preloadedData\["overview"\] = (.*)', data).group(1).rstrip(';')) 
```

# xna - 在 XNA 4.0 中同时使用 PrimitiveBatch 和 SpriteBatch

> ID：15901609
> 
> 赞同：0
> 
> 时间：2013-04-09T12:14:19.943
> 
> 标签：xna, spritebatch

环顾四周，找不到有这个问题的人，也找不到答案，所以我把它贴在这里！

无论如何在使用 2D 相机时在 xna 中同时使用primitiveBatch 和 spriteBatch 吗？有没有办法将在 spriteBatch 上进行的投影应用到primitiveBatch 上？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-11T13:02:41.573

好吧，2d 相机只是一个矩阵，幸运的是 spritbatch 的 Begin 方法有一个 2d 转换参数。

```
public void Begin (
     SpriteSortMode sortMode,
     BlendState blendState,
     SamplerState samplerState,
     DepthStencilState depthStencilState,
     RasterizerState rasterizerState,
     Effect effect,
     Matrix transformMatrix
) 
```

看看底部，最后一个参数。

这意味着 this 和 spritebatch 的 end 方法之间的所有后续绘制调用都将应用此转换矩阵。

如果我们想进一步抽象绘图，我们可以创建自己的相机类，该类将包含一个属性，可能会为您返回相机当前状态的正确矩阵。

一个快速的谷歌搜索给了我这个教程，它似乎很好地展示了如何抽象矩阵的使用，而不是只使用位置、比例和旋转。 [http://adambruenderman.wordpress.com/2011/04/05/create-a-2d-camera-in-xna-gs-4-0/](http://adambruenderman.wordpress.com/2011/04/05/create-a-2d-camera-in-xna-gs-4-0/)

有关更多信息，请查看 [http://msdn.microsoft.com/en-us/library/ff433701.aspx](http://msdn.microsoft.com/en-us/library/ff433701.aspx)

# coffeescript - 流星发布附加用户信息登录/注销

> ID：15901612
> 
> 赞同：3
> 
> 时间：2013-04-09T12:14:36.637
> 
> 标签：coffeescript, meteor, meteorite

我正在尝试根据用户的角色有选择地发布用户数据。我想要发布电子邮件地址和用户名。如果用户是管理员，他们应该能够看到整个用户配置文件。

在服务器 (CS) 上：

```
Meteor.publish "allUsers", ->
    if Roles.userIsInRole @userId, 'admin' then data = profile: 1
    else data = 'profile.name': 1
    data['emails.address'] = 1
    Meteor.users.find {}, fields: data 
```

在客户端 (CS) 上：

```
Meteor.subscribe("allUsers") 
```

这在大多数情况下都很有效。当用户注销，然后再次登录时，订阅会出现问题，并且

```
Meteor.user().profile 
```

什么都不返回。刷新页面，再次填写个人资料字段。为了解决这个问题，我将服务器返回语句更改为：

```
[
    Meteor.users.find {}, fields: data
    Meteor.users.find @userId
] 
```

这什么也没做。这是 Meteor 的错误还是我从根本上误解了登录/注销？

**更新**

我读了更多，似乎 Meteor 会随机选择同一集合上的多个订阅/发布的数据。考虑到这一点，我将返回查询更改为：

```
Meteor.users.find _id: $ne: @userId, fields: data 
```

其他用户的数据现在没有公布！（控制台中的 Meteor.users.find().count() 返回 1。）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T14:14:51.423

我相信您的原始退货声明很好。但是，我会看看你的`Roles.userIsInRole`函数在`@userId`is时会发生什么`null`。也许那里有一个错误导致发布功能崩溃。

我不是 Coffeescripter，但如果这是问题所在，那么我认为将其添加到 Publish 函数的顶部将解决您的问题：

```
if not @userId return 
```

# ruby - Gem axlsx how to set font font_name?

> ID：15901616
> 
> 赞同：7
> 
> 时间：2013-04-09T12:14:49.980
> 
> 标签：ruby, axlsx

I use axlsx gem to work with xlsx file. Please help me to set font in cells of sheet.

```
item_style = s.add_style :b => false, :sz => 9,  :font_name => 'courier',
      :alignment => { :horizontal => :left, :vertical => :center, :wrap_text => true}
row = sheet.add_row [item.name, item.price], :style => item_style 
```

But font in cells still 'Arial'. I need any 'mono width' font. I know that 'courier' is not mono width font, use it just for example.

Because I have fixed column width. And I want to know when text in cell takes 2 lines. To set appropriate row height.

Thanks.

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-10T11:06:29.747

看你的风格声明，我觉得很合适。冒着听起来迂腐的风险，您应该将字体名称大写。

结合你的位和来自 acsmith 的好例子，下面的代码在 excel 中应该可以正常工作。您使用什么软件查看 Axlsx 文件？并非所有电子表格软件都完全/实现了 OOXML 规范。

```
require 'axlsx'
p = Axlsx::Package.new
wb = p.workbook
item_style = wb.styles.add_style :b => false, :sz => 9,  :font_name => 'Courier',
  :alignment => { :horizontal => :left, :vertical => :center, :wrap_text => true}
wb.add_worksheet(:title => "Worksheet 1") do |sheet|
  sheet.add_row(["text in Courier"], :style => item_style)
end
p.serialize("courier.xlsx") 
```

最好的

随机的

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-09T18:30:48.490

我建议尝试以下迷你示例并确保它有效。您需要将整个内容放在样式块中。

```
p = Axlsx::Package.new
  wb = p.workbook
  wb.styles do |s|
    courier = s.add_style :font_name => "Courier"
    wb.add_worksheet(:title => "Worksheet 1") do |sheet|
      sheet.add_row(["text in Courier"], :style => courier)
    end
  end
p.serialize("Courier.xlsx") 
```

我没有太多使用 axlsx，但我相信任何使用的样式都必须在样式块中声明，并在该块中使用。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2015-12-03T12:05:13.257

由我们 Axlsx gem ，`font_name`可以像这样多种方式设置，这对我有用：

```
sheet.add_row ["some data", "","","", "", "","",""], :sz => 9,:height => 16,:font_name => "Arial"   -------------> first way

sheet.rows.last.cells[0].font_name = "Arial"  ----------> second way

sheet["A10"].font_name = "Arial"  -----------> third way 
```

对于多行：

```
sheet["A1:E1"].each { |c| c.font_name = "Arial" } -------> fourth way

@arial_fontfamily = s.add_style :b => 'true', :sz => 10,  :font_name =>   'Arial'  --> small css definition  -------> fifth way

sheet["A1:E1"].each { |c| c.style = @arial_fontfamily  } -------> sixth way

sheet.add_row ["some data", "","","", "", "","",""], :sz => 9,:height => 16,:style => @arial_fontfamily   -------------> seventh way 
```

# jetty - 在 Servlet 应用程序中使用 Guice 发布 JAX-WS Web 服务

> ID：15901617
> 
> 赞同：2
> 
> 时间：2013-04-09T12:14:50.667
> 
> 标签：jetty, jax-rs, guice, servlet-listeners

我们目前正在将现有的 JBoss EJB 应用程序移植到一个纯 servlet 解决方案，该解决方案应该在 Jetty 中运行（我们目前使用的是版本 6，但版本大多无关紧要）并且使用 Guice 进行依赖注入和 AOP。尽管存在巨大的复杂性，但到目前为止，我们已经相当成功。持久层和我们的大多数服务都已启动并正在运行，包括 JAX-RS REST 服务。

但是，当我们开始移植现有的 JAX-WS SOAP 服务时，我们遇到了困难。我们已经花了大约一天的时间在网上搜索，似乎很多人在几年前遇到了同样的问题。但是，似乎没有人提供一个好的解决方案。

## 有关我们架构的更多详细信息

我们使用[GuiceServletContextListener](https://code.google.com/p/google-guice/wiki/ServletModule)来创建配置了所有模块的全局 Injector。至关重要的是，我们只有一个 Injector，因为我们需要支持单例。

据我们所知，具体的 JAX-WS 实现并不相关。我们目前正在试验 Metro，但我们也可以使用 Apache-CXF。

## 迄今为止评估的方法

[这篇 stackoverflow 帖子](https://stackoverflow.com/a/7732878/730104)建议手动创建服务，然后通过 Endpoint.publish(...) 发布它。但是，这不是一个可接受的解决方案，因为它不使用 Jetty 容器，而是启动自己的 HTTP 服务器。

```
final Module module = new HelloModule();
final Injector injector = Guice.createInjector(module);
final HelloService helloService = injector.getInstance(HelloService.class);
Endpoint.publish("http://localhost:8080/helloService", helloService); 
```

[同一个 stackoverflow 帖子](https://stackoverflow.com/a/7732878/730104)还建议使用[JAX-WS Guice 集成](http://jax-ws-commons.java.net/guice/)，这通常听起来是一个好方法。但是，此解决方案创建了自己的 Injector，因此与我们基于 GuiceServletContextListener 的方法不兼容。我们发现[这个线程](https://groups.google.com/d/msg/google-guice/_f-R3Wz6OT8/bqIk_9nDaZUJ)讨论了完全相同的问题，但似乎没有人有解决方案。

我们还研究了[guice-cxf](https://code.google.com/p/guice-cxf/)，它应该使 Apache-CXF 轻松集成到 Guice 应用程序中，但据我们了解描述，目前这仅适用于 JAX-RS REST 服务。

为了不浪费更多时间并试图重新发明轮子，我们在这里发布了这个问题，希望其他人已经经历过这个地狱，可以给我们一些指示，甚至可能是一些工作示例。任何帮助是极大的赞赏。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-07-26T12:25:38.010

我们最终通过扩展[CXFNonSpringServlet](https://cxf.apache.org/javadoc/latest/org/apache/cxf/transport/servlet/CXFNonSpringServlet.html)非常优雅地解决了这个问题。您只需覆盖 loadBus() 方法，您可以在其中配置所有服务端点。

```
@Singleton
public class SoapServlet extends CXFNonSpringServlet {
    private static final long serialVersionUID = 1L;

    private final SomeFacade someFacade;

    @Inject
    SoapMachineServlet(final SomeFacade someFacade) {
        this.someFacade = someFacade;
    }

    @Override
    public void loadBus(ServletConfig servletConfig) throws ServletException {
        super.loadBus(servletConfig);

        Bus bus = getBus();
        BusFactory.setDefaultBus(bus);
        Endpoint.publish("/SomeFacade", someFacade);
    }
} 
```

类本身就是一个简单的 servlet，然后可以使用[ServletModule](https://code.google.com/p/google-guice/wiki/ServletModule)绑定它：

```
public class SomeModule extends ServletModule {
    @Override
    protected void configureServlets() {
        serve("/some/path*").with(SoapServlet.class);
    }
} 
```

# asp.net - 从下拉列表中获取文本

> ID：15901620
> 
> 赞同：0
> 
> 时间：2013-04-09T12:14:59.400
> 
> 标签：asp.net

当我选择一个项目时，我只想获取文本。我该怎么做？

```
 <asp:DropDownList ID="dropd" runat="server">
       <asp:ListItem Value="0" Text="text1"></asp:ListItem>
       <asp:ListItem Value="1" Text="text2"></asp:ListItem>
       <asp:ListItem Value="2" Text="text3"></asp:ListItem>
       <asp:ListItem Value="3" Text="text4"></asp:ListItem>
 </asp:DropDownList> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T12:20:38.853

你可以使用

```
dropd.SelectedItem.Text 
```

在哪种情况下，您希望在 PageLoad 或 Dropdown SelectedIndexChanged 处获取下拉列表的选定文本值。如果您想要在 SelectedIndexChanged 上，则将下拉列表的**AutoPostBack**属性设置为**True**

```
<asp:DropDownList ID="dropd" runat="server" AutoPostBack="true" >
       <asp:ListItem Value="0" Text="text1"></asp:ListItem>
       <asp:ListItem Value="1" Text="text2"></asp:ListItem>
       <asp:ListItem Value="2" Text="text3"></asp:ListItem>
       <asp:ListItem Value="3" Text="text4"></asp:ListItem>
 </asp:DropDownList> 
```

**代码：-**

```
protected void dropd_SelectedIndexChanged(object sender, EventArgs e)
{
string Getvalue = dropd.SelectedItem.Text;
} 
```

# c# - 无法调用表单和类，无法使用 Properties.Settings

> ID：15901621
> 
> 赞同：1
> 
> 时间：2013-04-09T12:15:03.107
> 
> 标签：c#, visual-studio-2012, syntax-error, reinstall

最近 2 天 Visual Studio 做得很奇怪，我已经重新安装了它，但它并没有解决我的问题。

我不能调用其他类或表单：

课程： [http ://snag.gy/7W4dl.jpg](http://snag.gy/7W4dl.jpg)

表格： [http ://snag.gy/lfm8Y.jpg](http://snag.gy/lfm8Y.jpg)

它不允许我使用 Properties.Settings ： [http ://snag.gy/W3VJn.jpg](http://snag.gy/W3VJn.jpg)

代码开放模组形式：

```
private void button2_Click_1(object sender, EventArgs e)
{
    Mods modsForm = new Mods();
    modsForm.ShowDialog();
} 
```

使用 Properties.Settings 和调用类事物的代码

```
if (SAVE_UN_CHECK.Checked)
{
    if (SAVE_UN_CHECK.Text != "")
    {
        string clearText = SAVE_UN_CHECK.Text.Trim();
        string cipherText = CryptorEngine.Encrypt(clearText, true);

        //Save textbox text to file
        Properties.Settings.Default.USER_USERNAME = cipherText;
        USERNAME_TEXT.Text = cipherText;
    }
} 
```

该怎么办？我从来没有遇到过这些奇怪的错误。我已经重新安装了 Visual Studio 2012 和它的所有其他东西，比如 SQL Server 的东西。但它并没有解决问题。

这些是使用语句：

```
using System;
using System.Collections.Generic;
using System.Drawing;
using System.Windows.Forms;
using System.Threading;
using System.ComponentModel;
using System.Diagnostics;
using System.IO;
using System.Net;
using System.Data;
using System.Linq;
using System.Text;
using System.Threading.Tasks; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-09T12:23:17.123

您必须添加对具有`CryptorEngine` 和`Mods`类型的 dll 的引用。右键单击项目并选择`Add Reference...`.

然后，您必须确保`using`文件顶部的语句指向定义`CryptorEngine`和`Mods`定义的名称空间。

# cassandra - Added column does not sort as the last column

> ID：15901622
> 
> 赞同：1
> 
> 时间：2013-04-09T12:15:19.933
> 
> 标签：cassandra

I just upgraded from Cassandra 1.1.7 to 1.2.3 and im now seeing a lot of the following error in my output.log, cant find much on the web about it:

ERROR 11:56:01,317 Exception in thread Thread[ReadStage:7236,5,main] java.lang.AssertionError: Added column does not sort as the last column at org.apache.cassandra.db.ArrayBackedSortedColumns.addColumn(ArrayBackedSortedColumns.java:131) at org.apache.cassandra.db.AbstractColumnContainer.addColumn(AbstractColumnContainer.java:109) at org.apache.cassandra.db.AbstractColumnContainer.addColumn(AbstractColumnContainer.java:104) at org.apache.cassandra.db.filter.SliceQueryFilter.collectReducedColumns(SliceQueryFilter.java:171) at org.apache.cassandra.db.filter.QueryFilter.collateColumns(QueryFilter.java:136) at org.apache.cassandra.db.filter.QueryFilter.collateOnDiskAtom(QueryFilter.java:84) at org.apache.cassandra.db.CollationController.collectAllData(CollationController.java:294) at org.apache.cassandra.db.CollationController.getTopLevelColumns(CollationController.java:65) at org.apache.cassandra.db.ColumnFamilyStore.getTopLevelColumns(ColumnFamilyStore.java:1363) at org.apache.cassandra.db.ColumnFamilyStore.getColumnFamily(ColumnFamilyStore.java:1220) at org.apache.cassandra.db.ColumnFamilyStore.getColumnFamily(ColumnFamilyStore.java:1132) at org.apache.cassandra.db.Table.getRow(Table.java:348) at org.apache.cassandra.db.SliceFromReadCommand.getRow(SliceFromReadCommand.java:70) at org.apache.cassandra.service.StorageProxy$LocalReadRunnable.runMayThrow(StorageProxy.java:1052) at org.apache.cassandra.service.StorageProxy$DroppableRunnable.run(StorageProxy.java:1578) at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908) at java.lang.Thread.run(Thread.java:662)

I dont know Java and im struggling to identify exactly which query is causing this, is there a way to trace this back to a specific query?

Any help appreciated.

Sam

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T18:54:23.467

您可以启用概率跟踪 ( [http://www.datastax.com/dev/blog/advanced-request-tracing-in-cassandra-1-2](http://www.datastax.com/dev/blog/advanced-request-tracing-in-cassandra-1-2) ) 并检查与此异常匹配的活动条目。不幸的是，您需要来自[https://issues.apache.org/jira/browse/CASSANDRA-5447](https://issues.apache.org/jira/browse/CASSANDRA-5447)的补丁来包含异常。

# sql-server - Sum of count records

> ID：15901625
> 
> 赞同：0
> 
> 时间：2013-04-09T12:15:22.387
> 
> 标签：sql-server, sql-server-2008, sql-server-2005, sql-server-2008-r2

I am using sql server 2008 R2\. I am having a table in database that contains data regarding patients that are of different status like Active, Completed, Inactive etc. I am asked to get the patients with "Active" status group by date.

I have created following query :

```
SELECT COUNT(*) AS TotalActivePatients, CONVERT(VARCHAR(10), CreatedDtUTC,111) AS CreatedDtUTC
FROM TablePatient 
WHERE MonitoringStatus LIKE 'Active' 
AND IsDeleted=0
GROUP BY CONVERT(VARCHAR(10), CreatedDtUTC,111) 
```

and that gives me the result like below :

```
TotalActivePatients CreatedDtUTC
1                   2013/02/24
2                   2013/02/25
4                   2013/02/28
4                   2013/03/01
1                   2013/03/06
1                   2013/03/10
3                   2013/03/11
2                   2013/03/14
3                   2013/03/15
2                   2013/03/16 
```

But, It is giving me the number of active patients on specific date. I want the sum of total active patients upto that specific date.

Any solution?

Thanks

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-11-05T15:57:59.467

正确答案如下：

```
SELECT  DISTINCT
     CONVERT(VARCHAR(10), CreatedDtUTC,111) AS CreatedDtUTC,
     COUNT(1) OVER (PARTITION BY CONVERT(VARCHAR(10), CreatedDtUTC,111)), 

FROM    TablePatient 
WHERE   MonitoringStatus = 'Active' 
AND     IsDeleted = 0
ORDER BY 1 
```

根据 using`OVER`子句的附加信息可以在这里找到：[http ://technet.microsoft.com/en-us/library/ms189461.aspx](http://technet.microsoft.com/en-us/library/ms189461.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T14:19:13.623

这将为您提供运行总数...

```
SELECT  DISTINCT COUNT(1) OVER (ORDER BY CONVERT(VARCHAR(10), CreatedDtUTC,111)), 
        CONVERT(VARCHAR(10), CreatedDtUTC,111) AS CreatedDtUTC
FROM    TablePatient 
WHERE   MonitoringStatus = 'Active' 
AND     IsDeleted = 0 
```

# python - Open a file browser in a specific folder with Python

> ID：15901627
> 
> 赞同：0
> 
> 时间：2013-04-09T12:15:35.693
> 
> 标签：python, explorer, blender, file-browser

I'm a french guy, so excuse me if my English is not very good. Here is my problem : I'm using python to make a script that works with Blender, and I need to import an .obj file. I already have the importer, but I enter the entire filepath.

It's look like that :

```
bpy.ops.import_scene.obj(filepath='C:/Users/MarcPro/Desktop/testauto/03-Reconstruction/Data/Tile/Tile.obj', axis_forward='Y', axis_up='Z') 
```

Instead, I would like to open a file browser (for example *explorer.exe*), go search for the .obj file and select it for bpy.ops.import_scene.obj importer.

Do you have any idea please ?

Thanks,

Ero.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T12:22:38.430

在我看来，这不是一个非常适合 Blender 的方法。

我认为您想要做的是使用内置的 Blender 文件选择对话框来选择文件。

我不确定，但这可能适用于[`bpy.types.WindowManager.fileselect_add`](http://www.blender.org/documentation/blender_python_api_2_66_4/bpy.types.WindowManager.html?highlight=file%20selector#bpy.types.WindowManager.fileselect_add).

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2013-04-09T12:18:57.833

您可以使用 Tkinter 在 python 中 [选择文件：使用简单对话框在 Python 中选择文件](https://stackoverflow.com/questions/3579568/choosing-a-file-in-python-simple-gui)

```
from Tkinter import Tk
from tkFileDialog import askopenfilename

Tk().withdraw() # we don't want a full GUI, so keep the root window from appearing
filename = askopenfilename() # show an "Open" dialog box and return the path to the selected file
print(filename) 
```

# java - 托管 Bean - 仅在页面加载时执行代码

> ID：15901629
> 
> 赞同：3
> 
> 时间：2013-04-09T12:15:40.373
> 
> 标签：java, jsf, jsf-2, primefaces, javabeans

我很好奇如何让 JSF 仅*在页面加载*时加载某些业务逻辑，而**不是**在我单击按钮 ( `ActionEvent`) 或执行`AjaxBehaviorEvent`.

我的 bean`@RequestScoped`使用 JSF 2.1 和 Primefaces。

因为`ActionEvent`and`AjaxBehaviorEvent`之后被调用，所以我不知道如何告诉 Bean`@PostConstruct`因为事件而调用它。

是因为 bean 放置在错误的范围内吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-09T12:23:15.763

> *~~仅在页面加载~~GET 请求上执行代码*

[`FacesContext#isPostback()`](http://docs.oracle.com/javaee/6/api/javax/faces/context/FacesContext.html#isPostback%28%29)如果返回，只需签入（后）构造函数`false`。

```
@PostConstruct
public void init() {
    if (!FacesContext.getCurrentInstance().isPostback()) {
        // ...
    }
} 
```

在即将到来的 JSF 2.2 中，您可以顺便使用 new`<f:viewAction>`来代替。

```
<f:viewAction action="#{bean.init}" onPostback="false" /> 
```

* * *

> *是因为 bean 放置在错误的范围内吗？*

取决于具体的功能要求。另请参阅[如何选择正确的 bean 范围？](https://stackoverflow.com/questions/7031885/how-to-choose-the-right-bean-scope/7031941#7031941)

* * *

> *我在使用 ViewScoped 时遇到了严重问题。它总是需要一个序列化的类，我觉得这很烦人；）——此外，它还会导致“java.sql”出现轻微问题*

这表明您自己的代码设计而不是视图范围存在问题。JDBC 代码不属于 JSF 托管 bean。JDBC 资源（例如`Connection`等[）永远不](https://stackoverflow.com/questions/9428573/is-it-safe-to-use-a-static-java-sql-connection-instance-in-a-multithreaded-syste)应该被声明为实例变量。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-09T12:23:56.617

在从客户端发送到服务器的每个请求上都会重新创建一个 RequestScoped bean，这就是为什么每次单击按钮时都会执行 @PostConstruct 中的逻辑，我认为您应该改用 ViewScoped bean，它是在每个页面加载时创建的。

您可以在此链接上找到由 BalusC 编写的关于此主题的好教程：http: [//balusc.blogspot.com/2011/09/communication-in-jsf-20.html#ManagedBeanScopes](http://balusc.blogspot.com/2011/09/communication-in-jsf-20.html#ManagedBeanScopes)

# java - 无法共享包含“未知组”作为协作者的文件

> ID：15901630
> 
> 赞同：0
> 
> 时间：2013-04-09T12:15:40.460
> 
> 标签：java, google-drive-api

在 GDrive 我有一个文件，与两个同事和一个小组共享。该组有点奇怪，因为它的名称是-“未知组”。请看下面的PS，它显示了它的样子。

![在此处输入图像描述](https://i.stack.imgur.com/GVzQb.png)

现在，我想使用[Permissions: insert method](https://developers.google.com/drive/v2/reference/permissions/insert)与其他同事共享此文件。我有一个问题，因为我总是收到异常。请参阅下面的 PS，其中显示了 Google API 请求和响应： ![在此处输入图像描述](https://i.stack.imgur.com/O2UEj.png)

你能告诉我，为什么我的合作者列表中有“未知组”吗？我不记得我之前是否添加了一些组。也许我添加了一个组，有人使用 Google 管理面板将其从域中删除，现在我将其作为“未知组”。是否可以？

为什么我无法添加任何其他权限？我有 5 个具有“相似”组的文件。对于所有这一切，我收到了同样的例外。对于其他不包含“ghost”组共享方法的文件，可以正常工作。

**编辑**
我已经检查了[Permissions: list](https://developers.google.com/drive/v2/reference/permissions/list)方法，它也不起作用。我收到相同的“500 内部服务器错误”消息。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-22T13:10:45.470

我花了几天时间测试这个功能，我注意到一切正常。尽管发生了异常 - 权限被授予相应的文件。我使用[Documents List API version 3.0](https://developers.google.com/google-apps/documents-list/)确认它。

```
try {
    driveApi.grantPermission(userEmail, fileId, permission);
} catch(GoogleJsonResponseException cause) {
    if (documentsListApi.listPermissions(userEmail, fileId).contains(permission)) {
        //OK
    } else {
        throw cause;
    }
} 
```

对我来说，它完美无缺。请在修复此错误时告诉我。我将删除这个额外的确认。

# java - 在 Java 中回滚“软”事务的方法

> ID：15901631
> 
> 赞同：0
> 
> 时间：2013-04-09T12:15:43.983
> 
> 标签：java, transactions, rollback

当我说“软”事务时，我的意思是不涉及某些数据库中的持久性，而只是逻辑对象修改。这是故事。

普通的 JAVA 应用程序，没有框架，可能有很多线程。

1.  Object *Ob*，在他的单独线程中，开始**doSomething()**。在 doSomething() 中，此对象成员和（可能）其他对象被修改。
2.  Ob 的线程被某个事件处理程序中断。有人想让 Ob 做**doSomethingElse()**而不是 doSomething()！
3.  Ob 完成 doSomething() 并检查他的线程是否被中断。如果是，我希望他：
    a）完全撤消（*回滚*）doSomething（），
    b）doSomethingElse（）

无需跟踪 doSomething() 中所做的任何特定更改，也因为我可以为每个对象设置许多不同的 doSomething 方法。我没有使用特定的框架，我想让它保持“轻量级”，比如说。

有没有办法实现这种行为？
提前非常感谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-09T12:29:19.890

你可以看看[Memento Pattern](http://en.wikipedia.org/wiki/Memento_pattern)：

> 备忘录模式是一种软件设计模式，它提供了将对象恢复到其先前状态（通过回滚撤消）的能力。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-09T12:33:04.230

是的，这样的功能是可能的，并且经常在例如 ORM 框架或 servlet 容器中使用。ORM 框架大多提供某种实体缓存，其中存储了预填充的 Java 对象。对这些对象的修改必须与 DB 事务同步。一些 servlet 容器还提供对 HTTP 会话的事务访问。例如，请求期间的修改被应用于会话的副本，并且只有在请求成功或被丢弃时才会永久应用。

通常，此类功能基于在启动事务时制作状态副本，在事务期间处理副本并在提交事务时用修改后的副本替换永久状态，如果事务回滚则分别丢弃副本。您可能还需要额外的功能来检查甚至禁止并发修改。

由于 Java 中没有“标准”方法来制作对象副本，因此您必须自己做一些工作，并且有几种可能的方法：

*   实现`Cloneable`，但确保 clone 方法返回对象的深层副本而不是默认的浅层副本（出站引用只是“移动”到新对象，而不是制作被引用对象的真实副本）。
*   使用序列化。如果您的对象是可序列化的，您可以将例如序列化为 a`ByteArrayOutputStream`并读回对象以获取副本。
*   实现您自己的基于反射的复制功能。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-09T12:22:56.833

Java 中没有内置工具可以执行此操作。因此，您必须手动执行此操作。主要是关于复制受影响的对象状态并在回滚时恢复它们。

相关问题：

[POJO 的事务](https://stackoverflow.com/questions/10732726/transaction-for-pojos)

# jquery - jQuery根据窗口宽度设置值

> ID：15901638
> 
> 赞同：1
> 
> 时间：2013-04-09T12:16:16.837
> 
> 标签：jquery, window, width

对于初学者; 我是一个大的 jQuery/Javascript 新手。我正在制作一个包含 SlidesJS 滑块的响应式网站。我的根本问题是我不会根据窗口宽度更改滑块的高度：

如果窗口宽度 < 767px 将高度设置为 600。否则将高度设置为 400。

您使用此 jQuery 代码设置 SlidesJS 值（我想要灵活的高度）：

```
$(function() {
$('#slides').slidesjs({
width: 940,
height: 400,
play: {
active: true,
auto: true,
interval: 4000,
swap: true
}
});
}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T13:11:50.227

这应该工作

```
$(function() {
    $('#slides').slidesjs({
        width: 940,
        height: setWindowHeight(),
        play: {
            active: true,
            auto: true,
            interval: 4000,
            swap: true
        }
    });
});

function setWindowHeight() {
    return ($(window).width() < 767) ? 600 : 400;   
} 
```

# jquery - jQuery slide the whole page

> ID：15901639
> 
> 赞同：-1
> 
> 时间：2013-04-09T12:16:21.850
> 
> 标签：jquery, button, slide

I have seen this site on the internet: [http://etinspires.com/](http://etinspires.com/) on the right side there is a "+" button ... when i click the button the whole side slides from right to left ... can somebody tell me how it works? I have googled but there is no code snippets that can explain me how it works ... in the source code of the site I didn't find the exact source code that I can learn how it works.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T12:22:56.640

基础知识

```
$('#YourButton').click(function(e) {
      $('#foo').animate({
          'left' : '30px'
      });                 
}); 
```

**[小提琴](http://jsfiddle.net/eyMfY/)**

# mysql - 按序列化字符串中的值排序

> ID：15901643
> 
> 赞同：0
> 
> 时间：2013-04-09T12:16:29.887
> 
> 标签：mysql

我有一个包含这样的序列化字符串的数据库：

```
[gundealer|0
mayor|0
umlf|0
sbgfboss|0
ems|0
trader|0
thief|0
cp|0
umflboss|0
guard|0
sbgf|0
] 
```

有没有一种可能的方法来查询这个序列化字符串的子项？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T12:48:35.670

她用演示的方式去做：-

```
SELECT SerializeTest.*
FROM SerializeTest 
INNER JOIN (SELECT SerializeTest.Id, SUBSTRING_INDEX( SUBSTRING_INDEX( SUBSTRING( SomeField, 2, LENGTH( SomeField ) -2 ) , '|', anInt +1 ) , '|', -1 ) AS SortValue
FROM SerializeTest, 
(SELECT a.i+b.i*10 AS anInt FROM integers a, integers b) Sub1
WHERE MOD(anInt, 2) =1
AND anInt <=  (LENGTH(SomeField) - LENGTH(REPLACE(SomeField,'|', '' )))
AND SUBSTRING_INDEX(SUBSTRING_INDEX(SUBSTRING(SomeField,2, LENGTH(SomeField) -2), '|', anInt), '|', -1) = 'ems') Sub2
ON SerializeTest.Id = Sub2.Id
ORDER BY SortValue 
```

这依赖于一个名为 integers 的表，其中包含一个名为 i 的列和 10 行，其值从 0 到 9。这与自身连接以获得整数范围（您可以轻松扩展此部分以获得更大范围的数字，具体取决于序列化数组中的最大值数）。

该整数用于查找 | 分隔值的值，并从中提取键值后面的值。注意我假设每个值之间都有另一个管道。即，您的数据将类似于：-

```
INSERT INTO `SerializeTest` (`Id`, `SomeField`) VALUES
(1, '[gundealer|1|mayor|0|umlf|3|sbgfboss|0|ems|5|trader|0|thief|0|cp|0|umflboss|0|guard|0|sbgf|0]'),
(2, '[gundealer|1|mayor|0|umlf|3|sbgfboss|0|ems|9|trader|0|thief|0|cp|0|umflboss|0|guard|0|sbgf|0]'),
(3, '[gundealer|1|mayor|0|umlf|3|sbgfboss|0|ems|8|trader|0|thief|0|cp|0|umflboss|0|guard|0|sbgf|0]'); 
```

请注意，我真的不建议您在实时环境中使用它。不仅因为我怀疑性能会迅速下降，而且因为它不是很容易理解

# java - How to make web requests using custom Http verbs in Android and attaching a JSON string

> ID：15901644
> 
> 赞同：-1
> 
> 时间：2013-04-09T12:16:32.350
> 
> 标签：java, android, json, web-services, rest

This is a question regarding making web requests using Http verbs other than GET,POST,DELETE,PUT etc in the Android platform. I can perfectly do a post in my requests using HttpPost and even attach a JSON string to it.However if I have a custom Http verb , Android does not support it directly via existing api's,though I could do that in iOS using setRequestMethod.I did come across HttpURLConnection class that lets me set the request method,however it limits me to POST,GET,DELETE,PUT and throws up an error if any other Http verb is used. I understand that classes like HttpPost,HttpGet,HttpPut etc extend HttpEntityEnclosingRequest class which in turn extends HttpRequestBase and that my solution would be around tweaking these classes and eventually attaching a JSON string(just like we attach JSON strings to a HttpPost object).

I just can't figure out how to do it.Kindly help.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-17T09:30:15.753

现在，感谢一位专家同事，这就是答案。一个需要子类`HttpEntityEnclosingRequestBase`。

转到[此链接](http://hc.apache.org/httpcomponents-client-ga/httpclient/apidocs/org/apache/http/client/methods/HttpPost.html)以了解实现。

```
public class HttpEnroll extends HttpEntityEnclosingRequestBase {

  public final static String METHOD_NAME = "ENROLL";

  public HttpEnroll() {
    super();
  }

  public HttpEnroll(final URI uri) {
    super();
    setURI(uri);
  }

  /**
   * @throws IllegalArgumentException if the uri is invalid.
   */
  public HttpEnroll(final String uri) {
    super();
    setURI(URI.create(uri));
  }

  @Override
  public String getMethod() {
    return METHOD_NAME;
  }

} 
```

然后`HttpEnroll`像`HttpPost`.

关于附加 JSON，很多人已经回答了这个问题。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-04-09T12:23:01.537

```
JSONArray uploadArray = new JSONArray();
String URL = "http://your -url";
                String upString=uploadArray.toString();
                upString.replace("\\", "");
                Log.e("Upload Request", upString);
                String strinObjRecv = HttpClientNew.SendHttpPost(URL,
                        upString); 
```

***HttpClientNew.java***

```
public class HttpClientNew {
    private static final String TAG = "HttpClient";

    public static String SendHttpPost(String URL, String  jsonObjSendString) {

        try {
            DefaultHttpClient httpclient = new DefaultHttpClient();
            HttpPost httpPostRequest = new HttpPost(URL);

            StringEntity se;
            se = new StringEntity(jsonObjSendString);
            Log.e("wtf1",EntityUtils.toString(se,HTTP.UTF_8));

            se = new StringEntity(jsonObjSendString,HTTP.UTF_8);
            Log.e("wtf2",EntityUtils.toString(se,HTTP.UTF_8));

            // Set HTTP parameters
            httpPostRequest.setEntity(se);
            httpPostRequest.setHeader("Accept", "application/json");
            httpPostRequest.setHeader("Content-type", "application/json");
            //httpPostRequest.setHeader("Accept-Encoding", "gzip"); // only set this parameter if you would like to use gzip compression

            long t = System.currentTimeMillis();
            HttpResponse response = (HttpResponse) httpclient.execute(httpPostRequest);
            Log.i(TAG, "HTTPResponse received in [" + (System.currentTimeMillis()-t) + "ms]");

            // Get hold of the response entity (-> the data):
            HttpEntity entity = response.getEntity();

            if (entity != null) {
                // Read the content stream
                InputStream instream = entity.getContent();
                Header contentEncoding = response.getFirstHeader("Content-Encoding");
                if (contentEncoding != null && contentEncoding.getValue().equalsIgnoreCase("gzip")) {
                    instream = new GZIPInputStream(instream);
                }

                // convert content stream to a String
                String resultString= convertStreamToString(instream);
                instream.close();
                //resultString = resultString.substring(1,resultString.length()-1); // remove wrapping "[" and "]"

                Log.i(TAG,"<Respose>\n"+resultString+"\n</JSONObject>\n"+response.getStatusLine().getStatusCode());

                return resultString;
            } 

        }
        catch (Exception e)
        {
            // More about HTTP exception handling in another tutorial.
            // For now we just print the stack trace.
            e.printStackTrace();
        }
        return null;
    }

    private static String convertStreamToString(InputStream is) {

        BufferedReader reader = new BufferedReader(new InputStreamReader(is));
        StringBuilder sb = new StringBuilder();

        String line = null;
        try {
            while ((line = reader.readLine()) != null) {
                sb.append(line + "\n");
            }
        } catch (IOException e) {
            e.printStackTrace();
        } finally {
            try {
                is.close();
            } catch (IOException e) {
                e.printStackTrace();
            }
        }
        return sb.toString();
    }

} 
```

# sql - Find out missing date

> ID：15901645
> 
> 赞同：3
> 
> 时间：2013-04-09T12:16:32.443
> 
> 标签：sql, sql-server-2008-r2

I use SQL Server 2008R2, I need to findout the missing dates.

```
 ID College  Dept   JoiningDate
  1 SAEC     CSE    1/2/2008
  2 MSEC     EEE    4/2/2008
  3 GOV      ECE    8/2/2008
  4 JKP      CSE    9/2/2008
  5 VLM      CSE    10/2/2008
  6 PTR      CSE    13/2/2008 
```

Output

```
JoiningDate
2/2/2008
3/2/2008
5/2/2008
6/2/2008
7/2/2008
11/2/2008
12/2/2008 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-09T12:45:00.280

我已经在评论中为您提供了[相同类型的问题链接](https://stackoverflow.com/questions/12890967/show-all-dates-data-between-two-dates-if-no-row-exists-for-particular-date-then)，如果您仍然有困惑，您可以检查如下

```
;with d(date) as (
    select cast('2/1/2008' as datetime)
    union all
    select date+1
    from d
    where date < '2/13/2008'
)

select  d.date CDate
from d
left join CollegeDate t
on t.JoiningDate = d.date
WHERE ID is null 
order by d.date 
```

[SQL 小提琴链接](http://www.sqlfiddle.com/#!3/a8b97/1)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T13:42:32.957

试试这个脚本，它会在不指定常量的情况下找出缺失的日期 -

```
DECLARE @CollegeDate TABLE 
(
  College NVARCHAR(10)
, Dept NVARCHAR(10)
, JoiningDate DATETIME
)

INSERT INTO @CollegeDate (College, Dept, JoiningDate)
VALUES 
('SAEC', 'CSE', '2/1/2008'),
('MSEC', 'EEE', '2/4/2008'),
('GOV', 'ECE', '2/8/2008'),
('JKP', 'CSE', '2/9/2008'),
('VLM', 'CSE', '2/10/2008'),
('PTR', 'CSE', '2/13/2008')

;WITH dateout AS 
(
SELECT 
   JoiningDate = MIN(JoiningDate)
 , MaxJoiningDate = MAX(JoiningDate)
FROM @CollegeDate

UNION ALL

SELECT 
   JoiningDate + 1
 , MaxJoiningDate
FROM dateout
WHERE JoiningDate < MaxJoiningDate
)

SELECT d.JoiningDate
FROM dateout d
WHERE d.JoiningDate NOT IN (SELECT c.JoiningDate FROM @CollegeDate c)
ORDER BY d.JoiningDate 
```

# java - Progress monitor (Indeterminate) to show execution happens at backend

> ID：15901648
> 
> 赞同：2
> 
> 时间：2013-04-09T12:16:39.257
> 
> 标签：java, multithreading, process, progress-bar, processbuilder

I am executing an external process at the backend using Processbuilder in my java program.I am using process.waitFor to get the exit status of the process. The backend process 'll take time which depends upon the input provided.so i need to make a progressbar for indeterminate time until the process completes. This is just to notify the user that there is a process going on at back end.

```
 try {
        button.setEnabled(false);
        this.progressbar.setVisible(true);
        this.progressbar.setIndeterminate(true);
        }
        catch(Exception e)
        {
            e.printStackTrace();
        }
        perform(this);
    }
}                                    

public void perform(JFrame f)
{
            String cmd[]={"cmd", "/c","a.exe:};
            ProcessBuilder pb = new ProcessBuilder(cmd);
            pb.directory(new File(dir_path));
            pb.redirectErrorStream(true);
            try {
                    p = pb.start();
                } catch (IOException ex) {
                    Logger.getLogger(execution.class.getName()).log(Level.SEVERE, null, ex);
                       }
            try
            {
               int exitVal = p.waitFor();
               if(exitVal>0)
               {
                   this.progressbar.setVisible(false);
                   this.progressbar.setIndeterminate(false);
                   this.button.setEnabled(true);
               }
               if(p.waitFor()==0)
               {
                   this.progressbar.setVisible(false);
                   this.progressbar.setIndeterminate(false);

                   JOptionPane.showMessageDialog(f,"Scan completed successfully.");
               }
             } catch (InterruptedException ex) {
    Logger.getLogger(execution.class.getName()).log(Level.SEVERE, null, ex);
}
} 
```

Button is the name of my button which invokes the call. But the problem I'm facing is the function call perform is made without executing these statements.

```
 try {
        button.setEnabled(false);
        this.progressbar.setVisible(true);
        this.progressbar.setIndeterminate(true);
        }
        catch(Exception e)
        {
            e.printStackTrace();
        } 
```

Button is disabled after the execution of that function. 1) may i know why that happens? 2) may i know the solution to make progressbar indicating the backend progress until it completes?

Thanks in advance.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-09T12:29:25.387

我建议使用`SwingWorker`. 它是为诸如此类的问题而设计的。这是我的代码库中一些代码的片段（`vui`是一个 JFrame）：

```
vui.clearOutput();
vui.setOutput("Waiting for items to copy...\n"
            + "This could take several minutes. Please standby...");
vui.disableExit();
vui.disableInput();
vui.disableNext();
vui.showProgressBar();

// make thread so you can disable all options when zipping and enable progress bar
SwingWorker transferWorker = new SwingWorker() {
    @Override
    protected Void doInBackground() throws Exception {
        try {
            Process p = Runtime.getRuntime().exec("resources/bin/transferCopier.bat");

            StreamGobbler errorGobbler = new StreamGobbler(p.getErrorStream(), "ERROR");
            StreamGobbler outputGobbler = new StreamGobbler(p.getInputStream(), "OUTPUT");
            errorGobbler.start();
            outputGobbler.start();

            p.waitFor();
        } catch (IOException ex) {
            Logger.getLogger(VaderController.class.getName()).log(Level.SEVERE, null, ex);
        } catch (InterruptedException ie) {
            Logger.getLogger(VaderController.class.getName()).log(Level.SEVERE, null, ie);
        }
        return null;
    }
    @Override
    public void done() {
        vui.hideProgressBar();
        vui.clearOutput();
        vui.setOutput("Transfer Complete!\n\n"
                    + "Push \"Exit\" to quit.\n\n");
        vui.enableExit();
        mode = VaderMode.END;
    }
};
transferWorker.execute(); 
```

当`transferWorker.execute();`被执行时，`doInBackground()`被调用。一旦`doInBackground()`完成计算，`done()`然后调用。`done()`是您对 GUI 进行任何最终更新的地方。

关于我上面的代码要注意的关键事项是，我在执行之前启用了进度条，`SwingWorker`然后当`SwingWorker`完成执行时，我禁用了进度条。

资源：

[http://docs.oracle.com/javase/6/docs/api/javax/swing/SwingWorker.html](http://docs.oracle.com/javase/6/docs/api/javax/swing/SwingWorker.html) [http://docs.oracle.com/javase/tutorial/uiswing/concurrency/worker.html](http://docs.oracle.com/javase/tutorial/uiswing/concurrency/worker.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T12:25:22.823

它被执行，但它与 GUI 在同一个线程中执行，因此视图不会更新。

在显示 ProgressBar 并禁用 Button 后，启动一个等待进程完成的可运行文件。

简单地包装`perform()`在一个 Runnable 中。

未经测试的代码：而不是`perform(this)`你写：

```
new Thread(new Runnable() { 
    public void run() {
        perform(YourClassName.this);
    }
}).start(); 
```

# c# - Check if file with name exists and than save with other name

> ID：15901650
> 
> 赞同：0
> 
> 时间：2013-04-09T12:16:41.197
> 
> 标签：c#, sharepoint, outlook, save, filenames

I'm currently developing an Outlook Addin which saves e-mail to sharepoint online, but before it saves them i need to check if a file with the same name already exists so it doesn't overwrite anything, here is the method which saves the file:

```
 {
            currExplorer = OutlookApp.ActiveExplorer();
            selection = currExplorer.Selection;
            if (selection != null)
            {
                SharePointHelper spHelper = new SharePointHelper("LoginName", "Password", "Url/FolderDirectory");
                if (selection.Count > 0)
                {
                    for (int i = 1; i <= selection.Count; i++)
                    {
                        var item = selection[i] as Outlook.MailItem;
                        if (item == null) 
                            continue;

                        // Check for attachments and save
                        currMail = item;

                        string fileName = String.Format("{0} - {1}.msg", SafeFileName(currMail.SenderName), SafeFileName(currMail.Subject));
                        string filePath = Path.Combine(Environment.GetFolderPath(Environment.SpecialFolder.MyDocuments), fileName);
                        currMail.SaveAs(filePath, Outlook.OlSaveAsType.olMSG);

                        System.Net.HttpStatusCode status = spHelper.UploadFile(filePath, fileName); 
                        if (status != System.Net.HttpStatusCode.Created)
                            MessageBox.Show(fileName + " failed to upload.");
                    }
                }
            }
        } 
```

since I'm a beginner I lack the experience on how to go for this, Your help is sincerely appreciated, thanks to you all!

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T12:25:19.150

您可以使用 System.IO.File.Exists(string path) 来确定它是否存在。如果是这样，您可以更改其名称并测试新名称是否已存在，直到您找到尚未使用的名称。

您可以在 msdn 上查看文档：http: [//msdn.microsoft.com/en-us/library/system.io.file.exists.aspx](http://msdn.microsoft.com/en-us/library/system.io.file.exists.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-11T11:15:00.643

利用`System.IO.File.Exists(string path)`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-09T16:54:53.720

如果要检查 SharePoint 文件，可以查看使用`Microsoft.SharePoint.Client.Web`方法`GetFileByServerRelativeUrl(string serverRelativeUrl)` [GetFileByServerRelativeUrl](http://msdn.microsoft.com/en-us/library/microsoft.sharepoint.client.web.getfilebyserverrelativeurl%28v=office.14%29.aspx)

[使用asp.net中的客户端对象模型从sharepoit库中获取sharepoint excel文件](http://social.msdn.microsoft.com/Forums/en-US/sharepointdevelopment/thread/5c9f052f-087a-4877-9b79-cf5b3d6fb2dc)

一旦将文件从库加载到对象中，您可以进行`!= null`检查，如果文件不为空，则可以更改文件的名称。

# javascript - 在网页上打印来自 javascript 的值

> ID：15901658
> 
> 赞同：0
> 
> 时间：2013-04-09T12:17:12.013
> 
> 标签：javascript, html

我有一个 html 页面，想从 java 脚本函数中打印一些值。该值需要经常更改。我的问题是，不是“连续”更改（或者至少在代码需要更改值时），而是仅在整个 java 脚本代码完成执行时才更改。我正在使用 Chrome，尚未在其他浏览器上对其进行测试。

这是重现问题的最小示例：

```
<head>
   <title>Test Continuous Output</title>
</head>

<body>
   <p id="data"></p>

   <script>
      function onClick() {
          for(var i =0;i<100;i++) {
              document.getElementById("data").innerHTML = i;
              for(var j = 0; j < 1000; j++) {
                    console.log("j="+j);
              }
          }
      }
   </script>
   <button onclick = "onClick()">test</button>
</body> 
```

编辑：在@Alytrem 的建议下使用 setTimeout 在此处发布解决此问题的代码：

```
<head>
   <title>Test Continuous Output</title>
</head>

<body>
  <p id="data"></p>

  <script>
    var n=0;
    function log() {
    document.getElementById("data").innerHTML = n;
    n=n+1;
    if(n<100) {
    setTimeout(log,100);
    }
    }

    function onClick() {
    log();
    }
  </script>
  <button onclick = "onClick()">test</button>
</body> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T12:21:22.697

那是因为 DOM 会改变，但需要重新绘制。并且在重新绘制 dom 时循环已经完成。例如，尝试将超时设置为每 100 毫秒循环一次。它将允许重新绘制 DOM。

这是一个可能的解决方案，它使用 setTimeout 来避免在计算期间阻塞 DOM 重绘。

[http://jsfiddle.net/n4YYX/4/](http://jsfiddle.net/n4YYX/4/)

```
<body>
<p id="data"></p>
<script>
    var remainingTasks;

    function doTask() {
        for (var j = 0; j < 1000; j++) {
            1 + 1;
        }
        console.log("remainingTasks=" + remainingTasks);
        document.getElementById("data").innerHTML = 100 - remainingTasks;
        remainingTasks--;
        if (remainingTasks > 0) setTimeout(doTask, 10);
    }

    function onClick() {
        remainingTasks = 100;
        doTask()
    }
</script>
<button onclick="onClick()">test</button> 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-04-09T12:22:04.483

Document.write 或 alert() 是我知道输出 javascript 变量值以进行调试的唯一方法，例如：`alert("j= "+j);`<-- 更适合详细调试

或： `document.write("<br/> j="+j);`<-- 更适合快速调试

# javascript - maxlength 不适用于某些元素

> ID：15901664
> 
> 赞同：1
> 
> 时间：2013-04-09T12:17:32.697
> 
> 标签：javascript, html, css, maxlength

好的，所以我正在构建一个自定义注册页面，当然还涉及到 javascript 输入验证。

在该验证中，我使用该`maxlength`属性来验证输入的长度 - 这是一种双重安全性，但很容易获得我认为“为什么不呢？”的元素的属性。

但是，我发现该属性`undefined`在我的一些表单输入元素上，并在其他元素上正确定义。

我已经看了好几天的 HTML 了，我不明白为什么它没有在某些元素上定义，但在大多数元素上都有效。

我已经构建了一个同时存在工作和非工作元素的页面，尽管它最终不是应该如何组合在一起的。

[这是一个链接](http://cheerfultree.com/randomstuff/validationNotWorking)，下面是非工作表单的示例。我希望你们中的一些人能看到它有什么问题！

**代码：**

```
<div id="9irBGsdLR">
    <form method="POST" class="form" name="frontContent" id="forntContent" style="margin-bottom:15px;">
    <div id="9button" style="float:right;">
        <img onclick="deleteElement(&#39;9&#39;, &#39;9irBGsdLR&#39;, this, &#39;actions/delete.php&#39;)" alt="delete" style="border:0px;float:right;cursor:pointer;" src="./validationNotWorking_files/close_32.png">
    </div>
    <input type="text" name="id" style="display:none;" value="9">
    <label class="inputlabel softInputlabel" style="width:20%;">Headline: </label>
    <input maxlenght="50" type="text" name="title" id="title" class="inputfield" contenttype="text" value="Praesent rhoncus faucibus elementum">
    <label class="inputlabel softInputlabel" style="width:20%;">Succession: </label>
    <input maxlenght="4" type="text" name="succession" id="title" class="inputfield" contenttype="numerical" value="50">
    <label class="inputlabel softInputlabel" style="width:20%;">Content: </label>
    <textarea class="formField" style="width:75%;height:300px;" name="content"></textarea>
    </form>
    <hr>
</div> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-09T12:20:34.320

没有这样的东西`maxlenght`- 使用`maxlength`代替。

这是一个[jsFiddle](http://jsfiddle.net/wCHHQ/)。

**HTML：**

```
<div id="9irBGsdLR">
    <form method="POST" class="form" name="frontContent" id="forntContent" style="margin-bottom:15px;">
        <div id="9button" style="float:right;">
            <img onclick="deleteElement(&#39;9&#39;, &#39;9irBGsdLR&#39;, this, &#39;actions/delete.php&#39;)" alt="delete" style="border:0px;float:right;cursor:pointer;" src="./validationNotWorking_files/close_32.png">
        </div>
    <input type="text" name="id" style="display:none;" value="9">
    <label class="inputlabel softInputlabel" style="width:20%;">Headline: </label>
    <input maxlength="50" type="text" name="title" id="title" class="inputfield" contenttype="text" value="Praesent rhoncus faucibus elementum">
    <label class="inputlabel softInputlabel" style="width:20%;">Succession: </label>
    <input maxlength="4" type="text" name="succession" id="title" class="inputfield" contenttype="numerical" value="50">
    <label class="inputlabel softInputlabel" style="width:20%;">Content: </label>
    <textarea class="formField" style="width:75%;height:300px;" name="content"></textarea>
    </form>
    <hr>
</div> 
```

# c# - Math.Abs 中的错误

> ID：15901670
> 
> 赞同：1
> 
> 时间：2013-04-09T12:17:47.237
> 
> 标签：c#

我想将 C# 中的一个非常大的负数转换为正值，但我知道 Math.Abs​​ 在你点击`Decimal.MaxValue`. 我知道这个数字非常大，但是通过我的网络传来的数据可能具有这个值或更大的可能性很小。我想知道是否可以在 C# 中翻转数字的符号位。

这是我现在的代码：

```
int bucket = Math.Abs(sdmpobject.SnapshotHandle.GetHashCode()) % numPartitions; 
```

这个用途`Math.Abs()`，我只是想知道是否有可能只翻转符号位？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-09T12:20:23.280

`GetHashCode()`总是返回一个 32 位整数 ( `int`)。这没有办法超过`Decimal.MaxValue`。
我假设`GetHashCode()`在这里使用是实际错误。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-09T12:21:43.103

`GetHashCode()`将返回一个`int`，而不是一个`Decimal`。

`Math.Abs(int)``int`只有当传递等于时才会失败`int.MinValue`，所以你可以明确地测试那个条件：

```
int myValue = sdmpobject.SnapshotHandle.GetHashCode();
int absValue = myValue == int.MinValue ? int.MaxValue : Math.Abs(myValue);
int bucket = absValue % numPartitions; 
```

这假设您可以接受因这种罕见的情况而离开一个人。由于您的结果位于一个名为“bucket”的变量中，因此您可能希望像这样逐个更正该变量：

```
int myValue = sdmpobject.SnapshotHandle.GetHashCode();
int bucket;
if (myValue == int.MinValue)
{
    bucket = ((int.MaxValue % numPartitions) + 1) % numPartitions;
}
else
{
    int bucket = Math.Abs(myValue) % numPartitions;
} 
```

您不能只为所有值“翻转符号”的原因是，带符号的数据类型通常可以比正数多容纳一个负数，因此它们不能代表它们可以容纳的最大负数的绝对值。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-09T12:20:36.270

这不是`Abs`失败，而是超出了值的数值范围。

因此，您可能需要采用另一种数字类型以避免出现问题 - 来自网络的原始数字是什么类型/范围？

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-09T12:21:39.983

在您提到的问题中，`decimal`但您给出的示例是 with `int`。

还：

> 这使用 Math.Abs​​()，我只是想知道是否可以只翻转符号位？

是的，有一种方法，但你不想*只翻转*符号位，因为这不会给你倒数（即翻转 -1 上的符号位不会导致 1）

# unit-testing - 测试类似的逻辑

> ID：15901676
> 
> 赞同：1
> 
> 时间：2013-04-09T12:18:04.560
> 
> 标签：unit-testing, design-patterns, testing, integration-testing, functional-testing

我真的很好奇如何最好`test`地开发一个可能开发的小项目。

![在此处输入图像描述](https://i.stack.imgur.com/eNL8p.jpg)

考虑上面的设计模式。有没有一种很好的方法来测试遵循上述设计的软件。我有表格来添加使用这种设计的联系人、事件、工作和其他详细信息。例如，要添加联系人，ContactDAO 将创建并使用 ContactDTO 来更新或向数据源添加数据。此流程也已应用于事件、作业和其他类型。（事件使用 EventDAO 和 EventDTO）。

测试此类系统的最佳方法是什么。我遇到了`object-oriented testing`。可以用吗？

也许其他测试技术？

当然，在实现时，我们使用调试，这是一种组件测试形式。我对测试的文档很好奇。有没有一种好方法来记录几种类型使用相似逻辑的系统测试。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T14:42:21.327

在我看来，您应该通过 3 种方法来测试您的代码

*   单元测试：创建您的代码，以便可以获取您想要测试的每个类并模拟所有依赖项。这样您就可以验证该特定块的所有功能

*   集成测试：这是一个单元测试，可以设置您的代码，就好像它真的在测试数据库等中运行一样。然后在最高级别执行您的操作，并对返回的值或更改的数据进行验证

*   最后但同样重要的是：创建测试场景，这些场景可以手动测试，并且应该包含所有必需的功能。这样，您就可以以类似的方式手动重现这些测试。

这种测试方式可以应用于所有项目，但是您必须在编写代码时考虑到这一点，这样它才能保持可测试性。

# c# - 是否有任何 API 函数可以获取 Windows 桌面应用程序中的电池电量？

> ID：15901682
> 
> 赞同：2
> 
> 时间：2013-04-09T12:18:26.810
> 
> 标签：c#, windows, visual-studio-2012

我正在创建一个桌面应用程序，我想在其中获取设备（笔记本电脑）的电池电量。我为此使用 C#。有什么方法可以帮助我做到这一点吗？我已经在 Windows Phone 8 平台上使用`Windows.Phone.Devices.Power.Battery.GetDefault().RemainingChargePercent`. 桌面端也有类似的 API 吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-09T12:23:15.410

```
private static string GetBatteryLevel()
{
    ObjectQuery query = new ObjectQuery("SELECT * FROM Win32_Battery");
    using (ManagementObjectSearcher searcher = new ManagementObjectSearcher(query))
    {
        using (ManagementObjectCollection results = searcher.Get())
        {
            using (var enumerator = results.GetEnumerator())
            {
                if (!enumerator.MoveNext())
                    return string.Empty;

                return string.Format("{1} {0}%", enumerator.Current["EstimatedChargeRemaining"],
                                     enumerator.Current["BatteryStatus"].ToString() == "1"
                                         ? string.Empty
                                         : "Charging:");
            }
        }
    }
} 
```

您可以使用`Windows Management Instrumentation`

# c# - 从 LogIn 操作方法中的 returnurl 获取路由值

> ID：15901683
> 
> 赞同：2
> 
> 时间：2013-04-09T12:18:27.280
> 
> 标签：c#, .net, asp.net-mvc, asp.net-mvc-3

我有一个看起来像这样的网址

```
http://mysite/account/login?returnurl=/Event/Details/41 
```

和`returnUrl = "/Event/Details/41"`

我需要从返回 url 获取路由值 - 其中包括 EventID = 41

我能够使用以下代码获取事件 ID：

```
public ActionResult Login()
{
   ....
   string returnUrl = Request.QueryString["ReturnUrl"];
   int lastIndex = returnUrl.LastIndexOf("/") + 1;
   string strEventID = returnUrl.Substring(lastIndex);
   int EventID = Int32.Parse(strEventID);
   ....
} 
```

但我觉得可能有一种更灵活的方式可以让我访问查询字符串、路由值等，而无需手动这样做。

我不想使用 WebRequest、WebClient 和等等等等，只是在寻找与 MVC 相关的解决方案或更简单的东西。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-09T12:52:37.377

为了访问查询字符串，您可以直接将它们放在操作签名中：

```
public ActionResult Login(string returnurl)
{
   ....
   if(!string.IsNullOrWhiteSpace(returnurl)) {
       int lastIndex = returnurl.LastIndexOf("/") + 1;
       string strEventID = returnUrl.Substring(lastIndex);
       int EventID = Int32.Parse(strEventID);
   }
   ....
} 
```

* * *

**编辑 ：**

为了从 returnurl 中提取路由参数，您可以通过 regex 对其进行解析：

```
Regex regex = new Regex("^/(?<Controller>[^/]*)(/(?<Action>[^/]*)(/(?<id>[^?]*)(\?(?<QueryString>.*))?)?)?$");
Match match = regex.Match(returnurl);

// match.Groups["Controller"].Value is the controller, 
// match.Groups["Action"].Value is the action,
// match.Groups["id"].Value is the id
// match.Groups["QueryString"].Value are the other parameters 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-09T13:10:32.697

试试这个：

```
public ActionResult Login(string returnUrl)
{
   ....
   var id = this.GetIdInReturnUrl(returnUrl);
   if (id != null) 
   {
   }
   ....
}

private int? GetIdInReturnUrl(string returnUrl) 
{
   if (!string.IsNullOrWhiteSpace(returnUrl)) 
   {
       var returnUrlPart = returnUrl.Split('/');
       if (returnUrl.Length > 1) 
       {
           var value = returnUrl[returnUrl.Length - 1];
           int numberId;
           if (Int32.TryParse(value, out numberId))
           {
               return numberId; 
           }
       }
   }

   return (int?)null;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-09T14:27:10.520

将您的控制器操作更改为这一操作，在模型绑定阶段 ASP.NET MVC 会查看请求并找到的值，`returnUrl`您不需要手动处理它。

```
 public ActionResult Login(string returnUrl)
    {
        int EventID = 0;
        int.TryParse(Regex.Match(returnUrl, "[^/]+$").ToString(), out EventID);
        ....
    } 
```

# mysql - MYSQL：查询以输出所有相关/标签/相似的ID

> ID：15901686
> 
> 赞同：0
> 
> 时间：2013-04-09T12:18:35.483
> 
> 标签：mysql, sql

我正在处理一个查询，但不能让它做我想做的事。

我有这张桌子：家庭

```
family.id
family.name
family.related 
```

有了这个内容：

```
id        | name        | related
1         | Name1       | 
2         | Name2       | 3,5
3         | Name3       | 
4         | Name4       | 
5         | Name5       | 4,1 
```

正如你所看到的，id 2 有相关的 (ids)3,5 但是如果你去 (id)5 你会得到另一个相关的 (ids)4,1

所以当我选择 family.id 2 我想输出：3,5,4,1

这可以通过 1 个查询来实现吗？

以下查询将我带到 3,5 ：

```
SELECT

GROUP_CONCAT(related1.related) AS related_ids,

family.id AS id,
family.name AS name,
family.related AS related

FROM family family

LEFT JOIN family related1
              ON FIND_IN_SET(family.id, related1.related) >0

WHERE family.id=5 
```

我想让 related_ids 包含 3,5,4,1

# javascript - 重读asp.net web api

> ID：15901687
> 
> 赞同：0
> 
> 时间：2013-04-09T12:18:42.093
> 
> 标签：javascript, jquery, asp.net-web-api

我正在使用一个返回产品列表和价格的 web api。产品列表使用 Ajax 显示在页面上。

价格会定期更新。

我知道如何解决问题的唯一方法是不断调用 API 并使用 javascript 循环检查价格是否已更新。

有没有其他方法，例如在价格更新时添加一个监听器哪个跟踪器？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T12:21:54.990

[信号机](http://signalr.net/)？

> ASP.NET SignalR 是一个面向 ASP.NET 开发人员的新库，它可以非常简单地将实时 Web 功能添加到您的应用程序中。什么是“实时网络”功能？它是让您的服务器端代码实时将内容推送到连接的客户端的能力。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-09T12:22:34.497

通过常规的 JavaScript Ajax 调用来实现它的唯一方法是不时调用 API，以查看数据是否已更改。一种投票方式。如果每分钟左右更新一次就足够了，这通常效果很好，但如果您想要接近实时更新，它可能会变得相当拥挤。

还有其他方法可以实现即时更新，但不需要轮询。[一种适用于 .Net 的选项是SinalR](http://signalr.net/)，最近被讨论了很多。SignalR 在支持它的现代浏览器中使用[WebSockets](https://developer.mozilla.org/en-US/docs/WebSockets)，并回退到在旧浏览器中使用其他技术。

# javascript - 同一页面上有多个 socket.io 连接

> ID：15901688
> 
> 赞同：11
> 
> 时间：2013-04-09T12:18:46.000
> 
> 标签：javascript, socket.io

我可以在客户端连接到同一 IP 和端口上的多个资源吗？

我有以下代码-

```
var myIP = "192.168.1.1";
var myPort = "8080";

A = io.connect(myIP+':'+myPort,{resource: 'A/socket.io'});
B = io.connect(myIP+':'+myPort,{resource: 'B/socket.io'});

A.on('connect',console.log('A connected');
B.on('connect',console.log('B connected');

A.on('message',function(d){console.log('A: '+ d);}
B.on('message',function(d){console.log('B: '+ d);} 
```

我正在运行node [-http-proxy](https://github.com/nodejitsu/node-http-proxy)。`myIP:myPort`它将 A 和 B 上的连接代理到它们各自的 socket-io 服务器。

如果我在单个脚本上运行上述代码，浏览器会忽略第二条语句（它不会触发对资源 B 的请求）。

A 和 B的`on(message)`回调接收到实际属于 A 的相同数据。

如果我在两个不同的 html 页面中运行上面的代码（一个是 A，另一个是 B），它们可以正常工作，我会分别获取这两个页面的数据。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-04-09T12:30:17.207

试试这个：

```
A = io.connect(myIP+':'+myPort, {resource: 'A/socket.io', 'force new connection': true});
B = io.connect(myIP+':'+myPort, {resource: 'B/socket.io', 'force new connection': true}); 
```

（是的，我删除了一些引号）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-05-02T13:22:35.613

我还要提到命名空间......很多时候你想要做的是在每个套接字的基础上处理重新连接事件，命名空间为你做这件事。它们的主要优点是您不需要每个连接都有一个连接，这意味着它们不会影响浏览器的每个域 6 个连接的限制。

要连接，只需执行以下操作：

`socket = io('/namespace')`

# spring - Spring MVC 在 Intellij IDEA 10 中不起作用

> ID：15901691
> 
> 赞同：1
> 
> 时间：2013-04-09T12:18:54.750
> 
> 标签：spring, tomcat, spring-mvc, intellij-idea

我正在使用带有 spring MVC 的 Intellij IDEA 10.5、Tomcat 7.0.34 和 spring 框架版本 3.0.5，我已经添加了带有 maven 依赖项的 spring mvc，我可以在我的外部库的类路径中看到它，并且自动完成是工作，一切都很好，直到我在tomcat中运行我在调试模式下得到这个错误： -

> java.lang.ClassNotFoundException：org.springframework.web.servlet.DispatcherServlet

我尝试直接在 Tomcat 的 lib 文件夹中添加库并删除依赖关系，但它会更加遗漏一些东西。给出错误： -

> org.springframework.beans.FatalBeanException：命名空间 [http://www.springframework.org/schema/context] 的类 [org.springframework.context.config.ContextNamespaceHandler] 没有实现 [org.springframework.beans.factory。 xml.NamespaceHandler] 接口

我看到有人说这是因为 Spring 库没有部署到 Tomcat，但是如何包含它们？如何让它正确运行？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T12:31:37.280

经过数小时在互联网上毫无意义的搜索和大量谷歌搜索，我终于弄清楚出了什么问题，似乎 intellij IDEA 不包括 spring maven 库，更多的库不仅仅是 spring，要解决这个问题，请执行以下操作：

1.  打开IDEA的模块设置。
2.  单击您的模块并打开输出布局选项卡。
3.  打开根目录，进入lib目录。
4.  单击 + 图标，然后单击库文件，然后从项目库中选择您的文件。

这就是它对我的工作方式，如果您在 tomcat 中看到这样的错误，请首先确保您的类以这种方式在您的输出战中。

# magento - 如何在magento中将用户注册为批发用户？

> ID：15901692
> 
> 赞同：2
> 
> 时间：2013-04-09T12:18:56.440
> 
> 标签：magento, magento-1.7

我制作了一个单独的模块来将用户注册为“批发”用户。它打开单独的页面以输入详细信息。现在，当用户注册时，用户的组只是“普通”组。

我想改变这一点，当用户从我的模块注册时，他们的组应该是“批发”。应该做些什么来实现这一目标？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-09T17:55:05.120

在您的注册表中放置一个隐藏字段 group_id 并将其值设置为匹配批发组 ID

在注册码中添加这个。

$customer->setGroupId($this->getRequest()->getPost('group_id'));

您可以从此链接获得一些技巧： [Ma​​gento：在注册时选择客户组](https://stackoverflow.com/questions/12201824/magento-select-customer-group-at-registration)

# responsive-design - 电视上的特征检测而不是用户代理嗅探

> ID：15901697
> 
> 赞同：1
> 
> 时间：2013-04-09T12:19:03.413
> 
> 标签：responsive-design, user-agent, google-tv, apple-tv

我的团队正在考虑为电视开发，并考虑设计一个量身定制的“10 英尺用户界面”，以便在电视机上以不同的方式呈现我们的内容。

在这一点上我看到它发生的唯一方法是通过嗅探用户代理来检测用户来自哪里。我看到有一些可用于电视的用户代理，例如：

**苹果电视：**

`User-Agent: iTunes-AppleTV/4.1`

**谷歌电视：**

`Mozilla/5.0 (Linux; GoogleTV x.x.x; LG Google TV Build/000000) AppleWebKit/534.24 (KHTML, like Gecko) Chrome/11.0.696.77 Safari/534.24`

*但是，除非必须，否则我们不想使用用户代理*。

在 Mozilla 开发者网络经常提到的这篇文章中，[浏览器检测使用用户代理](https://developer.mozilla.org/en-US/docs/Browser_detection_using_the_user_agent)他们坚决不鼓励使用用户代理嗅探来提供特殊内容，建议人们宁愿使用特征检测。

**电视浏览器/系统上是否存在易于检测的单一、稳定且得到良好支持的功能？**如果是，那会是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T15:00:01.093

由于目前还没有识别浏览器的标准，因此用户代理被大量使用。如果你想避免这样做，你可以尝试像这样使用 navigator 对象：

```
var browser = navigator.appName;
var version = navigator.appVersion; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T19:49:50.627

推荐的方法是使用用户代理。这个SO帖子中的第一个答案建议了一个很好的辅助方法。

[在不使用用户代理字符串的情况下检测 Google TV](https://stackoverflow.com/questions/12538143/detect-google-tv-without-using-user-agent-string)

那里提供的小提琴在我测试过的 Vizio 盒子上运行良好。

var isGoogleTv = true; var allResults = ''; 函数 tryTest(name, testResult) { var result = (testResult ? 'succeeded' : 'failed'); 所有结果 += '' + 名称 + ''; isGoogleTv = isGoogleTv && testResult; } 函数 renderResults() { document.write('

'); if (isGoogleTv) { document.write('

# 检测到谷歌电视！

'); } else { 文档.write('

# 不是谷歌电视！

'); } } tryTest('是用户代理 GoogleTV', Boolean(navigator.userAgent.match(/(大屏幕)|GoogleTV/i))); tryTest('不是歌剧', Boolean(window.opera==undefined)); tryTest('不是 IE6+', Boolean(!(document.compatMode && document.all))); tryTest('不是平台Win', !Boolean(navigator.platform.match(/Win/))); tryTest('is vendor Google', Boolean(navigator.vendor.match(/Google/))); tryTest('不是 IE', false); 渲染结果（）；

# php - 从下拉列表中选择“全部”选项时显示数据库中的数据

> ID：15901698
> 
> 赞同：0
> 
> 时间：2013-04-09T12:19:04.700
> 
> 标签：php, mysql

我有一个从数据库表 A 中填充的下拉列表。当用户选择一个选项并单击“开始”时，该类别的相关数据将显示在另一个数据库表 B 的页面上。就像这样，当用户从下拉列表中选择“全部”选项时列表并单击“Go”，它应该显示 B 表中的所有数据。

该页面将始终显示与页面加载完美加载的第一个选项有关的数据。

现在，通过选择列表类别从数据库表 B 中获取已成功完成，但“ALL”选项除外。即当我选择“全部”类别时，我遇到了问题。我无法一次显示表 B 中的所有数据。请帮助我并忽略如果我写了一些错误的英语。这是我的代码：

```
<div align="right"><label>Category</label>

<select name="category">

<?php

$sql = "SELECT id, art_name FROM category;";
$result = mysql_query($sql);
while ($row = mysql_fetch_assoc($result)) {
?>
<option value="<?= $row['id']; ?>"<?=($_POST['category']==$row['id'] ? '   selected="selected"' : '')?>><?= $row['art_name']; ?></option>

<?php } ?>
</select>
 <input name="go" type="submit" value="Go" /></div>
 <div align="center" class="showimage">
 <ul class="display">

<?php
$id = $_POST['category'];
$search = mysql_query("SELECT id, categoryid, path FROM list WHERE categoryid = $id");
 $sql = mysql_query("SELECT autodisplay FROM list WHERE categoryid = 2");
$sql_search = mysql_query("SELECT path FROM list");
if (isset($_POST['go'])) {
while ($row = mysql_fetch_assoc($search)) {
?>

<li><a href="<?= $row['path']; ?>" class="highslide" onclick="return hs.expand(this)"><img src="<?= $row['path']; ?>" border="0"></a>
</li>
<?php }
while ($row = mysql_fetch_assoc($sql_search)) {
?>

<li><a href="<?= $row['path']; ?>" class="highslide" onClick="return hs.expand(this)"><img src="<?= $row['path']; ?>" border="0"></a>
 </li>
<?php }
 }

 else {
 while ($row = mysql_fetch_assoc($sql)) {
 ?> 
 <li><a href="<?= $row['autodisplay']; ?>" class="highslide" onclick="return hs.expand(this)"><img src="<?= $row['autodisplay']; ?>" border="0"></a>

 </li>
 <?php }

 }
 ?>

</ul>
</div> 
```

[这是我运行页面的链接：](http://monomita.arbionics.com/Becuart/Site/DOCS/test.php)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T12:29:58.533

*   a) 首选 mysqli 或 PDO。mysql_query 已折旧。
*   b) 你只需要一个循环

> 而 ($row = mysql_fetch_assoc($sql_search))

c) 这么多的打开和关闭 php 标签！为什么不使用回声？清晰对于调试很重要（不仅如此）

# java - 将毫秒转换为日期返回 1970 作为年份

> ID：15901710
> 
> 赞同：3
> 
> 时间：2013-04-09T12:19:45.053
> 
> 标签：java, android, date, calendar

```
long mil = new Date().getTime();
DateFormat formatter = new SimpleDateFormat("yyyy-MM-dd HH:mm:ss");
Calendar calendar = Calendar.getInstance();
calendar.setTimeInMillis(mil);
System.out.println(formatter.format(calendar.getTime())); 
```

上面的代码返回**1970-01-02 21:57:09**。问题是什么？

它不适用于Android。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T15:10:08.570

你为什么这样做？..你不能简单地这样做吗？：

```
Date d = new Date();
SimpleDateFormat.....
System.out.println(formatter.format(d)); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T18:40:34.243

你想做的事情可以通过一个简单的方法来实现：

```
Date currentDate = System.currentTimeMillis();
DateFormat formatter = new SimpleDateFormat("yyyy-MM-dd HH:mm:ss");
System.out.println("Formatted date time::: " +formatter.format(currentDate)); 
```

希望它可以帮助你。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-03-10T17:19:47.270

仅供参考，您可以在 Android 上使用 Joda-Time 库。代码更简单，更清晰。

```
System.out.println( DateTime.now() ); 
```

运行时……</p>

```
2014-02-03T04:05:06.789Z 
```

# c# - 使用两者的目的 和 Visual Studio XML 文档中的标记

> ID：15901716
> 
> 赞同：22
> 
> 时间：2013-04-09T12:20:02.560
> 
> 标签：c#, tags, xml-documentation

我在 VS 2012 中使用 C#，将 XML 文档添加到我的代码中，并且我不小心打开了 StyleCop 规则（特别是 SA1609），它“验证公共或受保护的属性是否包含带有值标签的文档标题”。

还有另一条规则（SA1604，这次特意打开），“验证文档标题是否包含格式正确的摘要标记”。

但是，**我很难看到您在 value 标签中放入的内容尚未在 summary 标签**中。目前我的摘要标签说的是“获取或设置某些东西”。应该在相应的值标签中添加什么来补充它？

（澄清一下，我对设置 StyleCop 很满意——当我不小心打开了所有文档规则时，它只是引起了我对 value 标签的注意）

MSDN 对这个帮助不大：

*   [值标签的页面](http://msdn.microsoft.com/en-gb/library/azda5z79.aspx)似乎暗示您应该详细说明正在使用的**支持字段（无论如何，这对于隐藏信息而言似乎是个坏主意）。**
*   [他们的 How-To on XML 文档](http://msdn.microsoft.com/en-gb/library/z04awywx.aspx)说“使用值标签来**描述属性值**”。我什至不确定这意味着什么——这听起来很像我的总结。

## tl;博士

在属性的 XML 文档中同时包含摘要和值标记有什么意义？它们应该如何使用而不重复自己？

* * *

## 回答 #1

> 赞同：33
> 
> 时间：2013-04-09T12:35:09.263

摘要是对属性可以做什么的一般概述，而值仅描述了该属性的期望值。

这是 MSDN 上差异的一个很好的例子：[`List<T>.IList.IsFixedSize Property`](http://msdn.microsoft.com/en-us/library/bb354714.aspx)

> 摘要：获取一个值，该值指示 IList 是否具有固定大小。
> 
> 值：如果 IList 具有固定大小，则为 true；否则为假。在 List<T> 的默认实现中，此属性始终返回 false。

在大多数情况下，摘要标签通常会声明*“获取或设置值...”*，而值标签通常会声明预期的值，包括预期的默认值。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T12:23:17.937

简单地说：这使得随着代码的发展更容易使它们保持最新。

我个人认为，当其他作者必须修改代码时，它会增加一些更有用的信息。

# c++ - 反汇编程序 GLOBAL 关键字

> ID：15901717
> 
> 赞同：2
> 
> 时间：2013-04-09T12:20:04.507
> 
> 标签：c++, assembly, x86, disassembly

在 C++ 程序的反汇编视图中，指的是`GLOBAL`什么？我有一个 lign 上面写着：

`je 0xb74d334a <_GLOBAL__sub_I_myFile.cpp+106>`

我想这是对 myFile.cpp 的调用，但我想在调用之前知道 GLOBAL 单词的含义......

myFile.cpp 的内容：

```
[include guards]
#include <mutex.hpp> // Functions I use to handle mutex
namespce myNameSpace {
    class myClass {
        public:
            static void stdOutFormat(const char* format, ...);
        private:
            static Mutex(Synchro) // Custom functions from mutex.hpp and others ...
    };
}
[end include guards] 
```

反汇编（我尽量简洁）：

```
[some calls]
call 0xb74d1b80 <os_mutexInit@plt>
test %esi, %esi
je   0xb74d33a <_GLOBAL__sub_I_myFile.cpp+106>
mov  (%esi), %eax
[some calls] 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-09T13:03:54.563

此类符号用于编译器生成的静态初始值设定项。来自[GCJ 邮件列表](http://gcc.gnu.org/ml/java/2002-01/msg00329.html)：

> 的符号`_GLOBAL__I__XXX`用于静态初始化程序 - 即在启动时执行的代码，通常在调用 main 之前。不要沉迷于实际的 XXX - 它只是一种创造独特符号的魔法。Gcj 创建静态初始化函数，调用 _Jv_RegisterClass 在全局表中注册每个类，以便将来的 Class.forName 可以找到它们。

这谈到了 GCJ，但 C++ 编译器的行为方式与此类似。指向所有此类初始化程序的指针都放入该`.ctors`部分，并由 CRT 启动代码在调用之前调用`main()`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-09T13:13:39.140

请注意，这`_GLOBAL__sub_I_myFile.cpp+106`只是反汇编程序制作标签的方式。它指向 label 之后的 106 个字节`_GLOBAL__sub_I_myFile.cpp`，我希望这是一个“初始化静态对象”类型的函数。在这种情况下，要么是编译器/链接器重用了一些代码[因为你还没有发布它，我不能说]，要么是一些自动生成的代码，它不存在于“函数中”（可能是例如抛出异常）。

# hornetq - 在 HornetQ 中控制消息消耗率

> ID：15901718
> 
> 赞同：0
> 
> 时间：2013-04-09T12:20:06.477
> 
> 标签：hornetq, consumer

我们想要控制消费者在 HornetQ 中消费消息的速率。

问题是当我们使用 ServerLocator.setConsumerMaxRate(int) 方法时，无论我们传递的值如何，我们总是每秒收到 1 条消息。

当我们不调用这个方法时，消耗速度很快（每秒超过1个）。

我们的代码：

```
 TransportConfiguration connectorConfig = new TransportConfiguration(InVMConnectorFactory.class.getName());

        ServerLocator locator = HornetQClient.createServerLocatorWithoutHA(connectorConfig);

        locator.setAckBatchSize(ackBatchSize);
        locator.setConsumerWindowSize(CONSUMER_WINDOW_SIZE);
        locator.setClientFailureCheckPeriod(Long.MAX_VALUE);
        locator.setConnectionTTL(-1);
        locator.setConsumerMaxRate(10); 
```

问题是——如何控制消费率？为什么这个设置不影响速率？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T16:05:09.537

您是否从 ClientSession 类中尝试过此方法？：

```
ClientConsumer createConsumer(String queueName, String filter, int windowSize, int maxRate, boolean browseOnly) throws HornetQException; 
```

# asp.net-web-api - Breeze.js 可以为非数据库实体自动生成元数据吗？

> ID：15901722
> 
> 赞同：0
> 
> 时间：2013-04-09T12:20:16.513
> 
> 标签：asp.net-web-api, entity-framework-5, breeze, single-page-application

我正在使用 Breeze.js、WebApi 和实体框架构建单页应用程序。

我想拥有`EFContextProvider`自动生成的元数据的优点，但不想将我的数据库模型暴露给客户端。

我想象有一堆特定于客户端的 DTO。我可以让 Breeze/EF 为这些实体生成元数据吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-09T20:15:21.383

还没有，但我们正在努力发布一些关于您如何自己做这件事的指南，也许还有一些例子。

# javascript - 在 couchdb 文档中使用 javascript 和 html 将字段添加到现有文档的最简单方法？

> ID：15901724
> 
> 赞同：2
> 
> 时间：2013-04-09T12:20:17.223
> 
> 标签：javascript, json, forms, couchdb

我是 html 表单和提交数据的新手，我需要一些帮助来向 couchdb 中的文档添加字段。起始文件是：

```
{
   "_id": "1",
   "_rev": "7-4951bf45b301a3d836f2658e92758d30",
   "ndStatus": 1,
   "ndNumber": 1,
   "ndRegion": "atiq",
   "ndName": "kaxum",
   "group": "11,12,25,14"
} 
```

当用户在客户端提交表单时，我想添加用户在组字段中提交的数字。我已经尝试查看一些有关如何执行此操作的资源，但它们似乎使它变得非常复杂。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-09T14:27:52.480

你能行的。这就是创建[更新功能](http://wiki.apache.org/couchdb/Document_Update_Handlers)的目的。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-04-09T13:23:37.683

Couchdb 以可扩展性的名义进行了一些权衡。其中之一是您必须始终一次编写整个文档。我不太清楚你说你想是什么意思

> 添加用户在组字段中提交的数字

无论如何，您都需要从 couchdb 获取文档，进行任何更改，然后将其与您的更新和 rev 一起保存回来。如果您使用的是 node.js 和[cradle](https://github.com/cloudhead/cradle)库，它看起来像

```
var id = '1' // this is a weird value for _id but okay...
var db = {} // this should be a cradle db connection
db.get(id, function (err, res) {
  var doc = res.json
  var rev = doc._rev
  doc.group = 10 // new group value, change this as you need
  db.save(id, rev, doc, function(err, reply) {
    if (err) {
      console.dir('error saving document', err)
      return
    }
    console.dir('document saved correctly', reply)
  })
}) 
```

# c# - 客户端Javascript输入提示框

> ID：15901729
> 
> 赞同：0
> 
> 时间：2013-04-09T12:20:26.540
> 
> 标签：c#, asp.net

我有一个网络应用程序：当用户按下“搜索”时，他必须输入一些其他值，然后根据该值运行其他一些代码。

```
 protected void btnSearch_Click(object sender, EventArgs e)
        {
            ClearGridViewEmp();

            //Does table contain encrypted columns
            bool verifyEDT = SQLQueryAnalyser.IsTableInEDT("Employees",connectionName);

            string prompt = @"<script type='text/javascript'>
            var value = window.prompt('Input Passphrase', 'Type your passphrase here');
            storeUserInput(value);</script>";
            Page.ClientScript.RegisterStartupScript(GetType(), "Prompt", prompt);

            if (verifyEDT)
            {
                string passphrase = hidValue.Value;
               //do other stuff with the passphrase
            }
            FillGridViewWithEmp();
        } 
```

现在的问题是，在所有其余代码运行之后出现提示输入，并且最重要的是它完全弄乱了网站的布局。我一整天都在寻找解决方案，但找不到。如何显示弹出输入提示框，让用户输入一些内容，然后根据值继续运行一些代码。？可能吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T12:53:33.313

您必须进行单独的 AJAX 调用来验证密码。

# javascript - 如何使用 require.js 加载没有冲突的 jQuery

> ID：15901731
> 
> 赞同：10
> 
> 时间：2013-04-09T12:20:31.410
> 
> 标签：javascript, jquery, requirejs

我正在尝试使用 require 在 noConflict 模式下加载 jquery

```
require.config({
    paths: {
        'jquery': 'libs/jquery-req',
        underscore: 'libs/underscore',
        backbone: 'libs/backbone'
    },
    shim: {
        jquery: {
            init: function() {
                console.log('jq init');
                var jq = this.jQuery.noConflict(true);
                jq.support.cors = true;

                return jq;
            },
            exports: '$'
        },
        backbone: {
            deps: ['underscore', 'jquery'],
            init: function() {
                console.log('b init');
            },
            exports: 'Backbone'
        },
        underscore: {
            exports: '_'
        }
    }
}); 
```

并像这样使用它：

```
define([
    'jquery',
    'underscore',
    'backbone'
], function(jq, _, Backbone) {
    console.log(jq);
    var initialize = function() {
//        Router.initialize();
    };

    return {
        initialize: initialize
    };
}); 
```

不幸的是，似乎从未调用过 shim.jquery.init 函数。有人可以帮我理解为什么吗？当我重命名 jquery -> jquery-reg 时奇怪的是它似乎可以工作，但它需要更改每个文件中定义的依赖项。

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2013-06-07T02:52:56.387

创建以下 noconflict.js 模块：

```
define(["jquery"], function($) {
  //drop the `true` if you want jQuery (but not $) to remain global
  return $.noConflict(true); 
}); 
```

然后，在你的 require.config 添加：

```
map: {
  "*": {
    "jquery": "noconflict"
  },
  "noconflict": {
    "jquery": "jquery"
  }
} 
```

jQuery 的 noconflict 版本将交给所有模块（noconflict 除外）。摆脱 jQuery 垫片。

请注意，将 jQuery 排除在全局命名空间之外会阻止您使用任何非 AMD 的 jQuery 插件，而无需将这些插件修改为 AMD 模块。Shim 没有做任何神奇的事情来利用这个设置。对于您可能想要填充的任何非 AMD 模块也是如此，这取决于您制作“纯”AMD 的东西。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T14:18:30.373

我正在使用这个：

```
require.config({
    paths: {
        jquery: 'libraries/jquery/jquery.min',
        underscore: 'libraries/underscore.min',
        backbone: 'libraries/backbone.min',
        jquery_ui: 'libraries/jquery/jquery.ui.min',
    },

    shim: {
        'backbone': {
            deps: ['underscore', 'jquery'],
            exports: 'Backbone'
        },
        'underscore': {
            exports: '_'
        },
        'jquery_ui': {
            deps: ['underscore', 'jquery'],
            exports: 'ui'
        }
    }
}); 
```

然后在我的应用程序中，我使用本地范围来定义 jquery 的实例。在下面的例子中 $ 是 jquery，但它也可以是别的东西。

```
define([
    'jquery', 
    'backbone'
    ], function ($, Backbone) {

    'use strict';

    var app = Backbone.View.extend({
        el: 'body',

        initialize: function() { },

    });

    return app;

}); 
```

# java - Java & PHP 对称加密 (DES)

> ID：15901740
> 
> 赞同：1
> 
> 时间：2013-04-09T12:20:54.677
> 
> 标签：java, php, encryption, des

我需要在我的 Java 客户端应用程序和 PHP 服务器之间进行基本/简单的字符串加密（即低安全性就足够了，我只是想避免通信是人类可读的）。

因此，我选择了对称 DES 加密，因为它不需要任何密钥交换（客户端和服务器上将使用相同的密钥）+ 它不需要为更长的密钥更新 Java 安全策略。当数据通过 Http 帖子发送时，我还对 Base64 进行编码/解码。

不幸的是，我的代码不起作用，因为解密的文本与输入不匹配。

我要加密的 Java 代码：

```
SecretKeyFactory keyFactory = SecretKeyFactory.getInstance("DES");
DESKeySpec keySpecEncrypt = new DESKeySpec(ParamsProvider.SERVER_ECRYPTION_SECRETKEY2); //Secret key is a byte[8] = {1, 2, 3, 4, 5, 6, 7, 8}
SecretKey keyEncrypt = keyFactory.generateSecret(keySpecEncrypt);

// Create the cipher 
Cipher desCipher = Cipher.getInstance("DES/CFB8/NoPadding");

// Initialize the cipher for encryption
desCipher.init(Cipher.ENCRYPT_MODE, keyEncrypt);

// Encrypt the text
byte[] textEncrypted = desCipher.doFinal(data.getBytes("UTF-8"));

//B64 encoding and return
byte[] encryptedB64ByteArray = (new org.apache.commons.codec.binary.Base64()).encode(textEncrypted);
return new String(encryptedB64ByteArray, "UTF8"); 
```

我要解密的 PHP 代码：

```
function decrypt($message) {
    $secret_key = array(1, 2, 3, 4, 5, 6, 7, 8);
    $decodedMsg = base64_decode($message);
    return base64_decode(mcrypt_decrypt(MCRYPT_DES, $key, $decodedMsg, MCRYPT_MODE_CFB));
} 
```

我最好的猜测是我的 Java 和 PHP 加密/解密参数不相等（例如 CFB8 模式），但我不知道如何解决这个问题。

任何帮助或提示将不胜感激（我已经为此浪费了几个小时），干杯，托马斯

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-09T19:34:08.943

感谢您的提示。

不幸的是，它们都不适合我。

我终于根据这段代码解决了它： [https ://github.com/stevenholder/PHP-Java-AES-Encrypt](https://github.com/stevenholder/PHP-Java-AES-Encrypt)

干杯，托马斯

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-09T12:44:27.710

您也必须选择填充方法，阅读[此](https://stackoverflow.com/a/15882657/1562303) 使用@Jon 链接中的 php 代码，您必须选择 PKCS#5-padding：

```
// Create the cipher 
Cipher desCipher = Cipher.getInstance("DES/CBC/PKCS5Padding"); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-13T18:10:27.843

我在 RSA (java:encryption, php:decryption) 的上下文中遇到了同样的问题，通过以下方式解决了我的问题：在 keyPair-generation 中，将“initialize”值从 512 增加到 1024。它可以工作。我遵循的提示在这里：[http](http://docs.oracle.com/javase/7/docs/api/javax/crypto/Cipher.html) ://docs.oracle.com/javase/7/docs/api/javax/crypto/Cipher.html 其中指出每个java实现至少必须实现：... RSA /ECB/PKCS1Padding (1024, 2048) ...所以密钥生成的结果可能不兼容

# asp.net - 你必须从数据库中加载一个 DropDownList 吗？

> ID：15901741
> 
> 赞同：0
> 
> 时间：2013-04-09T12:21:09.380
> 
> 标签：asp.net, .net, sql-server-2008

下拉列表中的项目是否需要在数据库中为它们创建一个表（microsoft sql server）？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T12:22:49.700

用甜美简单的话来说，

**没必要**。

您也可以对其进行**硬编码**。

但一般硬编码是**不可取**的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T12:24:50.910

不，A[`DropDownList`](http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.dropdownlist.aspx)可以用标记填充：

```
<asp:DropDownList ID="myDDL" runat="server">
    <asp:ListItem Text="Hello" Value="0" />
</asp:DropDownList> 
```

它可以用代码填充：

```
myDDL.Items.Add(new ListItem("Hello", "0")); 
```

它可以像您所说的那样是数据绑定的。所以，如果你不需要一张桌子，那就不要用一张。让我给你一个更具体的例子。假设您想列出性别，您可能会构建一个`DropDownList`这样的：

```
<asp:DropDownList ID="genderList" runat="server">
    <asp:ListItem Text="Male" Value="M" />
    <asp:ListItem Text="Female" Value="F" />
</asp:DropDownList> 
```

然后只需将该单个字符存储在数据库中，而不是为其构建整个查找表。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-09T13:06:08.963

正如其他答案所述，严格来说不是。但我会说，这取决于。

在某些情况下，您总是希望数据库填充下拉列表。例如，当下拉菜单中的值镜像数据库中已经存在的值时，您需要保持数据的完整性。

但是，如果您可以 100% 确定数据永远不会改变，那么可以将这些值硬编码到下拉列表中。

当数据在写回数据库之前需要一些解释时，这些值也可以被硬编码。例如是/否、男性/女性值。

最后，您还可以考虑将 Enums 绑定到下拉列表作为查询数据库的替代方法。同样，这对于不改变的枚举值是可以接受的，例如已发布状态（已发布/草稿/未发布）。

# python - 如何在 Admin Django 中更改用户名称标签

> ID：15901746
> 
> 赞同：0
> 
> 时间：2013-04-09T12:21:17.237
> 
> 标签：python, django, admin

我正在使用 Django，并且我使用自己的自定义用户类，就像这样：

```
class Company(User):
    objects = UserManager() 
```

一切都按预期工作，但在管理员中，它将类的名称显示为用户，而不是公司，如下图所示：

![管理员中的类公司](https://i.stack.imgur.com/rn0Fr.jpg)

这只是标签，一切正常，但我想知道是否有办法将标签更改为公司，而不是用户。感谢您的帮助。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-09T12:50:33.053

您可以`verbose_name`在 django 模型中使用该属性。`verbose_name_plural`可用于定义任何复数属性

```
class Company(User):
    objects = UserManager()
    class Meta:
        verbose_name = "Company"
        verbose_name_plural = "Companies" 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T12:49:33.170

如本主题所述：[django 中管理模型类的详细名称](https://stackoverflow.com/questions/5959462/verbose-name-for-admin-model-class-in-django)

您需要使用子类 Meta 并设置其 verbose_name 属性：

```
class Company(User):
    objects = UserManager()

    class Meta:
        verbose_name = "Company" 
```

# vbscript - 如何通过 EA 脚本工具从 XSDsimpleType 检索限制基值？

> ID：15901755
> 
> 赞同：1
> 
> 时间：2013-04-09T12:21:41.400
> 
> 标签：vbscript, xsd, jscript, enterprise-architect

我正在制作一个脚本，将 XSD 从其在企业架构师中的建模导出到 excel 文件。

到目前为止，虽然在检查一个定型为“XSDSimpleType”的元素时，我无法获得它的“类型”，但这还好。例如，一旦生成 XSD 文件，我将拥有这个：

如何通过自动化接口检索此信息“xs:restriction base="xs:date"”？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-11T04:50:55.123

XSDsimpleType 的“类型”信息存储在 Element 结构的 Genlinks 成员（字符串）中。

# asp.net-mvc - MVC：多个模型通过控制器查看

> ID：15901762
> 
> 赞同：1
> 
> 时间：2013-04-09T12:21:51.333
> 
> 标签：asp.net-mvc

我正在想办法做这个简单的博客。我有一个首页，其中列出了所有博客文章，当您单击博客文章的标题时，您可以输入整个文章，您也可以在其中发表评论。

我的问题是，当我尝试通过控制器传递模型时，我只能访问我的一个模型，无论是帖子还是评论。

这是我的模型：

```
public class Post
{
    public int ID { get; set; }
    public string Title { get; set; }
    public string Message { get; set; }
    public string Author { get; set; }
    public DateTime DateTime { get; set; }

    public List<Comment> Comments { get; set; }
}

public class Comment
{
    public int ID { get; set; }
    public int PostID { get; set; }
    public string Message { get; set; }
    public string Author { get; set; }
    public DateTime DateTime { get; set; }
} 
```

这是我的控制器：

```
public ActionResult Details(int id)
{
    **var dbPosts = db.Posts.Find(id);**

    return View(dbPosts);
} 
```

这是我的看法：

```
@model Blog.Models.Post

@{
    ViewBag.Title = "Details";
}

<h2>@Html.ActionLink(Model.Title, "Details", new { id = Model.ID (@Html.ActionLink("Rediger", "Edit", new { id = Model.ID }) - @Html.ActionLink("Slet", "Delete", new { id = Model.ID }))</h2>
<span class="written">skrevet d. @Model.DateTime.ToLongDateString() @Model.DateTime.ToShortTimeString() af @Model.Author</span>
<p>@Model.Message</p>
<hr />

@foreach (var comment in Model.Comments) {
    <span class="written">skrevet d. @comment.DateTime.ToLongDateString() @comment.DateTime.ToShortTimeString() af @comment.Author</span>
    <p>@comment.Message</p>
    <hr />
}

@using (Html.BeginForm()) {
    <label for="Author">Author</label>
    <input type="text" id="Author" name="Author" />

    <label for="Message">Message</label>
    <textarea id="Message" name="Message"></textarea>

    <input type="submit" value="Gem" />
    <input type="reset" value="Reset" />
} 
```

我用星号标记的地方是我认为出错的地方。我需要让我的帖子和评论模型都通过此详细信息视图。我的问题是，我该怎么做？

我不想让任何先进的东西只是想学习。

提前致以亲切的问候和感谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T12:29:38.920

您必须将 db 中的数据与您的模型进行映射：

```
public ActionResult Details(int id)
{ 
       var model = db.Posts.Where(x => x.Id == id).Select(x => new Post(){
            ID = x.Id,
            Title = x.Title,
            Message = x.Message
        }).FirstOrDefault();

        if (model != null)
        {
            model.Comments = db.Comments.Where(x => x.PostId == model.ID).Select(x => new Comment(){
                ID = x.Id,
                PostId = model.ID,
                Message = x.Message
            }).ToList();

            return View(model);
        }
        else
        {
            // post not found
            return View("NotFoundError");
        }   
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-09T12:43:14.250

您也可以通过 ViewData 传递它，例如

```
public ActionResult Details(int id)
{
    var dbPosts = db.Posts.Find(id);
    // somtthing like that
    var dbComments = db.Comments.Find(dbPost.ID);
    ViewData["KEY_TO_COMMENTS"] = dbComments;
    return View(dbPosts);
} 
```

然后你可以在你的视图中访问你的commects...

```
@var comments = ViewData["KEY_TO_COMMENTS"] as Blog.Models.Comments; 
```

希望这可以帮助...：）

# javascript - 使用 jQuery 函数将格式为“YYYY-MM-DDT12:00:00.000Z”的 ISO 8601 日期转换为“DD.MM.YYYY”？

> ID：15901771
> 
> 赞同：2
> 
> 时间：2013-04-09T12:22:19.820
> 
> 标签：javascript, jquery

我正在开发一个 Backbone 应用程序，并且从 REST API 数据中，我得到了 Mongo 以 ISO 格式**YYYY-MM-DDT12:00:00.000Z**生成的日期。为了在前端视图（jqgrid colmodel）表格网格视图中以人类可读的方式显示，我需要向用户展示一个简单的格式**DD.MM.YYYY**。条件是，我需要通过仅将后端日期的视图转换为这种新格式来转换日期。

有任何想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T12:32:08.980

您可以使用[moment.js](http://momentjs.com)解析字符串并以人类可读的格式输出。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T12:41:32.650

你可以使用这样的函数：

```
var convertDate = function(date){
    var date = date.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})/);
    if(date == null){
        return false;   
    }else{
        var dateObj = {
            dateFormat1 : date[3] + '.' + date[2] + '.' + date[1],
            dateFormat2 : date[1] + '-' + date[2] + '-' + date[3],
            dateFormat3 : date[2] + '/' + date[3] + '/' + date[1],
            time : date[4] + ':' + date[5] + ':' + date[6],
        };
        return dateObj;
    }
};

var obj = console.log(convertDate('2013-04-09T12:00:00.000Z').dateFormat2); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-15T15:35:48.140

我以某种方式通过编写自己的库使其工作。这只是您需要包含的代码实例，用于更改或转换来自服务器端 JSON 模式的日期。

代码：

```
cacheElements: function() {
  this.$datePickers = this.$el.find('.datepicker');
  this.$datePickerStart = this.$datePickers.filter('.start');
  this.$datePickerEnd = this.$datePickers.filter('.end');
  this.$loader = this.$el.find('.timeframe-loader');
},

render: function() {
  this.$el.html(this.template(this.model));

  this.cacheElements();

  this.$datePickers.datepicker({ dateFormat: 'dd.mm.yy' });

  this.delegateEvents();

  return this;
},

_onError: function(model, error) {
  this._hideLoader();
  var $where;
  if (error.where == 'startDate') {
    $where = this.$datePickerStart.closest('div');
  } else if (error.where == 'endDate') {
    $where = this.$datePickerEnd.closest('div');
  }
  new Tooltip.View({
    srcElement: $where,
    content: error.message,
    position: 'bottom'
  });
},

_onClickSendData: function() {
  var start = this.$datePickerStart.val();
  var end = this.$datePickerEnd.val();

  var startDate = humanDateStringToJSDateString(start);
  var endDate = humanDateStringToJSDateString(end);

  // If didn't actually change, do nothing:
  var modelStartDate = this.model.get('startDate');
  var modelEndDate = this.model.get('endDate');
  if (this._compareYYYMMDD(new Date(startDate), modelStartDate) !== 0 || this._compareYYYMMDD(new Date(endDate), modelEndDate) !== 0) {
    this._showLoader();

    this.model.set({
      startDate: new Date(startDate),
      endDate: new Date(endDate)
    });
  }
},

_compareYYYMMDD: function(date1, date2) {
  var num1 = dateToString(date1).replace('-','');
  var num2 = dateToString(date2).replace('-','');
  return date1 - date2;
},

_showLoader: function() {
  this.$loader.show();
},

_hideLoader: function() {
  this.$loader.hide();
},

setEndDate: function() {
  this.$datePickerStart.val(dateToDottedString(addDays(new Date(), - App.state.get('timeframe'))));
  this.$datePickerEnd.val(dateToDottedString(new Date()));
} 
```

});

如果您在理解逻辑上有困难，请告诉我！

* * *

## 回答 #4

> 赞同：-2
> 
> 时间：2013-04-09T12:31:11.330

我怀疑 jQuery 有任何日期解析/格式化功能。

您需要自己解析它并转换为所需的格式。

# android - 通知方法 NotificationCompat - 无错误 - 无通知

> ID：15901775
> 
> 赞同：0
> 
> 时间：2013-04-09T12:22:34.060
> 
> 标签：android, notifications

我正在尝试获得一个简单的通知。我见过很多使用旧 API 方法的示例，但我想使用较新的方法。我已经从 API 资源中将这段代码放在一起，它运行时没有错误。但是，我没有看到任何通知。我有查看通知的最低要求，至少，从我所读的内容来看，我相信是这样。这是我的代码：

```
public class Login extends Activity {
    public static Context ctx;

public void onCreate(Bundle savedInstanceState) {
    ctx = this;
 }

private static void notice(String msgfrom, String msg) {
    NotificationCompat.Builder mBuilder =   new NotificationCompat.Builder(ctx);
    mBuilder.setSmallIcon(R.drawable.ic_launcher);
    mBuilder.setContentTitle("New message from " + msgfrom.toString());
    mBuilder.setContentText(msg);
    mBuilder.build();
}
} 
```

感谢下面的帮助，我修改了我的代码

```
NotificationCompat.Builder nb =   new NotificationCompat.Builder(ctx);
nb.setSmallIcon(R.drawable.ic_launcher);
nb.setContentTitle("New message from " + msgfrom.toString());
nb.setContentText(msg);
nb.setAutoCancel(true);

Notification notification = nb.build();
NotificationManager NM = (NotificationManager)         
ctx.getSystemService(NOTIFICATION_SERVICE);
NM.notify(0, notification); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-09T12:37:15.840

![在此处输入图像描述](https://i.stack.imgur.com/rQXzx.png)

如果您想在所有 Android 设备 <= android 4.2 中运行通知，那么只需`android-support-v4.jar`在您的项目中添加文件并

使用以下代码：

```
NotificationCompat.Builder mBuilder =
        new NotificationCompat.Builder(this)
        .setSmallIcon(R.drawable.notification_icon)
        .setContentTitle("My notification")
        .setContentText("Hello World!");
// Creates an explicit intent for an Activity in your app
Intent resultIntent = new Intent(this, ResultActivity.class);

// The stack builder object will contain an artificial back stack for the
// started Activity.
// This ensures that navigating backward from the Activity leads out of
// your application to the Home screen.
TaskStackBuilder stackBuilder = TaskStackBuilder.create(this);
// Adds the back stack for the Intent (but not the Intent itself)
stackBuilder.addParentStack(ResultActivity.class);
// Adds the Intent that starts the Activity to the top of the stack
stackBuilder.addNextIntent(resultIntent);
PendingIntent resultPendingIntent =
        stackBuilder.getPendingIntent(
            0,
            PendingIntent.FLAG_UPDATE_CURRENT
        );
mBuilder.setContentIntent(resultPendingIntent);
NotificationManager mNotificationManager =
    (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);
// mId allows you to update the notification later on.
mNotificationManager.notify(mId, mBuilder.build()); 
```

**此代码适用于 android 2.1 到 4.2。**

有关更多详细信息，请查看[此](https://stackoverflow.com/a/15739018/1168654)链接和[此](https://stackoverflow.com/a/15760297/1168654)链接。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-09T13:43:40.963

你错过了最后一步。您正在构建您的通知，您仍然需要通过以下方式将其发布到系统：

```
( (NotificationManager) ctx.getSystemService ( Context.NOTIFICATION_SERVICE ) ).notify ( 100 , mBuilder.build () ); 
```

* * *

**编辑 ：**

**notify**方法中使用的整数 100（我随机选择）是通知的唯一标识符。如果您需要更新或取消通知，您应该使用相同的标识符。

* * *

**笔记 ：**

将活动的联系人存储在静态变量中可能会导致内存泄漏！取而代之的是，您可以更改此：

```
private static void notice(String msgfrom, String msg) 
```

对此

```
private static void notice(Context ctx , String msgfrom, String msg) 
```

因此删除静态变量。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-09T12:29:31.887

试试这个

只需在您的内部调用`onCreate()`

```
 Public void Player_Notification()
    {
    final String myBlog = "http://android-er.blogspot.com/";
    notificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);
    myNotification = new Notification(R.drawable.ic_launcher,"Audio Track is playing in background!",System.currentTimeMillis());
    Context context = getApplicationContext();

     // here is title
    String notificationTitle = Title;
     // here is sub title
    String notificationText = data; 
    // write your activity name which you want to open when user click on notification
    Intent myIntent = new Intent(this, Activty.class);
    PendingIntent pendingIntent = PendingIntent.getActivity(Activty.this, 0, myIntent,
    Intent.FLAG_ACTIVITY_NEW_TASK);

  // intent will call your activity as you want
   myNotification.defaults |= Notification.DEFAULT_SOUND;
   myNotification.flags |= Notification.FLAG_AUTO_CANCEL;
   myNotification.setLatestEventInfo(context, notificationTitle,
   notificationText, pendingIntent);
   notificationManager.notify(MY_NOTIFICATION_ID, myNotification);

    } 
```

# php - 连接 SQL 主机故障

> ID：15901780
> 
> 赞同：0
> 
> 时间：2013-04-09T12:22:40.657
> 
> 标签：php, html, mysql

我是使用 PHP 和 mySQL 的新手，基本上我在尝试运行我的网站时遇到了这个错误。

```
Warning: mysql_connect(): Unknown MySQL server host 'host' (1) in /**/**/**/**/**/register.php on line 2 Unknown MySQL server host 'host' (1) 
```

这是我在 register.php 文件中使用的第 2 行代码

```
mysql_connect('host', 'database', 'password') or die (mysql_error()); 
```

我有 3 个文件 create-table.php、index.php 和 register.php。我正在关注的教程说“但不要忘记将主机，数据库和密码更改为您的”，我不明白该怎么做。这是我的创建表代码：

```
<?php
mysql_connect('host', 'database', 'password') or die (mysql_error());
mysql_select_db('database') or die (mysql_error());
mysql_query("create table users(
username varchar(30) NOT NULL, 
password varchar(30) NOT NULL, 
PRIMARY KEY (username)
)") or die (mysql_error());
//Show "Complete" if everything works
echo "Complete.";
?> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-09T12:25:56.190

除非您的主机文件中有一条记录将“主机”指向 127.0.0.1 或“本地主机”，否则您需要使用“本地主机”作为主机名。

```
mysql_connect('localhost', 'database', 'password') or die (mysql_error()); 
```

假设（当然）您的 mysql 套接字是本地托管的。

[`mysql_connect`](http://php.net/mysql_connect)有关如何连接到 mysql 的许多示例，请参阅文档。

另外，请注意... Mysql 即将弃用。如果这是新代码，请考虑[`PDO MySQL`](http://php.net/PDO)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-09T12:23:56.317

您的连接`mysql_connect();`应包含数据库的用户名而不是数据库名称

```
mysql_connect('host', 'username', 'password') or die (mysql_error()); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-09T12:28:18.630

你必须给你的主机、用户和密码。我通常使用：

```
 define('MYSQL_HOST',"localhost");
    define('MYSQL_USER',"youruser");
    define('MYSQL_PASS',"youpassword"); 
```

然后我连接到数据库并选择它：

```
$db->Connect("localhost","youruser","yourpassword");
    $db->selectDb("databasename"); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-09T12:29:59.127

```
$host = "localhost";
$username = "myusername"; //replace myusername with your real mysql connection username
$password = "mypassword"; //replace mypassword with your real mysql connection password
mysql_connect($host, $username, $password) or die (mysql_error()); 
```

# java - 在 Android 应用程序中注册 Google 凭据

> ID：15901781
> 
> 赞同：0
> 
> 时间：2013-04-09T12:22:43.877
> 
> 标签：java, android, single-sign-on

我希望我的用户使用 Google 用户名和密码在我的 Android 应用中注册。我怎样才能做到这一点？

任何人都可以为其提供示例代码或可以逐步解释它。我浏览了许多文件，但没有找到任何解决方案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T13:17:26.353

您可以使用的主要内容是[Google+ 登录](https://developers.google.com/+/features/sign-in)。或者，您可以使用基本的 Google OAuth2 流程，尽管它更难集成（AccountManager 也使它看起来有点不利于用户）。

# javascript - 匹配 @username 和 #topic 并将结果包装在 span 中

> ID：15901783
> 
> 赞同：0
> 
> 时间：2013-04-09T12:22:49.283
> 
> 标签：javascript, regex

我正在尝试解析原始推文字符串以匹配@username 和#topic 部分，我能够匹配它们，但我不熟悉如何包装它们。

我的代码：

```
"Hey @someotheruser this is a tweet about #topic1 and #topic1".replace(/(^|)@(\w+)/, '<span class="mention">?result of match?</span>');

"Hey @someotheruser this is a tweet about #topic1 and #topic1".replace(/(^|)#(\w+)/, '<span class="hash">?result of match?</span>'); 
```

所以我的问题是：我如何得到我的比赛结果，并用跨度包装它？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-09T12:26:50.847

```
var my_string = 'Hey @someotheruser this is a tweet about #topic1 and #topic1';

my_string = my_string.replace(/(\@\w+)/g, '<span>$&</span>');
my_string = my_string.replace(/(\#\w+)/g, '<span>$&</span>');

console.log(my_string); 
```

**输出**

```
Hey <span>@someotheruser</span> this is a tweet about <span>#topic1</span> and <span>#topic1</span> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-09T12:27:25.383

一个例子：

```
myString.replace(/(^|)@(\w+)/g, function handleMatch(match) {
    return '<span class="mention">' + match + '</span>';
})
.replace(/(^|)#(\w+)/g, function handleMatch(match) {
    return '<span class="hash">' + match + '</span>';
}); 
```

# python - 具有有限票据和多数量的变更制定算法

> ID：15901789
> 
> 赞同：0
> 
> 时间：2013-04-09T12:22:58.277
> 
> 标签：python, algorithm, dynamic-programming

给定多个金额，以及笔记列表（您不能重复它们）。我需要找到笔记组合来放弃所有金额。

> 例如：如果注释是：`[1,1,5,6,6,8,8,10]`并且金额是`[15, 14, 16]`。
> 
> 解决方案可以是`{15:(10,5), 14:(6,8), 16:(1,1,6,8)}`

[这是此处](http://www.algorithmist.com/index.php/Coin_Change)描述的变更问题的变体。下面是使用动态编程解决标准变更问题的代码，给定 V（无限面额的集合）和 C（金额）。如何为非重复音符和多个金额修改它。还需要每个数量的最终组合。

```
def min_change(V, C):
    m, n = len(V)+1, C+1
    table = [[0] * n for x in xrange(m)]
    for j in xrange(1, n):
        table[0][j] = float('inf')
    for i in xrange(1, m):
        for j in xrange(1, n):
            aC = table[i][j - V[i-1]] if j - V[i-1] >= 0 else float('inf')
            table[i][j] = min(table[i-1][j], 1 + aC)
    return table[m-1][n-1] 
```

**更新：**

改变问题是NP完全的。这里有详细的论文[http://www.or.deis.unibo.it/kp/Chapter5.pdf](http://www.or.deis.unibo.it/kp/Chapter5.pdf)尽管如此，还是有一些解决方案是相当理想的并且可以给出结果。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-09T13:51:40.080

正如@MissingNumber 所说，它实际上可能比NP-complete 更糟糕。子集子问题会询问*是否存在解决方案*。该问题被认为是[NP-hard](http://en.wikipedia.org/wiki/Np_hard)。您的问题实际上提出了更困难的问题，即*存在多少解决方案*？这种问题属于[P#（P-sharp）](http://en.wikipedia.org/wiki/Sharp-P)复杂性类，我相信它是 P#-complete，至少与 NP-complete 版本一样难（并且可能更难）。

来自维基百科的一些示例来区分这两个类：

> NP 问题通常具有以下形式：“是否存在满足某些约束的解决方案？”

1.  整数列表中是否有任何子集加起来为零？（子集和问题）
2.  给定图中是否存在成本小于 100 的哈密顿循环？（旅行推销员问题）
3.  是否有任何满足给定 CNF 公式的变量赋值？（布尔可满足性问题）

> 相应的#P 问题询问“有多少”而不是“有没有”。例如：

1.  整数列表中有多少个子集加起来为零？
2.  给定图中有多少个哈密顿循环的成本小于 100？
3.  有多少变量赋值满足给定的 CNF 公式？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T12:29:40.733

这是 NP 完全问题，请在以下位置找到最佳解决方案：

[http://en.wikipedia.org/wiki/Subset_sum_problem](http://en.wikipedia.org/wiki/Subset_sum_problem)

# highcharts - 在 Highcharts 饼图中隐藏标签指南

> ID：15901798
> 
> 赞同：4
> 
> 时间：2013-04-09T12:23:16.260
> 
> 标签：highcharts

在 Highcharts 中，我一直在使用 dataLabel 格式化程序为零值返回一个空字符串值。这有效地隐藏了零值的标签。但是，在饼图中，有一个指向每个饼图切片的指南，即使该切片的值为零。如果不直接操作 DOM 元素，我似乎无法删除这些准则。我想在图表中保留空饼片，因为我正在根据用户操作的过滤条件动态更新图表，但我想隐藏指向空饼片的指南。

有谁知道配置 Highcharts 的方法删除指向空饼片的指南？我可以使用下面的格式化程序清除标签本身：

```
formatter: function ()
{
   var y = this.y;
   if (y == 0)
     return "";
   ...
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-09T13:08:49.523

您可以尝试使用：

```
 if(this.y == 0)
                            return null    
                        else
                            return this.y 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-10T12:35:08.150

当格式化程序函数评估要显示的值时，上下文可以访问指南路径元素。通过对格式化程序进行以下更改，我能够隐藏指南：

```
formatter: function ()
{
  var y = this.y;
  //Hide the labels for empty pie slices
  if (y == 0)
  {
    //If there is a pie chart label guideline, hide it
     if (this.point.connector)
        $(this.point.connector.element).attr("stroke", "#FFFFFF");
    return "";
  }
  //If the label guideline was previously hidden, show it
  if (this.point.connector)
     $(this.point.connector.element).attr("stroke", "#000000");

  ...
 } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-06-23T23:55:28.063

使连接器宽度为 0。

```
dataLabels: {
    connectorWidth: 0,
    ...
} 
```

# java - Mac 上的 Eclipse：将 SWT 引用添加到 Swing 应用程序：应用程序无法启动

> ID：15901804
> 
> 赞同：1
> 
> 时间：2013-04-09T12:23:25.410
> 
> 标签：java, macos, swing, jar, swt

在 Mac 上，当我向 Swing 应用程序添加 SWT 引用时，app/.jar 不再启动。

然而，在 Windows 上做同样的事情可以正常工作，我可以加载一个带有 SWT 组件的 Swing JFrame。

在 Mac 上，独立 SWT 工作正常，但我无法将 SWT 组件添加到 Swing JFrame。我已经尝试了两种 SWT Mac 版本。

编辑：

似乎是 Eclipse 中的一个错误，因为它可以在导出 .jar 时启动它，但如果我正在调试则不行。

# c# - 使用局部视图时刷新部分

> ID：15901810
> 
> 赞同：2
> 
> 时间：2013-04-09T12:23:35.320
> 
> 标签：c#, .net, asp.net-mvc, asp.net-mvc-4

我有`_Layout.cshtml`，内容是：

```
...
@RenderSection("MyTitle", required: false)
<div class="innerLR">
    <div id="appContent">
    @RenderBody()
    </div>
</div>
... 
```

当我启动应用程序时，我去这个动作`Home/Index`，视图

```
public ActionResult Index()
{
    return View(new BaseModel { Title = "Testing"});
} 
```

视图 Index.cshtml ：

```
@section MyTitle{ @Model.Title }
bla bla bla 
```

这时候没关系，我看到了：*Testing + bla bla bla*。

现在`Home/SecondAction`，当我单击链接时，我通过 Ajax 调用，控制器返回一个 PartialView 并在`appContent`div 中显示内容。我这样称呼：

```
$.ajax({
    url: 'Home/SecondAction',
    type: 'POST',
    data: {},
    success: function (result) {
        $(#appContent).html(result);
    }
}); 
```

行动是：

```
public ActionResult SecondAction()
{
    return PartialView(new BaseModel { Title = "Other Title" });
} 
```

SecondAction.cshtml 是：

```
@section MyTitle{ @Model.Title }
bla bla again 
```

这行不通，我会有任何错误，但我可以从第一个操作中获取文本，而不是：

*其他 Titla bla bla 再次*

要恢复，我想在返回`PartialView`渲染部分时从`_Layout.cshtml`

谢谢，

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-09T21:22:49.160

您似乎试图在 AJAX 调用之后更新 DOM 的 2 个不同部分。实现这一目标的一次可能是让您的控制器操作将 2 个部分的呈现结果作为 JSON 返回：

```
public ActionResult SecondAction()
{
    return Json(new
    {
        section1 = RenderPartialViewToString("_Partial1", null),
        section2 = RenderPartialViewToString("_Partial2", new BaseModel { Title = "Other Title" }),
    });
} 
```

你的 AJAX 调用现在看起来像这样：

```
$.ajax({
    url: 'Home/SecondAction',
    type: 'POST',
    success: function (result) {
        // TODO: you should of course wrap the contents of section 1 in a div with
        // id="section1" in your _Layout.cshtml
        $('#section1').html(result.section1);

        $('#appContent').html(result.section2);
    }
}); 
```

现在您可能想知道`RenderPartialViewToString`方法来自哪里？它来自[`here`](https://gist.github.com/cassioeskelsen/831567). 或者[`here`](https://stackoverflow.com/questions/9243433/how-to-render-a-razor-view-to-a-string-in-asp-net-mvc-3)如果你愿意的话。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T12:28:30.853

使用[firebug](http://getfirebug.com/)并在控制台中查找错误或 Chrome 网络工具（在 chrome 中按 F12），

它应该是`$('#appContent').html(result);`

确保你有 IndexPartial View

确保此视图未使用母版页/布局

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-09T12:41:39.387

我已经深入了解了您`SecondAction`在 $.ajax 中调用的代码，即：`url: 'Home/SecondAction'`。但是您的操作方法名称是`IndexPartial`：

```
public ActionResult IndexPartial()
{
    return PartialView(new BaseModel { Title = "Other Title" });
} 
```

请像这样更改您的 $.ajax 语句：

```
$.ajax({
    url: 'Home/IndexPartial',
    type: 'POST',
    data: {},
    success: function (result) {
        $(#appContent).html(result);
    }
}); 
```

谢谢

# python - 覆盖数据列表：获取文件及其列表并将该列表写入 CSV 文件

> ID：15901814
> 
> 赞同：0
> 
> 时间：2013-04-09T12:23:44.837
> 
> 标签：python

我想取一个好的名称及其列表并将其替换为另一个 CSV 文件，或者用它自己替换 csv 文件，用相同的内容覆盖它。
函数命令应该是 save_friends('data.csv', load_friends('data.csv'))

```
def save_friends(friend_info, new_list):
    with open(friend_info, 'w') as f:
        for line in new_list:
            f.write(line + '\n') 
```

使用这个函数我得到这个错误 TypeError: can only concatenate tuple (not "str") to tuple

所以我在`v.append(tuple(line))`上面添加了`f.write(line + '\n')`，它基本上用空数据覆盖了文件。我如何让这个功能工作？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T12:29:05.790

在我看来，这`new_list`是一个包含元组对象的可迭代对象。因此，您不能将其与 a 连接`str`：

```
>>> ("foo","bar") + "\n"
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
TypeError: can only concatenate tuple (not "str") to tuple 
```

*典型的*方法是在`str.join`尝试将其与. 例如：`tuple``str` *`"\n"`*

 *```
>>> ','.join(("foo","bar")) + "\n"
'foo,bar\n' 
```

因此，将其应用于您的代码会给我们留下：

```
def save_friends(friend_info, new_list):
    with open(friend_info, 'w') as f:
        for line in new_list:
            f.write(','.join(line) + '\n') 
```

根据元素`line`是什么，您可能需要更进一步确保元组中的每个元素也是`str`：

```
f.write(','.join(str(x) for x in line) + '\n') 
```

因为如果`join`遇到不是字符串的元素，它会抱怨：

```
>>> ','.join((1,2,3))
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
TypeError: sequence item 0: expected string, int found 
```*

# c# - 通过单击按钮更改控件的可见性

> ID：15901820
> 
> 赞同：0
> 
> 时间：2013-04-09T12:24:05.287
> 
> 标签：c#, visibility

我正在用c#开发一个项目。我的表单中有一个文本框，下面有一个按钮。我想通过单击按钮来更改文本框的可见性。例如，当表单加载时，文本框是隐藏的。当用户单击按钮，文本框出现在表单上。然后用户第二次再次单击它，文本框再次隐藏。我应该怎么做。请帮助我。

感谢您的帮助。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-09T12:27:54.683

```
private void button1_Click(object sender, EventArgs e)
{
    textBox1.Visible = !textBox1.Visible;
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-09T12:27:51.260

像这样的事情应该这样做

```
 private void button1_Click(object sender, EventArgs e)
        {
            tbProgress.Visible = !tbProgress.Visible;
        } 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-09T12:26:13.753

```
 bool showtext = false;

    public Form1()
    {
        InitializeComponent();
        textBox1.Visible = showtext;
        button1.Click += button1_Click;
    }

    private void button1_Click(object sender, EventArgs e)
    {
        showtext = !showtext;
        textBox1.Visible = showtext;
    } 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-09T12:29:31.883

```
 public partial class Form1 : Form
    { 
        bool buttonvisible = false;

        public Form1()
        {
            InitializeComponent();
            button1.Visible = false;
            button1.Click += button1_Click;
        }

        private void button1_Click(object sender, EventArgs e)
        {
            if(buttonvisible)
            {
                buttonvisible = false;
                button1.Visible = false;
            }
            else
            {
                buttonvisible = true;
                button1.Visible = true;
            }
        }
    } 
```

或者简单，但不太可编辑：

```
private void button1_Click(object sender, EventArgs e)
{
    button1.Visible = !button1.Visible;
} 
```

# javascript - 在 knockout.js 中对计算值求和

> ID：15901822
> 
> 赞同：0
> 
> 时间：2013-04-09T12:24:10.570
> 
> 标签：javascript, knockout.js

我试图总结一组给定项目的总成本。每个项目都有一个总成本，即价格 * 数量。这计算很好。但是，我现在试图总结所有项目的总成本。

考虑到所有项目总数都是单独计算的，我该如何总结它们？这是在 viewModel、模型还是两者之外完成的？

这是小提琴 [http://jsfiddle.net/B9rAt/3/](http://jsfiddle.net/B9rAt/3/)中的代码。就目前而言，总数不会显示。如果您删除总数中的“*数量”位，它将显示，但这只是商品价格的总和，而不是商品的总和。

```
function ItemEntry(ID, inventory, price) {
    var self = this;
    self.ID = ID;
    self.inventory = inventory;
    self.price = price;

    self.selectedQuantity = ko.observable(); //returned value (trying to get it at least!)

    self.itemTotal = ko.computed(function() {
        var price = self.price;
        var quantity = self.selectedQuantity();
        var total = price * quantity; 
        return total ? "$" + total.toFixed(2) : "None";
    });

    self.formattedPrice = ko.computed(function() {
        var price = self.price;
        return price ? "$" + price.toFixed(2) : "None";        
    });
}

function EntryViewModel(newItem) {
    var self = this;
    self.newItem = newItem;

    //start the array with some items
    self.itemNumbers = ko.observableArray([
        new ItemEntry("1", 3, 4.99) //ID, inventory, price 
,new ItemEntry("6", 2, 10.00) //ID, inventory, price 
    ]);

   //Compute total cost here
   self.totalCost = ko.computed(function() {
       var total = 0;
       var quantity = self.selectedQuantity();
        for (var i = 0; i < self.itemNumbers().length; i++) {
            total += Number(self.itemNumbers()[i].price * quantity);
        }
       return total;
    });    

    self.removeItem = function(item) { self.itemNumbers.remove(item) }
}

//populate the select list with values up to the number in inventory (ex, if inventory is 3, it will fill with 0-7)
ko.bindingHandlers.quantityDropdown = {
    init: function(quantityDropdown, inventory, EntryViewModel) {
        var quantity = ko.utils.unwrapObservable(inventory());
        for(var i = 1; i <= quantity; i++){
            $(quantityDropdown).append('<option value="' + i + '">' + i + '</option>');
        }
    }
};

ko.applyBindings(new EntryViewModel()); 
```

# java - 使用注释来记录参数传递策略？

> ID：15901827
> 
> 赞同：1
> 
> 时间：2013-04-09T12:24:20.463
> 
> 标签：java, design-patterns, annotations, findbugs

在方法调用中传递可变对象会将对象暴露给被调用者修改，这可能是也可能不是调用者的意图，如下例所示：

```
service.configure(parameters); 
```

它可能 (1) 告诉服务“为自己配置这些参数”，或者它可能 (2) 要求服务“为我配置这些参数”。

在第一种情况下，您可以通过将保护性副本传递给服务来保护对象不被修改（在某些语言中，您可以按值传递它）。在第二种情况下，您故意传递对象以对其进行修改。有很多可能性，各有利弊，但清楚地记录你的意图总是有帮助的。

您是否知道将参数标记为“只读”或“允许修改”的注释？讨论已打开...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T14:55:57.707

借鉴jsr305 `javax.annotation.concurrent.Immutable`，我开始使用`Mutable`注解，意思是“这个对象要被修改”。没有与之关联的 findbugs 检查；它只是改进了文档。例子：

```
service.configure(@Mutable parameters); 
```

现在您可以第一眼看到`parameters`正在更改的内容。

# javascript - Javascript Regexp 搜索特定类

> ID：15901830
> 
> 赞同：0
> 
> 时间：2013-04-09T12:24:48.800
> 
> 标签：javascript, regex

我有一个简单的正则表达式，代码如下：

```
<img[^>]+src="([^">]+)" 
```

这个正则表达式允许我获取文档中每个 img 的 src。我试图做的没有任何成功，是向它添加一个类条件，这将找到我的图像的所有具有特定类的 src。我尝试过这样的事情：

```
<img[^>]+src="([^">]+)" *class="name_of_my_class" 
```

但这仅在将类插入到 src 之后才有效，并且我需要正则表达式以反向方式工作。

感谢您的帮助！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-09T12:33:59.323

已经说过你不应该使用正则表达式blablabla......
不过，如果我让你同时学习一些关于正则表达式的东西，我可以处理我的良心，所以，让我们这样做。这里的关键工具是[前瞻](http://www.regular-expressions.info/lookaround.html)。

```
/<img(?=[^>]+class="name_of_my_class")[^>]+src="([^">]+)"/ 
```

前瞻允许您在不移动字符串内的指针的情况下检查某些内容。所以基本上，你先检查一下。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-09T12:31:46.237

如果您需要遍历文档、搜索类和返回属性，您可能会发现使用 DOM 查询工具更容易：

```
var imgSrcArray = [].slice.call(document.querySelectorAll('img.myClassName'),0)
                       .map(function(img) {
                          return img.getAttribute('src');
                       }); 
```

（示例假设启用了 querySelector 和 Array.prototype.map 的现代浏览器）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-09T12:36:27.847

考虑到这两种情况可能是一个解决方案，在 src 属性之前或之后进行分类：

```
<img[^>]+?((src="([^">]+)"[^>]*?class="name_of_my_class")|(class="name_of_my_class"[^>]*?src="([^">]+)"))[^>]*> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-09T12:41:40.920

嗯，我真的不知道如何在正则表达式中做到这一点，但我认为你可以按照以下方式做到这一点：

```
<img 
    {any charakter except >}* 
    (
        {check for class} {any charakter except >}* {get src} 
        ||
        {get src} {any charakter except >}* {check for class}
    )
    {any charakter except >}*
> 
```

*表示0次或多次

# java - 如何在 Java 中内存映射（mmap）一个 linux 块设备（例如 /dev/sdb）？

> ID：15901832
> 
> 赞同：8
> 
> 时间：2013-04-09T12:24:55.620
> 
> 标签：java, java-native-interface, mmap, memory-mapping

我可以使用 Java 读/写 linux 块设备`java.nio`。以下代码有效：

```
Path fp = FileSystems.getDefault().getPath("/dev", "sdb");
FileChannel fc = null;
try {
  fc = FileChannel.open(fp, EnumSet.of(StandardOpenOption.READ, StandardOpenOption.WRITE));
} catch (Exception e) {
  System.out.println("Error opening file: " + e.getMessage());
}
ByteBuffer buf = ByteBuffer.allocate(50);
try {
  if(fc != null)
    fc.write(buf);
} catch (Exception e) {
  System.out.println("Error writing to file: " + e.getMessage());
} 
```

但是，内存映射不起作用。以下代码**失败**：

```
MappedByteBuffer mbb = null;
try {
  mbb = fc.map(FileChannel.MapMode.READ_WRITE, 0, 100);
} catch (IOException e) {
  System.out.println("Error mapping file: " + e.getMessage());
} 
```

这失败并出现错误：

```
java.io.IOException: Invalid argument
    at sun.nio.ch.FileDispatcherImpl.truncate0(Native Method)
    at sun.nio.ch.FileDispatcherImpl.truncate(FileDispatcherImpl.java:79)
    at sun.nio.ch.FileChannelImpl.map(FileChannelImpl.java:817) 
```

有解决办法吗？也许通过使用不同的库？我在某处读到，也许通过使用 JNI 我可以做到这一点，但我找不到任何来源。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-07-10T02:50:37.080

根据[文档](http://docs.oracle.com/javase/6/docs/api/java/nio/channels/FileChannel.html#map%28java.nio.channels.FileChannel.MapMode,%20long,%20long%29)，实际映射文件的机制留给实现。似乎该实现正在尝试截断文件（可能是因为块设备大小与您指定的大小不同？）。

我很好奇你为什么直接从块设备读取（除非你试图编写某种文件系统实用程序或需要执行原始 I/O 的东西）。如果您需要直接从块设备作为内存映射文件读取，您可能需要编写一些 C/C++ 代码来映射文件并处理对其的读/写，并使用 Java/JNI 桥接类来桥接对您的调用C/C++ 代码。这样您就可以自己处理调用 mmap() 并且可以指定您需要的任何选项。查看[mmap() 文档](http://man7.org/linux/man-pages/man2/mmap.2.html)，您可能无法在您的平台上指定块设备（我猜是 Linux，但我可能是错的）。

如果您绝对需要在 Java 中执行此操作，您可能需要执行适当长度和偏移量的 read() 调用和 write() 调用。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2016-02-26T22:57:00.363

我发现最简单的方法是使用[JNA](https://github.com/java-native-access/jna)和一点`sun.*`/`com.sun.*`魔术。首先，您需要`libc`像这样包装：

```
import com.sun.jna.LastErrorException;
import com.sun.jna.Library;
import com.sun.jna.Native;
import com.sun.jna.Pointer;

public interface LibC extends Library {
    LibC instance = (LibC) Native.loadLibrary("c", LibC.class);

    Pointer mmap(Pointer address, long length, 
                 int protect, int flags, int fd, 
                 long offset) throws LastErrorException;
    // implement more methods if you like
} 
```

然后你几乎完成了！您只需要获取文件描述符。这可能有点棘手：

```
RandomAccessFile randomAccessFile = new RandomAccessFile(file, "rw");
int fd = sun.misc.SharedSecrets.getJavaIOFileDescriptorAccess()
                               .get(randomAccessFile.getFD()); 
```

就是这样。现在你可以`libc`从java调用：

```
Pointer result = LibC.instance.mmap(
    /*pass your desired parameters along with obtained fd*/
); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-09-19T21:01:25.747

FileChannel.map 尝试将文件截断为指定大小：[请参阅实现](http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/7-b147/sun/nio/ch/FileChannelImpl.java#810)

您将需要获取块设备的大小并将该确切大小传递给 map 调用。

如果实际设备的大小大于您的可用内存，请不要担心。操作系统将根据需要处理交换页面进出内存。

# r - 绘制太多点？

> ID：15901834
> 
> 赞同：3
> 
> 时间：2013-04-09T12:25:00.573
> 
> 标签：r, plot, large-data

R（base、lattice 或其他）如何从 100000 个元素向量（或输出该值的函数）创建图形？它会策划一些并拒绝其他人吗？把所有的情节都放在一起？我怎样才能改变这种行为？

我怎样才能创建一个图表，在每个间隔中我都可以看到最大值和最小值，就像在交易“条形”图表中一样？（或任何其他想法来可视化那么多信息，而无需自己事先计算间隔、分钟和最大值，也不需要使用财务包）

我怎样才能创建一个大的“水平滚动”图？

例如，我想绘制前 100000 次迭代

```
zz <- (zz^2+1) %% nn 
```

从 zz=1, nn = 10^7+1 开始 x 轴就是迭代次数。

总结。我想在一个很大的间隔内绘制一个有时很软但有时非常尖的函数的输出。尖峰非常重要。

问候

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-09T13:47:17.633

你提到你有时会有非常重要的尖峰。

请参阅下面我如何绘制`ping`结果，其中绝大多数数据以毫秒为单位，但峰值对我来说也很重要：

![平](https://i.stack.imgur.com/3xYaf.png)

基本上，我`hexbin`的所有数据点的响应时间都 < 500 毫秒，而所有更长的响应时间的绘图点。5s响应时间另外标记为超时：

```
ggplot (df, aes (x = date, y = t5)) + 
        stat_binhex (data = df [df$t5 <= 0.5,], bins = nrow (df) / 250) +
        geom_point (data = df [df$t5 > 0.5,], aes (col = type), shape = 3) +
        ylim (c (0, 5)) +
        scale_fill_gradient (low = "#AAAAFF", high = "#000080") +
        scale_colour_manual ("response type", 
                             values = c (normal = "black", timeout = "red")) + 
        ylab ("t / s") 
```

*我想我已经发布了这个作为类似问题的解决方案，但我找不到它。*

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-09T12:29:53.937

如果 R 可以生成绘图，它将简单地绘制点，即使它们彼此重叠。一般来说，这么多的点对绘图并没有真正的用处，也没有必要。处理这个问题的一些策略是：

*   子样本，比如说，2% 的数据并绘制它。重复几次，看看结果是否改变
*   不要绘制原始数据，而是先汇总。考虑计算时间平均值，首先对数据进行分箱等。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-09T12:46:21.863

R 将绘制所有点，并且事情可能看起来很混乱。

这是一个新包，但请查看 Hadley 的[bigvis 包](https://github.com/hadley/bigvis)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-09T12:42:28.407

`curve`可能是一个不错的方式去这里：

```
f <- function(x){(x^2+1)%%(1+1e7)}
curve(f, from=1, to=1e5) 
```

![在此处输入图像描述](https://i.stack.imgur.com/PepVo.png)

# vb6 - 在 VB6 中创建在程序终止时自动终止的子进程

> ID：15901836
> 
> 赞同：-1
> 
> 时间：2013-04-09T12:25:02.430
> 
> 标签：vb6, watchdog

我想创建一个运行两个子进程的程序。现在，我希望当我的应用程序被任务管理器终止或崩溃时，它的两个子进程应该自动终止。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-10T16:34:04.360

在 Windows 中，您可以使用[Job Objects——](http://msdn.microsoft.com/en-us/library/ms684161%28VS.85%29.aspx)最接近 Linux 中的进程组的东西。只需研究 API，它与 XP（可能是 SP3）及更高版本兼容。

您必须将您的 VB6 进程分配给一个作业，然后您生成的所有其他进程都隐含地成为该作业的一部分。

看看在[windows 上用 c++ 执行相当于“Kill Process Tree”的操作](https://stackoverflow.com/questions/604522/performing-equivalent-of-kill-process-tree-in-c-on-windows)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T14:02:17.157

让客户端使用 FindWindow API 检查主机是否仍在运行

例如：启动计算器，运行以下示例项目，然后关闭计算器.. 关闭计算器后，此示例项目也将关闭

```
'1 form with:
'  1 timer: name=Timer1
Option Explicit

Private Declare Function FindWindow Lib "user32" Alias "FindWindowA" (ByVal lpClassName As String, ByVal lpWindowName As String) As Long

Private Sub Form_Load()
  With Timer1
    .Interval = 100
    .Enabled = True
  End With 'Timer1
End Sub

Private Sub Timer1_Timer()
  Dim hwnd As Long
  hwnd = FindWindow(vbNullString, "Rekenmachine")
  If hwnd = 0 Then Unload Me
End Sub 
```

（Rekenmachine是windows中计算器的荷兰语名称，请改用您自己的程序名称）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-10T10:10:23.967

如果我错了，请纠正我：您有一个应用程序启动了 2 个其他进程（您无权访问其中的源代码），并且您希望在您的应用程序结束时终止这 2 个进程？

这可以在您的应用程序启动一个额外的进程时完成，该进程监视您的应用程序的状态并负责关闭其他 2 个进程

例如，一个粗略的监控应用程序可能存在 1 个模块：

```
Option Explicit

Public pstrArg() As String

Private Sub Main()
  pstrArg = Split(Command, " ")
  Load frmMonitor
End Sub 
```

这个模块加载了一个名为 frmMonitor 的表单，上面有一个计时器控件：

```
Option Explicit

Private Declare Function FindWindow Lib "user32" Alias "FindWindowA" (ByVal lpClassName As String, ByVal lpWindowName As String) As Long

Private Sub Form_Load()
  With Timer1
    .Interval = 100
    .Enabled = True
  End With 'Timer1
End Sub

Private Sub Timer1_Timer()
  Dim intIndex As Integer
  If FindWindow(vbNullString, pstrArg(0)) = 0 Then
    For intIndex = 1 To UBound(pstrArg)
      TerminateProcess pstrArg(intIndex)
    Next intIndex
    End
  End If
End Sub

Private Sub TerminateProcess(strName As String)
  Dim Process As Object
  For Each Process In GetObject("winmgmts:").ExecQuery("Select Name from Win32_Process Where Name = '" & strName & "'")
    Process.Terminate
  Next
End Sub 
```

确保监控应用程序的启动函数是 sub Main 以便您可以使用命令行参数调用它

您可以按如下方式进行测试：将监控应用程序编译到 MonitorApp.exe 中，并将其放在与名为 frmTest 的 1 个表单的现有测试项目相同的文件夹中：

```
'1 form with:
'  1 timer control: name=Timer1
'  1 command button : name=Command1

Option Explicit

Private Sub Command1_Click()
  Shell "calc.exe"
End Sub

Private Sub Form_Load()
  Shell App.Path & "\MonitorApp.exe frmTest calc.exe"
End Sub 
```

每次单击命令按钮时都会启动一个计算器当您关闭表单时，监视器应用程序将关闭所有计算器，然后自行完成

# windows - 在命令行上将变量传递给 puppet

> ID：15901850
> 
> 赞同：10
> 
> 时间：2013-04-09T12:25:49.033
> 
> 标签：windows, teamcity, puppet

我试图让 TeamCity 在 Windows 上使用 puppet.bat 通过命令行触发 puppet 部署。

在 Teamcity 中，我使用命令行运行程序调用它，命令可执行文件：C:\Program Files (x86)\Puppet Labs\Puppet\bin\puppet.bat 命令参数：apply myexample.pp

我想做的也是从 TeamCity 传递内部版本号，以便我可以在 myexample.pp 中使用它

这可能吗？

更新：用于自定义事实的代码是下面接受的答案。

```
require 'open-uri'

$uri = URI.parse("http://teamcity/guestAuth/app/rest/buildTypes/id:    <BUILDID>/builds/status:SUCCESS/number")
$version = $uri.read

Facter.add("latestbuildversion") do
  setcode do    
    $version
  end
end 
```

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-04-09T19:29:43.520

要通过命令行传递一个值，它需要是一个环境变量，前缀为 FACTER_。

所以，FACTER_foo 会变成 $::foo。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-04-09T17:15:20.923

我认为您希望通过[本次对话解决的](https://serverfault.com/questions/127466/how-do-i-access-an-environment-variable-in-a-puppet-manifest)[自定义事实](http://docs.puppetlabs.com/guides/custom_facts.html)来执行此操作。

# ios - 在控制台上收到内存警告

> ID：15901855
> 
> 赞同：0
> 
> 时间：2013-04-09T12:26:03.973
> 
> 标签：ios

在控制台上显示接收内存警告后，我的应用程序崩溃。

在网上冲浪时，我找到了消除内存泄漏的解决方案，但我无法消除内存泄漏。

这是显示泄漏的屏幕截图，有一些百分比。

[![在此处输入图像描述](https://i.stack.imgur.com/0zmTC.png)](https://i.stack.imgur.com/0zmTC.png)

如何解决这些泄漏？

**注意**：我在单例类中创建了这个方法。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-11-08T06:58:54.703

由于这个问题很老，希望用户必须得到解决方案。但我想为此写下答案以帮助其他用户。这种情况出现在这些情况下：-

1）您正在使用大量内存并且可用内存很低。

2）不释放未使用的数据。

您必须检查这些泄漏：-

1）使用仪器检查内存泄漏及其泄漏位置（给遇到内存问题的人的建议）。

2）通过查看您的代码，当您在单例类中分配数组时，它似乎是内存泄漏。

3）不释放数组。

请查看这些链接以更好地了解分配。 [https://stackoverflow.com/a/3637159/1865424](https://stackoverflow.com/a/3637159/1865424)

[https://stackoverflow.com/a/3898015/1865424](https://stackoverflow.com/a/3898015/1865424)

# python - docopt 位置参数不起作用

> ID：15901857
> 
> 赞同：2
> 
> 时间：2013-04-09T12:26:17.043
> 
> 标签：python, docopt

当遵循 docopt README 时，我希望以下文件产生一些有效的输出：

```
#!/usr/bin/env python
"""Example file.

Usage:

  test_docopt.py test
  test_docopt.py (-h | --help)
  test_docopt.py --version

Options:
  -h --help                       Show this screen
  --version                       Show version.

"""

import pkg_resources
pkg_resources.require("docopt==0.6.1")
from docopt import docopt

if __name__ == '__main__':
    args = docopt(__doc__, version="Extend limb profiles 0.1")
    print(args) 
```

但是，当我打电话时`test_docopt.py`，我只会得到一个无意义/空的*Usage*语句：

```
$ python test_docopt.py test
Usage: 
```

我的两个问题是：

*   为什么 docopt 显然无法识别*test*命令？
*   为什么*使用*模式没有填充实际的使用模式？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-09T17:16:33.280

您需要删除`Usage:`与用法本身之间的空行。来自[README.rst](https://github.com/docopt/docopt#usage-pattern-format)

> 使用模式是 doc 的一个子字符串，它以 usage: 开头（不区分大小写）并以明显的空行结尾。

`Usage:`在您结束使用模式后立即放置一个空行。

# java - JavaFX。将多个带有图像的标签添加到窗格

> ID：15901860
> 
> 赞同：0
> 
> 时间：2013-04-09T12:26:31.313
> 
> 标签：java, javafx-2

我想在窗格中添加两个不同的带有图像的标签。我使用的代码是这样的：

```
import javafx.application.Application;
import javafx.scene.Scene;
import javafx.stage.Stage;

public class Controller extends Application {

    public static void main(String[] args) {
        launch(args);
    }

    public void start(Stage primaryStage) throws Exception {

        primaryStage.setTitle("Starting FX");
        primaryStage.setScene(new Scene(new Panel(), 590, 390));
        primaryStage.setResizable(false);
        primaryStage.centerOnScreen();
        primaryStage.show();

    }

}

import javafx.scene.control.Label;
import javafx.scene.image.Image;
import javafx.scene.image.ImageView;
import javafx.scene.layout.Pane;

public class Panel extends Pane {

    private ImageView image = new ImageView(new Image(getClass().getResourceAsStream("red.jpg")));

    private Label label1 = new Label();
    private Label label2 = new Label();

    public Panel() {

        label1.relocate(524, 280);
        label1.setGraphic(image);
        this.getChildren().add(label1);

        label2.relocate(250, 200);
        label2.setGraphic(image);
        this.getChildren().add(label2);

    }

} 
```

我的问题是它没有在屏幕上添加两个标签。

如果我有：

```
this.getChildren().add(label1);
this.getChildren().add(label2); 
```

它在屏幕上只显示标签 2，即使我 print(this.getchildren()) 它有两个标签。

如果我有其中之一，它会正常添加。

即使我两者都没有并执行

```
this.getChildren().addAll(label1, label2); 
```

它仍然只添加标签2。

这是为什么？

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-09T13:07:05.437

Both Labels are actually there but they can't both use the same ImageView in the scenegraph. If you add text to the Labels you should see them. You'll have to create two separate ImageView instances, one for each label. Try this.

```
public class Panel extends Pane
{
    Image labelImage = new Image(getClass().getResourceAsStream("red.jpg"));
    private Label label1 = new Label();
    private Label label2 = new Label();

    public Panel()
    {
        label1.relocate(524, 280);
        label1.setGraphic(new ImageView(labelImage));
        this.getChildren().add(label1);

        label2.relocate(250, 200);
        label2.setGraphic(new ImageView(labelImage));
        this.getChildren().add(label2);
    }
} 
```

Checkout this post for more info [Reusing same ImageView multiple times in the same scene on JavaFX](https://stackoverflow.com/questions/15175022/reusing-same-imageview-multiple-times-in-the-same-scene-on-javafx "Reusing same ImageView multiple times in the same scene on JavaFX")

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-09T13:01:47.630

这是因为 ImageView 是一个节点，它不能在 Scenegraph 中出现两次。添加第二个 ImageView 并将其添加到第二个标签。

`private ImageView image1 = new ImageView(new Image(getClass().getResourceAsStream("red.jpg")));`

# php - 为什么不“在对象构造函数中实例化一个新对象”？

> ID：15901861
> 
> 赞同：21
> 
> 时间：2013-04-09T12:26:33.780
> 
> 标签：php, oop

我回答了一个问题（[链接](https://stackoverflow.com/questions/15901091/applying-a-public-property-from-one-class-to-another-class/15901302#15901302)），我在另一个类的构造函数中使用了新对象的创建，这里是示例：

```
class Person {
  public $mother_language;

  function __construct(){ // just to initialize $mother_language
    $this->mother_language = new Language('English');
} 
```

我得到了用户“Matija”（[他的个人资料](https://stackoverflow.com/users/1806969/matija)）的评论，他写道：*你永远不应该在对象构造函数中实例化一个新对象，依赖关系应该从外部推送，所以任何使用这个类的人都知道这个类依赖什么！*

一般来说，我可以同意这一点，我理解他的观点。

但是，我以前经常这样做，例如：

*   作为私有属性，其他类为我提供了无需复制代码即可解决的功能，例如，我可以创建一个`ArrayAccess`对象列表（类实现接口），并且此类将用于另一个具有此类列表的类对象，
*   一些类使用例如`DateTime`对象，
*   如果我`include`（或自动加载）依赖类，一个应该没有错误的问题，
*   因为依赖对象可能非常大，将它们全部传递给类构造函数可能会很长而且不清楚，例如

    ```
    $color = new TColor('red'); // do we really need these lines?
    $vin_number = new TVinNumber('xxx');
    $production_date = new TDate(...);
    ...
    $my_car = new TCar($color, $vin_number, $production_date, ...............); 
    ```

*   因为我是在 Pascal 中“出生”的，然后在 Delphi 中，我从那里就有了一些习惯。在 Delphi（以及 FreePascal 作为其竞争对手）中，这种做法非常常见。例如，有一个`TStrings`类处理字符串数组，并存储它们，它不使用`array`s 而是另一个类，`TList`，它提供了一些有用的方法，而`TStrings`只是某种接口。该`TList`对象是私有声明的，除了`TStrings`.

*   （不重要，但出于某种原因）通常我是使用我的课程的人。

请解释一下，避免在构造函数中创建对象真的很重要吗？

我已经阅读[了这个讨论](https://stackoverflow.com/questions/5210804/should-i-instantiate-other-classes-in-a-constructor)，但仍然不清楚。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-04-09T12:39:45.597

是的，确实如此。然后，您就清楚了构建对象需要什么。传入的大量依赖对象是一种代码异味，可能您的类做得太多，应该分解成多个较小的类。

如果你想测试你的代码，传入依赖对象的主要优势就来了。在您的示例中，我不能使用假语言类。我必须使用实际的类来测试 Person。我现在无法控制 Language 的行为以确保 Person 正常工作。

这篇文章有助于解释为什么这是一件坏事以及它导致的潜在问题。[http://misko.hevery.com/code-reviewers-guide/flaw-constructor-does-real-work/](http://misko.hevery.com/code-reviewers-guide/flaw-constructor-does-real-work/)

***更新***

抛开测试不谈，传入依赖对象也会使你的代码更加明确、灵活和可扩展。引用我链接到的博客文章：

> 当协作者构造与初始化混合时，它表明只有一种配置类的方法，它关闭了可能可用的重用机会。

在您的示例中，您只能创建以“英语”为语言的人。但是当你想创造一个说“法语”的人时呢？我无法定义。

至于创建对象并将它们传入，这就是`Factory`模式[http://www.oodesign.com/factory-pattern.html](http://www.oodesign.com/factory-pattern.html)的全部目的。它将创建依赖项并为您注入它们。因此，您可以向它询问将以您想要的方式初始化的对象。Person 对象不必决定它需要是什么。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-04-09T12:32:52.737

原来的评论对我来说似乎很愚蠢。

没有理由害怕*管理资源的类*。事实上，类提供的封装**非常适合**这项任务。

如果你限制自己只从外部推入资源，那么什么来管理这些资源？意大利面条程序代码？哎呀！

尽量避免相信您在互联网上阅读的所有内容。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-04-09T12:42:05.607

这更像是一个可测试性问题而不是正确/错误的事情，如果您在构造函数上创建一个对象，您将永远无法独立测试您的类。

如果您的类需要对构造函数进行大量注入，则始终可以使用工厂方法来注入这些对象。

这样，您将可以自由地模拟任何注入的对象来真正测试您自己的类。

```
<?php

class Person {
  public $mother_language;

  // We ask for a known interface we don't mind the implementation
  function __construct(Language_Interface $mother_language) 
  {
    $this->mother_language = $mother_language
  }

  static function factory()
  {
    return new Person(new Language('English'));
  }
}

$person = Person::factory();
$person = new Person(new Language('Spanish'); // Here you are free to inject your mocked object implementing the Language_Interface 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2013-04-09T12:36:23.083

我认为这取决于情况。例如，如果您查看 Doctrine 2，建议您始终将您的值设置为 null 并在构造函数中设置您的值。这是因为当从数据库中检索到类时，Doctrine 2 会跳过实例化类。

在其中实例化一个新的 DateTime 或 ArrayCollection 是完全可以接受的，您甚至可以添加默认的关系对象。我个人喜欢注入你的依赖，让你的代码很容易测试和修改，但有些事情在你的构造函数中实例化更有意义。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2013-04-09T13:15:47.500

这些答案中的大多数似乎都是合理的。但我总是做你该做的。如果我正在测试它，那么我要么有一个设置器，要么只是将它设置为某个东西（看到你的“mother_language”是公开的）。

但我个人认为这取决于你在做什么。从我看到的其他人发布的代码来看，如果您的类实例化对象，则构造函数应始终采用一些参数。

如果我想创建一个实例化另一个对象的对象，而该内部对象实例化另一个对象，依此类推怎么办？看来我手上会有很多东西。

对我来说，这句话似乎是在说，“不要使用 camelCase，使用 under_score”。我认为你应该以任何适合你的方式去做。毕竟，您确实有自己的测试方式，不是吗？

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2015-10-14T18:28:28.557

如果您想设置默认值，但要提高灵活性/可测试性，为什么不这样做呢？

```
class Person
{
    protected $mother_language;

    function __construct(Language $language = null)
    {
         $this->mother_language = $language ?: new Language('English');
    }
} 
```

有些人可能仍然不喜欢它，但它*是*一种改进。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2020-05-01T20:45:17.800

在构造函数中构造新对象并没有错。这两种方法都有优点。通过构造函数参数接收所有构造函数依赖项确实使您的类更加灵活，并且这种灵活性在为您的类编写自动化测试时尤其有用。但这也产生了一层间接性。这也使得类在一般用例中使用起来不太方便，因为要考虑更多的构造函数参数。这也使得准确地知道类的行为变得更加困难，因为您不确切知道将传递什么。它使类变得不那么简单。

通过参数获取所有构造函数依赖项是使用称为“控制反转”的一种方式。我同意熟悉这项技术并能够使用它很重要，但推广从根本上说是优越的，但恰恰相反。控制反转是邪恶的，但有时它是必要的邪恶。有人会说这总是必要的。我不同意这一点，但即使我同意，我会说这意味着它始终是必要的邪恶。控制反转使您的代码以上述方式变得不那么简单。当人们争论支持控制反转时，他们真正想说的是，“使用代码是不好的”。我并不是说人们是故意这么说的，因为如果他们这样做了，他们可能不会宣传它。一世' 我说这些概念以不明显的方式在说同样的事情，希望通过意识到他们在说这个，有些人会重新考虑它。我在我的文章中概述了这种说法的原因[“使用代码是不好的”](https://medium.com/@jessedickey/using-code-is-bad-21208e45ae0e)。

# android - OnEditorActionListener 不工作

> ID：15901863
> 
> 赞同：13
> 
> 时间：2013-04-09T12:26:42.000
> 
> 标签：android, android-edittext

我只是想在用户在 editText 上按 enter 时捕捉事件。

我没有收到 Toast 消息，不是“按下 Enter”，也不是“按下了某个键！” 任何一个。

我做错了什么？

```
myEditText.setOnEditorActionListener(new OnEditorActionListener() {

    @Override
    public boolean onEditorAction(TextView v, int actionId, KeyEvent event) {

   Toast.makeText(getApplicationContext(), "Some key pressed!", Toast.LENGTH_LONG).show();

        if (event != null && (event.getKeyCode() == KeyEvent.KEYCODE_ENTER)) {
             Toast.makeText(getApplicationContext(), "Enter pressed", Toast.LENGTH_LONG).show();
                return true;
                }
                return false;
            }
        }); 
```

编辑 ：

**好吧，它适用于 Android 2.3.3 而不适用于 4.1.2** 有什么想法可以在任何 android 设备上运行吗？

* * *

## 回答 #1

> 赞同：29
> 
> 时间：2013-09-23T07:03:17.137

请尝试设置为`EditText`单行模式。

```
editText.setSingleLine(); 
```

或在您的 xml 布局文件中：

```
android:singleLine="true" 
```

**更新**

~~`android:singleLine="true"`~~已弃用。从现在开始，使用`android:maxLines="1"`with`android:inputType="text"`来实现这个行为

或者

```
editText.setMaxLines(1);
editText.setInputType(InputType.TYPE_CLASS_TEXT); 
```

用于以编程方式设置。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2016-01-11T05:52:27.457

`android:imeOptions="actionGo"`在 xml 中使用。`actionDone`不再回应`onEditorAction`。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2018-04-21T11:41:15.497

`android:inputType="text"`并`android:imeOptions="actionGo"`创造奇迹。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-04-09T12:41:28.477

```
myEditText.setOnEditorActionListener(new OnEditorActionListener() {

public boolean onEditorAction(TextView arg0, int arg1, KeyEvent arg2) {
    Toast.makeText(getApplicationContext(), "some key pressed", Toast.LENGTH_LONG)
                        .show();
    return false;
}
}); 
```

在我的编辑文本中输入某些内容后，此代码显示我按下回车键时按下的**一些键。**但我不知道你的代码有什么问题。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2016-01-20T12:01:25.837

对我来说，问题是我设置了 XML `android:inputType="textMultiline"`。当我删除`textMultiline`选项时，`EditorListener`开始工作。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2018-06-22T22:40:54.670

我不知道为什么 Atul Chatuverdi 的回答被否决了——经过大量浏览，这个最终对我产生了“奇迹”。

我确认 ActionDone 可能不起作用。它适用于我的三星，但由于某种原因不适用于 Fly S。该事件没有被触发。两者都是Android 7.1。我想知道这是否是谷歌键盘的错误......

我用来使它最终在所有设备上运行的代码是

```
<EditText   
     android:singleLine="true"
     android:inputType="textUri"
     android:maxLines="1"
     android:imeOptions="actionGo"          
     ...
     android:id="@+id/et_path"
     android:layout_width="match_parent"
     android:layout_height="wrap_content"
    /> 
```

（您可以使用 text 代替 textUri，具体取决于您的需要）。

在我的片段中：

```
editText = view.findViewById(R.id.et_path);
...
editText.setOnEditorActionListener(new onGo()); 
```

和嵌套类来处理动作。

```
private class onGo implements TextView.OnEditorActionListener {
   @Override
   public boolean onEditorAction(TextView textView, int i, KeyEvent keyEvent) {
    if (i == EditorInfo.IME_ACTION_GO) {

         // To do stuff
        return true;
    }
    return false;
   }
  } 
```

至于`if (event != null && (event.getKeyCode() == KeyEvent.KEYCODE_ENTER))`多行文本，我有同样的问题。它适用于三星键盘、黑客键盘，但不适用于谷歌键盘。

出于各种原因（例如粘贴带有输入符号的文本而不是按 Enter 按钮等），建议不要使用 textwatcher。

# c++ - 需要 C++ 静态方法

> ID：15901865
> 
> 赞同：0
> 
> 时间：2013-04-09T12:26:52.020
> 
> 标签：c++, static, constants, static-methods

我有一个方法`run()`成员`MyClass`。在编译时，我得到

```
 Error   3   error C2662: 'MyClass::run' : 
    cannot convert 'this' pointer from 'const MyClass' to 'MyClass&' 
```

ITOH，如果我把这个方法设为静态，我没有错误。方法调用发生在这里：

```
Errors MyClass::execute( const AbstractExecutionContext &ctx ) const
{
    Errors errs;

    Watch wat; wat.restart();
    {

        run() ;

    }

    return errs;
} 
```

这个方法的声明是

```
Errors execute(const AbstractExecutionContext &ctx) const; 
```

我希望我可以使这个方法不是静态的，因为如果它是静态的，则 run() 调用的方法也必须是静态的，并且不能访问非静态的数据成员（我必须丑陋地将它们作为参数传递给方法） .

编译错误的原因是什么，解决方案是什么？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-09T12:28:07.803

`run`一定`const`也是。或功能`execute`不应该`const`。

在您的执行功能`this`中是`const MyClass* const this`. 何时`run`不是`static`和不是`const`- 尝试调用对象`non-const`的函数`const`。如果`run`是静态的 - 一切正常，因为`static`函数没有`this`指针。

# java - 基于 Java 的适配器中的 HttpResponseException

> ID：15901868
> 
> 赞同：0
> 
> 时间：2013-04-09T12:27:00.110
> 
> 标签：java, javascript, https, httpresponse, ibm-mobilefirst

我正在尝试对 URL [https://jazz.net/](https://jazz.net/)进行发布请求。我收到以下错误。

> 调用 javascript 函数“addTwoIntegers”失败：未授权”
> 
> FWLSE0101E: 原因：org.apache.http.client.HttpResponseException：未经授权

这是我的java代码：

```
 HttpGet query = new HttpGet(projectAreaURI);
    HttpPost q= new HttpPost(projectAreaURI);
    HttpClient httpClient=new DefaultHttpClient();
    HttpUtils.setupLazySSLSupport(httpClient);
    q.addHeader("Accept","application/xml");

    q.addHeader("Accept-Encoding","gzip");
    q.addHeader("User-Agent","yes");
    q.addHeader("Content-Type","application/x-www-form-urlencoded");
    String postMessage="offlineData={'projectAreaItemId':'_iTuLUmxfEeKR3t32SVbLKQ','executables':[{'terItemId':'_TNoyQW6qEeKR3t32SVbLKQ','scriptItemId':'_DF89AW6qEeKR3t32SVbLKQ'}]}";
    q.setEntity(new ByteArrayEntity(
            postMessage.toString().getBytes("UTF8")));

    query.addHeader("Accept", "application/xml");

    // Access to the Service Descriptor document
    HttpResponse response = HttpUtils.sendPostForSecureDocument(projectAreaURI, q, "ashwinimaddala", "ash_1646",httpClient);
    if (response.getStatusLine().getStatusCode() != 200) {
        response.getEntity().consumeContent();
        throw new     HttpResponseException(response.getStatusLine().getStatusCode(), response.getStatusLine().getReasonPhrase());
    }
    return response.getStatusLine().getStatusCode()+""; 
```

sendPostForSecureDocument():

```
 if (DEBUG)
        System.out.println(">> PUT(1) " + put.getURI());
    HttpResponse documentResponse = httpClient.execute(put);
    if (DEBUG) {
        System.out.println(">> Response Headers:");
        HttpUtils.printResponseHeaders(documentResponse);
    }
    System.out.println(documentResponse.getStatusLine().getStatusCode());

    if (documentResponse.getStatusLine().getStatusCode() == 200) {
        System.out.println(put.getURI());

        Header header = documentResponse.getFirstHeader(AUTHREQUIRED);
        if ((header != null) && ("authrequired".equals(header.getValue()))) {
            documentResponse.getEntity().consumeContent();
            HttpPost formPost = new HttpPost(serverURI
                    + "/j_security_check");
            List<NameValuePair> nvps = new ArrayList<NameValuePair>();
            nvps.add(new BasicNameValuePair("j_username", login));
            nvps.add(new BasicNameValuePair("j_password", password));
            formPost.setEntity(new UrlEncodedFormEntity(nvps, HTTP.UTF_8));
if (DEBUG)
                System.out.println(">> POST " + formPost.getURI());
            HttpResponse formResponse = httpClient.execute(formPost);
            if (DEBUG)
                HttpUtils.printResponseHeaders(formResponse);

            header = formResponse.getFirstHeader(AUTHREQUIRED);
            if ((header != null)
                    && ("authfailed".equals(header.getValue()))) {
                throw new InvalidCredentialsException(
                        "Authentication failed");
            } else {
                formResponse.getEntity().consumeContent();
                if (DEBUG)
                    System.out.println(">> PUT(2) " + put.getURI());
                try {
                    HttpPut put2 = (HttpPut) put.clone();
                    return httpClient.execute(put2);
                } catch (CloneNotSupportedException e) {
                    e.printStackTrace();
                }
            }
        }
    }
    return documentResponse; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-19T08:16:54.480

重新访问这个问题，在我看来这可能是这里报告的相同问题：[org.apache.http.conn.HttpHostConnectException: Connection to https://jazz.net denied](https://stackoverflow.com/questions/16056361/org-apache-http-conn-httphostconnectexception-connection-to-https-jazz-net-re)

基本上，jazz.net 需要使用端口 443。所以在您的 Java 代码中，就像在 Worklight 适配器中一样，确保您使用端口 443...

# php - 使用 enctype= multipart/form-data 和阿拉伯语

> ID：15901869
> 
> 赞同：0
> 
> 时间：2013-04-09T12:27:02.237
> 
> 标签：php, mysql

我正在尝试使用具有 textarea 并上传文件的表单，现在当用户编写阿拉伯语时，它会像这样保存到 mysql：

```
&#1576;&#1587;&#1610;&#1576;&#1610;&#1576;&#1610;& 
```

请注意，mysql 中字段的编码是 utf8-general-ci ，所以我认为问题在于使用 enctype= multipart/form-data ，那么您认为我应该怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2020-03-10T13:29:10.750

在将阿拉伯文本 (textarea) 插入数据库之前，将其从 charset "iso-8859-1" 转换为 charset "WINDOWS-1256" 或 charset "UTF-8" 取决于您使用的阿拉伯字符集

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T12:53:09.927

```
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"> 
```

并且表格的排序规则应该是 `utf8-general-ci`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-04-07T08:19:02.703

`enctype="multipart/form-data;charset=UTF-8"`而不是仅在您的表单中使用`enctype= multipart/form-data`，因此完整的表单代码示例是：

```
<form action="" method="POST" enctype="multipart/form-data;charset=UTF-8"> 
```

更新 - 还使用 utf8_decode() 将表单文本转换为普通的 ISO-8859-1 字符。

# iphone - 使 UItabbar 透明

> ID：15901870
> 
> 赞同：2
> 
> 时间：2013-04-09T12:27:02.663
> 
> 标签：iphone, uitabbarcontroller, uitabbar, uitabbaritem

所以我的标签栏中有两个标签栏项目，每个项目都有一个带圆角的图像，圆角位于它们相遇的位置，如图所示。我正在尝试将标签栏的背景图像设置为透明而不是您可以看到的黑色，但到目前为止，我一直遇到一些不想透明的视图。这是我目前正在使用的：

```
[[UIView appearanceWhenContainedIn:[UITabBar class], nil] setBackgroundColor:[UIColor colorWithPatternImage:[UIImage imageNamed:@"transparent"]]]; 
```

我也尝试了下一段代码，但没有成功。

```
[tabBar setBackgroundColor:[UIColor colorWithPatternImage:[UIImage imageNamed:@"transparent"]]];
for(UIView *v in tabBar.subviews)
{
    if(v.class == NSClassFromString(@"_UITabBarBackgroundView")||v.class == NSClassFromString(@"UITabBarButton"))
    {
        [v setBackgroundColor:[UIColor colorWithPatternImage:[UIImage imageNamed:@"transparent"]]];
    }
    for(UIView *vc in v.subviews)
    {
        [vc setBackgroundColor:[UIColor colorWithPatternImage:[UIImage imageNamed:@"transparent"]]];
    }
} 
```

有什么建议么？如何找到该视图并使其透明？

![标签栏也是](https://i.stack.imgur.com/vHVPZ.png) ![标签栏](https://i.stack.imgur.com/kmKGW.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-09T12:44:33.083

您可以为此实现一个类别，扩展`UITabBarController`如下：

**UITabBarController+TransparentBackground.h**

```
@interface UITabBarController (TransparentBackground) 
- (void) setBackgroundImage:(UIImage *)image;
@end 
```

**UITabBarController+TransparentBackground.m**

```
#import "UITabBarController+TransparentBackground.h"
@implementation UITabBarController (TransparentBackground)

- (void) setBackgroundImage:(UIImage *)image 
{
    UIImageView *imageView = [[UIImageView alloc] initWithFrame:CGRectMake(0,0,320,480)];
    imageView.backgroundColor = [UIColor colorWithPatternImage:image];
    [self.view addSubview:imageView];
    [self.view sendSubviewToBack:imageView];
    [self.view setOpaque:NO];
    [self.view setBackgroundColor:[UIColor clearColor]];
}

@end 
```

添加`#import "UITabBarController+TransparentBackground.h"`到您的`AppDelegate.m`文件中。

在 Your`AppDelegate.m`的`didFinishLaunchingWithOptions`方法中，添加以下两行（顶部）：

```
[tabBarController setBackgroundImage:[UIImage imageNamed:@"CustomTabBarBackground.png"]];
[tabBarController.view setNeedsDisplay]; 
```

希望你能按照所说的去做。

有关这方面的更多信息：[REFRENCE](https://gist.github.com/darkseed/1157542)

## 编辑

`AppDelegate.h`通过编写将属性添加到您的：

@property（非原子，保留）IBOutlet UITabBarController *tabBarController;

也做档案`@sythesize tabBarController;`。`AppDelegate.m`

并将其`IBOutlet property`与您对应`TabBarController`的 in连接`XIB`

# android - Seekbar 想保存进度

> ID：15901871
> 
> 赞同：0
> 
> 时间：2013-04-09T12:27:04.093
> 
> 标签：android

我正在使用搜索栏，我想保存用户在搜索栏中所做的更改，并且应该在下次他打开应用程序时显示。我的代码是

```
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
    start=-10;      //you need to give starting value of SeekBar 
    end=10;         //you need to give end value of SeekBar 
        start_pos=5;    //you need to give starting position value of SeekBar 

        start_position=(int) (((start_pos-start)/(end-start))*100); 
        discrete=start_pos; 
        SeekBar seek=(SeekBar) findViewById(R.id.seekBar1); 
        seek.setProgress(start_position); 
        seek.setOnSeekBarChangeListener(new OnSeekBarChangeListener(){ 

            public void onStopTrackingTouch(SeekBar seekBar) { 
                // TODO Auto-generated method stub 
                Toast.makeText(getBaseContext(), "discrete = "+String.valueOf(discrete), Toast.LENGTH_SHORT).show(); 
            } 
            public void onStartTrackingTouch(SeekBar seekBar) { 
                // TODO Auto-generated method stub 

            } 
            public void onProgressChanged(SeekBar seekBar, int progress,boolean fromUser) { 
                // TODO Auto-generated method stub 
                // To convert it as discrete value 
                float temp=progress; 
                float dis=end-start; 
                discrete=(start+((temp/100)*dis)); 

            } 
        }); 
    } 
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T12:44:49.897

检查这篇[文章](https://stackoverflow.com/a/3624358/1616443)- 并尝试了解如何优先保存数据。然后在你的活动中

```
@Override
protected void onPause() {
super.onPause();
 // save seekBarPgrogress to preference here.
}    

@Override
protected void onResume() {
super.onResume();
// load seekBarPgrogress from preference here.
// and call seek.setProgress(position);
} 
```

希望它的帮助

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T12:34:44.090

在 onPause 中将搜索栏进度保存到共享首选项，并在 onResume 中从共享首选项设置搜索栏进度

# ruby-on-rails - best_in_place 有更多 :activator

> ID：15901883
> 
> 赞同：0
> 
> 时间：2013-04-09T12:27:48.550
> 
> 标签：ruby-on-rails, best-in-place

我想构建一个视图，只需单击它就可以编辑所有列出的元素，但如果还有一个编辑按钮会很棒，它会激活输入字段。

没有 :activator 的点击事件是默认的，但是使用 activator 时，这个点击事件不起作用。我怎样才能打开更多的激活器？（在这种情况下，通过单击文本并单击按钮。）

我的代码：

```
%tr{id: "department_#{department.id}"}
  %td=best_in_place department, :name, type: :input, :activator => "#activator-#{department.id}"
  %td=link_to 'Edit', edit_department_path(department), id: "activator-#{department.id}", class: 'btn', remote: true
  %td=link_to 'Delete', department, method: :delete, class: 'btn', remote: true, data: { confirm: 'Are you sure?' } 
```

谢谢！

# matrix - smalltalk中的惰性列表s表达式矩阵

> ID：15901884
> 
> 赞同：1
> 
> 时间：2013-04-09T12:27:49.900
> 
> 标签：matrix, block, smalltalk, lazy-sequences, s-expression

所以我在 smalltalk 中创建了一个名为 LazyMatrix 的类。该类只有 1 个实例变量，不能是除 Object 之外的任何子类。LazyMatrix 的实例变量称为block，必须是back。我像这样初始化 LazyMatrix：

```
initialize
block:=[nil] 
```

将有一种设置值的方法

```
setRow:column:value: 
```

此方法将通过将新块设置为 [#(ij value).[nil]] 来重新定义块。每个后续调用都会将一个 3 的数组添加到块中，因此它的扩展类似于 [#(ij value).[#(ij value).[nil]]]，很像 s 表达式或“惰性列表”。

所以我需要访问这个块的头部（即 [#(ij value) ）以及这个块的尾部（即 [#(ij value).[nil]] ）。我如何在 smalltalk 中做到这一点？我知道在块上调用 value 将返回尾部......现在我需要返回头部。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-10T17:16:54.710

将数组添加到您的块不会让您到任何地方。考虑*行为*，而不是*数据结构*。

我猜您的老师确实为您提供了总体思路：给定一行和一列，回答相关值；否则请向“尾巴”寻求答案。

*从字面上*看，这就是您在 Smalltalk 中使用块闭包实现它的方式（其中“尾部”是先前设置的块）。在块内，放置执行测试和回答以及尾递归的代码。不要制作数据结构，尾部和头部只是对这种编码风格进行推理的隐喻。

我刚刚在 Squeak 中实现了你的 LazyMatrix，它只是几行代码。可爱的例子，确实。并且根本不涉及数组或集合。

**提示：**这个谜题的关键是意识到每次调用 setRow:column:value: 都可以创建一个新块，该块独立于之前创建的所有块。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T13:33:20.597

我认为你可以在这里有两种方式。第一个（我不推荐）是将您的 s 表达式建模为 lambda 演算中的列表。你基本上使用块作为函数，你就完成了。[在这里](http://safalra.com/science/lambda-calculus/tuples-and-lists/)，您可以喜欢使用 lambda 演算编写列表的解释。例如，在 Smalltalk 中你会写

```
empty = λfx.x 
```

作为

```
empty := [:f :x | x]. 
```

现在，走这条路基本上就是用 OO 语言编写函数式程序，而我不会这样做。如果您想对列表使用符号方法，那么您应该使用对象对其进行建模。有一个`EmptyList`类和一个`Cons`类（`Cons`将有一个`element`和一个`list`inst var），以便您通过执行以下操作创建一个列表：

```
listWithOne := Cons element: 1 list: EmptyList new. 
```

只需返回 inst var 值，即可在类中轻松编写`head`and方法。你也可以在类中定义和方法，这样现在和都是多态的。`tail``Cons``head``tail``EmptyList``EmptyList``Cons`

***补充***：好的，只是为了好玩，一个使用块和数组的实现，函数式：

```
| empty cons head tail test |
empty := [nil].
cons := [:i :j :value :old | [Array with:i with:j with:value with:old]].
head := [:list | list value ifNotNil: [:v | v copyFrom:1 to:3]].
tail := [:list | list value at: 4].

test := cons value: 1 value: 1 value: 'Hi' value: (cons value: 1 value: 2 value: 'Ho' value: empty).
"Print each one"
head value: test.
head value: (tail value: test).
head value: (tail value: (tail value: test)). 
```

高温高压

# templates - AngularJS - 在自定义指令中呈现模板之前格式化 ng-model

> ID：15901889
> 
> 赞同：11
> 
> 时间：2013-04-09T12:28:07.177
> 
> 标签：templates, model, angularjs, directive

我正在 Angular JS 中创建一个自定义指令。我想在模板呈现之前格式化 ng-model。

这是我到目前为止所拥有的：

应用程序.js

```
app.directive('editInPlace', function() {
    return {
        require: 'ngModel',
        restrict: 'E',
        scope: { ngModel: '=' },
        template: '<input type="text" ng-model="ngModel" my-date-picker disabled>'
    };
}); 
```

html

```
<edit-in-place ng-model="unformattedDate"></edit-in-place> 
```

我想在将 unformattedDate 值输入模板的 ngModel 之前对其进行格式化。像这样的东西：

```
template: '<input type="text" ng-model="formatDate(ngModel)" my-date-picker disabled>' 
```

但这给了我一个错误。这个怎么做？

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2013-04-09T12:44:40.693

`ngModel`公开其控制器[`ngModelController`API](http://docs.angularjs.org/api/ng.directive:ngModel.NgModelController)并为您提供这样做的方法。

在您的指令中，您可以添加[`$formatters`](http://docs.angularjs.org/api/ng.directive:ngModel.NgModelController#$formatters)完全按照您的需要[`$parsers`](http://docs.angularjs.org/api/ng.directive:ngModel.NgModelController#$parsers)执行的操作，并且执行相反的操作（在值进入模型之前解析值）。

你应该这样做：

```
app.directive('editInPlace', function($filter) {
  var dateFilter = $filter('dateFormat');

  return {
    require: 'ngModel',
    restrict: 'E',
    scope: { ngModel: '=' },
    link: function(scope, element, attr, ngModelController) {
      ngModelController.$formatters.unshift(function(valueFromModel) {
        // what you return here will be passed to the text field
        return dateFilter(valueFromModel);
      });

      ngModelController.$parsers.push(function(valueFromInput) {
        // put the inverse logic, to transform formatted data into model data
        // what you return here, will be stored in the $scope
        return ...;
      });
    },
    template: '<input type="text" ng-model="ngModel" my-date-picker disabled>'
  };
}); 
```

# android - 使用 android 媒体播放器播放 m3u8 音频文件

> ID：15901891
> 
> 赞同：3
> 
> 时间：2013-04-09T12:28:08.497
> 
> 标签：android, android-mediaplayer, playlist, m3u8

我正在为 android OS > 4.0（包括和发布 OS）开发一个 android 应用程序。我有一个示例 m3u8 文件，如下所示：

```
#EXTM3U
#EXT-X-TARGETDURATION:56
#EXT-X-MEDIA-SEQUENCE:0
#EXTINF:28, no desc
ulr/audio/file.mp3
#EXTINF:28, no desc
ulr/audio/file.mp3
#EXT-X-ENDLIST 
```

我正在尝试使用以下代码播放该文件

```
 mMediaPlayer = new MediaPlayer();
        mMediaPlayer.setOnErrorListener(this);
        mMediaPlayer.setOnPreparedListener(this);
        mMediaPlayer.setOnCompletionListener(this);
        mMediaPlayer.setAudioStreamType(AudioManager.STREAM_MUSIC);
        try
        {
            mMediaPlayer.setDataSource(uri);
        } catch (IllegalArgumentException e)
        {
            e.printStackTrace();
        } catch (SecurityException e)
        {
            e.printStackTrace();
        } catch (IllegalStateException e)
        {
            e.printStackTrace();
        } catch (IOException e)
        {
            e.printStackTrace();
        }
        mMediaPlayer.prepareAsync(); 
```

我的`onPrepared()`方法如下：

```
public void onPrepared(MediaPlayer player)
    {
        player.start();
    } 
```

但是代码首先出现`onPrepared()`，然后立即转到`onError()`，`what=1`和`extra=-1010`。

我知道这个问题已经被问过很多次了（例如[这里](https://stackoverflow.com/questions/6198995/how-to-play-m3u8-on-android)、[这里](https://stackoverflow.com/questions/15507398/android-mediaplayer-play-m3u8-only-audio-streamming)和[这里](https://stackoverflow.com/questions/11723812/mediaplayer-only-video-m3u8-httml-streams-work)），我也知道[Vitamio](http://vitamio.org/)，但我想找出我的实现有什么问题。我创建的 m3u8 文件有问题吗？我浏览了它的[文档](https://datatracker.ietf.org/doc/html/draft-pantos-http-live-streaming-01#section-3)，一切似乎都是正确的。

如果有人可以在这件事上有所启发，那将非常高兴。

-提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-09-09T21:06:54.390

错误代码 -1010 与[MEDIA_ERROR_UNSUPPORTED](http://developer.android.com/reference/android/media/MediaPlayer.html#MEDIA_ERROR_UNSUPPORTED)匹配，这意味着设备没有解码播放列表中的 MP3 文件所需的硬件或软件编解码器。

Vitamio 可以在这种情况下工作，因为它为媒体添加了软件解码。这比硬件解码速度慢，并且使用更多的电池。它还可以显着增加您的应用程序大小。

不过，这似乎很奇怪，因为 MP3 长期以来一直是Android 中[支持解码的媒体格式](http://developer.android.com/guide/appendix/media-formats.html)。

# c# - 在模型中实现默认值

> ID：15901892
> 
> 赞同：14
> 
> 时间：2013-04-09T12:28:09.427
> 
> 标签：c#, asp.net-mvc

在 C# MVC 应用程序中，我有一个模型 Customer，它可以从数据库中检索或创建为新的。

如果我正在创建一个新客户，那么设置默认值的正确方法是什么（例如 CusotmerLevel 默认为 1）？

我应该为新员工和从数据库中检索到的员工使用不同的构造函数，还是以其他方式？

* * *

## 回答 #1

> 赞同：37
> 
> 时间：2013-04-09T12:30:24.067

假设它是 POCO，我一直发现构造函数可以很好地建立默认值。我通常借此机会宣布诸如`CreatedDate`. 从数据库中检索它时，公共属性将被数据库值覆盖。

```
public class Customer
{
    public Int32 Id { get; set; }
    public Int32 CustomerLevel { get; set; }
    /* other properties */

    public Customer()
    {
        this.CustomerLevel = 1;
    }
} 
```

### 更新

而且，如果您使用的是 C# 6.0，请查看[auto-property initializers](https://docs.microsoft.com/en-us/dotnet/csharp/whats-new/csharp-6#auto-property-initializers)：

```
public class Customer
{
    public Int32 Id { get; set; } = 1;
    public Int32 CustomerLevel { get; set; }
    /* other properties */
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-09T12:30:44.910

**使用默认构造函数**，我尝试过的所有 ORM 在构造函数运行后设置值，因此它不应该干扰。

一种替代方法是：

```
 var customer = new Customer() { CustomerLevel=1 }; 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-09T12:30:57.813

您可以使用该`Factory`模式来创建新客户。这样您就可以让工厂负责设置正确的默认值。

如果不可用，我会在默认构造函数中设置它。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2014-06-11T22:58:21.130

在构造函数中很好，您也可以在构造函数中将默认值作为参数提供，如上所述。

但是，如果您使用可空值，我发现这对模型优先的数据库工作非常有帮助，您也可以使用它：

```
private int? workWeekInHours;

public int? WorkWeekInHours
{
    get { return workWeekInHours ?? 40; }
    set { workWeekInHours = value; }
} 
```

这应该始终给出数据库值，除非不存在数据库值。但是一旦新对象被持久化到数据库中，从那时起它应该在数据库中具有默认值。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-04-09T12:30:54.613

您应该有一个用于创建新视图的视图模型

所以你可以这样做：

```
public ActionResult Create()
{
     return View(new CustomerInput{ CustomerLevel = 1});
} 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-04-09T12:39:03.187

使用通用构造函数来创建新员工并检索现有员工。

对于默认值，使用可选参数。

[http://msdn.microsoft.com/en-us/library/dd264739.aspx](http://msdn.microsoft.com/en-us/library/dd264739.aspx)

# javascript - intro.js 中的 introjs-helperLayer 覆盖 targetElement

> ID：15901893
> 
> 赞同：0
> 
> 时间：2013-04-09T12:28:11.840
> 
> 标签：javascript, html, intro.js

[带有 introJs().start() 的绿色按钮；](http://www.etagi.com/search_on_map/)

Step By Step 功能有效，但 targetElement 不可用。

请帮忙！

对不起^我的英语=不好

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-13T03:36:10.260

使用 IntroJs 一切都很好，使用没有问题。

我只能说你应该**再次上传你的 css 文件**，现在你的 IntroJs CSS 文件似乎坏了。

# c# - 在 Visual Studio 2012 的 C# 项目中更改文件完整路径

> ID：15901894
> 
> 赞同：4
> 
> 时间：2013-04-09T12:28:17.413
> 
> 标签：c#, .net, visual-studio

在您看来，可以在 Visual Studio 2012 中更改 C# 项目中的文件完整路径？我问这个是因为在可视化中，包含完整路径的项目文件的属性框显示为禁用（灰色）。我会在不同的项目中使用相同的文件，在相同的解决方案下，没有重复的文件代码.cs。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-07-26T16:27:12.873

扩展@TheSolution的[答案](https://stackoverflow.com/a/15901993/1037948)：

1.  文件 > 新项目（或*解决方案 > 右键单击​​ > 添加新项目*）> 类库 - 将其命名为*“MyProject.Common”*
2.  将现有文件 ( `Shift+Alt+A`) 添加到项目 > 选择要共享的文件。或复制/粘贴
3.  删除原始项目中的旧文件，因为它们已被复制到共享项目中
4.  然后在要使用公用文件的项目中，*项目>添加参考*>从左侧面板的“解决方案>项目”下选择，选中“公用”项目并选择“确定”
5.  `using`在使用公共代码的代码文件顶部的部分中包含命名空间。

* * *

如果您正在谈论重命名 C# 项目*及其文件夹*，则必须在解决方案中重命名项目后在`.sln`和文件中手动执行此操作。`.csproj`例如）如果您想将“ME.MyProject”重命名为“ME.YourProject”：

1.  项目 > 属性（`ALT+ENTER`在解决方案资源管理器中的项目上）
2.  更改“程序集名称”和“默认命名空间”
3.  关闭VS（或卸载解决方案）
4.  重命名文件夹
5.  在文本编辑器中打开`.sln`文件并按照以下手动步骤操作
6.  打开`.csproj`引用此项目的所有其他项目的文件，并将引用从“MyProject”更改为“YourProject”。或者，在 VS 中删除并重新添加项目引用。

**`.sln`：**

*前：*

请注意，项目文件已重命名，但路径未重命名。

```
Project("{SOMEGUID}") = "ME.YourProject", "ME.MyProject\ME.YourProject.csproj", "{ANOTHERGUID}"
EndProject 
```

*后：*

```
Project("{SOMEGUID}") = "ME.YourProject", "ME.YourProject\ME.YourProject.csproj", "{ANOTHERGUID}"
EndProject 
```

**`.csproj`：**

*前：*

```
<ProjectReference Include="..\ME.MyProject\ME.YourProject.csproj">
  <Project>{ANOTHERGUID}</Project>
  <Name>ME.YourProject</Name>
</ProjectReference> 
```

*后：*

```
<ProjectReference Include="..\ME.YourProject\ME.YourProject.csproj">
  <Project>{ANOTHERGUID}</Project>
  <Name>ME.YourProject</Name>
</ProjectReference> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-09T12:32:08.743

如果您想共享代码文件，则可以将其添加为链接文件。您可以通过右键单击项目，选择添加现有项目，在打开文件对话框中找到项目，然后在选择它之前下拉打开按钮并选择链接选项来执行此操作。

现在，这会将代码文件链接到这个项目——或者换句话说——当它在一个地方发生变化时，它在两个地方都发生了变化。

但是，链接文件是提供共享功能的一种非常**老套**的方式。更合适的方法是构建具有该功能的类库并将 DLL 作为对项目的引用。这意味着您需要有一种方法来使该 DLL 保持最新 - 但它通常仍然更合适。

# android - 在android中一次setonclicklistener和setontouchlistener

> ID：15901902
> 
> 赞同：2
> 
> 时间：2013-04-09T12:28:38.803
> 
> 标签：android

我是 android 新手，并且要求 setonclicklistener 和 setonTouchlistener 同时工作。我在适配器端执行一些操作，我有 imageview.some 代码来理解

适配器类：

```
public class Taukygridview extends BaseAdapter{

holder.imageview.setOnClickListener(new OnClickListener() {

//some click operation here
});

holder.imageview.setonTouchListener(new MyTouchListener());

holder.imageview.setonTouchListener(new MyDragListener());

} 
```

这是 MyTouchListener 类的描述：

```
public class MyTouchListener implements OnTouchListener
{
    private Context mcontext;
    public static int view_position=0;
    public static View first_image_view;

@Override
    public boolean onTouch(View v, MotionEvent event) {
        // TODO Auto-generated method stub
//some touch operation here
}
} 
```

这是关于拖动操作的一些描述..

```
public class MyDragListener implements OnDragListener
{
@Override
    public boolean onDrag(View v, DragEvent event) {
// TODO Auto-generated method stub
   switch(v.getId):
{
  //some drag operation here

}
} 
```

因此，在运行应用程序时，只有触摸操作起作用，如果触摸操作返回 false，则只有单击操作起作用，但不能省略或包含任何操作（实际上我执行单击以进行选择并触摸以进行拖放操作） .所以任何人都可以建议我如何在不禁用上述任何操作的情况下完成所有操作。任何回复都会非常有帮助。谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-06-17T05:53:23.210

如您所见，`public boolean onTouch(View v, MotionEvent event)`返回一个布尔值

将其设置为 true ( `return true;`)，它将消耗事件，因此`OnClickListener`不会触发。

将其设置为 false ( `return false;`) 并释放屏幕将触发`OnClickListener`

顺便说一句，不会导致任何晦涩难懂的错误！！！！！！！！！！

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-09T12:49:22.407

当您处理触摸事件时，您实际上是在覆盖内置的手势检测（处理单击/长按/等）。虽然它*是*可行的，但我建议不要这样做，因为它有可能导致非常模糊的错误。

相反，将[GestureDetector](http://developer.android.com/reference/android/view/GestureDetector.html)与[SimpleGestureDetector](http://developer.android.com/reference/android/view/GestureDetector.SimpleOnGestureListener.html)一起使用并处理`onTapUpConfirmed`and `onScroll`。

# magento - Magento - 我在哪里可以更改简单的产品选项

> ID：15901904
> 
> 赞同：-1
> 
> 时间：2013-04-09T12:28:44.937
> 
> 标签：magento, options, product

在 Magento 中，我创建了一个带有 3 个自定义选项（选项按钮）的简单产品。我想用前端的超链接或图像替换选项按钮的文本。我在哪里可以这样做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T13:35:35.563

Magento 本身不支持该功能。为此，您必须创建主题覆盖或“自定义主题”（有很多关于如何执行此操作的教程），并扩展核心代码以支持自定义选项按钮。这是做到这一点的“正确”方式。

您可以尝试在 app/design/frontend/base/default/template/catalog/product/view/options 文件夹和子文件夹中寻找破解它的方法，但我不建议在生产中这样做。

# c++ - 如何显示“本地连接”属性对话框

> ID：15901907
> 
> 赞同：1
> 
> 时间：2013-04-09T12:29:03.890
> 
> 标签：c++, windows, visual-studio, networking, com

我应该从我的程序中显示“本地连接”属性对话框（它是具有两个选项卡网络和共享的对话框）。

我该怎么做？

现在我使用这个功能：

```
void ShowPropertiesDialog(INetConnection * pConn)
{ 
HRESULT hr = S_OK;
CLSID clsid;

CComPtr<INetCfg> pNetCfg;

if (SUCCEEDED(pConn->GetUiObjectClassId(&clsid)))
{
    CComPtr<IUnknown> pUnk;
    if(SUCCEEDED(pUnk.CoCreateInstance(clsid)))
    {
        CComPtr<INetConnectionPropertyUi> pNetConnectionPropertyUi;
        hr = pUnk->QueryInterface(IID_INetConnectionPropertyUi, (void**)&pNetConnectionPropertyUi);
        hr = pNetConnectionPropertyUi->SetConnection(pConn);

        hr = pNetCfg.CoCreateInstance(CLSID_CNetCfg);
        if (SUCCEEDED(hr))
        {
            CComPtr<INetCfgLock> pNetCfgLock;
            hr = pNetCfg->QueryInterface(IID_INetCfgLock, (void**)&pNetCfgLock);
            if (SUCCEEDED(hr))
            {
                hr = pNetCfgLock->AcquireWriteLock(15000, TEXT("MY CLIENT"), NULL);
                if (SUCCEEDED(hr))
                {
                    hr = pNetCfg->Initialize(NULL);
                    if (SUCCEEDED(hr))
                    {
                        CComPtr<INetCfgComponent> pTcpIp;
                        if (SUCCEEDED(pNetCfg->FindComponent(NETCFG_TRANS_CID_MS_TCPIP, &pTcpIp)))
                        {
                            hr = pTcpIp->RaisePropertyUi(GetConsoleWindow(), NCRP_SHOW_PROPERTY_UI, pNetConnectionPropertyUi);
                        }

                        pNetCfg->Uninitialize();
                    }

                    pNetCfgLock->ReleaseWriteLock();
                }
            }
            pNetCfg.Release();
        }
    }
}
} 
```

利用：

```
hr = pENConnection->Next(1, &pConn, &ulCount); 
....
hr = pConn->GetProperties(&pProps);
if (pProps->MediaType == NCM_LAN)
{
    ShowPropertiesDialog(pConn);
} 
```

但`RaisePropertyUi`总是返回`E_NOINTERFACE`:(

谢谢。

# python - 用于数据库目的的最合适的 .mat 文件转换

> ID：15901910
> 
> 赞同：1
> 
> 时间：2013-04-09T12:29:11.777
> 
> 标签：python, json, matlab, numpy, pickle

我正在尝试创建一个结构非常灵活的实验结果数据库（因为不同的实验需要不同的实验条件）。目前，我正在考虑使用 JSON 作为最合适的格式，因为它具有“类似字典”的性质。

我的原始数据文件以 Matlab 文件（.mat 扩展名）的形式出现，但我注意到转换后文件大小增加了近 10 倍。我尝试了不同的转换方法，但它们都给了我巨大的文件增加我想知道这是否是我选择的格式的固有问题，或者是否可以用它做任何事情。

这是我为测试转换效率而创建的示例代码和我运行的示例文件：

```
import numpy as np
import scipy.io as spio
import json
import pickle
import os

def json_dump(data):
    with open('json.txt.','w') as outfile:
        json.dump(data,outfile)
    print 'JSON file size: ', os.path.getsize('json.txt')/1000, ' kB'

def pickle_dump(data):
    with open('pickle.pkl','w') as outfile:
        pickle.dump(data,outfile)
    print 'Pickle file size: ', os.path.getsize('pickle.pkl')/1000, ' kB'

def numpy_dump(data):
    np.save('numpy.npy',data)
    print 'NPY file size: ', os.path.getsize('numpy.npy')/1000, ' kB'

    np.savetxt('numpy.txt',data)
    print 'Numpy text file size: ', os.path.getsize('numpy.txt')/1000, ' kB'

def get_data(path):
    data = spio.loadmat(path)
    del data['__function_workspace__']
    del data['__globals__']
    del data['__version__']
    del data['__header__']

    spio.savemat('mat.mat',data)
    print 'Converted mat file size: ', os.path.getsize('mat.mat')/1000, ' kB'

    #Convert into list
    data = data['data'][0][0][0]
    return data

path = 'myrecording.mat'
print 'Original file size: ', os.path.getsize(path)/1000, ' kB'
data = get_data(path)
json_dump(data.tolist())
pickle_dump(data.tolist())
numpy_dump(data) 
```

我得到以下输出：

```
Original file size:  706  kB
Converted mat file size:  4007  kB
JSON file size:  9104  kB
Pickle file size:  10542  kB
NPY file size:  4000  kB
Numpy text file size:  12550  kB 
```

我可以对编码做些什么来限制文件大小。理想情况下，我会坚持使用 JSON 格式，但我愿意接受建议。

提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T13:36:16.047

JSON 是纯文本，因此文件将比二进制格式更大。我还建议您使用 HDF5。

来自[http://www.hdfgroup.org/HDF5/](http://www.hdfgroup.org/HDF5/)：

“HDF5 是一种用于存储和管理数据的数据模型、库和文件格式。它支持无限多种数据类型，专为灵活高效的 I/O 以及大容量和复杂数据而设计。”

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-09T13:57:30.713

正如@Matti 所说，HDF5 很适合尝试，使用[pytables](http://www.pytables.org/)是实现它的一种简单方法。

不过，目前，至少通过使用`np.savez_compressed()`而不是比较 numpy `np.save()`。

# c# - 最佳实践 Windows Store 应用程序 WCF

> ID：15901926
> 
> 赞同：0
> 
> 时间：2013-04-09T12:29:34.093
> 
> 标签：c#, wcf, xaml, windows-8

在 Windows 应用商店应用程序中使用 WCF 服务引用的最佳方式是什么？

我已经花费了相当长的时间使用 ObservableProperties 制作 ObservableCollections，它与我的 WCF 服务中的 CompositeTypes 绑定，但是它已经变成了一种痛苦，并且在我的应用程序中的页面之间的导航中限制了我很多。

也许我走得太快了，应该阅读人们使用的一种我不知道的标准方法。我觉得我需要回到绘图板上。

# c# - 将类属性声明为小数

> ID：15901930
> 
> 赞同：0
> 
> 时间：2013-04-09T12:29:39.433
> 
> 标签：c#

```
 public class Invoice
    {
        public decimal Amount { get; set; }
    } 
```

我知道**M**是十进制值的后缀

```
 public class Invoices
    {
        public void IdentityTest()  
        {
            Invoice firstInvoice = new Invoice();  
            firstInvoice.Amount = 0.0M;
        }    
    } 
```

当您必须将 M 与您期望为十进制的值一起使用时，将类属性声明为十进制有什么意义？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-09T12:31:24.487

您需要告诉编译器文字的类型 - 推断它是不安全的，因为您可能想要使用文字的默认类型（`double`在这种情况下）。

如果两者之间存在隐式转换，这将起作用，但如果没有，则需要指定强制转换/转换。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T12:32:25.867

如果您不使用后缀`M`，则文字将被视为双精度。假设您不想要双精度，这可能会导致编译器错误。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-09T12:32:33.300

来自 MSDN：

> 如果没有后缀 m，则该数字被视为双精度数，从而产生编译器错误。

[http://msdn.microsoft.com/en-us/library/364x0z75(v=vs.80).aspx](http://msdn.microsoft.com/en-us/library/364x0z75(v=vs.80).aspx)

# internet-explorer - IE8：焦点（）错误：无法将焦点移动到控件，因为它是不可见的

> ID：15901933
> 
> 赞同：3
> 
> 时间：2013-04-09T12:29:50.850
> 
> 标签：internet-explorer

任何人都可以帮助我解决 IE 8 中的以下错误错误详细信息如下：

网页错误详情

用户代理：Mozilla/4.0（兼容；MSIE 8.0；Windows NT 6.1；WOW64；Trident/4.0；SLCC2；.NET CLR 2.0.50727；.NET CLR 3.5.30729；.NET CLR 3.0.30729；Media Center PC 6.0； CMDTDF；BRI/1) 时间戳：2013 年 4 月 9 日星期二 12:25:37 UTC

消息：无法将焦点移动到控件，因为它不可见、未启用或属于不接受焦点的类型。行：1013 字符：5 代码：0 URI：/views/js/online.js

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-09-09T04:28:25.147

这是一个合法的错误。

很难判断一个元素在 HTML 页面上是否可见。您基本上必须遍历 DOM 树检查元素或任何父元素是否具有“显示：无”的 css 属性。

你可以只用一个包装调用代码

```
try { 
  element.focus(); 
} 
catch (ex) { } 
```

或者，如果您使用 jQuery 之类的东西

```
if ($element.is(':visible')) {
   $element.focus();
} 
```

# php - 嵌套表单在 Mysql 数据库中不起作用

> ID：15901937
> 
> 赞同：0
> 
> 时间：2013-04-09T12:29:59.170
> 
> 标签：php, mysql, forms, nested

你好，真的感谢这个伟大的网站，好的，这是我有一个这样的数据库的想法：

```
CategoryID CategoryName ParentID
---------------------------------
1          FirstMenuCat1          NULL
2          FirstMenuCat2          NULL
3          SubMenuCat1            1
4          SubMenuCat2            1
5          SubMenuCat3            2 
```

我希望它显示 2 个菜单的想法是从菜单 1 中选择选项，然后启用第二个菜单以从中选择选项，但我希望菜单 2 显示具有相同 parentID 的选项

```
function get_tables(){
require_once ('mysqli_connect.php');

$queryCats ="SELECT *
                    FROM menus
                    WHERE ParentID = NULL
                    ORDER BY CategoryID;";
 $querySubCats ="SELECT *
                    FROM menus
                    WHERE ParentID = $selected
                    ORDER BY CategoryID;";

 }
 echo  $queryCats;
 echo '<select name="cat">';
 foreach ($queryCats as $key =>$value){
     echo "<option value=\"$key\">
     $value</option>\n";
 }
 echo '</select>';
 $selected = '</select>';

 echo '<select name="subcat">';
 foreach ($querySubCats as $key =>$value){
     echo "<option value=\"$key\">
     $value</option>\n";
 }
 echo '</select>';

 echo '<h1>Select a Category:</h1>
 <form method="post">';

 get_tables();
 echo '</form>';
 ?> 
```

好的，现在我试图让它出现，但我仍然需要帮助有什么想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T13:15:46.843

你需要把它分成两部分：

1.  获取并显示基本菜单的值
2.  when a value is selected load the appropriate secondary menu

v 类似的页面有很多示例。继续阅读`ajax`，`dynamic menus`你可能会找到你想要的。

如果你想通过 PHP 完成整个事情，那么它是类似的过程。更改您的函数标题以包含 $selection 参数。选择带有那个的菜单`ParentID`。通过使用 $selection = NULL 调用此页面/函数来启动该过程。

**编辑：**

```
change: 
  function get_tables(){  
    -to-  
  function get_tables( $selection ){ 
```

# ios - SQLITE奇怪的时间戳和IOS

> ID：15901939
> 
> 赞同：1
> 
> 时间：2013-04-09T12:30:09.897
> 
> 标签：ios, sqlite, unix, nsdate

我正在尝试在 IOS 中使用来自 Sqlite 的数据显示一个简单的表格视图。我的数据库日期存储为时间戳。我认为是一个 unix 时间戳，但如果我尝试使用`dateWithTimeIntervalSince1970`我真的很奇怪的结果。

存储的日期行示例：

```
1352208510267
1352208512266
1352208514266
1352208516266
1352208530266
1352208532265 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T12:37:29.263

使用这样的查询

```
SELECT datetime(timestamp, 'unixepoch') from YOURTABLENAME
WHERE id = someId; 
```

这应该将其转换为一些可读的值。

看看[这里](http://www.sqlite.org/lang_datefunc.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-09-30T03:21:02.763

[我在这里](http://www.remkoweijnen.nl/blog/2013/04/14/timestamp-column-in-ios-sqlite-database/)找到了答案。我将结果与之前的答案进行了比较：

```
SELECT strftime('%Y-%m-%d %H:%M:%S', datetime(ZDATE+978307200, 'unixepoch', 'localtime')), datetime(ZDATE, 'unixepoch', 'localtime') FROM ZTABLE 
```

带有苹果时代（2001 年 1 月 1 日）调整的查询给了我正确的日期：

```
"2015-09-29 20:50:51", "1984-09-28 20:50:51"
"2015-09-29 21:03:10", "1984-09-28 21:03:10"
"2015-09-29 21:25:30", "1984-09-28 21:25:30" 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-09T16:44:25.103

Unix 时间戳定义为自 1970 年 1 月 1 日以来的*秒数*。刚才，这大约是 1365525702。

您的值大一千倍，即它们以*毫秒为单位*。

确定您是否真的需要毫秒精度，然后在适当的位置添加`* 1000`或`/ 1000`。

# php - 根据上次日期的不同组合（mySQL/PHP）

> ID：15901941
> 
> 赞同：0
> 
> 时间：2013-04-09T12:30:16.350
> 
> 标签：php, mysql, sql, select, distinct

我有一个有四列的表：

```
id
date_added
variable1 (eg. a,b,c,d,e,f)
variable2 (eg. 1,2,3,4,5) 
```

我想要的是回显 variable1 和 variable2 的每个不同组合

但是，会有多个日期 (date_added) 具有相同的组合。我只想回显最后一个组合（根据日期）。回显的行可能有不同的日期。

有什么办法可以做到吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T12:38:05.967

尝试使用这个：

```
SELECT variable1,
       variable2
FROM
  (SELECT *
   FROM Table1
   ORDER BY date_added DESC) tmp
GROUP BY variable1,
         variable2; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-09T12:48:57.070

尝试这个

```
SELECT distinct(variable1)  variable1, (select distinct (variable2)) as variable2
FROM bmi_users
Order by date_added DESC 
```

我希望这会奏效

# search - 如何在 solr 的多值字段中添加不同的值

> ID：15901944
> 
> 赞同：9
> 
> 时间：2013-04-09T12:30:19.783
> 
> 标签：search, solr, lucene, multivalue, distinct-values

我有一个名为 category 的多值字段（这也是一个商店字段），我只需要在其中添加不同的值

`<field name="category">value1</field>`
`<field name="category">value2</field>`

如果我按以下方式进行更新
`<add>`
`<doc>`
`<field name="id">E02</field>`
`<field name="category" update="add">value2</field>`
`</doc>`
`</add>`

我将 value2 存储了两次
`<field name="category">value1</field>`
`<field name="category">value2</field>`
`<field name="category">value2</field>`

我只需要在作为多值字段的类别字段中存储/更新不同的值。如何做这个solr？

在此先感谢，贾加德什。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2018-08-02T13:28:13.470

Solr 7.3 添加了此功能。

您可以使用**add-distinct**原子更新操作，而不是**add**

请参阅[Jira 问题](https://issues.apache.org/jira/browse/SOLR-11267?attachmentOrder=desc)(SOLR-11267) 和[参考指南](https://lucene.apache.org/solr/guide/7_3/updating-parts-of-documents.html#atomic-updates)中的文档：

> **加区别**
> 
> 将指定的值添加到 multiValued 字段，仅当不存在时。可以指定为单个值，也可以指定为列表。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-09T12:40:30.770

可以“设置”而不是“添加”，以在部分文档更新中重新创建存储字段。因此，如果您拥有所有字段值，只需将它们粘贴在 a 中`Set`，然后重新填充该字段。由于需要，您拥有所有数据来重新创建它`stored field`。

# sql - NHibernate 如何将从多个表中提取的 SQL 查询转换为 QueryOver

> ID：15901946
> 
> 赞同：0
> 
> 时间：2013-04-09T12:30:25.990
> 
> 标签：sql, nhibernate, fluent-nhibernate

你好任何NHibernate天才，

一些帮助/指导将不胜感激，我有点卡住了！

我有以下 SQL 查询，我想将其转换为 QueryOver，但我不确定它是否可以完成？任何帮助将不胜感激。

**SQL：**

```
Insert Into #categoryAndItems
Select GlobalRateCategoryId,null,[Description],null, null,null, GlobalRateCategoryId, 2 From [GlobalRateCategory]

Insert Into #categoryAndItems
Select Id,Name, gr.[Description],un.[Description],null,gr.Formula,gr.GlobalRateCategoryId, 1  From dbo.[GlobalRateCategoryVariable] gr JOIN 
dbo.UnitOfMeasure un on gr.UnitOfMeasureId = un.UnitOfMeasureId
JOIN [GlobalRateCategory] grc on grc.GlobalRateCategoryId = gr.GlobalRateCategoryId

Insert Into #categoryAndItems
Select gr.GlobalResourceId,null, gr.[Description], um.[Description],    gr.Rate,grr.Formula, c.id, 0 From #categoryAndItems c JOIN 
GlobalRateResource grr on c.id = grr.GlobalRateCategoryId JOIN
GlobalResource gr on grr.GlobalResourceId = gr.GlobalResourceId JOIN 
UnitOfMeasure um on gr.UnitOfMeasureId = um.UnitOfMeasureId

Select * From #categoryAndItems
order by groupid,id
drop table #categoryAndItems 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T13:49:28.537

这不能转换为`QueryOver`，但是为什么不使用命名查询和 XML 嵌入资源，然后投影到 DTO 中呢？

```
var results = Session
  .GetNamedQuery("GetCategoriesAndItems")
  .SetResultTransformer(
    new AliasToBeanResultTransformer(typeof(CategoryAndItemsDto)));
return results.List<CategoryAndItemsDto>(); 
```

和你的 DTO：-

```
public class CategoryAndItemsDto{
  public virtual int Id { get; set; }
  public virtual string Description{ get; set; }
 ...
} 
```

这是嵌入的 XML 文件....

```
<?xml version="1.0" encoding="utf-8" ?>
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2">
  <sql-query name="GetCategoriesAndItems">
  Insert Into #categoryAndItems
  Select ...

  Insert Into #categoryAndItems
  Select ...

  Insert Into #categoryAndItems
  Select ...

  Select * From #categoryAndItems
  order by groupid,id

  drop table #categoryAndItems
  </sql-query>
</hibernate-mapping> 
```

确保您的 select * 返回的所有列名与 DTO 中的列完全匹配（记住它区分大小写）

最后一点拼图告诉流利你有一个 XML 文件：-

```
sessionFactory = Fluently.Configure()
.Mappings(m =>
{
   ...
   m.HbmMappings.AddFromAssemblyOf<SomeEntityMap>();
})
.BuildSessionFactory(); 
```

注意：`SomeEntityMap`是程序集中包含 XML 嵌入资源的类。

# if-statement - && 和 || 的层次结构

> ID：15901949
> 
> 赞同：0
> 
> 时间：2013-04-09T12:30:39.350
> 
> 标签：if-statement

假设我有这段代码（bool1、bool2 和 bool3 是布尔值[应该很明显））：

```
if (bool1 && bool2 || bool3) 
```

这个 if 语句何时为真？那么如果只有 bool3 为真而其他两个布尔值为假怎么办。所以我想知道它是否等于

```
if ((bool1 && bool2) || bool3) 
```

或者

```
if (bool1 && (bool2 || bool3)) 
```

我知道我可以简单地在其中放一些括号，但如果不是，我的代码会更短。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-09T12:31:53.250

您需要检查您的语言的运算符优先级表。对于 C++，它是：

[http://en.cppreference.com/w/cpp/language/operator_precedence](http://en.cppreference.com/w/cpp/language/operator_precedence)

```
13  &&   Logical AND
14  ||   Logical OR 
```

`bool1 && bool2 || bool3`是`(bool1 && bool2) || bool3`

这`if-statement`与评估布尔表达式无关。

# django - 根据站点更改 Django 中的“ROOT_URLCONF”

> ID：15901956
> 
> 赞同：0
> 
> 时间：2013-04-09T12:31:00.523
> 
> 标签：django, apache

我只需要一些建议将我指向正确的方向，将 Django 与多个站点/客户端一起使用。

基本上取决于域名，我想使用只有一个 Django 实例的多个站点。

例如目录结构。

```
mysite/
     manage.py
     settings.py
     client1/
          url.py
     client2/
          url.py 
```

所以我在想的是，在 settings.py 里面取决于域名我可以改变

```
ROOT_URLCONF = 'mysite.clientx.urls' 
```

该站点将匹配大约 95%，因此我看不到更改所有其他设置的意义。

我该怎么做？我确实在 Django 文档中进行了站点管理，尽管这对于我想要完成的任务来说似乎有点过头了。

另请记住，我将 Apache 与“django.wsgi”一起使用。

# r - 具有混合数据类型的自动数据框摘要

> ID：15901960
> 
> 赞同：0
> 
> 时间：2013-04-09T12:31:08.373
> 
> 标签：r, dataframe, summary

我正在尝试自动创建一个新的数据框，给定现有的数据框，该数据框包含数值变量的中位数或因子的最常见类别。所以：

```
Number Factor  
3      A
2      A
5      B 
```

应该变成

```
Number Factor  
3      A 
```

我可以单独为每个变量计算它。对于纯数值变量，我什至可以使用 colMeans 命令。对于纯因子变量，我会使用 which.max()。但我无法将两者结合成一个可扩展且灵活的解决方案

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-09T12:56:02.457

您可以使用`lapply`分支`if`：

```
y <- read.table(text = "Number Factor  
3      A
2      A
5      B", header = TRUE)

as.data.frame(lapply(y, function(x) {
if (is.numeric(x)) return (median(x))
else return(x[which.max(table(x))])
})) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-09T12:49:52.363

你可以测试这样的东西：

```
FUN <- function(x) {
  if (is.numeric(x)) 
     return(median(x))
  else 
     x <- sort(as.character(x))
  rl1 <- rle(x)
  rl1$val[which.max(rl1$le)]
  }

as.data.frame(lapply(tab, FUN))
aggregate(tab, by=list(gl(1,nrow(tab))), FUN=FUN)
# even easier
bob <- lapply(tab, function(x) if(is.numeric(x)) median(x) else x[median(as.numeric(x))])
as.data.frame(bob) 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-09T13:00:31.163

```
as.data.frame( lapply(dfrm, function(x) if(is.numeric(x)) {
                            median(x) } else {
                            names(sort( table(x) , decreasing=TRUE )[1])
                                             })
              ) 
```

# android - 在 Android 中将任意元数据写入 EXIF

> ID：15901971
> 
> 赞同：2
> 
> 时间：2013-04-09T12:31:33.043
> 
> 标签：android, metadata, exif

这个问题起源于这里：[Writing EXIF metadata to images in Android](https://stackoverflow.com/questions/3245811/writing-exif-metadata-to-images-in-android/3246501?noredirect=1#comment22637008_3246501)。

我们是否可以使用 EXIF 写入任意元数据，即除[ExifInterface 文档](http://developer.android.com/reference/android/media/ExifInterface.html)中指定的元数据（如纬度、经度、闪存等）。如果没有，将任意元数据写入图像文件的首选方法是什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-09T15:25:02.030

ExifInterface 只是 EXIF 标准的一个非常有限的实现，并且不允许您读取/写入除记录/定义的标签之外的标签。在[这篇文章](https://stackoverflow.com/questions/12944123/reading-android-jpeg-exif-metadata-from-picture-callback)的选择答案中，描述了一种替代方法。

可以将任意数据写入以下标签之一

```
Tag-hex     Tag-dec IFD     Key                             Type    
0x010e      270     Image   Exif.Image.ImageDescription     Ascii
0x9286      37510   Photo   Exif.Photo.UserComment          Comment 
```

其中 UserComment 对所使用的字符集的限制较少

# java - 为什么 System.out.println 必须在方法内？

> ID：15901973
> 
> 赞同：4
> 
> 时间：2013-04-09T12:31:33.140
> 
> 标签：java

```
class Employee {    
    int DOB;
    int eid;
    String name;
    double salary;
    System.out.println("Employee class");
} 
```

如果我在内部编写`System.out.println`一个方法，它似乎可以工作。但不是直接在类中编写时。为什么需要一种方法？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-09T12:33:05.193

它与执行的任何其他代码相同 - 它必须在方法内！（是的，对于纯粹主义者来说，我还包括构造函数和静态/实例初始化程序块。）考虑一下 - 如果它不在您建议的方法或其他相关代码块中，那么该代码何时会得到执行？这没有多大意义。您不能*执行一个类*本身，您只能执行该类中包含的特定方法/构造函数等。

在方法和构造函数声明之外唯一允许的是字段声明。由于`System.out.println()`不是字段声明，因此是不允许的。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-04-09T12:36:26.583

它需要位于要执行的可执行代码块内。否则无法知道何时执行它。

它不一定是一种方法。您可以使用其他块，例如`Static`块和`Instance`块。

例如，如果您希望在 ClassLoader 加载类时执行代码，则可以使用静态块：

```
public class MyClass{
    static{
        System.out.println("MyClass loaded");
    }
} 
```

如果您希望在创建该类的新实例时执行代码，您可以使用和实例块：

```
public class MyClass{
    {
        System.out.println("New instance of MyClass created");
    }
} 
```

重要的是，您可以根据需要拥有任意数量的这些块，并且它们可以出现在类主体的任何位置。运行时系统将保证它们按照它们在你的类中出现的顺序执行

**也可以看看：**

*   [http://docs.oracle.com/javase/tutorial/java/javaOO/initial.html](http://docs.oracle.com/javase/tutorial/java/javaOO/initial.html)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-09T12:34:03.523

当它在一个类内，但在任何方法之外，你不能调用它，你必须创建方法，例如 getData() 并调用

```
Employee e = new Employee().getData(); 
```

正确地写你的信息。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-04-09T12:36:03.217

这是另一种方式，称为初始化程序块。`"Employee class"`这将在您每次创建时打印`new Employee`

```
class Employee {

    int DOB;
    int eid;
    String name;
    double salary;
    {
        System.out.println("Employee class");   
    }

} 
```

关于你的问题

> 为什么*System.out.println*必须在方法内？

Java 编译器旨在限制此类调用。
这不仅`System.out.println`适用于您从类中调用的任何方法，而且适用于任何方法。
尝试调用`MySystem.myout.myprintln();`//remember 提前创建此类。
尝试调用您自己的类的方法。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-09T12:37:32.153

不要将 Java 类视为按顺序执行的东西，每一行都被读入。将类视为一种花哨的工具。喜欢

```
public class Bathtub {
    private int waterLevel;

    public void drain() {
        waterLevel = 0;
    }

    public void fill(int newWater) {
        waterLevel += newWater;
    }

    public void playWithDuckies() {
        System.out.println("Whee this is fun!!");
    }
} 
```

每种方法都是您可以使用浴缸做的事情。想想瑞士军刀，你有剪刀、刀、镊子和开瓶器。当你调用它时，每个都有一个目的。

如果你把`System.out.println()`这些工具之一放在外面，你不知道它什么时候会发生，什么会发生，或者它是什么工具的一部分。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-04-09T12:39:31.953

System 类包含几个有用的类字段和方法。它不能被实例化。

System 类提供的设施包括标准输入、标准输出和错误输出流；访问外部定义的属性和环境变量；一种加载文件和库的方法；以及一种用于快速复制数组的一部分的实用方法。

out 是标准输出流，println 是方法。

**你不能只在方法之外运行代码，除非它是一个变量/常量声明，一个类声明**

# tapestry - 如何在两页或更多页之间传输一些信息？

> ID：15901975
> 
> 赞同：0
> 
> 时间：2013-04-09T12:31:33.830
> 
> 标签：tapestry

我*目前正在学习如何使用 Tapestry 5.3.6，但我遇到了一个问题。我需要在 2 个页面之间共享信息，以便为假冒移动运营商的用户进行完整注册，但我不知道这样做的正确方法是什么，首先我认为 @Persist 可以做到这一点，但我意识到该注释保留特定页面的信息，并且不与其他页面共享...我认为@SessionStated 是答案，但我不确定：/

这是一个说明我需要的模式：

第一页：“个人信息”=> 第二页“信用卡信息”=> 第三页：“最终提交前的简历和政策接受”

我希望你能帮助我......非常感谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-09T13:23:06.520

您可以使用@SessionAttribute、@SessionState 和通过 Session 来执行此操作。

1.  会话属性：

    ```
    @SessionAtribute("myObject")
    private MyObject myObject; 
    ```

2.  会话范围的对象：

    ```
    @SessionState
    private MyObject myObject; 
    ```

3.  会话 API：

    ```
    @Inject
    private Request request;

    void someMethod() {
      final Session session = request.getSession(true);
      session.setAttribute("myObject", myObject);
    } 
    ```

更多信息[在这里](http://tapestry.apache.org/session-storage.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-09T13:40:00.223

我们可以使用此链接中解释的各种方法来做到这一点：http: [//jumpstart.doublenegative.com.au/jumpstart/examples/state/passingbypersist](http://jumpstart.doublenegative.com.au/jumpstart/examples/state/passingbypersist)

我们可以使用会话，或者使用@Persist，对于persist方法，我们需要实现一个公共方法来将参数传递给将要调用的下一页。

第二个解决方案是我正在寻找的解决方案。

# javascript - 使用元标记将页面缩放到 1.0

> ID：15901982
> 
> 赞同：21
> 
> 时间：2013-04-09T12:31:49.040
> 
> 标签：javascript, html, scale

当我从 HTML 页面启动 JS 应用程序时，我使用这两个函数来设置和重置比例值。

```
function setMeta(){
        alert("meta set");
        oldcontent=$('meta[name=viewport]').attr('content') //store the current value
        $('meta[name=viewport]').attr('content', 'width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, user-scalable=0');
}

function resetMeta(){
        alert("meta reset");
        $('meta[name=viewport]').attr('content', oldcontent);

} 
```

代码工作正常，除非 HTML 页面被缩放到更大的值，它不会像 setMeta 方法那样设置为 1.0。其他值如`user-scalable`工作正常。示例：在 HTML 页面中，我们可以缩放，但在应用程序中却不行。

这也不起作用：`document.body.style.zoom="100%";` 为什么将比例重置为 1.0 不起作用？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-17T22:47:18.550

This approach is unfortunately never going to work, because the variable that stores the content attribute of the viewport meta tag (in this case `defaultContent`) is always going to fetch the current value. The only way to make this work is to define `defaultContent` explicitly, as I have done with `customContent`.

### Firstly, let's see why the initial approach doesn't work:

Try this code on your `console` while visiting [Smashing Magazine](http://www.smashingmagazine.com):

```
defaultContent = jQuery('meta[name=viewport]').attr('content'); // store the current value in a global variable
console.log(defaultContent);

function setV(){
    // override the global variable value with a scoped variable
    var customContent = 'width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, user-scalable=0';
    jQuery('meta[name=viewport]').attr('content', customContent);
    console.log('Set viewport content to: ' + customContent);
}
function resetV(){
    jQuery('meta[name=viewport]').attr('content', defaultContent);
    console.log('Reset viewport content to: ' + defaultContent);
} 
```

Make sure you test `setV();` or `resetV();` directly on the console, by typing them and clicking `Run` again. As you can see, it won't work because `defaultContent` is set to fetch a dynamic value, that gets changed by the `setV()` function.

### To make it work

As I already mentioned, if you want it to work on your site, you could define a new variable with the `defaultContent` value (*default content attribute of the viewport meta tag*), so you have it properly stored from the start - like so:

```
defaultContent = 'width=device-width, initial-scale=1.0';
customContent = 'width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, user-scalable=0';

function setV(){
    jQuery('meta[name=viewport]').attr('content', customContent);
    console.log('Set viewport content to: ' + customContent);
}
function resetV(){
    jQuery('meta[name=viewport]').attr('content', defaultContent);
    console.log('Reset viewport content to: ' + defaultContent);
} 
```

Not that I changed `$` to `jQuery` to avoid conflict at Smashing Magazine.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-11T13:58:24.367

需要注意的一点，在重置视口标签时，一定要记得**覆盖**之前设置的视口属性。例如，如果您希望将视口标签设置为

```
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" /> 
```

在您的`resetMeta()`函数中，您需要将值设置回这样的值

```
<meta name="viewport" content="width=920, initial-scale=5.0, maximum-scale=5.0, user-scalable=yes" /> 
```

而不是这样的：

```
<meta name="viewport" content="initial-scale=5.0" /> 
```

记住不要错过任何宽度或比例。

您的示例的编辑版本：http: [//hosting.ambc.hostei.com/html/test.html](http://hosting.ambc.hostei.com/html/test.html)

# spring - querydsl 和 mongodb 出错：NoClassDefFoundError 谓词

> ID：15901986
> 
> 赞同：1
> 
> 时间：2013-04-09T12:31:54.537
> 
> 标签：spring, mongodb, spring-mvc, querydsl

我开始使用querydsl for mongodb，我在网上找到了一些示例并尝试使用它，我的pom.xml看起来像（可能版本中有一些错误......）：

...

```
<!-- Versions -->
    <properties>
        <spring.version>3.2.1.RELEASE</spring.version>
        <spring.data.jpa.version>1.2.0.RELEASE</spring.data.jpa.version>
        <spring.data.mongo.version>1.0.3.RELEASE</spring.data.mongo.version>
        <spring.amqp.version>1.0.0.RELEASE</spring.amqp.version>
        <slf4j-version>1.6.1</slf4j-version>
        <org.cloudfoundry-version>0.8.0</org.cloudfoundry-version>
        <querydsl.version>2.3.3</querydsl.version>
    </properties>

<dependencies>

    <!-- CloudFoundry -->
    <dependency>
        <groupId>org.cloudfoundry</groupId>
        <artifactId>cloudfoundry-runtime</artifactId>
        <version>${org.cloudfoundry-version}</version>
    </dependency>

    <!-- Spring Core -->
    <dependency>
        <groupId>org.springframework</groupId>
        <artifactId>spring-core</artifactId>
        <version>${spring.version}</version>
        <type>jar</type>
        <scope>compile</scope>
    </dependency>
    <dependency>
        <groupId>org.springframework</groupId>
        <artifactId>spring-web</artifactId>
        <version>${spring.version}</version>
        <type>jar</type>
        <scope>compile</scope>
    </dependency>
    <dependency>
        <groupId>org.springframework</groupId>
        <artifactId>spring-tx</artifactId>
        <version>${spring.version}</version>
        <type>jar</type>
        <scope>compile</scope>
    </dependency>
    <dependency>
        <groupId>org.springframework</groupId>
        <artifactId>spring-webmvc</artifactId>
        <version>${spring.version}</version>
        <type>jar</type>
        <scope>compile</scope>
    </dependency>

    <dependency>
        <groupId>org.springframework</groupId>
        <artifactId>spring-context</artifactId>
        <version>${spring.version}</version>
    </dependency>

    <dependency>
        <groupId>org.springframework</groupId>
        <artifactId>spring-aop</artifactId>
        <version>${spring.version}</version>
    </dependency>

    <dependency>
        <groupId>org.springframework</groupId>
        <artifactId>spring-jdbc</artifactId>
        <version>${spring.version}</version>
        <type>jar</type>
        <scope>compile</scope>
    </dependency>
    <dependency>
        <groupId>org.springframework</groupId>
        <artifactId>spring-oxm</artifactId>
        <version>${spring.version}</version>
        <type>jar</type>
        <scope>compile</scope>
    </dependency>

    <dependency>
        <groupId>org.aspectj</groupId>
        <artifactId>aspectjrt</artifactId>
        <version>1.6.10</version>
    </dependency>

    <dependency>
        <groupId>org.aspectj</groupId>
        <artifactId>aspectjweaver</artifactId>
        <version>1.6.10</version>
    </dependency>

    <!-- Cglib is a powerful, high performance and quality Code Generation
        Library, It is used to extend JAVA classes and implements interfaces at runtime. -->
    <dependency>
        <groupId>cglib</groupId>
        <artifactId>cglib-nodep</artifactId>
        <version>2.2</version>
        <type>jar</type>
        <scope>compile</scope>
    </dependency>

    <!-- Querydsl -->
    <dependency>
        <groupId>com.mysema.querydsl</groupId>
        <artifactId>querydsl-mongodb</artifactId>
        <version>${querydsl.version}</version>
        <optional>true</optional>
        <exclusions>
            <exclusion>
                <groupId>com.google.code.morphia</groupId>
                <artifactId>morphia</artifactId>
            </exclusion>
        </exclusions>
    </dependency>

    <dependency>
        <groupId>com.mysema.querydsl</groupId>
        <artifactId>querydsl-apt</artifactId>
        <version>${querydsl.version}</version>
        <scope>provided</scope>
    </dependency>

    <!-- Database pooling -->
    <dependency>
        <groupId>c3p0</groupId>
        <artifactId>c3p0</artifactId>
        <version>0.9.1.2</version>
        <type>jar</type>
        <scope>compile</scope>
    </dependency>

    <!-- Joda Time -->
    <dependency>
        <groupId>joda-time</groupId>
        <artifactId>joda-time</artifactId>
        <version>1.6.2</version>
    </dependency>

    <!-- Logger -->
    <dependency>
        <groupId>log4j</groupId>
        <artifactId>log4j</artifactId>
        <version>1.2.14</version>
        <type>jar</type>
        <scope>compile</scope>
    </dependency>

    <!-- apache commons -->
    <dependency>
        <groupId>commons-lang</groupId>
        <artifactId>commons-lang</artifactId>
        <version>2.6</version>
    </dependency>

    <dependency>
        <groupId>org.slf4j</groupId>
        <artifactId>slf4j-api</artifactId>
        <version>${slf4j-version}</version>
        <type>jar</type>
        <scope>compile</scope>
    </dependency>
    <dependency>
        <groupId>org.slf4j</groupId>
        <artifactId>slf4j-log4j12</artifactId>
        <version>${slf4j-version}</version>
        <type>jar</type>
        <scope>compile</scope>
    </dependency>
    <dependency>
        <groupId>org.slf4j</groupId>
        <artifactId>jcl-over-slf4j</artifactId>
        <version>${slf4j-version}</version>
        <type>jar</type>
        <scope>compile</scope>
    </dependency>

    <!-- Javax Servlet. This needs to be included for runtime only! -->
    <dependency>
        <groupId>javax.servlet</groupId>
        <artifactId>servlet-api</artifactId>
        <version>2.5</version>
        <scope>provided</scope>
    </dependency>

    <dependency>
        <groupId>javax.servlet</groupId>
        <artifactId>jstl</artifactId>
        <version>1.1.2</version>
    </dependency>
    <dependency>
        <groupId>taglibs</groupId>
        <artifactId>standard</artifactId>
        <version>1.1.2</version>
    </dependency>
    <dependency>
        <groupId>javax.servlet</groupId>
        <artifactId>jsp-api</artifactId>
        <version>2.0</version>
        <scope>provided</scope>
    </dependency>

    <!-- Data Mapper package is a high-performance data binding package built
        on Jackson JSON processor -->
    <dependency>
        <groupId>org.codehaus.jackson</groupId>
        <artifactId>jackson-mapper-asl</artifactId>
        <version>1.8.0</version>
        <type>jar</type>
        <scope>compile</scope>
    </dependency>

    <!-- Jackson is a high-performance JSON processor (parser, generator) -->
    <dependency>
        <groupId>org.codehaus.jackson</groupId>
        <artifactId>jackson-core-asl</artifactId>
        <version>1.8.0</version>
        <type>jar</type>
        <scope>compile</scope>
    </dependency>

    <!-- Hibernate and JPA -->
    <dependency>
        <groupId>org.hibernate.java-persistence</groupId>
        <artifactId>jpa-api</artifactId>
        <version>2.0-cr-1</version>
        <scope>compile</scope>
    </dependency>
    <dependency>
        <groupId>org.hibernate</groupId>
        <artifactId>hibernate-entitymanager</artifactId>
        <version>3.6.3.Final</version>
        <scope>compile</scope>
    </dependency>

    <!-- Hibernate Validator -->
    <dependency>
        <groupId>org.hibernate</groupId>
        <artifactId>hibernate-validator</artifactId>
        <version>4.1.0.Final</version>
    </dependency>
    <dependency>
        <groupId>javax.validation</groupId>
        <artifactId>validation-api</artifactId>
        <version>1.0.0.GA</version>
    </dependency>

    <!-- MySQL Connector -->
    <dependency>
        <groupId>mysql</groupId>
        <artifactId>mysql-connector-java</artifactId>
        <version>5.1.16</version>
        <type>jar</type>
        <scope>compile</scope>
    </dependency>

    <!-- MongoDB Java Driver -->
    <dependency>
        <groupId>org.mongodb</groupId>
        <artifactId>mongo-java-driver</artifactId>
        <version>2.7.1</version>
        <type>jar</type>
        <scope>compile</scope>
    </dependency>

    <!-- Spring Data JPA -->
    <dependency>
        <groupId>org.springframework.data</groupId>
        <artifactId>spring-data-jpa</artifactId>
        <version>${spring.data.jpa.version}</version>
    </dependency>

    <!-- Spring Data MongoDB -->
    <dependency>
        <groupId>org.springframework.data</groupId>
        <artifactId>spring-data-mongodb</artifactId>
        <version>${spring.data.mongo.version}</version>
    </dependency>

    <!-- Spring RabbitMQ -->
    <dependency>
        <groupId>org.springframework.amqp</groupId>
        <artifactId>spring-rabbit</artifactId>
        <version>${spring.amqp.version}</version>
    </dependency>

    <!-- Ehcache -->
    <dependency>
        <groupId>net.sf.ehcache</groupId>
        <artifactId>ehcache-core</artifactId>
        <version>2.4.5</version>
    </dependency> 
```

将 Web 应用程序部署到服务器后，我收到此错误：

```
Caused by: java.lang.NoClassDefFoundError: com/mysema/query/types/Predicate
at java.lang.Class.getDeclaredConstructors0(Native Method)
at java.lang.Class.privateGetDeclaredConstructors(Class.java:2413)
at java.lang.Class.getDeclaredConstructors(Class.java:1855)
at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:227)
at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:930)
at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:903)
at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:485)
at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)
at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:295)
at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:292)
at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)
at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:844)
at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:786)
at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:703)
at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:474)
... 25 more 
```

怎么了 ？

我的存储库是：

```
public interface IDomainRepository extends MongoRepository<Domain, String>{
} 
```

当我添加到它 QueryDslPredicateExecutor 像：

```
public interface IDomainRepository extends MongoRepository<Domain, String>,
    QueryDslPredicateExecutor<Domain>{
} 
```

这是错误->NoClassDefFoundError->谓词。

肿瘤坏死因子

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T12:43:39.750

Querydsl 依赖项在这里不是传递的。我建议从 querydsl-mongodb 中删除 optional=true。

Querydsl 版本似乎还可以，但很旧。

# audio - 音频编码/解码与格式转换的区别

> ID：15901988
> 
> 赞同：4
> 
> 时间：2013-04-09T12:31:57.687
> 
> 标签：audio, ffmpeg, core-audio

最近我一直在尝试通过 ffmpeg 将音频文件从一种格式转换为另一种格式。我试图做一些谷歌，但结果让我对编码和解码音频文件以及从一种格式转换为另一种格式之间的区别感到有点困惑。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-04-09T12:39:34.190

让我这样描述：视频文件有几种不同的*文件格式*（有时也称为“包装器”）。还有几种不同的*编解码器*可用于编码（或压缩）音频和视频。音频和视频使用不同的编解码器 - 编码格式可以存储在不同的文件类型/格式中。

因此，当您谈论“编码”与“转换”时，有几件事会发挥作用。

“编码”是获取音频/视频并将它们编码到给定编解码器中的行为。“转换”意味着拥有一种格式的东西，但想要另一种格式。有两种看待这种情况的方法：

1.  通常称为“重新打包” - 这是视频（例如）已正确编码的情况（例如 h264，带有一堆参数），但您希望它采用不同的文件类型 - 也许它是 .AVI 并且您想要它在.MP4 中。这不涉及更改实际视频 - 只需将 h264 流重新包装在新的“包装器”中，因此是一种快速操作。

2.  重新编码。假设您的音频是 MP3 格式，而您希望它是 AAC 格式。这需要解码整个 MP3 流，并将其重新编码为 AAC。

显然你也可以一起做“1”和“2”。

有关详细信息，请参阅[格式](https://www.ffmpeg.org/ffmpeg-formats.html)和[编解码器。](https://www.ffmpeg.org/ffmpeg-codecs.html)

希望能帮助到你！

# jquery - 在 mailto: body 我想输入一些带有输入字符的文本

> ID：15901990
> 
> 赞同：0
> 
> 时间：2013-04-09T12:31:59.597
> 
> 标签：jquery, jquery-mobile

我想创建一个带有预设正文内容的 mailto 链接，其中一些文本显示在新行上。它类似于下图。

目前我正在使用以下命令创建它，但正文文本与 br 标签放在一行中

```
<a href="mailto:sales@xyz.com&subject=Want to subscribe (Android)&body=Name: <br>Business: <br>Address: <br>Contact No.:"> 
```

你能帮我实现这个吗？

![带有输入字符的正文](https://i.stack.imgur.com/Te40U.gif)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-09T12:33:46.493

试试这段代码

```
body=Hello,%0D%0AI want your help! 
```

# android - 在 Android 中监控自启动以来的 wifi 状态变化

> ID：15901992
> 
> 赞同：0
> 
> 时间：2013-04-09T12:32:08.273
> 
> 标签：android, broadcastreceiver, android-wifi, wifimanager

我想在连接特定的 wifi 网络时*执行某些网络操作，这必须在没有用户输入的情况下自动完成，即使自启动时也是如此。*还有一个`Preference`告诉我这些操作是否自动执行。

据我了解，应用程序需要特殊权限`RECEIVE_BOOT_COMPLETED`才能在启动时执行某些操作（包括初始化应用程序本身），并且这些操作是通过`BroadcastReceiver`.

为了节省电池避免轮询wifi状态，我可以注册一个`BroadcastReceiver`并`ConnectivityManager.CONNECTIVITY_ACTION`查询wifi网络的名称。

是否可以在**没有应用程序启动**的情况下声明并触发`CONNECTIVITY_ACTION`侦听器或任何其他侦听器，就像使引导接收器无用一样？`AndroidManifest.xml`

 *** * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T12:39:48.580

`CONNECTIVITY_ACTION`AFAIK，您可以通过清单注册的接收器进行响应。有一些广播是您无法播放的（例如，`ACTION_BATTERY_CHANGED`）。这将消除您在启动时获得控制权的需要。

您可以[根据首选项启用和禁用该接收器](https://stackoverflow.com/questions/5624470/enable-and-disable-a-broadcast-receiver/5625179#5625179)，因此在不需要时您无法控制。**

# html - HTML 5 视频背景重复编辑：刷新

> ID：15901995
> 
> 赞同：0
> 
> 时间：2013-04-09T12:32:10.017
> 
> 标签：html, video, background

我使用视频作为我网站的背景，问题是每次`<a href="?page=XX">other page</a>`单击 a 时它都会自行刷新。

我在哪方面可以防止这种情况？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T12:36:26.773

这是我使用的那种视频背景插件：http: [//syddev.com/jquery.videoBG/](http://syddev.com/jquery.videoBG/)

到目前为止，我相信这是最好的选择。尝试给它一个机会，它会解决你的问题，因为插件可以防止这种情况发生。

如有其他疑问，请随时在评论中提问！

来自阿根廷的问候！

# android - 来自 GridView 的 Android 编程 ViewPager

> ID：15901996
> 
> 赞同：2
> 
> 时间：2013-04-09T12:32:11.400
> 
> 标签：android, android-viewpager, android-gridview

我是 android 编程的新手，我希望实现一个画廊，它有一个网格视图，然后推送到视图寻呼机，但我在让它工作时遇到了一些问题。我目前只使用静态图像适配器工作，但不确定如何更改它以使用视图寻呼机。我还希望能够将自己的标题添加到每个屏幕，但我不确定如何执行此操作，或者它是否必须是出现的图像名称？

我现在的代码是......

带有网格视图的 .xml

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="#3d3d3e" >

    <GridView
        android:id="@+id/gridview1"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:layout_above="@+id/phone"
        android:columnWidth="90dp"
        android:gravity="center"
        android:horizontalSpacing="10dp"
        android:numColumns="3"
        android:stretchMode="columnWidth"
        android:verticalSpacing="10dp" >
</GridView>
</RelativeLayout> 
```

网格视图.java

```
import android.app.Activity;
import android.content.Intent;
import android.os.Bundle;
import android.view.View;
import android.widget.AdapterView;
import android.widget.AdapterView.OnItemClickListener;
import android.widget.GridView;

public class Marble extends Activity{

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        // TODO Auto-generated method stub
        super.onCreate(savedInstanceState);
        setContentView(R.layout.marble);

GridView gridView = (GridView) findViewById(R.id.gridview1);

        // Instance of ImageAdapter Class
        gridView.setAdapter(new ImageAdapter1(this));

        /**
         * On Click event for Single Gridview Item
         * */
        gridView.setOnItemClickListener(new OnItemClickListener() {
            @Override
            public void onItemClick(AdapterView<?> parent, View v,
                    int position, long id) {

                // Sending image id to FullScreenActivity
                Intent i = new Intent(getApplicationContext(), FullImageActivity1.class);
                // passing array index
                i.putExtra("id", position);
                startActivity(i);
            }
        });

    }
} 
```

图像适配器 .java

```
import android.content.Context;
import android.view.View;
import android.view.ViewGroup;
import android.widget.BaseAdapter;
import android.widget.GridView;
import android.widget.ImageView;

public class ImageAdapter1 extends BaseAdapter {
    private Context mContext;

    // Keep all Images in array
    Integer[] mThumbIds = {
            R.drawable.arabescato, R.drawable.biancocarrara,
            R.drawable.botticinoclassico, R.drawable.calacattaoro,
            R.drawable.cremamarfil, R.drawable.cremavalencia,
            R.drawable.emperadordark, R.drawable.jurabeige,
            R.drawable.neromarquina, R.drawable.perlatoolympo,
            R.drawable.rojoalicante

    };

    // Constructor
    public ImageAdapter1(Context c){
        mContext = c;
    }

    @Override
    public int getCount() {
        return mThumbIds.length;
    }

    @Override
    public Object getItem(int position) {
        return mThumbIds[position];
    }

    @Override
    public long getItemId(int position) {
        return 0;
    }

    @Override
    public View getView(int position, View convertView, ViewGroup parent) {         
        ImageView imageView = new ImageView(mContext);
        imageView.setImageResource(mThumbIds[position]);
        imageView.setScaleType(ImageView.ScaleType.CENTER_CROP);
        imageView.setLayoutParams(new GridView.LayoutParams(265, 265));
        return imageView;
    }

} 
```

最后是图像活动 .java

```
import android.app.Activity;
import android.content.Intent;
import android.os.Bundle;
import android.widget.ImageView;

public class FullImageActivity1 extends Activity {

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.full_image);

        // get intent data
        Intent i = getIntent();

        // Selected image id
        int position = i.getExtras().getInt("id");
        ImageAdapter1 imageAdapter1 = new ImageAdapter1(this);

        ImageView imageView = (ImageView) findViewById(R.id.fullimage);
        imageView.setImageResource(imageAdapter1.mThumbIds[position]);
        imageView.setScaleType(ImageView.ScaleType.FIT_XY);
    }
} 
```

对此的所有帮助将不胜感激，因为我非常难过！

提前致谢！

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-09T16:15:11.103

在继续之前，请将`android.support.v4`jar 文件添加到您的项目中。

你需要两件事：`ViewPager`在你的布局中，以及一个扩展的适配器`PagerAdapter`

首先将您的`full_image.xml`布局更改为：

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical">

    <android.support.v4.view.ViewPager
        android:id="@+id/view_pager"
        android:layout_width="match_parent"
        android:layout_height="match_parent"/>

</LinearLayout> 
```

然后创建一个扩展的适配器`PagerAdapter`（需要`ViewPager`）

```
public class ImagePagerAdapter extends PagerAdapter {

    private List<ImageView> images;

    public ImagePagerAdapter(List<ImageView> images) {
        this.images = images;
    }

    @Override
    public Object instantiateItem(ViewGroup container, int position) {
        ImageView imageView = images.get(position);
        container.addView(imageView);
        return imageView;
    }

    @Override
    public void destroyItem(ViewGroup container, int position, Object object) {
        container.removeView(images.get(position));
    }

    @Override
    public int getCount() {
        return images.size();
    }

    @Override
    public boolean isViewFromObject(View view, Object o) {
        return view == o;
    }
} 
```

在你的`FullImageActivity1`课堂上：

```
public class FullImageActivity1 extends Activity {

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.full_image);

        // Loop through the ids to create a list of full screen image views
        ImageAdapter1 imageAdapter1 = new ImageAdapter1(this);
        List<ImageView> images = new ArrayList<ImageView>();

        for (int i = 0; i < imageAdapter1.getCount(); i++) {
            ImageView imageView = new ImageView(this);
            imageView.setImageResource(imageAdapter1.mThumbIds[i]);
            imageView.setScaleType(ImageView.ScaleType.FIT_XY);
            images.add(imageView);
        }

        // Finally create the adapter
        ImagePagerAdapter imagePagerAdapter = new ImagePagerAdapter(images);
        ViewPager viewPager = (ViewPager) findViewById(R.id.view_pager);
        viewPager.setAdapter(imagePagerAdapter);

        // Set the ViewPager to point to the selected image from the previous activity
        // Selected image id
        int position = getIntent().getExtras().getInt("id");
        viewPager.setCurrentItem(position);
    }
} 
```

总体思路是创建一个适配器，扩展`PagerAdapter`为向`ViewPager`. 有关更多信息，您可以访问[PagerAdapter 上的 Android 文档](http://developer.android.com/reference/android/support/v4/view/PagerAdapter.html)

# c# - C# 到达 webbrowser 中的单击按钮？

> ID：15901997
> 
> 赞同：0
> 
> 时间：2013-04-09T12:32:12.733
> 
> 标签：c#, winforms, event-handling, click, browser

我想单击 webbrowser 对象中的事件按钮。

按钮被点击 我想伸手去写代码？例如，登录按钮被点击网站上弹出的webbrowser 对象捕捉事件并想编写代码？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-09T14:35:46.890

我为你写了一个例子（如何获取事件点击按钮）：

```
private void Form1_Load(object sender, EventArgs e)
{
//Or navigate to your url                
webBrowser1.DocumentText = "<html><body><button id=\"btn1\" type=\"button\">Click Me!</button><button id=\"btn2\" type=\"button\">Click Me!</button></body></html>";
} 
```

**调用点击事件：（**页面加载时）

```
 private void webBrowser1_DocumentCompleted(object sender, WebBrowserDocumentCompletedEventArgs e)
    {

     webBrowser1.Document.Click += new HtmlElementEventHandler(Document_Click);
    } 
```

**当用户单击文档时获取活动元素**

```
 void Document_Click(object sender, HtmlElementEventArgs e)
        {
           //Check Element is Button 
           if (webBrowser1.Document.ActiveElement.TagName == "BUTTON")
           {
             if (webBrowser1.Document.ActiveElement.Id== "your button id")
             {
               //Do someting
             }
           }
        } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-09T13:14:41.740

如果我理解正确，您正在使用 C# WinForms 中的 WebBrowser 控件，并且您希望在单击按钮时触发一个事件。

该控件没有单击事件，但 Document 有。为此，您可以使用 WebBrowser.Document.Click 事件，然后循环遍历 HTML 元素以找到被单击的元素。

`web.Document.Click += new HtmlElementEventHandler(Document_Click);`

此链接也将有所帮助：[webbrowser-control-get-element-by-type](https://stackoverflow.com/questions/5603164/webbrowser-control-get-element-by-type)

# php - mod_rewrite 规则定义

> ID：15901998
> 
> 赞同：0
> 
> 时间：2013-04-09T12:32:13.527
> 
> 标签：php, regex, mod-rewrite

我的 .htaccess/mod_rewrite 有问题：

```
RewriteEngine on
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME} !-f
RewriteRule ^sometest/(.+)/page/([0-9]+)$ index.php?main=sometest/$1&page=$2
RewriteRule ^(.+)$ index.php?main=$1 [QSA] 
```

这不起作用。如果我访问我的网站，则不包含 css 文件。我将它们包括在内，例如“/assets/css/blabla.css”。

如果我只删除一个 RewriteRule （不管是哪一个），它就可以工作。但我需要两个规则。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T12:40:33.103

您必须为此使用跳过标志`skip|S=num`。

像 ：

```
RewriteEngine on
RewriteCond %{REQUEST_FILENAME} !-d  [NC,OR]
RewriteCond %{REQUEST_FILENAME} !-f  [NC]
RewriteCond %{REQUEST_URI} ^(.*)/([^/]+)\.([^/]+)$ 
RewriteRule ^ - [S=2,L]
RewriteRule ^sometest/(.+)/page/([0-9]+)$ index.php?main=sometest/$1&page=$2 [S=1,L]
RewriteRule ^(.+)$ index.php?main=$1 [QSA,L] 
```

有关更多信息，请参阅此页面[http://httpd.apache.org/docs/current/mod/mod_rewrite.html#rewriterule](http://httpd.apache.org/docs/current/mod/mod_rewrite.html#rewriterule)